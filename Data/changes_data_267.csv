id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Ftripleo-upgrade~master~I7660ae3d3fa4f1da54a6737bf3e8d0daa8191aa1,openstack/tripleo-upgrade,master,,I7660ae3d3fa4f1da54a6737bf3e8d0daa8191aa1,Remove GlanceRegistry service from roles_data.,MERGED,2020-01-29 21:28:40.000000000,2020-02-04 17:49:37.000000000,2020-02-04 17:49:37.000000000,6,0,0,704888,e0f51a2981b1184be3ceef24aac79d1095a8a5ed,8,7,1,1,26343,Jose Luis Franco,jfrancoa,"Remove GlanceRegistry service from roles_data.

GlanceRegistry templates where removed completely in Stein [0].
Therefore, there is no need to keep the service inside
any customized roles_data.

This patch parses the customized roles_data passed during
the upgrade prepare step and removes the GlanceRegistry service.

[0] - I548816e3f2d8b9deed8a6f0ba3e203f84ad3d9ca

Change-Id: I7660ae3d3fa4f1da54a6737bf3e8d0daa8191aa1
"
openstack%2Fopenstack-helm~master~Iadacd214de3fdb06e4acde4433c5fa86973371d5,openstack/openstack-helm,master,apparmor,Iadacd214de3fdb06e4acde4433c5fa86973371d5,Move apparmor to use feature gates,MERGED,2020-01-30 14:38:34.000000000,2020-02-04 17:37:12.000000000,2020-02-04 17:31:04.000000000,37,153,1,705031,a1fc694ae9c883ac02cb9bf53a81118288b4e058,28,5,10,9,21420,Gage Hugo,ghugo,"Move apparmor to use feature gates

This change refactors the apparmor job to utilize the feature
gates system instead of relying on separate scripts.

Also disabled barbican running in the apparmor job temporarily
until the correct profile gets used and it can deploy
succesfully.

Change-Id: Iadacd214de3fdb06e4acde4433c5fa86973371d5
"
openstack%2Fkeystone~master~I833e6e0d7792acf49f816050ad7a63e8ea4f702f,openstack/keystone,master,bug/1856904,I833e6e0d7792acf49f816050ad7a63e8ea4f702f,Always have username in CADF initiator,MERGED,2019-12-13 20:25:56.000000000,2020-02-04 17:05:02.000000000,2020-01-29 23:53:46.000000000,39,1,7,699013,95edaaab06c6da761411ef97bc2545d86d579215,35,6,8,3,21420,Gage Hugo,ghugo,"Always have username in CADF initiator

The current initiator object for CADF notifications does not include
the username of the user who initiated the action, which leads to
issues when using an LDAP backend and not having a direct way to
map a username to a user id.

This change makes it so that the initiator object for CADF
notifications always contains the username for a user as well
as the user id. This follows along with the CADF standard
for OpenStack[0].

[0] https://www.dmtf.org/sites/default/files/standards/documents/DSP2038_1.1.0.pdf#page=12

Closes-Bug: #1856904

Change-Id: I833e6e0d7792acf49f816050ad7a63e8ea4f702f
"
openstack%2Fcliff~master~Icb08c704cb5d0d8004d0a5408822c9d53ae9c728,openstack/cliff,master,drop-py27-support,Icb08c704cb5d0d8004d0a5408822c9d53ae9c728,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-04 07:44:41.000000000,2020-02-04 16:55:00.000000000,2020-02-04 16:49:02.000000000,17,58,0,705612,972410871009d44916a8857d6132dad8fbc96866,17,4,5,10,6547,Andreas Jaeger,jaegerandi,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Cleanup setup.cfg, conf.py, and tox.ini from cruft.

Change-Id: Icb08c704cb5d0d8004d0a5408822c9d53ae9c728
"
openstack%2Fneutron~master~Ib6ef58b5259ea4bf151e866f6244ff87b195b139,openstack/neutron,master,bug/1843478,Ib6ef58b5259ea4bf151e866f6244ff87b195b139,Reset timeout exception in DietTestCase when retrying,MERGED,2019-10-20 19:56:55.000000000,2020-02-04 16:51:12.000000000,2019-10-25 17:43:25.000000000,9,6,3,689658,4f59db2fab33e39f3d101885263e5f6483ad2b94,66,13,4,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Reset timeout exception in DietTestCase when retrying

In case of fixtures.TimeoutException, DietTestCase retries the
execution of the test case (introduced in [1]). But the timeout
fixture was not reset. This can lead to a general execution timeout
if a test do not exit in a proper time.

[1] If865c4683645f9bd11f5e1b528bade0547505bfd

Related-Bug: #1843478
Partial-Bug: #1848944
Change-Id: Ib6ef58b5259ea4bf151e866f6244ff87b195b139
"
openstack%2Fpython-manilaclient~master~Iabf76d8ac7ef886d736f3e30d466fe3f992287da,openstack/python-manilaclient,master,,Iabf76d8ac7ef886d736f3e30d466fe3f992287da,Put osc unit tests with all other unit tests,MERGED,2020-01-10 20:44:40.000000000,2020-02-04 16:44:41.000000000,2020-02-04 16:42:35.000000000,4,4,1,702038,6bccfc0d6eb24abe228f58767818d54d9717850b,26,6,5,7,6413,Victoria Martinez de la Cruz,vkmc,"Put osc unit tests with all other unit tests

Having osc in an upper level module meant that
all osc unit tests were not being run.

We had two options: either create a new job purely
for osc unit tests or put all tests on the same module.

The latter made more sense for simplicity reasons (KISS)

Change-Id: Iabf76d8ac7ef886d736f3e30d466fe3f992287da
"
openstack%2Frequirements~master~I1a2b6fdd02b621d6749b9d5f6f6b1906b7a6752e,openstack/requirements,master,oslo-concurrency-py2,I1a2b6fdd02b621d6749b9d5f6f6b1906b7a6752e,Cap oslo.concurrency version for Python 2,ABANDONED,2020-02-04 15:57:36.000000000,2020-02-04 16:32:57.000000000,,7,2,0,705720,a4cc5e42c17cc5aad42488d487c4aed8ac6d4cd5,3,0,2,2,23851,Riccardo Pittau,elfosardo,"Cap oslo.concurrency version for Python 2

From version 4.0.0 oslo.concurrency package supports Python 3 only.

Change-Id: I1a2b6fdd02b621d6749b9d5f6f6b1906b7a6752e
"
openstack%2Ftripleo-operator-ansible~master~I63373562690591e5084dae2c8e7b17b2c1de95a2,openstack/tripleo-operator-ansible,master,,I63373562690591e5084dae2c8e7b17b2c1de95a2,Remove leftovers from rename,ABANDONED,2020-02-04 15:01:53.000000000,2020-02-04 16:31:30.000000000,,0,13,0,705706,dd60aac7da556d56793597125f4f7d574fab26be,3,1,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Remove leftovers from rename

Change-Id: I63373562690591e5084dae2c8e7b17b2c1de95a2
"
openstack%2Fopenstack-ansible-ceph_client~stable%2Ftrain~I967fd6e20e18310b4599fa00d003d7424ed73ae5,openstack/openstack-ansible-ceph_client,stable/train,libvirt_package-stable/train,I967fd6e20e18310b4599fa00d003d7424ed73ae5,Install virsh for Centos,MERGED,2020-01-28 12:48:06.000000000,2020-02-04 16:25:56.000000000,2020-02-04 16:24:26.000000000,16,4,0,704556,fe8982030df398b800a1841219eff4c539053c23,8,3,1,5,28619,Dmitriy Rabotyagov,noonedeadpunk,"Install virsh for Centos

Virsh binary is not part of the package libvirt-daemon-kvm and it's not
installed by dependecy. So `libvirt_package` was converted to a list
and `libvirt-client` is installed additionally, which provides virsh.

Change-Id: I967fd6e20e18310b4599fa00d003d7424ed73ae5
(cherry picked from commit 3e03cd19193e882c219598cfc4636e92cddb5d4d)
"
openstack%2Fnetworking-powervm~stable%2Ftrain~Ic4d97db6c947264806e5ef9e35f21f764cbecf46,openstack/networking-powervm,stable/train,fix-networking-powervm-gate,Ic4d97db6c947264806e5ef9e35f21f764cbecf46,Adapt to new global neutron upper constraint and adjust hacking version,MERGED,2020-01-07 15:29:29.000000000,2020-02-04 15:47:40.000000000,2020-02-04 15:47:40.000000000,24,6,6,701387,cfa217e9b1c9a346b2e7165110e4195d773268f3,38,10,6,5,17685,Elod Illes,elod.illes,"Adapt to new global neutron upper constraint and adjust hacking version

This patch solves multiple problems to fix gate:

1. Neutron constrained the version of hacking < 1.2.0, but since then
   the unit tests fails with:

ERROR: Double requirement given: hacking<1.2.0,>=1.1.0 (from -ri https://opendev.org/openstack/neutron/raw/branch/master/test-requirements.txt (line 4)) (already in hacking>=1.1.0 (from -r [..]networking-powervm/test-requirements.txt (line 4)), name='hacking')

   So let's simply use the same constraint as set in neutron.

2. neutron was added to upper constraints in openstack/requirements
   stable branches (I8e95dc48b8ba2a7e16f1d34eb5ad0e87a3e96f4f), which
   causes failure due to conflict with tox targets installing neutron
   directly from git:

ERROR: Could not satisfy constraints for 'neutron': installation from path or url cannot be constrained to a version

   Most of the zuul templates used in the .zuul.yaml marks neutron as
   required project except lower-constraint job. Let's make that also
   install neutron. Also add neutron to requirements.txt.

Note(elod.illes): by removing editable git installation of neutron from
tox and adding it to requirements.txt involves that tests in Zuul will
run against latest stable state, but locally the test will run against
latest release from stable/* of neutron. So in short: they test
different things.

Change-Id: Ic4d97db6c947264806e5ef9e35f21f764cbecf46
(cherry picked from commit a00fc731b14bd3ef953fe4cffdc74c8e441c0e13)
"
openstack%2Fpuppet-openstack-integration~master~If41f2132d3974704a9ba355993119f9f88318b25,openstack/puppet-openstack-integration,master,,If41f2132d3974704a9ba355993119f9f88318b25,Install python3-cliff for Ubuntu tempest,ABANDONED,2020-02-04 11:07:00.000000000,2020-02-04 15:14:49.000000000,,3,0,0,705632,8f80c4df38d38600f4943de64e50067178700a28,3,1,1,1,16137,Tobias Urdin,tobasco,"Install python3-cliff for Ubuntu tempest

Is this a package bug that the tempest
package doesn't depend on cliff?

Change-Id: If41f2132d3974704a9ba355993119f9f88318b25
"
openstack%2Fopenstack-ansible-ops~master~Ie03688fe5e647db2374f62b13353ce36b32fcb96,openstack/openstack-ansible-ops,master,metricbeat_template,Ie03688fe5e647db2374f62b13353ce36b32fcb96,Module config updates in ELK 7x Metricbeat template,MERGED,2020-01-22 10:15:44.000000000,2020-02-04 15:07:39.000000000,2020-02-04 15:06:05.000000000,23,5,12,703754,9dffb8c18498562e1fe88e5ec0cc8f3e1dae6e42,44,4,9,4,31004,Duncan Martin Walker,duncan-martin-walker,"Module config updates in ELK 7x Metricbeat template

The template for metricbeat has been updated to allow modules to be
turned off from the ansible directly. This can prevent metricbeat from
regularly throwing errors for plugins that can't connect to the required
endpoints when the aren't configured.

Change-Id: Ie03688fe5e647db2374f62b13353ce36b32fcb96
"
openstack%2Ftripleo-operator-ansible~master~I61d7d4b104fb4dc895dc35b7a2460b92c6ab6e59,openstack/tripleo-operator-ansible,master,more-tests,I61d7d4b104fb4dc895dc35b7a2460b92c6ab6e59,Add none test case to shell_args_list,MERGED,2020-02-03 20:58:27.000000000,2020-02-04 15:06:32.000000000,2020-02-04 15:06:32.000000000,4,0,0,705554,32ecb4bccba383a048af777c91b2d52907033c4f,7,3,1,1,14985,Alex Schultz,mwhahaha,"Add none test case to shell_args_list

As an improvement in I40e6f1c2ed71ab57d6597c086554186e233d7b94 we added
support to just return '' if the variable is None. This covers this case
with a test.

Change-Id: I61d7d4b104fb4dc895dc35b7a2460b92c6ab6e59
"
openstack%2Ftripleo-upgrade~stable%2Frocky~I421ebecfc5504ac2fd225de0c4fb0cbf735bbdaf,openstack/tripleo-upgrade,stable/rocky,bug/1857120,I421ebecfc5504ac2fd225de0c4fb0cbf735bbdaf,Add new workarounds mechanism to apply workarounds via Ansible.,MERGED,2020-01-27 17:06:13.000000000,2020-02-04 15:01:48.000000000,2020-02-04 15:01:47.000000000,83,0,0,704361,98b285ede5dd7433d609bb933079df2c2460a881,10,3,2,1,8297,Sofer Athlan-Guyot,chem,"Add new workarounds mechanism to apply workarounds via Ansible.

The tripleo-upgrade has a workarounds logic which allows us to
apply patches or specific modifications prior and after some of
the upgrade steps. However, if these workarouds need to be applied
in the overcloud nodes, the only way to do it was via a bash script
which would iterate over the nodes and apply the patch or perform a
change on each of the nodes.

This patch adds a new workarounds field: ansible_hosts. When this
option will be present in the workaround and it will be different
than an empty string then the workaround will be aplied via Ansible in
the nodes specified in that ansible_hosts field. This ansible_hosts
option needs to be used in combination with the command one, as
the command will be transformed in a shell Ansible task which will
be executed in the nodes passed in the ansible_hosts option.

Example:
pre_overcloud_upgrade_prepare_workarounds:
- set_root_password:
    patch: false
    basedir: ''
    id: ''
    ansible_hosts: 'overcloud'
    command: |
        echo redhat | passwd root --stdin

will turn into a set_root_password.yaml Ansible playbook under
~/ansible_workarounds:

cat ~/ansible_workarounds/set_root_password.yaml
- hosts: overcloud
  tasks:
    - name: set_root_password workaround
      shell: |
        echo redhat | passwd root --stdin

When executing the workarounds, a new bash function ansible_patch
has been included which will take care of executing the generated
Ansible playbook.

Also, an optional input parameter could be passed to workarounds.sh,
when passed, it will be taken as input for the --limit option when
executing ansible-playbook. This way, we can execute a workaround
specifically in a server, instead of running it in all of them.

Change-Id: I421ebecfc5504ac2fd225de0c4fb0cbf735bbdaf
(cherry picked from commit e582d2f30473f714260c620d5c0d3807009aa797)
(cherry picked from commit b6bac90695acecb5206227836747c7ef4f7a0ce2)
"
openstack%2Fcinder~stable%2Frocky~I87457ff128cb86a5ff99444fcb163cc97113d6b0,openstack/cinder,stable/rocky,bug/1810270,I87457ff128cb86a5ff99444fcb163cc97113d6b0,Support Incremental Backup Completion In RBD,ABANDONED,2020-01-29 20:14:28.000000000,2020-02-04 14:56:11.000000000,,264,174,0,704877,0dfc3c7dcb62d054e79465b096b64111d4f9b0ec,18,13,1,7,20813,Sofia Enriquez,enriquetaso,"Support Incremental Backup Completion In RBD

Ceph RBD backend ignores the `--incremental` option when creating a
volume backup. The first backup of a given volume is always a full
backup, and each subsequent backup is always an incremental backup.
This behavior makes it impossible to remove old backups while
keeping at least one recent backup.

Since Cinder will not find the latest_backup id as parent_id if
'--incremental=False', so we can use the parent_id to ensure
whether do the full backup in rbd driver or not.

If the incremental flag '--incremental' is not specified, this
patch will always create a new full backup for rbd volume.

Closes-Bug: #1810270
Closes-Bug: #1790713
Co-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>
(cherry picked from commit 5018727f8e18992e64c55b84f0d5b39ae7c70b32)
(cherry picked from commit 63bfbfca98ca75a0e20387506aa5bde16e39f302)

Conflicts:
	cinder/tests/unit/backup/drivers/test_backup_ceph.py

Change-Id: I87457ff128cb86a5ff99444fcb163cc97113d6b0
"
openstack%2Fkuryr-kubernetes~master~I6be9110192f524325e24fb97d905faff86d0cfef,openstack/kuryr-kubernetes,master,bp/nested-dpdk-support,I6be9110192f524325e24fb97d905faff86d0cfef,Add DPDK support for nested pods,MERGED,2018-04-06 16:01:17.000000000,2020-02-04 14:41:36.000000000,2020-02-04 14:39:41.000000000,642,5,147,559363,edc6597fe22b10fc489f4b2a5bead9ee35c1892e,182,17,48,19,24127,Gary Loughnane,garyloug,"Add DPDK support for nested pods

Add DPDK support for nested K8s pods. Patch includes a new VIF driver on
the controller and a new CNI binding driver.

This patch introduces dependency from os-vif v.1.12.0, since there
a new vif type.

Change-Id: I6be9110192f524325e24fb97d905faff86d0cfef
Implements: blueprint nested-dpdk-support
Co-Authored-By: Kural Ramakrishnan <kuralamudhan.ramakrishnan@intel.com>
Co-Authored-By: Marco Chiappero <marco.chiappero@intel.com>
Signed-off-by: Alexey Perevalov <a.perevalov@samsung.com>
Signed-off-by: Danil Golov <d.golov@samsung.com>
"
openstack%2Ftempest~master~Ib0ce6119e60f321db743077f37db49d4c16e40aa,openstack/tempest,master,,Ib0ce6119e60f321db743077f37db49d4c16e40aa,Remove py2 jobs due to dependency not compatible with py2,ABANDONED,2020-02-04 13:47:39.000000000,2020-02-04 14:39:42.000000000,,0,1,1,705683,30faed22aed33c9e1d71a178277e776c40996cf2,9,8,1,1,8556,Ghanshyam,ghanshyam,"Remove py2 jobs due to dependency not compatible with py2

oslo drop py2 so we need to remove the py2 unit test job which
is failing and blocking gate.

There is seoarate work to drop the py2 things from Tempest in
compplete set but let's unblock the gate by dropping
py2 unit test job first.

Change-Id: Ib0ce6119e60f321db743077f37db49d4c16e40aa
"
openstack%2Fosprofiler~master~I2cc764bd3de8130aa25868b57b2e89341c71617e,openstack/osprofiler,master,drop-py27-support,I2cc764bd3de8130aa25868b57b2e89341c71617e,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 19:19:02.000000000,2020-02-04 14:36:19.000000000,2020-02-04 14:30:56.000000000,20,47,6,705524,7eaa8648cd4965a2fd5826cb064c8372f34a95c8,21,6,3,7,6547,Andreas Jaeger,jaegerandi,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Switch to using modern sphinx-build.
Remove cruft from setup.cfg

Drop non-voting jobs from gate queue.

Change-Id: I2cc764bd3de8130aa25868b57b2e89341c71617e
"
openstack%2Fnova~master~I77b1cfeab3c00c6c3d7743ba51e12414806b71d2,openstack/nova,master,bp/remove-nova-network-ussuri,I77b1cfeab3c00c6c3d7743ba51e12414806b71d2,nova-net: Remove use of legacy 'FloatingIP' object,MERGED,2019-12-03 18:31:13.000000000,2020-02-04 14:33:55.000000000,2020-02-03 20:47:37.000000000,111,401,9,697153,6b44628695301ee446d019c21a44e34cedfac970,169,15,16,9,15334,Stephen Finucane,sfinucan,"nova-net: Remove use of legacy 'FloatingIP' object

We want to get rid of the 'FloatingIP' object. Alas, that's easier said
than done because there are still a few users of this. The
'get_floating_ip', 'get_floating_ip_by_address', and
'get_floating_ips_by_project' methods are examples. These are only
called by the legacy 'os-floating-ips' API and the 'FloatingIP' object
is simply used as an unnecessary container between the two. Convert
things so the aforementioned API can handle mostly intact responses from
neutron instead, eliminating this user of the 'FloatingIP' object.

Change-Id: I77b1cfeab3c00c6c3d7743ba51e12414806b71d2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~Ib9ef18fff28c463c9ffe3607d93428b689dc89fb,openstack/nova,master,bp/support-move-ops-with-qos-ports-ussuri,Ib9ef18fff28c463c9ffe3607d93428b689dc89fb,Enable live migration with qos ports,MERGED,2019-12-14 11:04:18.000000000,2020-02-04 13:57:18.000000000,2020-02-04 12:58:41.000000000,8,73,1,699066,64cdb82b998d4dfc8188dfba174be95c06da13ad,136,13,12,4,9708,Balazs Gibizer,gibi,"Enable live migration with qos ports

Previous patches in the blueprint implemented the support for live
migraton with qos ports and added functional test coverage for the
various live migration scenarios. So this patch removes the API check
that rejected such operation and document the new feature.

Change-Id: Ib9ef18fff28c463c9ffe3607d93428b689dc89fb
blueprint: support-move-ops-with-qos-ports-ussuri
"
openstack%2Ftap-as-a-service~master~I4a8b016377805d6f304c08baee2ef7e161697112,openstack/tap-as-a-service,master,drop-py27-taas,I4a8b016377805d6f304c08baee2ef7e161697112,Remove python2 jobs for tap-as-a-service,MERGED,2020-01-22 12:20:10.000000000,2020-02-04 13:54:22.000000000,2020-02-04 13:54:22.000000000,6,5,0,703786,79dbc11dd12cb684d2aa2cb83af6fe66bd7002dc,31,6,3,3,8313,Lajos Katona,elajkat,"Remove python2 jobs for tap-as-a-service

Since neutron-lib changed to python3 only (see [0]) it's time to remove
python2 jobs for tap-as-a-service.

[0]: https://review.opendev.org/702098

Change-Id: I4a8b016377805d6f304c08baee2ef7e161697112
"
openstack%2Fkolla-ansible~master~Id5f3f0ede106498b9264942fa0399d7c7862c122,openstack/kolla-ansible,master,,Id5f3f0ede106498b9264942fa0399d7c7862c122,Python 3: Use distro_python_version for WSGI python_path,MERGED,2020-01-30 14:21:18.000000000,2020-02-04 13:49:57.000000000,2020-02-04 13:48:01.000000000,14,14,0,705023,c56d273c93282e08e7a4000a4be7b278fa85394c,9,3,1,14,14826,Mark Goddard,mgoddard,"Python 3: Use distro_python_version for WSGI python_path

Currently the WSGI configuration for binary images uses python2.7
site-packages in some places. This change uses distro_python_version to
select the correct python path.

Change-Id: Id5f3f0ede106498b9264942fa0399d7c7862c122
Partially-Implements: blueprint python-3
"
openstack%2Fkolla-ansible~master~Ieae3778a02f1b79023b4f1c20eff27b37f481077,openstack/kolla-ansible,master,,Ieae3778a02f1b79023b4f1c20eff27b37f481077,Python 3: Use distro_python_version for dev mode,MERGED,2020-01-30 14:21:18.000000000,2020-02-04 13:42:52.000000000,2020-02-04 13:40:31.000000000,108,108,0,705022,5a786436be1ec9198b7e6e61bfcb7b37f79fa880,9,3,1,33,14826,Mark Goddard,mgoddard,"Python 3: Use distro_python_version for dev mode

In dev mode currently the python source is mounted under python2.7
site-packages. This change fixes this to use the distro_python_version
variable to ensure dev mode works with Python 3 images.

Change-Id: Ieae3778a02f1b79023b4f1c20eff27b37f481077
Partially-Implements: blueprint python-3
"
openstack%2Fcharm-ceph-osd~master~Ib55547f88316e80a8948ce808ea992c1402458f5,openstack/charm-ceph-osd,master,bug/1861293,Ib55547f88316e80a8948ce808ea992c1402458f5,Ensure bootstrapped-osds count updated after add-disk,MERGED,2020-01-31 12:13:59.000000000,2020-02-04 13:35:15.000000000,2020-02-04 13:35:15.000000000,73,2,6,705203,871b0573355a05d52e7082d00bc3abcc29eae9cf,21,5,3,2,6737,Edward Hope-Morley,hopem,"Ensure bootstrapped-osds count updated after add-disk

When we add/zap disks it may change the overall osd
count so need to ensure this is kept up-to-date.

Change-Id: Ib55547f88316e80a8948ce808ea992c1402458f5
Closes-Bug: #1861293
"
openstack%2Fsphinx-feature-classification~master~I0f3e9d980c25545a0085d406bf4f45fc6d6f4fbd,openstack/sphinx-feature-classification,master,cleanup,I0f3e9d980c25545a0085d406bf4f45fc6d6f4fbd,Switch to sphinx-build and cleanup,MERGED,2020-02-03 19:25:41.000000000,2020-02-04 13:13:13.000000000,2020-02-04 13:11:18.000000000,5,14,0,705530,62e9787a2d8cad63fad3b4797c1b16d10f90e505,9,4,1,2,6547,Andreas Jaeger,jaegerandi,"Switch to sphinx-build and cleanup

Switch to using modern sphinx-build.
Remove obsolete install_command from tox.ini.
Remove cruft from setup.cfg.

Change-Id: I0f3e9d980c25545a0085d406bf4f45fc6d6f4fbd
"
openstack%2Fnova~master~I8ce3703ca86a3a0769edd42a790d82796d1071d7,openstack/nova,master,bug/1841933,I8ce3703ca86a3a0769edd42a790d82796d1071d7,Avoid fetching metadata when no subnets found,MERGED,2019-08-29 13:17:51.000000000,2020-02-04 13:05:26.000000000,2020-02-04 12:58:47.000000000,75,2,15,679247,31773715687326c92d4ad46ebb32b14645bbc614,126,19,17,2,13438,Kobi Samoray,ksamoray,"Avoid fetching metadata when no subnets found

Metadata service uses the provider id to identify the requesting
instance.
However, when provider query doesn't find any networks, the request
should fail.
The same goes to the case where multiple ports are found.

Closes-Bug: #1841933
Change-Id: I8ce3703ca86a3a0769edd42a790d82796d1071d7
"
openstack%2Fansible-collections-openstack~master~I8c41e505d5c1949ddc535c78933da06405c47299,openstack/ansible-collections-openstack,master,,I8c41e505d5c1949ddc535c78933da06405c47299,Bump minimum openstacksdk version when using os_network/dns_domain,MERGED,2020-01-30 16:18:01.000000000,2020-02-04 12:45:07.000000000,2020-02-04 12:45:07.000000000,17,10,0,705054,1a597c2b036ca5912dbd108363c36b0c298956d3,11,5,4,2,6816,Jesse Pretorius,jesse-pretorius,"Bump minimum openstacksdk version when using os_network/dns_domain

With the addition of [a], the minimum openstacksdk version needs to
be bumped to include [b], or the os_network module will return the
error:

TypeError: create_network() got an unexpected keyword argument 'dns_domain'

To handle this, we fail the module if the dns_domain argument is used
and the minimum openstacksdk version for that argument is not met.

[a] https://github.com/ansible/ansible/commit/6c74e29618a6872bc0da66e4992cfcd9cebf6acc
[b] https://github.com/openstack/openstacksdk/commit/a3e846e2b9301f4ae725e97b21b4313bfcc81d10

Fixes: #64495
Fixes: #64841
Change-Id: I8c41e505d5c1949ddc535c78933da06405c47299
"
openstack%2Fautomaton~master~Ia5b47f1dd3b4aee25b1182620f61f05b0f1fb56f,openstack/automaton,master,py3-classifiers,Ia5b47f1dd3b4aee25b1182620f61f05b0f1fb56f,Add python3 classifiers,MERGED,2020-02-04 09:07:16.000000000,2020-02-04 12:41:07.000000000,2020-02-04 12:38:55.000000000,3,1,0,705617,1161c1c60cc896b7f44942466e9edbce45368f6a,9,2,3,2,28522,Hervé Beraud,hberaud,"Add python3 classifiers

Also prefer to lowercase `ignore_basepython_conflict` value to
uniformize with other oslo projects.

Change-Id: Ia5b47f1dd3b4aee25b1182620f61f05b0f1fb56f
"
openstack%2Fcharm-guide~master~I04d9866044f521db788e7ad398717af8f7a1eb15,openstack/charm-guide,master,bug/1818221,I04d9866044f521db788e7ad398717af8f7a1eb15,"Relnote for dashboard charm: ""disable-instance-snapshot""",MERGED,2020-01-15 16:53:42.000000000,2020-02-04 12:39:41.000000000,2020-02-04 12:38:17.000000000,11,0,4,702701,2315c9c7964b9b578aa7eb5ab614577084841a1a,13,4,2,1,20870,Alex Kavanagh,ajkavanagh,"Relnote for dashboard charm: ""disable-instance-snapshot""

Related item on dashboard: Ic15f60517ed8a7f67704b15f4b42baabe74f83c6

Change-Id: I04d9866044f521db788e7ad398717af8f7a1eb15
Related-Bug: #1818221
"
openstack%2Fautomaton~master~I42efda8d3fb5d300068e2fb18502fc266878e238,openstack/automaton,master,reno-gitignore,I42efda8d3fb5d300068e2fb18502fc266878e238,Ignore releasenote artifacts files.,MERGED,2020-02-04 09:07:16.000000000,2020-02-04 12:38:34.000000000,2020-02-04 12:36:43.000000000,4,0,0,705616,433c6d563c1c0395adfdf757740b37ed2cc068ea,8,2,2,1,28522,Hervé Beraud,hberaud,"Ignore releasenote artifacts files.

Change-Id: I42efda8d3fb5d300068e2fb18502fc266878e238
"
openstack%2Fdebtcollector~master~I395558c888d31925c26571f62ffc1ea556f2e2c4,openstack/debtcollector,master,drop-py27-support,I395558c888d31925c26571f62ffc1ea556f2e2c4,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 15:23:16.000000000,2020-02-04 12:33:18.000000000,2020-02-04 12:30:15.000000000,18,53,1,705458,3e241f33da72a3a5139a37545e6b8ab6a82bccdf,12,4,2,8,6547,Andreas Jaeger,jaegerandi,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Cleanup tox.ini and setup.cfg from old cruft, use sphinx-build.

Change-Id: I395558c888d31925c26571f62ffc1ea556f2e2c4
Co-Authored-By: Hervé Beraud <hberaud@redhat.com>
"
openstack%2Foslo.config~master~I13ce8e8264679a19c7b108381ccb969573ea9ac6,openstack/oslo.config,master,drop-py27-support,I13ce8e8264679a19c7b108381ccb969573ea9ac6,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-10-08 16:34:00.000000000,2020-02-04 12:05:18.000000000,2020-02-04 12:02:20.000000000,13,26,2,687354,4e071eb034eae728cef397c2c37334dd2c8c9251,27,5,6,9,15334,Stephen Finucane,sfinucan,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in Ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I13ce8e8264679a19c7b108381ccb969573ea9ac6
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Sem-Ver: api-break
"
openstack%2Foslo.db~master~I02e2d11d38d2aa4182e8d466519b99f05943701f,openstack/oslo.db,master,drop-py27-support,I02e2d11d38d2aa4182e8d466519b99f05943701f,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 17:10:08.000000000,2020-02-04 11:37:52.000000000,2020-02-04 11:35:11.000000000,11,19,1,705488,aba1098b7eb06fe185dc5d0f5aaaa33e2f70fa0b,10,3,2,6,28522,Hervé Beraud,hberaud,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in Ussuri cycle.

Complete discussion & schedule can be found in
-
http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I02e2d11d38d2aa4182e8d466519b99f05943701f
"
openstack%2Ftripleo-validations~stable%2Fstein~I35949a629114db3ca0d4ad93d2b4f2d235deda98,openstack/tripleo-validations,stable/stein,sync_validation,I35949a629114db3ca0d4ad93d2b4f2d235deda98,Sync 'validations/ceph-dependencies-installed.yaml' with the new role,MERGED,2020-01-24 16:50:38.000000000,2020-02-04 11:36:48.000000000,2020-02-04 11:36:48.000000000,39,0,0,704174,33c42a304f61e537d64a0421041690888ac3b3e8,11,5,1,1,25402,Francesco Pantano,fmount,"Sync 'validations/ceph-dependencies-installed.yaml' with the new role

Change-Id: I35949a629114db3ca0d4ad93d2b4f2d235deda98
"
openstack%2Ftripleo-validations~stable%2Frocky~I85d09955e839bab35cc06d2f0906f3012c8a1aa9,openstack/tripleo-validations,stable/rocky,ceph_lvm_package,I85d09955e839bab35cc06d2f0906f3012c8a1aa9,Sync 'validations/ceph-dependencies-installed.yaml' with the new role,MERGED,2020-01-23 07:47:25.000000000,2020-02-04 11:36:48.000000000,2020-02-04 11:36:48.000000000,39,0,0,703932,906495403ebe5ba0a48c5180e93b4eb207c7efbc,16,5,2,1,25402,Francesco Pantano,fmount,"Sync 'validations/ceph-dependencies-installed.yaml' with the new role

Change-Id: I85d09955e839bab35cc06d2f0906f3012c8a1aa9
(cherry picked from commit 33c42a304f61e537d64a0421041690888ac3b3e8)
"
openstack%2Foslo.rootwrap~master~I02784f635368ad7cc5ffde7cc8a4f4367143da98,openstack/oslo.rootwrap,master,drop-py27-support,I02784f635368ad7cc5ffde7cc8a4f4367143da98,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 16:57:06.000000000,2020-02-04 11:35:05.000000000,2020-02-04 11:32:23.000000000,10,14,0,705481,89beae07539d32be3e2428f174840f2de6499ac4,8,3,1,6,28522,Hervé Beraud,hberaud,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in Ussuri cycle.

Complete discussion & schedule can be found in
-
http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I02784f635368ad7cc5ffde7cc8a4f4367143da98
"
openstack%2Fneutron~stable%2Fstein~I19e1af1bda788ed970d30ab251e895f7daa11e39,openstack/neutron,stable/stein,bug/1861269-stable/stein,I19e1af1bda788ed970d30ab251e895f7daa11e39,Remove sleep command when retrieving OVS dp,MERGED,2020-02-03 09:38:44.000000000,2020-02-04 11:31:42.000000000,2020-02-04 11:29:15.000000000,2,3,0,705399,63ff0486a2c3f92d055350bcc06a41219031fcd9,18,6,1,1,11975,Slawek Kaplonski,slaweq,"Remove sleep command when retrieving OVS dp

OVS agent is a single thread module executed on a os-ken AppManager
context. os-ken uses, by default (and no other implementation is
available today [1]), ""eventlet"" threads. Those threads are scheduled
manually by the code itself; the context switch is done through
yielding. The easiest way to do this is by executing:
  eventlet.sleep()

If the assigned thread is not ready to take the GIL and do not yield
back the executor, other threads will starve and eventually will
timeout.

This patch removes the ""sleep"" command during the DP retrieval. This
will keep the executor on the current thread and will prevent the
execution timeouts, as seen in the bug related.

[1]https://opendev.org/openstack/os-ken/src/commit/1f751b2d7d385a75d4255934694177d6fd6f012f/os_ken/lib/hub.py

Closes-Bug: #1861269

Change-Id: I19e1af1bda788ed970d30ab251e895f7daa11e39
(cherry picked from commit 740741864adc142b9bb037e92fd563cae124046a)
"
openstack%2Foslo.utils~master~If437786eb8dbba9386dd473b45dab0933812c649,openstack/oslo.utils,master,drop-py27-support,If437786eb8dbba9386dd473b45dab0933812c649,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 17:31:21.000000000,2020-02-04 11:26:11.000000000,2020-02-04 11:23:19.000000000,11,22,0,705495,18685083414cc247bb96f656a65e6b8c7f989ce0,8,3,1,8,28522,Hervé Beraud,hberaud,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in Ussuri cycle.

Complete discussion & schedule can be found in
-
http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: If437786eb8dbba9386dd473b45dab0933812c649
"
openstack%2Foslo.service~master~I3ea32bcc39d887d296d70b080a90c536debd91b3,openstack/oslo.service,master,drop-py27-support,I3ea32bcc39d887d296d70b080a90c536debd91b3,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 17:02:27.000000000,2020-02-04 11:23:11.000000000,2020-02-04 11:20:22.000000000,11,20,1,705485,65e2aa81b878bcee05cbf74d43492bf93ad601c9,9,3,2,7,28522,Hervé Beraud,hberaud,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in Ussuri cycle.

Complete discussion & schedule can be found in
-
http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I3ea32bcc39d887d296d70b080a90c536debd91b3
"
openstack%2Foslo.messaging~master~I15cc79159b603e232e442e202c78d6c56dc73252,openstack/oslo.messaging,master,drop-py27-support,I15cc79159b603e232e442e202c78d6c56dc73252,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 16:48:35.000000000,2020-02-04 11:21:51.000000000,2020-02-04 11:18:32.000000000,12,67,0,705479,32a1b6e94845b081e9c00d235320b2014cf18d71,12,4,3,7,28522,Hervé Beraud,hberaud,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in Ussuri cycle.

Complete discussion & schedule can be found in
-
http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I15cc79159b603e232e442e202c78d6c56dc73252
"
openstack%2Ftaskflow~master~Id224fc09ac36d2a84e82347530bb5e5d30665803,openstack/taskflow,master,drop-py27-support,Id224fc09ac36d2a84e82347530bb5e5d30665803,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 19:30:38.000000000,2020-02-04 11:20:09.000000000,2020-02-04 11:15:58.000000000,16,56,0,705532,fc401959ecedf2b740c3e3156649655c12f2c239,10,3,2,8,6547,Andreas Jaeger,jaegerandi,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Remove cruft from setup.cfg.
Update hacking so that it works with python3 and silence new warnings.

Change-Id: Id224fc09ac36d2a84e82347530bb5e5d30665803
"
openstack%2Foslo.serialization~master~Icc43428c885853007a6ee9fc4acaf079f6349619,openstack/oslo.serialization,master,drop-py27-support,Icc43428c885853007a6ee9fc4acaf079f6349619,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 17:25:50.000000000,2020-02-04 11:17:38.000000000,2020-02-04 11:13:50.000000000,11,21,0,705491,9e4adf56b22c8005af1722815ea4c4bfc03fb12d,9,3,2,8,28522,Hervé Beraud,hberaud,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in Ussuri cycle.

Complete discussion & schedule can be found in
-
http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Icc43428c885853007a6ee9fc4acaf079f6349619
"
openstack%2Foslo.middleware~master~I8604e1a22d7cb13251e2ef22ef86318ad2de346e,openstack/oslo.middleware,master,drop-py27-support,I8604e1a22d7cb13251e2ef22ef86318ad2de346e,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 17:16:04.000000000,2020-02-04 11:10:17.000000000,2020-02-04 11:06:49.000000000,11,17,0,705489,0f769d4c9f5f0833d4a2d999f494a1d36dd636ab,8,3,1,7,28522,Hervé Beraud,hberaud,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in Ussuri cycle.

Complete discussion & schedule can be found in
-
http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I8604e1a22d7cb13251e2ef22ef86318ad2de346e
"
openstack%2Fironic-python-agent-builder~master~Iee6cbb9eb35477c7be3d3fbee86e1515905f70ad,openstack/ironic-python-agent-builder,master,test-centos7,Iee6cbb9eb35477c7be3d3fbee86e1515905f70ad,[DNM] test centos7 job,ABANDONED,2020-01-30 14:39:39.000000000,2020-02-04 10:57:55.000000000,,2,42,0,705032,6614064a89d260704c7147fd4aecafdfb97c2eac,7,2,3,2,23851,Riccardo Pittau,elfosardo,"[DNM] test centos7 job

Cause why having the same locales between versions?

Change-Id: Iee6cbb9eb35477c7be3d3fbee86e1515905f70ad
"
openstack%2Fautomaton~master~I61b0dcd730be1889815e47a0c0c354d8f7759571,openstack/automaton,master,drop-py27-support,I61b0dcd730be1889815e47a0c0c354d8f7759571,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 14:36:35.000000000,2020-02-04 10:57:50.000000000,2020-02-04 10:53:43.000000000,10,29,2,705450,a1ed7110372e9aa69624396257917e3ffce3d73a,11,4,2,5,6547,Andreas Jaeger,jaegerandi,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Cleanup some old cuft from setup.cfg.
Fix sphinx-build invocation to publish correctly.

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I61b0dcd730be1889815e47a0c0c354d8f7759571
"
openstack%2Fironic-python-agent-builder~master~I0a45372a3192e036acd895f7cc76d308df9b4602,openstack/ironic-python-agent-builder,master,test-ci,I0a45372a3192e036acd895f7cc76d308df9b4602,[DNM] testing centos8 job,ABANDONED,2020-01-29 14:58:17.000000000,2020-02-04 10:57:27.000000000,,2,40,0,704826,4e6ae06a6f8c0e125f08fbad94a7788e806c86cc,5,1,2,2,23851,Riccardo Pittau,elfosardo,"[DNM] testing centos8 job

Change-Id: I0a45372a3192e036acd895f7cc76d308df9b4602
"
openstack%2Fpython-openstackclient~master~I9e96d2978912c8dfeadae4a782c481a17cd7e348,openstack/python-openstackclient,master,bug/1845322,I9e96d2978912c8dfeadae4a782c481a17cd7e348,Stop silently ignoring invalid 'server create --hint' options,MERGED,2019-09-27 12:03:29.000000000,2020-02-04 10:55:25.000000000,2020-02-03 18:41:15.000000000,61,12,0,685329,ea27ebb0f918db9eab2f5751a1b065818faa0e6d,14,4,3,2,15334,Stephen Finucane,sfinucan,"Stop silently ignoring invalid 'server create --hint' options

The '--hint' option for 'server create' expects a key-value pair like so:

  openstack server create --hint group=245e1dfe-2d0e-4139-80a9-fce124948896 ...

However, the command doesn't complain if this isn't the case, meaning
typos like the below aren't indicated to the user:

  openstack server create --hint 245e1dfe-2d0e-4139-80a9-fce124948896

Due to how we'd implemented this here, this ultimately results in us
POSTing the following as part of the body to 'os-servers':

  {
    ...
    ""OS-SCH-HNT:scheduler_hints"": {
      ""245e1dfe-2d0e-4139-80a9-fce124948896"": null
    }
    ...
  }

Which is unfortunately allowed and ignored by nova due to the use of
'additionalProperties' in the schema [1]

Do what we do for loads of other options and explicitly fail on invalid
values. This involves adding a new argparse action since none of those
defined in osc-lib work for us. This is included here to ease
backporting of the fix but will be moved to osc-lib in a future patch.

[1] https://github.com/openstack/nova/blob/19.0.0/nova/api/openstack/compute/schemas/servers.py#L142-L146

Change-Id: I9e96d2978912c8dfeadae4a782c481a17cd7e348
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Story: #2006628
Task: #36840
Related-Bug: #1845322
"
openstack%2Ftripleo-heat-templates~master~I655171f35706df3cfcb32fc23db62a4ee71f194e,openstack/tripleo-heat-templates,master,bug/1861508,I655171f35706df3cfcb32fc23db62a4ee71f194e,Fix Placement password hiera is not set for Neutron,MERGED,2020-01-31 16:04:23.000000000,2020-02-04 10:49:14.000000000,2020-02-04 00:26:39.000000000,9,10,0,705248,573051a721a226cad03d096a245f7588cb3d2ffb,15,6,2,1,30133,Piotr Kopec,pkopec,"Fix Placement password hiera is not set for Neutron

Placement password hiera is not set for Neutron
when deployed with Novacontrol role. With Novacontrol
role the Placement service is not deployed
on controllers so the hiera is not set in
service_config_settings secion.

Change-Id: I655171f35706df3cfcb32fc23db62a4ee71f194e
Closes-Bug: #1861508
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iac3cbf23437bb11ec47dd1a0f189babe0c5587d0,openstack/tripleo-heat-templates,stable/train,,Iac3cbf23437bb11ec47dd1a0f189babe0c5587d0,Remove stray conditional from aodh-evaluator tasks,MERGED,2020-02-03 09:54:18.000000000,2020-02-04 10:45:49.000000000,2020-02-04 10:44:02.000000000,0,1,0,705405,e04f031b811086ff5805b7ead19d1a019a9fe77b,9,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Remove stray conditional from aodh-evaluator tasks

In Ib4c59302ad5ad64f23419cd69ee9b2a80333924e a conditional
was moved incorrectly and left as a stray. Luckily it is
only a cosmetic issue, but it might be confusing when doing
any maintenance work so it's better to remove it.

Change-Id: Iac3cbf23437bb11ec47dd1a0f189babe0c5587d0
(cherry picked from commit edd10576ca33337b09070da204a88d189456a5e2)
"
openstack%2Fcastellan~master~I09f0da9a59952739dd1575200aa47cc12026264f,openstack/castellan,master,drop-py27-support,I09f0da9a59952739dd1575200aa47cc12026264f,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 15:12:24.000000000,2020-02-04 10:32:43.000000000,2020-02-04 10:28:28.000000000,16,37,0,705457,141e7e4209b96b83ad61edaa1804e09fe0141fad,13,3,3,7,6547,Andreas Jaeger,jaegerandi,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Cleanup setup.cfg as well.

Increase requests version in lower-constraints:
requests>=2.18.0 is needed by oslo.config, which leads to some other
updates...

Change-Id: I09f0da9a59952739dd1575200aa47cc12026264f
"
openstack%2Fcharm-octavia~master~I361c72db468b3457b1ff5eef9a9842c9bdc570a2,openstack/charm-octavia,master,ovn-charm,I361c72db468b3457b1ff5eef9a9842c9bdc570a2,[DNM] temporarilly add interface code to repo,ABANDONED,2020-02-03 15:01:27.000000000,2020-02-04 10:29:49.000000000,,299,0,0,705455,70d294b723a005d23aaefc83414bf938e7951f51,5,2,1,4,13686,Frode Nordahl,fnordahl,"[DNM] temporarilly add interface code to repo

This should be removed and abandoned as soon as
https://review.opendev.org/#/c/704966/ has landed.

Change-Id: I361c72db468b3457b1ff5eef9a9842c9bdc570a2
"
openstack%2Ftripleo-validations~master~Ibc202e84108fb7f64906dc41cc14923bb113f9cd,openstack/tripleo-validations,master,,Ibc202e84108fb7f64906dc41cc14923bb113f9cd,zuul: all functional jobs now depend on linter job first,MERGED,2019-11-07 14:24:11.000000000,2020-02-04 10:27:09.000000000,2020-02-04 00:26:51.000000000,2,0,0,693360,585d0c177947b58228badce37b23fd6cb8b78389,15,6,3,1,11491,Gael Chamoulaud,gchamoul,"zuul: all functional jobs now depend on linter job first

There is no need to run functional jobs if the linters don't pass; often
due to syntax errors.
This patch will help to save CI resources when syntax isn't good in a
patch.

Change-Id: Ibc202e84108fb7f64906dc41cc14923bb113f9cd
Co-Authored-By: Emilien Macchi <emacchi@redhat.com>
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fnova~master~I243c76075c120be62ff08fbe23db4c9065e91bd7,openstack/nova,master,bp/mixed-cpu-instance,I243c76075c120be62ff08fbe23db4c9065e91bd7,[WIP] virt/libvirt: Get host pin cpuset according instance cpu_pinning,ABANDONED,2019-10-16 13:48:54.000000000,2020-02-04 10:25:11.000000000,,8,4,0,688935,551c0a98c13bdab79be1e3be409adb542a6c570e,26,9,3,1,30209,Huaqiang,Huaqiang.Wang,"[WIP] virt/libvirt: Get host pin cpuset according instance cpu_pinning

In one instance, there might be pinned vcpu along with un-pinned vcpus:
  a) For pinned vcpu, we pin the vcpu to individual host CPU
  b) For unpinned vcpu, we let the vcpu float over host NUMA node's
     CPUs that allocating from VCPU resource

TODO: emulator cpu thread should be considered.
      If CPU policy is shared, pinning to host 'shared' set.
      If CPU policy is dedicated, using a dedicated host cpu
      If CPU policy is mixed, depending on emulator thread policy ...

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I243c76075c120be62ff08fbe23db4c9065e91bd7
"
openstack%2Fswift~master~I18accffb2cf6ba6a3fff6fd5d95f06a424d1d919,openstack/swift,master,sample_config_update,I18accffb2cf6ba6a3fff6fd5d95f06a424d1d919,added value and notes to a sample config file for s3token,MERGED,2018-12-13 18:46:01.000000000,2020-02-04 10:20:02.000000000,2020-02-04 10:18:32.000000000,11,0,9,625082,d358b9130d80f5fff492de03abf74676a06e61c3,39,4,5,1,330,John Dickinson,notmyname,"added value and notes to a sample config file for s3token

Change-Id: I18accffb2cf6ba6a3fff6fd5d95f06a424d1d919
"
openstack%2Fos-api-ref~master~I3cf8525b430031303dd0ecfbb6719ec935f6dd91,openstack/os-api-ref,master,drop-py27-support,I3cf8525b430031303dd0ecfbb6719ec935f6dd91,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 16:34:12.000000000,2020-02-04 10:04:59.000000000,2020-02-04 09:59:57.000000000,8,19,0,705476,ac100a7b7665e10d3d14e0e514535f5d7accaa33,9,3,1,3,6547,Andreas Jaeger,jaegerandi,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I3cf8525b430031303dd0ecfbb6719ec935f6dd91
"
openstack%2Foslo-cookiecutter~master~I706a33405c71bb6dd1c358e7c0f5fea6dc96f7ec,openstack/oslo-cookiecutter,master,drop-py27-support,I706a33405c71bb6dd1c358e7c0f5fea6dc96f7ec,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 16:38:02.000000000,2020-02-04 10:04:19.000000000,2020-02-04 10:04:19.000000000,15,24,2,705477,4648686a2730d303e08e72d678e1caf2f2d8c372,10,3,2,5,6547,Andreas Jaeger,jaegerandi,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Cleanup setup.cfg and remove old cruft.

Change-Id: I706a33405c71bb6dd1c358e7c0f5fea6dc96f7ec
"
openstack%2Foslotest~master~I6a0643fcf8e28e09b1c69cda98dc53c71e6c508d,openstack/oslotest,master,drop-py27-support,I6a0643fcf8e28e09b1c69cda98dc53c71e6c508d,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 19:12:44.000000000,2020-02-04 10:02:07.000000000,2020-02-04 09:56:09.000000000,27,33,0,705523,4d45f9694281902cb65003b35e6609bb1d00a18c,11,3,3,8,6547,Andreas Jaeger,jaegerandi,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Update docs building to use modern sphinx-build.
Update to use apidoc for newer sphinx.
Remove cruft from setup.cfg and doc/source.conf.py

Change-Id: I6a0643fcf8e28e09b1c69cda98dc53c71e6c508d
"
openstack%2Ftripleo-quickstart-extras~master~I66c0572dfa993425aad4c042d7d184039acb7005,openstack/tripleo-quickstart-extras,master,,I66c0572dfa993425aad4c042d7d184039acb7005,Re-add agent list test,MERGED,2020-01-15 16:11:03.000000000,2020-02-04 10:02:06.000000000,2020-02-04 10:02:06.000000000,0,3,0,702690,f8a87800090417afbed421c5121ae33fbd72283e,19,8,2,1,5756,Terry Wilson,otherwiseguy,"Re-add agent list test

Change-Id: I66c0572dfa993425aad4c042d7d184039acb7005
Related-bug: #1855985
"
openstack%2Foslo-specs~master~I74896f0f66e4646fbe85b1f0a25fd0a87f39051f,openstack/oslo-specs,master,drop-py27-support,I74896f0f66e4646fbe85b1f0a25fd0a87f39051f,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 16:39:49.000000000,2020-02-04 09:59:45.000000000,2020-02-04 09:58:21.000000000,3,12,0,705478,c119831e5619bef7560df7949599afb1f6a14582,10,4,1,3,6547,Andreas Jaeger,jaegerandi,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I74896f0f66e4646fbe85b1f0a25fd0a87f39051f
"
openstack%2Fopenstack-ansible-haproxy_server~master~Ib6f38200775d31633d57a680fae475dbf7abc6c9,openstack/openstack-ansible-haproxy_server,master,feature/extra_lb_tls_vip_addresses,Ib6f38200775d31633d57a680fae475dbf7abc6c9,Add support for extra VIPs with TLS enabled,MERGED,2020-01-31 14:43:40.000000000,2020-02-04 09:48:32.000000000,2020-02-04 09:46:50.000000000,18,3,2,705228,b7834dd051cff7d6c26a2f92159099d743256836,11,5,1,3,23922,Magnus Bergman,magnusbe,"Add support for extra VIPs with TLS enabled

The existing extra_lb_vip_addresses parameter will add extra haproxy
VIPs without TLS. This patch adds a new extra_lb_tls_vip_addresses
parameter for adding VIPs with TLS enabled.

Change-Id: Ib6f38200775d31633d57a680fae475dbf7abc6c9
"
openstack%2Fcharm-ceph-mon~master~Ie4d8d69dc400cc79aa966bd72d7c601882a50bfc,openstack/charm-ceph-mon,master,review-ceph-mon-readme,Ie4d8d69dc400cc79aa966bd72d7c601882a50bfc,Comprehensive review of ceph-mon README,MERGED,2020-01-24 20:35:46.000000000,2020-02-04 09:29:47.000000000,2020-02-04 09:29:47.000000000,166,79,0,704199,3e37744fcaa48377377f77fe6485aa99c02ea936,13,4,4,1,30561,Peter Matulis,pmatulis,"Comprehensive review of ceph-mon README

Review of README.

Actions section was added.

The removed upgrade information will be moved
to the CDG upgrade-openstack appendix.

The upgrade paths information I don't believe
is necessary. The UCA method is already generically
laid out in the CDG upgrade appendix. The only
benefit is for the user to know what version of
Ceph they will end up with, but this is hard
to keep up to date in our documentation.

The upgrade edge case section will be moved to the
upgrade issues section of the upgrade appendix.

Change-Id: Ie4d8d69dc400cc79aa966bd72d7c601882a50bfc
"
openstack%2Fdiskimage-builder~master~I206a77590f575e472e31b4f867fd5fd35475542d,openstack/diskimage-builder,master,enable-hwe-ubuntu1804,I206a77590f575e472e31b4f867fd5fd35475542d,Enable possibility to select HWE kernel for Ubuntu minimal,MERGED,2019-12-15 09:42:54.000000000,2020-02-04 09:02:34.000000000,2020-02-04 09:00:46.000000000,3,0,0,699107,e2af38e3a5e3147091913df9513fc9a327339a50,15,8,2,1,15362,fdegir,fdegir,"Enable possibility to select HWE kernel for Ubuntu minimal

Change-Id: I206a77590f575e472e31b4f867fd5fd35475542d
"
openstack%2Foctavia~master~Ib86e6564085536c720cb780e89988026af176643,openstack/octavia,master,,Ib86e6564085536c720cb780e89988026af176643,Add an ability to retry failover process automatically,ABANDONED,2020-01-15 09:08:39.000000000,2020-02-04 08:27:01.000000000,,15,2,4,702599,fbc51f4d064afa811291785f5dc18ef92b22296b,5,3,1,4,7249,Ann Taraday,AKamyshnikova,"Add an ability to retry failover process automatically

Operators want to have an ability to have failover process retied
several times automatically.
Intoduce amp_failover_retry parameter with default 1 as the
original behaviour - failover process is not retried.

Change-Id: Ib86e6564085536c720cb780e89988026af176643
Story: 2007092
Task: 38124
"
openstack%2Frequirements~master~I6e5364fe579a21bfcf505b26f14e0ea3dd40c4d9,openstack/requirements,master,new-release,I6e5364fe579a21bfcf505b26f14e0ea3dd40c4d9,update constraint for oslo.concurrency to new release 4.0.0,MERGED,2020-02-03 11:06:41.000000000,2020-02-04 07:37:51.000000000,2020-02-04 07:35:39.000000000,1,1,0,705416,0c5ace0ec8ac670b6cbeb64fb8577d11adc90bc5,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.concurrency to new release 4.0.0

Change-Id: I6e5364fe579a21bfcf505b26f14e0ea3dd40c4d9
meta:version: 4.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I397e6062ee3e382cb4624494c589048e8eb83ca8
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fneutron-tempest-plugin~master~I3c5f135fafcc380918905d8af164b71504441dc0,openstack/neutron-tempest-plugin,master,remove_unstable_test_decorator,I3c5f135fafcc380918905d8af164b71504441dc0,"Remove ""unstable_test"" decorator local implementation",MERGED,2020-01-16 16:34:17.000000000,2020-02-04 07:35:38.000000000,2020-02-04 07:35:38.000000000,12,26,0,702918,4dea8060f05fab427cd042934674f08b03927e05,25,4,5,5,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Remove ""unstable_test"" decorator local implementation

Since [1] this decorator is in neutron-lib and used in this
repository. This local implementation can be removed.

[1] https://review.opendev.org/#/c/560102/

Trivial-Fix

Change-Id: I3c5f135fafcc380918905d8af164b71504441dc0
"
openstack%2Fneutron~stable%2Ftrain~I14fefe289a19b718b247bf0740ca9bc47f8903f4,openstack/neutron,stable/train,bug/1732067-stable/train,I14fefe289a19b718b247bf0740ca9bc47f8903f4,Add accepted egress direct flow,MERGED,2020-01-28 08:33:01.000000000,2020-02-04 06:38:46.000000000,2020-02-04 06:34:53.000000000,396,42,0,704506,6c1cf886671df66f6790045268b1394a97caabcc,28,7,1,12,11975,Slawek Kaplonski,slaweq,"Add accepted egress direct flow

Do not flood the packets to bridge, since we have the
bridge port list, we can add a simple direct flow to
the right port only.

Closes-Bug: #1732067
Related-Bug: #1841622
Change-Id: I14fefe289a19b718b247bf0740ca9bc47f8903f4
(cherry picked from commit efa8dd08957b5b6b1a05f0ed412ff00462a9f216)
"
openstack%2Fdiskimage-builder~master~Ibce594657bb90db1bac63fa9f965ee88586f8246,openstack/diskimage-builder,master,ironic-jobs,Ibce594657bb90db1bac63fa9f965ee88586f8246,Add ironic jobs to the CI,MERGED,2020-01-14 16:37:38.000000000,2020-02-04 06:28:22.000000000,2020-02-04 06:23:52.000000000,14,0,10,702474,3b27ae15782cb9d68ed6a5389795228687ed5f8a,34,8,3,1,10239,Dmitry Tantsur,dtantsur,"Add ironic jobs to the CI

Ironic is now using diskimage-builder for producing and publishing
official production-ready IPA ramdisks. These jobs test ironic
against changes in diskimage-builder to ensure they still work:
* Two check-image jobs merely build an IPA image with DIB:
  * The CentOS 8 job is our primary now and should eventually
    become voting.
  * The CentOS 7 one is used on stable/train and will be removed
    once DIB stops supporting this version.
* The two other jobs build and use the IPA image to deploy a node
  in two different ways (pushed via iSCSI and pulled via HTTP).
  Since they're likely to be affected by factors outside of DIB
  control, they're added non-voting.

Depends-On: https://review.opendev.org/703585
Change-Id: Ibce594657bb90db1bac63fa9f965ee88586f8246
"
openstack%2Foctavia-tempest-plugin~master~I95fa5f2f2fd17140a0ec892265d84542d613c04a,openstack/octavia-tempest-plugin,master,,I95fa5f2f2fd17140a0ec892265d84542d613c04a,Fix octavia-v2-dsvm-scenario-ubuntu-xenial,MERGED,2020-02-04 01:22:33.000000000,2020-02-04 06:06:32.000000000,2020-02-04 06:03:15.000000000,1,0,0,705590,bbddf4b78d2bfe0ae15dc0d0826a11162a882fe9,8,3,1,1,11628,Michael Johnson,johnsom,"Fix octavia-v2-dsvm-scenario-ubuntu-xenial

Recent changes to the octavia-tempest-plugin jobs broke the
octavia-v2-dsvm-scenario-ubuntu-xenial job as it tries to use
python3.6 on a xenial nodeset job.
This patch explicitly forces python2 for this job.

Change-Id: I95fa5f2f2fd17140a0ec892265d84542d613c04a
"
openstack%2Fpuppet-tripleo~master~Ida10d018e73fb19bb72032fcb2113e1762fb94fa,openstack/puppet-tripleo,master,fix_pcsd,Ida10d018e73fb19bb72032fcb2113e1762fb94fa,Fix typo in remote pcsd_bind_addr,MERGED,2020-02-03 09:57:29.000000000,2020-02-04 05:39:54.000000000,2020-02-04 00:27:02.000000000,1,1,0,705406,d833bcd92ebbb7e490aaf90fd7a74684d898f07d,18,6,2,1,20172,Michele Baldessari,michele,"Fix typo in remote pcsd_bind_addr

Typo slipped in when this code was merged, we need to reference the
proper variable

Closes-Bug: #1861668

Change-Id: Ida10d018e73fb19bb72032fcb2113e1762fb94fa
"
openstack%2Ftripleo-heat-templates~master~I563f42dc417ce5e403310ea33b969e19d16ad68f,openstack/tripleo-heat-templates,master,fix_dhcp_all_inteface_for_vf,I563f42dc417ce5e403310ea33b969e19d16ad68f,Ignore SR-IOV VFs on dhcp_all_interfaces list,MERGED,2020-01-31 05:39:12.000000000,2020-02-04 05:09:50.000000000,2020-02-04 00:26:41.000000000,3,0,0,705157,bc014864282372e74839aefd6d7a444a20643af3,9,6,1,1,18575,Saravanan KR,saravanankr,"Ignore SR-IOV VFs on dhcp_all_interfaces list

When os-net-config fails, it will trigger the configure_safe_defaults
function, which will enable dhcp on all interfaces which has link up
and having a valid mac address. SR-IOV VFs will also fall in this
list, ignore VFs in the dhcp all list.
Closes-Bug: #1861473

Change-Id: I563f42dc417ce5e403310ea33b969e19d16ad68f
"
openstack%2Ffreezer-tempest-plugin~master~I6521eebed209c976728bc189876f2406c1feea4c,openstack/freezer-tempest-plugin,master,,I6521eebed209c976728bc189876f2406c1feea4c,Remove six useage,MERGED,2020-02-04 02:50:00.000000000,2020-02-04 04:21:56.000000000,2020-02-04 04:21:56.000000000,9,8,0,705596,e6b20bb23c097840b349c48bb97cdefa58e3a599,6,2,1,3,21069,Carl caihui,caihui,"Remove six useage

We don't support python2 anymore so we don't need this compatibility
library.

This patch remove six useage.

Change-Id: I6521eebed209c976728bc189876f2406c1feea4c
"
openstack%2Fneutron~master~I30b76b6e44ff048ec08827c440548bdc6db4591c,openstack/neutron,master,test_pecan_wsgi,I30b76b6e44ff048ec08827c440548bdc6db4591c,[DNM] test FTs in neutron.tests.functional.pecan_wsgi.test_controllers,ABANDONED,2020-01-27 17:55:09.000000000,2020-02-04 04:11:52.000000000,,102,83,0,704376,8bf2cc49e3b695442f95a4a7677e46e9d9a72442,91,7,14,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[DNM] test FTs in neutron.tests.functional.pecan_wsgi.test_controllers

Change-Id: I30b76b6e44ff048ec08827c440548bdc6db4591c
"
openstack%2Ftripleo-heat-templates~master~Ie31d08f03daaf7a88f52e8b04feabad0c81f0ec3,openstack/tripleo-heat-templates,master,,Ie31d08f03daaf7a88f52e8b04feabad0c81f0ec3,remove duplicated HAproxy line from scen000,MERGED,2020-02-03 20:22:05.000000000,2020-02-04 03:34:18.000000000,2020-02-04 03:34:18.000000000,0,1,0,705544,168958bc508837e27a5366d7495a0f5e38838ed2,8,4,1,1,9592,wes hayutin,weshayutin,"remove duplicated HAproxy line from scen000

Closes-Bug: #1861727
Change-Id: Ie31d08f03daaf7a88f52e8b04feabad0c81f0ec3
"
openstack%2Ftacker~master~I1705e36ec35f6c0f01ed16b5eb79dae7608d96a1,openstack/tacker,master,assertTrue,I1705e36ec35f6c0f01ed16b5eb79dae7608d96a1,Fix assertTrue in verifying whether data type is list,MERGED,2019-12-26 06:01:36.000000000,2020-02-04 03:32:20.000000000,2020-02-04 03:30:57.000000000,2,2,2,700591,3b18443869718cd27876822fccdbe047ba2a58b2,17,4,3,2,20190,zhufl,zhufl,"Fix assertTrue in verifying whether data type is list

In test_vnf_package.py, self.assertTrue(result.objects, list) is
used to verify whether result.objects is of type list, and
self.assertTrue(isinstance(result.objects, list)) should be used
instead.

Change-Id: I1705e36ec35f6c0f01ed16b5eb79dae7608d96a1
"
openstack%2Fmagnum~stable%2Ftrain~I51ba108e23524eecc04bbbd47a5b50b8d4a529f9,openstack/magnum,stable/train,story/2007005-38167-stable/train,I51ba108e23524eecc04bbbd47a5b50b8d4a529f9,Fix proxy for Grafana script,MERGED,2020-02-03 16:06:34.000000000,2020-02-04 03:21:34.000000000,2020-02-04 03:19:32.000000000,16,0,0,705466,84cd9ca381ff3e11fba321649a3ca4e058832e84,8,3,1,2,20498,Spyros Trigazis,strigazi,"Fix proxy for Grafana script

The prometheus/grafana script needs to download a grafana json
file by curl which doesn't work since the proxy issue. This patch
fixes it.

Task: 38167
Story: 2007005

Change-Id: I51ba108e23524eecc04bbbd47a5b50b8d4a529f9
(cherry picked from commit 4346d776e5887af71e33748212bf4dcc2a220b66)
"
openstack%2Fansible-role-collect-logs~master~I51d244085437343fb7368008b88e9d1befdc1c80,openstack/ansible-role-collect-logs,master,fixcontainer,I51d244085437343fb7368008b88e9d1befdc1c80,Improve containers logs collection,MERGED,2020-02-02 09:29:29.000000000,2020-02-04 03:06:30.000000000,2020-02-04 00:26:58.000000000,77,90,3,705347,b2e898b1c594cd4bd9f28dd2f1eaa6ca78160549,30,6,8,1,10969,Shnaidman Sagi (Sergey),sergsh,"Improve containers logs collection

Change-Id: I51d244085437343fb7368008b88e9d1befdc1c80
"
openstack%2Fbashate~master~I554b4a993b30462d454ef4984a9091c38365f9fa,openstack/bashate,master,bug/1842109,I554b4a993b30462d454ef4984a9091c38365f9fa,Add an ability to specify max line length,MERGED,2019-08-30 16:52:49.000000000,2020-02-04 02:56:55.000000000,2020-02-04 02:55:12.000000000,38,12,1,679484,f5a24b097c7e00c6cf8a2976479db153fb5982e3,23,4,10,5,30902,Ayaz Salikhov,mathbunnyru,"Add an ability to specify max line length

Change-Id: I554b4a993b30462d454ef4984a9091c38365f9fa
Closes-Bug: #1842109
"
openstack%2Fironic~master~I2441cd60bb385648570e5994194e6fc6ff22025a,openstack/ironic,master,bug/1619339,I2441cd60bb385648570e5994194e6fc6ff22025a,Fix get_boot_option logic for software raid,MERGED,2019-08-28 19:57:49.000000000,2020-02-04 02:54:29.000000000,2020-02-04 02:52:48.000000000,52,0,8,679132,721aab48da451a65c957ca2289328363b647c6df,137,10,10,3,11655,Julia Kreger,jkreger,"Fix get_boot_option logic for software raid

get_boot_option returns what the effective boot
option is for the scenario at hand for deployment.

That being said, it was never updated to account for the
presence of software raid. It will now return ""local"" as
the boot option when software raid is configured, as
Software RAID is only supported in local boot mode.

Change-Id: I2441cd60bb385648570e5994194e6fc6ff22025a
"
openstack%2Fbashate~master~Ib769d9cbb7ba9f191014c5445ed7f289e013aef4,openstack/bashate,master,drop-py27-support,Ib769d9cbb7ba9f191014c5445ed7f289e013aef4,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 18:27:38.000000000,2020-02-04 02:44:14.000000000,2020-02-04 02:41:40.000000000,11,13,0,705507,0bef5cf226abbdaef713d56b8f7f8084ff2da64b,12,2,3,5,8556,Ghanshyam,ghanshyam,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

bashate is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Ib769d9cbb7ba9f191014c5445ed7f289e013aef4
"
openstack%2Ftripleo-ci~master~Ic65bbba009e1c63fb318d500439b910a5cfb9022,openstack/tripleo-ci,master,,Ic65bbba009e1c63fb318d500439b910a5cfb9022,update ci log readme,MERGED,2020-02-03 20:37:38.000000000,2020-02-04 02:31:14.000000000,2020-02-04 02:31:13.000000000,33,25,0,705549,983594d530f92089e573a3d4094404eff364ce0d,11,5,2,1,9592,wes hayutin,weshayutin,"update ci log readme

organize the log file links
correct a few links

Change-Id: Ic65bbba009e1c63fb318d500439b910a5cfb9022
"
openstack%2Ftripleo-heat-templates~master~I62014508358a83166f2c1d2838fde037f3645d20,openstack/tripleo-heat-templates,master,vf-ansible-roles-name-changes,I62014508358a83166f2c1d2838fde037f3645d20,Update inflight validation role name after a rename in ooo-validations,MERGED,2020-01-23 10:37:19.000000000,2020-02-04 02:31:12.000000000,2020-02-04 02:31:12.000000000,1,1,0,703961,ba8b99df601b323a30e4f26a3220ffa11f9bac7c,14,7,1,1,11491,Gael Chamoulaud,gchamoul,"Update inflight validation role name after a rename in ooo-validations

Roles can no longer have a ""-"" in them according to the upstream ansible
documentation. This change updates the name of the role called as an
inflight validations from THT.

Depends-On: I19bb587ece403f86ddd0bbe174c282326500cfd3
Change-Id: I62014508358a83166f2c1d2838fde037f3645d20
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I254f0ac28f7585b699a8238e01ffb37dd70282ef,openstack/networking-ovn,stable/train,bug/1860662,I254f0ac28f7585b699a8238e01ffb37dd70282ef,Centralize traffic when LB and member has FIP,MERGED,2020-01-16 09:45:32.000000000,2020-02-04 02:24:56.000000000,2020-02-04 02:22:32.000000000,842,187,19,702831,57ac38921efa6bbf0bc4a22950355256cc3ebe6d,60,9,18,7,24791,Maciej Jozefczyk,maciej.jozefczyk,"Centralize traffic when LB and member has FIP

When Load Balancer and its member has FIP assigned
and environment is configured to use DVR the member
FIP needs to be centralized. It is current core OVN
limitation, that should be solved in [1].

This patch adds this mechanism to OVN Client and
OVN Octavia provider driver.

It covers cases:

1) FIP association on port that is a member of
   some LB - make it centralized.
2) FIP association on LB VIP - find a members
   FIPs and centralized them.
3) Add a member to LB that has FIP already
   configured - checks if a member has FIP
   and centralize it.
4) The reverse of each of the above cases.

In addition I needed to extend OVN LB member external_id
entry to add an information about member subnet_id
in order to easly track member port from mechanism OVN
driver.
That means I needed also to support both old and new
conventions. This patch adds also this code.

Old convention:
member_`member_id`_`ip_address`:`port`

New convention:
member_`member_id`_`ip_address`:`port`_`subnet_id`

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1793897

Related-Bug: #1860662

Change-Id: I254f0ac28f7585b699a8238e01ffb37dd70282ef
"
openstack%2Fpython-aodhclient~master~I6f3f5a8df8fcfac4e7b86f3030b86db1af9d3ae2,openstack/python-aodhclient,master,quota-cli,I6f3f5a8df8fcfac4e7b86f3030b86db1af9d3ae2,Support quota CLI,MERGED,2020-02-03 23:06:24.000000000,2020-02-04 02:23:11.000000000,2020-02-04 02:21:39.000000000,232,22,0,705575,040498fdc4758c57cc6d1137c4829f023a8a2698,11,2,3,6,6732,Lingxian Kong,kong,"Support quota CLI

Change-Id: I6f3f5a8df8fcfac4e7b86f3030b86db1af9d3ae2
"
openstack%2Ffreezer~master~I2ddade105a9825a82e18aaf27650d769aedee4cf,openstack/freezer,master,,I2ddade105a9825a82e18aaf27650d769aedee4cf,Fix parsing config file for freezer job,MERGED,2020-01-31 18:53:50.000000000,2020-02-04 02:17:31.000000000,2020-02-04 02:15:56.000000000,29,1,0,705275,c446ec389bc7a805a3b864547f1db88926b61073,13,4,3,2,27339,Michal Arbet,michalarbet,"Fix parsing config file for freezer job

Config parsers do not guess datatypes of values
in configuration files, always storing them internally
as strings. So, we need to test if action_v is not NoneType,
and if it is not, retype to String. Retype is needed if
we get boolean value.

Change-Id: I2ddade105a9825a82e18aaf27650d769aedee4cf
"
openstack%2Ftripleo-operator-ansible~master~Id1256d014c74a576fd67e268a59b5e5d2d4e3d96,openstack/tripleo-operator-ansible,master,molecule-prep,Id1256d014c74a576fd67e268a59b5e5d2d4e3d96,Add molecule jobs for undercloud and minion roles,MERGED,2020-01-28 20:55:59.000000000,2020-02-04 01:32:10.000000000,2020-02-04 01:32:10.000000000,574,20,1,704685,cc7f8988e7ca71bbd2ded65eadba60bc29f0502b,27,3,12,31,14985,Alex Schultz,mwhahaha,"Add molecule jobs for undercloud and minion roles

Change-Id: Id1256d014c74a576fd67e268a59b5e5d2d4e3d96
"
openstack%2Fos-performance-tools~master~Iab69ec59eb111571f784242c5ea5756c2a63e424,openstack/os-performance-tools,master,fix-docs,Iab69ec59eb111571f784242c5ea5756c2a63e424,Fix docs building,MERGED,2020-02-03 20:18:25.000000000,2020-02-04 01:19:45.000000000,2020-02-04 01:18:33.000000000,39,27,0,705543,3d06be24dc7cf97dac59761703beb4a254f9b67b,15,2,7,11,6547,Andreas Jaeger,jaegerandi,"Fix docs building

In preparation for python 3 support switch to newer sphinx version.
This requires openstackdocstheme.

Remove install_command, this is the default.
Update hacking version to be compatible with python 3, fix warnings
from new pep8.

Change-Id: Iab69ec59eb111571f784242c5ea5756c2a63e424
"
openstack%2Fwatcher-tempest-plugin~master~I9673003311450847c2ba2321cda93353898e6469,openstack/watcher-tempest-plugin,master,drop-py27-support,I9673003311450847c2ba2321cda93353898e6469,Drop python 2.7 support and testing,MERGED,2019-10-30 04:46:53.000000000,2020-02-04 00:59:39.000000000,2020-02-04 00:59:39.000000000,11,14,0,692023,2758cfd3058ffd25334903a6ed2b251ac1e82758,16,4,3,4,8556,Ghanshyam,ghanshyam,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

watcher-tempest-plugin is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I9673003311450847c2ba2321cda93353898e6469
"
openstack%2Fbashate~master~I4452fbc4ab66b7469a14d5863820617a911db663,openstack/bashate,master,,I4452fbc4ab66b7469a14d5863820617a911db663,Add release notes and contributing in readme,MERGED,2019-10-06 02:08:44.000000000,2020-02-04 00:49:32.000000000,2020-02-04 00:47:44.000000000,2,0,0,686909,ce1ade76fd616f6ee236922b806d2f6dfb532912,7,2,1,1,30092,Xuan Yandong,xuanyandong,"Add release notes and contributing in readme

Change-Id: I4452fbc4ab66b7469a14d5863820617a911db663
"
openstack%2Ftempest~master~I2a1045cd0f9eb830493b2b4287ccee46223f3c59,openstack/tempest,master,704143,I2a1045cd0f9eb830493b2b4287ccee46223f3c59,Change default region for placement to empty string,MERGED,2020-01-24 11:53:27.000000000,2020-02-04 00:48:05.000000000,2020-02-04 00:46:03.000000000,14,1,1,704143,a89eea8559be734cf7348f634b0ce98ce697597f,67,19,8,2,31541,Swapnil Chhanikar,swapnilchhanikar,"Change default region for placement to empty string

As per tempest design, if tempest conf is not having any region for
a service then identity region should be used. In case of placement
the default value is ""RegionOne"" which is considered as placement
region if region missing in tempest conf. In order to have identity
region to be used as default we need to change to empty string for
placement service. Empty string can be seen being used in other
services like volume, image etc.

Please check the below link for the logic of default region
https://github.com/openstack/tempest/blob/master/tempest/config.py#L1435

Change-Id: I2a1045cd0f9eb830493b2b4287ccee46223f3c59
"
openstack%2Fbashate~master~If2ea649d897293a1129b5e30924080936cfc96de,openstack/bashate,master,drop-py27-support,If2ea649d897293a1129b5e30924080936cfc96de,Convert devstack-bashate to native job,MERGED,2020-02-03 23:13:51.000000000,2020-02-04 00:38:50.000000000,2020-02-04 00:36:44.000000000,14,43,0,705577,645b3a0ef4f76c45851b621397ece6b7c1990d9b,10,2,3,3,7118,Ian Wienand,iwienand,"Convert devstack-bashate to native job

Retire the legacy job for an equivalent native job.

Note this drops devstack-gate testing; that runs tox without a
basepython so breaks when we move bashate to Python 3.  bashate is
pinned in devstack-gate to 0.5.0, and devstack-gate is considered
deprecated, so it will not update to a non-supported version.  We
don't need to keep linting it.

Change-Id: If2ea649d897293a1129b5e30924080936cfc96de
"
openstack%2Fpython-tripleoclient~master~I8822b3515046a4263242d5e1249bb9bac8d80d91,openstack/python-tripleoclient,master,disable/paunch,I8822b3515046a4263242d5e1249bb9bac8d80d91,Disable Paunch by default on the Undercloud,MERGED,2019-12-28 23:12:40.000000000,2020-02-04 00:31:08.000000000,2020-02-04 00:26:50.000000000,8,1,0,700737,dafacfcbf7a6c2e4970943b5e7cb092a4bb5bcf5,42,8,6,2,3153,Emilien Macchi,emilienm,"Disable Paunch by default on the Undercloud

Disabling Paunch on the Undercloud has proven to be stable enough over
the last weeks, we can safely make it the default to move forward.

Depends-On: I707b2f66eb947d64ef6a21238dc26c81575be2c7
Change-Id: I8822b3515046a4263242d5e1249bb9bac8d80d91
"
openstack%2Fpython-tripleoclient~master~I9c0ae96787e8f361e20b2fe4c77f4bf6e873022e,openstack/python-tripleoclient,master,mistral_to_ansible,I9c0ae96787e8f361e20b2fe4c77f4bf6e873022e,Remove mistral workflow to return the ssh private key,MERGED,2020-01-29 00:16:00.000000000,2020-02-04 00:29:43.000000000,2020-02-04 00:26:44.000000000,31,42,0,704714,9307ac5a3a829a9c6b06503c8b713886e7397fdd,14,5,2,8,7353,Kevin Carter,cloudnull,"Remove mistral workflow to return the ssh private key

This change uses the local file system to return the ssh private key which is
known to be stored in the working directory or in the users home folder.
As the method searchs, it attempts to open the key file to ensure that the
calling user has access to the key. In the event of a failure, the updated
method will return None, which the calling methods expect.

Story: 2007212
Task: 38437

Change-Id: I9c0ae96787e8f361e20b2fe4c77f4bf6e873022e
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-upgrade~master~I443865bc95590a5cffcc28d98913110238e863b6,openstack/tripleo-upgrade,master,562957,I443865bc95590a5cffcc28d98913110238e863b6,Clean up ansible variables.,MERGED,2018-04-20 07:18:39.000000000,2020-02-04 00:27:06.000000000,2020-02-04 00:27:06.000000000,25,38,7,562957,e1a3cb51a10b72ba92d8ede0828ba5b096cb9846,89,13,23,7,26343,Jose Luis Franco,jfrancoa,"Clean up ansible variables.

The amount of variables defined inside the
defaults/main.yml was piling up. It makes
sense to provide flexibility via variables,
but some of the ones defined in the role
didn't change and won't change during its
use.

This patch remove most of the '_template'
variables and add the template name in the
src section of the task. Remove also workload variables.

Change-Id: I443865bc95590a5cffcc28d98913110238e863b6
"
openstack%2Ftripleo-heat-templates~master~I8cb54b94fa2c011df67696497eeaec4d022080cc,openstack/tripleo-heat-templates,master,704805,I8cb54b94fa2c011df67696497eeaec4d022080cc,Add missing firewall rule for iscsid in HA deployments,MERGED,2020-01-29 13:36:27.000000000,2020-02-04 00:27:04.000000000,2020-02-04 00:27:04.000000000,1,0,0,704805,45337bdb0f971c2bf33bfc542e1e478f396e791b,32,12,5,1,13861,yatin,yatinkarel,"Add missing firewall rule for iscsid in HA deployments

After https://review.opendev.org/#/c/677237/ iscsid firewall
rules are not applied as now rules are applied with ansible
and these rules are collected like below:-
($.data.role_data, []).where($ != null).select($.get('firewall_rules').

To get the rules applied for cinder-volume-pacemaker these
rules need to be defined in role_data for it, reusing
already defined rules from CinderBase resource.

Depends-On: https://review.opendev.org/#/c/705051/
Closes-Bug: #1861393
Change-Id: I8cb54b94fa2c011df67696497eeaec4d022080cc
"
openstack%2Fpuppet-tripleo~master~Iaa8e4fb26cf4677fe151c699a3911f02e30f8d32,openstack/puppet-tripleo,master,authtoken-memcache-designate,Iaa8e4fb26cf4677fe151c699a3911f02e30f8d32,Use memcached for token caching in designate authtoken,MERGED,2020-01-20 14:00:16.000000000,2020-02-04 00:26:58.000000000,2020-02-04 00:26:58.000000000,118,1,0,703399,78d1492226224297c3b0e1433e73784aeab68094,18,10,3,4,9816,Takashi Kajinami,kajinamit,"Use memcached for token caching in designate authtoken

Use memcached to cache token in designate authtoken, as in-process
cache, which we currently use, was already deprecated[1].

[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a

Change-Id: Iaa8e4fb26cf4677fe151c699a3911f02e30f8d32
"
openstack%2Fansible-role-tripleo-modify-image~master~Id64a8c2e395de28945d5d6b4370c44b80392e543,openstack/ansible-role-tripleo-modify-image,master,yum_update_improvements,Id64a8c2e395de28945d5d6b4370c44b80392e543,Add double quotes around the printf statements in yum_update.sh,MERGED,2020-01-29 11:25:17.000000000,2020-02-04 00:26:57.000000000,2020-02-04 00:26:57.000000000,3,3,0,704780,bb6f78deca04e23cdf42c7be78af8d099f24a41a,20,4,2,1,4978,Julie Pichon,jpichon,"Add double quotes around the printf statements in yum_update.sh

This is consistent with the other printf statements in the file. This
keeps the sorted data with the newlines as they are, and avoids
breaking down the data again. Otherwise, the sorting order can be
altered which breaks comm comparison and causes the ""Run yum_update.sh""
task to fail with the following error:

    ""stderr_lines"": [
        ""comm: file 2 is not in sorted order"",
        ""error while running runtime: exit status 1""
    ],

This is particularly important for the $available variable which
contains the repoquery output, often very large and with unusual
characters. The error happens consistently when including RHEL 7 server
repos or RHEL 8 BaseOS repo and prevents the update from working at
all.

This patch also adds -u when sorting the $available output. Once the
versions are removed with cut, there can be a tremendous amount of
duplication in the data obtained from repoquery. That makes verbose
mode even more difficult to navigate when debugging.

Change-Id: Id64a8c2e395de28945d5d6b4370c44b80392e543
"
openstack%2Fansible-role-collect-logs~master~I737d0d5ac7c7c178b304ce480b1d60e345ade120,openstack/ansible-role-collect-logs,master,fixcontainer,I737d0d5ac7c7c178b304ce480b1d60e345ade120,Fix logs collection with new docker,MERGED,2020-02-03 14:06:59.000000000,2020-02-04 00:26:56.000000000,2020-02-04 00:26:56.000000000,0,1,0,705446,d784c1efa1eea3174ae721db965d6a4bd53616eb,10,5,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Fix logs collection with new docker

With new version of docker it's stuck on ""stats"" collection, let's
remove this task untils it's fixed.

Partial-Bug: #1861378
Change-Id: I737d0d5ac7c7c178b304ce480b1d60e345ade120
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I8911a79328769c910d03168cfa5a421d0dd0f9b6,openstack/tripleo-heat-templates,stable/rocky,,I8911a79328769c910d03168cfa5a421d0dd0f9b6,Set octavia services' stop grace period to 300sec,MERGED,2020-01-23 08:48:41.000000000,2020-02-04 00:26:55.000000000,2020-02-04 00:26:55.000000000,3,0,0,703942,07d02af94548ff35a91c62ab9d206f761a1d7b37,12,4,1,3,29244,Gregory Thiemonge,gthiemonge,"Set octavia services' stop grace period to 300sec

Octavia worker, house-keeping and health-monitor serivices may use some
long taskflow's flows to handle load balancers and amphorae (launch VMs,
etc...). Those flows should not be interrupted when restarting those
services (i.e when updating an overcloud, or restarting services because
of certificates rotation), it might cause resource leaks that cannot be
fixed by an admin.

As default container stop timeout is defined to 10 seconds, this timeout
value needs to be increased for octavia services (except octavia api) to
ensure a graceful shutdown.
This new value has been set to 300 seconds according to the octavia
worker default configuration introduced in
https://review.opendev.org/#/c/684201/

Closes-Bug: #1855684
Change-Id: I8911a79328769c910d03168cfa5a421d0dd0f9b6
(cherry picked from commit c595835776eccbc2f59b69574f0aa5c3e87c9bd5)
(cherry picked from commit 011935828040360940130d1402704f3bb68485e9)
"
openstack%2Fansible-role-collect-logs~master~I92d04d4330929b15fc8ec9cd139e287f09ed4ae9,openstack/ansible-role-collect-logs,master,fix/pkg-defaults,I92d04d4330929b15fc8ec9cd139e287f09ed4ae9,Make collect package list distro-aware,MERGED,2020-01-31 09:08:03.000000000,2020-02-04 00:26:52.000000000,2020-02-04 00:26:52.000000000,33,8,4,705175,0fc86f559d1804adf7d5550545b4f8b50623a50b,19,11,2,6,24162,Sorin Sbârnea,ssbarnea,"Make collect package list distro-aware

This will allow us to easily add package names which are dependent
on specific distributions, or to override the list when calling the role.

Also clarifies the documentation around what counts as public interface of the role.

Change-Id: I92d04d4330929b15fc8ec9cd139e287f09ed4ae9
"
openstack%2Fpython-tripleoclient~master~I0cb2743d1d4d118320a799c6820d48f9b917498f,openstack/python-tripleoclient,master,bug/1858115,I0cb2743d1d4d118320a799c6820d48f9b917498f,"Revert ""Revert ""Overload stdout callback plugin""""",MERGED,2020-01-27 18:23:14.000000000,2020-02-04 00:26:49.000000000,2020-02-04 00:26:49.000000000,41,6,0,704384,b46e36172d856da5b57af92854ae8484f1d54532,23,8,4,4,7353,Kevin Carter,cloudnull,"Revert ""Revert ""Overload stdout callback plugin""""

Changes have been made to our ansible-runner usage to ensure we're not running into
file not found and directory creation collisions. This revert should allow us to
define callback plugins as needed and we shouldn't run into the failures we were
seeing before.

This reverts commit dbfe988265663acaae9d7e1c03ccefd28f01c2a8.

Change-Id: I0cb2743d1d4d118320a799c6820d48f9b917498f
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I9840a26f10d8ad72b5fa187e56b1b3dbfd63e40d,openstack/tripleo-heat-templates,master,,I9840a26f10d8ad72b5fa187e56b1b3dbfd63e40d,Rename common deploy step 1 tasks,MERGED,2020-01-29 22:21:19.000000000,2020-02-04 00:26:43.000000000,2020-02-04 00:26:43.000000000,6,1,0,704900,5d8425ddaf08439b5d4157db868a978e59e82b21,8,4,1,1,7144,James Slagle,slagle,"Rename common deploy step 1 tasks

There was already a play/task for ""common deploy step tasks 1"", so this
was a bad name to begin with. Use common bootstrap tasks instead.

Also adds a missing debug task.

Change-Id: I9840a26f10d8ad72b5fa187e56b1b3dbfd63e40d
"
openstack%2Ftripleo-heat-templates~master~I9ffddcaa52314c615362969757c94ebdf01a3b6d,openstack/tripleo-heat-templates,master,,I9ffddcaa52314c615362969757c94ebdf01a3b6d,Swap tasks to avoid non-existing variable error.,MERGED,2020-02-03 09:33:24.000000000,2020-02-04 00:26:37.000000000,2020-02-04 00:26:37.000000000,22,37,0,705397,bca35e611bbc8f103e4893282c9b2c49aa4e1e48,9,10,1,11,26343,Jose Luis Franco,jfrancoa,"Swap tasks to avoid non-existing variable error.

The upgrade workflow to Stein has a guard task that
checks that the --limit option is being used when
running the overcloud upgrade run command, as the
upgrade needs to be performed node by node due to
the operating system upgrade. However, if the --limit
option is not passed, the upgrade tasks fails in the
task right before the guard, as that task already
references the undefined variable. So, it is needed
to invert the order so we fail at will in the guard
task.

Change-Id: I9ffddcaa52314c615362969757c94ebdf01a3b6d
Closes-Bug: #1861663
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1043d66586d22b26adf66145879d1a64a25f54a0,openstack/tripleo-heat-templates,stable/train,ceph_deps_inflight_validations-stable/train,I1043d66586d22b26adf66145879d1a64a25f54a0,Ensure Ceph dependencies are installed in pre-provisioned nodes,MERGED,2020-01-30 06:47:42.000000000,2020-02-03 23:41:18.000000000,2020-02-03 23:41:18.000000000,11,0,1,704926,268610fc300941e998adfdf24cbcef203e4ba0bf,17,7,1,1,25402,Francesco Pantano,fmount,"Ensure Ceph dependencies are installed in pre-provisioned nodes

This change adds an in-flight validation to make sure all the
specified Ceph dependencies are installed.
If a package is not installed in the overcloud, then fail the
deployment using the message from the validations frame work.

Depends-on: https://review.opendev.org/#/c/697453
Change-Id: I1043d66586d22b26adf66145879d1a64a25f54a0
(cherry picked from commit bcebf3996908eb72114bf27343ba6d74425d67f8)
"
openstack%2Fopenstack-ansible-os_heat~stable%2Frocky~I533ab16557cb83e2791dbb7267a97fb0d44e9ba6,openstack/openstack-ansible-os_heat,stable/rocky,bug/1811086-stable/rocky,I533ab16557cb83e2791dbb7267a97fb0d44e9ba6,Fix keystone endpoint for heat servers,ABANDONED,2020-02-03 20:58:31.000000000,2020-02-03 22:18:28.000000000,,4,3,0,705555,5a5bbc491bb9be410c54d36be294a597a2655e0e,10,2,1,1,21714,Shannon Mitchell,shananigans,"Fix keystone endpoint for heat servers

This patch changes the heat config so that communication between
the heat service and the other internal parts of openstack occurs over
the internal API endpoint, but a new heat configuration option [1] is set
which ensures that the keystone endpoint written into server configs
points to the external API endpoint.

This should address several long running SSL related failures when self
signed certificates are used, and allows heat to work correctly when the
internal and external endpoints are on different networks.

Change-Id: I533ab16557cb83e2791dbb7267a97fb0d44e9ba6
Fixes-Bug: 1811086
Fixes-Bug: 1820591
Related-Bug: 1824646
Related-Bug: 1814909
Depends-On: https://review.opendev.org/678062
(cherry picked from commit 288634ce0bf042bed614b3f764753d7b65a7170f)
"
openstack%2Fcharm-designate~master~I77bed0a5aa762dab5fcaf65487b4044d9f5b54ae,openstack/charm-designate,master,batch-update,I77bed0a5aa762dab5fcaf65487b4044d9f5b54ae,Add ussuri package version and drop disco test,MERGED,2020-01-30 18:28:16.000000000,2020-02-03 22:01:54.000000000,2020-02-03 22:01:54.000000000,1,24,0,705082,38240b8d140d2b3fdff443201000dc8f953fd366,26,5,3,2,11805,Corey Bryant,coreycb,"Add ussuri package version and drop disco test

Add the ussuri major package version.
Drop the disco function test now that disco is EOL.

Change-Id: I77bed0a5aa762dab5fcaf65487b4044d9f5b54ae
"
openstack%2Fcharm-keystone-ldap~master~Ice0ae709817db2fd9ffcff299ca403b70dd22721,openstack/charm-keystone-ldap,master,bug/1828424,Ice0ae709817db2fd9ffcff299ca403b70dd22721,Migrate keystone-ldap tests to zaza,MERGED,2020-01-21 21:07:56.000000000,2020-02-03 21:41:46.000000000,2020-02-03 21:41:46.000000000,379,294,0,703696,1549f44cc6c49a8608d40aabeab023acacbc9d82,30,5,6,24,31420,Adam Dyess,addyess,"Migrate keystone-ldap tests to zaza

removing disco_stein as its EOL

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/156
Change-Id: Ice0ae709817db2fd9ffcff299ca403b70dd22721
Closes-Bug: #1828424
"
openstack%2Faodh~master~Ib915aee888d376cb620a49ad9fdc2dc9806e986d,openstack/aodh,master,quota-releasenote,Ib915aee888d376cb620a49ad9fdc2dc9806e986d,Release note for quota API,MERGED,2020-01-31 02:49:45.000000000,2020-02-03 21:12:15.000000000,2020-02-03 21:10:18.000000000,7,0,0,705148,83ef3a8117a10c75be1406b3c0db505b8fd637a0,13,2,2,1,6732,Lingxian Kong,kong,"Release note for quota API

Change-Id: Ib915aee888d376cb620a49ad9fdc2dc9806e986d
"
openstack%2Fkuryr-kubernetes~master~I82238280a2924f1979c5b0b99399c4570093b360,openstack/kuryr-kubernetes,master,ensure-deletion-of-ns-resources,I82238280a2924f1979c5b0b99399c4570093b360,Ensure namespace network resources are deleted even on subnet not found,MERGED,2020-01-29 17:33:25.000000000,2020-02-03 21:07:47.000000000,2020-02-03 21:05:37.000000000,11,5,1,704853,7691e94ef3327e185d0157f83b9e75f9ef555346,27,5,3,1,27032,Maysa de Macedo Souza,maysa,"Ensure namespace network resources are deleted even on subnet not found

OpenStackSDK is raising a SDKException when a subnet does not
exist, causing the controller to continuosly restart.
This commit protects from such scenario by ignoring when
such exception happens with certain message.

Closes-bug: 1861314

Change-Id: I82238280a2924f1979c5b0b99399c4570093b360
"
openstack%2Ftripleo-operator-ansible~master~I40e6f1c2ed71ab57d6597c086554186e233d7b94,openstack/tripleo-operator-ansible,master,molecule-prep,I40e6f1c2ed71ab57d6597c086554186e233d7b94,Add tripleo overcloud deploy role,MERGED,2020-01-30 23:29:38.000000000,2020-02-03 20:58:42.000000000,2020-02-03 15:45:40.000000000,834,0,3,705131,9d67fc26ed92ac6fab3c9ba69ce4979c229113dd,53,3,25,11,14985,Alex Schultz,mwhahaha,"Add tripleo overcloud deploy role

Adds tripleo_overcloud_deploy role to run the overcloud deployment.

Change-Id: I40e6f1c2ed71ab57d6597c086554186e233d7b94
"
openstack%2Fopenstack-ansible-os_heat~master~I533ab16557cb83e2791dbb7267a97fb0d44e9ba6,openstack/openstack-ansible-os_heat,master,bug/1811086,I533ab16557cb83e2791dbb7267a97fb0d44e9ba6,Fix keystone endpoint for heat servers,MERGED,2019-07-26 10:55:10.000000000,2020-02-03 20:58:31.000000000,2019-08-23 20:58:08.000000000,4,3,0,672948,288634ce0bf042bed614b3f764753d7b65a7170f,42,4,6,1,25023,Jonathan Rosser,jrosser,"Fix keystone endpoint for heat servers

This patch changes the heat config so that communication between
the heat service and the other internal parts of openstack occurs over
the internal API endpoint, but a new heat configuration option [1] is set
which ensures that the keystone endpoint written into server configs
points to the external API endpoint.

This should address several long running SSL related failures when self
signed certificates are used, and allows heat to work correctly when the
internal and external endpoints are on different networks.

Change-Id: I533ab16557cb83e2791dbb7267a97fb0d44e9ba6
Fixes-Bug: 1811086
Fixes-Bug: 1820591
Related-Bug: 1824646
Related-Bug: 1814909
Depends-On: https://review.opendev.org/678062
"
openstack%2Fcinder~stable%2Fstein~Idd6f7daea91cbf55dbfba48fac455dda81fe7f82,openstack/cinder,stable/stein,bug/1810270,Idd6f7daea91cbf55dbfba48fac455dda81fe7f82,Support Incremental Backup Completion In RBD,ABANDONED,2020-01-29 19:57:48.000000000,2020-02-03 20:55:36.000000000,,261,171,1,704876,63bfbfca98ca75a0e20387506aa5bde16e39f302,18,13,1,7,20813,Sofia Enriquez,enriquetaso,"Support Incremental Backup Completion In RBD

Ceph RBD backend ignores the `--incremental` option when creating a
volume backup. The first backup of a given volume is always a full
backup, and each subsequent backup is always an incremental backup.
This behavior makes it impossible to remove old backups while
keeping at least one recent backup.

Since Cinder will not find the latest_backup id as parent_id if
'--incremental=False', so we can use the parent_id to ensure
whether do the full backup in rbd driver or not.

If the incremental flag '--incremental' is not specified, this
patch will always create a new full backup for rbd volume.

Closes-Bug: #1810270
Closes-Bug: #1790713
Co-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>
(cherry picked from commit 5018727f8e18992e64c55b84f0d5b39ae7c70b32)

Conflicts:
	cinder/tests/unit/backup/drivers/test_backup_ceph.py

Change-Id: Idd6f7daea91cbf55dbfba48fac455dda81fe7f82
"
openstack%2Fironic~master~I6edf6eb7ae1e9f3aa7bc3220cd943a4849f4997c,openstack/ironic,master,fix-jsonpatch-test,I6edf6eb7ae1e9f3aa7bc3220cd943a4849f4997c,Fix jsonpatch related tests,MERGED,2020-02-03 09:22:47.000000000,2020-02-03 20:45:48.000000000,2020-02-03 20:43:20.000000000,7,4,0,705395,1e7447a1764a1ca0de2005097570a8dc6d1125e3,14,5,3,3,23851,Riccardo Pittau,elfosardo,"Fix jsonpatch related tests

Latest release of jsonpatch fixed an issue with array boundaries[1]
but broke tests since JsonPatchConflict is now correctly raised
when a patch tries to replace an item that doesn't exist.
This patch fixes the issue with the tests including
JsonPatchConflict in the json exceptions intercepted by the method
apply_jsonpatch.

[1] https://github.com/stefankoegl/python-json-patch/commit/b3726f3a8bdcdf0f0841e078228014de8477b0ec

Change-Id: I6edf6eb7ae1e9f3aa7bc3220cd943a4849f4997c
"
openstack%2Fnova~master~I017163c6cdf8727be9913a6870cd91fec5f4d568,openstack/nova,master,bp/support-move-ops-with-qos-ports-ussuri,I017163c6cdf8727be9913a6870cd91fec5f4d568,Use common server create function for qos func tests,MERGED,2020-01-07 10:59:56.000000000,2020-02-03 20:01:17.000000000,2020-02-03 19:55:40.000000000,13,78,0,701353,52a03b195e61396444cf22bc35c1bd046a2bc50a,58,10,9,1,9708,Balazs Gibizer,gibi,"Use common server create function for qos func tests

I1222fc21bde4158df1db70370c7f3bd319ec081f added a common helper for
server creation. This patch updated the existing qos tests to use that
helper.

Change-Id: I017163c6cdf8727be9913a6870cd91fec5f4d568
blueprint: support-move-ops-with-qos-ports-ussuri
"
openstack%2Fnova~master~Ied8f96b4e67f79498519931cb6b35dad5288bbb8,openstack/nova,master,bp/support-move-ops-with-qos-ports-ussuri,Ied8f96b4e67f79498519931cb6b35dad5288bbb8,Remove extra instance.save() calls related to qos SRIOV ports,MERGED,2020-01-13 17:05:59.000000000,2020-02-03 19:58:45.000000000,2020-02-03 19:55:34.000000000,70,58,14,702261,56f29b3e4ab0d5bad7ab3de5437e25729528c8e6,59,12,5,8,9708,Balazs Gibizer,gibi,"Remove extra instance.save() calls related to qos SRIOV ports

During creating or moving of an instance with qos SRIOV port the PCI
device claim on the destination compute needs to be restricted to select
PCI VFs from the same PF where the bandwidth for the qos port is
allocated from. This is achieved by updating the spec part of the
InstancePCIRequest with the device name of the PF by calling
update_pci_request_spec_with_allocated_interface_name(). Until now
such update of the instance object was directly persisted by the call.

During code review it was came up that the instance.save() in the util
is not appropriate as the caller has a lot more context to decide when
to persist the changes.

The original eager instance.save was introduced when support added to
the server create flow. Now I realized that the need for such save was
due to a mistake in the original ResourceTracker.instance_claim() call
that loads the InstancePCIRequest from the DB instead of using the
requests through the passed in instance object. By removing the extra DB
call the need for eagerly persisting the PCI spec update is also
removed. It turned out that both the server create code path and every
server move code paths eventually persist the instance object either
during at the end of the claim process or in case of live migration in
the post_live_migration_at_destination compute manager call. This means
that the code now can be simplified. Especially the live migration cases.

In the live migrate abort case we don't need to roll back the eagerly
persisted PCI change as now such change is only persisted at the end
of the migration but still we need to refresh pci_requests field of
the instance object during the rollback as that field might be stale,
containing dest host related PCI information.

Also in case of rescheduling during live migrate if the rescheduling
failed the PCI change needed to be rolled back to the source host by a
specific code. But now those change are never persisted until the
migration finishes so this rollback code can be removed too.

Change-Id: Ied8f96b4e67f79498519931cb6b35dad5288bbb8
blueprint: support-move-ops-with-qos-ports-ussuri
"
openstack%2Fopenstack-helm-images~master~Ic7f2730a9a071ab4c6d8395ce89f462d52d30f9b,openstack/openstack-helm-images,master,,Ic7f2730a9a071ab4c6d8395ce89f462d52d30f9b,Update help for pvc_pv_rbd_monitoring.py,ABANDONED,2020-02-03 19:25:41.000000000,2020-02-03 19:30:01.000000000,,4,1,0,705529,527bb27f05b8724a16f380e996460e995c2574a7,2,0,1,1,10108,Denis Ipatov,gh7717,"Update help for pvc_pv_rbd_monitoring.py

Change-Id: Ic7f2730a9a071ab4c6d8395ce89f462d52d30f9b
"
openstack%2Ftripleo-ansible~master~Ic4c3b28f3add3e1d2dd07c09d4992047cd7c62dc,openstack/tripleo-ansible,master,2020,Ic4c3b28f3add3e1d2dd07c09d4992047cd7c62dc,"Skeleton role, get with the decade",MERGED,2020-01-30 21:50:38.000000000,2020-02-03 19:26:12.000000000,2020-02-03 19:26:12.000000000,9,9,0,705124,4505e48354148045ddd66855adadd3179a0a2257,8,4,1,9,4571,Steve Baker,steve-stevebaker,"Skeleton role, get with the decade

Update the copyright year to 2020 for new roles

Change-Id: Ic4c3b28f3add3e1d2dd07c09d4992047cd7c62dc
"
openstack%2Ftripleo-ansible~master~I7728b6a6bbf8447ec3290a13cb7f5807b30cc01f,openstack/tripleo-ansible,master,,I7728b6a6bbf8447ec3290a13cb7f5807b30cc01f,Add grafana vip on the storage network,MERGED,2020-01-27 11:19:53.000000000,2020-02-03 19:26:12.000000000,2020-02-03 19:26:11.000000000,2,2,17,704308,7b97d50ff4e884b24b3e66538b5999290cebed76,31,5,5,1,25402,Francesco Pantano,fmount,"Add grafana vip on the storage network

This patch allows us to make sure we set
the ceph_grafana_vip on the storage network
since it's not the service that should be
exposed to the end users.

Change-Id: I7728b6a6bbf8447ec3290a13cb7f5807b30cc01f
"
openstack%2Fglance~master~If5bb4b608d02c502e2cec953317c9156865e58de,openstack/glance,master,import-refactor,If5bb4b608d02c502e2cec953317c9156865e58de,Image Import Refactor: Value discovery,ABANDONED,2016-01-21 18:58:51.000000000,2020-02-03 19:02:06.000000000,,218,0,104,270980,01b634a8b5a7d6766cb669d1cd8c938747bfd1fc,109,20,13,5,8122,Cyril Roelandt,cyril.roelandt.enovance,"Image Import Refactor: Value discovery

This commit introduces a new 'v2/info/import' resource for value
discovery during the image import process.

The approved spec and associated details related to this call are at
http://specs.openstack.org/openstack/glance-specs/specs/mitaka/approved/image-import/image-import-refactor.html#value-discovery

Co-Authored-By: Cyril Roelandt <cyril@redhat.com>
Co-Authored-By: Nikhil Komawar <nik.komawar@gmail.com>

* TODO: improve the commit message
* TODO: add release notes
* TODO: add details why config is not auto refreshed here
* TODO: add explanation of why the call is setup this way and tested

Change-Id: If5bb4b608d02c502e2cec953317c9156865e58de
Partially-blueprint: image-import-refactor
Partial-Bug: #1523944
"
openstack%2Fneutron~master~Ia1575b2b7fb93b09d8e54f9230ea2f29c1d59c42,openstack/neutron,master,bp/neutron-ovn-merge,Ia1575b2b7fb93b09d8e54f9230ea2f29c1d59c42,[OVN] Migrate the OVN tools,MERGED,2020-01-13 11:45:58.000000000,2020-02-03 18:29:54.000000000,2020-02-03 18:27:23.000000000,344,0,12,702200,349869096be9df3b0cf2f9dcc429e4b1672e79cf,111,11,7,4,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Migrate the OVN tools

This patch is migrating the OVN tools and adding its entry points.

Change-Id: Ia1575b2b7fb93b09d8e54f9230ea2f29c1d59c42
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fnova~stable%2Fqueens~I69f52f1282c8361c9cdf90a523f3612139cb8423,openstack/nova,stable/queens,bug/1829479,I69f52f1282c8361c9cdf90a523f3612139cb8423,Add functional recreate test for bug 1829479 and bug 1817833,MERGED,2019-12-18 15:03:18.000000000,2020-02-03 18:27:28.000000000,2020-02-03 18:27:28.000000000,61,0,0,699698,23ca5e5ac9b90ff45074ae9171f63ca060ebcedd,10,6,1,2,6873,Matt Riedemann,mriedem,"Add functional recreate test for bug 1829479 and bug 1817833

Change I7b8622b178d5043ed1556d7bdceaf60f47e5ac80 started deleting
the associated resource provider when a compute service is deleted.
However, the delete_resource_provider cascade=True logic only looks
for instances on the given compute service host being deleted which
will miss (1) allocations remaining from evacuated servers and
(2) unconfirmed migrations.

Attempting to delete the resource provider results in an
ResourceProviderInUse error which delete_resource_provider ignores
for legacy reasons. This results in the compute service being
deleted but the resource provider being orphaned. What's more,
attempting to restart the now-deleted compute service will fail
because nova-compute will try to create a new resource provider
with a new uuid but with the same name (based on the hypervisor
hostname). That failure is actually reported in bug 1817833.

Conflicts:
      nova/tests/functional/integrated_helpers.py

NOTE(mriedem): The conflict is due to not having change
Iea283322124cb35fc0bc6d25f35548621e8c8c2f in Queens so the
change to ProviderUsageBaseTestCase is made in test_servers.py
rather than integrated_helpers.py.

Change-Id: I69f52f1282c8361c9cdf90a523f3612139cb8423
Related-Bug: #1829479
Related-Bug: #1817833
(cherry picked from commit 2629d65fbc15d8698f98117e0d6072810f70da03)
(cherry picked from commit b18e42d20bd7d341e713292bdb179ae8e5530d33)
(cherry picked from commit 6eda7409fff75449c97843b2d6ead0b3267a1099)
"
openstack%2Fironic~stable%2Ftrain~Ib99beae77a3002146c734ab020302822c989eb12,openstack/ironic,stable/train,change_vxlan_setup-stable/train,Ib99beae77a3002146c734ab020302822c989eb12,Run only one ovs-vsctl in setup_vxlan_network,NEW,2020-02-03 12:24:06.000000000,2020-02-03 18:18:53.000000000,,4,6,0,705431,ca1460db236bcf005743630506372fd6ff34bc1c,5,4,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Run only one ovs-vsctl in setup_vxlan_network

In CI we can see some Errors in the grenade-multinode-multitenant job:
""ovs-vsctl: Error detected while setting up 'phy-brbm-infra': could not
open network device phy-brbm-infra (No such device).  See ovs-vswitchd
log for details.""

This commit changes the setup_vxlan_netwrok function to run
only one ovs-vsctl that will do everything, avoiding Errors.

Change-Id: Ib99beae77a3002146c734ab020302822c989eb12
"
openstack%2Fneutron~stable%2Fstein~I5b259717c0fdb8991f1df86b1ef4fb8ad0f18e70,openstack/neutron,stable/stein,bug/1836095-stable/stein,I5b259717c0fdb8991f1df86b1ef4fb8ad0f18e70,"Improve ""OVSFirewallDriver.process_trusted_ports""",MERGED,2020-01-31 10:34:56.000000000,2020-02-03 18:13:44.000000000,2020-02-03 18:11:40.000000000,25,9,0,705186,843eccb9ee481f6eb5c47a84f91f8f8487d8a7c1,37,6,1,2,21798,Bernard Cafarelli,bcafarel,"Improve ""OVSFirewallDriver.process_trusted_ports""

FirewallDriver.process_trusted_ports"" is called with many ports,
""_initialize_egress_no_port_security"" retrieves the VIF ports
(""Interface"" registers in OVS DB), one per iteration, based in the
port_id. Instead of this procedure, if the DB is called only once to
retrieve all the VIF ports, the performance increase is noticeable.
E.g.: bridge with 1000 ports and interfaces.

Retrieving 100 ports:
- Bulk operation: 0.08 secs
- Loop operation: 5.6 secs

Retrieving 1000 ports:
- Bulk operation: 0.08 secs
- Loop operation: 59 secs

Closes-Bug: #1836095
Related-Bug: #1836023

Change-Id: I5b259717c0fdb8991f1df86b1ef4fb8ad0f18e70
(cherry picked from commit ae1d36fa9d8e2115a5241b5da2e941cdefa2c463)
"
openstack%2Ftripleo-quickstart~master~Ib30a83f4a0bc3e503b422f8b5098c60133614959,openstack/tripleo-quickstart,master,cellv2,Ib30a83f4a0bc3e503b422f8b5098c60133614959,Add nova cellv2 multicell support,MERGED,2019-10-28 15:09:16.000000000,2020-02-03 18:12:58.000000000,2020-02-03 18:11:06.000000000,232,0,4,691688,3bf4667ee153573e79f952be49e525b71dea958c,64,13,8,5,17216,Martin Schuppert,mcschupp,"Add nova cellv2 multicell support

This introduce needed changes to be able to deploy an additional
cell via oooq. If additional_cell is set to true after the
overcloud got deployed the additional cell gets deployed. Todo
this information gets extracted from the overcloud stack, which
is requried as input to the second heat stack, where the additional
cell is managed with. As a reference [1] is the scenario which
is installed adding a single additional cell.

config/general_config/featureset063.yml is used for the configuration
and config/nodes/1ctlr_1cellctrl_1comp.yml has a nova config
example.

[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/deploy_cellv2_basic.html

Change-Id: Ib30a83f4a0bc3e503b422f8b5098c60133614959
"
openstack%2Fcyborg~master~I5e7dcae051a45cfcd9f27d463f593a79960ce346,openstack/cyborg,master,async-ut-v3,I5e7dcae051a45cfcd9f27d463f593a79960ce346,testcase for FPGAExtARQ,MERGED,2019-12-16 05:55:02.000000000,2020-02-03 18:07:00.000000000,2020-02-03 18:05:24.000000000,432,9,12,699153,33e74c0b8db6402f3106b4471be6e1a2379e34d3,28,5,7,5,14131,shaohef,shaohefeng,"testcase for FPGAExtARQ

This is one of ExtARQ bind UT patches serial.

Change-Id: I5e7dcae051a45cfcd9f27d463f593a79960ce346
"
openstack%2Fansible-role-uwsgi~master~I000b8a4ae4c8ee0c9ce44e520e0c74cdd0f4afea,openstack/ansible-role-uwsgi,master,,I000b8a4ae4c8ee0c9ce44e520e0c74cdd0f4afea,Run uwsgi tasks only when uwsgi_services defined,MERGED,2020-01-30 09:12:18.000000000,2020-02-03 18:01:35.000000000,2020-02-03 17:59:47.000000000,4,0,0,704944,b2a0db4b47ae2ee704be5695f249b952c51eb194,19,4,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Run uwsgi tasks only when uwsgi_services defined

Change-Id: I000b8a4ae4c8ee0c9ce44e520e0c74cdd0f4afea
"
openstack%2Fec2api-tempest-plugin~master~Ib6eacaa0df53579ab34ef5844c1eb70dc1a2cc79,openstack/ec2api-tempest-plugin,master,,Ib6eacaa0df53579ab34ef5844c1eb70dc1a2cc79,Fix tests,MERGED,2020-02-03 17:31:02.000000000,2020-02-03 17:58:45.000000000,2020-02-03 17:58:45.000000000,1,1,0,705494,4e58bbd7056e16b82a32513101f389f03ddcab8a,7,2,1,1,31572,Dmitry_Eremeev,Dmitry_Eremeev,"Fix tests

Change-Id: Ib6eacaa0df53579ab34ef5844c1eb70dc1a2cc79
"
openstack%2Ftripleo-heat-templates~master~I5346b32962b8cee5c64e4f07c0b68e2512085e83,openstack/tripleo-heat-templates,master,fix_rmi,I5346b32962b8cee5c64e4f07c0b68e2512085e83,"Remove all the ""container_cli rmi -f"" from HA containers",MERGED,2020-01-31 18:12:34.000000000,2020-02-03 17:55:42.000000000,2020-02-03 17:55:41.000000000,0,130,0,705270,9a830255b73ec42edbdc8f7c417ebddc3ba364e4,12,6,1,10,20172,Michele Baldessari,michele,"Remove all the ""container_cli rmi -f"" from HA containers

Back in the days we had added the rmi -f container calls in order
to try and clean up any old unused container images whenever we updated
any HA container. Nowadays this already happens via the
tripleo_ansible/tripleo_podman/purge role which prunes any unused
container image.

There is no point in keeping this code around since we already purge
images as a post upgrade/update task. We want to remove this code also
because it fails horribly when we update the HA containers with an image
that is based off the previously deployed image. In fact that fails
with:
TASK [Remove previous galera images] *******************************************
Friday 31 January 2020  10:34:40 +0000 (0:00:02.684)       0:02:56.021 ********
fatal: [database-0]: FAILED! => {""changed"": true, ""cmd"": ""podman rmi -f 209e952aa6cb3c212e57e5f81693eb4776c0c4b6cf96fb4faabdaa7403b2a94d"", ""delta"": ""0:00:00.110460"", ""end"": ""2020-01-31 10:34:40.772522"", ""msg"": ""non-zero return code"", ""rc"": 2, ""start"": ""2020-01-31 10:34:40.662062"", ""stderr"": ""Error: unable to delete \""209e952aa6cb3c212e57e5f81693eb4776c0c4b6cf96fb4faabdaa7403b2a94d\"" (cannot be forced) - image has dependent child images"", ""stderr_lines"": [""Error: unable to delete \""209e952aa6cb3c212e57e5f81693eb4776c0c4b6cf96fb4faabdaa7403b2a94d\"" (cannot be forced) - image has dependent child images""], ""stdout"": """", ""stdout_lines"": []}

This is particularly important because any hotfix container
generated with tripleo-modify-image role will be affected by this issue.

We tested this by doing the following:
1) Deploying an overcloud
2) Patching all HA containers with tripleo-modify-image
3) Running an update

With this change the update did not fail any longer and the correct
images were being used by pacemaker after the update process.

Co-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>

Change-Id: I5346b32962b8cee5c64e4f07c0b68e2512085e83
Closes-Bug: #1861498
"
openstack%2Fcharm-designate-bind~master~I5fa40b3e0f77d3ac1fc41d3787225563ddb5ed2c,openstack/charm-designate-bind,master,batch-update,I5fa40b3e0f77d3ac1fc41d3787225563ddb5ed2c,Pin Jinja2 for python 3.4 and drop disco test,MERGED,2020-01-31 18:54:58.000000000,2020-02-03 17:47:02.000000000,2020-02-03 17:47:02.000000000,2,26,0,705276,6fd8774d9222feff5bdb97abd2daab2e88db435f,13,4,2,2,11805,Corey Bryant,coreycb,"Pin Jinja2 for python 3.4 and drop disco test

Pin Jinja2 to the last versions supporting python 3.4 for trusty.
Drop disco functional test now that disco is EOL.

Change-Id: I5fa40b3e0f77d3ac1fc41d3787225563ddb5ed2c
"
openstack%2Fpycadf~master~Iec8c47b82022b616b8361651bf23f853b0ce5624,openstack/pycadf,master,drop-py27-support,Iec8c47b82022b616b8361651bf23f853b0ce5624,Drop python 2.7 support and testing,MERGED,2019-12-25 09:36:40.000000000,2020-02-03 17:07:05.000000000,2020-02-03 17:03:27.000000000,26,35,17,700558,939253044a957793b82c2c091a766e6656d573d0,26,5,7,7,27822,pengyuesheng,pengyuesheng,"Drop python 2.7 support and testing

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Include small cleanups:
* remove install_command from tox.ini, this is the default
* Use sphinx-build as modern way to run sphinx, remove setup.cfg
  settings for build-sphinx
* Use sphinxcontrib-apidoc for docs with newer sphinx
* Remove obsolete doc/source/conf.py broken
* Add python-requires to setup.cfg to make Python 3.6 requirement
  explicit
* Remove obsolete pbr setup-hooks

Co-Authored-By: Andreas Jaeger <aj@suse.com>
Change-Id: Iec8c47b82022b616b8361651bf23f853b0ce5624
"
openstack%2Fec2api-tempest-plugin~master~I25dec7cb17d3067425d4c743f09e110a58f4c15f,openstack/ec2api-tempest-plugin,master,Fix tests,I25dec7cb17d3067425d4c743f09e110a58f4c15f,Fix tests,ABANDONED,2020-02-03 17:00:22.000000000,2020-02-03 17:05:36.000000000,,0,0,0,705482,b5023442d0708ce4f9f7dcc0a2e0df84b705fcc8,3,0,1,0,31572,Dmitry_Eremeev,Dmitry_Eremeev,"Fix tests

Change-Id: I25dec7cb17d3067425d4c743f09e110a58f4c15f
"
openstack%2Fironic~master~Ib99beae77a3002146c734ab020302822c989eb12,openstack/ironic,master,change_vxlan_setup,Ib99beae77a3002146c734ab020302822c989eb12,Run only one ovs-vsctl in setup_vxlan_network,NEW,2020-02-03 12:23:13.000000000,2020-02-03 16:54:52.000000000,,4,6,2,705430,a9b83c17a3842893bbe8d9f52d70058dabe14ba7,8,5,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Run only one ovs-vsctl in setup_vxlan_network

In CI we can see some Errors in the grenade-multinode-multitenant job:
""ovs-vsctl: Error detected while setting up 'phy-brbm-infra': could not
open network device phy-brbm-infra (No such device).  See ovs-vswitchd
log for details.""

This commit changes the setup_vxlan_netwrok function to run
only one ovs-vsctl that will do everything, avoiding Errors.

Change-Id: Ib99beae77a3002146c734ab020302822c989eb12
"
openstack%2Fmicroversion-parse~master~I9542c1dba3f339c2acece83d7d2b5726c1c3e2bc,openstack/microversion-parse,master,drop-py27-support,I9542c1dba3f339c2acece83d7d2b5726c1c3e2bc,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 15:41:27.000000000,2020-02-03 16:34:01.000000000,2020-02-03 16:34:01.000000000,20,37,3,705460,dbf8dd6bcf583f1f217fa74031af20f62f366f13,15,4,3,6,6547,Andreas Jaeger,jaegerandi,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Switch to modern sphinx-build and using openstackdocstheme
(note that repo is not building and publishing docs, docs building works
locally with these changes).

Change-Id: I9542c1dba3f339c2acece83d7d2b5726c1c3e2bc
"
openstack%2Fcharm-hacluster~master~I65c0509e38596423a7d97d9b75f614130fadd13e,openstack/charm-hacluster,master,bug/1850129,I65c0509e38596423a7d97d9b75f614130fadd13e,Validate cluster subnets,ABANDONED,2020-01-15 15:16:51.000000000,2020-02-03 16:33:52.000000000,,127,11,2,702680,940f9f727f91b7ecd8b2d25d41ca8060c31adeac,9,4,1,4,31289,Aurelien Lourot,lourot,"Validate cluster subnets

Closes-Bug: #1850129
Change-Id: I65c0509e38596423a7d97d9b75f614130fadd13e
"
openstack%2Fcharms.ceph~master~Ibd65526cad0812f93963bd82619fcd27e055f6f3,openstack/charms.ceph,master,bug/1861659,Ibd65526cad0812f93963bd82619fcd27e055f6f3,Fix charms.ceph mocks to not depend on system version,MERGED,2020-01-31 07:38:53.000000000,2020-02-03 16:24:25.000000000,2020-02-03 16:24:25.000000000,27,15,0,705169,0434024b2b84e7eea6462ad6f8468827c73defdd,10,3,3,4,20634,Chris MacNaughton,Chris.MacNaughton,"Fix charms.ceph mocks to not depend on system version

The charms.ceph utils.py library defines a constant based
on the running OS version. This change updates where the
version is read, allowing it to be nicely mocked.

Change-Id: Ibd65526cad0812f93963bd82619fcd27e055f6f3
Closes-Bug: #1861659
"
openstack%2Ffreezer-specs~master~Ib467fca6f9033fc331c153ba52a7a292057bb75c,openstack/freezer-specs,master,drop-py27-support,Ib467fca6f9033fc331c153ba52a7a292057bb75c,[ussuri][goal] Drop python 2.7 support,MERGED,2019-12-13 01:03:38.000000000,2020-02-03 16:18:13.000000000,2020-02-03 15:07:52.000000000,20,29,4,698826,37b99ecd30fd4037b38a89d732280166c79086a2,39,13,15,6,8556,Ghanshyam,ghanshyam,"[ussuri][goal] Drop python 2.7 support

OpenStack is dropping the py2.7 support in ussuri cycle.

Update and cleanup requrirements.

Change to use openstackdocstheme, oslosphinx does not work with Python
3.
Fix redirect.py for newer sphinx versions, app.builder.info does not
exist anymore.

Remove py27 testing, we'll add py36 testing in followup with fixes for
problems found.

Use modern sphinx-build for building.

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Co-Authored-By: Andreas Jaeger <aj@suse.com>
Change-Id: Ib467fca6f9033fc331c153ba52a7a292057bb75c
"
openstack%2Fmagnum~master~I39c99259abc84cbbee50ac1a827e9349ede6593c,openstack/magnum,master,story/2007097-38131,I39c99259abc84cbbee50ac1a827e9349ede6593c,[k8s] Fix volumes availability zone issue,MERGED,2020-01-15 23:41:52.000000000,2020-02-03 16:06:58.000000000,2020-01-27 21:42:12.000000000,19,0,0,702775,a0e62df0935bbf4e65663c8ca8b732ee69495809,10,4,1,5,6484,Feilong Wang,flwang,"[k8s] Fix volumes availability zone issue

For a multi AZ env, if Nova doesn't support cross AZ volume mount,
then the cluster creation may fail because of block device mapping
error. The patch fixes this issue by passing in the AZ information
when creating volumes for etcd, docker and the node root disk.

Task: 38131
Story: 2007097

Change-Id: I39c99259abc84cbbee50ac1a827e9349ede6593c
"
openstack%2Fmagnum~master~I51ba108e23524eecc04bbbd47a5b50b8d4a529f9,openstack/magnum,master,story/2007005-38167,I51ba108e23524eecc04bbbd47a5b50b8d4a529f9,Fix proxy for Grafana script,MERGED,2020-01-18 04:42:01.000000000,2020-02-03 16:06:34.000000000,2020-01-29 09:31:25.000000000,16,0,2,703225,4346d776e5887af71e33748212bf4dcc2a220b66,14,5,1,2,6484,Feilong Wang,flwang,"Fix proxy for Grafana script

The prometheus/grafana script needs to download a grafana json
file by curl which doesn't work since the proxy issue. This patch
fixes it.

Task: 38167
Story: 2007005

Change-Id: I51ba108e23524eecc04bbbd47a5b50b8d4a529f9
"
openstack%2Fmagnum~master~Iab5205cc84bad30890db7fad380fb02f6ba23786,openstack/magnum,master,selector,Iab5205cc84bad30890db7fad380fb02f6ba23786,Add selector in monitoring deployments,MERGED,2020-01-23 16:05:14.000000000,2020-02-03 16:06:16.000000000,2020-02-03 14:15:04.000000000,8,0,0,704015,4ceb3916831de729dab23c06e963db9b55044c54,10,4,1,1,20498,Spyros Trigazis,strigazi,"Add selector in monitoring deployments

monitoring-influxdb and monitoring-grafana were
missing the selector.

1.16+ needs it.

story: 2006459
task: 38376

Change-Id: Iab5205cc84bad30890db7fad380fb02f6ba23786
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
"
openstack%2Fmagnum~master~I1f917d276501a174448dbdfe447d69294e7090c4,openstack/magnum,master,traefik-systemd-unit,I1f917d276501a174448dbdfe447d69294e7090c4,Execute traefik systemd unit over ssh,MERGED,2020-01-23 16:14:25.000000000,2020-02-03 16:06:00.000000000,2020-02-03 14:35:23.000000000,4,3,0,704021,33560e2626d37fc9b5b1a2952623da837bec05f7,10,4,1,1,20498,Spyros Trigazis,strigazi,"Execute traefik systemd unit over ssh

When calling systemctl from the heat-agent we need
to do it over ssh.

story: 2007210
task: 38377

Change-Id: I1f917d276501a174448dbdfe447d69294e7090c4
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
"
openstack%2Ftripleo-ci~master~I31a3c4702da38179823fde8ff755688567d86501,openstack/tripleo-ci,master,,I31a3c4702da38179823fde8ff755688567d86501,Separate upgrade jobs with stable branches,MERGED,2020-01-16 11:03:11.000000000,2020-02-03 15:52:28.000000000,2020-02-03 15:52:28.000000000,12,8,6,702844,4940b58db1b9a6a168557cf01753ed7eb8f29a08,30,11,3,1,10969,Shnaidman Sagi (Sergey),sergsh,"Separate upgrade jobs with stable branches

Change-Id: I31a3c4702da38179823fde8ff755688567d86501
"
openstack%2Fnova~master~I7babafebd902ac54d96a3a30f0e9cc353225228a,openstack/nova,master,,I7babafebd902ac54d96a3a30f0e9cc353225228a,WIP: Added Cyborg External Events,ABANDONED,2019-08-07 04:11:25.000000000,2020-02-03 15:48:43.000000000,,28,1,0,675022,83aa62b46d062f748ec0e9d33e9c7c63f5b3283b,13,9,1,4,27458,Li Liu,liliu,"WIP: Added Cyborg External Events

Change-Id: I7babafebd902ac54d96a3a30f0e9cc353225228a
"
openstack%2Fnova~master~I36449944d9661d816100483346bc0a0cdd9c19ba,openstack/nova,master,,I36449944d9661d816100483346bc0a0cdd9c19ba,added cyborg external event,ABANDONED,2019-08-01 03:30:56.000000000,2020-02-03 15:46:23.000000000,,50,1,6,673939,5bd8292c73c086293cca73b25660724579b3e44e,22,11,1,4,27458,Li Liu,liliu,"added cyborg external event

Change-Id: I36449944d9661d816100483346bc0a0cdd9c19ba
"
openstack%2Ftripleo-operator-ansible~master~I24ba107687ba4816366bfe12d97d4fa5563f1c49,openstack/tripleo-operator-ansible,master,new_prepare,I24ba107687ba4816366bfe12d97d4fa5563f1c49,Use test_molecule_prep for tests and fix filters,MERGED,2020-02-01 08:17:31.000000000,2020-02-03 15:39:17.000000000,2020-02-03 15:39:17.000000000,126,4,0,705325,7cc1b6063403cee4b87311140a6db996dffd4ff5,10,4,3,6,10969,Shnaidman Sagi (Sergey),sergsh,"Use test_molecule_prep for tests and fix filters

Change-Id: I24ba107687ba4816366bfe12d97d4fa5563f1c49
"
openstack%2Foslo.cache~master~Ie8e737cfde8b2587ef60cd25ab746e6b04936390,openstack/oslo.cache,master,drop-py27-support,Ie8e737cfde8b2587ef60cd25ab746e6b04936390,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 12:44:51.000000000,2020-02-03 15:37:05.000000000,2020-02-03 15:33:18.000000000,8,16,0,705435,791b9952d594989e9ef9ce8167241849241de53b,8,2,1,5,6547,Andreas Jaeger,jaegerandi,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Ie8e737cfde8b2587ef60cd25ab746e6b04936390
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ide7aff1d41ae8df35035db944b8e8c28aa645a5c,openstack/python-tripleoclient,stable/train,restore-panko,Ide7aff1d41ae8df35035db944b8e8c28aa645a5c,"Revert ""Remove panko""",MERGED,2020-01-30 17:42:44.000000000,2020-02-03 15:22:37.000000000,2020-02-03 15:20:21.000000000,2,7,0,705074,449a77a42afd6e6a2c83cd1797b206b2a4f8823c,19,7,2,3,30357,Ryan McCabe,rmccabe,"Revert ""Remove panko""

Panko removal had to be reverted as CF integration work was not completed
on time for train compatibility.

This reverts commit 2241528f4fd154e1f64bdeb0748c07c810ee8314.

Depends-On: Id7a1989d0a41d1563e3656dd6363ea1101a67139
Change-Id: Ide7aff1d41ae8df35035db944b8e8c28aa645a5c
Signed-off-by: Ryan McCabe <rmccabe@redhat.com>
"
openstack%2Fnova~master~I70a93bf564379d550fddaee568de4464e795a11d,openstack/nova,master,trivial,I70a93bf564379d550fddaee568de4464e795a11d,"tests: Nuke OS_STDOUT_CAPTURE, OS_STDERR_CAPTURE",ABANDONED,2019-09-25 15:06:14.000000000,2020-02-03 15:19:58.000000000,,4,15,3,684773,39f31a829bf1dfaa549d2cf271d63914ee3f4604,28,12,4,3,15334,Stephen Finucane,sfinucan,"tests: Nuke OS_STDOUT_CAPTURE, OS_STDERR_CAPTURE

Terminology courtesy of sdague. Turns out we can't actually use these if
we want to be able to rely on the 'self.stdout' and 'self.stderr'
properties in tests. Other people have probably discovered this already
owing to the amount of (otherwise unnecessary) mocking of stdout and
stderr going on in the tests. A future change will remove those
unnecessary mocks in favor of this centralized one.

Change-Id: I70a93bf564379d550fddaee568de4464e795a11d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~I478f7f37087557b5385674f62c552a1b42090a37,openstack/nova,master,trivial,I478f7f37087557b5385674f62c552a1b42090a37,"tests: Start using global stdout, stderr buffers",ABANDONED,2019-09-27 10:21:41.000000000,2020-02-03 15:19:51.000000000,,164,230,0,685310,2a606dae8e1505b8530771dd0d630f04eb4c711b,10,8,1,8,15334,Stephen Finucane,sfinucan,"tests: Start using global stdout, stderr buffers

We do this for logging already. Time to start doing it for stdout and
stderr. Note that we need to pass '--suppress-attachments' to stestr
since the default behavior there is to print everything to output
regardless of whether the test failed or passed. With this flag, it's
only dumped if it failed.

Change-Id: I478f7f37087557b5385674f62c552a1b42090a37
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Ftripleo-ci~master~I46a5a010c18583ce21182fa4e3134dd41b2fa33a,openstack/tripleo-ci,master,steintempest,I46a5a010c18583ce21182fa4e3134dd41b2fa33a,Use os_tempest flipswitch from fs052,MERGED,2020-01-30 13:42:58.000000000,2020-02-03 15:18:41.000000000,2020-02-03 15:18:41.000000000,0,9,0,705007,8e10f0de9f77d4a4b74f5275e87b0252f28c8d2a,16,7,2,1,12393,chandan kumar,chkumar246,"Use os_tempest flipswitch from fs052

https://review.opendev.org/#/c/698211/ moves featureset overrides
to featureset 052 and stein validate-tempest is used not os_tempest
as recent update to ansible-2.9 requires latest openstacksdk version
which is not available in stable/stein uc requirements branch.

So reusing the condition from fs052 fixes the issue.

Closes-Bug: #1860810

Change-Id: I46a5a010c18583ce21182fa4e3134dd41b2fa33a
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Ffreezer-specs~master~Ifc0b9db1667352fc2c73d9c55495285ca4da2d85,openstack/freezer-specs,master,drop-py27-support,Ifc0b9db1667352fc2c73d9c55495285ca4da2d85,Fix build problems,MERGED,2020-02-02 13:27:28.000000000,2020-02-03 15:15:26.000000000,2020-02-03 15:07:53.000000000,108,134,0,705358,ce69e4f31496105e3a8e3e81f0b7380e6d0a5703,14,12,5,31,6547,Andreas Jaeger,jaegerandi,"Fix build problems

This repo did never publish the specs properly, fix all problems found
and enable py36 test as well.

Change-Id: Ifc0b9db1667352fc2c73d9c55495285ca4da2d85
"
openstack%2Fnetworking-bgpvpn~master~I988c22a2b99b490facfd9de12ac963c625e5a308,openstack/networking-bgpvpn,master,,I988c22a2b99b490facfd9de12ac963c625e5a308,Handle network/router delete,NEW,2018-03-22 11:25:05.000000000,2020-02-03 15:10:00.000000000,,85,2,19,555260,1ebca8bda3652e72c4861181001afb58149541ad,26,6,4,4,25171,Deepthi V V,deepthivv88,"Handle network/router delete

On deletion of Network and Router neutron resource, which could be in
valid associations with existing BGPVPNs, we need to explicitly trigger
disassociation of themselves from all such BGPVPNs.

Change-Id: I988c22a2b99b490facfd9de12ac963c625e5a308
"
openstack%2Fnova~master~I4449559471ccdf2906f1ee2cf1ea461fbc974578,openstack/nova,master,trivial,I4449559471ccdf2906f1ee2cf1ea461fbc974578,Add 'Instance.get_vifs' helper method,ABANDONED,2019-08-09 16:31:44.000000000,2020-02-03 15:05:43.000000000,,21,31,0,675665,a392fd0326d787ad4039f35cd1e19402cb1090bb,11,10,1,9,15334,Stephen Finucane,sfinucan,"Add 'Instance.get_vifs' helper method

Nothing much to see here.

Change-Id: I4449559471ccdf2906f1ee2cf1ea461fbc974578
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~I1b6744e6b4fc5b865723f3e2a0a472d48191199f,openstack/nova,master,bug/1649852,I1b6744e6b4fc5b865723f3e2a0a472d48191199f,Convert floating IP tests to ddt,ABANDONED,2017-06-06 13:53:39.000000000,2020-02-03 15:05:04.000000000,,22,36,0,471360,7fc1fbdbfbe759c82680a6bbeebe2a977fc54302,54,16,7,1,15334,Stephen Finucane,sfinucan,"Convert floating IP tests to ddt

It's more concise and better illustrates our point.

Change-Id: I1b6744e6b4fc5b865723f3e2a0a472d48191199f
"
openstack%2Fnova~master~I2d6514205aab4282196e6bddabafaf07beb3a4a3,openstack/nova,master,queens-rpc-bump,I2d6514205aab4282196e6bddabafaf07beb3a4a3,WIP: Ensure 'HostState.numa_topology' is always an object,ABANDONED,2018-02-08 18:28:10.000000000,2020-02-03 14:57:47.000000000,,14,1,1,542362,7ed5ecfeca2a3b3e5775b44a4a6c95d6900bbdd9,11,9,1,2,15334,Stephen Finucane,sfinucan,"WIP: Ensure 'HostState.numa_topology' is always an object

The 'HostState.update' function is called by
'HostManager._get_computes_for_cells' with a 'ComputeNode' object as its
first argument. The 'HostState.numa_topology' attribute is set to the
value of the 'numa_topology' attribute for this 'ComputeNode' object.
However, for legacy reasons, the 'ComputeNode.numa_topology' attribute
is currently a string representation of a 'NUMATopology' object, which
must then be converted into a real object. This means there are a couple
of places in 'HostState' and 'HostManager', which uses 'HostState',
where we need to handle these strings.

Simplify this whole mess by ensuring 'HostState.numa_topology' is always
an object. This isn't quite as clean as we'd like (it would be be better
if 'ComputeNode.numa_topology' was an object too) but it gives us a path
forward to removing a lot of the ""string or object to object"" helper
functions we have in the future.

Change-Id: I2d6514205aab4282196e6bddabafaf07beb3a4a3
"
openstack%2Fpuppet-pacemaker~master~I393fc032314139dcd4254dc66a4f594ca4fe2891,openstack/puppet-pacemaker,master,bug,I393fc032314139dcd4254dc66a4f594ca4fe2891,Fix params in pcmk remote,MERGED,2020-02-03 07:52:14.000000000,2020-02-03 14:53:10.000000000,2020-02-03 13:24:11.000000000,2,2,0,705391,83d23b3f345be2fa6beb63306bdbb4fabb490808,10,4,2,1,20172,Michele Baldessari,michele,"Fix params in pcmk remote

The pacemaker::remote class does not inherit from the pacemaker class
which means that it has to explicity reference pacemaker::params::*
variables and cannot directly reference them as pacemaker::* vars.

This fixes errors like:
puppet-user[13745]: Error: Validation of File_line[pcsd_bind_addr]
  failed: path is a required attribute (file: /etc/puppet/modules/pacemaker/manifests/remote.pp, line: 89)

Related-Bug: #1861668

Change-Id: I393fc032314139dcd4254dc66a4f594ca4fe2891
"
openstack%2Fbifrost~stable%2Ftrain~I294ef9dce53d7404f4d9285506f1504afabe833f,openstack/bifrost,stable/train,,I294ef9dce53d7404f4d9285506f1504afabe833f,Fix variable checks in install-deps,MERGED,2020-01-30 10:23:01.000000000,2020-02-03 14:43:30.000000000,2020-02-03 14:40:18.000000000,5,1,0,704956,1de5bb6fa04ad4631b75d950ca978cc7bcbfb4dc,12,4,2,1,23851,Riccardo Pittau,elfosardo,"Fix variable checks in install-deps

A couple of fixes:
- We check the content of the binary dir as debug step, but this
should be necessary only when in virtualenv.
Also using the correct virtualenv path instead of hardcoding it,
and removing - character after variable name.
- EXTRA_PKG_DEPS is an array and we should treat it like that
when we check if it's empty or not.

Change-Id: I294ef9dce53d7404f4d9285506f1504afabe833f
(cherry picked from commit c0d5c4ccb0bfe8727ed45e7bc431bfcb38807d26)
"
openstack%2Fnetworking-ovn~master~If3ce6ab1d1318a6d5142989b3bf45ecce97762e3,openstack/networking-ovn,master,bug/1844491,If3ce6ab1d1318a6d5142989b3bf45ecce97762e3,Fix for getting port groups while using OVS up to 2.9,MERGED,2019-09-18 08:13:52.000000000,2020-02-03 14:39:10.000000000,2019-09-26 02:55:30.000000000,41,13,9,682825,4c42313b894d127bc3c7984f15130652204c8513,61,7,10,2,24791,Maciej Jozefczyk,maciej.jozefczyk,"Fix for getting port groups while using OVS up to 2.9

Functions get_port_group() and get_port_groups() were failing
with KeyError while getting to access non-existent Port_Group
table with OVS 2.9.

This patch adds additional check if Port Group is supported in the
env where the code runs.

Change-Id: If3ce6ab1d1318a6d5142989b3bf45ecce97762e3
Closes-Bug: #1844491
"
openstack%2Fkuryr-kubernetes~master~I5170e0177a87c2dde77f19f6a7ae09ca2a06c65e,openstack/kuryr-kubernetes,master,ensure-crd-update,I5170e0177a87c2dde77f19f6a7ae09ca2a06c65e,Ensure no sg rule is repeated on the Network Policy CRD,MERGED,2020-01-31 15:51:19.000000000,2020-02-03 14:38:11.000000000,2020-02-03 14:34:59.000000000,22,11,0,705243,85e542e7f9ff259eb928c62d0828a1380434c3a4,18,5,4,1,27032,Maysa de Macedo Souza,maysa,"Ensure no sg rule is repeated on the Network Policy CRD

When a network policy is updated we compare all the existing sg rules
with the current sg rules in order to add/remove rules.
When there are existing rules repeated only the first occurence
of the rule is identified as to be kept, and the second one
is not, causing the rule on the current sg rules to not be created,
as it matches an existent sg rule that was not meant to be kept,
causing a breakage on the update NP CRD which does not allow sg rules
with no ID.

This commit fixes the issue by ensuring that no sg rule is repeated
on the NP CRD.

Closes-bug: 1861624

Change-Id: I5170e0177a87c2dde77f19f6a7ae09ca2a06c65e
"
openstack%2Fcharm-swift-proxy~master~I5f72f5507b9ed40b50dcacd1940e91d3cff26298,openstack/charm-swift-proxy,master,bug/1861660,I5f72f5507b9ed40b50dcacd1940e91d3cff26298,Unmask services during post-series-upgrade,MERGED,2020-02-03 09:27:47.000000000,2020-02-03 14:36:02.000000000,2020-02-03 14:36:02.000000000,5,1,0,705396,bbc0e3dcd31cf7df9c28981578f565b46da2ca61,11,4,2,1,12549,gnuoy,gnuoy,"Unmask services during post-series-upgrade

If a unit is paused then its services will not start during the
post-series-upgrade hook. In addition exclude haproxy from the list
of services to start if it is being managed by hacluster.

Closes-Bug: #1861660
Change-Id: I5f72f5507b9ed40b50dcacd1940e91d3cff26298
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I25d1669e9f8cc6f8080dc98dc1069f9163a647ae,openstack/openstack-ansible-openstack_hosts,master,nf-nat-ipv4-removal,I25d1669e9f8cc6f8080dc98dc1069f9163a647ae,Disable loading nf_nat_ipv4 in new kernels,MERGED,2020-02-03 09:49:42.000000000,2020-02-03 14:31:59.000000000,2020-02-03 14:29:14.000000000,2,1,0,705403,5109d93593eecafbdf010009105d155f7e886e5b,8,3,1,1,1004,Mohammed Naser,mnaser,"Disable loading nf_nat_ipv4 in new kernels

Newer kernels have merged nf_nat_ipv4 into nf_nat.

Change-Id: I25d1669e9f8cc6f8080dc98dc1069f9163a647ae
"
openstack%2Ftripleo-ansible~master~I76a1e44cea8140a6760e21946d62a0ecac368a24,openstack/tripleo-ansible,master,,I76a1e44cea8140a6760e21946d62a0ecac368a24,Remove the tripleo_job_ansible_args default,MERGED,2020-01-29 19:15:55.000000000,2020-02-03 14:24:41.000000000,2020-02-03 14:24:41.000000000,3,2,0,704873,7d5f37e43cb587e685bf0ed5caa604a800a6989b,9,5,1,1,7353,Kevin Carter,cloudnull,"Remove the tripleo_job_ansible_args default

This change removes the default '-v' from the environment variable when executing
local tests. This was done to enhance output for the end user by default but the
side effect was that not scenario tests were being executed. This change will ensure
any developers running the local tests are getting the same output we'd expect in
upstream zuul.

Change-Id: I76a1e44cea8140a6760e21946d62a0ecac368a24
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fwhereto~master~I185abcff384ba663e73b2c2975f03774ea6660dd,openstack/whereto,master,drop-py27-support,I185abcff384ba663e73b2c2975f03774ea6660dd,Update hacking,MERGED,2020-02-03 13:50:47.000000000,2020-02-03 14:16:38.000000000,2020-02-03 14:13:52.000000000,1,1,0,705444,d053ba5638fe96af170e49c00ee2bf5f9114ec0a,7,2,1,1,6547,Andreas Jaeger,jaegerandi,"Update hacking

Use python3 compatible version.

Change-Id: I185abcff384ba663e73b2c2975f03774ea6660dd
"
openstack%2Ftripleo-operator-ansible~master~Ic0214e7c3f1b17a8932b432d6536ef9e44fa84a7,openstack/tripleo-operator-ansible,master,molecule-prep,Ic0214e7c3f1b17a8932b432d6536ef9e44fa84a7,Create role for molecule prep,MERGED,2020-01-31 17:51:39.000000000,2020-02-03 14:15:12.000000000,2020-02-03 14:15:12.000000000,156,0,4,705264,49a562aa8dc69ae736700260dd37acfbb5139f14,17,4,8,9,14985,Alex Schultz,mwhahaha,"Create role for molecule prep

Since we need to install the collection (and possibly other actions in
the future), let's create a role that we can share across all the tests.

Change-Id: Ic0214e7c3f1b17a8932b432d6536ef9e44fa84a7
"
openstack%2Fwhereto~master~Ie1e6a0b1aac4aca3f7f6a3ef7113ceee28233463,openstack/whereto,master,drop-py27-support,Ie1e6a0b1aac4aca3f7f6a3ef7113ceee28233463,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 12:52:36.000000000,2020-02-03 14:03:10.000000000,2020-02-03 14:00:07.000000000,11,27,1,705436,cbf98fdc5c7298459e2a86c17ccd22a568142367,7,2,1,5,6547,Andreas Jaeger,jaegerandi,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Ie1e6a0b1aac4aca3f7f6a3ef7113ceee28233463
"
openstack%2Ftripleo-ci~master~I65a4fd98fb2b6006787310141a90a7ced223783d,openstack/tripleo-ci,master,nodocker012,I65a4fd98fb2b6006787310141a90a7ced223783d,Use podman for scenario012,MERGED,2019-09-16 11:01:15.000000000,2020-02-03 13:58:29.000000000,2020-02-03 13:58:29.000000000,0,1,0,682341,46d1106a0d8716d6d8efd55fb02275060dbb1e91,94,8,16,1,10969,Shnaidman Sagi (Sergey),sergsh,"Use podman for scenario012

Depends-On: https://review.opendev.org/682410
Change-Id: I65a4fd98fb2b6006787310141a90a7ced223783d
"
openstack%2Ftripleo-heat-templates~master~Iaf3b8e8098b184e8380cf9cb982d253443f67b91,openstack/tripleo-heat-templates,master,fix_keepalived_log,Iaf3b8e8098b184e8380cf9cb982d253443f67b91,"Revert ""Fix keepalived logging on disk""",ABANDONED,2020-02-03 11:57:31.000000000,2020-02-03 13:51:14.000000000,,1,1,0,705427,fb488516b4e2d8511aff4ec67c39c7777f2ecf42,5,7,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Revert ""Fix keepalived logging on disk""

This reverts commit 547a510f63e9e7aa2cd41e050c94fc7077fb86f4.

Change-Id: Iaf3b8e8098b184e8380cf9cb982d253443f67b91
"
openstack%2Ftripleo-heat-templates~master~I913823dff3e2a7141a5136d56dc60b9d27c5fc9a,openstack/tripleo-heat-templates,master,,I913823dff3e2a7141a5136d56dc60b9d27c5fc9a,Ensure CRL is on the haproxy container,ABANDONED,2019-12-19 22:22:07.000000000,2020-02-03 13:48:09.000000000,,11,2,6,700081,9ec46a5b0ebffc593205e04b96faba72baf68ae1,14,10,2,2,5046,Lance Bragstad,ldbragst,"Ensure CRL is on the haproxy container

When haproxy was containerized, the CRL wasn't properly mounted on the
container. According to previous notes and patches, it sounds like
this was due to the inability to restart haproxy when the current CRL
expired. If the CRL isn't mounted on the container we can have issues
with the validity of the certificates used for TLS if they're infact
revoked.

Additional context:
  If307e3357dccb7e96bdb80c9c06d66a09b55f3bd
  Ic6ca88ee7b6b256ae6182e60e07498a8a793d66a

This commit adds the CRL to the mount path for haproxy.

Change-Id: I913823dff3e2a7141a5136d56dc60b9d27c5fc9a
"
openstack%2Fnova~master~I7972656ba5dc5264f46923a1a78b3c5923bfd90a,openstack/nova,master,bp/use-pcpu-and-vcpu-in-one-instance,I7972656ba5dc5264f46923a1a78b3c5923bfd90a,[WIP] Create 'mixed' instance from PCPU and VCPU resources,ABANDONED,2019-11-26 02:18:57.000000000,2020-02-03 13:11:23.000000000,,139,11,0,696009,0d229a9110437fcfc969bca893bb637109c66894,14,6,2,3,30209,Huaqiang,Huaqiang.Wang,"[WIP] Create 'mixed' instance from PCPU and VCPU resources

Creating the 'mixed' instance if both 'PCPU' and 'VCPU' resources
have been provided in flavor extra specs.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I7972656ba5dc5264f46923a1a78b3c5923bfd90a
"
openstack%2Fnova~master~I2536924bfa9068603518b68fe969e0ed67cbd645,openstack/nova,master,bp/use-pcpu-and-vcpu-in-one-instance,I2536924bfa9068603518b68fe969e0ed67cbd645,[WIP] More tests for validating CPU policy by 'resources:PCPU' and 'resources:VCPU',ABANDONED,2019-11-26 02:18:57.000000000,2020-02-03 13:07:57.000000000,,46,0,0,696007,e4b197179fa44e6f6a52975106e0e212dfba6321,16,10,2,1,30209,Huaqiang,Huaqiang.Wang,"[WIP] More tests for validating CPU policy by 'resources:PCPU' and 'resources:VCPU'

Commit 278ab01c32 introduces the way to create instance CPU allocation
policy through 'resources:PCPU' or 'resources:VCPU', without an
explicit define of 'hw:cpu_policy' or 'hw_cpu_policy' in flavor or image
metadata.

This patch add more tests to validate the operation of creating instance
with multiple NUMA cells.

Change-Id: I2536924bfa9068603518b68fe969e0ed67cbd645
"
openstack%2Fnova~master~I664a33b26df3e65ef92900fa8717af7b5b200a08,openstack/nova,master,bp/use-pcpu-and-vcpu-in-one-instance,I664a33b26df3e65ef92900fa8717af7b5b200a08,[WIP] Refactor the code path of creating instance with a NUMA topology,ABANDONED,2019-10-16 13:48:54.000000000,2020-02-03 13:07:45.000000000,,41,46,0,688932,81a0b872fc2aff852da88972e429a6256db0d554,49,15,5,1,30209,Huaqiang,Huaqiang.Wang,"[WIP] Refactor the code path of creating instance with a NUMA topology

For an instance demanding huge pages or persist memory or pinned
vCPU or having an explicit setting of requiring a 'numa_nodes',
there is a NUMA topology. And the code for creating the topology
could be centralized in one place.

Refactoring and centralizing these code in one place.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I664a33b26df3e65ef92900fa8717af7b5b200a08
"
openstack%2Fnova~master~I7a28a293d71d4aa96f4620d82bc54bcbe2520cb2,openstack/nova,master,bp/use-pcpu-and-vcpu-in-one-instance,I7a28a293d71d4aa96f4620d82bc54bcbe2520cb2,[WIP] Assign instance dedicated CPU set through `cpu_pinning` field,ABANDONED,2019-10-16 13:48:54.000000000,2020-02-03 13:07:35.000000000,,118,19,0,688933,ee5949e54ffc6748a6f7ea21346ce940295c808b,39,10,5,3,30209,Huaqiang,Huaqiang.Wang,"[WIP] Assign instance dedicated CPU set through `cpu_pinning` field

`InstanceNUMACell.cpu_pinning` is used to track the information
of pinned CPU pair, the 'vcpu' and the 'pcpu', which was
initialized after the instance NUMA cell object is created due
to fact that all instance CPUs have the same allocation policy.

The upcoming 'mixed' CPU allocation policy will introduce the
concept that CPUs inside one instance could have different
allocation policy, some CPU would be 'dedicated' CPU and some
would be the 'shared' CPU.

This patch initializes the information of instance dedicated CPU
set by setting the 'dedicated' CPU id in `cpu_pinning` field
before the stage of scheduling instance to real host node.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I7a28a293d71d4aa96f4620d82bc54bcbe2520cb2
"
openstack%2Fnova~master~Ia9756c35799aaac8b13eab5605ec6c7710d0c8dc,openstack/nova,master,bp/use-pcpu-and-vcpu-in-one-instance,Ia9756c35799aaac8b13eab5605ec6c7710d0c8dc,[WIP] Introduce a new instance CPU allocation policy: mixed,ABANDONED,2019-10-16 13:48:54.000000000,2020-02-03 13:07:24.000000000,,234,8,0,688934,132859aa3d5bfda739fa01c96b61a8584c9aacae,39,10,5,6,30209,Huaqiang,Huaqiang.Wang,"[WIP] Introduce a new instance CPU allocation policy: mixed

The 'mixed' instance CPU allocation policy is for creating an instance
to have 'mixed' CPU priorities in such way that some instance CPUs
are pinned on host PCPU resource and others are floating on the VCPU
resources.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: Ia9756c35799aaac8b13eab5605ec6c7710d0c8dc
"
openstack%2Fnova~master~Ia04449d604353b4b4493bac8c324f8d56ec2ac19,openstack/nova,master,bp/use-pcpu-and-vcpu-in-one-instance,Ia04449d604353b4b4493bac8c324f8d56ec2ac19,[WIP] support unbalanced dedicatd CPU distribution on instance NUMA nodes,ABANDONED,2019-11-26 02:18:57.000000000,2020-02-03 13:06:56.000000000,,137,2,0,696008,dc590ce07ef44fe003a228d3d1c6dce28b3d9536,14,6,2,3,30209,Huaqiang,Huaqiang.Wang,"[WIP] support unbalanced dedicatd CPU distribution on instance NUMA nodes

Just like unbalanced instance CPU and memory distribution on NUMA nodes,
introduced the unbalanced dedicated CPU distribution on NUMA nodes.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: Ia04449d604353b4b4493bac8c324f8d56ec2ac19
"
openstack%2Fpaunch~master~I6639ab859b120aa9349dc72b0d6e7d575be20c7a,openstack/paunch,master,,I6639ab859b120aa9349dc72b0d6e7d575be20c7a,load_config: allow the config to be overriden,MERGED,2020-01-09 03:40:38.000000000,2020-02-03 13:03:15.000000000,2020-01-15 05:30:27.000000000,22,1,7,701660,0560631b2da0b8130e7c162cbd0ee43b00106f42,38,5,8,2,3153,Emilien Macchi,emilienm,"load_config: allow the config to be overriden

This will enable an operator using the paunch Ansible module to override
any container parameter e.g. the image, directly from Ansible without
modifying the config that is on the host.

Change-Id: I6639ab859b120aa9349dc72b0d6e7d575be20c7a
"
openstack%2Fkuryr-kubernetes~master~I8cfb3c50f491a5dbbfe6fa20b81ee1d0f8c6b4a7,openstack/kuryr-kubernetes,master,deprecate-ingress,I8cfb3c50f491a5dbbfe6fa20b81ee1d0f8c6b4a7,Deprecate unmaintaned features,MERGED,2020-01-20 15:18:33.000000000,2020-02-03 12:54:41.000000000,2020-02-03 12:51:56.000000000,9,0,0,703420,d1a12bf27b235ef5ed13bfd92855dfa046783995,20,7,4,1,11600,Michał Dulko,dulek,"Deprecate unmaintaned features

Support for OpenShift Routes (Ingress) is not maintained by anyone, not
really tested and there are better ways to do it, so let's remove that
code from Kuryr.

Support for namespace isolation was done to mimic one of the modes of
openshift-sdn. It doesn't seem to make any sense to keep supporting it
if Network Policy support can provide the same isolation.

Change-Id: I8cfb3c50f491a5dbbfe6fa20b81ee1d0f8c6b4a7
"
openstack%2Fansible-role-collect-logs~master~Ifb1ff58b14fc9306f5e6ba3a49c60619331d6e02,openstack/ansible-role-collect-logs,master,,Ifb1ff58b14fc9306f5e6ba3a49c60619331d6e02,Fix artcl_gzip variable in infrared plugin spec,MERGED,2020-02-02 21:45:38.000000000,2020-02-03 12:53:30.000000000,2020-02-03 12:53:30.000000000,1,1,0,705364,a0d698602245e70323cfde9064a6e8203cddf653,9,7,1,1,16615,abregman,abregman,"Fix artcl_gzip variable in infrared plugin spec

Setting artcl_gzip_only in infrared to true has no effect as
the variable name used in the tasks is artcl_gzip.

Change-Id: Ifb1ff58b14fc9306f5e6ba3a49c60619331d6e02
"
openstack%2Fneutron~stable%2Fqueens~I24fcecd9686ad17fa50093bb8bccab0d6c711298,openstack/neutron,stable/queens,bug/1826695-stable/queens,I24fcecd9686ad17fa50093bb8bccab0d6c711298,Remove L3 IP QoS cache when router is down,ABANDONED,2020-01-31 12:39:36.000000000,2020-02-03 12:29:12.000000000,,170,53,0,705208,266d11c55e39bfa757c4105f85ae2734c8d5d56d,6,4,1,6,11975,Slawek Kaplonski,slaweq,"Remove L3 IP QoS cache when router is down

When router admin-state is down or removed, fip-qos and gateway-ip-qos
extension should delete the router IPs' QoS rate limit cache. Then if
the router is up again the router floating IPs QoS can be reconfigured.
This patch achives these:
1. make sure floating IP or gateway IP QoS cache removed.
2. floating IP QoS can be re-configured to snat device when router
   doing admin_state down/up.

Conflicts:
    neutron/agent/l3/extensions/fip_qos.py

Closes-Bug: #1826695
Change-Id: I24fcecd9686ad17fa50093bb8bccab0d6c711298
(cherry picked from commit 78629e0d3780af4a8a8cc1b5b0762e0bc8a48f1f)
(cherry picked from commit 3489ce72c31a6df2bb845ee10a61625250ff6a94)
"
openstack%2Ftripleo-common~master~I9fd8276c0a1286a7470aafe12a1c591eb83f9fa5,openstack/tripleo-common,master,bug/1852996,I9fd8276c0a1286a7470aafe12a1c591eb83f9fa5,Use spawn method for multiprocessing,ABANDONED,2019-11-18 13:58:12.000000000,2020-02-03 12:25:05.000000000,,5,0,0,694773,78a532a9b713fffc8b5865b1c260c59630059352,34,7,5,2,6926,Bogdan Dobrelya,bogdando,"Use spawn method for multiprocessing

In python3 there may be issues [0] with using the fork()
method for starting image uploader workers.

Let's use spawn() instead that starts new processes from a scratch.

[0] https://codewithoutrules.com/2018/09/04/python-multiprocessing/

Closes-bug: #1852996

Change-Id: I9fd8276c0a1286a7470aafe12a1c591eb83f9fa5
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I2f4321c6e05c1f3c6da2f839e13e7797356690c6,openstack/tripleo-heat-templates,master,bug/1835414,I2f4321c6e05c1f3c6da2f839e13e7797356690c6,Wire-in Apache MPM module parameters and switch it,ABANDONED,2019-08-05 12:26:03.000000000,2020-02-03 12:24:58.000000000,,192,3,0,674589,f4e31152cc4af565bb0f5244934cd1b749507a46,27,3,9,20,6926,Bogdan Dobrelya,bogdando,"Wire-in Apache MPM module parameters and switch it

Allow to configure Apache MPM module for the containerized API/WSGI'ish
services running Apache as a backend. Change the default from 'prefork'
to 'event', which is a low level change and should provide no sensible
upgrade impact. This alleviates the related heartbeats threading issue
arising with the monkey-patched eventlet.

Merge the missing ApacheServiceBase config settings for Octavia API,
Horizon and Ironix PXE. This is needed to apply the base Apache
service hiera settings, including MPM module switches, for those
as well.

Related-bug: #1829062

Change-Id: I2f4321c6e05c1f3c6da2f839e13e7797356690c6
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I9e47e85e18c9a6e4fb44d3e6b6b6d62a21d6f2b5,openstack/tripleo-heat-templates,master,bug/1835414,I9e47e85e18c9a6e4fb44d3e6b6b6d62a21d6f2b5,Fix generating Apache configs by container-puppet,ABANDONED,2019-08-05 12:26:03.000000000,2020-02-03 12:24:54.000000000,,25,20,3,674588,22e6fc05432b03d6c8869ebe1af12be7eca4dce4,75,4,14,19,6926,Bogdan Dobrelya,bogdando,"Fix generating Apache configs by container-puppet

W/o this change /etc/httpd/conf.d/00-mpm.conf
(/etc/httpd/conf.modules.d/00-mpm.conf for RHEL OS family 7) shipped
with RPM or other conflicting httpd modules might remain in the
containers and cause startup failures. While puppet removes such
conflicts from the configuration, f.e. when switching MPM 'prefork' to
'event', and we expect it never gets into container configs.

Make kolla extended start properly enforcing the wanted state of
/etc/httpd for WSGI-based API services. We rely on the puppet base
profiles of those services to include the required apache configs.

Also, do not manage service httpd with puppet as this is not expected
to happen for containers.

Related-Bug: #1829062


Change-Id: I9e47e85e18c9a6e4fb44d3e6b6b6d62a21d6f2b5
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fmox3~master~Ib93f6f3822c7f9d9013f095268700e3a19d252fb,openstack/mox3,master,drop-py27-support,Ib93f6f3822c7f9d9013f095268700e3a19d252fb,tox.ini & Setup.cfg cleanups,MERGED,2020-02-03 11:55:04.000000000,2020-02-03 12:20:59.000000000,2020-02-03 12:19:00.000000000,4,11,0,705426,fa22a336bfb79320ee9bef31099f9d4de733c89b,7,2,1,2,6547,Andreas Jaeger,jaegerandi,"tox.ini & Setup.cfg cleanups

Address suggestions from https://review.opendev.org/#/c/700679:
* remove install_command from tox.ini, this is the default
* Use sphinx-build as modern way to run sphinx, remove setup.cfg
  settings for build-sphinx
* Add python-requires to setup.cfg to make Python 3.6 requirement
  explicit

Change-Id: Ib93f6f3822c7f9d9013f095268700e3a19d252fb
"
openstack%2Faodh~master~If3d938833bf1c519cd454221c1a8b7658a26440b,openstack/aodh,master,delete-quota,If3d938833bf1c519cd454221c1a8b7658a26440b,Delete quota API,MERGED,2020-01-31 02:43:38.000000000,2020-02-03 12:16:35.000000000,2020-02-03 12:14:54.000000000,68,0,0,705147,a0a036d7e667ada52f9e5cb9c70be651ea7de488,25,2,3,5,6732,Lingxian Kong,kong,"Delete quota API

Change-Id: If3d938833bf1c519cd454221c1a8b7658a26440b
"
openstack%2Fmox3~master~Ibac9edb043fa082322ed2f2272cc0b1727ae9009,openstack/mox3,master,drop-py27-support,Ibac9edb043fa082322ed2f2272cc0b1727ae9009,Drop python 2.7 support and testing,MERGED,2019-12-27 07:22:00.000000000,2020-02-03 12:07:31.000000000,2020-02-03 12:02:43.000000000,5,13,7,700679,127bc84a8869723c154d25bc7ce6469448858629,15,6,2,4,27822,pengyuesheng,pengyuesheng,"Drop python 2.7 support and testing

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Remove also universal-wheel, this is py3 only now.

Co-Authored-By: Andreas Jaeger <aj@suse.com>
Change-Id: Ibac9edb043fa082322ed2f2272cc0b1727ae9009
"
openstack%2Ftripleo-heat-templates~master~Id309e812f7dc8d66bd4912fce282ce72350fcbf8,openstack/tripleo-heat-templates,master,fix_keepalived_log,Id309e812f7dc8d66bd4912fce282ce72350fcbf8,Fix keepalived logging on disk,MERGED,2020-01-28 16:06:48.000000000,2020-02-03 11:57:31.000000000,2020-01-30 02:55:12.000000000,1,1,2,704604,547a510f63e9e7aa2cd41e050c94fc7077fb86f4,19,6,2,1,20172,Michele Baldessari,michele,"Fix keepalived logging on disk

There are no logs under /var/log/containers/keepalived even though we
explicitly try to capture logs on file for the keepalived container:

 [root@undercloud-0 ~]# podman exec -it keepalived sh -c 'ps -ax'
    PID TTY STAT TIME COMMAND
      1 ? Ss 0:00 dumb-init --single-child -- /usr/local/bin/kolla_start
      8 ? S 0:00 /usr/sbin/keepalived -nldD | tee -a /var/log/keepalived.log
     12 ? S 2:18 /usr/sbin/keepalived -nldD | tee -a /var/log/keepalived.log

The reason this is broken is that 'tee' is not passed to a shell but
ends up being an ignored argument of keepalived. Notice how there is no
shell process and also no tee process in the container above.

To fix that we need to pass the proper commands to a shell. This is done
in a special way like we did for the haproxy container so that kolla
does not mangle quotes and spaces.

After this fix we correctly see that the container logs on disk:
[root@undercloud-0 container-puppet]# ls -l /var/log/containers/keepalived/
-rw-r--r--. 1 root root 17483 Jan 28 15:55 keepalived.log

While we're at it we remove the usage of tee. It makes no sense to
log both on file and on stdout/stderr.

Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>

Change-Id: Id309e812f7dc8d66bd4912fce282ce72350fcbf8
Closes-Bug: #1861169
"
openstack%2Ftripleo-operator-ansible~master~Ia39d0217277889dc88f1e14ac114a8c381bf50d2,openstack/tripleo-operator-ansible,master,tripleo_overcloud_node_clean,Ia39d0217277889dc88f1e14ac114a8c381bf50d2,Add tripleo_overcloud_node_clean role,MERGED,2020-01-28 13:28:01.000000000,2020-02-03 11:48:10.000000000,2020-02-03 11:48:09.000000000,241,0,0,704562,a51fceadb27e00b668b0b1e7642b2ee5733aaaf3,11,5,2,9,10969,Shnaidman Sagi (Sergey),sergsh,"Add tripleo_overcloud_node_clean role

Change-Id: Ia39d0217277889dc88f1e14ac114a8c381bf50d2
"
openstack%2Ftripleo-operator-ansible~master~Ibfef7eacb5dadedc39df8bfd89374d207389d20e,openstack/tripleo-operator-ansible,master,tripleo_overcloud_node_configure,Ibfef7eacb5dadedc39df8bfd89374d207389d20e,Add tripleo_overcloud_node_configure role,MERGED,2020-01-27 12:58:51.000000000,2020-02-03 11:43:24.000000000,2020-02-03 11:43:24.000000000,337,0,2,704316,3261574f00eafe567874f9b8052daa8109835bc9,24,5,9,9,10969,Shnaidman Sagi (Sergey),sergsh,"Add tripleo_overcloud_node_configure role

Change-Id: Ibfef7eacb5dadedc39df8bfd89374d207389d20e
"
openstack%2Fdevstack~stable%2Fpike~Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78,openstack/devstack,stable/pike,,Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78,Support TEMPEST_BRANCH with tag name,MERGED,2020-01-30 19:00:45.000000000,2020-02-03 11:27:19.000000000,2020-02-03 11:27:19.000000000,8,4,0,705091,79b6124264109e7fc77dcd2c11a983fd41738405,18,5,2,2,8556,Ghanshyam,ghanshyam,"Support TEMPEST_BRANCH with tag name

TEMPEST_BRANCH which is mostly set as master so
that Tempest master is run to test the env. With
stable branch going to EM state and Tempest master
might not work due to incompatibility of code or
requirements. In that case we pin the Tempest so that
older Tempest can be used for their testing.

Till now for ocata, pike and, queens we used the gerrit style
ref to pin the Tempest which is not preferred way. We should be
able to use the tag name on TEMPEST_BRANCH.

This commit explicitly checkout the tag set in TEMPEST_BRANCH
as git_clone does not checkout the tag directly until RECLONE
is true or tempest dir does not exist.

After this stable branch or job can set the tag directly with name.
For exmaple: TEMPEST_BRANCH=23.0.0.

Also replace gerrit style Tempest ref to tag to make
this change working.

Change-Id: Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78
"
openstack%2Fcharm-interface-mysql-shared~master~I17228ba5d82249f0a5baffab1c2d200963b55b10,openstack/charm-interface-mysql-shared,master,bug/1861665,I17228ba5d82249f0a5baffab1c2d200963b55b10,Ensure unit acl before raising 'available' state,MERGED,2020-02-03 09:43:05.000000000,2020-02-03 11:25:21.000000000,2020-02-03 11:25:21.000000000,70,1,0,705402,1099a6b3ec1024a61fc4616378d01c642eb549c2,10,3,2,2,12549,gnuoy,gnuoy,"Ensure unit acl before raising 'available' state

Check the allowed_units list past back by the db before raising the
'available' state to ensure charms do not try to connect to the db
before they are allowed.

Change-Id: I17228ba5d82249f0a5baffab1c2d200963b55b10
Closes-Bug: #1861665
"
openstack%2Fkuryr-kubernetes~master~I6d9ce11af7e24533ee52e2f50af9a4eb0294c3a1,openstack/kuryr-kubernetes,master,bp/switch-to-openstacksdk,I6d9ce11af7e24533ee52e2f50af9a4eb0294c3a1,Update exceptions handling for openstacksdk.,MERGED,2020-01-29 12:32:10.000000000,2020-02-03 11:19:02.000000000,2020-02-03 11:17:13.000000000,18,12,13,704788,19d55152bbb5c5b40e218bfd18114267dc7a1213,24,5,4,5,13692,Roman Dobosz,gryf,"Update exceptions handling for openstacksdk.

Implements: blueprint switch-to-openstacksdk
Change-Id: I6d9ce11af7e24533ee52e2f50af9a4eb0294c3a1
"
openstack%2Fkuryr-kubernetes~master~I5e47a436bb4d11a5b07923480b008d14d7780566,openstack/kuryr-kubernetes,master,ensure-release-lb-error,I5e47a436bb4d11a5b07923480b008d14d7780566,Ensure LB with error status is only recreated after deleted,MERGED,2020-01-29 16:42:45.000000000,2020-02-03 10:54:42.000000000,2020-02-03 10:53:10.000000000,5,0,0,704845,d49fd12f7c37047d91b58bd6d5c84812328f6216,19,5,5,1,27032,Maysa de Macedo Souza,maysa,"Ensure LB with error status is only recreated after deleted

As soon as a load balancer creation is triggered its status is
""PENDING_CREATE"" and the creation of the other LB resources
are consequently triggered. If in the meantime the LB transitioned
to ""ERROR"" status the creation of the resources will be retried
all the time due to timeout on provisioning the LB, causing a
controller restart and new LB creation, whithout the previous one
deleted.
This commit ensures the LB with ERRORs status is removed and retried
when waiting for it to be provisioned.

Closes-bug: 1861313

Change-Id: I5e47a436bb4d11a5b07923480b008d14d7780566
"
openstack%2Freleases~master~Ieab23754dfe45f449a2457f4d877efcb38bc7ae9,openstack/releases,master,oslo_drop_py2_support,Ieab23754dfe45f449a2457f4d877efcb38bc7ae9,Release oslo.log 4.0.0,MERGED,2020-01-30 12:31:55.000000000,2020-02-03 10:53:18.000000000,2020-02-03 10:53:18.000000000,4,0,0,704988,ffb25a8371b727abf9585d3696885cddaee11c6c,13,3,2,1,28522,Hervé Beraud,hberaud,"Release oslo.log 4.0.0

This version officially drop the python 2 support so we release a major
version of oslo.log to inform user that we break
the backward compatibility.

Change-Id: Ieab23754dfe45f449a2457f4d877efcb38bc7ae9
"
openstack%2Freleases~master~I29d6241e8619eac78c4e69ec617432a49f666cbf,openstack/releases,master,,I29d6241e8619eac78c4e69ec617432a49f666cbf,Swift 2.24.0 release,MERGED,2020-01-31 17:30:13.000000000,2020-02-03 10:53:17.000000000,2020-02-03 10:53:17.000000000,5,0,0,705260,872a04a2bba803e3ccb4f0962660aa3a943d7062,6,2,1,1,15343,Tim Burke,tburke,"Swift 2.24.0 release

Change-Id: I29d6241e8619eac78c4e69ec617432a49f666cbf
"
openstack%2Freleases~master~I7573e042a3b10889e3a47cca3ec75a6201de8069,openstack/releases,master,release-neutron-tempest-plugin,I7573e042a3b10889e3a47cca3ec75a6201de8069,Release new neutron-tempest-plugin version,MERGED,2020-01-30 20:24:45.000000000,2020-02-03 10:50:17.000000000,2020-02-03 10:50:17.000000000,4,0,0,705110,647354aadb3043ad2f6ffce1fbefe565f4626525,9,5,1,1,11975,Slawek Kaplonski,slaweq,"Release new neutron-tempest-plugin version

Version 0.8.0 of neutron-tempest-plugin will be the last one which
is supported to be run using python 2.7 thus the last one which
can be used on stable/rocky branch.

Change-Id: I7573e042a3b10889e3a47cca3ec75a6201de8069
"
openstack%2Freleases~master~I397e6062ee3e382cb4624494c589048e8eb83ca8,openstack/releases,master,oslo_drop_py2_support,I397e6062ee3e382cb4624494c589048e8eb83ca8,Release oslo.concurrency 4.0.0,MERGED,2020-01-30 12:14:10.000000000,2020-02-03 10:48:21.000000000,2020-02-03 10:48:21.000000000,4,0,0,704985,29d3376be7219883099921025bd43c40c521db8b,9,3,2,1,28522,Hervé Beraud,hberaud,"Release oslo.concurrency 4.0.0

This version officially drop the python 2 support so we release a major
version of oslo.concurrency to inform user that we break
the backward compatibility.

Change-Id: I397e6062ee3e382cb4624494c589048e8eb83ca8
"
openstack%2Freleases~master~Id2f24e5e500b3ccbdb9374e0f1c0bdf42e698ce7,openstack/releases,master,oslo_drop_py2_support,Id2f24e5e500b3ccbdb9374e0f1c0bdf42e698ce7,Release oslo.context 3.0.0,MERGED,2020-01-30 12:35:11.000000000,2020-02-03 10:48:20.000000000,2020-02-03 10:48:20.000000000,5,0,0,704989,1f9518a91c9cf5cf3f30addbabe0ee00168cc6a2,8,3,1,1,28522,Hervé Beraud,hberaud,"Release oslo.context 3.0.0

This version officially drop the python 2 support so we release a major
version of oslo.context to inform user that we break
the backward compatibility.

Change-Id: Id2f24e5e500b3ccbdb9374e0f1c0bdf42e698ce7
"
openstack%2Fbifrost~master~Ia175fc588f283e33efe2961f006c35c4ecc255b1,openstack/bifrost,master,drop-py27-support,Ia175fc588f283e33efe2961f006c35c4ecc255b1,Drop python 2.7 support and testing,MERGED,2019-11-23 13:58:58.000000000,2020-02-03 10:22:01.000000000,2020-02-03 10:20:36.000000000,9,17,3,695800,76c915aca28906f526b33cd947e6926eac42efb6,20,7,2,4,10206,Madhuri Kumari,Madhuri,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Bifrost is ready with python 3 and ok to drop
the python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: Ia175fc588f283e33efe2961f006c35c4ecc255b1
"
openstack%2Fmonasca-api~master~Id0bc58a21d11dda518710896e0fa0ec14e8e4042,openstack/monasca-api,master,kafka_partitions,Id0bc58a21d11dda518710896e0fa0ec14e8e4042,Reduce number of partitions created by kafka,MERGED,2019-11-14 13:18:07.000000000,2020-02-03 10:16:40.000000000,2020-02-03 10:14:40.000000000,8,7,1,694289,5918a87fb827d7c0b3dea761ae2b08b28cd853ff,22,5,3,1,26141,Adrian Czarnecki,czarneckia,"Reduce number of partitions created by kafka

This should help to reduce resource consumed by devstack plugin.

Change-Id: Id0bc58a21d11dda518710896e0fa0ec14e8e4042
"
openstack%2Fkolla-ansible~master~Ib6995bf4c99202c9813859b3d9e2f420448f0445,openstack/kolla-ansible,master,fix-multiple-mariadb-issues-followup,Ib6995bf4c99202c9813859b3d9e2f420448f0445,Followup on MariaDB handling fixes,MERGED,2020-01-28 08:44:24.000000000,2020-02-03 10:08:12.000000000,2020-02-03 10:06:20.000000000,23,12,7,704507,1ea029a91d2cf94161982963904354ed97c5ed45,23,7,3,2,30491,Radosław Piliszek,yoctozepto,"Followup on MariaDB handling fixes

This fixes issues reported by Mark:
- possible failure with 4-node cluster (however unlikely)
- failure to stop all nodes from progressing when conditions are
  not valid (due to: ""any_errors_fatal: False"")

Change-Id: Ib6995bf4c99202c9813859b3d9e2f420448f0445
"
openstack%2Ftripleo-common~master~I421183abd0982f9f57f8719d72fd2cbf2e3d4d04,openstack/tripleo-common,master,scale-2020,I421183abd0982f9f57f8719d72fd2cbf2e3d4d04,Tune ansible configuration for better performance,MERGED,2020-01-28 19:56:38.000000000,2020-02-03 10:01:31.000000000,2020-01-30 07:49:36.000000000,5,1,0,704675,8ab0901ad7285d18e79f9070dfffb3c5e4063277,25,7,3,1,7353,Kevin Carter,cloudnull,"Tune ansible configuration for better performance

This change will update our ansible configuration to ensure we're getting the best
possible performance when running ansible playbooks via mistral.

- sets the ansible option internal_poll_interval so that we lower overall cpu
  consumption.
- sets the ssh option PreferredAuthentications so that we're only offering
  pubkeys when connecting to remote hosts which, in most cases, will save us
  from attempting a PTR lookup.

Change-Id: I421183abd0982f9f57f8719d72fd2cbf2e3d4d04
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I0fdef9becf9cc23786180c3399ca09461a916114,openstack/tripleo-heat-templates,master,bug/1838971,I0fdef9becf9cc23786180c3399ca09461a916114,Fix undefined variable in cinder_backup service.,MERGED,2020-01-31 06:41:55.000000000,2020-02-03 09:59:32.000000000,2020-02-01 05:26:19.000000000,1,1,0,705162,436ea96660d75fb7a6476b4bd05d954b621fe822,14,9,1,1,26343,Jose Luis Franco,jfrancoa,"Fix undefined variable in cinder_backup service.

cinder_backup_docker_image_latest ansible variable wasn't
existing anymore, as it was changed into cinder_backup_image_latest.

Change-Id: I0fdef9becf9cc23786180c3399ca09461a916114
Closes-Bug:#1861475
"
openstack%2Fopenstack-ansible-os_keystone~master~I9f6d57bec158375e4593a48bc2045f929ac70d80,openstack/openstack-ansible-os_keystone,master,kanishk,I9f6d57bec158375e4593a48bc2045f929ac70d80,Replace Module,MERGED,2019-04-29 20:19:50.000000000,2020-02-03 09:59:13.000000000,2020-01-13 20:52:59.000000000,38,50,2,656397,1e27083da8ed72e8a4fb12d1ac6bc98f8e22c079,22,4,8,1,30324,Kanishk Godha,kanishk.godha,"Replace Module

Modified the file to use the ""os_user"" module
instead of the ""keystone"" module.

Change-Id: I9f6d57bec158375e4593a48bc2045f929ac70d80
"
openstack%2Ftripleo-heat-templates~master~Iac3cbf23437bb11ec47dd1a0f189babe0c5587d0,openstack/tripleo-heat-templates,master,,Iac3cbf23437bb11ec47dd1a0f189babe0c5587d0,Remove stray conditional from aodh-evaluator tasks,MERGED,2020-01-27 19:40:50.000000000,2020-02-03 09:54:18.000000000,2020-01-29 19:46:51.000000000,0,1,0,704403,edd10576ca33337b09070da204a88d189456a5e2,10,7,1,1,6816,Jesse Pretorius,jesse-pretorius,"Remove stray conditional from aodh-evaluator tasks

In Ib4c59302ad5ad64f23419cd69ee9b2a80333924e a conditional
was moved incorrectly and left as a stray. Luckily it is
only a cosmetic issue, but it might be confusing when doing
any maintenance work so it's better to remove it.

Change-Id: Iac3cbf23437bb11ec47dd1a0f189babe0c5587d0
"
openstack%2Fcyborg-specs~master~I9b5f02daaf91ecd4416f032834c4fafdcb003b36,openstack/cyborg-specs,master,api-microversioning,I9b5f02daaf91ecd4416f032834c4fafdcb003b36,Specification of Cyborg API microversion,MERGED,2019-12-16 03:34:21.000000000,2020-02-03 09:45:30.000000000,2020-02-03 09:43:21.000000000,246,0,81,699149,f6d309eed6f0bacce3393553e04265201c2cac55,64,9,10,2,25738,Xinran WANG,Xinran,"Specification of Cyborg API microversion

Many changes to the Cyborg REST API require changes to the consumers of
the API.
For example, if we need to add a required parameter to a method that is
called by Nova, we'd need both the Nova calling code and the
cyborgclient that Nova uses to change. But newer Cyborg versions with
the change must work with older Nova versions, and there is no mechanism
for this at the moment. Adding microversions will solve this problem.

APIImpact

Change-Id: I9b5f02daaf91ecd4416f032834c4fafdcb003b36
"
openstack%2Fneutron-vpnaas~master~I3d00454bdf9e30b7aac929505dab2d4ac694f06a,openstack/neutron-vpnaas,master,func_gate_failure,I3d00454bdf9e30b7aac929505dab2d4ac694f06a,Fix functional gate failure,MERGED,2020-01-30 11:32:06.000000000,2020-02-03 09:41:10.000000000,2020-02-02 11:29:43.000000000,1,0,0,704967,5e93b5163fe1456c90ea360a75ef64c1dd06dbab,19,5,3,1,12860,Dongcan Ye,yedongcan,"Fix functional gate failure

This patch adds BUILD_OVS_FROM_SOURCE ENV in
gate_hook override the Neutron default.

Depends-On: https://review.opendev.org/#/c/705154/
Partial-Bug: #1861469
Change-Id: I3d00454bdf9e30b7aac929505dab2d4ac694f06a
"
openstack%2Fswift~master~I1da570bbf53cb6cfba6c18d0e4d758e4b9830217,openstack/swift,master,,I1da570bbf53cb6cfba6c18d0e4d758e4b9830217,DNM - dd probe tests,NEW,2020-01-30 16:50:38.000000000,2020-02-03 09:28:06.000000000,,64,2,0,705063,461270222e28652776322bfa1429365de0ec7feb,7,2,3,3,18142,David Sariel,dsariel,"DNM - dd probe tests

Change-Id: I1da570bbf53cb6cfba6c18d0e4d758e4b9830217
"
openstack%2Fos-traits~master~I6dc00248b54f3a8a5d5dae284d2182df5ba550ab,openstack/os-traits,master,,I6dc00248b54f3a8a5d5dae284d2182df5ba550ab,Add a trait that compute manager can handle accelerator requests.,MERGED,2019-12-13 16:49:15.000000000,2020-02-03 09:10:31.000000000,2020-01-15 20:02:26.000000000,2,0,18,698961,bdc942a27248eeb0ad9b674f099d671e88792d54,32,9,4,1,21672,Sundar Nadathur,nsundar,"Add a trait that compute manager can handle accelerator requests.

When a Cyborg device profile name is present in the flavor, the
conductor will initiate creation and binding of accelerator requests,
and the compute manager must wait for the ARQ binding notifications.

In a deployment where the conductor is new, but one or more compute
managers are older than the needed version, this flow will break.
To prevent that: (a) the compute manager publishes this trait,
and (b) the scheduler factors this trait in the Placement query, so
that older compute nodes are not included in allocation candidates.

Change-Id: I6dc00248b54f3a8a5d5dae284d2182df5ba550ab
"
openstack%2Fkolla~master~I606a8861784daeaf86a2f8637db6c42e258c57c5,openstack/kolla,master,drop-epel-req,I606a8861784daeaf86a2f8637db6c42e258c57c5,DNM: test dropping epel repo,ABANDONED,2019-08-01 19:44:22.000000000,2020-02-03 08:48:11.000000000,,2,17,0,674123,1d57c0cca58b94642ec2f066ee44dfd8a7addab0,17,4,3,5,30491,Radosław Piliszek,yoctozepto,"DNM: test dropping epel repo

Change-Id: I606a8861784daeaf86a2f8637db6c42e258c57c5
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fkolla-ansible~master~I9c47bc05c16347b5cca8c56b4a37f0dd2707c90a,openstack/kolla-ansible,master,dnm-test-nfv,I9c47bc05c16347b5cca8c56b4a37f0dd2707c90a,DNM: test nfv,ABANDONED,2020-01-18 15:12:20.000000000,2020-02-03 08:06:50.000000000,,1,70,0,703246,c67fe3ee36ba152c964db74a67da9b3eb0b44fed,5,2,2,1,30491,Radosław Piliszek,yoctozepto,"DNM: test nfv

Change-Id: I9c47bc05c16347b5cca8c56b4a37f0dd2707c90a
"
openstack%2Fbifrost~master~I2421d7ac925fdeb0a408cf8efb887ca30145835a,openstack/bifrost,master,fix-preinstall,I2421d7ac925fdeb0a408cf8efb887ca30145835a,(WIP) Fix the pre-installation scripts,ABANDONED,2020-01-29 10:51:52.000000000,2020-02-03 07:38:08.000000000,,6,6,3,704776,8c9031be142c4ae4cdcd3ccd77bb768d4439602b,11,4,2,1,31556,Georgy Karataev,gkarat,"(WIP) Fix the pre-installation scripts

Pre-installation scripts are now not fully compatible with some platforms such
as CentOS7 or RHEL7 due to the migrating to Python3 and need a fix.

Change-Id: I2421d7ac925fdeb0a408cf8efb887ca30145835a
"
openstack%2Ffreezer~master~I91a3122703b773d08b1bcceb536a4effa5e4e5f2,openstack/freezer,master,,I91a3122703b773d08b1bcceb536a4effa5e4e5f2,Add py36 in envlist,MERGED,2020-02-03 05:18:19.000000000,2020-02-03 07:05:56.000000000,2020-02-03 07:03:22.000000000,1,1,0,705376,a81b64881c547fc4a07d3d69b28873ab5ca02679,7,2,1,1,21069,Carl caihui,caihui,"Add py36 in envlist

Add py36 in envlist.

Change-Id: I91a3122703b773d08b1bcceb536a4effa5e4e5f2
"
openstack%2Frally-openstack~master~I6ba87ce7cffdf4d150fc69470414555648248ebe,openstack/rally-openstack,master,glance,I6ba87ce7cffdf4d150fc69470414555648248ebe,Support to upload an image which is from a https server,MERGED,2019-08-22 10:35:57.000000000,2020-02-03 06:22:16.000000000,2020-02-03 06:22:16.000000000,4,2,0,677954,32bbc091bbce1db625a2fc22da28b32718befa13,11,3,2,2,21528,chenhb,chenhb,"Support to upload an image which is from a https server

Looks there is not a better way, As a simple solution, do not
verify the CA file.

Change-Id: I6ba87ce7cffdf4d150fc69470414555648248ebe
"
openstack%2Ffreezer-dr~master~Ice16a1da334e7e6925239d0372f8f00ffb7c9ac7,openstack/freezer-dr,master,,Ice16a1da334e7e6925239d0372f8f00ffb7c9ac7,Add py36 in envlist,MERGED,2020-02-03 05:22:01.000000000,2020-02-03 05:45:33.000000000,2020-02-03 05:44:16.000000000,1,1,0,705377,8361e3fdd230d26872ebb1938a8c17fa190a85e0,7,2,1,1,21069,Carl caihui,caihui,"Add py36 in envlist

Change-Id: Ice16a1da334e7e6925239d0372f8f00ffb7c9ac7
"
openstack%2Ffreezer-tempest-plugin~master~I044e5224f9b9bb7fd2fe555636ab12e1868fbef0,openstack/freezer-tempest-plugin,master,,I044e5224f9b9bb7fd2fe555636ab12e1868fbef0,Update  README.rst for devstack,MERGED,2020-02-03 04:48:52.000000000,2020-02-03 05:28:48.000000000,2020-02-03 05:28:48.000000000,3,3,0,705375,d8191487cf5b04d5a24928f9443f874343f95f84,6,2,1,1,21069,Carl caihui,caihui,"Update  README.rst for devstack

Change-Id: I044e5224f9b9bb7fd2fe555636ab12e1868fbef0
"
openstack%2Fironic-python-agent-builder~master~I8bec32c5e0dae2dee27615146f946a9649f23fd1,openstack/ironic-python-agent-builder,master,correct-python-version,I8bec32c5e0dae2dee27615146f946a9649f23fd1,Use correct command for Python virtualenv,MERGED,2020-01-29 17:33:37.000000000,2020-02-03 04:58:15.000000000,2020-02-03 04:57:02.000000000,5,1,0,704854,46c78a10c161ff04b2a9f5bc251408f7906303b8,11,4,2,1,23851,Riccardo Pittau,elfosardo,"Use correct command for Python virtualenv

Using the virtualenv command will generate a virtualenv with the
default python exec for the entire system, that means that even
if DIB_PYTHON is python3, the virtualenv will use python2.
With this change we use the venv embedded command if the version
of Python is 3.x to generate a virtualenv with the correct
Python 3 version.

Change-Id: I8bec32c5e0dae2dee27615146f946a9649f23fd1
"
openstack%2Fkolla-ansible~stable%2Ftrain~I1881f51a6c8508f0f186a5623443343dc1df41d4,openstack/kolla-ansible,stable/train,bug/1861513-stable/train,I1881f51a6c8508f0f186a5623443343dc1df41d4,Fix qemu loading of ceph.conf (permission error),MERGED,2020-02-01 12:10:02.000000000,2020-02-03 04:14:27.000000000,2020-02-03 04:13:10.000000000,6,1,0,705329,e2c600d9a1317422acd95f460f726201f84d4187,9,5,1,2,30491,Radosław Piliszek,yoctozepto,"Fix qemu loading of ceph.conf (permission error)

ceph.conf is loaded by qemu, not libvirt.
Since qemu runs as the nova user, ceph.conf owned by root
causes a permission error. The logs in
/var/log/libvirt/qemu/instance-*.log reveal the error.

This change fixes the issue by changing the ownership of ceph.conf
in nova-libvirt to the nova user.

Closes-Bug: #1861513
Change-Id: I1881f51a6c8508f0f186a5623443343dc1df41d4
Signed-off-by: Ning Yao <yaoning@unitedstack.com>
(cherry picked from commit 91910d2a455f66e5f014a04bedf132fe0cab55ea)
"
openstack%2Fneutron~master~Ieff5ce4506fd4e7fa427eb50c50fbe316f67103f,openstack/neutron,master,bulk,Ieff5ce4506fd4e7fa427eb50c50fbe316f67103f,Enable bulk updates for the dnsmasq,MERGED,2019-09-15 11:09:13.000000000,2020-02-03 04:05:10.000000000,2020-02-03 04:03:29.000000000,38,1,19,682241,a545da420cad0bbf6a150939af5e0b9c6c424c01,131,12,10,3,1653,garyk,garyk,"Enable bulk updates for the dnsmasq

Instead of restarting the dnsmasq agent for every IP we do this
in bulk. That is, if a network has N updates in X seconds then we will
restart the process once with the ports configured in the X seconds and
not N Times.

A new configuration variable have been added:

- bulk_reload_interval - time to wait between bulk reloads. This is 0 by
  default to ensure backwards compatibility. If the value is not 0 the
  new functionlay is invoked.

Change-Id: Ieff5ce4506fd4e7fa427eb50c50fbe316f67103f
"
openstack%2Ffreezer~master~I908a310c4252db49ac74f2396e2e27184fe0f3f1,openstack/freezer,master,,I908a310c4252db49ac74f2396e2e27184fe0f3f1,"Fix documentation, replace src_file to path_to_backup",MERGED,2020-01-30 13:38:25.000000000,2020-02-03 02:24:37.000000000,2020-02-03 02:23:24.000000000,9,9,0,705003,f968a82c74daae5d0653580309d451a5f995666a,9,3,1,1,27339,Michal Arbet,michalarbet,"Fix documentation, replace src_file to path_to_backup

This patch is fixing documentation as freezer_action's 'src_file'
option is not used in a code, instead of this option 'path_to_backup'
is used.

Change-Id: I908a310c4252db49ac74f2396e2e27184fe0f3f1
"
openstack%2Ftelemetry-tempest-plugin~master~I4c07a8d15338b6ec80ca95cef64ab74ed6028319,openstack/telemetry-tempest-plugin,master,test-event-alarm,I4c07a8d15338b6ec80ca95cef64ab74ed6028319,Create event type alarm for aodh API test,MERGED,2020-02-02 21:03:22.000000000,2020-02-03 02:12:05.000000000,2020-02-03 02:12:05.000000000,33,26,0,705363,d852577e32f706eb5c8af853cd460ae1fe8d5647,10,2,1,2,6732,Lingxian Kong,kong,"Create event type alarm for aodh API test

The purpose is to remove dependency of gocchiclient.

Change-Id: I4c07a8d15338b6ec80ca95cef64ab74ed6028319
"
openstack%2Fdevstack~stable%2Fqueens~Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78,openstack/devstack,stable/queens,,Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78,Support TEMPEST_BRANCH with tag name,MERGED,2020-01-30 19:00:27.000000000,2020-02-03 01:54:02.000000000,2020-02-03 01:54:02.000000000,8,4,0,705090,21c448b4cbfcf712a1cbcb67903c624adeacc435,14,5,2,2,8556,Ghanshyam,ghanshyam,"Support TEMPEST_BRANCH with tag name

TEMPEST_BRANCH which is mostly set as master so
that Tempest master is run to test the env. With
stable branch going to EM state and Tempest master
might not work due to incompatibility of code or
requirements. In that case we pin the Tempest so that
older Tempest can be used for their testing.

Till now for ocata, pike and, queens we used the gerrit style
ref to pin the Tempest which is not preferred way. We should be
able to use the tag name on TEMPEST_BRANCH.

This commit explicitly checkout the tag set in TEMPEST_BRANCH
as git_clone does not checkout the tag directly until RECLONE
is true or tempest dir does not exist.

After this stable branch or job can set the tag directly with name.
For exmaple: TEMPEST_BRANCH=23.0.0.

Also replace gerrit style Tempest ref to tag to make
this change working.

Change-Id: Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78
"
openstack%2Fdevstack~stable%2Fstein~Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78,openstack/devstack,stable/stein,,Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78,Support TEMPEST_BRANCH with tag name,MERGED,2020-01-30 18:59:21.000000000,2020-02-03 01:52:44.000000000,2020-02-03 01:51:30.000000000,5,0,0,705088,82f036bc90ed6991a5c6c450fa4e5027954020c0,9,4,1,1,8556,Ghanshyam,ghanshyam,"Support TEMPEST_BRANCH with tag name

TEMPEST_BRANCH which is mostly set as master so
that Tempest master is run to test the env. With
stable branch going to EM state and Tempest master
might not work due to incompatibility of code or
requirements. In that case we pin the Tempest so that
older Tempest can be used for their testing.

Till now for ocata, pike and, queens we used the gerrit style
ref to pin the Tempest which is not preferred way. We should be
able to use the tag name on TEMPEST_BRANCH.

This commit explicitly checkout the tag set in TEMPEST_BRANCH
as git_clone does not checkout the tag directly until RECLONE
is true or tempest dir does not exist.

After this stable branch or job can set the tag directly with name.
For exmaple: TEMPEST_BRANCH=23.0.0.

Change-Id: Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78
"
openstack%2Fdevstack~stable%2Ftrain~Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78,openstack/devstack,stable/train,,Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78,Support TEMPEST_BRANCH with tag name,MERGED,2020-01-30 18:59:05.000000000,2020-02-03 01:47:11.000000000,2020-02-03 01:45:39.000000000,5,0,0,705087,d5906687a38f1d0d4ff76e678f089750f60b4625,9,4,1,1,8556,Ghanshyam,ghanshyam,"Support TEMPEST_BRANCH with tag name

TEMPEST_BRANCH which is mostly set as master so
that Tempest master is run to test the env. With
stable branch going to EM state and Tempest master
might not work due to incompatibility of code or
requirements. In that case we pin the Tempest so that
older Tempest can be used for their testing.

Till now for ocata, pike and, queens we used the gerrit style
ref to pin the Tempest which is not preferred way. We should be
able to use the tag name on TEMPEST_BRANCH.

This commit explicitly checkout the tag set in TEMPEST_BRANCH
as git_clone does not checkout the tag directly until RECLONE
is true or tempest dir does not exist.

After this stable branch or job can set the tag directly with name.
For exmaple: TEMPEST_BRANCH=23.0.0.

Change-Id: Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78
"
openstack%2Fpython-qinlingclient~master~Id33d34fd89a4fa10f1c60354b91268898289ba9c,openstack/python-qinlingclient,master,drop-py27-support,Id33d34fd89a4fa10f1c60354b91268898289ba9c,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-12-15 00:40:31.000000000,2020-02-02 23:02:48.000000000,2020-02-02 23:01:01.000000000,12,17,0,699086,5ab81333e30f9a5718d30cd8f3e988a80273f5e5,9,3,2,6,8556,Ghanshyam,ghanshyam,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

python-qinlingclient is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Id33d34fd89a4fa10f1c60354b91268898289ba9c
"
openstack%2Ftrove~master~Ie5030a671fbeb453eafa6cbe04e08da7b52e33c9,openstack/trove,master,function-tests,Ie5030a671fbeb453eafa6cbe04e08da7b52e33c9,Improve the function tests,MERGED,2020-01-10 11:23:35.000000000,2020-02-02 22:47:39.000000000,2020-02-02 22:45:40.000000000,765,4853,0,701936,602c4d42de77d1be0397185b04f2790f4bae87b7,49,2,12,157,6732,Lingxian Kong,kong,"Improve the function tests

- Execute test groups in serial to make sure no more than 2 database
  instance are created at the same time.
- Remove some unneccesary tests
- Remove unneeded datastore, e.g. 'Test_Datastore_1'
- Remove unsupported trovestack subcommands
- Move unsupported DIB elements to the 'deprecated-elements' folder
- Decrease default value of 'agent_call_high_timeout' to 5min
- Add initial_deplay for pooling task
- Use socket file to connect with database instead of using localhost
  IP

Change-Id: Ie5030a671fbeb453eafa6cbe04e08da7b52e33c9
"
openstack%2Ftrove-specs~master~I334a97d3a0d144b233f51dc864eb56eb6057a064,openstack/trove-specs,master,drop-py27-support,I334a97d3a0d144b233f51dc864eb56eb6057a064,[ussuri][goal] Drop python 2.7 support,MERGED,2019-12-13 19:08:51.000000000,2020-02-02 21:41:50.000000000,2020-02-02 21:39:26.000000000,6,8,1,698997,e2fd901625c36dd5f9c3a0dfdc4d7e9434dfa2ef,15,3,3,4,8556,Ghanshyam,ghanshyam,"[ussuri][goal] Drop python 2.7 support

OpenStack is dropping the py2.7 support in ussuri cycle.

Fix test_titles.py for changed generator syntax.

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I334a97d3a0d144b233f51dc864eb56eb6057a064
"
openstack%2Fcharm-octavia-dashboard~master~I8582a4cf62749240919d0fe4dd5d72577d288397,openstack/charm-octavia-dashboard,master,bug/1853851,I8582a4cf62749240919d0fe4dd5d72577d288397,Fix packaging issue by devolving it to principal,MERGED,2020-01-28 14:52:40.000000000,2020-02-02 18:04:40.000000000,2020-02-02 18:04:40.000000000,28,57,0,704588,8110298bb44a0c01e60f41b444866d7e94542c6c,35,4,6,7,20870,Alex Kavanagh,ajkavanagh,"Fix packaging issue by devolving it to principal

This patchset fixes the referenced bug by making use a new feature
in the openstack-dashboard charm to allow this plugin to indicate
which packages need installing and which conflict.

The two depends-on are the openstack-dashboard patch to add the
packaging feature and the charm-interface-dashboard-plugin patch
that adds the package details to the reactive interface code.

Also remove disco test and add eoan-train test due to disco EOL.

Depends-On: I962ec558b8dd1f765c6104d5ae61edd41c03affe
Depends-On: Ib3fc0b0525dabf70f45fd050af2ed05ba31129b9
Change-Id: I8582a4cf62749240919d0fe4dd5d72577d288397
Closes-Bug: #1853851
"
openstack%2Fzun~master~I758883e348fc5980224381167e85c4cda5c3a155,openstack/zun,master,,I758883e348fc5980224381167e85c4cda5c3a155,Move create_or_update_port to zun/network/neutron.py,MERGED,2020-01-25 22:45:21.000000000,2020-02-02 17:23:55.000000000,2020-02-02 17:22:44.000000000,208,180,0,704235,54640a22f3cdf951ce01436ad1b6f5aceed68e91,7,2,1,5,11536,hongbin,hongbin,"Move create_or_update_port to zun/network/neutron.py

This allows the code to be reused by runtimes that are not using
kuryr.

Change-Id: I758883e348fc5980224381167e85c4cda5c3a155
"
openstack%2Fneutron~master~I128f3c4621d2354ac6b0d07ccf34b84862efe7de,openstack/neutron,master,bug/1860332,I128f3c4621d2354ac6b0d07ccf34b84862efe7de,Increate tox-py38 timeout to 3600 seconds,MERGED,2020-01-27 13:33:21.000000000,2020-02-02 16:19:20.000000000,2020-02-02 16:17:10.000000000,2,0,3,704319,938581d9bd2ff46165c247d7c42d9492459522a8,23,8,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Increate tox-py38 timeout to 3600 seconds

Days after [1] was merged, [2] was merged too, adding a new CI job:
py38. This patch amends [1] increasing the timeout for this new job.

[1] https://review.opendev.org/#/c/703751
[2] https://review.opendev.org/#/c/693401

Change-Id: I128f3c4621d2354ac6b0d07ccf34b84862efe7de
Closes-Bug: #1860332
"
openstack%2Fnova-powervm~master~I8ad1fc2852e0a281c8a48b207ea4fd2f2beac467,openstack/nova-powervm,master,,I8ad1fc2852e0a281c8a48b207ea4fd2f2beac467,Changes required for Cold Migration,NEW,2019-08-23 08:32:41.000000000,2020-02-02 16:17:55.000000000,,133,20,8,678179,aa130c44dc7bec856a3e4adc35ccfa7e1c19c6a7,57,10,18,5,30366,Rajat Sharma,rajat-0,"Changes required for Cold Migration

- ""block_device_info"" required to delete instance that migrated form
  one host to another

- Skip check for RMC state during migration

- Skipping check for reducing disk size in case of cold migration.

- Fix error with NVRAM download during cold migration

  On Novalink hosts, if the VM is deployed using
  a custom compute template having ""Remote restart
  enabled"" value set to ""False"", the nvram data will
  not be uploaded to the swift repo. During cold
  migration of such VM the operation will fail with
  NVRAM not found exception. This fix is to handle this
  case and continue with the cold migrate operation
  instead of failing the same

Change-Id: I8ad1fc2852e0a281c8a48b207ea4fd2f2beac467
"
openstack%2Fneutron~master~I5e190c3db8bed0a264b911cdf425aa4c9b51f768,openstack/neutron,master,stop_configuring_install_command,I5e190c3db8bed0a264b911cdf425aa4c9b51f768,Stop configuring install_command in tox.,MERGED,2019-11-15 15:07:36.000000000,2020-02-02 15:52:52.000000000,2020-02-02 15:51:16.000000000,7,9,6,694568,f8a3b2c589727acc828ac0348c4fffeb818fbe50,176,12,16,3,31245,Daniel Bengtsson,damani42,"Stop configuring install_command in tox.

Currently, we are overriding 'install_command' to use 'pip'. This is
considered poor behavior and 'python -m pip' should be used instead:

https://snarky.ca/why-you-should-use-python-m-pip/

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.
This change showed we needed a newer version of debtcollector in lower
constraints, aliging with the version required by os-vif. This change
showed we needed also a newer version of cffi and keystoneauth1 in lower
constraints. Update also the requirements file for debtcollector and
keystoneauth1.

Change-Id: I5e190c3db8bed0a264b911cdf425aa4c9b51f768
"
openstack%2Fmanila~stable%2Fstein~Ia61b108ece0817069737980a614cc6c15c1a3507,openstack/manila,stable/stein,bug/1859785-stable/train-stable/stein,Ia61b108ece0817069737980a614cc6c15c1a3507,Improve share list speed using lazy='subquery',MERGED,2020-01-29 22:18:26.000000000,2020-02-02 15:10:32.000000000,2020-02-02 15:09:09.000000000,10,3,0,704897,dd35b08de1c2b5c9af835579ed5a07e527fa8a65,21,7,1,2,16643,Goutham Pacha Ravi,gouthamr,"Improve share list speed using lazy='subquery'

lazy='immediate' leads to each relationship being collected when
it is accessed. This results in at least three extra queries when
we query for all share details. lazy='subquery' collects all data
when the query is executed. In this commit we only changed code for
improving the share list with details (""manila list"") speed.

Change-Id: Ia61b108ece0817069737980a614cc6c15c1a3507
Closes-Bug: #1859785
Co-authored-by: Johannes Kulik <johannes.kulik@sap.com>
Co-authored-by: Maurice Escher <maurice.escher@sap.com>
(cherry picked from commit 54c5667e6b4a37270c4aed64b9a5ebd5f31bfa16)
(cherry picked from commit f01e48557863a4b6d4e75fe368e0185652aab09f)
"
openstack%2Fhorizon~master~Ia1e651e55276692c3330b3187bc0bc9eb89994bb,openstack/horizon,master,remove-mox,Ia1e651e55276692c3330b3187bc0bc9eb89994bb,tests: Remove unused helper functions,MERGED,2020-01-30 11:45:16.000000000,2020-02-02 13:30:49.000000000,2020-02-02 13:29:07.000000000,0,9,0,704975,1778421a527075b1a049caf01338dc51524d3c10,10,3,1,1,15334,Stephen Finucane,sfinucan,"tests: Remove unused helper functions

Change-Id: Ia1e651e55276692c3330b3187bc0bc9eb89994bb
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Frequirements~master~I0caa269bea983080cd3537d34006723cc81a18ac,openstack/requirements,master,openstack/requirements/constraints/noclob2,I0caa269bea983080cd3537d34006723cc81a18ac,Updated from generate-constraints,MERGED,2020-02-02 06:20:13.000000000,2020-02-02 12:53:59.000000000,2020-02-02 12:52:38.000000000,5,5,0,705341,ba1a1cbb36fb962e48299a0d2a72641751207f79,11,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I0caa269bea983080cd3537d34006723cc81a18ac
"
openstack%2Faodh~master~I7792227d82c7c6cd1e1bcba5be9b7a2353767bf4,openstack/aodh,master,zanata/translations,I7792227d82c7c6cd1e1bcba5be9b7a2353767bf4,Imported Translations from Zanata,MERGED,2020-02-02 09:57:40.000000000,2020-02-02 10:21:07.000000000,2020-02-02 10:19:26.000000000,9,8,0,705351,93b4d3a0466f3710338908c0de6772473fc1a2dd,7,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7792227d82c7c6cd1e1bcba5be9b7a2353767bf4
"
openstack%2Fopenstack-manuals~master~I5b476e6e8f473a69fe3aedbd14655c32fa5f458d,openstack/openstack-manuals,master,zanata/translations,I5b476e6e8f473a69fe3aedbd14655c32fa5f458d,Imported Translations from Zanata,MERGED,2020-02-01 06:11:23.000000000,2020-02-02 09:46:28.000000000,2020-02-02 09:23:36.000000000,59,17,0,705320,d93af826209e258370f6a8867b50a8cc4f136128,9,2,2,3,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5b476e6e8f473a69fe3aedbd14655c32fa5f458d
"
openstack%2Foctavia~master~I26cbf5d39dc8857026dda58eb705e6b1fc807544,openstack/octavia,master,,I26cbf5d39dc8857026dda58eb705e6b1fc807544,Fix jobs not running and add new ones to the gate,MERGED,2020-01-16 11:05:20.000000000,2020-02-02 09:04:26.000000000,2020-02-02 09:01:44.000000000,21,14,0,702845,08fb5a0639c1df87839bbe159be691113796f0e6,16,5,3,1,6469,Carlos Gonçalves,cgoncalves,"Fix jobs not running and add new ones to the gate

Jobs like the barbican and active-standby were not being run in CI
because of the irrelevant-files list set in octavia-tempest-plugin. We
need to override that list in the octavia project.

This patch also adds spare pool and active-standby (replacing the
iptables-based one) jobs to the check and gate queues.

Change-Id: I26cbf5d39dc8857026dda58eb705e6b1fc807544
"
openstack%2Fi18n~master~Icb874fe5855ad23fe562fd80c6b93bd1313d9860,openstack/i18n,master,zanata/translations,Icb874fe5855ad23fe562fd80c6b93bd1313d9860,Imported Translations from Zanata,MERGED,2020-02-02 08:39:02.000000000,2020-02-02 08:59:14.000000000,2020-02-02 08:57:27.000000000,105,3,0,705345,c81ea709fb665fb3bf5868c447c465e115913f15,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Icb874fe5855ad23fe562fd80c6b93bd1313d9860
"
openstack%2Foctavia~master~I3aba59c8dd86aeeee28cc6a67af93697912fb55b,openstack/octavia,master,drop-centos7-ubuntu-xenial-trusty,I3aba59c8dd86aeeee28cc6a67af93697912fb55b,Stop supporting CentOS 7 controllers and images,MERGED,2019-12-11 11:52:33.000000000,2020-02-02 08:58:56.000000000,2020-02-02 08:56:40.000000000,18,135,9,698449,dc2dd711e682f00f43355057e7a40a935ab7f324,25,6,5,13,6469,Carlos Gonçalves,cgoncalves,"Stop supporting CentOS 7 controllers and images

The diskimage-create.sh tool will now default to CentOS 8 when building
CentOS-based amphora images.

This patch also removes leftover references to support for Ubuntu Trusty
and Xenial.

Change-Id: I3aba59c8dd86aeeee28cc6a67af93697912fb55b
"
openstack%2Frequirements~master~Ib4d54d1e2724f6d8d7fa0ef4c1c95d106763cc2e,openstack/requirements,master,openstack/requirements/constraints/noclob,Ib4d54d1e2724f6d8d7fa0ef4c1c95d106763cc2e,Updated from generate-constraints,ABANDONED,2020-02-01 06:18:26.000000000,2020-02-02 06:31:21.000000000,,3,3,0,705321,4fc01599727bbdb837ccfabccba121455f192545,9,3,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ib4d54d1e2724f6d8d7fa0ef4c1c95d106763cc2e
"
openstack%2Fpython-tripleoclient~master~Ic70d9c5b5cbeca58e6640291cdb3f8840d90eca2,openstack/python-tripleoclient,master,,Ic70d9c5b5cbeca58e6640291cdb3f8840d90eca2,return py27 to voting,MERGED,2020-01-30 15:46:23.000000000,2020-02-02 04:45:56.000000000,2020-02-02 04:43:57.000000000,1,1,0,705046,87d4f7981e133e28ac02da11619cad02ccb9042a,16,3,1,1,9592,wes hayutin,weshayutin,"return py27 to voting

cloudnull the incredible and slayed the
py27 dragon and brought back it's head.
He also returned w/ a working py27 unit
test job that allows dlrn builds to
also work properly.

Related-Change: https://review.opendev.org/#/c/704859/
Change-Id: Ic70d9c5b5cbeca58e6640291cdb3f8840d90eca2
"
openstack%2Fdevstack~master~Ic7f69cdddcbd7ac50e2e7858f9eeff8256d31c0f,openstack/devstack,master,,Ic7f69cdddcbd7ac50e2e7858f9eeff8256d31c0f,DNM: testing swift customize endpoints,ABANDONED,2020-01-15 19:54:52.000000000,2020-02-02 01:49:00.000000000,,1,1,0,702741,5e750a07a7068c1687f6018fc872888bd82d6e60,3,1,1,1,8556,Ghanshyam,ghanshyam,"DNM: testing swift customize endpoints

Change-Id: Ic7f69cdddcbd7ac50e2e7858f9eeff8256d31c0f
"
openstack%2Fpuppet-tripleo~master~Ie1394d6f6977d8ae3a4e57015cc8c3b2ec7a6f3d,openstack/puppet-tripleo,master,correct-ips,Ie1394d6f6977d8ae3a4e57015cc8c3b2ec7a6f3d,Use ctlplane for internal QDR communication,MERGED,2020-01-15 21:35:09.000000000,2020-02-02 01:15:48.000000000,2020-02-02 01:15:48.000000000,39,45,3,702754,de509dd7090ee6e74d25130ca501cf46ebf1dcfc,60,10,8,3,5241,Martin Magr,mmagr,"Use ctlplane for internal QDR communication

This patch makes interior metrics QDR use ctlplane interfaces for which
ports are opened on THT side.

Change-Id: Ie1394d6f6977d8ae3a4e57015cc8c3b2ec7a6f3d
"
openstack%2Fansible-role-collect-logs~master~I0d22ba72a02575298c2bd6bfaca1285ad0719a26,openstack/ansible-role-collect-logs,master,fix/mo,I0d22ba72a02575298c2bd6bfaca1285ad0719a26,Improve molecule testing,MERGED,2020-01-30 16:39:51.000000000,2020-02-01 22:29:51.000000000,2020-02-01 22:29:51.000000000,8,11,0,705061,98adb01c79827d2100c4ed8f4ac8e4d25de5a065,17,6,1,2,24162,Sorin Sbârnea,ssbarnea,"Improve molecule testing

- removes linting from molecule (we do it ourselves)
- better parallel execution
- easier to read output

Change-Id: I0d22ba72a02575298c2bd6bfaca1285ad0719a26
"
openstack%2Fopenstack-ansible~stable%2Fstein~I1ecc54e01b8590a259c75803a40108e6235eff3c,openstack/openstack-ansible,stable/stein,bump_osa,I1ecc54e01b8590a259c75803a40108e6235eff3c,Bump SHAs for stable/stein,MERGED,2020-01-26 14:11:38.000000000,2020-02-01 21:56:37.000000000,2020-02-01 21:54:36.000000000,55,55,0,704251,dd04abeac87d5be6402fd87db1f22fa133649614,31,5,2,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump SHAs for stable/stein

Change-Id: I1ecc54e01b8590a259c75803a40108e6235eff3c
"
openstack%2Ftripleo-heat-templates~master~Ia6d73c33774218b70c1ed7fa9eaad882fde2eefe,openstack/tripleo-heat-templates,master,ffwd-upgrade2,Ia6d73c33774218b70c1ed7fa9eaad882fde2eefe,Update ffwd-upgrade branch names,MERGED,2020-01-27 17:08:15.000000000,2020-02-01 21:51:45.000000000,2020-02-01 21:51:45.000000000,117,117,0,704363,2092b1303fa81d9958be72c8381ecf4d80b8d520,17,8,3,53,6816,Jesse Pretorius,jesse-pretorius,"Update ffwd-upgrade branch names

The next iteration of fast-forward-upgrade will be
from queens through to train, so we update the names
accordingly.

Change-Id: Ia6d73c33774218b70c1ed7fa9eaad882fde2eefe
"
openstack%2Ftripleo-ansible~master~I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08,openstack/tripleo-ansible,master,mistral_to_ansible,I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08,Add new workflow playbook for enable-ssh-admin,MERGED,2019-11-19 15:29:39.000000000,2020-02-01 20:51:05.000000000,2020-02-01 20:51:05.000000000,216,0,16,695015,e5cf9a257b3af12d0681673890184fc8e1a89d25,66,8,16,1,7353,Kevin Carter,cloudnull,"Add new workflow playbook for enable-ssh-admin

This playbook was written to reimplement the mistral workflow,
""enable_ssh_admin"".

Story: 2007212
Task: 38427
Change-Id: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08
Co-Authored-By: Dougal Matthews <dougal@redhat.com>
Co-Authored-By: Luke Short <ekultails@gmail.com>
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fkolla-ansible~master~I2ef56ac5da9fd566e8b0d62f9986e19cae5383e8,openstack/kolla-ansible,master,glance-external-ceph,I2ef56ac5da9fd566e8b0d62f9986e19cae5383e8,Split copy of external ceph config and keyring for glance service,ABANDONED,2018-03-06 17:42:25.000000000,2020-02-01 19:55:05.000000000,,19,7,5,550181,9c63964634f43f1a143aefd1e63d6d063778544c,15,4,4,1,167,Christian Berendt,berendt,"Split copy of external ceph config and keyring for glance service

Change-Id: I2ef56ac5da9fd566e8b0d62f9986e19cae5383e8
"
openstack%2Ftripleo-heat-templates~master~I96ca945661cec80a6ff64febbb958381d9d3a020,openstack/tripleo-heat-templates,master,,I96ca945661cec80a6ff64febbb958381d9d3a020,Match slashes in volume mounts,ABANDONED,2020-01-14 12:13:43.000000000,2020-02-01 19:26:57.000000000,,10,10,0,702402,97dbd182d16648734bc30f8c78b1753f762765fa,6,6,1,9,10969,Shnaidman Sagi (Sergey),sergsh,"Match slashes in volume mounts

Change-Id: I96ca945661cec80a6ff64febbb958381d9d3a020
"
openstack%2Ftripleo-ci~master~I63177c4183c0d7e081df4fd0455f009ae666ee32,openstack/tripleo-ci,master,nobranch,I63177c4183c0d7e081df4fd0455f009ae666ee32,Remove explicit branch from master upgrade job,ABANDONED,2020-01-16 10:59:48.000000000,2020-02-01 19:26:12.000000000,,2,3,10,702843,a9bdef2a142a6779bd4ad3ab5b818e3c00929342,15,6,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Remove explicit branch from master upgrade job

Change-Id: I63177c4183c0d7e081df4fd0455f009ae666ee32
"
openstack%2Fzun~master~I0c3efdb0068cfa89b8cfc6cad68425838cd2e50f,openstack/zun,master,,I0c3efdb0068cfa89b8cfc6cad68425838cd2e50f,Split capsule code out of container driver,MERGED,2020-01-19 22:25:39.000000000,2020-02-01 18:50:35.000000000,2020-02-01 18:48:05.000000000,127,44,0,703309,624eebbc8a22bafea0d626614f9bf9c40056140c,12,2,4,11,11536,hongbin,hongbin,"Split capsule code out of container driver

Introduce a capsule driver in parallel with container driver.
Capsule logic goes to capsule driver and container logic goes to
container driver.

Change-Id: I0c3efdb0068cfa89b8cfc6cad68425838cd2e50f
"
openstack%2Fzun~master~I288f833b69693dc36934549a13123415a71e1578,openstack/zun,master,bug/1860937,I288f833b69693dc36934549a13123415a71e1578,Treat cpu as float (not integer),MERGED,2020-01-26 21:12:23.000000000,2020-02-01 18:49:26.000000000,2020-02-01 18:48:04.000000000,1,1,0,704259,948af86c4138d4e11eae38f0e0a98efceb0a7c2e,8,2,2,1,11536,hongbin,hongbin,"Treat cpu as float (not integer)

Change-Id: I288f833b69693dc36934549a13123415a71e1578
Closes-Bug: #1860937
"
openstack%2Ftripleo-ci~master~I4f6aaba81c91bc015d67c9c03de44f09ed0a66b1,openstack/tripleo-ci,master,gzip,I4f6aaba81c91bc015d67c9c03de44f09ed0a66b1,Disable gzip on upstream and enable on OVB,MERGED,2020-01-30 08:36:32.000000000,2020-02-01 17:50:07.000000000,2020-02-01 17:50:07.000000000,3,1,4,704938,227d46d45ece4e6f6aa20853a9bcc458ae427b08,38,10,6,4,10969,Shnaidman Sagi (Sergey),sergsh,"Disable gzip on upstream and enable on OVB

leave gzipping on non-OVB jobs in 3party as it allows to
browse gzipped files.
Closes-Bug: #1861378
Change-Id: I4f6aaba81c91bc015d67c9c03de44f09ed0a66b1
"
openstack%2Fansible-role-collect-logs~master~Icb34b55f12eb5b1df86d7f227df5ef191fd25bb2,openstack/ansible-role-collect-logs,master,,Icb34b55f12eb5b1df86d7f227df5ef191fd25bb2,Fix undefined variable in infrared tasks,MERGED,2020-01-30 14:20:44.000000000,2020-02-01 17:50:06.000000000,2020-02-01 17:50:06.000000000,1,1,1,705020,5bd0db630fe13e5666d89da24a95520518ec9be3,26,8,1,1,16615,abregman,abregman,"Fix undefined variable in infrared tasks

When using ansible-role-collect-logs with Infrared, we hit
the issue: artcl_publish' is undefined.

This change sets a default for this variable in the conditional
which makes use of it.

Change-Id: Icb34b55f12eb5b1df86d7f227df5ef191fd25bb2
"
openstack%2Fglance~stable%2Ftrain~I5a1c61430879a910e7b6c79effba538431959d56,openstack/glance,stable/train,bug/1861501-stable/train,I5a1c61430879a910e7b6c79effba538431959d56,Ensure store ID parsed from URI is properly encoded,MERGED,2020-01-31 18:18:30.000000000,2020-02-01 17:41:04.000000000,2020-02-01 17:39:44.000000000,1,1,0,705272,c5bdc5536690f5b3ae44c4d9ae2e96470287eb56,18,2,1,1,21129,Alan Bishop,ASBishop,"Ensure store ID parsed from URI is properly encoded

Ensure the store ID parsed from a request URI is unicode. This fixes
a py27 issue that allowed an incorrectly encoded value to be added to
the image's metadata.

Support for py27 is dropped in Ussuri, but this fix is required on
earlier releases that do support py27.

Closes-Bug: #1861501
Change-Id: I5a1c61430879a910e7b6c79effba538431959d56
(cherry picked from commit 8649fdc2a293009899d2aa918ec360e30adc8e77)
"
openstack%2Fnova~master~I7a4b951f3ab324c666ab924e6003d24cc8e539f5,openstack/nova,master,bug/1748697,I7a4b951f3ab324c666ab924e6003d24cc8e539f5,Use COMPUTE_SAME_HOST_COLD_MIGRATE trait during migrate,MERGED,2019-11-20 15:30:33.000000000,2020-02-01 17:08:31.000000000,2020-01-30 19:22:12.000000000,216,8,26,695220,4921e822e73383af0c8da4c5e3acfaa021eafe68,137,14,11,10,6873,Matt Riedemann,mriedem,"Use COMPUTE_SAME_HOST_COLD_MIGRATE trait during migrate

This uses the COMPUTE_SAME_HOST_COLD_MIGRATE trait in the API during a
cold migration to filter out hosts that cannot support same-host cold
migration, which is all of them except for the hosts using the vCenter
driver.

For any nodes that do not report the trait, we won't know if they don't
because they don't support it or if they are not new enough to report
it, so the API has a service version check and will fallback to old
behavior using the config if the node is old. That compat code can be
removed in the next release.

As a result of this the FakeDriver capabilities are updated so the
FakeDriver no longer supports same-host cold migration and a new fake
driver is added to support that scenario for any tests that need it.

Change-Id: I7a4b951f3ab324c666ab924e6003d24cc8e539f5
Closes-Bug: #1748697
Related-Bug: #1811235
"
openstack%2Ftripleo-common~master~I3f48130882f146f39662b7dce4713f27091f511c,openstack/tripleo-common,master,bp/rabbitmq-version-upgrade,I3f48130882f146f39662b7dce4713f27091f511c,Cleanup template overrides for rabbitmq,ABANDONED,2020-01-21 19:15:51.000000000,2020-02-01 16:39:11.000000000,,1,1,0,703676,927a47508c225923b78b322a8502721410992faa,5,6,1,1,30523,Dincer Celik,osmanlicilegi,"Cleanup template overrides for rabbitmq

Kolla will upgrade and pin rabbitmq version to 3.8.2 for Ussuri, so need
to update tripleo template overrides.

Depends-On: https://review.opendev.org/#/c/703674/
Change-Id: I3f48130882f146f39662b7dce4713f27091f511c
"
openstack%2Ftripleo-common~master~If18e88a95185c7169641243e9d8e54fa51407ba7,openstack/tripleo-common,master,bp/rabbitmq-version-upgrade,If18e88a95185c7169641243e9d8e54fa51407ba7,Update template overrides for rabbitmq,ABANDONED,2020-01-21 19:09:02.000000000,2020-02-01 16:38:44.000000000,,1,4,0,703674,5495326f88d5c3dc23595dc52ab1ceb89f327e7c,6,6,1,1,30523,Dincer Celik,osmanlicilegi,"Update template overrides for rabbitmq

Kolla will upgrade and pin rabbitmq version to 3.8.2 for Ussuri, so need
to update tripleo template overrides. This adds the new pin, which will
be cleaned up on a follow on review.

Change-Id: If18e88a95185c7169641243e9d8e54fa51407ba7
"
openstack%2Fkolla~master~I59dc2c4207af6812501b6c6acdb34e51a3e848c4,openstack/kolla,master,bp/centos-rhel-8,I59dc2c4207af6812501b6c6acdb34e51a3e848c4,CentOS 8: Allow SSH access to keystone_ssh and nova_ssh,MERGED,2020-01-29 17:06:19.000000000,2020-02-01 15:45:28.000000000,2020-02-01 15:43:38.000000000,16,1,2,704848,892ae92d971fd7a2c8d39e416512bb69f7fd833f,49,6,3,2,14826,Mark Goddard,mgoddard,"CentOS 8: Allow SSH access to keystone_ssh and nova_ssh

The centos:8 image contains a /run/nologin file, which prevents SSH
access to it. Remove this file in the keystone_ssh and nova_ssh images
to allow login via SSH.

Change-Id: I59dc2c4207af6812501b6c6acdb34e51a3e848c4
Partially-Implements: blueprint centos-rhel-8
"
openstack%2Fkolla~master~I6d409e56b424a039f5aff9af86ca1b026c2c6286,openstack/kolla,master,bp/centos-rhel-8,I6d409e56b424a039f5aff9af86ca1b026c2c6286,CentOS 8: Relax ironic iPXE EFI bootloader location,MERGED,2020-01-30 11:27:52.000000000,2020-02-01 15:26:42.000000000,2020-02-01 15:25:17.000000000,1,1,0,704965,adcdef7d85b4d1a89592f01ae4902b43b768f0d3,31,5,2,1,14826,Mark Goddard,mgoddard,"CentOS 8: Relax ironic iPXE EFI bootloader location

CentOS 7 had ipxe.efi. CentOS 8 has ipxe-i386.efi and ipxe-x86_64.efi.
Use a wildcard to copy any of these that are present.

Change-Id: I6d409e56b424a039f5aff9af86ca1b026c2c6286
Partially-Implements: blueprint centos-rhel-8
"
openstack%2Fpuppet-keystone~master~I6373628925572fdd0cbd95ffc045b3da9061012c,openstack/puppet-keystone,master,,I6373628925572fdd0cbd95ffc045b3da9061012c,Use openstacklib implementation to decide workers,ABANDONED,2020-01-30 15:36:52.000000000,2020-02-01 13:53:16.000000000,,8,24,1,705042,3a69780b0724f75459211c05d8cd0753167883c2,14,3,2,4,9816,Takashi Kajinami,kajinamit,"Use openstacklib implementation to decide workers

... so that we can have all worker calculators in one place,
instead of each puppet modules.

Depends-on: https://review.opendev.org/#/c/705041/
Change-Id: I6373628925572fdd0cbd95ffc045b3da9061012c
"
openstack%2Ftripleo-operator-ansible~master~I77d7ce3d4932656ff06ef2d882d37b47766afcc2,openstack/tripleo-operator-ansible,master,molecule-prep,I77d7ce3d4932656ff06ef2d882d37b47766afcc2,Fix filter issues and add molecule test,ABANDONED,2020-01-30 18:52:04.000000000,2020-02-01 12:41:10.000000000,,118,4,1,705085,76070de1fbd5ac2ba08436c29ae36421e8fd506e,30,3,11,6,10969,Shnaidman Sagi (Sergey),sergsh,"Fix filter issues and add molecule test

Change-Id: I77d7ce3d4932656ff06ef2d882d37b47766afcc2
"
openstack%2Fkolla-ansible~master~I1881f51a6c8508f0f186a5623443343dc1df41d4,openstack/kolla-ansible,master,bug/1861513,I1881f51a6c8508f0f186a5623443343dc1df41d4,Fix qemu loading of ceph.conf (permission error),MERGED,2019-09-06 16:09:51.000000000,2020-02-01 12:10:02.000000000,2020-02-01 12:00:55.000000000,6,1,0,680740,91910d2a455f66e5f014a04bedf132fe0cab55ea,33,6,4,2,24849,yao ning,mslovy,"Fix qemu loading of ceph.conf (permission error)

ceph.conf is loaded by qemu, not libvirt.
Since qemu runs as the nova user, ceph.conf owned by root
causes a permission error. The logs in
/var/log/libvirt/qemu/instance-*.log reveal the error.

This change fixes the issue by changing the ownership of ceph.conf
in nova-libvirt to the nova user.

Closes-Bug: #1861513
Change-Id: I1881f51a6c8508f0f186a5623443343dc1df41d4
Signed-off-by: Ning Yao <yaoning@unitedstack.com>
"
openstack%2Foctavia~master~I5baf7d18105494259361be1f0f411412071f1d36,openstack/octavia,master,,I5baf7d18105494259361be1f0f411412071f1d36,Support haproxy development snapshot version parsing,MERGED,2020-01-09 19:52:15.000000000,2020-02-01 11:39:41.000000000,2020-02-01 11:38:16.000000000,10,1,2,701823,7dc54eb9c949dc218ad312a43d56adf6b3969085,16,7,2,2,29244,Gregory Thiemonge,gthiemonge,"Support haproxy development snapshot version parsing

Fix haproxy version parser in amphora-agent for beta versions (i.e
2.2-dev0)

Change-Id: I5baf7d18105494259361be1f0f411412071f1d36
"
openstack%2Fopenstacksdk~master~I043efce748d48bd1743ed3706cabda5e51494cfe,openstack/openstacksdk,master,,I043efce748d48bd1743ed3706cabda5e51494cfe,Add allowed_cidrs param to load balancer listener,MERGED,2020-01-17 09:06:54.000000000,2020-02-01 11:37:47.000000000,2020-02-01 11:36:21.000000000,9,1,0,703040,fcdb2924d4599f7b85315d29d43e71bf3509f9fe,22,5,1,3,6469,Carlos Gonçalves,cgoncalves,"Add allowed_cidrs param to load balancer listener

Parameter allowed_cidrs was added in Octavia API v2.12 (included in
Train release).

Change-Id: I043efce748d48bd1743ed3706cabda5e51494cfe
"
openstack%2Ftripleo-ci~master~I17d3acdb73e5f2acc35eecdc60502f13931a1876,openstack/tripleo-ci,master,gzip,I17d3acdb73e5f2acc35eecdc60502f13931a1876,"Revert ""Disable gzip on main collect-logs config""",MERGED,2020-01-30 08:24:26.000000000,2020-02-01 09:22:23.000000000,2020-02-01 09:22:23.000000000,1,3,0,704933,75062c01173ab9648208cf441f10a9e3851eadd6,28,8,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Revert ""Disable gzip on main collect-logs config""

This reverts commit 6b5298dc9ed13ae40bbc4c87b8c90f26db263017.

Change-Id: I17d3acdb73e5f2acc35eecdc60502f13931a1876
"
openstack%2Fcontributor-guide~master~I5dcabe39b5a4e3843f559af1e6bb17ac4332484c,openstack/contributor-guide,master,zanata/translations,I5dcabe39b5a4e3843f559af1e6bb17ac4332484c,Imported Translations from Zanata,MERGED,2020-02-01 08:20:57.000000000,2020-02-01 09:06:30.000000000,2020-02-01 09:04:38.000000000,6,2,0,705327,a07ca40d53d4ff60c800b3c11e1e5309992e15b3,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5dcabe39b5a4e3843f559af1e6bb17ac4332484c
"
openstack%2Foctavia~stable%2Ftrain~I5cdc0a9ccc01548f195eed80f2ee2848a1a93e17,openstack/octavia,stable/train,drop-centos7-ubuntu-xenial-trusty-stable/train,I5cdc0a9ccc01548f195eed80f2ee2848a1a93e17,Use LUKS1 for certfs-ramfs for all distributions,MERGED,2020-01-24 06:31:01.000000000,2020-02-01 07:45:12.000000000,2020-02-01 07:43:30.000000000,7,10,0,704107,a59e7235560ad045b24c58ed722ab62a451174d3,9,5,1,1,6469,Carlos Gonçalves,cgoncalves,"Use LUKS1 for certfs-ramfs for all distributions

This commit forces the use of LUKS1 in cryptsetup.

Centos uses LUKS2 by default in cryptsetup, ubuntu uses LUKS1.
Formating a LUKS2 block device is way longer than formating a LUKS1
device (15 sec vs 8 sec in my env) and LUKS2 doesn't provide any
significant features for octavia (it only improves recovery and
metadata).

The commit aslo limits the creation of more than 1 block ram device
(amphora doesn't need 16 ram devices), which reduces startup time.

Change-Id: I5cdc0a9ccc01548f195eed80f2ee2848a1a93e17
(cherry picked from commit c2ef7792fd17c5e54e4b82a63ea448d1f8310c31)
"
openstack%2Ftripleo-heat-templates~master~Ifc0e5deb0656bb778fa0d37dbb1c6022e4088ddf,openstack/tripleo-heat-templates,master,,Ifc0e5deb0656bb778fa0d37dbb1c6022e4088ddf,"Revert ""mark scen10 and scen000 update/upgrade non-voting""",MERGED,2020-01-31 20:23:16.000000000,2020-02-01 05:34:11.000000000,2020-02-01 05:34:10.000000000,0,7,0,705291,c6dd5553d6527903828284533a754ada56d1de8c,11,4,1,1,9592,wes hayutin,weshayutin,"Revert ""mark scen10 and scen000 update/upgrade non-voting""

This reverts commit c350126be05d6a78920bfa5cd711db39f260f835.

Change-Id: Ifc0e5deb0656bb778fa0d37dbb1c6022e4088ddf
"
openstack%2Ftripleo-heat-templates~master~I707b2f66eb947d64ef6a21238dc26c81575be2c7,openstack/tripleo-heat-templates,master,async,I707b2f66eb947d64ef6a21238dc26c81575be2c7,Increase concurrency when starting containers,MERGED,2020-01-27 13:36:24.000000000,2020-02-01 05:26:17.000000000,2020-02-01 05:26:17.000000000,1,1,0,704320,7bbee2d86ff4b78bf29992da2e5d53ab27a5a983,40,7,7,1,3153,Emilien Macchi,emilienm,"Increase concurrency when starting containers

When Paunch is disabled, we can make the container startup concurrent.
The default was set to 2 to avoid podman locks issues but it seems
that we have now better results when concurrency is higher.

Let's set it to 5 for now.

Change-Id: I707b2f66eb947d64ef6a21238dc26c81575be2c7
"
openstack%2Ftripleo-common~master~I84648caf18bfa40160410c9b664cf55a1d8fae73,openstack/tripleo-common,master,healthchecks/strict-pipefail,I84648caf18bfa40160410c9b664cf55a1d8fae73,"Revert ""Make healthchecks more strict""",MERGED,2020-01-31 09:15:56.000000000,2020-02-01 04:08:44.000000000,2020-02-01 04:07:28.000000000,1,6,0,705177,bc1e1be3391c617284840a1077265194fb06dc41,17,12,1,1,28223,Cedric Jeanneret,cjeanner,"Revert ""Make healthchecks more strict""

This reverts commit ba02b0a23582b286b775fd129e3a09970862755b.

Apparently this makes a specific healthcheck fail - some investigations are needed.
Reverting this patch allows to avoid dropping a CI check as done https://review.opendev.org/705051

Change-Id: I84648caf18bfa40160410c9b664cf55a1d8fae73
"
openstack%2Fpython-ironicclient~master~Ia382d3fc155196e7cf916f57ee0ac6be7dde07af,openstack/python-ironicclient,master,rm-custom-https-intermediate,Ia382d3fc155196e7cf916f57ee0ac6be7dde07af,Remove VerifiedHTTPSConnection class,MERGED,2020-01-28 16:21:43.000000000,2020-02-01 03:40:11.000000000,2020-02-01 03:38:51.000000000,0,67,0,704622,c27c848dba205e163a0828c8caeb4cb819c2d23c,13,4,2,1,12356,Vladyslav Drok,vdrok,"Remove VerifiedHTTPSConnection class

It was needed for now EOL python versions, was unused for quite
a while and is insecure (does not allow customising TLS version
for example).

Change-Id: Ia382d3fc155196e7cf916f57ee0ac6be7dde07af
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id7a1989d0a41d1563e3656dd6363ea1101a67139,openstack/tripleo-heat-templates,stable/train,,Id7a1989d0a41d1563e3656dd6363ea1101a67139,"Revert ""Remove panko""",MERGED,2020-01-29 19:10:31.000000000,2020-02-01 02:53:25.000000000,2020-02-01 02:53:25.000000000,982,1,5,704869,2051459b89a5c5cb93ca93e28082849262d50cf1,37,6,7,46,6924,Pradeep Kilambi,pkilambi,"Revert ""Remove panko""

Revert Panko removal as CF integration work was not completed
on time for train compatibility.

This reverts commit 112f485c7fe1cc64445d3c09b2e9655026697225.

Change-Id: Id7a1989d0a41d1563e3656dd6363ea1101a67139
"
openstack%2Fswift~master~Icade637b0d384dcc87aaa31da3861cd2646d4ccd,openstack/swift,master,bug/1827394,Icade637b0d384dcc87aaa31da3861cd2646d4ccd,enforce account quotas on empty accounts,MERGED,2019-05-02 16:56:30.000000000,2020-02-01 02:24:30.000000000,2020-02-01 02:21:52.000000000,29,1,2,656812,0606f404fe92a3c56014feba55069a206ddb1cc8,16,2,2,2,330,John Dickinson,notmyname,"enforce account quotas on empty accounts

Change-Id: Icade637b0d384dcc87aaa31da3861cd2646d4ccd
Closes-Bug: #1827394
"
openstack%2Fneutron~master~Ia0dcf47ead268aa4b265904c9e1ae1e38d77456a,openstack/neutron,master,ipv6-only-deployment-and-testing,Ia0dcf47ead268aa4b265904c9e1ae1e38d77456a,Define new ipv6-only job for OVN,MERGED,2020-01-02 20:48:41.000000000,2020-02-01 02:24:19.000000000,2020-02-01 02:21:46.000000000,21,2,5,700939,fc507c701c08f76be02c20a6143475f9676e3de0,44,8,10,2,1131,Brian Haley,brian-haley,"Define new ipv6-only job for OVN

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
Tempest has defined the base job 'devstack-tempest-ipv6' (adding
in Depends-On patch) which will deploy services on IPv6.

This commit adds the new job 'neutron-ovn-tempest-ovs-release-ipv6-only'
run on check queue which is derived from 'devstack-tempest-ipv6'.
A future change can make this voting in the gate.

Verification structure will be:
- 'devstack-IPv6' deploy the service on IPv6
- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen
  address
- 'networking-ovn-tempest-ovs-release-ipv6-only' will run the tests.

Story: #2005477
Task: #35908

Based on https://review.opendev.org/#/c/673488/ from networking-ovn.

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Depends-on: https://review.opendev.org/#/c/703685/
Change-Id: Ia0dcf47ead268aa4b265904c9e1ae1e38d77456a
"
openstack%2Fneutron~master~Ib33fffbaaea6abfbd9719e0712918d4ae65b3ee2,openstack/neutron,master,add_env_for_ovs_build,Ib33fffbaaea6abfbd9719e0712918d4ae65b3ee2,Permit OVS build can be set,MERGED,2020-01-31 03:42:24.000000000,2020-02-01 02:22:47.000000000,2020-02-01 02:19:32.000000000,18,11,3,705154,4e60c047d27a67f69624c6bd042e4c1521bd8989,16,6,4,1,12860,Dongcan Ye,yedongcan,"Permit OVS build can be set

Commit 00a74d1137abe78a0f34a73144ee7e2ccc486a32 change the OVS
package compile from source, this makes some neutron staduim
projects func gate has no permission accessing the ""ovs"" dir.

This patch adds a BUILD_OVS_FROM_SOURCE environment variables,
let it can be override by gate_hook.

Change-Id: Ib33fffbaaea6abfbd9719e0712918d4ae65b3ee2
Partial-Bug: #1861469
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Iaf19e1550bd7a5286b8512596efd84cf14c78f32,openstack/tripleo-heat-templates,stable/rocky,fix-sed-stable/rocky,Iaf19e1550bd7a5286b8512596efd84cf14c78f32,"Fix sed in run-os-net-config to only replace values, not keys",MERGED,2019-12-03 13:24:07.000000000,2020-02-01 00:54:39.000000000,2020-02-01 00:54:39.000000000,1,1,0,697082,e3a9b32677df72a7e9c46558dbc9c487053c818c,17,5,1,1,13995,Nate Johnston,natejohnston,"Fix sed in run-os-net-config to only replace values, not keys

The sed in run-os-net-config.sh replaces all instances of bridge_name
but it should only replace values, not keys.

Change-Id: Iaf19e1550bd7a5286b8512596efd84cf14c78f32
Closes-bug: #1854780
(cherry picked from commit 858cc6c54f690058ce28b0832870df875a7923e9)
"
openstack%2Fneutron~stable%2Fstein~I943e6397319b9a4a7fc1a5b3acb721920ddffb02,openstack/neutron,stable/stein,bug/1824299-stable/stein,I943e6397319b9a4a7fc1a5b3acb721920ddffb02,Define orm relationships after db classes,MERGED,2020-01-31 11:34:22.000000000,2020-02-01 00:54:04.000000000,2020-02-01 00:52:05.000000000,7,6,0,705195,d7945c60b0e2d56f2f1f7781b20aa9194af26082,12,6,1,1,11975,Slawek Kaplonski,slaweq,"Define orm relationships after db classes

This is to fix race conditions on neutron server init.
Please see bug for details.

Change-Id: I943e6397319b9a4a7fc1a5b3acb721920ddffb02
Partial-Bug: #1824299
(cherry picked from commit 38daf9eaae8538c74933b19c952ad0612751c027)
"
openstack%2Fopenstack-helm~master~I72be0bbdefcba77a55b6ceed6e192c9621c069eb,openstack/openstack-helm,master,fix_readiness_check,I72be0bbdefcba77a55b6ceed6e192c9621c069eb,Fix health probe for several conductor workers,MERGED,2019-11-13 13:38:41.000000000,2020-02-01 00:50:54.000000000,2020-02-01 00:48:05.000000000,2,18,1,694070,d467d685a3863edc5fed7c352961b3235a5e3a99,21,12,3,2,29013,Alex Grudev,ogrudev,"Fix health probe for several conductor workers

It was observed that when increasing amount of
conductor workers from default ""1"" to higher value
the readiness probe fails to check rabbitmq connections
for conductor processes - it happens since the script is trying
to obtain rabbitmq connections for parent conductor process
which in case of workers>1 doesn`t open rabbit connections
but spawns child processes which handle rabbitmq
connections instead.
This patch removes the ""check-all-pids"" option, keeps the logic
but simplifies and fastens he code - instead of checking all
processes when ""check-all-pids"" option was set (however
regardless of ""sock_count value"" if only one process opens connection
the check returns positive result) processes will be checked one-by-one
until the first one with open rabbitmq connection(s) is
found.

Change-Id: I72be0bbdefcba77a55b6ceed6e192c9621c069eb
"
openstack%2Fcharms.openstack~master~I0634d790863ee322ea5d34a3029666faece492c4,openstack/charms.openstack,master,batch-update,I0634d790863ee322ea5d34a3029666faece492c4,Add new OpenStack release to testing mocks,MERGED,2020-01-30 19:42:13.000000000,2020-02-01 00:10:29.000000000,2020-02-01 00:10:29.000000000,1,0,0,705103,35eb1d6745f5449cc332e12e36932bdfb71e485b,6,2,1,1,11805,Corey Bryant,coreycb,"Add new OpenStack release to testing mocks

Add ussuri release name to unit test mock data.

Change-Id: I0634d790863ee322ea5d34a3029666faece492c4
"
openstack%2Fcharm-barbican~master~I4b4ec23cfb698732df7a467dc88b79e3dd6e07b1,openstack/charm-barbican,master,batch-update,I4b4ec23cfb698732df7a467dc88b79e3dd6e07b1,Add new major package versions and drop disco test,MERGED,2020-01-30 18:25:41.000000000,2020-02-01 00:09:58.000000000,2020-02-01 00:09:58.000000000,3,10,0,705080,8f9f260d3404e93317c4baea1834e084ff698866,16,5,2,2,11805,Corey Bryant,coreycb,"Add new major package versions and drop disco test

Add the stein/train/ussuri major package versions.
Drop the disco functional test now that disco is EOL.

Change-Id: I4b4ec23cfb698732df7a467dc88b79e3dd6e07b1
"
openstack%2Fcharm-placement~master~I968f0eff5b9e8cd3f66b327be659968fcd8832b6,openstack/charm-placement,master,batch-update,I968f0eff5b9e8cd3f66b327be659968fcd8832b6,Add the ussuri major package version,MERGED,2020-01-30 18:29:24.000000000,2020-02-01 00:09:26.000000000,2020-02-01 00:09:26.000000000,1,0,0,705083,1e668e775a20ee0bcf4609073a369b0f96f1b9d6,9,4,1,1,11805,Corey Bryant,coreycb,"Add the ussuri major package version

Change-Id: I968f0eff5b9e8cd3f66b327be659968fcd8832b6
"
openstack%2Fcharm-gnocchi~master~I0a34dbb8c2e5a00048bfe3b95cdad4f25be6aec6,openstack/charm-gnocchi,master,batch-update,I0a34dbb8c2e5a00048bfe3b95cdad4f25be6aec6,Drop the disco functional test now that disco is EOL.,MERGED,2020-01-30 20:09:34.000000000,2020-02-01 00:09:02.000000000,2020-02-01 00:09:02.000000000,0,23,0,705109,1d61e7a8d8a81f1551d6c11a77d938dd4f03f68e,13,5,2,1,11805,Corey Bryant,coreycb,"Drop the disco functional test now that disco is EOL.

Change-Id: I0a34dbb8c2e5a00048bfe3b95cdad4f25be6aec6
"
openstack%2Fcharm-aodh~master~I163c7780e24993794433a19f1c4ac26252b90539,openstack/charm-aodh,master,batch-update,I163c7780e24993794433a19f1c4ac26252b90539,Add ussuri package version and pin Jinja2 wheel,MERGED,2020-01-30 18:26:42.000000000,2020-02-01 00:08:56.000000000,2020-02-01 00:08:55.000000000,3,2,0,705081,d070431a0656fdc78ba8591764cdf4fc5403341e,18,4,3,2,11805,Corey Bryant,coreycb,"Add ussuri package version and pin Jinja2 wheel

Add the ussuri major package version.
Pin Jinja2 to the last versions supporting python 3.4 for trusty.

Change-Id: I163c7780e24993794433a19f1c4ac26252b90539
"
openstack%2Fkolla-ansible~master~I971abc2a42cc05bbe77fc15e2cb761fd4189b0a2,openstack/kolla-ansible,master,get-haproxy-certificate-from-variable,I971abc2a42cc05bbe77fc15e2cb761fd4189b0a2,Move haproxy certificate into variable,ABANDONED,2017-10-10 05:38:55.000000000,2020-01-31 23:09:29.000000000,,14,2,0,510750,a0ca29bb21f658a78b9e1a892d983adcf5bc2b24,8,6,1,3,167,Christian Berendt,berendt,"Move haproxy certificate into variable

This change is necessary to be able to encrypt the certificate already
before Ansible 2.4 with Vault as a parameter. The decryption of entire
files using the copy task was introduced with Ansible 2.4.

Change-Id: I971abc2a42cc05bbe77fc15e2cb761fd4189b0a2
"
openstack%2Fswift~master~I1833a8ff2ac2f4126b6274d6bba47e2b58a41745,openstack/swift,master,containersync_fix_retry,I1833a8ff2ac2f4126b6274d6bba47e2b58a41745,Stop retrying every deletes in container-sync,MERGED,2019-10-28 17:55:14.000000000,2020-01-31 23:08:33.000000000,2020-01-31 23:06:59.000000000,60,8,23,691729,f68e22d43a1bfbbdf182b1cc6819bdc83d166d5d,25,5,6,4,27887,Gilles Biannic,gillesbiannic,"Stop retrying every deletes in container-sync

Internal clients used to retry operations even on client errors, where
we had no expectation that we would get a different response. Among
other things, this would cause container-sync to needlessly retry
deletes that would 404, even though we had code specifically in place to
say that 404s are OK.

While we're at it, also flag 409s as being OK (since the remote has
newer data than us).

Change-Id: I1833a8ff2ac2f4126b6274d6bba47e2b58a41745
Closes-Bug: #1849841
"
openstack%2Fcharm-ceilometer-agent~master~I56fea3a4ac2d8c991a81ccf68809b90f7b0ef77f,openstack/charm-ceilometer-agent,master,batch-update,I56fea3a4ac2d8c991a81ccf68809b90f7b0ef77f,Sync charm-helpers for Ussuri/Focal release and version details,MERGED,2020-01-17 19:21:16.000000000,2020-01-31 23:06:41.000000000,2020-01-31 23:06:41.000000000,803,148,0,703163,c109dffc30e73284902ebbb729c8aa9dc6dd40ef,41,4,5,15,11805,Corey Bryant,coreycb,"Sync charm-helpers for Ussuri/Focal release and version details

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/163
Depends-On: https://review.opendev.org/#/c/685631/
Change-Id: I56fea3a4ac2d8c991a81ccf68809b90f7b0ef77f
"
openstack%2Fcharm-ceilometer-agent~master~I1cfebeb15485dd6d92638323d2c9e6bb85f568cb,openstack/charm-ceilometer-agent,master,batch-update,I1cfebeb15485dd6d92638323d2c9e6bb85f568cb,Port tests from Amulet to Zaza,MERGED,2019-09-30 01:05:09.000000000,2020-01-31 22:58:07.000000000,2020-01-31 22:58:07.000000000,1264,1227,0,685631,72107bc963af334840eddd9638d821b408018db8,42,6,10,26,29556,Eduardo Santos Sousa,ed1000,"Port tests from Amulet to Zaza

Zaza tests can be found here:
https://github.com/openstack-charmers/zaza-openstack-tests/pull/68

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/163
Closes-Bug: #1828424
Change-Id: I1cfebeb15485dd6d92638323d2c9e6bb85f568cb
"
openstack%2Fopenstack-helm~master~I801d04559a526d3a7339cd5102f2e738af9f72e0,openstack/openstack-helm,master,fix/domain-manage,I801d04559a526d3a7339cd5102f2e738af9f72e0,[Keystone] Fix status code logic,MERGED,2020-01-31 20:29:47.000000000,2020-01-31 22:52:18.000000000,2020-01-31 22:50:39.000000000,2,1,0,705292,45e22e45a5f9619bc53871847512a93cedb22347,9,4,1,1,20466,Tin Lam,tinlam,"[Keystone] Fix status code logic

This patch set fixes an issue with where the keystone chart's
domain-manage job/pod always restart once due to a calculation
logic error.

Change-Id: I801d04559a526d3a7339cd5102f2e738af9f72e0
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fswift~master~I9ca2511651e9b2bc0045894baa4062d20bc15369,openstack/swift,master,containersync_fix_retry,I9ca2511651e9b2bc0045894baa4062d20bc15369,probe: Add test for syncing a delete when the remote 404s,MERGED,2019-10-26 04:59:24.000000000,2020-01-31 22:47:21.000000000,2020-01-31 22:45:24.000000000,24,0,0,691463,73a0e8e9cf7d26e3a06d3b48164d345478de4161,13,3,4,1,15343,Tim Burke,tburke,"probe: Add test for syncing a delete when the remote 404s

This works fine; we continue processing the other rows in the DB. But it
*does* take longer than it really ought to require. See the related bug;
we ought to be able to shave some 17s off the test time by not retrying
on the 404.

Change-Id: I9ca2511651e9b2bc0045894baa4062d20bc15369
Related-Bug: #1849841
"
openstack%2Fopenstack-helm-infra~master~I8e832db276095771d6a869e998d7a69795dfee37,openstack/openstack-helm-infra,master,fluentd-systemd-inputs,I8e832db276095771d6a869e998d7a69795dfee37,Fluentd: Update kernel and auth inputs to use systemd,MERGED,2019-08-14 18:06:09.000000000,2020-01-31 22:21:59.000000000,2020-01-31 22:20:22.000000000,21,31,0,676478,781e65ac5dde325b3771859c41709633cff32a42,32,8,8,1,17591,Steve Wilkerson,srwilkers,"Fluentd: Update kernel and auth inputs to use systemd

This updates the overrides provided for deploying fluentd as a
daemonset to get kernel messages from the journal instead of
/var/log/kern.log directly, and also uses the journal to get
messages associated with logging to auth.log (syslog facility
10). This provides additional metadata and
a cleaner interface for gathering these logs via fluentd

Change-Id: I8e832db276095771d6a869e998d7a69795dfee37
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fkolla-ansible~master~I7387ccd0cb394c54c79bfba8b1c09fce7ee2973e,openstack/kolla-ansible,master,bp/centos-rhel-8,I7387ccd0cb394c54c79bfba8b1c09fce7ee2973e,CI: Reduce unnecessary gate image builds,MERGED,2020-01-28 16:47:53.000000000,2020-01-31 22:13:00.000000000,2020-01-31 22:11:20.000000000,11,11,1,704629,8b86c8194b2726dcecbc1487a8f567043828dcde,19,5,1,1,14826,Mark Goddard,mgoddard,"CI: Reduce unnecessary gate image builds

Due to regex matching of images, we are currently building quite a few
unnecessary images in CI. Images that can unexpectedly match:

* barbican-keystone-listener
* ironic-neutron-agent
* prometheus-haproxy-exporter
* prometheus-memcached-exporter

This change improves the situation by anchoring matches to the start of
the name. A full solution would be to specify every image required for
each job. This would be quite verbose and require maintenance.

Change-Id: I7387ccd0cb394c54c79bfba8b1c09fce7ee2973e
"
openstack%2Ftripleo-ci~master~I30f474cfece69117acddfb6601cbff36bbe2c561,openstack/tripleo-ci,master,,I30f474cfece69117acddfb6601cbff36bbe2c561,turn off  validate_services,MERGED,2020-01-30 16:04:30.000000000,2020-01-31 21:46:45.000000000,2020-01-31 21:46:45.000000000,4,4,0,705051,c427f6ab0e9bbeb8fea71acc69d8c45dbf2f893b,30,10,3,2,9592,wes hayutin,weshayutin,"turn off  validate_services

validate_services should be isolated
to it's own jobs and not append to current
check / gate jobs

containers-update is checking / gating
so depends on a fix for that job.

Depends-On: https://review.opendev.org/#/c/704885
Change-Id: I30f474cfece69117acddfb6601cbff36bbe2c561
"
openstack%2Ftripleo-heat-templates~master~Id45eee817aff0a780f0fc2da2453bb8fec66d380,openstack/tripleo-heat-templates,master,ffwd-upgrade2,Id45eee817aff0a780f0fc2da2453bb8fec66d380,"Revert ""Use YAML anchors/aliases to reduce playbook task repetition""",MERGED,2020-01-29 21:04:51.000000000,2020-01-31 21:46:43.000000000,2020-01-31 21:46:43.000000000,202,44,0,704885,1f98e96d3533121db7e57e43b8e69db73337e074,36,12,3,1,14985,Alex Schultz,mwhahaha,"Revert ""Use YAML anchors/aliases to reduce playbook task repetition""

This reverts commit bc4df9c5a994183c71347691e9eb3633e1c00951.

These don't always exist in the the same file because of
the usage of template. Some of these work but the updates
is broken now.

Change-Id: Id45eee817aff0a780f0fc2da2453bb8fec66d380
Closes-Bug: #1861335
"
openstack%2Fopenstack-helm~master~I94fc8d067b421248cf74fe40b2e8520f63d4417c,openstack/openstack-helm,master,rally-tests-cleanup,I94fc8d067b421248cf74fe40b2e8520f63d4417c,Add rally clean up script,MERGED,2019-09-22 01:49:21.000000000,2020-01-31 21:46:24.000000000,2020-01-31 21:44:41.000000000,30,0,7,683799,b17b378390579b3ba6b70076464ba732c0a7f3bf,40,9,8,5,20466,Tin Lam,tinlam,"Add rally clean up script

This patch set adds in a script that cleans up orphaned or
lingering rally helm test pods.

Depends-On: https://review.opendev.org/#/c/683759/

Change-Id: I94fc8d067b421248cf74fe40b2e8520f63d4417c
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fpython-manilaclient~master~I14fe8601b0a9b82d55473a38916b13ded38f4bc5,openstack/python-manilaclient,master,,I14fe8601b0a9b82d55473a38916b13ded38f4bc5,Fix osc delete share and show share tests,MERGED,2020-01-27 22:11:40.000000000,2020-01-31 21:12:57.000000000,2020-01-31 21:11:19.000000000,46,4,2,704445,ee78e6486a8b8649c78d487cc469225d656d1037,16,4,4,2,6413,Victoria Martinez de la Cruz,vkmc,"Fix osc delete share and show share tests

Delete one share, force delete one share,
delete many shares and show share unit tests
were broken. Those failures were not caught up
because we were not running tests on our gate.

This patch set fix those tests. The dependeny will
add osc unit tests to main python jobs

Change-Id: I14fe8601b0a9b82d55473a38916b13ded38f4bc5
"
openstack%2Fnova~master~Idacfff98842fde38fb39791090f2da3310b441b5,openstack/nova,master,remove-blockdiag,Idacfff98842fde38fb39791090f2da3310b441b5,docs: Fix the monkeypatching of blockdiag,MERGED,2020-01-31 17:51:06.000000000,2020-01-31 20:55:43.000000000,2020-01-31 20:53:27.000000000,1,0,2,705263,4bdecee385ccf68b1b27ae9ead9a72861ea6cc8d,13,6,2,1,15334,Stephen Finucane,sfinucan,"docs: Fix the monkeypatching of blockdiag

blockdiag has a longstanding bug whereby it tries to access an attribute
on an 'io.BufferedReader' that doesn't exist. We had previously fixed
this in change Ibd32d30aacae65702d0ccbdb8a02b1667ec4e8ee, which undid
the damage blockdiag was doing. However, this worked because the monkey
patching blockdiag does happens when the 'blockdiag.utils.compat' module
is loaded [1], which was happening implicitly with our import of
'blockdiag.imagedraw.textfolder' [2]. However, that module no longer
imports the 'compat' [3] module so this doesn't work. Fix the issue by
just importing the 'compat' module manually, triggering the monkey
patching...which we can then undo.

[1] https://github.com/blockdiag/blockdiag/blob/2.0.0/src/blockdiag/utils/compat.py#L19-L26
[2] https://github.com/blockdiag/blockdiag/blob/1.5.4/src/blockdiag/imagedraw/textfolder.py#L18
[3] https://github.com/blockdiag/blockdiag/tree/2.0.0/src/blockdiag/imagedraw/textfolder.py

Change-Id: Idacfff98842fde38fb39791090f2da3310b441b5
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fswift~master~Ic67c6698fd98a38f6ddf3ba92057331e437a888a,openstack/swift,master,bug/1780204,Ic67c6698fd98a38f6ddf3ba92057331e437a888a,clarify s3api ACL test HEADs,MERGED,2019-06-27 14:10:22.000000000,2020-01-31 20:55:25.000000000,2020-01-31 20:53:24.000000000,26,7,1,667933,deba3a63052d639e26252afb9a7f71aa66c04c91,9,3,1,1,1179,Clay Gerrard,clay-gerrard,"clarify s3api ACL test HEADs

Change-Id: Ic67c6698fd98a38f6ddf3ba92057331e437a888a
"
openstack%2Fneutron~master~If74487a5e437531826437d91b148065eec2bc20c,openstack/neutron,master,bug/1859962,If74487a5e437531826437d91b148065eec2bc20c,Use distutils.version to check dnsmasq supported version,MERGED,2020-01-16 11:15:33.000000000,2020-01-31 20:44:15.000000000,2020-01-31 20:41:23.000000000,5,4,7,702847,bc0b38b2820b305753120c4f677b2e4bd565d16f,83,13,7,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Use distutils.version to check dnsmasq supported version

Change-Id: If74487a5e437531826437d91b148065eec2bc20c
Closes-Bug: #1859962
"
openstack%2Fswift~master~If6a25d6573502eebff3e28aa503721eda73af556,openstack/swift,master,versioning_flag,If6a25d6573502eebff3e28aa503721eda73af556,Add new versioning flag to docker image,MERGED,2020-01-30 04:57:10.000000000,2020-01-31 20:43:22.000000000,2020-01-31 20:41:25.000000000,1,0,0,704924,4a776c4fbd69271b6197b2c20beaaae8a2b2e980,17,3,1,1,9625,Thiago da Silva,thiago,"Add new versioning flag to docker image

Change-Id: If6a25d6573502eebff3e28aa503721eda73af556
"
openstack%2Fcinder-specs~master~Ia8cc65b59e3ab0c295634a6da743de9143c07856,openstack/cinder-specs,master,bp/add-volume-backup-id,Ia8cc65b59e3ab0c295634a6da743de9143c07856,FUP: Add backup id to volume's metadata,MERGED,2020-01-31 02:30:53.000000000,2020-01-31 20:37:28.000000000,2020-01-31 20:35:57.000000000,15,17,1,705146,40882782094c803a487ce4421b4e8201155f83dd,9,6,1,1,26458,Brin Zhang,zhangbailin,"FUP: Add backup id to volume's metadata

Fix some comments in
https://review.opendev.org/#/c/700977/22/specs/ussuri/add_backup_id_to_volume.rst

Implements: blueprint add-volume-backup-id

Change-Id: Ia8cc65b59e3ab0c295634a6da743de9143c07856
"
openstack%2Ftripleo-heat-templates~master~If9eeec2b027cfd1c65360d8130c2e748100ae8d0,openstack/tripleo-heat-templates,master,,If9eeec2b027cfd1c65360d8130c2e748100ae8d0,mark scen10 and scen000 update/upgrade non-voting,MERGED,2020-01-31 14:25:59.000000000,2020-01-31 20:34:49.000000000,2020-01-31 20:34:49.000000000,7,0,0,705225,c350126be05d6a78920bfa5cd711db39f260f835,11,6,2,1,9592,wes hayutin,weshayutin,"mark scen10 and scen000 update/upgrade non-voting

revert this patch after:
https://review.opendev.org/#/c/705051
https://review.opendev.org/#/c/704885

Change-Id: If9eeec2b027cfd1c65360d8130c2e748100ae8d0
"
openstack%2Ftripleo-common~stable%2Fqueens~I6bd73fde6f1d78ceb89eb5cd04ac06d1b95263a3,openstack/tripleo-common,stable/queens,,I6bd73fde6f1d78ceb89eb5cd04ac06d1b95263a3,Derive new nova compute parameter,MERGED,2020-01-31 13:39:59.000000000,2020-01-31 20:16:17.000000000,2020-01-31 20:16:17.000000000,1,1,0,705214,c4839a8b09d996a2bf29e2773e2f7180632dbd05,8,5,1,1,22865,Jaganathan Palanisamy,jaganathancse,"Derive new nova compute parameter

Derive NovaComputeCpuSharedSet parameter based on
host introspection.

Change-Id: I6bd73fde6f1d78ceb89eb5cd04ac06d1b95263a3
Closes-Bug: #1858678
(cherry picked from commit 95138e9d4e8ee012616fcb7ad89be0eef1632960)
(cherry picked from commit 8f40c8499de5ebd9b90dbca29b565b46dbe92ef4)
"
openstack%2Ftripleo-common~stable%2Frocky~I6bd73fde6f1d78ceb89eb5cd04ac06d1b95263a3,openstack/tripleo-common,stable/rocky,,I6bd73fde6f1d78ceb89eb5cd04ac06d1b95263a3,Derive new nova compute parameter,MERGED,2020-01-31 13:39:18.000000000,2020-01-31 20:16:16.000000000,2020-01-31 20:16:16.000000000,1,1,0,705213,0750f4cb35963267d5ecec721fed45d1d5261aed,9,5,1,1,22865,Jaganathan Palanisamy,jaganathancse,"Derive new nova compute parameter

Derive NovaComputeCpuSharedSet parameter based on
host introspection.

Change-Id: I6bd73fde6f1d78ceb89eb5cd04ac06d1b95263a3
Closes-Bug: #1858678
(cherry picked from commit 95138e9d4e8ee012616fcb7ad89be0eef1632960)
(cherry picked from commit 8f40c8499de5ebd9b90dbca29b565b46dbe92ef4)
"
openstack%2Fkolla~master~I1d5cd3d9af98444acac5bedd7daeaa6c6673dcd6,openstack/kolla,master,bug/1814552,I1d5cd3d9af98444acac5bedd7daeaa6c6673dcd6,nova-libvirt: add UEFI packages to support UEFI instances,MERGED,2019-09-16 07:02:32.000000000,2020-01-31 19:28:59.000000000,2020-01-31 17:57:29.000000000,36,0,10,682280,15b68c15c1dd0c2df1cc49b550f2fa03a4c65e8e,32,6,4,2,19779,Chason Chan,chenxing,"nova-libvirt: add UEFI packages to support UEFI instances

Fix inability to run UEFI-based images/instances by installing UEFI
packages also in nova-libvirt image which is not based on nova-base.

Includes support for C8.
Backport below Train w/o C8.

Closes-Bug: #1814552
Co-authored-by: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>
Co-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Change-Id: I1d5cd3d9af98444acac5bedd7daeaa6c6673dcd6
"
openstack%2Ftripleo-operator-ansible~master~Ie0c6ccc654ef3b04bcb0f4da81bad16220a973a6,openstack/tripleo-operator-ansible,master,env-vars,Ie0c6ccc654ef3b04bcb0f4da81bad16220a973a6,Switch cli data to environment vars,MERGED,2020-01-28 22:15:46.000000000,2020-01-31 19:26:42.000000000,2020-01-31 19:26:42.000000000,527,20,0,704700,55997d64018762b09319ef547d9bd9caec87a7dd,21,4,8,17,14985,Alex Schultz,mwhahaha,"Switch cli data to environment vars

In order to not have to do special shell quoting, we can use environment
vars to handle that instead.

Change-Id: Ie0c6ccc654ef3b04bcb0f4da81bad16220a973a6
"
openstack%2Fswift~master~I8a961302a8905f483433976f6105b138a1acd7ba,openstack/swift,master,603529,I8a961302a8905f483433976f6105b138a1acd7ba,s3token: Raise error on negative secret_cache_duration config,MERGED,2018-12-11 18:48:57.000000000,2020-01-31 19:07:33.000000000,2020-01-31 19:03:56.000000000,3,1,0,624464,46bde0c0b2a99580584f34e4dd72c9ac8b611fac,9,2,1,1,15343,Tim Burke,tburke,"s3token: Raise error on negative secret_cache_duration config

Change-Id: I8a961302a8905f483433976f6105b138a1acd7ba
"
openstack%2Fswift~master~Ifddbb9df60207dfaaf0434877f4fe6af5c26bdf8,openstack/swift,master,603529,Ifddbb9df60207dfaaf0434877f4fe6af5c26bdf8,"s3token: When caching is enabled, default auth_type to password",MERGED,2018-12-11 18:44:21.000000000,2020-01-31 19:05:41.000000000,2020-01-31 19:01:10.000000000,1,1,0,624462,ec70cf9605752e3b8a5c33ee7ef145f97df7567f,7,2,1,1,15343,Tim Burke,tburke,"s3token: When caching is enabled, default auth_type to password

Otherwise, if you just set secret_cache_duration and skip configuring
auth_type, you get a not-very-obvious

    TypeError: sequence item 0: expected string, NoneType found

bubbling up from stevedore. Now, you'd get something like

    MissingRequiredOptions: Auth plugin requires parameters which were
    not given: auth_url

Change-Id: Ifddbb9df60207dfaaf0434877f4fe6af5c26bdf8
"
openstack%2Fswift~master~I1611e34846e586703e9d3709fa64e8df41f2d685,openstack/swift,master,loggingPidTtfb,I1611e34846e586703e9d3709fa64e8df41f2d685,proxy-logging: add fields ttfb and pid,MERGED,2020-01-27 20:56:06.000000000,2020-01-31 19:03:52.000000000,2020-01-31 19:01:09.000000000,26,33,9,704424,d8821c75bd79c2b95ab7635b58754d059be2079b,10,3,1,4,13852,Romain LE DISEZ,rledisez,"proxy-logging: add fields ttfb and pid

Change-Id: I1611e34846e586703e9d3709fa64e8df41f2d685
"
openstack%2Fswift~master~I0ac6dd0808fb041ba7663f4a472a06ee3f1d9a71,openstack/swift,master,,I0ac6dd0808fb041ba7663f4a472a06ee3f1d9a71,Return correct etag for raw manifest,MERGED,2020-01-23 08:17:37.000000000,2020-01-31 18:55:57.000000000,2020-01-31 18:53:27.000000000,24,13,5,703933,b8c16de0238054b7757c6c0f541af853232b54a9,12,3,2,3,9625,Thiago da Silva,thiago,"Return correct etag for raw manifest

When client sends a '?multipart-manifest=get&format=raw' request
middleware will change the manifest returned from object server.
This patch makes sure the response etag is updated to reflect
changes to manifest content

Change-Id: I0ac6dd0808fb041ba7663f4a472a06ee3f1d9a71
"
openstack%2Fswift~master~Ifcb5013a5728d93cf5491fbff81b2677450698e6,openstack/swift,master,dockerhub_description,Ifcb5013a5728d93cf5491fbff81b2677450698e6,Dockerhub description of saio image,MERGED,2020-01-30 04:38:13.000000000,2020-01-31 18:49:29.000000000,2020-01-31 18:47:34.000000000,50,0,2,704923,c7cb34ad61feb5b830ccb79437b32965916220ef,14,3,3,1,9625,Thiago da Silva,thiago,"Dockerhub description of saio image

Change-Id: Ifcb5013a5728d93cf5491fbff81b2677450698e6
"
openstack%2Fglance~master~I5a1c61430879a910e7b6c79effba538431959d56,openstack/glance,master,bug/1861501,I5a1c61430879a910e7b6c79effba538431959d56,Ensure store ID parsed from URI is properly encoded,MERGED,2020-01-31 14:46:01.000000000,2020-01-31 18:18:30.000000000,2020-01-31 18:10:19.000000000,1,1,0,705229,8649fdc2a293009899d2aa918ec360e30adc8e77,9,3,1,1,21129,Alan Bishop,ASBishop,"Ensure store ID parsed from URI is properly encoded

Ensure the store ID parsed from a request URI is unicode. This fixes
a py27 issue that allowed an incorrectly encoded value to be added to
the image's metadata.

Support for py27 is dropped in Ussuri, but this fix is required on
earlier releases that do support py27.

Closes-Bug: #1861501
Change-Id: I5a1c61430879a910e7b6c79effba538431959d56
"
openstack%2Fneutron~master~I0a9b91b09d6260ff96fdba2f0a455de53bbc1f00,openstack/neutron,master,bug/1858680,I0a9b91b09d6260ff96fdba2f0a455de53bbc1f00,"Check ""security_group_rule"" quota during security group creation",MERGED,2020-01-08 15:45:07.000000000,2020-01-31 17:59:07.000000000,2020-01-31 17:40:46.000000000,67,0,4,701565,936bd67aa42b2e06241d309315b895c9c9c49dcc,65,7,6,8,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Check ""security_group_rule"" quota during security group creation

The tracked resources quota check is done at the beginning of an API
call to the Neutron server. The API call contains a resource and an
action over the resource. In case of creation, the server checks if
the number of items requested fits in the existing quota.

In case of security group creation, the tracked resource checked is
""security_group"". But ""SecurityGroupDbMixin.create_security_group""
method also creates several default rules for the new group and the
quota for ""security_group_rule"" is not enforced.

This patch checks the number of security group rules being created
(""delta"") and checks in the plugin method (not in the API method) if
there is enough room for those new rules (tracked resource
""security_group_rule"").

Change-Id: I0a9b91b09d6260ff96fdba2f0a455de53bbc1f00
Closes-Bug: #1858680
"
openstack%2Fopenstack-ansible-os_tempest~master~I710f9ddccdd657bcdcd7e950a353c3c5ffa3e25c,openstack/openstack-ansible-os_tempest,master,,I710f9ddccdd657bcdcd7e950a353c3c5ffa3e25c,"Revert ""Mark ubuntu distro install as non voting""",MERGED,2020-01-30 09:41:15.000000000,2020-01-31 17:53:06.000000000,2020-01-31 17:47:50.000000000,0,4,0,704946,81507e82607882b0ddf553c85647f4151c813ea8,15,4,3,1,25023,Jonathan Rosser,jrosser,"Revert ""Mark ubuntu distro install as non voting""

This reverts commit 0e17aafba9535d86399d1512f2fc3a6891883283.

Change-Id: I710f9ddccdd657bcdcd7e950a353c3c5ffa3e25c
"
openstack%2Fnova~stable%2Frocky~I58bd50e869fc00dde5dd388efb686a7196c8db80,openstack/nova,stable/rocky,bug/1830926,I58bd50e869fc00dde5dd388efb686a7196c8db80,tox: Stop build *all* docs in 'docs',MERGED,2019-06-07 10:37:33.000000000,2020-01-31 17:45:10.000000000,2020-01-31 17:40:52.000000000,13,4,0,663888,76b4997c42bd5e95eb70ac850b73612aa2cbfa77,13,8,1,1,15334,Stephen Finucane,sfinucan,"tox: Stop build *all* docs in 'docs'

The 'docs' target currently builds the documentation trees in 'api-ref',
'api-guide' and 'placement-api-ref', in addition to 'doc'. This
massively increases the amount of time docs take to build both locally
and in the gate. It's not necessary for gate, since separate jobs take
care of the other documents for us [1]. As such, we should stop doing
it. For users that *do* care about this (for whatever reason) a new
'all-docs' target is included.

[1] https://github.com/openstack-infra/project-config/blob/master/zuul.d/projects.yaml#L5578-L5595

Change-Id: I58bd50e869fc00dde5dd388efb686a7196c8db80
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit f49b81fa2bd692583370bab569f25215073a5bc2)
"
openstack%2Ftripleo-common~stable%2Ftrain~Ifbaa2d44550581d1acd9351b14192e6654cf05a1,openstack/tripleo-common,stable/train,healthchecks/strict-pipefail-stable/train,Ifbaa2d44550581d1acd9351b14192e6654cf05a1,"Revert ""Make healthchecks more strict""",MERGED,2020-01-31 09:18:20.000000000,2020-01-31 17:44:55.000000000,2020-01-31 17:43:24.000000000,1,6,3,705178,f805411eec552398aa8c0dfa280008cdc3299fdc,12,8,1,1,28223,Cedric Jeanneret,cjeanner,"Revert ""Make healthchecks more strict""

This reverts commit dddf584505bb24c53ba9d5fd92396695dc7a540c.

Apparently this makes a specific healthcheck fail - some
investigations are needed.
Reverting this patch allows to avoid dropping a CI check
as done https://review.opendev.org/705051

Master is being reverted - backport should be as well.

Change-Id: Ifbaa2d44550581d1acd9351b14192e6654cf05a1
"
openstack%2Frequirements~master~Ica3a41629f0f5951c3da601a2d4fcc3cf732d9c5,openstack/requirements,master,fix-zipp-old-py,Ica3a41629f0f5951c3da601a2d4fcc3cf732d9c5,Fix zipp for python3<3.6,MERGED,2020-01-31 10:15:40.000000000,2020-01-31 17:43:26.000000000,2020-01-31 17:40:48.000000000,6,2,0,705184,5c646dae0f712c5e33c830250b71b56dc9872f60,20,8,3,2,30491,Radosław Piliszek,yoctozepto,"Fix zipp for python3<3.6

Repeats [1], this time with g-r pinning per request.

[1] https://review.opendev.org/704263

Change-Id: Ica3a41629f0f5951c3da601a2d4fcc3cf732d9c5
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I111242773685c6461bd49dc564ae56072d1a7745,openstack/tripleo-heat-templates,stable/train,,I111242773685c6461bd49dc564ae56072d1a7745,"Drop z flag on /var/run, it prevents redeployment",MERGED,2020-01-27 07:10:05.000000000,2020-01-31 17:43:25.000000000,2020-01-31 17:43:25.000000000,1,1,0,704272,ad95b28c87e722603e94edec0f510b72dd942fab,16,7,1,1,4264,Matthias Runge,mrunge,"Drop z flag on /var/run, it prevents redeployment

This is related to
https://bugzilla.redhat.com/show_bug.cgi?id=1784608

In short, it will mess up selinux labeling for /var/run and it
is likely to break the system.

Change-Id: I111242773685c6461bd49dc564ae56072d1a7745
(cherry picked from commit 719d8329d285942157d8461f74af59001e5b8e4c)
"
openstack%2Fswift~master~Ic67584f98c41b68ce053c4e8f3449bb8bd148899,openstack/swift,master,s3-versioning,Ic67584f98c41b68ce053c4e8f3449bb8bd148899,Store version id when copying object to archive,ABANDONED,2017-02-23 16:49:42.000000000,2020-01-31 17:43:07.000000000,,10,1,12,437523,741d4fc69f9214902b53d00c2f65c9115d0040ee,41,9,9,2,23861,Karen Chan,karenc,"Store version id when copying object to archive

When the current object is deleted and the versioning mode is set to
""stack"", an older object from the archive container is restored as the
current object.  The ""version id"" is only part of the object name when
it is in the archive container, which means that when it becomes the
current object, the ""version id"" is lost.  swift3 needs to know the
version id even after it is restored, but right now there is no way to
get the version id.

This change stores the version id as metadata
""X-Object-Sysmeta-Version-Id"" when an object is copied to the archive
container and given a version id.

Change-Id: Ic67584f98c41b68ce053c4e8f3449bb8bd148899
"
openstack%2Fswift~master~Ice083531f3663d875fbc8f9f583fe7104443b5d5,openstack/swift,master,s3-versioning,Ice083531f3663d875fbc8f9f583fe7104443b5d5,Add X-Backend-Versioning-Mode-Override,ABANDONED,2017-02-23 00:05:28.000000000,2020-01-31 17:42:57.000000000,,64,0,1,437196,409341c2d0f1f2e3c0f710594c9047057ffdb477,16,8,3,2,23861,Karen Chan,karenc,"Add X-Backend-Versioning-Mode-Override

swift3 needs both the stack mode delete and history mode delete.  When
an object without specifying a ""versionId"" is deleted, swift3 uses the
history mode delete, which means the object is marked as deleted and
returns 404.  When an object with a specific ""versionId"" is deleted and
that object is the current object, swift3 uses the stack mode delete,
which means the most recent non-deleted object in the versioning
container becomes the current object.  Right now, swift only supports
setting the mode once and using it to determine the behavior of the
deletion.

Adding X-Backend-Versioning-Mode-Override allows swift3 to override the
stored versioning mode for one request.  This means that even if the
versioning mode is set to ""history"", if the request has the header
""X-Backend-Versioning-Mode-Override: stack"", swift will use ""stack"" as
the versioning mode.

Change-Id: Ice083531f3663d875fbc8f9f583fe7104443b5d5
"
openstack%2Fnova~master~If36fde647348099d5a5519dc6300d625869a4862,openstack/nova,master,bp/openstacksdk-in-nova,If36fde647348099d5a5519dc6300d625869a4862,Use SDK for getting network metadata from node,ABANDONED,2019-07-10 23:43:07.000000000,2020-01-31 17:42:26.000000000,,26,36,2,670213,7acc809dd6b7e8978d40137d75737190fa2bcf0c,220,17,26,2,29745,Dustin Cowles,dustinc,"Use SDK for getting network metadata from node

We would like nova not to use ironicclient, but instead to invoke the
ironic API directly through an openstacksdk connection.

The parent commits set up the framework, and this commit uses it
for retrieving the network metadata from a node.

Depends on field mapping in the OpenStack SDK. That work maps SDK
field names to Ironic API field names within the SDK which allows
for consistency between fields in calls and parameters on returned
objects.

Depends-On: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6
Blueprint: openstacksdk-in-nova
Change-Id: If36fde647348099d5a5519dc6300d625869a4862
"
openstack%2Fnova~master~Id427e7923ff3a9d2957586fba5ccef0216318e6f,openstack/nova,master,bp/openstacksdk-in-nova,Id427e7923ff3a9d2957586fba5ccef0216318e6f,Use SDK for add/remove instance info from node,ABANDONED,2019-05-17 00:15:03.000000000,2020-01-31 17:42:20.000000000,,31,74,24,659691,e0786f85e851db4cd4af314c57e133bd60128ea2,318,22,34,2,29745,Dustin Cowles,dustinc,"Use SDK for add/remove instance info from node

We would like nova not to use ironicclient, but instead to invoke the
ironic API directly through an openstacksdk connection.

The parent commits set up the framework, and this commit uses it
for adding and removing instance info from the node.

Depends on field mapping in the OpenStack SDK. That work maps SDK
field names to Ironic API field names within the SDK which allows
for consistency between fields in calls and parameters on returned
objects.

Depends-On: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6
Blueprint: openstacksdk-in-nova
Change-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f
"
openstack%2Fneutron~master~I45a51736e4075e3dbc16827486869d70b659622d,openstack/neutron,master,660097,I45a51736e4075e3dbc16827486869d70b659622d,Fix resource schemas and releated `get_sorts` test cases,MERGED,2019-05-20 11:39:00.000000000,2020-01-31 17:30:08.000000000,2019-06-01 08:25:59.000000000,23,10,21,660097,ed3f1087fa354a91721d3046ce134e18c86f22b3,42,13,3,3,28889,Guo Jingyu,pandatt,"Fix resource schemas and releated `get_sorts` test cases

When I'm trying to introduce a central sort-keys validation within
patch [1] to `get_sorts` method in `neutron.api.api_common` module,
I get blocked by some resource schemas and test cases. After reading
neutron API docs and some inspection, I believe there exists uses of
improper sort keys in test cases and some resource schemes need to
keep aligned with offical documents.

* Schemas of resource SecurityGroups/SG Rules/Segments don't provide
`is_sort_key` flag for their sort key properties claimed in offical
docs as neutron-lib does. See [2] for more details.

* Test cases of resource NetworkSegmentRange use unsupported sort keys,
e.g: physical_network. Replace it with `name` property. See [2] for more
details.

[1] https://review.opendev.org/#/c/653903/
[2] https://developer.openstack.org/api-ref/network/v2/index.html

Change-Id: I45a51736e4075e3dbc16827486869d70b659622d
"
openstack%2Fpuppet-tripleo~master~Id69ab97b26379fd8a031600bd2f77bc5a3f34659,openstack/puppet-tripleo,master,step,Id69ab97b26379fd8a031600bd2f77bc5a3f34659,mysql: allow container-puppet-mysql to initiate the database,ABANDONED,2020-01-30 02:01:58.000000000,2020-01-31 17:06:44.000000000,,1,8,0,704916,a099607d0a52375d8ceb5bac791724118ef7d6ba,7,3,1,1,3153,Emilien Macchi,emilienm,"mysql: allow container-puppet-mysql to initiate the database

A few facts for the context of this patch:

- The default STEP number in THT/common/container-puppet.py is set to 6.
- When called at step 1, container-puppet.py is called without
  overriding the STEP environment, so 6 is taken as default.
- Therefore, the mysql manifest is well executed since we have a
  condition like ""if $step >= $mysql_step"".

I would like to fix the item #2 and call container-puppet.py at step 1
with STEP=1 (it makes sense right?) but of course since we have this
condition in the puppet manifest, the mysql resources don't get created.

This changes removes the legacy ""mysql_step"" variable and deploy the
mysql resources starting at step 1.

Change-Id: Id69ab97b26379fd8a031600bd2f77bc5a3f34659
"
openstack%2Fironic~stable%2Ftrain~I59a046c06334a3366d0c7070114446efa832df23,openstack/ironic,stable/train,minor-fix-bash-stable/train,I59a046c06334a3366d0c7070114446efa832df23,Fix typo in setup-network.sh script,MERGED,2020-01-31 10:12:00.000000000,2020-01-31 17:03:46.000000000,2020-01-31 17:01:52.000000000,1,1,0,705182,6ceec86ad4082390b7226ca66d524b562e74101b,10,5,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Fix typo in setup-network.sh script

Removing a $ sign that shouldn't be there and can cause trouble.

Change-Id: I59a046c06334a3366d0c7070114446efa832df23
(cherry picked from commit 90b747ac669ee8985335930945ee6fe20d8157fa)
"
openstack%2Fcharm-interface-mysql-shared~master~If31eaad0b781d4250524335377152f3bd140f57b,openstack/charm-interface-mysql-shared,master,gate-on-db-maintenance-mode,If31eaad0b781d4250524335377152f3bd140f57b,Remove DB available states if maintenance mode,MERGED,2020-01-30 19:40:22.000000000,2020-01-31 16:56:21.000000000,2020-01-31 16:56:21.000000000,13,7,0,705101,6c1b8d41927f0e4687fa8d4b5423d5349ca1c27f,7,3,1,1,12549,gnuoy,gnuoy,"Remove DB available states if maintenance mode

If the DB is in maintance mode then remove the 'availble' states
to let the charms now the db cannot be accessed.

Depends-On: I5d8ed7d3935db5568c50f8d585e37a4d0cc6914f
Change-Id: If31eaad0b781d4250524335377152f3bd140f57b
"
openstack%2Fpython-dracclient~master~I4ca1b7f6df47ce808920b5e24ad0be6b76963917,openstack/python-dracclient,master,raid_status_fix,I4ca1b7f6df47ce808920b5e24ad0be6b76963917,Fix parsing for virtual disk RAIDStatus attribute,MERGED,2020-01-29 06:39:27.000000000,2020-01-31 16:49:08.000000000,2020-01-31 16:49:08.000000000,96,3,2,704731,01e7ca19ce4161d9153dfe45520072521b0164b0,13,4,2,4,29405,Rachit Kapadia,rachit7194,"Fix parsing for virtual disk RAIDStatus attribute

This patch changes the parsing of virtual disks so
that if the DCIM_VirutalDiskView.RAIDStatus attribute
is not present then DCIM_VirutalDiskView.RaidStatus
will be used instead.
This is needed due to the attribute being renamed in
LCC version 4.0.0

Change-Id: I4ca1b7f6df47ce808920b5e24ad0be6b76963917
"
openstack%2Fkolla-ansible~master~I4d987e1516c979e30e82da1c49051e7786c5104a,openstack/kolla-ansible,master,dnm-ceph-conf-libvirt,I4d987e1516c979e30e82da1c49051e7786c5104a,DNM: remove ceph.conf from nova_libvirt,ABANDONED,2019-12-12 11:37:46.000000000,2020-01-31 16:38:28.000000000,,0,6,0,698699,efb4addbbf181813510e0b81b490931d4627ff25,9,4,1,1,30491,Radosław Piliszek,yoctozepto,"DNM: remove ceph.conf from nova_libvirt

To check some hypothesis.

Change-Id: I4d987e1516c979e30e82da1c49051e7786c5104a
"
openstack%2Fnova~master~I2aeba5a147d2e5fa053f03b7d29753897b70df21,openstack/nova,master,sriov_numa_func_test,I2aeba5a147d2e5fa053f03b7d29753897b70df21,tests: Further simplification of test_numa_servers,ABANDONED,2018-08-27 16:08:20.000000000,2020-01-31 16:28:58.000000000,,21,59,0,596832,83ff1625729131b38b63aa2f5d67f881cd724aaf,24,11,2,1,15334,Stephen Finucane,sfinucan,"tests: Further simplification of test_numa_servers

There are two inner tests functions which are nearly identical. Merge
the two of them, removing a lot of pointless [1] checks in the process.

[1] https://review.openstack.org/#/c/583288/4/nova/tests/functional/libvirt/test_numa_servers.py@265

Change-Id: I2aeba5a147d2e5fa053f03b7d29753897b70df21
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Icd4595be844443b6c9c6cd099e61fd08b52d12a3,openstack/tripleo-heat-templates,stable/train,bug/1861508,Icd4595be844443b6c9c6cd099e61fd08b52d12a3,Fix Placement password hiera is not set for Neutron,ABANDONED,2020-01-31 16:01:57.000000000,2020-01-31 16:04:35.000000000,,1,1,0,705245,b4b6945829b5772bb775aef69dd3bf934db96d19,2,0,1,1,30133,Piotr Kopec,pkopec,"Fix Placement password hiera is not set for Neutron

Placement password hiera is not set for Neutron
when deployed with Novacontrol role. With Novacontrol
role the Placement service is not deployed
on controllers so the hiera is not set in
service_config_settings secion.

Change-Id: Icd4595be844443b6c9c6cd099e61fd08b52d12a3
Closes-Bug: #1861508
"
openstack%2Fnova~master~I7485c3249c75c6010765655a5d0e62a459afeea2,openstack/nova,master,trivial,I7485c3249c75c6010765655a5d0e62a459afeea2,Don't mock something globally,ABANDONED,2019-08-02 16:48:47.000000000,2020-01-31 16:03:19.000000000,,10,8,0,674351,8292da352706390e15655f293011be00774aceae,12,10,1,1,15334,Stephen Finucane,sfinucan,"Don't mock something globally

The 'test_create_domain_define_xml_fails' intermittently fails with the
following error:

  '<test>this is a test</test>safe decoded' != '<test>this is a test</test>'

This seems to be happening because we're using 'stub_out' which is
resulting in shared state between tests. Switch to the context manager
and resolve the issue.

Change-Id: I7485c3249c75c6010765655a5d0e62a459afeea2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fcharm-heat~master~I881c3569a25c0f0a84c14ee086b3f3adfdbc97f9,openstack/charm-heat,master,bug/1845665,I881c3569a25c0f0a84c14ee086b3f3adfdbc97f9,Disable Apache port 80,MERGED,2019-11-02 10:46:51.000000000,2020-01-31 15:54:12.000000000,2020-01-31 15:54:12.000000000,10,0,0,692660,0ef0ebb9b08ebe5692f870a6bb20528c4ac1dd0c,52,6,8,3,17097,Tiago Pasqualini da Silva,tiago.pasqualini,"Disable Apache port 80

Currently, Apache ports.conf file is not being configured by this
charm. This patch changes the ports.conf default file with another one
that does not open port 80 on SSL environments.

Change-Id: I881c3569a25c0f0a84c14ee086b3f3adfdbc97f9
Closes-bug: #1845665
"
openstack%2Fcharm-nova-cloud-controller~master~Id0b3ce106e2779ce6a44b59c0b08fb1011dfdd54,openstack/charm-nova-cloud-controller,master,bug/1845665,Id0b3ce106e2779ce6a44b59c0b08fb1011dfdd54,Disable Apache port 80,MERGED,2020-01-20 16:04:04.000000000,2020-01-31 15:52:57.000000000,2020-01-31 15:52:57.000000000,14,1,0,703438,56c70d055a3949c7fe150ff2aed83c052fe4c232,26,6,4,3,17097,Tiago Pasqualini da Silva,tiago.pasqualini,"Disable Apache port 80

Currently, Apache ports.conf file is not being configured by this
charm. This patch changes the ports.conf default file with another one
that does not open port 80 on SSL environments..

Change-Id: Id0b3ce106e2779ce6a44b59c0b08fb1011dfdd54
Closes-bug: #1845665
"
openstack%2Fcharm-cinder~master~Iaa80573dc2661089093c4c87ab100bf941f8b3b8,openstack/charm-cinder,master,bug/1845665,Iaa80573dc2661089093c4c87ab100bf941f8b3b8,Disable Apache port 80,MERGED,2020-01-20 15:59:23.000000000,2020-01-31 15:50:01.000000000,2020-01-31 15:50:01.000000000,9,0,0,703435,962225eccae57e45af2df69541aab0b60340c8c7,17,5,3,2,17097,Tiago Pasqualini da Silva,tiago.pasqualini,"Disable Apache port 80

Currently, Apache ports.conf file is not being configured by this
charm. This patch changes the ports.conf default file with another one
that does not open port 80 on SSL environments.

Change-Id: Iaa80573dc2661089093c4c87ab100bf941f8b3b8
Closes-bug: #1845665
"
openstack%2Fcharm-glance~master~I3f8eb69813058a9291540634ad262bfdaa7b8731,openstack/charm-glance,master,bug/1845665,I3f8eb69813058a9291540634ad262bfdaa7b8731,Disable Apache port 80,MERGED,2020-01-20 15:57:40.000000000,2020-01-31 15:49:43.000000000,2020-01-31 15:49:43.000000000,13,1,0,703433,8eb305f3f1da565d909cd4beb8992322a1a36892,22,5,4,3,17097,Tiago Pasqualini da Silva,tiago.pasqualini,"Disable Apache port 80

Currently, Apache ports.conf file is not being configured by this
charm. This patch changes the ports.conf default file with another one
that does not open port 80 on SSL environments.

Change-Id: I3f8eb69813058a9291540634ad262bfdaa7b8731
Closes-bug: #1845665
"
openstack%2Fcharm-swift-proxy~master~I63f46223c64f2561f505828491a482dea79dc39a,openstack/charm-swift-proxy,master,bug/1845665,I63f46223c64f2561f505828491a482dea79dc39a,Disable Apache port 80,MERGED,2020-01-20 16:02:52.000000000,2020-01-31 15:49:22.000000000,2020-01-31 15:49:22.000000000,9,0,0,703437,2d8d80e47e792c93d0158a0c82d45d5f66caba97,30,6,5,2,17097,Tiago Pasqualini da Silva,tiago.pasqualini,"Disable Apache port 80

Currently, Apache ports.conf file is not being configured by this
charm. This patch changes the ports.conf default file with another one
that does not open port 80 on SSL environments.

Change-Id: I63f46223c64f2561f505828491a482dea79dc39a
Closes-bug: #1845665
"
openstack%2Fcharm-neutron-api~master~I0d935de2eada861b986e2f17ead6a5674afd2969,openstack/charm-neutron-api,master,bug/1845665,I0d935de2eada861b986e2f17ead6a5674afd2969,Disable Apache port 80,MERGED,2019-11-02 09:45:26.000000000,2020-01-31 15:48:35.000000000,2020-01-31 15:48:35.000000000,12,0,1,692656,b972488ad2630790a956d132546afc7102c71524,50,8,9,3,17097,Tiago Pasqualini da Silva,tiago.pasqualini,"Disable Apache port 80

Currently, Apache ports.conf file is not being configured by this
charm. This patch changes the ports.conf default file with another one
that does not open port 80 on SSL environments.

Change-Id: I0d935de2eada861b986e2f17ead6a5674afd2969
Closes-bug: #1845665
"
openstack%2Fcharm-keystone~master~I35ba6bb31af6d795d02d90d0d127ac5c6c129d0f,openstack/charm-keystone,master,bug/1845665,I35ba6bb31af6d795d02d90d0d127ac5c6c129d0f,Disable Apache port 80,MERGED,2020-01-20 16:01:34.000000000,2020-01-31 15:48:16.000000000,2020-01-31 15:48:16.000000000,9,0,0,703436,92e75b5aad36a557f769dc2106e49af25ef98cc8,31,6,5,2,17097,Tiago Pasqualini da Silva,tiago.pasqualini,"Disable Apache port 80

Currently, Apache ports.conf file is not being configured by this
charm. This patch changes the ports.conf default file with another one
that does not open port 80 on SSL environments.

Change-Id: I35ba6bb31af6d795d02d90d0d127ac5c6c129d0f
Closes-bug: #1845665
"
openstack%2Fnova~stable%2Fstein~I8975e524cd5a9c7dfb065bb2dc8ceb03f1b89e7b,openstack/nova,stable/stein,bug/1763766,I8975e524cd5a9c7dfb065bb2dc8ceb03f1b89e7b,FUP for in-place numa rebuild,MERGED,2020-01-16 19:59:44.000000000,2020-01-31 15:46:44.000000000,2020-01-31 15:43:27.000000000,41,36,5,702974,8346c527b379395851a9de063b4978b489076bf6,44,8,3,6,11604,sean mooney,sean-k-mooney,"FUP for in-place numa rebuild

This patch addresses a number of typos and minor
issues raised during review of [1][2]. A summary
of the changes are corrections to typos in comments,
a correction to the exception message, an update to
the release note and the addition of debug logging.

[1] I0322d872bdff68936033a6f5a54e8296a6fb3434
[2] I48bccc4b9adcac3c7a3e42769c11fdeb8f6fd132

Related-Bug: #1804502
Related-Bug: #1763766

Conflicts:
    nova/tests/functional/libvirt/test_numa_servers.py
NOTE(sean-k-mooney): conflict was due to the use of
NUMAHostInfo instead of HostInfo.

Change-Id: I8975e524cd5a9c7dfb065bb2dc8ceb03f1b89e7b
(cherry picked from commit f6060ab6b54261ff50b8068732f6e509619d713e)
(cherry picked from commit 48bb9a9663374936221144bb6a24688128a51146)
"
openstack%2Fneutron~master~Ibac91d24da2b82cdce72165d1295fa5d4475ffd3,openstack/neutron,master,bug/1850818,Ibac91d24da2b82cdce72165d1295fa5d4475ffd3,Add description field to portforwarding NAT rules,MERGED,2019-07-16 00:55:16.000000000,2020-01-31 15:45:53.000000000,2020-01-31 15:43:23.000000000,134,10,43,670930,06e43dd95d39af5c77f60bf7c89fee762c1afa13,110,16,15,8,30695,Pedro Henrique Pereira Martins,pedrohpmartins,"Add description field to portforwarding NAT rules

Add the `description` field to `PortForwardings`
using the standard attributes like in the
`FloatingIPs`.

Depends-On: https://review.opendev.org/#/c/692580/
Depends-On: https://review.opendev.org/#/c/698662/
Implements: blueprint portforwarding-description
Closes-Bug: #1850818
Change-Id: Ibac91d24da2b82cdce72165d1295fa5d4475ffd3
Signed-off-by: Pedro Martins <phpm13@gmail.com>
"
openstack%2Fnova~stable%2Fstein~I48bccc4b9adcac3c7a3e42769c11fdeb8f6fd132,openstack/nova,stable/stein,bug/1763766,I48bccc4b9adcac3c7a3e42769c11fdeb8f6fd132,Disable NUMATopologyFilter on rebuild,MERGED,2020-01-16 19:59:44.000000000,2020-01-31 15:18:55.000000000,2020-01-31 15:16:11.000000000,37,9,0,702973,4a691c33d13611714135b9390cb53de726fc901d,37,8,3,3,11604,sean mooney,sean-k-mooney,"Disable NUMATopologyFilter on rebuild

This change leverages the new NUMA constraint checking added in
in I0322d872bdff68936033a6f5a54e8296a6fb3434 to allow the
NUMATopologyFilter to be skipped on rebuild.

As the new behavior of rebuild enfroces that no changes
to the numa constraints are allowed on rebuild we no longer
need to execute the NUMATopologyFilter. Previously
the NUMATopologyFilter would process the rebuild request
as if it was a request to spawn a new instnace as the
numa_fit_instance_to_host function is not rebuild aware.

As such prior to this change a rebuild would only succeed
if a host had enough additional capacity for a second instance
on the same host meeting the requirement of the new image and
existing flavor. This behavior was incorrect on two counts as
a rebuild uses a noop claim. First the resouce usage cannot
change so it was incorrect to require the addtional capacity
to rebuild an instance. Secondly it was incorrect not to assert
the resouce usage remained the same.

I0322d872bdff68936033a6f5a54e8296a6fb3434 adressed guarding the
rebuild against altering the resouce usage and this change
allows in place rebuild.

This change found a latent bug that will be adressed in a follow
up change and updated the functional tests to note the incorrect
behavior.

Change-Id: I48bccc4b9adcac3c7a3e42769c11fdeb8f6fd132
Closes-Bug: #1804502
Implements: blueprint inplace-rebuild-of-numa-instances
(cherry picked from commit 3f9411071d4c1a04ab0b68fd635597bf6959c0ca)
(cherry picked from commit 94c0362918169a1fa06aa6cf5a483e9285d7b91f)
"
openstack%2Fcharm-nova-cloud-controller~master~I7d5b7a20573b38d12b1ead708ee446472f21e9f8,openstack/charm-nova-cloud-controller,master,gate-on-db-maintenance-mode,I7d5b7a20573b38d12b1ead708ee446472f21e9f8,Do not access DB when it is in maintenance mode.,MERGED,2020-01-30 12:38:28.000000000,2020-01-31 15:05:59.000000000,2020-01-31 15:05:59.000000000,8,0,0,704994,90ecd0f7712fa6f089dae5ef0817652fc1f89176,7,3,1,2,12549,gnuoy,gnuoy,"Do not access DB when it is in maintenance mode.

If the database is in maintenace mode do not attempt to access
it.

Depends-On: I5d8ed7d3935db5568c50f8d585e37a4d0cc6914f
Change-Id: I7d5b7a20573b38d12b1ead708ee446472f21e9f8
"
openstack%2Fcharm-neutron-api~master~I42cc19aedff2bc060343f4431c1b4834f9389f03,openstack/charm-neutron-api,master,gate-on-db-maintenance-mode,I42cc19aedff2bc060343f4431c1b4834f9389f03,Do not access DB when it is in maintenance mode.,MERGED,2020-01-30 12:38:27.000000000,2020-01-31 14:57:34.000000000,2020-01-31 14:57:34.000000000,7,0,0,704993,6fafb5abc5536e5333467324629e67bf2489bf3a,7,3,1,2,12549,gnuoy,gnuoy,"Do not access DB when it is in maintenance mode.

If the database is in maintenace mode do not attempt to access
it.

Change-Id: I42cc19aedff2bc060343f4431c1b4834f9389f03
Depends-On: I5d8ed7d3935db5568c50f8d585e37a4d0cc6914f
"
openstack%2Fcharm-keystone~master~I8cdb42364b7da03129bb8e2debebf6f6947d7ff3,openstack/charm-keystone,master,gate-on-db-maintenance-mode,I8cdb42364b7da03129bb8e2debebf6f6947d7ff3,Do not access DB when it is in maintenance mode.,MERGED,2020-01-30 12:38:26.000000000,2020-01-31 14:56:00.000000000,2020-01-31 14:56:00.000000000,12,0,0,704992,848ce4b5f4c990ea604b64f8be3c6b130588a773,7,3,1,2,12549,gnuoy,gnuoy,"Do not access DB when it is in maintenance mode.

If the database is in maintenace mode do not attempt to access
it.

Depends-On: I5d8ed7d3935db5568c50f8d585e37a4d0cc6914f
Change-Id: I8cdb42364b7da03129bb8e2debebf6f6947d7ff3
"
openstack%2Fcharm-openstack-dashboard~master~I91d3f858888a169cf85d51533a54ef37d7a72c58,openstack/charm-openstack-dashboard,master,gate-on-db-maintenance-mode,I91d3f858888a169cf85d51533a54ef37d7a72c58,Do not access DB when it is in maintenance mode.,MERGED,2020-01-30 12:38:29.000000000,2020-01-31 14:53:54.000000000,2020-01-31 14:53:54.000000000,4,0,0,704995,c9e844a4a3f6b8d490393b11dd2f78b0e03a5d72,7,3,1,1,12549,gnuoy,gnuoy,"Do not access DB when it is in maintenance mode.

If the database is in maintenace mode do not attempt to access
it.

Depends-On: I5d8ed7d3935db5568c50f8d585e37a4d0cc6914f
Change-Id: I91d3f858888a169cf85d51533a54ef37d7a72c58
"
openstack%2Fcharm-heat~master~Ib654a82fd91cd73c6ab5c178d87d054d8717ce4f,openstack/charm-heat,master,gate-on-db-maintenance-mode,Ib654a82fd91cd73c6ab5c178d87d054d8717ce4f,Do not access DB when it is in maintenance mode.,MERGED,2020-01-30 12:38:26.000000000,2020-01-31 14:53:09.000000000,2020-01-31 14:53:09.000000000,7,0,0,704991,e74c9a4d5f36ded783723d3ce30a11c502651498,7,3,1,2,12549,gnuoy,gnuoy,"Do not access DB when it is in maintenance mode.

If the database is in maintenace mode do not attempt to access
it.

Depends-On: I5d8ed7d3935db5568c50f8d585e37a4d0cc6914f
Change-Id: Ib654a82fd91cd73c6ab5c178d87d054d8717ce4f
"
openstack%2Fcharm-cinder~master~I131079ea390d11c1208f75b8b97ab4cff7fb47ff,openstack/charm-cinder,master,gate-on-db-maintenance-mode,I131079ea390d11c1208f75b8b97ab4cff7fb47ff,Do not access DB when it is in maintenance mode.,MERGED,2020-01-30 12:38:21.000000000,2020-01-31 14:49:06.000000000,2020-01-31 14:49:06.000000000,10,0,0,704990,0585d9a96b515dac9ad2fb645163a9da0079f7ac,7,3,1,2,12549,gnuoy,gnuoy,"Do not access DB when it is in maintenance mode.

If the database is in maintenace mode do not attempt to access
it.

Depends-On: I5d8ed7d3935db5568c50f8d585e37a4d0cc6914f
Change-Id: I131079ea390d11c1208f75b8b97ab4cff7fb47ff
"
openstack%2Fcharm-openstack-dashboard~master~Ib3fc0b0525dabf70f45fd050af2ed05ba31129b9,openstack/charm-openstack-dashboard,master,bug/1853851,Ib3fc0b0525dabf70f45fd050af2ed05ba31129b9,Fix issue with plugins breaking packages,MERGED,2020-01-28 14:09:30.000000000,2020-01-31 14:48:06.000000000,2020-01-31 14:48:06.000000000,430,27,8,704574,1e2515e13fb71c2ad5fe41251a581c9edf4f654b,20,5,3,5,20870,Alex Kavanagh,ajkavanagh,"Fix issue with plugins breaking packages

The core issue is that the plugin had no way to signal to the
principal charm what packages needed to be installed, and crucially,
which conflicted with the packages that the plugin needs to operate.
The referenced bug exhibits this issue in that, on install, a package
is removed by the plugin, but the principal charm ""doesn't know"".  Then
on upgrade, the principal charm re-installs the package, and breaks
the plugin.

This patch allows the plugin to signal which packages it requires to
operate via the dashboard-plugin interface.  This ensures that when
the openstack-dashboard charm upgrades it already ""knows"" what a
plugin needs and acts accordingly.  Equally, plugins can change their
requirements and this patch allows them to update/remove/install
packages as needed.

The local_settings.py is already controlled by the principal, and this
just shifts absolute control over packaging to the principal as well.
The plugin charm's purpose is to indicate packages and config to the
principal.

Note.  There should be no backwards compatibility issues with this
change. If a plugin doesn't notify the principal of any packages then it
won't take any action.  This does mean that the openstack-charm should
be upgrade prior to any plugins that gain this feature.

Also disable disco test as disco is EOL.

Change-Id: Ib3fc0b0525dabf70f45fd050af2ed05ba31129b9
Related-Bug: #1853851
"
openstack%2Fcharm-glance~master~I9550452e78608589592265fca9549a51c88d65bc,openstack/charm-glance,master,gate-on-db-maintenance-mode,I9550452e78608589592265fca9549a51c88d65bc,Do not access DB when it is in maintenance mode.,MERGED,2020-01-30 12:38:30.000000000,2020-01-31 14:47:28.000000000,2020-01-31 14:47:28.000000000,7,0,0,704996,3cdd23514497b83e2306885e97fa04704995c387,7,3,1,2,12549,gnuoy,gnuoy,"Do not access DB when it is in maintenance mode.

If the database is in maintenace mode do not attempt to access
it.

Depends-On: I5d8ed7d3935db5568c50f8d585e37a4d0cc6914f
Change-Id: I9550452e78608589592265fca9549a51c88d65bc
"
openstack%2Fkolla-ansible~stable%2Ftrain~Ib603923099e3821389a71a601bb55cc5a68aca8c,openstack/kolla-ansible,stable/train,,Ib603923099e3821389a71a601bb55cc5a68aca8c,CI: Add ceph-ansible related files to ignores in check-config.sh,MERGED,2020-01-31 11:25:36.000000000,2020-01-31 14:27:00.000000000,2020-01-31 14:23:27.000000000,2,0,0,705194,85c3e4b368eb3834c84e9a55c80fc51c2c8299fe,8,3,1,1,22629,Michal Nasiadka,mnasiadka,"CI: Add ceph-ansible related files to ignores in check-config.sh

In order to support upgrade-ceph-ansible jobs in master (Ussuri),
we need to add files generated by this job to previous release,
which is Train.

Change-Id: Ib603923099e3821389a71a601bb55cc5a68aca8c
"
openstack%2Foctavia~master~Ib3d6aa0f2fd550c3a8756c41e0159c5ae8127c7c,openstack/octavia,master,,Ib3d6aa0f2fd550c3a8756c41e0159c5ae8127c7c,Fix house keeping graceful shutdown,MERGED,2019-12-11 16:51:39.000000000,2020-01-31 14:00:15.000000000,2020-01-30 22:39:22.000000000,29,20,0,698536,df0ba06c1e96dc5ad4855d24435970ee926175ca,13,6,2,3,29244,Gregory Thiemonge,gthiemonge,"Fix house keeping graceful shutdown

SIGTERM was not caught by house keeping service, threads were not
correctly terminated and spare amphora creation may have been killed
when restarting the service, leaving amphorae in BOOTING status.

Story: 2007008
Task: 37788

Change-Id: Ib3d6aa0f2fd550c3a8756c41e0159c5ae8127c7c
"
openstack%2Fopenstack-helm-infra~master~I7f20a3eb9a98669ae4af657d36a776830b82dfca,openstack/openstack-helm-infra,master,htk-increase-job-defaults,I7f20a3eb9a98669ae4af657d36a776830b82dfca,[htk] Increase job default backoffLimit to 1000,MERGED,2020-01-30 19:47:38.000000000,2020-01-31 13:58:58.000000000,2020-01-30 21:49:19.000000000,11,11,0,705105,578511cd3906694c608ffbb31af9c7eac9b55fb4,12,4,2,11,8898,Chris Wedgwood,anticw,"[htk] Increase job default backoffLimit to 1000

Sometimes jobs fail, the default of 6 retries is far too brief to get
logs (which are purged after the final failure); as we need the jobs
to succeed always, having a much higher default here seems prudent.

Change-Id: I7f20a3eb9a98669ae4af657d36a776830b82dfca
"
openstack%2Fneutron~stable%2Ftrain~Id019fa7649bd1158f9d56e63f8dad108d0ca8c1f,openstack/neutron,stable/train,bug/1860326,Id019fa7649bd1158f9d56e63f8dad108d0ca8c1f,Allow to kill keepalived state change monitor process,MERGED,2020-01-28 15:39:24.000000000,2020-01-31 13:53:13.000000000,2020-01-31 13:49:46.000000000,8,8,0,704593,79ea54b21dff0baaaaa8f83a60557c0be642e49e,31,6,1,1,11975,Slawek Kaplonski,slaweq,"Allow to kill keepalived state change monitor process

Usually Neutron stops neutron-keepalived-state-change-monitor process
gracefully with SIGTERM.
But in case if this will not stop process for some time, Neutron will
try to kill this process with SIGKILL (-9).
That was causing problem with rootwrap as kill filters for this process
allowed to send only ""-15"" to it.
Now it is possible to kill this process with ""-9"" too.

Conflicts:
    etc/neutron/rootwrap.d/l3.filters

Change-Id: Id019fa7649bd1158f9d56e63f8dad108d0ca8c1f
Closes-bug: #1860326
(cherry picked from commit d6fccd247f70abc84c8a480138e135717836c7b3)
"
openstack%2Fneutron~master~I1185c1ca2556e2aed27051efd98a1d141f5298c9,openstack/neutron,master,bug/1802640,I1185c1ca2556e2aed27051efd98a1d141f5298c9,Enable ovsdb debug messages in functional and fullstack,MERGED,2020-01-22 13:35:23.000000000,2020-01-31 13:41:03.000000000,2020-01-31 13:36:55.000000000,4,2,2,703791,cf36bd4ca52bec4a707c35df261b8a2630850e68,45,8,5,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Enable ovsdb debug messages in functional and fullstack

Enable the configuration flag ""ovsdb_debug"" for functional and
fullstack tests. If enable, NeutronOvsdbIdl won't define any log
level when setting up the logger; if not ""max_level"" is defined,
all messages are logged.

Change-Id: I1185c1ca2556e2aed27051efd98a1d141f5298c9
Related-Bug: #1802640
"
openstack%2Fironic-python-agent~stable%2Ftrain~Ief8b360d11e654d8fae3a04a2a9f8d474a06e167,openstack/ironic-python-agent,stable/train,704725-stable/train,Ief8b360d11e654d8fae3a04a2a9f8d474a06e167,Skip read-only devices with metadata erase,MERGED,2020-01-30 16:19:06.000000000,2020-01-31 13:40:48.000000000,2020-01-31 13:38:11.000000000,75,0,0,705055,205f89a944ab47da44aa9e16417c21ee314b6da0,15,4,2,3,11655,Julia Kreger,jkreger,"Skip read-only devices with metadata erase

HPE ""Virtual Install Devices"" appear as read-only block
devices, and may... or may not be visible depending on the
bios configuration state.

These devices can no longer be disabled from the bios settings
so the simplest course of action seems to be that we should
handle the existence of a read-only device.

In the event of secure erase, this is treated as a hard failure
case and a driver_internal_info flag has been added to enable
a future bypass method for knowledgable operators.

Backport note: the unit tests have been modified to account for Python 2

Change-Id: Ief8b360d11e654d8fae3a04a2a9f8d474a06e167
Story: 2007229
Task: 38502
(cherry picked from commit cd7b2693f873bde72706f8b6ab8c1f21e68f0fd1)
"
openstack%2Ftripleo-common~stable%2Fstein~I6bd73fde6f1d78ceb89eb5cd04ac06d1b95263a3,openstack/tripleo-common,stable/stein,,I6bd73fde6f1d78ceb89eb5cd04ac06d1b95263a3,Derive new nova compute parameter,MERGED,2020-01-30 08:35:54.000000000,2020-01-31 13:39:18.000000000,2020-01-31 13:11:01.000000000,1,1,0,704937,8f40c8499de5ebd9b90dbca29b565b46dbe92ef4,16,7,1,1,22865,Jaganathan Palanisamy,jaganathancse,"Derive new nova compute parameter

Derive NovaComputeCpuSharedSet parameter based on
host introspection.

Change-Id: I6bd73fde6f1d78ceb89eb5cd04ac06d1b95263a3
Closes-Bug: #1858678
(cherry picked from commit 95138e9d4e8ee012616fcb7ad89be0eef1632960)
"
openstack%2Fneutron~master~Ifb795626dc9c2ac4f0104f491dd38c9b4cc902c9,openstack/neutron,master,bug/1842988-external_mac,Ifb795626dc9c2ac4f0104f491dd38c9b4cc902c9,[OVN] Remove VLAN check when setting external_mac,MERGED,2020-01-22 15:03:55.000000000,2020-01-31 13:39:08.000000000,2020-01-31 13:36:51.000000000,8,24,0,703813,c471c7330c6c7a642e11ceae5fd604177059a3e8,27,7,3,2,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Remove VLAN check when setting external_mac

This patch reverts [0].

The code wasn't accounting for VLAN provider networks, as stated in the
bug #1842988, DVR won't work if the provider network (where the FIP is
created) is VLAN.

There was also an incosistency in how the external_mac was set for the
VLAN networks. Upon creating the FIP the code was checking for the
network type and not setting the external_mac attribute in case the
network was VLAN type. But, if the port went down and up again (e.g if
you reboot the VM) the event handler that set/unset the external_mac [1]
wasn't check for the type. This is how people worked around the DVR
problem (as stated in bug #1842988).

For more information see bug #1842988.

[0]
https://github.com/openstack/networking-ovn/commit/c5aef51edc9843db605303ec8bd8610b6c55e9c2
[1]
https://github.com/openstack/networking-ovn/blob/eda5d7f80d877601170631c5f5485370ea701f42/networking_ovn/ml2/mech_driver.py#L794-L800

Change-Id: Ifb795626dc9c2ac4f0104f491dd38c9b4cc902c9
Closes-Bug: #1842988
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Foslo.log~master~I2a5a8b83d965ab6837ae01640ea4525284a0e7be,openstack/oslo.log,master,ignore_rules,I2a5a8b83d965ab6837ae01640ea4525284a0e7be,Ignore releasenote artifacts files.,MERGED,2020-01-31 09:55:52.000000000,2020-01-31 13:10:41.000000000,2020-01-31 13:08:58.000000000,2,0,0,705181,b3e9862cccac949156001f02270b0fb4e43f14c5,7,2,1,1,28522,Hervé Beraud,hberaud,"Ignore releasenote artifacts files.

Change-Id: I2a5a8b83d965ab6837ae01640ea4525284a0e7be
"
openstack%2Fneutron~master~I5971d078bd68c3c0b104eea0d443511e741540c4,openstack/neutron,master,bug/1808595,I5971d078bd68c3c0b104eea0d443511e741540c4,Randomize BaseFullStackTestCase._find_available_ips,MERGED,2019-09-24 11:08:51.000000000,2020-01-31 12:51:57.000000000,2019-10-14 11:18:12.000000000,13,12,9,684279,94f69ab407d081ce49fa5a93946c4cd41bf6ee89,27,12,3,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Randomize BaseFullStackTestCase._find_available_ips

Instead of retrieving an IP address of the CIDR network in
ascending order, this patch randomizes the IP address selection.

Change-Id: I5971d078bd68c3c0b104eea0d443511e741540c4
Related-Bug: #1808595
"
openstack%2Fneutron~master~I24fcecd9686ad17fa50093bb8bccab0d6c711298,openstack/neutron,master,bug/1826695,I24fcecd9686ad17fa50093bb8bccab0d6c711298,Remove L3 IP QoS cache when router is down,MERGED,2019-04-28 03:16:27.000000000,2020-01-31 12:12:19.000000000,2019-08-22 05:17:50.000000000,187,39,32,656105,78629e0d3780af4a8a8cc1b5b0762e0bc8a48f1f,126,14,14,7,9531,liuyulong,LIU-Yulong,"Remove L3 IP QoS cache when router is down

When router admin-state is down or removed, fip-qos and gateway-ip-qos
extension should delete the router IPs' QoS rate limit cache. Then if
the router is up again the router floating IPs QoS can be reconfigured.
This patch achives these:
1. make sure floating IP or gateway IP QoS cache removed.
2. floating IP QoS can be re-configured to snat device when router
   doing admin_state down/up.

Closes-Bug: #1826695
Change-Id: I24fcecd9686ad17fa50093bb8bccab0d6c711298
"
openstack%2Fneutron~master~I8d206f909b09f1279dfcdc25c39989a67bff93d5,openstack/neutron,master,bug/1659175,I8d206f909b09f1279dfcdc25c39989a67bff93d5,Fix bug: AttributeError arises while sorting with standard attributes,MERGED,2019-04-19 03:35:44.000000000,2020-01-31 11:48:06.000000000,2019-06-02 03:48:33.000000000,26,3,26,653903,335ac4e2d95c164d66a3b09d9fd08e9c563edfc2,128,17,14,3,28889,Guo Jingyu,pandatt,"Fix bug: AttributeError arises while sorting with standard attributes

Common neutron resource(e.g, Port) consists of:
1. Resource Attributes, e.g: Port.mac_address, etc.
2. Standard Attributes, e.g: created_at, and are shared among all
   neutron resources.
The `sort` opt only supports limited attributes. We need to filter
attributes that are defined with `is_sort_key=True` and it's preferred
to explicitly warn CLI & API users of illegal sort keys rather than
just accept without check, pass forward and then hit a internal error
which's quite confusing.

Depends-on: https://review.opendev.org/#/c/660097/
Change-Id: I8d206f909b09f1279dfcdc25c39989a67bff93d5
Closes-Bug: #1659175
"
openstack%2Fneutron~master~I943e6397319b9a4a7fc1a5b3acb721920ddffb02,openstack/neutron,master,bug/1824299,I943e6397319b9a4a7fc1a5b3acb721920ddffb02,Define orm relationships after db classes,MERGED,2019-05-16 09:47:36.000000000,2020-01-31 11:34:22.000000000,2019-05-24 16:27:56.000000000,7,6,1,659511,38daf9eaae8538c74933b19c952ad0612751c027,16,10,1,1,5948,Oleg Bondarev,obondarev,"Define orm relationships after db classes

This is to fix race conditions on neutron server init.
Please see bug for details.

Change-Id: I943e6397319b9a4a7fc1a5b3acb721920ddffb02
Partial-Bug: #1824299
"
openstack%2Fopenstack-ansible-os_tempest~master~Ic146e011ec15889303061527e17cdc16ed914799,openstack/openstack-ansible-os_tempest,master,,Ic146e011ec15889303061527e17cdc16ed914799,Always use virtualenv and pip to install tempest on Ubuntu,MERGED,2020-01-28 13:56:14.000000000,2020-01-31 11:19:43.000000000,2020-01-31 11:17:24.000000000,18,24,2,704567,61f3c986808b7270152e4a8a598bf89166a867bd,41,5,12,4,25023,Jonathan Rosser,jrosser,"Always use virtualenv and pip to install tempest on Ubuntu

For ubuntu distro jobs there are no tempest plugins packages so drop the
'mixed setup' where tempest comes from a distro package and the plugins
come from pip, and then fail to install into the system python environment.

Change-Id: Ic146e011ec15889303061527e17cdc16ed914799
"
openstack%2Fnova~stable%2Fpike~I0390c9ff51f49b063f736ca6ef868a4fa782ede5,openstack/nova,stable/pike,bug/1754716,I0390c9ff51f49b063f736ca6ef868a4fa782ede5,Avoid redundant initialize_connection on source post live migration,MERGED,2019-09-18 23:30:46.000000000,2020-01-31 11:08:46.000000000,2020-01-27 19:18:32.000000000,66,74,18,683008,c8396dcae3eee4bdf7d2d5b4d0cc0f9b58d16117,130,22,8,5,6873,Matt Riedemann,mriedem,"Avoid redundant initialize_connection on source post live migration

During live migration we update bdm.connection_info for attached volumes
in pre_live_migration to reflect the new connection on the destination
node. This means that after migration completes the BDM no longer has a
reference to the original connection_info to do the detach on the source
host. To address this, change I3dfb75eb added a second call to
initialize_connection on the source host to re-fetch the source host
connection_info before calling disconnect.

Unfortunately the cinder driver interface does not strictly require that
multiple calls to initialize_connection will return consistent results.
Although they normally do in practice, there is at least one cinder
driver (delliscsi) which doesn't. This results in a failure to
disconnect on the source host post migration.

This change avoids the issue entirely by fetching the BDMs prior to
modification on the destination node. As well as working round this
specific issue, it also avoids a redundant cinder call in all cases.

Note that this massively simplifies post_live_migration in the libvirt
driver. The complexity removed was concerned with reconstructing the
original connection_info. This required considering the cinder v2 and v3
use cases, and reconstructing the multipath_id which was written to
connection_info by the libvirt fibrechannel volume connector on
connection. These things are not necessary when we just use the original
data unmodified.

Other drivers affected are Xenapi and HyperV. Xenapi doesn't touch
volumes in post_live_migration, so is unaffected. HyperV did not
previously account for differences in connection_info between source and
destination, so was likely previously broken. This change should fix it.

Conflicts:
      nova/compute/manager.py
      nova/objects/migrate_data.py
      nova/tests/unit/compute/test_compute.py
      nova/tests/unit/compute/test_compute_mgr.py
      nova/tests/unit/virt/libvirt/test_driver.py
      nova/virt/libvirt/driver.py

NOTE(mriedem): The conflicts are primarily due to not having change
I0bfb11296430dfffe9b091ae7c3a793617bd9d0d in Pike. In addition, the
libvirt driver conflicts are also due to not having change
I61a0bee9e71e9a67f6a7c04a7bfd6e77fe818a77 nor change
Ica323b87fa85a454fca9d46ada3677f18fe50022 in Pike.

NOTE(melwitt): The difference from the Queens change in
nova/compute/manager.py to be able to treat the instance variable as
a dict is because _do_live_migration is expected to be able to handle
an old-style instance in Pike (this is exposed in the unit test).
Other sources of conflict in nova/tests/unit/compute/test_compute.py
are because change I9068a5a5b47cef565802a6d58f37777464644100 is not in
Pike. The difference from the Queens change in
nova/tests/unit/compute/test_compute_mgr.py to add a mock for the new
get_by_instance_uuid database call is needed because in Queens the
test was using a MagicMock as the compute manager whereas in Pike the
test is using a real compute manager. The mock needs to be added to
avoid a test error accessing the database in a NoDBTestCase. Another
source of conflicts in nova/tests/unit/compute/test_compute_mgr.py is
because changes I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 and
I9068a5a5b47cef565802a6d58f37777464644100 are not in Pike.

Closes-Bug: #1754716
Closes-Bug: #1814245
Change-Id: I0390c9ff51f49b063f736ca6ef868a4fa782ede5
(cherry picked from commit b626c0dc7b113365002e743e6de2aeb40121fc81)
(cherry picked from commit 75e0f5a9b18293546db0ddf0fb073854e6704115)
(cherry picked from commit 013f421bca4067bd430a9fac1e3b290cf1388ee4)
"
openstack%2Fneutron~stable%2Ftrain~I7ed1a742849dfce9e65b8eb36566112501fb0e39,openstack/neutron,stable/train,report_trunk_port_deletion-stable/train,I7ed1a742849dfce9e65b8eb36566112501fb0e39,Ensure driver error preventing trunk port deletion is logged,MERGED,2020-01-28 21:55:52.000000000,2020-01-31 11:07:51.000000000,2020-01-31 11:05:37.000000000,13,3,0,704690,a618a26bf4f8782d6f16a5090f1c7ce8d824476b,17,6,1,1,13995,Nate Johnston,natejohnston,"Ensure driver error preventing trunk port deletion is logged

When trunk port deletion is attempted but fails because the driver does
not permit it, the logs do not contain the driver error message that
specifies the precise rationale for preventing the trunk port deletion.
Log it explicitly.

Change-Id: I7ed1a742849dfce9e65b8eb36566112501fb0e39
(cherry picked from commit 3b56299e1fa0b48bd4d674e57be2e289c4c28547)
"
openstack%2Fcloudkitty~master~I91f38b9aded2dc6453507edaa55cfd9ddf7e995b,openstack/cloudkitty,master,,I91f38b9aded2dc6453507edaa55cfd9ddf7e995b,Update oslo.policy and oslo.context usage,MERGED,2019-10-31 11:08:36.000000000,2020-01-31 10:51:06.000000000,2020-01-31 10:45:52.000000000,60,60,0,692333,a80d0e977dc606d1f171f4eebb3bb799f7059e34,19,3,5,11,23060,Luka Peschke,lukapeschke,"Update oslo.policy and oslo.context usage

This changes the way oslo.policy and oslo.context are used. This aims at
delegating as much work as possible to these libraries in order to ease
maintainability.

Work items:

* Use oslo_context.RequestContext's from_environ() method instead of building
  the context manually.

* Replace ""tenant_id"" with ""project_id"" in policy rule definition/enforcement.

* Introduce a cloudkitty.context module allowing to easily tweak request
  context creation.

Change-Id: I91f38b9aded2dc6453507edaa55cfd9ddf7e995b
"
openstack%2Fhorizon~master~I6be10a92a1f43b3e0effee8148987c7e2c5690ff,openstack/horizon,master,bug/1836295,I6be10a92a1f43b3e0effee8148987c7e2c5690ff,Manually registering 2 Dashboards breaks get_dashboards() (python3),MERGED,2019-07-12 05:25:43.000000000,2020-01-31 10:50:18.000000000,2020-01-31 10:44:42.000000000,35,8,6,670446,a95398d012ffdd82e7d4a5e591dfd88e68f44f24,33,10,5,2,30676,Stephen Crawley,s.crawley,"Manually registering 2 Dashboards breaks get_dashboards() (python3)

The get_dashboards() method used sorted(<values>) to sort the
dashboards that have been registered manually.  This breaks if
two or more are registered that way because the Dashboard class
doesn't define a natural ordering.  The fix is to sort using
the Dashboard name as the sort key.  (Unit test included.)

This problem doesn't occur in python 2.7.

P.S.
It turns out that AdminPanel in horizon/test/unit/test_base.py is not
used during the review. It is dropped too as it is a simple change.

Change-Id: I6be10a92a1f43b3e0effee8148987c7e2c5690ff
Closes-bug: #1836295
"
openstack%2Fhorizon~master~I611573a41c47e99e41a54bf53cea55322a493de1,openstack/horizon,master,remove-mox,I611573a41c47e99e41a54bf53cea55322a493de1,Remove errant references to mox,MERGED,2020-01-30 11:45:16.000000000,2020-01-31 10:48:35.000000000,2020-01-31 10:44:39.000000000,9,48,0,704974,2b3ab46440947099cbbf828da0ef75fe74e0c710,8,3,1,2,15334,Stephen Finucane,sfinucan,"Remove errant references to mox

There is still a single user of mox but all other references to this can
be removed. Do just that.

Change-Id: I611573a41c47e99e41a54bf53cea55322a493de1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcloudkitty~master~I570db3db4c969042038a286829c8df2ee06fb5d7,openstack/cloudkitty,master,fixProcessingOfRateXXXReAggregationMetrics,I570db3db4c969042038a286829c8df2ee06fb5d7,"Fix processing of ""rate:xxx"" re-aggregation configuration",MERGED,2020-01-29 17:40:25.000000000,2020-01-31 10:47:39.000000000,2020-01-31 10:45:48.000000000,49,33,0,704857,cbdd3545b55586b00ddd9565caffefea58fe162c,7,2,1,1,28356,Rafael Weingartner,rafaelweingartner,"Fix processing of ""rate:xxx"" re-aggregation configuration

The aggregation API in Gnocchi does not return anything for Granularity
3600, when the time-range is just one hour for ""rate:xxx""
re-aggregation methods. That behavior on Gnocchi side is correct. The
""rate:xxx"" aggregation method needs at least two data points (we are
taking the diff, right?). Therefore, when configured to work with
""rate:xxx"" CloudKitty needs to call the aggregation API with a two
hours interval (for granularity 3600), and not just one.

With this patch, when CloudKitty detects a ""rate:xxx"" configuration, it
will use the range as two times (*) the granularity we are using to
process data. Therefore, if the granularity is one hour, it uses a
two-hour time frame; on the other hand, if the granularity is
configured to 10 minutes, it would consider a 20 minutes timeframe. I
am doing that to retrieve two data points at a time in the aggregation
API; thus, we can compute the diffs between the data points.

Depends-On: https://review.opendev.org/#/c/704787/
Change-Id: I570db3db4c969042038a286829c8df2ee06fb5d7
"
openstack%2Fhorizon~stable%2Fstein~Ia865a6c02e206fa49efc3095e8d3488f5638d0e3,openstack/horizon,stable/stein,bug/1793694,Ia865a6c02e206fa49efc3095e8d3488f5638d0e3,Allow to evacuate without specifying a target host,MERGED,2020-01-29 05:07:08.000000000,2020-01-31 10:47:19.000000000,2020-01-31 10:44:45.000000000,5,0,0,704727,42d9a8d2e8736c5a8e94eaf7074755a1add3922b,8,4,1,1,8988,Rikimaru Honjo,rikimaru.honjo,"Allow to evacuate without specifying a target host

When the evacuate is run without specifying a target host, horizon
sets an empty string for target host. But the evacuate api doesn't
allow an empty string. As a result, nova returns ""HTTP 400 Bad
request"".

So this patch sets None as the target host when it isn't specified.

Change-Id: Ia865a6c02e206fa49efc3095e8d3488f5638d0e3
Closes-Bug: 1793694
(cherry picked from commit f9e0f8a976b82088ef095a69cd1fa892cddde3ba)
"
openstack%2Fhorizon~stable%2Ftrain~Ia865a6c02e206fa49efc3095e8d3488f5638d0e3,openstack/horizon,stable/train,bug/1793694,Ia865a6c02e206fa49efc3095e8d3488f5638d0e3,Allow to evacuate without specifying a target host,MERGED,2020-01-29 05:10:52.000000000,2020-01-31 10:46:30.000000000,2020-01-31 10:44:44.000000000,5,0,0,704728,e058e381607e93439a59f47c36e6a9b7cf61cc71,9,4,1,1,8988,Rikimaru Honjo,rikimaru.honjo,"Allow to evacuate without specifying a target host

When the evacuate is run without specifying a target host, horizon
sets an empty string for target host. But the evacuate api doesn't
allow an empty string. As a result, nova returns ""HTTP 400 Bad
request"".

So this patch sets None as the target host when it isn't specified.

Change-Id: Ia865a6c02e206fa49efc3095e8d3488f5638d0e3
Closes-Bug: 1793694
(cherry picked from commit f9e0f8a976b82088ef095a69cd1fa892cddde3ba)
"
openstack%2Fcloudkitty~master~I1a147be155b12175d7f031c14d0e90ab13aec700,openstack/cloudkitty,master,,I1a147be155b12175d7f031c14d0e90ab13aec700,Add support for the range_function field to the Prometheus collector,MERGED,2020-01-14 13:53:16.000000000,2020-01-31 10:45:49.000000000,2020-01-31 10:45:48.000000000,174,15,0,702431,6dfe2a6c8d68f1b1dfb6d4c5df87707344672891,12,4,2,4,30844,Florian Davasse,aimbot31,"Add support for the range_function field to the Prometheus collector

This extends the possibilities for manipulating data with the Prometheus
collector without using custom scripts.

Work items:
 * Implemented the range_function field in the Prometheus collector.

 * Documented the range_function field.

 * Updated the tests on the Prometheus collector to include the
   range_function field.

Change-Id: I1a147be155b12175d7f031c14d0e90ab13aec700
Story: 2006427
Task: 36328
"
openstack%2Fcloudkitty-tempest-plugin~master~Ie7a80ac58dc425e66cf2b7334b99e22a07759dbc,openstack/cloudkitty-tempest-plugin,master,drop-py27-support,Ie7a80ac58dc425e66cf2b7334b99e22a07759dbc,More cleanup for py2 drop,MERGED,2020-01-23 22:44:35.000000000,2020-01-31 10:45:48.000000000,2020-01-31 10:45:48.000000000,3,2,0,704077,44b8c4ed91f875e54ab3e4f9591196710f17ef3b,8,2,1,2,8556,Ghanshyam,ghanshyam,"More cleanup for py2 drop

This commit cleanup requirement file and add
ignore_basepython_conflict flag into tox to avoid
python version conflct.

Change-Id: Ie7a80ac58dc425e66cf2b7334b99e22a07759dbc
"
openstack%2Fcloudkitty~master~I8a1a75a74e04cb9babdf09f115620b152861e218,openstack/cloudkitty,master,,I8a1a75a74e04cb9babdf09f115620b152861e218,Standardize aggregation methods and granularities for Gnocchi collector,MERGED,2020-01-29 12:29:34.000000000,2020-01-31 10:45:41.000000000,2020-01-31 10:42:33.000000000,44,24,0,704787,385d20520f7163c08d39d17d0dc87ffc80839ec9,12,2,5,3,28356,Rafael Weingartner,rafaelweingartner,"Standardize aggregation methods and granularities for Gnocchi collector

This PR proposes the standardization of aggregation methods allowed by
CloudKitty in Gnocchi collector as the aggregation methods available in
Gnocchi API for both archive policies and aggregation API. The rationale is
that we need to support the same aggregation methods available there.
Otherwise, users can try to use something available in the Gnocchi API, and it
does not work due to a limitation in CloudKitty.

We also propose to set the default granularity as 3600. CloudKitty is already
using one hour time frames by default. There is no sense in not setting the
granularity as 3600 as well. If we do not define the granularity 3600 by
default, CloudKitty will always retrieve (in the aggregation API) measurements
for all available granularities, which is an overhead. Besides being an
overhead, it can cause huge inconsistencies, if for some reason (that we
painfully discovered in production), the granularity of 3600 is not returned.
The method ""_format_data""  does not check if the data being
""formated""/obtained from the measurements object represents the 3600 (1h) time
frame, it just retrieves the first element, and moves on; thus, leading to
wrong billing information.

And last, but not least, we propose a debug log to show in the log files, when
debug log level is enabled, the response received in the aggregation API. This
can enable debug for operation people. Otherwise, we need to change code to be
able to troubleshoot problems with CloudKitty processing when using Gnocchi
collector.

Change-Id: I8a1a75a74e04cb9babdf09f115620b152861e218
"
openstack%2Fpython-cloudkittyclient~master~I7615601540419e45259291a7bfce1cc038c27986,openstack/python-cloudkittyclient,master,drop-py27-support,I7615601540419e45259291a7bfce1cc038c27986,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-19 13:13:52.000000000,2020-01-31 10:41:17.000000000,2020-01-31 10:37:43.000000000,15,45,2,694999,9424e67f2104a6e8458b8259ab8fe6186b8efaa0,28,5,6,5,23060,Luka Peschke,lukapeschke,"[ussuri][goal] Drop python 2.7 support and testing

This drops python2.7 support for cloudkittyclient. Even if this should be
done between milestone-1 and milestone-2, zuul jobs running on python2 are
currently broken since nova dropped python2.7 support.

Depends-On: https://review.opendev.org/#/c/693631/
Change-Id: I7615601540419e45259291a7bfce1cc038c27986
"
openstack%2Fneutron~master~I5b259717c0fdb8991f1df86b1ef4fb8ad0f18e70,openstack/neutron,master,bug/1836095,I5b259717c0fdb8991f1df86b1ef4fb8ad0f18e70,"Improve ""OVSFirewallDriver.process_trusted_ports""",MERGED,2019-07-10 18:58:19.000000000,2020-01-31 10:35:39.000000000,2019-07-15 18:32:36.000000000,25,9,5,670162,ae1d36fa9d8e2115a5241b5da2e941cdefa2c463,30,8,4,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Improve ""OVSFirewallDriver.process_trusted_ports""

FirewallDriver.process_trusted_ports"" is called with many ports,
""_initialize_egress_no_port_security"" retrieves the VIF ports
(""Interface"" registers in OVS DB), one per iteration, based in the
port_id. Instead of this procedure, if the DB is called only once to
retrieve all the VIF ports, the performance increase is noticeable.
E.g.: bridge with 1000 ports and interfaces.

Retrieving 100 ports:
- Bulk operation: 0.08 secs
- Loop operation: 5.6 secs

Retrieving 1000 ports:
- Bulk operation: 0.08 secs
- Loop operation: 59 secs

Closes-Bug: #1836095
Related-Bug: #1836023

Change-Id: I5b259717c0fdb8991f1df86b1ef4fb8ad0f18e70
"
openstack%2Fneutron~master~If865c4683645f9bd11f5e1b528bade0547505bfd,openstack/neutron,master,bug/1843478,If865c4683645f9bd11f5e1b528bade0547505bfd,Re execute a test case if fixtures.TimeoutException is thrown,MERGED,2019-09-11 10:22:13.000000000,2020-01-31 10:14:56.000000000,2019-09-15 05:21:52.000000000,20,4,4,681432,63715ea361ea94fb48842c83deef1e5850bcc44d,25,14,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Re execute a test case if fixtures.TimeoutException is thrown

Since [1] was introduced, it's very frequent to have
""fixtures._fixtures.timeout.TimeoutException"" exceptions during the
execution of UTs and FTs. Because the privsep includes the synchronized
decorator, the synchronization wait is done inside the privsep context.
This is prone to timeouts if the wait is too long.

Until we can reorder the decorators of ip_lib [2] or we can remove the
sync decorators [3], this patch can mitigate the errors in the CI.

[1]https://review.opendev.org/#/c/631275/
[2]https://review.opendev.org/#/c/666853/
[3]https://review.opendev.org/#/c/657608/

Closes-Bug: #1843478

Change-Id: If865c4683645f9bd11f5e1b528bade0547505bfd
"
openstack%2Fironic~master~I59a046c06334a3366d0c7070114446efa832df23,openstack/ironic,master,minor-fix-bash,I59a046c06334a3366d0c7070114446efa832df23,Fix typo in setup-network.sh script,MERGED,2020-01-29 11:05:55.000000000,2020-01-31 10:12:00.000000000,2020-01-29 15:45:07.000000000,1,1,1,704777,90b747ac669ee8985335930945ee6fe20d8157fa,11,5,1,1,23851,Riccardo Pittau,elfosardo,"Fix typo in setup-network.sh script

Removing a $ sign that shouldn't be there and can cause trouble.

Change-Id: I59a046c06334a3366d0c7070114446efa832df23
"
openstack%2Frequirements~master~I92db8edd3f0906dff28966e68f782795b2d54607,openstack/requirements,master,,I92db8edd3f0906dff28966e68f782795b2d54607,manual update to sync upper-constraints,MERGED,2020-01-30 22:45:37.000000000,2020-01-31 10:10:44.000000000,2020-01-31 08:22:37.000000000,73,48,1,705128,6a1c38d7270bffec543fb28c6acc7ffb16eac730,13,3,3,2,14288,Matthew Thode,prometheanfire,"manual update to sync upper-constraints

ran with same options gate normally does

Change-Id: I92db8edd3f0906dff28966e68f782795b2d54607
"
openstack%2Fcloudkitty-dashboard~master~I14f8982914ba690d47570319e3dce1ea492853c2,openstack/cloudkitty-dashboard,master,developer,I14f8982914ba690d47570319e3dce1ea492853c2,Change README.rst with a better title,MERGED,2019-12-26 02:14:23.000000000,2020-01-31 10:08:34.000000000,2020-01-31 10:05:22.000000000,6,9,0,700577,1ac189339e44fd9df64f4c966f541abf4b242726,8,2,1,1,27399,zhouguowei,zhouguowei,"Change README.rst with a better title

Change-Id: I14f8982914ba690d47570319e3dce1ea492853c2
"
openstack%2Fcloudkitty-dashboard~master~I6f393b85306e514f9e00567dfd2b9940d6f26253,openstack/cloudkitty-dashboard,master,drop-django111-support,I6f393b85306e514f9e00567dfd2b9940d6f26253,Drop Django 1.11 support,MERGED,2020-01-01 19:50:31.000000000,2020-01-31 10:07:13.000000000,2020-01-31 10:05:21.000000000,2,7,0,700839,cade8de98453c66e37ecf0af270a1c21e76b0e23,16,4,3,3,29313,Vishal Manchanda,vishalmanchanda,"Drop Django 1.11 support

Django 1.11 ends its extended support in April 2020 (which is before
Ussuri release), so horizon drops Django 1.11 support in Ussuri.

tox envs for non-primary Django versions are no longer needed in tox.ini
as testing environments for non-primary Django versions are setup in
the zuul jobs now.

horizon>=17.1.0 is required to use Django 2.2.
requirements.txt is updated accordingly.
For more info. please refer [1], [2].

[1] https://review.opendev.org/#/c/700733/
[2] https://etherpad.openstack.org/p/Enable_Django22_support_in_Horizon_Plugin

Change-Id: I6f393b85306e514f9e00567dfd2b9940d6f26253
"
openstack%2Fpuppet-openstacklib~master~I737fb14739a69ac12c39c7faf6dd2be1f772daa6,openstack/puppet-openstacklib,master,keystone_workers,I737fb14739a69ac12c39c7faf6dd2be1f772daa6,Have doubled workers for keystone service,MERGED,2020-01-30 15:30:19.000000000,2020-01-31 10:01:06.000000000,2020-01-31 10:01:06.000000000,49,0,0,705041,74e0f5a3170b09632ad4ede7e20d3ebeb4514586,9,3,3,2,9816,Takashi Kajinami,kajinamit,"Have doubled workers for keystone service

Since we have merged 2 keystone services(public and admin) into one,
we need to double keystone workers so that we have the same number of
workers, which is necessory to avoid performance degradation.

This patch introduced new facter, os_workers_keystone, which returns
2 x os_workers .

Change-Id: I737fb14739a69ac12c39c7faf6dd2be1f772daa6
"
openstack%2Fcloudkitty-specs~master~Iee69e7f5eecc7b017efeb98ee16f609f59ec8243,openstack/cloudkitty-specs,master,,Iee69e7f5eecc7b017efeb98ee16f609f59ec8243,Spec: Monasca fetcher,MERGED,2019-10-08 08:53:34.000000000,2020-01-31 09:57:21.000000000,2020-01-31 09:53:58.000000000,134,0,7,687248,fadfba941c2b883909d1198b68fdfb03abb10f97,14,3,3,1,30960,Quentin Anglade,qanglade,"Spec: Monasca fetcher

See monasca_fetcher.rst for details.

Change-Id: Iee69e7f5eecc7b017efeb98ee16f609f59ec8243
Story: 2006675
Task: 36950
"
openstack%2Fbifrost~master~I0b93c0e0b348f8bfa18f3a17941cbd7c8771da87,openstack/bifrost,master,docs,I0b93c0e0b348f8bfa18f3a17941cbd7c8771da87,Revise the testing environment documentation,MERGED,2020-01-30 10:43:51.000000000,2020-01-31 09:45:03.000000000,2020-01-31 09:40:56.000000000,17,17,0,704958,6d90609f6c6f47612003697c05ed66a4d2455516,8,3,1,2,10239,Dmitry Tantsur,dtantsur,"Revise the testing environment documentation

* Stop mentioning the removed agent_ssh driver
* The CSV format is deprecated and no longer used
* Provide correct links instead of ""above"" (which is no longer above).

Change-Id: I0b93c0e0b348f8bfa18f3a17941cbd7c8771da87
"
openstack%2Fbifrost~master~I4596bfb1d2c6fab47e501dc1a5f013877a3c3b87,openstack/bifrost,master,704468,I4596bfb1d2c6fab47e501dc1a5f013877a3c3b87,Disable inspection power-off,MERGED,2020-01-27 23:49:19.000000000,2020-01-31 09:42:42.000000000,2020-01-31 09:40:55.000000000,26,0,5,704468,e522ab0fe71b8a2104ef4372d9652ed944af51bf,13,4,2,5,11655,Julia Kreger,jkreger,"Disable inspection power-off

This will enable inspection scenarios to operate the fast track
behavior.

Change-Id: I4596bfb1d2c6fab47e501dc1a5f013877a3c3b87
"
openstack%2Ftripleo-common~stable%2Ftrain~Iada9fb49881c8edc9c6ede46a939d1853204f896,openstack/tripleo-common,stable/train,healthchecks/strict-pipefail-stable/train,Iada9fb49881c8edc9c6ede46a939d1853204f896,Make healthchecks more strict,MERGED,2020-01-28 18:18:38.000000000,2020-01-31 09:18:20.000000000,2020-01-30 09:27:16.000000000,6,1,0,704651,dddf584505bb24c53ba9d5fd92396695dc7a540c,17,5,1,1,28223,Cedric Jeanneret,cjeanner,"Make healthchecks more strict

It was discovered that healthchecks aren't really reliable because they
aren't strict enough.

The current patch adds the ""standard"" options in order to ensure we
actually catch errors soon enough in order to return the actual state of
the checked element.

It also requires a small change for the healthcheck_port() function,
since the ""piping"" returned a 141 code instead of 0 due SIGPIPE being
sent at some point[1].

It also depends on two other changes, in order to ensure we won't get
any ""sudo"" issues inside the checks (here again, healthcheck_port is
tricky).

[1] https://stackoverflow.com/questions/19120263/why-exit-code-141-with-grep-q
    http://www.tldp.org/LDP/lpg/node20.html

Depends-On: https://review.opendev.org/703818
Depends-On: https://review.opendev.org/703816
Change-Id: Iada9fb49881c8edc9c6ede46a939d1853204f896
Closes-Bug: #1860556
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1794044
(cherry picked from commit ba02b0a23582b286b775fd129e3a09970862755b)
"
openstack%2Ftripleo-common~master~Iada9fb49881c8edc9c6ede46a939d1853204f896,openstack/tripleo-common,master,healthchecks/strict-pipefail,Iada9fb49881c8edc9c6ede46a939d1853204f896,Make healthchecks more strict,MERGED,2020-01-22 15:28:05.000000000,2020-01-31 09:15:56.000000000,2020-01-28 18:00:50.000000000,6,1,3,703819,ba02b0a23582b286b775fd129e3a09970862755b,20,9,1,1,28223,Cedric Jeanneret,cjeanner,"Make healthchecks more strict

It was discovered that healthchecks aren't really reliable because they
aren't strict enough.

The current patch adds the ""standard"" options in order to ensure we
actually catch errors soon enough in order to return the actual state of
the checked element.

It also requires a small change for the healthcheck_port() function,
since the ""piping"" returned a 141 code instead of 0 due SIGPIPE being
sent at some point[1].

It also depends on two other changes, in order to ensure we won't get
any ""sudo"" issues inside the checks (here again, healthcheck_port is
tricky).

[1] https://stackoverflow.com/questions/19120263/why-exit-code-141-with-grep-q
    http://www.tldp.org/LDP/lpg/node20.html

Depends-On: https://review.opendev.org/703818
Depends-On: https://review.opendev.org/703816
Change-Id: Iada9fb49881c8edc9c6ede46a939d1853204f896
Closes-Bug: #1860556
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1794044
"
openstack%2Fcharm-hacluster~master~Id9167534e8933312c561a6acba40399bca437706,openstack/charm-hacluster,master,bug/1859150,Id9167534e8933312c561a6acba40399bca437706,Stop HA services accross units for series upgrade,MERGED,2020-01-16 14:45:53.000000000,2020-01-31 08:17:31.000000000,2020-01-31 08:17:31.000000000,356,3,9,702880,d3512ef320e298142bfe9a3c3e96f342ab9a4cc6,32,5,5,5,12549,gnuoy,gnuoy,"Stop HA services accross units for series upgrade

Stop HA services accross all units of an application when doing a
series upgrade to avoid the situation where the cluster has some
nodes on LTS N-1 and some on LTS N.

1) In the 'pre-series-upgrade' send a notification to peers informing
   them that the unit is doing a series upgrade and to which Ubuntu
   version.
2) Peers receive notification. If they are on a later Ubuntu version
   than the one in the notification then they do nothing. Otherwise
   they shutdown corosync and pacemaker and add an entry to the local
   kv store with waiting-unit-upgrade=True.
3) In the 'post-series-upgrade' hook the notification is removed from
   the peer relation. waiting-unit-upgrade is set to False and
   corosync and pacemaker are started.

The result of this is that when the first unit in the cluster starts
a series upgrade all cluster services are shutdown across all units.
They then rejoin the cluster one at a time when they have been
upgraded to the new version.

I added the waiting-unit-upgrade key to deal with the situation where
the first node clears the notification after it has successfully
upgraded, with out the waiting-unit-upgrade the peers would not know
they were in a mixed Ubuntu version cluster.

Change-Id: Id9167534e8933312c561a6acba40399bca437706
Closes-Bug: 1859150
"
openstack%2Ftripleo-heat-templates~master~I3aa774c06d91a3b67726fad0d0ca409cda5b78b9,openstack/tripleo-heat-templates,master,1860971,I3aa774c06d91a3b67726fad0d0ca409cda5b78b9,Create qemu user/group on controller,MERGED,2020-01-27 10:57:54.000000000,2020-01-31 07:56:31.000000000,2020-01-30 02:55:14.000000000,16,1,0,704303,b8c6154e7afda5525be00189afde15dac649a7b2,30,14,2,1,20733,Rajesh Tailor,rajesht,"Create qemu user/group on controller

Deployment is failing with error [1] because the owner/group
of the TLS generated certificate and key were set to 'qemu'.
This user and group exist on compute nodes, but not on controller.
[1] Error: Could not find group qemu""

This patch adds 'qemu' user/group on controller node to
resolve the issue as this user is required to retrieve the cert,
used by the VNC proxy, the same way as on the compute nodes.

Change-Id: I3aa774c06d91a3b67726fad0d0ca409cda5b78b9
Closes-Bug: #1860971
"
openstack%2Fproject-config~master~Ib1ed516df24ee113322f791bbbeab6286d34967e,openstack/project-config,master,static-services,Ib1ed516df24ee113322f791bbbeab6286d34967e,Artifact to AFS publishing - don't use archive flag,MERGED,2020-01-31 06:25:30.000000000,2020-01-31 07:35:06.000000000,2020-01-31 07:28:07.000000000,8,0,0,705159,89e400b98e1198529b459931532fa590402dcf80,7,2,1,1,7118,Ian Wienand,iwienand,"Artifact to AFS publishing - don't use archive flag

The -a flag to rsync tries to maintain owner and group permissions
which doesn't work copying to AFS.

This sets the flags to the same as the upload-afs role at [1]

https://opendev.org/zuul/zuul-jobs/src/commit/fc27907b987fc7d4adfa5ca07f3801d589e3b344/roles/upload-afs/library/zuul_afs.py#L78

Change-Id: Ib1ed516df24ee113322f791bbbeab6286d34967e
"
openstack%2Fcharm-percona-cluster~master~I5d8ed7d3935db5568c50f8d585e37a4d0cc6914f,openstack/charm-percona-cluster,master,notify-clients-maitenace,I5d8ed7d3935db5568c50f8d585e37a4d0cc6914f,Notify clients of series upgrade,MERGED,2020-01-29 06:32:37.000000000,2020-01-31 07:24:07.000000000,2020-01-31 07:24:07.000000000,216,9,0,704730,8443c165f9c5e4d043cba20b790a3407979f104f,14,4,2,10,12549,gnuoy,gnuoy,"Notify clients of series upgrade

When the percona cluster is undergoing a series upgrade, clients
should suspend db activity in their hooks (like db migrations).

This change sents a notification of upgrade down the shared-db
relation which clients can then react to.

Change-Id: I5d8ed7d3935db5568c50f8d585e37a4d0cc6914f
"
openstack%2Fglance~master~Ieecfb11928f74a504b35172a2c96d3a8cba057c0,openstack/glance,master,,Ieecfb11928f74a504b35172a2c96d3a8cba057c0,fix properties' missing underline for VirtCPUTopology,MERGED,2019-09-04 04:04:06.000000000,2020-01-31 06:20:05.000000000,2020-01-28 05:31:28.000000000,3,3,0,679895,da277c583a2b9a311c4ba66c5856e501944e11d8,12,9,1,1,24849,yao ning,mslovy,"fix properties' missing underline for VirtCPUTopology

According to the docs:
https://opendev.org/openstack/nova-specs/src/branch/master/specs/juno/implemented/virt-driver-vcpu-topology.rst,
cpu_maxsockets, cpu_maxcores, cpu_maxthreads should be cpu_max_sockets, cpu_max_cores, cpu_max_threads.

Change-Id: Ieecfb11928f74a504b35172a2c96d3a8cba057c0
Signed-off-by: Ning Yao <yaoning@unitedstack.com>
"
openstack%2Fproject-config~master~Iea71bb8e583daa31ab2dcbe08b9a84cb3ba0863f,openstack/project-config,master,static-services,Iea71bb8e583daa31ab2dcbe08b9a84cb3ba0863f,Artifact publishing to AFS - don't use upload-afs,MERGED,2020-01-31 03:58:47.000000000,2020-01-31 06:08:59.000000000,2020-01-31 06:00:09.000000000,8,6,0,705156,c7225ad04285375625ed17c7efd295016beae9aa,8,2,1,2,7118,Ian Wienand,iwienand,"Artifact publishing to AFS - don't use upload-afs

The upload-afs role has a range of features for publishing
documentation trees that we don't need -- we just want a straight copy
of the artifacts/ directory to the output location.  Just use a
hard-coded synchronize: call.

Change-Id: Iea71bb8e583daa31ab2dcbe08b9a84cb3ba0863f
"
openstack%2Fswift~master~I60d4ad62c7d14ed15e114ed95102a2368c48f9f4,openstack/swift,master,704481,I60d4ad62c7d14ed15e114ed95102a2368c48f9f4,Authors/changelog for swift 2.24.0,MERGED,2020-01-28 01:10:32.000000000,2020-01-31 05:59:02.000000000,2020-01-31 05:57:24.000000000,169,0,4,704481,5cd854b783ce80356ec62e709f0817cbe699c8cd,17,4,3,3,15343,Tim Burke,tburke,"Authors/changelog for swift 2.24.0

Change-Id: I60d4ad62c7d14ed15e114ed95102a2368c48f9f4
"
openstack%2Fdevstack~master~Ia2b7e2e33d784560443131e2965f520b361a54e3,openstack/devstack,master,bug/1860753,Ia2b7e2e33d784560443131e2965f520b361a54e3,Switch to python3 for memory_peak service,MERGED,2020-01-24 05:49:25.000000000,2020-01-31 05:58:32.000000000,2020-01-31 05:57:23.000000000,1,3,18,704104,3555b48ff45a109e6456923d597fa174084387ab,55,15,13,2,27329,Federico Ressi,fressi_redhat,"Switch to python3 for memory_peak service

When starting 'memory_peak' service is using python command instead of
python3, while psutil (required package) is most probably being
installed into the python3 environment (as we are dropping python2.7
support).

Closes-Bug: #1860753
Change-Id: Ia2b7e2e33d784560443131e2965f520b361a54e3
"
openstack%2Fdevstack~master~Ib7bb8b0a3dcf747bcc06da1a2fb17fa9d8808484,openstack/devstack,master,,Ib7bb8b0a3dcf747bcc06da1a2fb17fa9d8808484,Add -r option when removing egg-info files/folders,MERGED,2020-01-30 13:41:16.000000000,2020-01-31 05:57:27.000000000,2020-01-31 05:56:07.000000000,3,3,0,705005,7611d3dfd2e1f68bf11027756fd5b217d5ae9640,12,8,1,1,20775,Carlos Camacho,ccamacho,"Add -r option when removing egg-info files/folders

We are hitting this error:
+ tools/fixup_stuff.sh:fixup_ubuntu:82 :
    sudo rm -f /usr/lib/python3/dist-packages/httplib2-0.11.3.egg-info
rm: cannot remove
    '/usr/lib/python3/dist-packages/httplib2-0.11.3.egg-info': Is a directory

This patch adds the -r option to allow removing folders.

Change-Id: Ib7bb8b0a3dcf747bcc06da1a2fb17fa9d8808484
"
openstack%2Fzaqar~master~I149c8fe7ef4b6628f910943587ab4302cc371441,openstack/zaqar,master,cleanup,I149c8fe7ef4b6628f910943587ab4302cc371441,Fix exception mishandling,MERGED,2019-05-29 22:17:31.000000000,2020-01-31 05:29:51.000000000,2020-01-31 05:28:22.000000000,231,241,3,662103,e135e439350390c8ee3d5bd8478799acbcb7673a,11,4,1,42,11904,Sean McGinnis,SeanM,"Fix exception mishandling

There were a lot of instances of exceptions being raised or logged
incorrectly.

When reraising an exception, ""raise"" should be called, not ""raise ex"".
The second form will cause the original traceback to be modified to the
new location.

LOG.exception is the same as LOG.error with the additional behavior of
logging any exception that is in the current scope. Therefore, doing
something like ""LOG.exception(ex)"" is redundant and causes the exception
message to be logged twice. Logging should be done with some sort of
textual message without the exception object.

Change-Id: I149c8fe7ef4b6628f910943587ab4302cc371441
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fcinder-specs~master~Id6cc95b39e8ab0d295624a6ea743de9113b09753,openstack/cinder-specs,master,,Id6cc95b39e8ab0d295624a6ea743de9113b09753,Add backup id to volume's metadata,MERGED,2020-01-03 02:16:14.000000000,2020-01-31 05:06:59.000000000,2020-01-30 22:17:17.000000000,123,0,69,700977,0275b38aa48f7583498dc0f1e6e9430e5fd87081,88,13,22,1,30092,Xuan Yandong,xuanyandong,"Add backup id to volume's metadata

When the backup restore chooses to create a new volume,
record 'src_backup_id' in the volume metadata.

Implements: blueprint add-volume-backup-id

Change-Id: Id6cc95b39e8ab0d295624a6ea743de9113b09753
"
openstack%2Fopenstack-helm-infra~master~Ifc988002711d34186975988abb33ecd8a9a2fba4,openstack/openstack-helm-infra,master,rally-tests-cleanup,Ifc988002711d34186975988abb33ecd8a9a2fba4,Add ability to add rally cleanup script,MERGED,2019-09-21 05:58:29.000000000,2020-01-31 03:31:25.000000000,2020-01-31 03:29:00.000000000,5,4,0,683759,a6b1bd293dbc836be878b76e76b889920ffcf335,23,7,5,1,20466,Tin Lam,tinlam,"Add ability to add rally cleanup script

This patch set provides a way to specify clean up scripts for rally tests
to clean up orphaned resources in the event of rally test failures.

Change-Id: Ifc988002711d34186975988abb33ecd8a9a2fba4
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fopenstack-helm~master~Id9e8d6d6dda46559be3909763644ad1740bd6e3d,openstack/openstack-helm,master,,Id9e8d6d6dda46559be3909763644ad1740bd6e3d,Change default image for glance_metadefs_load,MERGED,2020-01-27 19:22:50.000000000,2020-01-31 03:18:15.000000000,2020-01-31 03:16:36.000000000,7,1,0,704398,f14906276a955e448c8702b8bb464ca08c882daf,12,5,2,7,8863,Andrii Ostapenko,aostapenko,"Change default image for glance_metadefs_load

Change-Id: Id9e8d6d6dda46559be3909763644ad1740bd6e3d
"
openstack%2Fproject-config~master~Id197d01af5b9839107f2e9c69ed1b2b695541425,openstack/project-config,master,static-services,Id197d01af5b9839107f2e9c69ed1b2b695541425,openstack-artifacts-with-afs: fix typo,MERGED,2020-01-31 02:53:20.000000000,2020-01-31 03:12:59.000000000,2020-01-31 03:10:54.000000000,1,1,0,705149,0c9523f5da656a809ceae79be1366eab5852edbc,7,2,1,1,7118,Ian Wienand,iwienand,"openstack-artifacts-with-afs: fix typo

Change-Id: Id197d01af5b9839107f2e9c69ed1b2b695541425
"
openstack%2Fproject-config~master~Ie867178a7ab86f97da14eccc90f86dce06b78406,openstack/project-config,master,static-services,Ie867178a7ab86f97da14eccc90f86dce06b78406,Artificat to AFS testing - crete artifact on localhost,MERGED,2020-01-31 02:30:45.000000000,2020-01-31 02:52:15.000000000,2020-01-31 02:48:25.000000000,2,1,0,705145,e46f7ae94531df20ec49f74a31b1a250f78c0f45,7,2,1,1,7118,Ian Wienand,iwienand,"Artificat to AFS testing - crete artifact on localhost

This only needs to happen on the executor

Change-Id: Ie867178a7ab86f97da14eccc90f86dce06b78406
"
openstack%2Fopenstack-helm-infra~master~Iaaef308075cf4ffbd0e822548749c89c76ee9374,openstack/openstack-helm-infra,master,feature-gate,Iaaef308075cf4ffbd0e822548749c89c76ee9374,[Gate] Feature gate,ABANDONED,2020-01-07 22:17:48.000000000,2020-01-31 02:51:20.000000000,,12,2,4,701466,1f3eb16723653cf13bb5a7f046857e9e9b47009d,14,6,3,2,20466,Tin Lam,tinlam,"[Gate] Feature gate

Move the feature gate parameters from the loading script(s) to
the Zuul job YAML.

Change-Id: Iaaef308075cf4ffbd0e822548749c89c76ee9374
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fmistral-dashboard~master~Ia3ff24c76fd54b6fd3931bf63c91c6f5c69381f3,openstack/mistral-dashboard,master,pagination-objects,Ia3ff24c76fd54b6fd3931bf63c91c6f5c69381f3,Add pagination for objects in mistral,NEW,2019-09-11 12:13:49.000000000,2020-01-31 02:45:25.000000000,,241,7,2,681453,66532255fe6e2f35b114a881014abe0798da1b94,11,4,4,5,28691,Bo Tran,ministry,"Add pagination for objects in mistral

Currently, If we use horizon to show action executions or task
executions, ... We will receive so many result of actions, ...
returned.
So, I think we need do pagination for them.

Change-Id: Ia3ff24c76fd54b6fd3931bf63c91c6f5c69381f3
"
openstack%2Fnova~stable%2Fstein~I0322d872bdff68936033a6f5a54e8296a6fb3434,openstack/nova,stable/stein,bug/1763766,I0322d872bdff68936033a6f5a54e8296a6fb3434,Block rebuild when NUMA topology changed,MERGED,2020-01-16 19:59:44.000000000,2020-01-31 02:36:44.000000000,2020-01-31 02:34:40.000000000,320,4,17,702972,9f57d16f38f0290718e3ba78393d064746f7e527,50,8,3,7,11604,sean mooney,sean-k-mooney,"Block rebuild when NUMA topology changed

If the image change during a rebuild it's possible for the request
NUMA topology to change. As a rebuild uses a noop claim in the
resource tracker the NUMA topology will not be updated as part of
a rebuild.

If the NUMA constraints do not change, a rebuild will continue as normal.
If the new constraints conflict with the existing NUMA constraints of the
instance the rebuild will be rejected without altering the status of the
instance.

This change introduces an API check to block rebuild when the NUMA
requirements for the new image do not match the existing NUMA constraints.
This is in line with the previous check introduced to prevent the rebuild of
volume-backed instances which similarly are not supported.

This change adds functional tests to assert the expected behaviour of
rebuilding NUMA instances with new images. This change also asserts that
in place rebuilds of numa instances is currently not supported.

Conflicts:
    nova/api/openstack/compute/servers.py
    nova/tests/functional/libvirt/test_numa_servers.py

NOTE(sean-k-mooney): due to the lack of
Ifcda7336d56c9b623720ee018ec5697740986273 the Fake HostInfo objects
created in the functional tests were updated to use the NUMAHostInfo
class. Prior to Ifcda7336d56c9b623720ee018ec5697740986273 the
Fake HostInfo class did not construct a numa topology from the kwargs
and instead only set a numa topology if it was passed in during
construction. In older release the initialization of the numa
topology from kwargs was a feature of NUMAHostInfo.
The servers.py conflicts are due to a lack of
I5576fa2a67d2771614266022428b4a95487ab6d5 in Stein.

Closes-Bug: #1763766
Partial-implements: blueprint inplace-rebuild-of-numa-instances
Change-Id: I0322d872bdff68936033a6f5a54e8296a6fb3434
(cherry picked from commit 6f5358ac1992b17b7f3f99d9a32290e0d4740dae)
(cherry picked from commit 745de99063bf77704a7f0610fe9e3647257eaa50)
"
openstack%2Fzun~master~I9e4b51821f71768f52898290ced69d3849805415,openstack/zun,master,,I9e4b51821f71768f52898290ced69d3849805415,Refactor container driver,MERGED,2020-01-19 20:11:34.000000000,2020-01-31 02:32:11.000000000,2020-01-31 02:30:47.000000000,113,108,0,703303,83dbf2d5c4f2f607aa2134ceb492ead8c30c72dd,12,2,4,4,11536,hongbin,hongbin,"Refactor container driver

Introduce a BaseDriver class that is the base class of all drivers.

Change-Id: I9e4b51821f71768f52898290ced69d3849805415
"
openstack%2Ftripleo-validations~stable%2Fqueens~I535618b726db49505c3ba56c12daf99201111ac8,openstack/tripleo-validations,stable/queens,,I535618b726db49505c3ba56c12daf99201111ac8,Fix default ceph-ansible repo,MERGED,2020-01-30 08:43:49.000000000,2020-01-31 02:31:48.000000000,2020-01-31 02:31:47.000000000,1,1,4,704941,df05c075d4eb580968d4d208ca1d7013111efafa,13,6,1,1,25402,Francesco Pantano,fmount,"Fix default ceph-ansible repo

Queens comes with ceph luminous, so this patch
just fix the default repo variable.

Change-Id: I535618b726db49505c3ba56c12daf99201111ac8
"
openstack%2Ftripleo-validations~stable%2Frocky~Ib80b55cbd0d4b4dd83d8dbc9dc2afe1d6df2ede5,openstack/tripleo-validations,stable/rocky,sync_validations,Ib80b55cbd0d4b4dd83d8dbc9dc2afe1d6df2ede5,Sync 'validations/ceph-ansible-installed.yaml' with the new role,MERGED,2020-01-23 07:03:25.000000000,2020-01-31 02:31:48.000000000,2020-01-31 02:31:48.000000000,14,0,1,703926,1bdafd5281bd0a2b48551690590711c0d75149fe,21,5,3,1,25402,Francesco Pantano,fmount,"Sync 'validations/ceph-ansible-installed.yaml' with the new role

Closes-Bug: 1857460
Change-Id: Ib80b55cbd0d4b4dd83d8dbc9dc2afe1d6df2ede5
(cherry picked from commit 716a3083232ca137ed617ada73f49a6fe5a6869b)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Id309e812f7dc8d66bd4912fce282ce72350fcbf8,openstack/tripleo-heat-templates,stable/stein,fix_keepalived_log-stable/stein,Id309e812f7dc8d66bd4912fce282ce72350fcbf8,Fix keepalived logging on disk,MERGED,2020-01-30 03:05:40.000000000,2020-01-31 02:31:46.000000000,2020-01-31 02:31:46.000000000,1,1,0,704918,53364fd7a1cfee3e9272f7e7f7880819bfe204f2,7,4,1,1,3153,Emilien Macchi,emilienm,"Fix keepalived logging on disk

There are no logs under /var/log/containers/keepalived even though we
explicitly try to capture logs on file for the keepalived container:

 [root@undercloud-0 ~]# podman exec -it keepalived sh -c 'ps -ax'
    PID TTY STAT TIME COMMAND
      1 ? Ss 0:00 dumb-init --single-child -- /usr/local/bin/kolla_start
      8 ? S 0:00 /usr/sbin/keepalived -nldD | tee -a /var/log/keepalived.log
     12 ? S 2:18 /usr/sbin/keepalived -nldD | tee -a /var/log/keepalived.log

The reason this is broken is that 'tee' is not passed to a shell but
ends up being an ignored argument of keepalived. Notice how there is no
shell process and also no tee process in the container above.

To fix that we need to pass the proper commands to a shell. This is done
in a special way like we did for the haproxy container so that kolla
does not mangle quotes and spaces.

After this fix we correctly see that the container logs on disk:
[root@undercloud-0 container-puppet]# ls -l /var/log/containers/keepalived/
-rw-r--r--. 1 root root 17483 Jan 28 15:55 keepalived.log

While we're at it we remove the usage of tee. It makes no sense to
log both on file and on stdout/stderr.

Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>

Change-Id: Id309e812f7dc8d66bd4912fce282ce72350fcbf8
Closes-Bug: #1861169
(cherry picked from commit 547a510f63e9e7aa2cd41e050c94fc7077fb86f4)
"
openstack%2Fproject-config~master~Ic08543cd586cb00eda8fcd507e2de49aa69fd19c,openstack/project-config,master,static-services,Ic08543cd586cb00eda8fcd507e2de49aa69fd19c,Artifact to AFS testing - remove newrev,MERGED,2020-01-31 02:10:54.000000000,2020-01-31 02:29:50.000000000,2020-01-31 02:26:29.000000000,1,1,0,705144,3928d4828dba627b2d97fe3b52625ecc8c4aed93,7,2,1,1,7118,Ian Wienand,iwienand,"Artifact to AFS testing - remove newrev

Avoid

 The error was: 'dict object' has no attribute 'newrev'

by using just zuul.change

Change-Id: Ic08543cd586cb00eda8fcd507e2de49aa69fd19c
"
openstack%2Fcookbook-openstack-dns~master~Ibeb6f0d43313478eff1054552df48f96c7ec589d,openstack/cookbook-openstack-dns,master,named-setup,Ibeb6f0d43313478eff1054552df48f96c7ec589d,Add missing ChefSpec tests and other various fixes,MERGED,2020-01-25 23:55:01.000000000,2020-01-31 02:11:53.000000000,2020-01-31 02:11:53.000000000,789,31,7,704236,9a5b6fe6d77ab556dde123e8c3920ce0e0ba63b9,31,3,4,33,21961,Lance Albertson,ramereth,"Add missing ChefSpec tests and other various fixes

We probably should move the dashboard recipe to the openstack-dashboad
cookbook in another patch since we have fwaas and lbaas there as well.

Other changes include:
- Add missing cookbooks required for openstack-chef CI
- Add missing openstack-network dependency needed for the neutron_int
  recipe
- Add missing mdns, producer and worker services for RHEL platform
- Ensure all servers start as well as be enabled
- Add rndc_key attribute for setting the path of the rndc.key

Depends-On: https://review.opendev.org/702772
Change-Id: Ibeb6f0d43313478eff1054552df48f96c7ec589d
"
openstack%2Fcookbook-openstack-ops-messaging~master~Ife1b939c1fac0fc90c30e1d2a425d568ea7e7fd3,openstack/cookbook-openstack-ops-messaging,master,berksfile-solver,Ife1b939c1fac0fc90c30e1d2a425d568ea7e7fd3,Set Berksfile to use ruby solver,MERGED,2020-01-24 01:18:15.000000000,2020-01-31 02:11:52.000000000,2020-01-31 02:11:52.000000000,2,0,0,704097,b5ebaa6fa97aa578f252b1d479a53f0b507675f5,10,3,1,1,21961,Lance Albertson,ramereth,"Set Berksfile to use ruby solver

This provides much better debugging output.

Depends-On: https://review.opendev.org/702772
Change-Id: Ife1b939c1fac0fc90c30e1d2a425d568ea7e7fd3
"
openstack%2Fcookbook-openstack-ops-database~master~I1a738e6f951b12b54bbc2eaf61d5b01ab70a1203,openstack/cookbook-openstack-ops-database,master,berksfile-solver,I1a738e6f951b12b54bbc2eaf61d5b01ab70a1203,Set Berksfile to use ruby solver,MERGED,2020-01-24 00:50:25.000000000,2020-01-31 02:11:52.000000000,2020-01-31 02:11:51.000000000,2,0,0,704095,ceccaadf8a71f5087e111a2456f017aa86880e59,9,3,1,1,21961,Lance Albertson,ramereth,"Set Berksfile to use ruby solver

This provides much better debugging output.

Depends-On: https://review.opendev.org/702772
Change-Id: I1a738e6f951b12b54bbc2eaf61d5b01ab70a1203
"
openstack%2Fcookbook-openstack-orchestration~master~I381af7639cc0d0a834c391b1b12f26ef7300bb4d,openstack/cookbook-openstack-orchestration,master,berksvendor-by-cookbook,I381af7639cc0d0a834c391b1b12f26ef7300bb4d,Include missing cookbooks in Berksfile,MERGED,2020-01-24 00:37:40.000000000,2020-01-31 02:11:51.000000000,2020-01-31 02:11:51.000000000,14,1,0,704094,dbf60084f5bdb80e46da75eff59121fb61821bb9,10,3,3,1,21961,Lance Albertson,ramereth,"Include missing cookbooks in Berksfile

This is for individual cookbook integration testing.

Depends-On: https://review.opendev.org/702772
Change-Id: I381af7639cc0d0a834c391b1b12f26ef7300bb4d
"
openstack%2Fcookbook-openstack-common~master~I32f254e78817a06ac061cfaaf2ab40559bee9a46,openstack/cookbook-openstack-common,master,berksvendor-by-cookbook,I32f254e78817a06ac061cfaaf2ab40559bee9a46,Set Berksfile to use ruby solver,MERGED,2020-01-23 23:23:48.000000000,2020-01-31 02:11:50.000000000,2020-01-31 02:11:50.000000000,3,2,0,704087,51716cb6ff1c7aac4bbf96615adf3a5baadcd1a7,15,3,3,1,21961,Lance Albertson,ramereth,"Set Berksfile to use ruby solver

This provides much better debugging output.

Depends-On: https://review.opendev.org/702772
Change-Id: I32f254e78817a06ac061cfaaf2ab40559bee9a46
"
openstack%2Fproject-config~master~I91c58786fb866b734d1dfdec061586f43ca7f2d2,openstack/project-config,master,static-services,I91c58786fb866b734d1dfdec061586f43ca7f2d2,Artificat to AFS testing - fix test job,MERGED,2020-01-31 01:43:24.000000000,2020-01-31 02:07:19.000000000,2020-01-31 02:03:37.000000000,1,1,0,705142,199ed5038962d37dae57b960f47c73ad243501bf,7,2,1,1,7118,Ian Wienand,iwienand,"Artificat to AFS testing - fix test job

Use the run phase for placing the dummy file.

Change-Id: I91c58786fb866b734d1dfdec061586f43ca7f2d2
"
openstack%2Fkolla~master~I210d9fddd6948dab1feb5abf59a50bce86f21f0f,openstack/kolla,master,bp/centos-rhel-8,I210d9fddd6948dab1feb5abf59a50bce86f21f0f,CentOS 8: Remove shellinabox from ironic-conductor,MERGED,2020-01-29 14:19:12.000000000,2020-01-31 02:07:03.000000000,2020-01-31 02:05:38.000000000,6,3,0,704813,397651ec4b5b93a55d0b8b8f69dfb37dd85cfc8d,17,5,1,2,14826,Mark Goddard,mgoddard,"CentOS 8: Remove shellinabox from ironic-conductor

shellinabox is used by ironic-conductor to provide a browser-based shell
to access the consoles of nodes. It is not used by all console drivers,
and is not used in the integration with nova serial consoles.

The package was previously installed from EPEL7, but is not currently
provided by EPEL8.

This change removes the package to allow the ironic-conductor image to
build.

Change-Id: I210d9fddd6948dab1feb5abf59a50bce86f21f0f
Partially-Implements: blueprint centos-rhel-8
"
openstack%2Faodh~master~Id2e9dbe600ff72e827171e51ccdec88a5e1cdc00,openstack/aodh,master,quota-doc,Id2e9dbe600ff72e827171e51ccdec88a5e1cdc00,Documentation about quota management,MERGED,2020-01-31 00:49:13.000000000,2020-01-31 02:06:35.000000000,2020-01-31 02:03:35.000000000,69,0,0,705140,6e5c918fc7760bc6a4a915c1f668458652054a1b,9,2,2,2,6732,Lingxian Kong,kong,"Documentation about quota management

Change-Id: Id2e9dbe600ff72e827171e51ccdec88a5e1cdc00
"
openstack%2Faodh~master~I1af381f357b0d80f68e3ead16e158428b7a14555,openstack/aodh,master,check-quota,I1af381f357b0d80f68e3ead16e158428b7a14555,Improve the quota check,MERGED,2020-01-30 22:57:11.000000000,2020-01-31 02:05:08.000000000,2020-01-31 02:03:34.000000000,211,24,0,705130,90a7c6eab2c897bb613bb3aa489f4c075370138a,9,2,2,4,6732,Lingxian Kong,kong,"Improve the quota check

- Check alarm quota by considering the quota setting in DB.
- Add more unit tests for quota API.

Change-Id: I1af381f357b0d80f68e3ead16e158428b7a14555
"
openstack%2Fcookbook-openstackclient~master~I58e1e50abc2b6d5847cc08d022a303f2993db8d8,openstack/cookbook-openstackclient,master,berksvendor-by-cookbook,I58e1e50abc2b6d5847cc08d022a303f2993db8d8,Include missing cookbooks in Berksfile,MERGED,2020-01-23 23:20:06.000000000,2020-01-31 01:56:15.000000000,2020-01-31 01:56:15.000000000,20,2,0,704086,cac2e5ba29593ded2656362ed286710c1c208fbf,17,3,2,1,21961,Lance Albertson,ramereth,"Include missing cookbooks in Berksfile

This is for individual cookbook integration testing.

Depends-On: https://review.opendev.org/702772
Change-Id: I58e1e50abc2b6d5847cc08d022a303f2993db8d8
"
openstack%2Fcookbook-openstack-network~master~Ib986e8df102ae3dcfff8f378c9b2f01f57eef102,openstack/cookbook-openstack-network,master,berksvendor-by-cookbook,Ib986e8df102ae3dcfff8f378c9b2f01f57eef102,Include missing cookbooks in Berksfile,MERGED,2020-01-23 23:07:15.000000000,2020-01-31 01:56:15.000000000,2020-01-31 01:56:15.000000000,12,1,0,704082,95e7167f78e8da4d64ec18833e417da3978067b9,13,3,2,1,21961,Lance Albertson,ramereth,"Include missing cookbooks in Berksfile

This is for individual cookbook integration testing.

Depends-On: https://review.opendev.org/702772
Change-Id: Ib986e8df102ae3dcfff8f378c9b2f01f57eef102
"
openstack%2Fcookbook-openstack-image~master~I868ec493b31b95aaff417a924bbec8206011def7,openstack/cookbook-openstack-image,master,berksvendor-by-cookbook,I868ec493b31b95aaff417a924bbec8206011def7,Include missing cookbooks in Berksfile,MERGED,2020-01-23 23:03:34.000000000,2020-01-31 01:55:37.000000000,2020-01-31 01:55:36.000000000,12,1,0,704081,900ea5b749f70a2dfa575c18cdfdf16312b6197d,14,3,3,1,21961,Lance Albertson,ramereth,"Include missing cookbooks in Berksfile

This is for individual cookbook integration testing.

Depends-On: https://review.opendev.org/702772
Change-Id: I868ec493b31b95aaff417a924bbec8206011def7
"
openstack%2Fpython-neutronclient~stable%2Ftrain~I4737d4bc4fa116f45e2361eba93f48feae0161a4,openstack/python-neutronclient,stable/train,fix-pep8-stable/train,I4737d4bc4fa116f45e2361eba93f48feae0161a4,Fix pep8 errors with hacking 2.0.0,MERGED,2020-01-29 16:34:58.000000000,2020-01-31 01:38:05.000000000,2020-01-31 01:36:47.000000000,5,5,0,704839,33ae5ad4e17fa4b38b5b7b0892d4ea8de2532361,9,4,1,2,1131,Brian Haley,brian-haley,"Fix pep8 errors with hacking 2.0.0

Change-Id: I4737d4bc4fa116f45e2361eba93f48feae0161a4
(cherry picked from commit 91fb009706526ed8d36ca8f2cf57f1763a9af520)
"
openstack%2Fcookbook-openstack-telemetry~master~Ie7e6d792a764314775c40d4489cfba05d5c483ce,openstack/cookbook-openstack-telemetry,master,apache2-refactor,Ie7e6d792a764314775c40d4489cfba05d5c483ce,Update to apache2 ~> 8.0 cookbook,MERGED,2020-01-14 19:43:17.000000000,2020-01-31 01:28:50.000000000,2020-01-31 01:28:50.000000000,590,329,0,702508,111d3621a9cc4eb4bbe51f885fc7351c92d41229,14,2,4,17,21961,Lance Albertson,ramereth,"Update to apache2 ~> 8.0 cookbook

This brings us up to date with the latest apache2 cookbook which
included a major refactor in 6.0.0 removing all of the definitions and
recipe with proper resources. Instead of using the apache2_default_site
resource, directly use a template and then enable the config file using
the apache2_site resource. This gives us the most flexibility.

Additional fixes:
- Install mod_wsgi as a package on RHEL since there is no built-in
  resource for it.
- Remove hack for restarting apache.
- Convert web_app to template and subscribe to restarting apache.
- Remove resources to restore SELinux contexts since this taken care of
  by Chef now automatically.
- Don't set SELinux to permissive on RHEL (I tested this works properly
  with it set to enforcing).
- Remove collector recipe as this service has been deprecated upstream.
- Add openstack-ceilometer-notification package for RHEL in
  agent_notification_packages as it was missing.
- Fix gnocchi-api_wsgi_and aodh-api_wsgi_file file on RHEL
- Remove openstack-aodh package in aodh_packages for RHEL as it does not
  exist
- Clean up arrays in attributes using %w(foo) instead of ['foo']
- Set group for upgrade scripts so it can read files properly on RHEL
- Add missing ChefSpec tests for aodh
- Include additional cookbooks in Berksfile required for CI

Depends-On: https://review.opendev.org/702772
Depends-On: https://review.opendev.org/701824
Change-Id: Ie7e6d792a764314775c40d4489cfba05d5c483ce
"
openstack%2Fcookbook-openstack-bare-metal~master~I198e2c211630e190bf2a992b3dc6b6c5afaf54e8,openstack/cookbook-openstack-bare-metal,master,apache2-refactor,I198e2c211630e190bf2a992b3dc6b6c5afaf54e8,Update to apache2 ~> 8.0 cookbook,MERGED,2020-01-15 02:09:19.000000000,2020-01-31 01:28:49.000000000,2020-01-31 01:28:49.000000000,296,50,0,702568,b643c5f620fbf5aa3f9d398cfcd4f3e69ef6008f,16,2,4,11,21961,Lance Albertson,ramereth,"Update to apache2 ~> 8.0 cookbook

This brings us up to date with the latest apache2 cookbook which
included a major refactor in 6.0.0 removing all of the definitions and
recipe with proper resources. Instead of using the apache2_default_site
resource, directly use a template and then enable the config file using
the apache2_site resource. This gives us the most flexibility.

Additional fixes:
- Install mod_wsgi as a package on RHEL since there is no built-in
  resource for it.
- Convert web_app to template and subscribe to restarting apache.
- Remove erroneous restart for ironic-api service on packages
- Properly set service password and auth URL
- Improve tests for ironic.conf
- Add missing apache2 depend
- Add missing api RHEL ChefSpec tests
- Include additional cookbooks in Berksfile required for CI

Depends-On: https://review.opendev.org/702772
Depends-On: https://review.opendev.org/701824
Change-Id: I198e2c211630e190bf2a992b3dc6b6c5afaf54e8
"
openstack%2Fcookbook-openstack-dashboard~master~Ib82595c27f03a7b456d5d5bfecc466f5ac199a5c,openstack/cookbook-openstack-dashboard,master,apache2-refactor,Ib82595c27f03a7b456d5d5bfecc466f5ac199a5c,Update to apache2 ~> 8.0 cookbook,MERGED,2020-01-14 17:24:22.000000000,2020-01-31 01:28:49.000000000,2020-01-31 01:28:49.000000000,161,191,3,702489,4e4bed1eedcec978ba9fc1cba18066c423dd502e,22,3,6,14,21961,Lance Albertson,ramereth,"Update to apache2 ~> 8.0 cookbook

This brings us up to date with the latest apache2 cookbook which
included a major refactor in 6.0.0 removing all of the definitions and
recipe with proper resources. Instead of using the apache2_default_site
resource, directly use a template and then enable the config file using
the apache2_site resource. This gives us the most flexibility.

Additional fixes:
- Remove or replace references to node['apache'] attributes
- Install mod_wsgi as a package on RHEL since there is no built-in
  resource for it.
- Don't set SELinux to permissive on RHEL (I tested this works properly
  with it set to enforcing).
- Remove hack for restarting apache.
- Convert web_app to template and subscribe to restarting apache.
- Remove resources to restore SELinux contexts since this taken care of
  by Chef now automatically.
- Include additional cookbooks in Berksfile required for CI

Depends-On: https://review.opendev.org/702772
Depends-On: https://review.opendev.org/701824
Change-Id: Ib82595c27f03a7b456d5d5bfecc466f5ac199a5c
"
openstack%2Fcookbook-openstack-compute~master~Ib404ab6bfcae3340fd7f0f924539ca6c445b55cf,openstack/cookbook-openstack-compute,master,apache2-refactor,Ib404ab6bfcae3340fd7f0f924539ca6c445b55cf,Update to apache2 ~> 8.0 cookbook,MERGED,2020-01-15 00:02:50.000000000,2020-01-31 01:28:48.000000000,2020-01-31 01:28:48.000000000,617,293,0,702558,868900d090dcce91a37bf72ff2cb43a88ffa9171,20,2,5,16,21961,Lance Albertson,ramereth,"Update to apache2 ~> 8.0 cookbook

This brings us up to date with the latest apache2 cookbook which
included a major refactor in 6.0.0 removing all of the definitions and
recipe with proper resources. Instead of using the apache2_default_site
resource, directly use a template and then enable the config file using
the apache2_site resource. This gives us the most flexibility.

Additional fixes:
- Install mod_wsgi as a package on RHEL since there is no built-in
  resource for it.
- Don't set SELinux to permissive on RHEL (I tested this works properly
  with it set to enforcing).
- Remove hack for restarting apache.
- Convert web_app to template and subscribe to restarting apache.
- Remove resources to restore SELinux contexts since this taken care of
  by Chef now automatically.
- Fix resource ordering in placement_api
- Improve ChefSpec tests
- Add missing placement_api RHEL tests
- Fix issues with chain file and cipher suite in in wsgi template
- Include additional cookbooks in Berksfile required for CI

Depends-On: https://review.opendev.org/702772
Depends-On: https://review.opendev.org/701824
Change-Id: Ib404ab6bfcae3340fd7f0f924539ca6c445b55cf
"
openstack%2Fcinder~stable%2Frocky~I0c26c400f08d91c8c125c69e06e4c90302bcdbb1,openstack/cinder,stable/rocky,,I0c26c400f08d91c8c125c69e06e4c90302bcdbb1,Increase cpu limit for image conversion,MERGED,2019-12-03 15:14:15.000000000,2020-01-31 01:14:14.000000000,2019-12-05 20:51:36.000000000,1,1,0,697110,ce951a3b586bc51a77422c3079637198f14ecb44,29,17,1,1,4523,Eric Harney,eharney,"Increase cpu limit for image conversion

The 8 second timeout is not always sufficient for
large images.

Bump to 30s, which matches what Nova currently
uses for this same limit.

Change-Id: I0c26c400f08d91c8c125c69e06e4c90302bcdbb1
Closes-Bug: #1705340
(cherry picked from commit 3566c5145ad676c7eb5952807f3ef1c44c142b74)
(cherry picked from commit fa6f7d3d319647bee17ebc9a390ae26c14f3650f)
(cherry picked from commit 186fb25d049a2136eb71f9fece81903450b22890)
"
openstack%2Fcookbook-openstack-block-storage~master~I289091f54750dd5068e98fd4f4853880f4b72c6c,openstack/cookbook-openstack-block-storage,master,apache2-refactor,I289091f54750dd5068e98fd4f4853880f4b72c6c,Update to apache2 ~> 8.0 cookbook,MERGED,2020-01-10 18:58:47.000000000,2020-01-31 00:58:54.000000000,2020-01-31 00:58:54.000000000,227,94,0,702027,873b58d13bcb4551347e2e31fb0597eab3b7d6b0,18,2,4,10,21961,Lance Albertson,ramereth,"Update to apache2 ~> 8.0 cookbook

This brings us up to date with the latest apache2 cookbook which
included a major refactor in 6.0.0 removing all of the definitions and
recipe with proper resources. Instead of using the apache2_default_site
resource, directly use a template and then enable the config file using
the apache2_site resource. This gives us the most flexibility.

Other changes:
- Remove selinux for depends as it's not being referenced anywhere in
  the cookbook
- Included more ChefSpec tests for api recipe
- Update WSGI template
- Include additional cookbooks in Berksfile required for CI

Depends-On: https://review.opendev.org/702772
Depends-On: https://review.opendev.org/701824
Change-Id: I289091f54750dd5068e98fd4f4853880f4b72c6c
"
openstack%2Fcookbook-openstack-identity~master~I717247217523e89251e4c0bead0c1a0d114ade2a,openstack/cookbook-openstack-identity,master,apache2-refactor,I717247217523e89251e4c0bead0c1a0d114ade2a,Update to apache2 ~> 8.0 cookbook,MERGED,2020-01-09 19:55:18.000000000,2020-01-31 00:30:37.000000000,2020-01-31 00:30:37.000000000,240,263,3,701824,453ab3bb95bb6a3c23f70352eea5529d88dacaec,42,3,12,8,21961,Lance Albertson,ramereth,"Update to apache2 ~> 8.0 cookbook

This brings us up to date with the latest apache2 cookbook which
included a major refactor in 6.0.0 removing all of the definitions and
recipe with proper resources. Instead of using the apache2_default_site
resource, directly use a template and then enable the config file using
the apache2_site resource. This gives us the most flexibility.

- Install mod_wsgi as a package on RHEL since there is no built-in
  resource for it.
- Don't set SELinux to permissive on RHEL (I tested this works properly
  with it set to enforcing).
- Remove hack for restarting apache.
- Convert web_app to template and subscribe to restarting apache.
- Remove resources to restore SELinux contexts since this taken care of
  by Chef now automatically.
- Remove unused references to log_debug in wsgi template
- Add missing WSGISocketPrefix to wsgi template
- Additional tests for keystone.conf and identity.conf
- Remove unused ldap section tests as we no longer have attributes for it
- Include additional cookbooks in Berksfile required for CI

Depends-On: https://review.opendev.org/702772

Change-Id: I717247217523e89251e4c0bead0c1a0d114ade2a
"
openstack%2Fproject-config~master~Ied96194e1904fee232e144a4e89ec8ba2252e42e,openstack/project-config,master,static-services,Ied96194e1904fee232e144a4e89ec8ba2252e42e,Testing publishing artifacts to AFS,MERGED,2020-01-30 03:58:13.000000000,2020-01-31 00:29:45.000000000,2020-01-31 00:28:38.000000000,68,0,5,704921,675bb510f1a3491bf14a6ded17faa5083395aeb9,16,4,3,5,7118,Ian Wienand,iwienand,"Testing publishing artifacts to AFS

This is part of our efforts to get tarball publishing onto AFS volumes
[1].

Test a new artifact publishing job that puts output at
/afs/.openstack.org/project/tarballs.opendev.org.  This is intended to
replace the existing publishing job when it is working.

[1] https://docs.opendev.org/opendev/infra-specs/latest/specs/retire-static.html

Change-Id: Ied96194e1904fee232e144a4e89ec8ba2252e42e
"
openstack%2Fneutron~stable%2Fstein~If0adb7ca4e254f5b19375b471679bcc18e0c7790,openstack/neutron,stable/stein,remove-iptables-hybrid-job,If0adb7ca4e254f5b19375b471679bcc18e0c7790,Remove one of iptables_hybrid jobs,MERGED,2020-01-29 13:23:14.000000000,2020-01-31 00:29:39.000000000,2020-01-31 00:26:16.000000000,0,8,0,704800,e40492d0dcf4481548483e08ce9874016013e650,21,7,1,1,21798,Bernard Cafarelli,bcafarel,"Remove one of iptables_hybrid jobs

In check queue there were 2 iptables_hybrid jobs. One was run on Ubuntu
and one on Fedora.
During the Shanghai PTG we agreed to remove one of those jobs and left
only one of them to be run in both check and gate queues.

This commit removes iptables_hybrid job based on Fedora image.

Fedora jobs also make less sense for stable branches (and it was
non-voting in this branch)

Conflicts:
	.zuul.yaml
	doc/source/contributor/testing/ci_scenario_jobs.rst

Change-Id: If0adb7ca4e254f5b19375b471679bcc18e0c7790
(cherry picked from commit a2fdf8aa72859be748918d56c819736b9ae048c2)
"
openstack%2Fneutron-tempest-plugin~master~Ib94518597bdf3d9f3049643d3242db632769de6b,openstack/neutron-tempest-plugin,master,,Ib94518597bdf3d9f3049643d3242db632769de6b,Adding pattern to check_remote_connectivity function,MERGED,2020-01-30 08:43:48.000000000,2020-01-31 00:26:18.000000000,2020-01-31 00:26:18.000000000,10,5,2,704940,f2b60545a585169f4d17653c024320f499cc8026,16,8,3,1,31291,Eduardo Olivares,eolivare,"Adding pattern to check_remote_connectivity function

Ping messages sent by this function will include a pattern of bytes
that are repeated until message size is completed.
Input format required is a string with hex digits.

This is useful when these messages are captured, in order to identify
and differentiate clearly messages from different tests.
It can be used to validate that traffic routing is not affected by
packet data as well.

Closes-Bug: #1861397

Change-Id: Ib94518597bdf3d9f3049643d3242db632769de6b
"
openstack%2Fopenstack-chef~master~Idebc87ebb6acad7d0af222fb9025fefcb9bf5a1e,openstack/openstack-chef,master,berksvendor-by-cookbook,Idebc87ebb6acad7d0af222fb9025fefcb9bf5a1e,Refactor integration tests,MERGED,2020-01-15 23:07:44.000000000,2020-01-31 00:00:37.000000000,2020-01-30 23:58:22.000000000,1558,192,1,702772,cbc1b9bcf4f4eac569fb8cb9d38f9493094b9479,53,3,28,99,21961,Lance Albertson,ramereth,"Refactor integration tests

This changes the logic so that we use the Berksfile in the cookbook
we're doing changes in instead of what's included in openstack-chef.
This should allow us to properly deal with cookbook dependencies in a
saner fashion with Gerrit without getting into depends-on hell.

This also required refactoring the Rakefile and roles used in Gerrit and
test-kitchen. Each cookbook now has their own role and test role which
includes specific Tempest configuration settings. This will require
updates in most cookbooks' Berksfile to include missing cookbook
dependencies such as ops-database, ops-messaging and integration-test.

Other major changes includes migrating to using InSpec for integration
testing instead of relying on simple commands included in the Rakefile.
I have replaced most of what was included in _run_basic_queries as
InSpec tests which also improves our coverage overall. Currently the
InSpec coverage is fairly basic and should probably include additional
tests, but in general it covers the following:

I've also added minimal non-voting jobs for both platforms so we can
catch any issue we might have missed downstream.

- Services are enabled and running
- Basic commands return sane output
- Openstack users, services and endpoints are correct

The all suites exclude running Tempest due to the fact that InSpec
doesn't have the ability to change the command timeout beyond 600
seconds [1] which is an issue I've run into. It's recommended to run
tempest manually when using test-kitchen.

NOTE: I haven't made any updates to the multi-node test-kitchen
environment in this patch and will plan on doing that later. I don't
believe this will break anything there.

Other various minor changes include:

- Replaced bare-metal cookbook with block-storage in minimal role
- Print out the command that run_command is going to run to help with
  debugging.
- Use different public_ip so that it doesn't interfere with people using
  10.0.0.0/24 locally (like me!).
- Add forwarded port to access Horizon
- Switch to using Chef 15 with test-kitchen
- Include log files from additional services that we were missing
- Add missing databag for aodh and telemetry_metric
- Include a real rndc key in the databag to assist with testing
- Use OSUOSL for EPEL mirror to work around public mirror issues

[1] https://github.com/inspec/inspec/issues/1675

Depends-On: https://review.opendev.org/703882

Change-Id: Idebc87ebb6acad7d0af222fb9025fefcb9bf5a1e
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I20d35affba9da511ed4a9566013868146d3fbf4c,openstack/tripleo-heat-templates,stable/rocky,bug/1861343,I20d35affba9da511ed4a9566013868146d3fbf4c,Add SSHD composable service to Networker role definition,MERGED,2020-01-29 22:05:19.000000000,2020-01-30 23:48:41.000000000,2020-01-30 23:48:41.000000000,1,0,0,704893,0b474e1733eaf118aa88caea42a4a68406cdb81a,7,4,1,1,14985,Alex Schultz,mwhahaha,"Add SSHD composable service to Networker role definition

The composable service OS::TripleO::Services::Sshd is
enabled by default in the overcloud but it is not included
in the default Networker.yaml role definition.

Closes-Bug: #1861343
Change-Id: I20d35affba9da511ed4a9566013868146d3fbf4c
(cherry picked from commit 37ea3303700eba9e8d73f45c2e0999c5d39e1132)
"
openstack%2Fwhitebox-tempest-plugin~master~If2fc9c808ca4310ff1e62f156797a44a18246b10,openstack/whitebox-tempest-plugin,master,ssh-port,If2fc9c808ca4310ff1e62f156797a44a18246b10,Add SSH tunneling gateway port parameter,MERGED,2020-01-27 19:22:57.000000000,2020-01-30 23:13:09.000000000,2020-01-30 23:13:09.000000000,7,2,2,704399,d6bc80732696985013973210e5ae7e3fcd0e0f04,19,4,2,2,27478,Archit Modi,amodi,"Add SSH tunneling gateway port parameter

Adding SSH gateway port number (defaults to 3306 for devstack job)
to enable tripleo, RHOS jobs in addition to devstack. With existing
code, the jobs for tripleo/RHOS fail as they don't listen on 3306 on
both ends

Change-Id: If2fc9c808ca4310ff1e62f156797a44a18246b10
"
openstack%2Fcookbook-openstack-integration-test~master~I0eb2247f163132ef343bbcf6f4cc80326b9704d9,openstack/cookbook-openstack-integration-test,master,refactor-testing,I0eb2247f163132ef343bbcf6f4cc80326b9704d9,Adjustments for per-cookbook testing,MERGED,2020-01-22 22:14:54.000000000,2020-01-30 23:12:14.000000000,2020-01-30 23:12:14.000000000,396,39,6,703882,3b3e8721fea0dc7a6fb581099f14246fd2d7a253,28,3,10,17,21961,Lance Albertson,ramereth,"Adjustments for per-cookbook testing

This provides some updates so that this cookbook can be run for
individual cookbooks depending on whether or not various services are
enabled or not. This is useful if you're wanting to test just keystone,
and don't need glance or nova just to do that.

Some other changes:

- Update catalog_type for volume to 'volumev3' which matches what we
  provide (We may want to change this back to 'volume' at some point).
- Create orchestration recipe to assist with testing heat.
- Create dns recipe to assist with testing designate.
- Remove unused cookbook dependencies for compute, block-storage and
  identity. These should get pulled in automatically with how we setup
  the test environment in openstack-chef.
- Blacklist
  tempest.api.compute.servers.test_create_server.ServersTestBootFromVolume
  test from running due to an issue with our cinder environment.

Change-Id: I0eb2247f163132ef343bbcf6f4cc80326b9704d9
"
openstack%2Fswift~master~I90682de945f48707a1a30d52ee5b2e5fb848d87c,openstack/swift,master,py3-urllib,I90682de945f48707a1a30d52ee5b2e5fb848d87c,"Use six.moves.urllib.parse.{,un}quote",ABANDONED,2018-12-01 20:53:01.000000000,2020-01-30 22:55:37.000000000,,4,4,0,621376,80fc7147f42fa6e5318f68eb00a89c2f2379b510,7,3,2,4,8122,Cyril Roelandt,cyril.roelandt.enovance,"Use six.moves.urllib.parse.{,un}quote

Change-Id: I90682de945f48707a1a30d52ee5b2e5fb848d87c
"
openstack%2Ftripleo-operator-ansible~master~I79be50ce14648efdc2b1cbba56cba5c98cc2fc3a,openstack/tripleo-operator-ansible,master,tripleo-overcloud-status,I79be50ce14648efdc2b1cbba56cba5c98cc2fc3a,Add overcloud status role,MERGED,2020-01-21 22:09:06.000000000,2020-01-30 22:55:29.000000000,2020-01-30 22:55:29.000000000,127,0,0,703700,b379c6672913a728e372201bf76f4c8ec89c9d59,14,3,4,6,14985,Alex Schultz,mwhahaha,"Add overcloud status role

Adds tripleo_overcloud_status role that can be used to collect the
overcloud deployment status.

Change-Id: I79be50ce14648efdc2b1cbba56cba5c98cc2fc3a
"
openstack%2Fproject-config~master~Ic16cc7d5e82a59b4e70829a9dade0035fe81a85e,openstack/project-config,master,static-services,Ic16cc7d5e82a59b4e70829a9dade0035fe81a85e,Move governance-uc jobs in-tree,MERGED,2020-01-29 08:52:28.000000000,2020-01-30 22:44:41.000000000,2020-01-30 22:44:41.000000000,0,6,0,704747,3a775533c58adf43f5599a6307ed5b8df210247d,10,5,1,1,6547,Andreas Jaeger,jaegerandi,"Move governance-uc jobs in-tree

Let's have all jobs together in-tree.

Depends-On: https://review.opendev.org/704746
Change-Id: Ic16cc7d5e82a59b4e70829a9dade0035fe81a85e
"
openstack%2Foctavia~master~I81f76afc7e3fa6f190c30f33198197cb627cce26,openstack/octavia,master,,I81f76afc7e3fa6f190c30f33198197cb627cce26,Fix unit test when run on CentOS 7,MERGED,2019-12-09 09:05:34.000000000,2020-01-30 22:37:54.000000000,2020-01-30 22:35:59.000000000,2,1,1,697958,f5eeb513b50295bbd9d03b64f031bdeda57927a8,11,6,1,1,6469,Carlos Gonçalves,cgoncalves,"Fix unit test when run on CentOS 7

Fix unit test test_cmd_get_version_of_installed_package_mapped when run
on a CentOS 7 system.

   testtools.matchers._impl.MismatchError: !=:
   reference = 'rpm -q --queryformat %{VERSION} haproxy'
   actual    = 'rpm -q --queryformat %{VERSION} haproxy18'

Change-Id: I81f76afc7e3fa6f190c30f33198197cb627cce26
"
openstack%2Fgovernance-uc~master~I1ea8efe0ca7042a32f697ddf9c1fc1ac1f7fa163,openstack/governance-uc,master,static-services,I1ea8efe0ca7042a32f697ddf9c1fc1ac1f7fa163,Import publishing job,MERGED,2020-01-29 08:51:10.000000000,2020-01-30 22:12:33.000000000,2020-01-30 22:10:10.000000000,3,0,0,704746,24c934d82ffd45e218047b26b548108af3fa1990,13,9,1,1,6547,Andreas Jaeger,jaegerandi,"Import publishing job

Let's have all jobs together in this repo, so import the promote job to
publish the content.

Change-Id: I1ea8efe0ca7042a32f697ddf9c1fc1ac1f7fa163
"
openstack%2Fdevstack~stable%2Fpike~I076a2ce374b8b0c5965c7bd6886821c3159cbc62,openstack/devstack,stable/pike,tempest-tag1,I076a2ce374b8b0c5965c7bd6886821c3159cbc62,Replace gerrit style Tempest ref to tag for TEMPEST_BRANCH,ABANDONED,2020-01-30 19:36:17.000000000,2020-01-30 21:37:54.000000000,,3,4,0,705099,a8de496d7cf0566b13274446e0238ee05036fe88,4,2,1,1,8556,Ghanshyam,ghanshyam,"Replace gerrit style Tempest ref to tag for TEMPEST_BRANCH

We used the gerrit style ref of Tempest to pin the Tempest
for stable branch. With Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78
we can direcrtly use the tag name.

Change-Id: I076a2ce374b8b0c5965c7bd6886821c3159cbc62
"
openstack%2Fcharm-neutron-openvswitch~master~I4848a3246d3450540acb8d2f479dfa2e7767be60,openstack/charm-neutron-openvswitch,master,bug/1831935,I4848a3246d3450540acb8d2f479dfa2e7767be60,Make ovs_use_veth a config option,MERGED,2020-01-07 23:24:34.000000000,2020-01-30 21:35:47.000000000,2020-01-30 21:35:47.000000000,184,262,2,701476,4075af6a1154246c9653549763e470bb74e7500f,42,7,10,11,20805,David Ames,thedac,"Make ovs_use_veth a config option

This was originally fixed in commit 7578326 but this caused problems. It
was subsequently reverted in commit 6d2e9ee.

This change uses a common DHCPAgentContext and takes care to check for a
pre-existing setting in the dhcp_agent.ini. Only allowing a config
change if there is no pre-existing setting.

Please review and merge charm-helpers PR:
https://github.com/juju/charm-helpers/pull/422

Partial-Bug: #1831935

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/157
Change-Id: I4848a3246d3450540acb8d2f479dfa2e7767be60
"
openstack%2Fdevstack~stable%2Fqueens~I4d841ab143bb7b100aca432539a9400c8cd60347,openstack/devstack,stable/queens,tempest-tag,I4d841ab143bb7b100aca432539a9400c8cd60347,Replace gerrit style Tempest ref to tag for TEMPEST_BRANCH,ABANDONED,2020-01-30 19:25:23.000000000,2020-01-30 21:33:44.000000000,,2,3,0,705096,5445f21c0b9819d1764ddda8145c3c6bc8dc0a31,4,2,1,1,8556,Ghanshyam,ghanshyam,"Replace gerrit style Tempest ref to tag for TEMPEST_BRANCH

We used the gerrit style ref of Tempest to pin the Tempest
for stable branch. With Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78
we can direcrtly use the tag name.

Change-Id: I4d841ab143bb7b100aca432539a9400c8cd60347
"
openstack%2Fdevstack~master~Icb52e66d9af5dba12d2599cec8e9407b3c5e13bd,openstack/devstack,master,fix-nova2,Icb52e66d9af5dba12d2599cec8e9407b3c5e13bd,Fix pip uncap fallout for nova and barbican(Fix2),ABANDONED,2020-01-28 19:40:09.000000000,2020-01-30 21:23:36.000000000,,9,8,0,704670,1c6a5974d072edf20ad5ef839cb04c9756a2d8ad,4,4,1,1,10379,Rajini Karthik,rajinir,"Fix pip uncap fallout for nova and barbican(Fix2)

Need to make PyYAML overridable on Ubuntu, we have
remove old installation for not only bionic
but for xenial too. The review https://review.opendev.org/703735
was fixing it only for bionic distro.

Depends-On: https://review.opendev.org/703735
Change-Id: Icb52e66d9af5dba12d2599cec8e9407b3c5e13bd
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id309e812f7dc8d66bd4912fce282ce72350fcbf8,openstack/tripleo-heat-templates,stable/train,fix_keepalived_log-stable/train,Id309e812f7dc8d66bd4912fce282ce72350fcbf8,Fix keepalived logging on disk,MERGED,2020-01-30 03:05:23.000000000,2020-01-30 20:44:26.000000000,2020-01-30 20:44:26.000000000,1,1,0,704917,a5e278ea9ec1b272268c43758d203b01206ea0ab,13,3,1,1,3153,Emilien Macchi,emilienm,"Fix keepalived logging on disk

There are no logs under /var/log/containers/keepalived even though we
explicitly try to capture logs on file for the keepalived container:

 [root@undercloud-0 ~]# podman exec -it keepalived sh -c 'ps -ax'
    PID TTY STAT TIME COMMAND
      1 ? Ss 0:00 dumb-init --single-child -- /usr/local/bin/kolla_start
      8 ? S 0:00 /usr/sbin/keepalived -nldD | tee -a /var/log/keepalived.log
     12 ? S 2:18 /usr/sbin/keepalived -nldD | tee -a /var/log/keepalived.log

The reason this is broken is that 'tee' is not passed to a shell but
ends up being an ignored argument of keepalived. Notice how there is no
shell process and also no tee process in the container above.

To fix that we need to pass the proper commands to a shell. This is done
in a special way like we did for the haproxy container so that kolla
does not mangle quotes and spaces.

After this fix we correctly see that the container logs on disk:
[root@undercloud-0 container-puppet]# ls -l /var/log/containers/keepalived/
-rw-r--r--. 1 root root 17483 Jan 28 15:55 keepalived.log

While we're at it we remove the usage of tee. It makes no sense to
log both on file and on stdout/stderr.

Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>

Change-Id: Id309e812f7dc8d66bd4912fce282ce72350fcbf8
Closes-Bug: #1861169
(cherry picked from commit 547a510f63e9e7aa2cd41e050c94fc7077fb86f4)
"
openstack%2Fopenstack-helm-addons~master~Ied86a3d137d6cff206eecbff5c33b7c0d50f90fb,openstack/openstack-helm-addons,master,,Ied86a3d137d6cff206eecbff5c33b7c0d50f90fb,Refactored ranger-agent-test pod,MERGED,2019-12-03 23:57:45.000000000,2020-01-30 20:42:15.000000000,2020-01-30 20:42:15.000000000,166,77,10,697202,cb8c4a9f072cbdc2c78f3e06da7c1f7bacba09cb,34,8,10,4,19391,Chi Lo,cl566n,"Refactored ranger-agent-test pod

This patch refactor ranger-agent-test pod to use python
module. It also fixes incompatible issue with the old
script that failed pod test with updated ranger-agent pod.

Change-Id: Ied86a3d137d6cff206eecbff5c33b7c0d50f90fb
"
openstack%2Fswift~master~Idf6c492d554a3ac3d38bd9dfc9c89494cae82bb1,openstack/swift,master,689599,Idf6c492d554a3ac3d38bd9dfc9c89494cae82bb1,Add py38 unit test job,MERGED,2019-10-18 22:15:22.000000000,2020-01-30 20:39:14.000000000,2020-01-30 20:32:51.000000000,24,0,0,689599,da5b94914302128c20b8ae9e3a2752a02ff29e73,14,3,2,1,15343,Tim Burke,tburke,"Add py38 unit test job

Depends-On: https://review.opendev.org/#/c/688594/
Change-Id: Idf6c492d554a3ac3d38bd9dfc9c89494cae82bb1
"
openstack%2Fswift~master~Id91fdd19f226e9ec0d9c702d40d041c385c52b88,openstack/swift,master,688594,Id91fdd19f226e9ec0d9c702d40d041c385c52b88,py38: cgi lost some names,MERGED,2019-10-15 01:35:15.000000000,2020-01-30 20:36:30.000000000,2020-01-30 20:32:49.000000000,29,21,2,688594,e3ee6ce31aed8d24fefdd20900d20688a12bb55d,19,3,6,4,15343,Tim Burke,tburke,"py38: cgi lost some names

Drive-by: always use quote=True; it basically never hurts.

Change-Id: Id91fdd19f226e9ec0d9c702d40d041c385c52b88
"
openstack%2Fdevstack~master~Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78,openstack/devstack,master,,Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78,Support TEMPEST_BRANCH with tag name,MERGED,2020-01-29 21:46:39.000000000,2020-01-30 20:34:25.000000000,2020-01-30 20:32:48.000000000,5,0,0,704891,e1c0406d10380f6ad3620fa9e12df8499a1010ac,15,5,1,1,8556,Ghanshyam,ghanshyam,"Support TEMPEST_BRANCH with tag name

TEMPEST_BRANCH which is mostly set as master so
that Tempest master is run to test the env. With
stable branch going to EM state and Tempest master
might not work due to incompatibility of code or
requirements. In that case we pin the Tempest so that
older Tempest can be used for their testing.

Till now for ocata, pike and, queens we used the gerrit style
ref to pin the Tempest which is not preferred way. We should be
able to use the tag name on TEMPEST_BRANCH.

This commit explicitly checkout the tag set in TEMPEST_BRANCH
as git_clone does not checkout the tag directly until RECLONE
is true or tempest dir does not exist.

After this stable branch or job can set the tag directly with name.
For exmaple: TEMPEST_BRANCH=23.0.0.

Change-Id: Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78
"
openstack%2Fopenstack-helm~master~I9a117bcddf84d996f10c5cd7a5ee8895f7333012,openstack/openstack-helm,master,headless-serv,I9a117bcddf84d996f10c5cd7a5ee8895f7333012,WIP - Headless Services - Cinder,ABANDONED,2020-01-22 03:45:34.000000000,2020-01-30 20:22:51.000000000,,3,0,0,703721,c1c956336d27d40db7ee0ddc1ed56bc9a5886a8f,5,2,1,2,21420,Gage Hugo,ghugo,"WIP - Headless Services - Cinder

Change-Id: I9a117bcddf84d996f10c5cd7a5ee8895f7333012
"
openstack%2Fkolla~master~Iaf5b68ff6d944ae730ca0b1d5832172c106a6c08,openstack/kolla,master,bp/centos-rhel-8,Iaf5b68ff6d944ae730ca0b1d5832172c106a6c08,CentOS 8: Update packages in images,MERGED,2019-12-17 13:44:17.000000000,2020-01-30 20:15:03.000000000,2020-01-30 20:13:03.000000000,165,128,10,699414,4b4e26262b9e03190c639481fb60a8f4f92c532a,73,7,10,18,14826,Mark Goddard,mgoddard,"CentOS 8: Update packages in images

* Some further changes for python2 vs python3 packages
* Allow rabbitmq 3.7.*, since a newer erlang is available
* Switch from qemu-img-ev to qemu-img on CentOS 8
* bridge-utils no longer available on CentOS 8
* libvirt-daemon-driver-lxc no longer available on CentOS 8
* Mark some more images buildable for CentOS 8

Change-Id: Iaf5b68ff6d944ae730ca0b1d5832172c106a6c08
Partially-Implements: blueprint centos-rhel-8
Partially-Implements: blueprint centos-rhel-python-3
"
openstack%2Fneutron~stable%2Ftrain~If0adb7ca4e254f5b19375b471679bcc18e0c7790,openstack/neutron,stable/train,remove-iptables-hybrid-job-stable/train,If0adb7ca4e254f5b19375b471679bcc18e0c7790,Remove one of iptables_hybrid jobs,MERGED,2020-01-29 13:08:59.000000000,2020-01-30 20:04:23.000000000,2020-01-30 20:00:23.000000000,0,12,0,704796,c36f1fc29283084d59e9c2d2cc609b44a21fd415,29,7,1,2,21798,Bernard Cafarelli,bcafarel,"Remove one of iptables_hybrid jobs

In check queue there were 2 iptables_hybrid jobs. One was run on Ubuntu
and one on Fedora.
During the Shanghai PTG we agreed to remove one of those jobs and left
only one of them to be run in both check and gate queues.

This commit removes iptables_hybrid job based on Fedora image.

Fedora jobs also make less sense for stable branches

Change-Id: If0adb7ca4e254f5b19375b471679bcc18e0c7790
(cherry picked from commit a2fdf8aa72859be748918d56c819736b9ae048c2)
"
openstack%2Fneutron-tempest-plugin~master~I39ca6474068d2e169dff1b81d2a0c71a8361c01f,openstack/neutron-tempest-plugin,master,bug/1861282,I39ca6474068d2e169dff1b81d2a0c71a8361c01f,Use different CIDRs for private and public subnets,MERGED,2020-01-29 10:12:23.000000000,2020-01-30 20:00:25.000000000,2020-01-30 20:00:25.000000000,38,9,9,704768,3e1921b48ad485669b3ab42002d08eb49f34f468,26,10,4,2,29088,Candido Campos Rivas,ccamposr,"Use different CIDRs for private and public subnets

In test ""test_connectivity_dvr_and_no_dvr_routers_in_same_subnet"", as
reported in the bug, the public IP (floating IP) and the private IP
are in the same CIDR. This breaks the isolation between networks.

Co-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>

Closes-Bug: #1861282

Change-Id: I39ca6474068d2e169dff1b81d2a0c71a8361c01f
"
openstack%2Fkolla~master~Ice120e8001fd9e8bb37ca4f2df26259cf798ee0e,openstack/kolla,master,bp/centos-rhel-8,Ice120e8001fd9e8bb37ca4f2df26259cf798ee0e,CentOS 8: disable repo_gpgcheck for grafana image,MERGED,2020-01-30 12:49:57.000000000,2020-01-30 19:43:19.000000000,2020-01-30 19:41:05.000000000,0,1,0,704999,05e2c43d6627a705e7f96be1eb5225c88f1c8e13,16,7,1,1,14826,Mark Goddard,mgoddard,"CentOS 8: disable repo_gpgcheck for grafana image

DNF does not seem to accept keys imported by rpm --import for signing a
repo (as opposed to packages). This causes it to prompt during package
install, which does not work without a terminal in the build container.

We have gpgcheck=1 for the grafana repo, so packages are at least
signed. We don't have repo_gpgcheck elsewhere, so it seems reasonable to
disable it for grafana.

Change-Id: Ice120e8001fd9e8bb37ca4f2df26259cf798ee0e
Partially-Implements: blueprint centos-rhel-8
"
openstack%2Fnova~stable%2Fstein~I14637d788205408dcf9a007d7727358c03033dcd,openstack/nova,stable/stein,bug/1763766,I14637d788205408dcf9a007d7727358c03033dcd,Remove 'test_cold_migrate_with_physnet_fails' test,MERGED,2020-01-16 19:59:44.000000000,2020-01-30 19:25:19.000000000,2020-01-30 19:22:17.000000000,0,58,1,702971,d41afc72761a13d86a99968add1418c1e80a91ee,32,7,2,1,11604,sean mooney,sean-k-mooney,"Remove 'test_cold_migrate_with_physnet_fails' test

This never actually worked. What we wanted to do was test a setup where
we had two hosts, one with the necessary configuration needed for a
specific request and one without, and attempt to cold migrate the
instance from the former to the latter resulting in a fail. However,
because it's not possible to use different configuration for different
hosts, we were attempting to ""break"" the configuration on one host.
Unfortunately, the driver correctly detects this broken behavior,
resulting in an error message like so:

  ERROR [nova.compute.manager] Error updating resources for node test_compute1.
  Traceback (most recent call last):
    File ""nova/compute/manager.py"", line 8524, in _update_available_resource_for_node
      startup=startup)
    File ""nova/compute/resource_tracker.py"", line 867, in update_available_resource
      resources = self.driver.get_available_resource(nodename)
    File ""nova/virt/libvirt/driver.py"", line 7907, in get_available_resource
      numa_topology = self._get_host_numa_topology()
    File ""nova/virt/libvirt/driver.py"", line 7057, in _get_host_numa_topology
      physnet_affinities = _get_physnet_numa_affinity()
    File ""nova/virt/libvirt/driver.py"", line 7039, in _get_physnet_numa_affinity
      raise exception.InvalidNetworkNUMAAffinity(reason=msg)
  InvalidNetworkNUMAAffinity: Invalid NUMA network affinity configured: node 1 for
  physnet foo is not present in host affinity set {0: set([])}

There isn't really an alternative. We can't configure compute nodes
separately so that's ruled out and the virt driver will correctly detect
any other attempts to break the configuration. Since the test never
actually worked, the correct thing to do seems to be to remove it.

NOTE(stephenfin): This was backported to make the backport of change
I0322d872bdff68936033a6f5a54e8296a6fb3434 cleaner, but it also applies
here.

Conflicts:
    nova/tests/functional/libvirt/test_numa_servers.py

NOTE(sean-k-mooney): Ifcda7336d56c9b623720ee018ec5697740986273
and I7bf4d0e14024e608cea6e20d25a2bcc9ab8af7aa are not present on stien
and result in the conflict in test_numa_servers.py

Change-Id: I14637d788205408dcf9a007d7727358c03033dcd
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit a4ca0b531cb3eabdeee6aab925220067ebd81172)
(cherry picked from commit 8b766d14cf979cd994d52db71267b93aacee42e8)
"
openstack%2Fpuppet-neutron~master~I682e22d56d65ec160a09780f6780467b1c8718ba,openstack/puppet-neutron,master,,I682e22d56d65ec160a09780f6780467b1c8718ba,Remove neutron::agents::metadata::metadata_ip,MERGED,2020-01-28 14:17:57.000000000,2020-01-30 19:21:46.000000000,2020-01-30 19:20:14.000000000,5,11,0,704579,e3c8f1423ba2f40b6f1e44cc082fddaebf17b439,9,4,1,2,16137,Tobias Urdin,tobasco,"Remove neutron::agents::metadata::metadata_ip

Deprecated in favor of metadata_host.

Change-Id: I682e22d56d65ec160a09780f6780467b1c8718ba
"
openstack%2Fnova~master~I30aae6128d30fdfeab7b5c73c12d70b86fe03fc3,openstack/nova,master,bug_1756118,I30aae6128d30fdfeab7b5c73c12d70b86fe03fc3,"Revert ""Skip cpu comparison on AArch64""",ABANDONED,2020-01-21 12:17:58.000000000,2020-01-30 19:16:28.000000000,,0,32,0,703596,b22d754b835f0d9de8521580d9be7209db59b20b,12,22,1,2,11604,sean mooney,sean-k-mooney,"Revert ""Skip cpu comparison on AArch64""

This reverts commit 4bb54ae86981d186e41dcc325d171ab951beb7b6.

Change-Id: I30aae6128d30fdfeab7b5c73c12d70b86fe03fc3
"
openstack%2Fmistral~master~I3df3ab96342c456429e20a905615b90bcb94818d,openstack/mistral,master,improve_performance,I3df3ab96342c456429e20a905615b90bcb94818d,Initialize profiler for scheduler threads,MERGED,2020-01-30 09:00:28.000000000,2020-01-30 19:12:53.000000000,2020-01-30 19:11:02.000000000,79,38,0,704943,511be4f98f27eacda8755ceb4cce360ffbb66b4c,14,7,2,5,8731,Renat Akhmerov,rakhmerov,"Initialize profiler for scheduler threads

* It turns out that osprofiler wasn't initialized properly for
  threads in which scheduler runs its jobs. So profiling simply
  didn't work for this threads and lots of important info didn't
  get to the profiler log. This patch fixes it.
* When evaluating a YAQL expression, sometimes we get a huge result
  value that we always put into the debug log. In practice, it doesn't
  make much sense and, moreover, it utilizes lots of CPU and disk
  space. It's better shrink it to some reasonable size that would
  allow to make necessary analysis, if needed.
* Other minor style fixes according to the Mistral coding guidelines.

Change-Id: I3df3ab96342c456429e20a905615b90bcb94818d
"
openstack%2Ftempest~master~I3b318935c7da9b5d2de94cde6a90d24e91df8dc3,openstack/tempest,master,,I3b318935c7da9b5d2de94cde6a90d24e91df8dc3,Tempest coverage for volume retype and attach,ABANDONED,2019-04-16 05:11:04.000000000,2020-01-30 19:05:53.000000000,,57,0,0,652823,64af73c71d5f77fc5e7a4a91ee71672f63c4996d,12,6,2,1,20813,Sofia Enriquez,enriquetaso,"Tempest coverage for volume retype and attach

Currently, we have test for retype volumes with
migrations. However, it would be nice if we perform
a cinder retype and then attempts to attach the
volume to an instance.

Change-Id: I3b318935c7da9b5d2de94cde6a90d24e91df8dc3
"
openstack%2Foslo.log~master~If6d6357501dfdff5a5edb53f24104e216607ea00,openstack/oslo.log,master,drop-py27-support,If6d6357501dfdff5a5edb53f24104e216607ea00,Drop python 2.7 support and testing,MERGED,2019-12-27 08:16:00.000000000,2020-01-30 18:52:51.000000000,2020-01-30 18:48:14.000000000,11,12,3,700689,2dd526d1ed0f1f886fff0c2edfc2929dc6f58d1b,21,5,4,5,27822,pengyuesheng,pengyuesheng,"Drop python 2.7 support and testing

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: If6d6357501dfdff5a5edb53f24104e216607ea00
Sem-Ver: api-break
"
openstack%2Foslo.service~master~I255de2a755b7783f20925d8ca4de6e34e5aee36b,openstack/oslo.service,master,base_python,I255de2a755b7783f20925d8ca4de6e34e5aee36b,tox: Trivial cleanup,MERGED,2019-12-20 10:12:25.000000000,2020-01-30 18:50:28.000000000,2020-01-30 18:46:43.000000000,3,10,1,700144,98955871361c024305f82d08756daf920f79f361,17,3,2,1,28522,Hervé Beraud,hberaud,"tox: Trivial cleanup

Move 'basepython' to the top-level 'testenv'.
Use the default 'install_command'

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

Change-Id: I255de2a755b7783f20925d8ca4de6e34e5aee36b
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Idd22c7b4403bb63c06d2ba714d851a976e830108,openstack/tripleo-heat-templates,stable/queens,queens,Idd22c7b4403bb63c06d2ba714d851a976e830108,Run update without yum update to apply hotfixes.,MERGED,2020-01-29 08:35:52.000000000,2020-01-30 18:35:01.000000000,2020-01-30 18:35:01.000000000,26,5,0,704743,b75796900441bd0a24e60bcc982c890897027b56,11,6,1,1,31245,Daniel Bengtsson,damani42,"Run update without yum update to apply hotfixes.

Add a new option to skip the yum update of all packages.

Change-Id: Idd22c7b4403bb63c06d2ba714d851a976e830108
(cherry picked from commit da3bf441aa49608698a4eb6c64793d8689e52a48)
"
openstack%2Fcharm-neutron-gateway~master~Ia01c637b0837a4e594d16f6565c605460ad3f922,openstack/charm-neutron-gateway,master,bug/1831935,Ia01c637b0837a4e594d16f6565c605460ad3f922,Make ovs_use_veth a config option,MERGED,2020-01-27 23:04:50.000000000,2020-01-30 18:17:08.000000000,2020-01-30 18:17:08.000000000,201,76,2,704462,a03fe36fa65b710b6cd8059b870c44204f3e3856,26,5,5,18,20805,David Ames,thedac,"Make ovs_use_veth a config option

This change uses a common DHCPAgentContext and takes care to check for a
pre-existing setting in the dhcp_agent.ini. Only allowing a config
change if there is no pre-existing setting.

Please review and merge charm-helpers PR:
https://github.com/juju/charm-helpers/pull/422

Partial-Bug: #1831935

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/157
Change-Id: Ia01c637b0837a4e594d16f6565c605460ad3f922
"
openstack%2Fkeystone~stable%2Fstein~Iddc364d8c934b6e54d1e8c75b8b159faadbf865d,openstack/keystone,stable/stein,,Iddc364d8c934b6e54d1e8c75b8b159faadbf865d,Ensure bootstrap handles multiple roles with the same name,MERGED,2019-12-18 18:46:54.000000000,2020-01-30 18:15:04.000000000,2020-01-30 18:11:39.000000000,39,0,7,699834,1ba238e49195890c0232554005d4efa670467694,28,5,3,3,5046,Lance Bragstad,ldbragst,"Ensure bootstrap handles multiple roles with the same name

The bootstrap logic doesn't take into consideration multiple roles
with the same name. If bootstrap is unable to determine which role to
use and accidentally uses a domain-specific role with the same name
as a default role, bootstrap will fail in unexpected ways.

Conflicts:
      keystone/tests/unit/test_cli.py
      Conflict exists because stable/stein doesn't have
      https://review.opendev.org/#/c/675228/ but it's unrelated to this
      specific bug fix.

Closes-Bug: 1856881
Change-Id: Iddc364d8c934b6e54d1e8c75b8b159faadbf865d
(cherry picked from commit 25cf359e5fb914b855922121f20e23bd14626b8e)
(cherry picked from commit 51ff7be731450c183b3e3eb6d34493e986cc2635)
"
openstack%2Fpython-tripleoclient~master~I13b69838aeae619dee392b52bf4cc0ab29aabe21,openstack/python-tripleoclient,master,master-remove-panko,I13b69838aeae619dee392b52bf4cc0ab29aabe21,"Revert ""Remove panko""",ABANDONED,2020-01-30 17:37:25.000000000,2020-01-30 17:38:20.000000000,,2,7,0,705072,5aae1a0a219db59597dc8e620aa36eab995fcdac,3,7,1,3,30357,Ryan McCabe,rmccabe,"Revert ""Remove panko""

This reverts commit 2241528f4fd154e1f64bdeb0748c07c810ee8314.

Change-Id: I13b69838aeae619dee392b52bf4cc0ab29aabe21
"
openstack%2Fpython-tripleoclient~master~I8849fda5c6a209913be79b668cbdb5e11dce1514,openstack/python-tripleoclient,master,master-remove-panko,I8849fda5c6a209913be79b668cbdb5e11dce1514,Remove panko,MERGED,2019-09-16 07:57:25.000000000,2020-01-30 17:37:25.000000000,2019-09-16 18:25:12.000000000,7,2,0,682290,2241528f4fd154e1f64bdeb0748c07c810ee8314,10,7,1,3,11491,Gael Chamoulaud,gchamoul,"Remove panko

This patch removes panko which has been deprecated in Train

Change-Id: I8849fda5c6a209913be79b668cbdb5e11dce1514
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fdevstack~stable%2Fqueens~Id4861830c46867b313a5a705fc4722ac13471777,openstack/devstack,stable/queens,bug/1859988,Id4861830c46867b313a5a705fc4722ac13471777,Use Tempest v21.0.0 for Queens testing instead of master,MERGED,2020-01-21 19:27:32.000000000,2020-01-30 17:35:57.000000000,2020-01-24 16:59:09.000000000,11,8,6,703679,4014fb8c5237701164b1422292aa611ad8fc741e,35,8,8,3,8556,Ghanshyam,ghanshyam,"Use Tempest v21.0.0 for Queens testing instead of master

Tempest and master and neutron-tempest-plugin queens tag is not
compatible for stable/queens testing.
More details on https://bugs.launchpad.net/tempest/+bug/1859988

Also py2 drop will start required the python 3.6 version for Tempest
master tests.

Because stable/queens is EM, let's pin the Tempest for its tesing
instead of putting more effort to make Tempest master run-able.

Tempest 21.0.0 is supported Tag for Queens so let's use that for Queens
testing instead of Tempest master.

Closes-Bug: 1859988

[1] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: Id4861830c46867b313a5a705fc4722ac13471777
"
openstack%2Fironic~stable%2Ftrain~I4f2cecdc0af366364b18232dbd8ea4ffdd3165d2,openstack/ironic,stable/train,whole-disk-install-bootloader-stable/train,I4f2cecdc0af366364b18232dbd8ea4ffdd3165d2,Don't require root partition when installing a whole disk image,MERGED,2020-01-27 16:53:01.000000000,2020-01-30 17:28:25.000000000,2020-01-30 17:25:45.000000000,52,6,0,704357,8f61636eb90a712c74d7d73dc159b2e8702f930e,10,6,1,3,15519,Iury Gregory Melo Ferreira,iurygregory,"Don't require root partition when installing a whole disk image

With the change to find the bootloader on disk (https://review.opendev.org/#/c/696914/)
install_bootloader should now be invoked when doing an iscsi_deploy even if the root
partition cannot be found.

Depends-On: I7167e71e5d2352a045565289b200e5530d0ba11d
Change-Id: I4f2cecdc0af366364b18232dbd8ea4ffdd3165d2
(cherry picked from commit d614d86eef0db7fd9784f4d81a3369841c5a9eb3)
"
openstack%2Fnova~master~I40e515cd4ddc85cd1dba613c2b5c0505e35df295,openstack/nova,master,drop-py27-support,I40e515cd4ddc85cd1dba613c2b5c0505e35df295,zuul: Remove unnecessary 'USE_PYTHON3',MERGED,2019-11-21 09:34:14.000000000,2020-01-30 17:13:36.000000000,2020-01-30 17:09:07.000000000,0,12,0,695380,4a876df468b5b2dce4439398a32db4541ed277a1,22,12,1,2,15334,Stephen Finucane,sfinucan,"zuul: Remove unnecessary 'USE_PYTHON3'

The DevStack change to switch to Python 3 by default [1] has now landed,
which means we no longer need to override this in our zuul
configuration. Remove the relevant entries.

[1] https://review.opendev.org/#/c/649097/

Change-Id: I40e515cd4ddc85cd1dba613c2b5c0505e35df295
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fcinder~master~Ib28b6a2867469e73307482827d9e336b10a58432,openstack/cinder,master,,Ib28b6a2867469e73307482827d9e336b10a58432,RBD: catch argument exceptions when configuring multiattach,MERGED,2019-11-14 18:35:09.000000000,2020-01-30 17:10:29.000000000,2020-01-24 08:49:10.000000000,121,49,35,694379,9bc67c8978faba9e879bf377652d2679e143d992,248,42,7,3,9236,Jon Bernard,jbernard,"RBD: catch argument exceptions when configuring multiattach

If an expected flag is already in the desired state, RBD will raise an
InvalidArgument exception.  This is okay, however not catching this will
result in volume operation errors.

Co-Author: Eric Harney <eharney@redhat.com>
Change-Id: Ib28b6a2867469e73307482827d9e336b10a58432
Closes-Bug: #1852628
"
openstack%2Fos-vif~master~Iaebd42af6d5b8e3165cf10e269addae0ff3665fb,openstack/os-vif,master,bug/1860329,Iaebd42af6d5b8e3165cf10e269addae0ff3665fb,[OVS] VLAN tag should be set in the Port register,MERGED,2020-01-20 11:42:41.000000000,2020-01-30 16:59:16.000000000,2020-01-30 16:54:27.000000000,20,12,0,703373,d5b61d10655b3b7a9d32378b5f7bcdb06479e15d,15,4,2,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVS] VLAN tag should be set in the Port register

In OVS, the VLAN tag for a device is set in the Port register,
not the Interface [1][2]. Method ""BaseOVS.create_ovs_vif_port""
should implement it.

[1] http://docs.openvswitch.org/en/latest/faq/configuration/
[2] https://github.com/openstack/neutron/blob/1d354f75776fca6bf12beae70f7e3206459c84c4/neutron/agent/common/ovs_lib.py#L346-L347

Change-Id: Iaebd42af6d5b8e3165cf10e269addae0ff3665fb
Closes-Bug: #1860329
"
openstack%2Fcharm-layer-openstack~master~Ic9cdc2f470e4c7e1f6fc17a4d6246ca79fc48bd7,openstack/charm-layer-openstack,master,ensure-charm-class-found-for-default-handlers,Ic9cdc2f470e4c7e1f6fc17a4d6246ca79fc48bd7,Ensure that concrete charm class is found for default handlers,MERGED,2020-01-30 14:04:06.000000000,2020-01-30 16:48:05.000000000,2020-01-30 16:48:05.000000000,4,0,0,705017,30166f783535ae9f974e8cf93d66bae8f9a01d7e,8,4,1,1,20870,Alex Kavanagh,ajkavanagh,"Ensure that concrete charm class is found for default handlers

When debugging a charm uprade issue with ovn_chassis, it was noticed
that the upgrade hook failed as the concrete charm class wasn't
found and instantiated.  This patchset ensures that the concrete charm
class is found and thus can be instantiated.

Change-Id: Ic9cdc2f470e4c7e1f6fc17a4d6246ca79fc48bd7
"
openstack%2Fopenstack-helm-infra~master~I1eb54d9ec70cebe89c5d92e06b387a5ef358ef00,openstack/openstack-helm-infra,master,704501,I1eb54d9ec70cebe89c5d92e06b387a5ef358ef00,"WIP: Ubuntu 18.04, disable systemd-resolved",ABANDONED,2020-01-28 07:27:15.000000000,2020-01-30 16:45:45.000000000,,21,1,8,704501,053dcde8e5f4e85ca25712ba827ea2f9e504760d,32,10,9,1,28664,Ahmad Mahmoudi,ahmad,"WIP: Ubuntu 18.04, disable systemd-resolved

Updated k8s deploy script to disable systemd-resolved service for ubuntu bionic.
This to avoid interference between the system-resolved's local dns cache stub
and the coredns, both running on port 53.
This solution will rely on the static /etc/resolv.conf file for name resolution,
instead of using the systemd-resolved service and its local stub dns.

Change-Id: I1eb54d9ec70cebe89c5d92e06b387a5ef358ef00
"
openstack%2Fironic~master~Id849d0967ba168a6e8940d830d62e62ea1f34f29,openstack/ironic,master,test-multinode,Id849d0967ba168a6e8940d830d62e62ea1f34f29,[DNM] test multinode job,ABANDONED,2019-12-12 11:18:31.000000000,2020-01-30 16:24:55.000000000,,15,67,0,698696,66ac02d291173bc48c7a11cf40de5d9d1243f5f2,51,5,17,2,23851,Riccardo Pittau,elfosardo,"[DNM] test multinode job

Change-Id: Id849d0967ba168a6e8940d830d62e62ea1f34f29
"
openstack%2Fneutron~stable%2Fstein~Id019fa7649bd1158f9d56e63f8dad108d0ca8c1f,openstack/neutron,stable/stein,bug/1860326-stable/stein,Id019fa7649bd1158f9d56e63f8dad108d0ca8c1f,Allow to kill keepalived state change monitor process,MERGED,2020-01-28 15:42:53.000000000,2020-01-30 16:24:38.000000000,2020-01-30 16:21:33.000000000,8,8,0,704594,f4d05266d21337538a2743a743ee1aa540407ac7,18,6,1,1,11975,Slawek Kaplonski,slaweq,"Allow to kill keepalived state change monitor process

Usually Neutron stops neutron-keepalived-state-change-monitor process
gracefully with SIGTERM.
But in case if this will not stop process for some time, Neutron will
try to kill this process with SIGKILL (-9).
That was causing problem with rootwrap as kill filters for this process
allowed to send only ""-15"" to it.
Now it is possible to kill this process with ""-9"" too.

Conflicts:
    etc/neutron/rootwrap.d/l3.filters

Change-Id: Id019fa7649bd1158f9d56e63f8dad108d0ca8c1f
Closes-bug: #1860326
(cherry picked from commit d6fccd247f70abc84c8a480138e135717836c7b3)
"
openstack%2Fnova-specs~master~I95b6a3470e78ceaa05d556a9909746fbe89f05f6,openstack/nova-specs,master,bp/flavor-extra-spec-validators,I95b6a3470e78ceaa05d556a9909746fbe89f05f6,Address comments on 'flavor-extra-spec-validators' spec,MERGED,2020-01-30 15:48:50.000000000,2020-01-30 16:19:10.000000000,2020-01-30 16:16:02.000000000,15,11,0,705047,1ea1f660d94000e0d52d85e2ed7d824b06e351ec,8,2,1,1,15334,Stephen Finucane,sfinucan,"Address comments on 'flavor-extra-spec-validators' spec

Some follow-ups.

Change-Id: I95b6a3470e78ceaa05d556a9909746fbe89f05f6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fironic-python-agent~master~Ief8b360d11e654d8fae3a04a2a9f8d474a06e167,openstack/ironic-python-agent,master,704725,Ief8b360d11e654d8fae3a04a2a9f8d474a06e167,Skip read-only devices with metadata erase,MERGED,2020-01-29 04:55:04.000000000,2020-01-30 16:19:06.000000000,2020-01-30 16:14:40.000000000,75,0,22,704725,cd7b2693f873bde72706f8b6ab8c1f21e68f0fd1,38,8,4,3,11655,Julia Kreger,jkreger,"Skip read-only devices with metadata erase

HPE ""Virtual Install Devices"" appear as read-only block
devices, and may... or may not be visible depending on the
bios configuration state.

These devices can no longer be disabled from the bios settings
so the simplest course of action seems to be that we should
handle the existence of a read-only device.

In the event of secure erase, this is treated as a hard failure
case and a driver_internal_info flag has been added to enable
a future bypass method for knowledgable operators.

Change-Id: Ief8b360d11e654d8fae3a04a2a9f8d474a06e167
Story: 2007229
Task: 38502
"
openstack%2Fkayobe~master~Id7513b245d1b4eac09f717a7f47469fd7bb4d3b5,openstack/kayobe,master,storyboard,Id7513b245d1b4eac09f717a7f47469fd7bb4d3b5,Update docs building,MERGED,2020-01-30 08:41:07.000000000,2020-01-30 16:00:45.000000000,2020-01-30 15:57:39.000000000,3,25,0,704939,d5a3c74b1628aa77182a57c974d1fabb00b3f1a2,9,4,1,1,6547,Andreas Jaeger,jaegerandi,"Update docs building

* Use storyboard instead of launchpad since this project uses
  storyboard. This fixes the ""Report a bug"" link.
* Remove unneeded configuration bits for doc building, the
  defaults of openstackdocstheme are fine.

Change-Id: Id7513b245d1b4eac09f717a7f47469fd7bb4d3b5
"
openstack%2Fbifrost~stable%2Fstein~I5aaab91f0590c49972e5eb03d1c70559698b2f39,openstack/bifrost,stable/stein,,I5aaab91f0590c49972e5eb03d1c70559698b2f39,Check out global requirements when creating test VMs,MERGED,2020-01-29 14:45:33.000000000,2020-01-30 15:54:11.000000000,2020-01-30 15:50:53.000000000,39,1,0,704823,981a0363223e98d188a20d029f008db139db0536,7,2,1,2,10239,Dmitry Tantsur,dtantsur,"Check out global requirements when creating test VMs

As part of the test VM preparation, we need to use upper-constraints.

Change-Id: I5aaab91f0590c49972e5eb03d1c70559698b2f39
(cherry picked from commit 6da10694af43d9902a13b2e7a1c6e4b587a5ce57)
"
openstack%2Fkolla~master~I66c93e07fe5c6c143e9cf65c6451e573bbfc51d8,openstack/kolla,master,bp/centos-rhel-8,I66c93e07fe5c6c143e9cf65c6451e573bbfc51d8,CI: Fix tag suffix logic for CentOS 8,MERGED,2020-01-30 12:22:11.000000000,2020-01-30 15:52:29.000000000,2020-01-30 15:48:37.000000000,1,1,0,704987,cde5405b90ca18fcc498afd9cd09a7e7fd68b6f2,10,4,1,1,14826,Mark Goddard,mgoddard,"CI: Fix tag suffix logic for CentOS 8

On CentOS, ansible_distribution is 'CentOS' rather than 'centos'.
Our logic when setting the image tag for publisher jobs is incorrect,
meaning that the centos8 publisher publishes images as 'master'
rather than 'master-centos8'. Since this job only has two images it
is likely to complete before the CentOS 7 publisher, so hopefully
images will not be broken for long.

This change fixes the issue by using a case-insensitive comparison.

Change-Id: I66c93e07fe5c6c143e9cf65c6451e573bbfc51d8
Partially-Implements: blueprint centos-rhel-8
"
openstack%2Fnova-specs~master~I1b3b74f1fd2af9419f7aa0c79b5dad5b26065b57,openstack/nova-specs,master,bp/flavor-extra-spec-validators,I1b3b74f1fd2af9419f7aa0c79b5dad5b26065b57,Re-propose the flavor extra spec validation spec,MERGED,2019-09-17 14:04:22.000000000,2020-01-30 15:51:29.000000000,2020-01-30 15:46:17.000000000,377,0,105,682655,90f006e96c2c42d10e1ce8b78d514ec9f15b670b,48,7,5,1,15334,Stephen Finucane,sfinucan,"Re-propose the flavor extra spec validation spec

Previously known as the (rather lengthy)
'flavor-extra-spec-image-property-validation-extended' spec.

Part of bp flavor-extra-spec-validators

Change-Id: I1b3b74f1fd2af9419f7aa0c79b5dad5b26065b57
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpython-heatclient~master~I1404a5b23fd1852be9d04661c2a0ba12c4bb78ec,openstack/python-heatclient,master,remove-mox,I1404a5b23fd1852be9d04661c2a0ba12c4bb78ec,tests: Pre-mox removal cleanup,MERGED,2020-01-30 11:32:06.000000000,2020-01-30 15:41:20.000000000,2020-01-30 15:38:10.000000000,51,47,0,704968,75ed1cedd9c3820134b877008750c4a28e28e2a0,7,2,1,1,15334,Stephen Finucane,sfinucan,"tests: Pre-mox removal cleanup

Move some stuff around in order to make the later migration easier to
parse.

Change-Id: I1404a5b23fd1852be9d04661c2a0ba12c4bb78ec
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fironic-python-agent-builder~master~Idfb8b121a43a0bb74844fd63d5c2507d7b888b15,openstack/ironic-python-agent-builder,master,fix-locale,Idfb8b121a43a0bb74844fd63d5c2507d7b888b15,Fix pip install pkgs with non-ascii characters in filenames,MERGED,2020-01-30 11:11:55.000000000,2020-01-30 15:39:39.000000000,2020-01-30 15:37:59.000000000,2,0,0,704961,22a12a3a41108bc0684ad9c0436b5de395c0b6e0,10,4,1,1,23851,Riccardo Pittau,elfosardo,"Fix pip install pkgs with non-ascii characters in filenames

As found recently, pip with Python 3.6 and forward has some issues
installing tarballs that contain files with non-ascii characters
in their names.
This is due mainly to the fact that the default locale in the
system is set to C [1].
As a workaround, we run the installation of the packages in the
virtualenv forcing C.UTF-8 locale.

[1] https://github.com/pypa/pip/issues/7667

Change-Id: Idfb8b121a43a0bb74844fd63d5c2507d7b888b15
"
openstack%2Fneutron~master~Ic70f7d282db478c69016ab1c317c5cae786401ce,openstack/neutron,master,tag-ports-during-bulk-creation,Ic70f7d282db478c69016ab1c317c5cae786401ce,Implement tagging during bulk port creation,MERGED,2019-12-30 01:49:25.000000000,2020-01-30 15:30:30.000000000,2020-01-30 15:26:44.000000000,237,4,21,700755,e22a191f47fe0d1a05cd707a0ad6a1ca637f69d1,82,11,13,8,4694,Miguel Lavalle,minsel,"Implement tagging during bulk port creation

This change proposes a ML2 plugin extension to implement tagging during
bulk port creation.

Change-Id: Ic70f7d282db478c69016ab1c317c5cae786401ce
Related-Bug: #1815933
"
openstack%2Fopenstack-ansible-os_tempest~stable%2Ftrain~I0f6819ca73dd5a37a21ade150953acfe6e864a89,openstack/openstack-ansible-os_tempest,stable/train,,I0f6819ca73dd5a37a21ade150953acfe6e864a89,Use contraints for tempest plugins,ABANDONED,2020-01-21 13:02:16.000000000,2020-01-30 15:28:43.000000000,,4,1,0,703607,f485bc0ad3528779894def8357160e6f988c72d1,11,3,3,2,25023,Jonathan Rosser,jrosser,"Use contraints for tempest plugins

This patch temporarily defines the u-c file URL to break a circular
dependancy and should be reverted later.

Change-Id: I0f6819ca73dd5a37a21ade150953acfe6e864a89
"
openstack%2Fopenstack-ansible~stable%2Ftrain~I7525b6e415727df3f8903f5536403fe123ec834e,openstack/openstack-ansible,stable/train,placement_migration,I7525b6e415727df3f8903f5536403fe123ec834e,Use nova_placement_service_password for placement_service_password,MERGED,2020-01-29 16:40:44.000000000,2020-01-30 15:21:04.000000000,2020-01-30 15:18:48.000000000,1,1,0,704842,0fef9ba5ac40b4b9531332583ff0dac55d03d391,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use nova_placement_service_password for placement_service_password

Doring migration placement password is being changed, which results in
temporary outage. This should minimize downtime of placement during
it's extraction

Change-Id: I7525b6e415727df3f8903f5536403fe123ec834e
"
openstack%2Fcinder~master~Ica56833a1d9fb9f47b922dbbc6558901bb3a2800,openstack/cinder,master,bp/support-glance-multiple-backend,Ica56833a1d9fb9f47b922dbbc6558901bb3a2800,Support multiple stores of Glance,MERGED,2019-05-28 05:41:25.000000000,2020-01-30 15:18:11.000000000,2020-01-29 00:57:32.000000000,461,55,52,661676,350973f3dddd8e3b1d521238c69a5bd8c8df3fec,955,54,20,29,9303,Abhishek Kekane,abhishekkekane,"Support multiple stores of Glance

Glance now has ability to configure multiple stores at a
time. To use this feature in cinder for uploading volume to image, operator
need to define a new field named 'image_service:store_id' in the
volume-type extra-specs. At a time of volume upload to image request, if
'image_service:store_id' is present in the associated volume type, then
image will be uploaded to specified 'store_id'. The value 'store_id' is
nothing but store identifier defined in glance-api.conf. If the value
of 'image_service:store_id' is null or not set in volume-type then the
image will be uploaded to default store in glance.

Co-authored-by: Sagar Waghmare <sawaghma@redhat.com>
Co-authored-by: Abhishek Kekane <akekane@redhat.com>

DocImpact
Implements: bp support-glance-multiple-backend

Change-Id: Ica56833a1d9fb9f47b922dbbc6558901bb3a2800
"
openstack%2Freleases~master~I7017774d3f2776cfe34e17accc7da1b3568d9697,openstack/releases,master,bumptripleoansible,I7017774d3f2776cfe34e17accc7da1b3568d9697,Bump tripleo-ansible to 1.1.0,MERGED,2020-01-30 04:38:10.000000000,2020-01-30 15:10:57.000000000,2020-01-30 15:10:57.000000000,4,0,2,704922,abe954cdf3b98a0474ef0cb8a8d910e894d0bbe9,18,11,2,1,12393,chandan kumar,chkumar246,"Bump tripleo-ansible to 1.1.0

It is need for tripleo standalone upgrade.

Related-Bug: #1861083

Change-Id: I7017774d3f2776cfe34e17accc7da1b3568d9697
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fopenstack-helm-infra~master~Id4ee1dbd5c82dcbe9893f81c3ad3b9e18d1f9509,openstack/openstack-helm-infra,master,,Id4ee1dbd5c82dcbe9893f81c3ad3b9e18d1f9509,[ceph-osd] Fix issues with ceph osd init sript,MERGED,2020-01-30 07:24:07.000000000,2020-01-30 15:00:25.000000000,2020-01-30 14:58:20.000000000,3,3,0,704928,eacf93722136636dcfbd2b68c59b71f071ffc085,18,6,3,1,28372,chinasubbareddy mallavarapu,chinasubbareddy,"[ceph-osd] Fix issues with ceph osd init sript

This is to fix the logic to find osd id for wal lvm and also
to find correct lvm device for osd disk.

Change-Id: Id4ee1dbd5c82dcbe9893f81c3ad3b9e18d1f9509
"
openstack%2Ftripleo-quickstart-extras~master~I7764421b0d61556c68a4feff0e2257d1d9bdf895,openstack/tripleo-quickstart-extras,master,fix-project-name-mapping,I7764421b0d61556c68a4feff0e2257d1d9bdf895,[WIP] Debug package build failures,ABANDONED,2020-01-13 08:29:17.000000000,2020-01-30 14:59:59.000000000,,37,31,0,702170,f244b0b0cbf097ccbeb543a413e6ed0957862ff0,28,2,13,1,27329,Federico Ressi,fressi_redhat,"[WIP] Debug package build failures

Change-Id: I7764421b0d61556c68a4feff0e2257d1d9bdf895
"
openstack%2Fpython-tripleoclient~master~Ia1a108e77dd50404b78d952c9c9a9c0d534a5d28,openstack/python-tripleoclient,master,fix-py27,Ia1a108e77dd50404b78d952c9c9a9c0d534a5d28,Fix all py27 tests,MERGED,2020-01-29 18:04:56.000000000,2020-01-30 14:51:15.000000000,2020-01-30 09:30:58.000000000,9,9,0,704859,6aa5cdd3b02eff76aea9cda9103b2b173339c717,11,5,1,1,7353,Kevin Carter,cloudnull,"Fix all py27 tests

This change fixes our py27 tests. The issue was a cascading failure caused
by a bad mock for sys.stdout.flush which results in general failure when
calling system and other builtin functions.

Change-Id: Ia1a108e77dd50404b78d952c9c9a9c0d534a5d28
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fplacement~master~Ia0aa7fc7b7f8e3a14c3e8c3292f042d7ace86bb5,openstack/placement,master,bug_2007232,Ia0aa7fc7b7f8e3a14c3e8c3292f042d7ace86bb5,Add prefix '/placement' for listing resource providers,ABANDONED,2020-01-29 13:11:48.000000000,2020-01-30 14:46:00.000000000,,12,12,0,704799,e52bc789b4be9de529d4d3661e5e87b25526f5e3,7,4,1,1,23950,Eric Xie,ericxie,"Add prefix '/placement' for listing resource providers

Change-Id: Ia0aa7fc7b7f8e3a14c3e8c3292f042d7ace86bb5
Story: #2007232
Task: #38508
"
openstack%2Floci~master~If602d4ccdaa66eed98dc8e9c600137a2f6fbb828,openstack/loci,master,,If602d4ccdaa66eed98dc8e9c600137a2f6fbb828,Remove an entry for building project from uc,ABANDONED,2020-01-21 15:50:17.000000000,2020-01-30 14:35:20.000000000,,3,0,0,703647,bf478313c0963bf8d82a091874a1a756258d6626,21,7,6,1,8863,Andrii Ostapenko,aostapenko,"Remove an entry for building project from uc

In some releases (Stein, Train) uc contains entries for neutron and
horizon, that breaks build for these components with unsatisfied
constraints error. Obviously we don't need this constraint for the
component we build.

Change-Id: If602d4ccdaa66eed98dc8e9c600137a2f6fbb828
"
openstack%2Foslo.context~master~Ie875138bd1b773f460698e1eacc9dab542318e30,openstack/oslo.context,master,drop-py27-support,Ie875138bd1b773f460698e1eacc9dab542318e30,Drop python 2.7 support and testing,MERGED,2019-12-27 08:12:54.000000000,2020-01-30 14:33:43.000000000,2020-01-30 14:28:40.000000000,13,19,3,700688,3017e180f00d3f7f8f7b2eb9099e601806315dfe,18,6,3,5,27822,pengyuesheng,pengyuesheng,"Drop python 2.7 support and testing

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Ie875138bd1b773f460698e1eacc9dab542318e30
Sem-Ver: api-break
"
openstack%2Foslo.concurrency~master~I94e709093e01825069b44b6c485e49a81f8f14c1,openstack/oslo.concurrency,master,drop-py27-support,I94e709093e01825069b44b6c485e49a81f8f14c1,Drop python 2.7 support and testing,MERGED,2019-12-27 08:10:15.000000000,2020-01-30 14:31:05.000000000,2020-01-30 14:26:28.000000000,10,22,5,700687,cfc27ef4972a99c5787e537b0f85067829517c4c,16,5,2,7,27822,pengyuesheng,pengyuesheng,"Drop python 2.7 support and testing

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I94e709093e01825069b44b6c485e49a81f8f14c1
Sem-Ver: api-break
"
openstack%2Fos-vif~master~I7cd6112b3b35a6971d3d354abae7652344ed1c97,openstack/os-vif,master,zuulv3,I7cd6112b3b35a6971d3d354abae7652344ed1c97,"Revert ""[Follow Up] OVS DPDK port representors support""",MERGED,2020-01-21 18:57:31.000000000,2020-01-30 14:17:11.000000000,2020-01-30 14:10:17.000000000,6,134,0,703672,bb5e51309eb05032f31c07c26f5c4d18c31cc087,37,10,3,7,28714,Adrian Chiris,adrianc,"Revert ""[Follow Up] OVS DPDK port representors support""

it seems that relevant OVS patches still did not land [1][2].
I think we should revert and wait for the patches to merge first,
then we can go ahead and merge in os-vif with release note that states
the exact OVS version required.

[1] https://patchwork.ozlabs.org/patch/1186896/
[2] https://patchwork.ozlabs.org/patch/1215075/

This reverts commit 399e3550886d091dcf022051da578d5a2c219654.

Change-Id: I7cd6112b3b35a6971d3d354abae7652344ed1c97
"
openstack%2Fos-vif~master~I7965a848d1d682760affd9a03ee7e052a69de57d,openstack/os-vif,master,zuulv3,I7965a848d1d682760affd9a03ee7e052a69de57d,move os-vif-ovs to be a non legacy job.,MERGED,2020-01-08 19:42:20.000000000,2020-01-30 14:15:36.000000000,2020-01-30 14:10:16.000000000,56,103,13,701601,1ed44bd400fc8adb83438083d376658f27205373,18,5,3,3,11604,sean mooney,sean-k-mooney,"move os-vif-ovs to be a non legacy job.

This change removes the legacy os-vif-ovs
job and repelaces it with a native zuul v3
version. Both the old and new os-vif-ovs job
currently execute tempest-full but this should
be reduced but that is left to a follow up
patch as this is is intended as a direct refactor.

Change-Id: I7965a848d1d682760affd9a03ee7e052a69de57d
"
openstack%2Ftacker~master~I3bf7be13f69837a0c2b9d62d10b21dce0fd0fe76,openstack/tacker,master,drop-py27-support,I3bf7be13f69837a0c2b9d62d10b21dce0fd0fe76,Drop python 2.7 support and testing,MERGED,2019-10-31 06:26:58.000000000,2020-01-30 14:12:43.000000000,2020-01-30 14:07:52.000000000,11,26,5,692269,71658dc91098656151e024162a70a51d4b239fb3,37,7,9,5,8556,Ghanshyam,ghanshyam,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Tacker is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Depends-On: https://review.opendev.org/#/c/693631/

Change-Id: I3bf7be13f69837a0c2b9d62d10b21dce0fd0fe76
"
openstack%2Ftacker~master~I9f93075402dd5273a4ab045db5cd15bd4dea8582,openstack/tacker,master,bug-lower-const,I9f93075402dd5273a4ab045db5cd15bd4dea8582,remove upper-constraints.txt from lower-const job,MERGED,2019-12-06 04:24:00.000000000,2020-01-30 14:04:44.000000000,2020-01-30 14:01:47.000000000,11,9,0,697616,8ee4d0d40583dc298d14fd06b3f70194ed17dfe2,21,3,6,4,26588,Hiroyuki Jo,joxyuki,"remove upper-constraints.txt from lower-const job

Currently in lower-constraints job, pip install is issued with both
upper-constraints.txt by `install_command` in [testenv] and
lower-constraints.txt by `deps` in [testenv:lower-constraints] so
lower-constraints job actually tests aginst upper-constraints. We need
to remove upper-constraints.txt from lower-constraints job.

Along with the above, update version of mock, olso_messaging and
keystoneatuh1 package in lower-constraints.txt, requirements.txt and
test-requirements.txt.

Change-Id: I9f93075402dd5273a4ab045db5cd15bd4dea8582
"
openstack%2Floci~master~If490aacc6df6198c286a4b316165892452db8ab5,openstack/loci,master,,If490aacc6df6198c286a4b316165892452db8ab5,Remove an entry for building project from uc,MERGED,2020-01-27 21:25:10.000000000,2020-01-30 13:51:37.000000000,2020-01-30 13:51:37.000000000,5,0,0,704433,690c3d7673ff1a48b2ac787505bffaf621d86eba,12,6,1,1,8863,Andrii Ostapenko,aostapenko,"Remove an entry for building project from uc

In some releases (Stein, Train, Rocky) uc contains entries for neutron
and horizon, that breaks build for these components with unsatisfied
constraints error. Obviously we don't need this constraint for the
component we build.

Change-Id: If490aacc6df6198c286a4b316165892452db8ab5
"
openstack%2Ftacker~master~I2dfee4967545aba5ea54561dc4910df02b0a9c98,openstack/tacker,master,drop-py27-support,I2dfee4967545aba5ea54561dc4910df02b0a9c98,Support patch to fix window style line ending,MERGED,2019-12-19 14:29:28.000000000,2020-01-30 13:46:27.000000000,2020-01-30 13:44:39.000000000,273,273,3,699995,9dd0823c95ba8614d2b1cd50dbccb8208599bc5b,16,5,3,5,26463,Niraj Singh,nirajsingh,"Support patch to fix window style line ending

Pep8 didn't recognised this error because it was running
on python2. Now tacker is going to support python3 so this
window style line ending should be fixed.

This patch removed window style line endings.

Change-Id: I2dfee4967545aba5ea54561dc4910df02b0a9c98
"
