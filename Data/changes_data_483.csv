id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fpython-openstackclient~stable%2Fqueens~I5116086f9a9e4b2b31a744bf8f4558c79f0bfe59,openstack/python-openstackclient,stable/queens,bug/1745795,I5116086f9a9e4b2b31a744bf8f4558c79f0bfe59,Re-implement novaclient bits removed in 10.0,MERGED,2018-04-19 21:51:43.000000000,2018-05-27 00:32:41.000000000,2018-05-27 00:32:41.000000000,622,114,2,562840,6c8967dc8eeea1d64b8b7a17bee1f8d1aa647bed,12,5,2,8,4690,melanie witt,melwitt,"Re-implement novaclient bits removed in 10.0

a)

/os-floating-ips was removed in Compute API 2.36 and from novaclient's
Python API in 10.0

Add to api.computev2:
floating_ip_add()
floating_ip_remove()

Convert add floating IP command to nova-net/neutron split:
""server add floating ip""
""server remove floating ip""

b)

/os-hosts was removed in Compute API 2.43 and from novaclient's
Python API in 10.0.

Add to api.computev2:
host_list()
host_set()
host_show()

Convert host commands to use intenal api:
""host list""
""host set""
""host show""

c)

The introduction of the Network-style commands into the server group
broke cliff's autoprogram directive as it executes the get_parser() methods
without fully initializing the Command object.

NOTE: This is really three reviews squashed to get through the gate in one pass.

Closes-Bug: #1745795

Change-Id: I5116086f9a9e4b2b31a744bf8f4558c79f0bfe59
(cherry picked from commit 53e7aab7ed4d6c981ca067c1db8bce290a5f0055)
"
openstack%2Fnova~master~Ife59900448719f78c0505f1b681cb26674fa0306,openstack/nova,master,,Ife59900448719f78c0505f1b681cb26674fa0306,Change exception type while deattaching root device,MERGED,2018-05-25 11:10:09.000000000,2018-05-26 17:09:23.000000000,2018-05-26 17:09:23.000000000,2,2,6,570561,d2e40a3e49819dace92975de3e3d7ba3a3fac79d,16,22,1,2,24791,Maciej Jozefczyk,maciej.jozefczyk,"Change exception type while deattaching root device

By default it is not possible to deattach volume that is configured
as root device for an instance.
Previous HTTP 403 reponse pointed that caller don't have permission
to deattach the volume instead he's not able to do it. Response 400
suits more for that case.

Change-Id: Ife59900448719f78c0505f1b681cb26674fa0306
"
openstack%2Fkolla-ansible~stable%2Fqueens~I1283014f785c2e6abf8db99c4fd71c008718a35e,openstack/kolla-ansible,stable/queens,bug/1695102,I1283014f785c2e6abf8db99c4fd71c008718a35e,Use internal interface to connect with keystone_ssh,MERGED,2018-05-16 16:00:00.000000000,2018-05-26 15:50:51.000000000,2018-05-26 15:50:51.000000000,2,2,0,568890,cb30dc6e798d99b4f5c1dacf06ba4cbdb511f61d,18,13,1,2,9701,Nikita Gerasimov,nikitych,"Use internal interface to connect with keystone_ssh

Change-Id: I1283014f785c2e6abf8db99c4fd71c008718a35e
Closes-bug: #1695102
"
openstack%2Fopenstack-helm~master~Ic6c6e21cb52f8bbd487d1220ce28ad054a98f6c2,openstack/openstack-helm,master,,Ic6c6e21cb52f8bbd487d1220ce28ad054a98f6c2,test,ABANDONED,2018-05-26 15:19:17.000000000,2018-05-26 15:25:19.000000000,,1,0,0,570654,586e3a6d46bdd676e2f2b7d5e49ae5c9bb839cbc,3,1,1,1,21691,weizj,ZhijunWei,"test

Change-Id: Ic6c6e21cb52f8bbd487d1220ce28ad054a98f6c2
"
openstack%2Fneutron~master~Ib0c97268f01885f6daacb3d1cdbbd94bb6020d60,openstack/neutron,master,use-lib-dhcpagentsch-apidef,Ib0c97268f01885f6daacb3d1cdbbd94bb6020d60,use dhcpagentscheduler api def from neutron-lib,MERGED,2018-04-27 21:08:15.000000000,2018-05-26 12:17:16.000000000,2018-05-26 12:17:16.000000000,27,63,0,564887,1128619f1c2598b3b7b023a5d4a9f32d8ef5a529,44,13,6,4,5367,boden,boden,"use dhcpagentscheduler api def from neutron-lib

The dhcpagentscheduler extension's API definition was rehomed into
neutron-lib with https://review.openstack.org/#/c/520751/
This patch consumes it by using the API definition and it's constants
where applicable.

NeutronLibImpact

Change-Id: Ib0c97268f01885f6daacb3d1cdbbd94bb6020d60
"
openstack%2Fpuppet-ironic~master~I8930a36096f9e93152585cb962d37c1da497e540,openstack/puppet-ironic,master,remove_rabbit_params,I8930a36096f9e93152585cb962d37c1da497e540,Remove deprecated rabbit params,MERGED,2018-05-24 02:14:44.000000000,2018-05-26 11:37:04.000000000,2018-05-26 11:37:04.000000000,7,66,0,570296,31dd4df0c21ee272b7182a33d072bf4f28a40d54,10,3,3,3,9414,zhongshengping,ZhongShengping,"Remove deprecated rabbit params

Remove the deprecated rabbit params which has been deprecated for
two years. The default_transport_url has been present for a while
now and should be used.

Change-Id: I8930a36096f9e93152585cb962d37c1da497e540
"
openstack%2Fpuppet-ironic~master~Ibbb4136bacdfb36c619ed246fa0257d62a36cac7,openstack/puppet-ironic,master,,Ibbb4136bacdfb36c619ed246fa0257d62a36cac7,Replace port 35357 with 5000,MERGED,2018-05-12 16:49:49.000000000,2018-05-26 11:37:04.000000000,2018-05-26 11:37:04.000000000,9,9,0,568011,4ad193f9f2d6072d3bc770dba087c6578f2f2125,7,3,1,5,14151,ziyu032,ziyu032,"Replace port 35357 with 5000

Now that the v2.0 API has been removed, we don't have a reason to
include deployment instructions for two separate applications on
different ports.

Change-Id: Ibbb4136bacdfb36c619ed246fa0257d62a36cac7
"
openstack%2Frequirements~master~I8d944827e89d9d07f297ab5921755ba3868a756b,openstack/requirements,master,openstack/requirements/constraints,I8d944827e89d9d07f297ab5921755ba3868a756b,Updated from generate-constraints,ABANDONED,2018-05-26 06:27:56.000000000,2018-05-26 07:05:14.000000000,,6,6,0,570630,be56bb2b0ba01994b39d7dfebdebb9180899b3b8,2,0,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I8d944827e89d9d07f297ab5921755ba3868a756b
"
openstack%2Fswift~master~Ife1e452fa34026ac934e88a05708cdc5978215e1,openstack/swift,master,haproxy-proxy-support,Ife1e452fa34026ac934e88a05708cdc5978215e1,Remove un-used stub,MERGED,2018-05-24 20:19:04.000000000,2018-05-26 06:53:40.000000000,2018-05-26 06:53:40.000000000,0,3,0,570439,71b39e4c2d4b4d5c896a0287d9198189f0fa4b43,9,4,1,1,1179,Clay Gerrard,clay-gerrard,"Remove un-used stub

The mock call got pulled out in the related change.

Change-Id: Ife1e452fa34026ac934e88a05708cdc5978215e1
Related-Change-Id: Id089e29e7ecfc8cec79c520f604aa01bdae0dcf0
"
openstack%2Frpm-packaging~master~Ie006c732df2b92871b922e42d1f2f97c8766bfa1,openstack/rpm-packaging,master,,Ie006c732df2b92871b922e42d1f2f97c8766bfa1,Update pbr to 4.0.3,MERGED,2018-05-15 18:23:00.000000000,2018-05-26 06:31:39.000000000,2018-05-26 06:31:39.000000000,1,1,0,568664,3d02ad0b7c7724f3e9e933fbf8904bda1921ca05,13,5,1,1,17130,melissaml,malei,"Update pbr to 4.0.3

Depends-on: I6c38cc7842020d37e85d829723241e5c6789e813
Change-Id: Ie006c732df2b92871b922e42d1f2f97c8766bfa1
"
openstack%2Frpm-packaging~master~I8e502c06a4da1933c30b6e1c5a3ae098fcb60285,openstack/rpm-packaging,master,add-python-vitrageclient,I8e502c06a4da1933c30b6e1c5a3ae098fcb60285,Add initial spec for python-vitrageclient,MERGED,2016-09-22 01:50:13.000000000,2018-05-26 05:22:01.000000000,2018-05-26 05:22:01.000000000,105,0,6,374480,f9f0fad1bf20c42a7432b872d3682e0154ad1b1b,71,9,11,1,22266,Tony Xu,xutao,"Add initial spec for python-vitrageclient

Change-Id: I8e502c06a4da1933c30b6e1c5a3ae098fcb60285
"
openstack%2Ftripleo-quickstart-extras~master~I130fd1282506b0841a10d12a5b016ab6cb03730a,openstack/tripleo-quickstart-extras,master,bug/1773406,I130fd1282506b0841a10d12a5b016ab6cb03730a,Add a full path for the -r option in prep-containers,MERGED,2018-05-25 16:24:29.000000000,2018-05-26 05:13:07.000000000,2018-05-26 05:13:07.000000000,3,1,0,570593,5c01853b3d2d6ac99cb6083c8d1a3b7d50bdb0a3,24,6,5,2,9976,Ronelle Landy,rlandy,"Add a full path for the -r option in prep-containers

fs001 is failing prep-containers as roles_data_undercloud.yaml
is not found. This review adds the full path to the roles
file.

Closes-Bug: 1773406
Change-Id: I130fd1282506b0841a10d12a5b016ab6cb03730a
"
openstack%2Finstack-undercloud~master~Iefabf5b96847333a27c307f380fd7c52bec710e6,openstack/instack-undercloud,master,bp/store-validations-in-swift,Iefabf5b96847333a27c307f380fd7c52bec710e6,Upload validations to swift on undercloud install,MERGED,2018-04-25 14:14:38.000000000,2018-05-26 05:13:06.000000000,2018-05-26 05:13:06.000000000,6,0,2,564233,9f5e1456f729fefd16d9782e80d600576fa57352,25,7,2,1,9317,Ana Krivokapic,akrivoka,"Upload validations to swift on undercloud install

Change-Id: Iefabf5b96847333a27c307f380fd7c52bec710e6
Implements: blueprint store-validations-in-swift
Depends-On: Ia08d5eea17450db94279c95078453831c0017a67
"
openstack%2Ftripleo-heat-templates~master~I1b7a786cbf8171d1d89048b1a2524adec89b1267,openstack/tripleo-heat-templates,master,upgrade/purge,I1b7a786cbf8171d1d89048b1a2524adec89b1267,Remove UpgradeRemoveUnusedPackages from undercloud-upgrade-prepare.yaml,MERGED,2018-05-18 04:54:37.000000000,2018-05-26 05:13:04.000000000,2018-05-26 05:13:04.000000000,0,3,0,569323,e36cbb952422c9c225bff69c6ba9d0a28d52f5fb,50,6,7,1,3153,Emilien Macchi,emilienm,"Remove UpgradeRemoveUnusedPackages from undercloud-upgrade-prepare.yaml

We're creating a new parameter ""undercloud_cleanup"" in tripleoclient for
undercloud.conf, so our operators can cleanup the undercloud after an
upgrade.

Change-Id: I1b7a786cbf8171d1d89048b1a2524adec89b1267
"
openstack%2Fpuppet-tripleo~master~I0f6fff63a5c3d795572c8f4df98d45ae486ca19d,openstack/puppet-tripleo,master,bug/1773013,I0f6fff63a5c3d795572c8f4df98d45ae486ca19d,Add missing nfs_mount_options for Cinder Netapp backend,MERGED,2018-05-23 20:57:45.000000000,2018-05-26 05:13:03.000000000,2018-05-26 05:13:03.000000000,1,0,0,570256,b7021aa221422aaae8a52dacdd70769c32ffc586,12,4,3,1,21129,Alan Bishop,ASBishop,"Add missing nfs_mount_options for Cinder Netapp backend

Add nfs_mount_options parameter when instantiating cinder::backend::netapp.
The value maps to the CinderNetappNfsMountOptions THT parameter.

Closes-Bug: #1773013
Change-Id: I0f6fff63a5c3d795572c8f4df98d45ae486ca19d
"
openstack%2Fpuppet-tripleo~master~I9afa22f7dd344a29747206b286520a76d70d704b,openstack/puppet-tripleo,master,bug/1771543,I9afa22f7dd344a29747206b286520a76d70d704b,Rework GDPR compliant logrotate config,MERGED,2018-05-22 12:56:23.000000000,2018-05-26 05:13:02.000000000,2018-05-26 05:13:02.000000000,46,33,2,569976,5a58ca5d325ae3363cc3eb9d20d96910f9406691,23,5,4,3,6926,Bogdan Dobrelya,bogdando,"Rework GDPR compliant logrotate config

Set the logrotate maxage parameter to purge_after_days
as well.

Rework additional retention rules of files in
/var/log/containers in the containerized logrotate
postrotate script. The rules are based on any of the
listed criteria met:

* time of last access of contents (atime) exceeds
purge_after_days,
* time of last modification of contents (mtime) exceeds
purge_after_days,
* time of last modification of the inode (metadata, ctime)
exceeds purge_after_days.

Forcibly purge expired files with each containerized
logrotate run triggered via cron. Note that the files creation
time (the Birth attribute) is not taken into account as it
cannot be accessed normally by system operators (depends on FS
type). Retention policies based on the creation time must
be managed elsewhere.

Related-Bug: #1771543

Change-Id: I9afa22f7dd344a29747206b286520a76d70d704b
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fpuppet-tripleo~master~I08f548c7784f4e00add26aafc26a9671f503bb97,openstack/puppet-tripleo,master,bug/1773188,I08f548c7784f4e00add26aafc26a9671f503bb97,Update netapp cinder configuration,MERGED,2018-05-24 14:57:43.000000000,2018-05-26 05:12:59.000000000,2018-05-26 05:12:59.000000000,43,22,0,570406,b2d7cab5f12e6fde40d49c2d00cbae2bcf522dc8,27,8,3,2,14985,Alex Schultz,mwhahaha,"Update netapp cinder configuration

The upstream puppet-cinder modules have been updated to remove
deprecated paramters. We were still passing in deprecated options for
the netapp volume. This change ports the backwards compatibility that
was being done in puppet-cinder into puppet-tripleo. This should be
dropped in a later cycle.

Change-Id: I08f548c7784f4e00add26aafc26a9671f503bb97
Closes-Bug: #1773188
"
openstack%2Ftripleo-heat-templates~master~I9a5bff5e5d0c3e109b73d691cc9088904a0401ac,openstack/tripleo-heat-templates,master,bug/1765439,I9a5bff5e5d0c3e109b73d691cc9088904a0401ac,Add support of shared staging location for glance-direct,MERGED,2018-05-22 12:07:40.000000000,2018-05-26 05:12:57.000000000,2018-05-26 05:12:57.000000000,45,10,12,569970,a089310bf3269339ddec36e8ba021b67a18abfd0,38,14,2,4,19138,Pranali Deore,PranaliD,"Add support of shared staging location for glance-direct

In the case of an HA setup (ie with 3 controller nodes) if image
import method is 'glance-direct', it would require a shared
consistent staging location on the controller nodes otherwise it
might happen that the image is uploaded to one node and triggering
the import is executed on a different node - where the image does not
exist.

Hence when import method 'glance-direct' is needed, operators need to
enable it explicitly with enabling NFS across the controller nodes
to share the staging.

Change-Id: I9a5bff5e5d0c3e109b73d691cc9088904a0401ac
Closes-Bug: #1765439
"
openstack%2Ftripleo-common~master~Ia08d5eea17450db94279c95078453831c0017a67,openstack/tripleo-common,master,bp/store-validations-in-swift,Ia08d5eea17450db94279c95078453831c0017a67,Add an action to upload validations to Swift,MERGED,2018-04-25 10:56:09.000000000,2018-05-26 05:12:56.000000000,2018-05-26 05:12:55.000000000,32,15,5,564160,2b6204f1d88c03c52daa81cd2f3f688d83783308,42,9,5,5,9317,Ana Krivokapic,akrivoka,"Add an action to upload validations to Swift

This will be used to upload validations to Swift on undercloud deploy.

Implements: blueprint store-validations-in-swift

Change-Id: Ia08d5eea17450db94279c95078453831c0017a67
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~I9afa22f7dd344a29747206b286520a76d70d704b,openstack/puppet-tripleo,stable/queens,bug/1771543-stable/queens,I9afa22f7dd344a29747206b286520a76d70d704b,Rework GDPR compliant logrotate config,MERGED,2018-05-24 07:48:42.000000000,2018-05-26 05:12:53.000000000,2018-05-26 05:12:53.000000000,46,33,0,570328,6de93743e7b85deaeaef075fa26209ced0e55ad1,16,7,1,3,6926,Bogdan Dobrelya,bogdando,"Rework GDPR compliant logrotate config

Set the logrotate maxage parameter to purge_after_days
as well.

Rework additional retention rules of files in
/var/log/containers in the containerized logrotate
postrotate script. The rules are based on any of the
listed criteria met:

* time of last access of contents (atime) exceeds
purge_after_days,
* time of last modification of contents (mtime) exceeds
purge_after_days,
* time of last modification of the inode (metadata, ctime)
exceeds purge_after_days.

Forcibly purge expired files with each containerized
logrotate run triggered via cron. Note that the files creation
time (the Birth attribute) is not taken into account as it
cannot be accessed normally by system operators (depends on FS
type). Retention policies based on the creation time must
be managed elsewhere.

Related-Bug: #1771543

Change-Id: I9afa22f7dd344a29747206b286520a76d70d704b
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit d032e6d5fc89246865714909510e199d61e08fb0)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I8f28032488c30b5d38d8c7fa76872a2c3a642717,openstack/tripleo-heat-templates,stable/queens,bug/1772072,I8f28032488c30b5d38d8c7fa76872a2c3a642717,Add acl to paths that are shared among related neutron processes,MERGED,2018-05-25 11:29:39.000000000,2018-05-26 05:12:52.000000000,2018-05-26 05:12:52.000000000,62,0,0,570563,816a4347953bea4b3f85a76938a6b218aca99450,7,3,1,2,6681,Brent Eagles,beagles,"Add acl to paths that are shared among related neutron processes

Neutron runs several processes to support features such as routers,
dhcp, etc. Neutron monitors these processes through shared domain
sockets, pids files, etc in /var/lib/neutron.  When upgrading a node
from a non-containerized deployment to containers, the user and group
ids are updated to that of the container and the supporting processes
are no longer able to access the shared files. This patch adds ACL to
the shared files to resolve this.

Note this only impacts upgraded nodes and only routers, networks, etc,
that existed before the upgrade.

Closes-Bug: #1772072
Change-Id: I8f28032488c30b5d38d8c7fa76872a2c3a642717
(cherry picked from commit 818ad752f8b048217a0d5b76ea2c5f86714597f4)
"
openstack%2Ftripleo-heat-templates~master~I6af52ed56568a417358c527933bb6fb7b3f6a14e,openstack/tripleo-heat-templates,master,trivialfix,I6af52ed56568a417358c527933bb6fb7b3f6a14e,fix a typo in collectd.yaml,MERGED,2018-05-23 15:39:58.000000000,2018-05-26 05:12:50.000000000,2018-05-26 05:12:50.000000000,1,1,0,570218,c20a28ae5bfa0e0cbd0da20766a738a134eb7398,7,3,1,1,17130,melissaml,malei,"fix a typo in collectd.yaml

Change-Id: I6af52ed56568a417358c527933bb6fb7b3f6a14e
"
openstack%2Ftripleo-heat-templates~master~Ibe15c5476c42b3dbeb7037ece80fbf973776c7d7,openstack/tripleo-heat-templates,master,bug/1771179,Ibe15c5476c42b3dbeb7037ece80fbf973776c7d7,Fix for the manila backend configuration errors,MERGED,2018-05-14 18:27:02.000000000,2018-05-26 04:46:34.000000000,2018-05-26 04:46:34.000000000,3,3,0,568348,5f00ddde30060b0ac25aaa173644502dcaf13e4e,14,8,4,3,10379,Rajini Karthik,rajinir,"Fix for the manila backend configuration errors

Fixing the manila configuration when using
dell emc manila templates due to malformed
emc_shared_backend hiera value

manila::backend::dellemc_vnx::share_backend_name will
be generically fixed for all backends in the
puppet-tripleo code

Closes-Bug: #1771179
Change-Id: Ibe15c5476c42b3dbeb7037ece80fbf973776c7d7
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I7038601d7505a60df2a1fb7fd8db818efa105341,openstack/tripleo-heat-templates,stable/queens,bug/1765439,I7038601d7505a60df2a1fb7fd8db818efa105341,Add ability to control Glance's enabled_import_methods,MERGED,2018-05-11 11:43:45.000000000,2018-05-26 04:46:33.000000000,2018-05-26 04:46:33.000000000,7,0,0,567833,7a673f6d697ff4741cd71d1ab1210d4ae96a76c7,32,5,2,1,21129,Alan Bishop,ASBishop,"Add ability to control Glance's enabled_import_methods

Add GlanceEnabledImportMethods parameter, and set the default value to
restrict Glance from using its 'glance-direct' import method. The
glance-direct method requires a special configuration when deployed in
an HA environment, and that capability will be added in a later release.

Closes-Bug: #1765439
Depends-On: https://review.openstack.org/568550
Change-Id: I7038601d7505a60df2a1fb7fd8db818efa105341
(cherry picked from commit 383836ad33a07a17ebe4cd870c2560b5923d9a61)
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I52b32ebecfe1fc270bda7d5c0e7e90ce273e72a6,openstack/tripleo-heat-templates,stable/pike,bug/1772635,I52b32ebecfe1fc270bda7d5c0e7e90ce273e72a6,collectd: give access to the libvirt socket in ro,MERGED,2018-05-25 06:15:10.000000000,2018-05-26 04:15:28.000000000,2018-05-26 04:15:28.000000000,3,0,0,570517,7772c1825c4933343574133e706f34444d0a7f46,8,5,1,1,4264,Matthias Runge,mrunge,"collectd: give access to the libvirt socket in ro

collectd virt plugin needs to read /var/run/libvirt/libvirt-sock-ro to
work.

This change gives this access.

Closes-bug: #1772635
Change-Id: I52b32ebecfe1fc270bda7d5c0e7e90ce273e72a6
(cherry picked from commit e04b3ce97286cd74dfbfd66c82dd6f72b356ff81)
"
openstack%2Fneutron-lbaas~stable%2Focata~I2de5800f4a6b06f98174ef42390f0e2c91bf0cfd,openstack/neutron-lbaas,stable/ocata,bug/1692995-stable/ocata,I2de5800f4a6b06f98174ef42390f0e2c91bf0cfd,Fix the wrong device_owner when recreate LBaas listener,MERGED,2018-03-21 11:35:49.000000000,2018-05-26 03:34:49.000000000,2018-05-26 03:34:49.000000000,2,0,0,554883,0ad78bda27846527d1b755cd7a248e35ef6c6932,13,5,3,1,12907,Jan Zerebecki,jzerebecki,"Fix the wrong device_owner when recreate LBaas listener

Currently, lbaas agent refresh loadbalancer based on the number of active
listener, and will update the port with device_own='' if delete the last
listener in loadbalancer.

So the device_owner of the vip port of exist loadbalancer will never
update to the correct one.

This patch add port device_owner field to PUT to guarantee the field is
'neutron:LOADBALANCERV2'.

Change-Id: I2de5800f4a6b06f98174ef42390f0e2c91bf0cfd
Closes-Bug:#1692995
(cherry picked from commit 7fa6bb9030a1801e7956ec9bd98cd5c2d2021569)
"
openstack%2Fopenstacksdk~master~I3cf0832c9fc81a8c78e9ec4ef0a16c7e63fa8413,openstack/openstacksdk,master,569422,I3cf0832c9fc81a8c78e9ec4ef0a16c7e63fa8413,Allow explicitly setting enable_snat to either value,MERGED,2018-05-18 14:16:28.000000000,2018-05-26 03:20:42.000000000,2018-05-26 03:20:42.000000000,22,7,0,569422,d12bda5d0312685470cb96c231c6ada9b4bf9c3e,12,4,2,2,2,Monty Taylor,mordred,"Allow explicitly setting enable_snat to either value

The original code did not allow someone to set enable_snat to True.
Turns out on some clouds the default is the opposite.

Change-Id: I3cf0832c9fc81a8c78e9ec4ef0a16c7e63fa8413
"
openstack%2Fopenstacksdk~master~I49e97b5e2ae9b7862915ff83263718cf6cad32b8,openstack/openstacksdk,master,,I49e97b5e2ae9b7862915ff83263718cf6cad32b8,Avoid globally modifying yaml library,MERGED,2018-05-15 21:41:16.000000000,2018-05-26 03:14:12.000000000,2018-05-26 03:14:12.000000000,12,8,4,568705,5834d5e7cf1d8332f4621b0de5fdf40c93456dae,9,4,1,2,2,Monty Taylor,mordred,"Avoid globally modifying yaml library

The heat utils set up the yaml parser to always return unicode strings,
but are currently doing it in a way that infects all uses of the
library.

Make a subclass of the loader and run add_constructor on that so that
the new constructor is confined to the specific loader.

Change-Id: I49e97b5e2ae9b7862915ff83263718cf6cad32b8
Story: 2002040
"
openstack%2Fos-client-config~master~I29d354f7584d783104220a797ef9cf97bcc490a2,openstack/os-client-config,master,,I29d354f7584d783104220a797ef9cf97bcc490a2,Remove app_name config tests,MERGED,2018-05-20 21:30:55.000000000,2018-05-26 03:10:55.000000000,2018-05-26 03:10:55.000000000,0,57,0,569673,46ac30df8eded2d6433adaf0ed9447b9188049fc,11,3,2,1,2,Monty Taylor,mordred,"Remove app_name config tests

These are testing that an underlying method is being called with a set
of parameters but the method isn't implemented in this library.

Change-Id: I29d354f7584d783104220a797ef9cf97bcc490a2
"
openstack%2Fshade~master~Ic3bbfa35f7c6184faa60922b4dd796708de57136,openstack/shade,master,569425,Ic3bbfa35f7c6184faa60922b4dd796708de57136,Allow explicitly setting enable_snat to either value,MERGED,2018-05-18 14:23:33.000000000,2018-05-26 02:55:21.000000000,2018-05-26 02:55:20.000000000,22,7,0,569425,60aafcc4bc5289c14db0cf414db1b9b54ce852c6,8,3,2,2,2,Monty Taylor,mordred,"Allow explicitly setting enable_snat to either value

The original code did not allow someone to set enable_snat to True.
Turns out on some clouds the default is the opposite.

Change-Id: Ic3bbfa35f7c6184faa60922b4dd796708de57136
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I52b32ebecfe1fc270bda7d5c0e7e90ce273e72a6,openstack/tripleo-heat-templates,stable/queens,bug/1772635,I52b32ebecfe1fc270bda7d5c0e7e90ce273e72a6,collectd: give access to the libvirt socket in ro,MERGED,2018-05-25 06:13:02.000000000,2018-05-26 02:28:25.000000000,2018-05-26 02:28:25.000000000,1,0,0,570516,e4d68c8a319881396e02e1392b1ffa8fe5cc0e68,7,4,1,1,4264,Matthias Runge,mrunge,"collectd: give access to the libvirt socket in ro

collectd virt plugin needs to read /var/run/libvirt/libvirt-sock-ro to
work.

This change gives this access.

Closes-bug: #1772635
Change-Id: I52b32ebecfe1fc270bda7d5c0e7e90ce273e72a6
(cherry picked from commit e04b3ce97286cd74dfbfd66c82dd6f72b356ff81)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I0b3567edd7530d1ae0a69d3ee25bd1442f14fb58,openstack/tripleo-heat-templates,stable/queens,bug/1757066-stable/queens,I0b3567edd7530d1ae0a69d3ee25bd1442f14fb58,Add the service_config_settings from nova-compute base,MERGED,2018-04-23 09:55:56.000000000,2018-05-26 02:28:24.000000000,2018-05-26 02:28:24.000000000,1,0,0,563554,b42cd09f8469396e1219bf37f50a45f878f91985,8,4,1,1,22954,Juan Badia Payno,jbadiapa,"Add the service_config_settings from nova-compute base

The docker nova-compute.yaml file does not have the
service_config_settings from the base file. So the
collectd and fluentd parameters defined are not got
when the service run containerized.

The patch get the service_config_settings from the base file and
use it on the when is containerized.

Closes-Bug: #1757066
Change-Id: I0b3567edd7530d1ae0a69d3ee25bd1442f14fb58
(cherry picked from commit a3297afea9fd03c495c280cac881218032786355)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I8fe646a569be6c6c6fbd983546af3a1181bc370b,openstack/tripleo-heat-templates,stable/queens,healthcheck/queens-enabling,I8fe646a569be6c6c6fbd983546af3a1181bc370b,Enable nova-metadata health check,MERGED,2018-04-20 20:21:47.000000000,2018-05-26 02:28:23.000000000,2018-05-26 02:28:23.000000000,2,0,0,563284,b6adea05ed421aad560e035805a1cb40af9975d7,13,7,1,1,5241,Martin Magr,mmagr,"Enable nova-metadata health check

This patch enables healthcheck execution for nova-metadata container.

Change-Id: I8fe646a569be6c6c6fbd983546af3a1181bc370b
(cherry picked from commit 336ccab080d74f9e6ed702fd88cb25b7e8a8f509)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I8c53308e07e1487eecb90f3c35864ea77a3c2937,openstack/tripleo-heat-templates,stable/queens,healthcheck/queens-enabling,I8c53308e07e1487eecb90f3c35864ea77a3c2937,Enable nova placement health check,MERGED,2018-04-20 20:21:47.000000000,2018-05-26 02:28:21.000000000,2018-05-26 02:28:21.000000000,2,1,0,563283,aa336c2febd482b296ecfdc96c2c4ffee2e7f9f1,9,5,1,1,5241,Martin Magr,mmagr,"Enable nova placement health check

This patch enables health check execution for Nova placement API
docker container.

Change-Id: I8c53308e07e1487eecb90f3c35864ea77a3c2937
Depends-On: Ib82cb849540694106a869ec81694f1159967ee79
(cherry picked from commit 472b2f4ab4db1691ea97eee88c82e1e993746859)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Id134a649e046625218c1593766b6833baaa9f168,openstack/tripleo-heat-templates,stable/queens,healthcheck/queens-enabling,Id134a649e046625218c1593766b6833baaa9f168,Enable Tacker health check,MERGED,2018-04-20 20:21:47.000000000,2018-05-26 02:28:20.000000000,2018-05-26 02:28:20.000000000,2,0,0,563282,26196d44dd834850230d8bf5fccbbedd1de0705b,9,4,1,1,5241,Martin Magr,mmagr,"Enable Tacker health check

This patch enables health check execution for Tacker docker container.

Change-Id: Id134a649e046625218c1593766b6833baaa9f168
Depends-On: Ib82cb849540694106a869ec81694f1159967ee79
(cherry picked from commit e9bf3415c650d2e86cb2a4c978ac498e0fb1a6e6)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I8717c56c35dc5a5ee7714ffaa48554ab7718035d,openstack/tripleo-heat-templates,stable/queens,healthcheck/queens-enabling,I8717c56c35dc5a5ee7714ffaa48554ab7718035d,Enable gnocchi-metricd health check,MERGED,2018-04-20 20:21:47.000000000,2018-05-26 02:28:19.000000000,2018-05-26 02:28:19.000000000,2,0,0,563281,3f42bf52a603622d9edf8d32fcb26236713d3e2f,7,3,1,1,5241,Martin Magr,mmagr,"Enable gnocchi-metricd health check

This patch enables health check execution for gnocchi-metricd docker container.

Change-Id: I8717c56c35dc5a5ee7714ffaa48554ab7718035d
Depends-On: Ib82cb849540694106a869ec81694f1159967ee79
(cherry picked from commit 2415b5e1ecbc6ef4fa471f56d4e3cffba569f56d)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ibe7dcfd4c5dcd1d2558fecbb8d0e7f2b880f275e,openstack/tripleo-heat-templates,stable/queens,healthcheck/queens-enabling,Ibe7dcfd4c5dcd1d2558fecbb8d0e7f2b880f275e,Enable gnocchi-api health check,MERGED,2018-04-20 20:21:47.000000000,2018-05-26 02:28:17.000000000,2018-05-26 02:28:17.000000000,2,0,0,563280,4d945313031d06030e941aab070e1bc66109749d,9,4,1,1,5241,Martin Magr,mmagr,"Enable gnocchi-api health check

This patch enables health check execution for gnocchi-api docker container.

Change-Id: Ibe7dcfd4c5dcd1d2558fecbb8d0e7f2b880f275e
Depends-On: Ib82cb849540694106a869ec81694f1159967ee79
(cherry picked from commit 1e7544dafcd4cff103beb80f52e9b7992a785abc)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I2bf04544d4cf200ce7e3960a7c71ab15f013fe52,openstack/tripleo-heat-templates,stable/queens,healthcheck/queens-enabling,I2bf04544d4cf200ce7e3960a7c71ab15f013fe52,Enable nova-migration-target health check,MERGED,2018-04-20 20:21:47.000000000,2018-05-26 02:25:56.000000000,2018-05-26 02:25:56.000000000,2,0,0,563279,51a4683ee675a7cbee063e0d69b1da35ee8b506c,10,6,1,1,5241,Martin Magr,mmagr,"Enable nova-migration-target health check

This patch enables health check execution for nova-migration-target
docker container. Nova compute image is used for this container
and support for this service has been implemented in previous release
already.

Change-Id: I2bf04544d4cf200ce7e3960a7c71ab15f013fe52
Depends-On: Ib82cb849540694106a869ec81694f1159967ee79
(cherry picked from commit 9cf63b91b366fda7485430e7c8c3d1e79d605e13)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I6d0aa53aa9e3fbb4fd47300f8fa6a32574cfda9f,openstack/tripleo-heat-templates,stable/queens,healthcheck/queens-enabling,I6d0aa53aa9e3fbb4fd47300f8fa6a32574cfda9f,Enable gnocchi-statsd health check,MERGED,2018-04-20 20:21:47.000000000,2018-05-26 02:25:54.000000000,2018-05-26 02:25:54.000000000,2,0,0,563278,152a50610b5a5434cbf8674d1989799676fc54a2,7,3,1,1,5241,Martin Magr,mmagr,"Enable gnocchi-statsd health check

This patch enables health check execution for gnocchi-statsd docker container.

Change-Id: I6d0aa53aa9e3fbb4fd47300f8fa6a32574cfda9f
Depends-On: Ib82cb849540694106a869ec81694f1159967ee79
(cherry picked from commit 02eb6193e3f82cee17a8a16afb22643818ff82bd)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I4c51f8b7260eb04cd8a8c502ed1b80df4f025880,openstack/tripleo-heat-templates,stable/queens,healthcheck/queens-enabling,I4c51f8b7260eb04cd8a8c502ed1b80df4f025880,Enable cinder-api health check,MERGED,2018-04-20 20:21:47.000000000,2018-05-26 02:25:53.000000000,2018-05-26 02:25:53.000000000,2,0,0,563277,b4192f52363f40ec0e393be87338ea1e1b14ead5,7,3,1,1,5241,Martin Magr,mmagr,"Enable cinder-api health check

This patch enables health check execution for cinder-api docker container.

Change-Id: I4c51f8b7260eb04cd8a8c502ed1b80df4f025880
Depends-On: Ib82cb849540694106a869ec81694f1159967ee79
(cherry picked from commit d93ac6b49198b60d584e1c757d1ee9622f379e11)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ifd16dbb87073aecade5f2b68b060e56dec92c51e,openstack/tripleo-heat-templates,stable/queens,healthcheck/queens-enabling,Ifd16dbb87073aecade5f2b68b060e56dec92c51e,Enable collectd health check,MERGED,2018-04-20 20:21:47.000000000,2018-05-26 02:12:00.000000000,2018-05-26 02:12:00.000000000,5,0,0,563276,289e8f4e3a940d98860cfc593365a449a8845554,11,5,1,2,5241,Martin Magr,mmagr,"Enable collectd health check

This patch enables health check execution for collectd docker container.

Change-Id: Ifd16dbb87073aecade5f2b68b060e56dec92c51e
Depends-On: Ib82cb849540694106a869ec81694f1159967ee79
(cherry picked from commit 3a76b9e7ba979d179ea60541bc187f633a7b8836)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ie71eeabfd514ab17e8c8181f9c45e0a1e2f6c2bc,openstack/tripleo-heat-templates,stable/queens,healthcheck/queens-enabling,Ie71eeabfd514ab17e8c8181f9c45e0a1e2f6c2bc,Enable aodh-api health check,MERGED,2018-04-20 20:21:47.000000000,2018-05-26 02:11:59.000000000,2018-05-26 02:11:59.000000000,2,0,0,563275,b48618fd8a0f226b405e6cbb0e319cba33411862,7,3,1,1,5241,Martin Magr,mmagr,"Enable aodh-api health check

This patch enables health check execution for aodh-api docker container.

Change-Id: Ie71eeabfd514ab17e8c8181f9c45e0a1e2f6c2bc
Depends-On: Ib82cb849540694106a869ec81694f1159967ee79
(cherry picked from commit 1beaa8dcb997fb662bc36b337579694991c6b5cd)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I6cb4380f897ed820f7ecd588610fb3cf80c4297a,openstack/tripleo-heat-templates,stable/queens,healthcheck/queens-enabling,I6cb4380f897ed820f7ecd588610fb3cf80c4297a,Enable etcd health check,MERGED,2018-04-20 20:21:47.000000000,2018-05-26 02:11:46.000000000,2018-05-26 02:11:46.000000000,2,0,0,563274,cadfdc5d450c0f45ec7161bd21ad2a24ac2b9c96,8,4,1,1,5241,Martin Magr,mmagr,"Enable etcd health check

This patch enables health check execution for etcd docker container.

Change-Id: I6cb4380f897ed820f7ecd588610fb3cf80c4297a
Depends-On: Ib82cb849540694106a869ec81694f1159967ee79
(cherry picked from commit c5ca4da03fb54ae67c01c9b601acd6958ea7eb67)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I8bfd49f0d1762b4dbf1952a3454e0fa6a42697bc,openstack/tripleo-heat-templates,stable/queens,healthcheck/queens-enabling,I8bfd49f0d1762b4dbf1952a3454e0fa6a42697bc,Enable ceilometer-agent-central health check,MERGED,2018-04-20 20:21:47.000000000,2018-05-26 02:11:44.000000000,2018-05-26 02:11:44.000000000,2,0,0,563273,a3294a7c32328009eb912d2f0c05734750f72d0f,9,4,1,1,5241,Martin Magr,mmagr,"Enable ceilometer-agent-central health check

This patch enables health check execution for ceilometer-agent-central docker container.

Change-Id: I8bfd49f0d1762b4dbf1952a3454e0fa6a42697bc
Depends-On: Ib82cb849540694106a869ec81694f1159967ee79
(cherry picked from commit 57fe34b4c528c6770091e21277f255f9dda8f34b)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ie3634af9c62787ab4059a18778d3a3632dec2500,openstack/tripleo-heat-templates,stable/queens,healthcheck/queens-enabling,Ie3634af9c62787ab4059a18778d3a3632dec2500,Enable memcached health check,MERGED,2018-04-20 20:21:47.000000000,2018-05-26 02:11:43.000000000,2018-05-26 02:11:43.000000000,2,0,0,563272,7135bf1e405e26e14e701af258c81da2eb3571f0,11,5,1,1,5241,Martin Magr,mmagr,"Enable memcached health check

This patch enables health check execution for memcached docker container.

Change-Id: Ie3634af9c62787ab4059a18778d3a3632dec2500
Depends-On: Ib82cb849540694106a869ec81694f1159967ee79
(cherry picked from commit 1e19b2e9d0d9e44b1819973b9cb9e4207dece64b)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I39dc5fa64b3a9bccf485f335ee0ec6090c48a3c3,openstack/tripleo-heat-templates,stable/queens,healthcheck/queens-enabling,I39dc5fa64b3a9bccf485f335ee0ec6090c48a3c3,Enable iscsid health check,MERGED,2018-04-20 20:21:47.000000000,2018-05-26 02:11:42.000000000,2018-05-26 02:11:42.000000000,2,0,0,563271,daf0b1ca77b78cf571b6b6ec38dfc392edee0d09,11,5,1,1,5241,Martin Magr,mmagr,"Enable iscsid health check

This patch enables health check execution for iscsid docker container.

Change-Id: I39dc5fa64b3a9bccf485f335ee0ec6090c48a3c3
Depends-On: Ib82cb849540694106a869ec81694f1159967ee79
(cherry picked from commit 98a63abc64da95717136447b724206061e65c43b)
"
openstack%2Ftripleo-validations~stable%2Fqueens~Ic93411be72314b1ebd10956c003b559ebe14ecde,openstack/tripleo-validations,stable/queens,rabbitmq-docker-image-name-stable/queens,Ic93411be72314b1ebd10956c003b559ebe14ecde,Fix docker img filter in rabbitmq validation,MERGED,2018-05-17 08:15:45.000000000,2018-05-26 02:11:41.000000000,2018-05-26 02:11:41.000000000,1,1,0,569054,1013a7837989232ae5ddf892e0eea4e1b60bb559,10,4,1,1,17888,Florian Fuchs,flfuchs,"Fix docker img filter in rabbitmq validation

To determine the current rabbitmq file descriptor limit, a command has to be
executed in the rabbitmq container. The validation uses the `docker ps` command
to find the container ID, but currently uses a name filter that is too strict
to find the right image.

This patch changes the filter to make sure the container image is found.

Change-Id: Ic93411be72314b1ebd10956c003b559ebe14ecde
(cherry picked from commit 38d5d58c9b5c7321fc04293d62b21494dbd85b29)
"
openstack%2Ftripleo-validations~master~Ib240a4626bedb4d2a2d0b51caf696b3728fb7fb0,openstack/tripleo-validations,master,569371,Ib240a4626bedb4d2a2d0b51caf696b3728fb7fb0,Add std_error output to error log in tripleo-ansible-inventory.,MERGED,2018-05-18 10:04:33.000000000,2018-05-26 02:06:21.000000000,2018-05-26 02:06:21.000000000,6,5,8,569371,9bace992f33e4935470e80470712e98c3c994634,17,8,3,1,26343,Jose Luis Franco,jfrancoa,"Add std_error output to error log in tripleo-ansible-inventory.

The standard output was missing in one of the error logs
inside tripleo-ansible-inventory. This made it pretty
hard to debug when ansible-playbook failed due that
inventory script error.
This patch also formats a little the error message to give
some more info about the issue.

Related-Bug: #1768011
Change-Id: Ib240a4626bedb4d2a2d0b51caf696b3728fb7fb0
"
openstack%2Ftripleo-image-elements~master~I1004c2d764339c30653e2f4a3c7aee1343a20b4e,openstack/tripleo-image-elements,master,bug/1735849,I1004c2d764339c30653e2f4a3c7aee1343a20b4e,Add a 60 seconds timeout to ping_metadata_ip(),MERGED,2018-01-20 17:17:43.000000000,2018-05-26 02:04:43.000000000,2018-05-26 02:04:43.000000000,3,1,6,536041,d0de91cd78d88fcb10c88bdb3fa4769e37e22280,48,8,10,1,27419,David Vallee Delisle,dvd,"Add a 60 seconds timeout to ping_metadata_ip()

Closes-Bug: #1735849

Change-Id: I1004c2d764339c30653e2f4a3c7aee1343a20b4e
"
openstack%2Ftripleo-common~stable%2Fqueens~I48ad8971e34ddebd50f5eb36e22a3d072e011d14,openstack/tripleo-common,stable/queens,bug/1754039,I48ad8971e34ddebd50f5eb36e22a3d072e011d14,Octavia amphora image handles updates and symlinks,MERGED,2018-05-07 12:09:10.000000000,2018-05-26 01:53:22.000000000,2018-05-26 01:53:22.000000000,81,14,0,566556,675587eeeb956e838d42759fe415e6c3e08ff26f,19,8,1,4,6681,Brent Eagles,beagles,"Octavia amphora image handles updates and symlinks

This patch adds logic to the octavia image upload to update the
amphora image if a glance image of the same name already exists but has
a different checksum. It also adds some logic for distro specific
default behavior.

Closes-Bug: #1754039
Change-Id: I48ad8971e34ddebd50f5eb36e22a3d072e011d14
(cherry picked from commit 549f9e004c37682cb9c1232099ea63cadf36511b)
"
openstack%2Ftripleo-heat-templates~stable%2Fnewton~I4c29ece765ec9147cef9b4d74d30e3c4483c48ab,openstack/tripleo-heat-templates,stable/newton,bp/lbaasv2-service-integration,I4c29ece765ec9147cef9b4d74d30e3c4483c48ab,Enable Neutron LBaaS Integration,MERGED,2018-04-25 22:47:21.000000000,2018-05-26 00:02:09.000000000,2018-05-26 00:02:09.000000000,7,2,0,564361,cd785ec68bf686075b472a07116a05d41315f76a,6,3,1,2,27069,Sai Ram Peesapati,sairamp,"Enable Neutron LBaaS Integration

Allows the configuration of the Neutron LBaaS agent.

Change-Id: I4c29ece765ec9147cef9b4d74d30e3c4483c48ab
Implements: blueprint lbaasv2-service-integration
(cherry picked from commit e1f7c0f30dc9710369bf915a40b657f81bcb348c)
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I604428dacd63140f4e89b45c55f7eb859df27fe7,openstack/tripleo-heat-templates,stable/pike,bug/1768158,I604428dacd63140f4e89b45c55f7eb859df27fe7,Convert resource_name to number,MERGED,2018-05-24 17:28:38.000000000,2018-05-25 23:52:59.000000000,2018-05-25 23:52:58.000000000,6,1,0,570419,568c09eddf6e86586267be7a4741505e45c6cb26,10,3,1,2,7144,James Slagle,slagle,"Convert resource_name to number

When sorting by resource_name, first convert it to a number so that
it's sorted correctly. Otherwise, deployments with > 10 nodes could
configure nodes out of order.

Change-Id: I604428dacd63140f4e89b45c55f7eb859df27fe7
Closes-Bug: #1768158
(cherry picked from commit 49d072133563dde3c7693e8dacbfdaafac121329)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I604428dacd63140f4e89b45c55f7eb859df27fe7,openstack/tripleo-heat-templates,stable/queens,bug/1768158-stable/queens,I604428dacd63140f4e89b45c55f7eb859df27fe7,Convert resource_name to number,MERGED,2018-05-24 17:22:38.000000000,2018-05-25 23:52:57.000000000,2018-05-25 23:52:57.000000000,6,1,0,570418,e508323f6b73e2d02de53229a3861fb33960134a,9,3,1,2,7144,James Slagle,slagle,"Convert resource_name to number

When sorting by resource_name, first convert it to a number so that
it's sorted correctly. Otherwise, deployments with > 10 nodes could
configure nodes out of order.

Change-Id: I604428dacd63140f4e89b45c55f7eb859df27fe7
Closes-Bug: #1768158
(cherry picked from commit 49d072133563dde3c7693e8dacbfdaafac121329)
"
openstack%2Ftripleo-common~stable%2Fqueens~I6b87b147d301dea3251fe4509b04cd4b9b27ddba,openstack/tripleo-common,stable/queens,bug/1769896-stable/queens,I6b87b147d301dea3251fe4509b04cd4b9b27ddba,Increase services project quotas when deploying Octavia,MERGED,2018-05-18 08:48:55.000000000,2018-05-25 23:43:55.000000000,2018-05-25 23:43:55.000000000,7,0,0,569367,f80838baab4f586f13696c60da39eeafb22aaedd,13,6,1,4,6469,Carlos Gonçalves,cgoncalves,"Increase services project quotas when deploying Octavia

Octavia currently launches load balancer VMs in the services tenant
which has very low quotas by default. This patch increases the values
through the API for the services project to permit lots of load
balancers.

Closes Bug: #1769896

Change-Id: I6b87b147d301dea3251fe4509b04cd4b9b27ddba
(cherry picked from commit 287f110d187b7fe508858e157d9c9ddb6b398f1e)
"
openstack%2Fkeystone-specs~master~Ifd51bafbd41fdec7450a2a3e8285599a0c7dba95,openstack/keystone-specs,master,bp/unified-limits,Ifd51bafbd41fdec7450a2a3e8285599a0c7dba95,Address nits in strict hierarchy spec,ABANDONED,2018-05-18 19:48:39.000000000,2018-05-25 23:43:55.000000000,,2,2,0,569507,fadc8b069e247a02f46b3495140bfa4392b116cc,5,2,1,1,5046,Lance Bragstad,ldbragst,"Address nits in strict hierarchy spec

Change-Id: Ifd51bafbd41fdec7450a2a3e8285599a0c7dba95
"
openstack%2Ftripleo-common~master~I7b19c5299d6d60a96a73cafaf0d7103c3bd7939d,openstack/tripleo-common,master,remove_disable_upgrade_deployment,I7b19c5299d6d60a96a73cafaf0d7103c3bd7939d,Remove the upgrade-non-controller.sh and disable_upgrade_deployment,MERGED,2018-03-29 12:29:38.000000000,2018-05-25 23:43:54.000000000,2018-05-25 23:43:54.000000000,0,219,0,557694,84461a820576020b4dc71b314d7b75b7b07a86a4,25,11,3,3,8449,Marios Andreou,marios,"Remove the upgrade-non-controller.sh and disable_upgrade_deployment

The disable_upgrade_deployment flag is removed from the roles_data
(see depends-on) and so we remove it from the roles schema. The
upgrade-non-controller.sh is also no longer used (last used in
Pike) and so removed. The two are related as they were part of
the same upgrade mechanism.

Depends-On: Ib340376ee80ea42a732a51d0c195b048ca0440ac
Depends-On: https://review.rdoproject.org/r/#/c/13421/
Change-Id: I7b19c5299d6d60a96a73cafaf0d7103c3bd7939d
"
openstack%2Ftripleo-ci~master~If3086bfc96d792edcd5ea8139fd21702ad65d279,openstack/tripleo-ci,master,sprint13-toci-with-dryrun,If3086bfc96d792edcd5ea8139fd21702ad65d279,"Revert ""Add dry run option to toci_quickstart""",MERGED,2018-05-25 14:50:22.000000000,2018-05-25 23:43:53.000000000,2018-05-25 23:43:53.000000000,78,139,1,570585,0876f880298565df456d2b5909766f26bc08f831,12,15,2,4,9976,Ronelle Landy,rlandy,"Revert ""Add dry run option to toci_quickstart""

This reverts commit 418f5a639f2d5b2f68a8dca29fff7e04b8989185.

Closes-Bug: 1773381
Change-Id: If3086bfc96d792edcd5ea8139fd21702ad65d279
"
openstack%2Ftripleo-heat-templates~stable%2Fnewton~I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c,openstack/tripleo-heat-templates,stable/newton,ceph_osd_cleanup-stable/newton,I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c,Remove ceph-osd from the list of packages updated by CephExternal,MERGED,2018-05-23 13:35:15.000000000,2018-05-25 22:57:07.000000000,2018-05-25 22:57:06.000000000,0,1,0,570200,9d3ef3c8dd9ed43c43664630e360ea70d8b3d415,6,2,1,1,6796,Giulio Fidente,gfidente,"Remove ceph-osd from the list of packages updated by CephExternal

During minor updates, puppet is dealing with packages update and
trying to install 'ceph-osd' on the nodes where CephExternal service
is enabled, see [1].

This change is *not* proposed for master (currently tracking Rocky)
because support for puppet-ceph is removed in Rocky, see [2]. Instead
will be backported into Pike, Ocata and Newton.

1. https://bugzilla.redhat.com/show_bug.cgi?id=1572830
2. https://review.openstack.org/#/c/548562/

Change-Id: I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c
(cherry picked from commit f24523a0bc952ad1464a70e50a42ea257adaeacb)
"
openstack%2Fopenstack-helm~master~I1db8c9bd4e29692da5902be385ea6c9e179e987c,openstack/openstack-helm,master,osh-ep-update,I1db8c9bd4e29692da5902be385ea6c9e179e987c,consistency; update remaining charts to entrypoint v0.3.1,MERGED,2018-05-25 19:17:44.000000000,2018-05-25 22:34:35.000000000,2018-05-25 22:34:35.000000000,3,3,0,570606,4860fe95808e6234a22b48c590abe541c0907d06,8,4,1,3,8898,Chris Wedgwood,anticw,"consistency; update remaining charts to entrypoint v0.3.1

Change-Id: I1db8c9bd4e29692da5902be385ea6c9e179e987c
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c,openstack/tripleo-heat-templates,stable/pike,ceph_osd_cleanup-stable/pike,I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c,Remove ceph-osd from the list of packages updated by CephExternal,MERGED,2018-05-23 13:27:38.000000000,2018-05-25 22:04:47.000000000,2018-05-25 22:04:47.000000000,0,1,0,570196,bd83923f5da6f1ad86e5a6d00112578fe7b6a786,7,3,1,1,6796,Giulio Fidente,gfidente,"Remove ceph-osd from the list of packages updated by CephExternal

During minor updates, puppet is dealing with packages update and
trying to install 'ceph-osd' on the nodes where CephExternal service
is enabled, see [1].

This change is *not* proposed for master (currently tracking Rocky)
because support for puppet-ceph is removed in Rocky, see [2]. Instead
will be backported into Pike, Ocata and Newton.

1. https://bugzilla.redhat.com/show_bug.cgi?id=1572830
2. https://review.openstack.org/#/c/548562/

Change-Id: I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c
(cherry picked from commit f24523a0bc952ad1464a70e50a42ea257adaeacb)
"
openstack%2Ftripleo-heat-templates~master~Ifa7ed93993082466a2a6ddff56bee58b074be512,openstack/tripleo-heat-templates,master,bug/1768142,Ifa7ed93993082466a2a6ddff56bee58b074be512,Fix 3node deployment,MERGED,2018-05-23 19:15:39.000000000,2018-05-25 22:03:29.000000000,2018-05-25 22:03:29.000000000,1,1,0,570252,0ef3058459c082b0f19b4fe275c38cd8e60fb8d8,20,7,2,1,14985,Alex Schultz,mwhahaha,"Fix 3node deployment

The keystone role needs to be on the same node as the mysql/haproxy node
due to a TLS requirement that the haproxy be on the 'primary' tagged
node. Since the keystone bootstrap stuff only runs on the primary node
as well, they need to be tied together.

Change-Id: Ifa7ed93993082466a2a6ddff56bee58b074be512
Closes-Bug: #1768142
"
openstack%2Ftripleo-common~master~Ib346f56b4de59c275e907a6ee4364eb311af2fc5,openstack/tripleo-common,master,bug/1730712,Ib346f56b4de59c275e907a6ee4364eb311af2fc5,Use the standard messaging in the networks workbook,MERGED,2018-03-20 15:38:26.000000000,2018-05-25 22:03:28.000000000,2018-05-25 22:03:28.000000000,25,34,0,554593,6b47b360afd43cd691619dd6cf7628874224c900,24,5,6,1,9712,Dougal Matthews,dougal,"Use the standard messaging in the networks workbook

Update the networks workbook to use the standard message sending
workflow. This workflow reduces the boilerplate that is copied between
workflows by defining the message structure, providing the retry logic
and ensuring the task on a ""FAILED"" message.

The workflow also offers optional persistence in Swift. If the plan name
is given to the workflow it will store the messages in a Swift container
named <plan_name>-messages.

Related-Bug: #1757372

Change-Id: Ib346f56b4de59c275e907a6ee4364eb311af2fc5
"
openstack%2Ftripleo-common~master~I5087b777a24700c0d99c42db9ead64933674247b,openstack/tripleo-common,master,bug/1730712,I5087b777a24700c0d99c42db9ead64933674247b,Use the standard messaging in the fernet-key-rotate workbook,MERGED,2018-03-20 14:02:08.000000000,2018-05-25 22:03:27.000000000,2018-05-25 22:03:27.000000000,12,16,0,554552,4c124f6559ae8b17f1634784a0e4ceae81994b23,24,6,6,1,9712,Dougal Matthews,dougal,"Use the standard messaging in the fernet-key-rotate workbook

Update the fernet-key-rotate workbook to use the standard message sending
workflow. This workflow reduces the boilerplate that is copied between
workflows by defining the message structure, providing the retry logic
and ensuring the task on a ""FAILED"" message.

The workflow also offers optional persistence in Swift. If the plan name
is given to the workflow it will store the messages in a Swift container
named <plan_name>-messages.

Related-Bug: #1757372

Change-Id: I5087b777a24700c0d99c42db9ead64933674247b
"
openstack%2Ftripleo-quickstart~master~I38d2052145a9326406cde46586e6b2c7334a35ac,openstack/tripleo-quickstart,master,bug/1771074,I38d2052145a9326406cde46586e6b2c7334a35ac,Remove ceph from major upgrade jobs.,MERGED,2018-05-14 08:26:03.000000000,2018-05-25 21:37:43.000000000,2018-05-25 21:37:43.000000000,4,4,2,568229,ca86b1a6148353f28bb91a876432db027273290d,33,14,3,1,26343,Jose Luis Franco,jfrancoa,"Remove ceph from major upgrade jobs.

Due to the lack of possibility to upgrade an
environment with a single ceph node, we need
to leave out ceph services from upstream testing
in CI.

This patch also unsets the pingtest in favor of
tempest validations.

Change-Id: I38d2052145a9326406cde46586e6b2c7334a35ac
Closes-Bug: #1771074
"
openstack%2Fswift~master~Id089e29e7ecfc8cec79c520f604aa01bdae0dcf0,openstack/swift,master,haproxy-proxy-support,Id089e29e7ecfc8cec79c520f604aa01bdae0dcf0,Always pass capitalize_response_headers=False to eventlet.wsgi.server(),MERGED,2018-05-24 01:18:13.000000000,2018-05-25 21:30:35.000000000,2018-05-25 21:30:35.000000000,7,14,3,570285,693d9a65706adec365c1b4be92f022715a18783b,7,3,1,2,2622,Samuel Merritt,torgomatic,"Always pass capitalize_response_headers=False to eventlet.wsgi.server()

For a while, this was conditional because we supported old Eventlet
versions that didn't have this keyword arg. Now, we require new-enough
Eventlet that it's always available, so let's get rid of the
conditional crud.

The flag was introduced in Eventlet 0.15, and we require >= 0.17.4.

Change-Id: Id089e29e7ecfc8cec79c520f604aa01bdae0dcf0
"
openstack%2Fswift~master~Icb88902f0a89b8d980c860be032d5e822845d03a,openstack/swift,master,haproxy-proxy-support,Icb88902f0a89b8d980c860be032d5e822845d03a,Add support for PROXY protocol v1 (only),MERGED,2016-09-21 00:22:21.000000000,2018-05-25 21:30:34.000000000,2018-05-25 21:30:34.000000000,386,35,73,373563,661838d968c163cec716cd5c8bcce9f5c69d18d4,61,9,11,4,2696,Darrell Bishop,darrellb,"Add support for PROXY protocol v1 (only)

...to the proxy-server.

The point is to allow the Swift proxy server to log accurate
client IP addresses when there is a proxy or SSL-terminator between the
client and the Swift proxy server.  Example servers supporting this
PROXY protocol:
  stud (v1 only)
  stunnel
  haproxy
  hitch (v2 only)
  varnish

See http://www.haproxy.org/download/1.7/doc/proxy-protocol.txt

The feature is enabled by adding this to your proxy config file:

  [app:proxy-server]
  use = egg:swift#proxy
  ...
  require_proxy_protocol = true

The protocol specification states:

  The receiver MUST be configured to only receive the protocol
  described in this specification and MUST not try to guess
  whether the protocol header is present or not.

so valid deployments are:

  1) require_proxy_protocol = false  (or missing; default is false)
     and NOT behind a proxy that adds or proxies existing PROXY lines.
  2) require_proxy_protocol = true
     and IS behind a proxy that adds or proxies existing PROXY lines.

Specifically, in the default configuration, one cannot send the swift
proxy PROXY lines (no change from before this patch).  When this
feature is enabled, one _must_ send PROXY lines.

Change-Id: Icb88902f0a89b8d980c860be032d5e822845d03a
"
openstack%2Fkolla-ansible~master~I1cc889db08b25d7882e49e0a329eccfe25fe3104,openstack/kolla-ansible,master,feature/sensu,I1cc889db08b25d7882e49e0a329eccfe25fe3104,Make the sensu[server|api|client] pass right config locations,ABANDONED,2018-05-22 22:04:31.000000000,2018-05-25 20:48:56.000000000,,3,3,0,570067,18cacb52e236d13a83ba07e846e9ff593572902f,4,2,1,3,1297,Joshua Harlow,harlowja,"Make the sensu[server|api|client] pass right config locations

They were not passing the right directories and files and
seemingly therefore were not starting up correctly, so fix that
so that they do.

Change-Id: I1cc889db08b25d7882e49e0a329eccfe25fe3104
"
openstack%2Fkolla-ansible~master~I97a4a8a3e643748dc86c3e6bc7c4ad77f6aa7bde,openstack/kolla-ansible,master,feature/sensu,I97a4a8a3e643748dc86c3e6bc7c4ad77f6aa7bde,Switch sensu_api_port to different port,ABANDONED,2018-05-22 22:10:09.000000000,2018-05-25 20:48:50.000000000,,1,1,0,570070,3eed08e2eebd7a9878a18f2dc0c627367b0fa7d5,5,3,1,1,1297,Joshua Harlow,harlowja,"Switch sensu_api_port to different port

Change-Id: I97a4a8a3e643748dc86c3e6bc7c4ad77f6aa7bde
"
openstack%2Fkolla-ansible~master~Ifa44dde4ba05cfa69ab87bc2c65423e101cc5ba2,openstack/kolla-ansible,master,feature/sensu,Ifa44dde4ba05cfa69ab87bc2c65423e101cc5ba2,Sensu-api needs to start server ports and needs priviliged mode,ABANDONED,2018-05-22 22:09:41.000000000,2018-05-25 20:48:45.000000000,,10,4,0,570069,9db3fbbbac7652ea4272e5dde52a42aefe0056dd,4,2,1,3,1297,Joshua Harlow,harlowja,"Sensu-api needs to start server ports and needs priviliged mode

Change-Id: Ifa44dde4ba05cfa69ab87bc2c65423e101cc5ba2
"
openstack%2Fkolla-ansible~master~I9c9b1d825382f5a20219f8992c235e6b8af392ce,openstack/kolla-ansible,master,feature/sensu,I9c9b1d825382f5a20219f8992c235e6b8af392ce,The sensu-api when statement doesn't make sense,ABANDONED,2018-05-22 21:58:37.000000000,2018-05-25 20:48:41.000000000,,1,1,0,570062,5f71a895e8af1bdf8d01452389d915825e3bbdc3,4,2,1,1,1297,Joshua Harlow,harlowja,"The sensu-api when statement doesn't make sense

For unknown reasons it is targeting the glance services.

So instead of doing that just like target and follow the
pattern that other roles/projects are doing instead.

Change-Id: I9c9b1d825382f5a20219f8992c235e6b8af392ce
"
openstack%2Fkolla-ansible~master~I1d00dc607be4d7fb60c38d95a977b827248e9532,openstack/kolla-ansible,master,feature/sensu,I1d00dc607be4d7fb60c38d95a977b827248e9532,Avoid using groups['rabbitmq'] to find sensu rabbit hosts,ABANDONED,2018-05-22 22:04:06.000000000,2018-05-25 20:48:35.000000000,,2,2,1,570066,e960cd8ac899ccfe5a9eb1b9043253985233a99b,4,2,1,1,1297,Joshua Harlow,harlowja,"Avoid using groups['rabbitmq'] to find sensu rabbit hosts

We don't actually setup rabbitmq in the way kolla ansible
thinks folks do (fully owned); so we need to be able to specify
the hosts explicitly and not assume they come from inventory.

So to do this just make this a variable that will get set
elsewhere; instead of assuming it comes from a inventory location.

Change-Id: I1d00dc607be4d7fb60c38d95a977b827248e9532
"
openstack%2Fkolla-ansible~master~I0d125a4bd36f9797367403df01b10af80cd47010,openstack/kolla-ansible,master,feature/sensu,I0d125a4bd36f9797367403df01b10af80cd47010,Add a bunch of missing sensu config.yml become: true,ABANDONED,2018-05-22 22:03:19.000000000,2018-05-25 20:48:30.000000000,,11,0,0,570064,f8eafd9391a504e297243496b0dfe889f40e30c4,4,2,1,1,1297,Joshua Harlow,harlowja,"Add a bunch of missing sensu config.yml become: true

A lot are missing and need to be provided to copy configuration
files and such; so add those.

Change-Id: I0d125a4bd36f9797367403df01b10af80cd47010
"
openstack%2Fcharm-neutron-dynamic-routing~master~Id1efcf016fe322872e1782af5c1a5242c855fda1,openstack/charm-neutron-dynamic-routing,master,fixup-nits,Id1efcf016fe322872e1782af5c1a5242c855fda1,Update deploy instructions and amend a few nits,MERGED,2018-05-23 07:07:35.000000000,2018-05-25 20:32:00.000000000,2018-05-25 20:32:00.000000000,10,5,2,570124,cf679563c7f9b7e2823884bab03dbf48d4c7e6aa,12,3,3,4,13686,Frode Nordahl,fnordahl,"Update deploy instructions and amend a few nits

Change-Id: Id1efcf016fe322872e1782af5c1a5242c855fda1
"
openstack%2Ftripleo-specs~master~I7f0c951ec5207d1c8f2a2c871983512cf3c0fee5,openstack/tripleo-specs,master,custom-validations,I7f0c951ec5207d1c8f2a2c871983512cf3c0fee5,Add Support for Custom TripleO Validations,MERGED,2016-11-04 13:41:16.000000000,2018-05-25 20:30:39.000000000,2018-05-25 20:30:39.000000000,160,0,13,393775,90f0b3d0932021a836ef238248a94518da8e3507,50,15,8,1,4330,Tomas Sedovic,tomas-8c8,"Add Support for Custom TripleO Validations

Adding new validations or consuming the latest ones is inconvenient and
error-prone in the current setup.

Co-Authored-By: Ana Krivokapic <akrivoka@redhat.com>
Change-Id: I7f0c951ec5207d1c8f2a2c871983512cf3c0fee5
"
openstack%2Ftripleo-incubator~master~I849176d343eb08e3d7c2e2b279b7b3686f5c2240,openstack/tripleo-incubator,master,modify_http,I849176d343eb08e3d7c2e2b279b7b3686f5c2240,change http to https,ABANDONED,2018-02-02 02:39:24.000000000,2018-05-25 20:23:38.000000000,,3,3,0,540214,a16a07671a7da4af06af61509247fcd394537883,4,2,1,1,27385,lvxianguo,lvxianguo,"change http to https

Change-Id: I849176d343eb08e3d7c2e2b279b7b3686f5c2240
"
openstack%2Fcinder~master~I5f9870d46b7f49cc45d46f5794d8ee0c1bc4a1e2,openstack/cinder,master,encrypted-vol-docs,I5f9870d46b7f49cc45d46f5794d8ee0c1bc4a1e2,Update the volume-encryption doc,MERGED,2018-05-23 17:08:48.000000000,2018-05-25 19:37:04.000000000,2018-05-25 19:37:04.000000000,9,3,1,570240,87f267a1d659cf094d2a1246179feea59f416771,25,21,1,1,6873,Matt Riedemann,mriedem,"Update the volume-encryption doc

There are two changes here:

1. Fix the formatting on the note for configuring
   nova-compute to comment out the fixed_key (note
   that I'm not sure why this is even in here)

2. Add a note that the --device specified to attach
   the volume to the server might not reflect where
   it actually shows up in the guest, especially since
   the libvirt driver completely ignores what the user
   specified.

Change-Id: I5f9870d46b7f49cc45d46f5794d8ee0c1bc4a1e2
"
openstack%2Fcinder~master~I73035be776a7291ca1578f21cab41c59abc0a534,openstack/cinder,master,bug/1772421,I73035be776a7291ca1578f21cab41c59abc0a534,INFINIDAT: fixing extend mechanism,MERGED,2018-05-22 11:15:00.000000000,2018-05-25 19:37:02.000000000,2018-05-25 19:37:02.000000000,12,2,2,569960,c96f3997104f0dca4ed191e3df92715b33bd1a63,69,31,4,3,28279,Ory Jonay,oryjonay,"INFINIDAT: fixing extend mechanism

There was bug (Bug #1772421) that using extend didn't extend the volume
and only added to its size.
The fix was to calculate size delta inside extend_volume and pass the
calculated delta to the API resize method.

Change-Id: I73035be776a7291ca1578f21cab41c59abc0a534
Closes-Bug: #1772421
"
openstack%2Fopenstack-helm-infra~master~I484b241f031cc0358745df8cb15b5c3de9b1548e,openstack/openstack-helm-infra,master,trivialfix,I484b241f031cc0358745df8cb15b5c3de9b1548e,fix a typo in documentation,MERGED,2018-05-24 22:48:58.000000000,2018-05-25 19:31:25.000000000,2018-05-25 19:31:25.000000000,1,1,0,570471,19f92a93932e843a3775cc20df49f429f4c3b010,8,4,1,1,17130,melissaml,malei,"fix a typo in documentation

Change-Id: I484b241f031cc0358745df8cb15b5c3de9b1548e
"
openstack%2Fcinder~master~I5f1f7ea2f389783fe8b936d67d0ab99d759c4124,openstack/cinder,master,,I5f1f7ea2f389783fe8b936d67d0ab99d759c4124,Update author in latex sphinx doc builds,MERGED,2018-05-23 21:07:49.000000000,2018-05-25 19:22:46.000000000,2018-05-25 19:22:46.000000000,1,1,0,570258,2c238038b56f27f7677c9c6f3162e9afa7eead89,24,20,1,1,5196,Matthew Treinish,treinish,"Update author in latex sphinx doc builds

This commit updates the author in the latex build metadata in the sphinx
conf.py. This was set to Anso Labs, LLC from the initial fork out of
Nova in 2012. It's highly unlikely that an LLC acquired by Rackspace in
2011 is actually the author of the latex version of the docs so this
commit changes it to be ""Cinder Contributors"" to be accurate.

Change-Id: I5f1f7ea2f389783fe8b936d67d0ab99d759c4124
"
openstack%2Fcinder~master~I98542e1a9acff914a3045ff4610a7b989d7dd9b2,openstack/cinder,master,drbd_opt,I98542e1a9acff914a3045ff4610a7b989d7dd9b2,Fix option description in DRBD driver,MERGED,2018-05-18 14:48:51.000000000,2018-05-25 19:22:41.000000000,2018-05-25 19:22:41.000000000,5,5,0,569434,b642d0bffc49868c35f51e5691635b0dd653c5d1,26,22,1,1,11904,Sean McGinnis,SeanM,"Fix option description in DRBD driver

Formatting of the help text for one of the config options
resulted in sample config output having incorrect indentation.
This just reformats the help text to not include indentation.

Change-Id: I98542e1a9acff914a3045ff4610a7b989d7dd9b2
"
openstack%2Ftripleo-common~stable%2Fqueens~Ibc052208a8fa3e1866a7cc55dbd4bed0e04a7900,openstack/tripleo-common,stable/queens,bug/1767520-stable/queens,Ibc052208a8fa3e1866a7cc55dbd4bed0e04a7900,Remove horizon ui plugins we don't support,MERGED,2018-05-21 18:41:11.000000000,2018-05-25 19:21:09.000000000,2018-05-25 19:21:09.000000000,8,0,0,569844,d32df55b871af4b955b6389fba8746c8c4ce5100,22,5,1,1,14985,Alex Schultz,mwhahaha,"Remove horizon ui plugins we don't support

The trove horizon plugin actually causes problems for horizon by default
but there's also a list of dashboards for services we don't officially
support being deployed via TripleO. This change removes the cloudkitty,
murano and trove ui packages from the horizon container.

Change-Id: Ibc052208a8fa3e1866a7cc55dbd4bed0e04a7900
Closes-Bug: #1767520
(cherry picked from commit 5f9e974564cad477b8de03de7e5eb80c1273f4c4)
"
openstack%2Fcastellan-ui~master~I8a2b892ea85d2951eb892fc2c5eca9e3296f3162,openstack/castellan-ui,master,remove_mox_dependency,I8a2b892ea85d2951eb892fc2c5eca9e3296f3162,Remove mox dependency,ABANDONED,2018-05-24 19:03:10.000000000,2018-05-25 19:19:13.000000000,,0,1,0,570430,1fded743aa7bc854640bb34d8cd9babb2054bdce,4,2,1,1,9914,Ade Lee,alee,"Remove mox dependency

Change-Id: I8a2b892ea85d2951eb892fc2c5eca9e3296f3162
"
openstack%2Fkolla-cli~master~I9d1868da1161ebaf64793ab6d0e42de74389feab,openstack/kolla-cli,master,config_reset_command,I9d1868da1161ebaf64793ab6d0e42de74389feab,Add support for config reset command.,MERGED,2018-05-17 22:29:32.000000000,2018-05-25 18:53:16.000000000,2018-05-25 18:53:16.000000000,376,64,8,569285,e6459aa8f2a5cdf0c8113fd9b737fb36e46d4f56,26,4,8,12,16520,Borne Mace,bmace,"Add support for config reset command.

The config reset command wipes all properties,
inventory data, default tls certificates and passwords.
The password set command now only allows modification
of existing passwords, and clear only removes the value
for existing password keys.  The ability to completely
add new and remove passwords no longer exists as it
was really only useful in very edge cases and did not
play nicely with the concept of doing a config reset.

Change-Id: I9d1868da1161ebaf64793ab6d0e42de74389feab
"
openstack%2Finstack-undercloud~stable%2Fqueens~Ie5831b022d1a7572729e0715cdc07253efbbca17,openstack/instack-undercloud,stable/queens,bug/1767962-stable/queens,Ie5831b022d1a7572729e0715cdc07253efbbca17,Fail in undercloud pre_upgrade if overcloud not in *_COMPLETE state,MERGED,2018-05-24 10:30:55.000000000,2018-05-25 18:42:58.000000000,2018-05-25 18:42:58.000000000,17,0,0,570367,1d11e495043e09d5eb94d9ce8e120144d9793d98,7,3,1,1,8833,Rabi Mishra,rabi,"Fail in undercloud pre_upgrade if overcloud not in *_COMPLETE state

We migrate overcloud stack to convergence in post_config which would
otherwise fail. It makes sense to fail quicker before doing any upgrade.

Change-Id: Ie5831b022d1a7572729e0715cdc07253efbbca17
Related-Bug: #1767962
(cherry picked from commit 04919e7a7c7935973b60350a414018bb3d06da9a)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I89011d06233dafb5ca3bbb45431387ebda521711,openstack/tripleo-heat-templates,stable/queens,bug/1765462,I89011d06233dafb5ca3bbb45431387ebda521711,Set live_migration_inbound_addr for ssh transport,MERGED,2018-05-10 10:34:25.000000000,2018-05-25 18:41:21.000000000,2018-05-25 18:41:21.000000000,16,1,0,567551,1bde252ce5141e4786c3404a207f2a74c4b71b85,10,5,1,2,23811,Oliver Walsh,owalsh,"Set live_migration_inbound_addr for ssh transport

Currently this is only set when TLS is enabled, which means that with the ssh
transport we cannot control the network used, and we are relying on DNS or
hosts file to be correct, which is not guaranteed (especially with DNS).

Related-Bug: 1765462
Depends-On: Ifdc5fbd05195604ab6ea6564d0905f9385c6df67
Change-Id: I89011d06233dafb5ca3bbb45431387ebda521711
(cherry picked from commit 9faea7204ca56561a92b45426fc8047e5b48fe61)
"
openstack%2Ftripleo-heat-templates~master~I4a4e769b07e1982e83cbaec6651c215666def83d,openstack/tripleo-heat-templates,master,bug/1772039,I4a4e769b07e1982e83cbaec6651c215666def83d,Bring update/upgrade tasks for OsloMessagingRpc up to date,MERGED,2018-05-23 09:02:42.000000000,2018-05-25 18:41:20.000000000,2018-05-25 18:41:20.000000000,48,28,0,570148,d0ab92c2b0b38b4c05ffc8e6e013c7b36b8d940f,17,13,3,1,8042,Jiří Stránský,jistr,"Bring update/upgrade tasks for OsloMessagingRpc up to date

The OsloMessagingRpc service template had somewhat outdated
update/upgrade tasks. Bring them to sync with the state of RabbitMQ
service, which is where majority of work recently went, to stabilize
P->Q upgrades. The update/upgrade tasks should be applicable to Q->R
upgrade as well.

Change-Id: I4a4e769b07e1982e83cbaec6651c215666def83d
Closes-Bug: #1772039
"
openstack%2Ftripleo-quickstart~master~I50cc3e824020320c66ad5f04f434f20674de358e,openstack/tripleo-quickstart,master,remove_ceph_ffu,I50cc3e824020320c66ad5f04f434f20674de358e,Remove ceph from fast forward upgrade job,MERGED,2018-05-23 23:24:11.000000000,2018-05-25 18:41:19.000000000,2018-05-25 18:41:18.000000000,2,2,2,570278,9052ded61b8536caa3a12f359a6df48c75d3da0a,24,12,4,1,18851,Marius Cornea,mcornea,"Remove ceph from fast forward upgrade job

ceph-ansible does not support upgrading single nodes environments.
This change switches to use an environment without ceph services
for the fast forward job.

Change-Id: I50cc3e824020320c66ad5f04f434f20674de358e
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I6f2f98aba103f83a4f64a435077f4de33f9692c0,openstack/tripleo-heat-templates,stable/queens,bug/1771543-stable/queens,I6f2f98aba103f83a4f64a435077f4de33f9692c0,Allow custom time constraints to rotate logs,MERGED,2018-05-21 14:30:43.000000000,2018-05-25 18:41:18.000000000,2018-05-25 18:41:18.000000000,38,2,0,569805,c77ab579c4c0230bbeae7ca8d8b50348dbb22bd5,20,5,2,2,6926,Bogdan Dobrelya,bogdando,"Allow custom time constraints to rotate logs

Time based constraints must prevail over size et al
constraints applied for logs of containerized services.
Time based constraints are needed in order to abide
GDPR requirements.

Depending on FS type, Linux may not allow system operators
to access files creation time attribute (see the Birth
attribute shown as '-' by the stat -c %w command).
This is work-arouned by alternative strict time-based rules
defined in the postrotate script, which purges files in
/var/log/containers and ensures GDPR compliant system
configuration, limited to the containerized services logs.

Extended management of life time of journald and /var/log
files residing on bare metal hosts, should be done in
follow up patches.

Partial-bug: #1771543

Change-Id: I6f2f98aba103f83a4f64a435077f4de33f9692c0
Depends-On: Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 62cdc3949f733b726fc1e25708b755e1a21dd9f7)
"
openstack%2Fpython-brick-cinderclient-ext~stable%2Fqueens~If2dd3c134e2de81385fd8a20a05428ed8951afca,openstack/python-brick-cinderclient-ext,stable/queens,post_test_hook-stable/queens,If2dd3c134e2de81385fd8a20a05428ed8951afca,Updated from global requirements,MERGED,2018-02-13 01:59:15.000000000,2018-05-25 18:37:01.000000000,2018-05-25 18:37:01.000000000,1,1,0,543730,7b068a3b1a5f21c6b699f22b8adfd7aaff18f21b,16,5,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: If2dd3c134e2de81385fd8a20a05428ed8951afca
"
openstack%2Fpython-brick-cinderclient-ext~stable%2Fqueens~I1110ddd542f97625b554e805520d391a5a35a832,openstack/python-brick-cinderclient-ext,stable/queens,post_test_hook-stable/queens,I1110ddd542f97625b554e805520d391a5a35a832,Switch from legacy functional tests,MERGED,2018-03-23 20:10:59.000000000,2018-05-25 18:37:00.000000000,2018-05-25 18:37:00.000000000,34,53,0,555924,37b4bccd990cf99848052c6db797a4310653f941,7,3,1,3,11904,Sean McGinnis,SeanM,"Switch from legacy functional tests

Migrate legacy functional test job to the project repository
using the newer recommended functional base job.

Depends-on: https://review.openstack.org/555365/
Change-Id: I1110ddd542f97625b554e805520d391a5a35a832
(cherry picked from commit 0cffa1fccceadaa0da71abef7d8cdbba5b7c42ed)
"
openstack%2Ftripleo-quickstart-extras~master~Ib0d47e7adc72f3a5f9387f87ef11c0ec78f72f06,openstack/tripleo-quickstart-extras,master,bug/1773325,Ib0d47e7adc72f3a5f9387f87ef11c0ec78f72f06,Adding test_object_services to skip list,MERGED,2018-05-25 08:34:45.000000000,2018-05-25 18:16:12.000000000,2018-05-25 18:16:12.000000000,3,0,0,570533,f2eb646202f4d9ef52904cdf840dd7308b450479,11,14,1,1,8367,Arx Cruz,arxcruz,"Adding test_object_services to skip list

This test is continuously failing on the gates in scenario002

Change-Id: Ib0d47e7adc72f3a5f9387f87ef11c0ec78f72f06
Related-Bug: #1773325
"
openstack%2Foctavia~master~Ifc214a597bd9c47344f4f062b8ef9f5d9d2f26c1,openstack/octavia,master,update-pypi-url,Ifc214a597bd9c47344f4f062b8ef9f5d9d2f26c1,Trivial:Update pypi url to new url,ABANDONED,2018-05-23 08:34:41.000000000,2018-05-25 17:33:33.000000000,,1,1,0,570143,ea50e10f513c1b37e3c6ef9f04d58a5eb5dcc38e,5,2,2,1,26151,Wei Zheng,zhengwei6082,"Trivial:Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ifc214a597bd9c47344f4f062b8ef9f5d9d2f26c1
"
openstack%2Foctavia~master~I50cc026cd875dad2318c51b4ad918bd94e6fd1c1,openstack/octavia,master,change_pypi_url,I50cc026cd875dad2318c51b4ad918bd94e6fd1c1,Update pypi url to new url,ABANDONED,2018-05-25 07:13:02.000000000,2018-05-25 17:33:08.000000000,,2,2,0,570523,585313092d6a596c26daec1745aa1823daf4d5fe,4,2,1,2,27565,inspurericzhang,inspurericzhang,"Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I50cc026cd875dad2318c51b4ad918bd94e6fd1c1
"
openstack%2Fpuppet-trove~master~I22a1605a1ac583eb1d30e984ac24c02c4d92662b,openstack/puppet-trove,master,remove_heat_service_type,I22a1605a1ac583eb1d30e984ac24c02c4d92662b,Remove deprecated heat_service_type param,MERGED,2018-05-24 03:19:00.000000000,2018-05-25 17:08:19.000000000,2018-05-25 17:08:19.000000000,4,9,0,570312,d116eb73c98fb7ba76110d7c5bb5f5768e93f259,8,4,1,2,9414,zhongshengping,ZhongShengping,"Remove deprecated heat_service_type param

Remove the deprecated heat_service_type param which has been deprecated.

Change-Id: I22a1605a1ac583eb1d30e984ac24c02c4d92662b
"
openstack%2Fpuppet-sahara~master~Ie835f7e2dc45741863ed9d32b327c780c4274710,openstack/puppet-sahara,master,remove_rabbit_params,Ie835f7e2dc45741863ed9d32b327c780c4274710,Remove deprecated rabbit params,MERGED,2018-05-24 03:09:05.000000000,2018-05-25 16:54:31.000000000,2018-05-25 16:54:31.000000000,6,96,0,570309,6c0fe52fc11d3967f99f5b5342d7f7a69dc76bb5,8,4,1,3,9414,zhongshengping,ZhongShengping,"Remove deprecated rabbit params

Remove the deprecated rabbit params which has been deprecated for
two years. The default_transport_url has been present for a while
now and should be used.

Change-Id: Ie835f7e2dc45741863ed9d32b327c780c4274710
"
openstack%2Fpuppet-vitrage~master~I98aaa75dfdc49f5cf55a7dfe4d4cc686e4cc1155,openstack/puppet-vitrage,master,remove_rabbit_params,I98aaa75dfdc49f5cf55a7dfe4d4cc686e4cc1155,Remove deprecated rpc_backend param,MERGED,2018-05-24 03:20:36.000000000,2018-05-25 16:53:41.000000000,2018-05-25 16:53:41.000000000,5,16,0,570313,febd164f4a3c4cf558679996476e3a4eee899ed3,8,4,1,2,9414,zhongshengping,ZhongShengping,"Remove deprecated rpc_backend param

Remove the deprecated rpc_backend param which has been deprecated for
two years. The default_transport_url has been present for a while
now and should be used.

Change-Id: I98aaa75dfdc49f5cf55a7dfe4d4cc686e4cc1155
"
openstack%2Fpuppet-horizon~master~Ieb8a5661ff68338d3e3dec4964b9dfe7ca14991e,openstack/puppet-horizon,master,,Ieb8a5661ff68338d3e3dec4964b9dfe7ca14991e,fix a typo: s/Paramaters/Parameters,MERGED,2018-05-25 03:50:19.000000000,2018-05-25 16:44:36.000000000,2018-05-25 16:44:36.000000000,1,1,0,570506,2731bdccc15d1a420f62f1437708281d1f4bfebd,6,2,1,1,21486,wangqi,wangqi,"fix a typo: s/Paramaters/Parameters

Change-Id: Ieb8a5661ff68338d3e3dec4964b9dfe7ca14991e
"
openstack%2Fpuppet-watcher~master~I0b1356b3e44c3f01fb7025fa8f0720403dd376da,openstack/puppet-watcher,master,remove_rabbit_params,I0b1356b3e44c3f01fb7025fa8f0720403dd376da,Remove deprecated rpc_backend param,MERGED,2018-05-24 03:25:17.000000000,2018-05-25 16:41:44.000000000,2018-05-25 16:41:44.000000000,5,10,0,570314,7ee7fc5ec530f5b6fd92b39cfd579ed35def314f,10,5,1,2,9414,zhongshengping,ZhongShengping,"Remove deprecated rpc_backend param

Remove the deprecated rpc_backend param which has been deprecated for
two years. The default_transport_url has been present for a while
now and should be used.

Change-Id: I0b1356b3e44c3f01fb7025fa8f0720403dd376da
"
openstack%2Fkolla-cli~master~I3c5cf1894b88474f6fd89a27c52bd2d1257e3ebe,openstack/kolla-cli,master,playbook_become,I3c5cf1894b88474f6fd89a27c52bd2d1257e3ebe,Run certificate init playbook as admin user,MERGED,2018-05-17 21:42:16.000000000,2018-05-25 16:34:01.000000000,2018-05-25 16:34:01.000000000,7,0,0,569273,8bfacb084a7ee5283883d5e4bcfbf170ee52b332,15,3,2,2,16520,Borne Mace,bmace,"Run certificate init playbook as admin user

Previously, the generated certificate files were owned by root which
prevented it from being easily removed later.  This change adds the
capability of setting the --become-user flag to ansible-playbook which
allows the certificate generation playbook to run as the admin user so
that the resulting certificate files are owned by the admin user.

Change-Id: I3c5cf1894b88474f6fd89a27c52bd2d1257e3ebe
"
openstack%2Fpuppet-tacker~master~I140318c4eaae9aada3e7f6ce904c950a692a06d8,openstack/puppet-tacker,master,remove_rabbit_params,I140318c4eaae9aada3e7f6ce904c950a692a06d8,Remove deprecated rpc_backend param,MERGED,2018-05-24 03:11:44.000000000,2018-05-25 16:13:35.000000000,2018-05-25 16:13:35.000000000,5,12,0,570310,5ff7d52781553385f26d5b02051466cefb46b2b1,8,4,1,2,9414,zhongshengping,ZhongShengping,"Remove deprecated rpc_backend param

Remove the deprecated rpc_backend param which has been deprecated for
two years. The default_transport_url has been present for a while
now and should be used.

Change-Id: I140318c4eaae9aada3e7f6ce904c950a692a06d8
"
openstack%2Frequirements~master~I20bc02b6b7a382c131914fcc3b1fe28fb5f17f55,openstack/requirements,master,openstack/requirements/constraints,I20bc02b6b7a382c131914fcc3b1fe28fb5f17f55,Updated from generate-constraints,ABANDONED,2018-05-25 06:21:33.000000000,2018-05-25 16:08:48.000000000,,8,8,0,570518,61e02e45c3828be6717ad0e8ac85aaec783d291a,6,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I20bc02b6b7a382c131914fcc3b1fe28fb5f17f55
"
openstack%2Fopenstack-ansible-os_nova~master~I5146bed35176cf72b442ee1402ff4a796c4f3a3a,openstack/openstack-ansible-os_nova,master,add-storage-package-opensuse,I5146bed35176cf72b442ee1402ff4a796c4f3a3a,SUSE: Add missing QEMU drivers for block devices,MERGED,2018-05-23 11:18:41.000000000,2018-05-25 15:57:09.000000000,2018-05-25 15:57:09.000000000,5,0,0,570168,4c60f25b3feed6b663b4440ef726da35695194f7,23,16,2,1,23163,Markos Chandras (hwoarang),mchandras,"SUSE: Add missing QEMU drivers for block devices

We also need to add the qemu drivers for block devices to avoid
problems like the following one:

qemu-system-x86_64: -drive file=rbd:vms/c0af0c99-8fad-4ad1-9f5d-
b2480308b6e6_disk:id=cinder:auth_supported=cephx\;none:mon_host=
172.29.237.119\:6789,file.password-secret=virtio-disk0-secret0
format=raw,if=none,id=drive-virtio-disk0,cache=writeback,discard=unmap:
Unknown protocol 'rbd'

Change-Id: I5146bed35176cf72b442ee1402ff4a796c4f3a3a
"
openstack%2Fopenstack-ansible-os_nova~master~I33f51235a7f1818ff4bfca74bc236dede4bc65f1,openstack/openstack-ansible-os_nova,master,exact-filters,I33f51235a7f1818ff4bfca74bc236dede4bc65f1,Remove ironic_host_manager usage,MERGED,2018-05-02 16:11:15.000000000,2018-05-25 15:57:08.000000000,2018-05-25 15:57:08.000000000,0,6,3,565829,857aa5a90f88eb86a4ddd857cf991f3d9e143017,31,7,3,2,6873,Matt Riedemann,mriedem,"Remove ironic_host_manager usage

The baremetal scheduling options were deprecated
in Pike and the ironic_host_manager was deprecated
in Queens and has now been removed. Deployments
must use resource classes now for baremetal scheduling.

While we're in here, the scheduler_host_manager usage
is removed altogether because it was removed from nova:

https://review.openstack.org/#/c/565806/

Depends-On: https://review.openstack.org/565805/
Change-Id: I33f51235a7f1818ff4bfca74bc236dede4bc65f1
"
openstack%2Fopenstack-ansible-os_nova~master~Ib406f4b740ee5e7833a16f2b6a82841481714b58,openstack/openstack-ansible-os_nova,master,cleanup_vars,Ib406f4b740ee5e7833a16f2b6a82841481714b58,Add default to nova_glance_api_servers variable,MERGED,2018-04-09 09:54:22.000000000,2018-05-25 15:57:07.000000000,2018-05-25 15:57:07.000000000,1,1,1,559682,8c368733f72a124a9d4ad0c7c3c3f7924d08cd8b,19,4,2,1,26405,Albert Mikaelyan,Tahvok,"Add default to nova_glance_api_servers variable

Add default http://localhost value to nova_api_servers variable.
Needed to make the role independent.

Change-Id: Ib406f4b740ee5e7833a16f2b6a82841481714b58
"
openstack%2Fpuppet-octavia~master~Iecc7b1a1d3f01b8b2f6435f850240ec06992f3cb,openstack/puppet-octavia,master,remove_rabbit_params,Iecc7b1a1d3f01b8b2f6435f850240ec06992f3cb,Remove deprecated rpc_backend param,MERGED,2018-05-24 03:04:50.000000000,2018-05-25 15:55:28.000000000,2018-05-25 15:55:28.000000000,5,15,0,570308,0be13a60829558a14c9570cace8e5d2152979ce7,8,4,1,2,9414,zhongshengping,ZhongShengping,"Remove deprecated rpc_backend param

Remove the deprecated rpc_backend param which has been deprecated for
two years. The default_transport_url has been present for a while
now and should be used.

Change-Id: Iecc7b1a1d3f01b8b2f6435f850240ec06992f3cb
"
openstack%2Fpuppet-openstack_spec_helper~master~I87fd7f7a28ea05a092d6378dc067b6d69a11cac6,openstack/puppet-openstack_spec_helper,master,fix-sed,I87fd7f7a28ea05a092d6378dc067b6d69a11cac6,Update sed command,ABANDONED,2017-09-27 19:24:41.000000000,2018-05-25 15:39:17.000000000,,3,1,0,507960,566321bbea48a55cbf37834f6a17c3b70ec02eeb,10,3,3,1,14985,Alex Schultz,mwhahaha,"Update sed command

The previous change to update the sed command to patch the Gemfile to
use the local version isn't actually working.
Idb440e750ae147ec7a1262ec9576c557fad858b3

This change updates it to replace the :git line with :path

Change-Id: I87fd7f7a28ea05a092d6378dc067b6d69a11cac6
"
openstack%2Fopenstack-ansible-os_nova~master~I750e82bb8e236063e9fa074585b8d1d8aee3b4f7,openstack/openstack-ansible-os_nova,master,reinstate_jobs,I750e82bb8e236063e9fa074585b8d1d8aee3b4f7,Reinstate disabled jobs,MERGED,2018-05-11 08:24:59.000000000,2018-05-25 15:36:52.000000000,2018-05-25 15:36:52.000000000,3,9,0,567792,277322f5f827d4220a2c608d577dbbe0420856a4,22,4,2,1,17068,Jean-Philippe Evrard,evrardjp,"Reinstate disabled jobs

The Upgrade and LXD jobs are now fixed, and deserve to be back to a
voting status.

Change-Id: I750e82bb8e236063e9fa074585b8d1d8aee3b4f7
"
openstack%2Ftraining-guides~master~I35c1968e41482b7bf9148490f71f7b9b92dd0727,openstack/training-guides,master,zanata/translations,I35c1968e41482b7bf9148490f71f7b9b92dd0727,Imported Translations from Zanata,MERGED,2018-05-21 07:09:08.000000000,2018-05-25 15:13:44.000000000,2018-05-25 15:13:44.000000000,3289,5269,0,569731,19fc1982a7e5e8756f6a384b77782f4e9f3996d5,6,2,1,6,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I35c1968e41482b7bf9148490f71f7b9b92dd0727
"
openstack%2Ftripleo-docs~master~I361729b3ae89a89cf132c11c5cac3082f11bf5b6,openstack/tripleo-docs,master,I361729b3ae89a89cf132c11c5cac3082f11bf5b6,I361729b3ae89a89cf132c11c5cac3082f11bf5b6,Add developer docs for Pike to Queens upgrade,MERGED,2018-05-18 15:15:58.000000000,2018-05-25 15:07:33.000000000,2018-05-25 15:07:33.000000000,358,15,34,569443,4103a5add3aea6ae4df7baf5a848d1e38e3b477b,36,12,6,2,8449,Marios Andreou,marios,"Add developer docs for Pike to Queens upgrade

Adds some details about the p..q upgrades and steps though the
workflow and client commands with pointers.

Change-Id: I361729b3ae89a89cf132c11c5cac3082f11bf5b6
"
openstack%2Fkuryr-kubernetes~master~Iffe77fdf25fb756a7f8c2e1474789dfc14235ac7,openstack/kuryr-kubernetes,master,bug/1773349,Iffe77fdf25fb756a7f8c2e1474789dfc14235ac7,Ensure endpoint has pods before add/remove members,MERGED,2018-05-25 11:14:45.000000000,2018-05-25 15:00:40.000000000,2018-05-25 14:49:44.000000000,5,2,0,570562,4b0da6460c2d1f155c1a566a88354aa93096a6de,8,4,1,1,23567,Luis Tomas Bolivar,ltomasbo,"Ensure endpoint has pods before add/remove members

This patch ensure that endpoint has pods before trying to add or
remove them from the lbaas. This is needed as 'should_ignore' is
not checked when on_delete is called upon svc deletion notification

Closes-Bug: 1773349

Change-Id: Iffe77fdf25fb756a7f8c2e1474789dfc14235ac7
"
openstack%2Ftripleo-ci~master~Ib6ae184a07ba291d719cabb48b51d890b0485a49,openstack/tripleo-ci,master,sprint13-toci-with-dryrun,Ib6ae184a07ba291d719cabb48b51d890b0485a49,Add dry run option to toci_quickstart,MERGED,2018-05-08 21:30:52.000000000,2018-05-25 14:50:22.000000000,2018-05-25 10:59:11.000000000,139,78,41,567060,418f5a639f2d5b2f68a8dca29fff7e04b8989185,129,12,34,4,9976,Ronelle Landy,rlandy,"Add dry run option to toci_quickstart

With dry run, playbooks are not executed.
The env variables, releases script output
and playbooks commands are written out to
files for debug.

The review also moves the collect logs lines
to a function for easier organization.

Documentation for the dry run option and
variable files is added.

Depends-On: I4c8f389978717848e755f12856dd454d605c9137
Change-Id: Ib6ae184a07ba291d719cabb48b51d890b0485a49
"
openstack%2Fnova~stable%2Fnewton~I23ed9819061bfa436b12180110666c5b8c3e0f70,openstack/nova,stable/newton,bug/1662626-stable/newton,I23ed9819061bfa436b12180110666c5b8c3e0f70,Stop _undefine_domain erroring if domain not found,ABANDONED,2017-09-30 01:26:02.000000000,2018-05-25 14:48:31.000000000,,34,4,0,508641,eca3a038fac13d5399ca062386e7f22a1fea3c80,11,10,1,2,9820,Liping Mao,LipingMao,"Stop _undefine_domain erroring if domain not found

During live-migration stress testing we are seeing the following log:
Error from libvirt during undefine. Code=42 Error=Domain not found

There appears to be a race while trying to undefine the domain, and
something else is possibly also doing some kind of clean up. While this
does paper over that race, it stops otherwise completed live-migrations
from failing. It also matches similar error handling done for when
deleting the domain.

The next part of the bug fix is to ensure if we have any similar
unexpected errors during this later phase of the live-migration we don't
leave the instance stuck in the migrating state, it should move to an
ERROR state. This is covered in a follow on patch.

Partial-Bug: #1662626

Change-Id: I23ed9819061bfa436b12180110666c5b8c3e0f70
(cherry picked from commit b706155888d740841d745c52aae543cf82fab0bc)
"
openstack%2Fnetworking-ovn~master~I0d5b4a9f619be5300e91549f2ac80cbe1943aba1,openstack/networking-ovn,master,enable-quota-details,I0d5b4a9f619be5300e91549f2ac80cbe1943aba1,Enable the quota_details API extension,MERGED,2018-04-27 13:23:58.000000000,2018-05-25 14:46:15.000000000,2018-05-25 14:46:15.000000000,1,0,2,564759,8bc9717858c20449dcbd9b02bb53875ff105ecc9,15,5,2,1,6773,Lucas Alvares Gomes,lucasagomes,"Enable the quota_details API extension

This will enable the test_detail_quota() test to run in the gate as
well.

Change-Id: I0d5b4a9f619be5300e91549f2ac80cbe1943aba1
"
openstack%2Fironic~master~I7b46480b0b9dddbb069f3165884ac1f0fe849c0b,openstack/ironic,master,allow-specify-libvirt-nic,I7b46480b0b9dddbb069f3165884ac1f0fe849c0b,[DNM] try to switch to e1000,ABANDONED,2018-05-25 12:49:19.000000000,2018-05-25 14:44:16.000000000,,1,0,0,570575,64689c008128b190b81a4d1dd51278a56240fae0,4,1,2,1,12356,Vladyslav Drok,vdrok,"[DNM] try to switch to e1000

Change-Id: I7b46480b0b9dddbb069f3165884ac1f0fe849c0b
"
openstack%2Fpython-tripleoclient~stable%2Fpike~Ie95b935964fdbf9e75ca04c93df9f824ec9fef51,openstack/python-tripleoclient,stable/pike,containers-default-stable/queens-stable/pike,Ie95b935964fdbf9e75ca04c93df9f824ec9fef51,Default environment/services/* to docker,ABANDONED,2018-05-11 14:01:26.000000000,2018-05-25 14:39:11.000000000,,4,4,0,567865,91ca89b4706567d6940969e3f41179163133d544,10,4,1,1,6926,Bogdan Dobrelya,bogdando,"Default environment/services/* to docker

This updates the relevant environment/services-docker code
to default to dockerish environment/services.

Depends-On: I923731f46ea26582160a11d2dfe85792ab74110b

Change-Id: Ie95b935964fdbf9e75ca04c93df9f824ec9fef51
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftraining-guides~master~I8bc8dae964a753dc159c0eb3ab2335d76cf6b1bf,openstack/training-guides,master,fix-indent,I8bc8dae964a753dc159c0eb3ab2335d76cf6b1bf,Fix indentation in upstream-training-other-events.rst,MERGED,2018-05-24 08:43:31.000000000,2018-05-25 14:29:29.000000000,2018-05-25 14:29:29.000000000,4,4,0,570352,5008640a111c126886290750817f1e231b41b0d8,6,2,1,1,23913,David Rabel,rabel,"Fix indentation in upstream-training-other-events.rst

Current indentation is wrongly interpreted as quotation.

Change-Id: I8bc8dae964a753dc159c0eb3ab2335d76cf6b1bf
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Idc1b8d444fb354450b8e584d199d1f22e0d92e5a,openstack/tripleo-heat-templates,stable/queens,,Idc1b8d444fb354450b8e584d199d1f22e0d92e5a,FFU Add cinder-backup missing fast_forward_upgrade_tasks,MERGED,2018-05-15 13:33:41.000000000,2018-05-25 14:03:11.000000000,2018-05-25 14:03:11.000000000,35,3,1,568584,fe7e55e6c40155d067251a26330057d13cec84a5,52,9,2,1,8449,Marios Andreou,marios,"FFU Add cinder-backup missing fast_forward_upgrade_tasks

Looks like the cinder-backup ffu tasks were missed as
discussed in [0]. Adding here and they are the same as the
other docker/services/pacemaker things e.g. rabbit @[1].
This also fixes the resource check in the bm->containers
upgrade_tasks so cinder-backup is also properly deleted.

[0] https://bugzilla.redhat.com/show_bug.cgi?id=1578158
[1] https://github.com/openstack/tripleo-heat-templates/blob/e37e0e6d47538299d5d77b0b34a268a19651e5a4/docker/services/pacemaker/rabbitmq.yaml#L367-L397

Change-Id: Idc1b8d444fb354450b8e584d199d1f22e0d92e5a
(cherry picked from commit 30a95b797b03cc5daae591bfafa4f708bfd9cfea)
"
openstack%2Fneutron-lib~master~I794972e93dbcf7310154cc1cceef25b9df618450,openstack/neutron-lib,master,bug/1578989,I794972e93dbcf7310154cc1cceef25b9df618450,Fix list_resource_providers filters,MERGED,2018-05-03 12:26:38.000000000,2018-05-25 13:48:34.000000000,2018-05-25 13:48:34.000000000,16,7,5,566047,2b5d1fdd1f68a5231e57b8c55abfc84c9a6a48a0,19,6,3,2,8313,Lajos Katona,elajkat,"Fix list_resource_providers filters

list_resource_providers failed filtering as the filter parameters like
name, or in_tree must be added to the url as query strings:
/resource_providers?name=foo&in_tree=<uuid>

Related-Bug: #1578989
Change-Id: I794972e93dbcf7310154cc1cceef25b9df618450
"
openstack%2Fcharm-tempest~master~Ie913fb5946afdaf1bfb7fd9df8b5d053da82c535,openstack/charm-tempest,master,,Ie913fb5946afdaf1bfb7fd9df8b5d053da82c535,Rebuild charm to pick up latest layer-openstack/fix venv action bug,MERGED,2018-05-24 14:47:12.000000000,2018-05-25 13:31:32.000000000,2018-05-25 13:31:32.000000000,6,5,0,570404,844da5667598cd9e7185651be5dca93ee2634ab4,10,3,2,2,20870,Alex Kavanagh,ajkavanagh,"Rebuild charm to pick up latest layer-openstack/fix venv action bug

This is needed to work around a setuptool_scm bug.  Also, the action
file had to be re-arranged slightly to ensure the venv is set up
before anything from the wheelhouse is imported.

Change-Id: Ie913fb5946afdaf1bfb7fd9df8b5d053da82c535
"
openstack%2Ftripleo-quickstart~master~Iad86a5910434c6e69eb1eaa6c51311b112ed17ab,openstack/tripleo-quickstart,master,,Iad86a5910434c6e69eb1eaa6c51311b112ed17ab,Unset test_ping in fs051 upgrades job.,MERGED,2018-05-23 15:37:01.000000000,2018-05-25 13:19:25.000000000,2018-05-25 13:19:25.000000000,1,1,0,570216,3cfb0f5c1152bc0ec4573fb184c0e1e451ecca8d,16,12,1,1,26343,Jose Luis Franco,jfrancoa,"Unset test_ping in fs051 upgrades job.

The featureset051 belongs to the keystone-only
major upgrades job. As this job lacks of multiple
overcloud services in order to test only the
upgrades workflow, it does not make sense to perform
a test ping for validation of the overcloud.

Change-Id: Iad86a5910434c6e69eb1eaa6c51311b112ed17ab
"
openstack%2Fceilometer~master~I8ab01478e72e858f2478e6150fe7d8ce57a40e78,openstack/ceilometer,master,bp/s,I8ab01478e72e858f2478e6150fe7d8ce57a40e78,Ceilometer-file-publisher-compression-csv-format,NEW,2018-04-19 17:43:12.000000000,2018-05-25 13:11:21.000000000,,340,39,4,562768,e113b992fa22b6f2ba8a75fe4a7669f0ea85e118,19,10,3,3,26991,Louie Kwan,lkwan,"Ceilometer-file-publisher-compression-csv-format

https://blueprints.launchpad.net/ceilometer/+spec/file-publisher-csv-format
https://blueprints.launchpad.net/ceilometer/+spec/file-publisher-compression

This is an enhancement of the existing file publisher
- 'compress=True"" option is added to provide compression of files
  (within file rotation) to minimize disk usage and minimize bandwidth
  in transferring these files off server
- ‘format=csv’ option is added to the file publisher in order to
   enable CSV format

Change-Id: I8ab01478e72e858f2478e6150fe7d8ce57a40e78
Implements: blueprint file-publisher-csv-format
Implements: blueprint file-publisher-compression
Co-Authored-By: Al.Bailey@windriver.com
Co-Authored-By: Angie.Wang@windriver.com
"
openstack%2Fpuppet-nova~stable%2Fpike~Ifdc5fbd05195604ab6ea6564d0905f9385c6df67,openstack/puppet-nova,stable/pike,bug/1671288,Ifdc5fbd05195604ab6ea6564d0905f9385c6df67,Allow live_migration_inbound_addr to be used with non-default port/user/extra_params,MERGED,2018-05-11 11:17:02.000000000,2018-05-25 12:50:29.000000000,2018-05-25 12:50:29.000000000,15,16,0,567831,a8b7530e0297d1bc98cfd1d1989efcad8b6499b1,8,4,1,3,23811,Oliver Walsh,owalsh,"Allow live_migration_inbound_addr to be used with non-default port/user/extra_params

live_migration_scheme was being used when live_migration_inbound_addr was set.
This prohibits a non-default port/user/extra_params being used, which is often
required to fully describe the uri, particularly for the ssh transport
(see bug#1671288).

However live_migration_inbound_addr also works with live_migration_uri, so for
now revert back to using live_migration_uri in all cases.

Change-Id: Ifdc5fbd05195604ab6ea6564d0905f9385c6df67
Closes-Bug: #1765462
(cherry picked from commit d7b85da651b6144cbc3ea4fd522f190020b39896)
(cherry picked from commit b308caef345db4164ea84bf1a738325ecdba540e)
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~I6716499b4a10f3ba39db33d6468c261c58ee373d,openstack/puppet-tripleo,stable/queens,bug/1764731-stable/queens,I6716499b4a10f3ba39db33d6468c261c58ee373d,Merge default_listen with swift_proxy_server_listen_options,MERGED,2018-04-18 07:33:11.000000000,2018-05-25 12:43:54.000000000,2018-04-21 14:59:29.000000000,1,1,0,562137,93e7e4ad79b4dfc04f8233a2e36e4f21172b10ce,30,5,1,1,11090,Sergii Golovatiuk,holser,"Merge default_listen with swift_proxy_server_listen_options

Currently haproxy for swift doesn't have default setting. This generates config
such as

  listen swift_proxy_server
  bind 10.0.0.5:13808 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem
  bind 172.16.1.4:8080 transparent
  option httpchk GET /healthcheck
  timeout client 2m
  timeout server 2m
  server overcloud-controller-0.storage.localdomain 172.16.1.10:8080 check fall 5 inter 2000 rise 2

without

  http-request set-header X-Forwarded-Proto https if { ssl_fc }
  http-request set-header X-Forwarded-Proto http if !{ ssl_fc }
  option httplog

This makes really hard to debug in case of issues.

This patch merges default_listen_options with swift to have config which is
more reliable for debugging

Closes-Bug: #1764731
Change-Id: I6716499b4a10f3ba39db33d6468c261c58ee373d
(cherry picked from commit c5131729e762535e8ec778432e84d82238168388)
"
openstack%2Fneutron~master~Ie0e16ba7daf348800f1d619a4f2ad27b7608096c,openstack/neutron,master,bug/1773046,Ie0e16ba7daf348800f1d619a4f2ad27b7608096c,Use next available IP during allocation,ABANDONED,2018-05-24 02:00:49.000000000,2018-05-25 12:16:56.000000000,,1,4,0,570290,4cf13985bd60b7ff022df26ac969341a0f2e7939,9,5,1,1,12947,Sridhar Venkat,svenkat,"Use next available IP during allocation

When a new VM is spawned with no ip address in network request, neutron
allocates a new ip address from corresponding subnet pool. And it does
not pick next available ip. Instead of PreferNextAddressRequest,
AnyAddressRequest is set for ip_request.
This is due to neutron/ipam/request.py AddressRequestFactory.get_request()
returns AnyAddressRequest under final else clause. It is preferred that it
returns PreferNextAddressRequest so that IP addresses are allocated in a
sequential pattern.
This patchset changes it, PreferNextAddressRequest is returned.

Change-Id: Ie0e16ba7daf348800f1d619a4f2ad27b7608096c
Closes-Bug: 1773046
"
openstack%2Frequirements~master~If594db16db619eb9ab7f8e0b22cee065181121b9,openstack/requirements,master,bp/nova-less-deploy,If594db16db619eb9ab7f8e0b22cee065181121b9,Add metalsmith to global-requirements,MERGED,2018-05-22 18:12:04.000000000,2018-05-25 12:11:50.000000000,2018-05-25 12:11:50.000000000,3,0,0,570019,73c1161740a61b10f442c8c6c245f9dd182710b2,16,6,2,3,10239,Dmitry Tantsur,dtantsur,"Add metalsmith to global-requirements

This library will be used in TripleO to manage Ironic deployments,
eventually replacing Nova in the undercloud. It was written by me
as a pool of shared code for using Ironic to avoid placing business
logic, useful outside of TripleO, inside TripleO code base.

Is the library actively maintained?
Yes (disclosure: I'm the developer)

Is the library good code?
Yes (passes our standard pep8 check, has 95% unit test coverage
and voting integration testing with devstack)

Is the library python 3 compatible?
Yes (voting unit tests job with python 3.5)

Is the library license compatible?
Yes (Apache 2.0)

Is the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?
No (will work on RDO packaging soon)

Is the function of this library already covered by other libraries in global-requirements.txt?
No (only partial overlap with Nova and Mogan services)

Is the library required for OpenStack project or related dev or infrastructure setup?
Yes (TripleO blueprint nova-less-deploy)

Change-Id: If594db16db619eb9ab7f8e0b22cee065181121b9
"
openstack%2Fironic~master~I5d424c59077193ae64e73a8fdb7f758fa3dc2714,openstack/ironic,master,,I5d424c59077193ae64e73a8fdb7f758fa3dc2714,"Missing import of ""_""",MERGED,2018-05-23 03:42:44.000000000,2018-05-25 11:55:16.000000000,2018-05-23 17:12:51.000000000,2,0,0,570110,d6deb1ee4a2590d8a5e2032518adddf090e92f8d,14,8,1,2,18320,Dao Cong Tien,TienDC,"Missing import of ""_""

Function _() are used in these files but not imported.
Eg. ramdisk.py: L178
    base_image_service.py: L198

Change-Id: I5d424c59077193ae64e73a8fdb7f758fa3dc2714
"
openstack%2Fironic~master~I2a7ddcfbde36b31af8d9560500ce1dd47db5b642,openstack/ironic,master,2002089/19761/boot-fail,I2a7ddcfbde36b31af8d9560500ce1dd47db5b642,Improve exception handling in agent_base_vendor,MERGED,2018-05-23 12:02:13.000000000,2018-05-25 11:54:25.000000000,2018-05-25 06:49:40.000000000,28,18,5,570173,1d0f90c9e757fca2b42e5e9749c7e7db9b5a600c,34,9,6,1,10239,Dmitry Tantsur,dtantsur,"Improve exception handling in agent_base_vendor

Currently we catch all Exception classes in a few places and log only
the error message. This is very problematic when e.g. KeyError happens,
since its error message is the missing key.

This change:
* Adds exception class to the error message wherever Exception is caught
* Logs traceback when the caught exception does not inherit IronicException
  (we assume that IronicException's come with good error messages and from
  predictable places)
* Fixes meaningless error message when boot.prepare_instance fails.

Story: #2002089
Task: #19761
Change-Id: I2a7ddcfbde36b31af8d9560500ce1dd47db5b642
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ifd6c9a9d94b296649531fba4615241ac8993601e,openstack/tripleo-upgrade,stable/queens,,Ifd6c9a9d94b296649531fba4615241ac8993601e,Pass --ssh-user option during fast forward upgrade run,MERGED,2018-05-24 20:01:55.000000000,2018-05-25 10:59:14.000000000,2018-05-25 10:59:14.000000000,3,0,0,570435,810970c47d18ebd19e5d68f26089eb23b6da2e20,7,4,1,1,18851,Marius Cornea,mcornea,"Pass --ssh-user option during fast forward upgrade run

Change-Id: Ifd6c9a9d94b296649531fba4615241ac8993601e
(cherry picked from commit 3c02aa0be6fff9fb037d9cd7fc86635e9b00e21b)
"
openstack%2Ftripleo-heat-templates~master~I8f28032488c30b5d38d8c7fa76872a2c3a642717,openstack/tripleo-heat-templates,master,bug/1772072,I8f28032488c30b5d38d8c7fa76872a2c3a642717,Add acl to paths that are shared among related neutron processes,MERGED,2018-05-10 17:42:10.000000000,2018-05-25 10:59:13.000000000,2018-05-25 10:59:13.000000000,62,0,16,567655,818ad752f8b048217a0d5b76ea2c5f86714597f4,87,13,15,2,6681,Brent Eagles,beagles,"Add acl to paths that are shared among related neutron processes

Neutron runs several processes to support features such as routers,
dhcp, etc. Neutron monitors these processes through shared domain
sockets, pids files, etc in /var/lib/neutron.  When upgrading a node
from a non-containerized deployment to containers, the user and group
ids are updated to that of the container and the supporting processes
are no longer able to access the shared files. This patch adds ACL to
the shared files to resolve this.

Note this only impacts upgraded nodes and only routers, networks, etc,
that existed before the upgrade.

Closes-Bug: #1772072
Change-Id: I8f28032488c30b5d38d8c7fa76872a2c3a642717
"
openstack%2Ftripleo-common~master~I9708b151a556f0517df8cbf8492e68ef1064745d,openstack/tripleo-common,master,bp/container-prepare-workflow,I9708b151a556f0517df8cbf8492e68ef1064745d,Add a dry-run behaviour to image image_uploader,MERGED,2018-05-24 02:34:59.000000000,2018-05-25 10:59:12.000000000,2018-05-25 10:59:12.000000000,160,19,0,570300,2102bda5101b88d57e6b796bbb3784ca2e3f1d33,14,6,2,4,4571,Steve Baker,steve-stevebaker,"Add a dry-run behaviour to image image_uploader

It will sometimes be required to generate the heat environment
containing the final image parameters without doing any
pull/modify/push operations (such as when the push registry hasn't
been installed yet).

This change also allows the append tag to be passed in with each
ContainerImagePrepare via the modify_append_tag option, so that the
same append tag can be used for the dry-run and the real prepare.

Change-Id: I9708b151a556f0517df8cbf8492e68ef1064745d
Blueprint: container-prepare-workflow
"
openstack%2Ftripleo-quickstart-extras~master~I887d5bccc6bd5c514348d8ebfc7c13f0bcdc217d,openstack/tripleo-quickstart-extras,master,roles_file,I887d5bccc6bd5c514348d8ebfc7c13f0bcdc217d,Fix path and wire-in UC deploy role data file,MERGED,2018-04-24 14:46:44.000000000,2018-05-25 10:59:10.000000000,2018-05-25 10:59:10.000000000,23,14,5,563988,90aba7ea275908a33781166a519a475e6ad24e35,146,15,17,6,6926,Bogdan Dobrelya,bogdando,"Fix path and wire-in UC deploy role data file

It had been missing for some places and now that
technical debt gets addressed.

Depends-on: Iaef2671acf516b7e89358984a0d8a59555fc91f0

Change-Id: I887d5bccc6bd5c514348d8ebfc7c13f0bcdc217d
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fnetworking-ovn~master~I1e4b141da89f0e023015f28631f73696c1d9ce77,openstack/networking-ovn,master,,I1e4b141da89f0e023015f28631f73696c1d9ce77,Update docs to make SBDB / NBDB listening on TCP,MERGED,2018-05-24 14:39:53.000000000,2018-05-25 10:57:10.000000000,2018-05-25 10:57:10.000000000,12,4,3,570403,59d84168c4eee39a484c359d28038b8901396461,14,4,3,1,8788,Miguel Angel Ajo,mangelajo,"Update docs to make SBDB / NBDB listening on TCP

Manual install documentation didn't include the details to make
the Southbound or Northbound databases listening.

This patch updates the documentation to explain how to do it.

Change-Id: I1e4b141da89f0e023015f28631f73696c1d9ce77
Co-Authored-By: Jorge Cabello <jorge.cabello@aspl.es>
"
openstack%2Fironic~master~I1af9fa960920451916c20cdf7167a36fbcf613a7,openstack/ironic,master,hw-types,I1af9fa960920451916c20cdf7167a36fbcf613a7,Convert conductor manager unit tests to hardware types,MERGED,2018-05-17 16:47:24.000000000,2018-05-25 10:55:08.000000000,2018-05-25 10:55:08.000000000,688,787,2,569167,a8e6fae750ff4d24fa7442197f63bc8fe37d98da,11,4,2,4,10239,Dmitry Tantsur,dtantsur,"Convert conductor manager unit tests to hardware types

As a side effect, correctly group tests in test cases.
The (partly broken with hardware types) mock_the_extension_manager
call is removed and replaced with only mocking what is really needed.

Change-Id: I1af9fa960920451916c20cdf7167a36fbcf613a7
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I7290a362ebec010a2b346cecfff42fef55b3ce6a,openstack/openstack-ansible-openstack_hosts,master,bug/1773333,I7290a362ebec010a2b346cecfff42fef55b3ce6a,tasks: Install distribution packages before pip_install,MERGED,2018-05-25 09:12:51.000000000,2018-05-25 10:53:52.000000000,2018-05-25 10:53:52.000000000,7,7,0,570541,f734c7f38541e29bedf7fd5fe85c8f66d78c8ae1,12,15,2,1,23163,Markos Chandras (hwoarang),mchandras,"tasks: Install distribution packages before pip_install

The distribution packages should be installed first in order to prevent
the pip_install role to mess with the systemd pip/virtualenv packages
if they already match our requirements.

Closes-Bug: #1773333
Change-Id: I7290a362ebec010a2b346cecfff42fef55b3ce6a
"
openstack%2Fironic~stable%2Fqueens~I727591e46de1a38403a8c25f0d08c57565db945b,openstack/ironic,stable/queens,,I727591e46de1a38403a8c25f0d08c57565db945b,Update auth_uri option to www_authenticate_uri,MERGED,2018-05-15 07:59:12.000000000,2018-05-25 10:47:55.000000000,2018-05-25 10:47:55.000000000,2,2,0,568501,e4f74e2b9af17f63e5633a49815f0228450ca59a,9,6,1,2,25903,Vu Cong Tuan,tuanvu,"Update auth_uri option to www_authenticate_uri

Option auth_uri from group keystone_authtoken is deprecated in Queens [1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I727591e46de1a38403a8c25f0d08c57565db945b
(cherry picked from commit 655038bd8b24146f656d3d94320d0016b4d84388)
"
openstack%2Fironic~master~Iaef9555337919706cd165adbbb2e1be9322f80b7,openstack/ironic,master,hw-types,Iaef9555337919706cd165adbbb2e1be9322f80b7,Remove excessive usage of mock_the_extension_manager in unit tests - part 2,MERGED,2018-05-17 13:08:24.000000000,2018-05-25 10:47:54.000000000,2018-05-25 10:47:54.000000000,53,77,2,569105,a684883d22a67a8bbbdc511f7f26c99b5d5c6693,19,9,2,23,10239,Dmitry Tantsur,dtantsur,"Remove excessive usage of mock_the_extension_manager in unit tests - part 2

Also fixes incorrect oneview tests that apparently used to be hidden by that.
Similarly, insufficient mocking in the PXE boot interface tests was fixed.

Now only test_manager uses mock_the_extension_manager.

Change-Id: Iaef9555337919706cd165adbbb2e1be9322f80b7
"
openstack%2Fneutron-fwaas~master~Ie98523a2462b558431de8e8a3265d809803cc5d8,openstack/neutron-fwaas,master,switch-to-stestr,Ie98523a2462b558431de8e8a3265d809803cc5d8,Switch to stestr,ABANDONED,2018-05-23 17:07:48.000000000,2018-05-25 10:39:07.000000000,,17,19,0,570238,89414ce3b138a944b5de55de82d1916ecc729988,6,3,1,5,13995,Nate Johnston,natejohnston,"Switch to stestr

According to Openstack summit session [1] stestr is maintained project to which
all Openstack projects should migrate. Let's switch it then.  Based on slaweq's
original change [2].

[1] https://etherpad.openstack.org/p/YVR-python-pti
[2] https://review.openstack.org/570008

Change-Id: Ie98523a2462b558431de8e8a3265d809803cc5d8
Co-Authored-By: Slawek Kaplonski <skaplons@redhat.com>
"
openstack%2Fqinling~master~I04e1d2952227bcc5cf1dad3ac1a6d53bde636c10,openstack/qinling,master,fix-delete-function-version,I04e1d2952227bcc5cf1dad3ac1a6d53bde636c10,Delete underlying resources when deleting function version,MERGED,2018-05-25 05:12:41.000000000,2018-05-25 10:25:13.000000000,2018-05-25 10:25:12.000000000,14,3,0,570510,2237daf334b2a8af6da41d75e5e33d688222b323,6,2,1,2,6732,Lingxian Kong,kong,"Delete underlying resources when deleting function version

The workers and etcd records should be removed when deleting the
function version.

Change-Id: I04e1d2952227bcc5cf1dad3ac1a6d53bde636c10
Story: 2002100
Task: 19778
"
openstack%2Fqinling~master~I4c0623c8a1ca9ed8ef0e517cdba8b411bf17b3a4,openstack/qinling,master,,I4c0623c8a1ca9ed8ef0e517cdba8b411bf17b3a4,Replace Chinese quotes with English quotes,MERGED,2018-05-23 07:34:21.000000000,2018-05-25 10:25:12.000000000,2018-05-25 10:25:12.000000000,4,4,0,570136,2a1301dda97a5c94f67dc0d3b59c6db5d97de2bc,9,2,2,3,25747,Debo Zhang,zhangdebo,"Replace Chinese quotes with English quotes

Change-Id: I4c0623c8a1ca9ed8ef0e517cdba8b411bf17b3a4
"
openstack%2Fkolla~master~I1034ecb1d909dcc357ffa904569ca7c8358386b1,openstack/kolla,master,bug/1772750,I1034ecb1d909dcc357ffa904569ca7c8358386b1,[kibana] symlink to the kibana executable under /opt/ (debian),MERGED,2018-05-22 21:48:13.000000000,2018-05-25 10:22:21.000000000,2018-05-25 10:22:21.000000000,7,0,0,570061,ebf343e3cee3b84c987ecbebbae086f1bd1ac1a5,11,5,2,1,2276,Jorge Niedbalski,niedbalski,"[kibana] symlink to the kibana executable under /opt/ (debian)

Kolla-ansible expects for /opt/kibana/bin/kibana to exists as
the default path location, centos/redhat distros have this location
set, so it would be desirable for debian to at least have a symlink
to the executable under the /opt path.

Closes-Bug: #1772750

Change-Id: I1034ecb1d909dcc357ffa904569ca7c8358386b1
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@linaro.org>
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e,openstack/puppet-tripleo,stable/queens,bug/1771543-stable/queens,Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e,Force GDPR compliance of containers logs,MERGED,2018-05-21 14:30:52.000000000,2018-05-25 10:11:45.000000000,2018-05-25 04:25:14.000000000,79,18,2,569806,f814414eda89c69c61cd48449326519be8a6bf16,19,7,2,3,6926,Bogdan Dobrelya,bogdando,"Force GDPR compliance of containers logs

After purge_after_days, defaults to a 14, forcibly remove
any rotated and compressed logs of containerized services
in /var/log/containers. This overrides any related
containerized logrotate configuration used for
containerized services.

Allow to alter rotation interval for log files managed
via containerized logrotate. Defaults to 'daily'
and rotate 14 (days).

Use sharedscripts to clean up files in the postrotate
script only once.

Additionally, to enforce GDPR compliance of log files
in /var/log/containers, put them under logrotate management
(minsize 1) and always compress. Prohibit the size option
as it does not honor time-based contstraints required by
GDPR. Forcibly remove all files but those rotated and
compressed logs, via the postscript section.

Partial-bug: #1771543

Change-Id: Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit e13654504adb93f7313942b4d839577d3ccd072d)
"
openstack%2Fqinling~master~I2ab94fa9def1654644fb949e0f096391229adb5e,openstack/qinling,master,,I2ab94fa9def1654644fb949e0f096391229adb5e,Fix typo,MERGED,2018-05-23 07:30:21.000000000,2018-05-25 10:00:36.000000000,2018-05-25 10:00:36.000000000,2,2,0,570134,5a4292e6a00a96930f54918f2e2a9cff2a934b9f,9,4,1,2,25747,Debo Zhang,zhangdebo,"Fix typo

Change-Id: I2ab94fa9def1654644fb949e0f096391229adb5e
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~I464cb658bd5695f0b1c031184bcd25d979a1a00d,openstack/openstack-ansible-rabbitmq_server,master,enable-plugins-after-config,I464cb658bd5695f0b1c031184bcd25d979a1a00d,"Revert ""Configure plugins and policies after RabbitMQ""",MERGED,2018-04-19 14:52:20.000000000,2018-05-25 09:58:45.000000000,2018-04-22 13:47:27.000000000,22,22,0,562621,d44eb3b39a4262995d8f551cf88fe81424460ab1,8,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Revert ""Configure plugins and policies after RabbitMQ""

This is causing breakage outside of the gate for the AIO and
until that's worked out we should revert this. I think whatever
the intent of this patch was it needs a bit more time spend on
figuring out the right approach that works for single nodes
and clusters.

This reverts commit ab8cd854976ae14021ea9687d7e6e60f4789c33d.

Change-Id: I464cb658bd5695f0b1c031184bcd25d979a1a00d
"
openstack%2Fopenstack-ansible~master~I8c61f5f80be4d2da0df444fb52115e5702cc78bf,openstack/openstack-ansible,master,pin-virtualenv,I8c61f5f80be4d2da0df444fb52115e5702cc78bf,global-requirement-pins: Pin virtualenv to 15.2.0,ABANDONED,2018-05-24 21:30:39.000000000,2018-05-25 09:43:10.000000000,,1,0,0,570458,e4d507eb0d36d832fb0e16efd495417a1e7656c1,8,16,2,1,23163,Markos Chandras (hwoarang),mchandras,"global-requirement-pins: Pin virtualenv to 15.2.0

The latest version of virtualenv (16.0.0) released on the 2018-05-16
upgrades pip to version 10.0.1[1]. However, we are still using pip 9.0.3
so this mixup of pip and virtualenv version leads to various breakages.
As such, lets also pin the virtualenv version along with the rest of the
requirements.

[1] https://virtualenv.pypa.io/en/latest/changes

Change-Id: I8c61f5f80be4d2da0df444fb52115e5702cc78bf
"
openstack%2Fmetalsmith~master~Ic5b368875196e15d6215e82dfdcf5a0b02da925b,openstack/metalsmith,master,ci-conf,Ic5b368875196e15d6215e82dfdcf5a0b02da925b,CI: Update ironic devstack variables,MERGED,2018-05-24 14:02:22.000000000,2018-05-25 09:41:30.000000000,2018-05-25 09:41:30.000000000,18,1,0,570396,71320f7a087219e93ce5ea665cd440fd6fd0fa7a,12,2,4,2,10239,Dmitry Tantsur,dtantsur,"CI: Update ironic devstack variables

* Bring VM RAM to the recommended minimum of CentOS
* Publish bare metal machine logs

Change-Id: Ic5b368875196e15d6215e82dfdcf5a0b02da925b
"
openstack%2Fcyborg~master~I1ddbf010d08515ed5fd02a9e5bec42afd4327926,openstack/cyborg,master,fix_punctuation,I1ddbf010d08515ed5fd02a9e5bec42afd4327926,Replace Chinese punctuation with English punctuation,ABANDONED,2018-05-25 08:53:42.000000000,2018-05-25 09:17:05.000000000,,1,1,0,570537,86f9ac777f0d0c202aef79ce3ecb99e58c7760c3,4,2,1,1,27565,inspurericzhang,inspurericzhang,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input method.
When read from english context, it makes some confusion.

Change-Id: I1ddbf010d08515ed5fd02a9e5bec42afd4327926
"
openstack%2Fvitrage~master~I8968fa52434d02867be77fc075807814febabec1,openstack/vitrage,master,bugfix/ihefetz_notifier_changes_original_vertex,I8968fa52434d02867be77fc075807814febabec1,new mock datasource adds data based on static datasource,MERGED,2018-05-13 08:35:41.000000000,2018-05-25 09:02:40.000000000,2018-05-25 09:02:40.000000000,182,10,4,568052,6e22e3e5aded5603e731486bc6d5d13070c8dbfe,52,6,4,7,19184,Idan Hefetz,idan-hefetz,"new mock datasource adds data based on static datasource

Using the static datasource we can create a full connected graph.
Here, we create such a graph by mock GraphGenerator, reformat it
so it fits the static datasource.
It provides a graph of any size, running through real code flow.
This is an initial commit. to change the graph contents, edit driver.py

To Use it, make sure your conf has:
[datasources]
types = mock_graph_datasource
path = vitrage.tests.mocks

Change-Id: I8968fa52434d02867be77fc075807814febabec1
"
openstack%2Fdiskimage-builder~master~I23de11d81020c8aae641dfc01c1cbddf769f5c75,openstack/diskimage-builder,master,add-opensuse-leap-15,I23de11d81020c8aae641dfc01c1cbddf769f5c75,elements: zypper-minimal: Add support for openSUSE Leap 15.X,MERGED,2018-05-18 10:57:14.000000000,2018-05-25 08:55:53.000000000,2018-05-25 08:55:53.000000000,1,1,0,569383,bb9ad0901033a32c004ae96cabd29ffbe3af4519,8,7,1,1,23163,Markos Chandras (hwoarang),mchandras,"elements: zypper-minimal: Add support for openSUSE Leap 15.X

openSUSE Leap shares the same repo structure with 42.X

Change-Id: I23de11d81020c8aae641dfc01c1cbddf769f5c75
"
openstack%2Fpython-tripleoclient~master~I5a27e392848c9b37f6062bf0e1cadf341f83532f,openstack/python-tripleoclient,master,rocky-bootstrap,I5a27e392848c9b37f6062bf0e1cadf341f83532f,[DNM] Do not merge test separated buildreqs repo,ABANDONED,2018-04-17 07:25:26.000000000,2018-05-25 08:55:46.000000000,,0,0,0,561808,a6149912f8dfab1c7b68c925b5dd90d4a7de973d,8,3,2,1,16312,Alfredo Moralejo,amoralej,"[DNM] Do not merge test separated buildreqs repo

Depends-On: I74388434e3dccfea2754569a6bc568835d49b5e2
Change-Id: I5a27e392848c9b37f6062bf0e1cadf341f83532f
"
openstack%2Frequirements~master~If152b9560a6f47a39fde761130ec0d2d286239e6,openstack/requirements,master,openstack/requirements/constraints/noclob,If152b9560a6f47a39fde761130ec0d2d286239e6,Updated from generate-constraints,MERGED,2018-05-23 06:27:22.000000000,2018-05-25 08:35:29.000000000,2018-05-25 08:35:29.000000000,2,2,0,570119,96388d09d471b1f975bc67c16ee749d3a7d8041a,12,5,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: If152b9560a6f47a39fde761130ec0d2d286239e6
"
openstack%2Fzaqar~master~Ia98c598c48efd0ec8c5c6fbb3b37ad6604664f3f,openstack/zaqar,master,change_pypi_url,Ia98c598c48efd0ec8c5c6fbb3b37ad6604664f3f,Update pypi url to new url,MERGED,2018-05-25 07:17:06.000000000,2018-05-25 08:34:11.000000000,2018-05-25 08:34:11.000000000,1,1,0,570525,a40294984b735f13d8e3ba3001a65e9f69f90380,6,2,1,1,27565,inspurericzhang,inspurericzhang,"Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ia98c598c48efd0ec8c5c6fbb3b37ad6604664f3f
"
openstack%2Fzaqar~master~I85e06e33b1f6cab2eac7e92d171b9e273adbf7ba,openstack/zaqar,master,fix,I85e06e33b1f6cab2eac7e92d171b9e273adbf7ba,Add release notes link to README,MERGED,2018-05-23 02:57:17.000000000,2018-05-25 08:33:27.000000000,2018-05-25 08:33:27.000000000,3,0,0,570104,76ed77ed3007925284f9040d2cd041dd41d8e147,6,2,1,1,23317,ShangXiao,ShangXiao,"Add release notes link to README

Change-Id: I85e06e33b1f6cab2eac7e92d171b9e273adbf7ba
"
openstack%2Fswift~master~Ie72bf9f218fe4390d078ef776ec2130f99274b64,openstack/swift,master,p-misplaced-empty-list,Ie72bf9f218fe4390d078ef776ec2130f99274b64,Check for unexpected shard ranges when building sharded listings,ABANDONED,2018-05-22 08:52:40.000000000,2018-05-25 08:08:03.000000000,,82,0,6,569942,d85dfccbbc62f9e5c89632c3f8f313b801b48816,8,4,1,2,7847,Alistair Coles,acoles,"Check for unexpected shard ranges when building sharded listings

Make the proxy more defensive when building listings from shard
containers.  The container server *should* only return shard ranges
that container objects between marker and end_marker range, but if the
proxy were to receive shard ranges outside of the marker to end_marker
range then it will now ignore them and log a warning.

Change-Id: Ie72bf9f218fe4390d078ef776ec2130f99274b64
"
openstack%2Fopenstack-ansible-haproxy_server~master~I6a032962ae987bb1cbc4982fb6ddbd06f8e53936,openstack/openstack-ansible-haproxy_server,master,backend_ssl,I6a032962ae987bb1cbc4982fb6ddbd06f8e53936,Options to enable SSL for backend connections,MERGED,2018-03-05 17:50:04.000000000,2018-05-25 07:59:06.000000000,2018-03-29 11:30:11.000000000,32,0,0,549834,2d0f483c843d7bd0db8eb7dc5f2f169714c73169,12,3,3,3,11290,Gaudenz Steinlin,gaudenz,"Options to enable SSL for backend connections

Currently backend connections are always unencrypted. This adds optional
parameters to configure backend connections with SSL. This is useful for
extra services wich require SSL or to have backend connections to
OpenStack services encrypted in the future.

Change-Id: I6a032962ae987bb1cbc4982fb6ddbd06f8e53936
"
openstack%2Fopenstack-helm~master~I61664db72f0d5f7ba011a65d2f516a3d8727d24f,openstack/openstack-helm,master,osh-use-infra-htk,I61664db72f0d5f7ba011a65d2f516a3d8727d24f,[DNM] try to get osh to use infra toolkit,ABANDONED,2018-04-16 21:49:29.000000000,2018-05-25 07:37:42.000000000,,2,3476,0,561738,996f48d02545798b20f9b4949244efccde5fcaa7,19,2,8,64,8898,Chris Wedgwood,anticw,"[DNM] try to get osh to use infra toolkit

Depends-On: I7c9786a95ed138178bb0178a55fac90a0d9e8e5b

Change-Id: I61664db72f0d5f7ba011a65d2f516a3d8727d24f
"
openstack%2Fopenstack-helm~master~I8e2f387fcd908440f247513e788d89ba74b73494,openstack/openstack-helm,master,htk-remove,I8e2f387fcd908440f247513e788d89ba74b73494,[RFC] remove htk from osh,ABANDONED,2018-05-11 17:53:13.000000000,2018-05-25 07:37:32.000000000,,2,3528,0,567915,0f0a4adf7d43cc58b5e4cfee084354bcc27bf2b7,3,1,1,65,8898,Chris Wedgwood,anticw,"[RFC] remove htk from osh

(mostly a test to see how builders behave)

Change-Id: I8e2f387fcd908440f247513e788d89ba74b73494
"
openstack%2Fpython-tripleoclient~master~Ie4b7951147f5a1aec654982e21296a749fdd865c,openstack/python-tripleoclient,master,container-prepare-workflow,Ie4b7951147f5a1aec654982e21296a749fdd865c,Implement TripleoImagePrepare command,MERGED,2018-05-09 21:41:00.000000000,2018-05-25 07:13:22.000000000,2018-05-25 07:13:22.000000000,336,39,4,567427,6f0136dbb84fd3ff8cf08d1cc8242c0be9eec156,22,5,4,5,4571,Steve Baker,steve-stevebaker,"Implement TripleoImagePrepare command

Running:

  $ openstack tripleo container image prepare default \
      --output-env-file prepare-default.yaml \
      --local-push-destination
  $ openstack tripleo container image prepare -e prepare-default.yaml

Will read a Heat template with ContainerImagePrepare, prepare containers
and upload to a registry if needed.

The idea is to replace the other commands used by the overcloud for any
use case: undercloud, overcloud or any cloud.

One of the goals here is to execute this process before starting the
containers while deploying OpenStack on any cloud.

Change-Id: Ie4b7951147f5a1aec654982e21296a749fdd865c
Blueprint: container-prepare-workflow
"
openstack%2Ftripleo-heat-templates~master~Iab33e75f26bb756c17c0dbcb330e59b855b3d049,openstack/tripleo-heat-templates,master,other/upg,Iab33e75f26bb756c17c0dbcb330e59b855b3d049,nova-ironic: add support for post-upgrade cleanup,MERGED,2018-05-23 17:10:17.000000000,2018-05-25 07:13:21.000000000,2018-05-25 07:13:21.000000000,14,0,0,570241,10b5bed23fdc6e8ccff7f2f111d66bf7b9d06432,18,6,4,1,3153,Emilien Macchi,emilienm,"nova-ironic: add support for post-upgrade cleanup

It was missing but present in nova-compute service, we need this
cleanup for the containerized undercloud upgrade use case.

Change-Id: Iab33e75f26bb756c17c0dbcb330e59b855b3d049
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ifce5d3a7395d9ddf99e2d9097f71a222e8c64487,openstack/tripleo-heat-templates,stable/queens,collectd-gnocchi-order-stable/queens,Ifce5d3a7395d9ddf99e2d9097f71a222e8c64487,Delay collectd start,MERGED,2018-05-09 18:07:05.000000000,2018-05-25 06:52:46.000000000,2018-05-25 06:52:46.000000000,1,1,0,567299,58d717ff34ac1a2eb828cfe530ef32e6db5e3de3,30,9,1,1,6924,Pradeep Kilambi,pkilambi,"Delay collectd start

We need to make collectd container start in the same step as Gnocchi,
so that we avoid occasional connection problems with collectd deployed
without working Keystone and Gnocchi.

Change-Id: Ifce5d3a7395d9ddf99e2d9097f71a222e8c64487
(cherry picked from commit 9171eef1a77c346ce13939db6610a1cb2ae9a30f)
"
openstack%2Fcinder~master~I11eaf835519e876e49cb6c42be1fe20e59b3d0a8,openstack/cinder,master,cinder-znm-dev,I11eaf835519e876e49cb6c42be1fe20e59b3d0a8,[DNM] Cisco-CI-Experimental-Branch: cinder-znm-dev,ABANDONED,2018-05-16 13:13:32.000000000,2018-05-25 06:50:51.000000000,,1,1,0,568841,bd090fb08cc3e3735d05fc8e64c419326316a86d,28,15,2,1,28080,Akhil Jayakumar,akjayaku,"[DNM] Cisco-CI-Experimental-Branch: cinder-znm-dev

Change-Id: I11eaf835519e876e49cb6c42be1fe20e59b3d0a8
"
openstack%2Fpython-tripleoclient~master~I1b9e8b246ebb5e6f0e9ec692912b9d9df9dd5dbc,openstack/python-tripleoclient,master,bug/1772804,I1b9e8b246ebb5e6f0e9ec692912b9d9df9dd5dbc,tripleo_deploy/upgrade: fail of upgrade_tasks don't return 0,MERGED,2018-05-24 06:28:43.000000000,2018-05-25 06:50:41.000000000,2018-05-25 06:50:41.000000000,2,0,2,570321,72449c8e4082d30bb6e93aaa39a8f7c5e7702e0b,16,5,2,1,3153,Emilien Macchi,emilienm,"tripleo_deploy/upgrade: fail of upgrade_tasks don't return 0

We only want to run the deploy_tasks in one of these situations:
- upgrade_tasks finished with success (return code 0)
- upgrade_tasks aren't executed (then it's a classic deployment)

But we don't want to run the deploy_tasks when upgrade_tasks failed, we
want to fail early in the upgrade process and provide the feedback to
the operator.

Change-Id: I1b9e8b246ebb5e6f0e9ec692912b9d9df9dd5dbc
Closes-Bug: #1772804
"
openstack%2Fironic-python-agent~master~I6eaa8d8657f153c81ccc7cc2b49cb63a8c1637b3,openstack/ironic-python-agent,master,unlock_recover_squash,I6eaa8d8657f153c81ccc7cc2b49cb63a8c1637b3,Add a release note for secure erase changes,MERGED,2018-05-16 13:52:33.000000000,2018-05-25 06:49:42.000000000,2018-05-25 06:49:42.000000000,12,0,2,568851,faa898db09d87b1e9fb0f8d4d6896ac4e71e8992,18,4,3,1,28048,Will Szumski,jovial,"Add a release note for secure erase changes

Change-Id: I6eaa8d8657f153c81ccc7cc2b49cb63a8c1637b3
"
openstack%2Fnova~stable%2Fqueens~I72085016c8756ff88a4da722368f62359bcd7080,openstack/nova,stable/queens,bug/1750829,I72085016c8756ff88a4da722368f62359bcd7080,Add ssbd and virt-ssbd flags to cpu_model_extra_flags whitelist,MERGED,2018-05-23 22:23:12.000000000,2018-05-25 05:57:06.000000000,2018-05-25 01:47:05.000000000,28,7,20,570271,a27ea0f9100d0061c1cf3b20407095d3cd04df26,53,15,7,2,4393,Dan Smith,danms,"Add ssbd and virt-ssbd flags to cpu_model_extra_flags whitelist

This adds two other flags to the whitelist of available options to
the cpu_model_extra_flags variable related to further variants of
Meltdown/Spectre recently published.

Related-Bug: #1750829
Change-Id: I72085016c8756ff88a4da722368f62359bcd7080
"
openstack%2Ftripleo-ci~master~I0681943c99907c32dd5774903afa1cf5f4c382fa,openstack/tripleo-ci,master,bug/1773179,I0681943c99907c32dd5774903afa1cf5f4c382fa,Don't run undercloud-upgrades on ocata,MERGED,2018-05-24 14:03:56.000000000,2018-05-25 04:25:15.000000000,2018-05-25 04:25:15.000000000,1,1,0,570398,b61d02b56204b468b944f59b489669a896ea9f4d,11,11,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Don't run undercloud-upgrades on ocata

Upgrades role doens't have ocata branch and couldn't run on ocata

Change-Id: I0681943c99907c32dd5774903afa1cf5f4c382fa
Closes-Bug: #1773179
"
openstack%2Fkeystone~master~Id42cc8543abcf0d7b5dd9ccf3b030e52f7da385e,openstack/keystone,master,,Id42cc8543abcf0d7b5dd9ccf3b030e52f7da385e,Fix missing sha512_crypt choice for password_hash_algorithm,ABANDONED,2018-05-08 10:21:55.000000000,2018-05-25 03:40:15.000000000,,1,1,0,566843,e739cb0d393a2571dde37d12d578261c1a59bab6,4,3,1,1,27488,sapd,sapd,"Fix missing sha512_crypt choice for password_hash_algorithm

Keystone now support 4 methods to hash password in database, but in config choice is only 3
Add sha512_crypt into choices list in

Change-Id: Id42cc8543abcf0d7b5dd9ccf3b030e52f7da385e
"
openstack%2Foctavia~master~I056b5fa32e5a19dc7dd4cd1b8d03d540b01f860e,openstack/octavia,master,,I056b5fa32e5a19dc7dd4cd1b8d03d540b01f860e,Support create amphora instance from volume based.,ABANDONED,2018-03-28 02:31:01.000000000,2018-05-25 03:39:49.000000000,,166,1,1,557111,9e8c4bef8956003e080f435ea8e2e9470ff928b4,7,7,1,4,27488,sapd,sapd,"Support create amphora instance from volume based.

    In some deploy production, using volume based instead of localdisk
    to protect data and live migrate can perform.
    Story: https://storyboard.openstack.org/#!/story/2001594

Change-Id: I056b5fa32e5a19dc7dd4cd1b8d03d540b01f860e
"
openstack%2Fansible-role-tripleo-modify-image~master~I6885448c951ece95741320bec3dc2bcef30b3f41,openstack/ansible-role-tripleo-modify-image,master,,I6885448c951ece95741320bec3dc2bcef30b3f41,Add .gitreview file,MERGED,2018-05-24 20:34:30.000000000,2018-05-25 03:34:50.000000000,2018-05-25 03:34:50.000000000,4,0,0,570444,f9e8e9384930d33b1f5c64bae432087d0cf4ad2e,8,2,2,1,4571,Steve Baker,steve-stevebaker,"Add .gitreview file

Change-Id: I6885448c951ece95741320bec3dc2bcef30b3f41
"
openstack%2Foctavia~master~I1ebe781671c05ee23b7170901d3be66b8b580fd1,openstack/octavia,master,feature-volume-based,I1ebe781671c05ee23b7170901d3be66b8b580fd1,Support create amphora instance volume based,ABANDONED,2018-02-24 09:18:30.000000000,2018-05-25 03:34:42.000000000,,166,4,29,547734,25ba450dfab95cf81b47e9a71db5e804bfdcd7f7,27,11,6,6,27488,sapd,sapd,"Support create amphora instance volume based

Change-Id: I1ebe781671c05ee23b7170901d3be66b8b580fd1
"
openstack%2Fmagnum~master~I7a1a8df55d7857bac3d100b6518e0615f54540af,openstack/magnum,master,update_url,I7a1a8df55d7857bac3d100b6518e0615f54540af,Fix the wrong URL,ABANDONED,2018-01-08 08:57:39.000000000,2018-05-25 03:27:58.000000000,,29,29,10,531692,01ad8dc898152493b1c1daf9ebd5393f9656d5cf,15,6,3,9,25388,liuyamin,liuyamin,"Fix the wrong URL

Change-Id: I7a1a8df55d7857bac3d100b6518e0615f54540af
"
openstack%2Ftripleo-quickstart~master~I1aba03d1fa72593224900c2a5efa44df998aa178,openstack/tripleo-quickstart,master,bug/1772121,I1aba03d1fa72593224900c2a5efa44df998aa178,Pass tripleo-admin as ssh-user in FFWD job.,MERGED,2018-05-23 14:35:34.000000000,2018-05-25 03:06:54.000000000,2018-05-25 03:06:54.000000000,1,1,0,570208,c5a4889f0282f3a4ef889b5dd58213a9acfad5fc,10,7,1,1,26343,Jose Luis Franco,jfrancoa,"Pass tripleo-admin as ssh-user in FFWD job.

In order to allow mistral running in the overcloud
we need to pass the 'tripleo-admin' user when calling
to ffwd-upgrade prepare and run.

Change-Id: I1aba03d1fa72593224900c2a5efa44df998aa178
Related-Bug: #1772121
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I83e57317e2c56260957be90c66290a41a926835a,openstack/tripleo-heat-templates,stable/pike,bug/1758343-stable/queens-stable/pike,I83e57317e2c56260957be90c66290a41a926835a,Honor {{role.name}}ExtraConfig with deprecated params,MERGED,2018-05-23 13:19:24.000000000,2018-05-25 03:06:53.000000000,2018-05-25 03:06:53.000000000,7,1,0,570191,d29f833a5977b89a110d19c02fa6bf860709af34,15,6,1,2,3153,Emilien Macchi,emilienm,"Honor {{role.name}}ExtraConfig with deprecated params

{{role.name}}ExtraConfig was previously ignored if the role used
deprecated params in roles_data.yaml. This was due to the usage of
server_resource_name in the ExtraConfig resource, where
service_resource_name also defaulted to
deprecated_service_resource_name. So, the new {{role.name}}ExtraConfig
was never actually used.

Change-Id: I83e57317e2c56260957be90c66290a41a926835a
Closes-Bug: #1758343
(cherry picked from commit fa4b3e2a3c634c8f1a18087e508d585a693aa84b)
(cherry picked from commit f2e19a5a0a5229d1d12d4ecd3a7bb82faa4e9bf9)
"
openstack%2Fnova~master~I7e77f87650d966d605807c7be184e670259a81c1,openstack/nova,master,bug/1751073,I7e77f87650d966d605807c7be184e670259a81c1,libvirt: Deprecate support for monitoring Intel CMT `perf` events,MERGED,2018-04-30 15:38:36.000000000,2018-05-25 03:00:33.000000000,2018-05-25 03:00:33.000000000,90,43,39,565242,fc4794acc6b13afade1bb72a1ae9f574707d2f0d,112,19,9,4,6962,Kashyap Chamarthy,kashyapc,"libvirt: Deprecate support for monitoring Intel CMT `perf` events

Upstream Linux kernel has deleted[*] the `perf` framework integration
with Intel CMT (Cache Monitoring Technology; or ""CQM"" in Linux kernel
parlance), because the feature was broken by design -- an
incompatibility between Linux's `perf` infrastructure and Intel CMT
hardware support.  It was removed in upstream kernel version v4.14; but
bear in mind that downstream Linux distributions with lower kernel
versions than 4.14 have backported the said change.

Nova supports monitoring of the above mentioned Intel CMT events
(namely: 'cmt', 'mbm_local', and 'mbm_total') via the configuration
attribute `[libvirt]/enabled_perf_events`. Given that the underlying
Linux kernel infrastructure for Intel CMT is removed, we should remove
support for it in Nova too.  Otherwise enabling them in Nova, and
updating to a Linux kernel 4.14 (or above) will result in instances
failing to boot.

To that end, deprecate support for the three Intel CMT events in ""Rocky""
release, with the intention to remove support for it in the upcoming
""Stein"" release.  Note that we cannot deprecate / remove
`enabled_perf_events` config attribute altogether -- since there are
other[+] `perf` events besides Intel CMT.  Whether anyone is using those
other events with Nova is a good question to which we don't have an
equally good answer for, if at all.

[*] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=c39a0e2
[+] https://libvirt.org/formatdomain.html#elementsPerf

Closes-Bug: #1751073
Change-Id: I7e77f87650d966d605807c7be184e670259a81c1
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Icc01ce23b3fc538811b4dfc4fbaba18dc7165f89,openstack/tripleo-heat-templates,stable/queens,healthcheck/sensu-client-queens,Icc01ce23b3fc538811b4dfc4fbaba18dc7165f89,Use sensu-client healthcheck parameter,MERGED,2018-04-20 10:01:02.000000000,2018-05-25 02:53:59.000000000,2018-05-25 02:53:59.000000000,12,2,0,563030,33fe5c779401727d6100552e97ba365c65e3d9b3,17,6,1,1,5241,Martin Magr,mmagr,"Use sensu-client healthcheck parameter

This patch adds possibility to pass non-standard ports of monitoring
RabbitMQ instance to sensu-client container health check

Change-Id: Icc01ce23b3fc538811b4dfc4fbaba18dc7165f89
(cherry picked from commit 47793924c92be3ec8cbe3f72747fb424a9af48a5)
"
openstack%2Fheat-agents~master~Ie1941e5242e51f417b1e1fd76fed3f50cb211e20,openstack/heat-agents,master,,Ie1941e5242e51f417b1e1fd76fed3f50cb211e20,Replace os.makedirs to avoid process race,ABANDONED,2018-05-25 02:11:29.000000000,2018-05-25 02:39:06.000000000,,35,24,0,570491,c1b6adb0a6d7dcc5c98499ae96731d612aaa4850,3,1,1,12,21486,wangqi,wangqi,"Replace os.makedirs to avoid process race

Use oslo_utils.fileutils.ensure_tree(path, mode=_DEFAULT_MODE)
to replace os.makedir.

Change-Id: Ie1941e5242e51f417b1e1fd76fed3f50cb211e20
"
openstack%2Fzaqar-specs~master~I6de99840d7f682baa15ce019baa1b178c715dde6,openstack/zaqar-specs,master,bp/long-poll,I6de99840d7f682baa15ce019baa1b178c715dde6,Spec for long polling,ABANDONED,2017-11-17 02:29:11.000000000,2018-05-25 01:50:12.000000000,,103,0,2,520852,adad805e16ae904ef502c6cc144f7d3bfb86968e,11,6,3,2,6484,Feilong Wang,flwang,"Spec for long polling

Change-Id: I6de99840d7f682baa15ce019baa1b178c715dde6
"
openstack%2Fpuppet-neutron~master~I4926327c513e2c79f8fbe1563fa6a7e70683401b,openstack/puppet-neutron,master,debian-neutron-server-split,I4926327c513e2c79f8fbe1563fa6a7e70683401b,"Support neutron-{api,rpc-server} services",MERGED,2018-05-23 19:08:32.000000000,2018-05-25 01:42:32.000000000,2018-05-25 01:42:32.000000000,131,34,8,570250,8d65a811631a88a32707e755daeec4eec1755643,24,6,9,2,6476,Thomas Goirand,thomas-goirand,"Support neutron-{api,rpc-server} services

In Debian, all is now Python 3. In such world, neutron-server doesn't
work over SSL, because of Eventlet bugs/limitations. So instead of
running neutron-server, we have to run neutron-api on top of mod_wsgi or
on top of uwsgi. In such a setup, we need to run neutron-rpc-server, as
the Neutron WSGI application doesn't do the AMQP jobs.

Change-Id: I4926327c513e2c79f8fbe1563fa6a7e70683401b
"
openstack%2Ftripleo-common~master~I41b98f7782f055533bf7dd61e2d73ded2829c895,openstack/tripleo-common,master,bug/1770956,I41b98f7782f055533bf7dd61e2d73ded2829c895,Make lb-mgmt-subnet a class B subnet,MERGED,2018-05-13 13:46:18.000000000,2018-05-25 01:32:43.000000000,2018-05-25 01:32:43.000000000,9,4,6,568089,aa226f970bfff360471f070ab151ce820735efcd,48,7,8,2,6579,Nir Magnezi,nmagnezi,"Make lb-mgmt-subnet a class B subnet

TripleO creates that subnet during the Octavia deployment process.
Currently, it is created as a class C subnet with allocation_pools
that essentially limit the number of address in that subnet to 150.

This patch enhances the lb-mgmt-subnet to be class B so the global
amount of Octavia loadbalancers won't be constrained to a very low
number.

Closes-Bug: #1770956

Depends-On: I3465dd9e2f95983a3f3a5dcd85f50781044fd6ec
Change-Id: I41b98f7782f055533bf7dd61e2d73ded2829c895
"
openstack%2Ftripleo-heat-templates~master~I3465dd9e2f95983a3f3a5dcd85f50781044fd6ec,openstack/tripleo-heat-templates,master,bug/1770956,I3465dd9e2f95983a3f3a5dcd85f50781044fd6ec,Make lb-mgmt-subnet a class B subnet,MERGED,2018-05-13 19:22:31.000000000,2018-05-25 01:32:42.000000000,2018-05-25 01:32:42.000000000,15,4,4,568138,5a28efc27da47782a10c5ba8450ee0e90527d908,58,11,11,2,6579,Nir Magnezi,nmagnezi,"Make lb-mgmt-subnet a class B subnet

TripleO creates that subnet during the Octavia deployment process.
Currently, it is created as a class C subnet with allocation_pools
that essentially limit the number of address in that subnet to 150.

This patch enhances the lb-mgmt-subnet to be class B so the global
amount of Octavia loadbalancers won't be constrained to a very low
number.

Related-Bug: #1770956

Change-Id: I3465dd9e2f95983a3f3a5dcd85f50781044fd6ec
"
openstack%2Ftripleo-heat-templates~master~I52b32ebecfe1fc270bda7d5c0e7e90ce273e72a6,openstack/tripleo-heat-templates,master,bug/1772635,I52b32ebecfe1fc270bda7d5c0e7e90ce273e72a6,collectd: give access to the libvirt socket in ro,MERGED,2018-05-22 11:00:04.000000000,2018-05-25 01:32:40.000000000,2018-05-25 01:32:40.000000000,1,0,0,569956,e04b3ce97286cd74dfbfd66c82dd6f72b356ff81,16,9,2,1,2813,Mehdi Abaakouk,sileht,"collectd: give access to the libvirt socket in ro

collectd virt plugin needs to read /var/run/libvirt/libvirt-sock-ro to
work.

This change gives this access.

Closes-bug: #1772635
Change-Id: I52b32ebecfe1fc270bda7d5c0e7e90ce273e72a6
"
openstack%2Ftripleo-quickstart~master~I2c2ce8d40765ac1f7c2dd02703c28243f8c3309b,openstack/tripleo-quickstart,master,ovn_ha_fset30,I2c2ce8d40765ac1f7c2dd02703c28243f8c3309b,Enable OVN DB HA profile in fset30,MERGED,2017-11-29 09:24:57.000000000,2018-05-25 01:32:40.000000000,2018-05-25 01:32:40.000000000,3,5,1,523804,5e2c6a527621ca2b1d345ae2eea1f8d17374cd01,82,9,12,2,10237,Numan Siddique,numansiddique,"Enable OVN DB HA profile in fset30

OVN DB servers can be deployed as a pacemaker HA master/slave resource.
Presently fset30 deploys OVN DB servers in a non HA mode. In real deployments,
HA is desired. So this patch enables OVN DB HA profile in fset30.

Change-Id: I2c2ce8d40765ac1f7c2dd02703c28243f8c3309b
"
openstack%2Fkeystonemiddleware~master~Ied0860a282df380e1ce05cea364164342b86cbc7,openstack/keystonemiddleware,master,,Ied0860a282df380e1ce05cea364164342b86cbc7,Trivial: update url to new url,ABANDONED,2018-05-13 14:01:11.000000000,2018-05-25 01:26:22.000000000,,4,4,0,568095,d08a9dc12205dd7867c48374a7e0828132ecb912,3,1,1,2,27336,XiaojueGuan,XiaojueGuan,"Trivial: update url to new url

Change-Id: Ied0860a282df380e1ce05cea364164342b86cbc7
"
openstack%2Fswift~master~I90ac82168cbe32908fb48c4c53ae5111cdf8a4b4,openstack/swift,master,,I90ac82168cbe32908fb48c4c53ae5111cdf8a4b4,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""",ABANDONED,2018-05-18 06:34:17.000000000,2018-05-25 01:26:00.000000000,,1,1,0,569341,1cec01f81877dd2fe18f85a18d8fe950d15edd7f,4,2,1,1,25067,yfzhao,yfzhao,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""

According to [1], ""auth_uri"" has been deprecated.
This patch replace it by using ""www_authenticate_uri"" instead.

[1] https://review.openstack.org/#/c/508522

Change-Id: I90ac82168cbe32908fb48c4c53ae5111cdf8a4b4
"
openstack%2Fopenstack-ansible-tests~master~I89eb56550664df85f13862c5a3fd46a5e6bdd5a9,openstack/openstack-ansible-tests,master,,I89eb56550664df85f13862c5a3fd46a5e6bdd5a9,"Add nspawn roles to default ""required-projects""",MERGED,2018-05-18 14:59:47.000000000,2018-05-25 01:20:39.000000000,2018-05-25 01:20:39.000000000,2,0,0,569439,ae09ea27e59198cfeb1f189676495e365e78607e,11,4,1,1,7353,Kevin Carter,cloudnull,"Add nspawn roles to default ""required-projects""

To enable better control and cross project testing the nspawn roles have
been added to the ""required-projects"" list.

Change-Id: I89eb56550664df85f13862c5a3fd46a5e6bdd5a9
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fpatrole~master~Ib35eda5520456a1ecdb02c40c8e90f6f8d7f9269,openstack/patrole,master,trivialfix,Ib35eda5520456a1ecdb02c40c8e90f6f8d7f9269,fix typos in documentation,MERGED,2018-05-23 13:01:08.000000000,2018-05-25 01:15:43.000000000,2018-05-25 01:15:43.000000000,2,2,0,570181,7cd216194b173a9ee9f8dc42961d3cec1dbd3cb7,25,5,1,2,17130,melissaml,malei,"fix typos in documentation

Change-Id: Ib35eda5520456a1ecdb02c40c8e90f6f8d7f9269
"
openstack%2Fpuppet-swift~master~Idcb8a3c77c420373b0f672529f79575368d0e0ba,openstack/puppet-swift,master,trivialfix,Idcb8a3c77c420373b0f672529f79575368d0e0ba,fix a typo in swift_bench_spec.rb,MERGED,2018-05-23 13:15:02.000000000,2018-05-25 00:48:37.000000000,2018-05-25 00:48:37.000000000,1,1,0,570188,70295a2777cd8f661c4fdcad4ba196955b413558,7,3,1,1,17130,melissaml,malei,"fix a typo in swift_bench_spec.rb

Change-Id: Idcb8a3c77c420373b0f672529f79575368d0e0ba
"
openstack%2Ftripleo-docs~master~Id5b901faa95e73e3d915e17908163b3515e9418f,openstack/tripleo-docs,master,rm_useradd_ceph,Id5b901faa95e73e3d915e17908163b3515e9418f,Already deployed servers don't need a ceph user on overcloud nodes,MERGED,2018-05-21 13:43:44.000000000,2018-05-25 00:37:33.000000000,2018-05-25 00:37:33.000000000,1,5,0,569798,51ad48d89ba9c8c59a421681067540427b5d93c6,8,5,1,1,18002,John Fulton,fultonj,"Already deployed servers don't need a ceph user on overcloud nodes

It was necessary in the past to create the ceph user on overcloud
nodes when using TripleO's deployed servers feature due to a
ceph-ansible bug which has since been resolved [1]. The documentation
contained a workaround for this bug, but as it is now resolved the
workaround, of creating the ceph user before starting configuration,
may be removed.

[1] https://github.com//ceph/ceph-ansible/pull/2487

Change-Id: Id5b901faa95e73e3d915e17908163b3515e9418f
"
openstack%2Ftripleo-docs~master~I4b76e2b405f1114bcc7202a12e8a27305d16670d,openstack/tripleo-docs,master,upgrade_docs_fixup,I4b76e2b405f1114bcc7202a12e8a27305d16670d,Minor fixes for Pike to Queens upgrade operator docs,MERGED,2018-05-24 12:43:25.000000000,2018-05-25 00:37:32.000000000,2018-05-25 00:37:32.000000000,39,27,0,570380,dac600a0810f9175d9a8b548e946a16a20954b87,7,9,1,1,8449,Marios Andreou,marios,"Minor fixes for Pike to Queens upgrade operator docs

Operator docs merged in [0] and this implements the comments
that were left unaddressed there and also adds some other
minor improvements.

[0] https://review.openstack.org/535859
Change-Id: I4b76e2b405f1114bcc7202a12e8a27305d16670d
"
openstack%2Ftripleo-specs~master~Iaf78eedd5e6367bed476e7d4253bbb834ec42bfd,openstack/tripleo-specs,master,abandon-clarification,Iaf78eedd5e6367bed476e7d4253bbb834ec42bfd,Add clarification to patch abandonment policy,MERGED,2018-05-10 16:24:33.000000000,2018-05-25 00:31:50.000000000,2018-05-25 00:31:50.000000000,7,6,0,567638,872906d761b50357f27cc4157c312b667be7059e,12,6,2,1,4978,Julie Pichon,jpichon,"Add clarification to patch abandonment policy

An IRC conversation/question showed that the current wording of the
policy can be misinterpreted to mean that permission must be asked
before restoring a patch. This patch aims to make it explicit that it
is not the case.

Also fix a couple of typos.

Change-Id: Iaf78eedd5e6367bed476e7d4253bbb834ec42bfd
"
openstack%2Fopenstack-ansible-lxc_container_create~master~Ib80c2ed2a01a4a6a8c48aed9bdf9a50e45ea9564,openstack/openstack-ansible-lxc_container_create,master,add_bionic_support,Ib80c2ed2a01a4a6a8c48aed9bdf9a50e45ea9564,Add Bionic testing,MERGED,2018-05-08 20:13:39.000000000,2018-05-25 00:00:04.000000000,2018-05-25 00:00:04.000000000,126,30,0,567032,62eff6ca2a8fee08ca4ab4f7e3db58957322ef10,39,4,12,13,17068,Jean-Philippe Evrard,evrardjp,"Add Bionic testing

Now that bionic testing is added into the tests repos, we can
start testing it in the repo.

Since bionic uses lxc >= 3, we need to make some adjustments to the role
to allow the role to work with both lxc > 3 and lxc < 3, there were
several config options changes which will impact on upgradeability.

LXC >= 3 requires networks to have an index, we can achieve this by
taking the network dict and converting it to a list, and using those to
generate the id ""with_indexed_items"".

Depends-On: https://review.openstack.org/#/c/566959/
Depends-On: https://review.openstack.org/#/c/567038/
Change-Id: Ib80c2ed2a01a4a6a8c48aed9bdf9a50e45ea9564
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fkolla-cli~master~Id13584aa53d586120d9faba012fee444e6d0e639,openstack/kolla-cli,master,certificate_init,Id13584aa53d586120d9faba012fee444e6d0e639,Create 'certificate init' command.,MERGED,2018-05-17 22:05:46.000000000,2018-05-24 23:34:59.000000000,2018-05-24 23:34:59.000000000,113,1,0,569282,1862b08cccc4745334f3b27bab4be362ca7e1ca2,11,3,3,6,16520,Borne Mace,bmace,"Create 'certificate init' command.

This new command will create self-signed certificates that can be used for
a non-production deployment.  Note: self-signed certificates should not be
used in production.

Change-Id: Id13584aa53d586120d9faba012fee444e6d0e639
"
openstack%2Foslo.db~master~Id7fea7562ba90eb710176d497af103303f230531,openstack/oslo.db,master,bug/1746116,Id7fea7562ba90eb710176d497af103303f230531,Reverse role of synchronous_reader,MERGED,2018-01-29 23:28:13.000000000,2018-05-24 23:28:32.000000000,2018-02-12 10:54:06.000000000,21,11,0,539046,5ca329884d492d78e623e2313142238eb256f1a6,11,5,1,3,11816,mike_mp@zzzcomputing.com,zzzeek,"Reverse role of synchronous_reader

Repaired the ""synchronous_reader"" modifier of enginefacade so that it
refers to the ""writer"" engine when set to True, thereby allowing
""synchronous"" behavior with the writer.  When set to False, this is
""asynchronous"", so this should be associated with the async engines.
The flag had the reverse behavior previously.

Change-Id: Id7fea7562ba90eb710176d497af103303f230531
Closes-bug: #1746116
"
openstack%2Fkolla-cli~master~Ibe366363e0a9dab5fadbbe63d5f5407e31b2938e,openstack/kolla-cli,master,integer_properties,Ibe366363e0a9dab5fadbbe63d5f5407e31b2938e,Fix integer property persistence issue,MERGED,2018-05-17 22:34:07.000000000,2018-05-24 23:18:40.000000000,2018-05-24 23:18:40.000000000,3,2,0,569286,9f9b0736b19625963fca18797a7296bc29ca67fa,7,3,1,1,16520,Borne Mace,bmace,"Fix integer property persistence issue

When integer properties were persisted there was an ellipsis
added on the following line.  This also happens with boolean
properties when using the yaml.safe_dump() method.  Boolean
values were fixed properly but integer values were missed.
Integer values are now persisted properly.

Change-Id: Ibe366363e0a9dab5fadbbe63d5f5407e31b2938e
"
openstack%2Fproject-config~master~I810655e68043501dc1c8e64a19f3e6ca2fad2e22,openstack/project-config,master,tripleo-modify-image,I810655e68043501dc1c8e64a19f3e6ca2fad2e22,Configure ansible-role-tripleo-modify-image zuul jobs,MERGED,2018-05-17 03:39:59.000000000,2018-05-24 23:13:21.000000000,2018-05-24 23:13:21.000000000,15,0,0,569002,61c56177270e19cfdc5393f8a597fdf73d6ca46f,13,4,2,1,4571,Steve Baker,steve-stevebaker,"Configure ansible-role-tripleo-modify-image zuul jobs

Change-Id: I810655e68043501dc1c8e64a19f3e6ca2fad2e22
"
openstack%2Ftripleo-upgrade~stable%2Fpike~I7e6c288dd0f974901fb85acb1ac806bcd4d9ee4d,openstack/tripleo-upgrade,stable/pike,bug/1769103,I7e6c288dd0f974901fb85acb1ac806bcd4d9ee4d,Separate scripts creation tasks for under/overcloud.,MERGED,2018-05-24 09:30:55.000000000,2018-05-24 23:00:05.000000000,2018-05-24 23:00:05.000000000,54,25,0,570357,a19f4556d0ac73bfe548a0fe59dfe01d9ca3df0d,9,7,1,6,26343,Jose Luis Franco,jfrancoa,"Separate scripts creation tasks for under/overcloud.

The upgrade/update tasks in tripleo-upgrade started
with a create-scripts book, which generated most of
the scripts from the templates. However, this book
mixed the creation of scripts needed for the overcloud
as well as for the undercloud. This becomes an issue
when we want to perform only an undercloud upgrade, as
we are running tasks intended to the overcloud and it
might not even exist.
This patch divides the script creation tasks used for
the undercloud from the ones used for the overcloud.

Change-Id: I7e6c288dd0f974901fb85acb1ac806bcd4d9ee4d
Closes-Bug: #1769103
(cherry picked from commit abc439355ee433db4a1e21c8da31d8f48b7b03e5)
"
openstack%2Fpython-tripleoclient~master~I213d98a69945d98c3618d368613bf7f9908da642,openstack/python-tripleoclient,master,bp/all-in-one,I213d98a69945d98c3618d368613bf7f9908da642,Store UC hosts/portmaps heat params in output_dir,MERGED,2018-04-25 08:42:39.000000000,2018-05-24 23:00:04.000000000,2018-05-24 23:00:04.000000000,26,37,2,564135,3f76cf32c1bfd319f98d8c11f8fbab7b91e24ff8,96,10,20,2,6926,Bogdan Dobrelya,bogdando,"Store UC hosts/portmaps heat params in output_dir

Fix hosts/portmaps params used with undercloud heat installer
are generated in output_dir/<tht working dir> instead of /tmp,
and given a fixed name. Add this file into a tarball containing
produced deployment configuration artifacts.

Change-Id: I213d98a69945d98c3618d368613bf7f9908da642
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-common~stable%2Fqueens~Id13c7cf52b306891d780243b2562c8ca305aa365,openstack/tripleo-common,stable/queens,bug/1768913,Id13c7cf52b306891d780243b2562c8ca305aa365,Add a 'trash_output' flag to ansible playbook action,MERGED,2018-05-08 13:21:11.000000000,2018-05-24 23:00:03.000000000,2018-05-24 23:00:03.000000000,6,0,8,566884,9635ef262019bd138c3f852de02c81278f7eef7c,41,7,3,3,7065,Brad P. Crochet,bcrochet,"Add a 'trash_output' flag to ansible playbook action

Sometimes, the output is REALLY big. It ends up throwing an error in
MySQL trying to write to the output of the ActionExecution to the
database. Since we're passing the output back via zaqar, we can
just throw this away.

The trash_output flag defaults to false, to maintain the original
behavior.

Change-Id: Id13c7cf52b306891d780243b2562c8ca305aa365
Closes-Bug: #1768913
(cherry picked from commit 89986793a8c3bff9be28cc674923b9f30eab1e89)
"
openstack%2Ftripleo-common~master~I84b0d4f18f1c382201dd5cf782152c5e973da513,openstack/tripleo-common,master,bug/1772880,I84b0d4f18f1c382201dd5cf782152c5e973da513,Fix Octavia amphora image RPM install,MERGED,2018-05-23 10:38:42.000000000,2018-05-24 23:00:02.000000000,2018-05-24 23:00:02.000000000,7,3,1,570163,b2e6edfc26994fed6bc9b56e0b70ba82545a7c06,19,11,2,3,6469,Carlos Gonçalves,cgoncalves,"Fix Octavia amphora image RPM install

The Octavia amphora image RPM failed to install on the undercloud on Red
Hat platforms. Reason was the Ansible playbook, specifically the
octavia-undercloud role, runs as part of octavia_post_deploy workbook as
'mistral' user which is a non-privileged user. Because of this, the
overcloud deployment exits with error when Octavia service is enabled
and tries to install the RPm or updating to latest its version.

This fix is not ideal. Other ways of fixing it have been attempted and
didn't work. For example, moving the image installation and further
image handling logic to an overcloud controller node where we would have
user privileged access to install the RPM. It proved to be less optimal
than current approach because a) controller node would need to be
subscribed to Red Hat OpenStack Platform RPM channels which in many
cases does not happen and b) would require reaching Internet to download
RPM.

This patch instead switches to using Ansible raw module [1] and
whitelist a yum command in sudoers for mistral user. Neither yum, shell
or command modules can be used as they run as Ansible sends Python code
to be executed on the targeted servers. Should we've gone that path,
we'd have needed to whitelist a hugly and insecure regex as follows:

mistral ALL = NOPASSWD: /usr/bin/python /tmp/ansible-*/yum.py*

So, instead the raw module had to be used as it bypasses Ansible's
module subsystem. Ansible runs the command directly in the target host
and we can predictably allow execution of that particular command with
privileged access.

[1] http://docs.ansible.com/ansible/latest/modules/raw_module.html

Closes-Bug: #1772880
Change-Id: I84b0d4f18f1c382201dd5cf782152c5e973da513
"
openstack%2Fself-healing-sig~master~I2d4c8b204199f08caf78d2e12176f2bd0ce35c62,openstack/self-healing-sig,master,zuul,I2d4c8b204199f08caf78d2e12176f2bd0ce35c62,add build-openstack-sphinx-docs job to zuul,MERGED,2018-05-24 20:37:46.000000000,2018-05-24 22:59:59.000000000,2018-05-24 22:59:59.000000000,4,0,0,570446,873e602528ae0cbc3da932d04793bd08c484f596,12,3,3,1,2394,Adam Spiers,adam.spiers,"add build-openstack-sphinx-docs job to zuul

This will build the .rst docs as part of the check and gate pipelines
in Zuul.

Change-Id: I2d4c8b204199f08caf78d2e12176f2bd0ce35c62
"
openstack%2Fkolla-cli~master~Id645cde1e0f7734cd09c1e406e52f05635cc4c82,openstack/kolla-cli,master,save_host_vars,Id645cde1e0f7734cd09c1e406e52f05635cc4c82,Don't remove host vars when removing host from group,MERGED,2018-05-17 21:23:25.000000000,2018-05-24 22:58:29.000000000,2018-05-24 22:58:29.000000000,3,4,0,569263,23bec78cd5273517d65b117eddb63f59fb17f8bd,8,4,1,1,16520,Borne Mace,bmace,"Don't remove host vars when removing host from group

Don't remove host vars when removing host from group

Change-Id: Id645cde1e0f7734cd09c1e406e52f05635cc4c82
"
openstack%2Fkolla-cli~master~Icb26a0b2d88e2bfc4593e83787ca06e9ca51b186,openstack/kolla-cli,master,empty_password_file,Icb26a0b2d88e2bfc4593e83787ca06e9ca51b186,Password set now works on an empty password file,MERGED,2018-05-17 21:21:04.000000000,2018-05-24 22:41:03.000000000,2018-05-24 22:41:02.000000000,3,0,0,569262,edeb5d6483beea75fc4694f78fa116ed67d0cf1d,7,3,1,1,16520,Borne Mace,bmace,"Password set now works on an empty password file

Password set now works on an empty password file

Change-Id: Icb26a0b2d88e2bfc4593e83787ca06e9ca51b186
"
openstack%2Ftrove~master~I7cb4f1162fcef22f46d6b4298efaa158f741e81c,openstack/trove,master,bp/couchbase-users-databases,I7cb4f1162fcef22f46d6b4298efaa158f741e81c,Couchbase v3.0 support,NEW,2016-12-05 18:26:15.000000000,2018-05-24 22:40:56.000000000,,592,230,19,407125,4d83c5740cf514d98ffcd9b497eb84b908ebb9b1,59,7,15,16,14576,Petr Malik,pmalik,"Couchbase v3.0 support

Add Couchbase 3 support and preliminary work
required for clustering and bucket support.

Elements:

 - Install Couchbase 3.0 and apply recommended OS tweaks.

Server:

 - Report the root state on single instances.
 - Includ recommended (non-SSL) ports in the config.
 - Compute the 'cluster_ramsize' quota based on the
   instance's RAM % (configurable).
   Make the guest retrieve the actual value from the OS (via psutil)
   as the flavor RAM value does not exactly match the
   available amount causing Couchbase to stop provisioning.
 - Encapsulate the 'couchbase-cli' calls.
   Move away from using hardcoded exec strings and build the
   commands dynamically instead.
 - Remove the unnecessary checks for initialization state
   from the status class as we no longer send heartbeats
   during prepare.
 - Removed no-op code (configuration methods).
 - Remove code moved to the elements (performance tweaks).
 - Implement user, datastore and root model for Couchbase.
 - Create status in the App.
 - Make manager name an init arg.
 - Move admin commands to CouchbaseAdmin class
 - Secure single-node 'clusters' (single instance)
   previously using hardcoded password ('password').

Partially Implements: blueprint couchbase-users-databases
Partially Implements: blueprint couchbase-cluster-support

Change-Id: I7cb4f1162fcef22f46d6b4298efaa158f741e81c
"
openstack%2Ftrove~master~I826dfb620e5cc43e8c03aecdd9f59ed19deb664b,openstack/trove,master,bp/datastore-specific-api-extensions,I826dfb620e5cc43e8c03aecdd9f59ed19deb664b,Datastore-specific API controllers,NEW,2016-12-02 23:14:44.000000000,2018-05-24 22:40:45.000000000,,1857,1043,10,406395,b48342a8d4af2e0a0dc3d14fe2edad9a8282ddb0,58,6,15,44,14576,Petr Malik,pmalik,"Datastore-specific API controllers

This patch set introduces generic user and database API.
The validation and parsing is implemented by derived classes.
The API controller is loaded dynamically based on the
target instance's datastore.

Controller classes on appropriate datastores is defined
in 'user_controller', 'user_access_controller',
'database_controller' configuration property.

Accept cluster ids in the instance API.
By default requests get routed to the first cluster node,
but this behavior may be overriden on per-datastore basis.

Notes:

    - The fake guestagent was updated to follow real guest
      behavior (not rising from get_user).
    - The root controller is now fully generic.
      The check for user existence on the guest is no longer
      required (disabling root multiple times is a noop and
      the root user is no longer removed from the instance)
      Derived root controllers are trivial 'pass' kept for
      backwards-compatibility.
    - Tests from 'mysql/test_common.py' were migrated
      to 'instance/test_instance_controller.py'
      They are concerned about initial users/databases
      (i.e. on instance create).

Implemented custom controllers for MySQL, Cassandra and
Postgresql at this stage.

DocImpact

Implements blueprint: datastore-specific-api-extensions

Change-Id: I826dfb620e5cc43e8c03aecdd9f59ed19deb664b
Depends-On: I9cfa048cdee7c9eb18787957fb69e14e05dd4128
"
openstack%2Fkolla-cli~master~I64b031c8aa1423ed0d23218832e4dcb391fd3ab5,openstack/kolla-cli,master,none_type_properties,I64b031c8aa1423ed0d23218832e4dcb391fd3ab5,Support updates of None type properties,MERGED,2018-05-17 21:18:39.000000000,2018-05-24 22:22:44.000000000,2018-05-24 22:22:44.000000000,10,0,0,569261,e7eedc1afec38615c1e28fda6a9eae6f85fc166e,10,3,2,1,16520,Borne Mace,bmace,"Support updates of None type properties

There was an issue where None type properties could
not be changed to empty string type properties because
safe_load would turn an empty string into a None.

Change-Id: I64b031c8aa1423ed0d23218832e4dcb391fd3ab5
"
openstack%2Fpython-barbicanclient~master~If4ae5b7863d0abba19ecd2b6a29e0ec984a8fa13,openstack/python-barbicanclient,master,rename-osc-plugin,If4ae5b7863d0abba19ecd2b6a29e0ec984a8fa13,Namespace OpenStack Client Plugin,ABANDONED,2016-05-21 00:21:04.000000000,2018-05-24 22:16:46.000000000,,18,22,0,319504,a3e2149b4a38ce1e279ea26737a86ed4f21b7b9d,8,3,1,1,7973,Douglas Mendizábal,dougmendizabal,"Namespace OpenStack Client Plugin

Use 'key manager' as the namespace for OpenStack client commands. e.g.

    openstack key manager secret list

Change-Id: If4ae5b7863d0abba19ecd2b6a29e0ec984a8fa13
"
openstack%2Ftrove~master~Id9af3e40337339c61d43b45d0c280e3a3a07c888,openstack/trove,master,bug/1674710,Id9af3e40337339c61d43b45d0c280e3a3a07c888,Fixing root-disable fails if root in reserved list,ABANDONED,2017-03-21 14:56:57.000000000,2018-05-24 22:05:10.000000000,,1,5,0,448140,adf3362b114764d40cb82af6fb0f66cc06a6f8e2,20,8,4,1,23851,Riccardo Pittau,elfosardo,"Fixing root-disable fails if root in reserved list

root user is included by default in the reserved users list
root-disable command calls root_delete method in the
DefaultRootController, which looks for the root user using
_find_root_user function
this function will call the load method for the normal User
using _get_user and calling check_reserved that will fail
if the user checked is in the reserved users list

the correct call should happen against the load method of
the Root user, which will check the root history in the
instance, correctly raising an exception only if the root
user has never been activated in the instance

root-enable correctly bypass the reserved users list

Change-Id: Id9af3e40337339c61d43b45d0c280e3a3a07c888
Closes-Bug: #1674710
"
openstack%2Fkolla-cli~master~Ida14fa62faad4b5793f9736ce079fcfd4af6523e,openstack/kolla-cli,master,special_character_password,Ida14fa62faad4b5793f9736ce079fcfd4af6523e,Fix setting passwords with special characters,MERGED,2018-05-17 21:10:19.000000000,2018-05-24 22:02:40.000000000,2018-05-24 22:02:40.000000000,35,12,0,569258,a0441f74551271d55427fbcda005e7c67305fa6f,9,3,2,3,16520,Borne Mace,bmace,"Fix setting passwords with special characters

Password strings with special characters were not being correctly
escaped.  If --insecure is used the argument should be wrapped
in single quotes or escaped per character and there is nothing
that can be done about that since the shell messes with the
arguments before even passed to the command.

Change-Id: Ida14fa62faad4b5793f9736ce079fcfd4af6523e
"
openstack%2Fpython-octaviaclient~master~I617834260efa6853496b001a92596cb09c623ed7,openstack/python-octaviaclient,master,,I617834260efa6853496b001a92596cb09c623ed7,Update python-octaviaclient tox for stestr,MERGED,2018-05-24 18:18:48.000000000,2018-05-24 21:59:24.000000000,2018-05-24 21:59:24.000000000,19,13,0,570424,22e10bc8841d49ec0c918d0661554f50c2e29e74,11,3,2,5,11628,Michael Johnson,johnsom,"Update python-octaviaclient tox for stestr

This patch updates the python-octaviaclient tox environment to use stestr.

Change-Id: I617834260efa6853496b001a92596cb09c623ed7
"
openstack%2Fswift~master~Ib3c9b162ceffabd78622ae51c5accc4b7ba1294d,openstack/swift,master,py26-leftovers-return-of-the-sequel,Ib3c9b162ceffabd78622ae51c5accc4b7ba1294d,Clean out Python 2.6 leftovers from splice.py,MERGED,2018-05-24 18:49:03.000000000,2018-05-24 21:51:39.000000000,2018-05-24 21:51:39.000000000,2,5,0,570427,d52a5276d85b9173c6bba7882085da835cde19ce,7,3,1,1,2622,Samuel Merritt,torgomatic,"Clean out Python 2.6 leftovers from splice.py

ctypes.ssize_t exists since Python 2.7 (not just the fuzzy 2.7.X, but
CPython tag ""v2.7""), so we don't need to define our own.

Change-Id: Ib3c9b162ceffabd78622ae51c5accc4b7ba1294d
"
openstack%2Fnova-specs~master~I47aefdb8a8135ab5c1c49a764f468035a0afb8ab,openstack/nova-specs,master,bp/nova-validate-certificates,I47aefdb8a8135ab5c1c49a764f468035a0afb8ab,Add support for certificate validation,MERGED,2018-05-24 12:45:12.000000000,2018-05-24 21:48:58.000000000,2018-05-24 21:48:58.000000000,62,3,15,570381,9f0a8999af83bff14acfb0e1adfbcbdbdc2233e6,15,10,3,1,7764,Peter Hamilton,Peter,"Add support for certificate validation

This spec describes changes that would allow Nova to perform
certificate validation when verifying Glance image signatures.
While image signing ensures that image data is obtained
unmodified from Glance, it does not prevent an attacker from
uploading and signing a malicious image. The addition of Nova
API changes allows Nova users to control the certificates
which are allowed to sign images.

This spec describes work related to image verification. For
more information, see: https://review.openstack.org/#/c/343654

APIImpact

Change-Id: I47aefdb8a8135ab5c1c49a764f468035a0afb8ab
Previously-approved: Rocky
"
openstack%2Fkolla-cli~master~If325b50dbf31aa6a203e4556a864674a001df484,openstack/kolla-cli,master,,If325b50dbf31aa6a203e4556a864674a001df484,Fix error during host remove all,MERGED,2018-05-17 20:25:06.000000000,2018-05-24 21:48:57.000000000,2018-05-24 21:48:57.000000000,2,1,0,569249,2f72cc33a37b78bda86011d3f1a49b642523b829,7,3,1,1,16520,Borne Mace,bmace,"Fix error during host remove all

A host remove all when there were no hosts would
report an error.  This should no longer happen.

Change-Id: If325b50dbf31aa6a203e4556a864674a001df484
"
openstack%2Fkolla~master~I5f1aa4a959fd91b164a697e98e253fcab0fc1572,openstack/kolla,master,keystone-kerberos,I5f1aa4a959fd91b164a697e98e253fcab0fc1572,keystone: Switch from mod_auth_kerb to mod_auth_gssapi,MERGED,2018-05-24 11:54:23.000000000,2018-05-24 21:33:54.000000000,2018-05-24 21:33:54.000000000,4,4,0,570372,df05a8b793b8fc9e505561884cb51216517d4339,7,4,1,1,10873,Juan Antonio Osorio Robles,ejuaoso,"keystone: Switch from mod_auth_kerb to mod_auth_gssapi

The packages needed for authentication using kerberos for keystone
landed in a recent patch [1]. Unfortunately, shortly after the patch
merging I was informed that the preferred module is mod_auth_gssapi
nowadays (given that there is a planned deprecation for mod_auth_kerb).

[1] I9ef972ea5a8e9cf4d1ed43ef27203576d9382822

Change-Id: I5f1aa4a959fd91b164a697e98e253fcab0fc1572
"
openstack%2Fswift~master~Ie2c27407efc2882e698abe6e4379a00a1d3f4301,openstack/swift,master,son-of-py26-leftovers,Ie2c27407efc2882e698abe6e4379a00a1d3f4301,Remove our reimplemented logging.NullHandler,MERGED,2018-05-24 18:18:55.000000000,2018-05-24 21:31:03.000000000,2018-05-24 21:31:03.000000000,1,11,0,570425,a6f7600545624492f158f4832f3972d37bdd6057,7,3,1,1,2622,Samuel Merritt,torgomatic,"Remove our reimplemented logging.NullHandler

Python 2.6 didn't have one, so we'd try to find logging.NullHandler
but fall back to our own. Since 2.7+ has logging.NullHandler, we can
just use it.

Change-Id: Ie2c27407efc2882e698abe6e4379a00a1d3f4301
"
openstack%2Fproject-config~master~Ib0ad877369bafab64a1fd25cc331363d771d5753,openstack/project-config,master,,Ib0ad877369bafab64a1fd25cc331363d771d5753,Ensure rhel7 image could be build,MERGED,2018-05-22 19:59:57.000000000,2018-05-24 21:23:40.000000000,2018-05-24 21:23:40.000000000,6,6,0,570035,e0f471889c3e2a6f4cb1c608372c0ef65f7c4cca,8,4,1,4,11810,Nicolas Hicher,atarakt,"Ensure rhel7 image could be build

Add rhel7 distrib in unbound and iptables script for nodepool-base, and
add haveged installation for infra-package-needs to ensure users could
use these elements to build rhel based image.

Change-Id: Ib0ad877369bafab64a1fd25cc331363d771d5753
"
openstack%2Fcharm-guide~master~I180d2002ed7b881a0e008b23c567b0c61173bf0a,openstack/charm-guide,master,update-charms-list,I180d2002ed7b881a0e008b23c567b0c61173bf0a,Update charms list and classifications,MERGED,2018-04-06 16:51:21.000000000,2018-05-24 21:16:37.000000000,2018-05-24 21:16:37.000000000,43,4,1,559372,d8cd9deb6fcb6bdfc9b8fa3541d419c6ef3d9bdb,10,4,1,1,20635,Ryan Beisner,ryan-beisner,"Update charms list and classifications

Change-Id: I180d2002ed7b881a0e008b23c567b0c61173bf0a
"
openstack%2Fcharm-barbican~stable%2F18.02~Ibe6ff8dbc2fde1fba81ae62f5bd345a93998221b,openstack/charm-barbican,stable/18.02,rebuild-stable/18.02,Ibe6ff8dbc2fde1fba81ae62f5bd345a93998221b,Rebuild for stable update,ABANDONED,2018-04-20 13:57:59.000000000,2018-05-24 21:08:48.000000000,,1,1,0,563129,5f4effa25723e637edf8115f5e9e7a8fe6c1c8b8,10,4,1,1,20635,Ryan Beisner,ryan-beisner,"Rebuild for stable update

Change-Id: Ibe6ff8dbc2fde1fba81ae62f5bd345a93998221b
"
openstack%2Foctavia-dashboard~master~I0d8d7213bf1abc690517d14c97f5c312b34b4112,openstack/octavia-dashboard,master,replace-noop-tests,I0d8d7213bf1abc690517d14c97f5c312b34b4112,Replace noop tests with registration test,MERGED,2018-03-08 06:51:36.000000000,2018-05-24 21:06:47.000000000,2018-05-24 21:06:47.000000000,53,361,0,550721,8e9a2f239a38628e77a1dd18d605bf0c71d7abbf,18,4,6,15,2245,Jacky Hu,hudayou,"Replace noop tests with registration test

Previously the python tests are just some stub code, replace them with
some real tests.

Change-Id: I0d8d7213bf1abc690517d14c97f5c312b34b4112
"
openstack%2Foctavia-dashboard~master~I5b627802cc7089abc2d9e98a690f4c911afe8b77,openstack/octavia-dashboard,master,backup-member,I5b627802cc7089abc2d9e98a690f4c911afe8b77,"Allow members to be set as ""backup""",MERGED,2018-04-14 03:50:29.000000000,2018-05-24 21:05:19.000000000,2018-05-24 21:05:19.000000000,62,3,0,561387,f1194d2dc1315fda371d5d27115aa8fd5de94ea4,17,4,5,11,2245,Jacky Hu,hudayou,"Allow members to be set as ""backup""

This is a follow up of octavia-api changes made in:
I953abe71a0988da78efc6b3961f7518c81c2a06d

Depends-On: https://review.openstack.org/#/c/561386/
Change-Id: I5b627802cc7089abc2d9e98a690f4c911afe8b77
Story: 2001777
Task: 12485
"
openstack%2Foctavia-dashboard~master~I2ae995e4f8a828128481b02e956444c8208fc41b,openstack/octavia-dashboard,master,timeout-options,I2ae995e4f8a828128481b02e956444c8208fc41b,Add timeout options for listener,MERGED,2018-04-14 11:21:08.000000000,2018-05-24 21:03:31.000000000,2018-05-24 21:03:31.000000000,119,4,2,561402,e98966c795e86da5cfa0f4c26276241b4e398133,15,5,4,10,2245,Jacky Hu,hudayou,"Add timeout options for listener

This is a follow up of octavia-api change made in:
Id4667201c1bfaa06f7af9060c936ba00c2f314f9

Change-Id: I2ae995e4f8a828128481b02e956444c8208fc41b
Depends-On: https://review.openstack.org/#/c/561401/
Story: 1457556
Task: 12488
"
openstack%2Foctavia-dashboard~master~I084add9e17c35e0161570724c8f9cf3f08475bdd,openstack/octavia-dashboard,master,punctation-fix,I084add9e17c35e0161570724c8f9cf3f08475bdd,Replace unicode punctation with ascii,MERGED,2018-04-17 04:13:46.000000000,2018-05-24 21:03:30.000000000,2018-05-24 21:03:30.000000000,1,1,0,561780,0f31c2c9de24d2cf106459e8ba6a61a4def0099a,8,4,1,1,2245,Jacky Hu,hudayou,"Replace unicode punctation with ascii

To resolve the following exception when generating pot with
python manage.py extract_messages -m octavia_dashboard:
UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 45
: ordinal not in range(128)

Change-Id: I084add9e17c35e0161570724c8f9cf3f08475bdd
"
openstack%2Foctavia-dashboard~master~Iac3ac08d38b492215c90f08b13be76e190d09317,openstack/octavia-dashboard,master,zanata/translations,Iac3ac08d38b492215c90f08b13be76e190d09317,Imported Translations from Zanata,MERGED,2018-05-24 06:45:59.000000000,2018-05-24 21:02:50.000000000,2018-05-24 21:02:50.000000000,4,4,0,570323,b5e7971f73924fb6f8ecb42e6b6968eaa803d9ab,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iac3ac08d38b492215c90f08b13be76e190d09317
"
openstack%2Fcharm-keystone~master~I380d75e88739efaad8ef97e2b8a9e7d6d9cc860b,openstack/charm-keystone,master,ch-sync-tests,I380d75e88739efaad8ef97e2b8a9e7d6d9cc860b,Resync test helpers from charm helpers,ABANDONED,2018-04-02 14:42:27.000000000,2018-05-24 20:55:52.000000000,,295,56,0,558215,bf1edb45cdacf53bf140d0f0d5db7eb8854be003,8,3,1,5,20635,Ryan Beisner,ryan-beisner,"Resync test helpers from charm helpers

Change-Id: I380d75e88739efaad8ef97e2b8a9e7d6d9cc860b
"
openstack%2Fcharm-keystone~master~I7bc760c25a4de68cc27e4c1116a7e3279d1e5128,openstack/charm-keystone,master,ch-sync,I7bc760c25a4de68cc27e4c1116a7e3279d1e5128,Resync charm helpers,ABANDONED,2018-04-02 14:35:54.000000000,2018-05-24 20:55:48.000000000,,634,117,0,558213,9a71bfbb346aee93750d597653e303de7b453549,4,2,1,15,20635,Ryan Beisner,ryan-beisner,"Resync charm helpers

Change-Id: I7bc760c25a4de68cc27e4c1116a7e3279d1e5128
"
openstack%2Fcharm-rabbitmq-server~master~I2bf9f5d39fea629e75591df14d1e69aeb74828d3,openstack/charm-rabbitmq-server,master,update-amulet-1803,I2bf9f5d39fea629e75591df14d1e69aeb74828d3,Update amulet test definitions,ABANDONED,2018-03-28 18:58:51.000000000,2018-05-24 20:55:43.000000000,,1,76,0,557482,cd53b25896dbeba72ed2726ffd577bb14a53eb5a,7,3,1,6,20635,Ryan Beisner,ryan-beisner,"Update amulet test definitions

Enable Queens, and set Queens as the smoke gate

Remove soon-to-be deprecated combos

Change-Id: I2bf9f5d39fea629e75591df14d1e69aeb74828d3
"
openstack%2Fcharm-ceph-mon~master~I7b3269f33ba01881e9539650c6207aed7d0062f6,openstack/charm-ceph-mon,master,update-amulet-1803,I7b3269f33ba01881e9539650c6207aed7d0062f6,Update amulet test definitions,ABANDONED,2018-03-28 18:50:29.000000000,2018-05-24 20:55:40.000000000,,1,76,0,557477,f41e109c7f8ee4c6918b8514cfcafe09c45dcd75,5,3,1,7,20635,Ryan Beisner,ryan-beisner,"Update amulet test definitions

Enable Queens, and set Queens as the smoke gate

Remove soon-to-be deprecated combos

Change-Id: I7b3269f33ba01881e9539650c6207aed7d0062f6
"
openstack%2Fzun-ui~master~I20b0771fc536838f71f363565c7d67188972c553,openstack/zun-ui,master,zanata/translations,I20b0771fc536838f71f363565c7d67188972c553,Imported Translations from Zanata,MERGED,2018-05-23 06:29:45.000000000,2018-05-24 20:51:05.000000000,2018-05-24 20:51:05.000000000,4,4,0,570121,54dc1d432ac54eae2570af5845b912ecf5f032c0,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I20b0771fc536838f71f363565c7d67188972c553
"
openstack%2Ftripleo-upgrade~master~Ifd6c9a9d94b296649531fba4615241ac8993601e,openstack/tripleo-upgrade,master,,Ifd6c9a9d94b296649531fba4615241ac8993601e,Pass --ssh-user option during fast forward upgrade run,MERGED,2018-05-23 18:17:26.000000000,2018-05-24 20:01:55.000000000,2018-05-24 19:57:46.000000000,3,0,0,570245,3c02aa0be6fff9fb037d9cd7fc86635e9b00e21b,11,8,1,1,18851,Marius Cornea,mcornea,"Pass --ssh-user option during fast forward upgrade run

Change-Id: Ifd6c9a9d94b296649531fba4615241ac8993601e
"
openstack%2Fopenstack-helm-infra~master~I4834a5d476ef7fc69c5583caacc0229050f20a76,openstack/openstack-helm-infra,master,chart_tidys,I4834a5d476ef7fc69c5583caacc0229050f20a76,Charts: Tidy up openstack-helm-infra charts,MERGED,2018-05-21 17:14:08.000000000,2018-05-24 19:41:14.000000000,2018-05-24 19:41:14.000000000,98,97,0,569827,de9c46bcfadd6236ff643847d3b6c108850c1ce3,10,3,3,22,17591,Steve Wilkerson,srwilkers,"Charts: Tidy up openstack-helm-infra charts

This moves the charts in openstack-helm-infra closer towards a
standard structure. It addresses multiple deviations, including:
missing resources for init containers, incorrect indents for
disabled resources in some charts, incorrect indents for volumes
and volumemounts added via values, missing resources for some
helm test templates, missing helm-toolkit image functions, and
moving the resource template declarations to be under the image
template declarations

Change-Id: I4834a5d476ef7fc69c5583caacc0229050f20a76
"
openstack%2Fmanila~master~I1578760697aeae6e20bf567c60fbcdee0a642bee,openstack/manila,master,bug/1770183,I1578760697aeae6e20bf567c60fbcdee0a642bee,Fix post-execution for tempest tests,MERGED,2018-05-15 17:36:47.000000000,2018-05-24 19:09:08.000000000,2018-05-24 19:09:08.000000000,2,2,0,568650,a0947ab42d9f37236c1f0784bd39346b04f8b6a8,32,15,3,1,16643,Goutham Pacha Ravi,gouthamr,"Fix post-execution for tempest tests

Manila's post_test_hook runs tempest after
populating tempest.conf with the requisite
options, the results from tempest are saved
prior to performing some post tasks, including
deciding to run tests again with a different
configuration if necessary
(Ex: manila-tempest-minimal-dsvm-dummy). The
result is then replayed at the end of the gate
job so it can be reported to gerrit as a
SUCCESS or a FAILURE.

Fix the mis-aligned command that saves the
test execution status to replay later.

Change-Id: I1578760697aeae6e20bf567c60fbcdee0a642bee
Closes-Bug: 1770183
"
openstack%2Fneutron-lbaas~master~Ic179dfb925f52399a5457fd2855304bb3d4226ca,openstack/neutron-lbaas,master,ovn_lbaas,Ic179dfb925f52399a5457fd2855304bb3d4226ca,Support OVN driver for lbaas v2,ABANDONED,2017-10-10 15:54:29.000000000,2018-05-24 19:07:23.000000000,,547,0,12,510921,1af836ea266805781df71d8a841e40a12766a75e,43,10,8,5,10237,Numan Siddique,numansiddique,"Support OVN driver for lbaas v2

OVN supports native L4 load balancer. This patch adds OVN driver
to leverage this feature. This will be useful for OVN deployments
which wants to make use of native load balancer feature of OVN at the 
cost of losing the L7 load balancing provided by services like octavia.

This driver can be enabled by defining the below in the
'service_providers' section of neutron.conf
service_provider = LOADBALANCERV2:OVN:neutron_lbaas.drivers.ovn.driver_v2.OvnDriver

To enable this driver, it is expected that the deployment has all the necessary
OVN services configured and OVN ML2 mechanism driver loaded.

(Note: Once octavia supports provider driver feature, we can move over there)

Change-Id: Ic179dfb925f52399a5457fd2855304bb3d4226ca
"
openstack%2Frpm-packaging~master~Iebe8310dfe3d75270087dc882b504c37fa3345a2,openstack/rpm-packaging,master,569032,Iebe8310dfe3d75270087dc882b504c37fa3345a2,fix misspelling of 'monasca',MERGED,2018-05-17 06:30:08.000000000,2018-05-24 19:00:41.000000000,2018-05-24 18:48:41.000000000,1,1,0,569032,7800ef845f87afec81c32ee2eabe96652a162405,20,7,2,1,24061,pangliye,pangliye,"fix misspelling of 'monasca'

Depends-On: https://review.openstack.org/#/c/569890/
Change-Id: Iebe8310dfe3d75270087dc882b504c37fa3345a2
"
openstack%2Frpm-packaging~master~Ia2fc31c07e6ec7c35993eab5577f226cf66d55a0,openstack/rpm-packaging,master,fedora,Ia2fc31c07e6ec7c35993eab5577f226cf66d55a0,Remove use of positional in packages,MERGED,2018-05-22 09:06:30.000000000,2018-05-24 18:48:41.000000000,2018-05-24 18:48:41.000000000,1,6,0,569943,69d08f5ce455e20b82cbaf88db052e1e5030fd87,21,7,3,3,13294,Javier Peña,jpena,"Remove use of positional in packages

Positional was removed from the different projects in [1][2][3], so
none of them is required in the spec templates.

[1] - https://github.com/openstack/keystoneauth/commit/335a8cdf030507036a00779db86a2ba06192c1c7
[2] - https://github.com/openstack/keystonemiddleware/commit/6f63f0973545fadb53eec8879c82f727dfdb54f3
[3] - https://github.com/openstack/oslo.context/commit/a144ebd6c33c68d55c99705aad2e635a53340d0d

Change-Id: Ia2fc31c07e6ec7c35993eab5577f226cf66d55a0
"
openstack%2Frpm-packaging~master~Ic802c403f759ab286545b9585037ea40ce84da45,openstack/rpm-packaging,master,update-castellan,Ic802c403f759ab286545b9585037ea40ce84da45,Update castellan to 0.18.0,MERGED,2018-05-15 18:13:10.000000000,2018-05-24 18:48:40.000000000,2018-05-24 18:48:40.000000000,1,1,0,568657,dd0f29b380b49407ce2c15494d58f7a98ceb4854,13,5,2,1,17130,melissaml,malei,"Update castellan to 0.18.0

Depends-on: Ibfbc210db5137e7005d8a1a65802397eec85cd4c
Change-Id: Ic802c403f759ab286545b9585037ea40ce84da45
"
openstack%2Frpm-packaging~master~Ic47b3f2dd2ac928b45c1888b35988802c0096c9b,openstack/rpm-packaging,master,python-mistralclient,Ic47b3f2dd2ac928b45c1888b35988802c0096c9b,Update python-mistralclient to 3.5.0,MERGED,2018-05-15 17:55:08.000000000,2018-05-24 18:48:39.000000000,2018-05-24 18:48:39.000000000,1,1,0,568653,25e4dea64b2c12889ae12de0e7f37a1fb9a2f84a,13,5,2,1,17130,melissaml,malei,"Update python-mistralclient to 3.5.0

Depends-on: I882f923b4cdcd08a0100dab463d792d4ab21b28b
Change-Id: Ic47b3f2dd2ac928b45c1888b35988802c0096c9b
"
openstack%2Foctavia~master~I9101b06414a0106f898fb65da6da1ae6489d85ba,openstack/octavia,master,provider-driver,I9101b06414a0106f898fb65da6da1ae6489d85ba,Implement provider drivers - Members,MERGED,2018-05-08 16:33:41.000000000,2018-05-24 18:40:31.000000000,2018-05-24 18:40:30.000000000,266,151,8,566939,438084c641a316dc7979484ae0bc7b71b3e96744,26,4,9,5,11628,Michael Johnson,johnsom,"Implement provider drivers - Members

This patch adds provider driver support to the Octavia v2
Member API.

This patch also creates a provider driver for Octavia, fully
implementing the member methods.

Story: 1655768
Task: 5165

Depends-On: https://review.openstack.org/566199
Change-Id: I9101b06414a0106f898fb65da6da1ae6489d85ba
"
openstack%2Ftripleo-heat-templates~master~I49492048a211ad511d6f6dc9e174f7a25cda21f2,openstack/tripleo-heat-templates,master,bug/1768142,I49492048a211ad511d6f6dc9e174f7a25cda21f2,Don't run swift on 3node,ABANDONED,2018-05-23 23:07:45.000000000,2018-05-24 18:39:39.000000000,,4,0,0,570275,87c2f24f9fb2c52b66128b6c1f344a4751d15fc1,8,4,2,1,14985,Alex Schultz,mwhahaha,"Don't run swift on 3node

Since we fixed the deployment role issue, the job times out. Let's see
if not deploying swift gets us under the timeout limit.

Change-Id: I49492048a211ad511d6f6dc9e174f7a25cda21f2
Related-Bug: #1768142
"
openstack%2Frpm-packaging~master~Ibe7d4a44321e431c77477a504a77a7dfaeec90c1,openstack/rpm-packaging,master,oslo-rootwrap,Ibe7d4a44321e431c77477a504a77a7dfaeec90c1,Update oslo.rootwrap to 5.14.1,MERGED,2018-05-15 18:09:50.000000000,2018-05-24 18:30:30.000000000,2018-05-24 18:30:30.000000000,1,1,0,568656,17b139d3da53d657d88fce4558f3b84f3c42bf81,13,5,2,1,17130,melissaml,malei,"Update oslo.rootwrap to 5.14.1

Idf3b5ccc771f5d4dd678465880b605d70a3ad306

Change-Id: Ibe7d4a44321e431c77477a504a77a7dfaeec90c1
"
openstack%2Fproject-config~master~I0fd56e71cb025b7ed91e1d594300728bdd7935fb,openstack/project-config,master,project-yaml-normalization,I0fd56e71cb025b7ed91e1d594300728bdd7935fb,Normalize projects.yaml,MERGED,2018-05-24 06:09:09.000000000,2018-05-24 18:10:40.000000000,2018-05-24 18:10:40.000000000,0,1,0,570318,9cb2207c1436ca7f8822d890105554b949cb5411,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Normalize projects.yaml

Change-Id: I0fd56e71cb025b7ed91e1d594300728bdd7935fb
"
openstack%2Fhorizon~master~I8e5e6fc1609c8bc38647e38282d8e7c26546b842,openstack/horizon,master,zanata/translations,I8e5e6fc1609c8bc38647e38282d8e7c26546b842,Imported Translations from Zanata,MERGED,2018-05-18 06:36:32.000000000,2018-05-24 17:32:18.000000000,2018-05-24 17:32:18.000000000,28,38,0,569343,af4811b75f103d067a0d47f0c1e6f54fa167bf55,15,3,5,5,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8e5e6fc1609c8bc38647e38282d8e7c26546b842
"
openstack%2Ftripleo-heat-templates~master~I604428dacd63140f4e89b45c55f7eb859df27fe7,openstack/tripleo-heat-templates,master,bug/1768158,I604428dacd63140f4e89b45c55f7eb859df27fe7,Convert resource_name to number,MERGED,2018-05-01 00:06:49.000000000,2018-05-24 17:22:38.000000000,2018-05-08 04:01:41.000000000,6,1,0,565369,49d072133563dde3c7693e8dacbfdaafac121329,15,7,2,2,7144,James Slagle,slagle,"Convert resource_name to number

When sorting by resource_name, first convert it to a number so that
it's sorted correctly. Otherwise, deployments with > 10 nodes could
configure nodes out of order.

Change-Id: I604428dacd63140f4e89b45c55f7eb859df27fe7
Closes-Bug: #1768158
"
openstack%2Fhorizon~stable%2Fqueens~Ib7325b6d68921ed6ade53055e6e45be87d8add10,openstack/horizon,stable/queens,zanata/translations,Ib7325b6d68921ed6ade53055e6e45be87d8add10,Imported Translations from Zanata,MERGED,2018-05-23 06:29:06.000000000,2018-05-24 17:21:13.000000000,2018-05-24 17:21:13.000000000,7,5,0,570120,1d7742a9e773900a1d46c0df6502ae4ce5d13516,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib7325b6d68921ed6ade53055e6e45be87d8add10
"
openstack%2Fproject-config~master~I39af625885c3cd179555b3d3143a2391e49a7c81,openstack/project-config,master,,I39af625885c3cd179555b3d3143a2391e49a7c81,Update executor labels,MERGED,2018-05-23 23:28:06.000000000,2018-05-24 17:20:44.000000000,2018-05-24 17:20:44.000000000,4,4,0,570279,741c026e4900cc2f69e3b5c4e46672e64428bbf7,7,3,1,1,1,James E. Blair,corvus,"Update executor labels

We're back to using zeXX_openstack_org in the metric names, this
translates them to zeXX in the legend.

Change-Id: I39af625885c3cd179555b3d3143a2391e49a7c81
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ib5be49579545ad0ec7bf95e96fbe1f62ec4d3ac0,openstack/tripleo-heat-templates,stable/queens,,Ib5be49579545ad0ec7bf95e96fbe1f62ec4d3ac0,"FFU Set NetworkDeploymentActions CREATE,UPDATE for ffwd-upgrade prepare",MERGED,2018-05-14 08:56:36.000000000,2018-05-24 17:19:48.000000000,2018-05-24 17:19:48.000000000,2,0,0,568236,dbfaa6e72787720caa51e3d3ee404df06868f0e7,43,7,2,2,8449,Marios Andreou,marios,"FFU Set NetworkDeploymentActions CREATE,UPDATE for ffwd-upgrade prepare

And unset back to CREATE on ffwd-upgrade converge. See [0] for more
discussion. This is to allow operators to update to the new script
based os-net-config network templates during the ffwd-upgrade.

[0] https://bugzilla.redhat.com/show_bug.cgi?id=1568561#c3
(cherry picked from commit d7ce2c8bb71858b42cd903fbad3b28c8f30d8bb5)
Change-Id: Ib5be49579545ad0ec7bf95e96fbe1f62ec4d3ac0
"
openstack%2Frequirements~master~Ie9858ede838705ec3f6050fb3cd68bcad7f376d6,openstack/requirements,master,openstack/requirements/constraints,Ie9858ede838705ec3f6050fb3cd68bcad7f376d6,Updated from generate-constraints,ABANDONED,2018-05-24 06:29:52.000000000,2018-05-24 17:17:11.000000000,,8,8,0,570322,e6b8c6237e01243fe059417bdfdcf7a2679dcdce,3,1,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ie9858ede838705ec3f6050fb3cd68bcad7f376d6
"
openstack%2Fhorizon~master~I4f5eea84fe50ecb495dcd0167e521950387a4810,openstack/horizon,master,storyboard,I4f5eea84fe50ecb495dcd0167e521950387a4810,Heat projects have been migrated to Storyboard,MERGED,2018-05-24 02:58:33.000000000,2018-05-24 17:06:03.000000000,2018-05-24 17:06:03.000000000,1,1,0,570306,b1d575869e87de29dcb5d6f59e2a8d65d1be4569,7,3,1,1,19779,Chason Chan,chenxing,"Heat projects have been migrated to Storyboard

Because Heat projects have been migrated to Storyboard,
the reference should be updated correctly.

Change-Id: I4f5eea84fe50ecb495dcd0167e521950387a4810
"
openstack%2Fmonasca-api~master~Ia02d510fe53ce5ce1c69e0232c5cc2fc0cefc7f2,openstack/monasca-api,master,feature/log-query-api,Ia02d510fe53ce5ce1c69e0232c5cc2fc0cefc7f2,Factor out REST utils from monasca-api,NEW,2018-04-20 13:12:26.000000000,2018-05-24 16:59:45.000000000,,136,544,0,563105,e8918ebe78761148a599bd332887ec15288e311f,13,3,5,15,17669,Doug Szumski,DougSzumski,"Factor out REST utils from monasca-api

The purpose of this change is to make helper methods from the
monasca-api available in the monasca-log-api to facilitate
extending the monasca-log-api to support log queries. Only the low
hanging fruit is addressed in this commit. There are additional
methods which could also be moved, but these would require
more substantial refactoring. These changes can be made in a later
commit, if required.

The alternative is that we copy and paste code from the monasca-api
into the monasca-log-api for actions such as role based authentication
which should be the same across both apis. This does not seem like
a good long term solution.

Depends-On: https://review.openstack.org/563103
Change-Id: Ia02d510fe53ce5ce1c69e0232c5cc2fc0cefc7f2
Story: 2000934
Task: 14369
"
openstack%2Fneutron~master~I9fb962aee9a817c40aad37a37c582cb511d358c0,openstack/neutron,master,bug/1772689,I9fb962aee9a817c40aad37a37c582cb511d358c0,Update docs about openvswitch compilation,MERGED,2018-05-24 13:58:45.000000000,2018-05-24 16:15:53.000000000,2018-05-24 16:15:53.000000000,0,4,0,570394,de6a7a9413f46fa227cf5336c8afef533561d443,7,3,1,1,8655,Jakub Libosvar,jlibosva,"Update docs about openvswitch compilation

We stopped compiling openvswitch for ovs-fw tempest job with
change Idc34776e5b2fad105e246f7718220c23f0a94164. This patch updates
docs to reflect that.

Change-Id: I9fb962aee9a817c40aad37a37c582cb511d358c0
"
openstack%2Fnova~master~I7eb6de435e10793f5445724d847a8f1bf25ec6e3,openstack/nova,master,bp/placement-req-filter,I7eb6de435e10793f5445724d847a8f1bf25ec6e3,Honor availability_zone hint via placement,MERGED,2018-02-20 19:26:13.000000000,2018-05-24 15:55:01.000000000,2018-05-24 06:54:56.000000000,303,28,15,546282,96f10711667603e7fbad57b151c6438cdd9ae270,198,22,25,7,4393,Dan Smith,danms,"Honor availability_zone hint via placement

This adds a request filter that, if enabled, allows us to use placement
to select hosts in the desired availability zone by looking up the uuid
of the associated host aggregate and using that in our query for
allocation candidates. The deployer needs the same sort of mirrored
aggregate setup as the tenant filter, and documentation is added here to
make that clear.

Related to blueprint placement-req-filter

Change-Id: I7eb6de435e10793f5445724d847a8f1bf25ec6e3
"
openstack%2Fopenstack-ansible-pip_install~master~I469116ffbc11160122879b6f60800c63908fec0f,openstack/openstack-ansible-pip_install,master,fix-conditional,I469116ffbc11160122879b6f60800c63908fec0f,tasks: main: Fix conditional for PIP script,MERGED,2018-05-24 07:42:48.000000000,2018-05-24 15:29:16.000000000,2018-05-24 15:29:16.000000000,1,1,0,570327,fe5d99228bb756a28fb433b4a734d1e604eb0482,7,14,1,1,23163,Markos Chandras (hwoarang),mchandras,"tasks: main: Fix conditional for PIP script

The conditional must search the 'stdout' item to find the string we
are looking for.

Change-Id: I469116ffbc11160122879b6f60800c63908fec0f
"
openstack%2Fkolla-ansible~master~I7dbb5a33ef78dc4ecd338ffbd59a29c0fe3be9c5,openstack/kolla-ansible,master,libvirt_free_port,I7dbb5a33ef78dc4ecd338ffbd59a29c0fe3be9c5,nova: make libvirt port configurable and check if the port is free,MERGED,2018-05-18 08:27:04.000000000,2018-05-24 15:11:18.000000000,2018-05-24 15:11:18.000000000,16,0,0,569361,ad9dc7611279b4a8751d69c0187d3fcb764fdad8,11,6,1,3,167,Christian Berendt,berendt,"nova: make libvirt port configurable and check if the port is free

Change-Id: I7dbb5a33ef78dc4ecd338ffbd59a29c0fe3be9c5
"
openstack%2Fpbr~master~I5d912916f4fc96cc1d48ab3f152b06ee23d1ff8f,openstack/pbr,master,bug/1300381,I5d912916f4fc96cc1d48ab3f152b06ee23d1ff8f,Don't overwrite cmd classes spec'd in setup.cfg,ABANDONED,2014-03-31 19:09:40.000000000,2018-05-24 14:42:22.000000000,,50,0,5,84218,f10c561968c90a3b11e7e16c611ae68e31c837b2,16,5,1,1,10646,Samuel Stavinoha,samstav,"Don't overwrite cmd classes spec'd in setup.cfg

This allows a user to subclass a pbr command class,
or to specify their own command class that may not be
a subclass of a pbr command class. In the latter case
some of pbr's functionality would be overridden, so
log a warning if the command class specified by the user
is not a subclass of the corresponding pbr class.

Change-Id: I5d912916f4fc96cc1d48ab3f152b06ee23d1ff8f
Closes-Bug: #1300381
"
openstack%2Ftripleo-heat-templates~master~Iaf91bbed99c8fe6a6ff34374530e761db3b32866,openstack/tripleo-heat-templates,master,libvirt,Iaf91bbed99c8fe6a6ff34374530e761db3b32866,Add bind-mount to /var/run/libvirt,ABANDONED,2018-05-11 07:02:05.000000000,2018-05-24 14:02:05.000000000,,1,0,0,567783,47907d5ac60b945ea5b7939e9fe073080f3c0064,13,6,2,1,4264,Matthias Runge,mrunge,"Add bind-mount to /var/run/libvirt

to enable collectd getting metrics from libvirt.

Change-Id: Iaf91bbed99c8fe6a6ff34374530e761db3b32866
"
openstack%2Ftripleo-quickstart~master~I5f687bee94109414239fab7c0dbbb67c3b7bb9fd,openstack/tripleo-quickstart,master,upgrade/cleanup,I5f687bee94109414239fab7c0dbbb67c3b7bb9fd,fs050: enable upgrade cleanup,MERGED,2018-05-22 00:49:31.000000000,2018-05-24 14:00:51.000000000,2018-05-23 15:11:48.000000000,1,0,0,569899,2d78ccc87a0bf5a92b378e9056c3103506e5c9c8,11,6,1,1,3153,Emilien Macchi,emilienm,"fs050: enable upgrade cleanup

We want to test https://review.openstack.org/#/c/569327 so we want to
enable the undercloud upgrade cleanup in undercloud.conf, and see how it
works when operators want to cleanup the undercloud after its
containerization and upgrade to Rocky.

Depends-On: If3a3a3b2e4a6d1cf6cd57c3b382a7a08fac0e971
Change-Id: I5f687bee94109414239fab7c0dbbb67c3b7bb9fd
"
openstack%2Ftripleo-heat-templates~master~Iddcfd9c63252f16f3972310984c06c539f1c2f0a,openstack/tripleo-heat-templates,master,tripleo-ui/upgrade,Iddcfd9c63252f16f3972310984c06c539f1c2f0a,Fix upgrade_tasks for TripleO UI,MERGED,2018-05-23 17:05:51.000000000,2018-05-24 13:55:58.000000000,2018-05-24 13:55:58.000000000,7,2,0,570237,5dfd932b693b97c3a8c1f9a082a81b60be0db6c3,12,6,3,1,3153,Emilien Macchi,emilienm,"Fix upgrade_tasks for TripleO UI

Fix the ""error while evaluating conditional"" in Ansible in the when
statements.

Change-Id: Iddcfd9c63252f16f3972310984c06c539f1c2f0a
"
openstack%2Frpm-packaging~master~I5ac3d409a286e56462fce292e80e9fa3c17d5858,openstack/rpm-packaging,master,enable-py3,I5ac3d409a286e56462fce292e80e9fa3c17d5858,oslo.db: Move to singlespec,MERGED,2018-05-23 11:40:54.000000000,2018-05-24 13:54:49.000000000,2018-05-24 13:54:49.000000000,34,31,0,570170,2991017e25249614184b84d08f98b19621c8dce6,14,6,2,1,13861,yatin,yatinkarel,"oslo.db: Move to singlespec

Change-Id: I5ac3d409a286e56462fce292e80e9fa3c17d5858
"
openstack%2Ftripleo-common~master~I751670f3788898d78f261000c0f51049948e8544,openstack/tripleo-common,master,bp/container-prepare-workflow,I751670f3788898d78f261000c0f51049948e8544,"Add an ""includes"" prepare filter to match ""excludes""",MERGED,2018-05-21 02:23:25.000000000,2018-05-24 13:48:39.000000000,2018-05-24 13:48:39.000000000,70,5,0,569688,5640ca8cbabc87621956f2792217e8bac4fc920b,14,5,3,3,4571,Steve Baker,steve-stevebaker,"Add an ""includes"" prepare filter to match ""excludes""

As per the docs change[1], support an 'includes' list so that only
images which match at least one entry in the list will be included in
the prepare results. This will be useful in a few situations:

* Separate ContainerImagePrepare entries with include:[ceph] and
  exclude[ceph] when this one non-kolla image needs to be treated
  differently (such as container-check style package updates)
* Invoking the tripleo-modify-image[2] on just one or a few images

[1] https://review.openstack.org/#/c/553104/2
[2] https://github.com/steveb/ansible-role-tripleo-modify-image

Blueprint: container-prepare-workflow
Change-Id: I751670f3788898d78f261000c0f51049948e8544
"
openstack%2Fpython-tripleoclient~master~I6d8bd04d2547a513dfe46d5144283e45366efeb3,openstack/python-tripleoclient,master,bp/all-in-one,I6d8bd04d2547a513dfe46d5144283e45366efeb3,Move undercloud.conf to the undercloud config namespace,MERGED,2018-05-18 17:47:09.000000000,2018-05-24 13:45:52.000000000,2018-05-24 13:45:52.000000000,21,11,0,569477,b22c218ace3256183a8b77b2a7466ac2dec8d254,28,5,6,3,14985,Alex Schultz,mwhahaha,"Move undercloud.conf to the undercloud config namespace

To match the generation for standalone.conf, this change moves the
config generation out to the undercloud config namespace instead of
including it in the undercloud_config namespace from the actions.
Eventually we'll want to handle the configuration parsing elsewhere so
we need to move this logic out so it can be shared and consumed via the
tripleo_deploy action.

Change-Id: I6d8bd04d2547a513dfe46d5144283e45366efeb3
Related-Blueprint: all-in-one
"
openstack%2Fpython-tripleoclient~master~I656f4c1f7094b9a5981c1f15ff1c119693cd17c8,openstack/python-tripleoclient,master,bp/all-in-one,I656f4c1f7094b9a5981c1f15ff1c119693cd17c8,Start standalone.conf,MERGED,2018-05-18 17:21:32.000000000,2018-05-24 13:45:51.000000000,2018-05-24 13:45:51.000000000,17,1,0,569474,c0f566cc2e564d8c1ec58fd992e4280b98d9655c,28,6,6,5,14985,Alex Schultz,mwhahaha,"Start standalone.conf

This is the start of a standalone.conf for use with the all in one
installer.

Change-Id: I656f4c1f7094b9a5981c1f15ff1c119693cd17c8
Related-Blueprint: all-in-one
"
openstack%2Fpython-tripleoclient~master~I4637465d2a65b2b45633eb82f9ef576a450d6265,openstack/python-tripleoclient,master,bp/all-in-one,I4637465d2a65b2b45633eb82f9ef576a450d6265,Make standalone role name configurable,MERGED,2018-05-14 21:07:06.000000000,2018-05-24 13:18:06.000000000,2018-05-24 13:18:06.000000000,37,17,2,568378,74e7ec778339412d568d1b99c183ef4d97ea8a6a,48,7,10,5,14985,Alex Schultz,mwhahaha,"Make standalone role name configurable

Previously the default role name for the standalone deployment was
'Undercloud'. This was not configurable so unless you used a new role
named 'Undercloud' with 'openstack tripleo deploy', it wouldn't deploy.
This change adds a new command line parameter named --standalone-role to
the command.  The undercloud deploy has been updated to continue to pass
'Undercloud' to this parameter so the containerized undercloud remains
the same.

Change-Id: I4637465d2a65b2b45633eb82f9ef576a450d6265
Related-Blueprint: all-in-one
"
openstack%2Fopenstack-ansible-lxc_container_create~master~I05d71964f96a8e025aa0f89f37f8dcb2a705a2e5,openstack/openstack-ansible-lxc_container_create,master,,I05d71964f96a8e025aa0f89f37f8dcb2a705a2e5,Add task to regather facts after run,MERGED,2018-05-15 16:09:37.000000000,2018-05-24 13:17:49.000000000,2018-05-24 13:17:49.000000000,7,0,1,568635,e9726bf2520570cb0009295423f761bc45e4d7ed,9,3,2,1,7353,Kevin Carter,cloudnull,"Add task to regather facts after run

This role will introduce quite a bit of state chagne within the host
it's deployed on. After the run we should force regather facts to ensure
we have the most up-to-date information before running any other
playbooks/roles on the host.

Change-Id: I05d71964f96a8e025aa0f89f37f8dcb2a705a2e5
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fmanila~master~I1500185f2d152178670d4e14c3479ec273b53f6e,openstack/manila,master,update-pypi-url,I1500185f2d152178670d4e14c3479ec273b53f6e,Trivial:Update pypi url to new url,MERGED,2018-05-23 02:43:58.000000000,2018-05-24 13:15:05.000000000,2018-05-24 13:15:05.000000000,3,3,0,570102,98332851f643883c1d8d33db1f2679f4b7937511,19,11,3,1,26151,Wei Zheng,zhengwei6082,"Trivial:Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I1500185f2d152178670d4e14c3479ec273b53f6e
"
openstack%2Fcookbook-openstack-common~master~I9e530b89092e0d4abb14750d4c181a7712c94e8c,openstack/cookbook-openstack-common,master,add_contentdir,I9e530b89092e0d4abb14750d4c181a7712c94e8c,Add contentdir yum variable,MERGED,2018-05-18 05:25:41.000000000,2018-05-24 13:09:20.000000000,2018-05-24 13:09:20.000000000,10,0,0,569329,80706ed6e3505605de41fad308df85c6166b98f8,7,3,1,1,14790,Samuel Cassiba,scassiba,"Add contentdir yum variable

The centos-release-qemu-ev repo package now supports $contentdir but
CentOS base has not fully caught up yet.[0]

[0] https://lists.centos.org/pipermail/centos-devel/2018-March/016542.html

Change-Id: I9e530b89092e0d4abb14750d4c181a7712c94e8c
"
openstack%2Fopenstack-ansible-haproxy_server~master~Icd569e073add994781ab620c724462c38105d8ce,openstack/openstack-ansible-haproxy_server,master,fix-local-rsyslog,Icd569e073add994781ab620c724462c38105d8ce,[DNM] tasks: Disable rsyslog syncing for haproxy log files,ABANDONED,2018-05-23 16:48:37.000000000,2018-05-24 13:03:11.000000000,,2,2,0,570231,e81694affd439786472c49813c5f734c6599621b,3,1,1,1,23163,Markos Chandras (hwoarang),mchandras,"[DNM] tasks: Disable rsyslog syncing for haproxy log files

Change-Id: Icd569e073add994781ab620c724462c38105d8ce
"
openstack%2Ftripleo-docs~master~I8c64eefd09bd81ea3935b4010460ef2aaa4ae723,openstack/tripleo-docs,master,major-upgrade,I8c64eefd09bd81ea3935b4010460ef2aaa4ae723,Adds operator docs for Pike to Queens upgrade,MERGED,2018-01-19 17:13:46.000000000,2018-05-24 12:44:19.000000000,2018-05-22 09:04:49.000000000,485,236,66,535859,fca85c21f36511a4f5769e50b448763b318542ee,100,16,28,1,8449,Marios Andreou,marios,"Adds operator docs for Pike to Queens upgrade

Co-Authored-By: mcornea@redhat.com
Co-Authored-By: matbu@redhat.com
Co-Authored-By: jfrancoa@redhat.com
Co-Authored-By: yprokule@redhat.com
Co-Authored-By: ccamacho@redhat.com
Co-Authored-By: sgolovat@redhat.com
Co-Authored-By: jistr@redhat.com
Change-Id: I8c64eefd09bd81ea3935b4010460ef2aaa4ae723
"
openstack%2Fneutron-lib~master~Ifbb6c7101ceda9d300c4d0eebd9f016309bfe761,openstack/neutron-lib,master,bug/1692490,Ifbb6c7101ceda9d300c4d0eebd9f016309bfe761,Update api-ref to reflect update allowed for subnet segment_id,MERGED,2017-12-12 16:07:12.000000000,2018-05-24 12:40:58.000000000,2018-05-24 12:40:57.000000000,20,0,32,527445,0f625d427872511145374c01316b348b54990d2c,68,10,14,1,24245,Harald Jensås,harald.jensas,"Update api-ref to reflect update allowed for subnet segment_id

Depends-On: I1aee29dfb59e9769ec0f1cb1f5d2933bc5dc0dc5
Change-Id: Ifbb6c7101ceda9d300c4d0eebd9f016309bfe761
Partial-Bug: #1692490
"
openstack%2Fopenstack-ansible~master~Ie74669fa1660e11acb0dec481a3a01fdc066bc27,openstack/openstack-ansible,master,cleanup-octavia,Ie74669fa1660e11acb0dec481a3a01fdc066bc27,Remove non used variables,MERGED,2018-03-02 15:52:48.000000000,2018-05-24 12:28:11.000000000,2018-05-24 12:28:11.000000000,2,7,0,549271,0706b7e15546f5e5a7e16c8412c3d8f501ca8ffe,35,10,3,1,26405,Albert Mikaelyan,Tahvok,"Remove non used variables

Remove the proto, port and url_v2 variables and set only the
needed and used internaluri variable.
This is part of a cleanup that we started at ptg to remove
variables that present only to create other variables.
Such variables are not needed and should be removed to conserve memory.

Depends-On: I6fa28dcdb251da4592e10b288d15a208e83b097d
Depends-On: I891b94a8fb452e9fb5166e7c322d152060efdcce
Change-Id: Ie74669fa1660e11acb0dec481a3a01fdc066bc27
"
openstack%2Ftripleo-heat-templates~master~I46ee2ef837da51be4db30a8c059b82cb1a8c3606,openstack/tripleo-heat-templates,master,public-tls-default,I46ee2ef837da51be4db30a8c059b82cb1a8c3606,Add necessary tags in Controller role for multinode job,MERGED,2018-04-30 05:36:25.000000000,2018-05-24 12:23:15.000000000,2018-05-09 00:48:11.000000000,3,0,3,565151,2d7309716972f54b19b61d1fad22fbf97fab9b62,28,6,3,1,10873,Juan Antonio Osorio Robles,ejuaoso,"Add necessary tags in Controller role for multinode job

It was missing tags which were necessary for the role to get the
appropriate certificate [1]. So, without these tags, the certificate
wasn't persisted in the node, and the job would fail if TLS would be
enabled. This was discovered as part of the ""Public TLS by default""
work.

[1] https://github.com/openstack/tripleo-heat-templates/blob/master/puppet/role.role.j2.yaml#L565

Change-Id: I46ee2ef837da51be4db30a8c059b82cb1a8c3606
"
openstack%2Fkolla-ansible~master~Id22e59ff572a2fef08906bf6cc48578981d2efd6,openstack/kolla-ansible,master,,Id22e59ff572a2fef08906bf6cc48578981d2efd6,Remove keystone_authtoken section for vitrage,MERGED,2018-05-23 07:08:47.000000000,2018-05-24 12:18:13.000000000,2018-05-24 12:18:12.000000000,4,14,1,570125,e180a98094c149bbb74900beeee317aeb1cdb50d,10,4,1,1,21691,weizj,ZhijunWei,"Remove keystone_authtoken section for vitrage

1. Now, the vitrage use [service_credentials] to get credentials[0],
remove the unused [keystone_authtoken]
2. Move memcache stuff into service_credentials section

[0]: https://github.com/openstack/vitrage/blob/5c4bd36e8090ecbfca48980bc47c89e4808230b1/vitrage/opts.py#L56

Change-Id: Id22e59ff572a2fef08906bf6cc48578981d2efd6
"
openstack%2Fironic~master~Ib942f47abf6facaf9967603914326aa3cb79bbd9,openstack/ironic,master,,Ib942f47abf6facaf9967603914326aa3cb79bbd9,Check pep8 without ignoring D000,MERGED,2018-05-24 01:38:25.000000000,2018-05-24 12:13:15.000000000,2018-05-24 12:13:15.000000000,2,1,0,570287,580d4338e2bce8e557a5007fcba85e157f0b8d60,11,7,1,2,18320,Dao Cong Tien,TienDC,"Check pep8 without ignoring D000

Currently, ironic ignores D000 check because of error:
""D000 Cannot analyze code. Pygments package not found.""

Pygments is supported from:
https://review.openstack.org/#/c/568729/

Change-Id: Ib942f47abf6facaf9967603914326aa3cb79bbd9
"
openstack%2Fnetworking-ovn~master~I29f0d729f8e2ad644aa1eead7c0802995ee279a9,openstack/networking-ovn,master,ovn_migration,I29f0d729f8e2ad644aa1eead7c0802995ee279a9,Support migrating from ML2OVS to OVN using ansible.,MERGED,2017-10-09 10:05:12.000000000,2018-05-24 12:10:55.000000000,2018-05-24 12:10:55.000000000,996,0,87,510460,6546cb8ed94e32e72f1d6a1014338d08e1dbb463,92,8,18,31,10237,Numan Siddique,numansiddique,"Support migrating from ML2OVS to OVN using ansible.

This patch adds ansible playbooks and roles to carry out migration of
an existing ML2/OVS tripleo setup to ML2/OVN.

In this patch, all the migration tasks are carried out using ansible.
Below are the migration steps

1. Generates a hosts file with the ip addresses of the controllers
and computes.

2. Creates pre migration resources (including a VM) and validates them

3. Runs the overcloud deploy script with ovn-controller's configured to
use a temporary ovs bridge (OVNIntegrationBridge: ""br-migration"")

4. Carry out the migration tasks
   - Generate the OVN north db by running ovn sync util
   - Configure ovn-controllers to take over br-int
   - Delete all the qrouter/q-dhcp namespaces

5. Validates the pre migration resources again to check if everything is fine
or not.

6. Deletes the pre migration resources and creates and validates post migration
resources.

7. Deletes the post migration resources

8. And finally runs the overcloud deploy script again by setting
""OVNIntegrationBridge: ""br-int""

Co-authored-by: Miguel Angel Ajo <majopela@redhat.com>
Change-Id: I29f0d729f8e2ad644aa1eead7c0802995ee279a9
"
openstack%2Fkolla~master~Ib32de1baff2f2f6fcf1690836cb35633d50ce186,openstack/kolla,master,,Ib32de1baff2f2f6fcf1690836cb35633d50ce186,Update the docker register version to 2.3,ABANDONED,2018-05-11 15:36:22.000000000,2018-05-24 12:00:19.000000000,,1,1,2,567880,23d36f7797b1dfba4067ada234032616b84590f8,9,7,1,1,26285,wu.chunyang,wu.chunyang,"Update the docker register version to 2.3

The Docker registry prior to version 2.3[0]

[0]: https://docs.openstack.org/kolla-ansible/latest/user/multinode.html#deploy-a-registry

Change-Id: Ib32de1baff2f2f6fcf1690836cb35633d50ce186
"
openstack%2Fcinder~master~I86122c220f76e0f36578d11101501d1600039b2e,openstack/cinder,master,test_zm,I86122c220f76e0f36578d11101501d1600039b2e,[DNM] Cisco-CI-Experimental-Branch: test_zm,ABANDONED,2018-05-17 09:37:03.000000000,2018-05-24 11:58:35.000000000,,1,1,0,569074,414a9f6920e5a39a83e57cf22a939f4fc46daf6b,24,10,1,1,28080,Akhil Jayakumar,akjayaku,"[DNM] Cisco-CI-Experimental-Branch: test_zm

Change-Id: I86122c220f76e0f36578d11101501d1600039b2e
"
openstack%2Fmonasca-api~master~I0cc7018f7d5efedb4937922b6daa2fb59b3d645c,openstack/monasca-api,master,py35,I0cc7018f7d5efedb4937922b6daa2fb59b3d645c,Add py3.5 support for alarms endpoint/unit test,MERGED,2018-04-11 08:03:39.000000000,2018-05-24 11:31:31.000000000,2018-05-24 11:31:31.000000000,42,39,1,560302,8efd03aab81f67c725ccc679a86ea8fa5092a285,19,5,4,5,26141,Adrian Czarnecki,czarneckia,"Add py3.5 support for alarms endpoint/unit test

* Python 3 dict.values() returns iterator, must be converted to list
* use `u` prefix for unicode literals
* use builtins.str for handling unicode
* use oslo_serialisation for loading JSON objects

Can be tested with:
  tox -e py35 -- -r monasca_api.tests.test_alarms.*

Story: 2001400
Task: 12580

Change-Id: I0cc7018f7d5efedb4937922b6daa2fb59b3d645c
"
openstack%2Fkolla~master~I9ef972ea5a8e9cf4d1ed43ef27203576d9382822,openstack/kolla,master,keystone-kerberos,I9ef972ea5a8e9cf4d1ed43ef27203576d9382822,Enable packages for kerberos authentication for keystone,MERGED,2018-05-21 12:14:35.000000000,2018-05-24 11:28:09.000000000,2018-05-24 11:28:09.000000000,27,2,8,569785,107ca8ea088354524f71fa36bcd52952510b6feb,32,9,5,1,10873,Juan Antonio Osorio Robles,ejuaoso,"Enable packages for kerberos authentication for keystone

This adds the packages required to do kerberos authentication with
keystone.

Change-Id: I9ef972ea5a8e9cf4d1ed43ef27203576d9382822
"
openstack%2Fkolla-ansible~master~Ifa4c0f33642e355be8849f2298d4a73c5e6c602c,openstack/kolla-ansible,master,fix_blazar_deploy_error,Ifa4c0f33642e355be8849f2298d4a73c5e6c602c,fix blazar error in deployment,MERGED,2018-05-22 14:21:32.000000000,2018-05-24 11:23:11.000000000,2018-05-24 11:23:11.000000000,4,4,0,569988,373416658acbba93f273cbf5bd709f1f6a555792,8,4,1,1,26285,wu.chunyang,wu.chunyang,"fix blazar error in deployment

when deploy this project,it report an error ""
blazar_policy_jsons"" not found, which result in
faild. this ps to fix it

Change-Id: Ifa4c0f33642e355be8849f2298d4a73c5e6c602c
"
openstack%2Fnetworking-l2gw-tempest-plugin~master~I5ef3861b1b9c7d7ef5391a91ccdc31907280fdf6,openstack/networking-l2gw-tempest-plugin,master,,I5ef3861b1b9c7d7ef5391a91ccdc31907280fdf6,Trivial: update url to new url,MERGED,2018-05-13 14:27:01.000000000,2018-05-24 11:00:16.000000000,2018-05-24 11:00:16.000000000,1,1,0,568105,8eb7f20e2d9de9abd37d88fae5f18d375954eed6,6,2,1,1,27336,XiaojueGuan,XiaojueGuan,"Trivial: update url to new url

Change-Id: I5ef3861b1b9c7d7ef5391a91ccdc31907280fdf6
"
openstack%2Fopenstack-ansible-nspawn_container_create~master~I33bb9fb9b7f5ca6181af8ef07a4360abba711bd8,openstack/openstack-ansible-nspawn_container_create,master,trivialfxi,I33bb9fb9b7f5ca6181af8ef07a4360abba711bd8,fix a typo in main.yml,MERGED,2018-05-23 13:13:11.000000000,2018-05-24 10:59:34.000000000,2018-05-24 10:59:34.000000000,1,1,0,570187,5d428d6f7fa294740ae63176863f3f29991abdc1,8,4,1,1,17130,melissaml,malei,"fix a typo in main.yml

Change-Id: I33bb9fb9b7f5ca6181af8ef07a4360abba711bd8
"
openstack%2Finstack-undercloud~master~Ie5831b022d1a7572729e0715cdc07253efbbca17,openstack/instack-undercloud,master,bug/1767962,Ie5831b022d1a7572729e0715cdc07253efbbca17,Fail in undercloud pre_upgrade if overcloud not in *_COMPLETE state,MERGED,2018-05-18 06:48:13.000000000,2018-05-24 10:30:55.000000000,2018-05-24 10:28:15.000000000,17,0,0,569345,04919e7a7c7935973b60350a414018bb3d06da9a,16,6,1,1,8833,Rabi Mishra,rabi,"Fail in undercloud pre_upgrade if overcloud not in *_COMPLETE state

We migrate overcloud stack to convergence in post_config which would
otherwise fail. It makes sense to fail quicker before doing any upgrade.

Change-Id: Ie5831b022d1a7572729e0715cdc07253efbbca17
Related-Bug: #1767962
"
openstack%2Fpython-tripleoclient~master~Ib810dfb943d4d09f60377eae0bac6dd6dd2eaf20,openstack/python-tripleoclient,master,bp/all-in-one,Ib810dfb943d4d09f60377eae0bac6dd6dd2eaf20,Drop default inclusion of undercloud.yaml,MERGED,2018-05-14 21:29:29.000000000,2018-05-24 10:28:15.000000000,2018-05-24 10:28:15.000000000,0,6,0,568386,d18262b41e7377f3d2bd6fa37a9b6e267f728471,13,4,2,2,14985,Alex Schultz,mwhahaha,"Drop default inclusion of undercloud.yaml

Previously we were always included THT/environments/undercloud.yaml for
all invocations of the standalone deployment. We are handling that in
the undercloud_config as part of the undercloud installation so the
standalone deploy should not include it so we can include alternate
deployment environments.

Change-Id: Ib810dfb943d4d09f60377eae0bac6dd6dd2eaf20
Related-Blueprint: all-in-one
"
openstack%2Fironic-python-agent~master~I8546097f5ae23755a5fdb448902007a2d823b7bf,openstack/ironic-python-agent,master,bug/1665025,I8546097f5ae23755a5fdb448902007a2d823b7bf,[LLDP] Skip NICs that say they are ready but are unreadable.,MERGED,2017-02-15 16:43:38.000000000,2018-05-24 10:26:28.000000000,2017-12-05 19:17:31.000000000,63,4,7,434385,b536fbba616d958e58b110c8f86ea569f8834d7c,41,9,4,3,6637,Sam Betts,sambetts,"[LLDP] Skip NICs that say they are ready but are unreadable.

While listening for LLDP packets, if one of the sockets marks itself as
ready to read then our code will try to read data from that socket, but
if something goes wrong while reading that data then it causes IPA to
raise out of the loop skipping any other of the other NICs which might
have worked. This patch adds code to catch and LOG any exception that is
raised while we are trying to read data from one of the sockets so that
we can proceed to process all the NICs.

Change-Id: I8546097f5ae23755a5fdb448902007a2d823b7bf
Closes-Bug: #1665025
"
openstack%2Fkayobe~master~I3e29d33accc947473d0d2c6a01f2c1d5c823a197,openstack/kayobe,master,openstack-kayobe-config,I3e29d33accc947473d0d2c6a01f2c1d5c823a197,Update kayobe-config repo URL to openstack/kayobe-config,MERGED,2018-05-21 08:20:39.000000000,2018-05-24 10:03:43.000000000,2018-05-24 10:03:43.000000000,3,3,0,569742,97905f98b6850b54a305a02aaba5380e90276265,10,4,1,2,14826,Mark Goddard,mgoddard,"Update kayobe-config repo URL to openstack/kayobe-config

The kayobe-config repo is now under the openstack git namespace.

Change-Id: I3e29d33accc947473d0d2c6a01f2c1d5c823a197
Story: 2001637
Task: 19738
"
openstack%2Fheat~master~I71e838bdbff3c40845d2aff4ada8070a39ebe6fa,openstack/heat,master,mox-removal,I71e838bdbff3c40845d2aff4ada8070a39ebe6fa,Remove mox from openstack_v1/test_stacks,MERGED,2018-03-23 20:34:37.000000000,2018-05-24 10:03:27.000000000,2018-05-24 10:03:27.000000000,505,556,0,555929,819ec4a5521adca3cb6379bb50aed6d833264f5f,13,4,3,1,4257,Zane Bitter,zaneb,"Remove mox from openstack_v1/test_stacks

Change-Id: I71e838bdbff3c40845d2aff4ada8070a39ebe6fa
"
openstack%2Fcharm-ceilometer-agent~master~I655ae32059aafbb79bee5408e7412f633a1ed9fd,openstack/charm-ceilometer-agent,master,remove-erroneous-file,I655ae32059aafbb79bee5408e7412f633a1ed9fd,Remove file accidentally added in commit 6577c50,ABANDONED,2018-05-09 21:24:40.000000000,2018-05-24 09:44:38.000000000,,0,66,0,567392,aa3f50d5a96f0023dab0d3001237a192fd7f8d62,8,3,1,1,6737,Edward Hope-Morley,hopem,"Remove file accidentally added in commit 6577c50

Change-Id: I655ae32059aafbb79bee5408e7412f633a1ed9fd
"
openstack%2Fcharm-nova-compute~master~Ic9cd7c39de745919e80e8388602c3287cf39e8bb,openstack/charm-nova-compute,master,bug/1772633,Ic9cd7c39de745919e80e8388602c3287cf39e8bb,Allow nova-compute access to fc_host info,MERGED,2018-05-22 11:12:01.000000000,2018-05-24 09:42:51.000000000,2018-05-24 09:42:51.000000000,1,0,0,569959,7863093f9dacd3f34056d30756547ecb4f69b95f,12,4,1,1,6737,Edward Hope-Morley,hopem,"Allow nova-compute access to fc_host info

Change-Id: Ic9cd7c39de745919e80e8388602c3287cf39e8bb
Closes-Bug: #1772633
"
openstack%2Fopenstack-ansible-os_horizon~stable%2Fqueens~I1c879188037b476b1e515f0fb750cfd0aedca06a,openstack/openstack-ansible-os_horizon,stable/queens,bug/1718187-stable/queens,I1c879188037b476b1e515f0fb750cfd0aedca06a,Download and Install neutron-fwaas-dashboard,ABANDONED,2018-05-23 22:00:49.000000000,2018-05-24 09:29:49.000000000,,7,0,3,570266,74e99037a41518e533a8599420e2b5a315c4eb41,5,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Download and Install neutron-fwaas-dashboard

Download and install the neutron-fwaas-dashboard if being enabled within
the os_horizon role by the horizon_enable_neutron_fwaas var.

Change-Id: I1c879188037b476b1e515f0fb750cfd0aedca06a
Partial-Bug: 1718187
(cherry picked from commit 8a14dee837a85be14c1976e9ef7601eb60d5bcda)
"
openstack%2Fheat-agents~master~Idf6badecbfa72150f3506a485eed9ae2cb5858f7,openstack/heat-agents,master,,Idf6badecbfa72150f3506a485eed9ae2cb5858f7,Expose error when a hook script raises an exception,MERGED,2018-05-22 13:49:28.000000000,2018-05-24 09:07:48.000000000,2018-05-24 09:07:47.000000000,90,17,5,569982,e2f3df268dbcd8fd0b0e7209a237545e6761f681,16,6,3,3,4328,Steven Hardy,shardy,"Expose error when a hook script raises an exception

Currently this can result in errors being ignored so it's not clear
to the user that something failed.

Change-Id: Idf6badecbfa72150f3506a485eed9ae2cb5858f7
Story: 2002084
Task: 19753
"
openstack%2Frpm-packaging~master~Ic8bedd0113b848da71760746c804e6267066cd9d,openstack/rpm-packaging,master,fedora,Ic8bedd0113b848da71760746c804e6267066cd9d,Fix unit test execution in Fedora 28 and later,MERGED,2018-05-22 13:49:32.000000000,2018-05-24 09:02:18.000000000,2018-05-24 09:02:18.000000000,8,0,4,569983,cd1809fc627b0bb91ed2f068a3d5b98ff6cc9e85,19,6,2,2,13294,Javier Peña,jpena,"Fix unit test execution in Fedora 28 and later

Since Fedora 28, some warnings can be displayed when using an
ambiguous /usr/bin/python call to run python2. This causes
oslo.concurrency and oslo.rootwrap tests to fail, due to a warning
being included in stdout. Using [1] as a workaround.

[1] - https://fedoraproject.org/wiki/Changes/Avoid_usr_bin_python_in_RPM_Build#Quick_Opt-Out

Change-Id: Ic8bedd0113b848da71760746c804e6267066cd9d
"
openstack%2Ftraining-labs~stable%2Fqueens~I61a1e08a371b6d484a2aa07d411d9025700aa121,openstack/training-labs,stable/queens,auth_uri-stable/queens,I61a1e08a371b6d484a2aa07d411d9025700aa121,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""",MERGED,2018-05-22 04:12:57.000000000,2018-05-24 08:25:32.000000000,2018-05-24 08:25:32.000000000,1,1,0,569919,4634313d421f0572fbaded3158d18f90cd91419f,7,3,1,1,25903,Vu Cong Tuan,tuanvu,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""

According to [1], ""auth_uri"" has been deprecated.
This patch replace it by using ""www_authenticate_uri"" instead.

[1] https://review.openstack.org/#/c/508522

Change-Id: I61a1e08a371b6d484a2aa07d411d9025700aa121
(cherry picked from commit 5e1fc5b51246548128a83c46b1499b891759c376)
"
openstack%2Fpython-watcherclient~master~I15291efa994daf719342d764f6179ca7699d8b08,openstack/python-watcherclient,master,bug/1756274,I15291efa994daf719342d764f6179ca7699d8b08,Modify Watcher start actionplan command,MERGED,2018-04-10 05:42:45.000000000,2018-05-24 08:08:21.000000000,2018-05-24 08:08:21.000000000,29,4,7,559901,a4c020c19f9098c79d2c0384b7245733ad4bc8a3,33,6,7,3,25695,Deepak Mourya,deepak_mourya,"Modify Watcher start actionplan command

Currently, watcher start actionplan command uses update request
to start the action plan.
PATCH /v1/action_plans

This Patch Set will send the request to new API for action plan start
POST /v1/action_plans/action_plan_uuid/start

Depends-on: I5353e4aa58d1675d8afb94bea35d9b953514129a
Change-Id: I15291efa994daf719342d764f6179ca7699d8b08
Related-Bug: #1756274
"
openstack%2Fdevstack~master~I1015af47be9bd1c6306c9d7a7f797f53b6c1fdc1,openstack/devstack,master,pip,I1015af47be9bd1c6306c9d7a7f797f53b6c1fdc1,Install/upgraded pip only if needed.,ABANDONED,2018-03-22 07:10:46.000000000,2018-05-24 07:44:46.000000000,,4,1,0,555174,f8aa1b7d8d840eaa1c1bd5f5fbc0de80c33c58fd,10,6,2,1,14807,Lenny,lennyb,"Install/upgraded pip only if needed.

Currently we install the latest version of pip even if
PIP_UPGRADE=False. This behaviour prevents us from using
a specific pip version.

Change-Id: I1015af47be9bd1c6306c9d7a7f797f53b6c1fdc1
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I373fef6581dfbfa365479f88d7b967cfbed446e4,openstack/tripleo-heat-templates,stable/pike,containers-default-stable/queens-stable/pike,I373fef6581dfbfa365479f88d7b967cfbed446e4,Enable containers by default,ABANDONED,2018-05-11 12:26:53.000000000,2018-05-24 07:39:40.000000000,,124,52,1,567845,b0dca45f184db2aba43a3c41fa8edcf9326bfa62,17,7,2,3,6926,Bogdan Dobrelya,bogdando,"Enable containers by default

This changes the default resource registry definitions to use the docker
services by default. It also keeps the baremetal installation by adding
a baremetal-services.yaml environment.

Change-Id: I373fef6581dfbfa365479f88d7b967cfbed446e4
(cherry picked from commit b3420f7095f12ec07a73072e881c6ac56d5aec5b)
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~Ia61631e11dbbdbe39199db0afee2006b7e58cda2,openstack/tripleo-heat-templates,stable/pike,containers-default-stable/queens-stable/pike,Ia61631e11dbbdbe39199db0afee2006b7e58cda2,Add environment/services-baremetal/*.,ABANDONED,2018-05-11 09:48:50.000000000,2018-05-24 07:39:36.000000000,,468,0,0,567814,0a095d3c5aff9f985256fe1fd1c50c67584140c1,22,7,3,38,6926,Bogdan Dobrelya,bogdando,"Add environment/services-baremetal/*.

This works alongside of the new environments/baremetal-services.yaml
file in I373fef6581dfbfa365479f88d7b967cfbed446e4 to
enable baremetal services.

Change-Id: Ia61631e11dbbdbe39199db0afee2006b7e58cda2
(cherry picked from commit 882fb2a89697b175d9e6043f1da37ecc3efd92c9)
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I923731f46ea26582160a11d2dfe85792ab74110b,openstack/tripleo-heat-templates,stable/pike,containers-default-stable/queens-stable/pike,I923731f46ea26582160a11d2dfe85792ab74110b,Default environment/services/* to docker,ABANDONED,2018-05-11 11:50:18.000000000,2018-05-24 07:39:31.000000000,,394,17,0,567835,558e793e7dc5a279cfbca315ec5fde27ef53a1ab,11,5,2,32,6926,Bogdan Dobrelya,bogdando,"Default environment/services/* to docker

This updates the relevant environment/services templates so that
they also default to docker. Without this change users of these
services could end up with mismatched (unsupported) deployments.

Additionally, this picks environment/services-docker as the
source of truth when resolving collisions for moving those over
environment/services. So environment/services now contain all of
the containerized services' env files used to be located in
environment/services-docker. The latter will be deleted later to
prevent future desync of contents.

Co-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I923731f46ea26582160a11d2dfe85792ab74110b
(cherry picked from commit e691bbe026455cd64cfbef83db420559cde00bba)
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I0c343e3dd01ad864bad8c7632261c9db4b28b5df,openstack/tripleo-heat-templates,stable/pike,containers-default-stable/queens-stable/pike,I0c343e3dd01ad864bad8c7632261c9db4b28b5df,Delete not-used services-docker files,ABANDONED,2018-05-11 09:53:25.000000000,2018-05-24 07:39:27.000000000,,0,206,0,567815,bc31ac4bf64c152b999e5cce7183ef7f9e75e1f9,13,4,2,22,6926,Bogdan Dobrelya,bogdando,"Delete not-used services-docker files

The services-docker env files now all reside in
services and became defaults. We need to delete those
copies to not allow desync of contents.

Change-Id: I0c343e3dd01ad864bad8c7632261c9db4b28b5df
(cherry picked from commit 6c5f2b8f69d42b2201f29264360ca15a518f376b)
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~If16cf6bdafa8e10480134d356a7d7787f1c0bd72,openstack/tripleo-heat-templates,stable/pike,containers-default-stable/queens-stable/pike,If16cf6bdafa8e10480134d356a7d7787f1c0bd72,Move remnants of environments/services-docker,ABANDONED,2018-05-11 09:59:39.000000000,2018-05-24 07:39:22.000000000,,20,4,0,567818,9192ba3836f163ee42a73979b51ec78ce25ee5ad,17,6,4,4,6926,Bogdan Dobrelya,bogdando,"Move remnants of environments/services-docker

Move new files, which made it into environments/services-docker.
Ensure YAML validate will not pass for environments/services-docker
any more.

Change-Id: If16cf6bdafa8e10480134d356a7d7787f1c0bd72
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 405339986060e4c851d846fdb7d5be05f43fd75e)
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9,openstack/tripleo-heat-templates,stable/pike,containers-default-stable/queens-stable/pike,Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9,Switch remaining env files to containers defaults,ABANDONED,2018-05-11 09:58:57.000000000,2018-05-24 07:39:13.000000000,,64,41,0,567817,13245055a0216aa3247983334bb2e226ea755aca,18,3,5,29,6926,Bogdan Dobrelya,bogdando,"Switch remaining env files to containers defaults

Mark regular non-containerized services with FIXME
to be switched, once it is containerized

Do not mark yet an external/backend/plugin/host-config
related puppet services templates with that FIXME

Mark puppet/services/ceph- related templates as TODO
switch it to containerized ceph-ansible eventually, maybe.

Change-Id: Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 041251d473a55567992adb463174103f9c6200c2)
"
openstack%2Fneutron~master~I1aee29dfb59e9769ec0f1cb1f5d2933bc5dc0dc5,openstack/neutron,master,bug/1692490,I1aee29dfb59e9769ec0f1cb1f5d2933bc5dc0dc5,Allow setting network-segment on subnet update,MERGED,2017-11-29 19:44:18.000000000,2018-05-24 06:47:33.000000000,2018-05-24 06:47:33.000000000,262,9,63,523972,b6d117fcd577f50a431113c4ad13258a7692e822,177,19,27,10,24245,Harald Jensås,harald.jensas,"Allow setting network-segment on subnet update

To enable the possibility to migrate a non-routed network to a
routed network allow updating the segment_id of a subnet.

Only allow the operation if:
 - The network only has one segment
 - The network only has one subnet
 - The current segment_id == None

APIImpact: The segment_id attribute of subnets now allows put operation.
Closes-Bug: #1692490
Depends-On: Iffda823a149a1143f46ee9a05e9640b34bf42c51
Change-Id: I1aee29dfb59e9769ec0f1cb1f5d2933bc5dc0dc5
"
openstack%2Fpuppet-neutron~stable%2Fpike~I1a1bfaa2619edde8a463cd3a6bc6412738d7f596,openstack/puppet-neutron,stable/pike,missing-geneve-stable/pike,I1a1bfaa2619edde8a463cd3a6bc6412738d7f596,Fixes missing 'geneve' network type,MERGED,2018-05-23 07:11:57.000000000,2018-05-24 06:38:43.000000000,2018-05-24 06:38:43.000000000,4,4,0,570129,73635f17cde44bc488aa65efe88a15614065904b,7,3,1,3,9414,zhongshengping,ZhongShengping,"Fixes missing 'geneve' network type

The network type drivers were missing 'geneve', which will allow nodes to
attach nova instances to geneve networks.  This should be allowed by
default[1].

[1]https://github.com/openstack/puppet-neutron/blob/master/manifests/plugins/ml2/type_driver.pp#L121

Change-Id: I1a1bfaa2619edde8a463cd3a6bc6412738d7f596
Closes-Bug: #1762667
(cherry picked from commit dd7fd5586c41a8a873ba18426e277b7f36551e9b)
"
openstack%2Fopenstack-helm~master~I140bf2db353cb31e54dacd6958b2bd89df6365a6,openstack/openstack-helm,master,,I140bf2db353cb31e54dacd6958b2bd89df6365a6,Add project mascots as charts icons for gnocchi,MERGED,2018-05-22 02:25:06.000000000,2018-05-24 06:29:36.000000000,2018-05-24 06:29:36.000000000,1,0,0,569901,e4dc7b482e9f51782c5c29c777555f723857c439,9,9,1,1,26355,yuqian,yuqian,"Add project mascots as charts icons for gnocchi

Gnocchi's mascots files is not in openstack.org, so
add the URL from gnocchi.xyz to the file as icons for
gnocchi project.

Change-Id: I140bf2db353cb31e54dacd6958b2bd89df6365a6
"
openstack%2Fopenstack-helm~master~I36ebda87e1591778070646cc5230f1cca2c615cd,openstack/openstack-helm,master,bug/1772347,I36ebda87e1591778070646cc5230f1cca2c615cd,Fix the gnocchi repository souce,MERGED,2018-05-21 02:25:25.000000000,2018-05-24 06:26:51.000000000,2018-05-24 06:26:50.000000000,1,1,0,569689,e36256a0c4885c21423201e8d160f641444b9940,15,8,2,1,21691,weizj,ZhijunWei,"Fix the gnocchi repository souce

Change-Id: I36ebda87e1591778070646cc5230f1cca2c615cd
Closes-Bug: #1772347
"
openstack%2Fopenstack-helm~master~Ie23073a04dc4c55291c0314beb0d8d215005d353,openstack/openstack-helm,master,feature/armada-updates,Ie23073a04dc4c55291c0314beb0d8d215005d353,Armada manifest updates for OSH,MERGED,2018-05-14 21:25:47.000000000,2018-05-24 06:11:49.000000000,2018-05-24 06:11:49.000000000,315,181,2,568385,899384b805dc214b2b146eea3e224560b734d005,39,6,16,4,18180,Marshall Margenau,mm8789,"Armada manifest updates for OSH

This updates the armada multinode manifest to include the new
format for waiting on releases to complete. This is now configured
to wait for a release to complete by checking resources with the
release_group label for a given chart.

This also adds the LDAP chart, which is required for the LMA
services

Change-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353
"
openstack%2Fopenstack-helm~master~I961924b240b35da4b4a997bdacd189ad870a05b4,openstack/openstack-helm,master,fix_mysql_exporter_deps,I961924b240b35da4b4a997bdacd189ad870a05b4,Mariadb: Update mysql exporter job user dependencies,MERGED,2018-05-22 20:14:24.000000000,2018-05-24 06:11:48.000000000,2018-05-24 06:11:48.000000000,2,2,0,570037,4cac07d78854e6d1144e53b1e0f6248b9c42a6b7,8,3,2,1,17591,Steve Wilkerson,srwilkers,"Mariadb: Update mysql exporter job user dependencies

This updates the prometheus mysql exporter mysql user job
dependencies to the correct key. It was set incorrectly, resulting
in a circular dependency upon itself

Change-Id: I961924b240b35da4b4a997bdacd189ad870a05b4
"
openstack%2Fmasakari~master~I262c3b75f98e3ae85b913a5086c3c5ff5edba8f9,openstack/masakari,master,auth_uri,I262c3b75f98e3ae85b913a5086c3c5ff5edba8f9,"Update ""auth_url""",MERGED,2018-05-11 03:28:30.000000000,2018-05-24 05:59:08.000000000,2018-05-24 05:59:08.000000000,3,3,0,567734,1c0b3d0ce79777bc182579f4cc552a28da1aab5e,19,9,1,2,25903,Vu Cong Tuan,tuanvu,"Update ""auth_url""

Following the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

In addition, update deprecated ""auth_uri"" to ""www_authenticate_uri"",
according to [6].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932
[6] https://review.openstack.org/#/c/508522

Change-Id: I262c3b75f98e3ae85b913a5086c3c5ff5edba8f9
"
openstack%2Frpm-packaging~master~Ie196dde4292f89720df72478b96d3ffeba10a71b,openstack/rpm-packaging,master,fedora,Ie196dde4292f89720df72478b96d3ffeba10a71b,Update openstack-doc-tools to 1.8.0,MERGED,2018-01-18 12:44:20.000000000,2018-05-24 05:55:12.000000000,2018-05-24 05:55:12.000000000,7,7,1,535320,3e603cf9e3d1aa6d0fc6f4035f6adee7c32a6100,38,10,7,1,17130,melissaml,malei,"Update openstack-doc-tools to 1.8.0

Depends-on: I065006dbda8311c53d60ed8f062ac28c761b2fc8
Change-Id: Ie196dde4292f89720df72478b96d3ffeba10a71b
"
openstack%2Frpm-packaging~master~I7f164f1c14ae849956421a08fa0d7faa70d52412,openstack/rpm-packaging,master,enable-py3,I7f164f1c14ae849956421a08fa0d7faa70d52412,oslo.cache: Move to singlespec,MERGED,2018-05-23 11:27:58.000000000,2018-05-24 05:55:09.000000000,2018-05-24 05:55:09.000000000,25,22,0,570169,1debe0af7b01b6c7bd6ac767a312023106a011ac,12,6,1,1,13861,yatin,yatinkarel,"oslo.cache: Move to singlespec

- Also switch to sphinx-build for doc genaration

Change-Id: I7f164f1c14ae849956421a08fa0d7faa70d52412
"
openstack%2Frpm-packaging~master~I69e5cafa9cbefbf51fda7412c5f495651e8bfad3,openstack/rpm-packaging,master,,I69e5cafa9cbefbf51fda7412c5f495651e8bfad3,Blacklist spec-cleaner 1.0.8 due to libexecdir regression,MERGED,2018-05-22 00:24:20.000000000,2018-05-24 05:55:08.000000000,2018-05-24 05:55:08.000000000,1,1,0,569890,8cf69f89b08b4fa055b2aa9af4b977c431f65489,21,10,1,1,6593,Dirk Mueller,dmllr,"Blacklist spec-cleaner 1.0.8 due to libexecdir regression

https://github.com/openSUSE/spec-cleaner/issues/232 points out
that 1.0.8 is bad, we need to skip it for now until the problem
is solved.

Depends-On: https://review.openstack.org/#/c/569888/
Change-Id: I69e5cafa9cbefbf51fda7412c5f495651e8bfad3
"
openstack%2Fneutron~master~I883361346c78065a53701d6eb4927f8b7a87630f,openstack/neutron,master,,I883361346c78065a53701d6eb4927f8b7a87630f,Replace os.makedirs to avoid process race,ABANDONED,2018-05-24 02:03:20.000000000,2018-05-24 05:31:37.000000000,,8,9,0,570292,a96a265ab7616a57862c980d893963d815fe7414,5,3,1,6,21486,wangqi,wangqi,"Replace os.makedirs to avoid process race

Use oslo_utils.fileutils.ensure_tree(path, mode=_DEFAULT_MODE)
to replace os.makedir.

Change-Id: I883361346c78065a53701d6eb4927f8b7a87630f
"
openstack%2Fpuppet-swift~stable%2Fqueens~I63f8a4287235c4659807530851c917a6386b4dd8,openstack/puppet-swift,stable/queens,www_authenticate_uri-stable/queens,I63f8a4287235c4659807530851c917a6386b4dd8,Configure www_authenticate_uri instead of auth_uri in authtoken,MERGED,2018-05-22 06:00:52.000000000,2018-05-24 05:29:16.000000000,2018-05-24 05:29:16.000000000,5,5,0,569925,228b2f6c244b4db3127c3224f43a72a539bc2942,7,4,1,2,25903,Vu Cong Tuan,tuanvu,"Configure www_authenticate_uri instead of auth_uri in authtoken

We're configuring a piece of keystonemiddleware, which saw this
change:
   https://review.openstack.org/508522

This minimal fix retains auth_uri wherever we were using it in
Puppet, because who cares? It's just a name of a class field.
But when we write it out, change it to the new name in the
configuration file, so these modules continue to work in the
future.

Depends-On: I7be3f7748a2857618dc4de38e09c7cccca6d2721
Change-Id: I63f8a4287235c4659807530851c917a6386b4dd8
(cherry picked from commit ca7070a567c4ec3f656fb9e653b5b53dbeb3a510)
"
openstack%2Ffreezer~master~Iac2681eac9afd33db64d4d214543f2a7945f3216,openstack/freezer,master,,Iac2681eac9afd33db64d4d214543f2a7945f3216,Replace os.makedirs to avoid process race,ABANDONED,2018-05-24 02:29:41.000000000,2018-05-24 05:25:13.000000000,,9,5,0,570299,828bfa2521de20aa69c49cd7d0040fddd50c0114,3,1,1,4,21486,wangqi,wangqi,"Replace os.makedirs to avoid process race

Use oslo_utils.fileutils.ensure_tree(path, mode=_DEFAULT_MODE)
to replace os.makedir.

Change-Id: Iac2681eac9afd33db64d4d214543f2a7945f3216
"
openstack%2Fpuppet-ironic~master~I91ee4d1fe255f0225b499ecf565bd91b89fc47bf,openstack/puppet-ironic,master,bug/1579718,I91ee4d1fe255f0225b499ecf565bd91b89fc47bf,Add support for db_max_retries param,MERGED,2018-05-23 07:46:17.000000000,2018-05-24 05:25:05.000000000,2018-05-24 05:25:05.000000000,16,0,0,570138,39c790de6da67beda8884a3392ee5f44eed1fcca,7,3,1,3,9414,zhongshengping,ZhongShengping,"Add support for db_max_retries param

The db_max_retries parameter regulates the number of reconnection
attempts performed after an error raised rather than at startup.

Change-Id: I91ee4d1fe255f0225b499ecf565bd91b89fc47bf
Releated-Bug: #1579718
"
openstack%2Fpuppet-ironic~master~Ia7b26a2243f06ff6d20fb10b32b355cfb8d41a41,openstack/puppet-ironic,master,bug/1757581,Ia7b26a2243f06ff6d20fb10b32b355cfb8d41a41,Add pool_timeout option,MERGED,2018-05-23 07:33:46.000000000,2018-05-24 05:25:05.000000000,2018-05-24 05:25:05.000000000,23,0,0,570135,aca09199979cae3fdf1ec921b6dca4d0e5156c07,7,3,1,5,9414,zhongshengping,ZhongShengping,"Add pool_timeout option

Add pool_timeout option to configure this value for pool_timeout with
SQLAlchemy.

Closes-Bug: #1757581

Change-Id: Ia7b26a2243f06ff6d20fb10b32b355cfb8d41a41
"
openstack%2Fpuppet-ec2api~stable%2Fpike~I5214b3859e74c60cbc82571125ce38718f589545,openstack/puppet-ec2api,stable/pike,bug/1761060-stable/pike,I5214b3859e74c60cbc82571125ce38718f589545,Configure metadata_proxy_shared_secret as secret,MERGED,2018-05-23 07:09:04.000000000,2018-05-24 05:20:02.000000000,2018-05-24 05:20:02.000000000,5,2,0,570127,89d721612be1d380d453cdbf4118623281de3cdc,8,3,2,2,9414,zhongshengping,ZhongShengping,"Configure metadata_proxy_shared_secret as secret

Parameter metadata/metadata_proxy_shared_secret should be
configured as a secret.

Change-Id: I5214b3859e74c60cbc82571125ce38718f589545
Closes-Bug: #1761060
(cherry picked from commit 814ae8df60ee842a126c2ecced47c42b0528ad4d)
"
openstack%2Fpuppet-ec2api~stable%2Fqueens~I5214b3859e74c60cbc82571125ce38718f589545,openstack/puppet-ec2api,stable/queens,bug/1761060-stable/queens,I5214b3859e74c60cbc82571125ce38718f589545,Configure metadata_proxy_shared_secret as secret,MERGED,2018-05-23 07:08:55.000000000,2018-05-24 05:20:02.000000000,2018-05-24 05:20:02.000000000,5,2,0,570126,8efff78512acbdf878b070d46453d29404744814,7,3,1,2,9414,zhongshengping,ZhongShengping,"Configure metadata_proxy_shared_secret as secret

Parameter metadata/metadata_proxy_shared_secret should be
configured as a secret.

Change-Id: I5214b3859e74c60cbc82571125ce38718f589545
Closes-Bug: #1761060
(cherry picked from commit 814ae8df60ee842a126c2ecced47c42b0528ad4d)
"
openstack%2Fpuppet-openstack-integration~master~I577ac720ef6f9a5487cfbc9f6376f2535d918520,openstack/puppet-openstack-integration,master,debian-cinder-on-apache,I577ac720ef6f9a5487cfbc9f6376f2535d918520,"Revert ""Debian: Setup Cinder using cinder-api uwsgi""",MERGED,2018-05-18 14:13:52.000000000,2018-05-24 05:19:45.000000000,2018-05-24 05:19:45.000000000,8,15,0,569420,c10f0115206b21371dee36cb0a8bb218b3f2cf92,7,3,1,1,6476,Thomas Goirand,thomas-goirand,"Revert ""Debian: Setup Cinder using cinder-api uwsgi""

This reverts commit 1d884ac12d340c94c58aad004ca0cf76219df97f.
Indeed, using uwsgi doesn't work over SSL. After trying locally on
my machine, switching back to mod-wsgi-py3 fixes the problem.

Change-Id: I577ac720ef6f9a5487cfbc9f6376f2535d918520
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ic8388631ae05c4ff0ed03676734f1376e0e0143f,openstack/tripleo-upgrade,stable/queens,ssl-validation,Ic8388631ae05c4ff0ed03676734f1376e0e0143f,Move SSL undercloud validation out of UC script create tasks.,MERGED,2018-05-23 07:20:51.000000000,2018-05-24 05:07:28.000000000,2018-05-24 05:07:28.000000000,8,7,0,570130,18abf67641d9d1eba6dcdac042329ce775306e82,11,6,2,2,21537,Yurii Prokulevych,yprokule,"Move SSL undercloud validation out of UC script create tasks.

The set of tasks included in the undercloud_ssl_camap.yml
playbook are needed for the overcloud to be able
to access the undercloud API.
This patch moves the task out of the undercloud create
script tasks to run them in the overcloud create tasks.

Change-Id: Ic8388631ae05c4ff0ed03676734f1376e0e0143f
(cherry picked from commit 9a68678e1c52c85bad0dd80fcd46b4e4c8b432ff)
"
openstack%2Fmasakari~master~Ic5234735267530f3b347126e1f0afa3e25f9e1fe,openstack/masakari,master,webob_fix,Ic5234735267530f3b347126e1f0afa3e25f9e1fe,Make accept-language tests work with webob 1.8.x,MERGED,2018-05-18 04:28:06.000000000,2018-05-24 05:04:09.000000000,2018-05-24 05:04:09.000000000,5,4,0,569321,b81b16c189e8434a9d30e14f67d399ee53ffadec,18,5,4,3,20191,Dinesh Bhor,dineshbhor,"Make accept-language tests work with webob 1.8.x

Masakari below test cases are failing due to webob 1.8.x:
..unit.api.openstack.test_wsgi.RequestTest.test_secondary
..unit.api.openstack.test_wsgi.RequestTest.test_asterisk
..unit.api.openstack.test_wsgi.RequestTest.test_from_request

Please see the logs:
http://logs.openstack.org/53/518653/1/check/openstack-tox-py27/76866e9/testr_results.html.gz

This patch is a copy of change:
I2034d30cc8d9354be80d39e05b8488cb99c32ecf which fixes similar
test cases in nova.

This patch also changes the `lower-constraints.txt` to make
the WebOb version same as other services.

Change-Id: Ic5234735267530f3b347126e1f0afa3e25f9e1fe
"
openstack%2Fsenlin~master~Ia95c820b176e97865a9245068945f7ec51bdc48a,openstack/senlin,master,fix_docker_reboot,Ia95c820b176e97865a9245068945f7ec51bdc48a,Fix container handle reboot driver call error,MERGED,2018-05-23 03:34:22.000000000,2018-05-24 05:00:42.000000000,2018-05-24 05:00:42.000000000,4,4,0,570108,913e21bc8d9c1cc987abe6787bf1068b9073c29d,9,5,1,2,23517,chenyb4,Yuanbin.Chen,"Fix container handle reboot driver call error

This patch change handle reboot call, the reboot not
exist in docker driver, handle reboot use docker dirver
restart.

Change-Id: Ia95c820b176e97865a9245068945f7ec51bdc48a
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
"
openstack%2Fneutron-fwaas~master~Icbd0db1be8e78dbd0c7f0a55ae9467b5fab3fa4f,openstack/neutron-fwaas,master,,Icbd0db1be8e78dbd0c7f0a55ae9467b5fab3fa4f,Add fullstack testing for neutron-fwaas,ABANDONED,2017-12-13 08:16:00.000000000,2018-05-24 04:58:11.000000000,,1946,26,0,527627,8796d62430f088c211254b4169f5274b45764949,17,4,2,16,17776,Reedip,Reedip,"Add fullstack testing for neutron-fwaas

Add a fullstack testing framework for neutron-fwaas.  This is a basic
first pass just to get the framework deployed; detailed non-plagiaristic
tests will be added after.  For more information on what fullstack
testing is, see:

http://git.openstack.org/cgit/openstack/neutron/tree/TESTING.rst#n213
Co-Authored-By: Nate Johnson<openstacknate@gmail.com>

Change-Id: Icbd0db1be8e78dbd0c7f0a55ae9467b5fab3fa4f
"
openstack%2Fproject-config~master~Ia4eb7a47313856fe3ef7c7691f9ecf20b1ba81c4,openstack/project-config,master,mkdir-gentoo-rclocal,Ia4eb7a47313856fe3ef7c7691f9ecf20b1ba81c4,Add missing directory for gentoo rclocal,MERGED,2018-05-16 20:33:20.000000000,2018-05-24 04:58:04.000000000,2018-05-24 04:58:04.000000000,1,0,0,568957,228ddbf8087bbd82dec0f3777cdfbf0b329c57a0,7,3,1,1,14288,Matthew Thode,prometheanfire,"Add missing directory for gentoo rclocal

Change-Id: Ia4eb7a47313856fe3ef7c7691f9ecf20b1ba81c4
"
openstack%2Fproject-config~master~I18e91b775684c357b2b695b31cae6151df6dcf07,openstack/project-config,master,slogging-acl-config,I18e91b775684c357b2b695b31cae6151df6dcf07,Add permission for adding tags for slogging,MERGED,2018-05-07 23:48:21.000000000,2018-05-24 04:58:02.000000000,2018-05-24 04:58:02.000000000,3,0,0,566760,ccc78b68fc38338148da0d41be08df4b54e3b8e8,10,6,1,1,25936,Keiichi Hikita,keiichi,"Add permission for adding tags for slogging

This review request for folowings

- Add permissions for tagging
- Add team for slogging release

Change-Id: I18e91b775684c357b2b695b31cae6151df6dcf07
"
openstack%2Ftripleo-ci~master~I658f09b531e9659c192eeede6cdebf392c4d8281,openstack/tripleo-ci,master,sprint13,I658f09b531e9659c192eeede6cdebf392c4d8281,Pass dlrn_hash from the releases file,MERGED,2018-05-22 11:09:37.000000000,2018-05-24 04:58:00.000000000,2018-05-24 04:58:00.000000000,22,16,2,569958,b30a1195fc571111d227212f562c2c83424d9f85,26,9,6,1,27898,Quique Llorente,quiquell,"Pass dlrn_hash from the releases file

Now that the dlrn hash is differenciate per upgrade step, we can
pass it directly to the playbook.

Apart from dlrn_hash we need to pash get_build_command to ensure that
the hash traverse all the logic [1]
[1] https://github.com/openstack/tripleo-quickstart-extras/blob/master/roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2#L30-L45

Change-Id: I658f09b531e9659c192eeede6cdebf392c4d8281
"
openstack%2Fsenlin~master~Id2a9ca793be3d158c99d7eb3d2760d92e642d8be,openstack/senlin,master,profile_rescure,Id2a9ca793be3d158c99d7eb3d2760d92e642d8be,Add nova profile support for vm rescue and unrescue operation,MERGED,2018-05-22 03:02:18.000000000,2018-05-24 04:53:59.000000000,2018-05-24 04:53:59.000000000,106,2,3,569908,9606ff9a16f23e9f5e18c77f975c566de2e46315,14,5,3,3,23517,chenyb4,Yuanbin.Chen,"Add nova profile support for vm rescue and unrescue operation

Change-Id: Id2a9ca793be3d158c99d7eb3d2760d92e642d8be
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
"
openstack%2Fproject-config~master~I82c76f468f0b2b16ee8bc276291c14fc76149021,openstack/project-config,master,bug/1705047,I82c76f468f0b2b16ee8bc276291c14fc76149021,Make oslo.service py35 job voting,MERGED,2018-05-09 00:17:57.000000000,2018-05-24 04:50:06.000000000,2018-05-24 04:50:06.000000000,1,1,0,567078,a652b84102b5dd34701f78791ecb67388be82b85,8,4,1,1,4257,Zane Bitter,zaneb,"Make oslo.service py35 job voting

Now that bug 1705047 is fixed, there is no obstacle to the py35 gate
voting.

Change-Id: I82c76f468f0b2b16ee8bc276291c14fc76149021
"
openstack%2Fopenstack-zuul-jobs~master~I31e965c938fa4c6129aa7a868865281c3d945046,openstack/openstack-zuul-jobs,master,,I31e965c938fa4c6129aa7a868865281c3d945046,Remove legacy-ubuntu-xenial-3-node,MERGED,2018-05-03 00:18:32.000000000,2018-05-24 04:41:12.000000000,2018-05-24 04:41:11.000000000,0,15,0,565918,e8001850d57d3d096e6c067de28b333fd03202b7,9,3,2,1,4162,Paul Belanger,pabelanger,"Remove legacy-ubuntu-xenial-3-node

We no longer need this nodeset, lets remove it.

Change-Id: I31e965c938fa4c6129aa7a868865281c3d945046
Depends-On: https://review.openstack.org/565916
Depends-On: https://review.openstack.org/566107
Depends-On: https://review.openstack.org/566108
Depends-On: https://review.openstack.org/566111
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Fopenstack-zuul-jobs~master~I53a528a7f0ec71cbfc3a7698d82fa6f933f85400,openstack/openstack-zuul-jobs,master,nova-hacking,I53a528a7f0ec71cbfc3a7698d82fa6f933f85400,Remove legacy-hacking-integration-nova,MERGED,2018-04-27 14:29:07.000000000,2018-05-24 04:41:11.000000000,2018-05-24 04:41:11.000000000,0,45,0,564787,149bdab3da69f4b7357a37b20964a29614941bab,9,3,2,2,6547,Andreas Jaeger,jaegerandi,"Remove legacy-hacking-integration-nova

The job is in-tree now, remove it.

Change-Id: I53a528a7f0ec71cbfc3a7698d82fa6f933f85400
Depends-On: https://review.openstack.org/564786
"
openstack%2Fopenstack-zuul-jobs~master~I6cce840a8644f41221490ad065d9d85d3e1d5fdb,openstack/openstack-zuul-jobs,master,live-migration-in-tree,I6cce840a8644f41221490ad065d9d85d3e1d5fdb,Remove legacy-tempest-dsvm-multinode-live-migration job definition,MERGED,2018-05-01 23:15:17.000000000,2018-05-24 04:32:31.000000000,2018-05-24 04:32:30.000000000,0,74,0,565613,9a0338909d258da3d93f50a93c17f5c949b221c4,11,5,1,3,4690,melanie witt,melwitt,"Remove legacy-tempest-dsvm-multinode-live-migration job definition

The job is now defined in the nova repo as nova-live-migration. This
change depends on the tip of the series of changes so the new job name
is used in nova and tempest and the legacy job name is removed from
project-config.

Depends-On: https://review.openstack.org/565611

Change-Id: I6cce840a8644f41221490ad065d9d85d3e1d5fdb
"
openstack%2Fopenstack-zuul-jobs~master~I7145855903c96e7fca17d693abf0d97b2857fc2f,openstack/openstack-zuul-jobs,master,,I7145855903c96e7fca17d693abf0d97b2857fc2f,Add ubuntu-bionic-arm64 nodeset,MERGED,2018-05-12 01:46:13.000000000,2018-05-24 04:32:30.000000000,2018-05-24 04:32:30.000000000,6,0,0,567965,9f0e1ad22b701348e49e078630a31e9947601740,7,3,1,1,4162,Paul Belanger,pabelanger,"Add ubuntu-bionic-arm64 nodeset

We now have bionic images in linaro.

Change-Id: I7145855903c96e7fca17d693abf0d97b2857fc2f
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Fopenstack-zuul-jobs~master~If5d17fe2b1965ceed578fe20168d011c4f087242,openstack/openstack-zuul-jobs,master,cinder,If5d17fe2b1965ceed578fe20168d011c4f087242,[rally] Remove old rally-cinder jobs,MERGED,2018-04-19 12:39:17.000000000,2018-05-24 04:28:07.000000000,2018-05-24 04:28:07.000000000,0,494,0,562569,600d5557e13d18fc7602e1b56780595d2c3a8cac,10,6,1,5,9545,Andrey Kurilin,akurilin,"[rally] Remove old rally-cinder jobs

Depends-On: I5cc99b67495e2e10264f1cb89b25b37f5f7af66b
Change-Id: If5d17fe2b1965ceed578fe20168d011c4f087242
"
openstack%2Fproject-config~master~I01dfa1f939181f63e82f8001008c5c9fb89ab866,openstack/project-config,master,new-project,I01dfa1f939181f63e82f8001008c5c9fb89ab866,Import ansible-role-tripleo-modify-image,MERGED,2018-05-16 02:35:02.000000000,2018-05-24 04:27:40.000000000,2018-05-24 04:27:40.000000000,18,0,0,568726,f0d63b82f8c9ff62ca93b16aab636036168506db,17,9,4,4,4571,Steve Baker,steve-stevebaker,"Import ansible-role-tripleo-modify-image

This role provides a general mechanism to modify existing container
images before or during a TripleO deployment. The main target use
cases are:
- during CI to refresh image packages to test changes
- developer workflows to include code being developed
- third party plugin inclusion to existing images

Change-Id: I01dfa1f939181f63e82f8001008c5c9fb89ab866
Needed-By: I13c24af42b765b3dd91abe470d7e23a34540b340
"
openstack%2Fproject-config~master~I34287ba0586e78cf381c67c006be007473fd2201,openstack/project-config,master,new-project,I34287ba0586e78cf381c67c006be007473fd2201,Add system-required template for ansible-role-tripleo-keystone,MERGED,2018-04-27 16:10:40.000000000,2018-05-24 04:20:35.000000000,2018-05-24 04:20:35.000000000,6,0,1,564823,f241ab0a39c0658b9f9838b33c40f56aa59daae0,14,4,3,1,27427,David Peacock,davidjpeacock,"Add system-required template for ansible-role-tripleo-keystone

Add system-required tempalte for new repo -
ansible-role-tripleo-keystone

Change-Id: I34287ba0586e78cf381c67c006be007473fd2201
Needed-By: Iae44a6c87f92b21b9385773f75c8d9cbb6699f83
"
openstack%2Fneutron-fwaas~master~Ic81a48aa784684a7486ecfb2a7aa9757be2bd55f,openstack/neutron-fwaas,master,,Ic81a48aa784684a7486ecfb2a7aa9757be2bd55f,add missing __init__.py file for alembic,MERGED,2017-10-30 14:22:34.000000000,2018-05-24 03:36:28.000000000,2018-05-24 03:36:28.000000000,0,0,0,516330,636d90903cef3dcc69b95265f131b844bec9c1d6,17,4,4,1,7888,Benedikt Trefzer,trefzer,"add missing __init__.py file for alembic

Change-Id: Ic81a48aa784684a7486ecfb2a7aa9757be2bd55f
"
openstack%2Fpython-manilaclient~master~I926defd6c5d3b8d87b038e2c63db694b40a88359,openstack/python-manilaclient,master,bug/1771097,I926defd6c5d3b8d87b038e2c63db694b40a88359,allow '--help' to print subcomands info,MERGED,2018-05-14 10:57:14.000000000,2018-05-24 03:27:05.000000000,2018-05-24 03:27:05.000000000,13,2,2,568261,b0b08cc65007180a750fe1bc38e1bc26d4e899f9,19,7,5,3,25456,junboli,junboli,"allow '--help' to print subcomands info

Currently, we only allow $manila help subcomand to print
subcomands info, if we are using $manila subcomand --help,
it will print all the subcomands info, that is not what we
want, this change is to allow '--help' to print subcomands
info. finally we can see the following comands are equals:

$ manila --help list
$ manila list --help
$ manila help list

Change-Id: I926defd6c5d3b8d87b038e2c63db694b40a88359
Close-bug: #1771097
"
openstack%2Fneutron-fwaas~master~I18c4a12388639d222557d07f8095c3555c29eaa3,openstack/neutron-fwaas,master,,I18c4a12388639d222557d07f8095c3555c29eaa3,Fix python3 dict values breakage,MERGED,2018-04-10 07:44:47.000000000,2018-05-24 03:12:47.000000000,2018-05-24 03:12:47.000000000,2,2,0,559941,87442ec2d047b6db0132e681ded1ed469f0eadfd,17,9,2,2,26721,Rocky,Rocky,"Fix python3 dict values breakage

Change-Id: I18c4a12388639d222557d07f8095c3555c29eaa3
"
openstack%2Fneutron~stable%2Fqueens~I942e1a5072ce111beb94ffd6298bb3e23e2bb343,openstack/neutron,stable/queens,bug/1743284-stable/queens,I942e1a5072ce111beb94ffd6298bb3e23e2bb343,Fix delete vlan allocation error for ML2,MERGED,2018-05-18 00:54:33.000000000,2018-05-24 02:35:22.000000000,2018-05-24 02:35:22.000000000,17,1,0,569295,6bfbfdbb3db4daf815da6d1a16706f2eec0a2e35,21,7,1,2,2592,Mark McClain,markmcclain,"Fix delete vlan allocation error for ML2

Method ""delete()"" of ovo object should be invoked.
Closes-bug: #1743425
Change-Id: I942e1a5072ce111beb94ffd6298bb3e23e2bb343
(cherry picked from commit 6c4bc1cf0585bdbe3701e0a2a87659881f5b1c73)
"
openstack%2Fpuppet-barbican~master~Ie56580c1f1980ed52bb2d390143767c416c4ba19,openstack/puppet-barbican,master,,Ie56580c1f1980ed52bb2d390143767c416c4ba19,Remove deprecated parameters,MERGED,2018-05-19 21:58:27.000000000,2018-05-24 02:31:32.000000000,2018-05-24 02:31:32.000000000,9,75,0,569607,9d6f124480d2a43482a24e0e3f467f2473c07bf2,9,3,2,3,16137,Tobias Urdin,tobasco,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: Ie56580c1f1980ed52bb2d390143767c416c4ba19
"
openstack%2Fproject-config~master~Ib2895a479cb005ab9081e1620386c605604d9a68,openstack/project-config,master,new-project,Ib2895a479cb005ab9081e1620386c605604d9a68,Add python-pqclient project,ABANDONED,2017-12-13 07:33:49.000000000,2018-05-24 02:25:50.000000000,,4,0,1,527612,b5be06e448940b09c31528c104ce63dbac3db02c,22,4,5,2,13702,yushiro,yushiro,"Add python-pqclient project

python-pqclient is a kind of deploy driver for openstack/ironic. This
repository provides client library for Fujitsu PRIMEQUEST MMB[1].

[1] https://specs.openstack.org/openstack/ironic-specs/specs/not-implemented/support-fujitsu-pq-mmb-driver.html
Change-Id: Ib2895a479cb005ab9081e1620386c605604d9a68
"
openstack%2Fproject-config~master~Ic13d737d912579c6190d3cd21ad1616f14b5f1a7,openstack/project-config,master,new-project,Ic13d737d912579c6190d3cd21ad1616f14b5f1a7,Add jobs for python-pqclient,ABANDONED,2017-12-13 07:46:24.000000000,2018-05-24 02:24:20.000000000,,5,0,0,527620,bffb110e38b0550968f3dcd5058b08a7c0d8b502,3,1,1,1,13702,yushiro,yushiro,"Add jobs for python-pqclient

Change-Id: Ic13d737d912579c6190d3cd21ad1616f14b5f1a7
"
openstack%2Fpuppet-cloudkitty~master~Ibc71014168a445bcebf322de7e0cbeb25325ed90,openstack/puppet-cloudkitty,master,master,Ibc71014168a445bcebf322de7e0cbeb25325ed90,[DNM] test,ABANDONED,2018-05-24 01:54:28.000000000,2018-05-24 02:22:11.000000000,,1,1,0,570288,be4359104502339c56eb44b53ed429a4486ff8c4,3,1,1,1,9414,zhongshengping,ZhongShengping,"[DNM] test

Change-Id: Ibc71014168a445bcebf322de7e0cbeb25325ed90
"
openstack%2Foctavia~master~Id88a612fcdb84186e7da6b02b85ab00e3289052e,openstack/octavia,master,,Id88a612fcdb84186e7da6b02b85ab00e3289052e,Add coverage.xml output for PTI compliance,MERGED,2018-05-23 17:07:54.000000000,2018-05-24 02:08:12.000000000,2018-05-24 02:08:12.000000000,1,0,0,570239,5a780519b4f7aaa1a23e029fe07579b031dfad76,8,4,1,1,11628,Michael Johnson,johnsom,"Add coverage.xml output for PTI compliance

The OpenStack Python testing interface specifies that coverage jobs
are required to output a coverage.xml[1]. This patch adds that output.

[1] https://governance.openstack.org/tc/reference/pti/python.html \
    #coverage-jobs

Change-Id: Id88a612fcdb84186e7da6b02b85ab00e3289052e
"
openstack%2Fneutron~master~I1ec56c57f87218520c2080c0b3450f1eabc13224,openstack/neutron,master,bp/adopt-oslo-versioned-objects-for-db,I1ec56c57f87218520c2080c0b3450f1eabc13224,Fixed PortBindingLevelDbObjectTestCase,MERGED,2018-05-07 21:59:11.000000000,2018-05-24 02:01:23.000000000,2018-05-24 02:01:22.000000000,91,12,3,566750,b74af5ff65f535a23cac29a3d28d2c435de02036,35,12,6,5,9656,Ihar Hrachyshka,ihrachys,"Fixed PortBindingLevelDbObjectTestCase

The test class was not inheriting from testlib_api.SqlTestCase which
means that the test cases were never executed.

Once it was executed, it became obvious that the object has an issue
with SQL query scalability. Specifically, it was failing the
test_get_objects_queries_constant test case that validates that the
number of queries to fetch a single object is the same as for multiple
objects. This happens because PortBindingLevel's 'segment' synthetic
field is not constructed from db model relationship but through issuing
a get_object OVO call that triggers a query per fetched PortBindingLevel
object.

To fix the issue, the patch added a new 'segment' relationship to
PortBindingLevel db model, and made OVO use attributes from the
relationship to construct 'segment' synthetic field.

Another issue revealed by enabling the test class is that foreign_key
definition for the 'segment' synthetic field located in NetworkSegment
object refers to 'segment_id' field but the field with this name is not
defined on PortBindingLevel object. The easiest thing we can do to
resolve the discrepancy is adding the 'segment_id' UUID typed field to
PortBindingLevel, which is what the patch does. (An alternative could be
hacking our way around the lack of the field, building another layer of
complexity in the base OVO class for this special case; I figured it's
probably counterproductive, and we can live with 'segment_id' field even
though it's arguably somewhat redundant - 'segment' object field already
carries the ID.)

Adding a new field to PortBindingLevel object means that we need to bump
its version, as well as versions of all objects that use the newly
modified field type for their own fields. The only object that refers to
the type is Port.  That's why we also bump the version of Port object.
To make older agents that use RPC callbacks work with the change, we
also provide corresponding obj_make_compatible methods for both Port and
PortBindingLevel objects.

Change-Id: I1ec56c57f87218520c2080c0b3450f1eabc13224
"
openstack%2Fpython-neutronclient~stable%2Fpike~Ib98ea9e423338c3ebc9b697d74574866008d36e6,openstack/python-neutronclient,stable/pike,fix-pike,Ib98ea9e423338c3ebc9b697d74574866008d36e6,Fix Pike gates,MERGED,2018-04-19 11:00:46.000000000,2018-05-24 01:42:44.000000000,2018-05-24 01:42:44.000000000,26,15,0,562553,0e0e408048755548f2f669e8e55f40e97106f0fe,23,6,8,6,9542,Pavlo Shchelokovskyy,pshchelo,"Fix Pike gates

this patch is a combined collection of a number of fixes:

- use Zuul's CI user instead of hardcoded `jenkins`
- comply with new PTI re documentation building
- Pin pycodestyle to <=2.3.1
  2.4.0 breaks pep8 tests on stable branches,
  just pin in to known working verison instead of style changes accross project.
  This package is blacklisted in g-r so that each project can choose
  to enforce its own code style version.
- do not fail if pip has nothing to install inside a pre-built tox env

Change-Id: Ib98ea9e423338c3ebc9b697d74574866008d36e6
"
openstack%2Fneutron~master~Ie26870495719bb4d702be3fa3068440714edd3e9,openstack/neutron,master,update-ubuntu-image,Ie26870495719bb4d702be3fa3068440714edd3e9,Update ubuntu image used for testing,MERGED,2018-04-25 08:34:43.000000000,2018-05-24 01:42:28.000000000,2018-05-24 01:42:28.000000000,1,1,0,564132,4f722be0c80879bf562db5ec08efce04dd34b925,30,13,2,1,13252,Dr. Jens Harbott,jrosenboom,"Update ubuntu image used for testing

The release we are using is more than a year old, let's update to a
recent release in order to make sure we stay up to date.

Change-Id: Ie26870495719bb4d702be3fa3068440714edd3e9
"
openstack%2Fpuppet-cinder~master~I286a593f0e68dc9e60852674d2fa14551acb1bbb,openstack/puppet-cinder,master,remove-deprecated,I286a593f0e68dc9e60852674d2fa14551acb1bbb,Remove deprecated parameters,MERGED,2018-05-20 13:36:58.000000000,2018-05-24 01:40:36.000000000,2018-05-24 01:40:36.000000000,59,365,0,569640,5c5a7dbf95650ff476604d369bfc197a757beab8,13,3,2,15,16137,Tobias Urdin,tobasco,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: I286a593f0e68dc9e60852674d2fa14551acb1bbb
"
openstack%2Fnova~master~Ia9167f7843bec2210176c472e4946e8ba3a1c72a,openstack/nova,master,bp/mox-removal,Ia9167f7843bec2210176c472e4946e8ba3a1c72a,Remove mox in libvirt/test_driver.py (2),MERGED,2018-05-16 06:23:21.000000000,2018-05-24 01:13:24.000000000,2018-05-24 01:13:24.000000000,70,82,0,568757,dd5e9e316dfe12175ac5ecc170c4d6d65ea07202,18,9,2,1,7634,Takashi Natsume,natsumet,"Remove mox in libvirt/test_driver.py (2)

Replace mox with mock in the following methods
of the LibvirtConnTestCase
in nova/tests/unit/virt/libvirt/test_driver.py.

* _mock_can_live_migrate_source
* test_check_can_live_migrate_source_block_migration
* test_check_can_live_migrate_source_shared_block_storage
* test_check_can_live_migrate_source_shared_instance_path
* test_check_can_live_migrate_source_non_shared_fails
* test_check_can_live_migrate_source_shared_block_migration_fails
* test_check_can_live_migrate_shared_path_block_migration_fails
* test_check_can_live_migrate_non_shared_non_block_migration_fails
* test_check_can_live_migrate_source_with_dest_not_enough_disk
* _do_test_create_images_and_backing

Subsequent patches will replace mox in other test cases.

Change-Id: Ia9167f7843bec2210176c472e4946e8ba3a1c72a
Implements: blueprint mox-removal
"
openstack%2Fopenstacksdk~master~I7da20f1f68ecd73b83bed237d09314eaffe6d4f6,openstack/openstacksdk,master,heat-decode-contents,I7da20f1f68ecd73b83bed237d09314eaffe6d4f6,Decode additional heat files,MERGED,2018-05-10 17:04:36.000000000,2018-05-24 00:41:30.000000000,2018-05-24 00:41:30.000000000,1,1,0,567648,a31c17483560e803572c375835ac0b63da79f645,7,3,1,1,7369,Sergey Skripnick,redixin,"Decode additional heat files

All file contents should be json serializable

Change-Id: I7da20f1f68ecd73b83bed237d09314eaffe6d4f6
Closes-Bug: https://storyboard.openstack.org/#!/story/2002002
"
openstack%2Fopenstacksdk~master~Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997,openstack/openstacksdk,master,image-props,Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997,Added few image properties to Image class,MERGED,2018-02-13 19:49:22.000000000,2018-05-24 00:41:29.000000000,2018-05-24 00:41:29.000000000,13,0,0,544049,1f4b9fa52a176e70d6cc438aaece17f54e4f9009,23,4,7,2,10338,Daniel Speichert,daniel,"Added few image properties to Image class

os_admin_user, hw_quemu_guest_agent, os_require_quiesce

Change-Id: Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997
"
openstack%2Fneutron-lib~master~I2016812fccc870900fb70fa9cf0358b98a7356b3,openstack/neutron-lib,master,bug/1749024,I2016812fccc870900fb70fa9cf0358b98a7356b3,api-ref: document sorting parameters for address scope,MERGED,2018-05-08 19:09:39.000000000,2018-05-24 00:23:01.000000000,2018-05-24 00:23:01.000000000,15,0,0,567005,6ad1a623e30b487bb81543fbfc51f53a375b2b9b,7,3,1,2,27654,Hongbin Lu,hongbin.lu,"api-ref: document sorting parameters for address scope

API users can use the 'sort_key' and 'sort_dir' to do the sorting
on list result. This patch add documentation of these two parameters
for address scope resource.

Change-Id: I2016812fccc870900fb70fa9cf0358b98a7356b3
Closes-Bug: #1749024
"
openstack%2Fneutron-lib~master~Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba,openstack/neutron-lib,master,bug/1748982,Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba,Adding tags to responses for relevant resources,MERGED,2018-04-09 10:50:42.000000000,2018-05-24 00:13:39.000000000,2018-05-24 00:13:39.000000000,217,25,28,559697,65da70c5d66258a841c4bf73531c7e40488775ad,47,7,12,56,27546,Michal Kelner Mishali,mkelnermishal,"Adding tags to responses for relevant resources

Adding tag to responses for resources that support
standard attributes.

Closes-bug: #1748982

Change-Id: Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba
Signed-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>
"
openstack%2Fneutron-specs~master~I10bf93ff44c88e39fbd98d0061ede2dbfcca929b,openstack/neutron-specs,master,Update-pypi-url,I10bf93ff44c88e39fbd98d0061ede2dbfcca929b,Trivial:Update pypi url to new url,MERGED,2018-05-23 03:17:23.000000000,2018-05-24 00:03:53.000000000,2018-05-24 00:03:53.000000000,1,1,0,570106,61fe7beaffd6ea05e1b5585ec223c4e2db76d717,9,4,2,1,26151,Wei Zheng,zhengwei6082,"Trivial:Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I10bf93ff44c88e39fbd98d0061ede2dbfcca929b
"
openstack%2Ftempest~master~I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd,openstack/tempest,master,volume-default-testing-v3,I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd,Move volume v2 service clients to v3 dir,MERGED,2018-01-21 14:08:11.000000000,2018-05-23 23:41:01.000000000,2018-05-23 23:41:00.000000000,1681,1307,10,536121,de676babd37270c99288ec5906ef33b9f85102ae,74,13,12,41,8556,Ghanshyam,ghanshyam,"Move volume v2 service clients to v3 dir

Moving all existing volume v2 service clients to
v3 dir. These service clients will be available as
v3 service clients.

For backward compatibility, keeping all service
clients importable from volume.v2 dir with deprecation
warning.

This patch is starting patch to make volume service clients
cleanup for v3 API testing as default.

Change-Id: I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd
"
openstack%2Fswift~master~I8739a474c56c0f2376a276d2691c84448cb9c647,openstack/swift,master,567940,I8739a474c56c0f2376a276d2691c84448cb9c647,Let make_db_file_path accept epoch=None,MERGED,2018-05-22 20:50:12.000000000,2018-05-23 23:40:59.000000000,2018-05-23 23:40:59.000000000,18,17,1,570054,4af57dbc658cc0a632fbe32727012e94d0758291,8,3,1,3,15343,Tim Burke,tburke,"Let make_db_file_path accept epoch=None

...in which case it should strip the epoch if the original path had one.

Change-Id: I8739a474c56c0f2376a276d2691c84448cb9c647
"
openstack%2Fnova~master~I745b3433a447aeec819781e0ee26df6e6c70530a,openstack/nova,master,bp/execs-ive-had-a-few,I745b3433a447aeec819781e0ee26df6e6c70530a,Convert libvirt's RBD storage to using processutils.execute(),MERGED,2018-05-21 21:02:33.000000000,2018-05-23 23:40:53.000000000,2018-05-23 23:40:53.000000000,4,5,0,569862,517cbd0815c901a04eb6197bdd54eaf04af64f04,15,11,1,2,2271,Michael Still,mikalstill,"Convert libvirt's RBD storage to using processutils.execute()

Nova's utils.execute() is just a redirector now and should go
away, so I am progressively moving things over to calling
processutils directly.

Change-Id: I745b3433a447aeec819781e0ee26df6e6c70530a
blueprint: execs-ive-had-a-few
"
openstack%2Fpython-tripleoclient~master~Iaef2671acf516b7e89358984a0d8a59555fc91f0,openstack/python-tripleoclient,master,569992,Iaef2671acf516b7e89358984a0d8a59555fc91f0,Fallback the default roles file for UC config,MERGED,2018-05-22 14:37:43.000000000,2018-05-23 23:35:43.000000000,2018-05-23 23:35:43.000000000,2,1,1,569992,7a7cafe1616de5b4bce43d34cccd6e72f37a0e0e,14,7,4,1,6926,Bogdan Dobrelya,bogdando,"Fallback the default roles file for UC config

The roles_file config param is expected to have a
fallback value for undercloud --use-heat deployments.

Change-Id: Iaef2671acf516b7e89358984a0d8a59555fc91f0
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fpython-heatclient~master~Ied56eda65800d72105ef2e2b683c6ce71cda6c4c,openstack/python-heatclient,master,assertRegex,Ied56eda65800d72105ef2e2b683c6ce71cda6c4c,Use assertRegex instead of assertRegexpMatches,MERGED,2017-11-01 09:37:34.000000000,2018-05-23 23:30:12.000000000,2018-05-23 23:30:12.000000000,17,17,0,516904,dcdacd2f56dda3c5581fc4b27fec0a288caa5156,10,4,2,1,25903,Vu Cong Tuan,tuanvu,"Use assertRegex instead of assertRegexpMatches

In Python3, assertRegexpMatches & assertNotRegexpMatches
are deprecated in favor of assertRegex and assertNotRegex

Change-Id: Ied56eda65800d72105ef2e2b683c6ce71cda6c4c
"
openstack%2Fmonasca-transform~master~Ide6c91b9f0da71d155588f856d656bf188af5570,openstack/monasca-transform,master,cleanup-renamemetricid,Ide6c91b9f0da71d155588f856d656bf188af5570,Rename metric_id to transform_spec_id,NEW,2018-05-23 23:00:35.000000000,2018-05-23 23:17:19.000000000,,708,603,0,570274,86cc22846513d6f9927244368b7021304976a3ae,3,2,1,32,11580,Ashwin Agate,agateaaa,"Rename metric_id to transform_spec_id

Work in progress

(Need https://review.openstack.org/#/c/567441/
 Depends-on change to go in first)

* Remove metric_group field from transform spec and pre_transform spec
* Rename metric_id_list to transform_spec_id_list

Change-Id: Ide6c91b9f0da71d155588f856d656bf188af5570
Depends-on: I223eb2296df438b139e3d9b5aaf4b1b679f70797
Story: 2001815
Task: 12561
"
openstack%2Fpuppet-nova~master~I2624b92871f4cba5a7361a5d006d985946493e83,openstack/puppet-nova,master,remove-deprecated,I2624b92871f4cba5a7361a5d006d985946493e83,Remove deprecated parameters and classes,MERGED,2018-05-18 23:43:20.000000000,2018-05-23 22:57:18.000000000,2018-05-23 22:57:18.000000000,67,425,0,569540,c3e5c7480f03949a824165349642b59a6077ec5d,13,4,3,13,16137,Tobias Urdin,tobasco,"Remove deprecated parameters and classes

Remove all the deprecated parameters and classes
which has been deprecated for one cycle or more.

Change-Id: I2624b92871f4cba5a7361a5d006d985946493e83
"
openstack%2Frequirements~master~I5c8c1926d7ce3f812ad80e5435f19ced601aae13,openstack/requirements,master,569888,I5c8c1926d7ce3f812ad80e5435f19ced601aae13,Remove spec-cleaner from upper-constraints/gr tracking,MERGED,2018-05-22 00:19:08.000000000,2018-05-23 22:53:25.000000000,2018-05-23 22:53:25.000000000,0,3,0,569888,b6d7fd56693a213d11d450c7b0d2e897da0e8291,22,12,2,3,6593,Dirk Mueller,dmllr,"Remove spec-cleaner from upper-constraints/gr tracking

spec-cleaner is used for rpm-packaging spec linting, it is not intended
as an OpenStack dependency per se. This could be added as a blacklisted
item as all the other linters are but rpm-packaging itself is not a
tracked project so it is not required to add it there.

Change-Id: I5c8c1926d7ce3f812ad80e5435f19ced601aae13
"
openstack%2Fpuppet-glance~master~I9f433ec89f8990a0f0c670389a301bdb732a989a,openstack/puppet-glance,master,gnocchi-image-proxy,I9f433ec89f8990a0f0c670389a301bdb732a989a,Remove deprecated parameters,MERGED,2018-05-21 21:56:34.000000000,2018-05-23 22:50:26.000000000,2018-05-23 22:50:26.000000000,63,573,0,569870,4700a450beece8fa009ea78b15c88792ab018c5f,12,3,4,17,16137,Tobias Urdin,tobasco,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: I9f433ec89f8990a0f0c670389a301bdb732a989a
"
openstack%2Fpuppet-neutron~master~If41ab16a43f98d2c0112a82f811b2137ea5515b2,openstack/puppet-neutron,master,,If41ab16a43f98d2c0112a82f811b2137ea5515b2,Configure hostname to be FQDN instead of localhost,MERGED,2018-05-23 09:31:23.000000000,2018-05-23 22:46:27.000000000,2018-05-23 22:46:27.000000000,14,0,0,570153,0fd755588acf9b70dcd5d387087b57dbee307ee5,7,3,1,3,20866,Janki Chhatbar,janki,"Configure hostname to be FQDN instead of localhost

hostname is set to localhost. It should be set
to reflect the actual hostname and not localhost.

Change-Id: If41ab16a43f98d2c0112a82f811b2137ea5515b2
"
openstack%2Fpuppet-designate~master~I01e33221ef4f2c3afd5277dbc3f1787feee31f37,openstack/puppet-designate,master,,I01e33221ef4f2c3afd5277dbc3f1787feee31f37,Remove deprecated parameters,MERGED,2018-05-21 21:31:59.000000000,2018-05-23 22:31:29.000000000,2018-05-23 22:31:29.000000000,33,237,0,569867,25f07ee1e1f440e90f550acbc129ef0f0d6f2263,9,3,2,6,16137,Tobias Urdin,tobasco,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: I01e33221ef4f2c3afd5277dbc3f1787feee31f37
"
openstack%2Fopenstack-ansible-os_horizon~master~I1c879188037b476b1e515f0fb750cfd0aedca06a,openstack/openstack-ansible-os_horizon,master,bug/1718187,I1c879188037b476b1e515f0fb750cfd0aedca06a,Download and Install neutron-fwaas-dashboard,MERGED,2017-09-20 10:54:56.000000000,2018-05-23 22:01:00.000000000,2017-10-06 23:31:20.000000000,8,0,6,505592,8a14dee837a85be14c1976e9ef7601eb60d5bcda,21,6,2,2,26729,Jakob Hasselmann,jafeha,"Download and Install neutron-fwaas-dashboard

Download and install the neutron-fwaas-dashboard if being enabled within
the os_horizon role by the horizon_enable_neutron_fwaas var.

Change-Id: I1c879188037b476b1e515f0fb750cfd0aedca06a
Partial-Bug: 1718187
"
openstack%2Fpuppet-aodh~master~Iaf45947643b0fb6495fa44c6410a7e6e98aac197,openstack/puppet-aodh,master,,Iaf45947643b0fb6495fa44c6410a7e6e98aac197,Remove deprecated parameters,MERGED,2018-05-19 21:44:58.000000000,2018-05-23 21:39:13.000000000,2018-05-23 21:39:13.000000000,18,127,0,569606,bf5d06f64000a762779ef0ad9a8767cceec74bf3,8,4,1,3,16137,Tobias Urdin,tobasco,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: Iaf45947643b0fb6495fa44c6410a7e6e98aac197
"
openstack%2Fpuppet-congress~master~Ic8a697525dd659dff13e91a00b573890e61a30ff,openstack/puppet-congress,master,,Ic8a697525dd659dff13e91a00b573890e61a30ff,Remove deprecated parameters,MERGED,2018-05-21 21:02:59.000000000,2018-05-23 21:38:45.000000000,2018-05-23 21:38:45.000000000,11,136,0,569863,aef7941268ed55112759859a39739d812d399052,8,3,2,3,16137,Tobias Urdin,tobasco,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: Ic8a697525dd659dff13e91a00b573890e61a30ff
"
openstack%2Fxstatic-angular-material~master~I36cadb723837b351b870006b15c854d990d04272,openstack/xstatic-angular-material,master,trivialfix,I36cadb723837b351b870006b15c854d990d04272,fix typos in angular-material.js,ABANDONED,2018-05-23 13:25:51.000000000,2018-05-23 21:28:22.000000000,,2,2,0,570195,60f115564a9d74e5423c46e698ce7d86f3a946a8,5,3,1,1,17130,melissaml,malei,"fix typos in angular-material.js

Change-Id: I36cadb723837b351b870006b15c854d990d04272
"
openstack%2Fpuppet-horizon~master~I8a4039ac70da4d6c72570885cb1b8bd674e685eb,openstack/puppet-horizon,master,trivialfix,I8a4039ac70da4d6c72570885cb1b8bd674e685eb,fix a typo in horizon_init_spec.rb,MERGED,2018-05-23 13:18:54.000000000,2018-05-23 21:28:09.000000000,2018-05-23 21:28:09.000000000,1,1,0,570190,61b92ef57097f0e8a44ea115f89a0efde468e49b,7,3,1,1,17130,melissaml,malei,"fix a typo in horizon_init_spec.rb

Change-Id: I8a4039ac70da4d6c72570885cb1b8bd674e685eb
"
openstack%2Fcharm-deployment-guide~master~I804e306583135a5cc770250f6eab664a737b7f56,openstack/charm-deployment-guide,master,encryption-at-rest,I804e306583135a5cc770250f6eab664a737b7f56,Add appendix for encryption-at-rest,MERGED,2018-05-11 10:51:28.000000000,2018-05-23 21:12:15.000000000,2018-05-23 21:12:15.000000000,243,0,6,567826,94a2231947c4a55fc80b7253b1106e78ceb003cb,18,3,5,2,935,James Page,james-page,"Add appendix for encryption-at-rest

Provide details on how to encrypt data at rest to mitigate the
risk of data compromise in the event that a disk, server or
multiple servers are lost from a data center deployment.

Change-Id: I804e306583135a5cc770250f6eab664a737b7f56
"
openstack%2Ftripleo-quickstart-extras~master~I589eac3b044c590a23ed42d00be46e63c71f9bad,openstack/tripleo-quickstart-extras,master,reproducer_zuul_changes,I589eac3b044c590a23ed42d00be46e63c71f9bad,Add missing zuul_changes variable,ABANDONED,2018-05-22 02:35:22.000000000,2018-05-23 20:41:25.000000000,,1,0,0,569902,6a7910074123768d343699cb28aff86ecc1f5468,12,8,1,1,4571,Steve Baker,steve-stevebaker,"Add missing zuul_changes variable

Without passing this to the nodepool-setup.yml playbook, any changes
to tripleo-quickstart etc will not be checked out on the nodes, so the
reproducer will be running master instead.

Change-Id: I589eac3b044c590a23ed42d00be46e63c71f9bad
"
openstack%2Fcinder~stable%2Focata~Ifb65b8008f30bc9cc4b6cd9b867a726ec4ed4707,openstack/cinder,stable/ocata,ocata-fix/backup-sha,Ifb65b8008f30bc9cc4b6cd9b867a726ec4ed4707,Improve ChunkedBackupDriver hashlib calls,MERGED,2018-05-03 13:19:05.000000000,2018-05-23 19:59:13.000000000,2018-05-23 19:59:13.000000000,22,14,0,566061,7dd5b5ce7fb1bcd1cadb017cca9d73a7d930af14,21,16,1,1,9535,Gorka Eguileor,Gorka,"Improve ChunkedBackupDriver hashlib calls

Currently we have 2 hashlib calls withing the ChunkedBackupDriver, one
to calculate the MD5 of the chunk and another to calculate the SHA256 of
the blocks within each chunk.

This patch improve interactions between cinder and the hashlib library
method calls by making sure MD5 and SHA256 related calls are execute in
a native thread to improve context switching responsiveness within
eventlet.

The MD5 of a 1GB chunk could take around 4 seconds, so the overhead of
creating a native thread is acceptable, and for the SHA256 instead of
creating a thread for each call we create a single thread to do the
calculations of all the blocks, thus making it cost effective.

Current code slices the data into blocks, which means that the data is being
copied, but this has now been switched to a memoryview object to take advantage
of the buffer protocol so copying of data is no longer necesary.

Change-Id: Ifb65b8008f30bc9cc4b6cd9b867a726ec4ed4707
(cherry picked from commit 671b02b504a45953cf225a210c361729d480dd66)
Conflicts:
	cinder/backup/chunkeddriver.py
(cherry picked from commit 2ec114d3c7306b431ab2bd2ee47bf09eb8223ffd)
(cherry picked from commit acfdbb62f706451bf1faf3d6926e9267028186c8)
"
openstack%2Ftripleo-ui~master~Iccb1685c00e1310b3f5b5334ff96726325bcab12,openstack/tripleo-ui,master,logout-id,Iccb1685c00e1310b3f5b5334ff96726325bcab12,Add an id to the DropdownToggle in UserDropdown,MERGED,2018-04-13 12:39:06.000000000,2018-05-23 19:57:23.000000000,2018-05-23 19:57:23.000000000,3,1,2,561211,4fda81db990f0df985c7565e6d6eb002202c8208,11,7,1,2,20970,Honza Pokorny,hpokorny,"Add an id to the DropdownToggle in UserDropdown

This is to help with targetting the element in our automation tests.

Change-Id: Iccb1685c00e1310b3f5b5334ff96726325bcab12
"
openstack%2Ftripleo-ui~master~I5bcc45c3f8cc74595fe28ea35fa4569d8cb8e661,openstack/tripleo-ui,master,logout-id,I5bcc45c3f8cc74595fe28ea35fa4569d8cb8e661,Reinstate logout link id,MERGED,2018-04-12 17:52:48.000000000,2018-05-23 19:57:22.000000000,2018-05-23 19:57:22.000000000,10,3,0,560992,05a2a6c268ae1ff0bc76bb285d5eaf3a2aae625e,12,6,2,2,20970,Honza Pokorny,hpokorny,"Reinstate logout link id

During a recent patch, the logout link id was accidentally removed.
This id is used heavily by selenium tests.

Change-Id: I5bcc45c3f8cc74595fe28ea35fa4569d8cb8e661
"
openstack%2Ftripleo-heat-templates~master~Ie36342402426d74fd528e320d60adc951bf8c9ac,openstack/tripleo-heat-templates,master,bug/1772040,Ie36342402426d74fd528e320d60adc951bf8c9ac,Don't delete br-ex on upgrade in multinode jobs,MERGED,2018-05-21 11:29:04.000000000,2018-05-23 19:57:20.000000000,2018-05-23 19:57:20.000000000,10,3,3,569781,e9e2b4d104e51f3aafc0cb4ee285163da21ef8a2,18,12,2,1,8042,Jiří Stránský,jistr,"Don't delete br-ex on upgrade in multinode jobs

The hook for os-net-config in multinode NIC config templates contains
a call to `ovs-vsctl del-br br-ex` to remove the bridge we got from
nodepool and initialize network config. We need to avoid executing
that again on upgrade, or the Ansible process running the upgrade gets
stuck.

Change-Id: Ie36342402426d74fd528e320d60adc951bf8c9ac
Closes-Bug: #1772040
"
openstack%2Ftripleo-common~stable%2Fqueens~Icc64b32a2179cd10853a54a83bf82a1761297ebd,openstack/tripleo-common,stable/queens,bug/1755078,Icc64b32a2179cd10853a54a83bf82a1761297ebd,Find deployment name in config download,MERGED,2018-05-09 15:04:37.000000000,2018-05-23 19:57:20.000000000,2018-05-23 19:57:20.000000000,23,0,2,567249,091e603ef97ff18e0a0ca7964d05f5c8970758aa,33,10,2,1,26343,Jose Luis Franco,jfrancoa,"Find deployment name in config download

In some cases we get a ResourceGroup as parent resource of a deployment,
so the name will be a number. Ansible will be unhappy with that, so
let's get the grand parent to get the proper name.

Related-Bug: #1755078
(cherry picked from commit 635f6a4374b35489084131d62b88e7272b987bb3)
Change-Id: Icc64b32a2179cd10853a54a83bf82a1761297ebd
"
openstack%2Fpython-tripleoclient~stable%2Fqueens~If8902980c93212401e5ff30828f6f03da6eece0e,openstack/python-tripleoclient,stable/queens,exclude-path,If8902980c93212401e5ff30828f6f03da6eece0e,Add exclude-path to undercloud backups,MERGED,2018-05-14 07:13:16.000000000,2018-05-23 19:57:19.000000000,2018-05-23 19:57:19.000000000,78,1,0,568210,4c456b44759d5753fd2ff3a973d36cd3765c1e6e,38,9,1,2,20775,Carlos Camacho,ccamacho,"Add exclude-path to undercloud backups

This patch adds the option to exclude files
when executing an Undercloud backup

Change-Id: If8902980c93212401e5ff30828f6f03da6eece0e
Closes-Bug: 1767385
(cherry picked from commit 1a05c694b873c7dee5cc233c70e206de26bfc52d)
"
openstack%2Fpython-tripleoclient~stable%2Fqueens~I77fdc9deab97c785725f09b8529c512950753f86,openstack/python-tripleoclient,stable/queens,bug/1758161,I77fdc9deab97c785725f09b8529c512950753f86,Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare,MERGED,2018-05-15 14:49:35.000000000,2018-05-23 19:57:18.000000000,2018-05-23 19:57:18.000000000,33,1,1,568604,12a5340c506157523df06888787aa8eff0cb69b8,27,8,2,4,8449,Marios Andreou,marios,"Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare

Before we update the heat stack for the ffwd-upgrade prepare we
can use this to run any required commands on the overcloud.

The current use case is removal of the
/usr/libexec/os-apply-config/templates/etc/os-net-config/config.json
Otherwise after the upgrade prepare is executed, overcloud nodes
will have empty config.json for os-net-config (also discussed [0])

The current implementation of .deployment.v1.deploy_on_servers assumes
all servers are managed by nova. This is OK for N..Q ffu but we will
need to revisit in future, see [1] for more info.

[0]: https://bugzilla.redhat.com/show_bug.cgi?id=1561255
[1]: https://bugs.launchpad.net/tripleo/+bug/1770356
Related-Bug: 1758161
Depends-On: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc
Change-Id: I77fdc9deab97c785725f09b8529c512950753f86
(cherry picked from commit 0598141440882cc9a31e81626e7d01e0197eda80)
"
openstack%2Fpython-tripleoclient~stable%2Fqueens~Ife57bfae034f70e33bb64cfc3f3063b6a5528cc6,openstack/python-tripleoclient,stable/queens,bug/1768586-stable/queens,Ife57bfae034f70e33bb64cfc3f3063b6a5528cc6,Update Heat stack on update/upgrade/ffwd converge,MERGED,2018-05-09 14:47:04.000000000,2018-05-23 19:57:17.000000000,2018-05-23 19:57:17.000000000,25,77,0,567243,1dec392c4c48ac6d2f5e4a3526219c5c94dec3ef,46,8,1,5,8042,Jiří Stránský,jistr,"Update Heat stack on update/upgrade/ffwd converge

Removing no-ops from plan only will have no effect, we need to let
Heat know about the no-ops removal too. Client commands always fully
recreate the plan in swift, so any plan edits need to be immediately
applied.

For the same reason this commit also drops execution of the workfow --
so far we thought it's just superfluous (does what the env file did),
but in fact can't have any effect at all, so let's not execute that
code at all.

Depends-On: I9039db99f43e8ad091ea6fef7e3a149fcddf1334
Change-Id: Ife57bfae034f70e33bb64cfc3f3063b6a5528cc6
Closes-Bug: #1768586
(cherry picked from commit a0006df5442ee94637f236c46cf1a0fb436e5c0a)
"
openstack%2Ftripleo-validations~stable%2Fqueens~I76fe01b7f2ec84db8a8aeaa749cb7b961667b3c9,openstack/tripleo-validations,stable/queens,bug/1768011,I76fe01b7f2ec84db8a8aeaa749cb7b961667b3c9,Fail if the Overcloud inventory is empty,MERGED,2018-05-08 12:56:10.000000000,2018-05-23 19:57:17.000000000,2018-05-23 19:57:17.000000000,7,0,0,566881,3756506d315e661347c76f16383a279b6eb1f9e8,28,8,1,1,20775,Carlos Camacho,ccamacho,"Fail if the Overcloud inventory is empty

If tripleo-ansible-inventory can not retrieve the
inventory, the script should fail and
display an error message for the users to
fix the plan or stack name before continuing.

(cherry picked from commit 773bef1c7a5e7015c4df42ce23e2f9c8c158f424)
Change-Id: I76fe01b7f2ec84db8a8aeaa749cb7b961667b3c9
Closes-Bug: 1768011
"
openstack%2Ftripleo-common~stable%2Fqueens~I522acab84833b942865dc57156f3de99779d4f43,openstack/tripleo-common,stable/queens,,I522acab84833b942865dc57156f3de99779d4f43,Persist package update ansible logs,MERGED,2018-05-02 17:40:57.000000000,2018-05-23 19:57:16.000000000,2018-05-23 19:57:16.000000000,1,0,2,565853,aebccc13c9df34f4dfa2203f8a676395dc67aba0,26,8,2,1,11166,Lukas Bezdicka,xbezdick,"Persist package update ansible logs

We need to store the ansible playbook logs into persistent location.
We do it by ANSIBLE_LOG_PATH: /var/lib/mistral/package_update.log

Change-Id: I522acab84833b942865dc57156f3de99779d4f43
Resolves: rhbz#1572827
(cherry picked from commit a6498ad3265b3a8e4dc938867dceaaa75e1d5d72)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I5e0fcb7467fcff7e549e04789ceeb8eb49ee265a,openstack/tripleo-heat-templates,stable/queens,bug/1770598-stable/queens,I5e0fcb7467fcff7e549e04789ceeb8eb49ee265a,Fix cinder-backup image wrangling on update,MERGED,2018-05-17 15:19:00.000000000,2018-05-23 19:46:23.000000000,2018-05-23 19:46:23.000000000,2,2,0,569146,815f99a2d9d4ba206e78bbaf5745c5ce1ff7f9b5,21,6,2,1,16515,mbu,matbu,"Fix cinder-backup image wrangling on update

The minor update tasks for cinder-backup first pull the new image and
then delete the old one. If the image hasn't changed, deleting the old
one means deleting the new one too, and then trying to tag it as
pcmklatest will fail. The other services under
services/docker/pacemaker seem to have the order correct.

All services here could use a performance optimization for cases when
the image hasn't changed (don't reshuffle images if the hash hasn't
changed) but let's fix the breakage first and address performance
later.

Change-Id: I5e0fcb7467fcff7e549e04789ceeb8eb49ee265a
Closes-Bug: #1770598
Related-Bug: #1770599
(cherry picked from commit b0322730a7b0759526c3e0b876afa514d8ab35dd)
"
openstack%2Ftripleo-common~stable%2Fqueens~Icd25a8d579151015c9cdf56861d2be933848a723,openstack/tripleo-common,stable/queens,exclude-path,Icd25a8d579151015c9cdf56861d2be933848a723,Add validation for empty file system backup on Undercloud,MERGED,2018-05-14 10:04:23.000000000,2018-05-23 19:46:22.000000000,2018-05-23 19:46:22.000000000,24,7,0,568250,32d7ec7faaff73aa2698aef6f29a83ec3a8b3a6e,30,4,3,2,20775,Carlos Camacho,ccamacho,"Add validation for empty file system backup on Undercloud

This patch works as an addition to the exclude path
when executing an Undercloud backup.

In this case if we exclude all files, there is no need to execute
the task to create the FS backup.

Change-Id: Icd25a8d579151015c9cdf56861d2be933848a723
Closes-Bug: 1767385
(cherry picked from commit 650a259472de77c1ea6ecd6883b50c134cd6d29a)
"
openstack%2Ftripleo-heat-templates~stable%2Focata~I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,openstack/tripleo-heat-templates,stable/ocata,osp/crudini,I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,Don't use crudini to get rhn server,MERGED,2018-05-17 17:23:33.000000000,2018-05-23 19:46:21.000000000,2018-05-23 19:46:21.000000000,2,1,0,569180,89fd5a0093fdd45d7421a76d781c2495e503514d,22,4,3,1,3153,Emilien Macchi,emilienm,"Don't use crudini to get rhn server

crudini is not installed by default on Red Hat derivitive OS's, so we
shouldn't rely on it. We probably can't just install it since this
script is the rhel-registration script, so there are likely no repos
enabled when we need it.

Instead just use grep/cut/sed to get the value we need.

Change-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8
Closes-Bug: #1771830
(cherry picked from commit b4ff453f87610988b7f76688bdba7e006ec91d20)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ie3bd17ca9863e7687721e8c2628e485ea1849321,openstack/tripleo-heat-templates,stable/queens,bug/1772071-stable/queens,Ie3bd17ca9863e7687721e8c2628e485ea1849321,Use str_replace for known_hosts,MERGED,2018-05-22 03:04:44.000000000,2018-05-23 19:46:20.000000000,2018-05-23 19:46:19.000000000,24,17,0,569909,482f2eb2f736e8d5d01a775dae160f819240d708,19,7,2,2,14985,Alex Schultz,mwhahaha,"Use str_replace for known_hosts

There is a limit to how long input data can be for the heat script hook.
It turns out that data longer than 131072, will return an Argument list
to long error. To get around this, we need to pass this data in a
different way so that the heat script hook will work.

NOTE: Includes fix from If7a4c6f3581bed270f478b98b8da8fe010acbbc1

Change-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321
Closes-Bug: #1772071
(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)
"
openstack%2Fpython-tripleoclient~master~I503dcc831b78d1c271f166ffd6d97fdc2cbd618f,openstack/python-tripleoclient,master,bp/all-in-one,I503dcc831b78d1c271f166ffd6d97fdc2cbd618f,Update HostnameMap generation,MERGED,2018-05-11 21:59:17.000000000,2018-05-23 19:46:19.000000000,2018-05-23 19:46:19.000000000,182,35,7,567951,a05a0eb3cf3952fbd7a611a2134ce03afc73dbd9,48,7,9,2,14985,Alex Schultz,mwhahaha,"Update HostnameMap generation

The HostnameMap is used in combination with the
deployed-neutron-port.yaml for the Containerized undercloud. Previously
we were hardcoding the value assuming 'undercloud' in the hostname from
the stack and role. Because these can be customized, we should generate
the hostname map value from the stackname being deployed and the primary
role from the roles_data.

Change-Id: I503dcc831b78d1c271f166ffd6d97fdc2cbd618f
Related-Blueprint: all-in-one
"
openstack%2Ftripleo-heat-templates~stable%2Focata~I1cd765b1998f059702f0c17ccb67d54f6d5db362,openstack/tripleo-heat-templates,stable/ocata,bug/1703792,I1cd765b1998f059702f0c17ccb67d54f6d5db362,Enhance completion message when upgrading non controller nodes,MERGED,2018-05-21 13:19:58.000000000,2018-05-23 19:01:06.000000000,2018-05-23 19:01:06.000000000,7,1,3,569794,f1b5697f0a73a59752031359752f14e4eddd4bdf,18,5,1,1,20775,Carlos Camacho,ccamacho,"Enhance completion message when upgrading non controller nodes

This adds a better completion message when upgrading a non
controller node.

Change-Id: I1cd765b1998f059702f0c17ccb67d54f6d5db362
Closes-Bug: 1703792
(cherry picked from commit 7bf4edde5de2ab99824c9e8259a9ffa3307b9554)
"
openstack%2Foctavia-dashboard~master~I4f817fa93ed599a864bbdcbf68a2795a1e75149f,openstack/octavia-dashboard,master,zanata/translations,I4f817fa93ed599a864bbdcbf68a2795a1e75149f,Imported Translations from Zanata,MERGED,2018-05-23 06:47:19.000000000,2018-05-23 18:56:59.000000000,2018-05-23 18:56:59.000000000,4,4,0,570123,015568af553fa41869ece6d92d2a639b4e7d3bb4,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4f817fa93ed599a864bbdcbf68a2795a1e75149f
"
openstack%2Fnova-powervm~stable%2Fqueens~I05facd4c971a08c62f37ba7371b2cc5474d2cd8a,openstack/nova-powervm,stable/queens,ci_check-stable/queens,I05facd4c971a08c62f37ba7371b2cc5474d2cd8a,DNM: ci check,ABANDONED,2018-02-14 20:54:38.000000000,2018-05-23 18:48:44.000000000,,1,1,0,544689,38649f9ec57d5c70b1fcdd78b064e337885f7c34,35,3,4,1,16710,Eric Berglund,esberglu,"DNM: ci check

Don't merge. Used to kick off CI Runs

Change-Id: I05facd4c971a08c62f37ba7371b2cc5474d2cd8a
"
openstack%2Fnova-powervm~stable%2Focata~I07d2dec077d42d0057e0e2e392348bce5fe283b0,openstack/nova-powervm,stable/ocata,,I07d2dec077d42d0057e0e2e392348bce5fe283b0,DNM: CI CHECK OCATA,ABANDONED,2017-05-15 21:26:12.000000000,2018-05-23 18:48:36.000000000,,0,0,0,464756,ed11bb943d188824668d77aa48b3aceebf365f33,99,3,3,0,16710,Eric Berglund,esberglu,"DNM: CI CHECK OCATA

Change-Id: I07d2dec077d42d0057e0e2e392348bce5fe283b0
"
openstack%2Fnova-powervm~stable%2Fpike~I8c1d1696a89832f4a6ce275c05351d1cafb89df8,openstack/nova-powervm,stable/pike,DNM: CI Check - Pike,I8c1d1696a89832f4a6ce275c05351d1cafb89df8,DNM: CI Check - Pike,ABANDONED,2017-10-31 21:22:09.000000000,2018-05-23 18:48:30.000000000,,0,0,0,516790,5de928c5025bd35261bb3766d57f635f8b182b09,51,3,4,0,16710,Eric Berglund,esberglu,"DNM: CI Check - Pike

DO NOT MERGE: Used to kick off PowerVM CI runs for nova-powervm pike
branch.

Change-Id: I8c1d1696a89832f4a6ce275c05351d1cafb89df8
"
openstack%2Fswift~master~Icd558c1f92c24724a76931f1d281a9a20122b683,openstack/swift,master,570005,Icd558c1f92c24724a76931f1d281a9a20122b683,Add unit tests for replicator sync_shard_ranges,MERGED,2018-05-22 16:18:38.000000000,2018-05-23 18:42:48.000000000,2018-05-23 18:42:48.000000000,64,1,5,570005,e4045fb4758898b6ef855301ae0cd8f9a450af36,12,3,3,1,7847,Alistair Coles,acoles,"Add unit tests for replicator sync_shard_ranges

Related-Change: Ie4d2816259e6c25c346976e181fb9d350f947190

Change-Id: Icd558c1f92c24724a76931f1d281a9a20122b683
"
openstack%2Fopenstack-helm-infra~master~I7c9786a95ed138178bb0178a55fac90a0d9e8e5b,openstack/openstack-helm-infra,master,htk-allow-undefined-reg,I7c9786a95ed138178bb0178a55fac90a0d9e8e5b,helm-toolkit: allow images.local_registry to be undefined,ABANDONED,2018-04-16 21:40:52.000000000,2018-05-23 18:31:34.000000000,,4,0,0,561734,8ddb2513041e88abc06c5e34fb1c9a027b451c8e,11,5,2,1,8898,Chris Wedgwood,anticw,"helm-toolkit: allow images.local_registry to be undefined

Change-Id: I7c9786a95ed138178bb0178a55fac90a0d9e8e5b
"
openstack%2Fnova-powervm~master~I73af6218d05de2de4a824d6cb027451d7f4038c9,openstack/nova-powervm,master,rm_ld_opts,I73af6218d05de2de4a824d6cb027451d7f4038c9,Remove powervm localdisk conf options,MERGED,2018-04-12 20:50:42.000000000,2018-05-23 18:31:31.000000000,2018-05-23 18:31:31.000000000,2,19,0,561045,1291aa9d2648b88a814de7acf18c6aede2419c32,18,5,2,2,16710,Eric Berglund,esberglu,"Remove powervm localdisk conf options

This removes the disk_driver and volume_group_name configuration
options from nova-powervm. The options are now located in nova [1].

[1] https://review.openstack.org/#/c/549300/

Change-Id: I73af6218d05de2de4a824d6cb027451d7f4038c9
"
openstack%2Fswift~master~I707ed7b7ec56ad89e56c9174d65d9998d4ce211f,openstack/swift,master,,I707ed7b7ec56ad89e56c9174d65d9998d4ce211f,Use sharding container epoch in shard container names,NEW,2018-05-23 17:02:37.000000000,2018-05-23 18:30:27.000000000,,138,20,0,570235,f046dbe2a2b5791717e2a6f595283c1354529dfa,2,1,1,3,7847,Alistair Coles,acoles,"Use sharding container epoch in shard container names

Make 'swift-manage-shard-ranges find_and_replace --enable' use the
same timestamp for the container's sharding epoch and as the timestamp
component of the initial shard containers' names. This is not required
but may be appreciated when humans inspect the state of a sharded
container.

This will only be the case the first time find_and_replace --enable
is used. Repeated use is not recommended; if repeated then the
broker's epoch is not changed but new shard ranges are created
with new timestamps in their names to guarantee uniqueness.

Change-Id: I707ed7b7ec56ad89e56c9174d65d9998d4ce211f
"
openstack%2Ftripleo-common~stable%2Fqueens~Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc,openstack/tripleo-common,stable/queens,bug/1758161-stable/queens,Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc,Add special 'all' for deploy_on_servers server name to match all,MERGED,2018-05-10 09:39:16.000000000,2018-05-23 18:20:10.000000000,2018-05-23 18:20:10.000000000,11,0,0,567538,9b347848f6670c3cf5ec672dbe536cc305af93ab,44,9,3,1,11090,Sergii Golovatiuk,holser,"Add special 'all' for deploy_on_servers server name to match all

This adds a special clause for when the value of server_name is
set to 'all'. In this case we skip the match on name and just
use the entire nova list. See related below for a use case.

Related:
(python-tripleoclient) I77fdc9deab97c785725f09b8529c512950753f86

Change-Id: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc
(cherry picked from commit 8407b9bf2bd6ab3e17263a8e25cad1b0e3b87608)
"
openstack%2Fpython-tripleoclient~stable%2Fqueens~I7c5347ef31aa002f22bcaa60fcbfff058ae8acb9,openstack/python-tripleoclient,stable/queens,bug/1769867,I7c5347ef31aa002f22bcaa60fcbfff058ae8acb9,"Refactor, fix ansible inventory method parameters for ffwd-upgrade run",MERGED,2018-05-09 14:19:43.000000000,2018-05-23 18:20:10.000000000,2018-05-23 18:20:10.000000000,30,5,0,567233,245eb695fb15c1cd0beea1c2cd91aa6de789f14b,24,6,3,2,11090,Sergii Golovatiuk,holser,"Refactor, fix ansible inventory method parameters for ffwd-upgrade run

This submission had the correct fix for the bug 1769867.

[0] was accidentaly stepping over this submission
to fix the parameter configuration. Still we need
the fix for configuring the parameters correctly
also fixing the unit tests.

The method parameters wasn't being passed into the
tripleo ansible inventory generation.
Also discussed in [1].

Related-Bug: 1769867
[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1575445
[0]: https://review.openstack.org/#/c/566960/
(cherry picked from commit d0673159e0b412c051abfdf0aa4b91944211e270)
Change-Id: I7c5347ef31aa002f22bcaa60fcbfff058ae8acb9
"
openstack%2Ftripleo-quickstart-extras~master~I577017bd3990f6e86caa2538061a850f619e4f66,openstack/tripleo-quickstart-extras,master,,I577017bd3990f6e86caa2538061a850f619e4f66,Remove hardcoded cinder v1 option for tempestconf,MERGED,2018-05-16 07:58:25.000000000,2018-05-23 18:20:09.000000000,2018-05-23 18:20:09.000000000,0,1,2,568776,da48e520bf68441a9e23709041341d3970bc4684,28,10,1,1,22873,Martin Kopec,mkopec,"Remove hardcoded cinder v1 option for tempestconf

python-tempestconf is able to detect deprecated versions,
therefor that line is no longer needed.

Change-Id: I577017bd3990f6e86caa2538061a850f619e4f66
"
openstack%2Fkeystone-specs~master~Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0,openstack/keystone-specs,master,,Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0,Define a set of basic default roles,MERGED,2018-05-04 18:27:08.000000000,2018-05-23 17:57:58.000000000,2018-05-23 17:57:58.000000000,285,0,54,566377,acfc05ae9655702c096aa43e875c17c38339caec,46,8,9,1,11589,Harry Rybacki,hrybacki,"Define a set of basic default roles

With the recent work to keystone and oslo.policy, we should be able to
offer tooling to project development teams so they can start evolving
their policies. Before we start changing things, we should come to
consensus on a set of defaults we should offer out of the box.

Moving towards a set of known defaults will make maintenance for
operators much easier. It will also build the foundation for a more
robust RBAC system that is better at modeling complex
organization, ultimately being more useful in the real-world.

Change-Id: Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0
Co-authored-By: Lance Bragstad <lbragstad@gmail.com>
Co-Authored-By: Jamie Lennox <jamielennox@gmail.com>
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ib1275d42daf2896db9e6de6513070a0fba47ed40,openstack/tripleo-heat-templates,stable/queens,,Ib1275d42daf2896db9e6de6513070a0fba47ed40,Mount ODL log file on host node,MERGED,2018-05-10 05:01:15.000000000,2018-05-23 17:48:05.000000000,2018-05-23 17:48:05.000000000,3,1,0,567469,4e9fbb8c32028f4bb6d46439edbb4f8aea0a0060,56,10,1,1,20866,Janki Chhatbar,janki,"Mount ODL log file on host node

This patch mounts karaf.log file at /var/log/
container/opendaylight/. So the logs are now available
via docker logs and in file both.

Change-Id: Ib1275d42daf2896db9e6de6513070a0fba47ed40
(cherry picked from commit d53522165e18c7d10b16ccad494691f5043e3a4f)
"
openstack%2Fcharm-neutron-dynamic-routing~master~I41360518ab2e65a207e238d95a39b763897d4fbc,openstack/charm-neutron-dynamic-routing,master,remove-config-asn,I41360518ab2e65a207e238d95a39b763897d4fbc,Remove asn configuration option,MERGED,2018-05-14 10:54:26.000000000,2018-05-23 17:37:33.000000000,2018-05-23 17:37:33.000000000,47,25,0,568260,7be2ae2bd81f48641788d4de18cfeacbbe74a2ec,58,4,8,8,13686,Frode Nordahl,fnordahl,"Remove asn configuration option

This configuration option is only used for CI testing and
may be confusing for a unsuspecting end user.

Change is coupled with PR on zaza that updates the dragent
test to get information about configured asns by inspecting
relation data on `neutron-dynamic-routing` and `quagga`
units.

Depends-On: I8b1508361fdc7541c0fc231e7e816651626596b7
Change-Id: I41360518ab2e65a207e238d95a39b763897d4fbc
"
openstack%2Fsenlin~master~I4968e6eb438e43859fe63044ae580a059a52239a,openstack/senlin,master,,I4968e6eb438e43859fe63044ae580a059a52239a,Fix typo,MERGED,2018-05-22 08:46:09.000000000,2018-05-23 17:34:26.000000000,2018-05-23 17:34:26.000000000,1,1,0,569940,77053a12965a3962ae2ac41daa41cf12b6680288,10,6,1,1,25747,Debo Zhang,zhangdebo,"Fix typo

Change-Id: I4968e6eb438e43859fe63044ae580a059a52239a
"
openstack%2Fnova~master~I649a78a787bbc6a34ed4749f22186400a614557f,openstack/nova,master,bug/1675676,I649a78a787bbc6a34ed4749f22186400a614557f,Migrate VMs failed when anti-affinity group was removed from VMs.,ABANDONED,2017-03-30 06:27:25.000000000,2018-05-23 17:28:58.000000000,,15,3,9,451664,544a1592c09aa0b66d247471f6187cbe6fc616b2,171,32,15,2,25110,Bryan Song,lcsong,"Migrate VMs failed when anti-affinity group was removed from VMs.

When anti-affinity group was removed, 'group_members' field was
removed from request_spec and here is the debug info:
{'limits': {}, 'group_policies':set([u'anti-affinity']),
'ignore_hosts': [u'test-deploy7'], 'group_hosts': set([]),
'group_updated': True, 'scheduler_hints': {u'group': u'groupId'}}.

Because no field named 'group_members' was contained, so the
following method: nova/objects/request_spec.py:205:

members = list(filter_properties.get('group_members'))

will raise the NoneType error: ""TypeError: 'NoneType' object is not
iterable"". We add a default value to avoide this exception.

members = list(filter_properties.get('group_members', []))

Closes-Bug: #1675676

Change-Id: I649a78a787bbc6a34ed4749f22186400a614557f
"
openstack%2Fkolla-ansible~master~Ic2fbcf2347023c1e9e666203dfe40dbeaf24ce5f,openstack/kolla-ansible,master,genpwd_py35,Ic2fbcf2347023c1e9e666203dfe40dbeaf24ce5f,Updated genpwd to work with python35,MERGED,2018-05-22 23:39:19.000000000,2018-05-23 17:07:48.000000000,2018-05-23 17:07:47.000000000,6,6,0,570080,f1768ef7abb9ef183601c528dbd8bac5b315ad35,10,7,1,1,16520,Borne Mace,bmace,"Updated genpwd to work with python35

Due to the changes in hmac.new and how binary strings
are dumped in yaml.safe_dump some changes were needed to
make sure that we dumped only strings, not binary strings.

Change-Id: Ic2fbcf2347023c1e9e666203dfe40dbeaf24ce5f
"
openstack%2Ftripleo-ha-utils~master~I426387486b832314882a3094966e4f2806218331,openstack/tripleo-ha-utils,master,fix_last_old_repo_references,I426387486b832314882a3094966e4f2806218331,Fix the last old repository references,MERGED,2018-05-23 15:08:38.000000000,2018-05-23 16:55:46.000000000,2018-05-23 16:55:46.000000000,24,24,1,570210,20507623d0771c9e9750063ce7c40ee7ff02eee5,10,3,2,5,20936,Raoul Scarazzini,rasca,"Fix the last old repository references

This patch fixes the latest references that are around and refer to the
old repository name (tripleo-quickstart-utils), changing it into the new
tripleo-ha-utils.

Change-Id: I426387486b832314882a3094966e4f2806218331
"
openstack%2Fironic~master~I5539aa0406dbfbde25bc9aa91d5c1e615875e50e,openstack/ironic,master,story/1596107,I5539aa0406dbfbde25bc9aa91d5c1e615875e50e,Power fault recovery: db and rpc implementation,MERGED,2018-03-23 09:07:11.000000000,2018-05-23 16:28:48.000000000,2018-05-23 11:03:37.000000000,142,9,58,555708,6b44f269c10c9e9e77d0242a70ac80a30f5ee2f6,129,14,15,11,24828,Kaifeng Wang,wangkf,"Power fault recovery: db and rpc implementation

This adds a fault field to the node table of database, and necessary rpc
object change and version bumping.

Story: #1596107
Task: #10469

Change-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e
"
openstack%2Fmetalsmith~master~I0324644bbf3f2251c99b19fd269455398ba8b4a4,openstack/metalsmith,master,tox.ini,I0324644bbf3f2251c99b19fd269455398ba8b4a4,Pass OS_CLOUD and OS_CACERT to environments,MERGED,2018-05-23 15:44:10.000000000,2018-05-23 16:02:37.000000000,2018-05-23 16:02:36.000000000,4,3,0,570221,53e84255f1b3fe9c92f6fa60c33efa8790a510e4,6,2,1,1,10239,Dmitry Tantsur,dtantsur,"Pass OS_CLOUD and OS_CACERT to environments

Also limit this exceptions to the 'venv' environment only.

Change-Id: I0324644bbf3f2251c99b19fd269455398ba8b4a4
"
openstack%2Fmetalsmith~master~Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200,openstack/metalsmith,master,partition-centos,Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200,CI: completely switch to CentOS images for testing,MERGED,2018-05-21 11:48:40.000000000,2018-05-23 15:57:13.000000000,2018-05-23 15:57:13.000000000,117,49,0,569782,9d14cc808c9afacbebc219c77a05e2f2b2220f00,27,2,11,3,10239,Dmitry Tantsur,dtantsur,"CI: completely switch to CentOS images for testing

This involves unpacking the downloaded qcow2 to extract kernel/ramdisk.
The job timeout is increased since we're working with a bigger image.

Change-Id: Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200
"
openstack%2Fnova~master~Ibfc70ded7451ecbb07f72c471ee82205612008a8,openstack/nova,master,bug/1463856,Ibfc70ded7451ecbb07f72c471ee82205612008a8,fix admin context scenarios for cinderclient,ABANDONED,2016-10-11 02:44:03.000000000,2018-05-23 15:48:31.000000000,,52,5,11,384799,7dd9b580942d0dd6c1c021a0812b2c67096a0d3b,152,27,8,4,20217,Anusha Unnam,aunnam,"fix admin context scenarios for cinderclient

When cinderclient got an admin context without token passed in,
the client don't really have the ability to communicate with cinder
service. This is because there is no auth_token and service_catalog
info in this admin context. Periodic tasks like reclaiming soft-deleted
instances uses such admin context. In such case, nova was
unable to detach the volumes attached to soft-deleted instances.

This patch allows to add keystone auth options in the cinder section of
nova.conf, so that nova will load admin auth plugin from the auth options
and use it to communicate with cinder.

closes-bug: #1463856

Change-Id: Ibfc70ded7451ecbb07f72c471ee82205612008a8
"
openstack%2Fpuppet-nova~master~Ife0e92aad7eaf31817e509e9253c52dd2fb1f16b,openstack/puppet-nova,master,cpu_weigher,Ife0e92aad7eaf31817e509e9253c52dd2fb1f16b,Expost cpu_weight_mulitiplier config parameter,MERGED,2018-05-23 05:25:32.000000000,2018-05-23 15:39:40.000000000,2018-05-23 15:39:40.000000000,16,0,0,570115,c0569b53a7e0bc4e127e1689b1ce911d87c09089,13,8,2,3,20733,Rajesh Tailor,rajesht,"Expost cpu_weight_mulitiplier config parameter

Add support for configuring the 'cpu_weight_multiplier'
scheduler filter option to provide resource stack/spread
policy for CPU.

NOTE: The related nova changes are done in change:
I90ee8a2081c2a0465441a8d81d161f4887b4e1fb

Change-Id: Ife0e92aad7eaf31817e509e9253c52dd2fb1f16b
"
openstack%2Fnetworking-bgpvpn~master~I9dc5ddf64a968ce433f9dd05b135f4263a12b8a0,openstack/networking-bgpvpn,master,bug/1761691,I9dc5ddf64a968ce433f9dd05b135f4263a12b8a0,use new neutronclient (more),MERGED,2018-05-23 00:37:14.000000000,2018-05-23 15:22:31.000000000,2018-05-23 15:22:31.000000000,3,3,0,570084,3b503219acc2a25177c35886bbea7899efe68a7c,8,3,2,2,12021,Thomas Morin,tmorin,"use new neutronclient (more)

This is a follow-up on I7d399466f6577e4dd55b1a0fa5a92aab15e6eebb,
which missed a few places were the old method names were still
used.

Change-Id: I9dc5ddf64a968ce433f9dd05b135f4263a12b8a0
Partial-Bug: 1761691
"
openstack%2Ftripleo-ci~master~I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175,openstack/tripleo-ci,master,sprint13,I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175,Add ability to use a different release per playbook,MERGED,2018-05-07 12:42:05.000000000,2018-05-23 15:11:51.000000000,2018-05-23 15:11:51.000000000,51,7,7,566565,48e2b054e7d573eda16e5bd4c8adbe3e47f21071,63,11,15,2,12715,John Trowbridge,trown,"Add ability to use a different release per playbook

We are changing the way we are passing releases to the playbooks.
This change adds the ability to use the new release handling script. It
enables it only for 4 jobs. Two should be moved to the new way of
handling releases, two are there to test the backwards compatibility
offered by the script.
If the script is uses and produces an output, the new method will be
activated, by filling a dictionary with playbook as key and release as
value.
If there is no output from the script, the dictionary will be empty and
the default QUICKSTART_RELEASE file will be used instead.

Co-Authored-By: Gabriele Cerami <gcerami@redhat.com>
Co-Authored-By: Ronelle Landy <rlandy@redhat.com>
Change-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175
"
openstack%2Ftripleo-heat-templates~master~If7a4c6f3581bed270f478b98b8da8fe010acbbc1,openstack/tripleo-heat-templates,master,bug/1772071,If7a4c6f3581bed270f478b98b8da8fe010acbbc1,Fix known hosts config script value,MERGED,2018-05-22 19:23:19.000000000,2018-05-23 15:11:50.000000000,2018-05-23 15:11:50.000000000,1,1,0,570029,75d860500510a60226fee549f73090fc8d1550f3,10,5,1,1,14985,Alex Schultz,mwhahaha,"Fix known hosts config script value

There was an extra | that was missed. It's not tested in Master but is
in <= Queens.

Change-Id: If7a4c6f3581bed270f478b98b8da8fe010acbbc1
Closes-Bug: #1772071
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~I6219178673b842014b3d6d34e71b588a1e343c35,openstack/tripleo-upgrade,stable/queens,ceph_set_max_pg_per_osd-stable/queens,I6219178673b842014b3d6d34e71b588a1e343c35,Set mon_max_pg_per_osd to 300 during ceph upgrade,MERGED,2018-05-22 13:30:42.000000000,2018-05-23 15:11:49.000000000,2018-05-23 15:11:48.000000000,2,0,0,569981,a9fe04b907eade537184e520a1cc5ed888b5ee2a,7,3,1,1,18851,Marius Cornea,mcornea,"Set mon_max_pg_per_osd to 300 during ceph upgrade

Ceph Release 12.2.1 lowers the maximum number of PGs allowed for
each OSD. The lower limit may cause the monitor to prematurely
issue a HEALTH_WARN message. This change sets mon_max_pg_per_osd
to 300 to match the pre-upgrade value.

Change-Id: I6219178673b842014b3d6d34e71b588a1e343c35
(cherry picked from commit 6b3ff54fda2b1513c18ec2b210a9305a6e3fc1b8)
"
openstack%2Ftripleo-common~master~Ib0ac8847a47a42e7e0d73b699236df3355f58dcd,openstack/tripleo-common,master,bug/1772492,Ib0ac8847a47a42e7e0d73b699236df3355f58dcd,Update heat api healtchecks,MERGED,2018-05-21 20:01:50.000000000,2018-05-23 15:11:49.000000000,2018-05-23 15:11:49.000000000,2,2,0,569852,db47c12099414836227d13d609af3f4a5556c4df,14,7,1,2,14985,Alex Schultz,mwhahaha,"Update heat api healtchecks

The heat-api and heat-api-cfn containers need to check for 401 which is
what the api will return when it is up. There is not currently a
specific healthcheck url for heat that would return 200 so we need to
update the container healthcheck to look for the 401.

Change-Id: Ib0ac8847a47a42e7e0d73b699236df3355f58dcd
Closes-Bug: #1772492
"
openstack%2Ftripleo-quickstart-extras~master~If3a3a3b2e4a6d1cf6cd57c3b382a7a08fac0e971,openstack/tripleo-quickstart-extras,master,upgrade/cleanup,If3a3a3b2e4a6d1cf6cd57c3b382a7a08fac0e971,Support upgrade_cleanup param in undercloud.conf,MERGED,2018-05-22 00:47:12.000000000,2018-05-23 15:01:20.000000000,2018-05-23 15:01:19.000000000,9,1,0,569898,5ea5988213ba5db65523fc31abba7bd4a3e3bfcd,18,6,1,2,3153,Emilien Macchi,emilienm,"Support upgrade_cleanup param in undercloud.conf

This param is useful if we want to cleanup the undercloud after its
containerization during the upgrade process from Queens to Rocky.

Set to true, it'll removes the rpms deployed on the undercloud that are
not needed anymore since we containerized the services.

Change-Id: If3a3a3b2e4a6d1cf6cd57c3b382a7a08fac0e971
"
openstack%2Fironic~master~I0b52961423daf01148915d33a62019d18a198f9c,openstack/ironic,master,2002089/19760/glance-props,I0b52961423daf01148915d33a62019d18a198f9c,[WIP] Glance failure for non-public images,ABANDONED,2018-05-23 12:14:41.000000000,2018-05-23 14:50:37.000000000,,9,1,0,570174,e32f55b3958de094f723e8c4bb2c8e7ac37f70d5,5,3,1,1,10239,Dmitry Tantsur,dtantsur,"[WIP] Glance failure for non-public images

Change-Id: I0b52961423daf01148915d33a62019d18a198f9c
"
openstack%2Fpuppet-glance~master~I43050e5c364b7d526e6b19a3529128d17045080a,openstack/puppet-glance,master,,I43050e5c364b7d526e6b19a3529128d17045080a,Fix auth_uri introduced bug,MERGED,2018-05-21 22:18:13.000000000,2018-05-23 14:41:27.000000000,2018-05-23 14:41:27.000000000,2,1,0,569873,9d20663364f13de1482623631b20c9d3670ddeab,17,4,2,1,16137,Tobias Urdin,tobasco,"Fix auth_uri introduced bug

We should pick() the value here otherwise
we are not backward compatible even though
auth_uri is only deprecated.

Change-Id: I43050e5c364b7d526e6b19a3529128d17045080a
"
openstack%2Fopenstack-ansible-os_ceilometer~master~I92ce0433f7b66446263d700048b256b8bfa5aa64,openstack/openstack-ansible-os_ceilometer,master,add-centos-suse-voting,I92ce0433f7b66446263d700048b256b8bfa5aa64,zuul: Make openSUSE and CentOS voting jobs,MERGED,2018-05-18 07:54:12.000000000,2018-05-23 14:35:54.000000000,2018-05-23 14:35:53.000000000,4,2,0,569354,e0c8fc6bec303c400b60cd2b66fa76b7e64b4317,9,14,2,1,23163,Markos Chandras (hwoarang),mchandras,"zuul: Make openSUSE and CentOS voting jobs

Change-Id: I92ce0433f7b66446263d700048b256b8bfa5aa64
"
openstack%2Fneutron-lib~master~Id8272ecfac41670693482f11d6bcb6ad211b993f,openstack/neutron-lib,master,dhcp_ib,Id8272ecfac41670693482f11d6bcb6ad211b993f,Add DHCP_OPT_CLIENT_ID_NUM,MERGED,2018-05-10 12:51:54.000000000,2018-05-23 14:27:00.000000000,2018-05-23 14:27:00.000000000,10,0,5,567582,a948801e2ca4bf2d6fdeafa94fe65e60ec0d4f77,21,5,6,2,22948,Hamdy Khader,hamdyk,"Add DHCP_OPT_CLIENT_ID_NUM

For Infiniband support, Ironic needs to send the 'client-id' DHCP option
as a number in order for IP address assignment to work.
This is now supported in Neutron, and can be specified as option number
61 as defined in RFC 4776.

Partial-Bug: #1770932
Change-Id: Id8272ecfac41670693482f11d6bcb6ad211b993f
"
openstack%2Fswift~master~I419de59df3317d67c594fe768f5696de24148280,openstack/swift,master,567940,I419de59df3317d67c594fe768f5696de24148280,Make the decision between primary/handoff sets more obvious,MERGED,2018-05-11 20:25:26.000000000,2018-05-23 14:16:24.000000000,2018-05-23 14:16:24.000000000,2,4,0,567940,8c386fff40a1605c7304b8998adcd1a65263a672,10,2,3,1,15343,Tim Burke,tburke,"Make the decision between primary/handoff sets more obvious

Change-Id: I419de59df3317d67c594fe768f5696de24148280
"
openstack%2Fheat~master~I0ec20f17d56a83c22654f91d59d2d0e28e313269,openstack/heat,master,neutron_net_scheduler_hints,I0ec20f17d56a83c22654f91d59d2d0e28e313269,Support neutron scheduler hints,ABANDONED,2017-09-29 11:46:30.000000000,2018-05-23 14:09:02.000000000,,10,3,3,508499,5a3faee26353caa0967559cf6d2bef7a736c5017,6,5,1,1,167,Christian Berendt,berendt,"Support neutron scheduler hints

Change-Id: I0ec20f17d56a83c22654f91d59d2d0e28e313269
"
openstack%2Fdevstack~stable%2Fnewton~Ic7d0c04d7fa77774ab2d70fb9d11f182becec553,openstack/devstack,stable/newton,bug/1764046-stable/ocata-stable/newton,Ic7d0c04d7fa77774ab2d70fb9d11f182becec553,Properly get pip version,ABANDONED,2018-04-19 14:24:41.000000000,2018-05-23 14:07:12.000000000,,1,1,0,562610,9fc7d0b81c8876a236ead1789a7ff8d7f2d7c714,10,7,1,1,6873,Matt Riedemann,mriedem,"Properly get pip version

The old code was strip()ing the version string instead of split()ing the
version string so we always got the first character of the version
string. This worked fine as long as the pip version was single digit but
as soon as it rolls over to '10.stuff' we will compare:

  pip version 1 (instead of 10) > 6

Which fails bceause 1 is less than six. Instaed we really do want to
compare 10 > 6 so use split on '.' instead.

Closes-Bug: #1764046
Change-Id: Ic7d0c04d7fa77774ab2d70fb9d11f182becec553
(cherry picked from commit 065779517f9c99a80fbc39d51784c614e4ee341c)
(cherry picked from commit b376719fc0b1ce225a564c0d32091b53db408f6d)
"
openstack%2Fnova~master~I2c754a0cef55d0e0e2cbaa3ed175c35b110daf09,openstack/nova,master,cells-docs,I2c754a0cef55d0e0e2cbaa3ed175c35b110daf09,Re-arrange cells docs for modern deployments,ABANDONED,2018-01-31 20:37:57.000000000,2018-05-23 14:04:17.000000000,,444,437,3,539674,cc8ebf7bbee5de754ba591591a68d92f60487fe5,9,6,2,1,6873,Matt Riedemann,mriedem,"Re-arrange cells docs for modern deployments

The cells docs were originally written in kilo when cells v2
was a proposal but far from reality.

Cells v2 is required since ocata and cells v1 was deprecated
in pike. Existing deployments are now upgrading to ocata+
and primarily looking for information on what they need to
do for the cells v2 setup, and less about historical information.

Therefore, this change re-arranges the cells doc to make the
cells v2 setup come first in the document, and moves the cells v2
manifesto and cells v1 information to the bottom of the page as
background reading.

Change-Id: I2c754a0cef55d0e0e2cbaa3ed175c35b110daf09
"
openstack%2Fnova~master~I946face2547f2e767a688ae8742eb79356d07588,openstack/nova,master,bug/1454515,I946face2547f2e767a688ae8742eb79356d07588,Closes-Bug: #1454515,ABANDONED,2017-07-29 09:12:03.000000000,2018-05-23 14:03:51.000000000,,1,14,0,488941,b6855f4b067fb9303bac2a0fbb7dcbb75f1c73d3,29,12,2,8,18834,khushbu parakh,khushbu.parakh,"Closes-Bug: #1454515

Change-Id: I946face2547f2e767a688ae8742eb79356d07588
"
openstack%2Fmistral~master~I3eb094c24bc5309d05bf859c0b4d43487d50f1df,openstack/mistral,master,bug/1771518,I3eb094c24bc5309d05bf859c0b4d43487d50f1df,"Add ""fields"" argument to DB API methods",MERGED,2018-05-17 07:57:57.000000000,2018-05-23 13:53:36.000000000,2018-05-23 13:53:36.000000000,168,97,0,569049,eadce20f479b1f385dc2ab0f54858a40208cb408,20,6,2,3,8731,Renat Akhmerov,rakhmerov,"Add ""fields"" argument to DB API methods

* Added the ""fields"" argument to all ""get"" and ""load"" DB API
  methods where we potentially need partial loading
* Removed an unused method
* Refactored some methods taking ""namespace"" as an argument

Closes-Bug: #1771518
Change-Id: I3eb094c24bc5309d05bf859c0b4d43487d50f1df
"
openstack%2Ftripleo-heat-templates~master~I461c6d5be40f406e6fa7cfed3836a928abcdf67e,openstack/tripleo-heat-templates,master,bug/1772039,I461c6d5be40f406e6fa7cfed3836a928abcdf67e,Use RabbitMQ in scenario000 -- upgrade to oslo.messaging doesn't work yet,ABANDONED,2018-05-22 15:02:15.000000000,2018-05-23 13:49:46.000000000,,8,4,0,569995,13425202e2813315a41dacbd7f873f2b492d703d,5,3,1,1,8042,Jiří Stránský,jistr,"Use RabbitMQ in scenario000 -- upgrade to oslo.messaging doesn't work yet

This temporarily reverts to using the previous RabbitMQ service in
scenario000, so that we can test upgrades. We'll want to put this back
with a fix to upgrade_tasks that will make RabbitMQ -> oslo.messaging
upgrade work.

Change-Id: I461c6d5be40f406e6fa7cfed3836a928abcdf67e
Closes-Bug: #1772039
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c,openstack/tripleo-heat-templates,stable/queens,ceph_osd_cleanup,I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c,Remove ceph-osd from the list of packages updated by CephExternal,MERGED,2018-05-08 11:25:36.000000000,2018-05-23 13:27:38.000000000,2018-05-22 13:46:45.000000000,0,1,2,566858,f24523a0bc952ad1464a70e50a42ea257adaeacb,71,6,4,1,6796,Giulio Fidente,gfidente,"Remove ceph-osd from the list of packages updated by CephExternal

During minor updates, puppet is dealing with packages update and
trying to install 'ceph-osd' on the nodes where CephExternal service
is enabled, see [1].

This change is *not* proposed for master (currently tracking Rocky)
because support for puppet-ceph is removed in Rocky, see [2]. Instead
will be backported into Pike, Ocata and Newton.

1. https://bugzilla.redhat.com/show_bug.cgi?id=1572830
2. https://review.openstack.org/#/c/548562/

Change-Id: I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c
"
openstack%2Ftripleo-heat-templates~master~I17b94e8023873f3129a55e69efd751be0674dfcb,openstack/tripleo-heat-templates,master,bp/remove-puppet-ceph,I17b94e8023873f3129a55e69efd751be0674dfcb,Remove support for puppet-ceph,MERGED,2018-02-28 11:06:00.000000000,2018-05-23 13:23:02.000000000,2018-05-21 21:45:17.000000000,9,1250,5,548562,753a3504184d966c63121ca95bc0135afbc83a75,54,13,4,18,6796,Giulio Fidente,gfidente,"Remove support for puppet-ceph

Deployment of a managed Ceph cluster using puppet-ceph
is not supported from the Pike release. From Queens it
is not supported use of puppet-ceph when using an
external Ceph cluster either.

This change removes the old templates necessary to
support deployment of Ceph via puppet-ceph.

Implements: blueprint remove-puppet-ceph
Change-Id: I17b94e8023873f3129a55e69efd751be0674dfcb
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I83e57317e2c56260957be90c66290a41a926835a,openstack/tripleo-heat-templates,stable/queens,bug/1758343-stable/queens,I83e57317e2c56260957be90c66290a41a926835a,Honor {{role.name}}ExtraConfig with deprecated params,MERGED,2018-03-27 13:59:02.000000000,2018-05-23 13:19:24.000000000,2018-03-29 07:35:59.000000000,7,1,0,556862,f2e19a5a0a5229d1d12d4ecd3a7bb82faa4e9bf9,8,3,1,2,7144,James Slagle,slagle,"Honor {{role.name}}ExtraConfig with deprecated params

{{role.name}}ExtraConfig was previously ignored if the role used
deprecated params in roles_data.yaml. This was due to the usage of
server_resource_name in the ExtraConfig resource, where
service_resource_name also defaulted to
deprecated_service_resource_name. So, the new {{role.name}}ExtraConfig
was never actually used.

Change-Id: I83e57317e2c56260957be90c66290a41a926835a
Closes-Bug: #1758343
(cherry picked from commit fa4b3e2a3c634c8f1a18087e508d585a693aa84b)
"
openstack%2Fpython-swiftclient~master~I37d1d50fb88b35e72b017d5dfbf148c35ac7e323,openstack/python-swiftclient,master,,I37d1d50fb88b35e72b017d5dfbf148c35ac7e323,Switch from oslosphinx to openstackdocstheme,MERGED,2018-03-15 15:28:59.000000000,2018-05-23 13:12:33.000000000,2018-05-23 13:12:33.000000000,6,3,0,553433,78b839007294b7c9e7fd0402801775283a4045bc,41,14,13,1,27153,Nguyen Hai,nguyentrihai,"Switch from oslosphinx to openstackdocstheme

openstackdocstheme is a theme and extension support for
Sphinx documentation that is published to docs.openstack.org
and developer.openstack.org.

Change-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323
"
openstack%2Fpuppet-openstack-integration~master~Ia51035d644340de111e1274cbf890258f0116c83,openstack/puppet-openstack-integration,master,debian-placement-on-apache,Ia51035d644340de111e1274cbf890258f0116c83,Switch placement to apache for Debian + SSL,ABANDONED,2018-05-18 14:34:58.000000000,2018-05-23 12:52:19.000000000,,11,4,0,569432,064119a3f61f0a47756c4c3d8d23535010ea4697,3,1,1,1,6476,Thomas Goirand,thomas-goirand,"Switch placement to apache for Debian + SSL

It looks like the uwsgi setup doesn't work when activating SSL. So we're
switching to Apache mod_wsgi in such case.

Depends-On: I0fd721e4f409987b903e370a7b1fbee7e4b03022
Change-Id: Ia51035d644340de111e1274cbf890258f0116c83
"
openstack%2Fpuppet-nova~master~I0fd721e4f409987b903e370a7b1fbee7e4b03022,openstack/puppet-nova,master,debian-disable-placement-api,I0fd721e4f409987b903e370a7b1fbee7e4b03022,Deb: shutdown placement-api if using httpd,ABANDONED,2018-05-18 14:24:22.000000000,2018-05-23 12:51:46.000000000,,7,0,0,569426,e4aa267a4af380aca6cfbe366a8247c34d72bce3,4,1,2,1,6476,Thomas Goirand,thomas-goirand,"Deb: shutdown placement-api if using httpd

Looks like nova-placement-api on uwsgi doesn't work over SSL, or it would
be too hard to setup. So, let's first disable nova-placement-api if we're
using httpd. Later patch will be on p-o-i to switch to Apache.

Needed-By: Ia51035d644340de111e1274cbf890258f0116c83
Change-Id: I0fd721e4f409987b903e370a7b1fbee7e4b03022
"
openstack%2Fopenstack-ansible~master~I1b95c70fa77840d3defdde92f6723b066ef737d0,openstack/openstack-ansible,master,external-rgw,I1b95c70fa77840d3defdde92f6723b066ef737d0,Move radosgw keystone config tasks to their own playbook,MERGED,2018-05-02 11:09:19.000000000,2018-05-23 12:40:18.000000000,2018-05-23 12:40:18.000000000,156,142,0,565701,79f745ca099462a46ad697b9fec9ebf7c8cf340e,26,6,5,5,25023,Jonathan Rosser,jrosser,"Move radosgw keystone config tasks to their own playbook

This is a precursor to integrating externally provisioned radosgw
instances which require keystone config but not deployment via OSA.

Change-Id: I1b95c70fa77840d3defdde92f6723b066ef737d0
"
openstack%2Fswift~master~I751f1086d885c18d938f18e8afe1dd0e9c0c57e5,openstack/swift,master,567940,I751f1086d885c18d938f18e8afe1dd0e9c0c57e5,Use maybe_get more,MERGED,2018-05-22 22:04:45.000000000,2018-05-23 12:28:27.000000000,2018-05-23 12:28:27.000000000,2,5,0,570068,6714af804270ee33479fb0caa185a5c5eeec4479,7,3,1,2,1179,Clay Gerrard,clay-gerrard,"Use maybe_get more

Some suggestions in the review of the related change:

 * use maybe_get in another obvious place
 * make maybe_gets test assertions stronger

Related-Change-Id: Ifd54d76ab1a5a9d82848f3cae89c3e53134aa129

Change-Id: I751f1086d885c18d938f18e8afe1dd0e9c0c57e5
"
openstack%2Fironic~stable%2Fqueens~Iac0639f2884d95afd2d55b521268139ea0ca05f6,openstack/ironic,stable/queens,xclarity-secret-password-queens,Iac0639f2884d95afd2d55b521268139ea0ca05f6,Mark xclarity password as secret,MERGED,2018-05-10 16:25:15.000000000,2018-05-23 12:28:24.000000000,2018-05-23 12:28:24.000000000,6,0,0,567639,f7e23802cd82f4750848bc4c0d04cf4ec2e1cdf5,25,9,3,2,11655,Julia Kreger,jkreger,"Mark xclarity password as secret

so it is masked during logging.

Conflicts:
       ironic/conf/xclarity.py

Change-Id: Iac0639f2884d95afd2d55b521268139ea0ca05f6
Story: #2002023
Task: #19664
(cherry picked from commit 2d46f483759a77c78f317a331e34a0b768e661f8)
"
openstack%2Fcharm-percona-cluster~master~I7d82e8bea2e75da6159b5baf2e88f2bd44ce84b3,openstack/charm-percona-cluster,master,configure-pxc-strict-mode,I7d82e8bea2e75da6159b5baf2e88f2bd44ce84b3,Make pxc-strict-mode configurable via charm,MERGED,2018-04-30 17:02:00.000000000,2018-05-23 12:26:17.000000000,2018-05-23 12:26:17.000000000,11,1,2,565258,4ca460d56b025b541ad6ee41baf10852ed48aed0,22,7,2,2,11237,Mario Splivalo,mariosplivalo,"Make pxc-strict-mode configurable via charm

PXC5.7, which is default one on bionic, introduces the new config
option, pxc_stric_mode, which is set to 'enforcing' by default.

This, however, prevents installing older versions of Openstack
with PXC5.7 on bionic (use case is, of course, testing).

This change makes pxc-strict-mode configurable via the charm, and
it defaults it to 'enforcing', but user can change it at hers or
his desire.

This option is going to be ignored on PXC installed on series less
than bionic.

Change-Id: I7d82e8bea2e75da6159b5baf2e88f2bd44ce84b3
"
openstack%2Fcharm-nova-compute~master~Ib34b2d7c3da5aacd117b19249be41bb95b91dfcd,openstack/charm-nova-compute,master,bug/1734360,Ib34b2d7c3da5aacd117b19249be41bb95b91dfcd,Add action to retrieve hugepage config,MERGED,2017-08-29 18:56:32.000000000,2018-05-23 12:25:39.000000000,2018-05-23 12:25:39.000000000,124,1,6,498912,bd9e853604eed9d46dfffbb9a7563a506bcb6a10,28,7,4,5,15382,Peter Sabaini,peter-sabaini,"Add action to retrieve hugepage config

Return current hugepage usage and kernel cmdline
for static hugepage allocation

Change-Id: Ib34b2d7c3da5aacd117b19249be41bb95b91dfcd
Closes-Bug: #1734360
"
openstack%2Fopenstack-ansible-os_neutron~master~I6fa28dcdb251da4592e10b288d15a208e83b097d,openstack/openstack-ansible-os_neutron,master,octavia_variable,I6fa28dcdb251da4592e10b288d15a208e83b097d,Use octavia_service_internaluri instead of url,MERGED,2018-03-02 15:46:23.000000000,2018-05-23 12:01:51.000000000,2018-05-23 12:01:51.000000000,1,1,2,549267,b479bd757be1960091f98cba42959815555ff1e2,17,4,2,1,26405,Albert Mikaelyan,Tahvok,"Use octavia_service_internaluri instead of url

We were setting octavia v1 url in group_vars, but this url is the same
as octavia v2 internal uri. So no need to create an additional variable
for that, and instead we'll use the available uri variable.

Change-Id: I6fa28dcdb251da4592e10b288d15a208e83b097d
"
openstack%2Fswift~master~Ifd54d76ab1a5a9d82848f3cae89c3e53134aa129,openstack/swift,master,567940,Ifd54d76ab1a5a9d82848f3cae89c3e53134aa129,Add a helper context for optional connection args,MERGED,2018-05-22 21:17:40.000000000,2018-05-23 12:01:33.000000000,2018-05-23 12:01:33.000000000,29,5,5,570058,2e321d94ed59c8068595b597f8de1c8fc9a2c0a3,8,4,1,3,1179,Clay Gerrard,clay-gerrard,"Add a helper context for optional connection args

We refactor a bunch of methods to support re-using an open connection
when available.  There's some code in the connection manager to support
nesting connections to avoid deadlocks when we call a method that can
open a connection while we already have a connection checked out - but
it might be better in the long run if we just got better at passing open
connections around whenever possible.

Add a helper method on the base db broker class to make it easier to
write methods that can optionally take an existing connection.

Change-Id: Ifd54d76ab1a5a9d82848f3cae89c3e53134aa129
"
openstack%2Fmonasca-agent~master~I098a85d2231370ad599d7a9d1ef7b97d4d6ceda4,openstack/monasca-agent,master,trivial-fix,I098a85d2231370ad599d7a9d1ef7b97d4d6ceda4,fix misspelling of 'monasca',MERGED,2018-05-21 06:00:02.000000000,2018-05-23 12:00:43.000000000,2018-05-23 12:00:42.000000000,1,1,0,569705,38436b0b6d8331621e7b95258ee82a5ea062c472,8,4,1,1,17130,melissaml,malei,"fix misspelling of 'monasca'

Change-Id: I098a85d2231370ad599d7a9d1ef7b97d4d6ceda4
"
openstack%2Ftripleo-heat-templates~stable%2Fnewton~I77250ca84c9da2fb5a8381e6f60234f8a05cbf12,openstack/tripleo-heat-templates,stable/newton,bug/1687993-stable/newton,I77250ca84c9da2fb5a8381e6f60234f8a05cbf12,Modify vhost user socket directory's default value in environment file,MERGED,2018-04-16 12:30:52.000000000,2018-05-23 12:00:42.000000000,2018-05-23 12:00:41.000000000,7,1,0,561602,37f8be3d55feb9f1db7b8cdc06b325e51d20fc0a,9,4,1,2,18575,Saravanan KR,saravanankr,"Modify vhost user socket directory's default value in environment file

From ocata, the vhost socket directory requires a different set of
permissions from the default directory (/var/run/openvswitch). Modifying
the directory to a new agreed directory which will be created in puppet.
Closes-Bug: #1687993
Depends-On: I255f98c40869e7508ed01a03a96294284ecdc6a8

Change-Id: I77250ca84c9da2fb5a8381e6f60234f8a05cbf12
(cherry picked from commit 553b95da5131edffe27a8ceca9cd9766c4dca406)
"
openstack%2Fansible-role-container-registry~master~I8fe347cd34af1cf158563ce1344d00c6e2df9f66,openstack/ansible-role-container-registry,master,all-relative,I8fe347cd34af1cf158563ce1344d00c6e2df9f66,Use relative paths for data_files,MERGED,2018-05-23 01:30:54.000000000,2018-05-23 12:00:40.000000000,2018-05-23 12:00:40.000000000,8,8,1,570088,10340cbd9ee109c31c94ac87dec1747203d6fd83,7,3,1,1,4571,Steve Baker,steve-stevebaker,"Use relative paths for data_files

pip install doesn't work with absolute paths

Change-Id: I8fe347cd34af1cf158563ce1344d00c6e2df9f66
"
openstack%2Ftripleo-heat-templates~master~I2f5bc355d3c952e2daf9ec7442850e24bed275e1,openstack/tripleo-heat-templates,master,cleanup/updates,I2f5bc355d3c952e2daf9ec7442850e24bed275e1,docker: cleanup update tasks,MERGED,2018-05-15 22:58:31.000000000,2018-05-23 12:00:39.000000000,2018-05-23 12:00:38.000000000,5,23,1,568715,6d10c0516b447d2b75dbe184c4097d931e0f0e6f,37,6,8,1,3153,Emilien Macchi,emilienm,"docker: cleanup update tasks

Update tasks moved to the Ansible role itself, we don't need them in
THT. Let's do some cleanup.

Change-Id: I2f5bc355d3c952e2daf9ec7442850e24bed275e1
"
openstack%2Fdevstack~master~I8e7c8407e83a2327fb4d30a7886f6edf6b432406,openstack/devstack,master,,I8e7c8407e83a2327fb4d30a7886f6edf6b432406,Configure ml2 type drivers,ABANDONED,2018-05-22 18:30:48.000000000,2018-05-23 11:39:30.000000000,,1,0,0,570021,cd4428715daccb60ebcadde9fc7bb18552d61fec,9,6,2,1,8873,Assaf Muller,amuller,"Configure ml2 type drivers

On my local fresh devstack, devstack was not configuring
ml2 type drivers, resulting in a failed stack as Neutron
could not create tenant networks.

Change-Id: I8e7c8407e83a2327fb4d30a7886f6edf6b432406
"
openstack%2Fopenstack-ansible-tests~master~If5175f38eecc34e557d768495a3b60bfae90aefd,openstack/openstack-ansible-tests,master,,If5175f38eecc34e557d768495a3b60bfae90aefd,Add app_armor_profile setting for Bionic integration,ABANDONED,2018-05-21 11:26:20.000000000,2018-05-23 11:36:19.000000000,,4,0,0,569780,647ac175007364cd520057fc21bae7dab6bd937d,6,1,3,1,2799,Andy McCrae,andrew-mccrae,"Add app_armor_profile setting for Bionic integration

The app_armor_profile setting has changed names in lxc >= 3, which is
the default in 18.04. This is used in testing of the
lxc_container_create role, this PR adds a var that will set the
app_armor_profile_setting_name to the correct setting, so that the
testing will work for both 18.04 and other distros that are using lxc <
3.

Change-Id: If5175f38eecc34e557d768495a3b60bfae90aefd
"
openstack%2Fswift~master~I536a8425f7e9f3dd95eacad783e1b7d7905b2b8d,openstack/swift,master,567940,I536a8425f7e9f3dd95eacad783e1b7d7905b2b8d,Move handling of missing table outside of do_query,MERGED,2018-05-22 20:00:31.000000000,2018-05-23 11:06:15.000000000,2018-05-23 11:06:15.000000000,34,35,2,570036,f68dd3bf10ceae6ea4dae484e5c8ce8a6e27a678,8,4,1,1,15343,Tim Burke,tburke,"Move handling of missing table outside of do_query

This is more consistent with other DB migration code and reduces indent
level in the meat of the query.

Change-Id: I536a8425f7e9f3dd95eacad783e1b7d7905b2b8d
"
openstack%2Ftripleo-quickstart~master~Id734974a6ed19d31766c187f9ef2dc48739e312f,openstack/tripleo-quickstart,master,overcloud-prep-config,Id734974a6ed19d31766c187f9ef2dc48739e312f,Add overcloud-prep-config to the default tags,ABANDONED,2018-05-09 12:01:59.000000000,2018-05-23 10:37:08.000000000,,1,1,0,567202,5173a3c5e2dce98311191a0b82af8e546f462d72,12,6,1,1,10873,Juan Antonio Osorio Robles,ejuaoso,"Add overcloud-prep-config to the default tags

This is done in order to get the default tags to write
network-environment.yaml, which was not being written.

Change-Id: Id734974a6ed19d31766c187f9ef2dc48739e312f
"
openstack%2Ftripleo-ha-utils~master~I6293d7a065f8e531de6218f272a8b08844b3eb42,openstack/tripleo-ha-utils,master,fix_iptables_rules_apply_and_removal_in_iha,I6293d7a065f8e531de6218f272a8b08844b3eb42,Fix the way iptables rules are managed,MERGED,2018-05-22 14:48:50.000000000,2018-05-23 10:27:50.000000000,2018-05-23 10:27:50.000000000,25,5,0,569993,20bbd0f45607a4f5ba6036b2326e2d3153f1ce92,7,3,1,2,20936,Raoul Scarazzini,rasca,"Fix the way iptables rules are managed

Today we use iptables-save to store the configuration related to the
firewall (we enable INPUT traffic for pacemaker remote on all the hosts)
but this method is not reliable since Neutron put and remove rules by
itself, and by using iptables-save we also store them.
This patch treat the single rule in both apply and undo playbooks so
that we don't touch anything that neutron might touch.

Change-Id: I6293d7a065f8e531de6218f272a8b08844b3eb42
"
openstack%2Ftripleo-ha-utils~master~I9ea3746384d4db09abafb156afa056e9eb0c3502,openstack/tripleo-ha-utils,master,,I9ea3746384d4db09abafb156afa056e9eb0c3502,switch to use the upstream utils repo,MERGED,2018-05-23 07:26:38.000000000,2018-05-23 10:27:32.000000000,2018-05-23 10:27:32.000000000,4,4,0,570132,d78e5a9dbbf37d3849866c67ac56f84a275f2d64,6,2,1,1,27978,pini,pkomarov,"switch to use the upstream utils repo

Change-Id: I9ea3746384d4db09abafb156afa056e9eb0c3502
"
openstack%2Fpuppet-openstacklib~master~I1459cf5382cd3090c051b25c884399d5cf37d264,openstack/puppet-openstacklib,master,remove-virtual-package,I1459cf5382cd3090c051b25c884399d5cf37d264,Remove allow_virtual for Package in defaults,MERGED,2018-05-18 11:49:51.000000000,2018-05-23 09:50:21.000000000,2018-05-23 09:50:21.000000000,13,31,0,569396,4ef3b1e8434603e851b035b69191fcd1a04d248b,13,4,1,2,16137,Tobias Urdin,tobasco,"Remove allow_virtual for Package in defaults

We only test and support Puppet 4 and Puppet 5
now and this parameter to the Package resource
defaults to true in these versions making this
unneccesary.

Change-Id: I1459cf5382cd3090c051b25c884399d5cf37d264
"
openstack%2Fkayobe~master~I79afa2e05932e152eda46f91c20fb750234224d2,openstack/kayobe,master,,I79afa2e05932e152eda46f91c20fb750234224d2,Replace Chinese quotes with English quotes,MERGED,2018-05-23 08:49:58.000000000,2018-05-23 09:36:07.000000000,2018-05-23 09:36:07.000000000,2,2,0,570147,f231baee77681e7d01081e58c2e96c9e5c1daf68,6,2,1,1,25747,Debo Zhang,zhangdebo,"Replace Chinese quotes with English quotes

Change-Id: I79afa2e05932e152eda46f91c20fb750234224d2
"
openstack%2Fwatcher~master~I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8,openstack/watcher,master,bp/cluster-maintaining,I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8,add strategy host_maintenance,MERGED,2017-06-30 07:44:35.000000000,2018-05-23 09:18:24.000000000,2018-05-23 09:18:24.000000000,586,1,18,479200,58276ec79e856cd11d45baaa3548b9bf0db015d7,60,11,14,7,24501,sue,suzhengwei,"add strategy host_maintenance

maintain one compute node without having the user's application
been interruptted.
It will firstly migrate all instances from the maintenance node
to one backup node. If not, it will migrate all instances,
relying on nova-schduler.

Change-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8
Implements:blueprint cluster-maintaining
"
openstack%2Fmonasca-api~master~Iaa276512693e5652ace8de3539de0ecd62a69783,openstack/monasca-api,master,aliases,Iaa276512693e5652ace8de3539de0ecd62a69783,Replace the usage of some aliases in tempest,ABANDONED,2017-11-09 07:25:07.000000000,2018-05-23 08:54:40.000000000,,5,5,0,518669,518195e8b00196c35509655e5b40f68a61c3a581,7,3,1,2,26151,Wei Zheng,zhengwei6082,"Replace the usage of some aliases in tempest

In tempest, following aliases have been moved in version Pike
and will be removed in version Queens:ad
* manager > os_primary [1]
* admin_manager > os_admin [2]
* os_adm > os_admin [3]
* os > os_primary [4]
* alt_manager > os_alt [5]

[1] https://review.openstack.org/#/c/468036/
[2] https://review.openstack.org/#/c/467852/
[3] https://review.openstack.org/#/c/467605/
[4] https://review.openstack.org/#/c/466991/
[5] https://review.openstack.org/#/c/457555/

Change-Id: Iaa276512693e5652ace8de3539de0ecd62a69783
"
openstack%2Fwatcher~master~I5fcb3ec765603b3af7ebe6f7f0e9860aa07e0837,openstack/watcher,master,updata-pypi-url,I5fcb3ec765603b3af7ebe6f7f0e9860aa07e0837,Trivial:Update pypi url to new url,ABANDONED,2018-05-21 06:45:43.000000000,2018-05-23 08:45:49.000000000,,4,4,0,569724,c8bf454650eb66f851be0d4edc92426b8bace8df,6,2,2,2,26151,Wei Zheng,zhengwei6082,"Trivial:Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I5fcb3ec765603b3af7ebe6f7f0e9860aa07e0837
"
openstack%2Fwatcher-specs~master~I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c,openstack/watcher-specs,master,bp/watcher-planner-selector,I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c,Watcher Planner Selector,MERGED,2018-04-03 19:54:22.000000000,2018-05-23 08:28:46.000000000,2018-05-23 08:28:46.000000000,218,0,22,558614,bff4227aedce15a441737edd90f3c9628028fe50,39,8,8,1,27947,Egor Panfilov,erakli,"Watcher Planner Selector

This component is responsible for selecting an appropriate Planner based
on config options passed by user for distinct Strategy.

Change-Id: I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c
Implements: bp watcher-planner-selector
"
openstack%2Fkolla-ansible~master~I84b54ba737276114e512d4577ac4b9010682bb98,openstack/kolla-ansible,master,bug/1769970,I84b54ba737276114e512d4577ac4b9010682bb98,horizon: allow to configure by custom_local_settings.j2,MERGED,2018-03-08 12:08:52.000000000,2018-05-23 08:16:26.000000000,2018-05-23 08:16:26.000000000,65,0,11,550800,d516ad7da2d86ad03374f8244f6738ee65d6f6a4,48,15,8,8,24072,Marcin Juszkiewicz,hrw,"horizon: allow to configure by custom_local_settings.j2

kolla-ansible should provide a mechanism to allow operators to overwrite
the default (or not exposed through configuration) options for the
local_settings.

local_settings.j2 may be good place to configure horizon but requires
operator to sync it every release.

custom_local_settings.j2 can be used to overwrite things from
local_settings.j2 without a need of syncing it first.

This patch also adds a release note and a documentation section
under the advanced configuration page.

Partial-Bug: #1769970
Depends-On: https://review.openstack.org/#/c/567006/
Change-Id: I84b54ba737276114e512d4577ac4b9010682bb98
"
openstack%2Fpython-watcherclient~master~I6d8116b4520be5cbb4289de7caf9cc99251e1f9f,openstack/python-watcherclient,master,bug/1764654,I6d8116b4520be5cbb4289de7caf9cc99251e1f9f,Remove 'actionplan create' command,MERGED,2018-04-19 10:44:37.000000000,2018-05-23 08:16:01.000000000,2018-05-23 08:16:01.000000000,0,92,0,562541,8ef72f18c40bd1994c93546bb93c95f95a1f7711,14,6,2,3,25571,Rajat Sharma,rajat29,"Remove 'actionplan create' command

Actionplan create command can create new
audit which looks ambiguous as audit should only
be created by audit command.

Change-Id: I6d8116b4520be5cbb4289de7caf9cc99251e1f9f
Closes-bug: #1764654
"
openstack%2Fswift~master~I25bdb2020c10f4b3aede6994e9ffc3f05a054c29,openstack/swift,master,,I25bdb2020c10f4b3aede6994e9ffc3f05a054c29,Fix typo,MERGED,2018-05-23 02:34:28.000000000,2018-05-23 08:14:57.000000000,2018-05-23 08:14:57.000000000,1,1,0,570100,3d3393c17ab95e770f11786f0b21856bb3e8b255,7,3,1,1,25747,Debo Zhang,zhangdebo,"Fix typo

Change-Id: I25bdb2020c10f4b3aede6994e9ffc3f05a054c29
"
openstack%2Fpuppet-nova~stable%2Fqueens~I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d,openstack/puppet-nova,stable/queens,bug/1759098-stable/queens,I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d,Deprecate auth_uri option,ABANDONED,2018-05-22 04:23:54.000000000,2018-05-23 07:49:45.000000000,,55,22,0,569920,e1fe48d0502e4f0dced066217bd1c85d28860f36,6,4,1,10,25903,Vu Cong Tuan,tuanvu,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d
Depends-On: I4c82a63baabd6b9304b302c97cd751a0103d8316
Closes-Bug: #1759098
(cherry picked from commit 20d93c4148c3d5082315263e7754267f50cb46bd)
"
openstack%2Fwatcher~master~Ia238564c5c41aaf015d9d2f5839703a035c76fce,openstack/watcher,master,,Ia238564c5c41aaf015d9d2f5839703a035c76fce,Trivial: update url to new url,MERGED,2018-05-13 13:39:56.000000000,2018-05-23 07:46:28.000000000,2018-05-23 07:46:28.000000000,5,5,0,568084,36ad9e12daa4ba507613ace35b0babaa08a77184,10,6,1,2,27336,XiaojueGuan,XiaojueGuan,"Trivial: update url to new url

Change-Id: Ia238564c5c41aaf015d9d2f5839703a035c76fce
"
openstack%2Fcharm-ceph-osd~master~Ib7d1fdc8f91bc992ccf618ef6f57e99bb90c2dbc,openstack/charm-ceph-osd,master,bug/1770740,Ib7d1fdc8f91bc992ccf618ef6f57e99bb90c2dbc,Fix Traceback issue when ceph-osd upgrade fails,MERGED,2018-05-17 10:47:34.000000000,2018-05-23 07:45:57.000000000,2018-05-23 07:45:57.000000000,9,4,0,569085,8b2303e8636186a79b1bdbd845848cd05daea9c7,13,4,1,1,20870,Alex Kavanagh,ajkavanagh,"Fix Traceback issue when ceph-osd upgrade fails

Bug/1770740 surfaced an issue where get_upgrade_position() returns None
but the calling function expects and exception to the thrown if the
""None"" condition exists.  This just fixes the code so that the Traceback
is stopped and the appropriate error/message is logged for the
condition.

Change-Id: Ib7d1fdc8f91bc992ccf618ef6f57e99bb90c2dbc
Partial-Bug: #1770740
"
openstack%2Foctavia~master~I7f694cb21eb0e72bdf95685d9542a50cded7d457,openstack/octavia,master,,I7f694cb21eb0e72bdf95685d9542a50cded7d457,Add pecan middleware for neutron-lbaas compat,ABANDONED,2018-04-17 22:08:12.000000000,2018-05-23 07:44:44.000000000,,106,1,0,562063,16ce4f452481c98a5fa34811dbd6b2bd45b45bbe,22,3,12,8,10273,Adam Harwell,rm_you,"Add pecan middleware for neutron-lbaas compat

Change-Id: I7f694cb21eb0e72bdf95685d9542a50cded7d457
"
openstack%2Fmonasca-notification~stable%2Fqueens~I35eaa298f1153e6b71a5bfe33a894adec6b593a3,openstack/monasca-notification,stable/queens,notificationbug-stable/queens,I35eaa298f1153e6b71a5bfe33a894adec6b593a3,Make statsd self-monitoring optional,MERGED,2018-05-15 07:37:10.000000000,2018-05-23 07:36:07.000000000,2018-05-23 07:36:07.000000000,55,5,0,568486,cd4164a5ea97b1c7e2f026eb5099a7366ffbd95c,6,5,1,2,28062,Martin Chacon Piza,martinchacon,"Make statsd self-monitoring optional

Story: 2001873
Task: 14333

Change-Id: I35eaa298f1153e6b71a5bfe33a894adec6b593a3
(cherry picked from commit cdb2e4398d397a405f7729fea482e07699d23dfc)
"
openstack%2Fkuryr-kubernetes~stable%2Fqueens~Iabca253a86dc89b567a9a68b09cef015c9a482b0,openstack/kuryr-kubernetes,stable/queens,bug/1772005-stable/queens,Iabca253a86dc89b567a9a68b09cef015c9a482b0,Remove admin rights need from verify_keystone_connection,MERGED,2018-05-18 14:33:20.000000000,2018-05-23 07:35:12.000000000,2018-05-23 07:35:12.000000000,1,1,0,569431,19d63cca939268a4af7d4cac610c09cc6315a639,20,6,3,1,23567,Luis Tomas Bolivar,ltomasbo,"Remove admin rights need from verify_keystone_connection

This patch sets changes the call perform to verify keystone
connectivity from project list to region list, as the former
needs admin rights by default. In addion, usually the number of
regions is low, so it should be a non expensive call to keystone.

Closes-Bug: 1772005
Depends-On: Iaff1f569e99a88a8d8ff81aa4e0c4c7bedb94585

Change-Id: Iabca253a86dc89b567a9a68b09cef015c9a482b0
(cherry picked from commit a5926489e553be8faf8802c6ad549367bf0a24cb)
"
openstack%2Fneutron~stable%2Fqueens~I9728354d5f9e08a0dc23900b2bc22b4a0aedb737,openstack/neutron,stable/queens,dhcp_ib-stable/queens,I9728354d5f9e08a0dc23900b2bc22b4a0aedb737,Use Param DHCP_OPT_CLIENT_ID_NUM,MERGED,2018-05-19 14:43:58.000000000,2018-05-23 07:25:15.000000000,2018-05-23 07:25:15.000000000,35,2,0,569573,cf8478e340b89f0f6652a71fdfae21ca8f36f6fc,14,7,1,3,12171,Moshe Levi,moshele,"Use Param DHCP_OPT_CLIENT_ID_NUM

Ironic is sending 'client-id' as a number (61) to meet rfc4776 [1],
due to this change Neutron DHCP should support this option as well.

[1] https://github.com/openstack/ironic/commit/228a2a7885e1b04d4180fe8daa2992884decaf6d

Closes-Bug: #1770932
Change-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737
(cherry picked from commit 59bc19c14a84283adad555dce8536fd7198b82b3)
"
openstack%2Foctavia~master~Ibae8c32d70f80e62331727a37a0e3dc71137cba4,openstack/octavia,master,fix,Ibae8c32d70f80e62331727a37a0e3dc71137cba4,Add release notes link to README,MERGED,2018-05-21 09:03:20.000000000,2018-05-23 07:17:16.000000000,2018-05-23 07:17:16.000000000,3,0,0,569752,00f2bc4942836a283aef23be8b7429fd4b768af9,12,5,3,1,23317,ShangXiao,ShangXiao,"Add release notes link to README

Add release notes url doc link to README.rst.

Change-Id: Ibae8c32d70f80e62331727a37a0e3dc71137cba4
"
openstack%2Fpuppet-neutron~master~I1a1bfaa2619edde8a463cd3a6bc6412738d7f596,openstack/puppet-neutron,master,missing-geneve,I1a1bfaa2619edde8a463cd3a6bc6412738d7f596,Fixes missing 'geneve' network type,MERGED,2018-04-10 07:05:47.000000000,2018-05-23 07:11:57.000000000,2018-04-13 15:56:13.000000000,4,4,1,559929,dd7fd5586c41a8a873ba18426e277b7f36551e9b,17,3,5,3,9414,zhongshengping,ZhongShengping,"Fixes missing 'geneve' network type

The network type drivers were missing 'geneve', which will allow nodes to
attach nova instances to geneve networks.  This should be allowed by
default[1].

[1]https://github.com/openstack/puppet-neutron/blob/master/manifests/plugins/ml2/type_driver.pp#L121

Change-Id: I1a1bfaa2619edde8a463cd3a6bc6412738d7f596
Closes-Bug: #1762667
"
openstack%2Fpuppet-ec2api~master~I5214b3859e74c60cbc82571125ce38718f589545,openstack/puppet-ec2api,master,bug/1761060,I5214b3859e74c60cbc82571125ce38718f589545,Configure metadata_proxy_shared_secret as secret,MERGED,2018-04-04 05:55:56.000000000,2018-05-23 07:09:04.000000000,2018-04-13 19:14:48.000000000,5,2,0,558697,814ae8df60ee842a126c2ecced47c42b0528ad4d,20,5,3,2,9414,zhongshengping,ZhongShengping,"Configure metadata_proxy_shared_secret as secret

Parameter metadata/metadata_proxy_shared_secret should be
configured as a secret.

Change-Id: I5214b3859e74c60cbc82571125ce38718f589545
Closes-Bug: #1761060
"
openstack%2Fvitrage-specs~master~I0e466946273b8df6cc723c99683da818e04f8e07,openstack/vitrage-specs,master,bp/name,I0e466946273b8df6cc723c99683da818e04f8e07,Move datasource-scaffold to rocky/implemented,MERGED,2018-05-17 01:30:38.000000000,2018-05-23 06:20:20.000000000,2018-05-23 06:20:19.000000000,4,4,1,568995,949be77bf7be4baa860b4d0cef752f2d8a503101,11,3,2,1,21414,Yujun Zhang,yujunz,"Move datasource-scaffold to rocky/implemented

Note also blueprint name is changed from datasource skeleton
generator to datasource scaffold

Implements: blueprint datasource-scaffold
Change-Id: I0e466946273b8df6cc723c99683da818e04f8e07
"
openstack%2Fpuppet-swift~master~Ie2d60acac835affaf46a5276c9755640a723bca4,openstack/puppet-swift,master,fix-testing,Ie2d60acac835affaf46a5276c9755640a723bca4,Fix rspec-puppet-facts testing,MERGED,2018-05-16 22:14:42.000000000,2018-05-23 05:56:35.000000000,2018-05-23 05:56:35.000000000,2614,2398,0,568967,e7d670b13a687344e483f5018e4847aa25d1c5db,30,4,12,62,16137,Tobias Urdin,tobasco,"Fix rspec-puppet-facts testing

Moves all spec tests over to using rspec-puppet-facts
and runs the tests for all our supported operating systems.

Change-Id: Ie2d60acac835affaf46a5276c9755640a723bca4
"
openstack%2Fpuppet-glare~master~Id5400ac336f5a49e5c9b8748f928deb56812e075,openstack/puppet-glare,master,,Id5400ac336f5a49e5c9b8748f928deb56812e075,"Fix lint, syntax and structuring",MERGED,2018-05-21 22:00:54.000000000,2018-05-23 05:42:40.000000000,2018-05-23 05:42:40.000000000,37,45,0,569872,12305351286d10fdb58e3cf4983c0e6b5bac9499,7,3,1,1,16137,Tobias Urdin,tobasco,"Fix lint, syntax and structuring

Change-Id: Id5400ac336f5a49e5c9b8748f928deb56812e075
"
openstack%2Fopenstack-helm~master~I46d8e1aad71512b018728c1c08b1368ca62680e0,openstack/openstack-helm,master,fix_armada_gate,I46d8e1aad71512b018728c1c08b1368ca62680e0,Update armada multinode manifest with osh-infra updates,ABANDONED,2018-05-18 13:53:52.000000000,2018-05-23 05:31:27.000000000,,40,6,0,569413,0d22d05c2440a677b3d9c431b7e5545e9cd79832,15,2,9,3,17591,Steve Wilkerson,srwilkers,"Update armada multinode manifest with osh-infra updates

Updates the armada multinode manifest to include recent changes to
the osh-infra charts

Change-Id: I46d8e1aad71512b018728c1c08b1368ca62680e0
"
openstack%2Fhorizon~master~I40c709c7bb0c8538b56624dbfff1faea2eba9ee6,openstack/horizon,master,bug/1772759,I40c709c7bb0c8538b56624dbfff1faea2eba9ee6,Fix mismatched attach_volume rule,MERGED,2018-05-22 22:15:00.000000000,2018-05-23 05:06:43.000000000,2018-05-23 05:06:43.000000000,3,2,0,570071,8e3903902d3eb6d6faca4fe2f01b1a8603d37d52,8,2,2,2,12156,Jeremy Moffitt,jmoffitt,"Fix mismatched attach_volume rule

The attach_volume rule on the Compute Instances and Volume pages
does not match the rule in the nova_policy.json file, or what is
generated from an oslo policy generation on Nova. Update the rule
to match what is used in the default policy file, and what Nova
uses in its unit tests.

While looking at this, discovered that the detach_volume has a
similar problem, with no rule that matches at all. It may make sense
to have detach volume use similar permissions to attach

Change-Id: I40c709c7bb0c8538b56624dbfff1faea2eba9ee6
Closes-bug: 1772759
"
openstack%2Fpython-tripleoclient~master~Ib034765639667f49d4bfd92a2186ff5f022a938d,openstack/python-tripleoclient,master,fix/upgrades,Ib034765639667f49d4bfd92a2186ff5f022a938d,"Add -y option to ""openstack undercloud upgrade""",MERGED,2018-05-22 22:39:52.000000000,2018-05-23 04:59:03.000000000,2018-05-23 04:59:03.000000000,64,1,0,570076,9cc04d25f3f53d3ec5f355ef82cdf41a0c384fb2,11,7,1,3,3153,Emilien Macchi,emilienm,"Add -y option to ""openstack undercloud upgrade""

It was added to ""openstack tripleo upgrade"" but wasn't working for the
undercloud, so adding it and we will use it when upgrading the
undercloud without prompt.

Change-Id: Ib034765639667f49d4bfd92a2186ff5f022a938d
"
openstack%2Foctavia~master~Id4bf209c202893c93b43fe723c02d03b8c207ab5,openstack/octavia,master,provider-driver,Id4bf209c202893c93b43fe723c02d03b8c207ab5,Implement provider drivers - Pool,MERGED,2018-05-07 18:33:06.000000000,2018-05-23 03:30:22.000000000,2018-05-23 03:30:22.000000000,114,100,14,566698,0acb622262640587d9f73ca6870da6314bd77e1d,21,4,6,4,11628,Michael Johnson,johnsom,"Implement provider drivers - Pool

This patch adds provider driver support to the Octavia v2
Pool API.

This patch also creates a provider driver for Octavia, fully
implementing the pool methods.

Story: 1655768
Task: 5165

Depends-On: https://review.openstack.org/565640
Change-Id: Id4bf209c202893c93b43fe723c02d03b8c207ab5
"
openstack%2Foctavia~master~I386097197f51d94b34f9a7fd7af7b36238294faf,openstack/octavia,master,provider-driver,I386097197f51d94b34f9a7fd7af7b36238294faf,Implement provider drivers - Listener,MERGED,2018-05-04 18:32:13.000000000,2018-05-23 03:26:45.000000000,2018-05-23 03:26:45.000000000,468,259,16,566379,7a24b08434f728c10b2bec3111f9a7b23ad2d5e2,25,5,9,13,11628,Michael Johnson,johnsom,"Implement provider drivers - Listener

This patch adds provider driver support to the Octavia v2
Listener API.

This patch also creates a provider driver for Octavia, fully
implementing the listener methods.

This patch also corrects the basic cookbook example for adding SNI
certificates to a listener.

Follow on patches will implement the remain parts of the API.

Story: 1655768
Task: 5165

Depends-On: https://review.openstack.org/492311
Change-Id: I386097197f51d94b34f9a7fd7af7b36238294faf
"
openstack%2Fopenstack-ansible-os_nova~master~I6ee3da9cc4b54ba6941bc72c35d8a8b9c3f3cc14,openstack/openstack-ansible-os_nova,master,add-storage-package-opensuse,I6ee3da9cc4b54ba6941bc72c35d8a8b9c3f3cc14,SUSE: Explicitly add all the available libvirt storage drivers,MERGED,2018-05-21 09:36:42.000000000,2018-05-23 03:21:43.000000000,2018-05-23 03:21:43.000000000,7,0,0,569760,7d9e7df7b1c8f27de4bfaec9234e5ec25a9892e6,20,16,1,1,23163,Markos Chandras (hwoarang),mchandras,"SUSE: Explicitly add all the available libvirt storage drivers

We explicitly add all the available libvirt storage drivers in order to
ensure that we can support as many storage backends as possible. This
should fix problems when using a ceph backend like the following one:

'Unknown protocol 'rbd' _do_build_and_run_instance'

Change-Id: I6ee3da9cc4b54ba6941bc72c35d8a8b9c3f3cc14
"
openstack%2Foctavia~master~Ia15280827799d1800c23ed76d2af0e3596b9d2f7,openstack/octavia,master,provider-lb,Ia15280827799d1800c23ed76d2af0e3596b9d2f7,Implement provider drivers - Load Balancer,MERGED,2018-04-24 00:39:40.000000000,2018-05-23 03:14:36.000000000,2018-05-23 03:14:36.000000000,1903,196,111,563795,7b2621fe29ced20d4500a735acd4ca423ce5b210,61,10,13,30,11628,Michael Johnson,johnsom,"Implement provider drivers - Load Balancer

This patch adds provider driver support to the Octavia v2 API, starting
with the load balancer API.

This patch also creates a provider driver for Octavia, initially fully
implementing the load balancer methods.

Follow on patches will implement the remain parts of the API.

Change-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7
Story: 1655768
Task: 5165
"
openstack%2Fneutron~stable%2Focata~Icb039ae2d465e3822ab07ae4f9bc405c1362afba,openstack/neutron,stable/ocata,bug/1414559,Icb039ae2d465e3822ab07ae4f9bc405c1362afba,ml2: fix update_device_up to send lm events with linux bridge,MERGED,2018-04-13 08:41:09.000000000,2018-05-23 03:11:37.000000000,2018-05-23 03:11:37.000000000,13,10,0,561160,d9c6610cb60f2da152f567aaa1b0cdb9edef2957,16,6,2,2,10135,Lee Yarwood,lyarwood,"ml2: fix update_device_up to send lm events with linux bridge

In case of a live migration and with linux bridge the events are not
sent to Nova, because the port UUID returned by _device_to_port_id may
be a truncated UUID and the current plugin._get_port() can't find it.

Conflicts:
        neutron/tests/unit/plugins/ml2/test_rpc.py

NOTE(lyarwood): Test conflict introducing an additional mock for ml2_db,
required prior to Pike and Ia15c63f94d2c67791da3b65546e59f6929c8c685.

Related-Bug: #1414559
Change-Id: Icb039ae2d465e3822ab07ae4f9bc405c1362afba
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
(cherry picked from commit 38b3d4e16ac76d97f64f264c68ef9b88d66e0324)
(cherry picked from commit 50988f3f3665adb4dd481aff5515a81878c8e067)
"
openstack%2Fnetworking-midonet~master~I7efdaf94257594ffa2db5633bcc9cae8ad9689ce,openstack/networking-midonet,master,use-lib-pluginutils,I7efdaf94257594ffa2db5633bcc9cae8ad9689ce,use neutron-lib plugin utils,MERGED,2018-04-30 19:32:22.000000000,2018-05-23 03:04:35.000000000,2018-05-23 03:04:25.000000000,4,6,0,565286,4f2dd59fe0cafaabb3f5bc61401db2490532ef39,14,6,3,2,5367,boden,boden,"use neutron-lib plugin utils

The remainder of neutron.plugins.common.utils is now in neutron-lib.
This patch consumes it in prep for the corresponding neutron commit
https://review.openstack.org/#/c/565284

It also bumps the neutron-lib requirement up to 1.14.0

Change-Id: I7efdaf94257594ffa2db5633bcc9cae8ad9689ce
"
openstack%2Fnetworking-bagpipe~master~Ida2869ce9806e182d0489ab4a159111ac805cc4b,openstack/networking-bagpipe,master,bug/1761691,Ida2869ce9806e182d0489ab4a159111ac805cc4b,dashboard: use new neutronclient,MERGED,2018-05-23 00:47:12.000000000,2018-05-23 02:53:39.000000000,2018-05-23 02:53:38.000000000,6,6,0,570086,732db22a302854fea617748b085ce7e468ff5abe,6,2,1,1,12021,Thomas Morin,tmorin,"dashboard: use new neutronclient

This change updates the call to neutronclient to use
the BGPVPN methods natively defined in python-neutronclient,
rather than the ones defined by the dynamic extension to
neutronclient from networking-bgpvpn (which are deprecated).

Change-Id: Ida2869ce9806e182d0489ab4a159111ac805cc4b
Partial-Bug: 1761691
"
openstack%2Fdiskimage-builder~master~Ic9af57cd546a60aa9b5d9eea5c8b557bb3e80df4,openstack/diskimage-builder,master,bug/1693127,Ic9af57cd546a60aa9b5d9eea5c8b557bb3e80df4,Replace new location of isolinux.bin for Ubuntu 16.04,ABANDONED,2017-06-26 07:54:12.000000000,2018-05-23 02:33:03.000000000,,1,1,1,477437,08985e13fbf9a3d3928f089c9bf99c51c5e72ad7,26,7,5,1,22255,Tuan,Tuan,"Replace new location of isolinux.bin for Ubuntu 16.04

This patch adds a new location of isolinux.bin for creating iso. This
file is installed to /usr/lib/ISOLINUX/ in Ubuntu 16.04 or later.

Change-Id: Ic9af57cd546a60aa9b5d9eea5c8b557bb3e80df4
Closes-Bug: #1693127
"
openstack%2Fneutron-tempest-plugin~master~I45e94e2b7f28ca5792b72b9827b816439a2ac31e,openstack/neutron-tempest-plugin,master,addpep8,I45e94e2b7f28ca5792b72b9827b816439a2ac31e,"Enable hacking-extensions H204, H205",ABANDONED,2018-02-01 02:52:35.000000000,2018-05-23 02:32:37.000000000,,3,1,0,539778,176acbd38347b181d0409e72ab9bf8edee5537fb,8,2,3,1,22255,Tuan,Tuan,"Enable hacking-extensions H204, H205

This patch enable extensions:
- H204: Use assert(Not)Equal to check for equality.
- H205: Use assert(Greater|Less)(Equal) for comparison.

Change-Id: I45e94e2b7f28ca5792b72b9827b816439a2ac31e
"
openstack%2Fswift~master~Ia58e63a20df0cfe623834703230e39598958d9ee,openstack/swift,master,,Ia58e63a20df0cfe623834703230e39598958d9ee,Log deprecation warnings for account_white/blacklist,MERGED,2017-05-25 15:54:26.000000000,2018-05-23 02:15:37.000000000,2018-05-23 02:15:37.000000000,10,0,0,468077,87cc550332615234f399453d48ae639a275d5238,11,5,1,1,15343,Tim Burke,tburke,"Log deprecation warnings for account_white/blacklist

... with the hope that we can actually remove support for them in the future.

Change-Id: Ia58e63a20df0cfe623834703230e39598958d9ee
Related-Change: I532663f1d2c75d03170c5fdb9b330416822fbc88
"
openstack%2Fnetworking-onos~master~Idcf959ff9fb2cb56ef4964c8f252422b96e2bc83,openstack/networking-onos,master,allinone_sona,Idcf959ff9fb2cb56ef4964c8f252422b96e2bc83,Supports SONA all-in-one installation.,MERGED,2018-05-21 08:57:43.000000000,2018-05-23 02:12:47.000000000,2018-05-23 02:12:47.000000000,86,85,10,569747,b9d640b6687cfc18c5e8ff43461edb4e8f082787,14,3,3,3,25575,Sangho Shin,sanghoshin,"Supports SONA all-in-one installation.

Change-Id: Idcf959ff9fb2cb56ef4964c8f252422b96e2bc83
"
openstack%2Foctavia~master~I16c04b6f12fe4db9f1a2a0dc1d2b6fb54d24fd38,openstack/octavia,master,,I16c04b6f12fe4db9f1a2a0dc1d2b6fb54d24fd38,Allow fields filter on single object GETs,MERGED,2018-04-09 21:07:49.000000000,2018-05-23 01:46:54.000000000,2018-05-23 01:46:54.000000000,178,47,0,559842,84ef448a87ac7251a8087e435778f3ed761706b5,22,4,6,16,10273,Adam Harwell,rm_you,"Allow fields filter on single object GETs

The LBaaSv2-API spec had this, and tempest seems to test for it.
We missed adding it when we implemented the v2 API in Pike.

Change-Id: I16c04b6f12fe4db9f1a2a0dc1d2b6fb54d24fd38
Backport-Candidate: Queens Pike
"
openstack%2Foctavia~stable%2Fqueens~Iee308471a86c2d4ca5717bcb4dddfe61f1230380,openstack/octavia,stable/queens,auth_url-stable/queens,Iee308471a86c2d4ca5717bcb4dddfe61f1230380,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-22 03:01:25.000000000,2018-05-23 01:21:54.000000000,,1,1,0,569907,0140466cf3acd5c61106e3556dfa0783e823f2c0,5,3,1,1,25903,Vu Cong Tuan,tuanvu,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: Iee308471a86c2d4ca5717bcb4dddfe61f1230380
(cherry picked from commit bdd9c6f3e77b41c9278f319b380b8d9c451bb37b)
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~I35dfbe50d12b65a8d14f62410adea551e7584912,openstack/tripleo-upgrade,stable/queens,bug/1769107,I35dfbe50d12b65a8d14f62410adea551e7584912,Separate scripts creation tasks for under/overcloud.,MERGED,2018-05-22 12:39:18.000000000,2018-05-23 00:44:40.000000000,2018-05-23 00:44:40.000000000,66,38,0,569974,abc439355ee433db4a1e21c8da31d8f48b7b03e5,7,6,1,6,26343,Jose Luis Franco,jfrancoa,"Separate scripts creation tasks for under/overcloud.

The upgrade/update tasks in tripleo-upgrade started
with a create-scripts book, which generated most of
the scripts from the templates. However, this book
mixed the creation of scripts needed for the overcloud
as well as for the undercloud. This becomes an issue
when we want to perform only an undercloud upgrade, as
we are running tasks intended to the overcloud and it
might not even exist.
This patch divides the script creation tasks used for
the undercloud from the ones used for the overcloud.

Change-Id: I35dfbe50d12b65a8d14f62410adea551e7584912
Closes-Bug: #1769107
(cherry picked from commit 0fd5d40994cb30117444b22a9e862722c4ebc52c)
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~Ie3bd17ca9863e7687721e8c2628e485ea1849321,openstack/tripleo-heat-templates,stable/pike,bug/1772071-stable/pike,Ie3bd17ca9863e7687721e8c2628e485ea1849321,Use str_replace for known_hosts,MERGED,2018-05-22 03:04:55.000000000,2018-05-23 00:44:39.000000000,2018-05-23 00:44:39.000000000,24,17,0,569910,57789d7c9d6fac191e60a2ba57c7dd86e945dee5,14,4,2,2,14985,Alex Schultz,mwhahaha,"Use str_replace for known_hosts

There is a limit to how long input data can be for the heat script hook.
It turns out that data longer than 131072, will return an Argument list
to long error. To get around this, we need to pass this data in a
different way so that the heat script hook will work.

NOTE: Includes fix from If7a4c6f3581bed270f478b98b8da8fe010acbbc1

Change-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321
Closes-Bug: #1772071
(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)
"
openstack%2Fheat~stable%2Fqueens~I61876b599373c5794bb9edb2088b15d21f7584e2,openstack/heat,stable/queens,bug/1760932,I61876b599373c5794bb9edb2088b15d21f7584e2,Fixing Senlin incompatibility with openstacksdk 0.11.x,MERGED,2018-04-18 18:59:56.000000000,2018-05-23 00:41:12.000000000,2018-05-23 00:41:12.000000000,10,1,0,562361,55533a19f70e6b7bbd00389f22f9d9802e719388,26,9,3,2,22623,Erik Olof Gunnar Andersson,eoandersson,"Fixing Senlin incompatibility with openstacksdk 0.11.x

When running Heat with OpenstackSDK 0.11.3 (or older)
no clustering version is being passed on, causing the
call to Senlin to fail with the following error message.
> Unknown version in URI from

With this patch we always set the api version for clustering.

Change-Id: I61876b599373c5794bb9edb2088b15d21f7584e2
Closes-Bug: #1760932
Story: #1760932
Task: #18787
(cherry picked from commit d47a4540dc23fc2f2b3f84ddd6dbfb30c3fbf986)
"
openstack%2Ftripleo-heat-templates~stable%2Focata~If7a4c6f3581bed270f478b98b8da8fe010acbbc1,openstack/tripleo-heat-templates,stable/ocata,bug/1772071-stable/ocata,If7a4c6f3581bed270f478b98b8da8fe010acbbc1,Fix known hosts config script value,MERGED,2018-05-22 19:28:09.000000000,2018-05-23 00:18:17.000000000,2018-05-23 00:18:17.000000000,1,1,0,570030,57b81654f7cae989d8dcacf1e87901e041744b19,8,3,1,1,14985,Alex Schultz,mwhahaha,"Fix known hosts config script value

There was an extra | that was missed. It's not tested in Master but is
in <= Queens.

Change-Id: If7a4c6f3581bed270f478b98b8da8fe010acbbc1
Closes-Bug: #1772071
"
openstack%2Ftripleo-common~stable%2Fqueens~Ib98e06531d414f62498fd7c1130899f74a066957,openstack/tripleo-common,stable/queens,bug/1771705-stable/queens,Ib98e06531d414f62498fd7c1130899f74a066957,Fix redis healthcheck,MERGED,2018-05-21 20:12:37.000000000,2018-05-23 00:18:16.000000000,2018-05-23 00:18:16.000000000,2,2,0,569853,261ad97ceb4755979c5dbcd454da9fc0607f512a,13,6,1,1,14985,Alex Schultz,mwhahaha,"Fix redis healthcheck

nc is not installed in the containers by default, but socat is available
so lets use that instead.

Change-Id: Ib98e06531d414f62498fd7c1130899f74a066957
Closes-Bug: #1771705
(cherry picked from commit c10d3096784b3dd7a27e30337ffc8f0647744303)
"
openstack%2Ftripleo-heat-templates~stable%2Fnewton~Ie3bd17ca9863e7687721e8c2628e485ea1849321,openstack/tripleo-heat-templates,stable/newton,bug/1772071-stable/newton,Ie3bd17ca9863e7687721e8c2628e485ea1849321,Use str_replace for known_hosts,MERGED,2018-05-22 03:05:28.000000000,2018-05-23 00:00:49.000000000,2018-05-23 00:00:49.000000000,23,16,0,569912,c77278093e789515204c5dba374493b61b104ce6,16,3,2,2,14985,Alex Schultz,mwhahaha,"Use str_replace for known_hosts

There is a limit to how long input data can be for the heat script hook.
It turns out that data longer than 131072, will return an Argument list
to long error. To get around this, we need to pass this data in a
different way so that the heat script hook will work.

NOTE: Includes fix from If7a4c6f3581bed270f478b98b8da8fe010acbbc1

Change-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321
Closes-Bug: #1772071
(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)
"
openstack%2Ftripleo-ci~master~I212a0a66f1c36187cbb64a5b8a8d851443a91b73,openstack/tripleo-ci,master,sprint13,I212a0a66f1c36187cbb64a5b8a8d851443a91b73,Fix relase file name for mixed upgrades,MERGED,2018-05-22 10:31:20.000000000,2018-05-22 23:36:12.000000000,2018-05-22 23:36:12.000000000,5,5,0,569954,93f091b1acf55ca5bc3d74af8826ec9c327cb5af,12,7,2,2,27898,Quique Llorente,quiquell,"Fix relase file name for mixed upgrades

It has to be foo-undercloud-bar-overcloud, it was undercloud-foo-overcloud-bar

Change-Id: I212a0a66f1c36187cbb64a5b8a8d851443a91b73
"
openstack%2Ftripleo-ci~master~I41087bf0c247b933a641ea0da582b5f2b368840e,openstack/tripleo-ci,master,sprint13,I41087bf0c247b933a641ea0da582b5f2b368840e,Wire in get_dlrn_hash,MERGED,2018-05-17 13:42:31.000000000,2018-05-22 23:36:12.000000000,2018-05-22 23:36:11.000000000,227,32,6,569115,6f06040bad31844ecd18eb99c629b7efaa96218a,18,7,4,3,12715,John Trowbridge,trown,"Wire in get_dlrn_hash

This wires in the get_dlrn_hash function to the release dictionary,
so that we end up with an actual dlrn hash instead of a named hash.

Release dictionary tests updated to mock this function, including
verification of the expected calls to get_dlrn_hash.

This also adds more comprehensive logging and unittests to the
get_dlrn_hash function.

Change-Id: I41087bf0c247b933a641ea0da582b5f2b368840e
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,openstack/tripleo-heat-templates,stable/queens,osp/crudini,I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,Don't use crudini to get rhn server,MERGED,2018-05-17 17:18:29.000000000,2018-05-22 23:36:10.000000000,2018-05-22 23:36:10.000000000,2,1,0,569177,ef2f18b97bb465ae88464acf45399cc0e20ec68e,23,6,2,1,3153,Emilien Macchi,emilienm,"Don't use crudini to get rhn server

crudini is not installed by default on Red Hat derivitive OS's, so we
shouldn't rely on it. We probably can't just install it since this
script is the rhel-registration script, so there are likely no repos
enabled when we need it.

Instead just use grep/cut/sed to get the value we need.

Change-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8
Closes-Bug: #1771830
(cherry picked from commit b4ff453f87610988b7f76688bdba7e006ec91d20)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~If596531cbb1e750ed67e66391743f4c1833e4337,openstack/tripleo-heat-templates,stable/queens,bug/1768586,If596531cbb1e750ed67e66391743f4c1833e4337,Set normal CephAnsiblePlaybook on update/upgrade/ffwd converge,MERGED,2018-05-09 15:57:31.000000000,2018-05-22 23:36:09.000000000,2018-05-22 23:36:09.000000000,4,5,0,567275,8c4a9a8109a005e91f32858b172d853bf6525fce,83,7,2,4,8042,Jiří Stránský,jistr,"Set normal CephAnsiblePlaybook on update/upgrade/ffwd converge

As we discovered bug #1768586 we'll need to make sure that every
parameter tweak in plan is followed by a stack update.

So far the Ceph upgrade command did set param -> stack update -> unset
param (only in plan). However this means the last CephAnsiblePlaybook
setting (back to normal deploy playbook) was discarded.

Let's reuse normal converge commands to converge CephAnsiblePlaybook
too, and we can remove the (now unused) ceph-upgrade-converge.yaml. We
won't do more stack updates than necessary, and at the same time the
user workflow stays somewhat consistent between envs that do and don't
have Ceph.

An alternative would be to run the as part of the Ceph command, but
that either means we'd have to run one more stack update then
necessary, or skip the last converge in envs with Ceph, and
essentially diverge further from the non-Ceph workflow.

Change-Id: If596531cbb1e750ed67e66391743f4c1833e4337
Depends-On: I025eac40f8bda5f23c789e7fef1a9e9b49947f66
Partial-Bug: #1768586
(cherry picked from commit 4742f2ed5a28e5371e52ad0ffa6ed4f280d992bd)
"
openstack%2Fswift~master~I01a4241499f9680fd1709d9d685eaf2db0fb21c1,openstack/swift,master,,I01a4241499f9680fd1709d9d685eaf2db0fb21c1,WIP: Get rid of _transform_record in ContainerBroker,NEW,2018-05-22 22:03:14.000000000,2018-05-22 23:24:14.000000000,,18,34,0,570063,559ae1fd585371cb50bfe476b8f56c9bbe46c2ca,2,1,1,2,15343,Tim Burke,tburke,"WIP: Get rid of _transform_record in ContainerBroker

Push timestamp knowledge out to container-server's update_data_record
instead.

Unit tests are still pretty busted -- are we cool with changing the
contract of list_objects_iter like this, though? How about how the
container-server now needs to know more about object timestamps?

Change-Id: I01a4241499f9680fd1709d9d685eaf2db0fb21c1
"
openstack%2Fswift~master~I25cab53b9aa2252c98ebcf70aafb9d39887a11f1,openstack/swift,master,p-misplaced-empty-list,I25cab53b9aa2252c98ebcf70aafb9d39887a11f1,Improve building listings from shards,MERGED,2018-05-21 13:23:55.000000000,2018-05-22 23:22:04.000000000,2018-05-22 23:22:04.000000000,108,29,2,569796,ff832955fc8e0ac746a05c78c0140336707699c7,12,5,2,2,7847,Alistair Coles,acoles,"Improve building listings from shards

When building a listing from shard containers, objects fetched from
each shard range are appended to the existing listing provided their
name is greater than the last entry in the current listing and less
than or equal to the fetched shard range. This allows misplaced
objects below the shard range to possibly be included in the listing
in correct name order. Previously that behaviour only occurred if the
existing listing had entries, but now it occurs even if no objects
have yet been found.

Change-Id: I25cab53b9aa2252c98ebcf70aafb9d39887a11f1
"
openstack%2Fmanila-specs~master~I8c7b49fe2314926d957b51db7c3cf28010eda3e4,openstack/manila-specs,master,,I8c7b49fe2314926d957b51db7c3cf28010eda3e4,Remove out of date priorities section,MERGED,2018-05-22 22:24:57.000000000,2018-05-22 23:19:24.000000000,2018-05-22 23:19:24.000000000,0,79,0,570072,f90220ea182ff503210354345106648bf74ee610,7,3,1,2,9003,Tom Barron,tbarron,"Remove out of date priorities section

Change-Id: I8c7b49fe2314926d957b51db7c3cf28010eda3e4
"
openstack%2Ftripleo-common~stable%2Fqueens~Ifdfc1b84b7b6a306868260611271fd49bdd594d4,openstack/tripleo-common,stable/queens,bug/1770355-stable/queens,Ifdfc1b84b7b6a306868260611271fd49bdd594d4,Add yum update to base,MERGED,2018-05-14 11:59:20.000000000,2018-05-22 23:09:42.000000000,2018-05-22 23:09:42.000000000,5,0,0,568270,5bb2fe60e325eabc604a0d8596ec137b36997ba2,38,7,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add yum update to base

In order to handle out of date distro containers, let's add a yum update
to the kolla base container to ensure that at the end of the base
container build we'll have the latest base packages installed. This will
ensure we don't hit out of date dependency bits in later containers. For
example, we currently only have 7.4 base centos image available from the
upstream but we're install the base repos in the base build. This would
mean that we'd be getting 7.5 packages in later containers but might
possibly have a mix of 7.4 and 7.5 packages installed.

Change-Id: Ifdfc1b84b7b6a306868260611271fd49bdd594d4
Related-Bug: #1770355
(cherry picked from commit 3f12a00533e32d894ad18627e6be1163c0dd5ad8)
"
openstack%2Fswift~master~I305736ee4391674b16e85e1c958e7f14ccb7bcc0,openstack/swift,master,567940,I305736ee4391674b16e85e1c958e7f14ccb7bcc0,Clean up logging interpolation,MERGED,2018-05-22 19:54:25.000000000,2018-05-22 22:50:33.000000000,2018-05-22 22:50:33.000000000,3,3,1,570034,8486397a70e47d1a2a55029a3986534d63cad95d,6,2,1,1,15343,Tim Burke,tburke,"Clean up logging interpolation

Change-Id: I305736ee4391674b16e85e1c958e7f14ccb7bcc0
"
openstack%2Fpython-swiftclient~master~I2a8f465c8b08370517cbec857933b08fca94ca38,openstack/python-swiftclient,master,requirements-stop-syncing,I2a8f465c8b08370517cbec857933b08fca94ca38,add lower-constraints job,MERGED,2018-03-25 13:06:41.000000000,2018-05-22 22:30:40.000000000,2018-05-22 22:30:40.000000000,84,14,2,556192,b5ed14f90a8214700a9be2139d9e7aba82baaa99,59,16,18,7,2472,Doug Hellmann,doug-hellmann,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

Update the dependencies needed to make the unit tests pass while
constrained to the lower bounds.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Co-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>
Change-Id: I2a8f465c8b08370517cbec857933b08fca94ca38
Depends-On: https://review.openstack.org/555034
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Ftripleo-quickstart-extras~master~I98f9bf2d95a1a36eb0ead71b593baeb9eefa14ae,openstack/tripleo-quickstart-extras,master,bug/1753209,I98f9bf2d95a1a36eb0ead71b593baeb9eefa14ae,"Revert ""two new tempest failures on master""",ABANDONED,2018-03-15 17:21:38.000000000,2018-05-22 22:19:34.000000000,,0,6,0,553501,609ee40044f5887aa2bf8dd6d6eb30d1b0c8b90c,33,6,4,1,9656,Ihar Hrachyshka,ihrachys,"Revert ""two new tempest failures on master""

This reverts commit 4a3e4bc6e942f7cd37c413db98f9ef7aa65cc300.

Closes-Bug: #1753209
Closes-Bug: #1753211
Change-Id: I98f9bf2d95a1a36eb0ead71b593baeb9eefa14ae
Depends-On: I199f639c95e8ae884ede46404370d7b64da3b309
"
