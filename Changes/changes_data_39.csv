id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fopenstack-ansible-os_cinder~master~I0c055393ccb1c8d61affc2c1bb6d01f0c329afe9,openstack/openstack-ansible-os_cinder,master,osa/manage_lb,I0c055393ccb1c8d61affc2c1bb6d01f0c329afe9,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:46:36.000000000,2022-06-15 18:35:24.000000000,2022-06-15 18:34:07.000000000,0,20,0,845794,f3b2abb8876b5152fbe379b061b43095eb8556e0,9,3,2,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: I0c055393ccb1c8d61affc2c1bb6d01f0c329afe9
"
openstack%2Fopenstack-helm-infra~master~I5a7993b3cad2d48af3f73218d6c61c216520e1c5,openstack/openstack-helm-infra,master,grafana-imp,I5a7993b3cad2d48af3f73218d6c61c216520e1c5,Add run migrator job prior running grafana pods,MERGED,2022-06-14 20:42:11.000000000,2022-06-15 18:21:03.000000000,2022-06-15 18:19:45.000000000,200,4,0,845818,e99dfc1c8422a2b2cc3e29264d8ce8f45e89e754,22,5,10,6,16768,Ruslan Aliev,raliev,"Add run migrator job prior running grafana pods

During the first run, grafana will run migrator job, which populates
necessary fields in database. Previously, if there are two or more
grafana pods which start up simultaneously, it causes the race condition
for database access and finally one of the pods will fail (in some
cases both of them), leaving the grafana database in incomplete state.

Signed-off-by: Ruslan Aliev <raliev@mirantis.com>
Change-Id: I5a7993b3cad2d48af3f73218d6c61c216520e1c5
"
openstack%2Fdesignate-tempest-plugin~master~I7b5038fa45de0972da064da384b47ba94785613c,openstack/designate-tempest-plugin,master,remove-six,I7b5038fa45de0972da064da384b47ba94785613c,Remove six,MERGED,2022-05-10 07:50:51.000000000,2022-06-15 18:15:07.000000000,2022-06-15 18:13:39.000000000,5,8,2,841221,c136230e7eca58ece932781e995ac1780bd1e6ce,10,5,1,3,9816,Takashi Kajinami,kajinamit,"Remove six

Python 2 is no longer supported, thus usage of six can be removed.

Change-Id: I7b5038fa45de0972da064da384b47ba94785613c
"
openstack%2Fmagnum~master~I5b2f45928d6e33bc391044d217bc7da006bda4c2,openstack/magnum,master,story/2010092,I5b2f45928d6e33bc391044d217bc7da006bda4c2,Set --node-cidr-mask-size to flannel's subnetlen.,NEW,2022-06-15 16:59:57.000000000,2022-06-15 17:58:36.000000000,,1,0,0,846038,1d54f4b527c860c59cf97474cb52a2b9c20e5c9e,2,1,1,1,2424,Felipe Reyes,freyes,"Set --node-cidr-mask-size to flannel's subnetlen.

When changing the subnet size via ""--labels flannel_network_subnetlen=N""
it's neccesary to pass this value to kube-controller-manager, so it can
configure deployed nodes with the expected netmask instead of the
default (/24).

story: 2010092
task: 45633
Change-Id: I5b2f45928d6e33bc391044d217bc7da006bda4c2
"
openstack%2Fopenstack-helm-images~master~I01c1e2c39f76adebf05640c36af492121309e8d3,openstack/openstack-helm-images,master,update-tempest,I01c1e2c39f76adebf05640c36af492121309e8d3,Clean up older tempest distro releases,MERGED,2022-06-15 16:16:39.000000000,2022-06-15 17:55:34.000000000,2022-06-15 17:52:21.000000000,0,75,0,846025,f60c30cdc4968c7027d12aebccad7442d68fe46f,9,3,1,4,21420,Gage Hugo,ghugo,"Clean up older tempest distro releases

Currently tempest has several older linux distro Dockerfiles that
are either not maintained or used, this change removes them to
reduce the number of build targets we are doing to focus more
on what we actually use.

Change-Id: I01c1e2c39f76adebf05640c36af492121309e8d3
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I0093bf9c1c8346963b6fc299527e37b7698c51ce,openstack/python-tripleoclient,stable/wallaby,BZ/2049498-stable/wallaby,I0093bf9c1c8346963b6fc299527e37b7698c51ce,bnr - Set properly the default inventory file,MERGED,2022-03-21 16:26:10.000000000,2022-06-15 17:21:55.000000000,2022-06-15 17:20:14.000000000,21,6,9,834474,33bb74cae96a0fcc63cbb86e4c51d3006ca9a426,36,6,8,3,34423,Fernando Díaz Bravo,fdiazbra,"bnr - Set properly the default inventory file

The default path is addressed to /home/stack/tripleo-inventory.yaml.
The new release the inventory is generated automatically and the path is not that one.

Also the inventory argument in the restoration command has been added

Change-Id: I0093bf9c1c8346963b6fc299527e37b7698c51ce
(cherry picked from commit 719a26aaf1c59d0f407f8a9951950032e9d4cb33)
"
openstack%2Fglance-tempest-plugin~master~I93bab21bdeda18c564b64218d12735d16a5ee8d6,openstack/glance-tempest-plugin,master,refactor-rbac-tests,I93bab21bdeda18c564b64218d12735d16a5ee8d6,Refactor rbac tests structure,MERGED,2022-04-27 17:12:31.000000000,2022-06-15 17:07:44.000000000,2022-06-15 17:07:44.000000000,2218,2133,4,839605,6e06a9c1f4cb629e7ccfc8c100f7e9192d10cca5,15,7,3,5,11075,Benny Kopilov,bkopilov,"Refactor rbac tests structure

Create multiple test files admin, memeber and reader
Move abstract class to base
Created id per testcase
Its very hard to maintain code in a single file

Change-Id: I93bab21bdeda18c564b64218d12735d16a5ee8d6
"
openstack%2Fopenstack-ansible-plugins~master~I791421268664aec2a003d7fb0b44a3d7ed1bf787,openstack/openstack-ansible-plugins,master,osa/service_tokens,I791421268664aec2a003d7fb0b44a3d7ed1bf787,Use system-scope by default,NEW,2022-03-09 18:13:16.000000000,2022-06-15 17:05:21.000000000,,4,3,0,832837,9bdb61682dc871ecc1ef96fabbedc2affc66b150,20,2,6,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use system-scope by default

Currently, if no domain or project is explicitly provided for users,
_service_project_name would be used. We change that behaviour to
assigning system-scope when neither domain not project is defined.

Most of service users should have system-scoped privileges rather then
project or domain scoped ones.

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826193
Depends-On: https://review.opendev.org/c/openstack/ansible-collections-openstack/+/836202
Change-Id: I791421268664aec2a003d7fb0b44a3d7ed1bf787
"
openstack%2Floci~master~Ideb497c169828184d301b6be4359a7c2228aa444,openstack/loci,master,build-targets,Ideb497c169828184d301b6be4359a7c2228aa444,Reduce build targets,MERGED,2021-07-20 19:49:31.000000000,2022-06-15 16:55:38.000000000,2022-06-15 16:55:38.000000000,5,92,3,801526,9e7b71c3043245baeae16ecc0c8f3563e2c25c98,25,4,6,10,1004,Mohammed Naser,mnaser,"Reduce build targets

OpenSUSE LEAP is currently not in use by any known downstream
users and it has been broken for quite sometime, leaving the gate
in a broken state and unable to land any code.  There's no active
maintainer for it as well.

Debian support was added by us (VEXXHOST) but we decided that
we're not going to continue using it and move towards Ubuntu, so
we do not want to maintain it, as well as that it is building images
for Train only.

It also updates the README file accordingly as well as includes
focal in there which has been recently added.

Change-Id: Ideb497c169828184d301b6be4359a7c2228aa444
"
openstack%2Fcinder~master~I0c0f3d2246b840326579748027b9cd15bf174ff8,openstack/cinder,master,delete_error_handling,I0c0f3d2246b840326579748027b9cd15bf174ff8,PowerMax Driver - Improve error handling around deletes,MERGED,2021-06-14 14:33:01.000000000,2022-06-15 16:47:35.000000000,2022-06-15 16:45:31.000000000,496,93,22,796286,e1f6de6f836e1d534d0196ba43e6642bc5e279c6,552,10,24,10,12670,Helen Walsh,walshh2,"PowerMax Driver - Improve error handling around deletes

1. Bring storage group check within delete volume so that
it can be used in every place it is called and not just the
delete method.
2. Remove the reset identifier_name name as this makes the
device available for use straight away even if is not deleted.
3. Allow for None value in unlink_snapshot.
4. Add extra debugging information for device id.
5. Retry on getting connection info for volume.
6. Validate a masking view on an attach operation.
7. Reset identifier name on a rollback.
8. Retry a cleanup if snap id not available at the time.
9. Pylint fixes.
10. Retry on a failed delete with a cleanup snapvx in exception.

Change-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8
"
openstack%2Fhorizon~master~I7fa6fd350bb16eea437734b30610c84a13dc222a,openstack/horizon,master,,I7fa6fd350bb16eea437734b30610c84a13dc222a,[DNR] Test horizon with latest XStatic-Angular version,ABANDONED,2021-06-04 10:33:06.000000000,2022-06-15 16:45:25.000000000,,2,2,0,794774,a03a2384ca3bfa200029044e5addbd14e765020f,12,2,3,2,29313,Vishal Manchanda,vishalmanchanda,"[DNR] Test horizon with latest XStatic-Angular version

Depends-On: https://review.opendev.org/c/openstack/requirements/+/794258
Change-Id: I7fa6fd350bb16eea437734b30610c84a13dc222a
"
openstack%2Fos-brick~master~I7d6fff66c5cc27bbd1f5caa737f01bc7784af710,openstack/os-brick,master,nvme-4,I7d6fff66c5cc27bbd1f5caa737f01bc7784af710,Fix Unit Test failures due to host's ANA support,MERGED,2022-06-08 15:13:09.000000000,2022-06-15 16:44:03.000000000,2022-06-15 14:02:20.000000000,26,0,13,845149,924af884db5797092e16e6176e9a70feddc9c892,36,3,2,2,9535,Gorka Eguileor,Gorka,"Fix Unit Test failures due to host's ANA support

We recently added NVMe-oF native multipathing support (Change-Id
I3af33c5e43cfb104e436fb785b08fb28b50a031a) but the unit tests assume
that the host they are run on doesn't support it, so when running them
on a system that does support it then 6 tests fail.

This patch just forces this assumption on the class attribute changing
the value of native_multipath_supported from None to False and thus
disabling the detection mechanism.

It also adds a couple of tests for the _set_native_multipath_supported
method that had no tests.

Change-Id: I7d6fff66c5cc27bbd1f5caa737f01bc7784af710
"
openstack%2Frequirements~master~Icc33ef59e7ff6b716b6c95addfca1a6d856b26fc,openstack/requirements,master,new-release,Icc33ef59e7ff6b716b6c95addfca1a6d856b26fc,update constraint for taskflow to new release 5.0.0,MERGED,2022-06-15 12:25:25.000000000,2022-06-15 16:21:41.000000000,2022-06-15 16:20:29.000000000,1,1,1,845980,9c6e1b39d26efb3fabfbcfc1f37c41f207688afa,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for taskflow to new release 5.0.0

meta: version: 5.0.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Michael Johnson <johnsomor@gmail.com>
meta: release:Commit: Michael Johnson <johnsomor@gmail.com>
meta: release:Change-Id: I19ed4de233f77469d2cede80e7e7e07ab42e2342
meta: release:Code-Review+1: Tom Weininger <tweining@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Icc33ef59e7ff6b716b6c95addfca1a6d856b26fc
"
openstack%2Fpuppet-nova~stable%2Fwallaby~Ia96e00ccc1b3f056605d63fe2570c4e795f509ab,openstack/puppet-nova,stable/wallaby,,Ia96e00ccc1b3f056605d63fe2570c4e795f509ab,Add enable_qemu_monitor_announce_self workaround,MERGED,2022-06-14 12:19:06.000000000,2022-06-15 16:21:19.000000000,2022-06-15 16:20:00.000000000,26,8,4,845679,8cbd5d02281195504ac22f3987eaf2bef788b0cb,13,3,2,3,11166,Lukas Bezdicka,xbezdick,"Add enable_qemu_monitor_announce_self workaround

This adds the enable_qemu_monitor_announce_self param
that will be introduced by [1].

[1] https://review.opendev.org/c/openstack/nova/+/741529

Depends-On: https://review.opendev.org/825178
Change-Id: Ia96e00ccc1b3f056605d63fe2570c4e795f509ab
(cherry picked from commit 4a77e0a5b9b46ff33e86a7e117a021dd15b7400e)
(cherry picked from commit 7238c13a3a9a07f2361ead354e34f31be91f2ad1)
"
openstack%2Ftripleo-common~stable%2Fwallaby~Ia1154701c70c8f9cc02a201d24fbadbc11ae7697,openstack/tripleo-common,stable/wallaby,,Ia1154701c70c8f9cc02a201d24fbadbc11ae7697,Drop collectd-dbi from collectd base container,MERGED,2022-06-08 13:02:29.000000000,2022-06-15 16:14:36.000000000,2022-06-15 16:13:17.000000000,0,1,3,845040,d71101a39df2d4500b561fbf85921f249f4bb584,23,7,2,1,29775,Sandeep Yadav,sandeepyadav93,"Drop collectd-dbi from collectd base container

With this patch, Dropping collectd-dbi from collectd base container
the necessary dependencies to build these were removed from the
distribution and the Plugins were not used (more details in [1])

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2094409

Closes-Bug: rhbz#2094811
Change-Id: Ia1154701c70c8f9cc02a201d24fbadbc11ae7697
(cherry picked from commit f73c56eff4c17d3f22e2b71ddba8bd530b41941c)
"
openstack%2Ftripleo-validations~master~Ie02259336c763cfa980b59ad64f9e478d05690fb,openstack/tripleo-validations,master,lp/1936406,Ie02259336c763cfa980b59ad64f9e478d05690fb,Deprecates tripleo-ansible-inventory and remove tripleo-validation scripts,MERGED,2021-10-11 20:50:36.000000000,2022-06-15 16:13:43.000000000,2022-06-15 16:12:10.000000000,7,297,20,813535,08e2e1a060332bb5dfba4e9b52d526d2272dd343,52,9,13,5,16515,mbu,matbu,"Deprecates tripleo-ansible-inventory and remove tripleo-validation scripts

tripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit
to what tripleo is actually deploying:
* tripleo-deploy directory contains a valid inventory
* tripleo-ansible with the playbook cli-config-download.yaml offers a way to
  regenerate a fresh inventory.

This review also removed the scripts/tripleo-validation.py which is not longer functional
with the current VF CLI.

Change-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb
Closes-Bug: #1936406
Resolves: rhbz#2008426
"
openstack%2Fos-net-config~stable%2Fwallaby~I2398e3881310746f349e2c9a89c64956efbc13b2,openstack/os-net-config,stable/wallaby,bug/1973566,I2398e3881310746f349e2c9a89c64956efbc13b2,Format json output properly,MERGED,2022-05-26 05:41:48.000000000,2022-06-15 16:13:38.000000000,2022-06-15 16:12:12.000000000,4,3,0,843390,bf263b66fb47f90892eb8e347322f5cf3808edb1,10,3,1,1,9816,Takashi Kajinami,kajinamit,"Format json output properly

str(dict) or print(dict) format a dict value into an invalid json
string because it uses single quotes(') instead of double quotes("").

This also fixes the log messages which mentions 'JSON' but doesn't
convert a dict value to a valid json string.

Closes-Bug: #1973566
Change-Id: I2398e3881310746f349e2c9a89c64956efbc13b2
(cherry picked from commit 88a4c885f6feec08209aebbb859f34957b952b26)
"
openstack%2Fopenstack-ansible-plugins~master~Id4e1fdf0099f8d9f9a2a3fd0289f2c0e7364d88b,openstack/openstack-ansible-plugins,master,,Id4e1fdf0099f8d9f9a2a3fd0289f2c0e7364d88b,Use the integrated repo infra jobs for testing,MERGED,2022-05-25 13:42:02.000000000,2022-06-15 16:09:34.000000000,2022-06-15 16:06:58.000000000,2,0,1,843286,c6e89dd52c56883049da383c2c0b9624babbf266,10,3,1,1,25023,Jonathan Rosser,jrosser,"Use the integrated repo infra jobs for testing

This repo includes an increasing number of ansible roles which
do not have functional test coverage, such as glusterfs and ssh-keypairs.

Add the infra scenario deploy and upgrade jobs to provide some
test coverage.

Change-Id: Id4e1fdf0099f8d9f9a2a3fd0289f2c0e7364d88b
"
openstack%2Fpuppet-nova~stable%2Fxena~Ie60fceb0d51a314ede395db567a8155a773c9b15,openstack/puppet-nova,stable/xena,cs9-standalone-upgrade-stable/xena,Ie60fceb0d51a314ede395db567a8155a773c9b15,Expose [workaround]/disable_compute_service_check_for_ffu,MERGED,2022-06-14 12:09:59.000000000,2022-06-15 15:47:02.000000000,2022-06-15 15:45:36.000000000,19,0,2,845678,d0e7fb981985fbe42708822149a4c9012d3ad6a6,10,3,1,3,11166,Lukas Bezdicka,xbezdick,"Expose [workaround]/disable_compute_service_check_for_ffu

This exposes the nova workaround to set the normal safety check
for old compute services will be treated as a warning instead
of an error.

https://review.opendev.org/c/openstack/nova/+/826097 adds
the service version check workaround for FFU.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ie60fceb0d51a314ede395db567a8155a773c9b15
(cherry picked from commit c482a3d86e90d146026019bb35ca85c76f5d7f9e)
"
openstack%2Fpuppet-neutron~stable%2Fyoga~I7f0d453b9a3309af346e2d77672124ce064afad6,openstack/puppet-neutron,stable/yoga,,I7f0d453b9a3309af346e2d77672124ce064afad6,Support networking-baremetal in Ubuntu/Debian,MERGED,2022-06-14 00:13:58.000000000,2022-06-15 15:36:16.000000000,2022-06-15 15:35:04.000000000,60,70,0,845408,025ced6d52d96425f2452cfe60239932a3ede662,8,3,1,6,9816,Takashi Kajinami,kajinamit,"Support networking-baremetal in Ubuntu/Debian

The required packages are already built and provided for these distros.

Change-Id: I7f0d453b9a3309af346e2d77672124ce064afad6
(cherry picked from commit 5c09c4f6ca4fd1f29c2e03235f4cd53d5f17eaed)
"
openstack%2Fpuppet-openstack-integration~master~I67a2195bd7bf8a88b765096c27ed739dc3e153ce,openstack/puppet-openstack-integration,master,c9-litmus,I67a2195bd7bf8a88b765096c27ed739dc3e153ce,Make CentOS 9 Litmus jobs voting,MERGED,2022-06-13 15:49:24.000000000,2022-06-15 15:30:50.000000000,2022-06-15 15:30:50.000000000,0,4,0,845604,75cea42d3ebba8a34442b56999589780093f32f9,9,3,3,1,9816,Takashi Kajinami,kajinamit,"Make CentOS 9 Litmus jobs voting

... because bolt 3.23.0, which is compatible with Ruby 3.0, has been
released.

Change-Id: I67a2195bd7bf8a88b765096c27ed739dc3e153ce
"
openstack%2Fkuryr-tempest-plugin~master~If056529d49a053970891f89d12007174f544a551,openstack/kuryr-tempest-plugin,master,fix-exceptions,If056529d49a053970891f89d12007174f544a551,Use proper ApiException from kubernetes client,MERGED,2022-06-14 13:00:26.000000000,2022-06-15 15:29:21.000000000,2022-06-15 15:28:01.000000000,2,2,8,845745,28da7f63d3c37459d4366f6b38a6107e842657ae,23,3,1,1,11600,Michał Dulko,dulek,"Use proper ApiException from kubernetes client

Seems like folks developing Python kubernetes client had move the
ApiException around. So the backward-compatible way of using it is
kubernetes.client.rest.ApiException and trying to use it by
kubernetes.client.excetpions.ApiException will not work in older library
versions. As this client is supposed to still be compatible with
stable/victoria and kubernetes==11.0.0, this commit changes the
exception module to `rest` where needed.

Change-Id: If056529d49a053970891f89d12007174f544a551
"
openstack%2Fdevstack~master~I5e5c78aa19c5208c207ddcf14e208bae8fbc3c55,openstack/devstack,master,debian-ovn,I5e5c78aa19c5208c207ddcf14e208bae8fbc3c55,Run debian platform job with OVN,MERGED,2021-10-21 10:08:28.000000000,2022-06-15 15:17:39.000000000,2022-06-15 15:14:52.000000000,0,31,21,814891,599b241d32cd067a9a26c54fe178dd2bd28426d6,54,5,6,1,13252,Dr. Jens Harbott,jrosenboom,"Run debian platform job with OVN

Packages for OVN are now available in bullseye, so we can drop the
special handling.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I5e5c78aa19c5208c207ddcf14e208bae8fbc3c55
"
openstack%2Freleases~master~I53caac81ccf4961906bbcdea21947d2a5a0953e8,openstack/releases,master,yoga-final-trailing,I53caac81ccf4961906bbcdea21947d2a5a0953e8,Release cinderlib for Yoga,ABANDONED,2022-06-14 08:11:59.000000000,2022-06-15 15:10:38.000000000,,8,0,2,845701,00b021b0811a38225af40100ea918a177dde3e48,5,3,1,1,28522,Hervé Beraud,hberaud,"Release cinderlib for Yoga

The trailing deadline is on 23 June, 2022.
Cutting the Yoga stable branch.

https: //releases.openstack.org/zed/schedule.html#z-cycle-trail
Change-Id: I53caac81ccf4961906bbcdea21947d2a5a0953e8
"
openstack%2Fnova~stable%2Fyoga~I575ce06bcc913add7db0849f85728371da2032fc,openstack/nova,stable/yoga,bug/1969496,I575ce06bcc913add7db0849f85728371da2032fc,Allow claiming PCI PF if child VF is unavailable,MERGED,2022-05-06 08:36:20.000000000,2022-06-15 15:08:20.000000000,2022-06-15 15:06:39.000000000,162,26,3,840833,4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270,20,3,1,3,9708,Balazs Gibizer,gibi,"Allow claiming PCI PF if child VF is unavailable

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail
when try to mark the dependent VFs unavailable.

This patch changes the PCI claim logic to allow claiming the parent PF
in the inconsistent situation as we assume that it is safe to do so.
This claim also fixed the inconsistency so that when the parent PF is
freed the children VFs become available again.

Closes-Bug: #1969496
Change-Id: I575ce06bcc913add7db0849f85728371da2032fc
(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)
"
openstack%2Fnova~stable%2Fvictoria~I67d41a8e439b1ff3c5983ee17823616b80698639,openstack/nova,stable/victoria,bug/1949808,I67d41a8e439b1ff3c5983ee17823616b80698639,Test aborting queued live migration,NEW,2022-06-14 13:12:47.000000000,2022-06-15 15:07:49.000000000,,146,0,0,845748,4e759616a5ea82dc1137e09a54263235b76b61ac,9,1,3,2,19234,Alexey Stupnikov,astupnikov,"Test aborting queued live migration

This patch adds a regression test which asserts that if a live migration
is aborted while it's 'queued', the instance's status is never reverted
back to ACTIVE, and instance remains in MIGRATING state.

There is simple idea behind implemented LiveMigrationQueuedAbortTest:
we start two instances on the same compute and try to migrate
them simultaneously when max_concurrent_live_migrations is set to 1
and nova.tests.fixtures.libvirt.Domain.migrateToURI3 is locked.
As a result, we get two live migrations stuck in 'migrating' and
'queued' states and we can issue API call to abort the second one.

Lock is removed and first instance is live migrated after second
instance's live migration is aborted.

stable/wallaby backport notes:
Although there was no explicit conflict when backporting this change,
LibvirtMigrationMixin didn't exist, so I had to add it manually.

Co-Authored-By: Alex Stupnikov <aleksey.stupnikov@gmail.com>
Partial-Bug: #1949808
Change-Id: I67d41a8e439b1ff3c5983ee17823616b80698639
(cherry picked from commit 3e7b9b69e68c8594eac92d88f0579aab40d7d5ae)
(cherry picked from commit 19c4f8e973bd7f88bde3c55b714439072b73aadf)
"
openstack%2Fnova~stable%2Fvictoria~I152581deb6e659c551f78eed66e4b0b958b20c53,openstack/nova,stable/victoria,bug/1949808,I152581deb6e659c551f78eed66e4b0b958b20c53,Add functional tests to reproduce bug #1960412,NEW,2022-06-14 13:26:13.000000000,2022-06-15 15:02:14.000000000,,116,7,0,845753,bf190069124e8ead8255dddaa0c18dc1f563374d,10,1,3,2,19234,Alexey Stupnikov,astupnikov,"Add functional tests to reproduce bug #1960412

Instance would be affected by problems described in bug #1949808
and bug #1960412 when queued live migration is aborted.

This change adds functional test to reproduce problems with
placement allocations (record for aborted live migration is not
removed when queued live migration is aborted) and with Neutron port
bindings (INACTIVE port binding records for destination host are not
removed when queued live migration is aborted).

It looks like there are no other modifications introduced by Nova
control plane which should be reverted when queued live migration is
aborted.

This patch also changes neutron fixture:

- neutron fixture was changed to improve active port binding's
  tracking during live migration: without this change port's
  binding:host_id is not updated when activate_port_binding() is
  called. As a result, list_ports() function returns empty list
  when constants.BINDING_HOST_ID is used in search_opts, which is
  the case for setup_networks_on_host() called with teardown=True.

Conflicts:
- nova/tests/fixtures/libvirt.py
- nova/tests/fixtures/neutron.py

NOTE. There is no need to change libvirt fixture because original
problem with lack of address element is no longer there (I also
removed related note from commit message itself). NeutronFixture
class is defined in different place instable/wallaby, but code
staus the same.

Related-bug: #1960412
Related-bug: #1949808
Change-Id: I152581deb6e659c551f78eed66e4b0b958b20c53
(cherry picked from commit 1ad287bf9a8f65ce68c14f4634775f58abda15c2)
(cherry picked from commit 479b8db3ab07dd1f50c029904cca17f3a5708685)
"
openstack%2Fneutron~master~I401d121b69bcf479cba5b9d151bcd65dabf5aea6,openstack/neutron,master,bug/1959176,I401d121b69bcf479cba5b9d151bcd65dabf5aea6,Decrease OS_TEST_TIMEOUT to 240 for dsvm-fullstack,ABANDONED,2022-02-02 12:21:26.000000000,2022-06-15 14:59:24.000000000,,56,9,14,827488,c546edc0fb3d346215405bef6a3c8d910d8e67c0,55,9,6,4,8313,Lajos Katona,elajkat,"Decrease OS_TEST_TIMEOUT to 240 for dsvm-fullstack

OS_TEST_TIMEOUT was set to 600 due to old db teardown issues (see [0]).
Those are not affecting fullstack now, but the long timeout causes
job timeouts. test_ha_router_restart_agents_no_packet_lost execution
time is around 180sec, so the OS_TEST_TIMEOUT (180sec) is short for
fullstack execution, here I changed it to 300.

Fullstack test test_ha_router_restart_agents_no_packet_lost fails with
smaller timeout, a possible fix is to add fixtures.TimeoutException
to _kill_process_and_wait, as during fullstack execution processes are
started as Fixtures.

[0]: https://bugs.launchpad.net/neutron/+bug/1541742

Change-Id: I401d121b69bcf479cba5b9d151bcd65dabf5aea6
Related-Bug: #1959176
"
openstack%2Fneutron~master~I0d1e8cdddd0430417d00132e8f746a22671c0c1b,openstack/neutron,master,bug/1965297,I0d1e8cdddd0430417d00132e8f746a22671c0c1b,"Revert ""Allow usage of legacy 3rd-party interface drivers""",ABANDONED,2022-03-17 13:04:04.000000000,2022-06-15 14:59:18.000000000,,4,10,2,834161,132162376cff0948cfc18c2f1c7c90d035e11c55,9,3,1,2,6737,Edward Hope-Morley,hopem,"Revert ""Allow usage of legacy 3rd-party interface drivers""

This reverts commit 30d573d5abeb4a5251d08dc5384f5c0ff372eff8.

Change-Id: I0d1e8cdddd0430417d00132e8f746a22671c0c1b
"
openstack%2Fneutron~master~I17597b71344a4c1141e9176b09a4d2e61729b1cd,openstack/neutron,master,,I17597b71344a4c1141e9176b09a4d2e61729b1cd,Allow uplink_propagate_status to be updated,ABANDONED,2022-03-29 14:57:46.000000000,2022-06-15 14:59:13.000000000,,56,1,0,835643,865173c96efe649a7cbf4eef495922b1de58d2eb,36,2,7,2,7130,David Hill,dhill,"Allow uplink_propagate_status to be updated

Allow uplink_propagate_status to be updated

Change-Id: I17597b71344a4c1141e9176b09a4d2e61729b1cd
Depends-on: https://review.opendev.org/c/openstack/neutron-lib/+/835637
"
openstack%2Fneutron-lib~master~I47ed360b8baa5fa2c04979641790af91d01f7cf5,openstack/neutron-lib,master,uplink_prop_status,I47ed360b8baa5fa2c04979641790af91d01f7cf5,Allow uplink_status_propagation update on existing ports,ABANDONED,2022-03-29 14:29:19.000000000,2022-06-15 14:59:08.000000000,,1,1,2,835637,7efa9de34ed5f1e16b456ef8b722200b862ff042,5,2,2,1,7130,David Hill,dhill,"Allow uplink_status_propagation update on existing ports

Allow uplink_status_propagation update on existing ports

Change-Id: I47ed360b8baa5fa2c04979641790af91d01f7cf5
Depends-on: https://review.opendev.org/c/openstack/neutron/+/835643
"
openstack%2Fneutron-dynamic-routing~master~Ife03ae4ca1b02d8e68d75ae493636b6fe2298309,openstack/neutron-dynamic-routing,master,ovn_test,Ife03ae4ca1b02d8e68d75ae493636b6fe2298309,[DO NOT MERGE] Test with OVN,ABANDONED,2020-06-29 13:57:51.000000000,2022-06-15 14:58:57.000000000,,64,0,2,738450,a9789710dac591ed7bec7be0493c3c7aae2bf445,37,3,10,1,21798,Bernard Cafarelli,bcafarel,"[DO NOT MERGE] Test with OVN

Depends-On: https://review.opendev.org/738641
Change-Id: Ife03ae4ca1b02d8e68d75ae493636b6fe2298309
"
openstack%2Fneutron~master~I91f629fd8fe44e71c3da6eece303c307e48435a1,openstack/neutron,master,fix-security-group-rule-id-check,I91f629fd8fe44e71c3da6eece303c307e48435a1,Fix create security group rule id check when using integer,ABANDONED,2022-04-08 15:17:11.000000000,2022-06-15 14:58:52.000000000,,11,1,2,837146,a6ec99dbbecb511dd9fdfb21458dadf024192a12,8,3,1,2,28514,Andrew Karpow,andyk,"Fix create security group rule id check when using integer

security_groups_db._check_security_group is supposed to check the security_group_id
of the _create_security_group_rule payload. When using an integer e.g. 0,
as security_group_id, the check succeded because of mysql accepts following query:

SELECT * FROM securitygroups WHERE id in (0)

Casting the security_group_id to a string ensures the check works as expected.

Closes-Bug: #1968343
Change-Id: I91f629fd8fe44e71c3da6eece303c307e48435a1
"
openstack%2Fnetworking-midonet~stable%2Fstein~I83e97e3b85bb615d7fd9bb69789ed3b034a26775,openstack/networking-midonet,stable/stein,rename-tap-as-a-service,I83e97e3b85bb615d7fd9bb69789ed3b034a26775,Rename tap-as-a-service from x/ to openstack/ namespace,ABANDONED,2022-01-03 12:04:55.000000000,2022-06-15 14:58:41.000000000,,14,23,1,823276,b2b068ec526ec78d532cb53c9d5ced0684339ccd,6,1,2,1,11975,Slawek Kaplonski,slaweq,"Rename tap-as-a-service from x/ to openstack/ namespace

It also removes neutron-lbaas from the required projects from
the jobs' definitions.

Conflicts:
    .zuul.yaml

Change-Id: I83e97e3b85bb615d7fd9bb69789ed3b034a26775
"
openstack%2Fneutron-fwaas~stable%2Frocky~I3ff84140c080d532e4502882a5a9e4f07dcdc052,openstack/neutron-fwaas,stable/rocky,,I3ff84140c080d532e4502882a5a9e4f07dcdc052,Fix CI jobs' definitions,ABANDONED,2022-01-03 13:33:03.000000000,2022-06-15 14:58:36.000000000,,2,6,2,823286,9b6f2bb923a482e3569dc8b5cd06f0c5aef47531,5,1,2,1,11975,Slawek Kaplonski,slaweq,"Fix CI jobs' definitions

* Remove neutron-lbaas from the CI jobs requirements
Neutron-lbaas was retired some time ago [1] so there's no need
to keep it in the requirements of the CI jobs.

* Remove non-voting job neutron-fwaas-networking-midonet-cross-py35 which
  isn't definited in the networking-midonet repo,
  
* rename openstack/networking-l2gw to x/ namespace and x/tap-as-a-service
  to openstack/ namespace

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html

Change-Id: I3ff84140c080d532e4502882a5a9e4f07dcdc052
"
openstack%2Fneutron-fwaas~stable%2Fqueens~I3ff84140c080d532e4502882a5a9e4f07dcdc052,openstack/neutron-fwaas,stable/queens,remove-neutron-lbaas,I3ff84140c080d532e4502882a5a9e4f07dcdc052,Fix CI jobs' definitions,ABANDONED,2022-01-03 13:30:05.000000000,2022-06-15 14:58:31.000000000,,2,6,3,823283,042c47b5b7717a3887898cdfa4f54628515fdf98,6,1,2,1,11975,Slawek Kaplonski,slaweq,"Fix CI jobs' definitions

* Remove neutron-lbaas from the CI jobs requirements
Neutron-lbaas was retired some time ago [1] so there's no need
to keep it in the requirements of the CI jobs.

* Remove non-voting job neutron-fwaas-networking-midonet-cross-py35 which
  isn't definited in the networking-midonet repo,
  
* rename openstack/networking-l2gw to x/ namespace and x/tap-as-a-service
  to openstack/ namespace

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html

Change-Id: I3ff84140c080d532e4502882a5a9e4f07dcdc052
"
openstack%2Fneutron~master~Ibfd91832a26c18c8047e026138546eb7ecd43e5c,openstack/neutron,master,,Ibfd91832a26c18c8047e026138546eb7ecd43e5c,Ensure to remove conntrack after applying deferred openflows,ABANDONED,2022-04-13 12:45:51.000000000,2022-06-15 14:58:25.000000000,,16,10,4,837726,2e845a225f42c034b7cee71060bb9bfc308127f8,14,2,1,3,30463,Krzysztof Tomaszewski,labedz,"Ensure to remove conntrack after applying deferred openflows

Avoid race condition between applying deferred openflow rules
and removing conntrack entries by ensuring that action
to remove conntrack entries will be started after applying
flows.

Deferred openflow rules are applies on context exit in
_apply_port_filter[1] but conntrack entries removing action
stored in greenlet queue is triggered in the last moment by eventlet sleep in
process_trusted_ports() [2] and also in meantime
during openflow batch applying by run_ofctl(). That leads to race condition
between conntrack removal and openflow apply. It may happen that
conntrack removal action is executed before coresponding flow is
applied.

To remove this race condition set a lock on processing conntrack queue
during deferred flow apply.

Partial-Bug: #1934917

[1] agent/securitygroups_rpc.py L#175
[2] openvswitch_firewall/firewall.py L#854

Change-Id: Ibfd91832a26c18c8047e026138546eb7ecd43e5c
"
openstack%2Fneutron-vpnaas-dashboard~stable%2Fvictoria~Ic1d068fd11909aec9811216b6df4d7c92ab567a7,openstack/neutron-vpnaas-dashboard,stable/victoria,zanata/translations,Ic1d068fd11909aec9811216b6df4d7c92ab567a7,Imported Translations from Zanata,ABANDONED,2022-04-15 03:31:09.000000000,2022-06-15 14:58:20.000000000,,926,0,0,838077,a4d18e61458cbec9a0a3fe025c3849f115b45af8,3,1,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic1d068fd11909aec9811216b6df4d7c92ab567a7
"
openstack%2Fnetworking-bgpvpn~master~I7b089a8121d676323f178648ae17c6534d516454,openstack/networking-bgpvpn,master,bgpvpn-ovn-driver,I7b089a8121d676323f178648ae17c6534d516454,WIP: Add OVN-based Neutron BGPVPN driver,ABANDONED,2021-08-02 09:43:39.000000000,2022-06-15 14:58:10.000000000,,973,0,4,803161,5ed333492b22433813bd4489430f23c1c9c62b24,19,4,7,13,6469,Carlos Gonçalves,cgoncalves,"WIP: Add OVN-based Neutron BGPVPN driver

Notes: It disables snat on router association, and re-enables it on
router disassociation

Change-Id: I7b089a8121d676323f178648ae17c6534d516454
"
openstack%2Fneutron-tempest-plugin~master~Ic23cbd154271988adad8d172c7668a918655c4e2,openstack/neutron-tempest-plugin,master,secure-rbac,Ic23cbd154271988adad8d172c7668a918655c4e2,DNM Just test API with enforced new defaults,ABANDONED,2022-04-29 14:21:51.000000000,2022-06-15 14:58:05.000000000,,1,0,0,839954,110b876ed1a7a6ad9c2b5c010bd28e46cd15f38b,3,1,1,1,11975,Slawek Kaplonski,slaweq,"DNM Just test API with enforced new defaults

Depends-On: https://review.opendev.org/c/openstack/neutron/+/839952
Change-Id: Ic23cbd154271988adad8d172c7668a918655c4e2
"
openstack%2Fneutron~master~I828de77ff9d23c1df491722480920ab95059ca10,openstack/neutron,master,secure-rbac,I828de77ff9d23c1df491722480920ab95059ca10,DNM Just test for the new secure rbac policies,ABANDONED,2022-04-29 14:19:11.000000000,2022-06-15 14:58:00.000000000,,3,3,0,839952,07b1e226366a6861ac785edd599b77c764801a9d,7,2,1,1,11975,Slawek Kaplonski,slaweq,"DNM Just test for the new secure rbac policies

Change-Id: I828de77ff9d23c1df491722480920ab95059ca10
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Iedfb543f4a0f2adb02e696a5afa52693d3dcee37,openstack/tripleo-heat-templates,stable/victoria,,Iedfb543f4a0f2adb02e696a5afa52693d3dcee37,Only run mysql upgrade commands when needed,ABANDONED,2022-06-15 14:38:52.000000000,2022-06-15 14:55:23.000000000,,6,0,1,845999,7867fcb9f6d712f4140c9a6e6bfb10efed13a3f0,3,1,1,1,31245,Daniel Bengtsson,damani42,"Only run mysql upgrade commands when needed

During upgrade tasks, a transient container performs
mysql upgrades on disk. This action can fail if mysql
has been stopped improperly (leaving tc.log behind),
and block further runs of upgrade tasks. To avoid that,
do no run mysql upgrade script if we detect that it has
already been done once for the current mysql version.

Tested by running a FFU once, stopping galera on a node,
and rerunning ""overcloud upgrade run"".

Closes-Bug: #1962770
Change-Id: Iedfb543f4a0f2adb02e696a5afa52693d3dcee37
(cherry picked from commit 309c89e90220db90bdcb43db6ce8fa98c6881d48)
(cherry picked from commit 5c847345791e8cb56e7499b4e455de7bc61b5607)
"
openstack%2Fcharm-cinder-lvm~master~I7358d722c375bcbda927d8d0189b9f31af3cba62,openstack/charm-cinder-lvm,master,update-bundles-yoga,I7358d722c375bcbda927d8d0189b9f31af3cba62,"Update the bundles to use the stable track, edge risk for yoga",ABANDONED,2022-06-15 11:49:24.000000000,2022-06-15 14:46:30.000000000,,24,24,1,845933,021b54c17056db1f8115bd3c400ba16901a5ff13,4,2,1,4,20870,Alex Kavanagh,ajkavanagh,"Update the bundles to use the stable track, edge risk for yoga

The bundles for the yoga channel currently point to ""latest/edge""
channel for all the charms.  This update points the charms to the
appropriate channel for the charm being used, either from ceph,
openstack, ovn or the misc tracks.

Change-Id: I7358d722c375bcbda927d8d0189b9f31af3cba62
"
openstack%2Fneutron-tempest-plugin~master~Iad0b0f5c18753e61458244cfb8106944ad4d2dc3,openstack/neutron-tempest-plugin,master,add-jammy2,Iad0b0f5c18753e61458244cfb8106944ad4d2dc3,DNM: Testing stadium jobs on jammy,ABANDONED,2022-05-11 14:19:56.000000000,2022-06-15 14:41:12.000000000,,60,24,1,841435,60b9fff10463bd64836711c03fc650ef89553927,6,1,2,2,8313,Lajos Katona,elajkat,"DNM: Testing stadium jobs on jammy

Added
- neutron-tempest-plugin-sfc-jammy
- neutron-tempest-plugin-bgpvpn-bagpipe-jammy
- neutron-tempest-plugin-dynamic-routing-jammy
- neutron-tempest-plugin-fwaas-jammy
- neutron-tempest-plugin-vpnaas-jammy
- neutron-tempest-plugin-tap-as-a-service-jammy
to see how stadiums work with jammy (ubuntu22.04)

Change-Id: Iad0b0f5c18753e61458244cfb8106944ad4d2dc3
Depends-On: https://review.opendev.org/c/openstack/devstack/+/839359
"
openstack%2Fneutron~master~If7a9faa702412a5ac0eaf52e6a8e0e0fae22b4da,openstack/neutron,master,ovn-dep,If7a9faa702412a5ac0eaf52e6a8e0e0fae22b4da,ovn: Bump OVN version to v22.03.0,ABANDONED,2021-11-18 16:02:58.000000000,2022-06-15 14:41:06.000000000,,8,8,12,818418,044239b81e427e20cbb00511d3fa3b01ce1a9d4a,30,3,4,2,8655,Jakub Libosvar,jlibosva,"ovn: Bump OVN version to v22.03.0

There's been a new minor version of OVN. In order to keep as close as
possible to the new release this patch bumps the version to the latest
stable.

Change-Id: If7a9faa702412a5ac0eaf52e6a8e0e0fae22b4da
"
openstack%2Fneutron~master~I3763945733d6bdf241854e1aa203ae4107d87f96,openstack/neutron,master,add-jammy2,I3763945733d6bdf241854e1aa203ae4107d87f96,DNM: Testing jammy linuxbridge job,ABANDONED,2022-05-11 12:06:05.000000000,2022-06-15 14:41:01.000000000,,46,50,3,841413,965309857e77ada16f36803e93e2fa57dd89c846,17,1,3,3,8313,Lajos Katona,elajkat,"DNM: Testing jammy linuxbridge job

Added neutron-linuxbridge-tempest-plugin-jammy-scenario-nftables and
neutron-ovs-tempest-plugin-scenario-jammy-iptables_hybrid-nftables to
experimental queue to see how linuxbridge works with jammy (ubuntu22.04)

Change-Id: I3763945733d6bdf241854e1aa203ae4107d87f96
Depends-On: https://review.opendev.org/c/openstack/devstack/+/839359
"
openstack%2Fneutron-fwaas~master~I38f40abab7b4fc28c65c42ba716073114b49a6cf,openstack/neutron-fwaas,master,fwaas-ovn-driver,I38f40abab7b4fc28c65c42ba716073114b49a6cf,add ovn driver,ABANDONED,2022-04-06 05:56:33.000000000,2022-06-15 14:40:56.000000000,,456,0,18,836729,e53a6dabfec59823cbe69a0dca18b84de333b202,19,2,7,6,30380,ZhouHeng,zhouhenglc,"add ovn driver

Change-Id: I38f40abab7b4fc28c65c42ba716073114b49a6cf
"
openstack%2Fpython-manilaclient~master~Ic6c0bb736bcbe196f8ce7cf4b6c2075071040610,openstack/python-manilaclient,master,bp/openstack-client-support,Ic6c0bb736bcbe196f8ce7cf4b6c2075071040610,Add support for --export-location filtering when listing shares,MERGED,2022-05-26 10:46:54.000000000,2022-06-15 14:36:41.000000000,2022-06-15 14:35:17.000000000,14,1,27,843428,bedefd0a7b1fc67e32617acacef795b7d3ec2e12,23,4,5,2,34123,Franca Mgbogu,franciedigital,"Add support for --export-location filtering when listing shares

This patch adds support for filtering with either share export
Location ID or Path when listing shares.

Change-Id: Ic6c0bb736bcbe196f8ce7cf4b6c2075071040610
"
openstack%2Ftripleo-ci~master~Ie5b2f579aa38c4b5290b2d19e8e75485fd596ebd,openstack/tripleo-ci,master,create-sc010-options-job,Ie5b2f579aa38c4b5290b2d19e8e75485fd596ebd,Create sc010 and sc010-ovn-provider -options jobs,ABANDONED,2022-06-15 14:26:26.000000000,2022-06-15 14:26:58.000000000,,105,72,0,845996,99a706dfd8e3b461766514c450b947c12cabc042,3,1,1,3,8449,Marios Andreou,marios,"Create sc010 and sc010-ovn-provider -options jobs

This patch created sc010 and sc010-ovn-provider options jobs.

Test patch is here: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844950
Change-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1

Change-Id: Ie5b2f579aa38c4b5290b2d19e8e75485fd596ebd
"
openstack%2Fopenstack-ansible~master~I346d0df95dfc04cf830b5b1ff6503270d6cb0b85,openstack/openstack-ansible,master,,I346d0df95dfc04cf830b5b1ff6503270d6cb0b85,Add log collection from /etc/ironic-inspector,MERGED,2022-06-15 07:48:50.000000000,2022-06-15 14:25:06.000000000,2022-06-15 14:22:43.000000000,1,0,0,845891,42dc0971300a573f37c6ff98faec3a689d30f03f,8,3,1,1,25023,Jonathan Rosser,jrosser,"Add log collection from /etc/ironic-inspector

The dnsmasq config file is in this directory.

Change-Id: I346d0df95dfc04cf830b5b1ff6503270d6cb0b85
"
openstack%2Fnova~stable%2Ftrain~Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd,openstack/nova,stable/train,bug/1879878,Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd,Add generic reproducer for bug #1879878,MERGED,2020-09-11 17:20:55.000000000,2022-06-15 14:15:43.000000000,2022-06-15 14:10:34.000000000,173,0,1,751366,6d8d2cb24af123c64e65d30988c9b74c0191075b,25,7,3,1,15334,Stephen Finucane,sfinucan,"Add generic reproducer for bug #1879878

No need for the libvirt driver in all its complexity here.

Changes:
  nova/tests/functional/regressions/test_bug_1879878.py

NOTE(stephenfin): The '_create_server' and '_delete_server' helpers
don't exist here, so we need to use the older helpers like
'_build_minimal_create_server_request'. Also, we need to support Python
2 here so we can't use 'super' without arguments :(

Change-Id: Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit e1adbced92453329f7285ec38c1dc7821ebb52c7)
(cherry picked from commit 15da841ecb6cc6152f5e6dbcd63bf09725cac6fc)
"
openstack%2Fnova~stable%2Ftrain~I56d3cb17260dad8b88f03c0a7b9688efb3258d6f,openstack/nova,stable/train,bug/1879878,I56d3cb17260dad8b88f03c0a7b9688efb3258d6f,Only allow one scheduler service in tests,MERGED,2020-09-11 17:20:55.000000000,2022-06-15 14:14:08.000000000,2022-06-15 14:10:05.000000000,21,0,1,751362,bc30d78a5d22720b8bd739b1e6667332f2484d40,17,9,2,1,15334,Stephen Finucane,sfinucan,"Only allow one scheduler service in tests

There have been two recent issues [1][2] caused by starting multiple
instances of the same service in tests. This can cause races when the
services' (shared) state conflicts.

With this patch, the nexus of nova service starting,
nova.test.TestCase.start_service, is instrumented to keep track of how
many of each service we are running. If we try to run the scheduler
service more than once, we fail.

We could probably do the same thing for conductor, though that's less
important (for now) because conductor is stateless (for now).

[1] https://bugs.launchpad.net/nova/+bug/1844174
[2] https://review.opendev.org/#/c/681059/ (not a nova service, but same
class of problem)

Change-Id: I56d3cb17260dad8b88f03c0a7b9688efb3258d6f
(cherry picked from commit fe05d004b51dc9801749b0f5572e1a2392004830)
"
openstack%2Ftempest~master~I1d60c21473c7b657a3f4ad57525c4561f2cfcfd5,openstack/tempest,master,,I1d60c21473c7b657a3f4ad57525c4561f2cfcfd5,Add py310 job in gate,MERGED,2022-03-04 21:28:08.000000000,2022-06-15 14:13:53.000000000,2022-06-15 14:09:08.000000000,2,1,3,832144,78f5439b7343b4e8591c61ddb96b6905e7baba57,19,5,4,2,8556,Ghanshyam,ghanshyam,"Add py310 job in gate

As 3.10 is next python version we will be testing in
next cycle (after Zed), let's add it in our testing in advance.

Change-Id: I1d60c21473c7b657a3f4ad57525c4561f2cfcfd5
"
openstack%2Fnova~stable%2Ftrain~Ie092628ac71eb87c9dfa7220255a2953ada9e04d,openstack/nova,stable/train,bug/1879878,Ie092628ac71eb87c9dfa7220255a2953ada9e04d,tests: Add reproducer for bug #1879878,MERGED,2020-09-11 17:20:55.000000000,2022-06-15 14:10:28.000000000,2022-06-15 14:10:28.000000000,86,0,1,751365,9f789caded517b5503e6728c3c5859fb5525ad39,24,7,3,1,15334,Stephen Finucane,sfinucan,"tests: Add reproducer for bug #1879878

When one resizes a pinned instance, the instance claims host CPUs for
pinning purposes on the destination. However, the host CPUs on the
source are not immediately relinquished. Rather, they are held by the
migration record, to handle the event that the resize is reverted. It is
only when one confirms this resize that the old cores are finally
relinquished.

It appears there is a potential race between the resource tracker's
periodic task and the freeing of these resources, resulting in attempts
to unpin host cores that have already been unpinned. This test
highlights that bug pending a fix.

Changes:
  nova/tests/functional/libvirt/test_numa_servers.py

NOTE(stephenfin): We don't yet have the '_create_server' helper or the
more sensible '_wait_for_state_change' behavior on 'stable/train', so we
have to revert to '_build_server' and checking for the state before the
one we want.

Change-Id: Ie092628ac71eb87c9dfa7220255a2953ada9e04d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1879878
(cherry picked from commit 10f0a42de162c90c701f70c9c28dc31bfada87db)
(cherry picked from commit 8ffaac493288c73badfa4f1ec6021ecb4f3137b7)
"
openstack%2Fnova~stable%2Ftrain~Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f,openstack/nova,stable/train,bug/1879878,Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f,Helper to start computes with different HostInfos,MERGED,2020-09-11 17:20:55.000000000,2022-06-15 14:10:20.000000000,2022-06-15 14:10:20.000000000,56,64,1,751364,29ee5984f88b23383d680454c5a106d9c52721bb,24,9,5,2,15334,Stephen Finucane,sfinucan,"Helper to start computes with different HostInfos

Sometimes functional tests need to start multiple compute hosts with
different HostInfo objects (representing, for example, different NUMA
topologies). In the future this will also be needed by both NUMA-aware
live migration functional tests and a regression test for bug 1843639.
This patch adds a helper function to the base libvirt function test
class that takes a hostname to HostInfo dict and starts a compute for
each host. Existing tests that can make use of this new helper are
refactored.

Change-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f
(cherry picked from commit 607307c1d8a5a7fbcae96ddbb4cf8e944f46f42b)
"
openstack%2Fnova~stable%2Ftrain~I33d8ac0a1cae0b2d275a21287d5e44c008a68122,openstack/nova,stable/train,bug/1879878,I33d8ac0a1cae0b2d275a21287d5e44c008a68122,func tests: move _run_periodics() into base class,MERGED,2020-09-11 17:20:55.000000000,2022-06-15 14:10:12.000000000,2022-06-15 14:10:12.000000000,56,98,5,751363,0668bc1a86427f848c024d7eab9fb2167a38ccc3,20,9,3,12,15334,Stephen Finucane,sfinucan,"func tests: move _run_periodics() into base class

There are two almost identical implementations of the _run_periodics()
helper - and a third one would have joined them in a subsequent patch,
if not for this patch. This patch moves the _run_periodics() to the
base test class. In addition, _run_periodics() depends on the
self.computes dict used for compute service tracking. The method that
populates that dict, _start_compute(), is therefore also moved to the
base class.

This enables some light refactoring of existing tests that need
either the _run_periodics() helper, or the compute service tracking.

In addition, a needless override of _start_compute() in
test_aggregates that provided no added value is removed. This is done
to avoid any potential confusion around _start_compute()'s role.

Conflicts:
  nova/tests/functional/compute/test_cache_image.py
  nova/tests/functional/integrated_helpers.py
  nova/tests/functional/test_scheduler.py

NOTE(stephenfin): Conflicts are due to the two test files not existing
yet and the large number of helpers missing from the
'integrated_helpers' class.

Changes:
  nova/tests/functional/regressions/test_bug_1889108.py

NOTE(stephenfin): Changes are due to a backport that was modified to
remove use of the functions we're adding here.

Change-Id: I33d8ac0a1cae0b2d275a21287d5e44c008a68122
(cherry picked from commit ee05cd8b9e73f8a9a43dbe9ce028e6a6beaec2bd)
"
openstack%2Fcharm-nova-compute~stable%2F21.10~I01a33b55e2c91ba255997b6a1ed123d9c71ff48d,openstack/charm-nova-compute,stable/21.10,update-bundles-yoga,I01a33b55e2c91ba255997b6a1ed123d9c71ff48d,"Update the bundles to use the stable track, edge risk for yoga",ABANDONED,2022-06-15 11:54:19.000000000,2022-06-15 14:00:55.000000000,,4602,783,2,845966,595a3cc6002d5bd5d0199cc2325680935ac0a8b5,6,2,1,129,20870,Alex Kavanagh,ajkavanagh,"Update the bundles to use the stable track, edge risk for yoga

The bundles for the yoga channel currently point to ""latest/edge""
channel for all the charms.  This update points the charms to the
appropriate channel for the charm being used, either from ceph,
openstack, ovn or the misc tracks.

Change-Id: I01a33b55e2c91ba255997b6a1ed123d9c71ff48d
"
openstack%2Fcharm-neutron-api~stable%2Fvictoria~Icab91299db4ff7ab3e24fe3a66a5056f26e3c727,openstack/charm-neutron-api,stable/victoria,charmhub-migration,Icab91299db4ff7ab3e24fe3a66a5056f26e3c727,Migrate charm charmhub for stable/victoria,MERGED,2022-05-19 10:37:34.000000000,2022-06-15 13:58:11.000000000,2022-06-15 13:58:11.000000000,120,670,4,842511,72f64017286bb9fe2e6b1da4c0f89399489bf6bd,20,3,3,29,20870,Alex Kavanagh,ajkavanagh,"Migrate charm charmhub for stable/victoria

- start from stable/victoria branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/victoria for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64
- pin tempest for python <= 3.6

Change-Id: Icab91299db4ff7ab3e24fe3a66a5056f26e3c727
"
openstack%2Fcinder~master~I50fc926275dec1360fc3880bbfb8780078e01bce,openstack/cinder,master,clarify-replication-group,I50fc926275dec1360fc3880bbfb8780078e01bce,PowerMax Docs - Clarify Replication Group,MERGED,2021-09-14 16:15:12.000000000,2022-06-15 13:36:34.000000000,2022-03-29 21:55:47.000000000,43,4,6,808995,12a3e205078e6fb6a51baae5491c9f167274d823,50,5,2,1,12670,Helen Walsh,walshh2,"PowerMax Docs - Clarify Replication Group

Clarification on how to set up a replication group
for the PowerMax driver.

Change-Id: I50fc926275dec1360fc3880bbfb8780078e01bce
"
openstack%2Fnova~stable%2Fyoga~I7b432d7a32aeb1ab765d1f731691c7841a8f1440,openstack/nova,stable/yoga,bug/1969496,I7b432d7a32aeb1ab765d1f731691c7841a8f1440,Simulate bug 1969496,MERGED,2022-05-06 08:36:20.000000000,2022-06-15 13:31:12.000000000,2022-06-15 13:06:52.000000000,56,0,5,840832,23c48b670668e9cae886b5113c776077780f5581,21,3,1,1,9708,Balazs Gibizer,gibi,"Simulate bug 1969496

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail to
when try to mark the dependent VFs unavailable.

This patch adds a test case that shows the error.

Related-Bug: #1969496

Change-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440
(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Ie34a883ac7ae989d7f74c19b9c9ee9f08a82a35f,openstack/kolla-ansible,stable/wallaby,,Ie34a883ac7ae989d7f74c19b9c9ee9f08a82a35f,Switch to Cortex-A72 cpu on AArch64,MERGED,2022-06-02 09:41:05.000000000,2022-06-15 12:56:08.000000000,2022-06-15 12:54:44.000000000,2,1,0,844385,8a8fafd6c6d3d10360dee2c28ae12db821937c00,9,6,1,1,24072,Marcin Juszkiewicz,hrw,"Switch to Cortex-A72 cpu on AArch64

CPU model ""max"" fails to boot CirrOS and some other images when QEMU 7.0
is used.

Change-Id: Ie34a883ac7ae989d7f74c19b9c9ee9f08a82a35f
(cherry picked from commit c9a3dd9cd3c004e61836a252aa34b65b89038bee)
"
openstack%2Fkayobe~master~I0cc48d0d5ed17400badb081e9117c9351677bb38,openstack/kayobe,master,ipa-builder-yoga,I0cc48d0d5ed17400badb081e9117c9351677bb38,Force use of yoga upper constraints in ipa-builder,MERGED,2022-06-10 09:46:45.000000000,2022-06-15 12:51:09.000000000,2022-06-15 12:49:43.000000000,2,1,1,845337,4ce746c1998c4c63502c46ac6185159b316275e8,15,6,3,1,15197,Pierre Riteau,priteau,"Force use of yoga upper constraints in ipa-builder

IPA itself is still compatible with Python 3.6, but ipa-builder uses
master upper-constraints which have dropped support for 3.6 and are
pulling importlib-metadata===4.11.4, which requires 3.7.

    ERROR: Cannot install ironic-python-agent==8.6.1.dev13 because these package versions have conflicting dependencies.

    The conflict is caused by:
        ironic-python-agent 8.6.1.dev13 depends on importlib_metadata>=1.7.0
        The user requested (constraint) importlib-metadata===4.11.4

Change-Id: I0cc48d0d5ed17400badb081e9117c9351677bb38
"
openstack%2Fvenus~master~I10ea453f356513f485620b67d4831503ff04d72f,openstack/venus,master,,I10ea453f356513f485620b67d4831503ff04d72f,Put the class init in the setup function,MERGED,2022-06-15 10:07:50.000000000,2022-06-15 12:36:29.000000000,2022-06-15 12:35:07.000000000,23,34,2,845916,abf7eb1ec534556c320c2528bdc488a83aa9bd00,8,3,1,1,31412,Wenping Song,songwenping,"Put the class init in the setup function

Change-Id: I10ea453f356513f485620b67d4831503ff04d72f
"
openstack%2Fvenus~master~I8ba0be1dc7e5bc255fd1e3bc8d4e165ddbb0d076,openstack/venus,master,,I8ba0be1dc7e5bc255fd1e3bc8d4e165ddbb0d076,"Remove None for get method, the default value is None",MERGED,2022-06-15 09:31:44.000000000,2022-06-15 12:30:08.000000000,2022-06-15 12:28:41.000000000,28,28,2,845908,e01a91a2b6055c5f1da4e7f8346f55850189ded4,8,3,1,1,31412,Wenping Song,songwenping,"Remove None for get method, the default value is None

Change-Id: I8ba0be1dc7e5bc255fd1e3bc8d4e165ddbb0d076
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I4554fc54c096be32b85d66030d8b2fc892e595bb,openstack/tripleo-ansible,stable/train,bug/1976122-stable/train,I4554fc54c096be32b85d66030d8b2fc892e595bb,Ensure ceph_ansible_playbook_verbosity is an integer,MERGED,2022-06-14 10:44:14.000000000,2022-06-15 12:20:15.000000000,2022-06-15 12:20:15.000000000,1,1,2,845677,b210f41cfc14bdc7bc0cc18e3f0f14f959adeeb9,11,3,2,1,18002,John Fulton,fultonj,"Ensure ceph_ansible_playbook_verbosity is an integer

This patch is going directly into stable/wallaby because
this role was deprecated in that release and removed in
the next release.

Change-Id: I4554fc54c096be32b85d66030d8b2fc892e595bb
Closes-Bug: #1976122
(cherry picked from commit 4f84847a8d734158588972e32ce58ec5ec2846f9)
"
openstack%2Fnova~stable%2Ftrain~I26b050c402f5721fc490126e9becb643af9279b4,openstack/nova,stable/train,bug/1879878,I26b050c402f5721fc490126e9becb643af9279b4,Move confirm resize under semaphore,NEW,2020-09-11 17:20:55.000000000,2022-06-15 12:12:10.000000000,,47,43,5,751368,c957bd81bae1f23b566b6a51ae96bdca89897719,21,9,3,6,15334,Stephen Finucane,sfinucan,"Move confirm resize under semaphore

The 'ResourceTracker.update_available_resource' periodic task builds
usage information for the current host by inspecting instances and
in-progress migrations, combining the two. Specifically, it finds all
instances that are not in the 'DELETED' or 'SHELVED_OFFLOADED' state,
calculates the usage from these, then finds all in-progress migrations
for the host that don't have an associated instance (to prevent double
accounting) and includes the usage for these.

In addition to the periodic task, the 'ResourceTracker' class has a
number of helper functions to make or drop claims for the inventory
generated by the 'update_available_resource' periodic task as part of
the various instance operations. These helpers naturally assume that
when making a claim for a particular instance or migration, there
shouldn't already be resources allocated for same. Conversely, when
dropping claims, the resources should currently be allocated. However,
the check for *active* instances and *in-progress* migrations in the
periodic task means we have to be careful in how we make changes to a
given instance or migration record. Running the periodic task between
such an operation and an attempt to make or drop a claim can result in
TOCTOU-like races.

This generally isn't an issue: we use the 'COMPUTE_RESOURCE_SEMAPHORE'
semaphore to prevent the periodic task running while we're claiming
resources in helpers like 'ResourceTracker.instance_claim' and we make
our changes to the instances and migrations within this context. There
is one exception though: the 'drop_move_claim' helper. This function is
used when dropping a claim for either a cold migration, a resize or a
live migration, and will drop usage from either the source host (based
on the ""old"" flavor) for a resize confirm or the destination host (based
on the ""new"" flavor) for a resize revert or live migration rollback.
Unfortunately, while the function itself is wrapped in the semaphore, no
changes to the state or the instance or migration in question are
protected by it.

Consider the confirm resize case, which we're addressing here. If we
mark the migration as 'confirmed' before running 'drop_move_claim', then
the periodic task running between these steps will not account for the
usage on the source since the migration is allegedly 'confirmed'. The
call to 'drop_move_claim' will then result in the tracker dropping usage
that we're no longer accounting for. This ""set migration status before
dropping usage"" is the current behaviour for both same-cell and
cross-cell resize, via the 'ComputeManager.confirm_resize' and
'ComputeManager.confirm_snapshot_based_resize_at_source' functions,
respectively. We could reverse those calls and run 'drop_move_claim'
before marking the migration as 'confirmed', but while our usage will be
momentarily correct, the periodic task running between these steps will
re-add the usage we just dropped since the migration isn't yet
'confirmed'. The correct solution is to close this gap between setting
the migration status and dropping the move claim to zero. We do this by
putting both operations behind the 'COMPUTE_RESOURCE_SEMAPHORE', just
like the claim operations.

Conflicts:
  nova/compute/manager.py
  nova/compute/resource_tracker.py
  nova/conductor/tasks/cross_cell_migrate.py
  nova/tests/unit/compute/test_compute_mgr.py

NOTE(stephenfin): The bulk of the conflicts are due to the absence of
various cross-cell resize related patches. The only exception is the
conflict in 'nova/compute/resource_tracker.py', which is due to the
absence of change Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9 (""Use fair
locks in resource tracker"") which we can't backport since it requires a
feature only found in newer versions of 'oslo.concurrency' and mandates
a lower constraint bump.

Change-Id: I26b050c402f5721fc490126e9becb643af9279b4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Partial-Bug: #1879878
(cherry picked from commit a57800d3825ef2fb833d8024c6f7e5c550f55e2f)
(cherry picked from commit 4fcada57d6c569a3b9c8094cdfb37b77ec2a8cb5)
"
openstack%2Fkolla~master~I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1,openstack/kolla,master,,I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1,Switch OPENSTACK_RELEASE back to master,MERGED,2022-06-07 04:58:36.000000000,2022-06-15 11:57:21.000000000,2022-06-15 11:55:26.000000000,4,1,8,844904,07a65c9061fe34bbbd39b5247df54ae2ef8a4c5c,43,5,7,2,22629,Michal Nasiadka,mnasiadka,"Switch OPENSTACK_RELEASE back to master

Cap openstacksdk in kolla-toolbox to avoid ansible-openstack-collection
from failing.

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844905
Change-Id: I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1
"
openstack%2Fneutron-tempest-plugin~master~I6b5b35ff92d533224ff26cbf2e64bbff62ee308c,openstack/neutron-tempest-plugin,master,mac_vlan_trunk,I6b5b35ff92d533224ff26cbf2e64bbff62ee308c,Set mac inside vm to the vlan interface,MERGED,2022-06-03 12:59:13.000000000,2022-06-15 11:52:40.000000000,2022-06-15 11:52:40.000000000,9,2,5,844584,823b1a05bf53715a9d353818c6c6987f1e20d5dd,11,6,1,1,30102,Miguel Angel Nieto Jimenez,mnietoji,"Set mac inside vm to the vlan interface

mac address should match the neutron port mac address

Change-Id: I6b5b35ff92d533224ff26cbf2e64bbff62ee308c
"
openstack%2Fdevstack~stable%2Fyoga~I831889a09fabe5bed5522d17e352ec8009eac321,openstack/devstack,stable/yoga,,I831889a09fabe5bed5522d17e352ec8009eac321,Move openEuler job to experimental pipeline,ABANDONED,2022-04-13 23:53:38.000000000,2022-06-15 11:40:28.000000000,,1,1,1,837791,45c6d15da9b975f2c6938f598166e299dc7a90d3,4,2,1,1,8556,Ghanshyam,ghanshyam,"Move openEuler job to experimental pipeline

OpenEuler job fails 100% of the time. As discussed in QA meeting,
we agreed to move OpenEuler job to experimental pipeline.
- https://meetings.opendev.org/meetings/qa/2022/qa.2022-03-22-15.00.log.html#l-76

Once it is fixed, we can think of adding back to regular pipeline.

Change-Id: I831889a09fabe5bed5522d17e352ec8009eac321
(cherry picked from commit 45b029064f3f9ebb94cca97e572d9c0500abe21f)
"
openstack%2Ftempest~master~I7d5534f42d5422b06cd32ec01480879a5b10b479,openstack/tempest,master,qa-py310,I7d5534f42d5422b06cd32ec01480879a5b10b479,Add openstack-tox-py310 job as nv,ABANDONED,2022-05-11 12:52:21.000000000,2022-06-15 11:32:33.000000000,,2,0,5,841423,6277b67a1ca31155136b66c57d36bc4343e3a2f0,9,1,1,1,22873,Martin Kopec,mkopec,"Add openstack-tox-py310 job as nv

Let's test against py3.10 to prepare and to make sure the project
is compatible with py3.10.

Change-Id: I7d5534f42d5422b06cd32ec01480879a5b10b479
"
openstack%2Fproject-config~master~I1c410a5a40d79b81e177e69468b17c0c34aafd4f,openstack/project-config,master,fix-propose-updates,I1c410a5a40d79b81e177e69468b17c0c34aafd4f,Switch back translation-update jobs to install python3.8,MERGED,2022-06-15 07:51:27.000000000,2022-06-15 11:30:28.000000000,2022-06-15 11:30:28.000000000,4,0,4,845892,362d97a0bc9b646eb1ca7ffd6cf0d30107b6aad9,11,6,1,1,13861,yatin,yatinkarel,"Switch back translation-update jobs to install python3.8

[1] switch propose-updates job to install python3.9
but there are translation update jobs that inherits
from propose-updates and runs on ubuntu-bionic.

ubuntu-bionic don't have python3.9 so these jobs fail.
This patch switches these jobs back so they don't
attempt to install python3.9.

[1] https://review.opendev.org/c/openstack/project-config/+/844422

Change-Id: I1c410a5a40d79b81e177e69468b17c0c34aafd4f
"
openstack%2Ftripleo-docs~master~I62c8ba899e23c3235fd1aad40d0051c7fc1c9267,openstack/tripleo-docs,master,lp_1976559,I62c8ba899e23c3235fd1aad40d0051c7fc1c9267,Remove wrong repo in 'Get Images' section,ABANDONED,2022-06-03 12:28:43.000000000,2022-06-15 11:16:28.000000000,,1,1,1,844579,cc3528b8c583cf8bd2f1f80811175c9695c89d1e,6,6,2,1,20733,Rajesh Tailor,rajesht,"Remove wrong repo in 'Get Images' section

As step 2 [1] of 'Get Images' section mentions to install the
current-tripleo repo and deps repository, but we only installs
current-tripleo repo only.

This change remove the unnecessary 'and deps repository' from step 2.

[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/install_overcloud.html#get-images

Closes-Bug: 1976559
Change-Id: I62c8ba899e23c3235fd1aad40d0051c7fc1c9267
"
openstack%2Fkolla~stable%2Ftrain~I5efab66e487e06abd1a56af97d7e7caa1ebc880d,openstack/kolla,stable/train,,I5efab66e487e06abd1a56af97d7e7caa1ebc880d,Use jinja2.pass_context instead of contextfilter,ABANDONED,2022-03-28 11:48:32.000000000,2022-06-15 11:11:39.000000000,,11,2,1,835345,48c28005d7f5aed8b4b21c9dbe5e502dee86b0b2,12,2,4,2,24072,Marcin Juszkiewicz,hrw,"Use jinja2.pass_context instead of contextfilter

The contextfilter decorator was deprecated in jinja2 3.0.0, and has been
dropped in 3.1.0. This results in the following warning, and failed
attempts to use filters:

    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:
    module 'jinja2' has no attribute 'contextfilter'

This change switches to use the pass_context decorator. The minimum
version of Jinja2 is raised to 3 to ensure pass_context is present.

This change has been updated to also support Jinja2 2.x releases,
since the Wallaby upper constraints specify 2.11.3. In practice, most
users will not use UC to install kolla.

CoAuthored-by: Mark Goddard <mark@stackhpc.com>

Change-Id: I5efab66e487e06abd1a56af97d7e7caa1ebc880d
"
openstack%2Fheat~stable%2Fwallaby~I6a8cffdc86c895eebe4269c5cd37841325566c54,openstack/heat,stable/wallaby,venv-tempest-stable/xena-stable/wallaby,I6a8cffdc86c895eebe4269c5cd37841325566c54,Use constraints when creating tempest venv,MERGED,2021-07-30 03:56:42.000000000,2022-06-15 11:11:37.000000000,2022-06-15 11:09:53.000000000,24,2,5,802986,d05b683ef65996ae5d1d6cc31d547169669abf45,68,2,17,2,8833,Rabi Mishra,rabi,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)
(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)
(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)
"
openstack%2Freleases~master~I19ed4de233f77469d2cede80e7e7e07ab42e2342,openstack/releases,master,,I19ed4de233f77469d2cede80e7e7e07ab42e2342,Release taskflow 5.0.0,MERGED,2022-06-13 18:39:43.000000000,2022-06-15 11:10:25.000000000,2022-06-15 11:10:25.000000000,4,0,3,845621,e0dbe6219b3bbccdc17058eb890451f6601397b3,13,6,2,1,11628,Michael Johnson,johnsom,"Release taskflow 5.0.0

Includes a bug fix for issues with newer networkx/pydot and changes the version classifier to remove python 3.6 and 3.7 while adding 3.9.

Change-Id: I19ed4de233f77469d2cede80e7e7e07ab42e2342
"
openstack%2Fneutron-fwaas~master~I102520d28c9189a38cd1760b040eecdd4046b16f,openstack/neutron-fwaas,master,,I102520d28c9189a38cd1760b040eecdd4046b16f,Remove usage of six,MERGED,2022-06-03 06:14:52.000000000,2022-06-15 10:45:34.000000000,2022-06-15 10:43:44.000000000,25,29,3,844546,e4555733d40c6b84ec77aaaee25e89f81354ac60,16,7,3,4,32020,zhangtongjian,zhangtongjian,"Remove usage of six

Remove six-library Replace the following items with Python 3 style code.
- six.iteritems
- six.string_types

Change-Id: I102520d28c9189a38cd1760b040eecdd4046b16f
"
openstack%2Ftripleo-ci~master~If36c633f1a1898cb88fe36ba52aae3635e175ef7,openstack/tripleo-ci,master,tripleo-ci-coverage,If36c633f1a1898cb88fe36ba52aae3635e175ef7,Heat: Missing trigger for scenario 001 job,MERGED,2022-06-13 08:03:05.000000000,2022-06-15 10:42:14.000000000,2022-06-15 10:42:14.000000000,2,0,3,845562,c3718815d178ba7c9e6211bd495473fea320030c,16,5,3,1,9816,Takashi Kajinami,kajinamit,"Heat: Missing trigger for scenario 001 job

Any change related to Heat should be tested by the scenario 001 job.
This change fixes the missing trigger.

Change-Id: If36c633f1a1898cb88fe36ba52aae3635e175ef7
"
openstack%2Ftripleo-heat-templates~master~Ide631ce6fdb837e6d874af4f623b9f9de95c818d,openstack/tripleo-heat-templates,master,run-overlay,Ide631ce6fdb837e6d874af4f623b9f9de95c818d,[WIP] Use an overlay mount for /run,ABANDONED,2022-06-15 07:34:31.000000000,2022-06-15 09:58:32.000000000,,26,26,0,845889,95080716d95fc5aed8ecea0150c2525ab112ccbb,2,0,1,21,28223,Cedric Jeanneret,cjeanner,"[WIP] Use an overlay mount for /run

This means the container will add an overlay onto the host /run, so that
container content won't leak on the host; container will still be able
to access the host /run content.

Change-Id: Ide631ce6fdb837e6d874af4f623b9f9de95c818d
"
openstack%2Ftripleo-ansible~master~I670ebe013f4652ea3bcc190c3450321cb58f3623,openstack/tripleo-ansible,master,run-overlay,I670ebe013f4652ea3bcc190c3450321cb58f3623,[WIP] Use an overlay mount for /run,ABANDONED,2022-06-15 07:34:46.000000000,2022-06-15 09:58:22.000000000,,1,1,0,845890,949d15b7a1401746ccf2f02859406955728e4951,2,0,1,1,28223,Cedric Jeanneret,cjeanner,"[WIP] Use an overlay mount for /run

This means the container will add an overlay onto the host /run, so that
container content won't leak on the host; container will still be able
to access the host /run content.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/845889
Change-Id: I670ebe013f4652ea3bcc190c3450321cb58f3623
"
openstack%2Fopenstack-helm-infra~master~I51cc6d1de0034affdc0cc616298c2d2cd3476dbb,openstack/openstack-helm-infra,master,,I51cc6d1de0034affdc0cc616298c2d2cd3476dbb,[ceph-client] Handle multiple mon versions in the pool job,MERGED,2022-06-14 19:45:08.000000000,2022-06-15 08:06:38.000000000,2022-06-15 08:05:23.000000000,3,2,0,845814,d2c8de85c9d8d7cf90e91aafb7ee92ede5e15c13,12,8,1,3,29974,Stephen Taylor,st053q,"[ceph-client] Handle multiple mon versions in the pool job

The mon version check in the rbd-pool job can cause the script to
error and abort if there are multiple mon versions present in the
Ceph cluster. This change chooses the lowest-numbered major version
from the available mon versions when performing the version check
since the check is performed in order to determine the right way to
parse JSON output from a mon query.

Change-Id: I51cc6d1de0034affdc0cc616298c2d2cd3476dbb
"
openstack%2Fhorizon~master~Ib4598266b2dcb6a975b990a4a6445886b9286bb4,openstack/horizon,master,ec2_credentials,Ib4598266b2dcb6a975b990a4a6445886b9286bb4,Added ec2 credentials to openstack dashboard,NEW,2022-06-14 10:11:30.000000000,2022-06-15 07:43:23.000000000,,499,1,384,845722,187f7b9e4d0dbf46931c05d462418d5738511a8c,10,1,5,17,24679,Fontenay Tony,weezhard,"Added ec2 credentials to openstack dashboard

Change-Id: Ib4598266b2dcb6a975b990a4a6445886b9286bb4
"
openstack%2Fpbr~master~I7902c33a76c4cce8f50307843476e5d9435c9e2c,openstack/pbr,master,,I7902c33a76c4cce8f50307843476e5d9435c9e2c,Specify Changelog procedure,MERGED,2022-06-13 19:45:03.000000000,2022-06-15 07:29:23.000000000,2022-06-15 07:28:11.000000000,5,0,2,845628,1eadf23b94846a0ebc8402e09190ed1de6dbffd0,12,3,2,1,34946,Chris Dohmen,chris.dohmen,"Specify Changelog procedure

Update the CONTRIBUTING file to specify how release notes are managed.
This allows contributors to follow best-practices to ensure the
auto-generated Changelog stays up-to-date.

Change-Id: I7902c33a76c4cce8f50307843476e5d9435c9e2c
"
openstack%2Fhorizon~master~I8e3503333a94168152cff4282edc622dae38646d,openstack/horizon,master,,I8e3503333a94168152cff4282edc622dae38646d,Update python testing as per zed cycle teting runtime,ABANDONED,2022-06-04 06:59:58.000000000,2022-06-15 07:04:51.000000000,,7,4,1,844677,3ab98f21065016faac1530bb4596fc67a600fed2,4,2,1,3,27190,Leopard Ma,LeopardMa,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I8e3503333a94168152cff4282edc622dae38646d
"
openstack%2Fheat~stable%2Fxena~I6a8cffdc86c895eebe4269c5cd37841325566c54,openstack/heat,stable/xena,venv-tempest-stable/xena,I6a8cffdc86c895eebe4269c5cd37841325566c54,Use constraints when creating tempest venv,MERGED,2022-06-14 09:36:54.000000000,2022-06-15 06:59:05.000000000,2022-06-15 06:57:45.000000000,24,2,0,845676,92db02a56e85dd5f890160217a16dc99394b927d,10,2,1,2,9816,Takashi Kajinami,kajinamit,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)
(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)
"
openstack%2Fheat~stable%2Fxena~I6aee0719b0cdef2b17666a43074c5c18645fc180,openstack/heat,stable/xena,patches-stable/xena,I6aee0719b0cdef2b17666a43074c5c18645fc180,Log parameters merged,MERGED,2022-06-14 04:37:58.000000000,2022-06-15 06:44:39.000000000,2022-06-15 06:43:15.000000000,6,0,0,845665,f56ca96325c200749144b2922d20d84ac47c63ef,8,2,1,1,9816,Takashi Kajinami,kajinamit,"Log parameters merged

This can help in troubleshooting.

Task: 45579
Change-Id: I6aee0719b0cdef2b17666a43074c5c18645fc180
(cherry picked from commit c0be1f01fd9c208130857efd7c01ece94d4fb0bb)
(cherry picked from commit d997d70ca13065d1caf96c06af05d084353ca827)
"
openstack%2Fkolla-ansible~master~I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa,openstack/kolla-ansible,master,,I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa,CI: Switch upgrades xena->yoga to yoga->master,MERGED,2022-06-07 05:00:23.000000000,2022-06-15 06:41:00.000000000,2022-06-15 06:38:34.000000000,11,18,18,844905,ebe570bb840d79f78816d13c72729a5c80f159f0,38,5,8,5,22629,Michal Nasiadka,mnasiadka,"CI: Switch upgrades xena->yoga to yoga->master

R-17: Switch source images to current release

Disable rocky8 and openeuler jobs as master no longer works with
python3.6.

Change-Id: I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa
"
openstack%2Fwatcher-dashboard~master~Id592e5c734d92a022b90566219a1eb9685a1e80c,openstack/watcher-dashboard,master,,Id592e5c734d92a022b90566219a1eb9685a1e80c,Update python testing as per zed cycle teting runtime,NEW,2022-06-15 06:14:23.000000000,2022-06-15 06:34:51.000000000,,1,3,0,845879,93c33debe1459809d072408511ab864e6cc75539,2,1,1,1,33436,YuehuiLei,leiyuehui,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Id592e5c734d92a022b90566219a1eb9685a1e80c
"
openstack%2Frpm-packaging~master~Ia5563c1b92c1cdaf03c013a8c73575fc11b691cf,openstack/rpm-packaging,master,,Ia5563c1b92c1cdaf03c013a8c73575fc11b691cf,sushy: update to 4.2.0,MERGED,2022-06-14 09:51:32.000000000,2022-06-15 06:31:10.000000000,2022-06-15 06:31:10.000000000,1,1,0,845720,3a4bc91b470093403ec864f82ca24acc32ec954f,8,4,1,1,6593,Dirk Mueller,dmllr,"sushy: update to 4.2.0

Change-Id: Ia5563c1b92c1cdaf03c013a8c73575fc11b691cf
"
openstack%2Frpm-packaging~master~I5223c2eb1e4d45bf0ac87a0931f94199592163dc,openstack/rpm-packaging,master,,I5223c2eb1e4d45bf0ac87a0931f94199592163dc,pyghmi: update to 1.5.45,MERGED,2022-06-14 09:54:24.000000000,2022-06-15 06:30:58.000000000,2022-06-15 06:30:58.000000000,1,1,0,845721,e714edb99f5a45b8feb17a480a3ee78dfe88e989,8,4,1,1,6593,Dirk Mueller,dmllr,"pyghmi: update to 1.5.45

Change-Id: I5223c2eb1e4d45bf0ac87a0931f94199592163dc
"
openstack%2Ftripleo-quickstart~master~If1c9dd18353c22545baa0262d49adb5cca3fd4e5,openstack/tripleo-quickstart,master,bug/1978508,If1c9dd18353c22545baa0262d49adb5cca3fd4e5,c8 wallaby: Remove double quotes from container namespace,MERGED,2022-06-13 23:55:43.000000000,2022-06-15 06:16:41.000000000,2022-06-15 06:15:24.000000000,1,1,3,845649,31a286cb08b93ad2d3e69c62a0452ceea680fae7,30,5,2,1,9816,Takashi Kajinami,kajinamit,"c8 wallaby: Remove double quotes from container namespace

Commit 12fc4167c70531da80403746c1f172ec56570679 unexpectedly added
double quotes around the container namespace, which breaks syntax
of container-prepare-parameters.yaml

Closes-Bug: #1978508
Change-Id: If1c9dd18353c22545baa0262d49adb5cca3fd4e5
"
openstack%2Fmanila-tempest-plugin~master~Ie9f03c0d3c18aa95b1e0fc66441978c86b79e39b,openstack/manila-tempest-plugin,master,master2,Ie9f03c0d3c18aa95b1e0fc66441978c86b79e39b,add list shares without details filter testcase,NEW,2022-06-14 10:15:25.000000000,2022-06-15 05:27:24.000000000,,17,0,0,845723,6150e206a342d67dbd8e77dd1d3e5536100ee9aa,4,2,2,1,30409,wangzhiguang,wangzhiguang,"add list shares without details filter testcase

add list shares without details filter by existed name and fake name
testcase

Change-Id: Ie9f03c0d3c18aa95b1e0fc66441978c86b79e39b
"
openstack%2Fcharms.openstack~master~I64a1cc95a3a78ce79d57f5b840edb29996f04f9c,openstack/charms.openstack,master,trilio-4.2-encoding,I64a1cc95a3a78ce79d57f5b840edb29996f04f9c,Support Trilio 4.2 Share hashes,MERGED,2022-06-13 16:33:31.000000000,2022-06-15 05:19:21.000000000,2022-06-15 05:19:21.000000000,140,5,0,845606,055fb499b84c204809921f218d919f9cc4f4f3f6,6,2,1,3,12549,gnuoy,gnuoy,"Support Trilio 4.2 Share hashes

The Trilio 4.2 changes the way that hashes are generated for nfs
mount points. The hash is now generated from the directory only,
the source IP address is ignored. This patch updates the ghost-share
action to accommodate that.

Change-Id: I64a1cc95a3a78ce79d57f5b840edb29996f04f9c
"
openstack%2Fheat~stable%2Fyoga~I6a8cffdc86c895eebe4269c5cd37841325566c54,openstack/heat,stable/yoga,venv-tempest-stable/yoga,I6a8cffdc86c895eebe4269c5cd37841325566c54,Use constraints when creating tempest venv,MERGED,2022-06-14 03:49:58.000000000,2022-06-15 05:13:53.000000000,2022-06-15 05:12:09.000000000,24,2,0,845409,b95e6025f61417e7abc24a26d991bd26c57ee444,8,2,1,2,9816,Takashi Kajinami,kajinamit,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)
"
openstack%2Fnova~stable%2Fvictoria~I39241223b447fcc671161c370dbf16e1773b684a,openstack/nova,stable/victoria,bug/1853009,I39241223b447fcc671161c370dbf16e1773b684a,Clear rebalanced compute nodes from resource tracker,NEW,2021-09-30 00:29:44.000000000,2022-06-15 04:35:35.000000000,,66,18,2,811811,32887f82c9bd430f285ff4418811dffdd88e398f,10,3,1,5,4690,melanie witt,melwitt,"Clear rebalanced compute nodes from resource tracker

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The issue being addressed here is that if a compute node is deleted by a host
which thinks it is an orphan, then the compute host that actually owns the node
might not recreate it if the node is already in its resource tracker cache.

This change fixes the issue by clearing nodes from the resource tracker cache
for which a compute node entry does not exist. Then, when the available
resource for the node is updated, the compute node object is not found in the
cache and gets recreated.

Change-Id: I39241223b447fcc671161c370dbf16e1773b684a
Partial-Bug: #1853009
(cherry picked from commit 32676a9f45807ea8770dc7bdff1e859673af1b61)
(cherry picked from commit f950cedf17cc4c3ce9d094dbfde5e4cf013260f7)
"
openstack%2Fnova~stable%2Fussuri~Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,openstack/nova,stable/ussuri,bug/1953359,Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,[rt] Apply migration context for incoming migrations,MERGED,2021-12-16 21:30:20.000000000,2022-06-15 04:29:57.000000000,2022-06-15 04:28:21.000000000,40,24,14,822050,1d0b7051da430ed00ae49901a32ec6af46c1a64e,47,6,4,2,33608,Gabriel Silva Trevisan,gtrevisan,"[rt] Apply migration context for incoming migrations

There is a race condition between an incoming resize and an
update_available_resource periodic in the resource tracker. The race
window starts when the resize_instance RPC finishes  and ends when the
finish_resize compute RPC finally applies the migration context on the
instance.

In the race window, if the update_available_resource periodic is run on
the destination node, then it will see the instance as being tracked on
this host as the instance.node is already pointing to the dest. But the
instance.numa_topology still points to the source host topology as the
migration context is not applied yet. This leads to CPU pinning error if
the source topology does not fit to the dest topology. Also it stops the
periodic task and leaves the tracker in an inconsistent state. The
inconsistent state only cleanup up after the periodic is run outside of
the race window.

This patch applies the migration context temporarily to the specific
instances during the periodic to keep resource accounting correct.

Conflicts: on resource_tracker: changed
'MigrationList.get_in_progress_and_error' call back to
'MigrationList.get_in_progress_by_host_and_node', since this change was
only added by 255b3f2f918843ca5dd9b99e109ecd2189b6b749, and is not
present in stable/ussuri.

Change-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a
Closes-Bug: #1953359
Closes-Bug: #1952915
(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)
(cherry picked from commit 1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c)
(cherry picked from commit 5f2f283a75243d2e2629d3c5f7e5ef4b3994972d)
(cherry picked from commit d54bd316b331d439a26a7318ca68cab5f6280ab2)
"
openstack%2Fnova~stable%2Fussuri~I57982131768d87e067d1413012b96f1baa68052b,openstack/nova,stable/ussuri,bug/1953359,I57982131768d87e067d1413012b96f1baa68052b,Extend the reproducer for 1953359 and 1952915,MERGED,2021-12-16 20:55:22.000000000,2022-06-15 03:31:45.000000000,2022-06-15 03:29:08.000000000,45,17,5,822048,9b8e5cec303a621824366e1794665d6b849fefad,22,6,4,1,33608,Gabriel Silva Trevisan,gtrevisan,"Extend the reproducer for 1953359 and 1952915

This patch extends the original reproduction
I4be429c56aaa15ee12f448978c38214e741eae63 to cover
bug 1952915 as well as they have a common root cause.

Change-Id: I57982131768d87e067d1413012b96f1baa68052b
Related-Bug: #1953359
Related-Bug: #1952915
(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)
(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)
(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)
(cherry picked from commit 8d4487465b60cd165dc76dea5a9fdb3c4dbf5740)
"
openstack%2Fnova~stable%2Fussuri~I4be429c56aaa15ee12f448978c38214e741eae63,openstack/nova,stable/ussuri,bug/1953359,I4be429c56aaa15ee12f448978c38214e741eae63,Reproduce bug 1953359,MERGED,2021-12-16 20:43:46.000000000,2022-06-15 03:30:38.000000000,2022-06-15 03:29:01.000000000,104,2,31,822047,c92e7821e3b97c8469fc2a68621428549d36d755,38,7,4,3,33608,Gabriel Silva Trevisan,gtrevisan,"Reproduce bug 1953359

This patch adds a functional test that reproduces a race between
incoming migration and the update_available_resource periodic

Conflicts: fixed conflict on test_numa_server to only add test case for
1953359

Fixes:
    - Changed 'start_compute' call to 'start_computes', since the former
      is not present in Ussuri
    - Added more memory to mock 'host_info', since the default would not
      fit the instance. Default was changed in later releases
    - Bumped the API version from 2.0 to 2.1 in the test, since
      microversion 2.47 is required creating an instance
      in a specific host and 2.0 is not supporting microversions. This
      was not needed for later releases, because the API version was
      bumped with some changes made by [1]
    - Reset the original microversion in 'create_server' after the POST
      request, so that subsequent calls are not affected

[1] Later change that bumps API version on parent classes
https://review.opendev.org/c/openstack/nova/+/741282

Co-Authored-By: Gabriel Silva Trevisan <gabriel.silvatrevisan@windriver.com>

Change-Id: I4be429c56aaa15ee12f448978c38214e741eae63
Related-Bug: #1953359
(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)
(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)
(cherry picked from commit d8859e4f95f5abb20c844d914f2716cba047630e)
(cherry picked from commit e549fec76fd2015e6e21ee5138bf06142a71e71a)
"
openstack%2Ftripleo-ansible~master~I618d9493b35dd1ba6993a376f34896113d6e8085,openstack/tripleo-ansible,master,nftables,I618d9493b35dd1ba6993a376f34896113d6e8085,Ensure we don't duplicate lines,MERGED,2022-05-31 14:42:34.000000000,2022-06-15 02:55:57.000000000,2022-06-15 02:55:57.000000000,15,3,2,844069,ca90a739738eb1573b51c4c9103063884fd3f6a3,18,6,2,2,28223,Cedric Jeanneret,cjeanner,"Ensure we don't duplicate lines

While getting the chain creations and flushes commands duplicated
doesn't seem to have any impact, the generated files are really ugly,
and difficult to read.
This patch should change this state and ensure we're clean.

Change-Id: I618d9493b35dd1ba6993a376f34896113d6e8085
"
openstack%2Fcyborg~master~Ia467087f1b48d158ce6f91dd461138ff514a8c80,openstack/cyborg,master,,Ia467087f1b48d158ce6f91dd461138ff514a8c80,Switch openstack-python3-zed-jobs,MERGED,2022-06-08 01:11:02.000000000,2022-06-15 02:12:41.000000000,2022-06-15 02:03:39.000000000,1,4,0,845070,b15bc27ea74d4671a4ac14b5218e7325ded4b56c,10,2,2,1,26458,Brin Zhang,zhangbailin,"Switch openstack-python3-zed-jobs

In Zed, we decrepated the py36/py37 job, and this patch need to change
with zed job[1].

[1]https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L504

Change-Id: Ia467087f1b48d158ce6f91dd461138ff514a8c80
"
openstack%2Ftripleo-heat-templates~master~I46c238c27e571f125e4fbbb2c20d416be93ded2b,openstack/tripleo-heat-templates,master,bootfile_name,I46c238c27e571f125e4fbbb2c20d416be93ded2b,Ironic: Enforce usage of snponly.efi,ABANDONED,2021-08-10 05:02:24.000000000,2022-06-15 01:55:33.000000000,,3,0,0,804039,e1d51d01864af93fdf43653cedadde04288cfc25,8,5,1,1,9816,Takashi Kajinami,kajinamit,"Ironic: Enforce usage of snponly.efi

... instead of ipxe.efi, because snponly.efi works in more usecase
especially where support for the UEFI integrated network stack is
needed. From Xena release Ironic uses snponly.efi by default[1] so this
change would be redundant, but the main aim of this change is to
backport the same switch to stable branches.

[1] 4d13da9cc7b8f8fa9ee428731f88d5723eddeffa

Change-Id: I46c238c27e571f125e4fbbb2c20d416be93ded2b
"
openstack%2Ftripleo-heat-templates~master~Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9,openstack/tripleo-heat-templates,master,cinder-logging,Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9,Add logging template files for cinder,ABANDONED,2020-02-25 14:42:17.000000000,2022-06-15 01:53:16.000000000,,350,117,29,709744,02395049a77844ebc76dfc71ad66d0a93caae49d,112,8,27,13,9816,Takashi Kajinami,kajinamit,"Add logging template files for cinder

Change-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9
"
openstack%2Ftripleo-heat-templates~master~Ia98381c66d0ca8a75ffbf69afcc480c170537bc3,openstack/tripleo-heat-templates,master,horizon-logging,Ia98381c66d0ca8a75ffbf69afcc480c170537bc3,Add logging template files for horizon,ABANDONED,2020-03-01 01:46:45.000000000,2022-06-15 01:52:33.000000000,,128,26,2,710604,9d9a4ee1a3788f6a2e0f1c83893cf448bc2cd14b,67,6,15,5,9816,Takashi Kajinami,kajinamit,"Add logging template files for horizon

Change-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3
"
openstack%2Fpython-cyborgclient~master~I7612d34b5d25d505f85dcb09b91ad1d3c3bacd44,openstack/python-cyborgclient,master,,I7612d34b5d25d505f85dcb09b91ad1d3c3bacd44,Switch openstack-python3-zed-jobs,MERGED,2022-06-09 09:50:50.000000000,2022-06-15 01:50:29.000000000,2022-06-15 01:48:33.000000000,1,8,0,845248,501d9f3e2c3a161b2ec0ae433d6c8b1f4ae32ea9,10,2,2,1,26458,Brin Zhang,zhangbailin,"Switch openstack-python3-zed-jobs

In Zed, we decrepated the py36/py37 job, and this patch need to change
with zed job[1].

[1]https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L504

Change-Id: I7612d34b5d25d505f85dcb09b91ad1d3c3bacd44
"
openstack%2Ftripleo-common~master~I515ec608a061e32d66ad8bfe7c54bfbcfee38e59,openstack/tripleo-common,master,remove-logging,I515ec608a061e32d66ad8bfe7c54bfbcfee38e59,Remove reference to rsyslog sidecar service,NEW,2022-06-15 00:27:48.000000000,2022-06-15 01:41:09.000000000,,0,3,0,845864,b28090eba628c8045aafb423ce519ab5d8904bc5,4,2,2,1,9816,Takashi Kajinami,kajinamit,"Remove reference to rsyslog sidecar service

... because the service was removed.

Depends-on: https://review.opendev.org/845861
Change-Id: I515ec608a061e32d66ad8bfe7c54bfbcfee38e59
"
openstack%2Fpython-tripleoclient~master~Ica73e4d04909352646b4518ccd93d01535a243db,openstack/python-tripleoclient,master,,Ica73e4d04909352646b4518ccd93d01535a243db,Only export overcloud for --stack-only/full deploy,MERGED,2022-06-01 09:13:25.000000000,2022-06-15 01:29:28.000000000,2022-06-15 01:28:09.000000000,1,1,1,844267,cbbe7cdd84768160acfaa32e19c8804e28aec380,10,5,1,1,8833,Rabi Mishra,rabi,"Only export overcloud for --stack-only/full deploy

Overcloud export contains stack outputs and passwords.
With ephemeral heat we save the stack outputs and
kill heat. We should export only when stack is created
to generate the configs and not when we run with
--setup-only/--config-download-only.

Also, stop using parsed_args.config_download which is
deprecated.

Change-Id: Ica73e4d04909352646b4518ccd93d01535a243db
"
openstack%2Fcharm-guide~master~I21e3233e4539940f506f327611b6f9538fbb635a,openstack/charm-guide,master,add-mapping-tracks-to-series-to-openstack,I21e3233e4539940f506f327611b6f9538fbb635a,"Add mapping for tracks, OpenStack, and series",MERGED,2022-05-19 22:56:21.000000000,2022-06-15 00:20:05.000000000,2022-06-15 00:18:53.000000000,133,68,24,842643,45f556154c38b26cca42e520f2f026708c415abb,21,3,5,1,30561,Peter Matulis,pmatulis,"Add mapping for tracks, OpenStack, and series

Users need to know what the mapping of charm tracks
are for OpenStack releases and Ubuntu series.

Change-Id: I21e3233e4539940f506f327611b6f9538fbb635a
"
openstack%2Fcharm-cinder~stable%2Fwallaby~I4d7b3721fe7dfd6f7cdfd364d8c5bc340d38c00f,openstack/charm-cinder,stable/wallaby,,I4d7b3721fe7dfd6f7cdfd364d8c5bc340d38c00f,Install ssl_ca for volume service only scenarios,MERGED,2022-04-01 11:05:39.000000000,2022-06-14 22:43:20.000000000,2022-06-14 22:43:20.000000000,10,1,2,836152,6bcb2bf435d467417292411c1ced812494016a7a,12,3,2,1,8108,Nobuto Murata,nobuto-m,"Install ssl_ca for volume service only scenarios

The CA information is necessary to talk to Keystone or Glance from the
Cinder volume service. This is a follow-up of the following change where
the Vault certificate relations is assumed but ssl_ca wasn't addressed
at that point.
I69f15c3fd164f7114f5498d100b2832caf93fb00

Closes-Bug: #1967302
Change-Id: I4d7b3721fe7dfd6f7cdfd364d8c5bc340d38c00f
(cherry picked from commit a0f44d0f90074495427880e7d03d0c324639a8c4)
"
openstack%2Fcharm-cinder~stable%2Fwallaby~I91ac0758c74b43c78eac37bae30e47abaecf4b21,openstack/charm-cinder,stable/wallaby,charmhub-migration,I91ac0758c74b43c78eac37bae30e47abaecf4b21,Migrate charm charmhub for stable/wallaby,MERGED,2022-05-17 18:13:38.000000000,2022-06-14 22:35:55.000000000,2022-06-14 22:35:55.000000000,164,2785,4,842170,50fd3d887f7234042e008f49b9b5c7ab8c4b8704,20,4,2,31,20870,Alex Kavanagh,ajkavanagh,"Migrate charm charmhub for stable/wallaby

- start from stable/wallaby branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/wallaby for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64
- Pin tempest for python<3.8

Change-Id: I91ac0758c74b43c78eac37bae30e47abaecf4b21
"
openstack%2Fdesignate~master~I9b1c620b96a95cc8db4a634c26a2a48ca880f2b0,openstack/designate,master,,I9b1c620b96a95cc8db4a634c26a2a48ca880f2b0,Add zone ownership transfer user guide,MERGED,2022-05-27 22:11:05.000000000,2022-06-14 22:20:09.000000000,2022-06-14 22:18:58.000000000,262,1,13,843695,e9faf7da689763aa99028ede9503dc3bdbda5abe,17,5,3,2,11628,Michael Johnson,johnsom,"Add zone ownership transfer user guide

This patch adds a user guide for zone ownership transfers.
It also re-organizes the user guide landing page to be a bit easier to read.

Change-Id: I9b1c620b96a95cc8db4a634c26a2a48ca880f2b0
"
openstack%2Fopenstack-ansible~master~Ica5963dac12f2bbac8b77030e4c2269ae18b189e,openstack/openstack-ansible,master,834289,Ica5963dac12f2bbac8b77030e4c2269ae18b189e,Add tempest repos to required-repos,NEW,2022-03-18 13:53:49.000000000,2022-06-14 21:44:31.000000000,,41,2,4,834289,fab56385dc0852b855d5e7742c49c9dcbf83a1ec,22,1,8,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add tempest repos to required-repos

In order to reduce load on gitea during CI tests, we add tempest plugins repos
to required-project so that they were managed by zuul.
With that it also fixes Depends-On behavior for these plugins.

Change-Id: Ica5963dac12f2bbac8b77030e4c2269ae18b189e
"
openstack%2Fos-net-config~master~Ia0bcb14588eaba8d9f979454f4563a9fd0b4231c,openstack/os-net-config,master,fix-rel-formatting,Ia0bcb14588eaba8d9f979454f4563a9fd0b4231c,Fix formatting of release list,MERGED,2022-05-27 12:04:02.000000000,2022-06-14 21:39:31.000000000,2022-06-14 21:38:23.000000000,1,1,0,843610,ce073e0a3cecfff02ae89c1e81a64a1540fc4def,8,3,1,1,28522,Hervé Beraud,hberaud,"Fix formatting of release list

Change-Id: Ia0bcb14588eaba8d9f979454f4563a9fd0b4231c
"
openstack%2Fopenstack-helm-images~master~I858360c161330c515c5a8728a5563c33d505249f,openstack/openstack-helm-images,master,fix-periodic,I858360c161330c515c5a8728a5563c33d505249f,Add Xena and Yoga jobs to osh-images,MERGED,2022-06-08 15:45:11.000000000,2022-06-14 21:33:38.000000000,2022-06-14 21:31:39.000000000,112,0,4,845154,8de5c39a9cd45185bb288b2b557845050f344a82,17,3,2,1,21420,Gage Hugo,ghugo,"Add Xena and Yoga jobs to osh-images

This change adds the xena and yoga openstack release jobs to
the check and gate for openstack-helm-images.

Depends-on: https://review.opendev.org/c/openstack/openstack-helm/+/844337

Change-Id: I858360c161330c515c5a8728a5563c33d505249f
"
openstack%2Fopenstack-ansible~master~I538839939e174aebd17f59c156f4ff5db972e76b,openstack/openstack-ansible,master,c9s-nmap,I538839939e174aebd17f59c156f4ff5db972e76b,DNM nmap c9s test,NEW,2022-06-14 18:35:29.000000000,2022-06-14 21:32:32.000000000,,1,1,0,845804,a437163b821049172928cee78561e04e98d86aee,2,1,1,1,13095,Marc Gariépy,mgariepy,"DNM nmap c9s test

Change-Id: I538839939e174aebd17f59c156f4ff5db972e76b
"
openstack%2Fopenstack-helm~master~I1bed5f1ce4c0919df9e772e920f3146fc39ffb79,openstack/openstack-helm,master,xena-yoga,I1bed5f1ce4c0919df9e772e920f3146fc39ffb79,Add Xena and Yoga jobs,MERGED,2022-06-01 20:47:30.000000000,2022-06-14 21:17:38.000000000,2022-06-14 21:15:14.000000000,23,2,10,844337,01cdea17e4a7a835c9b32879ead90f856abe736c,53,4,16,2,21420,Gage Hugo,ghugo,"Add Xena and Yoga jobs

This change adds both the Xena and Yoga releases of openstack to the
running jobs that openstack-helm uses to test.

A future change will enable the compute-kit yoga job.

Depends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845156
Depends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845656

Change-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79
"
openstack%2Fcharm-guide~master~Ia051a861c88a4a33393042e887115d30e39b8275,openstack/charm-guide,master,yoga-release-note-rabbitmq-options,Ia051a861c88a4a33393042e887115d30e39b8275,Final touches on yoga release notes,MERGED,2022-05-06 23:18:15.000000000,2022-06-14 21:10:54.000000000,2022-06-14 21:09:40.000000000,15,4,5,840998,156d2b710cd05a946244132fbdb5d19f110eaf2b,19,2,6,6,30561,Peter Matulis,pmatulis,"Final touches on yoga release notes

The rabbitmq-server charm had a few options removed.

Also add a redirect since the name of the release notes
file was recently changed (2204.rst => yoga.rst).

Change-Id: Ia051a861c88a4a33393042e887115d30e39b8275
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Iee9085fa4992846e36c7e71d4c2cfc3bc9db42ac,openstack/tripleo-ansible,stable/train,,Iee9085fa4992846e36c7e71d4c2cfc3bc9db42ac,Set timeout to default if not configured,MERGED,2022-06-13 14:47:19.000000000,2022-06-14 20:51:02.000000000,2022-06-14 20:51:02.000000000,1,1,0,845599,8b6caf1113ab56a3d3723cd9bbb90b5ecadaea48,9,4,1,1,9816,Takashi Kajinami,kajinamit,"Set timeout to default if not configured

When ""| int"" is set after ""omit"" it sets parameter to 0 instead
of omitting.

Change-Id: Iee9085fa4992846e36c7e71d4c2cfc3bc9db42ac
(cherry picked from commit 8a0bccadcdb3c6b5e302cb2c0fdb7df93072bbc1)
"
openstack%2Fkuryr-kubernetes~master~I0aa8d7326dbf40459f73037ae54d2afc01ea9bb6,openstack/kuryr-kubernetes,master,fix-funny-ips,I0aa8d7326dbf40459f73037ae54d2afc01ea9bb6,"Strip leading zeros from ""funny"" Service IPs",MERGED,2022-06-09 11:52:35.000000000,2022-06-14 20:34:29.000000000,2022-06-14 20:33:16.000000000,24,11,8,845266,ce6fb744b5363a8a81afdee19dbda902981b1070,22,4,1,2,11600,Michał Dulko,dulek,"Strip leading zeros from ""funny"" Service IPs

According to [1] we're supposed to support ""funny"" Service IPs, which
means IPs with leading zeros. Unlike unix in general we should not parse
them as octal values, but rather treat them like without leading zeros.
This commit makes sure that we strip the zeros from both ClusterIP and
LoadBalancerIP before we put them into KuryrLoadBalancer struct. This
means that later on Octavia and Neutron will get values that they
support and will proceed with LB or FIP creation normally.

[1] https://github.com/kubernetes/kubernetes/blob/v1.24.1/test/e2e/network/funny_ips.go

Change-Id: I0aa8d7326dbf40459f73037ae54d2afc01ea9bb6
Closes-Bug: 1978112
"
openstack%2Fopenstack-ansible~master~I1293776f58a799c9e9dd70f8cd076ed2e2b1bdfe,openstack/openstack-ansible,master,osa/manage_lb,I1293776f58a799c9e9dd70f8cd076ed2e2b1bdfe,Remove usage of haproxy-endpoints role,MERGED,2022-06-14 12:33:28.000000000,2022-06-14 20:33:12.000000000,2022-06-14 20:31:19.000000000,13,12,0,845739,0a0a1e062e28cae20fb5d02329cead25cac3ff5f,8,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove usage of haproxy-endpoints role

haproxy-endpoints role was used only to manage galera backends.
To have more consistency and as transition was never finished,
we rollback to using inlcuded task.

Also role usage was a bit complex and hard to read. It also had a
drawback that service can be broken before handler run, which makes
endpoint managing a bit useless in this scenario.

As follow-up we should also drop all ""Manage LB"" handlers in roles.

Change-Id: I1293776f58a799c9e9dd70f8cd076ed2e2b1bdfe
"
openstack%2Ftripleo-puppet-elements~master~Icacd5eb111c4211d78274264ae9eb322e52e5f78,openstack/tripleo-puppet-elements,master,,Icacd5eb111c4211d78274264ae9eb322e52e5f78,Remove unused package name definition,NEW,2022-06-02 07:01:56.000000000,2022-06-14 20:07:41.000000000,,0,7,0,844394,f723f1977164673035b7b2f4ee37c2de564c79ad,4,3,1,1,9816,Takashi Kajinami,kajinamit,"Remove unused package name definition

Installation of client packages was moved to a separate element by
6a3c2b3e61923c82a3b95b6a1ec65f154021e42a , and the definition is no
longer used by the overcloud-controller element.

Change-Id: Icacd5eb111c4211d78274264ae9eb322e52e5f78
"
openstack%2Ftripleo-validations~master~I0295e31bbaba96c7e60a872a89be7e0ddd07bd36,openstack/tripleo-validations,master,,I0295e31bbaba96c7e60a872a89be7e0ddd07bd36,Correct the command that gets the PID of nova_libvirt_launcher.sh.,MERGED,2022-03-21 19:10:37.000000000,2022-06-14 19:55:39.000000000,2022-06-14 19:54:20.000000000,1,1,11,834538,bf17c453ecb10c964c5f2e6139664a7f5294ac66,31,7,5,1,34647,Juan Pablo Martí,yampilop,"Correct the command that gets the PID of nova_libvirt_launcher.sh.

The problem is due to a bug that makes the command get two numbers concatenated instead of one.

Closes-Bug: #1970755

Signed-off-by: Juan Pablo Martí <jmarti@redhat.com>
Change-Id: I0295e31bbaba96c7e60a872a89be7e0ddd07bd36
"
openstack%2Fcharm-guide~master~I16f0b9c64228e2445781bde02a6cd5a8980f0b20,openstack/charm-guide,master,fix-broken-link-filesystem-services,I16f0b9c64228e2445781bde02a6cd5a8980f0b20,Review Shared filesystem services page,MERGED,2022-06-06 14:46:51.000000000,2022-06-14 19:45:35.000000000,2022-06-14 19:44:17.000000000,83,65,2,844853,37c322abffa5864fb8750378e784645e96150870,20,2,7,1,30561,Peter Matulis,pmatulis,"Review Shared filesystem services page

Improve wording and links.

Use the new & improved method of documenting overlay
bundles.

Link to newly-contributed Juju documentation for overlay
usage.

Change-Id: I16f0b9c64228e2445781bde02a6cd5a8980f0b20
"
openstack%2Fcharm-pacemaker-remote~master~Ie2ecf6fb0b800ec3bde82a49805a164999f5b81a,openstack/charm-pacemaker-remote,master,batch-update,Ie2ecf6fb0b800ec3bde82a49805a164999f5b81a,Add support for Zed,ABANDONED,2022-06-10 20:29:35.000000000,2022-06-14 19:32:31.000000000,,81,36,0,845475,f87a421fdbb8f0ce540158acb7c02766052fd7a5,4,2,1,12,11805,Corey Bryant,coreycb,"Add support for Zed

* sync charm-helpers to classic charms
* rebuild for reactive charms
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml

Change-Id: Ie2ecf6fb0b800ec3bde82a49805a164999f5b81a
"
openstack%2Fcharm-magpie~master~Ie38a20eea755c8115abf34266eade6d87a28890e,openstack/charm-magpie,master,batch-update,Ie38a20eea755c8115abf34266eade6d87a28890e,Add support for Zed,ABANDONED,2022-06-10 20:27:12.000000000,2022-06-14 19:23:18.000000000,,1,1,2,845444,c40738938151577be66288cd0c1edd989471f8bb,6,3,1,1,11805,Corey Bryant,coreycb,"Add support for Zed

* sync charm-helpers to classic charms
* rebuild for reactive charms
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml

Change-Id: Ie38a20eea755c8115abf34266eade6d87a28890e
"
openstack%2Fcharm-glance-simplestreams-sync~stable%2Fussuri~I3316d2299cca9697360aaaa5010e9de7670355d7,openstack/charm-glance-simplestreams-sync,stable/ussuri,charmhub-migration,I3316d2299cca9697360aaaa5010e9de7670355d7,Migrate charm charmhub for stable/ussuri,MERGED,2022-05-20 19:01:47.000000000,2022-06-14 19:22:09.000000000,2022-06-14 19:22:09.000000000,154,1282,0,842762,3adc992382dc39a80e971216eb19e33725531cc6,15,3,4,26,20870,Alex Kavanagh,ajkavanagh,"Migrate charm charmhub for stable/ussuri

- start from stable/ussuri branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/ussuri for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 18.04 amd64
- Run on 18.04 amd64, s390x, ppc64el, arm64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I3316d2299cca9697360aaaa5010e9de7670355d7
"
openstack%2Fcharm-heat~stable%2Fussuri~If4a981dafe3ebb96bcbef80d3c1fd9d5eb32bb82,openstack/charm-heat,stable/ussuri,charmhub-migration,If4a981dafe3ebb96bcbef80d3c1fd9d5eb32bb82,Migrate charm charmhub for stable/ussuri,MERGED,2022-05-20 19:02:04.000000000,2022-06-14 19:19:42.000000000,2022-06-14 19:19:42.000000000,181,2498,0,842764,086ec32e09aa4bfebddce952f4605cf614bbcc1c,15,3,4,29,20870,Alex Kavanagh,ajkavanagh,"Migrate charm charmhub for stable/ussuri

- start from stable/ussuri branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/ussuri for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 18.04 amd64
- Run on 18.04 amd64, s390x, ppc64el, arm64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: If4a981dafe3ebb96bcbef80d3c1fd9d5eb32bb82
"
openstack%2Fcharm-nova-cloud-controller~stable%2Fxena~I597b1b5770d63fbd5082d899983ec73b94b49350,openstack/charm-nova-cloud-controller,stable/xena,charmhub-migration,I597b1b5770d63fbd5082d899983ec73b94b49350,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:49:58.000000000,2022-06-14 19:16:51.000000000,2022-06-14 19:16:51.000000000,3,4,11,841978,44917f58dccf26599a5398e59b09946a978021e9,36,4,2,2,20870,Alex Kavanagh,ajkavanagh,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64
- Adjust test-requirements.txt to pin tempest as tempest development
  head has dropped py36/py37.

Change-Id: I597b1b5770d63fbd5082d899983ec73b94b49350
"
openstack%2Fcharm-ironic-api~stable%2Fxena~I3e27530e190209c0951592e44ef57884bc7e1c53,openstack/charm-ironic-api,stable/xena,charmhub-migration,I3e27530e190209c0951592e44ef57884bc7e1c53,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:46:47.000000000,2022-06-14 19:15:57.000000000,2022-06-14 19:15:57.000000000,1,3,6,841956,357af31af26e7636c979605f50f1531985275a97,19,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I3e27530e190209c0951592e44ef57884bc7e1c53
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4,openstack/tripleo-heat-templates,stable/victoria,bug/1881593,Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4,Add ovn_chassis_mac_map to ExtraConfig role,ABANDONED,2022-01-31 16:25:39.000000000,2022-06-14 18:54:58.000000000,,1,0,5,827149,98d317647edaa33611dee7e72ffcae85a8ef900c,16,4,2,1,6681,Brent Eagles,beagles,"Add ovn_chassis_mac_map to ExtraConfig role

Related-Bug: #1881593
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827147

Change-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4
(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)
"
openstack%2Ftempest~master~I9ba22ab48cb1737a6917479089cddf961c30efe4,openstack/tempest,master,,I9ba22ab48cb1737a6917479089cddf961c30efe4,Changed pip install tempest\ to sudo pip3 install tempest\,NEW,2022-06-14 12:26:14.000000000,2022-06-14 18:52:02.000000000,,1,1,5,845738,1c90e79efce53258d52f7365dc80d2a738d5a0c8,3,1,1,1,34637,Milana Levy,millevy," Changed pip install tempest\ to sudo pip3 install tempest\

Change-Id: I9ba22ab48cb1737a6917479089cddf961c30efe4
"
openstack%2Fopenstack-ansible~master~Ia751cd2228894ee984f9863fdb4589987488e0a0,openstack/openstack-ansible,master,haproxy-endpoint-handlers,Ia751cd2228894ee984f9863fdb4589987488e0a0,Replace haproxy common task with handlers,ABANDONED,2017-09-17 16:40:34.000000000,2022-06-14 18:44:13.000000000,,116,178,5,504795,e2bff888f820af4b97c9e38a22041628c3f1ef02,41,7,5,7,17799,Logan V,Logan2211,"Replace haproxy common task with handlers

The old haproxy-endpoints-manage common-task unconditionally
disabled the endpoint in haproxy regardless of whether a service
restart or other endpoint impacting work was going to be done.

Now we have a mechanism to implement a ""Manage LB"" listener that
the role can notify when it needs orchestrated endpoint management
only in cases where a restart or other impactful work is being
performed.

Change-Id: Ia751cd2228894ee984f9863fdb4589987488e0a0
"
openstack%2Fos-brick~master~I5e4ad4e4cb47d4bc7b71256d9f96bb4fd94a909f,openstack/os-brick,master,add_fips_job,I5e4ad4e4cb47d4bc7b71256d9f96bb4fd94a909f,DNM: Add delay to troubleshoot FIPS failures,ABANDONED,2022-01-12 21:55:20.000000000,2022-06-14 18:10:38.000000000,,6,0,1,824490,6e0e326c0fc614fa1e491377be02e84b41ca7314,38,2,2,1,21129,Alan Bishop,ASBishop,"DNM: Add delay to troubleshoot FIPS failures

Insert a small delay to test whether it affects how encrypted volumes
behave when FIPS is enabled. The goal is to see if the FIPS CI jobs
in Ib85b6ecc6f1b12eb8afa866e56afbfb13aad0cba will pass. If they do,
the more investigation will be needed to uncover a root cause for the
previous failures.

Change-Id: I5e4ad4e4cb47d4bc7b71256d9f96bb4fd94a909f
"
openstack%2Fcharm-guide~master~I86680741f4868ae0f193dc342b832633807efc9e,openstack/charm-guide,master,add-overlay-guidance-for-devs,I86680741f4868ae0f193dc342b832633807efc9e,Add feature documentation guidance,MERGED,2022-06-10 20:43:26.000000000,2022-06-14 18:10:00.000000000,2022-06-14 18:08:17.000000000,53,0,4,845483,f8f2f205edacd8312925f2bb23784dd704563f07,15,2,5,2,30561,Peter Matulis,pmatulis,"Add feature documentation guidance

When a feature is developed it should come with
supporting documentation. It may also need to
include an overlay bundle to summarise its deployment.
This PR covers this in terms of documentation
requirements and links to the Juju documentation
for overlay usage.

Change-Id: I86680741f4868ae0f193dc342b832633807efc9e
"
openstack%2Fcinder~stable%2Fxena~I216f84ed379d4554d5d9adee31f9af6f4d54ea94,openstack/cinder,stable/xena,bug/1924798-stable/yoga-stable/xena,I216f84ed379d4554d5d9adee31f9af6f4d54ea94,NetApp ONTAP: Fix check QoS min support for SVM account,MERGED,2022-05-16 14:48:37.000000000,2022-06-14 17:55:18.000000000,2022-05-25 21:18:12.000000000,15,0,4,841889,4b719d99ff2d5b3bb3a1d964d83131ff2910d5b0,24,5,1,3,4523,Eric Harney,eharney,"NetApp ONTAP: Fix check QoS min support for SVM account

The SVM account has no access to the node name and it cannot create
the QoS policy, so the QoS min support can be dropped.

Includes the release note formatting fix from change I6544e5d68714.

Closes-Bug: #1924798
Change-Id: I216f84ed379d4554d5d9adee31f9af6f4d54ea94
(cherry picked from commit b7466f54f5a9dca1255d0f93017b260d808b42db)
(cherry picked from commit 4be091c42f9eaeda9df47d33beab8195fa333664)
"
openstack%2Fpuppet-nova~master~I4f6169ed2f1b317b88fe9f2e06719667b44e1eb7,openstack/puppet-nova,master,fix-misspelling,I4f6169ed2f1b317b88fe9f2e06719667b44e1eb7,Fix typo,NEW,2022-05-12 14:23:50.000000000,2022-06-14 17:36:47.000000000,,1,1,2,841604,baf9bee28cb2eaddcbd6a27f586b7940ae952283,4,2,1,1,28522,Hervé Beraud,hberaud,"Fix typo

Change-Id: I4f6169ed2f1b317b88fe9f2e06719667b44e1eb7
"
openstack%2Fcinder~stable%2Fvictoria~Ia6d0408280cb90da734ec505af7694fdea5333af,openstack/cinder,stable/victoria,victoria-pin-tempest,Ia6d0408280cb90da734ec505af7694fdea5333af,[stable-only] Cap cinder-tempest-plugin version for stable/victoria,MERGED,2022-05-25 15:54:09.000000000,2022-06-14 17:11:53.000000000,2022-06-14 17:08:36.000000000,2,1,2,843305,b95831cf7fcf157bb7a4a3c2188de81d500bccff,37,3,3,1,8556,Ghanshyam,ghanshyam,"[stable-only] Cap cinder-tempest-plugin version for stable/victoria

We are capping stable/victoria testing with Tempest
26.1.0 (choosing 26.1.0 because of bug#1955418)

- https://review.opendev.org/c/openstack/devstack/+/843295

cinder-tempest-lvm-multibackend and other job failing with
incompatible Tempest 26.1.0 version with cinder-temepst-plugin master

AttributeError: 'SnapshotDataIntegrityTests' object has no attribute 'create_security_group'

- https://zuul.opendev.org/t/openstack/build/b86e63cc6cfd49dca96817b2ae7fdc71/logs

To fix that we need to use compatible cinder-tempest-plugin version for
Tempest 26.1.0, which is cinder-tempest-plugin 1.3.0.

Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/843354
Depends-On: https://review.opendev.org/c/openstack/cinder/+/843092
Depends-On: https://review.opendev.org/c/openstack/devstack/+/843295

Change-Id: Ia6d0408280cb90da734ec505af7694fdea5333af
"
openstack%2Fkeystone~stable%2Ftrain~I77148641715efe09e3adc2e9432e66e50fb444b4,openstack/keystone,stable/train,fix-ldap-bytes-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train,I77148641715efe09e3adc2e9432e66e50fb444b4,Fix issue with LDAP backend returning bytes instead of string,MERGED,2022-02-07 09:27:29.000000000,2022-06-14 17:11:30.000000000,2022-06-14 17:08:32.000000000,17,2,2,827965,e53bf8d7406c8e02067d861c1bf707fb52333aa6,12,3,1,1,14250,Grzegorz Grasza,xek,"Fix issue with LDAP backend returning bytes instead of string

When connecting to some LDAP server software, the ldap client returns
bytes instances instead of the expected strings. This can result in
either being transparently converted to strings, when the data is
inserted via sqlalchemy into the database, or could be used as
input to other functions, and/or cached, which causes unexpected
results.

Closes-Bug: #1952458
Resolves: rhbz#1964872
Change-Id: I77148641715efe09e3adc2e9432e66e50fb444b4
(cherry picked from commit 1e0cd90191663c100c165d4c6a2b1ca796b5af25)
"
openstack%2Fcinder~master~Ic646ce475def284850af9b98d7dc2cab61c86a20,openstack/cinder,master,,Ic646ce475def284850af9b98d7dc2cab61c86a20,"Groups: remove unneeded ""status"" variable",MERGED,2022-05-04 14:03:28.000000000,2022-06-14 17:11:07.000000000,2022-06-14 17:08:28.000000000,1,2,1,840493,70590f991ee4f823f8be291ef2d212aca32805d3,44,5,2,1,4523,Eric Harney,eharney,"Groups: remove unneeded ""status"" variable

Tidy up the create_group method a bit.

Change-Id: Ic646ce475def284850af9b98d7dc2cab61c86a20
"
openstack%2Fopenstack-ansible-os_ironic~master~I239641e627e9baf3c38f9b68c0074e70346c21e4,openstack/openstack-ansible-os_ironic,master,openstack/openstack-ansible-tests/sync-tests,I239641e627e9baf3c38f9b68c0074e70346c21e4,Updated from OpenStack Ansible Tests,NEW,2022-03-29 17:18:28.000000000,2022-06-14 17:06:11.000000000,,1,1,0,835709,6cf41cfa26128b64c422f22a103a8bc98b857f26,6,1,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I239641e627e9baf3c38f9b68c0074e70346c21e4
"
openstack%2Fcinder~master~I018f97a4aace1f536ab816e866b67ce23576609c,openstack/cinder,master,,I018f97a4aace1f536ab816e866b67ce23576609c,Ceph: Remove unnecessary convert_str() calls,MERGED,2022-04-25 19:18:33.000000000,2022-06-14 17:01:59.000000000,2022-06-14 16:59:13.000000000,39,51,4,839257,b235048d6dc49fee0f3ad83d3216a42c23b69a20,98,8,3,2,4523,Eric Harney,eharney,"Ceph: Remove unnecessary convert_str() calls

These are no longer needed.

This is achieved by assuming that fields like
Volume.name, Snapshot.name, and Snapshot.volume_name
are already Unicode strings in our objects.

Also removes some Python 2 compat cruft.

Change-Id: I018f97a4aace1f536ab816e866b67ce23576609c
"
openstack%2Fneutron~master~Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8,openstack/neutron,master,packet_rate_limit,Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8,Support pps limitation for openvswitch agent,MERGED,2021-11-05 09:33:14.000000000,2022-06-14 17:01:23.000000000,2022-06-14 16:58:27.000000000,330,2,40,816802,5765186516ae6af3477fc1c1cdd0367e8c878189,154,5,18,3,9531,liuyulong,LIU-Yulong,"Support pps limitation for openvswitch agent

Add packet rate limit rule to the openvswitch QoS
driver SUPPORTED_RULES list. This patch adds the
ability to limit neutron port packet I/O rate. We
will leverage the ovs meter to achieve the limitation.

The meter action is only supoorted when datapath is
in user mode (with ovs >= 2.7) or ovs kernel datapath with
kernel version >= 4.15 (and ovs >= 2.10).

[1] https://docs.openvswitch.org/en/latest/faq/releases/

Partially-Implements: bp/packet-rate-limit
Related-Bug: #1938966
Related-Bug: #1912460
Change-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8
"
openstack%2Fcinder~master~I64c38e74a6b7e8180d63cc5d5d13b8cb76d52d3e,openstack/cinder,master,,I64c38e74a6b7e8180d63cc5d5d13b8cb76d52d3e,cmd/manage and coordination: Clean up exception handling,MERGED,2022-05-17 15:34:59.000000000,2022-06-14 17:00:39.000000000,2022-06-14 16:58:34.000000000,17,8,1,842142,6b711187838db49506f0971dc25cb92deb6f9e8d,34,5,1,2,4523,Eric Harney,eharney,"cmd/manage and coordination: Clean up exception handling

This makes it easier for pylint and mypy to
validate this code, and avoids isinstance() checks.
Follows the same pattern used in commit 1075d1d.

Change-Id: I64c38e74a6b7e8180d63cc5d5d13b8cb76d52d3e
"
openstack%2Fneutron~master~Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7,openstack/neutron,master,packet_rate_limit,Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7,Meter flows and ovsdb action for ovs bridge,MERGED,2021-11-05 09:33:14.000000000,2022-06-14 17:00:02.000000000,2022-06-14 16:58:22.000000000,353,0,52,816800,0232ead2c33eccc2ccd67f96a12381f2ce7fb470,132,9,16,5,9531,liuyulong,LIU-Yulong,"Meter flows and ovsdb action for ovs bridge

Add meter flows actions and ovsdb actions for pps
limitation. Meter flow actions are:
* list_meter_features
* create_meter
* delete_meter
* update_meter
* apply_meter_to_port
* remove_meter_from_port

Ovsdb actions are:
* get_port_tag_by_name
* get_value_from_other_config
* set_value_to_other_config
* remove_value_from_other_config

Partially-Implements: bp/packet-rate-limit
Related-Bug: #1938966
Related-Bug: #1912460
Change-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7
"
openstack%2Fcinder~master~Ia568ac1fc178498d3192315c5277e6de45257527,openstack/cinder,master,,Ia568ac1fc178498d3192315c5277e6de45257527,pylint: ibm_storage: Fix E0601 used-before-assignment error,MERGED,2022-05-17 15:56:33.000000000,2022-06-14 16:59:07.000000000,2022-06-14 16:59:07.000000000,2,1,3,842149,2f060e037dba01297b275b1ec4093f0b083a49e2,33,4,1,1,4523,Eric Harney,eharney,"pylint: ibm_storage: Fix E0601 used-before-assignment error

Small refactor to fix E0601 from pylint.

Change-Id: Ia568ac1fc178498d3192315c5277e6de45257527
"
openstack%2Fcinder~master~I11e8e69d64cb50d33fa9f7c114b86140f62ad077,openstack/cinder,master,,I11e8e69d64cb50d33fa9f7c114b86140f62ad077,pylint: volume/api: Fix E0601 error,MERGED,2022-05-17 15:56:33.000000000,2022-06-14 16:58:40.000000000,2022-06-14 16:58:40.000000000,1,1,2,842148,c1626d24bbf0ab3c6f5ccb3298769021d05960e2,32,3,1,1,4523,Eric Harney,eharney,"pylint: volume/api: Fix E0601 error

Fix E0601 used-before-assignment error from pylint.

Change-Id: I11e8e69d64cb50d33fa9f7c114b86140f62ad077
"
openstack%2Fneutron~master~I8d0e1dac4f6a6d201e29863cc76db3f1ff8595ae,openstack/neutron,master,migration,I8d0e1dac4f6a6d201e29863cc76db3f1ff8595ae,migration: Remove restarting OVS,MERGED,2022-06-13 20:15:32.000000000,2022-06-14 16:53:10.000000000,2022-06-14 16:49:58.000000000,0,7,0,845632,fd6adb3e5b11fce9318056d8342a2f84d5673714,8,3,1,1,8655,Jakub Libosvar,jlibosva,"migration: Remove restarting OVS

There was a code that worked around a bug in openvswitch. The bug was
fixed in openvswitch 2.13 and we no longer use that version. It's safe
to be removed now.

Change-Id: I8d0e1dac4f6a6d201e29863cc76db3f1ff8595ae
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
"
openstack%2Fneutron~stable%2Fwallaby~Ib27fa676e126503eacb97b24e95aa7cd2982adab,openstack/neutron,stable/wallaby,migration-stable/yoga-stable/xena-stable/wallaby,Ib27fa676e126503eacb97b24e95aa7cd2982adab,migration: Fail task if executed script failed,MERGED,2022-06-13 16:01:56.000000000,2022-06-14 16:53:03.000000000,2022-06-14 16:49:42.000000000,2,3,0,845405,564c10eca30adccb08c183dcabe0cf018ad00e8c,9,3,1,2,8655,Jakub Libosvar,jlibosva,"migration: Fail task if executed script failed

Previously the migration playbook continued even if tripleo deploy
failed which damaged the environment even more. This patch will make the
task fail if deploy fails too. There are also other commands which
return code was ignored.

Change-Id: Ib27fa676e126503eacb97b24e95aa7cd2982adab
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit ab62f174095b5d8cdf32134cbca1f3cb79926642)
"
openstack%2Fcinder~master~I9c1896c9eccd77363eedaa2817937cf8431f209a,openstack/cinder,master,remove-legacyfacade,I9c1896c9eccd77363eedaa2817937cf8431f209a,db: Move comment,MERGED,2022-06-07 12:27:24.000000000,2022-06-14 16:52:34.000000000,2022-06-14 16:49:46.000000000,4,3,1,844964,25d70a00cead040bb00e352fb92eed8c4c6ddb28,30,3,1,1,15334,Stephen Finucane,sfinucan,"db: Move comment

We split the '_check_sync' helper in 'cinder.db.manage' as part of
change Ic8c37145c66069e9194458fa7f622d98022fee4f. A comment was left in
this function which really belonged in the now-split function. Move it.

Change-Id: I9c1896c9eccd77363eedaa2817937cf8431f209a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fneutron~stable%2Fwallaby~Ib220867106abc59da4fae51a60ef52d0c02592c8,openstack/neutron,stable/wallaby,bug/1977969,Ib220867106abc59da4fae51a60ef52d0c02592c8,"""_handle_lb_fip_cmds"" to handle the LB members correctly",MERGED,2022-06-14 09:06:01.000000000,2022-06-14 16:51:42.000000000,2022-06-14 16:49:32.000000000,55,55,1,845711,e9706b2922f60ee63aee79794e5346f1315cdf75,11,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"""_handle_lb_fip_cmds"" to handle the LB members correctly

This patch indents the section where the load balancer members
are properly verified. This section must be executed for each
load balancer matching the logical switch port with the VIP passed
as an argument to the method ""_handle_lb_fip_cmds"".

Closes-Bug: #1977969

Change-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8
(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)
"
openstack%2Fneutron~stable%2Fvictoria~Ib220867106abc59da4fae51a60ef52d0c02592c8,openstack/neutron,stable/victoria,bug/1977969,Ib220867106abc59da4fae51a60ef52d0c02592c8,"""_handle_lb_fip_cmds"" to handle the LB members correctly",MERGED,2022-06-14 09:06:48.000000000,2022-06-14 16:51:38.000000000,2022-06-14 16:49:37.000000000,55,55,1,845712,1a71e1479fc9131a642af50d54105a416771f69e,9,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"""_handle_lb_fip_cmds"" to handle the LB members correctly

This patch indents the section where the load balancer members
are properly verified. This section must be executed for each
load balancer matching the logical switch port with the VIP passed
as an argument to the method ""_handle_lb_fip_cmds"".

Closes-Bug: #1977969

Change-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8
(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)
"
openstack%2Fneutron~stable%2Fxena~Ib220867106abc59da4fae51a60ef52d0c02592c8,openstack/neutron,stable/xena,bug/1977969,Ib220867106abc59da4fae51a60ef52d0c02592c8,"""_handle_lb_fip_cmds"" to handle the LB members correctly",MERGED,2022-06-14 09:05:41.000000000,2022-06-14 16:51:37.000000000,2022-06-14 16:49:27.000000000,55,55,1,845710,e278f1e33f3b7888506016f5f218c3493fecc2ea,10,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"""_handle_lb_fip_cmds"" to handle the LB members correctly

This patch indents the section where the load balancer members
are properly verified. This section must be executed for each
load balancer matching the logical switch port with the VIP passed
as an argument to the method ""_handle_lb_fip_cmds"".

Closes-Bug: #1977969

Change-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8
(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)
"
openstack%2Fneutron~master~I0d1bc49927b061a91ff6d4ca3f5b826d529d0770,openstack/neutron,master,use_sql_in_clause,I0d1bc49927b061a91ff6d4ca3f5b826d529d0770,Use SQL IN clause instead of OR with exact match comparisons,MERGED,2022-06-10 16:13:41.000000000,2022-06-14 16:51:35.000000000,2022-06-14 16:49:11.000000000,2,4,3,845366,a1d135e3c0865d825127947c65632551436e8894,25,6,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Use SQL IN clause instead of OR with exact match comparisons

SQL IN clause is faster than several exact match comparisons
in an OR clause.

Trivial-Fix

Change-Id: I0d1bc49927b061a91ff6d4ca3f5b826d529d0770
"
openstack%2Fneutron~stable%2Fyoga~Ib220867106abc59da4fae51a60ef52d0c02592c8,openstack/neutron,stable/yoga,bug/1977969,Ib220867106abc59da4fae51a60ef52d0c02592c8,"""_handle_lb_fip_cmds"" to handle the LB members correctly",MERGED,2022-06-14 09:05:16.000000000,2022-06-14 16:51:20.000000000,2022-06-14 16:49:21.000000000,55,55,2,845709,304aaadf49e6b870fae0cd7f6ea1a4a4ca9a5e2b,10,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"""_handle_lb_fip_cmds"" to handle the LB members correctly

This patch indents the section where the load balancer members
are properly verified. This section must be executed for each
load balancer matching the logical switch port with the VIP passed
as an argument to the method ""_handle_lb_fip_cmds"".

Closes-Bug: #1977969

Change-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8
(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)
"
openstack%2Fopenstack-helm~master~I0a4a0d81ea9dc041e9095323346c3ea4755d55f5,openstack/openstack-helm,master,update-setup-gateway,I0a4a0d81ea9dc041e9095323346c3ea4755d55f5,Update setup-gateway script to use Xena,MERGED,2022-06-14 02:16:32.000000000,2022-06-14 16:51:14.000000000,2022-06-14 16:47:56.000000000,1,1,0,845656,67cf809fcd3fe6126726b27b7ebd707fb60cf6d6,10,4,1,1,21420,Gage Hugo,ghugo,"Update setup-gateway script to use Xena

Currently the 170-setup-gateway.sh script is still hardcoded to
use a train neutron image. This change updates the version to
use the newer Xena image instead.

Change-Id: I0a4a0d81ea9dc041e9095323346c3ea4755d55f5
"
openstack%2Fneutron~master~I3b7c5d73d2b0d20fb06527ade30af8939b249d75,openstack/neutron,master,bug/1973347,I3b7c5d73d2b0d20fb06527ade30af8939b249d75,Move ``PortBindingChassisEvent`` checks to ``match_fn``,MERGED,2022-06-13 06:56:27.000000000,2022-06-14 16:49:52.000000000,2022-06-14 16:49:52.000000000,7,3,1,845547,6890204765c5de1a91284b9b0b6bf0565673f53f,10,6,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Move ``PortBindingChassisEvent`` checks to ``match_fn``

Moved the event checks to ``match_fn`` method, that is the correct
place to execute them, before the ``run`` method is called.

This is a follow-up of
https://review.opendev.org/c/openstack/neutron/+/842147.

Related-Bug: #1973347
Change-Id: I3b7c5d73d2b0d20fb06527ade30af8939b249d75
"
openstack%2Fopenstack-helm~master~I65e016a4cb3fd52707ab29c37f025818fcb6c405,openstack/openstack-helm,master,add-overrides,I65e016a4cb3fd52707ab29c37f025818fcb6c405,Add Xena and Yoga values overrides,MERGED,2022-06-08 16:15:00.000000000,2022-06-14 16:49:45.000000000,2022-06-14 16:47:54.000000000,334,9,0,845156,89addfd4e1aa7b810e092ca2a2dd22edc48d51b9,13,6,2,38,21420,Gage Hugo,ghugo,"Add Xena and Yoga values overrides

This change adds the overrides needed to run both the Xena and
Yoga releases in the OSH zuul jobs.

Change-Id: I65e016a4cb3fd52707ab29c37f025818fcb6c405
"
openstack%2Fneutron~master~Ie06b987f7efbff8057293893e42bee7b682b9ba1,openstack/neutron,master,fix-pyroute2-netns-mock,Ie06b987f7efbff8057293893e42bee7b682b9ba1,Fix tests involving pyroute2.netlink module,MERGED,2022-06-14 09:27:54.000000000,2022-06-14 16:49:16.000000000,2022-06-14 16:49:16.000000000,3,5,6,845715,d01700034ac80631893215e742de44cb903ba2a3,20,5,2,2,13252,Dr. Jens Harbott,jrosenboom,"Fix tests involving pyroute2.netlink module

pyroute2 0.6.11 did some further refactoring of their module imports,
so using pyroute2.netlink.some_func() doesn't work anymore. Since we
do ""from pyroute2 import netlink"" anyway, use the imported module
everywhere.

Also, mock.patch()ing pyroute2.netlink.rtnl.tcmsg.common.tick_in_usec
doesn't work anymore, but also doesn't seem to be necessary for the
tests to succeed, so just drop it.

Closes-Bug: 1978564
Change-Id: Ie06b987f7efbff8057293893e42bee7b682b9ba1
"
openstack%2Fproject-config~master~Id731812c56a526c7dd196a96ff8668de996a8a27,openstack/project-config,master,neutron-lower-constratins-py36,Id731812c56a526c7dd196a96ff8668de996a8a27,Add py38/py39 jobs to Grafana,MERGED,2022-06-13 14:28:57.000000000,2022-06-14 16:46:39.000000000,2022-06-14 15:58:43.000000000,8,0,0,845596,97945117ba33035155ba26f537264b9198b8f2b2,12,6,1,3,8313,Lajos Katona,elajkat,"Add py38/py39 jobs to Grafana

Add py39 job to neutron-dynamic-routing and neutron-lib graphs, py38 to
neutron graphs.

Change-Id: Id731812c56a526c7dd196a96ff8668de996a8a27
"
openstack%2Ftripleo-ansible~master~I9b368da796ed6b3ccba13dc9430edb6bca8f91ea,openstack/tripleo-ansible,master,disable_rbd_trash,I9b368da796ed6b3ccba13dc9430edb6bca8f91ea,Disable trash purge scheduler,MERGED,2022-06-13 20:57:50.000000000,2022-06-14 16:39:45.000000000,2022-06-14 16:39:45.000000000,2,0,2,845637,a449df417b36186ce4a97e8670226fedcf574a62,9,5,1,2,25402,Francesco Pantano,fmount,"Disable trash purge scheduler

This patch introduces a boolean used to set the trash purge
schedule interval on the cinder related pools.
This is false by default and can be enabled via the tripleo
heat-templates interface.

Change-Id: I9b368da796ed6b3ccba13dc9430edb6bca8f91ea
"
openstack%2Fopenstack-helm~master~Ia5c941fd4adab9f9bf12c298497181580891a612,openstack/openstack-helm,master,values-overrides,Ia5c941fd4adab9f9bf12c298497181580891a612,Update default openstack version in scripts,MERGED,2022-06-14 02:18:51.000000000,2022-06-14 16:37:30.000000000,2022-06-14 16:35:59.000000000,3,3,0,845658,1282d02d27a18a64573104d1265a969044b23f83,10,3,2,2,21420,Gage Hugo,ghugo,"Update default openstack version in scripts

Several of the deployment scripts in the repo are still currently
using stein as their defaults. Since this release is quite old
now, this change bumps the version used to be Xena by default.

Change-Id: Ia5c941fd4adab9f9bf12c298497181580891a612
"
openstack%2Fproject-config~master~Ia7a07b62b492f7065ac478abb6554c2e667591d1,openstack/project-config,master,neutron-lower-constratins-py36,Ia7a07b62b492f7065ac478abb6554c2e667591d1,Remove lower-constraints and tox-py36 from Neutron Grafana,MERGED,2022-06-01 07:43:56.000000000,2022-06-14 16:04:33.000000000,2022-06-14 15:58:41.000000000,0,39,15,844254,e67be4ceece70b685d0a4ca7c07c6b5024ec898d,19,8,1,6,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Remove lower-constraints and tox-py36 from Neutron Grafana

This patch removes the following graphs:
- lower-constraints from any Neutron related project.
- tox-py36 from any Neutron related project in master branch.

Change-Id: Ia7a07b62b492f7065ac478abb6554c2e667591d1
"
openstack%2Ftripleo-validations~stable%2Ftrain~I1ecb7dcde70feab479bdcd45ecb8045fb19ffaae,openstack/tripleo-validations,stable/train,,I1ecb7dcde70feab479bdcd45ecb8045fb19ffaae,Change the way the task 'Validation errors' prints the output messages in order to be more readable.,MERGED,2022-06-08 18:30:52.000000000,2022-06-14 15:52:57.000000000,2022-06-14 15:52:57.000000000,3,1,0,845047,fe5b61e81c4058b3a3efd83308a809272c5ffc3c,7,3,1,1,27427,David Peacock,davidjpeacock,"Change the way the task 'Validation errors' prints the output messages in order to be more readable.

Depends-On: https://review.opendev.org/c/openstack/validations-common/+/835073
Signed-off-by: Juan Pablo Martí <jmarti@redhat.com>
Change-Id: I1ecb7dcde70feab479bdcd45ecb8045fb19ffaae
(cherry picked from commit e809c881b90702641d91807f2724bd21900f94ef)
"
openstack%2Fdevstack~master~I4808941ba4acaa15e1ec145209a88630bcac61c3,openstack/devstack,master,neutron-policy,I4808941ba4acaa15e1ec145209a88630bcac61c3,Drop legacy neutron policy file workaround,NEW,2022-05-28 08:00:22.000000000,2022-06-14 15:50:11.000000000,,0,12,2,843712,570a8bb5e2fe0f3b05d56dce4b7aad6e3ec32078,4,2,1,1,13252,Dr. Jens Harbott,jrosenboom,"Drop legacy neutron policy file workaround

This is a relict from a long distant past, let's clean it up.

Change-Id: I4808941ba4acaa15e1ec145209a88630bcac61c3
"
openstack%2Fhacking~master~I798dd39afcf2f16a8660ab597b6f5bae70ab2a81,openstack/hacking,master,,I798dd39afcf2f16a8660ab597b6f5bae70ab2a81,Drop py36 and py37 support,MERGED,2022-06-03 10:48:30.000000000,2022-06-14 15:21:20.000000000,2022-06-14 15:19:57.000000000,9,3,5,844570,2931131b69af7f1e76d8ab506c250a94b330ffb9,15,3,3,2,9708,Balazs Gibizer,gibi,"Drop py36 and py37 support

We are not testing with py36 and py37 so we cannot be sure hacking works
with these versions.

Add releasenote that also mentions the previous changes in py35 and
flake8 support.

Sem-Ver: api-break
Change-Id: I798dd39afcf2f16a8660ab597b6f5bae70ab2a81
"
openstack%2Fopenstack-ansible~master~I1a8702d78ebcb39ddf2f42653222588941da11b5,openstack/openstack-ansible,master,,I1a8702d78ebcb39ddf2f42653222588941da11b5,add comments to make editing the table clearer,MERGED,2022-06-14 13:43:36.000000000,2022-06-14 15:18:19.000000000,2022-06-14 15:13:28.000000000,253,253,0,845758,3d947a53bf3ccd5bfa57d57631f6d86ec4feedf8,9,3,1,1,13095,Marc Gariépy,mgariepy,"add comments to make editing the table clearer

Change-Id: I1a8702d78ebcb39ddf2f42653222588941da11b5
"
openstack%2Fopenstack-ansible~master~I9cf6b830fabde0dc77d3bf6549703f2729124b11,openstack/openstack-ansible,master,845731,I9cf6b830fabde0dc77d3bf6549703f2729124b11,[doc] Fix compatability matrix layout,MERGED,2022-06-14 11:32:48.000000000,2022-06-14 15:16:07.000000000,2022-06-14 15:13:25.000000000,33,1,0,845731,4ee51d18b16f96658f8477695f25cd281da9f51c,10,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[doc] Fix compatability matrix layout

Change-Id: I9cf6b830fabde0dc77d3bf6549703f2729124b11
"
openstack%2Fneutron~stable%2Fwallaby~I97e9ca244c0716510fcd4ec81d54046be9c5f8f8,openstack/neutron,stable/wallaby,bug/1936675,I97e9ca244c0716510fcd4ec81d54046be9c5f8f8,"Use explicit select condition in SQL query in ""_port_filter_hook""",MERGED,2022-06-06 08:30:47.000000000,2022-06-14 15:06:46.000000000,2022-06-14 15:02:48.000000000,5,4,1,844788,4e587d079e4aa31ad5e87566d3c06089914e39f7,11,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Use explicit select condition in SQL query in ""_port_filter_hook""

Instead of executing a subquery inside a select, use a proper filter
condition instead.

Closes-Bug: #1936675
Change-Id: I97e9ca244c0716510fcd4ec81d54046be9c5f8f8
(cherry picked from commit 923284fc3791949d93d7ded9820a44f98fc734b8)
"
openstack%2Fneutron~stable%2Fyoga~Ib27fa676e126503eacb97b24e95aa7cd2982adab,openstack/neutron,stable/yoga,migration-stable/yoga,Ib27fa676e126503eacb97b24e95aa7cd2982adab,migration: Fail task if executed script failed,MERGED,2022-06-13 16:01:37.000000000,2022-06-14 15:06:32.000000000,2022-06-14 15:02:52.000000000,2,3,0,845403,34e4e6922755c6e9b0ca73952de6a888ffccfd6d,8,3,1,2,8655,Jakub Libosvar,jlibosva,"migration: Fail task if executed script failed

Previously the migration playbook continued even if tripleo deploy
failed which damaged the environment even more. This patch will make the
task fail if deploy fails too. There are also other commands which
return code was ignored.

Change-Id: Ib27fa676e126503eacb97b24e95aa7cd2982adab
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit ab62f174095b5d8cdf32134cbca1f3cb79926642)
"
openstack%2Fneutron~stable%2Fxena~Ib27fa676e126503eacb97b24e95aa7cd2982adab,openstack/neutron,stable/xena,migration-stable/yoga-stable/xena,Ib27fa676e126503eacb97b24e95aa7cd2982adab,migration: Fail task if executed script failed,MERGED,2022-06-13 16:01:46.000000000,2022-06-14 15:06:22.000000000,2022-06-14 15:02:57.000000000,2,3,0,845404,65a6033dd9ff01ed9800840cbdd51b6a161a923d,9,3,1,2,8655,Jakub Libosvar,jlibosva,"migration: Fail task if executed script failed

Previously the migration playbook continued even if tripleo deploy
failed which damaged the environment even more. This patch will make the
task fail if deploy fails too. There are also other commands which
return code was ignored.

Change-Id: Ib27fa676e126503eacb97b24e95aa7cd2982adab
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit ab62f174095b5d8cdf32134cbca1f3cb79926642)
"
openstack%2Fneutron~master~I413c33970002532d11de5bc2afb145704a8488a9,openstack/neutron,master,bug/1978519,I413c33970002532d11de5bc2afb145704a8488a9,Return default value when get router's enable_ndp_proxy from `request_body`,MERGED,2022-06-14 04:05:08.000000000,2022-06-14 15:05:27.000000000,2022-06-14 15:03:01.000000000,2,1,0,845662,81a330113b5ae3d9b163eb2a92bfa0a628a31dd1,12,4,2,1,28329,yangjianfeng,yangjianfeng,"Return default value when get router's enable_ndp_proxy from `request_body`

In some cases, the creation of router was called by `l3 plugin`
directly, didn't call API. In this way, the router's request_body
of the `ndp_proxy` service plugin received has no `enable_ndp_proxy`,
this will result in `ndp_proxy` service plugin raise error.

Closes-Bug: #1978519
Related-Bug: #1877301
Change-Id: I413c33970002532d11de5bc2afb145704a8488a9
"
openstack%2Fneutron~stable%2Fwallaby~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,stable/wallaby,migration,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-07 13:27:40.000000000,2022-06-14 15:05:22.000000000,2022-06-14 15:02:35.000000000,7,2,0,844972,e325a618cc19eb937e80bb56099a1fcb64e344f9,10,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)
"
openstack%2Fneutron~stable%2Fussuri~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,stable/ussuri,migration,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-07 13:28:58.000000000,2022-06-14 15:05:10.000000000,2022-06-14 15:02:43.000000000,7,2,0,844975,8388c7468d01a18f4d98405144afbf76a1ac1e2c,8,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)
"
openstack%2Fneutron~stable%2Fvictoria~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,stable/victoria,migration,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-07 13:27:58.000000000,2022-06-14 15:04:57.000000000,2022-06-14 15:02:39.000000000,7,2,0,844973,fe1cf1c9c3e6dadae3380dba7fafcb313505d206,9,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)
"
openstack%2Fneutron~stable%2Fxena~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,stable/xena,migration,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-07 13:26:29.000000000,2022-06-14 15:04:50.000000000,2022-06-14 15:02:31.000000000,7,2,0,844971,ee2291e9687c8d3f8e0b1912b8173ecb58af8e0f,10,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)
"
openstack%2Fneutron~stable%2Fyoga~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,stable/yoga,migration,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-07 13:25:49.000000000,2022-06-14 15:04:48.000000000,2022-06-14 15:02:26.000000000,7,2,0,844970,d9550c4b18ff0ee9f6d684edae634c1972b18f95,9,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)
"
openstack%2Fnova~stable%2Fvictoria~Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a,openstack/nova,stable/victoria,bug/1851545,Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a,Neutron fixture: don't clobber profile and vif_details if empty,NEW,2021-06-17 17:03:47.000000000,2022-06-14 15:03:51.000000000,,8,5,0,796906,f3e488d6af8556dd0f52ffb5426cb1e8db73b829,9,3,2,1,8864,Artom Lifshitz,artom,"Neutron fixture: don't clobber profile and vif_details if empty

Previously, the way Neutron fixture's update_port method was coded
would cause the binding:profile and binding:vid_details fields to get
clobbered if they were not passed to the update. This was because if
nothing was passed, a default of {} was used. This is not how the real
Neutron API behaves. If nothing is passed, the previous values remain
and are not replaced with {}. This patches fixes this in the Neutron
fixture.

Change-Id: Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a
(cherry picked from commit 62868aaac70d908ade6ff80c8ced54afa0435a76)
(cherry picked from commit 83ca8b3563c2a293bc0ec153932bdee75aaab8ce)
"
openstack%2Fnova~stable%2Fvictoria~I8a040f148427cdee7b8a4983efe2b586d73be88d,openstack/nova,stable/victoria,bug/1851545,I8a040f148427cdee7b8a4983efe2b586d73be88d,fixtures: Handle binding of first port,NEW,2021-06-17 17:03:47.000000000,2022-06-14 15:03:34.000000000,,64,23,0,796905,7250cdf5f6a9429ed95bc3b0e9ec781dbfcd36b7,9,4,2,1,8864,Artom Lifshitz,artom,"fixtures: Handle binding of first port

Resolve some TODOs. This is necessary to prove out SR-IOV live
migration.

NOTE(artom) This isn't strictly speaking necessary for subsequent
backports, but it enables additional test coverage without adding any
feature code, and makes conflict resultion much cleaner.

Change-Id: I8a040f148427cdee7b8a4983efe2b586d73be88d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 4861eebc91a25056f445a4dc55a87cbb381fea05)
"
openstack%2Fopenstack-helm-infra~master~I22f6c1f01acde4869f0f6b4067756a6c8587ae5e,openstack/openstack-helm-infra,master,,I22f6c1f01acde4869f0f6b4067756a6c8587ae5e,[DNM] Gate test,ABANDONED,2022-06-13 18:48:39.000000000,2022-06-14 14:56:23.000000000,,7,1,0,845622,1e552082fece75204a70bcb86bc32c98412b5b13,8,1,3,3,29974,Stephen Taylor,st053q,"[DNM] Gate test

Change-Id: I22f6c1f01acde4869f0f6b4067756a6c8587ae5e
"
openstack%2Fnova~master~I5adeea81f6be414e1a298b3cb80dfed24e18ce9a,openstack/nova,master,bp/pci-device-tracking-in-placement,I5adeea81f6be414e1a298b3cb80dfed24e18ce9a,WIP: skeleton for asserting PCI resources in Placement,ABANDONED,2022-05-25 14:35:46.000000000,2022-06-14 14:49:06.000000000,,79,1,3,843291,238debd8bf11a75eab6bb8be56d6b35e69f7cecf,15,1,3,1,9708,Balazs Gibizer,gibi,"WIP: skeleton for asserting PCI resources in Placement

blueprint: pci-device-tracking-in-placement

Change-Id: I5adeea81f6be414e1a298b3cb80dfed24e18ce9a
"
openstack%2Fcompute-hyperv~master~I8549cd018a53411f2991c8564c548a00b145631f,openstack/compute-hyperv,master,,I8549cd018a53411f2991c8564c548a00b145631f,Use TOX_CONSTRAINTS_FILE,MERGED,2022-05-19 07:13:24.000000000,2022-06-14 14:33:45.000000000,2022-06-14 14:33:45.000000000,1,1,1,842464,4b80f61a5c4078ea6c2bbc922cc67faf23a12a19,9,2,2,1,33881,LiZekun,joeylee666666,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I8549cd018a53411f2991c8564c548a00b145631f
"
openstack%2Fcinder~master~I53b7efc093f7fc5823e0543aca4ce57720b88f5b,openstack/cinder,master,bug/1798529,I53b7efc093f7fc5823e0543aca4ce57720b88f5b,Unity: force delete attached snapshots,NEW,2018-10-18 07:02:43.000000000,2022-06-14 14:05:32.000000000,,13,7,7,611515,bd902c0dc8b80aba143d5f60e71fdb951dca382f,284,49,9,7,18742,Ryan Liang,RyanLiang,"Unity: force delete attached snapshots

Force delete the snapshot even if it is attached to hosts.

Closes-bug: #1798529
Change-Id: I53b7efc093f7fc5823e0543aca4ce57720b88f5b
"
openstack%2Fcinder~master~Ica2d9ab6e90eaa47f3e848215d267ac5f3251dcc,openstack/cinder,master,rsd_unsupported,Ica2d9ab6e90eaa47f3e848215d267ac5f3251dcc,Mark RSD driver as unsupported,NEW,2020-03-05 16:49:33.000000000,2022-06-14 14:01:52.000000000,,13,3,7,711512,ad4e5580c7c744097f00f98f16550b73611c31b0,106,41,3,2,29855,Martin Kennelly,martinkennelly,"Mark RSD driver as unsupported

  * Cinder RSD driver is unsupported and will be removed in upcoming
    releases

  * RSD driver CI is disabled by end of March 2020

Change-Id: Ica2d9ab6e90eaa47f3e848215d267ac5f3251dcc
Signed-off-by: Martin Kennelly <martin.kennelly@intel.com>
"
openstack%2Ftripleo-heat-templates~master~I9daaf69463e74f0f7fb63586ff6464194391da30,openstack/tripleo-heat-templates,master,bug/1978131,I9daaf69463e74f0f7fb63586ff6464194391da30,Keystone: Remove unnecessary binds for admin endpoint,MERGED,2022-06-10 04:57:36.000000000,2022-06-14 14:00:53.000000000,2022-06-14 14:00:53.000000000,5,15,7,845317,2de73e76243948036bb1bdcaec5b805ddb26676d,28,7,6,1,9816,Takashi Kajinami,kajinamit,"Keystone: Remove unnecessary binds for admin endpoint

In the past Keystone required a separate instance for admin endpoint.
However that requirement was removed and current TripleO deploys only
a single keystone instance, which listens on tcp/5000 in
KeystonePublicApiNetwork [1].

Now haproxy forwards all keystone api access to tcp/5000 in
KeystonePublicApiNetwork and no longer uses backend on tcp/35357 in
KeystoneAdminApiNetwork.

[1] 5bd82e9ef051e732c0f991eaf4f9e3572aac87f6

Closes-Bug: #1978131
Change-Id: I9daaf69463e74f0f7fb63586ff6464194391da30
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8ee338c3f3e20f1826d98efb38d3b21fefda5031,openstack/tripleo-heat-templates,stable/train,bug/1959726-stable/train,I8ee338c3f3e20f1826d98efb38d3b21fefda5031,Add parameter IronicIPXEUefiSnpOnly,MERGED,2022-02-05 04:22:16.000000000,2022-06-14 13:57:34.000000000,2022-03-24 08:40:23.000000000,21,0,20,827950,f8c554c02f5e1dd3b5c3a4707cc82d35eb54f9da,63,6,3,2,24245,Harald Jensås,harald.jensas,"Add parameter IronicIPXEUefiSnpOnly

Add new parameter IronicIPXEUefiSnpOnly (default: true).
When `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi
is used.

'snponly.efi' is the default in puppet-ironic master branch, however
in Wallaby and earlier releases 'ipxe.efi' is the default. Since
'ipxe.efi' is not compatible with a lot of hardware TripleO should
change this default.

Conflicts:
  deployment/ironic/ironic-conductor-container-puppet.yaml

Depends-On: https://review.opendev.org/828089
Related: RHBZ#2049179
Closes-Bug: 1959726
Change-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031
(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)
"
openstack%2Fhorizon~master~I5c8ed10f532f93f73d21755b9c563fe2e64b8f50,openstack/horizon,master,ec2_credentials,I5c8ed10f532f93f73d21755b9c563fe2e64b8f50,Added ec2 credentials to openstack dashboard * Fix pep8,ABANDONED,2022-06-14 12:03:50.000000000,2022-06-14 13:45:40.000000000,,5,13,381,845735,704419e31c5a650ed432a51a2d89a18af9d61482,4,2,1,5,24679,Fontenay Tony,weezhard,"Added ec2 credentials to openstack dashboard
* Fix pep8

Change-Id: I5c8ed10f532f93f73d21755b9c563fe2e64b8f50
"
openstack%2Fkeystone~stable%2Fussuri~I77148641715efe09e3adc2e9432e66e50fb444b4,openstack/keystone,stable/ussuri,fix-ldap-bytes-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,I77148641715efe09e3adc2e9432e66e50fb444b4,Fix issue with LDAP backend returning bytes instead of string,MERGED,2022-02-07 09:27:10.000000000,2022-06-14 13:40:12.000000000,2022-06-14 13:38:18.000000000,17,2,1,827964,256dbe9fe8a7b40dc8f1fd65cc004c92a5721940,8,2,1,1,14250,Grzegorz Grasza,xek,"Fix issue with LDAP backend returning bytes instead of string

When connecting to some LDAP server software, the ldap client returns
bytes instances instead of the expected strings. This can result in
either being transparently converted to strings, when the data is
inserted via sqlalchemy into the database, or could be used as
input to other functions, and/or cached, which causes unexpected
results.

Closes-Bug: #1952458
Resolves: rhbz#1964872
Change-Id: I77148641715efe09e3adc2e9432e66e50fb444b4
(cherry picked from commit 1e0cd90191663c100c165d4c6a2b1ca796b5af25)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ice012188654cfef7ebdb95630015b656d6fa0032,openstack/tripleo-heat-templates,stable/victoria,,Ice012188654cfef7ebdb95630015b656d6fa0032,Use Octavia's own default user_log_format value,ABANDONED,2022-05-06 15:40:13.000000000,2022-06-14 13:34:46.000000000,,12,2,3,840928,b563cf68c3fc9a5a0b97b4fcd4bcd5d8b6a49401,8,3,1,2,34429,Tom Weininger,tweining,"Use Octavia's own default user_log_format value

The HAProxy tenant flow logs are showing ""[ssl_c_s_dn]"" instead of
the client certificate DN string because of a bug in the default
value in THT. By using Octavia's own default we avoid this.

Conflicts:
	deployment/octavia/octavia-base.yaml

Change-Id: Ice012188654cfef7ebdb95630015b656d6fa0032
(cherry picked from commit 7acb4f490abd1ad58cf6850d6c301322f96cf31a)
(cherry picked from commit 2cd0a1a5de4a8bcabb06229fe7680d9de3f2efad)
"
openstack%2Ftacker~master~Ic28b5748c8d63d943218d0ac524dcbcfdc06366a,openstack/tacker,master,,Ic28b5748c8d63d943218d0ac524dcbcfdc06366a,[DNM] Set different number of instances for same delta and aspectId,NEW,2022-01-21 16:12:14.000000000,2022-06-14 13:21:23.000000000,,1127,10,11,825833,6b492e6e352daa42aac060e7aac2358ff298e4e5,40,6,18,16,34346,Pooja Singla,psingla,"[DNM] Set different number of instances for same delta and aspectId

As per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels
policies with uniform delta"",number_of_instance of deltas
in `VduScalingAspectDeltas`is able to have different value
for same aspect_id and delta_id.This patch fixes the code
which was earlier overwriting the value for same aspect and
delta id.

Closes-Bug: #1906779
Change-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a
"
openstack%2Ftripleo-quickstart-extras~master~I34d93c7f05d4897e3d2e4434d44033bf78461402,openstack/tripleo-quickstart-extras,master,,I34d93c7f05d4897e3d2e4434d44033bf78461402,Remove patches from spec with downstream driver,NEW,2022-06-14 09:50:14.000000000,2022-06-14 12:32:23.000000000,,1,1,0,845719,554c57169176d209472a661a16b155b799762f86,5,2,1,1,16312,Alfredo Moralejo,amoralej,"Remove patches from spec with downstream driver

To test when using downstream driver.

Change-Id: I34d93c7f05d4897e3d2e4434d44033bf78461402
"
openstack%2Fheat~stable%2Fwallaby~Iec3367667248d0b46196a6d569f3cbb3b200d842,openstack/heat,stable/wallaby,patches-stable/wallaby,Iec3367667248d0b46196a6d569f3cbb3b200d842,Use previous parameter merge strategy,MERGED,2022-06-14 04:38:45.000000000,2022-06-14 12:31:46.000000000,2022-06-14 12:30:13.000000000,19,3,0,845666,bc4e3bb627294629bcd53d05f53ab4a196370b74,8,2,1,2,9816,Takashi Kajinami,kajinamit,"Use previous parameter merge strategy

We don't allow different parameter merge strategies
in different environment files for a parameter. If
a merge strategy has already been provided in one
environment file, let's use that for subsequent ones
unless a different merge strategy has been provided.

Task: 45578
Change-Id: Iec3367667248d0b46196a6d569f3cbb3b200d842
(cherry picked from commit 94f32ee39f4d705614079bd0ac113cde67dbb7e4)
(cherry picked from commit f0507980586711014e28411d53faba30138c3044)
(cherry picked from commit 66dd43c6555451e4a6f60d82ef8da33cc83f6397)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I6f8b4bd15155c5da56ddbb71bf597e292e1adc99,openstack/tripleo-heat-templates,stable/victoria,cinder-rbd-extra-options,I6f8b4bd15155c5da56ddbb71bf597e292e1adc99,"[train,ussuri,victoria] Enable cinder RBD deferred deletion",ABANDONED,2022-01-05 20:30:24.000000000,2022-06-14 12:28:15.000000000,,14,0,2,823576,e1241c944853d9bb92a7c8fc8eca11b9fc3ff0df,8,2,1,1,21129,Alan Bishop,ASBishop,"[train,ussuri,victoria] Enable cinder RBD deferred deletion

This patch enables the cinder RBD driver's deferred_deletion feature
in releases that require it. This is necessary only in train, ussuri
and victoria, because the feature works differently in wallaby and
later releases.

The patch adds the CephRbdTrashPurgeInterval that was introduced
in wallaby by I6d560bbd67958ec484248ad0b20ef30f1f9593b8. In wallaby
the parameter is used when configuring a deployed ceph cluster, but
in this patch it configures equivalent functionality in the cinder
RBD driver. The same THT CephRbdTrashPurgeInterval parameter name
was chosen for the sake of consistency.

Change-Id: I6f8b4bd15155c5da56ddbb71bf597e292e1adc99
"
openstack%2Fzun~master~Icca60d713d004c859ce7b42bea04e2866795f477,openstack/zun,master,yyy,Icca60d713d004c859ce7b42bea04e2866795f477,Increase the weight of the scheduling strategy.,NEW,2021-11-30 01:12:14.000000000,2022-06-14 12:25:20.000000000,,1167,4,4,819740,ebd2946da82d5cc4b5ad43584738a26d20876279,21,2,5,16,34189,yangchangjia,ycj,"Increase the weight of the scheduling strategy.

In the latest or train version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun's overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun's scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.

For the current version, the node hardware configuration of our environment:
```
computer01	16H64G7T	zun-compute
computer02	16H64G7T	zun-compute
computer03	16H64G40T	nova-compute
computer04	16H64G7T	nova-compute
controller01	16H64G40T	controller

```
The ""scheduler"" config of ""zun.conf"" is:
```
[scheduler]
driver = filter_scheduler

available_filters = zun.scheduler.filters.all_filters

enabled_filters = CPUFilter
```

In ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:
```
[
ComputeNode(architecture='x86_64',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,
disk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname='computer02',kernel_version='3.10.0-862.el7.x86_64',
labels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,
os='CentOS Linux 7 (Core)',os_type='linux',paused_containers=0,pci_device_pools=PciDevicePoolList,
rp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,
runtimes=['io.containerd.runc.v2','io.containerd.runtime.v1.linux','runc'],
stopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),
ComputeNode(architecture='x86_64',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,
disk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname='computer01',kernel_version='3.10.0-862.el7.x86_64',
labels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,
os='CentOS Linux 7 (Core)',os_type='linux',paused_containers=0,pci_device_pools=PciDevicePoolList,
rp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,
runtimes=['io.containerd.runc.v2','io.containerd.runtime.v1.linux','runc'],
stopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)
]
```

But the final selected node is:
```
computer02 ram: 57234MB disk: 5126GB cpus: 3.0
```

Finally, the ""scheduler"" sample config of ""zun.conf"" is:
```
[scheduler]
driver = filter_scheduler

available_filters = zun.scheduler.filters.all_filters

enabled_filters = CPUFilter

weight_classes=zun.scheduler.weights.all_weighers

```

Change-Id: Icca60d713d004c859ce7b42bea04e2866795f477
"
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~If8a40a6fb8aedffcb12e3839a272e2b89e832e57,openstack/tripleo-puppet-elements,stable/wallaby,sbd,If8a40a6fb8aedffcb12e3839a272e2b89e832e57,Add sbd and fence-agents-sbd to the list of fence agents,MERGED,2022-06-09 05:58:11.000000000,2022-06-14 12:11:34.000000000,2022-06-14 12:11:34.000000000,1,1,4,845194,b238080adfc0a41dbabfb7f72b23911ca80deba0,19,4,2,1,30126,Luca Miccini,lmiccini2,"Add sbd and fence-agents-sbd to the list of fence agents

sbd doesn't get pulled in automatically when installing pacemaker
(anymore?) so we need to have it listed explicitly.

Change-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57
(cherry picked from commit a9d7810b3b3bea43dcf29672a047e6d500f1e6de)
"
openstack%2Fkuryr-kubernetes~master~I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4,openstack/kuryr-kubernetes,master,nested-virt-kvm,I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4,Force kvm and host-passthrough for Amphora jobs,MERGED,2022-06-14 08:23:57.000000000,2022-06-14 12:04:56.000000000,2022-06-14 12:02:34.000000000,8,0,1,845703,d65720cf7434cd2e201415535d316d3189873d9a,9,3,1,2,11600,Michał Dulko,dulek,"Force kvm and host-passthrough for Amphora jobs

We face general instability of the Amphora jobs that we have. A while
ago we've made sure that these jobs are scheduled on the clouds that
support nested virtualization in order to boost performance of the
Amphora LB VMs. Now it turns out we haven't configured DevStack to
actually use kvm instead of qemu, so it's possible that we were still
running these jobs with software virtualization.

This commit attempts to reconfigure DevStack to actually use kvm and
nested virtualization.

Change-Id: I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4
"
openstack%2Fnova~stable%2Fwallaby~Iddbc9b2a13f19cea9a996aeadfe891f4ef3b0264,openstack/nova,stable/wallaby,bug/1958883,Iddbc9b2a13f19cea9a996aeadfe891f4ef3b0264,Add service version check workaround for FFU,MERGED,2022-06-01 17:37:12.000000000,2022-06-14 11:58:53.000000000,2022-06-14 11:57:19.000000000,64,2,3,844202,e8b079a91ee723d0dc45e3d8b80f4efa2c1ce34d,18,3,1,5,9708,Balazs Gibizer,gibi,"Add service version check workaround for FFU

We recently added a hard failure to nova service startup for the case
where computes were more than one version old (as indicated by their
service record). This helps to prevent starting up new control
services when a very old compute is still running. However, during an
FFU, control services that have skipped multiple versions will be
started and find the older compute records (which could not be updated
yet due to their reliance on the control services being up) and refuse
to start. This creates a cross-dependency which is not resolvable
without hacking the database.

This patch adds a workaround flag to allow turning that hard fail into
a warning to proceed past the issue. This less-than-ideal solution
is simple and backportable, but perhaps a better solution can be
implemented for the future.

Related-Bug: #1958883

Change-Id: Iddbc9b2a13f19cea9a996aeadfe891f4ef3b0264
(cherry picked from commit 7d2e4815892ddd523c21bf1785cc113981871998)
(cherry picked from commit 3a5f8924ff42ce3f691f33abf2c2daee88e90fe5)
"
openstack%2Ftempest~master~I4f90bf5e1357992554ced85cd4f75f3fccd73c10,openstack/tempest,master,master1,I4f90bf5e1357992554ced85cd4f75f3fccd73c10,add blank line to code advance,ABANDONED,2022-06-14 11:57:08.000000000,2022-06-14 11:57:59.000000000,,1,0,0,845732,4f6a0ef072c6f044eb2e1e7cdeb91f32501b9dff,2,0,1,1,30409,wangzhiguang,wangzhiguang,"add blank line to code advance

add blank line to code advance

Change-Id: I4f90bf5e1357992554ced85cd4f75f3fccd73c10
"
openstack%2Ftripleo-puppet-elements~stable%2Ftrain~If8a40a6fb8aedffcb12e3839a272e2b89e832e57,openstack/tripleo-puppet-elements,stable/train,sbd,If8a40a6fb8aedffcb12e3839a272e2b89e832e57,Add sbd and fence-agents-sbd to the list of fence agents,MERGED,2022-06-09 05:58:36.000000000,2022-06-14 11:54:31.000000000,2022-06-14 11:54:31.000000000,1,1,1,845195,9f64588ba06842f6478c4fc43f0ec1970806fa67,17,4,2,1,30126,Luca Miccini,lmiccini2,"Add sbd and fence-agents-sbd to the list of fence agents

sbd doesn't get pulled in automatically when installing pacemaker
(anymore?) so we need to have it listed explicitly.

Change-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57
(cherry picked from commit a9d7810b3b3bea43dcf29672a047e6d500f1e6de)
(cherry picked from commit b238080adfc0a41dbabfb7f72b23911ca80deba0)
(cherry picked from commit 7b85576d2eb30ff9f7e278d95ef3ccd22a9f7c8c)
"
openstack%2Ftripleo-puppet-elements~stable%2Fvictoria~If8a40a6fb8aedffcb12e3839a272e2b89e832e57,openstack/tripleo-puppet-elements,stable/victoria,sbd,If8a40a6fb8aedffcb12e3839a272e2b89e832e57,Add sbd and fence-agents-sbd to the list of fence agents,MERGED,2022-06-09 05:57:57.000000000,2022-06-14 11:54:29.000000000,2022-06-14 11:54:29.000000000,1,1,2,845193,7b85576d2eb30ff9f7e278d95ef3ccd22a9f7c8c,15,3,2,1,30126,Luca Miccini,lmiccini2,"Add sbd and fence-agents-sbd to the list of fence agents

sbd doesn't get pulled in automatically when installing pacemaker
(anymore?) so we need to have it listed explicitly.

Change-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57
(cherry picked from commit a9d7810b3b3bea43dcf29672a047e6d500f1e6de)
(cherry picked from commit b238080adfc0a41dbabfb7f72b23911ca80deba0)
"
openstack%2Ftap-as-a-service~master~I871f72ef4c1e75077ed367a306e4cfbda64474b0,openstack/tap-as-a-service,master,,I871f72ef4c1e75077ed367a306e4cfbda64474b0,fix tox python3 overrides,ABANDONED,2018-10-12 09:01:05.000000000,2022-06-14 11:42:43.000000000,,9,1,3,609972,036c842ac238254465b82e599bf065ef68a1d382,12,6,2,1,28543,shupeng,Vieri,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I871f72ef4c1e75077ed367a306e4cfbda64474b0
"
openstack%2Fheat~stable%2Fyoga~I6aee0719b0cdef2b17666a43074c5c18645fc180,openstack/heat,stable/yoga,patches-stable/yoga,I6aee0719b0cdef2b17666a43074c5c18645fc180,Log parameters merged,MERGED,2022-06-14 04:30:15.000000000,2022-06-14 11:18:29.000000000,2022-06-14 11:16:59.000000000,6,0,0,845671,d997d70ca13065d1caf96c06af05d084353ca827,8,2,1,1,9816,Takashi Kajinami,kajinamit,"Log parameters merged

This can help in troubleshooting.

Task: 45579
Change-Id: I6aee0719b0cdef2b17666a43074c5c18645fc180
(cherry picked from commit c0be1f01fd9c208130857efd7c01ece94d4fb0bb)
"
openstack%2Fheat~stable%2Fxena~Iec3367667248d0b46196a6d569f3cbb3b200d842,openstack/heat,stable/xena,patches-stable/xena,Iec3367667248d0b46196a6d569f3cbb3b200d842,Use previous parameter merge strategy,MERGED,2022-06-14 04:37:58.000000000,2022-06-14 11:18:15.000000000,2022-06-14 11:16:52.000000000,19,3,0,845664,66dd43c6555451e4a6f60d82ef8da33cc83f6397,8,2,1,2,9816,Takashi Kajinami,kajinamit,"Use previous parameter merge strategy

We don't allow different parameter merge strategies
in different environment files for a parameter. If
a merge strategy has already been provided in one
environment file, let's use that for subsequent ones
unless a different merge strategy has been provided.

Task: 45578
Change-Id: Iec3367667248d0b46196a6d569f3cbb3b200d842
(cherry picked from commit 94f32ee39f4d705614079bd0ac113cde67dbb7e4)
(cherry picked from commit f0507980586711014e28411d53faba30138c3044)
"
openstack%2Fkayobe-config-dev~stable%2Fxena~I7191779c1fb3a192b401886cd591f12c4b0ab2b0,openstack/kayobe-config-dev,stable/xena,,I7191779c1fb3a192b401886cd591f12c4b0ab2b0,Avoid rebooting after disabling SELinux,MERGED,2022-06-13 08:15:09.000000000,2022-06-14 11:02:21.000000000,2022-06-14 11:02:21.000000000,7,0,0,845395,a267526da91c667eef909affe527463ac60e66d7,7,3,1,1,14826,Mark Goddard,mgoddard,"Avoid rebooting after disabling SELinux

This is generally not necessary in development environments, and makes
for an awkward development workflow.

Change-Id: I7191779c1fb3a192b401886cd591f12c4b0ab2b0
(cherry picked from commit 05155c1dcb839da6bd2cf07b71c63a82aae28a65)
"
openstack%2Foswin-tempest-plugin~master~Idc2841a26f59dc0ba6bf8a24116f5dbcbb059a74,openstack/oswin-tempest-plugin,master,,Idc2841a26f59dc0ba6bf8a24116f5dbcbb059a74,setup.cfg: Replace dashes with underscores,MERGED,2022-06-04 07:29:59.000000000,2022-06-14 11:01:16.000000000,2022-06-14 11:01:16.000000000,3,3,2,844682,2cb18192405ea0ef5d7912614a7f629af5762f12,12,2,2,1,33436,YuehuiLei,leiyuehui,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Idc2841a26f59dc0ba6bf8a24116f5dbcbb059a74
"
openstack%2Fpuppet-neutron~master~Ib34c67905db31e32653314c8873a938dcbd04ed3,openstack/puppet-neutron,master,,Ib34c67905db31e32653314c8873a938dcbd04ed3,Deprecate support for linuxbridge plugin config,MERGED,2022-06-10 00:26:19.000000000,2022-06-14 11:00:53.000000000,2022-06-14 10:59:35.000000000,18,14,0,845309,959c1cefeea69b65c67670b0ad44376843c9836f,9,3,2,4,9816,Takashi Kajinami,kajinamit,"Deprecate support for linuxbridge plugin config

The file no longer exists since linuxbridge was integrated to the ml2
plugin as a mechanism driver.

Change-Id: Ib34c67905db31e32653314c8873a938dcbd04ed3
"
openstack%2Fkayobe-config-dev~stable%2Fwallaby~I7191779c1fb3a192b401886cd591f12c4b0ab2b0,openstack/kayobe-config-dev,stable/wallaby,,I7191779c1fb3a192b401886cd591f12c4b0ab2b0,Avoid rebooting after disabling SELinux,MERGED,2022-06-13 08:15:23.000000000,2022-06-14 10:57:58.000000000,2022-06-14 10:57:58.000000000,7,0,0,845396,0f67f7e4db9af86bc80d6946b695133b38662ee6,8,2,2,1,14826,Mark Goddard,mgoddard,"Avoid rebooting after disabling SELinux

This is generally not necessary in development environments, and makes
for an awkward development workflow.

Change-Id: I7191779c1fb3a192b401886cd591f12c4b0ab2b0
(cherry picked from commit 05155c1dcb839da6bd2cf07b71c63a82aae28a65)
"
openstack%2Fkayobe-config-dev~stable%2Fyoga~I7191779c1fb3a192b401886cd591f12c4b0ab2b0,openstack/kayobe-config-dev,stable/yoga,,I7191779c1fb3a192b401886cd591f12c4b0ab2b0,Avoid rebooting after disabling SELinux,MERGED,2022-06-13 08:14:58.000000000,2022-06-14 10:57:56.000000000,2022-06-14 10:57:56.000000000,7,0,0,845394,23eaac64a2f68b350271fe86fb9010f6cfabd51d,7,3,1,1,14826,Mark Goddard,mgoddard,"Avoid rebooting after disabling SELinux

This is generally not necessary in development environments, and makes
for an awkward development workflow.

Change-Id: I7191779c1fb3a192b401886cd591f12c4b0ab2b0
(cherry picked from commit 05155c1dcb839da6bd2cf07b71c63a82aae28a65)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4,openstack/tripleo-heat-templates,stable/victoria,,I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4,Manage octavia flavor in tripleo-ansible,ABANDONED,2022-01-24 16:09:11.000000000,2022-06-14 10:56:40.000000000,,20,22,4,826114,b7b1b46388d10c6d44413ff2bad44a8fdcc92052,15,2,1,3,29244,Gregory Thiemonge,gthiemonge,"Manage octavia flavor in tripleo-ansible

Move the creation of the nova flavor for Octavia in tripleo-ansible, it
allows us to specifiy the type of the API endpoint we want to use
(internal endpoint).

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/826089

Change-Id: I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4
(cherry picked from commit 9d4d7f9a63f39feffa0d13297c4dd8d3316935e2)
(cherry picked from commit 7cfe7813b63a8882e41413ab70d510f62f1df190)
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I4554fc54c096be32b85d66030d8b2fc892e595bb,openstack/tripleo-ansible,stable/victoria,bug/1976122-stable/victoria,I4554fc54c096be32b85d66030d8b2fc892e595bb,Ensure ceph_ansible_playbook_verbosity is an integer,ABANDONED,2022-06-07 11:41:19.000000000,2022-06-14 10:43:47.000000000,,1,1,2,844935,391251c8591bde763e8c6fb27a75479ab0485044,8,2,1,1,18002,John Fulton,fultonj,"Ensure ceph_ansible_playbook_verbosity is an integer

This patch is going directly into stable/wallaby because
this role was deprecated in that release and removed in
the next release.

Change-Id: I4554fc54c096be32b85d66030d8b2fc892e595bb
Closes-Bug: #1976122
(cherry picked from commit 4f84847a8d734158588972e32ce58ec5ec2846f9)
"
openstack%2Ftripleo-validations~stable%2Fvictoria~Ie268e91341610dad36c3ddc79496cc174f732900,openstack/tripleo-validations,stable/victoria,libvirt_validation-stable/wallaby-stable/victoria,Ie268e91341610dad36c3ddc79496cc174f732900,Validate libvirtd is not running on the undercloud,ABANDONED,2022-03-03 14:19:33.000000000,2022-06-14 10:41:19.000000000,,57,0,5,831757,25c8bf602cb02ac972310b8e507e1811e0d51caa,14,2,3,5,7130,David Hill,dhill,"Validate libvirtd is not running on the undercloud

Validate libvirtd is not running on the undercloud as its dnsmasq
process is conflicting with ironic-inspector dnsmasq process.

Change-Id: Ie268e91341610dad36c3ddc79496cc174f732900
(cherry picked from commit 30b234a45c45fff2b49f94efef2d0de31fad2c5e)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Id04d1c45e37b6bd1e890d1cf34f17b12b52b034a,openstack/tripleo-heat-templates,stable/victoria,lp1946659,Id04d1c45e37b6bd1e890d1cf34f17b12b52b034a,DNM testing tripleo-ci/+/822482,ABANDONED,2021-12-22 14:15:55.000000000,2022-06-14 10:00:21.000000000,,1,17,0,822707,45b55219784030a045180d5568b998b18e8c9be3,5,2,1,2,8449,Marios Andreou,marios,"DNM testing tripleo-ci/+/822482

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/822482
Change-Id: Id04d1c45e37b6bd1e890d1cf34f17b12b52b034a
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ie5049d19b22895b7ebb64c2dc976b2799bcdbf2a,openstack/tripleo-heat-templates,stable/victoria,,Ie5049d19b22895b7ebb64c2dc976b2799bcdbf2a,DNM: testing for https://bugs.launchpad.net/tripleo/+bug/1959014,ABANDONED,2022-02-03 13:06:09.000000000,2022-06-14 09:59:31.000000000,,2,0,0,827660,e22ec5ce8090c0241b085e38ebd25638cb2cb7e4,3,1,1,1,8449,Marios Andreou,marios,"DNM: testing for https://bugs.launchpad.net/tripleo/+bug/1959014

Change-Id: Ie5049d19b22895b7ebb64c2dc976b2799bcdbf2a
"
openstack%2Fopenstack-tempest-skiplist~master~I974d271c638705e5a6ab7eb91fa612dd9bb52c7f,openstack/openstack-tempest-skiplist,master,bug1904223,I974d271c638705e5a6ab7eb91fa612dd9bb52c7f,"Revert ""Add temptest test failing on scenario002 to skiplist""",ABANDONED,2020-11-19 11:46:13.000000000,2022-06-14 09:41:24.000000000,,0,14,0,763359,7e91fce6adda6229cfcc931c0717ddec38ab0cee,15,6,5,1,8449,Marios Andreou,marios,"Revert ""Add temptest test failing on scenario002 to skiplist""

This reverts commit a97cb4b649ec7fb44f0f9b02df33d534ef225292
and related change Icc4587d78235ab98bb38679675c4532aa0d61d15

Tested at https://review.rdoproject.org/r/#/c/31154/

Change-Id: I974d271c638705e5a6ab7eb91fa612dd9bb52c7f
Related-Bug: 1904223
"
openstack%2Ftripleo-heat-templates~master~Ie12a7e0021371f9d71ac7db5840d4439827ab64a,openstack/tripleo-heat-templates,master,,Ie12a7e0021371f9d71ac7db5840d4439827ab64a,nova-compute: Remove unused condition,ABANDONED,2022-06-14 09:36:11.000000000,2022-06-14 09:40:29.000000000,,0,4,0,845718,aab095754bfab2df8d6720f849a50903b739fcf4,2,0,1,1,9816,Takashi Kajinami,kajinamit,"nova-compute: Remove unused condition

Change-Id: Ie12a7e0021371f9d71ac7db5840d4439827ab64a
"
openstack%2Fopenstack-tempest-skiplist~master~I4144c84f91eb04c870721d644290cfb9b91c4db0,openstack/openstack-tempest-skiplist,master,,I4144c84f91eb04c870721d644290cfb9b91c4db0,octavia load balancer tests are NOT consistently passing,ABANDONED,2021-09-23 13:21:17.000000000,2022-06-14 09:21:44.000000000,,4,5,3,810667,6ca6673c4cd76195dd70a22d5e39967804a3c405,12,5,2,1,9592,wes hayutin,weshayutin,"octavia load balancer tests are NOT consistently passing

Change-Id: I4144c84f91eb04c870721d644290cfb9b91c4db0
"
openstack%2Fopenstack-tempest-skiplist~master~I0ae8b282223e75fb3bfca4a0f3c2bdd3dcb89702,openstack/openstack-tempest-skiplist,master,tempest-allow-minimal,I0ae8b282223e75fb3bfca4a0f3c2bdd3dcb89702,Add minimal group,ABANDONED,2021-09-08 09:19:40.000000000,2022-06-14 09:21:32.000000000,,10,0,3,807841,a3c2645a349ab047413128a374d1bdab250e1add,8,5,1,1,8367,Arx Cruz,arxcruz,"Add minimal group

This group is for jobs running minimal featureset

Change-Id: I0ae8b282223e75fb3bfca4a0f3c2bdd3dcb89702
"
openstack%2Fopenstack-tempest-skiplist~master~I981dfd13059e5c42e5f3b51b7effc97c8a704e05,openstack/openstack-tempest-skiplist,master,,I981dfd13059e5c42e5f3b51b7effc97c8a704e05,remove network secgroup skip,ABANDONED,2021-01-18 18:47:16.000000000,2022-06-14 09:20:50.000000000,,1,17,0,771264,599e538d96fc00e51a8fac5f642a353b75c13d76,9,2,2,1,9592,wes hayutin,weshayutin,"remove network secgroup skip

Closes-Bug: #1908982
Change-Id: I981dfd13059e5c42e5f3b51b7effc97c8a704e05
"
openstack%2Fopenstack-tempest-skiplist~master~I84a8dfa0922566cfbc597f41b7e0eb2aace1ca1c,openstack/openstack-tempest-skiplist,master,bug/1892682,I84a8dfa0922566cfbc597f41b7e0eb2aace1ca1c,Adding octavia related tests to skiplist,ABANDONED,2020-08-24 08:31:19.000000000,2022-06-14 09:20:26.000000000,,41,1,0,747643,e2e0283c126915b97a66c732c64ec3c13d5e5031,5,3,1,1,8367,Arx Cruz,arxcruz,"Adding octavia related tests to skiplist

These tests are failing in periodic ovn job in both ussuri and master

Change-Id: I84a8dfa0922566cfbc597f41b7e0eb2aace1ca1c
Related-Bug: #1892682
"
openstack%2Fheat~stable%2Fyoga~Iec3367667248d0b46196a6d569f3cbb3b200d842,openstack/heat,stable/yoga,patches-stable/yoga,Iec3367667248d0b46196a6d569f3cbb3b200d842,Use previous parameter merge strategy,MERGED,2022-06-14 04:29:24.000000000,2022-06-14 09:15:29.000000000,2022-06-14 09:14:04.000000000,19,3,1,845670,f0507980586711014e28411d53faba30138c3044,11,2,1,2,9816,Takashi Kajinami,kajinamit,"Use previous parameter merge strategy

We don't allow different parameter merge strategies
in different environment files for a parameter. If
a merge strategy has already been provided in one
environment file, let's use that for subsequent ones
unless a different merge strategy has been provided.

Task: 45578
Change-Id: Iec3367667248d0b46196a6d569f3cbb3b200d842
(cherry picked from commit 94f32ee39f4d705614079bd0ac113cde67dbb7e4)
"
openstack%2Fmistral-tempest-plugin~master~Ifaf744c536081e079fe1fa0b54ffa2d41edb85df,openstack/mistral-tempest-plugin,master,master4,Ifaf744c536081e079fe1fa0b54ffa2d41edb85df,modify get task details use the get_object method,NEW,2022-06-13 08:01:46.000000000,2022-06-14 09:14:26.000000000,,4,3,1,845561,071b5c255ae07278032a6bc214cf9795c5709850,4,1,1,1,30409,wangzhiguang,wangzhiguang,"modify get task details use the get_object method

according to the api documentation of the mistral module, the uuid of
the task is passed in to get task details

Change-Id: Ifaf744c536081e079fe1fa0b54ffa2d41edb85df
"
openstack%2Fopenstack-tempest-skiplist~master~I6dadaf5b8be3ad7618ca64387617ee0f9fd6adcd,openstack/openstack-tempest-skiplist,master,,I6dadaf5b8be3ad7618ca64387617ee0f9fd6adcd,remove basicops skip from master,ABANDONED,2021-05-07 16:18:24.000000000,2022-06-14 09:09:39.000000000,,0,3,0,790279,2b66e4aaba05d4a3fdb0cd4d4a2555803b4cd3a8,4,2,1,1,9592,wes hayutin,weshayutin,"remove basicops skip from master

leaving the skip active in wallaby as to not
impact current backports

Change-Id: I6dadaf5b8be3ad7618ca64387617ee0f9fd6adcd
"
openstack%2Fopenstack-tempest-skiplist~master~I5ce39b9748031f1cd50659d44202f80dd5d54cbd,openstack/openstack-tempest-skiplist,master,,I5ce39b9748031f1cd50659d44202f80dd5d54cbd,"DNM, testing update attached volume",ABANDONED,2021-05-18 18:38:32.000000000,2022-06-14 09:09:18.000000000,,0,10,0,792030,12ea4ea783dd756c63df4ee0a26f7f326fc18d81,3,1,1,1,9592,wes hayutin,weshayutin,"DNM, testing update attached volume

Change-Id: I5ce39b9748031f1cd50659d44202f80dd5d54cbd
"
openstack%2Fkayobe~master~Ie27adca0029e41439720eaac49b24cf13fc8068d,openstack/kayobe,master,,Ie27adca0029e41439720eaac49b24cf13fc8068d,ironic: revert to ironic's default drivers & interfaces,NEW,2022-04-07 16:49:16.000000000,2022-06-14 08:53:12.000000000,,83,52,25,836999,f3ad86517e2232a0f27e6d6747902742648bac9b,21,2,7,5,14826,Mark Goddard,mgoddard,"ironic: revert to ironic's default drivers & interfaces

There's no good reason to provide our own defaults for Ironic driver and
interface configuration. It easily gets out of sync with changes in
Ironic. Let's remove our defaults, and let Ironic provide them.

Note that this changes several of the defaults, which are listed in the
release note. Users are still able to override them using the existing
variables in ironic.yml.

Change-Id: Ie27adca0029e41439720eaac49b24cf13fc8068d
"
openstack%2Fneutron~master~If0473031797984aab5b36c479fcb774e57ff5624,openstack/neutron,master,port_binding_retry_once_unittest,If0473031797984aab5b36c479fcb774e57ff5624,[UT] Reduce the port binding retries to 1 in ``TestPortsV2``,MERGED,2022-06-10 15:27:06.000000000,2022-06-14 08:32:21.000000000,2022-06-14 08:30:43.000000000,7,0,20,845360,5cc717565953a1a7dc7a316a766a479fde4c9318,24,4,4,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[UT] Reduce the port binding retries to 1 in ``TestPortsV2``

In ``TestPortsV2`` tests, set the
``neutron.plugins.ml2.plugin.MAX_BIND_TRIES`` to 1 to minimize the
number of retries during a failed port binding. That shortens all
test cases execution time if a port binding is executed.

Trivial-Fix

Change-Id: If0473031797984aab5b36c479fcb774e57ff5624
"
openstack%2Fneutron~stable%2Fwallaby~Ie195ad596fd148708fc30946bde964d52444afee,openstack/neutron,stable/wallaby,,Ie195ad596fd148708fc30946bde964d52444afee,Add retry for privsep get_link_devices,MERGED,2022-06-02 05:33:44.000000000,2022-06-14 08:32:19.000000000,2022-06-14 08:30:39.000000000,58,2,4,844366,7773f7c2c1d6cf6703a2afe97139c5dfd1fd959e,24,7,2,3,13861,yatin,yatinkarel,"Add retry for privsep get_link_devices

pyroute 0.6.6 introduced a new exception NetlinkDumpInterrupted which
is raised when NLM_F_DUMP_INTR is set in the flags during dump of
devices.
The suggestion from pyroute developers is to retry in case of this
exception (see [1]).

[1]: https://github.com/svinota/pyroute2/issues/874#issuecomment-1063139555

Closes-Bug: #1962608

Depends-On: https://review.opendev.org/c/openstack/requirements/+/845268
Change-Id: Ie195ad596fd148708fc30946bde964d52444afee
(cherry picked from commit 74a9e832d790f659eb10b22ba0428b60733d384e)
(cherry picked from commit 541d1fc9e62df9f15fe003735c63f98a0a0432c3)
(cherry picked from commit ea85053a87196c3d6477277b111eee66f57a4ea9)
Conflicts: neutron/privileged/agent/linux/ip_lib.py
 	requirements.txt
"
openstack%2Fpython-designateclient~stable%2Fyoga~Ibf3bab374ec3a5bec842051c29d18864d42c02b8,openstack/python-designateclient,stable/yoga,,Ibf3bab374ec3a5bec842051c29d18864d42c02b8,Update zuul queue configuration,MERGED,2022-05-26 14:45:09.000000000,2022-06-14 08:13:43.000000000,2022-06-14 08:11:23.000000000,1,2,2,843402,d8b72d58643e29bf7768e7f7f2b3268274a6274c,11,4,1,1,11628,Michael Johnson,johnsom,"Update zuul queue configuration

Zuul is changing how queues are declared[1]. This patch updates Designate client for the new way to define the queue.

[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: Ibf3bab374ec3a5bec842051c29d18864d42c02b8
(cherry picked from commit ef2098e6543019e0dc41344d704f56b6957e88b6)
"
openstack%2Foswin-tempest-plugin~master~I09f5c8abfbf33a628af4f2157164c588e725eac6,openstack/oswin-tempest-plugin,master,,I09f5c8abfbf33a628af4f2157164c588e725eac6,Update python testing as per zed cycle teting runtime,MERGED,2022-06-04 07:09:44.000000000,2022-06-14 08:04:30.000000000,2022-06-14 08:04:30.000000000,7,3,2,844678,87af7e035123b830e57e0caedb015932c5f7bf76,13,2,3,3,33436,YuehuiLei,leiyuehui,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

Change-Id: I09f5c8abfbf33a628af4f2157164c588e725eac6
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I34878cef9795ae392052887461ed495c0b9dcbdf,openstack/openstack-ansible-lxc_hosts,master,,I34878cef9795ae392052887461ed495c0b9dcbdf,Install LXC from EPEL for CentOS Stream 9,ABANDONED,2022-06-14 07:33:56.000000000,2022-06-14 07:35:27.000000000,,0,49,0,845693,6188bf293c9ca6e6b1b7dcbd185acf6b02538dab,2,0,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Install LXC from EPEL for CentOS Stream 9

LXC 4 has been published in EPEL so let's use it instead of COPR.

Change-Id: I34878cef9795ae392052887461ed495c0b9dcbdf
"
openstack%2Fansible-config_template~master~I23f0395d52e2c639dc987b37e0f251b8f3ea418b,openstack/ansible-config_template,master,,I23f0395d52e2c639dc987b37e0f251b8f3ea418b,Remove orphaned releasenotes,MERGED,2022-06-13 16:52:56.000000000,2022-06-14 07:29:18.000000000,2022-06-14 07:27:49.000000000,0,136,1,845609,ed68c9d67d72887bc0de90f90cf26e421bb6a514,10,3,1,11,6816,Jesse Pretorius,jesse-pretorius,"Remove orphaned releasenotes

These releasenotes appear to be originally from
https://opendev.org/openstack/openstack-ansible-plugins
and do not pertain to anything in the config_template
module.

Change-Id: I23f0395d52e2c639dc987b37e0f251b8f3ea418b
"
openstack%2Fkolla-ansible~master~Icd04f7948ad6920176a70499ca6855a2e0b10837,openstack/kolla-ansible,master,,Icd04f7948ad6920176a70499ca6855a2e0b10837,Add support for configuring Elasticsearch replication,NEW,2021-08-25 07:30:43.000000000,2022-06-14 07:10:56.000000000,,81,0,13,805954,2a4be1a785993b3dc0a111b7524ff3cdd51c54fc,24,7,5,5,32657,Piotr Parczewski,piotrp,"Add support for configuring Elasticsearch replication

Closes-Bug: #1939105
Change-Id: Icd04f7948ad6920176a70499ca6855a2e0b10837
"
openstack%2Fneutron~master~I0fccf36a2035e8f6c2fa8dab0307358da600c8f7,openstack/neutron,master,,I0fccf36a2035e8f6c2fa8dab0307358da600c8f7,Optimize queries for port operations,MERGED,2022-06-07 11:58:01.000000000,2022-06-14 06:51:56.000000000,2022-06-14 01:07:35.000000000,133,25,37,844959,c25097b0b0da2af9021699036a69cd10e66533b1,35,5,4,4,34451,Fernando Royo,froyo,"Optimize queries for port operations

Port create/update are most time-consuming operations
on subnet creation. As example, in those cases where
several subnets are created over the same network the
response time for those port operations is linearly
increased as the total subnets increases.

This patch improves the number of queries required on port
operations in order to reduce the response time.

Closes-Bug: #1977831
Change-Id: I0fccf36a2035e8f6c2fa8dab0307358da600c8f7
"
openstack%2Fpuppet-openstack-integration~master~I8faa2338189b1d413c2455f76d7623c309574d61,openstack/puppet-openstack-integration,master,hm-opts,I8faa2338189b1d413c2455f76d7623c309574d61,Use octavia::controller::heartbeat_key,MERGED,2022-06-02 13:03:19.000000000,2022-06-14 06:41:10.000000000,2022-06-14 06:41:10.000000000,1,1,2,844445,219326abac29f49dc210afd7a65c42882f69a41a,15,3,2,1,9816,Takashi Kajinami,kajinamit,"Use octavia::controller::heartbeat_key

... instead of deprecated octavia::health_manager::heartbeat_key.

Depends-on: https://review.opendev.org/844360
Change-Id: I8faa2338189b1d413c2455f76d7623c309574d61
"
openstack%2Fnetworking-hyperv~master~Iaea3606315699cf3a2460eee700cb0b1ac78bd3d,openstack/networking-hyperv,master,,Iaea3606315699cf3a2460eee700cb0b1ac78bd3d,Update python testing as per zed cycle teting runtime,MERGED,2022-06-04 08:09:42.000000000,2022-06-14 06:22:50.000000000,2022-06-14 06:22:50.000000000,1,3,1,844692,fec25c8763fcc7347440b368b5221007940cab00,6,2,1,1,33436,YuehuiLei,leiyuehui,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Iaea3606315699cf3a2460eee700cb0b1ac78bd3d
"
openstack%2Fdesignate-dashboard~master~I2812afb4ec02fdcadb0284db2c95651ce8e8dbf3,openstack/designate-dashboard,master,migrate-to-nodejs16,I2812afb4ec02fdcadb0284db2c95651ce8e8dbf3,Use Horizon project template for nodejs jobs,MERGED,2022-05-10 18:57:18.000000000,2022-06-14 06:10:03.000000000,2022-06-14 06:07:52.000000000,1,1,1,841321,b65678f3c68668c33363697116c90131db46d741,9,4,1,1,29313,Vishal Manchanda,vishalmanchanda,"Use Horizon project template for nodejs jobs

Horizon defined a project template 'horizon-nodejs-jobs'
for nodejs jobs. This patch updates ``.zuul.yaml`` to
use that template to run nodejs jobs here.

Depends-On: https://review.opendev.org/c/openstack/horizon/+/831929
Change-Id: I2812afb4ec02fdcadb0284db2c95651ce8e8dbf3
"
openstack%2Ftripleo-ansible~master~Ibca01f25fe0204dd8e70ee50abb408532841e1cc,openstack/tripleo-ansible,master,remove-puppet-sshd,Ibca01f25fe0204dd8e70ee50abb408532841e1cc,Remove SshdBase resource,MERGED,2022-04-22 07:55:56.000000000,2022-06-14 05:03:28.000000000,2022-06-14 05:03:28.000000000,0,20,4,839000,742e5a3215b1b2ed483a43fee36a0c72199be5e1,19,4,1,1,9816,Takashi Kajinami,kajinamit,"Remove SshdBase resource

... because it was removed from tht because of decoupling of migration
target from host sshd.

Depends-on: https://review.opendev.org/838978
Change-Id: Ibca01f25fe0204dd8e70ee50abb408532841e1cc
"
openstack%2Fnova~stable%2Fwallaby~Iae119ea8776bc7f2e5dbe2e502a743217beded73,openstack/nova,stable/wallaby,bug/1853159,Iae119ea8776bc7f2e5dbe2e502a743217beded73,Fix inactive session error in compute node creation,MERGED,2021-09-29 23:51:11.000000000,2022-06-14 04:36:36.000000000,2022-06-14 04:35:12.000000000,31,35,12,811809,665c053315439e1345aa131f4839945d662fb3f3,67,5,3,3,4690,melanie witt,melwitt,"Fix inactive session error in compute node creation

In the fix for bug 1839560 [1][2], soft-deleted compute nodes may be
restored, to ensure we can reuse ironic node UUIDs as compute node
UUIDs. While this seems to largely work, it results in some nasty errors
being generated [3]:

    InvalidRequestError This session is in 'inactive' state, due to the
    SQL transaction being rolled back; no further SQL can be emitted
    within this transaction.

This happens because compute_node_create is decorated with
pick_context_manager_writer, which begins a transaction. While
_compute_node_get_and_update_deleted claims that calling a second
pick_context_manager_writer decorated function will begin a new
subtransaction, this does not appear to be the case.

This change removes pick_context_manager_writer from the
compute_node_create function, and adds a new _compute_node_create
function which ensures the transaction is finished if
_compute_node_get_and_update_deleted is called.

The new unit test added here fails without this change.

This change marks the removal of the final FIXME from the functional
test added in [4].

[1] https://bugs.launchpad.net/nova/+bug/1839560
[2] https://git.openstack.org/cgit/openstack/nova/commit/?id=89dd74ac7f1028daadf86cb18948e27fe9d1d411
[3] http://paste.openstack.org/show/786350/
[4] https://review.opendev.org/#/c/695012/

Conflicts:
    nova/db/sqlalchemy/api.py

NOTE(melwitt): The conflict is because change
I9f414cf831316b624132d9e06192f1ecbbd3dd78 (db: Copy docs from
'nova.db.*' to 'nova.db.sqlalchemy.*') is not in Wallaby.

NOTE(melwitt): Difference from the cherry picked change from calling
nova.db.api => nova.db.sqlalchemy.api directly are due to the alembic
migration in Xena which looks to have made the nova.db.api interface
obsolete.

Change-Id: Iae119ea8776bc7f2e5dbe2e502a743217beded73
Closes-Bug: #1853159
Related-Bug: #1853009
(cherry picked from commit 2383cbb4a518821d245fce316b3778c8ba8e5246)
"
openstack%2Fnova~stable%2Fyoga~If9ab424cc7375a1f0d41b03f01c4a823216b3eb8,openstack/nova,stable/yoga,bug/1969496,If9ab424cc7375a1f0d41b03f01c4a823216b3eb8,Remove unavailable but not reported PCI devices at startup,MERGED,2022-05-06 08:36:20.000000000,2022-06-14 04:24:22.000000000,2022-06-14 04:22:41.000000000,123,7,1,840831,d7bca631fea348fb56cc46c5680643bacd82513e,12,3,1,4,9708,Balazs Gibizer,gibi,"Remove unavailable but not reported PCI devices at startup

We saw in the field that the pci_devices table can end up in
inconsistent state after a compute node HW failure and re-deployment.
There could be dependent devices where the parent PF is in available
state while the children VFs are in unavailable state. (Before the HW
fault the PF was allocated hence the VFs was marked unavailable).

In this state this PF is still schedulable but during the
PCI claim the handling of dependent devices in the PCI tracker fill fail
with the error: ""Attempt to consume PCI device XXX from empty pool"".

The reason of the failure is that when the PF is claimed, all the
children VFs are marked unavailable. But if the VF is already
unavailable such step fails.

One way the deployer might try to recover from this state is to remove
the VFs from the hypervisor and restart the compute agent. The compute
startup already has a logic to delete PCI devices that are unused and
not reported by the hypervisor. However this logic only removed devices
in 'available' state and ignored devices in 'unavailable' state.

If a device is unused and the hypervisor is not reporting the device any
more then it is safe to delete that device from the PCI tracker. So this
patch extends the logic to allow deleting 'unavailable' devices. There
is a small window when dependent PCI device is in 'unclaimable' state.
From cleanup perspective this is an analogous state. So it is also
added to the cleanup logic.

Related-Bug: #1969496
Change-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8
(cherry picked from commit 284ea72e96604bdf16d1c5c4db47247334841b2f)
"
openstack%2Fnova~stable%2Fyoga~I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318,openstack/nova,stable/yoga,bug/1969496,I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318,Isolate PCI tracker unit tests,MERGED,2022-05-06 08:36:20.000000000,2022-06-14 04:10:22.000000000,2022-06-14 04:07:54.000000000,30,33,2,840830,f04cfd42359d555e746df0e2c48d989d0c3244f1,11,3,1,1,9708,Balazs Gibizer,gibi,"Isolate PCI tracker unit tests

During the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed
that the unit test cases of PciTracker._set_hvdev are changing and
leaking global state leading to unstable tests.

To reproduce on master, duplicate the
test_set_hvdev_remove_tree_maintained_with_allocations test case and run
PciDevTrackerTestCase serially. The duplicated test case will fail with

  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object
  setattr(pci_device, key, db_dev[key])
  KeyError: 'id'

This is caused by the fact that the test data is defined on module
level, both _create_tracker and _set_hvdevs modifies the devices
passed to them, and some test mixes passing db dicts to _set_hvdevs
that expects pci dicts from the hypervisor.

This patch fixes multiple related issues:
* always deepcopy what _create_tracker takes as that list is later
  returned to the PciTracker via a mock and the tracker might modify
  what it got

* ensure that _create_tracker takes db dicts (with id field) while
  _set_hvdevs takes pci dicts in the hypervisor format (without id
  field)

* always deepcopy what is passed to _set_hvdevs as the PciTracker modify
  what it gets.

* normalize when the deepcopy happens to give a safe patter for future
  test cases

Change-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318
(cherry picked from commit c58376db75917444831934963fa75b4b57f08818)
"
openstack%2Fnova~stable%2Fyoga~Ic0f25e4d2395560fc2b68f3b469e266ac59abaa2,openstack/nova,stable/yoga,bug/1970383-stable/yoga,Ic0f25e4d2395560fc2b68f3b469e266ac59abaa2,Fix segment-aware scheduling permissions error,MERGED,2022-05-06 06:53:49.000000000,2022-06-14 04:09:10.000000000,2022-06-14 04:07:47.000000000,25,4,2,840732,60548e804219d91d8c68ab3d74dd0ae956cd33f3,12,3,1,3,31542,Andrew Bonney,andrewbonney,"Fix segment-aware scheduling permissions error

Resolves a bug encountered when setting the Nova scheduler to
be aware of Neutron routed provider network segments, by using
'query_placement_for_routed_network_aggregates'.

Non-admin users attempting to access the 'segment_id' attribute
of a subnet caused a traceback, resulting in instance creation
failure.

This patch ensures the Neutron client is initialised with an
administrative context no matter what the requesting user's
permissions are.

Change-Id: Ic0f25e4d2395560fc2b68f3b469e266ac59abaa2
Closes-Bug: #1970383
(cherry picked from commit ee32934f34afd8e6df467361e9d71788cd36f6ee)
"
openstack%2Fpuppet-vswitch~stable%2Fyoga~I7a3917142854c77d24524654a093be1620101032,openstack/puppet-vswitch,stable/yoga,,I7a3917142854c77d24524654a093be1620101032,Remove redundant implementation / warning,MERGED,2022-06-13 23:46:27.000000000,2022-06-14 03:56:46.000000000,2022-06-14 03:56:46.000000000,0,7,1,845407,cf28ff2960cb0008d7f3cceda5af26f4f60a54d2,6,2,1,1,9816,Takashi Kajinami,kajinamit,"Remove redundant implementation / warning

This change removes the redundant implementation introduced by
fb9a08d9726b79d2dcca34dab00150a1b62ef529, which causes duplicate
warning messages.

Change-Id: I7a3917142854c77d24524654a093be1620101032
(cherry picked from commit dd7c84fab21ee841a3b24aac788a44758e5132c9)
"
openstack%2Fheat~master~I6a8cffdc86c895eebe4269c5cd37841325566c54,openstack/heat,master,venv-tempest,I6a8cffdc86c895eebe4269c5cd37841325566c54,Use constraints when creating tempest venv,MERGED,2021-08-09 09:19:55.000000000,2022-06-14 03:39:38.000000000,2022-06-14 03:38:05.000000000,24,2,3,803890,22c48f57bb29ed62a8c3249ab953043cfd2617d3,37,4,9,2,8833,Rabi Mishra,rabi,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
"
openstack%2Fnova~stable%2Fxena~I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527,openstack/nova,stable/xena,fix_bdm_create_with_timeout-stable/xena,I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527,Gracefull recovery when attaching volume fails,MERGED,2022-02-16 08:57:08.000000000,2022-06-14 03:29:13.000000000,2022-06-14 03:26:34.000000000,56,4,3,829433,a46fc40aa4edde4d426c95999bdac1c315d0276d,14,3,1,3,29074,Felix Huettner,felix.huettner,"Gracefull recovery when attaching volume fails

When trying to attach a volume to an already running instance the nova-api
requests the nova-compute service to create a BlockDeviceMapping. If the
nova-api does not receive a response within `rpc_response_timeout` it will
treat the request as failed and raise an exception.

There are multiple cases where nova-compute actually already processed the
request and just the reply did not reach the nova-api in time (see bug report).
After the failed request the database will contain a BlockDeviceMapping entry
for the volume + instance combination that will never be cleaned up again.
This entry also causes the nova-api to reject all future attachments of this
volume to this instance (as it assumes it is already attached).

To work around this we check if a BlockDeviceMapping has already been created
when we see a messaging timeout. If this is the case we can safely delete it
as the compute node has already finished processing and we will no longer pick
it up.
This allows users to try the request again.

A previous fix was abandoned but without a clear reason ([1]).

[1]: https://review.opendev.org/c/openstack/nova/+/731804

Closes-Bug: 1960401
Change-Id: I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527
(cherry picked from commit 9eb116b99ce32bc69c4abf8ec3b0179ef89a8860)
"
openstack%2Fnova~stable%2Fxena~Ic46345ceeb445164aea6ae9b35c457c6150765f6,openstack/nova,stable/xena,bug/1915400,Ic46345ceeb445164aea6ae9b35c457c6150765f6,Fix eventlet.tpool import,MERGED,2022-05-06 06:54:32.000000000,2022-06-14 03:27:58.000000000,2022-06-14 03:26:27.000000000,2,1,1,840733,b57fce8d14b94059c65526450468d48dab736983,15,4,1,1,31542,Andrew Bonney,andrewbonney,"Fix eventlet.tpool import

Currently nova.utils.tpool_execute() only works by chance. And as the
bug report shows there are env where it fails.

The nova.utils.tpool_execute() call tries to uses eventlet.tpool.execute
but the tpool module is not imported by the utils module only eventlet.
In devstack it works by chance as the wsgi init actually imports
eventlet.tpool indirectly via:

Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/opt/stack/nova/nova/api/openstack/compute/__init__.py"", line 21, in <module>
    from nova.api.openstack.compute.routes import APIRouterV21 # noqa
  File ""/opt/stack/nova/nova/api/openstack/compute/routes.py"", line 20, in <module>
    from nova.api.openstack.compute import admin_actions
  File ""/opt/stack/nova/nova/api/openstack/compute/admin_actions.py"", line 17, in <module>
    from nova.api.openstack import common
  File ""/opt/stack/nova/nova/api/openstack/common.py"", line 27, in <module>
    from nova.compute import task_states
  File ""/opt/stack/nova/nova/compute/task_states.py"", line 26, in <module>
    from nova.objects import fields
  File ""/opt/stack/nova/nova/objects/fields.py"", line 24, in <module>
    from nova.network import model as network_model
  File ""/opt/stack/nova/nova/network/model.py"", line 23, in <module>
    from nova import utils
  File ""/opt/stack/nova/nova/utils.py"", line 39, in <module>
    from oslo_concurrency import processutils
  File ""/usr/local/lib/python3.8/dist-packages/oslo_concurrency/processutils.py"", line 57, in <module>
    from eventlet import tpool

This was broken since I8dbc579e0037969aab4f2bb500fccfbde4190726. This
patch adds the correct import statement.

Change-Id: Ic46345ceeb445164aea6ae9b35c457c6150765f6
Closes-Bug: #1915400
(cherry picked from commit b2d28f890872747d099a262e4a208e146b882f3f)
(cherry picked from commit a9f444a997cd0a26aae3dac821299adf0e944121)
"
openstack%2Fpuppet-ceilometer~master~Iaabe5b02f0ebd782debd0f3ca41e2fdafbf9c80f,openstack/puppet-ceilometer,master,,Iaabe5b02f0ebd782debd0f3ca41e2fdafbf9c80f,Refactor service user/group management,MERGED,2022-05-14 16:04:42.000000000,2022-06-14 02:28:59.000000000,2022-06-14 02:26:50.000000000,48,46,9,841814,eafc9088718239b6b9b4a8a579c4588dfb7d10af,33,4,8,5,9816,Takashi Kajinami,kajinamit,"Refactor service user/group management

This change refactors how the ceilometer service user and group are
managed.

- The ceilometer service user and group are created by the common
  package. While the user resource should still be declared to manage
  its group membership, we don't need the group resource.

- Introduces the configuration knob to disable user/group management.
  This would be useful in the case where all service users are
  declared externally.

Change-Id: Iaabe5b02f0ebd782debd0f3ca41e2fdafbf9c80f
"
openstack%2Fpuppet-vswitch~master~I7a3917142854c77d24524654a093be1620101032,openstack/puppet-vswitch,master,,I7a3917142854c77d24524654a093be1620101032,Remove redundant implementation / warning,MERGED,2022-06-06 12:25:50.000000000,2022-06-14 02:25:06.000000000,2022-06-14 02:25:06.000000000,0,7,1,844836,dd7c84fab21ee841a3b24aac788a44758e5132c9,11,3,1,1,9816,Takashi Kajinami,kajinamit,"Remove redundant implementation / warning

This change removes the redundant implementation introduced by
fb9a08d9726b79d2dcca34dab00150a1b62ef529, which causes duplicate
warning messages.

Change-Id: I7a3917142854c77d24524654a093be1620101032
"
openstack%2Fneutron~stable%2Fwallaby~I364fc7981458374ed25eb8837d1ed3afff046b95,openstack/neutron,stable/wallaby,bug1967742-stable/wallaby,I364fc7981458374ed25eb8837d1ed3afff046b95,Notify mech drivers with original and modified network.,MERGED,2022-06-01 18:50:34.000000000,2022-06-14 01:38:56.000000000,2022-06-14 01:37:35.000000000,152,9,8,844205,ff0fb30c7c12f2edab8ab05ac285079ea4bd5534,43,4,2,3,34271,Miro Tomaska,mtomaska,"Notify mech drivers with original and modified network.

Include original and modified network when notifying mechanism drivers in PRECOMMIT event. PRECOMMIT_CREATE modified network includes new segment, while original does not. Exact opposite for PRECOMMIT_DELETE

Closes-Bug: #1967742
Change-Id: I364fc7981458374ed25eb8837d1ed3afff046b95
(cherry picked from commit d1fe14d366e501869addff17e851ac03a599adca)
"
openstack%2Fdesignate~master~I6dda01fe002cc0170102624baa67925b04a04114,openstack/designate,master,remove_metrics,I6dda01fe002cc0170102624baa67925b04a04114,Removed unused metrics backend,ABANDONED,2022-05-13 04:25:41.000000000,2022-06-13 23:50:49.000000000,,6,348,4,841677,d7579909dbc01cbf7f5b2e291a312649399b67a0,27,2,13,13,22623,Erik Olof Gunnar Andersson,eoandersson,"Removed unused metrics backend

All calls using the metrics backend has been removed and the
monascastatsd no longer serves a purpose.

Change-Id: I6dda01fe002cc0170102624baa67925b04a04114
"
openstack%2Fdesignate~master~I4fab6722d98dd3e188602c2808aefa7691810748,openstack/designate,master,,I4fab6722d98dd3e188602c2808aefa7691810748,Move Zone XFR from mdns to worker,ABANDONED,2022-05-08 22:46:08.000000000,2022-06-13 23:50:46.000000000,,230,182,1,841046,99f55f04654c1f8ba7859af304962a86ecc5e8cf,33,1,18,21,22623,Erik Olof Gunnar Andersson,eoandersson,"Move Zone XFR from mdns to worker

This patch moves the perform_zone_xfr call from mdns
to the worker. This helps simplify the design of mdns,
with the eventual goal that mdns won't need to handle
any rpc calls.

Change-Id: I4fab6722d98dd3e188602c2808aefa7691810748
"
openstack%2Fpuppet-openstack-integration~master~Ieb2dee327fa818098bb9d5d5f6ee514c58d13993,openstack/puppet-openstack-integration,master,,Ieb2dee327fa818098bb9d5d5f6ee514c58d13993,DNM: Re-enable c8s litmus job,ABANDONED,2022-06-01 01:26:47.000000000,2022-06-13 23:30:38.000000000,,19,4,0,844173,8e7d2251264c42785fa383f43b45e461a7bab14b,3,1,1,2,9816,Takashi Kajinami,kajinamit,"DNM: Re-enable c8s litmus job

Change-Id: Ieb2dee327fa818098bb9d5d5f6ee514c58d13993
"
openstack%2Fdesignate~master~Ie89f5eff1cfb30b0e4da32c82f69c97ee7513c9c,openstack/designate,master,rpc,Ie89f5eff1cfb30b0e4da32c82f69c97ee7513c9c,Removed RPC calls from MDNS and moved them to the Worker,ABANDONED,2022-06-12 22:16:36.000000000,2022-06-13 23:20:18.000000000,,309,588,0,845507,87df04e6b87d83033ec0d4d2842fcd917932a2f6,4,1,1,19,22623,Erik Olof Gunnar Andersson,eoandersson,"Removed RPC calls from MDNS and moved them to the Worker

This patch moved the last remaning RPC call away from the
MDNS service. This means that the MDNS service now only
handles incoming DNS queries.

Change-Id: Ie89f5eff1cfb30b0e4da32c82f69c97ee7513c9c
"
openstack%2Foctavia-lib~master~I5a2bb7f18ed8300e044512107e98563e3ef36f7b,openstack/octavia-lib,master,update-min-tox,I5a2bb7f18ed8300e044512107e98563e3ef36f7b,Bump tox minversion to 3.18.0,ABANDONED,2022-05-22 13:31:14.000000000,2022-06-13 22:24:00.000000000,,5,5,1,842875,74f64ec9e80dfccd8f26955ff8983800035f2e40,6,3,1,1,9816,Takashi Kajinami,kajinamit,"Bump tox minversion to 3.18.0

Since tox 3.18.0, the whitelist_externals option has been deprecated in
favor of the new allow_list_externals option[1].

This change bumps the minversion of tox so that we can replace
the deprecated option.

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I5a2bb7f18ed8300e044512107e98563e3ef36f7b
"
openstack%2Fpuppet-neutron~master~I101db1ffbe7c183cd34d8a0162c305e503e55d43,openstack/puppet-neutron,master,macvtap,I101db1ffbe7c183cd34d8a0162c305e503e55d43,Add macvtap mechanism driver support,MERGED,2022-06-10 00:19:27.000000000,2022-06-13 22:00:59.000000000,2022-06-13 21:59:52.000000000,319,1,0,845308,fecb262ede1de69323a7f4b730a0961af28aa801,14,3,6,12,9816,Takashi Kajinami,kajinamit,"Add macvtap mechanism driver support

This change adds support for macvtap mechanism driver, which is part
of the ml2 plugin.

Change-Id: I101db1ffbe7c183cd34d8a0162c305e503e55d43
"
openstack%2Fnova~stable%2Ftrain~Ia593b500425c81e54eb401e38264db5cc5fc1f93,openstack/nova,stable/train,bug/1905944,Ia593b500425c81e54eb401e38264db5cc5fc1f93,libvirt: Abort live-migration job when monitoring fails,NEW,2022-04-11 19:24:39.000000000,2022-06-13 21:45:03.000000000,,33,6,3,837323,00c103adaf4ef3887af3d38c2e6f0fe0614dd905,12,1,1,2,7130,David Hill,dhill,"libvirt: Abort live-migration job when monitoring fails

During live migration process, a _live_migration_monitor thread
checks progress of migration on source host, if for any reason
we hit infrastructure issue involving a DB/RPC/libvirt-timeout
failure, an Exception is raised to the nova-compute service and
instance/migration is set to ERROR state.

The issue is that we may let live-migration job running out of nova
control. At the end of job, guest is resumed on target host while
nova still reports it on source host, this may lead to a split-brain
situation if instance is restarted.

This change proposes to abort live-migration job if issue occurs
during _live_migration_monitor.

Change-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93
Closes-Bug: #1905944
(cherry picked from commit 39f0af5d18d6bea34fa15b8f7778115b25432749)
"
openstack%2Fpuppet-neutron~master~Iec8c78831c8dcffcaa454f9a008b398763f965f0,openstack/puppet-neutron,master,bug/1978271,Iec8c78831c8dcffcaa454f9a008b398763f965f0,Fix packages for the openvswitch mech driver,MERGED,2022-06-10 06:27:30.000000000,2022-06-13 21:37:23.000000000,2022-06-13 21:37:23.000000000,12,24,0,845320,5a00d5e61a0a57332455c322c13c0fcceef62c52,7,3,1,3,9816,Takashi Kajinami,kajinamit,"Fix packages for the openvswitch mech driver

Server-side implementation of the openvswitch mechanism driver is
included by the ml2 plugin (common) package, and we only need
the agent package now.

Closes-Bug: #1978271
Change-Id: Iec8c78831c8dcffcaa454f9a008b398763f965f0
"
openstack%2Fpuppet-neutron~master~I011016900ce218a7de5859bb86af4d0e3fa42304,openstack/puppet-neutron,master,bug/1978270,I011016900ce218a7de5859bb86af4d0e3fa42304,Fix packages for the linuxbridge mech driver,MERGED,2022-06-10 01:24:49.000000000,2022-06-13 21:37:21.000000000,2022-06-13 21:37:21.000000000,8,28,0,845311,c7f442192304edb0f896dac536e468224a7a9dfe,11,3,4,3,9816,Takashi Kajinami,kajinamit,"Fix packages for the linuxbridge mech driver

Server-side implementation of the linuxbridge mechanism driver is
included by the ml2 plugin (common) package, and we only need
the agent package now.

Closes-Bug: #1978270
Change-Id: I011016900ce218a7de5859bb86af4d0e3fa42304
"
openstack%2Fnova~stable%2Fussuri~Ia593b500425c81e54eb401e38264db5cc5fc1f93,openstack/nova,stable/ussuri,bug/1905944,Ia593b500425c81e54eb401e38264db5cc5fc1f93,libvirt: Abort live-migration job when monitoring fails,NEW,2022-04-11 19:24:26.000000000,2022-06-13 21:33:04.000000000,,33,6,1,837322,73fcface7bb1b8f9ed53b5302c01408ac2c4b1b4,8,1,1,2,7130,David Hill,dhill,"libvirt: Abort live-migration job when monitoring fails

During live migration process, a _live_migration_monitor thread
checks progress of migration on source host, if for any reason
we hit infrastructure issue involving a DB/RPC/libvirt-timeout
failure, an Exception is raised to the nova-compute service and
instance/migration is set to ERROR state.

The issue is that we may let live-migration job running out of nova
control. At the end of job, guest is resumed on target host while
nova still reports it on source host, this may lead to a split-brain
situation if instance is restarted.

This change proposes to abort live-migration job if issue occurs
during _live_migration_monitor.

Change-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93
Closes-Bug: #1905944
(cherry picked from commit 39f0af5d18d6bea34fa15b8f7778115b25432749)
"
openstack%2Fpuppet-aodh~master~If41e9e21771ea236ec18379790fe5427dcb6e8af,openstack/puppet-aodh,master,,If41e9e21771ea236ec18379790fe5427dcb6e8af,Update section of the evaluation_interval parameter,MERGED,2022-06-13 08:09:29.000000000,2022-06-13 21:00:53.000000000,2022-06-13 21:00:53.000000000,9,4,0,845564,c58c36d92741bd41fda663d5765d9136399a77b5,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Update section of the evaluation_interval parameter

The evaluation_interval parameter in the [DEFAULT] section has been
deprecated and it was migrated to the [evaluator] section.

This change updates the parameter section accordingly.

Depends-on: https://review.opendev.org/837864
Change-Id: If41e9e21771ea236ec18379790fe5427dcb6e8af
"
openstack%2Fswift~master~I73598904fdd566c3b1d9e80e6d817a63a4ee1d82,openstack/swift,master,test-enodata,I73598904fdd566c3b1d9e80e6d817a63a4ee1d82,"Feedback-I, add mock_utils_listdir_on_corrupt_data",ABANDONED,2022-06-13 19:57:45.000000000,2022-06-13 20:55:19.000000000,,34,14,1,845630,c7f0d6c70184b0c006359f8e0bb01c246b9aec1d,4,2,1,2,34892,ASHWIN A NAIR,indianwhocodes,"Feedback-I, add mock_utils_listdir_on_corrupt_data

Change-Id: I73598904fdd566c3b1d9e80e6d817a63a4ee1d82
"
openstack%2Fpuppet-tempest~master~I919054cf9b8fd3064d8dfdc727f88ba16aa2fd6b,openstack/puppet-tempest,master,image_disk_format,I919054cf9b8fd3064d8dfdc727f88ba16aa2fd6b,Add support for [scenario] img_disk_format,MERGED,2022-06-06 09:16:31.000000000,2022-06-13 20:49:59.000000000,2022-06-13 20:48:53.000000000,9,0,0,844813,a9398a54892d97f23f0181555f2b4b9214f71ae8,12,3,3,3,9816,Takashi Kajinami,kajinamit,"Add support for [scenario] img_disk_format

... so that users can use image formats different from the default one
(qcow2).

Change-Id: I919054cf9b8fd3064d8dfdc727f88ba16aa2fd6b
"
openstack%2Fpuppet-tempest~master~I22a9ae25a41e2902abd16f70691e085ae68039e8,openstack/puppet-tempest,master,,I22a9ae25a41e2902abd16f70691e085ae68039e8,Accept array for [network-feature-enabled] api_extensions,MERGED,2022-06-03 05:37:41.000000000,2022-06-13 20:48:57.000000000,2022-06-13 20:48:57.000000000,4,4,0,844542,4a850f005b03036db9636008e6e4991f41bd54ff,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Accept array for [network-feature-enabled] api_extensions

Change-Id: I22a9ae25a41e2902abd16f70691e085ae68039e8
"
openstack%2Fpuppet-tempest~master~I30904c39faba1555891ec453b4a91b91f87c5828,openstack/puppet-tempest,master,,I30904c39faba1555891ec453b4a91b91f87c5828,Remove clean up for [compute] image_alt_ssh_user,MERGED,2022-06-03 05:56:39.000000000,2022-06-13 20:48:55.000000000,2022-06-13 20:48:55.000000000,0,2,0,844545,fb4287e36cd136946f32bd4731cabc5417b49475,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Remove clean up for [compute] image_alt_ssh_user

This change removes a clean up logic introduced by [1]. The old setting
should be removed when a deployment is upgraded to Yoga.

[1] efeb0243cd24b1af8876ec943d37e8cb5c988491

Related-Bug: #1958717
Change-Id: I30904c39faba1555891ec453b4a91b91f87c5828
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ic97f1faa333330f82411db002c159fd5e26d1902,openstack/tripleo-heat-templates,stable/train,fix_leap_bug,Ic97f1faa333330f82411db002c159fd5e26d1902,Fix upgrade_leapp_command_options in stable/train,MERGED,2022-06-07 13:00:52.000000000,2022-06-13 20:48:35.000000000,2022-06-13 20:48:35.000000000,0,1,0,844967,244d8fa4929d46a42e3bb37ac24fa41f92f6e8e7,7,6,1,1,7130,David Hill,dhill,"Fix upgrade_leapp_command_options in stable/train

Fix upgrade_leapp_command_options in stable/train as it looks like
an extra upgrade_leapp_command_options line is present which
overrides the role overrides.   This issue is only present in train
hence this commit in train.

Change-Id: Ic97f1faa333330f82411db002c159fd5e26d1902
"
openstack%2Fcharm-neutron-openvswitch~stable%2F21.10~I44fbf5991d2606161b1bcbc064d4bc68a2fbbb5b,openstack/charm-neutron-openvswitch,stable/21.10,bug/1938277,I44fbf5991d2606161b1bcbc064d4bc68a2fbbb5b,Fix QoS selection for SRIOV environments,ABANDONED,2021-10-29 20:03:12.000000000,2022-06-13 20:47:03.000000000,,7,1,2,815993,fe378cddb030fde8cb38f4af2d4755dc7f5eb98e,12,2,2,2,10058,Erlon R. Cruz,sombrafam,"Fix QoS selection for SRIOV environments

When QoS is set in the neutron-api charm, the neutron-openvswitch
charm needs to add 'extensions = qos' to the sriov_agent.ini
file.

Closes-bug: #1938277
Change-Id: I44fbf5991d2606161b1bcbc064d4bc68a2fbbb5b
(cherry picked from commit 2a6cba8e6f6c609676a713e496ffd6f44264525d)
(cherry picked from commit 561a44e9489913bd191b2854a496b25913fd045a)
"
openstack%2Fcharm-nova-compute~stable%2F21.10~I66984a12b89cb0ac2aeebeb393a6f6c026d865da,openstack/charm-nova-compute,stable/21.10,bug/1950894,I66984a12b89cb0ac2aeebeb393a6f6c026d865da,Fixes Nova live-migration post-copy,ABANDONED,2022-05-10 20:34:16.000000000,2022-06-13 20:44:40.000000000,,8,3,1,841338,6b0c9faaa766c4e606f858a11faa4136a9282ed3,7,2,1,3,10058,Erlon R. Cruz,sombrafam,"Fixes Nova live-migration post-copy

Live migration post-copy was not working because to be effective,
'live_migration_timeout_action' must be set to 'force_complete'.

Closes-bug: #1950894
Change-Id: I66984a12b89cb0ac2aeebeb393a6f6c026d865da
(cherry picked from commit d04cbcea20915c7db6011c7e53cdc53613ee9744)
"
openstack%2Fpuppet-openstack_extras~stable%2Fyoga~If888cf4f37a625f54ba89ae40a4f30e76c11987e,openstack/puppet-openstack_extras,stable/yoga,bug/1969484,If888cf4f37a625f54ba89ae40a4f30e76c11987e,cs9: Do not enable advanced virtualization repository,MERGED,2022-06-10 16:01:18.000000000,2022-06-13 20:43:39.000000000,2022-06-13 20:42:28.000000000,201,54,0,845209,c8bb3edc174b1708be0c4df167fbf380418fce65,10,3,1,4,9816,Takashi Kajinami,kajinamit,"cs9: Do not enable advanced virtualization repository

The advanced virtualization repository is not available for CentOS
Stream 9. This change disables the repository by default accordingly.

Closes-Bug: #1969484
Change-Id: If888cf4f37a625f54ba89ae40a4f30e76c11987e
(cherry picked from commit 7c456d4b698817e185a11e8cee5cc30aa333cc89)
"
openstack%2Fpuppet-openstack_extras~stable%2Fyoga~I77f2b1e229dc9b6cd84bc0dddcfbf9582b7312dc,openstack/puppet-openstack_extras,stable/yoga,rdo-yoga,I77f2b1e229dc9b6cd84bc0dddcfbf9582b7312dc,CentOS: Switch to yoga release,MERGED,2022-06-10 16:02:58.000000000,2022-06-13 20:42:30.000000000,2022-06-13 20:42:30.000000000,7,7,0,845365,13de7f3da27ca5de098016abab34eca37eed391d,12,3,3,2,9816,Takashi Kajinami,kajinamit,"CentOS: Switch to yoga release

Change-Id: I77f2b1e229dc9b6cd84bc0dddcfbf9582b7312dc
(cherry picked from commit 351cd2427675269e1a5f0a6519d115a40d7abbc3)
"
openstack%2Fpuppet-vswitch~master~Ib88dbcfc78e703a4249b942938c0f985f826b5b4,openstack/puppet-vswitch,master,dpdk-tso,Ib88dbcfc78e703a4249b942938c0f985f826b5b4,dpdk: TSO support,MERGED,2022-06-06 08:06:40.000000000,2022-06-13 20:40:51.000000000,2022-06-13 20:39:32.000000000,28,0,0,844784,bde509f8ad2cb69155bbc01a5d81bc4526054e14,8,3,1,3,9816,Takashi Kajinami,kajinamit,"dpdk: TSO support

This change allows users to enable TSO support[1] in ovs-dpdk datapath.

[1] https://docs.openvswitch.org/en/latest/topics/userspace-tso/

Change-Id: Ib88dbcfc78e703a4249b942938c0f985f826b5b4
"
openstack%2Fpuppet-sahara~master~I297dadec50b1b65d3c95e8fc6c17ad25b663c12d,openstack/puppet-sahara,master,,I297dadec50b1b65d3c95e8fc6c17ad25b663c12d,Support options for Designate integration,MERGED,2022-06-05 13:58:59.000000000,2022-06-13 20:35:08.000000000,2022-06-13 20:33:53.000000000,21,0,0,844741,9e7929fddc7c29f040cf7a3738f177479a2b6d98,11,3,2,3,9816,Takashi Kajinami,kajinamit,"Support options for Designate integration

This change introduces support for the following two options which are
used to configure Designate integration.

 - [DEFAULT] use_designate
 - [DEFAULT] nameservers

Change-Id: I297dadec50b1b65d3c95e8fc6c17ad25b663c12d
"
openstack%2Fpuppet-sahara~master~Ie778c334afd4919f79db6defcea172e8d1ae33fa,openstack/puppet-sahara,master,,Ie778c334afd4919f79db6defcea172e8d1ae33fa,Support [DEFAULT] node_domain,MERGED,2022-06-05 13:53:51.000000000,2022-06-13 20:32:13.000000000,2022-06-13 20:30:26.000000000,11,0,0,844740,b25c0d1ce8210ba2973166b9f645c3189713fee8,10,3,2,3,9816,Takashi Kajinami,kajinamit,"Support [DEFAULT] node_domain

Change-Id: Ie778c334afd4919f79db6defcea172e8d1ae33fa
"
openstack%2Fpuppet-openstack-integration~master~Icd218fee1c47d33a0ef61971ed2a6804b813a05b,openstack/puppet-openstack-integration,master,disable-l2gw,Icd218fee1c47d33a0ef61971ed2a6804b813a05b,Disable networking-l2gw in scenario004,MERGED,2022-06-08 13:46:20.000000000,2022-06-13 20:31:26.000000000,2022-06-13 20:31:26.000000000,1,1,2,845138,06ed08b59a63fd8022af6ef9f0ca3bc789415643,12,3,2,1,16312,Alfredo Moralejo,amoralej,"Disable networking-l2gw in scenario004

Currently, networking-l2gw is broken in master and seems to be mostnly
unmaintained.

Until the situation is clear and the project fixed, this patch is
disabling l2gw from scenario004.

Related-Bug: #1977980
Change-Id: Icd218fee1c47d33a0ef61971ed2a6804b813a05b
"
openstack%2Ftripleo-heat-templates~master~Ia66fb6933b8e7b8289e80fab5508c7ed7f828f01,openstack/tripleo-heat-templates,master,subscription-manager/non-container,Ia66fb6933b8e7b8289e80fab5508c7ed7f828f01,Workaround for subscription-manager,MERGED,2022-06-10 13:19:20.000000000,2022-06-13 20:30:01.000000000,2022-06-13 20:30:01.000000000,9,0,16,845353,215d918651eef3eaef0e612fca2d35742a78e4fa,26,7,2,1,28223,Cedric Jeanneret,cjeanner,"Workaround for subscription-manager

Since we're bind-mounting /run within containers, we have an unwanted
/run/.containerenv file exposed on the host.

subscription-manager checks for that file[1] in order to know whether
it's running within a container or not.

With dnf ""subscription-manager"" plugin, we are facing a major issue,
where the repository list is updated.

While it's not that a big issue if using Red Hat CDN, it is actually
really bad when we're using a Satellite instance: all the repo list
are updated to point to some non-existing path on the CDN, leading
to a broken deploy, usually at step_4, when the deployment wants to
install net-snmp (it's already present, but dnf will fail while
trying to update its repository and failing to get the repomd.xml).

This patch takes advantage of a block in the rhsm.py nested in
subscription-manager[2] in order to ensure it will be using the correct
rhsm.conf, and stop defaulting on the CDN.

It shouldn't make any difference with a non-Satellite deployment.

As a final note, this repository override is a new feature in
subscription-manager, shipped on el9. We'll therefore need to backport
this patch down to Wallaby, in order to get it in osp-17 cycle.

[1] https://github.com/candlepin/subscription-manager/blob/385d64843affed7b58c2fb461612cf05f1dac4e5/src/rhsm/config.py#L102-L127
[2] https://github.com/candlepin/subscription-manager/blob/385d64843affed7b58c2fb461612cf05f1dac4e5/src/rhsm/config.py#L384-L387

Change-Id: Ia66fb6933b8e7b8289e80fab5508c7ed7f828f01
Resolves: rhbz#2075080
Related: rhbz#2058540
"
openstack%2Ftripleo-heat-templates~master~I4905c393554941d32f8caada925f0be3f4aefdce,openstack/tripleo-heat-templates,master,rm_depreated_ceph_parameters,I4905c393554941d32f8caada925f0be3f4aefdce,Remove deprecated ceph-base parameters,MERGED,2022-06-03 16:33:30.000000000,2022-06-13 20:29:10.000000000,2022-06-13 20:29:10.000000000,1,95,3,844617,5a3f0f336202d726382eb6b52560a131772348e2,20,5,2,4,18002,John Fulton,fultonj,"Remove deprecated ceph-base parameters

Remove paramters which were deprecated in Wallaby.
Most of these are relics of ceph-ansible which has
been replaced by cephadm.

List of removed parameters:
 LocalCephAnsibleFetchDirectoryBackup
 SwiftFetchDirGetTempurl
 SwiftFetchDirPutTempurl
 CephIPv6
 CephAnsibleEnvironmentVariables
 CephAnsibleExtraConfig
 CephAnsiblePlaybook
 CephAnsiblePlaybookVerbosity
 CephAnsibleRepo
 CephAnsibleSkipTags
 CephAnsibleSkipClient
 CephAnsibleWarning
 CephOsdPercentageMin

Change-Id: I4905c393554941d32f8caada925f0be3f4aefdce
"
openstack%2Fpuppet-ironic~master~Ibb1d9b232303c536019e95fc17b3619c791553d4,openstack/puppet-ironic,master,,Ibb1d9b232303c536019e95fc17b3619c791553d4,Refactor unit tests of ironic::pxe,MERGED,2022-06-01 23:49:17.000000000,2022-06-13 19:46:49.000000000,2022-06-13 19:46:49.000000000,49,25,0,844345,aab3ad2630034e0478aefc23588166b7678eb077,11,3,3,1,9816,Takashi Kajinami,kajinamit,"Refactor unit tests of ironic::pxe

This refactors unit tests of the ironic::pxe class according to
the following points.

- Chainload image resource should be tested with default parameters

- Make sure package resources are included

- The resource title for syslinux-tftpboot package is syslinux, instead
  of syslinux-tftpboot.

- 'default_params' and 'p' are not used

Change-Id: Ibb1d9b232303c536019e95fc17b3619c791553d4
"
openstack%2Fpuppet-nova~master~Ie702c0e33ee394e6dde5a5c54aad7ea8806299dd,openstack/puppet-nova,master,,Ie702c0e33ee394e6dde5a5c54aad7ea8806299dd,Update unit tests for nova::compute::libvirt_guests,MERGED,2022-06-01 05:54:58.000000000,2022-06-13 19:44:44.000000000,2022-06-13 19:44:44.000000000,14,28,0,844245,fe790906a641df59421dc04078fa9a9db2f1bc6d,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Update unit tests for nova::compute::libvirt_guests

CentOS 6 and 7 are no longer supported. Update the test cases to cover
supported versions.

Change-Id: Ie702c0e33ee394e6dde5a5c54aad7ea8806299dd
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I99535a7b37fe259213139ef754699d2d84da7e63,openstack/tripleo-heat-templates,stable/wallaby,bug/1940844-stable/wallaby,I99535a7b37fe259213139ef754699d2d84da7e63,Always ensure that openvswitch is restarted after upgrade,ABANDONED,2021-08-25 10:24:37.000000000,2022-06-13 19:43:25.000000000,,8,8,0,805894,65f27442540ef4ae61dc2d5610439140de99ad02,11,3,2,2,11975,Slawek Kaplonski,slaweq,"Always ensure that openvswitch is restarted after upgrade

Closes-Bug: #1940844
Change-Id: I99535a7b37fe259213139ef754699d2d84da7e63
(cherry picked from commit e475ab4a7cc8249dd203b258436a708d5da04ad0)
"
openstack%2Fpuppet-ceilometer~master~I1aed43e43b6c848f6c20fd569dbf4422c2125400,openstack/puppet-ceilometer,master,,I1aed43e43b6c848f6c20fd569dbf4422c2125400,Replace usage of mongodb in unit tests,MERGED,2022-06-08 02:06:20.000000000,2022-06-13 19:39:10.000000000,2022-06-13 19:39:10.000000000,2,2,0,845075,c6bd935e275dc6bb3e56dbea8f88d3bad3764818,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Replace usage of mongodb in unit tests

... because mongodb is no longer supported[1].

[1] 2ad73a71c095bf534ed9f6a5d4356d1843a5d919

Change-Id: I1aed43e43b6c848f6c20fd569dbf4422c2125400
"
openstack%2Fnova~stable%2Fvictoria~Ia593b500425c81e54eb401e38264db5cc5fc1f93,openstack/nova,stable/victoria,bug/1905944,Ia593b500425c81e54eb401e38264db5cc5fc1f93,libvirt: Abort live-migration job when monitoring fails,NEW,2022-04-11 19:24:11.000000000,2022-06-13 19:32:57.000000000,,33,6,0,837321,59d000202af5eb23270454547b7fb18c318b1172,7,1,1,2,7130,David Hill,dhill,"libvirt: Abort live-migration job when monitoring fails

During live migration process, a _live_migration_monitor thread
checks progress of migration on source host, if for any reason
we hit infrastructure issue involving a DB/RPC/libvirt-timeout
failure, an Exception is raised to the nova-compute service and
instance/migration is set to ERROR state.

The issue is that we may let live-migration job running out of nova
control. At the end of job, guest is resumed on target host while
nova still reports it on source host, this may lead to a split-brain
situation if instance is restarted.

This change proposes to abort live-migration job if issue occurs
during _live_migration_monitor.

Change-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93
Closes-Bug: #1905944
(cherry picked from commit 39f0af5d18d6bea34fa15b8f7778115b25432749)
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~Id04a8f6dda33b8ea0fceb6b0d32e7edddd9270d5,openstack/puppet-openstack_spec_helper,stable/train,train-gate-fix,Id04a8f6dda33b8ea0fceb6b0d32e7edddd9270d5,Re-enable puppet jobs,MERGED,2022-06-12 17:01:16.000000000,2022-06-13 19:09:03.000000000,2022-06-13 19:09:03.000000000,1,6,4,845501,e939050bb0089d7ba925739774de4963feadd6dc,17,3,3,1,9816,Takashi Kajinami,kajinamit,"Re-enable puppet jobs

This partially reverts commit 2f8a5397bb89ffc52b1a15bdbda5724bcb9e77a7
and enable puppet jobs temporally disabled.

Depends-on: https://review.opendev.org/845500
Change-Id: Id04a8f6dda33b8ea0fceb6b0d32e7edddd9270d5
"
openstack%2Ftripleo-ansible~master~Ief1a40161a1c57be8fd038b473a6f21feb9aa8fc,openstack/tripleo-ansible,master,optional_pg_num,Ief1a40161a1c57be8fd038b473a6f21feb9aa8fc,Omit pg_num unless provided in tripleo_run_cephadm's build_pools,MERGED,2022-06-03 15:34:04.000000000,2022-06-13 18:49:24.000000000,2022-06-13 18:49:24.000000000,8,8,2,844610,d5614492223bcd506ad0d0e98e73b82f0934527d,17,5,1,1,18002,John Fulton,fultonj,"Omit pg_num unless provided in tripleo_run_cephadm's build_pools

It's no longer required to pass a PG number when creating pools so
don't assume the pg_num will always be set. If it's not set then
handle it gracefully by omitting it so the pool is created without
a pg_num. The tripleo_cephadm role's pools.yaml tasks file already
does this.

Change-Id: Ief1a40161a1c57be8fd038b473a6f21feb9aa8fc
"
openstack%2Fcharm-manila-dashboard~stable%2Fussuri~I784f3bd635443e61dfff42c2ba90a701e74f5733,openstack/charm-manila-dashboard,stable/ussuri,charmhub-migration,I784f3bd635443e61dfff42c2ba90a701e74f5733,Ensure that the tox.ini has py37 support,MERGED,2022-05-31 11:18:27.000000000,2022-06-13 18:40:26.000000000,2022-06-13 18:40:26.000000000,5,0,1,844035,01bedab3e9bc78ba77db87f23a0e7b9a20cb2248,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Ensure that the tox.ini has py37 support

This is needed for the ""openstack-python3-ussuri-jobs""
job on upstream zuul referenced in the .zuul.yaml

Change-Id: I784f3bd635443e61dfff42c2ba90a701e74f5733
"
openstack%2Fcharm-neutron-api-plugin-arista~stable%2Fussuri~If4226c00cff44fc9abaf482615347585ca24c9f6,openstack/charm-neutron-api-plugin-arista,stable/ussuri,charmhub-migration,If4226c00cff44fc9abaf482615347585ca24c9f6,Migrate charm charmhub for stable/ussuri,MERGED,2022-05-20 19:04:34.000000000,2022-06-13 18:39:13.000000000,2022-06-13 18:39:13.000000000,202,1809,1,842781,ac581b2fdce653fc1bb3742e840253c17d806916,16,3,4,42,20870,Alex Kavanagh,ajkavanagh,"Migrate charm charmhub for stable/ussuri

- start from stable/ussuri branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/ussuri for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 18.04 amd64
- Run on 18.04 amd64, s390x, ppc64el, arm64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: If4226c00cff44fc9abaf482615347585ca24c9f6
"
openstack%2Fcharm-neutron-gateway~stable%2Fussuri~Id3411353872d29ea197e616c71b1328e5aac5505,openstack/charm-neutron-gateway,stable/ussuri,charmhub-migration,Id3411353872d29ea197e616c71b1328e5aac5505,Migrate charm charmhub for stable/ussuri,MERGED,2022-05-20 19:05:01.000000000,2022-06-13 18:38:06.000000000,2022-06-13 18:38:06.000000000,194,2744,2,842784,53832723b71721b769adfbe69f2b8fad3daf6668,21,3,6,29,20870,Alex Kavanagh,ajkavanagh,"Migrate charm charmhub for stable/ussuri

- start from stable/ussuri branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/ussuri for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 18.04 amd64
- Run on 18.04 amd64, s390x, ppc64el, arm64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: Id3411353872d29ea197e616c71b1328e5aac5505
"
openstack%2Fpbr~master~I6f56500c366fd9610d98507f01e8af21862e4421,openstack/pbr,master,,I6f56500c366fd9610d98507f01e8af21862e4421,Allow leading spaces when determining symbols,MERGED,2022-06-03 13:21:34.000000000,2022-06-13 18:22:46.000000000,2022-06-13 18:21:33.000000000,15,1,0,844586,3793d87deb762f773eda1622ed87941c24bc253d,8,3,1,2,34946,Chris Dohmen,chris.dohmen,"Allow leading spaces when determining symbols

Update the logic that checks for sem-ver to strip out leading spaces.
This helps solve an issue during automated squashes appending a tab
character to the start of each line in a commit message.

Closes-Bug: #1977479
Change-Id: I6f56500c366fd9610d98507f01e8af21862e4421
"
openstack%2Fcharm-glance-simplestreams-sync~stable%2Fyoga~I1955f3d2a56654c9a683a2b9d36b33c0f0fd63d4,openstack/charm-glance-simplestreams-sync,stable/yoga,,I1955f3d2a56654c9a683a2b9d36b33c0f0fd63d4,Support --visibility option for simplestreams,MERGED,2022-05-30 09:50:01.000000000,2022-06-13 18:11:25.000000000,2022-06-13 18:11:25.000000000,16,0,3,843811,bb7c601160902dd9bb3cb6cd0121950b7e9b909a,9,4,1,4,8108,Nobuto Murata,nobuto-m,"Support --visibility option for simplestreams

With the new option, Glance images can be uploaded with
""visibility=shared"" for example instead of ""public"" so those can be
hidden from usual projects by default.

Closes-Bug: #1975663
Change-Id: I1955f3d2a56654c9a683a2b9d36b33c0f0fd63d4
(cherry picked from commit f8165cebb89739869845c51734f95833aa497286)
"
openstack%2Fheat~master~I6e037ad4ff7bdb2ba042561a5c34599bbbf73fb9,openstack/heat,master,grenate_voting,I6e037ad4ff7bdb2ba042561a5c34599bbbf73fb9,Make grenate tests voting again,MERGED,2022-05-31 11:11:49.000000000,2022-06-13 18:09:30.000000000,2022-06-13 18:07:00.000000000,0,1,3,844033,6bf25b42f05aaca34ddd6b41de21e59e7fb40acc,16,3,1,1,4264,Matthias Runge,mrunge,"Make grenate tests voting again

Change-Id: I6e037ad4ff7bdb2ba042561a5c34599bbbf73fb9
"
openstack%2Fpython-heatclient~master~I287ce309adf5a02e9eac3a285666c23f4eeb9d36,openstack/python-heatclient,master,update-min-tox,I287ce309adf5a02e9eac3a285666c23f4eeb9d36,Bump tox minversion to 3.18.0,MERGED,2022-05-22 13:23:12.000000000,2022-06-13 18:01:18.000000000,2022-06-13 18:00:00.000000000,2,2,0,842867,0732060995c15a95972b452cfb420228443223a9,9,2,2,1,9816,Takashi Kajinami,kajinamit,"Bump tox minversion to 3.18.0

Since tox 3.18.0, the whitelist_externals option has been deprecated in
favor of the new allow_list_externals option[1].

This change bumps the minversion of tox so that we can replace
the deprecated option.

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I287ce309adf5a02e9eac3a285666c23f4eeb9d36
"
openstack%2Ftripleo-quickstart~master~I2fc2bea2b27ea688f68d3c96eb3f7e5d29405e33,openstack/tripleo-quickstart,master,move-to-quay,I2fc2bea2b27ea688f68d3c96eb3f7e5d29405e33,Changing the namespace for wallabyc8 to tripleowallabycentos8 only for component jobs,MERGED,2022-06-13 08:40:49.000000000,2022-06-13 18:00:01.000000000,2022-06-13 17:58:54.000000000,6,1,5,845568,12fc4167c70531da80403746c1f172ec56570679,22,4,2,1,32458,Ananya,frenzyfriday,"Changing the namespace for wallabyc8 to tripleowallabycentos8 only for component jobs

The file wallaby.yml is used both by component and check jobs. We need to change the namespace to tripleowallabycentos8 only for the component jobs as they use registry quay.rdoproj [1] [2]

[1] https://opendev.org/openstack/tripleo-ci/src/branch/master/toci-quickstart/config/testenv/multinode-vexxhost.yml#L53
[2] https://opendev.org/openstack/tripleo-ci/src/branch/master/toci-quickstart/config/testenv/ovb-vexxhost.yml#L39

Related-Bug: 1978319

Testproj: https://review.rdoproject.org/r/c/testproject/+/43594

Change-Id: I2fc2bea2b27ea688f68d3c96eb3f7e5d29405e33
"
openstack%2Ftripleo-puppet-elements~master~If8a40a6fb8aedffcb12e3839a272e2b89e832e57,openstack/tripleo-puppet-elements,master,sbd,If8a40a6fb8aedffcb12e3839a272e2b89e832e57,Add sbd and fence-agents-sbd to the list of fence agents,MERGED,2022-06-08 11:44:21.000000000,2022-06-13 17:58:52.000000000,2022-06-13 17:58:52.000000000,1,1,3,845120,a9d7810b3b3bea43dcf29672a047e6d500f1e6de,17,5,2,1,30126,Luca Miccini,lmiccini2,"Add sbd and fence-agents-sbd to the list of fence agents

sbd doesn't get pulled in automatically when installing pacemaker
(anymore?) so we need to have it listed explicitly.

Change-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I05cd4a54c35479ca06580f541042948f69c7f532,openstack/tripleo-heat-templates,stable/train,,I05cd4a54c35479ca06580f541042948f69c7f532,Increase stop_grace_period for Octavia controller services,MERGED,2022-03-16 08:29:13.000000000,2022-06-13 17:58:49.000000000,2022-06-13 17:58:49.000000000,3,3,0,833968,eb7b9b03b0add3278a77cf8b88e49fd20e7b39b4,8,4,1,3,29244,Gregory Thiemonge,gthiemonge,"Increase stop_grace_period for Octavia controller services

The stop_grace_period for Octavia should be greater than the longest
task executed by Octavia.
The timeout of longest task in Octavia is currently set to 10 minutes
[0].

Updating the stop_grace_period from 5min to 10min30 will prevent
failures during updates. If a really long task is running Octavia (for
instance a failover during a network outage), it will timeout in Octavia
and Octavia will exit gracefully.

[0] https://review.opendev.org/c/openstack/octavia/+/637077

Change-Id: I05cd4a54c35479ca06580f541042948f69c7f532
(cherry picked from commit 15744039dc00cb586f656ffe04d7105608f1ccb4)
(cherry picked from commit d9eb7896504f2ff4932ada00abf0c101ebf9ffac)
(cherry picked from commit bdd0d7ec7b55d2a3752b8e5f6503165061ee8dca)
(cherry picked from commit 64c6ca6171fafae583d0c82dd54cc35d23c6acdb)
"
openstack%2Fcloudkitty~master~I2ff4a09ce3b0fdf0b08a7e565b58794b25ac5ade,openstack/cloudkitty,master,fix-2009947,I2ff4a09ce3b0fdf0b08a7e565b58794b25ac5ade,Allow rating rules that have 12 digits in the integer part of the number,MERGED,2022-04-09 12:17:32.000000000,2022-06-13 17:54:06.000000000,2022-06-13 17:52:52.000000000,59,4,6,837200,ab1e31dc16cb1c26bd175e235d0d5b93ade64a27,34,4,10,4,28356,Rafael Weingartner,rafaelweingartner,"Allow rating rules that have 12 digits in the integer part of the number

Currently, CloudKitty only allows creating rating rules as
""99.999999999999999999999999"". Therefore, for prices equal to or higher
than 100, we would not be able to use them. This patch will enable
operators to use any value between 0 and 999999999999 (in the integer
part of the number), which will provide more flexibility.

Change-Id: I2ff4a09ce3b0fdf0b08a7e565b58794b25ac5ade
Story: 2009947
Task: 44865
"
openstack%2Fpython-heatclient~master~Ia8d2989c15444d380e60eccc92161b9414d79a16,openstack/python-heatclient,master,tox,Ia8d2989c15444d380e60eccc92161b9414d79a16,Replace deprecated UPPER_CONSTRAINTS_FILE variable,MERGED,2020-12-01 02:04:09.000000000,2022-06-13 17:53:36.000000000,2022-06-13 17:51:30.000000000,3,3,0,764870,5b4729b5fbb532c26fbe62caaf26f84c3ae48324,9,4,1,1,32029,likui,likui,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is old name and deprecated

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: Ia8d2989c15444d380e60eccc92161b9414d79a16
"
openstack%2Fpython-heatclient~master~I8d0c1cfd6dff375b3b7756a5b36c95a2df3f04c6,openstack/python-heatclient,master,remove-six,I8d0c1cfd6dff375b3b7756a5b36c95a2df3f04c6,Remove six,MERGED,2022-05-09 05:48:39.000000000,2022-06-13 17:52:41.000000000,2022-06-13 17:51:28.000000000,180,229,3,841066,23e647539cb9c6872d9f72de99c21e113fded77c,16,3,5,39,9816,Takashi Kajinami,kajinamit,"Remove six

This library no longer supports Python 2, thus usage of six can be
removed.

Change-Id: I8d0c1cfd6dff375b3b7756a5b36c95a2df3f04c6
"
openstack%2Fheat~master~I75386dc4a7dc14b3c753dfff01f147ef8233bf94,openstack/heat,master,story/2009071,I75386dc4a7dc14b3c753dfff01f147ef8233bf94,Deploy healthcheck middleware as app instead of filter,NEW,2021-07-24 04:53:15.000000000,2022-06-13 17:50:57.000000000,,77,20,0,802139,e17f68a83b80f52053bc6c108d4fec43909ae0f9,17,2,6,2,9816,Takashi Kajinami,kajinamit,"Deploy healthcheck middleware as app instead of filter

Using the healthcheck middleware as a filter is deprecated and
the middleware should be used as an application[1].
 [1] 6feaa13610c450c8486f969703768db5319b4846

This change updates definition and usage of the healthcheck middleware
accordingly to avoid the following deprecation warning.

DeprecationWarning: Using function/method 'Healthcheck.factory()' is
deprecated: The healthcheck middleware must now be configured as
an application, not as a filter.

This also refactors composite definitions based on flavor by the new
pipeline factory.

Story: 2009071
Task: 42881
Change-Id: I75386dc4a7dc14b3c753dfff01f147ef8233bf94
"
openstack%2Fheat~master~I6aee0719b0cdef2b17666a43074c5c18645fc180,openstack/heat,master,patches,I6aee0719b0cdef2b17666a43074c5c18645fc180,Log parameters merged,MERGED,2022-06-09 04:54:32.000000000,2022-06-13 17:30:47.000000000,2022-06-13 17:29:01.000000000,6,0,4,845213,c0be1f01fd9c208130857efd7c01ece94d4fb0bb,19,3,4,1,8833,Rabi Mishra,rabi,"Log parameters merged

This can help in troubleshooting.

Task: 45579
Change-Id: I6aee0719b0cdef2b17666a43074c5c18645fc180
"
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I25df15ac5b5b2be3bc9f5855389a4d1816c97a2d,openstack/puppet-openstack-integration,stable/train,train-gate-fix,I25df15ac5b5b2be3bc9f5855389a4d1816c97a2d,train-only: Pin multipart-post,MERGED,2022-06-12 17:00:24.000000000,2022-06-13 17:30:44.000000000,2022-06-13 17:30:44.000000000,2,0,1,845500,cdccbeecb7c354d1f35534b17779a03d8d7cb2fe,20,3,7,1,9816,Takashi Kajinami,kajinamit,"train-only: Pin multipart-post

multipart-post 2.2.0 requies ruby >= 2.3.0 . Pin the package to avoid
failures with old ruby used in CI.

Depends-on: https://review.opendev.org/845080
Change-Id: I25df15ac5b5b2be3bc9f5855389a4d1816c97a2d
"
openstack%2Fmanila-image-elements~master~Idf63f7902a23e44613015f31dd866dbcad20e762,openstack/manila-image-elements,master,,Idf63f7902a23e44613015f31dd866dbcad20e762,DNM Test generated focal image with generic driver,ABANDONED,2022-06-03 17:16:33.000000000,2022-06-13 17:27:13.000000000,,2,2,0,844624,147bf67ae336262ddf3b3ec4eba40ea0351cdbfc,3,1,1,2,29632,Carlos Eduardo,silvacarlos,"DNM Test generated focal image with generic driver

Change-Id: Idf63f7902a23e44613015f31dd866dbcad20e762
"
openstack%2Fnova~master~Iad5e70b43a65c076134e1874cb8e75d1ba214fde,openstack/nova,master,bug/1942329,Iad5e70b43a65c076134e1874cb8e75d1ba214fde,Record SRIOV PF MAC in the binding profile,MERGED,2022-02-15 14:08:19.000000000,2022-06-13 17:26:49.000000000,2022-06-13 17:25:14.000000000,807,102,65,829248,cd03bbc1c33e33872594cf002f0e7011ab8ea047,120,6,9,14,9708,Balazs Gibizer,gibi,"Record SRIOV PF MAC in the binding profile

Today Nova updates the mac_address of a direct-physical port to reflect
the MAC address of the physical device the port is bound to. But this
can only be done before the port is bound. However during migration Nova
does not update the MAC when the port is bound to a different physical
device on the destination host.

This patch extends the libvirt virt driver to provide the MAC address of
the PF in the pci_info returned to the resource tracker. This
information will be then persisted in the extra_info field of the
PciDevice object.

Then the port update logic during migration, resize, live
migration, evacuation and unshelve is also extended to record the MAC of
physical device in the port binding profile according to the device on
the destination host.

The related neutron change Ib0638f5db69cb92daf6932890cb89e83cf84f295
uses this info from the binding profile to update the mac_address field
of the port when the binding is activated.

Closes-Bug: #1942329

Change-Id: Iad5e70b43a65c076134e1874cb8e75d1ba214fde
"
openstack%2Foslo.messaging~master~I570227d6102681f4f9d8813ed0d7693a1160c21d,openstack/oslo.messaging,master,bug-1962348,I570227d6102681f4f9d8813ed0d7693a1160c21d,Add quorum queue control configurations,MERGED,2022-02-25 22:10:30.000000000,2022-06-13 17:15:41.000000000,2022-06-13 17:14:16.000000000,80,7,343,831058,8932ad237bea44e42297ea7acbbd67f6664fa005,89,5,18,3,31039,hamza,hamalq,"Add quorum queue control configurations

the quorum queue type add features that did not exist before or not
handled in rabbitmq the following link shows some of them
https://blog.rabbitmq.com/posts/2020/04/rabbitmq-gets-an-ha-upgrade/

the options below control the quorum queue and ensure the stability of
the quorum system
x-max-in-memory-length
x-max-in-memory-bytes
x-delivery-limit

which control the memory usage and handle message poisoning

Closes-Bug: #1962348
Change-Id: I570227d6102681f4f9d8813ed0d7693a1160c21d
"
openstack%2Foslo.utils~master~If4afb9242b14c48cc70e409463865b7b644a919f,openstack/oslo.utils,master,slow-imports,If4afb9242b14c48cc70e409463865b7b644a919f,Remove deprecated helpers from oslo_utils.timeutils,MERGED,2022-05-18 12:03:17.000000000,2022-06-13 17:12:58.000000000,2022-06-13 17:10:27.000000000,10,135,2,842344,76146aaca88c830c298de31ba1ead00dd63ce4c4,13,3,3,3,15334,Stephen Finucane,sfinucan,"Remove deprecated helpers from oslo_utils.timeutils

Remove the 'isotime', 'strtime' and 'iso8601_from_timestamp' helpers
from 'oslo_utils.timeutils'. These are all available in the stdlib now.

Change-Id: If4afb9242b14c48cc70e409463865b7b644a919f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I0c2377ad14ec244069bc022a64b64c3e39b07779,openstack/tripleo-ansible,stable/train,,I0c2377ad14ec244069bc022a64b64c3e39b07779,Disable Octavia management gateway on update,MERGED,2022-04-20 07:39:14.000000000,2022-06-13 17:12:08.000000000,2022-06-13 17:12:08.000000000,2,0,1,838649,a6993464feb089f8d8ff80563c4ba4e01940af59,14,4,1,1,29244,Gregory Thiemonge,gthiemonge,"Disable Octavia management gateway on update

A previous commit [0] disables the gateway of the lb-mgmt-subnet when
the subnet is created, but the playbook should also disable the gateway
if the subnet already exists (on update for instance).

[0] I1d007e59f95de815bd465d8d452d8270434f8090

Change-Id: I0c2377ad14ec244069bc022a64b64c3e39b07779
(cherry picked from commit ebaeef728d43e05b0d7f25f953ddc15227cd7753)
(cherry picked from commit c68f48ebf84327a9ac07d7bc2ece7128189b1ff4)
(cherry picked from commit 83ec40cc007d70dfa02902724b8240fac68704d5)
"
openstack%2Foslo.utils~master~I8273e164243e014a658b725a375e5632af211945,openstack/oslo.utils,master,slow-imports,I8273e164243e014a658b725a375e5632af211945,Remove oslo_utils.fnmatch,MERGED,2022-05-18 12:03:17.000000000,2022-06-13 17:11:45.000000000,2022-06-13 17:10:25.000000000,5,30,1,842343,5832a7485e7a65093385e4f0af5a58a2c56a04af,8,3,1,2,15334,Stephen Finucane,sfinucan,"Remove oslo_utils.fnmatch

This has been deprecated for a long time. No need to keep it around any
longer.

Change-Id: I8273e164243e014a658b725a375e5632af211945
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Frequirements~master~Ia4ff0fb3bb946dba5112510684bc36ea9c30c1e4,openstack/requirements,master,new-release,Ia4ff0fb3bb946dba5112510684bc36ea9c30c1e4,update constraint for XStatic-Angular to new release 1.8.2.2,MERGED,2022-05-31 15:39:21.000000000,2022-06-13 17:08:37.000000000,2022-06-13 17:07:27.000000000,1,1,5,844099,6aed4ecbf72f274e46020611f71336511ca6f641,18,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for XStatic-Angular to new release 1.8.2.2

meta: version: 1.8.2.2
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Tatiana Ovchinnikova <t.v.ovtchinnikova@gmail.com>
meta: release:Commit: Tatiana Ovchinnikova <t.v.ovtchinnikova@gmail.com>
meta: release:Change-Id: I0ec7003111adf477bfde6001d9f416938e123b4d
meta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>
meta: release:Code-Review+1: Vishal Manchanda <manchandavishal143@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Radomir Dopieralski <openstack@dopieralski.pl>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ia4ff0fb3bb946dba5112510684bc36ea9c30c1e4
"
openstack%2Fpython-heatclient~master~If88b377f25d9b3e64dc049ae219ed6d5f4782d43,openstack/python-heatclient,master,,If88b377f25d9b3e64dc049ae219ed6d5f4782d43,The Python 3.6 and Python 3.7 Support has been dropped since zed,MERGED,2022-06-05 01:14:46.000000000,2022-06-13 16:57:06.000000000,2022-06-13 16:55:59.000000000,1,3,0,844711,1a1fd2b3533143580d5639701962a4c305976d0b,8,3,1,1,31827,Jorhson Deng,dengzhaosen,"The Python 3.6 and Python 3.7 Support has been dropped since zed

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: If88b377f25d9b3e64dc049ae219ed6d5f4782d43
"
openstack%2Fneutron-lib~master~I8730dccfcb5b8e3437fb561495ddb9815673c35c,openstack/neutron-lib,master,bug/1921461,I8730dccfcb5b8e3437fb561495ddb9815673c35c,"Revert ""Introduce new bgp_associations API definition""",MERGED,2022-05-30 07:44:08.000000000,2022-06-13 16:53:29.000000000,2022-06-13 16:51:56.000000000,6,684,2,843649,e4415d5b7b7b47af654f53e88aa8dd59aa7528d8,17,10,2,17,8313,Lajos Katona,elajkat,"Revert ""Introduce new bgp_associations API definition""

This reverts commit 6df74e063dc239e820df72f39b20a2165d6b1e88.

Reason for revert: As discussed during the Zed PTG (see [1]) , due to
changed product development priorities we expect the new BGP related
extensions not to get implemented.
This patch reverts all relevant changes.

[1]: https://etherpad.opendev.org/p/neutron-zed-ptg#L111
Change-Id: I8730dccfcb5b8e3437fb561495ddb9815673c35c
Related-Bug: #1907089
"
openstack%2Fpython-heatclient~master~I44eab3f4a384a27f34e4066651baafa6a9489f49,openstack/python-heatclient,master,url-quote-in-tests,I44eab3f4a384a27f34e4066651baafa6a9489f49,Encode urls in unit tests,MERGED,2022-06-13 15:18:45.000000000,2022-06-13 16:50:37.000000000,2022-06-13 16:49:21.000000000,6,3,0,845600,66adfe14a69b00482d566ca68f55c48fab6421b2,8,2,2,2,9542,Pavlo Shchelokovskyy,pshchelo,"Encode urls in unit tests

currently several unit tests are failing when path from where
they run contains url-quotable characters like '@', which apparently is
possile in e.g. Jenkins.

Change-Id: I44eab3f4a384a27f34e4066651baafa6a9489f49
"
openstack%2Foslo.utils~master~I5d7d526beebc39de2fa0ff8c6b1d2458c6a3d0bb,openstack/oslo.utils,master,slow-imports,I5d7d526beebc39de2fa0ff8c6b1d2458c6a3d0bb,requirements: Remove explicit pbr dependency,MERGED,2022-05-18 12:03:17.000000000,2022-06-13 16:43:39.000000000,2022-06-13 16:42:17.000000000,0,5,1,842342,17db918055a12f5b741c3a08fa760368cd48d0d3,8,3,1,1,15334,Stephen Finucane,sfinucan,"requirements: Remove explicit pbr dependency

We don't use this at runtime. No need to install it.

Change-Id: I5d7d526beebc39de2fa0ff8c6b1d2458c6a3d0bb
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Ftaskflow~master~Ib0941cddf14dde5d6b9f97fe0224d6e6f3975226,openstack/taskflow,master,,Ib0941cddf14dde5d6b9f97fe0224d6e6f3975226,Quote string representations,MERGED,2022-06-09 18:05:38.000000000,2022-06-13 16:33:53.000000000,2022-06-13 16:32:31.000000000,12,11,9,845293,2521e3ee00d91d4002b751ecea06906fdf1c9b0e,20,6,3,7,11628,Michael Johnson,johnsom,"Quote string representations

networkx 2.8.3 will raise errors if certain characters, such as a colon, in the node names and the string is not quoted.
This patch double quotes flow, node, and task string representations to make sure there are not issues with these characters occuring in the names.

Story: 2010083
Change-Id: Ib0941cddf14dde5d6b9f97fe0224d6e6f3975226
"
openstack%2Ftap-as-a-service~master~Ic92192772eb8e1f42def76fa62cfe4a0dc160b1d,openstack/tap-as-a-service,master,,Ic92192772eb8e1f42def76fa62cfe4a0dc160b1d,Update home-page,ABANDONED,2019-01-11 10:18:58.000000000,2022-06-13 16:17:29.000000000,,1,1,2,630127,0c821a4ab3b3722992a462b78a7f26483b7903cb,10,6,2,1,26297,pippo,huang.zhiping,"Update home-page

Change-Id: Ic92192772eb8e1f42def76fa62cfe4a0dc160b1d
"
openstack%2Ftap-as-a-service~master~Ida63a87d3318c8e39df16ab00d438ec938caec81,openstack/tap-as-a-service,master,,Ida63a87d3318c8e39df16ab00d438ec938caec81,Change openstack-dev to openstack-discuss in setup.cfg,ABANDONED,2019-01-24 03:21:51.000000000,2022-06-13 16:14:32.000000000,,1,1,0,632901,7cd0f532283f45bd92902d0f14564a891da2b4d0,4,2,1,1,29423,zhouxinyong,zhouxinyong,"Change openstack-dev to openstack-discuss in setup.cfg

Change-Id: Ida63a87d3318c8e39df16ab00d438ec938caec81
"
openstack%2Fpython-aodhclient~master~Ieb8778a63ec32d4806f84f5bde445b880d14938e,openstack/python-aodhclient,master,telemetry-queue,Ieb8778a63ec32d4806f84f5bde445b880d14938e,zuul: Use telemetry queue,NEW,2022-06-13 15:39:40.000000000,2022-06-13 15:53:25.000000000,,1,0,0,845602,dc74a97312c40781e0ca468eb7dcc4e212c94ee8,3,1,1,1,9816,Takashi Kajinami,kajinamit,"zuul: Use telemetry queue

Ceilometer and Aodh are usually integrated, thus executing CI jobs in
the same queue would make more sense than merging fixes independently.

This also allows us to manage patch chain across aodhclient and aodh.

Change-Id: Ieb8778a63ec32d4806f84f5bde445b880d14938e
"
openstack%2Fblazar-tempest-plugin~master~Ib6c365a01bfebbcc355160f6139d9ac97e557b69,openstack/blazar-tempest-plugin,master,tempest-scenario-manager-cleanup,Ib6c365a01bfebbcc355160f6139d9ac97e557b69,Remove setup_clients method,MERGED,2022-06-09 11:41:18.000000000,2022-06-13 15:46:58.000000000,2022-06-13 15:44:44.000000000,0,43,1,845265,e1dde454f3ffd3bccd2267ff0923df95609cd669,10,2,1,1,33732,Roman Popelka,rpopelka,"Remove setup_clients method

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Replaced methods:
    * setup_clients

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: Ib6c365a01bfebbcc355160f6139d9ac97e557b69
"
openstack%2Fblazar-tempest-plugin~master~Ib8e1f9d9017b8e807a19fdebc1c5ccba25e7b933,openstack/blazar-tempest-plugin,master,tempest-scenario-manager-cleanup,Ib8e1f9d9017b8e807a19fdebc1c5ccba25e7b933,Remove unused methods,MERGED,2022-06-09 11:39:39.000000000,2022-06-13 15:45:59.000000000,2022-06-13 15:44:42.000000000,0,353,0,845264,b6b967963dd4220492d7e1d795f262c385072d89,9,3,1,1,33732,Roman Popelka,rpopelka,"Remove unused methods

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Removed methods:
    * create_volume
    * create_volume_type
    * _create_loginable_secgroup_rule
    * create_security_group
    * get_remote_client
    * _image_create
    * glance_image_create
    * _log_net_info
    * nova_volume_attach
    * nova_volume_detach
    * check_vm_connectivity
    * check_public_network_connectivity
    * create_floating_ip
    * create_timestamp
    * get_timestamp
    * get_server_ip

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: Ib8e1f9d9017b8e807a19fdebc1c5ccba25e7b933
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Iedfb543f4a0f2adb02e696a5afa52693d3dcee37,openstack/tripleo-heat-templates,stable/wallaby,,Iedfb543f4a0f2adb02e696a5afa52693d3dcee37,Only run mysql upgrade commands when needed,MERGED,2022-05-23 11:46:14.000000000,2022-06-13 15:42:03.000000000,2022-06-13 15:42:03.000000000,6,0,4,842964,5c847345791e8cb56e7499b4e455de7bc61b5607,20,7,1,1,31245,Daniel Bengtsson,damani42,"Only run mysql upgrade commands when needed

During upgrade tasks, a transient container performs
mysql upgrades on disk. This action can fail if mysql
has been stopped improperly (leaving tc.log behind),
and block further runs of upgrade tasks. To avoid that,
do no run mysql upgrade script if we detect that it has
already been done once for the current mysql version.

Tested by running a FFU once, stopping galera on a node,
and rerunning ""overcloud upgrade run"".

Closes-Bug: #1962770
Change-Id: Iedfb543f4a0f2adb02e696a5afa52693d3dcee37
(cherry picked from commit 309c89e90220db90bdcb43db6ce8fa98c6881d48)
"
openstack%2Fpuppet-openstack-integration~master~I4e1a41b62c0597e0f63793c35e00fda195d4f761,openstack/puppet-openstack-integration,master,c9-litmus,I4e1a41b62c0597e0f63793c35e00fda195d4f761,CentOS: Disable SELinux in litmus jobs,MERGED,2022-06-08 23:44:20.000000000,2022-06-13 15:41:52.000000000,2022-06-13 15:41:52.000000000,7,0,1,845182,69adc6a870e141d8e47313b1d3d6a6313f023ce4,16,6,5,1,9816,Takashi Kajinami,kajinamit,"CentOS: Disable SELinux in litmus jobs

Similarly to integration jobs, this change disables SELinux in litmus
job, to avoid direct failure caused by selinux denials. Denials can
be reviewed by audit.log captured as part of logs.

Change-Id: I4e1a41b62c0597e0f63793c35e00fda195d4f761
"
openstack%2Fpuppet-openstack-integration~master~I7a1ab46523698e97d3329998de66729f113f166d,openstack/puppet-openstack-integration,master,c9-litmus,I7a1ab46523698e97d3329998de66729f113f166d,CentOS 9: Fix Ceph mirror url,MERGED,2022-06-07 14:29:31.000000000,2022-06-13 15:41:49.000000000,2022-06-13 15:41:49.000000000,31,13,5,844987,55232a87c1dc338b937f51a63458e79918d65679,24,6,6,2,9816,Takashi Kajinami,kajinamit,"CentOS 9: Fix Ceph mirror url

Ceph packages for CentOS 9 are already available in mirror but these
are placed in a slightly different url.

This change updates the repository url used in integration jobs and
litmus jobs.

Change-Id: I7a1ab46523698e97d3329998de66729f113f166d
"
openstack%2Fcharm-nova-compute~stable%2F21.10~Ic7b3e068886f1efd788d3ed309b391e1a82087fd,openstack/charm-nova-compute,stable/21.10,bug/1963922,Ic7b3e068886f1efd788d3ed309b391e1a82087fd,Extend apparmor profile for attaching cinder-lvm volumes,ABANDONED,2022-05-10 20:34:16.000000000,2022-06-13 15:22:43.000000000,,1,0,0,841337,efd5aa1f7c995430f095a6a0ae8989ac23755eb5,6,2,1,1,10058,Erlon R. Cruz,sombrafam,"Extend apparmor profile for attaching cinder-lvm volumes

Change-Id: Ic7b3e068886f1efd788d3ed309b391e1a82087fd
Closes-Bug: #1963922
(cherry picked from commit 23f45aa921a2700c480ad4d1aa02393f5aa07413)
(cherry picked from commit 48bb8ea1066b4de897d38d4b05768e913dcb35d8)
"
openstack%2Fpuppet-openstack_extras~master~I60e37d1c555422c65760705377a7f9c469142e3f,openstack/puppet-openstack_extras,master,remove-manage_whz,I60e37d1c555422c65760705377a7f9c469142e3f,Remove deprecated manage_whz,MERGED,2022-06-12 17:12:22.000000000,2022-06-13 15:18:47.000000000,2022-06-13 15:16:46.000000000,6,12,1,845503,bfad5e4dff2204a55d43f5acbfd1c60fa03dfa7a,11,3,1,2,9816,Takashi Kajinami,kajinamit,"Remove deprecated manage_whz

... because it was deprecated several cycles ago[1].

[1] 9b63dc312ee289681106573d542b7c3a1e4a0ead

Change-Id: I60e37d1c555422c65760705377a7f9c469142e3f
"
openstack%2Fpuppet-openstack_extras~master~I9d39f23159505cec8fbcdd055e6c1fed4b995115,openstack/puppet-openstack_extras,master,deprecate-stream,I9d39f23159505cec8fbcdd055e6c1fed4b995115,CentOS: Deprecate the stream parameter,MERGED,2022-06-11 02:50:23.000000000,2022-06-13 15:17:50.000000000,2022-06-13 15:16:43.000000000,27,53,0,845492,a3b178709087a5f3da85087fd2299b9d1eee6962,15,3,4,3,9816,Takashi Kajinami,kajinamit,"CentOS: Deprecate the stream parameter

... because now only CentOS Steam 9 is supported.

Change-Id: I9d39f23159505cec8fbcdd055e6c1fed4b995115
"
openstack%2Fpuppet-openstack_extras~master~Ie8436a527fc308b70a7c3b34fb86a32604f836ff,openstack/puppet-openstack_extras,master,bug/1978332,Ie8436a527fc308b70a7c3b34fb86a32604f836ff,cs9: Fix URL for OpenStack packages,MERGED,2022-04-22 08:23:05.000000000,2022-06-13 15:15:51.000000000,2022-06-13 15:14:42.000000000,71,33,1,839014,41f06f8f7b2fdf8a0eb2fe2ae60cf01f5f1a8152,28,4,11,4,9816,Takashi Kajinami,kajinamit,"cs9: Fix URL for OpenStack packages

CentOS Stream 9 packages are hosted at mirror.stream.centos.org instead
of mirror.centos.org. Also the directory structure is a bit different
in the new mirror server.

Closes-Bug: #1978332
Change-Id: Ie8436a527fc308b70a7c3b34fb86a32604f836ff
"
openstack%2Fpuppet-openstack_extras~master~I77f2b1e229dc9b6cd84bc0dddcfbf9582b7312dc,openstack/puppet-openstack_extras,master,rdo-yoga,I77f2b1e229dc9b6cd84bc0dddcfbf9582b7312dc,CentOS: Switch to yoga release,MERGED,2022-06-10 15:59:37.000000000,2022-06-13 15:14:40.000000000,2022-06-13 15:14:40.000000000,7,7,0,845364,351cd2427675269e1a5f0a6519d115a40d7abbc3,13,3,3,2,9816,Takashi Kajinami,kajinamit,"CentOS: Switch to yoga release

Change-Id: I77f2b1e229dc9b6cd84bc0dddcfbf9582b7312dc
"
openstack%2Fcinder~master~Ia137d786fa961bc7d3e2cbbd18965fc124a041e6,openstack/cinder,master,,Ia137d786fa961bc7d3e2cbbd18965fc124a041e6,api-ref fix manageable_volumes request and response,NEW,2021-12-06 14:01:05.000000000,2022-06-13 15:07:52.000000000,,26,8,1,820525,7103409ce927146542b67ab63cc54c2abfe8b9e2,17,1,1,3,33986,Lucas Morais de oliveira,lucasmoliveira059,"api-ref fix manageable_volumes request and response

This patch sets all items as optional except ref on requirements
table schema, fixes the values to be null instead of ""null"" on
response example and sets volume-type to be string instead of object.

Closes-Bug: 1944784
Change-Id: Ia137d786fa961bc7d3e2cbbd18965fc124a041e6
"
openstack%2Fneutron~master~I23d2ec86bb719c89886c24186745f04c17d8964c,openstack/neutron,master,bug/1978389,I23d2ec86bb719c89886c24186745f04c17d8964c,Change vlan max value in intro-basic-networking.rst,MERGED,2022-06-13 00:21:41.000000000,2022-06-13 15:01:59.000000000,2022-06-13 15:00:21.000000000,1,1,2,845513,3e1223f5caaf292f8aff01cb1b80514e787c3c2f,12,7,1,1,33493,chenwei,chenwei,"Change vlan max value in intro-basic-networking.rst

Cloesed bug: #1978389

Change-Id: I23d2ec86bb719c89886c24186745f04c17d8964c
"
openstack%2Foctavia~master~I1177bc8bde0f6699bbdf83ca95c47f52714bc962,openstack/octavia,master,,I1177bc8bde0f6699bbdf83ca95c47f52714bc962,DNM: Testing taskflow fix for docs issue,ABANDONED,2022-06-09 18:08:16.000000000,2022-06-13 14:47:10.000000000,,94,86,2,845294,95a3c3d758b25dafb23fc7afb457cac1a651e4eb,10,1,4,3,11628,Michael Johnson,johnsom,"DNM: Testing taskflow fix for docs issue

Depends-On: https://review.opendev.org/c/openstack/taskflow/+/845293
Change-Id: I1177bc8bde0f6699bbdf83ca95c47f52714bc962
"
openstack%2Fpython-openstackclient~master~Ie156bedbe0f9244f82c81401679706f484caf9aa,openstack/python-openstackclient,master,story/2008463,Ie156bedbe0f9244f82c81401679706f484caf9aa,image: Unset properties rather than setting to None,MERGED,2020-12-22 17:11:50.000000000,2022-06-13 14:32:48.000000000,2021-01-06 11:16:25.000000000,16,17,0,768239,29a7c9afce32e7acbd40b9e4a73140ef9e05e7f3,9,4,1,3,15334,Stephen Finucane,sfinucan,"image: Unset properties rather than setting to None

Currently, we attempt to unset an image property by setting it to None.
This doesn't work for known properties and is rightly rejected by the
Glance API with the following error:

  BadRequestException: 400: Client Error for url:
  http://172.20.4.87/image/v2/images/368c5751-2b0b-4a38-a255-fd146fe52d31,
  Bad Request

The solution is to actually unset the field by deleting it.

Change-Id: Ie156bedbe0f9244f82c81401679706f484caf9aa
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Story: #2008463
Task: #41493
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I9a6bd27f825d226b508053e4b7d2670a14f6f773,openstack/tripleo-ansible,stable/wallaby,metal_optional-stable/wallaby,I9a6bd27f825d226b508053e4b7d2670a14f6f773,Make deployed ceph baremetal file optional,ABANDONED,2022-06-13 13:49:36.000000000,2022-06-13 14:20:20.000000000,,14,8,0,845401,969fec55a665fd12c69db7b8113152565dd12cd1,2,0,1,1,18002,John Fulton,fultonj,"Make deployed ceph baremetal file optional

Only require deployed_ceph_tht_path and
baremetal_deployed_path if a dynamic spec
needs to be generated. If a spec is passed
then the playbook works fine without them.

Change-Id: I9a6bd27f825d226b508053e4b7d2670a14f6f773
(cherry picked from commit b18e0e7e21b11c5a9b821195f793bb415201045c)
"
openstack%2Fheat~master~Iec3367667248d0b46196a6d569f3cbb3b200d842,openstack/heat,master,patches,Iec3367667248d0b46196a6d569f3cbb3b200d842,Use previous parameter merge strategy,MERGED,2022-06-09 04:54:32.000000000,2022-06-13 14:14:17.000000000,2022-06-13 14:12:43.000000000,19,3,4,845212,94f32ee39f4d705614079bd0ac113cde67dbb7e4,15,3,4,2,8833,Rabi Mishra,rabi,"Use previous parameter merge strategy

We don't allow different parameter merge strategies
in different environment files for a parameter. If
a merge strategy has already been provided in one
environment file, let's use that for subsequent ones
unless a different merge strategy has been provided.

Task: 45578
Change-Id: Iec3367667248d0b46196a6d569f3cbb3b200d842
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~I55c6f303e394e992c9b481f6080186bf58065e58,openstack/puppet-openstack_spec_helper,stable/train,train-gate-fix,I55c6f303e394e992c9b481f6080186bf58065e58,train-only: Fix failing bundle install,MERGED,2022-06-08 03:59:21.000000000,2022-06-13 13:57:50.000000000,2022-06-13 13:57:50.000000000,12,2,1,845080,2f8a5397bb89ffc52b1a15bdbda5724bcb9e77a7,19,4,6,2,9816,Takashi Kajinami,kajinamit,"train-only: Fix failing bundle install

This change adds/fixes ruby package version pin to fix the failing
bundle install.

Jobs are temporally disabled because of the beaker job which still
requires additional fixes in p-o-i.

Change-Id: I55c6f303e394e992c9b481f6080186bf58065e58
"
openstack%2Fcloudkitty~master~I0a2f24051d268a396955c8df7e3e5615546f6293,openstack/cloudkitty,master,v2-rating-modules,I0a2f24051d268a396955c8df7e3e5615546f6293,Add rating modules GET endpoints to v2 API,MERGED,2019-09-25 12:37:28.000000000,2022-06-13 13:40:26.000000000,2022-06-13 13:39:13.000000000,380,13,35,684734,9f9f4f12335372d2b98c0d0c618aa4c457da9378,55,8,12,15,30960,Quentin Anglade,qanglade,"Add rating modules GET endpoints to v2 API

This introduces GET methods for rating modules in the v2 API. Work items:

* Implement the ""/v1/rating/modules"" endpoints in the v2 API, including
  unit tests and documentation

Story: 2006572
Task: 36677

Co-Authored-By: Rafael Weingärtner <rafael@apache.org>

Change-Id: I0a2f24051d268a396955c8df7e3e5615546f6293
"
openstack%2Fkeystoneauth~master~I56255f3c03969e5b590ed04eb44b0f03a13d3263,openstack/keystoneauth,master,bindep-no-py2,I56255f3c03969e5b590ed04eb44b0f03a13d3263,Replace python-dev with python3-dev in bindep,NEW,2022-06-13 12:18:09.000000000,2022-06-13 13:38:00.000000000,,1,1,0,845585,e6a62d370b35d6a8944450a8ad5c04932d32a78d,3,2,1,1,9542,Pavlo Shchelokovskyy,pshchelo,"Replace python-dev with python3-dev in bindep

Keystoneauth dropped support for Python2 long ago,
and python2 is not even available on some newer platforms,
breaking installation of keystoneauth dependencies.

Change-Id: I56255f3c03969e5b590ed04eb44b0f03a13d3263
"
openstack%2Fkolla-ansible~master~I1b1068e84be7f7eaff1a4eab1ba9ddcd6f4241c7,openstack/kolla-ansible,master,influxdb_typo,I1b1068e84be7f7eaff1a4eab1ba9ddcd6f4241c7,Fix typo in endpoint influxdb_internal_endpoint variable,MERGED,2022-06-07 08:52:48.000000000,2022-06-13 13:15:27.000000000,2022-06-13 13:14:08.000000000,8,2,6,844925,13af2787089ba2fdb1e8f3083171de0fb1d84c0c,17,3,2,3,8157,Bertrand LALLAU,blallau,"Fix typo in endpoint influxdb_internal_endpoint variable

This patch simply fix a typo in 'influxdb_internal_endpoint' variable.

Change-Id: I1b1068e84be7f7eaff1a4eab1ba9ddcd6f4241c7
"
openstack%2Fcharm-ceph-iscsi~stable%2Fpacific~I9bd371fecce6d5b4b161418d9e29cf1612a9be52,openstack/charm-ceph-iscsi,stable/pacific,charmhub-migration-ceph,I9bd371fecce6d5b4b161418d9e29cf1612a9be52,Migration ceph stable charms to charmhub - pacific,MERGED,2022-03-11 18:43:05.000000000,2022-06-13 13:12:27.000000000,2022-06-13 13:12:27.000000000,330,48,18,833458,aa41b7e389b8e5530befda593378c7d56b11393c,74,4,12,17,20870,Alex Kavanagh,ajkavanagh,"Migration ceph stable charms to charmhub - pacific

This is the stable/pacific branch of the ceph charms.  It tests against
focal-ussuri (validates octopus) and focal-wallaby (validates pacific).

Change-Id: I9bd371fecce6d5b4b161418d9e29cf1612a9be52
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/783
"
openstack%2Fopenstacksdk~master~Ic280e7f725f86bd32a7e2cc96528a7de91f1fed2,openstack/openstacksdk,master,bug/1877301,Ic280e7f725f86bd32a7e2cc96528a7de91f1fed2,Add CRUD methods for Neutron router ndp proxy,MERGED,2020-08-31 11:37:57.000000000,2022-06-13 13:08:44.000000000,2022-06-13 13:07:00.000000000,395,0,12,749036,41f45fb12afaef8efcc2d6a7bda55bb83c6b7178,32,7,10,10,28329,yangjianfeng,yangjianfeng,"Add CRUD methods for Neutron router ndp proxy

Depends-On: https://review.opendev.org/#/c/823000/
Change-Id: Ic280e7f725f86bd32a7e2cc96528a7de91f1fed2
"
openstack%2Fopenstacksdk~master~Iec11d7b3a4aeac2e35410dffd24e12cdc400b1c4,openstack/openstacksdk,master,,Iec11d7b3a4aeac2e35410dffd24e12cdc400b1c4,Fix Baremetal cloud layer,MERGED,2022-06-01 15:20:23.000000000,2022-06-13 13:07:46.000000000,2022-06-13 13:06:12.000000000,33,29,4,844312,9efb589eeb2ecb57efccbd0025c5140b548e0029,15,3,4,2,27900,Artem Goncharov,gtema,"Fix Baremetal cloud layer

Ensure baremetal cloud layer ops return resource objects consitently.

Change-Id: Iec11d7b3a4aeac2e35410dffd24e12cdc400b1c4
"
openstack%2Fopenstacksdk~master~I98c599996a316ef2722754bf181d943ed5820978,openstack/openstacksdk,master,story/2009937,I98c599996a316ef2722754bf181d943ed5820978,network RBAC policy: allow query for target tenant,MERGED,2022-03-21 10:11:04.000000000,2022-06-13 13:06:52.000000000,2022-06-13 13:06:52.000000000,13,1,2,834442,0474716c79f0ca651520d647310ebe40c7a75044,10,4,2,2,33634,Jan Hartkopf,jhartkopf,"network RBAC policy: allow query for target tenant

This is required to send the ""target_tenant"" query parameter
in order to be able to filter network RBAC policies by
target tenant.

Story: 2009937
Task: 44825
Change-Id: I98c599996a316ef2722754bf181d943ed5820978
Signed-off-by: Jan Hartkopf <jhartkopf@inovex.de>
"
openstack%2Fopenstacksdk~master~I97d885cbaf99862cff801816c306e2d95b44e7ce,openstack/openstacksdk,master,compute-gaps,I97d885cbaf99862cff801816c306e2d95b44e7ce,compute: Add support for instance actions,MERGED,2022-05-26 12:23:59.000000000,2022-06-13 13:06:49.000000000,2022-06-13 13:06:49.000000000,247,0,1,843449,6d8be2b2dff1f774408dac9ae02f4e52baeb3c38,8,2,1,4,15334,Stephen Finucane,sfinucan,"compute: Add support for instance actions

These become server actions, in keeping with our preference for using
""server"" rather than ""instance"". This is a read-only API so relatively
easy to implement.

Change-Id: I97d885cbaf99862cff801816c306e2d95b44e7ce
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstacksdk~master~Ie358fb1e79c7047453807b0b969077996bfc3a23,openstack/openstacksdk,master,remove-munch,Ie358fb1e79c7047453807b0b969077996bfc3a23,cloud: Remove a load of normalize helpers,MERGED,2022-06-08 12:06:09.000000000,2022-06-13 13:06:46.000000000,2022-06-13 13:06:46.000000000,12,804,0,845122,ffd3cb1ae584d4ff9681334a756050b3bf1be94e,6,2,1,3,15334,Stephen Finucane,sfinucan,"cloud: Remove a load of normalize helpers

These are no longer needed. Remove them.

Change-Id: Ie358fb1e79c7047453807b0b969077996bfc3a23
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstacksdk~master~Ia033794bab1561d7bf8ba29b88e54bbebdf17cf0,openstack/openstacksdk,master,remove-munch,Ia033794bab1561d7bf8ba29b88e54bbebdf17cf0,cloud: Update docstrings for compute functions,MERGED,2022-05-26 12:00:04.000000000,2022-06-13 13:06:43.000000000,2022-06-13 13:06:43.000000000,202,121,0,843441,da0165b4b65d8e27d3a0e6db6f89bfc8da214c00,6,2,1,1,15334,Stephen Finucane,sfinucan,"cloud: Update docstrings for compute functions

Change-Id: Ia033794bab1561d7bf8ba29b88e54bbebdf17cf0
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstacksdk~master~I4c4193c94852ed790c2a90b1202cc1519d39df21,openstack/openstacksdk,master,remove-munch,I4c4193c94852ed790c2a90b1202cc1519d39df21,cloud: Update docstrings for object store functions,MERGED,2022-05-26 12:00:04.000000000,2022-06-13 13:06:40.000000000,2022-06-13 13:06:40.000000000,105,92,0,843440,a3b6dcdf4ff8ac71ce3345df83c7ed93de6492e4,6,2,1,2,15334,Stephen Finucane,sfinucan,"cloud: Update docstrings for object store functions

Change-Id: I4c4193c94852ed790c2a90b1202cc1519d39df21
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstacksdk~master~Id453955bf2cf13e3a8dd62ac334fa8772fbd8006,openstack/openstacksdk,master,remove-munch,Id453955bf2cf13e3a8dd62ac334fa8772fbd8006,cloud: Update docstrings for identity functions,MERGED,2022-05-26 12:00:04.000000000,2022-06-13 13:06:37.000000000,2022-06-13 13:06:37.000000000,352,247,0,843439,6fd5f99dc6df9403777589bfc8c3414a875f99d2,6,2,1,1,15334,Stephen Finucane,sfinucan,"cloud: Update docstrings for identity functions

Change-Id: Id453955bf2cf13e3a8dd62ac334fa8772fbd8006
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstacksdk~master~I1d011c9339d47675c32f66ec3f58f21693086daa,openstack/openstacksdk,master,remove-munch,I1d011c9339d47675c32f66ec3f58f21693086daa,cloud: Update docstrings for block storage functions,MERGED,2022-05-26 12:00:04.000000000,2022-06-13 13:06:34.000000000,2022-06-13 13:06:34.000000000,313,131,0,843438,84b2ec36c97a04a2995b1a33764c8b28d763b4c9,6,2,1,1,15334,Stephen Finucane,sfinucan,"cloud: Update docstrings for block storage functions

Change-Id: I1d011c9339d47675c32f66ec3f58f21693086daa
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstacksdk~master~Id12765c9e7fdffe62c489c064a3fc07df6ee1d40,openstack/openstacksdk,master,remove-munch,Id12765c9e7fdffe62c489c064a3fc07df6ee1d40,cloud: Update docstrings for image functions,MERGED,2022-05-26 12:00:04.000000000,2022-06-13 13:06:31.000000000,2022-06-13 13:06:31.000000000,59,46,0,843437,6bae83af0d89186ceeb1315ae5e814bf3c0eda0e,6,2,1,1,15334,Stephen Finucane,sfinucan,"cloud: Update docstrings for image functions

Remove more mentions of munch.

Change-Id: Id12765c9e7fdffe62c489c064a3fc07df6ee1d40
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstacksdk~master~I348f1ee00efc7abc847c5cf9d58b2dceb606046d,openstack/openstacksdk,master,remove-munch,I348f1ee00efc7abc847c5cf9d58b2dceb606046d,cloud: Update docstrings for accelerator functions,MERGED,2022-05-26 12:00:04.000000000,2022-06-13 13:06:18.000000000,2022-06-13 13:06:18.000000000,6,6,0,843436,a1372adc5dc96ef991c6aafd6d889de2e27035ce,6,2,1,1,15334,Stephen Finucane,sfinucan,"cloud: Update docstrings for accelerator functions

Another example of docstrings lying. These don't return munch.Munch
objects anymore.

Change-Id: I348f1ee00efc7abc847c5cf9d58b2dceb606046d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstacksdk~master~I8cc7c5d83781698465c44d9a8137b76954de7f1d,openstack/openstacksdk,master,remove-munch,I8cc7c5d83781698465c44d9a8137b76954de7f1d,cloud: Update docstrings for network functions,MERGED,2022-05-26 12:00:04.000000000,2022-06-13 13:06:15.000000000,2022-06-13 13:06:15.000000000,363,246,4,843435,88b35ef50f8f747d26bfce623ae06dba230e7be2,7,3,1,2,15334,Stephen Finucane,sfinucan,"cloud: Update docstrings for network functions

We don't use munch objects here any more.

While we're here, we also fix a bug in the 'get_internal_networks' and
'get_external_networks' helpers: subclasses of 'Resource' including the
'Network' resource are not hashable so you can't put them in sets. We
must use lists and assume there are no duplicates.

Change-Id: I8cc7c5d83781698465c44d9a8137b76954de7f1d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fheat~master~I37cf23a71202396bd28cd780455f6278b42c6e4b,openstack/heat,master,bindep-no-py2,I37cf23a71202396bd28cd780455f6278b42c6e4b,Remove python2 from bindep,MERGED,2022-06-10 17:29:11.000000000,2022-06-13 13:04:30.000000000,2022-06-13 13:03:14.000000000,0,2,1,845370,7505273560c9556cd3a4cf07c92999d1af7a4d8b,9,5,1,1,9542,Pavlo Shchelokovskyy,pshchelo,"Remove python2 from bindep

Heat dropped support for Python2 long ago,
and python2 is not even available on some newer platforms,
breaking installation of heat dependencies.

Change-Id: I37cf23a71202396bd28cd780455f6278b42c6e4b
"
openstack%2Fgovernance~master~Ibeb66662e7b71c3b7b1c1acee3bfccfcca11e544,openstack/governance,master,formal-vote,Ibeb66662e7b71c3b7b1c1acee3bfccfcca11e544,Documenting the OpenStack release new identification process,MERGED,2022-05-13 20:59:21.000000000,2022-06-13 13:01:53.000000000,2022-06-03 17:32:56.000000000,33,50,51,841800,d29da1b7de593228a5d32d1fd905841c4de4b40c,34,11,5,1,8556,Ghanshyam,ghanshyam,"Documenting the OpenStack release new identification process

After the discussion in ML thread[1], gerrit[2], Foundation
staff joined in TC meeting and we all agreed to give the release
name handling to Foundation and TC will not be involved in that[3].

Release name will be used for marketing purpose and release tooling
but we will use the release number as a primary identifier in the
OpenStack development cycle. TC had another call[4] to discuss about
the details of where to use releae name and number and passed the
resolution
- https://review.opendev.org/c/openstack/governance/+/843214

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-April/028354.html
[2] https://review.opendev.org/c/openstack/governance/+/839897
[3] https://meetings.opendev.org/meetings/tc/2022/tc.2022-05-12-15.00.log.html#l-245
[4] https://etherpad.opendev.org/p/openstack-release-identification-schema

Change-Id: Ibeb66662e7b71c3b7b1c1acee3bfccfcca11e544
"
openstack%2Ftripleo-quickstart-extras~master~I19d425c7a6a9823a7105ad63ce132bf55599e2a1,openstack/tripleo-quickstart-extras,master,,I19d425c7a6a9823a7105ad63ce132bf55599e2a1,Disable stackviz,ABANDONED,2022-04-06 12:19:47.000000000,2022-06-13 12:39:25.000000000,,1,0,0,836817,233b7bf906c92656b0358fb583fb1263d861803e,6,2,1,1,8367,Arx Cruz,arxcruz,"Disable stackviz

Due https://bugs.launchpad.net/tripleo/+bug/1967943 stackviz need to be
disabled.
There are other conditions on the playbook where stackviz are being
disabled for other reasons, and was keep in order to keep tracking those
issues, but right now it's disabled everywhere.

Change-Id: I19d425c7a6a9823a7105ad63ce132bf55599e2a1
Related-Bug: #1967943
"
openstack%2Ftripleo-quickstart~master~I3cd51f8ee987463e3bb52de5cb2959860cba5079,openstack/tripleo-quickstart,master,tempest-allow-minimal,I3cd51f8ee987463e3bb52de5cb2959860cba5079,Update minimal featureset to run tempest_allow,ABANDONED,2021-09-08 09:25:59.000000000,2022-06-13 12:37:20.000000000,,1,6,2,807842,1d88d35b380281e1cd875339a4a65dd3c9367608,14,5,1,1,8367,Arx Cruz,arxcruz,"Update minimal featureset to run tempest_allow

This patch removes the tempest_test_whitelist variable from minimal
featureset and add the tempest_allowed_group variable, that triggers the
tempest_allow task on tempest playbook. This way, the tests to be
executed are no longer set in the featureset file, but instead in the
openstack-tempest-skiplist.

Depends-On:
https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/807841

Change-Id: I3cd51f8ee987463e3bb52de5cb2959860cba5079
"
openstack%2Ftripleo-quickstart~master~I94a8258a05e08e184e7c201f9a7b2f7e533f0501,openstack/tripleo-quickstart,master,ansible-core,I94a8258a05e08e184e7c201f9a7b2f7e533f0501,WIP - Remove ansible-core package,ABANDONED,2022-02-16 14:44:03.000000000,2022-06-13 12:36:27.000000000,,2,0,0,829550,9c08ecf9375c71f5ade49194ee6df26ab5190e07,9,2,2,2,8367,Arx Cruz,arxcruz,"WIP - Remove ansible-core package

This package is having conflict with ansible package

Change-Id: I94a8258a05e08e184e7c201f9a7b2f7e533f0501
"
openstack%2Frequirements~master~I70159a39f67e0934ecd75ade3e9238db6fe73df3,openstack/requirements,master,new-release,I70159a39f67e0934ecd75ade3e9238db6fe73df3,update constraint for XStatic-Angular to new release 1.8.2.1,ABANDONED,2021-06-02 15:47:00.000000000,2022-06-13 12:19:23.000000000,,1,1,1,794258,6c191902e6e81e24dca6b8260ea4fc27f68234cf,40,4,3,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for XStatic-Angular to new release 1.8.2.1

meta: version: 1.8.2.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: manchandavishal <manchandavishal143@gmail.com>
meta: release:Commit: manchandavishal <manchandavishal143@gmail.com>
meta: release:Change-Id: I578ebb8f5d0d4da8f1b647fe15b51e68c1b87cd0
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I70159a39f67e0934ecd75ade3e9238db6fe73df3
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fheat~master~Ib54f5944cfd803baa4044858c097fc71f1ffb789,openstack/heat,master,fix-queue-config,Ib54f5944cfd803baa4044858c097fc71f1ffb789,zuul: Declare queue at top level,MERGED,2022-06-13 00:49:21.000000000,2022-06-13 12:18:08.000000000,2022-06-13 12:14:30.000000000,1,1,1,845514,4a898171f0b512518aa94dbcdd58cfc707630af9,11,2,2,1,9816,Takashi Kajinami,kajinamit,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: Ib54f5944cfd803baa4044858c097fc71f1ffb789
"
openstack%2Fheat~master~I5073a67df7a0b73dac21de4302743712f5541941,openstack/heat,master,drop-py3-6-7,I5073a67df7a0b73dac21de4302743712f5541941,Update python testing as per zed cycle teting runtime,MERGED,2022-06-04 03:39:59.000000000,2022-06-13 12:16:44.000000000,2022-06-13 12:14:26.000000000,7,4,1,844665,e2425a94a63ea0adee0993efc6205c76256ec724,11,4,1,3,27190,Leopard Ma,LeopardMa,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I5073a67df7a0b73dac21de4302743712f5541941
"
openstack%2Ftripleo-quickstart~master~I06ec558d905e7bb2835fa8d882b72c2b867f70c8,openstack/tripleo-quickstart,master,os-tempest-everywhere,I06ec558d905e7bb2835fa8d882b72c2b867f70c8,Remove run_tempest and use_os_tempest variables from featuresets,ABANDONED,2021-01-06 15:25:51.000000000,2022-06-13 12:15:04.000000000,,0,166,0,769554,d068956f39cce900359d3b0c76b40d474113329c,11,11,2,14,8367,Arx Cruz,arxcruz,"Remove run_tempest and use_os_tempest variables from featuresets

The run_tempest variable is no longer required since we are moving
everything to os_tempest and deprecating the validate-tempest role.
The use_os_tempest is default to true, so it is only required to be set
when you don't want to run tempest.

Change-Id: I06ec558d905e7bb2835fa8d882b72c2b867f70c8
"
openstack%2Ftripleo-quickstart~master~I5a180750305f97c01f565ae74a8fabb99275bd29,openstack/tripleo-quickstart,master,bug/1915778,I5a180750305f97c01f565ae74a8fabb99275bd29,Remove old validate-tempest variable,ABANDONED,2021-02-16 09:51:24.000000000,2022-06-13 12:14:36.000000000,,0,12,0,775785,a487a4990d30b0d05949d44f9b3504714c3781a1,15,4,1,2,8367,Arx Cruz,arxcruz,"Remove old validate-tempest variable

The variables removed in this patch are no longer required, and it's
causing failures on collect-logs because when the role dump_vars are
called, and try to access the tempest_skip_victoria.yml it fails since
this file doesn't exist. Everything is being handled by tempest-skip
now.

Closes-Bug: #1915778
Change-Id: I5a180750305f97c01f565ae74a8fabb99275bd29
"
openstack%2Fkolla-ansible~master~Ic4b3ab60abad8c3dd96cd4923a67f2a8f9d195d7,openstack/kolla-ansible,master,,Ic4b3ab60abad8c3dd96cd4923a67f2a8f9d195d7,Add keystone_authtoken.service_type,MERGED,2022-03-16 15:19:13.000000000,2022-06-13 11:53:18.000000000,2022-06-13 11:51:57.000000000,37,0,20,834035,49006e56d99199b696bd762eb3167dbba42237e1,29,6,3,32,28048,Will Szumski,jovial,"Add keystone_authtoken.service_type

Fixes an issue where access rules failed to validate:

    Cannot validate request with restricted access rules. Set
    service_type in [keystone_authtoken] to allow access rule validation

I've used the values from the endpoint. This was mostly a straight
forward copy and paste, except:

- versioned endpoints e.g cinderv3 where I stripped the version
- monasca has multiple endpoints associated with a single service. For
  this, I concatenated logging and monitoring to be logging-monitoring.

Closes-Bug: #1965111
Change-Id: Ic4b3ab60abad8c3dd96cd4923a67f2a8f9d195d7
"
openstack%2Fmanila-image-elements~master~I9b4c134ecc9279487e253fa3bc38ae32fe487ac6,openstack/manila-image-elements,master,zorilla-meets-jellyfish,I9b4c134ecc9279487e253fa3bc38ae32fe487ac6,Switch ubuntu image to Jammy Jellyfish,MERGED,2022-05-10 12:56:07.000000000,2022-06-13 11:46:06.000000000,2022-06-13 11:46:06.000000000,3,3,16,841264,8cd2097190a5b9de404ae73482556e35a598c85e,45,6,7,3,16643,Goutham Pacha Ravi,gouthamr,"Switch ubuntu image to Jammy Jellyfish

Move to the 22.04 LTS release. Also stop installing
python2, since its EOL.

Depends-On: Idd3e6a6fdb8cf13727cd674c76efd89b3aacfc52
Change-Id: I9b4c134ecc9279487e253fa3bc38ae32fe487ac6
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Ftripleo-ci~master~I7212700237c99e3eb4af8193807463b57c082971,openstack/tripleo-ci,master,workaround_py36,I7212700237c99e3eb4af8193807463b57c082971,Install python3-tripleoclient for RHEL-8,ABANDONED,2022-06-13 06:03:11.000000000,2022-06-13 11:24:46.000000000,,10,0,0,845544,e170ca9af40d823f725fb013f573b3238ea7eddc,7,2,3,2,12393,chandan kumar,chkumar246,"Install python3-tripleoclient for RHEL-8

For RHOS-17 RHEL-8, Downstream release file is not used
so python3-tripleoclient is not getting installed.

During runtime, DIB pulls python3-flake8 which is incompatible
due to missing dependencies and broke the installation of DIB.

Let python3-tripleoclient handles the installation of DIB.

https://opendev.org/openstack/tripleo-ci/commit/6d7eaa96f73f348ecdd8b63c8a31ad64e2411119
removed the installation of python3-tripleoclient.

So adding it back fixes the issue.

Related-Bug: #1977888

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I7212700237c99e3eb4af8193807463b57c082971
"
openstack%2Ftripleo-quickstart~master~Id0958857aec97cd897a42bf0f9a2b144f9cb2ba4,openstack/tripleo-quickstart,master,bug/1977888,Id0958857aec97cd897a42bf0f9a2b144f9cb2ba4,Install libselinux-3.4-2 from centos-compose,ABANDONED,2022-06-08 13:44:17.000000000,2022-06-13 11:24:42.000000000,,34,4,4,845137,aa46ad42c524b44b8bd558a3a81c0ef9d71fd138,28,6,5,4,12393,chandan kumar,chkumar246,"Install libselinux-3.4-2 from centos-compose

libselinux-3.4-1.el9.x86_64.rpm broke the check, gate and
integration CS9 line.

The fix will be available in libselinux-3.4-2 (will take some time to
available on AFS mirror), till then we need to install it from
the CentOS Stream production compose itself.

The fix is copied from
https://review.opendev.org/c/openstack/diskimage-builder/+/845189

Related-Bug: #1977888

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Id0958857aec97cd897a42bf0f9a2b144f9cb2ba4
"
openstack%2Ftripleo-heat-templates~master~Ic3199c9a20c0ed7ab060b7287556ee5f994bab67,openstack/tripleo-heat-templates,master,,Ic3199c9a20c0ed7ab060b7287556ee5f994bab67,Fix run_after of certs_requests in modular libvirt,MERGED,2022-05-19 15:41:36.000000000,2022-06-13 10:59:30.000000000,2022-06-13 10:59:30.000000000,2,4,9,842554,5e314d9f79fb4b183cf7b1cb4eed3744140ee172,35,10,2,1,6926,Bogdan Dobrelya,bogdando,"Fix run_after of certs_requests in modular libvirt

When changing the /etc/pki/qemu certs, there is no need to
restart/reload any (modular libvirt) service. Those certs are either
loaded when QEMU VM is booted, or dynamically loaded into QEMU when a
live migration takes place. For the libvirt certs in /etc/pki/libvirt
though we need to either restart 'libvirtd.service' (what we already
do in the monolithic world), or restart 'virtproxyd.service' (modular
world). No need to restart 'virtqemud.service in modular world.

Before reloading container via systemctl, attempt a more graceful
virt-admin command to reload certificates.

Related: rhbz#2088515
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: Ic3199c9a20c0ed7ab060b7287556ee5f994bab67
"
openstack%2Ftripleo-heat-templates~master~Ie84e754645b4bcae29a1a05639d39b96a2955623,openstack/tripleo-heat-templates,master,horizon-syntax,Ie84e754645b4bcae29a1a05639d39b96a2955623,Fix a syntax error in Horizon's Apache config,MERGED,2022-06-08 11:57:14.000000000,2022-06-13 10:58:32.000000000,2022-06-13 10:58:32.000000000,1,1,4,845121,f5963e2363745e00990950d8a083b6bb269b58a9,19,7,2,1,8648,Radomir Dopieralski,thesheep,"Fix a syntax error in Horizon's Apache config

A change I470c4c26f6d9977ba68a5d6eb9cd2c35af9e4b9a in the Apache access
log format for Horizon introduced a syntax error by adding an unbalanced
double quote, which makes the Horizon container crash.

This removes that double quote character.

Closes-Bug: #1977816
Change-Id: Ie84e754645b4bcae29a1a05639d39b96a2955623
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I37896e2ec465a9c05ec30855c990deb07a01b00f,openstack/tripleo-heat-templates,stable/wallaby,845091,I37896e2ec465a9c05ec30855c990deb07a01b00f,[only-wallaby] Fix the ceph-ansible package remove task,MERGED,2022-06-08 07:06:33.000000000,2022-06-13 10:58:28.000000000,2022-06-13 10:58:28.000000000,1,0,5,845091,a8f378c2080dab6fde930d8ba64c3101bbf997e6,21,7,3,1,25402,Francesco Pantano,fmount,"[only-wallaby] Fix the ceph-ansible package remove task

This patch just fix the ansible task used to remove ceph-ansible
in the undercloud after the cephadm adoption.

Closes-Bug: #1977930
Change-Id: I37896e2ec465a9c05ec30855c990deb07a01b00f
"
openstack%2Fos-brick~master~Iad7fc4ca66da54e9b60e770236736626820283ef,openstack/os-brick,master,jobs,Iad7fc4ca66da54e9b60e770236736626820283ef,Updating tests with Zed testing runtime,ABANDONED,2022-05-17 01:22:10.000000000,2022-06-13 10:53:47.000000000,,1,1,3,842017,953e3b661bf049f4fb2dc813cfdef1932c525d27,16,3,1,1,32029,likui,likui,"Updating tests with Zed testing runtime

Change-Id: Iad7fc4ca66da54e9b60e770236736626820283ef
"
openstack%2Fpython-heatclient~master~I8e5777a34f4de61031830490c7db517761e0f2b2,openstack/python-heatclient,master,remove-six,I8e5777a34f4de61031830490c7db517761e0f2b2,[part1] remove six,ABANDONED,2020-12-01 02:23:33.000000000,2022-06-13 10:52:45.000000000,,88,86,1,764871,07dd981bed5f43cdab878dc309908281a9f53089,4,2,1,7,32029,likui,likui,"[part1] remove six

Replace the following items with Python 3 style code.

Remove six in follows:
  - six.BytesIO
  - six.StringIO

Change-Id: I8e5777a34f4de61031830490c7db517761e0f2b2
"
openstack%2Fnetworking-bgpvpn~master~Ic3385b89478af84c09bf3663b3afc9180f1c51d8,openstack/networking-bgpvpn,master,drop-l-c,Ic3385b89478af84c09bf3663b3afc9180f1c51d8,Drop lower-constraints.txt and its testing,ABANDONED,2022-06-01 14:42:12.000000000,2022-06-13 10:52:08.000000000,,0,208,1,844308,1dfb0dd15aba2453e4b3a6e7cd8f9539509cee56,4,2,1,3,32029,likui,likui,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ic3385b89478af84c09bf3663b3afc9180f1c51d8
"
openstack%2Fglance~master~Ic495c0e58b9d471da64eb0826889d654716927e0,openstack/glance,master,bug/1962480,Ic495c0e58b9d471da64eb0826889d654716927e0,Update api-ref: versions response for master branch,ABANDONED,2022-06-12 23:45:54.000000000,2022-06-13 10:48:59.000000000,,102,1,0,845511,3d48737852a4d7a42812ad8722e7669c6aeb0153,4,2,1,2,33493,chenwei,chenwei,"Update api-ref: versions response for master branch

Closes bug: #1962480

Change-Id: Ic495c0e58b9d471da64eb0826889d654716927e0
"
openstack%2Fnetworking-bgpvpn~master~Id8912276036fe3b3a753ba0d3b860aa86e7759de,openstack/networking-bgpvpn,master,drop-l-c,Id8912276036fe3b3a753ba0d3b860aa86e7759de,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:29:19.000000000,2022-06-13 10:42:47.000000000,2022-06-13 10:40:14.000000000,4,208,0,840095,6d7b5d75d2dcc5040f777c2e64175aa5cb124054,9,3,1,4,8556,Ghanshyam,ghanshyam,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Id8912276036fe3b3a753ba0d3b860aa86e7759de
"
openstack%2Fkuryr-kubernetes~master~Ie9bb46467a249e1c0ada3a9810c4fff59fd57757,openstack/kuryr-kubernetes,master,rm-kuryrnetpolicy,Ie9bb46467a249e1c0ada3a9810c4fff59fd57757,Get rid of obsolete KuryrNetPolicy CRD.,MERGED,2022-06-02 12:03:41.000000000,2022-06-13 10:30:34.000000000,2022-06-13 10:29:20.000000000,4,29,4,844427,a38d764ffc164e0005503ddcc854df4853edb5ec,22,4,2,6,13692,Roman Dobosz,gryf,"Get rid of obsolete KuryrNetPolicy CRD.

There are some of the mentions of KuryrNetPolicy around our code. In
this patch we are removing it (with one exception - the spec for
originally designed CRD for network policy handling), just to avoid
confusion with currently used KuryrNetworkPolicy.

Change-Id: Ie9bb46467a249e1c0ada3a9810c4fff59fd57757
"
openstack%2Fopenstack-ansible~master~I4f65c13a7dd16a66b2b14ae545516533f5ec69e1,openstack/openstack-ansible,master,837742,I4f65c13a7dd16a66b2b14ae545516533f5ec69e1,Add ability to define bridge type for containers,MERGED,2022-04-13 16:08:35.000000000,2022-06-13 10:13:50.000000000,2022-06-13 10:09:40.000000000,26,13,5,837742,21dd4e6c5de64268deda01324c58aacc8d7b13ad,32,4,10,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add ability to define bridge type for containers

This change allows to define `container_bridge_type` among provider_networks to
provide type of bridge being used (ie ovs).

Documentaion on usage will be provided in following patch.

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/837734
Change-Id: I4f65c13a7dd16a66b2b14ae545516533f5ec69e1
"
openstack%2Fopenstack-ansible~master~I381752ac0bcd7faf5bbdc2d929ce2a9a0a3f1488,openstack/openstack-ansible,master,,I381752ac0bcd7faf5bbdc2d929ce2a9a0a3f1488,Replace glance_nfs_client,MERGED,2022-04-12 11:07:00.000000000,2022-06-13 10:11:24.000000000,2022-06-13 10:09:37.000000000,52,68,3,837551,f40abfa2f413476802c50bd502e9694640ca2550,15,4,2,7,28619,Dmitriy Rabotyagov,noonedeadpunk,"Replace glance_nfs_client

We should reflect changes introduced in dependant patch for CI
to test new variable properly.

Until this patch gets merged dependant patch runs compatability
mode check (testing old glance_nfs_client). All futher checks would run
with new glance_remote_client variable defined.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/837550
Change-Id: I381752ac0bcd7faf5bbdc2d929ce2a9a0a3f1488
"
openstack%2Fopenstack-tempest-skiplist~master~I84745e8166232faa2fb0c485c1ee596d4e6497f9,openstack/openstack-tempest-skiplist,master,tempest_allow_list,I84745e8166232faa2fb0c485c1ee596d4e6497f9,Add fs10 to tempest-allow,MERGED,2022-05-30 05:51:54.000000000,2022-06-13 10:00:49.000000000,2022-06-13 09:59:19.000000000,8,2,5,843769,8bf53d9dae0b1fe9b32422bb2fcaec4b3513238b,14,5,2,1,30742,Soniya Murlidhar Vyas,svyas,"Add fs10 to tempest-allow

Change-Id: I84745e8166232faa2fb0c485c1ee596d4e6497f9
"
openstack%2Fneutron-fwaas~master~If3a6ae3ae3d8d4e87fcb864ba2edf4d1aba6b25e,openstack/neutron-fwaas,master,setup-dashes,If3a6ae3ae3d8d4e87fcb864ba2edf4d1aba6b25e,setup.cfg: Replace dashes with underscores,MERGED,2022-06-04 01:59:58.000000000,2022-06-13 09:59:03.000000000,2022-06-13 09:57:45.000000000,4,4,0,844648,b4519b3bbbaf33556d88135c26f6c6d2450cc06d,9,3,1,1,29870,sunxifa,sunxifa,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: If3a6ae3ae3d8d4e87fcb864ba2edf4d1aba6b25e
"
openstack%2Ftap-as-a-service~master~If04bce0a49fcffcd11dae18973cbcf570009c2bb,openstack/tap-as-a-service,master,,If04bce0a49fcffcd11dae18973cbcf570009c2bb,setup.cfg: Replace dashes with underscores,MERGED,2022-06-04 03:13:02.000000000,2022-06-13 09:57:05.000000000,2022-06-13 09:57:05.000000000,3,3,0,844658,53d353bfbccccfe4b740f4fa6d00d788a2b7312a,6,2,1,1,32921,Reason li,liyou01,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: If04bce0a49fcffcd11dae18973cbcf570009c2bb
"
openstack%2Fneutron-fwaas~master~Ib0e091cd594d2344b57c883dd01e1b6e7d7e4bf2,openstack/neutron-fwaas,master,revive-neutron-fwaas,Ib0e091cd594d2344b57c883dd01e1b6e7d7e4bf2,"[doc]remove warning for ""deprecate this project""",MERGED,2022-06-03 01:29:29.000000000,2022-06-13 09:56:09.000000000,2022-06-13 09:54:32.000000000,0,8,0,844535,64a02d2e98cd08acc775d056dc97bc00b1473424,9,3,2,1,30380,ZhouHeng,zhouhenglc,"[doc]remove warning for ""deprecate this project""

We have revived the neutron-fwaas project[1], we shoulod remove
the warning in README.rst.

[1] https://review.opendev.org/c/openstack/neutron-fwaas/+/828149

Change-Id: Ib0e091cd594d2344b57c883dd01e1b6e7d7e4bf2
"
openstack%2Fneutron-fwaas-dashboard~master~Ie64ec28a2c4b75c191670ca1ddd52781baa59f38,openstack/neutron-fwaas-dashboard,master,,Ie64ec28a2c4b75c191670ca1ddd52781baa59f38,"[doc]remove warning for ""deprecate this project""",MERGED,2022-06-03 01:30:52.000000000,2022-06-13 09:53:58.000000000,2022-06-13 09:52:46.000000000,0,8,0,844536,fa982592a0bd7989712aea9bbd6352b44c52f9d3,9,3,2,1,30380,ZhouHeng,zhouhenglc,"[doc]remove warning for ""deprecate this project""

We have revived the neutron-fwaas-dashboard project[1], we
shoulod remove the warning in README.rst.

[1] https://review.opendev.org/c/openstack/neutron-fwaas-dashboard/+/828398

Change-Id: Ie64ec28a2c4b75c191670ca1ddd52781baa59f38
"
openstack%2Fopenstack-tempest-skiplist~master~Ibedca54923d3796521ed10b29f8ba9ccad079511,openstack/openstack-tempest-skiplist,master,bug/1960310,Ibedca54923d3796521ed10b29f8ba9ccad079511,"Revert ""Skip compute testes that are failing to detach volume""",NEW,2022-03-15 12:24:11.000000000,2022-06-13 09:50:48.000000000,,0,54,1,833742,733cfac5bea7b6737f269647e8efbd5ea99a88e8,11,4,4,1,30002,Douglas Viroel,dviroel,"Revert ""Skip compute testes that are failing to detach volume""

This reverts commit 416e1393380abff01a450415799cad2a80f014d9.

Reason for revert: Tempest fixed to solve this issue

Change-Id: Ibedca54923d3796521ed10b29f8ba9ccad079511
"
openstack%2Freleases~master~Ibff562f6588316aa1d52fefeda1b16b987d3eaaf,openstack/releases,master,oslo-xena,Ibff562f6588316aa1d52fefeda1b16b987d3eaaf,[xena] Release oslo.vmware 3.9.3,ABANDONED,2022-06-08 15:31:06.000000000,2022-06-13 09:46:22.000000000,,4,0,2,845153,7f339da27a46598e346df59ed9069675bdbb9d74,6,3,1,1,28522,Hervé Beraud,hberaud,"[xena] Release oslo.vmware 3.9.3

Change-Id: Ibff562f6588316aa1d52fefeda1b16b987d3eaaf
"
openstack%2Fmistral-tempest-plugin~master~Ibd38f43f37fdfeccd02a9699bedad61a436ca6a3,openstack/mistral-tempest-plugin,master,master2,Ibd38f43f37fdfeccd02a9699bedad61a436ca6a3,add delete nonexist workbook testcase,NEW,2022-06-13 06:19:51.000000000,2022-06-13 09:35:13.000000000,,6,0,1,845545,422a176084100db415f37eca3bfc2693c08ce6e3,4,1,1,1,30409,wangzhiguang,wangzhiguang,"add delete nonexist workbook testcase

add delete nonexist workbook testcase in mistral module

Change-Id: Ibd38f43f37fdfeccd02a9699bedad61a436ca6a3
"
openstack%2Ftripleo-ansible~master~I1ee53976ecc63d206d9604c896b1bb59807ad9ff,openstack/tripleo-ansible,master,bug/1978356,I1ee53976ecc63d206d9604c896b1bb59807ad9ff,Use lowercase hostname in inventory network config,MERGED,2022-06-10 21:52:25.000000000,2022-06-13 09:33:29.000000000,2022-06-13 09:31:15.000000000,7,1,3,845486,0056c2b8970a3f6d6317edcdf2372ff32c29de85,16,5,3,2,24245,Harald Jensås,harald.jensas,"Use lowercase hostname in inventory network config

The ansible inventory uses the neutron port dns_name as
hostname. The `dns_name` in neutron is always lowercase.
If a hostname with one or more capital letters are used in
baremetal deployment YAML the data lookup from `inventory-
network-config.yaml` does not succeed.

This change fixes this issue by converting the hostname to
lowercase when creating the content for `inventory-network-
config.yaml`

Closes-Bug: #1978356
Change-Id: I1ee53976ecc63d206d9604c896b1bb59807ad9ff
"
openstack%2Ftripleo-ansible~master~Icb4b52f7922cf0eec3f5317db2051896e583d83e,openstack/tripleo-ansible,master,bug/1978360,Icb4b52f7922cf0eec3f5317db2051896e583d83e,Fix port idempotency when uppercase in hostname,MERGED,2022-06-10 22:45:04.000000000,2022-06-13 09:32:30.000000000,2022-06-13 09:31:12.000000000,12,3,2,845487,04891f08a3b7c0de3708ef11722d205d17196fda,14,5,2,2,24245,Harald Jensås,harald.jensas,"Fix port idempotency when uppercase in hostname

When uppercase characters where used in instance hostname,
new port was created each time node provisioning ran.

Fix this issue by converting instance hostname to lowercase
so that it can be compared to neutron port `dns_name` property
which is always lowercase.

Closes-Bug: #1978360
Change-Id: Icb4b52f7922cf0eec3f5317db2051896e583d83e
"
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~If2cf7251609da30f771e2e3c5c97457ded9eb1d3,openstack/tripleo-puppet-elements,stable/wallaby,service-cleanup-stable/wallaby,If2cf7251609da30f771e2e3c5c97457ded9eb1d3,Remove zaqar,MERGED,2022-06-02 05:54:12.000000000,2022-06-13 09:31:17.000000000,2022-06-13 09:31:17.000000000,3,7,6,844367,4b5fabdf54846206f4f8e940670aad8e5f3079fe,19,4,3,2,9816,Takashi Kajinami,kajinamit,"Remove zaqar

Backport note:
The change in the puppet-modules element was covered by a different
commit d6f724f491fd4d32c4d984aab5765a155bcb333c , so this backport only
covers the other elements.

Change-Id: If2cf7251609da30f771e2e3c5c97457ded9eb1d3
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/811195
(cherry picked from commit 8fb012a96ebacc6f9ef93732467fa6ab26f67d64)
"
openstack%2Ftripleo-ansible~master~I69050773472e25f49878c18a2ac4922a9aed8892,openstack/tripleo-ansible,master,bug/1978362,I69050773472e25f49878c18a2ac4922a9aed8892,Ensure lowercase hostname in NodePortMap,MERGED,2022-06-10 23:57:31.000000000,2022-06-13 09:24:03.000000000,2022-06-13 09:22:51.000000000,7,1,0,845489,f83c9e0cae99642a8525ee169ae2f500bef16f30,11,5,2,2,24245,Harald Jensås,harald.jensas,"Ensure lowercase hostname in NodePortMap

When a node's hostnae contain uppercase characters the
RoleNetIpMap will have missing entries.

Since hostname is case insensitive, convert to lowercase
when creating the NodePortMap to ensure the lookups in
THT succeedes.

Closes-Bug: #1978362
Change-Id: I69050773472e25f49878c18a2ac4922a9aed8892
"
openstack%2Fmistral-tempest-plugin~master~I9e2158b2b7ce1b85c8f1467ac973ad05d02870a1,openstack/mistral-tempest-plugin,master,master3,I9e2158b2b7ce1b85c8f1467ac973ad05d02870a1,perfect invalid cron pattern out of range test scenarios,NEW,2022-06-13 07:13:10.000000000,2022-06-13 09:20:47.000000000,,12,0,0,845554,5f5ccbcd380797f278040058c82d389e85e46be5,4,1,2,1,30409,wangzhiguang,wangzhiguang,"perfect invalid cron pattern out of range test scenarios

add minute, day, and month our of range tests to the original
testcase that only have a second out of range in mistral module

Change-Id: I9e2158b2b7ce1b85c8f1467ac973ad05d02870a1
"
openstack%2Fnova~master~Ia90838204efa8d780db488b62e6eaf23e6dd3146,openstack/nova,master,bug/1977668,Ia90838204efa8d780db488b62e6eaf23e6dd3146,Fix the exception message for duplicate pgpu addresses,ABANDONED,2022-06-05 01:37:00.000000000,2022-06-13 08:39:16.000000000,,12,1,8,844716,a4bfff0ce9efdf5744dd95a43799be0afe4faef7,25,7,3,2,31412,Wenping Song,songwenping,"Fix the exception message for duplicate pgpu addresses

When config one vgpu type and multiple pgpu pci addresses, nova-compute raise
the exception message is: duplicate types for PCI ID 0000:85:00.0, i would
like the exception message is: duplicate PCI ID for vgpu type nvidia-181.
      [devices]
      enabled_mdev_types = nvidia-181

      [mdev_nvidia-181]
      device_addresses = 0000:84:00.0,0000:85:00.0

Closed-Bug: #1977668
Change-Id: Ia90838204efa8d780db488b62e6eaf23e6dd3146
"
openstack%2Ftripleo-quickstart~master~I76cbbb5d0461ff808b09a64eab031367e0b27c82,openstack/tripleo-quickstart,master,bug/1977888,I76cbbb5d0461ff808b09a64eab031367e0b27c82,"Revert ""[Workaround] Pull openstack-selinux from common component repo""",MERGED,2022-06-10 22:59:45.000000000,2022-06-13 08:21:28.000000000,2022-06-13 08:20:07.000000000,0,36,0,845391,424845d245c42327e72f8b51fc12140cf6f385c7,12,8,1,2,9976,Ronelle Landy,rlandy,"Revert ""[Workaround] Pull openstack-selinux from common component repo""

This reverts commit aa8efa86a561b5544d8221bd2e657f2de53ae415.

Reason for revert: master and wallaby c9 promoted

Change-Id: I76cbbb5d0461ff808b09a64eab031367e0b27c82
"
openstack%2Fceilometer~master~I0268b9637618aea5113b49d872e7fbfcbaf76231,openstack/ceilometer,master,,I0268b9637618aea5113b49d872e7fbfcbaf76231,Rename a release note file,MERGED,2022-06-13 07:06:35.000000000,2022-06-13 08:16:22.000000000,2022-06-13 08:15:10.000000000,0,0,1,845549,bf263b11181f4e44850e991282766b3bdf4f41e1,8,2,1,1,9816,Takashi Kajinami,kajinamit,"Rename a release note file

This change is follow-up of 074699225992ddc75c5e6ae9a8897c9301071bab
and renames the release note file added by the commit, to use only
normal characters in the file name.

Change-Id: I0268b9637618aea5113b49d872e7fbfcbaf76231
"
openstack%2Faodh~master~I6a78a749c2b2f03195dae3390c54663632cc8069,openstack/aodh,master,,I6a78a749c2b2f03195dae3390c54663632cc8069,Migrate evaluation_interval to [evaluator],MERGED,2022-04-14 12:51:21.000000000,2022-06-13 07:57:09.000000000,2022-06-13 07:55:53.000000000,20,10,4,837864,9ff2b4e8f4a54e4024d55499f49c1f4e67b57b0e,14,3,1,4,9816,Takashi Kajinami,kajinamit,"Migrate evaluation_interval to [evaluator]

... because this parameter is specific to aodh-evaluator and not used
by the other services.

Change-Id: I6a78a749c2b2f03195dae3390c54663632cc8069
"
openstack%2Fsahara~master~Ie4fa881c2f747f40c7e03ef8205638f4a34f34a5,openstack/sahara,master,,Ie4fa881c2f747f40c7e03ef8205638f4a34f34a5,Update python testing as per zed cycle teting runtime,NEW,2022-06-06 02:45:32.000000000,2022-06-13 07:56:08.000000000,,2,3,1,844760,441fda65798d0ee5009f063cb124fe2be34de947,6,2,3,1,33881,LiZekun,joeylee666666,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Ie4fa881c2f747f40c7e03ef8205638f4a34f34a5
"
openstack%2Faodh~master~I667ed60cbf751b1668b86bf7be0b946fe6d84f60,openstack/aodh,master,,I667ed60cbf751b1668b86bf7be0b946fe6d84f60,Deprecate unused [DEFAULT] http_timeout,MERGED,2022-04-14 12:46:21.000000000,2022-06-13 07:36:59.000000000,2022-06-13 07:35:42.000000000,8,0,4,837863,12ee78cdef1b3ca26ada16f05af795f5ad4f3da4,16,3,1,2,9816,Takashi Kajinami,kajinamit,"Deprecate unused [DEFAULT] http_timeout

This parameter has never been used by any logic since Aodh was splitted
out from Ceilometer.

Change-Id: I667ed60cbf751b1668b86bf7be0b946fe6d84f60
"
openstack%2Fheat~master~Ic728739a5af454d8a8a34d0840a651300b9c5b21,openstack/heat,master,drop-py3-6-7,Ic728739a5af454d8a8a34d0840a651300b9c5b21,Update python testing as per zed cycle testing runtime,ABANDONED,2022-06-07 14:52:24.000000000,2022-06-13 07:12:19.000000000,,7,4,0,844996,815a35ff6114e07980841b1bcc333ddd7d2467b8,5,2,1,3,9816,Takashi Kajinami,kajinamit,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Co-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>
Change-Id: Ic728739a5af454d8a8a34d0840a651300b9c5b21
"
openstack%2Fceilometer~master~Ieec37d300bca0c78f9420657066b1c60a64911e9,openstack/ceilometer,master,drop-py3-6-7,Ieec37d300bca0c78f9420657066b1c60a64911e9,Update python testing as per zed cycle testing runtime,MERGED,2022-06-07 23:12:27.000000000,2022-06-13 07:08:19.000000000,2022-06-13 06:58:55.000000000,7,4,3,845058,074699225992ddc75c5e6ae9a8897c9301071bab,14,3,3,3,9816,Takashi Kajinami,kajinamit,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Co-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>
Change-Id: Ieec37d300bca0c78f9420657066b1c60a64911e9
"
openstack%2Ftripleo-docs~master~I4d56e8628f17a85695233a7d98a990d8586a6939,openstack/tripleo-docs,master,bug/1956638,I4d56e8628f17a85695233a7d98a990d8586a6939,Change error link in tripleo,MERGED,2022-06-12 08:03:38.000000000,2022-06-13 07:04:36.000000000,2022-06-13 07:03:24.000000000,1,1,1,845497,43b6de4539b37f787ea9331170a14f66129d9d0b,12,7,1,1,33493,chenwei,chenwei,"Change error link in tripleo

Closed bug: #1956638

Change-Id: I4d56e8628f17a85695233a7d98a990d8586a6939
"
openstack%2Fneutron~master~Ib51764778a666050c42de0dfeb9bf9b185d44bb7,openstack/neutron,master,bug/1973347,Ib51764778a666050c42de0dfeb9bf9b185d44bb7,"Skip ""PortBindingChassisEvent"" if revision number changes",MERGED,2022-05-17 15:56:04.000000000,2022-06-13 06:57:08.000000000,2022-06-06 23:37:27.000000000,93,6,23,842147,32e8303b3b21e047abcf365c3999cb7379467b0c,55,9,7,4,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Skip ""PortBindingChassisEvent"" if revision number changes

Since [1], the ""external_ids"" of the NB Logical_Router_Port register
are copied into the SB Port_Binding ""external_ids"". When a change
in a Port_Binding register is received, if only the
""external_ids:revision_number"" is changed, we skip any update on the
related Logical_Router_Port.

If not, that will lead to an infinite loop: Neutron will update
the Logical_Router_Port with a new revision number and OVN will
copy this new revision number to the SB register, triggering again
the update of the NB Logical_Router_Port

[1]https://www.mail-archive.com/ovs-dev@openvswitch.org/msg62836.html

Closes-Bug: #1973347
Change-Id: Ib51764778a666050c42de0dfeb9bf9b185d44bb7
"
openstack%2Fglance_store~master~I42404fd34b71b977e39eb7888baf60d18bc25931,openstack/glance_store,master,,I42404fd34b71b977e39eb7888baf60d18bc25931,Remove unicode literal strings,ABANDONED,2022-06-07 06:05:42.000000000,2022-06-13 06:39:59.000000000,,26,26,1,844909,43cfca9bd50ce4d90eb0b3a80959489575106eb8,4,1,1,7,34665,anguoming,guomingan,"Remove unicode literal strings

Change-Id: I42404fd34b71b977e39eb7888baf60d18bc25931
"
openstack%2Fmagnum~master~I1a76645e94cb3c612591a0ed349a1aa4649fadeb,openstack/magnum,master,ipv6-dual-subnet,I1a76645e94cb3c612591a0ed349a1aa4649fadeb,[WIP] Support IPv6 dual subnet,NEW,2021-07-26 08:17:42.000000000,2022-06-13 05:32:18.000000000,,110,23,1,802235,7cc2aa9e5e0e84d0f5349c5a866a7c5b4eb7ecd9,6,3,2,7,28022,Bharat Kunwar,brtknr,"[WIP] Support IPv6 dual subnet

Change-Id: I1a76645e94cb3c612591a0ed349a1aa4649fadeb
"
openstack%2Fcinder~master~Ic4918c04493360a5913c8f4854bb44b6048af264,openstack/cinder,master,,Ic4918c04493360a5913c8f4854bb44b6048af264,Remove redundant line from host_manager.py,MERGED,2022-06-07 08:09:10.000000000,2022-06-13 05:31:28.000000000,2022-06-08 10:11:16.000000000,0,1,2,844920,52d6fb4acff7000fe52379ce2d57d5d949d7e32e,52,3,1,1,27615,Rajat Dhasmana,whoami-rajat,"Remove redundant line from host_manager.py

With change[1], we introduced a redundant line in
cinder/scheduler/host_manager.py
This patch removes it.

[1] I07d74078dbb102490dd722029e32c74cec3aa44c

Change-Id: Ic4918c04493360a5913c8f4854bb44b6048af264
"
openstack%2Fneutron~master~I69796e5a0f88a51765af9a230f13463470744923,openstack/neutron,master,ovn-grenade-fixes,I69796e5a0f88a51765af9a230f13463470744923,[DNM] Test multinode ovn grenade tick tick with fixes,ABANDONED,2022-04-01 11:22:05.000000000,2022-06-13 05:05:23.000000000,,8,36,7,836141,a9cffc0f9b76ecf96b1bce2bc9a48d8216282ee3,46,1,10,2,13861,yatin,yatinkarel,"[DNM] Test multinode ovn grenade tick tick with fixes

Depends-On: https://review.opendev.org/c/openstack/devstack/+/839334
Depends-On: https://review.opendev.org/c/openstack/devstack/+/839362
Depends-On: https://review.opendev.org/c/openstack/grenade/+/839407
Depends-On: https://review.opendev.org/c/openstack/devstack/+/844477
Change-Id: I69796e5a0f88a51765af9a230f13463470744923
"
openstack%2Fdesignate~master~I606fcc1d8f8f4fe74eecfc261f01f1b785f29f6e,openstack/designate,master,fix-queue-config,I606fcc1d8f8f4fe74eecfc261f01f1b785f29f6e,Do not declare queue at a pipeline level,MERGED,2022-06-13 01:03:28.000000000,2022-06-13 03:14:36.000000000,2022-06-13 03:12:06.000000000,0,1,4,845526,f0ccec12126d7c0fed128f9289ad50f98ea0a21f,11,3,1,1,9816,Takashi Kajinami,kajinamit,"Do not declare queue at a pipeline level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This removes pipeline-level declarations to use only
top-level ones.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I606fcc1d8f8f4fe74eecfc261f01f1b785f29f6e
"
openstack%2Frequirements~master~I0597eaeac0ddf6e6e40297ee8b20e2a0c5467e7b,openstack/requirements,master,openstack/requirements/constraints,I0597eaeac0ddf6e6e40297ee8b20e2a0c5467e7b,Updated from generate-constraints,ABANDONED,2022-06-13 02:42:38.000000000,2022-06-13 03:01:06.000000000,,17,16,0,845533,7af942e8fa62dfa500178da31bee9db602f5fa84,3,0,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I0597eaeac0ddf6e6e40297ee8b20e2a0c5467e7b
"
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I4628eba8680caf7dbe687982b846ca348d92aa6b,openstack/puppet-openstack-integration,stable/train,,I4628eba8680caf7dbe687982b846ca348d92aa6b,dnm: testing ...,ABANDONED,2022-06-12 23:59:50.000000000,2022-06-13 02:29:43.000000000,,1,1,0,845512,745844a43217334f6abf295518b5575502da0074,3,1,1,1,9816,Takashi Kajinami,kajinamit,"dnm: testing ...

Change-Id: I4628eba8680caf7dbe687982b846ca348d92aa6b
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~I51b09f7990438dd416752846bcd41195c69d4209,openstack/puppet-openstack_spec_helper,stable/train,,I51b09f7990438dd416752846bcd41195c69d4209,dnm: testing ...,ABANDONED,2022-06-13 01:12:35.000000000,2022-06-13 02:29:29.000000000,,1,0,0,845528,57f101299b829e2ccd6e21bc593f2c04557638d8,3,1,1,1,9816,Takashi Kajinami,kajinamit,"dnm: testing ...

Depends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/845512/
Change-Id: I51b09f7990438dd416752846bcd41195c69d4209
"
openstack%2Ftacker~master~Ic173bde521caccf0f683a1308d80de152bbe1c5f,openstack/tacker,master,revise-doc,Ic173bde521caccf0f683a1308d80de152bbe1c5f,Update API doc for paging large query results,MERGED,2022-03-31 03:13:39.000000000,2022-06-13 01:27:25.000000000,2022-06-13 01:25:53.000000000,21,0,19,835922,8b5969e459b862a5c2f5b0617489704d23e98d86,35,4,7,1,31813,Koichi Edagawa,k-edagawa,"Update API doc for paging large query results

This patch adds the description for paging large query results of
target NFV Orchestration APIs below supported in Yoga into the API
document.

 - {apiRoot}/vnflcm/v1/vnf_lcm_op_occs
 - {apiRoot}/vnflcm/v1/vnf_instances
 - {apiRoot}/vnflcm/v1/subscriptions

Change-Id: Ic173bde521caccf0f683a1308d80de152bbe1c5f
"
openstack%2Fbarbican-ui~master~I9bc6259c3be65fc030a5ae7874cf2748fc53c174,openstack/barbican-ui,master,fix-queue-config,I9bc6259c3be65fc030a5ae7874cf2748fc53c174,zuul: Declare queue at top level,NEW,2022-06-13 00:59:40.000000000,2022-06-13 01:08:36.000000000,,1,2,0,845523,7e88ff2ace570b3899ae0c5526a9cfa8aef0b45e,2,1,1,1,9816,Takashi Kajinami,kajinamit,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I9bc6259c3be65fc030a5ae7874cf2748fc53c174
"
openstack%2Fironic-lib~master~I11a8bb2f78e82af79afa7cff8950b4d01e9d7353,openstack/ironic-lib,master,fix-queue-config,I11a8bb2f78e82af79afa7cff8950b4d01e9d7353,zuul: Declare queue at top level,ABANDONED,2022-06-13 01:05:10.000000000,2022-06-13 01:06:35.000000000,,1,1,0,845527,79b0049d628386013d38de75f47e9c8f8da01f75,2,0,1,1,9816,Takashi Kajinami,kajinamit,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I11a8bb2f78e82af79afa7cff8950b4d01e9d7353
"
openstack%2Fceilometer~stable%2Fwallaby~Iab17c55799f490fcb894a9e96ae1706f90fcf614,openstack/ceilometer,stable/wallaby,,Iab17c55799f490fcb894a9e96ae1706f90fcf614,zuul: Declare queue at top level,ABANDONED,2022-06-13 00:54:11.000000000,2022-06-13 01:03:37.000000000,,1,1,0,845517,bffbe5863390cffb37d43d694b19fddfc7b13a4b,5,0,1,1,9816,Takashi Kajinami,kajinamit,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: Iab17c55799f490fcb894a9e96ae1706f90fcf614
"
openstack%2Frequirements~master~Ieb4d833889d891c6eefb13d3a23838dedd8a9e6f,openstack/requirements,master,openstack/requirements/constraints/noclob,Ieb4d833889d891c6eefb13d3a23838dedd8a9e6f,Updated from generate-constraints,MERGED,2022-06-12 02:43:23.000000000,2022-06-12 23:14:19.000000000,2022-06-12 23:13:14.000000000,6,6,0,845496,b04c7a2d7ac4326179619f5c629505bbdfa52e4d,15,2,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ieb4d833889d891c6eefb13d3a23838dedd8a9e6f
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fmanila~master~Idd3e6a6fdb8cf13727cd674c76efd89b3aacfc52,openstack/manila,master,,Idd3e6a6fdb8cf13727cd674c76efd89b3aacfc52,Increase RAM in manila flavor,MERGED,2022-06-07 17:28:11.000000000,2022-06-12 22:26:02.000000000,2022-06-12 22:08:02.000000000,1,1,6,845018,aeb5fa0195ac334ea2606d585872863ff03aebc8,28,5,2,1,29632,Carlos Eduardo,silvacarlos,"Increase RAM in manila flavor

Ubuntu Jammy was failing to spawn while using the manila flavor.
It was hitting kernel panic and complaining about memory. That
leads us to increase the flavor to be used in the manila service
image.

Depends-On: Id2d35ce592c73f0c731deb17a5d574f502fe64cb

Change-Id: Idd3e6a6fdb8cf13727cd674c76efd89b3aacfc52
"
openstack%2Fneutron~stable%2Fwallaby~I2c6f09548f39cadfe85e57032091a70a5bc978e5,openstack/neutron,stable/wallaby,bug/1977752,I2c6f09548f39cadfe85e57032091a70a5bc978e5,"Add ""max-rate"" value to minimum bandwidth rules",MERGED,2022-06-09 08:23:15.000000000,2022-06-12 20:43:19.000000000,2022-06-12 20:42:02.000000000,13,5,5,845236,737e2a3a5d2d50c12e010845463211a27f318191,27,3,1,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add ""max-rate"" value to minimum bandwidth rules

OVS translates the QoS and associated queue registers,
attached to a port, into ""tc"" linux-htb classfull traffic
shaper, applied on the port.

OVS creates a ""tc"" root class on the port device. On top of
this root class, the queues are represented as child ""tc""
classes. In order to define a ""min-rate"" value (""tc rate""),
a ""max-rate"" value (""tc ceil"") must be provided and higher than
""min-rate"".

By default, OVS agent QoS minimum rules do not have a ""max-rate""
defined. Before this patch, any minimum bandwidth rule was
limiting the maximum rate to 100Mbit/s, that is the default value
set in ""tc ceil"". This patch provides the maximum ""max-rate"" value
for any minimum bandwidth rule.

Closes-Bug: #1977752

Change-Id: I2c6f09548f39cadfe85e57032091a70a5bc978e5
(cherry picked from commit a575dbc4a1aa7c44bba7ada4571a85d21120261e)
"
openstack%2Fcharm-guide~master~Ib5efb8e88e2fc8216a150a12f0aebbc363fc6491,openstack/charm-guide,master,add-overlay-tutorial,Ib5efb8e88e2fc8216a150a12f0aebbc363fc6491,Add a how-to: Working with bundle overlays,ABANDONED,2022-06-07 01:02:46.000000000,2022-06-12 19:32:52.000000000,,148,0,8,844895,1b4bb609871e8f11d21dec9c2af2f24e56a92ab3,17,2,7,2,30561,Peter Matulis,pmatulis,"Add a how-to: Working with bundle overlays

Change-Id: Ib5efb8e88e2fc8216a150a12f0aebbc363fc6491
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~Ic0dbf5a8b72fe2966c1aab33d57085a77707817a,openstack/puppet-openstack_spec_helper,stable/train,,Ic0dbf5a8b72fe2966c1aab33d57085a77707817a,train-only: Fix pin of net-telnet in Ubuntu,ABANDONED,2022-06-12 16:09:19.000000000,2022-06-12 16:58:47.000000000,,2,1,0,845499,1f4112bd057125b81dc3284be7bae8b983446281,3,1,1,1,9816,Takashi Kajinami,kajinamit,"train-only: Fix pin of net-telnet in Ubuntu

Change-Id: Ic0dbf5a8b72fe2966c1aab33d57085a77707817a
"
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~I5c54a971ee208a20114339ce2180bb06a1b87be9,openstack/tripleo-puppet-elements,stable/wallaby,service-cleanup-stable/wallaby,I5c54a971ee208a20114339ce2180bb06a1b87be9,Remove mistral,MERGED,2022-06-02 05:47:07.000000000,2022-06-12 10:56:03.000000000,2022-06-12 10:56:03.000000000,0,4,1,844380,985e809baf8aebad8935530ba0a92311b39a25f6,15,4,3,2,9816,Takashi Kajinami,kajinamit,"Remove mistral

Backport note:
The change in the puppet-modules element was covered by a different
commit d6f724f491fd4d32c4d984aab5765a155bcb333c , so this backport only
covers the other elements.

Change-Id: I5c54a971ee208a20114339ce2180bb06a1b87be9
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/811194
(cherry picked from commit c5645dd38565ad901a185037dc8b88540e08323d)
"
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~Ib4a574f7198f7439c06c7e9b5d2006e5e400ef7c,openstack/tripleo-puppet-elements,stable/wallaby,service-cleanup-stable/wallaby,Ib4a574f7198f7439c06c7e9b5d2006e5e400ef7c,Remove leftover of Sahara support,MERGED,2022-04-28 07:28:12.000000000,2022-06-11 18:38:10.000000000,2022-06-11 18:38:10.000000000,0,4,4,839662,9dbdf3e04acbadbf957d9d84273b42ce33d91b0f,26,3,3,2,9816,Takashi Kajinami,kajinamit,"Remove leftover of Sahara support

... because it was already removed from tht by [1]

[1] 4a7d56947ad52ed98b82fb5b075d02bd9d934da3

Backport note:
The change in the puppet-modules element was covered by a different
commit d6f724f491fd4d32c4d984aab5765a155bcb333c , so this backport only
covers the other elements.

Change-Id: Ib4a574f7198f7439c06c7e9b5d2006e5e400ef7c
(cherry picked from commit cb2011c80a4a085a90f02c88c30ca49ae6c9981f)
"
openstack%2Fdiskimage-builder~master~I1834fa66cd9ee0e23baefd002ae06b83f32d66ef,openstack/diskimage-builder,master,,I1834fa66cd9ee0e23baefd002ae06b83f32d66ef,Build openSUSE images on opensuse nodepool image,ABANDONED,2020-04-03 16:27:59.000000000,2022-06-11 10:20:18.000000000,,3,11,1,717331,42c01880d3652a883017819bfc7fb1c0ad325e41,8,4,1,2,6593,Dirk Mueller,dmllr,"Build openSUSE images on opensuse nodepool image

This allows us to reestablish test coverage and not
introduce back a Xenial dependency.

Change-Id: I1834fa66cd9ee0e23baefd002ae06b83f32d66ef
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I5c0cf36178511d286e89c3eee907474f68d14fad,openstack/tripleo-ansible,stable/wallaby,gathering_facts,I5c0cf36178511d286e89c3eee907474f68d14fad,Remove gathering facts,MERGED,2022-06-07 12:58:37.000000000,2022-06-11 10:12:22.000000000,2022-06-11 10:12:22.000000000,0,18,1,844937,000acea82e93402ce1102a3dd13ae6170fb85d96,14,7,1,1,25402,Francesco Pantano,fmount,"Remove gathering facts

No distribution or os_family related tasks are executed, so this patch
removes this additional task which shouldn't be needed.

Closes-Bug: #1977807
Change-Id: I5c0cf36178511d286e89c3eee907474f68d14fad
"
openstack%2Frequirements~master~I021735f28d9cd3ed7935f6e43f2ca689d24e5abf,openstack/requirements,master,openstack/requirements/constraints,I021735f28d9cd3ed7935f6e43f2ca689d24e5abf,Updated from generate-constraints,ABANDONED,2022-06-11 02:41:50.000000000,2022-06-11 02:59:56.000000000,,21,20,0,845491,b0037f155b7f8b0b1e26a6dd40d0d445ce6dd1f2,2,0,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I021735f28d9cd3ed7935f6e43f2ca689d24e5abf
"
openstack%2Fkuryr-kubernetes~master~I21486f570d0db8de671d308085cef38dad60d162,openstack/kuryr-kubernetes,master,bp/support-kube-proxy,I21486f570d0db8de671d308085cef38dad60d162,Add node handler and plug tap device in host node,NEW,2022-03-22 09:41:50.000000000,2022-06-11 02:33:30.000000000,,748,2,35,834637,918f3516c15531b5d7af22ad2a3eb8c74833cf73,40,3,18,14,28329,yangjianfeng,yangjianfeng,"Add node handler and plug tap device in host node

For support raw kube-proxy we need to ensure the connectivity
between host node and pod. The patch propose a node handler, by the
node handler create and configure a neutron port for each host node.
Kuryr-daemon will plug a tap device related to the neutron port in
each host node. By the tab device the neutron node and the pod can
access each other.

Implements: blueprint support-kube-proxy
Change-Id: I21486f570d0db8de671d308085cef38dad60d162
"
openstack%2Fmanila-tempest-plugin~master~Id2d35ce592c73f0c731deb17a5d574f502fe64cb,openstack/manila-tempest-plugin,master,,Id2d35ce592c73f0c731deb17a5d574f502fe64cb,Split generic job by tests and reduce concurrency,MERGED,2022-06-07 22:05:10.000000000,2022-06-10 23:06:59.000000000,2022-06-10 18:04:24.000000000,16,1,7,845057,cc8a651faeac27731a981eb54765da72a162d93a,26,4,4,2,29632,Carlos Eduardo,silvacarlos,"Split generic job by tests and reduce concurrency

We have been performing some tests using the Ubuntu Jammy image.
While doing such tests, we realized that the newest image would
need more RAM to be spawned successfuly, and that brings the need
to bump the memory for such VMs. While testing with the memory
bump, we realized that the generic driver would face issues with
such change.

We have seen a couple of tests failing due to the share manager
service loosing connection to the database, and this is usually
caused when we have a lack or high consumiption of resources in
a VM. Reducing the concurrency itself should work, and then
we would have the jobs passing. However, in reducing the
concurrency, this job will take longer to run, considering it
will only use one of the available threads, and it can lead to
this job's possibility to hit the 3 hours pre-scheduled limit.

To avoid that, we decided to:

Have this change to reduce the concurrency of the manila generic
driver job to 1, so we can avoid these failures, as well as
split the generic driver job into two jobs:

- manila-tempest-plugin-generic
- manila-tempest-plugin-generic-scenario

The generic one will take care of the API testing as we currently
know and have been doing. The scenario one will run all of the
scenario tests.

Change-Id: Id2d35ce592c73f0c731deb17a5d574f502fe64cb
"
openstack%2Ftripleo-quickstart~master~Ibce6ce594c0461f646bd82c5eb3d002000381756,openstack/tripleo-quickstart,master,bug/1977888,Ibce6ce594c0461f646bd82c5eb3d002000381756,[Workaround] Pull openstack-selinux from common component repo,MERGED,2022-06-09 07:30:45.000000000,2022-06-10 22:59:45.000000000,2022-06-09 12:44:26.000000000,36,0,4,845229,aa8efa86a561b5544d8221bd2e657f2de53ae415,14,7,1,2,12393,chandan kumar,chkumar246,"[Workaround] Pull openstack-selinux from common component repo

Current we need latest openstack-selinux to work with
libselinux-4.3-1.
Latest openstack-selinux is available in tripleo-ci-testing
and we need a promotion to unblock the gate.

In order to temprorily unblock the upstream gate, we are
pulling latest openstack-selinux from common component
repo.

Related-Bug: #1977888

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ibce6ce594c0461f646bd82c5eb3d002000381756
"
openstack%2Ftripleo-quickstart~master~Ib0c9df03e2c09164679e8916b6f61e74b2b9fa95,openstack/tripleo-quickstart,master,revert-wallaby-common,Ib0c9df03e2c09164679e8916b6f61e74b2b9fa95,Revert W c9 - Pull openstack-selinux from common,ABANDONED,2022-06-10 12:54:40.000000000,2022-06-10 22:59:00.000000000,,0,19,0,845352,f8e1d3f28c5a4bd98523e0f2b559de5076fcf79e,6,3,1,1,9976,Ronelle Landy,rlandy,"Revert W c9 - Pull openstack-selinux from common

Partial revert of Ibce6ce594c0461f646bd82c5eb3d002000381756.
Wallaby c9 promoted and updated version of openstack-selinux
should be available.

Change-Id: Ib0c9df03e2c09164679e8916b6f61e74b2b9fa95
Related-Bug: #1977888
"
openstack%2Fproject-config~master~I442812b9d60342accbefe425deaac89206bd586b,openstack/project-config,master,,I442812b9d60342accbefe425deaac89206bd586b,Add KubeVirt app to StarlingX,MERGED,2022-06-07 18:36:56.000000000,2022-06-10 22:17:21.000000000,2022-06-10 21:59:30.000000000,24,0,3,845021,b5b84cc0cf906bb9e3667ccdcb1c4acec286609e,20,6,3,3,34064,Gleb Aronsky,garonsky,"Add KubeVirt app to StarlingX

Story: 2010073
Task: 45559

Signed-off-by: Gleb Aronsky <gleb.aronsky@windriver.com>
Change-Id: I442812b9d60342accbefe425deaac89206bd586b
"
openstack%2Fneutron~stable%2Fvictoria~I2c6f09548f39cadfe85e57032091a70a5bc978e5,openstack/neutron,stable/victoria,bug/1977752,I2c6f09548f39cadfe85e57032091a70a5bc978e5,"Add ""max-rate"" value to minimum bandwidth rules",MERGED,2022-06-09 08:23:55.000000000,2022-06-10 21:17:24.000000000,2022-06-10 21:16:00.000000000,13,5,2,845237,1d2dd010af4d4d78891f44a1a72223a5d61b80ea,17,3,1,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add ""max-rate"" value to minimum bandwidth rules

OVS translates the QoS and associated queue registers,
attached to a port, into ""tc"" linux-htb classfull traffic
shaper, applied on the port.

OVS creates a ""tc"" root class on the port device. On top of
this root class, the queues are represented as child ""tc""
classes. In order to define a ""min-rate"" value (""tc rate""),
a ""max-rate"" value (""tc ceil"") must be provided and higher than
""min-rate"".

By default, OVS agent QoS minimum rules do not have a ""max-rate""
defined. Before this patch, any minimum bandwidth rule was
limiting the maximum rate to 100Mbit/s, that is the default value
set in ""tc ceil"". This patch provides the maximum ""max-rate"" value
for any minimum bandwidth rule.

Closes-Bug: #1977752

Change-Id: I2c6f09548f39cadfe85e57032091a70a5bc978e5
(cherry picked from commit a575dbc4a1aa7c44bba7ada4571a85d21120261e)
"
openstack%2Ftripleo-quickstart~master~I7bcf60589e3ded2529c9f158a8c8c1dfd909d2cb,openstack/tripleo-quickstart,master,move-to-quay,I7bcf60589e3ded2529c9f158a8c8c1dfd909d2cb,"Changing container registry for master c9, wallaby c8, c9 and train c8 to quay",MERGED,2022-05-23 17:10:51.000000000,2022-06-10 21:14:58.000000000,2022-06-10 21:13:54.000000000,8,8,15,843007,d77199111cc5526bc1442e629caa980622cabffd,56,6,8,6,32458,Ananya,frenzyfriday,"Changing container registry for master c9, wallaby c8, c9 and train c8 to quay

Testproj: https://review.rdoproject.org/r/c/testproject/+/42265

Change-Id: I7bcf60589e3ded2529c9f158a8c8c1dfd909d2cb
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If6e54be9bd6eb30cd6699e0d595c14f4b84131a9,openstack/tripleo-heat-templates,stable/wallaby,ceph_infra_skip,If6e54be9bd6eb30cd6699e0d595c14f4b84131a9,Add ceph_infra tag to the skip list,MERGED,2022-05-25 19:47:05.000000000,2022-06-10 19:49:02.000000000,2022-06-10 19:49:02.000000000,7,0,2,843344,e18dccad50a5df4cd9074391c371e9108e093eef,17,7,1,1,25402,Francesco Pantano,fmount,"Add ceph_infra tag to the skip list

When the upgrade from Ceph 4 to 5 is performed in the OpenStack context,
ceph-ansible triggers the rolling_update playbook, which is supposed to
rollout new Ceph containers. The ceph-infra role tries to take care
about firewall, ntp config and logrotate; however, TripleO manages them
through tripleo-heat-templates. This patch just add an additional tag to
skip the ceph-infra role.

Change-Id: If6e54be9bd6eb30cd6699e0d595c14f4b84131a9
"
openstack%2Fneutron~stable%2Fwallaby~I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8,openstack/neutron,stable/wallaby,bug/1975674,I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8,Defer flow deletion in openvswitch firewall,MERGED,2022-06-08 08:10:09.000000000,2022-06-10 19:25:33.000000000,2022-06-10 19:24:11.000000000,1,1,2,845100,b70bf7fd9835671ea4c50556eb91e4f4d36b703d,22,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Defer flow deletion in openvswitch firewall

Reduces the deletion time of conjunction flows on hypervisors
where virtual machines reside which are part of a security
group that has remote security groups as target which contain
thousands of ports.

Without deferred deletion the agent will call ovs-ofctl several
hundred times in succession, during this time the agent will
block any new vm creation or neutron port modifications on this
hypervisor.

This patch has been tested using a single network with a single
vm with a security group that points to a remote security group
with 2000 ports.

During testing without the patch, the iteration time for deletion
was at around 500 seconds. After adding the patch to the l2 agent
on the test environment the same deletion time went down to
4 seconds.

Closes-Bug: #1975674
Change-Id: I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8
(cherry picked from commit e09b128f416a809cd7734aba8ab52220ea01b2e2)
"
openstack%2Ftripleo-ansible~master~I5c0cf36178511d286e89c3eee907474f68d14fad,openstack/tripleo-ansible,master,gathering_facts,I5c0cf36178511d286e89c3eee907474f68d14fad,Remove gathering facts,MERGED,2022-06-06 16:57:36.000000000,2022-06-10 19:14:41.000000000,2022-06-10 19:14:41.000000000,0,18,7,844864,09fc84c4b178d69811b8fbe38b89164eff3ef1ab,37,5,5,1,25402,Francesco Pantano,fmount,"Remove gathering facts

No distribution or os_family related tasks are executed, so this patch
removes this additional task which shouldn't be needed.

Closes-Bug: #1977807
Change-Id: I5c0cf36178511d286e89c3eee907474f68d14fad
"
openstack%2Fneutron~stable%2Fxena~I364fc7981458374ed25eb8837d1ed3afff046b95,openstack/neutron,stable/xena,bug1967742-stable/xena,I364fc7981458374ed25eb8837d1ed3afff046b95,Notify mech drivers with original and modified network.,MERGED,2022-06-01 18:50:07.000000000,2022-06-10 18:57:32.000000000,2022-06-10 18:54:51.000000000,152,9,2,844204,7bf8fb6841d95a0ffa32eb4106a6427a14f94017,26,4,3,3,34271,Miro Tomaska,mtomaska,"Notify mech drivers with original and modified network.

Include original and modified network when notifying mechanism drivers in PRECOMMIT event. PRECOMMIT_CREATE modified network includes new segment, while original does not. Exact opposite for PRECOMMIT_DELETE

Closes-Bug: #1967742
Change-Id: I364fc7981458374ed25eb8837d1ed3afff046b95
(cherry picked from commit d1fe14d366e501869addff17e851ac03a599adca)
"
openstack%2Fneutron~stable%2Fyoga~Ia84410675d28002afc74368349c9b54f048f4f4d,openstack/neutron,stable/yoga,bug/1958501,Ia84410675d28002afc74368349c9b54f048f4f4d,[ovn]Refusing to bind port to dead agent,MERGED,2022-06-02 15:51:47.000000000,2022-06-10 18:57:29.000000000,2022-06-10 18:55:09.000000000,98,90,2,844494,267631e8fb35af4d9d96c70c6e6ddba25256f195,19,3,2,8,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[ovn]Refusing to bind port to dead agent

Closes-bug: #1958501

Conflicts:
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py
    neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py

Change-Id: Ia84410675d28002afc74368349c9b54f048f4f4d
(cherry picked from commit 8a55f091925fd5e6742fb92783c524450843f5a0)
"
openstack%2Fneutron~master~I43756c81ba3eede2ff8b1f4c6ead4c9426d78f90,openstack/neutron,master,move_config,I43756c81ba3eede2ff8b1f4c6ead4c9426d78f90,openflow_processed_per_port should be ovs-agent only,MERGED,2022-06-01 01:05:22.000000000,2022-06-10 18:57:12.000000000,2022-06-10 18:55:05.000000000,9,9,1,844171,62d3f91f924db9cc42a57248f0d65779bb5aa199,23,5,2,2,9531,liuyulong,LIU-Yulong,"openflow_processed_per_port should be ovs-agent only

""conf/agent/ovs_conf.py"" has some common options for ovs agent and
L3/dhcp/metadata agent [1] to handle records on ovsdb, mostly for ovsdb
related action only when the interface driver is 'openvswitch' [2][3].
The options of ""conf/plugins/ml2/drivers/ovs_conf.py"" are mainly
for ovs-agent. The ""openflow_processed_per_port"" is in
wrong place, because L3/DHCP/metadata agent will never try to
""install flows per port"".

The option ``openflow_processed_per_port`` is still in [OVS] section
for openvswitch agent.

[1] https://github.com/openstack/neutron/blob/master/neutron/opts.py#L209
[2] https://codesearch.openstack.org/?q=from%20neutron.conf.agent%20import%20ovs_conf&i=nope&literal=nope&files=&excludeFiles=&repos=
[3] https://codesearch.openstack.org/?q=ovs_conf.register_ovs_agent_opts&i=nope&literal=nope&files=&excludeFiles=&repos=

Change-Id: I43756c81ba3eede2ff8b1f4c6ead4c9426d78f90
"
openstack%2Fneutron~stable%2Fyoga~I364fc7981458374ed25eb8837d1ed3afff046b95,openstack/neutron,stable/yoga,bug1967742-stable/yoga,I364fc7981458374ed25eb8837d1ed3afff046b95,Notify mech drivers with original and modified network.,MERGED,2022-06-01 18:49:05.000000000,2022-06-10 18:56:24.000000000,2022-06-10 18:54:47.000000000,152,9,1,844203,9a8de0cde7003544ecf998a08a293af64f95009c,10,4,1,3,34271,Miro Tomaska,mtomaska,"Notify mech drivers with original and modified network.

Include original and modified network when notifying mechanism drivers in PRECOMMIT event. PRECOMMIT_CREATE modified network includes new segment, while original does not. Exact opposite for PRECOMMIT_DELETE

Closes-Bug: #1967742
Change-Id: I364fc7981458374ed25eb8837d1ed3afff046b95
(cherry picked from commit d1fe14d366e501869addff17e851ac03a599adca)
"
openstack%2Fneutron~stable%2Fwallaby~Ieb523e3afdf69fff87ea9062ed857c37a8d56f5c,openstack/neutron,stable/wallaby,fix_configure_for_ft,Ieb523e3afdf69fff87ea9062ed857c37a8d56f5c,Fix configure_for_func_testing script,MERGED,2022-06-03 15:33:40.000000000,2022-06-10 18:56:19.000000000,2022-06-10 18:54:43.000000000,9,8,7,844609,c12e70fe6c863998add6be0563aa6bfdf9608660,16,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Fix configure_for_func_testing script

Following fixes are done in the script:-
- Use openstack_citest as db user as done in CI[1] as
  with root as db user it fails configure it.
- Use MYSQL_USER var instead of hardcoded root user
- Fix Syntax Error in CREATE USER psql command by using
  quotes for DATABASE_PASSWORD
- Swith to root user for running psql command as without
  it, it asks for stack user password which is not configured,
  same is done in devstack[2].
- Create variable DATABASE_NAME for database name and use
  at all required places.

[1] https://review.opendev.org/c/openstack/neutron/+/814009/
[2] https://opendev.org/openstack/devstack/src/branch/master/lib/databases/postgresql#L90

Change-Id: Ieb523e3afdf69fff87ea9062ed857c37a8d56f5c
(cherry picked from commit 28df8470f6a2838878bc567716889ee938fccfd6)
"
openstack%2Fneutron~stable%2Fxena~Ieb523e3afdf69fff87ea9062ed857c37a8d56f5c,openstack/neutron,stable/xena,fix_configure_for_ft,Ieb523e3afdf69fff87ea9062ed857c37a8d56f5c,Fix configure_for_func_testing script,MERGED,2022-06-03 15:31:49.000000000,2022-06-10 18:56:17.000000000,2022-06-10 18:54:39.000000000,9,8,1,844608,08c4cddfa86a0df9fc55653786d5c9833546ec10,11,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Fix configure_for_func_testing script

Following fixes are done in the script:-
- Use openstack_citest as db user as done in CI[1] as
  with root as db user it fails configure it.
- Use MYSQL_USER var instead of hardcoded root user
- Fix Syntax Error in CREATE USER psql command by using
  quotes for DATABASE_PASSWORD
- Swith to root user for running psql command as without
  it, it asks for stack user password which is not configured,
  same is done in devstack[2].
- Create variable DATABASE_NAME for database name and use
  at all required places.

[1] https://review.opendev.org/c/openstack/neutron/+/814009/
[2] https://opendev.org/openstack/devstack/src/branch/master/lib/databases/postgresql#L90

Change-Id: Ieb523e3afdf69fff87ea9062ed857c37a8d56f5c
(cherry picked from commit 28df8470f6a2838878bc567716889ee938fccfd6)
"
openstack%2Fneutron~master~Ic964b7ddc70988bb1a822b07be6a1be4d197287e,openstack/neutron,master,,Ic964b7ddc70988bb1a822b07be6a1be4d197287e,remove unused updated_at parameter for AgentCache.update,MERGED,2022-06-09 01:17:48.000000000,2022-06-10 18:56:08.000000000,2022-06-10 18:54:35.000000000,51,57,3,845184,7dbc61346a89af1f4f4a002171f7f36a74034049,25,5,4,2,30380,ZhouHeng,zhouhenglc,"remove unused updated_at parameter for AgentCache.update

we cannot find this parameter passed in anywhere except for some unit
tests. currently we have used nb_cfg_timestamp[1] as agent updated
time. there are no other scenarios for this parameter. this patch
remove it and update some unit test.

[1] https://review.opendev.org/c/openstack/neutron/+/802834

Closes-bug: #1978035

Change-Id: Ic964b7ddc70988bb1a822b07be6a1be4d197287e
"
openstack%2Fneutron~master~I3a91f442a1fd72f9027f10f2b1b6572cee3f8360,openstack/neutron,master,bug/1975743,I3a91f442a1fd72f9027f10f2b1b6572cee3f8360,[OVN] Make binding profile validation more robust,MERGED,2022-05-27 10:30:47.000000000,2022-06-10 18:55:00.000000000,2022-06-10 18:55:00.000000000,43,18,3,843601,8a9ffcb0d4c0c44fc226810fd7f08dab9b79fcc0,24,4,3,3,13686,Frode Nordahl,fnordahl,"[OVN] Make binding profile validation more robust

The main purpose of Neutron's validation of the binding profile
is to make sure expected keys are present and that their values
are of the expected type.

The Nova compute component updates the binding profile as part of
instance creation.  Depending on the version of the Nova compute
component and which hardware it interfaces with, the information
provided by Nova in the binding profile may differ.

Nova also has limited information at its disposal at the point in
time it updates the port binding profile, so it would be
non-trivial for it to provide information conditionally based on
things like VNIC_TYPE and existing binding profile data.

Make the Neutron binding profile validation more robust for both
upgrade and heterogeneous hardware scenarios by accepting the
presence of surplus keys in the binding profile.  The data that
Neutron expects will still be validated and any surplus keys will
be pruned before further processing internally in Neutron.

Closes-Bug: #1975743
Change-Id: I3a91f442a1fd72f9027f10f2b1b6572cee3f8360
"
openstack%2Fneutron~master~I6cf1167d556f0c2c2aa2013f05c809648020b377,openstack/neutron,master,bug/1973276,I6cf1167d556f0c2c2aa2013f05c809648020b377,"Set ""type=virtual"" for OVN LSP with parent ports",MERGED,2022-05-26 14:36:20.000000000,2022-06-10 18:54:56.000000000,2022-06-10 18:54:56.000000000,71,39,6,843474,3c93da7bdf35c3be6081384b7f6d9a4ce13510d3,30,5,4,7,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Set ""type=virtual"" for OVN LSP with parent ports

This is a follow-up of [1]. Before this patch, any virtual logical
switch port that was updated and the ""device_owner"" was not and empty
string, had its type set to '' (empty string).

This maintenance task, that is executed only once, lists all logical
switch ports, checks the presence or not of virtual parents and
sets the type to ""virtual"" if needed.

Related-Bug: #1973276

[1]https://review.opendev.org/c/openstack/neutron/+/841711

Change-Id: I6cf1167d556f0c2c2aa2013f05c809648020b377
"
openstack%2Fkayobe-config-dev~master~I7191779c1fb3a192b401886cd591f12c4b0ab2b0,openstack/kayobe-config-dev,master,,I7191779c1fb3a192b401886cd591f12c4b0ab2b0,Avoid rebooting after disabling SELinux,MERGED,2022-06-10 12:42:35.000000000,2022-06-10 18:13:07.000000000,2022-06-10 18:13:07.000000000,7,0,3,845351,05155c1dcb839da6bd2cf07b71c63a82aae28a65,9,3,1,1,14826,Mark Goddard,mgoddard,"Avoid rebooting after disabling SELinux

This is generally not necessary in development environments, and makes
for an awkward development workflow.

Change-Id: I7191779c1fb3a192b401886cd591f12c4b0ab2b0
"
openstack%2Fpython-manilaclient~master~I4470180ade0c0acd8a560a855d7937839f2176d7,openstack/python-manilaclient,master,osc-functional-tests,I4470180ade0c0acd8a560a855d7937839f2176d7,[OSC] Add OSC Functional Tests Share set unset,MERGED,2022-05-12 19:50:52.000000000,2022-06-10 17:24:58.000000000,2022-06-10 17:23:52.000000000,24,1,9,841633,fdac503cadd01d275f30f4dbfcd42ac46db5d7d0,30,7,6,1,32594,Ashley Rodriguez,ashrod98,"[OSC] Add OSC Functional Tests Share set unset

Adds osc functional tests for share set and share unset

Partially-implements: bp openstack-client-support
Change-Id: I4470180ade0c0acd8a560a855d7937839f2176d7
"
openstack%2Fneutron~master~Idf522a20f9735829ee568020bfed46345a95e294,openstack/neutron,master,,Idf522a20f9735829ee568020bfed46345a95e294,[ovn]neutron agent show real heartbeat_timestamp,MERGED,2022-06-01 03:09:08.000000000,2022-06-10 16:14:54.000000000,2022-06-10 16:13:02.000000000,22,1,5,844179,411ecc4865198e2bed5e3d0ab498e3a42408c17d,50,4,8,2,30380,ZhouHeng,zhouhenglc,"[ovn]neutron agent show real heartbeat_timestamp

agent's heartbeat_timestamp returns the current time, not
conducive to agent status troubleshooting.
this patch use agent's updated_at as heartbeat_timestamp.

Closes-bug: #1977629

Change-Id: Idf522a20f9735829ee568020bfed46345a95e294
"
openstack%2Fneutron~stable%2Fxena~Ie195ad596fd148708fc30946bde964d52444afee,openstack/neutron,stable/xena,,Ie195ad596fd148708fc30946bde964d52444afee,Add retry for privsep get_link_devices,MERGED,2022-06-02 05:28:12.000000000,2022-06-10 16:14:33.000000000,2022-06-10 16:12:58.000000000,58,2,3,844364,ea85053a87196c3d6477277b111eee66f57a4ea9,18,4,2,3,13861,yatin,yatinkarel,"Add retry for privsep get_link_devices

pyroute 0.6.6 introduced a new exception NetlinkDumpInterrupted which
is raised when NLM_F_DUMP_INTR is set in the flags during dump of
devices.
The suggestion from pyroute developers is to retry in case of this
exception (see [1]).

[1]: https://github.com/svinota/pyroute2/issues/874#issuecomment-1063139555

Closes-Bug: #1962608

Depends-On: https://review.opendev.org/c/openstack/requirements/+/845268
Change-Id: Ie195ad596fd148708fc30946bde964d52444afee
(cherry picked from commit 74a9e832d790f659eb10b22ba0428b60733d384e)
(cherry picked from commit 541d1fc9e62df9f15fe003735c63f98a0a0432c3)
"
openstack%2Fkeystone~master~Icb77ea82a69a6766d412543d3c2fe75a736bf212,openstack/keystone,master,add-oidc-discovery,Icb77ea82a69a6766d412543d3c2fe75a736bf212,Support third-party login discovery,ABANDONED,2022-05-12 15:31:42.000000000,2022-06-10 15:48:26.000000000,,77,0,0,841613,0ba777c5c2d92abc1575203927396b874fc71c11,5,2,1,1,29100,Jason Anderson,jasonanderson,"Support third-party login discovery

This is notably used by auth_mod_openidc.
See
https://openid.net/specs/openid-connect-core-1_0.html#ThirdPartyInitiatedLogin

This helps to avoid an additional interstitial page to confirm which IdP
to use, especially in the case when there is only one configured.

Change-Id: Icb77ea82a69a6766d412543d3c2fe75a736bf212
"
openstack%2Frequirements~master~I5f29362a4d0386235fe21c5e056f25cf540b59e9,openstack/requirements,master,horizon-xstatic-angular,I5f29362a4d0386235fe21c5e056f25cf540b59e9,Update constraint for XStatic-Angular to new release 1.8.2.2,ABANDONED,2022-05-26 17:09:29.000000000,2022-06-10 15:24:04.000000000,,2,2,7,843505,04d56efe8a4c3cb5439b025d6c2819ec3b940f5b,17,7,1,2,6914,Tatiana Ovchinnikova,tmazur,"Update constraint for XStatic-Angular to new release 1.8.2.2

Change-Id: I5f29362a4d0386235fe21c5e056f25cf540b59e9
"
openstack%2Fironic-prometheus-exporter~master~Id15af67e436740537f1007f38df13f7ae383b5b7,openstack/ironic-prometheus-exporter,master,gate,Id15af67e436740537f1007f38df13f7ae383b5b7,Replace the centos8 job with a centos9 one,MERGED,2022-06-10 10:06:37.000000000,2022-06-10 15:17:42.000000000,2022-06-10 15:15:27.000000000,2,2,0,845344,18ceb1e2bca23e965467593b62cb28b0b89433da,8,3,1,1,10239,Dmitry Tantsur,dtantsur,"Replace the centos8 job with a centos9 one

CentOS 8 uses Python 3.6, which is not supported for Zed.

Change-Id: Id15af67e436740537f1007f38df13f7ae383b5b7
"
openstack%2Fmanila~master~I5b03e26df36d6cc7564625b16d613b001b6dee0b,openstack/manila,master,read-ssh-key,I5b03e26df36d6cc7564625b16d613b001b6dee0b,service instance: Read public ssh key directly,NEW,2022-05-26 13:37:53.000000000,2022-06-10 15:00:38.000000000,,11,7,2,843462,9b2b36eba256d2cc42fbdea8a15f824150d194a4,12,2,2,2,9816,Takashi Kajinami,kajinamit,"service instance: Read public ssh key directly

... instead of executing the cat command as an external process.

One benefit of using an external process is that we could avoid
eventlet threads being blocked, but ssh public keys are usually tiny
and is not expected to cause huge blocking.

Change-Id: I5b03e26df36d6cc7564625b16d613b001b6dee0b
"
openstack%2Fmanila-ui~master~I20c1ccdcc027dca7d07bf0506fed5292a20e544d,openstack/manila-ui,master,,I20c1ccdcc027dca7d07bf0506fed5292a20e544d,The Python 3.6 and Python 3.7 Support has been dropped since zed,NEW,2022-06-05 01:32:51.000000000,2022-06-10 14:57:44.000000000,,1,3,1,844715,caf12f4f4b39b7863aa89cc8955a02377693e46a,3,2,1,1,31827,Jorhson Deng,dengzhaosen,"The Python 3.6 and Python 3.7 Support has been dropped since zed

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I20c1ccdcc027dca7d07bf0506fed5292a20e544d
"
openstack%2Fcharm-keystone~stable%2Fussuri~I4a8dbc501e14d1201ceed27077554924c56e3abd,openstack/charm-keystone,stable/ussuri,bug/1970388-stable/ussuri,I4a8dbc501e14d1201ceed27077554924c56e3abd,New option default_authorization_ttl,MERGED,2022-05-16 09:57:29.000000000,2022-06-10 14:29:48.000000000,2022-06-10 14:29:48.000000000,9,0,2,841874,277aea8bd9a4c28712e79dab3acf30e31b259288,23,4,6,3,10366,Hemanth N,Hemanth,"New option default_authorization_ttl

Add new option default_authorization_ttl used for
federation to set validity of group memberships
coming from a mapping.

Closes-Bug: #1970388
Change-Id: I4a8dbc501e14d1201ceed27077554924c56e3abd
(cherry picked from commit f5d9b9ed4095a46be0ba0067ace7bf1c93bdfd8b)
"
openstack%2Fcharm-keystone~stable%2Fvictoria~I4a8dbc501e14d1201ceed27077554924c56e3abd,openstack/charm-keystone,stable/victoria,bug/1970388-stable/victoria,I4a8dbc501e14d1201ceed27077554924c56e3abd,New option default_authorization_ttl,MERGED,2022-05-16 09:57:10.000000000,2022-06-10 14:29:47.000000000,2022-06-10 14:29:47.000000000,11,1,3,841873,a10c9ae8b6bf8db2e7012617ffe5eb3582a89a43,21,5,3,4,10366,Hemanth N,Hemanth,"New option default_authorization_ttl

Add new option default_authorization_ttl used for
federation to set validity of group memberships
coming from a mapping.

Closes-Bug: #1970388
Change-Id: I4a8dbc501e14d1201ceed27077554924c56e3abd
(cherry picked from commit f5d9b9ed4095a46be0ba0067ace7bf1c93bdfd8b)
"
openstack%2Fcharm-keystone~stable%2Fyoga~I4a8dbc501e14d1201ceed27077554924c56e3abd,openstack/charm-keystone,stable/yoga,bug/1970388-stable/yoga,I4a8dbc501e14d1201ceed27077554924c56e3abd,New option default_authorization_ttl,MERGED,2022-05-16 09:55:59.000000000,2022-06-10 14:28:45.000000000,2022-06-10 14:28:45.000000000,11,1,6,841870,c200ccf68654c471059f5d37dc25a721984e07cf,24,5,2,4,10366,Hemanth N,Hemanth,"New option default_authorization_ttl

Add new option default_authorization_ttl used for
federation to set validity of group memberships
coming from a mapping.

Closes-Bug: #1970388
Change-Id: I4a8dbc501e14d1201ceed27077554924c56e3abd
(cherry picked from commit f5d9b9ed4095a46be0ba0067ace7bf1c93bdfd8b)
"
openstack%2Fcharm-keystone~stable%2Fwallaby~I4a8dbc501e14d1201ceed27077554924c56e3abd,openstack/charm-keystone,stable/wallaby,bug/1970388-stable/wallaby,I4a8dbc501e14d1201ceed27077554924c56e3abd,New option default_authorization_ttl,MERGED,2022-05-16 09:56:51.000000000,2022-06-10 14:28:43.000000000,2022-06-10 14:28:43.000000000,11,1,4,841872,ed4dd57af4165493e45622bbbe28c07528871ed4,23,5,3,4,10366,Hemanth N,Hemanth,"New option default_authorization_ttl

Add new option default_authorization_ttl used for
federation to set validity of group memberships
coming from a mapping.

Closes-Bug: #1970388
Change-Id: I4a8dbc501e14d1201ceed27077554924c56e3abd
(cherry picked from commit f5d9b9ed4095a46be0ba0067ace7bf1c93bdfd8b)
"
openstack%2Fcharm-keystone~stable%2Fxena~I4a8dbc501e14d1201ceed27077554924c56e3abd,openstack/charm-keystone,stable/xena,bug/1970388-stable/xena,I4a8dbc501e14d1201ceed27077554924c56e3abd,New option default_authorization_ttl,MERGED,2022-05-16 09:56:32.000000000,2022-06-10 14:28:04.000000000,2022-06-10 14:28:04.000000000,11,1,6,841871,87d66804a19f40d9adde2c07cc34414b121a2e3b,24,5,2,4,10366,Hemanth N,Hemanth,"New option default_authorization_ttl

Add new option default_authorization_ttl used for
federation to set validity of group memberships
coming from a mapping.

Closes-Bug: #1970388
Change-Id: I4a8dbc501e14d1201ceed27077554924c56e3abd
(cherry picked from commit f5d9b9ed4095a46be0ba0067ace7bf1c93bdfd8b)
"
openstack%2Fmanila~master~I81569723adb5ff33076ec96b9ec3216b177379f3,openstack/manila,master,bug/1967326,I81569723adb5ff33076ec96b9ec3216b177379f3,Add Guru Meditation Report to wsgi,MERGED,2022-03-31 16:18:43.000000000,2022-06-10 14:12:55.000000000,2022-06-10 14:11:35.000000000,5,0,2,836039,f8e8eaf586ef1f59dffbcbc590bf60e3fca21728,12,3,1,1,18816,Maurice Escher,mapocace,"Add Guru Meditation Report to wsgi

best use it with the file_event_handler config of oslo_reports
since using signal handlers is discouraged on wsgi

Closes-Bug: #1967326

Change-Id: I81569723adb5ff33076ec96b9ec3216b177379f3
"
openstack%2Fceilometermiddleware~master~I6ef3bbb3f8b4aef077320478a00e096e0a57a71e,openstack/ceilometermiddleware,master,drop-py3-6-7,I6ef3bbb3f8b4aef077320478a00e096e0a57a71e,Update python testing as per zed cycle testing runtime,MERGED,2022-06-07 16:05:19.000000000,2022-06-10 14:10:38.000000000,2022-06-10 14:08:29.000000000,11,5,1,845011,cac701a53116e65d18414109cacb0e7d0ec35d7b,13,3,3,5,9816,Takashi Kajinami,kajinamit,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Note this change disables one unit test case consistently failing.
It should be fixed later by a separate patch.

Co-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>
Change-Id: I6ef3bbb3f8b4aef077320478a00e096e0a57a71e
"
openstack%2Fkolla~stable%2Fwallaby~I5ce2eb66a647e1805f086aa37942bf5d13eb4106,openstack/kolla,stable/wallaby,apt-get-update-fatal,I5ce2eb66a647e1805f086aa37942bf5d13eb4106,Don't ignore errors of 'apt-get update' command,MERGED,2022-06-08 15:15:52.000000000,2022-06-10 14:09:26.000000000,2022-06-10 14:07:54.000000000,11,1,0,845152,836e5945a37e0053f853bd75184b3e344866afae,12,4,2,2,14200,Maksim Malchuk,mmalchuk,"Don't ignore errors of 'apt-get update' command

This change fixes an issue with 'apt-get update' command and stop
container building with erroneous source repositories.

Change-Id: I5ce2eb66a647e1805f086aa37942bf5d13eb4106
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit bce06d2d5a27fd2e430de0078b7d585cfc98d8a4)
"
openstack%2Fkolla~stable%2Fxena~I5ce2eb66a647e1805f086aa37942bf5d13eb4106,openstack/kolla,stable/xena,apt-get-update-fatal,I5ce2eb66a647e1805f086aa37942bf5d13eb4106,Don't ignore errors of 'apt-get update' command,MERGED,2022-06-08 15:15:27.000000000,2022-06-10 14:09:25.000000000,2022-06-10 14:07:52.000000000,11,1,0,845151,1ab4e13fe31be4d3559cdf6288215d0a81788543,12,5,2,2,14200,Maksim Malchuk,mmalchuk,"Don't ignore errors of 'apt-get update' command

This change fixes an issue with 'apt-get update' command and stop
container building with erroneous source repositories.

Change-Id: I5ce2eb66a647e1805f086aa37942bf5d13eb4106
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit bce06d2d5a27fd2e430de0078b7d585cfc98d8a4)
"
openstack%2Fkolla~stable%2Fyoga~I5ce2eb66a647e1805f086aa37942bf5d13eb4106,openstack/kolla,stable/yoga,apt-get-update-fatal,I5ce2eb66a647e1805f086aa37942bf5d13eb4106,Don't ignore errors of 'apt-get update' command,MERGED,2022-06-08 13:34:21.000000000,2022-06-10 14:09:24.000000000,2022-06-10 14:07:49.000000000,11,1,0,845041,34cc46a4d04db0b4988b52b25287c62e36843d6e,12,5,3,2,24072,Marcin Juszkiewicz,hrw,"Don't ignore errors of 'apt-get update' command

This change fixes an issue with 'apt-get update' command and stop
container building with erroneous source repositories.

Change-Id: I5ce2eb66a647e1805f086aa37942bf5d13eb4106
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit bce06d2d5a27fd2e430de0078b7d585cfc98d8a4)
"
openstack%2Fcinderlib~master~Ib0397640e524a3d932e71d4c776eca19234c057a,openstack/cinderlib,master,uncap-importlib-metadata,Ib0397640e524a3d932e71d4c776eca19234c057a,Don't limit use of importlib-metadata to Python < 3.8,NEW,2022-06-07 14:08:55.000000000,2022-06-10 13:27:04.000000000,,1,1,4,844981,53f18c7bafa82a6bd3d259fe06a20b60fc0c9976,7,2,1,1,5314,Brian Rosmaita,brian-rosmaita,"Don't limit use of importlib-metadata to Python < 3.8

The requirements job is failing because our restriction
of importlib_metadata to py<3.8 is conflicting with change
I5febaed02e95 to global-requirements.

The cinderlib restriction to py<3.8 was originally made by
change I1709952cf0d0  (merged 28 July 2020).

Change-Id: Ib0397640e524a3d932e71d4c776eca19234c057a
"
openstack%2Fansible-role-redhat-subscription~master~Ia4ec9f115930f1725094d882e18f10c35a2a9b78,openstack/ansible-role-redhat-subscription,master,container,Ia4ec9f115930f1725094d882e18f10c35a2a9b78,Ensure we export the SMDEV_CONTAINER_OFF on the host,ABANDONED,2022-06-09 14:17:56.000000000,2022-06-10 13:23:21.000000000,,7,0,5,845276,f02b1c4eb1de6bc40f8dbf1b42f3fab70ece7a66,10,5,1,1,28223,Cedric Jeanneret,cjeanner,"Ensure we export the SMDEV_CONTAINER_OFF on the host

If the node is subscribed to a Satellite instance, the redhat.repo
content is then edited by any dnf command launched after a container
with a /run:/run bind-mount is started.

The edition breaks the repositories, and in the end breaks the
Undercloud deploy at step_4, when it tries to install some packages
(while it's already present - dnf fails on fetching the repomd.xml).

The full context is available in this bugzilla:
https://bugzilla.redhat.com/show_bug.cgi?id=2075080

Related: rhbz#2058540
Closes: rhbz#2075080
Change-Id: Ia4ec9f115930f1725094d882e18f10c35a2a9b78
"
openstack%2Ftripleo-upgrade~master~I8a985e496aa0161193becb38ad043835c4c21778,openstack/tripleo-upgrade,master,,I8a985e496aa0161193becb38ad043835c4c21778,Make config-heat and config-resource options comptatible with OOOQ,MERGED,2022-05-30 13:45:20.000000000,2022-06-10 13:20:02.000000000,2022-06-10 13:20:02.000000000,15,18,3,843868,7c3968536fa17ff154d0f24a8c28c3d9e5fad8ca,13,4,4,4,33080,Mikolaj Ciecierski,mciecierski,"Make config-heat and config-resource options comptatible with OOOQ

The original implementation restricted the usage strictly to infrared, see[1].

[1] https://review.opendev.org/c/openstack/tripleo-upgrade/+/709972

Change-Id: I8a985e496aa0161193becb38ad043835c4c21778
"
openstack%2Fkuryr-kubernetes~master~I0b9e02ef1e9227497082a4a3cd803c52ad2789fb,openstack/kuryr-kubernetes,master,setuptools-pin,I0b9e02ef1e9227497082a4a3cd803c52ad2789fb,Pin setuptools in CNI to 53.0.0-10.el9,MERGED,2022-06-08 12:49:48.000000000,2022-06-10 13:17:08.000000000,2022-06-10 13:16:04.000000000,1,1,5,845125,be428a5b4beb81d35add40534ed9b03e99d918c4,16,4,1,1,11600,Michał Dulko,dulek,"Pin setuptools in CNI to 53.0.0-10.el9

Looks like RDO repos upgrade setuptools to version that creates a
problem when we attempt to upgrade it through pip. This commit pins
RPM setuptools to a version available in baseos repos.

This isn't really a great solution, we should probably just start
running in a virtualenv, but let's try to unblock the gates with this
thing.

Change-Id: I0b9e02ef1e9227497082a4a3cd803c52ad2789fb
"
openstack%2Fkolla~master~Idc404d70df06543342dbb0a2c370231ae9c41762,openstack/kolla,master,override-extra-repos,Idc404d70df06543342dbb0a2c370231ae9c41762,Add ability to override repos,ABANDONED,2022-05-19 09:19:02.000000000,2022-06-10 13:13:13.000000000,,125,4,5,842472,aabcc9ffbb9d35ad9b5d5970e6636285140d2f14,27,2,8,42,14200,Maksim Malchuk,mmalchuk,"Add ability to override repos

Since Icf2a8397a8349e0fe849d88d160409fd234480a9 the way of handling
external repositories has changed, all repos are moved to the file
'kolla/kolla/template/repos.yaml' which is the part of the Python
code instead of configuration files in 'docker/' directory. The macro
'enable_extra_repos' was added but without any ability to override
something if needed. This change add an ability to override
'repos.yaml' defaults.

Change-Id: Idc404d70df06543342dbb0a2c370231ae9c41762
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
"
openstack%2Fneutron~stable%2Fussuri~I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8,openstack/neutron,stable/ussuri,bug/1975674,I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8,Defer flow deletion in openvswitch firewall,MERGED,2022-06-08 08:11:12.000000000,2022-06-10 13:12:01.000000000,2022-06-10 13:10:04.000000000,1,1,0,845102,30ef996f8aa0b0bc57a280690871f1081946ffee,8,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Defer flow deletion in openvswitch firewall

Reduces the deletion time of conjunction flows on hypervisors
where virtual machines reside which are part of a security
group that has remote security groups as target which contain
thousands of ports.

Without deferred deletion the agent will call ovs-ofctl several
hundred times in succession, during this time the agent will
block any new vm creation or neutron port modifications on this
hypervisor.

This patch has been tested using a single network with a single
vm with a security group that points to a remote security group
with 2000 ports.

During testing without the patch, the iteration time for deletion
was at around 500 seconds. After adding the patch to the l2 agent
on the test environment the same deletion time went down to
4 seconds.

Closes-Bug: #1975674
Change-Id: I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8
(cherry picked from commit e09b128f416a809cd7734aba8ab52220ea01b2e2)
"
openstack%2Fopenstacksdk~master~I94f721a5c1b2174314ef02c683084dabb0593882,openstack/openstacksdk,master,addr_gr_proxy_tests,I94f721a5c1b2174314ef02c683084dabb0593882,Add network address_group proxy doc and unit tests,MERGED,2022-02-22 11:38:37.000000000,2022-06-10 13:11:43.000000000,2022-06-10 13:10:12.000000000,65,0,1,830380,299ab27b88d55b64d2eedabc270ef3087d180926,14,5,4,2,32667,Mamatisa Nurmatov,isabek,"Add network address_group proxy doc and unit tests

Change-Id: I94f721a5c1b2174314ef02c683084dabb0593882
"
openstack%2Fneutron~stable%2Fvictoria~I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8,openstack/neutron,stable/victoria,bug/1975674,I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8,Defer flow deletion in openvswitch firewall,MERGED,2022-06-08 08:10:40.000000000,2022-06-10 13:11:40.000000000,2022-06-10 13:10:00.000000000,1,1,0,845101,f0ee78d0e7067636ea9fcfbb529171f339b2ccbe,9,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Defer flow deletion in openvswitch firewall

Reduces the deletion time of conjunction flows on hypervisors
where virtual machines reside which are part of a security
group that has remote security groups as target which contain
thousands of ports.

Without deferred deletion the agent will call ovs-ofctl several
hundred times in succession, during this time the agent will
block any new vm creation or neutron port modifications on this
hypervisor.

This patch has been tested using a single network with a single
vm with a security group that points to a remote security group
with 2000 ports.

During testing without the patch, the iteration time for deletion
was at around 500 seconds. After adding the patch to the l2 agent
on the test environment the same deletion time went down to
4 seconds.

Closes-Bug: #1975674
Change-Id: I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8
(cherry picked from commit e09b128f416a809cd7734aba8ab52220ea01b2e2)
"
openstack%2Fneutron~stable%2Ftrain~I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8,openstack/neutron,stable/train,bug/1975674,I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8,Defer flow deletion in openvswitch firewall,MERGED,2022-06-08 08:11:33.000000000,2022-06-10 13:11:35.000000000,2022-06-10 13:10:09.000000000,1,1,0,845103,8ad6abbf792c25915fda93cd11c41291436709b8,8,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Defer flow deletion in openvswitch firewall

Reduces the deletion time of conjunction flows on hypervisors
where virtual machines reside which are part of a security
group that has remote security groups as target which contain
thousands of ports.

Without deferred deletion the agent will call ovs-ofctl several
hundred times in succession, during this time the agent will
block any new vm creation or neutron port modifications on this
hypervisor.

This patch has been tested using a single network with a single
vm with a security group that points to a remote security group
with 2000 ports.

During testing without the patch, the iteration time for deletion
was at around 500 seconds. After adding the patch to the l2 agent
on the test environment the same deletion time went down to
4 seconds.

Closes-Bug: #1975674
Change-Id: I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8
(cherry picked from commit e09b128f416a809cd7734aba8ab52220ea01b2e2)
"
openstack%2Fceilometer~master~Iedf7f5aea15920053fb7a0b24e44e24db209edec,openstack/ceilometer,master,,Iedf7f5aea15920053fb7a0b24e44e24db209edec,Replace CentOS Stream 8 by 9,MERGED,2022-05-06 03:49:40.000000000,2022-06-10 12:53:06.000000000,2022-06-10 12:50:53.000000000,8,4,11,840809,0ca700e986060ca34d17cdbba01f40d36b1f592c,29,2,5,1,9816,Takashi Kajinami,kajinamit,"Replace CentOS Stream 8 by 9

The latest cinder requires Python >=3.8 which is not available in
CentOS Stream 8. This bumps the base OS version to 9 which has Python
3.9.

This change makes the fips job non-voting because it is frequently
failing now.

Depends-on: https://review.opendev.org/840811
Change-Id: Iedf7f5aea15920053fb7a0b24e44e24db209edec
"
openstack%2Fnetworking-baremetal~master~Iebb6cd871496ddd2d885714b476f3d8885f5001c,openstack/networking-baremetal,master,,Iebb6cd871496ddd2d885714b476f3d8885f5001c,The Python 3.6 and Python 3.7 Support has been dropped since zed,MERGED,2022-06-04 06:25:49.000000000,2022-06-10 12:18:30.000000000,2022-06-10 12:16:20.000000000,1,3,0,844673,b3e01b4baeda6e5018e7443a103be722947fa832,8,3,1,1,23360,Eric Lei,leiyashuai,"The Python 3.6 and Python 3.7 Support has been dropped since zed

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Iebb6cd871496ddd2d885714b476f3d8885f5001c
"
openstack%2Fnetworking-baremetal~master~I317d5cb0280bc8a23f5c1c3cbe10117eee5001b4,openstack/networking-baremetal,master,babel,I317d5cb0280bc8a23f5c1c3cbe10117eee5001b4,Remove babel.cfg,MERGED,2022-06-01 14:28:23.000000000,2022-06-10 12:17:36.000000000,2022-06-10 12:16:19.000000000,0,16,0,844303,f2bdac65b9cd1a3e72773a1523a7afc1da312ba0,10,4,2,2,32029,likui,likui,"Remove babel.cfg

Remove babel.cfg and the translation bits from setup.cfg, those are not
needed anymore.

Change-Id: I317d5cb0280bc8a23f5c1c3cbe10117eee5001b4
"
openstack%2Fsahara~master~I117657e9861a55a751522dba3e3b1e75a22f9711,openstack/sahara,master,,I117657e9861a55a751522dba3e3b1e75a22f9711,Bump oslo.* and pbr version to support >=py38,MERGED,2022-06-09 06:17:12.000000000,2022-06-10 12:09:31.000000000,2022-06-10 12:08:10.000000000,8,8,2,845222,0281a77cdaf8253835f95bd2568602d81eb6c114,22,3,7,2,26458,Brin Zhang,zhangbailin,"Bump oslo.* and pbr version to support >=py38

In zed cycle, OpenStack projects and oslo lib
has dropped the py3.6 and py3.7 support

- https://governance.openstack.org/tc/reference/runtimes/zed.html

I also decrepated oslo-log < 5.0.0, so we should bump oslo.log>=5.0.0.

Because of oslo.log>=5.0.0 depends on oslo.i18n>=3.20.0 as below, so we
also need to upgrade oslo.i18n.

The conflict is caused by:
    The user requested oslo.i18n>=3.15.3
    python-saharaclient 1.4.0 depends on oslo.i18n>=3.15.3
    castellan 0.16.0 depends on oslo.i18n>=3.15.3
    keystonemiddleware 4.17.0 depends on oslo.i18n!=3.15.2 and >=2.1.0
    oslo-config 6.8.0 depends on oslo.i18n>=3.15.3
    oslo-concurrency 3.26.0 depends on oslo.i18n>=3.15.3
    oslo-db 6.0.0 depends on oslo.i18n>=3.15.3
    oslo-log 5.0.0 depends on oslo.i18n>=3.20.0
    The user requested (constraint) oslo-i18n==3.15.3

The conflict is caused by:
    The user requested pbr!=2.1.0 and >=2.0.0
    bashate 0.5.1 depends on pbr>=1.6
    fixtures 3.0.0 depends on pbr>=0.11
    stestr 1.0.0 depends on pbr!=2.1.0 and >=2.0.0
    testresources 2.0.0 depends on pbr>=1.8
    testtools 2.4.0 depends on pbr>=0.11
    python-saharaclient 1.4.0 depends on pbr!=2.1.0 and >=2.0.0
    castellan 0.16.0 depends on pbr!=2.1.0 and >=2.0.0
    keystoneauth1 3.4.0 depends on pbr!=2.1.0 and >=2.0.0
    keystonemiddleware 4.17.0 depends on pbr!=2.1.0 and >=2.0.0
    oslo-concurrency 3.26.0 depends on pbr!=2.1.0 and >=2.0.0
    oslo-context 2.22.0 depends on pbr!=2.1.0 and >=2.0.0
    oslo-db 6.0.0 depends on pbr!=2.1.0 and >=2.0.0
    oslo-i18n 3.20.0 depends on pbr!=2.1.0 and >=2.0.0
    oslo-log 5.0.0 depends on pbr>=3.1.1
    The user requested (constraint) pbr==2.0.0

The conflict is caused by:
    The user requested oslo.serialization!=2.19.1 and >=2.18.0
    python-saharaclient 1.4.0 depends on oslo.serialization!=2.19.1 and >=2.18.0
    keystonemiddleware 4.17.0 depends on oslo.serialization!=2.19.1 and >=1.10.0
    oslo-log 5.0.0 depends on oslo.serialization>=2.25.0
    The user requested (constraint) oslo-serialization==2.18.0

Change-Id: I117657e9861a55a751522dba3e3b1e75a22f9711
"
openstack%2Fpuppet-ironic~master~I1e979159116f25a404b5f081c02352a6f2412074,openstack/puppet-ironic,master,,I1e979159116f25a404b5f081c02352a6f2412074,Use native implementation to add listen for apache vhost,MERGED,2022-06-02 00:47:35.000000000,2022-06-10 11:55:29.000000000,2022-06-10 11:55:29.000000000,4,12,0,844347,a612ff0b670b5d0514785c38658b4865cf84216f,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Use native implementation to add listen for apache vhost

Currently the vhost management in ironic::pxe has its own logic to
inject the Listen option into the vhost configuration file instead of
the core apache configuration file but these two should be effectively
same as long as vhosts are properly configured.

Because we globally use the implementation in puppetlabs-apache which
adds Listen to the core file, this replaces own mechanism by that
existing implementation to simplify the own logics.

Change-Id: I1e979159116f25a404b5f081c02352a6f2412074
"
openstack%2Fnetworking-generic-switch~master~If948622338881d80f134aa39a929756a010e6e2d,openstack/networking-generic-switch,master,setup,If948622338881d80f134aa39a929756a010e6e2d,The Python 3.6 and Python 3.7 Support has been dropped since zed,MERGED,2022-06-01 14:34:49.000000000,2022-06-10 11:46:19.000000000,2022-06-10 11:43:05.000000000,1,3,0,844306,0443259976af3676868858a44414a1ff771b4477,9,4,1,1,32029,likui,likui,"The Python 3.6 and Python 3.7 Support has been dropped since zed

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: If948622338881d80f134aa39a929756a010e6e2d
"
openstack%2Fnetworking-generic-switch~master~I7baecda1c45d352c3a4c836761be9bd51fb798ae,openstack/networking-generic-switch,master,drop-l-c,I7baecda1c45d352c3a4c836761be9bd51fb798ae,Drop lower-constraints.txt and its testing,MERGED,2022-06-01 14:36:59.000000000,2022-06-10 11:45:24.000000000,2022-06-10 11:43:03.000000000,0,96,0,844307,3c90da31a8422d6eae8b8a00e457456e63b693b1,9,4,1,3,32029,likui,likui,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I7baecda1c45d352c3a4c836761be9bd51fb798ae
"
openstack%2Fkayobe~master~I2823016294e7df63f63be9ab26535b3962a71ebe,openstack/kayobe,master,,I2823016294e7df63f63be9ab26535b3962a71ebe,Add support for dellos10 switch configuration,MERGED,2022-01-04 18:13:12.000000000,2022-06-10 11:40:34.000000000,2022-06-10 11:39:21.000000000,48,12,3,823416,1fbb5cb4001e85469e60c392f47e5cca5e4e3c62,19,3,6,9,28048,Will Szumski,jovial,"Add support for dellos10 switch configuration

Change-Id: I2823016294e7df63f63be9ab26535b3962a71ebe
"
openstack%2Ftripleo-upgrade~master~Ice6887848be3e1200a14d10f12c7464dc5008836,openstack/tripleo-upgrade,master,,Ice6887848be3e1200a14d10f12c7464dc5008836,Use ctlplane_hostname in inventory filters in tripleo-upgrade,NEW,2022-06-03 08:47:15.000000000,2022-06-10 11:39:57.000000000,,8,1,4,844561,55ee8d70029efe41c27ac4c40fc3f2d3978d9e22,9,4,3,1,33080,Mikolaj Ciecierski,mciecierski,"Use ctlplane_hostname in inventory filters in tripleo-upgrade

The inventory filters for tripleo-upgrade get shortnames of hosts when
building to_inventory_hostmap. However this is incorrect, because
shortnames point to ips from internal_api network. There is no access
from undercloud to internal_api network and we should use ctlplane
network to connect to overcloud node from undercloud instead.

Change-Id: Ice6887848be3e1200a14d10f12c7464dc5008836
"
openstack%2Fneutron~master~I5edd8d1093c8f209eec42af0ba495c36c9e45c98,openstack/neutron,master,1976355,I5edd8d1093c8f209eec42af0ba495c36c9e45c98,Do not auto subquery load PortBindingLeve,ABANDONED,2022-06-04 09:24:39.000000000,2022-06-10 11:34:17.000000000,,1,1,4,844699,b821fb9d730e6a8523e6df4f8f80c6fa181205b8,9,2,1,1,32352,liujinxin,liujinxin,"Do not auto subquery load PortBindingLeve

ml2_port_binding_levels is not used except explicitly called. So IMO it is safe to change it to
default lazy load without causing serious regression.

Closes-bug: #1976355

Change-Id: I5edd8d1093c8f209eec42af0ba495c36c9e45c98
"
openstack%2Fironic~master~I4ae4bfca87c19183d26b9928a3496c63b9f4aab3,openstack/ironic,master,update-bugfix-docs,I4ae4bfca87c19183d26b9928a3496c63b9f4aab3,Update bugfix section,MERGED,2022-05-10 13:54:42.000000000,2022-06-10 11:13:46.000000000,2022-06-10 11:12:21.000000000,7,1,2,841294,59d4cc666b2a25dcd2228b6f8a91ed421a8a5446,15,4,3,1,23851,Riccardo Pittau,elfosardo,"Update bugfix section

Remove bifrost mention
Add a note to remind to update the u-c links in tox.ini

Change-Id: I4ae4bfca87c19183d26b9928a3496c63b9f4aab3
"
openstack%2Fpython-ironicclient~master~I91efe328b33d7f0443cafb1f67d8c2dbd7df5996,openstack/python-ironicclient,master,setup,I91efe328b33d7f0443cafb1f67d8c2dbd7df5996,The Python 3.6 and Python 3.7 Support has been dropped since zed,MERGED,2022-06-01 08:18:07.000000000,2022-06-10 11:13:39.000000000,2022-06-10 11:12:19.000000000,1,3,0,844255,dfbd08f35fba7fdbcfce8241025dc8681d787e09,9,4,1,1,32029,likui,likui,"The Python 3.6 and Python 3.7 Support has been dropped since zed

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I91efe328b33d7f0443cafb1f67d8c2dbd7df5996
"
openstack%2Fironic-python-agent~stable%2Fxena~I0fd6356f036d5ff17510fb838eaf418164cdfc92,openstack/ironic-python-agent,stable/xena,,I0fd6356f036d5ff17510fb838eaf418164cdfc92,Multipath Hardware path handling,MERGED,2022-06-07 09:45:26.000000000,2022-06-10 11:13:26.000000000,2022-06-10 11:12:12.000000000,722,49,0,844933,faf2ee2df8ddf3cba80eaa8acbd8b0cf0225ee10,12,3,3,7,23851,Riccardo Pittau,elfosardo,"Multipath Hardware path handling

Removes multipath base devices from consideration by
default, and instead allows the device-mapper device
managed by multipath to be picked up and utilized
instead.

In effect, allowing us to ignore standby paths *and*
leverage multiple concurrent IO paths if so offered
via ALUA.

In reality, anyone who has previously built IPA with
multipath tooling might not have encountered issues
previously because they used Active/Active SAN storage
environments. They would have worked because the IO lock
would have been exchanged between controllers and paths.
However, Active/Passive environments will block passive
paths from access, ultimately preventing new locks from
being established without proper negotiation. Ultimately
requiring multipathing *and* the agent to be smart enough
to know to disqualify underlying paths to backend storage
volumes.

An additional benefit of this is active/active MPIO devices
will, as long as ``multipath`` is present inside the ramdisk,
no longer possibly result in duplicate IO wipes occuring
accross numerous devices.

Story: #2010003
Task: #45108
Resolves: rhbz#2076622
Resolves: rhbz#2070519
Change-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92
(cherry picked from commit 014d37743a3b5694e0e2a3cabfafe885417172d5)
"
openstack%2Fneutron~stable%2Fxena~I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8,openstack/neutron,stable/xena,bug/1975674,I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8,Defer flow deletion in openvswitch firewall,MERGED,2022-06-08 08:09:45.000000000,2022-06-10 10:47:45.000000000,2022-06-10 10:46:22.000000000,1,1,0,845099,6a27dd1f2ba667aa6eac3a553a50ddf611b46cd1,10,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Defer flow deletion in openvswitch firewall

Reduces the deletion time of conjunction flows on hypervisors
where virtual machines reside which are part of a security
group that has remote security groups as target which contain
thousands of ports.

Without deferred deletion the agent will call ovs-ofctl several
hundred times in succession, during this time the agent will
block any new vm creation or neutron port modifications on this
hypervisor.

This patch has been tested using a single network with a single
vm with a security group that points to a remote security group
with 2000 ports.

During testing without the patch, the iteration time for deletion
was at around 500 seconds. After adding the patch to the l2 agent
on the test environment the same deletion time went down to
4 seconds.

Closes-Bug: #1975674
Change-Id: I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8
(cherry picked from commit e09b128f416a809cd7734aba8ab52220ea01b2e2)
"
openstack%2Fneutron~stable%2Fyoga~I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8,openstack/neutron,stable/yoga,bug/1975674,I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8,Defer flow deletion in openvswitch firewall,MERGED,2022-06-08 08:09:26.000000000,2022-06-10 10:33:48.000000000,2022-06-10 10:32:10.000000000,1,1,1,845098,0ca155596c3699a018993e065332a33801c6b81f,10,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Defer flow deletion in openvswitch firewall

Reduces the deletion time of conjunction flows on hypervisors
where virtual machines reside which are part of a security
group that has remote security groups as target which contain
thousands of ports.

Without deferred deletion the agent will call ovs-ofctl several
hundred times in succession, during this time the agent will
block any new vm creation or neutron port modifications on this
hypervisor.

This patch has been tested using a single network with a single
vm with a security group that points to a remote security group
with 2000 ports.

During testing without the patch, the iteration time for deletion
was at around 500 seconds. After adding the patch to the l2 agent
on the test environment the same deletion time went down to
4 seconds.

Closes-Bug: #1975674
Change-Id: I46b1fe94b2e358f7f4b2cd4943a74ebaf84f51b8
(cherry picked from commit e09b128f416a809cd7734aba8ab52220ea01b2e2)
"
openstack%2Ftripleo-common~master~Ia1154701c70c8f9cc02a201d24fbadbc11ae7697,openstack/tripleo-common,master,,Ia1154701c70c8f9cc02a201d24fbadbc11ae7697,Drop collectd-dbi from collectd base container,MERGED,2022-06-08 11:14:15.000000000,2022-06-10 10:24:37.000000000,2022-06-10 10:22:48.000000000,0,1,4,845117,f73c56eff4c17d3f22e2b71ddba8bd530b41941c,16,7,1,1,29775,Sandeep Yadav,sandeepyadav93,"Drop collectd-dbi from collectd base container

With this patch, Dropping collectd-dbi from collectd base container
the necessary dependencies to build these were removed from the
distribution and the Plugins were not used (more details in [1])

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2094409

Closes-Bug: rhbz#2094409
Change-Id: Ia1154701c70c8f9cc02a201d24fbadbc11ae7697
"
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Iba03aed76fab1977e2b51ef69e8e08a493152ed6,openstack/python-tripleoclient,stable/victoria,,Iba03aed76fab1977e2b51ef69e8e08a493152ed6,Dedup host entries in the exported data for stacks,MERGED,2022-06-05 23:21:51.000000000,2022-06-10 10:23:55.000000000,2022-06-10 10:22:46.000000000,5,1,3,844487,b8d57c0b6c4a2935cfcf00dd7b888932aeb5436e,17,2,1,2,9816,Takashi Kajinami,kajinamit,"Dedup host entries in the exported data for stacks

Do not add extra host entries for VIPs for stacks deployed off the
exported data, since it already contains those entries

This is done by setting AddVipsToEtcHosts to False.
Then a stack is deployed, no more VIPs will be added into /etc/hosts
of the targeted hosts.

Change-Id: Iba03aed76fab1977e2b51ef69e8e08a493152ed6
Closes-bug: #1911792
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit e3c118756fa056602afe47136aaae77e3170b8bc)
"
openstack%2Fnetworking-baremetal~master~I73aa55e0b985e318ce69783869b08eb7e60555d9,openstack/networking-baremetal,master,tox,I73aa55e0b985e318ce69783869b08eb7e60555d9,Replace deprecated UPPER_CONSTRAINTS_FILE variable,MERGED,2022-06-01 14:31:21.000000000,2022-06-10 10:09:32.000000000,2022-06-10 10:07:57.000000000,1,1,0,844304,bfb6ee061e21b30e3622a6c6ae25feac8d2e6445,9,4,1,1,32029,likui,likui,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is old name and deprecated

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: I73aa55e0b985e318ce69783869b08eb7e60555d9
"
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I2e8bee6d98e264bc642cad04fce1b6de39acd3b5,openstack/puppet-openstack-integration,stable/wallaby,,I2e8bee6d98e264bc642cad04fce1b6de39acd3b5,Wallaby and before: Ubuntu: Use utf8mb3 charset in MySQL for Panko,MERGED,2022-06-07 14:40:43.000000000,2022-06-10 10:08:55.000000000,2022-06-10 10:08:55.000000000,1,0,0,844992,9d0f60d05b0ca15853f139a478f794e9d2dfdac7,8,5,2,1,9816,Takashi Kajinami,kajinamit,"Wallaby and before: Ubuntu: Use utf8mb3 charset in MySQL for Panko

This is follow-up of 3771872b87b28030bbbcf8bb18ef8f97fde09106 and fixes
the charset used for the Panko database. Panko was removed during Xena
cycle and it was missed by the previous change.

Change-Id: I2e8bee6d98e264bc642cad04fce1b6de39acd3b5
"
openstack%2Fsushy~master~I73c068767b78f29abb51a597d6b0a1c339bc535e,openstack/sushy,master,,I73c068767b78f29abb51a597d6b0a1c339bc535e,Remove unicode literal from code,MERGED,2022-06-09 07:34:25.000000000,2022-06-10 09:55:46.000000000,2022-06-10 09:54:34.000000000,11,11,0,845230,0179cabfc938d24b6a4629924d412e842f812c45,9,3,2,2,33881,LiZekun,joeylee666666,"Remove unicode literal from code

All strings are considered as unicode literal string from Python 3.

This patch drops the explicit unicode literal (u'...')
appearances from the unicode strings.

Change-Id: I73c068767b78f29abb51a597d6b0a1c339bc535e
"
openstack%2Fopenstacksdk~master~I2c6f55031fad0384dce6f78792c99d76308032c1,openstack/openstacksdk,master,,I2c6f55031fad0384dce6f78792c99d76308032c1,Update python testing as per zed cycle teting runtime,NEW,2022-06-04 08:43:37.000000000,2022-06-10 09:54:22.000000000,,6,3,0,844696,3b125897ae116a15ac97db3929e0a07f73475938,3,1,1,2,33436,YuehuiLei,leiyuehui,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I2c6f55031fad0384dce6f78792c99d76308032c1
"
openstack%2Fkolla-ansible~master~Id3b2f65b483790385cd4d47b033278f86aa60de9,openstack/kolla-ansible,master,,Id3b2f65b483790385cd4d47b033278f86aa60de9,haproxy: add docs for custom services,NEW,2022-06-06 08:52:17.000000000,2022-06-10 09:53:28.000000000,,36,0,18,844812,55e900d3d1494fcd3b4135059dfbe5f44783bc59,16,3,4,1,14826,Mark Goddard,mgoddard,"haproxy: add docs for custom services

Change-Id: Id3b2f65b483790385cd4d47b033278f86aa60de9
"
openstack%2Fbifrost~master~Idaba23e5308bb91915370f36a085ed26c03d7cfd,openstack/bifrost,master,,Idaba23e5308bb91915370f36a085ed26c03d7cfd,Drop lower-constraints.txt and its testing,MERGED,2022-06-04 04:05:38.000000000,2022-06-10 09:49:53.000000000,2022-06-10 09:48:38.000000000,0,6,0,844667,a5ceb4060cd0ca788376204670fd6c2662dc9c0a,8,3,1,1,23360,Eric Lei,leiyashuai,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Idaba23e5308bb91915370f36a085ed26c03d7cfd
"
openstack%2Fpuppet-octavia~master~I33d7a11514508a459546c905afe2165fb9fa1ebf,openstack/puppet-octavia,master,hm-opts,I33d7a11514508a459546c905afe2165fb9fa1ebf,Move common parameters from the health_manager class,MERGED,2022-06-02 04:27:36.000000000,2022-06-10 09:28:53.000000000,2022-06-10 09:27:37.000000000,84,23,5,844360,dd729322ab31b72194ab58f630fdc20a35527549,17,5,4,4,9816,Takashi Kajinami,kajinamit,"Move common parameters from the health_manager class

Some health_manager parameters are used not only by health-manager but
also by worker. This change migrates the parameter used by these two
services from the health_manager class to the controller class, so that
we can deploy these two services separately.

Change-Id: I33d7a11514508a459546c905afe2165fb9fa1ebf
"
openstack%2Fpuppet-openstack_spec_helper~master~I306110131000cc29b58e0c2a8f17037286b8004b,openstack/puppet-openstack_spec_helper,master,c9-litmus,I306110131000cc29b58e0c2a8f17037286b8004b,"Revert ""Disable litmus when Ruby 3""",MERGED,2022-06-07 08:21:21.000000000,2022-06-10 09:22:39.000000000,2022-06-10 09:22:39.000000000,3,13,0,844923,dd267853f35e8800eeb27691a165c8e16fe74dfb,12,4,3,2,9816,Takashi Kajinami,kajinamit,"Revert ""Disable litmus when Ruby 3""

This reverts commit 57e6de9985f1ad14a149a468b1339d473e2c1ef8.

Reason for revert:
The new bolt 3.23.0, which is compatible with Ruby 3,  was released.

Change-Id: I306110131000cc29b58e0c2a8f17037286b8004b
"
openstack%2Fkayobe~master~I6ae44dcae78424b4638762d015cf24336444707f,openstack/kayobe,master,,I6ae44dcae78424b4638762d015cf24336444707f,Add introspection rule to update deploy kernel location,NEW,2021-09-09 16:43:18.000000000,2022-06-10 09:22:37.000000000,,40,1,3,808111,b8457c17345731697d029fb4e9fe0ac9ae9f95ec,9,2,2,5,15197,Pierre Riteau,priteau,"Add introspection rule to update deploy kernel location

Back in the Ussuri release, we changed the Bifrost kernel location to
use ipa.kernel instead of ipa.vmlinuz. While this works fine for newly
discovered nodes, any node added to Bifrost in Train or earlier will
have kept ipa.vmlinuz as its deploy kernel.

This can cause issues since upgrading Bifrost or building new deployment
images will update ipa.kernel, but not ipa.vmlinuz, resulting in nodes
booting with an old kernel and a new ramdisk.

Fix by adding a new rule updating the legacy kernel location and
documenting how to update node information.

Change-Id: I6ae44dcae78424b4638762d015cf24336444707f
"
openstack%2Fkayobe~master~Icfc5cbc80af1199ad00f78292c6228273af701aa,openstack/kayobe,master,,Icfc5cbc80af1199ad00f78292c6228273af701aa,docs: update switch list to include arista eos,MERGED,2021-11-16 12:28:13.000000000,2022-06-10 09:20:47.000000000,2022-06-10 09:19:37.000000000,21,0,5,818079,9d8f8645e2fba9490e7e02ddd6bd0da465176f23,17,4,3,1,782,John Garbutt,johngarbutt,"docs: update switch list to include arista eos

The support was added in this commit, but the docs were not updated:
c6263dbfd4dfbac5f53a4fdd94b154811fbd0af6

Change-Id: Icfc5cbc80af1199ad00f78292c6228273af701aa
"
openstack%2Fcinderlib~master~Ifd1b8099c07d90a57ed86726d18de6db82d65c2f,openstack/cinderlib,master,,Ifd1b8099c07d90a57ed86726d18de6db82d65c2f,DNM test cinderlib against master,NEW,2022-06-10 07:19:00.000000000,2022-06-10 09:08:40.000000000,,6,19,0,845326,b1a550a4715c6d374801be8eff24d78310e1ec5d,2,1,1,1,16312,Alfredo Moralejo,amoralej,"DNM test cinderlib against master

Package is failing to build in RDO in master. I want to test if this
happens upstream.

Revert ""Use stable/yoga override for CI jobs""

This reverts commit 84c6b102b88ce439730fd39015fc5bb4e8afc42d.

Change-Id: Ifd1b8099c07d90a57ed86726d18de6db82d65c2f
"
openstack%2Ftripleo-ci~master~I9124efee1add2fe2f126e897ec80ecceb831b9a9,openstack/tripleo-ci,master,create-sc012-option-job,I9124efee1add2fe2f126e897ec80ecceb831b9a9,Create scenario012 -options job,MERGED,2022-05-23 13:24:31.000000000,2022-06-10 08:56:16.000000000,2022-06-10 08:56:16.000000000,16,6,38,842973,92586062da9fdc0fdc0f95344bf9b79535e4a4a5,46,7,5,1,20182,Bhagyashri Shewale,bhagyashris,"Create scenario012 -options job

This patch create the scenario012-options job.

Change-Id: I9124efee1add2fe2f126e897ec80ecceb831b9a9
"
openstack%2Frequirements~stable%2Fxena~Ided1128cd5410fe4d69f350713e4c962db972668,openstack/requirements,stable/xena,,Ided1128cd5410fe4d69f350713e4c962db972668,Fix pyroute2 global requirements,MERGED,2022-06-09 12:44:44.000000000,2022-06-10 08:51:19.000000000,2022-06-10 08:51:19.000000000,1,2,0,845268,5bb31b8753fdb5d92edbc35bc820ac84dbc7ece7,8,7,1,1,13861,yatin,yatinkarel,"Fix pyroute2 global requirements

It was wrongly updated with exclusive conditions
i.e pyroute2>=0.6.6,<0.5.19 in xena[1], this patch
fixes it and does same as done for wallaby[2].
The issue was noticed in requirements-check job when
updating minimum requirements of pyroute2 in neutron[3].

[1] https://review.opendev.org/c/openstack/requirements/+/840681
[2] https://review.opendev.org/c/openstack/requirements/+/840682
[3] https://review.opendev.org/c/openstack/neutron/+/844364

Change-Id: Ided1128cd5410fe4d69f350713e4c962db972668
"
openstack%2Foctavia~master~I4068c7836c89cf81220884000899aba6ba55ab48,openstack/octavia,master,fix-docs-invalid-node-name-error,I4068c7836c89cf81220884000899aba6ba55ab48,Fix error when building docs,ABANDONED,2022-06-09 06:25:17.000000000,2022-06-10 08:36:30.000000000,,1,1,0,845224,16d943d8fdb630a09defbe9c78e898a0ffbb6a3e,7,2,2,1,34429,Tom Weininger,tweining,"Fix error when building docs

Since the update from networkx version 2.8.2 to version 2.8.3 the docs
build fails with:

  Configuration error:
  There is a programmable error in your configuration file:

  [...]

  ValueError: linear_flow.Flow: octavia-create-amphora-flow(len=12) is not
  a valid node name while using pydot. Please refer
  https://github.com/pydot/pydot/issues/258

Forcing the older version as a workaround for now.

Story: 2010083
Task: 45581
Depends-On: https://review.opendev.org/c/openstack/octavia/+/845146

Change-Id: I4068c7836c89cf81220884000899aba6ba55ab48
"
openstack%2Ftacker~master~I114ca55788b697b2cb82fffcc1d94ca5ca340761,openstack/tacker,master,test,I114ca55788b697b2cb82fffcc1d94ca5ca340761,[DNM] test,ABANDONED,2022-06-10 08:33:50.000000000,2022-06-10 08:34:30.000000000,,1,0,0,845334,33294c30104f0fe8a843a9fcb27924d3d210baf8,2,0,1,1,34634,Yonggen Sun,sunyonggen,"[DNM] test

Change-Id: I114ca55788b697b2cb82fffcc1d94ca5ca340761
"
openstack%2Fneutron~stable%2Ftrain~I2c6f09548f39cadfe85e57032091a70a5bc978e5,openstack/neutron,stable/train,bug/1977752,I2c6f09548f39cadfe85e57032091a70a5bc978e5,"Add ""max-rate"" value to minimum bandwidth rules",MERGED,2022-06-09 08:33:03.000000000,2022-06-10 08:33:38.000000000,2022-06-10 08:32:05.000000000,13,5,0,845240,9dd0cce8fd53534b479dd8159d7d0f7fdc197893,8,3,1,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add ""max-rate"" value to minimum bandwidth rules

OVS translates the QoS and associated queue registers,
attached to a port, into ""tc"" linux-htb classfull traffic
shaper, applied on the port.

OVS creates a ""tc"" root class on the port device. On top of
this root class, the queues are represented as child ""tc""
classes. In order to define a ""min-rate"" value (""tc rate""),
a ""max-rate"" value (""tc ceil"") must be provided and higher than
""min-rate"".

By default, OVS agent QoS minimum rules do not have a ""max-rate""
defined. Before this patch, any minimum bandwidth rule was
limiting the maximum rate to 100Mbit/s, that is the default value
set in ""tc ceil"". This patch provides the maximum ""max-rate"" value
for any minimum bandwidth rule.

Closes-Bug: #1977752

Conflicts:
    neutron/agent/common/ovs_lib.py
    neutron/tests/functional/agent/common/test_ovs_lib.py
    neutron/tests/fullstack/test_qos.py

Change-Id: I2c6f09548f39cadfe85e57032091a70a5bc978e5
(cherry picked from commit a575dbc4a1aa7c44bba7ada4571a85d21120261e)
(cherry picked from commit cd87a7cbd1c56e502046d223f8c01edd6a5c6856)
"
openstack%2Fneutron~stable%2Fussuri~I2c6f09548f39cadfe85e57032091a70a5bc978e5,openstack/neutron,stable/ussuri,bug/1977752,I2c6f09548f39cadfe85e57032091a70a5bc978e5,"Add ""max-rate"" value to minimum bandwidth rules",MERGED,2022-06-09 08:28:40.000000000,2022-06-10 08:29:40.000000000,2022-06-10 08:28:09.000000000,13,5,6,845238,0e7013af7a05976a5940dc3045a2bf56fc05c1aa,17,3,2,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add ""max-rate"" value to minimum bandwidth rules

OVS translates the QoS and associated queue registers,
attached to a port, into ""tc"" linux-htb classfull traffic
shaper, applied on the port.

OVS creates a ""tc"" root class on the port device. On top of
this root class, the queues are represented as child ""tc""
classes. In order to define a ""min-rate"" value (""tc rate""),
a ""max-rate"" value (""tc ceil"") must be provided and higher than
""min-rate"".

By default, OVS agent QoS minimum rules do not have a ""max-rate""
defined. Before this patch, any minimum bandwidth rule was
limiting the maximum rate to 100Mbit/s, that is the default value
set in ""tc ceil"". This patch provides the maximum ""max-rate"" value
for any minimum bandwidth rule.

Closes-Bug: #1977752

Conflicts:
    neutron/agent/common/ovs_lib.py
    neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: I2c6f09548f39cadfe85e57032091a70a5bc978e5
(cherry picked from commit a575dbc4a1aa7c44bba7ada4571a85d21120261e)
"
openstack%2Fglance~master~I0ab5c2a959d229184e47098d739881e5c69996b7,openstack/glance,master,bp/implement-unified-limits,I0ab5c2a959d229184e47098d739881e5c69996b7,[WIP] Implement unified limits,ABANDONED,2020-06-01 14:03:34.000000000,2022-06-10 08:08:59.000000000,,76,0,4,732374,e4fda8649eaee98dc4ccc17f0fb88723087c01a9,4,1,2,8,28595,Victor Coutellier,alistarle,"[WIP] Implement unified limits

Initial poc of the unified limits itnegration in glance.
It contain a bash script to help setup the environment.

Todo:
- Finish unit tests
- Add configuration option to toggle unified limits
- Add GET /usage route to retrieve quota usage if done in glance
- Integration tests
- Documentation

Change-Id: I0ab5c2a959d229184e47098d739881e5c69996b7
Implements: blueprint implement-unified-limits
"
openstack%2Ftacker~master~I046d9ecdf1b0208ba88e115bd66cb432ccb56bf2,openstack/tacker,master,test,I046d9ecdf1b0208ba88e115bd66cb432ccb56bf2,[DNM] test account,ABANDONED,2022-06-10 07:44:29.000000000,2022-06-10 07:47:32.000000000,,1,0,0,845329,6145fe673a451e28306a1fb51eccc3fdfd122a2e,2,0,1,1,34997,Qibin Yao,yaoqb,"[DNM] test account

Change-Id: I046d9ecdf1b0208ba88e115bd66cb432ccb56bf2
"
openstack%2Frequirements~master~Ia7d256f67c74d8bcc28c89f59d7cd70fbe28c3a7,openstack/requirements,master,,Ia7d256f67c74d8bcc28c89f59d7cd70fbe28c3a7,Remove futures from constraints,ABANDONED,2021-10-23 00:59:22.000000000,2022-06-10 07:27:36.000000000,,0,1,4,815181,a01e169f3682c1ec06c3ab8009fdc87a152aac02,10,2,2,1,8863,Andrii Ostapenko,aostapenko,"Remove futures from constraints

Component reintroduced [0] after being removed [1].
According to [2] futures is not intended for python3 and does not work
with it.

[0] https://review.opendev.org/c/openstack/requirements/+/813954
[1] https://review.opendev.org/c/openstack/requirements/+/813693
[2] https://pypi.org/project/futures/

Change-Id: Ia7d256f67c74d8bcc28c89f59d7cd70fbe28c3a7
"
openstack%2Fsahara~master~Ie3f0da2775b59df8d01e560b4e507cd331948ae7,openstack/sahara,master,,Ie3f0da2775b59df8d01e560b4e507cd331948ae7,Python3.6/3.7 are deleted in testing runtime,MERGED,2022-05-13 10:52:48.000000000,2022-06-10 07:24:42.000000000,2022-06-10 07:23:19.000000000,2,3,2,841715,7f3c2dd0b58ef0b771cdb41016a02fad56c9b9bd,12,3,1,1,34375,hejunli,hejunli,"Python3.6/3.7 are deleted in testing runtime

Python3.6 and Python3.7 are no longer supported by zed cycle tests, and Python3.9 was added when Python3.6 and Python3.7 were removed.

Change-Id: Ie3f0da2775b59df8d01e560b4e507cd331948ae7
"
openstack%2Fpython-tripleoclient~master~I4de2ab8b9fe1f1541e04d3c863db81c5cada0cd6,openstack/python-tripleoclient,master,py310-unittest,I4de2ab8b9fe1f1541e04d3c863db81c5cada0cd6,Fix unittests for py310,MERGED,2022-05-30 03:31:24.000000000,2022-06-10 07:22:06.000000000,2022-06-10 07:20:56.000000000,64,89,8,843757,ad48f5c43b0e3040efe4f013b5ec19ac33ea32b9,23,5,5,7,30073,Brendan Shephard,bshephar,"Fix unittests for py310

Python 3.10 unittests were failing due to:
https://bugs.python.org/issue43478

In cases where autospec wasn't required, or
where duplicated. It has been removed accordingly.

Change-Id: I4de2ab8b9fe1f1541e04d3c863db81c5cada0cd6
"
openstack%2Fdevstack~stable%2Fwallaby~Ic44daf15e952bbe3c424984ffb2474261e68008f,openstack/devstack,stable/wallaby,libvirt-uc-no-more-stable/wallaby,Ic44daf15e952bbe3c424984ffb2474261e68008f,Remove libvirt-python from upper-constraints,MERGED,2021-08-24 17:07:32.000000000,2022-06-10 07:20:03.000000000,2022-06-10 07:18:44.000000000,11,0,1,805824,d6382fbeced362f9e12ab4cefed6d3803914092b,16,4,2,1,30491,Radosław Piliszek,yoctozepto,"Remove libvirt-python from upper-constraints

... when installed from distribution.

This is mostly to fix Ironic's gate as their ecosystem is too
broad and complex to quickly remove libvirt-python from all
possible requirements.txt

More details inline.

See also: https://review.opendev.org/c/openstack/devstack/+/798514
aka f0bf2bdff12b66eefbb2eae83e919611eb7cc76d

Change-Id: Ic44daf15e952bbe3c424984ffb2474261e68008f
(cherry picked from commit 8b8a4c75b72eb44dd5c11950951cf6e6d9a1d778)
"
openstack%2Fpython-aodhclient~master~Ia11f25fa8c36c6051a44994f2545e2b64a665593,openstack/python-aodhclient,master,,Ia11f25fa8c36c6051a44994f2545e2b64a665593,Unblock the gate and update python testing,MERGED,2022-06-09 14:17:21.000000000,2022-06-10 06:23:19.000000000,2022-06-10 06:20:41.000000000,19,15,0,845275,d656c191131e20bb634e4eeb6d074bc32a6df60f,12,3,3,5,4264,Matthias Runge,mrunge,"Unblock the gate and update python testing


This combines two commits in one

* Change aggregation method to mean

Commit 6061286c3133a4b85c4a72160960ecf6a82d02f8 handles
ignoring gnocchi api error when metric is not created.
However there are functional test failures when the
aggregation method is set to last for alarm type
gnocchi_aggregation_by_resources_threshold,

This fix changes the aggregration method to mean for
any create/update of alarm type
gnocchi_aggregation_by_resources_threshold.

* Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Co-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>

Depends-On: https://review.opendev.org/c/openstack/aodh/+/843764
Change-Id: Ia11f25fa8c36c6051a44994f2545e2b64a665593
Closes-Bug: #1974682
"
openstack%2Fpython-aodhclient~master~Ifb50c6524dc6c904d8e64fd8dd0b9373aa3927fd,openstack/python-aodhclient,master,drop-py3-6-7,Ifb50c6524dc6c904d8e64fd8dd0b9373aa3927fd,Update python testing as per zed cycle testing runtime,ABANDONED,2022-06-07 16:04:19.000000000,2022-06-10 05:55:49.000000000,,9,5,0,845010,ebd1874cb2e97c229cef04236cf73dc1c1b7cfbd,6,3,1,4,9816,Takashi Kajinami,kajinamit,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Co-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>
Change-Id: Ifb50c6524dc6c904d8e64fd8dd0b9373aa3927fd
"
