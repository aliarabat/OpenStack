id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Frequirements~master~I3f2b3b7e207a7b1fb1359b8b95ca61cd30117623,openstack/requirements,master,openstack/requirements/constraints/noclob,I3f2b3b7e207a7b1fb1359b8b95ca61cd30117623,Updated from generate-constraints,MERGED,2020-08-24 06:21:45.000000000,2020-08-24 10:29:09.000000000,2020-08-24 10:26:30.000000000,4,4,0,747624,6fd1dd07d5543c1d632ffcc87212278f235d5273,11,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I3f2b3b7e207a7b1fb1359b8b95ca61cd30117623
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fkolla-ansible~master~Ic3c0b52dba15308a605c30abdd6d63d4dea5f25b,openstack/kolla-ansible,master,,Ic3c0b52dba15308a605c30abdd6d63d4dea5f25b,remove useless files from destroy role,MERGED,2020-08-22 15:30:29.000000000,2020-08-24 10:27:38.000000000,2020-08-24 10:27:37.000000000,0,2,0,747531,8c208fb192171056aa8eaae0b19225055aa47566,8,3,1,2,26285,wu.chunyang,wu.chunyang,"remove useless files from destroy role

precheck.yml and check.yml not used by destroy role.

Change-Id: Ic3c0b52dba15308a605c30abdd6d63d4dea5f25b
"
openstack%2Freleases~master~Ib8f0530b3e0dd7c79342367c2616cfbcffe54859,openstack/releases,master,new_release,Ib8f0530b3e0dd7c79342367c2616cfbcffe54859,release a vitrage_tempest_plugin,MERGED,2020-08-23 05:53:20.000000000,2020-08-24 10:17:28.000000000,2020-08-24 10:17:28.000000000,5,0,1,747563,240e8714ab8df0ef4cb3147eb3506815f88b2f3f,11,3,2,1,19134,Eyal,eyalb,"release a vitrage_tempest_plugin

Change-Id: Ib8f0530b3e0dd7c79342367c2616cfbcffe54859
"
openstack%2Fbifrost~stable%2Fussuri~I204c539824319908098f67a49a8b15a24ba2cf6a,openstack/bifrost,stable/ussuri,firewalld-stable/ussuri,I204c539824319908098f67a49a8b15a24ba2cf6a,Explicitly enable DHCP services on baremetal CentOS/RHEL,MERGED,2020-08-24 08:37:55.000000000,2020-08-24 10:04:10.000000000,2020-08-24 09:59:58.000000000,18,1,0,747646,334809957e7db31dcc93ca2c4676f2f051717751,7,2,1,2,10239,Dmitry Tantsur,dtantsur,"Explicitly enable DHCP services on baremetal CentOS/RHEL

Apparently, we missed them when migrating to firewalld. The CI is not
affected because these services are enabled in the libvirt zone, but
changing the testing code as well for consistency.

Also make sure the testing variable is treated as boolean.

Change-Id: I204c539824319908098f67a49a8b15a24ba2cf6a
(cherry picked from commit 6e1bae9de43e95ea18bb7c93e6b35b22659a166c)
"
openstack%2Fbifrost~stable%2Fussuri~If6b3d13e2b4bf0e71b0968850e05ea93efd6f189,openstack/bifrost,stable/ussuri,firewalld-stable/ussuri,If6b3d13e2b4bf0e71b0968850e05ea93efd6f189,Use firewalld to open ports on CentOS and RHEL.,MERGED,2020-08-24 08:36:48.000000000,2020-08-24 10:02:59.000000000,2020-08-24 09:59:57.000000000,57,1,0,747645,55f7ad386282182954d00fcac86217619c5bf437,7,2,1,4,10239,Dmitry Tantsur,dtantsur,"Use firewalld to open ports on CentOS and RHEL.

The current code does not properly open ports in the libvirt zone
and firewalld is the default in CentOS/RHEL 8.

We will update Fedora once we switch to a newer version that
defaults to firewalld (30 apparently does not).

Change-Id: If6b3d13e2b4bf0e71b0968850e05ea93efd6f189
(cherry picked from commit deaa4d7186c9937717424aafa1b3fef6af96fcf6)
"
openstack%2Fbifrost~bugfix%2F8.3~I204c539824319908098f67a49a8b15a24ba2cf6a,openstack/bifrost,bugfix/8.3,firewalld-bugfix/8.3,I204c539824319908098f67a49a8b15a24ba2cf6a,Explicitly enable DHCP services on baremetal CentOS/RHEL,MERGED,2020-08-24 08:35:54.000000000,2020-08-24 10:02:01.000000000,2020-08-24 09:59:56.000000000,18,1,0,747644,fd76b62f045f6e8ea1557acfe9814e4e31d550e0,7,2,1,2,10239,Dmitry Tantsur,dtantsur,"Explicitly enable DHCP services on baremetal CentOS/RHEL

Apparently, we missed them when migrating to firewalld. The CI is not
affected because these services are enabled in the libvirt zone, but
changing the testing code as well for consistency.

Also make sure the testing variable is treated as boolean.

Change-Id: I204c539824319908098f67a49a8b15a24ba2cf6a
(cherry picked from commit 6e1bae9de43e95ea18bb7c93e6b35b22659a166c)
"
openstack%2Frequirements~master~Idcf64b4c83f9004bb326f66c8c0da80bb8817a2c,openstack/requirements,master,validations/libs,Idcf64b4c83f9004bb326f66c8c0da80bb8817a2c,Add validations-libs and validations-common to openstack_requirements,MERGED,2020-04-22 21:03:28.000000000,2020-08-24 09:57:07.000000000,2020-04-29 00:30:45.000000000,2,0,0,722143,d14c326fbce9cec18990b25405490a24a0200c50,23,8,2,1,16515,mbu,matbu,"Add validations-libs and validations-common to openstack_requirements

validations-libs and validations-common are needed to the
openstack_requirements

Answers to the basic requirements questions.

Is the library actively maintained?

Yes, the libraries is actively maintained and mainly used by TripleO projects

Is the library good code?

Yes the libraries is covered by CI and Unit tests

Is the library python 3 compatible?

Yes

Is the library license compatible?

Yes

Is the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?

Yes

Is the function of this library already covered by other libraries in global-requirements.txt?

No

Is the library required for OpenStack project or related dev or infrastructure
setup? (Answer to this should be Yes, of course) Which?

Yes, it's required for python-tripleoclient and TripleO projects

If the library release is managed by the Openstack release process does it use
the cycle-with-intermediary release type?

Yes

Do I need to update anything else?

No.

Change-Id: Idcf64b4c83f9004bb326f66c8c0da80bb8817a2c
"
openstack%2Fkayobe~stable%2Fstein~I849d9b09e973316308e574c447a78868e93a5420,openstack/kayobe,stable/stein,,I849d9b09e973316308e574c447a78868e93a5420,Skip broken ansible-lint,ABANDONED,2020-08-19 15:05:28.000000000,2020-08-24 09:36:13.000000000,,1,1,0,746952,4330d2cb97c98f77128e5206edb3084e39e20c4f,14,2,2,1,15197,Pierre Riteau,priteau,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I849d9b09e973316308e574c447a78868e93a5420
(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)
"
openstack%2Fbifrost~master~I8ac09e69149d7855cc754e15bd379170f822ee01,openstack/bifrost,master,pxe-acl,I8ac09e69149d7855cc754e15bd379170f822ee01,Make the iPXE and PXE boot files world-readable,MERGED,2020-08-21 16:49:02.000000000,2020-08-24 09:25:28.000000000,2020-08-22 12:43:26.000000000,24,0,0,747442,2eabfd77ffbce2b8f4a4c2c5689e783deb9f5766,15,4,1,2,10239,Dmitry Tantsur,dtantsur,"Make the iPXE and PXE boot files world-readable

Change-Id: I8ac09e69149d7855cc754e15bd379170f822ee01
"
openstack%2Fansible-config_template~master~I174ef4906604e48839d1ab45ca39cc70fb5859d9,openstack/ansible-config_template,master,collections,I174ef4906604e48839d1ab45ca39cc70fb5859d9,POC: Define ansible collection layout,ABANDONED,2020-05-22 14:36:30.000000000,2020-08-24 09:23:48.000000000,,71,0,0,730350,65ffd005776d88ecfabfb4334a54dd4dda520c51,6,1,2,4,24162,Sorin Sbârnea,ssbarnea,"POC: Define ansible collection layout

Allows us to bundle the role/module inside as a collection, which
is the only official way to consume it from other roles/collections,
like os_tempest role.

Based on https://docs.ansible.com/ansible/latest/dev_guide/developing_collections.html

This change should enable us to package the collection while keeping
the backwards compatibility.

Change-Id: I174ef4906604e48839d1ab45ca39cc70fb5859d9
"
openstack%2Fcloudkitty-specs~master~If7918689c7101da044a38cbb66c6d9d09f8cc53f,openstack/cloudkitty-specs,master,cleanup-py27-support,If7918689c7101da044a38cbb66c6d9d09f8cc53f,Cleanup py27 support and docs,MERGED,2020-04-09 19:36:47.000000000,2020-08-24 09:16:00.000000000,2020-08-24 09:13:23.000000000,7,27,0,718780,a9c4ac0a69aabf847c30bbd8aaf2cb2a05cbf308,10,11,1,6,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support and docs

Make a few cleanups:
- Remove obsolete sections from setup.cfg
- Remove install_command from tox.ini, merge constraints
  into dependencies
- Enable warnings for doc build, fix all warnings
- Switch to sphinx-build
- Enable warnings for doc build, fix all warnings
- Remove git handling from conf.py, openstackdocstheme does this now

Change-Id: If7918689c7101da044a38cbb66c6d9d09f8cc53f
"
openstack%2Fmagnum~master~I4ae12f928e4f49b99732fba097371692cb35d9ee,openstack/magnum,master,ca-rotate,I4ae12f928e4f49b99732fba097371692cb35d9ee,[k8s] Support CA certs rotate,MERGED,2020-04-29 01:06:16.000000000,2020-08-24 09:15:25.000000000,2020-08-24 09:11:48.000000000,255,17,26,724203,8020391e4afdda59168339ce85c697be7481729b,85,4,21,16,6484,Feilong Wang,flwang,"[k8s] Support CA certs rotate

Now k8s cluster owner can do CA cert rotate to re-generate CA of
the cluster, service account keys and the certs of all nodes will
be regenerated as well. Cluster user needs to get a new kubeconfig
to access kubernetes API. This function is only supported by
Fedora CoreOS driver.

To test this patch with python-magnumclient, you need this patch
https://review.opendev.org/#/c/724243/, otherwise, you will see
an error about ""not enough values to unpack"", though the CA cert
rotate request has been processed by Magnum server side correctly.

Task: 39580
Story: 2005201

Change-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee
"
openstack%2Fkolla-ansible~master~Ifbbc2022839cbc575848d830600241c61603c80b,openstack/kolla-ansible,master,bug/1892210,Ifbbc2022839cbc575848d830600241c61603c80b,Add workaround for keystonemiddleware/neutron memcached issue,MERGED,2020-08-19 15:41:14.000000000,2020-08-24 09:10:03.000000000,2020-08-21 18:47:47.000000000,11,0,0,746966,5a52d8e4a0c5d4c246deb8851ef893df63ee0847,26,6,4,2,15197,Pierre Riteau,priteau,"Add workaround for keystonemiddleware/neutron memcached issue

There is an issue where keystonemiddleware connections to memcached from
neutron-server grow beyond configured values [1], eventually reaching
the maximum number of connections accepted by memcached servers. Other
services do not appear to be affected by this issue.

A workaround is to use the advanced memcached pool. Despite its
documentation claiming to only work with Python 2, it appears to work
fine on Python 3.

[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659

Change-Id: Ifbbc2022839cbc575848d830600241c61603c80b
Closes-Bug: #1892210
"
openstack%2Fkolla-ansible~stable%2Ftrain~Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3,openstack/kolla-ansible,stable/train,,Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3,Add the missing hosts for vitrage,ABANDONED,2020-08-24 09:08:27.000000000,2020-08-24 09:09:26.000000000,,1,0,0,747656,e4770d0831c00eb8ccc68cc231d4b9fceb01b6dd,2,1,1,1,14826,Mark Goddard,mgoddard,"Add the missing hosts for vitrage

refer to https://github.com/openstack/kolla-ansible/blob/master/ansible/inventory/multinode#L728

Change-Id: Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3
(cherry picked from commit a637d6c67d003dd84006014393ee55abed70c96f)
"
openstack%2Fkolla-ansible~stable%2Fstein~Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3,openstack/kolla-ansible,stable/stein,,Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3,Add the missing hosts for vitrage,ABANDONED,2020-08-24 09:08:35.000000000,2020-08-24 09:09:14.000000000,,1,0,0,747657,ed568c955052fb8ab49d9947fe599a51714b0d3f,2,1,1,1,14826,Mark Goddard,mgoddard,"Add the missing hosts for vitrage

refer to https://github.com/openstack/kolla-ansible/blob/master/ansible/inventory/multinode#L728

Change-Id: Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3
(cherry picked from commit a637d6c67d003dd84006014393ee55abed70c96f)
"
openstack%2Fkolla-ansible~master~Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3,openstack/kolla-ansible,master,,Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3,Add the missing hosts for vitrage,MERGED,2020-08-20 15:52:40.000000000,2020-08-24 09:08:35.000000000,2020-08-21 19:00:12.000000000,1,0,0,747229,a637d6c67d003dd84006014393ee55abed70c96f,19,4,2,1,32067,Linhui Zhou,zhoulinhui,"Add the missing hosts for vitrage

refer to https://github.com/openstack/kolla-ansible/blob/master/ansible/inventory/multinode#L728

Change-Id: Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3
"
openstack%2Fkayobe~master~If435e9025f3d78364b229bbe4458f5f1e1ab49aa,openstack/kayobe,master,pip_index_url_conditional,If435e9025f3d78364b229bbe4458f5f1e1ab49aa,Make pip_index_url variable conditional,MERGED,2020-08-14 14:27:11.000000000,2020-08-24 09:06:58.000000000,2020-08-22 00:07:07.000000000,8,0,3,746325,7113ae46171ddcbe6d195790b08acbb5c49dfd41,34,6,5,2,23084,Bartosz Bezak,b.bezak,"Make pip_index_url variable conditional

Setting pip's proxy variable, operator needs to set also pip_index_url,
even when one wants to use default value of index_url.
This patch sets pip's index_url only when pip_index_url is not empty.

Change-Id: If435e9025f3d78364b229bbe4458f5f1e1ab49aa
"
openstack%2Fopenstack-ansible-os_heat~master~Ic51187c5f063d7d8b932e76d0f82c062061a3962,openstack/openstack-ansible-os_heat,master,bind-to-mgmt,Ic51187c5f063d7d8b932e76d0f82c062061a3962,Use the utility host for db setup tasks,MERGED,2020-08-20 15:06:33.000000000,2020-08-24 09:04:19.000000000,2020-08-24 09:02:14.000000000,12,1,1,747200,cec8761c66d907f619d37d04d2b1dfa8814c4998,15,5,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: Ic51187c5f063d7d8b932e76d0f82c062061a3962
"
openstack%2Fmonasca-api~master~Ia81078cb78ca86346fdb3656b66ff07473beadd5,openstack/monasca-api,master,,Ia81078cb78ca86346fdb3656b66ff07473beadd5,make the variable name more detailed,ABANDONED,2020-08-24 00:50:01.000000000,2020-08-24 08:38:54.000000000,,3,3,0,747598,c0d7b7545c3b1b07d31e8f8cfa56967bf330626f,3,1,1,1,32211,kuang congxian,kuangcx,"make the variable name more detailed

Change-Id: Ia81078cb78ca86346fdb3656b66ff07473beadd5
"
openstack%2Fbifrost~master~If6b3d13e2b4bf0e71b0968850e05ea93efd6f189,openstack/bifrost,master,firewalld,If6b3d13e2b4bf0e71b0968850e05ea93efd6f189,Use firewalld to open ports on CentOS and RHEL.,MERGED,2020-06-25 14:21:40.000000000,2020-08-24 08:36:48.000000000,2020-07-01 08:31:46.000000000,57,1,0,738042,deaa4d7186c9937717424aafa1b3fef6af96fcf6,28,4,9,4,10239,Dmitry Tantsur,dtantsur,"Use firewalld to open ports on CentOS and RHEL.

The current code does not properly open ports in the libvirt zone
and firewalld is the default in CentOS/RHEL 8.

We will update Fedora once we switch to a newer version that
defaults to firewalld (30 apparently does not).

Change-Id: If6b3d13e2b4bf0e71b0968850e05ea93efd6f189
"
openstack%2Fbifrost~master~I204c539824319908098f67a49a8b15a24ba2cf6a,openstack/bifrost,master,firewalld,I204c539824319908098f67a49a8b15a24ba2cf6a,Explicitly enable DHCP services on baremetal CentOS/RHEL,MERGED,2020-08-21 16:04:26.000000000,2020-08-24 08:35:54.000000000,2020-08-24 08:26:02.000000000,18,1,0,747437,6e1bae9de43e95ea18bb7c93e6b35b22659a166c,11,5,2,2,10239,Dmitry Tantsur,dtantsur,"Explicitly enable DHCP services on baremetal CentOS/RHEL

Apparently, we missed them when migrating to firewalld. The CI is not
affected because these services are enabled in the libvirt zone, but
changing the testing code as well for consistency.

Also make sure the testing variable is treated as boolean.

Change-Id: I204c539824319908098f67a49a8b15a24ba2cf6a
"
openstack%2Fgrenade~master~I389e2a4f8135e0e22a70098b95c17457cbedf1cf,openstack/grenade,master,fix-horizon-upgrade-screen,I389e2a4f8135e0e22a70098b95c17457cbedf1cf,Fix horizon upgrade: remove screen_stop call,MERGED,2020-08-23 14:54:29.000000000,2020-08-24 08:33:59.000000000,2020-08-24 08:32:43.000000000,0,2,1,747579,290ebb4220e95da85a7906fe0de9bc1c8728b295,14,4,3,1,10459,Luigi Toscano,ltoscano,"Fix horizon upgrade: remove screen_stop call

The screen_stop function was removed some time ago together
with the screen support (I8c27182f60b0f5310b3a8bf5feb02beb7ffbb26a)

This does probably mean no proper horizon/grenade testing has been
done in the past 3 years...

Change-Id: I389e2a4f8135e0e22a70098b95c17457cbedf1cf
"
openstack%2Fopenstack-tempest-skiplist~master~Id10981c4ad36398190ba969fa98bdf66a3d7f20d,openstack/openstack-tempest-skiplist,master,sc12_train_fix,Id10981c4ad36398190ba969fa98bdf66a3d7f20d,"Enabling ironic chassis_node_list test for stable/{train,ussuri}.",MERGED,2020-08-24 05:31:36.000000000,2020-08-24 08:11:54.000000000,2020-08-24 08:10:12.000000000,6,0,2,747619,04017cd6d45e5d219932efc61f2a157c70028aaf,15,4,3,1,30750,amolkahat,amolkahat,"Enabling ironic chassis_node_list test for stable/{train,ussuri}.

Tripleo-ci-centos8-scenario012-standalone jobs are failing
on branch stable/{train,ussuri}. After this patch this test will be
skipped from stable/{train,ussuri} run.

Related-Bug: #1890424

Change-Id: Id10981c4ad36398190ba969fa98bdf66a3d7f20d
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
"
openstack%2Fironic~stable%2Frocky~I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f,openstack/ironic,stable/rocky,,I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f,Retries and timeout for IPA command,MERGED,2020-08-20 18:20:51.000000000,2020-08-24 07:54:11.000000000,2020-08-24 07:51:53.000000000,89,5,0,747265,5673679f69e2c0fe35150ffed127c96d282f3655,10,5,2,4,11655,Julia Kreger,jkreger,"Retries and timeout for IPA command

Adds retries and timeout configuration parameters for IPA
commands that can fail in case of network glitches.

Change-Id: I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f
Story: #2004420
Task: #28071
(cherry picked from commit a2cffd8c4a12c2967c8424ccc2cca0189a70be75)
"
openstack%2Foctavia~master~Ibc525d9a046a5ab7f090a942459d80a2df66ae2e,openstack/octavia,master,,Ibc525d9a046a5ab7f090a942459d80a2df66ae2e,Fix memory consumption issues with default connection_limit,MERGED,2020-06-11 12:42:57.000000000,2020-08-24 07:53:20.000000000,2020-08-24 07:50:16.000000000,147,75,8,735126,f4305e036c30b23588d7d1448448010b95c24069,30,6,5,10,29244,Gregory Thiemonge,gthiemonge,"Fix memory consumption issues with default connection_limit

With 1.8.x releases, haproxy consumes a lot of memory when
using 1,000,000 as default connection_limit.

This commit introduces a new configuration option for the Amphora
provider: [haproxy_amphora].default_connection_limit (defaulted to
50,000). This value is used when creating a listener with -1 (which is
the default) as connection_limit, or when unsetting connection_limit in
a listener.
Updating an existing listener by setting connection_limit to -1 also
sets it to default_connection_limit.

The global connection_limit for a load balancer is the sum of the
connection_limit of the listeners, but it cannot be over
HAPROXY_MAX_MAXCONN (which is still 1,000,000).

Story: 2007794
Task: 40046

Change-Id: Ibc525d9a046a5ab7f090a942459d80a2df66ae2e
"
openstack%2Ftripleo-heat-templates~master~I738d5c8cdd57b02589c147f5891cf8cb0e395d3a,openstack/tripleo-heat-templates,master,ffwd-upgrade2,I738d5c8cdd57b02589c147f5891cf8cb0e395d3a,[FFWD Ceph] Fix ceph post_upgrade_tasks for osd options,MERGED,2020-08-21 11:16:17.000000000,2020-08-24 07:46:12.000000000,2020-08-22 06:08:01.000000000,54,8,2,747392,a9be4c6a38e297bb9bd35b5ca868cfed6cd0b666,16,6,2,5,11166,Lukas Bezdicka,xbezdick,"[FFWD Ceph] Fix ceph post_upgrade_tasks for osd options

Add missing post_upgrade_tasks shared from the ceph-base.
Move post_upgrade_tasks that set noout options of ceph to only
the ceph osd service as they are targeted for this service.
Move the set nooout options out of system_upgrade tags so they
run only after full upgrade run with deployment so the podman
is already present on the nodes.

Resolves: rhbz#1870617

Change-Id: I738d5c8cdd57b02589c147f5891cf8cb0e395d3a
"
openstack%2Ftripleo-ansible~master~Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2,openstack/tripleo-ansible,master,bug/1847282,Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2,Tighten up how we add and remove kernel modules,MERGED,2019-10-08 21:04:09.000000000,2020-08-24 07:31:10.000000000,2019-10-23 20:00:23.000000000,154,179,7,687419,0bcb4b906e7204f94193b65e5f55550a7a21475f,50,10,11,8,7353,Kevin Carter,cloudnull,"Tighten up how we add and remove kernel modules

This change adjusts our two roles that configure kernel modules.
These two roles serve slightly different purposes so they both
must exist at this time. The change being made will ensure that
the system module-load service is in reloaded anytime modules
change, and that the `/etc/modules-load.d` directory exists
before assuming we can write new configuration files there.

> Molecule configuration for the tripleo-module-load role has
  been updated to ensure the role is functionally testing the
  code paths with real system values.

Closes-Bug: #1847282
Change-Id: Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fironic~master~I503c44ef9006b5f85b1dec70fc5117fda1dca792,openstack/ironic,master,ilo_deploy_steps,I503c44ef9006b5f85b1dec70fc5117fda1dca792,Documentation update for ilo hardware type,MERGED,2020-08-17 08:19:22.000000000,2020-08-24 07:15:35.000000000,2020-08-24 07:06:51.000000000,43,19,0,746453,3e9360fc3ea70e5b6125dc4dd676f3401cb9a702,11,5,1,1,11076,Shivanand Tendulker,stendulker,"Documentation update for ilo hardware type

Change-Id: I503c44ef9006b5f85b1dec70fc5117fda1dca792
"
openstack%2Fneutron~master~Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15,openstack/neutron,master,bug/1892489,Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15,Fix get_ipv6_llas method in the interface driver,MERGED,2020-08-21 13:21:43.000000000,2020-08-24 07:10:17.000000000,2020-08-22 16:39:36.000000000,19,0,1,747406,a4e04a7f8be95295324a59c34e6a79c7973af1ee,12,7,1,2,11975,Slawek Kaplonski,slaweq,"Fix get_ipv6_llas method in the interface driver

This method is using ip_lib.get_devices_with_ip function to get
IP addresses with scope ""link"".
Unfortunatelly this method wasn't translating scope names to the pyrout2
values and due to that wasn't returning correct IP addresses.

Now this is fixed and correctl link local IPv6 addresses are returned.

Change-Id: Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15
Closes-Bug: #1892489
"
openstack%2Fglance_store~master~I129e30f490e3920e9093c2b793f89b70ce310a50,openstack/glance_store,master,bp/handle-sparse-image,I129e30f490e3920e9093c2b793f89b70ce310a50,Handle sparse images in glance_store,MERGED,2020-08-01 12:10:39.000000000,2020-08-24 06:53:12.000000000,2020-08-24 06:50:50.000000000,243,7,38,744282,201d85b4eab9ffa4aa0aacf6c21e03a771173da4,28,5,9,7,28595,Victor Coutellier,alistarle,"Handle sparse images in glance_store

Add new configuration option ``rbd_thin_provisioning`` and
``filesystem_thin_provisioning`` to rbd and filesystem
store to enable or not sparse upload.

A sparse file means that we do not actually write null byte
sequences but only the data itself at a given offset, the
""holes"" which can appear will automatically be interpreted by
the storage backend as null bytes, and do not really consume
your storage.

Change-Id: I129e30f490e3920e9093c2b793f89b70ce310a50
Co-Authored-By: Grégoire Unbekandt <gregoire.unbekandt@gmail.com>
Partially Implements: blueprint handle-sparse-image
"
openstack%2Frequirements~master~Ida2cdc401def97bd5be10018e309e0ce72beb972,openstack/requirements,master,,Ida2cdc401def97bd5be10018e309e0ce72beb972,updating gnocchiclient,MERGED,2020-08-21 13:56:28.000000000,2020-08-24 06:15:33.000000000,2020-08-22 07:21:47.000000000,1,1,0,747418,05d20fbc67f9edc8b89a1f072ed669a15c5663ac,12,6,1,1,5792,Dan Radez,dradez,"updating gnocchiclient

New pecan exposed a fix for gnocchiclient.
This patch updates gnocchiclient so that the new pecan can be consumed.
https://review.opendev.org/#/c/746261

Change-Id: Ida2cdc401def97bd5be10018e309e0ce72beb972
"
openstack%2Ftrove~master~I8041fbfdb01a7a1efa721c623ab3f43efd2cc0f0,openstack/trove,master,check-user-network,I8041fbfdb01a7a1efa721c623ab3f43efd2cc0f0,Support to check if subnet is associated with router,MERGED,2020-08-23 08:57:45.000000000,2020-08-24 06:11:17.000000000,2020-08-24 06:08:59.000000000,54,10,0,747568,8daade000cc242507429a762b0df1e167801144b,11,2,3,5,6732,Lingxian Kong,kong,"Support to check if subnet is associated with router

Change-Id: I8041fbfdb01a7a1efa721c623ab3f43efd2cc0f0
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I24a0ca3001098b278d341f710ca2e4f00dc3e09a,openstack/openstack-ansible-openstack_hosts,master,,I24a0ca3001098b278d341f710ca2e4f00dc3e09a,Increase default value of net.ipv4.igmp_max_memberships,MERGED,2020-08-04 16:40:42.000000000,2020-08-24 06:07:17.000000000,2020-08-10 10:20:08.000000000,1,0,0,744751,7cbf51170c9ad25ac6a36ebc94561018a3b310b5,11,3,2,1,25023,Jonathan Rosser,jrosser,"Increase default value of net.ipv4.igmp_max_memberships

The linux kernel default for igmp_max_memberships is 20 [0].

For vxlan project networks, it is possible to specify a range
of multicast addresses for use with VXLAN tunnel broadcast traffic.
In the case where a range is specified a unique multicast group
is assigned by neutron to each vxlan network, and once
igmp_max_memberships is reached for a host, vxlan interfaces will
silently fail to join the multicast group.

This results in instances being unable to DHCP or ARP, and errors
in the neutron agent log [1].

This patch increases the default value to 1024 which should be
sufficient for all but the very largest deployments.

[0] https://sysctl-explorer.net/net/ipv4/igmp_max_memberships/
[1] http://paste.openstack.org/show/796504

Change-Id: I24a0ca3001098b278d341f710ca2e4f00dc3e09a
"
openstack%2Fcharm-interface-ceph-client~master~I9f438bb678da1b69d8161390aad2cf58907bc1b5,openstack/charm-interface-ceph-client,master,add-ceph-mds-interface,I9f438bb678da1b69d8161390aad2cf58907bc1b5,Add ceph-mds relation,MERGED,2020-08-17 08:21:48.000000000,2020-08-24 05:33:36.000000000,2020-08-24 05:33:36.000000000,144,0,0,746457,1f86962275407c8f7752e6457e2bc0e22869b46f,6,2,1,6,12549,gnuoy,gnuoy,"Add ceph-mds relation

This relation is very similar to the ceph-client relation so add
it to this repo so they can share code. This will retire the
seperate repo *1 and also require an update to the central
index of interfaces to point at the new location.

*1 https://github.com/openstack/charm-interface-ceph-mds
*2 https://juju.github.io/layer-index/

Change-Id: I9f438bb678da1b69d8161390aad2cf58907bc1b5
"
openstack%2Fcharm-interface-ceph-client~master~I6fe7cab654d5768f521ffa4218ae5c3974ef4ae8,openstack/charm-interface-ceph-client,master,add-ceph-mds-interface,I6fe7cab654d5768f521ffa4218ae5c3974ef4ae8,Switch requires from RelationBase to Endpoint,MERGED,2020-08-17 08:21:48.000000000,2020-08-24 05:33:36.000000000,2020-08-24 05:33:35.000000000,187,131,0,746456,fc168f4e7b0bc4ece14cc2b61c451c83e1df73b5,6,2,1,3,12549,gnuoy,gnuoy,"Switch requires from RelationBase to Endpoint

Switch requires relation from the old api
charms.reactive.relations.RelationBase to the replacement
charms.reactive.endpoints.Endpoint.

Change-Id: I6fe7cab654d5768f521ffa4218ae5c3974ef4ae8
"
openstack%2Fcharm-interface-ceph-client~master~Ie53ef7e5fc7a461dca8e53d9f91b332399a70076,openstack/charm-interface-ceph-client,master,add-ceph-mds-interface,Ie53ef7e5fc7a461dca8e53d9f91b332399a70076,Re-organise interface,MERGED,2020-08-17 08:21:48.000000000,2020-08-24 05:33:35.000000000,2020-08-24 05:33:35.000000000,79,12,0,746455,cd3626b04789815e1db1a7cb1d018702d64612e2,6,2,1,11,12549,gnuoy,gnuoy,"Re-organise interface

Re-organise interface to allow multiple interfaces to share
common code. The idea being to add ceph-mds to this code base.

Change-Id: Ie53ef7e5fc7a461dca8e53d9f91b332399a70076
"
openstack%2Fcharm-layer-openstack~master~Ic7c3751d5cfce33517072bfca865e03f6f84f423,openstack/charm-layer-openstack,master,bug/1886630,Ic7c3751d5cfce33517072bfca865e03f6f84f423,Refresh cipher suites and protocols,MERGED,2020-08-24 02:37:41.000000000,2020-08-24 05:26:06.000000000,2020-08-24 05:26:06.000000000,8,2,0,747601,0a24820971a2b2d5ed55f2891f83bdede52ba538,7,3,1,1,8108,Nobuto Murata,nobuto-m,"Refresh cipher suites and protocols

The last update was 2016, and it's time to drop TLSv1 and TLSv1.1 as the
base configuration recommended by Mozilla.
https://wiki.mozilla.org/Security/Server_Side_TLS

This is equivalent to a charm-helper's change:
https://github.com/juju/charm-helpers/commit/27d6ceb385e44a0610c1a6aba8e225368c4af384

Change-Id: Ic7c3751d5cfce33517072bfca865e03f6f84f423
Closes-Bug: #1886630
"
openstack%2Ftripleo-common~master~I3edbb1b81d5b75519d2bb46f7af04dc833fce9b7,openstack/tripleo-common,master,bug/1866676,I3edbb1b81d5b75519d2bb46f7af04dc833fce9b7,Restore default log path for image prepare,MERGED,2020-08-10 07:51:59.000000000,2020-08-24 05:06:45.000000000,2020-08-22 07:27:40.000000000,3,4,3,745492,b5668d01d5f55f16c3e560c5be8f1e1057e809c2,45,10,4,2,6926,Bogdan Dobrelya,bogdando,"Restore default log path for image prepare

If logging paths weren't configured in handlers, use default /var/log
for tripleo-container-image-prepare.log along with its *ansible
counterpart used for logging the container image prepare bits.

Closes-Bug: #1866676
Change-Id: I3edbb1b81d5b75519d2bb46f7af04dc833fce9b7
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Frpm-packaging~master~Ibbc3980f7260d8d50d18d199d56dd6ea38b28d41,openstack/rpm-packaging,master,bug/123456789,Ibbc3980f7260d8d50d18d199d56dd6ea38b28d41,update XStatic-Angular-Gettext to 2.5.1.0,ABANDONED,2020-08-19 08:02:34.000000000,2020-08-24 04:46:35.000000000,,1,1,0,746851,f7e87aa549f178fce5f8ef3e1166e30d49a6e4ba,7,5,1,1,30533,zhangyc,zhangyc,"update XStatic-Angular-Gettext to 2.5.1.0

Change-Id: Ibbc3980f7260d8d50d18d199d56dd6ea38b28d41
"
openstack%2Fnova~master~If9acc054100a6733f3659a15dd9fc2d462e84d64,openstack/nova,master,bug/1841363,If9acc054100a6733f3659a15dd9fc2d462e84d64,libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available,MERGED,2019-09-18 01:43:10.000000000,2020-08-24 04:08:12.000000000,2020-04-29 10:59:35.000000000,75,0,95,682772,af2405e1181d70cdf60bcd0e40b3e80f2db2e3a6,308,33,33,3,30395,Arthur Dayne,acewit,"libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available

Because of the libvirt issue[1], there is a bug[2] that if we set cache mode
whose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),
there will be a problem with the volume drivers
(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,
nova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate
native io explicitly.

That problem will generate a libvirt xml for the instance,
whose content contains

```
...
<disk ... >
  <driver ... cache='unsafe/writeback/writethrough' io='native' />
</disk>
...
```
In turn, it will fail to start the instance or attach the disk.

> When qemu is configured with a block device that has aio=native set, but
> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any
> unnamed mode with explicit cache.direct=on), then the raw-posix block driver
> for local files and block devices will silently fall back to aio=threads.
> The blockdev-add interface rejects such combinations, but qemu can't
> change the existing legacy interfaces that libvirt uses today.

[1]: https://github.com/libvirt/libvirt/commit/058384003db776c580d0e5a3016a6384e8eb7b92
[2]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704

Closes-Bug: #1841363
Change-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64
"
openstack%2Fzun~master~I6029484f9b7c5e21054315f849f81a8fdb2bafd3,openstack/zun,master,,I6029484f9b7c5e21054315f849f81a8fdb2bafd3,Make volume wait timeout configurable,MERGED,2020-08-23 04:36:40.000000000,2020-08-24 01:54:48.000000000,2020-08-24 01:53:44.000000000,15,4,0,747559,994359ea963017a74a4d5277e015b07dd204fcd4,8,2,2,2,11536,hongbin,hongbin,"Make volume wait timeout configurable

Change-Id: I6029484f9b7c5e21054315f849f81a8fdb2bafd3
"
openstack%2Fmanila~stable%2Frocky~I1a2c28548d02eee6632313a41a5c4d8ab6ad9532,openstack/manila,stable/rocky,bug/1890372,I1a2c28548d02eee6632313a41a5c4d8ab6ad9532,Fix wrong capacity in pool_stat for DellEMC manila drivers.,MERGED,2020-08-19 01:43:16.000000000,2020-08-24 01:11:55.000000000,2020-08-21 22:58:26.000000000,69,19,0,746825,2f1bfb6ae9750458cbb938baf0125cf2d7a53723,13,5,1,9,14624,Sam Wan,samwan,"Fix wrong capacity in pool_stat for DellEMC manila drivers.

DellEMC manila drivers have bugs in returning capacity in pool_stat.
The current powermax/vnx manila return size in MB and unity manila
returns size in bytes.

Change-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532
Closes-bug: #1890372
Closes-bug: #1890375
Closes-bug: #1890376
(cherry picked from commit 53f756d0650a815cbb9eeac2fa7bcfa2334c674a)
(cherry picked from commit ba00d1b9abe79a6569544f1b1f7f1587645f76c3)
(cherry picked from commit a6e3474d31785577b0872bfb67ba6a216d6ecf73)
(cherry picked from commit 184f2a6817387cfd9d1d913e5f0cfe2fcf927e81)
"
openstack%2Fpuppet-openstack-cookiecutter~master~If8e71f76f10fff0934ae8e7e85ff602fcabc72e8,openstack/puppet-openstack-cookiecutter,master,bug/1892284,If8e71f76f10fff0934ae8e7e85ff602fcabc72e8,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-24 00:49:45.000000000,2020-08-24 00:49:45.000000000,27,0,0,747088,3c568a622e821b7dfa00f2f2ff533695eb346871,19,4,2,2,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: If8e71f76f10fff0934ae8e7e85ff602fcabc72e8
Depends-On: https://review.opendev.org/#/c/747098
Closes-Bug: #1892284
"
openstack%2Fzun~master~I666b7c058aa9d8f68def6582cb630940a66b9656,openstack/zun,master,,I666b7c058aa9d8f68def6582cb630940a66b9656,Add iptables hybrid job,NEW,2020-07-29 02:55:27.000000000,2020-08-23 23:46:43.000000000,,12,0,0,743669,86d1afb636e326857666f13adc7aba7bc98079cd,8,2,3,1,11536,hongbin,hongbin,"Add iptables hybrid job

Change-Id: I666b7c058aa9d8f68def6582cb630940a66b9656
"
openstack%2Ftripleo-quickstart~master~Ic1527a1dff577a066c601ed757bc9058584d3241,openstack/tripleo-quickstart,master,,Ic1527a1dff577a066c601ed757bc9058584d3241,Fix python name for collection package in reqs,MERGED,2020-08-18 14:46:51.000000000,2020-08-23 23:16:20.000000000,2020-08-23 23:15:18.000000000,1,1,1,746742,8e6da49716f461cd7031103091cfbc967e0f4809,15,4,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Fix python name for collection package in reqs

Change-Id: Ic1527a1dff577a066c601ed757bc9058584d3241
"
openstack%2Fpuppet-openstack-integration~master~I66bd68d0234b16152d42fefafd97f01337e872e1,openstack/puppet-openstack-integration,master,centos8-beaker,I66bd68d0234b16152d42fefafd97f01337e872e1,[CentOS] Update all packages after setting up repositories,MERGED,2020-08-19 13:44:19.000000000,2020-08-23 22:39:27.000000000,2020-08-23 22:39:27.000000000,2,1,0,746924,0502f2ee0ae17585746dfd7472d174a40e1b84a7,13,4,1,1,9816,Takashi Kajinami,kajinamit,"[CentOS] Update all packages after setting up repositories

... so that we test all packages available in CentOS/RDO repositories.

Depends-on: https://review.opendev.org/#/c/746878/
Change-Id: I66bd68d0234b16152d42fefafd97f01337e872e1
"
openstack%2Fnova~master~I13d37d36bdc294960306271204c83bbdebaeb7b7,openstack/nova,master,bp/policy-defaults-refresh-deprecated-apis,I13d37d36bdc294960306271204c83bbdebaeb7b7,Pass the actual target in FIP policy,MERGED,2020-07-23 00:54:59.000000000,2020-08-23 20:48:48.000000000,2020-08-23 20:47:16.000000000,8,4,0,742570,583672c03cc91a8e4f5178cb060c2f61d900cfd9,106,15,3,1,8556,Ghanshyam,ghanshyam,"Pass the actual target in FIP policy

Currently if target is not passed in context.can(),
it use defauls target which is context.user_id, context.project_id.
These defaults target are not useful as it pass the
context's user_id and project_id only which means we tell
oslo policy to verify the context data with context data.

This commit pass the actual target for networks policies
which is context.project_id itself as nova cannot verify the owner of
FIP. Neutron will return the authorise error is requester is not
owner of FIP.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I13d37d36bdc294960306271204c83bbdebaeb7b7
"
openstack%2Frequirements~master~I1664b27e9ad612cea55426859f00a84541e7393d,openstack/requirements,master,openstack/requirements/constraints/noclob,I1664b27e9ad612cea55426859f00a84541e7393d,Updated from generate-constraints,MERGED,2020-08-23 06:16:06.000000000,2020-08-23 20:48:26.000000000,2020-08-23 20:47:20.000000000,3,3,0,747565,5f1f308941397fa110663e66829fe00f99b2066f,15,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I1664b27e9ad612cea55426859f00a84541e7393d
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fvitrage-tempest-plugin~master~I289c172191a5f6cf6d23bbefc959ff7f60afed94,openstack/vitrage-tempest-plugin,master,gnochhi,I289c172191a5f6cf6d23bbefc959ff7f60afed94,Ban gnocchiclient 7.0.7,ABANDONED,2020-08-23 15:28:42.000000000,2020-08-23 16:20:41.000000000,,1,1,0,747582,83492acbfaf713b7f71b871c81ef89fed2edeba9,3,0,2,1,19134,Eyal,eyalb,"Ban gnocchiclient 7.0.7

Change-Id: I289c172191a5f6cf6d23bbefc959ff7f60afed94
"
openstack%2Ftripleo-quickstart~master~I0e2f571717a68b861633c340b1d51ff056326ec5,openstack/tripleo-quickstart,master,fix-wait,I0e2f571717a68b861633c340b1d51ff056326ec5,DNM WIP test,ABANDONED,2020-06-30 10:13:50.000000000,2020-08-23 14:49:35.000000000,,11,11,0,738577,0e5cd1512a6dc79a242a06e8dd486e8f0ed80de9,8,2,5,1,20172,Michele Baldessari,michele,"DNM WIP test

https://github.com/openstack/openstack-tempest-skiplist/ is empty so
avoid that one

Change-Id: I0e2f571717a68b861633c340b1d51ff056326ec5
"
openstack%2Ftripleo-heat-templates~master~I9812aee2584d4678339bb68190a96437c2a1a9e8,openstack/tripleo-heat-templates,master,locking,I9812aee2584d4678339bb68190a96437c2a1a9e8,WIP add locking for the restart bundles,ABANDONED,2020-07-09 07:38:03.000000000,2020-08-23 14:49:10.000000000,,270,0,10,740173,fe1c9bfe5a0d12ca419f3e58fd85b33bdf38bacd,34,4,10,3,20172,Michele Baldessari,michele,"WIP add locking for the restart bundles

Piggy-backing on Damien's cert rotation work. Experimenting if we can
use that locking function to coordinate bundle restarts across the OC.

Change-Id: I9812aee2584d4678339bb68190a96437c2a1a9e8
"
openstack%2Foctavia-tempest-plugin~master~I4cc8a663d7d7c853e6286379eea74c90819209cd,openstack/octavia-tempest-plugin,master,,I4cc8a663d7d7c853e6286379eea74c90819209cd,Fix MismatchError in tags API tests,MERGED,2020-08-18 10:34:54.000000000,2020-08-23 14:40:12.000000000,2020-08-23 14:39:06.000000000,40,26,2,746683,2cdf13c2efd9334556de3d76760abcb71827f885,21,12,2,7,31664,Omer Schwartz,oschwart,"Fix MismatchError in tags API tests

The tags lists are compared unsorted which causes a MismatchError
in some cases.
This commit sorts the tags lists before the assertion.

Story 2008026
Task 40680

Change-Id: I4cc8a663d7d7c853e6286379eea74c90819209cd
"
openstack%2Fbifrost~bugfix%2F8.2~I8ac09e69149d7855cc754e15bd379170f822ee01,openstack/bifrost,bugfix/8.2,pxe-acl-bugfix/8.3-bugfix/8.2,I8ac09e69149d7855cc754e15bd379170f822ee01,Make the iPXE and PXE boot files world-readable,MERGED,2020-08-21 17:17:27.000000000,2020-08-23 14:32:54.000000000,2020-08-23 14:31:43.000000000,24,0,0,747447,c67b1110bc1e8ff78a3589133d385bb474cfd1f4,8,2,1,2,11655,Julia Kreger,jkreger,"Make the iPXE and PXE boot files world-readable

Change-Id: I8ac09e69149d7855cc754e15bd379170f822ee01
"
openstack%2Fbifrost~bugfix%2F8.3~I8ac09e69149d7855cc754e15bd379170f822ee01,openstack/bifrost,bugfix/8.3,pxe-acl-bugfix/8.3,I8ac09e69149d7855cc754e15bd379170f822ee01,Make the iPXE and PXE boot files world-readable,MERGED,2020-08-21 17:17:19.000000000,2020-08-23 14:32:54.000000000,2020-08-23 14:31:41.000000000,24,0,0,747446,e1ee057d8e0074408960386c7d22044f531018dc,8,2,1,2,11655,Julia Kreger,jkreger,"Make the iPXE and PXE boot files world-readable

Change-Id: I8ac09e69149d7855cc754e15bd379170f822ee01
"
openstack%2Fbifrost~stable%2Fussuri~I8ac09e69149d7855cc754e15bd379170f822ee01,openstack/bifrost,stable/ussuri,pxe-acl-bugfix/8.3-bugfix/8.2-stable/ussuri,I8ac09e69149d7855cc754e15bd379170f822ee01,Make the iPXE and PXE boot files world-readable,MERGED,2020-08-21 17:17:41.000000000,2020-08-23 14:32:52.000000000,2020-08-23 14:31:43.000000000,24,0,0,747448,b3b4b8505a12b721f275eeb682c1a51e8e1cc73d,8,2,1,2,11655,Julia Kreger,jkreger,"Make the iPXE and PXE boot files world-readable

Change-Id: I8ac09e69149d7855cc754e15bd379170f822ee01
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,openstack/tripleo-heat-templates,stable/queens,fix-composable-restarts-queens,I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,Fix pcs restart in composable HA,MERGED,2020-08-18 08:56:05.000000000,2020-08-23 13:48:36.000000000,2020-08-23 13:48:35.000000000,8,2,0,746665,a7e9730a8566cf57713a00bfc706596847bb5fbf,19,4,4,1,20172,Michele Baldessari,michele,"Fix pcs restart in composable HA

When a redeploy command is being run in a composable HA environment, if there
are any configuration changes, the <bundle>_restart containers will be kicked
off. These restart containers will then try and restart the bundles globally in
the cluster.

These restarts will be fired off in parallel from different nodes. So
haproxy-bundle will be restarted from controller-0, mysql-bundle from
database-0, rabbitmq-bundle from messaging-0.

This has proven to be problematic and very often (rhbz#1868113) it would fail
the redeploy with:
2020-08-11T13:40:25.996896822+00:00 stderr F Error: Could not complete shutdown of rabbitmq-bundle, 1 resources remaining
2020-08-11T13:40:25.996896822+00:00 stderr F Error performing operation: Timer expired
2020-08-11T13:40:25.996896822+00:00 stderr F Set 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role set=rabbitmq-bundle-meta_attributes name=target-role value=stopped
2020-08-11T13:40:25.996896822+00:00 stderr F Waiting for 2 resources to stop:
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F Deleted 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role name=target-role
2020-08-11T13:40:25.996896822+00:00 stderr F

or

2020-08-11T13:39:49.197487180+00:00 stderr F Waiting for 2 resources to start again:
2020-08-11T13:39:49.197487180+00:00 stderr F * galera-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F Could not complete restart of galera-bundle, 1 resources remaining
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F

After discussing it with kgaillot it seems that concurrent restarts in pcmk are just brittle:
""""""
Sadly restarts are brittle, and they do in fact assume that nothing else is causing resources to start or stop. They work like this:

- Get the current configuration and state of the cluster, including a list of active resources (list #1)
- Set resource target-role to Stopped
- Get the current configuration and state of the cluster, including a list of which resources *should* be active (list #2)
- Compare lists #1 and #2, and the difference is the resources that should stop
- Periodically refresh the configuration and state until the list of active resources matches list #2
- Delete the target-role
- Periodically refresh the configuration and state until the list of active resources matches list #1
""""""

So the suggestion is to replace the restarts with an enable/disable cycle of the resource.

Tested this on a dozen runs on a composable HA environment and did not observe the error
any longer.

NB: This is not a clean cherry-pick of the related change, but a merge
    of master's I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e and
    Ia850286682f09cd75651591a1158c2e467343c1d (Drop bootstrap_host_exec
    from pacemaker_restart_bundle)

Closes-Bug: #1892206

Change-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e
"
openstack%2Fsahara-tests~master~I180216b76d8010462312c1101ddd9761971dec11,openstack/sahara-tests,master,,I180216b76d8010462312c1101ddd9761971dec11,Fix URL of Maven Central Repository,MERGED,2020-08-10 13:52:11.000000000,2020-08-23 11:46:59.000000000,2020-08-23 11:45:54.000000000,2,2,0,745543,1eb866f6460838766b5505b904ef1998a5971e6f,14,3,1,2,23078,Jeremy Freudberg,jeremyfreudberg,"Fix URL of Maven Central Repository

Change-Id: I180216b76d8010462312c1101ddd9761971dec11
Story: 2007996
Task: 40635
"
openstack%2Fsahara-plugin-spark~master~Id3294bf5180b7336193c3127a26f069703ec4705,openstack/sahara-plugin-spark,master,,Id3294bf5180b7336193c3127a26f069703ec4705,Fix URL of Maven Central Repository,MERGED,2020-08-10 13:50:40.000000000,2020-08-23 10:45:51.000000000,2020-08-23 10:44:40.000000000,1,1,0,745542,0300afc2c185318cd27611a45ae2cc1dccfbd1c1,12,3,1,1,23078,Jeremy Freudberg,jeremyfreudberg,"Fix URL of Maven Central Repository

Change-Id: Id3294bf5180b7336193c3127a26f069703ec4705
Story: 2007996
Task: 40636
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,openstack/tripleo-heat-templates,stable/train,unbundle_bootstraphost-stable/train,I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,Fix pcs restart in composable HA,MERGED,2020-08-18 08:46:55.000000000,2020-08-23 09:11:10.000000000,2020-08-23 09:11:10.000000000,4,2,0,746662,1fdfa3332321d9dd1246c7d13c77d93c10f7c3b3,20,4,4,1,20172,Michele Baldessari,michele,"Fix pcs restart in composable HA

When a redeploy command is being run in a composable HA environment, if there
are any configuration changes, the <bundle>_restart containers will be kicked
off. These restart containers will then try and restart the bundles globally in
the cluster.

These restarts will be fired off in parallel from different nodes. So
haproxy-bundle will be restarted from controller-0, mysql-bundle from
database-0, rabbitmq-bundle from messaging-0.

This has proven to be problematic and very often (rhbz#1868113) it would fail
the redeploy with:
2020-08-11T13:40:25.996896822+00:00 stderr F Error: Could not complete shutdown of rabbitmq-bundle, 1 resources remaining
2020-08-11T13:40:25.996896822+00:00 stderr F Error performing operation: Timer expired
2020-08-11T13:40:25.996896822+00:00 stderr F Set 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role set=rabbitmq-bundle-meta_attributes name=target-role value=stopped
2020-08-11T13:40:25.996896822+00:00 stderr F Waiting for 2 resources to stop:
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F Deleted 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role name=target-role
2020-08-11T13:40:25.996896822+00:00 stderr F

or

2020-08-11T13:39:49.197487180+00:00 stderr F Waiting for 2 resources to start again:
2020-08-11T13:39:49.197487180+00:00 stderr F * galera-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F Could not complete restart of galera-bundle, 1 resources remaining
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F

After discussing it with kgaillot it seems that concurrent restarts in pcmk are just brittle:
""""""
Sadly restarts are brittle, and they do in fact assume that nothing else is causing resources to start or stop. They work like this:

- Get the current configuration and state of the cluster, including a list of active resources (list #1)
- Set resource target-role to Stopped
- Get the current configuration and state of the cluster, including a list of which resources *should* be active (list #2)
- Compare lists #1 and #2, and the difference is the resources that should stop
- Periodically refresh the configuration and state until the list of active resources matches list #2
- Delete the target-role
- Periodically refresh the configuration and state until the list of active resources matches list #1
""""""

So the suggestion is to replace the restarts with an enable/disable cycle of the resource.

Tested this on a dozen runs on a composable HA environment and did not observe the error
any longer.

Closes-Bug: #1892206

Change-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e
"
openstack%2Fneutron-tempest-plugin~master~I04056528ada7fda538cf8b285d9379626202d51d,openstack/neutron-tempest-plugin,master,run-scenario-serially,I04056528ada7fda538cf8b285d9379626202d51d,DNM It's just test of running tests in scenario jobs in serial,ABANDONED,2020-06-05 12:39:21.000000000,2020-08-23 08:22:50.000000000,,1,0,0,733822,101312f3706ef994c420d366edead53acb0942f1,3,1,1,1,11975,Slawek Kaplonski,slaweq,"DNM It's just test of running tests in scenario jobs in serial

Change-Id: I04056528ada7fda538cf8b285d9379626202d51d
"
openstack%2Fvitrage~master~I37a48cf83efd84f92330baf27ac69819a3daa7ea,openstack/vitrage,master,api,I37a48cf83efd84f92330baf27ac69819a3daa7ea,Update api: Webhook POST,MERGED,2020-08-23 04:35:42.000000000,2020-08-23 05:55:42.000000000,2020-08-23 05:54:11.000000000,3,5,0,747558,36599ce1b83348cb2d2900c70713a74eacf8857e,7,2,1,1,30408,Qitao,qihongtao,"Update api: Webhook POST

Fix request parameters in http request.

Change-Id: I37a48cf83efd84f92330baf27ac69819a3daa7ea
"
openstack%2Fpython-troveclient~master~Id88e8100a397b1512c73a0b28f14ab8edb221689,openstack/python-troveclient,master,fix-nics,Id88e8100a397b1512c73a0b28f14ab8edb221689,Add support of subnet-id and ip-address for creating instance,MERGED,2020-08-23 02:38:49.000000000,2020-08-23 02:59:39.000000000,2020-08-23 02:58:18.000000000,59,9,0,747553,e0e9be460271bf1f632c86ae637422023a5318b7,7,2,1,2,6732,Lingxian Kong,kong,"Add support of subnet-id and ip-address for creating instance

Change-Id: Id88e8100a397b1512c73a0b28f14ab8edb221689
"
openstack%2Fpython-troveclient~master~Iff7baea5719f5b94d3e89048d17b37c0682dfdb8,openstack/python-troveclient,master,fix-access,Iff7baea5719f5b94d3e89048d17b37c0682dfdb8,Fix key error when getting private instance,MERGED,2020-08-22 23:42:43.000000000,2020-08-23 01:38:48.000000000,2020-08-23 01:37:34.000000000,1,1,0,747550,2279d2f170332c92a0c67e98cc7449bacc3b4c27,7,2,1,1,6732,Lingxian Kong,kong,"Fix key error when getting private instance

Change-Id: Iff7baea5719f5b94d3e89048d17b37c0682dfdb8
"
openstack%2Fopenstack-ansible-os_placement~master~Ic831664bd500b8a3ed22238fef0b19ed56313d72,openstack/openstack-ansible-os_placement,master,bind-to-mgmt,Ic831664bd500b8a3ed22238fef0b19ed56313d72,Use the utility host for db setup tasks,MERGED,2020-08-20 16:33:53.000000000,2020-08-23 01:32:54.000000000,2020-08-23 01:31:47.000000000,12,1,0,747249,7d122d73338d5e61c32b93da20b277016d603d37,19,6,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: Ic831664bd500b8a3ed22238fef0b19ed56313d72
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,openstack/tripleo-heat-templates,stable/ussuri,fix-composable-restarts-stable/ussuri,I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,Fix pcs restart in composable HA,MERGED,2020-08-19 14:30:01.000000000,2020-08-22 22:49:08.000000000,2020-08-22 22:49:08.000000000,4,2,0,746936,9ee9b945f85a2d6e0e13015f9f32b0db7fb3b883,12,4,1,1,20172,Michele Baldessari,michele,"Fix pcs restart in composable HA

When a redeploy command is being run in a composable HA environment, if there
are any configuration changes, the <bundle>_restart containers will be kicked
off. These restart containers will then try and restart the bundles globally in
the cluster.

These restarts will be fired off in parallel from different nodes. So
haproxy-bundle will be restarted from controller-0, mysql-bundle from
database-0, rabbitmq-bundle from messaging-0.

This has proven to be problematic and very often (rhbz#1868113) it would fail
the redeploy with:
2020-08-11T13:40:25.996896822+00:00 stderr F Error: Could not complete shutdown of rabbitmq-bundle, 1 resources remaining
2020-08-11T13:40:25.996896822+00:00 stderr F Error performing operation: Timer expired
2020-08-11T13:40:25.996896822+00:00 stderr F Set 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role set=rabbitmq-bundle-meta_attributes name=target-role value=stopped
2020-08-11T13:40:25.996896822+00:00 stderr F Waiting for 2 resources to stop:
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F Deleted 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role name=target-role
2020-08-11T13:40:25.996896822+00:00 stderr F

or

2020-08-11T13:39:49.197487180+00:00 stderr F Waiting for 2 resources to start again:
2020-08-11T13:39:49.197487180+00:00 stderr F * galera-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F Could not complete restart of galera-bundle, 1 resources remaining
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F

After discussing it with kgaillot it seems that concurrent restarts in pcmk are just brittle:
""""""
Sadly restarts are brittle, and they do in fact assume that nothing else is causing resources to start or stop. They work like this:

- Get the current configuration and state of the cluster, including a list of active resources (list #1)
- Set resource target-role to Stopped
- Get the current configuration and state of the cluster, including a list of which resources *should* be active (list #2)
- Compare lists #1 and #2, and the difference is the resources that should stop
- Periodically refresh the configuration and state until the list of active resources matches list #2
- Delete the target-role
- Periodically refresh the configuration and state until the list of active resources matches list #1
""""""

So the suggestion is to replace the restarts with an enable/disable cycle of the resource.

Tested this on a dozen runs on a composable HA environment and did not observe the error
any longer.

Closes-Bug: #1892206

Change-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e
"
openstack%2Frequirements~master~Idf46f01580dbbcbcd59e9440aae45cdcf67866e5,openstack/requirements,master,openstack/requirements/constraints/noclob,Idf46f01580dbbcbcd59e9440aae45cdcf67866e5,Updated from generate-constraints,MERGED,2020-08-22 06:35:12.000000000,2020-08-22 20:34:33.000000000,2020-08-22 20:33:20.000000000,11,11,0,747517,32d2246f08416efeaa7c7bd61dc3985f2df79939,12,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Idf46f01580dbbcbcd59e9440aae45cdcf67866e5
"
openstack%2Fironic-python-agent~master~I33bf58b3eb16b63b70f2a23e8a04449dc88fd94c,openstack/ironic-python-agent,master,inspector-logs,I33bf58b3eb16b63b70f2a23e8a04449dc88fd94c,Enable the logs collection by default,MERGED,2020-08-19 15:25:37.000000000,2020-08-22 19:20:51.000000000,2020-08-22 19:19:22.000000000,16,7,1,746959,d50ff06b6bbf8909496882c7200c11299dc6b039,19,7,1,3,10239,Dmitry Tantsur,dtantsur,"Enable the logs collection by default

It's incredibly helpful when debugging and most of consumers seem
to enable and rely on it.

Change-Id: I33bf58b3eb16b63b70f2a23e8a04449dc88fd94c
"
openstack%2Fkolla-ansible~stable%2Ftrain~Ibfbe2d4f49261fa766acbb6ff45da9994118bda8,openstack/kolla-ansible,stable/train,bug/1853776-stable/ussuri-stable/train,Ibfbe2d4f49261fa766acbb6ff45da9994118bda8,Fix kolla-ansible not reflect environment changed,MERGED,2020-08-21 18:35:33.000000000,2020-08-22 18:34:34.000000000,2020-08-22 18:33:12.000000000,1,0,0,747462,06c6e14e5e66f09615631ddf56e47101a6819ca8,13,4,1,1,30491,Radosław Piliszek,yoctozepto,"Fix kolla-ansible not reflect environment changed

Neutron's containers should use ENV from kolla_docker module's
environment parameter (defined in roles/neutron/defaults/main.yml)
after reconfigure, not only when deploying.

Currently this is working only for deploy, not for reconfigure.

How to test it ?
- Deploy neutron with ""neutron_legacy_iptables"" set to yes/no.
- Change value of ""neutron_legacy_iptables"" to opposite value as before.
- Reconfigure neutron.

Current result :
 - ""KOLLA_LEGACY_IPTABLES"" in container's ENV is not changed

Expected result :
 - ""KOLLA_LEGACY_IPTABLES:"" in container's ENV should be changed

This patch is fixing this behaviour by adding missing
environment parameter to neutron's ""Check neutron containers"" task.

Change-Id: Ibfbe2d4f49261fa766acbb6ff45da9994118bda8
Closes-Bug: #1853776
(cherry picked from commit ed2a2704d13fa70a8dc783960d05f5469639425c)
"
openstack%2Fopenstack-ansible-os_tempest~master~Ieae36a1d85a7da84ee2cd982a20dcabe9e65511f,openstack/openstack-ansible-os_tempest,master,fileperms,Ieae36a1d85a7da84ee2cd982a20dcabe9e65511f,Set mode for copy operation,MERGED,2020-08-19 07:49:45.000000000,2020-08-22 18:14:13.000000000,2020-08-22 18:13:01.000000000,3,0,3,746848,3e590ab572417b8f15c680ce483d5b5ed9f12c1a,29,7,3,2,12393,chandan kumar,chkumar246,"Set mode for copy operation

We need to set mode for copy operation otherwise ansible-2.9.12
can lead to too restrictive default permissions[1].

Setting mode for copy operations handles the warning.

[1.] https://github.com/ansible/ansible/issues/67794

Change-Id: Ieae36a1d85a7da84ee2cd982a20dcabe9e65511f
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fironic-python-agent~master~I89acdaa38a5c02a1d87e65e4d4e8d0fb5281772f,openstack/ironic-python-agent,master,remove-exp,I89acdaa38a5c02a1d87e65e4d4e8d0fb5281772f,Remove experimental jobs,MERGED,2020-08-21 12:51:51.000000000,2020-08-22 15:46:25.000000000,2020-08-22 15:43:58.000000000,0,41,0,747400,82c7043f1aaad523cc8186fa5a212ce2c1498a64,15,4,3,2,23851,Riccardo Pittau,elfosardo,"Remove experimental jobs

They're not really useful anymore.

Change-Id: I89acdaa38a5c02a1d87e65e4d4e8d0fb5281772f
"
openstack%2Fcinder~master~Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72,openstack/cinder,master,,Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72,Remove unnecessary releasenote,MERGED,2020-08-19 17:22:36.000000000,2020-08-22 15:42:22.000000000,2020-08-19 22:27:48.000000000,0,6,1,747002,9ae4e48279e8ffad1676a38fe2466ccdacb0427a,35,20,2,1,27615,Rajat Dhasmana,whoami-rajat,"Remove unnecessary releasenote

This was introduced as a regression of [1] which is a fix in victoria
and never released. So this releasenote is not needed.

[1] https://review.opendev.org/#/c/726471/

Change-Id: Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72
"
openstack%2Fkolla-ansible~stable%2Fussuri~Ibfbe2d4f49261fa766acbb6ff45da9994118bda8,openstack/kolla-ansible,stable/ussuri,bug/1853776-stable/ussuri,Ibfbe2d4f49261fa766acbb6ff45da9994118bda8,Fix kolla-ansible not reflect environment changed,MERGED,2020-08-21 18:35:25.000000000,2020-08-22 14:12:24.000000000,2020-08-22 14:11:15.000000000,1,0,0,747461,75f8ce358c648248941c1fbabc155e887f637e1a,11,4,1,1,30491,Radosław Piliszek,yoctozepto,"Fix kolla-ansible not reflect environment changed

Neutron's containers should use ENV from kolla_docker module's
environment parameter (defined in roles/neutron/defaults/main.yml)
after reconfigure, not only when deploying.

Currently this is working only for deploy, not for reconfigure.

How to test it ?
- Deploy neutron with ""neutron_legacy_iptables"" set to yes/no.
- Change value of ""neutron_legacy_iptables"" to opposite value as before.
- Reconfigure neutron.

Current result :
 - ""KOLLA_LEGACY_IPTABLES"" in container's ENV is not changed

Expected result :
 - ""KOLLA_LEGACY_IPTABLES:"" in container's ENV should be changed

This patch is fixing this behaviour by adding missing
environment parameter to neutron's ""Check neutron containers"" task.

Change-Id: Ibfbe2d4f49261fa766acbb6ff45da9994118bda8
Closes-Bug: #1853776
(cherry picked from commit ed2a2704d13fa70a8dc783960d05f5469639425c)
"
openstack%2Fpuppet-keystone~master~I926838347e92884f85a92d421e568f079ae7a8d4,openstack/puppet-keystone,master,746643,I926838347e92884f85a92d421e568f079ae7a8d4,Remove deprecated validate parameters from init,MERGED,2020-08-18 07:21:34.000000000,2020-08-22 13:36:07.000000000,2020-08-22 13:34:59.000000000,5,24,0,746645,ee755ad4ed14ae11a871673acaf5063bc3dc64de,14,4,1,2,16137,Tobias Urdin,tobasco,"Remove deprecated validate parameters from init

Change-Id: I926838347e92884f85a92d421e568f079ae7a8d4
"
openstack%2Fcinder~master~I45d0851cdb5f241ff8dc774dc22123b410502cd9,openstack/cinder,master,drop-pkg-resources,I45d0851cdb5f241ff8dc774dc22123b410502cd9,drop use of pkg_resources,MERGED,2020-07-25 17:28:57.000000000,2020-08-22 13:06:15.000000000,2020-08-21 22:37:14.000000000,41,18,0,743037,521057dd97d1656838e861d8c189f9611b7d6c6c,121,34,4,5,2472,Doug Hellmann,doug-hellmann,"drop use of pkg_resources

Importing pkg_resources scans all of the installed modules for data
that won't be used. Switch to using importlib.metdata, which more
efficiently loads the metadata for a package.

Since the name of the module where importlib.metadata is found depends
on the version of python, mocking a function in the library is more
complicated. Provide a wrapper in the module that uses
importlib.metadata.version() so its tests can examine behavior using
different versions via mocks.

The distutils package in the standard library is deprecated. Use the
packaging library for parsing version strings into something that can
be compared.

Change-Id: I45d0851cdb5f241ff8dc774dc22123b410502cd9
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fironic~stable%2Fussuri~I963276efae5599bfed6cbb4df18e8dd3bd1b9839,openstack/ironic,stable/ussuri,token-reboot-stable/ussuri,I963276efae5599bfed6cbb4df18e8dd3bd1b9839,Wipe agent token during reboot or power off,MERGED,2020-08-21 12:07:43.000000000,2020-08-22 12:59:10.000000000,2020-08-22 12:57:49.000000000,40,1,0,747394,bce1d33e5aafbf8630614cbc8fca4464f6226d46,14,5,1,3,10239,Dmitry Tantsur,dtantsur,"Wipe agent token during reboot or power off

Otherwise a reboot during fast-track will leave the newly booted
agent without an ability to request a token.

Change-Id: I963276efae5599bfed6cbb4df18e8dd3bd1b9839
(cherry picked from commit 2d4d375358c8eb923a0a3bcee211ac53b991e54b)
"
openstack%2Fironic~master~Ia4f7a4ab07e551cc098412b60d1592d31cbc2036,openstack/ironic,master,pass-global-request-id-agent,Ia4f7a4ab07e551cc098412b60d1592d31cbc2036,Pass global-request-id to ironic-python-agent,MERGED,2020-05-15 17:19:47.000000000,2020-08-22 12:54:25.000000000,2020-08-22 12:36:49.000000000,12,4,1,728528,2f184f7c40148a1a0974871aefa26058bdb2e9e4,32,9,4,2,12356,Vladyslav Drok,vdrok,"Pass global-request-id to ironic-python-agent

Story: 2007681
Task: 39793
Depends-On: I6f544327d310c976a1625cfb411947591867882a
Change-Id: Ia4f7a4ab07e551cc098412b60d1592d31cbc2036
"
openstack%2Fironic-lib~master~I046a59753ecb6ec29ddd2564923a800105f56d3f,openstack/ironic-lib,master,,I046a59753ecb6ec29ddd2564923a800105f56d3f,Additional testing for Metal3 string cases,MERGED,2020-08-18 17:59:54.000000000,2020-08-22 12:38:10.000000000,2020-08-22 12:36:55.000000000,14,0,0,746781,0e9b1eb0d8ce8fd38b5c41d5e2db234cdf00860b,8,3,1,1,11655,Julia Kreger,jkreger,"Additional testing for Metal3 string cases

The BMO does auto-pre-formatting on the submitted hints
so we end up in scenarios where we get strings prepended with
comparison operators in cases we never really see otherwise.

Just to be on the safe side, explicitly test this so we don't
accidently break it later.

Change-Id: I046a59753ecb6ec29ddd2564923a800105f56d3f
"
openstack%2Fdevstack~master~I4c770013e5bcb34bc13ffc5b0a6f5597ca50c8f4,openstack/devstack,master,xy,I4c770013e5bcb34bc13ffc5b0a6f5597ca50c8f4,DNM: Test patched eventlet,ABANDONED,2020-06-01 07:19:43.000000000,2020-08-22 12:09:44.000000000,,8,55,0,732097,d28936aba202e62b9675095a74a97d9a1b00311c,5,1,2,2,13252,Dr. Jens Harbott,jrosenboom,"DNM: Test patched eventlet

Change-Id: I4c770013e5bcb34bc13ffc5b0a6f5597ca50c8f4
"
openstack%2Fnova~master~If849f80c0372872b2de57b20e8b63c069a54ccff,openstack/nova,master,trivial,If849f80c0372872b2de57b20e8b63c069a54ccff,functional: Drop '_api' suffix from placement fixture,MERGED,2020-08-12 14:24:33.000000000,2020-08-22 11:39:26.000000000,2020-08-21 10:06:41.000000000,131,134,0,745905,5018d5d517c1e42f77decaf8497cac4d5d6fec8e,22,10,2,12,15334,Stephen Finucane,sfinucan,"functional: Drop '_api' suffix from placement fixture

It's unnecessary, particularly when nothing of the other service
fixtures use it.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>

Change-Id: If849f80c0372872b2de57b20e8b63c069a54ccff
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I535886dbac4e41677285a14c010ec45a54e77c79,openstack/nova,master,trivial,I535886dbac4e41677285a14c010ec45a54e77c79,functional: Move single-use function to its caller,MERGED,2020-08-12 14:24:33.000000000,2020-08-22 11:38:17.000000000,2020-08-21 10:06:35.000000000,15,16,0,745904,1cb9a3a0b81a5010d7fc5e3822d8da10d45809f5,25,12,2,2,15334,Stephen Finucane,sfinucan,"functional: Move single-use function to its caller

The '_check_api_endpoint' function only had a single caller and was far
more complicated that necessary. Move it to that caller and simplify.

Change-Id: I535886dbac4e41677285a14c010ec45a54e77c79
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fironic-python-agent~master~If90777d214fe235c89d4a33b649d0722999ef291,openstack/ironic-python-agent,master,,If90777d214fe235c89d4a33b649d0722999ef291,"Revert ""Temporary disable multiple jobs to land CI fixes.""",MERGED,2020-08-21 21:51:08.000000000,2020-08-22 11:22:31.000000000,2020-08-22 11:20:35.000000000,17,17,0,747490,d415287af31c522c49ff85f13694f4e9405597b4,14,4,1,1,11655,Julia Kreger,jkreger,"Revert ""Temporary disable multiple jobs to land CI fixes.""

This reverts commit 9ebab1bd342546b56c9a361aa15d935d754c6308 
as it was only to enable several cross-dependent CI fixes to merge.

Change-Id: If90777d214fe235c89d4a33b649d0722999ef291
"
openstack%2Fironic-lib~master~I0ddef614be55b0f6365a952a906197e7a219ef65,openstack/ironic-lib,master,use-tenacity,I0ddef614be55b0f6365a952a906197e7a219ef65,Use tenacity to retry convert_image,MERGED,2020-08-11 15:52:53.000000000,2020-08-22 10:44:58.000000000,2020-08-22 10:43:40.000000000,50,26,4,745704,718817bf7a05f110e1c26e163a99b6bbc06af58a,13,3,3,4,23851,Riccardo Pittau,elfosardo,"Use tenacity to retry convert_image

Instead of using a loop, we use the tenacity library to provide
correct retry feature to the convert_image function.

Change-Id: I0ddef614be55b0f6365a952a906197e7a219ef65
"
openstack%2Ftripleo-heat-templates~master~I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,openstack/tripleo-heat-templates,master,fix-composable-restarts,I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,Fix pcs restart in composable HA,MERGED,2020-08-18 08:29:49.000000000,2020-08-22 09:09:31.000000000,2020-08-22 09:09:30.000000000,4,2,0,746660,dcfc98d23606ddec7b0d4f91bb1dc1b3c2a7409c,28,5,3,1,20172,Michele Baldessari,michele,"Fix pcs restart in composable HA

When a redeploy command is being run in a composable HA environment, if there
are any configuration changes, the <bundle>_restart containers will be kicked
off. These restart containers will then try and restart the bundles globally in
the cluster.

These restarts will be fired off in parallel from different nodes. So
haproxy-bundle will be restarted from controller-0, mysql-bundle from
database-0, rabbitmq-bundle from messaging-0.

This has proven to be problematic and very often (rhbz#1868113) it would fail
the redeploy with:
2020-08-11T13:40:25.996896822+00:00 stderr F Error: Could not complete shutdown of rabbitmq-bundle, 1 resources remaining
2020-08-11T13:40:25.996896822+00:00 stderr F Error performing operation: Timer expired
2020-08-11T13:40:25.996896822+00:00 stderr F Set 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role set=rabbitmq-bundle-meta_attributes name=target-role value=stopped
2020-08-11T13:40:25.996896822+00:00 stderr F Waiting for 2 resources to stop:
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F Deleted 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role name=target-role
2020-08-11T13:40:25.996896822+00:00 stderr F

or

2020-08-11T13:39:49.197487180+00:00 stderr F Waiting for 2 resources to start again:
2020-08-11T13:39:49.197487180+00:00 stderr F * galera-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F Could not complete restart of galera-bundle, 1 resources remaining
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F

After discussing it with kgaillot it seems that concurrent restarts in pcmk are just brittle:
""""""
Sadly restarts are brittle, and they do in fact assume that nothing else is causing resources to start or stop. They work like this:

- Get the current configuration and state of the cluster, including a list of active resources (list #1)
- Set resource target-role to Stopped
- Get the current configuration and state of the cluster, including a list of which resources *should* be active (list #2)
- Compare lists #1 and #2, and the difference is the resources that should stop
- Periodically refresh the configuration and state until the list of active resources matches list #2
- Delete the target-role
- Periodically refresh the configuration and state until the list of active resources matches list #1
""""""

So the suggestion is to replace the restarts with an enable/disable cycle of the resource.

Tested this on a dozen runs on a composable HA environment and did not observe the error
any longer.

Closes-Bug: #1892206

Change-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e
"
openstack%2Fproject-config~master~I7a77ba969a6cb8bbed9caca6dd0a052d0e10f6f5,openstack/project-config,master,project-yaml-normalization,I7a77ba969a6cb8bbed9caca6dd0a052d0e10f6f5,Normalize projects.yaml,MERGED,2020-08-22 06:07:51.000000000,2020-08-22 08:47:37.000000000,2020-08-22 08:40:17.000000000,0,1,0,747513,0070b9589f0a2050512bab1a86a477e7691e1fe2,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Normalize projects.yaml

Change-Id: I7a77ba969a6cb8bbed9caca6dd0a052d0e10f6f5
"
openstack%2Ftripleo-quickstart~master~Ibdb1b394887a6dcb7e2285ba93ceda43e701b8de,openstack/tripleo-quickstart,master,,Ibdb1b394887a6dcb7e2285ba93ceda43e701b8de,fix openstack collections in tq,MERGED,2020-08-07 14:29:34.000000000,2020-08-22 07:28:58.000000000,2020-08-22 07:27:37.000000000,1,29,5,745346,b38eba1b09d143f0a73bae4aa1fc2fcd7004997f,55,10,5,2,9592,wes hayutin,weshayutin,"fix openstack collections in tq

tripleo-operators and tripleo-ansible
are both in quickstart-extras-requirements
By default both should be pip installed via
http locally and via file:/// in ci
see: https://rb.gy/qcy8mi

The collections wind up in
share/ansible/collections/ansible_collections
either way.

This may impact centos-ci, still checking

Change-Id: Ibdb1b394887a6dcb7e2285ba93ceda43e701b8de
"
openstack%2Frequirements~master~Ie4979654723934645f70dbd1c7a698e27a1df323,openstack/requirements,master,openstack/requirements/constraints/noclob,Ie4979654723934645f70dbd1c7a698e27a1df323,Updated from generate-constraints,MERGED,2020-08-20 06:24:56.000000000,2020-08-22 07:23:06.000000000,2020-08-22 07:21:44.000000000,8,8,0,747110,9f889c3b40615b16376a9a8bc9846a720c4a64a0,19,3,4,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ie4979654723934645f70dbd1c7a698e27a1df323
"
openstack%2Fpython-muranoclient~master~Ie8402e2d9c3297e3bbee6065c9977890c4d46589,openstack/python-muranoclient,master,native-zuulv3-migration,Ie8402e2d9c3297e3bbee6065c9977890c4d46589,Native Zuul v3 version of the functional legacy job,MERGED,2020-08-18 15:21:18.000000000,2020-08-22 07:22:24.000000000,2020-08-22 07:18:47.000000000,8,218,1,746748,d3ab74e495234ba38d3cbfd22006bfa2ae7da25c,9,3,2,5,10459,Luigi Toscano,ltoscano,"Native Zuul v3 version of the functional legacy job

Pretty straightforward conversion, and remove the old scripts
which are not needed anymore.

Also, even though OS_TENANT_NAME is still exported,
read OS_PROJECT_NAME as first choice.

Depends-On: https://review.opendev.org/746235
Change-Id: Ie8402e2d9c3297e3bbee6065c9977890c4d46589
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I6816d414409da3748b2e341ec05ebcad86ad8fd1,openstack/puppet-tripleo,stable/ussuri,bug/1888398-stable/ussuri,I6816d414409da3748b2e341ec05ebcad86ad8fd1,Make sure python3-novaclient is installed before creating fence_compute,MERGED,2020-08-18 08:06:25.000000000,2020-08-22 07:14:36.000000000,2020-08-22 07:14:36.000000000,8,2,0,746653,c3e86ea6dc0b2f57af12a088c2086e6fc70a95b0,38,6,1,1,20172,Michele Baldessari,michele,"Make sure python3-novaclient is installed before creating fence_compute

This has been observed during an IHA FFU process. Namely
after the OS upgrade by LEAPP the fence_compute resource will
fail starting because python3-novaclient is not installed.
Normally this is taken care of by rpm dependencies, but
fence_compute is buggy and does not explicitely have that
dep (https://bugzilla.redhat.com/show_bug.cgi?id=1857247)

So we need to make sure the package is installed before
creating the resource.

Tested this on four consecutive successful IHA FFU runs
and it worked okay.

Related-Bug: #1888398

Change-Id: I6816d414409da3748b2e341ec05ebcad86ad8fd1
(cherry picked from commit c1e9447998c635a825529cff99b99ed13a4e89d7)
"
openstack%2Ftripleo-common~master~I79a9bb831339567fad0eecf5aed4af74ceb07b57,openstack/tripleo-common,master,bug/1889122,I79a9bb831339567fad0eecf5aed4af74ceb07b57,Switch to tripleo_containers.yaml,MERGED,2020-08-19 18:28:31.000000000,2020-08-22 07:13:13.000000000,2020-08-22 07:11:37.000000000,1133,243,0,747010,74799d9beb0747cac9c13a325dc5277f3a5d9e76,22,6,5,8,14985,Alex Schultz,mwhahaha,"Switch to tripleo_containers.yaml

In older versions we used the overcloud_containers.yaml.j2 to perform
the service mapping to container names. These containers have
image_source: kolla. Since we've implemented tcib, we have a new
image_source: tripleo which sould be used.

Change-Id: I79a9bb831339567fad0eecf5aed4af74ceb07b57
"
openstack%2Fsolum-tempest-plugin~master~I7a7a9e2d00d870c5390e149404b0e6bd5658a511,openstack/solum-tempest-plugin,master,migrate-to-focal,I7a7a9e2d00d870c5390e149404b0e6bd5658a511,[goal] Migrate solum-tempest-plugin jobs to focal,MERGED,2020-07-30 21:21:56.000000000,2020-08-22 06:51:41.000000000,2020-08-22 06:51:41.000000000,3,0,0,744058,80e23bb97926308505bc0ac206974468b38efe4e,11,5,2,1,8556,Ghanshyam,ghanshyam,"[goal] Migrate solum-tempest-plugin jobs to focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Most of the Tempest jobs will be migrate automatically once devstack
base job start running on Focal(Depends-On).

Stable jobs testing stable branch needs to keep running on their supported
distro version which is bionic from stein till ussuri.

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$

Change-Id: I7a7a9e2d00d870c5390e149404b0e6bd5658a511
Story: #2007865
Task: #40219
"
openstack%2Fmanila~master~Ie55fd5bf80ca2ebacdb652c701aa9c213f758963,openstack/manila,master,bug/1816486,Ie55fd5bf80ca2ebacdb652c701aa9c213f758963,Fix documentation for types and extra specs,MERGED,2020-08-06 21:24:06.000000000,2020-08-22 06:43:12.000000000,2020-08-21 22:58:30.000000000,483,387,10,745234,36a7ec422bf2ff41aeeeff777c81ab83576ce207,37,10,7,5,16643,Goutham Pacha Ravi,gouthamr,"Fix documentation for types and extra specs

Some content in the admin docs was incomplete,
and irrelevant to administrators.

Also add notes on a couple of missing common
capabilities:
- mount_snapshot_support
- availability_zones

Partial-Bug: #1816486
Change-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fkolla-ansible~stable%2Ftrain~I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5,openstack/kolla-ansible,stable/train,bug/1891462,I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5,Add cinder auth config to nova-cell nova.conf.j2,MERGED,2020-08-21 16:29:25.000000000,2020-08-22 04:47:36.000000000,2020-08-22 04:46:04.000000000,13,0,0,747439,ad42c70f97bf29779b06f565bfdac12f8bc6ec61,8,4,1,2,14826,Mark Goddard,mgoddard,"Add cinder auth config to nova-cell nova.conf.j2

Fixes an issue during deleting evacuated instances with encrypted block
devices.

Change-Id: I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5
Closes-Bug: 1891462
Related-Bug: 1850279
(cherry picked from commit de16013bd630019c4febdb618a3e0c5bf93f7e6f)
"
openstack%2Fzun~master~I2734261b08763ae4d22b342aa7a1ce2c75681c2f,openstack/zun,master,bug/1892305,I2734261b08763ae4d22b342aa7a1ce2c75681c2f,Add kuryr-libnetwork as a required dependency,MERGED,2020-08-20 15:33:52.000000000,2020-08-22 03:31:09.000000000,2020-08-22 03:29:43.000000000,1,0,0,747214,84b27720e22aa8e21b25bc4f650e0950acbafe4d,9,2,1,1,11536,hongbin,hongbin,"Add kuryr-libnetwork as a required dependency

Change-Id: I2734261b08763ae4d22b342aa7a1ce2c75681c2f
Closes-Bug: #1892305
"
openstack%2Fzun~stable%2Ftrain~Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f,openstack/zun,stable/train,bug/1889187,Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f,Dep's should be restricted by upper-constraints,MERGED,2020-08-21 02:18:13.000000000,2020-08-22 03:31:06.000000000,2020-08-22 03:29:42.000000000,3,2,0,747324,69d32fadaa9a53f3fd77bd49f328ccda6d616201,7,3,1,2,11536,hongbin,hongbin,"Dep's should be restricted by upper-constraints

Tox trying to install latest versions for building docs which may
not be supported by stable and lower branches, so should be
restricted by respective version's upper-constraints.txt

Change-Id: Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f
Closes-Bug: #1889187
"
openstack%2Fzun~master~Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f,openstack/zun,master,bug/1889187,Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f,Dep's should be restricted by upper-constraints,MERGED,2020-08-21 02:15:20.000000000,2020-08-22 03:28:27.000000000,2020-08-22 03:27:14.000000000,2,1,0,747323,b77de2a8fe7292edf680d199fe1d71c1cdd39f7c,7,3,1,1,11536,hongbin,hongbin,"Dep's should be restricted by upper-constraints

Tox trying to install latest versions for building docs which may
not be supported by stable and lower branches, so should be
restricted by respective version's upper-constraints.txt

Change-Id: Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f
Closes-Bug: #1889187
"
openstack%2Fironic-python-agent~bugfix%2F6.2~I7e2d93ef566f4f2beb54caf445c7810a01aec1de,openstack/ironic-python-agent,bugfix/6.2,increase-tiny-mem-bugfix/6.3-bugfix/6.2,I7e2d93ef566f4f2beb54caf445c7810a01aec1de,Increase memory for tinyipa jobs,MERGED,2020-08-21 22:39:32.000000000,2020-08-22 03:24:25.000000000,2020-08-22 03:21:17.000000000,5,5,0,747493,86cf092f887834d3c4b2abb47be5ad12ae4aace8,8,3,1,1,11655,Julia Kreger,jkreger,"Increase memory for tinyipa jobs

Tinyipa is not that tiny anymore and we need to increase the base
memory for VMs in jobs that use it.

Depends-On: https://review.opendev.org/747397

Change-Id: I7e2d93ef566f4f2beb54caf445c7810a01aec1de
(cherry picked from commit 2a5ba7ef68db8b09a62e36943be75ef29c62ef54)
"
openstack%2Fironic-python-agent~bugfix%2F6.3~I7e2d93ef566f4f2beb54caf445c7810a01aec1de,openstack/ironic-python-agent,bugfix/6.3,increase-tiny-mem-bugfix/6.3,I7e2d93ef566f4f2beb54caf445c7810a01aec1de,Increase memory for tinyipa jobs,MERGED,2020-08-21 22:39:25.000000000,2020-08-22 03:24:23.000000000,2020-08-22 03:21:16.000000000,5,5,0,747492,b9b6f6d817ce690949872f7cf16c8a979bd486c8,9,3,1,1,11655,Julia Kreger,jkreger,"Increase memory for tinyipa jobs

Tinyipa is not that tiny anymore and we need to increase the base
memory for VMs in jobs that use it.

Depends-On: https://review.opendev.org/747397

Change-Id: I7e2d93ef566f4f2beb54caf445c7810a01aec1de
(cherry picked from commit 2a5ba7ef68db8b09a62e36943be75ef29c62ef54)
"
openstack%2Fmanila~master~Ic70fcd9f6cf159a960e0d75b4081c88af3d8973e,openstack/manila,master,bug/1713060,Ic70fcd9f6cf159a960e0d75b4081c88af3d8973e,DOC: Update admin generic driver network-options immutable,MERGED,2020-08-21 21:30:00.000000000,2020-08-22 03:18:51.000000000,2020-08-21 22:58:27.000000000,4,0,0,747481,dd770bd2063a734441390a60b8f14ece82dda2b1,11,7,1,1,30998,Andre Luiz Beltrami Rocha,andrebeltrami,"DOC: Update admin generic driver network-options immutable

This patch adds the behavior described in the bug #1713060
as known restriction in the generic driver.

Change-Id: Ic70fcd9f6cf159a960e0d75b4081c88af3d8973e
Closes-Bug: #1713060
"
openstack%2Fpython-tripleoclient~master~I932482e097d62f46e02eb035435d2bc0d5548b2a,openstack/python-tripleoclient,master,RHBZ#1868910,I932482e097d62f46e02eb035435d2bc0d5548b2a,Allow usage of duplicated IPs for undercloud config,MERGED,2020-08-18 12:36:55.000000000,2020-08-22 02:45:48.000000000,2020-08-21 18:55:54.000000000,5,15,0,746698,5b246e4f1aa86f8fe2cadb5fccf087dafa36523e,19,5,2,2,9816,Takashi Kajinami,kajinamit,"Allow usage of duplicated IPs for undercloud config

Change 2600260be5ad99da36775e470758591d8fcd2ca9 introduced validation
to avoid duplicated usage of undercloud IPs, but in fact we don't need
to ensure complete unieqness of local_ip, undercloud_admin_host and
undercloud_public_host, but it should be enough if local_ip and
undercloud_admin_host are different, because public endpoints should
listen on different ports when ssl is enabled.

This patch eases the validation introduced by the previous patch, so
that we allow the deployment especially with the same ip used for
public_host and admin_host, which was allowed in old releases.

Depends-On: https://review.opendev.org/746671
Change-Id: I932482e097d62f46e02eb035435d2bc0d5548b2a
Related-Bug: #1832168
Related: RHBZ#1868910
"
openstack%2Fneutron~stable%2Fussuri~I926a160914c16792d7911810cfded41d29fcf282,openstack/neutron,stable/ussuri,bug/1887781-stable/ussuri,I926a160914c16792d7911810cfded41d29fcf282,ovn-migration-mtu: Support providing project/user domain by name,MERGED,2020-08-18 13:34:40.000000000,2020-08-22 01:29:01.000000000,2020-08-22 01:27:23.000000000,38,3,0,746720,c3aedcd5084af8727ba0358ef347e6911480573d,37,9,1,1,11805,Corey Bryant,coreycb,"ovn-migration-mtu: Support providing project/user domain by name

The domain name environment variables `OS_USER_DOMAIN_NAME` and
`OS_PROJECT_DOMAIN_NAME` will be consumed when present.

Otherwise the current behaviour of using *_DOMAIN_ID environment
variables with fall back to the domain with literal ID of
`default` is retained.

Change-Id: I926a160914c16792d7911810cfded41d29fcf282
Closes-Bug: #1887778
(cherry picked from commit c6574321bae262d2eb8ed2ad12ebf6c420ea5bf8)
"
openstack%2Fneutron~master~Iea4263b852d1e3f81eb2557918ea3cbb7adb8016,openstack/neutron,master,ovn-chassis-private,Iea4263b852d1e3f81eb2557918ea3cbb7adb8016,[OVN] Use the Chassis_Private table for agents healthcheck,MERGED,2020-02-13 11:48:18.000000000,2020-08-22 01:28:05.000000000,2020-08-22 01:26:32.000000000,89,47,36,707626,1dddbbfc92b115bfd62e15081134a5cadbc15212,100,10,12,8,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Use the Chassis_Private table for agents healthcheck

The core OVN team has introduced a new table called Chassis_Private to
avoid nb_cfg flooding when checking for the Chassis' status. The OVN
driver does rely on that mechanism for the agent liveness mechanism.

This patch makes use of this new table but it's also backward
compatible.

For more information, check the core OVN changes at:
https://patchwork.ozlabs.org/patch/1254394.

Closes-Bug: #1892477
Change-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fansible-role-collect-logs~master~Ie444f4e12129a16934afa58d6ae65d16bdfedfae,openstack/ansible-role-collect-logs,master,,Ie444f4e12129a16934afa58d6ae65d16bdfedfae,"add sova pattern for new tc exception, ratelimit",MERGED,2020-08-21 13:42:04.000000000,2020-08-22 01:06:34.000000000,2020-08-22 01:06:34.000000000,6,1,0,747416,b411f774b569a76ac54747b5fbe4d0d35f00a061,8,4,1,1,9592,wes hayutin,weshayutin,"add sova pattern for new tc exception, ratelimit

capture errors like..
tripleo_common.image.exception.ImageRateLimitedException:
Rate Limited while requesting http://mirror.iad.rax.open
dev.org:8082/v2/tripleotraincentos8/centos-binary-barbi
can-api/blobs/sha256:debac393b2f14

Partial-Bug: #1889122
Change-Id: Ie444f4e12129a16934afa58d6ae65d16bdfedfae
"
openstack%2Ftripleo-quickstart-extras~master~I33e7e7252bb3b4c342bf9eb9263aa7d9f5cf42e8,openstack/tripleo-quickstart-extras,master,,I33e7e7252bb3b4c342bf9eb9263aa7d9f5cf42e8,Cleanup quickstart-extras-standalone playbook,MERGED,2020-08-17 09:57:13.000000000,2020-08-22 01:06:32.000000000,2020-08-22 01:06:32.000000000,0,32,0,746471,fd5555da9b82ec66947d808ca2a95841743f1a4a,10,7,1,1,13861,yatin,yatinkarel,"Cleanup quickstart-extras-standalone playbook

Follow up of https://review.opendev.org/#/c/743916.
Also cleanup virtualenv detection tasks already
included in tempest.yml.

Change-Id: I33e7e7252bb3b4c342bf9eb9263aa7d9f5cf42e8
"
openstack%2Fpuppet-tripleo~master~I63469081043a6a3b2c9f888f79ed05d433ace211,openstack/puppet-tripleo,master,rhbz/1859453,I63469081043a6a3b2c9f888f79ed05d433ace211,Add unit test cases for tripleo::profile::base::swift,MERGED,2020-08-18 23:51:08.000000000,2020-08-22 01:06:31.000000000,2020-08-22 01:06:30.000000000,86,0,0,746819,b333b2b0caecb21d58905a624880185a759ee646,8,3,2,1,9816,Takashi Kajinami,kajinamit,"Add unit test cases for tripleo::profile::base::swift

This patch is a follow-up of the previous change[1], and addes unit
test coverage for the class newly introduced by the change.

[1] e7cb55d97b41c35800e08257a826164ca5a1c7de

Change-Id: I63469081043a6a3b2c9f888f79ed05d433ace211
"
openstack%2Ftripleo-common~stable%2Fqueens~I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b,openstack/tripleo-common,stable/queens,octavia-certs,I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b,Scan existing controllers on update to pick up existing certs/private keys,MERGED,2020-08-19 12:43:38.000000000,2020-08-22 01:06:30.000000000,2020-08-22 01:06:29.000000000,232,4,0,746912,6b14e3f6d3b7a8ea72c04971c0c9c73e592592a2,9,5,1,7,29244,Gregory Thiemonge,gthiemonge,"Scan existing controllers on update to pick up existing certs/private keys

Adds an octavia related role to pick up CA (cert and private key pairs)
and client certificate from controllers and modifies existing roles to
use them instead of generating new ones.

Depends-On: https://review.opendev.org/746911

Change-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b
Co-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>
Related-Bug: #1849548
Related-Bug: #1849550
(cherry picked from commit d3e7a42cdad6a12d63afd23906cffe081f036745)
(cherry picked from commit 2e5be7b96859d1eff7c2680c6780e3ac27c6dd63)
Note-Queens: cherry picked from tripleo-ansible stein
(cherry picked from commit b94fb8e9d85939e4942bc0d77222e2118552de71)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9aaeec1d9f8623cbd99b2f83254dda038651f0a2,openstack/tripleo-heat-templates,stable/queens,octavia-certs,I9aaeec1d9f8623cbd99b2f83254dda038651f0a2,Update octavia playbooks parameters,MERGED,2020-08-19 12:43:04.000000000,2020-08-22 01:06:28.000000000,2020-08-22 01:06:28.000000000,2,10,0,746911,90ca8ec219eaa97d0d00a8b4e10ffd1e2b418360,12,5,1,1,29244,Gregory Thiemonge,gthiemonge,"Update octavia playbooks parameters

StackAction no longer conditions generate_certs.
Forward OctaviaGenerateCerts to the playbooks and add StackAction value
as parameter, the need of creating certificates is now handled in the
ansible playbook.

Change-Id: I9aaeec1d9f8623cbd99b2f83254dda038651f0a2
Related-Bug: #1849548
(cherry picked from commit 648cde501eb31766ed333f48ac1f6a4854b26c41)
(cherry picked from commit 5f336195f622c0191eb7cc432ff49a81a9d97e3b)
(cherry picked from commit 1eb954241bb4988e9ab6a9a74f0d277fe33726d6)
"
openstack%2Fkayobe~master~I19ef5a46dccacc00db495993cc744938921996a1,openstack/kayobe,master,aodh,I19ef5a46dccacc00db495993cc744938921996a1,Add support for custom Aodh configuration,MERGED,2020-08-17 08:45:36.000000000,2020-08-22 00:48:47.000000000,2020-08-22 00:46:57.000000000,42,3,0,746459,878fe5728bbc74b3d42ab63c2c61de6c4bbd01a1,15,5,2,10,15197,Pierre Riteau,priteau,"Add support for custom Aodh configuration

Change-Id: I19ef5a46dccacc00db495993cc744938921996a1
Story: 2008019
Task: 40671
"
openstack%2Fironic-python-agent-builder~master~I575b7294e21a9a9ebe34181171d065c31aa13e34,openstack/ironic-python-agent-builder,master,fix-final-image,I575b7294e21a9a9ebe34181171d065c31aa13e34,Fix finalise tinyipa,MERGED,2020-08-20 15:00:25.000000000,2020-08-22 00:14:50.000000000,2020-08-22 00:13:08.000000000,4,1,3,747198,11bb1098a39c905b3ac54fe5b657d31d0b56f2a1,23,5,4,1,23851,Riccardo Pittau,elfosardo,"Fix finalise tinyipa

The version of pip should be the same between build and finalise
otherwise installing from wheels will likely fail.

Depends-On: https://review.opendev.org/747355

Change-Id: I575b7294e21a9a9ebe34181171d065c31aa13e34
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I751452d4f60ceedd099f76e8127694a96a0b9549,openstack/tripleo-ansible,stable/ussuri,,I751452d4f60ceedd099f76e8127694a96a0b9549,[tripleo-podman] Install specific version of buildah,MERGED,2020-08-21 13:35:07.000000000,2020-08-22 00:01:28.000000000,2020-08-22 00:01:28.000000000,17,2,0,747411,7b4a269740b0dde298f1e34976f3ae19967b1989,8,4,1,3,12393,chandan kumar,chkumar246,"[tripleo-podman] Install specific version of buildah

tripleo_podman_buildah_login.yml playbook from tripleo_podman
role is used in periodic jobs in upstream & downstream to push
containers.

In CentOS/RHEL, buildah comes from multiple repos, sometimes
untested package from diffferent repo get installed causing
issues. Making it parameterized will help to install specific
version of buildah and avoid breakage.

Change-Id: I751452d4f60ceedd099f76e8127694a96a0b9549
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
(cherry picked from commit bc80c2aa89bde4965d51980a5969cd92779f6337)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I015a845f0e2e440aa147a823a4bebc93d512664e,openstack/tripleo-ansible,stable/ussuri,bug/1883609-stable/ussuri,I015a845f0e2e440aa147a823a4bebc93d512664e,Additional permission fixes for roles,MERGED,2020-08-13 21:04:04.000000000,2020-08-22 00:01:27.000000000,2020-08-22 00:01:27.000000000,1,0,0,746228,98be5e50532858837c3792e369ee742cd45d0cb6,12,4,1,1,14985,Alex Schultz,mwhahaha,"Additional permission fixes for roles

Change-Id: I015a845f0e2e440aa147a823a4bebc93d512664e
Related-Bug: #1883609
(cherry picked from commit c9b252815d3be19120f886e108c9f72152d79352)
"
openstack%2Fneutron~stable%2Fstein~I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,openstack/neutron,stable/stein,bug/1878299,I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,port_forwarding: validate args before invoking db update,MERGED,2020-07-31 14:39:04.000000000,2020-08-21 23:59:55.000000000,2020-08-21 23:58:31.000000000,131,1,0,744186,b3647782e4dae56529bbf59918a51326df47b32e,49,8,5,2,11952,Flavio Fernandes,ffernand,"port_forwarding: validate args before invoking db update

Add validator to update_floatingip_port_forwarding so codepath does not
attempt performing invalid database operation. With that, operation fails
right away, with a hint on the offending argument(s).

This is a backport that combines changes from 2 changes that go together:
https://review.opendev.org/#/c/738145/
https://review.opendev.org/#/c/744993/

Note: pep8 failed with following error:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:
    N322  Possible use of no-op mock method. please use assert_called_once_with.
        mock_pf_get_objects.assert_called_once()
        ^
So additional changes were needed for backport.

Change-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04
Closes-Bug: #1878299
(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)
(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)
"
openstack%2Fpuppet-openstack_extras~master~Iec248a80c430f3b10a34886f28aa8bc791c9f806,openstack/puppet-openstack_extras,master,dnf-clean,Iec248a80c430f3b10a34886f28aa8bc791c9f806,CentOS: automatical package update after reposities setup,MERGED,2020-08-19 10:25:35.000000000,2020-08-21 23:46:50.000000000,2020-08-21 23:45:37.000000000,30,7,0,746878,0245bebbbf00dfe2fa7abc0b4699590d9834ac14,16,4,5,2,9816,Takashi Kajinami,kajinamit,"CentOS: automatical package update after reposities setup

Change-Id: Iec248a80c430f3b10a34886f28aa8bc791c9f806
"
openstack%2Fpuppet-openstack-integration~master~I237fd20e4d4b43e9da054dd161f84059613d3080,openstack/puppet-openstack-integration,master,bug/1892297,I237fd20e4d4b43e9da054dd161f84059613d3080,Missing pip package for Ubuntu,MERGED,2020-08-20 03:36:16.000000000,2020-08-21 23:09:03.000000000,2020-08-21 23:09:03.000000000,2,0,0,747098,ea99adf85d184ee407426da8dffa09304f8bf6cc,17,4,3,1,9414,zhongshengping,ZhongShengping,"Missing pip package for Ubuntu

Change-Id: I237fd20e4d4b43e9da054dd161f84059613d3080
Closes-Bug: #1892297
"
openstack%2Fmanila~stable%2Fstein~Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,openstack/manila,stable/stein,bug/1682694,Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,Add mod_wsgi configuration samples,MERGED,2020-08-21 17:45:35.000000000,2020-08-21 23:00:48.000000000,2020-08-21 22:58:23.000000000,56,1,0,747452,2f90138d1170a46415a22f85df9c399381dda0ab,10,4,1,3,16643,Goutham Pacha Ravi,gouthamr,"Add mod_wsgi configuration samples

Extend docs on running manila API with a web server (Apache, NGINX)
Add samples for mod_wsgi

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6
(cherry picked from commit c1912b70f69bc59c1aaf047a556868d0e27e3518)
(cherry picked from commit eac41910c041cca3583e1e94a9dfbaf7e3229fdd)
(cherry picked from commit 3d2820c35400debd4bb759fbc3e5ca4dfb948b0f)
"
openstack%2Fmanila~master~Ib70e08c963cf1f583ab6d5fbae6a69aa3593980a,openstack/manila,master,bug/1816486,Ib70e08c963cf1f583ab6d5fbae6a69aa3593980a,Update Share types api-ref,MERGED,2020-08-07 00:07:08.000000000,2020-08-21 23:00:20.000000000,2020-08-21 22:58:24.000000000,19,10,0,745250,271214a0511d345a11947531ac4fb41305ba325f,11,6,1,2,16643,Goutham Pacha Ravi,gouthamr,"Update Share types api-ref

Was missing a query parameter (is_public)
and some information on an existing query
parameter (extra-specs)

Change-Id: Ib70e08c963cf1f583ab6d5fbae6a69aa3593980a
Closes-Bug: #1816486
"
openstack%2Fpuppet-heat~stable%2Ftrain~If689eb5e896dba443358ac83cd7f566aacc276f1,openstack/puppet-heat,stable/train,,If689eb5e896dba443358ac83cd7f566aacc276f1,Expose vhost_custom_fragment,MERGED,2020-08-19 16:10:34.000000000,2020-08-21 22:44:08.000000000,2020-08-21 22:44:07.000000000,10,3,0,746976,d02f3a4f15c7a112aefb6fd299d26a5675c647d2,11,3,1,2,25877,Luke Short,ekultails,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Heat CFN service.

Change-Id: If689eb5e896dba443358ac83cd7f566aacc276f1
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 0e85f1c7b0d7c8819aedeb83da10eea4633d2e25)
(cherry picked from commit 8b91724b4004d8e975ee0acbcdedf957ceb0421b)
"
openstack%2Fironic-python-agent~master~I7e2d93ef566f4f2beb54caf445c7810a01aec1de,openstack/ironic-python-agent,master,increase-tiny-mem,I7e2d93ef566f4f2beb54caf445c7810a01aec1de,Increase memory for tinyipa jobs,MERGED,2020-08-21 07:59:21.000000000,2020-08-21 22:39:25.000000000,2020-08-21 21:59:29.000000000,5,5,1,747355,2a5ba7ef68db8b09a62e36943be75ef29c62ef54,22,5,5,1,23851,Riccardo Pittau,elfosardo,"Increase memory for tinyipa jobs

Tinyipa is not that tiny anymore and we need to increase the base
memory for VMs in jobs that use it.

Depends-On: https://review.opendev.org/747397

Change-Id: I7e2d93ef566f4f2beb54caf445c7810a01aec1de
"
openstack%2Fnova~master~I6dcc8db9178aef59017968a3172ab463cd74754d,openstack/nova,master,bp/policy-defaults-refresh-deprecated-apis,I6dcc8db9178aef59017968a3172ab463cd74754d,Add new default roles in FIP policies,MERGED,2020-07-20 21:34:26.000000000,2020-08-21 22:18:35.000000000,2020-08-21 21:46:04.000000000,175,36,5,742030,08f58909bdc1e8c8f740086fe4689557d7a7ee75,82,13,4,5,8556,Ghanshyam,ghanshyam,"Add new default roles in FIP policies

This adds new defaults roles in FIP API policies.
These policies are made granular and default to
PROJECT_READER_OR_SYSTEM_READER and PROJECT_MEMBER_OR_SYSTEM_ADMIN.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I6dcc8db9178aef59017968a3172ab463cd74754d
"
openstack%2Fswift~master~I2a1ce0bda37a4764f7e56a9c15a283eefa46e17b,openstack/swift,master,migrate-to-focal,I2a1ce0bda37a4764f7e56a9c15a283eefa46e17b,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 03:32:13.000000000,2020-08-21 22:06:10.000000000,2020-08-21 22:02:37.000000000,1,1,1,744607,829a0d9a706552174df568831648842cde6909f0,26,5,2,1,8556,Ghanshyam,ghanshyam,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Moving py38 job to focal.

Story: #2007865
Task: #40221

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>

Change-Id: I2a1ce0bda37a4764f7e56a9c15a283eefa46e17b
"
openstack%2Fironic-python-agent~master~I9fe66ce174b8c8418a9065558e2d12ac54857eb2,openstack/ironic-python-agent,master,,I9fe66ce174b8c8418a9065558e2d12ac54857eb2,Temporary disable multiple jobs to land CI fixes.,MERGED,2020-08-21 18:08:50.000000000,2020-08-21 21:53:11.000000000,2020-08-21 21:49:09.000000000,17,17,0,747457,9ebab1bd342546b56c9a361aa15d935d754c6308,10,4,1,1,11655,Julia Kreger,jkreger,"Temporary disable multiple jobs to land CI fixes.

Due to the chicken and egg dependency issues between

https://review.opendev.org/#/c/747355/
and
https://review.opendev.org/#/c/747198/

We need to drop testing for some jobs for a little bit.
This change will be reverted as soon as one the IPA fix merges.

Change-Id: I9fe66ce174b8c8418a9065558e2d12ac54857eb2
"
openstack%2Fopenstack-ansible~master~I24fa44a6c3e8feeb8a7581663b53343b9c881145,openstack/openstack-ansible,master,,I24fa44a6c3e8feeb8a7581663b53343b9c881145,Add corosync/pacemaker installation,MERGED,2020-07-02 21:14:13.000000000,2020-08-21 21:34:57.000000000,2020-08-21 21:32:41.000000000,58,2,3,739146,7632df34d45e95e222b8294dbddb52f302985366,63,5,10,8,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add corosync/pacemaker installation

Masakari hostmonitors require corosync cluster to be present for their
proper work. There's already a role for the deployment, so we can simply
make us of it and integrate with masakari playbook.

Needed-By: https://review.opendev.org/744673
Change-Id: I24fa44a6c3e8feeb8a7581663b53343b9c881145
"
openstack%2Foctavia~master~I15fd7082646d95414bdd8f0815ee44b5867b3ed0,openstack/octavia,master,,I15fd7082646d95414bdd8f0815ee44b5867b3ed0,Fix new pylint errors,MERGED,2020-08-21 13:12:14.000000000,2020-08-21 21:28:46.000000000,2020-08-21 21:26:48.000000000,494,489,0,747405,bf3d5372b9fc670ecd08339fa989c9b738ad8d69,10,5,1,212,6469,Carlos Gonçalves,cgoncalves,"Fix new pylint errors

Pylint 2.6.0 added two new checkers [1] that make pep8 validation to
fail:

- raise-missing-from (W0707)
- super-with-arguments (R1725)

[1] http://pylint.pycqa.org/en/latest/technical_reference/features.html

Change-Id: I15fd7082646d95414bdd8f0815ee44b5867b3ed0
"
openstack%2Ftripleo-heat-templates~master~I05f31885ade46d47ff5d384dabbd5561f4df9278,openstack/tripleo-heat-templates,master,RHBZ#1868910,I05f31885ade46d47ff5d384dabbd5561f4df9278,Fix endpoint map tls - zaqar wss port,MERGED,2020-08-18 09:40:18.000000000,2020-08-21 21:28:00.000000000,2020-08-21 18:55:52.000000000,10,6,1,746671,94997223b6173be29fb621d827f8a7ecfa4b6bfa,42,10,5,5,24245,Harald Jensås,harald.jensas,"Fix endpoint map tls - zaqar wss port

We open port: `` 3000 #SSL for websocket`` in the
zaqar service defenition:
  deployment/zaqar/zaqar-container-puppet.yaml:L130

But SSL environment files use port 9000 for the public
endpoint.

Using 9000 also for SSL can cause issues in haproxy.
We may want to revert or relax the check in
https://review.opendev.org/664224 as duplicate IP's
is'nt the actual problem.

Related-Bug: #1832168
Related-RHBZ: #1868910
Change-Id: I05f31885ade46d47ff5d384dabbd5561f4df9278
"
openstack%2Fkayobe~master~I5650b8b489d5968b42526e45667dfc7fa6ad7b2f,openstack/kayobe,master,ethtool-opts,I5650b8b489d5968b42526e45667dfc7fa6ad7b2f,Support setting ethtool options on network interfaces,MERGED,2020-08-17 09:25:53.000000000,2020-08-21 21:08:54.000000000,2020-08-21 21:07:25.000000000,20,1,0,746465,ea4a507f04502a2b6fe7a1756c23a19f7ce0bd35,19,6,2,4,15197,Pierre Riteau,priteau,"Support setting ethtool options on network interfaces

Change-Id: I5650b8b489d5968b42526e45667dfc7fa6ad7b2f
Story: 2008020
Task: 40672
"
openstack%2Fironic~bugfix%2F15.2~Ibd7e87c0b5676eef94512285edaca416635a29ef,openstack/ironic,bugfix/15.2,increase-tiny-mem-bugfix/15.2,Ibd7e87c0b5676eef94512285edaca416635a29ef,Increase memory of tinyipa vms,MERGED,2020-08-21 18:05:46.000000000,2020-08-21 21:06:41.000000000,2020-08-21 18:51:17.000000000,4,4,0,747455,2118b4146f0024975b08afab7a4c199263b53ec4,9,3,2,1,11655,Julia Kreger,jkreger,"Increase memory of tinyipa vms

Tinyipa is not that tiny anymore and we need to increase the base
memory for VMs in jobs that use it.

Change-Id: Ibd7e87c0b5676eef94512285edaca416635a29ef
(cherry picked from commit e9bda223f74e329f23afae9cd5f78d2d24407fce)
"
openstack%2Fovsdbapp~stable%2Ftrain~Ie8ae8f5efae2afb958ed2010053ff04372cc1c51,openstack/ovsdbapp,stable/train,ovn/port_forwarding-stable/train,Ie8ae8f5efae2afb958ed2010053ff04372cc1c51,OVNNB backend: Fix LbDelCommand when using vip param,MERGED,2020-08-21 16:41:25.000000000,2020-08-21 21:05:46.000000000,2020-08-21 21:05:45.000000000,42,9,0,747441,c5b598dd8d4415b014750384325589cb3fe3541c,8,4,1,3,11952,Flavio Fernandes,ffernand,"OVNNB backend: Fix LbDelCommand when using vip param

Fix issue in ovn_northbound LbDelCommand where logic
for removing vip while using if_exists=True was not
doing the right thing.

In order to be consistent with as ovn-nbctl [1], this
change also introduces a modified behavior. When the
last vip is removed, it will also remove the load
balancer instance.

[1]: https://github.com/ovn-org/ovn/blob/1e2f4aaab67090935bba6347358ad9c56b0868bf/utilities/ovn-nbctl.c#L2870

Closes-Bug: #1877673
Change-Id: Ie8ae8f5efae2afb958ed2010053ff04372cc1c51
(cherry picked from commit 8cb3b56fa9022254d60a15125f86f6e8a7e16041)
"
openstack%2Fmagnum~master~Ia781288f7aa35146582b10d5762aa05e3b107dce,openstack/magnum,master,atomic_master_lb_allowed_cidrs,Ia781288f7aa35146582b10d5762aa05e3b107dce,[k8s-atomic] Support master_lb_allowed_cidrs in template,MERGED,2020-08-07 15:25:50.000000000,2020-08-21 20:30:09.000000000,2020-08-21 10:29:38.000000000,9,2,0,745359,ffed8839595b5291bbf867170120096b7fde21c8,15,4,2,2,28022,Bharat Kunwar,brtknr,"[k8s-atomic] Support master_lb_allowed_cidrs in template

In I157a3b01d169e550e79b94316803fde8ddf77b03, support for
master_lb_allowed_cidrs  was introduced but only for the fedora coreos
driver. However, this parameter is also supplied to fedora atomic
clusters but the template does not expect this parameter. As a result,
cluster creation fails due to backward incompatibility. This PS
addresses this issue.

Task: 40632
Story: 2007478

Change-Id: Ia781288f7aa35146582b10d5762aa05e3b107dce
"
openstack%2Fec2-api~master~I44f609f1ff08acc770943108c3ec99c887561654,openstack/ec2-api,master,native-zuulv3-migration,I44f609f1ff08acc770943108c3ec99c887561654,Migrate zuul config v2 to native v3,MERGED,2020-08-07 08:51:11.000000000,2020-08-21 20:15:53.000000000,2020-08-21 20:10:24.000000000,2,1181,3,745301,da91dadfc2d8a5f237dbb45aabe473e6144df154,22,4,4,16,32274,Alexander Slipenchuk,asiar,"Migrate zuul config v2 to native v3

1) Move main tempest job to ec2api-tempest-plugin.
2) Remove temporarily full tempest job (will be moved to ec2api-tempest)
3) Remove completely rally job. It is not working for years.

Change-Id: I44f609f1ff08acc770943108c3ec99c887561654
"
openstack%2Fkolla-ansible~stable%2Fussuri~If90c2dfd32c8bc50671f6dd38e5a82b434c07151,openstack/kolla-ansible,stable/ussuri,bifrost-deploy-proxy-stable/ussuri,If90c2dfd32c8bc50671f6dd38e5a82b434c07151,Add support to use bifrost-deploy behind proxy,MERGED,2020-08-17 16:10:22.000000000,2020-08-21 19:16:04.000000000,2020-08-21 19:14:09.000000000,6,0,0,746557,6f81454f50eef119d166d1d8f8478a8da36fb585,16,4,1,2,30491,Radosław Piliszek,yoctozepto,"Add support to use bifrost-deploy behind proxy

Change-Id: If90c2dfd32c8bc50671f6dd38e5a82b434c07151
Depends-On: https://review.opendev.org/#/c/720338
(cherry picked from commit 9da39345add7a28f05c7d6d30d3296fbdec18042)
"
openstack%2Fpaunch~stable%2Fussuri~I571918f37f41f03cde390e94c9bacc873909f92f,openstack/paunch,stable/ussuri,bug/1890789,I571918f37f41f03cde390e94c9bacc873909f92f,[USSURI-ONLY] Do not manage masked service units,MERGED,2020-08-12 10:24:39.000000000,2020-08-21 18:57:27.000000000,2020-08-21 18:55:50.000000000,190,72,8,745825,b995b0ade83b5be73e1c0bece5c2fd468c9fd113,25,6,3,5,6926,Bogdan Dobrelya,bogdando,"[USSURI-ONLY] Do not manage masked service units

When a service unit for a containerized service has been
manually masked, only ensure its container created, but not started.
Also do not manage its service unit and timer.

Partial-Bug: #1890789

Change-Id: I571918f37f41f03cde390e94c9bacc873909f92f
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-quickstart~master~I0c5568a60da3d127d6d9b03a584928c5f5e91b73,openstack/tripleo-quickstart,master,baremetal_resources,I0c5568a60da3d127d6d9b03a584928c5f5e91b73,Added ironic specific variables in the featureset060 file.,MERGED,2020-05-29 09:33:06.000000000,2020-08-21 18:57:25.000000000,2020-08-21 18:55:48.000000000,7,1,11,731704,3f814783efe0cb8b4c07e45fa03f1db0ffe00ecf,63,7,12,1,30750,amolkahat,amolkahat,"Added ironic specific variables in the featureset060 file.

To run ironic tempest tests public network needs to create
with the same name which is defined in the /etc/ironic.conf
file.

Enabled test_baremetal_multitenancy test in
featureset060.yaml file.

Depends-On: https://review.opendev.org/#/c/744882/

Change-Id: I0c5568a60da3d127d6d9b03a584928c5f5e91b73
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
"
openstack%2Fvalidations-common~master~I575eb9c19a1f10f624ee8016c06b8e9491cc6b4d,openstack/validations-common,master,callback/log,I575eb9c19a1f10f624ee8016c06b8e9491cc6b4d,Get validation log path if exist,MERGED,2020-07-24 13:07:18.000000000,2020-08-21 18:55:49.000000000,2020-08-21 18:55:49.000000000,3,1,0,742876,7b1d2813458c8e106c602f5d2211ba570e6a07f9,7,6,1,1,16515,mbu,matbu,"Get validation log path if exist

If user has export a specific validation log path, the callback
should use it.

Change-Id: I575eb9c19a1f10f624ee8016c06b8e9491cc6b4d
"
openstack%2Ftripleo-common~stable%2Fussuri~Id306243352f310f9054506577aa9bbce3790a7e5,openstack/tripleo-common,stable/ussuri,,Id306243352f310f9054506577aa9bbce3790a7e5,Ensure atomic inventory file rename runs on the same mountpoint,MERGED,2020-08-19 06:44:31.000000000,2020-08-21 18:50:50.000000000,2020-08-21 18:49:06.000000000,10,2,0,746841,a036159701920d1c8dfe5bfe489c5a754eeadca5,17,7,2,2,12393,chandan kumar,chkumar246,"Ensure atomic inventory file rename runs on the same mountpoint

Linux rename system call is only supported on the same mountpoint [1].
/tmp is often a tmpfs mount, so instead generate the temp inventory file in
the same directory as the target inventory file.

[1] See EXDEV in https://man7.org/linux/man-pages/man2/rename.2.html

Change-Id: Id306243352f310f9054506577aa9bbce3790a7e5
Closes-bug: #1892008
(cherry picked from commit fbd575cbe88400bad1ce4d37b914d7ae8a43e15c)
"
openstack%2Ftripleo-quickstart-extras~master~I6a80d4e3a3b2692a57062af6c76028998482d106,openstack/tripleo-quickstart-extras,master,tempestcontainer,I6a80d4e3a3b2692a57062af6c76028998482d106,Add tcib_managed label only for train release onwards,MERGED,2020-08-19 11:26:31.000000000,2020-08-21 18:49:05.000000000,2020-08-21 18:49:04.000000000,6,0,4,746894,09acb542b3450da990cb1949b6c33207ed39d8a7,36,11,4,2,12393,chandan kumar,chkumar246,"Add tcib_managed label only for train release onwards

tcib_managed label is used for new ubi-8 container workflow and
used during tripleo container prepare step to update the containers
since tcib_managed label is not available before train release so
containers are not getted re-tagged with modify_append_tag and leading
to tempest containers not found.

Making tcib_managed label conditional fixes the issue.

It also needs to be tweaked for standalone.

Closes-Bug: #1891372

Change-Id: I6a80d4e3a3b2692a57062af6c76028998482d106
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fmanila~stable%2Ftrain~Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,openstack/manila,stable/train,bug/1682694,Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,Add mod_wsgi configuration samples,MERGED,2020-08-21 04:48:02.000000000,2020-08-21 18:45:06.000000000,2020-08-21 18:43:16.000000000,56,1,0,747330,3d2820c35400debd4bb759fbc3e5ca4dfb948b0f,10,3,1,3,16643,Goutham Pacha Ravi,gouthamr,"Add mod_wsgi configuration samples

Extend docs on running manila API with a web server (Apache, NGINX)
Add samples for mod_wsgi

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6
(cherry picked from commit c1912b70f69bc59c1aaf047a556868d0e27e3518)
(cherry picked from commit eac41910c041cca3583e1e94a9dfbaf7e3229fdd)
"
openstack%2Fkolla-ansible~stable%2Fussuri~Iadf43383a7f2bf377d4666a55a38d92bd70711aa,openstack/kolla-ansible,stable/ussuri,bug/1891704-stable/ussuri,Iadf43383a7f2bf377d4666a55a38d92bd70711aa,Fix ownership and permissions of admin-openrc.sh,MERGED,2020-08-19 18:43:02.000000000,2020-08-21 18:37:39.000000000,2020-08-21 18:35:32.000000000,23,2,0,747016,29574271828528f1c0e0fd887efa07631be4a355,16,4,2,2,30491,Radosław Piliszek,yoctozepto,"Fix ownership and permissions of admin-openrc.sh

Previously the post-deploy.yml playbook was executed with become: true,
and the admin-openrc.sh file templated without an owner or mode
specified. This resulted in admin-openrc.sh being owned by root with 644
permissions.

This change creates the file without become: true, and explicitly sets
the owner to the user executing Ansible, and the mode to 600.

Co-Authored-By: Mark Goddard <mark@stackhpc.com>

Closes-Bug: #1891704

Change-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa
(cherry picked from commit 16f97867a3f7050ac42fbb921310ca884e974a11)
"
openstack%2Fkolla-ansible~master~Ibfbe2d4f49261fa766acbb6ff45da9994118bda8,openstack/kolla-ansible,master,bug/1853776,Ibfbe2d4f49261fa766acbb6ff45da9994118bda8,Fix kolla-ansible not reflect environment changed,MERGED,2020-08-19 15:40:43.000000000,2020-08-21 18:35:25.000000000,2020-08-21 18:04:38.000000000,1,0,2,746965,ed2a2704d13fa70a8dc783960d05f5469639425c,24,5,4,1,27339,Michal Arbet,michalarbet,"Fix kolla-ansible not reflect environment changed

Neutron's containers should use ENV from kolla_docker module's
environment parameter (defined in roles/neutron/defaults/main.yml)
after reconfigure, not only when deploying.

Currently this is working only for deploy, not for reconfigure.

How to test it ?
- Deploy neutron with ""neutron_legacy_iptables"" set to yes/no.
- Change value of ""neutron_legacy_iptables"" to opposite value as before.
- Reconfigure neutron.

Current result :
 - ""KOLLA_LEGACY_IPTABLES"" in container's ENV is not changed

Expected result :
 - ""KOLLA_LEGACY_IPTABLES:"" in container's ENV should be changed

This patch is fixing this behaviour by adding missing
environment parameter to neutron's ""Check neutron containers"" task.

Change-Id: Ibfbe2d4f49261fa766acbb6ff45da9994118bda8
Closes-Bug: #1853776
"
openstack%2Ftripleo-heat-templates~master~I875a0753686669b16d0ceb25e6e5692c150d6a79,openstack/tripleo-heat-templates,master,fix-ovn-dbs,I875a0753686669b16d0ceb25e6e5692c150d6a79,Fix up ovn-dbs update tasks,MERGED,2020-08-18 07:59:40.000000000,2020-08-21 18:07:45.000000000,2020-08-21 14:21:23.000000000,2,0,0,746651,e892d40046253830c4ef28e4f5fae8235cabcab8,30,6,2,1,20172,Michele Baldessari,michele,"Fix up ovn-dbs update tasks

Noticed master failing with:
2020-08-18 07:16:16.346959 | 00a673e5-dc44-c6b1-ce2d-000000000094 |
FATAL | Update the ovn-dbs-bundle to use the new container image name | overcloud-controller-0 | error={""msg"": ""The conditional check
'ovn_dbs_current_image.stdout != ovn_dbs_image_latest' failed. The error was: error while evaluating conditional (ovn_dbs_current_image.stdout !=
ovn_dbs_image_latest): 'ovn_dbs_image_latest' is undefined\n\nThe error appears to be in '/tmp/tripleo5rvsi_ix/overcloud/Controller/update_tasks_step5.yaml':
line 23, column 7, but may\nbe elsewhere in the file depending on the
exact syntax problem.\n\nThe offending line appears to be:\n\n  - block:\n    - command: pcs resource bundle update ovn-dbs-bundle
container image={{ovn_dbs_image_latest}}\n      ^ here\nWe could be wrong, but this one looks like it might be an issue with\nmissing
quotes. Always quote template expression brackets when they\nstart a value. For instance:\n\n    with_items:\n      - {{ foo }}\n\nShould be
written as:\n\n    with_items:\n      - \""{{ foo }}\""\n""}

Tested a minor update with this patch and I did not hit the error
anymore.

Closes-Bug: #1892042

Change-Id: I875a0753686669b16d0ceb25e6e5692c150d6a79
"
openstack%2Fkolla-ansible~stable%2Ftrain~Iadf43383a7f2bf377d4666a55a38d92bd70711aa,openstack/kolla-ansible,stable/train,bug/1891704,Iadf43383a7f2bf377d4666a55a38d92bd70711aa,Fix ownership and permissions of admin-openrc.sh,MERGED,2020-08-21 14:23:05.000000000,2020-08-21 18:06:54.000000000,2020-08-21 18:04:36.000000000,25,3,0,747424,27919beeedac0a99aecc85a7dacb2115451cd09b,8,4,1,2,14826,Mark Goddard,mgoddard,"Fix ownership and permissions of admin-openrc.sh

Previously the post-deploy.yml playbook was executed with become: true,
and the admin-openrc.sh file templated without an owner or mode
specified. This resulted in admin-openrc.sh being owned by root with 644
permissions.

This change creates the file without become: true, and explicitly sets
the owner to the user executing Ansible, and the mode to 600.

Co-Authored-By: Mark Goddard <mark@stackhpc.com>

Closes-Bug: #1891704

Change-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa
(cherry picked from commit 16f97867a3f7050ac42fbb921310ca884e974a11)
"
openstack%2Fironic~master~Ibd7e87c0b5676eef94512285edaca416635a29ef,openstack/ironic,master,increase-tiny-mem,Ibd7e87c0b5676eef94512285edaca416635a29ef,Increase memory of tinyipa vms,MERGED,2020-08-21 12:41:17.000000000,2020-08-21 18:05:46.000000000,2020-08-21 16:55:31.000000000,4,4,0,747397,e9bda223f74e329f23afae9cd5f78d2d24407fce,12,4,1,1,23851,Riccardo Pittau,elfosardo,"Increase memory of tinyipa vms

Tinyipa is not that tiny anymore and we need to increase the base
memory for VMs in jobs that use it.

Change-Id: Ibd7e87c0b5676eef94512285edaca416635a29ef
"
openstack%2Fmanila~stable%2Fstein~Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,openstack/manila,stable/stein,bug/1782859,Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,Update access rules documentation for user guide,MERGED,2020-08-21 06:51:54.000000000,2020-08-21 17:51:19.000000000,2020-08-21 17:47:53.000000000,80,22,0,747342,5cd33f14f465de206a7ccc6f56d48919c59e7365,8,2,1,1,16643,Goutham Pacha Ravi,gouthamr,"Update access rules documentation for user guide

Updates user guide documentation to provide metadata info
to an access rules. Also add two new operations for access
rule metadata: 'access-metadata set' and 'access-metadata unset'

Change-Id: Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35
Closes-Bug: #1782859
(cherry picked from commit e2e764d9763b9367321a4c7f14b0150f67f3b08e)
(cherry picked from commit 1434adc353e80192d9a17121b57831d273b30633)
(cherry picked from commit 3b82fef551d80ff80da9b7d4a32dff8434ca5042)
"
openstack%2Fovsdbapp~stable%2Fussuri~Ie8ae8f5efae2afb958ed2010053ff04372cc1c51,openstack/ovsdbapp,stable/ussuri,ovn/port_forwarding-stable/ussuri,Ie8ae8f5efae2afb958ed2010053ff04372cc1c51,OVNNB backend: Fix LbDelCommand when using vip param,MERGED,2020-08-20 19:30:56.000000000,2020-08-21 17:50:56.000000000,2020-08-21 17:47:55.000000000,42,9,0,747280,e8e64da0ea7f2e3fa6bb2641729f0b0ae0b64f44,10,4,1,3,11952,Flavio Fernandes,ffernand,"OVNNB backend: Fix LbDelCommand when using vip param

Fix issue in ovn_northbound LbDelCommand where logic
for removing vip while using if_exists=True was not
doing the right thing.

In order to be consistent with as ovn-nbctl [1], this
change also introduces a modified behavior. When the
last vip is removed, it will also remove the load
balancer instance.

[1]: https://github.com/ovn-org/ovn/blob/1e2f4aaab67090935bba6347358ad9c56b0868bf/utilities/ovn-nbctl.c#L2870

Closes-Bug: #1877673
Change-Id: Ie8ae8f5efae2afb958ed2010053ff04372cc1c51
(cherry picked from commit 8cb3b56fa9022254d60a15125f86f6e8a7e16041)
"
openstack%2Fvitrage~master~Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3,openstack/vitrage,master,native-zuulv3-migration,Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3,Native Zuul v3,MERGED,2020-08-17 14:02:16.000000000,2020-08-21 17:50:36.000000000,2020-08-21 17:44:32.000000000,15,827,21,746510,cd0b522ad520b9a1e0181b352c1f2e1d91d0ddcd,73,5,28,13,19184,Idan Hefetz,idan-hefetz,"Native Zuul v3

Depends-on: I938cb7d5f820a761fc65ac82d137f83a2188faed
Change-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3
"
openstack%2Fmanila-tempest-plugin~master~Ie090c6e56211b651d0dd48c2021e922c3562576d,openstack/manila-tempest-plugin,master,bug/1699856,Ie090c6e56211b651d0dd48c2021e922c3562576d,WIP Cleanup share servers on share network deletion,NEW,2020-07-01 20:48:54.000000000,2020-08-21 17:43:25.000000000,,11,1,0,738937,51db55f1fccc96e899f87a34238c5ff737fd5699,10,5,2,2,16643,Goutham Pacha Ravi,gouthamr,"WIP Cleanup share servers on share network deletion

Change-Id: Ie090c6e56211b651d0dd48c2021e922c3562576d
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fos-brick~master~I74a1dd674ddf7ff0225fca6dcff86dcd353c856f,openstack/os-brick,master,,I74a1dd674ddf7ff0225fca6dcff86dcd353c856f,Fix pygments style,MERGED,2020-05-20 01:44:21.000000000,2020-08-21 17:38:36.000000000,2020-08-21 03:26:40.000000000,0,0,0,729469,6672ea00233512e3aa9a397c02265f847024cd7c,30,14,2,0,31446,fuzihao,fuzihao,"Fix pygments style

Change-Id: I74a1dd674ddf7ff0225fca6dcff86dcd353c856f
"
openstack%2Fkolla-ansible~stable%2Fstein~Iadf43383a7f2bf377d4666a55a38d92bd70711aa,openstack/kolla-ansible,stable/stein,bug/1891704,Iadf43383a7f2bf377d4666a55a38d92bd70711aa,Fix ownership and permissions of admin-openrc.sh,MERGED,2020-08-21 14:23:56.000000000,2020-08-21 17:36:19.000000000,2020-08-21 17:33:47.000000000,25,3,0,747426,7f2b169627d7a936da182b4128ac34e6d5bece6d,8,4,1,2,14826,Mark Goddard,mgoddard,"Fix ownership and permissions of admin-openrc.sh

Previously the post-deploy.yml playbook was executed with become: true,
and the admin-openrc.sh file templated without an owner or mode
specified. This resulted in admin-openrc.sh being owned by root with 644
permissions.

This change creates the file without become: true, and explicitly sets
the owner to the user executing Ansible, and the mode to 600.

Co-Authored-By: Mark Goddard <mark@stackhpc.com>

Closes-Bug: #1891704

Change-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa
(cherry picked from commit 16f97867a3f7050ac42fbb921310ca884e974a11)
"
openstack%2Fopenstack-ansible~master~I83096c7be5803f7f24d610e0e0956d54d58f27fb,openstack/openstack-ansible,master,,I83096c7be5803f7f24d610e0e0956d54d58f27fb,Bump ceilometer SHA to ublock telemetry,MERGED,2020-08-18 10:21:46.000000000,2020-08-21 17:33:37.000000000,2020-08-21 17:28:46.000000000,1,1,0,746679,f8e76b59f83b8e04f2a79f18a9b1723ce8b3c1ce,19,4,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump ceilometer SHA to ublock telemetry

Change-Id: I83096c7be5803f7f24d610e0e0956d54d58f27fb
"
openstack%2Fmanila~stable%2Ftrain~Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,openstack/manila,stable/train,bug/1782859,Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,Update access rules documentation for user guide,MERGED,2020-08-21 06:51:34.000000000,2020-08-21 17:12:33.000000000,2020-08-21 17:10:55.000000000,80,22,0,747341,3b82fef551d80ff80da9b7d4a32dff8434ca5042,9,2,1,1,16643,Goutham Pacha Ravi,gouthamr,"Update access rules documentation for user guide

Updates user guide documentation to provide metadata info
to an access rules. Also add two new operations for access
rule metadata: 'access-metadata set' and 'access-metadata unset'

Change-Id: Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35
Closes-Bug: #1782859
(cherry picked from commit e2e764d9763b9367321a4c7f14b0150f67f3b08e)
(cherry picked from commit 1434adc353e80192d9a17121b57831d273b30633)
"
openstack%2Ftripleo-ansible~master~I59cfbf72add30b7d8de2e45262aaa7188ba1cf5d,openstack/tripleo-ansible,master,fix_template,I59cfbf72add30b7d8de2e45262aaa7188ba1cf5d,Fix role addition skeleton,MERGED,2020-08-19 14:56:49.000000000,2020-08-21 17:06:59.000000000,2020-08-21 17:06:59.000000000,4,4,3,746951,d0ed5b80c3fbf98954aa8181d59350f0fd07770c,23,6,5,2,23811,Oliver Walsh,owalsh,"Fix role addition skeleton

This was messing up the role name in the templates, e.g
ansible-playbook -i localhost, role-addition.yml -e role_name=tripleo_foo

Generates roles/tripleo_foo/defaults/main.yml with:
tripleo_tripleo_foo_debug: ""...""

Also _skeleton_role_/vars/main.yml contained jinja2 but wasn't being processed.

Change-Id: I59cfbf72add30b7d8de2e45262aaa7188ba1cf5d
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I435c86306ecd5e0cafeda9d8d468483b7a34f040,openstack/tripleo-ansible,stable/train,octavia-certs,I435c86306ecd5e0cafeda9d8d468483b7a34f040,Increase validity period of Octavia CA and certificates,MERGED,2020-08-10 13:21:46.000000000,2020-08-21 17:06:58.000000000,2020-08-21 17:06:58.000000000,62,5,0,745531,f09b55266feffc4b25dd386575e7a78be4d15f42,15,6,2,4,29244,Gregory Thiemonge,gthiemonge,"Increase validity period of Octavia CA and certificates

Current validity period of Octavia CA and certificates is one year, this
is too short for cloud deployments: Octavia services can no longer
control a load balancer that has been running for more than one year
(dataplane still works, but cannot be configured).

This commit defines these values:
- Octavia CA validity period is 50 years.
- Octavia client certificate validity period is 10 years.

For existing deployment, the existing CA private key is fetched from
controllers, is updated using AES256 cipher if needed, then the key is
used to generate a new CA. Using an existing private key for this CA
allows to keep compability with existing client certificates.

Change-Id: I435c86306ecd5e0cafeda9d8d468483b7a34f040
Related-Bug: #1869203
(cherry picked from commit 0f168dc9ca5b01fe616f196c2f49001d7882a2c8)
(cherry picked from commit f69dfefd055642f0fddfdf5e4bf910dbf98dea40)
"
openstack%2Fpython-cloudkittyclient~master~I08a5505237eabf5c440ed4e3f068b5a834d5917d,openstack/python-cloudkittyclient,master,,I08a5505237eabf5c440ed4e3f068b5a834d5917d,add py38 package metedata,MERGED,2020-06-05 01:39:50.000000000,2020-08-21 16:43:15.000000000,2020-08-21 16:41:25.000000000,1,0,0,733732,608cd0262fe0ba63bdb09643898fa961d99d5bf5,12,4,2,1,30455,jiasirui,JiaSiRui,"add py38 package metedata

Change-Id: I08a5505237eabf5c440ed4e3f068b5a834d5917d
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b,openstack/tripleo-ansible,stable/train,octavia-certs,I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b,Scan existing controllers on update to pick up existing certs/private keys,MERGED,2020-08-10 13:21:46.000000000,2020-08-21 16:37:52.000000000,2020-08-21 16:37:52.000000000,226,3,0,745530,b94fb8e9d85939e4942bc0d77222e2118552de71,17,6,2,7,29244,Gregory Thiemonge,gthiemonge,"Scan existing controllers on update to pick up existing certs/private keys

Adds an octavia related role to pick up CA (cert and private key pairs)
and client certificate from controllers and modifies existing roles to
use them instead of generating new ones.

Depends-On: https://review.opendev.org/745529

Change-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b
Co-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>
Related-Bug: #1849548
Related-Bug: #1849550
(cherry picked from commit d3e7a42cdad6a12d63afd23906cffe081f036745)
(cherry picked from commit 2e5be7b96859d1eff7c2680c6780e3ac27c6dd63)
"
openstack%2Fkayobe~master~I7ce8a591b4e1eeef749c439e1140ecfb74dcb40e,openstack/kayobe,master,ansible-lint-431,I7ce8a591b4e1eeef749c439e1140ecfb74dcb40e,Fix ansible-lint after upgrade to 4.3.1,MERGED,2020-08-21 10:27:46.000000000,2020-08-21 16:34:48.000000000,2020-08-21 16:33:22.000000000,4,0,0,747384,f40dde18dfcfc5346c98ed64dfe2dcb58f9dbc2e,12,4,4,2,15197,Pierre Riteau,priteau,"Fix ansible-lint after upgrade to 4.3.1

- Skip rule 106 which fails due to the hyphen in ""kolla-openstack""
- Fix code failing ""File permissions not mentioned"" rule

Change-Id: I7ce8a591b4e1eeef749c439e1140ecfb74dcb40e
"
openstack%2Fopenstack-ansible-os_manila~master~I51f7612381c6b7180cc1af1f564196aa08b2ed15,openstack/openstack-ansible-os_manila,master,bind-to-mgmt,I51f7612381c6b7180cc1af1f564196aa08b2ed15,Use the utility host for db setup tasks,MERGED,2020-08-20 16:00:46.000000000,2020-08-21 16:30:46.000000000,2020-08-21 16:29:07.000000000,12,1,0,747231,98738c9c6f2aea9764e794c31cb42d523d154137,11,4,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I51f7612381c6b7180cc1af1f564196aa08b2ed15
"
openstack%2Fcloudkitty~master~I4da9e8854a571058e48c2f51c1d340bc135cfe2b,openstack/cloudkitty,master,replace-use-tz-util,I4da9e8854a571058e48c2f51c1d340bc135cfe2b,Replace tz.UTC with dateutil.tz.tzutc(),MERGED,2020-08-19 23:04:16.000000000,2020-08-21 16:30:35.000000000,2020-08-21 16:27:59.000000000,49,40,0,747057,b7abb9bb698d4d391da7f69ca983164f51d9a567,15,3,4,11,28356,Rafael Weingartner,rafaelweingartner,"Replace tz.UTC with dateutil.tz.tzutc()

As discussed in https://review.opendev.org/#/c/742477/, this patch
replaces the use of `tz.UTC` with `dateutil.tz.tzutc()`

Also add python-dateutil to requirements.txt, using the same minimum
version as several other OpenStack projects, including nova.

Change-Id: I4da9e8854a571058e48c2f51c1d340bc135cfe2b
"
openstack%2Ftripleo-common~stable%2Ftrain~I2b08fed6e4b840fd934a27481bcfeda649c0163b,openstack/tripleo-common,stable/train,I2b08fed6e4b840fd934a27481bcfeda649c0163b,I2b08fed6e4b840fd934a27481bcfeda649c0163b,[Train-Only] Do not log config-download deployment to stdout.,ABANDONED,2020-04-17 22:34:37.000000000,2020-08-21 16:28:03.000000000,,14,24,0,720845,5353d9c007ce78d2d46658f02dc0cb4fdf3c11bd,21,4,4,1,25877,Luke Short,ekultails,"[Train-Only] Do not log config-download deployment to stdout.

Large scale deployments produce a lot of output. This output causes
Python's subprocess to occasionally encounter deadlocks. Python's
documentation recommends to use Popen.communicate() to workaround
this. [1] However, that would result in us spewing out lots of stdout
once the deployment is done. Instead, leave the output handling to
Ansible as we already configure the ansible.cfg to log to ansible.log.

1. https://docs.python.org/3/library/subprocess.html#subprocess.Popen.communicate

Change-Id: I2b08fed6e4b840fd934a27481bcfeda649c0163b
Related-Bug: #1872823
Signed-off-by: Luke Short <ekultails@gmail.com>
"
openstack%2Ftripleo-docs~master~Idd7601d59bd48785f767f2d4afb4ec18b6a9c7fc,openstack/tripleo-docs,master,updaterepos,Idd7601d59bd48785f767f2d4afb4ec18b6a9c7fc,Update Repositories and Python3 support,MERGED,2020-08-20 23:56:36.000000000,2020-08-21 16:15:17.000000000,2020-08-21 16:12:08.000000000,55,19,6,747316,0c2b6afce94a10e362a1e34909594e01d60fd363,18,6,4,1,15993,Amy Marrich,amarrich,"Update Repositories and Python3 support

Changed warning to note in regards to Python3 support

Added Train and Ussuri repos

Reordered releases from newest to oldest

Change-Id: Idd7601d59bd48785f767f2d4afb4ec18b6a9c7fc
"
openstack%2Fpython-cloudkittyclient~master~I603335a1099880a00de6e4cfef6393a436ff990b,openstack/python-cloudkittyclient,master,add-victoria-python-jobtemplates,I603335a1099880a00de6e4cfef6393a436ff990b,Add Python3 victoria unit tests,MERGED,2020-04-11 18:49:28.000000000,2020-08-21 16:15:15.000000000,2020-08-21 16:07:39.000000000,1,1,0,719272,73cb650ee4f5a87eff50de50ca39df3df4cbb8d7,9,3,1,1,22816,OpenStack Release Bot,release,"Add Python3 victoria unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for victoria.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I603335a1099880a00de6e4cfef6393a436ff990b
"
openstack%2Floci~master~I6802bd5621b0dc99cce7526e4a249f09c07dd9d5,openstack/loci,master,,I6802bd5621b0dc99cce7526e4a249f09c07dd9d5,Add mysql cli to placement image,MERGED,2020-05-05 19:03:16.000000000,2020-08-21 16:06:54.000000000,2020-08-21 16:06:54.000000000,2,0,0,725667,c070752fe70cdcc643fb778e04d6cc40e4d557fc,19,6,3,1,8863,Andrii Ostapenko,aostapenko,"Add mysql cli to placement image

Migration to placement requires to support
https://opendev.org/openstack/placement/raw/branch/master/placement_db_tools/mysql-migrate-db.sh
to avoid re-engineering of this script using pymysql.

Change-Id: I6802bd5621b0dc99cce7526e4a249f09c07dd9d5
"
openstack%2Fkolla-ansible~master~I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5,openstack/kolla-ansible,master,bug/1891462,I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5,Add cinder auth config to nova-cell nova.conf.j2,MERGED,2020-08-13 09:53:49.000000000,2020-08-21 16:04:33.000000000,2020-08-21 15:45:01.000000000,13,0,2,746039,de16013bd630019c4febdb618a3e0c5bf93f7e6f,29,7,5,2,32304,Jegor van Opdorp,jopdorp,"Add cinder auth config to nova-cell nova.conf.j2

Fixes an issue during deleting evacuated instances with encrypted block
devices.

Change-Id: I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5
Closes-Bug: 1891462
Related-Bug: 1850279
"
openstack%2Fopenstack-ansible-os_ironic~master~I87d61c619920a945c7a0b0887e3902f39f2b1b3c,openstack/openstack-ansible-os_ironic,master,bind-to-mgmt,I87d61c619920a945c7a0b0887e3902f39f2b1b3c,Use the utility host for db setup tasks,MERGED,2020-08-20 15:20:52.000000000,2020-08-21 16:01:50.000000000,2020-08-21 15:56:05.000000000,20,4,0,747208,9a5cbb3dfce961cf253770c42098b854c95d4c09,13,5,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I87d61c619920a945c7a0b0887e3902f39f2b1b3c
"
openstack%2Fpuppet-keystone~master~Iae8a1263ef40c83e107a08a5d0f2b6f98214a8f0,openstack/puppet-keystone,master,,Iae8a1263ef40c83e107a08a5d0f2b6f98214a8f0,Remove deprecated keystone cache parameters,MERGED,2020-08-18 07:17:40.000000000,2020-08-21 15:55:30.000000000,2020-08-21 15:53:18.000000000,28,142,0,746643,5ae2172cbc0c861e291e1cab0ab165a9254e49fd,15,4,1,4,16137,Tobias Urdin,tobasco,"Remove deprecated keystone cache parameters

Change-Id: Iae8a1263ef40c83e107a08a5d0f2b6f98214a8f0
"
openstack%2Fopenstack-ansible-os_masakari~master~I3347e9a33beff2f0dc57c429acd973f20789912c,openstack/openstack-ansible-os_masakari,master,bind-to-mgmt,I3347e9a33beff2f0dc57c429acd973f20789912c,Use the utility host for db setup tasks,MERGED,2020-08-20 15:34:46.000000000,2020-08-21 15:46:57.000000000,2020-08-21 15:44:54.000000000,12,1,0,747216,8374993aff4d0e6adb3a12eb95a4d11a2e345ab2,13,4,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I3347e9a33beff2f0dc57c429acd973f20789912c
"
openstack%2Fopenstack-ansible-os_blazar~master~I731f05f07a92696292c1aa5bdde99089d34566a3,openstack/openstack-ansible-os_blazar,master,bind-to-mgmt,I731f05f07a92696292c1aa5bdde99089d34566a3,Use the utility host for db setup tasks,MERGED,2020-08-20 14:18:55.000000000,2020-08-21 15:42:38.000000000,2020-08-21 15:39:45.000000000,12,1,0,747174,509deba53eed26362700681f6d463920bca019ae,12,4,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I731f05f07a92696292c1aa5bdde99089d34566a3
"
openstack%2Fopenstack-ansible-os_glance~master~I7da95890045b216ba8946616790b7cd33ef2db52,openstack/openstack-ansible-os_glance,master,bind-to-mgmt,I7da95890045b216ba8946616790b7cd33ef2db52,Use the utility host for db setup tasks,MERGED,2020-08-20 14:39:21.000000000,2020-08-21 15:42:21.000000000,2020-08-21 15:40:25.000000000,12,1,0,747187,d480f24e3a793bfad90794d056515209afdf170e,13,5,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I7da95890045b216ba8946616790b7cd33ef2db52
"
openstack%2Fpython-cloudkittyclient~master~I26f6e1f91faec1ce661ecfe2570c524b64687da9,openstack/python-cloudkittyclient,master,reno-ussuri,I26f6e1f91faec1ce661ecfe2570c524b64687da9,Update master for stable/ussuri,MERGED,2020-04-11 18:49:23.000000000,2020-08-21 15:36:38.000000000,2020-08-21 15:34:40.000000000,7,0,0,719265,8bc96e21a9063a3f3fde26507af83b8de3c97e5e,9,3,1,2,22816,OpenStack Release Bot,release,"Update master for stable/ussuri

Add file to the reno documentation build to show release notes for
stable/ussuri.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/ussuri.

Change-Id: I26f6e1f91faec1ce661ecfe2570c524b64687da9
Sem-Ver: feature
"
openstack%2Ftripleo-ansible~master~I751452d4f60ceedd099f76e8127694a96a0b9549,openstack/tripleo-ansible,master,buildabpin,I751452d4f60ceedd099f76e8127694a96a0b9549,[tripleo-podman] Install specific version of buildah,MERGED,2020-08-07 11:17:27.000000000,2020-08-21 15:24:23.000000000,2020-08-21 15:24:23.000000000,17,2,2,745311,bc80c2aa89bde4965d51980a5969cd92779f6337,32,10,10,3,12393,chandan kumar,chkumar246,"[tripleo-podman] Install specific version of buildah

tripleo_podman_buildah_login.yml playbook from tripleo_podman
role is used in periodic jobs in upstream & downstream to push
containers.

In CentOS/RHEL, buildah comes from multiple repos, sometimes
untested package from diffferent repo get installed causing
issues. Making it parameterized will help to install specific
version of buildah and avoid breakage.

Change-Id: I751452d4f60ceedd099f76e8127694a96a0b9549
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fkeystone~master~Ie28f0661bd4402ebb8f9de37fff4c36b925c3b04,openstack/keystone,master,fix-api-ref,Ie28f0661bd4402ebb8f9de37fff4c36b925c3b04,Improve the update description for limits in api-ref,MERGED,2020-08-13 10:27:38.000000000,2020-08-21 15:16:39.000000000,2020-08-21 15:12:00.000000000,2,2,0,746049,1b75e56a08dfb980cb26b2ac273a27dac24c1668,8,4,1,1,27621,Vishakha Agarwal,Vishakha,"Improve the update description for limits in api-ref

The update registered limit updates the specified registered
limit. It will be wrong to describe it as ""Update registered
limits"". It should be singular. Same for updating a project
limit. This patch fixes the same.

Change-Id: Ie28f0661bd4402ebb8f9de37fff4c36b925c3b04
"
openstack%2Fkeystone~master~I06b02b2ebfed35d4e82c5fc35ce8eb0bb20b2fc5,openstack/keystone,master,follow-up-745752,I06b02b2ebfed35d4e82c5fc35ce8eb0bb20b2fc5,Follow-up for bug-1891244,MERGED,2020-08-13 10:16:00.000000000,2020-08-21 15:14:51.000000000,2020-08-21 15:11:57.000000000,2,2,0,746043,88197d2175a6f56b012c3f8a3254dee5f540ada4,9,4,1,1,27621,Vishakha Agarwal,Vishakha,"Follow-up for bug-1891244

This patch closes the review comments of [1].

[1]https://review.opendev.org/#/c/745752/

Change-Id: I06b02b2ebfed35d4e82c5fc35ce8eb0bb20b2fc5
"
openstack%2Fcharm-gnocchi~master~I1e14e609567d00bed6e8bb755acabd08c1113469,openstack/charm-gnocchi,master,bug/1824119,I1e14e609567d00bed6e8bb755acabd08c1113469,Stop charm running handlers during update-status,MERGED,2020-08-20 13:21:39.000000000,2020-08-21 15:14:33.000000000,2020-08-21 15:14:33.000000000,28,0,0,747159,88e450a6bbe5a484b50aee7e41f916d6bf926414,12,4,1,2,20870,Alex Kavanagh,ajkavanagh,"Stop charm running handlers during update-status

The update-status hook is supposed to be lightweight; prior to this
change the charm was running all of the handlers including a no-op
checking for upgrades to openstack.  This patchset builds on the
depends-on patchset and gates the update-status hook against those
handlers.  Note that update-status is handled using the default handler.

Depends-On: I7ca97db646ada95d7f5541ca4e2cf14013c0d7a6
Change-Id: I1e14e609567d00bed6e8bb755acabd08c1113469
Closes-Bug: #1824119
"
openstack%2Fcinder~stable%2Ftrain~I66da0212a61d778fe9795d382b3af5b225a8aa54,openstack/cinder,stable/train,bug/1875570,I66da0212a61d778fe9795d382b3af5b225a8aa54,Creating image-volume cache on NFS backend fails,MERGED,2020-06-01 14:59:39.000000000,2020-08-21 15:04:54.000000000,2020-08-21 14:40:26.000000000,18,5,3,732400,193f3e97ce19bd8926bac23781e51d68de8ddcd4,102,22,4,3,27615,Rajat Dhasmana,whoami-rajat,"Creating image-volume cache on NFS backend fails

snapshot.id doesn't have `tmp-snap` in it as id
is not passed as a option while creating snapshot
object. This should be change to
`snapshot.display_name` at same location
Also includes regression and NITs from other
patches
(I33da9c65ef56b3e4967170e3a0fb25f12e067876)
(Ia620043904f4f31a81bc8463fb36476a149f9808)
(Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72)

Closes-Bug: #1875570
Change-Id: I66da0212a61d778fe9795d382b3af5b225a8aa54
(cherry picked from commit f68a64540f20967f933a3c9546837ddde23c20cd)
"
openstack%2Fpuppet-octavia~master~I1aee36aa0dee557dda1b65695233728f1a8d3ff1,openstack/puppet-octavia,master,,I1aee36aa0dee557dda1b65695233728f1a8d3ff1,Expose vhost_custom_fragment,MERGED,2020-08-17 15:26:48.000000000,2020-08-21 14:58:10.000000000,2020-08-21 14:58:10.000000000,119,0,5,746545,444cb9b583beb1a97de93a168d1289a6875b9b5e,25,5,8,2,25877,Luke Short,ekultails,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Octavia service.

Also add Apache WSGI spec tests for default and custom parameters.

Change-Id: I1aee36aa0dee557dda1b65695233728f1a8d3ff1
Signed-off-by: Luke Short <ekultails@gmail.com>
"
openstack%2Fmanila-tempest-plugin~master~I95e667745d872a12391c6713b70b4842d7b70984,openstack/manila-tempest-plugin,master,share_servers,I95e667745d872a12391c6713b70b4842d7b70984,Ensure share server is created when driver handles share servers,MERGED,2020-08-03 06:32:08.000000000,2020-08-21 14:57:45.000000000,2020-08-21 14:57:45.000000000,10,0,6,744398,6db73a34356364fb9c09e977b51e686201bf2b28,29,10,4,1,19262,Liron Kuchlani,lkuchlan,"Ensure share server is created when driver handles share servers

This test will ensure that when a share creation request is handled,
if the driver has the ""driver handles share servers"" option enabled,
that a share server will be created, otherwise, not.

Change-Id: I95e667745d872a12391c6713b70b4842d7b70984
"
openstack%2Fkolla-ansible~master~Ia134a17890d17801da6888dded8d2406d4586b8e,openstack/kolla-ansible,master,pin_ansible_lint,Ia134a17890d17801da6888dded8d2406d4586b8e,Pin ansible-lint to 4.2.x,ABANDONED,2020-08-21 07:37:58.000000000,2020-08-21 14:50:50.000000000,,1,1,0,747351,bb54a0aab8a4029d573e328109c86665cc05bed4,5,2,1,1,22629,Michal Nasiadka,mnasiadka,"Pin ansible-lint to 4.2.x

Change-Id: Ia134a17890d17801da6888dded8d2406d4586b8e
"
openstack%2Fkolla-ansible~master~Ic58a27e517004768433a1e793d4d8e90e2c3383a,openstack/kolla-ansible,master,ansible_lint_431,Ic58a27e517004768433a1e793d4d8e90e2c3383a,[TrivialFix] Clean a recent comment,MERGED,2020-08-21 10:32:23.000000000,2020-08-21 14:48:26.000000000,2020-08-21 14:46:19.000000000,1,1,0,747385,ea91edcbae0c3c8520177d2679572d41c5a13609,7,3,1,1,30491,Radosław Piliszek,yoctozepto,"[TrivialFix] Clean a recent comment

Change-Id: Ic58a27e517004768433a1e793d4d8e90e2c3383a
"
openstack%2Fpython-cinderclient~master~I7d239d3fe3d879e4c391e83cae1e394cf1f5e6eb,openstack/python-cinderclient,master,v1_cleanup,I7d239d3fe3d879e4c391e83cae1e394cf1f5e6eb,Clean up some old v1 API references,MERGED,2020-06-02 22:37:02.000000000,2020-08-21 14:43:04.000000000,2020-08-21 14:40:55.000000000,2,5,0,733021,2d3bcebf7fc0f053072a93f61d866b2d35a818a6,10,5,1,1,11904,Sean McGinnis,SeanM,"Clean up some old v1 API references

This removes some code that was still pointing to the V1 API. No need to
add release note or additional announcements since this was all removed
long ago, and if anyone would have gone down this code path it would
have just blown up trying to import the v1 code that is no longer there.

Change-Id: I7d239d3fe3d879e4c391e83cae1e394cf1f5e6eb
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fmanila~stable%2Fussuri~Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,openstack/manila,stable/ussuri,bug/1782859,Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,Update access rules documentation for user guide,MERGED,2020-08-21 06:51:10.000000000,2020-08-21 14:33:07.000000000,2020-08-21 14:27:02.000000000,80,22,0,747340,1434adc353e80192d9a17121b57831d273b30633,9,2,1,1,16643,Goutham Pacha Ravi,gouthamr,"Update access rules documentation for user guide

Updates user guide documentation to provide metadata info
to an access rules. Also add two new operations for access
rule metadata: 'access-metadata set' and 'access-metadata unset'

Change-Id: Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35
Closes-Bug: #1782859
(cherry picked from commit e2e764d9763b9367321a4c7f14b0150f67f3b08e)
"
openstack%2Fmanila~stable%2Fstein~I8e68619b00255197b3d3cf6796c60d1a3a04ff36,openstack/manila,stable/stein,bug/1682694,I8e68619b00255197b3d3cf6796c60d1a3a04ff36,Add uWSGI configuration samples,MERGED,2020-08-17 17:18:44.000000000,2020-08-21 14:31:57.000000000,2020-08-21 14:27:00.000000000,101,0,0,746571,da700b710f1c78b4a17f962a71eb6200399fa050,9,4,1,4,16643,Goutham Pacha Ravi,gouthamr,"Add uWSGI configuration samples

Added some samples on uWSGI config and some docs
on how to run manila with uWSGI for contributors.

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: I8e68619b00255197b3d3cf6796c60d1a3a04ff36
(cherry picked from commit 7a1414977f1f1699b000ff04ed0e0d32853d1185)
(cherry picked from commit 8f5d81586ead346c6cde995d7baf2910663f7211)
(cherry picked from commit ecb9d6396c529bbcba861f205932f4b45a67d1af)
"
openstack%2Fmanila~stable%2Fussuri~I8d904cb3aab4d653178948284571f471bd59ac1b,openstack/manila,stable/ussuri,bug/1878244,I8d904cb3aab4d653178948284571f471bd59ac1b,Update docs for create share from snapshot in another back end,MERGED,2020-08-21 06:23:00.000000000,2020-08-21 14:29:47.000000000,2020-08-21 14:27:01.000000000,94,65,0,747338,b8e1b9654cf2a7f047fdf146d7148a7d56c8f1a3,8,2,1,2,16643,Goutham Pacha Ravi,gouthamr,"Update docs for create share from snapshot in another back end

This patch add some notes regarding the use of scheduler when
creating share from snapshot in another pool or backend.

Change-Id: I8d904cb3aab4d653178948284571f471bd59ac1b
Closes-Bug: #1878244
(cherry picked from commit 6b8f416e1b20b82617ecd4feff9cbc1c5d914c25)
"
openstack%2Fkolla-ansible~master~I73d483e01476e779a5155b2e18dd5ea25f514e93,openstack/kolla-ansible,master,normalize_urls_construction_and_usage,I73d483e01476e779a5155b2e18dd5ea25f514e93,Standardize use and construction of endpoint URLs,MERGED,2019-04-12 21:53:38.000000000,2020-08-21 14:26:39.000000000,2020-08-19 10:28:20.000000000,192,125,136,652157,f425c0678f9c90c019805edb0b233d89f61f7ca8,190,11,33,49,28356,Rafael Weingartner,rafaelweingartner,"Standardize use and construction of endpoint URLs

The goal for this push request is to normalize the construction and use
 of internal, external, and admin URLs. While extending Kolla-ansible
 to enable a more flexible method to manage external URLs, we noticed
 that the same URL was constructed multiple times in different parts
 of the code. This can make it difficult for people that want to work
 with these URLs and create inconsistencies in a large code base with
 time. Therefore, we are proposing here the use of
 ""single Kolla-ansible variable"" per endpoint URL, which facilitates
 for people that are interested in overriding/extending these URLs.

As an example, we extended Kolla-ansible to facilitate the ""override""
of public (external) URLs with the following standard
""<component/serviceName>.<companyBaseUrl>"".
Therefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,
HTTPD or some other) is done via the service name, and not by the port.
This allows operators to easily and automatically create more friendly
 URL names. To develop this feature, we first applied this patch that
 we are sending now to the community. We did that to reduce the surface
  of changes in Kolla-ansible.

Another example is the integration of Kolla-ansible and Consul, which
we also implemented internally, and also requires URLs changes.
Therefore, this PR is essential to reduce code duplicity, and to
facility users/developers to work/customize the services URLs.

Change-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93
Signed-off-by: Rafael Weingärtner <rafael@apache.org>
"
openstack%2Ftripleo-operator-ansible~master~Id3f2bf8cad72827dda00623751879734f1b1554c,openstack/tripleo-operator-ansible,master,,Id3f2bf8cad72827dda00623751879734f1b1554c,Fix parameters in standalone playbook,MERGED,2020-08-19 10:10:04.000000000,2020-08-21 14:20:54.000000000,2020-08-21 14:20:54.000000000,2,2,0,746874,6c2a1fcd60438ec1b1b02c2e2b5430fe9792f64a,7,3,1,1,13861,yatin,yatinkarel,"Fix parameters in standalone playbook

Some parameters were wrongly used, this patch fixes
those.

Change-Id: Id3f2bf8cad72827dda00623751879734f1b1554c
"
openstack%2Fcloudkitty~master~Id8ffb21acd4845a2e1f240e32a9f351d250a199e,openstack/cloudkitty,master,dateutil,Id8ffb21acd4845a2e1f240e32a9f351d250a199e,Require minimum version of dateutil providing tz.UTC,ABANDONED,2020-07-22 16:20:46.000000000,2020-08-21 14:00:45.000000000,,2,0,0,742477,433dc108abe9e2fcd97ef03e9aac6d774bcc29ed,9,3,2,2,15197,Pierre Riteau,priteau,"Require minimum version of dateutil providing tz.UTC

CloudKitty became timezone-aware in Train:
https://review.opendev.org/#/c/669192/

The code references tz.UTC from dateutil. However, tz.UTC was added only
in dateutil 2.7.0.

Change-Id: Id8ffb21acd4845a2e1f240e32a9f351d250a199e
"
openstack%2Fkolla-ansible~stable%2Fussuri~I729862b89b4fe65cbb7f852fac06741b636e4939,openstack/kolla-ansible,stable/ussuri,,I729862b89b4fe65cbb7f852fac06741b636e4939,CI: enable Ansible SSH pipelining,MERGED,2020-08-19 18:43:37.000000000,2020-08-21 13:59:37.000000000,2020-08-21 13:57:45.000000000,3,0,0,747017,d87217ec2a82d6f2ba7466247ff211f16e2d4cfd,17,4,3,1,30491,Radosław Piliszek,yoctozepto,"CI: enable Ansible SSH pipelining

This should improve performance of CI jobs.

Change-Id: I729862b89b4fe65cbb7f852fac06741b636e4939
(cherry picked from commit 9fac359bf4ec1374ba84ff5990f3ef74454d8c07)
"
openstack%2Frequirements~master~I08e2fb4b5d0f885ce3982f4f03c0bb1a5a51e55f,openstack/requirements,master,,I08e2fb4b5d0f885ce3982f4f03c0bb1a5a51e55f,Ban pecan 1.4.0,MERGED,2020-08-14 02:58:11.000000000,2020-08-21 13:58:57.000000000,2020-08-14 16:32:49.000000000,2,2,0,746261,570307ea8f569fa73445b745325e9245dd7b42b0,24,6,2,2,8833,Rabi Mishra,rabi,"Ban pecan 1.4.0

This has broken gnocchi which in turn breaks ceilometer
that uses gnocchi as the default backend. This has also
impacted heat gate which uses gnocchi based alarms with
aodh.

Please check https://review.opendev.org/746034 that
depends on this to fix the ceilometer gate.

Task: 40652
Change-Id: I08e2fb4b5d0f885ce3982f4f03c0bb1a5a51e55f
"
openstack%2Fec2api-tempest-plugin~master~I7937940a4744b6fc7327336105dd8e04fc7f5eeb,openstack/ec2api-tempest-plugin,master,native-zuulv3-migration,I7937940a4744b6fc7327336105dd8e04fc7f5eeb,Migrate zuul from v2 to v3 native,MERGED,2020-08-10 09:38:28.000000000,2020-08-21 13:48:45.000000000,2020-08-21 13:48:45.000000000,40,12,28,745508,7fca40c7bffefdc6d268841b641a9e2d5a2e8787,87,4,32,3,32274,Alexander Slipenchuk,asiar,"Migrate zuul from v2 to v3 native

Change-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb
"
openstack%2Fneutron~stable%2Fstein~I2b1f4c4e951b691fb0c66119699b26540b0babd8,openstack/neutron,stable/stein,drop-master-jobs-stable/stein,I2b1f4c4e951b691fb0c66119699b26540b0babd8,[Stable only] Drop *-master jobs,MERGED,2020-08-19 08:30:54.000000000,2020-08-21 13:36:06.000000000,2020-08-21 13:29:35.000000000,0,12,0,746856,fda4a375c41fa7f5562be2ac25fa3713be188421,28,5,1,1,21798,Bernard Cafarelli,bcafarel,"[Stable only] Drop *-master jobs

These jobs are used to test neutron against current master branches of
external projects (os-ken).

Stable branches are not expected to run with this setup so we can drop
the jobs there (especially as some of these jobs are periodic ones).

Conflicts:
	.zuul.yaml

This is adapted to the older single .zuul.yaml file layout

Change-Id: I2b1f4c4e951b691fb0c66119699b26540b0babd8
(cherry picked from commit 21719a875d63adc9a823de7feacb119e5887f5af)
"
openstack%2Ftripleo-docs~master~Ic2d69872a7bd3b0620b364fca56b42d5e53f771d,openstack/tripleo-docs,master,bug/1888508,Ic2d69872a7bd3b0620b364fca56b42d5e53f771d,Document how to use --limit with ceph-ansible,MERGED,2020-08-17 14:52:14.000000000,2020-08-21 13:35:56.000000000,2020-08-21 13:33:30.000000000,41,0,4,746526,c3b35fed4bc4f9a7961fee329b83724d5bc722e1,17,5,2,1,18002,John Fulton,fultonj,"Document how to use --limit with ceph-ansible

Depends-On: Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3
Change-Id: Ic2d69872a7bd3b0620b364fca56b42d5e53f771d
"
openstack%2Ftripleo-ansible~master~I67131165423b81646a7d4ce6fad6858c30fb089c,openstack/tripleo-ansible,master,ansible-cip,I67131165423b81646a7d4ce6fad6858c30fb089c,WIP - container image vars,ABANDONED,2020-08-18 14:02:44.000000000,2020-08-21 13:33:28.000000000,,12,0,0,746727,c84e519d839ed002d68fa332beb542e2b49f198e,5,3,1,1,14985,Alex Schultz,mwhahaha,"WIP - container image vars

Change-Id: I67131165423b81646a7d4ce6fad6858c30fb089c
"
openstack%2Fpython-tripleoclient~master~Ib331e348463bdeb10c4efd8ec4559675dee0b7e0,openstack/python-tripleoclient,master,ansible-cip,Ib331e348463bdeb10c4efd8ec4559675dee0b7e0,Stop running container image prepare upfront,ABANDONED,2020-08-18 14:20:17.000000000,2020-08-21 13:33:25.000000000,,0,55,0,746733,13cb9bdff0bc74f9e54f38767dd627604b5ca080,5,2,2,2,14985,Alex Schultz,mwhahaha,"Stop running container image prepare upfront

We can let the ansible deployment handle the variables instead of having
to provide them via Heat.

Depends-On: https://review.opendev.org/#/c/746541/
Change-Id: Ib331e348463bdeb10c4efd8ec4559675dee0b7e0
"
openstack%2Fpython-tripleoclient~master~I87757e09976f7a6e7f34e2f97d9fa546b6733c4d,openstack/python-tripleoclient,master,ansible-cip,I87757e09976f7a6e7f34e2f97d9fa546b6733c4d,WIP - container image vars to ansible vars,ABANDONED,2020-08-13 20:48:31.000000000,2020-08-21 13:33:22.000000000,,92,8,0,746226,162a7ebd295aac0f981ff36164bcb72fa3731ffe,6,2,2,3,14985,Alex Schultz,mwhahaha,"WIP - container image vars to ansible vars

Currently we have to generate Heat vars to pass in the Container*Image
and Container*ConfigImage values. We could move this process to occur
after the stack is created and to be created via the
container-image-prepare process instead. To do this, we need to take the
existing vars that are generated as part of this process and switch them
to ansible compatible vars. This patch updates the `openstack tripleo
container image prepare` command to have a `--output-vars-file`
parameter to output this file.  After we test this out, we can set the
default value of the Container*(Config)?Image vars in Heat to be an
ansible variable instead.

Change-Id: I87757e09976f7a6e7f34e2f97d9fa546b6733c4d
"
openstack%2Ftripleo-heat-templates~master~Iea94cdc3c24ef91db5810e79ddd73846f92d94c8,openstack/tripleo-heat-templates,master,ansible-cip,Iea94cdc3c24ef91db5810e79ddd73846f92d94c8,WIP - Let ansible provide container images by default,ABANDONED,2020-08-17 15:06:20.000000000,2020-08-21 13:33:18.000000000,,440,109,0,746541,a2d1431374ca9401fc34792d864131cb9e08cb13,14,3,6,133,14985,Alex Schultz,mwhahaha,"WIP - Let ansible provide container images by default

Currently the container images must be provided before the deployment as
inputs to heat. This change updates the default to use an ansible var if
a value is not provided. This may allow us to stop running container
image prepare before we build the stack and let us do a container image
prepare after the stack has been created.

Change-Id: Iea94cdc3c24ef91db5810e79ddd73846f92d94c8
Depends-On: https://review.opendev.org/#/c/746226/
Depends-On: https://review.opendev.org/#/c/746727/
"
openstack%2Fdevstack~master~I2876ee58ab6b73682869d6b4e684e10ac5e56ad9,openstack/devstack,master,centos-gating,I2876ee58ab6b73682869d6b4e684e10ac5e56ad9,Make PyYAML overridable on Red Hat family distros,MERGED,2020-08-20 12:47:30.000000000,2020-08-21 13:30:45.000000000,2020-08-21 09:20:12.000000000,1,4,2,747155,b9fe9c74f68f1881c0602748301ec6b68ed508d6,14,4,3,1,6469,Carlos Gonçalves,cgoncalves,"Make PyYAML overridable on Red Hat family distros

This patch fixes an early stack issue where the following error message
would be presented:

ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project
and thus we cannot accurately determine which files belong to it which
would lead to only a partial uninstall.

We also drop references to removal of Python 2 library egg infos now
that Python 2 is EOL.

Closes-Bug: #1892363
Change-Id: I2876ee58ab6b73682869d6b4e684e10ac5e56ad9
"
openstack%2Fdevstack~stable%2Fussuri~Ifa876b3e5f89258f40055fa7ce03f5e9c601771c,openstack/devstack,stable/ussuri,fix-uwsgi-centos,Ifa876b3e5f89258f40055fa7ce03f5e9c601771c,Handle uwsgi install for CentOS/RHEL,MERGED,2020-08-17 13:14:51.000000000,2020-08-21 13:21:59.000000000,2020-08-21 09:11:35.000000000,2,4,2,746500,f36de3d3f3cc114dc7d39704f716763be9682a18,23,7,5,1,26106,Tom Stappaerts,TomStappaerts,"Handle uwsgi install for CentOS/RHEL

Change-Id: Ifa876b3e5f89258f40055fa7ce03f5e9c601771c
(cherry picked from commit c2c2b6b415a4289ab740e7506f68e820ecbc5818)
"
openstack%2Fkolla-ansible~master~I3a31c74608b48919c1563bac88313a8c4219dedc,openstack/kolla-ansible,master,ansible_lint_431,I3a31c74608b48919c1563bac88313a8c4219dedc,Fix ansible-lint after upgrade to 4.3.1,MERGED,2020-08-21 07:27:13.000000000,2020-08-21 13:19:30.000000000,2020-08-21 13:17:54.000000000,7,2,2,747345,88c53da22ffc7449cd14dde4dd792502ff1bd472,18,4,3,2,22629,Michal Nasiadka,mnasiadka,"Fix ansible-lint after upgrade to 4.3.1

Change-Id: I3a31c74608b48919c1563bac88313a8c4219dedc
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fpython-tripleoclient~master~Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3,openstack/python-tripleoclient,master,modules,Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3,TCIB: add --rhel-modules argument,MERGED,2020-08-19 19:19:05.000000000,2020-08-21 13:06:28.000000000,2020-08-20 15:46:15.000000000,25,0,1,747024,a3b3aeb93b16bea51a53083e0b53faf5c15ee2bb,13,3,3,1,3153,Emilien Macchi,emilienm,"TCIB: add --rhel-modules argument

--rhel-modules is a new argument that will let us override the hardcoded
RHEL module versions that are provided in the base image.

For example, if we want to build the images against a specific module
version, we'll now be able to do the following:

  $ openstack tripleo container image build --rhel-modules \
        redis:5,virt:8.3

Note: for now we're opinionated about the RHEL modules that we support
and the --rhel-modules won't allow to install any modules, but only the
ones that we support: ['container-tools', 'mariadb', 'redis', 'virt'].
The reason is that in theory all necessary modules should be provided in
the base image layout in tripleo-common, and the use case here is being
able to change their version from the CLI, specially for our release
challenges with future OSP zstreams.

Depends-On: https://review.opendev.org/747007
Change-Id: Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3
"
openstack%2Ftripleo-common~master~I782cbfd3c88b30c801961c6d8ba875d36f59bf42,openstack/tripleo-common,master,modules,I782cbfd3c88b30c801961c6d8ba875d36f59bf42,TCIB: move RHEL modules into base image,MERGED,2020-08-19 18:26:10.000000000,2020-08-21 13:06:07.000000000,2020-08-20 15:46:14.000000000,8,65,2,747007,640b76608d8194ccbecc77429bca711f37809400,17,6,3,16,3153,Emilien Macchi,emilienm,"TCIB: move RHEL modules into base image

Moving the RHEL modules management into the base image will make it
so we will have shared and consistent modules across all container
images; and also configurable from a central place, the base.yaml.

Also, allow to find the module versions from the
{{ tcib_rhel_modules }} variable so later in tripleoclient we can
override the modules versions from the CLI with a new --rhel-modules
argument (which will take comma separated list of modules and their
versions).

Change-Id: I782cbfd3c88b30c801961c6d8ba875d36f59bf42
"
openstack%2Fopenstack-ansible-os_barbican~master~Ifb2921649b3061b508d857f0905cb8b2b82ad6c3,openstack/openstack-ansible-os_barbican,master,openstack/openstack-ansible-tests/sync-tests,Ifb2921649b3061b508d857f0905cb8b2b82ad6c3,Updated from OpenStack Ansible Tests,MERGED,2020-08-12 11:32:05.000000000,2020-08-21 12:49:36.000000000,2020-08-21 12:47:46.000000000,1,0,0,745840,c960d94ca8b579c620aebb57e581c31364b7ddb9,25,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ifb2921649b3061b508d857f0905cb8b2b82ad6c3
"
openstack%2Fopenstack-ansible-os_barbican~stable%2Fussuri~Ib3006f044c7f0a1b86172246ad1a50413a5a9519,openstack/openstack-ansible-os_barbican,stable/ussuri,openstack/openstack-ansible-tests/sync-tests,Ib3006f044c7f0a1b86172246ad1a50413a5a9519,Updated from OpenStack Ansible Tests,MERGED,2020-08-14 07:38:05.000000000,2020-08-21 12:39:58.000000000,2020-08-21 12:38:09.000000000,1,0,0,746285,9fa83f169b2c61ee2dfc57a6343129949ba46edb,18,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ib3006f044c7f0a1b86172246ad1a50413a5a9519
"
openstack%2Ftacker~master~I95b9d6fa523ed62a2f43f1702a20dbd44e461362,openstack/tacker,master,bp/support-etsi-nfv-specs,I95b9d6fa523ed62a2f43f1702a20dbd44e461362,Support VNF update operations based on ETSI NFV-SOL,ABANDONED,2020-08-02 13:24:39.000000000,2020-08-21 12:22:49.000000000,,3163,49,0,744374,d6252b6aaa8385224399bb45eb9729ee9e4d654b,9,5,3,31,32219,Aldinson C. Esto,esto-aln,"Support VNF update operations based on ETSI NFV-SOL

Supported ETSI SOL003 Modify VNF function.
Added processing for receiving Individual VNF Instances(PATCH).

* PATCH /vnflcm/v1/vnf_instances/{vnfInstanceId}

https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-vnf-update-api-based-on-etsi-nfv-sol.html

Change-Id: I95b9d6fa523ed62a2f43f1702a20dbd44e461362
"
openstack%2Fopenstack-ansible-os_ironic~stable%2Fussuri~I9a6e7273f752b6bdc1639be299e00933889b6cc9,openstack/openstack-ansible-os_ironic,stable/ussuri,,I9a6e7273f752b6bdc1639be299e00933889b6cc9,Add ironic-inspector to constraints,MERGED,2020-08-20 07:23:53.000000000,2020-08-21 12:18:42.000000000,2020-08-21 12:17:11.000000000,3,1,0,747114,fac83016c0de7a27b2c8600bff4310b412c09080,12,4,2,1,25023,Jonathan Rosser,jrosser,"Add ironic-inspector to constraints

We missed adding ironic-inspector to constraints which resulted
in installing always the latest avaialbe version in the pypi.

Depends-On: https://review.opendev.org/747108
Change-Id: I9a6e7273f752b6bdc1639be299e00933889b6cc9
(cherry picked from commit bea6f664bd5f60b5c9a0aaf88a6e57c0b04cae85)
"
openstack%2Fnova~master~Ie092628ac71eb87c9dfa7220255a2953ada9e04d,openstack/nova,master,bug/1879878,Ie092628ac71eb87c9dfa7220255a2953ada9e04d,tests: Add reproducer for bug #1879878,MERGED,2020-08-05 16:43:00.000000000,2020-08-21 12:15:36.000000000,2020-08-20 09:38:37.000000000,83,0,15,744950,10f0a42de162c90c701f70c9c28dc31bfada87db,48,13,5,1,15334,Stephen Finucane,sfinucan,"tests: Add reproducer for bug #1879878

When one resizes a pinned instance, the instance claims host CPUs for
pinning purposes on the destination. However, the host CPUs on the
source are not immediately relinquished. Rather, they are held by the
migration record, to handle the event that the resize is reverted. It is
only when one confirms this resize that the old cores are finally
relinquished.

It appears there is a potential race between the resource tracker's
periodic task and the freeing of these resources, resulting in attempts
to unpin host cores that have already been unpinned. This test
highlights that bug pending a fix.

Change-Id: Ie092628ac71eb87c9dfa7220255a2953ada9e04d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1879878
"
openstack%2Fqinling-dashboard~master~If1b8c33b6a3aabae486da1d7dc1d5cbb0dbd3140,openstack/qinling-dashboard,master,,If1b8c33b6a3aabae486da1d7dc1d5cbb0dbd3140,[DNM] Test qinling-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 14:33:15.000000000,2020-08-21 12:10:52.000000000,,1,0,0,747182,aadda3fcb948196c1261b8b93cdd78de7cab1de2,6,2,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test qinling-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: If1b8c33b6a3aabae486da1d7dc1d5cbb0dbd3140
"
openstack%2Foctavia~stable%2Fstein~I49e92f81b23e0b306c62c406a45029b96dce20df,openstack/octavia,stable/stein,sec-grp-rule-quota-stable/ussuri-stable/train-stable/stein,I49e92f81b23e0b306c62c406a45029b96dce20df,Increase the devstack secuirty group rules quota,MERGED,2020-08-20 15:08:07.000000000,2020-08-21 12:09:51.000000000,2020-08-21 12:05:42.000000000,3,2,0,747203,6cf72ccbb13e8b0df4e6ccc5588e5db569dbeda8,10,4,1,1,11628,Michael Johnson,johnsom,"Increase the devstack secuirty group rules quota

Recent changes to the Octavia tempest tests has caused our test
runs to exceed the default neutron security group rule quota.
This patch increases that quota for the Octavia project in devstack.

Change-Id: I49e92f81b23e0b306c62c406a45029b96dce20df
(cherry picked from commit 2e2464d778cc86df161fdf59406aac30770b58f0)
"
openstack%2Fneutron-vpnaas-dashboard~master~I37f460b933a545e112f261ed69ce956498704114,openstack/neutron-vpnaas-dashboard,master,,I37f460b933a545e112f261ed69ce956498704114,[DNM] Test neutron-vpnaas-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 14:24:31.000000000,2020-08-21 12:08:55.000000000,,1,0,0,747177,deb8cb783a0cf0194c805cf46d0b17b7830e5c1f,5,2,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test neutron-vpnaas-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I37f460b933a545e112f261ed69ce956498704114
"
openstack%2Fironic~master~I963276efae5599bfed6cbb4df18e8dd3bd1b9839,openstack/ironic,master,token-reboot,I963276efae5599bfed6cbb4df18e8dd3bd1b9839,Wipe agent token during reboot or power off,MERGED,2020-07-08 12:07:27.000000000,2020-08-21 12:07:43.000000000,2020-07-16 17:27:02.000000000,40,1,3,739964,2d4d375358c8eb923a0a3bcee211ac53b991e54b,33,9,3,3,10239,Dmitry Tantsur,dtantsur,"Wipe agent token during reboot or power off

Otherwise a reboot during fast-track will leave the newly booted
agent without an ability to request a token.

Change-Id: I963276efae5599bfed6cbb4df18e8dd3bd1b9839
"
openstack%2Ftripleo-ci~master~Ie8243be1e794724aa6b2a598c3ba4e23478c9cad,openstack/tripleo-ci,master,,Ie8243be1e794724aa6b2a598c3ba4e23478c9cad,add debug to container builds,ABANDONED,2020-08-18 01:38:22.000000000,2020-08-21 11:46:03.000000000,,9,1,1,746624,3de30141d64ae0031f314d9446f6a5535b753b20,16,3,8,1,9592,wes hayutin,weshayutin,"add debug to container builds

* print out the important variables
* list out the roles

Change-Id: Ie8243be1e794724aa6b2a598c3ba4e23478c9cad
"
openstack%2Fmasakari-dashboard~master~Icbd69a8f7bb9a4edea72c3e5928b25383acb9f45,openstack/masakari-dashboard,master,,Icbd69a8f7bb9a4edea72c3e5928b25383acb9f45,[DNM] test masakari-dashboar with horizon jobs on focal,ABANDONED,2020-08-20 14:11:35.000000000,2020-08-21 11:38:28.000000000,,1,0,0,747171,ea9ba97667d4dc28facb73a846973c58923b8ed6,6,2,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] test masakari-dashboar with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: Icbd69a8f7bb9a4edea72c3e5928b25383acb9f45
"
openstack%2Fvalidations-common~master~I3321fbf3140288586af89a2f733072cb1653ff8e,openstack/validations-common,master,script/connection-type,I3321fbf3140288586af89a2f733072cb1653ff8e,"Rename parameter, and add a new one",ABANDONED,2020-07-24 09:57:30.000000000,2020-08-21 11:37:43.000000000,,20,15,1,742839,54b9ad6c7f998c3b9db09616df1a707ba470ce5a,7,3,2,2,28223,Cedric Jeanneret,cjeanner,"Rename parameter, and add a new one

The ""log-output"" parameter was misleading, let's rename it to a more
meaningful ""redirect-stdout"". Updated functional test accordingly.

Also, add a new ""--log-path"" parameter. It allows to set the standard
logging directory for the validations. This is especially useful when an
operator is running the script as a user instead of root.

Change-Id: I3321fbf3140288586af89a2f733072cb1653ff8e
"
openstack%2Fkayobe~stable%2Frocky~I849d9b09e973316308e574c447a78868e93a5420,openstack/kayobe,stable/rocky,,I849d9b09e973316308e574c447a78868e93a5420,Skip broken ansible-lint,MERGED,2020-08-19 15:08:39.000000000,2020-08-21 11:34:14.000000000,2020-08-21 11:27:50.000000000,1,1,0,746955,5de53a58f525503774326493265eb2132b3e3d53,11,2,1,1,15197,Pierre Riteau,priteau,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I849d9b09e973316308e574c447a78868e93a5420
(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)
"
openstack%2Fzaqar-ui~master~I21f97d993cd41df95ca2e2f77c44797a2945ed56,openstack/zaqar-ui,master,migrate-to-focal,I21f97d993cd41df95ca2e2f77c44797a2945ed56,[DNM] test zaqar-ui with horizon jobs on focal,ABANDONED,2020-08-20 18:40:50.000000000,2020-08-21 11:25:49.000000000,,1,0,0,747274,460c27e6630a52a731a028c18bbed6641db0b6de,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] test zaqar-ui with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I21f97d993cd41df95ca2e2f77c44797a2945ed56
"
openstack%2Fwatcher-dashboard~master~I33469e566e745f7a0394ea12a515dac56e27a5f6,openstack/watcher-dashboard,master,,I33469e566e745f7a0394ea12a515dac56e27a5f6,[DNM] test watcher-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 18:37:57.000000000,2020-08-21 11:24:50.000000000,,1,0,0,747272,83c0482590d6b9d3778da58db2764c2828dfefa9,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] test watcher-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I33469e566e745f7a0394ea12a515dac56e27a5f6
"
openstack%2Fvitrage-dashboard~master~Id49b27012e1ecb8b318a72a036cbe137b735aeb9,openstack/vitrage-dashboard,master,,Id49b27012e1ecb8b318a72a036cbe137b735aeb9,[DNM] Test vitrage-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 18:35:00.000000000,2020-08-21 11:24:00.000000000,,1,0,0,747269,18615b18aaf0cfb38f744ae488ef1db7ef59225c,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test vitrage-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: Id49b27012e1ecb8b318a72a036cbe137b735aeb9
"
openstack%2Ftrove-dashboard~master~I3f410e2e8c677953ef67192b752b1321413d8b06,openstack/trove-dashboard,master,,I3f410e2e8c677953ef67192b752b1321413d8b06,[DNM] Test trove-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 18:32:07.000000000,2020-08-21 11:23:10.000000000,,1,0,0,747268,6ea58252746e7a8fbf5b686b2e28c65509766759,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test trove-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I3f410e2e8c677953ef67192b752b1321413d8b06
"
openstack%2Fsolum-dashboard~master~I2d57cc3632fd70dc065f62f011fbac9fcfe8e1b2,openstack/solum-dashboard,master,,I2d57cc3632fd70dc065f62f011fbac9fcfe8e1b2,[DNM] Test solum-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 18:24:22.000000000,2020-08-21 11:22:19.000000000,,1,0,0,747266,c3e78aa014c895e375b6a0d391c0af04f68dda91,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test solum-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I2d57cc3632fd70dc065f62f011fbac9fcfe8e1b2
"
openstack%2Fsearchlight-ui~master~I6f6d55ab6728430d95f23fabc5edf5df80af2c5e,openstack/searchlight-ui,master,,I6f6d55ab6728430d95f23fabc5edf5df80af2c5e,[DNM] Test searchlight-ui with horizon jobs on focal,ABANDONED,2020-08-20 18:14:04.000000000,2020-08-21 11:21:12.000000000,,1,0,0,747263,1931554f771d739c756ab63b3f559462d4634ca7,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test searchlight-ui with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I6f6d55ab6728430d95f23fabc5edf5df80af2c5e
"
openstack%2Fsahara-dashboard~master~I9ea6db8a42b05e59b63f3ff28170e22ebae47654,openstack/sahara-dashboard,master,migrate-to-focal,I9ea6db8a42b05e59b63f3ff28170e22ebae47654,[DNM] Test sahara-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 18:10:03.000000000,2020-08-21 11:20:28.000000000,,1,0,0,747262,777a93bb0dc2592329782a3d206419d9f08cb101,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test sahara-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I9ea6db8a42b05e59b63f3ff28170e22ebae47654
"
openstack%2Fkarbor-dashboard~master~I9e1f42e8fab75b5951610fbdcf45b739ef9311c9,openstack/karbor-dashboard,master,,I9e1f42e8fab75b5951610fbdcf45b739ef9311c9,[DNM] Test karbor-dahboard with horizon jobs on focal,ABANDONED,2020-08-20 14:00:32.000000000,2020-08-21 11:18:00.000000000,,1,0,0,747168,c40a346ac5f92e807cd572901f6bb93510d47231,4,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test karbor-dahboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I9e1f42e8fab75b5951610fbdcf45b739ef9311c9
"
openstack%2Ftacker-horizon~master~I57b3b29474c3e61cd3399ac727330f7166480d02,openstack/tacker-horizon,master,,I57b3b29474c3e61cd3399ac727330f7166480d02,[DNM] Test tacker-horizon with horizon jobs on focal,ABANDONED,2020-08-20 18:28:27.000000000,2020-08-21 11:14:13.000000000,,1,0,0,747267,32164ee48dc9105e0808f45249e0e26c0fa9da81,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test tacker-horizon with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I57b3b29474c3e61cd3399ac727330f7166480d02
"
openstack%2Fkolla-ansible~stable%2Fussuri~Ia55eebc833877f2eae226ba46c18653c1b859299,openstack/kolla-ansible,stable/ussuri,pin-ansible-lint-for-stable-branch,Ia55eebc833877f2eae226ba46c18653c1b859299,Pin ansible-lint to 4.2.0,MERGED,2020-08-21 10:36:56.000000000,2020-08-21 11:02:44.000000000,2020-08-21 11:00:59.000000000,1,1,0,747386,57536ed6f207d658d55e5c72015b537dfb6da3aa,8,3,1,1,30491,Radosław Piliszek,yoctozepto,"Pin ansible-lint to 4.2.0

In stable branches we don't want to follow the latest rules and
have constantly broken CI but rather ensure we control quality
checks and act as needed.

Most other test reqs are actually pinned via upper-constraints,
but ansible-lint is not in global-requirements so it is entirely
up to us to handle pinning.

Change-Id: Ia55eebc833877f2eae226ba46c18653c1b859299
"
openstack%2Fceilometer~stable%2Fussuri~I7061a31405a421da3ab2f192259fb23c5aa54ce6,openstack/ceilometer,stable/ussuri,,I7061a31405a421da3ab2f192259fb23c5aa54ce6,Run migration with NotFound exception as well,MERGED,2020-08-19 20:43:10.000000000,2020-08-21 11:01:49.000000000,2020-08-21 10:59:45.000000000,1,1,3,747034,be8edb074970117265cc44effb11996b30c9f20a,15,6,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Run migration with NotFound exception as well

Gnocchi start returning regular 404 when requesting resource that do not
exist [1]. That means, that in case of 404, which is also excpected,
we just fail resource creation.

[1] http://paste.openstack.org/show/796884/

Change-Id: I7061a31405a421da3ab2f192259fb23c5aa54ce6
(cherry picked from commit 49b098eda41ed23fde0d9373bd5510b95271f051)
"
openstack%2Fironic~master~I7a6bb699f171585119c91d0808ff0c85d04104bf,openstack/ironic,master,fix_network_data_path,I7a6bb699f171585119c91d0808ff0c85d04104bf,Fix network_data path for dhcpless deployments,MERGED,2020-08-20 11:40:55.000000000,2020-08-21 10:53:54.000000000,2020-08-21 09:47:02.000000000,2,2,0,747144,dae84efd66a637f5cb0f3179312e3dc11e42864c,12,5,1,1,18781,vinay50muddu,vmud213,"Fix network_data path for dhcpless deployments

The curent path ""openstack/latest/metadata/network_data.json"" is
not being used by Glean. This path must be changed to
""openstack/latest/network_data.json"" as per the code here
https://opendev.org/opendev/glean/src/branch/master/glean/cmd.py#L1317-L1331

Change-Id: I7a6bb699f171585119c91d0808ff0c85d04104bf
Story: #2008042
Task: #40704
"
openstack%2Fcharm-layer-openstack~master~I7ca97db646ada95d7f5541ca4e2cf14013c0d7a6,openstack/charm-layer-openstack,master,is-update-status-hook,I7ca97db646ada95d7f5541ca4e2cf14013c0d7a6,Add a 'is-update-status-hook' flag to the layer,MERGED,2020-08-20 11:42:36.000000000,2020-08-21 10:41:16.000000000,2020-08-21 10:41:16.000000000,24,2,2,747145,49b1075506d7625d04a05e2cb232d20ea82f6406,11,4,2,1,20870,Alex Kavanagh,ajkavanagh,"Add a 'is-update-status-hook' flag to the layer

This flag is to enable charms.openstack / layer-openstack charms to have
a way to determine if the current hook is update-status from a flag.  By
being a flag, it means that charm reactive handler code doesn't have to
check for the the hook in every handlers, but can declare ""don't run
this if it's an update-status hook"".  The flag is guaranteed to not be
set during a not update-status hook (in that, if it is set, then it gets
cleared and the handlers can therefore run), or to be set during an
update-status hook.  To speed things up, the code also removes the flag
at the end of the update-status handler.

The intended use of this flag is to guard 'expensive' handlers from
being run during update-status.

Change-Id: I7ca97db646ada95d7f5541ca4e2cf14013c0d7a6
"
openstack%2Fcharm-cinder-backup~master~I64c4ef1d7f5c183b7f04e089e126eda52136d7fc,openstack/charm-cinder-backup,master,enable-focal,I64c4ef1d7f5c183b7f04e089e126eda52136d7fc,Add focal and ussuri test bundles,MERGED,2020-05-21 11:58:04.000000000,2020-08-21 10:34:07.000000000,2020-08-21 10:34:07.000000000,250,2,0,729932,a1dade70f95e6e0c5de66903b8bfabaf336ca373,36,6,4,4,20870,Alex Kavanagh,ajkavanagh,"Add focal and ussuri test bundles

The focal-ussuri test is disabled for gate (it's in dev bundles) due to
the upstream bug [1] in os-brick connecting to ceph-octopus in focal.
Bug [2] is for tracking the issue against the charms.

Related-Bug: #1865754 [1]
Related-Bug: #1891626 [2]
Closes-Bug: #1879684

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/390
Change-Id: I64c4ef1d7f5c183b7f04e089e126eda52136d7fc
"
openstack%2Fdevstack~stable%2Ftrain~I5308a6948fbe23d888f4336bbd30d064005e159f,openstack/devstack,stable/train,centos-gating,I5308a6948fbe23d888f4336bbd30d064005e159f,Add non-voting devstack-platform-centos-8 to Train,ABANDONED,2020-08-21 07:32:18.000000000,2020-08-21 10:20:01.000000000,,18,0,0,747350,7253b954a73fe8eeb24338ce3cbac37aa0568eb7,3,0,2,1,6469,Carlos Gonçalves,cgoncalves,"Add non-voting devstack-platform-centos-8 to Train

CentOS 8 is a popular distribution used by many in the community.

Change-Id: I5308a6948fbe23d888f4336bbd30d064005e159f
"
openstack%2Fopenstack-ansible~stable%2Fussuri~I8cbcc4f878415d19506c3faadd554fbd2e9a81a4,openstack/openstack-ansible,stable/ussuri,746931-stable/ussuri,I8cbcc4f878415d19506c3faadd554fbd2e9a81a4,Add ironic-inspector to the openstack_services,MERGED,2020-08-20 05:37:53.000000000,2020-08-21 10:13:15.000000000,2020-08-21 10:09:25.000000000,8,0,0,747108,b1ebd689f07af20eed083b550b8197cec7806e38,11,4,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add ironic-inspector to the openstack_services

We clean forgot about adding ironic-inspector to the services, so
it's time we fix that.

Change-Id: I8cbcc4f878415d19506c3faadd554fbd2e9a81a4
(cherry picked from commit 4f1d3610159fc4eec5559900527e4e078848cf6f)
"
openstack%2Frequirements~master~Id6853599492ad869d25ee8b7f99afa9416926c2b,openstack/requirements,master,new/adjutant_confspirator,Id6853599492ad869d25ee8b7f99afa9416926c2b,cap toml library because of nested dict bug,MERGED,2020-08-17 03:40:53.000000000,2020-08-21 10:08:00.000000000,2020-08-21 10:06:32.000000000,2,1,0,746434,293e6502fa960bc21db55d96cc9071a052007d1a,15,3,2,2,10420,Adrian Turjak,adriant,"cap toml library because of nested dict bug

version 0.10.1 causes a bug with how nested dicts are handled
and we should stay with 0.10.0 until it is fixed:
https://github.com/uiri/toml/issues/295

Change-Id: Id6853599492ad869d25ee8b7f99afa9416926c2b
"
openstack%2Fproject-config~master~If9189ccef8a5f58c7228f72c1381c2bc47d5f356,openstack/project-config,master,new-project,If9189ccef8a5f58c7228f72c1381c2bc47d5f356,Add openstack/etcd3gw,MERGED,2020-08-20 14:36:04.000000000,2020-08-21 10:07:16.000000000,2020-08-21 07:49:36.000000000,36,0,2,747185,c2f434bd2faac4b435d8565f4013d29b14c96953,21,13,3,4,30491,Radosław Piliszek,yoctozepto,"Add openstack/etcd3gw

Per [1] and [2].

Cloned from forked repo to skip old branches.

[1] https://github.com/dims/etcd3-gateway/issues/29
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016470.html

Needed-By: https://review.opendev.org/747188
Change-Id: If9189ccef8a5f58c7228f72c1381c2bc47d5f356
"
openstack%2Fneutron-dynamic-routing~stable%2Ftrain~I8e8a9ce5085b7915994317af5ea903cf8a39e809,openstack/neutron-dynamic-routing,stable/train,bug/1863021-stable/train,I8e8a9ce5085b7915994317af5ea903cf8a39e809,Monkey patch original current_thread _active,MERGED,2020-05-06 08:35:07.000000000,2020-08-21 10:06:47.000000000,2020-08-21 10:04:24.000000000,6,0,0,725790,56de1c4330de76256937ecd0b1d8cde8f16d9f0a,23,6,3,1,21798,Bernard Cafarelli,bcafarel,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Change-Id: I8e8a9ce5085b7915994317af5ea903cf8a39e809
Closes-Bug: #1863021
(cherry picked from commit 44e77ea9a975e9222f38591151e2c32640ef7379)
"
openstack%2Fneutron~stable%2Ftrain~I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe,openstack/neutron,stable/train,bug/1881157,I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe,[OVS][FW] Remote SG IDs left behind when a SG is removed,MERGED,2020-07-31 09:03:28.000000000,2020-08-21 09:55:56.000000000,2020-08-07 02:58:55.000000000,169,45,0,744105,6615f248e25a361d988db1795a3486a58f4768cb,34,5,2,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVS][FW] Remote SG IDs left behind when a SG is removed

When any port in the OVS agent is using a security groups (SG) and
this SG is removed, is marked to be deleted. This deletion process
is done in [1].

The SG deletion process consists on removing any reference of this SG
from the firewall and the SG port map. The firewall removes this SG in
[2].

The information of a SG is stored in:
* ConjIPFlowManager.conj_id_map = ConjIdMap(). This class stores the
  conjunction IDS (conj_ids) in a dictionary using the following keys:

    ConjIdMap.id_map[(sg_id, remote_sg_id, direction, ethertype,
      conj_ids)] = conj_id_XXX

* ConjIPFlowManager.conj_ids is a nested dictionary, built in the
  following way:

    self.conj_ids[vlan_tag][(direction, ethertype)][remote_sg_id] = \
      set([conj_id_1, conj_id_2, ...])

This patch stores all conjuntion IDs generated and assigned to the
tuple (sg_id, remote_sg_id, direction, ethertype). When a SG is
removed, the deletion method will look for this SG in the new storage
variable created, ConjIdMap.id_map_group, and will mark all the
conjuntion IDs related to be removed. That will cleanup those rules
left in the OVS matching:
  action=conjunction(conj_id, 1/2)

[1]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L731
[2]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L399

Conflicts:
      neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py

Change-Id: I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe
Related-Bug: #1881157
(cherry picked from commit 0eebd002ccda66dc6d9f9e5a254815109225e299)
(cherry picked from commit ed22f7a2ff19a874bc8521f84cb4fd1c7483a23f)
"
openstack%2Ftrove~master~Ibbb2c24057035557a7ed8c305bc5618b36ffb7d8,openstack/trove,master,deprecated_options,Ibbb2c24057035557a7ed8c305bc5618b36ffb7d8,remove deprecated option for trove,ABANDONED,2020-08-10 10:10:22.000000000,2020-08-21 09:47:39.000000000,,0,3,1,745514,a6581646c06265894cf541c4e30e68bd01c3b8d1,5,3,1,1,32029,likui,likui,"remove deprecated option for trove

Remove option ""network_label_regex"" from cfg.py is deprecated for removal

Change-Id: Ibbb2c24057035557a7ed8c305bc5618b36ffb7d8
"
openstack%2Fkolla-ansible~stable%2Ftrain~Id0750b84fef8e19658b27f8ae16a857e1394216e,openstack/kolla-ansible,stable/train,add_guestagent_conf-stable/ussuri-stable/train,Id0750b84fef8e19658b27f8ae16a857e1394216e,Add trove-guestagent.conf,ABANDONED,2020-08-21 01:41:47.000000000,2020-08-21 09:46:45.000000000,,38,1,0,747320,d8b8aa98e6c8157ba87143027707d21faf070ef1,6,2,1,4,32029,likui,likui,"Add trove-guestagent.conf

Add trove-guestagent.conf templates for trove-guestagent service.
Default the Guest Agent config file to be injected during instance creation.

Change-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e
(cherry picked from commit 38881963344446f43ad667d3ceeac8348fac5f37)
"
openstack%2Fkolla-ansible~stable%2Fstein~Id0750b84fef8e19658b27f8ae16a857e1394216e,openstack/kolla-ansible,stable/stein,add_guestagent_conf-stable/ussuri-stable/train-stable/stein,Id0750b84fef8e19658b27f8ae16a857e1394216e,Add trove-guestagent.conf,ABANDONED,2020-08-21 01:44:02.000000000,2020-08-21 09:46:22.000000000,,38,1,0,747321,309b2830a11b94398cc5c925bc6c2f01e3375b40,5,3,1,4,32029,likui,likui,"Add trove-guestagent.conf

Add trove-guestagent.conf templates for trove-guestagent service.
Default the Guest Agent config file to be injected during instance creation.

Change-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e
(cherry picked from commit 38881963344446f43ad667d3ceeac8348fac5f37)
"
openstack%2Foctavia~stable%2Fussuri~I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb,openstack/octavia,stable/ussuri,,I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb,Fix accepting 'insert_headers' when unsupported,MERGED,2020-08-18 21:21:42.000000000,2020-08-21 09:41:40.000000000,2020-08-21 09:38:50.000000000,83,11,0,746802,621acb4278d337e379bdcb0ed65e434bd94db11b,12,4,2,4,11628,Michael Johnson,johnsom,"Fix accepting 'insert_headers' when unsupported

This patch fixes the Octavia listener API from accepting the
'insert_headers' parameter for protocols that do not support header
insertion.

Change-Id: I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb
Story: 2007967
Task: 40464
(cherry picked from commit 08fad7496612962418c81c2d981069bde275157b)
"
openstack%2Fbifrost~bugfix%2F8.3~Ia94ee8a635629f4311dcde611d0e69a2b7c444a9,openstack/bifrost,bugfix/8.3,auth-bugfix/8.3,Ia94ee8a635629f4311dcde611d0e69a2b7c444a9,dynamic: always use clouds.yaml when it is available,MERGED,2020-08-19 16:23:37.000000000,2020-08-21 09:40:08.000000000,2020-08-21 09:37:16.000000000,15,6,0,746978,29087d0d702ce3fd34d6f684fa691dca0cff3be4,11,4,1,1,10239,Dmitry Tantsur,dtantsur,"dynamic: always use clouds.yaml when it is available

Currently it is ignored when noauth_mode is true (the default).

Change-Id: Ia94ee8a635629f4311dcde611d0e69a2b7c444a9
(cherry picked from commit d203955c28db557efdc2ab91cfd4ef3413e7b785)
"
openstack%2Fkuryr-kubernetes~master~I8e2f7d9837aaf7aad12e350b06816a088e7122df,openstack/kuryr-kubernetes,master,fix_typo,I8e2f7d9837aaf7aad12e350b06816a088e7122df,Fix typo,MERGED,2020-08-21 01:20:10.000000000,2020-08-21 09:39:52.000000000,2020-08-21 09:38:01.000000000,1,1,0,747317,b7794a30c21a1cdb9e16612b509bf432182c61cb,8,3,1,1,31835,xujingsong,xieyanker,"Fix typo

Change-Id: I8e2f7d9837aaf7aad12e350b06816a088e7122df
"
openstack%2Fvitrage~stable%2Fstein~Ifc5e9d3dfb79548bff273655ad812de507876c1c,openstack/vitrage,stable/stein,eyalb/id,Ifc5e9d3dfb79548bff273655ad812de507876c1c,Newer clients use id and not uuid as a parameter,MERGED,2020-08-20 15:27:00.000000000,2020-08-21 09:35:41.000000000,2020-08-21 09:30:35.000000000,8,1,0,747209,fc1de82c6669318bafad6e7d9da7afc4d592a9b9,11,2,3,2,19134,Eyal,eyalb,"Newer clients use id and not uuid as a parameter

make sure it works with id as a parameter

Change-Id: Ifc5e9d3dfb79548bff273655ad812de507876c1c
"
openstack%2Fbifrost~bugfix%2F8.3~Id161e2dac0d574377d27e4560ec5f9eea66c0d3d,openstack/bifrost,bugfix/8.3,create-8.3,Id161e2dac0d574377d27e4560ec5f9eea66c0d3d,Update TOX_CONSTRAINTS_FILE for bugfix/8.3,MERGED,2020-08-13 15:58:38.000000000,2020-08-21 09:32:43.000000000,2020-08-21 09:26:36.000000000,3,3,0,746179,15e50e893a0d1af22bb874826b65434eb0ae96cf,10,3,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for bugfix/8.3

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Id161e2dac0d574377d27e4560ec5f9eea66c0d3d
"
openstack%2Fbifrost~bugfix%2F8.3~Ibed331cc8a84ee0fab1807e5911b08460a4d6cbc,openstack/bifrost,bugfix/8.3,create-8.3,Ibed331cc8a84ee0fab1807e5911b08460a4d6cbc,Update .gitreview for bugfix/8.3,MERGED,2020-08-13 15:58:36.000000000,2020-08-21 09:28:39.000000000,2020-08-21 09:26:35.000000000,1,0,0,746178,bbb2a7cb1fa09673556cb06c1ec8f13ff95addbe,20,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for bugfix/8.3

Change-Id: Ibed331cc8a84ee0fab1807e5911b08460a4d6cbc
"
openstack%2Fkolla~master~I2135d6477d07e8786b81e6e3ea9f3367fc5e3ec6,openstack/kolla,master,ironic-pxe-multi-arch,I2135d6477d07e8786b81e6e3ea9f3367fc5e3ec6,ironic-pxe: add syslinux-tftpboot on ppc64le,MERGED,2020-08-17 22:29:48.000000000,2020-08-21 09:26:11.000000000,2020-08-21 09:24:01.000000000,1,1,1,746611,f64ecd98e8df26589b85b5b7445d5e0eca8ee15a,16,6,2,1,32322,Yaakov Selkowitz,yselkowitz,"ironic-pxe: add syslinux-tftpboot on ppc64le

syslinux-tftpboot was made installable on and shipped for ppc64le in RHEL
and CentOS 8.1.

Change-Id: I2135d6477d07e8786b81e6e3ea9f3367fc5e3ec6
"
openstack%2Fopenstack-ansible-os_octavia~master~I0bd9a36b69fb2eb388b0e23ed1fb52644d7ba4bc,openstack/openstack-ansible-os_octavia,master,bind-to-mgmt,I0bd9a36b69fb2eb388b0e23ed1fb52644d7ba4bc,Use the utility host for db setup tasks,MERGED,2020-08-20 16:31:09.000000000,2020-08-21 09:24:56.000000000,2020-08-21 09:22:48.000000000,12,1,0,747248,7fb7f1ba753e0c146602839ec5f2a676d93830f5,8,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I0bd9a36b69fb2eb388b0e23ed1fb52644d7ba4bc
"
openstack%2Fkolla-ansible~stable%2Ftrain~I729862b89b4fe65cbb7f852fac06741b636e4939,openstack/kolla-ansible,stable/train,,I729862b89b4fe65cbb7f852fac06741b636e4939,CI: enable Ansible SSH pipelining,MERGED,2020-08-19 18:43:53.000000000,2020-08-21 09:16:45.000000000,2020-08-21 09:13:42.000000000,3,0,0,747021,f22643ff5ecab957229af4820a82b52fbce7ad0e,8,4,1,1,30491,Radosław Piliszek,yoctozepto,"CI: enable Ansible SSH pipelining

This should improve performance of CI jobs.

Change-Id: I729862b89b4fe65cbb7f852fac06741b636e4939
(cherry picked from commit 9fac359bf4ec1374ba84ff5990f3ef74454d8c07)
"
openstack%2Fdevstack~stable%2Fussuri~I5344ecf519e1a79091b6158c2d711d09b21fae0c,openstack/devstack,stable/ussuri,bug/1885645-stable/ussuri,I5344ecf519e1a79091b6158c2d711d09b21fae0c,Use python3-mod-wsgi instead of mod_wsgi on CentOS8,MERGED,2020-08-17 19:42:18.000000000,2020-08-21 09:11:23.000000000,2020-08-21 09:08:52.000000000,1,1,0,746590,96c2aa13fe9345bef31ef053faae334e2663a509,17,8,1,1,26106,Tom Stappaerts,TomStappaerts,"Use python3-mod-wsgi instead of mod_wsgi on CentOS8

This fixes a stack.sh execution error on CentOS8. We should use
python3-mod_wsgi instead of mod_wsgi since mod_wsgi is replaced by
python3-mod_wsgi. The following change may affect this issue.
https://git.centos.org/rpms/mod_wsgi/c/4a746b53e9e3fef74b227e016e785449160871b8?branch=c8s

Change-Id: I5344ecf519e1a79091b6158c2d711d09b21fae0c
Closes-Bug: #1885645
(cherry picked from commit 1e26508983a1ebf2c23560395ffca8b1f6f79462)
"
openstack%2Fopenstack-ansible-os_trove~master~I4f469df19bb371b0d38a6438a05054cd21152abd,openstack/openstack-ansible-os_trove,master,bind-to-mgmt,I4f469df19bb371b0d38a6438a05054cd21152abd,Use the utility host for db setup tasks,MERGED,2020-08-20 16:46:31.000000000,2020-08-21 09:04:00.000000000,2020-08-21 09:01:47.000000000,13,2,0,747253,653aeffecf9aba40433cf7674cdf881d6b350d3a,8,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I4f469df19bb371b0d38a6438a05054cd21152abd
"
openstack%2Fkolla-ansible~stable%2Ftrain~If90c2dfd32c8bc50671f6dd38e5a82b434c07151,openstack/kolla-ansible,stable/train,bifrost-deploy-proxy-stable/ussuri-stable/train,If90c2dfd32c8bc50671f6dd38e5a82b434c07151,Add support to use bifrost-deploy behind proxy,MERGED,2020-08-17 16:10:30.000000000,2020-08-21 09:00:29.000000000,2020-08-21 08:57:26.000000000,6,0,0,746558,421246a338bedf48c377e8e818848c19a8d556fe,10,4,1,2,30491,Radosław Piliszek,yoctozepto,"Add support to use bifrost-deploy behind proxy

Change-Id: If90c2dfd32c8bc50671f6dd38e5a82b434c07151
Depends-On: https://review.opendev.org/#/c/720338
(cherry picked from commit 9da39345add7a28f05c7d6d30d3296fbdec18042)
"
openstack%2Fcharm-nova-cloud-controller~master~Ia6f14a98ce3e5649f290561f59d691ded3d19177,openstack/charm-nova-cloud-controller,master,bug/1889756,Ia6f14a98ce3e5649f290561f59d691ded3d19177,Set up nova-scheduler processes based on worker-multiplier,MERGED,2020-07-31 16:20:39.000000000,2020-08-21 08:59:44.000000000,2020-08-21 08:59:44.000000000,4,0,0,744214,dde75693c71fd23ae85b8d3f1ae2dfa685df3170,13,4,1,2,8108,Nobuto Murata,nobuto-m,"Set up nova-scheduler processes based on worker-multiplier

Upstream Nova introduced multiple scheduler support in Rocky. Apply the
number of scheduler workers based on worker-multiplier so users can
control resource consumption instead of having the same number of
workers with the available CPU threads.

Change-Id: Ia6f14a98ce3e5649f290561f59d691ded3d19177
Closes-Bug: #1889756
"
openstack%2Fneutron~master~I0f3cb6f534072e166610b417059acbe89302473a,openstack/neutron,master,,I0f3cb6f534072e166610b417059acbe89302473a,[ovn]: gracefully handle logical switch ports with tag set to None,MERGED,2020-07-23 23:08:01.000000000,2020-08-21 08:58:57.000000000,2020-07-24 18:09:11.000000000,1,0,4,742758,fe440bdd6be190588ec4310ef9630285c0acfec6,23,11,2,1,11952,Flavio Fernandes,ffernand,"[ovn]: gracefully handle logical switch ports with tag set to None

AddLSwitchPortCommand takes kwargs as columns and tag is one of them.
It is possible that tag is provided with the value None and that is
not valid. The proposed change gracefully handles such cases so the
transaction is not aborted.

Change-Id: I0f3cb6f534072e166610b417059acbe89302473a
Closes-Bug: #1888736
"
openstack%2Fopenstack-ansible-os_tacker~master~I065c079fb95f299f90b51e22e8aad42fc5dbb618,openstack/openstack-ansible-os_tacker,master,bind-to-mgmt,I065c079fb95f299f90b51e22e8aad42fc5dbb618,Use the utility host for db setup tasks,MERGED,2020-08-20 16:42:06.000000000,2020-08-21 08:52:51.000000000,2020-08-21 08:50:43.000000000,12,1,0,747252,2e04617116a0f0fe96e8b23d278fb7afbf13d28d,8,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I065c079fb95f299f90b51e22e8aad42fc5dbb618
"
openstack%2Fkuryr-kubernetes~master~Ie82a153c89119fc8f70071353c8e46b27d643935,openstack/kuryr-kubernetes,master,bug/1892208,Ie82a153c89119fc8f70071353c8e46b27d643935,NP: Don't add pods without IP to affectedPods,MERGED,2020-08-19 15:32:45.000000000,2020-08-21 08:49:05.000000000,2020-08-21 08:46:56.000000000,3,1,0,746961,dabb2a70ea46b5e8accee44a69a22c97bdb028d7,16,6,1,2,11600,Michał Dulko,dulek,"NP: Don't add pods without IP to affectedPods

We use affectedPods to comfortably track the list of the pods that the
NetworkPolicy indirectly targets (i.e. matches their ports). It doesn't
make sense to put pods without IP there, as well as it is impossible now
with new KuryrNetworkPolicy CRD.

We haven't seen that problem on previous CRD as we've used a weird
format to save that info: {'<pod-ip>': '<pod-namespace'}. If <pod-ip>
was None, json.dumps serialized that into {'null': '<pod-namespace>'},
which was as happily accepted by K8s API as it was utterly useless.

This commit makes sure we only put pods with IP on affectedPods field.
Please also note that we already have protection in place to make sure
we won't create rules for pods without IP (those rules would effectively
open too much traffic), so that is already covered.

Change-Id: Ie82a153c89119fc8f70071353c8e46b27d643935
Closes-Bug: 1892208
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~Ife52b5986de15b6e34bff7f9dc7be2199efa5650,openstack/puppet-openstack_spec_helper,stable/train,,Ife52b5986de15b6e34bff7f9dc7be2199efa5650,Remove Puppet upper cap,MERGED,2020-07-22 02:31:26.000000000,2020-08-21 08:45:37.000000000,2020-08-21 08:45:37.000000000,1,3,0,742331,bdc5deac82e780561c4aca195434fad7537389a5,9,4,1,1,9816,Takashi Kajinami,kajinamit,"Remove Puppet upper cap

The bug is fixed in later versions so we dont
need to cap to this upper version anymore.

See [1] on how it was originally.

[1] https://github.com/openstack/puppet-openstack_spec_helper/commit/63737d7f89dfdb300463a630305642115be92b8a

Change-Id: Ife52b5986de15b6e34bff7f9dc7be2199efa5650
(cherry picked from commit 704358fe69c2d61a6150ed2a24af965e493abf85)
"
openstack%2Freleases~master~I9c538ff9996ca95b908b733326ed6872049b250c,openstack/releases,master,oslo-independent-2020-08-20,I9c538ff9996ca95b908b733326ed6872049b250c,Release pbr 5.5.0,ABANDONED,2020-08-20 16:27:32.000000000,2020-08-21 08:43:36.000000000,,4,0,0,747244,c6abf247652d4451a5845ea98c685a5a64c7e77d,4,1,1,1,28522,Hervé Beraud,hberaud,"Release pbr 5.5.0

Many patches have been merged recently it could be worth to make a new
release for them.

Change-Id: I9c538ff9996ca95b908b733326ed6872049b250c
"
openstack%2Fkolla-ansible~stable%2Fstein~If90c2dfd32c8bc50671f6dd38e5a82b434c07151,openstack/kolla-ansible,stable/stein,bifrost-deploy-proxy-stable/ussuri-stable/train-stable/stein,If90c2dfd32c8bc50671f6dd38e5a82b434c07151,Add support to use bifrost-deploy behind proxy,MERGED,2020-08-17 16:10:37.000000000,2020-08-21 08:35:00.000000000,2020-08-21 08:32:32.000000000,6,0,0,746559,50947b418478c7bd37dc5a5e64a2eaed03cc1776,9,4,1,2,30491,Radosław Piliszek,yoctozepto,"Add support to use bifrost-deploy behind proxy

Change-Id: If90c2dfd32c8bc50671f6dd38e5a82b434c07151
Depends-On: https://review.opendev.org/#/c/720338
(cherry picked from commit 9da39345add7a28f05c7d6d30d3296fbdec18042)
"
openstack%2Fopenstack-ansible-os_zun~master~Ic57de36d5d240e6a5dda6e1794aa04d1f77fb962,openstack/openstack-ansible-os_zun,master,bind-to-mgmt,Ic57de36d5d240e6a5dda6e1794aa04d1f77fb962,Use the utility host for db setup tasks,MERGED,2020-08-20 16:51:54.000000000,2020-08-21 08:28:40.000000000,2020-08-21 08:26:34.000000000,12,1,0,747255,07d78458207156378406db2f8cb7a6140c047b47,8,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: Ic57de36d5d240e6a5dda6e1794aa04d1f77fb962
"
openstack%2Ftempest~master~Icb871c2b106ee0b9770b89d15c54bef65297977c,openstack/tempest,master,,Icb871c2b106ee0b9770b89d15c54bef65297977c,Fix and unskip test_list_servers_filtered_by_ip_regex,MERGED,2020-06-23 14:02:14.000000000,2020-08-21 08:25:47.000000000,2020-08-21 08:22:59.000000000,18,7,16,737545,0a07a0e51f004f79d1ddbc448371c55cfb87ce40,39,9,5,1,22873,Martin Kopec,mkopec,"Fix and unskip test_list_servers_filtered_by_ip_regex

The test assumes that all ip addresses will be allocated in a very
specific and static way. The patch improves the calculation of the
ip regex.

Change-Id: Icb871c2b106ee0b9770b89d15c54bef65297977c
Closes-Bug: #1540645
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e,openstack/python-tripleoclient,stable/train,RHBZ#1868910-stable/train,Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e,Limit ip_version when resolving public_host and admin_host,MERGED,2020-08-18 18:40:54.000000000,2020-08-21 08:21:30.000000000,2020-08-21 08:18:51.000000000,11,7,0,746786,1399785a59a8e08b2228c957e8aeabad104a7101,11,4,2,2,3153,Emilien Macchi,emilienm,"Limit ip_version when resolving public_host and admin_host

Use the the local_ip config option to filter results to a single
ip version when resolving public_host and admin_host to ip
addresses.

When nameservers return result for both IPv4 and IPv6 we currently
fail, due to multiple IP's for the host.

Change-Id: Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e
Related-Bug: #1763776
Related: RHBZ#1868910
(cherry picked from commit 1fd42a85da98e356e85146a9afbec528584c600b)
"
openstack%2Fec2-api~stable%2Fstein~I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1,openstack/ec2-api,stable/stein,,I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1,Fix AMI image registration,MERGED,2020-08-20 15:35:28.000000000,2020-08-21 08:03:22.000000000,2020-08-21 07:57:10.000000000,15,20,0,747217,c0be8589784a1500b2cdf31eca69fc52b6f1a865,18,2,2,2,10234,Andrey Pavlov,andrey-mp,"Fix AMI image registration

Change-Id: I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1
"
openstack%2Fkarbor~master~Id481506ee49ab6440cc908b912dcbda5be5f0e0b,openstack/karbor,master,,Id481506ee49ab6440cc908b912dcbda5be5f0e0b,[WIP] Switch legacy Zuul jobs to native Zuul v3 jobs,ABANDONED,2020-08-11 02:00:59.000000000,2020-08-21 07:49:57.000000000,,67,190,2,745614,a06ee13cd2df4da8082f7817a5c249a13cef6d58,23,4,8,10,29729,wangyu,wangyu,"[WIP] Switch legacy Zuul jobs to native Zuul v3 jobs

Change-Id: Id481506ee49ab6440cc908b912dcbda5be5f0e0b
"
openstack%2Ftripleo-ansible~master~I40b5ef703a19f7b839ff6f263140ca3cf5c4dfd8,openstack/tripleo-ansible,master,,I40b5ef703a19f7b839ff6f263140ca3cf5c4dfd8,Use latest ansible-lint,MERGED,2020-08-20 10:40:14.000000000,2020-08-21 07:47:19.000000000,2020-08-21 07:47:19.000000000,10,6,3,747139,9404c783b497a2fd36480ab6f5abf5cdf889ef0d,15,3,3,1,8833,Rabi Mishra,rabi,"Use latest ansible-lint

we need fix[1] to bypass RepresenterError when using to_yaml filter.

This patch also migrates to pycqa/flake8 hooks repo for missing flake8.

Adds missing flake8 and ignores some newly added flake8 rules that would
be fixed in subsequent patches.

[1] https://github.com/ansible/ansible-lint/pull/518

Closes-Bug: #1892056
Change-Id: I40b5ef703a19f7b839ff6f263140ca3cf5c4dfd8
"
openstack%2Fpython-glanceclient~master~I88e1652fa2f99d475efd7489dcb3c3c1bb06f015,openstack/python-glanceclient,master,,I88e1652fa2f99d475efd7489dcb3c3c1bb06f015,Fix hacking min version to 3.0.1,MERGED,2020-05-13 00:31:23.000000000,2020-08-21 07:06:54.000000000,2020-08-21 07:04:48.000000000,1,1,0,727533,04d2fa705869e4ad2b1aab763290743081d0a590,9,4,1,1,8556,Ghanshyam,ghanshyam,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: I88e1652fa2f99d475efd7489dcb3c3c1bb06f015
"
openstack%2Fmanila~master~Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,openstack/manila,master,bug/1782859,Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,Update access rules documentation for user guide,MERGED,2020-08-06 19:45:55.000000000,2020-08-21 06:51:10.000000000,2020-08-21 00:13:53.000000000,80,22,2,745210,e2e764d9763b9367321a4c7f14b0150f67f3b08e,19,6,2,1,30002,Douglas Viroel,dviroel,"Update access rules documentation for user guide

Updates user guide documentation to provide metadata info
to an access rules. Also add two new operations for access
rule metadata: 'access-metadata set' and 'access-metadata unset'

Change-Id: Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35
Closes-Bug: #1782859
"
openstack%2Fglance_store~stable%2Fussuri~Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4,openstack/glance_store,stable/ussuri,native-zuulv3-migration,Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4,zuul: glance_store-src-ceph-tempest replaces a legacy job,MERGED,2020-07-31 12:29:25.000000000,2020-08-21 06:50:00.000000000,2020-08-21 06:45:00.000000000,13,2,0,744148,bbd97858d9c5b8d2ddc14accb28fec855254c926,8,3,1,1,10459,Luigi Toscano,ltoscano,"zuul: glance_store-src-ceph-tempest replaces a legacy job

It replaces legacy-tempest-dsvm-full-ceph-plugin-src-glance_store
which is defined inside openstack-zuul-jobs.
It is really a variant of the devstack-plugin-ceph-tempest job.

Remove .zuul.yaml from the ignored file list as in other jobs.

Change-Id: Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4
(cherry picked from commit 1f50f31c14803ea2eec021b3deb287b5a9facc27)
"
openstack%2Ftripleo-common~stable%2Ftrain~If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,openstack/tripleo-common,stable/train,train/uidgid,If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,(backward compatibility) create kolla UIDs/GIDs for TCIB,MERGED,2020-08-17 15:05:23.000000000,2020-08-21 06:30:18.000000000,2020-08-21 06:27:44.000000000,158,29,0,746540,5397e9eb4fcf2c95f50049995d433bca3ea3dcf9,35,6,2,30,3153,Emilien Macchi,emilienm,"(backward compatibility) create kolla UIDs/GIDs for TCIB

When upgrading container images from Kolla-based to TCIB-based, the
config files can't be read if we don't apply the new chown values unless
we re-use the same UIDs/GIDs as we had with Kolla; which is what we'll
do for now until we figure out an easy way to update config permissions
during the upgrade/update stage.

This introduces a new script, that will be injected in the base layer:

uid_gid_manage.sh

Usage:

./uid_gid_manage.sh qemu nova

It'll first create the qemu user/group, then nova user/group.
The format aims to be simple:

<username> <uid> <gid> <optional homedir> <optional list of extra groups>

It's also removing instances of usermod which aren't needed anymore;
since we create the user / groups only in the images where they are
needed; which wasn't the case for Kolla where all users/groups were
created in the base image.

Note: we create the user/group before installing packaging so if
packaging creates directories and sets permissions, it'll be with the
right UID/GID (unless packaging overrides UID/GID but rarely do it).

Related-Bug: #1890798

Change-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6
(cherry picked from commit fb0ec2ffd0a99d441c361bb83472e48ead18d013)
"
openstack%2Fmanila~master~I8d904cb3aab4d653178948284571f471bd59ac1b,openstack/manila,master,bug/1878244,I8d904cb3aab4d653178948284571f471bd59ac1b,Update docs for create share from snapshot in another back end,MERGED,2020-05-21 14:55:04.000000000,2020-08-21 06:23:00.000000000,2020-08-21 01:38:32.000000000,94,65,14,729991,6b8f416e1b20b82617ecd4feff9cbc1c5d914c25,41,9,5,2,30002,Douglas Viroel,dviroel,"Update docs for create share from snapshot in another back end

This patch add some notes regarding the use of scheduler when
creating share from snapshot in another pool or backend.

Change-Id: I8d904cb3aab4d653178948284571f471bd59ac1b
Closes-Bug: #1878244
"
openstack%2Ftripleo-validations~stable%2Fussuri~I3bec039283fe5df56771d84fff5bd5940fd149d8,openstack/tripleo-validations,stable/ussuri,custom-roles-stable/ussuri,I3bec039283fe5df56771d84fff5bd5940fd149d8,Allows to use custom role name for validations,MERGED,2020-08-18 06:03:48.000000000,2020-08-21 06:06:28.000000000,2020-08-20 14:51:06.000000000,14,10,0,746635,088c4a1301ea53df1ed1a99ffbca384cbeef531d,24,6,1,10,28223,Cedric Jeanneret,cjeanner,"Allows to use custom role name for validations

The tripleo-ansible-inventory script uses the role names in order to
group the different hosts.

Since we can use custom roles, the fixed ""Controller"" and others aren't
relevant in such cases.

Ansible allows to use parameter for the ""hosts"" value in playbooks,
allowing us to call the validations using this command:

openstack tripleo validator run --validation haproxy \
  --extra-vars '{""controller_rolename"": ""MyCustomController""}'

(or use the --extra-vars-file in order to avoid in-line JSON)

This patch also correct a non-existent group call, Database. The closest
we have is the ""mysql"" group in the inventory - let's reflect it in
order to avoid useless warning(s).

Change-Id: I3bec039283fe5df56771d84fff5bd5940fd149d8
(cherry picked from commit ec0465e481234da62d1ba673b4432e44c930f630)
"
openstack%2Ftripleo-validations~stable%2Fussuri~Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed,openstack/tripleo-validations,stable/ussuri,validate-selinux/work-dif-stable/ussuri,Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed,Corrected work directory for validate-selinux,MERGED,2020-08-20 12:29:53.000000000,2020-08-21 06:06:08.000000000,2020-08-21 03:37:02.000000000,1,1,0,747153,70b766c2f9240e75d0c62f791d47d24d8fad0a31,11,6,1,1,28223,Cedric Jeanneret,cjeanner,"Corrected work directory for validate-selinux

the /var/log/validations directory doesn't exist on the overcloud, since
we don't install the validations there.

Closes-Bug: #745299
Change-Id: Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed
(cherry picked from commit 9645db1f74b2052ca009767b3f85642dd1e6e49f)
"
openstack%2Fglance~master~I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0,openstack/glance,master,copy-image_race,I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0,WIP: Fix race condition in copy image operation,ABANDONED,2020-06-23 18:28:53.000000000,2020-08-21 05:49:28.000000000,,248,16,94,737596,221672a1bf111e50fa00cb69004c00d238c45cc4,78,8,13,5,9303,Abhishek Kekane,abhishekkekane,"WIP: Fix race condition in copy image operation

Setting new property 'os_glance_import_task' using new
'image_set_atomic_property' DB API which will set only
once during active image import operation. If any other
import api operation imposed on same image while first
operation is progress then the same will be rejected
and HTTP 409 response will be returned to the user.

The 'os_glance_import_task' can have two value options
""Pending"" or UUID. When API receives import request it
will set the property to ""Pending"" and once the
Taskflow is executed it will flip that property to the
task_id. The locking is valid for 30min of no updates
on the image while ""Pending"" and 1 day if the execution
has started.

Co-authored-by: Erno Kuvaja <jokke@usr.fi>

Closes-Bug: #1884596
Change-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0
"
openstack%2Ftripleo-ci~master~I22331644f98fe476365423ffbf7e5969dc94f95f,openstack/tripleo-ci,master,rhel-modules,I22331644f98fe476365423ffbf7e5969dc94f95f,Add option to add rhel modules to container build template,MERGED,2020-08-19 21:42:43.000000000,2020-08-21 05:18:09.000000000,2020-08-21 05:18:09.000000000,3,0,0,747047,5485004152e0e34ced61e7eee6881a90d1c9d891,13,5,1,1,9976,Ronelle Landy,rlandy,"Add option to add rhel modules to container build template

If rhel modules are defined, they need to be passed to the
build script to be included in the containers.

Related review: https://review.opendev.org/#/c/747024/

Change-Id: I22331644f98fe476365423ffbf7e5969dc94f95f
"
openstack%2Ftripleo-ci~master~Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f,openstack/tripleo-ci,master,containers_roles_path,Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f,Modify container build roles path to include venv ansible/roles,MERGED,2020-08-04 20:44:36.000000000,2020-08-21 05:18:08.000000000,2020-08-21 05:18:08.000000000,24,9,0,744786,f082f0b8f4f24308a510ba2d3f19024ec76ecde9,40,7,12,1,9976,Ronelle Landy,rlandy,"Modify container build roles path to include venv ansible/roles

roles/build-containers/templates/build.sh.j2 aleady
included code to symlink the tripleo-common roles
from the venv to the roles path.

This review generalizes that code and includes
ansible/roles directory to symlink the roles
from tripleo-ansible installed in the venv.

Change-Id: Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f
"
openstack%2Ftripleo-ci~master~I0073a9cf7083a917968b6fff5b6ee35aa344c46e,openstack/tripleo-ci,master,separate-base-requirements,I0073a9cf7083a917968b6fff5b6ee35aa344c46e,Separate required-projects and roles from base jobs,MERGED,2020-08-03 21:39:26.000000000,2020-08-21 05:18:06.000000000,2020-08-21 05:18:06.000000000,106,43,8,744562,0af7328a1f19a96c9d65173e3f90d07d083d239c,43,9,8,3,9976,Ronelle Landy,rlandy,"Separate required-projects and roles from base jobs

Keep required-projects and roles in separate parent
jobs so they can be shadowed downstream.

This will allow downstream to override required-projects
and roles while still parenting from upstream.

Change-Id: I0073a9cf7083a917968b6fff5b6ee35aa344c46e
"
openstack%2Fpython-openstackclient~master~Ib074c76d3e3d8afff02a6004d8c5cf7da29de68b,openstack/python-openstackclient,master,bug/2008041,Ib074c76d3e3d8afff02a6004d8c5cf7da29de68b,WIP: add unit tests for server group list with 2.64 API,ABANDONED,2020-08-20 12:00:20.000000000,2020-08-21 05:15:41.000000000,,132,2,0,747147,996d4e3fa696cf0bc160cd0de87225267959a5cb,6,2,3,3,9816,Takashi Kajinami,kajinamit,"WIP: add unit tests for server group list with 2.64 API

Change-Id: Ib074c76d3e3d8afff02a6004d8c5cf7da29de68b
"
openstack%2Fpuppet-panko~master~I00518ee991df9ab8fbfcb3309413939c500849f7,openstack/puppet-panko,master,expirer-ensure,I00518ee991df9ab8fbfcb3309413939c500849f7,Rename the parameter to define the state of panko-expirer cron job,MERGED,2020-08-14 10:17:12.000000000,2020-08-21 05:07:01.000000000,2020-08-21 05:05:48.000000000,35,12,1,746314,4184e32676123fc00fd22e1334de2d8cb499c29c,18,5,3,3,9816,Takashi Kajinami,kajinamit,"Rename the parameter to define the state of panko-expirer cron job

This patch replaces the panko::expirer::enable_cron parameter by
panko::expirer::ensure parameter, so that the parameter name shows
how the parameter actually behaves more clearly.

Change-Id: I00518ee991df9ab8fbfcb3309413939c500849f7
"
openstack%2Fmanila~stable%2Fussuri~Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,openstack/manila,stable/ussuri,bug/1682694,Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,Add mod_wsgi configuration samples,MERGED,2020-08-19 04:31:21.000000000,2020-08-21 04:48:02.000000000,2020-08-20 10:28:46.000000000,56,1,0,746831,eac41910c041cca3583e1e94a9dfbaf7e3229fdd,16,5,1,3,16643,Goutham Pacha Ravi,gouthamr,"Add mod_wsgi configuration samples

Extend docs on running manila API with a web server (Apache, NGINX)
Add samples for mod_wsgi

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6
(cherry picked from commit c1912b70f69bc59c1aaf047a556868d0e27e3518)
"
openstack%2Ftripleo-common~stable%2Ftrain~I474d7d30534cbb2e07fabd21faf57a3a5257c520,openstack/tripleo-common,stable/train,,I474d7d30534cbb2e07fabd21faf57a3a5257c520,[DNM] train,ABANDONED,2020-08-19 05:44:22.000000000,2020-08-21 04:43:56.000000000,,1,0,0,746835,8bc9faeba347784c48d01b9fe2e6c18431e1e049,4,2,1,1,12393,chandan kumar,chkumar246,"[DNM] train

Depends-On: https://review.opendev.org/#/c/746772/

Change-Id: I474d7d30534cbb2e07fabd21faf57a3a5257c520
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Ftripleo-quickstart~master~I7452ae02c763d9540642485f6cdad45ee20cb2f5,openstack/tripleo-quickstart,master,tls_without_novajoin,I7452ae02c763d9540642485f6cdad45ee20cb2f5,Modify fs039 to run without novajoin on Ussuri+,MERGED,2020-06-15 13:34:12.000000000,2020-08-21 03:49:44.000000000,2020-08-21 03:48:16.000000000,13,4,2,735590,5b9868e9f318b19b94cdf7f1bad9fbea86ee8b7c,89,10,7,1,14250,Grzegorz Grasza,xek,"Modify fs039 to run without novajoin on Ussuri+

This tests TLS-Everywhere without novajoin,
which is the new way TLS-Everywhere is supported on master.

Depends-On: https://review.opendev.org/721615
Depends-On: https://review.opendev.org/740102
Change-Id: I7452ae02c763d9540642485f6cdad45ee20cb2f5
"
openstack%2Fpuppet-trove~master~Ia19efd5737c57ccf0f7922c037cce47adf9a2fd6,openstack/puppet-trove,master,bug/1892284,Ia19efd5737c57ccf0f7922c037cce47adf9a2fd6,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-21 03:48:22.000000000,2020-08-21 03:47:20.000000000,19,0,0,747083,1afa1afac188cf759190f23fd20469bc424860ee,14,5,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: Ia19efd5737c57ccf0f7922c037cce47adf9a2fd6
Closes-Bug: #1892284
"
openstack%2Ftripleo-quickstart-extras~master~Ib782aa9ae30903cab4072a5513ac4785500e4f16,openstack/tripleo-quickstart-extras,master,fixtempestcontainer,Ib782aa9ae30903cab4072a5513ac4785500e4f16,Donot add update_containers_append_tag with tempest container,ABANDONED,2020-08-17 07:52:58.000000000,2020-08-21 03:39:18.000000000,,2,2,1,746446,ddd2295ad1dcc818c39ae7cbdaf197cfe5cf6864,10,6,1,1,12393,chandan kumar,chkumar246,"Donot add update_containers_append_tag with tempest container

Since tempest container is available on undercloud registry with
container build tag. But validate-tempest was expecting tempest
container with tag and update_containers_append_tag, which does not
exists on undercloud registry leading to fail to download the
tempest  container.

Removing the update_containers_append_tag will fix the issue.

Closes-Bug: #1891372

Change-Id: Ib782aa9ae30903cab4072a5513ac4785500e4f16
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Ftripleo-common~master~Id306243352f310f9054506577aa9bbce3790a7e5,openstack/tripleo-common,master,,Id306243352f310f9054506577aa9bbce3790a7e5,Ensure atomic inventory file rename runs on the same mountpoint,MERGED,2020-08-18 13:49:12.000000000,2020-08-21 03:38:14.000000000,2020-08-21 03:36:57.000000000,10,2,0,746724,fbd575cbe88400bad1ce4d37b914d7ae8a43e15c,29,14,1,2,23811,Oliver Walsh,owalsh,"Ensure atomic inventory file rename runs on the same mountpoint

Linux rename system call is only supported on the same mountpoint [1].
/tmp is often a tmpfs mount, so instead generate the temp inventory file in
the same directory as the target inventory file.

[1] See EXDEV in https://man7.org/linux/man-pages/man2/rename.2.html

Change-Id: Id306243352f310f9054506577aa9bbce3790a7e5
Closes-bug: #1892008
"
openstack%2Ftripleo-heat-templates~master~I91b14c2bc88c9378a5b36fc96b4f7928163d0246,openstack/tripleo-heat-templates,master,ovs_plugins,I91b14c2bc88c9378a5b36fc96b4f7928163d0246,enable ovs_stats and ovs_events plugins for neutron ovs dpdk agent,MERGED,2020-08-20 11:50:32.000000000,2020-08-21 03:37:04.000000000,2020-08-21 03:37:03.000000000,4,0,0,747146,ec630598843590bb13611a5afa96e437e1c2cba6,13,5,1,1,31108,Gowrishankar,gmuthukr,"enable ovs_stats and ovs_events plugins for neutron ovs dpdk agent

This patch enabled ovs_stats and ovs_events plugins for neutron
ovs dpdk agent.

Change-Id: I91b14c2bc88c9378a5b36fc96b4f7928163d0246
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2500200eba392888015796ec93623df089e8d31d,openstack/tripleo-heat-templates,stable/train,train/vars_from,I2500200eba392888015796ec93623df089e8d31d,Do not hard-code vars_from,MERGED,2020-08-18 06:17:08.000000000,2020-08-21 03:37:01.000000000,2020-08-21 03:37:00.000000000,0,2,0,746639,48f068452bd5c2111b754df750bfa61a26a51e43,17,7,1,1,28223,Cedric Jeanneret,cjeanner,"Do not hard-code vars_from

This break the ability to fix packages depending on the OS.

Change-Id: I2500200eba392888015796ec93623df089e8d31d
Closes-Bug: #1891465
Depends-On: https://review.opendev.org/746637
(cherry picked from commit 20131fd662071037e9aaae1960ac373675883f67)
(cherry picked from commit 701841df54030ab8b36d1bdb970f81621d0062e9)
"
openstack%2Ftripleo-upgrade~stable%2Fussuri~I3d2c7691d43674a0304bea8f366162e808dde3ad,openstack/tripleo-upgrade,stable/ussuri,ffwd-upgrade2-stable/ussuri,I3d2c7691d43674a0304bea8f366162e808dde3ad,Create workload_launch script when sanity testing is enabled,MERGED,2020-08-20 15:41:10.000000000,2020-08-21 03:36:59.000000000,2020-08-21 03:36:58.000000000,11,11,0,747221,06b7d748a953501da875617e398de2d5b005925b,6,2,1,2,6816,Jesse Pretorius,jesse-pretorius,"Create workload_launch script when sanity testing is enabled

If workload testing is not enabled, then the workload script
is not there, so the sanity test fails.

In this patch we change the conditionals to ensure that the
workload launch script is created if either test is enabled.
we also then ensure that the sanity test launches are using
the correct conditional.

Change-Id: I3d2c7691d43674a0304bea8f366162e808dde3ad
(cherry picked from commit 45c2b65361846b69eac136462f368ecd1b0b76da)
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I3d2c7691d43674a0304bea8f366162e808dde3ad,openstack/tripleo-upgrade,stable/train,ffwd-upgrade2-stable/train,I3d2c7691d43674a0304bea8f366162e808dde3ad,Create workload_launch script when sanity testing is enabled,MERGED,2020-08-20 14:45:23.000000000,2020-08-21 03:36:59.000000000,2020-08-21 03:36:59.000000000,11,10,0,747191,fcd079e6bf3f6755d3f7303d408a7b68a5cbd1a0,7,3,1,2,6816,Jesse Pretorius,jesse-pretorius,"Create workload_launch script when sanity testing is enabled

If workload testing is not enabled, then the workload script
is not there, so the sanity test fails.

In this patch we change the conditionals to ensure that the
workload launch script is created if either test is enabled.
we also then ensure that the sanity test launches are using
the correct conditional.

Change-Id: I3d2c7691d43674a0304bea8f366162e808dde3ad
(cherry picked from commit 45c2b65361846b69eac136462f368ecd1b0b76da)
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,openstack/tripleo-upgrade,stable/train,ffwd-upgrade2-stable/train,Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,FFWD: L3 fixup,MERGED,2020-08-20 14:42:11.000000000,2020-08-21 03:36:58.000000000,2020-08-21 03:36:58.000000000,36,136,0,747190,f42cc7926e41f1e902459bf2c01b04a2b128bb25,6,2,1,3,6816,Jesse Pretorius,jesse-pretorius,"FFWD: L3 fixup

Before we fix workload accounting and l3 test scripts we need to
remove extra wokload test during FFWD.

Change-Id: Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0
(cherry picked from commit 854f084fbf7dc71e702dc3c578db0e8283edf5b5)
"
openstack%2Fpuppet-watcher~master~I6bed07ff699ec1d61e05fda032c538b91f0edb66,openstack/puppet-watcher,master,bug/1892284,I6bed07ff699ec1d61e05fda032c538b91f0edb66,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-21 03:10:01.000000000,2020-08-21 03:08:47.000000000,19,0,0,747080,77bb47b3854cb534214153d1952d65a7408f1bad,14,5,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I6bed07ff699ec1d61e05fda032c538b91f0edb66
Closes-Bug: #1892284
"
openstack%2Fos-brick~stable%2Ftrain~I6f01a178616b74ed9a86876ca46e7e46eb360518,openstack/os-brick,stable/train,bug/1823200,I6f01a178616b74ed9a86876ca46e7e46eb360518,ScaleIO: Connection info backward compatibility,MERGED,2020-08-18 00:45:01.000000000,2020-08-21 02:58:06.000000000,2020-08-21 00:14:49.000000000,33,6,52,746621,db95b001e2fe53a71ec0b881407ecdf7c3db32fc,40,13,2,2,21129,Alan Bishop,ASBishop,"ScaleIO: Connection info backward compatibility

When we fixed bug 1823200 in Change-ID
Iab54c515fe7be252df52b1a0503a251779805759 we made the ScaleIO connector
incompatible with the old connection properties dictionary as it only
supported the new 'config_group' and 'failed_over' parameters to get the
password.

This is a problem in any system that is upgraded and has attachments to
the array, because the connection properties of those volumes will not
contain the new fields and detaching them will result in error
""KeyError: 'config_group'"".

This patch adds compatibility code to support the old connection
properties format so we can detach those volumes.

Related-Bug: #1823200
Change-Id: I6f01a178616b74ed9a86876ca46e7e46eb360518
(cherry picked from commit 54504830828757e9d72e9440dde9cff33684a74d)
(cherry picked from commit 31589a624fe8d2ebb56ccbd9c94a8dd559a7da89)
Conflicts:
	os_brick/initiator/connectors/scaleio.py
"
openstack%2Fnova~master~I32908b77c18f8ec08211dd67be49bbf903611c34,openstack/nova,master,bug/1891547,I32908b77c18f8ec08211dd67be49bbf903611c34,libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0,MERGED,2020-08-13 18:09:44.000000000,2020-08-21 02:51:08.000000000,2020-08-21 02:45:36.000000000,141,21,23,746210,bc96af565937072c04dea31781d86d2073b77ed4,75,13,4,4,10135,Lee Yarwood,lyarwood,"libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0

I7eb86edc130d186a66c04b229d46347ec5c0b625 introduced
VIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list
within detach_device_with_retry. While the change correctly referenced
that the error code was introduced in v4.1.0 it made no attempt to
handle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned
to v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the
non-existent error code within the libvirt module.

Closes-Bug: #1891547
Change-Id: I32908b77c18f8ec08211dd67be49bbf903611c34
"
openstack%2Fneutron~master~Ie646b7093aa8634fd950c136a0eba9adcf56591c,openstack/neutron,master,migrate-to-focal,Ie646b7093aa8634fd950c136a0eba9adcf56591c,Bump pylint version to support python 3.8,MERGED,2020-07-31 16:05:34.000000000,2020-08-21 02:49:10.000000000,2020-08-21 02:44:55.000000000,85,95,12,744211,cebdd77af8ed19c2f733f06274052736c2dd5a9c,96,11,4,35,21798,Bernard Cafarelli,bcafarel,"Bump pylint version to support python 3.8

As spotted in Focal testing patch [0], pep8 test fails with many
C0321 false-positives, reported in pylint as current version does not
support python 3.8 [1]

Use a newer version of pylint and astroid, fixing or disabling some of
the new checks: no-else-*, unnecessary-comprehension, import-outside-toplevel

[0] https://review.opendev.org/#/c/738163/
[1] https://github.com/PyCQA/pylint/issues/2737

Change-Id: Ie646b7093aa8634fd950c136a0eba9adcf56591c
"
openstack%2Fnova~master~I176b273d66c870303a86f4df11cc5fc37c36d943,openstack/nova,master,bp/policy-defaults-refresh-deprecated-apis,I176b273d66c870303a86f4df11cc5fc37c36d943,Pass the actual target in baremetal nodes policy,MERGED,2020-07-17 21:09:48.000000000,2020-08-21 02:48:14.000000000,2020-08-21 02:45:01.000000000,4,2,1,741717,fcc451cd4c34aa888b954079970a146817bb7cba,89,13,4,1,8556,Ghanshyam,ghanshyam,"Pass the actual target in baremetal nodes policy

Currently if target is not passed in context.can(),
it use defauls target which is context.user_id, context.project_id.
These defaults target are not useful as it pass the
context's user_id and project_id only which means we tell
oslo policy to verify the context data with context data.

This commit pass the actual target for baremetal nodes policies
which is empty dict because policy rule is system scoped rather
than project, so the token scope check deals with the required
target checking.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I176b273d66c870303a86f4df11cc5fc37c36d943
"
openstack%2Fnova~master~I76bbb570996612c1366b6b6c52772f04a9953080,openstack/nova,master,bp/policy-defaults-refresh-deprecated-apis,I76bbb570996612c1366b6b6c52772f04a9953080,Pass the actual target in networks policy,MERGED,2020-07-23 00:46:24.000000000,2020-08-21 02:45:30.000000000,2020-08-21 02:45:30.000000000,4,2,0,742568,fb3bf32fa225b977ccaf4bebd140de5a3813f56d,87,15,5,1,8556,Ghanshyam,ghanshyam,"Pass the actual target in networks policy

Currently if target is not passed in context.can(),
it use defauls target which is context.user_id, context.project_id.
These defaults target are not useful as it pass the
context's user_id and project_id only which means we tell
oslo policy to verify the context data with context data.

This commit pass the actual target for networks policies
which is context.project_id itself as nova cannot verify the owner of
network. Neutron will return the authorise error is requester is not
owner of network.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I76bbb570996612c1366b6b6c52772f04a9953080
"
openstack%2Fnova~master~Idcccdf6b3a1638cf140b5c4f887abbed85c5d7dc,openstack/nova,master,bp/policy-defaults-refresh-deprecated-apis,Idcccdf6b3a1638cf140b5c4f887abbed85c5d7dc,Add new default roles in networks policies,MERGED,2020-07-23 00:31:47.000000000,2020-08-21 02:45:19.000000000,2020-08-21 02:45:19.000000000,75,19,2,742566,558c6e752a9c94fbe29b3da1a9cc730a331aabef,91,14,6,5,8556,Ghanshyam,ghanshyam,"Add new default roles in networks policies

This adds new defaults roles in networks API policies.
These policies are made granular and default to
PROJECT_READER_OR_SYSTEM_READER.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Idcccdf6b3a1638cf140b5c4f887abbed85c5d7dc
"
openstack%2Fnova~master~I062e556feb5cc85d179fed9b675e4ab33ca3365a,openstack/nova,master,bp/policy-defaults-refresh-deprecated-apis,I062e556feb5cc85d179fed9b675e4ab33ca3365a,Add scope and new default roles in extensions policies,MERGED,2020-07-25 22:09:22.000000000,2020-08-21 02:45:10.000000000,2020-08-21 02:45:10.000000000,18,9,0,743046,284ac43f7a79f5fa1ac6d841905770375f372b2f,69,12,4,4,8556,Ghanshyam,ghanshyam,"Add scope and new default roles in extensions policies

This adds scope_type and new defaults roles in extensions
API policies. These policies are for extensions API which are
kept only for backward compatibility of v2.0 but nova does not
have extensions concept now and return only hard-coded info. So
these policies are not made granular.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I062e556feb5cc85d179fed9b675e4ab33ca3365a
"
openstack%2Ftripleo-operator-ansible~master~I7abda2f24b8476a9008467d9096d06a9cb9531c6,openstack/tripleo-operator-ansible,master,sudo/standalone,I7abda2f24b8476a9008467d9096d06a9cb9531c6,DNM - Switch tripleo_deploy_become to false by default,ABANDONED,2020-08-11 15:35:01.000000000,2020-08-21 01:47:47.000000000,,2,2,0,745701,59d9608bbf4d471943bbf3cdc0882296aa1dddd1,8,1,4,2,3153,Emilien Macchi,emilienm,"DNM - Switch tripleo_deploy_become to false by default

Test if standalone run without sudo actually works now with the recent
changes.

Depends-On: https://review.opendev.org/745722
Change-Id: I7abda2f24b8476a9008467d9096d06a9cb9531c6
"
openstack%2Fos-brick~stable%2Ftrain~Ib98043358d51426ca650104ad59a7e09911ee8e9,openstack/os-brick,stable/train,bug/1823200,Ib98043358d51426ca650104ad59a7e09911ee8e9,Add release note for scaleio connector upgrade,MERGED,2020-08-18 00:45:01.000000000,2020-08-21 01:42:22.000000000,2020-08-21 00:14:50.000000000,10,0,0,746622,c380107de59a0459b81800202d51f0291661e803,23,8,2,1,21129,Alan Bishop,ASBishop,"Add release note for scaleio connector upgrade

Change I6f01a178616b74ed9a86876ca46e7e46eb360518 needs to be
backported and included in a new os-brick release in all releaseable
stable branches, so add a release note saying what it does.

Change-Id: Ib98043358d51426ca650104ad59a7e09911ee8e9
(cherry picked from commit 7ca8e56d505f62c0c7ee8f614d26e8b0ccf32b3d)
(cherry picked from commit 930ce7fab9de0e4525621a5bac27feee75ac6033)
"
openstack%2Fkolla-ansible~master~Id0750b84fef8e19658b27f8ae16a857e1394216e,openstack/kolla-ansible,master,add_guestagent_conf,Id0750b84fef8e19658b27f8ae16a857e1394216e,Add trove-guestagent.conf,MERGED,2020-06-26 02:11:10.000000000,2020-08-21 01:41:02.000000000,2020-08-10 12:21:29.000000000,38,1,8,738135,38881963344446f43ad667d3ceeac8348fac5f37,42,5,8,4,32029,likui,likui,"Add trove-guestagent.conf

Add trove-guestagent.conf templates for trove-guestagent service.
Default the Guest Agent config file to be injected during instance creation.

Change-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e
"
openstack%2Fkolla-ansible~master~I15d6891582c92c7fc813f280a2b47ebaaca77eba,openstack/kolla-ansible,master,update-config,I15d6891582c92c7fc813f280a2b47ebaaca77eba,Update trove config file,MERGED,2020-07-20 12:22:11.000000000,2020-08-21 01:40:43.000000000,2020-07-22 12:32:42.000000000,26,10,0,741927,712b27daea958094d3aae6b1df26c391fe8e4200,14,4,3,3,32029,likui,likui,"Update trove config file

Option ""trove_auth_url/os_region_name"" from group ""DEFAULT"" is deprecated.
Use option ""auth_url/region_name"" from group service_credentials

Change-Id: I15d6891582c92c7fc813f280a2b47ebaaca77eba
"
openstack%2Fos-brick~stable%2Fqueens~If31d120955eb216823a55005fdd3d24870aa6b9a,openstack/os-brick,stable/queens,,If31d120955eb216823a55005fdd3d24870aa6b9a,Read mounts from /proc/mounts instead of running mount,MERGED,2020-08-03 09:31:02.000000000,2020-08-21 01:34:26.000000000,2020-08-20 23:09:36.000000000,21,16,0,744428,f85e7e61f8bc333645b5bf26d3973db2d91b12a5,26,12,1,2,10459,Luigi Toscano,ltoscano,"Read mounts from /proc/mounts instead of running mount

When creating multiple concurrent volumes, there's a lock
that prevents mount from returning quickly. Reading /proc/mounts
is way faster.

Change-Id: If31d120955eb216823a55005fdd3d24870aa6b9a
Closes-Bug: #1856889
(cherry picked from commit f2409608473c06892b087e44e0041c9ade3f9924)
(cherry picked from commit a8190cd60b59dedb11a8ed27d236d81adee3255d)
(cherry picked from commit 7168bdce5bcdf3f1a27c6fc9f998c1f3f5364f3d)
(cherry picked from commit 4e2e1bedb657cdb1ab01e77bc14b976b00df284a)
"
openstack%2Fneutron~master~I0739458ac31307d651376a33a835336285d2c7dd,openstack/neutron,master,migrate-to-focal,I0739458ac31307d651376a33a835336285d2c7dd,Raise minimal greenlet version,MERGED,2020-08-19 13:30:26.000000000,2020-08-21 01:29:37.000000000,2020-08-21 01:27:43.000000000,1,1,0,746922,ee50f7cfcf3b06ca599cb0e12ca33d9f15f22b0c,13,6,1,1,21798,Bernard Cafarelli,bcafarel,"Raise minimal greenlet version

As seen in Ubuntu Focal test patches like [1], lower-constraints fails
on greenlet compilation. 0.4.13 added python 3.7 support with additional
fixes coming in .14 so bumping to this version.

[1] https://review.opendev.org/#/c/734304/

Change-Id: I0739458ac31307d651376a33a835336285d2c7dd
"
openstack%2Ftripleo-docs~master~I78809157916e7b389de06c7dba8fd1afe2d95e0e,openstack/tripleo-docs,master,fixtypos,I78809157916e7b389de06c7dba8fd1afe2d95e0e,Fix inconsistencies in with containers-prepare-parameters.yaml,MERGED,2020-08-20 14:33:09.000000000,2020-08-21 01:13:29.000000000,2020-08-21 01:11:50.000000000,9,9,0,747181,4856c840fbd96cb264ecedbff621763552167372,11,3,1,2,15993,Amy Marrich,amarrich,"Fix inconsistencies in with containers-prepare-parameters.yaml

Add missing sudo and fix inconsistencies between pages with
containers-prepare-parameters.yaml

Change-Id: I78809157916e7b389de06c7dba8fd1afe2d95e0e
"
openstack%2Fproject-config~master~I94290ed8c37ff5b402f90e6eeec1e4fd34893c2a,openstack/project-config,master,unpause-git-removal,I94290ed8c37ff5b402f90e6eeec1e4fd34893c2a,"Revert ""Pause all image builds""",MERGED,2020-08-20 23:23:51.000000000,2020-08-21 00:52:49.000000000,2020-08-21 00:40:40.000000000,17,17,0,747312,88a8bf3aa613120c31a2d6198686feb41bdc192e,8,3,1,2,7118,Ian Wienand,iwienand,"Revert ""Pause all image builds""

This reverts commit 37461abc86a972e5a16000970023a65f142d9603.

This should be fixed with dib 3.2.1 which has rolled out via
https://review.opendev.org/#/c/747303/

Change-Id: I94290ed8c37ff5b402f90e6eeec1e4fd34893c2a
"
openstack%2Fmanila~stable%2Fussuri~I667a26cbf9ea93509718b71dadc8fb304fbca855,openstack/manila,stable/ussuri,bug/1843953-stable/ussuri,I667a26cbf9ea93509718b71dadc8fb304fbca855,Add api-ref for share network subnets,ABANDONED,2020-08-20 23:35:47.000000000,2020-08-21 00:51:44.000000000,,773,35,0,747313,51ea2354826511995c6b72bc7f0fab34494981fc,5,4,1,23,29632,Carlos Eduardo,silvacarlos,"Add api-ref for share network subnets

This patch updates the API reference to fit into the changes that
were done in order to implement share networks with multiple
subnets.

Change-Id: I667a26cbf9ea93509718b71dadc8fb304fbca855
Partial-Bug: #1843953
(cherry picked from commit de62a36e3fcb77391d62e7e30a6e45a258aba5f7)
"
openstack%2Ftacker~master~If186db981ef834f11d82777b0e1d4e5f6752a8b0,openstack/tacker,master,bp/support-etsi-nfv-specs,If186db981ef834f11d82777b0e1d4e5f6752a8b0,Support a judgement of NFVO operation condition,ABANDONED,2020-08-20 00:27:04.000000000,2020-08-21 00:51:17.000000000,,996,0,0,747061,31b1632538246fc4b782bf0ff555b75ee7bde810,5,5,2,5,31813,Koichi Edagawa,k-edagawa,"Support a judgement of NFVO operation condition

Supported judging NFVO operation condition.
This is related to PKG information and Granting information.

Change-Id: If186db981ef834f11d82777b0e1d4e5f6752a8b0
"
openstack%2Fneutron-dynamic-routing~stable%2Ftrain~I0f76092c90ad2713057962c74d3535e9db9e3438,openstack/neutron-dynamic-routing,stable/train,,I0f76092c90ad2713057962c74d3535e9db9e3438,[stable only] Fix functional job,MERGED,2020-08-20 08:40:20.000000000,2020-08-21 00:51:01.000000000,2020-08-21 00:49:11.000000000,5,1,0,747126,55dbf49e32cda926f08a4a4789a98c502e0f787a,13,5,1,1,21798,Bernard Cafarelli,bcafarel,"[stable only] Fix functional job

Functional job on stable/train now fails not finding tox, use ensure-tox
in similar way to neutron stable branches to fix it

Change-Id: I0f76092c90ad2713057962c74d3535e9db9e3438
"
openstack%2Fmanila~stable%2Ftrain~I8e68619b00255197b3d3cf6796c60d1a3a04ff36,openstack/manila,stable/train,bug/1682694,I8e68619b00255197b3d3cf6796c60d1a3a04ff36,Add uWSGI configuration samples,MERGED,2020-08-17 17:18:21.000000000,2020-08-21 00:15:29.000000000,2020-08-21 00:13:52.000000000,101,0,0,746570,ecb9d6396c529bbcba861f205932f4b45a67d1af,12,5,1,4,16643,Goutham Pacha Ravi,gouthamr,"Add uWSGI configuration samples

Added some samples on uWSGI config and some docs
on how to run manila with uWSGI for contributors.

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: I8e68619b00255197b3d3cf6796c60d1a3a04ff36
(cherry picked from commit 7a1414977f1f1699b000ff04ed0e0d32853d1185)
(cherry picked from commit 8f5d81586ead346c6cde995d7baf2910663f7211)
"
openstack%2Fpuppet-magnum~master~I9e2fa1f42900ab1e504e3c6a54b18061e31e5694,openstack/puppet-magnum,master,bug/1892284,I9e2fa1f42900ab1e504e3c6a54b18061e31e5694,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-21 00:14:18.000000000,2020-08-21 00:13:06.000000000,19,0,0,747081,b422537ec90dc3a32019d00dbdde65c8803618b7,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I9e2fa1f42900ab1e504e3c6a54b18061e31e5694
Closes-Bug: #1892284
"
openstack%2Fpuppet-vitrage~master~I004d2c8e9bc1ce82d21d71b8b8b5c95816a0104c,openstack/puppet-vitrage,master,bug/1892284,I004d2c8e9bc1ce82d21d71b8b8b5c95816a0104c,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-21 00:09:02.000000000,2020-08-21 00:07:38.000000000,19,0,0,747086,10ce01e3c9915c8f5db67d88149f73b7ae1b7858,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I004d2c8e9bc1ce82d21d71b8b8b5c95816a0104c
Closes-Bug: #1892284
"
openstack%2Fceilometer~stable%2Fussuri~Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338,openstack/ceilometer,stable/ussuri,,Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338,Run migration with NotFound exception as well,MERGED,2020-08-19 20:42:53.000000000,2020-08-21 00:06:07.000000000,2020-08-21 00:04:12.000000000,1,1,1,747033,e92e4347aa24291571eb66e6a5ccad488bf5d57c,12,5,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Run migration with NotFound exception as well

Gnocchi start returning regular 404 when requesting resource that do not
exist [1]. That means, that in case of 404, which is also excpected,
we just fail resource creation.

[1] http://paste.openstack.org/show/796938/

Change-Id: Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338
(cherry picked from commit 648ce9b6687e43d504d53111725200734053357e)
"
openstack%2Fpuppet-ec2api~master~I0376fd70a261413621726b82524f57ab59b1c73e,openstack/puppet-ec2api,master,bug/1892284,I0376fd70a261413621726b82524f57ab59b1c73e,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 23:59:34.000000000,2020-08-20 23:58:03.000000000,19,0,0,747087,69e3ae15e4248c50aacf5e10c2becddb11c5508d,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I0376fd70a261413621726b82524f57ab59b1c73e
Closes-Bug: #1892284
"
openstack%2Fpuppet-sahara~master~I08be47f277fa47498b54c3084a76aefee82eea58,openstack/puppet-sahara,master,bug/1892284,I08be47f277fa47498b54c3084a76aefee82eea58,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 23:58:55.000000000,2020-08-20 23:57:43.000000000,19,0,0,747082,f2eba4634b73c27ec6b5282f0d2fcbd7890f463d,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I08be47f277fa47498b54c3084a76aefee82eea58
Closes-Bug: #1892284
"
openstack%2Fpuppet-mistral~master~Ibd8a469428cf99cdafb3668e00c3b05b4762e7eb,openstack/puppet-mistral,master,bug/1892284,Ibd8a469428cf99cdafb3668e00c3b05b4762e7eb,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:48.000000000,2020-08-20 23:52:29.000000000,2020-08-20 23:51:04.000000000,19,0,0,747090,e361bf81816c130bedf3b0c96385108fee1729a3,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: Ibd8a469428cf99cdafb3668e00c3b05b4762e7eb
Closes-Bug: #1892284
"
openstack%2Fmanila~master~I667a26cbf9ea93509718b71dadc8fb304fbca855,openstack/manila,master,bug/1843953,I667a26cbf9ea93509718b71dadc8fb304fbca855,Add api-ref for share network subnets,MERGED,2019-10-07 17:17:24.000000000,2020-08-20 23:35:47.000000000,2020-08-20 22:43:47.000000000,773,35,209,687108,de62a36e3fcb77391d62e7e30a6e45a258aba5f7,46,12,5,23,29632,Carlos Eduardo,silvacarlos,"Add api-ref for share network subnets

This patch updates the API reference to fit into the changes that
were done in order to implement share networks with multiple
subnets.

Change-Id: I667a26cbf9ea93509718b71dadc8fb304fbca855
Partial-Bug: #1843953
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,openstack/tripleo-ansible,stable/train,container/configs-stable/ussuri-stable/train,I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,Create tripleo_container_config_scripts module,MERGED,2020-08-19 21:20:24.000000000,2020-08-20 23:34:02.000000000,2020-08-20 23:32:05.000000000,201,0,0,747042,90e15f4bbc4f4869cf5b2ddab289920bc356ab5d,13,3,4,5,3153,Emilien Macchi,emilienm,"Create tripleo_container_config_scripts module

This module will help to simplify the task that creates the container
config scripts, generated via config download.

It'll replace the loop in THT that iterate over a file to create the
scripts and their content, and executer faster on module.

Change-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74
(cherry picked from commit b6f979ca1e195a9dfd9daf2279c90caaa6791c3d)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,openstack/tripleo-ansible,stable/ussuri,container/configs-stable/ussuri,I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,Create tripleo_container_config_scripts module,MERGED,2020-08-19 21:20:14.000000000,2020-08-20 23:25:40.000000000,2020-08-20 23:23:51.000000000,201,0,0,747041,486133036dc7347a4527e5ee84708f36c7144c15,9,3,1,5,3153,Emilien Macchi,emilienm,"Create tripleo_container_config_scripts module

This module will help to simplify the task that creates the container
config scripts, generated via config download.

It'll replace the loop in THT that iterate over a file to create the
scripts and their content, and executer faster on module.

Change-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74
(cherry picked from commit b6f979ca1e195a9dfd9daf2279c90caaa6791c3d)
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I209ec1013d941c989bb14ef06779cdbf22cfcc0f,openstack/python-tripleoclient,stable/ussuri,cells-stable/ussuri,I209ec1013d941c989bb14ef06779cdbf22cfcc0f,overcloud_cell: fix location of config-download,MERGED,2020-08-18 21:20:45.000000000,2020-08-20 23:14:43.000000000,2020-08-20 23:13:14.000000000,3,5,0,746801,018ef1218fe90f286c21932809a7366bf14ed7e0,14,3,2,1,7353,Kevin Carter,cloudnull,"overcloud_cell: fix location of config-download

config-download was moved to the home directory and not in
/var/lib/mistral anymore.

Change-Id: I209ec1013d941c989bb14ef06779cdbf22cfcc0f
Closes-Bug: #1891932
(cherry picked from commit 83677d700e368dcad0de1db85fc707f3acb86a37)
"
openstack%2Fcharm-gnocchi~master~I50fd881400d4c1bf4beaa70d75af34c28c98ea41,openstack/charm-gnocchi,master,external-cert,I50fd881400d4c1bf4beaa70d75af34c28c98ea41,Add trusted-external-ca-cert option,MERGED,2020-08-17 16:32:41.000000000,2020-08-20 22:46:41.000000000,2020-08-20 22:46:41.000000000,38,0,14,746562,6820332c8032a38350846822c9b3856ac6481a5e,47,6,10,5,30670,Camille Rodriguez,crodriguez,"Add trusted-external-ca-cert option

To connect to an external S3 endpoint with encryption,
a root CA needs to be installed on the gnocchi units.

Func-test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/393
Change-Id: I50fd881400d4c1bf4beaa70d75af34c28c98ea41
"
openstack%2Fzun~stable%2Fussuri~Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f,openstack/zun,stable/ussuri,bug/1889187,Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f,Dep's should be restricted by upper-constraints,MERGED,2020-08-20 16:02:14.000000000,2020-08-20 22:43:41.000000000,2020-08-20 22:41:41.000000000,3,2,0,747232,d5511fd828832886a37fd2d3cb133942b81c2a8e,7,2,1,2,31916,vinay harsha mitta,vinay_m,"Dep's should be restricted by upper-constraints

Tox trying to install latest versions for building docs which may
not be supported by stable and lower branches, so should be
restricted by respective version's upper-constraints.txt

Change-Id: Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f
Closes-Bug: #1889187
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1790444d289d057e9a3f612c53efe485080978b5,openstack/tripleo-heat-templates,stable/train,unbundle_bootstraphost-stable/train,I1790444d289d057e9a3f612c53efe485080978b5,Fix HA resource restart when no replicas are running,MERGED,2020-08-19 15:10:49.000000000,2020-08-20 22:41:35.000000000,2020-08-20 22:41:35.000000000,9,2,0,746957,fffbdc0df115ed7f442620e4fff22fcacd595e70,7,4,1,1,20172,Michele Baldessari,michele,"Fix HA resource restart when no replicas are running

When the helper script pacemaker_restart_bundle.sh is called
during a stack update, it restarts the pacemaker resource via
a ""pcs resource restart <name>"".

When all the replicas are stopped due to a previous error,
pcs won't restart them because there is nothing to stop. In
that case, one must use ""pcs resource cleanup <name>"".

(cherry picked from commit ba471ee461b125e2aa53c485ab61dc467bf7d858)

Closes-Bug: #1889395
Change-Id: I1790444d289d057e9a3f612c53efe485080978b5
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia850286682f09cd75651591a1158c2e467343c1d,openstack/tripleo-heat-templates,stable/train,unbundle_bootstraphost-stable/train,Ia850286682f09cd75651591a1158c2e467343c1d,Drop bootstrap_host_exec from pacemaker_restart_bundle,MERGED,2020-08-19 14:34:18.000000000,2020-08-20 22:41:33.000000000,2020-08-20 22:41:33.000000000,9,2,0,746937,da6b7b424c2eb709e22cf1d809bde405cf8e818c,15,5,1,1,20172,Michele Baldessari,michele,"Drop bootstrap_host_exec from pacemaker_restart_bundle

bootstrap_host_exec does not exist on the host so we cannot assume its
existence. Since, barring argument checking, it is three lines of shell
script [1] we just use it directly. We also add an extra echo to make it
simpler to debug any bootstrap vs non-bootstrap issued.

[1] https://github.com/openstack/tripleo-common/blob/master/scripts/bootstrap_host_exec

Change-Id: Ia850286682f09cd75651591a1158c2e467343c1d
Related-Bug: #1863442
(cherry picked from commit 4d8eb351147c359a6a2dea4ee43b247c3be59da8)
"
openstack%2Frequirements~master~Ib78a5cd7b96903033906fa9b0429b1dce31904a5,openstack/requirements,master,openstack/requirements/constraints/noclob,Ib78a5cd7b96903033906fa9b0429b1dce31904a5,Updated from generate-constraints,MERGED,2020-08-19 06:17:56.000000000,2020-08-20 22:15:28.000000000,2020-08-20 22:13:52.000000000,4,4,0,746837,258cf2cb18e66b70511662402dbb6652a5e0fc31,32,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ib78a5cd7b96903033906fa9b0429b1dce31904a5
"
openstack%2Foctavia~stable%2Fussuri~I49e92f81b23e0b306c62c406a45029b96dce20df,openstack/octavia,stable/ussuri,sec-grp-rule-quota-stable/ussuri,I49e92f81b23e0b306c62c406a45029b96dce20df,Increase the devstack secuirty group rules quota,MERGED,2020-08-20 15:07:24.000000000,2020-08-20 22:03:53.000000000,2020-08-20 22:01:34.000000000,3,2,0,747201,17c22145443ab2f8456e1ab4d738861a6d3b8d7e,12,4,1,1,11628,Michael Johnson,johnsom,"Increase the devstack secuirty group rules quota

Recent changes to the Octavia tempest tests has caused our test
runs to exceed the default neutron security group rule quota.
This patch increases that quota for the Octavia project in devstack.

Change-Id: I49e92f81b23e0b306c62c406a45029b96dce20df
(cherry picked from commit 2e2464d778cc86df161fdf59406aac30770b58f0)
"
openstack%2Fironic-inspector~master~I8e7afee669b32de40b191990f693bf86e59a3e3c,openstack/ironic-inspector,master,task/40645,I8e7afee669b32de40b191990f693bf86e59a3e3c,Log outcome of `check_conditions` method.,MERGED,2020-08-11 12:34:30.000000000,2020-08-20 21:57:29.000000000,2020-08-20 21:55:54.000000000,11,2,0,745663,17f58aad67f11b84ebe977fd6544a18f340b4ba6,10,5,1,1,31258,Zygimantas Matonis,gudrutis,"Log outcome of `check_conditions` method.

Added logging to log
IntrospectionRule.check_conditions method
outcome for debugging purposes.

Change-Id: I8e7afee669b32de40b191990f693bf86e59a3e3c
Story: 2006995
Task: 40645
"
openstack%2Fcharm-octavia~stable%2F20.08~I86e94f5a9fb4823f612718d5ef16fa9d263f3749,openstack/charm-octavia,stable/20.08,bug/1891639,I86e94f5a9fb4823f612718d5ef16fa9d263f3749,Fix setuptools-scm's version range,MERGED,2020-08-19 12:36:49.000000000,2020-08-20 21:56:40.000000000,2020-08-20 19:12:46.000000000,2,2,0,746908,4cb3409e8929b5a5d90d4f24e1e3a23194c7cad6,17,3,1,1,31289,Aurelien Lourot,lourot,"Fix setuptools-scm's version range

Because of this typo we ended up installing version 4 instead of 3

(cherry picked from commit 009dd33942938cc29acfbd1ad267352b9d0c7fba)

This triggers a rebuild and picks
https://github.com/juju-solutions/layer-basic/pull/188 which resolves
the linked bug.

Change-Id: I86e94f5a9fb4823f612718d5ef16fa9d263f3749
Closes-Bug: #1891639
"
openstack%2Fpuppet-tacker~master~Ie60c7f08326712fed4458f9bee48ff1598eec224,openstack/puppet-tacker,master,bug/1892284,Ie60c7f08326712fed4458f9bee48ff1598eec224,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 21:53:53.000000000,2020-08-20 21:52:23.000000000,19,0,0,747085,9c9f14516ce4a202daa83475256a00dda11389f5,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: Ie60c7f08326712fed4458f9bee48ff1598eec224
Closes-Bug: #1892284
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3,openstack/tripleo-ansible,stable/train,bug/1888508,Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3,Set ceph_ansible_limit to ansible_limit if ansible_limit defined,MERGED,2020-08-17 14:42:39.000000000,2020-08-20 21:50:20.000000000,2020-08-20 21:50:20.000000000,9,0,1,746520,a4dbf8ed6956bd6e0c3b2b7b8bddd1fabd322156,20,5,3,3,18002,John Fulton,fultonj,"Set ceph_ansible_limit to ansible_limit if ansible_limit defined

The 'openstack overcloud deploy ... --limit' command passes
the Ansible limit to the run of the config-download Ansible
but not to the run of ceph-ansible. To limit ceph-ansible
it's possible to override ceph_ansible_limit (an Ansible
variable) but, as per the bug this patch closes, this is
not possible via the deploy option of the tripleo client.
However, this patch makes it possible by having the variable
ceph_ansible_limit inherit the value of --limit but only
if it is passed. For backwards compatibility the inheritance
does not happen if ceph_ansible_limit is already defined.

Also, pass ceph_ansible_limit to the executions of the
machine unique UUID gather playbook and remote_tmp playbook.

Change-Id: Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3
Closes-Bug: 1888508
(cherry picked from commit 872233241bc2cdbd9a17cc61eff1d89f36e458d1)
"
openstack%2Fpuppet-cloudkitty~master~I4ad7ca9594d5abee2cf641ec77e6bf8328ffe08e,openstack/puppet-cloudkitty,master,bug/1892284,I4ad7ca9594d5abee2cf641ec77e6bf8328ffe08e,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 21:45:42.000000000,2020-08-20 21:44:19.000000000,19,0,0,747084,4287abd8706450d0b0b4f34cae24cdf171fd992d,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I4ad7ca9594d5abee2cf641ec77e6bf8328ffe08e
Closes-Bug: #1892284
"
openstack%2Fsushy~master~I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4,openstack/sushy,master,,I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4,Remove auth token header completely when error occurs,MERGED,2020-08-18 16:57:58.000000000,2020-08-20 21:45:27.000000000,2020-08-20 21:20:57.000000000,51,11,1,746768,ec5ceefd678b7c7ec3585ae6cd6d63d06a048e62,19,6,2,6,11655,Julia Kreger,jkreger,"Remove auth token header completely when error occurs

While investigating a report indicating session incompatability with
Cisco BMCs, I noticed we didn't completely invalidate the session
token, and only set it to None for the request to obtain a new
token. This may not actually fix anything, but an authentication
error should completely invalidate any cached authentication data
force us through re-authentication.

Additionally, we have a bit of a lack of debug and error logging
around the session retry logic in general. Without additional
logging, we have no way to really figure out exactly what
is occuring with the BMC when we attempt to reauthenticate
the session.

Change-Id: I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4
"
openstack%2Fpuppet-glare~master~I29e8d699eb34c4d89302d9b0ff08562353c1e4a1,openstack/puppet-glare,master,bug/1892284,I29e8d699eb34c4d89302d9b0ff08562353c1e4a1,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 21:42:31.000000000,2020-08-20 21:39:58.000000000,19,0,0,747089,6034694981001c35595a47940954cb160563fa6e,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I29e8d699eb34c4d89302d9b0ff08562353c1e4a1
Closes-Bug: #1892284
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I2ea2b77bcf1be66a57cfb22463b81189ef2802f1,openstack/tripleo-ansible,stable/train,train/label,I2ea2b77bcf1be66a57cfb22463b81189ef2802f1,Use label rather than no_log,MERGED,2020-08-11 14:08:21.000000000,2020-08-20 21:37:22.000000000,2020-08-20 21:37:21.000000000,26,13,0,745680,bba497d40d522ebccad6a688aade0e227aa60eae,40,6,8,9,3153,Emilien Macchi,emilienm,"Use label rather than no_log

We can prevent having to hide sensitive data while being able to provide
a more descriptive output for what task is being executed by using the
label loop_control attribute.

https://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label

Change-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1
(cherry picked from commit 1920faf816df2a001d7325306c8da94ece5216e1)
"
openstack%2Fpuppet-senlin~master~I2151e4d19ae73b246ccd32189ff800c339cd10c1,openstack/puppet-senlin,master,bug/1892284,I2151e4d19ae73b246ccd32189ff800c339cd10c1,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 21:36:14.000000000,2020-08-20 21:34:50.000000000,19,0,0,747078,222152a595781c3cdc5cddf5e1a31979f96149d7,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I2151e4d19ae73b246ccd32189ff800c339cd10c1
Closes-Bug: #1892284
"
openstack%2Fpuppet-freezer~master~Iab41f836366d42d16b6c3dc9e47db381992d6fcc,openstack/puppet-freezer,master,bug/1892284,Iab41f836366d42d16b6c3dc9e47db381992d6fcc,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 21:36:13.000000000,2020-08-20 21:34:19.000000000,19,0,0,747079,ff3485b67f35ac8966d6de642e5dfbfeacd9a979,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: Iab41f836366d42d16b6c3dc9e47db381992d6fcc
Closes-Bug: #1892284
"
openstack%2Fkayobe~stable%2Ftrain~I849d9b09e973316308e574c447a78868e93a5420,openstack/kayobe,stable/train,,I849d9b09e973316308e574c447a78868e93a5420,Skip broken ansible-lint,MERGED,2020-08-19 12:28:55.000000000,2020-08-20 21:14:33.000000000,2020-08-20 21:12:29.000000000,1,1,0,746907,28cf998a204a87a03d735c53ef5d7c3b107fb969,13,4,1,1,15197,Pierre Riteau,priteau,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I849d9b09e973316308e574c447a78868e93a5420
(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)
"
openstack%2Fproject-config~master~Ib6dadc423a0b794bcf85b70add1eeae8974aad79,openstack/project-config,master,puppet-tripleo,Ib6dadc423a0b794bcf85b70add1eeae8974aad79,Re-introduce puppet-tripleo-core group,MERGED,2020-08-18 16:21:14.000000000,2020-08-20 21:06:56.000000000,2020-08-20 21:00:23.000000000,15,1,4,746759,8e169c45edcb23ab0a26e5b78b0d515396eb48fb,23,7,5,2,3153,Emilien Macchi,emilienm,"Re-introduce puppet-tripleo-core group

Creating new ACLs for puppet-tripleo project, so we can have a group of
cores dedicated to that repo, and include the tripleo-core group
maintainer of that project as well.

It'll allow the TripleO project to have finer gerrit permissions for
folks who are only core on puppet-tripleo.

Change-Id: Ib6dadc423a0b794bcf85b70add1eeae8974aad79
"
openstack%2Fdiskimage-builder~master~Ifb18c4243aa08055d98602aa4fdb30b16dae061d,openstack/diskimage-builder,master,,Ifb18c4243aa08055d98602aa4fdb30b16dae061d,"Revert ""source-repositories: git is a build-only dependency""",MERGED,2020-08-19 19:22:05.000000000,2020-08-20 20:40:33.000000000,2020-08-20 20:37:48.000000000,3,2,0,747025,f09324461101765c81111e5315bfc87f497b6e0a,38,13,1,1,4162,Paul Belanger,pabelanger,"Revert ""source-repositories: git is a build-only dependency""

This breaks having git as a package-install in other elements. And results in diskimage-builder always erasing git on the image.

This reverts commit 3c650255590d7dcded8699cd01e198f6ce4c6c8e.

Change-Id: Ifb18c4243aa08055d98602aa4fdb30b16dae061d
"
openstack%2Freleases~master~Ie0791724cff7308cb419ba046e65e0f48f70b67e,openstack/releases,master,,Ie0791724cff7308cb419ba046e65e0f48f70b67e,Source the related tox environment,ABANDONED,2020-08-20 14:39:06.000000000,2020-08-20 20:39:30.000000000,,4,2,1,747186,c7af5a017a3c53932a5abb09c08475a1f6ca464a,10,3,1,1,28522,Hervé Beraud,hberaud,"Source the related tox environment

These changes allow us to call script from anywhere even if we are
in a different repo that also contains a tox virtual environment.

With these changes we ensure us to load the right env by retrieving
the full path relative to our script file.

Change-Id: Ie0791724cff7308cb419ba046e65e0f48f70b67e
"
openstack%2Foctavia~stable%2Ftrain~I49e92f81b23e0b306c62c406a45029b96dce20df,openstack/octavia,stable/train,sec-grp-rule-quota-stable/ussuri-stable/train,I49e92f81b23e0b306c62c406a45029b96dce20df,Increase the devstack secuirty group rules quota,MERGED,2020-08-20 15:07:29.000000000,2020-08-20 20:31:51.000000000,2020-08-20 20:30:04.000000000,3,2,0,747202,40777222b91028412c8b2a96230ec284d99620e1,10,3,1,1,11628,Michael Johnson,johnsom,"Increase the devstack secuirty group rules quota

Recent changes to the Octavia tempest tests has caused our test
runs to exceed the default neutron security group rule quota.
This patch increases that quota for the Octavia project in devstack.

Change-Id: I49e92f81b23e0b306c62c406a45029b96dce20df
(cherry picked from commit 2e2464d778cc86df161fdf59406aac30770b58f0)
"
openstack%2Fcinder~stable%2Fussuri~I88f6fb78235a40529647baf1e7564c08d8fb85f2,openstack/cinder,stable/ussuri,743223,I88f6fb78235a40529647baf1e7564c08d8fb85f2,PowerMax Driver - Volume Migrate Exception Handling,MERGED,2020-07-27 13:14:52.000000000,2020-08-20 20:25:16.000000000,2020-08-20 11:00:05.000000000,907,227,12,743223,4ee343044f305b198297bbdf1f0eefb6151e86b0,64,21,2,6,12670,Helen Walsh,walshh2,"PowerMax Driver - Volume Migrate Exception Handling

Add additional exception handling to _migrate_volume
and its related methods to attempt to rollback to
previous state if an exception is raised.
Also change exception message type when handling REST
request that times out when no failover settings
are present.

Change-Id: I88f6fb78235a40529647baf1e7564c08d8fb85f2
Closes-Bug: 1886662
Closes-Bug: 1874187
(cherry picked from commit 16373bfb47940582b598e68755d31410f41cda07)
"
openstack%2Fbifrost~master~I4e770d1504d2fd544eb637d20fc6c742218060fb,openstack/bifrost,master,validate,I4e770d1504d2fd544eb637d20fc6c742218060fb,Validate that the services are running after installation,MERGED,2020-07-28 15:54:12.000000000,2020-08-20 20:10:04.000000000,2020-08-20 20:07:57.000000000,96,0,10,743569,df33abf96b85f3a112e1a4fbf3ece1ce4eec6722,31,6,7,4,10239,Dmitry Tantsur,dtantsur,"Validate that the services are running after installation

We do it in test-bifrost, but not during a normal installation.

Change-Id: I4e770d1504d2fd544eb637d20fc6c742218060fb
"
openstack%2Fos-brick~stable%2Fqueens~Id507109df80391699074773f4787f74507c4b882,openstack/os-brick,stable/queens,,Id507109df80391699074773f4787f74507c4b882,rbd: Use showmapped to find the root RBD device during disconnect_volume,MERGED,2020-04-15 10:38:29.000000000,2020-08-20 20:05:37.000000000,2020-08-20 20:05:37.000000000,74,11,0,720181,9e30e5155d00a9cd18ebec6de1b5c1834cb33d97,21,9,1,2,10135,Lee Yarwood,lyarwood,"rbd: Use showmapped to find the root RBD device during disconnect_volume

The original method of unmapping the higher level RBD device found under
/dev/rbd/{pool}/{volume} fails when an encryptor has been attached to
the volume locally. This is due to a symlink being created that points
to the the decrypted dm-crypt device, breaking any attempt to unmap the
RBD volume.

To avoid this we can simply find and unmap the lower level RBD device of
/dev/rbd*.

Change-Id: Id507109df80391699074773f4787f74507c4b882
(cherry picked from commit 9415b3b41f55b66bee589bc8ff5f1c789d8a5d0e)
(cherry picked from commit 36b207239b2dd4b3cad2b79d7ae32f4084c36403)
(cherry picked from commit 3ce686a9fa41210fb4c08017220ce063cc869c75)
(cherry picked from commit fcff1e0cb292a461b933bdc70dd21b4057711bca)
"
openstack%2Fironic~bugfix%2F15.2~I3a6ea2e250e3a85505ffbb46bbb8f44c69ad67fa,openstack/ironic,bugfix/15.2,create-15.2,I3a6ea2e250e3a85505ffbb46bbb8f44c69ad67fa,Update TOX_CONSTRAINTS_FILE for bugfix/15.2,MERGED,2020-08-18 20:47:22.000000000,2020-08-20 20:01:10.000000000,2020-08-20 19:58:11.000000000,5,5,0,746797,479cde2070c4c1d5c6302f1911656b1641dfe7bf,12,5,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for bugfix/15.2

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I3a6ea2e250e3a85505ffbb46bbb8f44c69ad67fa
"
openstack%2Fironic-python-agent~bugfix%2F6.3~I62ca56b861506f2a23b4b9621d8711bf01346d4e,openstack/ironic-python-agent,bugfix/6.3,create-6.3,I62ca56b861506f2a23b4b9621d8711bf01346d4e,Update TOX_CONSTRAINTS_FILE for bugfix/6.3,MERGED,2020-08-18 20:42:59.000000000,2020-08-20 19:52:15.000000000,2020-08-20 19:50:35.000000000,1,1,0,746795,34f409ba2fe2366d052a0755fe9fa2fc61cc448d,10,4,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for bugfix/6.3

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I62ca56b861506f2a23b4b9621d8711bf01346d4e
"
openstack%2Fopenstack-helm~master~I1e93587da2b4889118f2b941c89e7d3adee2b7c8,openstack/openstack-helm,master,,I1e93587da2b4889118f2b941c89e7d3adee2b7c8,Add volumemounts to cinder-backup container,MERGED,2020-08-20 14:16:32.000000000,2020-08-20 19:31:06.000000000,2020-08-20 19:28:12.000000000,4,0,0,747173,32218070420f3221b00655beb1dcbe6ae8aff12b,18,9,4,1,29161,Rahul Khiyani,rk0850,"Add volumemounts to cinder-backup container

Adding volumemounts to allow cinder to access /var/lib/cinder/tmp

Change-Id: I1e93587da2b4889118f2b941c89e7d3adee2b7c8
"
openstack%2Fovsdbapp~master~Ie8ae8f5efae2afb958ed2010053ff04372cc1c51,openstack/ovsdbapp,master,ovn/port_forwarding,Ie8ae8f5efae2afb958ed2010053ff04372cc1c51,OVNNB backend: Fix LbDelCommand when using vip param,MERGED,2020-05-08 21:53:46.000000000,2020-08-20 19:30:56.000000000,2020-05-15 22:02:10.000000000,42,9,3,726478,8cb3b56fa9022254d60a15125f86f6e8a7e16041,22,4,3,3,11952,Flavio Fernandes,ffernand,"OVNNB backend: Fix LbDelCommand when using vip param

Fix issue in ovn_northbound LbDelCommand where logic
for removing vip while using if_exists=True was not
doing the right thing.

In order to be consistent with as ovn-nbctl [1], this
change also introduces a modified behavior. When the
last vip is removed, it will also remove the load
balancer instance.

[1]: https://github.com/ovn-org/ovn/blob/1e2f4aaab67090935bba6347358ad9c56b0868bf/utilities/ovn-nbctl.c#L2870

Closes-Bug: #1877673
Change-Id: Ie8ae8f5efae2afb958ed2010053ff04372cc1c51
"
openstack%2Fcharm-manila-generic~master~I91ae66a5903c23c663243dfd10270d04325e5e39,openstack/charm-manila-generic,master,enable-focal,I91ae66a5903c23c663243dfd10270d04325e5e39,Add bionic-ussuri and focal-ussuri test bundles,MERGED,2020-06-17 15:51:01.000000000,2020-08-20 19:22:49.000000000,2020-08-20 19:22:49.000000000,130,2,0,736275,211a5dbae5877de41ebacbd7aa3f739989ba3cb4,33,5,6,3,20870,Alex Kavanagh,ajkavanagh,"Add bionic-ussuri and focal-ussuri test bundles

Also switch the smoke bundle to focal-ussuri as that will be the LTS on
focal.

Change-Id: I91ae66a5903c23c663243dfd10270d04325e5e39
Closes-Bug: #1879684
"
openstack%2Fironic~master~Ie8e1cbc5a9c026d11663b2e38794b41d799983fe,openstack/ironic,master,,Ie8e1cbc5a9c026d11663b2e38794b41d799983fe,Get extra logging output,ABANDONED,2020-08-03 15:56:37.000000000,2020-08-20 19:22:42.000000000,,22,1,0,744517,7a559507c1557257b4ef488a58286e69a44b111d,10,5,1,4,11655,Julia Kreger,jkreger,"Get extra logging output

At some point we stopped getting kernel logs
And statistics from the kernel packet filtering...

And this sort of information is vital to piece together
the what and why various things happened when dealing with
""virtual"" baremetal.

Change-Id: Ie8e1cbc5a9c026d11663b2e38794b41d799983fe
"
openstack%2Ftripleo-upgrade~stable%2Fussuri~Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,openstack/tripleo-upgrade,stable/ussuri,ffwd-upgrade2-stable/ussuri,Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,FFWD: L3 fixup,MERGED,2020-08-20 14:52:26.000000000,2020-08-20 19:21:27.000000000,2020-08-20 19:21:27.000000000,36,136,0,747195,ddd3c16512dfbfa2965b1503f58bfefaa3283890,6,2,1,3,6816,Jesse Pretorius,jesse-pretorius,"FFWD: L3 fixup

Before we fix workload accounting and l3 test scripts we need to
remove extra wokload test during FFWD.

Change-Id: Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0
(cherry picked from commit 854f084fbf7dc71e702dc3c578db0e8283edf5b5)
"
openstack%2Fsushy~master~I3e28a3c11160fbe6fa6fe21c0f087f33d832839c,openstack/sushy,master,,I3e28a3c11160fbe6fa6fe21c0f087f33d832839c,Include extended information in debugging output,MERGED,2020-08-12 18:19:21.000000000,2020-08-20 19:17:16.000000000,2020-08-20 19:15:26.000000000,2,1,0,745944,d73c2af910de789cb0cf906f59904423f9a197e7,15,5,1,1,11655,Julia Kreger,jkreger,"Include extended information in debugging output

In order to help developers and operators kind of gain a
better understanding of what might be happening, we should
log the extended information.

OEM libraries extending upon sushy should be returning this
information in the errors surfaced, as applicable, however
that is not always possible so debug does seem a moderately
reasonable middle ground.

Change-Id: I3e28a3c11160fbe6fa6fe21c0f087f33d832839c
"
openstack%2Fcinder~stable%2Fussuri~Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72,openstack/cinder,stable/ussuri,,Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72,Remove unnecessary releasenote,MERGED,2020-08-19 22:35:41.000000000,2020-08-20 18:59:56.000000000,2020-08-20 04:58:44.000000000,0,6,0,747055,0471fab3495928efcc1baacda1c5a07c457ca966,16,11,1,1,27615,Rajat Dhasmana,whoami-rajat,"Remove unnecessary releasenote

This was introduced as a regression of [1] which is a fix in victoria
and never released. So this releasenote is not needed.

[1] https://review.opendev.org/#/c/726471/

Change-Id: Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72
(cherry picked from commit 9ae4e48279e8ffad1676a38fe2466ccdacb0427a)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I96453d9236cb92922b058d697be8d8696f279c66,openstack/tripleo-ansible,stable/train,deps/mol,I96453d9236cb92922b058d697be8d8696f279c66,Prepare tripleo deps repo in tripleo_client_install molecule job,MERGED,2020-08-20 13:35:42.000000000,2020-08-20 18:58:08.000000000,2020-08-20 18:58:08.000000000,2,0,0,747162,dcc28fac073273a03799940a6e6cdab581b477af,18,6,2,1,3153,Emilien Macchi,emilienm,"Prepare tripleo deps repo in tripleo_client_install molecule job

Change-Id: I96453d9236cb92922b058d697be8d8696f279c66
Closes-Bug: #1884696
Closes-Bug: #1892368
(cherry picked from commit c70a5c8f08f697a29c42eb8ee3ddf376fec1c860)
(cherry picked from commit 3b0868e46cbc935e4fa1d55e216d8df823908963)
"
openstack%2Fnova~stable%2Fussuri~I4c89c8ba0153ec01ff57979b9bf1cfd5b2a9da89,openstack/nova,stable/ussuri,bug/1879787,I4c89c8ba0153ec01ff57979b9bf1cfd5b2a9da89,Handle Neutron errors in _post_live_migration(),ABANDONED,2020-08-17 14:53:39.000000000,2020-08-20 18:23:12.000000000,,10,7,0,746529,1e95da0267a72143e3c9322abdcbe1a5efb1c6d2,9,6,1,2,8864,Artom Lifshitz,artom,"Handle Neutron errors in _post_live_migration()

_post_live_migration() on the destination host has a call to
self.network_api.get_instance_nw_info(), which eventually ends up
calling the Neutron REST API (via
nova.network.neutron.API._build_network_info_model()). Any exceptions
in that call were unhandled, and caused both the server and the
migration to end up in ERROR. This patch handles the error, and
modifies the functional test to reflect the newly fixed behavior.

Closes-bug: 1879787
Change-Id: I4c89c8ba0153ec01ff57979b9bf1cfd5b2a9da89
(cherry picked from commit 9f205c620e57c9af760d3b52c93a4ff6d5c0e618)
"
openstack%2Frpm-packaging~master~If55a0df907f99f4d6610ff6bc91547157f7356cd,openstack/rpm-packaging,master,,If55a0df907f99f4d6610ff6bc91547157f7356cd,update dependencies to follow the package renaming on SUSE side,MERGED,2020-08-18 12:55:53.000000000,2020-08-20 18:22:39.000000000,2020-08-20 18:22:39.000000000,4,4,0,746707,fdd4d80042f05a16a7af41f90c9fe10d8f215503,11,7,1,2,6593,Dirk Mueller,dmllr,"update dependencies to follow the package renaming on SUSE side

the SUSE python team apparently decided to follow safename going
forward. This will be a long journey, for now, python-importlib_metadata
has been renamed to python-importlib-metadata. probably 200+ more
renames to follow.

Change-Id: If55a0df907f99f4d6610ff6bc91547157f7356cd
"
openstack%2Frpm-packaging~master~I73ac270f8b22bc2fb495a6bd0ed2b4fdb800fec7,openstack/rpm-packaging,master,,I73ac270f8b22bc2fb495a6bd0ed2b4fdb800fec7,stevedore: Update to 3.2.0,MERGED,2020-08-04 12:30:02.000000000,2020-08-20 18:22:38.000000000,2020-08-20 18:22:38.000000000,2,1,0,744694,afd4d78f2bef0dbeb76a37f0a6a99f7b78736e74,17,5,3,1,6593,Dirk Mueller,dmllr,"stevedore: Update to 3.2.0

Change-Id: I73ac270f8b22bc2fb495a6bd0ed2b4fdb800fec7
"
openstack%2Fec2-api~stable%2Ftrain~I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1,openstack/ec2-api,stable/train,,I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1,Fix AMI image registration,MERGED,2020-08-20 15:33:54.000000000,2020-08-20 18:21:06.000000000,2020-08-20 18:13:01.000000000,8,13,0,747215,f90157089654487af9a64fdbf73c76c6909c1bf3,10,2,1,1,10234,Andrey Pavlov,andrey-mp,"Fix AMI image registration

Change-Id: I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1
"
openstack%2Fheat~stable%2Fussuri~I0137bd73549ca47529a1707f9a3d077fc679ff8d,openstack/heat,stable/ussuri,,I0137bd73549ca47529a1707f9a3d077fc679ff8d,[DNM] Test Heat CI,ABANDONED,2020-08-12 14:14:55.000000000,2020-08-20 18:16:41.000000000,,1,0,0,745902,9962a14c17e5dd862ff10155bdd4b32c6033fe87,4,2,1,1,25877,Luke Short,ekultails,"[DNM] Test Heat CI

Change-Id: I0137bd73549ca47529a1707f9a3d077fc679ff8d
(cherry picked from commit 17d4fce1652d1713362bf6473d37429dc6c9b050)
"
openstack%2Fheat~stable%2Ftrain~I0137bd73549ca47529a1707f9a3d077fc679ff8d,openstack/heat,stable/train,,I0137bd73549ca47529a1707f9a3d077fc679ff8d,[DNM] Test Heat CI,ABANDONED,2020-08-12 14:15:26.000000000,2020-08-20 18:16:33.000000000,,1,0,0,745903,7c391a48de2f6822a666065b434b20d01730f68e,4,2,1,1,25877,Luke Short,ekultails,"[DNM] Test Heat CI

Change-Id: I0137bd73549ca47529a1707f9a3d077fc679ff8d
(cherry picked from commit 17d4fce1652d1713362bf6473d37429dc6c9b050)
(cherry picked from commit 9962a14c17e5dd862ff10155bdd4b32c6033fe87)
"
openstack%2Fcharm-neutron-api-plugin-arista~master~I18b57a85536b4077945fbaf5c1afe95a02d81344,openstack/charm-neutron-api-plugin-arista,master,bug/1890628,I18b57a85536b4077945fbaf5c1afe95a02d81344,"Add Rocky, Stein and Train support",MERGED,2020-08-19 10:03:17.000000000,2020-08-20 18:16:13.000000000,2020-08-20 18:16:13.000000000,373,145,8,746871,69829ab5487bae25084f356df674c6be079cc806,29,4,4,17,31289,Aurelien Lourot,lourot,"Add Rocky, Stein and Train support

Also removed unused/dangling config option and empty test class.

Change-Id: I18b57a85536b4077945fbaf5c1afe95a02d81344
Partial-Bug: #1890628
"
openstack%2Fwhitebox-tempest-plugin~master~I4d9330cf8abcb6ba3c0852e6ce3db732e468c6a5,openstack/whitebox-tempest-plugin,master,nova_sm_dns,I4d9330cf8abcb6ba3c0852e6ce3db732e468c6a5,Pass hostname to NovaServiceManager,MERGED,2020-08-17 21:23:43.000000000,2020-08-20 18:13:05.000000000,2020-08-20 18:13:05.000000000,74,52,16,746605,17185972008937fd45bc0fe3755a8e69f991a524,15,6,3,7,31033,James Parker,jparker,"Pass hostname to NovaServiceManager

Default TripleO deployments utilize compute domain names when looking up
nova service binaries, this lookup does not work when using a compute's
control plane IP address though. To allow the recent change [1] to run
downstream, this commit updates how parameters are passed to the init of
NovaServiceManager. The hostname is passed to NovaServiceManager instead
of the IP address.  During the init the compute's control plane IP
address is determined and passed to its SSHClient. When
NovaServiceManager attempts to access nova services, it uses the
compute's provided hostname now instead of the IP address.

The get_ctlplane_address() function was moved from api.compute.base to
utils, since services.clients now needs to leverage this functionality
as well. All test case calls of get_ctlplane_address() have been updated
to use the new module path. Unit test modules test_base and test_utils
were updated to reflect these changes.

Lastly test cases interfacing with NovaServiceManager have been updated
to store both the compute's hostname as well as it's associated control
plane IP address. Originally these tests only stored the compute's
control plane address.

[1] https://review.opendev.org/#/c/736820/

Change-Id: I4d9330cf8abcb6ba3c0852e6ce3db732e468c6a5
"
openstack%2Fcharm-ceph-rbd-mirror~master~I0a6f1de82ecc601509822277d657485e08dc893d,openstack/charm-ceph-rbd-mirror,master,enable-focal,I0a6f1de82ecc601509822277d657485e08dc893d,Add focal and ussuri bundles to the charm,MERGED,2020-04-02 16:01:34.000000000,2020-08-20 18:08:12.000000000,2020-08-20 18:08:12.000000000,461,2,1,717068,5199c767137fe4fa2abcd619221facad40c6defe,81,7,13,5,20870,Alex Kavanagh,ajkavanagh,"Add focal and ussuri bundles to the charm

This patch updates the bundles to include up to focal-ussuri.
The focal-ussuri bundle is in the dev bundles as it can't pass at the
moment due to LP: #1865754.

The bionic-ussuri bundle is in the dev bundles (i.e. not gate) as it
fails due to LP: #1892201

Also deal with the related bug where cinder-ceph requires the relation
with a nova-compute unit.

Related-Bug: #1881246
Related-Bug: #1865754
Related-Bug: #1892201
Change-Id: I0a6f1de82ecc601509822277d657485e08dc893d
"
openstack%2Fcharm-guide~master~Id612395620e74331c2c11006ef9224ce3defc859,openstack/charm-guide,master,ca-config-option-gnocchi,Id612395620e74331c2c11006ef9224ce3defc859,Add Gnocchi new config option in charm new features,MERGED,2020-08-19 14:44:51.000000000,2020-08-20 18:05:24.000000000,2020-08-20 18:03:17.000000000,8,0,5,746940,741d08445d22499f82fd290606d634cadd30ef5a,12,3,3,1,30670,Camille Rodriguez,crodriguez,"Add Gnocchi new config option in charm new features

The trusted-external-ca-cert is a new configuration option,
submitted via https://review.opendev.org/#/c/746562/.

Change-Id: Id612395620e74331c2c11006ef9224ce3defc859
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ib32d124a65f533283fa6b4f53e30db250d28dd78,openstack/tripleo-ansible,stable/train,train_senario001,Ib32d124a65f533283fa6b4f53e30db250d28dd78,[TRAIN ONLY] Trigger scenario001/004 for tripleo-ceph roles,MERGED,2020-08-20 14:45:46.000000000,2020-08-20 17:57:02.000000000,2020-08-20 17:57:02.000000000,2,2,0,747192,bb676dc990433c4d265859a4c2b69b95a0ac68a0,8,4,1,1,18002,John Fulton,fultonj,"[TRAIN ONLY] Trigger scenario001/004 for tripleo-ceph roles

The syntax of the zuul layout didn't correctly glob changes
to the roles for tripleo-ceph. Add missing '.' so it globs
correctly.

Change-Id: Ib32d124a65f533283fa6b4f53e30db250d28dd78
"
openstack%2Fceilometer~master~I07fcfeda3bfe1d68f2f99cb81ff69dedd704265a,openstack/ceilometer,master,,I07fcfeda3bfe1d68f2f99cb81ff69dedd704265a,Impelement meters publish to database,NEW,2019-11-28 08:20:15.000000000,2020-08-20 17:43:33.000000000,,2237,0,4,696470,8ef87db762f752ce5f984db29fc188361901081c,7,3,2,10,30601,dejianfu,fudejian,"Impelement meters publish to database

The ceilometer-collector service was removed in the previous version,
but meters need to be saved in database,
So add this function that meters publish to database.

Story: #2006894
Task: #37528
Change-Id: I07fcfeda3bfe1d68f2f99cb81ff69dedd704265a
"
openstack%2Fproject-config~master~I668bc85c3e7bd1faf3674c47ccd551c7a92af52c,openstack/project-config,master,pause-images,I668bc85c3e7bd1faf3674c47ccd551c7a92af52c,Pause all image builds,MERGED,2020-08-20 16:25:39.000000000,2020-08-20 17:26:39.000000000,2020-08-20 17:17:50.000000000,17,17,0,747241,37461abc86a972e5a16000970023a65f142d9603,7,3,1,2,4146,Clark Boylan,cboylan,"Pause all image builds

Pause all image builds until we can get git installed into them
reliably. Otherwise jobs break.

Change-Id: I668bc85c3e7bd1faf3674c47ccd551c7a92af52c
"
openstack%2Ftripleo-common~stable%2Ftrain~Id306243352f310f9054506577aa9bbce3790a7e5,openstack/tripleo-common,stable/train,,Id306243352f310f9054506577aa9bbce3790a7e5,Ensure atomic inventory file rename runs on the same mountpoint,MERGED,2020-08-19 06:44:58.000000000,2020-08-20 16:16:30.000000000,2020-08-20 16:08:11.000000000,10,2,0,746842,662b0acd91266d28bf3b0b7a4c68ba919182c56a,13,5,1,2,12393,chandan kumar,chkumar246,"Ensure atomic inventory file rename runs on the same mountpoint

Linux rename system call is only supported on the same mountpoint [1].
/tmp is often a tmpfs mount, so instead generate the temp inventory file in
the same directory as the target inventory file.

[1] See EXDEV in https://man7.org/linux/man-pages/man2/rename.2.html

Change-Id: Id306243352f310f9054506577aa9bbce3790a7e5
Closes-bug: #1892008
(cherry picked from commit fbd575cbe88400bad1ce4d37b914d7ae8a43e15c)
"
openstack%2Fvalidations-common~master~I94eadcecbae58ad322cc3028b315eab795711027,openstack/validations-common,master,,I94eadcecbae58ad322cc3028b315eab795711027,Switch legacy Zuul jobs to native Zuul v3 jobs,MERGED,2020-07-24 11:05:29.000000000,2020-08-20 16:08:12.000000000,2020-08-20 16:08:12.000000000,168,204,17,742853,b706d7c7c92eecd0aac5664288e43fb347eae782,22,6,3,14,16515,mbu,matbu,"Switch legacy Zuul jobs to native Zuul v3 jobs

See
https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html
for more details.

Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
Change-Id: I94eadcecbae58ad322cc3028b315eab795711027
"
openstack%2Freleases~master~I9e982394b9814eed4248e68eb92e853a2f415ed7,openstack/releases,master,victoria-cwi,I9e982394b9814eed4248e68eb92e853a2f415ed7,Switch heat-agents to cycle-with-rc,ABANDONED,2020-08-13 16:33:45.000000000,2020-08-20 16:04:17.000000000,,1,1,0,746191,af29583fae787536a4d06911e6038455f1cc1ef0,3,2,1,1,11904,Sean McGinnis,SeanM,"Switch heat-agents to cycle-with-rc

Deliverables following the cycle-with-intermediary model are expected
to release multiple times throughout the development cycle. Since
heat-agents only released once last cycle, and has not done a
release yet this cycle, this proposes changing the release model to
cycle-with-rc so the expectation is only that it will release an RC by
the end of the cycle prior to doing the final release.

This is just a suggestion for the team to consider. The important point
is past the milestone-2 point, downstream planning starts happening
for what will be included in the release. We just want to try to avoid
the situation where downstream expects something to be included, but we
need to unexpectedly drop it from the coordinated release late in the
cycle.

For the team, please respond to this patch in one of the following ways:

* -1 this patch and follow up with an intermediary release
* +1 this patch and we will switch over the release model
* -1 this patch, but acknowledge a release will be done prior to the
  RC1 deadline.

Change-Id: I9e982394b9814eed4248e68eb92e853a2f415ed7
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Ftripleo-common~stable%2Fussuri~I183082b44e3edff3672d1d55ffa84ba4cd5c0a74,openstack/tripleo-common,stable/ussuri,label3-stable/ussuri,I183082b44e3edff3672d1d55ffa84ba4cd5c0a74,tcib: rename kolla_version to tcib_managed,MERGED,2020-08-19 21:08:32.000000000,2020-08-20 15:50:56.000000000,2020-08-20 15:48:43.000000000,1,1,0,747037,ee720ed17fd5506835d44abb33d3f6c4268edd20,8,3,1,1,3153,Emilien Macchi,emilienm,"tcib: rename kolla_version to tcib_managed

To avoid confusion, do not use kolla_version label and use tcib_managed.
This is useful to filter images that are built by TCIB or not.

Depends-On: https://review.opendev.org/#/c/740298/
Change-Id: I183082b44e3edff3672d1d55ffa84ba4cd5c0a74
(cherry picked from commit 8ed87699fedc60eed19ec3816d16ac42e6f08b02)
"
openstack%2Ftripleo-upgrade~master~I3d2c7691d43674a0304bea8f366162e808dde3ad,openstack/tripleo-upgrade,master,ffwd-upgrade2,I3d2c7691d43674a0304bea8f366162e808dde3ad,Create workload_launch script when sanity testing is enabled,MERGED,2020-08-20 09:43:26.000000000,2020-08-20 15:48:44.000000000,2020-08-20 15:48:44.000000000,11,11,0,747130,45c2b65361846b69eac136462f368ecd1b0b76da,10,3,3,2,6816,Jesse Pretorius,jesse-pretorius,"Create workload_launch script when sanity testing is enabled

If workload testing is not enabled, then the workload script
is not there, so the sanity test fails.

In this patch we change the conditionals to ensure that the
workload launch script is created if either test is enabled.
we also then ensure that the sanity test launches are using
the correct conditional.

Change-Id: I3d2c7691d43674a0304bea8f366162e808dde3ad
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I70bbc40f8e5eb709d9f0f608e936a818e082918b,openstack/python-tripleoclient,stable/ussuri,state/undercloud-stable/ussuri,I70bbc40f8e5eb709d9f0f608e936a818e082918b,overcloud_deploy: move horizon url/rc files before config-download,MERGED,2020-08-20 02:26:33.000000000,2020-08-20 15:48:31.000000000,2020-08-20 15:46:13.000000000,17,17,0,747075,1ffc56ed97ec8878a255c96baa16652ef825cf9d,8,3,1,1,3153,Emilien Macchi,emilienm,"overcloud_deploy: move horizon url/rc files before config-download

When a deployment fails, we run the playbooks to generate horizon URL &
RC files anyway. However it is confusing to have them at the end, after
the actual trace and an operator with a small screen won't see the
actual errors easily.

Let's just move these actions before the config download execution,
which has no impact anyway; but will improve logging a lot.

Change-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b
Related-Bug: #1889212
(cherry picked from commit 9dec1b2e334e110b03f951c9fd3480f6c3dc8e11)
"
openstack%2Fkayobe~stable%2Fussuri~I849d9b09e973316308e574c447a78868e93a5420,openstack/kayobe,stable/ussuri,,I849d9b09e973316308e574c447a78868e93a5420,Skip broken ansible-lint,MERGED,2020-08-19 12:28:38.000000000,2020-08-20 15:40:30.000000000,2020-08-20 15:38:12.000000000,1,1,0,746906,f82a23089a24df7b6f007e2cc106e12c70143af8,9,4,1,1,15197,Pierre Riteau,priteau,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I849d9b09e973316308e574c447a78868e93a5420
(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)
"
openstack%2Fnova~master~Iccd25339bc805b0b21a9290093338a010c204f4f,openstack/nova,master,bug/1668432,Iccd25339bc805b0b21a9290093338a010c204f4f,compute: Detach volumes on _rebuild_default_impl failure,ABANDONED,2017-03-06 18:41:28.000000000,2020-08-20 15:30:28.000000000,,49,5,1,442105,4ab416addec436870355421c5d02a20633df7fba,104,20,7,2,10135,Lee Yarwood,lyarwood,"compute: Detach volumes on _rebuild_default_impl failure

Previously a failed call to spawn an instance during a rebuild using the
default implementation would leave volumes accessible from and
potentially connected to compute hosts. This change now ensures the
provided detach_block_devices method is called again if spawn fails.

Closes-bug: #1668432
Change-Id: Iccd25339bc805b0b21a9290093338a010c204f4f
"
openstack%2Freleases~master~I38817f592ffd3255c2ce263549b5c7fbdf973956,openstack/releases,master,,I38817f592ffd3255c2ce263549b5c7fbdf973956,Fix the list-deliverable command,ABANDONED,2020-08-20 15:00:50.000000000,2020-08-20 15:20:34.000000000,,1,1,0,747199,0585d292ce8d0c3d3198bb93779243199d9527d2,3,1,1,1,28522,Hervé Beraud,hberaud,"Fix the list-deliverable command

Since 4e944ea have been added we facing the following error:

```
$ tox -e venv -- list-deliverables --team oslo -r
venv develop-inst-noop: /home/hberaud/openstack/releases
venv installed: alabaster==0.7.12,appdirs==1.4.4,attrs==19.3.0,Babel==2.8.0,bleach==3.1.5,certifi==2020.4.5.1,cffi==1.14.0,chardet==3.0.4,cliff==3.1.0,cmd2==0.8.9,coverage==5.1,cryptography==2.9.2,docutils==0.16,dulwich==0.19.16,extras==1.0.0,fixtures==3.0.0,flake8==2.5.5,future==0.18.2,hacking==1.0.0,idna==2.9,imagesize==1.2.0,importlib-metadata==1.6.0,jeepney==0.4.3,Jinja2==2.11.2,jsonschema==3.2.0,keyring==21.2.1,linecache2==1.0.0,MarkupSafe==1.1.1,mccabe==0.2.1,mock==4.0.2,mwclient==0.8.1,openstack-governance==0.6.0,-e git+https://git.openstack.org/openstack/releases@6c9d1d79f133a0852bd842c45e2a1262a4df4033#egg=openstack_releases,oslotest==4.2.0,packaging==20.3,parawrap==1.0,pbr==5.4.5,pep8==1.5.7,pkginfo==1.5.0.1,prettytable==0.7.2,prompt-toolkit==3.0.5,pycparser==2.20,pydot2==1.0.33,pyfiglet==0.8.post1,pyflakes==0.8.1,Pygments==2.6.1,pyparsing==2.4.7,pyperclip==1.8.0,pyrsistent==0.16.0,python-mimeparse==1.6.0,python-subunit==1.4.0,pytz==2020.1,PyYAML==5.3.1,readme-renderer==26.0,reno==3.1.0,requests==2.23.0,requests-toolbelt==0.9.1,ruamel.yaml==0.16.10,ruamel.yaml.clib==0.2.0,SecretStorage==3.1.2,six==1.14.0,snowballstemmer==2.0.0,Sphinx==3.0.3,sphinxcontrib-applehelp==1.0.2,sphinxcontrib-devhelp==1.0.2,sphinxcontrib-htmlhelp==1.0.3,sphinxcontrib-jsmath==1.0.1,sphinxcontrib-qthelp==1.0.3,sphinxcontrib-serializinghtml==1.1.4,stestr==3.0.1,stevedore==1.32.0,testscenarios==0.5.0,testtools==2.4.0,tqdm==4.46.0,traceback2==1.4.0,twine==3.1.1,unittest2==1.1.0,urllib3==1.25.9,voluptuous==0.11.7,wcwidth==0.1.9,webencodings==0.5.1,yamlordereddictloader==0.4.0,zipp==3.1.0
venv run-test-pre: PYTHONHASHSEED='2741526287'
venv run-test: commands[0] | list-deliverables --team oslo -r
Traceback (most recent call last):
  File ""/home/hberaud/openstack/releases/.tox/venv/bin/list-deliverables"", line 10, in <module>
    sys.exit(main())
  File ""/home/hberaud/openstack/releases/openstack_releases/cmds/list_deliverables.py"", line 256, in main
    tag_str = '(' + ', '.join(deliv.tags) + ')'
  File ""/home/hberaud/openstack/releases/openstack_releases/deliverable.py"", line 573, in tags
    Deliverable._gov_data = governance.Governance.from_remote_repo()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/openstack_governance/governance.py"", line 191, in from_remote_repo
    wgs_data = _yamlutils.loads(r.text)
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/openstack_governance/_yamlutils.py"", line 24, in loads
    return yaml.load(blob, Loader=yamlordereddictloader.Loader)
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/__init__.py"", line 114, in load
    return loader.get_single_data()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/constructor.py"", line 49, in get_single_data
    node = self.get_single_node()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/composer.py"", line 36, in get_single_node
    document = self.compose_document()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/composer.py"", line 58, in compose_document
    self.get_event()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/parser.py"", line 118, in get_event
    self.current_event = self.state()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/parser.py"", line 193, in parse_document_end
    token = self.peek_token()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/scanner.py"", line 129, in peek_token
    self.fetch_more_tokens()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/scanner.py"", line 260, in fetch_more_tokens
    self.get_mark())
yaml.scanner.ScannerError: while scanning for the next token
found character '\t' that cannot start any token
  in ""<unicode string>"", line 4, column 1:
        <meta charset=""utf-8"">
```

Revert 4e944ea:

Require latest governance parsing code(4e944ea)

Bump openstack-governance requirements to 0.7.0 to pick up latest
governance parsing code, as the current state of governance files
will break anything <0.7.0.

Change-Id: I38817f592ffd3255c2ce263549b5c7fbdf973956
"
openstack%2Fcinder~stable%2Fussuri~Ia620043904f4f31a81bc8463fb36476a149f9808,openstack/cinder,stable/ussuri,correct-relnote-stable/ussuri,Ia620043904f4f31a81bc8463fb36476a149f9808,Correct formatting in release note,MERGED,2020-08-19 16:46:34.000000000,2020-08-20 15:16:56.000000000,2020-08-19 20:23:09.000000000,1,1,0,746995,dae548d5473d1aaf3894aedc0e3937d4d0613d70,18,11,1,1,27615,Rajat Dhasmana,whoami-rajat,"Correct formatting in release note

A missing '_' is causing a hyperlink to render incorrectly in HTML.

Change-Id: Ia620043904f4f31a81bc8463fb36476a149f9808
(cherry picked from commit f690327b55cac79540c9bb7b10c390b73aa3fc62)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,openstack/tripleo-ansible,stable/train,config/json-stable/train,I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,tripleo_container_configs module,MERGED,2020-08-19 18:26:34.000000000,2020-08-20 15:14:19.000000000,2020-08-20 15:12:10.000000000,209,0,0,747009,a0f7dafde9017b0a3310ae2e7dec4b70a1a5bd53,11,3,2,5,3153,Emilien Macchi,emilienm,"tripleo_container_configs module

To replace the task that looks over kolla_config.yaml and creates the
json files per item in the YAML, create a module that will lead to one
task creating all the files.

Change-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6
(cherry picked from commit bfc2681ad539e55087c1f4a15e638c34c31dc7e1)
"
openstack%2Fcinder~stable%2Fussuri~I621a00d34e9c2b14234e11e94857a39fe54a111f,openstack/cinder,stable/ussuri,brocade,I621a00d34e9c2b14234e11e94857a39fe54a111f,Brocade: Fix lookup UnboundLocalError,MERGED,2020-08-17 15:01:09.000000000,2020-08-20 15:07:45.000000000,2020-08-20 15:05:23.000000000,16,0,0,746536,41fcbf8a56cdead8265455ddecfed96000a857bb,44,21,2,3,10459,Luigi Toscano,ltoscano,"Brocade: Fix lookup UnboundLocalError

If we get an exception when getting the southbound client in method
get_device_mapping_from_network we will end up seeing the following
error:

  UnboundLocalError: local variable 'conn' referenced before assignment

This patch fixes this issue by making sure that the conn variable exists
even if that call fails.

TrivialFix
Closes-Bug: #1888550
Change-Id: I621a00d34e9c2b14234e11e94857a39fe54a111f
(cherry picked from commit 122036638d6377f688272ee641e8effbcef933a1)
"
openstack%2Foctavia~master~I49e92f81b23e0b306c62c406a45029b96dce20df,openstack/octavia,master,sec-grp-rule-quota,I49e92f81b23e0b306c62c406a45029b96dce20df,Increase the devstack secuirty group rules quota,MERGED,2020-08-16 20:33:19.000000000,2020-08-20 15:07:24.000000000,2020-08-19 23:17:28.000000000,3,2,1,746418,2e2464d778cc86df161fdf59406aac30770b58f0,30,6,4,1,11628,Michael Johnson,johnsom,"Increase the devstack secuirty group rules quota

Recent changes to the Octavia tempest tests has caused our test
runs to exceed the default neutron security group rule quota.
This patch increases that quota for the Octavia project in devstack.

Change-Id: I49e92f81b23e0b306c62c406a45029b96dce20df
"
openstack%2Fcinder~stable%2Fussuri~Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a,openstack/cinder,stable/ussuri,brocade,Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a,Brocade: Fix AttributeError when raising exception,MERGED,2020-08-17 15:01:09.000000000,2020-08-20 14:57:49.000000000,2020-08-20 14:55:24.000000000,305,1,0,746535,373efbd7ee7e635a0f8970f4c1fea7d8cb4e878d,93,18,2,3,10459,Luigi Toscano,ltoscano,"Brocade: Fix AttributeError when raising exception

When we moved Brocade exceptions from cinder.exception to
cinder.zonemanager.drivers.broade.exception we missed one file,
brcd_rest_fc_zone_client, so when we use that file (setting
`fc_southbound_protocol = REST_HTTP`) if it tries to raise an exception
we end up seeing:

  AttributeError: module 'cinder.exception' has no attribute
  'BrocadeZoningRestException'

The CI didn't catch it because there are no unit tests for the
brcd_rest_fc_zone_client.py file.

This patch fixes the issue by changing the import so it gets the
exceptions from the Brocade file and it also adds some tests for the
first half (211 lines) of the code in the brcd_rest_fc_zone_client.py
file.

TrivialFix
Closes-Bug: #1866860
Change-Id: Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a
(cherry picked from commit 6dbd08b49171ecaaeb5896f58f7740e304f7e548)
"
openstack%2Fheat~stable%2Fussuri~I5b085e469f3fd24c797d5dcaf39dbe56f6ad5cdf,openstack/heat,stable/ussuri,story/2006616-stable/ussuri,I5b085e469f3fd24c797d5dcaf39dbe56f6ad5cdf,Add dns_domain support to OS::Neutron::ProviderNet,ABANDONED,2020-07-30 13:11:52.000000000,2020-08-20 14:56:51.000000000,,17,2,8,743967,2bb3f7e5b9901b040e32c5abd372a522b45ec9cb,22,5,3,2,7353,Kevin Carter,cloudnull,"Add dns_domain support to OS::Neutron::ProviderNet

It is actually possible to set OS::Neutron::Net-dns_domain but
not OS::Neutron::ProviderNet-dns_domain with heat.   Since this
is allowed using python-neutronclient, there're no reasons to
not allow this using heat.

Change-Id: I5b085e469f3fd24c797d5dcaf39dbe56f6ad5cdf
Task: 36808
(cherry picked from commit 5bc84d64192720b2944d32acd8dd44289bdab859)
"
openstack%2Fpaunch~stable%2Ftrain~If23ee1b5b0211221c0dd547e95a0487ea8d04909,openstack/paunch,stable/train,,If23ee1b5b0211221c0dd547e95a0487ea8d04909,Log benign command errors as warns,MERGED,2020-08-18 13:12:54.000000000,2020-08-20 14:54:08.000000000,2020-08-20 14:51:02.000000000,30,22,0,746713,e3789cc2ea5d1dac11ece6e4b83c99631634ed64,17,5,1,2,6926,Bogdan Dobrelya,bogdando,"Log benign command errors as warns

Errors logged when an image/container was not found are misleading and
should become warnings instead. Only log errors for real execution
failures.

Change-Id: If23ee1b5b0211221c0dd547e95a0487ea8d04909
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 861ed0612805c85fe84b9c836c32aaac3095ea38)
"
openstack%2Fdevstack-plugin-ceph~master~I7896886d356a75a896660e08e2152c69534fa26f,openstack/devstack-plugin-ceph,master,gate-voting,I7896886d356a75a896660e08e2152c69534fa26f,[CI] Gate on voting jobs,MERGED,2020-08-20 07:15:08.000000000,2020-08-20 14:53:09.000000000,2020-08-20 14:35:52.000000000,3,0,2,747113,6f48063468fb0152327b32138123da390ba51403,10,4,2,1,30491,Radosław Piliszek,yoctozepto,"[CI] Gate on voting jobs

Per the best practices.

Change-Id: I7896886d356a75a896660e08e2152c69534fa26f
"
openstack%2Fdevstack-plugin-ceph~master~Iff47bbe4954da3ab582a007ba04b3df50ae21cd4,openstack/devstack-plugin-ceph,master,,Iff47bbe4954da3ab582a007ba04b3df50ae21cd4,shaman: use 'ready' repo instead of any,MERGED,2020-08-19 20:15:38.000000000,2020-08-20 14:53:03.000000000,2020-08-20 07:05:28.000000000,1,1,0,747030,6b409867bfc9d897ab36928b8e538ef3ba04961a,12,6,1,1,1004,Mohammed Naser,mnaser,"shaman: use 'ready' repo instead of any

We seem to have been requesting the latest build from the Shaman API
provided by Ceph however we did not filter the status to be 'ready'
which meant that we sometimes got 'building' status repositories that
cause the jobs to fail.

This should stabilize jobs a lot more by using only the ready
repositories.

Change-Id: Iff47bbe4954da3ab582a007ba04b3df50ae21cd4
"
openstack%2Ftripleo-upgrade~master~Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,openstack/tripleo-upgrade,master,ffwd-upgrade2,Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,FFWD: L3 fixup,MERGED,2020-08-19 09:48:13.000000000,2020-08-20 14:52:26.000000000,2020-08-20 14:51:04.000000000,36,136,0,746869,854f084fbf7dc71e702dc3c578db0e8283edf5b5,13,3,3,3,11166,Lukas Bezdicka,xbezdick,"FFWD: L3 fixup

Before we fix workload accounting and l3 test scripts we need to
remove extra wokload test during FFWD.

Change-Id: Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0
"
openstack%2Fos-brick~master~I05f94d31277efec28ad50ae2f3502ab6fccfe37c,openstack/os-brick,master,improve-get_sysfs_wwn,I05f94d31277efec28ad50ae2f3502ab6fccfe37c,Improve WWN detection,MERGED,2020-06-01 15:38:14.000000000,2020-08-20 14:50:04.000000000,2020-08-13 19:01:42.000000000,68,7,1,732407,7fb37c2000a148f37bc8a6c17e913c46865776bd,71,19,1,3,9535,Gorka Eguileor,Gorka,"Improve WWN detection

To avoid issues with the scsi_id command getting stuck and blocking the
attachment we use sysfs to search for the WWN, but it can happen that we
fail to detect the WWN even if it's present in sysfs.

This happens when the storage array has multiple designators and the
multipath daemon detects the multipaths very fast.

The flow is:

- os-brick attaches volumes using iscsiadm --login
- udev generates the symlink with the WWN (this is the one we want)
- multipathd detects the volumes and forms the DM
- udev replaces the previous symlink to point to the multipath DM
- os-brick checks the symlink

This patch adds code to get_sysfs_wwn that checks the individual devices
belonging to a multipath DM if the symlink points to a DM.

Closes-Bug: #1881608
Change-Id: I05f94d31277efec28ad50ae2f3502ab6fccfe37c
"
openstack%2Fos-brick~master~Ic48bd9ac408c56073e58168df7e74e4b949ac2f2,openstack/os-brick,master,improve-iscsi-multipath-detection,Ic48bd9ac408c56073e58168df7e74e4b949ac2f2,iSCSI detect multipath DM with no WWN,MERGED,2020-06-01 17:22:15.000000000,2020-08-20 14:48:56.000000000,2020-08-13 23:08:39.000000000,45,3,1,732423,63f52be546b4bb4689e400521bea48ce25daa703,45,16,1,3,9535,Gorka Eguileor,Gorka,"iSCSI detect multipath DM with no WWN

If udev rules are slow (or don't happen) and they don't generate the
symlinks we use to detect the WWN, or if we just fail to find the WWN we
end up not detecting the iSCSI multipath even if it is present in the
system.

With this patch we no longer wait to find the WWN before trying to
locate the multipath device.

This means that as long as the multipath daemon is able to generate the
multipath we will be able to return a multipath device path to the
caller.

Closes-Bug: 1881619
Change-Id: Ic48bd9ac408c56073e58168df7e74e4b949ac2f2
"
openstack%2Fnova~master~I9d8d8c3a30cf6da7e8fb48374347e069ab075df2,openstack/nova,master,bug/1841932,I9d8d8c3a30cf6da7e8fb48374347e069ab075df2,"replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""",MERGED,2020-04-23 02:30:09.000000000,2020-08-20 14:42:02.000000000,2020-05-26 04:08:54.000000000,59,11,27,722187,bf488a8630702160021b5848bf6e86fbb8015205,130,20,9,7,27594,Jie Li,ramboman,"replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""

When we use the flavor extra_specs ""hide_hypervisor_id"" in
AggregateInstanceExtraSpecsFilter, then will retrun False.
So we need correct the extra_specs.

Change-Id: I9d8d8c3a30cf6da7e8fb48374347e069ab075df2
Closes-Bug: 1841932
"
openstack%2Fos-brick~stable%2Fussuri~I05f94d31277efec28ad50ae2f3502ab6fccfe37c,openstack/os-brick,stable/ussuri,improve-get_sysfs_wwn,I05f94d31277efec28ad50ae2f3502ab6fccfe37c,Improve WWN detection,MERGED,2020-08-17 15:05:19.000000000,2020-08-20 14:03:56.000000000,2020-08-20 13:59:26.000000000,68,7,0,746539,935daead18b0a09eae340325f2d09b5ad2c5b569,14,9,1,3,10459,Luigi Toscano,ltoscano,"Improve WWN detection

To avoid issues with the scsi_id command getting stuck and blocking the
attachment we use sysfs to search for the WWN, but it can happen that we
fail to detect the WWN even if it's present in sysfs.

This happens when the storage array has multiple designators and the
multipath daemon detects the multipaths very fast.

The flow is:

- os-brick attaches volumes using iscsiadm --login
- udev generates the symlink with the WWN (this is the one we want)
- multipathd detects the volumes and forms the DM
- udev replaces the previous symlink to point to the multipath DM
- os-brick checks the symlink

This patch adds code to get_sysfs_wwn that checks the individual devices
belonging to a multipath DM if the symlink points to a DM.

Closes-Bug: #1881608
Change-Id: I05f94d31277efec28ad50ae2f3502ab6fccfe37c
(cherry picked from commit 7fb37c2000a148f37bc8a6c17e913c46865776bd)
"
openstack%2Fnova~master~Ibe236988af24a3b43508eec4efbe52a4ed05d45f,openstack/nova,master,bug/1818847,Ibe236988af24a3b43508eec4efbe52a4ed05d45f,libvirt: Use 'writeback' QEMU cache mode when 'none' is not viable,MERGED,2019-03-08 10:37:32.000000000,2020-08-20 13:38:52.000000000,2019-04-02 16:34:20.000000000,79,29,32,641981,b9dc86d8d646472195070022ff7ae4c372bef4ca,134,22,14,4,6962,Kashyap Chamarthy,kashyapc,"libvirt: Use 'writeback' QEMU cache mode when 'none' is not viable

When configuring QEMU cache modes for Nova instances, we use
'writethrough' when 'none' is not available.  But that's not correct,
because of our misunderstanding of how cache modes work.  E.g. the
function disk_cachemode() in the libvirt driver assumes that
'writethrough' and 'none' cache modes have the same behaviour with
respect to host crash safety, which is not at all true.

The misunderstanding and complexity stems from not realizing that each
QEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the
convenient cache mode table in the code comment (in
nova/virt/libvirt/driver.py).

As Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made
a couple of micro edits for clarity):

    The thing that makes 'writethrough' so safe against host crashes is
    that it never keeps data in a ""write cache"", but it calls fsync()
    after _every_ write.  This is also what makes it horribly slow.  But
    'cache=none' doesn't do this and therefore doesn't provide this kind
    of safety.  The guest OS must explicitly flush the cache in the
    right places to make sure data is safe on the disk.  And OSes do
    that.

    So if 'cache=none' is safe enough for you, then 'cache=writeback'
    should be safe enough for you, too -- because both of them have the
    boolean 'cache.writeback=on'.  The difference is only in
    'cache.direct', but 'cache.direct=on' only bypasses the host kernel
    page cache and data could still sit in other caches that could be
    present between QEMU and the disk (such as commonly a volatile write
    cache on the disk itself).

So use 'writeback' mode instead of the debilitatingly slow
'writethrough' for cases where the O_DIRECT-based 'none' is unsupported.

Do the minimum required update to the `disk_cachemodes` config help
text.  (In a future patch, rewrite the cache modes documentation to fix
confusing fragments and outdated information.)

Closes-Bug: #1818847
Change-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
Looks-good-to-me'd-by: Kevin Wolf <kwolf@redhat.com>
"
openstack%2Ftripleo-docs~master~Ic406e3a4423cdd7c46c8a4497d43d63c95b2a9f5,openstack/tripleo-docs,master,typos,Ic406e3a4423cdd7c46c8a4497d43d63c95b2a9f5,Fix typos,MERGED,2020-08-19 11:50:40.000000000,2020-08-20 13:11:27.000000000,2020-08-20 13:10:03.000000000,65,65,0,746902,6447c381b13f2645e87d4e1760232e56e88d2e9e,8,6,1,41,20733,Rajesh Tailor,rajesht,"Fix typos

This patch tries to fix maximum typos in docs.

Change-Id: Ic406e3a4423cdd7c46c8a4497d43d63c95b2a9f5
"
openstack%2Fkolla-ansible~stable%2Ftrain~Iefcabb1a213fc2c2233ce4e67458f55d177506cb,openstack/kolla-ansible,stable/train,timesync-play-train,Iefcabb1a213fc2c2233ce4e67458f55d177506cb,[DNM] Timesync playground train centos7,ABANDONED,2020-07-02 19:33:13.000000000,2020-08-20 12:56:21.000000000,,93,79,0,739138,45cbe7238152d1e866913ccb1cd405f12b94531f,8,2,2,2,30491,Radosław Piliszek,yoctozepto,"[DNM] Timesync playground train centos7

Change-Id: Iefcabb1a213fc2c2233ce4e67458f55d177506cb
"
openstack%2Fnova~master~I93c35b386e1b1cbcff74fe0a2388f0eda5dea3b9,openstack/nova,master,native-zuulv3-migration,I93c35b386e1b1cbcff74fe0a2388f0eda5dea3b9,zuul: use the new barbican simple-crypto job,MERGED,2020-08-17 18:10:13.000000000,2020-08-20 12:52:21.000000000,2020-08-20 12:48:45.000000000,1,1,0,746583,f881854ea6edb18d0a820ace69001fd128bf915a,71,11,1,1,10459,Luigi Toscano,ltoscano,"zuul: use the new barbican simple-crypto job

The old job name is still available as an alias for a while,
but it is time to switch away from it.

Change-Id: I93c35b386e1b1cbcff74fe0a2388f0eda5dea3b9
"
openstack%2Fcinder~master~Iccc2dfabaaaa5eae3b21702b84e8d657488b0cc7,openstack/cinder,master,bug/1525887,Iccc2dfabaaaa5eae3b21702b84e8d657488b0cc7,Check if already managed before manage snapshot,NEW,2017-12-14 13:26:36.000000000,2020-08-20 12:44:05.000000000,,67,0,10,527957,dd70a295477ebec5320f2efbdbe0aa7384645db9,92,31,6,3,26907,Aseel Awwad,aseelawwad,"Check if already managed before manage snapshot

Check if the snapshot is already managed in manage_existing_snapshot
function at volume/api.py through calling the new implemented function
check_already_managed_snapshot at volume/utils.py. Unit tests are
added for the new implemented function check_already_managed_snapshot.

Change-Id: Iccc2dfabaaaa5eae3b21702b84e8d657488b0cc7
Closes-Bug: #1525887
"
openstack%2Ftempest~master~I8637e7aec33d8ce76a3cf02fad134cf6ea39d9a3,openstack/tempest,master,bug/1765182,I8637e7aec33d8ce76a3cf02fad134cf6ea39d9a3,Add config option to set extend_attached_volume_support,NEW,2018-06-27 16:23:48.000000000,2020-08-20 12:44:01.000000000,,60,2,9,578463,211eaba4be9703e775ff0ec4ddc14ff2096dc7d9,26,12,2,2,18058,Lucio Seki,lseki,"Add config option to set extend_attached_volume_support

There's already a config option extend_attached_volume, and if it is set
to True, a happy path tempest test is executed. This test asserts that
the volume has a greater size after the extending operation.

However, not every volume backend supports this operation. The API call
to extend an attached volume succeeds, but the scheduler fails to
perform the operation, and the volume remains with the original size. In
such case, the tempest test fails.

A config option was added to tell if the backend being tested supports
this feature.
If it does, the same happy path test is executed. If it doesn't, a new
test is executed, which basically does the same thing, but asserts that
the volume remains with the original size.

Change-Id: I8637e7aec33d8ce76a3cf02fad134cf6ea39d9a3
Depends-On: I2c31b5c171574074a8fc7ba86f94f983fc9658f7
Related-Bug: #1765182
"
openstack%2Fcinder~master~I68433649766273418f258b88a2af7a7a5b5fc7ec,openstack/cinder,master,add_FreeCapacityRatioWeigher,I68433649766273418f258b88a2af7a7a5b5fc7ec,Add FreeCapacityRatioWeigher,NEW,2018-10-12 06:44:18.000000000,2020-08-20 12:43:56.000000000,,161,0,1,609925,d39d8d89e0fca4772d62c278ac68683ddfd7b311,38,33,1,3,25837,yenai,yenai2008,"Add FreeCapacityRatioWeigher

FreeCapacityRatioWeigher is a weigher that weigh hosts by their
free capacity ratio. The main purpose of this weigher is to select
the new adding storage when it's set the same volume_backend_name
as previous but the capacity is far less than the previous one.

The ratio is equal free_capacity_gb / total_capacity_gb. When the
capacity contains 'infinite' or 'unknown', the host will be given
the lowest weight.

Change-Id: I68433649766273418f258b88a2af7a7a5b5fc7ec
"
openstack%2Fcinder~master~I9deb6be95fa6acd94533a719545ba471790a4590,openstack/cinder,master,bug/1793460,I9deb6be95fa6acd94533a719545ba471790a4590,Fix TypeError when retrieving pools filtered by volume-type,NEW,2018-09-20 11:47:24.000000000,2020-08-20 12:43:47.000000000,,10,13,18,604067,078fe5872a3bb2bbfa6ba8e069220e5d3877f550,154,42,5,2,27911,hzliaoyuehua,hzliaoyuehua,"Fix TypeError when retrieving pools filtered by volume-type

Now cinder's get-pools API support filtering pools by volume type,
pools will be filtered by get_filtered_backends and the filter
properties of get_filtered_backends only consists of volume-type properties.

When pools are filtered by CapacityFilter and the backend supports thin
provisioning, CapacityFilter will raise TypeError since the requested_size
is None and it's an unsupported operand type(s) for +: 'int' and 'NoneType'.

So the size field should be set on the request (filter_properties) when
filtering pools by volume type.

Closes-Bug: #1793460

Change-Id: I9deb6be95fa6acd94533a719545ba471790a4590
"
openstack%2Fcinder~master~I340a14ba5cf6fd2193156728a58477bca7fda8aa,openstack/cinder,master,exportable-snapshots,I340a14ba5cf6fd2193156728a58477bca7fda8aa,NetApp E-Series: Add support for exporting snapshots,NEW,2018-10-29 13:12:10.000000000,2020-08-20 12:43:32.000000000,,104,14,0,613923,3beef411cc4a02702f6fe5df2bb05522475237db,27,22,1,4,27593,Damian Cikowski (dcdamien),dcdamien,"NetApp E-Series: Add support for exporting snapshots

This change adds support for exporting NetApp E-Series snapshots over iSCSI
and using them for cinder snapshot-based backups.
It eliminates the extra step of cloning the volume using an
intermediary cinder-volume node.

Change-Id: I340a14ba5cf6fd2193156728a58477bca7fda8aa
"
openstack%2Fos-brick~master~Iea985a53fa81c72bcf44e4b46ce5f904186f7ea6,openstack/os-brick,master,cleanup-upstream,Iea985a53fa81c72bcf44e4b46ce5f904186f7ea6,Clean any defunct devices before iSCSI connect,NEW,2019-02-07 08:49:38.000000000,2020-08-20 12:43:29.000000000,,60,0,11,635457,03bedb138c94b23d58eef688e260057ec8c5ba5f,62,22,4,2,4355,Avishay Traeger,avishay-il,"Clean any defunct devices before iSCSI connect

There may be cases where a device already exists on the host from
an old connection that wasn't fully cleaned up, and the new
connection may get the same device. If we continue with the
connection, the newly-attached volume may get writes that were
pending for the previous volume, causing data corruption. This
patch checks if any expected devices already exist, and if so,
cleans them up before proceeding with the connection.

Change-Id: Iea985a53fa81c72bcf44e4b46ce5f904186f7ea6
"
openstack%2Fmanila~master~Id194187f9a089cc371cef1ff08ba3668914c7c74,openstack/manila,master,,Id194187f9a089cc371cef1ff08ba3668914c7c74,Report LVM storage_protocol based on configuration,NEW,2019-05-29 06:42:02.000000000,2020-08-20 12:43:11.000000000,,2,1,1,661896,12f6847d4760d79c0657c0378422cebb5f2014e2,19,10,1,1,26721,Rocky,Rocky,"Report LVM storage_protocol based on configuration

Change-Id: Id194187f9a089cc371cef1ff08ba3668914c7c74
"
openstack%2Fcinder~master~I981b00a83a52aab37fef8986133ec1f29d5e5fbd,openstack/cinder,master,bp/add-az-to-pool,I981b00a83a52aab37fef8986133ec1f29d5e5fbd,Include availability-zone of a pool in get-pools API request,NEW,2018-09-04 23:36:48.000000000,2020-08-20 12:43:05.000000000,,62,14,17,599866,6681a7d2e5fc100e69ba035b07ac6124e77da62a,286,50,10,13,3031,Sam Morrison,sorrison,"Include availability-zone of a pool in get-pools API request

Adds a new microversion to return the availability-zone of
a pool when using the get-pools API request.

This is useful when doing capacity reporting

Implements: bp add-az-to-pool

Change-Id: I981b00a83a52aab37fef8986133ec1f29d5e5fbd
"
openstack%2Fcinder~master~Ic35884d406916306c860840bd6f5dad340bb4aa1,openstack/cinder,master,bug/1749719,Ic35884d406916306c860840bd6f5dad340bb4aa1,Remove Veritas HyperScale specific metadata,NEW,2018-02-15 15:47:51.000000000,2020-08-20 12:42:55.000000000,,154,590,26,545013,cec24b0e13b37fff7dbdbd2a3e711d11efc06c6d,325,47,8,3,27839,atul swami,atulswami,"Remove Veritas HyperScale specific metadata

Cinder volume driver for Veritas HyperScale currently stores product
specific metadata in Cinder database.
This bug is to remove dependency from Cinder database and store
required metadata in product specific database.

Closes-Bug: #1749719

Change-Id: Ic35884d406916306c860840bd6f5dad340bb4aa1
"
openstack%2Ftripleo-validations~master~Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed,openstack/tripleo-validations,master,validate-selinux/work-dif,Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed,Corrected work directory for validate-selinux,MERGED,2020-08-07 07:42:46.000000000,2020-08-20 12:29:53.000000000,2020-08-19 21:07:41.000000000,1,1,0,745299,9645db1f74b2052ca009767b3f85642dd1e6e49f,8,5,1,1,28223,Cedric Jeanneret,cjeanner,"Corrected work directory for validate-selinux

the /var/log/validations directory doesn't exist on the overcloud, since
we don't install the validations there.

Change-Id: Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed
"
openstack%2Fkayobe~master~I849d9b09e973316308e574c447a78868e93a5420,openstack/kayobe,master,,I849d9b09e973316308e574c447a78868e93a5420,Skip broken ansible-lint,MERGED,2020-08-19 11:31:59.000000000,2020-08-20 12:24:26.000000000,2020-08-20 12:21:39.000000000,1,1,0,746896,a33ba678df211c4d3f53c7ee9b066becd0e962b0,22,4,1,1,15197,Pierre Riteau,priteau,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I849d9b09e973316308e574c447a78868e93a5420
"
openstack%2Fironic~master~I1b17982fdab5611086f8bb7d944db6f51bb032a0,openstack/ironic,master,remove-image-filter,I1b17982fdab5611086f8bb7d944db6f51bb032a0,Remove qemu-img rootwrap filter,MERGED,2020-08-18 14:12:59.000000000,2020-08-20 11:30:27.000000000,2020-08-20 11:28:19.000000000,0,6,0,746731,26d08bdda621e8f4d65538c022c4af5e129c75f2,10,6,1,1,23851,Riccardo Pittau,elfosardo,"Remove qemu-img rootwrap filter

It should be managed by ironic-lib.

Change-Id: I1b17982fdab5611086f8bb7d944db6f51bb032a0
"
openstack%2Fansible-collections-openstack~master~Ife7bd55f44bf709319c6598c0f95201a1aac528f,openstack/ansible-collections-openstack,master,bfrst,Ife7bd55f44bf709319c6598c0f95201a1aac528f,Add CI files config to bifrost jobs as well,MERGED,2020-08-17 13:18:46.000000000,2020-08-20 11:12:57.000000000,2020-08-20 11:12:57.000000000,4,0,0,746503,a67272d1f5ae77b9df45a933dc6adf1d77931ee0,15,4,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add CI files config to bifrost jobs as well

Change-Id: Ife7bd55f44bf709319c6598c0f95201a1aac528f
"
openstack%2Freleases~master~I0f674818983587e7a52766fb13df13f8c37dc65f,openstack/releases,master,ironic_train,I0f674818983587e7a52766fb13df13f8c37dc65f,Release Ironic 13.0.6 for Train,MERGED,2020-08-19 13:46:37.000000000,2020-08-20 11:06:30.000000000,2020-08-20 11:06:30.000000000,4,0,0,746925,116b9d5fa3a588d59e6850723823b162a7c244c2,13,5,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Release Ironic 13.0.6 for Train

Change-Id: I0f674818983587e7a52766fb13df13f8c37dc65f
"
openstack%2Fkuryr-kubernetes~master~I9fe88bb78fea4930c241ecf1117eafecaf279c94,openstack/kuryr-kubernetes,master,remove-svc-finalizer-on-crd-gone,I9fe88bb78fea4930c241ecf1117eafecaf279c94,Ensure Service is delete if lb CRD is already gone,MERGED,2020-08-12 20:50:01.000000000,2020-08-20 10:46:58.000000000,2020-08-20 10:45:40.000000000,4,1,0,745963,9cf61488c50f4db40d539a822e7584d2ac3533c2,22,4,1,1,27032,Maysa de Macedo Souza,maysa,"Ensure Service is delete if lb CRD is already gone

As the Finalizer is first removed from the lb CRD and
then from the Service, we should add protection for when
the CRD is gone but the Service is still present with
the Finalizer set.

Change-Id: I9fe88bb78fea4930c241ecf1117eafecaf279c94
"
openstack%2Fsushy~master~Ic64536c0ce51820461d82f1d0d498e2754a58ed7,openstack/sushy,master,gate,Ic64536c0ce51820461d82f1d0d498e2754a58ed7,Add a CI job with UEFI+vmedia and clean up the job definitions,MERGED,2020-08-19 15:35:31.000000000,2020-08-20 10:34:05.000000000,2020-08-20 10:30:54.000000000,15,12,0,746962,0e27eba2f55b027a5ec1a648753926d1e874eb85,9,4,1,2,10239,Dmitry Tantsur,dtantsur,"Add a CI job with UEFI+vmedia and clean up the job definitions

Reuse parent jobs from ironic and rename the jobs accordingly.

Change-Id: Ic64536c0ce51820461d82f1d0d498e2754a58ed7
"
openstack%2Fcharm-ceilometer~master~I48e2f079e2db640d485bc74bfc2cedfd7e82ac84,openstack/charm-ceilometer,master,bug/1867924,I48e2f079e2db640d485bc74bfc2cedfd7e82ac84,Fix restart when endpoint notification is received,MERGED,2020-08-20 09:17:35.000000000,2020-08-20 10:25:58.000000000,2020-08-20 10:25:58.000000000,15,6,0,747128,e3982a2d98a98c164890734d1dada1b1aa44ba9e,10,3,2,3,12549,gnuoy,gnuoy,"Fix restart when endpoint notification is received

Restarts were configured only when the ceilometer agent endpoint
had changed and only alarm services were triggered to be restarted.
This change adds a check for the gnocchi service having changed
too and restarts all services to be on the safe side.

Closes-Bug: #1867924
Change-Id: I48e2f079e2db640d485bc74bfc2cedfd7e82ac84
"
openstack%2Fcharm-ceph-mon~master~I7d29aec3ba9924d5677be25137907b1465401f9c,openstack/charm-ceph-mon,master,ec-func-test,I7d29aec3ba9924d5677be25137907b1465401f9c,Add erasure-coded pool bundle,MERGED,2020-08-19 07:14:53.000000000,2020-08-20 10:06:43.000000000,2020-08-20 10:06:43.000000000,305,9,0,746846,e3f9894aeadac301e01e28d840ad0cb5ebdaa09a,14,4,3,16,12549,gnuoy,gnuoy,"Add erasure-coded pool bundle

This change adds a bundle that configures erasure coded pools
for glance, cinder-ceph and nova. To verify that the pools are
using EC it also adds a test which verifies the pool type.

To verify that the nova pool is configured correctly in all
scenarious all the bundles have been updated to set
libvirt-image-backend to rbd which triggers the nova pool
creation.

During testing the Prometheus tests were failing which is
down to a known bug *1 in the prometheus charm. The
bundles have been updated to pin the prometheus2 charm
to an earlier version to get round the bug.

*1 https://bugs.launchpad.net/charm-prometheus2/+bug/1891942


Change-Id: I7d29aec3ba9924d5677be25137907b1465401f9c
"
openstack%2Fcharm-cinder~master~I031a6bf2a066bb9d3157e545bb9df782a76551f3,openstack/charm-cinder,master,bug/1879578,I031a6bf2a066bb9d3157e545bb9df782a76551f3,Allow specifying default_volume_type,MERGED,2020-06-22 15:17:30.000000000,2020-08-20 10:02:04.000000000,2020-08-20 10:02:04.000000000,38,4,0,737288,12193d2bc20c354923cea27e12ace89d4fde9aaf,12,3,2,4,8108,Nobuto Murata,nobuto-m,"Allow specifying default_volume_type

It's useful when multiple storage backends to be connected to Cinder.
The corresponding volume type must be created after a deployment via API
to take effect, e.g., `openstack volume type create VOLUME_TYPE
--property volume_backend_name=BACKEND_NAME`

Please note that there is a regression in upstream as LP: #1879578, so
it doesn't work for Train or later releases until the issue gets fixed.

The other way to have the similar effect is to edit the definition of
__DEFAULT__ volume type via API (available for Train or later releases).
Howevers it's not as flexible as the option in cinder.conf since it
doesn't allow any modification unless all of the volumes with the
__DEFAULT__ type get deleted.

Change-Id: I031a6bf2a066bb9d3157e545bb9df782a76551f3
Closes-Bug: #1884548
"
openstack%2Freleases~master~Iee123c6512b4f269af7943df1400a431c0bbdd93,openstack/releases,master,ironic_ussuri,Iee123c6512b4f269af7943df1400a431c0bbdd93,Release ironic 15.0.1 for Ussuri,MERGED,2020-08-19 13:46:52.000000000,2020-08-20 09:48:17.000000000,2020-08-20 09:48:17.000000000,4,0,0,746926,03651f42dbd1c941bde80c3ac209cbd450fed273,12,5,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Release ironic 15.0.1 for Ussuri

Change-Id: Iee123c6512b4f269af7943df1400a431c0bbdd93
"
openstack%2Fnova~master~Ieaad388d31fdabf0854bf7e2ed9fddf11f86bf8c,openstack/nova,master,bp/policy-defaults-refresh-deprecated-apis,Ieaad388d31fdabf0854bf7e2ed9fddf11f86bf8c,Add new default roles in baremetal nodes policies,MERGED,2020-07-17 21:06:18.000000000,2020-08-20 09:41:32.000000000,2020-08-20 09:38:31.000000000,69,28,3,741716,de2226b4b3a2490e8a3eb1a2dc78f00d5c7e31c8,68,14,4,5,8556,Ghanshyam,ghanshyam,"Add new default roles in baremetal nodes policies

This adds new defaults roles in baremetal nodes API policies.
These policies are default to SYSTEM_READER and made more
granular to adopt the new defaults.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Ieaad388d31fdabf0854bf7e2ed9fddf11f86bf8c
"
openstack%2Foctavia~master~I9a346b626f852171ec00d2868ccb6f98b1fb8994,openstack/octavia,master,git-ref,I9a346b626f852171ec00d2868ccb6f98b1fb8994,Switch back to using git for the agent ref,MERGED,2020-08-18 18:11:53.000000000,2020-08-20 09:38:00.000000000,2020-08-20 09:35:12.000000000,3,1,1,746782,7d6322ae08eba23d7fc02f4141d27d51f9433a7c,12,5,2,2,11628,Michael Johnson,johnsom,"Switch back to using git for the agent ref

A diskimage-builder patch [1] broke our amphora-agent element by
uninstalling git prior to the post-install.d phase.
A followup patch in Octavia [2] changed how we get the git
reference to awking an git internal log file. This seems fragile
to me, so I am proposing this alternative.
This patch updates our element to finish using git before the
install.d phase is complete.

[1] https://review.opendev.org/745678
[2] https://review.opendev.org/745683

Change-Id: I9a346b626f852171ec00d2868ccb6f98b1fb8994
"
openstack%2Foctavia~stable%2Fussuri~I9a346b626f852171ec00d2868ccb6f98b1fb8994,openstack/octavia,stable/ussuri,,I9a346b626f852171ec00d2868ccb6f98b1fb8994,Switch back to using git for the agent ref,MERGED,2020-08-19 08:00:11.000000000,2020-08-20 09:37:44.000000000,2020-08-20 09:35:11.000000000,3,1,0,746850,f923ef093424cb05e446c490e86f648f51a52e4f,8,3,1,2,6469,Carlos Gonçalves,cgoncalves,"Switch back to using git for the agent ref

A diskimage-builder patch [1] broke our amphora-agent element by
uninstalling git prior to the post-install.d phase.
A followup patch in Octavia [2] changed how we get the git
reference to awking an git internal log file. This seems fragile
to me, so I am proposing this alternative.
This patch updates our element to finish using git before the
install.d phase is complete.

[1] https://review.opendev.org/745678
[2] https://review.opendev.org/745683

Change-Id: I9a346b626f852171ec00d2868ccb6f98b1fb8994
(cherry picked from commit 7d6322ae08eba23d7fc02f4141d27d51f9433a7c)
"
openstack%2Fopenstack-zuul-jobs~master~I9f3da2d2c00c7f335ff9dce483c0dede91604749,openstack/openstack-zuul-jobs,master,test,I9f3da2d2c00c7f335ff9dce483c0dede91604749,[DNM]: Testing Nodejs Job,ABANDONED,2020-08-17 09:03:29.000000000,2020-08-20 09:22:07.000000000,,1,0,0,746462,4ef637c3b90625a6f4cf42a9f4fe36b649f9a4f1,5,1,2,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM]: Testing Nodejs Job

Change-Id: I9f3da2d2c00c7f335ff9dce483c0dede91604749
"
openstack%2Fblazar-dashboard~master~I5d293b58691eb3dd8dc43926be09f0de9883ae76,openstack/blazar-dashboard,master,,I5d293b58691eb3dd8dc43926be09f0de9883ae76,[DNM] Test blazar-dashboard with horizon jobs on focal,ABANDONED,2020-08-19 16:27:35.000000000,2020-08-20 09:21:47.000000000,,1,0,0,746987,faea1c90785848bd13721f21579cbdbbbbbe39f3,7,2,2,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test blazar-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I5d293b58691eb3dd8dc43926be09f0de9883ae76
"
openstack%2Fcloudkitty-dashboard~master~Icb40308409b39b1ddffad43b1833e58ca0ade229,openstack/cloudkitty-dashboard,master,,Icb40308409b39b1ddffad43b1833e58ca0ade229,[DNM] Test horizon jobs on focal,ABANDONED,2020-08-19 16:35:58.000000000,2020-08-20 09:21:36.000000000,,1,0,0,746989,3cb2b4a55f2abc4206b9ef87a5a8df7e3b145d48,4,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: Icb40308409b39b1ddffad43b1833e58ca0ade229
"
openstack%2Freleases~master~I36ad5513dc8dc5fa5dcc3003d7b32b46e88cb6ac,openstack/releases,master,victoria-cwi,I36ad5513dc8dc5fa5dcc3003d7b32b46e88cb6ac,Switch magnum-ui to cycle-with-rc,MERGED,2020-08-13 16:33:47.000000000,2020-08-20 08:25:24.000000000,2020-08-20 08:25:24.000000000,1,1,0,746192,034e4c6cacad9802621432a9b971b8f5da47a139,10,5,1,1,11904,Sean McGinnis,SeanM,"Switch magnum-ui to cycle-with-rc

Deliverables following the cycle-with-intermediary model are expected
to release multiple times throughout the development cycle. Since
magnum-ui only released once last cycle, and has not done a
release yet this cycle, this proposes changing the release model to
cycle-with-rc so the expectation is only that it will release an RC by
the end of the cycle prior to doing the final release.

This is just a suggestion for the team to consider. The important point
is past the milestone-2 point, downstream planning starts happening
for what will be included in the release. We just want to try to avoid
the situation where downstream expects something to be included, but we
need to unexpectedly drop it from the coordinated release late in the
cycle.

For the team, please respond to this patch in one of the following ways:

* -1 this patch and follow up with an intermediary release
* +1 this patch and we will switch over the release model
* -1 this patch, but acknowledge a release will be done prior to the
  RC1 deadline.

Change-Id: I36ad5513dc8dc5fa5dcc3003d7b32b46e88cb6ac
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fnova~master~I7f93cfd18f948134c9cb429dea55740d2cf97994,openstack/nova,master,bug/1489304,I7f93cfd18f948134c9cb429dea55740d2cf97994,Add checks for volume status when rebuilding,MERGED,2020-06-10 02:40:36.000000000,2020-08-20 08:25:07.000000000,2020-08-20 08:21:15.000000000,98,4,9,734734,10e9a9b9fc62a3cf72c3717e3621ed95d3cf5519,208,19,18,4,31960,sunhao,sunhao,"Add checks for volume status when rebuilding

When rebuilding, we should only allow detaching
the volume with 'in-use' status, volume in status
such as 'retyping' should not allowed.

Change-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994
Closes-Bug: #1489304
"
openstack%2Fopenstack-planet~master~I786a49724c2c97fde7a3e2e8ee74a0378d6f96d2,openstack/openstack-planet,master,,I786a49724c2c97fde7a3e2e8ee74a0378d6f96d2,Add damani to Planet OpenStack.,MERGED,2020-08-18 13:11:51.000000000,2020-08-20 08:04:53.000000000,2020-08-20 08:04:53.000000000,5,0,0,746712,2bee2113ebacff8b83d37b497fb4edbcc5e5bd51,7,2,2,2,31245,Daniel Bengtsson,damani42,"Add damani to Planet OpenStack.

Add my blog.

Change-Id: I786a49724c2c97fde7a3e2e8ee74a0378d6f96d2
"
openstack%2Fnetworking-bagpipe~stable%2Fussuri~I0cc70af50dbbad972baece017c7b31e0ae696579,openstack/networking-bagpipe,stable/ussuri,pep8-error,I0cc70af50dbbad972baece017c7b31e0ae696579,Fix pep8 job,MERGED,2020-07-27 14:40:56.000000000,2020-08-20 07:51:44.000000000,2020-08-20 00:14:44.000000000,2,0,0,743245,b14e767b1db4ccd9a61d06fe74ce6cbd501fc3d6,11,4,1,2,8313,Lajos Katona,elajkat,"Fix pep8 job

New versions of isort broke pylint. This patch fixes it at 4.3.21.
Conflicts: test-requirements.txt

Change-Id: I0cc70af50dbbad972baece017c7b31e0ae696579
(cherry picked from commit 30b058ec04f4ccbbbca41c36b72f877634873352)
"
openstack%2Fkolla-ansible~stable%2Fussuri~I5ac8f20a2157d880b63a4c70bf6c782d06014f41,openstack/kolla-ansible,stable/ussuri,skip-broken-ansible-lint-stable/ussuri,I5ac8f20a2157d880b63a4c70bf6c782d06014f41,Skip broken ansible-lint,MERGED,2020-08-19 08:02:34.000000000,2020-08-20 07:49:26.000000000,2020-08-20 07:47:44.000000000,1,1,0,746852,e74782af46eeff564a2c62a93dbbd0c86bd6f61f,19,2,1,1,30491,Radosław Piliszek,yoctozepto,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I5ac8f20a2157d880b63a4c70bf6c782d06014f41
(cherry picked from commit a90aa3e4435a6124284260094b3e875c7bc9c96d)
"
openstack%2Fdiskimage-builder~master~I56ed875632a66be4b5bf7efeed83491b34d4bf73,openstack/diskimage-builder,master,,I56ed875632a66be4b5bf7efeed83491b34d4bf73,Add handling for no activate_this.py in venv,ABANDONED,2020-01-28 00:48:19.000000000,2020-08-20 07:34:08.000000000,,14,3,15,704478,64f10a926553923dfcc109fc342095cbf9892999,31,8,3,1,11655,Julia Kreger,jkreger,"Add handling for no activate_this.py in venv

The python3 included venv module does not place an
activate_this.py file. Since this file seems to just
effectively inject the path in newer python versions,
there is no reason we can't determine the path and
inject the path as-is.

Change-Id: I56ed875632a66be4b5bf7efeed83491b34d4bf73
"
openstack%2Ffreezer-api~master~Iacc4c218c29d44dabbf2bc933291790e7c9b7480,openstack/freezer-api,master,native-zuulv3-migration,Iacc4c218c29d44dabbf2bc933291790e7c9b7480,zuul: use the freezer-tempest-plugins jobs and cleanup,MERGED,2020-08-10 12:46:28.000000000,2020-08-20 07:28:47.000000000,2020-08-20 07:24:19.000000000,4,115,0,745524,db0c4dd3c717d2e2bf67ef7e50fa1e2fa7bef6d4,10,2,2,1,10459,Luigi Toscano,ltoscano,"zuul: use the freezer-tempest-plugins jobs and cleanup

- use the jobs already defined inside freezer-tempest-plugins
  instead of redefining them locally, as they are the same;
- remove the other legacy jobs, as they are not used and
  the jobs from freezer-tempest-plugins could be directly used
  or adapted if needed.

Change-Id: Iacc4c218c29d44dabbf2bc933291790e7c9b7480
"
openstack%2Fopenstack-ansible-os_ironic~master~I9a6e7273f752b6bdc1639be299e00933889b6cc9,openstack/openstack-ansible-os_ironic,master,,I9a6e7273f752b6bdc1639be299e00933889b6cc9,Add ironic-inspector to constraints,MERGED,2020-08-19 14:12:26.000000000,2020-08-20 07:23:53.000000000,2020-08-20 07:18:01.000000000,3,1,0,746933,bea6f664bd5f60b5c9a0aaf88a6e57c0b04cae85,12,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add ironic-inspector to constraints

We missed adding ironic-inspector to constraints which resulted
in installing always the latest avaialbe version in the pypi.

Depends-On: https://review.opendev.org/746931
Change-Id: I9a6e7273f752b6bdc1639be299e00933889b6cc9
"
openstack%2Fec2api-tempest-plugin~master~I3e7aa1a18509f3a177d0d5f8f6e537e55f01d81c,openstack/ec2api-tempest-plugin,master,,I3e7aa1a18509f3a177d0d5f8f6e537e55f01d81c,Add simple s3 test for create/delete bucket,MERGED,2020-08-14 04:57:21.000000000,2020-08-20 07:23:18.000000000,2020-08-17 05:54:48.000000000,44,0,2,746270,8cfb9bdc2ee93b2ea59a54a7482afe8dce4ec566,14,2,2,1,3031,Sam Morrison,sorrison,"Add simple s3 test for create/delete bucket

Change-Id: I3e7aa1a18509f3a177d0d5f8f6e537e55f01d81c
"
openstack%2Frpm-packaging~master~Ib601be6c3bdfe062aadf49b68b007a8ecbb3d4c6,openstack/rpm-packaging,master,,Ib601be6c3bdfe062aadf49b68b007a8ecbb3d4c6,August 11th updates,MERGED,2020-08-13 12:04:41.000000000,2020-08-20 07:18:04.000000000,2020-08-20 07:18:04.000000000,7,7,1,746113,2d0d2d712a7d88e22fb7c36d9fc41b78f54dd047,21,7,2,7,6593,Dirk Mueller,dmllr,"August 11th updates

Change-Id: Ib601be6c3bdfe062aadf49b68b007a8ecbb3d4c6
"
openstack%2Ftripleo-ci~master~I211c3885caa2605205a92cc45314acac2a0e65ac,openstack/tripleo-ci,master,,I211c3885caa2605205a92cc45314acac2a0e65ac,add ansible config to container build logs,MERGED,2020-08-19 18:55:56.000000000,2020-08-20 07:09:28.000000000,2020-08-20 07:09:28.000000000,2,0,0,747022,29fd5e83a9fd66f522303595e4d386f21fb08558,8,4,1,1,9592,wes hayutin,weshayutin,"add ansible config to container build logs

Change-Id: I211c3885caa2605205a92cc45314acac2a0e65ac
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I6b1b8bd1e7800720f6bbbe418c1f83b2f710fb48,openstack/python-tripleoclient,stable/train,plan,I6b1b8bd1e7800720f6bbbe418c1f83b2f710fb48,Use user set password values in overcloud export,MERGED,2020-08-13 15:29:49.000000000,2020-08-20 05:54:48.000000000,2020-08-20 05:52:57.000000000,52,20,0,746160,c15d0d0ba0b3de7e78a9d9a4b1c88b8f497b97df,23,5,3,3,3153,Emilien Macchi,emilienm,"Use user set password values in overcloud export

The overcloud export command needs to look at both the
parameter_defaults and passwords keys from plan-environment.yaml.
passwords contains only the generated password values, while
parameter_defaults contains any user set values. If a value is not set
in parameter_defaults, then passwords can be used.

Change-Id: I6b1b8bd1e7800720f6bbbe418c1f83b2f710fb48
Closes-Bug: #1891388
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit ced221406b70c348453c82247c9274fb11c77dd3)
"
openstack%2Fopenstack-ansible~master~I8cbcc4f878415d19506c3faadd554fbd2e9a81a4,openstack/openstack-ansible,master,746931,I8cbcc4f878415d19506c3faadd554fbd2e9a81a4,Add ironic-inspector to the openstack_services,MERGED,2020-08-19 14:01:13.000000000,2020-08-20 05:37:53.000000000,2020-08-20 00:16:11.000000000,8,0,0,746931,4f1d3610159fc4eec5559900527e4e078848cf6f,12,3,3,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add ironic-inspector to the openstack_services

We clean forgot about adding ironic-inspector to the services, so
it's time we fix that.

Change-Id: I8cbcc4f878415d19506c3faadd554fbd2e9a81a4
"
openstack%2Fopenstack-ansible~master~Ibfab5ce56b36b7b96f8e376aa7f228ad6643cabf,openstack/openstack-ansible,master,osa/placement,Ibfab5ce56b36b7b96f8e376aa7f228ad6643cabf,Remove nova_api_placement from inventory,MERGED,2020-08-17 15:03:27.000000000,2020-08-20 05:37:04.000000000,2020-08-20 02:22:23.000000000,9,23,0,746538,6d8337b327e8be582cef6270b21846b34fe21f0a,25,4,2,6,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove nova_api_placement from inventory

Since placement is standalone since train, it time we removed
nova_api_placement group from inventory and playbooks

Change-Id: Ibfab5ce56b36b7b96f8e376aa7f228ad6643cabf
"
openstack%2Fnova~master~I75a30bf9d7d7e7e33876539639d70c0cb3c1c37f,openstack/nova,master,trivial,I75a30bf9d7d7e7e33876539639d70c0cb3c1c37f,libvirt: Remove MIN_LIBVIRT_ETHERNET_SCRIPT_PATH_NONE,MERGED,2020-05-26 15:49:28.000000000,2020-08-20 05:02:28.000000000,2020-08-20 04:59:08.000000000,8,32,0,730865,d84446bdd8019e32a452f340f037a93388f2433b,43,16,2,3,15334,Stephen Finucane,sfinucan,"libvirt: Remove MIN_LIBVIRT_ETHERNET_SCRIPT_PATH_NONE

Our MIN_LIBVIRT_VERSION is now greater than this.

Change-Id: I75a30bf9d7d7e7e33876539639d70c0cb3c1c37f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fneutron~stable%2Fussuri~I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,openstack/neutron,stable/ussuri,bug/1878299,I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,port_forwarding: validate args before invoking db update,MERGED,2020-07-31 14:01:22.000000000,2020-08-20 05:02:10.000000000,2020-08-20 04:59:18.000000000,129,1,0,744177,c678d89dabc0b39a266c7c0c7b99bd156b6fa5c9,26,7,3,2,11952,Flavio Fernandes,ffernand,"port_forwarding: validate args before invoking db update

Add validator to update_floatingip_port_forwarding so codepath does not
attempt performing invalid database operation. With that, operation fails
right away, with a hint on the offending argument(s).

This is a backport that combines changes from 2 changes that go together:
https://review.opendev.org/#/c/738145/
https://review.opendev.org/#/c/744993/

Change-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04
Closes-Bug: #1878299
(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)
(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)
"
openstack%2Fnova~master~I02f39d0f97e4cd3e30d477b46215fe1fa5f17f6f,openstack/nova,master,trivial,I02f39d0f97e4cd3e30d477b46215fe1fa5f17f6f,trivial: Remove unused attributes,MERGED,2020-07-27 17:04:32.000000000,2020-08-20 05:01:13.000000000,2020-08-20 04:58:48.000000000,13,21,2,743284,27336fb465a8cdab8e7ac82b30cce142080ae56f,36,15,2,2,15334,Stephen Finucane,sfinucan,"trivial: Remove unused attributes

These seem to be hangover from the very first days of the libvirt
driver.

Change-Id: I02f39d0f97e4cd3e30d477b46215fe1fa5f17f6f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fneutron~stable%2Fussuri~I3f62b91a21ac7e708fb04154194f45a6ff1b6a76,openstack/neutron,stable/ussuri,bug/1887781-stable/ussuri,I3f62b91a21ac7e708fb04154194f45a6ff1b6a76,ovn-migration-mtu: Support migrating MTU of GRE networks,MERGED,2020-08-18 13:34:55.000000000,2020-08-20 05:01:06.000000000,2020-08-20 04:58:41.000000000,15,5,0,746721,3549e52467a6b7bb2160f44f7c6ed976e94232b1,16,6,1,1,11805,Corey Bryant,coreycb,"ovn-migration-mtu: Support migrating MTU of GRE networks

Add support for adjusting MTU on GRE networks the same way the
tool already supports adjusting MTU on VXLAN networks.

Change-Id: I3f62b91a21ac7e708fb04154194f45a6ff1b6a76
Closes-Bug: #1887781
(cherry picked from commit a418d55bc282990847626a2dcb09a8c97604582a)
"
openstack%2Fneutron~stable%2Ftrain~Id988cab87d32d5721cd91152df194fbb6fa703c5,openstack/neutron,stable/train,bug/1887385,Id988cab87d32d5721cd91152df194fbb6fa703c5,String to byte conversion should provide the encoding type,MERGED,2020-07-31 16:28:18.000000000,2020-08-20 05:01:03.000000000,2020-08-20 04:59:26.000000000,2,1,4,744218,0090884e15068a69f229044e37847ae13432c970,47,6,3,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"String to byte conversion should provide the encoding type

Note:
In Train we still need to support Python 2.7 so this commit
adds import of six and six is used to make correct convertion
to bytes in both Python 2.7 and Python 3.

Change-Id: Id988cab87d32d5721cd91152df194fbb6fa703c5
Closes-Bug: #1887385
(cherry picked from commit 7a56b8f3bc5187846ce9f62dd9347ab5ffefcb5c)
(cherry picked from commit 18f019984a71a0e09530c2e6ec29c010968de90e)
"
openstack%2Fswift~master~If41e3d542b30747da7ca289708e9d24873c46e2e,openstack/swift,master,735220,If41e3d542b30747da7ca289708e9d24873c46e2e,proxy-logging: Be able to configure log_route,MERGED,2020-06-11 19:39:01.000000000,2020-08-20 05:00:59.000000000,2020-08-20 04:59:23.000000000,7,2,2,735220,2ffe598f4855665e7b8d386b3a592a560228a6b5,15,3,3,2,15343,Tim Burke,tburke,"proxy-logging: Be able to configure log_route

This lets you have separate loggers for the left and right proxy-logging
middlewares, so you can have a config like

    [pipeline:main]
    pipeline = ... proxy-logging-client ... proxy-logging-subrequest proxy-server

    [proxy-logging-client]
    use = egg:swift#proxy_logging
    access_log_statsd_metric_prefix = client-facing

    [proxy-logging-subrequest]
    use = egg:swift#proxy_logging
    access_log_route = subrequest
    access_log_statsd_metric_prefix = subrequest

to isolate subrequest metrics from client-facing metrics.

Change-Id: If41e3d542b30747da7ca289708e9d24873c46e2e
"
openstack%2Ftempest~master~I9459db0dbeda721187ea5f4802c7453c2092dac3,openstack/tempest,master,bug/1890060,I9459db0dbeda721187ea5f4802c7453c2092dac3,Improve unit tests for subunit_describe_calls,MERGED,2020-07-18 16:16:30.000000000,2020-08-20 05:00:57.000000000,2020-08-20 04:59:15.000000000,522,207,16,741810,6aa733e0f348bc9c3362d0a5c5b881cc77472968,83,16,20,5,17887,Doug Schveninger,Doug.Schveninger,"Improve unit tests for subunit_describe_calls

in order to enhance the cmd to support kubernetes url based
routing over port based routing.  Once this is merged I will
submit another patch set to subunit_describe_calls to support
-u --urls (Optional) The path to a JSON file describing the urls
  being used by different services. Note Can not be used with -p.

Added test cases for cliff subprocess and found a bug with the
-v. The standard -v --verbose of cliff conflict with this command
 so I changed the -v --verbose to -a --all for print header
with printing to stdout I am also getting ready to add test cases
for cliff subprocess support for different options. Bug #1890060

Correct os join in test cases to avoid a conflict with
https://review.opendev.org/#/c/683026

Closes-bug: #1890060
Change-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3
"
openstack%2Fnova~master~I795f96ab02c6aa0ebbbe211af37707d91dcc9e93,openstack/nova,master,trivial,I795f96ab02c6aa0ebbbe211af37707d91dcc9e93,Remove warning filters for legacy Python version,MERGED,2020-07-27 17:04:32.000000000,2020-08-20 04:58:59.000000000,2020-08-20 04:58:59.000000000,2,8,0,743285,77d3f5bacf1cf203c931756b92f241e0a76d1287,21,10,2,1,15334,Stephen Finucane,sfinucan,"Remove warning filters for legacy Python version

The nested context warning was raised from contextlib.nested, which is a
Python 2.7-only construct, while the 'pkg_resources' issues are not
present in Python 3.6 and later.

Change-Id: I795f96ab02c6aa0ebbbe211af37707d91dcc9e93
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpuppet-heat~stable%2Fussuri~If689eb5e896dba443358ac83cd7f566aacc276f1,openstack/puppet-heat,stable/ussuri,,If689eb5e896dba443358ac83cd7f566aacc276f1,Expose vhost_custom_fragment,MERGED,2020-08-19 16:10:08.000000000,2020-08-20 04:08:28.000000000,2020-08-20 04:08:28.000000000,10,3,0,746975,8b91724b4004d8e975ee0acbcdedf957ceb0421b,7,3,1,2,25877,Luke Short,ekultails,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Heat CFN service.

Change-Id: If689eb5e896dba443358ac83cd7f566aacc276f1
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 0e85f1c7b0d7c8819aedeb83da10eea4633d2e25)
"
openstack%2Fopenstack-helm-infra~master~I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb,openstack/openstack-helm-infra,master,test_cinder,I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb,[DNM] Test Cinder Depends on : https://review.opendev.org/#/c/745468/,ABANDONED,2020-05-01 02:47:05.000000000,2020-08-20 02:59:25.000000000,,0,6,0,724790,62daa1b108e5f646f0c07da82d4bf120262af0da,34,2,9,1,29131,diwakar thyagaraj,dt241s@att.com,"[DNM] Test Cinder
Depends on : https://review.opendev.org/#/c/745468/

Change-Id: I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
"
openstack%2Fpython-tripleoclient~master~I70bbc40f8e5eb709d9f0f608e936a818e082918b,openstack/python-tripleoclient,master,state/undercloud,I70bbc40f8e5eb709d9f0f608e936a818e082918b,overcloud_deploy: move horizon url/rc files before config-download,MERGED,2020-07-28 14:36:41.000000000,2020-08-20 02:26:33.000000000,2020-08-20 02:22:16.000000000,17,17,0,743556,9dec1b2e334e110b03f951c9fd3480f6c3dc8e11,40,5,5,1,3153,Emilien Macchi,emilienm,"overcloud_deploy: move horizon url/rc files before config-download

When a deployment fails, we run the playbooks to generate horizon URL &
RC files anyway. However it is confusing to have them at the end, after
the actual trace and an operator with a small screen won't see the
actual errors easily.

Let's just move these actions before the config download execution,
which has no impact anyway; but will improve logging a lot.

Change-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b
Related-Bug: #1889212
"
openstack%2Ftripleo-validations~stable%2Ftrain~I07fd17501ea66d229549fcf4031ae4126b055906,openstack/tripleo-validations,stable/train,,I07fd17501ea66d229549fcf4031ae4126b055906,"Updated ""overcloud"" to ""allovercloud"" group",MERGED,2020-08-12 06:04:11.000000000,2020-08-20 02:23:50.000000000,2020-08-20 02:22:12.000000000,18,18,0,745788,015dab217e946355f7a249f174c67a85a6b679d8,13,6,1,14,28223,Cedric Jeanneret,cjeanner,"Updated ""overcloud"" to ""allovercloud"" group

Apparently this is the new term to access all the overcloud nodes.

Closes-Bug: #1891267
Change-Id: I07fd17501ea66d229549fcf4031ae4126b055906
(cherry picked from commit 1a4991daf38d61e453ae4d948e7e639f52986943)
"
openstack%2Ftripleo-common~stable%2Fussuri~If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,openstack/tripleo-common,stable/ussuri,ussuri/uidgid,If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,(backward compatibility) create kolla UIDs/GIDs for TCIB,MERGED,2020-08-17 15:00:34.000000000,2020-08-20 02:23:35.000000000,2020-08-20 02:22:15.000000000,158,30,0,746533,70b1ca4b1cee3813ee49cd71d8e16b9337ad11fd,33,7,1,30,3153,Emilien Macchi,emilienm,"(backward compatibility) create kolla UIDs/GIDs for TCIB

When upgrading container images from Kolla-based to TCIB-based, the
config files can't be read if we don't apply the new chown values unless
we re-use the same UIDs/GIDs as we had with Kolla; which is what we'll
do for now until we figure out an easy way to update config permissions
during the upgrade/update stage.

This introduces a new script, that will be injected in the base layer:

uid_gid_manage.sh

Usage:

./uid_gid_manage.sh qemu nova

It'll first create the qemu user/group, then nova user/group.
The format aims to be simple:

<username> <uid> <gid> <optional homedir> <optional list of extra groups>

It's also removing instances of usermod which aren't needed anymore;
since we create the user / groups only in the images where they are
needed; which wasn't the case for Kolla where all users/groups were
created in the base image.

Note: we create the user/group before installing packaging so if
packaging creates directories and sets permissions, it'll be with the
right UID/GID (unless packaging overrides UID/GID but rarely do it).

Related-Bug: #1890798

Change-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6
(cherry picked from commit fb0ec2ffd0a99d441c361bb83472e48ead18d013)
"
openstack%2Ftripleo-ci~master~I864ed5605b82a0c857bc71bb743320bb5216b391,openstack/tripleo-ci,master,tripleo,I864ed5605b82a0c857bc71bb743320bb5216b391,collect-logs: add ~/.tripleo dir collection,MERGED,2020-08-17 19:47:50.000000000,2020-08-20 02:22:13.000000000,2020-08-20 02:22:13.000000000,1,0,0,746592,04d2dfa539db681946aaa5a52d7197cd57f6cdaf,30,7,3,1,3153,Emilien Macchi,emilienm,"collect-logs: add ~/.tripleo dir collection

This directory will have more files in there when we switch the tripleo
deploy command (standalone) to work without root. In advance we want to
start collecting the directory for further potential debug in TripleO
CI.

Change-Id: I864ed5605b82a0c857bc71bb743320bb5216b391
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I02d577939b0002b0e605ac0cbbda54e05e0b206f,openstack/tripleo-heat-templates,stable/train,,I02d577939b0002b0e605ac0cbbda54e05e0b206f,Add new Luna HSM parameter for Barbican,MERGED,2020-07-16 19:48:11.000000000,2020-08-20 02:22:11.000000000,2020-08-20 02:22:10.000000000,43,13,0,741534,3dd00efb879b5e4a6dc72b97699cf44c5bb85928,16,7,3,2,7973,Douglas Mendizábal,dougmendizabal,"Add new Luna HSM parameter for Barbican

This patch adds a new parameter for deploying Barbican with
a Thales Luna Network HSM (LunasaClientIPNetwork).

LunasaClientIPNetwork can be used to register controller nodes
with the HSM using the controller's IP address on the given
network instead of its fqdn.

Co-Authored-By: Ade Lee <alee@redhat.com>
Depends-On: If0eb393ca970206cc95c7453641f33781eb698b2
Change-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f
(cherry picked from commit ead85251e95ce69ef64237905ace970fe406a06a)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I02d577939b0002b0e605ac0cbbda54e05e0b206f,openstack/tripleo-heat-templates,stable/ussuri,add_barbican_lunasa-stable/ussuri,I02d577939b0002b0e605ac0cbbda54e05e0b206f,Add new Luna HSM parameter for Barbican,MERGED,2020-07-16 19:36:39.000000000,2020-08-20 02:22:09.000000000,2020-08-20 02:22:09.000000000,43,13,0,741530,7dcd5eb871e08d124c234c976e3f9970caaf46ec,17,6,3,2,7973,Douglas Mendizábal,dougmendizabal,"Add new Luna HSM parameter for Barbican

This patch adds a new parameter for deploying Barbican with
a Thales Luna Network HSM (LunasaClientIPNetwork).

LunasaClientIPNetwork can be used to register controller nodes
with the HSM using the controller's IP address on the given
network instead of its fqdn.

Co-Authored-By: Ade Lee <alee@redhat.com>
Depends-On: If0eb393ca970206cc95c7453641f33781eb698b2
Change-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f
(cherry picked from commit ead85251e95ce69ef64237905ace970fe406a06a)
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I6816d414409da3748b2e341ec05ebcad86ad8fd1,openstack/puppet-tripleo,stable/train,bug/1888398-stable/train2,I6816d414409da3748b2e341ec05ebcad86ad8fd1,Make sure python3-novaclient is installed before creating fence_compute,MERGED,2020-08-18 08:09:41.000000000,2020-08-20 02:22:07.000000000,2020-08-20 02:22:07.000000000,8,2,0,746654,f28b6907c799731549ece3011e5e2920201b457d,17,5,1,1,20172,Michele Baldessari,michele,"Make sure python3-novaclient is installed before creating fence_compute

This has been observed during an IHA FFU process. Namely
after the OS upgrade by LEAPP the fence_compute resource will
fail starting because python3-novaclient is not installed.
Normally this is taken care of by rpm dependencies, but
fence_compute is buggy and does not explicitely have that
dep (https://bugzilla.redhat.com/show_bug.cgi?id=1857247)

So we need to make sure the package is installed before
creating the resource.

Tested this on four consecutive successful IHA FFU runs
and it worked okay.

NB: Cherry-pick not 100% due to relative class names

Related-Bug: #1888398

Change-Id: I6816d414409da3748b2e341ec05ebcad86ad8fd1
(cherry picked from commit c1e9447998c635a825529cff99b99ed13a4e89d7)
(cherry picked from commit c3e86ea6dc0b2f57af12a088c2086e6fc70a95b0)
"
openstack%2Fneutron~stable%2Frocky~I2b1f4c4e951b691fb0c66119699b26540b0babd8,openstack/neutron,stable/rocky,drop-master-jobs,I2b1f4c4e951b691fb0c66119699b26540b0babd8,[Stable only] Drop *-master jobs,MERGED,2020-08-19 08:33:42.000000000,2020-08-20 02:03:50.000000000,2020-08-20 02:03:50.000000000,0,23,0,746858,d54a0da091d847c376c1b94fb386e576f9259426,10,4,1,1,21798,Bernard Cafarelli,bcafarel,"[Stable only] Drop *-master jobs

These jobs are used to test neutron against current master branches of
external projects (ryu).

Stable branches are not expected to run with this setup so we can drop
the jobs there (especially as some of these jobs are periodic ones).

Conflicts:
	.zuul.yaml

This is adapted to the older single .zuul.yaml file layout

Change-Id: I2b1f4c4e951b691fb0c66119699b26540b0babd8
(cherry picked from commit 21719a875d63adc9a823de7feacb119e5887f5af)
(cherry picked from commit da0bad4acc7c293fc8b74d5fff29ec1cccd41814)
"
openstack%2Fmasakari-monitors~master~I231d34b2b45db426e4bb76026eb9fc441d706ed5,openstack/masakari-monitors,master,migrate-to-focal,I231d34b2b45db426e4bb76026eb9fc441d706ed5,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-02 00:11:35.000000000,2020-08-20 01:59:06.000000000,2020-08-20 01:57:22.000000000,1,2,0,744342,03ef3555888fdd0ea38b4edfdc093382071f1031,24,8,5,1,8556,Ghanshyam,ghanshyam,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

removing the python-libvirt from bindep as that is py2 things and not
available/needed for Focal/Victoria testing.

Story: #2007865
Task: #40195

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal


Change-Id: I231d34b2b45db426e4bb76026eb9fc441d706ed5
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fnetworking-bagpipe~stable%2Fussuri~I5ea4bb27361df3c489deedb51d7ca8ea64bb923b,openstack/networking-bagpipe,stable/ussuri,bug/1863021-stable/ussuri,I5ea4bb27361df3c489deedb51d7ca8ea64bb923b,Monkey patch original current_thread _active,MERGED,2020-05-07 09:42:35.000000000,2020-08-20 01:55:54.000000000,2020-08-20 01:54:25.000000000,6,0,0,726073,0e866eed9f6c3e545a2fd6c0b680a718996661a5,16,5,2,1,21798,Bernard Cafarelli,bcafarel,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Change-Id: I5ea4bb27361df3c489deedb51d7ca8ea64bb923b
Closes-Bug: #1863021
(cherry picked from commit f0db421843f1161f4daa1e08b83eb2b11e78d9dd)
"
openstack%2Fneutron~stable%2Ftrain~I2b1f4c4e951b691fb0c66119699b26540b0babd8,openstack/neutron,stable/train,drop-master-jobs,I2b1f4c4e951b691fb0c66119699b26540b0babd8,[Stable only] Drop *-master jobs,MERGED,2020-08-19 08:26:11.000000000,2020-08-20 01:28:42.000000000,2020-08-20 01:25:09.000000000,0,12,0,746855,da0bad4acc7c293fc8b74d5fff29ec1cccd41814,10,4,1,1,21798,Bernard Cafarelli,bcafarel,"[Stable only] Drop *-master jobs

These jobs are used to test neutron against current master branches of
external projects (os-ken).

Stable branches are not expected to run with this setup so we can drop
the jobs there (especially as some of these jobs are periodic ones).

Conflicts:
	.zuul.yaml

This is adapted to the older single .zuul.yaml file layout

Change-Id: I2b1f4c4e951b691fb0c66119699b26540b0babd8
(cherry picked from commit 21719a875d63adc9a823de7feacb119e5887f5af)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf,openstack/tripleo-ansible,stable/train,train/label2,I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf,Switch podman actions to use label,MERGED,2020-08-11 14:10:11.000000000,2020-08-20 01:26:48.000000000,2020-08-20 01:26:48.000000000,4,4,0,745681,86c95804599c920fa7fe0e18103cf386b50d729d,33,6,7,2,3153,Emilien Macchi,emilienm,"Switch podman actions to use label

We don't have to use no_log if we use label to prevent all the info from
being outputed during execution.

Change-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf
(cherry picked from commit 5c880c0f61ed297d1fc91c5d2a3c5121fa212377)
"
openstack%2Fneutron~master~I2674bdc448d9a091b9fe8c68f0866fd19141c6be,openstack/neutron,master,bug/1890539,I2674bdc448d9a091b9fe8c68f0866fd19141c6be,Fix port can not be created with the sg of other project,MERGED,2020-08-06 08:22:44.000000000,2020-08-20 01:11:27.000000000,2020-08-14 13:52:32.000000000,124,5,9,745089,cc54a1c38e0b537883de43fecda781034c80daf3,66,14,6,5,29157,zhanghao,zhanghao2,"Fix port can not be created with the sg of other project

This patch adds the verification of whether admin context when
verifying the valid security groups of port.

Change-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be
Closes-Bug: #1890539
"
openstack%2Frequirements~stable%2Fussuri~Ie30fe79e686f89fbdb246b5330d5b9f10aecf354,openstack/requirements,stable/ussuri,,Ie30fe79e686f89fbdb246b5330d5b9f10aecf354,Add ansible to blacklist,MERGED,2020-08-19 18:31:41.000000000,2020-08-20 00:48:29.000000000,2020-08-20 00:48:29.000000000,3,0,0,747012,f047fe28b6eb5d5e4c982f41180b49e9948b5bf2,10,6,1,1,30491,Radosław Piliszek,yoctozepto,"Add ansible to blacklist

Some projects, such as kolla-ansible, have a dependency on ansible. At
present it is not possible to add this to your requirements as it does
not appear in the global requirements file. However, it is useful to
have ansible as dependency to allow testing of plugins.

There is not a strong dependence on the openstack libraries, so it makes
sense to include this in the blacklist and not in global requirements,
so that the individual projects can specify the version required.

The reason for Ussuri backport: Kolla cut off the Ussuri branch
already in Victoria cycle, with this in place, and now it fails
on req-checks jobs in Ussuri.

Change-Id: Ie30fe79e686f89fbdb246b5330d5b9f10aecf354
(cherry picked from commit dcef447f6d5233ecc20ba19b7fa1e04e7dfb740c)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,openstack/tripleo-ansible,stable/ussuri,config/json-stable/ussuri,I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,tripleo_container_configs module,MERGED,2020-08-19 18:26:24.000000000,2020-08-20 00:32:18.000000000,2020-08-20 00:30:05.000000000,209,0,0,747008,b7601805f0cfc962c67b9acfe79aa88a58bd257f,8,3,1,5,3153,Emilien Macchi,emilienm,"tripleo_container_configs module

To replace the task that looks over kolla_config.yaml and creates the
json files per item in the YAML, create a module that will lead to one
task creating all the files.

Change-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6
(cherry picked from commit bfc2681ad539e55087c1f4a15e638c34c31dc7e1)
"
openstack%2Fnetworking-bgpvpn~master~I701c89ecc890a1d866815b5401cd4c022c51c9c4,openstack/networking-bgpvpn,master,hacking3,I701c89ecc890a1d866815b5401cd4c022c51c9c4,Switch to hacking 3.0.1,MERGED,2020-02-28 13:27:12.000000000,2020-08-20 00:30:50.000000000,2020-08-20 00:29:07.000000000,90,80,32,710447,96c266c9a797e44e43ce01f2469156eb285e9f0f,51,8,13,23,8313,Lajos Katona,elajkat,"Switch to hacking 3.0.1

Make the code compatible with hacking rules:
* import order problems
* line break before/after binary operator (for this added ignore for
W504, line break after binary operator
* indentation problems

I removed the rule N530 (Direct neutron imports not allowed), as that is
a longer story.
As a side-effect use newer pylint version, and fix the problems reported

Change-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4
Depends-On: https://review.opendev.org/#/c/708965/
"
openstack%2Fopenstack-helm~master~Ibc013ffd4e8fe7500fcfdd285ad896b0e6b97acc,openstack/openstack-helm,master,,Ibc013ffd4e8fe7500fcfdd285ad896b0e6b97acc,feat-tls: Add certs to cinder scheduler and Volume.,MERGED,2020-08-19 21:53:33.000000000,2020-08-19 23:41:40.000000000,2020-08-19 23:40:05.000000000,5,0,0,747049,0a91dd5f30d6ebccd219f5e3a3279a32baef1bd6,10,4,1,3,24780,Sangeet Gupta,sgupta,"feat-tls: Add certs to cinder scheduler and Volume.

This ps mounts certs to scheduler and Volume.

Change-Id: Ibc013ffd4e8fe7500fcfdd285ad896b0e6b97acc
"
openstack%2Fopenstack-ansible-os_nova~master~Ic4a2dfeeb022e1dbe0b1ba8aa0d0dd5feb7a8ffe,openstack/openstack-ansible-os_nova,master,bind-to-mgmt,Ic4a2dfeeb022e1dbe0b1ba8aa0d0dd5feb7a8ffe,Use the utility host for db setup tasks,MERGED,2020-08-19 18:15:20.000000000,2020-08-19 23:28:02.000000000,2020-08-19 23:25:09.000000000,12,1,0,747006,5e528413913d52154a1bbbe2d014b17ecb6c0968,8,3,1,3,28008,Guilherme,guilhermesp,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: Ic4a2dfeeb022e1dbe0b1ba8aa0d0dd5feb7a8ffe
"
openstack%2Foctavia~stable%2Fussuri~I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba,openstack/octavia,stable/ussuri,,I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba,Set amphora-agent build-only packages,MERGED,2020-08-19 08:00:11.000000000,2020-08-19 22:40:10.000000000,2020-08-19 22:38:20.000000000,7,7,0,746849,19557664170d54ace5fc919c48ae46ed9172c96a,14,3,1,2,6469,Carlos Gonçalves,cgoncalves,"Set amphora-agent build-only packages

A recent change in DIB [1] broke our CentOS 8 amphora image builds only
because we've not been handling package dependencies propertly.

The DIB change now installs package ""python3"" which provides
/usr/bin/python3 and is a requirement of scripts in later build phases.
It so happens that we are removing package ""python3-pip"", a dependency
of ""python36"" too early so builds fail when bin python3 is required.

DIB package-installs element provides property ""build-only"". When set,
it will cause packages to be added both to the list of packages
installed and list of packages to be uninstalled. This allows expressing
build-time dependencies that should not end up in the final image as is
the case of packages like ""build-essential"" and ""libffi-dev"" in our
amphora-agent element.

As for the removal of Git, we do not explicitely install it so we should
not uninstall it either. Git is a fake dependency of source-repositories
element and will be abstent in the final image with [2].

[1] https://review.opendev.org/#/c/741868/
[2] https://review.opendev.org/#/c/745678/

Depends-On: https://review.opendev.org/#/c/745678/

Change-Id: I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba
(cherry picked from commit fa1c5ef6dd15ce81c4a169307b7ab9970e9052d2)
"
openstack%2Fneutron~master~I6baedf05e5ddaf9413a5c5abc6e8f34bb1e874fb,openstack/neutron,master,remove-six,I6baedf05e5ddaf9413a5c5abc6e8f34bb1e874fb,Remove usage of six.next and iterators,ABANDONED,2020-05-22 18:08:46.000000000,2020-08-19 21:31:40.000000000,,22,25,5,730387,f3d583189d34c8c7c30e0d5e7ea4dd7b8606665a,17,7,3,9,1131,Brian Haley,brian-haley,"Remove usage of six.next and iterators

With python 3.x, six.next, six.itervalues, six.iteritems
and six.iterkeys can be replaced by their python 3
equivalents.

Another step in removing all of six usage from neutron.

Change-Id: I6baedf05e5ddaf9413a5c5abc6e8f34bb1e874fb
"
openstack%2Fpython-novaclient~master~I7b6d49ea8320e014e2ef444e456f6eea02eca912,openstack/python-novaclient,master,get-devstack-os-environment-role,I7b6d49ea8320e014e2ef444e456f6eea02eca912,zuul functional job: drop the custom playbooks,MERGED,2020-08-18 07:44:14.000000000,2020-08-19 21:28:45.000000000,2020-08-19 21:21:56.000000000,2,37,0,746649,553257d1b74493b7a9b30ffa2a960485d3588adf,13,4,2,5,10459,Luigi Toscano,ltoscano,"zuul functional job: drop the custom playbooks

The base devstack-tox-functional* jobs now set the required
environment (OS_* vars set by devstack) before calling tox.

Depends-On: https://review.opendev.org/746235
Change-Id: I7b6d49ea8320e014e2ef444e456f6eea02eca912
"
openstack%2Fplacement~master~I129fe0098944f14fc0d9ef6228eb26cc38050237,openstack/placement,master,744569,I129fe0098944f14fc0d9ef6228eb26cc38050237,Add DEBUG logs to help troubleshoot no allocation candidates,MERGED,2020-08-03 22:24:10.000000000,2020-08-19 21:26:09.000000000,2020-08-19 00:42:29.000000000,10,3,6,744569,fa9ae57984ba1f839331174d9b3ef9658af5b775,15,5,2,1,4690,melanie witt,melwitt,"Add DEBUG logs to help troubleshoot no allocation candidates

We currently have DEBUG logs that are emitted when at least one
allocation candidate is successfully found (added in changes
If9ddb8a6d2f03392f3cc11136c4a0b026212b95b and
I952d5229d6c40588cde6197683117a7e19127939) but we don't get much
logging in cases when no allocation candidates are found.

This adds DEBUG log messages for cases where we raise
ResourceProviderNotFound to aid in debugging scenarios where placement
is unexpectedly returning no allocation candidates for a request.

Change-Id: I129fe0098944f14fc0d9ef6228eb26cc38050237
"
openstack%2Fopenstack-helm-infra~master~Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5,openstack/openstack-helm-infra,master,745743,Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5,Add Alerta feature to osh-infra,MERGED,2020-08-11 20:52:11.000000000,2020-08-19 21:24:05.000000000,2020-08-19 21:19:17.000000000,658,3,0,745743,83a55fd19ecd40dee443abaeca7f16017cccea7f,25,5,8,21,31713,William Zhang,willxz,"Add Alerta feature to osh-infra

Change-Id: Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5
"
openstack%2Ftripleo-ansible~master~I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,openstack/tripleo-ansible,master,container/configs,I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,Create tripleo_container_config_scripts module,MERGED,2020-08-13 19:39:24.000000000,2020-08-19 21:20:14.000000000,2020-08-18 23:37:58.000000000,201,0,5,746218,b6f979ca1e195a9dfd9daf2279c90caaa6791c3d,41,7,15,5,3153,Emilien Macchi,emilienm,"Create tripleo_container_config_scripts module

This module will help to simplify the task that creates the container
config scripts, generated via config download.

It'll replace the loop in THT that iterate over a file to create the
scripts and their content, and executer faster on module.

Change-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74
"
openstack%2Fneutron~master~I4b1e6c76aba0f7cc75ad8f0ad3824f089798bb8e,openstack/neutron,master,bug/1869129,I4b1e6c76aba0f7cc75ad8f0ad3824f089798bb8e,Make security group CIDR conversion stricter,ABANDONED,2020-04-02 01:09:13.000000000,2020-08-19 21:20:03.000000000,,21,11,0,716806,237d66017af51ecbb75b1ad46bb3e970a0a7611d,8,8,1,2,8064,Jake Yip,jake,"Make security group CIDR conversion stricter

Neutron API currently accepts security group remote-ip CIDR in format
'192.168.1.1/24', which is a CIDR with host bits set. There are two
issues with this:

1. Security-wise, a user may unwittingly use '192.168.1.1/0', which
effectively is '0.0.0.0/0'

2. CIDRs with host bits set do not work in OVN.

Update API to throw an error if such a case occur.

Also update current tests that have CIDRs with host bits.

Change-Id: I4b1e6c76aba0f7cc75ad8f0ad3824f089798bb8e
Closes-Bug: #1869129
Related-Bug: #1837339
"
openstack%2Fneutron~master~I4579c575b3526a835efb475865e31aa88a76360c,openstack/neutron,master,bug/1856600,I4579c575b3526a835efb475865e31aa88a76360c,Fix reference to flake8 deprecated engine,ABANDONED,2019-12-16 16:49:45.000000000,2020-08-19 21:18:00.000000000,,2,2,1,699243,977bb6c3ccba090b2a816997a1231b8ab96b3f74,26,9,4,2,13995,Nate Johnston,natejohnston,"Fix reference to flake8 deprecated engine

Flake 3 removed the Engine but kept a legacy module for compatibility.
Use the legacy module.

Change-Id: I4579c575b3526a835efb475865e31aa88a76360c
Resolves-Bug: #1856600
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I209ec1013d941c989bb14ef06779cdbf22cfcc0f,openstack/python-tripleoclient,stable/train,cells-stable/train,I209ec1013d941c989bb14ef06779cdbf22cfcc0f,overcloud_cell: fix location of config-download,ABANDONED,2020-08-19 21:16:53.000000000,2020-08-19 21:17:13.000000000,,3,5,0,747040,78b3fa84c63f3aa795e74ee60d86e7866ed7e5f5,2,0,1,1,3153,Emilien Macchi,emilienm,"overcloud_cell: fix location of config-download

config-download was moved to the home directory and not in
/var/lib/mistral anymore.

Change-Id: I209ec1013d941c989bb14ef06779cdbf22cfcc0f
Closes-Bug: #1891932
(cherry picked from commit 83677d700e368dcad0de1db85fc707f3acb86a37)
"
openstack%2Fpython-tripleoclient~master~I209ec1013d941c989bb14ef06779cdbf22cfcc0f,openstack/python-tripleoclient,master,cells,I209ec1013d941c989bb14ef06779cdbf22cfcc0f,overcloud_cell: fix location of config-download,MERGED,2020-08-17 19:20:29.000000000,2020-08-19 21:16:53.000000000,2020-08-19 01:45:14.000000000,3,5,2,746589,83677d700e368dcad0de1db85fc707f3acb86a37,14,5,1,1,3153,Emilien Macchi,emilienm,"overcloud_cell: fix location of config-download

config-download was moved to the home directory and not in
/var/lib/mistral anymore.

Change-Id: I209ec1013d941c989bb14ef06779cdbf22cfcc0f
Closes-Bug: #1891932
"
openstack%2Foctavia~master~Id31123cdbddf63315767312add9f4a0affb58901,openstack/octavia,master,drop-py27-support-devstack-default-py3,Id31123cdbddf63315767312add9f4a0affb58901,Make octavia-grenade job use python3,ABANDONED,2019-11-08 06:52:33.000000000,2020-08-19 21:13:13.000000000,,1,0,2,693486,fa6d668b87a484123f8c059999f0c05a02575bc6,40,5,9,1,1131,Brian Haley,brian-haley,"Make octavia-grenade job use python3

Add override to octavia-grenade job to use python3.

Change-Id: Id31123cdbddf63315767312add9f4a0affb58901
"
openstack%2Ftripleo-common~master~I88e921daf6bd3fdfb46ed52bde34f221e7bce591,openstack/tripleo-common,master,bug/1889122,I88e921daf6bd3fdfb46ed52bde34f221e7bce591,Remove non-jinja tripleo_containers,ABANDONED,2020-08-19 19:13:09.000000000,2020-08-19 21:13:04.000000000,,0,257,0,747023,c4530fa4eae16a13d9c6cb3f8502197bd42c7267,2,0,1,2,14985,Alex Schultz,mwhahaha,"Remove non-jinja tripleo_containers

The shipped overcloud_containers.yaml and tripleo_containers.yaml was
used for the kolla build process. Since we don't need it for the tcib
process, let's drop it.

Change-Id: I88e921daf6bd3fdfb46ed52bde34f221e7bce591
"
openstack%2Ftripleo-common~master~I183082b44e3edff3672d1d55ffa84ba4cd5c0a74,openstack/tripleo-common,master,label3,I183082b44e3edff3672d1d55ffa84ba4cd5c0a74,tcib: rename kolla_version to tcib_managed,MERGED,2020-07-09 15:45:57.000000000,2020-08-19 21:12:17.000000000,2020-08-19 21:07:48.000000000,1,1,0,740323,8ed87699fedc60eed19ec3816d16ac42e6f08b02,20,7,3,1,3153,Emilien Macchi,emilienm,"tcib: rename kolla_version to tcib_managed

To avoid confusion, do not use kolla_version label and use tcib_managed.
This is useful to filter images that are built by TCIB or not.

Depends-On: https://review.opendev.org/#/c/740298/
Change-Id: I183082b44e3edff3672d1d55ffa84ba4cd5c0a74
"
openstack%2Ftripleo-common~master~I84511dfdb8db11eca38c807ce71393cbbe453a68,openstack/tripleo-common,master,secure,I84511dfdb8db11eca38c807ce71393cbbe453a68,Adding back overcloud-secure as it removes unsafe packages,MERGED,2020-07-24 16:22:58.000000000,2020-08-19 21:09:09.000000000,2020-08-19 21:07:46.000000000,4,0,0,742938,6df053a2167bfb92088052431d4ad8ec3c7a5da7,17,6,2,4,7130,David Hill,dhill,"Adding back overcloud-secure as it removes unsafe packages

Adding back overcloud-secure as it removes unsafe packages as the
overcloud-secure role was splitted in two roles: overcloud-partition
for partitionning handling and overcloud-secure for removal of unsafe
packages.

Change-Id: I84511dfdb8db11eca38c807ce71393cbbe453a68
"
openstack%2Ftripleo-heat-templates~master~I1006eed5acee423bda380da5a61407fdc14a296c,openstack/tripleo-heat-templates,master,,I1006eed5acee423bda380da5a61407fdc14a296c,Set keystone::cache parameters,MERGED,2020-08-18 11:20:49.000000000,2020-08-19 21:07:44.000000000,2020-08-19 21:07:44.000000000,2,2,0,746687,bdca0a03fb49d22405781243f2ab3ec3760cdcb0,11,7,1,1,16137,Tobias Urdin,tobasco,"Set keystone::cache parameters

The puppet-keystone patch [1] will remove
the deprecated parameters.

This puppet-tripleo patch [2] changes so that
the keystone::cache class is used explicitly
so that we can change these config options.

[1] https://review.opendev.org/#/c/746643/
[2] https://review.opendev.org/#/c/746686/

Depends-On: https://review.opendev.org/#/c/746686/
Change-Id: I1006eed5acee423bda380da5a61407fdc14a296c
"
openstack%2Fpuppet-tripleo~master~I70ac9fcd3f74975c96c715ecbc818e6606ff4517,openstack/puppet-tripleo,master,rhbz/1859453,I70ac9fcd3f74975c96c715ecbc818e6606ff4517,Use correct memcached IPs for Swift object-expirer,MERGED,2020-07-30 16:44:22.000000000,2020-08-19 21:07:42.000000000,2020-08-19 21:07:42.000000000,67,23,5,744015,e7cb55d97b41c35800e08257a826164ca5a1c7de,44,7,6,5,6968,Christian Schwede,cschwede,"Use correct memcached IPs for Swift object-expirer

The memcached IP is not properly set in case of separate storage nodes.
Until now, these were only set if the Swift proxy node was also
configured on the same node; however, this is not the case with separate
storage nodes. The service would still run, but was not able to use any
cache and logging errors therefore.

Closes-Bug: 1889663
Change-Id: I70ac9fcd3f74975c96c715ecbc818e6606ff4517
"
openstack%2Ftripleo-quickstart-extras~master~Id97074ff7b1341942e8c85fc709a83b33e0af414,openstack/tripleo-quickstart-extras,master,tls_without_novajoin,Id97074ff7b1341942e8c85fc709a83b33e0af414,Support TLS-Everywhere without novajoin,MERGED,2020-04-21 13:41:11.000000000,2020-08-19 20:57:45.000000000,2020-08-19 20:57:45.000000000,222,14,13,721615,d688ab722a53091faf65842f09e6dd03410c7cfe,163,9,31,17,14250,Grzegorz Grasza,xek,"Support TLS-Everywhere without novajoin

To run TLS-E without novajoin, set undercloud_enable_novajoin
to false. To avoid confusion, this changes the previous behavior
of undercloud_enable_novajoin flag and it's default value. The
original flag wasn't used, because novajoin is only used for
TLS-E, so it doesn't make sense to deploy it otherwise.

Depends-On: https://review.opendev.org/731383
Depends-On: https://review.opendev.org/740951
Change-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414
"
openstack%2Fceilometer~master~I7061a31405a421da3ab2f192259fb23c5aa54ce6,openstack/ceilometer,master,,I7061a31405a421da3ab2f192259fb23c5aa54ce6,Run migration with NotFound exception as well,MERGED,2020-08-17 12:29:10.000000000,2020-08-19 20:43:10.000000000,2020-08-17 21:49:47.000000000,1,1,0,746491,49b098eda41ed23fde0d9373bd5510b95271f051,9,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Run migration with NotFound exception as well

Gnocchi start returning regular 404 when requesting resource that do not
exist [1]. That means, that in case of 404, which is also excpected,
we just fail resource creation.

[1] http://paste.openstack.org/show/796884/

Change-Id: I7061a31405a421da3ab2f192259fb23c5aa54ce6
"
openstack%2Fceilometer~master~Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338,openstack/ceilometer,master,,Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338,Run migration with NotFound exception as well,MERGED,2020-08-19 09:18:32.000000000,2020-08-19 20:42:53.000000000,2020-08-19 16:51:15.000000000,1,1,0,746865,648ce9b6687e43d504d53111725200734053357e,10,4,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Run migration with NotFound exception as well

Gnocchi start returning regular 404 when requesting resource that do not
exist [1]. That means, that in case of 404, which is also excpected,
we just fail resource creation.

[1] http://paste.openstack.org/show/796938/

Change-Id: Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338
"
openstack%2Fnova~master~I0872ee16e9fc49c988fe588f029ab71f429790f5,openstack/nova,master,bug/1891898,I0872ee16e9fc49c988fe588f029ab71f429790f5,libvirt: Mock LoopingCallBase._sleep in rbd tests,MERGED,2020-08-10 10:04:04.000000000,2020-08-19 20:19:04.000000000,2020-08-19 20:16:56.000000000,3,2,1,745512,4ba23996d036914f2ab7889db9af4ce6997ebc48,27,12,2,1,10135,Lee Yarwood,lyarwood,"libvirt: Mock LoopingCallBase._sleep in rbd tests

The tests previously mocked eventlet.greenthread.sleep directly but
I62e9f1a7cde8846be368fbec58b8e0825ce02079 removed this call from
LoopingCallBase._sleep in oslo.service 1.32.1. Just mock the _sleep
method directly to avoid us ever spinning in tests on this again.

Closes-Bug: #1891898
Change-Id: I0872ee16e9fc49c988fe588f029ab71f429790f5
"
openstack%2Fdiskimage-builder~master~Id0798c0a753f893d02c2d13fddea0c04b28cb7ca,openstack/diskimage-builder,master,,Id0798c0a753f893d02c2d13fddea0c04b28cb7ca,source-repositories: git is a build-only dependency,MERGED,2020-08-11 13:53:49.000000000,2020-08-19 19:22:05.000000000,2020-08-18 06:07:44.000000000,2,3,0,745678,3c650255590d7dcded8699cd01e198f6ce4c6c8e,14,7,1,1,6469,Carlos Gonçalves,cgoncalves,"source-repositories: git is a build-only dependency

Git is a build-time dependency that should not end up in the final
image should source-repositories be the only element requiring it at
image build time.

Change-Id: Id0798c0a753f893d02c2d13fddea0c04b28cb7ca
"
openstack%2Fopenstack-ansible-os_designate~stable%2Fussuri~I196c263c7fb017a1d8386e8e9fb339af70165c51,openstack/openstack-ansible-os_designate,stable/ussuri,osa/el8-stable/ussuri,I196c263c7fb017a1d8386e8e9fb339af70165c51,Add CentOS-8 support,MERGED,2020-08-13 06:32:30.000000000,2020-08-19 18:58:07.000000000,2020-08-19 18:56:46.000000000,1,3,0,746006,a26e154d08da04afda860a6bffe6841fd49c8fb3,23,5,5,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add CentOS-8 support

referencing ansible_python_interpreter to main.yml file to fix it.

Depends-On: https://review.opendev.org/746366
Change-Id: I196c263c7fb017a1d8386e8e9fb339af70165c51
(cherry picked from commit d16298c411a40c307752b6a6494ee8379a654525)
"
openstack%2Fkolla-ansible~master~I729862b89b4fe65cbb7f852fac06741b636e4939,openstack/kolla-ansible,master,,I729862b89b4fe65cbb7f852fac06741b636e4939,CI: enable Ansible SSH pipelining,MERGED,2020-08-13 08:27:01.000000000,2020-08-19 18:43:37.000000000,2020-08-19 14:38:47.000000000,3,0,0,746019,9fac359bf4ec1374ba84ff5990f3ef74454d8c07,14,3,1,1,14826,Mark Goddard,mgoddard,"CI: enable Ansible SSH pipelining

This should improve performance of CI jobs.

Change-Id: I729862b89b4fe65cbb7f852fac06741b636e4939
"
openstack%2Fkolla-ansible~master~Iadf43383a7f2bf377d4666a55a38d92bd70711aa,openstack/kolla-ansible,master,bug/1891704,Iadf43383a7f2bf377d4666a55a38d92bd70711aa,Fix ownership and permissions of admin-openrc.sh,MERGED,2020-08-06 06:24:32.000000000,2020-08-19 18:43:02.000000000,2020-08-19 16:46:53.000000000,23,2,3,745071,16f97867a3f7050ac42fbb921310ca884e974a11,48,8,7,2,32029,likui,likui,"Fix ownership and permissions of admin-openrc.sh

Previously the post-deploy.yml playbook was executed with become: true,
and the admin-openrc.sh file templated without an owner or mode
specified. This resulted in admin-openrc.sh being owned by root with 644
permissions.

This change creates the file without become: true, and explicitly sets
the owner to the user executing Ansible, and the mode to 600.

Co-Authored-By: Mark Goddard <mark@stackhpc.com>

Closes-Bug: #1891704

Change-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa
"
openstack%2Foctavia-tempest-plugin~master~I85ebad6d5308f5f9ce4d8f0f160d954aeb5e7c94,openstack/octavia-tempest-plugin,master,,I85ebad6d5308f5f9ce4d8f0f160d954aeb5e7c94,Update statistics tests for response time metric,NEW,2020-07-23 17:42:29.000000000,2020-08-19 18:36:28.000000000,,13,2,0,742716,b019eaee25d79107b2114db8fb0cd930f673b076,8,3,2,3,32084,Anushka Singh,aannuusshhkkaa,"Update statistics tests for response time metric

Change-Id: I85ebad6d5308f5f9ce4d8f0f160d954aeb5e7c94
Co-Authored-By: Adam Harwell <flux.adam@gmail.com>
Co-Authored-By: Stephanie Djajadi <stephanie.djajadi@gmail.com>
"
openstack%2Fopenstack-ansible~master~I484b1d0e659ff6aaf0284390e147adc616d63e1f,openstack/openstack-ansible,master,os-nova-install,I484b1d0e659ff6aaf0284390e147adc616d63e1f,Return nova services reload,NEW,2020-08-17 15:13:23.000000000,2020-08-19 18:33:54.000000000,,3,11,0,746544,9998d9479ca9b8646a7f3912d904eb7b022a92a4,9,2,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Return nova services reload

Nova service reload has been replaced with restart several cycles ago.
Now issue has been fixed and we can revert service action back to reload

Along with that we restart only vnc/spice service on nova_console hosts.

Change-Id: I484b1d0e659ff6aaf0284390e147adc616d63e1f
"
openstack%2Frequirements~master~Ie30fe79e686f89fbdb246b5330d5b9f10aecf354,openstack/requirements,master,,Ie30fe79e686f89fbdb246b5330d5b9f10aecf354,Add ansible to blacklist,MERGED,2020-05-11 09:52:28.000000000,2020-08-19 18:31:41.000000000,2020-05-12 19:56:16.000000000,3,0,0,726768,dcef447f6d5233ecc20ba19b7fa1e04e7dfb740c,12,5,1,1,28048,Will Szumski,jovial,"Add ansible to blacklist

Some projects, such as kolla-ansible, have a dependency on ansible. At
present it is not possible to add this to your requirements as it does
not appear in the global requirements file. However, it is useful to
have ansible as dependency to allow testing of plugins.

There is not a strong dependence on the openstack libraries, so it makes
sense to include this in the blacklist and not in global requirements,
so that the individual projects can specify the version required.

Change-Id: Ie30fe79e686f89fbdb246b5330d5b9f10aecf354
"
openstack%2Ftripleo-ansible~master~I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,openstack/tripleo-ansible,master,config/json,I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,tripleo_container_configs module,MERGED,2020-08-13 18:25:25.000000000,2020-08-19 18:26:34.000000000,2020-08-19 18:02:46.000000000,209,0,4,746214,bfc2681ad539e55087c1f4a15e638c34c31dc7e1,34,6,7,5,3153,Emilien Macchi,emilienm,"tripleo_container_configs module

To replace the task that looks over kolla_config.yaml and creates the
json files per item in the YAML, create a module that will lead to one
task creating all the files.

Change-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6
"
openstack%2Fheat-translator~master~I482ac98bc56f0e3cfb8b767f47649da11ed1afab,openstack/heat-translator,master,migrate-to-focal,I482ac98bc56f0e3cfb8b767f47649da11ed1afab,[goal] Migrate testing to ubuntu focal,MERGED,2020-07-26 23:40:42.000000000,2020-08-19 18:13:55.000000000,2020-08-19 18:11:13.000000000,5,5,0,743104,828ede5d673b3adf45c0e88132ea14a03c687197,20,5,6,2,8556,Ghanshyam,ghanshyam,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40186

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>

Change-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab
"
openstack%2Fpuppet-cinder~stable%2Fussuri~If3f3f230aae7e04a774c967e1786561d70e43e50,openstack/puppet-cinder,stable/ussuri,,If3f3f230aae7e04a774c967e1786561d70e43e50,Expose vhost_custom_fragment,MERGED,2020-08-13 15:55:02.000000000,2020-08-19 18:09:23.000000000,2020-08-19 18:09:23.000000000,9,0,0,746170,61e773f49c7e5265b0e26290e43ba61b11649404,19,5,1,2,25877,Luke Short,ekultails,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Cinder service.

Change-Id: If3f3f230aae7e04a774c967e1786561d70e43e50
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 1fa7a69e9b9300c1c228f872ba3e37f0210f17dd)
"
openstack%2Frequirements~stable%2Fussuri~Ibf26d927cd45d0f39a0fcb7c4700786dbf002459,openstack/requirements,stable/ussuri,,Ibf26d927cd45d0f39a0fcb7c4700786dbf002459,Add yamllint to blacklist,MERGED,2020-08-19 12:53:15.000000000,2020-08-19 18:01:29.000000000,2020-08-19 18:01:29.000000000,1,0,0,746916,05f7a31434845ce8b33a7e44c0e2c6aea97dc150,9,5,1,1,30491,Radosław Piliszek,yoctozepto,"Add yamllint to blacklist

Some projects, such as kolla-ansible, use yamllint for linting YAML
code.
At present it is not possible to add this to your requirements as it
does not appear in the global requirements file.

The reason for Ussuri backport: Kolla cut off the Ussuri branch
already in Victoria cycle, with this in place, and now it fails
on req-checks jobs in Ussuri.

Change-Id: Ibf26d927cd45d0f39a0fcb7c4700786dbf002459
(cherry picked from commit 6ca51f2b1c52a6691925029586b6514ede8f13a1)
"
openstack%2Fneutron~stable%2Frocky~I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,openstack/neutron,stable/rocky,bug/1878299,I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,port_forwarding: validate args before invoking db update,MERGED,2020-07-31 14:49:13.000000000,2020-08-19 18:01:27.000000000,2020-08-19 18:01:27.000000000,131,1,0,744188,4ac33d1a9bf1655ae1316f8c7b2ad3047abba69c,16,8,2,2,11952,Flavio Fernandes,ffernand,"port_forwarding: validate args before invoking db update

Add validator to update_floatingip_port_forwarding so codepath does not
attempt performing invalid database operation. With that, operation fails
right away, with a hint on the offending argument(s).

This is a backport that combines changes from 2 changes that go together:
https://review.opendev.org/#/c/738145/
https://review.opendev.org/#/c/744993/

Note: pep8 failed with following error:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:
    N322  Possible use of no-op mock method. please use assert_called_once_with.
        mock_pf_get_objects.assert_called_once()
        ^
So additional changes were needed for backport.

Change-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04
Closes-Bug: #1878299
(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)
(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)
"
openstack%2Fneutron~stable%2Ftrain~I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,openstack/neutron,stable/train,bug/1878299,I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,port_forwarding: validate args before invoking db update,MERGED,2020-07-31 14:32:26.000000000,2020-08-19 17:23:58.000000000,2020-08-19 17:21:55.000000000,131,1,4,744182,9273af2c50b03bb5b1d7fb1944d0271e2785b35b,24,8,2,2,11952,Flavio Fernandes,ffernand,"port_forwarding: validate args before invoking db update

Add validator to update_floatingip_port_forwarding so codepath does not
attempt performing invalid database operation. With that, operation fails
right away, with a hint on the offending argument(s).

This is a backport that combines changes from 2 changes that go together:
https://review.opendev.org/#/c/738145/
https://review.opendev.org/#/c/744993/

Note: pep8 failed with following error in stable/train:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:
    N322  Possible use of no-op mock method. please use assert_called_once_with.
        mock_pf_get_objects.assert_called_once()
        ^
So additional changes were needed for backport.

Change-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04
Closes-Bug: #1878299
(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)
(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)
"
openstack%2Foslo.cache~master~Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500,openstack/oslo.cache,master,bp/enable-sasl-protocol,Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500,Add python-binary-memcached to support SASL,MERGED,2020-07-28 08:33:33.000000000,2020-08-19 17:19:40.000000000,2020-08-19 17:17:19.000000000,3,0,0,743484,c872fc0b9430ae43aa7fe7680f0072ada01c0707,37,6,11,3,31827,Jorhson Deng,dengzhaosen,"Add python-binary-memcached to support SASL

In 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced
python-binary-memcached in requirement, and we need these
package to support sasl protocol, so we should bump
python-binary-memcached>=0.29.0 in oslo.cache requirements.
Only required for sasl/binary protocol

Co-Authored-By: Brin Zhang <zhangbailin@inspur.com>

Change-Id: Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500
Implements: blueprint enable-sasl-protocol
"
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~I53c30652df0168f941bec10d0f462e44512ce39a,openstack/puppet-openstack_extras,stable/ussuri,centos8-beaker-stable/ussuri,I53c30652df0168f941bec10d0f462e44512ce39a,[RedHat] Set up yum repositories from repo file,MERGED,2020-08-18 12:52:10.000000000,2020-08-19 17:09:45.000000000,2020-08-19 17:06:55.000000000,39,0,2,746703,2bdcc2ba5a74f39fa6ac9462efecdc8c69881b1b,16,4,2,3,9816,Takashi Kajinami,kajinamit,"[RedHat] Set up yum repositories from repo file

This patch allows operators to use .repo file directly to configure
yum repogitories on RHEL/CentOS node, so that they can use the .repo
file provided in RDO repository directly.
This is useful especially in RDO CentOS8, because now it provides
seprated repogitory namespaces for modules.

Depends-on: https://review.opendev.org/#/c/742146/
Change-Id: I53c30652df0168f941bec10d0f462e44512ce39a
(cherry picked from commit cc751868cf8c6f0be9465ec5ca66673834feb18c)
"
openstack%2Fsushy~master~I7b989bb106492a3158e0d7929871f0a7aa2b50bf,openstack/sushy,master,test,I7b989bb106492a3158e0d7929871f0a7aa2b50bf,DNM try breaking vmedia,ABANDONED,2020-08-19 15:36:13.000000000,2020-08-19 16:51:45.000000000,,1,0,0,746963,a5ad232ec05f3161ad8eccf3a1dc1234c6e6775b,3,1,1,1,10239,Dmitry Tantsur,dtantsur,"DNM try breaking vmedia

Change-Id: I7b989bb106492a3158e0d7929871f0a7aa2b50bf
"
openstack%2Fironic-inspector~master~I660192549918b9cd9738810cbfaf3dc4456f97fa,openstack/ironic-inspector,master,use-tenacity,I660192549918b9cd9738810cbfaf3dc4456f97fa,Replace retrying with tenacity,MERGED,2020-08-11 13:16:12.000000000,2020-08-19 16:48:20.000000000,2020-08-19 16:44:26.000000000,7,6,2,745667,f4648facf76ff2ac742fc11bb81880f262e61ee2,25,7,6,3,23851,Riccardo Pittau,elfosardo,"Replace retrying with tenacity

We are replacing all usages of the 'retrying' package with
'tenacity' as the author of retrying is not actively maintaining
the project. Tenacity is a fork of retrying, but has improved the
interface and extensibility (see [1] for more details). Our end
goal here is removing the retrying package from our requirements.

[1] https://github.com/jd/tenacity

Change-Id: I660192549918b9cd9738810cbfaf3dc4456f97fa
Story: #1635390
Task: #40647
"
openstack%2Fcinder~master~Ia620043904f4f31a81bc8463fb36476a149f9808,openstack/cinder,master,correct-relnote,Ia620043904f4f31a81bc8463fb36476a149f9808,Correct formatting in release note,MERGED,2020-05-30 02:24:43.000000000,2020-08-19 16:46:34.000000000,2020-06-08 14:37:24.000000000,1,1,0,731875,f690327b55cac79540c9bb7b10c390b73aa3fc62,30,22,1,1,5314,Brian Rosmaita,brian-rosmaita,"Correct formatting in release note

A missing '_' is causing a hyperlink to render incorrectly in HTML.

Change-Id: Ia620043904f4f31a81bc8463fb36476a149f9808
"
openstack%2Fironic-inspector~stable%2Fussuri~Ice86e9ab3efb98b649141bdf7e1e2febdc9203a8,openstack/ironic-inspector,stable/ussuri,,Ice86e9ab3efb98b649141bdf7e1e2febdc9203a8,Fix URL parsing to enable redfish_address matching,MERGED,2020-08-18 13:31:04.000000000,2020-08-19 16:29:09.000000000,2020-08-19 16:27:02.000000000,55,2,0,746718,bc4311e16f108e7e38036c13b73f0824d34eb4a1,8,4,1,4,23851,Riccardo Pittau,elfosardo,"Fix URL parsing to enable redfish_address matching

Fixes the ironic utilities logic to parse URLs in driver_info
properly.

Also adds ``redfish_address`` to the default list of fields to
evaluate for host matching.

Previously an operator could add the field to the list, but the
matching logic would not match the URL as it did not know to
decompose the url and identify the hostname portion of the url.

Conflicts:
      ironic_inspector/conf/default.py

Resolves: rhbz#1670336
Story: 2008010
Task: 40660
Change-Id: Ice86e9ab3efb98b649141bdf7e1e2febdc9203a8
(cherry picked from commit bbc5cd7da5af18558859c6b3388142555888772e)
"
openstack%2Fbifrost~master~Ia94ee8a635629f4311dcde611d0e69a2b7c444a9,openstack/bifrost,master,auth,Ia94ee8a635629f4311dcde611d0e69a2b7c444a9,dynamic: always use clouds.yaml when it is available,MERGED,2020-08-19 08:35:50.000000000,2020-08-19 16:23:37.000000000,2020-08-19 16:17:13.000000000,15,6,0,746859,d203955c28db557efdc2ab91cfd4ef3413e7b785,13,4,3,1,10239,Dmitry Tantsur,dtantsur,"dynamic: always use clouds.yaml when it is available

Currently it is ignored when noauth_mode is true (the default).

Change-Id: Ia94ee8a635629f4311dcde611d0e69a2b7c444a9
"
openstack%2Fpython-tripleoclient~master~Iaccdf849128e9bb85145006be0ec58d65c7a1138,openstack/python-tripleoclient,master,,Iaccdf849128e9bb85145006be0ec58d65c7a1138,Remove the unused _validate_skip_tags function,MERGED,2020-02-19 12:49:44.000000000,2020-08-19 16:19:23.000000000,2020-08-19 16:17:35.000000000,0,11,0,708639,4ede7520e086da44198de22f705b8a469e5a2d47,23,6,3,1,9712,Dougal Matthews,dougal,"Remove the unused _validate_skip_tags function

Co-Authored-By: Saravanan KR <skramaja@redhat.com>

Change-Id: Iaccdf849128e9bb85145006be0ec58d65c7a1138
"
openstack%2Fopenstack-helm~master~I4c8ec145c8f1c1c1b5f7a5201f792e040fdd89a2,openstack/openstack-helm,master,,I4c8ec145c8f1c1c1b5f7a5201f792e040fdd89a2,Update ovs dpdk config when required,MERGED,2020-08-12 11:33:56.000000000,2020-08-19 16:11:51.000000000,2020-08-19 16:09:28.000000000,36,3,13,745853,a2f2e0418fac8da4fab8d3be64415f6ffe45ee25,31,8,5,4,29397,Kudaka Poorna Rajesh,rajesh.kudaka,"Update ovs dpdk config when required

This commit enables user to update dpdk bond config
only when required using the flag UPDATE_DPDK_BOND_CONFIG.
This helps in avoiding disruption in ovs dpdk during ovs
agent restart or when there is a update in bond config.

Setting UPDATE_DPDK_BOND_CONFIG to true will have default
behavior.

Setting UPDATE_DPDK_BOND_CONFIG to false will disable
configuration of bonds after the first run and can be
set to true when required.

Change-Id: I4c8ec145c8f1c1c1b5f7a5201f792e040fdd89a2
"
openstack%2Fneutron~stable%2Fussuri~I2b1f4c4e951b691fb0c66119699b26540b0babd8,openstack/neutron,stable/ussuri,drop-master-jobs,I2b1f4c4e951b691fb0c66119699b26540b0babd8,[Stable only] Drop *-master jobs,MERGED,2020-07-29 16:10:54.000000000,2020-08-19 16:05:22.000000000,2020-08-19 15:58:25.000000000,0,79,0,743795,21719a875d63adc9a823de7feacb119e5887f5af,23,6,1,3,21798,Bernard Cafarelli,bcafarel,"[Stable only] Drop *-master jobs

These jobs are used to test neutron against current master branches of
external projects (OVS/OVN, os-ken).

Stable branches are not expected to run with this setup so we can drop
the jobs there (especially as some of these jobs are periodic ones).

Change-Id: I2b1f4c4e951b691fb0c66119699b26540b0babd8
"
openstack%2Fpython-openstackclient~stable%2Fussuri~I510383f8e0cbf05ec24caa1cad330f12f82a913d,openstack/python-openstackclient,stable/ussuri,story/2007896,I510383f8e0cbf05ec24caa1cad330f12f82a913d,Make volume backup record commands available in v3,MERGED,2020-07-07 10:59:55.000000000,2020-08-19 16:04:57.000000000,2020-08-19 15:58:38.000000000,8,0,0,739703,5b25ea899e023bcd3d7384cca943f9844bcb0b79,13,4,1,2,30491,Radosław Piliszek,yoctozepto,"Make volume backup record commands available in v3

They work just fine in Volume API v3 but they were limited in OSC
to v2.

Change-Id: I510383f8e0cbf05ec24caa1cad330f12f82a913d
Story: 2007896
Task: 40279
(cherry picked from commit b1fc587a6d4eac795a5bc27c2dffd2d876161caa)
"
openstack%2Fcinder~stable%2Fussuri~Id9807871f3c183e4195f01aa28c458d7551de9ed,openstack/cinder,stable/ussuri,brocade,Id9807871f3c183e4195f01aa28c458d7551de9ed,Brocade: Python 3 support,MERGED,2020-08-17 15:01:09.000000000,2020-08-19 16:04:50.000000000,2020-08-19 15:58:28.000000000,94,66,0,746534,297c8b078b822622fd3e8c9365f1e03bcd691e53,71,18,1,5,10459,Luigi Toscano,ltoscano,"Brocade: Python 3 support

Builtin method `filter` changed behavior from Python 2, where it
returned a list, to Python 3, where it returns an interable, and the
Brocade driver was not ready to handle this behavior which results
in:

- Always evaluating to True in `if filtered_members`
- TypeError: 'filter' object is not subscriptable
- RuntimeError: dictionary changed size during iteration

This patch fixes all these to make the driver Python 3 compatible.

Extensive changes to test_brcd_fc_zone_driver.py were necessary to fix
the code that was incorrectly setting the configuration options for the
tests, which resulted in always running with default values.

Code has been tested on a DevStack deployment running Python 3.7 on
Fedora 31 with a Brocade 300 running FOS 7.1.0c against 3PAR FC array
and with `fc_southbound_protocol = HTTP` in the fabric group
configuration.

Configuration `fc_southbound_protocol = REST_HTTP` could not be tested
as its only supported in FOS 8.2.1 and later which available hardware
doesn't support.

Closes-Bug: #1888548
Change-Id: Id9807871f3c183e4195f01aa28c458d7551de9ed
(cherry picked from commit 9cd71b9de8b3ead48d9ac31a71d2743276b21648)
"
openstack%2Fpython-openstackclient~stable%2Frocky~I7303658c27d9b9f2d8381ccea0b29e96909cab54,openstack/python-openstackclient,stable/rocky,bug/1633214-stable/rocky,I7303658c27d9b9f2d8381ccea0b29e96909cab54,Add dns-domain support to Network object,MERGED,2020-01-03 23:16:23.000000000,2020-08-19 16:04:35.000000000,2020-08-19 15:58:33.000000000,83,6,0,701066,e7a8687a2c87a507ce25e042014d6a918e95d035,32,11,1,7,14892,Keith Berger,kberger,"Add dns-domain support to Network object

Add ""dns-domain"" parameter to Network class. Also check
backend extensions and send an error message in case of
an argument (like dns-domain) is sent and the extension is
missing (dns-integration in this case).

Change-Id: I7303658c27d9b9f2d8381ccea0b29e96909cab54
Closes-Bug: 1633214
Partial-Bug: 1547736
(cherry picked from commit b8754e15e7adc9a04587f67c83febaf49b64f18c)
"
openstack%2Fcharm-ceph-iscsi~master~Ia4d794167485caf1f6c277e0a56c81149b65d70a,openstack/charm-ceph-iscsi,master,add-zuul,Ia4d794167485caf1f6c277e0a56c81149b65d70a,Add .gitreview and .zuul.yaml,MERGED,2020-08-04 12:39:24.000000000,2020-08-19 15:54:14.000000000,2020-08-19 15:54:14.000000000,68,15,0,744696,1c95624727c99631c0be5d703cf97eab2501fb79,59,5,15,11,12549,gnuoy,gnuoy,"Add .gitreview and .zuul.yaml

This also includes a workaround to a bug in charmcraft which
excludes many of the charm files from the build charm. Until
that is resolved include ./add-to-archive.py to put add
additional files to build charm.

Change-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a
"
