id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fcharm-cinder-purestorage~stable%2F20.05~I1702e599022ab037f4d7437c46321790fa83d2da,openstack/charm-cinder-purestorage,stable/20.05,reactive-stable-2005-update,I1702e599022ab037f4d7437c46321790fa83d2da,Update to reactive charms for stable testing,ABANDONED,2020-07-01 11:47:44.000000000,2020-07-21 15:34:16.000000000,,1,1,0,738803,abd72214a92cc2722f0a9891bb17d6a76e42f4bc,10,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Update to reactive charms for stable testing

Updates the test-requirements.txt to use the stable branch of charms.openstack
in unit tests.

Change-Id: I1702e599022ab037f4d7437c46321790fa83d2da
"
openstack%2Fcharm-designate~stable%2F20.05~I66e5ec8ca2f082ddc05d67ac6963ba1cba69c3c2,openstack/charm-designate,stable/20.05,reactive-stable-2005-update,I66e5ec8ca2f082ddc05d67ac6963ba1cba69c3c2,Update to reactive charms for stable testing,ABANDONED,2020-07-01 11:47:59.000000000,2020-07-21 15:34:02.000000000,,7,1,0,738804,3787c7af395840f3a0ece64c615186f4d93f3831,15,3,2,2,20870,Alex Kavanagh,ajkavanagh,"Update to reactive charms for stable testing

Updates the test-requirements.txt to use the stable branch of charms.openstack
in unit tests.

Also pin Jinja2, PyYaml and dnspython for Py3.4 and py3.5 support

Change-Id: I66e5ec8ca2f082ddc05d67ac6963ba1cba69c3c2
"
openstack%2Fcharm-barbican-vault~stable%2F20.05~I49d1be616e263a1d870945367f78f638798c9fb4,openstack/charm-barbican-vault,stable/20.05,reactive-stable-2005-update,I49d1be616e263a1d870945367f78f638798c9fb4,Update to reactive charms for stable testing,ABANDONED,2020-07-01 11:22:04.000000000,2020-07-21 15:33:17.000000000,,1,1,0,738795,813e6dab038306275ed70d8305be8da253681537,9,4,1,1,20870,Alex Kavanagh,ajkavanagh,"Update to reactive charms for stable testing

Updates the test-requirements.txt to use the stable branch of charms.openstack
in unit tests.

Change-Id: I49d1be616e263a1d870945367f78f638798c9fb4
"
openstack%2Fcharm-designate-bind~stable%2F20.05~I75103eaceeffbbd701f2e37b44c58635c6b6d7fe,openstack/charm-designate-bind,stable/20.05,reactive-stable-2005-update,I75103eaceeffbbd701f2e37b44c58635c6b6d7fe,Update to reactive charms for stable testing,ABANDONED,2020-07-01 11:48:14.000000000,2020-07-21 15:32:53.000000000,,5,2,0,738805,7b5af63d0ec024c4839050096e20eedf5670a98b,17,3,2,2,20870,Alex Kavanagh,ajkavanagh,"Update to reactive charms for stable testing

Updates the test-requirements.txt to use the stable branch of charms.openstack
in unit tests.

Add pins for PyYaml and dnspython due to py3.4 and py3.5

Change-Id: I75103eaceeffbbd701f2e37b44c58635c6b6d7fe
"
openstack%2Fnova-specs~master~I659a3ee6a561c2cbd9f218746304c788d0750ad7,openstack/nova-specs,master,bp/sriov-interface-attach-detach,I659a3ee6a561c2cbd9f218746304c788d0750ad7,Support SRIOV interface attach and detach,MERGED,2020-07-17 08:37:05.000000000,2020-07-21 15:23:20.000000000,2020-07-21 15:20:40.000000000,174,0,26,741601,dd5319deffb8eae4fa4ebcf7e47e75c66df9f021,18,5,3,1,9708,Balazs Gibizer,gibi,"Support SRIOV interface attach and detach

Nova supports booting servers with SRIOV interfaces. However,
attaching and detaching an SRIOV interface to an existing server
is not supported as the PCI device management is missing from the
attach and detach code path.

Part of blueprint sriov-interface-attach-detach

Change-Id: I659a3ee6a561c2cbd9f218746304c788d0750ad7
"
openstack%2Fnova-specs~master~I1dc647942599694ef7efe4f2894d2e78dec967d7,openstack/nova-specs,master,openstackclient,I1dc647942599694ef7efe4f2894d2e78dec967d7,template: consider openstack client besides novaclient,MERGED,2020-04-06 11:48:20.000000000,2020-07-21 15:20:45.000000000,2020-07-21 15:18:08.000000000,2,2,11,717722,b0b00d795a49a9a54d7a8f5f58379c67c1e2f3c4,29,11,2,1,9708,Balazs Gibizer,gibi,"template: consider openstack client besides novaclient

We need to encourage developers proposing REST API change to nova to
consider the impact of such change not only novaclient but also on
openstack client to avoid increasing the gap between the two clients.

Change-Id: I1dc647942599694ef7efe4f2894d2e78dec967d7
"
openstack%2Fironic~master~I6759bc304839bd89a50fc3bf9e26b1cd20537a0a,openstack/ironic,master,story/1651346,I6759bc304839bd89a50fc3bf9e26b1cd20537a0a,Remove File type,MERGED,2020-07-20 02:15:03.000000000,2020-07-21 15:15:36.000000000,2020-07-21 14:45:13.000000000,2,123,0,741862,5e12d502fe0a023796b9c5a32878318f76124612,12,6,1,5,4571,Steve Baker,steve-stevebaker,"Remove File type

The only use of the File type is for wrapping passthru responses in a
io.BytesIO, so this change does this wrapping directly and removes the
File type.

Change-Id: I6759bc304839bd89a50fc3bf9e26b1cd20537a0a
Story: 1651346
Task: 10551
"
openstack%2Fcharm-placement~master~I2cdebc875a626d69de17e16b83b7a75716741ca5,openstack/charm-placement,master,bug/1879088,I2cdebc875a626d69de17e16b83b7a75716741ca5,"Revert part of ""Remove inherited configuration ...""",MERGED,2020-07-21 13:24:41.000000000,2020-07-21 15:10:24.000000000,2020-07-21 15:10:24.000000000,0,5,0,742191,c96b0a49a1389f5f4168dea1a4eac6729f11accb,7,3,1,1,935,James Page,james-page,"Revert part of ""Remove inherited configuration ...""

The inherited layer properties are appropriate for the
placement charm as its a principal charm.

Related-Bug: 1879088

Change-Id: I2cdebc875a626d69de17e16b83b7a75716741ca5
"
openstack%2Fmonasca-api~master~I4d57b8893a6a131769009dc3299789d3fc89bab6,openstack/monasca-api,master,kafka-client,I4d57b8893a6a131769009dc3299789d3fc89bab6,Set legacy_kafka_client_enabled = False on default,MERGED,2020-07-14 13:19:17.000000000,2020-07-21 15:03:35.000000000,2020-07-21 14:59:57.000000000,7,4,0,740954,3014c840d64f24830b18c535c365ae60befb212b,14,4,2,5,16222,witek,witek,"Set legacy_kafka_client_enabled = False on default

We change the default value of kafka.legacy_kafka_client_enabled from
True to False. The use of new Confluent Kafka client is recommended.

DevStack plugin does not set this option anymore.

Depends-On: https://review.opendev.org/740959
Depends-On: https://review.opendev.org/740966
Change-Id: I4d57b8893a6a131769009dc3299789d3fc89bab6
Story: 2007924
Task: 40338
"
openstack%2Fmonasca-api~stable%2Fussuri~Ic6f7d79d944c21ea777038a6c43f71fc66ad588b,openstack/monasca-api,stable/ussuri,,Ic6f7d79d944c21ea777038a6c43f71fc66ad588b,Fix typo in http_check,MERGED,2020-07-21 12:57:19.000000000,2020-07-21 14:58:04.000000000,2020-07-21 14:55:33.000000000,1,1,0,742176,5b145c2cebc377ab380985ad67e15999c13c781d,7,4,1,1,16222,witek,witek,"Fix typo in http_check

This typo brakes the http_check metrics collection in devstack.

Change-Id: Ic6f7d79d944c21ea777038a6c43f71fc66ad588b
(cherry picked from commit 9d8ecbd2d97c394810947a1dc74b9aca458a961d)
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Fussuri~I018d1fc8ad637de8e76a98f22f6cef21e3f0b7c3,openstack/openstack-ansible-os_keystone,stable/ussuri,osa/el8-stable/ussuri,I018d1fc8ad637de8e76a98f22f6cef21e3f0b7c3,Add Centos-8 support,MERGED,2020-07-21 06:38:04.000000000,2020-07-21 14:51:25.000000000,2020-07-21 14:48:42.000000000,3,3,0,742075,dcf1da03a17070a0eb68b84fe4515ba35107a806,12,3,1,1,25023,Jonathan Rosser,jrosser,"Add Centos-8 support

Change-Id: I018d1fc8ad637de8e76a98f22f6cef21e3f0b7c3
(cherry picked from commit be3a7c7e2bf63a73a1b971141e5f511bce2be5a9)
"
openstack%2Fswift~master~I139916057e18b8696e9f8404e96f57e30a9bde7f,openstack/swift,master,nondurable-rebuild,I139916057e18b8696e9f8404e96f57e30a9bde7f,WIP: Rebuild non-durable frags if we can,ABANDONED,2019-07-23 23:05:27.000000000,2020-07-21 14:44:56.000000000,,18,6,0,672385,5be39da1bc6fd1445a988f506f4856451e35127c,3,1,1,5,1179,Clay Gerrard,clay-gerrard,"WIP: Rebuild non-durable frags if we can

Step 0 is making the suffix hashes disagree, which requires the
reconstructor to come up with different suffix hashes.

The object-server calculate hashes for the non-durable frags.

The reconstructor will check against hashes for only durable frags.

Since they disagree the reconstructor will call ssync to sync the
suffix.  In the ssync sender missing_check we don't offer non-durable
fragment timestamps because the remote ssync receiver may
inappropriately mark it's non-durable frag as durable w/o anyone
verifying that timestamp is actually rebuildable!

So we punt a little further down, let the reconstructor offer it's
durable timestamp which the sender will want - and then we pull a fast
one and try to rebuild the newer non-durable fragset by passing
frag_prefs when we open the df just before reconstruct_fa!

This is a terrible kludge, only barely ""works"", throws off some basic
assumptions and incomplete.  To the extent there's any ""design"" here
it's mostly opportunistic.

Change-Id: I139916057e18b8696e9f8404e96f57e30a9bde7f
"
openstack%2Fnova~master~Ib980b1ba68ffcfe51a15dce10eb9f42ef12d7260,openstack/nova,master,bug/1886418,Ib980b1ba68ffcfe51a15dce10eb9f42ef12d7260,Repro gen conflict in COMPUTE_STATUS_DISABLED handling,MERGED,2020-01-29 18:55:46.000000000,2020-07-21 14:27:15.000000000,2020-07-21 14:22:19.000000000,84,0,24,704865,f1678912181e17770de9f26aa9aed0bebc544aa1,42,12,4,1,9708,Balazs Gibizer,gibi,"Repro gen conflict in COMPUTE_STATUS_DISABLED handling

The COMPUTE_STATUS_DISABLED trait is supposed to be added to the compute
RP when the compute service is disabled, and the trait supposed to be
removed when the service is enabled again. However adding and removing
traits is subject to generation conflict in placement. The original
implementation of blueprint pre-filter-disabled-computes noticed this
and prints a detailed warning message while the API operation succeeds.
We can ignore the conflict this way because the periodic
update_available_resource() call will re-sync the traits later.

Still this gives human noticeable time window where the trait and the
service state are not in sync.

Setting the compute service disable is the smaller problem as the
scheduler still uses the ComputeFilter that filters the computes based
on the service api. So during the enable ->disable race window we only
lose scheduling performance as the placement filter is inefficient.

In case of setting the compute service to enabled the race is more
visible as the placement pre_filter will filter out the compute that
is enable by the admin until the re-sync happens. If the de-sync would
only happen due to high load on the given compute the such delay could
be explained by the load itself. However de-sync can happen simply due
to a new instance boot on the compute.

This patch adds a functional test that reproduce the original problem.

Related-Bug: #1886418

Change-Id: Ib980b1ba68ffcfe51a15dce10eb9f42ef12d7260
"
openstack%2Fnova~master~I20913201cf945a7fde1f9e6264c415e1235db7b9,openstack/nova,master,refactor_image_download,I20913201cf945a7fde1f9e6264c415e1235db7b9,Move image verification and writing out of download method,MERGED,2020-07-01 06:55:14.000000000,2020-07-21 14:25:24.000000000,2020-07-21 14:22:13.000000000,68,39,17,738738,ccfde2795a958c76bfadc8f58b0ab31d0d998818,53,14,4,2,9963,Jiri Suchomel,jsuchome,"Move image verification and writing out of download method

This should help the readability and also make it possible
to call new _verify_and_write method with different arguments.

Change-Id: I20913201cf945a7fde1f9e6264c415e1235db7b9
"
openstack%2Fnova~master~Ifc8fe3b8cc589d27e9d9f00122dffd7e6ed10b13,openstack/nova,master,cleanup,Ifc8fe3b8cc589d27e9d9f00122dffd7e6ed10b13,Remove unused function parameters,MERGED,2020-05-22 14:38:08.000000000,2020-07-21 14:12:40.000000000,2020-07-21 14:07:06.000000000,149,167,1,730352,69079f072dafbfaa494409797869090a30b6192f,42,15,2,4,15334,Stephen Finucane,sfinucan,"Remove unused function parameters

These were picked up with pylint:

  pylint -d all -e unused-argument nova/compute/manager.py

Note that this returns additional entries but we can't remove those
because they're either (a) part of the API or (b) actually used by
decorators. To summarize the changes:

- Remove 'context' argument from '_set_instance_obj_error_state'
- Remove 'context' argument from '_retry_reboot'
- Remove 'context' argument from '_get_power_state'
- Remove 'context' argument from '_check_instance_exists'
- Remove 'context' argument from '_update_instance_after_spawn'
- Remove 'dp_name' argument from '_get_bound_arq_resources'
- Remove 'context' argument from '_get_power_off_values'
- Remove 'context' argument from '_power_off_instance'

Change-Id: Ifc8fe3b8cc589d27e9d9f00122dffd7e6ed10b13
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I5fa7786523bc1b6001247c6daaee7e984e9a3b65,openstack/nova,master,cleanup,I5fa7786523bc1b6001247c6daaee7e984e9a3b65,Remove unnecessary retrieval of Migration object,MERGED,2020-05-22 14:38:08.000000000,2020-07-21 14:09:28.000000000,2020-07-21 14:06:59.000000000,8,36,0,730351,6ae11a0bcf2ebea7fa689f20ca82526a79357826,52,15,2,3,15334,Stephen Finucane,sfinucan,"Remove unnecessary retrieval of Migration object

This has already been retrieved with an elevated context. There's no
need to retrieve it again.

Change-Id: I5fa7786523bc1b6001247c6daaee7e984e9a3b65
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~Ied2227a482087f4a2dc4e2d9986f9b3b777aa821,openstack/nova,master,unittest2,Ied2227a482087f4a2dc4e2d9986f9b3b777aa821,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-06-23 12:16:24.000000000,2020-07-21 14:03:31.000000000,2020-07-21 13:57:40.000000000,19,19,0,737511,4d58c0bb3d8c889cb634fa38d4ba4b902a883741,15,9,1,8,6593,Dirk Mueller,dmllr,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277^

Change-Id: Ied2227a482087f4a2dc4e2d9986f9b3b777aa821
"
openstack%2Fneutron~master~I18ab51422c7de5dc213078e7dce2ea8d38fba3ea,openstack/neutron,master,increase-ci-job-timeout,I18ab51422c7de5dc213078e7dce2ea8d38fba3ea,Increase singlenode tempest jobs' timeout to 10800 seconds,MERGED,2020-07-08 11:20:29.000000000,2020-07-21 14:03:21.000000000,2020-07-21 13:57:28.000000000,5,5,0,739955,5a0693da8db2529f5482b559b26a09b603c47d6c,14,6,1,1,11975,Slawek Kaplonski,slaweq,"Increase singlenode tempest jobs' timeout to 10800 seconds

In some cases 2h was not enough so it's better to wait 3h for
good results rather than recheck everything after 2h :)

Change-Id: I18ab51422c7de5dc213078e7dce2ea8d38fba3ea
"
openstack%2Fglance~stable%2Ftrain~I93dc7c999ff7a180e6b3ff760fa65328b9a883f3,openstack/glance,stable/train,fix_adm_doc_train,I93dc7c999ff7a180e6b3ff760fa65328b9a883f3,Fix admin docs deploying under HTTPD,MERGED,2020-07-20 21:16:48.000000000,2020-07-21 14:02:59.000000000,2020-07-21 13:57:31.000000000,22,92,0,742028,b264d5bfb8e877359ff8cf82658c1bca02536f48,7,2,1,2,5202,Erno Kuvaja,jokke,"Fix admin docs deploying under HTTPD

During Pike cycle there was efforts to deploy services under
Apache HTTPD. It became clear very quickly that Glance did not
operate properly when deployed as bare wsgi app under web
server but admin documentation was merged that indicated that
being somehow the preferred method. It was added to the doc
that in Pike release there was issues in these models.

There was never interest nor resources to fix the underlying
issues but the doc stayed in place indicating that those
issues could be only Pike related when they in matter of
fact has got even worse over the time. Due to the fact that
Glance is even more relying on eventlet than back then it's
time to clarify the docs and make clear it's not adviced
deployment model, it won't work and there is no itention
to change that.

Change-Id: I93dc7c999ff7a180e6b3ff760fa65328b9a883f3
Closes-Bug: #1887994
(cherry picked from commit 785eefcf7853ccccfa9bec392e2271c3589a3927)
"
openstack%2Fnova~stable%2Fqueens~Ifd8b249de3e8f96fa13db252f0abe2b1bd950de0,openstack/nova,stable/queens,bug/1867075,Ifd8b249de3e8f96fa13db252f0abe2b1bd950de0,fix scsi disk unit number of the attaching volume when cdrom bus is scsi,MERGED,2020-05-22 12:37:14.000000000,2020-07-21 13:57:34.000000000,2020-07-21 13:57:34.000000000,51,5,0,730313,041a62d0d5e4806591233e4868711563622eb19e,26,10,3,2,11604,sean mooney,sean-k-mooney,"fix scsi disk unit number of the attaching volume when cdrom bus is scsi

From Image Meta Properties: hw_cdrom_bus=scsi, and use virtio-scsi mode,
it will also need a disk address for it. So we need to calculate the
disk address when call the function to get the next unit of scsi controller.

Closes-Bug: #1867075
Change-Id: Ifd8b249de3e8f96fa13db252f0abe2b1bd950de0
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
(cherry picked from commit c8d6767cf8baaf3cc81496c83db10c8ae72fce06)
(cherry picked from commit 11b2b7f0b3a8c09216cd8ebfea8b4cd059605290)
(cherry picked from commit 86328d11468af66d95587b53ce28f65ed92c46d7)
(cherry picked from commit 3b2c6ccf261ddb810473954559fa1dd1454e9f09)
"
openstack%2Fopenstack-ansible-os_ceilometer~master~I497db7388c477bb39439e4d6c8e71f691d58715f,openstack/openstack-ansible-os_ceilometer,master,osa/el8,I497db7388c477bb39439e4d6c8e71f691d58715f,Add centos-8 support,ABANDONED,2020-07-06 05:21:34.000000000,2020-07-21 13:28:23.000000000,,44,0,0,739400,1b5086e03ea2590e0253660d6f348c65f787df9b,25,2,7,1,28752,Satish Patel,spatel,"Add centos-8 support

split os distribution file to handle libvirt libraries condition.

Depends-On: https://review.opendev.org/740513
Depends-On: https://review.opendev.org/739401
Change-Id: I497db7388c477bb39439e4d6c8e71f691d58715f
"
openstack%2Fbifrost~master~I03a901436c0c27c6c74b4285f72807155812e632,openstack/bifrost,master,,I03a901436c0c27c6c74b4285f72807155812e632,Replace ANSIBLE_COLLECTIONS_PATHS var with symlink,ABANDONED,2020-07-21 13:24:15.000000000,2020-07-21 13:25:29.000000000,,6,0,0,742190,bd789f9295127f57a386ee59f8bca0a82311bb52,2,0,1,1,32177,Jacob Anders,janders,"Replace ANSIBLE_COLLECTIONS_PATHS var with symlink

Bifrost requires Ansible Collections for certain tasks including
enrollment of nodes. In order for bifrost playbooks to be able to
utilise Ansible Collections, it is required to either export
ANSIBLE_COLLECTIONS_PATHS environment variable or to create a
symbolic link from Ansible Collections installation directory to
bifrost playbook subdirectory. This change replaces the variable
based approach with the symbolic link based approach to improve
resiliency and flexibility.

Change-Id: I03a901436c0c27c6c74b4285f72807155812e632
"
openstack%2Fopenstack-ansible-os_glance~stable%2Fussuri~I0b2e2e39040fd0daef04724f94a39f2d11e4d105,openstack/openstack-ansible-os_glance,stable/ussuri,,I0b2e2e39040fd0daef04724f94a39f2d11e4d105,Cleanup glance-registry service,ABANDONED,2020-07-21 12:58:49.000000000,2020-07-21 13:17:55.000000000,,5,178,0,742179,e5c936a17a20c565ef2aafd2c7b36f6a931cfed2,3,1,1,14,25023,Jonathan Rosser,jrosser,"Cleanup glance-registry service

Glance-registry service has been removed in V cycle with [1]

We do all necessary cleanup to fully remove service deployment.

[1] https://review.opendev.org/738671/

Change-Id: I0b2e2e39040fd0daef04724f94a39f2d11e4d105
(cherry picked from commit ed736fd783a60d583caf4727e15fe813e8d78757)
"
openstack%2Fpython-tripleoclient~master~I8a67554f268042d2cceebf3ec3b1f098f001bbfd,openstack/python-tripleoclient,master,,I8a67554f268042d2cceebf3ec3b1f098f001bbfd,Ensure --limit option takes precedence over skiplist,MERGED,2020-07-16 08:56:48.000000000,2020-07-21 13:11:59.000000000,2020-07-21 02:01:58.000000000,9,11,0,741406,a39424c19e757a622e87f71731c34dfd6434983a,13,3,4,1,8833,Rabi Mishra,rabi,"Ensure --limit option takes precedence over skiplist

Now that we've decided to ignore skiplist when limit
is specified, ensure we do that in master/ussuri.

Change-Id: I8a67554f268042d2cceebf3ec3b1f098f001bbfd
Related-Bug: #1857298
"
openstack%2Ftripleo-common~master~Ia29944a07900ff36d5d4a5826cdd076d11864962,openstack/tripleo-common,master,heat-config,Ia29944a07900ff36d5d4a5826cdd076d11864962,Retry fetching {{ deployment_uuid }}.notify.json file,MERGED,2020-07-16 18:39:38.000000000,2020-07-21 13:11:41.000000000,2020-07-21 02:01:46.000000000,2,0,2,741520,e6634751e5bb127e4513bb7fc6ce51ca4770a7e9,17,5,2,1,3153,Emilien Macchi,emilienm,"Retry fetching {{ deployment_uuid }}.notify.json file

During a deployment, there is a small chance that right after
55-heat-config run, the {{ deployment_uuid }}.notify.json file doesn't
exist yet on the filesystem.

This patch will retry to fetch the file during 20s and return an error
message if it can't be found.

Change-Id: Ia29944a07900ff36d5d4a5826cdd076d11864962
Closes-Bug: #1887846
"
openstack%2Fmanila~master~I67ac549e790322c56d02db4424ec01a5449e6633,openstack/manila,master,,I67ac549e790322c56d02db4424ec01a5449e6633,Update LVM volume extend,MERGED,2020-07-10 15:18:54.000000000,2020-07-21 13:09:06.000000000,2020-07-21 13:06:44.000000000,2,5,0,740492,c94e1deff1bde93d4167ceeb9dafc494d12cd60c,53,10,6,2,9003,Tom Barron,tbarron,"Update LVM volume extend

- do *not* skip fsck when extending
- have extend resize the filesystem itself
  rather than making a separate execution
  of ``resize2fs``

Closes-bug: #1887694
Change-Id: I67ac549e790322c56d02db4424ec01a5449e6633
"
openstack%2Fnova~stable%2Fqueens~Id687e11e235fd6c2f99bb647184310dfdce9a08d,openstack/nova,stable/queens,bug/1774249,Id687e11e235fd6c2f99bb647184310dfdce9a08d,libvirt: Do not reraise DiskNotFound exceptions during resize,MERGED,2019-05-21 12:08:15.000000000,2020-07-21 13:01:27.000000000,2019-06-28 22:00:03.000000000,37,5,0,660363,d3bdeb26155c2d3b53850b790d3800a2dd78cada,18,9,2,2,10135,Lee Yarwood,lyarwood,"libvirt: Do not reraise DiskNotFound exceptions during resize

When an instance has VERIFY_RESIZE status, the instance disk on the
source compute host has moved to <instance_path>/<instance_uuid>_resize
folder, which leads to disk not found errors if the update available
resource periodic task on the source compute runs before resize is
actually confirmed.

Icec2769bf42455853cbe686fb30fda73df791b25 almost fixed this issue but it
will only set reraise to False when task_state is not None, that isn't
the case when an instance is resized but resize is not yet confirmed.
This patch adds a condition based on vm_state to ensure we don't
reraise DiskNotFound exceptions while resize is not confirmed.

Closes-Bug: 1774249
Co-Authored-By: Vladyslav Drok <vdrok@mirantis.com>
Change-Id: Id687e11e235fd6c2f99bb647184310dfdce9a08d
(cherry picked from commit 966192704c20d1b4e9faf384c8dafac8ea6e06ea)
(cherry picked from commit f1280ab849d20819791f7c4030f570a917d3e91d)
(cherry picked from commit fd5c45473823105d8572d7940980163c6f09169c)
"
openstack%2Fopenstack-ansible-os_glance~master~I0b2e2e39040fd0daef04724f94a39f2d11e4d105,openstack/openstack-ansible-os_glance,master,,I0b2e2e39040fd0daef04724f94a39f2d11e4d105,Cleanup glance-registry service,MERGED,2020-07-07 04:30:28.000000000,2020-07-21 12:58:49.000000000,2020-07-08 13:40:26.000000000,5,178,0,739656,ed736fd783a60d583caf4727e15fe813e8d78757,12,5,1,14,28619,Dmitriy Rabotyagov,noonedeadpunk,"Cleanup glance-registry service

Glance-registry service has been removed in V cycle with [1]

We do all necessary cleanup to fully remove service deployment.

[1] https://review.opendev.org/738671/

Change-Id: I0b2e2e39040fd0daef04724f94a39f2d11e4d105
"
openstack%2Fmonasca-api~master~Ic6f7d79d944c21ea777038a6c43f71fc66ad588b,openstack/monasca-api,master,,Ic6f7d79d944c21ea777038a6c43f71fc66ad588b,Fix typo in http_check,MERGED,2020-07-20 12:11:14.000000000,2020-07-21 12:57:19.000000000,2020-07-20 15:11:35.000000000,1,1,0,741924,9d8ecbd2d97c394810947a1dc74b9aca458a961d,12,5,1,1,28062,Martin Chacon Piza,martinchacon,"Fix typo in http_check

This typo brakes the http_check metrics collection in devstack.

Change-Id: Ic6f7d79d944c21ea777038a6c43f71fc66ad588b
"
openstack%2Fnova~stable%2Ftrain~Ic7d1f497e696d5d9e0dfc82605f0ab5d0d3e62d4,openstack/nova,stable/train,,Ic7d1f497e696d5d9e0dfc82605f0ab5d0d3e62d4,fixes broken shared live migration of a vm with a vif,ABANDONED,2020-07-20 15:04:03.000000000,2020-07-21 12:56:29.000000000,,9,4,0,741963,46788ac9a761960d5d8ac64dfe900290bd88352c,8,7,1,1,32220,Sergey Galas',shrike,"fixes broken shared live migration of a vm with a vif

target side calls get_dest_vif member during initialization
stage of migration on a VIFMigrateData instance prepared locally.
there is nobody to set the vif_type attribute value to that
instance earlier thus the migration fails with an exception at the
target.
fortunatelly, the value is available in the source_vif object which
is set definitely because of the test inside the get_dest_vif function.
result value of the function is a deep copy of the source_vif object
then several attributes are replaced with the values from the
VIFMigrateData instance.
let's skip accesses to unset VIFMigrateData instance attributes
and rest with the values from the source_vif.

Change-Id: Ic7d1f497e696d5d9e0dfc82605f0ab5d0d3e62d4
"
openstack%2Fmonasca-persister~master~I300958e1e945e5236b01f4e50cb01c18468cc524,openstack/monasca-persister,master,kafka-client,I300958e1e945e5236b01f4e50cb01c18468cc524,Set legacy_kafka_client_enabled = False on default,MERGED,2020-07-14 13:51:36.000000000,2020-07-21 12:53:14.000000000,2020-07-21 12:50:43.000000000,7,1,0,740966,709318c3bbeff891664c6a0d98b47c22dd336990,10,4,1,2,16222,witek,witek,"Set legacy_kafka_client_enabled = False on default

We change the default value of kafka_common.legacy_kafka_client_enabled
from True to False. The use of new Confluent Kafka client is
recommended.

Change-Id: I300958e1e945e5236b01f4e50cb01c18468cc524
Story: 2007924
Task: 40340
"
openstack%2Fpaunch~stable%2Fussuri~Ie2cb3bb63138b70019f86b88066697e98e333669,openstack/paunch,stable/ussuri,bug/1884866,Ie2cb3bb63138b70019f86b88066697e98e333669,Make sure failed containers get stopped by systemd,MERGED,2020-06-24 09:44:02.000000000,2020-07-21 12:48:31.000000000,2020-07-21 12:15:47.000000000,2,0,0,737728,b8f412d81cf3bbbb4b3d0a420d76e91a3c620799,12,6,1,2,9816,Takashi Kajinami,kajinamit,"Make sure failed containers get stopped by systemd

When the main PID (i.e., common) of a container is killed because of
some reasons, systemd won't execute ExecStop command.
Current podman doesn't detect this failure ang recognize that container
is still running and this causes failure when systemd tries to restart
the container.

This patch introduces ExecStopPost configuration into systemd unit
files so that stop operation is executed even when a container fails
because of killed main process. The stale container should be cleaned
up by ExecStopPost task before systemd tries to restart it.

Note that the similar change has been introcuded to ""podman generate
systemd"" command already[1].
[1] https://github.com/containers/libpod/commit/e5c3432944245a740ed443803c654dcc9c3757f0

Change-Id: Ie2cb3bb63138b70019f86b88066697e98e333669
Closes-Bug: #1884866
"
openstack%2Fmonasca-notification~master~Ie6a15474ebc1f04b8555ee44d413c19ee26a9227,openstack/monasca-notification,master,kafka-client,Ie6a15474ebc1f04b8555ee44d413c19ee26a9227,Set legacy_kafka_client_enabled = False on default,MERGED,2020-07-14 13:39:07.000000000,2020-07-21 12:39:00.000000000,2020-07-21 12:37:29.000000000,7,1,0,740959,f9978670b8437b106cc8a4fa88f6760da98c3b87,9,3,1,2,16222,witek,witek,"Set legacy_kafka_client_enabled = False on default

We change the default value of kafka.legacy_kafka_client_enabled from
True to False. The use of new Confluent Kafka client is recommended.

Change-Id: Ie6a15474ebc1f04b8555ee44d413c19ee26a9227
Story: 2007924
Task: 40339
"
openstack%2Fpython-tripleoclient~master~I7c43563381b694573801e6a54e973fdbd36e0798,openstack/python-tripleoclient,master,bug/1857298,I7c43563381b694573801e6a54e973fdbd36e0798,Throw warning if --limit used with a skip list in Heat,MERGED,2020-07-16 15:54:56.000000000,2020-07-21 12:34:30.000000000,2020-07-21 04:50:51.000000000,103,0,0,741489,47dc9aae0e04856d8ffccd8c8c9b50d02c554aea,15,5,3,4,14985,Alex Schultz,mwhahaha,"Throw warning if --limit used with a skip list in Heat

We have recently switched the --limit option to take precedence over the
defined skip list via a Heat parameter. In order to prevent confusion
between these two, we should throw a warning indicating that the
parameter in Heat will be ignored when running ansible.

Depends-On: https://review.opendev.org/#/c/741271/
Change-Id: I7c43563381b694573801e6a54e973fdbd36e0798
Related-Bug: #1857298
"
openstack%2Fkolla~stable%2Fussuri~Idb0a675d92bab8b9a0cf5209f0a06e996e96033c,openstack/kolla,stable/ussuri,bug/1886663,Idb0a675d92bab8b9a0cf5209f0a06e996e96033c,copy rootwarp files form venv in ironic base,MERGED,2020-07-20 18:30:05.000000000,2020-07-21 12:21:12.000000000,2020-07-21 12:19:22.000000000,1,1,0,742003,a893e6950f5cf969b7e123ec574af8ae4d6befe4,16,4,1,1,14826,Mark Goddard,mgoddard,"copy rootwarp files form venv in ironic base

This change modifies the ironic base container
to copy rootwarp filters from the virtual
env rather than the source code directory. This
is need because some required filters have
been moved to ironic-lib and are not present in
the /ironic dir. The rootwrap filters are not
automitaclly installed in /etc/... due to kolla
use of virtual envs and https://github.com/pypa/wheel/issues/92

Closes-Bug: #1886663
Change-Id: Idb0a675d92bab8b9a0cf5209f0a06e996e96033c
(cherry picked from commit b6c7110409a5658de6e4d7d468d55a1d7ad49232)
"
openstack%2Fhorizon~master~I7e4de69a4dc1a40758018da18fa41a597d773403,openstack/horizon,master,bug#1886150,I7e4de69a4dc1a40758018da18fa41a597d773403,Closes-Bug: #1886256,ABANDONED,2020-07-03 10:05:22.000000000,2020-07-21 12:19:35.000000000,,1,1,0,739199,87a542d289896943bca2aa2c86a3aa357da53de9,7,3,2,1,32160,Hollis,Hollis,"Closes-Bug: #1886256

Change-Id: I7e4de69a4dc1a40758018da18fa41a597d773403
"
openstack%2Ftooz~master~Ia3d9035abb645e82083fe9a796d7d7df7cf4d7a7,openstack/tooz,master,fips,Ia3d9035abb645e82083fe9a796d7d7df7cf4d7a7,hashring: allow choosing hash function,MERGED,2020-07-07 12:32:52.000000000,2020-07-21 12:14:43.000000000,2020-07-21 12:12:10.000000000,30,5,2,739725,f5d32480d9cd76e33f3a88e00441bc39b2a55ff1,24,7,3,3,10239,Dmitry Tantsur,dtantsur,"hashring: allow choosing hash function

In FIPS mode it's not possible to use md5 for any purposes.

Change-Id: Ia3d9035abb645e82083fe9a796d7d7df7cf4d7a7
"
openstack%2Fcharm-hacluster~master~Idffa15f7fddb0843649c5b83637fec019c2bd9a5,openstack/charm-hacluster,master,bug/1888225,Idffa15f7fddb0843649c5b83637fec019c2bd9a5,Fix installing dnspython on python 3.5,MERGED,2020-07-20 13:12:02.000000000,2020-07-21 12:13:08.000000000,2020-07-21 12:13:08.000000000,40,36,1,741934,4acb2d59f48e08fa7b9093d4c98b5c8b0fff9fd0,14,4,2,4,31289,Aurelien Lourot,lourot,"Fix installing dnspython on python 3.5

https://github.com/openstack-charmers/release-tools/pull/100

Change-Id: Idffa15f7fddb0843649c5b83637fec019c2bd9a5
Closes-Bug: #1888225
"
openstack%2Fbifrost~master~I70bf4f7984b3d04a9c74678a7a972ab92192d0ee,openstack/bifrost,master,cirros,I70bf4f7984b3d04a9c74678a7a972ab92192d0ee,Update to cirros 0.5.1,MERGED,2020-07-20 12:00:28.000000000,2020-07-21 12:08:24.000000000,2020-07-21 12:05:43.000000000,7,3,0,741923,e03d1872095d3f5915a96b03c1ea4ed1f6b19e3a,8,3,1,4,10239,Dmitry Tantsur,dtantsur,"Update to cirros 0.5.1

Change-Id: I70bf4f7984b3d04a9c74678a7a972ab92192d0ee
"
openstack%2Fcharm-vault~master~Ifaddeb1d03146c2993b7388466eb1cce945741f6,openstack/charm-vault,master,change-maintainer,Ifaddeb1d03146c2993b7388466eb1cce945741f6,Change maintainer to OpenStack Charmers,MERGED,2020-06-02 13:55:39.000000000,2020-07-21 11:53:23.000000000,2020-07-21 11:53:23.000000000,1,1,0,732685,f2819ec87ca7bae411ba07012cf54347b66a0bf0,10,3,2,1,20870,Alex Kavanagh,ajkavanagh,"Change maintainer to OpenStack Charmers

Change-Id: Ifaddeb1d03146c2993b7388466eb1cce945741f6
"
openstack%2Foslo.service~master~Id560ba80472b9efbcfbc289a18d4df312961fdb1,openstack/oslo.service,master,bug/1888213,Id560ba80472b9efbcfbc289a18d4df312961fdb1,"Do not import ""oslo.log"" in the main module",MERGED,2020-07-20 15:50:05.000000000,2020-07-21 11:49:04.000000000,2020-07-21 11:47:00.000000000,1,4,0,741972,91d4eee90fcbfc6bb65c327767a6d000dd94602e,11,5,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Do not import ""oslo.log"" in the main module

The LOG instance is not being used and there is no need to import
""oslo_log"". This will also prevent the circular import detected
in the related bug.

Change-Id: Id560ba80472b9efbcfbc289a18d4df312961fdb1
Related-Bug: #1888213
"
openstack%2Fmanila~stable%2Fussuri~Ibb1c15f997fa60e1ba5bfb7437502d8aa454d35f,openstack/manila,stable/ussuri,bug/1887695,Ibb1c15f997fa60e1ba5bfb7437502d8aa454d35f,Update NFS helper restart,MERGED,2020-07-21 00:34:28.000000000,2020-07-21 11:37:22.000000000,2020-07-21 11:25:59.000000000,4,3,0,742049,eb0de241b395fdc309d3b13b1adac464316f3f10,10,3,1,1,16643,Goutham Pacha Ravi,gouthamr,"Update NFS helper restart

Because ``service`` commands are deprecated in favor of
``systemctl` commands, the check to see if the service
command succeeds in the NFS helper used by e.g. the
lvm and generic back ends fails.  The string sought to
indicate an error is never present.

Update the helper to use ``systemctl`` commands instead
and error check for them correctly.

Closes-bug: #1887695
Change-Id: Ibb1c15f997fa60e1ba5bfb7437502d8aa454d35f
(cherry picked from commit 391ec7dffa701f54843b3aafdc6d2f8b4dfe0504)
"
openstack%2Fcharm-barbican-vault~master~I6089eae63aca83fccb7c2ecb39b21455464835b3,openstack/charm-barbican-vault,master,bug/1879088,I6089eae63aca83fccb7c2ecb39b21455464835b3,Remove inherited configuration options invalid for charm,MERGED,2020-05-16 21:16:31.000000000,2020-07-21 11:34:53.000000000,2020-07-21 11:34:52.000000000,3,0,0,728657,c83001ca8aba7ad425dd349def85e5e03e371164,17,5,1,1,13686,Frode Nordahl,fnordahl,"Remove inherited configuration options invalid for charm

Change-Id: I6089eae63aca83fccb7c2ecb39b21455464835b3
Closes-Bug: #1879088
"
openstack%2Fmistral~master~Icce8dfa6edb18973ca2a4eb594818ea9d504b49a,openstack/mistral,master,,Icce8dfa6edb18973ca2a4eb594818ea9d504b49a,Generalize caught exceptions on workflow delete,MERGED,2020-07-21 07:44:54.000000000,2020-07-21 11:32:05.000000000,2020-07-21 11:30:12.000000000,1,1,0,742087,2e600ce6fc91a4be90413ea126095a82a26b9477,10,3,2,1,21970,Andras Kovi,andras.kovi,"Generalize caught exceptions on workflow delete

OsloDB sometimes does not convert the underlying SQLAlchemy
errors into DBError. Sometimes it happens that the ""too deep
cascade delete"" error manifests in sa.OperationalError instead
of DBError. We generalize to catch both cases as the underlying
issue is the same (just as the message of the error).

Change-Id: Icce8dfa6edb18973ca2a4eb594818ea9d504b49a
"
openstack%2Fmanila~stable%2Fstein~If5fe32c155fe0861b3ed86b862335e062796056b,openstack/manila,stable/stein,,If5fe32c155fe0861b3ed86b862335e062796056b,Enforce policy checks getting share-type by name,MERGED,2020-07-20 23:34:43.000000000,2020-07-21 11:18:59.000000000,2020-07-21 11:15:23.000000000,11,3,0,742043,644cdf4e4ff965cb96b8cce5396042b6ac8abe7e,11,4,1,3,16643,Goutham Pacha Ravi,gouthamr,"Enforce policy checks getting share-type by name

Policy checks are skipped when looking up a share-type
by name.  This causes share creation attempts that specify
a valid share-type to pass the early API check on share type
even if the share type named is private and not shared with
the user's project.  The share creation fails later, but after
the database record for the share is created.  Although the
operation fails with an ERROR, the share is stuck in CREATING
state.

Fix this issue by checking the user's project in the database
API just as we do for share type lookups by uuid.

Closes-bug: #1885956
Change-Id: If5fe32c155fe0861b3ed86b862335e062796056b
(cherry picked from commit f877deed5186cff3a7ecfbce2536e72fc6013895)
(cherry picked from commit e02cc6d6bc92e354bc7f4220a05ec6fedf2ecc9c)
(cherry picked from commit 2f2ed258f7c273543495b5476af2c3558d51384d)
"
openstack%2Fkayobe~stable%2Ftrain~I238aeefefa88dd584ce61ac9eb52d50552336ed0,openstack/kayobe,stable/train,,I238aeefefa88dd584ce61ac9eb52d50552336ed0,Fix condition of placement image build,MERGED,2020-07-01 09:53:17.000000000,2020-07-21 11:00:11.000000000,2020-07-21 10:56:36.000000000,1,1,0,738778,e9b2b3299ca8e17a9605dbf2c35b3ee9d29596e0,13,4,3,1,14826,Mark Goddard,mgoddard,"Fix condition of placement image build

This should fix placement image build if nova is disabled but zun is
enabled.

Change-Id: I238aeefefa88dd584ce61ac9eb52d50552336ed0
(cherry picked from commit 931fa4830d681281ff189bed15fbc9e0554428c0)
"
openstack%2Fkayobe~stable%2Ftrain~Ia0aa15300f58fc4e912dea7ed304a1cdaf51382a,openstack/kayobe,stable/train,,Ia0aa15300f58fc4e912dea7ed304a1cdaf51382a,Update image regexes,MERGED,2020-07-01 09:53:17.000000000,2020-07-21 10:58:34.000000000,2020-07-21 10:56:31.000000000,59,9,0,738777,539a7fb5df66407e9bb06cee2c0b032832306343,11,5,3,1,14826,Mark Goddard,mgoddard,"Update image regexes

Some images were not being built automatically due to a missing regex.
The most notable being chrony.

Change-Id: Ia0aa15300f58fc4e912dea7ed304a1cdaf51382a
Story: 2007796
Task: 40050
(cherry picked from commit 50317285cba35ee919c5fbc42249dfd6f072f14e)
"
openstack%2Fironic-python-agent-builder~master~If7e4e44e4f3d0606206e2212f7d8ca4945cd7ec7,openstack/ironic-python-agent-builder,master,enable_ipa_buildimage_jobs,If7e4e44e4f3d0606206e2212f7d8ca4945cd7ec7,Add Tripleo IPA build image job in zuul layout,MERGED,2020-07-20 10:45:39.000000000,2020-07-21 10:56:57.000000000,2020-07-21 10:53:01.000000000,2,0,0,741917,a41ec9dc409ef1a031b70f9f6517a7c7a14b7b5c,10,4,2,1,29775,Sandeep Yadav,sandeepyadav93,"Add Tripleo IPA build image job in zuul layout

With this patch we are adding tripleo IPA build image job for C8:-

* tripleo-buildimage-ironic-python-agent-centos-8

We introduced this job as non voting.

Change-Id: If7e4e44e4f3d0606206e2212f7d8ca4945cd7ec7
"
openstack%2Fkayobe~stable%2Ftrain~If78edb12d699a47c911d28afbb365230a3021c7b,openstack/kayobe,stable/train,,If78edb12d699a47c911d28afbb365230a3021c7b,Sync zookeeper feature flag with kolla-ansible,MERGED,2020-07-13 09:39:11.000000000,2020-07-21 10:30:40.000000000,2020-07-21 10:27:24.000000000,1,1,0,740647,edd9da709d4bb6eb4f53afe7d662f51e1e5e8f1e,8,4,1,1,14826,Mark Goddard,mgoddard,"Sync zookeeper feature flag with kolla-ansible

Change-Id: If78edb12d699a47c911d28afbb365230a3021c7b
(cherry picked from commit 1a4f3ed23e68d23120bc97a86372d02a4de204bb)
"
openstack%2Fkayobe~stable%2Ftrain~I2f8ecad57f97e5cd3e15156959c017ad29335e31,openstack/kayobe,stable/train,,I2f8ecad57f97e5cd3e15156959c017ad29335e31,Update feature flag defaults,MERGED,2020-07-01 09:53:17.000000000,2020-07-21 10:29:20.000000000,2020-07-21 10:27:23.000000000,59,18,1,738776,a050984b8fb5e9f2f8954fb4b7caa7a9d0a73372,12,5,2,1,14826,Mark Goddard,mgoddard,"Update feature flag defaults

We need these defined to figure out which images to build.

Only flags that are required by build regex map have been added, and
dependencies of those.

TrivialFix

Change-Id: I2f8ecad57f97e5cd3e15156959c017ad29335e31
(cherry picked from commit bde426c9b19b272f350cdc2a84a1b324e2ad3c91)
"
openstack%2Fkayobe~stable%2Ftrain~I0e3be19eed371853d80c401d6a46770a7d6dcbc5,openstack/kayobe,stable/train,,I0e3be19eed371853d80c401d6a46770a7d6dcbc5,Update feature flags,MERGED,2020-07-01 21:19:07.000000000,2020-07-21 10:21:28.000000000,2020-07-21 10:19:48.000000000,98,19,0,738944,ee65b6e4bd58876efa556d4cccf7832e406bec03,10,5,1,3,15197,Pierre Riteau,priteau,"Update feature flags

The flags in etc/kayobe/kolla.yml were out of sync with
ansible/roles/kolla-ansible/vars/main.yml.

This commit sorts them all alphabetically and adds a script to simplify
generating the list.

TrivialFix

Change-Id: I0e3be19eed371853d80c401d6a46770a7d6dcbc5
(cherry picked from commit 1e963a60ada175482c415ca2f6c46a5899a6939a)
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~Idac62d37a19ee49f30936e20021a9dab5af40eec,openstack/python-tripleoclient,stable/train,,Idac62d37a19ee49f30936e20021a9dab5af40eec,Fix package manager used during undercloud packages update,ABANDONED,2020-07-17 12:37:41.000000000,2020-07-21 10:16:25.000000000,,28,5,0,741631,58388abf895657a05f8c9a12cd1aaa270108cdef,10,7,2,2,8449,Marios Andreou,marios,"Fix package manager used during undercloud packages update

As described in the related bug we need to use dnf instead of yum
for centos8 otherwise it fails in the undercloud packages update.

I am using the python version to determine - py3 is dnf. As part of
discussion here when dnf isn't available fall back to yum.

Found as part of the work in [1].

Related-Bug: 1886837
[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817

Change-Id: Idac62d37a19ee49f30936e20021a9dab5af40eec
(cherry picked from commit 9c53cb3ef5ad513b05d4888552a3280e0eec43ca)
"
openstack%2Fcharm-interface-bind-rndc~master~Icdb525c9886937597e35ab8126237a2850604832,openstack/charm-interface-bind-rndc,master,bug/1806485,Icdb525c9886937597e35ab8126237a2850604832,Add egress_subnets helper,MERGED,2020-07-21 08:29:37.000000000,2020-07-21 09:55:19.000000000,2020-07-21 09:55:19.000000000,10,0,0,742097,129240c1909667c2a237433709bd469479fd502f,10,3,2,1,935,James Page,james-page,"Add egress_subnets helper

Collate all presented egress_subnets into a list of cidrs
for the remote designate servers.

This will be used by the designate-bind charm to configure
BIND with a full list of permitted CIDRs if allowed_nets is
configured.

Change-Id: Icdb525c9886937597e35ab8126237a2850604832
Related-Bug: 1806485
"
openstack%2Fblazar-nova~master~Ic67e23f6b3760a6d2ca4a07dd84c9034d85d9b75,openstack/blazar-nova,master,migrate-to-focal,Ic67e23f6b3760a6d2ca4a07dd84c9034d85d9b75,migrate testing to ubuntu focal,MERGED,2020-07-09 20:13:43.000000000,2020-07-21 09:40:16.000000000,2020-07-21 09:40:16.000000000,5,1,0,740359,349e75a811c6fcc54eed128fed783f0bf2aeff78,8,4,1,2,8556,Ghanshyam,ghanshyam,"migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886296
Bump the pyflakes to 2.1.1 as min version to run pep8 jobs
on py3.8 which is default python vesion in ubuntu focal.

Story: #2007865
Task: #40178

Closes-Bug: #1886296
[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html

Change-Id: Ic67e23f6b3760a6d2ca4a07dd84c9034d85d9b75
"
openstack%2Fpython-blazarclient~master~If5262d4b4c67fddc55125ee3ca9c7f6c34ebade9,openstack/python-blazarclient,master,migrate-to-focal,If5262d4b4c67fddc55125ee3ca9c7f6c34ebade9,migrate testing to ubuntu focal,MERGED,2020-07-09 20:13:03.000000000,2020-07-21 09:40:09.000000000,2020-07-21 09:38:43.000000000,6,1,0,740358,83a20368c87f6b729f1b7825ec6fc0ae25666435,9,4,1,2,8556,Ghanshyam,ghanshyam,"migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886296
Bump the pyflakes to 2.1.1 as min version to run pep8 jobs
on py3.8 which is default python vesion in ubuntu focal.

Story: #2007865
Task: #40178

Closes-Bug: #1886296
[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html

Change-Id: If5262d4b4c67fddc55125ee3ca9c7f6c34ebade9
"
openstack%2Fblazar-tempest-plugin~master~I295c8e2fe6b135833b33cdf9d405d169f358c083,openstack/blazar-tempest-plugin,master,migrate-to-focal,I295c8e2fe6b135833b33cdf9d405d169f358c083,migrate testing to ubuntu focal,MERGED,2020-07-09 20:11:53.000000000,2020-07-21 09:38:00.000000000,2020-07-21 09:36:17.000000000,4,0,2,740357,339c3e1e269c9d3616b38b83b0f0f6d5228e5aef,11,6,1,1,8556,Ghanshyam,ghanshyam,"migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886296
Bump the pyflakes to 2.1.1 as min version to run pep8 jobs
on py3.8 which is default python vesion in ubuntu focal.

Story: #2007865
Task: #40178

Closes-Bug: #1886296
[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html

Change-Id: I295c8e2fe6b135833b33cdf9d405d169f358c083
"
openstack%2Fironic~master~I986cc4a936c8679e932463ff3c91d1876a713196,openstack/ironic,master,story/1651346,I986cc4a936c8679e932463ff3c91d1876a713196,"Add wsme core types, remove WSME",MERGED,2020-01-28 02:13:53.000000000,2020-07-21 09:35:37.000000000,2020-07-21 09:05:14.000000000,1383,36,2,704490,44cc6dd7927f71fbfff9b5240186eaeaf2643bb9,68,8,11,6,4571,Steve Baker,steve-stevebaker,"Add wsme core types, remove WSME

The header for the file types.py denotes its dual-licensed status as
MIT with copyright to the original WSME authors, plus apache licensed
as part of Ironic.

Story: 1651346
Task: 10551

Change-Id: I986cc4a936c8679e932463ff3c91d1876a713196
"
openstack%2Fnova~stable%2Fqueens~I4afaa0808b75cc31a8dd14663912c162281a1a42,openstack/nova,stable/queens,backport-hash-check,I4afaa0808b75cc31a8dd14663912c162281a1a42,Check cherry-pick hashes in pep8 tox target,MERGED,2020-07-20 07:33:36.000000000,2020-07-21 09:22:54.000000000,2020-07-21 09:20:47.000000000,43,0,0,741883,e605600d9e45f1b88ecc5c68c1ec4e24ceea6bd5,13,6,1,2,17685,Elod Illes,elod.illes,"Check cherry-pick hashes in pep8 tox target

NOTE(elod.illes): This is a combination of 2 commits: the cherry-pick
hash checker script and a fix for the script.

1. Check cherry-pick hashes in pep8 tox target

This adds a tools/ script that checks any cherry-picked hashes
on the current commit (or a provided commit) to make sure that
all the hashes exist on at least master or stable/.* branches.
This should help avoid accidentally merging stable backports
where one of the hashes along the line has changed due to conflicts.

2. Fix cherry-pick check for merge patch

Cherry-pick check script validates the proposed patch's commit message.
If a patch is not on top of the given branch then Zuul rebases it to
the top and the patch becomes a merge patch. In this case the script
validates the merge patch's commit message instead of the original
patch's commit message and fails.

This fix selects the parent of the patch if it is a merge patch.

(cherry picked from commit c7c48c6f52c9159767b60a4576ba37726156a5f7)
(cherry picked from commit 02f213b831d8e1d4a1d8ebb18d1260571fe20b84)
(cherry picked from commit 7a5111ba2943014b6fd53a5fe7adcd9bc445315e)

Change-Id: I4afaa0808b75cc31a8dd14663912c162281a1a42
(cherry picked from commit aebc829c4e0d39a160eaaa5ad949c1256c8179e6)
(cherry picked from commit 5cacfaab82853241022d3a2a0734f82dae59a34b)
(cherry picked from commit d307b964ce380f2fa57debc6c4c8346ac8736afe)
(cherry picked from commit c3dd9f86f13a86c901443054de5ad3ab57953901)
(cherry picked from commit f1ab10b8252bab4123c55a9fc10583710f347cef)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I31cf042b72aad5cdd2c7c1ae8bc319eca372acff,openstack/tripleo-ansible,stable/ussuri,bug/1887702-stable/ussuri,I31cf042b72aad5cdd2c7c1ae8bc319eca372acff,Allow any_errors_fatal to be dynamic,MERGED,2020-07-21 01:46:51.000000000,2020-07-21 09:21:55.000000000,2020-07-21 09:21:54.000000000,30,20,0,742054,561b935adb0b70ddbb93a4ea6dc5e665ed6718fa,7,4,1,3,3153,Emilien Macchi,emilienm,"Allow any_errors_fatal to be dynamic

Currently any_errors_fatal cannot be dynamic value based on the current
task vars. This change attempts to evaulate the provided value and
verifies it's a boolean when using it to handle the any_errors_fatal
logic.

Related Upstream: https://github.com/ansible/ansible/pull/70694
Related-Bug: #1887702

Change-Id: I31cf042b72aad5cdd2c7c1ae8bc319eca372acff
(cherry picked from commit 28d4e52a16c21e5f87acdfe72a7f489611c841c9)
"
openstack%2Ftooz~master~I5ea06ebd2b976465ff82f10a74e140f30e9e803f,openstack/tooz,master,mysql,I5ea06ebd2b976465ff82f10a74e140f30e9e803f,Fix breakage with PyMySQL 0.10.0,MERGED,2020-07-20 13:43:25.000000000,2020-07-21 09:21:28.000000000,2020-07-20 20:48:58.000000000,13,9,2,741945,d59b283440e96959e6ad1b9ce2aa154c31e71480,13,5,2,2,10239,Dmitry Tantsur,dtantsur,"Fix breakage with PyMySQL 0.10.0

In this version a Connection is no longer a context manager. Fix
it by simply getting a Cursor out of it (locks don't seem to
interact with transactions, at least according to MariaDB docs).

Change-Id: I5ea06ebd2b976465ff82f10a74e140f30e9e803f
"
openstack%2Fhorizon~master~I1e2d1b367840e28a60c93e07cbe92a10b9b0f63c,openstack/horizon,master,zanata/translations,I1e2d1b367840e28a60c93e07cbe92a10b9b0f63c,Imported Translations from Zanata,MERGED,2020-07-21 06:49:57.000000000,2020-07-21 09:16:13.000000000,2020-07-21 09:14:06.000000000,4,4,0,742077,11a04772f31cc55d57bc5ebea854fb0ee7ef2103,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I1e2d1b367840e28a60c93e07cbe92a10b9b0f63c
"
openstack%2Fceilometer~master~Ic2e8e7cc0b86c8a750dda68761d9ca99148773b7,openstack/ceilometer,master,add_release_note,Ic2e8e7cc0b86c8a750dda68761d9ca99148773b7,Add release note link in README,MERGED,2018-07-10 07:23:13.000000000,2020-07-21 09:07:59.000000000,2020-07-21 09:05:20.000000000,4,0,1,581229,bdd242e4a44f52aad838bb9f74529f2b7364fd3f,36,13,3,1,28427,Tuan Do Anh,tuanda,"Add release note link in README

Change-Id: Ic2e8e7cc0b86c8a750dda68761d9ca99148773b7
"
openstack%2Fceilometer~master~I7f614624ab732be4919298ce23de192555a7fb18,openstack/ceilometer,master,bug/1802918,I7f614624ab732be4919298ce23de192555a7fb18,Added missing Ceilometer configuration step for controller in docs.,MERGED,2018-12-18 06:44:48.000000000,2020-07-21 08:58:11.000000000,2020-07-21 08:56:36.000000000,17,1,2,625806,71e50362de6481eb03154a26848903f788f44581,16,6,3,2,29360,Prankul Mahajan,prankul,"Added missing Ceilometer configuration step for controller in docs.

Co-Authored-By: Rafael Weingrtner <rafael@apache.org>
Change-Id: I7f614624ab732be4919298ce23de192555a7fb18
Reference: https://docs.openstack.org/ceilometer/latest/install/install-base-ubuntu.html
Closes-bug: #1802918
"
openstack%2Fceilometer~master~Ibfcfefc6e6bb57a2897b811783aae7827fb8d9cf,openstack/ceilometer,master,bug/2006699,Ibfcfefc6e6bb57a2897b811783aae7827fb8d9cf,Add hardware.ipmi.power metric collected,ABANDONED,2019-10-10 12:51:57.000000000,2020-07-21 08:49:59.000000000,,52,1,2,687885,4f5ad19f06c41263237757defbddfad75a04882b,6,7,1,5,17144,jun923.gu,jun923.gu,"Add hardware.ipmi.power metric collected

According to https://review.opendev.org/#/c/542949/, we should add
PowerSensorNotification to collect hardware.ipmi.power metric. At the
same time, we should add hardware.ipmi.fan to gnocchi_resources.yaml to
avoid that hardware.ipmi.fan can't be collected.

Change-Id: Ibfcfefc6e6bb57a2897b811783aae7827fb8d9cf
Story: #2006699
Task: #37006
"
openstack%2Fceilometer~master~Ib33a3f49647d86fae826f416825a85433730b391,openstack/ceilometer,master,,Ib33a3f49647d86fae826f416825a85433730b391,Remove glance-registry from docs,MERGED,2020-07-07 15:30:09.000000000,2020-07-21 08:46:28.000000000,2020-07-21 08:44:15.000000000,5,9,0,739797,1456ef0af660524dd5780c760612cbbee53ba516,7,2,1,3,30356,gugug,gujin,"Remove glance-registry from docs

glance-registry service was deprecated in Queens release and has been
removed in Victoria [1].

[1] https://review.opendev.org/#/c/738671/

Change-Id: Ib33a3f49647d86fae826f416825a85433730b391
"
openstack%2Fcharm-keystone~master~Ic0a245fea8e49efdc7bddbd0ff63aeed4128db72,openstack/charm-keystone,master,victoria-charm-tests,Ic0a245fea8e49efdc7bddbd0ff63aeed4128db72,Add Victoria test bundles,MERGED,2020-07-20 21:43:23.000000000,2020-07-21 08:30:57.000000000,2020-07-21 08:30:57.000000000,139,2,0,742032,76efbf0037c78a34f6e8e58a015093e784aaf4b2,7,3,1,3,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: Ic0a245fea8e49efdc7bddbd0ff63aeed4128db72
"
openstack%2Frequirements~master~Ic2a38b77b5c217f769f67ed1c45d3aeb90d9cbff,openstack/requirements,master,bug/1888237,Ic2a38b77b5c217f769f67ed1c45d3aeb90d9cbff,Pin dnspython to 1.16.0 as eventlet fails with 2.0.0,MERGED,2020-07-20 16:30:31.000000000,2020-07-21 08:29:13.000000000,2020-07-21 02:58:00.000000000,3,2,4,741986,8d3ac6ba5d6b07ecf3d9cd787c5664b27c5e1efe,31,9,2,2,9708,Balazs Gibizer,gibi,"Pin dnspython to 1.16.0 as eventlet fails with 2.0.0

As per issue https://github.com/eventlet/eventlet/issues/619 eventlet is
not compatible with dnspython 2.0.0 making nova novnc proxy to fail if
TLS is configured.

Closes-Bug: #1888237
Change-Id: Ic2a38b77b5c217f769f67ed1c45d3aeb90d9cbff
"
openstack%2Ftripleo-heat-templates~master~I50b3a803dcdd03d7332697739cdb4ad0f55e879d,openstack/tripleo-heat-templates,master,,I50b3a803dcdd03d7332697739cdb4ad0f55e879d,Add parameter to set spare amphorae pool size,ABANDONED,2020-01-28 12:00:47.000000000,2020-07-21 08:01:24.000000000,,10,0,0,704542,494a95e19d448a8e676b381519e985249e4edc59,4,3,1,2,6469,Carlos Gonalves,cgoncalves,"Add parameter to set spare amphorae pool size

This patch adds a THT parameter to configure the number of spare
amphorae the Octavia Housekeeping service should maintain.

Change-Id: I50b3a803dcdd03d7332697739cdb4ad0f55e879d
"
openstack%2Ftripleo-common~stable%2Ftrain~I2e9fc7b9e9005fce7d956f1b936054e540b39849,openstack/tripleo-common,stable/train,train/1857298,I2e9fc7b9e9005fce7d956f1b936054e540b39849,ansible: limit_hosts now takes precedence over blacklisted_hostnames,MERGED,2020-07-15 18:12:34.000000000,2020-07-21 07:58:48.000000000,2020-07-21 07:56:57.000000000,96,5,0,741293,d9433a5af01d6f09be47f4077a74eefdc6ef3738,36,6,2,3,3153,Emilien Macchi,emilienm,"ansible: limit_hosts now takes precedence over blacklisted_hostnames

From now, limit_hosts will take precedence over the blacklisted_hostnames.
And therefore Ansible won't be run with two --limit if both limit hosts
and blacklisted hostnames are in use. When we want to run Ansible on
specific hosts, we will ignore the blacklisted nodes and assume we know
what we do. In the case of the scale-down scenario, the unreachable nodes
are ignored.

Note: adding unit tests coverage for both parameters.
Note-bis: unit tests aren't clean backport on train, since Ansible CLI
wasn't exactly the same.

Change-Id: I2e9fc7b9e9005fce7d956f1b936054e540b39849
Closes-Bug: #1857298
(cherry picked from commit 8cd3b14925868f52b9b75814c1066078eac94abd)
"
openstack%2Ftripleo-common~master~Ia7792622f6cfad98a47bee8c799c4e247d9cf602,openstack/tripleo-common,master,memory-usage,Ia7792622f6cfad98a47bee8c799c4e247d9cf602,"Revert ""Remove chunk size for url stream""",MERGED,2019-11-06 17:42:41.000000000,2020-07-21 07:58:46.000000000,2020-07-21 07:56:56.000000000,1,2,0,693225,d2431b9523b64b833cb4ebcdaf2b4a9282d85ccf,17,4,4,1,14985,Alex Schultz,mwhahaha,"Revert ""Remove chunk size for url stream""

This reverts commit 5cbb6bee6a15ed8f6cc249ea5b9d9157cac40a2a.

Adding chunk_size back in to see if it improves the memory usage that
occurs when processing multiple layers at the same time.

Change-Id: Ia7792622f6cfad98a47bee8c799c4e247d9cf602
"
openstack%2Fansible-role-collect-logs~master~I020d3cb1b6bd8ecfb69b4b52a2f7e39f066114f1,openstack/ansible-role-collect-logs,master,,I020d3cb1b6bd8ecfb69b4b52a2f7e39f066114f1,Add node provision timeout pattern,MERGED,2020-07-21 06:38:54.000000000,2020-07-21 07:56:59.000000000,2020-07-21 07:56:59.000000000,5,0,0,742076,62857fc9e11c6c4b5b9b46379dba4dda60a4d905,6,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add node provision timeout pattern

Change-Id: I020d3cb1b6bd8ecfb69b4b52a2f7e39f066114f1
"
openstack%2Fansible-role-collect-logs~master~Ied981bd97a9334300dca00a86a63ca4fc3aebaa7,openstack/ansible-role-collect-logs,master,,Ied981bd97a9334300dca00a86a63ca4fc3aebaa7,Add tempest failure pattern to sova,MERGED,2020-07-20 15:27:45.000000000,2020-07-21 07:56:58.000000000,2020-07-21 07:56:58.000000000,9,4,0,741968,2dd8f51782fae0a949a7cc239fe9fc4e0799c2b8,7,3,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add tempest failure pattern to sova

And make all introspection messages have the same format.

Change-Id: Ied981bd97a9334300dca00a86a63ca4fc3aebaa7
"
openstack%2Fpuppet-tripleo~master~Iaba8da504f9c7a54656cf1abe259dff779ea7125,openstack/puppet-tripleo,master,ha-cert-rotation,Iaba8da504f9c7a54656cf1abe259dff779ea7125,Ensure post-save certmonger scripts target the right HA container,MERGED,2020-06-26 14:34:15.000000000,2020-07-21 07:52:35.000000000,2020-07-21 02:01:56.000000000,2,2,2,738215,3e942b7ff5cc91bfee7cc19d31b502548dcf3f57,15,6,1,2,20778,Damien Ciabrini,dciabrin,"Ensure post-save certmonger scripts target the right HA container

HAProxy and RabbitMQ can reload their TLS certificate on change,
without being restarted. To do that, a post-save script scan the
list of running container, copy the new certs and trigger a reload
action in the service.

Make sure that those post-save script only get the right container
out of the ""$container_cli ps"" command, i.e. that the scripts Work
both with HA and non-HA deployments.

Change-Id: Iaba8da504f9c7a54656cf1abe259dff779ea7125
Closes-Bug: #1885284
"
openstack%2Fmanila~master~I5eb97ba1b29ad24b296e12064f81eb93533c6b99,openstack/manila,master,bug/1887643,I5eb97ba1b29ad24b296e12064f81eb93533c6b99,[NetApp] update set_preferred_dc for ontapi 1.150,MERGED,2020-07-15 09:21:22.000000000,2020-07-21 07:42:21.000000000,2020-07-17 20:01:45.000000000,38,2,1,741126,3057d0643e8a93c4ae857159d96e94541ad0be4d,26,9,2,3,18816,Maurice Escher,mapocace,"[NetApp] update set_preferred_dc for ontapi 1.150

ONTAP 9.5 adds vserver cifs domain preferred-dc configuration
validation. The parameter 'skip-config-validation' is mandatory
for 'cifs-domain-preferred-dc-add' now and is set to false,
i.e. an invalid config will raise early.

Change-Id: I5eb97ba1b29ad24b296e12064f81eb93533c6b99
Closes-Bug: 1887643
"
openstack%2Ffreezer-api~master~I4dc7389756a4bfd6da62841456bf1653637b0371,openstack/freezer-api,master,,I4dc7389756a4bfd6da62841456bf1653637b0371,Fix pygments style,MERGED,2020-05-20 00:48:33.000000000,2020-07-21 07:33:20.000000000,2020-07-21 07:30:41.000000000,3,3,0,729446,11abfacbb8cfe1dc75f933e6358f942020f5c0f8,14,6,3,3,30356,gugug,gujin,"Fix pygments style

New theme of docs respects pygments_style.

more info: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I4dc7389756a4bfd6da62841456bf1653637b0371
"
openstack%2Fheat~stable%2Ftrain~If2ebc3deacb770294004ae023500367af603b59e,openstack/heat,stable/train,,If2ebc3deacb770294004ae023500367af603b59e,Use never expiring alarm_url for resource attributes,MERGED,2020-06-10 06:34:13.000000000,2020-07-21 07:32:57.000000000,2020-07-21 07:27:48.000000000,21,16,0,734751,eb8bfd530b11fd00b9f0ef52521c823a5ccd9b2a,18,4,2,6,8833,Rabi Mishra,rabi,"Use never expiring alarm_url for resource attributes

Don't use timestamp when generating ec2 signed url for alarm url
attributes of resource.

This will resolve the issue for new resources even if they are cached
in attributes or resource_data.

However, for existing stacks containing these resources the current
best option is to not cache these attributes and allow alarm resources
to be able to get a new never expiring urls in the next forced update.

Change-Id: If2ebc3deacb770294004ae023500367af603b59e
Task: 39985
Related-Bug: #1872737
(cherry picked from commit d0e44ded0a07cfe6b3413693d79c7f1f67b27701)
"
openstack%2Fheat~stable%2Ftrain~I6b74faed820caccd39210bd48a212b2dedca46b9,openstack/heat,stable/train,,I6b74faed820caccd39210bd48a212b2dedca46b9,Don't store signal_url for ec2 signaling of deployments,MERGED,2020-06-06 11:43:14.000000000,2020-07-21 07:30:14.000000000,2020-07-21 07:27:43.000000000,27,12,0,733960,a4346b328773239ae1668b3890a4e1f7e4472713,55,3,4,6,8833,Rabi Mishra,rabi,"Don't store signal_url for ec2 signaling of deployments

As part of a CVE keystone has started checking[1] the timestamp
of signed ec2 token with default TTL of 15 mins. We can't
store the ec2 url anymore for future use for those.

This moves the caching logic to BaseWaitConditionHandle class.

Conflicts:
	heat/engine/resources/signal_responder.py
	heat/tests/test_signal.py

[1] https://review.opendev.org/#/c/724124/

Change-Id: I6b74faed820caccd39210bd48a212b2dedca46b9
Task: 39985
Related-Bug: #1872737
(cherry picked from commit 3047ca7d36baaa59ab2960602da956d2087a2a62)
"
openstack%2Fpython-tripleoclient~master~I8a5b7c3fc87a27c774deb368b877a9697ba320f3,openstack/python-tripleoclient,master,remove-babel,I8a5b7c3fc87a27c774deb368b877a9697ba320f3,Remove translation sections from setup.cfg,MERGED,2020-06-14 16:15:43.000000000,2020-07-21 07:09:43.000000000,2020-07-21 07:06:50.000000000,0,17,0,735471,064ce9c8fd1a66fd0e06fdf3b57f87ff2f27b558,10,5,1,4,26285,wu.chunyang,wu.chunyang,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Remove babel.cfg as well, this is the default role and not needed
anymore.

also remove Babel from requirements[1]
[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html

Change-Id: I8a5b7c3fc87a27c774deb368b877a9697ba320f3
"
openstack%2Ftripleo-heat-templates~master~I4298855fe71b1035df81d5ce9c3cef2e3c96dbb6,openstack/tripleo-heat-templates,master,relax,I4298855fe71b1035df81d5ce9c3cef2e3c96dbb6,Use a single task for fact gathering,MERGED,2020-07-15 20:55:37.000000000,2020-07-21 07:06:48.000000000,2020-07-21 07:06:47.000000000,2,11,0,741316,27ec857cf2696a005eedb397207a0e78658b9989,15,5,3,1,14985,Alex Schultz,mwhahaha,"Use a single task for fact gathering

We don't need to do different plays for fact gathering as we can simply
include both the source/remote hosts in a single pattern.

For the record, this was added because we were using local connections
for the undercloud when running under mistral however this is no longer
the case. Additionally I believe we stopped doing that later as well but
this may not be able to be backported to run under mistral. Original
context https://review.opendev.org/#/c/518323/

Change-Id: I4298855fe71b1035df81d5ce9c3cef2e3c96dbb6
"
openstack%2Fironic-python-agent-builder~master~I2708b71abfe3bc24089f4a51514d362da1491c66,openstack/ironic-python-agent-builder,master,,I2708b71abfe3bc24089f4a51514d362da1491c66,[tinyipa] Fix getting MTU via dhcp,MERGED,2020-05-27 07:36:11.000000000,2020-07-21 06:55:09.000000000,2020-07-21 06:52:37.000000000,22,17,3,731095,ddd631aacba00e357bb53697aad60df5ee369959,34,5,4,2,14525,Vasyl Saienko,vsaienko,"[tinyipa] Fix getting MTU via dhcp

The patch updates udhcpc script to handle MTU option advertised
by DHCP server.

Change-Id: I2708b71abfe3bc24089f4a51514d362da1491c66
"
openstack%2Fopenstack-ansible-os_keystone~master~I018d1fc8ad637de8e76a98f22f6cef21e3f0b7c3,openstack/openstack-ansible-os_keystone,master,osa/el8,I018d1fc8ad637de8e76a98f22f6cef21e3f0b7c3,Add Centos-8 support,MERGED,2020-06-15 10:59:09.000000000,2020-07-21 06:38:04.000000000,2020-07-05 19:17:06.000000000,3,3,2,735555,be3a7c7e2bf63a73a1b971141e5f511bce2be5a9,20,5,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Centos-8 support

Change-Id: I018d1fc8ad637de8e76a98f22f6cef21e3f0b7c3
"
openstack%2Fironic-python-agent~master~I6c91e84366dcec7290456eea535a0b2bd3eda4d1,openstack/ironic-python-agent,master,tox-m-pip,I6c91e84366dcec7290456eea535a0b2bd3eda4d1,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:28:00.000000000,2020-07-21 06:33:08.000000000,2020-07-21 06:31:18.000000000,1,1,0,741187,c66bec0f43cfeb371a8ac97df3eddca3853191dc,9,4,1,1,23851,Riccardo Pittau,elfosardo,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I6c91e84366dcec7290456eea535a0b2bd3eda4d1
"
openstack%2Fproject-config~master~I8250e82f8ad540fcce46a19b9890d31754719729,openstack/project-config,master,dragonflow,I8250e82f8ad540fcce46a19b9890d31754719729,Remove dragonflow from infra,MERGED,2020-06-23 16:32:17.000000000,2020-07-21 06:28:12.000000000,2020-07-21 05:56:00.000000000,2,34,1,737578,51bf34576d5ce54b871289d11e52e528793a0512,12,4,2,4,11904,Sean McGinnis,SeanM,"Remove dragonflow from infra

This completes step 3 of the project retirement process for the
openstack/dragonflow repo.

Depends-on: https://review.opendev.org/737564

Change-Id: I8250e82f8ad540fcce46a19b9890d31754719729
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fglance-specs~master~I3cdd88eef1a64171d2714034449ca2ddf85a214d,openstack/glance-specs,master,bp/copy-unowned-image,I3cdd88eef1a64171d2714034449ca2ddf85a214d,Add copy-unowned-image spec,MERGED,2020-07-02 14:49:18.000000000,2020-07-21 06:16:14.000000000,2020-07-09 14:58:40.000000000,204,0,7,739062,576a8e20cdc06e0a0ee9ba45f2b5bc977b0f7dea,34,7,5,1,4393,Dan Smith,danms,"Add copy-unowned-image spec

Change-Id: I3cdd88eef1a64171d2714034449ca2ddf85a214d
"
openstack%2Ftripleo-validations~master~Ia653292305d0493063b1ab8d22b4797cb8d077cc,openstack/tripleo-validations,master,ignore-lvm-qemu,Ia653292305d0493063b1ab8d22b4797cb8d077cc,Ignore an audit.log entry for qemu-kvm on /dev/mapper/control,ABANDONED,2020-07-20 09:42:40.000000000,2020-07-21 06:10:11.000000000,,6,1,1,741903,ea7d24934637c40adf09428617f87defef9a771d,3,1,1,1,28223,Cedric Jeanneret,cjeanner,"Ignore an audit.log entry for qemu-kvm on /dev/mapper/control

This denial is shown when we create a new VM - nova_libvirt having /dev
bind-mounted, it triggers some automated call in qemu-kvm checking the
access on this socket.

It can be safely ignored, and therefore shouldn't make the whole
validation fail.

Change-Id: Ia653292305d0493063b1ab8d22b4797cb8d077cc
"
openstack%2Fpython-tripleoclient~master~I9edca394a9ce05796894e91d3d6e4707222afad4,openstack/python-tripleoclient,master,kwargs,I9edca394a9ce05796894e91d3d6e4707222afad4,Remove useless validate_stack from update deployment plan,ABANDONED,2020-07-21 05:56:10.000000000,2020-07-21 06:03:53.000000000,,4,11,0,742072,0a71f05298ff78e718cac8cd783efbb4fa4556c4,4,0,3,3,9816,Takashi Kajinami,kajinamit,"Remove useless validate_stack from update deployment plan

Current tripleoclient doesn't provide any options to set validate_stack
when updating deployment plan and this parameter is always False.

This patch removes that useless parameter.

Change-Id: I9edca394a9ce05796894e91d3d6e4707222afad4
"
openstack%2Fopenstack-zuul-jobs~master~I0affa199406b82dc0315e4f1f6b0082ecde7aad4,openstack/openstack-zuul-jobs,master,grenade-em-nv,I0affa199406b82dc0315e4f1f6b0082ecde7aad4,"Enable neutron-grenade again for Stein, Rocky and Queens",MERGED,2020-07-15 16:57:52.000000000,2020-07-21 05:57:03.000000000,2020-07-21 05:54:13.000000000,6,6,6,741274,2959fa84f48b78e91f7e4513db8a71140563a396,24,7,5,1,17685,Elod Illes,elod.illes,"Enable neutron-grenade again for Stein, Rocky and Queens

Devstack and Tempest jobs were recently fixed for all of the branches
back till Pike. Now we can restore the neutron-grenade testing, as they
are also working fine (see passing neutron-grenade in experimental jobs
in Rocky [1]). As a successful grenade run on branch N needs a working
devstack and tempest on branch N-1, the first branch where grenade will
pass is Queens.

[1] https://review.opendev.org/#/c/738548/

Change-Id: I0affa199406b82dc0315e4f1f6b0082ecde7aad4
"
openstack%2Ftripleo-common~stable%2Fussuri~I985ef22c340c4071866c8c51bf303a6f4ee7713c,openstack/tripleo-common,stable/ussuri,,I985ef22c340c4071866c8c51bf303a6f4ee7713c,Don't assume default tag exists in container repo,MERGED,2020-07-17 11:41:18.000000000,2020-07-21 04:52:07.000000000,2020-07-21 04:50:55.000000000,56,32,0,741621,ec65b686c38f696ac2aefc9d7dc9376f5637aa1d,13,4,1,6,7144,James Slagle,slagle,"Don't assume default tag exists in container repo

When no tag is set for an entry in ContainerImagePrepare, the default
tag from container-images/container_image_prepare_defaults.yaml will be
assumed, which is typically current-tripleo, or a release version such
as 16.0.

In most cases, this tag will exist. However, when using a satellite with
a content view that has been filtered on tags, it likely won't exist
since content views are often used with container image versions that
are not the latest.

In the case where no tag is set in the entry in ContainerImagePrepare,
and the default tag does not exist in the container repo, the latest tag
from the repo will be assumed instead.

Change-Id: I985ef22c340c4071866c8c51bf303a6f4ee7713c
Closes-Bug: #1886547
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 0c4de9c771fad75ebabe2d18f5aef4b76613d52a)
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I0185cb54ac32e1ac8558d22ba4c735a02e80a470,openstack/python-tripleoclient,stable/ussuri,runner/2,I0185cb54ac32e1ac8558d22ba4c735a02e80a470,[ussuri] squash for overcloud_deploy raise changes,MERGED,2020-07-20 13:32:12.000000000,2020-07-21 04:52:03.000000000,2020-07-21 04:50:52.000000000,50,36,0,741941,a29f42a531ba1110b18063b859fe348b1c9b159c,9,4,1,2,3153,Emilien Macchi,emilienm,"[ussuri] squash for overcloud_deploy raise changes

This squash allows to backport a feature without a regression that was
introduced. It has 2 commits:

1) overcloud_deploy: raise at the end if Ansible Runner had exception

In the context of MaxFailPercentage, if a node (e.g. one of 100
computes) has any fatal error during an Ansible play and we tolerate
some percentage of failure; we want to raise the error but at the very
end of the deployment.

So this patch puts the following actions in a ""finally"" block so they
always execute:

* Create overcloudrc
* Sets the right permissions to the clouds.yaml
* Execute _deploy_postconfig
* Print infos like Keystone entpoint, Horizon URL, RC file location
  and deploy message (saying if there is an error or not)

And at the very end we raise the actual AnsibleRunner trace if the
deployment failed.

So even if a node failed and we tolerate it, we'll still finish the
deployment until the end, but for UX purpose we want to raise it at the
very end.
Note that when it fails and it's tolerated, Ansible prints the node as
""ignored"":

PLAY RECAP ******************************************************************
compute-0    : ok=555  (...)  failed=0    skipped=484  rescued=0    ignored=0
compute-1    : ok=60   (...)  failed=1    skipped=40   rescued=0    ignored=1
controller-0 : ok=960  (...)  failed=0    skipped=709  rescued=0    ignored=0
controller-1 : ok=920  (...)  failed=0    skipped=693  rescued=0    ignored=0
controller-2 : ok=919  (...)  failed=0    skipped=693  rescued=0    ignored=0
undercloud   : ok=86   (...)  failed=0    skipped=57   rescued=0    ignored=0

To improve UX, we'll investigate an Ansible callback to properly tell
what nodes needs to be re-deployed.

Note: also mock copy_clouds_yaml since it wasn't tested before but it's
failing to reach the files on the filesystem.
Change-Id: I7d733499e74abe2cdf91526df608dc7c273bf19e

(cherry picked from commit 5b63958105d73eadac9c598982e68ef35defa4a1)

2) Don't run config-download for --stack-only

We now seem to run config-download irrespective of the
--stack-only flag. This moves the config-download
related code within the if block.

Change-Id: I0185cb54ac32e1ac8558d22ba4c735a02e80a470
Closes-Bug: #1887811
(cherry picked from commit 5805ee4dbedac673268c6c3cf2ef616b887a1a5d)
"
openstack%2Ftripleo-heat-templates~master~I17d6c3a3af5b192b77d264ff3e94e64ef6064c77,openstack/tripleo-heat-templates,master,bug/1886070,I17d6c3a3af5b192b77d264ff3e94e64ef6064c77,Add BarbicanClient service for configuring edge sites,MERGED,2020-07-02 16:36:39.000000000,2020-07-21 04:51:58.000000000,2020-07-21 04:50:49.000000000,82,0,4,739098,5080e45fd283c795f973c86719d1959948f642e3,19,9,2,8,21129,Alan Bishop,ASBishop,"Add BarbicanClient service for configuring edge sites

A new BarbicanClient tripleo service provides a means of configuring
the barbican Key Manager settings for cinder, glance and nova services
running at an edge site. This is necessary because the BarbicanApi
tripleo service is only capable of configuring the Key Manager settings
for services running in the control plane.

For cinder, the BarbicanClient ensures the KeyManager settings are
available to the cinder-volume and cinder-backup services. This is
necessary because the Key Manager setttings are traditionally associated
with the cinder-api service, but cinder-api is not deployed at the edge.

Closes-Bug: #1886070
Change-Id: I17d6c3a3af5b192b77d264ff3e94e64ef6064c77
"
openstack%2Ftripleo-heat-templates~master~Ib7d22fee0219514aee7f8ef8798449b24c59f919,openstack/tripleo-heat-templates,master,inspector-auth,Ib7d22fee0219514aee7f8ef8798449b24c59f919,Replace deprecated ironoc::inspector parameters in puppet-ironic,MERGED,2020-04-18 13:37:54.000000000,2020-07-21 04:50:53.000000000,2020-07-21 04:50:53.000000000,16,14,2,720885,b2909955986cc779feaeba2746c6512715809955,42,10,4,1,9816,Takashi Kajinami,kajinamit,"Replace deprecated ironoc::inspector parameters in puppet-ironic

Replace some parameters in puppet-ironic, which were deprecated in
recent refactoring[1].

[1] https://review.opendev.org/#/c/719454/

Change-Id: Ib7d22fee0219514aee7f8ef8798449b24c59f919
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I1e7ddb3bbb3825db805f137ea9a2501878f380d4,openstack/tripleo-heat-templates,stable/ussuri,,I1e7ddb3bbb3825db805f137ea9a2501878f380d4,Drop the relabel flag for bind-mount,MERGED,2020-07-20 16:10:08.000000000,2020-07-21 04:44:40.000000000,2020-07-21 04:44:40.000000000,1,1,0,741980,0d587d8ce00e58d8507632dd3c5ca513fb146fd8,8,3,1,1,28223,Cedric Jeanneret,cjeanner,"Drop the relabel flag for bind-mount

Since this bind-mount isn't shared with any other container, remove its
""relabel"" flag (:z).

This relabelling is especially useless since the directory creation AND
openstack-selinux sets its type to a sensible value. We can therefore
remove it and prevent possible issues in the future.

Closes-Bug: #1888216
Change-Id: I1e7ddb3bbb3825db805f137ea9a2501878f380d4
(cherry picked from commit 98d2271d1a10a55d745056aef10c94cd4200b2d9)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1e7ddb3bbb3825db805f137ea9a2501878f380d4,openstack/tripleo-heat-templates,stable/train,,I1e7ddb3bbb3825db805f137ea9a2501878f380d4,Drop the relabel flag for bind-mount,MERGED,2020-07-20 16:11:03.000000000,2020-07-21 04:33:58.000000000,2020-07-21 04:33:58.000000000,1,1,0,741982,15df75c3143ca542f56bc2cea3460b6fd28f1195,8,3,1,1,28223,Cedric Jeanneret,cjeanner,"Drop the relabel flag for bind-mount

Since this bind-mount isn't shared with any other container, remove its
""relabel"" flag (:z).

This relabelling is especially useless since the directory creation AND
openstack-selinux sets its type to a sensible value. We can therefore
remove it and prevent possible issues in the future.

Closes-Bug: #1888216
Change-Id: I1e7ddb3bbb3825db805f137ea9a2501878f380d4
(cherry picked from commit 98d2271d1a10a55d745056aef10c94cd4200b2d9)
(cherry picked from commit 0d587d8ce00e58d8507632dd3c5ca513fb146fd8)
"
openstack%2Fpuppet-tripleo~master~Iaecced845b80e958c7ad0ef96896f1202259cca2,openstack/puppet-tripleo,master,fix-extras,Iaecced845b80e958c7ad0ef96896f1202259cca2,Fix up cluster_setup_extras usage,MERGED,2020-07-08 09:17:35.000000000,2020-07-21 04:33:52.000000000,2020-07-21 04:33:52.000000000,2,15,0,739933,6cfb7d36b3d42fc8052c9392d4b747e8921106f2,9,5,1,1,20172,Michele Baldessari,michele,"Fix up cluster_setup_extras usage

Starting with pcs 0.10 (CentOS/RHEL 8) the arguments to pcs cluster
setup changed completely in an incompatible way and in fact are ignored
by puppet-pacemaker. As we would like to reenable them, we first need to
make sure that whatever we pass is not understood by pcs.

We can also drop ipv6 and encryption parameters as corosync/pcs do not
need them any longer.

Change-Id: Iaecced845b80e958c7ad0ef96896f1202259cca2
Related-Bug: #1886789
"
openstack%2Ftripleo-quickstart~master~I24a8440a651c1d67c2fd5eac18a9b39b320e70df,openstack/tripleo-quickstart,master,crrepo,I24a8440a651c1d67c2fd5eac18a9b39b320e70df,Add enable_centos_cr_repo var in release file,ABANDONED,2020-06-19 14:22:38.000000000,2020-07-21 04:32:03.000000000,,13,6,21,737015,ca13b4c0540fb08394e29e39e34242dd10792ff0,45,11,13,3,12393,chandan kumar,chkumar246,"Add enable_centos_cr_repo var in release file

By setting enable_centos_cr_repo to true will enable centos-8
based cr [1.]repos and will help to test pre released contents
early.

In train release file, it is already present, we are adding the
same for ussuri and master.

It will be consumed in a new job which is based on fs02 in
periodic pipeline https://review.rdoproject.org/r/#/c/28168/
and can be enabled via fs override and
https://review.opendev.org/#/c/736999/ adds the same.

The job needs to be always passing and if it fails it should
block the promotion pipeline.

[1.] https://wiki.centos.org/AdditionalResources/Repositories/CR
https://tree.taiga.io/project/tripleo-ci-board/task/1826

Co-authored-by: Bhagyashri Shewale <bshewale@redhat.com>
Change-Id: I24a8440a651c1d67c2fd5eac18a9b39b320e70df
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Ftripleo-ci~master~Ieb05b00ba9d0dd13b443b65d7f97d85cb75dae38,openstack/tripleo-ci,master,crrepo,Ieb05b00ba9d0dd13b443b65d7f97d85cb75dae38,Add enable_centos_cr_repo to fs override,ABANDONED,2020-06-19 13:11:30.000000000,2020-07-21 04:31:58.000000000,,1,0,3,736999,60ecfa956d07778f00c47a02e21c5063a020463a,19,7,6,1,12393,chandan kumar,chkumar246,"Add enable_centos_cr_repo to fs override

enable_centos_cr_repo var is used to enable continous release
repo [1.] so that we catch issues early in a pre-released
centos-8.x contents.

Adding it to fs override makes it easier to enable to those
repos.

https://review.opendev.org/737015 adds the same flag in TQ
release file so that it can be enabled via featureset override.

It will be consumed a new job based on fs02, can be runned in
periodic pipeline here https://review.rdoproject.org/r/#/c/28168/.

https://tree.taiga.io/project/tripleo-ci-board/task/1826
[1.] https://wiki.centos.org/AdditionalResources/Repositories/CR

Change-Id: Ieb05b00ba9d0dd13b443b65d7f97d85cb75dae38
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fnova~stable%2Ftrain~I04717b95dd44ae89f24bd74525d1c9607e3bc0fc,openstack/nova,stable/train,native-zuulv3-migration,I04717b95dd44ae89f24bd74525d1c9607e3bc0fc,zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full,MERGED,2020-07-17 21:18:09.000000000,2020-07-21 04:14:24.000000000,2020-07-21 04:11:47.000000000,0,2,0,741720,b1ead1fb2adf25493e5cab472d529fde31f985f0,12,5,1,1,10459,Luigi Toscano,ltoscano,"zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full

The job was part of the neutron experimental queue but then removed
during the ussuri lifecycle.
See https://review.opendev.org/#/c/693630/

Change-Id: I04717b95dd44ae89f24bd74525d1c9607e3bc0fc
(cherry picked from commit bce4a3ab97320bdc2a6a43e2a961a0aa0b8ffb63)
(cherry picked from commit cf399a363ca530151895c4b7cf49ad7b2a79e01b)
"
openstack%2Fnova~stable%2Ftrain~I9f95a054de9d43ecaa50ff7ffc9343490e212d53,openstack/nova,stable/train,bug/1878583,I9f95a054de9d43ecaa50ff7ffc9343490e212d53,compute: Allow snapshots to be created from PAUSED volume backed instances,MERGED,2020-05-19 08:48:16.000000000,2020-07-21 04:03:22.000000000,2020-07-21 04:01:36.000000000,6,1,0,729175,c93ca609568bac73210f39207c821867620b2f0e,29,8,2,2,10135,Lee Yarwood,lyarwood,"compute: Allow snapshots to be created from PAUSED volume backed instances

Iabeb44f843c3c04f767c4103038fcf6c52966ff3 allowed snapshots to be
created from PAUSED non-volume backed instances but missed the volume
backed use case.

This change simply adds PAUSED to the list of acceptable vm_states when
creating a snapshot from a volume backed instance in addition to the
already supported ACTIVE, STOPPED and SUSPENDED vm_states.

Closes-Bug: #1878583
Change-Id: I9f95a054de9d43ecaa50ff7ffc9343490e212d53
(cherry picked from commit cfde53e4b402e71d7f53b6e0ab232854dba160dc)
(cherry picked from commit a270eeeb9b1a65045c3a8bf3cfad5eee6415f63c)
"
openstack%2Fnetworking-generic-switch~master~I5afa874abb4d89f1dde183781a5cc0a3f10d4d02,openstack/networking-generic-switch,master,tox-m-pip,I5afa874abb4d89f1dde183781a5cc0a3f10d4d02,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:39:03.000000000,2020-07-21 03:52:11.000000000,2020-07-21 03:50:56.000000000,1,1,0,741196,efeba57e7b5a53dcf4b60d66f3c0c7748fb2dfd5,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I5afa874abb4d89f1dde183781a5cc0a3f10d4d02
"
openstack%2Fnetworking-baremetal~master~I90dd5c4f2823e273b8218a351ad452f6f3b0f7b2,openstack/networking-baremetal,master,tox-m-pip,I90dd5c4f2823e273b8218a351ad452f6f3b0f7b2,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:38:08.000000000,2020-07-21 03:50:19.000000000,2020-07-21 03:48:52.000000000,1,1,0,741195,1b922ca4b7c07f03b5981da2a81f3ad3ef6ba965,7,2,1,1,23851,Riccardo Pittau,elfosardo,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I90dd5c4f2823e273b8218a351ad452f6f3b0f7b2
"
openstack%2Fnova~stable%2Fqueens~Idf84ccff254d26fa13473fe9741ddac21cbcf321,openstack/nova,stable/queens,bug/1863611,Idf84ccff254d26fa13473fe9741ddac21cbcf321,Reject boot request for unsupported images,MERGED,2020-02-19 10:38:13.000000000,2020-07-21 03:47:28.000000000,2020-07-21 03:45:55.000000000,52,0,1,708609,418b9450e4b9bab15a4a0f92d013e53d18de3342,26,9,4,4,10135,Lee Yarwood,lyarwood,"Reject boot request for unsupported images

Nova has never supported direct booting of an image of an encrypted
volume uploaded to Glance via the Cinder upload-volume-to-image
process, but instead of rejecting such a request, an 'active' but
unusable instance is created.  This patch allows Nova to use image
metadata to detect such an image and reject the boot request.

Change-Id: Idf84ccff254d26fa13473fe9741ddac21cbcf321
Related-bug: #1852106
Closes-bug: #1863611
(cherry picked from commit 963fd8c0f956bdf5c6c8987aa5d9f836386fd5ed)
(cherry picked from commit 240d0309023fcaf20df44f819e9b3e14af97f526)
(cherry picked from commit 6e71909b0b8ad8d20d0863e714cad2a7b120f658)
(cherry picked from commit 02551d6d6a3baee49309cffbc3bef2508fcafe72)
"
openstack%2Fos-testr~master~I9ec9dd3b8b1936e6b5768b29a87ddec348bb842c,openstack/os-testr,master,,I9ec9dd3b8b1936e6b5768b29a87ddec348bb842c,Fix hacking min version to 3.0.1,ABANDONED,2020-05-22 03:54:31.000000000,2020-07-21 02:54:36.000000000,,1,1,0,730189,b243822fc6adc39f5eb389cfe76d494c47da1dbd,4,2,1,1,30384,zhangboye,zhangboye,"Fix hacking min version to 3.0.1

Change-Id: I9ec9dd3b8b1936e6b5768b29a87ddec348bb842c
"
openstack%2Fos-net-config~master~I5f6a90b964091daa354652d4ac12c02164066be1,openstack/os-net-config,master,,I5f6a90b964091daa354652d4ac12c02164066be1,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-07-05 11:44:09.000000000,2020-07-21 02:54:09.000000000,2020-07-21 02:52:46.000000000,4,4,0,739358,869d3c13e84c9ccd0944ca8d8854d136c2854f17,9,4,1,2,17130,melissaml,malei,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I5f6a90b964091daa354652d4ac12c02164066be1
"
openstack%2Fpuppet-tripleo~master~I8ad037cf59a5216c0d799be8bd499b7fb2d811c9,openstack/puppet-tripleo,master,keystone_cron,I8ad037cf59a5216c0d799be8bd499b7fb2d811c9,Remove support for token_flush cron job,MERGED,2020-07-06 00:04:50.000000000,2020-07-21 02:52:48.000000000,2020-07-21 02:52:48.000000000,0,8,0,739382,a37229ff98c3db9f764a5f4914ee4cf44a03b117,9,4,2,2,9816,Takashi Kajinami,kajinamit,"Remove support for token_flush cron job

The token_flush cron job is no longer required, because now tripleo use
fernet token which doesn't persist token in database.

Change-Id: I8ad037cf59a5216c0d799be8bd499b7fb2d811c9
"
openstack%2Fpuppet-tripleo~master~Ic140f8466e5f561b2936e7e4b29fdd8393cea01c,openstack/puppet-tripleo,master,keystone_cron,Ic140f8466e5f561b2936e7e4b29fdd8393cea01c,Add support for trust_flush cron job in keystone,MERGED,2020-07-06 00:04:50.000000000,2020-07-21 02:52:47.000000000,2020-07-21 02:52:46.000000000,10,2,0,739381,4e8a3933308e9e562396e45554890441f6e17296,9,4,2,2,9816,Takashi Kajinami,kajinamit,"Add support for trust_flush cron job in keystone

This patch introduces a cron job configuration to purge expired or
soft-deleted trust from keystone database.

Depends-on: https://review.opendev.org/#/c/739378/
Change-Id: Ic140f8466e5f561b2936e7e4b29fdd8393cea01c
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ie8207cd3ca40d687b374d2f9ee3129f27245d290,openstack/tripleo-heat-templates,stable/stein,,Ie8207cd3ca40d687b374d2f9ee3129f27245d290,Disable LoggingConfiguration by default,MERGED,2020-06-03 09:04:56.000000000,2020-07-21 02:52:44.000000000,2020-07-21 02:52:44.000000000,2,2,0,733074,576c067f0736af9108a7dd3c541efc63a8f0aa0d,13,5,1,2,5241,Martin Magr,mmagr,"Disable LoggingConfiguration by default

This patch makes it possible to avoid issues with LoggingConfiguration
parameters during stack update.

Closes-Bug: #1881871
Change-Id: Ie8207cd3ca40d687b374d2f9ee3129f27245d290
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I04a6114ca3d2703ca2891d6807d49b78ffee0f97,openstack/tripleo-heat-templates,stable/train,,I04a6114ca3d2703ca2891d6807d49b78ffee0f97,Simplify host entries generation,MERGED,2020-07-17 07:18:30.000000000,2020-07-21 02:52:42.000000000,2020-07-21 02:52:41.000000000,58,69,0,741586,c33f910054fe02d8b9479e74b967428852436581,9,4,1,2,8833,Rabi Mishra,rabi,"Simplify host entries generation

This removes a resource and the the unnecessary yaql function.
Also replaces json data types with lists to reduce memory
footprint.

Change-Id: I04a6114ca3d2703ca2891d6807d49b78ffee0f97
Related-Bug: #1886203
(cherry picked from commit d573f4e8787c99982f6172aae74042f05a750d56)
"
openstack%2Fnetworking-ovn~stable%2Fstein~Ib3edc101e9ee0fb53386fac0ae7f272ab3b3646b,openstack/networking-ovn,stable/stein,,Ib3edc101e9ee0fb53386fac0ae7f272ab3b3646b,test_router: Verify the creation and removal of a lrp,MERGED,2020-05-15 19:31:53.000000000,2020-07-21 02:25:55.000000000,2020-07-21 02:24:45.000000000,41,2,0,728562,23a0316193be494c8fba7f223ad40624698c05dc,49,7,4,1,5756,Terry Wilson,otherwiseguy,"test_router: Verify the creation and removal of a lrp

Add test to ensure that logical router port associated
with an external network is created and removed as
needed: test_logical_router_port_creation. With that,
the test exercises the code-path where a gateway is
removed before a new one is set. In terms of OpenStack
workflow, that would look like:

  openstack router set --external-gateway $EXT_NET_ID $RTR
  openstack router unset --external-gateway $RTR
  openstack router set --external-gateway $EXT_NET_ID2 $RTR

Also changed test_gateway_chassis_with_bridge_mappings
to include docstring and have a lower bound count to the
mocked objects it uses.

Change-Id: Ib3edc101e9ee0fb53386fac0ae7f272ab3b3646b
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
Related-Bug: #1843485
Closes-Bug: #1844652
(cherry picked from commit 5cffa92daa822116c1862dcd11ad156be444df75)
(cherry picked from commit b9ab95036b3bbaf1a87b1c4beeed11f80036e8a0)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9e9d63a7ef2ef538f3c072e3f4a96ec25d7dc5f7,openstack/tripleo-heat-templates,stable/train,bug/1875681-train,I9e9d63a7ef2ef538f3c072e3f4a96ec25d7dc5f7,Fix vbmc_setup.yaml for c8 standalone,MERGED,2020-07-17 07:34:19.000000000,2020-07-21 02:06:54.000000000,2020-07-21 02:06:54.000000000,17,16,3,741589,69d63e0bc13efbfaa990408afee984673bde49bb,18,8,3,1,20182,Bhagyashri Shewale,bhagyashris,"Fix vbmc_setup.yaml for c8 standalone

Fixing vbmc_setup.yaml for c8 scenario012-standalone job with this
patch.

vbmc_setup.yaml was originally written for c7 multinode[0] to install
virtual BMC and a libvirt domain on the controller for ironic to
manage. In scenario012 we are trying to test something close to ironic
in overcloud(Blueprint[1]).

In the past, We have moved scenario012 mutinode to standalone job and
reused vbmc_setup.yaml.

The shell script in vbmc_setup.yaml need following modification as its
now a C8 standalone job:-

* Added 'set -e' so that script exits immediately if a command exits
with a non-zero status so it would result in deployment failure.
Currently deployment is passing even if some commands in the bash
script are failing. Addition of 'set -e' will correct this behavior.
* Replaced yum with dnf as yum not present in Centos8.
* No need to override resolv.conf entry as standalone job already
configure necessary nameserver entries.
* No need to install additional repos as as standalone job already
configure necessary repos.
* When vbmc_setup.yaml was introduced intention was to do non-kvm
emulation[2] and that was the reason qemu-system-x86 and qemu-kvm-ev
was pulled from epel, but for c8 these packages are no longer available
in repos [3] including epel. We can use qemu-kvm package instead and
we will no longer need epel repos.
* create-node.sh command option to use qemu-system have to be removed
as qemu-system-x86 package is missing and we are using qemu-kvm
instead.
* Temporary workaround[4] to upgrade ansible in the neutron container
can be removed as ansible version in container is now v2.5.8+.
Test patch for tripleo-ci-centos-8-scenario012-standalone is here[5].

[0] https://review.opendev.org/#/c/485261/
[1]
https://blueprints.launchpad.net/tripleo/+spec/ironic-overcloud-ci
[2]
https://review.opendev.org/#/c/485261/29/ci/common/vbmc_setup.yaml
[3] https://bugzilla.redhat.com/show_bug.cgi?id=1715806
[4] https://review.opendev.org/#/c/579603/
[5] https://review.opendev.org/#/c/724119/

Closes-Bug: #1875681
(cherry picked from commit 84e016edb39f352c3f36d07f94831fe3a0874587)

 Conflicts:
	ci/common/vbmc_setup.yaml

Change-Id: I9e9d63a7ef2ef538f3c072e3f4a96ec25d7dc5f7
"
openstack%2Fpuppet-tripleo~master~I152f5374abad19502c484f33a36eef1af3f05255,openstack/puppet-tripleo,master,placement-api,I152f5374abad19502c484f33a36eef1af3f05255,Include placement::api class,MERGED,2020-06-01 16:24:50.000000000,2020-07-21 02:01:54.000000000,2020-07-21 02:01:54.000000000,6,0,0,732416,7c485d8264ec7502973a665956dcc96626e7a582,34,6,2,2,9816,Takashi Kajinami,kajinamit,"Include placement::api class

... because the placement::api class will be required in a future
release of puppet-placement.

Depends-On: https://review.opendev.org/#/c/732016/
Change-Id: I152f5374abad19502c484f33a36eef1af3f05255
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I219e2a8a08bc9b47bd7110fadcb188ef703acfce,openstack/tripleo-heat-templates,stable/stein,snmpd-undercloud-stein,I219e2a8a08bc9b47bd7110fadcb188ef703acfce,Configure SNMP on undercloud,MERGED,2020-05-28 15:50:01.000000000,2020-07-21 02:01:52.000000000,2020-07-21 02:01:51.000000000,2,0,0,731573,29187adcff0e1652f27b39c8d4cbd1bfc765fe6b,24,5,3,2,5241,Martin Magr,mmagr,"Configure SNMP on undercloud

Transfering to containerized deployment of undercloud we lost automated
configuration of SNMP for undercloud. Telemetry stack is now failing to
HW monitor this node.

Change-Id: I219e2a8a08bc9b47bd7110fadcb188ef703acfce
(cherry picked from commit 897678b33f5414b137c1a399934c4721e46662d0)
"
openstack%2Ftripleo-heat-templates~master~I1e7ddb3bbb3825db805f137ea9a2501878f380d4,openstack/tripleo-heat-templates,master,no-relabel-vhost_sockets,I1e7ddb3bbb3825db805f137ea9a2501878f380d4,Drop the relabel flag for bind-mount,MERGED,2020-07-20 11:24:45.000000000,2020-07-21 02:01:49.000000000,2020-07-21 02:01:49.000000000,1,1,0,741921,98d2271d1a10a55d745056aef10c94cd4200b2d9,11,9,1,1,28223,Cedric Jeanneret,cjeanner,"Drop the relabel flag for bind-mount

Since this bind-mount isn't shared with any other container, remove its
""relabel"" flag (:z).

This relabelling is especially useless since the directory creation AND
openstack-selinux sets its type to a sensible value. We can therefore
remove it and prevent possible issues in the future.

Closes-Bug: #1888216
Change-Id: I1e7ddb3bbb3825db805f137ea9a2501878f380d4
"
openstack%2Ftripleo-heat-templates~master~I1106ff3870fc765d7b1063f201b89bdd696d1735,openstack/tripleo-heat-templates,master,neutron-notifications,I1106ff3870fc765d7b1063f201b89bdd696d1735,Remove duplicated hieradata,MERGED,2020-07-13 06:32:09.000000000,2020-07-21 02:01:43.000000000,2020-07-21 02:01:43.000000000,0,1,0,740617,88156596054d5824da96f082746b769fa60df5ff,13,7,1,1,9816,Takashi Kajinami,kajinamit,"Remove duplicated hieradata

Trivial-Fix

Change-Id: I1106ff3870fc765d7b1063f201b89bdd696d1735
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I772ad486ca11525b8756a0b8cac7a5345373a5d3,openstack/tripleo-heat-templates,stable/train,ffwd-upgrade2-stable/train,I772ad486ca11525b8756a0b8cac7a5345373a5d3,Convert roles section into tasks-include_role in deploy-steps.j2.,MERGED,2020-07-16 10:21:08.000000000,2020-07-21 02:01:41.000000000,2020-07-21 02:01:41.000000000,5,3,0,741423,7bd1d7379733961c0f74c0b0dee14ce32de2f359,10,6,1,1,6816,Jesse Pretorius,jesse-pretorius,"Convert roles section into tasks-include_role in deploy-steps.j2.

When executing the deployment_steps_playbook.yaml passing
a specific --tags, it looks like this play gets executed
even though the tag passed in --tags isn't common_roles.

This patch converts the roles: structure into a:
tasks:
  - include_role:

which is the prefered way since Ansible 2.4. This way, the
tags work properly and the execution of both roles is skipped
if the tag doesn't match common_roles.

Change-Id: I772ad486ca11525b8756a0b8cac7a5345373a5d3
Closes-Bug: #1885721
(cherry picked from commit 70eacd3dab79a02e24bc30c97cdf5dc744908605)
"
openstack%2Ftripleo-ansible~master~I31cf042b72aad5cdd2c7c1ae8bc319eca372acff,openstack/tripleo-ansible,master,bug/1887702,I31cf042b72aad5cdd2c7c1ae8bc319eca372acff,Allow any_errors_fatal to be dynamic,MERGED,2020-07-16 19:45:52.000000000,2020-07-21 01:47:04.000000000,2020-07-21 01:32:14.000000000,30,20,0,741533,28d4e52a16c21e5f87acdfe72a7f489611c841c9,12,5,1,3,14985,Alex Schultz,mwhahaha,"Allow any_errors_fatal to be dynamic

Currently any_errors_fatal cannot be dynamic value based on the current
task vars. This change attempts to evaulate the provided value and
verifies it's a boolean when using it to handle the any_errors_fatal
logic.

Related Upstream: https://github.com/ansible/ansible/pull/70694
Related-Bug: #1887702

Change-Id: I31cf042b72aad5cdd2c7c1ae8bc319eca372acff
"
openstack%2Fneutron-tempest-plugin~master~I11c064c75be5152f07942ba4a9fb202e9a862468,openstack/neutron-tempest-plugin,master,neutron03,I11c064c75be5152f07942ba4a9fb202e9a862468,"case for update qos rule, rule or policy non-existent",MERGED,2020-07-08 07:01:19.000000000,2020-07-21 01:43:48.000000000,2020-07-21 01:43:48.000000000,33,0,4,739906,dac25ac0b36e69019a08b479c67614a1d0275be3,24,5,5,1,31280,lkk,likangkang,"case for update qos rule, rule or policy non-existent

update qos rule, rule or policy non-existent, move case into
test_qos_negative.py
Change-Id: I11c064c75be5152f07942ba4a9fb202e9a862468
"
openstack%2Fironic~master~I13da6275c04ffc6237a7f2edf25c03b4ddee936a,openstack/ironic,master,increase_vm_count,I13da6275c04ffc6237a7f2edf25c03b4ddee936a,Update number of VM on ironic-base,MERGED,2020-07-18 08:57:35.000000000,2020-07-21 01:39:48.000000000,2020-07-21 01:02:39.000000000,1,4,0,741804,dc87a189cb0d5bf2e96650ffd699fbaa972b7983,11,5,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Update number of VM on ironic-base

Since we merged the change to have partition and wholedisk
testing on basic_ops most of the jobs started requiring 2 VMs
to run the tempest tets.

Let's increase on the ironic-base so all jobs will be default to 2.

Removing IRONIC_VM_COUNT=2 from jobs that uses ironic-base as parent.

Change-Id: I13da6275c04ffc6237a7f2edf25c03b4ddee936a
"
openstack%2Fopenstack-helm-images~master~Ie7d86859e04fa884ed564889cb40b7bade72fae0,openstack/openstack-helm-images,master,,Ie7d86859e04fa884ed564889cb40b7bade72fae0,Make python script parameter even more generic,ABANDONED,2019-07-03 21:34:00.000000000,2020-07-21 01:32:21.000000000,,342,0,55,668997,88d359285df6d28bfeab18f3ca1b4ba2c593b6d9,46,12,10,1,30120,Colbert Philippe,cp0396,"Make python script parameter even more generic

Made fixes for third review!

Make python script parameter even more generic

Change-Id: Ie7d86859e04fa884ed564889cb40b7bade72fae0
"
openstack%2Fopenstack-helm~master~Ic79f6593c6f6231aa9e9c217b1d60af2f2536728,openstack/openstack-helm,master,enable_resource_limits_job,Ic79f6593c6f6231aa9e9c217b1d60af2f2536728,Create a experimental job for resource limits,ABANDONED,2019-08-26 14:32:05.000000000,2020-07-21 01:32:18.000000000,,55,0,0,678578,3b1cfc51e69900c59a3d271bd15884673459b55f,14,2,2,10,12281,Itxaka,itxaka,"Create a experimental job for resource limits

We are not testing the resource limits anywhere, so we dont know if
they are correct or need tweaking.

This patch creates a job that runs with all resources enabled
so hopefully we will see if the current resources are ok or we
need to change them

Change-Id: Ic79f6593c6f6231aa9e9c217b1d60af2f2536728
"
openstack%2Fopenstack-helm~master~Iea3ae31f0f9f6f5f996c42d357bda144a910e29c,openstack/openstack-helm,master,,Iea3ae31f0f9f6f5f996c42d357bda144a910e29c,[DNM] Testing gates,ABANDONED,2019-08-26 15:42:50.000000000,2020-07-21 01:32:13.000000000,,1,0,0,678600,84d2a22a7f5aa8a6e60f43af63327123c2c989d4,3,1,1,1,21883,Manuel Buil,mbuil,"[DNM] Testing gates

Change-Id: Iea3ae31f0f9f6f5f996c42d357bda144a910e29c
Signed-off-by: Manuel Buil <mbuil@suse.com>
"
openstack%2Fopenstack-helm-infra~master~Ib4a9ecaf94bd6923cb0a9bd17840c266609c12d3,openstack/openstack-helm-infra,master,upstream_rabbit_aux_conf,Ib4a9ecaf94bd6923cb0a9bd17840c266609c12d3,[RabbitMQ] Add ability to configure more options in definitions.json,ABANDONED,2019-08-14 09:37:54.000000000,2020-07-21 01:32:00.000000000,,36,0,0,676380,59a395a709964003bf372f5cd32f1eef58c90c03,5,10,1,3,18795,mkarpin,nkarpin,"[RabbitMQ] Add ability to configure more options in definitions.json

Now it is possible to configure policies, queues, exchanges, bindings
through Values.conf.aux_conf.

Change-Id: Ib4a9ecaf94bd6923cb0a9bd17840c266609c12d3
"
openstack%2Fopenstack-helm-infra~master~Id1ba212611dc5e673d14fe3e92424451e93bbeaf,openstack/openstack-helm-infra,master,ingress-error-pages_refactored,Id1ba212611dc5e673d14fe3e92424451e93bbeaf,Run ingress-error-pages and ingress pods with non-root users,ABANDONED,2019-04-24 22:11:06.000000000,2020-07-21 01:31:57.000000000,,18,2,3,655578,6d813d612087193eeaeba43d198db2a815d34565,27,12,9,3,17896,Rick Bartra,rb560u,"Run ingress-error-pages and ingress pods with non-root users

This change enables the ingress-error-pages container to run with
the nobody user instead of the root user. For this to be possible,
the 'server' file ownership is changed to nobody:nobody, otherwise
a permission denied error arises.

A ingress-error-pages-perms init container is used to change the
ownership of the 'server' file and additionally the 'server' file
is copied into the mounted /tmp volume so that the file ownership
change is persisted.

The ingress and ingress-vip containers are setup to run with the
www-data (33) user

Change-Id: Id1ba212611dc5e673d14fe3e92424451e93bbeaf
"
openstack%2Fopenstack-helm-images~master~Ia207e7397be1afe83dbc658b845fb3354879d54d,openstack/openstack-helm-images,master,,Ia207e7397be1afe83dbc658b845fb3354879d54d,minimirror image build fix to avoid using cached layers,ABANDONED,2019-08-06 09:15:58.000000000,2020-07-21 01:31:45.000000000,,1,1,0,674763,4ec2797ca82e96fa0d2e4557a93f0f3d7526f1d3,5,2,2,1,28518,Balachandra S Thippaiah,balachandra-st,"minimirror image build fix to avoid using cached layers

This ps fixes to build clean image of minimirror
without using cached layers

Change-Id: Ia207e7397be1afe83dbc658b845fb3354879d54d
"
openstack%2Fosprofiler~master~Ib1870a3d102116f84c7677601fd44fdac41a13a6,openstack/osprofiler,master,osc-performance,Ib1870a3d102116f84c7677601fd44fdac41a13a6,switch to importlib.metadata to find package version,MERGED,2020-07-05 23:35:52.000000000,2020-07-21 00:41:54.000000000,2020-07-21 00:34:30.000000000,9,2,1,739379,e8dd381e626d48f11c6b8c9e296433b23e88124b,14,4,2,3,2472,Doug Hellmann,doug-hellmann,"switch to importlib.metadata to find package version

Importing pkg_resources has a side-effect of reading all of the
metadata for every installed python package. The newer
importlib.metadata module can load the metadata for one package at a
time, which makes this library load more quickly and improves the
startup-time performance of applications that use it such as
python-openstackclient.

importlib.metadata is part of the python 3.8 standard library and is
distributed separately for other versions of python.

Change-Id: Ib1870a3d102116f84c7677601fd44fdac41a13a6
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fpuppet-openstacklib~master~Ia2cc46ae5a0e89de147f3fb18c585e573444a842,openstack/puppet-openstacklib,master,ocs-placement,Ia2cc46ae5a0e89de147f3fb18c585e573444a842,Add support for python-osc-placmenet package,ABANDONED,2020-04-09 14:10:12.000000000,2020-07-21 00:40:59.000000000,,93,1,0,718709,b2c1e222ee160a788f293c579b0d450e5ac3321c,3,1,1,4,9816,Takashi Kajinami,kajinamit,"Add support for python-osc-placmenet package

This patch introduces the new class to manage openstack client plugin
for placmenet service.

Change-Id: Ia2cc46ae5a0e89de147f3fb18c585e573444a842
"
openstack%2Fmanila~master~Ibb1c15f997fa60e1ba5bfb7437502d8aa454d35f,openstack/manila,master,bug/1887695,Ibb1c15f997fa60e1ba5bfb7437502d8aa454d35f,Update NFS helper restart,MERGED,2020-07-10 14:13:39.000000000,2020-07-21 00:34:28.000000000,2020-07-21 00:31:15.000000000,4,3,0,740477,391ec7dffa701f54843b3aafdc6d2f8b4dfe0504,43,10,5,1,9003,Tom Barron,tbarron,"Update NFS helper restart

Because ``service`` commands are deprecated in favor of
``systemctl` commands, the check to see if the service
command succeeds in the NFS helper used by e.g. the
lvm and generic back ends fails.  The string sought to
indicate an error is never present.

Update the helper to use ``systemctl`` commands instead
and error check for them correctly.

Closes-bug: #1887695
Change-Id: Ibb1c15f997fa60e1ba5bfb7437502d8aa454d35f
"
openstack%2Fpython-neutronclient~master~Ic8b68f900c2d42a3f5e1508ddde2821cb12b696e,openstack/python-neutronclient,master,drop-os-testr,Ic8b68f900c2d42a3f5e1508ddde2821cb12b696e,"lower-constraints: Drop os-testr, mox3",MERGED,2020-07-09 10:42:01.000000000,2020-07-21 00:26:40.000000000,2020-07-21 00:23:40.000000000,0,2,0,740239,ada4229691fb0f6d1b41d2f49633e4f9f5b9ea0b,9,4,1,1,15334,Stephen Finucane,sfinucan,"lower-constraints: Drop os-testr, mox3

They're no longer used.

Change-Id: Ic8b68f900c2d42a3f5e1508ddde2821cb12b696e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpython-neutronclient~master~I29a0c87214c3c60084d0541f8b9a7abc72ff987f,openstack/python-neutronclient,master,fix-docs,I29a0c87214c3c60084d0541f8b9a7abc72ff987f,Fix description of bgp speaker set arg,MERGED,2020-07-12 21:16:15.000000000,2020-07-21 00:25:19.000000000,2020-07-21 00:23:39.000000000,1,1,0,740599,d1e5afb3510ef0196b40f8ac632987f44e6c4956,9,4,1,1,13252,Dr. Jens Harbott,jrosenboom,"Fix description of bgp speaker set arg

The name argument for bgp speaker set defines the new name for the speaker,
make the description more clear about this.

Change-Id: I29a0c87214c3c60084d0541f8b9a7abc72ff987f
"
openstack%2Fcinder~master~Ibe1796e1380add34b6d8f19606bb55fda13c3c08,openstack/cinder,master,fix-post-cinderlib-collect,Ibe1796e1380add34b6d8f19606bb55fda13c3c08,zuul: collect cinderlib logs from tempest node(s) only,MERGED,2020-07-16 12:42:50.000000000,2020-07-21 00:24:08.000000000,2020-07-16 18:38:39.000000000,1,1,0,741441,9487f0f4087cecd08ae5beaf354a11ae0f8b609c,27,22,1,1,10459,Luigi Toscano,ltoscano,"zuul: collect cinderlib logs from tempest node(s) only

The functional tests are executed from the tempest node(s), which means
that the collection must happen from the same place, not all nodes;
otherwise the playbook code fails on pure compute nodes.

Change-Id: Ibe1796e1380add34b6d8f19606bb55fda13c3c08
"
openstack%2Fmanila~stable%2Ftrain~If5fe32c155fe0861b3ed86b862335e062796056b,openstack/manila,stable/train,,If5fe32c155fe0861b3ed86b862335e062796056b,Enforce policy checks getting share-type by name,MERGED,2020-07-16 15:51:06.000000000,2020-07-20 23:42:26.000000000,2020-07-20 23:32:42.000000000,11,3,0,741487,2f2ed258f7c273543495b5476af2c3558d51384d,10,4,1,3,16643,Goutham Pacha Ravi,gouthamr,"Enforce policy checks getting share-type by name

Policy checks are skipped when looking up a share-type
by name.  This causes share creation attempts that specify
a valid share-type to pass the early API check on share type
even if the share type named is private and not shared with
the user's project.  The share creation fails later, but after
the database record for the share is created.  Although the
operation fails with an ERROR, the share is stuck in CREATING
state.

Fix this issue by checking the user's project in the database
API just as we do for share type lookups by uuid.

Closes-bug: #1885956
Change-Id: If5fe32c155fe0861b3ed86b862335e062796056b
(cherry picked from commit f877deed5186cff3a7ecfbce2536e72fc6013895)
(cherry picked from commit e02cc6d6bc92e354bc7f4220a05ec6fedf2ecc9c)
"
openstack%2Fironic~master~Ia7209934d30f6a55879319ab6ca94d8bf8886073,openstack/ironic,master,tox-m-pip,Ia7209934d30f6a55879319ab6ca94d8bf8886073,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:25:41.000000000,2020-07-20 23:33:40.000000000,2020-07-20 23:03:16.000000000,1,1,0,741185,d430d1bdb976599eae74c93e3cb82dd96067374d,12,6,1,1,23851,Riccardo Pittau,elfosardo,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: Ia7209934d30f6a55879319ab6ca94d8bf8886073
"
openstack%2Fneutron~stable%2Fqueens~Ief52fac479d4b3cfa5f90118235c241a14b1011f,openstack/neutron,stable/queens,bug/1886216,Ief52fac479d4b3cfa5f90118235c241a14b1011f,[stable only] Configure logging in keepalived_state_change,MERGED,2020-07-17 09:33:00.000000000,2020-07-20 23:24:23.000000000,2020-07-20 23:24:23.000000000,1,1,0,741605,fb0b2a8070fddac972ab6af9ef7aa0822d21c0d9,9,5,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[stable only] Configure logging in keepalived_state_change

In versions prior to Train, the ""keepalived-state-change"" monitor
does not format correctly the log messages. That happens when the
""Daemon.run()"" method executes ""unwatch_log"". After the privileges
are dropped, the logging should be configured again.

Change-Id: Ief52fac479d4b3cfa5f90118235c241a14b1011f
Closes-Bug: #1886216
(cherry picked from commit 6fd89dacf3b1a14e8f4b49ee719edc23981536d5)
(cherry picked from commit 3b6005fec9c464b76127cbac38b7b68454ea10aa)
"
openstack%2Fneutron~stable%2Frocky~Ief52fac479d4b3cfa5f90118235c241a14b1011f,openstack/neutron,stable/rocky,bug/1886216,Ief52fac479d4b3cfa5f90118235c241a14b1011f,[stable only] Configure logging in keepalived_state_change,MERGED,2020-07-17 09:32:11.000000000,2020-07-20 23:20:11.000000000,2020-07-20 23:20:10.000000000,1,1,0,741604,3b6005fec9c464b76127cbac38b7b68454ea10aa,8,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[stable only] Configure logging in keepalived_state_change

In versions prior to Train, the ""keepalived-state-change"" monitor
does not format correctly the log messages. That happens when the
""Daemon.run()"" method executes ""unwatch_log"". After the privileges
are dropped, the logging should be configured again.

Change-Id: Ief52fac479d4b3cfa5f90118235c241a14b1011f
Closes-Bug: #1886216
(cherry picked from commit 6fd89dacf3b1a14e8f4b49ee719edc23981536d5)
"
openstack%2Fheat~master~Ida9384c849cd664c5fc5d31449350d7cb6a68b78,openstack/heat,master,,Ida9384c849cd664c5fc5d31449350d7cb6a68b78,Rename variables in sort key validation,MERGED,2020-07-14 16:40:53.000000000,2020-07-20 22:55:59.000000000,2020-07-20 22:54:06.000000000,10,10,0,741003,2c28e6b9786307585228d6eabfe14a890a175aea,15,3,2,2,4257,Zane Bitter,zaneb,"Rename variables in sort key validation

Avoid unnecessarily divisive terms.

Change-Id: Ida9384c849cd664c5fc5d31449350d7cb6a68b78
"
openstack%2Fmanila-ui~stable%2Fussuri~Ibf35d7196d83e1018881776110ce173e68cf8286,openstack/manila-ui,stable/ussuri,native-zuulv3-migration,Ibf35d7196d83e1018881776110ce173e68cf8286,Drop legacy dsvm job & change zuulv3 integration job,MERGED,2020-07-17 19:03:22.000000000,2020-07-20 22:41:31.000000000,2020-07-20 22:38:52.000000000,52,182,0,741701,c29dd15b4d0ed04968001919c3c25536d6d7c9f7,9,3,1,3,16643,Goutham Pacha Ravi,gouthamr,"Drop legacy dsvm job & change zuulv3 integration job

The legacy job in this repository was just
setting up devstack with manila-ui enabled
and doing nothing else.

We added an integration gate job a couple of
releases ago that does exactly what the above
job does, and goes a step beyond by executing
tests that check whether manila-ui is working.

We can make this job use the fake driver from
manila so we can add more interesting and useful
test cases without having to worry about any
lacking capabilities.

Also make this integration job voting.

Change-Id: Ibf35d7196d83e1018881776110ce173e68cf8286
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 1f0754ff32660c3b669a1e12d302d4c4eea090a2)
"
openstack%2Fheat~master~I3aadca4e1e9db5da5d07d521c2313162062639b7,openstack/heat,master,,I3aadca4e1e9db5da5d07d521c2313162062639b7,Improve naming of get_allowed_params() argument,MERGED,2020-07-14 16:40:53.000000000,2020-07-20 22:34:46.000000000,2020-07-20 22:24:42.000000000,62,62,0,741002,73d05c0cdc388ef934663fe6439efa47ef906fdc,13,3,2,10,4257,Zane Bitter,zaneb,"Improve naming of get_allowed_params() argument

This used to be just a list of allowed names, but now it's a dict
mapping names to types. Use variable names that reflect the current
meaning, fix the docs, and use named constants where available.

Change-Id: I3aadca4e1e9db5da5d07d521c2313162062639b7
"
openstack%2Ftempest~master~I7d5cd8168ba50ce6c608cd2f633ef19d7fb8a1f3,openstack/tempest,master,,I7d5cd8168ba50ce6c608cd2f633ef19d7fb8a1f3,Adds cleanup so project does not leak,NEW,2020-07-20 18:11:39.000000000,2020-07-20 21:53:47.000000000,,1,0,1,742000,387eb0a8e557868c140513489e4b5e68f26a53fa,4,2,2,1,23140,Jess Egler,jessegler,"Adds cleanup so project does not leak

Change-Id: I7d5cd8168ba50ce6c608cd2f633ef19d7fb8a1f3
"
openstack%2Frequirements~stable%2Fstein~Ic7019ec0b337886d7827bb6a7750d006477794f2,openstack/requirements,stable/stein,new-release,Ic7019ec0b337886d7827bb6a7750d006477794f2,update constraint for oslo.messaging to new release 9.5.2,MERGED,2020-07-20 09:39:14.000000000,2020-07-20 21:52:15.000000000,2020-07-20 21:52:15.000000000,1,1,0,741900,0e4c22f53bc314d483eacb4032b16a32bad59a6f,14,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.messaging to new release 9.5.2

Change-Id: Ic7019ec0b337886d7827bb6a7750d006477794f2
meta:version: 9.5.2
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: Ifdd08c9f3457470c6fc0a142c10982bcbfb0450e
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fopenstack-helm-infra~master~I58bc16fc03b9234a08847d29aa14067bec05f1f1,openstack/openstack-helm-infra,master,,I58bc16fc03b9234a08847d29aa14067bec05f1f1,[ceph-client] Add back a new version of reweight_osds(),MERGED,2020-07-17 19:38:59.000000000,2020-07-20 21:49:21.000000000,2020-07-20 21:47:44.000000000,13,0,0,741704,aaf52acc278fb179b9fd88bb14d2188192eeb70b,20,8,4,1,29974,Stephen Taylor,st053q,"[ceph-client] Add back a new version of reweight_osds()

https://review.opendev.org/733193 removed the reweight_osds()
function from the ceph-client and weighted OSDs as they are added
in the ceph-osd chart instead. Since then some situations have
come up where OSDs were already deployed with incorrect weights
and this function is needed in order to weight them properly later
on. This new version calculates an expected weight for each OSD,
compares it to the OSD's actual weight, and makes an adjustment if
necessary.

Change-Id: I58bc16fc03b9234a08847d29aa14067bec05f1f1
"
openstack%2Fopenstack-helm-infra~master~I9f1ca2069b181522b5d533e3f76a99f833acd8c0,openstack/openstack-helm-infra,master,,I9f1ca2069b181522b5d533e3f76a99f833acd8c0,[WIP] ES shard allocation disrtribution,ABANDONED,2020-06-30 15:12:42.000000000,2020-07-20 21:44:36.000000000,,1,1,3,738646,22f54f7b94b5f17963941e61fe443c8f1af56a90,16,5,3,1,18295,John Lawrence,jl401j,"[WIP] ES shard allocation disrtribution

After the node or pod restart, the default
allocation is set to primary node. As a result
seeing unassinged shards.

Change-Id: I9f1ca2069b181522b5d533e3f76a99f833acd8c0
"
openstack%2Fcinder~stable%2Fstein~Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,openstack/cinder,stable/stein,bug/1869746,Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,Fix cross-project incremental backups,MERGED,2020-07-06 21:19:13.000000000,2020-07-20 21:41:59.000000000,2020-07-20 21:39:50.000000000,45,25,0,739607,5983eee1c35ababa1b6e2bad347cf98bd79b226f,39,19,1,8,14567,Rodrigo Barbieri,ganso,"Fix cross-project incremental backups

This patch addresses the scenario where an
incremental backup can be created having a
parent backup that was taken in a different
project. This scenario ultimately leads to
a silent error when creating/deleting the
incremental backup and quotas going out of
sync.

The proposed fix is to narrow the backup search
down to the same project. To achieve this, a
method's signature had to be updated to achieve
the desired optimized behavior of passing the
volume's project_id parameter.

Closes-bug: #1869746
Closes-bug: #1873518

Change-Id: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149
(cherry picked from commit 8ebeafcbbafb700052f3abfc1f7ba004269a92e8)
(cherry picked from commit 5358c996b40bbb0fd749ec182ff3ef67f5d71c16)
(cherry picked from commit f3cdc27563766b2f49a1d88500f32c8d86838c96)
"
openstack%2Fcinder~stable%2Fstein~I1870633a5505bdb60d529fbda3147378b75e2b07,openstack/cinder,stable/stein,bug/1869746,I1870633a5505bdb60d529fbda3147378b75e2b07,Rollback the quota_usages table when failed to create a incremental backup,MERGED,2020-07-06 21:19:13.000000000,2020-07-20 21:35:52.000000000,2020-07-20 21:33:56.000000000,65,0,0,739606,ef07bc95471101e42d531908a00c242710834784,34,19,1,3,14567,Rodrigo Barbieri,ganso,"Rollback the quota_usages table when failed to create a incremental backup

If we firstly create a incremental backup without parent backup
or using unavailable backup file, like execute the command:
``cinder backup-create --name test_backup --incremental
2e3d9d0b-6b33-4cfe-a7c2-656415ee6f61``.

To satisfy one of the above reasons, we will be received an error
info: ""Invalid backup: No backups available to do an incremental
backup. (HTTP 400)"". But the reserved value of the ``quota_usages``
table has been updated, so we need to roll back the ``quota_usages``
table. Otherwise, after repetitive operation for many times,
create backup will be failed.

Co-Authored-By: Brin Zhang <zhangbailin@inspur.com>

Closes-Bug: #1809323
Change-Id: I1870633a5505bdb60d529fbda3147378b75e2b07
(cherry picked from commit a62fabfa65bf02ab91ff61ad2b74a6eb7509ee24)
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I96f5d349b94f05f4f66db6b85ba481deba0015d9,openstack/puppet-tripleo,stable/ussuri,sst-promote-timeout-stable/ussuri,I96f5d349b94f05f4f66db6b85ba481deba0015d9,Make promote timeout configurable,MERGED,2020-06-25 12:43:02.000000000,2020-07-20 21:30:13.000000000,2020-07-20 21:30:13.000000000,15,2,0,737996,9b02574d3a4e5566abd75b992a5078bc9cee2e32,22,4,4,2,20778,Damien Ciabrini,dciabrin,"Make promote timeout configurable

Allow override of galera promote timeout

This commit removes the hard coded value of pacemaker promote time out
(currently 300s), and allows operators to override it via:

tripleo::profile::pacemaker::database::mysql::promote_timeout
tripleo::profile::pacemaker::database::mysql_bundle::promote_timeout

Closes-Bug: #1883896
Change-Id: I96f5d349b94f05f4f66db6b85ba481deba0015d9
(cherry picked from commit 0606e22e245761f66baff3eb8846473d2eab5be3)
"
openstack%2Fcharm-keystone~master~I51c7b1c0005d8f860f747257308ee80937f71553,openstack/charm-keystone,master,batch-groovy-ch-libs,I51c7b1c0005d8f860f747257308ee80937f71553,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:31:37.000000000,2020-07-20 21:22:32.000000000,2020-07-20 21:22:32.000000000,13,12,0,732647,5f8530d55f66671e5639cb0887ee4f81757d94be,27,5,2,2,20870,Alex Kavanagh,ajkavanagh,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I51c7b1c0005d8f860f747257308ee80937f71553
"
openstack%2Fcinder~stable%2Fstein~I2df6b567006e8a0d70f9a5f7b3ce0e01858c1ee7,openstack/cinder,stable/stein,grenade-em-nv,I2df6b567006e8a0d70f9a5f7b3ce0e01858c1ee7,"Revert ""Make greande jobs n-v for EM and oldest stable""",MERGED,2020-07-09 13:00:57.000000000,2020-07-20 21:21:07.000000000,2020-07-20 21:18:10.000000000,6,3,0,740272,aa78aea3ae45f90056addccb12a6d528792bda39,30,16,1,1,17685,Elod Illes,elod.illes,"Revert ""Make greande jobs n-v for EM and oldest stable""

This reverts commit 6a158d22c4a1011cc86a725023704ba2d0f96cc7.o

NOTE(elod.illes): devstack in Rocky is fixed and grenade jobs started
to pass. We can enable grenades again to restore testing as it was
before.

Change-Id: I2df6b567006e8a0d70f9a5f7b3ce0e01858c1ee7
"
openstack%2Fdevstack-gate~master~Ic84b2e5a2f3677156f6ddb523b9dc91abeda992b,openstack/devstack-gate,master,,Ic84b2e5a2f3677156f6ddb523b9dc91abeda992b,Always assume glance is uwsgi mode for grenade,MERGED,2020-07-20 14:23:10.000000000,2020-07-20 21:18:12.000000000,2020-07-20 21:18:12.000000000,1,0,0,741955,7a70f559c559e22b498d735b4ed20aadc71b7f39,9,3,2,1,8556,Ghanshyam,ghanshyam,"Always assume glance is uwsgi mode for grenade

Since older devstack versions do not support glance
in standalone mode, make grenade configure the base
and target for glance deployed with uwsgi.

It is failing in legacy grenade jobs[1], for devstack based
jobs it is taken care in https://review.opendev.org/#/c/741479/2

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/016006.html

Change-Id: Ic84b2e5a2f3677156f6ddb523b9dc91abeda992b
"
openstack%2Fglance~stable%2Fussuri~I93dc7c999ff7a180e6b3ff760fa65328b9a883f3,openstack/glance,stable/ussuri,fix_adm_doc,I93dc7c999ff7a180e6b3ff760fa65328b9a883f3,Fix admin docs deploying under HTTPD,MERGED,2020-07-20 17:08:54.000000000,2020-07-20 21:14:15.000000000,2020-07-20 21:12:47.000000000,22,92,0,741992,3a8fc940e271edfbd87369bb3920196c4dd5cf7e,7,2,1,2,5202,Erno Kuvaja,jokke,"Fix admin docs deploying under HTTPD

During Pike cycle there was efforts to deploy services under
Apache HTTPD. It became clear very quickly that Glance did not
operate properly when deployed as bare wsgi app under web
server but admin documentation was merged that indicated that
being somehow the preferred method. It was added to the doc
that in Pike release there was issues in these models.

There was never interest nor resources to fix the underlying
issues but the doc stayed in place indicating that those
issues could be only Pike related when they in matter of
fact has got even worse over the time. Due to the fact that
Glance is even more relying on eventlet than back then it's
time to clarify the docs and make clear it's not adviced
deployment model, it won't work and there is no itention
to change that.

Change-Id: I93dc7c999ff7a180e6b3ff760fa65328b9a883f3
Closes-Bug: #1887994
(cherry picked from commit 785eefcf7853ccccfa9bec392e2271c3589a3927)
"
openstack%2Fdevstack~master~I3bf3498d83607c5e98b70877c061dc54fc3c0a6e,openstack/devstack,master,glance-standalone-default,I3bf3498d83607c5e98b70877c061dc54fc3c0a6e,Disable all import methods if glance is not standalone,MERGED,2020-07-16 17:49:17.000000000,2020-07-20 21:13:52.000000000,2020-07-20 21:12:46.000000000,5,0,0,741507,442c57e16855863346806bd6b21e82515158b9e8,10,4,1,1,4393,Dan Smith,danms,"Disable all import methods if glance is not standalone

Glance should not be exposing import methods that cannot work via its
API, but it does today. In order for tempest (et al) to be able to
properly detect whether import is possible, we must configure the
import methods in standalone mode, or disable them in wsgi mode. The
referenced Glance patch will make this a requirement.

Change-Id: I3bf3498d83607c5e98b70877c061dc54fc3c0a6e
Needed-By: https://review.opendev.org/#/c/741497/
"
openstack%2Frequirements~stable%2Ftrain~I9356fa46689adb6f828c138afa705e200267a426,openstack/requirements,stable/train,new-release,I9356fa46689adb6f828c138afa705e200267a426,update constraint for castellan to new release 1.3.3,MERGED,2020-07-20 09:39:06.000000000,2020-07-20 21:12:44.000000000,2020-07-20 21:12:44.000000000,1,1,0,741899,813275f3e020d7e0347406bdbe13aa93f343f6a8,9,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for castellan to new release 1.3.3

Change-Id: I9356fa46689adb6f828c138afa705e200267a426
meta:version: 1.3.3
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: Ie4f1057048bfdc55c1c403654da8831461199468
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fcharm-ceilometer~stable%2F20.05~I004bff0706362f893f2f69b07568be1034dbf574,openstack/charm-ceilometer,stable/20.05,decode-cert-stable/20.05,I004bff0706362f893f2f69b07568be1034dbf574,Set the b64 encoded cert as a string,MERGED,2020-07-20 08:24:11.000000000,2020-07-20 21:10:51.000000000,2020-07-20 21:10:50.000000000,97,35,0,741887,895dbee21d52139dd7d0f04e1ffdd2fb0b0a0f32,19,4,3,4,12549,gnuoy,gnuoy,"Set the b64 encoded cert as a string

Sending a byte string to relation-set can result in the data
being sent being prefixed with a ""b'"". In this case it corrupts
the b64encoding and the receiving charm (ceilometer-agent) cannot
b64decode the data.

* Backported test fixes too to fix the gate.

Change-Id: I004bff0706362f893f2f69b07568be1034dbf574
(cherry picked from commit 7ad2d31417fa1836ca66195e57ade417d9de9cd3)
"
openstack%2Fopenstack-helm~master~I68fd85ada78cd41108c2f292a8cb9a237cd79e8d,openstack/openstack-helm,master,,I68fd85ada78cd41108c2f292a8cb9a237cd79e8d,Specify OPENSTACK_RELEASE for setup-client.sh constraints,MERGED,2020-07-14 16:56:30.000000000,2020-07-20 20:51:55.000000000,2020-07-20 20:49:35.000000000,1,1,0,741006,dac7c4f8bde4d5809e97660eef63de7af8f7691a,25,7,5,1,8863,Andrii Ostapenko,aostapenko,"Specify OPENSTACK_RELEASE for setup-client.sh constraints

Also include ensure-pip role to functional jobs.

Depends-On: https://review.opendev.org/741485
Change-Id: I68fd85ada78cd41108c2f292a8cb9a237cd79e8d
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Fcinder~stable%2Fussuri~I88c5afacff5f1f780c2dc850e3af417b1b081592,openstack/cinder,stable/ussuri,bug/1886042,I88c5afacff5f1f780c2dc850e3af417b1b081592,Kaminario: Fix unique_fqdn_network option,MERGED,2020-07-16 10:38:34.000000000,2020-07-20 20:50:00.000000000,2020-07-17 20:59:18.000000000,67,49,0,741428,33cf05eba2f9dfd09b6eceb75724af231be77d34,29,16,1,9,29122,Raghavendra Tilay,raghavendrat,"Kaminario: Fix unique_fqdn_network option

The Kaminario driver used to accept the unique_fqdn_network
configuration option in the specific driver section, but when we moved
this option to be an option also used by 3PAR we introduced a regression
where the parameter was now only used if it was defined in the shared
configuration group.

This patch fixes this and makes it possible for the option to be defined
in the shared configuration group as well as the driver specific
section.

Closes-Bug: #1886042
Change-Id: I88c5afacff5f1f780c2dc850e3af417b1b081592
(cherry picked from commit 53504f82a53146151935e6aac301a41e2b387623)
"
openstack%2Floci~master~I781457ceeb821a0cad7edc9c0921736b989e9ec7,openstack/loci,master,rm,I781457ceeb821a0cad7edc9c0921736b989e9ec7,Add collect_info.sh stage,MERGED,2019-10-08 07:13:15.000000000,2020-07-20 20:49:00.000000000,2020-07-20 20:49:00.000000000,27,0,0,687221,ec429cb082ef1c1dc5e781a131cbd61aecf3acd3,21,10,4,2,14525,Vasyl Saienko,vsaienko,"Add collect_info.sh stage

Collect info about installed packages versions and
pip packages into /etc/image_info folder

Change-Id: I781457ceeb821a0cad7edc9c0921736b989e9ec7
"
openstack%2Frequirements~master~I2c700adfb37b79769a66065ba3d8f00969898496,openstack/requirements,master,,I2c700adfb37b79769a66065ba3d8f00969898496,Cap dnspython for breaking gate,ABANDONED,2020-07-20 20:21:27.000000000,2020-07-20 20:25:41.000000000,,2,2,0,742022,8a4c6e5030ec76a5186ae29620796fc363db5d53,4,1,2,2,5202,Erno Kuvaja,jokke,"Cap dnspython for breaking gate

Glance functional-py3* jobs fails with stestr after the dnspython
2.0.0 release. Lets cap that until we figure out what actually is
breaking.

Change-Id: I2c700adfb37b79769a66065ba3d8f00969898496
"
openstack%2Fkayobe~master~Iaa0a8c851dac8b2a71a8c021435b26cc8c1998da,openstack/kayobe,master,,Iaa0a8c851dac8b2a71a8c021435b26cc8c1998da,Add common groups to kolla-ansible inventory,MERGED,2020-07-20 13:55:35.000000000,2020-07-20 20:22:38.000000000,2020-07-20 20:21:00.000000000,21,0,0,741949,f5816d791e2b190103aa5ff8e12668328ceca1ec,7,2,1,2,14826,Mark Goddard,mgoddard,"Add common groups to kolla-ansible inventory

These groups were added to kolla-ansible in
I6a4676bf6efeebc61383ec7a406db07c7a868b2a. They are required for the
common services to be deployed.

Change-Id: Iaa0a8c851dac8b2a71a8c021435b26cc8c1998da
"
openstack%2Fmanila-tempest-plugin~master~If9ffab7fcf37fab77bb4c9fd1863a0316f0a370d,openstack/manila-tempest-plugin,master,rule_negative,If9ffab7fcf37fab77bb4c9fd1863a0316f0a370d,Verify applying a new cephx rule after a previous failure,MERGED,2020-07-14 15:10:33.000000000,2020-07-20 20:10:20.000000000,2020-07-20 20:10:19.000000000,66,15,16,740985,5af7cb48f33a4ce83d43ce9e37484e262f43b22e,47,9,9,3,19262,Liron Kuchlani,lkuchlan,"Verify applying a new cephx rule after a previous failure

This test will create a share and will then assign an access rule
that will fall into the error status and will then create another
access rule on the share.
The test will then verify that the second access rule was applied
successfully.

This patch also refactors ""test_different_tenants_cannot_use_same_cephx_id""
to use raise_rule_in_error_state=False.

Added: ""allow_access"" helper method the grants an access to a
share and deletes it at the end of the test.

Change-Id: If9ffab7fcf37fab77bb4c9fd1863a0316f0a370d
"
openstack%2Fopenstack-tempest-skiplist~master~I792c32259378a779fab5455cf6c274fb0fe9756f,openstack/openstack-tempest-skiplist,master,BZ1888244,I792c32259378a779fab5455cf6c274fb0fe9756f,Support non-zuul workflow for list_skipped_yaml_file,MERGED,2020-07-20 15:59:51.000000000,2020-07-20 20:09:01.000000000,2020-07-20 20:07:39.000000000,9,5,0,741977,bca408e823c93382d0271620947ac9c76edbedef,22,3,9,5,9976,Ronelle Landy,rlandy,"Support non-zuul workflow for list_skipped_yaml_file

Currently, the step to install the tempest-skiplist
fails on non-zuul platforms.
This review allows the test to source the skiplist
file from the local workspace if needed.

Change-Id: I792c32259378a779fab5455cf6c274fb0fe9756f
Closes-Bug: #1888244
"
openstack%2Ftripleo-common~stable%2Ftrain~Ia7a440eeda789561d241e131bdf59968201b28ca,openstack/tripleo-common,stable/train,ansible-2.9.10,Ia7a440eeda789561d241e131bdf59968201b28ca,[DNM] ansible-2.9.10 testing,ABANDONED,2020-06-25 18:56:06.000000000,2020-07-20 19:58:46.000000000,,2,1,0,738092,a68c82c94194101f720611232f41c26346f24bc0,7,3,1,2,14985,Alex Schultz,mwhahaha,"[DNM] ansible-2.9.10 testing

Depends-On: https://review.opendev.org/#/c/722218/
Change-Id: Ia7a440eeda789561d241e131bdf59968201b28ca
"
openstack%2Ftripleo-common~stable%2Fussuri~Ia7a440eeda789561d241e131bdf59968201b28ca,openstack/tripleo-common,stable/ussuri,ansible-2.9.10,Ia7a440eeda789561d241e131bdf59968201b28ca,[DNM] ansible-2.9.10 testing,ABANDONED,2020-06-25 18:55:30.000000000,2020-07-20 19:58:40.000000000,,2,1,0,738091,fa927581039fd47c984490a8041a926a63644a1d,7,3,1,2,14985,Alex Schultz,mwhahaha,"[DNM] ansible-2.9.10 testing

Depends-On: https://review.opendev.org/#/c/722218/
Change-Id: Ia7a440eeda789561d241e131bdf59968201b28ca
"
openstack%2Frequirements~master~I03814f3283dafe63a52d365d54d920c21fd6390e,openstack/requirements,master,new-release,I03814f3283dafe63a52d365d54d920c21fd6390e,update constraint for octavia-lib to new release 2.1.0,MERGED,2020-07-20 14:09:42.000000000,2020-07-20 19:58:16.000000000,2020-07-20 19:57:03.000000000,1,1,0,741952,11f2cbdf7daa041af6c4f0392607ca1c20c237ba,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for octavia-lib to new release 2.1.0

Change-Id: I03814f3283dafe63a52d365d54d920c21fd6390e
meta:version: 2.1.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Carlos Goncalves <cgoncalves@redhat.com>
meta:release:Commit: Carlos Goncalves <cgoncalves@redhat.com>
meta:release:Change-Id: I2c67923f67d9922e1fcb9d6a915e099456072dcc
meta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fopenstack-ansible-os_neutron~master~I51c0212f41df5c740959be037bb0797a9ca45c64,openstack/openstack-ansible-os_neutron,master,,I51c0212f41df5c740959be037bb0797a9ca45c64,VLAN tag support for ovs port,ABANDONED,2020-06-22 20:58:04.000000000,2020-07-20 19:41:01.000000000,,1,0,0,737375,5e0d367bf61d499aaf235d3cf74f85d6fb833958,12,3,1,1,26647,Vadim Kuznetsov,vakuznet,"VLAN tag support for ovs port

When configuring Neutron to support multiple vlan provider networks
and if provider network mapped to vlan tagged interface, ovs port
needs to be created with a tag

For example:
neutron_provider_networks:
  network_types: ""vlan""
  network_vlan_ranges: ""physnet1:201:201,physnet2:202:202""
  network_mappings: ""physnet1:br-ex,physnet2:br-ex2""
  network_interface_mappings: ""br-ex:bond1,br-ex2:bond1.202""

Change-Id: I51c0212f41df5c740959be037bb0797a9ca45c64
"
openstack%2Foslo.messaging~master~I25ce9b1c8bf66bbeba7a0f55d836ffb3bd0ac080,openstack/oslo.messaging,master,bug/1888281,I25ce9b1c8bf66bbeba7a0f55d836ffb3bd0ac080,Enable the rabbitmq failover test during the RabbitMQ functional test,NEW,2020-07-20 17:56:47.000000000,2020-07-20 19:37:26.000000000,,3,6,0,741998,1fe9ecf72139d5e3d4ff671f651b89f29c8261c2,3,2,1,2,8770,Ken Giusti,kgiusti,"Enable the rabbitmq failover test during the RabbitMQ functional test

Change-Id: I25ce9b1c8bf66bbeba7a0f55d836ffb3bd0ac080
Closes-Bug: #1888281
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Ib2524cf97f97693d7d03c1bb4fb1c2bde40d3bec,openstack/tripleo-ansible,stable/ussuri,,Ib2524cf97f97693d7d03c1bb4fb1c2bde40d3bec,Install osc-placement package during client package installation,MERGED,2020-07-06 07:23:54.000000000,2020-07-20 19:07:46.000000000,2020-07-20 19:07:46.000000000,23,21,0,739417,80e0bf2e1fa3ab91f58601b0f15d1852b490821c,13,5,2,3,9816,Takashi Kajinami,kajinamit,"Install osc-placement package during client package installation

This patch makes osc-placmeent package installed as a part of client
packages, because this package is required to manage resources in
placement service.

Change-Id: Ib2524cf97f97693d7d03c1bb4fb1c2bde40d3bec
(cherry picked from commit 8f758e5e4ffc9cbca2b979f730da0fa2cd461057)
"
openstack%2Ftripleo-ansible~master~I3da2e72383787f96bf4d930e416b8fb5c0a4ff72,openstack/tripleo-ansible,master,bug/1879472,I3da2e72383787f96bf4d930e416b8fb5c0a4ff72,Capture metalsmith python logging,MERGED,2020-07-13 01:22:23.000000000,2020-07-20 19:05:31.000000000,2020-07-20 19:05:31.000000000,99,35,7,740606,3ba91a22a4167790b9c723d21fdf5f5d94dd6443,22,9,4,2,4571,Steve Baker,steve-stevebaker,"Capture metalsmith python logging

The metalsmith_instances module calls into metalsmith and there is
currently no logging mechanism to see what is happening. This change
is an attempt to improve this by configuring logging and adding the
output to the result dict as 'logging'.

Change-Id: I3da2e72383787f96bf4d930e416b8fb5c0a4ff72
Related-Bug: #1879472
"
openstack%2Fswift~master~I13de27674c81977c2470d43bbb2126ecc4bdd85a,openstack/swift,master,,I13de27674c81977c2470d43bbb2126ecc4bdd85a,docs: Improve replication-network remakerings,MERGED,2020-07-16 23:38:59.000000000,2020-07-20 18:57:19.000000000,2020-07-20 18:54:35.000000000,30,11,0,741559,c31e30ec2f1abd7b21d2e94b3bcf21d9f84888b0,7,2,1,1,15343,Tim Burke,tburke,"docs: Improve replication-network remakerings

Lower the part-power -- 18 is way higher than is needed for a dev
environment.

Add commands for reduced-redundancy and erasure-coded storage policies.

Related-Change: Ibe46011d8e6a6482d39b3a20ac9c091d9fbc6ef7
Related-Change: I6f11f7a1bdaa6f3defb3baa56a820050e5f727f1
Related-Change: I0403016a4bb7dad9535891632753b0e5e9d402eb
Change-Id: I13de27674c81977c2470d43bbb2126ecc4bdd85a
"
openstack%2Ftripleo-heat-templates~master~Ic1a892a7f78a54b5e149f5ce52cb9db68ebc9529,openstack/tripleo-heat-templates,master,prune-run,Ic1a892a7f78a54b5e149f5ce52cb9db68ebc9529,Remove /run from some services,MERGED,2020-07-08 11:05:17.000000000,2020-07-20 18:55:33.000000000,2020-07-13 04:02:10.000000000,0,3,0,739950,bd4b57c2690e7e341691bcf4e3aa15af36978936,22,9,4,3,20172,Michele Baldessari,michele,"Remove /run from some services

redis(non-pcmk), nova-scheduler and swift-proxy do not need /run bind
mounted from the host.  As a matter of fact bind-mounting /run is
problematic due to a number of reasons (see LP#1883849 for more
background). In particular swift-proxy is the only swift container
(out of 9) that has /run bind-mounted.

These three services always had /run from the very beginning:
- redis -> Ie750caa34c6fa22ca6eae6834b9ca20e15d97f7f
- nova-scheduler -> I39436783409ed752b08619b07b0a0c592bce0456
- swift-proxy -> I2d96514fb7aa51dffe8fe293bc950e0e99df5e94

Tested this by applying this patch on a train deployment and
deployed an undercloud and an overcloud with it.
Verified that:
A) /run:/run is not present in the three containers
B) Deploy of UC and OC worked correctly
C) Tempest still works
D) Restarting the swift_proxy and nova_scheduler works correctly
E) Reboot the overcloud worked okay and tempest still works after the
   full overcloud reboot
F) Ran a minor UC update
G) Ran a minor update on all nodes and tempest still worked
H) Ran a redeploy on all nodes and tempest still worked

NB: I did not investigate other containers that bind mount /run
because they 1) seem to need it and 2) had no means to do proper
testing.

NB2: Note that while once we rebuild containers with
I81e5b7abf4571fece13a029e25911e9e4dece673 this change here is not
strictly needed for the LP bug, but is a nice cleanup nonetheless.
So this is to be backported only if rebuilding containers is
a problematic/costly move

Change-Id: Ic1a892a7f78a54b5e149f5ce52cb9db68ebc9529
Related-Bug: #1883849
"
openstack%2Fneutron~stable%2Fqueens~I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,openstack/neutron,stable/queens,bug/1824504-stable/queens,I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,Don't add arp responder for non tunnel network port,MERGED,2020-07-18 05:45:49.000000000,2020-07-20 18:54:33.000000000,2020-07-20 18:54:33.000000000,36,0,0,741798,585ae323d2dc9dd2f196b5ce087010fd3f9f3d51,7,4,1,2,29071,norman shen,ushen,"Don't add arp responder for non tunnel network port

When the vlan and vxlan both exist in env, and l2population
and arp_responder are enabled, if we update a port's ip address
from vlan network, there will be arp responder related flows
added into br-tun, this will cause too many arp reply for
one arp request, and vm connections will be unnormal.

Closes-Bug: #1824504
Change-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b
(cherry picked from commit 5301ecf41b18e83abdc3c828cd64ce0111f9fcd1)
"
openstack%2Fcharm-nova-lxd~master~Ibf02186ea5977839e16fe03a3267fe92b84d83b9,openstack/charm-nova-lxd,master,de-disco,Ibf02186ea5977839e16fe03a3267fe92b84d83b9,Remove disco support from the charm,ABANDONED,2020-02-18 15:40:40.000000000,2020-07-20 18:41:23.000000000,,6,54,0,708422,d0d502d824de059e6805a71b9b7a9603bd9b1178,12,2,4,6,20870,Alex Kavanagh,ajkavanagh,"Remove disco support from the charm

* Remove the disco test artifacts
* Remove the cosmic test artifacts
* pin setuptools < 45 as version 45 onwards drops support for
  Python 2.7
* pin python-cinderclient < 3.1.1 to keep v1 client.
* pin keyring < 19.0.0 to keep py27 support

Change-Id: Ibf02186ea5977839e16fe03a3267fe92b84d83b9
"
openstack%2Fcharm-aodh~master~Iba5c5474335a9547341e25c930f98d7760cf34c9,openstack/charm-aodh,master,single-run-handlers,Iba5c5474335a9547341e25c930f98d7760cf34c9,WIP - Fix charm to make more efficient use of handlers,ABANDONED,2019-08-10 15:56:01.000000000,2020-07-20 18:40:35.000000000,,73,5,0,675736,5de8f2e1d75ff8984f9c98e169f9a7ba76ff1480,11,3,3,3,20870,Alex Kavanagh,ajkavanagh,"WIP - Fix charm to make more efficient use of handlers

WARNING - tests aren't quite ready, and this is fairly old (2017).  I
still think the changes are valid, but the tests still need some work.

charms.reactive is slightly 'odd' feature that ANY handler can run
during any hook.  The handlers in aodh didn't have guards which meant
that various setup actions that occured on relation connections ran on
every hook thereafter, including update-status.  This led to undesirable
behaviour such as (probably) restarting the services every 5 minutes.

This patch changes that by adding guard states so that configuration is
only performed once, but can be performed again if an interface
disconnects and reconnects.  It DOESN'T track if the data on an
interface changes, but for the interfaces used, this shouldn't be an
issue.

It also takes advantage of some changes to charms.openstack to support
centralised mocking for test cases.

Change-Id: Iba5c5474335a9547341e25c930f98d7760cf34c9
Depends-On: I5ac40617ee30e5f421ec16fc7592177a5e6aa166
"
openstack%2Fcharm-barbican~master~Ic1eee5f75e2875458bf8cdf92ce0ec14418747cb,openstack/charm-barbican,master,fix-from-state,Ic1eee5f75e2875458bf8cdf92ce0ec14418747cb,WIP - fix-from-state - probably not needed,ABANDONED,2019-08-10 15:58:53.000000000,2020-07-20 18:39:57.000000000,,6,3,0,675737,d0658740e26e07e6101fb7fa10ce3e3011aa6cb0,5,3,1,1,20870,Alex Kavanagh,ajkavanagh,"WIP - fix-from-state - probably not needed

Change-Id: Ic1eee5f75e2875458bf8cdf92ce0ec14418747cb
"
openstack%2Fcharm-guide~master~Iff155ef53eb9dcdce336e53c9fa4ed6e50ab3683,openstack/charm-guide,master,software-engineering-guidelines,Iff155ef53eb9dcdce336e53c9fa4ed6e50ab3683,WIP - NO NEED FOR REVIEW YET - Software Engineering Guidelines,NEW,2019-08-10 17:05:49.000000000,2020-07-20 18:38:54.000000000,,91,3,11,675739,1031d1cb06bc5a01f814dab6d92bf1e3d50507b9,12,4,3,1,20870,Alex Kavanagh,ajkavanagh,"WIP - NO NEED FOR REVIEW YET - Software Engineering Guidelines

Change-Id: Iff155ef53eb9dcdce336e53c9fa4ed6e50ab3683
"
openstack%2Fkolla~master~Idb0a675d92bab8b9a0cf5209f0a06e996e96033c,openstack/kolla,master,bug/1886663,Idb0a675d92bab8b9a0cf5209f0a06e996e96033c,copy rootwarp files form venv in ironic base,MERGED,2020-07-06 22:52:47.000000000,2020-07-20 18:30:05.000000000,2020-07-20 12:47:31.000000000,1,1,0,739622,b6c7110409a5658de6e4d7d468d55a1d7ad49232,16,4,2,1,11604,sean mooney,sean-k-mooney,"copy rootwarp files form venv in ironic base

This change modifies the ironic base container
to copy rootwarp filters from the virtual
env rather than the source code directory. This
is need because some required filters have
been moved to ironic-lib and are not present in
the /ironic dir. The rootwrap filters are not
automitaclly installed in /etc/... due to kolla
use of virtual envs and https://github.com/pypa/wheel/issues/92

Closes-Bug: #1886663
Change-Id: Idb0a675d92bab8b9a0cf5209f0a06e996e96033c
"
openstack%2Fmanila~master~I410a10d4b57f6d84e2cda623f3969cc14ca0d50e,openstack/manila,master,assertItemsEqual,I410a10d4b57f6d84e2cda623f3969cc14ca0d50e,Use assertEqual instead of assertItemsEqual,MERGED,2020-07-17 03:20:56.000000000,2020-07-20 18:26:34.000000000,2020-07-20 18:24:36.000000000,12,10,20,741575,ccc4db699a1f2bc0003eba4b4b4144e3ef6f1320,29,9,3,4,29139,shenxindi,shenxindi,"Use assertEqual instead of assertItemsEqual

The assertItemsEqual method has been removed in Python 3.3 [1] but
it was kept alive by unittest2, imported by testtools.

[1] https://bugs.python.org/issue17866

Change-Id: I410a10d4b57f6d84e2cda623f3969cc14ca0d50e
"
openstack%2Fopenstack-helm-infra~master~I3e27d51c055010cff982ddb0951d01ea8adac234,openstack/openstack-helm-infra,master,Fix_apparmor,I3e27d51c055010cff982ddb0951d01ea8adac234,Enable Application Armor to all ceph key-generator pods.,MERGED,2020-07-01 20:37:27.000000000,2020-07-20 18:12:38.000000000,2020-07-20 18:11:03.000000000,16,1,1,738936,5d504333629df97f20f6d2316d518153fa3dffde,122,12,37,4,29131,diwakar thyagaraj,dt241s@att.com,"Enable Application Armor to all ceph key-generator pods.

1) Changed the pod name and container name to pick name dynamically for
   osd,mon,mgr and mds.

2) Added Init container for ceph-provisioners.

Change-Id: I3e27d51c055010cff982ddb0951d01ea8adac234
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
"
openstack%2Fnetworking-bagpipe~master~Ia86c627602deab43b695f60568927e737acf3417,openstack/networking-bagpipe,master,,Ia86c627602deab43b695f60568927e737acf3417,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-07-09 04:59:11.000000000,2020-07-20 18:05:10.000000000,2020-07-20 18:03:30.000000000,8,8,0,740155,e5ffadc18cdb1dca579b08413ff072d3cebfdef4,16,4,2,2,17130,melissaml,malei,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: Ia86c627602deab43b695f60568927e737acf3417
"
openstack%2Fnetworking-bagpipe~master~I0cc70af50dbbad972baece017c7b31e0ae696579,openstack/networking-bagpipe,master,pep8-error,I0cc70af50dbbad972baece017c7b31e0ae696579,Fix pep8 job,MERGED,2020-07-09 13:26:34.000000000,2020-07-20 17:59:40.000000000,2020-07-20 17:56:37.000000000,2,0,0,740286,30b058ec04f4ccbbbca41c36b72f877634873352,9,5,1,2,8313,Lajos Katona,elajkat,"Fix pep8 job

New versions of isort broke pylint. This patch fixes it at 4.3.21.

Change-Id: I0cc70af50dbbad972baece017c7b31e0ae696579
"
openstack%2Fkolla-ansible~stable%2Fussuri~I6a174468bd91d214c08477b93c88032a45c137be,openstack/kolla-ansible,stable/ussuri,bug/1886615-stable/ussuri,I6a174468bd91d214c08477b93c88032a45c137be,Fix Barbican client (Castellan) with TLS,MERGED,2020-07-20 10:17:36.000000000,2020-07-20 17:48:20.000000000,2020-07-20 17:46:30.000000000,16,1,0,741913,aca3736e74abe9f155f36ccc6168b770a06bb121,9,3,1,4,14826,Mark Goddard,mgoddard,"Fix Barbican client (Castellan) with TLS

The Castellan (Barbican client) has different parameters to control
the used CA file.
This patch uses them.
Moreover, this aligns Barbican with other services by defaulting
its client config to the internal endpoint.

See also [1].

[1] https://bugs.launchpad.net/castellan/+bug/1876102

Closes-Bug: #1886615

Change-Id: I6a174468bd91d214c08477b93c88032a45c137be
(cherry picked from commit 0e9a81fdca4e94048b731bc4c79da8b397437365)
"
openstack%2Felection~master~Ic0721e60f6583abb52bb665fbf113c8017318e2c,openstack/election,master,reno-openstackdocstheme,Ic0721e60f6583abb52bb665fbf113c8017318e2c,Switch to newer openstackdocstheme version,MERGED,2020-06-10 14:20:37.000000000,2020-07-20 17:37:05.000000000,2020-07-20 17:35:42.000000000,18,19,0,734854,546b04680028f0c0599942fb2349763e0271f6dd,11,8,2,6,6547,Andreas Jaeger,jaegerandi,"Switch to newer openstackdocstheme version

Switch to openstackdocstheme 2.2.1 version. Using
this version will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_version to not auto-version the documents.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Remove python 2.7 stanza from setup.py, cleanup tox.ini for python3,
update hacking version and fix problem found.

Change-Id: Ic0721e60f6583abb52bb665fbf113c8017318e2c
"
openstack%2Fheat~master~I86a06cd2c5cebcc3d2cd07b675f626a917bb9db4,openstack/heat,master,,I86a06cd2c5cebcc3d2cd07b675f626a917bb9db4,Use 'skiplist' to describe skipped indices in ResourceGroup code,MERGED,2020-07-14 16:40:53.000000000,2020-07-20 17:36:01.000000000,2020-07-20 17:34:34.000000000,86,86,0,741001,24bae944dc0804a1b0a2811aff3af572f7c3e296,23,3,2,3,4257,Zane Bitter,zaneb,"Use 'skiplist' to describe skipped indices in ResourceGroup code

Don't use needlessly divisive terminology.

Change-Id: I86a06cd2c5cebcc3d2cd07b675f626a917bb9db4
"
openstack%2Fpuppet-tripleo~master~I20d14dd2e55b3de797ce6f43595f14eddc5dec96,openstack/puppet-tripleo,master,neutron-db,I20d14dd2e55b3de797ce6f43595f14eddc5dec96,Test neutron::db inclusion,MERGED,2020-07-15 15:36:20.000000000,2020-07-20 17:19:22.000000000,2020-07-20 17:19:21.000000000,6,0,0,741251,a4ea2451c43fd5cf3ef32a110f07d1c83840413b,9,3,2,1,9816,Takashi Kajinami,kajinamit,"Test neutron::db inclusion

This patch is a follow-up of [1] and adds test cases to make sure that
neutron::db class is included as expected.

[1] https://review.opendev.org/#/c/738578/

Change-Id: I20d14dd2e55b3de797ce6f43595f14eddc5dec96
"
openstack%2Fglance~master~I93dc7c999ff7a180e6b3ff760fa65328b9a883f3,openstack/glance,master,fix_admin_doc_httpd,I93dc7c999ff7a180e6b3ff760fa65328b9a883f3,Fix admin docs deplying under HTTPD,MERGED,2020-07-20 01:45:56.000000000,2020-07-20 17:07:20.000000000,2020-07-20 17:04:50.000000000,22,92,1,741859,785eefcf7853ccccfa9bec392e2271c3589a3927,12,3,2,2,5202,Erno Kuvaja,jokke,"Fix admin docs deplying under HTTPD

During Pike cycle there was efforts to deploy services under
Apache HTTPD. It became clear very quickly that Glance did not
operate properly when deployed as bare wsgi app under web
server but admin documentation was merged that indicated that
being somehow the preferred method. It was added to the doc
that in Pike release there was issues in these models.

There was never interest nor resources to fix the underlying
issues but the doc stayed in place indicating that those
issues could be only Pike related when they in matter of
fact has got even worse over the time. Due to the fact that
Glance is even more relying on eventlet than back then it's
time to clarify the docs and make clear it's not adviced
deployment model, it won't work and there is no itention
to change that.

Change-Id: I93dc7c999ff7a180e6b3ff760fa65328b9a883f3
Closes-Bug: #1887994
"
openstack%2Fmonasca-agent~stable%2Ftrain~I8050e1eed68d7b64f7a968b061afa69fe2e86d72,openstack/monasca-agent,stable/train,story2004539-remove-matching-stable/train,I8050e1eed68d7b64f7a968b061afa69fe2e86d72,Add remove configuration for matching arguments,NEW,2020-07-20 16:28:16.000000000,2020-07-20 17:06:24.000000000,,530,6,0,741985,3d914cc7029d4fa2ba1e56267857c0cb59c7cf9e,2,3,1,4,14892,Keith Berger,kberger,"Add remove configuration for matching arguments

The remove_config() function only removes an exact match for
the configured instance.
This will allow removing plugin configuration when all config is
not known.

Use case: A compute node has been removed, so any host_alive
ping checks that are configured for it should be removed.  But at
the time of removal the list of target_hostnames to match are
not known.

Change-Id: I8050e1eed68d7b64f7a968b061afa69fe2e86d72
Story: 2004539
Task: 28287
(cherry picked from commit 8d4bd979d5789689ff5fe5298171e60ac0d65c81)
"
openstack%2Frequirements~stable%2Fstein~I996da246db4f2ff901fc1478326a674b28b96aca,openstack/requirements,stable/stein,new-release,I996da246db4f2ff901fc1478326a674b28b96aca,update constraint for ceilometer to new release 12.1.1,MERGED,2020-07-20 10:10:17.000000000,2020-07-20 17:04:48.000000000,2020-07-20 17:04:48.000000000,1,1,0,741908,4a301bce6e7255235e20587122f0de18ae892e21,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for ceilometer to new release 12.1.1

Change-Id: I996da246db4f2ff901fc1478326a674b28b96aca
meta:version: 12.1.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I59527381bc86a0819636246e5a38b3f4f38b3c99
meta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>
meta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Frequirements~stable%2Fstein~I9142b5ffc53c06103234f24236900d63e4458a82,openstack/requirements,stable/stein,new-release,I9142b5ffc53c06103234f24236900d63e4458a82,update constraint for horizon to new release 15.3.1,MERGED,2020-07-20 10:01:43.000000000,2020-07-20 17:04:46.000000000,2020-07-20 17:04:46.000000000,1,1,0,741906,a163dd33a64b4bad920565582d3d17c6eca73d70,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for horizon to new release 15.3.1

Change-Id: I9142b5ffc53c06103234f24236900d63e4458a82
meta:version: 15.3.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: If013d4d1ecec13d1b6d5c09e5f1888d4c60a91a8
meta:release:Code-Review+1: Vishal Manchanda <manchandavishal143@gmail.com>
meta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fdiskimage-builder~master~Ic3d397650efdbffb6a43cafe09e44f4bd06b297d,openstack/diskimage-builder,master,py3-dib7,Ic3d397650efdbffb6a43cafe09e44f4bd06b297d,Enable py3 on dib centos/rhel 7,ABANDONED,2020-06-18 02:54:46.000000000,2020-07-20 17:04:14.000000000,,9,2,19,736421,6c05cb288e88d0e1adefc4ab1c092d81195cee02,64,6,10,1,8175,Rafael Folco,rfolco,"Enable py3 on dib centos/rhel 7

This change installs python3 on a dib7 base image to allow dib
to build images on older branches and distros like CentOS7/RHEL7
with Python3 and also using the latest code of DIB.

diskimage_builder/elements/dib-python/pre-install.d/01-dib-python
runs 'command -v python3' and fails because CentOS7 cloud base
image does not have python3 installed.

Also, python3-pyyaml is not available as package, then we install
it with pip to meet package requirements..

This change also includes a small fix on the error handling for
'command -v' by letting the script to continue its execution and
echo the error msg.

Change-Id: Ic3d397650efdbffb6a43cafe09e44f4bd06b297d
"
openstack%2Ftripleo-docs~master~I8ecb3abb8fb2e0365e26c76da4b3f6ca9f1aeb08,openstack/tripleo-docs,master,typo,I8ecb3abb8fb2e0365e26c76da4b3f6ca9f1aeb08,Correct a typo in the document,MERGED,2020-07-11 03:35:07.000000000,2020-07-20 16:50:33.000000000,2020-07-20 16:46:12.000000000,1,1,0,740538,061d746ca32aa746e07c32933962d7391fd5f9c8,9,4,1,1,30696,zhaoleilc,zhaoleilc,"Correct a typo in the document

This patch changes 'stoped' to 'stopped'
in deploy-guide/source/post_deployment/
backup_and_restore/04_overcloud_restore.rst

Change-Id: I8ecb3abb8fb2e0365e26c76da4b3f6ca9f1aeb08
"
openstack%2Fnova-specs~master~Ic1382ae27c01aa50c62d2cbd6bc33f05b5b7fe14,openstack/nova-specs,master,migrate-to-focal,Ic1382ae27c01aa50c62d2cbd6bc33f05b5b7fe14,DNM: testing focal,ABANDONED,2020-07-20 16:23:13.000000000,2020-07-20 16:38:47.000000000,,1,0,0,741984,19d105959f1b1ef41037a52b7bb9a748cb2bac21,3,1,1,1,8556,Ghanshyam,ghanshyam,"DNM: testing focal

Depends-On: https://review.opendev.org/#/c/734700

Change-Id: Ic1382ae27c01aa50c62d2cbd6bc33f05b5b7fe14
Story: #2007865
Task: #40200
"
openstack%2Fmonasca-agent~master~I8050e1eed68d7b64f7a968b061afa69fe2e86d72,openstack/monasca-agent,master,story2004539-remove-matching,I8050e1eed68d7b64f7a968b061afa69fe2e86d72,Add remove configuration for matching arguments,MERGED,2018-12-08 01:12:13.000000000,2020-07-20 16:28:16.000000000,2020-04-24 10:55:32.000000000,530,6,0,623611,8d4bd979d5789689ff5fe5298171e60ac0d65c81,24,5,8,4,10311,Joseph Davis,joadavis,"Add remove configuration for matching arguments

The remove_config() function only removes an exact match for
the configured instance.
This will allow removing plugin configuration when all config is
not known.

Use case: A compute node has been removed, so any host_alive
ping checks that are configured for it should be removed.  But at
the time of removal the list of target_hostnames to match are
not known.

Change-Id: I8050e1eed68d7b64f7a968b061afa69fe2e86d72
Story: 2004539
Task: 28287
"
openstack%2Fdragonflow~master~Id3a5477860323547a4e17155061f597a8c96640b,openstack/dragonflow,master,dragonflow,Id3a5477860323547a4e17155061f597a8c96640b,Retire repo,MERGED,2020-06-23 15:37:39.000000000,2020-07-20 16:01:34.000000000,2020-07-20 16:01:34.000000000,8,65848,0,737564,7839f35ca3170e13c9a6e655489b32585e33641a,14,6,2,499,11904,Sean McGinnis,SeanM,"Retire repo

This patch completes step 2 of the infra project retirement process
found here:

https://docs.opendev.org/opendev/infra-manual/latest/drivers.html#step-2-remove-project-content

Reference:

http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015600.html

Depend-on: https://review.opendev.org/737566

Change-Id: Id3a5477860323547a4e17155061f597a8c96640b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Foslo.limit~master~I6e02e68b689176a1a5e6adff0f32adf79ec473cf,openstack/oslo.limit,master,,I6e02e68b689176a1a5e6adff0f32adf79ec473cf,Align contributing doc with oslo's policy,MERGED,2020-05-04 16:24:33.000000000,2020-07-20 15:43:54.000000000,2020-07-20 15:41:34.000000000,5,0,0,725317,1443a6ec1117bbb8660da3b4407c6c68715da58e,10,5,1,1,28522,Herv Beraud,hberaud,"Align contributing doc with oslo's policy

Related to:
- https://review.opendev.org/#/c/723044/
- https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Change-Id: I6e02e68b689176a1a5e6adff0f32adf79ec473cf
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I838e6748879c668dd004ca2243b7b00b857c2a7b,openstack/python-tripleoclient,stable/train,,I838e6748879c668dd004ca2243b7b00b857c2a7b,"Add ""yes"" prompt for update/upgrades commands",MERGED,2020-07-17 23:45:20.000000000,2020-07-20 15:36:30.000000000,2020-07-20 15:33:53.000000000,205,26,0,741792,289759474ff36330041e4842e0f5fc55270e2934,13,11,2,11,11090,Sergii Golovatiuk,holser,"Add ""yes"" prompt for update/upgrades commands

Update/Upgrade commands have now a prompt by default that ask for
confirmation before proceeding. It'll prevent an user to run the
command that may cause the problems to infrastructure.
This prompt can be skipped with --yes/-y argument.

Note: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is
visible and clear. We have seen many users running the wrong command and
ending up doing an upgrade instead of an update.

Note2: this prompt will be ported to the upgrade and FFWD workflows to
prevent unexpected execution to prevent potential harm to
infrastructures.

Depends-On: https://review.opendev.org/741658
Change-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b
(Partly cherry picked from commit 7a044ca2517d26ea4ea763cc76d373ad4b39f7f9)
"
openstack%2Foctavia~master~I670087163b265e7098af35063572d6aa9d068bb9,openstack/octavia,master,,I670087163b265e7098af35063572d6aa9d068bb9,Prioritize policy validation,MERGED,2020-06-19 21:18:41.000000000,2020-07-20 15:25:06.000000000,2020-06-21 16:22:42.000000000,63,56,0,737084,8394633635af1045131b1ba5eeeafea8aa98416b,9,3,1,5,11628,Michael Johnson,johnsom,"Prioritize policy validation

This patch makes sure that we validate RBAC compliance before
other validation tasks.

Change-Id: I670087163b265e7098af35063572d6aa9d068bb9
"
openstack%2Fcharm-masakari-monitors~master~Ied1736a70c70d2b246fba99b3447f2a3cd591eac,openstack/charm-masakari-monitors,master,victoria-charm-tests,Ied1736a70c70d2b246fba99b3447f2a3cd591eac,Add Victoria test bundles,MERGED,2020-07-15 08:52:45.000000000,2020-07-20 15:07:49.000000000,2020-07-20 15:07:49.000000000,786,1,0,741122,002d829d96fffb9f3ba4c0e0b015a31e042d87e7,11,4,2,5,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: Ied1736a70c70d2b246fba99b3447f2a3cd591eac
"
openstack%2Fcharm-keystone-ldap~master~I01cd3a3f53b09edb46398c7652ba19a6b1df4623,openstack/charm-keystone-ldap,master,bug/1879088,I01cd3a3f53b09edb46398c7652ba19a6b1df4623,Remove inherited configuration options invalid for charm,MERGED,2020-05-16 21:29:57.000000000,2020-07-20 14:59:09.000000000,2020-07-20 14:59:09.000000000,9,0,0,728660,3f72380e220d44b3886b29f14273bb64d7679ee2,11,5,1,1,13686,Frode Nordahl,fnordahl,"Remove inherited configuration options invalid for charm

Change-Id: I01cd3a3f53b09edb46398c7652ba19a6b1df4623
Closes-Bug: #1879088
"
openstack%2Fcharm-cinder-backup-swift-proxy~master~I7fbc6b07d1e6fe93b67cafcba0ad0055d161dcd2,openstack/charm-cinder-backup-swift-proxy,master,bug/1879088,I7fbc6b07d1e6fe93b67cafcba0ad0055d161dcd2,Remove inherited configuration options invalid for charm,MERGED,2020-05-16 21:22:50.000000000,2020-07-20 14:56:39.000000000,2020-07-20 14:56:39.000000000,9,0,0,728658,bdbaa53af8303abbc7ad2726533464b2eb0ab371,9,4,1,1,13686,Frode Nordahl,fnordahl,"Remove inherited configuration options invalid for charm

Change-Id: I7fbc6b07d1e6fe93b67cafcba0ad0055d161dcd2
Closes-Bug: #1879088
"
openstack%2Ftripleo-operator-ansible~master~Ia24350cb44180b155f5a892414edb0a8590a4247,openstack/tripleo-operator-ansible,master,,Ia24350cb44180b155f5a892414edb0a8590a4247,trivial: document undocumented debug parameter,MERGED,2020-07-17 19:36:46.000000000,2020-07-20 14:55:51.000000000,2020-07-20 14:55:51.000000000,1,0,0,741703,3eefe989194e9b620c1dd67b7402abd1ec67a5fb,8,5,1,1,5046,Lance Bragstad,ldbragst,"trivial: document undocumented debug parameter

Change-Id: Ia24350cb44180b155f5a892414edb0a8590a4247
"
openstack%2Ftripleo-quickstart~master~I408a1d74d8db0e95952a07fe272772c216452113,openstack/tripleo-quickstart,master,libvirt_resolv,I408a1d74d8db0e95952a07fe272772c216452113,Rework resolv.conf,MERGED,2020-07-15 21:56:55.000000000,2020-07-20 14:49:29.000000000,2020-07-20 14:47:26.000000000,21,9,1,741330,dad177d92ed4bc27c1001732c3b1a7c513b19288,31,9,3,1,11090,Sergii Golovatiuk,holser,"Rework resolv.conf

- Move resolv.conf to own task
- Change >> to > as it doesn't work with ""127.0.0.1""
- Set chattr +i so NetworkManager or dhcp-agent won't override
  resolv.conf
- Replace ""Folded Block"" to ""Include Block"" to remove ; at end of
  multiline bash scripts.

Co-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I408a1d74d8db0e95952a07fe272772c216452113
"
openstack%2Fcharm-octavia-dashboard~master~Icd93c7289e2da3440b991b9d2cd389f4892c87f4,openstack/charm-octavia-dashboard,master,bug/1879088,Icd93c7289e2da3440b991b9d2cd389f4892c87f4,Remove inherited configuration options invalid for charm,MERGED,2020-05-16 20:59:47.000000000,2020-07-20 14:46:59.000000000,2020-07-20 14:46:59.000000000,2,0,0,728654,df4cc4403327375f4f5cbc05ba18b3b21cad5150,12,5,1,1,13686,Frode Nordahl,fnordahl,"Remove inherited configuration options invalid for charm

Change-Id: Icd93c7289e2da3440b991b9d2cd389f4892c87f4
Closes-Bug: #1879088
"
openstack%2Fcharm-barbican-softhsm~master~I33a9602793c2a19d8d21e4524999c5c2dd51e85f,openstack/charm-barbican-softhsm,master,bug/1879088,I33a9602793c2a19d8d21e4524999c5c2dd51e85f,Remove inherited configuration options invalid for charm,MERGED,2020-05-16 21:11:08.000000000,2020-07-20 14:46:50.000000000,2020-07-20 14:46:50.000000000,9,0,0,728656,161aaef2f27eff288bdb3de8afc2bfe693d804cc,11,5,1,1,13686,Frode Nordahl,fnordahl,"Remove inherited configuration options invalid for charm

Change-Id: I33a9602793c2a19d8d21e4524999c5c2dd51e85f
Closes-Bug: #1879088
"
openstack%2Fcharm-manila-ganesha~master~Icd8b168116a9025e4917653a5144586637718d51,openstack/charm-manila-ganesha,master,bug/1879088,Icd8b168116a9025e4917653a5144586637718d51,Remove inherited configuration options invalid for charm,MERGED,2020-05-18 07:05:03.000000000,2020-07-20 14:46:00.000000000,2020-07-20 14:46:00.000000000,214,249,0,728753,19d3af1ebcf393ca09bbdfc4d5aadfe79a24df43,9,4,1,2,13686,Frode Nordahl,fnordahl,"Remove inherited configuration options invalid for charm

Add missing icon.

Change-Id: Icd8b168116a9025e4917653a5144586637718d51
Closes-Bug: #1879088
"
openstack%2Fcharm-cinder-purestorage~master~I7e0023acc1277a0edbdda09b6069a7c8e62c2b0a,openstack/charm-cinder-purestorage,master,bug/1879088,I7e0023acc1277a0edbdda09b6069a7c8e62c2b0a,Remove inherited configuration options invalid for charm,MERGED,2020-05-16 21:24:57.000000000,2020-07-20 14:38:31.000000000,2020-07-20 14:38:31.000000000,3,1,0,728659,761a970780d03f203259a6964fad7f0a6fe0e1bb,11,5,1,1,13686,Frode Nordahl,fnordahl,"Remove inherited configuration options invalid for charm

Change-Id: I7e0023acc1277a0edbdda09b6069a7c8e62c2b0a
Closes-Bug: #1879088
"
openstack%2Fcharm-octavia-dashboard~master~Ifd096de5ad0c58d3798567608ea99f258d98e1bf,openstack/charm-octavia-dashboard,master,bug/1879088,Ifd096de5ad0c58d3798567608ea99f258d98e1bf,Remove inherited configuration options invalid for charm,MERGED,2020-05-18 07:55:18.000000000,2020-07-20 14:38:01.000000000,2020-07-20 14:38:00.000000000,2,0,0,728770,0a41348eabd990753da0de1b905f41f0727209e6,9,4,1,1,13686,Frode Nordahl,fnordahl,"Remove inherited configuration options invalid for charm

Change-Id: Ifd096de5ad0c58d3798567608ea99f258d98e1bf
Closes-Bug: #1879088
"
openstack%2Fneutron~master~Idcf103782eaa6ad2292482d8a5cbb6375d3fcd6e,openstack/neutron,master,ovn-devstack,Idcf103782eaa6ad2292482d8a5cbb6375d3fcd6e,grenade: Explicitly enable ml2/ovs,ABANDONED,2020-07-08 07:57:23.000000000,2020-07-20 14:36:44.000000000,,12,5,0,739915,d318019a1103e6050e7ac972ebc8a711f391e68d,4,4,1,1,8655,Jakub Libosvar,jlibosva,"grenade: Explicitly enable ml2/ovs

This patch is a part of switching ovn as a default in devstack
initiative. However, grenade will keep running with ml2/ovs for now.
This patch explicitly sets variables to deploy ml2/ovs, even though it's
still a default now.

Change-Id: Idcf103782eaa6ad2292482d8a5cbb6375d3fcd6e
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
"
openstack%2Fcharm-hacluster~master~I2a704c1221bda242caaa5e87849d9984db3c6b71,openstack/charm-hacluster,master,bug/1881114,I2a704c1221bda242caaa5e87849d9984db3c6b71,Remove old configure_stonith,MERGED,2020-06-03 12:46:26.000000000,2020-07-20 14:34:21.000000000,2020-07-20 14:34:21.000000000,14,15,1,733128,eaaa5e5bd8d154016eb785c6655962633217213b,24,5,5,2,12549,gnuoy,gnuoy,"Remove old configure_stonith

The old configure_stonith last worked on xenial. This patch bypassies
it given it is broken and it is interfering with the new pacemaker
remote stonith resource setup. The code will be removed by a follow
up patch. This patch is designed to be small for easy cherry picking.

Change-Id: I2a704c1221bda242caaa5e87849d9984db3c6b71
Partial-Bug: #1881114
"
openstack%2Fcharm-placement~master~I018f486627cc870a8733e7fd945075d888dda6b9,openstack/charm-placement,master,bug/1879088,I018f486627cc870a8733e7fd945075d888dda6b9,Remove inherited configuration options invalid for charm,MERGED,2020-05-18 08:03:21.000000000,2020-07-20 14:30:55.000000000,2020-07-20 14:30:54.000000000,241,0,0,728772,4e3a6c7eddee8b7123b98592e58beda3a51b8dee,10,4,1,2,13686,Frode Nordahl,fnordahl,"Remove inherited configuration options invalid for charm

Add missing icon.

Change-Id: I018f486627cc870a8733e7fd945075d888dda6b9
Closes-Bug: #1879088
"
openstack%2Ftripleo-quickstart-extras~master~Iaa53097780b1bf4d7dc31666e59f559c6d9348b1,openstack/tripleo-quickstart-extras,master,,Iaa53097780b1bf4d7dc31666e59f559c6d9348b1,Fix Syntax Error in reproducer script,MERGED,2020-07-20 05:14:06.000000000,2020-07-20 14:26:26.000000000,2020-07-20 14:26:26.000000000,1,1,1,741870,2d0019061ebc9cb6d68131ec9ba00e9b602f5eaf,10,6,1,1,13861,yatin,yatinkarel,"Fix Syntax Error in reproducer script

Wrong variable name was used and space was missing,
this patch fixes these.

Change-Id: Iaa53097780b1bf4d7dc31666e59f559c6d9348b1
"
openstack%2Frally-openstack~master~Ia25148e08e33d80ea9d021d5e16f87153b902d94,openstack/rally-openstack,master,net_wrapper,Ia25148e08e33d80ea9d021d5e16f87153b902d94,Use NeutronService helper instead of network wrapper,MERGED,2020-04-28 12:14:08.000000000,2020-07-20 14:10:11.000000000,2020-07-20 14:10:11.000000000,1430,1850,0,723879,4c207ae082427adf642860f25a789b2bc8951bfd,65,4,31,35,9545,Andrey Kurilin,akurilin,"Use NeutronService helper instead of network wrapper

This change allows to use network context without admin user

Change-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94
"
openstack%2Freleases~master~I2c67923f67d9922e1fcb9d6a915e099456072dcc,openstack/releases,master,,I2c67923f67d9922e1fcb9d6a915e099456072dcc,Release octavia-lib 2.1.0,MERGED,2020-07-20 09:39:46.000000000,2020-07-20 13:50:43.000000000,2020-07-20 13:50:43.000000000,5,0,0,741901,b100efdea74253b4f74727abbbd825b76765af2e,8,4,1,1,6469,Carlos Gonalves,cgoncalves,"Release octavia-lib 2.1.0

Change-Id: I2c67923f67d9922e1fcb9d6a915e099456072dcc
"
openstack%2Fproject-team-guide~master~Ib33823e449ab98455f83a5be703b69ca3b886039,openstack/project-team-guide,master,import-zuulv3-doc,Ib33823e449ab98455f83a5be703b69ca3b886039,Import the Zuul v3 porting guide,MERGED,2020-07-13 16:28:53.000000000,2020-07-20 13:41:26.000000000,2020-07-20 13:39:00.000000000,985,0,21,740727,5a8b34fbba7c0744456f5d32167e0295f8578387,22,4,5,2,10459,Luigi Toscano,ltoscano,"Import the Zuul v3 porting guide

The guide needs a reference location. It was removed from
opendev/infra-manual via https://review.opendev.org/711325.
This change adds a bit of introduction and and imports
the last version of the guide almost unchanged:
- minimal changes to few then-internal references, now external;
- a few formatting fixes (long lines, broken links, etc).

This is a squashed version of zuulv3.rst which comes from
the following Change-Id-s:

I0db0a753e17d671ee64ea7a87e065c958dd94850
I2a5fb17c5ec1cb76693bf55ff25ffda6cc84759e
I4bfb63bf99c8528494d73f5f50018a2636b5bc37
Ie79726677c3c3ad5204fa6c1b3d3c0dfa25d7ebb
I720e1532f177d26fbb50f00dbc612422aa60c3bd
I51bd6c5bbcb8135c3ea4fed6941613643a3bcead
I0f8878901ce0302c89a40b9190dd806b2f5a85e8
Ic08e914be065ff9f4ec6b489c9d1d9915ff284f8
I837ba17307cd81b4339c2a1350692e3186146fb3
I33bab470f04a00b978b8cf22416ac4d0d805b4ef
Idded1004ffaebe51010fa52dad696f19f721d526
Ibe8dfe1ce3723dee8d682a7d3fa4cb57561614d9
Iea9b8386e22c8801343e5405d7a1a249a93df7d9
Id02e8c89fd212d527f8efcc575eb5541ed06a3ad
I2b4b4a9c3d9009cc618b7ebba666582e4cf03a08
I2b150ccf7e712ddfaf9ab61a20e986630ce94501
Ic372436b97fc26173767033346172883c2f91a37
I5e69c55b9b7ea2c3654f4a231005107f7ead0430
I084c0e930fb4b7899e4d233f9529642bbcf19a7d
If36eed0a720f3e4747b81359687a9e5df417c0fe
Ibf79b03c33fb82d2e55016e1e1225b0d9dba6f1e
Ib3102f270f94eb689b81dd719574b1113bccba19
Ib78c43e4a38c3976ca9180fb68bbfb5eedaf3df7
If30ddf3f32bc49e8c764b123ac760a34bcae9cec
I2e099e0d90e0450fba89ac985de3aa646836367d
I0d3a3dfe4015dc8ea9f7d3957fe5de29c3e2283b
I3156520772db4de7cc90fcfc274b3dac957538e4
I09a0f9ecb3bba693caac67958675cce7fd554a5e
Ia2b71fbd2cf5a7848db1648278350c91e757a324
Ib8062210854e1979aa1f56bd7c0f5af8e578decc
I79ec68b995c5acc431b6cc8007ffd00808c89ff0
I112005d360f23648985d6691200d07476c622d70
I1649c64e2e7b2bd9b6324f44a8a50bce6f2fdb98
Ie85c7ebc1a1c9f646316e8c7e6d6eb7eea8a23d3
I73970d0b70c1de919e28d669a531e6d6d2bbef71
I8bbf3d937b71847ea499539b50283bb1f255d1f3
I21dbdb66962b44eba460300ade8f28869f8b9c07
Iacd4f3057c3e33396f6930283177460624ff102c
I52417a26587b42c4e18a5d81dbb84643f1b36115
Ie2f37c17747e1f22e517457e39e3721d00d27ab6
Ia093e69ca515895221258240d74d30065c76eabf
Ic690f2e680992d365c760ca8f94b85d7ba78bbc7
Ie313d59dfaf1a0ab1a5a87f53e270d40c6206c21
I68e9320570227ce53bae422cd93253f8d561cb66
I542c8f7cd383415b0b1e421ad68685d62ebed9a1
I2f720a9e6ff3c10ac05852d7d102878f418bd5cf
Id44c3eda204456af3dfa6d616ff44c107088fb40
Ie2f414d271bc1ee649b50e24cc3aa6bc80c973c6
I19493c9fb9f07561c9627e080ed24c0a58164a53
I7b467cb8b13e614d382c4801aa244e34ce827065
Ieb1f88e07eb0660f62699819d4be833d5d794e65
Idb46fc3c6fc07aad8fa2f4e20b43785bccd90547
Iafad5ae4997c94e1c517bab1fb794ff5d6a34251
Ia4ee7f2c8c623ea0054c41007b16aeed65d13e35

Co-Authored-By: James E. Blair <jeblair@redhat.com>
Co-Authored-By: Andreas Jaeger <aj@suse.com>
Co-Authored-By: Monty Taylor <mordred@inaugust.com>
Co-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>
Co-Authored-By: Clark Boylan <clark.boylan@gmail.com>
Co-Authored-By: David Moreau-Simard <dmsimard@redhat.com>
Co-Authored-By: Doug Hellmann <doug@doughellmann.com>
Co-Authored-By: Franois Magimel <francois.magimel@alumni.enseeiht.fr>
Co-Authored-By: Jan Zerebecki <jan.openstack@zerebecki.de>
Co-Authored-By: Jeremy Stanley <fungi@yuggoth.org>
Co-Authored-By: Jesse Keating <omgjlk@us.ibm.com>
Co-Authored-By: Julien Danjou <julien@danjou.info>
Co-Authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>
Co-Authored-By: Stephen Finucane <stephenfin@redhat.com>
Co-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>
Co-Authored-By: melissaml <ma.lei@99cloud.net>

Change-Id: Ib33823e449ab98455f83a5be703b69ca3b886039
"
openstack%2Ftripleo-quickstart~master~I4ddf957f677ba8cc584a155444b27d43b7d27e5c,openstack/tripleo-quickstart,master,bug/1887637,I4ddf957f677ba8cc584a155444b27d43b7d27e5c,Use dnf/yum for customizing libvirt nodepool images,MERGED,2020-07-17 07:19:36.000000000,2020-07-20 13:36:50.000000000,2020-07-20 13:35:16.000000000,1,1,2,741587,8cfedbcf7ef8962d9bdd2c9a4e5683eb68fa620a,20,5,3,1,13861,yatin,yatinkarel,"Use dnf/yum for customizing libvirt nodepool images

yum is not installed by default in CentOS8 images,
so use dnf for it and fallback to yum when dnf not
available.

Related-Bug: #1887637
Change-Id: I4ddf957f677ba8cc584a155444b27d43b7d27e5c
"
openstack%2Fironic-inspector~master~Ia96a9a8b85841612fb13616754bfdbf651b212d8,openstack/ironic-inspector,master,zero-size,Ia96a9a8b85841612fb13616754bfdbf651b212d8,Do not try to set local_gb to -1 when the matched root device size is 0,MERGED,2020-07-09 14:16:36.000000000,2020-07-20 13:29:08.000000000,2020-07-20 13:22:22.000000000,26,5,0,740304,95e103d21cffd9040619ab04edd71a53a650cf34,24,6,2,3,10239,Dmitry Tantsur,dtantsur,"Do not try to set local_gb to -1 when the matched root device size is 0

Apparently, virtual floppies on some machines are represented as normal
block devices, but with size = 0. We should filter them out in ironic-lib,
but for now at least don't fail miserably.

Story: #2007907
Task: #40308
Change-Id: Ia96a9a8b85841612fb13616754bfdbf651b212d8
"
openstack%2Frequirements~stable%2Fstein~I54f9e88ca483d96b61d0aa5eadbc343ff7383fe0,openstack/requirements,stable/stein,new-release,I54f9e88ca483d96b61d0aa5eadbc343ff7383fe0,update constraint for python-octaviaclient to new release 1.8.2,MERGED,2020-07-20 10:24:07.000000000,2020-07-20 13:27:57.000000000,2020-07-20 13:27:57.000000000,1,1,0,741914,e105a020d7536159e7269a70beb86a9ad4db8de9,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-octaviaclient to new release 1.8.2

Change-Id: I54f9e88ca483d96b61d0aa5eadbc343ff7383fe0
meta:version: 1.8.2
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: Ief2e28d88f6bae6af08930310f062e58616b83c9
meta:release:Code-Review+1: Carlos Goncalves <cgoncalves@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Herv Beraud <hberaud@redhat.com>
"
openstack%2Frequirements~stable%2Fstein~I16185f1eefa85bb7477a65ecbdaa5ee3b828247b,openstack/requirements,stable/stein,new-release,I16185f1eefa85bb7477a65ecbdaa5ee3b828247b,update constraint for python-zunclient to new release 3.3.1,MERGED,2020-07-20 10:15:03.000000000,2020-07-20 13:25:54.000000000,2020-07-20 13:25:54.000000000,1,1,0,741911,661cceef4e3a764acccd3d9da23c83fb6034aacb,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-zunclient to new release 3.3.1

Change-Id: I16185f1eefa85bb7477a65ecbdaa5ee3b828247b
meta:version: 3.3.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I246d4ee7adfd9d47287367618fcb7ef6c02797ea
meta:release:Code-Review+1: Hongbin Lu <hongbin034@gmail.com>
meta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Frequirements~stable%2Ftrain~Ibe50390ce936144099c05edbe8c42d614f780016,openstack/requirements,stable/train,new-release,Ibe50390ce936144099c05edbe8c42d614f780016,update constraint for oslo.messaging to new release 10.2.1,MERGED,2020-07-20 09:43:46.000000000,2020-07-20 13:22:35.000000000,2020-07-20 13:22:35.000000000,1,1,0,741904,b7ff05c5517784aa84c4aa8e6fc786189388a6f6,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.messaging to new release 10.2.1

Change-Id: Ibe50390ce936144099c05edbe8c42d614f780016
meta:version: 10.2.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: Ie4f1057048bfdc55c1c403654da8831461199468
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fnova~stable%2Ftrain~I207a6c8c8cf562477792c69e353ba99b3ec4cb5e,openstack/nova,stable/train,bug/1882233,I207a6c8c8cf562477792c69e353ba99b3ec4cb5e,Correct reported system memory,MERGED,2020-07-13 11:08:43.000000000,2020-07-20 12:44:31.000000000,2020-07-20 12:42:39.000000000,11,24,0,740667,7d33d744148d2f9d3bef9a6cbf2fc916f5b17f88,14,5,1,2,15334,Stephen Finucane,sfinucan,"Correct reported system memory

In Python 3.3+, 'sys.platform' no longer includes a major version [1]:

  issue 12326: On Linux, sys.platform doesn't contain the major version
  anymore. It is now always 'linux', instead of 'linux2' or 'linux3'
  depending on the Linux version used to build Python. Replace
  sys.platform == 'linux2' with sys.platform.startswith('linux'), or
  directly sys.platform == 'linux' if you don't need to support older
  Python versions.

Since we only care about Python 3.6 or greater, we could simply check
for 'linux'. However, the libvirt driver isn't supported on non-Linux
hosts so this was always a dumb check. Simply remove it instead.

[1] https://docs.python.org/3.3/whatsnew/3.3.html#porting-python-code

Change-Id: I207a6c8c8cf562477792c69e353ba99b3ec4cb5e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1882233
(cherry picked from commit e567adf7f6f27f51cda3cd3422df462148f27b90)
(cherry picked from commit ecd218b1a4408708156e6adb00e05f345dfbce36)
"
openstack%2Fnova~stable%2Frocky~Ifd8b249de3e8f96fa13db252f0abe2b1bd950de0,openstack/nova,stable/rocky,bug/1867075,Ifd8b249de3e8f96fa13db252f0abe2b1bd950de0,fix scsi disk unit number of the attaching volume when cdrom bus is scsi,MERGED,2020-05-22 12:36:54.000000000,2020-07-20 12:28:06.000000000,2020-07-20 12:28:05.000000000,51,5,0,730312,3b2c6ccf261ddb810473954559fa1dd1454e9f09,73,10,5,2,11604,sean mooney,sean-k-mooney,"fix scsi disk unit number of the attaching volume when cdrom bus is scsi

From Image Meta Properties: hw_cdrom_bus=scsi, and use virtio-scsi mode,
it will also need a disk address for it. So we need to calculate the
disk address when call the function to get the next unit of scsi controller.

Closes-Bug: #1867075
Change-Id: Ifd8b249de3e8f96fa13db252f0abe2b1bd950de0
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
(cherry picked from commit c8d6767cf8baaf3cc81496c83db10c8ae72fce06)
(cherry picked from commit 11b2b7f0b3a8c09216cd8ebfea8b4cd059605290)
(cherry picked from commit 86328d11468af66d95587b53ce28f65ed92c46d7)
"
openstack%2Fnova~stable%2Fpike~I4c3fbb213e023ac16efc0b8561f975a659311684,openstack/nova,stable/pike,bug/1862633,I4c3fbb213e023ac16efc0b8561f975a659311684,Clean up allocation if unshelve fails due to neutron,MERGED,2020-07-13 08:40:53.000000000,2020-07-20 12:28:01.000000000,2020-07-20 12:28:01.000000000,9,11,0,740636,89312275607ea21e1c35a393ad1b00fe5591e30a,29,6,4,2,9708,Balazs Gibizer,gibi,"Clean up allocation if unshelve fails due to neutron

When port binding update fails during unshelve of a shelve offloaded
instance compute manager has to catch the exception and clean up the
destination host allocation.

Change-Id: I4c3fbb213e023ac16efc0b8561f975a659311684
Closes-Bug: #1862633
(cherry picked from commit e65d4a131a7ebc02261f5df69fa1b394a502f268)
(cherry picked from commit e6b749dbdd735e2cd0054654b5da7a02280a080b)
(cherry picked from commit 405a35587a2291e3cf9eb4efc8f102c91bb4ef76)
(cherry picked from commit aeeab5d064492e112cd626a2988a6808250fb029)
(cherry picked from commit 9a073c9edc993525e896f67eeda1639a248fe2df)
"
openstack%2Ftripleo-docs~master~I995167f00df5ccd9dfa2fd633714eab9769ebfd4,openstack/tripleo-docs,master,I995167f00df5ccd9dfa2fd633714eab9769ebfd4,I995167f00df5ccd9dfa2fd633714eab9769ebfd4,Add good use cases for manually running config-download playbooks.,MERGED,2020-03-20 19:19:27.000000000,2020-07-20 12:20:37.000000000,2020-07-20 12:19:11.000000000,25,0,0,714196,e60d972b96be68fe080a643a548d7f97f78da771,23,4,4,1,25877,Luke Short,ekultails,"Add good use cases for manually running config-download playbooks.

This was created based on the feedback from the community.
Real world use cases are explained for config-download and
also what advantages it brings.

Change-Id: I995167f00df5ccd9dfa2fd633714eab9769ebfd4
Signed-off-by: Luke Short <ekultails@gmail.com>
"
openstack%2Ftripleo-quickstart-extras~master~I5d3daac3fdb391fec58cf8283910e92819785898,openstack/tripleo-quickstart-extras,master,,I5d3daac3fdb391fec58cf8283910e92819785898,Add reproducer_build_vmnodes to control build VMs,ABANDONED,2020-07-14 13:25:32.000000000,2020-07-20 11:56:16.000000000,,4,1,1,740957,928e76cada4bc4e4326e2e9114c9ea84c3b25c8b,6,7,2,3,6926,Bogdan Dobrelya,bogdando,"Add reproducer_build_vmnodes to control build VMs

When reproducer is in libvirt mode, and user wants only to reconfigure
Zuul and relaunch the CI job under reproducing, allow omitting
libvirt preparations of VM nodes for nodepool.

Change-Id: I5d3daac3fdb391fec58cf8283910e92819785898
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fkayobe~master~I7f757098211745671ec891fdd4e0b52dc1fe7602,openstack/kayobe,master,,I7f757098211745671ec891fdd4e0b52dc1fe7602,Add py38 package metadata,MERGED,2020-07-15 09:32:55.000000000,2020-07-20 11:12:05.000000000,2020-07-20 11:10:49.000000000,1,0,0,741129,5e0ad3ad919ab82486f012cba20a1176ee336d3e,9,4,1,1,26285,wu.chunyang,wu.chunyang,"Add py38 package metadata

Change-Id: I7f757098211745671ec891fdd4e0b52dc1fe7602
"
openstack%2Fheat~master~If6f431b71cc595330428e1eeab5ca9c47f28dbc8,openstack/heat,master,,If6f431b71cc595330428e1eeab5ca9c47f28dbc8,[DNM] Test with stevedore latest,ABANDONED,2020-07-20 07:08:40.000000000,2020-07-20 11:05:39.000000000,,1,24,0,741881,e767238bb9914c9b70ec5e39ad8bc3ebbf10c6c3,2,0,1,1,13861,yatin,yatinkarel,"[DNM] Test with stevedore latest

Change-Id: If6f431b71cc595330428e1eeab5ca9c47f28dbc8
"
openstack%2Fcharm-interface-openstack-ha~master~Ia10e1454791d92b9ca6233425b4a6ea89642def0,openstack/charm-interface-openstack-ha,master,bug/1849901,Ia10e1454791d92b9ca6233425b4a6ea89642def0,Make peer discover more defensive,MERGED,2020-07-20 07:24:15.000000000,2020-07-20 10:59:53.000000000,2020-07-20 10:59:53.000000000,3,1,2,741882,75286e5117874e242ceb8af1a468772769c836c8,8,3,1,1,935,James Page,james-page,"Make peer discover more defensive

Before adding a (unit-name, address) tuple to the list of peers
for a particular address type, ensure that the unit has actually
presented data for the requested address type.

This avoids 'None' values being written to the haproxy configuration
files during initial deployment and scale back of units.

Change-Id: Ia10e1454791d92b9ca6233425b4a6ea89642def0
Closes-Bug: 1849901
"
openstack%2Fneutron~master~I0b80d4595f241479077a762ccc6cd2de39c45592,openstack/neutron,master,gate-stevedore,I0b80d4595f241479077a762ccc6cd2de39c45592,DO NOT REVIEW: Test gate fix,ABANDONED,2020-07-20 10:13:00.000000000,2020-07-20 10:57:11.000000000,,1,1,0,741910,e5c43641bd8fec42c52edddbadc68781a5ed6674,2,0,1,1,6773,Lucas Alvares Gomes,lucasagomes,"DO NOT REVIEW: Test gate fix

Change-Id: I0b80d4595f241479077a762ccc6cd2de39c45592
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fcharm-vault~master~I85f8fe1ecf42a95ecb6d5d72e4dbd5c32677a863,openstack/charm-vault,master,feature/mysql-for-ha,I85f8fe1ecf42a95ecb6d5d72e4dbd5c32677a863,Support MySQL as a HA lock store from v0.11.0,ABANDONED,2019-10-21 12:08:21.000000000,2020-07-20 10:38:24.000000000,,113,15,0,689727,4bd7d08e8c37153d44ef49e9c6442e0e76fae1dc,5,3,1,7,12549,gnuoy,gnuoy,"Support MySQL as a HA lock store from v0.11.0

From version 0.11.0 Vault supports using MySQL as the backend for
its HA locking mechanism *1. This removes the need for etcd &
easyrsa.

This change configures vault to continue to use etcd if the relation
is present. Otherwise use MySQL is the Vault version supports it and
a MySQL relation exits.

*1 https://github.com/hashicorp/vault/blob/master/CHANGELOG.md#0110-august-28th-2018

Change-Id: I85f8fe1ecf42a95ecb6d5d72e4dbd5c32677a863
"
openstack%2Fcharm-keystone~master~I7dec0e854f3938ec213f8063c064a584c3528a49,openstack/charm-keystone,master,bug/1878228,I7dec0e854f3938ec213f8063c064a584c3528a49,Rename default domain and member role,ABANDONED,2020-05-15 11:15:11.000000000,2020-07-20 10:38:00.000000000,,72,5,1,728420,2f77bbeea4cd673f90b4b95fee2d6b6e21f0f6f0,18,4,3,4,12549,gnuoy,gnuoy,"Rename default domain and member role

The keystone-manage bootstrap process creates a member role named
`member` and default domain named `Default`. Unfortunatly this is
inconsistent with previous charm deploys meaning this breaks existing
tools and tests that rely on the previous names. This patch performs
a rename after bootstrap to restore the previous behaviour.

Closes-Bug: #1878228
Change-Id: I7dec0e854f3938ec213f8063c064a584c3528a49
"
openstack%2Ftenks~master~I6553fb63742df907059e21b893d7d8f5d4292e85,openstack/tenks,master,tox-m-pip,I6553fb63742df907059e21b893d7d8f5d4292e85,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:37:12.000000000,2020-07-20 10:36:48.000000000,2020-07-20 10:35:28.000000000,1,1,0,741194,d17101a437722ed994462737ed699d067ae34f15,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I6553fb63742df907059e21b893d7d8f5d4292e85
"
openstack%2Fkolla-ansible~master~I6a174468bd91d214c08477b93c88032a45c137be,openstack/kolla-ansible,master,bug/1886615,I6a174468bd91d214c08477b93c88032a45c137be,Fix Barbican client (Castellan) with TLS,MERGED,2020-07-06 08:44:26.000000000,2020-07-20 10:17:36.000000000,2020-07-14 08:57:53.000000000,16,1,6,739429,0e9a81fdca4e94048b731bc4c79da8b397437365,44,9,8,4,27594,Jie Li,ramboman,"Fix Barbican client (Castellan) with TLS

The Castellan (Barbican client) has different parameters to control
the used CA file.
This patch uses them.
Moreover, this aligns Barbican with other services by defaulting
its client config to the internal endpoint.

See also [1].

[1] https://bugs.launchpad.net/castellan/+bug/1876102

Closes-Bug: #1886615

Change-Id: I6a174468bd91d214c08477b93c88032a45c137be
"
openstack%2Fkolla-ansible~master~Iabad035d583d291169f23be3d71931cb260e87ae,openstack/kolla-ansible,master,,Iabad035d583d291169f23be3d71931cb260e87ae,CI: add prometheus-efk scenario,MERGED,2020-07-08 18:32:35.000000000,2020-07-20 10:12:03.000000000,2020-07-14 08:56:05.000000000,198,1,0,740083,f44876c406fcb7edf28e1d2f9ee894a220c362bc,31,3,10,7,14826,Mark Goddard,mgoddard,"CI: add prometheus-efk scenario

Tests prometheus, grafana, and centralised logging.

The tests could be improved in future by querying logs in elasticsearch,
and metrics in prometheus.

Change-Id: Iabad035d583d291169f23be3d71931cb260e87ae
"
openstack%2Freleases~master~I9d6621f45ce50159dbbf635020d006e6dc284b68,openstack/releases,master,stein-stable,I9d6621f45ce50159dbbf635020d006e6dc284b68,Release cinder for stable/stein,MERGED,2020-07-17 22:05:36.000000000,2020-07-20 10:11:34.000000000,2020-07-20 10:11:34.000000000,4,0,0,741732,effef66073a03515be44a7ef33ce2bf80bcbdbf1,8,4,1,1,11904,Sean McGinnis,SeanM,"Release cinder for stable/stein

This release picks up new commits to cinder since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I9d6621f45ce50159dbbf635020d006e6dc284b68
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~Ie15ce623c4cd0030d7b1efccbc5635d88964233a,openstack/releases,master,stein-stable,Ie15ce623c4cd0030d7b1efccbc5635d88964233a,Release neutron-lbaas-dashboard for stable/stein,MERGED,2020-07-17 22:19:04.000000000,2020-07-20 10:11:33.000000000,2020-07-20 10:11:33.000000000,4,0,0,741757,0f732813d714720f49387caadf60a94dd2ab4191,9,5,1,1,11904,Sean McGinnis,SeanM,"Release neutron-lbaas-dashboard for stable/stein

This release picks up new commits to neutron-lbaas-dashboard since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Ie15ce623c4cd0030d7b1efccbc5635d88964233a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fbifrost~master~Ie1198768889bd468176cd68c8ccb48791c724262,openstack/bifrost,master,cleaning,Ie1198768889bd468176cd68c8ccb48791c724262,Enable metadata cleaning by default,MERGED,2020-07-17 13:44:00.000000000,2020-07-20 10:10:27.000000000,2020-07-20 10:08:45.000000000,42,18,0,741638,d5b49bd498a2b1df683ec5b95d7747f7e7d37755,10,3,2,11,10239,Dmitry Tantsur,dtantsur,"Enable metadata cleaning by default

We used to disable cleaning because only full disk cleaning was
available. Enable metadata cleaning by default and add an option
to enable full cleaning.

Change-Id: Ie1198768889bd468176cd68c8ccb48791c724262
"
openstack%2Freleases~master~I290f47ab3280de55f8d42c653361bf0221a24e39,openstack/releases,master,stein-stable,I290f47ab3280de55f8d42c653361bf0221a24e39,Release ironic for stable/stein,MERGED,2020-07-17 22:10:23.000000000,2020-07-20 10:06:16.000000000,2020-07-20 10:06:16.000000000,4,0,0,741740,4a3d6f3888a322fc1620c786a7e790dec07bb72c,11,6,1,1,11904,Sean McGinnis,SeanM,"Release ironic for stable/stein

This release picks up new commits to ironic since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I290f47ab3280de55f8d42c653361bf0221a24e39
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~Ief2e28d88f6bae6af08930310f062e58616b83c9,openstack/releases,master,stein-stable,Ief2e28d88f6bae6af08930310f062e58616b83c9,Release python-octaviaclient for stable/stein,MERGED,2020-07-17 22:30:59.000000000,2020-07-20 10:06:15.000000000,2020-07-20 10:06:15.000000000,4,0,0,741767,bed3eaed9e562cd4f30c53fddbf128e073dd22eb,10,6,1,1,11904,Sean McGinnis,SeanM,"Release python-octaviaclient for stable/stein

This release picks up new commits to python-octaviaclient since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Ief2e28d88f6bae6af08930310f062e58616b83c9
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fbifrost~master~I980d91302e58c086210cbcdb1e51dfcd05ec1722,openstack/bifrost,master,skip-install,I980d91302e58c086210cbcdb1e51dfcd05ec1722,Make skip_install a normal boolean variable,MERGED,2020-07-17 12:27:50.000000000,2020-07-20 09:56:00.000000000,2020-07-20 09:53:54.000000000,27,13,0,741627,fc2b247f64a9a1aca9750903745377d2a53c0f82,8,3,1,12,10239,Dmitry Tantsur,dtantsur,"Make skip_install a normal boolean variable

Currently we skip installation if it's set to any value, even false.

Change-Id: I980d91302e58c086210cbcdb1e51dfcd05ec1722
"
openstack%2Freleases~master~I4d5478167b593783d8a2c10d0e125192020a2874,openstack/releases,master,stein-stable,I4d5478167b593783d8a2c10d0e125192020a2874,Release kuryr-kubernetes for stable/stein,MERGED,2020-07-17 22:12:00.000000000,2020-07-20 09:55:18.000000000,2020-07-20 09:55:18.000000000,4,0,0,741743,b012693aab682cde61cc94c81c0478bd77afc335,9,4,1,1,11904,Sean McGinnis,SeanM,"Release kuryr-kubernetes for stable/stein

This release picks up new commits to kuryr-kubernetes since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I4d5478167b593783d8a2c10d0e125192020a2874
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I609ce0eef42489c7f01313bbd88a2d2691a58d48,openstack/releases,master,stein-stable,I609ce0eef42489c7f01313bbd88a2d2691a58d48,Release octavia for stable/stein,MERGED,2020-07-17 22:25:44.000000000,2020-07-20 09:55:17.000000000,2020-07-20 09:55:17.000000000,4,0,0,741762,7b0e02e48be9b51326b19d14662075f3dc0a0877,9,5,1,1,11904,Sean McGinnis,SeanM,"Release octavia for stable/stein

This release picks up new commits to octavia since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I609ce0eef42489c7f01313bbd88a2d2691a58d48
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I3999d0f407e5cb27e7da1c2edbc6ed79f379625d,openstack/releases,master,stein-stable,I3999d0f407e5cb27e7da1c2edbc6ed79f379625d,Release kuryr-libnetwork for stable/stein,MERGED,2020-07-17 22:12:13.000000000,2020-07-20 09:55:00.000000000,2020-07-20 09:55:00.000000000,4,0,0,741744,4e83fbe388024b16f03cbc138e6f40f4e7c2e615,10,5,1,1,11904,Sean McGinnis,SeanM,"Release kuryr-libnetwork for stable/stein

This release picks up new commits to kuryr-libnetwork since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I3999d0f407e5cb27e7da1c2edbc6ed79f379625d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I56cb654facc920dd7393cd385f874462bedba966,openstack/releases,master,stein-stable,I56cb654facc920dd7393cd385f874462bedba966,Release solum for stable/stein,MERGED,2020-07-17 22:34:06.000000000,2020-07-20 09:54:59.000000000,2020-07-20 09:54:59.000000000,4,0,0,741776,8f6726faaf6d8e38f089740290d9e181585781ef,10,5,1,1,11904,Sean McGinnis,SeanM,"Release solum for stable/stein

This release picks up new commits to solum since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I56cb654facc920dd7393cd385f874462bedba966
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I1d092f4eb08055a9ad511b23795956b16c1f5cbd,openstack/releases,master,stein-stable,I1d092f4eb08055a9ad511b23795956b16c1f5cbd,Release ironic-inspector for stable/stein,MERGED,2020-07-17 22:09:33.000000000,2020-07-20 09:53:45.000000000,2020-07-20 09:53:45.000000000,4,0,0,741738,763eac7de98d2abca9687dadc82810ba7ccb1e62,9,6,1,1,11904,Sean McGinnis,SeanM,"Release ironic-inspector for stable/stein

This release picks up new commits to ironic-inspector since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I1d092f4eb08055a9ad511b23795956b16c1f5cbd
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~Icc1e443942b324aa307c7cdd2166d48eddbe7731,openstack/releases,master,stein-stable,Icc1e443942b324aa307c7cdd2166d48eddbe7731,Release murano for stable/stein,MERGED,2020-07-17 22:17:22.000000000,2020-07-20 09:52:23.000000000,2020-07-20 09:52:23.000000000,4,0,0,741754,0661b073408418346b70aeae854d33a4a0e5b298,9,4,1,1,11904,Sean McGinnis,SeanM,"Release murano for stable/stein

This release picks up new commits to murano since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Icc1e443942b324aa307c7cdd2166d48eddbe7731
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I16261c301730cec9c5b77541bc0dfb8c8e8eb23b,openstack/releases,master,stein-stable,I16261c301730cec9c5b77541bc0dfb8c8e8eb23b,Release ironic-python-agent for stable/stein,MERGED,2020-07-17 22:09:50.000000000,2020-07-20 09:52:21.000000000,2020-07-20 09:52:21.000000000,4,0,0,741739,d775aa75680f065327824167038780d1a7674f63,9,6,1,1,11904,Sean McGinnis,SeanM,"Release ironic-python-agent for stable/stein

This release picks up new commits to ironic-python-agent since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I16261c301730cec9c5b77541bc0dfb8c8e8eb23b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I54cbedfbad37448858dba31a4ebb8783f8c15ee0,openstack/releases,master,stein-stable,I54cbedfbad37448858dba31a4ebb8783f8c15ee0,Release sahara-plugin-mapr for stable/stein,MERGED,2020-07-17 22:32:50.000000000,2020-07-20 09:51:15.000000000,2020-07-20 09:51:14.000000000,4,0,0,741772,22219927458b3b69021ce3514c6d6b6fc2f9b49d,11,6,1,1,11904,Sean McGinnis,SeanM,"Release sahara-plugin-mapr for stable/stein

This release picks up new commits to sahara-plugin-mapr since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I54cbedfbad37448858dba31a4ebb8783f8c15ee0
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~If746189cbc9c262d1bea495e96f2be0b23edc554,openstack/releases,master,stein-stable,If746189cbc9c262d1bea495e96f2be0b23edc554,Release vitrage for stable/stein,MERGED,2020-07-17 22:37:07.000000000,2020-07-20 09:48:29.000000000,2020-07-20 09:48:29.000000000,4,0,0,741780,e8bba83d65b51109c2d04fd2371e98e28bbc7adc,10,5,1,1,11904,Sean McGinnis,SeanM,"Release vitrage for stable/stein

This release picks up new commits to vitrage since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: If746189cbc9c262d1bea495e96f2be0b23edc554
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I342d4b219ef6505c2a462a84190df95254212676,openstack/releases,master,stein-stable,I342d4b219ef6505c2a462a84190df95254212676,Release sahara-dashboard for stable/stein,MERGED,2020-07-17 22:32:18.000000000,2020-07-20 09:45:25.000000000,2020-07-20 09:45:25.000000000,4,0,0,741769,49aa662a9eda3d43e22892fa141471ee3ebc46a8,11,6,1,1,11904,Sean McGinnis,SeanM,"Release sahara-dashboard for stable/stein

This release picks up new commits to sahara-dashboard since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I342d4b219ef6505c2a462a84190df95254212676
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I820ca8eb99ba4138f436dc3ec6544d5deb33e99d,openstack/releases,master,stein-stable,I820ca8eb99ba4138f436dc3ec6544d5deb33e99d,Release zun for stable/stein,MERGED,2020-07-17 22:38:59.000000000,2020-07-20 09:45:23.000000000,2020-07-20 09:45:23.000000000,4,0,0,741783,e0bbddc72a6fa059f0b3ae4b20750406a7b1d89c,10,7,1,1,11904,Sean McGinnis,SeanM,"Release zun for stable/stein

This release picks up new commits to zun since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I820ca8eb99ba4138f436dc3ec6544d5deb33e99d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I246d4ee7adfd9d47287367618fcb7ef6c02797ea,openstack/releases,master,stein-stable,I246d4ee7adfd9d47287367618fcb7ef6c02797ea,Release python-zunclient for stable/stein,MERGED,2020-07-17 22:31:48.000000000,2020-07-20 09:45:21.000000000,2020-07-20 09:45:21.000000000,4,0,0,741768,d18cd510e2e1dd27a93c1af3f1474f220816f6de,10,7,1,1,11904,Sean McGinnis,SeanM,"Release python-zunclient for stable/stein

This release picks up new commits to python-zunclient since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I246d4ee7adfd9d47287367618fcb7ef6c02797ea
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~Ib4cbfc3dc2273c29347d2fae5cfe67d7d518377b,openstack/releases,master,stein-stable,Ib4cbfc3dc2273c29347d2fae5cfe67d7d518377b,Release zaqar for stable/stein,MERGED,2020-07-17 22:38:38.000000000,2020-07-20 09:41:20.000000000,2020-07-20 09:41:20.000000000,4,0,0,741782,1a52fb703a4ed51cd4832aa0f8a5e80e8c1888b2,10,6,1,1,11904,Sean McGinnis,SeanM,"Release zaqar for stable/stein

This release picks up new commits to zaqar since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Ib4cbfc3dc2273c29347d2fae5cfe67d7d518377b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I59527381bc86a0819636246e5a38b3f4f38b3c99,openstack/releases,master,stein-stable,I59527381bc86a0819636246e5a38b3f4f38b3c99,Release ceilometer for stable/stein,MERGED,2020-07-17 22:04:28.000000000,2020-07-20 09:41:19.000000000,2020-07-20 09:41:19.000000000,4,0,0,741730,80e57784196e5ada77737496eebc6b4d302127ce,9,4,1,1,11904,Sean McGinnis,SeanM,"Release ceilometer for stable/stein

This release picks up new commits to ceilometer since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I59527381bc86a0819636246e5a38b3f4f38b3c99
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~Ie6ae287a8429ef6746daca90eb64d5e18918cb18,openstack/releases,master,stein-stable,Ie6ae287a8429ef6746daca90eb64d5e18918cb18,Release aodh for stable/stein,MERGED,2020-07-17 22:00:25.000000000,2020-07-20 09:41:17.000000000,2020-07-20 09:41:17.000000000,4,0,0,741725,ed18b54a299e18542415027a31a432e34dd22a30,9,4,1,1,11904,Sean McGinnis,SeanM,"Release aodh for stable/stein

This release picks up new commits to aodh since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Ie6ae287a8429ef6746daca90eb64d5e18918cb18
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I7d31a497c7b2832d7a8938af9c40362b85fa3def,openstack/releases,master,stein-stable,I7d31a497c7b2832d7a8938af9c40362b85fa3def,Release tacker for stable/stein,MERGED,2020-07-17 22:35:25.000000000,2020-07-20 09:41:16.000000000,2020-07-20 09:41:15.000000000,4,0,0,741779,e7904dd8bf966833015bb04a92c79b960715f92d,10,5,1,1,11904,Sean McGinnis,SeanM,"Release tacker for stable/stein

This release picks up new commits to tacker since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I7d31a497c7b2832d7a8938af9c40362b85fa3def
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~If8be3197a8485c5cbc0f137ecabdcfc7f84fe7e7,openstack/releases,master,stein-stable,If8be3197a8485c5cbc0f137ecabdcfc7f84fe7e7,Release tacker-horizon for stable/stein,MERGED,2020-07-17 22:34:58.000000000,2020-07-20 09:40:29.000000000,2020-07-20 09:40:29.000000000,4,0,0,741778,5d4785ac46f00489d92207d4fae1d291cd95a1e1,10,5,1,1,11904,Sean McGinnis,SeanM,"Release tacker-horizon for stable/stein

This release picks up new commits to tacker-horizon since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: If8be3197a8485c5cbc0f137ecabdcfc7f84fe7e7
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~If013d4d1ecec13d1b6d5c09e5f1888d4c60a91a8,openstack/releases,master,stein-stable,If013d4d1ecec13d1b6d5c09e5f1888d4c60a91a8,Release horizon for stable/stein,MERGED,2020-07-17 22:09:17.000000000,2020-07-20 09:40:28.000000000,2020-07-20 09:40:28.000000000,4,0,0,741737,234835125630bb13f022afe1d2926b6da0aaf93e,9,5,1,1,11904,Sean McGinnis,SeanM,"Release horizon for stable/stein

This release picks up new commits to horizon since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: If013d4d1ecec13d1b6d5c09e5f1888d4c60a91a8
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I2a97a8567511296ee019f464d72b2a3f9302fb34,openstack/releases,master,stein-stable,I2a97a8567511296ee019f464d72b2a3f9302fb34,Release manila for stable/stein,MERGED,2020-07-17 22:13:06.000000000,2020-07-20 09:40:26.000000000,2020-07-20 09:40:26.000000000,4,0,0,741747,609a671906c0f630d1c2796f942734e6aae59762,9,5,1,1,11904,Sean McGinnis,SeanM,"Release manila for stable/stein

This release picks up new commits to manila since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I2a97a8567511296ee019f464d72b2a3f9302fb34
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Foctavia~stable%2Fussuri~Ie71db27dc383c93496c1dfd69f486a4fd02b597e,openstack/octavia,stable/ussuri,bug/1877818,Ie71db27dc383c93496c1dfd69f486a4fd02b597e,add the verify for the session,MERGED,2020-06-29 08:55:07.000000000,2020-07-20 09:37:53.000000000,2020-07-20 09:36:15.000000000,8,1,0,738403,12e30394ad9332ad122a8590c4904e6ea8f48844,8,6,1,2,27594,Jie Li,ramboman,"add the verify for the session

We run the octavia scenario test failed when the OpenStack env
enable TLS. So we need add the verify for the session.

Story: 2007662
Task:  39754
Closes-Bug: #1877818
(cherry picked from commit f26ab8b97be7a478fdd391c9e31a5c1a86a2a3cf)

Change-Id: Ie71db27dc383c93496c1dfd69f486a4fd02b597e
"
openstack%2Foctavia-lib~master~Ie201f5b2574e5e11aeca9c08859977a1b8a3c1d8,openstack/octavia-lib,master,add-assert,Ie201f5b2574e5e11aeca9c08859977a1b8a3c1d8,Add missing assertIsInstance checks,MERGED,2020-06-25 18:53:52.000000000,2020-07-20 09:37:44.000000000,2020-07-20 09:36:16.000000000,2,0,0,738090,ec7195d713d71370fa6a72d3839253b9789b3b4e,15,4,2,1,1131,Brian Haley,brian-haley,"Add missing assertIsInstance checks

Two tests were missing assertIsInstance() checks, this
makes them like the tests above and below them.

Change-Id: Ie201f5b2574e5e11aeca9c08859977a1b8a3c1d8
"
openstack%2Ftempest~master~I0112182811ce8fa573e66f52cc20a597764a3634,openstack/tempest,master,fix412,I0112182811ce8fa573e66f52cc20a597764a3634,Change the post url according to the api reference,ABANDONED,2020-04-13 09:33:25.000000000,2020-07-20 09:32:03.000000000,,0,0,0,719426,bad6522bb0ccb5d715132394e291aadd0e121d41,17,5,3,0,30643,wanglbj,wanglbj,"Change the post url according to the api reference

change the volume manage url according to api reference https://docs.openstack.org/api-ref/block-storage/v3/index.html#manage-an-existing-volume

Change-Id: I0112182811ce8fa573e66f52cc20a597764a3634
"
openstack%2Freleases~master~Id80a49cc7854002bb4bc66ed077edd68960ef6be,openstack/releases,master,stein-stable,Id80a49cc7854002bb4bc66ed077edd68960ef6be,Release blazar for stable/stein,MERGED,2020-07-17 22:03:32.000000000,2020-07-20 09:29:56.000000000,2020-07-20 09:29:56.000000000,4,0,0,741729,aa77df6ebab77d02cbabfd7ab61ee39f63b6454d,9,4,1,1,11904,Sean McGinnis,SeanM,"Release blazar for stable/stein

This release picks up new commits to blazar since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Id80a49cc7854002bb4bc66ed077edd68960ef6be
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~Ifdd08c9f3457470c6fc0a142c10982bcbfb0450e,openstack/releases,master,oslo-stein-07-17,Ifdd08c9f3457470c6fc0a142c10982bcbfb0450e,Release oslo's project for stein - 2020-07-17,MERGED,2020-07-17 10:37:03.000000000,2020-07-20 09:23:56.000000000,2020-07-20 09:23:56.000000000,8,0,0,741613,a6e3787bc9c1ce7fef09c7170523873e3cd7a4fc,8,4,1,2,28522,Herv Beraud,hberaud,"Release oslo's project for stein - 2020-07-17

Release a bugfix version for Castellan even if a feature have been added
because the right minor version is already in use in train.

Change-Id: Ifdd08c9f3457470c6fc0a142c10982bcbfb0450e
"
openstack%2Freleases~master~Ie4f1057048bfdc55c1c403654da8831461199468,openstack/releases,master,oslo-train-07-17,Ie4f1057048bfdc55c1c403654da8831461199468,Release oslo's project for train - 2020-07-17,MERGED,2020-07-17 10:41:26.000000000,2020-07-20 09:23:55.000000000,2020-07-20 09:23:54.000000000,8,0,1,741614,c5141a905ac66caec172f2a01277287e17013264,8,4,1,2,28522,Herv Beraud,hberaud,"Release oslo's project for train - 2020-07-17

Castellan ought to be a minor version, but this one is already in use in
ussuri.

Change-Id: Ie4f1057048bfdc55c1c403654da8831461199468
"
openstack%2Fopenstack-ansible-repo_server~stable%2Ftrain~I0c56df1d184553a6128c9645811e7ed6950e893b,openstack/openstack-ansible-repo_server,stable/train,train/fix-lsyncd-template-quote,I0c56df1d184553a6128c9645811e7ed6950e893b,add missing quote to lsyncd.lua template,MERGED,2020-05-29 14:47:32.000000000,2020-07-20 09:15:45.000000000,2020-05-31 18:35:28.000000000,1,1,0,731779,d8c48fe420b83a79595259c91ab31d807ea64c53,9,3,1,1,14288,Matthew Thode,prometheanfire,"add missing quote to lsyncd.lua template

Change-Id: I0c56df1d184553a6128c9645811e7ed6950e893b
(cherry picked from commit 220a48107111e7fc33d6342cf71bb8f93d18a523)
"
openstack%2Fcharm-cinder-purestorage~master~I65d31b439c83ef6dea0f1b0f333101918b228592,openstack/charm-cinder-purestorage,master,victoria-charm-tests,I65d31b439c83ef6dea0f1b0f333101918b228592,Add Victoria test bundles,MERGED,2020-07-17 11:32:29.000000000,2020-07-20 08:50:14.000000000,2020-07-20 08:50:14.000000000,166,0,0,741620,e273d8334aa17442187e92f4d9dc5f583eabb471,7,3,1,3,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: I65d31b439c83ef6dea0f1b0f333101918b228592
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I725f6a6caa7e91949ab23c0cbd04fd6d1d992eb3,openstack/tripleo-upgrade,stable/train,sriov_workload-stable/train,I725f6a6caa7e91949ab23c0cbd04fd6d1d992eb3,Workload during updates can be launched with SRIOV ports,ABANDONED,2020-07-20 08:35:07.000000000,2020-07-20 08:38:26.000000000,,295,177,0,741889,0df27d3f4b7f9ce6f876df7065c8b337155b2b1f,3,0,1,9,31291,Eduardo Olivares,eolivare,"Workload during updates can be launched with SRIOV ports

When upgrade-workloadsriov is set, workload is generated with an SRIOV
PF port on the existing external network
A mechanism has been added to remove workload previously created after
update/upgrade is completed, when upgrade-workloadcleanup is set

Change-Id: I725f6a6caa7e91949ab23c0cbd04fd6d1d992eb3
"
openstack%2Fbifrost~master~I588fe1cb625683efa6c1e4f21b6c84a098230954,openstack/bifrost,master,git-url-root,I588fe1cb625683efa6c1e4f21b6c84a098230954,Add git_url_root to override root for all repositories at once,MERGED,2020-07-09 10:24:04.000000000,2020-07-20 08:24:38.000000000,2020-07-20 08:23:00.000000000,30,30,0,740224,9e9249c5cb815ec8089ab13571c270dadc62aaa6,8,3,1,6,10239,Dmitry Tantsur,dtantsur,"Add git_url_root to override root for all repositories at once

Change-Id: I588fe1cb625683efa6c1e4f21b6c84a098230954
"
openstack%2Fcharm-ceilometer~master~I004bff0706362f893f2f69b07568be1034dbf574,openstack/charm-ceilometer,master,decode-cert,I004bff0706362f893f2f69b07568be1034dbf574,Set the b64 encoded cert as a string,MERGED,2020-05-26 14:52:20.000000000,2020-07-20 08:24:11.000000000,2020-05-27 07:05:28.000000000,13,6,0,730840,7ad2d31417fa1836ca66195e57ade417d9de9cd3,8,3,1,2,12549,gnuoy,gnuoy,"Set the b64 encoded cert as a string

Sending a byte string to relation-set can result in the data
being sent being prefixed with a ""b'"". In this case it corrupts
the b64encoding and the receiving charm (ceilometer-agent) cannot
b64decode the data.

Change-Id: I004bff0706362f893f2f69b07568be1034dbf574
"
openstack%2Fbifrost~master~Idfdfe2087b020cd8069d1088991e088873783825,openstack/bifrost,master,ci-testing,Idfdfe2087b020cd8069d1088991e088873783825,Get rid of ci_testing variable in roles,MERGED,2020-07-09 10:15:27.000000000,2020-07-20 08:04:37.000000000,2020-07-20 08:03:04.000000000,22,27,0,740217,ab69cca0cea475a4caa0351af3ad65e2ee226368,8,3,1,9,10239,Dmitry Tantsur,dtantsur,"Get rid of ci_testing variable in roles

The roles should not change their behavior based on the presence of Zuul.
Use the existing copy_from_local_path variable to copy pre-cached
repositories. Also get rid of the redundant ci_testing_zuul.

Change-Id: Idfdfe2087b020cd8069d1088991e088873783825
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~Ibb80b8b0f4075c00ceb306bcf54bb87df58165af,openstack/puppet-tripleo,stable/ussuri,bug/1887830,Ibb80b8b0f4075c00ceb306bcf54bb87df58165af,Use relative names to include classes,ABANDONED,2020-07-16 17:20:21.000000000,2020-07-20 07:05:31.000000000,,25,25,0,741501,6b6f5d909d5b52794c3cf54c40f26b522b24e01c,12,5,1,17,20778,Damien Ciabrini,dciabrin,"Use relative names to include classes

... to avoid lint errors by relative_classname_inclusion, which was
re-enabled recently[1].

[1] https://review.opendev.org/#/c/740023/

Closes-Bug: #1887830
Change-Id: Ibb80b8b0f4075c00ceb306bcf54bb87df58165af
(cherry picked from commit 07e0aca2424a76fa95b4121967e5c0bf777301d0)
"
openstack%2Frequirements~master~I4ea56522632846b574e4f66926fdf83932e3de1f,openstack/requirements,master,openstack/requirements/constraints,I4ea56522632846b574e4f66926fdf83932e3de1f,Updated from generate-constraints,ABANDONED,2020-07-20 06:26:48.000000000,2020-07-20 06:41:44.000000000,,6,5,0,741878,5b51095584cf2f5420ba83235e3264e34b86732c,2,0,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I4ea56522632846b574e4f66926fdf83932e3de1f
"
openstack%2Fdevstack~master~Ifa366888605a43f708a08fd961020a161ae46c1a,openstack/devstack,master,debug,Ifa366888605a43f708a08fd961020a161ae46c1a,dnm: debug,ABANDONED,2020-07-15 04:23:37.000000000,2020-07-20 06:40:46.000000000,,13,65,0,741082,76d7d7c90c3979c72404fddd31ee884c8bfdb1ec,7,2,3,3,16643,Goutham Pacha Ravi,gouthamr,"dnm: debug

Change-Id: Ifa366888605a43f708a08fd961020a161ae46c1a
"
openstack%2Ftripleo-quickstart~master~I7b0ca347444317c91a94bf5410d244bf0cf000b1,openstack/tripleo-quickstart,master,podman164testing,I7b0ca347444317c91a94bf5410d244bf0cf000b1,[DNM] podman testing 164,ABANDONED,2020-07-15 08:28:33.000000000,2020-07-20 06:19:42.000000000,,6,0,0,741113,ad5fec7d34095c1d26c7d33699bb3fd0e0db62ca,4,2,1,3,12393,chandan kumar,chkumar246,"[DNM] podman testing 164

Change-Id: I7b0ca347444317c91a94bf5410d244bf0cf000b1
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fcinder~master~I88c5afacff5f1f780c2dc850e3af417b1b081592,openstack/cinder,master,fix-unique-fqdn,I88c5afacff5f1f780c2dc850e3af417b1b081592,Kaminario: Fix unique_fqdn_network option,MERGED,2020-07-02 12:41:19.000000000,2020-07-20 05:31:56.000000000,2020-07-16 04:54:26.000000000,67,49,1,739033,53504f82a53146151935e6aac301a41e2b387623,112,32,2,9,9535,Gorka Eguileor,Gorka,"Kaminario: Fix unique_fqdn_network option

The Kaminario driver used to accept the unique_fqdn_network
configuration option in the specific driver section, but when we moved
this option to be an option also used by 3PAR we introduced a regression
where the parameter was now only used if it was defined in the shared
configuration group.

This patch fixes this and makes it possible for the option to be defined
in the shared configuration group as well as the driver specific
section.

Closes-Bug: #1886042
Change-Id: I88c5afacff5f1f780c2dc850e3af417b1b081592
"
openstack%2Fdevstack~master~I49f5de06bdf8a6e17abe7305c0fa5733c9c12512,openstack/devstack,master,,I49f5de06bdf8a6e17abe7305c0fa5733c9c12512,add no check certificate when wget files,ABANDONED,2020-07-17 08:12:07.000000000,2020-07-20 05:30:30.000000000,,1,1,0,741598,89a3ffb9bd3a8edf0529321ba32b830c2c6f5563,6,3,1,1,22076,Kevin Zhao,KevinZhao,"add no check certificate when wget files

Change-Id: I49f5de06bdf8a6e17abe7305c0fa5733c9c12512
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
"
openstack%2Fopenstack-helm-infra~master~If0f132a6bf004cb76f0acee047832c250571004f,openstack/openstack-helm-infra,master,,If0f132a6bf004cb76f0acee047832c250571004f,[test],ABANDONED,2020-07-19 04:33:57.000000000,2020-07-19 21:34:40.000000000,,15,11,0,741833,f7e9d2d4fe5a172c8f5b530cfcb1460f53b36a84,5,1,2,1,8863,Andrii Ostapenko,aostapenko,"[test]

Change-Id: If0f132a6bf004cb76f0acee047832c250571004f
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Fironic~master~I0cd08e527763f0626fd1e43cc3b87163a4b0d018,openstack/ironic,master,,I0cd08e527763f0626fd1e43cc3b87163a4b0d018,Auto extend the timeout for RAX hosts,MERGED,2020-07-17 23:19:26.000000000,2020-07-19 21:20:28.000000000,2020-07-19 16:47:22.000000000,11,0,4,741791,3750ba62dff13c82392ac3667325d42b5c8d2fe2,16,6,1,1,11655,Julia Kreger,jkreger,"Auto extend the timeout for RAX hosts

Rax hosts uses qemu software emulated VMs without leveraging the
magic with-in the processors to help ensure speedy execution.

As such, they can be substantially slower in some operations, such
decompressing ramdisks. This adds an unpredictable element into our
CI and causes job failures when they should ahve succeeded, which
causes more rechecks, which consumes more resources... and the cycle
continues.

So instead, we'll extend the timeout a little, to hopefully give the
job time to complete without causing failures.

Change-Id: I0cd08e527763f0626fd1e43cc3b87163a4b0d018
"
openstack%2Fcinder~master~I88f6fb78235a40529647baf1e7564c08d8fb85f2,openstack/cinder,master,validation_race_retype_sg_resume,I88f6fb78235a40529647baf1e7564c08d8fb85f2,PowerMax Driver - Volume Migrate Exception Handling,MERGED,2020-05-28 09:29:50.000000000,2020-07-19 21:18:33.000000000,2020-07-16 18:38:35.000000000,842,226,6,731479,16373bfb47940582b598e68755d31410f41cda07,228,39,7,4,30165,Simon O'Donovan,odonos12,"PowerMax Driver - Volume Migrate Exception Handling

Add additional exception handling to _migrate_volume
and its related methods to attempt to rollback to
previous state if an exception is raised.
Also change exception message type when handling REST
request that times out when no failover settings
are present.

Change-Id: I88f6fb78235a40529647baf1e7564c08d8fb85f2
Closes-Bug: 1886662
Closes-Bug: 1874187
"
openstack%2Ftripleo-quickstart~master~I86a6fcc7ce8b22ac02ad7cc6f4e23ce0e1534bcb,openstack/tripleo-quickstart,master,696306,I86a6fcc7ce8b22ac02ad7cc6f4e23ce0e1534bcb,Allow custom passwords for zuul subnodes in repro,MERGED,2019-11-27 13:43:55.000000000,2020-07-19 20:41:59.000000000,2020-07-19 20:40:48.000000000,21,14,11,696306,dd6790616118d9cc7c4aa5b50137f3dc870a4b47,40,9,8,1,6926,Bogdan Dobrelya,bogdando,"Allow custom passwords for zuul subnodes in repro

CI reproducer only uses random passwords deleted after set up.
Allow using custom passwords defined via modify_image_vc_root_password

Change-Id: I86a6fcc7ce8b22ac02ad7cc6f4e23ce0e1534bcb
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fansible-role-collect-logs~master~Ieb359ea273c607e28a54ddae9b2a625e9a5842f8,openstack/ansible-role-collect-logs,master,,Ieb359ea273c607e28a54ddae9b2a625e9a5842f8,Add another introspection pattern to sova,MERGED,2020-07-19 15:00:13.000000000,2020-07-19 20:40:51.000000000,2020-07-19 20:40:51.000000000,5,0,0,741845,d18bd2d56c1fbc2e640ab1fc256244253c127810,6,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add another introspection pattern to sova

Change-Id: Ieb359ea273c607e28a54ddae9b2a625e9a5842f8
"
openstack%2Fansible-role-collect-logs~master~I9644d6cc3dfdd671741cf62556443c36dbdd8460,openstack/ansible-role-collect-logs,master,,I9644d6cc3dfdd671741cf62556443c36dbdd8460,Add pattern to prividing node failure,MERGED,2020-07-19 14:57:43.000000000,2020-07-19 20:40:50.000000000,2020-07-19 20:40:50.000000000,5,0,0,741844,29f4684177b465422439a10296dbd52ef65b7f5c,6,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add pattern to prividing node failure

Change-Id: I9644d6cc3dfdd671741cf62556443c36dbdd8460
"
openstack%2Fansible-role-collect-logs~master~I3533775a107ed5eb497cde1fd60c5572dfaf2a42,openstack/ansible-role-collect-logs,master,,I3533775a107ed5eb497cde1fd60c5572dfaf2a42,Add pattern to not manageable nodes,MERGED,2020-07-19 14:54:36.000000000,2020-07-19 20:40:49.000000000,2020-07-19 20:40:49.000000000,5,0,0,741843,e248a443f2cce28e9d79e62a3e35bfb66120ea42,6,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add pattern to not manageable nodes

Change-Id: I3533775a107ed5eb497cde1fd60c5572dfaf2a42
"
openstack%2Ftripleo-quickstart~master~I4c24e19dc3853f71d6e5f842d5441393cf50e583,openstack/tripleo-quickstart,master,bug/1887637,I4c24e19dc3853f71d6e5f842d5441393cf50e583,Set dlrn_baseurl default based on distro,MERGED,2020-07-17 07:50:58.000000000,2020-07-19 20:29:30.000000000,2020-07-19 20:28:33.000000000,1,1,0,741593,0571ff7f5516d59891cc208d88e8bf46905a301f,15,6,1,1,13861,yatin,yatinkarel,"Set dlrn_baseurl default based on distro

master release is centos8 only since ussuri
release, so set dlrn_baseurl based on
distribution version instead of 7.

Related-Bug: #1887637
Change-Id: I4c24e19dc3853f71d6e5f842d5441393cf50e583
"
openstack%2Foctavia~stable%2Ftrain~I64172d6995959cf377364584ad9a2395f9ec0605,openstack/octavia,stable/train,failover-refactor,I64172d6995959cf377364584ad9a2395f9ec0605,Fix missing params in amphora base and noop driver,MERGED,2020-07-14 06:27:23.000000000,2020-07-19 19:50:12.000000000,2020-07-19 19:47:51.000000000,24,12,0,740892,dc47caa1a27e0c7876637715d62f2520d27f7ec7,18,4,1,2,6469,Carlos Gonalves,cgoncalves,"Fix missing params in amphora base and noop driver

Running amphora failover against the amphora noop driver was raising a
TypeError (reload() takes from 2 to 3 positional arguments but 4 were
given).

Change-Id: I64172d6995959cf377364584ad9a2395f9ec0605
(cherry picked from commit 41c628a084002017d2003926cf0e25ba3ffeee0c)
(cherry picked from commit 176791e675141b37ddf139a9d9f2ae6bb814fa20)
"
openstack%2Foctavia~stable%2Ftrain~I2328b3dc4d5b95c8771a305d3d4bb1dee6019117,openstack/octavia,stable/train,failover-refactor,I2328b3dc4d5b95c8771a305d3d4bb1dee6019117,Add missing reload method in amphora noop driver,MERGED,2020-07-14 06:27:23.000000000,2020-07-19 19:49:14.000000000,2020-07-19 19:47:47.000000000,33,0,0,740891,d285f517d2842b0cc87de997f941214025c7e979,20,4,1,3,6469,Carlos Gonalves,cgoncalves,"Add missing reload method in amphora noop driver

The reload method was also missing in the abstract class.

Task: 40140
Story: 2007847

Change-Id: I2328b3dc4d5b95c8771a305d3d4bb1dee6019117
(cherry picked from commit 89123c0fc117e095c44ed21e360394974d3e15a5)
(cherry picked from commit 7e3d09ae76101ea4d49b2f9b3a906b2d9066f11f)
"
openstack%2Foctavia~stable%2Ftrain~I04cb2f1f10ec566298834f81df0cf8b100ca916c,openstack/octavia,stable/train,failover-refactor,I04cb2f1f10ec566298834f81df0cf8b100ca916c,Refactor the failover flows,MERGED,2020-07-07 14:10:57.000000000,2020-07-19 19:21:50.000000000,2020-07-19 19:20:12.000000000,6221,1342,0,739772,8eaa660c3a1439de72077b7e6b8a7f87a69b90aa,24,4,3,74,6469,Carlos Gonalves,cgoncalves,"Refactor the failover flows

This patch refactors the failover flows to improve the performance
and reliability of failovers in Octavia.

Specific improvements are:
* More tasks and flows will retry when other OpenStack services are
  failing.
* Failover can now succeed even when all of the amphora are missing
  for a given load balancer.
* It will check and repair the load balancer VIP should the VIP
  port(s) become corrupted in neutron.
* It will cleanup extra resources that may be associated with a
  load balancer in the event of a cloud service failure.

This patch also removes some dead code.

Conflicts:
  octavia/amphorae/backends/agent/api_server/amphora_info.py
  octavia/amphorae/drivers/haproxy/rest_api_driver.py
  octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py
  octavia/api/drivers/utils.py
  octavia/api/v2/controllers/load_balancer.py
  octavia/common/constants.py
  octavia/common/utils.py
  octavia/controller/worker/v1/controller_worker.py
  octavia/controller/worker/v1/flows/amphora_flows.py
  octavia/controller/worker/v1/tasks/amphora_driver_tasks.py
  octavia/controller/worker/v1/tasks/compute_tasks.py
  octavia/controller/worker/v1/tasks/network_tasks.py
  octavia/network/base.py
  octavia/tests/unit/amphorae/backends/agent/api_server/test_loadbalancer.py
  octavia/tests/unit/controller/worker/v1/flows/test_amphora_flows.py
  octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py
  octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py
  octavia/tests/unit/controller/worker/v1/test_controller_worker.py
  octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py

Change-Id: I04cb2f1f10ec566298834f81df0cf8b100ca916c
Story: 2003084
Task: 23166
Story: 2004440
Task: 28108
(cherry picked from commit 955bb8840616d96ed74de3086f8959ad4190a472)
(cherry picked from commit 2f9dc3693e73fe8c235e0eaaf0f9595576940aae)
(cherry picked from commit edebde748d0283a9948c8b7f6386d5a8835c617c)
"
openstack%2Fopenstack-helm-images~master~I657aa1df9c736b8bf6538c671e33de20f6558b78,openstack/openstack-helm-images,master,,I657aa1df9c736b8bf6538c671e33de20f6558b78,[dnm] test buildset registry w/o certificate,ABANDONED,2020-07-19 04:36:57.000000000,2020-07-19 18:37:36.000000000,,1,17,0,741834,791f5d2fd87db2b504044c4d8ee8e0895c5ac4d4,16,2,7,2,8863,Andrii Ostapenko,aostapenko,"[dnm] test buildset registry w/o certificate

Change-Id: I657aa1df9c736b8bf6538c671e33de20f6558b78
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Fironic~stable%2Fussuri~Iad6cb02ee4f17b7c5987719b3a0603df210c840d,openstack/ironic,stable/ussuri,deleting-stable/ussuri,Iad6cb02ee4f17b7c5987719b3a0603df210c840d,Clean up nodes in DELETING on conductor restart,MERGED,2020-07-06 12:35:50.000000000,2020-07-19 17:40:06.000000000,2020-07-19 17:38:47.000000000,9,4,0,739472,4baa4fee12f80f264076cfdee61bd0a36aed0350,20,5,1,5,10239,Dmitry Tantsur,dtantsur,"Clean up nodes in DELETING on conductor restart

Change-Id: Iad6cb02ee4f17b7c5987719b3a0603df210c840d
(cherry picked from commit 4f6374a209dcf96ecf7d55da4999b045ae4061ef)
"
openstack%2Fironic~master~I44336423194eed99f026c44b6390030a94ed0522,openstack/ironic,master,717852,I44336423194eed99f026c44b6390030a94ed0522,Replace oslo_utils.netutils type compares with ipaddress,MERGED,2020-04-06 20:46:01.000000000,2020-07-19 17:09:56.000000000,2020-07-19 16:05:48.000000000,20,14,4,717852,b1dd9147d2def7fd86d1624ee4404fe6988ec315,39,9,5,5,11655,Julia Kreger,jkreger,"Replace oslo_utils.netutils type compares with ipaddress

We used netutils earlier on to have a backportable change
however the longer term goal was to replace the change with
using the python native ipaddress module directly.

For the cases where we can change IP version type compares,
we change them with this change.

Note: other uses of netutils still exist, and we should
eventually see if we can phase them out, however the remaining
uses are around MAC address validations.

Change-Id: I44336423194eed99f026c44b6390030a94ed0522
"
openstack%2Fproject-config~master~Id11cfa0e961ec2e9c16506a21a7859b284ecdc0a,openstack/project-config,master,,Id11cfa0e961ec2e9c16506a21a7859b284ecdc0a,Allow circular dependencies for openstack-helm projects,NEW,2020-07-19 15:16:05.000000000,2020-07-19 17:06:46.000000000,,8,4,0,741846,42135b0ba7848ee0a321d23b28f00259aa51d910,6,4,1,1,8863,Andrii Ostapenko,aostapenko,"Allow circular dependencies for openstack-helm projects

Openstack-helm projects reuse job definitions and related ansible code
from each other for testing purposes to avoid code duplication not
supporting strongly dependent changes introduced to multiple repositories.

This commit allows circular dependencies for openstack-helm projects to
avoid temporarily disabling jobs in one of projects for strongly dependent
changes.

Change-Id: Id11cfa0e961ec2e9c16506a21a7859b284ecdc0a
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Fironic~stable%2Fussuri~Id220ce3a2c2821ad1841add20f2138e65d1786bf,openstack/ironic,stable/ussuri,missing-sw-raid-stable/ussuri,Id220ce3a2c2821ad1841add20f2138e65d1786bf,Add missing agent RAID compatibility for ilo5 and idrac,MERGED,2020-07-18 11:15:53.000000000,2020-07-19 16:43:50.000000000,2020-07-19 16:41:29.000000000,38,25,0,741808,a4311fb70479619169d4e34c487acb0c1587129a,8,3,1,5,10239,Dmitry Tantsur,dtantsur,"Add missing agent RAID compatibility for ilo5 and idrac

Software RAID relies on it.

Change-Id: Id220ce3a2c2821ad1841add20f2138e65d1786bf
(cherry picked from commit c376cb32196fdd6c8be6806395479ea8d0db13ff)
"
openstack%2Fironic~stable%2Ftrain~I07f17a7321582e9829ac422efb51b571a17c5ca8,openstack/ironic,stable/train,ipmitool-use-retries-stable/train,I07f17a7321582e9829ac422efb51b571a17c5ca8,New configuration parameter to use ipmitool retries,MERGED,2020-07-16 16:55:43.000000000,2020-07-19 16:43:49.000000000,2020-07-19 16:41:32.000000000,95,2,1,741496,725fd9c235ce99c395e11b19ec1bb204f26d689f,15,5,2,5,21909,Bob Fournier,bfournie,"New configuration parameter to use ipmitool retries

Add a new ``[ipmi]use_ipmitool_retries`` option. When set to
``True`` and timing is supported by ipmitool, the number of
retries and command interval will be passed to ipmitool so
that ipmitool will do the retries.  When set to ``False``,
ironic will do the retries.

The default is ``True``, so this will not change the current
behaviour which is to have ipmitool do the retries when
timing is supported.

Setting to ``False`` will help with certain BMCs which do
not support the Cipher Suites command.  In this case ipmitool
can take up to 10 seconds for each retry which results in a
total time exceeding ``[ipmi]command_retry_timeout``.

Change-Id: I1d0194e7c7ae9fcdd4665e6115ee26d10b14e480
Story: 2007632
Task: 39676
(cherry picked from commit 0adedb2e6c17bea0b1eb4588ba694c4a90f92b93)

Use min_command_interval when ironic does IPMI retries

For certain BMCs the default of 1 second is too short for the ipmitool
minimum command interval (-N).  The configured
``[ipmi]min_command_interval`` should be used.

Story: 2007914
Task: 40317

Change-Id: I07f17a7321582e9829ac422efb51b571a17c5ca8
(cherry picked from commit a7445d9f85cd06b7f919714efebe8ada0f2c25e7)
"
openstack%2Fironic-inspector~master~I814b12cbc05c6a110dc5593113b948e3f89e80c1,openstack/ironic-inspector,master,740344,I814b12cbc05c6a110dc5593113b948e3f89e80c1,Make inspector base CI job use 2 CPUs,MERGED,2020-07-13 18:48:27.000000000,2020-07-19 16:43:35.000000000,2020-07-19 16:41:31.000000000,1,0,0,740746,039844a0a50d0d204b5d28a4bea46c9f7abd7650,31,9,2,1,11655,Julia Kreger,jkreger,"Make inspector base CI job use 2 CPUs

Uncompressing the ramdisk on a single core CPU can take a
substantial amount of time and elongate the overall initial
period between VM start and OS becoming operational.

Additionally, multiple CPUs allows for the software with-in
the job to execute more quickly with multiple running processes.

Change-Id: I814b12cbc05c6a110dc5593113b948e3f89e80c1
"
openstack%2Fironic~master~I63b5348ecfd55e9ac889fb12b0212d76785edaca,openstack/ironic,master,story/2007771,I63b5348ecfd55e9ac889fb12b0212d76785edaca,Allow disabling retries in AgentClient.get_command_statuses,MERGED,2020-07-17 13:03:26.000000000,2020-07-19 16:39:44.000000000,2020-07-19 16:05:42.000000000,51,29,0,741632,3b6163afd2404cbc326598d879c71da0859d6add,14,5,2,2,10239,Dmitry Tantsur,dtantsur,"Allow disabling retries in AgentClient.get_command_statuses

For the agent power interface it will be required to check if the agent
is running without making too many retries.

Change-Id: I63b5348ecfd55e9ac889fb12b0212d76785edaca
Story: #2007771
Task: #40380
"
openstack%2Fironic~stable%2Ftrain~I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671,openstack/ironic,stable/train,story/2007733-stable/train,I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671,Correct Redfish boot once fallback conditional,MERGED,2020-07-09 20:37:36.000000000,2020-07-19 16:07:04.000000000,2020-07-19 16:05:37.000000000,32,1,0,740368,e45b46061dcfc9840af24278aeec440debde36ad,23,14,1,2,23847,Richard G. Pioso,richard.pioso,"Correct Redfish boot once fallback conditional

This corrects the variable examined to determine if falling back from
Redfish boot source override enabled continuous to once should be
performed. The value of the variable 'enabled', instead of
'desired_enabled', should be used.

Story: 2007733
Task: 40273
Change-Id: I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671
(cherry picked from commit 91b0f738347cdbcb87c320e80023657b1824b6a5)
"
openstack%2Fironic~stable%2Fussuri~I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671,openstack/ironic,stable/ussuri,story/2007733-stable/ussuri,I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671,Correct Redfish boot once fallback conditional,MERGED,2020-07-09 20:11:27.000000000,2020-07-19 16:07:03.000000000,2020-07-19 16:05:32.000000000,32,1,0,740356,d35cd6a8b2d57173e6dbd22054b643b9a4b09c0a,18,13,1,2,23847,Richard G. Pioso,richard.pioso,"Correct Redfish boot once fallback conditional

This corrects the variable examined to determine if falling back from
Redfish boot source override enabled continuous to once should be
performed. The value of the variable 'enabled', instead of
'desired_enabled', should be used.

Story: 2007733
Task: 40273
Change-Id: I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671
(cherry picked from commit 91b0f738347cdbcb87c320e80023657b1824b6a5)
"
openstack%2Ftacker-horizon~master~I41249dae63e4416aa37dacfa9f1ea9fd063700f2,openstack/tacker-horizon,master,bp/tacker-studio,I41249dae63e4416aa37dacfa9f1ea9fd063700f2,[WIP] Web studio for designing TOSCA templates,NEW,2018-02-22 14:56:17.000000000,2020-07-19 13:59:06.000000000,,147,2,1,547018,c432e492ac4ed7f9dc6ea051b3b4893bf55db628,59,6,29,9,27068,Trinh Nguyen,dangtrinhnt,"[WIP] Web studio for designing TOSCA templates

In order to launch VNFs, VNFFG, or NS, we have to manually
prepare a TOSCA template YAML file which may have typos,
unexpected indents, wrong fields etc... This patch proposes
to build a web interface (horizon) that helps us to design,
store, and export VNFD, VNFFGD, NSD templates beautifully
with less errors.

Specs: https://review.openstack.org/#/c/553684/

Change-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2
Implements: blueprint tacker-studio
"
openstack%2Fnova~master~I5630dcf724150da08c93bdfd168f6e3d4db96bb3,openstack/nova,master,bp/policy-defaults-refresh-deprecated-apis,I5630dcf724150da08c93bdfd168f6e3d4db96bb3,Add test coverage of FIP policies,ABANDONED,2020-07-18 06:20:52.000000000,2020-07-19 13:45:48.000000000,,161,59,0,741799,3b95b78151b49597ff16f6c451a2b957b66e0011,6,4,1,2,8556,Ghanshyam,ghanshyam,"Add test coverage of FIP policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

To adopt the keystone's scope_type and new defaults in deprecated
API policies, we need to first write test coverage for the same to
know the complete effect of policies changes.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I5630dcf724150da08c93bdfd168f6e3d4db96bb3
"
openstack%2Fzun~master~I3c8d2a7d7320bc8cf43a14f67dbfe3d125f5c46d,openstack/zun,master,,I3c8d2a7d7320bc8cf43a14f67dbfe3d125f5c46d,Rename network_api to network_driver,MERGED,2020-07-12 00:22:26.000000000,2020-07-19 05:10:51.000000000,2020-07-19 05:09:50.000000000,92,89,0,740559,7f5d147c0fad8325227a9f83e1aa5d9b6ed78bb7,8,3,1,3,11536,hongbin,hongbin,"Rename network_api to network_driver

Change-Id: I3c8d2a7d7320bc8cf43a14f67dbfe3d125f5c46d
"
openstack%2Fironic~master~I1b9276d614cc94c602d63c55ed1d57cfe7f76c7b,openstack/ironic,master,726483,I1b9276d614cc94c602d63c55ed1d57cfe7f76c7b,DNM/Test Force Insufficent memory in CI,NEW,2020-07-16 18:35:40.000000000,2020-07-19 03:08:30.000000000,,2,2,0,741519,ac011bd938dfa536f7ef1babedf97d0bee8089b0,14,3,5,2,11655,Julia Kreger,jkreger,"DNM/Test Force Insufficent memory in CI

Change-Id: I1b9276d614cc94c602d63c55ed1d57cfe7f76c7b
"
openstack%2Fzun-ui~stable%2Ftrain~I5a58cedffe0b6ada17c3aa0484725e4711b8914f,openstack/zun-ui,stable/train,,I5a58cedffe0b6ada17c3aa0484725e4711b8914f,Fix npm jobs,MERGED,2020-07-14 13:50:11.000000000,2020-07-19 03:04:42.000000000,2020-07-19 03:03:39.000000000,1,1,0,740965,385236b0d4092a3df42918db89675a1551fb98b0,7,2,1,1,29313,Vishal Manchanda,vishalmanchanda,"Fix npm jobs

horizon is doing frequent releases, the install from source is not
working as is anymore. Remove it.

Change-Id: I5a58cedffe0b6ada17c3aa0484725e4711b8914f
"
openstack%2Fneutron~stable%2Fussuri~Ice115623491ad5b50397a0338f0a7780dc05d24c,openstack/neutron,stable/ussuri,bug/1884986-stable/ussuri,Ice115623491ad5b50397a0338f0a7780dc05d24c,[OVN] Wait for WaitForDataPathBindingCreateEvent event in functional tests,MERGED,2020-07-01 15:11:47.000000000,2020-07-19 01:36:18.000000000,2020-07-19 01:34:46.000000000,15,2,0,738865,8341a87bd0272ddfc472138643711626f43ec58d,28,5,2,1,24791,Maciej Jozefczyk,maciej.jozefczyk,"[OVN] Wait for WaitForDataPathBindingCreateEvent event in functional tests

There is a bug in OVN functional tests, where it looks for datapath binding
of just created network.
In rare conditions datapath binding entry could not be in place in time,
because it is a ovn-northd responsibility to create it and we don't lock
this process in neutron api.

Change-Id: Ice115623491ad5b50397a0338f0a7780dc05d24c
Closes-Bug: #1884986
(cherry picked from commit 598e0376c6497929a5abc1aa7c7ea1dada5de589)
"
openstack%2Frequirements~master~I0e37204f981eeec932dc26e609048b3257c2e5aa,openstack/requirements,master,openstack/requirements/constraints/noclob,I0e37204f981eeec932dc26e609048b3257c2e5aa,Updated from generate-constraints,MERGED,2020-07-18 06:28:54.000000000,2020-07-19 01:35:49.000000000,2020-07-19 01:34:49.000000000,5,5,0,741800,237770babb13510eb5aad4813667a0265205b620,13,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I0e37204f981eeec932dc26e609048b3257c2e5aa
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fneutron~master~I74b05ef245a343c7531fa45aeadb90060b2fd22e,openstack/neutron,master,pub-bridge-idempotent,I74b05ef245a343c7531fa45aeadb90060b2fd22e,[OVN] DevStack: Make the transition of DevStack module easier,MERGED,2020-07-13 10:50:23.000000000,2020-07-19 00:44:44.000000000,2020-07-19 00:43:09.000000000,11,11,2,740663,e7df43395c60c700c25171d131255ae5ae0b716d,28,6,3,2,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] DevStack: Make the transition of DevStack module easier

This patch intends to make the transition of the OVN DevStack module
easier by allowing both copies of it to exist at the same time, the one
in Neutron repository and the one in the DevStack repository [0].

1) Make create_public_bridge idempotent

If we call this function more than once the second call and on will fail
with the following error:

2020-07-13 09:12:53.885633 | controller | ++
/opt/stack/neutron/devstack/lib/ovn_agent:create_public_bridge:263 :
sudo ip addr add 172.24.5.1/24 dev br-ex
2020-07-13 09:12:53.894247 | controller | RTNETLINK answers: File exists

During the transiton of moving the OVN DevStack from the Neutron
repository to the DevStack repository [0] this method is being invoked
twice in the ovn job in the DevStack gate because it will be cause as
part of the plugin being enabled and the normal code execution.

This patch makes the method idempotent by calling ""addr replace"" instead
of ""addr add"" to avoid the ""RTNETLINK answers: File exists"" error.

2) Move the setup of the tcpdump on br-ex to ""extra"" to it can start
after the create_public_bridge is called.

[0] https://review.opendev.org/#/c/734621/

Change-Id: I74b05ef245a343c7531fa45aeadb90060b2fd22e
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fneutron~stable%2Fstein~I7cbb0e87a7e87f23ccf5d8750835b4785693473a,openstack/neutron,stable/stein,bug/1875981-stable/ussuri-stable/train-stable/stein,I7cbb0e87a7e87f23ccf5d8750835b4785693473a,Optionally use admin powers when deleting DNS records,MERGED,2020-07-13 11:32:03.000000000,2020-07-19 00:38:15.000000000,2020-07-19 00:36:46.000000000,23,5,0,740677,72085466b546ed97c79a5ff4ecbafc52c947a49f,25,5,1,2,13252,Dr. Jens Harbott,jrosenboom,"Optionally use admin powers when deleting DNS records

This resolves a bug that causes stale records to be kept in place when
an admin deletes a port, server or floating IP that was created in some
project other than the admin project.

Change-Id: I7cbb0e87a7e87f23ccf5d8750835b4785693473a
Closes-Bug: #1875981
(cherry picked from commit 622714b63e08feaba4e81d218541319d2ffada30)
"
openstack%2Fopenstack-helm-infra~master~Idcead2d24fd30d950130a6f1f121beac039e656f,openstack/openstack-helm-infra,master,,Idcead2d24fd30d950130a6f1f121beac039e656f,Add ensure-pip role to functional jobs,MERGED,2020-07-16 15:34:30.000000000,2020-07-18 23:58:16.000000000,2020-07-18 23:57:04.000000000,3,0,0,741485,e8caaac6b48656e756526aeecd204ed53a2826dd,13,5,2,1,8863,Andrii Ostapenko,aostapenko,"Add ensure-pip role to functional jobs

Change-Id: Idcead2d24fd30d950130a6f1f121beac039e656f
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Fpuppet-tripleo~master~I4b4646cd45488992da1e58b74800713e85b25aba,openstack/puppet-tripleo,master,placement-api,I4b4646cd45488992da1e58b74800713e85b25aba,WIP: Include placement::api class,ABANDONED,2020-06-16 02:01:22.000000000,2020-07-18 23:36:25.000000000,,6,0,0,735759,e56648bd5c5ea8c8430be64ed546eaf21ae59495,7,3,1,2,9816,Takashi Kajinami,kajinamit,"WIP: Include placement::api class

... because the placement::api class will be required in a future
release of puppet-placement.

Change-Id: I4b4646cd45488992da1e58b74800713e85b25aba
"
openstack%2Fneutron~stable%2Frocky~I515c310f221e7d9ae3be59a26260538d1bc591c2,openstack/neutron,stable/rocky,bug/1883730,I515c310f221e7d9ae3be59a26260538d1bc591c2,Make _ensure_default_security_group method atomic,MERGED,2020-06-24 08:01:26.000000000,2020-07-18 23:32:01.000000000,2020-07-18 23:32:01.000000000,57,3,0,737703,3216c1efe904ce8be944bc7b45e6f0b6fd501913,40,5,2,2,11975,Slawek Kaplonski,slaweq,"Make _ensure_default_security_group method atomic

Method _ensure_default_security_group wasn't atomic as it first tries to get
default SG and if that not exists in DB, it tries to create it.

It may happend, like e.g. in Calico plugin that between
get_default_sg_id method and create_security_group method, this default
SG will be created by other neutron worker. And in such case there will
be Duplicate entry exception raised.

So this patch is adding handling of such exception.

Conflicts:
    neutron/db/securitygroups_db.py

Change-Id: I515c310f221e7d9ae3be59a26260538d1bc591c2
Closes-Bug: #1883730
(cherry picked from commit 7019c5cf50bc4ad97b302220664a26efaf81a7fd)
"
openstack%2Fopenstack-helm-images~master~I0abc8ed0637db73817f9139fdb84bf750e1ed6a4,openstack/openstack-helm-images,master,,I0abc8ed0637db73817f9139fdb84bf750e1ed6a4,Move vbmc to py3 and install from pypi,MERGED,2020-07-18 22:23:17.000000000,2020-07-18 23:24:17.000000000,2020-07-18 23:21:30.000000000,10,15,0,741822,fe32d1bc6c9ef261b35f7043e0dc14b1c972ae85,9,5,2,2,8863,Andrii Ostapenko,aostapenko,"Move vbmc to py3 and install from pypi

Also comments out opensuse build for vbmc

Change-Id: I0abc8ed0637db73817f9139fdb84bf750e1ed6a4
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Fdiskimage-builder~master~Id58e53a592b5f4601b893ba6c828bad07942b07b,openstack/diskimage-builder,master,add-gentoo-to-serial-console-element,Id58e53a592b5f4601b893ba6c828bad07942b07b,add openrc init system support to serial console element,MERGED,2020-07-14 18:47:20.000000000,2020-07-18 23:18:37.000000000,2020-07-18 23:16:10.000000000,2,0,2,741028,2559933f8f3f6466c9a29debf30617cf4686000e,43,6,2,1,14288,Matthew Thode,prometheanfire,"add openrc init system support to serial console element

Change-Id: Id58e53a592b5f4601b893ba6c828bad07942b07b
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fneutron~master~I664eeb87d019ba4898800ec8c90e9785164f5f26,openstack/neutron,master,test_ntp_ci_jobs,I664eeb87d019ba4898800ec8c90e9785164f5f26,[DNM] Test devstack patch to unblock NTP CI jobs,ABANDONED,2020-07-17 17:48:46.000000000,2020-07-18 23:08:20.000000000,,1,0,1,741691,6d94b3c6e75a2538f05fab3efea5dfad5e6bf26b,17,5,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[DNM] Test devstack patch to unblock NTP CI jobs

Depends-On: https://review.opendev.org/#/c/741687/
Change-Id: I664eeb87d019ba4898800ec8c90e9785164f5f26
"
openstack%2Fneutron-tempest-plugin~master~I761f5f199b7a2dd045cdc503223333900bfeadf0,openstack/neutron-tempest-plugin,master,bug/1887992,I761f5f199b7a2dd045cdc503223333900bfeadf0,[WIP] Test GLANCE_STANDALONE=False to fix glance in CI jobs,ABANDONED,2020-07-17 18:08:12.000000000,2020-07-18 23:07:34.000000000,,1,0,0,741695,ed097fc5526392dc4435eabce55838ccf625fa64,7,4,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[WIP] Test GLANCE_STANDALONE=False to fix glance in CI jobs

Change-Id: I761f5f199b7a2dd045cdc503223333900bfeadf0
Related-Bug: #1887992
Depends-On: https://review.opendev.org/741687
"
openstack%2Frequirements~master~I05a7e73849cd951724517e551c86e520896fd629,openstack/requirements,master,openstack/requirements/constraints/noclob,I05a7e73849cd951724517e551c86e520896fd629,Updated from generate-constraints,MERGED,2020-07-16 06:34:06.000000000,2020-07-18 22:01:37.000000000,2020-07-18 22:00:36.000000000,10,10,3,741381,2fef30ad8a2df5601a18ecb22083c43b3265e08f,29,4,4,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I05a7e73849cd951724517e551c86e520896fd629
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fsushy~master~I27cfec6d998c0c0ae1f8a78d07335a907a020588,openstack/sushy,master,tox-m-pip,I27cfec6d998c0c0ae1f8a78d07335a907a020588,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:22:17.000000000,2020-07-18 21:58:59.000000000,2020-07-18 21:57:53.000000000,1,1,0,741184,619445ce5446c6bdcec4776823a76f895d18460c,16,5,1,1,23851,Riccardo Pittau,elfosardo,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I27cfec6d998c0c0ae1f8a78d07335a907a020588
"
openstack%2Fsushy-tools~master~I72cad184b4f2929b21183444d8f93c27a501cd32,openstack/sushy-tools,master,tox-m-pip,I72cad184b4f2929b21183444d8f93c27a501cd32,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:30:27.000000000,2020-07-18 21:55:03.000000000,2020-07-18 21:53:59.000000000,1,1,0,741188,ffba0c7bcd0b7b301f65e3083eb57636e16cee34,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I72cad184b4f2929b21183444d8f93c27a501cd32
"
openstack%2Fironic-python-agent-builder~master~I79338f6a5c67e189dfd6783ab40d2e6bd7d8b628,openstack/ironic-python-agent-builder,master,tox-m-pip,I79338f6a5c67e189dfd6783ab40d2e6bd7d8b628,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:44:05.000000000,2020-07-18 20:32:12.000000000,2020-07-18 20:31:10.000000000,1,1,0,741202,654e9c729ef2da7493fdc382481b068a96c01fb2,7,2,1,1,23851,Riccardo Pittau,elfosardo,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I79338f6a5c67e189dfd6783ab40d2e6bd7d8b628
"
openstack%2Fironic-python-agent-builder~master~I7cc07415ae0a75442ca4285cdcaa1ea539057dee,openstack/ironic-python-agent-builder,master,update-jobs,I7cc07415ae0a75442ca4285cdcaa1ea539057dee,Update ipa jobs,NEW,2020-07-10 18:35:08.000000000,2020-07-18 20:21:46.000000000,,6,10,1,740519,30b8158359780ddabe2a458f9cf3f057ca4f22ef,10,3,2,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Update ipa jobs

We are changing the name of the jobs on ipa, so let's update.

Depends-On: https://review.opendev.org/740641
Change-Id: I7cc07415ae0a75442ca4285cdcaa1ea539057dee
"
openstack%2Fdevstack~master~I47dea645d4a852e02e25af0e1df9c28fec92c42a,openstack/devstack,master,glance-standalone-noproxy,I47dea645d4a852e02e25af0e1df9c28fec92c42a,Fix glance standalone when tls-proxy is disabled,MERGED,2020-07-17 17:25:00.000000000,2020-07-18 18:58:56.000000000,2020-07-18 18:57:52.000000000,1,0,2,741687,fcbf3e976c8fa80099698693d37afa81058803c7,15,6,2,1,4393,Dan Smith,danms,"Fix glance standalone when tls-proxy is disabled

We always want to start glance on the internal port now,
regardless of whether or not tls-proxy is in use, because we
write_local_proxy_http_config() for the standalone case.

Change-Id: I47dea645d4a852e02e25af0e1df9c28fec92c42a
Co-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fmanila~master~I501d0b6537653613a58ea1fe606f6ef66b8b6d38,openstack/manila,master,bug/1886988,I501d0b6537653613a58ea1fe606f6ef66b8b6d38,[ci] Re-enable scenario tests for lvm job,MERGED,2020-07-11 13:04:13.000000000,2020-07-18 17:52:24.000000000,2020-07-18 17:51:08.000000000,1,1,2,740551,3fc96e3ad87d88f0498f5b47f22488043e46e57a,64,11,4,1,9003,Tom Barron,tbarron,"[ci] Re-enable scenario tests for lvm job

We temporarily disabled scenario tests in
the voting LVM job [1] because of a bug
in which a kernel problem caused a reboot
in the middle of the job when it ran in a
Xen virtualization environment on rax nodes.

The kernel has been updated on those nodes
and the problem has gone away, as evidenced
in various checks jobs in this review, so
let's reenable the scenario tests.
    .
[1] https://review.opendev.org/#/c/740507/
[2] https://launchpad.net/bugs/1886988

Closes-bug: #1886988

Change-Id: I501d0b6537653613a58ea1fe606f6ef66b8b6d38
"
openstack%2Freleases~master~Ie425d6a6a8b1c455324572b085a2e9e7e8e37a83,openstack/releases,master,stein-stable,Ie425d6a6a8b1c455324572b085a2e9e7e8e37a83,Release sahara-plugin-storm for stable/stein,ABANDONED,2020-07-17 22:33:06.000000000,2020-07-18 14:56:47.000000000,,4,0,0,741774,463f70ca992a5d39f5a236378ff3cfcad88e9e20,3,2,1,1,11904,Sean McGinnis,SeanM,"Release sahara-plugin-storm for stable/stein

This release picks up new commits to sahara-plugin-storm since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Ie425d6a6a8b1c455324572b085a2e9e7e8e37a83
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I168e9e0bbc193bc74d4aa958a53c9413ec92f5d0,openstack/releases,master,stein-stable,I168e9e0bbc193bc74d4aa958a53c9413ec92f5d0,Release sahara-plugin-vanilla for stable/stein,ABANDONED,2020-07-17 22:33:13.000000000,2020-07-18 14:56:41.000000000,,4,0,0,741775,c6cfdda0c62563a699e3576bcdea8aa1a0f69cf6,3,2,1,1,11904,Sean McGinnis,SeanM,"Release sahara-plugin-vanilla for stable/stein

This release picks up new commits to sahara-plugin-vanilla since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I168e9e0bbc193bc74d4aa958a53c9413ec92f5d0
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I063538e1fb1f612bbd6b71710427c7bd5b494f86,openstack/releases,master,stein-stable,I063538e1fb1f612bbd6b71710427c7bd5b494f86,Release sahara-plugin-ambari for stable/stein,ABANDONED,2020-07-17 22:32:35.000000000,2020-07-18 14:53:57.000000000,,4,0,0,741770,feca3303f1137b0c8991ea513b4b1c0b25474d06,3,2,1,1,11904,Sean McGinnis,SeanM,"Release sahara-plugin-ambari for stable/stein

This release picks up new commits to sahara-plugin-ambari since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I063538e1fb1f612bbd6b71710427c7bd5b494f86
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I6259eacea29d3f99a22c1851796c351deacfb776,openstack/releases,master,stein-stable,I6259eacea29d3f99a22c1851796c351deacfb776,Release sahara-plugin-cdh for stable/stein,ABANDONED,2020-07-17 22:32:43.000000000,2020-07-18 14:53:48.000000000,,4,0,0,741771,a2e5afb0992fef4260cfbb645edfca4df8931bab,3,2,1,1,11904,Sean McGinnis,SeanM,"Release sahara-plugin-cdh for stable/stein

This release picks up new commits to sahara-plugin-cdh since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I6259eacea29d3f99a22c1851796c351deacfb776
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I83c291adac00b837e341c286ea37ba77e7b3d75b,openstack/releases,master,stein-stable,I83c291adac00b837e341c286ea37ba77e7b3d75b,Release sahara-plugin-spark for stable/stein,ABANDONED,2020-07-17 22:32:59.000000000,2020-07-18 14:53:14.000000000,,4,0,0,741773,d9a3e181d86b12eafca795b987de239c36d42790,3,2,1,1,11904,Sean McGinnis,SeanM,"Release sahara-plugin-spark for stable/stein

This release picks up new commits to sahara-plugin-spark since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I83c291adac00b837e341c286ea37ba77e7b3d75b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fironic~master~I0745e07d32e3455fad2a2249c31f279fd1d38b5b,openstack/ironic,master,ovn-devstack,I0745e07d32e3455fad2a2249c31f279fd1d38b5b,Explicitly set jobs to ML2/OVS,MERGED,2020-07-08 10:24:22.000000000,2020-07-18 14:46:02.000000000,2020-07-18 03:35:08.000000000,12,0,12,739945,02d3efbd7ed7663a7a123857a55a7807a1dac41d,57,8,6,1,8655,Jakub Libosvar,jlibosva,"Explicitly set jobs to ML2/OVS

Devstack is changing the Neutron default to OVN backend. This patch is
to make sure Ironic gate will not get broken by this change as currently
OVN doesn't support baremetal nodes.

Change-Id: I0745e07d32e3455fad2a2249c31f279fd1d38b5b
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
"
openstack%2Fmanila-tempest-plugin~master~Iefcacfb83262eb8441fd524b4703491980b6a9d7,openstack/manila-tempest-plugin,master,bug/1886988,Iefcacfb83262eb8441fd524b4703491980b6a9d7,[ci] Re-enable scenario tests in the LVM job,MERGED,2020-07-16 06:42:20.000000000,2020-07-18 13:34:26.000000000,2020-07-18 13:34:25.000000000,1,1,0,741384,170cc45947459384b62a7f899f8c65fa7081bb3e,19,7,2,1,16643,Goutham Pacha Ravi,gouthamr,"[ci] Re-enable scenario tests in the LVM job

Bug #1886668 has now been addressed in ubuntu, and
the new kernel no longer suffers from the problem
that led to mid-test reboots like the previous ones
did. So we can safely re-enable scenario tests in the
gating LVM job.


Change-Id: Iefcacfb83262eb8441fd524b4703491980b6a9d7
Related-Bug: #1886668
Closes-Bug: #1886988
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fansible-role-collect-logs~master~I00d09eca5931eab364dc8681442384fa7847a783,openstack/ansible-role-collect-logs,master,,I00d09eca5931eab364dc8681442384fa7847a783,Add new introspection pattern to sova,MERGED,2020-07-18 09:33:08.000000000,2020-07-18 13:34:01.000000000,2020-07-18 13:34:01.000000000,5,0,0,741805,f8ae4deb14760a94ae8e31128e3440d53d3c92fa,6,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add new introspection pattern to sova

Change-Id: I00d09eca5931eab364dc8681442384fa7847a783
"
openstack%2Fansible-role-collect-logs~master~Ie9b2e6a145f16a4e4af6e79e9d35faed47fb174a,openstack/ansible-role-collect-logs,master,,Ie9b2e6a145f16a4e4af6e79e9d35faed47fb174a,Add new files to track in logstash,MERGED,2020-07-18 08:54:54.000000000,2020-07-18 13:34:00.000000000,2020-07-18 13:33:59.000000000,11,8,0,741803,5f0bc9c897b7a93f6209138cb67f2546e5043cef,8,3,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add new files to track in logstash

Images related files were added in OVB jobs, add them to tracking
of logstash.
Change-Id: Ie9b2e6a145f16a4e4af6e79e9d35faed47fb174a
"
openstack%2Ftrove~master~I3398557700dd76ec831e441ba074032fd4b67cca,openstack/trove,master,fix-slow-start,I3398557700dd76ec831e441ba074032fd4b67cca,Fix the slow start of mariadb container,MERGED,2020-07-18 10:06:35.000000000,2020-07-18 12:10:34.000000000,2020-07-18 12:08:40.000000000,1,0,0,741806,058490a609108bf0709117d42710ad3f7ee28d70,7,2,1,1,6732,Lingxian Kong,kong,"Fix the slow start of mariadb container

Adding '-e MYSQL_INITDB_SKIP_TZINFO=1' when starting database
container.

Ref:
https://github.com/docker-library/mariadb/issues/262

Change-Id: I3398557700dd76ec831e441ba074032fd4b67cca
"
openstack%2Ftrove~master~I61e5e270bf66b0355da3282c19cbc9fd42c4090b,openstack/trove,master,bug/1863021,I61e5e270bf66b0355da3282c19cbc9fd42c4090b,Monkey patch original current_thread _active,MERGED,2020-05-05 19:42:46.000000000,2020-07-18 12:09:47.000000000,2020-07-18 12:08:38.000000000,6,0,1,725672,56bb6f39b6c808160d2e4c96fcc2104ba1daf817,24,3,5,1,11805,Corey Bryant,coreycb,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Change-Id: I61e5e270bf66b0355da3282c19cbc9fd42c4090b
Closes-Bug: #1863021
"
openstack%2Fironic~master~Id220ce3a2c2821ad1841add20f2138e65d1786bf,openstack/ironic,master,missing-sw-raid,Id220ce3a2c2821ad1841add20f2138e65d1786bf,Add missing agent RAID compatibility for ilo5 and idrac,MERGED,2020-07-14 14:26:50.000000000,2020-07-18 11:15:53.000000000,2020-07-18 03:51:00.000000000,38,25,1,740975,c376cb32196fdd6c8be6806395479ea8d0db13ff,33,6,1,5,10239,Dmitry Tantsur,dtantsur,"Add missing agent RAID compatibility for ilo5 and idrac

Software RAID relies on it.

Change-Id: Id220ce3a2c2821ad1841add20f2138e65d1786bf
"
openstack%2Ftripleo-heat-templates~master~I881f6fdb7f99575f017fb86d6ab2dc3d55348e46,openstack/tripleo-heat-templates,master,locking,I881f6fdb7f99575f017fb86d6ab2dc3d55348e46,Bind mount /var/lib/container-config-scripts inside the restart bundles,MERGED,2020-07-15 08:37:41.000000000,2020-07-18 09:09:11.000000000,2020-07-18 09:09:11.000000000,11,12,0,741116,233710ad5d77f9341b121e523290048526c97382,21,6,2,11,20172,Michele Baldessari,michele,"Bind mount /var/lib/container-config-scripts inside the restart bundles

Bind mounting the single files is never a good idea and
we're actually planning to potentially add one more script in there
to be used by the restart bundles, so best if we bind mount the whole
folder and use that directly.

Change-Id: I881f6fdb7f99575f017fb86d6ab2dc3d55348e46
"
openstack%2Fcharm-trilio-data-mover~master~I0ccf13591303a8562a992b01e4ecd3dd30c30a5e,openstack/charm-trilio-data-mover,master,victoria-charm-tests,I0ccf13591303a8562a992b01e4ecd3dd30c30a5e,Add Ussuri and Victoria test bundles,ABANDONED,2020-07-08 08:52:44.000000000,2020-07-18 06:36:01.000000000,,1316,0,0,739928,b1936e1156152497e94a4383a973f3e91ce827b9,46,5,7,6,31289,Aurelien Lourot,lourot,"Add Ussuri and Victoria test bundles

Change-Id: I0ccf13591303a8562a992b01e4ecd3dd30c30a5e
"
openstack%2Fpuppet-openstack-integration~master~Iebeebbc4f64aac0547ffe673ad7d92c4680b742b,openstack/puppet-openstack-integration,master,openstack/puppet/constraints,Iebeebbc4f64aac0547ffe673ad7d92c4680b742b,Updated from Puppet OpenStack modules constraints,MERGED,2020-07-16 06:10:53.000000000,2020-07-18 06:35:22.000000000,2020-07-18 06:35:22.000000000,1,1,0,741378,3d08bc750da59480ba57cc0ea416f82b064a6735,11,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from Puppet OpenStack modules constraints

Change-Id: Iebeebbc4f64aac0547ffe673ad7d92c4680b742b
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib69b9127f530ff8063a1c7408a70e20cfc7babc7,openstack/tripleo-heat-templates,stable/train,train/unreach,Ib69b9127f530ff8063a1c7408a70e20cfc7babc7,deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable,MERGED,2020-07-15 18:18:06.000000000,2020-07-18 06:11:41.000000000,2020-07-18 06:11:41.000000000,11,6,0,741298,b3ee1252c2d78d8c5f3733649c5b4bc2dc263840,16,5,2,1,3153,Emilien Macchi,emilienm,"deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable

For all the tasks in common/deploy-steps-playbooks-common.yaml:

* any_errors_fatal will be set to False for all tasks as this is
  shared with the scale tasks or where nodes may not be available.
  Due to https://github.com/ansible/ansible/issues/70663 this cannot
  be set dynamically at this time. If an error occurs it'll get picked
  up by a future task.

* Add ignore_unreachable to all the tasks which didn't have it before
  (and set it to scale_ignore_unreachable | default(false))

This will allow a scale-down to work fine when a node that is being
scaled down is unreachable.

Change-Id: Ib69b9127f530ff8063a1c7408a70e20cfc7babc7
Closes-Bug: #1887702
(cherry picked from commit af30d7d290287491f0a46c471a892f6e870eef84)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ic3a5f7d079993ca31176df5e460640938495bb7b,openstack/tripleo-heat-templates,stable/train,train/become,Ic3a5f7d079993ca31176df5e460640938495bb7b,Add become: true to the container json file modules,MERGED,2020-07-17 02:14:44.000000000,2020-07-18 06:11:33.000000000,2020-07-18 06:11:33.000000000,2,0,0,741568,3a87458ac75cbc197e870d7f547f620a84cac7fb,12,4,1,1,3153,Emilien Macchi,emilienm,"Add become: true to the container json file modules

Adding the become: true when calling the modules which manage files in
/var/lib/tripleo-config, they need root access.

Change-Id: Ic3a5f7d079993ca31176df5e460640938495bb7b
(cherry picked from commit 4395e4a3ceb41874a8855129444e6387686c649b)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie67bac28ac6097cba810b51496493584be0edcc8,openstack/tripleo-heat-templates,stable/train,add_standalone_tls-stable/train,Ie67bac28ac6097cba810b51496493584be0edcc8,Use distinct params for ca cert in nova-vnc-proxy and nova-libvirt,MERGED,2020-07-13 11:44:22.000000000,2020-07-18 06:11:31.000000000,2020-07-18 06:11:30.000000000,6,5,0,740679,5087bc9c12fb2eda23db6c06cec82bbc7fb997a1,19,10,3,2,29775,Sandeep Yadav,sandeepyadav93,"Use distinct params for ca cert in nova-vnc-proxy and nova-libvirt

The two services use the same parameter for the location of the
CA cert.  This causes problems when trying to deploy both services
on the same machine, for example in standalone mode.

Closes-Bug: 1887376
Change-Id: Ie67bac28ac6097cba810b51496493584be0edcc8
(cherry picked from commit de14bc555cbff1321f077ebca83c54126e5cb53f)
"
openstack%2Fironic~master~I0ba8a3741eefa80eb56e25a1b339f8433b3fc0dc,openstack/ironic,master,741039,I0ba8a3741eefa80eb56e25a1b339f8433b3fc0dc,Follow-up on blocking port deletions,MERGED,2020-07-14 19:52:53.000000000,2020-07-18 06:09:39.000000000,2020-07-18 04:22:06.000000000,96,5,2,741039,ba0dc574bc47abae71e5a48b8868e8a8fdccea50,22,7,2,6,11655,Julia Kreger,jkreger,"Follow-up on blocking port deletions

A recent comment on https://review.opendev.org/#/c/665835
pointed out that we should likely make some changes and a fix
a missing check for the introspection_vif_port_id which was
likely introduced after this functionality was originally
written.

Also adds some documentation on the subject since we lack
docs even pointing out how to delete a port. :\

Change-Id: I0ba8a3741eefa80eb56e25a1b339f8433b3fc0dc
"
openstack%2Fneutron~master~I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,openstack/neutron,master,bug/1824504,I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,Don't add arp responder for non tunnel network port,MERGED,2019-04-12 11:24:05.000000000,2020-07-18 05:45:49.000000000,2019-04-27 12:42:51.000000000,36,0,9,652043,5301ecf41b18e83abdc3c828cd64ce0111f9fcd1,38,13,4,2,19956,Yang Li,leonstack,"Don't add arp responder for non tunnel network port

When the vlan and vxlan both exist in env, and l2population
and arp_responder are enabled, if we update a port's ip address
from vlan network, there will be arp responder related flows
added into br-tun, this will cause too many arp reply for
one arp request, and vm connections will be unnormal.

Closes-Bug: #1824504
Change-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b
"
openstack%2Fneutron~stable%2Fstein~I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,openstack/neutron,stable/stein,bug/1824504-stable/stein,I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,Don't add arp responder for non tunnel network port,MERGED,2020-07-10 10:26:11.000000000,2020-07-18 05:15:16.000000000,2020-07-18 05:13:51.000000000,36,0,0,740437,514a18ee920f7d738abca2069a95c15baaed00fd,18,5,2,2,29071,norman shen,ushen,"Don't add arp responder for non tunnel network port

When the vlan and vxlan both exist in env, and l2population
and arp_responder are enabled, if we update a port's ip address
from vlan network, there will be arp responder related flows
added into br-tun, this will cause too many arp reply for
one arp request, and vm connections will be unnormal.

Closes-Bug: #1824504
Change-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b
(cherry picked from commit 5301ecf41b18e83abdc3c828cd64ce0111f9fcd1)
"
openstack%2Fironic~master~Ief043a0a01a800ea2d01a602000f0854df9e629f,openstack/ironic,master,neutron-legacy,Ief043a0a01a800ea2d01a602000f0854df9e629f,"Ironic to use DevStack's neutron""-legacy"" module",MERGED,2020-07-15 15:42:53.000000000,2020-07-18 04:39:06.000000000,2020-07-18 03:17:02.000000000,12,32,0,741256,bec00bd85df994efbb3f234727bcaba357125b50,33,7,3,1,6773,Lucas Alvares Gomes,lucasagomes,"Ironic to use DevStack's neutron""-legacy"" module

In the last PTG the Neutron team discussed and decided to undeprecate
the neutron-legacy module in DevStack because that's the module being
used (almost) everywhere and it works. The lib/neutron was an attempt
to refactor the old module but, in the last few years it hasn't gained
any traction and due to the lack of features and people to work on it,
it's going to be removed from DevStack eventually.

Below is a snippet from the PTG summary email [0] about this topic:

<snippet>
In Devstack there are currently 2 modules which can configure
Neutron. Old one called ""lib/neutron-legacy"" and the new one called
""lib/neutron"". It is like that since many cycles that ""lib/neutron-legacy""
is deprecated. But it is still used everywhwere. New module isn't still
finished and isn't working fine.  This is very confusing for users as
really maintained and recommended is still ""lib/neutron-legacy"" module.

During the discussion Sean Collins explained us that originally this
new module was created as an attempt to refactor old module, and to
make Neutron in the Devstack better to maintain. But now we see that
this process failed as new module isn't still used and we don't have
any cycles to work on it. So our final conclusion is to ""undeprecate""
old ""lib/neutron-legacy"" and get rid of the new module.
</snippet>

This patch changes the Ironic jobs to use the old Neutron module in
DevStack.

[0]
http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015368.html
[1]
http://codesearch.openstack.org/?q=neutron-api%3A%20true&i=nope&files=&repos=

Change-Id: Ief043a0a01a800ea2d01a602000f0854df9e629f
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Frequirements~master~I66b349a46d33095eef45e7288c1e79bfafeadea1,openstack/requirements,master,new-release,I66b349a46d33095eef45e7288c1e79bfafeadea1,update constraint for oslo.vmware to new release 3.5.0,MERGED,2020-07-17 14:06:11.000000000,2020-07-18 03:33:22.000000000,2020-07-18 03:30:44.000000000,1,1,0,741647,2cea050c119829530ec923a6ef1512c6c305fbc0,10,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.vmware to new release 3.5.0

Change-Id: I66b349a46d33095eef45e7288c1e79bfafeadea1
meta:version: 3.5.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fneutron~stable%2Ftrain~I7cbb0e87a7e87f23ccf5d8750835b4785693473a,openstack/neutron,stable/train,bug/1875981-stable/ussuri-stable/train,I7cbb0e87a7e87f23ccf5d8750835b4785693473a,Optionally use admin powers when deleting DNS records,MERGED,2020-07-13 11:31:50.000000000,2020-07-18 03:32:22.000000000,2020-07-18 03:30:31.000000000,23,5,0,740676,b47a2684b7ab611f7e7ba3ff31f8a82cffe66724,19,5,1,2,13252,Dr. Jens Harbott,jrosenboom,"Optionally use admin powers when deleting DNS records

This resolves a bug that causes stale records to be kept in place when
an admin deletes a port, server or floating IP that was created in some
project other than the admin project.

Change-Id: I7cbb0e87a7e87f23ccf5d8750835b4785693473a
Closes-Bug: #1875981
(cherry picked from commit 622714b63e08feaba4e81d218541319d2ffada30)
"
openstack%2Fglance~stable%2Ftrain~I789fa7adfb459e7861c90a51f418a635c0c22244,openstack/glance,stable/train,bug/1886374-stable/ussuri-stable/train,I789fa7adfb459e7861c90a51f418a635c0c22244,Improve lazy loading mechanism for multiple stores,MERGED,2020-07-15 05:19:13.000000000,2020-07-18 03:32:16.000000000,2020-07-18 03:30:34.000000000,78,28,0,741086,baf6b5ebf05ce7a2fb012f4a90cf34c61059d97a,9,3,1,5,9303,Abhishek Kekane,abhishekkekane,"Improve lazy loading mechanism for multiple stores

Glance has a facility lazy loading for legacy images which will be called
on get/list api calls to add store information in image's location metadata
based on location URL of image. Even if admin decides to change the store
names in glance-api.conf same will also be updated in location metadata
for all images related to that particular store. Current implementation of
legacy image performs this operation on each get/list call as location metadata
is not getting updated in database or it doesn't handle to perform store name
check in glance-api.conf.

Improvements done:
1. Save updated location metadata information in database permenantly
2. Add logic to perform lazy loading only if store information is not present
in location metadata or store present in location metadata is not defined in
glance's enbaled_backends configuration option.

Change-Id: I789fa7adfb459e7861c90a51f418a635c0c22244
Closes-Bug: #1886374
(cherry picked from commit ab0e5268a9c2614572659d763b3c0b6fc36dd0cf)
(cherry picked from commit 9a104acbae328788451442f71aefbc5c20a98f3c)
"
openstack%2Frequirements~master~I94e44017ace431d90d57fc51e82abbe5232cd7cd,openstack/requirements,master,new-release,I94e44017ace431d90d57fc51e82abbe5232cd7cd,update constraint for castellan to new release 3.4.0,MERGED,2020-07-17 13:52:25.000000000,2020-07-18 03:32:12.000000000,2020-07-18 03:30:35.000000000,1,1,0,741640,378903a03fac582f13c2d2a9e89aa26beda98f13,10,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for castellan to new release 3.4.0

Change-Id: I94e44017ace431d90d57fc51e82abbe5232cd7cd
meta:version: 3.4.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fglance~master~Icf3aded7975d99dbc01b9378905f5e9dece07f04,openstack/glance,master,bp/copy-unowned-image,Icf3aded7975d99dbc01b9378905f5e9dece07f04,"Remove unused ""copy_from"" policy rule",MERGED,2020-07-15 20:02:53.000000000,2020-07-18 03:32:07.000000000,2020-07-18 03:30:47.000000000,0,2,0,741312,363a78ddfb15ac07ad7d712dddbc7e7cda734973,15,5,1,2,4393,Dan Smith,danms,"Remove unused ""copy_from"" policy rule

This rule was only used in v1, which is now gone. Remove this to avoid
confusion over the difference between it and ""copy_image"" (and of course,
confusion over it doing anything at all).

Loosely related to blueprint copy-unowned-image

Change-Id: Icf3aded7975d99dbc01b9378905f5e9dece07f04
"
openstack%2Frequirements~master~I2ee8470d6f8bacee3a3adbb2449c10ea8e80c475,openstack/requirements,master,new-release,I2ee8470d6f8bacee3a3adbb2449c10ea8e80c475,update constraint for stevedore to new release 3.2.0,MERGED,2020-07-17 13:57:38.000000000,2020-07-18 03:30:42.000000000,2020-07-18 03:30:42.000000000,1,1,0,741645,90680158354e61b702ceef0e7065068c5c570cb0,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for stevedore to new release 3.2.0

Change-Id: I2ee8470d6f8bacee3a3adbb2449c10ea8e80c475
meta:version: 3.2.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Frequirements~master~I472bfdf28083abe9a69c4742d33d427cda2faf60,openstack/requirements,master,new-release,I472bfdf28083abe9a69c4742d33d427cda2faf60,update constraint for oslo.policy to new release 3.3.1,MERGED,2020-07-17 13:57:10.000000000,2020-07-18 03:30:39.000000000,2020-07-18 03:30:38.000000000,1,1,0,741643,244fb54bff73a99faccfe9350dc00b6f65eda5e9,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.policy to new release 3.3.1

Change-Id: I472bfdf28083abe9a69c4742d33d427cda2faf60
meta:version: 3.3.1
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Frequirements~master~I7456387ff9b1870d46957d88000aa1bb736524d9,openstack/requirements,master,new-release,I7456387ff9b1870d46957d88000aa1bb736524d9,update constraint for oslo.db to new release 8.3.0,MERGED,2020-07-17 13:54:48.000000000,2020-07-18 03:30:37.000000000,2020-07-18 03:30:36.000000000,1,1,0,741641,ec584af31f0ce6efb496cd9b1b1e54ea3eede73f,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.db to new release 8.3.0

Change-Id: I7456387ff9b1870d46957d88000aa1bb736524d9
meta:version: 8.3.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fswift-bench~master~I46c196c389f9425c398506a4abe4dd0abed7ade9,openstack/swift-bench,master,,I46c196c389f9425c398506a4abe4dd0abed7ade9,py3: Fix sigint handler,MERGED,2020-07-14 20:05:22.000000000,2020-07-18 03:30:22.000000000,2020-07-18 00:03:48.000000000,3,2,0,741041,4539128ffcbc7459b4a6a759b9654edf5312b4e3,7,2,1,1,15343,Tim Burke,tburke,"py3: Fix sigint handler

Change-Id: I46c196c389f9425c398506a4abe4dd0abed7ade9
"
openstack%2Foctavia~stable%2Ftrain~I2cf241ea965ad56ed70ebde83632ab855f5d859e,openstack/octavia,stable/train,failover-refactor,I2cf241ea965ad56ed70ebde83632ab855f5d859e,Use retry for AmphoraComputeConnectivityWait,MERGED,2020-07-07 14:10:57.000000000,2020-07-18 02:45:42.000000000,2020-07-18 02:44:06.000000000,86,37,0,739771,dad1357ebfa5600844b15a22a3d10f82a2d1ddbf,14,5,1,10,6469,Carlos Gonalves,cgoncalves,"Use retry for AmphoraComputeConnectivityWait

Use taskflow retry for connectivity wait. [1]

This reqired for redis jobboard implementation as each retry expand
claim for job on worker. This means that worker is proccesing job and
it should not be released for other workers to work on it.

Adopted for v2 flows.

[1] - https://docs.openstack.org/taskflow/latest/user/atoms.html#retry

Story: 2005072
Task: 33477

Change-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e
(cherry picked from commit 314b43af9a57a698a66d46c11892380bff315166)
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I838e6748879c668dd004ca2243b7b00b857c2a7b,openstack/python-tripleoclient,stable/ussuri,yes_prompt-stable/ussuri,I838e6748879c668dd004ca2243b7b00b857c2a7b,"Add ""yes"" prompt for update/upgrades commands",MERGED,2020-07-17 15:26:56.000000000,2020-07-18 02:06:51.000000000,2020-07-18 02:05:19.000000000,150,14,0,741659,106b694460257f1c6acfefc1e0a92ad01c851407,9,6,1,9,11090,Sergii Golovatiuk,holser,"Add ""yes"" prompt for update/upgrades commands

Update/Upgrade commands have now a prompt by default that ask for
confirmation before proceeding. It'll prevent an user to run the
command that may cause the problems to infrastructure.
This prompt can be skipped with --yes/-y argument.

Note: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is
visible and clear. We have seen many users running the wrong command and
ending up doing an upgrade instead of an update.

Note2: this prompt will be ported to the upgrade and FFWD workflows to
prevent unexpected execution to prevent potential harm to
infrastructures.

Depends-On: https://review.opendev.org/741657
Change-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b
(cherry picked from commit 7a044ca2517d26ea4ea763cc76d373ad4b39f7f9)
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I22a998e0cf3b04ef51a51478fc6576324a931dcb,openstack/tripleo-upgrade,stable/train,,I22a998e0cf3b04ef51a51478fc6576324a931dcb,Fix --yes evaluation from the help CLI,MERGED,2020-07-17 15:25:58.000000000,2020-07-18 02:05:21.000000000,2020-07-18 02:05:20.000000000,28,12,0,741658,0311467f55982bc483a117e026d423eadebd28ff,9,4,1,13,11090,Sergii Golovatiuk,holser,"Fix --yes evaluation from the help CLI

Sometimes, CLI may return error earlier than grep catches up
its query results. With bash pipefail set, this ends up with grep --yes
omitted and the wrong command executed (without --yes).

Set pipefail only after the --yes argument evaluated by grep.

Change-Id: I22a998e0cf3b04ef51a51478fc6576324a931dcb
Co-Authored-By: Sergii Golovatouk <sgolovat@redhat.com>
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 9ceca92d206bf5e71c3715005b44480c25c11706)
"
openstack%2Ftripleo-validations~stable%2Ftrain~I16e7eb081640332ac69ee0b32d3d871fab40d447,openstack/tripleo-validations,stable/train,,I16e7eb081640332ac69ee0b32d3d871fab40d447,Make Get OSD stat percentage compatible with both Luminous and Nautilus,MERGED,2020-07-16 10:35:40.000000000,2020-07-18 02:05:21.000000000,2020-07-18 02:05:21.000000000,1,1,0,741427,02664d11456311f7c80a43eb9f8a9b8f01bb307d,17,10,1,1,25402,Francesco Pantano,fmount,"Make Get OSD stat percentage compatible with both Luminous and Nautilus

On upgrade we might be using the newer validations against a Luminous
cluster, hence the check needs to work in both cases.

Change-Id: I16e7eb081640332ac69ee0b32d3d871fab40d447
Related-Bug: 1882387
(cherry picked from commit 35821c44dfe448ae6a381ee873e3945ab899e431)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ibb91dfa9684b481dea34607fc47c0d531d56ee45,openstack/tripleo-ansible,stable/train,bug/1886555,Ibb91dfa9684b481dea34607fc47c0d531d56ee45,Make buildah login optional,MERGED,2020-07-16 04:28:48.000000000,2020-07-18 01:56:57.000000000,2020-07-18 01:56:57.000000000,49,16,0,741369,ad0403ceb39f86f0679957f99cd1003978b0db74,16,4,1,6,13861,yatin,yatinkarel,"Make buildah login optional

Buildah login is not needed always, it's needed
when pushing to container registeries, so make it
optional by role var tripleo_podman_buildah_login set
to false by default.

Conflicts:
  tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_login.yml
  tripleo_ansible/roles/tripleo_podman/defaults/main.yml

Related-Bug: #1886555
Change-Id: Ibb91dfa9684b481dea34607fc47c0d531d56ee45
(cherry picked from commit 0d9effda372c034bafeaec9fca89c3af521c58bd)
(cherry picked from commit c49c6ffbfc6f7cfbc0bfe25e27708c7734404e53)
"
openstack%2Ftripleo-upgrade~stable%2Fussuri~I22a998e0cf3b04ef51a51478fc6576324a931dcb,openstack/tripleo-upgrade,stable/ussuri,,I22a998e0cf3b04ef51a51478fc6576324a931dcb,Fix --yes evaluation from the help CLI,MERGED,2020-07-17 15:24:47.000000000,2020-07-18 01:55:43.000000000,2020-07-18 01:55:43.000000000,28,12,0,741657,7cfb7f7302d861849229f7d9353f4ca1929f4690,9,6,1,13,11090,Sergii Golovatiuk,holser,"Fix --yes evaluation from the help CLI

Sometimes, CLI may return error earlier than grep catches up
its query results. With bash pipefail set, this ends up with grep --yes
omitted and the wrong command executed (without --yes).

Set pipefail only after the --yes argument evaluated by grep.

Change-Id: I22a998e0cf3b04ef51a51478fc6576324a931dcb
Co-Authored-By: Sergii Golovatouk <sgolovat@redhat.com>
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 9ceca92d206bf5e71c3715005b44480c25c11706)
"
openstack%2Fnova~stable%2Frocky~I4afaa0808b75cc31a8dd14663912c162281a1a42,openstack/nova,stable/rocky,backport-hash-check,I4afaa0808b75cc31a8dd14663912c162281a1a42,Check cherry-pick hashes in pep8 tox target,MERGED,2020-07-16 16:32:46.000000000,2020-07-18 01:52:28.000000000,2020-07-18 01:50:46.000000000,43,0,0,741492,f1ab10b8252bab4123c55a9fc10583710f347cef,10,4,1,2,17685,Elod Illes,elod.illes,"Check cherry-pick hashes in pep8 tox target

NOTE(elod.illes): This is a combination of 2 commits: the cherry-pick
hash checker script and a fix for the script.

1. Check cherry-pick hashes in pep8 tox target

This adds a tools/ script that checks any cherry-picked hashes
on the current commit (or a provided commit) to make sure that
all the hashes exist on at least master or stable/.* branches.
This should help avoid accidentally merging stable backports
where one of the hashes along the line has changed due to conflicts.

2. Fix cherry-pick check for merge patch

Cherry-pick check script validates the proposed patch's commit message.
If a patch is not on top of the given branch then Zuul rebases it to
the top and the patch becomes a merge patch. In this case the script
validates the merge patch's commit message instead of the original
patch's commit message and fails.

This fix selects the parent of the patch if it is a merge patch.

(cherry picked from commit c7c48c6f52c9159767b60a4576ba37726156a5f7)
(cherry picked from commit 02f213b831d8e1d4a1d8ebb18d1260571fe20b84)
(cherry picked from commit 7a5111ba2943014b6fd53a5fe7adcd9bc445315e)

Change-Id: I4afaa0808b75cc31a8dd14663912c162281a1a42
(cherry picked from commit aebc829c4e0d39a160eaaa5ad949c1256c8179e6)
(cherry picked from commit 5cacfaab82853241022d3a2a0734f82dae59a34b)
(cherry picked from commit d307b964ce380f2fa57debc6c4c8346ac8736afe)
(cherry picked from commit c3dd9f86f13a86c901443054de5ad3ab57953901)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib4a02a192377aafab5970647d74977cb1189bcae,openstack/tripleo-heat-templates,stable/ussuri,strategy-improvements-stable/ussuri,Ib4a02a192377aafab5970647d74977cb1189bcae,Switch deploy steps to tripleo_free,MERGED,2020-07-14 21:07:14.000000000,2020-07-18 01:45:35.000000000,2020-07-18 01:45:34.000000000,7,0,0,741053,22544669d840876b99d132449c2960b06416de32,18,4,3,1,3153,Emilien Macchi,emilienm,"Switch deploy steps to tripleo_free

The tripleo_free strategy should allow the tasks to run freely for a
given playbook that defines using the tripleo_free strategy. The defaul
strategy is a linear one that will execute each task across all servers
prior to moving to the next task. The tripleo_free strategy will execute
the tasks on servers without syncryonizing the tasks within a given
playbook. Because TripleO uses step concepts in our deployment, we
already have the syncronization points in the main playbook. The outer
playbook should be done linearly but the deployment steps themselves
should be done freely.

The tripleo_free playbook won't stop execution on all hosts if one host
fails or becomes unreachable. It will however end the play exeuction if
any error occurs on any host. This is similar to the deployment failures
we used to have with Heat where a failure on any single node would stop
the deployment at a given deployment step.  A future improvement of this
will be to add logic to handle a failure percentage on a given TripleO
role to only stop the playbook if the failure percentage exceeds a
defined amount. Currently any failure will stop a playbook but may not
stop later tasks from executing on the rest of the hosts. We will likely
need to implement a tripleo_linear strategy based on the upstream linear
strategy to understand these failure percentages as well.

NOTE: During the testing of this, we identified two issues with the free
strategy in ansible itself. We will need those fixes landed in the
version of ansible prior to being able to land this.

Depends-On: https://github.com/ansible/ansible/pull/69730
Depends-On: https://github.com/ansible/ansible/pull/69524
Change-Id: Ib4a02a192377aafab5970647d74977cb1189bcae
(cherry picked from commit a5f9740759461434177d6590cc8c99bb5e48365b)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib69b9127f530ff8063a1c7408a70e20cfc7babc7,openstack/tripleo-heat-templates,stable/ussuri,ussuri/unreach,Ib69b9127f530ff8063a1c7408a70e20cfc7babc7,deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable,MERGED,2020-07-15 18:17:46.000000000,2020-07-18 01:45:32.000000000,2020-07-18 01:45:32.000000000,11,6,0,741297,71a8917a1cb80f8ae0fbd104221a98e97d0acadf,15,4,2,1,3153,Emilien Macchi,emilienm,"deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable

For all the tasks in common/deploy-steps-playbooks-common.yaml:

* any_errors_fatal will be set to False for all tasks as this is
  shared with the scale tasks or where nodes may not be available.
  Due to https://github.com/ansible/ansible/issues/70663 this cannot
  be set dynamically at this time. If an error occurs it'll get picked
  up by a future task.

* Add ignore_unreachable to all the tasks which didn't have it before
  (and set it to scale_ignore_unreachable | default(false))

This will allow a scale-down to work fine when a node that is being
scaled down is unreachable.

Change-Id: Ib69b9127f530ff8063a1c7408a70e20cfc7babc7
Closes-Bug: #1887702
(cherry picked from commit af30d7d290287491f0a46c471a892f6e870eef84)
"
openstack%2Ftripleo-heat-templates~master~I43652972494a9ed1f2b8b483fe19e685cbe4da1b,openstack/tripleo-heat-templates,master,relax,I43652972494a9ed1f2b8b483fe19e685cbe4da1b,Relax facts gathering plays on the overcloud,MERGED,2020-06-09 16:46:03.000000000,2020-07-18 01:45:29.000000000,2020-07-18 01:45:29.000000000,16,6,3,734649,107b9c4c903924784a9829a405bbdd05b3cb1931,91,6,20,2,3153,Emilien Macchi,emilienm,"Relax facts gathering plays on the overcloud

Tolerate failures on all the plays that run on the overcloud and which
potentially run with facts gathering only (no other tasks).

Since they can't apply a strategy, we want to let them fail without
error. In a later play, we have our tripleo strategies which will figure
out if we have reached the maximum of failures that was configured with
MaxFailPercentage.

Change-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I3923ea24c640941961624326cf3abe1012020771,openstack/tripleo-heat-templates,stable/ussuri,bug/1870095-stable/ussuri,I3923ea24c640941961624326cf3abe1012020771,"Revert ""Prevent nftables to interfere with tripleo firewall""",MERGED,2020-07-10 14:47:55.000000000,2020-07-18 01:45:27.000000000,2020-07-18 01:45:27.000000000,7,28,0,740486,9c861fcfc427d55f96e24e5d573e0ca535d44cb1,13,5,2,1,13861,yatin,yatinkarel,"Revert ""Prevent nftables to interfere with tripleo firewall""

This reverts commit d44df735e9675f4bb55dd56091217abc776bd4cd.

Revert ""Do not fail if /usr/sbin/nft is not present""

This reverts commit aa019cdd5d84b6678395c18ff536b804a8b10005.

The nftables rules are not enabled now after [1] so reverting
the original changes which are not needed.

[1] https://git.centos.org/rpms/nftables/c/3730f48

Related-Bug: #1870095
Related-Bug: #1869166
Change-Id: I3923ea24c640941961624326cf3abe1012020771
(cherry picked from commit 8e3c4f572891717e1ce9b997e5ab35bb602a544b)
"
openstack%2Fpython-tripleoclient~master~If25b71ae4d12208875d0fbcd9e16188a6f018f99,openstack/python-tripleoclient,master,,If25b71ae4d12208875d0fbcd9e16188a6f018f99,Add backup functionality to Openstack client for undercloud and overcloud.,MERGED,2020-04-20 19:42:49.000000000,2020-07-18 01:41:40.000000000,2020-07-18 01:40:10.000000000,314,82,23,721333,846836a1969cff17aaf9172183b768dd677374aa,75,10,17,6,11085,Toure Dunnon,Toure,"Add backup functionality to Openstack client for undercloud and overcloud.

This will allow administrators to perform a backup of the undercloud or
overcloud from the existing backup and restore role which is included
in the tripleo-anisble project.

Depends-on: https://review.opendev.org/720087

Change-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99
"
openstack%2Ftripleo-heat-templates~master~I42c55ee0f69234fd54003e9cc471570f668c17b6,openstack/tripleo-heat-templates,master,native-yaml-mount,I42c55ee0f69234fd54003e9cc471570f668c17b6,Use native YAML syntax in mount tasks,MERGED,2020-06-24 11:02:13.000000000,2020-07-18 01:40:08.000000000,2020-07-18 01:40:08.000000000,18,3,0,737744,336425636844af04d048434a73ef281e6083f052,51,8,1,2,9816,Takashi Kajinami,kajinamit,"Use native YAML syntax in mount tasks

Generally it is recommended[1] to use native YAML syntax in ansible
instead of one line definition, because it brings some benefits like
clear difference detected in git.

This patch updates existing mount tasks to follow that recommendation.

[1] https://www.ansible.com/blog/ansible-best-practices-essentials

Change-Id: I42c55ee0f69234fd54003e9cc471570f668c17b6
"
openstack%2Ftripleo-quickstart-extras~master~I7ac9f77787384a446dd4887e889e479a6358e8fe,openstack/tripleo-quickstart-extras,master,,I7ac9f77787384a446dd4887e889e479a6358e8fe,Mount gating repo in containers only when it exists,MERGED,2020-07-16 08:00:35.000000000,2020-07-18 01:40:06.000000000,2020-07-18 01:40:06.000000000,18,4,0,741397,b39af784df6e6f7b676fef1b4ec31a7440d3fd9f,15,5,1,1,13861,yatin,yatinkarel,"Mount gating repo in containers only when it exists

/opt/gating_repo only exists when packages are built
in job, so add /opt/gating_repo volume only when
the directory exists.

Change-Id: I7ac9f77787384a446dd4887e889e479a6358e8fe
"
openstack%2Fproject-config~master~I4bf00e77e9003e7a67e73d05a914c1e34c0fd2b5,openstack/project-config,master,lxd-role-project,I4bf00e77e9003e7a67e73d05a914c1e34c0fd2b5,Create limestone/ansible-role-lxd_* projects,NEW,2020-07-12 04:21:00.000000000,2020-07-17 23:25:42.000000000,,23,10,0,740579,d1d83c6993c36fbfa4fd75fb9348b1f18e18758a,5,3,1,4,17799,Logan V,Logan2211,"Create limestone/ansible-role-lxd_* projects

We will open source several ansible roles used for managing lxd
infrastructure.

Change-Id: I4bf00e77e9003e7a67e73d05a914c1e34c0fd2b5
"
openstack%2Fopenstack-helm-infra~master~Ied24169499cbd709024925703d3911e976f3a51d,openstack/openstack-helm-infra,master,dynamic_container_name,Ied24169499cbd709024925703d3911e976f3a51d,Enable Application Armor to all ceph key-generator pods.,ABANDONED,2020-07-15 18:16:29.000000000,2020-07-17 23:17:00.000000000,,16,1,0,741296,b56be552140ccc913d43363f63920ac347de4491,66,2,21,4,29131,diwakar thyagaraj,dt241s@att.com,"Enable Application Armor to all ceph key-generator pods.

1) Changed the pod name and container name to pick name dynamically for
   osd,mon,mgr and mds.

2) Added Init container for ceph-provisioners

Change-Id: Ied24169499cbd709024925703d3911e976f3a51d
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
"
openstack%2Fpython-ironicclient~master~I5101dcffa0ea9d44507d25b1a8519d710404deb3,openstack/python-ironicclient,master,tox-m-pip,I5101dcffa0ea9d44507d25b1a8519d710404deb3,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:31:58.000000000,2020-07-17 23:16:18.000000000,2020-07-17 23:14:50.000000000,1,1,0,741190,42514bef11f80d7cdb588371acd517f230a1c900,9,3,1,1,23851,Riccardo Pittau,elfosardo,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I5101dcffa0ea9d44507d25b1a8519d710404deb3
"
openstack%2Fswift~master~I3ccd145c14a9b68ff8a9da61f79034549c9bc127,openstack/swift,master,batched-reclaim,I3ccd145c14a9b68ff8a9da61f79034549c9bc127,Breakup reclaim into batches,MERGED,2020-05-13 20:59:24.000000000,2020-07-17 22:17:20.000000000,2020-05-26 20:36:03.000000000,208,16,25,727876,aab45880f8aaddfed15fe641939aac0d2eccc465,57,3,10,5,1179,Clay Gerrard,clay-gerrard,"Breakup reclaim into batches

We want to do the table scan without locking and group the locking
deletes into small indexed operations to minimize the impact of
background processes calling reclaim each cycle.

Change-Id: I3ccd145c14a9b68ff8a9da61f79034549c9bc127
Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Closes-Bug: #1877651
"
openstack%2Fdevstack~master~I2b84f7b7c51b7b20765a06b48c75006fd2e8ab71,openstack/devstack,master,missing-multistore-file-configs,I2b84f7b7c51b7b20765a06b48c75006fd2e8ab71,Add missing glance multi-store configurations,MERGED,2020-07-17 08:19:55.000000000,2020-07-17 21:57:56.000000000,2020-07-17 21:56:07.000000000,10,0,1,741599,f2577fc574d2d8299b3cfff458702321aca57e44,8,3,1,1,9303,Abhishek Kekane,abhishekkekane,"Add missing glance multi-store configurations

While removing registry [1] we by mistake removed some code related to
multiple store configuration for glance. This must be happened during
resolving merged conflicts.

Adding it back.

[1] https://review.opendev.org/708062

Change-Id: I2b84f7b7c51b7b20765a06b48c75006fd2e8ab71
"
openstack%2Fnova~stable%2Fpike~I7be32e4fc2e69f805535e0a437931516f491e5cb,openstack/nova,stable/pike,bug/1862633,I7be32e4fc2e69f805535e0a437931516f491e5cb,Reproduce bug 1862633,MERGED,2020-07-13 08:37:12.000000000,2020-07-17 21:56:12.000000000,2020-07-17 21:56:11.000000000,100,0,2,740634,618dd9bdc24b3a1de6a5581d4e7201efdf1f86bd,13,4,3,1,9708,Balazs Gibizer,gibi,"Reproduce bug 1862633

If port update fails during unshelve of an offloaded server then
placement allocation on the target host is leaked.

Changes in test_bug_1862633.py due to:
* the NeutronFixture improvement done in
  Id8d2c48c9c864554a917596e377d30515465fec1 is missing from stable/pike
  therefore the fault injection mock needed to be moved to a higher
  level function.
* the Ie4676eed0039c927b35af7573f0b57fd762adbaa refactor is also missing
  and causing the name change of wait_for_versioned_notification

Change-Id: I7be32e4fc2e69f805535e0a437931516f491e5cb
Related-Bug: #1862633
(cherry picked from commit c33ebdafbd633578a0a4b6f1b118c756510acea6)
(cherry picked from commit bd1bfc13d7e2c418afc409871ab56da454a1334d)
(cherry picked from commit f960d1751d752d559ea18604bfd1fcaf1a3283cd)
(cherry picked from commit 5e452f8eb743c226af4f4998835ece8dd142a011)
(cherry picked from commit eb4f0a5aa93feb2dc7730987207f052a04bc33db)
"
openstack%2Ftripleo-common~stable%2Fussuri~I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d,openstack/tripleo-common,stable/ussuri,,I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d,TCIB: add python3-pynacl to mariadb image,MERGED,2020-07-17 02:17:26.000000000,2020-07-17 21:16:14.000000000,2020-07-17 21:13:59.000000000,1,0,0,741569,d5dc49f8d6056b68c4fd8785a236498ab236c1d3,8,3,1,1,3153,Emilien Macchi,emilienm,"TCIB: add python3-pynacl to mariadb image

Porting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.

Change-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d
Related-Bug: #1866093
(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)
"
openstack%2Ftripleo-common~stable%2Fussuri~I819d057cf4673a50231be6277160b986c232e692,openstack/tripleo-common,stable/ussuri,callback/image-upload-stable/ussuri,I819d057cf4673a50231be6277160b986c232e692,image_uploader: switch stdout_callback to tripleo_dense,MERGED,2020-07-17 02:17:45.000000000,2020-07-17 21:13:38.000000000,2020-07-17 21:11:20.000000000,2,2,0,741570,b113157b9dc8a065b25397f843fc151260f68386,8,3,1,2,3153,Emilien Macchi,emilienm,"image_uploader: switch stdout_callback to tripleo_dense

... because this is cool and consistent with the rest of Ansible
configurations.

Change-Id: I819d057cf4673a50231be6277160b986c232e692
(cherry picked from commit c19ee504412e3f515219a7cf8336a78328657f58)
"
openstack%2Fneutron~stable%2Fussuri~Ia012a8e116a276a6674f86366c803e0e2d8ff704,openstack/neutron,stable/ussuri,bug/1877377,Ia012a8e116a276a6674f86366c803e0e2d8ff704,[OVN] Unify OVN/OVS compilation,MERGED,2020-07-09 12:04:08.000000000,2020-07-17 21:11:56.000000000,2020-07-17 21:03:56.000000000,43,144,4,740255,61851345cededd906517cea783cd86f8abd3a01a,18,5,5,7,24791,Maciej Jozefczyk,maciej.jozefczyk,"[OVN] Unify OVN/OVS compilation

There were duplicated methods doing almost the same in terms
of OVS/OVN compilation.

This change:
 * move of OVS related compilation code to devstack/lib/ovs
 * delete of OVS related compilation code from devstack/lib/ovn_agent
 * source unified functions in devstack/lib/ovn_agent from
   devstack/lib/ovs
 * Unify NEUTRON_PATH variable to NEUTRON_DIR

Stable-specific change:
 * Sets default variable for OVN_BRANCH to point latest
   stable release

Conflicts:
   devstack/lib/ovn_agent

Closes-Bug: #1877377

Change-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704
(cherry picked from commit fb2806f8088dccafd6616a68f5b296914d192150)
"
openstack%2Fnova~stable%2Fussuri~I04717b95dd44ae89f24bd74525d1c9607e3bc0fc,openstack/nova,stable/ussuri,native-zuulv3-migration,I04717b95dd44ae89f24bd74525d1c9607e3bc0fc,zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full,MERGED,2020-07-17 07:45:12.000000000,2020-07-17 21:06:19.000000000,2020-07-17 20:59:22.000000000,0,2,0,741590,cf399a363ca530151895c4b7cf49ad7b2a79e01b,10,5,1,1,10459,Luigi Toscano,ltoscano,"zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full

The job was part of the neutron experimental queue but then removed
during the ussuri lifecycle.
See https://review.opendev.org/#/c/693630/

Change-Id: I04717b95dd44ae89f24bd74525d1c9607e3bc0fc
(cherry picked from commit bce4a3ab97320bdc2a6a43e2a961a0aa0b8ffb63)
"
openstack%2Fheat~stable%2Ftrain~Ia0e34423377843adee8efc7f23d2c2df5dac8e20,openstack/heat,stable/train,,Ia0e34423377843adee8efc7f23d2c2df5dac8e20,Don't check stack staus for already migrated stacks,MERGED,2020-07-14 09:30:11.000000000,2020-07-17 21:06:17.000000000,2020-07-17 21:01:56.000000000,4,4,0,740924,ba6218cd333208aacb686d0f94507cdd0004b4d1,18,3,1,1,8833,Rabi Mishra,rabi,"Don't check stack staus for already migrated stacks

If stacks are already migrated to convergence, there is no point
in checking stack status before returning. This will allow re-run
of the command inspite of migrated stacks in FAILED state.

Change-Id: Ia0e34423377843adee8efc7f23d2c2df5dac8e20
Task: 40266
(cherry picked from commit 8d5d2a8fb6145caa7aac1eb90a4787706c298e47)
(cherry picked from commit 1f66e61ca5db0f324688665f6c769ac24d560c32)
"
openstack%2Fneutron~stable%2Fstein~I515c310f221e7d9ae3be59a26260538d1bc591c2,openstack/neutron,stable/stein,bug/1883730,I515c310f221e7d9ae3be59a26260538d1bc591c2,Make _ensure_default_security_group method atomic,MERGED,2020-06-24 07:57:12.000000000,2020-07-17 21:04:00.000000000,2020-07-17 20:59:11.000000000,57,3,0,737702,13f8296d5c1bf0e2bc90ee689a4825ec9acf8881,27,6,2,2,11975,Slawek Kaplonski,slaweq,"Make _ensure_default_security_group method atomic

Method _ensure_default_security_group wasn't atomic as it first tries to get
default SG and if that not exists in DB, it tries to create it.

It may happend, like e.g. in Calico plugin that between
get_default_sg_id method and create_security_group method, this default
SG will be created by other neutron worker. And in such case there will
be Duplicate entry exception raised.

So this patch is adding handling of such exception.

Conflicts:
    neutron/db/securitygroups_db.py

Change-Id: I515c310f221e7d9ae3be59a26260538d1bc591c2
Closes-Bug: #1883730
(cherry picked from commit 7019c5cf50bc4ad97b302220664a26efaf81a7fd)
"
openstack%2Fdevstack~master~I86ffa2d963decb8492927f3d67f1d58b35870aac,openstack/devstack,master,fix-ironic-ci,I86ffa2d963decb8492927f3d67f1d58b35870aac,Fix glance image handling,ABANDONED,2020-07-15 21:31:42.000000000,2020-07-17 21:02:52.000000000,,2,2,0,741322,5c12b7fd474f1f793be7affebac918be35936e8c,3,2,1,1,11655,Julia Kreger,jkreger,"Fix glance image handling

Update the image upload command for kernels/ramdisks so partition
image based CI integration testing jobs, like those used by ironic,
are not failing due to only the partition image being uploaded without
a kernel and ramdisk, which causes code interpreting the image to
believe that the image is infact a whole-disk-image.

This is needed as a result of change:
https://review.opendev.org/#/c/735966

+ functions:upload_image:427 : '[' -n /opt/stack/devstack/files/images/cirros-0.5.1-x86_64-uec/cirros-0.5.1-x86_64-initrd ']'
++ functions:upload_image:428 : oscwrap --os-cloud=devstack-admin --os-region-name=RegionOne image create cirros-0.5.1-x86_64-uec-ramdisk hw_rng_model=virtio --public --container-format ari --disk-format ari

Where previously ""--property"" was prepended to the properties set,
however for partition images, it doesn't make sense to support
explicit property setting as the kernel and ramdisk id values are
linked to by the primary glance image object once uploaded.

Change-Id: I86ffa2d963decb8492927f3d67f1d58b35870aac
"
openstack%2Fdevstack~master~I5d6a4fccf37521f0104091ecb8055a08f760fa05,openstack/devstack,master,,I5d6a4fccf37521f0104091ecb8055a08f760fa05,Make ironic cross gating voting,NEW,2020-07-15 16:00:34.000000000,2020-07-17 21:01:55.000000000,,2,2,0,741265,953a6446b2c5bda420260b052e258d874847c15b,15,6,2,1,11655,Julia Kreger,jkreger,"Make ironic cross gating voting

The majority of ironic's CI is built upon devstack, and thus some changes
which may pass setting up a stock devstack, may still ultimately cripple
Ironic's CI. Mainly in terms of integration with other projects.

As such, it seems logical to make the CI job voting such that breaking
changes have visibility upfront.

Also re-names the job name to the more modern name as the
driver name the job mentions was explicitly removed some time
ago in favor of what is called driver composition.

This change came out of a discussion of Neutron changing the default to
OVN. Which while problematic for Ironic due to a lack of necessary DHCP
server capabilities, the topic of the neturon-legacy/neutron plugin came
up and Ironic, and at the time of this change Ironic uses the ""neutron""
plugin. As such, abrupt removal of the plugin would be a fairly
catastropic change for Ironic, hence the need for cross-gating.

Depends-on: https://review.opendev.org/#/c/741254/
Change-Id: I5d6a4fccf37521f0104091ecb8055a08f760fa05
"
openstack%2Fneutron~stable%2Fqueens~I515c310f221e7d9ae3be59a26260538d1bc591c2,openstack/neutron,stable/queens,bug/1883730-stable/queens,I515c310f221e7d9ae3be59a26260538d1bc591c2,Make _ensure_default_security_group method atomic,MERGED,2020-06-24 08:01:55.000000000,2020-07-17 20:59:15.000000000,2020-07-17 20:59:15.000000000,57,3,0,737704,0cc3032edc7d1cd533789453d19b2a1b2d193d38,13,5,2,2,11975,Slawek Kaplonski,slaweq,"Make _ensure_default_security_group method atomic

Method _ensure_default_security_group wasn't atomic as it first tries to get
default SG and if that not exists in DB, it tries to create it.

It may happend, like e.g. in Calico plugin that between
get_default_sg_id method and create_security_group method, this default
SG will be created by other neutron worker. And in such case there will
be Duplicate entry exception raised.

So this patch is adding handling of such exception.

Conflicts:
    neutron/db/securitygroups_db.py

Change-Id: I515c310f221e7d9ae3be59a26260538d1bc591c2
Closes-Bug: #1883730
(cherry picked from commit 7019c5cf50bc4ad97b302220664a26efaf81a7fd)
"
openstack%2Ftripleo-common~stable%2Fussuri~Ib80d9a055cb0fd0f0e1cf437d579d5ec32710812,openstack/tripleo-common,stable/ussuri,ussuri/unreach,Ib80d9a055cb0fd0f0e1cf437d579d5ec32710812,TCIB: bump ceph image to align with kolla images,MERGED,2020-07-17 02:12:57.000000000,2020-07-17 20:40:56.000000000,2020-07-17 20:39:18.000000000,1,1,0,741566,abd0d701bf9ce1738cd99e14a113d824211faabf,8,3,1,1,3153,Emilien Macchi,emilienm,"TCIB: bump ceph image to align with kolla images

This was missed when we implemented TCIB, in the meantime the ceph image
was bumped to v4.0.12.

Change-Id: Ib80d9a055cb0fd0f0e1cf437d579d5ec32710812
(cherry picked from commit 415457e6ccaab1b0c128c9baa107d9e871c9f27d)
"
openstack%2Fpython-tripleoclient~master~I93e23e11dffcd2e0f9e33ba816b163de817166f4,openstack/python-tripleoclient,master,,I93e23e11dffcd2e0f9e33ba816b163de817166f4,Log error when fail_on_rc disabled,MERGED,2020-07-09 14:40:51.000000000,2020-07-17 20:40:52.000000000,2020-07-17 20:39:17.000000000,2,0,0,740312,33123f6e88ad1c196448764cdedfdbeb7571d488,10,6,1,1,6926,Bogdan Dobrelya,bogdando,"Log error when fail_on_rc disabled

Change-Id: I93e23e11dffcd2e0f9e33ba816b163de817166f4
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ic3a5f7d079993ca31176df5e460640938495bb7b,openstack/tripleo-heat-templates,stable/ussuri,become-stable/ussuri,Ic3a5f7d079993ca31176df5e460640938495bb7b,Add become: true to the container json file modules,MERGED,2020-07-17 02:13:02.000000000,2020-07-17 20:39:20.000000000,2020-07-17 20:39:20.000000000,2,0,0,741567,0c2bee43b66c02b02c52324ff3248952248d244b,7,3,1,1,3153,Emilien Macchi,emilienm,"Add become: true to the container json file modules

Adding the become: true when calling the modules which manage files in
/var/lib/tripleo-config, they need root access.

Change-Id: Ic3a5f7d079993ca31176df5e460640938495bb7b
(cherry picked from commit 4395e4a3ceb41874a8855129444e6387686c649b)
"
openstack%2Frequirements~master~I9bae8e1e5d23b1ffc42ed97896a09c680cf07340,openstack/requirements,master,new-release,I9bae8e1e5d23b1ffc42ed97896a09c680cf07340,update constraint for openstackdocstheme to new release 2.2.5,MERGED,2020-07-17 07:51:39.000000000,2020-07-17 20:31:03.000000000,2020-07-17 20:28:58.000000000,1,1,0,741594,9f2189ac56485dc26d6eee5360c04b7eb441449b,12,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for openstackdocstheme to new release 2.2.5

Change-Id: I9bae8e1e5d23b1ffc42ed97896a09c680cf07340
meta:version: 2.2.5
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Jeremy Stanley <fungi@yuggoth.org>
meta:release:Commit: Jeremy Stanley <fungi@yuggoth.org>
meta:release:Change-Id: Ia5ef18024c16195b2561f480f3352ec9ef613224
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Herv Beraud <hberaud@redhat.com>
"
openstack%2Foctavia-tempest-plugin~master~Idd517eefdf7c9ce6ef08f6b42c3aef27263e9cab,openstack/octavia-tempest-plugin,master,,Idd517eefdf7c9ce6ef08f6b42c3aef27263e9cab,Gate on octavia-v2-dsvm-tls-barbican jobs,MERGED,2019-06-23 11:47:11.000000000,2020-07-17 20:30:09.000000000,2020-07-17 20:17:04.000000000,8,8,0,666986,ba35dab12a34930af7f940f7d41417bac91ec47f,37,5,6,1,6469,Carlos Gonalves,cgoncalves,"Gate on octavia-v2-dsvm-tls-barbican jobs

TLS Barbican jobs were added a while ago and proven to be solid [1].
This is a good time to promote them to the gate queue.

[1] https://zuul.openstack.org/builds?job_name=octavia-v2-dsvm-tls-barbican&pipeline=gate

Change-Id: Idd517eefdf7c9ce6ef08f6b42c3aef27263e9cab
"
openstack%2Foctavia-lib~master~Iba51738982a13cd93125cd26ac02280745821165,openstack/octavia-lib,master,,Iba51738982a13cd93125cd26ac02280745821165,Add SCTP protocol and health-monitor constants,MERGED,2020-07-01 12:07:08.000000000,2020-07-17 20:27:10.000000000,2020-07-17 20:17:06.000000000,9,4,0,738834,1e041202992e46280ddca6ef5cbda43ebacb2d2f,10,4,1,1,29244,Gregory Thiemonge,gthiemonge,"Add SCTP protocol and health-monitor constants

Story: 2007884
Task: 40255

Change-Id: Iba51738982a13cd93125cd26ac02280745821165
"
openstack%2Foctavia-tempest-plugin~master~Ic6623994713abb2c8b7a79eac8e0b3d10b0f1571,openstack/octavia-tempest-plugin,master,,Ic6623994713abb2c8b7a79eac8e0b3d10b0f1571,Add stable/ussuri jobs to check and gate lists,MERGED,2020-07-09 18:51:05.000000000,2020-07-17 20:26:42.000000000,2020-07-17 20:17:03.000000000,35,0,0,740349,d2b5b447518c18e1705bcd4fbecd6405b8565c39,9,4,1,2,6469,Carlos Gonalves,cgoncalves,"Add stable/ussuri jobs to check and gate lists

Change-Id: Ic6623994713abb2c8b7a79eac8e0b3d10b0f1571
"
openstack%2Foctavia~stable%2Ftrain~I0213424eaafe079e7f9a9aaee8e29514c7e840f4,openstack/octavia,stable/train,octavia-grenade,I0213424eaafe079e7f9a9aaee8e29514c7e840f4,Remove install DIB from Git option,MERGED,2020-07-16 10:12:40.000000000,2020-07-17 20:25:13.000000000,2020-07-17 20:17:01.000000000,0,8,0,741421,d6a7eebb266616f4723d3ffcf18a78ed317d6359,8,3,1,2,6469,Carlos Gonalves,cgoncalves,"Remove install DIB from Git option

DIB no longer supports Python 2 and is upper constrainted to 2.30.0.
Allowing to install DIB from Git would cause nothing but trouble. Just
rely on pip to a functional DIB version.

Change-Id: I0213424eaafe079e7f9a9aaee8e29514c7e840f4
(cherry picked from commit 1ea2fb18c076049515354ca37d650a5862302a9f)
"
openstack%2Foctavia-lib~master~Ibfc1609d867b746e639f9b8382301c04a6723f4b,openstack/octavia-lib,master,protocol_contraint,Ibfc1609d867b746e639f9b8382301c04a6723f4b,Define the protocols supported by listener and pool respectively,MERGED,2019-03-10 06:51:59.000000000,2020-07-17 20:24:22.000000000,2020-07-17 20:17:02.000000000,4,0,6,642252,ab0beac3eab5b4b8930d18ae9d3a00a376b43cfe,19,6,4,1,28329,yangjianfeng,yangjianfeng,"Define the protocols supported by listener and pool respectively

HTTPS and TERMINATED_HTTPS are not valid protocols for pools, and
PROXY is not valid protocol for listener. So we should declare two
constants to respectively constrain listener and pool support
protocols.

Change-Id: Ibfc1609d867b746e639f9b8382301c04a6723f4b
"
openstack%2Foctavia-lib~master~Ie9bfb1ae17cba85db71b8818e068e3f757e7f671,openstack/octavia-lib,master,,Ie9bfb1ae17cba85db71b8818e068e3f757e7f671,Switch to victoria jobs,MERGED,2020-07-06 16:21:32.000000000,2020-07-17 20:16:20.000000000,2020-07-17 20:11:06.000000000,1,1,0,739542,b6d20c02b66deadbe842f66e03131325e68ec209,15,5,2,1,6469,Carlos Gonalves,cgoncalves,"Switch to victoria jobs

Change-Id: Ie9bfb1ae17cba85db71b8818e068e3f757e7f671
"
openstack%2Foctavia~stable%2Ftrain~If5b6411a0b7c75441a406234c2792ea68d35d0fe,openstack/octavia,stable/train,story/2007421,If5b6411a0b7c75441a406234c2792ea68d35d0fe,Fix listener update with SNI certificates,MERGED,2020-07-17 11:28:41.000000000,2020-07-17 20:14:59.000000000,2020-07-17 20:11:02.000000000,85,29,0,741619,b9dd09450863a155490f9bbaf4b0dd1f23a00b02,8,3,1,10,6469,Carlos Gonalves,cgoncalves,"Fix listener update with SNI certificates

SNI certificates were not being set in the database on listener update.
A listener GET would not show the certificates in the sni_container_refs
attribute. Also, the API was allowing set of SNI certs on non
TERMINATED_HTTPS listeners.

Task: 39042
Story: 2007421
Story: 2007430

Change-Id: If5b6411a0b7c75441a406234c2792ea68d35d0fe
(cherry picked from commit 9e070e6e6df6468a0b8f792cb089de0d9fc180b5)
(cherry picked from commit 7c6fef82ac3afbd6e47d3b2ad6341fc1accb8c54)
"
openstack%2Fopenstack-helm-infra~master~Ie78ffd16d8d732bd10b362726a57181bb5cb56cc,openstack/openstack-helm-infra,master,,Ie78ffd16d8d732bd10b362726a57181bb5cb56cc,[ceph] make sure hostname present in k8s,MERGED,2020-07-15 21:35:34.000000000,2020-07-17 20:09:36.000000000,2020-07-17 20:08:11.000000000,16,9,2,741324,24072c188bdb5edb0b0c99d20820a1084f6db198,20,10,5,1,28372,chinasubbareddy mallavarapu,chinasubbareddy,"[ceph] make sure hostname present in k8s

This is to validate hosntame matches with node name registered with
k8 before checking for ""rack"" label on the node.

Change-Id: Ie78ffd16d8d732bd10b362726a57181bb5cb56cc
"
openstack%2Fbifrost~master~I8ff1d620d5ab7608847fd4ac03a06168e3d1db2d,openstack/bifrost,master,tox-m-pip,I8ff1d620d5ab7608847fd4ac03a06168e3d1db2d,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:36:41.000000000,2020-07-17 20:08:41.000000000,2020-07-17 20:05:55.000000000,1,1,0,741193,df9c0d446025fd7313786963043b5b0ec9110ddc,9,4,1,1,23851,Riccardo Pittau,elfosardo,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I8ff1d620d5ab7608847fd4ac03a06168e3d1db2d
"
openstack%2Foctavia~stable%2Fussuri~If5b6411a0b7c75441a406234c2792ea68d35d0fe,openstack/octavia,stable/ussuri,story/2007421,If5b6411a0b7c75441a406234c2792ea68d35d0fe,Fix listener update with SNI certificates,MERGED,2020-07-17 11:28:05.000000000,2020-07-17 19:43:27.000000000,2020-07-17 19:41:40.000000000,85,29,0,741618,7c6fef82ac3afbd6e47d3b2ad6341fc1accb8c54,8,3,1,10,6469,Carlos Gonalves,cgoncalves,"Fix listener update with SNI certificates

SNI certificates were not being set in the database on listener update.
A listener GET would not show the certificates in the sni_container_refs
attribute. Also, the API was allowing set of SNI certs on non
TERMINATED_HTTPS listeners.

Task: 39042
Story: 2007421
Story: 2007430

Change-Id: If5b6411a0b7c75441a406234c2792ea68d35d0fe
(cherry picked from commit 9e070e6e6df6468a0b8f792cb089de0d9fc180b5)
"
openstack%2Fpython-glanceclient~master~I3dbfcfa0f5f590a41ed549afd44537d8ed41433a,openstack/python-glanceclient,master,feature/remove-six-from-tests,I3dbfcfa0f5f590a41ed549afd44537d8ed41433a,Do not use the six library.,MERGED,2020-06-15 19:47:35.000000000,2020-07-17 19:34:17.000000000,2020-07-17 19:32:29.000000000,57,147,19,735670,b513c8db4bf6a5b2eb0366117ca22e042dd3529e,16,6,2,17,8122,Cyril Roelandt,cyril.roelandt.enovance,"Do not use the six library.

Change-Id: I3dbfcfa0f5f590a41ed549afd44537d8ed41433a
"
openstack%2Fcinder~stable%2Ftrain~I2e8af74bae63c487e786da6e99aa4827029a05a2,openstack/cinder,stable/train,,I2e8af74bae63c487e786da6e99aa4827029a05a2,Disable siblings for the cinderlib functional tests,MERGED,2020-07-09 12:39:04.000000000,2020-07-17 19:32:43.000000000,2020-07-17 19:30:25.000000000,1,0,0,740263,d77377c233e35c0c1eff681d7d935427312ea08a,72,17,1,1,10459,Luigi Toscano,ltoscano,"Disable siblings for the cinderlib functional tests

Follow the same pattern of the other jobs which deploy devstack
but runs also functional tests (see devtack-tox-functional
and devstack-tox-functional-consumer).

Without this, the older branches where cinderlib functional tests
use Python 2 (stein, and soon train when that is branched) fails
because they try to install packages part of which are Python 3
only.

The same change was applied to the branchless jobs defined
inside cinder-tempest-plugins: https://review.opendev.org/738078/

Change-Id: I2e8af74bae63c487e786da6e99aa4827029a05a2
(cherry picked from commit f9019679b3d7ea252d9d6b0aeef6b69167f051af)
(cherry picked from commit 72846a194b51938713eb4ea30fa11dcd82ccddce)
"
openstack%2Fpython-openstackclient~master~I5143dac9d52ff091a269afae3f8ac821b1d61f45,openstack/python-openstackclient,master,,I5143dac9d52ff091a269afae3f8ac821b1d61f45,Fix the testcases that try to delete already deleted volume snapshots,ABANDONED,2020-07-15 23:59:11.000000000,2020-07-17 19:24:16.000000000,,2,2,3,741344,520502d72d5f6cbd32f2cf4af9ea884a12cdafe4,7,6,2,2,30690,manasareddybethi,mb711d,"Fix the testcases that try to delete already deleted volume snapshots

Currently, the volume_snapshot testcases create volume snapshots, deletes them
and again tries to deletes them without checking if they actually exist. So,
adding a check that deletes volume snapshots the second time only if they exist.

Change-Id: I5143dac9d52ff091a269afae3f8ac821b1d61f45
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Ibb91dfa9684b481dea34607fc47c0d531d56ee45,openstack/tripleo-ansible,stable/ussuri,bug/1886555-stable/ussuri,Ibb91dfa9684b481dea34607fc47c0d531d56ee45,Make buildah login optional,MERGED,2020-07-16 04:16:41.000000000,2020-07-17 19:07:25.000000000,2020-07-17 19:07:25.000000000,49,16,0,741368,c49c6ffbfc6f7cfbc0bfe25e27708c7734404e53,16,5,1,6,13861,yatin,yatinkarel,"Make buildah login optional

Buildah login is not needed always, it's needed
when pushing to container registeries, so make it
optional by role var tripleo_podman_buildah_login set
to false by default.

Related-Bug: #1886555
Change-Id: Ibb91dfa9684b481dea34607fc47c0d531d56ee45
(cherry picked from commit 0d9effda372c034bafeaec9fca89c3af521c58bd)
"
openstack%2Fmanila-ui~master~Ibf35d7196d83e1018881776110ce173e68cf8286,openstack/manila-ui,master,native-zuulv3-migration,Ibf35d7196d83e1018881776110ce173e68cf8286,Drop legacy dsvm job & change zuulv3 integration job,MERGED,2020-07-16 18:40:40.000000000,2020-07-17 19:03:45.000000000,2020-07-17 13:57:21.000000000,52,182,0,741521,1f0754ff32660c3b669a1e12d302d4c4eea090a2,13,3,2,3,16643,Goutham Pacha Ravi,gouthamr,"Drop legacy dsvm job & change zuulv3 integration job

The legacy job in this repository was just
setting up devstack with manila-ui enabled
and doing nothing else.

We added an integration gate job a couple of
releases ago that does exactly what the above
job does, and goes a step beyond by executing
tests that check whether manila-ui is working.

We can make this job use the fake driver from
manila so we can add more interesting and useful
test cases without having to worry about any
lacking capabilities.

Also make this integration job voting.

Change-Id: Ibf35d7196d83e1018881776110ce173e68cf8286
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Foctavia-lib~master~Ia931aeaf6cda38dbca022b7c17760b2ff77b858c,openstack/octavia-lib,master,,Ia931aeaf6cda38dbca022b7c17760b2ff77b858c,Add py38 classifier,MERGED,2020-07-03 16:05:41.000000000,2020-07-17 18:46:35.000000000,2020-07-17 18:44:51.000000000,1,0,0,739258,0ce11e8773683f6dae5eb0a7894231279e7d710b,9,4,1,1,26285,wu.chunyang,wu.chunyang,"Add py38 classifier

add py38 classifier

Change-Id: Ia931aeaf6cda38dbca022b7c17760b2ff77b858c
"
openstack%2Ftripleo-quickstart-extras~master~I73f3ba3114e10423c3be4e8c25497de9343c8141,openstack/tripleo-quickstart-extras,master,tempest-skiplist,I73f3ba3114e10423c3be4e8c25497de9343c8141,Replace validate-tempest with tempest-skiplist,MERGED,2020-05-11 10:49:05.000000000,2020-07-17 18:09:45.000000000,2020-07-17 18:09:44.000000000,18,37,3,726773,535b9eba75b163d115a7083f3f39039249650ef0,54,11,10,1,8367,Arx Cruz,arxcruz,"Replace validate-tempest with tempest-skiplist

The role validate-tempest is now deprecated (for a long time) and we are
moving to openstack-tempest-skiplist that is now up to date with the
skipped tests in validate-tempest

Depends-On: https://review.opendev.org/#/c/734775/
Depends-On: https://review.opendev.org/738022

Taiga: #1839
Change-Id: I73f3ba3114e10423c3be4e8c25497de9343c8141
"
openstack%2Fironic~master~Iac29bf90a0eed721050f26b3ce7edbc7f75173bc,openstack/ironic,master,,Iac29bf90a0eed721050f26b3ce7edbc7f75173bc,DNM collect grenade ngs information,ABANDONED,2020-06-29 18:42:56.000000000,2020-07-17 17:59:07.000000000,,1,34,0,738487,21896b00636acc3ab7f38e002cac6a6df1307e87,5,3,1,1,11655,Julia Kreger,jkreger,"DNM collect grenade ngs information

Depends-On: https://review.opendev.org/738486
Change-Id: Iac29bf90a0eed721050f26b3ce7edbc7f75173bc
"
openstack%2Foslo.service~stable%2Frocky~I4e908c1fb1a61d8a57769e2aa85c02a21722367b,openstack/oslo.service,stable/rocky,bug/1788959,I4e908c1fb1a61d8a57769e2aa85c02a21722367b,Ensure connection is active in graceful shutdown tests,MERGED,2020-07-17 14:41:24.000000000,2020-07-17 17:41:52.000000000,2020-07-17 17:40:11.000000000,19,5,0,741653,3789b4fe38171d78f7c13f536a88682094eb73cc,10,5,1,2,17685,Elod Illes,elod.illes,"Ensure connection is active in graceful shutdown tests

Recent versions of eventlet close idle connections, so just opening
a connection is no longer sufficient to trigger graceful shutdown
behavior. This change sends a request and adds a delay on the server
side so the connection will be active throughout the test.

Change-Id: I4e908c1fb1a61d8a57769e2aa85c02a21722367b
Closes-Bug: 1788959
(cherry picked from commit 2705800cd32b383df80f872577ccca2cab6f3522)
"
openstack%2Fkolla-ansible~master~Icda62c038aa2d704a0ba89c315f39445e63a6829,openstack/kolla-ansible,master,,Icda62c038aa2d704a0ba89c315f39445e63a6829,[DNM]: test,NEW,2020-07-17 17:03:32.000000000,2020-07-17 17:25:57.000000000,,1,0,0,741683,c455035dcc7b379f43ba53656a574ad7a67e433a,2,1,1,1,28543,shupeng,Vieri,"[DNM]: test

Change-Id: Icda62c038aa2d704a0ba89c315f39445e63a6829
"
openstack%2Fpython-ironic-inspector-client~master~I100a313e91316b8457c5e2e37f106da2fab31777,openstack/python-ironic-inspector-client,master,neutron-legacy,I100a313e91316b8457c5e2e37f106da2fab31777,Tempest job to use the inherited devstack_services value,MERGED,2020-07-16 14:55:44.000000000,2020-07-17 17:23:34.000000000,2020-07-17 17:16:24.000000000,0,41,0,741474,55d99610c22a4610cd1100033fcea33104e03b6d,10,4,2,1,6773,Lucas Alvares Gomes,lucasagomes,"Tempest job to use the inherited devstack_services value

The python-ironic-inspector-client-tempest should use the inherited
devcstack_services configuration from it's base class instead of
explicitly enabling each service.

Change-Id: I100a313e91316b8457c5e2e37f106da2fab31777
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fopenstack-helm-infra~master~I63d00549327c27ec0590c1a9d05966015f480c92,openstack/openstack-helm-infra,master,,I63d00549327c27ec0590c1a9d05966015f480c92,Add namespace to database backup error logs,MERGED,2020-07-16 21:23:35.000000000,2020-07-17 17:20:36.000000000,2020-07-17 17:14:03.000000000,2,2,0,741548,898f6b94ed09f10dc76fc5b9aa460f1d44f2daa3,20,6,3,1,18236,Sophie Huang,SophieHuang,"Add namespace to database backup error logs

Namespace is added to error logs generated by database backup
main script for etcd, mariadb and postgresql database backups

Change-Id: I63d00549327c27ec0590c1a9d05966015f480c92
"
openstack%2Fkolla-ansible~master~I22059cc9f094d2d3b871ef7e9a45fef90186b1a5,openstack/kolla-ansible,master,,I22059cc9f094d2d3b871ef7e9a45fef90186b1a5,Add py38 package metadata,MERGED,2020-07-15 07:06:01.000000000,2020-07-17 17:04:26.000000000,2020-07-17 17:01:32.000000000,1,0,0,741101,4df7d69874d1df9296ed9ae771331e62423bc951,9,3,1,1,26285,wu.chunyang,wu.chunyang,"Add py38 package metadata

Change-Id: I22059cc9f094d2d3b871ef7e9a45fef90186b1a5
"
openstack%2Fironic-python-agent-builder~master~If130594b9ea041409c68498f1ae2239578217d07,openstack/ironic-python-agent-builder,master,fix_certificate_copy,If130594b9ea041409c68498f1ae2239578217d07,Fixes DIB_IPA_CERT certificate copy issue,MERGED,2020-07-17 07:12:59.000000000,2020-07-17 17:03:57.000000000,2020-07-17 17:01:06.000000000,1,1,0,741585,541e8587a85be9aeb9701c1a51edd1f277977cfb,8,3,1,1,18781,vinay50muddu,vmud213,"Fixes DIB_IPA_CERT certificate copy issue

When copying the DIB_IPA_CERT certificate to certificate bundle the script
fails due to incorrect print usage in python3

Change-Id: If130594b9ea041409c68498f1ae2239578217d07
"
openstack%2Fcharm-percona-cluster~master~Icdb322035c5a50b19855d61bf13874b7307c3507,openstack/charm-percona-cluster,master,bug/1794621,Icdb322035c5a50b19855d61bf13874b7307c3507,Use sha512 to create the username,NEW,2018-09-28 21:00:31.000000000,2020-07-17 16:52:00.000000000,,8,2,5,606202,9283de7f15829f67de6f675d506a9c2fb074a9cb,40,7,9,3,29213,Wouter van Bommel (woutervb),woutervb,"Use sha512 to create the username

Use a sha512 hash of the provided unit / remote_unit() during the
creation of the username, and limit this to 16 characters.

Updated the requirements.txt to reflect current dependencies.

Closes-Bug: 1794621

Change-Id: Icdb322035c5a50b19855d61bf13874b7307c3507
Signed-off-by: Wouter van Bommel <wouter.bommel@canonical.com>
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I3a5fc2214e7068f1e7aacc0e7a8a681c3f9715e9,openstack/tripleo-ansible,stable/ussuri,ussuri/paunch,I3a5fc2214e7068f1e7aacc0e7a8a681c3f9715e9,[ussuri] paunch: exit module if config doesn't exist,MERGED,2020-07-16 02:05:37.000000000,2020-07-17 16:51:03.000000000,2020-07-17 16:51:03.000000000,3,0,0,741355,b2fe3f2d612fff70c94fcd83a4eac13907aea016,24,5,1,1,3153,Emilien Macchi,emilienm,"[ussuri] paunch: exit module if config doesn't exist

It's possible that the step directory doesn't exist in a deployment,
just quit the module with no change and move on.

It'll avoid running paunch with empty config.
This will be backported to Train.

Change-Id: I3a5fc2214e7068f1e7aacc0e7a8a681c3f9715e9
"
openstack%2Foslo.messaging~master~I4c459d8c947dac213a1866c0d37e8f3d547aa82e,openstack/oslo.messaging,master,connection-error,I4c459d8c947dac213a1866c0d37e8f3d547aa82e,Drop a python 2 exception management,MERGED,2020-06-18 11:27:24.000000000,2020-07-17 16:29:52.000000000,2020-07-17 16:28:14.000000000,1,8,0,736622,661bdd7f41d1e253e76c9d516019eb6aafe90f15,23,5,1,1,28522,Herv Beraud,hberaud,"Drop a python 2 exception management

Previously (when python 2 was supported) we introduced some specific
exception management to detect connections issues when a rabbitmq
cluster node disappearing.

The original issue was that a ConnectionRefusedError is thrown and not
managed by oslo.messaging to detect heartbeat issue and call ensure_connection
for switching the connection destination (cluster node).

`ConnectionRefusedError` is only a python 3 exception [2].

Now that we only support python 3 we don't need to continue to
wrap/emulate this kind of exceptions (ConnectionRefusedError) [2] and
so we can drop the python 2 compatibility code to only support python 3 code.

[1] https://github.com/openstack/oslo.messaging/commit/9d8b1430e5c081b081c0e3c0b5f12f744dc7809d
[2] https://docs.python.org/3/library/exceptions.html#ConnectionRefusedError

Change-Id: I4c459d8c947dac213a1866c0d37e8f3d547aa82e
"
openstack%2Fnova~master~I2489bf16dabc8a83b2044139247f4245ae29adb1,openstack/nova,master,bp/add-emulated-virtual-tpm,I2489bf16dabc8a83b2044139247f4245ae29adb1,libvirt: Simplify '_create_domain' function,MERGED,2020-07-03 11:16:41.000000000,2020-07-17 16:22:04.000000000,2020-07-16 21:07:06.000000000,280,280,44,739208,969a6d49e5bac0d19f56d17d42425febcc71517b,59,11,5,4,15334,Stephen Finucane,sfinucan,"libvirt: Simplify '_create_domain' function

This is actually two functions, one of which takes an XML string and
another than takes an existing domain. Neither return a domain but
rather a Guest object, and while the first actually creates a new domain
along with the new Guest, the latter simply creates the new Guest and
resumes the existing domain. Simplify the function by ensuring it only
focuses on the former case, creation of new domains as part of the new
Guest object. The revised function is renamed, along with a related
function, '_create_domain_and_network', to reflect what it actually
returns. The other cases are replaced by simple call to
'Guest.resume()', which is all the latter case was really doing.

While we're here, we also update the function signature of the later to
make the 'block_device_info' argument mandatory, since all callers were
passing this anyway. All of this has some test impact but nothing
serious.

We also move some of the tests from 'test_driver' to 'test_guest', since
they were actually testing things from 'virt.libvirt.guest' but clearly
just weren't moved when that module was introduced many cycles ago.

Finally, we rename the '_prepare_domain_for_snapshot' and
'_snapshot_domain' functions to reflect what they're actually doing,
namely suspending and then resuming the domain before and after a
(cold) snapshot, respectively.

Part of blueprint add-emulated-virtual-tpm

Change-Id: I2489bf16dabc8a83b2044139247f4245ae29adb1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstack-helm~master~I7ba17382059dfc23ab125a49b2b302166915c350,openstack/openstack-helm,master,,I7ba17382059dfc23ab125a49b2b302166915c350,Add missing security context to Heat pods/containers,MERGED,2020-07-01 15:58:25.000000000,2020-07-17 16:21:11.000000000,2020-07-17 16:18:05.000000000,27,0,10,738873,2e752d180a0dea47db1256d443df4ad1231bc064,49,12,12,4,29144,PRATEEK REDDY DODDA,pd2839,"Add missing security context to Heat pods/containers

This updates the heat chart to include the pod
security context on the pod template.

This also adds the container security context to set
readOnlyRootFilesystem flag to true

Change-Id: I7ba17382059dfc23ab125a49b2b302166915c350
"
openstack%2Fcharm-hacluster~master~Id828479fae94211c5377c53fa2cc9b18df7ea47f,openstack/charm-hacluster,master,bug/1688019,Id828479fae94211c5377c53fa2cc9b18df7ea47f,Actions on resources: show and cleanup,ABANDONED,2017-05-03 15:51:09.000000000,2020-07-17 16:19:24.000000000,,138,3,2,462194,8f9465c2579d81fc1485f747b7aa1d0a56667ab9,14,4,2,6,24890,Alvaro Ura,aluria,"Actions on resources: show and cleanup

- ""crm_mon -1Rt"" and ""crm_resource -P"" turned into actions
 using crmsh python module. The aim is to get a quick
 overview of the status of a cluster and be able to clean any
 old ""failed action"".
- Actions documented in README.md
- Add zesty to metadata.yaml (missing from
 f58b1d30181d2e1e893ba32fa7c06a82d8045b9e)

Change-Id: Id828479fae94211c5377c53fa2cc9b18df7ea47f
Closes-Bug: #1688019
Signed-off-by: Alvaro Uria <alvaro.uria@canonical.com>
"
openstack%2Foslo.messaging~stable%2Frocky~I5ca930cada523bc77c644703a0f02b9160816231,openstack/oslo.messaging,stable/rocky,bug/1871813-stable/ussuri-stable/train-stable/stein-stable/rocky,I5ca930cada523bc77c644703a0f02b9160816231,Print warning message when connection running out,MERGED,2020-07-11 03:27:35.000000000,2020-07-17 16:18:07.000000000,2020-07-17 16:14:15.000000000,4,0,0,740537,171132ff69bb0edcc0ebe1044ae59d1a6d572fd3,8,3,1,1,29071,norman shen,ushen,"Print warning message when connection running out

I believe when connection pool running out of available
resources, there will be all kinds of weird consequences
following. So let's print warning logs when we are going
to waiting indefinitely for the lock

Change-Id: I5ca930cada523bc77c644703a0f02b9160816231
Related-bug: #1871813
(cherry picked from commit 96300a32213d1a9bf114b90bef6971d69b839d1d)
(cherry picked from commit 39f770f55b3331b7a99b3ea42a34982a20635cf2)
(cherry picked from commit 1613b7a968f33ef7dc683d05fde05be0c458c8fc)
(cherry picked from commit fd795bbb8f5aaa740fa810f2248646f6ec3a211e)
"
openstack%2Fcharm-ceph-osd~master~Ieaccc18a39d018d120ae8bd6ee62b97f30d90e41,openstack/charm-ceph-osd,master,bug/1798794,Ieaccc18a39d018d120ae8bd6ee62b97f30d90e41,Warning description for autotune config.,MERGED,2020-07-06 05:28:53.000000000,2020-07-17 16:18:03.000000000,2020-07-17 16:18:03.000000000,9,2,5,739402,08d56bb04064d4252b358f99aaeff7f024f8c6c0,26,7,4,2,26032,Brett Milford,brett,"Warning description for autotune config.

Change-Id: Ieaccc18a39d018d120ae8bd6ee62b97f30d90e41
Partial-Bug: #1798794
"
openstack%2Fkolla-ansible~master~I6a4676bf6efeebc61383ec7a406db07c7a868b2a,openstack/kolla-ansible,master,bp/performance-improvements,I6a4676bf6efeebc61383ec7a406db07c7a868b2a,Performance: Run common role in a separate play,MERGED,2020-07-02 17:14:56.000000000,2020-07-17 16:16:28.000000000,2020-07-17 15:43:22.000000000,159,260,5,739111,56ae2db7ac694d7c651623aa7d2e23b3386bd2b2,21,5,4,78,14826,Mark Goddard,mgoddard,"Performance: Run common role in a separate play

The common role was previously added as a dependency to all other roles.
It would set a fact after running on a host to avoid running twice. This
had the nice effect that deploying any service would automatically pull
in the common services for that host. When using tags, any services with
matching tags would also run the common role. This could be both
surprising and sometimes useful.

When using Ansible at large scale, there is a penalty associated with
executing a task against a large number of hosts, even if it is skipped.
The common role introduces some overhead, just in determining that it
has already run.

This change extracts the common role into a separate play, and removes
the dependency on it from all other roles. New groups have been added
for cron, fluentd, and kolla-toolbox, similar to other services. This
changes the behaviour in the following ways:

* The common role is now run for all hosts at the beginning, rather than
  prior to their first enabled service
* Hosts must be in the necessary group for each of the common services
  in order to have that service deployed. This is mostly to avoid
  deploying on localhost or the deployment host
* If tags are specified for another service e.g. nova, the common role
  will *not* automatically run for matching hosts. The common tag must
  be specified explicitly

The last of these is probably the largest behaviour change. While it
would be possible to determine which hosts should automatically run the
common role, it would be quite complex, and would introduce some
overhead that would probably negate the benefit of splitting out the
common role.

Partially-Implements: blueprint performance-improvements

Change-Id: I6a4676bf6efeebc61383ec7a406db07c7a868b2a
"
openstack%2Fdevstack-plugin-kafka~master~Ice0ce9f1b005f8a1a7216e12cb910441608a37c1,openstack/devstack-plugin-kafka,master,native-zuulv3-migration,Ice0ce9f1b005f8a1a7216e12cb910441608a37c1,Update the Zuul configuration,MERGED,2020-07-17 13:55:39.000000000,2020-07-17 16:15:41.000000000,2020-07-17 16:15:41.000000000,1,98,0,741642,4e1c82f63767524f3de04da010974009bc7f0a0f,9,4,2,3,8770,Ken Giusti,kgiusti,"Update the Zuul configuration

 - Remove deprecated test that is no longer used by oslo.messaging

Change-Id: Ice0ce9f1b005f8a1a7216e12cb910441608a37c1
"
openstack%2Fcharms.openstack~master~I78218aa972ead49f144bb19a988bd6f0bbf4a539,openstack/charms.openstack,master,feature/tls,I78218aa972ead49f144bb19a988bd6f0bbf4a539,Enable Database TLS,MERGED,2020-07-13 23:09:53.000000000,2020-07-17 16:14:17.000000000,2020-07-17 16:14:17.000000000,159,30,6,740826,2ed7b212ef9b651304af5f4a12d20a10192f71e4,16,3,4,2,20805,David Ames,thedac,"Enable Database TLS

Bring the charms.openstack Database handling into line with classic
charms and charm-helpers.

* Write out the SSL key and certs from relation data
* Point sqlalchamy at the files

Change-Id: I78218aa972ead49f144bb19a988bd6f0bbf4a539
"
openstack%2Fironic~master~Idfcf99216f10e8928fe4ba6202a7d69bfa916459,openstack/ironic,master,story/1651346,Idfcf99216f10e8928fe4ba6202a7d69bfa916459,Add json and param parsing to args,MERGED,2020-01-28 02:13:53.000000000,2020-07-17 16:08:10.000000000,2020-07-17 14:47:03.000000000,985,3,2,704489,8006c9dfd2cc1cfa78710d182019a04530ce4598,60,9,9,6,4571,Steve Baker,steve-stevebaker,"Add json and param parsing to args

Some unused HTTP param to arg parsing has not been implemented to
reduce code complexity. This includes the following types:
- DictType
- complex types

Asserts are added to confirm these param types are not used in ironic
currently, and to prevent them being used in future development.

Story: 1651346
Task: 10551

Change-Id: Idfcf99216f10e8928fe4ba6202a7d69bfa916459
"
openstack%2Fkolla-ansible~master~I42bc78ffe304ba21c448c2e08b025e93a70ddb44,openstack/kolla-ansible,master,,I42bc78ffe304ba21c448c2e08b025e93a70ddb44,Use Confluent Kafka client in remaining Monasca services,MERGED,2020-07-13 14:16:20.000000000,2020-07-17 15:47:27.000000000,2020-07-17 15:43:57.000000000,10,0,2,740702,46b68015f393f91434aaff46316d341d754e7764,14,5,2,3,17669,Doug Szumski,DougSzumski,"Use Confluent Kafka client in remaining Monasca services

Switch to the Confluent Kafka client in all remaining Python based
Monasca services. This should allow us to later un-pin the Kafka
messaging version for Monasca.

Change-Id: I42bc78ffe304ba21c448c2e08b025e93a70ddb44
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I7ab85b88f46bb29e4ca9d547ad1743e6e07b0afe,openstack/tripleo-ansible,stable/ussuri,1885258,I7ab85b88f46bb29e4ca9d547ad1743e6e07b0afe,Add default value in CinderRbdExtraPools task condition,MERGED,2020-07-13 12:40:49.000000000,2020-07-17 15:45:06.000000000,2020-07-17 15:45:06.000000000,1,1,0,740688,1cc81eb78bf7e1787a480ab91b4df6ab1426dfd1,13,7,1,1,18002,John Fulton,fultonj,"Add default value in CinderRbdExtraPools task condition

If overrides is empty and CinderRbdExtraPools are specified
(with external ceph clusters), the task that is supposed to
build pools fail.
Adding a default value is safe and avoid this issue.

Change-Id: I7ab85b88f46bb29e4ca9d547ad1743e6e07b0afe
Closes-Bug: #1885258
(cherry picked from commit ea50aaff1821ed30d8ba266a03c0df381a665eb0)
"
openstack%2Fnova~master~I2ebd81345d99d6498e807a0ff0f5cbac8d0ad5ff,openstack/nova,master,bug/1836389,I2ebd81345d99d6498e807a0ff0f5cbac8d0ad5ff,Device tags: don't pass pf_interface=True to get_mac_by_pci_address,NEW,2019-07-12 16:05:41.000000000,2020-07-17 15:38:59.000000000,,11,5,12,670593,28c184c4f472b85be2aaa3d3426c5244978cd45d,35,18,2,2,8864,Artom Lifshitz,artom,"Device tags: don't pass pf_interface=True to get_mac_by_pci_address

When calculating the device tagging metadata for PFs, we need to get
the PCI device's MAC address in order to find its associated VIF.
Previously, this was done by calling
pci_utils.get_mac_by_pci_address() and passing pf_interface=True. This
was incorrect. It caused _get_sysfs_netdev_path() to return a
nonexistent sysfs path to get_ifname_by_pci_address(). The latter's
os.listdir() call then raised an Exception. This was caught and
bubbled up as a PciDeviceNotFoundById exception. This caused
_build_hostdev_metadata() in the libvirt driver to skip that
interface's metadata.

pf_interface=True is used when passing a VF's PCI address in order to
request the PCI address of its parent PF. As this is not what
_build_hostdev_metadata() needs, this patch stops doing that.

In the case of PFs using VFIO-PCI (as opposed to a regular networking
kernel driver), PciDeviceNotFoundById is expected to be raised, as
those devices have no associated netdev. Instead of the previous
debug-level generic notice, this patch promotes the log message to a
warning explaining that device tagging does not work with VFIO-PCI
devices.

Partial bug: 1836389
Change-Id: I2ebd81345d99d6498e807a0ff0f5cbac8d0ad5ff
"
openstack%2Fironic~master~I537c6f6cf66c80b67b9045ea0618b02b7b93d36c,openstack/ironic,master,story/2006963,I537c6f6cf66c80b67b9045ea0618b02b7b93d36c,Decompose the core deploy step on iscsi and ansible deploy,MERGED,2020-05-27 12:04:53.000000000,2020-07-17 15:37:58.000000000,2020-07-17 14:46:55.000000000,249,370,3,731180,63f6adf68ee76295a6ce8157362548ad10af8473,112,8,16,7,10239,Dmitry Tantsur,dtantsur,"Decompose the core deploy step on iscsi and ansible deploy

Following the decomposition of the core step on the 'direct' deploy
interface, this change decomposed the iscsi and ansible deploy.

Co-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>
Change-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c
Story: #2006963
Task: #40152
"
openstack%2Fopenstack-helm~master~I44adcb0ebb5c06b1f0334c0e895c1d6363dc7b9b,openstack/openstack-helm,master,,I44adcb0ebb5c06b1f0334c0e895c1d6363dc7b9b,[CEPH] cleanup ceph-volume deployment tool as override,ABANDONED,2020-07-01 18:03:05.000000000,2020-07-17 15:37:27.000000000,,0,2,0,738909,f842d21783fd60a42d2f3dbdff2eeba72f63ff40,9,3,3,1,28372,chinasubbareddy mallavarapu,chinasubbareddy,"[CEPH] cleanup ceph-volume deployment tool as override

This is to remomove ceph-volume deployment tool override in this
script since ceph-volume is the default deployment tool.

Change-Id: I44adcb0ebb5c06b1f0334c0e895c1d6363dc7b9b
"
openstack%2Fopenstack-zuul-jobs~master~Iabb6bc307cae3f03d6aa52c4a1af2d9756a5f04e,openstack/openstack-zuul-jobs,master,native-zuulv3-migration,Iabb6bc307cae3f03d6aa52c4a1af2d9756a5f04e,Remove unused zero-downtime job,NEW,2020-07-17 15:34:23.000000000,2020-07-17 15:35:32.000000000,,0,79,0,741660,4aa7e61d44a22818a6f7d5a18edcf201f0c60673,5,2,1,3,8556,Ghanshyam,ghanshyam,"Remove unused zero-downtime job

zero-downtime job is used only in nova experimental pipeline
which is going to be removed now (depends-on).

This job is failing 100% https://zuul.opendev.org/t/openstack/builds?job_name=legacy-grenade-dsvm-neutron-multinode-zero-downtime

Depends-On: https://review.opendev.org/#/c/741603/
Change-Id: Iabb6bc307cae3f03d6aa52c4a1af2d9756a5f04e
"
openstack%2Fpython-tripleoclient~master~I838e6748879c668dd004ca2243b7b00b857c2a7b,openstack/python-tripleoclient,master,yes_prompt,I838e6748879c668dd004ca2243b7b00b857c2a7b,"Add ""yes"" prompt for update/upgrades commands",MERGED,2020-05-22 13:34:13.000000000,2020-07-17 15:26:56.000000000,2020-07-17 12:20:41.000000000,150,14,45,730325,7a044ca2517d26ea4ea763cc76d373ad4b39f7f9,64,10,13,9,3153,Emilien Macchi,emilienm,"Add ""yes"" prompt for update/upgrades commands

Update/Upgrade commands have now a prompt by default that ask for
confirmation before proceeding. It'll prevent an user to run the
command that may cause the problems to infrastructure.
This prompt can be skipped with --yes/-y argument.

Note: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is
visible and clear. We have seen many users running the wrong command and
ending up doing an upgrade instead of an update.

Note2: this prompt will be ported to the upgrade and FFWD workflows to
prevent unexpected execution to prevent potential harm to
infrastructures.

Depends-On: https://review.opendev.org/741480
Change-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b
"
openstack%2Ftripleo-upgrade~master~I22a998e0cf3b04ef51a51478fc6576324a931dcb,openstack/tripleo-upgrade,master,,I22a998e0cf3b04ef51a51478fc6576324a931dcb,Fix --yes evaluation from the help CLI,MERGED,2020-07-16 15:19:18.000000000,2020-07-17 15:24:47.000000000,2020-07-17 12:20:40.000000000,28,12,0,741480,9ceca92d206bf5e71c3715005b44480c25c11706,10,6,1,13,6926,Bogdan Dobrelya,bogdando,"Fix --yes evaluation from the help CLI

Sometimes, CLI may return error earlier than grep catches up
its query results. With bash pipefail set, this ends up with grep --yes
omitted and the wrong command executed (without --yes).

Set pipefail only after the --yes argument evaluated by grep.

Change-Id: I22a998e0cf3b04ef51a51478fc6576324a931dcb
Co-Authored-By: Sergii Golovatouk <sgolovat@redhat.com>
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fcharm-ceph-osd~master~Ibc09bc7951babe0bc18d1c377242b0dbdf32ab89,openstack/charm-ceph-osd,master,openstack-python3-charm-jobs,Ibc09bc7951babe0bc18d1c377242b0dbdf32ab89,Switch to using openstack-python3-charm-jobs,MERGED,2020-07-13 07:26:12.000000000,2020-07-17 15:11:16.000000000,2020-07-17 15:11:16.000000000,1,2,0,740626,5c084ba5daddfe36a07b4e6a7b26e5cb2cf52351,9,3,2,1,935,James Page,james-page,"Switch to using openstack-python3-charm-jobs

Change-Id: Ibc09bc7951babe0bc18d1c377242b0dbdf32ab89
Depends-On: Ib9ed240aef6680be7c972088ca5337b5740b9c36
"
openstack%2Fcharm-ceph-osd~master~I6204a5ade684f0564c4be2d30df467c75baa6dba,openstack/charm-ceph-osd,master,bug/1762852,I6204a5ade684f0564c4be2d30df467c75baa6dba,Add a progress watchdog for OSD upgrades,MERGED,2020-07-06 16:15:29.000000000,2020-07-17 15:11:16.000000000,2020-07-17 15:11:15.000000000,253,47,0,739535,6b0a11b4048027d7de11d28bbf388bd0c337400f,30,4,3,2,20870,Alex Kavanagh,ajkavanagh,"Add a progress watchdog for OSD upgrades

This patch (in charms.ceph [1], copied here) add the concept of a
watchdog to the upgrade_monitor so that the charm can achieve two
objectives of 1. Waiting for much longer, but 2. detecting whether the
previous node has died / gone away.  This is needed for 'large' OSDs
where the time to upgrade a node may exceed the current limit of 10
minutes, but also not to wait for 30 minutes on a dead previous node.
The watchdog implements two timeouts and an addition 'alive' key from
the previous node to indicate that it is still running.  Otherwise,
functionality is identical.

[1] See depends on below
Depends-On: Ia450e936c2096f092af3be5a369b7abaf5023b16
Closes-Bug: #1762852

Change-Id: I6204a5ade684f0564c4be2d30df467c75baa6dba
"
openstack%2Fnetworking-odl~stable%2Fussuri~Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6,openstack/networking-odl,stable/ussuri,pep8-error-stable/ussuri,Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6,Fix pep8 job  and small fixes for functional jobs,ABANDONED,2020-07-15 14:23:41.000000000,2020-07-17 15:07:25.000000000,,6,1,0,741221,174fb68ce5ea342a76f65f1fe2b4c1e8cbb59075,7,2,3,5,8313,Lajos Katona,elajkat,"Fix pep8 job  and small fixes for functional jobs

New versions of isort broke pylint. This patch fixes it at 4.3.21.

The issue appeared on stable branches that functional jobs can't find
correct pip version and failed due to not actual neutron version.

Change-Id: Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6
"
openstack%2Fcharm-barbican~master~I69ffbb9274a352c784db634e40a936e7aca7b5f5,openstack/charm-barbican,master,openstack-python3-charm-jobs,I69ffbb9274a352c784db634e40a936e7aca7b5f5,Switch to using openstack-python3-charm-jobs,MERGED,2020-07-13 07:36:38.000000000,2020-07-17 15:02:12.000000000,2020-07-17 15:02:12.000000000,1,2,0,740627,3baea3523e0a25b80558615c82ea82962cf629fb,7,3,1,1,935,James Page,james-page,"Switch to using openstack-python3-charm-jobs

Change-Id: I69ffbb9274a352c784db634e40a936e7aca7b5f5
Depends-On: Ib9ed240aef6680be7c972088ca5337b5740b9c36
"
openstack%2Fironic~master~I397d23af64dfd56074cb563eedbe2d1ef8efff53,openstack/ironic,master,driver-internal-info,I397d23af64dfd56074cb563eedbe2d1ef8efff53,Stop wiping driver_internal_info on node.driver updates,MERGED,2020-07-16 15:19:38.000000000,2020-07-17 14:59:16.000000000,2020-07-16 21:06:51.000000000,0,6,0,741481,5f557f47f4815e498a1837852742a4eeb8adb389,11,5,1,2,10239,Dmitry Tantsur,dtantsur,"Stop wiping driver_internal_info on node.driver updates

It brings more harm than good, e.g. it breaks fast-track. Since
driver-specific fields are name-spaced, there should be no much
harm in keeping them around.

Change-Id: I397d23af64dfd56074cb563eedbe2d1ef8efff53
"
openstack%2Fcharm-hacluster~master~I2ca35f51281809a3948ba93f2f0ef56a6fa87cf5,openstack/charm-hacluster,master,fix/linting,I2ca35f51281809a3948ba93f2f0ef56a6fa87cf5,Update tox.ini to release-tools version,ABANDONED,2020-07-15 13:04:52.000000000,2020-07-17 14:58:36.000000000,,21,24,3,741178,7cb8c471f9b98576439499621247268a2cbcf548,15,4,4,5,24890,Alvaro Ura,aluria,"Update tox.ini to release-tools version

 * tox.ini flake8 ignore list includes W504 lint warnings
 * Lint errors fixed

Change-Id: I2ca35f51281809a3948ba93f2f0ef56a6fa87cf5
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1d21db4af894c096d929863daabd08673592370c,openstack/tripleo-heat-templates,stable/train,ceph_ffu_noout,I1d21db4af894c096d929863daabd08673592370c,Set and then unset Ceph's noout flag before/after node is rebooted,MERGED,2020-07-03 13:44:47.000000000,2020-07-17 14:56:34.000000000,2020-07-17 14:56:34.000000000,28,0,14,739232,d48b22c15eacba5e8d0fa23e888518b71e25b399,35,11,5,1,6796,Giulio Fidente,gfidente,"Set and then unset Ceph's noout flag before/after node is rebooted

The Ceph cluster needs not to mark down OSDs during the time when
the nodes are undercloud LEAPP upgrade because during that step
nodes will be rebooted.

This change implements setting and unsetting of the Ceph flags
(noout, norebalance, norecover and nobackfill) required to avoid
marking the OSDs down: the involved tasks are executed before node
(each) starts the LEAPP process and after the upgrade is finished and
the node rebooted.

This patch is going directly into train because it's trying to address
a problem that depends on the queens/train FFWD upgrade, while in
the main branch the upgrade_tasks list is still empty.

Change-Id: I1d21db4af894c096d929863daabd08673592370c
"
openstack%2Fneutron~stable%2Fqueens~I795ee7ca729646be0411a1232bf218015c65010f,openstack/neutron,stable/queens,bug/1883712-stable/queens,I795ee7ca729646be0411a1232bf218015c65010f,Add config option ``http_retries``,MERGED,2020-07-09 10:18:46.000000000,2020-07-17 14:55:52.000000000,2020-07-17 14:53:30.000000000,18,1,0,740222,290c3a9885c5c02e9dd3d6505473fc3f08207991,13,5,1,4,11975,Slawek Kaplonski,slaweq,"Add config option ``http_retries``

This option allows to configure Number of times nova or ironic client
should retry on any failed http call.
Default value for this new option is ""3"".

Conflicts:
    neutron/notifiers/ironic.py
    neutron/notifiers/nova.py
    neutron/tests/unit/notifiers/test_nova.py

Change-Id: I795ee7ca729646be0411a1232bf218015c65010f
Closes-Bug: #1883712
(cherry picked from commit e94511cd251299cee84b8b67d404972988ae28d3)
"
openstack%2Fdevstack~master~I860e899274646ff73b8f084a0583325239aee9cc,openstack/devstack,master,fix-image-property,I860e899274646ff73b8f084a0583325239aee9cc,Only set hw_rng_model by default if we're on libvirt,MERGED,2020-07-15 21:54:47.000000000,2020-07-17 14:55:26.000000000,2020-07-17 14:53:32.000000000,10,1,0,741328,49ad4850c8d5be9c90b10f118853e0288997405d,15,5,2,1,4393,Dan Smith,danms,"Only set hw_rng_model by default if we're on libvirt

This makes no sense to set on _every_ devstack deployment, only
if we are using libvirt qemu or kvm. Make it conditional.

Change-Id: I860e899274646ff73b8f084a0583325239aee9cc
"
openstack%2Fironic~stable%2Fussuri~Ibac5d07b988438719bf414f314cbc610562e7599,openstack/ironic,stable/ussuri,raid-max-stable/ussuri,Ibac5d07b988438719bf414f314cbc610562e7599,Software RAID: don't try to set local_gb to MAX,MERGED,2020-07-06 13:43:53.000000000,2020-07-17 14:50:48.000000000,2020-07-17 14:47:02.000000000,20,3,0,739488,485dad97b1bb9088627ac9e60c934e3491dbbc50,20,6,1,3,10239,Dmitry Tantsur,dtantsur,"Software RAID: don't try to set local_gb to MAX

Change-Id: Ibac5d07b988438719bf414f314cbc610562e7599
(cherry picked from commit cedc4a24167de205db25cc45fd37275f3e4956bd)
"
openstack%2Foslo.config~master~I77637e5d993d94ecfac985afa4b532b80cb4e8e7,openstack/oslo.config,master,mypy-integration,I77637e5d993d94ecfac985afa4b532b80cb4e8e7,WIP: mypy: Add initial type hints,NEW,2019-10-09 09:30:37.000000000,2020-07-17 14:46:01.000000000,,16,18,3,687513,540a4f92d8eac848d694b051840be5d9ff7fa754,24,4,9,3,15334,Stephen Finucane,sfinucan,"WIP: mypy: Add initial type hints

Change-Id: I77637e5d993d94ecfac985afa4b532b80cb4e8e7
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fcharm-heat~master~Ia5e17a750135060b16ffb5d5d5d8dcac8264272f,openstack/charm-heat,master,openstack-python3-charm-jobs,Ia5e17a750135060b16ffb5d5d5d8dcac8264272f,Switch to using openstack-python3-charm-jobs,MERGED,2020-07-13 06:24:33.000000000,2020-07-17 14:44:06.000000000,2020-07-17 14:44:06.000000000,7,2,0,740615,3cde0a90a5bfb9ccbbe43ad978ed270921a64fcb,17,4,4,3,935,James Page,james-page,"Switch to using openstack-python3-charm-jobs

Change-Id: Ia5e17a750135060b16ffb5d5d5d8dcac8264272f
Depends-On: Ib9ed240aef6680be7c972088ca5337b5740b9c36
"
openstack%2Fcharms.ceph~master~Ia450e936c2096f092af3be5a369b7abaf5023b16,openstack/charms.ceph,master,bug/1762852,Ia450e936c2096f092af3be5a369b7abaf5023b16,Add a progress watchdog for OSD upgrades,MERGED,2020-07-06 16:06:10.000000000,2020-07-17 14:42:13.000000000,2020-07-17 14:42:13.000000000,277,54,23,739529,b688f048895a3d95473bfce160c1e8f24d44573c,15,3,3,2,20870,Alex Kavanagh,ajkavanagh,"Add a progress watchdog for OSD upgrades

This patch add the concept of a watchdog to the upgrade_monitor so that
the charm can achieve two objectives of 1. Waiting for much longer, but
2. detecting whether the previous node has died / gone away.  This is
needed for 'large' OSDs where the time to upgrade a node may exceed the
current limit of 10 minutes, but also not to wait for 30 minutes on a
dead previous node.  The watchdog implements two timeouts and an
addition 'alive' key from the previous node to indicate that it is still
running.  Otherwise, functionality is identical.

Change-Id: Ia450e936c2096f092af3be5a369b7abaf5023b16
Related-Bug: #1762852
"
openstack%2Ftripleo-common~master~Ic4593a7b1d61ac8094e00374d394f5cb8c001a7a,openstack/tripleo-common,master,heat-config-2,Ic4593a7b1d61ac8094e00374d394f5cb8c001a7a,Refactor 55-heat-config related tasks,ABANDONED,2020-07-16 19:12:55.000000000,2020-07-17 14:39:42.000000000,,24,30,13,741526,cfdc15aa544a2eae641ad8e4fe33cfaf66ca483d,20,6,2,1,3153,Emilien Macchi,emilienm,"Refactor 55-heat-config related tasks

When 55-heat-config ran, it creates a json file for the output. We use
jq to fetch the return code written in that file.

This patch aims to refactor the tasks which run this script and
verification to avoid task duplication and also ensure that the file
actually exists on the file system, with a retries/delay mechanism in
order to avoid a race condition (see bug report).

Change-Id: Ic4593a7b1d61ac8094e00374d394f5cb8c001a7a
Closes-Bug: #1887846
"
openstack%2Fneutron~stable%2Frocky~I804a95fdaa3552c785e85ffab7b8ac849c634a87,openstack/neutron,stable/rocky,bug/1813253-stable/rocky,I804a95fdaa3552c785e85ffab7b8ac849c634a87,Update the processing of assigned addresses when assigning addresses,MERGED,2020-06-30 05:33:14.000000000,2020-07-17 14:23:34.000000000,2020-07-17 14:23:34.000000000,67,16,0,738548,e23f226d15f77a2aad6f675f7b89b987aa6ab56b,18,8,1,2,9531,liuyulong,LIU-Yulong,"Update the processing of assigned addresses when assigning addresses

1.It is best not to use 'netaddr.IPSet.add',
  because _compact_single_network in 'IPSet.add' is quite time consuming

2.When the current address pool does not have enough addresses,
  all addresses are allocated from the current pool,
  and allocations are continued from the next address pool
  until all addresses are assigned.

Change-Id: I804a95fdaa3552c785e85ffab7b8ac849c634a87
Closes-Bug: #1813253
(cherry picked from commit 1746d7e0e682eab1001bfc434b73efb1cdf5f0f4)
"
openstack%2Foctavia~stable%2Ftrain~Ie71db27dc383c93496c1dfd69f486a4fd02b597e,openstack/octavia,stable/train,bug/1877818,Ie71db27dc383c93496c1dfd69f486a4fd02b597e,add the verify for the session,MERGED,2020-06-29 08:51:41.000000000,2020-07-17 14:18:54.000000000,2020-07-17 14:16:38.000000000,8,1,0,738402,5954fe677b106d33683285692a6d0ff46f70e775,8,6,1,2,27594,Jie Li,ramboman,"add the verify for the session

We run the octavia scenario test failed when the OpenStack env
enable TLS. So we need add the verify for the session.

Story: 2007662
Task:  39754
Closes-Bug: #1877818
(cherry picked from commit f26ab8b97be7a478fdd391c9e31a5c1a86a2a3cf)

Change-Id: Ie71db27dc383c93496c1dfd69f486a4fd02b597e
"
openstack%2Fdevstack~master~I141acab2a07a4eebd8d850f900058bc8cbf9c7bf,openstack/devstack,master,glance-standalone-default,I141acab2a07a4eebd8d850f900058bc8cbf9c7bf,Default Glance to standalone mode,MERGED,2020-07-15 15:46:39.000000000,2020-07-17 14:18:17.000000000,2020-07-17 14:10:33.000000000,1,1,0,741258,cc0821a5867358b34d7a9c156d02bd19b2f46dec,14,5,2,1,4393,Dan Smith,danms,"Default Glance to standalone mode

A whole set of Glance functionality is not usable under uwsgi, including any
of the more powerful async import, customization, and copying functions.
In order to facilitate writing and running tempest tests for these features
in all environments covered by the various jobs across all the projects that
include Glance, we should default to this deployment method.

It is still possible to deploy glance in uwsgi mode by setting the flag to
False, and we can do that for some jobs to make sure that it continues to
work. However, the default should be what we expect deployers will use,
which is standalone mode.

Depends-On: https://review.opendev.org/741479
Change-Id: I141acab2a07a4eebd8d850f900058bc8cbf9c7bf
"
openstack%2Fgrenade~master~I9ac380aec2689277a2793a67b33b6f9ef8728003,openstack/grenade,master,glance-no-standalone,I9ac380aec2689277a2793a67b33b6f9ef8728003,Always assume glance is uwsgi mode for grenade,MERGED,2020-07-16 15:15:46.000000000,2020-07-17 14:18:16.000000000,2020-07-17 14:10:31.000000000,12,0,0,741479,edb6ddc2db1cf93211bd43a68097a47c5b455582,9,3,2,3,4393,Dan Smith,danms,"Always assume glance is uwsgi mode for grenade

Since older devstack versions do not support glance in standalone mode,
make grenade configure the base and target for glance deployed with
uwsgi.

Change-Id: I9ac380aec2689277a2793a67b33b6f9ef8728003
"
openstack%2Ftempest~master~I6edfd00f0c43cd0bfe688db5e43768288dd4c1c1,openstack/tempest,master,native-zuulv3-migration,I6edfd00f0c43cd0bfe688db5e43768288dd4c1c1,zuul: clean up some legacy jobs,MERGED,2020-07-15 13:40:59.000000000,2020-07-17 14:17:58.000000000,2020-07-17 14:10:30.000000000,1,3,0,741197,b4e0e2c7e7e8fd0972e547043bd4fd36d948dd51,10,4,1,1,10459,Luigi Toscano,ltoscano,"zuul: clean up some legacy jobs

Replace legacy-tempest-dsvm-lvm-multibackend with its native version,
cinder-tempest-lvm-multibackend.

Remove legacy-tempest-dsvm-neutron-dvr-multinode-full, which was defined
as an experimental job in neutron and removed during the ussuri lifecycle.
See https://review.opendev.org/#/c/693630/
It seems neutron-tempest-dvr-ha-multinode-full should cover its use case.

Change-Id: I6edfd00f0c43cd0bfe688db5e43768288dd4c1c1
"
openstack%2Ftripleo-ansible~master~Ie38d8b9fce36ce2f73a2811072e53f405f1367f6,openstack/tripleo-ansible,master,BaR_Ceph_Improvement,Ie38d8b9fce36ce2f73a2811072e53f405f1367f6,BaR Ceph authenticacion more ansible way,MERGED,2020-06-15 15:57:44.000000000,2020-07-17 13:50:47.000000000,2020-07-17 13:50:47.000000000,13,3,5,735628,ad2c7b5892695fd8bb99633724bdb31f36d04c70,46,5,3,2,22954,Juan Badia Payno,jbadiapa,"BaR Ceph authenticacion more ansible way

Instead of execute a command and redirect the output to a file.
This patch gets the output of the command line and writes it
to a file.

Also fixed the molecule-backup_and_restore test

Change-Id: Ie38d8b9fce36ce2f73a2811072e53f405f1367f6
"
openstack%2Fnova~stable%2Fqueens~I764481966c96a67d993da6e902dc9fc3ad29ee36,openstack/nova,stable/queens,bug/1550919,I764481966c96a67d993da6e902dc9fc3ad29ee36,libvirt: Don't delete disks on shared storage during evacuate,MERGED,2020-06-02 15:28:06.000000000,2020-07-17 13:50:05.000000000,2020-07-17 13:50:05.000000000,192,93,3,732717,a54f51b0d2089e7f79db23875e9ff74e212b3435,45,9,5,5,10135,Lee Yarwood,lyarwood,"libvirt: Don't delete disks on shared storage during evacuate

When evacuating an instance between compute hosts on shared storage,
during the rebuild operation we call spawn() on the destination
compute. spawn() currently assumes that it should cleanup all
resources on failure, which results in user data being deleted in the
evacuate case.

This change modifies spawn in the libvirt driver such that it only
cleans up resources it created.

Conflicts:
	nova/virt/libvirt/driver.py

NOTE(lyarwood): Conflicts due to
I51673e58fc8d5f051df911630f6d7a928d123a5b (""Revert resize: wait for
events according to hybrid plug"") not being present in stable/queens.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Closes-Bug: #1550919
Change-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36
(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)
(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)
(cherry picked from commit 1a320f2a0e0918de6afcce5cf23b7de178ec3a49)
(cherry picked from commit a7d8aa699793e1d60ece4e03920e6041337f9a43)
(cherry picked from commit ae7602c1206de23439d6c3609b5872831138aa99)
"
openstack%2Fpuppet-octavia~master~Ieb6bc60eb2750a9f3f0539c2bd0176fabfebb30e,openstack/puppet-octavia,master,,Ieb6bc60eb2750a9f3f0539c2bd0176fabfebb30e,Switch oslo.policy over to yaml,MERGED,2020-06-29 18:44:05.000000000,2020-07-17 13:50:02.000000000,2020-07-17 13:48:04.000000000,17,12,2,738488,daa3c1269f29ecb7aac47f77e41c3ee8b082e15f,21,9,3,3,6469,Carlos Gonalves,cgoncalves,"Switch oslo.policy over to yaml

Upstream switched oslo.policy from JSON to YAML format
output in [1].

[1] https://review.opendev.org/#/c/732453/

Closes-Bug: #1885602

Depends-On: Iec610053a9250cb78c2a17bfc2c197bf55d9df86
Change-Id: Ieb6bc60eb2750a9f3f0539c2bd0176fabfebb30e
"
openstack%2Fneutron~stable%2Fpike~I51050c600ba7090fea71213687d94340bac0674a,openstack/neutron,stable/pike,bug/1869808-stable/queens-stable/pike,I51050c600ba7090fea71213687d94340bac0674a,Do not block connection between br-int and br-phys on startup,MERGED,2020-06-29 22:11:54.000000000,2020-07-17 13:50:02.000000000,2020-07-17 13:43:41.000000000,10,3,0,738523,1f4f888ad34d54ec968d9c9f9f80c388f3ca0d12,19,7,2,1,29071,norman shen,ushen,"Do not block connection between br-int and br-phys on startup

Block traffic between br-int and br-physical is over kill
and will at least

1. interrupt vlan flow during startup, and is particularly
so if dvr enabled
2. if let's rabbitmq is not stable, it is possible data plane
will be affected and vlan will never work.

Using openstack on k8s particularly amplifies the problem
because pod could be killed pretty easily by liveness
probes.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I51050c600ba7090fea71213687d94340bac0674a
Closes-Bug: #1869808
(cherry picked from commit 90212b12cdf62e92d811997ebba699cab431d696)
"
openstack%2Fcharm-masakari~master~I5486fe829815a6127496e910ccee3d9e76ec54a9,openstack/charm-masakari,master,batch-update,I5486fe829815a6127496e910ccee3d9e76ec54a9,Add victoria package version,MERGED,2020-07-13 19:13:07.000000000,2020-07-17 13:47:57.000000000,2020-07-17 13:47:57.000000000,1,0,0,740780,7e7c97866f056bfaa9a07b6c49a36f0ae97abe66,12,5,1,1,11805,Corey Bryant,coreycb,"Add victoria package version

Change-Id: I5486fe829815a6127496e910ccee3d9e76ec54a9
"
openstack%2Fcharm-trilio-wlm~master~I0f1a9beba8d6a1454d1e97560103f9228d3ccb8a,openstack/charm-trilio-wlm,master,bug/1887401,I0f1a9beba8d6a1454d1e97560103f9228d3ccb8a,Set cloud_unique_id to service account id,MERGED,2020-07-14 08:53:26.000000000,2020-07-17 13:40:51.000000000,2020-07-17 13:40:51.000000000,1,1,0,740919,6993eb54c2e3b03bf73281ae2f7e0aa479337e0d,7,3,1,1,935,James Page,james-page,"Set cloud_unique_id to service account id

The cloud_unique_id is used by TrilioVault in functions associated
with global scheduling, import and auditing.

Ensure it is set to the ID of the trilio service account.

Change-Id: I0f1a9beba8d6a1454d1e97560103f9228d3ccb8a
Closes-Bug: 1887401
"
openstack%2Ftripleo-quickstart-extras~master~Ic3cb165b80ef7bed11381a3925a7d6294162ed78,openstack/tripleo-quickstart-extras,master,images/new,Ic3cb165b80ef7bed11381a3925a7d6294162ed78,standalone: add support to build containers before deployment,MERGED,2020-05-20 01:33:46.000000000,2020-07-17 13:37:12.000000000,2020-07-03 20:32:56.000000000,104,1,5,729465,bbee06f544ae2cb7772dfeaaee200af46cbe6faa,217,9,47,8,3153,Emilien Macchi,emilienm,"standalone: add support to build containers before deployment

* Create a new role, container-build, that will install
  a Docker registry in a container, running on port 5001
  and run tripleo_container_image_build to build TripleO images from
  scratch.
* Update the standalone deploy role so it can deploy TripleO from
  locally built container images and not from a remote registry.

Change-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78
"
openstack%2Fcharm-masakari-monitors~master~I62f5315c32cfc014ef8a8581ca5f977ec6114263,openstack/charm-masakari-monitors,master,batch-update,I62f5315c32cfc014ef8a8581ca5f977ec6114263,"Add victoria, ussuri, train package versions",MERGED,2020-07-13 19:15:24.000000000,2020-07-17 13:35:55.000000000,2020-07-17 13:35:55.000000000,3,2,0,740782,a0e1741a913d4863ab4b8c4e7ba2e63d4c1dfbbe,14,4,2,2,11805,Corey Bryant,coreycb,"Add victoria, ussuri, train package versions

Also remove jinja2 from wheelhouse.txt as is a duplicate
and due to improvements in charm build it now causes the
build to fail.

Change-Id: I62f5315c32cfc014ef8a8581ca5f977ec6114263
"
openstack%2Freleases~master~I12855da61e2466a42bb81c18bcc9851e52eab536,openstack/releases,master,oslo-victoria-07-17,I12855da61e2466a42bb81c18bcc9851e52eab536,Release oslo's projects for victoria - 2020-07-17,MERGED,2020-07-17 10:32:44.000000000,2020-07-17 13:29:22.000000000,2020-07-17 13:29:22.000000000,20,0,1,741612,a0128974b0c77a65f3bc26d87ab42bd46d22d99c,7,3,1,5,28522,Herv Beraud,hberaud,"Release oslo's projects for victoria - 2020-07-17

Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536
"
openstack%2Ftripleo-heat-templates~master~Ic3a5f7d079993ca31176df5e460640938495bb7b,openstack/tripleo-heat-templates,master,become,Ic3a5f7d079993ca31176df5e460640938495bb7b,Add become: true to the container json file modules,MERGED,2020-07-15 02:51:53.000000000,2020-07-17 13:23:26.000000000,2020-07-16 23:31:26.000000000,2,0,0,741074,4395e4a3ceb41874a8855129444e6387686c649b,15,6,2,1,3153,Emilien Macchi,emilienm,"Add become: true to the container json file modules

Adding the become: true when calling the modules which manage files in
/var/lib/tripleo-config, they need root access.

Change-Id: Ic3a5f7d079993ca31176df5e460640938495bb7b
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I40731728dcb79fde0fbbba42f7e0bab3e4da1729,openstack/puppet-tripleo,stable/ussuri,gemfile-ussuri,I40731728dcb79fde0fbbba42f7e0bab3e4da1729,Update Gemfile for stable/ussuri,MERGED,2020-07-17 02:45:11.000000000,2020-07-17 13:09:12.000000000,2020-07-17 13:09:12.000000000,1,0,0,741571,d5c6e1c567a95f9115a3611d4be9d2f3ce2b4822,9,4,2,1,9816,Takashi Kajinami,kajinamit,"Update Gemfile for stable/ussuri

Change-Id: I40731728dcb79fde0fbbba42f7e0bab3e4da1729
"
openstack%2Frpm-packaging~master~Ic9ce2bef96a51d02d2cd70947f7d91eecea1d8a2,openstack/rpm-packaging,master,,Ic9ce2bef96a51d02d2cd70947f7d91eecea1d8a2,glance: update filelist for glance-registry removal,MERGED,2020-07-16 19:07:15.000000000,2020-07-17 13:02:06.000000000,2020-07-17 13:02:06.000000000,0,52,0,741523,6b15f9075c7707fc1816724cb39f52fd7017c473,11,5,1,2,6593,Dirk Mueller,dmllr,"glance: update filelist for glance-registry removal

Change-Id: Ic9ce2bef96a51d02d2cd70947f7d91eecea1d8a2
"
openstack%2Frpm-packaging~master~I8d8678e41db94d9f1ce1d7f89780dbcd4987f229,openstack/rpm-packaging,master,,I8d8678e41db94d9f1ce1d7f89780dbcd4987f229,freezer-api: switch to stestr,MERGED,2020-07-16 19:12:04.000000000,2020-07-17 12:58:21.000000000,2020-07-17 12:58:21.000000000,2,2,0,741525,de4cf782394ab1057815819f3bb8bfb9fd8c38bc,9,5,1,1,6593,Dirk Mueller,dmllr,"freezer-api: switch to stestr

Change-Id: I8d8678e41db94d9f1ce1d7f89780dbcd4987f229
"
openstack%2Ftripleo-ci~master~I80f4c698a3860f55590a12973c025344df217cd5,openstack/tripleo-ci,master,test-scen010,I80f4c698a3860f55590a12973c025344df217cd5,DNM: Test scenario010 on puppet-octavia,ABANDONED,2020-07-17 12:32:07.000000000,2020-07-17 12:49:31.000000000,,1,0,0,741628,7e0bff3c537c306e95d7113b3024164c20bb9bab,4,0,3,1,9976,Ronelle Landy,rlandy,"DNM: Test scenario010 on puppet-octavia

Change-Id: I80f4c698a3860f55590a12973c025344df217cd5
Depends-On: https://review.opendev.org/#/c/738488/
"
openstack%2Fdiskimage-builder~master~I42208f147973ed31e3eda9c7024dca3a1c5279a2,openstack/diskimage-builder,master,update_ipa_jobs,I42208f147973ed31e3eda9c7024dca3a1c5279a2,Update ipa jobs,NEW,2020-07-13 09:27:45.000000000,2020-07-17 12:47:04.000000000,,2,2,0,740642,58acf5a6d1ff51ddd487ed1128e231ecee8f4f3c,8,6,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Update ipa jobs

On Ironic we've update the  name of the jobs.
Let's use the new ones.

Depends-On: https://review.opendev.org/740641
Change-Id: I42208f147973ed31e3eda9c7024dca3a1c5279a2
"
openstack%2Ftripleo-quickstart-extras~master~If764a36d76278d303e07177b41d11db7370c5c87,openstack/tripleo-quickstart-extras,master,reprofix,If764a36d76278d303e07177b41d11db7370c5c87,Add mandatory container_mode to reproducer script,MERGED,2020-07-16 09:47:18.000000000,2020-07-17 12:20:39.000000000,2020-07-17 12:20:39.000000000,44,36,0,741417,9a3f78fc94f04a765f00ecf8176dde824ea02791,14,5,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add mandatory container_mode to reproducer script

Reproducer playbook requires container_mode, set it for 'podman'
by default.
Change-Id: If764a36d76278d303e07177b41d11db7370c5c87
"
openstack%2Ftripleo-quickstart~master~I66ccb49b1adb06247f6b9794599ae28a7365fe0b,openstack/tripleo-quickstart,master,reprofix,I66ccb49b1adb06247f6b9794599ae28a7365fe0b,Don't force qemu guest installation,MERGED,2020-07-16 13:05:35.000000000,2020-07-17 12:19:50.000000000,2020-07-17 12:16:58.000000000,1,0,0,741446,d4d3f225513b4df28d4f37a395dea04277110a71,11,6,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Don't force qemu guest installation

It may depend on the image which doesn't have required repos to
install qemu-guest, in total it's not mandatory. Don't fail
playbook on this task.
Change-Id: I66ccb49b1adb06247f6b9794599ae28a7365fe0b
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~Idac62d37a19ee49f30936e20021a9dab5af40eec,openstack/python-tripleoclient,stable/ussuri,Idac62d37a19ee49f30936e20021a9dab5af40eec-stable/ussuri,Idac62d37a19ee49f30936e20021a9dab5af40eec,Fix package manager used during undercloud packages update,MERGED,2020-07-16 06:39:44.000000000,2020-07-17 11:46:06.000000000,2020-07-17 11:43:53.000000000,28,5,0,741383,c20dcf9aeab45cd062c5cbe82c9c5baf9dc20684,13,8,1,2,8449,Marios Andreou,marios,"Fix package manager used during undercloud packages update

As described in the related bug we need to use dnf instead of yum
for centos8 otherwise it fails in the undercloud packages update.

I am using the python version to determine - py3 is dnf. As part of
discussion here when dnf isn't available fall back to yum.

Found as part of the work in [1].

Related-Bug: 1886837
[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817

Change-Id: Idac62d37a19ee49f30936e20021a9dab5af40eec
(cherry picked from commit 9c53cb3ef5ad513b05d4888552a3280e0eec43ca)
"
openstack%2Fcloudkitty-dashboard~master~Iaa76d1476320085a95c844bf1001153da957ec0c,openstack/cloudkitty-dashboard,master,zanata/translations,Iaa76d1476320085a95c844bf1001153da957ec0c,Imported Translations from Zanata,MERGED,2020-07-10 06:33:27.000000000,2020-07-17 11:44:22.000000000,2020-07-17 11:41:58.000000000,8,5,0,740404,86ad84efdcd0b3852c0309dedd5498c5188e0bc7,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iaa76d1476320085a95c844bf1001153da957ec0c
"
openstack%2Ftripleo-common~master~I985ef22c340c4071866c8c51bf303a6f4ee7713c,openstack/tripleo-common,master,,I985ef22c340c4071866c8c51bf303a6f4ee7713c,Don't assume default tag exists in container repo,MERGED,2020-07-06 19:23:04.000000000,2020-07-17 11:41:18.000000000,2020-07-16 23:20:17.000000000,56,32,1,739594,0c4de9c771fad75ebabe2d18f5aef4b76613d52a,36,8,2,6,7144,James Slagle,slagle,"Don't assume default tag exists in container repo

When no tag is set for an entry in ContainerImagePrepare, the default
tag from container-images/container_image_prepare_defaults.yaml will be
assumed, which is typically current-tripleo, or a release version such
as 16.0.

In most cases, this tag will exist. However, when using a satellite with
a content view that has been filtered on tags, it likely won't exist
since content views are often used with container image versions that
are not the latest.

In the case where no tag is set in the entry in ContainerImagePrepare,
and the default tag does not exist in the container repo, the latest tag
from the repo will be assumed instead.

Change-Id: I985ef22c340c4071866c8c51bf303a6f4ee7713c
Closes-Bug: #1886547
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fbifrost~stable%2Fussuri~I4d7640a24fac9fca2c24bc06fcedff400d74ed8d,openstack/bifrost,stable/ussuri,selinux-stable/ussuri,I4d7640a24fac9fca2c24bc06fcedff400d74ed8d,selinux: allow nginx to read symbolic links,MERGED,2020-07-17 09:52:43.000000000,2020-07-17 11:12:00.000000000,2020-07-17 11:09:38.000000000,8,1,0,741608,334c30925d8d0bc7386d6237aa59b807248f7f05,7,2,1,2,10239,Dmitry Tantsur,dtantsur,"selinux: allow nginx to read symbolic links

This is required to support netboot (which is off by default, but
is useful together with the netboot fallback).

Change-Id: I4d7640a24fac9fca2c24bc06fcedff400d74ed8d
(cherry picked from commit 8210ff3696a82293e554f28f46b978bba9496db1)
"
openstack%2Fmetalsmith~master~I5b02daeb1a2b073dc25a9646975a840f22d03058,openstack/metalsmith,master,tox-m-pip,I5b02daeb1a2b073dc25a9646975a840f22d03058,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:45:18.000000000,2020-07-17 11:00:26.000000000,2020-07-17 10:54:03.000000000,1,1,0,741203,c086a4d51f5d83d499499895cc11b01b8ada2a68,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I5b02daeb1a2b073dc25a9646975a840f22d03058
"
openstack%2Fmetalsmith~master~I5a72455729d93b32df11ede7713b16045a395aee,openstack/metalsmith,master,neutron-legacy,I5a72455729d93b32df11ede7713b16045a395aee,"Metalsmith to use DevStack's neutron""-legacy"" module",MERGED,2020-07-16 14:59:19.000000000,2020-07-17 10:57:52.000000000,2020-07-17 10:54:02.000000000,6,12,0,741476,ea6d4e62654fdb3d082687b83eaee5a31f693018,8,3,1,1,6773,Lucas Alvares Gomes,lucasagomes,"Metalsmith to use DevStack's neutron""-legacy"" module

In the last PTG the Neutron team discussed and decided to undeprecate
the neutron-legacy module in DevStack because that's the module being
used (almost) everywhere and it works. The lib/neutron was an attempt
to refactor the old module but, in the last few years it hasn't gained
any traction and due to the lack of features and people to work on it,
it's going to be removed from DevStack eventually.

Below is a snippet from the PTG summary email [0] about this topic:

<snippet>
In Devstack there are currently 2 modules which can configure
Neutron. Old one called ""lib/neutron-legacy"" and the new one called
""lib/neutron"". It is like that since many cycles that
""lib/neutron-legacy""
is deprecated. But it is still used everywhwere. New module isn't still
finished and isn't working fine.  This is very confusing for users as
really maintained and recommended is still ""lib/neutron-legacy"" module.

During the discussion Sean Collins explained us that originally this
new module was created as an attempt to refactor old module, and to
make Neutron in the Devstack better to maintain. But now we see that
this process failed as new module isn't still used and we don't have
any cycles to work on it. So our final conclusion is to ""undeprecate""
old ""lib/neutron-legacy"" and get rid of the new module.
</snippet>

This patch changes the Metalsmith jobs to use the old Neutron module in
DevStack.

[0]
http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015368.html
[1]
http://codesearch.openstack.org/?q=neutron-api%3A%20true&i=nope&files=&repos=

Change-Id: I5a72455729d93b32df11ede7713b16045a395aee
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fmanila~master~I44117debfc5b7cdef6acb706786963ec81f59db7,openstack/manila,master,native-zuulv3-migration,I44117debfc5b7cdef6acb706786963ec81f59db7,Add plugin name to devstack/settings,MERGED,2020-07-16 22:43:27.000000000,2020-07-17 10:55:54.000000000,2020-07-17 10:52:42.000000000,2,0,0,741556,99063598297c9231cfacb2aada2edac603dc1e51,12,8,1,1,16643,Goutham Pacha Ravi,gouthamr,"Add plugin name to devstack/settings

Needed for zuulv3 jobs that use two
devstack plugins that need to be invoked
in a pre-defined order [1]

[1] https://docs.openstack.org/devstack/latest/plugins.html#plugin-interface

Change-Id: I44117debfc5b7cdef6acb706786963ec81f59db7
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fcharm-cinder-purestorage~master~I839e720ccdea1440069ea98b84b1621a47824325,openstack/charm-cinder-purestorage,master,enable-focal,I839e720ccdea1440069ea98b84b1621a47824325,Add focal and ussuri bundles to the charm,MERGED,2020-05-19 19:49:27.000000000,2020-07-17 10:50:26.000000000,2020-07-17 10:50:26.000000000,136,0,0,729370,ec02c2c1e8ee98523c910a031c1fb7ab23d71acd,27,5,3,4,12549,gnuoy,gnuoy,"Add focal and ussuri bundles to the charm

Change-Id: I839e720ccdea1440069ea98b84b1621a47824325
"
openstack%2Fironic~stable%2Ftrain~I5a4e0a40659042087b7a466baae0a8c3dc136211,openstack/ironic,stable/train,delete-broken-stable/train,I5a4e0a40659042087b7a466baae0a8c3dc136211,Allow deleting nodes with a broken driver,MERGED,2020-07-16 14:08:43.000000000,2020-07-17 10:40:35.000000000,2020-07-17 10:38:25.000000000,30,0,0,741461,692cf843c617c8c02f829bfc3a34ade1b6490f32,8,3,1,4,10239,Dmitry Tantsur,dtantsur,"Allow deleting nodes with a broken driver

The only reason we need a driver is to stop serial console. Only try
to load the driver in this case.

Change-Id: I5a4e0a40659042087b7a466baae0a8c3dc136211
(cherry picked from commit 53325881527467891044618685e942c660e65a0b)
"
openstack%2Fironic~stable%2Fussuri~I5a4e0a40659042087b7a466baae0a8c3dc136211,openstack/ironic,stable/ussuri,delete-broken-stable/ussuri,I5a4e0a40659042087b7a466baae0a8c3dc136211,Allow deleting nodes with a broken driver,MERGED,2020-07-16 14:08:34.000000000,2020-07-17 10:40:31.000000000,2020-07-17 10:38:23.000000000,30,0,0,741460,4253956c0f1441a74ae22403c56dafc9952215d8,8,3,1,4,10239,Dmitry Tantsur,dtantsur,"Allow deleting nodes with a broken driver

The only reason we need a driver is to stop serial console. Only try
to load the driver in this case.

Change-Id: I5a4e0a40659042087b7a466baae0a8c3dc136211
(cherry picked from commit 53325881527467891044618685e942c660e65a0b)
"
openstack%2Fneutron~stable%2Fussuri~I795ee7ca729646be0411a1232bf218015c65010f,openstack/neutron,stable/ussuri,bug/1883712-stable/ussuri,I795ee7ca729646be0411a1232bf218015c65010f,Add config option ``http_retries``,MERGED,2020-07-09 10:11:22.000000000,2020-07-17 10:19:23.000000000,2020-07-17 10:16:17.000000000,20,2,0,740214,34d4a8bb9907a41bc3aee8398c68a54f0e91fe1d,22,3,1,5,11975,Slawek Kaplonski,slaweq,"Add config option ``http_retries``

This option allows to configure Number of times nova or ironic client
should retry on any failed http call.
Default value for this new option is ""3"".

Change-Id: I795ee7ca729646be0411a1232bf218015c65010f
Closes-Bug: #1883712
(cherry picked from commit e94511cd251299cee84b8b67d404972988ae28d3)
"
openstack%2Fopenstack-helm-infra~master~Ib34d7b1385e039d8c7bf82dcdb756bce2cc12bd2,openstack/openstack-helm-infra,master,,Ib34d7b1385e039d8c7bf82dcdb756bce2cc12bd2,[ceph-osd] Add get_lv_from_device helper function,MERGED,2020-07-15 17:45:42.000000000,2020-07-17 10:06:22.000000000,2020-07-17 10:03:10.000000000,8,1,0,741289,858a2b166fea155455bc84043673e36693357355,21,6,4,1,29974,Stephen Taylor,st053q,"[ceph-osd] Add get_lv_from_device helper function

There was already a call to a nonexistent get_lv_from_device helper
function in get_lv_size_from_device. The get_lv_from_device function has
been added and the line in get_lvm_tag_from_device that gets the logical
volume has been updated to use the new helper function.

Change-Id: Ib34d7b1385e039d8c7bf82dcdb756bce2cc12bd2
"
openstack%2Fopenstack-helm-infra~master~I87e1c1fe3d61680a73701d48f85e5c48c11b6325,openstack/openstack-helm-infra,master,,I87e1c1fe3d61680a73701d48f85e5c48c11b6325,Remove the Elasticsearch Wait job from the chart,MERGED,2020-07-15 13:21:02.000000000,2020-07-17 10:00:56.000000000,2020-07-17 09:59:12.000000000,4,140,0,741183,3257ed1db8fc83324756242122397a90bc82a2cc,17,6,4,5,30777,Steven Fitzpatrick,sf280x,"Remove the Elasticsearch Wait job from the chart

The elastic-cluster-wait job was meant to serve as a dependency check
for a couple of other jobs, such that when this wait job was complete
the other jobs could procede successfully. This goal can be achieved
by using our HTK init container's dependency check however.

The two jobs that waited on this wait job just need to use the
elasticsearch API, which is available once the `elasticsearch-logging`
service has endpoints.

Change-Id: I87e1c1fe3d61680a73701d48f85e5c48c11b6325
"
openstack%2Fbifrost~master~I4d7640a24fac9fca2c24bc06fcedff400d74ed8d,openstack/bifrost,master,selinux,I4d7640a24fac9fca2c24bc06fcedff400d74ed8d,selinux: allow nginx to read symbolic links,MERGED,2020-07-16 15:59:28.000000000,2020-07-17 09:52:43.000000000,2020-07-17 04:44:05.000000000,8,1,0,741491,8210ff3696a82293e554f28f46b978bba9496db1,10,3,2,2,10239,Dmitry Tantsur,dtantsur,"selinux: allow nginx to read symbolic links

This is required to support netboot (which is off by default, but
is useful together with the netboot fallback).

Change-Id: I4d7640a24fac9fca2c24bc06fcedff400d74ed8d
"
openstack%2Fcharm-trilio-dm-api~master~I4805d8b5523305627cf4e5bf4880b95b2d7bf4bc,openstack/charm-trilio-dm-api,master,victoria-charm-tests,I4805d8b5523305627cf4e5bf4880b95b2d7bf4bc,Add Ussuri and Victoria test bundles,ABANDONED,2020-07-14 11:44:06.000000000,2020-07-17 09:43:46.000000000,,1333,0,0,740943,9b0a85cf3e52f1eeef60e047aa3dad4467f679c4,14,4,2,6,31289,Aurelien Lourot,lourot,"Add Ussuri and Victoria test bundles

Also add focal to metadata.

Change-Id: I4805d8b5523305627cf4e5bf4880b95b2d7bf4bc
"
openstack%2Fironic-python-agent~master~Icffc137ad96dbd331341c2ad936a84464a3343a4,openstack/ironic-python-agent,master,,Icffc137ad96dbd331341c2ad936a84464a3343a4,Unified import ruleUsing oslo_serialization instead of the json,ABANDONED,2019-05-14 09:16:29.000000000,2020-07-17 09:42:44.000000000,,2,2,0,658995,9ac40c374a369b37ee5dfab6bd6d530d7b427df9,6,2,1,1,30387,weidong.huang,huang.weidong,"Unified import ruleUsing oslo_serialization instead of the json

Change-Id: Icffc137ad96dbd331341c2ad936a84464a3343a4
"
openstack%2Fcharm-trilio-horizon-plugin~master~Iaf49e0d0ef58ad85526bf26e3d4bc410bed7dc64,openstack/charm-trilio-horizon-plugin,master,victoria-charm-tests,Iaf49e0d0ef58ad85526bf26e3d4bc410bed7dc64,Add Ussuri and Victoria test bundles,ABANDONED,2020-07-14 10:17:03.000000000,2020-07-17 09:42:35.000000000,,1316,0,0,740934,a1500deedb50ddb9736136ee2e40756994bad769,25,4,5,6,31289,Aurelien Lourot,lourot,"Add Ussuri and Victoria test bundles

Also add focal to metadata.

Change-Id: Iaf49e0d0ef58ad85526bf26e3d4bc410bed7dc64
"
openstack%2Fpuppet-pacemaker~master~I2019b7f3f41796ec38e4bdf8f1943ce7fc111f60,openstack/puppet-pacemaker,master,fix-typo,I2019b7f3f41796ec38e4bdf8f1943ce7fc111f60,Fix typo in CRMDIFF_BIN,MERGED,2020-07-17 08:03:21.000000000,2020-07-17 09:34:21.000000000,2020-07-17 09:34:21.000000000,1,1,0,741596,1bb2fe70b1e09dfb04ada5286d86d8d08de48f53,7,3,1,1,20172,Michele Baldessari,michele,"Fix typo in CRMDIFF_BIN

Fix obvious typo that slipped when killing warnings around redefinition
of constants

Change-Id: I2019b7f3f41796ec38e4bdf8f1943ce7fc111f60
"
openstack%2Ftripleo-ci~master~I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c,openstack/tripleo-ci,master,centos8_upgrades_jobs,I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c,Add centos8 standalone-upgrade master and stable/ussuri jobs,MERGED,2020-07-01 13:13:52.000000000,2020-07-17 09:22:42.000000000,2020-07-17 09:22:42.000000000,22,0,14,738844,1a84b757dffdf48d10d9f562efb7080588a0af8e,53,13,12,1,8449,Marios Andreou,marios,"Add centos8 standalone-upgrade master and stable/ussuri jobs

Adds the tripleo-ci-centos-8-standalone-upgrade as well as -ussuri
These are non voting for now but -train and -ussuri will go voting
asap as a followup. Thus only added to check not gate yet.
Tracked by tripleo-ci at [1].

[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817

Change-Id: I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c
"
openstack%2Fneutron~master~I57feb9730ef59c2d1110955b5b83a8748d830f50,openstack/neutron,master,bug/1667329,I57feb9730ef59c2d1110955b5b83a8748d830f50,[WIP] Floating IP for routed networks,ABANDONED,2020-07-16 10:42:17.000000000,2020-07-17 09:07:56.000000000,,21,3,2,741429,2b9033b5a9879e15db5a70297a3105222bcb2891,11,5,2,3,6476,Thomas Goirand,thomas-goirand,"[WIP] Floating IP for routed networks

This change is a proof-of-concept for enabling floating IP's on routed
networks. To be able to create a subnet that spans all segments of a
routed network, a special subnet service type of 'network:routed' is
used to denote a network that can span all segments of a routed network.
To create floating IP's on a routed network, the subnet must be created
with a service_type of 'network:routed'. After the subnet has been
created, floating IP's can be allocated and associated as before.
See the design spec https://review.opendev.org/#/c/486450/ for
reference.

One caveat for this approach is that it requires the underlying
infrastructure to be aware of and able to route /32 host routes
for the floating IP. This implies that in practice, use of the
'network:routed' service type should be done in conjunction with
one or both of the following:

1. Third-party SDN backend that handles this service type in its
   own way
2. neutron-dynamic-routing and the BGP service plugin for announcing
   the appropriate next-hops for floating IP's. This is compatible
   with DVR and non-DVR environments.

Change-Id: I57feb9730ef59c2d1110955b5b83a8748d830f50
Partial-Bug: #1667329
"
openstack%2Fvalidations-common~master~I4a016387722a565eaacc5b90d3988811ee3f49d3,openstack/validations-common,master,cli/script,I4a016387722a565eaacc5b90d3988811ee3f49d3,Add validation.py as script in setup.cfg,MERGED,2020-07-09 12:07:19.000000000,2020-07-17 08:59:54.000000000,2020-07-17 08:59:54.000000000,3,0,0,740258,57eec174977bd98d6848500b00592eb625aaec35,7,3,1,1,16515,mbu,matbu,"Add validation.py as script in setup.cfg

Change-Id: I4a016387722a565eaacc5b90d3988811ee3f49d3
"
openstack%2Fneutron~stable%2Fstein~Ief52fac479d4b3cfa5f90118235c241a14b1011f,openstack/neutron,stable/stein,bug/1886216,Ief52fac479d4b3cfa5f90118235c241a14b1011f,[stable only] Configure logging in keepalived_state_change,MERGED,2020-07-03 17:43:15.000000000,2020-07-17 08:37:41.000000000,2020-07-17 08:35:07.000000000,1,1,2,739267,6fd89dacf3b1a14e8f4b49ee719edc23981536d5,33,7,3,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[stable only] Configure logging in keepalived_state_change

In versions prior to Train, the ""keepalived-state-change"" monitor
does not format correctly the log messages. That happens when the
""Daemon.run()"" method executes ""unwatch_log"". After the privileges
are dropped, the logging should be configured again.

Change-Id: Ief52fac479d4b3cfa5f90118235c241a14b1011f
Closes-Bug: #1886216
"
openstack%2Fneutron~stable%2Frocky~I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,openstack/neutron,stable/rocky,bug/1824504-stable/rocky,I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,Don't add arp responder for non tunnel network port,MERGED,2020-07-10 10:26:28.000000000,2020-07-17 08:35:10.000000000,2020-07-17 08:35:10.000000000,36,0,0,740438,0ac6d5fbaed1859abe0847f3d33594df8807b0aa,13,5,1,2,29071,norman shen,ushen,"Don't add arp responder for non tunnel network port

When the vlan and vxlan both exist in env, and l2population
and arp_responder are enabled, if we update a port's ip address
from vlan network, there will be arp responder related flows
added into br-tun, this will cause too many arp reply for
one arp request, and vm connections will be unnormal.

Closes-Bug: #1824504
Change-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b
(cherry picked from commit 5301ecf41b18e83abdc3c828cd64ce0111f9fcd1)
"
openstack%2Fironic-prometheus-exporter~master~Ie8f795e8ff13461e14ff8b9e5bcf3b0ed8b629f5,openstack/ironic-prometheus-exporter,master,neutron-legacy,Ie8f795e8ff13461e14ff8b9e5bcf3b0ed8b629f5,"Prometheus-exporter to use DevStack's neutron""-legacy"" module",MERGED,2020-07-16 15:02:59.000000000,2020-07-17 08:14:29.000000000,2020-07-17 08:10:00.000000000,6,12,0,741477,7f799a3111aa14186b72605d4f272e60aadfd984,9,3,1,1,6773,Lucas Alvares Gomes,lucasagomes,"Prometheus-exporter to use DevStack's neutron""-legacy"" module

In the last PTG the Neutron team discussed and decided to undeprecate
the neutron-legacy module in DevStack because that's the module being
used (almost) everywhere and it works. The lib/neutron was an attempt
to refactor the old module but, in the last few years it hasn't gained
any traction and due to the lack of features and people to work on it,
it's going to be removed from DevStack eventually.

Below is a snippet from the PTG summary email [0] about this topic:

<snippet>
In Devstack there are currently 2 modules which can configure
Neutron. Old one called ""lib/neutron-legacy"" and the new one called
""lib/neutron"". It is like that since many cycles that
""lib/neutron-legacy""
is deprecated. But it is still used everywhwere. New module isn't still
finished and isn't working fine.  This is very confusing for users as
really maintained and recommended is still ""lib/neutron-legacy"" module.

During the discussion Sean Collins explained us that originally this
new module was created as an attempt to refactor old module, and to
make Neutron in the Devstack better to maintain. But now we see that
this process failed as new module isn't still used and we don't have
any cycles to work on it. So our final conclusion is to ""undeprecate""
old ""lib/neutron-legacy"" and get rid of the new module.
</snippet>

This patch changes the ironic-prometheus-exporter jobs to use the old
Neutron module in DevStack.

[0]
http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015368.html
[1]
http://codesearch.openstack.org/?q=neutron-api%3A%20true&i=nope&files=&repos=

Change-Id: Ie8f795e8ff13461e14ff8b9e5bcf3b0ed8b629f5
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fneutron~master~I51050c600ba7090fea71213687d94340bac0674a,openstack/neutron,master,bug/1869808,I51050c600ba7090fea71213687d94340bac0674a,Do not block connection between br-int and br-phys on startup,MERGED,2020-06-04 11:55:38.000000000,2020-07-17 08:04:34.000000000,2020-06-29 15:53:22.000000000,23,14,16,733568,90212b12cdf62e92d811997ebba699cab431d696,64,14,5,1,29071,norman shen,ushen,"Do not block connection between br-int and br-phys on startup

Block traffic between br-int and br-physical is over kill
and will at least

1. interrupt vlan flow during startup, and is particularly
so if dvr enabled
2. if let's rabbitmq is not stable, it is possible data plane
will be affected and vlan will never work.

Using openstack on k8s particularly amplifies the problem
because pod could be killed pretty easily by liveness
probes.

Change-Id: I51050c600ba7090fea71213687d94340bac0674a
Closes-Bug: #1869808
"
openstack%2Ftripleo-ci~master~I9b3a4074aa8261dde55ad9c01faf94a0e918ace1,openstack/tripleo-ci,master,,I9b3a4074aa8261dde55ad9c01faf94a0e918ace1,"Revert ""set minion job to nv for now""",MERGED,2020-07-13 12:07:18.000000000,2020-07-17 07:52:41.000000000,2020-07-17 07:52:41.000000000,2,1,0,740682,d5793a19a245fdb173e13b2725e28746769614ef,28,10,3,1,3153,Emilien Macchi,emilienm,"Revert ""set minion job to nv for now""

The job should be voting now.

This reverts commit bd70935df50967507ba00047e89d859393159288.

Change-Id: I9b3a4074aa8261dde55ad9c01faf94a0e918ace1
"
openstack%2Fcharm-masakari-monitors~master~I78bbc765a67e8f92a618a7be1aed86b37f41051d,openstack/charm-masakari-monitors,master,bug/1885935,I78bbc765a67e8f92a618a7be1aed86b37f41051d,Remove duplicate dependency: Jinja2,MERGED,2020-07-13 20:43:32.000000000,2020-07-17 07:34:31.000000000,2020-07-17 07:34:31.000000000,0,2,0,740807,0f7e7851657e8c9f7e1ec1e0fec8a40c42d0a940,13,4,1,1,20805,David Ames,thedac,"Remove duplicate dependency: Jinja2

Change-Id: I78bbc765a67e8f92a618a7be1aed86b37f41051d
Closes-Bug: #1885935
"
openstack%2Freleases~master~Ia5ef18024c16195b2561f480f3352ec9ef613224,openstack/releases,master,starlingx-docs,Ia5ef18024c16195b2561f480f3352ec9ef613224,Release openstackdocstheme 2.2.5,MERGED,2020-07-16 21:28:06.000000000,2020-07-17 07:30:51.000000000,2020-07-17 07:30:51.000000000,4,0,0,741550,805b89697562427a3d40fc94a51a88df23054055,8,4,1,1,5263,Jeremy Stanley,fungi,"Release openstackdocstheme 2.2.5

The StarlingX docs site utilizes a theme variant within the
openstackdocstheme repo, but consumes packaged releases. A recent
change merged to add a version drop-down, and the StarlingX
community would appreciate a new openstackdocstheme release to make
use of it.

Change-Id: Ia5ef18024c16195b2561f480f3352ec9ef613224
"
openstack%2Ftrove~master~I0ddd7214dae6e29ddfaf045fdb282f4980a8afff,openstack/trove,master,container-name,I0ddd7214dae6e29ddfaf045fdb282f4980a8afff,Support backup strategy API,MERGED,2020-07-15 22:31:49.000000000,2020-07-17 07:16:36.000000000,2020-07-17 07:12:00.000000000,670,608,0,741334,828e873846495df6d6911f9c196ae1fb478492f5,11,2,3,34,6732,Lingxian Kong,kong,"Support backup strategy API

Change-Id: I0ddd7214dae6e29ddfaf045fdb282f4980a8afff
"
openstack%2Fironic~master~I16ccefd5ac18cda99fa58415153ddbf0276041fc,openstack/ironic,master,ovn-devstack,I16ccefd5ac18cda99fa58415153ddbf0276041fc,DNM: Just test the patch under with devstack change,NEW,2020-07-15 14:34:58.000000000,2020-07-17 07:13:51.000000000,,1,0,0,741226,e7a9fd33441a497adcbae079b8007fde38593af8,8,3,2,1,8655,Jakub Libosvar,jlibosva,"DNM: Just test the patch under with devstack change

Depends-On: https://review.opendev.org/#/c/735097
Change-Id: I16ccefd5ac18cda99fa58415153ddbf0276041fc
"
openstack%2Ftripleo-common~stable%2Fussuri~I29d3a2ed0bdfce412ebef549c29053754763e555,openstack/tripleo-common,stable/ussuri,nsswitch/ussuri,I29d3a2ed0bdfce412ebef549c29053754763e555,Drop systemd support from nsswitch.conf,MERGED,2020-07-07 13:26:35.000000000,2020-07-17 07:13:37.000000000,2020-07-17 07:07:53.000000000,1,0,0,739744,5af8278c5967cc5ddc4e779d8e39f94483e12164,51,6,5,1,3153,Emilien Macchi,emilienm,"Drop systemd support from nsswitch.conf

A bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we
should remove the nss-systemd lookup from containers. The reasons for
this are as follows:
1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5
when this nss module is triggered it tries to talk to dbus.
It triggers a bunch of selinux denials and it makes little sense
to open all containers to talk to dbus.
In particular, if a container is run as non-privileged and bind-mounts
/run from the host, we will hit selinux denials like the following:

  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg='avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?'UID=""dbus"" AUID=""unset"" SAUID=""dbus""

2) It just makes little sense in a kolla-world to have containers
talk to dbus/systemd and it saves us some time when a lookup triggers
the systemd module for whatever reason. Especially because the
nss-systemd module does a few things which are not useful in a container
(ensures that the root and nobody users and groups remain resolvable,
SystemD's DynamicUser= feature, provide Lookup API via Varlink)

The sed regex gives us the wanted results:
$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf
--- /etc/nsswitch.conf.orig     2020-06-17 08:13:20.108520894 +0000
+++ /etc/nsswitch.conf  2020-06-17 08:13:27.627069541 +0000
@@ -19,8 +19,8 @@
 #     passwd: sss files # from profile
 #     hosts: files dns  # from user file

-passwd:     sss files systemd
-group:      sss files systemd
+passwd:     sss files
+group:      sss files
 netgroup:   sss files
 automount:  sss files
 services:   sss files

NB: This is the tcib versionb of the kolla change at I81e5b7abf4571fece13a029e25911e9e4dece673
Related-Bug: #1883849

Change-Id: I29d3a2ed0bdfce412ebef549c29053754763e555
(cherry picked from commit db71bdb684ac347cd2f915a39e7e99a95958606c)
"
openstack%2Fpython-tripleoclient~master~I0185cb54ac32e1ac8558d22ba4c735a02e80a470,openstack/python-tripleoclient,master,,I0185cb54ac32e1ac8558d22ba4c735a02e80a470,Don't run config-download for --stack-only,MERGED,2020-07-16 15:30:18.000000000,2020-07-17 06:58:08.000000000,2020-07-17 06:54:55.000000000,43,44,0,741482,5805ee4dbedac673268c6c3cf2ef616b887a1a5d,15,5,1,1,8833,Rabi Mishra,rabi,"Don't run config-download for --stack-only

We now seem to run config-download irrespective of the
--stack-only flag. This moves the config-download
related code within the if block.

Change-Id: I0185cb54ac32e1ac8558d22ba4c735a02e80a470
Closes-Bug: #1887811
"
openstack%2Fneutron~stable%2Fussuri~Icef60dc4db70a3058251909cf485cd8e8424cb16,openstack/neutron,stable/ussuri,,Icef60dc4db70a3058251909cf485cd8e8424cb16,[ci] Fix several rally task arguments,MERGED,2020-07-09 13:12:45.000000000,2020-07-17 06:56:05.000000000,2020-07-17 06:53:01.000000000,2,6,1,740276,e723f95e60047b4e676c4391b6f519b25ae1cec2,11,4,1,1,9545,Andrey Kurilin,akurilin,"[ci] Fix several rally task arguments

There are several invalid cased that Rally ignored before and that will
become an validation error soon.

* transmitting None where dict is expected
* setting 'name' of entities. It is restricted thing, since rally
  generates pseudo-random names that can be filtered by celanup
  mechanism. Currently, Rally overrides 'name' params silently, but it
  will become an error soon.

Change-Id: Icef60dc4db70a3058251909cf485cd8e8424cb16
(cherry picked from commit 98b326f0e4fb66ab47442ced8e4300da11c590c3)
"
openstack%2Fopenstack-helm~master~I29a432f28a4d8dd57341152d60b34c5a391e872f,openstack/openstack-helm,master,,I29a432f28a4d8dd57341152d60b34c5a391e872f,Add missing security context for Keystone rally tests,MERGED,2020-07-16 18:12:32.000000000,2020-07-17 06:54:19.000000000,2020-07-17 06:50:18.000000000,18,0,0,741512,2eaa98ecf11d580ac8ee4f068168313e0dab3b90,8,3,1,2,29144,PRATEEK REDDY DODDA,pd2839,"Add missing security context for Keystone rally tests

Change-Id: I29a432f28a4d8dd57341152d60b34c5a391e872f
"
openstack%2Fneutron~stable%2Fqueens~I584d867f0e1c47447cb8790fd715fa01ec902438,openstack/neutron,stable/queens,bug/1811405-stable/queens,I584d867f0e1c47447cb8790fd715fa01ec902438,Catch OVSFWTagNotFound in update_port_filter,MERGED,2020-06-30 15:26:38.000000000,2020-07-17 06:53:04.000000000,2020-07-17 06:53:04.000000000,4,0,0,738649,8fd0f912caf2e7db9ccf701354d7a7a9b89adf5c,21,6,2,1,11975,Slawek Kaplonski,slaweq,"Catch OVSFWTagNotFound in update_port_filter

In neutron.agent.linux.openvswitch_firewall.firewall make the method
update_port_filter catch OVSFWTagNotFound and log it to avoid
traceback in log files.

Conflicts:
  neutron/agent/linux/openvswitch_firewall/firewall.py

Change-Id: I584d867f0e1c47447cb8790fd715fa01ec902438
Closes-Bug: #1811405
(cherry picked from commit 22f55822aab17c758f5f723c304b1acaf3179ec1)
(cherry picked from commit 6d17829aa664e7cf6a92291963ff622c8b763b53)
"
openstack%2Fneutron~stable%2Fpike~I4543b8bc267f0699200879b07e4f89d2443dce9d,openstack/neutron,stable/pike,fix_pike_gate,I4543b8bc267f0699200879b07e4f89d2443dce9d,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2020-07-08 07:35:02.000000000,2020-07-17 06:12:57.000000000,2020-07-17 06:12:56.000000000,25,27,0,739910,d088b13aaa65851c67cfdef7c5806238fcd4e6e9,8,4,1,1,21798,Bernard Cafarelli,bcafarel,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extended Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: I4543b8bc267f0699200879b07e4f89d2443dce9d
"
openstack%2Ftripleo-common~stable%2Fussuri~I2e9fc7b9e9005fce7d956f1b936054e540b39849,openstack/tripleo-common,stable/ussuri,ussuri/1857298,I2e9fc7b9e9005fce7d956f1b936054e540b39849,ansible: limit_hosts now takes precedence over blacklisted_hostnames,MERGED,2020-07-15 18:12:02.000000000,2020-07-17 05:49:35.000000000,2020-07-17 05:48:04.000000000,100,5,0,741292,c9adf14a21e9573c7f9ed46eb673b43fb94b1f2c,14,4,2,3,3153,Emilien Macchi,emilienm,"ansible: limit_hosts now takes precedence over blacklisted_hostnames

From now, limit_hosts will take precedence over the blacklisted_hostnames.
And therefore Ansible won't be run with two --limit if both limit hosts
and blacklisted hostnames are in use. When we want to run Ansible on
specific hosts, we will ignore the blacklisted nodes and assume we know
what we do. In the case of the scale-down scenario, the unreachable nodes
are ignored.

Note: adding unit tests coverage for both parameters.

Change-Id: I2e9fc7b9e9005fce7d956f1b936054e540b39849
Closes-Bug: #1857298
(cherry picked from commit 76bc13e3bf88c24ba1733c699deadb364420f14e)
"
openstack%2Ftripleo-heat-templates~master~Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7,openstack/tripleo-heat-templates,master,strategy-improvements,Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7,Use tripleo linear when not using tripleo free,MERGED,2020-04-30 22:11:00.000000000,2020-07-17 05:48:02.000000000,2020-07-17 05:48:02.000000000,5,0,3,724769,029722ef1f828f8f97675e75acfaad581dcf1b01,158,9,27,2,14985,Alex Schultz,mwhahaha,"Use tripleo linear when not using tripleo free

In order to handle percentage failures for tripleo classes we will need
to use a custom strategy to handle the failures. Let's explicitly define
our expected strategies in the playbook so it'll default to linear (the
ansible default) on the host when ansible is invoked but our deployment
tasks will be run as we want them.

Depends-On: https://review.opendev.org/#/c/724766/
Change-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7
"
openstack%2Fneutron~stable%2Fstein~I795ee7ca729646be0411a1232bf218015c65010f,openstack/neutron,stable/stein,bug/1883712,I795ee7ca729646be0411a1232bf218015c65010f,Add config option ``http_retries``,MERGED,2020-07-09 10:14:25.000000000,2020-07-17 05:43:32.000000000,2020-07-17 05:41:44.000000000,18,1,0,740216,5d06db0989a46608eb699f401c1b02aaf070c623,10,3,1,4,11975,Slawek Kaplonski,slaweq,"Add config option ``http_retries``

This option allows to configure Number of times nova or ironic client
should retry on any failed http call.
Default value for this new option is ""3"".

Conflicts:
    neutron/notifiers/ironic.py

Change-Id: I795ee7ca729646be0411a1232bf218015c65010f
Closes-Bug: #1883712
(cherry picked from commit e94511cd251299cee84b8b67d404972988ae28d3)
"
openstack%2Ftripleo-heat-templates~master~Ib69b9127f530ff8063a1c7408a70e20cfc7babc7,openstack/tripleo-heat-templates,master,bug/1887702,Ib69b9127f530ff8063a1c7408a70e20cfc7babc7,deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable,MERGED,2020-07-15 18:01:46.000000000,2020-07-17 05:30:54.000000000,2020-07-17 05:30:54.000000000,11,6,10,741290,af30d7d290287491f0a46c471a892f6e870eef84,31,7,5,1,3153,Emilien Macchi,emilienm,"deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable

For all the tasks in common/deploy-steps-playbooks-common.yaml:

* any_errors_fatal will be set to False for all tasks as this is
  shared with the scale tasks or where nodes may not be available.
  Due to https://github.com/ansible/ansible/issues/70663 this cannot
  be set dynamically at this time. If an error occurs it'll get picked
  up by a future task.

* Add ignore_unreachable to all the tasks which didn't have it before
  (and set it to scale_ignore_unreachable | default(false))

This will allow a scale-down to work fine when a node that is being
scaled down is unreachable.

Change-Id: Ib69b9127f530ff8063a1c7408a70e20cfc7babc7
Closes-Bug: #1887702
"
openstack%2Fpython-tripleoclient~stable%2Frocky~Ie24163a39a68ec73ae8ea5ad1011eb3789961077,openstack/python-tripleoclient,stable/rocky,,Ie24163a39a68ec73ae8ea5ad1011eb3789961077,Skip network check with stack env when validations disabled,MERGED,2020-07-16 14:12:11.000000000,2020-07-17 05:30:52.000000000,2020-07-17 05:30:52.000000000,3,2,0,741465,68f74dbcd06c91a254b678e0ee8ba0df57df3882,11,4,1,1,14985,Alex Schultz,mwhahaha,"Skip network check with stack env when validations disabled

Allow for bypassing check_stack_network_matches_env_files()
when --disable-validations is provided.

Change-Id: Ie24163a39a68ec73ae8ea5ad1011eb3789961077
Closes-Bug: #1866155
(cherry picked from commit d8a7eaf88c22af6e31d27df9e5ef83a83a8f17b7)
"
