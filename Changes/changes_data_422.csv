id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fpaunch~master~Icce715e14c45576275c22fdb2c923e8ff4bb121a,openstack/paunch,master,ci,Icce715e14c45576275c22fdb2c923e8ff4bb121a,zuul: run tripleo-ci-centos-7-containerized-undercloud-upgrades,MERGED,2018-10-07 15:42:33.000000000,2018-10-08 09:30:07.000000000,2018-10-08 09:30:07.000000000,7,0,0,608456,fd01df5c5c266b021ea908718d67d2a34ff1ae8d,9,5,1,1,3153,Emilien Macchi,emilienm,"zuul: run tripleo-ci-centos-7-containerized-undercloud-upgrades

We'll need this job in Stein to test upgrades from Docker to Podman.

Change-Id: Icce715e14c45576275c22fdb2c923e8ff4bb121a
"
openstack%2Fkeystonemiddleware~stable%2Fpike~I0eda5981cbb661f63790258cf8e70c7340615159,openstack/keystonemiddleware,stable/pike,bug/1782404,I0eda5981cbb661f63790258cf8e70c7340615159,Fix KeystoneMiddleware memcachepool abstraction,ABANDONED,2018-07-18 18:38:30.000000000,2018-10-08 09:28:50.000000000,,27,1,0,583699,f4f4394e3fb7e9ef66fd823b201ce062f1c5dc5f,7,3,1,2,2903,Morgan Fainberg,mdrnstm,"Fix KeystoneMiddleware memcachepool abstraction

Keystonemiddleware's abstraction for the memcache pool was broken
when converting to use a queue.Queue. The logic that placed the
connection back into the pool was moved to .acquire and the reserve
method was not using acquire.

Change-Id: I0eda5981cbb661f63790258cf8e70c7340615159
Closes-Bug: #1782404
(cherry picked from commit dea1e94d6c89b5df630f30cf61464ed67d5d1ab0)
"
openstack%2Fmistral~master~I841c15230fe2bc1e605a985bb1b9cd6131ac795c,openstack/mistral,master,various_fixes,I841c15230fe2bc1e605a985bb1b9cd6131ac795c,Make task execution logging more readable and informative,MERGED,2018-09-19 08:23:02.000000000,2018-10-08 09:28:45.000000000,2018-10-08 09:28:45.000000000,14,7,0,603593,c802ad2851f89792de807673e78838a524948aca,12,6,2,2,8731,Renat Akhmerov,rakhmerov,"Make task execution logging more readable and informative

* Changed a debug log statement more readable for tasks
* Minor style changes

Change-Id: I841c15230fe2bc1e605a985bb1b9cd6131ac795c
"
openstack%2Fwatcher-tempest-plugin~master~I577c35f427519136828d8efb87b3e00f37ec2f5c,openstack/watcher-tempest-plugin,master,improve_scenario_test,I577c35f427519136828d8efb87b3e00f37ec2f5c,improve scenario test,MERGED,2018-09-14 06:06:24.000000000,2018-10-08 09:21:06.000000000,2018-10-08 09:21:06.000000000,103,356,0,602529,8e129128b2b26e726c2130e45d0ab15815a3695f,8,3,1,5,21692,licanwei,licanwei,"improve scenario test

move some common functions to base class

Change-Id: I577c35f427519136828d8efb87b3e00f37ec2f5c
"
openstack%2Fcinder~master~Iae01cff8c1a633ec5b46e930674fef6a8f3eeeee,openstack/cinder,master,bug/x,Iae01cff8c1a633ec5b46e930674fef6a8f3eeeee,WIP: Make backup init_host more effectively,ABANDONED,2018-09-30 07:48:34.000000000,2018-10-08 09:12:01.000000000,,22,11,0,606800,c4847948c4bc2ef4d8a126b55e0f3b6870070744,33,21,2,4,20722,Yikun Jiang,yikunkero,"WIP: Make backup init_host more effectively

We only cleanup some middle-state backup in manager.init_host,
if we get all backups from db, we will waste much time to fetch
redundant backups (such as, deleted/available backups), especially
in the public cloud, we have tons of normal-state backup.

This patch try to add support the filters to backup.get_by_host(),
and only fetch the backups which we need to cleanup in init_host.

TODO: add UT and plus the bug link

Change-Id: Iae01cff8c1a633ec5b46e930674fef6a8f3eeeee
"
openstack%2Fkolla-ansible~master~If98ca7cd9630b5622132a00718cb09304b8285b3,openstack/kolla-ansible,master,bug/1794472,If98ca7cd9630b5622132a00718cb09304b8285b3,Allow fluentd to read barbican-api.log,MERGED,2018-09-26 09:12:00.000000000,2018-10-08 09:05:42.000000000,2018-10-05 08:14:40.000000000,1,1,1,605372,8e635db8f1ccc45f3c28c915bfd970c020455760,15,6,3,1,14826,Mark Goddard,mgoddard,"Allow fluentd to read barbican-api.log

Barbican API uses uWSGI, which by default writes out log files using
0640 permissions and default ownership for the user. This means that the
log file in /var/log/kolla/barbican/barbican-api.log is not readable by
fluentd.

This was tested via the following command on a queens deployment:

$ docker exec -it fluentd bash
find /var/log/kolla/ -type f | while read f; do test -r $f || echo
""Cannot read $f""; done
Cannot read /var/log/kolla/barbican/barbican-api.log

Generally there are a few ways in which access is provided to log file
for fluentd:

1. Set log file ownership to $USER:kolla, permissions to 0640.
2. Set log file ownership to $USER:$USER, permissions to 0644.
3. MariaDB is a special case, and uses 0640 with the fluentd user added
to the mysql group.

Of these, 1. seems the most secure.

This change uses the --logfile-chmod argument to set the log file
permissions to 644, since it does not appear possible to specify a group
to change ownership to using --logfile-chown. We use command line
arguments since putting the option in the config file does not seem to
work. Perhaps it is an ordering issue.

Change-Id: If98ca7cd9630b5622132a00718cb09304b8285b3
Closes-Bug: #1794472
"
openstack%2Fnova~master~I342b9b12ec869431c3abad75eb8194c34151a281,openstack/nova,master,bug/1794773,I342b9b12ec869431c3abad75eb8194c34151a281,Don't emit warning when ironic properties are zero,MERGED,2018-09-27 14:34:13.000000000,2018-10-08 09:02:34.000000000,2018-10-04 22:05:34.000000000,0,15,0,605754,63b9c88386998bc584786ecb8ea7a2aae971a384,32,18,2,1,14826,Mark Goddard,mgoddard,"Don't emit warning when ironic properties are zero

If an ironic node is registered without either of the 'memory_mb' or
'cpus' properties, the following warning messages are seen in the
nova-compute logs:

Warning, memory usage is 0 for <instance> on baremetal node <node>.
Warning, number of cpus is 0 for <instance> on baremetal node <node>.

As of the Rocky release [1], the standard compute resources (VCPU,
MEMORY_MB, DISK_GB) are not registered with placement for ironic nodes.
They were not required to be set since the Pike release, but still this
warning is emitted.

This change removes these warning messages.

Backport: rocky, queens, pike

[1] https://review.openstack.org/#/c/565841/

Change-Id: I342b9b12ec869431c3abad75eb8194c34151a281
Closes-Bug: #1794773
"
openstack%2Fcharm-nova-compute~master~Id39262c53f207bb61b0a60954d5a077562e4e6f3,openstack/charm-nova-compute,master,feature/cellsv2,Id39262c53f207bb61b0a60954d5a077562e4e6f3,Support for neutron context without credentials,MERGED,2018-10-05 09:57:49.000000000,2018-10-08 09:01:17.000000000,2018-10-08 09:01:17.000000000,205,79,0,608199,e5a8c29f4f70295cf68f7c466d9528996a5766ee,14,4,2,11,12549,gnuoy,gnuoy,"Support for neutron context without credentials

If the compute node is deployed in a cell it will get service
credentials via a direct relationship with keystone and not
from a nova-cloud-controller relation. This change adds support
for having a complete CloudComputeContext without having
service credentials.

Change-Id: Id39262c53f207bb61b0a60954d5a077562e4e6f3
"
openstack%2Fcharm-nova-cloud-controller~master~Ic6ddc29426319b98b147c29031f60485fccc513f,openstack/charm-nova-cloud-controller,master,feature/cellsv2,Ic6ddc29426319b98b147c29031f60485fccc513f,Add support for cells v2,MERGED,2018-10-05 09:27:47.000000000,2018-10-08 08:59:42.000000000,2018-10-08 08:59:42.000000000,416,41,0,608192,6695d79c958b0c35c0d5983a21139a40bca1fe47,12,4,2,16,12549,gnuoy,gnuoy,"Add support for cells v2

This change adds relations necessary for registering a compute cell
with the superconductor. For a cell to be registered this charm
must have relations with the compute cells conductor, database and
message queue. Only when all these relations are complete can the
registration happen. Below are major changes included in this PR.

* Add nova-cell-api relation for communicating with the
  nova-cell-conductor
* Add shared-db-cell relation for communicating with the
  a compute cells database.
* Add amqp-cell relation for communicating with the
  a compute cells message queue.
* Add methods for registering cells with the
  superconductors database.
* Charm helper sync

Change-Id: Ic6ddc29426319b98b147c29031f60485fccc513f
"
openstack%2Fhorizon~master~I0f91c85ba1bf9d09346bb65c62404d6f349e9951,openstack/horizon,master,zanata/translations,I0f91c85ba1bf9d09346bb65c62404d6f349e9951,Imported Translations from Zanata,MERGED,2018-10-08 07:34:43.000000000,2018-10-08 08:57:39.000000000,2018-10-08 08:57:39.000000000,4,4,0,608593,781c05a705df718370ff39e34a6085dba08a2c59,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0f91c85ba1bf9d09346bb65c62404d6f349e9951
"
openstack%2Fmurano-dashboard~master~I3cd8cfb1aae169c5c481a5083b98ff5062748063,openstack/murano-dashboard,master,,I3cd8cfb1aae169c5c481a5083b98ff5062748063,Use standard cover tox env,ABANDONED,2018-09-28 00:36:25.000000000,2018-10-08 08:55:07.000000000,,6,91,0,605897,1d12eaa89b0faeddff975dd388b7b01a35714c12,12,1,7,2,14107,zhurong,zhurong,"Use standard cover tox env

Change-Id: I3cd8cfb1aae169c5c481a5083b98ff5062748063
"
openstack%2Fpuppet-gnocchi~master~I85f45086139079ff8c0576c1d314bfb7178a43e1,openstack/puppet-gnocchi,master,add_purge_config_option,I85f45086139079ff8c0576c1d314bfb7178a43e1,Add purge_config option,MERGED,2016-06-08 02:38:08.000000000,2018-10-08 08:42:07.000000000,2016-06-08 14:01:55.000000000,24,3,0,326786,d826734fb925f7c517ac4446475ad8c976c51597,14,3,1,2,9414,zhongshengping,ZhongShengping,"Add purge_config option

Add the option in order to facilitate management.
User can ensure that only the options they hoped
are configured.

Change-Id: I85f45086139079ff8c0576c1d314bfb7178a43e1
"
openstack%2Fkeystone~master~I15d70034502aae454ab16935e4957ed5f4d76976,openstack/keystone,master,tokenauth,I15d70034502aae454ab16935e4957ed5f4d76976,Docs: Remove the TokenAuth middleware,MERGED,2018-06-05 03:13:21.000000000,2018-10-08 08:36:08.000000000,2018-10-08 08:36:08.000000000,1,1,0,572248,32a4f410bf487b404db3e6a7db453361cff306ca,9,4,1,1,19779,Chason Chan,chenxing,"Docs: Remove the TokenAuth middleware

Following by I09310bab6bd728127288ba4c3cf8f884a31e2b98

Change-Id: I15d70034502aae454ab16935e4957ed5f4d76976
"
openstack%2Fglance~master~Ia7d6af7165077aa93c76185c28c355c06a202088,openstack/glance,master,bug/1781627,Ia7d6af7165077aa93c76185c28c355c06a202088,Handle StopIteration for Py3.7 PEP 0479,MERGED,2018-07-13 16:06:01.000000000,2018-10-08 08:36:07.000000000,2018-10-08 08:36:07.000000000,2,2,2,582628,f537389811dcc5e0ec5ee02883f75a3baa34479e,27,7,5,2,11805,Corey Bryant,coreycb,"Handle StopIteration for Py3.7 PEP 0479

Replace raise of StopIteration with return.

PEP 0479, https://www.python.org/dev/peps/pep-0479/, makes the
following change: ""when StopIteration is raised inside a generator,
it is replaced it with RuntimeError"".
And states: ""If raise StopIteration occurs directly in a generator,
simply replace it with return.""

Change-Id: Ia7d6af7165077aa93c76185c28c355c06a202088
Closes-Bug: #1781627
"
openstack%2Ftripleo-ha-utils~master~I8f1e78e41368863aecb6962c16bba2240c3dc05c,openstack/tripleo-ha-utils,master,add_tags_for_validate_ha_pb,I8f1e78e41368863aecb6962c16bba2240c3dc05c,Add tags to validate HA playbook,MERGED,2018-10-04 13:25:27.000000000,2018-10-08 08:25:08.000000000,2018-10-08 08:25:08.000000000,4,0,0,607957,2e2cff1969664700631a61075e47c68fb3a05db5,8,2,2,1,20936,Raoul Scarazzini,rasca,"Add tags to validate HA playbook

This commit add tags inside the validate ha playbook, so that a user
will be able to execute atomically the HA validation tests when the
playbook is included in other playbooks (like it happens in
qucikstart).

Change-Id: I8f1e78e41368863aecb6962c16bba2240c3dc05c
"
openstack%2Fdevstack~master~Ie942518b587d193a7de55ffcc0a2848406146eb2,openstack/devstack,master,bug/1763204,Ie942518b587d193a7de55ffcc0a2848406146eb2,Update horizon wsgi wrapper to the recommended one,MERGED,2018-09-08 18:37:08.000000000,2018-10-08 08:17:35.000000000,2018-10-08 08:17:35.000000000,1,1,0,600970,41fe3ebd4b1570c83ddf45cb8c240528aa06a56c,23,11,1,1,841,Akihiro Motoki,amotoki,"Update horizon wsgi wrapper to the recommended one

During Rocky cycle, horizon updates the path of the wsgi wrapper
to the one recommended by Django [1]. The old path will be dropped
in the T release.

[1] https://review.openstack.org/#/c/561802/

Related-Bug: #1763204
Change-Id: Ie942518b587d193a7de55ffcc0a2848406146eb2
"
openstack%2Fdevstack~master~I28aebffce6c5561360a9e44c1abc44b709054c30,openstack/devstack,master,fix_die_msg_for_common_systemd_pitfalls,I28aebffce6c5561360a9e44c1abc44b709054c30,Fix common systemd pitfalls die msg,MERGED,2018-09-26 13:52:25.000000000,2018-10-08 08:17:32.000000000,2018-10-08 08:17:32.000000000,2,2,3,605426,4e16c3dd5f4c5740ab92facf2083282440df9ac0,12,6,2,1,25618,Paweł Suder,SuderPawel,"Fix common systemd pitfalls die msg

That change introduces correct way of generating msg
for die in common systemd pitfalls.

Co-Authored-By: Szymon Datko <szymon.datko@corp.ovh.com>
Co-Authored-By: Piotr Bielak <piotr.bielak@corp.ovh.com>
Change-Id: I28aebffce6c5561360a9e44c1abc44b709054c30
"
openstack%2Fkeystone~master~I7d8b0f673051306b90950f64cd4f029389024828,openstack/keystone,master,update-zuul,I7d8b0f673051306b90950f64cd4f029389024828,Follow Zuul job rename,MERGED,2018-10-05 18:54:02.000000000,2018-10-08 08:17:30.000000000,2018-10-08 08:17:30.000000000,1,1,0,608337,659ab0a840152825fc17e3f38ea9a578f55125fb,11,4,1,1,6547,Andreas Jaeger,jaegerandi,"Follow Zuul job rename

Change https://review.openstack.org/604868 imported the job
legacy-keystoneclient-dsvm-functional and renamed it as
keystoneclient-devstack-functional.

Follow this job rename.

Change-Id: I7d8b0f673051306b90950f64cd4f029389024828
"
openstack%2Fnetworking-odl~stable%2Fqueens~I560d6f5914eb3285459eb654b41de32dd4029fb2,openstack/networking-odl,stable/queens,control,I560d6f5914eb3285459eb654b41de32dd4029fb2,DNM: Control commit to use as a reference of test results,ABANDONED,2018-10-04 07:39:59.000000000,2018-10-08 08:10:43.000000000,,1,1,0,607829,54027f21919dee9d61631046774bc0c9eb0b1d6f,3,6,1,1,26507,Michel Peterson,mpeterson,"DNM: Control commit to use as a reference of test results

Change-Id: I560d6f5914eb3285459eb654b41de32dd4029fb2
"
openstack%2Fdevstack~master~Ifad7bcc15582f5c68c0c6be08a0018ab9a77e1b0,openstack/devstack,master,utf8-locale-name,Ifad7bcc15582f5c68c0c6be08a0018ab9a77e1b0,Use the canonical en_US.UTF-8 name instead of en_US.utf8,ABANDONED,2018-09-06 15:18:25.000000000,2018-10-08 07:55:09.000000000,,2,2,1,600466,bbac55c528f7837214c7f8a9e122ee14aa90751b,9,6,1,1,10459,Luigi Toscano,ltoscano,"Use the canonical en_US.UTF-8 name instead of en_US.utf8

Change-Id: Ifad7bcc15582f5c68c0c6be08a0018ab9a77e1b0
"
openstack%2Fpython-zunclient~master~I9638ee363ae85c36e421dc997fe2dcad5d4d71cc,openstack/python-zunclient,master,,I9638ee363ae85c36e421dc997fe2dcad5d4d71cc,Encode injected file data in containers module,MERGED,2018-09-30 23:40:35.000000000,2018-10-08 07:45:35.000000000,2018-10-08 07:45:35.000000000,10,1,0,606873,3d0457ebe0e95560de1c5803281ddf13f6dfe25e,6,2,1,2,11536,hongbin,hongbin,"Encode injected file data in containers module

We encode file content before sending it via HTTP. In before,
we encode injected file content in CLI shell module so the file
is encoded only when users are using CLI commands.
This commit moves encoding down to containers module so that it
will be available for non-CLI users as well.

Change-Id: I9638ee363ae85c36e421dc997fe2dcad5d4d71cc
"
openstack%2Ffreezer-api~master~I61ed4dab13ff17b4612f3454b5b96a549530ba41,openstack/freezer-api,master,ut_patch,I61ed4dab13ff17b4612f3454b5b96a549530ba41,Add freezer_api.api.v2.clients unit test cases,MERGED,2018-10-07 03:17:53.000000000,2018-10-08 07:41:44.000000000,2018-10-08 07:41:44.000000000,118,0,0,608438,ef24c928e037ef66b37b1520a5db922f96d7cbfc,8,3,1,2,21069,Carl caihui,caihui,"Add freezer_api.api.v2.clients unit test cases

1. Add 'freezer_api.api.v2.clients'  module's unit test cases.
2. Add ""project_id"" key-value to 'fake_client_info_0'&'fake_client_info_1' dicts.

Change-Id: I61ed4dab13ff17b4612f3454b5b96a549530ba41
"
openstack%2Fpython-zunclient~master~I9c8b052ee56fcc5a72030d289d9152f847209a87,openstack/python-zunclient,master,,I9c8b052ee56fcc5a72030d289d9152f847209a87,Remove an empty line in .zuul.yaml,MERGED,2018-10-02 02:19:52.000000000,2018-10-08 07:39:21.000000000,2018-10-08 07:39:21.000000000,0,1,0,607087,ae8339e1e9c01339164a1fd8164277fea88a0cc4,6,2,1,1,11536,hongbin,hongbin,"Remove an empty line in .zuul.yaml

Change-Id: I9c8b052ee56fcc5a72030d289d9152f847209a87
"
openstack%2Ffreezer~stable%2Fqueens~I72a0a4f68503b7c143cbe6c6f13cfbdc08e6ccbb,openstack/freezer,stable/queens,,I72a0a4f68503b7c143cbe6c6f13cfbdc08e6ccbb,Fixes starting freezer-scheduler with --no-daemon,MERGED,2018-05-15 11:50:05.000000000,2018-10-08 07:32:05.000000000,2018-10-08 07:32:05.000000000,6,0,0,568564,ac05bdcb29b5bd8e976f565454c765056d509df8,32,6,2,1,26139,Jakub Jursa,kuboj,"Fixes starting freezer-scheduler with --no-daemon

When using flag --no-daemon, freezer-scheduler --no-daemon start fails
with AttributeError: 'NoDaemon' object has no attribute 'restart'
(freezer_scheduler.py: L251). This patch adds missing dummy methods for
reload and restart actions.

Change-Id: I72a0a4f68503b7c143cbe6c6f13cfbdc08e6ccbb
"
openstack%2Fcharm-keystone~stable%2F18.08~I02726c07ee4ed1e78ea1bfaa93adc2564a1a8236,openstack/charm-keystone,stable/18.08,bug/1794893,I02726c07ee4ed1e78ea1bfaa93adc2564a1a8236,Assign username from config if none is given,MERGED,2018-10-04 20:10:44.000000000,2018-10-08 07:29:45.000000000,2018-10-08 07:29:45.000000000,48,3,0,608071,fc8439fe49a579c826b87df3dc9f62de87a73e3d,7,3,1,2,29213,Wouter van Bommel (woutervb),woutervb,"Assign username from config if none is given

When hooks/keystone_utils.py:get_admin_passwd is called without the user
parameter, the parameter should default to config('admin-user')

Also changed the log, to use the parameter for consistency with facts.

Don't assume 'admin' is always the username for admin, when setting the
admin password.

Added unittests to check the various options, either specifying the
username via function arguments, or use setting from
config('admin-user').

Change-Id: I02726c07ee4ed1e78ea1bfaa93adc2564a1a8236
Closes-Bug: 1794893
(cherry picked from commit 78f2e5e049dd9dbebd06197683aeb2e4238f4de2)
"
openstack%2Fswift~master~I0671f65f5214337c07644cb0bb4a945c5857ab9d,openstack/swift,master,,I0671f65f5214337c07644cb0bb4a945c5857ab9d,Tolerate missing containers when trying to clean up,MERGED,2018-09-28 23:03:06.000000000,2018-10-08 07:16:35.000000000,2018-10-08 07:16:34.000000000,9,6,0,606217,96866808b8fd45675c6bf1491f990b496e35b705,6,2,1,1,15343,Tim Burke,tburke,"Tolerate missing containers when trying to clean up

Seen in the gate:

    Traceback (most recent call last):
      File ""test/functional/tests.py"", line 97, in setUpClass
        cls.env.setUp()
      File ""test/functional/tests.py"", line 2561, in setUp
        super(TestFileComparisonEnv, cls).setUp()
      File ""test/functional/tests.py"", line 81, in setUp
        cls.account.delete_containers()
      File ""test/functional/swift_test_client.py"", line 495, in delete_containers
        cont.update_metadata(hdrs={'x-versions-location': ''})
      File ""test/functional/swift_test_client.py"", line 558, in update_metadata
        self.conn.make_path(self.path))
    test.functional.swift_test_client.ResponseError: 404: 'Not Found'

Presumably, this was because the account-update to remove the container
from listings had to be handled async, so a deleted container still
showed up in listings.

We might still hit errors when we go to empty out the already-deleted
container, though :-/

Change-Id: I0671f65f5214337c07644cb0bb4a945c5857ab9d
"
openstack%2Fnova~stable%2Frocky~If1c901b974bc7295927b3f033a04eaa6ac36f603,openstack/nova,stable/rocky,bug/1757061,If1c901b974bc7295927b3f033a04eaa6ac36f603,Not set instance to ERROR if set_admin_password failed,MERGED,2018-10-05 06:34:27.000000000,2018-10-08 07:16:31.000000000,2018-10-08 07:16:31.000000000,2,8,0,608165,ae39c0332d773226e3bd7dd0f81da9660b7ba7cb,19,12,1,2,9373,Vlad Gusev,s10,"Not set instance to ERROR if set_admin_password failed

In some cases, an instance will be set to ERROR state when
set_admin_password failed (some Exception like Forbidden)
this is inconsistent to other exceptions and also
set_admin_password is a sync call from API to compute,
we can simply return the error to the upper layer (operator or
user) to avoid make user run reset to restore instance
status since no changes to guest at all.

Change-Id: If1c901b974bc7295927b3f033a04eaa6ac36f603
Closes-Bug: 1757061
(cherry picked from commit 513f2d3d254e2ffcc5c9eb786bc1c7d52036d392)
"
openstack%2Ftripleo-quickstart-extras~master~I68abd23b2235ce9d7ea5adfb69b3226572035391,openstack/tripleo-quickstart-extras,master,bug/1796626,I68abd23b2235ce9d7ea5adfb69b3226572035391,Fix tls_tht module - KeyError issue,ABANDONED,2018-10-08 06:57:40.000000000,2018-10-08 07:08:44.000000000,,0,3,0,608588,2841631a58fb7b61e1b995c442377440506d3900,4,6,1,1,24245,Harald Jensås,harald.jensas,"Fix tls_tht module - KeyError issue

'resource_registry' is not a key in:
    environments/ssl/enable-tls.yaml

OS::TripleO::NodeTLSData: does not seem to be used
anymore. Dropping it from tls_tht module.

Closes-Bug: #1796626
Change-Id: I68abd23b2235ce9d7ea5adfb69b3226572035391
"
openstack%2Fopenstack-helm-infra~master~Ic06747822dd614d6fae5bfa0b281e468bb276f83,openstack/openstack-helm-infra,master,fluent/fluentd_image_change,Ic06747822dd614d6fae5bfa0b281e468bb276f83,Update fluentd docker image,ABANDONED,2018-06-27 11:42:32.000000000,2018-10-08 07:04:36.000000000,,15,8,2,578361,99d851dd0b16d97404dbd931d6c9812a634b027f,10,3,4,4,26931,Sungil Im,sungil,"Update fluentd docker image

This PS is for a change of fluentd's docker image. Current docker image is
made by the kolla project. Kolla install the fluentd from the repository.
So, it is hard to check the version of fluentd instantly.

Current image, use a old version (0.x) and the fluentd.io announce 1.x now.
The fluentd v1.2 officially contains the elasticsearch plugin which is used
in fluent-logging. So, I suggest to use the latest offical image from the
fluentd.io

Change-Id: Ic06747822dd614d6fae5bfa0b281e468bb276f83
"
openstack%2Fzaqar~master~Ic18f76fef2b139a3edefecc6004846b11ee7653e,openstack/zaqar,master,update-zuul,Ic18f76fef2b139a3edefecc6004846b11ee7653e,Cleanup .zuul.yaml,MERGED,2018-09-30 09:49:52.000000000,2018-10-08 06:33:25.000000000,2018-10-08 06:33:25.000000000,251,12,0,606837,49d6cfaaf8a1b4a970a5ca6c36a41439d1f8f968,21,12,4,3,6547,Andreas Jaeger,jaegerandi,"Cleanup .zuul.yaml

Small cleanups:

* Use openstack-lower-constraints-jobs template, remove individual
  jobs.
* Sort list of templates
* Remove install-guide-jobs template, this stayed in project-config
  and is wrong on this branch.
* Remove branches condition, there's an implicit one, this is not
  needed.
* Remove job tripleo-ci-centos-7-scenario002-multinode-oooq that
  only runs in pike, it gets ignored in this file.

Import job legacy-rally-dsvm-zaqar-zaqar and rename according to
Zuul v3 naming conventions.

Change-Id: Ic18f76fef2b139a3edefecc6004846b11ee7653e
"
openstack%2Fos-brick~master~Ief5108e40f13cc53d8d9e9c5d1a5054f58f72aa0,openstack/os-brick,master,bug/1793627,Ief5108e40f13cc53d8d9e9c5d1a5054f58f72aa0,The validation of iscsi session should be case insensitive,MERGED,2018-09-21 03:20:21.000000000,2018-10-08 05:51:59.000000000,2018-10-02 23:22:47.000000000,32,1,0,604253,8782c4accfea8a745676517c1880810cfa07feac,22,16,2,2,26114,Yong Huang,yong.huang,"The validation of iscsi session should be case insensitive

The validation of iscsi session should be case insensitive since IPv6
address is case insensitive. If the portal address are all lower cases,
and the address get from 'iscsiadm -m session' contain upper cases,
the validation of iscsi session will failed, the loop will be endless.

Change-Id: Ief5108e40f13cc53d8d9e9c5d1a5054f58f72aa0
Closes-bug: #1793627
"
openstack%2Fdiskimage-builder~master~I4867c39a2995e35a0a1e9cba8f786cf4e6188141,openstack/diskimage-builder,master,fixtypo,I4867c39a2995e35a0a1e9cba8f786cf4e6188141,fix a typo,MERGED,2018-10-05 09:26:09.000000000,2018-10-08 05:46:04.000000000,2018-10-08 05:46:04.000000000,1,1,0,608191,b85bc24761a505295be1cefc66e7d54aa1ae18e3,8,4,1,1,17130,melissaml,malei,"fix a typo

Change-Id: I4867c39a2995e35a0a1e9cba8f786cf4e6188141
"
openstack%2Fsecurity-doc~master~I1c79db2752d3316d27aad8af258719d6b4ad9f6c,openstack/security-doc,master,python3-first,I1c79db2752d3316d27aad8af258719d6b4ad9f6c,fix tox python3 overrides,MERGED,2018-09-29 23:53:39.000000000,2018-10-08 05:43:48.000000000,2018-10-08 05:43:47.000000000,3,0,0,606716,eb0efbb4ebc5a3f46a9a01061744bda91a88be05,9,2,2,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I1c79db2752d3316d27aad8af258719d6b4ad9f6c
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fnova~master~I395ac34189c9fc010a37d4a73fac151d0f625ba2,openstack/nova,master,bug/1729371,I395ac34189c9fc010a37d4a73fac151d0f625ba2,Time how long select_destinations() takes in conductor,MERGED,2017-11-01 21:06:35.000000000,2018-10-08 05:41:08.000000000,2018-09-28 05:06:41.000000000,7,3,1,517108,bf92b72ce9307e2faf220a75ca858289cf46406c,82,21,2,1,6873,Matt Riedemann,mriedem,"Time how long select_destinations() takes in conductor

When we see weird bugs due to race windows, like bug 1729371,
it would be good to know if we're spending an inordinate amount
of time in the scheduler selecting destinations because that
can have a real effect on things happening before the instance
is created in a cell during the initial create.

Change-Id: I395ac34189c9fc010a37d4a73fac151d0f625ba2
Related-Bug: #1729371
"
openstack%2Fnova~master~If1e355d6174f15a1880e97115a2cf3f9f4be837e,openstack/nova,master,bug/1795078,If1e355d6174f15a1880e97115a2cf3f9f4be837e,Replace usage of get_legacy_facade() with get_engine(),MERGED,2018-09-28 22:10:29.000000000,2018-10-08 05:41:06.000000000,2018-10-02 22:16:39.000000000,19,23,4,606213,020651ad3d14066af34dc5d1d96cec7c6ffe5cd9,21,14,1,3,4690,melanie witt,melwitt,"Replace usage of get_legacy_facade() with get_engine()

We've been seeing warnings emitted to the python 3 unit tests:

  OsloDBDeprecationWarning: EngineFacade is deprecated; please use
  oslo_db.sqlalchemy.enginefacade

which stem from our use of the get_legacy_facade() oslo.db method.

This replaces the get_legacy_facade() usage with the get_engine()
method from the transaction context manager.

Closes-Bug: #1795078

Change-Id: If1e355d6174f15a1880e97115a2cf3f9f4be837e
"
openstack%2Fnova~master~If96e3d038346f16cc93209bccf3db028bacfe59b,openstack/nova,master,bug/1793419,If96e3d038346f16cc93209bccf3db028bacfe59b,Handle missing marker during online data migration,MERGED,2018-09-25 18:16:34.000000000,2018-10-08 05:38:22.000000000,2018-10-05 03:14:09.000000000,53,7,14,605164,ff03b157b930de23e5912802cbfbc86889c869c2,98,21,6,2,28433,Jack Ding,jackding,"Handle missing marker during online data migration

During upgrade the instance used by the request spec marker could be
deleted and purged between sessions. This would cause the database
online data migration to fail as the marker instance couldn't be found.

Fix by handling the MarkerNotFound exception and re-trying without the
marker. This will go through all the instances and reset the marker when
done.

Closes-Bug: #1793419
Change-Id: If96e3d038346f16cc93209bccf3db028bacfe59b
Signed-off-by: Jack Ding <jack.ding@windriver.com>
"
openstack%2Fdevstack~master~If18031ab98c9060e5825c3a8d3c647bd3705cd9c,openstack/devstack,master,bug/1796174,If18031ab98c9060e5825c3a8d3c647bd3705cd9c,Use bash-style test for Fedora version,MERGED,2018-10-04 19:42:30.000000000,2018-10-08 05:28:29.000000000,2018-10-08 05:28:29.000000000,1,1,0,608065,e991f7da457e0f1343ca13e8adeb0f6334b04990,11,7,1,1,23561,iain MacDonnell,imacdonn,"Use bash-style test for Fedora version

Old-style test fails on Ubuntu when python3 enabled, with:

.../devstack/inc/python: line 52: [: 16.04: integer expression expected

Use bash-style test, which doesn't attempt to evaluate the RHS if the
LHS evaluates to false

Change-Id: If18031ab98c9060e5825c3a8d3c647bd3705cd9c
Closes-Bug: #1796174
"
openstack%2Fdevstack~master~Id83cb3cdd62517045c45388f88cb3de0e3d75da1,openstack/devstack,master,,Id83cb3cdd62517045c45388f88cb3de0e3d75da1,fix tox python3 overrides,MERGED,2018-06-12 00:26:19.000000000,2018-10-08 05:28:28.000000000,2018-10-08 05:28:28.000000000,3,0,0,574496,51aec325e6252703371ab001bea0853af05ca2d8,15,9,1,1,17499,Filippo Inzaghi,qingszhao,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Id83cb3cdd62517045c45388f88cb3de0e3d75da1
"
openstack%2Fcinder~master~I94285efa7fb8abf6b82a7e68b9c02e68694dbe05,openstack/cinder,master,fixtypo,I94285efa7fb8abf6b82a7e68b9c02e68694dbe05,fix a typo in docstring,ABANDONED,2018-10-05 10:20:54.000000000,2018-10-08 05:04:36.000000000,,1,1,0,608204,78df1ebd2af7946a0770fce5dcbc11a195be6a0b,24,22,1,1,17130,melissaml,malei,"fix a typo in docstring

Change-Id: I94285efa7fb8abf6b82a7e68b9c02e68694dbe05
"
openstack%2Ftripleo-heat-templates~master~Idd257cf4666b853eb4c52861f9f400b6dbdeeadb,openstack/tripleo-heat-templates,master,ODL_IPv6_support,Idd257cf4666b853eb4c52861f9f400b6dbdeeadb,Add config option for ODL IPv6 deployment,MERGED,2018-07-23 19:44:02.000000000,2018-10-08 04:57:35.000000000,2018-10-07 23:11:50.000000000,11,1,2,585015,53b2cc0b56e956a1ade2cab0fae7bce6e5ada868,85,10,8,4,20866,Janki Chhatbar,janki,"Add config option for ODL IPv6 deployment

Add a flag to specify which IP version to
deploy ODL on via Puppet-ODL.

Change-Id: Idd257cf4666b853eb4c52861f9f400b6dbdeeadb
Closes-Bug: #1783196
"
openstack%2Fdiskimage-builder~master~I3c0df2e8a597edd4792dfdf637e5223d16810f19,openstack/diskimage-builder,master,uncap_networkx,I3c0df2e8a597edd4792dfdf637e5223d16810f19,uncap networkx to match global-requirements.,ABANDONED,2018-06-12 01:25:14.000000000,2018-10-08 04:56:42.000000000,,1,1,0,574503,6dd382846ec29cce3e9f8783c8ec065b02593219,8,4,1,1,14288,Matthew Thode,prometheanfire,"uncap networkx to match global-requirements.

Change-Id: I3c0df2e8a597edd4792dfdf637e5223d16810f19
"
openstack%2Fkeystone~master~Ib4a7f2d5beb1e4e9b4d8d9dd90de3f52a5c29e74,openstack/keystone,master,,Ib4a7f2d5beb1e4e9b4d8d9dd90de3f52a5c29e74,Avoid using dict.get() in assertions,MERGED,2018-10-03 05:00:51.000000000,2018-10-08 04:56:33.000000000,2018-10-08 04:56:32.000000000,13,13,2,607463,84e1b9ac15c6ebe63eca8406ef03e0fb1273eb13,12,4,2,4,27621,Vishakha Agarwal,Vishakha,"Avoid using dict.get() in assertions

The method dict.get(key) will return None
in the following two cases:

A. if there is no key in the dictionary.
B. if the real value of the key is just None.

The above two cases will results in passing
the assertion which is not the expected
behaviour of the test.

Change-Id: Ib4a7f2d5beb1e4e9b4d8d9dd90de3f52a5c29e74
"
openstack%2Fpython-tripleoclient~stable%2Frocky~Icf9a8f1c8049e46cc33541c5c40fc0d706a5869a,openstack/python-tripleoclient,stable/rocky,bug/1796421-stable/rocky,Icf9a8f1c8049e46cc33541c5c40fc0d706a5869a,Create DeployIdentifier for standalone,MERGED,2018-10-07 02:56:12.000000000,2018-10-08 04:52:44.000000000,2018-10-08 04:52:44.000000000,13,2,0,608437,46fa58c419632252e103ab77cfc237070467b84b,7,3,1,2,14985,Alex Schultz,mwhahaha,"Create DeployIdentifier for standalone

There is a bunch of update logic in the framework that expects that a
DeployIdentifier will be set on updates in order to function correctly.
This change adds the generation of a DeployIdentifier to our update
logic to ensure that we are passing it to the deployment on updates.

Change-Id: Icf9a8f1c8049e46cc33541c5c40fc0d706a5869a
Closes-Bug: #1796421
(cherry picked from commit 5d4cebf3959ff706ce26f364fb905a94b36f58bd)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ibc735ac4326a9217469e368c074de8b0df7689bd,openstack/tripleo-heat-templates,stable/rocky,bp/all-in-one-stable/rocky,Ibc735ac4326a9217469e368c074de8b0df7689bd,Update standalone role,MERGED,2018-10-07 02:52:35.000000000,2018-10-08 04:52:43.000000000,2018-10-08 04:52:43.000000000,476,3,0,608436,d4f07255d853fb861093e18a98b05a041d4f6a8e,7,3,1,6,14985,Alex Schultz,mwhahaha,"Update standalone role

The standalone role can be used either with the tripleo deploy command
to deploy locally, or it can be used with an undercloud to deploy an
all-in-one node. This change provides a sample set of environment files
for both deployment mechanisms.

Change-Id: Ibc735ac4326a9217469e368c074de8b0df7689bd
Related-Blueprint: all-in-one
(cherry picked from commit ba81e1f4d66041615f068c8bc2e07773ec252a35)
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~I4833525ae98d95c3ad84e3f79f30b8078c394ee1,openstack/puppet-tripleo,stable/queens,bug/1795986-stable/queens,I4833525ae98d95c3ad84e3f79f30b8078c394ee1,Disable chrony-wait,MERGED,2018-10-06 15:33:38.000000000,2018-10-08 04:49:04.000000000,2018-10-08 04:49:04.000000000,5,0,0,608413,b9fb5dbed2921f268ddfdcf73d17290b55bfb08c,7,3,1,1,14985,Alex Schultz,mwhahaha,"Disable chrony-wait

The chrony-wait service also prevents ntpd from starting on reboots.
This service should be disabled if present and running on the host when
using ntp.

Change-Id: I4833525ae98d95c3ad84e3f79f30b8078c394ee1
Closes-Bug: #1795986
(cherry picked from commit 594aff428938ff9fc6c9058c84bab49fb43868bb)
"
openstack%2Fproject-config~master~I1351d586d8c4211677300eb2e606ef6007ca816b,openstack/project-config,master,prep-zanata,I1351d586d8c4211677300eb2e606ef6007ca816b,Use prepare-zanata-client role,MERGED,2018-10-04 20:07:25.000000000,2018-10-08 04:37:37.000000000,2018-10-08 04:37:37.000000000,2,1851,0,608069,0f341464308389e9484ee4923baecb777ac9d6b2,7,3,1,13,6547,Andreas Jaeger,jaegerandi,"Use prepare-zanata-client role

The prep-zanata role has been moved to openstack-zuul-jobs and renamed
to prepare-zanata-client, use it now and remove the now obsolete role.

Change-Id: I1351d586d8c4211677300eb2e606ef6007ca816b
Depends-On: https://review.openstack.org/525760
"
openstack%2Fzaqar~master~I9c0c179662734faa5d7c83e663f831c6ebf1f92c,openstack/zaqar,master,bp/s,I9c0c179662734faa5d7c83e663f831c6ebf1f92c,Update link for blueprints of zaqar-ui,MERGED,2018-10-02 02:48:03.000000000,2018-10-08 04:13:38.000000000,2018-10-08 04:13:38.000000000,1,1,0,607091,dd0c1f7fc967470ff3062e6452b5d56a619fa790,7,3,1,1,25747,Debo Zhang,zhangdebo,"Update link for blueprints of zaqar-ui

Change-Id: I9c0c179662734faa5d7c83e663f831c6ebf1f92c
"
openstack%2Fpuppet-tripleo~stable%2Frocky~I4833525ae98d95c3ad84e3f79f30b8078c394ee1,openstack/puppet-tripleo,stable/rocky,bug/1795986-stable/rocky,I4833525ae98d95c3ad84e3f79f30b8078c394ee1,Disable chrony-wait,MERGED,2018-10-06 15:33:28.000000000,2018-10-08 04:07:35.000000000,2018-10-08 04:07:34.000000000,5,0,0,608412,681e07a7c320f6da307ab57e6e77e8c23c8d51b5,7,3,1,1,14985,Alex Schultz,mwhahaha,"Disable chrony-wait

The chrony-wait service also prevents ntpd from starting on reboots.
This service should be disabled if present and running on the host when
using ntp.

Change-Id: I4833525ae98d95c3ad84e3f79f30b8078c394ee1
Closes-Bug: #1795986
(cherry picked from commit 594aff428938ff9fc6c9058c84bab49fb43868bb)
"
openstack%2Fos-net-config~stable%2Frocky~I808cdd9c352f3e0dd0b75b8b8b738b97d82da7c1,openstack/os-net-config,stable/rocky,bug/1792992-stable/rocky,I808cdd9c352f3e0dd0b75b8b8b738b97d82da7c1,Allow list_of_routes to be [] in config,MERGED,2018-10-06 00:27:14.000000000,2018-10-08 04:06:55.000000000,2018-10-08 04:06:55.000000000,7,1,0,608386,bedb54a8a5d5caa5d022b4aa265a35a702e8dd87,8,4,1,2,24245,Harald Jensås,harald.jensas,"Allow list_of_routes to be [] in config

This changes the schema validation to allow an empty
list of routes to be specified in the configuration.

Closes-Bug: #1792992
Change-Id: I808cdd9c352f3e0dd0b75b8b8b738b97d82da7c1
(cherry picked from commit acf646383ba1b5ecb982a0e57e093f841842c396)
"
openstack%2Fos-refresh-config~master~I4e3c8a76cee08a327c1e648605e70f5e58eb9490,openstack/os-refresh-config,master,python3-first,I4e3c8a76cee08a327c1e648605e70f5e58eb9490,fix tox python3 overrides,MERGED,2018-10-04 01:40:25.000000000,2018-10-08 04:06:55.000000000,2018-10-08 04:06:55.000000000,3,0,0,607752,33096222a655d0a13efdaee615d664a2d8e9a0c2,7,3,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I4e3c8a76cee08a327c1e648605e70f5e58eb9490
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fzun~stable%2Frocky~If94b0fb52e0dd6766941fc76a4690b5ec33c0a37,openstack/zun,stable/rocky,bug/1791469,If94b0fb52e0dd6766941fc76a4690b5ec33c0a37,Don't unmount device twice,MERGED,2018-09-29 19:17:29.000000000,2018-10-08 03:33:57.000000000,2018-10-08 03:33:57.000000000,1,4,0,606613,ed5e51faa53725d0ac78b79ca7293949635b0eaf,9,3,2,2,11536,hongbin,hongbin,"Don't unmount device twice

On deleting a container with auto-removed cinder volume, the method
'_unmount_device' is called twice. The second call will fail because
the device is already unmounted and the directory is deleted.
This commit fixes this issue.

Closes-Bug: #1791469
Change-Id: If94b0fb52e0dd6766941fc76a4690b5ec33c0a37
(cherry picked from commit 94b687502e57e256d942a6ebbebdc13b92a0cafd)
"
openstack%2Fnetworking-midonet~master~Ia5ed0f38a1952992f31968cc407eb4993aabcdf1,openstack/networking-midonet,master,install-from-source,Ia5ed0f38a1952992f31968cc407eb4993aabcdf1,"Revert ""Revert ""Revert ""devstack: Switch to MidoNet 5.4""""""",MERGED,2017-08-03 02:35:38.000000000,2018-10-08 03:24:33.000000000,2018-10-08 03:24:25.000000000,3,3,0,490295,16f4b661060c3910bc2833880bb24b41d1c3ab52,90,6,5,1,6854,YAMAMOTO Takashi,yamamoto,"Revert ""Revert ""Revert ""devstack: Switch to MidoNet 5.4""""""

This reverts commit 9199ed3494e65bae04e5f08588eba679dd9157e0.

Also, switch MIDONET_YUM_URI to master as well.

Change-Id: Ia5ed0f38a1952992f31968cc407eb4993aabcdf1
"
openstack%2Fzun~master~I3a13c8953eae1ccf7bc0b871ac24785979b579ac,openstack/zun,master,,I3a13c8953eae1ccf7bc0b871ac24785979b579ac,Add the missing argument in CommandError,MERGED,2018-09-30 18:18:26.000000000,2018-10-08 03:24:19.000000000,2018-10-08 03:24:19.000000000,8,4,0,606863,2f8082575119e7f9537c306f210789ff3a21b410,9,3,2,2,11536,hongbin,hongbin,"Add the missing argument in CommandError

The CommandError class takes 'error' as an keyword argument but
it is missing in callers. This commit fixes it.

Change-Id: I3a13c8953eae1ccf7bc0b871ac24785979b579ac
"
openstack%2Fwatcher-tempest-plugin~master~Ib024112957747185ab4efc780b3a9cc75a0d7aaf,openstack/watcher-tempest-plugin,master,improve_actionplan_test,Ib024112957747185ab4efc780b3a9cc75a0d7aaf,Add start actionplan test,MERGED,2018-09-04 02:57:03.000000000,2018-10-08 03:04:22.000000000,2018-10-08 03:04:22.000000000,41,0,0,599483,3acd59f8c63351074ebfca13a94fff418efba7f6,23,3,3,2,21692,licanwei,licanwei,"Add start actionplan test

Change-Id: Ib024112957747185ab4efc780b3a9cc75a0d7aaf
"
openstack%2Fpatrole~master~I18664f8db85cfdc4f4dd4dde59c69d3ebe9f2dc8,openstack/patrole,master,get_routers,I18664f8db85cfdc4f4dd4dde59c69d3ebe9f2dc8,Add test for list routers function,ABANDONED,2018-09-17 21:01:02.000000000,2018-10-08 02:59:39.000000000,,17,0,5,603230,e6ec14df157de0ddba520540bb41a7f26e021bc6,19,14,8,1,8911,Sergey Vilgelm,sergey.vilgelm,"Add test for list routers function

List router action [0] doesn't have its own policy, but it uses
the get_router policy for each router in the list. So the test creates
a router and calls the routers_client.list_routers() function and
checks that it returned an empty list.

[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers

Change-Id: I18664f8db85cfdc4f4dd4dde59c69d3ebe9f2dc8
"
openstack%2Fdevstack-tools~master~I6faa7c3e39f02d765d7ceed4a69490b2092c6fee,openstack/devstack-tools,master,python3-first,I6faa7c3e39f02d765d7ceed4a69490b2092c6fee,fix tox python3 overrides,MERGED,2018-09-29 23:49:43.000000000,2018-10-08 02:50:49.000000000,2018-10-08 02:50:49.000000000,4,0,0,606629,4f1ca7601f240df5cb0893d1726a429819d434a7,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I6faa7c3e39f02d765d7ceed4a69490b2092c6fee
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fbashate~master~I34a4f1a2e8f51547f882d01d00290d0e6ac3fd56,openstack/bashate,master,python3-first,I34a4f1a2e8f51547f882d01d00290d0e6ac3fd56,fix tox python3 overrides,MERGED,2018-09-29 23:49:34.000000000,2018-10-08 02:48:18.000000000,2018-10-08 02:48:17.000000000,6,0,0,606626,8dbfc3e3919816fab19c635565497fcb1345ff09,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I34a4f1a2e8f51547f882d01d00290d0e6ac3fd56
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fopenstack-helm~master~I686297e25627d88ff9bd32df0a3f7ee8afc11f58,openstack/openstack-helm,master,nova-be-less-random,I686297e25627d88ff9bd32df0a3f7ee8afc11f58,[nova] Allow deterministic setting of 'ironic.memcache_secret_key,MERGED,2018-09-26 03:31:24.000000000,2018-10-08 02:41:39.000000000,2018-10-08 02:41:39.000000000,1,1,0,605321,8ae990e6224ca21f4ff48d12bacc521499e956d9,23,8,3,1,8898,Chris Wedgwood,anticw,"[nova] Allow deterministic setting of 'ironic.memcache_secret_key

If conf.nova.ironic.memcache_secret_key is not explicitly set, derive
it from endpoints.oslo_cache.auth.memcache_secret_key or use a random
value.

This means when installing charts where we explicitly set
endpoints.oslo_cache.auth.memcache_secret_key upgrades without changes
won't churn.

Change-Id: I686297e25627d88ff9bd32df0a3f7ee8afc11f58
"
openstack%2Fcinder~master~If21bd6c6aa9cef45f57f32034e26502cd02743b2,openstack/cinder,master,bug/1790907,If21bd6c6aa9cef45f57f32034e26502cd02743b2,nimble storage: retype support,MERGED,2018-09-11 04:45:19.000000000,2018-10-08 02:31:43.000000000,2018-10-02 08:57:00.000000000,249,42,32,601492,fb17168c26dc5cc8f14d7f7395d55f7231ad5321,251,43,14,3,16668,Raunak Kumar,rkumar,"nimble storage: retype support

retype support between 2 nimble backends with and
without migration
- update the provider location for fetching the
correct discovery ip for volume discovery
- prevent failures on snap deletetion / offline
  as they could already be in those states

Change-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2
Closes-Bug: #1790907
Signed-off-by: Raunak Kumar <rkumar@nimblestorage.com>
"
openstack%2Fopenstack-ansible-nspawn_hosts~master~I6d26c021d5687664c28e9a38001536602d26aca5,openstack/openstack-ansible-nspawn_hosts,master,,I6d26c021d5687664c28e9a38001536602d26aca5,Avoid repeating CIDR twice,ABANDONED,2018-10-08 01:13:13.000000000,2018-10-08 01:56:48.000000000,,1,1,0,608475,a152ed362896198c1764cd3f46ed84ad04c2de18,3,1,1,1,1004,Mohammed Naser,mnaser,"Avoid repeating CIDR twice

The recent clean-ups in the code has missed an extra removal
of CIDRs which would result in it written twice and the route
failing to get installed properly.

Change-Id: I6d26c021d5687664c28e9a38001536602d26aca5
"
openstack%2Fneutron-specs~master~I6152e56fcbbae3f23460466b26ae52e5866c6d1c,openstack/neutron-specs,master,bp/host-bindings-of-provider-networks,I6152e56fcbbae3f23460466b26ae52e5866c6d1c,Host Bindings of Provider Networks,ABANDONED,2018-07-02 00:42:28.000000000,2018-10-08 01:44:17.000000000,,282,0,3,579410,1258ec5b0be3c4707baaff297c035925d429cb54,16,6,6,1,28373,Kailun Qin,kailun.qin,"Host Bindings of Provider Networks

Neutron does not present a user-friendly way to realize a host level
separation for provider networks' creation and management.

This spec introduces ""host bindings of provider networks"" to permit
availability and physical topology to be made visible to the cloud
operator for network configuration, which facilitates the ops when a
huge number of complex and non-homogeneous l2 networks are deployed.

Implements: blueprint host-bindings-of-provider-networks
Change-Id: I6152e56fcbbae3f23460466b26ae52e5866c6d1c
Signed-off-by: Kailun Qin <kailun.qin@intel.com>
"
openstack%2Fneutron-specs~master~I8c91d13f1be60007f57c7f3e04898c6febfd3fd5,openstack/neutron-specs,master,bp/fault-management,I8c91d13f1be60007f57c7f3e04898c6febfd3fd5,Fault Management,ABANDONED,2018-09-05 09:36:58.000000000,2018-10-08 01:32:20.000000000,,129,0,9,599982,6133a8b5c921a543c76014e26876ae991b3b0bcc,7,8,1,1,28373,Kailun Qin,kailun.qin,"Fault Management

The current neutron implementation has several high availability and
rescheduling features to enhance its reliability, availability and
serviceability. However, it does not implement a mechanism to directly
report stateful fault information via a fault management interface,
which limits reporting and automated recovery capabilities.

This spec proposes to add a fault management driver to be implemented in
neutron that will perform the OS-level fault management implementation
to generate alarms, report issues when something goes wrong, and also to
get, clear the fault states for ports, agents, hosts, provider networks
etc. This enables another external entity to monitor the faults of
different severity levels occurred in neutron and make fault
handling/scheduling decisions for the related services.

Co-Authored-By: Matt Peters <matt.peters@windriver.com>

Implements: blueprint fault-management
Change-Id: I8c91d13f1be60007f57c7f3e04898c6febfd3fd5
"
openstack%2Fneutron-specs~master~I8fc86f589d77f878c6c1d1959db3608b4996d563,openstack/neutron-specs,master,bp/system-host-management,I8fc86f589d77f878c6c1d1959db3608b4996d563,System Host Management,ABANDONED,2018-09-05 09:35:43.000000000,2018-10-08 01:31:54.000000000,,264,0,20,599981,741daea6ede31375889bf78303b5b13e3d11e5ca,6,7,1,1,28373,Kailun Qin,kailun.qin,"System Host Management

Currently, neutron does not provide an independent system host
management ability. Instead, the host segments functionality is based on
the state reported by the agent according to the deployment level
configurations, a table is updated to track which hosts have access to
which provider networks. This is being used to make DHCP scheduling
decisions but bugs have been identified in how they handle multiple
mechanism drivers (see [1] and [2]). In addition, there are also
performance costs with accessing the information for complex
queries which may impact larger deployments during scheduling
operations, and therefore require further improvements.

This spec proposes an host extension which adds host management to the
neutron API. It is expected that another entity (e.g., NFV-VIM or Bare
Metal and Node Management) is sending host update notifications to let
neutron know when hosts are added, deleted or when they change state. It
also allows for that external entity to tell neutron which provider
networks are associated to which host. This enables neutron to make
scheduling decisions about where DHCP and router services can be
scheduled. This also enables neutron to generate, report host-level
issues when something goes wrong. Otherwise, the system will operate
based on agent availability only, if the extension is not loaded and
host state is not being managed.

[1] https://bugs.launchpad.net/neutron/+bug/1732448
[2] https://bugs.launchpad.net/neutron/+bug/1732445

Co-Authored-By: Matt Peters <matt.peters@windriver.com>

Implements: blueprint system-host-management
Change-Id: I8fc86f589d77f878c6c1d1959db3608b4996d563
"
openstack%2Fswift~master~I4c8dafe34fcfea354b254b9137f31184cbd6a762,openstack/swift,master,,I4c8dafe34fcfea354b254b9137f31184cbd6a762,internal_client: Require that request_tries be positive,MERGED,2018-10-05 17:51:58.000000000,2018-10-08 01:15:35.000000000,2018-10-08 01:15:35.000000000,11,6,0,608330,3770f3f2281e9ac6b9292325803f8d6c5e26ea5b,11,3,1,2,15343,Tim Burke,tburke,"internal_client: Require that request_tries be positive

This way the error is obvious and at initialization time, rather than being
an UnboundLocalError that waits until you actually make requests.

Change-Id: I4c8dafe34fcfea354b254b9137f31184cbd6a762
"
openstack%2Fos-apply-config~master~I1853dafac8f854812744acf50706cdef15a87936,openstack/os-apply-config,master,python3-first,I1853dafac8f854812744acf50706cdef15a87936,fix tox python3 overrides,MERGED,2018-10-03 21:13:33.000000000,2018-10-08 01:10:31.000000000,2018-10-08 01:10:30.000000000,3,0,0,607717,68818cece6ad418287ea843d5616890dd72a2c38,7,3,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I1853dafac8f854812744acf50706cdef15a87936
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Ftripleo-common~master~I81ba3a8c287712e0248476e64da0136fc09e26d5,openstack/tripleo-common,master,581007,I81ba3a8c287712e0248476e64da0136fc09e26d5,Improve validations output for troubleshooting.,MERGED,2018-07-09 11:15:00.000000000,2018-10-08 01:10:30.000000000,2018-10-08 01:10:30.000000000,18,2,3,581007,1d17a9992528f3d70a59b10de6a53c2178eea998,46,13,9,1,26343,Jose Luis Franco,jfrancoa,"Improve validations output for troubleshooting.

Currently, the tripleo validations are being used to
evaluate the status of the environment before/after
certain steps (post-deploy, pre-upgrade, post-upgrade)
However, when obtaining the workflow execution output,
if some of the validations failed there is no information
about which one, and the reason behind.

This patch allows identifying the validation being run
in the run_validation action and publishes the results
for the group or list of validations being run in the
run_validations and run_validation_group workflows.

Change-Id: I81ba3a8c287712e0248476e64da0136fc09e26d5
Story: #2002911
"
openstack%2Fironic-inspector-specs~master~I7f262bdc896b30e68529bcf88a01859d8a91aa58,openstack/ironic-inspector-specs,master,,I7f262bdc896b30e68529bcf88a01859d8a91aa58,fix tox python3 overrides,MERGED,2018-10-03 02:11:12.000000000,2018-10-08 00:59:46.000000000,2018-10-08 00:59:45.000000000,1,0,0,607449,d483072562376018ac0d8dd8636c96dc8d9b315a,8,4,1,1,26297,pippo,huang.zhiping,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I7f262bdc896b30e68529bcf88a01859d8a91aa58
"
openstack%2Fpuppet-neutron~master~Ibfe0c78d346ad0b0e283bff595ce982ba176f668,openstack/puppet-neutron,master,enable-py3,Ibfe0c78d346ad0b0e283bff595ce982ba176f668,Update neutron packages name for Fedora,MERGED,2018-09-27 16:40:42.000000000,2018-10-08 00:15:16.000000000,2018-10-08 00:15:16.000000000,129,71,8,605805,afe371f89710a5e07377724ebf1fd85bfd7e5636,22,7,6,37,13861,yatin,yatinkarel,"Update neutron packages name for Fedora

For Fedora use python3 packages. Neutron python3 packages
are now available at [1].

[1] https://trunk.rdoproject.org/fedora/current/

Change-Id: Ibfe0c78d346ad0b0e283bff595ce982ba176f668
"
openstack%2Fpuppet-nova~stable%2Frocky~Iaf3711030166a25bd3a5d6c27003ecd271be115a,openstack/puppet-nova,stable/rocky,,Iaf3711030166a25bd3a5d6c27003ecd271be115a,Remove pick() for default_floating_pool,MERGED,2018-10-04 09:09:47.000000000,2018-10-08 00:09:08.000000000,2018-10-08 00:09:08.000000000,1,4,0,607860,3ac15e5c1d90ff76a232b0865269a6177e7e0e38,6,2,1,1,16137,Tobias Urdin,tobasco,"Remove pick() for default_floating_pool

The nova::api::default_floating_pool option is removed
but the pick in nova::network::neutron was not removed
which causes a warning.

Change-Id: Iaf3711030166a25bd3a5d6c27003ecd271be115a
(cherry picked from commit c203ae2ede0653fb20f685692ebbc200fef8c409)
"
openstack%2Fpuppet-neutron~stable%2Frocky~I4dc1c0867ebc5a61865aabe46aa05716bd4e7452,openstack/puppet-neutron,stable/rocky,,I4dc1c0867ebc5a61865aabe46aa05716bd4e7452,Set metadata_agent_package to false for RedHat,MERGED,2018-10-04 09:09:18.000000000,2018-10-07 23:58:07.000000000,2018-10-07 23:58:07.000000000,1,0,0,607859,5d3ba85ef18ee9ec3f22070381c6cf0f15ccb115,6,2,1,1,16137,Tobias Urdin,tobasco,"Set metadata_agent_package to false for RedHat

The metadata_agent_package variable in the params.pp
is not set on RedHat but only on Debian based OS family.

This causes an warning because the if statement in [1] [2].

We should set the variable to false to suppress the
warning message.

[1] https://github.com/openstack/puppet-neutron/blob/master/manifests/agents/metadata.pp#L122
[2] Unknown variable: '::neutron::params::metadata_agent_package'

Change-Id: I4dc1c0867ebc5a61865aabe46aa05716bd4e7452
(cherry picked from commit 8d3ffb584d06ea1b4fdcce7896485339cb0baf69)
"
openstack%2Fpuppet-horizon~stable%2Frocky~Ib632dca7f438b39e10903ff75ec2d8f9115cc520,openstack/puppet-horizon,stable/rocky,create_role-stable/rocky,Ib632dca7f438b39e10903ff75ec2d8f9115cc520,"Fix ""create role"" button in identity/roles",MERGED,2018-10-05 11:54:52.000000000,2018-10-07 21:18:29.000000000,2018-10-07 21:18:29.000000000,2,1,0,608244,e5878354ef326c40d2d3e82a5e18a9beb8ea1409,12,8,1,1,8648,Radomir Dopieralski,thesheep,"Fix ""create role"" button in identity/roles

Since the identity/roles view now uses angular, the
'OPENSTACK_KEYSTONE_BACKEND' value needs to be added to the
REST_API_REQUIRED_SETTINGS setting for it to work properly,
as per https://review.openstack.org/#/c/579085/

Change-Id: Ib632dca7f438b39e10903ff75ec2d8f9115cc520
(cherry picked from commit 1e8909e4c50f71d460cbec8d826ec48e744fcc62)
"
openstack%2Fpuppet-ironic~stable%2Fqueens~I88a0b67a61944565e59f245f02f7e4620f92ec82,openstack/puppet-ironic,stable/queens,dnsmasq-bind-interfaces-stable/rocky-stable/queens,I88a0b67a61944565e59f245f02f7e4620f92ec82,Remove ironic inspector dnsmasq bind-interfaces setting,MERGED,2018-10-04 18:59:16.000000000,2018-10-07 21:13:24.000000000,2018-10-07 21:13:24.000000000,25,2,0,608060,2d4ef7c16afafbba32834bed3cecfd65a3546cb2,7,3,1,3,21909,Bob Fournier,bfournie,"Remove ironic inspector dnsmasq bind-interfaces setting

In order to allow the ironic inspector dnsmasq service to
receive packets after the network service is restarted, the
bind-interfaces option should not be set.  Since the
ironic inspector is bound to the br-ctlplane interface,
its not necessary to set this field as this dnsmasq instance
will only service this interface.

From the dnsmasq man page (http://www.thekelleys.org.uk/dnsmasq/docs/dnsmasq-man.html).
-z, --bind-interfaces
On systems which support it, dnsmasq binds the wildcard address,
even when it is listening on only some interfaces. It then
discards requests that it shouldn't reply to. This has the
advantage of working even when interfaces come and go and
change address. This option forces dnsmasq to really bind only
the interfaces it is listening on. About the only time when
this is useful is when running another nameserver (or another
instance of dnsmasq) on the same machine. Setting this option
also enables multiple instances of dnsmasq which provide DHCP
service to run in the same machine.

We do run another dnsmasq instance for neutron but that is bound to
the tap interface in the namespace.

Change-Id: I88a0b67a61944565e59f245f02f7e4620f92ec82
(cherry picked from commit 44ad813ee69970191b9dd5d4be278bde88ec48ec)
(cherry picked from commit 317a1e5bfd7b3e86a2cdcc189f4ef3f45c8336e4)
"
openstack%2Fpuppet-openstack-cookiecutter~master~Ib79f8e857cc71d5e7ddbaf856e29f2548c624f52,openstack/puppet-openstack-cookiecutter,master,gitignore-cleanup,Ib79f8e857cc71d5e7ddbaf856e29f2548c624f52,Dissuade .gitignore references to personal tools,MERGED,2018-10-05 18:27:11.000000000,2018-10-07 20:23:50.000000000,2018-10-07 20:23:50.000000000,22,1,0,608335,47487469e9d131047c8dc288618241ea9980a068,7,3,1,2,5263,Jeremy Stanley,fungi,"Dissuade .gitignore references to personal tools

Developers run all sorts of different tools within Git repositories,
any of which can leave their own special trashfiles all over the
place. We can't every hope to catalog them all, so better to
recommend developers simply configure a global core.excludesfile to
filter the irrelevant files which tend to get created by their
personal choice of tools. Add a comment block explaining this, for
clarity, and remove the one current editor-specific entry present.

We can, and should of course, continue to list files created by the
tools recommended by our workflow (test frameworks, documentation
and packaging builds, et cetera).

This change is a port of Ib58a57267b064e4142686de6c37a70dbff04b9a7
from the openstack-dev/cookiecutter repository.

Change-Id: Ib79f8e857cc71d5e7ddbaf856e29f2548c624f52
"
openstack%2Ftripleo-repos~master~I07253a00b43d3c5c1096f41ed4b95ec8526232e7,openstack/tripleo-repos,master,update-zuul,I07253a00b43d3c5c1096f41ed4b95ec8526232e7,Use openstack-tox-cover template,MERGED,2018-09-07 09:48:42.000000000,2018-10-07 20:16:44.000000000,2018-10-07 20:16:44.000000000,1,5,0,600682,dca903e59e2f4b039c671943be41041011a8b3ef,7,4,1,1,6547,Andreas Jaeger,jaegerandi,"Use openstack-tox-cover template

Use openstack-tox-cover template, this runs the cover job as
non-voting in the check queue only.

Remove jobs and use template instead.

Change-Id: I07253a00b43d3c5c1096f41ed4b95ec8526232e7
"
openstack%2Fansible-role-tripleo-ui~master~Ie01f20fe3ab5176e000b9b50f2d24577df3f0510,openstack/ansible-role-tripleo-ui,master,python3-first,Ie01f20fe3ab5176e000b9b50f2d24577df3f0510,fix tox python3 overrides,MERGED,2018-10-03 21:13:22.000000000,2018-10-07 20:12:53.000000000,2018-10-07 20:12:53.000000000,5,0,0,607713,e8bb2c0cb8f6dd4e7d79e0364f402391885e9dae,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ie01f20fe3ab5176e000b9b50f2d24577df3f0510
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fansible-role-tripleo-zaqar~master~Icb14d7965a0aa3d4a9e70e33f9afa5feffde6f04,openstack/ansible-role-tripleo-zaqar,master,python3-first,Icb14d7965a0aa3d4a9e70e33f9afa5feffde6f04,fix tox python3 overrides,MERGED,2018-10-03 21:13:24.000000000,2018-10-07 20:06:38.000000000,2018-10-07 20:06:38.000000000,5,0,0,607714,b789127627a75d98a95c3fad3da0eec988402a8e,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Icb14d7965a0aa3d4a9e70e33f9afa5feffde6f04
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Ftripleo-common~master~Ie5dbe86232c3b6a85665a9eec08ace8ba9415ea1,openstack/tripleo-common,master,bug/1785680,Ie5dbe86232c3b6a85665a9eec08ace8ba9415ea1,Honor blacklist with enable_ssh_admin,MERGED,2018-08-06 21:25:30.000000000,2018-10-07 19:55:51.000000000,2018-10-03 01:46:01.000000000,30,3,0,589290,893cd2af3fb9e804e7dac3dd34b27be3cc63e5aa,20,5,1,3,7144,James Slagle,slagle,"Honor blacklist with enable_ssh_admin

Use the stack output BlacklistedIpAddresses in the enable_ssh_admin
workflow so that the workflow does not use any of the servers in the
blacklist.

Change-Id: Ie5dbe86232c3b6a85665a9eec08ace8ba9415ea1
Depends-On: Ie96acf29a857e4801f5823f26a7de6bc989f39e2
Closes-Bug: #1785680
"
openstack%2Fcinder~master~Ifb982a464fdd8313c1172b9ada674c436d73fecc,openstack/cinder,master,run-tempest-slow-job,Ifb982a464fdd8313c1172b9ada674c436d73fecc,Use Tempest slow job to run all slow tests,MERGED,2018-08-13 11:15:06.000000000,2018-10-07 19:55:51.000000000,2018-10-01 19:28:43.000000000,15,0,0,591354,340d162a2e4e2c208cd3c8e6002ff60786c443cd,69,39,2,1,8556,Ghanshyam,ghanshyam,"Use Tempest slow job to run all slow tests

tempest-slow job run all the slow tests including API
or scenario slow tests. By running this job will help to
avoid any regressions across projects.

This new job ""tempest-slow"" will run as voting on check pipeline
and same job run on nova and neutron gate.

Tempest also run ""tempest-slow"" as voting job.

Detailed discussion on ML[2].

[1] http://git.openstack.org/cgit/openstack/tempest/tree/.zuul.yaml#n147
[2] http://lists.openstack.org/pipermail/openstack-dev/2018-May/130394.html

Change-Id: Ifb982a464fdd8313c1172b9ada674c436d73fecc
"
openstack%2Fpython-tripleoclient~master~I76531c5fb36135cfd733ddb6980bf43d0295db30,openstack/python-tripleoclient,master,bug/1783893,I76531c5fb36135cfd733ddb6980bf43d0295db30,Pass stack name to enable_ssh_admin workflow,MERGED,2018-10-01 14:37:55.000000000,2018-10-07 19:55:39.000000000,2018-10-06 23:56:48.000000000,5,2,0,606964,23f19693a522592f502226ccca6e14222e40f7ca,35,7,4,3,7144,James Slagle,slagle,"Pass stack name to enable_ssh_admin workflow

Pass the stack/plan name to the enable_ssh_admin workflow, otherwise,
only the default 'overcloud' name works.

Depends-On: Ie5dbe86232c3b6a85665a9eec08ace8ba9415ea1
Change-Id: I76531c5fb36135cfd733ddb6980bf43d0295db30
Closes-Bug: #1795417
"
openstack%2Fcinder~stable%2Frocky~I74a5b48c414db2b5b9e27d986d776d7c2ae3f383,openstack/cinder,stable/rocky,bug/1795070-stable/rocky,I74a5b48c414db2b5b9e27d986d776d7c2ae3f383,nimble storage: support for force detach,MERGED,2018-10-05 01:47:18.000000000,2018-10-07 18:31:35.000000000,2018-10-06 19:46:12.000000000,54,0,0,608136,5814daa354e3c9ac0a9e1d932f7e78f87bd97f8f,47,19,2,2,16668,Raunak Kumar,rkumar,"nimble storage: support for force detach

nimble storage driver doesn't handle force detach with empty connector
information in terminate connection. The fix takes care of empty connectors
and removing all ACL's on the volume if connector information is absent

Change-Id: I74a5b48c414db2b5b9e27d986d776d7c2ae3f383
Closes-Bug: #1795070
Signed-off-by: Raunak Kumar <rkumar@nimblestorage.com>
(cherry picked from commit b2d0ac0c2e121ac0107603090974082f29f849c5)
"
openstack%2Fproject-config~master~Ie6f3f8462e98ca24879db9ef942ec81072330323,openstack/project-config,master,fix-rsyslog-on-gentoo,Ie6f3f8462e98ca24879db9ef942ec81072330323,fix rsyslog builds on gentoo,MERGED,2018-10-07 10:14:07.000000000,2018-10-07 15:32:40.000000000,2018-10-07 15:32:40.000000000,3,2,0,608447,a8e7fbe12761d46c8d3bdcddd3ea8bbd619cec9a,7,3,1,1,14288,Matthew Thode,prometheanfire,"fix rsyslog builds on gentoo

A new version was stabilized on the 5th that allows for more complex
ssl usage.

also, alphabetize the use flag definitions based on package name.

Change-Id: Ie6f3f8462e98ca24879db9ef942ec81072330323
"
openstack%2Fpuppet-tripleo~master~Ia0e769925812e91679631bdd631030ab12ceff01,openstack/puppet-tripleo,master,bug/1781405,Ia0e769925812e91679631bdd631030ab12ceff01,Do not create metadata ssl proxy if we have metadata api via httpd wsgi,MERGED,2018-08-22 13:30:33.000000000,2018-10-07 15:02:58.000000000,2018-10-06 21:20:48.000000000,8,1,3,595001,a8bef7a3135d295e667e2e80a2e23e3515a0cb88,41,12,1,2,17216,Martin Schuppert,mcschupp,"Do not create metadata ssl proxy if we have metadata api via httpd wsgi

With nova metadata api running via wsgi we do not need the ssl proxy when
configure tls-everywhere as we terminate ssl direct in the httpd wsgi.
With this change we only create the ssl proxy vhost if we do not run nova
metadata via wsgi.

Related-Bug: 1781405

Change-Id: Ia0e769925812e91679631bdd631030ab12ceff01
"
openstack%2Fnetworking-odl~master~I7b55e07b73b08323e37ed9d982a38bfc08505678,openstack/networking-odl,master,python3-first-missing-patch,I7b55e07b73b08323e37ed9d982a38bfc08505678,DNM: TEST 2to3 on functional,ABANDONED,2018-09-03 14:48:04.000000000,2018-10-07 13:57:31.000000000,,45,45,0,599418,55ceadb4167b0336993df52061b5f65eea35d2fb,4,1,2,17,26507,Michel Peterson,mpeterson,"DNM: TEST 2to3 on functional

Change-Id: I7b55e07b73b08323e37ed9d982a38bfc08505678
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Id48df6db012fb433f9a0e618d0269196f4cfc2c6,openstack/tripleo-heat-templates,stable/rocky,bug/1795722-stable/rocky,Id48df6db012fb433f9a0e618d0269196f4cfc2c6,Fix TLS when using a containerized undercloud,MERGED,2018-10-07 05:43:42.000000000,2018-10-07 13:41:37.000000000,2018-10-07 13:41:36.000000000,40,7,0,608440,ca765f73c6d0477d1b5a07e94858b428bda23c08,8,3,1,7,17216,Martin Schuppert,mcschupp,"Fix TLS when using a containerized undercloud

Since we moved to containerized UC, TLS Everywhere deployments are broken.
Namely we miss two things:

A. The NAT iptables rule for the nova metadata service to be reachable
B. The setting 'service_metadata_proxy=false' needs to be set for nova
   metadata otherwise the curl calls to setup ipa will fail with the
   following:
[root@overcloud-controller-0 log]# curl http://169.254.169.254/openstack/2016-10-06
<html>
 <head>
  <title>400 Bad Request</title>
 </head>
 <body>
  <h1>400 Bad Request</h1>
  X-Instance-ID header is missing from request.<br /><br />
 </body>
</html>

A. Is fixed by adding a conditional iptables rule that is only triggered
   when deploying an undercloud (where we set MetadataNATRule to true)

B. Is fixed by setting NeutronMetadataProxySharedSecret to '' on the
   undercloud and then setting the corresponding hiera keys only when
   the parameter != ''. We tried alternative simpler approaches like
   setting NeutronMetadataProxySharedSecret to null but that will break
   heat as the parameter is required and setting it to null breaks heat
   validation (we also tried to make the parameter optional with a
   default: '', but that broke as well)

While we're at it we also remove the neutron metadata service from the
undercloud as it is not needed.

Tested by deploying an undercloud with this change and observing:
A.
Chain PREROUTING (policy ACCEPT 106 packets, 6698 bytes)
 pkts bytes target     prot opt in     out     source               destination
    0     0 REDIRECT   tcp  --  br-ctlplane *       0.0.0.0/0            169.254.169.254      multiport dports 80 state NEW /* 999 undercloud nat ipv4 */ redir ports 8775

B.
grep -ir ^service_metadata_proxy /var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf
service_metadata_proxy=False

Also a deployment of a TLS overcloud was successful.

Change-Id: Id48df6db012fb433f9a0e618d0269196f4cfc2c6
Co-Authored-By: Martin Schuppert <mschuppe@redhat.com>
Closes-Bug: #1795722
(cherry picked from commit c2139a7db2d0142be033d93f63ca6e75f901821a)
"
openstack%2Fos-brick~stable%2Frocky~I0f5533c0f00707380aa2e8039bcb99f9fba6687a,openstack/os-brick,stable/rocky,,I0f5533c0f00707380aa2e8039bcb99f9fba6687a,Ignore volume disconnect if it is not connected,MERGED,2018-09-23 07:38:44.000000000,2018-10-07 13:36:46.000000000,2018-10-03 17:55:41.000000000,14,4,2,604578,9fcd7a548e25a2edd72d7430fb027ca528edf221,18,14,1,2,22948,Hamdy Khader,hamdyk,"Ignore volume disconnect if it is not connected

Starting a VM with an NVMe volume after compute node reboots fails
because nova try to disconnect the volume then connect it again.

The proposed fix is to skip volume disconnect if the device not
connected.

Change-Id: I0f5533c0f00707380aa2e8039bcb99f9fba6687a
Closes-Bug: #1792315
(cherry picked from commit f776f5a56e37391386e2ce0ddc17d830aacecb3c)
"
openstack%2Ftempest~master~Iee0ef884f57999d96dfe6182ab8060cd231dc7cb,openstack/tempest,master,testing-interop-job2,Iee0ef884f57999d96dfe6182ab8060cd231dc7cb,DNM: For testing,ABANDONED,2018-10-05 03:14:46.000000000,2018-10-07 13:16:37.000000000,,1,1,0,608152,dd43987b00992ebdad12b263779a29660d386ea6,5,3,1,1,8556,Ghanshyam,ghanshyam,"DNM: For testing

Change-Id: Iee0ef884f57999d96dfe6182ab8060cd231dc7cb
"
openstack%2Ftempest~master~Ideecbe95117674ed03ded10e4476389060c426de,openstack/tempest,master,testing-interop-job1,Ideecbe95117674ed03ded10e4476389060c426de,DNM: For Testing1,ABANDONED,2018-10-05 03:16:30.000000000,2018-10-07 13:16:29.000000000,,1,1,0,608153,5513357c7f32460bbc81388f2fd0a389cbebd60b,7,5,1,1,8556,Ghanshyam,ghanshyam,"DNM: For Testing1

Change-Id: Ideecbe95117674ed03ded10e4476389060c426de
"
openstack%2Fkolla~stable%2Fpike~I68b72cf8f933e28f130b1f0cfc7c519bae525483,openstack/kolla,stable/pike,bump-version-pike,I68b72cf8f933e28f130b1f0cfc7c519bae525483,Bump openstack service version pike,MERGED,2018-09-14 14:56:57.000000000,2018-10-07 12:44:23.000000000,2018-10-07 12:44:23.000000000,3,3,0,602634,06af84cadb70593f52106c529f9ef3fe455390e7,18,4,1,1,19316,Eduardo Gonzalez,egonzalez90,"Bump openstack service version pike

Update heat from 9.0.4 to 9.0.5
Update keystone from 12.0.0 to 12.0.1
Update tempest from master to 17.0.0

Change-Id: I68b72cf8f933e28f130b1f0cfc7c519bae525483
"
openstack%2Ftempest~master~I84cc3e525066940739b90f49ac984b8162e12356,openstack/tempest,master,bug/1788371,I84cc3e525066940739b90f49ac984b8162e12356,Capping nova-cert test cases to Pike.,ABANDONED,2018-08-22 09:46:53.000000000,2018-10-07 12:39:34.000000000,,29,0,0,594919,5fb717ecb844d70cd18fd7f7f6812d33bc84613b,15,5,3,1,17927,Manik Sidana,maniksidana019,"Capping nova-cert test cases to Pike.

Since this below blueprint introduces this change in Pike thus capping the nova-cert
test cases to Pike. Files tempest/api/compute/certificates/__init__.py
and tempest/api/compute/certificates/test_certificates.py may be removed once Pike goes EOL.

Link: https://specs.openstack.org/openstack/nova-specs/specs/pike/implemented/remove-nova-cert.html
Useful Link: https://docs.openstack.org/releasenotes/nova/pike.html -> The latest Compute
API microversion supported for Pike is v2.53

Change-Id: I84cc3e525066940739b90f49ac984b8162e12356
Closes-Bug:#1788371
"
openstack%2Fos-vif~master~Ifbc44337c09e0f2ccf421798803ff7e794ed0b70,openstack/os-vif,master,vrouter-os-vif-conversion,Ifbc44337c09e0f2ccf421798803ff7e794ed0b70,Add multiqueue port profile for VIFGeneric,ABANDONED,2018-05-29 15:57:09.000000000,2018-10-07 10:36:09.000000000,,33,0,11,570959,08e3b9ece15e6c3849e0b0e26235f1f60bcc3548,53,8,7,5,25733,Jan Gutter,jangutter,"Add multiqueue port profile for VIFGeneric

The VIFGeneric os-vif type is used for the kernel TAP based plugging. If
the os-vif plugin has not created a TAP device, the hypervisor will
create one (multiqueue enabled, if set). If the os-vif plugin has to
create a multiqueue TAP device, it needs a hint if multiqueue is
desired.

In Nova, the check whether to enable multiqueue on virtio interfaces is
done at the instance level by the hypervisor. The intention is to pass
the results of that check to the os-vif plugin via the port profile.

This patch adds VIFPortProfileGenericMultiqueue with a
'virtio_multiqueue' field.

Needed-By: I1a449c3d77309193b22caadb9e48323d7b1510c6
Change-Id: Ifbc44337c09e0f2ccf421798803ff7e794ed0b70
Signed-off-by: Jan Gutter <jan.gutter@netronome.com>
Acked-by: Frikkie Scholtz <frikkie.scholtz@netronome.com>
"
openstack%2Fpuppet-tripleo~master~I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2,openstack/puppet-tripleo,master,nfs-ganesha-ceph,I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2,Make sure that ceph-nfs and the VIP start in the right order,MERGED,2018-02-15 16:58:11.000000000,2018-10-07 10:08:44.000000000,2018-10-07 00:52:01.000000000,23,6,0,545035,318e20a828ebf70e4a2644148c9b921d7007b5f0,32,8,3,1,20172,Michele Baldessari,michele,"Make sure that ceph-nfs and the VIP start in the right order

Currently there is a race where ceph-nfs is free to be started before
the colocation constraint with the VIP is created. This issue is
exacerbated by the fact that the container being started (via a systemd
unit file managed by pacemaker) never fails in case the daemon
encounters an error, because it has inside it:
/usr/bin/ganesha.nfsd ""${GANESHA_OPTIONS[@]}"" -L /var/log/ganesha/ganesha.log ""${GANESHA_EPOCH}"" || return 0

Since the container never fails, docker never exits and so systemd and
pacemaker think everything is fine and it won't get rescheduled on
another node.

We can avoid this issue completely if we can guarantee that
we start the VIP and the ceph-nfs service on the bootstrap node only
(by tagging only that node with the right property) and only later we
add the node property on all the other nodes.

The drawback of this approach is that, barring any failures, ceph-nfs
will always be started on the master node for that service.

Change-Id: I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2
"
openstack%2Ftripleo-heat-templates~master~I23d678a4b2c92ad2e913594b0b8844605fe36355,openstack/tripleo-heat-templates,master,sileht/ceilo-fixes,I23d678a4b2c92ad2e913594b0b8844605fe36355,ceilometer: Use new archive policies,MERGED,2018-09-19 09:29:58.000000000,2018-10-07 09:06:33.000000000,2018-10-07 09:06:33.000000000,17,15,0,603621,7b71a4c0737681770e2863c8d6a5b962f4a974f4,27,6,2,3,2813,Mehdi Abaakouk,sileht,"ceilometer: Use new archive policies

Ceilometer now creates it own archive policies.

This change ensures we use the new one.

Change-Id: I23d678a4b2c92ad2e913594b0b8844605fe36355
"
openstack%2Ftripleo-heat-templates~master~Ie519e9684dc527cc384e11fb8f32b532dd2da1d7,openstack/tripleo-heat-templates,master,healthcheck/ovn-services,Ie519e9684dc527cc384e11fb8f32b532dd2da1d7,Enable health check for OVN containers,MERGED,2018-05-14 11:43:19.000000000,2018-10-07 08:42:39.000000000,2018-10-07 08:42:39.000000000,11,0,7,568267,e44d9deef0d83b6697e93752bfd5e04e2f30ed34,43,13,3,2,5241,Martin Magr,mmagr,"Enable health check for OVN containers

This patch enables container health check execution for ovn_controller
and ovn_dbs_bundle containers.

Change-Id: Ie519e9684dc527cc384e11fb8f32b532dd2da1d7
Depends-On: Ie724b155fa071da9f1baee193cf79e2ecdc2ff30
"
openstack%2Ftripleo-ci~master~I37f9f8a99584fcbdfc5f937baf755eb12045e18e,openstack/tripleo-ci,master,,I37f9f8a99584fcbdfc5f937baf755eb12045e18e,Ignore whitespace at periodic flag,MERGED,2018-10-05 10:57:44.000000000,2018-10-07 08:42:38.000000000,2018-10-07 08:42:38.000000000,1,1,0,608225,b0647a3926b009d7d0c15e4e94f2a6083370e0e8,12,5,1,1,27898,Quique Llorente,quiquell,"Ignore whitespace at periodic flag

We were going to always evaluate it to false, there were a whitespace
after expanding the jinja template.

Change-Id: I37f9f8a99584fcbdfc5f937baf755eb12045e18e
"
openstack%2Ftripleo-ci~master~I1dea572774a3f397aa82eefd92c0a8160b9c0a74,openstack/tripleo-ci,master,fix-log-path,I1dea572774a3f397aa82eefd92c0a8160b9c0a74,Run-v3: set log path only if zuul.change is defined,MERGED,2018-10-04 20:50:11.000000000,2018-10-07 08:14:09.000000000,2018-10-07 08:14:09.000000000,5,1,1,608080,64768ad71fd94e2f5d8976d2bac138761f358f22,20,4,3,1,10022,Gabriele Cerami,panda,"Run-v3: set log path only if zuul.change is defined

Now that the periodic jobs are using the same workflow, LOG_PATH cannot
be correctly formed since no zuul.change is defined in periodic
pipeline.
Adding the legacy role to set the log path and changing the bash env var
to use that value

Change-Id: I1dea572774a3f397aa82eefd92c0a8160b9c0a74
"
openstack%2Fironic~master~I6b10b340fbd4e8f3de2b5ad8c1e0c9db0f18aba4,openstack/ironic,master,bug/1792872,I6b10b340fbd4e8f3de2b5ad8c1e0c9db0f18aba4,Clarify hash ring race release note,ABANDONED,2018-10-05 11:34:29.000000000,2018-10-07 06:49:09.000000000,,5,5,1,608238,c59ea718f2c7d4589479b29b1b30de905bc63463,3,0,1,1,10343,Jim Rollenhagen,jimrollenhagen,"Clarify hash ring race release note

Fixes a typo and clarifies that the reset interval was only really
ignored on the API side.

Change-Id: I6b10b340fbd4e8f3de2b5ad8c1e0c9db0f18aba4
"
openstack%2Frequirements~master~I63e0f45c4c89fe537cf5924adf9e2f5b9225f0f8,openstack/requirements,master,openstack/requirements/constraints,I63e0f45c4c89fe537cf5924adf9e2f5b9225f0f8,Updated from generate-constraints,ABANDONED,2018-10-07 06:23:21.000000000,2018-10-07 06:38:19.000000000,,3,3,0,608441,a35345d17a0c96a62602124b097c04e42aeab099,2,0,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I63e0f45c4c89fe537cf5924adf9e2f5b9225f0f8
"
openstack%2Ftripleo-heat-templates~master~Id48df6db012fb433f9a0e618d0269196f4cfc2c6,openstack/tripleo-heat-templates,master,bug/1795722,Id48df6db012fb433f9a0e618d0269196f4cfc2c6,Fix TLS when using a containerized undercloud,MERGED,2018-10-02 18:57:35.000000000,2018-10-07 05:43:42.000000000,2018-10-07 00:52:09.000000000,40,7,15,607343,c2139a7db2d0142be033d93f63ca6e75f901821a,59,11,7,7,20172,Michele Baldessari,michele,"Fix TLS when using a containerized undercloud

Since we moved to containerized UC, TLS Everywhere deployments are broken.
Namely we miss two things:

A. The NAT iptables rule for the nova metadata service to be reachable
B. The setting 'service_metadata_proxy=false' needs to be set for nova
   metadata otherwise the curl calls to setup ipa will fail with the
   following:
[root@overcloud-controller-0 log]# curl http://169.254.169.254/openstack/2016-10-06
<html>
 <head>
  <title>400 Bad Request</title>
 </head>
 <body>
  <h1>400 Bad Request</h1>
  X-Instance-ID header is missing from request.<br /><br />
 </body>
</html>

A. Is fixed by adding a conditional iptables rule that is only triggered
   when deploying an undercloud (where we set MetadataNATRule to true)

B. Is fixed by setting NeutronMetadataProxySharedSecret to '' on the
   undercloud and then setting the corresponding hiera keys only when
   the parameter != ''. We tried alternative simpler approaches like
   setting NeutronMetadataProxySharedSecret to null but that will break
   heat as the parameter is required and setting it to null breaks heat
   validation (we also tried to make the parameter optional with a
   default: '', but that broke as well)

While we're at it we also remove the neutron metadata service from the
undercloud as it is not needed.

Tested by deploying an undercloud with this change and observing:
A.
Chain PREROUTING (policy ACCEPT 106 packets, 6698 bytes)
 pkts bytes target     prot opt in     out     source               destination
    0     0 REDIRECT   tcp  --  br-ctlplane *       0.0.0.0/0            169.254.169.254      multiport dports 80 state NEW /* 999 undercloud nat ipv4 */ redir ports 8775

B.
grep -ir ^service_metadata_proxy /var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf
service_metadata_proxy=False

Also a deployment of a TLS overcloud was successful.

Change-Id: Id48df6db012fb433f9a0e618d0269196f4cfc2c6
Co-Authored-By: Martin Schuppert <mschuppe@redhat.com>
Closes-Bug: #1795722
"
openstack%2Ftripleo-quickstart-extras~master~I3f71b4d38049692c7b2f9ff4cd785d177ba5fc27,openstack/tripleo-quickstart-extras,master,standalone-qemu,I3f71b4d38049692c7b2f9ff4cd785d177ba5fc27,Standalone configurable virt type,MERGED,2018-10-01 15:17:57.000000000,2018-10-07 05:02:30.000000000,2018-10-07 05:02:29.000000000,14,0,10,606973,d89affe0071136bfa96ce4645c63f1d540b2e528,49,9,5,4,14985,Alex Schultz,mwhahaha,"Standalone configurable virt type

This change adds an option called standalone_libvirt_type to the
standalone role which will generate the libvirt type standalone
parameters for the deployment.

Change-Id: I3f71b4d38049692c7b2f9ff4cd785d177ba5fc27
"
openstack%2Ftripleo-quickstart-extras~master~Ida8529beb06bf9ba525c7abac625abed87d0e4da,openstack/tripleo-quickstart-extras,master,bp/all-in-one,Ida8529beb06bf9ba525c7abac625abed87d0e4da,Fix nits with configure-tempest,MERGED,2018-09-14 16:59:38.000000000,2018-10-07 04:47:35.000000000,2018-10-07 04:47:35.000000000,3,3,0,602681,d2389fbfe1fd7d5761864425a52fcb4942f0e741,33,6,3,1,14985,Alex Schultz,mwhahaha,"Fix nits with configure-tempest

See comments from https://review.openstack.org/#/c/600586

Change-Id: Ida8529beb06bf9ba525c7abac625abed87d0e4da
"
openstack%2Fproject-config~master~I081b23c1acec4b832bbfe1bae96d63e31ff6d335,openstack/project-config,master,osa-needs-importd,I081b23c1acec4b832bbfe1bae96d63e31ff6d335,set use flags for systemd,MERGED,2018-10-07 02:28:39.000000000,2018-10-07 04:46:08.000000000,2018-10-07 04:46:08.000000000,1,0,0,608435,9c0292db707c09b8a68ffa7409f4a0f20b215b49,7,3,1,1,14288,Matthew Thode,prometheanfire,"set use flags for systemd

Change-Id: I081b23c1acec4b832bbfe1bae96d63e31ff6d335
"
openstack%2Frequirements~master~Ife29d57033aa6a855a5fc1370ca1a8aa248f5600,openstack/requirements,master,openstack/requirements/constraints/noclob,Ife29d57033aa6a855a5fc1370ca1a8aa248f5600,Updated from generate-constraints,MERGED,2018-10-05 06:27:09.000000000,2018-10-07 04:27:37.000000000,2018-10-07 04:27:37.000000000,9,9,0,608164,69e4fd73a776300011e0d41ea14b339398dfcb64,11,2,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ife29d57033aa6a855a5fc1370ca1a8aa248f5600
"
openstack%2Fswift~master~I389948278cebd52490e07bcd417b79fca3cbc84e,openstack/swift,master,osprofiler-in-swift,I389948278cebd52490e07bcd417b79fca3cbc84e,OSprofiler in OpenStack Swift,ABANDONED,2017-05-26 08:36:05.000000000,2018-10-07 03:05:03.000000000,,717,10,8,468316,588ddd3d355f07c06004ea8d0e911442d9918f3d,103,6,31,19,23630,Tovin Seven,tovin07,"OSprofiler in OpenStack Swift

This patch adds OSprofiler into Swift, also a guide of using
OSProfiler in Swift.
OSprofiler is a distributed tracing for OpenStack internal services.

Add OSprofiler tracing for Swift:
    - WSGI Middleware to trace HTTP requests between swift services
    - Trace SQLite DB calls

Add OSProfiler documentation in Swift doc.

Reference:
    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/
    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt

Demos (in devstack: swift + keystone, client: python-openstackclient):
    - Create container: https://tovin07.github.io/swift/swift-container-create.html
    - Create object: https://tovin07.github.io/swift/swift-object-create.html
    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html
    - List container: https://tovin07.github.io/swift/swift-list-container.html

Specification: https://review.openstack.org/#/c/103825/

Co-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>

Change-Id: I389948278cebd52490e07bcd417b79fca3cbc84e
"
openstack%2Fpython-tripleoclient~master~Icf9a8f1c8049e46cc33541c5c40fc0d706a5869a,openstack/python-tripleoclient,master,bug/1796421,Icf9a8f1c8049e46cc33541c5c40fc0d706a5869a,Create DeployIdentifier for standalone,MERGED,2018-10-05 22:57:51.000000000,2018-10-07 02:56:12.000000000,2018-10-07 00:52:07.000000000,13,2,0,608377,5d4cebf3959ff706ce26f364fb905a94b36f58bd,9,4,1,2,14985,Alex Schultz,mwhahaha,"Create DeployIdentifier for standalone

There is a bunch of update logic in the framework that expects that a
DeployIdentifier will be set on updates in order to function correctly.
This change adds the generation of a DeployIdentifier to our update
logic to ensure that we are passing it to the deployment on updates.

Change-Id: Icf9a8f1c8049e46cc33541c5c40fc0d706a5869a
Closes-Bug: #1796421
"
openstack%2Ftripleo-heat-templates~master~Ibc735ac4326a9217469e368c074de8b0df7689bd,openstack/tripleo-heat-templates,master,bp/all-in-one,Ibc735ac4326a9217469e368c074de8b0df7689bd,Update standalone role,MERGED,2018-09-25 17:20:13.000000000,2018-10-07 02:52:35.000000000,2018-10-02 18:52:00.000000000,476,3,3,605156,ba81e1f4d66041615f068c8bc2e07773ec252a35,26,8,2,6,14985,Alex Schultz,mwhahaha,"Update standalone role

The standalone role can be used either with the tripleo deploy command
to deploy locally, or it can be used with an undercloud to deploy an
all-in-one node. This change provides a sample set of environment files
for both deployment mechanisms.

Change-Id: Ibc735ac4326a9217469e368c074de8b0df7689bd
Related-Blueprint: all-in-one
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Icf37dcd63e0152ee15e9f0079b45e31a4f8d9fbb,openstack/tripleo-heat-templates,stable/queens,bug/1761624,Icf37dcd63e0152ee15e9f0079b45e31a4f8d9fbb,"docker-puppet.py: used dedicated hiera entry, not uuid",MERGED,2018-10-03 16:41:27.000000000,2018-10-07 02:23:14.000000000,2018-10-07 02:23:14.000000000,8,4,0,607647,e39c57b02ca593f6bf7313aa13ff5fbacbae8536,10,4,1,3,27427,David Peacock,davidjpeacock,"docker-puppet.py: used dedicated hiera entry, not uuid

Currently it is not possible to do per-node customization inside
docker-puppet.py because it overrides the fact 'uuid'.

This change adds a dedicated docker_puppet entry in hiera.yaml so that
docker-puppet.py needs to do nothing special for
/etc/puppet/hieradata/docker_puppet.json to be included in the hiera
merge.

Conflicts:
        docker/docker-puppet.py
Change-Id: Icf37dcd63e0152ee15e9f0079b45e31a4f8d9fbb
Depends-On: https://review.openstack.org/#/c/607635/
Closes-Bug: #1761624
(cherry picked from commit 6bbc3b51dfa6c9ea744dbb7b6212db7c56e8d827)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Icf37dcd63e0152ee15e9f0079b45e31a4f8d9fbb,openstack/tripleo-heat-templates,stable/rocky,bug/1761624,Icf37dcd63e0152ee15e9f0079b45e31a4f8d9fbb,"docker-puppet.py: used dedicated hiera entry, not uuid",MERGED,2018-10-03 16:38:43.000000000,2018-10-07 02:23:10.000000000,2018-10-07 02:23:09.000000000,8,4,0,607639,091cd60d069af2cd7eb3eb4b56cba733a4c66f86,7,4,1,3,27427,David Peacock,davidjpeacock,"docker-puppet.py: used dedicated hiera entry, not uuid

Currently it is not possible to do per-node customization inside
docker-puppet.py because it overrides the fact 'uuid'.

This change adds a dedicated docker_puppet entry in hiera.yaml so that
docker-puppet.py needs to do nothing special for
/etc/puppet/hieradata/docker_puppet.json to be included in the hiera
merge.

Conflicts:
	docker/docker-puppet.py
Change-Id: Icf37dcd63e0152ee15e9f0079b45e31a4f8d9fbb
Depends-On: https://review.openstack.org/#/c/607631/
Closes-Bug: #1761624
(cherry picked from commit 6bbc3b51dfa6c9ea744dbb7b6212db7c56e8d827)
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~I5270778a7c4da2c383cf98c746b77c9b210e9ba0,openstack/puppet-tripleo,stable/queens,fencexvm-bundle-stable/queens,I5270778a7c4da2c383cf98c746b77c9b210e9ba0,adding deployment_type fact in support,MERGED,2018-10-03 16:31:33.000000000,2018-10-07 01:50:29.000000000,2018-10-07 01:50:29.000000000,24,2,0,607635,9f0aa72d94ea429f24b8824ac052971dad5fc5af,7,3,1,3,27427,David Peacock,davidjpeacock,"adding deployment_type fact in support

We have added a deployment_type fact to indicate when puppet is being
executed within a container.

Change-Id: I5270778a7c4da2c383cf98c746b77c9b210e9ba0
Related-Bug: #1761624
Needed-By: https://review.openstack.org/#/c/559182/
(cherry picked from commit 2c7e877e581153ddc17dfd976b0779b3ccebf315)
"
openstack%2Fpython-tripleoclient~master~I092b6dea5a77fc2691c7af5517a76172f8866bd7,openstack/python-tripleoclient,master,bug/1795000,I092b6dea5a77fc2691c7af5517a76172f8866bd7,Allow to actually disable heat-native,MERGED,2018-09-28 14:43:37.000000000,2018-10-07 01:46:32.000000000,2018-10-07 01:46:32.000000000,31,12,0,606100,e5a960e88ee8efd2cb213290976029be5b39ea97,44,5,6,5,3153,Emilien Macchi,emilienm,"Allow to actually disable heat-native

The way heat-native was implemented, we couldn't disable it.
And when disabled, it was not working.

- operators can now pass: --heat-native=False or configure
  heat_native=False in undercloud.conf, then heat native will actually be
  disabled.
- 'latest' tag doesn't exist for centos-binary-heat-all so we default
  to current-tripleo with is a safe default for us.
- when the heat_all container is done, it returns 137 (kill -9) which is
  good but we don't want to fail on that.

Change-Id: I092b6dea5a77fc2691c7af5517a76172f8866bd7
Closes-Bug: #1795000
"
openstack%2Fcinder~master~Ie344e6f988cf71e97272910e84e0034ab8c317ff,openstack/cinder,master,bp/volume-response-schema-validation,Ie344e6f988cf71e97272910e84e0034ab8c317ff,api-ref: remove encryption from Show-an-encryption-type,MERGED,2018-09-30 07:52:03.000000000,2018-10-07 01:25:40.000000000,2018-10-02 16:57:13.000000000,0,1,0,606803,dd9e1764e069b52e372317de638d3e6781ed590b,36,31,1,1,20190,zhufl,zhufl,"api-ref: remove encryption from Show-an-encryption-type

https://developer.openstack.org/api-ref/block-storage/v3/index.html#show-an-encryption-type
encryption is not a field in the response of ""Show an encryption type"",
this is to remove it.

Change-Id: Ie344e6f988cf71e97272910e84e0034ab8c317ff
"
openstack%2Ftripleo-ci~master~Ib59c64932e3529b80f611192883a2a5e4c9f06df,openstack/tripleo-ci,master,reduce-consumption,Ib59c64932e3529b80f611192883a2a5e4c9f06df,Remove 3node from CI,MERGED,2018-10-05 17:40:10.000000000,2018-10-07 00:52:15.000000000,2018-10-07 00:52:14.000000000,0,2,0,608326,e19fe96215f9bd65bdcf8ca17eb2ca7e22c2258f,8,4,1,1,14985,Alex Schultz,mwhahaha,"Remove 3node from CI

This job is continually broken and just eats up resources. Let's remove
this for now.

Change-Id: Ib59c64932e3529b80f611192883a2a5e4c9f06df
"
openstack%2Fpython-tripleoclient~stable%2Frocky~I23f5bef9585ea6aa54edaa5f278625fa6ba9b0f9,openstack/python-tripleoclient,stable/rocky,bug/1795027-stable/rocky,I23f5bef9585ea6aa54edaa5f278625fa6ba9b0f9,Zaqar on the containerized undercloud should not use Redis,MERGED,2018-10-03 22:37:45.000000000,2018-10-07 00:52:13.000000000,2018-10-07 00:52:13.000000000,12,12,0,607734,9547320303c6ec8791c93b3471a663b28c7f6eb0,11,4,1,2,14985,Alex Schultz,mwhahaha,"Zaqar on the containerized undercloud should not use Redis

Let's use the newly-introduced zaqar-swift-backend.yaml file in order
to not pull in redis automatically on the containerized undercloud.

Change-Id: I23f5bef9585ea6aa54edaa5f278625fa6ba9b0f9
Depends-On: Ic11b4790a1a2c2336cd432784f19922e76e028ad
Closes-Bug: #1795027
(cherry picked from commit fa0a7acb639422d7497eff0830252ab3ff82421e)
"
openstack%2Ftripleo-heat-templates~master~I112b63096c8dce05176b0939a7678bec02987294,openstack/tripleo-heat-templates,master,check-mode,I112b63096c8dce05176b0939a7678bec02987294,check mode: puppet host,MERGED,2018-09-17 23:48:23.000000000,2018-10-07 00:52:05.000000000,2018-10-07 00:52:04.000000000,98,4,0,603252,6d0f16d4303e1b99e72a0c16932c92c912df61ed,57,7,7,1,7144,James Slagle,slagle,"check mode: puppet host

Adds check mode support for puppet host tasks.

This works by writing the new puppet host manifest under
/var/lib/tripleo-config/check-mode, and diffing it against the existing
version of the manifest.

Puppet is also run with --noop, so that it only reports on what changes
would have been made.

It also uses the check mode hiera configuration at
/etc/puppet/check-mode/hiera.yaml if it exists so that the updated hiera
data is also accounted for when puppet runs with --noop.

Depends-On: Ibe0c2ab79c35f04ce51e7a1ade0e8ff72b430163
Change-Id: I112b63096c8dce05176b0939a7678bec02987294
"
openstack%2Ftripleo-common~stable%2Frocky~I4b05933bd8b24119ed2d1040af60b4b3a2e3140f,openstack/tripleo-common,stable/rocky,bug/1784967-stable/rocky,I4b05933bd8b24119ed2d1040af60b4b3a2e3140f,Add on-error task to parse_node_data_lookup,MERGED,2018-10-04 08:24:42.000000000,2018-10-07 00:52:04.000000000,2018-10-07 00:52:04.000000000,2,0,0,607840,d709699b4cace989007344b69c67fe59d57c935b,12,5,1,1,6796,Giulio Fidente,gfidente,"Add on-error task to parse_node_data_lookup

If the ceph-ansible workbook fails to parse node_data_lookup
because it does not contain valid JSON, then fail the task
with a message that the NodeDataLookup JSON isn't valid.

Change-Id: I4b05933bd8b24119ed2d1040af60b4b3a2e3140f
Closes-Bug: #1784967
(cherry picked from commit 5b1c4c00eea2242b82bd68498b45b7f65adbf811)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I8d1db69d520da069099f919f286e6a553dd645a5,openstack/tripleo-heat-templates,stable/rocky,bug/1794027-stable/rocky,I8d1db69d520da069099f919f286e6a553dd645a5,Mount /usr/share/ceph-ansible into mistral-executor,MERGED,2018-10-03 17:06:46.000000000,2018-10-07 00:52:02.000000000,2018-10-07 00:52:02.000000000,2,0,0,607652,1efba039d49c882334e28361d93992eee54a37a3,19,6,1,1,6796,Giulio Fidente,gfidente,"Mount /usr/share/ceph-ansible into mistral-executor

The undercloud needs to be able to run the playbooks shipping with
ceph-ansible so we mount them from the hosting node in undercloud.yaml

Change-Id: I8d1db69d520da069099f919f286e6a553dd645a5
Closes-Bug: 1794027
(cherry picked from commit 5ca0b91275a834961737bc99536f8cf627850476)
"
openstack%2Ftripleo-common~master~I4a67d1ebd8a8111426aaf799d55bf973778e48e3,openstack/tripleo-common,master,bug/1780139,I4a67d1ebd8a8111426aaf799d55bf973778e48e3,"Revert ""Add container runtime packages for cron image""",MERGED,2018-10-03 09:46:54.000000000,2018-10-07 00:51:58.000000000,2018-10-07 00:51:58.000000000,0,7,0,607516,2cb528b17fd8600207c78a5d2cfb1bedab293629,23,10,2,1,6926,Bogdan Dobrelya,bogdando,"Revert ""Add container runtime packages for cron image""

not needed any more as we fallback to copytruncate

This reverts commit 305445bac6ccf2cb491f451412035f08aa2928ba.

Change-Id: I4a67d1ebd8a8111426aaf799d55bf973778e48e3
"
openstack%2Ftripleo-heat-templates~master~I82fc10fb75ed4d804eda8a1b7bee5dd63e5efd11,openstack/tripleo-heat-templates,master,OVN-SFC,I82fc10fb75ed4d804eda8a1b7bee5dd63e5efd11,This file intorduces OVN as a controller. I've cloned the neutron-sfc.yaml file and added to the parameter_defaults NeutronSfcDriver:'ovn' There could be other param defaults needs to be added and i'm not aware of.,MERGED,2018-07-31 14:42:06.000000000,2018-10-07 00:36:08.000000000,2018-10-07 00:36:07.000000000,8,0,4,587491,c9e2d39a631d32157101657b74caa44418e824eb,49,9,4,1,28802,Amir Mohamad,a.mohamad,"This file intorduces OVN as a controller.
I've cloned the neutron-sfc.yaml file and added to the parameter_defaults NeutronSfcDriver:'ovn'
There could be other param defaults needs to be added and i'm not aware of.

Change-Id: I82fc10fb75ed4d804eda8a1b7bee5dd63e5efd11
"
openstack%2Ftripleo-common~master~I43e3dbcfeab4f5237e79f42bad39e52bed9aef0e,openstack/tripleo-common,master,bp/python3-support,I43e3dbcfeab4f5237e79f42bad39e52bed9aef0e,Add image building config file for Fedora and py3,MERGED,2018-08-28 20:37:55.000000000,2018-10-07 00:36:06.000000000,2018-10-07 00:36:06.000000000,83,0,3,597234,49ca8f5454ffd159c36e74e2203222b5bb12eeab,46,8,7,2,14985,Alex Schultz,mwhahaha,"Add image building config file for Fedora and py3

Here's an image building configuration file that can be used to build
overcloud full images on Fedora 28.

Change-Id: I43e3dbcfeab4f5237e79f42bad39e52bed9aef0e
Related-Blueprint: python3-support
"
openstack%2Fpuppet-tripleo~master~Ic3bea5a2081fc5194471e35b765e7ef8a9f5b036,openstack/puppet-tripleo,master,bug/1793361,Ic3bea5a2081fc5194471e35b765e7ef8a9f5b036,Include missing config classes,MERGED,2018-09-19 18:45:33.000000000,2018-10-07 00:36:05.000000000,2018-10-07 00:36:05.000000000,5,0,0,603867,4592234a2c3370c7ddd5683fe82069a0a7f4e9d9,19,6,1,5,14985,Alex Schultz,mwhahaha,"Include missing config classes

If a user wants to use an extra config to tune something that we do not
currently expose then they need to use the various config classes
available in the puppet modules. This change adds an include for the
missing classes for congress, ironic, sahara, tacker and zaqar.

Change-Id: Ic3bea5a2081fc5194471e35b765e7ef8a9f5b036
Related-Bug: #1793361
"
openstack%2Ftripleo-heat-templates~master~I8c2ad6329b5c4226edae9ea80baf3bca8dd06e65,openstack/tripleo-heat-templates,master,bug/1780139,I8c2ad6329b5c4226edae9ea80baf3bca8dd06e65,"Revert ""Allow a containerized logrotate to access docker""",MERGED,2018-10-03 09:48:27.000000000,2018-10-07 00:36:04.000000000,2018-10-07 00:36:04.000000000,0,1,0,607518,bd2b7a18569c2f33ae8e54b69cdc8dec95fbd4fe,21,11,1,1,6926,Bogdan Dobrelya,bogdando,"Revert ""Allow a containerized logrotate to access docker""

not needed any more as we fallback to copytruncate

This reverts commit 2b1afc0483f849046b404099944653015fc11a04.

Change-Id: I8c2ad6329b5c4226edae9ea80baf3bca8dd06e65
"
openstack%2Fnetworking-midonet~stable%2Fqueens~I3ba97349451ae8cdb7d6d6f9243dde69b780508c,openstack/networking-midonet,stable/queens,python3-first,I3ba97349451ae8cdb7d6d6f9243dde69b780508c,import zuul job settings from project-config,MERGED,2018-08-30 00:08:43.000000000,2018-10-07 00:33:21.000000000,2018-10-07 00:33:21.000000000,108,0,0,597937,0297c0f0dc8778351fb796f53f258460d7980c36,19,7,3,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I3ba97349451ae8cdb7d6d6f9243dde69b780508c
Story: #2002586
Task: #24314
"
openstack%2Fos-apply-config~stable%2Frocky~I7a89af863f54537d49b62ea07a84fa51e76dcd3c,openstack/os-apply-config,stable/rocky,create-rocky,I7a89af863f54537d49b62ea07a84fa51e76dcd3c,Update UPPER_CONSTRAINTS_FILE for stable/rocky,MERGED,2018-08-24 14:41:19.000000000,2018-10-06 23:56:49.000000000,2018-10-06 23:56:49.000000000,1,1,0,596324,387ecfa05f87cb622f27fdb9f42bde6a70464dd8,11,4,1,1,22816,OpenStack Release Bot,release,"Update UPPER_CONSTRAINTS_FILE for stable/rocky

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I7a89af863f54537d49b62ea07a84fa51e76dcd3c
"
openstack%2Fos-apply-config~stable%2Frocky~Ibb88b8da289ad3533917cd4bfb76afb2fabe783c,openstack/os-apply-config,stable/rocky,create-rocky,Ibb88b8da289ad3533917cd4bfb76afb2fabe783c,Update .gitreview for stable/rocky,MERGED,2018-08-24 14:41:17.000000000,2018-10-06 23:56:49.000000000,2018-10-06 23:56:49.000000000,1,0,0,596323,ff40481c7a78fb6905af90361570cfc20e365729,11,4,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/rocky

Change-Id: Ibb88b8da289ad3533917cd4bfb76afb2fabe783c
"
openstack%2Fopenstack-ansible-tests~master~I23bdbe0f6230a289fe09e5585aafe12a17824149,openstack/openstack-ansible-tests,master,fix-jobs,I23bdbe0f6230a289fe09e5585aafe12a17824149,zuul: ubuntu: Switch functional jobs Bionic,MERGED,2018-10-01 09:55:39.000000000,2018-10-06 23:38:25.000000000,2018-10-06 23:38:25.000000000,0,2,0,606923,dd9fe367f8d08adaa2f7aed5b7b9257a32ef8468,12,4,2,1,23163,Markos Chandras (hwoarang),mchandras,"zuul: ubuntu: Switch functional jobs Bionic

The Ubuntu Xenial version is being phased out in the 'S' release in
favour of the Ubuntu Bionic one, so lets drop the functional jobs.

Change-Id: I23bdbe0f6230a289fe09e5585aafe12a17824149
"
openstack%2Fpuppet-tripleo~stable%2Frocky~I5270778a7c4da2c383cf98c746b77c9b210e9ba0,openstack/puppet-tripleo,stable/rocky,bug/1761624-stable/rocky,I5270778a7c4da2c383cf98c746b77c9b210e9ba0,adding deployment_type fact in support,MERGED,2018-10-03 16:23:57.000000000,2018-10-06 23:37:15.000000000,2018-10-06 23:37:15.000000000,24,2,0,607631,501f10c48508f7e178a78617ca4be4b47a9f52fb,12,3,1,3,27427,David Peacock,davidjpeacock,"adding deployment_type fact in support

We have added a deployment_type fact to indicate when puppet is being
executed within a container.

Change-Id: I5270778a7c4da2c383cf98c746b77c9b210e9ba0
Related-Bug: #1761624
(cherry picked from commit 2c7e877e581153ddc17dfd976b0779b3ccebf315)
"
openstack%2Fopenstack-ansible-plugins~master~I770a6a3e08490b7ae74752178e69be43ec484dc5,openstack/openstack-ansible-plugins,master,bug/1782625,I770a6a3e08490b7ae74752178e69be43ec484dc5,Updates provider_network plugin to support geneve,MERGED,2018-07-20 17:06:59.000000000,2018-10-06 23:06:30.000000000,2018-10-06 23:06:30.000000000,26,3,2,584447,bc3e3b074cda33397979a9cb26f4bec866f044cd,24,7,5,1,16011,James Denton,busterswt,"Updates provider_network plugin to support geneve

This commit updates the provider_network library to support
geneve for use with Open Virtual Networking (OVN).

Change-Id: I770a6a3e08490b7ae74752178e69be43ec484dc5
Implements: networking-ovn support
Partial-Bug: #1782625
"
openstack%2Fopenstack-ansible-os_aodh~master~I0e03df709650d16167f45643dc615beba89fc5b1,openstack/openstack-ansible-os_aodh,master,,I0e03df709650d16167f45643dc615beba89fc5b1,Trivial: Fix the pep8 warning,MERGED,2018-08-06 07:13:22.000000000,2018-10-06 22:50:24.000000000,2018-10-06 22:50:24.000000000,2,0,0,589029,4753a2203fc5833f8fe23aadc2271d2ad021f354,16,5,1,2,21486,wangqi,wangqi,"Trivial: Fix the pep8 warning

The yaml should start with ""---""

Change-Id: I0e03df709650d16167f45643dc615beba89fc5b1
"
openstack%2Fopenstack-ansible-ops~master~I5312e88d4f41033a223d145e72f0767be45adda1,openstack/openstack-ansible-ops,master,make-osa-repo-clone-optional,I5312e88d4f41033a223d145e72f0767be45adda1,Make OSA repo clone optional,MERGED,2018-09-15 15:30:29.000000000,2018-10-06 22:07:05.000000000,2018-10-06 22:07:05.000000000,1,1,3,602861,ebfe08b9eff4977e0c667bfa71c0f486ce3643a6,14,7,2,1,13487,Wayne Warren,waynr,"Make OSA repo clone optional

I am working on an experimental approach to running the MNAIO playbooks
in a local docker container with osa and osa-ops already checked out and
volume-mounted into the docker container. This change supports that
approach by making the git clone step optional in the deploy-osa.yml
playbook.

Also, don't force update the OSA repo.

Change-Id: I5312e88d4f41033a223d145e72f0767be45adda1
"
openstack%2Fzun~master~I3a54bc75652235a6edfadbd1c9961c9ddb2d0f37,openstack/zun,master,fixtypo,I3a54bc75652235a6edfadbd1c9961c9ddb2d0f37,Fix a typo in the docstring,MERGED,2018-10-05 09:04:09.000000000,2018-10-06 21:52:10.000000000,2018-10-06 21:52:10.000000000,1,1,1,608188,31e02d5b93accb5e978599da83fc678849e610d1,9,2,2,1,17130,melissaml,malei,"Fix a typo in the docstring

Change-Id: I3a54bc75652235a6edfadbd1c9961c9ddb2d0f37
"
openstack%2Ftripleo-quickstart-extras~master~Ic13488cbebe2ec5fb3a60f04898c3af12280d62c,openstack/tripleo-quickstart-extras,master,bp/remove-instack-undercloud,Ic13488cbebe2ec5fb3a60f04898c3af12280d62c,Add ability to specify undercloud install command,MERGED,2018-09-27 14:23:02.000000000,2018-10-06 21:20:47.000000000,2018-10-06 21:20:47.000000000,3,1,0,605747,0a63a77f54d8c92aed604b83d043d0ce3ccb07e8,30,7,1,3,14985,Alex Schultz,mwhahaha,"Add ability to specify undercloud install command

In Stein we've dropped the undercloud install via instack so we need to
be able to override the command so that we can properly continue
testing instack-undercloud.

Change-Id: Ic13488cbebe2ec5fb3a60f04898c3af12280d62c
Related-Blueprint: remove-instack-undercloud
"
openstack%2Fpbr~master~I7f915ecdc819bc4d3c6811949f12bdadb108a1ab,openstack/pbr,master,the-great-cleanup,I7f915ecdc819bc4d3c6811949f12bdadb108a1ab,packaging: Remove support for pyN requirement files,MERGED,2018-07-05 15:36:44.000000000,2018-10-06 21:14:59.000000000,2018-10-06 21:14:58.000000000,14,35,0,580417,8ea9d9262de318bf24d32246e6891d7a39d4b91b,41,8,12,4,15334,Stephen Finucane,sfinucan,"packaging: Remove support for pyN requirement files

Change-Id: I7f915ecdc819bc4d3c6811949f12bdadb108a1ab
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fopenstack-helm~master~I3ccc41f3ab97868ecfef7517185c92b0124924ac,openstack/openstack-helm,master,remove-libvirt,I3ccc41f3ab97868ecfef7517185c92b0124924ac,Libvirt: Remove libvirt dockerfile from repo,MERGED,2018-10-03 13:19:40.000000000,2018-10-06 20:28:34.000000000,2018-10-06 20:28:34.000000000,0,136,0,607567,bdacef72eb050ca10ffe0a86ac01700b0701e1f4,14,4,4,4,23928,Pete Birley,portdirect,"Libvirt: Remove libvirt dockerfile from repo

This PS removes the libvirt dockerfile from the repo, as it and the
chart beling in openstack-helm-infra.

Depends-On: https://review.openstack.org/#/c/608355/

Change-Id: I3ccc41f3ab97868ecfef7517185c92b0124924ac
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ic11b4790a1a2c2336cd432784f19922e76e028ad,openstack/tripleo-heat-templates,stable/rocky,bug/1795027-stable/rocky,Ic11b4790a1a2c2336cd432784f19922e76e028ad,Add a zaqar-swift-backend environment file,MERGED,2018-10-03 22:37:34.000000000,2018-10-06 19:07:25.000000000,2018-10-06 19:07:25.000000000,4,0,0,607733,6bf333a930fa28f1afcd45e6b695d307a7dbe6a0,17,5,1,1,14985,Alex Schultz,mwhahaha,"Add a zaqar-swift-backend environment file

The main purpose of this file is to enable the zaqar service
but, unlike the environments/services/zaqar.yaml file it explicitely
disables the redis service as this is meant to be used with
swift/sqlalchemy.

The main use case here being the containerized undercloud

Change-Id: Ic11b4790a1a2c2336cd432784f19922e76e028ad
Partial-Bug: #1795027
(cherry picked from commit 242bef164a16c740b35a8182693c360cabdf678f)
"
openstack%2Fpuppet-nova~stable%2Frocky~I869af3ebd37691e0117e320661bf9edabce4efd6,openstack/puppet-nova,stable/rocky,,I869af3ebd37691e0117e320661bf9edabce4efd6,Set valid_interfaces for placement,MERGED,2018-09-25 13:31:55.000000000,2018-10-06 18:43:57.000000000,2018-10-06 18:43:57.000000000,3,3,0,605071,561fc22c4198a51a2b64c469ae8fef7680a27460,18,6,2,2,16137,Tobias Urdin,tobasco,"Set valid_interfaces for placement

The os_interface config option in the placement
section was removed and has no effect so if
anybody is using the os_interface parameter
for this class it doesn't do anything.

See release notes [1]. This changes so that the
puppet interface is intact but the correct config
option is set.

This is fixed for Stein with [2].

[1] https://docs.openstack.org/releasenotes/nova/rocky.html
[2] https://review.openstack.org/#/c/605069/

Change-Id: I869af3ebd37691e0117e320661bf9edabce4efd6
"
openstack%2Fpuppet-tripleo~master~Idcb1c5b4b7556ed9e26319305f3b6b0d00369ef8,openstack/puppet-tripleo,master,RHBZ1631154,Idcb1c5b4b7556ed9e26319305f3b6b0d00369ef8,Add additional tuning options for mariadb/galera,MERGED,2018-09-20 06:42:41.000000000,2018-10-06 18:36:33.000000000,2018-10-06 18:36:33.000000000,19,0,4,603996,9289a3e9dea89300eb69c05fa6b0d1baf06eeebe,34,10,7,1,19705,Luca Miccini,luca.miccini,"Add additional tuning options for mariadb/galera

This introduces additional mariadb tuning options, namely:

- innodb_log_file_size:

  Configure the size in bytes of each log file in a log group.
  Generally, the combined size of the log files should be large enough
  that the server can smooth out peaks and troughs in workload activity,
  which often means that there is enough redo log space to handle more
  than an hour of write activity.
  The larger the value, the less checkpoint flush activity is required
  in the buffer pool, saving disk I/O.

- innodb_flush_method

  Defines the method used to flush data to InnoDB data files and log files,
  which can affect I/O throughput. If innodb_flush_method is set to NULL
  on a Unix-like system, the fsync option is used by default.

  The innodb_flush_method options for Unix-like systems include:

  - fsync: InnoDB uses the fsync() system call to flush the data and log files.
  - O_DSYNC: InnoDB uses O_SYNC to open and flush the log files,
    and fsync() to flush the data files.
  - littlesync: currently unsupported. Use at your own risk.
  - nosync: currently unsupported. Use at your own risk.
  - O_DIRECT: InnoDB uses O_DIRECT to open the data files,
    and uses fsync() to flush both the data and log files.

- table_open_cache

  The number of open tables for all threads. Increasing this value
  increases the number of file descriptors that mysqld requires.
  You can check whether you need to increase the table cache by checking the
  Opened_tables status variable. If the value of Opened_tables is large
  and you do not use FLUSH TABLES often, then you should increase the value of
  the table_open_cache variable.

default value for all three is 'undef'.

Change-Id: Idcb1c5b4b7556ed9e26319305f3b6b0d00369ef8
"
openstack%2Ftripleo-quickstart-extras~master~Ia29a3aaeb23e63d68cfe4891436446093016ea3c,openstack/tripleo-quickstart-extras,master,bug/1794038,Ia29a3aaeb23e63d68cfe4891436446093016ea3c,Rebase undercloud.conf template,MERGED,2018-09-24 22:14:23.000000000,2018-10-06 18:36:18.000000000,2018-10-06 18:36:18.000000000,64,2,2,604922,52db4aefb747552c507f5473390eaeb18fab6ab2,22,11,3,1,24245,Harald Jensås,harald.jensas,"Rebase undercloud.conf template

With the changes to undercloud for routed networks support
the configuration file structure was changed. This updates
the undercloud.conf template in quickstart to reflect these
changes.

Related-Bug: #1794038
Change-Id: Ia29a3aaeb23e63d68cfe4891436446093016ea3c
"
openstack%2Fpbr~master~I9a77a4f6397464c33181d8b4bd2a9ae79c058b47,openstack/pbr,master,587204,I9a77a4f6397464c33181d8b4bd2a9ae79c058b47,docs: Add docs for reno integration,MERGED,2018-09-24 12:06:41.000000000,2018-10-06 18:34:58.000000000,2018-10-06 18:34:58.000000000,17,1,1,604754,dac6f829af0fcca3586d7e953c7020692ae700c0,8,5,1,2,15334,Stephen Finucane,sfinucan,"docs: Add docs for reno integration

Change-Id: I9a77a4f6397464c33181d8b4bd2a9ae79c058b47
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fhorizon~stable%2Frocky~I276eebf0f11406bf354f5d8bbecef7b244d6d340,openstack/horizon,stable/rocky,bug/1778771-stable/rocky,I276eebf0f11406bf354f5d8bbecef7b244d6d340,Add enabled check in Backups panel,MERGED,2018-09-27 13:40:25.000000000,2018-10-06 18:27:09.000000000,2018-10-06 18:27:09.000000000,6,0,0,605715,19865eec5bc4a5a0ee402a55295dda2e52c2422c,11,7,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add enabled check in Backups panel

If enable_backup is False in OPENSTACK_CINDER_FEATURES
then we should not display the backups panel.

Change-Id: I276eebf0f11406bf354f5d8bbecef7b244d6d340
Closes-Bug: #1778771
(cherry picked from commit 6c2225bab8b007023e031d829bc72e8e50e6f1df)
"
openstack%2Fpython-tripleoclient~stable%2Fqueens~I834043c559004bbf5eeaf0a611cfa70ff29b7b05,openstack/python-tripleoclient,stable/queens,bug/1786970,I834043c559004bbf5eeaf0a611cfa70ff29b7b05,Issue a message to update nodes after updating images,MERGED,2018-08-23 13:14:25.000000000,2018-10-06 18:19:40.000000000,2018-10-06 18:19:39.000000000,9,0,0,595765,bec731e094f32a40b6f8999ff845bef6ecf51192,12,8,1,2,10239,Dmitry Tantsur,dtantsur,"Issue a message to update nodes after updating images

Currently it may be confusing for operators that the image upload
command does not update nodes when uploading new versions of images.
This change adds a reminder to do so.

Conflicts:
	tripleoclient/v1/overcloud_image.py

Change-Id: I834043c559004bbf5eeaf0a611cfa70ff29b7b05
Closes-Bug: #1786970
(cherry picked from commit 9e717d67d72b2e53aec9795eb38dcb884886dc11)
"
openstack%2Foslo.log~master~Icfb399cfe3dce89dfd5fb5079295a4947828417a,openstack/oslo.log,master,jsonformatter-job,Icfb399cfe3dce89dfd5fb5079295a4947828417a,Add devstack job with JSONFormatter configured,MERGED,2018-05-03 17:16:43.000000000,2018-10-06 17:37:00.000000000,2018-10-06 17:37:00.000000000,31,1,3,566125,fa045daa01f3f4186cc87502075f645069f3eaa8,13,4,2,1,6928,Ben Nemec,bnemec,"Add devstack job with JSONFormatter configured

We've run into issues in the past where a service passed something
to the logger that broke JSONFormatter. To try to catch those sooner,
add a job that configures the services to use JSONFormatter. This
should provide a more realistic test of the formatter than we can
hope to accomplish in unit tests.

Change-Id: Icfb399cfe3dce89dfd5fb5079295a4947828417a
"
openstack%2Fpbr~master~I0eff88e5736243291d4777f642bc48c32deafa39,openstack/pbr,master,update-zuul,I0eff88e5736243291d4777f642bc48c32deafa39,Use templates for cover and lower-constraints,MERGED,2018-09-08 14:50:01.000000000,2018-10-06 17:30:38.000000000,2018-10-06 17:30:38.000000000,6,8,0,600943,58cccf098b33f3336d8ccda36c182f9d77c5611c,25,4,6,2,6547,Andreas Jaeger,jaegerandi,"Use templates for cover and lower-constraints

Use openstack-tox-cover template, this runs the cover job
in the check queue only.

Use openstack-lower-constraints-jobs template.

Remove jobs that are part of the templates.

Sort list of templates.

Add coverage to test-requirements, otherwise tox -e cover will fail.

Change-Id: I0eff88e5736243291d4777f642bc48c32deafa39
"
openstack%2Fironic~master~I4dbb5800738836ececb77cf047f8c93cd83a63d5,openstack/ironic,master,rloo_followup,I4dbb5800738836ececb77cf047f8c93cd83a63d5,Remove unnecessary checks in periodic task methods,MERGED,2018-10-03 17:38:08.000000000,2018-10-06 16:58:54.000000000,2018-10-06 16:58:54.000000000,0,43,0,607656,a00ebf4ec7068626a6925c011c904117213aaf6f,17,9,1,2,6618,Ruby Loo,rloo,"Remove unnecessary checks in periodic task methods

Remove unnecessary checks. They aren't needed because the
periodic task is disabled in those cases, so the method is
never run.

This is a follow up to f39aae0c95567d78e9a29dbb7e74abe1104c97d0.

Change-Id: I4dbb5800738836ececb77cf047f8c93cd83a63d5
"
openstack%2Fhorizon~master~I8856e4e91b25f059645eb5e0356d207f6fc119f2,openstack/horizon,master,cleanup-nose-references,I8856e4e91b25f059645eb5e0356d207f6fc119f2,Remove nose references from Horizon,MERGED,2018-09-22 17:12:19.000000000,2018-10-06 16:31:08.000000000,2018-10-06 16:31:08.000000000,0,16,0,604554,770afab1bf57d8581a26eabdf314886d3c60706e,11,6,1,5,1736,Ivan Kolodyazhny,e0ne,"Remove nose references from Horizon

Commit I7fb2fd7dd40f301ea822154b9809a9a07610c507 changed test runner to
not use nose. So it's safe to remove all references now.

Change-Id: I8856e4e91b25f059645eb5e0356d207f6fc119f2
"
openstack%2Fhorizon~master~I604c8ecab63ccd16fa1fb1ea45738c5e6a313230,openstack/horizon,master,zanata/translations,I604c8ecab63ccd16fa1fb1ea45738c5e6a313230,Imported Translations from Zanata,MERGED,2018-10-06 07:22:25.000000000,2018-10-06 16:16:08.000000000,2018-10-06 16:16:08.000000000,51,6,0,608402,6f7deef342cc3007cd6beab79e7ca6afb1aa40fd,6,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I604c8ecab63ccd16fa1fb1ea45738c5e6a313230
"
openstack%2Ftripleo-quickstart-extras~master~I59493e71326891333863e295d06b01d320e50b5c,openstack/tripleo-quickstart-extras,master,bug/1796030,I59493e71326891333863e295d06b01d320e50b5c,Always pass docker.yml when using containers,MERGED,2018-10-04 12:37:54.000000000,2018-10-06 16:13:29.000000000,2018-10-06 16:13:29.000000000,0,2,3,607950,49bff74a805614efa070987e80e54084b0e04e1b,32,8,3,1,20936,Raoul Scarazzini,rasca,"Always pass docker.yml when using containers

According to the way we deploy via containers we always need to pass
docker.yml, otherwise deployment problems can happen.

Change-Id: I59493e71326891333863e295d06b01d320e50b5c
Closes-Bug: #1796030
"
openstack%2Ftripleo-docs~master~I873b7004fc7868dcb7e6d3247ba637f2d1d31937,openstack/tripleo-docs,master,featureset_override,I873b7004fc7868dcb7e6d3247ba637f2d1d31937,Add featureset_override instructions,MERGED,2018-08-27 17:34:11.000000000,2018-10-06 15:58:22.000000000,2018-10-06 15:58:22.000000000,41,0,6,596848,efc49095b2de2cfc835b01c87e11418157b6aa9d,22,12,2,1,8175,Rafael Folco,rfolco,"Add featureset_override instructions

Describes how projects can run a popular CI job and override post
deployment settings, more specifically, tempest tests.

Depends-On: https://review.openstack.org/#/c/594511
Change-Id: I873b7004fc7868dcb7e6d3247ba637f2d1d31937
"
openstack%2Fneutron~master~I7bb29bbe68f7e9afbc20704948661dd5e9dae912,openstack/neutron,master,,I7bb29bbe68f7e9afbc20704948661dd5e9dae912,Remove population of is_filter keyword,MERGED,2018-10-02 15:19:38.000000000,2018-10-06 15:33:56.000000000,2018-10-06 15:33:56.000000000,0,24,4,607289,b43b8c446dac3ed24eebd0b712b569c6f71eba2c,32,13,3,2,27654,Hongbin Lu,hongbin.lu,"Remove population of is_filter keyword

The population of is_filter in network_ip_availability and
portbindings_extended modules was a walk-around for the missing
of this keyword in neutron-lib's resource attributes.
This issue is resolved in the release of neutron-lib 1.19.0
so this walk-around can be removed.

Depends-On: https://review.openstack.org/#/c/605690/
Change-Id: I7bb29bbe68f7e9afbc20704948661dd5e9dae912
"
openstack%2Fopenstacksdk~master~I3ede4fd0b12a65effade238c4ea967aca51869ba,openstack/openstacksdk,master,task-manager,I3ede4fd0b12a65effade238c4ea967aca51869ba,Make RateLimitingTaskManager the TaskManager,MERGED,2018-09-22 13:29:10.000000000,2018-10-06 15:33:52.000000000,2018-10-06 15:33:52.000000000,48,64,2,604520,9db8bae0a197c067f065a1991bd573f9d6fffcfd,21,5,5,4,2,Monty Taylor,mordred,"Make RateLimitingTaskManager the TaskManager

There isn't really a reason to not run the multi-threaded rate-limiting
task manager all the time.

Modify it slightly so that rate=None means ""don't rate limit"", which
should keep the existing behavior.

Change-Id: I3ede4fd0b12a65effade238c4ea967aca51869ba
"
openstack%2Fopenstacksdk~master~I0fcefb78cf66a60a4c08de8d39d44222a56a8725,openstack/openstacksdk,master,task-manager,I0fcefb78cf66a60a4c08de8d39d44222a56a8725,Import rate limiting TaskManager from nodepool,MERGED,2018-06-11 14:55:38.000000000,2018-10-06 15:33:51.000000000,2018-10-06 15:33:51.000000000,66,1,15,574285,348c9e8da32984b6cbdea5e29729034c0216cfb3,42,4,7,3,2,Monty Taylor,mordred,"Import rate limiting TaskManager from nodepool

There is logic in the caching and batching layer in shade that is in
service of the rate limiting TaskManager from nodepool- but the logic in
that TaskManager is nowhere to be found in the openstacksdk codebase.
This leads people to want to make changes without the whole picture.

Pull in the code from nodepool so that we can have a full discussion
about things like caching and retries ... and potentially even add some
tests that run things under it.

Change-Id: I0fcefb78cf66a60a4c08de8d39d44222a56a8725
"
openstack%2Fpuppet-tripleo~master~I4833525ae98d95c3ad84e3f79f30b8078c394ee1,openstack/puppet-tripleo,master,bug/1795986,I4833525ae98d95c3ad84e3f79f30b8078c394ee1,Disable chrony-wait,MERGED,2018-10-03 22:03:01.000000000,2018-10-06 15:33:38.000000000,2018-10-05 23:30:54.000000000,5,0,0,607727,594aff428938ff9fc6c9058c84bab49fb43868bb,17,5,1,1,14985,Alex Schultz,mwhahaha,"Disable chrony-wait

The chrony-wait service also prevents ntpd from starting on reboots.
This service should be disabled if present and running on the host when
using ntp.

Change-Id: I4833525ae98d95c3ad84e3f79f30b8078c394ee1
Closes-Bug: #1795986
"
openstack%2Ftripleo-heat-templates~master~Ic0fb84fb7c711d4706b75885e69cbd052cd56f42,openstack/tripleo-heat-templates,master,tripleo-openshift,Ic0fb84fb7c711d4706b75885e69cbd052cd56f42,Consolidate openshift-ansible global variables,MERGED,2018-09-24 10:15:37.000000000,2018-10-06 15:21:02.000000000,2018-10-06 15:21:01.000000000,2,15,0,604726,c67c34554173f626de66ea3b5f46f244bbb89807,23,6,4,3,13039,Martin André,mandre,"Consolidate openshift-ansible global variables

Merge openshift/global_defaults.yml into openshift/global_vars.yml file
since they serve the exact same purpose.

Also remove duplicated variables that were set in inventory file for
glusterfs nodes.

Change-Id: Ic0fb84fb7c711d4706b75885e69cbd052cd56f42
"
openstack%2Ftripleo-heat-templates~master~I6810709263e3cda56fa3aa70797bcc5ca1b28671,openstack/tripleo-heat-templates,master,tripleo-openshift,I6810709263e3cda56fa3aa70797bcc5ca1b28671,Make glusterfs the default sc when deploying with CNS,MERGED,2018-09-24 10:15:37.000000000,2018-10-06 15:19:15.000000000,2018-10-06 15:19:15.000000000,1,0,0,604725,d90bb11ea4aa346fc2fa9861490253636e90ff54,22,5,4,1,13039,Martin André,mandre,"Make glusterfs the default sc when deploying with CNS

GlusterFS is the recommended storage solution for OpenShift. Mark the
deployed GlusterFS cluster as the default storage class when deploying
with CNS.

This is possible to change it back to not being the default storage
class by setting 'openshift_storage_glusterfs_storageclass_default:
false' in the OpenShiftGlusterNodeVars heat parameter.

Change-Id: I6810709263e3cda56fa3aa70797bcc5ca1b28671
"
openstack%2Ftripleo-heat-templates~master~I43052662e913a02945f22e9f541a45ce2d9d828c,openstack/tripleo-heat-templates,master,tripleo-openshift,I43052662e913a02945f22e9f541a45ce2d9d828c,Introduce OpenShiftGlusterNodeVars heat param,MERGED,2018-09-24 10:15:37.000000000,2018-10-06 15:19:14.000000000,2018-10-06 15:19:14.000000000,52,46,3,604724,bd5dddb58d13250c35d1c8091a773da7a8c349a0,25,5,4,3,13039,Martin André,mandre,"Introduce OpenShiftGlusterNodeVars heat param

Removes conflict on OpenShiftGlobalVariables param that was overwritten
by the openshift-cns.yaml environment file. The default options for CNS
as now moved into the extraconfig/services/openshift-cns.yaml template
and can be overwritten by setting the OpenShiftGlusterNodeVars heat
parameter.

Change-Id: I43052662e913a02945f22e9f541a45ce2d9d828c
"
openstack%2Ftripleo-heat-templates~master~I794558bd6048e68e03540c10191f44aaa9fdb707,openstack/tripleo-heat-templates,master,tripleo-openshift,I794558bd6048e68e03540c10191f44aaa9fdb707,Fix inventory files for newer openshift-ansible,MERGED,2018-09-19 07:10:31.000000000,2018-10-06 15:02:30.000000000,2018-10-06 15:02:30.000000000,0,1,0,603577,a04ceaa407ac1caeddef30b6a9df803a4222056b,33,6,6,1,13039,Martin André,mandre,"Fix inventory files for newer openshift-ansible

The openshift_hostname variable added to the nodes was causing the
openshift-ansible to check for pods with names that didn't match the
real name of the pods, i.e. names composed of IP addresses vs
hostnames.

Change-Id: I794558bd6048e68e03540c10191f44aaa9fdb707
"
openstack%2Fcinder~stable%2Frocky~Iaf8a3f0bed5af053d5ea7796d84d5d77f1608458,openstack/cinder,stable/rocky,bug/1788458,Iaf8a3f0bed5af053d5ea7796d84d5d77f1608458,NetApp SolidFire: Fix force_detach,MERGED,2018-10-03 14:35:35.000000000,2018-10-06 14:08:01.000000000,2018-10-04 22:49:46.000000000,69,16,1,607595,bfcd4b2f1be3ab37ae0801dd523ce952577cda14,21,17,1,3,24407,Miriam Yumi Peixoto,miriamyumi,"NetApp SolidFire: Fix force_detach

Fixes force_detach for SolidFire driver.

Change-Id: Iaf8a3f0bed5af053d5ea7796d84d5d77f1608458
Closes-Bug: #1788458
(cherry picked from commit 62bdcbf7ab5d0e55d4c7bf011f6dd2a08a03c4ed)
"
openstack%2Ftripleo-common~master~Ic9076a0a1a8e1360495dcf0eb766118ec63dc362,openstack/tripleo-common,master,module-load-role,Ic9076a0a1a8e1360495dcf0eb766118ec63dc362,Load and persist modules from the host.,MERGED,2018-10-02 08:57:52.000000000,2018-10-06 12:52:54.000000000,2018-10-06 12:52:54.000000000,64,0,0,607130,72dbb3cb6b4404a73db15ee189a0b42df2758489,29,8,2,4,28223,Cedric Jeanneret,cjeanner,"Load and persist modules from the host.

This reusable ansible role will be used in tripleo-heat-templates
in order to load known kernel modules such as ip_vs, iscsi and some
other that are for now loaded from within the containers.

Change-Id: Ic9076a0a1a8e1360495dcf0eb766118ec63dc362
"
openstack%2Ftripleo-heat-templates~master~Iee088e1279bff2cdb7a3601288804f626bff29a3,openstack/tripleo-heat-templates,master,tripleo-openshift,Iee088e1279bff2cdb7a3601288804f626bff29a3,Configure haproxy for openshift infra,MERGED,2018-09-10 10:18:13.000000000,2018-10-06 12:46:01.000000000,2018-10-06 12:46:01.000000000,380,3,2,601241,b2bcc10d5a3df5732fb872e5958fcfba24b181de,65,6,16,17,13039,Martin André,mandre,"Configure haproxy for openshift infra

Openshift Routers are located on the infra node and need to be highly
available on ports 80 and 443.

Depends-On: I5de14152904d06c49e9d5b2df6e3f09a35f23d92
Change-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3
"
openstack%2Ftripleo-common~master~I37825806a170166e009d6cb6a39777e2ccb76e09,openstack/tripleo-common,master,update-zuul,I37825806a170166e009d6cb6a39777e2ccb76e09,Use templates for cover,MERGED,2018-09-22 16:03:23.000000000,2018-10-06 11:55:58.000000000,2018-10-06 11:55:58.000000000,5,7,0,604551,d0f903e06915e900f1c4e0f6acfcfcfce414d082,27,5,1,1,6547,Andreas Jaeger,jaegerandi,"Use templates for cover

Small cleanups:

* Use openstack-tox-cover template, this runs the cover job
  in the check queue only. Remove individual cover jobs.
* Sort list of templates

Change-Id: I37825806a170166e009d6cb6a39777e2ccb76e09
"
openstack%2Fnetworking-ovn~stable%2Fpike~Ib399efc0654373a9be7fad351961c10b1b426bec,openstack/networking-ovn,stable/pike,python3-first,Ib399efc0654373a9be7fad351961c10b1b426bec,import zuul job settings from project-config,MERGED,2018-08-30 00:07:53.000000000,2018-10-06 10:24:38.000000000,2018-10-06 10:24:38.000000000,10,0,1,597924,f37d0337591276f639401697e79c798b8122b127,23,7,3,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ib399efc0654373a9be7fad351961c10b1b426bec
Story: #2002586
Task: #24314
"
openstack%2Fpuppet-cinder~master~Ic97f672a83a9e5d895be5e69c015c9bd8494e602,openstack/puppet-cinder,master,,Ic97f672a83a9e5d895be5e69c015c9bd8494e602,Add report_discard_supported config option,ABANDONED,2018-09-11 14:41:02.000000000,2018-10-06 09:05:57.000000000,,11,0,0,601611,a7ab45561a5c22d9f298733c7faba38b1900df56,8,4,1,2,16137,Tobias Urdin,tobasco,"Add report_discard_supported config option

Adds the config option report_discard_supported
to the cinder::backend::rbd backend.

See documentation about this config option here [1].
There is no spec tests for this backend so I've not
added any, might write something in the future.

[1] https://docs.openstack.org/mitaka/config-reference/block-storage/block-storage-sample-configuration-files.html

Change-Id: Ic97f672a83a9e5d895be5e69c015c9bd8494e602
"
openstack%2Ftraining-guides~master~Ib34eeb2dbec96789fab69962f08dcd16b7bd9b23,openstack/training-guides,master,zanata/translations,Ib34eeb2dbec96789fab69962f08dcd16b7bd9b23,Imported Translations from Zanata,MERGED,2018-10-06 06:08:29.000000000,2018-10-06 07:46:31.000000000,2018-10-06 07:46:31.000000000,17,132,0,608399,662e5d05ba5cf319f160a24d51f4267d12e694cd,6,2,1,6,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib34eeb2dbec96789fab69962f08dcd16b7bd9b23
"
openstack%2Fmonasca-notification~master~If1023b4c2d19b21feb4de05424af203f89507468,openstack/monasca-notification,master,new_docker_image,If1023b4c2d19b21feb4de05424af203f89507468,Add tooling for building Docker image,MERGED,2018-07-25 11:11:58.000000000,2018-10-06 07:01:32.000000000,2018-10-06 07:01:32.000000000,545,0,10,585712,392b325a73693c3d6b1efe6b3bced0ca0ca3570b,28,6,9,6,16253,Christian Brandstetter,christianB,"Add tooling for building Docker image

Change-Id: If1023b4c2d19b21feb4de05424af203f89507468
Story: 2001694
Task: 23181
"
openstack%2Fmonasca-specs~master~I59f3effcdba39199d61d70a201d8e760840d3627,openstack/monasca-specs,master,601268,I59f3effcdba39199d61d70a201d8e760840d3627,Upgrade Apache Kafka client,MERGED,2018-09-10 13:06:04.000000000,2018-10-06 06:56:31.000000000,2018-10-06 06:56:31.000000000,223,0,0,601268,a4674a5e7f606898d568c5391a56d28f2350b447,15,6,4,6,16222,witek,witek,"Upgrade Apache Kafka client

Currently in all Python Monasca components the copy of `kafka-python`
library in version 0.9.5 (released on Feb 16, 2016) is used. This
specification describes the process of upgrading the Apache Kafka client
to `confluent-kafka-python`. This will improve the performance and
reliability. Sticking with the old frozen client version is also
unacceptable in terms of security.

Change-Id: I59f3effcdba39199d61d70a201d8e760840d3627
Story: 2003705
Task: 26360
"
openstack%2Fopenstack-helm-infra~master~Ica30950a8200f5755897b51fd2b4d24c69a10e61,openstack/openstack-helm-infra,master,k8s/version,Ica30950a8200f5755897b51fd2b4d24c69a10e61,Gate: Move to K8s 1.10.8,MERGED,2018-10-05 12:45:03.000000000,2018-10-06 06:30:08.000000000,2018-10-06 06:30:08.000000000,2,2,0,608255,19376ee9e625a714473adce932f2b2ea21cfb391,9,3,1,2,23928,Pete Birley,portdirect,"Gate: Move to K8s 1.10.8

This PS moves to use k8s 1.10.8, which includes a couple of fixes
for PVC mounts.

* https://github.com/kubernetes/kubernetes/pull/66863

Change-Id: Ica30950a8200f5755897b51fd2b4d24c69a10e61
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fopenstack-helm-infra~master~Ied444c2f2e755a8e2f82e6ac498236a68fa6fda1,openstack/openstack-helm-infra,master,cheetah-blood,Ied444c2f2e755a8e2f82e6ac498236a68fa6fda1,[DNM] impatient,ABANDONED,2018-10-03 15:13:09.000000000,2018-10-06 05:50:55.000000000,,0,66,0,607612,ee68f196302e5146e74f2880f84d596d237667e6,22,2,5,11,8898,Chris Wedgwood,anticw,"[DNM] impatient

Change-Id: Ied444c2f2e755a8e2f82e6ac498236a68fa6fda1
"
openstack%2Fopenstack-helm-infra~master~I2ced79bfdfb8dd17f966fdf985e06b2f835cfa13,openstack/openstack-helm-infra,master,python3-first,I2ced79bfdfb8dd17f966fdf985e06b2f835cfa13,fix tox python3 overrides,MERGED,2018-09-29 23:52:25.000000000,2018-10-06 05:16:18.000000000,2018-10-06 05:16:18.000000000,2,0,0,606688,e3641940dc545b7f6f62337ff763a98fa8c0ade4,20,4,3,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I2ced79bfdfb8dd17f966fdf985e06b2f835cfa13
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fpython-karborclient~master~I0cdc7bdfa4a8c36d57a2c0f5391a7e8c53925fed,openstack/python-karborclient,master,remove_pypi_downloads,I0cdc7bdfa4a8c36d57a2c0f5391a7e8c53925fed,Remove PyPI downloads,MERGED,2018-06-07 14:43:55.000000000,2018-10-06 05:08:00.000000000,2018-10-06 05:08:00.000000000,0,4,0,573267,db689c650fb8bad7eddaa6595024b16c65896b93,10,4,2,1,25562,Chen,chenn2,"Remove PyPI downloads

According to official site,
https://packaging.python.org/guides/analyzing-pypi-package-downloads/
PyPI package download statistics is no longer maintained and thus
should be removed.

Change-Id: I0cdc7bdfa4a8c36d57a2c0f5391a7e8c53925fed
"
openstack%2Fmurano-dashboard~master~Ic056a9b0fa7749ea55392993f26a5e9120463404,openstack/murano-dashboard,master,,Ic056a9b0fa7749ea55392993f26a5e9120463404,TEST,ABANDONED,2018-10-06 02:34:52.000000000,2018-10-06 04:27:34.000000000,,1,0,0,608392,7f7af01b64926aebd551c8c76ac2ee0db5222e76,3,1,1,1,14107,zhurong,zhurong,"TEST

Change-Id: Ic056a9b0fa7749ea55392993f26a5e9120463404
"
openstack%2Fopenstack-helm~master~Ie3b1d7a7528cb7b09af25e9d46831853bb650c97,openstack/openstack-helm,master,,Ie3b1d7a7528cb7b09af25e9d46831853bb650c97,Switch to the latest Configuration Guide,MERGED,2018-09-15 19:18:41.000000000,2018-10-06 04:17:00.000000000,2018-10-06 04:16:59.000000000,1,1,0,602882,ef3165076c87c703c10b564e570452ad91923183,15,6,2,1,17765,Frank Kloeker,eumel8,"Switch to the latest Configuration Guide

Depends-On: https://review.openstack.org/#/c/602883/

Change-Id: Ie3b1d7a7528cb7b09af25e9d46831853bb650c97
"
openstack%2Fmurano-dashboard~master~I62dae5d1218f2308a449ce58f7e93832195699e3,openstack/murano-dashboard,master,zanata/translations,I62dae5d1218f2308a449ce58f7e93832195699e3,Imported Translations from Zanata,MERGED,2018-09-29 03:37:03.000000000,2018-10-06 02:49:35.000000000,2018-10-06 02:49:35.000000000,6,3,0,606243,25dae5edf855085f91bd4d5355d948c6f23e8fd0,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I62dae5d1218f2308a449ce58f7e93832195699e3
"
openstack%2Fyaql~master~I21480026e566b3a312d34f7e446c6ef29593feff,openstack/yaql,master,,I21480026e566b3a312d34f7e446c6ef29593feff,fix tox python3 overrides,MERGED,2018-06-09 17:17:13.000000000,2018-10-06 02:48:46.000000000,2018-10-06 02:48:46.000000000,5,0,0,574036,fe4cdefd6f7fe651691610547e5a4d7eb057c8cc,7,3,1,1,26297,pippo,huang.zhiping,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I21480026e566b3a312d34f7e446c6ef29593feff
"
openstack%2Fsolum-specs~master~Ibd4c522c499dc740f69fd65fb25b589525e099d0,openstack/solum-specs,master,python3-first,Ibd4c522c499dc740f69fd65fb25b589525e099d0,fix tox python3 overrides,MERGED,2018-09-29 23:53:51.000000000,2018-10-06 02:28:10.000000000,2018-10-06 02:28:10.000000000,2,0,0,606721,78dc891556693401a53de5cfd6997c6ef4bcaf32,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ibd4c522c499dc740f69fd65fb25b589525e099d0
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fmurano-specs~master~Id58d48b4d42bd4bef006d866942bd01b945dca71,openstack/murano-specs,master,python3-first,Id58d48b4d42bd4bef006d866942bd01b945dca71,fix tox python3 overrides,MERGED,2018-09-29 23:51:27.000000000,2018-10-06 02:26:21.000000000,2018-10-06 02:26:21.000000000,2,0,0,606669,8eda2a0047a9a4fbe6f1a8055a92f873f69bc662,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Id58d48b4d42bd4bef006d866942bd01b945dca71
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fmurano-apps~master~Ibb9d71afe0b9d23b5080af89f64a3acba73b4dcc,openstack/murano-apps,master,python3-first,Ibb9d71afe0b9d23b5080af89f64a3acba73b4dcc,fix tox python3 overrides,MERGED,2018-09-29 23:51:24.000000000,2018-10-06 02:22:43.000000000,2018-10-06 02:22:43.000000000,2,0,0,606668,f9e43a6c2a03fb1cb4dbbc3e304589d7ae4d18e1,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ibb9d71afe0b9d23b5080af89f64a3acba73b4dcc
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Ftripleo-heat-templates~master~Ied81ed342dbeb026225b01aeed66aca7411b3555,openstack/tripleo-heat-templates,master,fix_tenant_routes,Ied81ed342dbeb026225b01aeed66aca7411b3555,Fix error in Tenant network routes definition,MERGED,2018-09-24 13:42:15.000000000,2018-10-06 02:10:20.000000000,2018-10-06 02:04:11.000000000,1,1,0,604784,00652b65960b34ae101a0e4152dec1dd40093d1d,29,8,2,1,18575,Saravanan KR,saravanankr,"Fix error in Tenant network routes definition

Deploying with network_data_routed.yaml is throwing
'Unknown Property ip_netmask' for the Tenant network routes.
Fix the network_data_routed.yaml definition to use the
right keys for the route definition.

Change-Id: Ied81ed342dbeb026225b01aeed66aca7411b3555
"
openstack%2Ftripleo-quickstart-extras~master~I00e2f9b7755b7e32b7ed20b482d851aacb17464e,openstack/tripleo-quickstart-extras,master,podman/collect-logs,I00e2f9b7755b7e32b7ed20b482d851aacb17464e,Add podman support for log collection,MERGED,2018-09-25 14:24:08.000000000,2018-10-06 01:58:51.000000000,2018-10-06 01:58:51.000000000,49,30,0,605090,47914f502de34d48baf547c9f43121208d8f9862,91,8,11,1,28223,Cedric Jeanneret,cjeanner,"Add podman support for log collection

We want to ensure we get all the logs we want, from both docker
and podman engines, even if we get some mixed environment for
some reason.

Change-Id: I00e2f9b7755b7e32b7ed20b482d851aacb17464e
"
openstack%2Ftripleo-heat-templates~master~I32993c6dfbd561c16ef1fdce508bf899aff1d940,openstack/tripleo-heat-templates,master,bug/1796188,I32993c6dfbd561c16ef1fdce508bf899aff1d940,Ensure ceph-ansible source directory is present,MERGED,2018-10-04 21:15:01.000000000,2018-10-06 01:34:25.000000000,2018-10-06 01:34:25.000000000,5,0,1,608086,977de9821b8e3f725bb070795a51550d444a2b42,20,6,2,1,18002,John Fulton,fultonj,"Ensure ceph-ansible source directory is present

Docker doesn't complain when a directory doesn't exist
in a bind mount, while Podman does complain. Ensure the
directory is present in the mistral-executor container
host prep tasks.

Change-Id: I32993c6dfbd561c16ef1fdce508bf899aff1d940
Fixes-Bug: #1796188
"
openstack%2Fcinder~stable%2Fqueens~I8bb312a4311205c78b0ca50e3abf366a9974949f,openstack/cinder,stable/queens,bug/1790907,I8bb312a4311205c78b0ca50e3abf366a9974949f,nimble storage: retype support,MERGED,2018-10-02 17:39:39.000000000,2018-10-06 01:33:01.000000000,2018-10-03 20:57:56.000000000,249,41,1,607331,ecb06ef6fc8403140639a2c1b0fac49bf2c7480d,35,24,3,3,16668,Raunak Kumar,rkumar,"nimble storage: retype support

retype support between 2 nimble backends with and
without migration
- update the provider location for fetching the
correct discovery ip for volume discovery
- prevent failures on snap deletetion / offline
  as they could already be in those states

Closes-Bug: #1790907
Signed-off-by: Raunak Kumar <rkumar@nimblestorage.com>
(cherry picked from commit fb17168c26dc5cc8f14d7f7395d55f7231ad5321)

Change-Id: I8bb312a4311205c78b0ca50e3abf366a9974949f
Signed-off-by: Raunak Kumar <rkumar@nimblestorage.com>
"
openstack%2Fnetworking-bagpipe~stable%2Focata~I95ce65b27e278c0e9910eada2872bcfb7e807c9c,openstack/networking-bagpipe,stable/ocata,python3-first,I95ce65b27e278c0e9910eada2872bcfb7e807c9c,import zuul job settings from project-config,MERGED,2018-08-30 00:06:50.000000000,2018-10-06 01:09:36.000000000,2018-10-06 01:09:36.000000000,99,0,0,597908,f3db339b961f6ce7d1fb5afe81bc213f9053fbf3,15,6,2,2,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Fix tools/tox_install.sh to work with current OpenStack CI docs job.

Change-Id: I95ce65b27e278c0e9910eada2872bcfb7e807c9c
Story: #2002586
Task: #24314
"
openstack%2Fopenstack-helm-infra~master~I5097d8893b92d020f7a5a1cb5925dec0b01d4da2,openstack/openstack-helm-infra,master,,I5097d8893b92d020f7a5a1cb5925dec0b01d4da2,Libvirt: Fix image,MERGED,2018-10-05 20:42:03.000000000,2018-10-06 00:58:41.000000000,2018-10-06 00:58:41.000000000,10,12,0,608355,f8880d27add6d1a7d1cf8f3b6566f742cdaa4690,9,4,1,4,23928,Pete Birley,portdirect,"Libvirt: Fix image

This PS fixes the libvirt image, buy removing the ubuntu-cloud
archive repo and pinning to a good version.

Change-Id: I5097d8893b92d020f7a5a1cb5925dec0b01d4da2
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fironic~master~I6e18c6ec23a053b59c76fcadd52b13d84d81b4fb,openstack/ironic,master,bug/1792872,I6e18c6ec23a053b59c76fcadd52b13d84d81b4fb,Fixes a race condition in the hash ring code,MERGED,2018-10-04 11:00:48.000000000,2018-10-06 00:31:32.000000000,2018-10-06 00:31:32.000000000,89,32,11,607904,5471157e4fdb5a735a29d88f5ad3af0d4b765ea3,47,15,3,6,10239,Dmitry Tantsur,dtantsur,"Fixes a race condition in the hash ring code

The current hash ring code suffers from several problems:

1. The cache is reset on any get_topic_for call, which means that the
   cache is not used between API calls. Previously it was done to work
   around the situation when a new conductor is not visible until the API
   process restarts. Currently we refresh the hash rings periodically.

   This patch removes resetting the cache. To avoid waiting 2 minutes to
   be able to use a new driver:
   1) the hash ring cache is always rebuilt when a ring is not found,
   2) the hash_ring_reset_interval option was changed to 15 seconds.

2. The reset of the cache races with the hot path in the get_ring call.
   It is possible that the reset happens after the class-level cache
   variable is checked but before it is used, yielding None.

   This patch stores the value of the class-level variable to a local
   variable before checking, thus ensuring None is never returned.

Finally, some logging was added to the modified code to make this kind
of problems more debugable in the future.

Change-Id: I6e18c6ec23a053b59c76fcadd52b13d84d81b4fb
Story: #2003966
Task: #26896
Partial-Bug: #1792872
"
openstack%2Ftripleo-heat-templates~master~I6cc562cfb9617348f8f9128e700af481481be232,openstack/tripleo-heat-templates,master,bug/1793833,I6cc562cfb9617348f8f9128e700af481481be232,Remove parameter reference to non-exisingt parameter,MERGED,2018-09-21 22:17:36.000000000,2018-10-06 00:27:49.000000000,2018-10-05 01:37:25.000000000,0,1,0,604490,e68da67c0dc829eda2b2be1ac6ed4b7578fcb507,13,9,1,1,24245,Harald Jensås,harald.jensas,"Remove parameter reference to non-exisingt parameter

The ControlPlaneRoutes parameter referenced in
network/config/bond-with-vlans/role.role.j2.yaml does
not exist.

Closes-Bug: #1793833
Change-Id: I6cc562cfb9617348f8f9128e700af481481be232
"
openstack%2Fos-net-config~master~I808cdd9c352f3e0dd0b75b8b8b738b97d82da7c1,openstack/os-net-config,master,bug/1792992,I808cdd9c352f3e0dd0b75b8b8b738b97d82da7c1,Allow list_of_routes to be [] in config,MERGED,2018-09-17 17:45:12.000000000,2018-10-06 00:27:14.000000000,2018-10-06 00:14:35.000000000,7,1,0,603192,acf646383ba1b5ecb982a0e57e093f841842c396,18,7,2,2,24245,Harald Jensås,harald.jensas,"Allow list_of_routes to be [] in config

This changes the schema validation to allow an empty
list of routes to be specified in the configuration.

Closes-Bug: #1792992
Change-Id: I808cdd9c352f3e0dd0b75b8b8b738b97d82da7c1
"
openstack%2Fopenstack-helm~master~I64e9c703ef41e2ea5f9607684dbfdddbcf7a4f65,openstack/openstack-helm,master,,I64e9c703ef41e2ea5f9607684dbfdddbcf7a4f65,WIP Ceph chart cleanup,ABANDONED,2018-08-23 05:29:06.000000000,2018-10-06 00:19:36.000000000,,0,8,3,595483,2433b9e533be2f91052fe462773cd015202670b9,5,3,1,2,24165,Renis Makadia,renmak,"WIP Ceph chart cleanup

- Remove unused blocks of code/overrides

Change-Id: I64e9c703ef41e2ea5f9607684dbfdddbcf7a4f65
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I7be814c269091bd6ceb45f066356acbb856d0f55,openstack/tripleo-heat-templates,stable/rocky,ironic-network-stable/rocky,I7be814c269091bd6ceb45f066356acbb856d0f55,Add networks to IronicConductor role.,MERGED,2018-10-02 08:04:50.000000000,2018-10-06 00:14:33.000000000,2018-10-06 00:14:32.000000000,2,0,0,607120,60f2bf933ec8da94969c7604e71af596cefc0e5f,16,6,1,1,10239,Dmitry Tantsur,dtantsur,"Add networks to IronicConductor role.

The IronicConductor.yaml file was missing networks.

Change-Id: I7be814c269091bd6ceb45f066356acbb856d0f55
(cherry picked from commit 366cd639a6cdeac8b0800ead2f9011a4d27b4f61)
"
openstack%2Ftripleo-ui~master~I7a6ebd93b8a2d83650e7e3e6b9f9164972f6e5a8,openstack/tripleo-ui,master,stein,I7a6ebd93b8a2d83650e7e3e6b9f9164972f6e5a8,Prepare the first tag for Stein 10.0.0,MERGED,2018-10-05 14:48:01.000000000,2018-10-06 00:14:31.000000000,2018-10-06 00:14:31.000000000,2,2,0,608281,f672e31b56e5f82cff52d7afd053f4e635c17abe,8,5,1,2,3153,Emilien Macchi,emilienm,"Prepare the first tag for Stein 10.0.0

Change-Id: I7a6ebd93b8a2d83650e7e3e6b9f9164972f6e5a8
"
openstack%2Fpuppet-tripleo~master~I1bf4724267ec1f446a385316298a71455e547726,openstack/puppet-tripleo,master,stein,I1bf4724267ec1f446a385316298a71455e547726,First tag for Stein 10.0.0,MERGED,2018-10-05 14:17:27.000000000,2018-10-06 00:14:30.000000000,2018-10-06 00:14:30.000000000,1,1,0,608276,91262ec31c951be3e6e021d4887c94082c847e29,8,4,1,1,3153,Emilien Macchi,emilienm,"First tag for Stein 10.0.0

Change-Id: I1bf4724267ec1f446a385316298a71455e547726
"
openstack%2Ftripleo-common~stable%2Frocky~I60928f032c7ee5eb7ff2c5daa2da38f2b324539b,openstack/tripleo-common,stable/rocky,bug/1715374-stable/rocky,I60928f032c7ee5eb7ff2c5daa2da38f2b324539b,"Revert ""Add container runtime packages for cron image""",MERGED,2018-10-03 09:46:29.000000000,2018-10-06 00:14:29.000000000,2018-10-06 00:14:29.000000000,0,4,0,607514,8a0474e66391cc6ed732e63a0379570c8b752c71,10,6,1,1,6926,Bogdan Dobrelya,bogdando,"Revert ""Add container runtime packages for cron image""

not needed any more as we fallback to copytruncate

This reverts commit fc31a1c649cca06d0340a15a55339757ff002775.

Change-Id: I60928f032c7ee5eb7ff2c5daa2da38f2b324539b
"
openstack%2Fswift~master~Ia7fad7ddd7cf95c8a0168dd6c899c80ddfdd3521,openstack/swift,master,581905,Ia7fad7ddd7cf95c8a0168dd6c899c80ddfdd3521,Move base64-decoding/unpickling into DatabaseBroker,MERGED,2018-10-05 22:00:28.000000000,2018-10-05 23:56:02.000000000,2018-10-05 23:56:02.000000000,20,20,0,608369,4ca605c51e44e817ad73e9e7c229d5738b44dd9f,7,2,2,4,15343,Tim Burke,tburke,"Move base64-decoding/unpickling into DatabaseBroker

...which was the one responsible for pickling and encoding the data in
the first place.

Change-Id: Ia7fad7ddd7cf95c8a0168dd6c899c80ddfdd3521
"
openstack%2Fswift~master~I32cff110f0771d6d92a881ef52e482aa17d8dbe4,openstack/swift,master,581905,I32cff110f0771d6d92a881ef52e482aa17d8dbe4,DB follow-up,MERGED,2018-10-05 21:43:17.000000000,2018-10-05 23:56:00.000000000,2018-10-05 23:56:00.000000000,4,6,0,608367,6e7ca26169bcf6f2b51bddddb921b10c252e29d9,6,2,1,2,15343,Tim Burke,tburke,"DB follow-up

Change-Id: I32cff110f0771d6d92a881ef52e482aa17d8dbe4
Related-Change: I0dab4ff013f300396cff7313bc27b9d5644fe8a7
"
openstack%2Fswift~master~I0dab4ff013f300396cff7313bc27b9d5644fe8a7,openstack/swift,master,,I0dab4ff013f300396cff7313bc27b9d5644fe8a7,py3: Adapt db.py,MERGED,2018-07-11 22:59:09.000000000,2018-10-05 23:55:59.000000000,2018-10-05 23:55:58.000000000,49,29,8,581905,e3a5b63cc7ebc281bbde248f7ef86f968aa9d277,22,3,5,3,597,Pete Zaitcev,zaitcev,"py3: Adapt db.py

Change-Id: I0dab4ff013f300396cff7313bc27b9d5644fe8a7
"
openstack%2Fneutron~master~I9530cd2433e0e34f05667d33bd6469b2592f8738,openstack/neutron,master,python3-first,I9530cd2433e0e34f05667d33bd6469b2592f8738,fix tox python3 overrides,MERGED,2018-09-29 23:51:51.000000000,2018-10-05 23:55:55.000000000,2018-10-05 23:55:55.000000000,2,2,1,606676,1307cb758782c62c044f4dd5f7330852c6b9b75e,57,11,8,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I9530cd2433e0e34f05667d33bd6469b2592f8738
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fneutron~master~I0af951f4346f9290c2eba6aad17f772fbf27bb2f,openstack/neutron,master,use-callback-payloads,I0af951f4346f9290c2eba6aad17f772fbf27bb2f,use payloads for AGENT BEFORE_DELETE callbacks,MERGED,2018-08-23 17:59:55.000000000,2018-10-05 23:55:52.000000000,2018-10-05 23:55:52.000000000,18,9,7,595850,6a24efcb705d37c945bd5afc407b80b2c756a62f,86,18,7,3,5367,boden,boden,"use payloads for AGENT BEFORE_DELETE callbacks

This patch switches BEFORE_DELETE callback events for AGENT resources
over to the payload style args use a DBEventPayload object. In addition,
the _delete_mac_associated_with_agent is now refactored into it's own
method to allow the context parameter to be parsed by
retry_if_session_inactive.

NeutronLibImpact

Change-Id: I0af951f4346f9290c2eba6aad17f772fbf27bb2f
"
openstack%2Fheat~master~I5ccfb1d947fb2a61af674b2da11f85fbafd473b8,openstack/heat,master,,I5ccfb1d947fb2a61af674b2da11f85fbafd473b8,Add a set of Placeholder classes,NEW,2018-09-29 01:11:23.000000000,2018-10-05 23:51:58.000000000,,322,0,0,606229,5a625420e9f8c8a94892693c56ef0d08f133a511,9,2,3,2,4257,Zane Bitter,zaneb,"Add a set of Placeholder classes

These classes will enable us to represent placeholder values for resource
IDs, resource attributes, and parameter values. These can be used to
provide more robust validation of templates at times where actual values
are not known.

Change-Id: I5ccfb1d947fb2a61af674b2da11f85fbafd473b8
Story: #2003915
Task: 26807
"
openstack%2Fheat~master~Ib2479594625e4732e179984572666be7577228c0,openstack/heat,master,,Ib2479594625e4732e179984572666be7577228c0,Return placeholder values from FnGetAtt() pre-flight,NEW,2018-09-29 01:11:23.000000000,2018-10-05 23:42:55.000000000,,63,5,0,606231,1c6ee009fbdbd9ea99b8d5e1630ea6a97bdc5726,11,2,4,3,4257,Zane Bitter,zaneb,"Return placeholder values from FnGetAtt() pre-flight

When doing pre-flight validation, return a placeholder value from FnGetAtt
instead of None, if the type of the attribute is known from the attribute
schema.

This should allow some errors to be detected earlier. If the types are
mismatched this can be detected before creating any of the resources.

It should also allow some valid templates to pass validation where they
previously would have been rejected (e.g. when passing attributes to YAQL
functions that are not expecting None as an input).

Change-Id: Ib2479594625e4732e179984572666be7577228c0
Story: #2003915
Task: 26806
"
openstack%2Ftripleo-validations~master~Ie6491d9fe09027fa4eb1b9223f950e99b6b7c4d1,openstack/tripleo-validations,master,ironic-container,Ie6491d9fe09027fa4eb1b9223f950e99b6b7c4d1,Use containerized location of ironic inspector.conf for validation,MERGED,2018-10-03 18:32:46.000000000,2018-10-05 23:38:33.000000000,2018-10-05 19:34:19.000000000,2,2,0,607684,a178605986557a32816196066950e42dda4fcac0,8,4,1,1,21909,Bob Fournier,bfournie,"Use containerized location of ironic inspector.conf for validation

This uses the containerized location of inspector.conf in the switch-vlans
validation, it is no longer available at /etc/ironic-inspector/inspector.conf.

Change-Id: Ie6491d9fe09027fa4eb1b9223f950e99b6b7c4d1
"
openstack%2Fheat~master~Iebd4d61f160c35ac61fa6465260749f18b07ca16,openstack/heat,master,,Iebd4d61f160c35ac61fa6465260749f18b07ca16,Annotate resource reference ID type constraints,NEW,2018-09-29 01:11:23.000000000,2018-10-05 23:35:58.000000000,,104,0,0,606233,6b2bdf5d0546045864ef6b9ca754344b74713ddd,9,2,4,52,4257,Zane Bitter,zaneb,"Annotate resource reference ID type constraints

This allows placeholder values to know the type of the string returned by
{get_resource: }, so that any mismatches can be detected early in
validation.

Change-Id: Iebd4d61f160c35ac61fa6465260749f18b07ca16
Story: #2003915
Task: 26808

"
openstack%2Fheat~master~Ia0e52aa336f504c8bb84cd37c26985eb842e79d4,openstack/heat,master,,Ia0e52aa336f504c8bb84cd37c26985eb842e79d4,Return placeholder values from FnGetRefId() pre-flight,NEW,2018-09-29 01:11:23.000000000,2018-10-05 23:35:57.000000000,,31,10,0,606232,ce4b0de2259037be9fdb26a73daa77e78729de36,7,1,4,8,4257,Zane Bitter,zaneb,"Return placeholder values from FnGetRefId() pre-flight

Instead of just returning a string when a refid value isn't known yet
(because the resource hasn't been created), return a Placeholder object
that can carry data about the meaning of the return value.

Change-Id: Ia0e52aa336f504c8bb84cd37c26985eb842e79d4
Story: #2003915
Task: 26803
"
openstack%2Fpbr~master~I89eb8c6d627790680a61a0a4b7490191b6e8e90c,openstack/pbr,master,bug/1762494,I89eb8c6d627790680a61a0a4b7490191b6e8e90c,Special case long_description_content_type,MERGED,2018-04-30 09:33:21.000000000,2018-10-05 23:32:06.000000000,2018-10-05 23:32:06.000000000,22,0,2,565177,77e75e25e383fb8319be7b46eca3d1d10136bc22,34,6,5,3,7118,Ian Wienand,iwienand,"Special case long_description_content_type

As described in the pypa pull request, special-case passing through
these fields into the metadata.  setuptools will maintain them.

Change-Id: I89eb8c6d627790680a61a0a4b7490191b6e8e90c
Closes-Bug: #1762494
"
openstack%2Foslo.i18n~master~I3edb3d275a078b3be30c9a6f339fab9321601ec8,openstack/oslo.i18n,master,update-zuul,I3edb3d275a078b3be30c9a6f339fab9321601ec8,Use templates for cover and lower-constraints,MERGED,2018-09-07 10:16:14.000000000,2018-10-05 23:24:33.000000000,2018-10-05 23:24:33.000000000,15,15,1,600695,0444336f6a7576fc903bf263df9186de6614db46,9,3,2,2,6547,Andreas Jaeger,jaegerandi,"Use templates for cover and lower-constraints

Use openstack-tox-cover template, this runs the cover job as
non-voting in the check queue only.

Use openstack-lower-constraints-jobs template

Remove jobs that are part of the templates.

Sort list of templates.

Fix cover invocation in tox.ini.

Change-Id: I3edb3d275a078b3be30c9a6f339fab9321601ec8
"
openstack%2Ftaskflow~master~Ie7971023eed04f6479c05c1d2a1dfd2a948b07e1,openstack/taskflow,master,update-zuul,Ie7971023eed04f6479c05c1d2a1dfd2a948b07e1,Use templates for cover and lower-constraints,MERGED,2018-09-07 10:42:43.000000000,2018-10-05 23:22:57.000000000,2018-10-05 23:22:57.000000000,7,14,0,600704,f34aea96083de22e46504c0becf89be097d93df6,7,3,1,1,6547,Andreas Jaeger,jaegerandi,"Use templates for cover and lower-constraints

Use openstack-tox-cover template, this runs the cover job
in the check queue only.

Use openstack-lower-constraints-jobs template

Remove jobs that are part of the templates.

Sort list of templates.

Change-Id: Ie7971023eed04f6479c05c1d2a1dfd2a948b07e1
"
openstack%2Foctavia~master~I916ccb7658d4849b3c208405ec40fc1a0eab4ba7,openstack/octavia,master,,I916ccb7658d4849b3c208405ec40fc1a0eab4ba7,HTTPS HMs need the same validation path as HTTP++,MERGED,2018-10-04 23:09:34.000000000,2018-10-05 23:20:16.000000000,2018-10-05 23:20:16.000000000,25,1,0,608099,2c88c553ae619f41e2989bd045a049a0889f55bf,7,3,1,2,10273,Adam Harwell,rm_you,"HTTPS HMs need the same validation path as HTTP++

Second take on this patch, didn't realize the Create and the Update
paths were different. Same exact change as the other patch, but in the
update validation method.

For reference: https://review.openstack.org/#/c/604924/

Change-Id: I916ccb7658d4849b3c208405ec40fc1a0eab4ba7
"
openstack%2Fos-brick~stable%2Frocky~If801dfc2462c0d3f986eebd4108087139934610d,openstack/os-brick,stable/rocky,bug/1794829,If801dfc2462c0d3f986eebd4108087139934610d,Succeed on iSCSI detach when path just went down,MERGED,2018-10-01 20:34:22.000000000,2018-10-05 22:50:55.000000000,2018-10-03 15:50:35.000000000,20,9,0,607041,b75411de2b2aadd1eafd2f8f8b1579df357bf09f,17,12,2,2,13953,Elise Gafford,egafford,"Succeed on iSCSI detach when path just went down

If the iSCSI connection to a device goes down right after we flush it,
or if one of the paths of a multipath device goes down right before we
start disconnecting, the detach will fail even though it should succeed.

We'll see a VolumePathNotRemoved exception listing volumes that had not
disappeared.

This happens because, under those circumstances, it may take up to 30
seconds for the SCSI device to be removed from /dev, but expect it to
disappear in 6 seconds (first check happens, immediately, then another
in 2 seconds, and another in 4 seconds).

Since the device will be removed if we wait a bit more, this patch makes
it so that we wait for up to 30 seconds for the removal.

To ensure we wait as little time as possible, we change the way we wait
for the devices to be removed.  Instead of checking, sleeping for 2 and
then for 4 seconds, and then checking again, we just sleep 500ms between
checks, and we do the DEBUG log every 5 seconds.

Change-Id: If801dfc2462c0d3f986eebd4108087139934610d
Closes-Bug: #1794829
(cherry-picked from b9c7bc2b597d944cbc404d6bf5fedc35d095a897)
"
openstack%2Foslo.messaging~master~I945a2aca60347dad672cc406cd33e80e93c588a7,openstack/oslo.messaging,master,,I945a2aca60347dad672cc406cd33e80e93c588a7,Fix oslo.messaging default transport,MERGED,2018-10-05 09:42:07.000000000,2018-10-05 22:48:55.000000000,2018-10-05 22:48:55.000000000,12,4,0,608196,172cfb33f3ee207531a9e82fbc8293d24009a256,19,8,3,2,2813,Mehdi Abaakouk,sileht,"Fix oslo.messaging default transport

Change d3f6ca0b47e2a5a3413b27617d9655f02b191c6a have broken
oslo.messaging defaults, no more transport are selected by default and
oslo.messaging just crash:

    Traceback (most recent call last):
      File ""/home/sileht/workspace/openstack/oslo.messaging/.tox/py27/lib/python2.7/site-packages/mock/mock.py"", line 1305, in patched
        return func(*args, **keywargs)
      File ""oslo_messaging/tests/test_transport.py"", line 111, in test_get_transport
        transport_ = oslo_messaging.get_transport(self.conf, **kwargs)
      File ""/home/sileht/workspace/openstack/oslo.messaging/.tox/py27/lib/python2.7/site-packages/debtcollector/removals.py"", line 242, in wrapper
        return f(*args, **kwargs)
      File ""oslo_messaging/transport.py"", line 247, in get_transport
        transport_cls=RPCTransport)
      File ""oslo_messaging/transport.py"", line 205, in _get_transport
        url.transport.split('+')[0],
    AttributeError: 'NoneType' object has no attribute 'split'

This change restores rabbit:// as default.

Change-Id: I945a2aca60347dad672cc406cd33e80e93c588a7
"
openstack%2Foctavia~stable%2Fqueens~I507974993b39c6ed333d1bb2c3dd6bc756be67a6,openstack/octavia,stable/queens,606142,I507974993b39c6ed333d1bb2c3dd6bc756be67a6,Add note to lower constraints for Jinja and pyOpenSSL,MERGED,2018-09-28 17:04:49.000000000,2018-10-05 22:47:41.000000000,2018-10-05 22:47:41.000000000,11,0,0,606142,e04ddb3740f114992ec8002cf71d584276555193,12,4,2,2,6469,Carlos Gonçalves,cgoncalves,"Add note to lower constraints for Jinja and pyOpenSSL

Change-Id: I507974993b39c6ed333d1bb2c3dd6bc756be67a6
"
openstack%2Fopenstack-ansible-os_nova~stable%2Frocky~I2f92d3e5cdfdfbb4a69b968d2e4d4d15389b7192,openstack/openstack-ansible-os_nova,stable/rocky,rocky-deploy,I2f92d3e5cdfdfbb4a69b968d2e4d4d15389b7192,Revert region name option to os_region_name for Cinder,MERGED,2018-08-26 06:27:58.000000000,2018-10-05 22:25:11.000000000,2018-10-05 22:25:11.000000000,1,1,0,596577,bd718fed1a9a7ac87bb74481cdb02015b19f8e46,32,6,3,1,1004,Mohammed Naser,mnaser,"Revert region name option to os_region_name for Cinder

The os_region_name option was changed to region_name for most
services inside Nova, however, it was not changed for Cinder as
that retains os_region_name.

Change-Id: I2f92d3e5cdfdfbb4a69b968d2e4d4d15389b7192
(cherry picked from commit 8057f777f5f1262eb1748f0ac2afbf3227ae8305)
"
openstack%2Fopenstacksdk~master~I005a6d9b195a6cceae855d1392a29f12d6782a55,openstack/openstacksdk,master,discovery,I005a6d9b195a6cceae855d1392a29f12d6782a55,Set endpoint_override from endpoint with noauth,MERGED,2018-09-21 16:30:59.000000000,2018-10-05 22:20:48.000000000,2018-10-05 22:20:48.000000000,25,0,1,604415,a70c29134ef0c426d4a28d41940ee661601dceec,31,4,10,2,2,Monty Taylor,mordred,"Set endpoint_override from endpoint with noauth

When noauth is used via the 'none' auth_type, the endpoint given
actually wants to get passed to keystoneauth as an endpoint_override for
that service, otherwise discovery from keystoneauth no worky.

Change-Id: I005a6d9b195a6cceae855d1392a29f12d6782a55
"
openstack%2Fopenstacksdk~master~I2005b05eeed4f84ee8fc8745c13f8d68a0da0ace,openstack/openstacksdk,master,discovery,I2005b05eeed4f84ee8fc8745c13f8d68a0da0ace,Remove profile,MERGED,2018-09-21 16:30:59.000000000,2018-10-05 22:20:47.000000000,2018-10-05 22:20:47.000000000,6,239,0,604414,a030d82e509f14e3bd2177b01f36115773712917,39,4,8,4,2,Monty Taylor,mordred,"Remove profile

profile has been deprecated for a couple of releases now and its use has
been removed from python-openstackclient and python-senlinclient. Remove
it in anticipation of a 1.0 release.

Change-Id: I2005b05eeed4f84ee8fc8745c13f8d68a0da0ace
"
openstack%2Fswift~master~Ib07050c386f86c60af3e689708090aea4337c766,openstack/swift,master,cleanup/clear,Ib07050c386f86c60af3e689708090aea4337c766,Micro cleanup by using dict.clear,ABANDONED,2018-10-05 21:43:17.000000000,2018-10-05 21:44:13.000000000,,1,2,0,608366,4bd12c1ed23d7d504900773f74d4b33100c74120,2,0,1,1,597,Pete Zaitcev,zaitcev,"Micro cleanup by using dict.clear

Change-Id: Ib07050c386f86c60af3e689708090aea4337c766
"
openstack%2Fnova~master~Iefff121640e04abdbb6a4ae546c447f168dc8af9,openstack/nova,master,bp/use-nested-allocation-candidates,Iefff121640e04abdbb6a4ae546c447f168dc8af9,Run ServerMovingTests with nested resources,MERGED,2018-09-20 13:17:52.000000000,2018-10-05 21:27:05.000000000,2018-10-05 21:27:05.000000000,128,0,50,604084,2202d7726bb41a2d3228297545327d5b41f35f7e,103,19,7,2,9708,Balazs Gibizer,gibi,"Run ServerMovingTests with nested resources

This patch duplicates the functional test from ServerMovingTest twice.
First to run them against compute nodes that have nested RP tree. Second
to actually request resources from those nested RPs.

Change-Id: Iefff121640e04abdbb6a4ae546c447f168dc8af9
Blueprint: use-nested-allocation-candidates
"
openstack%2Fcinder~driverfixes%2Fmitaka~If7e965993153216651be8ea8c111809875080929,openstack/cinder,driverfixes/mitaka,,If7e965993153216651be8ea8c111809875080929,Move zuul jobs in-tree,MERGED,2018-10-01 16:07:06.000000000,2018-10-05 20:52:21.000000000,2018-10-02 18:01:16.000000000,10,0,0,606991,04e91db296207dcdc8a050456f93213213fe3ed5,17,13,1,2,11904,Sean McGinnis,SeanM,"Move zuul jobs in-tree

Official branches now have their jobs defined in-tree. We need to define
our jobs locally so our limited checks are run for driverfixes patches.

Change-Id: If7e965993153216651be8ea8c111809875080929
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fcinder~driverfixes%2Fnewton~Ie831e3894a49150e2522e2d016bf20f9e64299d4,openstack/cinder,driverfixes/newton,,Ie831e3894a49150e2522e2d016bf20f9e64299d4,Move zuul jobs in-tree,MERGED,2018-10-01 16:04:50.000000000,2018-10-05 20:45:30.000000000,2018-10-02 18:01:14.000000000,10,0,0,606990,e230e17ff56a6196492926b1b591666ec61f778a,17,13,1,2,11904,Sean McGinnis,SeanM,"Move zuul jobs in-tree

Official branches now have their jobs defined in-tree. We need to define
our jobs locally so our limited checks are run for driverfixes patches.

Change-Id: Ie831e3894a49150e2522e2d016bf20f9e64299d4
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fopenstack-helm-infra~master~Id524415f4ed08ee5374f7fd3b53f6e36c3ab084e,openstack/openstack-helm-infra,master,,Id524415f4ed08ee5374f7fd3b53f6e36c3ab084e,Disable Ceph RADOS Gateway dynamic bucket resharding. Problem was discovered regarding issues being caused by RGW dynamic bucket resharding. It is at this time recommended to disable this feature.,MERGED,2018-10-01 16:37:58.000000000,2018-10-05 20:32:57.000000000,2018-10-05 20:32:57.000000000,3,0,0,607001,05391252f8a7279871267bb08196e67659f43892,20,7,4,1,29053,Jean-Charles Lopez,vcppds7878,"Disable Ceph RADOS Gateway dynamic bucket resharding.
Problem was discovered regarding issues being caused by RGW dynamic
bucket resharding. It is at this time recommended to disable this feature.

Change-Id: Id524415f4ed08ee5374f7fd3b53f6e36c3ab084e
"
openstack%2Fopenstack-helm-infra~master~I783a2acc03592471c81a8a54e1dc0df140b34a42,openstack/openstack-helm-infra,master,,I783a2acc03592471c81a8a54e1dc0df140b34a42,Adding Falco,MERGED,2018-08-30 18:20:57.000000000,2018-10-05 20:24:50.000000000,2018-10-05 20:24:50.000000000,1723,0,87,598297,a34a7d8e50288ff4851a4fad5cbf19a3492d45d4,101,9,13,12,24780,Sangeet Gupta,sgupta,"Adding Falco

This commit adds falco daemonset of the node for behavioral activity
monitor designed to detect anomalous activity.

Change-Id: I783a2acc03592471c81a8a54e1dc0df140b34a42
"
openstack%2Fneutron-tempest-plugin~master~If32d8414207cdb9dd8016e8bb1f8ff47164ca1e4,openstack/neutron-tempest-plugin,master,fix-nit-in-fip-tests,If32d8414207cdb9dd8016e8bb1f8ff47164ca1e4,Fix raising TimeoutException in tests,MERGED,2018-10-04 12:33:07.000000000,2018-10-05 19:59:45.000000000,2018-10-05 19:59:45.000000000,2,4,4,607948,168e50108a66f0453b38d373d1508ee8bcfafbaa,21,7,3,2,11975,Slawek Kaplonski,slaweq,"Fix raising TimeoutException in tests

TimeoutException was imported from neutron_tempest_plugin.exceptions
module but there is no such class there.
This exception is defined in tempest.lib.exceptions module and
this patch changes to use it from there properly.

TrivialFix

Change-Id: If32d8414207cdb9dd8016e8bb1f8ff47164ca1e4
"
openstack%2Fos-net-config~stable%2Fqueens~I8f879072799cef29c09ddc74bd71069dd168ec88,openstack/os-net-config,stable/queens,bug/1794182-stable/rocky-stable/queens,I8f879072799cef29c09ddc74bd71069dd168ec88,Restart ivs/nvfswitch after config file is updated,MERGED,2018-10-01 20:55:17.000000000,2018-10-05 19:34:20.000000000,2018-10-05 19:34:20.000000000,15,2,0,607051,cc235aa7cb2c0faa387f11c7a15b121c03fab244,17,5,1,2,21909,Bob Fournier,bfournie,"Restart ivs/nvfswitch after config file is updated

This change - https://review.openstack.org/#/c/561609/, removed the
restart of ivs/nvfswitch to avoid network interruptions. However,
when a change is made to the config file then ivs/nvfswitch must be
restarted in order to pick up the change.

Closes-Bug: #1794182
Change-Id: I8f879072799cef29c09ddc74bd71069dd168ec88
(cherry picked from commit 2495c9ddaa0e7bde9b93e62b02ac146791ff1f21)
(cherry picked from commit 0571a6baf535651e0cfdbf2fa3688ab15c3a71e9)
"
openstack%2Foslo-specs~master~Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9,openstack/oslo-specs,master,bp/protect-plaintext-passwords,Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9,config: Protecting Plaintext Secrets,MERGED,2017-06-14 17:43:33.000000000,2018-10-05 19:25:37.000000000,2018-10-05 19:25:37.000000000,156,0,82,474304,0d6fa3247968fd19a566827782bf01b0a567ce04,87,20,18,2,8866,Raildo Mascena de Sousa Filho,raildo,"config: Protecting Plaintext Secrets

Use a Secret Management Store to
protect plaintext values in the
OpenStack Services.

Change-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9
Implements: bp protect-plaintext-passwords
"
openstack%2Fpuppet-openstack-integration~master~I59e0f28f19363dc3ea00b8295efe5695f9420550,openstack/puppet-openstack-integration,master,openstack/puppet/constraints,I59e0f28f19363dc3ea00b8295efe5695f9420550,Updated from Puppet OpenStack modules constraints,MERGED,2018-09-14 06:07:24.000000000,2018-10-05 19:19:50.000000000,2018-10-05 19:19:49.000000000,7,7,0,602530,ef26d2fbfb537d7d9f06e76a4bed504688a1c43d,40,5,5,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from Puppet OpenStack modules constraints

Change-Id: I59e0f28f19363dc3ea00b8295efe5695f9420550
"
openstack%2Fironic-specs~master~I8fe11d7a9c66a3fb3f75de04cbb2583f886922c4,openstack/ironic-specs,master,,I8fe11d7a9c66a3fb3f75de04cbb2583f886922c4,Follow-up to Stein priorities,MERGED,2018-10-01 18:14:09.000000000,2018-10-05 19:04:04.000000000,2018-10-05 19:04:04.000000000,43,19,5,607016,d37539b26a620d8506bfcecb5686900ba1c0fbbd,14,5,3,1,11655,Julia Kreger,jkreger,"Follow-up to Stein priorities

Change-Id: I8fe11d7a9c66a3fb3f75de04cbb2583f886922c4
"
openstack%2Fapi-site~master~I4b03ee2dd201b486ba357cdcde3e0992e107754d,openstack/api-site,master,python3-first,I4b03ee2dd201b486ba357cdcde3e0992e107754d,Switch to python3 in tox.ini,MERGED,2018-09-30 09:24:23.000000000,2018-10-05 19:00:50.000000000,2018-10-05 19:00:50.000000000,2,1,0,606834,e222150abdec220dddd583ba90b787e64af8e839,7,3,1,1,6547,Andreas Jaeger,jaegerandi,"Switch to python3 in tox.ini

We build everything with python3 now, update tox.ini for this.

Change-Id: I4b03ee2dd201b486ba357cdcde3e0992e107754d
"
openstack%2Fpython-ironicclient~master~I91bc5cb0f3c69be5686e59fd8bb5b74d7d0ae6dc,openstack/python-ironicclient,master,readme,I91bc5cb0f3c69be5686e59fd8bb5b74d7d0ae6dc,Modify useful links to project resources in README,MERGED,2018-09-28 13:26:43.000000000,2018-10-05 18:59:14.000000000,2018-10-05 18:59:14.000000000,2,2,0,606072,8fb4f2824680c95bbf3b0035f78f651e5b0c04b5,9,3,1,1,14826,Mark Goddard,mgoddard,"Modify useful links to project resources in README

Follows on from discussion in Ibd62c7bfc5ff77a16690cfa98f7164906a49abad.

Change-Id: I91bc5cb0f3c69be5686e59fd8bb5b74d7d0ae6dc
"
openstack%2Fsecurity-doc~master~Id769398c5765e2cd37b8cfed4740fdf6631c558d,openstack/security-doc,master,python3-first,Id769398c5765e2cd37b8cfed4740fdf6631c558d,Remove duplicate setup.cfg options,MERGED,2018-09-30 09:08:33.000000000,2018-10-05 18:54:23.000000000,2018-10-05 18:54:23.000000000,0,2,0,606832,7a919df0928037a4142d212359292f4970536cb1,7,3,1,2,6547,Andreas Jaeger,jaegerandi,"Remove duplicate setup.cfg options

We cannot have duplicate classifiers here, the configparser complains
about these now.

Change-Id: Id769398c5765e2cd37b8cfed4740fdf6631c558d
"
openstack%2Fpython-keystoneclient~master~Ia1a0efa0591d0e37e22a8cac24b72af63604f087,openstack/python-keystoneclient,master,update-zuul,Ia1a0efa0591d0e37e22a8cac24b72af63604f087,Import legacy keystoneclient-dsvm-functional,MERGED,2018-09-24 18:22:34.000000000,2018-10-05 18:54:22.000000000,2018-10-05 12:12:01.000000000,139,1,3,604868,727bf035129d5a64aa57e630be86381ca8673864,11,4,1,3,6547,Andreas Jaeger,jaegerandi,"Import legacy keystoneclient-dsvm-functional

Import Zuul v2 legacy job so that it can be modified and
converted to v3 in-repo.

Change-Id: Ia1a0efa0591d0e37e22a8cac24b72af63604f087
"
openstack%2Fos-brick~master~I30723c5224cb9cc8d02a6099491aa2f4b1cbec46,openstack/os-brick,master,557036,I30723c5224cb9cc8d02a6099491aa2f4b1cbec46,Add LIO barbican tests to .zuul.yaml,MERGED,2018-03-27 20:19:16.000000000,2018-10-05 18:51:04.000000000,2018-10-02 16:04:14.000000000,8,0,0,557036,e506d8322080bb9a2796bd12707f83986fa5d955,69,23,7,2,4523,Eric Harney,eharney,"Add LIO barbican tests to .zuul.yaml

Load the LIO job from Cinder's repo where it
is defined.

Change-Id: I30723c5224cb9cc8d02a6099491aa2f4b1cbec46
"
openstack%2Fcinder~master~I8c6c50be45a1c923a8b7091d14cd5ae994d6e2cc,openstack/cinder,master,bp/volume-response-schema-validation,I8c6c50be45a1c923a8b7091d14cd5ae994d6e2cc,hosts api ref: all fields should be of type string,MERGED,2018-09-19 06:24:15.000000000,2018-10-05 18:50:40.000000000,2018-10-02 16:57:31.000000000,2,2,0,603565,a87f2b92d0b9b8b0a8ea585e3ef971bed8e4b648,65,37,2,1,20190,zhufl,zhufl,"hosts api ref: all fields should be of type string

I512bfc97a1c3d4a508daf580d99fefe2a9ae4e13 tries to add
schema validation for volume hosts, and there are some
inconsistencies in api ref doc.
https://developer.openstack.org/api-ref/block-storage/v3/index.html#show-host-details-for-a-project
as the Response Example shows, all fields should be of
type string, not integer.

Change-Id: I8c6c50be45a1c923a8b7091d14cd5ae994d6e2cc
"
openstack%2Fnova~master~I5b52ff81f74ae7cb11e6f012ab7e53cfc6821486,openstack/nova,master,bug/1796074,I5b52ff81f74ae7cb11e6f012ab7e53cfc6821486,De-dupe subnet IDs when calling neutron /subnets API,MERGED,2018-10-04 17:43:30.000000000,2018-10-05 18:46:48.000000000,2018-10-05 18:32:49.000000000,4,1,2,608040,ab5fc6870260d3b3c3bce90a7123c17816bf0093,24,14,2,2,4690,melanie witt,melwitt,"De-dupe subnet IDs when calling neutron /subnets API

In the _get_subnets_from_port method, we call the neutron /subnets API
to list subnets filtered by subnet IDs. We get the subnet IDs by
iterating all of the fixed IPs for the instance and sending the list of
corresponding subnet IDs. The python-neutronclient sends the list of
subnet IDs as a query string in the URI. When an instance has a large
number of interfaces attached, the list of subnet IDs can be too long
for the URI, resulting in a RequestURITooLong error from neutronclient.

This de-dupes the subnet IDs before calling neutron, to handle the case
where an instance has a large number of interfaces attached, but many
of them are on the same subnet.

Closes-Bug: #1796074

Change-Id: I5b52ff81f74ae7cb11e6f012ab7e53cfc6821486
"
openstack%2Fopenstack-ansible-os_tacker~master~I63d40c5239d2585e8bb7ac3b9338252c9e28c4c6,openstack/openstack-ansible-os_tacker,master,,I63d40c5239d2585e8bb7ac3b9338252c9e28c4c6,Tacker uses OpenStack Barbican for secret keys,MERGED,2018-09-27 15:30:45.000000000,2018-10-05 18:37:00.000000000,2018-10-05 18:37:00.000000000,3,0,10,605784,dc536599f80ba29255e744463c0e1e896fd8a206,25,20,4,2,27749,Panagiotis Karalis,pkaralis,"Tacker uses OpenStack Barbican for secret keys

Use the OpenStack Barbican component instead of OpenStack Keystone
as secret key handler.
The reason behind is the way that Tacker handles the secret keys of
complex scenarios (specially the scenarios with HA) and how they are
stored or retrieved between different VMs or Blades.

Change-Id: I63d40c5239d2585e8bb7ac3b9338252c9e28c4c6
Signed-off-by: Panagiotis Karalis <pkaralis@intracom-telecom.com>
"
openstack%2Fnova~master~Icd280d4daecabd1760080790e4aefc33dc2bece0,openstack/nova,master,choice-descriptions,Icd280d4daecabd1760080790e4aefc33dc2bece0,conf: Use new-style choice values,MERGED,2018-01-03 13:50:59.000000000,2018-10-05 18:32:55.000000000,2018-10-05 18:32:55.000000000,155,195,60,530924,a53a29ccf0bea32eeb5352c93280dece36e1ee28,127,24,7,9,15334,Stephen Finucane,sfinucan,"conf: Use new-style choice values

Support for value-description tuples for the 'choices' parameters was
recently added to oslo.config [1]. Start using this in nova.

[1] https://review.openstack.org/#/c/526012/

Change-Id: Icd280d4daecabd1760080790e4aefc33dc2bece0
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I9f45340cf6caf7811aa03a1b2aa16eec599d4faa,openstack/tripleo-heat-templates,stable/rocky,bug/1792527-stable/rocky,I9f45340cf6caf7811aa03a1b2aa16eec599d4faa,Don't fail ironic upgrade if xinetd isn't present,MERGED,2018-10-04 14:17:01.000000000,2018-10-05 18:19:29.000000000,2018-10-05 18:19:28.000000000,5,0,0,607966,8e5a4373708e714a60f200d1fea4f5b174fb8593,11,7,1,1,8042,Jiří Stránský,jistr,"Don't fail ironic upgrade if xinetd isn't present

When upgrading from Rocky to master in CI, we don't seem to have
xinetd present in the overcloud, and attempting to restart it fails
the upgrade. Check if it's running before trying to restart it.

Change-Id: I9f45340cf6caf7811aa03a1b2aa16eec599d4faa
Closes-Bug: #1792527
(cherry picked from commit 8e127bce07ce0579f7f4e6728410de38de5ecaf1)
"
openstack%2Fspecs-cookiecutter~master~Ic2279ec74622aa09969befba646018b3665613d5,openstack/specs-cookiecutter,master,gitignore-cleanup,Ic2279ec74622aa09969befba646018b3665613d5,Clean up .gitignore references to personal tools,NEW,2018-10-05 17:50:19.000000000,2018-10-05 17:51:54.000000000,,12,9,0,608329,051617fe071633c93325b0baa1666a4d174536ef,3,1,1,1,5263,Jeremy Stanley,fungi,"Clean up .gitignore references to personal tools

Developers run all sorts of different tools within Git repositories,
any of which can leave their own special trashfiles all over the
place. We can't every hope to catalog them all, so better to
recommend developers simply configure a global core.excludesfile to
filter the irrelevant files which tend to get created by their
personal choice of tools.

To this end, remove the long-standing sections for ""Mr Developer""
and ""Editors"" since their mere existence here sends the signal that
we welcome (and have time to review) additions for any old tool
someone ever might happen to try. Also add a comment block
explaining this, for clarity.

We can, and should of course, continue to list files created by the
tools recommended by our workflow (test frameworks called from tox,
documentation and packaging builds, et cetera).

This change is a port of Ib58a57267b064e4142686de6c37a70dbff04b9a7
from the openstack-dev/cookiecutter repository.

Change-Id: Ic2279ec74622aa09969befba646018b3665613d5
"
openstack%2Fansible-role-container-registry~master~If73e11531ff3a035ddb0664792c364a247b521b8,openstack/ansible-role-container-registry,master,concurrent-settings,If73e11531ff3a035ddb0664792c364a247b521b8,Allow docker image download/upload concurrency,ABANDONED,2018-09-26 19:42:17.000000000,2018-10-05 17:46:41.000000000,,14,0,0,605511,dcf0b317d357e8d4ebd1568f358e0134f80bb44b,7,5,1,3,14985,Alex Schultz,mwhahaha,"Allow docker image download/upload concurrency

Docker allows the tuning of the current number of downloads for each
pull or push request. By default downloads are set to 3 and uploads are
set to 5. This change allows these to be configured by the registry
class.

Change-Id: If73e11531ff3a035ddb0664792c364a247b521b8
"
openstack%2Ftripleo-heat-templates~master~I72e636b37c71e6f5131ea8cc98d707101b7190ba,openstack/tripleo-heat-templates,master,concurrent-settings,I72e636b37c71e6f5131ea8cc98d707101b7190ba,Increase docker pull/push concurrency,ABANDONED,2018-09-26 19:50:39.000000000,2018-10-05 17:46:31.000000000,,10,0,0,605514,afafe574d29d8010efa458bdbed3360d28bcd28d,12,7,1,1,14985,Alex Schultz,mwhahaha,"Increase docker pull/push concurrency

By default the max number of layers downloaded at one time for a
pull is set to 3 and the max number of layers uploaded at one time for
a push is set to 5. This increases the downloads to 8 and the uploads
12.

Change-Id: I72e636b37c71e6f5131ea8cc98d707101b7190ba
Depends-On: https://review.openstack.org/#/c/605511/
"
openstack%2Fmagnum~master~I1c5e24feebdd2309beede332b44d0328a8b744a3,openstack/magnum,master,change-dist-name,I1c5e24feebdd2309beede332b44d0328a8b744a3,change dist name to match PyPI,ABANDONED,2018-09-28 18:33:06.000000000,2018-10-05 17:46:01.000000000,,10,3,0,606162,8c1fec8d9cfd1ff9261d8f159c62162f8a009e7f,14,4,4,4,2472,Doug Hellmann,doug-hellmann,"change dist name to match PyPI

We are updating all Python projects to publish packages to PyPI. There
are previous versions of magnum published under the name
""openstack-magnum"" and the name ""magnum"" is controlled by another
project. This patch changes the dist name to ""openstack-magnum"" so
that new packages can be built and published under that name more
easily. It has no effect on the way magnum code should be imported or
anything else.

Change-Id: I1c5e24feebdd2309beede332b44d0328a8b744a3
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fnetworking-midonet~stable%2Fqueens~Ib865c5b406097c5196d8a95cfefc6e5513c1e40d,openstack/networking-midonet,stable/queens,bug/1789323-stable/queens,Ib865c5b406097c5196d8a95cfefc6e5513c1e40d,Remove a few extensions from NETWORK_API_EXTENSIONS,MERGED,2018-08-29 02:29:52.000000000,2018-10-05 17:43:47.000000000,2018-10-05 17:43:47.000000000,2,23,0,597357,a71f447ce72c7408033ffd622270d8ffd9a588cd,18,4,3,3,6854,YAMAMOTO Takashi,yamamoto,"Remove a few extensions from NETWORK_API_EXTENSIONS

This commit removes the following extensions from the list.
	timestamp_core
	tag
	tag_ext

Those extensions have been removed long before. [1] [2]
The mismatch has been exposed by the recently added
tempest test case. [3]

[1] I2ee2ed4c713d88345adc55b022feb95653eec663
[2] I97095453610fff114d999a526d67e78119546ff5
[3] I4c59f407c30020e3865e96e67a1b61361e699014

Also, make the grenade job non-voting for now because
it would take long to fix it.
1. It needs to be fixed in the base branch (right now
   it's stable/queens) as grenade uses the base branch's
   tempest.conf (thus NETWORK_API_EXTENSIONS) as it is
   for the target branch.
2. Right now stable/queens gate is broken for unrelated reasons

Closes-Bug: #1789323

This commit includes the following unrelated changes to pass
the gate.
----------------------------------------
Disable rally job for now

rally_openstack 1.2.0 doesn't seem compatible with queens.

Related-Bug: #1792364
----------------------------------------
Stop installing neutron-lbaas tempest plugin for now

It doesn't seem compatible with tempest master.

Related-Bug: #1792357
----------------------------------------

Change-Id: Ib865c5b406097c5196d8a95cfefc6e5513c1e40d
(cherry picked from commit 4ff0d09c9e68e7261c02c6f43a92a2e673dede60)
"
openstack%2Fnetworking-midonet~stable%2Fpike~I42dd5ae4b40204c8f7ada8ac98db7020a3fe6d48,openstack/networking-midonet,stable/pike,python3-first,I42dd5ae4b40204c8f7ada8ac98db7020a3fe6d48,import zuul job settings from project-config,MERGED,2018-08-30 00:07:45.000000000,2018-10-05 17:43:45.000000000,2018-10-05 17:43:45.000000000,129,1,1,597922,638d22ff12053ac118a268ba6313b2e045a58c68,13,5,2,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I42dd5ae4b40204c8f7ada8ac98db7020a3fe6d48
Story: #2002586
Task: #24314
"
openstack%2Fnetworking-midonet~stable%2Frocky~I0d5295e3dcfd6e4bcae5de41f098495cff801fcc,openstack/networking-midonet,stable/rocky,python3-first,I0d5295e3dcfd6e4bcae5de41f098495cff801fcc,import zuul job settings from project-config,MERGED,2018-08-30 00:09:40.000000000,2018-10-05 17:43:43.000000000,2018-10-05 17:43:43.000000000,108,0,0,597952,60788e790b22b90fc40d6d64d4de05f3dbd14b3f,19,7,3,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I0d5295e3dcfd6e4bcae5de41f098495cff801fcc
Story: #2002586
Task: #24314
"
openstack%2Foslo.serialization~master~Ia06cc37b736d5a874286dd76ccb5511d4b29c385,openstack/oslo.serialization,master,,Ia06cc37b736d5a874286dd76ccb5511d4b29c385,Update the home-page to latest,MERGED,2018-08-29 13:06:30.000000000,2018-10-05 17:28:07.000000000,2018-10-05 17:28:07.000000000,1,1,0,597507,181de14da10a84a04cb4f54277d96e1ccb0b124e,11,7,1,1,21691,weizj,ZhijunWei,"Update the home-page to latest

Change-Id: Ia06cc37b736d5a874286dd76ccb5511d4b29c385
"
openstack%2Foslotest~master~Id46f74ab4a8f64f7159effc8fa4d552f8217c498,openstack/oslotest,master,update-zuul,Id46f74ab4a8f64f7159effc8fa4d552f8217c498,Use templates for cover and lower-constraints,MERGED,2018-09-07 10:20:00.000000000,2018-10-05 17:19:14.000000000,2018-10-05 17:19:14.000000000,7,14,0,600698,99bf2bd40f762fcdeae6e6101f9342cf8b168b8c,10,4,2,2,6547,Andreas Jaeger,jaegerandi,"Use templates for cover and lower-constraints

Use openstack-tox-cover template, this runs the cover job
in the check queue only.

Use openstack-lower-constraints-jobs template

Remove jobs that are part of the templates.

Sort list of templates alphabetically.

Fix tox.ini for cover to work.

Change-Id: Id46f74ab4a8f64f7159effc8fa4d552f8217c498
"
openstack%2Ftrove~master~I6e389db5aed8db25b49906b2479af081237fc909,openstack/trove,master,python3-first,I6e389db5aed8db25b49906b2479af081237fc909,Fix cover job,MERGED,2018-09-24 17:28:53.000000000,2018-10-05 17:19:13.000000000,2018-10-05 17:19:13.000000000,6,4,11,604854,53576ec07ab0f781d813876d69d17aafb8d3592d,20,5,4,1,6547,Andreas Jaeger,jaegerandi,"Fix cover job

The job is currently broken, it runs with testr while
we switched to stestr. Use the usual setup for coverage as done by
other projects using stestr in cover.

Previously, we run with concurrency=1 - continue to run in serial mode.

Change-Id: I6e389db5aed8db25b49906b2479af081237fc909
"
openstack%2Fneutron~master~I9783ee588de1ec4b91a665b9dc89fdba3e2d90df,openstack/neutron,master,python3-first,I9783ee588de1ec4b91a665b9dc89fdba3e2d90df,Upgrade pylint to a version that works with python3,MERGED,2018-10-01 20:36:07.000000000,2018-10-05 17:14:15.000000000,2018-10-05 17:14:15.000000000,36,34,2,607047,2530ccff8f0a0105d1626c65616080b27682e129,64,16,8,7,2472,Doug Hellmann,doug-hellmann,"Upgrade pylint to a version that works with python3

Also fixed some six.moves errors as well.

Change-Id: I9783ee588de1ec4b91a665b9dc89fdba3e2d90df
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fproject-team-guide~master~If8ba9748b07a20e07e2664f48ea452e595c82f3d,openstack/project-team-guide,master,stable-banner,If8ba9748b07a20e07e2664f48ea452e595c82f3d,Disable cycle banner,MERGED,2018-09-14 15:51:21.000000000,2018-10-05 17:13:58.000000000,2018-10-05 17:13:58.000000000,3,1,0,602659,138d536ab88103b17505f6d5c70613b1cd7c8f6e,8,4,1,1,11904,Sean McGinnis,SeanM,"Disable cycle banner

The project-team-guide is not a per-cycle document but currently
displays the top banner warning that it is not the version for the
currently supported release. This sets the openstackdocstheme option to
disable this behavior.

Change-Id: If8ba9748b07a20e07e2664f48ea452e595c82f3d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Foslo-specs~master~I5ea198ad806f7a65c4c4f17b9cf06cdd08bba251,openstack/oslo-specs,master,python3-first,I5ea198ad806f7a65c4c4f17b9cf06cdd08bba251,fix tox python3 overrides,MERGED,2018-09-29 23:52:35.000000000,2018-10-05 17:13:27.000000000,2018-10-05 17:13:27.000000000,2,0,0,606692,64a8dd52508598b48c9991355092f747e7859380,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I5ea198ad806f7a65c4c4f17b9cf06cdd08bba251
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fneutron-vpnaas~master~Iccd8b6a73946d841a383ac9558fec3ae031373cd,openstack/neutron-vpnaas,master,python3-first,Iccd8b6a73946d841a383ac9558fec3ae031373cd,fix tox python3 overrides,MERGED,2018-09-29 23:52:05.000000000,2018-10-05 17:07:36.000000000,2018-10-05 17:07:36.000000000,5,0,3,606681,f55e503dc8a88ee93a8be7d04e8d01b0c9bab979,7,3,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Iccd8b6a73946d841a383ac9558fec3ae031373cd
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fpython-ironicclient~master~Ifc1891ada442b2046a3e967fc26104b4b5a77b8f,openstack/python-ironicclient,master,fixtypo,Ifc1891ada442b2046a3e967fc26104b4b5a77b8f,Fix a typo in the docstring,MERGED,2018-10-05 08:59:35.000000000,2018-10-05 17:00:55.000000000,2018-10-05 17:00:54.000000000,1,1,0,608185,9afae61ac211fb6a6633fc53c2428fac75383d70,6,2,1,1,17130,melissaml,malei,"Fix a typo in the docstring

Change-Id: Ifc1891ada442b2046a3e967fc26104b4b5a77b8f
"
openstack%2Fmonasca-api~master~I19c13427b52f906b2e9e028cf6272a5e7261238e,openstack/monasca-api,master,607163,I19c13427b52f906b2e9e028cf6272a5e7261238e,Set up logging for monasca-persister in devstack,MERGED,2018-10-02 11:44:32.000000000,2018-10-05 16:53:50.000000000,2018-10-05 16:53:50.000000000,8,3,2,607163,a23fd147167828863941f4f93e966ee0975ed3a5,16,5,3,1,16222,witek,witek,"Set up logging for monasca-persister in devstack

Instead of `log_config_append` option use devstack's `setup_logging`
function to set up logging in the way consistent with other OpenStack
components. This should allow correct indexing of monasca-persister logs
with project-infra grok patterns.

Also, set default log level for kafka_lib.client module to INFO to
reduce log message size and avoid long log messages.

Story: 2003911
Task: 26839

Change-Id: I19c13427b52f906b2e9e028cf6272a5e7261238e
"
openstack%2Fgovernance~master~I82849176775484328b3939b4e0c66aaf7a35f49d,openstack/governance,master,code-change,I82849176775484328b3939b4e0c66aaf7a35f49d,show the modification time of each page individually,MERGED,2018-10-03 16:12:54.000000000,2018-10-05 16:47:03.000000000,2018-10-05 16:47:03.000000000,99,4,0,607629,f7f0a065f61df8e6320e3fc18f6f3fbe0bdc9344,15,7,2,2,2472,Doug Hellmann,doug-hellmann,"show the modification time of each page individually

The old way of setting last_updated for the output showed a single
value on all pages, which makes it more difficult to know how up to
date a given resolution or policy is. The output was also formatted as
binary strings, which rendered poorly with b'' wrapped around the
actual timestamp.

This change uses the git history of each page to show when it was
modified. For pages generated from the project list, show the
modification time of the input data file. For pages rendered from
templates, without a source file, use the current build time. Always
return the value as a unicode string.

Change-Id: I82849176775484328b3939b4e0c66aaf7a35f49d
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fgovernance~master~I160e31389fae571d45a35444c281507d8aef345e,openstack/governance,master,code-change,I160e31389fae571d45a35444c281507d8aef345e,Inherit openstackdocstheme for TC site,MERGED,2018-09-24 23:48:31.000000000,2018-10-05 16:44:39.000000000,2018-10-05 16:44:39.000000000,17,1163,3,604935,bf83ea4b273f0b1821166533b3c093d093ee1d5f,25,9,2,13,4257,Zane Bitter,zaneb,"Inherit openstackdocstheme for TC site

Rather than use a fully custom theme for the TC site,
inherit from openstackdocstheme. This uses the new
display_global_toc_section and root_title options to
make it look closer to what we currently have, and
introduces a governance-specific sidebar TOC dropdown.

Change-Id: I160e31389fae571d45a35444c281507d8aef345e
"
openstack%2Fcookbook-openstack-compute~stable%2Fqueens~I0ff8202455b576227b882670c7254487b5e11f25,openstack/cookbook-openstack-compute,stable/queens,www_auth-stable/queens,I0ff8202455b576227b882670c7254487b5e11f25,Add www_authenticate_uri to keystone_authtoken,MERGED,2018-10-05 09:58:14.000000000,2018-10-05 16:44:37.000000000,2018-10-05 16:44:37.000000000,1,0,0,608200,96591e345206cb149f90b7ea1c92d4d28082bc63,7,3,1,1,11109,Roger Luethi,rluethi,"Add www_authenticate_uri to keystone_authtoken

Without www_authenticate_uri set, nova logs contain warnings:

WARNING keystonemiddleware.auth_token
        Configuring www_authenticate_uri to point to the public identity
        endpoint is required; clients may not be able to authenticate
        against an admin endpoint

backport: queens

Change-Id: I0ff8202455b576227b882670c7254487b5e11f25
(cherry picked from commit 7053785ecf736dfd5ea022446d1a99df9e56f604)
"
openstack%2Fcookbook-openstack-compute~stable%2Fqueens~I07aeb7617ca152f66ec239cef4bcbef642c66bf7,openstack/cookbook-openstack-compute,stable/queens,conf_space-stable/queens,I07aeb7617ca152f66ec239cef4bcbef642c66bf7,Make nova.conf more readable,MERGED,2018-10-05 09:58:50.000000000,2018-10-05 16:41:39.000000000,2018-10-05 16:41:39.000000000,3,14,0,608201,b9740194cbc96a1018f402b74e080811145a53d9,7,3,1,2,11109,Roger Luethi,rluethi,"Make nova.conf more readable

This patch replaces nova.conf.erb with openstack-service.conf.erb from
the openstack-common cookbook.

Besides removing some redundancy, it also makes nova.conf more readable
(due to a fix to openstack-service.conf.erb that never made it to
nova.conf.erb).

backport: queens pike

Change-Id: I07aeb7617ca152f66ec239cef4bcbef642c66bf7
(cherry picked from commit 55b58702faaf08a1a3ab2cb5203cfc078582a353)
"
openstack%2Foslo.config~master~I0c3d63d459b0671f8db857e76c2ea2e960a0e8d6,openstack/oslo.config,master,migrator-dict,I0c3d63d459b0671f8db857e76c2ea2e960a0e8d6,Pass old_values dict to upgrade_converter,ABANDONED,2018-10-04 17:57:20.000000000,2018-10-05 16:41:23.000000000,,4,2,0,608047,1b9d1e26d9051bc608878a7989d20e3b261b7f77,7,4,1,1,6928,Ben Nemec,bnemec,"Pass old_values dict to upgrade_converter

This changes the type of the old_value parameter passed to the
upgrade_converter callback to a dict that has the following structure:

{old_group: {old_option_name: old_value}}

This should allow us to have callbacks in the future that process
multiple values without changing the type of the parameter, which
would break existing implementations.

Change-Id: I0c3d63d459b0671f8db857e76c2ea2e960a0e8d6
"
openstack%2Fcinder~stable%2Fqueens~I8b4843c2e9392139b42d6e2ebd2c5e1cd09d4c7a,openstack/cinder,stable/queens,bug/1792944,I8b4843c2e9392139b42d6e2ebd2c5e1cd09d4c7a,Fix image volume cache max size and max count limits,MERGED,2018-09-28 19:49:56.000000000,2018-10-05 16:31:27.000000000,2018-10-05 16:31:27.000000000,6,4,0,606187,fe0c082529c301e28fd7dd517f564eaaed944475,25,21,1,2,21129,Alan Bishop,ASBishop,"Fix image volume cache max size and max count limits

Fix the code that enforces the image volume cache max size and max count
limits so that each limit functions independently from the other.

This fixes a bug where the code would function correctly when both were
set to zero (unlimited) or when both limits were set (non-zero), but would
misbehave when only one limit was set and the other unlimited.

Closes-Bug: #1792944
Change-Id: I8b4843c2e9392139b42d6e2ebd2c5e1cd09d4c7a
(cherry picked from commit 74249de6398dbec8592591667b83a5612bf4a969)
(cherry picked from commit 4c2b41d5b531c1e3cd87172d30f280f89e2505a3)
"
openstack%2Fnetworking-ovn~stable%2Frocky~I865da811157aa41bf0c7f1cf1089b93cb373707e,openstack/networking-ovn,stable/rocky,bug/1795883-stable/rocky,I865da811157aa41bf0c7f1cf1089b93cb373707e,Fix wrong path in doc config,MERGED,2018-10-03 14:07:54.000000000,2018-10-05 16:31:10.000000000,2018-10-05 16:31:10.000000000,3,2,0,607580,99b02f63ddc8b12e9cd47bd67053bee720bbba8a,8,4,1,1,23804,Daniel Alvarez,dalvarez,"Fix wrong path in doc config

This patch fixes wrong path which prevents doc from being correctly
built.

Change-Id: I865da811157aa41bf0c7f1cf1089b93cb373707e
Closes-Bug: #1795883
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry-picked from commit 993ef63b667174575a5ca4dbf5f8a631eab981c9)
"
openstack%2Fbifrost~master~I923ed22ea16c8692f803ac7656f5d105f9a32032,openstack/bifrost,master,fix-vm-logs,I923ed22ea16c8692f803ac7656f5d105f9a32032,scripts: collect-test-info.sh: Collect baremetal information,MERGED,2018-10-05 13:51:05.000000000,2018-10-05 16:20:14.000000000,2018-10-05 16:20:14.000000000,6,0,1,608265,d1c9bd8101cf66000b7ea9388068df4d31b5a8e1,7,3,1,1,23163,Markos Chandras (hwoarang),mchandras,"scripts: collect-test-info.sh: Collect baremetal information

Collect baremetal node information which can help debug issues.

Change-Id: I923ed22ea16c8692f803ac7656f5d105f9a32032
"
openstack%2Fbifrost~master~I83866b7650a38a885c94c0b7933443f30bef02c4,openstack/bifrost,master,fix-vm-logs,I83866b7650a38a885c94c0b7933443f30bef02c4,scripts: collect-test-info.sh: Collect PXE scripts,MERGED,2018-10-05 13:51:05.000000000,2018-10-05 16:12:49.000000000,2018-10-05 16:12:49.000000000,5,0,1,608264,2be2c3839921cbb71ba459191a889e3f9d1db37a,7,3,1,1,23163,Markos Chandras (hwoarang),mchandras,"scripts: collect-test-info.sh: Collect PXE scripts

Collect PXE boot scripts which can help us identify VM boot problems.

Change-Id: I83866b7650a38a885c94c0b7933443f30bef02c4
"
openstack%2Fpatrole~master~I6485b6c57795b5fe75e2b339d5c9720da30be564,openstack/patrole,master,deprecate-args,I6485b6c57795b5fe75e2b339d5c9720da30be564,Replace rule/expected_error_code with non-deprecated versions,MERGED,2018-08-23 03:36:21.000000000,2018-10-05 16:00:17.000000000,2018-10-05 16:00:17.000000000,596,622,3,595450,59f538fdbdf650154779028747285a5e35fa2d17,31,4,8,107,23186,Felipe Monteiro,felipe.monteiro,"Replace rule/expected_error_code with non-deprecated versions

This patch set replaces deprecated occurrences of rule with
rules and expected_error_code with expected_error_codes in
rbac_rule_validation.action decorator.

Along with removing the parameters from the decorator, all the
API tests have been changed to use the non-deprecated parameters
instead. Unit tests have also been updated.

Change-Id: I6485b6c57795b5fe75e2b339d5c9720da30be564
"
openstack%2Fmanila~stable%2Fqueens~I585c15d9eb4eefb843df62f7aad08838c83611e2,openstack/manila,stable/queens,bug/1743472-stable/queens,I585c15d9eb4eefb843df62f7aad08838c83611e2,Test share type per test suite changes,MERGED,2018-09-19 15:24:37.000000000,2018-10-05 15:57:44.000000000,2018-10-05 15:57:44.000000000,26,5,0,603830,4c1b1e1b3a4db7e42a5186b41703ee232c07e4db,23,14,1,4,16643,Goutham Pacha Ravi,gouthamr,"Test share type per test suite changes

Make default share type and group type
creation optional in
manila-tempest-minimal-dsvm-dummy job.

Depends-On: https://review.openstack.org/#/c/540070/
Change-Id: I585c15d9eb4eefb843df62f7aad08838c83611e2
(cherry picked from commit f9ae7aab057b282f42517718f8e38c20d0c34924)
"
openstack%2Fnetworking-bgpvpn~stable%2Focata~I20f667741b01ecc9be0dc3d06386ef1d902ce14d,openstack/networking-bgpvpn,stable/ocata,python3-first,I20f667741b01ecc9be0dc3d06386ef1d902ce14d,import zuul job settings from project-config,MERGED,2018-08-30 00:06:53.000000000,2018-10-05 15:55:45.000000000,2018-10-05 15:55:45.000000000,82,12,2,597909,e896832064d204963f01e498cb540ee71ade257a,21,7,4,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I20f667741b01ecc9be0dc3d06386ef1d902ce14d
Story: #2002586
Task: #24314
"
openstack%2Fcloudkitty~master~Idaeb783cf6fb566d795b1a502f45d9260544ce02,openstack/cloudkitty,master,add-scope-key-opt,Idaeb783cf6fb566d795b1a502f45d9260544ce02,Handle the scope id as a regular groupby attribute in storage,MERGED,2018-10-01 14:51:00.000000000,2018-10-05 15:51:08.000000000,2018-10-05 15:51:08.000000000,70,52,6,606965,0f79fbe944e2f98684b0dd47431480ded7c3abe0,17,4,5,10,23060,Luka Peschke,lukapeschke,"Handle the scope id as a regular groupby attribute in storage

Until now, the scope_id was handled separately in the storage backend.
Given that the state is not handled by the storage backend anymore, the
scope_id should not be treated differently by the storage backend. This aims
at simplifying cloudkitty's internal architecture.

In order to make the scope available to the whole orchestrator/API context,
a ""scope_key"" option has been added to cloudkitty.conf, and it has been
removed from the extra_args from the Gnocchi and Monasca collectors.

Change-Id: Idaeb783cf6fb566d795b1a502f45d9260544ce02
Story: 2001372
Task: 26765
"
openstack%2Foslosphinx~master~Iabf8b371650d10bf96e7aae2f4a6ee891262b532,openstack/oslosphinx,master,,Iabf8b371650d10bf96e7aae2f4a6ee891262b532,Update the home-page to latest,MERGED,2018-08-29 13:07:01.000000000,2018-10-05 15:48:51.000000000,2018-10-05 15:48:51.000000000,1,1,0,597508,b1f33b71e49b3d8e511d650f58f5ceea9ba375dd,13,7,1,1,21691,weizj,ZhijunWei,"Update the home-page to latest

Change-Id: Iabf8b371650d10bf96e7aae2f4a6ee891262b532
"
openstack%2Fbifrost~master~Ibdf8606a3b72c48faffdf2b58b122b690008ba98,openstack/bifrost,master,fix-vm-logs,Ibdf8606a3b72c48faffdf2b58b122b690008ba98,scripts: Fix shell expansion when collecting VM logs,MERGED,2018-10-05 13:34:28.000000000,2018-10-05 15:39:56.000000000,2018-10-05 15:39:56.000000000,1,1,0,608261,431b76892936c4e228b42e51916000b6ffbb60ac,7,3,1,1,23163,Markos Chandras (hwoarang),mchandras,"scripts: Fix shell expansion when collecting VM logs

The [[:digit:]] does not work correctly when using sudo

 2018-10-04 14:31:33.319558 | opensuse-423 | + sudo cp '/var/log/libvirt/baremetal_logs/testvm[[:digit:]]_console.log' /home/zuul/workspace/logs
 2018-10-04 14:31:33.328756 | opensuse-423 | cp: cannot stat '/var/log/libvirt/baremetal_logs/testvm[[:digit:]]_console.log': No such file or directory

As we can see [[:digit:]] is not expanded so no logs are collected. This
is because the expansion happens by the user but since he does not have
access to the directory the command fails. We can fix this by opening a
subshell so it gets run with sudo privileges.

Change-Id: Ibdf8606a3b72c48faffdf2b58b122b690008ba98
"
openstack%2Floci~master~Ibc6aeb407e3f6630ab8d72420fa6f92baf5d6788,openstack/loci,master,fix_typo,Ibc6aeb407e3f6630ab8d72420fa6f92baf5d6788,Fix typo,MERGED,2018-09-20 16:58:59.000000000,2018-10-05 15:26:36.000000000,2018-10-05 15:26:36.000000000,1,1,0,604164,62f35e726cd90565f55ac6ee37c2951394732e5d,7,3,1,1,17068,Jean-Philippe Evrard,evrardjp,"Fix typo

I am not sure entropy is rightly used here, but at least I am
sure it's not entopy.

Change-Id: Ibc6aeb407e3f6630ab8d72420fa6f92baf5d6788
"
openstack%2Fpuppet-cinder~master~I188d9383937a8425a78611eb168d55264b7b5c9f,openstack/puppet-cinder,master,,I188d9383937a8425a78611eb168d55264b7b5c9f,Use backup driver class name,MERGED,2018-10-01 08:29:31.000000000,2018-10-05 15:25:32.000000000,2018-10-05 15:25:32.000000000,28,21,1,606901,9a1b28cfb3751c070ec8778cbc31a7726331ddee,43,10,3,15,6968,Christian Schwede,cschwede,"Use backup driver class name

https://review.openstack.org/#/c/595372 removed the capability to use
the loading by module name and requires that the backup driver class name
is provided.

This fix updates the defaults to use the full class name, for example
``cinder.backup.drivers.swift.SwiftBackupDriver``.

Change-Id: I188d9383937a8425a78611eb168d55264b7b5c9f
"
openstack%2Fcinder~master~I914fc9d1833f5001ff757f4f70e7d6209aad94c5,openstack/cinder,master,bug/1791213,I914fc9d1833f5001ff757f4f70e7d6209aad94c5,Force delete invalid attached volume,ABANDONED,2018-08-30 07:26:46.000000000,2018-10-05 15:21:05.000000000,,85,8,7,598067,9cd24149d768f5e3f12d4266f06b3d99c2573228,79,38,3,3,28948,Liang Fang,liang,"Force delete invalid attached volume

In case of a failure in communication between nova and cinder,
an instance can be deleted, but the attached volume is not properly
marked as detached and then cannot be deleted forever. Yes we can
“cinder reset-state"" the volume and then delete it, but it's a little
rude because reset-state will never check the real state and just
update state in database, this may damage a normal volume by human
mistake and should always use this with caution. This fix added a check
to ""force-delete"" to check if any valid attachements exists and if
none exists, then clean up the attachment information of the volume so
that the subsequent code can delete the volume.

Implements: blueprint enhanced-force-deletion
Closes-Bug: #1791213
Story: 2002608
Task: 22227

Change-Id: I914fc9d1833f5001ff757f4f70e7d6209aad94c5
"
openstack%2Foslo-cookiecutter~master~I98d28ababca8d2ea848e0499d3abe6c46fe6df05,openstack/oslo-cookiecutter,master,sphinx-build,I98d28ababca8d2ea848e0499d3abe6c46fe6df05,Modernize tox.ini,MERGED,2018-09-20 21:03:39.000000000,2018-10-05 15:17:46.000000000,2018-10-05 15:17:45.000000000,2,36,0,604212,33c099959af810c31f84c0e05605a7fbbe1cb1c7,10,4,2,1,6928,Ben Nemec,bnemec,"Modernize tox.ini

The -constraints environments are no longer needed, constraints are
the default configuration. Also update the envlist to reflect the
currently supported jobs.

Change-Id: I98d28ababca8d2ea848e0499d3abe6c46fe6df05
"
openstack%2Fnova~stable%2Focata~I41b03a34795efe139d5911c605cdbd3c47a2f059,openstack/nova,stable/ocata,bug/1771700,I41b03a34795efe139d5911c605cdbd3c47a2f059,zuul: Move legacy jobs to project,ABANDONED,2018-06-04 15:21:43.000000000,2018-10-05 15:17:44.000000000,,85,0,0,572132,9ae17b67231e159641522cf843340044a3223244,13,8,1,3,4690,melanie witt,melwitt,"zuul: Move legacy jobs to project

Implement part of step one of the zuulv3 migration guide: move the
purely nova projects to the nova repo [1]. This does not migrate any
jobs used in other projects nor does it convert what is migrated to use
the new 'devstack' or 'devstack-tempest' base jobs. Both of these steps
should be done separately.

What's migrated:

- experimental:
  - legacy-tempest-dsvm-nova-lvm (renamed to nova-lvm)

What's dropped:

- experimental:
  - legacy-tempest-dsvm-nova-lxc (no one's using this)
  - legacy-tempest-dsvm-nova-wsgi-full (WSGI is the default since Pike)

What's still to be migrated, here or to other projects:

- check:
  - legacy-grenade-dsvm-neutron-multinode
  - legacy-grenade-dsvm-neutron-multinode-live-migration
  - legacy-tempest-dsvm-cells
  - legacy-tempest-dsvm-full-devstack-plugin-ceph
  - legacy-tempest-dsvm-neutron-linuxbridge
  - legacy-tempest-dsvm-neutron-multinode-full
  - legacy-tempest-dsvm-neutron-nova-next-full
  - legacy-tempest-dsvm-multinode-live-migration
  - ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa
  - legacy-tempest-dsvm-neutron-full
  - legacy-grenade-dsvm-neutron
- gate:
  - legacy-tempest-dsvm-cells
  - legacy-tempest-dsvm-multinode-live-migration
  - legacy-tempest-dsvm-neutron-full
  - legacy-grenade-dsvm-neutron
- experimental:
  - legacy-tempest-dsvm-nova-v20-api
  - legacy-grenade-dsvm-neutron-nova-next
  - legacy-tempest-dsvm-multinode-full
  - legacy-tempest-dsvm-neutron-dvr-multinode-full
  - legacy-tempest-dsvm-neutron-dvr-ha-multinode-full
  - legacy-tempest-dsvm-neutron-scenario-multinode-lvm-multibackend
  - ironic-tempest-dsvm-pxe_ipa-full
  - legacy-tempest-dsvm-nova-os-vif
  - legacy-tempest-dsvm-nova-libvirt-kvm-apr
  - legacy-grenade-dsvm-neutron-multinode-zero-downtime
  - ironic-tempest-dsvm-multitenant-network
  - ironic-tempest-dsvm-ipa-resourceclasses-partition-pxe_ipmitool-tinyipa
  - legacy-tempest-dsvm-full-devstack-plugin-nfs
  - legacy-tripleo-ci-centos-7-nonha-multinode-oooq
  - legacy-barbican-simple-crypto-dsvm-tempest-nova
  - legacy-tempest-dsvm-py35-full-devstack-plugin-ceph
  - legacy-tempest-dsvm-neutron-pg-full
  - legacy-tempest-dsvm-neutron-full-opensuse-423
  - legacy-tempest-dsvm-neutron-src-oslo.versionedobjects

[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details

 Conflicts:
	.zuul.yaml

NOTE(melwitt): The conflict is because the nova-tox-functional-py35 job does
not exist in Ocata.

Change-Id: I41b03a34795efe139d5911c605cdbd3c47a2f059
(cherry picked from commit 0db7b77b4615f25217ad646b2e4082994e8dfb73)
(cherry picked from commit 83484ab5a9e2f787bad3b47f95391c71d1744235)
"
openstack%2Fos-api-ref~master~If175550ba0477a1ae9cce6f6f3c1e3f0c6cae55f,openstack/os-api-ref,master,fix-tests,If175550ba0477a1ae9cce6f6f3c1e3f0c6cae55f,DNM: Attempt to replace monkeypath with mock,ABANDONED,2018-10-05 09:23:38.000000000,2018-10-05 15:16:07.000000000,,3,15,3,608190,a6938e11f605ef8a08d3ed1acb4dcf13d5861f7a,6,4,1,2,15334,Stephen Finucane,sfinucan,"DNM: Attempt to replace monkeypath with mock

This isn't doing what I'd expect but I don't know why.

Change-Id: If175550ba0477a1ae9cce6f6f3c1e3f0c6cae55f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcinder~stable%2Fqueens~I09724aef341b6fd75891b76bab97edd7d32af0a6,openstack/cinder,stable/queens,bug/1784856,I09724aef341b6fd75891b76bab97edd7d32af0a6,VMAX Driver - Fix for get-pools and returned Service Levels,MERGED,2018-08-28 10:43:33.000000000,2018-10-05 15:15:04.000000000,2018-10-02 18:09:43.000000000,172,51,0,597044,ce2509c3dc9bd7613e7d7c5afc4961e3746b2d18,91,26,4,6,12670,Helen Walsh,walshh2,"VMAX Driver - Fix for get-pools and returned Service Levels

This code change corrects the issue with not all Service Levels
being returned by 'cinder get-pools' command.

Change-Id: I09724aef341b6fd75891b76bab97edd7d32af0a6
Closes-Bug: #1784856
(cherry picked from commit 2896715334d373a3d4873fcc255d98a358e7af1d)
"
openstack%2Foslo-cookiecutter~master~I1337a67c5244c7c370beb03dfef1806c8dec709f,openstack/oslo-cookiecutter,master,sphinx-build,I1337a67c5244c7c370beb03dfef1806c8dec709f,Use sphinx-build for all docs venvs,MERGED,2018-09-19 19:50:37.000000000,2018-10-05 15:14:48.000000000,2018-10-05 15:14:48.000000000,1,1,4,603894,628dd03a0bacb5d2865f0abf25bb4c084049fb49,10,4,1,1,6928,Ben Nemec,bnemec,"Use sphinx-build for all docs venvs

One was apparently missed so it was still using setup.py build_sphinx.

Change-Id: I1337a67c5244c7c370beb03dfef1806c8dec709f
"
openstack%2Fmonasca-common~master~Id72eb0ac7be7077bfaa8b8684a45494c09d92034,openstack/monasca-common,master,587352,Id72eb0ac7be7077bfaa8b8684a45494c09d92034,Remove Docker tag based on timestamp,MERGED,2018-07-31 09:15:16.000000000,2018-10-05 15:14:32.000000000,2018-10-05 15:14:32.000000000,1,4,0,587352,abc3f8dd979961f1dc7197784282f94cfd8cbf49,22,4,2,1,16222,witek,witek,"Remove Docker tag based on timestamp

As agreed in spec [1] we don't want to create and publish tags based on
timestamp.

Story: 2001694
Task: 23322

[1] http://specs.openstack.org/openstack/monasca-specs/specs/rocky/approved/monasca-services-in-docker.html#work-items

Change-Id: Id72eb0ac7be7077bfaa8b8684a45494c09d92034
"
openstack%2Foslo-cookiecutter~master~I04d3da810c8a10c9d5a04b456d8bef10fc4f798f,openstack/oslo-cookiecutter,master,stestr,I04d3da810c8a10c9d5a04b456d8bef10fc4f798f,Migrate to stestr,MERGED,2018-09-13 16:30:14.000000000,2018-10-05 15:12:50.000000000,2018-10-05 15:12:50.000000000,21,5,0,602390,24fffaf712a8aed0f9b60e2c8f75ab5b47d152b8,7,3,1,2,6928,Ben Nemec,bnemec,"Migrate to stestr

Since we're touching the coverage jobs, also fix the coverage
configuration.

Change-Id: I04d3da810c8a10c9d5a04b456d8bef10fc4f798f
"
openstack%2Fopenstacksdk~master~I2abdedb0e810cbd2278012c8a7cf56d14c7b705d,openstack/openstacksdk,master,python3-first,I2abdedb0e810cbd2278012c8a7cf56d14c7b705d,Support firewall service for SDK,MERGED,2018-08-16 07:54:33.000000000,2018-10-05 15:10:57.000000000,2018-10-05 15:10:57.000000000,1115,0,15,592303,5a998529cce3341fa3ee1aba584e4ba39eb8c9dd,73,7,26,14,27369,Wang Weijia,Ben,"Support firewall service for SDK

FWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.

Implements blueprint: firewall-v2-support
Change-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d
Co-Authored-By: LIU Yulong <i@liuyulong.me>
Co-Authored-By: Matthias Lisin <lisin@strato.de>
"
openstack%2Fopenstacksdk~master~Ica5a47cc200c8abff1d20af9883c5192fcbb95e1,openstack/openstacksdk,master,python3-first,Ica5a47cc200c8abff1d20af9883c5192fcbb95e1,Clean up python3 test and split networking into a job,MERGED,2018-09-22 11:21:44.000000000,2018-10-05 15:10:56.000000000,2018-10-05 15:10:56.000000000,51,61,9,604517,6befbbe76cc9afedcefb032de9d67b26ce04cd0d,36,5,7,3,2,Monty Taylor,mordred,"Clean up python3 test and split networking into a job

We want to run with python3 always with python2 being the exception.

Update the functional tests to be python3 by default with a
python2 job to check compat.

Remove python3.5 jobs, since that's covered by python3.6 and the
differences between 3.5 and 3.6 are covered by also having 2.7 in the
gate.

Similarly, make the tips jobs python 3.6 only because they are jobs that
aim to ensure interactions between openstacksdk and keystoneauth and
os-client-config and shade are correct at the unit test level. The
individual unit tests should catch actual python 2.7 issues.

Remove cover jobs because we historically haven't cared about the output
and they take up test nodes. In general it's not that big of a deal, but
we tend to be patch-heavy around here, so it feels extravagant to run a
job we don't actually care about the output of.

Split advanced networking services into a job

We're hitting timeouts like crazy- maybe we're just running low on
resources. Split octavia and designate into their own job. Turn
swift off in that job.

Skip sdk layer dns functional tests when designate is not present. We
should refactor these to deal with both cases.

Change-Id: Ica5a47cc200c8abff1d20af9883c5192fcbb95e1
"
openstack%2Fbifrost~master~I67e45c98473de35c08feb67a9f792270230f6499,openstack/bifrost,master,allow-setting-public-ip,I67e45c98473de35c08feb67a9f792270230f6499,Allow to specify the public IP to be used for public endpoints,MERGED,2018-10-03 09:02:16.000000000,2018-10-05 15:10:07.000000000,2018-10-05 15:10:06.000000000,16,3,0,607502,beb404f19abe3fc0330886e684e105187cf859de,7,3,1,4,19578,Olivier Bourdon,olivierbourdon38,"Allow to specify the public IP to be used for public endpoints

This complements a previous patchset in case the Bifrost deployment
user would like to set a specific value instead of using the interface
IP value. This could be useful in case NAT is used for instance.

Change-Id: I67e45c98473de35c08feb67a9f792270230f6499
"
openstack%2Fpuppet-tripleo~master~I5110426aa26e5fce7ebb4d80d8a2082cbf80519c,openstack/puppet-tripleo,master,bug/1276694,I5110426aa26e5fce7ebb4d80d8a2082cbf80519c,Fix postrotate to notify holders of rotated logs,MERGED,2018-08-24 10:28:08.000000000,2018-10-05 15:07:40.000000000,2018-09-30 08:18:16.000000000,30,7,5,596275,d37c74d6382690a05ba3ca10edd7f2acb0fbbb2e,78,15,11,1,6926,Bogdan Dobrelya,bogdando,"Fix postrotate to notify holders of rotated logs

Lsof +L1 locates unlinked and open files and does not work for
logrotate, neither with copyteuncate not w/o that option.

Instead, find *.X (X - number) files held and notify the processes
owning those to make an apropriate actions and reopen new log files to
stop writing to the rotated files.

The actions to be taken by such processes are:

* For httpd processes, use USR1 to gracefully reload
* For neutron-server, restart the container as it cannot process
  HUP signal well (LP bug #1276694, LP bug #1780139).
* For nova-compute, restart the container as it cannot process
  HUP signal well (LP bug #1276694, LP bug #1715374).
* For other processes, use HUP to reload

This also fixes the filter to match logfiles ending with *err,
like rabbitmq startup errors log.

Closes-Bug: #1780139
Closes-Bug: #1785659
Closes-Bug: #1715374

Change-Id: I5110426aa26e5fce7ebb4d80d8a2082cbf80519c
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fcinder-tempest-plugin~master~I640fe41ec6049bfd980dfcbb6cae95a9a3e97b66,openstack/cinder-tempest-plugin,master,bug/1796207,I640fe41ec6049bfd980dfcbb6cae95a9a3e97b66,GET backup before asserting 'volume_id' and 'snapshot_id',MERGED,2018-10-04 23:49:18.000000000,2018-10-05 15:01:09.000000000,2018-10-05 15:01:09.000000000,3,0,0,608103,e935d35956f43d43309ebd67935631c2800479b7,10,5,2,1,4690,melanie witt,melwitt,"GET backup before asserting 'volume_id' and 'snapshot_id'

Recently, commit c96757b275a77a745c6c80947bdd0bcb2de7eefd was merged
to remove redundant cleanups in volume backup tests. But there was a
bug in the change that assumed 'volume_id' and 'snapshot_id' are
returned from the backup create API when they are not.

We need to GET the backup in the API in order to obtain the 'volume_id'
and 'snapshot_id' for the asserts.

Closes-Bug: #1796207

Change-Id: I640fe41ec6049bfd980dfcbb6cae95a9a3e97b66
"
openstack%2Fneutron~master~Ia73fe052986617dd6ce5e68cced0c4c88516a33e,openstack/neutron,master,bug/1795878,Ia73fe052986617dd6ce5e68cced0c4c88516a33e,Update tests neutron.conf to use transport_url,MERGED,2018-10-04 09:40:11.000000000,2018-10-05 15:01:07.000000000,2018-10-05 15:01:07.000000000,2,3,0,607872,d82a5d3c1471524969aafe4a441465ac0ce11f7c,21,11,1,2,21798,Bernard Cafarelli,bcafarel,"Update tests neutron.conf to use transport_url

The deprecated rpc_backend parameter was removed from oslo.messaging in
I193cc0e613459a6dbbfd54ed0901a54ded78d712

Use transport_url parameter instead

Change-Id: Ia73fe052986617dd6ce5e68cced0c4c88516a33e
Closes-Bug: #1795878
"
openstack%2Fmonasca-transform~master~Iaa7c9b9fca48dd2e091049da711e70395f6ec28e,openstack/monasca-transform,master,python3-first,Iaa7c9b9fca48dd2e091049da711e70395f6ec28e,fix tox python3 overrides,MERGED,2018-08-15 07:05:15.000000000,2018-10-05 14:39:29.000000000,2018-10-05 14:39:29.000000000,3,0,0,591929,ccd56bf0d43ff7906b5dfe92f4c5cf62b3821bbd,12,4,2,1,26297,pippo,huang.zhiping,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Iaa7c9b9fca48dd2e091049da711e70395f6ec28e
"
openstack%2Fcharm-nova-cloud-controller~stable%2F18.08~Ia21b3a6782ab944b7c41564e889e6b12d264b731,openstack/charm-nova-cloud-controller,stable/18.08,stable/add-refstack-filters,Ia21b3a6782ab944b7c41564e889e6b12d264b731,Use v2.1 API for >= Queens,MERGED,2018-10-01 09:17:14.000000000,2018-10-05 14:37:19.000000000,2018-10-05 09:26:10.000000000,51,2,0,606914,76a0bf5acfeeefab4e8211fa653e571abf8c70a7,16,4,3,5,935,James Page,james-page,"Use v2.1 API for >= Queens

Switch to using the v2.1 API endpoint for OpenStack Queens or later.

Closes-Bug: 1794271

Change-Id: Ia21b3a6782ab944b7c41564e889e6b12d264b731
(cherry picked from commit 935d30571c7e813ccbfecb9cbbf980f7f2835b08)
"
openstack%2Fmonasca-transform~master~If98949fa5f49091fbf11c95a65302a4f844538c9,openstack/monasca-transform,master,python3-first,If98949fa5f49091fbf11c95a65302a4f844538c9,Fix PEP8 tests for Python 3,MERGED,2018-10-01 09:25:05.000000000,2018-10-05 14:36:56.000000000,2018-10-05 14:36:56.000000000,3,3,0,606919,8257dd9f42711864501b44846563948673620708,9,5,1,3,16222,witek,witek,"Fix PEP8 tests for Python 3

* relace long with int
* replace execfile with exec

Change-Id: If98949fa5f49091fbf11c95a65302a4f844538c9
Story: 2003240
Task: 26827
"
openstack%2Foslo.config~master~Ide0f1c6d79d506b979b54e6446786ea9ff51c8d5,openstack/oslo.config,master,convert-sphinxisms,Ide0f1c6d79d506b979b54e6446786ea9ff51c8d5,generator: Pass conf to _OptFormatter,MERGED,2018-07-16 22:41:57.000000000,2018-10-05 14:35:31.000000000,2018-10-05 14:35:31.000000000,33,30,0,583063,6c30a1c8a388f4f0dd4d97de878ff7e605a677eb,12,4,2,2,14070,Eric Fried,efried,"generator: Pass conf to _OptFormatter

In preparation for adding another conf option that would have needed to
be kwarg'd all the way down the call stack to the .format method, this
patch removes the existing `minimal` and `summarize` kwargs from the
methods in that call stack and instead makes them instance attributes of
generator._OptFormatter, which is now initialized with the whole
ConfigOpts object rather than those individual options.

This is just a refactor. There is no functional change (assuming nobody
is being naughty and consuming the private _OptFormatter class).

Change-Id: Ide0f1c6d79d506b979b54e6446786ea9ff51c8d5
"
openstack%2Fcharm-nova-cloud-controller~master~I5aac32377095f8614c4dd3224ac31ab7e2d3a1df,openstack/charm-nova-cloud-controller,master,fix-reqs,I5aac32377095f8614c4dd3224ac31ab7e2d3a1df,Update requirements to fix pyyaml dep of charm-tools,ABANDONED,2018-10-02 14:50:15.000000000,2018-10-05 14:33:12.000000000,,2,3,0,607213,d7badd1842456e2e0c2ed989ac68f33b9cfbd9f8,9,4,1,2,20635,Ryan Beisner,ryan-beisner,"Update requirements to fix pyyaml dep of charm-tools

Change-Id: I5aac32377095f8614c4dd3224ac31ab7e2d3a1df
"
openstack%2Fopenstack-ansible-ops~master~I0e03aa4896ab21a3fa4692bf4c17e80639ce6250,openstack/openstack-ansible-ops,master,pyhon3-first,I0e03aa4896ab21a3fa4692bf4c17e80639ce6250,fix tox python3 overrides,ABANDONED,2018-06-18 12:54:09.000000000,2018-10-05 14:26:28.000000000,,6,0,0,576125,79dbc34e7d457614cb047b4ae7164feea6bd3a1f,4,2,1,1,17130,melissaml,malei,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I0e03aa4896ab21a3fa4692bf4c17e80639ce6250
"
openstack%2Fnetworking-midonet~stable%2Frocky~Ib865c5b406097c5196d8a95cfefc6e5513c1e40d,openstack/networking-midonet,stable/rocky,bug/1789323-stable/rocky,Ib865c5b406097c5196d8a95cfefc6e5513c1e40d,Remove a few extensions from NETWORK_API_EXTENSIONS,MERGED,2018-08-28 11:56:10.000000000,2018-10-05 14:25:37.000000000,2018-10-05 14:25:37.000000000,2,10,0,597058,24cfc227dcc97a9aeef918a62f0d26c4b66b881e,20,11,2,2,6854,YAMAMOTO Takashi,yamamoto,"Remove a few extensions from NETWORK_API_EXTENSIONS

This commit removes the following extensions from the list.
	timestamp_core
	tag
	tag_ext

Those extensions have been removed long before. [1] [2]
The mismatch has been exposed by the recently added
tempest test case. [3]

[1] I2ee2ed4c713d88345adc55b022feb95653eec663
[2] I97095453610fff114d999a526d67e78119546ff5
[3] I4c59f407c30020e3865e96e67a1b61361e699014

Also, make the grenade job non-voting for now because
it would take long to fix it.
1. It needs to be fixed in the base branch (right now
   it's stable/queens) as grenade uses the base branch's
   tempest.conf (thus NETWORK_API_EXTENSIONS) as it is
   for the target branch.
2. Right now stable/queens gate is broken for unrelated reasons

Closes-Bug: #1789323
Change-Id: Ib865c5b406097c5196d8a95cfefc6e5513c1e40d
(cherry picked from commit 4ff0d09c9e68e7261c02c6f43a92a2e673dede60)
"
openstack%2Fnetworking-midonet~stable%2Frocky~Iedc1ea5a24db7b162f982f56434e7bab3c4678b6,openstack/networking-midonet,stable/rocky,create-rocky,Iedc1ea5a24db7b162f982f56434e7bab3c4678b6,Update .gitreview for stable/rocky,MERGED,2018-08-09 21:51:34.000000000,2018-10-05 14:25:37.000000000,2018-10-05 14:25:37.000000000,1,0,0,590550,6a5584f5c01e7cff90f034bef5f9d80a56705952,21,10,2,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/rocky

Depends-On: https://review.openstack.org/#/c/597058/
Change-Id: Iedc1ea5a24db7b162f982f56434e7bab3c4678b6
"
openstack%2Fopenstack-ansible-os_ceilometer~master~I247aa039afc5f073253135ab91b05cb751a73ef7,openstack/openstack-ansible-os_ceilometer,master,,I247aa039afc5f073253135ab91b05cb751a73ef7,fix tox python3 overrides,ABANDONED,2018-07-23 11:39:15.000000000,2018-10-05 14:25:31.000000000,,4,0,0,584819,4f2dda61ec635391d6081522773b283864a96b5f,5,3,1,1,17130,melissaml,malei,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I247aa039afc5f073253135ab91b05cb751a73ef7
"
openstack%2Fopenstack-ansible-os_gnocchi~master~Ic0acfd55e767bd956ed382aa3cdb93b44bc3c3fc,openstack/openstack-ansible-os_gnocchi,master,,Ic0acfd55e767bd956ed382aa3cdb93b44bc3c3fc,fix tox python3 overrides,ABANDONED,2018-07-23 11:39:14.000000000,2018-10-05 14:24:58.000000000,,4,0,0,584818,d8b6cd859be28773a0e5c6adfb4945a53d1028e7,4,2,1,1,17130,melissaml,malei,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ic0acfd55e767bd956ed382aa3cdb93b44bc3c3fc
"
openstack%2Fopenstack-ansible-openstack_hosts~master~Iff5968b77d3fef0d2bc9d9f9d2b94579992c2ace,openstack/openstack-ansible-openstack_hosts,master,,Iff5968b77d3fef0d2bc9d9f9d2b94579992c2ace,fix tox python3 overrides,ABANDONED,2018-07-23 11:39:14.000000000,2018-10-05 14:24:38.000000000,,4,0,0,584817,93745a1e4b5a5b2be6043459eccdeb7e08e68c11,5,3,1,1,17130,melissaml,malei,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Iff5968b77d3fef0d2bc9d9f9d2b94579992c2ace
"
openstack%2Fos-collect-config~master~Ic5bb4f6d514b6b8f9352046b5f1db43f7edfb8c3,openstack/os-collect-config,master,,Ic5bb4f6d514b6b8f9352046b5f1db43f7edfb8c3,Cleanup test-requirements,ABANDONED,2018-01-21 03:38:15.000000000,2018-10-05 14:20:38.000000000,,0,1,0,536078,8e2b0fa67e0da907cc027e2b5356d16c244621d1,8,5,1,1,17130,melissaml,malei,"Cleanup test-requirements

python-subunit is not used directly anywhere
and it is dependency of both testrepository
and os-testr
(probably was used by some tox wrapper script before)

Change-Id: Ic5bb4f6d514b6b8f9352046b5f1db43f7edfb8c3
"
openstack%2Fcharm-nova-compute~master~Ia23913f96a2e09c87ec8d30ce14285e147563894,openstack/charm-nova-compute,master,trivialfix,Ia23913f96a2e09c87ec8d30ce14285e147563894,fix a typo in login.defs,ABANDONED,2018-05-24 08:02:11.000000000,2018-10-05 14:19:47.000000000,,1,1,0,570333,fd54b5658542c02c5594187f77d714fa3305ed00,4,2,1,1,17130,melissaml,malei,"fix a typo in login.defs

Change-Id: Ia23913f96a2e09c87ec8d30ce14285e147563894
"
openstack%2Fopenstack-ansible-lxc_hosts~master~Idacf6cbbec7771f3d2708918ee089033ac0004b0,openstack/openstack-ansible-lxc_hosts,master,,Idacf6cbbec7771f3d2708918ee089033ac0004b0,fix tox python3 overrides,ABANDONED,2018-07-23 11:42:11.000000000,2018-10-05 14:16:38.000000000,,5,0,0,584820,e846530b3fb0d69cc9d84036e5b2c5a8f8852ad9,4,2,1,1,17130,melissaml,malei,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Idacf6cbbec7771f3d2708918ee089033ac0004b0
"
openstack%2Fopenstack-ansible-os_heat~master~I7552cc9f9af9327fde8b7c4759ab471d7d45c066,openstack/openstack-ansible-os_heat,master,,I7552cc9f9af9327fde8b7c4759ab471d7d45c066,fix tox python3 overrides,ABANDONED,2018-07-23 11:39:14.000000000,2018-10-05 14:14:50.000000000,,4,0,0,584816,ea83e25c082a6e92b992442587a74c16b104a34e,4,2,1,1,17130,melissaml,malei,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I7552cc9f9af9327fde8b7c4759ab471d7d45c066
"
openstack%2Fkeystone-specs~master~I4b867cd63714cfd5fe6201919d5127d1ca72afa1,openstack/keystone-specs,master,trivialfix,I4b867cd63714cfd5fe6201919d5127d1ca72afa1,Replace Chinese quotes to English quotes,ABANDONED,2018-02-15 03:58:34.000000000,2018-10-05 14:12:12.000000000,,6,6,1,544773,d3fd3d0f2243402c007f9418bee03a79c67ebdcd,9,3,2,2,17130,melissaml,malei,"Replace Chinese quotes to English quotes

fixing the double-quote chars in the RST source to be regular double-quotes

Change-Id: I4b867cd63714cfd5fe6201919d5127d1ca72afa1
"
openstack%2Fopenstack-ansible-memcached_server~master~Icbef2418124a677265a053146d452bd71abb45a4,openstack/openstack-ansible-memcached_server,master,,Icbef2418124a677265a053146d452bd71abb45a4,fix tox python3 overrides,ABANDONED,2018-07-23 11:39:14.000000000,2018-10-05 14:11:27.000000000,,4,0,0,584815,480ded7aa7636c704df3a2b003d7755b75f28c2a,7,3,1,1,17130,melissaml,malei,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Icbef2418124a677265a053146d452bd71abb45a4
"
openstack%2Fopenstack-ansible-os_almanach~master~I38dac32ade9efcc37aa88ca4404f3ac0c8d96625,openstack/openstack-ansible-os_almanach,master,,I38dac32ade9efcc37aa88ca4404f3ac0c8d96625,fix tox python3 overrides,ABANDONED,2018-07-23 11:39:13.000000000,2018-10-05 14:09:51.000000000,,4,0,0,584814,d263226ec9a9039d8e5b82ba531007448b2aeb9f,5,3,1,1,17130,melissaml,malei,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I38dac32ade9efcc37aa88ca4404f3ac0c8d96625
"
openstack%2Fopenstack-helm~master~Ic7361c48b1d617da6e78a77037e2edb27e05b60e,openstack/openstack-helm,master,gates/uniformity,Ic7361c48b1d617da6e78a77037e2edb27e05b60e,[WIP] Wire linters to openstack-helm-infra plays,ABANDONED,2018-10-05 12:32:35.000000000,2018-10-05 14:07:26.000000000,,3,1,0,608254,668585b8b57d2ec80eec51772aa0e8923b3f4cca,2,0,1,1,17068,Jean-Philippe Evrard,evrardjp,"[WIP] Wire linters to openstack-helm-infra plays

This would reduce the amount of play needed for linting.

Change-Id: Ic7361c48b1d617da6e78a77037e2edb27e05b60e
"
openstack%2Fnetworking-midonet~stable%2Focata~I655d3715bd3fa1d1f5062428bb1dc357954b4694,openstack/networking-midonet,stable/ocata,python3-first,I655d3715bd3fa1d1f5062428bb1dc357954b4694,import zuul job settings from project-config,MERGED,2018-08-30 00:06:57.000000000,2018-10-05 14:06:57.000000000,2018-10-05 14:06:57.000000000,128,0,0,597910,a1c2a2fb8d0db569303e26bbb5fb6de20397691a,17,5,3,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I655d3715bd3fa1d1f5062428bb1dc357954b4694
Story: #2002586
Task: #24314
"
openstack%2Fnetworking-midonet~stable%2Focata~I69663be876def03f47594c838591cfdb10d00871,openstack/networking-midonet,stable/ocata,bug/1762795,I69663be876def03f47594c838591cfdb10d00871,Fix sphinx-docs job,MERGED,2018-08-09 16:34:07.000000000,2018-10-05 14:06:56.000000000,2018-10-05 14:06:56.000000000,21,3,0,590421,abd9ea280042b1dd1bc76bdff9aa05b7a284dfdb,14,5,2,4,17685,Elod Illes,elod.illes,"Fix sphinx-docs job

build-openstack-sphinx-docs jobs fail on all branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Note: This commit includes the following unrelated changes
to pass the gate.
(Actually I2d125ce2251473f896fc251b8fa51cfa29721850 might not
be necessary on this branch. But I included it as it was a part
of the original commit on master.)
----------------------------------------
Pin rally to 0.12.1

Rally plugin after version 0.12.1 installs the new and latest
rally-openstack, which has higher requirements of packages and is not
constrained by pike's upper-constraints.txt during installation. This
causes problem on stable/pike and older stable branches: keystone
service is not able to start (ContextualVersionConflict, see
screen-keystone.txt)

The patch that introduced the new behaviour:
https://review.openstack.org/#/c/575064/4/devstack/lib/rally

Backport Note(yamamoto): Applied to rally-v2 job too.
----------------------------------------
Disable failing style checks (W503, E402) for now.

I (yamamoto) guess they are new with pycodestyle 2.4.0.

Related-Bug: #1762795
Change-Id: Ib35d0718bf1410dc8e5c10bb185a00837f2d8b52
----------------------------------------
Add dummy docstrings to avoid Sphinx 1.7.x warnings

We need to workaround this locally because:
- It's unclear how long os-vif patch [1] will take
  to be merged.
- While Neutron patch [2] has been merged, docs build on
  gate is using released versions of dependencies.

The idea was taken from keystone. [3]

[1] https://review.openstack.org/#/c/577028/
[2] https://review.openstack.org/#/c/577029/
[3] https://review.openstack.org/#/c/578121/

Related-Bug: #1771092
Change-Id: I2d125ce2251473f896fc251b8fa51cfa29721850
----------------------------------------

Conflicting file:
  tox.ini - from upper-constraints we need stable/ocata here, which is
      already set
  rally-jobs/plugins/network_plugin.py - because rally has to be pinned,
      the ""Port rally plugins to use proper modules"" part of the
      backport has to be left out
  midonet/neutron/db/l3_db_midonet.py - changed between ocata and pike
  midonet/os_vif/vif_midonet.py - new file in pike, so removed

Co-Authored-By: eeldill <elod.illes@ericsson.com>
Co-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>
Co-Authored-By: OpenStack Release Bot <infra-root@openstack.org>
Co-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>
Change-Id: I69663be876def03f47594c838591cfdb10d00871
(cherry picked from commit f24c41935cf010e319a8e0e3826f145774a81d6c)
(cherry picked from commit ae2ed9a6dff37d9b04525643c8fe8dc76766a225)
"
openstack%2Foslo.messaging~stable%2Fqueens~I3c42f8463605927f6f94d6c3a7f05e584476abc1,openstack/oslo.messaging,stable/queens,bug/1745166,I3c42f8463605927f6f94d6c3a7f05e584476abc1,Do not access the connection's socket during error callback,MERGED,2018-09-26 03:33:57.000000000,2018-10-05 14:06:49.000000000,2018-10-05 14:06:49.000000000,9,5,0,605322,34b2931f08df8e435a7e18060ff45c4dca56574a,7,3,1,1,6593,Dirk Mueller,dmllr,"Do not access the connection's socket during error callback

The _get_connection_info() method attempts to gather debug information
from the connection, and will reach into the amqp channel to get the
local (client's) TCP port number via the 'sock' property.

If _get_connection_info() is called from autoretry's on_error handler
the 'sock' property notices that the transport is not set and attempts
to re-connect.  amqp has deprecated this reconnect behavior, and in
any case the client's socket is irrelevant since the connection may
not be valid at this point.

Closes-Bug: #1745166
Change-Id: I3c42f8463605927f6f94d6c3a7f05e584476abc1
(cherry picked from commit 361669764fd28b4f6d5f1c6896624f2da4ff5151)
"
openstack%2Fopenstackdocstheme~master~I594136a0ea66d61f60dafc6a853137470efc7d42,openstack/openstackdocstheme,master,stx-theme,I594136a0ea66d61f60dafc6a853137470efc7d42,Add starlingxdocs theme support,MERGED,2018-10-02 16:12:29.000000000,2018-10-05 14:03:52.000000000,2018-10-05 07:38:10.000000000,4687,20,14,607298,b0166265a881ae8d46553b452cffe517bb5889a6,42,7,12,23,970,Dean Troyer,dtroyer,"Add starlingxdocs theme support

At the PTG the Docs team and dhellmann decided that openstackdocstheme
was the proper place to keep the modifications required to build
a theme for StarlingX and other OpenStack Foundation-related projects.

This is a minimal set of changes to support a second theme with a couple
of visual changes thrown in to make obvious that the correct theme
is being used. The remainder of the visual work will follow.
Both PNG and SVG versions of the logo are included.

Add an additional jobs to build the docs and PDF with the new theme.

Modify the wording in README.rst and the docs index page regarding
the distinction between openstackdocstheme the module and openstackdocs
and starlingxdocs the themes and their intended uses.

There are a number of hard-coded OpenStack-isms that will eventually
need to be addressed.

Change-Id: I594136a0ea66d61f60dafc6a853137470efc7d42
Signed-off-by: Dean Troyer <dtroyer@gmail.com>
"
openstack%2Fnova~master~Ia8809d276c14013c94d84efcfdc0b0eafb303c57,openstack/nova,master,bug/1790701,Ia8809d276c14013c94d84efcfdc0b0eafb303c57,Remove error-masking try/except from _run_migration,ABANDONED,2018-09-05 14:41:29.000000000,2018-10-05 14:02:13.000000000,,4,9,1,600085,6ca21d5b74429d3514b1c36173d49848e569a2b1,17,15,1,2,6873,Matt Riedemann,mriedem,"Remove error-masking try/except from _run_migration

As noted in change I9d97b7a904e2b7d15c763e2a067cc5909cc6c9c5,
if we hit errors in an online data migration method, those
errors are logged but masked from the overall result of the
online data migration run. So it's possible to get a 0 exit
code thinking you've done all of the online data migrations
even though one might have never run properly because of a bug.

There is likely no good reason for the blanket try/except in
the _run_migration method; it's been there since the code was
written. This change removes it because if a migration method
has an exception, we should halt the migration operation rather
than log and semi-silently pass. Furthermore, failing with a
stacktrace is likely advantageous since these things shouldn't
fail but if they do, we probably need a stacktrace to help
debug the root issue.

Change-Id: Ia8809d276c14013c94d84efcfdc0b0eafb303c57
Related-Bug: #1790701
"
openstack%2Fopenstack-ansible-lxc_hosts~master~Ia3f91544b5f60592c44a2970e983df8bbe829e3a,openstack/openstack-ansible-lxc_hosts,master,,Ia3f91544b5f60592c44a2970e983df8bbe829e3a,fix tox python3 overrides,MERGED,2018-09-30 03:05:14.000000000,2018-10-05 14:00:46.000000000,2018-10-03 18:14:40.000000000,3,0,0,606765,c52fe44cb20af32d0b6c1f8748c7cf3f5dd9d230,10,3,2,1,26297,pippo,huang.zhiping,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ia3f91544b5f60592c44a2970e983df8bbe829e3a
"
openstack%2Ftripleo-heat-templates~master~I8a51c9d2cf6a003e9a2234995fc766f9bafa3004,openstack/tripleo-heat-templates,master,misleading-output,I8a51c9d2cf6a003e9a2234995fc766f9bafa3004,Fix misleading Ansible log message,ABANDONED,2018-10-02 13:04:14.000000000,2018-10-05 13:46:03.000000000,,4,4,3,607179,98648eecbf0824fbe936d957176fb674d65dee4d,16,7,1,1,8042,Jiří Stránský,jistr,"Fix misleading Ansible log message

We print the task output always, not only when the step fails, so the
message was misleading.

Change-Id: I8a51c9d2cf6a003e9a2234995fc766f9bafa3004
"
openstack%2Fnova~master~Ibd84f8af35fc0090899ff5a078b515927db413c9,openstack/nova,master,trivial,Ibd84f8af35fc0090899ff5a078b515927db413c9,Make NetworkAPI an abstract base class,ABANDONED,2018-04-11 14:25:12.000000000,2018-10-05 13:43:47.000000000,,104,46,0,560440,8d9b3a51f3d4321e7fcba88bcd5738986f843a67,15,13,1,3,15334,Stephen Finucane,sfinucan,"Make NetworkAPI an abstract base class

This helps prevent some really basic validation errors when extending
the API and should help as we strip out nova-network. There weren't as
many issues as I suspected there would be but the idea is sound.

Change-Id: Ibd84f8af35fc0090899ff5a078b515927db413c9
"
openstack%2Fnova~master~I898953ce55d3a558c3a0395866df7c38ef9a7a4f,openstack/nova,master,bp/integrate-mypy-type-checking,I898953ce55d3a558c3a0395866df7c38ef9a7a4f,zuul: Add 'mypy' job,ABANDONED,2018-01-30 10:00:35.000000000,2018-10-05 13:43:27.000000000,,25,12,0,539168,bd668bc182879a826085f35bd203f97ea4aaf7cc,52,14,5,1,15334,Stephen Finucane,sfinucan,"zuul: Add 'mypy' job

Change-Id: I898953ce55d3a558c3a0395866df7c38ef9a7a4f
"
openstack%2Fnova~master~I354073429e5e824c73d00efbd77432824a2663c4,openstack/nova,master,bp/integrate-mypy-type-checking,I354073429e5e824c73d00efbd77432824a2663c4,mypy: Add type annotations to 'nova.pci',ABANDONED,2018-01-26 11:41:51.000000000,2018-10-05 13:43:20.000000000,,245,71,5,538224,1f568b0a06f3364bf23b0a348f0833aace70d990,93,15,6,7,15334,Stephen Finucane,sfinucan,"mypy: Add type annotations to 'nova.pci'

The 'nova.pci' module is poorly understood and difficult to debug.
Start adding type hints to make this a little easier to parse and catch
dumb errors. Some code needs to be reworked to make 'mypy' happy, but
it's mostly just type annotations.

Unfortunately we need to mark the type imports and 'noqa' until such a
time as 'flake8' gains support for this feature. For more information,
refer to:

- https://github.com/PyCQA/pyflakes/issues/247
- https://gitlab.com/pycqa/flake8/issues/118

Change-Id: I354073429e5e824c73d00efbd77432824a2663c4
"
openstack%2Fnova~master~If684d1bf384bb3f5c0d939c6d5e17f0c7eb2b6a7,openstack/nova,master,bp/integrate-mypy-type-checking,If684d1bf384bb3f5c0d939c6d5e17f0c7eb2b6a7,tox: Store list of converted files,ABANDONED,2018-01-26 11:41:51.000000000,2018-10-05 13:43:18.000000000,,23,1,0,538222,280bfb9f0574e97ffb18f2f64eda925ea88e12b7,71,14,5,3,15334,Stephen Finucane,sfinucan,"tox: Store list of converted files

This means we don't need to always provide arguments to this function.

Change-Id: If684d1bf384bb3f5c0d939c6d5e17f0c7eb2b6a7
"
openstack%2Fnova~master~Ia8e95bcb9937505b513528926b58a0db7c90aa66,openstack/nova,master,bp/integrate-mypy-type-checking,Ia8e95bcb9937505b513528926b58a0db7c90aa66,tox: Add mypy target,ABANDONED,2018-01-26 11:41:51.000000000,2018-10-05 13:43:16.000000000,,23,0,1,538221,50c150d7cc788a42b6ef22bcedc3530b2fff33ce,74,16,5,4,15334,Stephen Finucane,sfinucan,"tox: Add mypy target

mypy is an experimental optional static type checker for Python that
aims to combine the benefits of dynamic (or ""duck"") typing and static
typing. While still in development, most features are supported and it's
already being used by real world projects like Sphinx. Let's start small
by integrating it into some of the interfaces that nova exposes. We can
further build upon this if it works out.

This change sets up the boilerplate necessary to use mypy in nova. Type
annotations are not included for any module - these will be added
separately.

Change-Id: Ia8e95bcb9937505b513528926b58a0db7c90aa66
"
openstack%2Fnova-specs~master~Ie16afe61807468df357d9e55ddb98513b7e4b643,openstack/nova-specs,master,bp/integrate-mypy-type-checking,Ie16afe61807468df357d9e55ddb98513b7e4b643,Integrate Mypy Type Checking,ABANDONED,2018-01-26 11:17:40.000000000,2018-10-05 13:43:14.000000000,,253,0,12,538217,91d96444cbc10c41fd4484684270c66f16d26628,17,6,3,1,15334,Stephen Finucane,sfinucan,"Integrate Mypy Type Checking

Change-Id: Ie16afe61807468df357d9e55ddb98513b7e4b643
"
openstack%2Fdevstack~master~I92fb3eeb5a111c4c5a55ac4293611fa308e9ee11,openstack/devstack,master,bug/1744096,I92fb3eeb5a111c4c5a55ac4293611fa308e9ee11,"Remove 'python_version', 'python3_version' functions",ABANDONED,2018-01-18 15:28:57.000000000,2018-10-05 13:42:53.000000000,,8,17,3,535366,c1f20864875661bda2d24e4fa2ee17f8d1930acc,27,7,3,4,15334,Stephen Finucane,sfinucan,"Remove 'python_version', 'python3_version' functions

These look like they should have been used starting with the original
change [1], but they were not. Instead, there's only two calls to one of
the functions, and the other function is uncalled and contains a typo.
Update the two calling function to use the PYTHON variable instead and
just remove these functions.

[1] Id826f275b99b9f397b95e817941019fc503daa1d

Change-Id: I92fb3eeb5a111c4c5a55ac4293611fa308e9ee11
"
openstack%2Fnova~master~I1d9bf27f49306032929274446cf3952bd42e4f8c,openstack/nova,master,placement-decision-state,I1d9bf27f49306032929274446cf3952bd42e4f8c,rework how we pass candidate request information,ABANDONED,2018-05-03 21:21:51.000000000,2018-10-05 13:41:09.000000000,,449,437,30,566166,ea77e79c8ff50e89b06f073f8933911853f48969,62,18,5,5,7,Jay Pipes,jaypipes,"rework how we pass candidate request information

One thing that's been bothering me is the complexity that has slowly
been creeping in to the AllocationCandidate.get_by_requests() code (and
all the many functions that are called within it to match providers for
a particular request).

A half dozen functions in the resource_provider.py file were accepting
these long lists of parameters -- dicts of requested resource to
amounts, dicts of required and forbidden trait name to ID maps, lists of
lists of aggregate UUIDs, etc.

I wanted to create an object that tied together related request/matching
policy information but didn't place that information in one of the
versioned objects. The versioned objects are supposed to be as close to
plain-old-data structures as possible, and adding fields to them that
control matching logic or that indicate some policy with regards to
grouping of providers just seemed to be wrong coupling.

So, this patch introduces a CandidateSearchContext object. This object
is constructed from a list of RequestGroup objects. Upon construction,
the request groups are inspected and a series of translation maps
created that allow individual components of a request group to be
queried. A CandidateSearchContext.group_search_context() method returns
a specialized RequestGroupSearchContext object that stores state for a
single granular request group.

The reasons I went with new objects, as opposed to modifying the
RequestGroup objects were two-fold. First, and most importantly, the
RequestGroup object is defined in the placement lib module and is
intended for both client and server use. The search context stuff is
only relevant on the server side. Secondly, I wanted to keep the
RequestGroup attribute as just that: stuff about the request for related
resources and traits. The RequestGroupSearchContext contains information
that is relevant to a particular filtering/fitness operation when we
search for particular allocation candidates that meet a particular
request group's constraints.

This allowed me to simplify the function signatures of a half dozen or
so module-level functions to just accept this RequestGroupSearchContext
object instead of the many dictish parameters.

This RequestGroupSearchContext object can be used to store various
pieces of state information as the allocation candidates are selected,
filtered, and merged depending on the group policy of the request
groups.  Information such as the ""anchor providers"" for a particular
resource provider included in a set of allocation request records is an
example of the kind of information that is relevant to a particular
iteration of the allocation candidate merging process but isn't relevant
or useful to return outside of the
AllocationCandidates.get_by_requests() interface. This patch doesn't
remove the AllocationRequest.use_same_provider or
AllocationRequest.anchor_provider_uuid fields but does provide the
groundwork for followup patches to address that.

Change-Id: I1d9bf27f49306032929274446cf3952bd42e4f8c
"
openstack%2Fnova~master~I765b783ac95ba6d6952218e1b3dbfcb45622fc74,openstack/nova,master,bp/websocket-proxy-to-host-security,I765b783ac95ba6d6952218e1b3dbfcb45622fc74,doc: Remove duplicate 'vnc' config opt descriptions,ABANDONED,2018-01-17 11:08:19.000000000,2018-10-05 13:39:41.000000000,,30,89,6,534724,0b4a35adb806659153250b3827d03618709bed08,17,9,2,1,15334,Stephen Finucane,sfinucan,"doc: Remove duplicate 'vnc' config opt descriptions

If these are not already out of date, they will be soon. Just refer to
the authoritative resource.

Change-Id: I765b783ac95ba6d6952218e1b3dbfcb45622fc74
"
openstack%2Fpbr~master~I2903089a07bdd2dc96437b9f65f2d2bba2741707,openstack/pbr,master,wheel-0.32.0-support,I2903089a07bdd2dc96437b9f65f2d2bba2741707,Support wheel 0.32.0+,MERGED,2018-10-04 10:21:52.000000000,2018-10-05 13:38:30.000000000,2018-10-05 13:38:30.000000000,6,5,11,607894,f14a3b2b73c6c95edbea8de799cf1df07decdf0e,17,8,1,3,15334,Stephen Finucane,sfinucan,"Support wheel 0.32.0+

Wheel 0.32.0 removed the 'wheel install' command [1] and, subsequently,
the 'wheel.install' module [2]. It also made 'WheelFile' a subclass of
'zipfile.ZipFile' rather than a wrapper [2] and deprecated the '[wheel]'
section of 'setup.cfg' in favour of '[bdist_wheel]'. Handle these
changes.

[1] https://github.com/pypa/wheel/commit/353217fb4
[2] https://github.com/pypa/wheel/commit/89492505b

Change-Id: I2903089a07bdd2dc96437b9f65f2d2bba2741707
"
openstack%2Fnova-specs~master~I774150d903448435012e0e2cc63b84fe00a1fce0,openstack/nova-specs,master,warnings-for-out-of-date-specs,I774150d903448435012e0e2cc63b84fe00a1fce0,"DNM! Make ""reproposals"" more obvious to readers",ABANDONED,2017-09-07 16:24:00.000000000,2018-10-05 13:37:02.000000000,,385,17,0,501797,5842cac72d2e04d69feb0a5610fe0285cb0c7dd2,6,0,2,31,15334,Stephen Finucane,sfinucan,"DNM! Make ""reproposals"" more obvious to readers

Specs are often considered a good reference guide for how a feature
works, and warrant some investment to ensure the spec corresponds to the
final implementation.

While we can generally update a spec after the feature is merged to
reflect the final merged reality, things get a little confusing when a
spec has been re-proposed one or more times.

We mitigate this by adding a warning to the top of all specs that have
been later supplanted by a new revision. We add a new file in
'specs/{release}', called 'reproposals' to track these and avoid
grepping every spec during every build. Finally, we add a test to
enforce this idea going forward.

Change-Id: I774150d903448435012e0e2cc63b84fe00a1fce0
---
This is incomplete because I have recorded files as having notes in them
even though the notes aren't there yet. I'll populate this slowly.
"
openstack%2Fnova~master~Ic171eafe6eee7b2d54f6a3de1bcd264cf0b80e27,openstack/nova,master,bug/1698010,Ic171eafe6eee7b2d54f6a3de1bcd264cf0b80e27,Store dns_domain value from neutron,ABANDONED,2017-07-05 16:59:20.000000000,2018-10-05 13:36:03.000000000,,14,9,7,480676,ed80a70f97fa111462038ed179d7074477b3ccf7,50,14,5,2,15334,Stephen Finucane,sfinucan,"Store dns_domain value from neutron

Neutron returns an optional 'dns_domain' value as part of a network
model. Start storing this in the meta field of
'nova.network.model.Network', which we will be able to use elsewhere
later.

Change-Id: Ic171eafe6eee7b2d54f6a3de1bcd264cf0b80e27
Partial-Bug: #1698010
"
openstack%2Fnova~stable%2Fpike~I1201db996ea6ceaebd49479b298d74585a78b006,openstack/nova,stable/pike,bug/1786058,I1201db996ea6ceaebd49479b298d74585a78b006,libvirt: Always escape IPv6 addresses when used in migration URI,ABANDONED,2018-09-19 12:43:41.000000000,2018-10-05 13:30:19.000000000,,67,15,0,603738,be4dbc3a3f6430326de798d0694a199742253a7b,8,6,1,3,10135,Lee Yarwood,lyarwood,"libvirt: Always escape IPv6 addresses when used in migration URI

If IPv6 is passed to URI it should be wrapped within square brackets.
This patch detects IPv6 to form migration URI properly. Domain name, IPv4 or
already bracketed IPv6 address will pass as is

Extend tests to include collapsed IPv6 addresses and IPv6 addresses with
port

Change-Id: I1201db996ea6ceaebd49479b298d74585a78b006
Closes-Bug: #1786058
(cherry picked from commit 8b019d6f1e7893a7e308bd79c879e94d3400e007)
(cherry picked from commit 7ee5499e5507c45249945fa5baf7665bc2f1cc02)
(cherry picked from commit 551a7a459c6503158cb4512fec8b2dc9c0641abe)
"
openstack%2Fnetworking-bgpvpn~stable%2Focata~I93aea1800b6403482a7e15116610efeed02c28a1,openstack/networking-bgpvpn,stable/ocata,python3-first,I93aea1800b6403482a7e15116610efeed02c28a1,"Fix check, gate and periodic jobs",MERGED,2018-08-27 18:24:45.000000000,2018-10-05 13:16:12.000000000,2018-10-05 13:16:12.000000000,1410,12,7,596852,99ab547770a9662ee63851f9ce13b908376a453a,50,8,8,8,17685,Elod Illes,elod.illes,"Fix check, gate and periodic jobs

This is a combination of 10 commits that are needed to have successful
check, gate and periodic stable job runs.

Note: All the tempest related fixes are due to the fact that we can't
pin the version of tempest that we are using, and hence need to adjust
things when tempest evolves.

1. Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to
pip.

Also some tests still needs networking-odl package to be installed, however
it is removed from the required-projects of networking-bgpvpn, so they
fails now. To fix this, the easiest solution is to add networking-odl
to .zuul.yaml on stable/* branch as required project.

2. Add networking-odl for periodic-stable jobs

periodic-stable jobs fail: networking-odl is required for jobs on queens
and older stable branches. From rocky, there is no tox_install.sh any
more, so this is not needed there.

3. (stestr change removed)

4. use networking-odl from pypi instead of git master

Two reasons:
- no point in tracking master, now that development is done
  on odl bgpvpn v2 driver, which does not sit in n8g-bgpvpn tree
- odl master is sometimes broken [1], which impacts our CI

[1] http://logs.openstack.org/70/470470/2/check/gate-networking-bgpvpn-dsvm-functional-ubuntu-xenial/febf152/console.html#_2017-06-05_12_56_21_302481

5. Speed up tox_install.sh

* When installing git repos into tox venv, there is no need to
  use full clone. Shallow clone like --depth 1 is sufficient.
  It speeds up tox venv creation.
* Fix import check for networking-bagpipe and networking-odl.
  Python module names use underscores instead of hyphens,
  so the current iport check always returns false.
  As a result, installation of these projects are run multiple times.
* Allow to specify GIT_BASE for local testing.
  Previously PIP_LOCATION exists, but the tox_install.sh installs
  four repositories so PIP_LOCATION actually cannot be used.

In my local env, the time to prepare tox env was reduced from 4m52s
to 2m39s for the first run and from 42s to 19s for the second run
or later (after applying the first two points above).

Note(elod.illes): some changes of tox_install.sh didn't seem trivial to
git so it needed some manual intervention...

Closes-Bug: 1716746

6. Change sourcing neutron l2 agent script for devstack

Source the l2 agent script only in case and in place where functions
from this are going to be used.

7. unbreak tempest tests

The initialization of the self.networks variable was missing.

I don't know yet why this wasn't showing up before, possibly
because the tempest test suite was not in CI before (?).

8. tempest: unbreak scenario test

The initialization of the self.subnets variable was missing.

I don't know yet why this wasn't showing up before, possibly
because the tempest test suite was not in CI before (?).

9. tempest: Switch to local copy of tempset/scenario/manager.py

The manager.py file was literally copied from
tempest as of today. [1]

tempest/scenario/manager.py is not a part of tempest stable
interface for plugins. [2]

This was suggested on openstack-dev as a preparation for
the coming refactoring in tempest. [3]

As tempest is branchless, this change needs to be backported
to all relevant stable branches.

[1] d184d619d7adc6ab60055884515055a7f3cf7770
[2] https://docs.openstack.org/developer/tempest/plugin.html#stable-tempest-apis-plugins-may-use
[3] http://lists.openstack.org/pipermail/openstack-dev/2017-February/112938.html

10. Register query hooks at BGPVPNPluginDb object creation

This change also modifies the expected exception raised in tempest
while testing a delete of a bgpvpn by a regular tenant :
the Forbidden exception is now raised instead of the NotFound one.

Note(elod.illes): only the exception change is cherry-picked from
this commit, the networking_bgpvpn/neutron/db/bgpvpn_db.py change
is skipped.

Closes-bug: 1685930

(cherry picked from commit ff84e5a105cdc8e70693bcb0a7b3e542d5b4f12d)
(cherry picked from commit d0c1a6b58267bb1e1346cfe35a61f5b57d9cc672)
(cherry picked from commit 8f576a2ccb2aa16ff1585b93c4fbb58247d209bd)
(cherry picked from commit 9c3494339cd5ee22b03f427fd8c2870335e7f900)
(cherry picked from commit 650c37b1429d262cf2bc26036828999fc0b38e7e)
(cherry picked from commit f24f9ce37f55d4a59f097064a80e8e46a7c20bc0)
(cherry picked from commit d6baa9cdde0548072b06a7d5147d1e53515cf628)
(cherry picked from commit fe90ea22d604ac3bc81a693e469796a65d84f98e)
(cherry picked from commit a62d8c64724fd0cc27ada7c4a91d2806bf87bb58)
(cherry picked from commit 0bb5a67dcf1bf103a8df321b861049515c946134)
(cherry picked from commit c7211ed718f9b18e186bc66eb460b1526dba40f2)

Change-Id: I93aea1800b6403482a7e15116610efeed02c28a1
"
openstack%2Fopenstack-chef~master~I57dd4f389ebce29b53e72ee038beddcd8f15be32,openstack/openstack-chef,master,python3-first,I57dd4f389ebce29b53e72ee038beddcd8f15be32,fix tox python3 overrides,MERGED,2018-09-29 23:52:12.000000000,2018-10-05 13:16:09.000000000,2018-10-05 13:16:09.000000000,2,0,0,606683,cb6c2a8ade96c649589229332245c696ed76604b,15,3,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I57dd4f389ebce29b53e72ee038beddcd8f15be32
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Ftempest-tripleo-ui~master~If85d0c902eada277bb95780d728a81e06fc9d86f,openstack/tempest-tripleo-ui,master,venv,If85d0c902eada277bb95780d728a81e06fc9d86f,Add venv testenv to tox.ini,MERGED,2018-10-05 12:21:32.000000000,2018-10-05 13:10:30.000000000,2018-10-05 12:58:22.000000000,6,0,0,608251,b95f916e0febd268d5960fbe91f88bcd88d41669,10,4,1,1,20970,Honza Pokorny,hpokorny,"Add venv testenv to tox.ini

This is required by the tox role run from python-tarball in the post ci job.

Change-Id: If85d0c902eada277bb95780d728a81e06fc9d86f
"
openstack%2Fbifrost~master~Iceb04d5285aa4fa7b2cff371ab22b0a011369028,openstack/bifrost,master,fix-mysql-ansible-265,Iceb04d5285aa4fa7b2cff371ab22b0a011369028,Fix deployment when using Ansible 2.6.5,MERGED,2018-10-02 20:16:06.000000000,2018-10-05 13:03:57.000000000,2018-10-05 13:03:57.000000000,21,0,0,607357,4fcba7f246df2a8db6c5371c66847a98323bc4e4,13,3,4,3,19578,Olivier Bourdon,olivierbourdon38,"Fix deployment when using Ansible 2.6.5

Due to a change of lower MySQL module from MySQLdb to
pymsql, Ansible calls to mysql_db and mysql_user
modules fail. See https://askubuntu.com/questions/\
766334/cant-login-as-mysql-user-root-from-normal-\
user-account-in-ubuntu-16-04
link for more information.

Change-Id: Iceb04d5285aa4fa7b2cff371ab22b0a011369028
"
openstack%2Fopenstacksdk~master~Ie3c94a8beaac67a6e0dfc129ea18e6817bc2b11e,openstack/openstacksdk,master,python3-first,Ie3c94a8beaac67a6e0dfc129ea18e6817bc2b11e,Split advanced networking services into a job,ABANDONED,2018-10-02 14:23:02.000000000,2018-10-05 12:57:51.000000000,,44,26,0,607199,5fa7354a69c8f0f55ebc16a41c1b4c644c2c7914,9,2,4,2,2,Monty Taylor,mordred,"Split advanced networking services into a job

We're hitting timeouts like crazy- maybe we're just running low on
resources. Split octavia and designate into their own job. Turn
swift off in that job.

Skip sdk layer dns functional tests when designate is not present. We
should refactor these to deal with both cases.

Change-Id: Ie3c94a8beaac67a6e0dfc129ea18e6817bc2b11e
"
openstack%2Fopenstacksdk~master~Idf36d78c524f60607dc166265a45db0c7226c0d8,openstack/openstacksdk,master,python3-first,Idf36d78c524f60607dc166265a45db0c7226c0d8,Bump the per-test timeout for functional tests,ABANDONED,2018-10-01 15:38:18.000000000,2018-10-05 12:57:36.000000000,,1,1,0,606980,fee42890b4db268ce074c8531562cf3e81023207,5,1,2,1,2,Monty Taylor,mordred,"Bump the per-test timeout for functional tests

We're getting killed here and it's expensive. I'm not crazy about longer
per-test timeouts, but let's see if this stablizes the gate enough that
we can actually figure out why things are running slow.

Change-Id: Idf36d78c524f60607dc166265a45db0c7226c0d8
"
openstack%2Fmonasca-persister~master~I480e75f6254735f3221fcc02f96086b037256c85,openstack/monasca-persister,master,,I480e75f6254735f3221fcc02f96086b037256c85,Turn logging down from DEBUG in persister-logging.conf,MERGED,2018-09-28 23:26:36.000000000,2018-10-05 12:57:21.000000000,2018-10-05 12:57:21.000000000,5,5,0,606219,bb8c8fbec93916100618f785ece02f4c88b4b775,9,4,1,1,10311,Joseph Davis,joadavis,"Turn logging down from DEBUG in persister-logging.conf

All the configurations for logging were set to DEBUG, which
creates a large amount of output to the console (especially from
monasca_common.kafka_lib) which in turn was captured by the
devstack screen session for the python tempest gate tests and
causing trouble with logstash indexing.
Turn the default devstack logging to a more reasonable INFO.

Change-Id: I480e75f6254735f3221fcc02f96086b037256c85
Story: 2003911
"
openstack%2Fcinder~master~I3ef59743f2a240a0a15452d9532ca18cf0f4dcab,openstack/cinder,master,privsep,I3ef59743f2a240a0a15452d9532ca18cf0f4dcab,Remove systool from rootwrap,MERGED,2018-09-29 18:18:03.000000000,2018-10-05 12:55:11.000000000,2018-10-02 16:57:16.000000000,0,1,0,606610,c03f3c891e6bf0cf4b97f57aca8c33615375f91b,45,33,1,1,24,Chuck Short,zulcss,"Remove systool from rootwrap

Remove systool from rootrwrap its no longer being used.

Change-Id: I3ef59743f2a240a0a15452d9532ca18cf0f4dcab
Signed-off-by: Chuck Short <chucks@redhat.com>
"
openstack%2Fnova~stable%2Focata~Ib323b74d4ea1e874b476ab5addfc6bc79cb7c751,openstack/nova,stable/ocata,bug/1645175,Ib323b74d4ea1e874b476ab5addfc6bc79cb7c751,Don't delete neutron port when attach failed,MERGED,2018-10-03 15:22:23.000000000,2018-10-05 12:50:20.000000000,2018-10-05 12:50:19.000000000,31,20,1,607614,cbf3b7c70331fc2a7e7fcf3fa2551d806000b967,11,8,1,4,17685,Elod Illes,elod.illes,"Don't delete neutron port when attach failed

Currently, when attaching neutron pre-existing
port to an instance, if the attach failed, it
will also be deleted in Neutron side due to
bad judgement of the who created the port by
reading not up-to-date info_cache.

The workflow starts at:
https://github.com/openstack/nova/blob/9ed0d6114/nova/network/neutronv2/api.py#L881
ordered_ports and preexisting_port_ids are
the same when attaching a preexisting port
to an instance and it calls
https://github.com/openstack/nova/blob/9ed0d6114/nova/network/base_api.py#L246
which calls back into the neutronv2 api code
https://github.com/openstack/nova/blob/9ed0d6114/nova/network/neutronv2/api.py#L1274
and at this point, compute_utils.refresh_info_cache_for_instance(context,
instance) won't have the newly attached port in it(see
debug log: http://paste.openstack.org/show/613232/)
because _build_network_info_model() is going to
process it. The instance obj in memoryt with old
info_cache will be used at rollback process and
causing the miss-judging.

This patch fixed it by updating instance.info_cache
to the new ic after it is created.

 Conflicts:
	doc/notification_samples/instance-shutdown-end.json

Co-Authored-By: huangtianhua@huawei.com
Change-Id: Ib323b74d4ea1e874b476ab5addfc6bc79cb7c751
closes-bug: #1645175
(cherry picked from commit 115cf068a6d48cdf8b0d20a3c5a779bb8120aa9b)
"
openstack%2Fnova~stable%2Focata~I6296cee6b8a4be1dd53c52f6290ebda926cf6465,openstack/nova,stable/ocata,bug/1673227,I6296cee6b8a4be1dd53c52f6290ebda926cf6465,Add check for invalid inventory amounts,MERGED,2018-10-02 16:59:52.000000000,2018-10-05 12:50:14.000000000,2018-10-05 12:50:13.000000000,94,9,0,607321,3eb967784bbe1c1668d22fdb8cee65dc2417103c,17,10,1,2,17685,Elod Illes,elod.illes,"Add check for invalid inventory amounts

This patch adds sane minimum and maximums to the fields for an inventory
posting, which will quickly return a 400 error if invalid values are
passed instead of proceeding, only to fail at the DB layer.

Conflicts:
	nova/tests/functional/api/openstack/placement/gabbits/inventory.yaml

Partial-Bug: #1673227

Change-Id: I6296cee6b8a4be1dd53c52f6290ebda926cf6465
(cherry picked from commit 0b2d7c4d028104d3a2a0d5851b194eface707ec3)
"
openstack%2Fnova~stable%2Focata~I2a8dc038d6489e82ad51fdc27d22cf0ab2d66322,openstack/nova,stable/ocata,bug/1673227,I2a8dc038d6489e82ad51fdc27d22cf0ab2d66322,Add check for invalid allocation amounts,MERGED,2018-10-02 16:59:52.000000000,2018-10-05 12:50:08.000000000,2018-10-05 12:50:08.000000000,30,1,0,607320,43ae6df96b85c0e008f575193511ebf28b195edd,11,8,1,2,17685,Elod Illes,elod.illes,"Add check for invalid allocation amounts

This patch adds a check for the amounts in allocations passed to the
placement API, and returns an error if any amount is not greater than
zero.

Partial-Bug: #1673227

Change-Id: I2a8dc038d6489e82ad51fdc27d22cf0ab2d66322
(cherry picked from commit 6a6d021f818d6145bd2cdc6431f95f40d8372d59)
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Fqueens~I3995d40535c60742f47f905c862482a9a2fea5ae,openstack/openstack-ansible-os_keystone,stable/queens,bug/1793389,I3995d40535c60742f47f905c862482a9a2fea5ae,Increase retries to mitigate intermittent failure,ABANDONED,2018-09-24 14:45:58.000000000,2018-10-05 12:48:52.000000000,,1,1,0,604804,39ef387ec1f6611f09e419810100300662a6d127,6,3,1,1,27926,Alex Redinger,rexredinger,"Increase retries to mitigate intermittent failure

Keystone seems to encounter an error on upgrades where the fetched
admin record is missing mfa options. With enough retries the record
is fetched correctly.

Change-Id: I3995d40535c60742f47f905c862482a9a2fea5ae
Closes-Bug: 1793389
"
openstack%2Foslo.config~master~Ie4897109c87d6dc2952c2eb35b83fe368fb31803,openstack/oslo.config,master,bug/1796163,Ie4897109c87d6dc2952c2eb35b83fe368fb31803,python3: Ensure ConfigOpts __iter__ uses list(d.keys()),MERGED,2018-10-04 19:35:55.000000000,2018-10-05 12:45:55.000000000,2018-10-05 12:45:55.000000000,2,1,0,608064,7ad146c48791bebee12fbdcdb1ac2427237343c3,10,3,1,1,11805,Corey Bryant,coreycb,"python3: Ensure ConfigOpts __iter__ uses list(d.keys())

d.keys() no longer returns a copy of the keys in Python 3.
This is part of PEP 3106.

Change-Id: Ie4897109c87d6dc2952c2eb35b83fe368fb31803
Closes-Bug: #1796163
"
openstack%2Fbifrost~master~I4ea97c574fa27b6a3639cbda5d129c9cd0ceb16a,openstack/bifrost,master,allow-setting-private-ip,I4ea97c574fa27b6a3639cbda5d129c9cd0ceb16a,Allow customization of internal endpoints IP address,MERGED,2018-10-03 09:28:21.000000000,2018-10-05 12:44:47.000000000,2018-10-05 12:44:47.000000000,30,3,0,607509,a13a599febaf55ad0df2a6728e933c5e012c5628,7,3,1,4,19578,Olivier Bourdon,olivierbourdon38,"Allow customization of internal endpoints IP address

This will replace the default 127.0.0.1 by say a potential
Ironic internal network IP address.

Change-Id: I4ea97c574fa27b6a3639cbda5d129c9cd0ceb16a
"
openstack%2Fgovernance~master~I26400d82543254d25eee75d2340027c1f45b4849,openstack/governance,master,code-change,I26400d82543254d25eee75d2340027c1f45b4849,"Fix ""Updated"" entry rendering in new theme",ABANDONED,2018-10-02 10:02:31.000000000,2018-10-05 12:38:43.000000000,,2,4,1,607141,def7902118657177d5d722e4f9d5ce3347ab49b9,6,4,1,1,308,Thierry Carrez,ttx,"Fix ""Updated"" entry rendering in new theme

The ""Updated"" entry was rendered in the new theme as:
Updated: b""'Mon Oct 1 11:47:10 2018, commit c93981c'""

This fixes it to look like:
Updated: Tue Oct 2 09:31:33 2018, commit 30c257b

Change-Id: I26400d82543254d25eee75d2340027c1f45b4849
"
openstack%2Fcharm-ceph-fs~master~Ida9fed2033b36ff8baaab19e3d9b708ac524ef16,openstack/charm-ceph-fs,master,bug/cs-timeout,Ida9fed2033b36ff8baaab19e3d9b708ac524ef16,Pass all CS_ vars to tox env to pickup timeout,MERGED,2018-09-20 11:17:50.000000000,2018-10-05 12:37:15.000000000,2018-10-05 12:37:15.000000000,1,1,0,604047,911c0b5bf608f259a432e05e966ed14f840d29ad,23,5,2,1,12549,gnuoy,gnuoy,"Pass all CS_ vars to tox env to pickup timeout

Change-Id: Ida9fed2033b36ff8baaab19e3d9b708ac524ef16
"
openstack%2Fproject-config~master~Id4ad82487de5885f6581c5e9d6772981771fb25d,openstack/project-config,master,python3-first,Id4ad82487de5885f6581c5e9d6772981771fb25d,remove job settings for OpenStackAnsible repositories,MERGED,2018-08-29 16:17:00.000000000,2018-10-05 12:35:08.000000000,2018-10-05 12:35:07.000000000,0,335,0,597576,e6931e8484f1554c7a9a843dca79818bf14826e7,13,4,2,1,2472,Doug Hellmann,doug-hellmann,"remove job settings for OpenStackAnsible repositories

This is a mechanically generated patch to remove the job settings that
have been migrated to the git repositories owned by the OpenStackAnsible team.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Id4ad82487de5885f6581c5e9d6772981771fb25d
Story: #2002586
Task: #24319
"
openstack%2Ftripleo-heat-templates~master~I3a042bfde6dc8b4a5c36c97112bf4324d2370b91,openstack/tripleo-heat-templates,master,podman/container,I3a042bfde6dc8b4a5c36c97112bf4324d2370b91,"Rename ""OS::TripleO::Services::Docker"" and ""OS::TripleO::Services::DockerRegistry""",ABANDONED,2018-09-13 09:48:17.000000000,2018-10-05 12:33:57.000000000,,83,83,2,602278,fbb91799348955d1c1669967d787653b6f996fe3,9,4,2,67,28223,Cedric Jeanneret,cjeanner,"Rename ""OS::TripleO::Services::Docker"" and ""OS::TripleO::Services::DockerRegistry""

Renaming those two resources to be more generic. As podman support is being added,
we'd rather avoid using ""docker"" name for ""generic"" parts that can concern, in fact,
any container technology.

Change-Id: I3a042bfde6dc8b4a5c36c97112bf4324d2370b91
"
openstack%2Fpython-keystoneclient~master~I53c95dfd73679653099df83400e18f9ba5c1def7,openstack/python-keystoneclient,master,update-zuul,I53c95dfd73679653099df83400e18f9ba5c1def7,Use templates for cover and lower-constraints,MERGED,2018-09-07 09:57:50.000000000,2018-10-05 12:12:00.000000000,2018-10-05 12:12:00.000000000,2,7,0,600692,f311819acf4449b7b77244cb5fb4205080a39b9a,9,3,2,1,6547,Andreas Jaeger,jaegerandi,"Use templates for cover and lower-constraints

Use openstack-tox-cover template, this runs the cover job as
non-voting in the check queue only.

Use openstack-lower-constraints-jobs template

Remove jobs that are part of the templates.

Change-Id: I53c95dfd73679653099df83400e18f9ba5c1def7
"
openstack%2Fmanila-tempest-plugin~master~Ifa5f5cf1be637f39de54b7f076c52294318bd3af,openstack/manila-tempest-plugin,master,test_ci_triggering,Ifa5f5cf1be637f39de54b7f076c52294318bd3af,[DNM] Testing Netapp CI Triggering,ABANDONED,2018-09-19 14:27:22.000000000,2018-10-05 12:07:44.000000000,,0,0,0,603817,03ef7342293ac1c2c46e60e329ad2ceb34e322bb,23,5,1,1,25186,Luiz Benedito Aidar Gavioli,luizbag,"[DNM] Testing Netapp CI Triggering

Change-Id: Ifa5f5cf1be637f39de54b7f076c52294318bd3af
"
openstack%2Fos-testr~master~Icbe96ac814025a5ec1f37a7c97a77eb8523ca5c8,openstack/os-testr,master,python3-first,Icbe96ac814025a5ec1f37a7c97a77eb8523ca5c8,fix tox python3 overrides,ABANDONED,2018-09-29 23:52:42.000000000,2018-10-05 11:56:37.000000000,,4,0,0,606695,7c87040ee56ffcfc6d6a84de67cacce9fd13a4f6,4,2,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Icbe96ac814025a5ec1f37a7c97a77eb8523ca5c8
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fopenstack-ansible-os_horizon~stable%2Focata~Ia9e5875db2d0c46f8e8b72e5d24fe65b49bcf4e4,openstack/openstack-ansible-os_horizon,stable/ocata,cleanup-role-tests,Ia9e5875db2d0c46f8e8b72e5d24fe65b49bcf4e4,"Revert ""Make functional job non-voting""",MERGED,2018-10-05 04:12:41.000000000,2018-10-05 11:56:34.000000000,2018-10-05 11:56:34.000000000,2,2,0,608158,91764ddeeb9eb096e2a52ff936b5e1ef0080ff5d,14,2,4,1,6547,Andreas Jaeger,jaegerandi,"Revert ""Make functional job non-voting""

This reverts change I830a57ed81a08b8929b3bd446d9c919a94e145f9.

Change-Id: Ia9e5875db2d0c46f8e8b72e5d24fe65b49bcf4e4
"
openstack%2Fpuppet-horizon~master~Ib632dca7f438b39e10903ff75ec2d8f9115cc520,openstack/puppet-horizon,master,create_role,Ib632dca7f438b39e10903ff75ec2d8f9115cc520,"Fix ""create role"" button in identity/roles",MERGED,2018-09-21 10:54:51.000000000,2018-10-05 11:54:52.000000000,2018-10-01 17:05:53.000000000,2,1,0,604329,1e8909e4c50f71d460cbec8d826ec48e744fcc62,9,12,1,1,8648,Radomir Dopieralski,thesheep,"Fix ""create role"" button in identity/roles

Since the identity/roles view now uses angular, the
'OPENSTACK_KEYSTONE_BACKEND' value needs to be added to the
REST_API_REQUIRED_SETTINGS setting for it to work properly,
as per https://review.openstack.org/#/c/579085/

Change-Id: Ib632dca7f438b39e10903ff75ec2d8f9115cc520
"
openstack%2Fpuppet-cinder~master~Ie50e29bd96471110a3738e3fcccfb8af37cd31be,openstack/puppet-cinder,master,dell_multipath_conf,Ie50e29bd96471110a3738e3fcccfb8af37cd31be,Dell EMC SC: Add use_multipath_for_image_xfer,MERGED,2018-09-27 19:29:34.000000000,2018-10-05 11:40:14.000000000,2018-10-05 11:40:14.000000000,53,38,2,605848,72035c5e3ca46c37798da2f894ff55e6fc62950f,17,5,3,3,10379,Rajini Karthik,rajinir,"Dell EMC SC: Add use_multipath_for_image_xfer

This change implements the documented best practice to use multipath
with a Cinder deployment by setting a Cinder configuration setting
to ensure that multipath is appropriately used by the Dell EMC
SC iSCSI driver.

Change-Id: Ie50e29bd96471110a3738e3fcccfb8af37cd31be
"
openstack%2Fkeystonemiddleware~master~Ie4b3319862ba7fbd329dc6883ce837e894d5270c,openstack/keystonemiddleware,master,delay_auth_decision-better,Ie4b3319862ba7fbd329dc6883ce837e894d5270c,Respect delay_auth_decision when Keystone is unavailable,MERGED,2018-09-07 20:37:50.000000000,2018-10-05 11:36:19.000000000,2018-10-05 11:36:19.000000000,80,0,6,600862,da5932affc253a8b50ba753c6f9fabde68410501,17,4,4,3,15343,Tim Burke,tburke,"Respect delay_auth_decision when Keystone is unavailable

The delay_auth_decision option has two main uses:

  1. Allow a service to provide its own auth mechanism, separate from
     auth tokens (like Swift's tempurl middleware).
  2. Allow a service to integrate with multiple auth middlewares which
     may want to use the same X-Auth-Token header.

The first case works fine even when the service has trouble talking to
Keystone -- the client doesn't send an X-Auth-Token header, so we never
even attempt to contact Keystone.

The second case can be problematic, however. The client will provide
some token, and we don't know whether it's valid for Keystone, the other
auth system, or neither. We have to *try* contacting Keystone, but if
that was down we'd previously return a 503 without ever trying the other
auth system. As a result, a Keystone failure results in a total system
failure.

Now, when delay_auth_decision is True and we cannot determine whether a
token is valid or invalid, we'll instead declare the token invalid and
defer the rejection. As a result, Keystone failures only affect Keystone
users, and tokens issued by the other auth system may still be validated
and used.

Change-Id: Ie4b3319862ba7fbd329dc6883ce837e894d5270c
"
openstack%2Fopenstack-ansible-os_horizon~stable%2Focata~Ic04b818ab8ebbf4f4baa904dc45d350335e87dfe,openstack/openstack-ansible-os_horizon,stable/ocata,cleanup-role-tests,Ic04b818ab8ebbf4f4baa904dc45d350335e87dfe,"role tests: Build horizon from stable/ocata, not master",MERGED,2018-10-04 17:17:49.000000000,2018-10-05 11:36:17.000000000,2018-10-05 11:36:17.000000000,0,21,0,608035,56f7af157deed0c05141dd54cd7d3b0e2f8120d2,14,4,3,2,6816,Jesse Pretorius,jesse-pretorius,"role tests: Build horizon from stable/ocata, not master

Currently the overrides set the role test to build horizon master,
rather than to use the defaults in the role. This is not what is
supposed to happen and master's requirements are incompatible with
ocata's upper-constraints, so it fails.

Also, it seems that the tempest tests aren't working for this combo
of tempest and the tempest plugins. Given that ocata is in extended
maintenance, it should be OK to remove the tempest testing and simply
test the convergence.

Change-Id: Ic04b818ab8ebbf4f4baa904dc45d350335e87dfe
"
openstack%2Ftempest-tripleo-ui~master~I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d,openstack/tempest-tripleo-ui,master,bp/automated-ui-testing,I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d,Add basic project structure,MERGED,2018-06-15 13:14:04.000000000,2018-10-05 11:21:28.000000000,2018-10-05 11:21:28.000000000,721,1,18,575730,a0fc5efc88ea78e76ff6646f73829fb553c6368c,50,10,14,21,20970,Honza Pokorny,hpokorny,"Add basic project structure

Change-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d
Implements: blueprint automated-ui-testing
"
openstack%2Fmanila~master~If3b6a274dab0d035b9666b3b9876604cefbc2877,openstack/manila,master,bug/1790470,If3b6a274dab0d035b9666b3b9876604cefbc2877,Remove run_tests.sh,MERGED,2018-10-03 21:50:55.000000000,2018-10-05 11:13:48.000000000,2018-10-04 21:44:25.000000000,67,138,2,607724,772a64a8717461495cc3a26d49f9fb848a61edf2,30,14,2,6,9003,Tom Barron,tbarron,"Remove run_tests.sh

It is deprecated in favor of tox.

Closes-Bug: #1790470
Change-Id: If3b6a274dab0d035b9666b3b9876604cefbc2877
"
openstack%2Fnova~stable%2Focata~I1201db996ea6ceaebd49479b298d74585a78b006,openstack/nova,stable/ocata,bug/1786058,I1201db996ea6ceaebd49479b298d74585a78b006,libvirt: Always escape IPv6 addresses when used in migration URI,ABANDONED,2018-09-19 12:44:06.000000000,2018-10-05 11:02:26.000000000,,67,15,0,603740,15ed4b556199e472c94825f6b0dc8b067be19570,7,6,1,3,10135,Lee Yarwood,lyarwood,"libvirt: Always escape IPv6 addresses when used in migration URI

If IPv6 is passed to URI it should be wrapped within square brackets.
This patch detects IPv6 to form migration URI properly. Domain name, IPv4 or
already bracketed IPv6 address will pass as is

Extend tests to include collapsed IPv6 addresses and IPv6 addresses with
port

Change-Id: I1201db996ea6ceaebd49479b298d74585a78b006
Closes-Bug: #1786058
(cherry picked from commit 8b019d6f1e7893a7e308bd79c879e94d3400e007)
(cherry picked from commit 7ee5499e5507c45249945fa5baf7665bc2f1cc02)
(cherry picked from commit 551a7a459c6503158cb4512fec8b2dc9c0641abe)
(cherry picked from commit be4dbc3a3f6430326de798d0694a199742253a7b)
"
openstack%2Fcharm-neutron-openvswitch~stable%2F18.08~I2964046bc8681fa870d61c6cd23b6ad6fee47bf4,openstack/charm-neutron-openvswitch,stable/18.08,bug/1792414,I2964046bc8681fa870d61c6cd23b6ad6fee47bf4,Misc updates for DPDK support,MERGED,2018-09-09 07:03:42.000000000,2018-10-05 10:33:37.000000000,2018-10-05 10:33:37.000000000,246,84,0,601048,f4f4648175c03405be3e8dd1315e91fc1359a757,18,4,2,9,935,James Page,james-page,"Misc updates for DPDK support

Fix use of OVS DPDK context by direct use of methods on context
for OVS table values.

For modern OVS versions that require the PCI address of the
DPDK device for type=dpdk ports, use a hash of the PCI address
for the port name rather than the index of the PCI device in
the current list of devices to use; this is idempotent in the
event that the configuration changes and new devices appear
in the list of devices to use for DPDK.

Only set OVS table values if the value has changed; OVS will
try to re-allocate hugepage memory, irrespective as to whether
the table value actually changed.

Switch to using /run/libvirt-vhost-user for libvirt created DPDK
sockets, allowing libvirt to directly create the socket as part
of instance creation; Use systemd-tmpfiles to ensure that the
vhost-user subdirectory is re-created on boot with the correct
permissions.

Scan data-port and dpdk-bond-mappings for PCI devices to use
for DPDK to avoid having to replicate all PCI devices in data-port
configuration when DPDK bonds are in use.

(cherry picked from commit 96c1788e94d15600386a375a774ac854ba589331)

Gate install of tmpfiles configuration

The vhost-user tmpfiles configuration is only applicable in deployments
using libvirt/kvm with nova-compute.

Ensure appropriate user and group exists before installing tmpfiles.d
configuration.

Closes-Bug: 1792414
(cherry picked from commit 3b72caa0310389ddf4c125fff0cf73a54b16a574)

Change-Id: I2964046bc8681fa870d61c6cd23b6ad6fee47bf4
"
openstack%2Fopenstack-ansible-os_ceilometer~master~I148ccaff9576b09d33d889b79963e88ca84d2ffe,openstack/openstack-ansible-os_ceilometer,master,bug/1794688,I148ccaff9576b09d33d889b79963e88ca84d2ffe,Fix of oslomsg undefined variables for services notifications,MERGED,2018-10-03 17:12:28.000000000,2018-10-05 10:23:28.000000000,2018-10-05 10:23:28.000000000,92,21,0,607653,1128c21955ce9502b69fea8c26e06ee82bc19cf9,13,4,2,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix of oslomsg undefined variables for services notifications

A buch of defaults oslomsg related variables were configured.
In case of enabling ceilometer for services, role failed unless
all required vars has been specified manually by deployer.

Also vars ceilometer_oslomsg_rpc_servers
and ceilometer_oslomsg_notify_servers were removed
They were not used anywhere except ceilometer.conf.j2
and might be easily replaced with host_group vars.
Their removal allowed to simplify macros.

Fixed distro_install functional test for ubuntu,
as ceilometer-agent-notification package was missing.

Change-Id: I148ccaff9576b09d33d889b79963e88ca84d2ffe
Closes-Bug: 1794688
"
openstack%2Fopenstack-zuul-jobs~master~I0f47ade2495e78c17222dc1dde71d7b9662bfef2,openstack/openstack-zuul-jobs,master,,I0f47ade2495e78c17222dc1dde71d7b9662bfef2,Remove legacy-centos-7-2-node nodeset,MERGED,2018-08-13 17:20:14.000000000,2018-10-05 10:06:37.000000000,2018-08-13 17:46:36.000000000,0,12,0,591466,50ae1e2243d3dfd57265f8cccd3055f95a62284d,11,3,1,1,4162,Paul Belanger,pabelanger,"Remove legacy-centos-7-2-node nodeset

According to codesearch.o.o we have no jobs using this nodeset, remove
it.

Change-Id: I0f47ade2495e78c17222dc1dde71d7b9662bfef2
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Fcompute-hyperv~stable%2Frocky~Ie28c6e6d72f679afc0db43dbe1a57922d20d4ec0,openstack/compute-hyperv,stable/rocky,,Ie28c6e6d72f679afc0db43dbe1a57922d20d4ec0,Update UPPER_CONSTRAINTS_FILE for stable/rocky,ABANDONED,2018-10-03 12:46:03.000000000,2018-10-05 10:06:25.000000000,,1,1,0,607552,0f466f2fc70812d4fde105c10efefc0fedea408f,3,1,1,1,8213,Claudiu Belu,claudiub,"Update UPPER_CONSTRAINTS_FILE for stable/rocky

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Ie28c6e6d72f679afc0db43dbe1a57922d20d4ec0
"
openstack%2Fnova~stable%2Fqueens~Ic5c41493dcdcd807209be2beaae0dbbdf5d2ba3f,openstack/nova,stable/queens,bug/1785827,Ic5c41493dcdcd807209be2beaae0dbbdf5d2ba3f,libvirt: Use os.stat and os.path.getsize for RAW disk inspection,MERGED,2018-09-21 08:37:18.000000000,2018-10-05 10:03:47.000000000,2018-10-05 10:03:46.000000000,73,54,0,604295,b58805753ab54e02d8377ba80c740eebe7a34ddd,23,12,1,2,9373,Vlad Gusev,s10,"libvirt: Use os.stat and os.path.getsize for RAW disk inspection

At present when inspecting a file based image we always use ``qemu-img`` to
determine the virtual size of the image. This works well but can lead to
the resource tracker taking considerable time to update on hosts with
a large number of instances/images.

This change switches to using os.stat and os.path.getsize to determine
the allocated and virtual disk sizes of RAW disks.

Future changes will look into caching the virtual size of the disk
within disk.info locally on the host to also improve this for qcow2 and
ploop, further simplifying this code path.

Closes-bug: #1785827
Change-Id: Ic5c41493dcdcd807209be2beaae0dbbdf5d2ba3f
(cherry picked from commit e6af812865553fbc49114a419170693ff15d5545)
(cherry picked from commit bda6173a8430c3bb83f52195d4ffd0bfee050e19)
"
openstack%2Fcompute-hyperv~stable%2Frocky~I0fa03ffa83978787726c983f69560bba79ece7ba,openstack/compute-hyperv,stable/rocky,,I0fa03ffa83978787726c983f69560bba79ece7ba,"Revert ""Switch nova uuidsentinel with oslo_utils' uuidsentinel""",MERGED,2018-10-03 16:22:12.000000000,2018-10-05 10:00:52.000000000,2018-10-05 10:00:52.000000000,4,4,0,607630,5a3a42d0373f1698429249ecaee895146478983a,11,2,3,2,8213,Claudiu Belu,claudiub,"Revert ""Switch nova uuidsentinel with oslo_utils' uuidsentinel""

This reverts commit 87fdd92f3d4bcc9d98ac1da20c5c1dcb0ddb5f81. The
changes were not made in Rocky.

Updates UPPER_CONSTRAINTS_FILE for stable/rocky

Additionally, sets the nova dependency branch to stable/rocky.

Change-Id: I0fa03ffa83978787726c983f69560bba79ece7ba
"
openstack%2Fopenstack-ansible-os_horizon~stable%2Focata~I6a3a6018d7b550d85834479cb0a973e977f19e38,openstack/openstack-ansible-os_horizon,stable/ocata,openstack/openstack-ansible-tests/sync-tests,I6a3a6018d7b550d85834479cb0a973e977f19e38,Updated from OpenStack Ansible Tests,MERGED,2018-09-13 11:13:44.000000000,2018-10-05 10:00:47.000000000,2018-10-05 10:00:47.000000000,1,1,0,602308,a2b2c3d4fc0c890c5c64176752957effa7fa8571,10,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I6a3a6018d7b550d85834479cb0a973e977f19e38
"
openstack%2Fcookbook-openstack-compute~master~I07aeb7617ca152f66ec239cef4bcbef642c66bf7,openstack/cookbook-openstack-compute,master,conf_space,I07aeb7617ca152f66ec239cef4bcbef642c66bf7,Make nova.conf more readable,MERGED,2018-10-02 14:53:49.000000000,2018-10-05 09:58:50.000000000,2018-10-04 22:34:22.000000000,3,14,0,607245,55b58702faaf08a1a3ab2cb5203cfc078582a353,11,3,2,2,11109,Roger Luethi,rluethi,"Make nova.conf more readable

This patch replaces nova.conf.erb with openstack-service.conf.erb from
the openstack-common cookbook.

Besides removing some redundancy, it also makes nova.conf more readable
(due to a fix to openstack-service.conf.erb that never made it to
nova.conf.erb).

backport: queens pike

Change-Id: I07aeb7617ca152f66ec239cef4bcbef642c66bf7
"
openstack%2Fcookbook-openstack-compute~master~I0ff8202455b576227b882670c7254487b5e11f25,openstack/cookbook-openstack-compute,master,www_auth,I0ff8202455b576227b882670c7254487b5e11f25,Add www_authenticate_uri to keystone_authtoken,MERGED,2018-10-02 15:03:54.000000000,2018-10-05 09:58:14.000000000,2018-10-05 08:59:33.000000000,1,0,0,607282,7053785ecf736dfd5ea022446d1a99df9e56f604,10,4,1,1,11109,Roger Luethi,rluethi,"Add www_authenticate_uri to keystone_authtoken

Without www_authenticate_uri set, nova logs contain warnings:

WARNING keystonemiddleware.auth_token
        Configuring www_authenticate_uri to point to the public identity
        endpoint is required; clients may not be able to authenticate
        against an admin endpoint

backport: queens

Change-Id: I0ff8202455b576227b882670c7254487b5e11f25
"
openstack%2Fhorizon~master~I66e893ac3f9bd5980639ff057ba5476e14876639,openstack/horizon,master,zanata/translations,I66e893ac3f9bd5980639ff057ba5476e14876639,Imported Translations from Zanata,MERGED,2018-10-05 07:30:46.000000000,2018-10-05 09:50:08.000000000,2018-10-05 09:50:08.000000000,4,4,0,608172,a951f8eb6f2313c8c16f55d49a375bebae8d118c,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I66e893ac3f9bd5980639ff057ba5476e14876639
"
openstack%2Fpuppet-cloudkitty~master~If77dc18500e52350e9de9771e2ea84d2c2ceaf44,openstack/puppet-cloudkitty,master,,If77dc18500e52350e9de9771e2ea84d2c2ceaf44,build universal wheels,ABANDONED,2018-10-04 01:37:13.000000000,2018-10-05 09:40:08.000000000,,0,13,0,607749,b870be8f6f31ca702d7a7d541d473fb38f178243,7,1,2,1,28543,shupeng,Vieri,"build universal wheels

By default setuptools produces a version-specific wheel file so
installation under other versions of Python require extra work at
install time. This change turns on ""universal"" wheel support, so that
the wheel file will be marked as supporting both Python 2 and 3.

Change-Id: If77dc18500e52350e9de9771e2ea84d2c2ceaf44
"
openstack%2Fpython-freezerclient~master~I3d93a961066c00879241e28552d16101414ab789,openstack/python-freezerclient,master,ut_patch_jobs,I3d93a961066c00879241e28552d16101414ab789,Add 'freezerclient.v2.managers.jobs' unit test cases,MERGED,2018-10-05 01:25:45.000000000,2018-10-05 09:40:00.000000000,2018-10-05 09:40:00.000000000,273,0,0,608119,57f3fa1c9653bf0ed717eb67dfd2fc36c263fc68,7,2,1,1,21069,Carl caihui,caihui,"Add 'freezerclient.v2.managers.jobs' unit test cases

Add 'freezerclient.v2.managers.jobs' unit test cases.

Change-Id: I3d93a961066c00879241e28552d16101414ab789
"
openstack%2Fopenstack-manuals~master~I6835e7dbceb9b338270364e144723c1c29760ee3,openstack/openstack-manuals,master,bug/1796241,I6835e7dbceb9b338270364e144723c1c29760ee3,[WIP] Add note for the host naming guideline,ABANDONED,2018-10-05 09:34:51.000000000,2018-10-05 09:37:05.000000000,,12,0,0,608194,ac6cd26f15018602028362931c830058338418fe,2,0,1,1,19853,Nguyen Hung Phuong,phuongnh,"[WIP] Add note for the host naming guideline

While following installation guide, I got trouble while installing
Neutron service. Follow the log[1], it looked like oslo config
has raised error while getting host name to be used by the
Neutron server[2]. The hostname in this case is ""aA1-"" and I use
Ubuntu 16-04 for deploying.

[1] https://pasteboard.co/HH0p9zq.jpg
[2] https://github.com/openstack/neutron/blob/master/neutron/conf/common.py#L94

Change-Id: I6835e7dbceb9b338270364e144723c1c29760ee3
Closes-Bug: #1796241
"
openstack%2Fpython-freezerclient~master~I933d6d9e72d97563136b3f716949024b4fb6deaf,openstack/python-freezerclient,master,,I933d6d9e72d97563136b3f716949024b4fb6deaf,Add 'freezerclient.v2.managers.sessions' unit test cases,MERGED,2018-10-03 13:41:06.000000000,2018-10-05 09:36:18.000000000,2018-10-05 09:36:17.000000000,258,0,0,607572,f20f7e9af619f314c84ec7c7df50baba618f4325,8,3,1,1,21069,Carl caihui,caihui,"Add 'freezerclient.v2.managers.sessions' unit test cases

Add 'freezerclient.v2.managers.sessions' unit test cases

Change-Id: I933d6d9e72d97563136b3f716949024b4fb6deaf
"
openstack%2Fwatcher~master~I89a9c7661616f49639151869055d8f5ebe723d5f,openstack/watcher,master,bug/1794233,I89a9c7661616f49639151869055d8f5ebe723d5f,Fix audit creation with named goal and strategy,MERGED,2018-09-25 10:46:53.000000000,2018-10-05 09:34:05.000000000,2018-10-05 09:34:05.000000000,127,92,3,605036,7cb81ac6c5b9d657aa46a37c01de82bacc6bc400,10,6,1,3,19055,Alexander Chadin,joker946,"Fix audit creation with named goal and strategy

This patch set fixes process of audit creation and
allows to create audit without Audit Template using only
names of Goal and Strategy. It also provides some additional
unit tests to improve tests covering.

Change-Id: I89a9c7661616f49639151869055d8f5ebe723d5f
Closes-Bug: #1794233
"
openstack%2Foslo.limit~master~Ie496a5540e4ede74faba89b268d4ec00f8182add,openstack/oslo.limit,master,bug/1790931,Ie496a5540e4ede74faba89b268d4ec00f8182add,Use openstackdocstheme for documentation,MERGED,2018-09-07 21:17:25.000000000,2018-10-05 09:30:58.000000000,2018-10-05 09:30:58.000000000,2,0,2,600866,03c58744225ef47175ec653072941ff0b2a4a716,19,9,3,1,5046,Lance Bragstad,ldbragst,"Use openstackdocstheme for documentation

Let's be consistent with the rest of the oslo libraries and use the
openstack docs theme for documentation.

Change-Id: Ie496a5540e4ede74faba89b268d4ec00f8182add
"
openstack%2Fkuryr-kubernetes~master~I571644b0c87ed21d3243daf7816fe47753c3e5ee,openstack/kuryr-kubernetes,master,bug/1796122,I571644b0c87ed21d3243daf7816fe47753c3e5ee,Update kuryr-controller ClusterRole RBAC,ABANDONED,2018-10-04 15:46:51.000000000,2018-10-05 09:29:37.000000000,,17,2,0,607994,341823837a40f00296becb3dca942e5746eab7aa,3,1,1,1,11600,Michał Dulko,dulek,"Update kuryr-controller ClusterRole RBAC

This commit updates APIs and actions listed in kuryr-controller
ClusterRole to include some resources required by new features.
Without this we wouldn't be able to access them in containerized
deployments.

Also two unused resources are removed.

Change-Id: I571644b0c87ed21d3243daf7816fe47753c3e5ee
Closes-Bug: 1796122
"
openstack%2Fbifrost~master~I190530e8e3b5a1e3062a670e40a29417d94c1963,openstack/bifrost,master,bifrost-add-leap-150,I190530e8e3b5a1e3062a670e40a29417d94c1963,roles: bifrost-ironic-install: Make epmd listen to all addresses on SUSE,MERGED,2018-10-03 14:16:08.000000000,2018-10-05 09:28:14.000000000,2018-10-05 09:28:14.000000000,19,7,2,607583,ceb7d9019b64e28e3fe672d54cec46491a5f4d39,8,4,1,1,23163,Markos Chandras (hwoarang),mchandras,"roles: bifrost-ironic-install: Make epmd listen to all addresses on SUSE

epmd on SUSE only listens on the localhost address leading to
rabbitmq-server failures when it listens to multiple addresses. We can
fix that by overriding the default ListenStream option in the
epmd.socket unit file to listen to all addresses.

Change-Id: I190530e8e3b5a1e3062a670e40a29417d94c1963
Link: https://bugzilla.suse.com/show_bug.cgi?id=1003085
"
openstack%2Fkeystone-specs~master~I8f4db75f30021fca61f7c073018a533b02316ece,openstack/keystone-specs,master,python3-first,I8f4db75f30021fca61f7c073018a533b02316ece,fix tox python3 overrides,MERGED,2018-09-29 23:50:20.000000000,2018-10-05 09:28:06.000000000,2018-10-05 09:28:06.000000000,2,0,0,606643,f7ba190639ee0e6f14ec3b8f4845fd5738144b7f,7,3,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I8f4db75f30021fca61f7c073018a533b02316ece
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fcharm-nova-cloud-controller~stable%2F18.08~I852f24b21784f6de05232107a5cdf6e779f18b23,openstack/charm-nova-cloud-controller,stable/18.08,stable/add-refstack-filters,I852f24b21784f6de05232107a5cdf6e779f18b23,"Enable {Different,Same}HostFilter",MERGED,2018-10-01 09:17:14.000000000,2018-10-05 09:27:50.000000000,2018-10-05 09:27:50.000000000,1,1,0,606916,b61cb225ab18ace6cf3a421d6476c0f787de329a,30,5,5,1,935,James Page,james-page,"Enable {Different,Same}HostFilter

The SameHostFilter and DifferentHostFilter have been present in Nova
since Icehouse; add both of these simple filters to the default
enabled filters to provide simple affinity/anti-affinity hints.

This plugs some holes in our tempest test coverage as tests relating
to these features are currently disabled.

Change-Id: I852f24b21784f6de05232107a5cdf6e779f18b23
(cherry picked from commit d3a843ea4caa467df1c2a280ba7a7b6f134e1faa)
"
openstack%2Fcharm-nova-cloud-controller~stable%2F18.08~Ic99d841b4a69f6ce5d26fe081f8abf70d105c113,openstack/charm-nova-cloud-controller,stable/18.08,stable/add-refstack-filters,Ic99d841b4a69f6ce5d26fe081f8abf70d105c113,rocky: resolve issues with live migration,MERGED,2018-10-01 09:17:14.000000000,2018-10-05 09:27:50.000000000,2018-10-05 09:27:50.000000000,14,2,0,606915,687882240340a5cd74734b973af35aa7fa87db1a,15,4,3,1,935,James Page,james-page,"rocky: resolve issues with live migration

Add requires keystone access and authentication details, resolving
issues with live migration @ rocky.

Change-Id: Ic99d841b4a69f6ce5d26fe081f8abf70d105c113
Closes-Bug: 1794697
(cherry picked from commit 74161785a2023706ce19efab5dc47aa2c1d5b6e2)
"
openstack%2Frpm-packaging~master~Ic682406d05ea8d87eae749057f360ab808f290ec,openstack/rpm-packaging,master,tempestconf,Ic682406d05ea8d87eae749057f360ab808f290ec,Add initial spec for python-tempestconf,MERGED,2018-08-30 12:22:19.000000000,2018-10-05 09:25:31.000000000,2018-10-05 09:25:31.000000000,108,0,12,598143,efe677a8419e1bc684fa11d8a6e643d7b9402d5a,141,13,34,1,8367,Arx Cruz,arxcruz,"Add initial spec for python-tempestconf

Co-authored-by: Chandan Kumar <chkumar@redhat.com>

Change-Id: Ic682406d05ea8d87eae749057f360ab808f290ec
"
openstack%2Fcharm-openvswitch-odl~master~I37b3abbf6bc9b7c0a859d7cc7e9af706072a0422,openstack/charm-openvswitch-odl,master,update-reqs,I37b3abbf6bc9b7c0a859d7cc7e9af706072a0422,Update requirements,MERGED,2018-10-04 21:22:36.000000000,2018-10-05 09:15:09.000000000,2018-10-05 09:15:09.000000000,26,26,0,608090,fdb32222a891baa4eb34891c4517e3b59b56020a,7,3,1,3,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I37b3abbf6bc9b7c0a859d7cc7e9af706072a0422
"
openstack%2Fcharm-neutron-api-odl~master~Ief725b4464c3fa4fb17b60ecd3680c7e55305a9c,openstack/charm-neutron-api-odl,master,update-reqs,Ief725b4464c3fa4fb17b60ecd3680c7e55305a9c,Update requirements,MERGED,2018-10-04 21:22:19.000000000,2018-10-05 09:14:08.000000000,2018-10-05 09:14:08.000000000,26,25,0,608088,1588111de8278ad9aa57377126a3bd79d90e6dc4,7,3,1,3,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: Ief725b4464c3fa4fb17b60ecd3680c7e55305a9c
"
openstack%2Fcharm-vault~master~Ibfa428c1a9f2d881faec6c1193fcf33612693f12,openstack/charm-vault,master,update-reqs,Ibfa428c1a9f2d881faec6c1193fcf33612693f12,Update requirements,MERGED,2018-10-03 21:22:53.000000000,2018-10-05 09:12:49.000000000,2018-10-05 09:12:49.000000000,15,11,0,607720,6990332bd970bf80d2c741fd3ef8bc31a5066d00,13,4,2,3,20635,Ryan Beisner,ryan-beisner,"Update requirements

Resolve existing lint.

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: Ibfa428c1a9f2d881faec6c1193fcf33612693f12
"
openstack%2Fcharm-heat~master~Id143b48d67b86ee3e8b90a2916c69f41d21d0c08,openstack/charm-heat,master,update-reqs,Id143b48d67b86ee3e8b90a2916c69f41d21d0c08,Update requirements,MERGED,2018-10-03 16:41:25.000000000,2018-10-05 09:11:47.000000000,2018-10-05 09:11:46.000000000,4,7433,0,607646,39e662471c3d459c90438f8062a72ebdbffc593d,11,4,1,33,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: Id143b48d67b86ee3e8b90a2916c69f41d21d0c08
"
openstack%2Fcharm-cinder-backup~master~If395bcf3f24c350c85ca0c4e169903f7ab38ce46,openstack/charm-cinder-backup,master,update-reqs,If395bcf3f24c350c85ca0c4e169903f7ab38ce46,Update requirements,MERGED,2018-10-03 16:40:46.000000000,2018-10-05 09:10:49.000000000,2018-10-05 09:10:49.000000000,6,7435,0,607641,149bed44e4cb38ec79d022c4b501e623033e4978,15,4,1,33,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: If395bcf3f24c350c85ca0c4e169903f7ab38ce46
"
openstack%2Fcharm-odl-controller~master~Iad02c5831a187e6d50cc6c570c465afff9fab1b6,openstack/charm-odl-controller,master,update-reqs,Iad02c5831a187e6d50cc6c570c465afff9fab1b6,Update requirements,MERGED,2018-10-04 21:22:29.000000000,2018-10-05 09:09:43.000000000,2018-10-05 09:09:43.000000000,19,7370,0,608089,9c8238f6f6e6b2405ddc0180f79d8ac6d895cbbd,7,3,1,33,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: Iad02c5831a187e6d50cc6c570c465afff9fab1b6
"
openstack%2Fcookbook-openstack-compute~master~I47f8451b830892ff0b2d85a553cfe31b8deec1b0,openstack/cookbook-openstack-compute,master,region_name,I47f8451b830892ff0b2d85a553cfe31b8deec1b0,placement: os_region_name -> region_name,MERGED,2018-10-02 14:59:44.000000000,2018-10-05 09:06:12.000000000,2018-10-05 09:06:11.000000000,2,2,0,607279,dca0587ce9f75e9c276f875d8806de8099dce8de,9,4,1,2,11109,Roger Luethi,rluethi,"placement: os_region_name -> region_name

Source:
* openstack/nova git repo:
  Update the deprecate os_region_name option
  Change-Id: Id44d456bb1bdb0c5564ad4f5d9cdee2f41226052
  commit d163fb6d697d74ea93ffc394187871a3a8c4ccd8

backport: queens

Change-Id: I47f8451b830892ff0b2d85a553cfe31b8deec1b0
"
openstack%2Fcookbook-openstack-compute~master~I3953195b1f8c7f166b89c7ea7ce7994bcd3c0461,openstack/cookbook-openstack-compute,master,vncserver,I3953195b1f8c7f166b89c7ea7ce7994bcd3c0461,Rename attributes: vncserver_* -> server_*,MERGED,2018-10-02 15:10:45.000000000,2018-10-05 09:04:40.000000000,2018-10-05 09:04:40.000000000,8,8,0,607284,6d78224bdb67be7fe1752525c356c5e4d4edcbe2,9,4,1,2,11109,Roger Luethi,rluethi,"Rename attributes: vncserver_* -> server_*

Source:
* openstack/nova git repo:
  conf: Rename two VNC options
  Change-Id: Ic05c2c8364e015f6878b0bc25449216624568ad5
  commit e5a03e3c54d57aa29bd8154c9eddf7ee52c6c3b5

Change-Id: I3953195b1f8c7f166b89c7ea7ce7994bcd3c0461
"
openstack%2Frpm-packaging~master~I90b892adfced8daf8f84bf8ec4094350e8b1fa8a,openstack/rpm-packaging,master,,I90b892adfced8daf8f84bf8ec4094350e8b1fa8a,monasca-agent: Add /usr/lib/monasca/agent/ custom directories to %files,MERGED,2018-09-24 17:03:36.000000000,2018-10-05 09:02:26.000000000,2018-10-05 09:02:26.000000000,4,2,0,604847,ffeb9506bb5e88ef25bb7c24556ca1b19f53dab0,13,9,1,1,10311,Joseph Davis,joadavis,"monasca-agent: Add /usr/lib/monasca/agent/ custom directories to %files

The /usr/lib/monasca/agent/custom_check.d and custom_detect.d directories
had been missed in the %files list.  Also, set permissions to match other
directories under /usr/lib (755, owned by root).

Change-Id: I90b892adfced8daf8f84bf8ec4094350e8b1fa8a
"
openstack%2Fcharm-nova-cloud-controller~stable%2F18.08~I20548118092a4480f37c7ab7e9d60e72e299989b,openstack/charm-nova-cloud-controller,stable/18.08,stable/add-refstack-filters,I20548118092a4480f37c7ab7e9d60e72e299989b,Get glance v1 client for icehouse.,MERGED,2018-10-03 10:51:04.000000000,2018-10-05 09:02:24.000000000,2018-10-05 09:02:24.000000000,13,4,0,607528,6b585b2c7050c6fe4f76978a5dbd06867cdee2fd,9,3,2,3,935,James Page,james-page,"Get glance v1 client for icehouse.

Previously the image virt type was qemu and the compute node virt
type was kvm. This works for deployments prior to rocky but in
rocky this causes the image type filter to return no valid hosts.
An update to charmhelpers has removed the default behaviour of
setting the virt type to 'qemu' by default.

Due to a bug in icehouse updating glance image properties using
the v2 api fails (See Bug #1371559) so for icehouse deploys
get a v1 client.

Change-Id: I20548118092a4480f37c7ab7e9d60e72e299989b
(cherry picked from commit 9cdf1baccd19ef944923e8dfb520b65c2e9eb5d3)
"
openstack%2Fnova~master~If869470216600c303d47cf79f12c4fc88abcf813,openstack/nova,master,,If869470216600c303d47cf79f12c4fc88abcf813,libvirt: Remove reference to transient domain when detaching devices,MERGED,2018-07-20 16:00:15.000000000,2018-10-05 09:01:16.000000000,2018-07-24 07:41:33.000000000,15,12,3,584433,636c7461dee4002571da6e99986eb17e9a28b0f4,31,15,2,3,10135,Lee Yarwood,lyarwood,"libvirt: Remove reference to transient domain when detaching devices

When detaching a device from a domain we first attempt to remove the
device from both the persistent and live configs before looping to
ensure the device has really been detached from the running live config.

Previously when this failed we logged an error message that suggested
that this was due to issues detaching the device from a transient
domain, however this is not the case as the domain is persistent.

This change simply updates the error and associated comments to only
reference the live config of the domain.

Additionally a DEBUG line claiming that a device has been successfully
detached is now only logged once the device is removed from the live
config, hopefully avoiding any confusion from this line been logged
each time an attempt is made to detach the device.

Change-Id: If869470216600c303d47cf79f12c4fc88abcf813
"
openstack%2Fkarbor-dashboard~master~Idbb4789c6e756b819123757186669275190d32f7,openstack/karbor-dashboard,master,,Idbb4789c6e756b819123757186669275190d32f7,[doc] Correct the invalid runserver command in horizon,MERGED,2018-07-17 14:43:00.000000000,2018-10-05 08:46:15.000000000,2018-10-05 08:46:15.000000000,1,1,0,583271,4a599ca93118a45da081f6118376f1a8352ba977,11,9,1,1,14151,ziyu032,ziyu032,"[doc] Correct the invalid runserver command in horizon

Since the horizon remove the 'run_tests.sh' file,
so use 'tox -e runserver' command.

Change-Id: Idbb4789c6e756b819123757186669275190d32f7
"
openstack%2Fcharm-neutron-gateway~master~I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46,openstack/charm-neutron-gateway,master,feature/move-nova-metadata-service,I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46,Remove nova metadata service,MERGED,2018-08-14 07:47:08.000000000,2018-10-05 08:43:12.000000000,2018-10-05 08:43:12.000000000,360,72,0,591578,b14f2fc47ec2d5d31692d00db02a3b9025871f6a,57,4,14,11,12549,gnuoy,gnuoy,"Remove nova metadata service

The change turns off the local nova metadata service and uses
endpoint data recieved from the quantum-network-service relation
to point the neutron metadata service at the nova metadata service
on the nova cloud controller for Queens+.

Depends-On: I5ad15ba782cb87b6fdb3c0941a6482d201670bff
Change-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46
"
openstack%2Fnetworking-onos~stable%2Frocky~I4491e7a73ac68e09ee972628442d2ba53ba6c9d3,openstack/networking-onos,stable/rocky,stop_onos-stable/rocky,I4491e7a73ac68e09ee972628442d2ba53ba6c9d3,Force the removal of onos container incase of unstack,MERGED,2018-10-02 08:52:12.000000000,2018-10-05 08:42:50.000000000,2018-10-05 08:42:50.000000000,1,1,0,607127,917c63dad675149cd7c2cf2e02ec436c16c2af3d,7,3,1,1,26288,Daniel Park,DanielPark,"Force the removal of onos container incase of unstack

Change-Id: I4491e7a73ac68e09ee972628442d2ba53ba6c9d3
"
openstack%2Fnetworking-onos~stable%2Fpike~I4491e7a73ac68e09ee972628442d2ba53ba6c9d3,openstack/networking-onos,stable/pike,stop_onos-stable/pike,I4491e7a73ac68e09ee972628442d2ba53ba6c9d3,Force the removal of onos container incase of unstack,MERGED,2018-10-02 08:51:40.000000000,2018-10-05 08:42:49.000000000,2018-10-05 08:42:49.000000000,1,1,0,607126,8aecfd6bae4f7ab115637ba13a6570160bbd46f4,7,3,1,1,26288,Daniel Park,DanielPark,"Force the removal of onos container incase of unstack

Change-Id: I4491e7a73ac68e09ee972628442d2ba53ba6c9d3
"
openstack%2Fnetworking-onos~stable%2Fqueens~I4491e7a73ac68e09ee972628442d2ba53ba6c9d3,openstack/networking-onos,stable/queens,stop_onos,I4491e7a73ac68e09ee972628442d2ba53ba6c9d3,Force the removal of onos container incase of unstack,MERGED,2018-10-02 08:50:57.000000000,2018-10-05 08:38:47.000000000,2018-10-05 08:38:47.000000000,1,1,0,607125,737d42f7635565ddf15383ac3132461330f06d58,10,3,1,1,26288,Daniel Park,DanielPark,"Force the removal of onos container incase of unstack

Change-Id: I4491e7a73ac68e09ee972628442d2ba53ba6c9d3
"
openstack%2Fcharm-tempest~master~I1ac0cbf16711fb6e93c42b2b25e010cf0876a98d,openstack/charm-tempest,master,update-reqs,I1ac0cbf16711fb6e93c42b2b25e010cf0876a98d,Update requirements,MERGED,2018-10-04 15:48:29.000000000,2018-10-05 08:28:20.000000000,2018-10-05 08:28:19.000000000,61,20,0,608008,bba9749806f59036f67be9d6c9bdd51b61d16f41,18,5,7,5,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I1ac0cbf16711fb6e93c42b2b25e010cf0876a98d
"
openstack%2Fkolla~stable%2Frocky~I5f18bd4bfe1243d79e4ee8ce56475e6c7c7cc986,openstack/kolla,stable/rocky,bp/ovs-tcpdump-stable/rocky,I5f18bd4bfe1243d79e4ee8ce56475e6c7c7cc986,openvswitch: make ovs-tcpdump usable,MERGED,2018-09-24 14:04:24.000000000,2018-10-05 08:27:56.000000000,2018-10-05 08:27:56.000000000,14,3,0,604793,865711b4444828bf0c7946bb737ade4bf941af5c,7,3,1,1,29051,Nicolas Haller,gaasmann,"openvswitch: make ovs-tcpdump usable

Change-Id: I5f18bd4bfe1243d79e4ee8ce56475e6c7c7cc986
Implements: blueprint ovs-tcpdump
(cherry picked from commit f5c2f3d97cdb68a51aa22002d92fe250ff3ebc07)
"
openstack%2Fnova~master~If6aa37d9b6b48791e070799ab026c816fda4441c,openstack/nova,master,bp/use-nested-allocation-candidates,If6aa37d9b6b48791e070799ab026c816fda4441c,Refactor allocation checking in functional tests,MERGED,2018-10-02 15:15:09.000000000,2018-10-05 08:26:13.000000000,2018-10-05 08:26:13.000000000,333,457,19,607287,94e620e87cb9349f799007f418ce94978bc33be1,31,10,4,3,9708,Balazs Gibizer,gibi,"Refactor allocation checking in functional tests

Factor out common allocation checking code in the functional test cases
and make them nested provider tree aware.
This prepare the ServerMovingTests class to be re-used in a nested RP tree
and nested allocation environment.

Change-Id: If6aa37d9b6b48791e070799ab026c816fda4441c
Blueprint: use-nested-allocation-candidates
"
openstack%2Fnova~master~I097732754b67bd5cf50abd15db7da3f013b6cdd5,openstack/nova,master,bp/use-nested-allocation-candidates,I097732754b67bd5cf50abd15db7da3f013b6cdd5,consumer gen: support claim_resources,MERGED,2018-07-18 16:58:27.000000000,2018-10-05 08:25:34.000000000,2018-10-04 18:11:09.000000000,876,309,161,583667,37301f2f278a3702369eec957402e36d53068973,336,23,29,8,9708,Balazs Gibizer,gibi,"consumer gen: support claim_resources

This patch adds the handling of consumer generation conflict for the
scheduler report client claim_resources function.

Note that almost every instance move operation uses the migration.uuid
to hold the source node allocation while attempting to allocate on the
destination for the instance. The only exception is evacuation as during
evacuation both the source and the destination allocations are held by
the instance.uuid as consumer.

There are three major cases handled regarding consumer generation
conflicts during claim_resources:

* The caller wants to claim resources and assumes that the provided
  consumer is a new consumer. For example scheduler claims during the
  build of a new instance or during the move of an existing
  instance and the source allocation is held by the migration_uuid. In
  this case if Placement returns consumer generation conflict then there
  is a serious inconsistency about that consumer. So this patch
  ensures that the operation is aborted.

* The caller knows that there is allocation on the consumer before
  calling claim and reads the current allocation from Placement. The
  only example of this in the current codebase is forced evacuation. In
  this case the caller provides the consumer_generation to
  claim_resources. If Placement returns consumer generaton conflict then
  the caller aborts the operation.

* The scheduler wants to claim resources for a non-forced evacuation.
  The scheduler does not know that it is an evacuate operation and the
  scheduler only sees allocation candidates. Therefore the scheduler
  uses the same code path as in the first case and calls claim_resources
  without providing consumer generation. In this case the
  claim_resources code needs to read the actual consumer generation
  from Placement. If during this claim Placement returns consumer
  generaton conflict then claim_resource will raise and let the caller
  abort the opertion.

Blueprint: use-nested-allocation-candidates
Change-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5
"
openstack%2Fcharm-ceph-fs~master~I57ebccde4c04b1b6b312f152ea778f8ad820b196,openstack/charm-ceph-fs,master,update-reqs,I57ebccde4c04b1b6b312f152ea778f8ad820b196,Update requirements,MERGED,2018-10-04 15:47:24.000000000,2018-10-05 08:22:48.000000000,2018-10-05 08:22:47.000000000,28,16,0,607998,8f83824e2b85031953df65b37b0d46831df77e44,18,5,3,5,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I57ebccde4c04b1b6b312f152ea778f8ad820b196
"
openstack%2Fkolla-ansible~master~I59ceda1e7a6e945b13872089011045db04548b94,openstack/kolla-ansible,master,bp/monasca-roles,I59ceda1e7a6e945b13872089011045db04548b94,Improve registration of Monasca InfluxDB database,MERGED,2018-09-25 16:53:49.000000000,2018-10-05 08:14:43.000000000,2018-10-05 08:14:42.000000000,20,8,1,605138,2af1d1d95e2e28b5985e3129c3654aee0b942b87,11,3,2,2,17669,Doug Szumski,DougSzumski,"Improve registration of Monasca InfluxDB database

Monasca is not yet compatible with InfluxDB > 1.1.10, which means
that the official Ansible modules for managing InfluxDB don't work [1].
We therefore fall back to manual commands to register the database
and a default retention policy.

[1] https://github.com/influxdata/influxdb-python
    #influxdb-pre-v110-users

Partially-Implements: blueprint monasca-roles
Change-Id: I59ceda1e7a6e945b13872089011045db04548b94
"
openstack%2Fkolla-ansible~master~I542b06be75991412f8e2a931ea2e40f0a0c317e4,openstack/kolla-ansible,master,bug/1758903,I542b06be75991412f8e2a931ea2e40f0a0c317e4,Support Octavia custom policy,MERGED,2018-09-07 15:22:47.000000000,2018-10-05 08:14:41.000000000,2018-10-05 08:14:41.000000000,55,1,7,600800,22bf7997b96359e424494727362daa85cf8cb3ec,34,9,9,5,19930,Dai Dang Van,daidv,"Support Octavia custom policy

Change-Id: I542b06be75991412f8e2a931ea2e40f0a0c317e4
Closes-Bug: #1758903
"
openstack%2Fopenstack-ansible-os_horizon~stable%2Focata~Ib224469a6bdf12f04f67872b015b68ae53db8fca,openstack/openstack-ansible-os_horizon,stable/ocata,python3-first,Ib224469a6bdf12f04f67872b015b68ae53db8fca,import zuul job settings from project-config,MERGED,2018-08-22 02:00:55.000000000,2018-10-05 08:13:37.000000000,2018-10-05 08:13:37.000000000,4,0,0,594750,7574736d58d69f94f8171f245cdaed228df15050,22,6,3,1,26297,pippo,huang.zhiping,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ib224469a6bdf12f04f67872b015b68ae53db8fca
Story: #2002586
Task: #24319
"
openstack%2Ftempest~master~I371c65b98d840b7e260141a1f455f116a45cadaf,openstack/tempest,master,606880,I371c65b98d840b7e260141a1f455f116a45cadaf,Correcting admin role from hardcoded value and to get it from config,ABANDONED,2018-10-02 07:22:37.000000000,2018-10-05 07:40:01.000000000,,1,1,7,607113,c2caef0cf0d7956c8dadd43cb558ad5ec22a5f3a,19,7,3,1,27078,Manik Bindlish,manik,"Correcting admin role from hardcoded value and to get it from config

There is admin role set as 'admin' but it should be retrieve from
config data.
This patch set will correct the hardcoded value and get it from
config file as CONF.identity.admin_role

Change-Id: I371c65b98d840b7e260141a1f455f116a45cadaf
"
openstack%2Fnetworking-bgpvpn~stable%2Focata~I77b53974cb2a38075435368c71beac8ac4932d66,openstack/networking-bgpvpn,stable/ocata,pip10-stable-fix,I77b53974cb2a38075435368c71beac8ac4932d66,"DNM: Fix check, gate and periodic jobs",ABANDONED,2018-10-05 07:00:10.000000000,2018-10-05 07:35:30.000000000,,1410,12,0,608169,4522fee54f15c4df33dd65d9c2cd7fda8727e8ed,3,2,1,8,6547,Andreas Jaeger,jaegerandi,"DNM: Fix check, gate and periodic jobs

Do not merge: Testing removing of stestr changes.

This is a combination of 10 commits that are needed to have successful
check, gate and periodic stable job runs.

Note: All the tempest related fixes are due to the fact that we can't
pin the version of tempest that we are using, and hence need to adjust
things when tempest evolves.

1. Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to
pip.

Also some tests still needs networking-odl package to be installed, however
it is removed from the required-projects of networking-bgpvpn, so they
fails now. To fix this, the easiest solution is to add networking-odl
to .zuul.yaml on stable/* branch as required project.

2. Add networking-odl for periodic-stable jobs

periodic-stable jobs fail: networking-odl is required for jobs on queens
and older stable branches. From rocky, there is no tox_install.sh any
more, so this is not needed there.

3. Fix post gate hook to accommodate for new os-testr

New os-testr uses stestr under the hood, which creates .stestr but not
.testrepository directory in the current dir. Other than that, it
doesn't seem like there is any difference in the format or names of
files generated in the directory.

(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)
Co-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>

This change also wraps up another fix (simultaneous voting test job
breakage) related to a recent change in the neutron repository of
the import statements for ml2 config.

Note(elod.illes): a bit of a modification needed in the hook script as
not every job calls stestr.

4. use networking-odl from pypi instead of git master

Two reasons:
- no point in tracking master, now that development is done
  on odl bgpvpn v2 driver, which does not sit in n8g-bgpvpn tree
- odl master is sometimes broken [1], which impacts our CI

[1] http://logs.openstack.org/70/470470/2/check/gate-networking-bgpvpn-dsvm-functional-ubuntu-xenial/febf152/console.html#_2017-06-05_12_56_21_302481

5. Speed up tox_install.sh

* When installing git repos into tox venv, there is no need to
  use full clone. Shallow clone like --depth 1 is sufficient.
  It speeds up tox venv creation.
* Fix import check for networking-bagpipe and networking-odl.
  Python module names use underscores instead of hyphens,
  so the current iport check always returns false.
  As a result, installation of these projects are run multiple times.
* Allow to specify GIT_BASE for local testing.
  Previously PIP_LOCATION exists, but the tox_install.sh installs
  four repositories so PIP_LOCATION actually cannot be used.

In my local env, the time to prepare tox env was reduced from 4m52s
to 2m39s for the first run and from 42s to 19s for the second run
or later (after applying the first two points above).

Note(elod.illes): some changes of tox_install.sh didn't seem trivial to
git so it needed some manual intervention...
Conflicts:
	tools/tox_install.sh

Closes-Bug: 1716746

6. Change sourcing neutron l2 agent script for devstack

Source the l2 agent script only in case and in place where functions
from this are going to be used.

7. unbreak tempest tests

The initialization of the self.networks variable was missing.

I don't know yet why this wasn't showing up before, possibly
because the tempest test suite was not in CI before (?).

8. tempest: unbreak scenario test

The initialization of the self.subnets variable was missing.

I don't know yet why this wasn't showing up before, possibly
because the tempest test suite was not in CI before (?).

9. tempest: Switch to local copy of tempset/scenario/manager.py

The manager.py file was literally copied from
tempest as of today. [1]

tempest/scenario/manager.py is not a part of tempest stable
interface for plugins. [2]

This was suggested on openstack-dev as a preparation for
the coming refactoring in tempest. [3]

As tempest is branchless, this change needs to be backported
to all relevant stable branches.

[1] d184d619d7adc6ab60055884515055a7f3cf7770
[2] https://docs.openstack.org/developer/tempest/plugin.html#stable-tempest-apis-plugins-may-use
[3] http://lists.openstack.org/pipermail/openstack-dev/2017-February/112938.html

10. Register query hooks at BGPVPNPluginDb object creation

This change also modifies the expected exception raised in tempest
while testing a delete of a bgpvpn by a regular tenant :
the Forbidden exception is now raised instead of the NotFound one.

Note(elod.illes): only the exception change is cherry-picked from
this commit, the networking_bgpvpn/neutron/db/bgpvpn_db.py change
is skipped.

Closes-bug: 1685930

(cherry picked from commit ff84e5a105cdc8e70693bcb0a7b3e542d5b4f12d)
(cherry picked from commit d0c1a6b58267bb1e1346cfe35a61f5b57d9cc672)
(cherry picked from commit 8f576a2ccb2aa16ff1585b93c4fbb58247d209bd)
(cherry picked from commit 9c3494339cd5ee22b03f427fd8c2870335e7f900)
(cherry picked from commit 650c37b1429d262cf2bc26036828999fc0b38e7e)
(cherry picked from commit f24f9ce37f55d4a59f097064a80e8e46a7c20bc0)
(cherry picked from commit d6baa9cdde0548072b06a7d5147d1e53515cf628)
(cherry picked from commit fe90ea22d604ac3bc81a693e469796a65d84f98e)
(cherry picked from commit a62d8c64724fd0cc27ada7c4a91d2806bf87bb58)
(cherry picked from commit 0bb5a67dcf1bf103a8df321b861049515c946134)
(cherry picked from commit c7211ed718f9b18e186bc66eb460b1526dba40f2)

Change-Id: I77b53974cb2a38075435368c71beac8ac4932d66
"
openstack%2Fopenstack-ansible-os_horizon~stable%2Focata~I830a57ed81a08b8929b3bd446d9c919a94e145f9,openstack/openstack-ansible-os_horizon,stable/ocata,,I830a57ed81a08b8929b3bd446d9c919a94e145f9,Make functional job non-voting,MERGED,2018-10-05 04:12:41.000000000,2018-10-05 07:18:35.000000000,2018-10-05 07:18:35.000000000,2,2,0,608157,9a31f1e309c3cc2785a68ad3ef101538c712ea2f,6,2,1,1,6547,Andreas Jaeger,jaegerandi,"Make functional job non-voting

This job is failing, make it non-voting so that we can merge the
python3-first change.

Change-Id: I830a57ed81a08b8929b3bd446d9c919a94e145f9
Needed-By: https://review.openstack.org/594750
"
openstack%2Fproject-config~master~Ie7248a1765029bcf8b17433fc4714d359bfb2747,openstack/project-config,master,osa-needs-sqlite-in-python,Ie7248a1765029bcf8b17433fc4714d359bfb2747,enable sqlite in python,MERGED,2018-10-05 05:51:12.000000000,2018-10-05 07:00:04.000000000,2018-10-05 07:00:04.000000000,1,0,0,608161,d341ceca2385287ca4af380a6ba17af34545faee,7,3,1,1,14288,Matthew Thode,prometheanfire,"enable sqlite in python

Change-Id: Ie7248a1765029bcf8b17433fc4714d359bfb2747
"
openstack%2Fopenstack-helm-infra~master~I2214fea8d8c1563b08c4015c9e91a29cf071af5a,openstack/openstack-helm-infra,master,calico-frosting,I2214fea8d8c1563b08c4015c9e91a29cf071af5a,[Calico] Update to Calico v3.2,MERGED,2018-10-01 23:30:39.000000000,2018-10-05 06:57:13.000000000,2018-10-05 06:57:13.000000000,492,706,48,607065,26e1b9cde63a3d5a55417d25f05cf8787b03256d,52,6,9,21,8898,Chris Wedgwood,anticw,"[Calico] Update to Calico v3.2

Change-Id: I2214fea8d8c1563b08c4015c9e91a29cf071af5a
"
openstack%2Fopenstack-helm-infra~master~Ic26035c3f58efb6269fd58e570601cccfdd84949,openstack/openstack-helm-infra,master,upsidedown-pete,Ic26035c3f58efb6269fd58e570601cccfdd84949,Gate: remove unused pull images role and playbook,MERGED,2018-10-04 17:15:12.000000000,2018-10-05 06:57:12.000000000,2018-10-05 06:57:12.000000000,0,50,0,608033,46935734afea8563c2f96cf012271778d1702492,11,3,2,2,23928,Pete Birley,portdirect,"Gate: remove unused pull images role and playbook

This PS removes the unused pull images role and playbook.

Change-Id: Ic26035c3f58efb6269fd58e570601cccfdd84949
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Ftripleo-upgrade~stable%2Frocky~Ifa2b21bca4c3523cb76f8aad869b45e6aeca2e91,openstack/tripleo-upgrade,stable/rocky,uc-post-reboot-stable/rocky,Ifa2b21bca4c3523cb76f8aad869b45e6aeca2e91,Assert services/containers are started after reboot.,MERGED,2018-09-27 09:39:51.000000000,2018-10-05 06:44:22.000000000,2018-10-04 17:16:37.000000000,10,0,0,605632,4973c09f47812e9b9f4e46ec01314143732e1ade,14,5,2,1,21537,Yurii Prokulevych,yprokule,"Assert services/containers are started after reboot.

After undercloud's reboot services ain't available immediately.
To assert services' readines list stacks and compare overcloud
stack is present in output.
Task is retried for ""service_readiness_count"" times, that
defaults to 100, with a 3 seconds delay in between, resulting
in ~300 seconds.

Change-Id: Ifa2b21bca4c3523cb76f8aad869b45e6aeca2e91
(cherry picked from commit 6e72e7dfe2f934cf053126cec04e21f39738ff04)
"
openstack%2Fopenstack-helm-infra~master~I01c58a628589ec35af2557c8cc93ea47fe084089,openstack/openstack-helm-infra,master,upsidedown-pete,I01c58a628589ec35af2557c8cc93ea47fe084089,Gate: Remove unused helm chart deployment role and playbook,MERGED,2018-10-04 17:10:56.000000000,2018-10-05 06:43:19.000000000,2018-10-05 06:43:19.000000000,1,362,0,608032,feeeed4d5d90c0f53311a7f820b1f81b171b41e4,13,3,2,9,23928,Pete Birley,portdirect,"Gate: Remove unused helm chart deployment role and playbook

This PS removes the unused helm chart deployment role and playbook.

Change-Id: I01c58a628589ec35af2557c8cc93ea47fe084089
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fproject-config~master~I65bf6f9c4f1873b5b7ef2ce13d51614fa28ec8a6,openstack/project-config,master,universal-wheels,I65bf6f9c4f1873b5b7ef2ce13d51614fa28ec8a6,always build universal wheels,MERGED,2018-10-04 10:57:56.000000000,2018-10-05 06:42:06.000000000,2018-10-05 06:42:06.000000000,2,0,0,607902,750016d4edae04dc3cdaa223dc8665a65a8c6b49,12,6,2,1,2472,Doug Hellmann,doug-hellmann,"always build universal wheels

All of our projects are pure python, so we can build universal wheels
by default.

Change-Id: I65bf6f9c4f1873b5b7ef2ce13d51614fa28ec8a6
Depends-On: https://review.openstack.org/607900
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fnova~master~If1c901b974bc7295927b3f033a04eaa6ac36f603,openstack/nova,master,bug/1757061,If1c901b974bc7295927b3f033a04eaa6ac36f603,Not set instance to ERROR if set_admin_password failed,MERGED,2018-03-22 06:10:17.000000000,2018-10-05 06:34:27.000000000,2018-10-05 00:45:51.000000000,2,8,19,555160,513f2d3d254e2ffcc5c9eb786bc1c7d52036d392,95,25,6,2,6062,jichenjc,jichenjc,"Not set instance to ERROR if set_admin_password failed

In some cases, an instance will be set to ERROR state when
set_admin_password failed (some Exception like Forbidden)
this is inconsistent to other exceptions and also
set_admin_password is a sync call from API to compute,
we can simply return the error to the upper layer (operator or
user) to avoid make user run reset to restore instance
status since no changes to guest at all.

Change-Id: If1c901b974bc7295927b3f033a04eaa6ac36f603
Closes-Bug: 1757061
"
openstack%2Fproject-config~master~I26c6ba57e4d654867e87468b52265403d3ff44eb,openstack/project-config,master,python3-first,I26c6ba57e4d654867e87468b52265403d3ff44eb,remove job settings for trove repositories,MERGED,2018-09-11 12:23:15.000000000,2018-10-05 06:34:25.000000000,2018-10-05 06:34:24.000000000,0,53,0,601583,4207003b322c3a705645830c99b4aa2b38ad92b7,10,4,2,1,2472,Doug Hellmann,doug-hellmann,"remove job settings for trove repositories

This is a mechanically generated patch to remove the job settings that
have been migrated to the git repositories owned by the trove team.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I26c6ba57e4d654867e87468b52265403d3ff44eb
Story: #2002586
Task: #24342
"
openstack%2Fneutron~master~I742d8a79175209e42f8bd6319956e960c73201ee,openstack/neutron,master,get_ports_not_owned,I742d8a79175209e42f8bd6319956e960c73201ee,Add argument to get ports by SG to allow excluding owners,MERGED,2018-08-16 21:09:58.000000000,2018-10-05 06:11:34.000000000,2018-10-05 06:11:34.000000000,25,1,15,592701,f721c3dcc7e4795762f7977f35b528ddd27a0edb,107,14,11,2,13995,Nate Johnston,natejohnston,"Add argument to get ports by SG to allow excluding owners

When code needs to load a list of all ports that are not router
interfaces, they tend to fetch the port information into memory and then
iterate over the ports, inspecting each port's device_owner.  For large
numbers of ports this is presumably inefficient.  This came up in a
discussion of just such a part in the code [1].

A more efficient solution is to perform this filtering in SQL.  This
change adds an argument to an existing method in the Port object to do
that.

[1] https://review.openstack.org/580721

Change-Id: I742d8a79175209e42f8bd6319956e960c73201ee
"
openstack%2Fui-cookiecutter~master~I7428f118c92f6a4c67bdb2c855df1a933587518b,openstack/ui-cookiecutter,master,,I7428f118c92f6a4c67bdb2c855df1a933587518b,fix tox python3 overrides,MERGED,2018-10-03 02:21:51.000000000,2018-10-05 05:08:56.000000000,2018-10-05 05:08:55.000000000,1,1,0,607451,2c5f68fe501052074c6ab3a0916cda95cd16a889,6,2,1,1,26297,pippo,huang.zhiping,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I7428f118c92f6a4c67bdb2c855df1a933587518b
"
openstack%2Fmagnum-ui~master~If84222020d2cfc13ab660087c4ffc0b59c5c7123,openstack/magnum-ui,master,zanata/translations,If84222020d2cfc13ab660087c4ffc0b59c5c7123,Imported Translations from Zanata,MERGED,2018-10-04 08:02:38.000000000,2018-10-05 04:51:46.000000000,2018-10-05 04:51:46.000000000,5,2,0,607834,941dc2ca3950876149ee76d1c87537e2c6082677,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If84222020d2cfc13ab660087c4ffc0b59c5c7123
"
openstack%2Fmagnum-ui~master~I170c0a3f76d985be2fdf0c5e645f7aaa3409b11f,openstack/magnum-ui,master,,I170c0a3f76d985be2fdf0c5e645f7aaa3409b11f,fix tox python3 overrides,ABANDONED,2018-10-03 02:29:10.000000000,2018-10-05 04:50:41.000000000,,1,0,1,607452,309674e9cf1738dfaf1549353aa95f00fa65d60a,4,1,1,1,26297,pippo,huang.zhiping,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I170c0a3f76d985be2fdf0c5e645f7aaa3409b11f
"
openstack%2Fopenstack-helm-infra~master~I8b982112955f4112e8107a7eae35680aa68c87ab,openstack/openstack-helm-infra,master,upsidedown-pete,I8b982112955f4112e8107a7eae35680aa68c87ab,Gate: Tolerate failures in log collection tasks,MERGED,2018-10-04 17:17:25.000000000,2018-10-05 04:17:06.000000000,2018-10-05 04:17:05.000000000,3,0,0,608034,16a6f7af8ff8033417f60bf161da8ff9ba461240,11,3,2,2,23928,Pete Birley,portdirect,"Gate: Tolerate failures in log collection tasks

This PS updates the gate tasks to tollerate failures in the post
run log collection tasks.

Change-Id: I8b982112955f4112e8107a7eae35680aa68c87ab
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fopenstack-helm~master~I95b4a4e6ed25c8a4fbd2e5925dc021eec1cb4326,openstack/openstack-helm,master,,I95b4a4e6ed25c8a4fbd2e5925dc021eec1cb4326,Provision to support Only port 443 open for ingress controller,ABANDONED,2018-06-13 22:01:30.000000000,2018-10-05 03:59:38.000000000,,21,1,0,575251,abf4d5d128402452d75fea8702b5bb59db41b2e5,3,7,1,4,24999,Hari,hosingh000,"Provision to support Only port 443 open for ingress controller

Users wants to facilitate ingress controller to allow traffic only on port 443.
This can be achieved by overriding port value in endpoints configuration to https only

Change-Id: I95b4a4e6ed25c8a4fbd2e5925dc021eec1cb4326
Signed-off-by: Hari Om Singh <hosingh000@gmail.com>
"
openstack%2Frequirements~master~Ica250ddcedef49db03a9ee7429fb683f02465563,openstack/requirements,master,new-release,Ica250ddcedef49db03a9ee7429fb683f02465563,update constraint for oslotest to new release 3.7.0,MERGED,2018-10-03 09:50:19.000000000,2018-10-05 03:54:41.000000000,2018-10-05 03:54:41.000000000,1,1,0,607520,7a51bff41d22cc84d7f648ba76b2ce7fea87de1d,15,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslotest to new release 3.7.0

Change-Id: Ica250ddcedef49db03a9ee7429fb683f02465563
meta:version: 3.7.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: If2b9f5941008bf89a54fc479693bd0ca2c86b8a2
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fcharm-gnocchi~master~If4764838c6eb9ebc547932545daf9b2f339feb15,openstack/charm-gnocchi,master,update-reqs,If4764838c6eb9ebc547932545daf9b2f339feb15,Update requirements,MERGED,2018-10-04 15:47:44.000000000,2018-10-05 03:48:55.000000000,2018-10-05 03:48:55.000000000,41,20,0,608001,d702f8458c1b653b788130b39c824aeafe78bc2d,11,4,2,3,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: If4764838c6eb9ebc547932545daf9b2f339feb15
"
openstack%2Fcharm-aodh~master~I8f777a7cd4ae0f1d722eb21723a07c4578e4a869,openstack/charm-aodh,master,update-reqs,I8f777a7cd4ae0f1d722eb21723a07c4578e4a869,Update requirements,MERGED,2018-10-04 15:47:01.000000000,2018-10-05 03:33:48.000000000,2018-10-05 03:33:48.000000000,26,16,0,607995,134011971e6ea8ee4d2d0e76effeb22bd8a8d49f,12,4,2,3,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I8f777a7cd4ae0f1d722eb21723a07c4578e4a869
"
openstack%2Fcharm-barbican-softhsm~master~I0778cade506b8c1cff49ca429ab24bfa27a8f019,openstack/charm-barbican-softhsm,master,update-reqs,I0778cade506b8c1cff49ca429ab24bfa27a8f019,Update requirements,MERGED,2018-10-04 15:47:17.000000000,2018-10-05 03:29:23.000000000,2018-10-05 03:29:23.000000000,26,14,0,607997,3c7a92d0b30340994d6b7b96f50ba8d4882eaa13,11,4,2,3,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I0778cade506b8c1cff49ca429ab24bfa27a8f019
"
openstack%2Fnova~master~I5f3a7c2c81bd908be30f7bcd9cda7e0ff5b48226,openstack/nova,master,remove-get_legacy_facade,I5f3a7c2c81bd908be30f7bcd9cda7e0ff5b48226,Placement: Remove usage of get_legacy_facade(),MERGED,2018-10-02 17:57:17.000000000,2018-10-05 03:26:49.000000000,2018-10-05 03:26:49.000000000,1,1,0,607336,394ce3e413093b9b891bf4cb11dbb0e562b43a93,52,16,1,1,14070,Eric Fried,efried,"Placement: Remove usage of get_legacy_facade()

Warnings emitted to the python 3 unit tests:

  OsloDBDeprecationWarning: EngineFacade is deprecated; please use
  oslo_db.sqlalchemy.enginefacade

stem from our use of the get_legacy_facade() oslo.db method.

Following on from [1], this replaces the get_legacy_facade() usage with
the writer transaction context for the placement database. This is done
in both openstack/placement and openstack/nova under the same Change-Id.

[1] If1e355d6174f15a1880e97115a2cf3f9f4be837e

Change-Id: I5f3a7c2c81bd908be30f7bcd9cda7e0ff5b48226
"
openstack%2Fcharm-manila~master~I06bacbfb0f37e4981f0935a47c8e2f33e4e20e48,openstack/charm-manila,master,update-reqs,I06bacbfb0f37e4981f0935a47c8e2f33e4e20e48,Update requirements,MERGED,2018-10-04 15:48:00.000000000,2018-10-05 03:26:01.000000000,2018-10-05 03:26:01.000000000,25,14,0,608004,69e79c31c3542669d478794e4fb0fee1db37672c,11,4,2,3,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I06bacbfb0f37e4981f0935a47c8e2f33e4e20e48
"
openstack%2Fcharm-barbican~master~I0f6d9122a10e1b73073830e48c920e4001f0d356,openstack/charm-barbican,master,update-reqs,I0f6d9122a10e1b73073830e48c920e4001f0d356,Update requirements,MERGED,2018-10-04 15:47:11.000000000,2018-10-05 03:26:00.000000000,2018-10-05 03:26:00.000000000,26,14,0,607996,f12029cccdb575c904342d6b50a1e8e694176251,11,4,2,3,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I0f6d9122a10e1b73073830e48c920e4001f0d356
"
openstack%2Fkolla-ansible~stable%2Frocky~I017b44352a33884102fefbacdde0fddc7f0282e3,openstack/kolla-ansible,stable/rocky,bug/1795125-stable/rocky,I017b44352a33884102fefbacdde0fddc7f0282e3,Add become for Cinder configuration tasks,MERGED,2018-10-03 13:17:18.000000000,2018-10-05 03:25:59.000000000,2018-10-05 03:25:59.000000000,3,0,0,607562,6de877f3a8498cac895085fffb295218f7fa450c,10,5,1,1,14826,Mark Goddard,mgoddard,"Add become for Cinder configuration tasks

This is required to support execution as a non-root user.

Change-Id: I017b44352a33884102fefbacdde0fddc7f0282e3
Closes-Bug: #1795125
(cherry picked from commit 12e644f4f453b7853bc68c147734158406bdce62)
"
openstack%2Fkolla-ansible~stable%2Fqueens~I017b44352a33884102fefbacdde0fddc7f0282e3,openstack/kolla-ansible,stable/queens,bug/1795125-stable/queens,I017b44352a33884102fefbacdde0fddc7f0282e3,Add become for Cinder configuration tasks,MERGED,2018-10-03 13:18:53.000000000,2018-10-05 03:25:58.000000000,2018-10-05 03:25:58.000000000,3,0,0,607566,202c4826cd1d0b6c080ed5d2021767a63c3dd185,8,4,1,1,14826,Mark Goddard,mgoddard,"Add become for Cinder configuration tasks

This is required to support execution as a non-root user.

Change-Id: I017b44352a33884102fefbacdde0fddc7f0282e3
Closes-Bug: #1795125
(cherry picked from commit 12e644f4f453b7853bc68c147734158406bdce62)
"
openstack%2Fkolla-ansible~stable%2Fqueens~I887c7b3bdef49db1dd1bf9e5bdbf5dc47b7f41af,openstack/kolla-ansible,stable/queens,bug/1795125-stable/queens,I887c7b3bdef49db1dd1bf9e5bdbf5dc47b7f41af,Fix non-root reconfiguration with ceph enabled,MERGED,2018-10-03 13:18:34.000000000,2018-10-05 03:25:58.000000000,2018-10-05 03:25:58.000000000,24,1,0,607565,f8772e19a37e6122f51b397e59033d76cdf468f2,12,5,1,8,14826,Mark Goddard,mgoddard,"Fix non-root reconfiguration with ceph enabled

Various ceph-related tasks were missing a 'become' that would allow them
to work as a non-root user. This seems to only cause a problem after an
initial deployment, perhaps due to the recursive ownership & permissions
changes at the end of the ceph.yml and external_ceph.yml files.

This change adds the necessary becomes.

Change-Id: I887c7b3bdef49db1dd1bf9e5bdbf5dc47b7f41af
Closes-Bug: #1795125
(cherry picked from commit b50917fe2c1d3d45cde79ddaf3afa0c29154db0f)
"
openstack%2Fkolla-ansible~stable%2Frocky~I887c7b3bdef49db1dd1bf9e5bdbf5dc47b7f41af,openstack/kolla-ansible,stable/rocky,bug/1795125-stable/rocky,I887c7b3bdef49db1dd1bf9e5bdbf5dc47b7f41af,Fix non-root reconfiguration with ceph enabled,MERGED,2018-10-03 13:17:45.000000000,2018-10-05 03:25:57.000000000,2018-10-05 03:25:57.000000000,24,1,0,607563,00996b658a9078d1add396cb195bb0b3dd067d99,7,3,1,8,14826,Mark Goddard,mgoddard,"Fix non-root reconfiguration with ceph enabled

Various ceph-related tasks were missing a 'become' that would allow them
to work as a non-root user. This seems to only cause a problem after an
initial deployment, perhaps due to the recursive ownership & permissions
changes at the end of the ceph.yml and external_ceph.yml files.

This change adds the necessary becomes.

Change-Id: I887c7b3bdef49db1dd1bf9e5bdbf5dc47b7f41af
Closes-Bug: #1795125
(cherry picked from commit b50917fe2c1d3d45cde79ddaf3afa0c29154db0f)
"
openstack%2Fcharm-designate~master~I5926a6f63e6308a75771ac6319abd576f453d20a,openstack/charm-designate,master,update-reqs,I5926a6f63e6308a75771ac6319abd576f453d20a,Update requirements,MERGED,2018-10-04 15:47:31.000000000,2018-10-05 03:24:39.000000000,2018-10-05 03:24:39.000000000,25,18,0,607999,0ba69ef3e1458c38628561dd545e33d5152a72f0,11,4,2,4,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I5926a6f63e6308a75771ac6319abd576f453d20a
"
openstack%2Fnova~master~I2c84e118a285d5e8d5165752e642d9aff9eeca3a,openstack/nova,master,bug/1795064,I2c84e118a285d5e8d5165752e642d9aff9eeca3a,Fix logging parameter in _populate_pci_mac_address,MERGED,2018-10-03 16:12:10.000000000,2018-10-05 03:22:05.000000000,2018-10-05 00:22:47.000000000,4,2,0,607628,40e56b2b566d42ca68ea8f60e80d830599325f12,34,17,1,2,6873,Matt Riedemann,mriedem,"Fix logging parameter in _populate_pci_mac_address

The code was erroneously logging a module import, not
the pci_request_id variable. This fixes the code and
adds an assertion to the related test.

Change-Id: I2c84e118a285d5e8d5165752e642d9aff9eeca3a
"
openstack%2Fopenstack-helm~master~I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071,openstack/openstack-helm,master,spec/values-ordering,I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071,Specification: Value File Ordering,MERGED,2018-03-13 11:52:55.000000000,2018-10-05 03:13:37.000000000,2018-10-05 03:13:37.000000000,118,0,8,552485,72172aae5abab14a04e1c91105e32384f8fdcba5,38,11,12,2,25764,Dae Seong Kim,powerds0111,"Specification: Value File Ordering

This specification proposes a value file ordering guideline
to enforce uniformity across all the charts in openstack-helm
project.

Story: 2002206
Task: 21742

Change-Id: I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071
"
openstack%2Fmanila~master~Ibd486c8418469045a0988ef66a1c5cef810d3eae,openstack/manila,master,bug/1773929,Ibd486c8418469045a0988ef66a1c5cef810d3eae,Adds export path option to Quobyte driver,MERGED,2018-05-25 10:39:03.000000000,2018-10-05 02:58:03.000000000,2018-10-05 02:10:25.000000000,24,5,2,570556,bbf8864fe16aaee1e19d3fb8759188d188667037,82,14,6,3,13915,Silvan Kaiser,kaisers,"Adds export path option to Quobyte driver

A new option for configuring the export path of
shares provided by the Quobyte driver is added.
This allows adapting the export path to the settings
of the Quobyte NFS servers 'Pseudo' option.

Besides the new option this also fixes a minor
coding style issue regarding a mutable default
argument in jsonrpc.py.

Implements: blueprint qb-export-path-option
Closes-Bug: #1773929

Change-Id: Ibd486c8418469045a0988ef66a1c5cef810d3eae
"
openstack%2Ftripleo-quickstart-extras~master~I70e43833905cf9dfcf107a7b4152cdd68586f690,openstack/tripleo-quickstart-extras,master,,I70e43833905cf9dfcf107a7b4152cdd68586f690,remove names from tempest mail,MERGED,2018-10-04 18:24:42.000000000,2018-10-05 02:33:20.000000000,2018-10-05 02:33:20.000000000,0,6,0,608049,e644ad63cc74ab1d9f9eb4a63aa00ed5653f121f,8,4,1,1,9592,wes hayutin,weshayutin,"remove names from tempest mail

This patch removes myoung and whayutin
from tempest email notifications

Change-Id: I70e43833905cf9dfcf107a7b4152cdd68586f690
"
openstack%2Fglance~stable%2Fqueens~I966688e67475e00a1eeb0cbe1632d5c811e41e4f,openstack/glance,stable/queens,bug/1750892,I966688e67475e00a1eeb0cbe1632d5c811e41e4f,Update status to active when locations replaced,ABANDONED,2018-08-30 17:52:12.000000000,2018-10-05 02:08:17.000000000,,26,8,0,598253,4ccc1bb68b69f3389e6974c025a2e3b78f550791,11,5,3,2,23561,iain MacDonnell,imacdonn,"Update status to active when locations replaced

Image status should be changed from 'queued' to 'active' when
'locations' has been successfully replaced.

Unit test mocking adjusted for Queens.

Change-Id: I966688e67475e00a1eeb0cbe1632d5c811e41e4f
Closes-Bug: 1750892
(cherry picked from commit e2c54d58b33c7350c78629cc7726b5fa4509637b)
"
openstack%2Fglance~stable%2Frocky~I966688e67475e00a1eeb0cbe1632d5c811e41e4f,openstack/glance,stable/rocky,bug/1750892-stable/rocky,I966688e67475e00a1eeb0cbe1632d5c811e41e4f,Update status to active when locations replaced,ABANDONED,2018-08-30 15:22:33.000000000,2018-10-05 02:08:04.000000000,,32,8,3,598204,680d5b35e7b4d40b6be35cb3a32544eb902441b7,10,8,1,2,23561,iain MacDonnell,imacdonn,"Update status to active when locations replaced

Image status should be changed from 'queued' to 'active' when
'locations' has been successfully replaced.

Change-Id: I966688e67475e00a1eeb0cbe1632d5c811e41e4f
Closes-Bug: 1750892
(cherry picked from commit e2c54d58b33c7350c78629cc7726b5fa4509637b)
"
openstack%2Fkolla-ansible~master~Ic2269d8e85cd38c41d4572c2ab51578a71602e8b,openstack/kolla-ansible,master,bp/better-reconfigure,Ic2269d8e85cd38c41d4572c2ab51578a71602e8b,Optimize reconfiguration for bifrost,ABANDONED,2017-01-23 13:45:41.000000000,2018-10-05 02:04:27.000000000,,43,81,4,424117,1c55866bd5313cdf78088580bc411314fc947d66,10,3,1,7,16233,Mauricio Lima,limamauricio,"Optimize reconfiguration for bifrost

Change-Id: Ic2269d8e85cd38c41d4572c2ab51578a71602e8b
Partially-implements: blueprint better-reconfigure
"
openstack%2Fcyborg-specs~master~Ia1a9efe652e4f22233ff0f775830ec618d860282,openstack/cyborg-specs,master,specs/index-update,Ia1a9efe652e4f22233ff0f775830ec618d860282,Update index with Stein specs.,MERGED,2018-10-04 22:13:15.000000000,2018-10-05 02:00:42.000000000,2018-10-05 02:00:42.000000000,10,0,0,608095,02799040fae3a39166ef6052ac289364b04f6686,6,2,1,1,21672,Sundar Nadathur,nsundar,"Update index with Stein specs.

Change-Id: Ia1a9efe652e4f22233ff0f775830ec618d860282
"
openstack%2Fpuppet-horizon~master~I8e16c0feef9fe51075d9a6e8a98188c52962a6eb,openstack/puppet-horizon,master,,I8e16c0feef9fe51075d9a6e8a98188c52962a6eb,Remove simple_ip_management,MERGED,2018-09-24 09:33:42.000000000,2018-10-05 01:20:24.000000000,2018-10-05 01:20:24.000000000,4,14,0,604710,513dd2d2eb54fbff22929552bac0bdcb67cc3a1f,17,4,2,4,16137,Tobias Urdin,tobasco,"Remove simple_ip_management

The simple_ip_management option was removed in Rocky [1]
so we remove it for Stein.

[1] https://docs.openstack.org/releasenotes/horizon/rocky.html

Change-Id: I8e16c0feef9fe51075d9a6e8a98188c52962a6eb
"
openstack%2Ftripleo-common~stable%2Fpike~I14f0f778d21b0d2a27d6e02468dac2cc1c8f25f7,openstack/tripleo-common,stable/pike,bug/1791077,I14f0f778d21b0d2a27d6e02468dac2cc1c8f25f7,Disable external plugins in rabbitmq container,MERGED,2018-09-09 13:51:24.000000000,2018-10-05 01:09:16.000000000,2018-10-05 01:09:16.000000000,5,0,0,601077,aad412a06869df35398c031206a323bb5ccd999d,15,5,1,1,20172,Michele Baldessari,michele,"Disable external plugins in rabbitmq container

We are doing this in the rabbit kolla container in tripleo:
{% block rabbitmq_install_plugins %}

RUN rm -rf /var/lib/rabbitmq/* \
    && ln -s /usr/lib/rabbitmq/lib/rabbitmq_server-3.6.* /usr/lib/rabbitmq/lib/rabbitmq_server-3.6 \
    && curl -o /usr/lib/rabbitmq/lib/rabbitmq_server-3.6/plugins/rabbitmq_clusterer-3.6.x-667f92b0.ez http://www.rabbitmq.com/community-plugins/v3.6.x/rabbitmq_clusterer-3.6.x-667f92b0.ez \
    && /usr/lib/rabbitmq/bin/rabbitmq-plugins enable --offline \
       rabbitmq_management \
       rabbitmq_clusterer

{% endblock %}

We should disable this as:
a) this is unwanted
b) we want to use only plugins shipped with rpm
c) we do not use those two plugins anyway

We do this by simply overriding the ""rabbitmq_install_plugins"" to a
comment.

NB: Cherry-pick not 100% clean

Change-Id: I14f0f778d21b0d2a27d6e02468dac2cc1c8f25f7
Closes-Bug: #1791077
(cherry picked from commit 699d5002ccf43f8f20594116b9e5e0ea3b2d6d18)
"
openstack%2Fsearchlight-ui~master~I42e91ac53324a5493be031bd5d52b48f6504f0e9,openstack/searchlight-ui,master,,I42e91ac53324a5493be031bd5d52b48f6504f0e9,Correct project git urls,MERGED,2018-10-04 15:49:16.000000000,2018-10-05 00:56:44.000000000,2018-10-05 00:56:44.000000000,2,2,0,608009,0b2cf9c0a33ca49ad407d4221806b65395d17186,6,2,1,2,27068,Trinh Nguyen,dangtrinhnt,"Correct project git urls

Change-Id: I42e91ac53324a5493be031bd5d52b48f6504f0e9
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>
"
openstack%2Fsearchlight-ui~master~I4225d3efd0d1f3750dd75ba83b17202db1ac1190,openstack/searchlight-ui,master,,I4225d3efd0d1f3750dd75ba83b17202db1ac1190,Add Searclight Policy README,MERGED,2018-10-04 14:43:10.000000000,2018-10-05 00:54:27.000000000,2018-10-05 00:54:26.000000000,7,0,0,607976,723282732bf879d85b537349c6c1e9826bbce899,6,2,1,1,27068,Trinh Nguyen,dangtrinhnt,"Add Searclight Policy README

Change-Id: I4225d3efd0d1f3750dd75ba83b17202db1ac1190
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>
"
openstack%2Fneutron~master~Ie3e051c43d68d09716fc0a4506ed111908730280,openstack/neutron,master,python3-first,Ie3e051c43d68d09716fc0a4506ed111908730280,remove trailing comma for linter,MERGED,2018-10-01 20:36:07.000000000,2018-10-05 00:53:46.000000000,2018-10-05 00:53:45.000000000,1,1,0,607045,ebfed6090bfefac5242aa59d97655d95b097e138,44,14,4,1,2472,Doug Hellmann,doug-hellmann,"remove trailing comma for linter

The linter sees the trailing comma after the function call as building
a tuple without wrapping it in parens. That doesn't seem to be the
intent (it looks like a typo), so remove the comma.

Change-Id: Ie3e051c43d68d09716fc0a4506ed111908730280
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fpatrole~master~I7cf3a294a038268fe8fa3119981f282f782b2a74,openstack/patrole,master,policy-authority-tests,I7cf3a294a038268fe8fa3119981f282f782b2a74,Improve unit tests for policy authority module,NEW,2018-07-31 02:15:22.000000000,2018-10-05 00:53:35.000000000,,181,106,1,587267,bf8b1f1ef1a93beda87ed4ac018330fea820714e,18,3,7,9,23186,Felipe Monteiro,felipe.monteiro,"Improve unit tests for policy authority module

This patch set improves unit tests for policy authority module:

- adds better/more intuitive resource policy files
- adds tests for validating oslo.policy GenericCheck checks by
  passing in additional metadata

Change-Id: I7cf3a294a038268fe8fa3119981f282f782b2a74
"
openstack%2Fopenstack-ansible-os_tempest~master~I99486c136d34cda038ea3c2d543df4081178ce60,openstack/openstack-ansible-os_tempest,master,,I99486c136d34cda038ea3c2d543df4081178ce60,use include_tasks instead of include,MERGED,2018-07-24 11:14:59.000000000,2018-10-05 00:50:24.000000000,2018-09-08 17:58:19.000000000,14,14,1,585276,deaee29ec3d681f126ff1fc809d9166caf77e6e5,30,7,6,2,22165,caoyuan,caoyuan,"use include_tasks instead of include

include is marked as deprecated since ansible 2.4[0]

Switch to include_tasks or import_playbook as necessary

[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated

Change-Id: I99486c136d34cda038ea3c2d543df4081178ce60
"
openstack%2Ftripleo-common~stable%2Fqueens~I4b05933bd8b24119ed2d1040af60b4b3a2e3140f,openstack/tripleo-common,stable/queens,bug/1784967-stable/queens,I4b05933bd8b24119ed2d1040af60b4b3a2e3140f,Add on-error task to parse_node_data_lookup,MERGED,2018-10-03 19:34:11.000000000,2018-10-05 00:49:18.000000000,2018-10-05 00:49:17.000000000,2,0,0,607695,814bd2cf4b4bb393cb7af1ea8587c9573c5edcef,9,4,1,1,18002,John Fulton,fultonj,"Add on-error task to parse_node_data_lookup

If the ceph-ansible workbook fails to parse node_data_lookup
because it does not contain valid JSON, then fail the task
with a message that the NodeDataLookup JSON isn't valid.

Change-Id: I4b05933bd8b24119ed2d1040af60b4b3a2e3140f
Closes-Bug: #1784967
(cherry picked from commit 5b1c4c00eea2242b82bd68498b45b7f65adbf811)
"
openstack%2Fopenstack-ansible-os_aodh~master~Id9296d69814f3ad72fee5095893fdd7f1729aa5c,openstack/openstack-ansible-os_aodh,master,,Id9296d69814f3ad72fee5095893fdd7f1729aa5c,use include_tasks instead of include,MERGED,2018-07-24 11:14:52.000000000,2018-10-05 00:48:27.000000000,2018-09-03 07:57:21.000000000,12,12,1,585271,ac625f81dd621ece7f7becabe6ae2f0c2f48f9b9,40,7,7,2,22165,caoyuan,caoyuan,"use include_tasks instead of include

include is marked as deprecated since ansible 2.4[0]

Switch to include_tasks or import_playbook as necessary

[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated

Change-Id: Id9296d69814f3ad72fee5095893fdd7f1729aa5c
"
openstack%2Fopenstack-ansible-os_tacker~master~I0af7a64bf1528978b770da954a9574e767a50e65,openstack/openstack-ansible-os_tacker,master,bug/1794643,I0af7a64bf1528978b770da954a9574e767a50e65,Remove the unused tacker_horizon_dashboard_disable defined,ABANDONED,2018-09-27 02:38:03.000000000,2018-10-05 00:30:26.000000000,,0,2,0,605571,f8ecc16e6f4b155f7308c22a9225d9c2e8da6baa,10,3,2,1,21691,weizj,ZhijunWei,"Remove the unused tacker_horizon_dashboard_disable defined

In default/main.yml, tacker_horizon_dashboard_disable is unused
anywhere, the dashboard will be completed in
openstack-ansible-os_horizon project, the defined should be removed.

Change-Id: I0af7a64bf1528978b770da954a9574e767a50e65
Closes-Bug: #1794643
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I5864ea4ba7364834ed7b47de64674ade87719e2e,openstack/tripleo-heat-templates,stable/rocky,,I5864ea4ba7364834ed7b47de64674ade87719e2e,Add a fact checking xinetd service present,MERGED,2018-10-01 14:01:28.000000000,2018-10-05 00:12:15.000000000,2018-10-05 00:12:15.000000000,15,0,0,606955,3d422bb9838dd82690b5a131744db9f520cba18b,8,4,1,1,11090,Sergii Golovatiuk,holser,"Add a fact checking xinetd service present

Upgrade rocky->master was failing at service xinetd missing

Change-Id: I5864ea4ba7364834ed7b47de64674ade87719e2e
(cherry picked from commit 35088487c265eb153693a13179a39ac07a495f4f)
"
openstack%2Fneutron-tempest-plugin~master~Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44,openstack/neutron-tempest-plugin,master,migration-to-zuulv3,Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44,Migrate dvr multinode scenario to zuulv3 syntax,MERGED,2018-06-28 13:27:27.000000000,2018-10-04 23:38:28.000000000,2018-10-04 23:38:28.000000000,159,81,34,578796,f31e3ee50c8f13452c1ee9eda5fd088e60e6d7e1,99,10,33,7,11975,Slawek Kaplonski,slaweq,"Migrate dvr multinode scenario to zuulv3 syntax

Job neutron-tempest-plugin-dvr-multinode-scenario was the
last job in neutron-tempest-plugin repo defined using
legacy zuulv2 templates.
This commit migrates it to zuulv3 syntax.

It also adds new ansible role ""multi-node-setup"" which
which creates patch ports between Neutron's external
bridge (br-ex) and infra bridge (br-infra). That is necessary
to provide connectivity to floating IPs, which may be
configured on subnode when dvr is used, from each node.

This patch introduces also new playbook
""dvr-multinode-scenario-pre-run"" which is used to be run in
neutron-tempest-plugin-dvr-multinode-scenario job and which
uses ""multi-node-setup"" role to create those patch ports
on each host used in job.

Change-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44
"
openstack%2Fnova~master~I69d760aaf931d46f011cfd229b88f400837662e8,openstack/nova,master,bp/use-nested-allocation-candidates,I69d760aaf931d46f011cfd229b88f400837662e8,Use provider tree in virt FakeDriver,MERGED,2018-09-20 13:17:52.000000000,2018-10-04 23:38:25.000000000,2018-10-04 23:38:25.000000000,29,0,6,604083,4f69a63a477e2cd0cfa72994612de006f3e4b11b,96,18,6,1,9708,Balazs Gibizer,gibi,"Use provider tree in virt FakeDriver

As a preparation to use nested trees in functional tests this patch
changes the FakeDriver implementation to use the update_provider_tree
method to report the compute inventory.

Change-Id: I69d760aaf931d46f011cfd229b88f400837662e8
Blueprint: use-nested-allocation-candidates
"
openstack%2Fnova~master~I8036dc4351aa4b77f41b44622ae030cc8ae51d2f,openstack/nova,master,bp/use-nested-allocation-candidates,I8036dc4351aa4b77f41b44622ae030cc8ae51d2f,Enable nested allocation candidates in scheduler,MERGED,2018-07-25 08:09:28.000000000,2018-10-04 23:33:27.000000000,2018-10-04 23:33:27.000000000,7,8,13,585672,dc8ff63fe4f9c4d916c1a4aaeed202e186f8090e,144,22,10,2,25625,Tetsuro Nakamura,tetsuro0907,"Enable nested allocation candidates in scheduler

This patch changes scheduler client to use 1.29 microversion,
in which nested allocation candidates feature is enabled,
when getting allocation candidates.

Blueprint: use-nested-allocation-candidates
Change-Id: I8036dc4351aa4b77f41b44622ae030cc8ae51d2f
"
openstack%2Fneutron~master~I45a222c098658eef6a49adcc168b0f5625ea49db,openstack/neutron,master,best-match-deprecated,I45a222c098658eef6a49adcc168b0f5625ea49db,Fix best_match() deprecation warning,MERGED,2018-09-28 21:00:54.000000000,2018-10-04 23:33:23.000000000,2018-10-04 23:33:22.000000000,16,7,0,606203,bc4f93c232d1a608ae88fa027371755bed54b3ca,27,10,3,4,1131,Brian Haley,brian-haley,"Fix best_match() deprecation warning

wsgi call to best_match() generates the following warning:

DeprecationWarning: The behavior of AcceptValidHeader.best_match
is currently being maintained for backward compatibility, but it
will be deprecated in the future, as it does not conform to the RFC.

Change to use acceptable_offers() as was done in nova code.

Simlar changes in the wsgi best language code as well, except
new call is to lookup().

Required bump to get WebOb 1.8.2.

Trivialfix

Change-Id: I45a222c098658eef6a49adcc168b0f5625ea49db
"
openstack%2Ftap-as-a-service~master~I30c6ac700d4b1ad6ab09d81051640e7774299b71,openstack/tap-as-a-service,master,sriov-nic-driver-for-taas,I30c6ac700d4b1ad6ab09d81051640e7774299b71,Add SRIOV mirroring support to Tap as a Service.,ABANDONED,2018-07-23 14:02:55.000000000,2018-10-04 23:27:54.000000000,,1476,29,42,584892,19d126799f1b1f68dbbab02fd78daa57887934d6,37,14,14,18,27589,Deepak Tiwari,deepak.tiwari,"Add SRIOV mirroring support to Tap as a Service.

The following patch allows VF to VF mirroring in Tap-as-a-Service
Code-changes are applicable for new tap agent driver for sriov on
Intel i40e nic.

The current TaaS SRIOV driver is based on Intel i40e NIC driver with
following requirements:-

hardware: Intel Ethernet Network Adapter XXV710 (25GbE)
Driver: Intel i40e v4.16.0

Ref Spec: openstack/neutron-specs/specs/rocky/port-mirroring-sriov-vfs.rst
Commit: https://review.openstack.org/#/c/574477/

Change-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71
"
openstack%2Fnetworking-odl~stable%2Frocky~Id9529cd1403e345522b39b007c64f71812456b35,openstack/networking-odl,stable/rocky,python3-first,Id9529cd1403e345522b39b007c64f71812456b35,import zuul job settings from project-config,MERGED,2018-08-30 00:09:44.000000000,2018-10-04 23:03:39.000000000,2018-10-04 23:03:39.000000000,109,0,2,597953,a7aa3390076dfa00e3dffed84091477deeaa4836,26,7,3,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Id9529cd1403e345522b39b007c64f71812456b35
Story: #2002586
Task: #24314
"
openstack%2Fcookbook-openstack-compute~stable%2Fqueens~Ib58a0c2ef5096d9ba0007b5783627e4f9ea4ecf3,openstack/cookbook-openstack-compute,stable/queens,vncserver,Ib58a0c2ef5096d9ba0007b5783627e4f9ea4ecf3,Rename attributes: vncserver_* -> server_*,MERGED,2018-10-02 14:56:57.000000000,2018-10-04 22:34:23.000000000,2018-10-04 22:34:23.000000000,9,9,0,607275,50589b0e2a6194d6130e4698d604e6a8a2a9365d,8,3,2,3,11109,Roger Luethi,rluethi,"Rename attributes: vncserver_* -> server_*

Source:
* openstack/nova git repo:
  conf: Rename two VNC options
  Change-Id: Ic05c2c8364e015f6878b0bc25449216624568ad5
  commit e5a03e3c54d57aa29bd8154c9eddf7ee52c6c3b5

Change-Id: Ib58a0c2ef5096d9ba0007b5783627e4f9ea4ecf3
"
openstack%2Fcookbook-openstack-compute~stable%2Fqueens~I47f8451b830892ff0b2d85a553cfe31b8deec1b0,openstack/cookbook-openstack-compute,stable/queens,region_name,I47f8451b830892ff0b2d85a553cfe31b8deec1b0,placement: os_region_name -> region_name,MERGED,2018-10-02 14:56:05.000000000,2018-10-04 22:34:22.000000000,2018-10-04 22:34:22.000000000,2,2,0,607266,6037be201c54858c335a127ea0260d76ca73ad3b,7,3,1,2,11109,Roger Luethi,rluethi,"placement: os_region_name -> region_name

Source:
* openstack/nova git repo:
  Update the deprecate os_region_name option
  Change-Id: Id44d456bb1bdb0c5564ad4f5d9cdee2f41226052
  commit d163fb6d697d74ea93ffc394187871a3a8c4ccd8

Change-Id: I47f8451b830892ff0b2d85a553cfe31b8deec1b0
"
openstack%2Fcookbook-openstack-dns~stable%2Fqueens~I04e9680e3b850b8a7cc5b7557c430e5453602956,openstack/cookbook-openstack-dns,stable/queens,api_host,I04e9680e3b850b8a7cc5b7557c430e5453602956,Replace api_host/api_port with listen,MERGED,2018-09-28 14:16:44.000000000,2018-10-04 22:32:54.000000000,2018-10-04 22:32:54.000000000,2,3,0,606094,61b240c48e9974b796cb8bbb968b4bc5af993078,7,3,1,2,11109,Roger Luethi,rluethi,"Replace api_host/api_port with listen

According to the Designate upgrade notes[1], the options api_host and
api_port have been deprecated with OpenStack Newton, and they do not
work with the Queens release.

[1] designate-api’s api_host and api_port configuration options have
    been deprecated, please use the new combined “listen” argument
    in place of these.
    https://docs.openstack.org/releasenotes/designate/newton.html

Change-Id: I04e9680e3b850b8a7cc5b7557c430e5453602956
"
openstack%2Freleases~master~I16d14b49ca088068074b4154ea854746b803e08c,openstack/releases,master,networking-ovn-rocky,I16d14b49ca088068074b4154ea854746b803e08c,Release networking-ovn 5.0.1 (Rocky),MERGED,2018-09-14 12:58:03.000000000,2018-10-04 22:25:13.000000000,2018-10-04 22:25:13.000000000,4,0,0,602609,ceadc47a6a4227989ac2cd0a382d58f1ec7cd88a,37,9,6,1,6773,Lucas Alvares Gomes,lucasagomes,"Release networking-ovn 5.0.1 (Rocky)

This new release include some important bug fixes for IPv6 [0] support,
integration with Octavia [1] and port groups support (in a backward
compatible way)[2].

[0] https://review.openstack.org/#/c/596733/
[1] https://review.openstack.org/#/c/601293/
[2] https://review.openstack.org/#/c/594136/

Change-Id: I16d14b49ca088068074b4154ea854746b803e08c
"
openstack%2Fcharm-odl-controller~master~Ib8f978ad74ffb727e528d55cc1344174791a5fb6,openstack/charm-odl-controller,master,update-reqs,Ib8f978ad74ffb727e528d55cc1344174791a5fb6,Update requirements,ABANDONED,2018-10-03 18:11:17.000000000,2018-10-04 22:18:24.000000000,,7,7362,0,607674,39d58afc96f5521d628bcc52cd644115eb3a96a3,8,3,1,33,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: Ib8f978ad74ffb727e528d55cc1344174791a5fb6
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ie39f2eb1b5dab5b6a43485f655a05bed5454dc76,openstack/tripleo-upgrade,stable/queens,bm-ping-stable/rocky-stable/queens,Ie39f2eb1b5dab5b6a43485f655a05bed5454dc76,Don't change user during ping check.,MERGED,2018-10-04 11:20:12.000000000,2018-10-04 22:11:24.000000000,2018-10-04 22:11:24.000000000,1,0,0,607913,ca1307a0c727548ec27acfe762b2a0a33eb97e9e,7,2,1,1,21537,Yurii Prokulevych,yprokule,"Don't change user during ping check.

When bm undercloud is rebooted task is delegated to 'localhost',
where user 'stack' may not exist:
 Failed to set permissions on the temporary files
 Ansible needs to create when becoming an unprivileged user
 (rc: 1, err: chown: invalid user: stack

Change-Id: Ie39f2eb1b5dab5b6a43485f655a05bed5454dc76
(cherry picked from commit 1e04ab81a57ade978dca4f0d7693e8aafc41c91a)
(cherry picked from commit ac45ed2b209c91e29ee630a86a4663e72eb6fb12)
"
openstack%2Fglance~master~Ie77348223477060d522a063ceae17e92f4dc26af,openstack/glance,master,its-typos,Ie77348223477060d522a063ceae17e92f4dc26af,"fix ""it's"" typos",MERGED,2018-10-04 16:26:25.000000000,2018-10-04 22:05:47.000000000,2018-10-04 22:05:47.000000000,2,2,0,608022,2f402ff9eab381b14bd357b882be7db73f32bec9,8,5,1,1,2394,Adam Spiers,adam.spiers,"fix ""it's"" typos

""it's"" should only be used to mean ""it is"", not as a possessive.

https://en.oxforddictionaries.com/punctuation/apostrophe#it_s_or_its

Change-Id: Ie77348223477060d522a063ceae17e92f4dc26af
"
openstack%2Fnova~stable%2Fpike~I27160140cbccf3e6914aed2dcff54d547e446c1f,openstack/nova,stable/pike,bug/1781880,I27160140cbccf3e6914aed2dcff54d547e446c1f,Fix service list for disabled compute using MC driver,MERGED,2018-08-16 10:14:39.000000000,2018-10-04 22:05:40.000000000,2018-10-04 22:05:39.000000000,15,1,1,592337,b9ea6939db92662f4978866e9d48c43e67568922,19,11,2,2,9373,Vlad Gusev,s10,"Fix service list for disabled compute using MC driver

In 0df91a7f799060cd2e9b8a0adac1efacb974bcb3 a comparison
between ``updated_at`` field from services table and update time
from memcache was added if the servergroup_driver is set to be
mc.

This could be problematic if servergroup_driver=mc and
``[DEFAULT]/enable_new_services`` option in /etc/nova/nova.conf
is set to be ``False`` at the same time, as the ``updated_at``
field will always be ``Null`` in services record.

This patch fixes the bug by returning ``updated_time_in_mc`` instead
under the above mentioned scenario.

Closes-Bug: #1781880

Conflict is caused by I10b84a9cc7f0cc8ea213a377e4c4f16168b6e45b
not being in Pike.

Change-Id: I27160140cbccf3e6914aed2dcff54d547e446c1f
(Cherry-picked from 0f4e5c442c0ab446274979dafda873c1e1c20585)
"
openstack%2Freleases~master~I820c50e2cfa77194836b78702d74f60a8dc09bea,openstack/releases,master,final,I820c50e2cfa77194836b78702d74f60a8dc09bea,Final Rocky release for TripleO,MERGED,2018-10-04 18:42:23.000000000,2018-10-04 21:44:13.000000000,2018-10-04 21:44:13.000000000,15,0,0,608056,987ea83b9edef702e823c22ac7f9d8b7edee961d,10,3,4,3,3153,Emilien Macchi,emilienm,"Final Rocky release for TripleO

Tag final Rocky tag for:
- tripleo-heat-templates.yaml
- tripleo-image-elements.yaml
- tripleo-puppet-elements.yaml

Change-Id: I820c50e2cfa77194836b78702d74f60a8dc09bea
"
openstack%2Fceilometermiddleware~stable%2Focata~Ice022374a018229749c54b1114bd4e28d326697c,openstack/ceilometermiddleware,stable/ocata,python3-first,Ice022374a018229749c54b1114bd4e28d326697c,import zuul job settings from project-config,MERGED,2018-08-31 12:11:59.000000000,2018-10-04 21:35:09.000000000,2018-10-04 21:35:08.000000000,7,0,0,598650,3f039936bd0886be593651366c2c8143164b1caf,8,3,1,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ice022374a018229749c54b1114bd4e28d326697c
Story: #2002586
Task: #24339
"
openstack%2Fnova~stable%2Focata~I4253cffca3dbf558c875eed7e77711a31e9e3406,openstack/nova,stable/ocata,bug/1714248,I4253cffca3dbf558c875eed7e77711a31e9e3406,Re-use existing ComputeNode on ironic rebalance,MERGED,2018-10-03 16:11:12.000000000,2018-10-04 21:32:47.000000000,2018-10-04 21:32:47.000000000,150,2,13,607626,028f03c8c3d3dac4de50aa8658c474395a683d61,24,9,3,5,7,Jay Pipes,jaypipes,"Re-use existing ComputeNode on ironic rebalance

When a nova-compute service dies that is one of several ironic based
nova-compute services running, a node rebalance occurs to ensure there
is still an active nova-compute service dealing with requests for the
given instance that is running.

Today, when this occurs, we create a new ComputeNode entry. This change
alters that logic to detect the case of the ironic node rebalance and in
that case we re-use the existing ComputeNode entry, simply updating the
host field to match the new host it has been rebalanced onto.

Previously we hit problems with placement when we get a new
ComputeNode.uuid for the same ironic_node.uuid. This reusing of the
existing entry keeps the ComputeNode.uuid the same when the rebalance of
the ComputeNode occurs.

Without keeping the same ComputeNode.uuid placement errors out with a 409
because we attempt to create a ResourceProvider that has the same name
as an existing ResourceProvdier. Had that worked, we would have noticed
the race that occurs after we create the ResourceProvider but before we
add back the existing allocations for existing instances. Keeping the
ComputeNode.uuid the same means we simply look up the existing
ResourceProvider in placement, avoiding all this pain and tears.

Conflicts:

    nova/tests/unit/compute/test_resource_tracker.py
    nova/virt/driver.py
    nova/virt/fake.py
    nova/virt/ironic/driver.py

Conflicts were small, primarily due to the addition in Pike of the virt
driver's requires_allocation_refresh class attribute. This attribute is
not used in Ocata.

Closes-Bug: #1714248
Co-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>
Change-Id: I4253cffca3dbf558c875eed7e77711a31e9e3406
(cherry picked from commit e3c5e22d1fde7ca916a8cc364f335fba8a3a798f)
(cherry picked from commit e95277fa3eba86a7290212313da4dc3c81c286f3)
"
openstack%2Fcharm-keystone-ldap~master~Iab32fd02667ae96dc5cc929b52e12c27d01d10c1,openstack/charm-keystone-ldap,master,update-reqs,Iab32fd02667ae96dc5cc929b52e12c27d01d10c1,Update requirements,MERGED,2018-10-04 15:47:51.000000000,2018-10-04 21:31:05.000000000,2018-10-04 21:31:05.000000000,28,28,0,608002,2eefce0f514bb69489496d0ec2867f0ade472031,12,4,3,5,20635,Ryan Beisner,ryan-beisner,"Update requirements

Fixup existing lint.

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: Iab32fd02667ae96dc5cc929b52e12c27d01d10c1
"
openstack%2Fcharm-neutron-openvswitch~master~Ic5e96336b6a2ca474fc28d358553c6a05e1a75ce,openstack/charm-neutron-openvswitch,master,py3-rocky,Ic5e96336b6a2ca474fc28d358553c6a05e1a75ce,py3: Switch to Python 3 for OpenStack Rocky,MERGED,2018-09-20 07:59:32.000000000,2018-10-04 21:29:15.000000000,2018-10-04 16:21:27.000000000,50,6,0,604013,3015d95af846c0fdf6ddbff9b92211fc64ba3298,18,4,2,6,935,James Page,james-page,"py3: Switch to Python 3 for OpenStack Rocky

Switch to execution of Neutron agents under Python 3 for
OpenStack Rocky; this is triggered by the nova-compute charm
mutating the container scoped neutron-plugin relation post
OpenStack series upgrade.

Update default smoke test target to bionic-rocky.

Change-Id: Ic5e96336b6a2ca474fc28d358553c6a05e1a75ce
"
openstack%2Fcharm-designate-bind~master~I141feafd571ea84dd0d871c0e401bac46e63b893,openstack/charm-designate-bind,master,update-reqs,I141feafd571ea84dd0d871c0e401bac46e63b893,Update requirements,MERGED,2018-10-04 15:47:38.000000000,2018-10-04 21:19:00.000000000,2018-10-04 21:19:00.000000000,25,18,0,608000,6f45fa2afb94b054c49c5ce33232fcfc07504457,12,4,2,4,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I141feafd571ea84dd0d871c0e401bac46e63b893
"
openstack%2Fcharm-neutron-api-odl~master~I87913a0be650a2102f7ea39febb4614bb288e547,openstack/charm-neutron-api-odl,master,update-reqs,I87913a0be650a2102f7ea39febb4614bb288e547,Update requirements,ABANDONED,2018-10-04 15:48:15.000000000,2018-10-04 21:18:52.000000000,,26,25,0,608006,53274a135ba9633ba5e12fe50d47036b431d1e96,10,4,2,3,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I87913a0be650a2102f7ea39febb4614bb288e547
"
openstack%2Fcharm-openvswitch-odl~master~Ifc849b977f4019cb3e68427ada19267560d3df21,openstack/charm-openvswitch-odl,master,update-reqs,Ifc849b977f4019cb3e68427ada19267560d3df21,Update requirements,ABANDONED,2018-10-04 15:48:22.000000000,2018-10-04 21:18:49.000000000,,26,26,0,608007,929d5bd9117d27e3bede048bf071aeb4d4af219f,7,3,2,3,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: Ifc849b977f4019cb3e68427ada19267560d3df21
"
openstack%2Fcharm-manila-generic~master~Ib4e09f19854cf35492b4c7a84d7f7828c0796174,openstack/charm-manila-generic,master,update-reqs,Ib4e09f19854cf35492b4c7a84d7f7828c0796174,Update requirements,MERGED,2018-10-04 15:48:08.000000000,2018-10-04 21:17:40.000000000,2018-10-04 21:17:40.000000000,25,14,0,608005,ff6d707acfb356d5d77cd60fd47adc1b5e4832de,13,4,2,3,20635,Ryan Beisner,ryan-beisner,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: Ib4e09f19854cf35492b4c7a84d7f7828c0796174
"
openstack%2Ftripleo-quickstart-extras~master~I6f024bceb4b3501f1cacdbe7ebad4fece8e109e5,openstack/tripleo-quickstart-extras,master,tempest-standalone,I6f024bceb4b3501f1cacdbe7ebad4fece8e109e5,Run tempest on standalone,ABANDONED,2018-06-27 14:09:56.000000000,2018-10-04 21:16:25.000000000,,6,0,0,578403,9f72d067da83ba52e325322927464eada5299770,11,4,2,1,8367,Arx Cruz,arxcruz,"Run tempest on standalone

Depends-On: https://review.openstack.org/#/c/578320/
Change-Id: I6f024bceb4b3501f1cacdbe7ebad4fece8e109e5
"
openstack%2Fpuppet-glance~master~I696c6f0c76b257fa30e8afc691eef5ed69cece14,openstack/puppet-glance,master,enable-py3,I696c6f0c76b257fa30e8afc691eef5ed69cece14,Adjust glance packages name for Fedora,MERGED,2018-09-25 16:29:55.000000000,2018-10-04 21:15:23.000000000,2018-10-04 21:15:23.000000000,2,7,0,605122,a14d727430dff011c51ab62e807a6c1c072fdc67,27,7,3,1,13861,yatin,yatinkarel,"Adjust glance packages name for Fedora

With [1] RDO distgits are used for glance, so
know openstack-glance-api and openstack-glance-registry
do not exist for Fedora, this patch adjusts the packages.

[1] https://review.rdoproject.org/r/#/c/16369/

Depends-On: https://review.openstack.org/#/c/605606/
Depends-On: https://review.openstack.org/#/c/605326/
Change-Id: I696c6f0c76b257fa30e8afc691eef5ed69cece14
"
openstack%2Ftripleo-validations~stable%2Frocky~I788bce65812036aeb567e77003e51f08cef788ef,openstack/tripleo-validations,stable/rocky,bug/1744322-stable/rocky,I788bce65812036aeb567e77003e51f08cef788ef,Fix several config file location,MERGED,2018-10-03 08:31:11.000000000,2018-10-04 21:09:37.000000000,2018-10-04 21:09:37.000000000,5,5,0,607498,8ff498ccb6c2f2894bfc70dfee930101411c276f,7,3,1,1,11491,Gael Chamoulaud,gchamoul,"Fix several config file location

This patch is fixing the path to the config file of all the services which has
been containerized. This validations should work again.

Change-Id: I788bce65812036aeb567e77003e51f08cef788ef
Partial-Bug: #1744322
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 18d22f1835e6949fa84f0bc44e28495de62d25f8)
"
openstack%2Ftripleo-validations~stable%2Frocky~I048cd6c1dcb3994d800ee1884e0fd6e5068e87db,openstack/tripleo-validations,stable/rocky,,I048cd6c1dcb3994d800ee1884e0fd6e5068e87db,Fix a minor typo in the ceilometerdb-size validation,MERGED,2018-10-03 08:31:56.000000000,2018-10-04 21:09:36.000000000,2018-10-04 21:09:36.000000000,1,1,0,607499,15cc46491f6c36a47ee221a428538b838fb182b3,7,3,1,1,11491,Gael Chamoulaud,gchamoul,"Fix a minor typo in the ceilometerdb-size validation

s/ceilomter.conf/ceilometer.conf/

Change-Id: I048cd6c1dcb3994d800ee1884e0fd6e5068e87db
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit fdcd8be0d2bb612577df25016527a8cf51a4b1b4)
"
openstack%2Ftripleo-quickstart-extras~master~I7025965f612acde88690336cb353c8a91b6f543d,openstack/tripleo-quickstart-extras,master,,I7025965f612acde88690336cb353c8a91b6f543d,Do not override resource_registry for UC heat,MERGED,2018-10-01 09:58:17.000000000,2018-10-04 21:09:36.000000000,2018-10-04 21:09:35.000000000,9,11,0,606925,b3646e13831251ba06f3c5ef8de2899e7b0c7642,20,10,1,4,6926,Bogdan Dobrelya,bogdando,"Do not override resource_registry for UC heat

By default, provide no overrides for the resource_registry
used to deploy undercloud with heat. This allows to
use t-h-t defaults, by quickstart default, and seems better
than running with opinionated values.

Change-Id: I7025965f612acde88690336cb353c8a91b6f543d
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fnetworking-sfc~master~I594c4bca6d5abef370008bb0c8b5c0dc8b7f8787,openstack/networking-sfc,master,python3-first,I594c4bca6d5abef370008bb0c8b5c0dc8b7f8787,import zuul job settings from project-config,MERGED,2018-08-30 00:05:38.000000000,2018-10-04 20:55:28.000000000,2018-10-04 20:55:28.000000000,6,0,0,597877,6eb0e97ef548fe076747e95515e4240681c7f9eb,11,13,1,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I594c4bca6d5abef370008bb0c8b5c0dc8b7f8787
Story: #2002586
Task: #24314
"
openstack%2Ftraining-guides~master~Icc350fe761542e57ef740d449195bfb40fa56813,openstack/training-guides,master,,Icc350fe761542e57ef740d449195bfb40fa56813,[upstream] Fixes to Trainee's Guide,MERGED,2018-10-03 23:40:28.000000000,2018-10-04 20:45:49.000000000,2018-10-04 20:45:49.000000000,3,7,3,607736,094598c8ec6b7555bc6f767c5896232fb509cb72,10,3,2,1,16708,Kendall Nelson,kjnelson,"[upstream] Fixes to Trainee's Guide

This patch makes some additions to the directions in the
trainees guide so that students are better prepared for OUI
and removes a direction that is covered during the training.

Change-Id: Icc350fe761542e57ef740d449195bfb40fa56813
"
openstack%2Fbarbican~stable%2Focata~I9c63aea5ee9a573cc4016359a84e8ff014ad8b4e,openstack/barbican,stable/ocata,python3-first,I9c63aea5ee9a573cc4016359a84e8ff014ad8b4e,import zuul job settings from project-config,MERGED,2018-09-04 15:53:11.000000000,2018-10-04 20:38:16.000000000,2018-10-04 20:38:16.000000000,12,0,0,599655,d1c983af524ff265192d513b933891d69802a28a,10,16,1,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I9c63aea5ee9a573cc4016359a84e8ff014ad8b4e
Story: #2002586
Task: #24285
"
openstack%2Fbarbican~stable%2Fpike~Iae3cbb9fcb704354aadd7050e0be393750c00449,openstack/barbican,stable/pike,python3-first,Iae3cbb9fcb704354aadd7050e0be393750c00449,import zuul job settings from project-config,MERGED,2018-09-04 15:53:18.000000000,2018-10-04 20:38:14.000000000,2018-10-04 20:38:14.000000000,10,0,0,599657,56c67ada949997434729b1054008263b010f13db,10,16,1,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Iae3cbb9fcb704354aadd7050e0be393750c00449
Story: #2002586
Task: #24285
"
openstack%2Ftripleo-heat-templates~master~Ib7717911aba3267f855ac6682b0144bfe92034fb,openstack/tripleo-heat-templates,master,bug/1793665,Ib7717911aba3267f855ac6682b0144bfe92034fb,Fix placement region setting,MERGED,2018-10-04 12:54:03.000000000,2018-10-04 20:34:42.000000000,2018-10-04 20:34:42.000000000,1,1,0,607952,f2e72352b1376ce719614e9cad4e4c71a3f9c3d8,15,8,3,1,10873,Juan Antonio Osorio Robles,ejuaoso,"Fix placement region setting

We were using a deprecated interfce to set this value. This uses the
correct one.

Closes-Bug: #1793665
Change-Id: Ib7717911aba3267f855ac6682b0144bfe92034fb
"
openstack%2Fproject-config~master~If659a6f1fb50d288afed75e3f4975f7a4d140d35,openstack/project-config,master,stackviz-location,If659a6f1fb50d288afed75e3f4975f7a4d140d35,Update stackviz tarball location,MERGED,2018-10-04 17:47:21.000000000,2018-10-04 20:33:49.000000000,2018-10-04 20:33:49.000000000,1,1,0,608044,2224100eacf771848beb54b2a2b2c5d4202418b3,8,4,1,1,4146,Clark Boylan,cboylan,"Update stackviz tarball location

We've patched stackviz to work under python3 properly but we are still
pulling an old tarball for stackviz that was built last year. The legacy
job that built the file at this location seems to have been removed.
Switch to the new dist/ location which appears to be correct based on
tarball file sizes.

Someone that understands stackviz better than me should confirm this new
locations is the correct one.

Change-Id: If659a6f1fb50d288afed75e3f4975f7a4d140d35
"
openstack%2Fneutron-dynamic-routing~stable%2Fpike~I9c702cf31729107e76c1cbd9365ea15bcb423273,openstack/neutron-dynamic-routing,stable/pike,python3-first,I9c702cf31729107e76c1cbd9365ea15bcb423273,Remove setting of version/release from releasenotes,MERGED,2018-09-19 03:11:42.000000000,2018-10-04 20:32:02.000000000,2018-10-04 20:32:02.000000000,16,14,0,603546,473736513a43e876a5fd6731fd82d0d7a35ed777,16,4,5,5,1131,Brian Haley,brian-haley,"Remove setting of version/release from releasenotes

Release notes are version independent, so remove version/release
values. We've found that projects now require the service package
to be installed in order to build release notes, and this is entirely
due to the current convention of pulling in the version information.

Release notes should not need installation in order to build, so this
unnecessary version setting needs to be removed.

This is needed for new release notes publishing, see
I56909152975f731a9d2c21b2825b972195e48ee8 and the discussion starting
at
http://lists.openstack.org/pipermail/openstack-dev/2017-November/124480.html
.

Include a fix for tools/tox_install.sh to work with current docs CI job.
Add .stestr.conf from master for py27 jobs.

Backport parts of Iba7579f8de63c6ce87d95167918fc46979702a35 to fix functional
job.

This is needed for python3-first work.

Change-Id: I9c702cf31729107e76c1cbd9365ea15bcb423273
(cherry picked from commit 3ea2bf0ad81ce802c90723e34c6fb0ff8ff077ba)
(cherry picked from commit d13fdaef4356c75d4cde7dd7934e991400bbd2e6)
"
openstack%2Fneutron-dynamic-routing~stable%2Fpike~I4cc5e998ddd45dd14130bd1501eac7f2f65356d4,openstack/neutron-dynamic-routing,stable/pike,python3-first,I4cc5e998ddd45dd14130bd1501eac7f2f65356d4,import zuul job settings from project-config,MERGED,2018-08-30 00:08:07.000000000,2018-10-04 20:32:02.000000000,2018-10-04 20:32:02.000000000,12,0,0,597927,cef750eceb4d177254484bf3e388c39acc21d810,12,4,3,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I4cc5e998ddd45dd14130bd1501eac7f2f65356d4
Story: #2002586
Task: #24314
"
openstack%2Frequirements~master~I9708ac47f0ec7a13903bd4cf1c4acdeea57a9eed,openstack/requirements,master,new-release,I9708ac47f0ec7a13903bd4cf1c4acdeea57a9eed,update constraint for reno to new release 2.11.1,MERGED,2018-10-03 09:33:51.000000000,2018-10-04 20:21:05.000000000,2018-10-04 20:21:05.000000000,1,1,0,607511,aa9c7c28ddb472feab7e0b82b5f7e03be9197343,15,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for reno to new release 2.11.1

Change-Id: I9708ac47f0ec7a13903bd4cf1c4acdeea57a9eed
meta:version: 2.11.1
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Doug Hellmann <doug@doughellmann.com>
meta:release:Commit: Doug Hellmann <doug@doughellmann.com>
meta:release:Change-Id: Ia0f787078578eab3c1434ee1cb8622057ee88cf4
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fsahara~master~I03a11ce2e88ad895504301c00c6ddd67984e1021,openstack/sahara,master,typo_storm,I03a11ce2e88ad895504301c00c6ddd67984e1021,Fix a typo on Storm plugin cluster info (Strom -> Storm),MERGED,2018-10-04 15:04:01.000000000,2018-10-04 20:17:55.000000000,2018-10-04 20:17:55.000000000,1,1,0,607981,059457e878f125359764c264c1b4469f00c64b7f,9,4,1,1,29051,Nicolas Haller,gaasmann,"Fix a typo on Storm plugin cluster info (Strom -> Storm)

Change-Id: I03a11ce2e88ad895504301c00c6ddd67984e1021
"
openstack%2Fpython-troveclient~stable%2Fpike~Ia95d44ff8d2b3666dff846a05b6cf1b03fb54428,openstack/python-troveclient,stable/pike,python3-first,Ia95d44ff8d2b3666dff846a05b6cf1b03fb54428,import zuul job settings from project-config,MERGED,2018-09-11 12:22:34.000000000,2018-10-04 20:11:38.000000000,2018-10-04 20:11:38.000000000,18,59,0,601574,b10b8170cd21f9fd40a4a85fc26075a2737fbe31,10,4,2,3,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ia95d44ff8d2b3666dff846a05b6cf1b03fb54428
Story: #2002586
Task: #24342
"
openstack%2Fpython-troveclient~stable%2Focata~I9d8f6da7147d6f0a395e906b86344f5368f6fb52,openstack/python-troveclient,stable/ocata,python3-first,I9d8f6da7147d6f0a395e906b86344f5368f6fb52,import zuul job settings from project-config,MERGED,2018-09-11 12:22:22.000000000,2018-10-04 20:10:00.000000000,2018-10-04 20:10:00.000000000,18,59,0,601571,cca6d654062c443d6b2e6469610ea644c5a05a53,11,4,2,3,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I9d8f6da7147d6f0a395e906b86344f5368f6fb52
Story: #2002586
Task: #24342
"
openstack%2Ftrove~stable%2Focata~Ie4708672fced79cf18407c683c0119a56c4264a8,openstack/trove,stable/ocata,python3-first,Ie4708672fced79cf18407c683c0119a56c4264a8,import zuul job settings from project-config,MERGED,2018-09-11 12:22:26.000000000,2018-10-04 20:06:18.000000000,2018-10-04 20:06:18.000000000,18,0,0,601572,197da987b1e1bc68858ab23c6ec6cf92b5a55bdc,10,5,1,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ie4708672fced79cf18407c683c0119a56c4264a8
Story: #2002586
Task: #24342
"
openstack%2Fpython-pankoclient~stable%2Frocky~I5313fcc75ff3ca162f770f9c14fa48159cfb4051,openstack/python-pankoclient,stable/rocky,python3-first,I5313fcc75ff3ca162f770f9c14fa48159cfb4051,import zuul job settings from project-config,MERGED,2018-08-31 12:13:11.000000000,2018-10-04 20:04:30.000000000,2018-10-04 20:04:29.000000000,6,0,0,598670,8e5803d378e12e4ebf1266c5895901a15a54f573,8,6,1,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I5313fcc75ff3ca162f770f9c14fa48159cfb4051
Story: #2002586
Task: #24339
"
openstack%2Ftrove-dashboard~stable%2Frocky~I9c9978e027d617a7a682113c750667e8b1d65095,openstack/trove-dashboard,stable/rocky,python3-first,I9c9978e027d617a7a682113c750667e8b1d65095,import zuul job settings from project-config,MERGED,2018-09-11 12:23:10.000000000,2018-10-04 20:00:32.000000000,2018-10-04 20:00:32.000000000,16,0,0,601582,c6482d8f7ebeb980a99cc89593245be381675984,10,6,1,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I9c9978e027d617a7a682113c750667e8b1d65095
Story: #2002586
Task: #24342
"
openstack%2Ftrove-dashboard~stable%2Fqueens~Ic2f1bbfa20099695ebe3d89da2a96bed32a87344,openstack/trove-dashboard,stable/queens,python3-first,Ic2f1bbfa20099695ebe3d89da2a96bed32a87344,import zuul job settings from project-config,MERGED,2018-09-11 12:22:57.000000000,2018-10-04 20:00:30.000000000,2018-10-04 20:00:30.000000000,16,0,0,601579,2801b411b0143c026644d27f5d958693d9fff5e2,9,5,1,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ic2f1bbfa20099695ebe3d89da2a96bed32a87344
Story: #2002586
Task: #24342
"
openstack%2Ftrove-dashboard~stable%2Fpike~I775e5d0fbf791f44e2ddf5df76be19963c5a708b,openstack/trove-dashboard,stable/pike,python3-first,I775e5d0fbf791f44e2ddf5df76be19963c5a708b,import zuul job settings from project-config,MERGED,2018-09-11 12:22:45.000000000,2018-10-04 20:00:28.000000000,2018-10-04 20:00:28.000000000,5,0,0,601576,c2dc65cd2080dbb4802b18d71b0f5b848feedf1f,8,4,1,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I775e5d0fbf791f44e2ddf5df76be19963c5a708b
Story: #2002586
Task: #24342
"
openstack%2Ftrove~stable%2Fpike~I86a344944ee07bc19a44cc7bce9e3081e51274d7,openstack/trove,stable/pike,python3-first,I86a344944ee07bc19a44cc7bce9e3081e51274d7,import zuul job settings from project-config,MERGED,2018-09-11 12:22:38.000000000,2018-10-04 20:00:26.000000000,2018-10-04 20:00:26.000000000,18,0,0,601575,2cfee504878c8deb8d58ae7f53219542245a3490,8,4,1,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I86a344944ee07bc19a44cc7bce9e3081e51274d7
Story: #2002586
Task: #24342
"
openstack%2Fpython-pankoclient~stable%2Fqueens~I9327776d94563e3c3717bbe95739c3cf591ddc76,openstack/python-pankoclient,stable/queens,python3-first,I9327776d94563e3c3717bbe95739c3cf591ddc76,import zuul job settings from project-config,MERGED,2018-08-31 12:12:50.000000000,2018-10-04 19:58:28.000000000,2018-10-04 19:58:28.000000000,6,0,0,598664,42a3e9b0ebd8bcb4d27d4baf0a5c26bcef2832e0,8,6,1,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I9327776d94563e3c3717bbe95739c3cf591ddc76
Story: #2002586
Task: #24339
"
openstack%2Fpython-pankoclient~stable%2Fpike~Ic5c66e811827662dc61004b42fd7a5266911158b,openstack/python-pankoclient,stable/pike,python3-first,Ic5c66e811827662dc61004b42fd7a5266911158b,import zuul job settings from project-config,MERGED,2018-08-31 12:12:29.000000000,2018-10-04 19:56:24.000000000,2018-10-04 19:56:23.000000000,6,0,0,598658,dee64cf34e40537d8c4a5ff1181e2f49d1baebd3,8,6,1,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ic5c66e811827662dc61004b42fd7a5266911158b
Story: #2002586
Task: #24339
"
openstack%2Fcontributor-guide~master~I71cd505214ae6d7c0a3a2b4e934a356a13087ebe,openstack/contributor-guide,master,miloa-story-26899,I71cd505214ae6d7c0a3a2b4e934a356a13087ebe,Correct repetition in setup gerrit third note section,MERGED,2018-10-04 16:44:18.000000000,2018-10-04 19:56:23.000000000,2018-10-04 19:56:23.000000000,1,1,0,608025,8cff3fab8350f3b9c5b6949c88d6a89a7dd563dc,7,3,1,1,29239,Mikael Loaec,miloa,"Correct repetition in setup gerrit third note section

Change-Id: I71cd505214ae6d7c0a3a2b4e934a356a13087ebe
"
openstack%2Fproject-config~master~I32284de2ade15fecf97d320d61996d327e32b7f1,openstack/project-config,master,stx-publish,I32284de2ade15fecf97d320d61996d327e32b7f1,Add publish jobs for stx-governance and per-project,MERGED,2018-10-04 15:47:55.000000000,2018-10-04 19:54:19.000000000,2018-10-04 19:54:19.000000000,55,21,0,608003,340c9a58c7538c692730389cd88f5012ab11edcd,7,3,1,1,970,Dean Troyer,dtroyer,"Add publish jobs for stx-governance and per-project

* Refactor the publish-jobs into publish-stx-docs-base
* Add publish-stx-governance
* Add publish-stx-tox to publish to /<project-name>

This follows the pattern in project-config/tree/zuul.d/jobs.yaml
for publish-openstack-tox-docs-base and descendants.

Change-Id: I32284de2ade15fecf97d320d61996d327e32b7f1
Signed-off-by: Dean Troyer <dtroyer@gmail.com>
"
openstack%2Ftrove-dashboard~stable%2Focata~Ibb4d2b9f38b99c5a23c633c36bb3ed705ce2f58f,openstack/trove-dashboard,stable/ocata,python3-first,Ibb4d2b9f38b99c5a23c633c36bb3ed705ce2f58f,import zuul job settings from project-config,MERGED,2018-09-11 12:22:30.000000000,2018-10-04 19:52:07.000000000,2018-10-04 19:52:07.000000000,5,0,0,601573,f6a8836d419347cd89f7da361da439b69c96cc8a,9,4,1,1,2472,Doug Hellmann,doug-hellmann,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ibb4d2b9f38b99c5a23c633c36bb3ed705ce2f58f
Story: #2002586
Task: #24342
"
openstack%2Fopenstack-ansible-os_keystone~master~I2cac72abe71d3a40fe14189526cb9aa27dfc91d1,openstack/openstack-ansible-os_keystone,master,bug/1793389,I2cac72abe71d3a40fe14189526cb9aa27dfc91d1,Increase retries to mitigate intermittent failure,ABANDONED,2018-09-25 16:56:18.000000000,2018-10-04 19:48:48.000000000,,1,1,0,605146,1d3c29ec0574cd03e7807cf291286dba8a2c3494,11,6,1,1,27926,Alex Redinger,rexredinger,"Increase retries to mitigate intermittent failure

Keystone seems to encounter an error on upgrades where the fetched admin
record is missing mfa options. With enough retries the record is fetched
correctly. This is a workaround for what is likely a failure invalidate
old cache data.

Related Change-Id: I3995d40535c60742f47f905c862482a9a2fea5ae
Closes-Bug: 1793389

Change-Id: I2cac72abe71d3a40fe14189526cb9aa27dfc91d1
"
openstack%2Frequirements~master~I659fa55406cb26d2f1c968a31e719bc65d48080b,openstack/requirements,master,new-release,I659fa55406cb26d2f1c968a31e719bc65d48080b,update constraint for oslo.cache to new release 1.31.0,MERGED,2018-10-03 09:48:49.000000000,2018-10-04 19:42:16.000000000,2018-10-04 19:42:16.000000000,1,1,0,607519,77fac1b33f10fb3dd3d46cbc1ae482120da54987,13,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.cache to new release 1.31.0

Change-Id: I659fa55406cb26d2f1c968a31e719bc65d48080b
meta:version: 1.31.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: If2b9f5941008bf89a54fc479693bd0ca2c86b8a2
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fheat-specs~master~I389b8c3ba61b70ead1b0ef91ed5e6e3ce49d0765,openstack/heat-specs,master,python3-first,I389b8c3ba61b70ead1b0ef91ed5e6e3ce49d0765,fix tox python3 overrides,MERGED,2018-09-29 23:50:02.000000000,2018-10-04 19:30:05.000000000,2018-10-04 19:30:05.000000000,2,0,0,606636,db9631b5bd4513130ec31cebdf2b4e8dd02a92f5,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I389b8c3ba61b70ead1b0ef91ed5e6e3ce49d0765
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Foslo-specs~master~I851628c095cd75e0694a7886e222f3a2202ee961,openstack/oslo-specs,master,ffu_patch_set,I851628c095cd75e0694a7886e222f3a2202ee961,Propose spec for handle config changes in code,MERGED,2017-11-15 10:32:07.000000000,2018-10-04 19:25:44.000000000,2018-10-04 16:43:17.000000000,298,0,90,520043,6cb4ef61308c6633fb6f819136dd6969b0fb041b,75,13,21,1,19930,Dai Dang Van,daidv,"Propose spec for handle config changes in code

This spec outlines this mechanism to generate
new suitable config file for new release automatically.
This is our presentation related to this topic [1].

Patch set code: I0a14a4a462e04e485049c9b8c40a7a01e4cdab88

Co-Authored-By: Nam Nguyen Hoai <namnh@vn.fujitsu.com>

[1] https://www.openstack.org/summit/sydney-2017/summit-schedule/events/19296/

Change-Id: I851628c095cd75e0694a7886e222f3a2202ee961
"
openstack%2Fopenstack-chef~master~I16165ba5e797078e32ce608b83067c6dfd87a755,openstack/openstack-chef,master,,I16165ba5e797078e32ce608b83067c6dfd87a755,use cookbook-openstackclient from official openstack git tree,MERGED,2018-10-04 08:44:59.000000000,2018-10-04 19:14:40.000000000,2018-10-04 19:14:40.000000000,1,1,0,607847,f19d1d7dc408ce6f185bd56270f378dc435db659,10,3,2,1,11915,Jan Klare,jklare,"use cookbook-openstackclient from official openstack git tree

Change-Id: I16165ba5e797078e32ce608b83067c6dfd87a755
"
openstack%2Fproject-config~master~I957c02ae2d12df67fedbab497df94f21ad38b8bc,openstack/project-config,master,,I957c02ae2d12df67fedbab497df94f21ad38b8bc,upgrade complete,MERGED,2018-10-04 18:57:40.000000000,2018-10-04 19:13:28.000000000,2018-10-04 19:13:28.000000000,1,1,0,608059,533e85e23a52e84a226a07930790eaaf3cfcddbd,8,6,1,1,24100,John Studarus,john.studarus,"upgrade complete

This reverts commit 5c7223b4777ce282027ce003e028e3496a36b08f.

Change-Id: I957c02ae2d12df67fedbab497df94f21ad38b8bc
"
openstack%2Fpuppet-ironic~stable%2Frocky~I88a0b67a61944565e59f245f02f7e4620f92ec82,openstack/puppet-ironic,stable/rocky,dnsmasq-bind-interfaces-stable/rocky,I88a0b67a61944565e59f245f02f7e4620f92ec82,Remove ironic inspector dnsmasq bind-interfaces setting,MERGED,2018-09-10 23:48:59.000000000,2018-10-04 18:59:16.000000000,2018-09-11 18:52:29.000000000,25,2,0,601466,317a1e5bfd7b3e86a2cdcc189f4ef3f45c8336e4,8,3,1,3,21909,Bob Fournier,bfournie,"Remove ironic inspector dnsmasq bind-interfaces setting

In order to allow the ironic inspector dnsmasq service to
receive packets after the network service is restarted, the
bind-interfaces option should not be set.  Since the
ironic inspector is bound to the br-ctlplane interface,
its not necessary to set this field as this dnsmasq instance
will only service this interface.

From the dnsmasq man page (http://www.thekelleys.org.uk/dnsmasq/docs/dnsmasq-man.html).
-z, --bind-interfaces
On systems which support it, dnsmasq binds the wildcard address,
even when it is listening on only some interfaces. It then
discards requests that it shouldn't reply to. This has the
advantage of working even when interfaces come and go and
change address. This option forces dnsmasq to really bind only
the interfaces it is listening on. About the only time when
this is useful is when running another nameserver (or another
instance of dnsmasq) on the same machine. Setting this option
also enables multiple instances of dnsmasq which provide DHCP
service to run in the same machine.

We do run another dnsmasq instance for neutron but that is bound to
the tap interface in the namespace.

Change-Id: I88a0b67a61944565e59f245f02f7e4620f92ec82
(cherry picked from commit 44ad813ee69970191b9dd5d4be278bde88ec48ec)
"
openstack%2Fproject-config~master~I4dc336fc5e4c3844bbc66e71d932e0f26fd4a0f2,openstack/project-config,master,,I4dc336fc5e4c3844bbc66e71d932e0f26fd4a0f2,a control plane capacity upgrade is planned for later this week,MERGED,2018-10-01 18:26:00.000000000,2018-10-04 18:57:40.000000000,2018-10-02 03:10:56.000000000,1,1,0,607020,5c7223b4777ce282027ce003e028e3496a36b08f,16,5,3,1,24100,John Studarus,john.studarus,"a control plane capacity upgrade is planned for later this week

reducing the workload until then since the control plane is overloaded

Change-Id: I4dc336fc5e4c3844bbc66e71d932e0f26fd4a0f2
"
openstack%2Fcinder~master~I2967e9f836c07d09749e4db023a2bbf1b5c91fe3,openstack/cinder,master,doc_fix,I2967e9f836c07d09749e4db023a2bbf1b5c91fe3,Clean up the deprecated description in doc,MERGED,2018-09-29 10:07:45.000000000,2018-10-04 18:38:39.000000000,2018-09-29 13:13:36.000000000,4,5,0,606380,81107c99211551f915999b398cee2dc3c55a39b1,34,28,1,1,20722,Yikun Jiang,yikunkero,"Clean up the deprecated description in doc

The nova-objectstore and nova-network is already deprecated.

This patch remove these deprecated description.

trivial_fix

Change-Id: I2967e9f836c07d09749e4db023a2bbf1b5c91fe3
"
openstack%2Ftripleo-quickstart~master~Iffba134d636d5ac3df9889c09e26c72283f61074,openstack/tripleo-quickstart,master,,Iffba134d636d5ac3df9889c09e26c72283f61074,test new version of ansible,ABANDONED,2018-07-20 15:55:08.000000000,2018-10-04 18:37:25.000000000,,1,1,0,584432,9c4cfed42f9db7e641df7c9e9c1c69a4aaf5746d,15,5,3,1,9592,wes hayutin,weshayutin,"test new version of ansible

Change-Id: Iffba134d636d5ac3df9889c09e26c72283f61074
"
openstack%2Fneutron~master~I148b5a025fc388821fd1269d02908cc8ce1882fe,openstack/neutron,master,bug/1784484,I148b5a025fc388821fd1269d02908cc8ce1882fe,Fix corner case in failure assigning MAC to SR-IOV NIC,MERGED,2018-09-20 18:20:30.000000000,2018-10-04 18:33:18.000000000,2018-10-04 16:52:30.000000000,33,1,2,604179,eea5aaac4f5c62ed0c74bd7e922680e20b87bb6b,68,15,2,2,1131,Brian Haley,brian-haley,"Fix corner case in failure assigning MAC to SR-IOV NIC

Sometimes due to NIC driver incorrect behavior, VFs might be
missing in 'ip link show' output.  This may lead to a VM boot
failure as agent will just skip such missing devices.

Make the agent do a resync in case a newly added device
'disappears' during processing, which should cause a MAC to
get assigned.

Co-authored-by: Oleg Bondarev <obondarev@mirantis.com>

Change-Id: I148b5a025fc388821fd1269d02908cc8ce1882fe
Closes-bug: #1784484
"
