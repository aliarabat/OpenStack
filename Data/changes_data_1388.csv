id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fdevstack-gate~master~I4225fc0ea1b9dd24ae8131019dcf692f7d229150,openstack/devstack-gate,master,cinder,I4225fc0ea1b9dd24ae8131019dcf692f7d229150,Switch to using cinder instead of n-vol.,MERGED,2012-07-25 19:19:49.000000000,2012-07-25 19:19:49.000000000,2012-07-25 19:19:49.000000000,6,3,1,9746,8dc598942098adaa2d743fa80b940b723bd01869,25,3,3,3,1,James E. Blair,corvus,"Switch to using cinder instead of n-vol.

Change-Id: I4225fc0ea1b9dd24ae8131019dcf692f7d229150
"
openstack%2Fopenstack-manuals~master~I82b6ccf99e3b9c65d6b8c6b0ab78366e147fd835,openstack/openstack-manuals,master,connection_type_to_compute_driver,I82b6ccf99e3b9c65d6b8c6b0ab78366e147fd835,connection_type => compute_driver,MERGED,2012-07-17 15:24:17.000000000,2012-07-25 18:46:03.000000000,2012-07-25 18:46:03.000000000,1,1,0,9917,ff316df6f5a233abe744f3b153d5fed16cc9c7ff,8,5,1,1,2750,Sean Dague,sdague,"connection_type => compute_driver

Found one more instance where connection_type was used
in one of the diagrams. Updated it to compute_driver.

Change-Id: I82b6ccf99e3b9c65d6b8c6b0ab78366e147fd835
"
openstack%2Fpython-cinderclient~master~Iaa0c9fd5edac8b48d92ee9722ea5d31d8249cd67,openstack/python-cinderclient,master,bug/1028684,Iaa0c9fd5edac8b48d92ee9722ea5d31d8249cd67,Add missing parameters to volume create body,MERGED,2012-07-25 01:31:05.000000000,2012-07-25 18:02:50.000000000,2012-07-25 18:02:50.000000000,26,2,2,10262,778d2d90227771976f9b98ab686dbe1d88154806,13,4,4,1,2243,John Griffith,john-griffith,"Add missing parameters to volume create body

* Fixes bug 1028684
* Adds metadata and other parameters to volume create

Change-Id: Iaa0c9fd5edac8b48d92ee9722ea5d31d8249cd67
"
openstack%2Fnova~master~I25f9d1030d9d014b1c9a65430bd535388b8f8943,openstack/nova,master,bug/1016650,I25f9d1030d9d014b1c9a65430bd535388b8f8943,Adds xcp disk resize support.,MERGED,2012-06-29 19:35:24.000000000,2012-07-25 17:49:55.000000000,2012-07-25 17:49:54.000000000,55,13,3,9184,9a2cc2544a4e6609c409b06c8ff91d596fe43a8c,34,7,5,4,557,msinhore,msinhore,"Adds xcp disk resize support.

Implements resize image during instance creation.  Fixes bug 1016650.

Change-Id: I25f9d1030d9d014b1c9a65430bd535388b8f8943
"
openstack%2Fnova~master~I79b050f0b083533e60129da261326cfb7f304321,openstack/nova,master,fix_xenapi_compute_driver_help,I79b050f0b083533e60129da261326cfb7f304321,Use compute_driver in xenapi driver help messages.,MERGED,2012-07-23 21:18:51.000000000,2012-07-25 17:44:58.000000000,2012-07-25 17:44:57.000000000,9,8,1,10174,d972222e50e38aa45447b57c1893678043b583aa,8,4,1,1,360,Dan Prince,dan-prince,"Use compute_driver in xenapi driver help messages.

Updates the help messages in the xenapi driver to use 'compute_driver'
examples instead of 'connection_type' which is now deprecated.

Change-Id: I79b050f0b083533e60129da261326cfb7f304321
"
openstack%2Fnova~master~I4c03243bc41f76d80d32934dd9506d1861951184,openstack/nova,master,ensure_snapshot_is_torndown,I4c03243bc41f76d80d32934dd9506d1861951184,Xen: Ensure snapshot is torn down on error.,MERGED,2012-07-24 17:14:50.000000000,2012-07-25 17:38:45.000000000,2012-07-25 17:38:44.000000000,19,27,0,10233,c542f82396ce6cf1399a2d7cfc3d9660fe2cf6c3,7,4,1,1,475,Rick Harris,rconradharris,"Xen: Ensure snapshot is torn down on error.

This patch solves the problem of snapshots being left around if an
exception is generated in _wait_for_vhd_coalesce.

The solution is to separate snapshot from coalesce and then to ensure
any exceptions generated after a snapshot trigger a cleanup.

Change-Id: I4c03243bc41f76d80d32934dd9506d1861951184
"
openstack%2Fnova~master~I0c1def739c4a5cbcd2dbe72df6fc54b16e68b4b7,openstack/nova,master,bug/1028687,I0c1def739c4a5cbcd2dbe72df6fc54b16e68b4b7,Add missing parameters to novas cinder api,MERGED,2012-07-25 01:34:33.000000000,2012-07-25 17:31:24.000000000,2012-07-25 17:31:23.000000000,12,8,2,10263,00d65fa8bf83c2e9e5937108cbbf096918bbd23f,18,7,4,1,2243,John Griffith,john-griffith,"Add missing parameters to novas cinder api

* Addresses bug 1028684
* Adds metadata and other parameters to volume create and translate_view

Change-Id: I0c1def739c4a5cbcd2dbe72df6fc54b16e68b4b7
"
openstack%2Fnova~master~If49e364063d5288c81ce1557bddc6dcec3ec457e,openstack/nova,master,check_for_exceptionCode_on_non_novaExceptions,If49e364063d5288c81ce1557bddc6dcec3ec457e,Check for exception codes in openstack API results,MERGED,2012-07-24 04:45:28.000000000,2012-07-25 17:25:18.000000000,2012-07-25 17:25:16.000000000,29,11,5,10200,76c1fd11b73fd8516bbde20cb46f627b658d4a6d,22,9,4,2,2243,John Griffith,john-griffith,"Check for exception codes in openstack API results

 * Inspect all exceptions for code, not just nova.exceptions

   Originally the fault wrapper would only inspect an exception for
   status, header and safe attributes if it was a nova.exception.

   As a result, excecptions returned from Cinder were always being incorrectly
   interpretted/categorized as ComputeFaults (500).  This results in tempest
   tests that expect exceptions such as 404 NotFound to fail.

   Now that we're checking all Exceptions the same way, there's no need
   for a specifying nova.exceptions or even doing the import.

Change-Id: If49e364063d5288c81ce1557bddc6dcec3ec457e
"
openstack%2Fnova~master~I53fd54bad1f08d8c1d4ebf27a5a282189c0f3c04,openstack/nova,master,patch,I53fd54bad1f08d8c1d4ebf27a5a282189c0f3c04,Remove temporary variable,MERGED,2012-07-25 16:45:35.000000000,2012-07-25 17:25:13.000000000,2012-07-25 17:25:13.000000000,2,2,0,10282,a4ce1e57a61a858506ccde4ae1dc10641067637e,6,3,1,1,4656,Sean M. Collins,scollins,"Remove temporary variable

Change-Id: I53fd54bad1f08d8c1d4ebf27a5a282189c0f3c04
"
openstack%2Fswift~master~I683633ef1c7a5df7522299a85090f1ffda0c287a,openstack/swift,master,1.6.1-version-bump,I683633ef1c7a5df7522299a85090f1ffda0c287a,1.6.1 version bump,MERGED,2012-07-25 16:28:40.000000000,2012-07-25 16:32:16.000000000,2012-07-25 16:32:16.000000000,1,1,0,10280,21616c2fc995ff5928b2d5e5c6ffc71cdfa763c2,5,2,1,1,330,John Dickinson,notmyname,"1.6.1 version bump

Change-Id: I683633ef1c7a5df7522299a85090f1ffda0c287a
"
openstack%2Fswift~master~Ia97050ac2b0b438535f31a8eb400801c782160f9,openstack/swift,master,1.6.0-changelog,Ia97050ac2b0b438535f31a8eb400801c782160f9,changelog for 1.6.0,MERGED,2012-07-25 16:24:12.000000000,2012-07-25 16:27:33.000000000,2012-07-25 16:27:33.000000000,58,4,0,10279,53e35ba4ffeab4d2614b790a0d8fb615b9359374,5,2,1,2,330,John Dickinson,notmyname,"changelog for 1.6.0

Change-Id: Ia97050ac2b0b438535f31a8eb400801c782160f9
"
openstack%2Fswift~master~I4a07ff105f2acc4174de0aef4e24cfcde323bea8,openstack/swift,master,fix-obj-typing,I4a07ff105f2acc4174de0aef4e24cfcde323bea8,Fix typing in DiskFile put method comment,MERGED,2012-07-25 16:15:22.000000000,2012-07-25 16:21:14.000000000,2012-07-25 16:21:14.000000000,1,1,0,10278,a2bec22ac051e5ac04427295ac0a004ec1323092,5,2,1,1,2401,Victor Rodionov,vito-ordaz,"Fix typing in DiskFile put method comment

Change-Id: I4a07ff105f2acc4174de0aef4e24cfcde323bea8
"
openstack%2Fswift~master~Ic2869ab7f728ed1a4d8b34c37f0540c582d7dbcc,openstack/swift,master,1.6.0-version-bump,Ic2869ab7f728ed1a4d8b34c37f0540c582d7dbcc,version bump to reflect current dev effort,MERGED,2012-07-25 15:31:36.000000000,2012-07-25 15:35:47.000000000,2012-07-25 15:35:47.000000000,1,1,0,10277,03cec57e5db036169c79c04e66abff49b3451350,5,2,1,1,330,John Dickinson,notmyname,"version bump to reflect current dev effort

Change-Id: Ic2869ab7f728ed1a4d8b34c37f0540c582d7dbcc
"
openstack%2Fceilometer~master~I3bfd57da61029d43ba4f731f98dc58f790f9f8cd,openstack/ceilometer,master,master,I3bfd57da61029d43ba4f731f98dc58f790f9f8cd,Implements memory counter,MERGED,2012-07-25 14:54:19.000000000,2012-07-25 14:54:19.000000000,2012-07-25 14:54:19.000000000,73,54,1,10017,344ad3eef063243dc5241b8700595927174534f3,11,3,3,3,1669,Julien Danjou,jdanjou,"Implements memory counter

This adds a memory counter, that is emitted at the same time than instance
counter. It is the first counter implementing the 'absolute' counter type.

Change-Id: I3bfd57da61029d43ba4f731f98dc58f790f9f8cd
Signed-off-by: Julien Danjou <julien@danjou.info>
"
openstack%2Fglance~master~I45fc97027e6f211ac353513c2d9d6da51ccf4489,openstack/glance,master,bp/swift-tenant-specific-storage,I45fc97027e6f211ac353513c2d9d6da51ccf4489,Adds multi tenant support for swift backend.,MERGED,2012-07-09 21:28:06.000000000,2012-07-25 14:06:56.000000000,2012-07-25 14:06:55.000000000,126,34,13,9553,8b2d038185a6d229662260819943c40eefee8bd6,24,5,4,7,360,Dan Prince,dan-prince,"Adds multi tenant support for swift backend.

Updates the swift store to support multiple tenants:

 * Added configuration option for swift_store_multi_tenant.

 * Updated the swift connection creation logic so that in multi-tenant
   mode the token and storage URL from the service catalog are used
   to create swift connection.

 * When in multi-tenant mode locations URL's (stored in the DB) do
   not contain hard coded swift credentials.

Includes unit tests to verify multi-tenant swift storage URLs.

Partially implements blueprint: swift-tenant-specific-storage.

Change-Id: I45fc97027e6f211ac353513c2d9d6da51ccf4489
"
openstack%2Fheat~master~I5dfc8b372f557cf43379c6c5b7436d1010f83e3c,openstack/heat,master,master,I5dfc8b372f557cf43379c6c5b7436d1010f83e3c,Make a template that demonstrates instance monitoring and restarting.,MERGED,2012-07-25 13:34:52.000000000,2012-07-25 13:34:52.000000000,2012-07-25 13:34:52.000000000,255,7,0,10272,3c6e40f2bb9039dfae60307ea730199973ddc247,5,2,1,5,4715,Angus Salkeld,asalkeld,"Make a template that demonstrates instance monitoring and restarting.

We use cfn-push-stats to send a heartbeat and if we don't get
it within the set interval we restart the instance.

Other changes to make this work:
- clear the waitcondition when it is deleted.
- set the resource id to None when deleted, else it won't re-create
  properly.
- don't run watch alarms if the stack is not completed.

Change-Id: I5dfc8b372f557cf43379c6c5b7436d1010f83e3c
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fnova~master~I1be5637f561008489fe7367052ec2ecb6b9ae59f,openstack/nova,master,bug/1028748,I1be5637f561008489fe7367052ec2ecb6b9ae59f,Fixes console/vmrc_manager.py import error,MERGED,2012-07-25 06:43:44.000000000,2012-07-25 12:48:13.000000000,2012-07-25 12:48:12.000000000,1,1,0,10265,b8aedb281f8e6cc8b1583640c31f5d52ce5e4eac,9,5,1,1,1994,Zhongyue Luo,zyluo,"Fixes console/vmrc_manager.py import error

Fixes bug #1028748

Change-Id: I1be5637f561008489fe7367052ec2ecb6b9ae59f
"
openstack%2Ftempest~master~Iefc0e92e31a8e6fcf614c4719a6551c01cbdd6ec,openstack/tempest,master,bug/1025993,Iefc0e92e31a8e6fcf614c4719a6551c01cbdd6ec,Disable ConfigParser interpolation (lp#1025993),MERGED,2012-07-18 06:12:59.000000000,2012-07-25 12:06:27.000000000,2012-07-25 12:06:27.000000000,1,1,0,9954,cfc0c02b4d94da3890c4962369ce8af5843887c6,11,3,2,1,4120,Rohit Karajgi,rohitkarajgi,"Disable ConfigParser interpolation (lp#1025993)

Change-Id: Iefc0e92e31a8e6fcf614c4719a6551c01cbdd6ec
"
openstack%2Fheat~master~I8af6f8a78086a7b1f2bcc280d57af0b4311f08cc,openstack/heat,master,master,I8af6f8a78086a7b1f2bcc280d57af0b4311f08cc,Call calulate_properties() before calling FnGetAtt(),MERGED,2012-07-25 11:54:14.000000000,2012-07-25 11:54:14.000000000,2012-07-25 11:54:14.000000000,6,3,0,10260,783b1112490ef07db05251c1258c04f8b1caa5a0,9,3,3,2,4715,Angus Salkeld,asalkeld,"Call calulate_properties() before calling FnGetAtt()

The problem is that in the delete the order of resolution is reversed
so in delete loop we have not yet done a calulate_properties() on the
resource that we are about to call FnGetAtt() for.

Fixes #178
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
Change-Id: I8af6f8a78086a7b1f2bcc280d57af0b4311f08cc
"
openstack%2Fnova~master~I8160268e44e2afc736bf8491d5cbf5af1f4f752f,openstack/nova,master,bp/advertise-floating-ip-via-bgp,I8160268e44e2afc736bf8491d5cbf5af1f4f752f,Add support for advertising floating IPs via BGP,ABANDONED,2012-07-03 00:04:49.000000000,2012-07-25 11:27:16.000000000,,224,2,5,9255,e6e35f864e46d4013a66c61d0e28710717a590b5,16,4,5,5,905,Ryan Lane,rlane,"Add support for advertising floating IPs via BGP

This change implements blueprint advertise-floating-ip-via-bgp. It has a dependency on exabgp. exabgp must be patched to daemonize properly (http://code.google.com/p/exabgp/issues/detail?id=4). This change runs and manages an exabgp process and configuration. Routes are added and removed from exabgp's configuration on floating IP association and disassociation, and on network-node initialization.

Five new flags are added:

  * use_bgp: enables bgp support
  * bgp_peer_addresses: the router addresses this node is peering with
  * bgp_local_as: the local Autonomous System (AS)
  * bgp_peer_as: the peer's Autonomous System (AS)
  * exabgp_location: the exabgp binary's location

Change-Id: I8160268e44e2afc736bf8491d5cbf5af1f4f752f
"
openstack%2Fglance~master~I406b5820c4a09658b012d9681d2faa938d81baac,openstack/glance,master,bp/port-swift-healthcheck,I406b5820c4a09658b012d9681d2faa938d81baac,Port the swift healthcheck middleware to Glance,ABANDONED,2012-07-12 15:38:45.000000000,2012-07-25 06:03:05.000000000,,207,16,0,9719,97c5c6cd73e044eed80299abb7ae857ce07d1d8e,10,5,2,11,1390,Paul Bourke,pauldbourke,"Port the swift healthcheck middleware to Glance

Can be used as a first port of call to determine if a Glance API /
Registry server is running properly.

The main part of this code is taken directly from Swift.

Notes / additions:

* Added the healthcheck to each of the default pipelines in
  glance-api-paste.ini / glance-registry-paste.ini.

* Updated tests.unit.test_config to account for the updated default
  configuration.

* Updated references to the default pipeline in the documentation to refer to
  the new default.

* Added a section to doc/source/glanceapi.rst to describe the new
  functionality.

* Added a new module glance.common.middleware to house the healthcheck,
  as this middleware is common to both the Glance API and Registry.

* Added a new functional test for the healthcheck not currently present
  in Swift, which tests the middleware in the pipeline through a running
  Glance API and Registry server.

Implements blueprint port-swift-healthcheck.

Change-Id: I406b5820c4a09658b012d9681d2faa938d81baac
"
openstack%2Fnova~master~I63aea98de15faa2f7784e44aa6bf5fd3b89517c3,openstack/nova,master,hypervisor,I63aea98de15faa2f7784e44aa6bf5fd3b89517c3,Move 'name' to 'display_name' in hypervisor-servers call,ABANDONED,2012-07-16 22:47:54.000000000,2012-07-25 06:03:04.000000000,,11,11,5,9877,58e4d3b746d18463cadf1236ea3bcb319f014c9a,9,4,1,2,335,Paul Voccio,pvo,"Move 'name' to 'display_name' in hypervisor-servers call

To be consistent with naming, display the same name that
novaclient uses. Also, fixed issue where there are no
instances on a hypervisor to return an empty list.

Change-Id: I63aea98de15faa2f7784e44aa6bf5fd3b89517c3
"
openstack%2Foslo-incubator~master~I6234c709346fadd6c9d9e736a51955c5efeb3ec6,openstack/oslo-incubator,master,bug/1021451,I6234c709346fadd6c9d9e736a51955c5efeb3ec6,Fix ZeroMQ driver and tests,ABANDONED,2012-07-25 06:03:04.000000000,2012-07-25 06:03:04.000000000,,71,41,1,9386,0ac3d47bb3eee2c81865ab7a5ffeef616c237f59,56,3,19,4,159,Eric Windisch,ewindisch,"Fix ZeroMQ driver and tests

Fixes a number of bugs:

Better detection of zmq libraries in tests.

Adds test-options, taken from Nova.

Fixes breakage in flags introduced by 372d11e990...

zmq tests skipped on python 2.6 until we can pass reliably.

test_zmq listens only on 127.0.0.1

Configures RPC timeout in impl_zmq since no longer in fake_flags.

Restructures test_zmq's daemon launching/testing to be more robust.

Restores unit tests of zmq

Add pyzmq to test-options

Fix super RpcZmqBaseTestCase in test_zmq; bug 1021451

Remove opt registration from test_zmq; Related to bug 1021459

Fix zeromq options; Fixes bug 1021462 and bug 1021459.

Call our own register_opts
Brackets should be Parens in str formatting.
fixes bug 1021455.

Fix super RpcZmqBaseTestCase in test_zmq; Fixes bug 1021451

Change-Id: I6234c709346fadd6c9d9e736a51955c5efeb3ec6
"
openstack%2Foslo-incubator~master~Ia8370a83ec9e371315550db7f349e37ad28c1c7a,openstack/oslo-incubator,master,cfgtest,Ia8370a83ec9e371315550db7f349e37ad28c1c7a,Added a test to clarify cfg overriding from within tests.,ABANDONED,2012-07-25 06:03:03.000000000,2012-07-25 06:03:03.000000000,,45,0,2,9731,7ff5bebc063d8d910bf537c8ec4828c20dae06c4,5,3,1,1,1998,andrewbogott,andrewbogott,"Added a test to clarify cfg overriding from within tests.

Change-Id: Ia8370a83ec9e371315550db7f349e37ad28c1c7a
"
openstack%2Fhorizon~master~Iffa255f8bae76bc055127db800ded4c4da19b580,openstack/horizon,master,bug/1026783,Iffa255f8bae76bc055127db800ded4c4da19b580,Display form with initial input and error after failure to import keypair,MERGED,2012-07-24 06:12:15.000000000,2012-07-25 00:59:44.000000000,2012-07-25 00:59:43.000000000,21,3,2,10203,7743e6f17ee73e384a1101fc4192cb2b541fbebe,12,5,2,2,4978,Julie Pichon,jpichon,"Display form with initial input and error after failure to import keypair

Fixes bug 1026783.

Change-Id: Iffa255f8bae76bc055127db800ded4c4da19b580
"
openstack%2Fpython-cinderclient~master~Ia578de7b0a13270f0f6febc8e5413282490217a3,openstack/python-cinderclient,master,Add_missing_parameters_to_create_volume_body,Ia578de7b0a13270f0f6febc8e5413282490217a3,Add missing parameters to create body,ABANDONED,2012-07-24 19:36:31.000000000,2012-07-25 00:59:30.000000000,,17,4,0,10244,32973ff416bc30bfb21093f26a024813519b9185,2,1,1,1,2243,John Griffith,john-griffith,"Add missing parameters to create body

 * A number of parameters were missing from the create
 * Metadata, user_id, project_id etc
 * Caught by tempest

Change-Id: Ia578de7b0a13270f0f6febc8e5413282490217a3
"
openstack%2Fheat~master~I2bd77345ac35860201006a23999a06dd81ac6fe0,openstack/heat,master,master,I2bd77345ac35860201006a23999a06dd81ac6fe0,Log the error when a resouce fails to delete,MERGED,2012-07-25 00:49:50.000000000,2012-07-25 00:49:50.000000000,2012-07-25 00:49:50.000000000,6,0,0,10253,8c3f0f14a5f2b41f0a7f4922a3100c0797feaddd,5,2,1,3,4715,Angus Salkeld,asalkeld,"Log the error when a resouce fails to delete

Also bail out of handle_delete if instance_id is None

Change-Id: I2bd77345ac35860201006a23999a06dd81ac6fe0
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fhorizon~master~I45fce5e889e92abc592f0a5abfef1abb4ce527be,openstack/horizon,master,bp/swift-ui-improvements,I45fce5e889e92abc592f0a5abfef1abb4ce527be,Makes data table accept mixed data types,MERGED,2012-07-17 23:38:17.000000000,2012-07-25 00:36:46.000000000,2012-07-25 00:36:46.000000000,256,61,71,9948,6ba1a4d395785c087333d3d21d3a5b2846397ca0,30,6,7,8,4302,Ke Wu,ke-wu,"Makes data table accept mixed data types

This is the first step of making the resource browser, related to
blueprint swift-ui-improvements.

Adds three attrs to DataTableOptions:
.. attribute:: mixed_data_type

.. attribute:: data_types

.. attribute:: data_type_name

Adds attr to Column class:
.. attribute:: allowed_data_types

Adds attr to Action and LinkAction class:
.. attribute:: allowed_data_types

Changes implentation of FilterAction.
Adds MixedDataTableView.

Change-Id: I45fce5e889e92abc592f0a5abfef1abb4ce527be
"
openstack%2Fopenstack-manuals~stable%2Fessex~I46516fb4c9f4bc665af08b6570b5085107c61b9c,openstack/openstack-manuals,stable/essex,essex-dnsmasq,I46516fb4c9f4bc665af08b6570b5085107c61b9c,Document dnsmasq,MERGED,2012-07-23 15:24:10.000000000,2012-07-25 00:12:24.000000000,2012-07-25 00:12:24.000000000,45,22,0,10134,6e864381b81a8f6cbd09b064120f1cecc0ed2841,9,4,2,1,321,Lorin Hochstein,lorinh,"Document dnsmasq

Add a separate section in the networking chapter for dnsmasq.

Cherry-picked from https://review.openstack.org/10110

Change-Id: I46516fb4c9f4bc665af08b6570b5085107c61b9c
"
openstack%2Fopenstack-manuals~master~Ibe1cb29119c7a31d73c36fef47d21758b4f498b6,openstack/openstack-manuals,master,master,Ibe1cb29119c7a31d73c36fef47d21758b4f498b6,There was a missing </para> tag on line 80 which was causing compilation errors,MERGED,2012-07-24 13:20:08.000000000,2012-07-25 00:10:21.000000000,2012-07-25 00:10:21.000000000,1,0,0,10217,74fb069d19090838ad0431e7c4aa311ed2b086b1,4,3,1,1,161,Kevin Bringard,kbringard,"There was a missing </para> tag on line 80 which was causing compilation errors

Change-Id: Ibe1cb29119c7a31d73c36fef47d21758b4f498b6
"
openstack%2Ftempest~master~If9680f56a1ea06ffe93393d06b23bd231ccddd01,openstack/tempest,master,bug/1028465,If9680f56a1ea06ffe93393d06b23bd231ccddd01,Fix checks in server listing only lok for an ID,MERGED,2012-07-24 23:41:33.000000000,2012-07-25 00:07:53.000000000,2012-07-25 00:07:53.000000000,89,302,0,10255,a6aa5f21074b78f1bf3f44111c9f6fc7d740f2de,5,2,1,8,7,Jay Pipes,jaypipes,"Fix checks in server listing only lok for an ID

The list server filter details checks were checking
entire mappings against the list of mappings returned
from a call to GET /servers/detail. Unfortunately, the
mappings returned by the GET /servers/detail and the
mapping returned by POST /servers are slightly different,
resulting in the comparison failing. We really only are
checking that the server instance we expect to be in the
returned list of instances is there, so checking for the
server ID in the returned list is fine.

Change-Id: If9680f56a1ea06ffe93393d06b23bd231ccddd01
Fixes: LP Bug 1028465pep8 build for tempest.
"
openstack%2Fdevstack~master~I40062f733c8b3cf310239863aca0d48b46136731,openstack/devstack,master,nova-network-depends-on-glance,I40062f733c8b3cf310239863aca0d48b46136731,fixed https://bugs.launchpad.net/devstack/+bug/1027212,ABANDONED,2012-07-20 19:06:02.000000000,2012-07-24 23:35:16.000000000,,2,2,0,10072,aea9e937b4aa131bb4283af16405137c8f6ddef3,2,0,1,1,4703,Evgeniy Afonichev,eafonichev,"fixed https://bugs.launchpad.net/devstack/+bug/1027212

Change-Id: I40062f733c8b3cf310239863aca0d48b46136731
"
openstack%2Ftempest~master~I0195e7f49a7c2bb217f61368ea829f2356733c8d,openstack/tempest,master,bug/1028465,I0195e7f49a7c2bb217f61368ea829f2356733c8d,Ensure checks in server listing only lok for an ID,ABANDONED,2012-07-24 21:37:54.000000000,2012-07-24 23:27:38.000000000,,35,302,0,10251,7fe2c91aba853ece422beb32b8e7f535b5875380,5,2,1,5,7,Jay Pipes,jaypipes,"Ensure checks in server listing only lok for an ID

The list server filter details checks were checking
entire mappings against the list of mappings returned
from a call to GET /servers/detail. Unfortunately, the
mappings returned by the GET /servers/detail and the
mapping returned by POST /servers are slightly different,
resulting in the comparison failing. We really only are
checking that the server instance we expect to be in the
returned list of instances is there, so checking for the
server ID in the returned list is fine.

This includes the tox fixes since the gate cannot be fixed
without both...

Change-Id: I0195e7f49a7c2bb217f61368ea829f2356733c8d
Fixes: LP Bug 1028465
"
openstack%2Fcinder~master~I22c45542401022a6bad9f2320e8657f972915f69,openstack/cinder,master,bug/1027774,I22c45542401022a6bad9f2320e8657f972915f69,Don't do PEP8 test for openstack-common code.,MERGED,2012-07-23 06:48:37.000000000,2012-07-24 23:25:38.000000000,2012-07-24 23:25:38.000000000,1,1,0,10118,612b1bd95510252721ba1a0531bd27e2706cad1d,9,6,1,1,2759,Huang Zhiteng,zhiteng-huang,"Don't do PEP8 test for openstack-common code.

Pep8 test reports issue on openstack-common modules, which would
fail CI test. Pep8 test should skip openstack-common and assuming
they are problem-free code. Even it's not, bug/fix should go to
openstack-common first, then resync back to Cinder.  Therefore,
Cinder should skip pep8 test for openstack-common code.

Fix bug #1027774

Change-Id: I22c45542401022a6bad9f2320e8657f972915f69
"
openstack%2Fcinder~master~Iadd58914c7fb7a581f9878880908aabcfa5733d6,openstack/cinder,master,service_cleanup,Iadd58914c7fb7a581f9878880908aabcfa5733d6,Cleanup unused code in servce.py,MERGED,2012-07-23 04:02:24.000000000,2012-07-24 23:20:41.000000000,2012-07-24 23:20:41.000000000,0,3,0,10111,111b7534b602d62e4984ada998f757038677b745,6,4,1,1,2759,Huang Zhiteng,zhiteng-huang,"Cleanup unused code in servce.py

Remove unused code in Service() class which is meant to be used
by 'nova-compute'.

Change-Id: Iadd58914c7fb7a581f9878880908aabcfa5733d6
Signed-off-by: zhiteng.huang@intel.com
"
openstack%2Fnova~master~I3813eafa24b125575bcdceac8d30ab6bd909cfe4,openstack/nova,master,bug/1027197,I3813eafa24b125575bcdceac8d30ab6bd909cfe4,Add image_name to create and rebuild notifications,MERGED,2012-07-19 20:53:42.000000000,2012-07-24 22:47:58.000000000,2012-07-24 22:47:57.000000000,72,11,1,10032,cc742225d4b37b8bf03a3d0a21be78fcbec29199,24,7,5,5,4463,iccha-sethi,iccha-sethi,"Add image_name to create and rebuild notifications

Fixes bug 1027197

Without image_name in notifications, one has to use the image_ref
and hit glance again.
The create and rebuild functions already contain image_metadata, hence
adding the image_name in their notification can prevent additional
call to glance.

Change-Id: I3813eafa24b125575bcdceac8d30ab6bd909cfe4
"
openstack%2Ftempest~master~Ic50486ca8ae36c14f4a0fabb86dd1c7e48364204,openstack/tempest,master,bug1028465,Ic50486ca8ae36c14f4a0fabb86dd1c7e48364204,Fix pep8 build for tempest.,ABANDONED,2012-07-23 19:15:35.000000000,2012-07-24 22:16:20.000000000,,61,278,4,10157,5fa433c00d502706f9115945ea4d1839e84e6161,18,3,3,7,2,Monty Taylor,mordred,"Fix pep8 build for tempest.

Change-Id: Ic50486ca8ae36c14f4a0fabb86dd1c7e48364204
"
openstack%2Fneutron~master~I2fff64c4247b1a3091c28c7a2cd632afda192c3d,openstack/neutron,master,bp/provider-networks,I2fff64c4247b1a3091c28c7a2cd632afda192c3d,Initial V2 implementation of provider extension.,MERGED,2012-07-24 21:45:53.000000000,2012-07-24 21:45:53.000000000,2012-07-24 21:45:53.000000000,322,41,118,9069,f2e37172ef0ee319de171894bd61fd18f9c55a34,48,11,7,9,1689,Robert Kukura,rkukura,"Initial V2 implementation of provider extension.

Initial provider extension implementation. Specify vlan_id using the
CLI with admin rights via ""net-create --tenant_id <tenant-id>
<net-name> --provider:vlan_id <vlan-id>"". Also includes
provider:vlan_id in reply messages for admins. The extension is
supported in the linuxbridge and openvswitch plugins.

Partially implements blueprint provider-networks.

Change-Id: I2fff64c4247b1a3091c28c7a2cd632afda192c3d
"
openstack%2Ftempest~master~Icacddc386062d25a12006d3cf6491f72ea33e3cf,openstack/tempest,master,bug/1028465,Icacddc386062d25a12006d3cf6491f72ea33e3cf,Ensure checks in server listing only lok for an ID,ABANDONED,2012-07-24 21:00:44.000000000,2012-07-24 21:38:44.000000000,,28,24,0,10249,cdd9cb71fe44f4f15bfa6e5ae722e4e1f9df7130,4,2,1,1,7,Jay Pipes,jaypipes,"Ensure checks in server listing only lok for an ID

The list server filter details checks were checking
entire mappings against the list of mappings returned
from a call to GET /servers/detail. Unfortunately, the
mappings returned by the GET /servers/detail and the
mapping returned by POST /servers are slightly different,
resulting in the comparison failing. We really only are
checking that the server instance we expect to be in the
returned list of instances is there, so checking for the
server ID in the returned list is fine.

Change-Id: Icacddc386062d25a12006d3cf6491f72ea33e3cf
Fixes: LP Bug 1028465
"
openstack%2Fhorizon~master~Id3ab3593b35c5dd3e4b9e13513dd3dcbd0a79b9a,openstack/horizon,master,bp/tenant-creation-workflow,Id3ab3593b35c5dd3e4b9e13513dd3dcbd0a79b9a,admin workflow to add/edit project info and quotas,MERGED,2012-07-05 22:29:27.000000000,2012-07-24 21:28:20.000000000,2012-07-24 21:28:20.000000000,669,198,60,9412,cbb22a181113f052791679c00c62dcbccd27aff0,46,7,13,10,4567,kelsey-tripp,kelsey-tripp,"admin workflow to add/edit project info and quotas

partially implements blueprint tenant-creation-workflow

Change-Id: Id3ab3593b35c5dd3e4b9e13513dd3dcbd0a79b9a
"
openstack%2Fnova~stable%2Fessex~I44ac2e519b7af9b8f3b37a42280ac6fe71c31a1c,openstack/nova,stable/essex,bug/1014925,I44ac2e519b7af9b8f3b37a42280ac6fe71c31a1c,Backport fix for API listing of os-hosts.,MERGED,2012-07-23 20:20:45.000000000,2012-07-24 20:11:53.000000000,2012-07-24 20:11:52.000000000,12,5,0,10168,08e5128ffd63acd14249db3930f05753abb8f848,14,5,1,2,1420,Adam Gandelman,gandelman-a,"Backport fix for API listing of os-hosts.

Backports fix for bug 1014925 to stable/essex, which resolves issue
where querying /v1.1/$tenant/os-hosts returns an empty list.

Original fix by Joe Gordon reviewed into Folsom at:

    https://review.openstack.org/#/c/8682/2

Change-Id: I44ac2e519b7af9b8f3b37a42280ac6fe71c31a1c
"
openstack%2Fnova~stable%2Fessex~I827588f0694c5dd7b5e8ff3173d4794a55946d81,openstack/nova,stable/essex,bug/1007573,I827588f0694c5dd7b5e8ff3173d4794a55946d81,Fixes affinity filters when hints is None,MERGED,2012-07-12 00:20:46.000000000,2012-07-24 20:04:58.000000000,2012-07-24 20:04:57.000000000,40,3,2,9693,2efc87cc08e227d5623ff58c5c6fdfd02c8578df,17,7,1,2,67,Vish Ishaya,vishvananda,"Fixes affinity filters when hints is None

 * Fixes bug 1007573
 * Includes failing tests

Change-Id: I827588f0694c5dd7b5e8ff3173d4794a55946d81
(cherry picked from commit 4803074f2c02c87310c486f66fb66be98533805f)
"
openstack%2Fnova~stable%2Fessex~I0fd476c38d9aea7d1c60cb959d8c7ac30e515d77,openstack/nova,stable/essex,stable/essex,I0fd476c38d9aea7d1c60cb959d8c7ac30e515d77,Backport tox settings to unbreak jenkins jobs.,MERGED,2012-06-25 15:07:57.000000000,2012-07-24 19:57:32.000000000,2012-07-24 19:57:32.000000000,12,25,0,8925,6c01c0163fcdb8f176af3a978eb602a696b80eb8,20,5,1,2,2,Monty Taylor,mordred,"Backport tox settings to unbreak jenkins jobs.

The stable/essex tox config for nova does not currently match the
testing standards that jenkins expects. This backports in current
changes so that jenkins coverage jobs should start passing for
stable/essex.

Change-Id: I0fd476c38d9aea7d1c60cb959d8c7ac30e515d77
"
openstack%2Fopenstack-manuals~stable%2Fessex~I870fdb1088b939100b10d896016b823a2a06dbd6,openstack/openstack-manuals,stable/essex,bug/1015937,I870fdb1088b939100b10d896016b823a2a06dbd6,Fix bug #1015937 : Cloudpipe documentation needs update Fix bug #1027617 : How to access CloudPipe Update the xml-id of cloudpipe sections,MERGED,2012-07-18 14:16:12.000000000,2012-07-24 19:49:59.000000000,2012-07-24 19:49:59.000000000,493,82,7,9965,d20aea2264e89bb7c2e8b0ecf07b46c5e7b9fe39,21,6,7,5,1627,Razique Mahroua,razique,"Fix bug #1015937 : Cloudpipe documentation needs update
Fix bug #1027617 : How to access CloudPipe
Update the xml-id of cloudpipe sections

Patchset for a few spelling corrections.

Change-Id: I870fdb1088b939100b10d896016b823a2a06dbd6
"
openstack%2Fnova~stable%2Fessex~Id231e9518ac176e29cc6241fff81705910dc9e9e,openstack/nova,stable/essex,9710,Id231e9518ac176e29cc6241fff81705910dc9e9e,Conditionally allow queries for deleted flavours,MERGED,2012-07-12 12:18:50.000000000,2012-07-24 19:48:10.000000000,2012-07-24 19:48:10.000000000,54,6,0,9710,4c7d671d21816f656068380e3b7a1415d98ba69c,17,4,2,4,518,Soren Hansen,soren,"Conditionally allow queries for deleted flavours

Fixes bug #994935

This is four commits from upstream squashed into one:

   31506c0 Permit deleted instance types to be queried for active
           instances. (By Josh Kearney)
   f6e62c6 API users should not see deleted flavors. (By Dan Prince)
   16d26af Revert ""API users should not see deleted flavors."" (By Josh
           Kearney)
   5157401 Do not always query deleted instance_types. (By Brian Lamar)

It may seem strange to include both the change and the reversion of the
change, but a) this is the most accurate way to reflect the history of
the changes and b) the reversion actually includes new tests.

Change-Id: Id231e9518ac176e29cc6241fff81705910dc9e9e
"
openstack%2Fhorizon~master~I20dd8d698f5d8481938417557e09dcdc9b891e82,openstack/horizon,master,bug/1023740,I20dd8d698f5d8481938417557e09dcdc9b891e82,Added action for creating a volume from snapshot,MERGED,2012-07-14 11:54:38.000000000,2012-07-24 18:34:30.000000000,2012-07-24 18:34:30.000000000,240,23,8,9818,2392da498ab51f94d0e45db14fd800c1d196b4b7,21,5,6,8,2455,Tihomir Trifonov,ttrifonov,"Added action for creating a volume from snapshot

Added a new action to create new volume from
a volume snapshot. The snapshot_id is passed to
nova volume API. The 'Create Volume' form is
reused, with the 'size' value being checked against
the snapshot size, as it cannot be less than
the snapshot size.

Fixes bug 1023740

PATCH SET 4: Added dropdown to select snapshot source
in 'Create Volume' form, when loaded from /nova/volumes/
When a snapshot is selected from the dropdown, the name
and size are pre-filled in the form (I've removed
the description copy as it is probably specific
for the reason a snapshot is being created).

PATCH SET 6: rebased with master, fixed a bug with
get_context in nova/volume/views

Change-Id: I20dd8d698f5d8481938417557e09dcdc9b891e82
"
openstack%2Fheat~master~I10f3b599f8a0f5daad84752042079a591968de09,openstack/heat,master,master,I10f3b599f8a0f5daad84752042079a591968de09,heat API : Add more tests covering error paths,MERGED,2012-07-24 18:33:25.000000000,2012-07-24 18:33:25.000000000,2012-07-24 18:33:25.000000000,213,0,0,10232,f1eabe8073549cbcea47b1ae6c927e2e1948d33e,5,2,1,1,4328,Steven Hardy,shardy,"heat API : Add more tests covering error paths

Add some more tests testing error path responses

Change-Id: I10f3b599f8a0f5daad84752042079a591968de09
Signed-off-by: Steven Hardy <shardy@redhat.com>
"
openstack%2Fhorizon~master~I1c68e3625c22e591776e83c742e7b94dc893f196,openstack/horizon,master,bug/1027210,I1c68e3625c22e591776e83c742e7b94dc893f196,Fixed the bug with images returned as generator,MERGED,2012-07-23 10:26:15.000000000,2012-07-24 18:29:05.000000000,2012-07-24 18:29:05.000000000,166,21,2,10122,dec4876e2414dc48052ad95939081cc183bfef54,15,4,4,5,2455,Tihomir Trifonov,ttrifonov,"Fixed the bug with images returned as generator

After a fix in Glance to support pagination,
the list of images is returned as generator,
while api.glance expects a list.

PATCHSET 2: removed optional kwargs if None
PATCHSET 3: fixed snapshot_list_detailed.

Fixed bug 1027210

Change-Id: I1c68e3625c22e591776e83c742e7b94dc893f196
"
openstack%2Fkeystone~master~I2866ff40fdc13040ba10d189ea2d95440eb4395c,openstack/keystone,master,bug/1021315,I2866ff40fdc13040ba10d189ea2d95440eb4395c,Implementation of LDAP functions,MERGED,2012-07-13 18:16:20.000000000,2012-07-24 18:04:09.000000000,2012-07-24 18:04:09.000000000,80,96,13,9780,2a78594153a69425a20013e7ef15037bcc9b356c,15,5,2,3,2218,Adam Young,ayoung,"Implementation of LDAP functions

implementations of delete_tenant, delete_user,
  remove_role_from_user_and_tenant, get_tenant_users
  role.delete_user and remove_role_from_user_and_tenant
  remove_user_from_tenant, change_ role

clean up LDAP sample data for live LDAP

properly check for existance of tenant_id in user.

Some tests expected the functions to be unimplemented.  Those hid the
failuers on the LDAP Identity provider and have been removed.

Make live tests extend the standard LDAP tests, so they test the same features.

Bug 1021315

Change-Id: I2866ff40fdc13040ba10d189ea2d95440eb4395c
"
openstack%2Fnova~master~I5aecb223876e12550394f31dbc7df893868baa8b,openstack/nova,master,bug/1002111,I5aecb223876e12550394f31dbc7df893868baa8b,Provide rootwrap filters for nova-api-metadata,MERGED,2012-07-24 15:07:41.000000000,2012-07-24 16:21:42.000000000,2012-07-24 16:21:41.000000000,17,0,0,10222,6c888001f15fba44aaaaaf367757dd81b8512f65,8,5,1,1,308,Thierry Carrez,ttx,"Provide rootwrap filters for nova-api-metadata

The metadata service in nova-api needs access to
ip[6]tables-{save-restore} to accept connections to the
metadata service. This change adds an api-metadata.filters file
that needs to be deployed on setups running nova-api-metadata
or nova-api with ""metadata"" in enabled_apis.

Fixes bug 1002111.

Change-Id: I5aecb223876e12550394f31dbc7df893868baa8b
"
openstack%2Fglance~master~Ieacfd397939b77246e8c89214cbe902c3ed3e28c,openstack/glance,master,bug/1028433,Ieacfd397939b77246e8c89214cbe902c3ed3e28c,Include chunk_name in swift debug message,MERGED,2012-07-24 12:57:34.000000000,2012-07-24 16:04:56.000000000,2012-07-24 16:04:56.000000000,4,3,0,10213,33ebb37f4a263bc89c3d419c6936c60396d12f82,7,4,1,1,455,Stuart McLaren,stuart-mclaren,"Include chunk_name in swift debug message

Add chunk_name to swift upload debug message. Helps
to track which image the chunk is part of when several
uploads are occurring.

Fixes LP bug #1028433.

Change-Id: Ieacfd397939b77246e8c89214cbe902c3ed3e28c
"
openstack%2Fneutron~master~I85b5a3a74f129746528910d12acdd00db39d8626,openstack/neutron,master,common-updates,I85b5a3a74f129746528910d12acdd00db39d8626,Update openstack-common files.,MERGED,2012-07-24 15:55:41.000000000,2012-07-24 15:55:41.000000000,2012-07-24 15:55:41.000000000,12,6,0,10204,f43b1cede93bca9acfa493c7f3c83ff5ab961587,8,4,2,2,1653,garyk,garyk,"Update openstack-common files.

The RPC support requires that the fanout_cast messages enable
the application to set the topic. This was fixed in
https://review.openstack.org/#/c/10125/.

In addition to this the jsonutils.py was updated.

Change-Id: I85b5a3a74f129746528910d12acdd00db39d8626
"
openstack%2Fpython-novaclient~master~I3adeed24ecea127c8bdd12143634a6ce5da64330,openstack/python-novaclient,master,fix_image_poll,I3adeed24ecea127c8bdd12143634a6ce5da64330,Fix image-create --poll race-condition.,MERGED,2012-07-23 22:09:34.000000000,2012-07-24 15:23:21.000000000,2012-07-24 15:23:21.000000000,35,8,0,10179,7ef0786d9e6172a9df0d33a1113f27569bd7f522,6,3,1,1,475,Rick Harris,rconradharris,"Fix image-create --poll race-condition.

This fixes a race-condition caused by `do_image_create` with polling
enabled returning after the image has finished uploading but before the
instance `task_state` was cleared out.

This would cause a snapshot taken immediately afterwards to fail because
the `task_state` would still be in the `image_snapshot` state.

The (short-term) fix is to add an addition poll-loop that ensures the
`task_state` field is cleared-out as well.

Change-Id: I3adeed24ecea127c8bdd12143634a6ce5da64330
"
openstack%2Fnova~master~Ia89c191f420e116b2f7ca144cdb2e21e6ace404a,openstack/nova,master,hyper-stats,Ia89c191f420e116b2f7ca144cdb2e21e6ace404a,Fix a bug in compute_node_statistics,MERGED,2012-07-24 14:47:46.000000000,2012-07-24 15:23:19.000000000,2012-07-24 15:23:18.000000000,2,1,0,10219,4c9c0d74d4de955f3ab7d0ceb2e6f0621710a6a3,8,5,1,1,679,Kevin L. Mitchell,klmitch,"Fix a bug in compute_node_statistics

Turns out, using Sqlalchemy's sum aggregation functions returns
instances of Decimal.  This caused the statistics reporting to
fail with a cryptic ""Circular reference"" error during
serialization.  Fixed by forcing the values to integer.

Change-Id: Ia89c191f420e116b2f7ca144cdb2e21e6ace404a
"
openstack%2Ftempest~master~I8be2721888f3940a215bc0f31c731231b98f05a5,openstack/tempest,master,,I8be2721888f3940a215bc0f31c731231b98f05a5,Tolerate set_admin_password not implemented.,ABANDONED,2012-07-23 14:52:39.000000000,2012-07-24 14:12:20.000000000,,6,2,0,10133,543dd4537bab32dbeb08a18547b1c7f7d120210c,10,4,4,1,2284,Eoghan Glynn,eglynn,"Tolerate set_admin_password not implemented.

Allow attempts to set the root password to fail if this action
is not implemented by the virt driver.

This will allow the following nova patch to be gated:

   https://review.openstack.org/10130

Change-Id: I8be2721888f3940a215bc0f31c731231b98f05a5
"
openstack%2Fswift~master~I4209190ba06561dfaf7cd46daa4bcce82781825c,openstack/swift,master,master,I4209190ba06561dfaf7cd46daa4bcce82781825c,Fix sample code for clients to match real code.,ABANDONED,2012-07-19 20:36:57.000000000,2012-07-24 13:18:10.000000000,,1,1,0,10031,12d7748ee567a61ad23ff21e4a5d1fc0c3106df9,5,3,1,1,1192,David Kranz,david-kranz,"Fix sample code for clients to match real code.

Change-Id: I4209190ba06561dfaf7cd46daa4bcce82781825c
"
openstack%2Fnova~master~Ibe36eace6a2d5d5a8d8d03d2cb170cbe0056320e,openstack/nova,master,bug/1027453,Ibe36eace6a2d5d5a8d8d03d2cb170cbe0056320e,Updates migration 111 to work w/ Postgres.,MERGED,2012-07-21 17:43:17.000000000,2012-07-24 12:48:01.000000000,2012-07-24 12:48:00.000000000,5,0,0,10094,046b3f2e0c4b6a80428aea1e69957429d23783a0,9,6,1,1,360,Dan Prince,dan-prince,"Updates migration 111 to work w/ Postgres.

Updates migration 111 so that we drop the aggregate_hosts_host_key
unique constrain by name.

Fixes LP Bug #1027453

Change-Id: Ibe36eace6a2d5d5a8d8d03d2cb170cbe0056320e
"
openstack%2Fheat~master~Ibe8941ab471943b7385ceb4b4d4559719a7092b6,openstack/heat,master,master,Ibe8941ab471943b7385ceb4b4d4559719a7092b6,delete duplicate validate() method,MERGED,2012-07-24 08:28:37.000000000,2012-07-24 08:28:37.000000000,2012-07-24 08:28:37.000000000,0,3,0,10207,f95e459e80625150e91413f54a76090163fc7bb0,5,2,1,1,4715,Angus Salkeld,asalkeld,"delete duplicate validate() method

probably a merge conflict.

Change-Id: Ibe8941ab471943b7385ceb4b4d4559719a7092b6
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fheat~master~I74abc742371cb23ddfe38f83812662a9d42f3d43,openstack/heat,master,master,I74abc742371cb23ddfe38f83812662a9d42f3d43,loadbalancer: implement Interval and Timeout,MERGED,2012-07-24 08:27:03.000000000,2012-07-24 08:27:03.000000000,2012-07-24 08:27:03.000000000,21,4,0,10206,8a7ea792b00fa470270d85b3d08f210b5e98b78f,5,2,1,1,4715,Angus Salkeld,asalkeld,"loadbalancer: implement Interval and Timeout

Change-Id: I74abc742371cb23ddfe38f83812662a9d42f3d43
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fheat~master~I1403f7857e03795aa4773f9a3f1fc8f082526477,openstack/heat,master,master,I1403f7857e03795aa4773f9a3f1fc8f082526477,autoscaling: implement DesiredCapacity,MERGED,2012-07-24 08:25:17.000000000,2012-07-24 08:25:17.000000000,2012-07-24 08:25:17.000000000,8,3,0,10205,27e612a77bdde87d417d502251553352fafc8870,5,2,1,1,4715,Angus Salkeld,asalkeld,"autoscaling: implement DesiredCapacity

Change-Id: I1403f7857e03795aa4773f9a3f1fc8f082526477
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fneutron~master~Ib82a9f843548c286c84ba63caf5406a773ac85b1,openstack/neutron,master,bp/cisco-plugin-v2-api-support,Ib82a9f843548c286c84ba63caf5406a773ac85b1,Add v2 API support for the Cisco plugin Blueprint cisco-plugin-v2-api-support,MERGED,2012-07-24 07:34:58.000000000,2012-07-24 07:34:58.000000000,2012-07-24 07:34:58.000000000,4236,22,27,9988,9cc6decb7a554619b565b269f0b29b0b1486847c,26,7,5,32,490,Sumit Naiksatam,snaiksat,"Add v2 API support for the Cisco plugin
Blueprint cisco-plugin-v2-api-support

New meta-plugin which makes use of the Quantum db_plugin and supports
the new v2 API
Changes to the Cisco DB model, now reusing quantum DB for core attributes
Changes to the device sub plugins to access the quantum DB for core
resources' state versus Cisco DB
Addition of fake/dummy drivers to support testing of the device sub
plugins even without actual hardware
New v2 unit tests which exercise the meta-plugin and the device sub
-plugins as well
In general creating new v2 modules such that v1.x code can be deprecated
easily by deleting the older modules. The following files are v2
versions of older modules, only the imports have changed, most of the
other code is the same as from the older modules (already reviewed):
quantum/plugins/cisco/common/cisco_credentials_v2.py
quantum/plugins/cisco/db/network_db_v2.py
quantum/plugins/cisco/db/network_models_v2.py
quantum/plugins/cisco/db/nexus_db_v2.py
quantum/plugins/cisco/db/nexus_models_v2.py
quantum/plugins/cisco/db/ucs_db_v2.py
quantum/plugins/cisco/db/ucs_models_v2.py
quantum/plugins/cisco/nexus/cisco_nexus_plugin_v2.py
quantum/plugins/cisco/ucs/cisco_ucs_inventory_v2.py
quantum/plugins/cisco/ucs/cisco_ucs_plugin_v2.py
quantum/plugins/cisco/segmentation/l2network_vlan_mgr_v2.py

All changes are contained with the Cisco plugin.

(Sumit & Rohit)

Change-Id: Ib82a9f843548c286c84ba63caf5406a773ac85b1
"
openstack%2Fnova~stable%2Fessex~I3251f02fc5fcb8305f12b6b8a9644232b9146db2,openstack/nova,stable/essex,bug/1017418,I3251f02fc5fcb8305f12b6b8a9644232b9146db2,Avoid casts in network manager to prevent races,MERGED,2012-06-27 00:58:54.000000000,2012-07-24 06:40:26.000000000,2012-07-24 06:40:26.000000000,6,6,0,9041,80d302670f8db37b297ea0618cc14851aab6fff5,19,5,3,2,67,Vish Ishaya,vishvananda,"Avoid casts in network manager to prevent races

 * Fixes bug 1017418
 * Includes a change to turn the floating ip casts
   into calls which is part of commit
   82599c77346bbefd550ea4ee6c0b13a3df4950af
 * These calls are to prevent race conditions that
   were preventing floating ips from being deallocated
   properly

Change-Id: I3251f02fc5fcb8305f12b6b8a9644232b9146db2
(cherry picked from commit c689891226baa8877f6fb7b3c468b06972068847)
"
openstack%2Fnova~stable%2Fessex~I450c598c31c416c7be341cbb8cd14e33c6bb2aec,openstack/nova,stable/essex,bp-9297,I450c598c31c416c7be341cbb8cd14e33c6bb2aec,Avoid lazy-loading errors on instance_type,MERGED,2012-07-11 15:05:39.000000000,2012-07-24 06:36:21.000000000,2012-07-24 06:36:20.000000000,3,3,0,9642,4d74631659b1b6e5b29b763cd808528946cb3721,10,5,2,1,67,Vish Ishaya,vishvananda,"Avoid lazy-loading errors on instance_type

When instances are launched with a source group, the instance_type
is not lazy_loaded in properly.

The issue is intermittent because if another query has already loaded
the instance with a joined instance_type or the instance has not
yet been expunged from the session, then the load succeeds.

Therefore this failure only appears under heavy load. Adding an
explicit joindload fixes the issue.

fixes bug 1018721

Change-Id: I450c598c31c416c7be341cbb8cd14e33c6bb2aec
(cherry picked from commit 2ef0dcfac78468551aac8492269ad856c312dcb5)
"
openstack%2Fnova~master~I03b4914d9420918590ae27dfc77dfedac9c767c1,openstack/nova,master,master,I03b4914d9420918590ae27dfc77dfedac9c767c1,Xen: Fix snapshots when use_cow=True.,MERGED,2012-07-24 04:51:14.000000000,2012-07-24 06:17:10.000000000,2012-07-24 06:17:09.000000000,5,0,0,10201,a08f8009d20918b8842f3c781934d1072f6f2643,6,3,1,1,475,Rick Harris,rconradharris,"Xen: Fix snapshots when use_cow=True.

This fixes an issue where use_cow=True would sporadically cause snapshot
corruption.

The root cause was a race-condition where the VM's sm_config was
sometimes out-of-sync with the underlying VHDs.

The solution is to force an SR rescan immediately after taking a
snapshot so that any VHD parent-pointer modifications are propogated
into the sm_config so that _walk_vdi_chain will receive accurate
information.

Change-Id: I03b4914d9420918590ae27dfc77dfedac9c767c1
"
openstack%2Fpython-cinderclient~master~Id4958bafea114706d2ff67ecd7139dd6c06a10d2,openstack/python-cinderclient,master,bug/1023311,Id4958bafea114706d2ff67ecd7139dd6c06a10d2,Port volume quota functionality in to cinderclient,ABANDONED,2012-07-14 15:54:26.000000000,2012-07-24 06:03:02.000000000,,299,5,0,9820,8f5c3083efba3d94c0d0d3b9c9c1879d49fc5686,4,1,2,7,2243,John Griffith,john-griffith,"Port volume quota functionality in to cinderclient

* Enables quota management for volumes in cinderclient
* Changes default service_type to volume
* Updates both nova and cinder quota tables
* Runs from novaclient as well as cinderclient
* Quota code is already in Cinder, but had no interface
* Fixes bug 1023311

Change-Id: Id4958bafea114706d2ff67ecd7139dd6c06a10d2
"
openstack%2Ftempest~master~I060a572fd0a676e51e3d50a08c52a49a0a424461,openstack/tempest,master,bug/1023345,I060a572fd0a676e51e3d50a08c52a49a0a424461,Fixes Bug 1023345-Test cases for Creating Server with 'Maximum' and 'exceeding' Personality File size,ABANDONED,2012-07-11 11:50:16.000000000,2012-07-24 06:03:02.000000000,,104,0,0,9634,6714b77d27e45c4578b3cd6ae45dd11bdec65654,4,2,1,4,2222,meenakshi-m,meenakshi-m,"Fixes Bug 1023345-Test cases for Creating Server with 'Maximum' and 'exceeding' Personality File size

Change-Id: I060a572fd0a676e51e3d50a08c52a49a0a424461
"
openstack%2Fheat~master~I4a22974e24fb277aea79212f0aee2f7e85a0ea76,openstack/heat,master,master,I4a22974e24fb277aea79212f0aee2f7e85a0ea76,Get rid of PyCrypto dependency,MERGED,2012-07-24 04:54:19.000000000,2012-07-24 04:54:19.000000000,2012-07-24 04:54:19.000000000,0,65,0,10182,8bd9ed0bd8e51291e549751abd5821e8263e820d,5,2,1,1,3098,Jeff Peeler,jpeeler-z,"Get rid of PyCrypto dependency

The origin of this code is from Glance and is not used in Heat.

Change-Id: I4a22974e24fb277aea79212f0aee2f7e85a0ea76
Signed-off-by: Jeff Peeler <jpeeler@redhat.com>
"
openstack%2Fhorizon~master~I793ae330c33fde4e625f96e55fdda3748c84b8c3,openstack/horizon,master,bug/1013475,I793ae330c33fde4e625f96e55fdda3748c84b8c3,Added custom parser for tablesorter.js,MERGED,2012-07-23 16:10:50.000000000,2012-07-24 04:02:01.000000000,2012-07-24 04:02:00.000000000,63,19,0,10137,ba27042d65c1bf47556cfecfbe492dab9dc88b3b,7,4,1,7,2455,Tihomir Trifonov,ttrifonov,"Added custom parser for tablesorter.js

A custom parser is needed for sorting of
custom type columns like the 'Size' columns.
The 'KB', 'MB', 'GB'... values break the sorter
logic and need to be parsed manually.

The custom parser works on all 'Size'/'RAM'/'Memory'
columns. It works also on flavor-info columns like:

    `m1.tiny | 512MB RAM | 1 VCPU | 0 Disk`

The custom parser sorts these lines based on the RAM value.

Note: as seen in horizon.tables.js file, an workaround was
added as there is one more <th> in the <thead> (incl. the table_caption)
than the <td>'s in <tbody>. Thus the custom parser needs
to be added to [i-1] header, while the header itself needs [i],
as the parser is processed in <tbody>, while headers are processed
including the table_caption... This might be a problem at some time,
although currently it works...

Fixes bug 1013475

Change-Id: I793ae330c33fde4e625f96e55fdda3748c84b8c3
"
openstack%2Fhorizon~master~I1808b34cbf6f813eaedf767a6364e815c0c5e969,openstack/horizon,master,bug/994677,I1808b34cbf6f813eaedf767a6364e815c0c5e969,Inline object creation.,MERGED,2012-07-18 04:17:28.000000000,2012-07-24 03:34:18.000000000,2012-07-24 03:34:18.000000000,968,803,11,9953,df5a13c5eca4bf6a34dd48d52c9b1762a0744a95,17,4,3,119,1816,Gabriel Hurley,gabriel-hurley,"Inline object creation.

Allows the creation of related objects during a workflow.
For example, this patch implements importing keypairs during
the launch instance workflow and allocating floating IP
addresses during the floating IP associate workflow.

This required several significant changes:

  * SelfHandlingForm should no long return a redirect.
    Instead, it should return either the object it
    created/acted on, or else a boolean such as True.

  * The ModalFormView now differentiates between GET
    and POST.

  * Due to the previous two items, SelfHandlingForm
    was mostly gutted (no more maybe_handle, etc.).

  * Modals now operate via a ""stack"" where only the
    top modal is visible at any given time and closing
    one causes the next one to become visible.

In the process of these large changes there was a large
amount of general code cleanup, especially in the javascript
code and the existing SelfHandlingForm subclasses/ModalFormView
subclasses. Many small bugs were fixed along with the cleanup.

Implements blueprint inline-object-creation.

Fixes bug 994677.
Fixes bug 1025977.
Fixes bug 1027342.
Fixes bug 1025919.

Change-Id: I1808b34cbf6f813eaedf767a6364e815c0c5e969
"
openstack%2Fpython-novaclient~master~I0a3df235282089f1313d08ae5b89dadbd1db9840,openstack/python-novaclient,master,hyper-stats,I0a3df235282089f1313d08ae5b89dadbd1db9840,Add call to get hypervisor statistics,MERGED,2012-07-23 17:12:42.000000000,2012-07-24 03:34:16.000000000,2012-07-24 03:34:16.000000000,53,0,5,10152,85d591b1d88b7e6d174c8eabd41dda14162a8bbc,20,6,4,5,679,Kevin L. Mitchell,klmitch,"Add call to get hypervisor statistics

Adds an admin API call to retrieve the compute node statistics for an
entire nova instance.  Counts up all hypervisors and sums all their
values (vcpus, vcpus_used, etc.).

Change-Id: I0a3df235282089f1313d08ae5b89dadbd1db9840
"
openstack%2Fnova~master~I36272656bb417c1549133fd2963bac54db0e86c6,openstack/nova,master,hyper-stats,I36272656bb417c1549133fd2963bac54db0e86c6,Add call to get hypervisor statistics,MERGED,2012-07-23 17:12:37.000000000,2012-07-24 03:28:13.000000000,2012-07-24 03:28:12.000000000,130,3,0,10151,09d978994325b28c76050f112af3ee66b84a5e1f,16,7,2,4,679,Kevin L. Mitchell,klmitch,"Add call to get hypervisor statistics

Adds an admin API call to retrieve the compute node statistics for an
entire nova instance.  Counts up all hypervisors and sums all their
values (vcpus, vcpus_used, etc.).

Change-Id: I36272656bb417c1549133fd2963bac54db0e86c6
"
openstack%2Fheat~master~If1cb20f6a16e719ee423db937b591b575fd4a038,openstack/heat,master,master,If1cb20f6a16e719ee423db937b591b575fd4a038,Update GettingStarted guide to use correct state name,MERGED,2012-07-24 00:20:39.000000000,2012-07-24 00:20:39.000000000,2012-07-24 00:20:39.000000000,2,2,0,10191,1206b18cbd24774a2397f905da323c57ebee2be4,8,3,1,1,4257,Zane Bitter,zaneb,"Update GettingStarted guide to use correct state name

This changed from IN_PROGRESS to CREATE_IN_PROGRESS in
0191587ac6a79509576e2043412020d9c4257b47.

Change-Id: If1cb20f6a16e719ee423db937b591b575fd4a038
Signed-off-by: Zane Bitter <zbitter@redhat.com>
"
openstack%2Fnova~master~Ieea4e2b7a248ea439a037e515f44d8286e278822,openstack/nova,master,bug/974411,Ieea4e2b7a248ea439a037e515f44d8286e278822,Use kombu >=2.1.8 to avoid occasional test hangs.,ABANDONED,2012-07-23 23:38:55.000000000,2012-07-24 00:15:24.000000000,,1,1,0,10188,0c02be397df66fab94a5cb9ed75c654aab300f51,3,2,1,1,4987,Eugene Kirpichov,ekirpichov,"Use kombu >=2.1.8 to avoid occasional test hangs.

Launchpad bug 974411.

Change-Id: Ieea4e2b7a248ea439a037e515f44d8286e278822
"
openstack%2Fnova~master~Iddea2cabc841200edd561d71f0c11fd6ba272f5d,openstack/nova,master,fix_vmware_compute_driver_help,Iddea2cabc841200edd561d71f0c11fd6ba272f5d,Use compute_driver in vmware driver help messages.,MERGED,2012-07-23 21:20:16.000000000,2012-07-23 22:41:22.000000000,2012-07-23 22:41:21.000000000,10,6,0,10175,dd4dcd1889bdbfd5952028ef9c478b6c63a8cbce,7,4,1,1,360,Dan Prince,dan-prince,"Use compute_driver in vmware driver help messages.

Updates the help messages in the vmware driver to use 'compute_driver'
examples instead of 'connection_type' which is now deprecated.

Change-Id: Iddea2cabc841200edd561d71f0c11fd6ba272f5d
"
openstack%2Fpython-cinderclient~master~I71a4b3303a354c0483c5da6a786ee6ae39388c77,openstack/python-cinderclient,master,master,I71a4b3303a354c0483c5da6a786ee6ae39388c77,Bump pep8 to 1.2,MERGED,2012-06-27 17:21:57.000000000,2012-07-23 22:39:29.000000000,2012-07-23 22:39:29.000000000,1,1,0,9061,1a32f024ce565d19a362d615cfefda2a59e01f54,15,3,2,1,24,Chuck Short,zulcss,"Bump pep8 to 1.2

Align it with outher openstack projects.

Change-Id: I71a4b3303a354c0483c5da6a786ee6ae39388c77
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fnova~master~I4a6912d29fbe425b29bd1b170b9bec19e3bfc46e,openstack/nova,master,jsonutils_auth_fix,I4a6912d29fbe425b29bd1b170b9bec19e3bfc46e,Update NovaKeystoneContext to use jsonutils.,MERGED,2012-07-23 21:08:01.000000000,2012-07-23 22:38:47.000000000,2012-07-23 22:38:46.000000000,2,2,1,10173,97478dbd48e343300cc71f3d5aae00843456d796,10,4,2,1,360,Dan Prince,dan-prince,"Update NovaKeystoneContext to use jsonutils.

Minor fix to use jsonutils.loads instead of json.loads to
standardize w/ the rest of Nova.

Change-Id: I4a6912d29fbe425b29bd1b170b9bec19e3bfc46e
"
openstack%2Fnova~stable%2Fessex~I36fd11d5f01562f65a6b6f07e759ea066490b067,openstack/nova,stable/essex,bug/1013689,I36fd11d5f01562f65a6b6f07e759ea066490b067,ensure libguestfs has completed before proceeding,MERGED,2012-07-11 00:11:19.000000000,2012-07-23 22:02:55.000000000,2012-07-23 22:02:54.000000000,12,0,0,9618,1c1b858e919248d6e3fb11c1022532ba40e75844,8,5,1,1,1812,p-draigbrady,p-draigbrady,"ensure libguestfs has completed before proceeding

This avoids a FUSE issue referenced here:
http://code.google.com/p/s3ql/issues/detail?id=159
which in turn references this thread on the subject from 2006:
http://thread.gmane.org/gmane.comp.file-systems.fuse.devel/3903
And another case from 2008:
http://permalink.gmane.org/gmane.comp.file-systems.fuse.devel/6502

The vast majority of this work was reproducing and classifying
done by David Naori and Richard W.M. Jones at:
https://bugzilla.redhat.com/show_bug.cgi?id=835466

Fixes bug: 1013689
Change-Id: I36fd11d5f01562f65a6b6f07e759ea066490b067
"
openstack%2Fnova~stable%2Fessex~Ica0e2f51b6852c8572bdc3c995cc8c2588b9a25c,openstack/nova,stable/essex,bug/1022036,Ica0e2f51b6852c8572bdc3c995cc8c2588b9a25c,fix metadata file injection with xen,MERGED,2012-07-07 09:52:40.000000000,2012-07-23 22:01:41.000000000,2012-07-23 22:01:40.000000000,1,1,0,9475,48e5f46f799ea5832f8d18cb2f34e98df9cda15a,15,6,3,1,1812,p-draigbrady,p-draigbrady,"fix metadata file injection with xen

The metadata parameter was misordered in commit 1463839f

Cherry picked from commit a2032924
Fixes Bug: 1022036
Change-Id: Ica0e2f51b6852c8572bdc3c995cc8c2588b9a25c
"
openstack%2Fswift~master~Id09bbff6bb4a5d032727d3ca53b3276b4769d178,openstack/swift,master,bug/1024477,Id09bbff6bb4a5d032727d3ca53b3276b4769d178,Create and configure /var/cache/swift in SAIO,MERGED,2012-07-13 22:15:14.000000000,2012-07-23 21:57:25.000000000,2012-07-23 21:57:24.000000000,65,12,1,9798,0da1b4f82d105e89729e41e45a22cf5ddc3d719a,18,4,4,1,1603,Florian Hines,pandemicsyn,"Create and configure /var/cache/swift in SAIO

Fixes bug #1024477

Change-Id: Id09bbff6bb4a5d032727d3ca53b3276b4769d178
"
openstack%2Fglance~master~If7514a4394b17844d92b9737214898f954fe95a6,openstack/glance,master,master,If7514a4394b17844d92b9737214898f954fe95a6,Use size_checked_iter in v2 API,MERGED,2012-07-17 23:31:48.000000000,2012-07-23 21:53:29.000000000,2012-07-23 21:53:29.000000000,28,10,0,9947,617609a2f38310cd4d45f0fc0d7a795ab77c02f7,18,5,3,2,1132,Brian Waldon,bcwaldon,"Use size_checked_iter in v2 API

The image file returned in the v2 API should be treated the same
as in the v1 API. This patch wraps the returned image data in
the v2 API controller with glance.api.common.size_checked_iter

Change-Id: If7514a4394b17844d92b9737214898f954fe95a6
"
openstack%2Fopenstack-manuals~master~I8970bec78164fec7bcab93960ca145273f858824,openstack/openstack-manuals,master,bug/933547,I8970bec78164fec7bcab93960ca145273f858824,Updates api.openstack.org to v2 instead of v1.1 for Compute API.,MERGED,2012-07-23 20:57:17.000000000,2012-07-23 21:45:33.000000000,2012-07-23 21:20:53.000000000,47,3772,0,10172,335534eb174f4cfd8d089ce89e4f788ef19e9c5d,4,3,1,24,964,Anne Gentle,annegentle,"Updates api.openstack.org to v2 instead of v1.1 for Compute API.

Adds some additional details to createServer.
 - Fix bug 933547 by adding imageRef, flavorRef to create Server
 - Adds metadata and personality to create Server command

Change-Id: I8970bec78164fec7bcab93960ca145273f858824
"
openstack%2Fceilometer~master~Ibc8b726d59c3f9433109096958b1d40db043e70d,openstack/ceilometer,master,master,Ibc8b726d59c3f9433109096958b1d40db043e70d,Fix and document counter types,MERGED,2012-07-23 21:39:22.000000000,2012-07-23 21:39:22.000000000,2012-07-23 21:39:22.000000000,21,6,0,10016,dcce2c7323c0e8c9426604bc15a7e8f6ee70b86d,5,2,1,6,1669,Julien Danjou,jdanjou,"Fix and document counter types

Document each counter type available and fixes the various counter already
implemented.

This fixes bug #1023969.

Change-Id: Ibc8b726d59c3f9433109096958b1d40db043e70d
Signed-off-by: Julien Danjou <julien@danjou.info>
"
openstack%2Fceilometer~master~I51a953062d450ac4b392d0f86acc9a415b7b22af,openstack/ceilometer,master,master,I51a953062d450ac4b392d0f86acc9a415b7b22af,Merge c1 function into process,MERGED,2012-07-23 21:31:40.000000000,2012-07-23 21:31:40.000000000,2012-07-23 21:31:40.000000000,18,22,0,10015,6b9bd89649f7d436a8fb9d4db03b7b6e80432aaa,5,2,1,2,1669,Julien Danjou,jdanjou,"Merge c1 function into process

c1 does not mean anything, so it seems better to merge it in the method its
used.

Change-Id: I51a953062d450ac4b392d0f86acc9a415b7b22af
Signed-off-by: Julien Danjou <julien@danjou.info>
"
openstack%2Fnova~stable%2Fessex~I700770b17d0a38f120fce002167c8b6a8bbecbb2,openstack/nova,stable/essex,stable/essex,I700770b17d0a38f120fce002167c8b6a8bbecbb2,Fix marker behavior for flavors,MERGED,2012-07-12 12:18:50.000000000,2012-07-23 21:22:37.000000000,2012-07-23 21:22:36.000000000,41,6,0,9709,d3a87a247e1c4a9dc9aa7b432d23b9c3c27d469a,6,4,1,3,518,Soren Hansen,soren,"Fix marker behavior for flavors

Fixes Bug #956096

(cherry-picked from commit 497502cbf833d063c964975448dfacd0e1db2ef4)

Change-Id: I700770b17d0a38f120fce002167c8b6a8bbecbb2
"
openstack%2Fpython-glanceclient~master~I34500987f51d4e0c6e1f89ecf93853de3fcbb1c3,openstack/python-glanceclient,master,bug/1023240,I34500987f51d4e0c6e1f89ecf93853de3fcbb1c3,Replace httplib2 with httplib as http driver,MERGED,2012-07-11 04:08:49.000000000,2012-07-23 21:10:30.000000000,2012-07-23 21:10:30.000000000,55,60,4,9623,1e744f162ece85f14120a16180ed0f83fe9f1e09,36,4,8,6,1132,Brian Waldon,bcwaldon,"Replace httplib2 with httplib as http driver

* This allows us to send truly chunked responses to users
* Handle bad connection url schemes with a new InvalidEndpoint exception
* Fixes bug 1023240

Change-Id: I34500987f51d4e0c6e1f89ecf93853de3fcbb1c3
"
openstack%2Fnova~master~I3b802e41e583bee84ee6f5d05e1ffc581761571d,openstack/nova,master,logsnapshot,I3b802e41e583bee84ee6f5d05e1ffc581761571d,Log snapshot UUID and not OpaqueRef.,MERGED,2012-07-23 17:02:22.000000000,2012-07-23 20:55:59.000000000,2012-07-23 20:55:58.000000000,4,6,2,10150,109a4321d4488cd8a6c3be8b8cfcb7baad819de6,13,5,2,1,475,Rick Harris,rconradharris,"Log snapshot UUID and not OpaqueRef.

The OpaqueRef doesn't help troubleshooting since it can't be easily used
to identify an image after the session finishes. UUID, which is
invariant, is much more useful.

Change-Id: I3b802e41e583bee84ee6f5d05e1ffc581761571d
"
openstack%2Fnova~master~Ic64ce46115617d05e41b6d01c8d403b58f8cacf9,openstack/nova,master,xenapi-unused-arguments,Ic64ce46115617d05e41b6d01c8d403b58f8cacf9,Remove unused user_id and project_id arguments,MERGED,2012-07-23 19:24:04.000000000,2012-07-23 20:55:54.000000000,2012-07-23 20:55:53.000000000,5,6,0,10159,7d0758b2f355d5b086b2ea1e9d6b7b7838b3a157,7,4,1,2,100,Johannes Erdfelt,johannes.erdfelt,"Remove unused user_id and project_id arguments

The code using the arguments was removed a long time ago.

Change-Id: Ic64ce46115617d05e41b6d01c8d403b58f8cacf9
"
openstack%2Fcinder~master~I963bc7890ba285ae515ea61bbd960bd2523f9061,openstack/cinder,master,bug/1027814,I963bc7890ba285ae515ea61bbd960bd2523f9061,Port nova-rootwrap changes to cinder-rootwrap,MERGED,2012-07-23 14:24:43.000000000,2012-07-23 20:19:09.000000000,2012-07-23 20:19:09.000000000,112,99,0,10131,d2d3c9cba4a647724f75c036a1985a10c966da35,7,4,1,8,308,Thierry Carrez,ttx,"Port nova-rootwrap changes to cinder-rootwrap

Port recent nova-rootwrap changes to cinder-rootwrap, including:
* Move filter definition from Python module to configuration files
* Fix tests execution on Fedora (bug 1027814)
* Remove executable bit on cinder/rootwrap files

This certainly needs a matching change to devstack to pass gating.

Change-Id: I963bc7890ba285ae515ea61bbd960bd2523f9061
"
openstack%2Fopenstack-manuals~stable%2Fessex~If3911b8920bddba16b72a75ba2d5a0c5b360d0ed,openstack/openstack-manuals,stable/essex,bug/1024321,If3911b8920bddba16b72a75ba2d5a0c5b360d0ed,Expand network troubleshooting section,MERGED,2012-07-22 12:58:00.000000000,2012-07-23 20:15:50.000000000,2012-07-23 20:15:50.000000000,88,59,0,10101,291dcd088e1830ec9b152ee68f258f64ca327772,4,3,1,1,321,Lorin Hochstein,lorinh,"Expand network troubleshooting section

Move troubleshooting from a subsubsection of Networking
(under floating IPs) to a subsection.

Add content about disabling reverse path filtering.

Add content about temporarily disabling firewall.

Patch set makes the xml:id=""network-troubleshooting"" and attempts to
address ambiguity pointed out in bug 1024321.

Cherry pick from https://review.openstack.org/9494

Change-Id: If3911b8920bddba16b72a75ba2d5a0c5b360d0ed
"
openstack%2Fnova~master~Iaa49ea08b406a38840e8a0b5466d48f2d3f7e840,openstack/nova,master,bp/no-db-messaging,Iaa49ea08b406a38840e8a0b5466d48f2d3f7e840,Update jsonutils from openstack-common.,MERGED,2012-07-23 16:27:04.000000000,2012-07-23 19:02:43.000000000,2012-07-23 19:02:42.000000000,4,2,0,10140,a7f307bbc2607b7aaa830574010289767f43de4a,10,4,1,1,1561,Russell Bryant,russellb,"Update jsonutils from openstack-common.

commit 9e1bd9d9313a9f324c5b7b02232e8bd2fd12ea8a
Author: Russell Bryant <rbryant@redhat.com>
Date:   Wed Jul 18 16:47:34 2012 -0400

    Add missing convert_instances arg.

    When calling jsonutils.to_primitive() recursively, the convert_instances
    argument should be passed along.  This change fixes one place where it
    was not.

commit 2d6f84742a3e8ea51ebbfb82cbeacefe97e199d5
Author: Russell Bryant <rbryant@redhat.com>
Date:   Wed Jul 18 16:15:52 2012 -0400

    Track to_primitive() depth after iteritems().

    Change jsonutils.to_primitive() to increase the recursion depth counter
    when calling to_primitive() on the result of iteritems() from the
    current element.  Previously, the only time the counter was increased
    was when converting the __dict__ from an object.  The iteritems() case
    risks cycles, as well.

    I hit a problem with this when trying to call to_primitive on an
    instance of nova.db.sqlalchemy.models.Instance.  An Instance includes a
    reference to InstanceInfoCache, which has a reference back to the
    Instance.  Without this change, to_primitive() would raise an exception
    for an Instance due to excessive recursion.

    Related to nova blueprint no-db-messaging.

Change-Id: Iaa49ea08b406a38840e8a0b5466d48f2d3f7e840
"
openstack%2Fnova~master~I51cbb56acbb244ddddd951a26d3168cf5a9c0314,openstack/nova,master,bug/1027105,I51cbb56acbb244ddddd951a26d3168cf5a9c0314,Adding networking rules to vm's on compute service startup,MERGED,2012-07-23 10:38:01.000000000,2012-07-23 18:42:31.000000000,2012-07-23 18:42:30.000000000,8,1,0,10123,c2e957ceb555b88084033d9a1c15a4f338b1476e,8,5,1,1,1926,Derek Higgins,derekh,"Adding networking rules to vm's on compute service startup

Fixes bug 1027105

Restarting nova-compute resulted in a new empty iptables chain
""nova-compute-FORWARD"" being create. This commit adds a single
call to plug_vifs which ensures the appropriate filters (and
bridge) are present on service startup.

Change-Id: I51cbb56acbb244ddddd951a26d3168cf5a9c0314
"
openstack%2Fnova~master~I2101ddaa78ede90f39b55d28aab73e7f5a816af5,openstack/nova,master,bug/1027984,I2101ddaa78ede90f39b55d28aab73e7f5a816af5,use boto's HTTPResponse class for versions of boto >=2.5.2,MERGED,2012-07-23 14:51:55.000000000,2012-07-23 18:33:11.000000000,2012-07-23 18:33:11.000000000,7,3,0,10132,3dd86f5e571aead0b3e9a432b59c21fe8bc32794,14,7,4,1,2340,Ionut Artarisi,mapleoin,"use boto's HTTPResponse class for versions of boto >=2.5.2

Fixes bug: 1027984

Change-Id: I2101ddaa78ede90f39b55d28aab73e7f5a816af5
"
openstack%2Fswift~master~I2a9ffe4756e77b3010ccd82b33c208d6d9b9f7b7,openstack/swift,master,master,I2a9ffe4756e77b3010ccd82b33c208d6d9b9f7b7,Fix problem with logger and libc loader,MERGED,2012-07-19 19:22:10.000000000,2012-07-23 18:24:16.000000000,2012-07-23 18:24:16.000000000,8,4,1,10029,43437558fe20fa677b218137757e00ba5eeb9091,11,4,3,1,2401,Victor Rodionov,vito-ordaz,"Fix problem with logger and libc loader

If fallocate can't be loaded from libc, bit posix_fallocate loaded
user will Swift will log warning messages. So it will be better
to write log only if both version of fallocate can't be loaded.

Change-Id: I2a9ffe4756e77b3010ccd82b33c208d6d9b9f7b7
"
openstack%2Fopenstack-manuals~master~Ia1b26a739341c2604d63a0c080e48af6fb6aff97,openstack/openstack-manuals,master,reverse-htaccess-change,Ia1b26a739341c2604d63a0c080e48af6fb6aff97,Adds the old .htaccess file back to the site as the new one completely broke the site.,MERGED,2012-07-23 17:38:24.000000000,2012-07-23 17:53:06.000000000,2012-07-23 17:53:06.000000000,1,44,0,10154,d8a4df556a34dc94c595c62ef75160017369050a,3,2,1,1,964,Anne Gentle,annegentle,"Adds the old .htaccess file back to the site as the new one
completely broke the site.

Puts the .htaccess under version control too.

Change-Id: Ia1b26a739341c2604d63a0c080e48af6fb6aff97
"
openstack%2Fheat~master~I5e156dc58eee563ae9de068664bafa1af1fb5ffe,openstack/heat,master,gh163-rds-dbinstance,I5e156dc58eee563ae9de068664bafa1af1fb5ffe,Add AWS::RDS::DBInstance,MERGED,2012-07-23 17:47:49.000000000,2012-07-23 17:47:49.000000000,2012-07-23 17:47:49.000000000,372,0,0,10142,9c75b6d3b0160d43be62f75d8f56e218d5809831,5,2,1,3,4330,Tomas Sedovic,tomas-8c8,"Add AWS::RDS::DBInstance

Fixes #163

This is an initial implementation of the DBInstance resource type and a
sample Wordpress template showing it off.

Change-Id: I5e156dc58eee563ae9de068664bafa1af1fb5ffe
Signed-off-by: Tomas Sedovic <tomas@sedovic.cz>
"
openstack%2Fopenstack-manuals~master~I2ecd7a6baf69e482a933f86439baedd70187fd55,openstack/openstack-manuals,master,bug/1022712,I2ecd7a6baf69e482a933f86439baedd70187fd55,Fix bug 1022712 by updating htaccess file with redirects,MERGED,2012-07-23 17:22:12.000000000,2012-07-23 17:36:42.000000000,2012-07-23 17:24:41.000000000,65,0,0,10153,6c67d5b62a53aff037656f0a8377ebf1caa8bffe,4,2,1,1,964,Anne Gentle,annegentle,"Fix bug 1022712 by updating htaccess file with redirects

I also deleted the 100+ files that are not part of the current
Compute Admin guide using FTP on the server, those files are not
tracked with git.

Change-Id: I2ecd7a6baf69e482a933f86439baedd70187fd55
"
openstack%2Fnova~master~I2a1a2cb63f9864c15b33b30f1bf995a50a6ec067,openstack/nova,master,master,I2a1a2cb63f9864c15b33b30f1bf995a50a6ec067,Make it clear subnet_bits is unused in ipam case,MERGED,2012-07-23 13:27:34.000000000,2012-07-23 17:05:40.000000000,2012-07-23 17:05:39.000000000,1,2,0,10128,0743313b521e3a7f2528d774ecf117ce03ec60d5,7,4,1,1,1247,Mark McLoughlin,markmc,"Make it clear subnet_bits is unused in ipam case

In NetworkManager.create_networks(), the subnet_bits variable is unused
where 'ipam' is passed as a parameter - i.e. when the method is called
from QuantumNovaIPAMLib. This is because in the ipam case we never
carve up the IP range into multiple networks.

Move the variable around so that its usage scope is more obvious.

Change-Id: I2a1a2cb63f9864c15b33b30f1bf995a50a6ec067
"
openstack%2Fheat~master~I5f3a8933a9a09acb6b904ccc76ec20ad210a5974,openstack/heat,master,master,I5f3a8933a9a09acb6b904ccc76ec20ad210a5974,heat API : Add more unit tests,MERGED,2012-07-23 17:05:13.000000000,2012-07-23 17:05:13.000000000,2012-07-23 17:05:13.000000000,534,6,0,10141,64f9b72c8e41d736cf2b8be447a940333b37149a,5,2,1,1,4328,Steven Hardy,shardy,"heat API : Add more unit tests

Add more unit tests to improve API test coverage

Change-Id: I5f3a8933a9a09acb6b904ccc76ec20ad210a5974
Signed-off-by: Steven Hardy <shardy@redhat.com>
"
openstack%2Fnova~master~I9538a8a71cbbb9d19e9ebb76f93b180dbf619764,openstack/nova,master,bug/993774,I9538a8a71cbbb9d19e9ebb76f93b180dbf619764,Return 404 when attempting to remove a non-existent floating ip,MERGED,2012-07-23 16:20:32.000000000,2012-07-23 16:49:25.000000000,2012-07-23 16:49:24.000000000,17,3,0,10139,07105cb78e366d35dd8c8a046c951780c274e9a2,6,3,1,2,4393,Dan Smith,danms,"Return 404 when attempting to remove a non-existent floating ip

This fixes bug 993774 and returns 404 instead of 202 when trying to
delete a floating ip from an instance to which it is not allocated.

Change-Id: I9538a8a71cbbb9d19e9ebb76f93b180dbf619764
"
openstack%2Fnova~master~I8d7781b05ffd71a59ba69fb7c3df4616cba94cce,openstack/nova,master,non_inheritable_image_properties,I8d7781b05ffd71a59ba69fb7c3df4616cba94cce,Adds non_inheritable_image_properties flag.,MERGED,2012-07-20 22:41:14.000000000,2012-07-23 16:22:41.000000000,2012-07-23 16:22:40.000000000,8,0,0,10085,ae7adbb92babf2dfc928daa76474aaba8e325d9c,6,3,1,2,475,Rick Harris,rconradharris,"Adds non_inheritable_image_properties flag.

Some image-properties should not be inherited from the instance when
taking a snapshot because we want that functionality to only available
for the base-image, not subsequent snapshots.

As an example, we would like 'cache_in_nova' fast-cloning to be
available just for base-images and not customer snapshots created off a
base-image.

This patch adds a new configuration which allows operators to, at
runtime, select which image-properties should not be inherited by newly
created snapshots.

Change-Id: I8d7781b05ffd71a59ba69fb7c3df4616cba94cce
"
openstack%2Fnova~master~Ide117c807db0dc0f5cbe974788b604b5e236800a,openstack/nova,master,bug/904473,Ide117c807db0dc0f5cbe974788b604b5e236800a,Avoid unrecognized content-type message,MERGED,2012-07-23 08:43:54.000000000,2012-07-23 15:31:58.000000000,2012-07-23 15:31:57.000000000,7,2,0,10119,9ac962cc82ef55cf211c0dfa5d18bc5bde27563b,8,5,1,1,1247,Mark McLoughlin,markmc,"Avoid unrecognized content-type message

Fixes bug #904473

If the client does not include a Content-type header in its request
(which is normal for e.g. GET and DELETE) then eventlet will pass us
'text/plain'.

Because 'text/plain' isn't one of our supported request content types
we log:

  Unrecognized Content-Type provided in request

This can be an annoying red-herring for people debugging issues.

The reason that eventlet defaults to text/plain is because it uses
the mimetools.Message.gettype() method:

  Message.gettype()
    Return the message type [..] as specified in the Content-Type
    header. If no such header exists, return 'text/plain'.

The wsgiref web server has the same behavior, whereas mod_wsgi will
pass no content-type and twisted will pass an empty string.

Make our code more robust by treating the empty string or text/plain
as if no content-type header was supplied.

Change-Id: Ide117c807db0dc0f5cbe974788b604b5e236800a
"
openstack%2Fnova~master~Idf29df5c460f8ebefd2e462a53d72280d5af4c5e,openstack/nova,master,libvirt-disk-config-cleanup,Idf29df5c460f8ebefd2e462a53d72280d5af4c5e,Don't set device='cdrom' for all disks in libvirt driver,MERGED,2012-07-20 12:02:24.000000000,2012-07-23 15:05:17.000000000,2012-07-20 20:42:33.000000000,44,13,0,10050,7b5a46b29fe994e9dc973bd7e5b60dee9f803f91,12,6,2,2,1779,Daniel Berrange,berrange,"Don't set device='cdrom' for all disks in libvirt driver

When the root disk image was tagged as being an ISO image,
the libvirt driver would mistakenly set device='cdrom' for
all disks, instead of just the first image

Change-Id: Idf29df5c460f8ebefd2e462a53d72280d5af4c5e
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~I36c66913abcb231f23e409f1f71c00ef0f6e69e5,openstack/nova,master,bug/1022592,I36c66913abcb231f23e409f1f71c00ef0f6e69e5,Migrations for deleted data for previously deleted instances.,MERGED,2012-07-09 14:51:54.000000000,2012-07-23 15:04:40.000000000,2012-07-23 15:04:40.000000000,67,0,1,9515,75209cd605a430131e023c40d0f63a87b03af062,18,5,3,1,177,Alex Meade,alex-meade,"Migrations for deleted data for previously deleted instances.

These migrations undelete metadata, system metadata, and block device mappings
that were deleted when instances were deleted before the change:
0598db0a6c66eb2b6d2e0e3f0b3b2b921ebe8621

Before that change; metadata, system metadata, and block device mappings were
deleted when and instance was deleted, this is no longer the behavior.
These migrations undelete all of the data that was deleted within two
seconds of the instance being deleted in order for old deleted instances
to be consistent with the new behavior.

Fixes bug 1022592

Change-Id: I36c66913abcb231f23e409f1f71c00ef0f6e69e5
"
openstack%2Foslo-incubator~master~I536e1ca05bb4e613fba71298797879587e8b4b00,openstack/oslo-incubator,master,to-primitive-depth,I536e1ca05bb4e613fba71298797879587e8b4b00,Add missing convert_instances arg.,MERGED,2012-07-23 15:01:12.000000000,2012-07-23 15:01:12.000000000,2012-07-23 15:01:12.000000000,3,1,0,9983,9e1bd9d9313a9f324c5b7b02232e8bd2fd12ea8a,6,3,1,1,1561,Russell Bryant,russellb,"Add missing convert_instances arg.

When calling jsonutils.to_primitive() recursively, the convert_instances
argument should be passed along.  This change fixes one place where it
was not.

Change-Id: I536e1ca05bb4e613fba71298797879587e8b4b00
"
openstack%2Foslo-incubator~master~Ie1d71b859219392ab35b82dd3c7932b30e759c89,openstack/oslo-incubator,master,to-primitive-depth,Ie1d71b859219392ab35b82dd3c7932b30e759c89,Update iteritems test case to actually test iteritems.,MERGED,2012-07-23 15:01:12.000000000,2012-07-23 15:01:12.000000000,2012-07-23 15:01:12.000000000,4,11,0,9981,1c1b36985be5a4c49b9cfc808edcdfd288c6d0cc,6,3,1,1,1561,Russell Bryant,russellb,"Update iteritems test case to actually test iteritems.

This patch updates the jsonutils.to_primitive() test case for when an
object has an iteritems() method.  The previous implementation was
mostly a copy of another test and didn't actually test calling
iteritems() at all.  Now it does.

This is used by NovaBase in nova.db.sqlalchemy.models.

Related to nova blueprint no-db-messaging.

Change-Id: Ie1d71b859219392ab35b82dd3c7932b30e759c89
"
openstack%2Foslo-incubator~master~Ifb878368d97e92ab6c361a4dd5f5ab2e68fc16e2,openstack/oslo-incubator,master,to-primitive-depth,Ifb878368d97e92ab6c361a4dd5f5ab2e68fc16e2,Track to_primitive() depth after iteritems().,MERGED,2012-07-23 15:01:11.000000000,2012-07-23 15:01:11.000000000,2012-07-23 15:01:11.000000000,19,1,0,9982,2d6f84742a3e8ea51ebbfb82cbeacefe97e199d5,6,3,1,2,1561,Russell Bryant,russellb,"Track to_primitive() depth after iteritems().

Change jsonutils.to_primitive() to increase the recursion depth counter
when calling to_primitive() on the result of iteritems() from the
current element.  Previously, the only time the counter was increased
was when converting the __dict__ from an object.  The iteritems() case
risks cycles, as well.

I hit a problem with this when trying to call to_primitive on an
instance of nova.db.sqlalchemy.models.Instance.  An Instance includes a
reference to InstanceInfoCache, which has a reference back to the
Instance.  Without this change, to_primitive() would raise an exception
for an Instance due to excessive recursion.

Related to nova blueprint no-db-messaging.

Change-Id: Ifb878368d97e92ab6c361a4dd5f5ab2e68fc16e2
"
openstack%2Foslo-incubator~master~I1224799bb399ceaf79088dd622be4b6823f29a41,openstack/oslo-incubator,master,master,I1224799bb399ceaf79088dd622be4b6823f29a41,Make test_zmq bind/send to 127.0.0.1,MERGED,2012-07-23 14:57:56.000000000,2012-07-23 14:57:56.000000000,2012-07-23 14:57:56.000000000,3,0,0,9805,d9282aa3021d07d7c96351448da69f60b5e2ff51,10,4,2,1,159,Eric Windisch,ewindisch,"Make test_zmq bind/send to 127.0.0.1

By default, the impl_zmq driver binds to '*' (0.0.0.0);
For the purposes of testing, we only need to bind to 127.0.0.1.
Binding to all interfaces could be potentially dangerous, may simply not
work in some environments, etc. In particular, we do not want our
Jenkins slaves to be listening on public interfaces.

rpc_zmq_host is set to 127.0.0.1 as well, which avoids hostname
resolution. Normally, rpc_zmq_host is set to socket.hostname, which
normally should resolve to localhost, but we do not want to test that here.

Change-Id: I1224799bb399ceaf79088dd622be4b6823f29a41
"
openstack%2Foslo-incubator~master~Ibdd4fab6dd019d223c3256d70f123829939056d2,openstack/oslo-incubator,master,fanout_cast,Ibdd4fab6dd019d223c3256d70f123829939056d2,Enable fanout_cast and fanout_cast_to_server to provide topic,MERGED,2012-07-23 14:56:29.000000000,2012-07-23 14:56:29.000000000,2012-07-23 14:56:29.000000000,8,4,0,10125,0b7bc50d1a428829aea98551b5e87102740e0438,6,3,1,1,1653,garyk,garyk,"Enable fanout_cast and fanout_cast_to_server to provide topic

The code would make use of the self.topic instead of allowing
the user to define the topic.

Change-Id: Ibdd4fab6dd019d223c3256d70f123829939056d2
"
openstack%2Fpython-glanceclient~master~If19a7aab92350fb68e447a0ffe8a97e079d762e4,openstack/python-glanceclient,master,better-insecure-flag-help,If19a7aab92350fb68e447a0ffe8a97e079d762e4,Clarify usage of --insecure flag,MERGED,2012-07-20 08:18:55.000000000,2012-07-23 14:55:48.000000000,2012-07-23 14:55:48.000000000,4,1,0,10043,71a0caece87727e07bc34ae265dda58ca3e1e6d2,8,2,1,1,4375,Sascha Peilicke,saschpe,"Clarify usage of --insecure flag

Change-Id: If19a7aab92350fb68e447a0ffe8a97e079d762e4
"
openstack%2Fopenstack-manuals~master~Iba56085703a98154b3035122f8ab3b36b5cbe41d,openstack/openstack-manuals,master,bridge-troubleshooting,Iba56085703a98154b3035122f8ab3b36b5cbe41d,Troubleshooting packet drops across bridge with VLAN,MERGED,2012-07-22 21:36:05.000000000,2012-07-23 14:55:47.000000000,2012-07-23 13:39:46.000000000,39,0,0,10106,b42d73f2dec854e4414785af367bf1a103ff1301,4,2,1,1,321,Lorin Hochstein,lorinh,"Troubleshooting packet drops across bridge with VLAN

Added a section in troubleshooting networking related to packets
being dropped in VLAN mode.

Docs are based on this blog post:
http://buriedlede.blogspot.com/2012/07/debugging-networking-problems-with.html

Change-Id: Iba56085703a98154b3035122f8ab3b36b5cbe41d
"
openstack%2Fnova~master~Ic15a0a0f43f53b82f9d88a03803c96b44a8ddcb9,openstack/nova,master,bug/930193,Ic15a0a0f43f53b82f9d88a03803c96b44a8ddcb9,fixes for nova-manage not returning a full list of fixed IPs,MERGED,2012-07-20 02:47:32.000000000,2012-07-23 14:55:45.000000000,2012-07-23 14:55:44.000000000,1,1,1,10038,854be4815127fd703cd91f40fa7511c170351bbc,25,12,3,1,2860,litong01,litong01,"fixes for nova-manage not returning a full list of fixed IPs

This fix correct the problem reported in bug 930193
nova-manage does not return a full list of fixed IPs. The reason
is that the call to fixed_ip['instance_id'] can throw exception
when fixed_ip does not have instance_id as its member. The changes
in this fix corrects the problem.
rebase to resolve the automatic merge issue.

Change-Id: Ic15a0a0f43f53b82f9d88a03803c96b44a8ddcb9
"
openstack%2Fnova~master~Ifde193e084ecdbc37a57150f28d833ae276f49c6,openstack/nova,master,,Ifde193e084ecdbc37a57150f28d833ae276f49c6,Fix EC2 CreateImage no_reboot logic,MERGED,2012-07-17 17:24:54.000000000,2012-07-23 14:46:59.000000000,2012-07-23 14:46:58.000000000,26,3,0,9925,9250a5d8c18311005329ec622482d1c2a29de307,11,7,3,2,2284,Eoghan Glynn,eglynn,"Fix EC2 CreateImage no_reboot logic

Previously the call to restart the imaged instance was incorrect.

This is now fixed and unit tested.

Change-Id: Ifde193e084ecdbc37a57150f28d833ae276f49c6
"
openstack%2Fnova~master~I266a021ce53dbb1f521201f1cdc614b08c31bf8d,openstack/nova,master,,I266a021ce53dbb1f521201f1cdc614b08c31bf8d,Reject EC2 CreateImage for instance-store,MERGED,2012-07-17 14:29:34.000000000,2012-07-23 14:43:01.000000000,2012-07-23 14:43:00.000000000,90,28,0,9915,8bf5d0927660ccf9e01450e6298c946721acfefa,14,8,3,3,2284,Eoghan Glynn,eglynn,"Reject EC2 CreateImage for instance-store

For fidelity with AWS, we explicitly do not support the EC2 CreateImage
API for the analogue of instance-store-backed instances.

Change-Id: I266a021ce53dbb1f521201f1cdc614b08c31bf8d
"
openstack%2Fopenstack-manuals~stable%2Fessex~I7482925cd008009eb4f433c3c93ffda20cbbfc89,openstack/openstack-manuals,stable/essex,essex-volume-chapter,I7482925cd008009eb4f433c3c93ffda20cbbfc89,Promote volumes content from section to chapter.,MERGED,2012-07-22 12:52:51.000000000,2012-07-23 14:10:28.000000000,2012-07-23 14:10:27.000000000,1231,1223,0,10100,759e5fb7155f5f415422715e68d1799f41b4167c,4,3,1,3,321,Lorin Hochstein,lorinh,"Promote volumes content from section to chapter.

This change takes the content about volumes out of the System Admin
chapter and puts it in a new chapter called volumes.

This is a pure refactoring, no content has been modified.

Cherry-picked from https://review.openstack.org/9482

Change-Id: I7482925cd008009eb4f433c3c93ffda20cbbfc89
"
openstack%2Fnova~master~Id20c60ae6a3111c91758da256f4c876decf6718a,openstack/nova,master,master,Id20c60ae6a3111c91758da256f4c876decf6718a,Localize logging messages.,ABANDONED,2012-07-20 16:51:11.000000000,2012-07-23 14:01:29.000000000,,54,50,10,10067,cad590e1c1660fc4d552eef27e80fef9088e44ac,14,7,3,25,24,Chuck Short,zulcss,"Localize logging messages.

Localize logging strings that have not been localized before.

Change-Id: Id20c60ae6a3111c91758da256f4c876decf6718a
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fopenstack-manuals~master~I46516fb4c9f4bc665af08b6570b5085107c61b9c,openstack/openstack-manuals,master,dnsmasq,I46516fb4c9f4bc665af08b6570b5085107c61b9c,Document dnsmasq,MERGED,2012-07-23 02:20:21.000000000,2012-07-23 13:38:14.000000000,2012-07-23 13:38:14.000000000,42,19,1,10110,c0f661a80e3cb16ec772b44a0e478aa5a6edb320,8,4,3,1,321,Lorin Hochstein,lorinh,"Document dnsmasq

Add a separate section in the networking chapter for dnsmasq.

Change-Id: I46516fb4c9f4bc665af08b6570b5085107c61b9c
"
openstack%2Fnova~stable%2Fessex~I5c5b1295bdb3e4dc281698eba38c5ce697aa9bc2,openstack/nova,stable/essex,bug/977007,I5c5b1295bdb3e4dc281698eba38c5ce697aa9bc2,libvirt: fix qcow2 size on live block migration,MERGED,2012-07-20 20:11:03.000000000,2012-07-23 13:05:47.000000000,2012-07-23 13:05:46.000000000,1,1,0,10079,f6d1f552875a918084907c53085d140d58fb1c37,14,7,3,1,1119,Christoph Thiel,cthiel-suse,"libvirt: fix qcow2 size on live block migration

When using live block migration, ephemeral disks with qcow2 format
should be created in the destination with the same virtual size as
before.

bug 977007

Change-Id: I5c5b1295bdb3e4dc281698eba38c5ce697aa9bc2
(cherry picked from commit ee705d048418d63667136cad3951655178861d46)
"
openstack%2Fcinder~master~I3d7d865b4d48968f2b9260786fd10344485c174f,openstack/cinder,master,bug/1027814,I3d7d865b4d48968f2b9260786fd10344485c174f,Fixes test_nova_rootwrap failure in Fedora,ABANDONED,2012-07-23 09:49:14.000000000,2012-07-23 10:24:00.000000000,,12,6,0,10120,25db4dd6983456db98344cd902e2e0e49a83c93f,4,3,2,1,1994,Zhongyue Luo,zyluo,"Fixes test_nova_rootwrap failure in Fedora

Fixes bug #1027814

Cherry picked from Nova Change-Id 93d3c77caff67e2c406a9b17c31de88e90700e13.

Change-Id: I3d7d865b4d48968f2b9260786fd10344485c174f
"
openstack%2Fheat~master~Idbb16b2fa93abcad2793d5b4365c18a01e588b99,openstack/heat,master,master,Idbb16b2fa93abcad2793d5b4365c18a01e588b99,autoscaling: don't kill all instances when scaling down,MERGED,2012-07-23 10:20:26.000000000,2012-07-23 10:20:26.000000000,2012-07-23 10:20:26.000000000,4,1,0,10121,312a84ec70ffc3cbbc9b1cbb2f8c62e4d21e97c8,10,2,2,1,4715,Angus Salkeld,asalkeld,"autoscaling: don't kill all instances when scaling down

only delete the difference between the old capacity and the new capacity

doh!

Change-Id: Idbb16b2fa93abcad2793d5b4365c18a01e588b99
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fnova~stable%2Fessex~Ib362c913b809f7601a9a4faedede89b22794dfb7,openstack/nova,stable/essex,bug/1013147,Ib362c913b809f7601a9a4faedede89b22794dfb7,Addtional CommandFilters to fix rootwrap on SLES,MERGED,2012-06-20 15:52:31.000000000,2012-07-23 10:07:30.000000000,2012-07-23 10:07:29.000000000,13,0,0,8749,cf6a85a6d4ac982875c1cfab44acdea1e1962930,30,6,4,3,2062,Ralf Haferkamp,rhafer,"Addtional CommandFilters to fix rootwrap on SLES

Fixes bug 1013147 (for SLES)

(cherry picked from commit a519752eef157aaa03c9f6169eba1ff1b5a9f1bd)

Change-Id: Ib362c913b809f7601a9a4faedede89b22794dfb7
"
openstack%2Fopenstack-planet~master~I5f991fd9acca9592b3177cc9128e29ed38ad2cab,openstack/openstack-planet,master,update_picture,I5f991fd9acca9592b3177cc9128e29ed38ad2cab,updated picture for John Dickinson,MERGED,2012-07-20 19:45:12.000000000,2012-07-23 07:37:43.000000000,2012-07-23 07:37:43.000000000,0,0,0,10076,b4871297ac89c35a52c17cd951736c0a1bc875e5,3,2,1,1,330,John Dickinson,notmyname,"updated picture for John Dickinson

Change-Id: I5f991fd9acca9592b3177cc9128e29ed38ad2cab
"
openstack%2Fneutron~master~Ic6e224d5d841b6a1d4d1c762d7306adaf91f7a2d,openstack/neutron,master,bug/1023111,Ic6e224d5d841b6a1d4d1c762d7306adaf91f7a2d,Implements data-driven views and extended attributes.,MERGED,2012-07-23 05:47:22.000000000,2012-07-23 05:47:22.000000000,2012-07-23 05:47:22.000000000,259,85,17,9849,a01ca27a88bfc7bdc6913580700315a7789e5a70,42,8,5,7,1689,Robert Kukura,rkukura,"Implements data-driven views and extended attributes.

The quantum/api/v2/views.py module is replaced by is_visible
properties in the RESOURCE_ATTRIBUTE_MAP defined in
quantum/api/v2/attributes.py. Extensions are given the ability to add
extended attribute descriptions to this map during initialization,
allowing extended attributes to be implemented similarly to core
attributes in plugins.

Resolves bug 1023111.

Change-Id: Ic6e224d5d841b6a1d4d1c762d7306adaf91f7a2d
"
openstack%2Fheat~master~I3d621fadacc6e77002d100cf725d970671475106,openstack/heat,master,master,I3d621fadacc6e77002d100cf725d970671475106,make the autoscaling template easier to debug,MERGED,2012-07-23 05:09:02.000000000,2012-07-23 05:09:02.000000000,2012-07-23 05:09:02.000000000,6,6,0,10115,deebc5c42aa900ee1543c6d6d791fea3e274cd4e,5,2,1,1,4715,Angus Salkeld,asalkeld,"make the autoscaling template easier to debug

shorten the period and lower the thresholds

Change-Id: I3d621fadacc6e77002d100cf725d970671475106
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fheat~master~Ide5dcb3da5d992683dd235f1b53b264455a9fd07,openstack/heat,master,master,Ide5dcb3da5d992683dd235f1b53b264455a9fd07,Return the name from the autoscaling group not the instance.,MERGED,2012-07-23 05:07:33.000000000,2012-07-23 05:07:33.000000000,2012-07-23 05:07:33.000000000,3,0,0,10114,c91b8d53f2597b3626c78037e9f3df52d9a19ca7,5,2,1,1,4715,Angus Salkeld,asalkeld,"Return the name from the autoscaling group not the instance.

the default is to return an instance_id if it is  not none.

Change-Id: Ide5dcb3da5d992683dd235f1b53b264455a9fd07
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fheat~master~Ic88e1e886c5f8ccbcbc5bc49fa612366c7faeae5,openstack/heat,master,master,Ic88e1e886c5f8ccbcbc5bc49fa612366c7faeae5,Add python-psutil and fix cfn-push-stats options,MERGED,2012-07-23 05:06:45.000000000,2012-07-23 05:06:45.000000000,2012-07-23 05:06:45.000000000,3,2,0,10113,b48d869244209c23b506696bc6f8192254fda4aa,5,2,1,1,4715,Angus Salkeld,asalkeld,"Add python-psutil and fix cfn-push-stats options

Change-Id: Ic88e1e886c5f8ccbcbc5bc49fa612366c7faeae5
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fcinder~master~I32911e91ff2225bdc9d5bcaefc2a3df23d3299fc,openstack/cinder,master,bug/1017266,I32911e91ff2225bdc9d5bcaefc2a3df23d3299fc,Fix to enable docs to build.,ABANDONED,2012-06-24 22:11:31.000000000,2012-07-23 02:28:42.000000000,,1,1,0,8911,04ba731d0802030f772cec1075a3ad715556e74b,17,3,2,1,321,Lorin Hochstein,lorinh,"Fix to enable docs to build.

Can now build docs by doing ""make"" from docs directory.

Fixes bug 1017266

Change-Id: I32911e91ff2225bdc9d5bcaefc2a3df23d3299fc
"
openstack%2Fopenstack-manuals~stable%2Fessex~I4a5e26900fe961dbf92a1a5c7a1b8db302845d94,openstack/openstack-manuals,stable/essex,essex-metadata_host-ip,I4a5e26900fe961dbf92a1a5c7a1b8db302845d94,metadata_host config option must be an IP address,MERGED,2012-07-23 00:55:32.000000000,2012-07-23 02:01:58.000000000,2012-07-23 02:01:58.000000000,5,2,0,10109,fab7b0874392569d06f32a8b073b890df4f80efc,3,2,1,2,321,Lorin Hochstein,lorinh,"metadata_host config option must be an IP address

Document more explicitly that the metadata_host configuration
option must be an IP address, not a hostname.

This issue came up on the OpenStack mailing list in the following
thread:

http://www.mail-archive.com/openstack@lists.launchpad.net/msg13269.html

Cherry picked from https://review.openstack.org/10102

Change-Id: I4a5e26900fe961dbf92a1a5c7a1b8db302845d94
"
openstack%2Fopenstack-manuals~master~I26eeb6964a55d4b9b1484e2504549344c32fe367,openstack/openstack-manuals,master,scheduler-retries,I26eeb6964a55d4b9b1484e2504549344c32fe367,Scheduler retry config option and filter.,MERGED,2012-07-22 15:56:49.000000000,2012-07-23 01:55:27.000000000,2012-07-23 01:55:26.000000000,26,9,0,10103,6f5d587b3ff8dcf3ea156f8b7ace9a84f6cffd5b,3,2,1,2,321,Lorin Hochstein,lorinh,"Scheduler retry config option and filter.

New flag: scheduler_max_attempts

New scheduler filter: RetryFilter

Changes introduced by https://review.openstack.org/9540

Also removed some trailing whitespace on some lines.

Change-Id: I26eeb6964a55d4b9b1484e2504549344c32fe367
"
openstack%2Fopenstack-manuals~master~Ieea6c5ab13ce3514e508e4ad3799253d348b64d4,openstack/openstack-manuals,master,bug/1027309,Ieea6c5ab13ce3514e508e4ad3799253d348b64d4,Fix CoreFilter setting to avoid overallocation,MERGED,2012-07-21 07:56:04.000000000,2012-07-23 01:29:48.000000000,2012-07-23 01:28:37.000000000,14,0,0,10092,2372bf2a63fbf75c53b2686fb97735448896b4c2,5,2,1,1,612,Tom Fifield,fifieldt,"Fix CoreFilter setting to avoid overallocation

From Jon Proulx (jproulx), who is still awaiting approval:

""Only schedule instances on hosts if there are sufficient CPU
cores available. If this filter is not set, the scheduler may
overprovision a host based on cores""

but in reality cpu_allocation_ratio must also be set with this
 filter. According to http://docs.openstack.org/essex/openstack-
compute/admin/content/compute-options-reference.html
 cpu_allocation_ratio defaults to 16.0 meaning cpu will be
 overprovisioned by 16:1 to get the behaviour described
 cpu_allocation_ratio must be set to 1.0

fixes bug 1027309

Change-Id: Ieea6c5ab13ce3514e508e4ad3799253d348b64d4
"
openstack%2Fopenstack-manuals~master~I4a5e26900fe961dbf92a1a5c7a1b8db302845d94,openstack/openstack-manuals,master,metadata_host-ip,I4a5e26900fe961dbf92a1a5c7a1b8db302845d94,metadata_host config option must be an IP address,MERGED,2012-07-22 15:07:13.000000000,2012-07-23 00:24:49.000000000,2012-07-23 00:24:48.000000000,5,2,0,10102,40dd21e51b58ac0c36d036687092416e7572557b,3,2,1,2,321,Lorin Hochstein,lorinh,"metadata_host config option must be an IP address

Document more explicitly that the metadata_host configuration
option must be an IP address, not a hostname.

This issue came up on the OpenStack mailing list in the following
thread:

http://www.mail-archive.com/openstack@lists.launchpad.net/msg13269.html

Change-Id: I4a5e26900fe961dbf92a1a5c7a1b8db302845d94
"
openstack%2Fopenstack-manuals~master~Ie53aa7a3f636965556b382fcf671d91294c52a8c,openstack/openstack-manuals,master,bug/1025910,Ie53aa7a3f636965556b382fcf671d91294c52a8c,"Fix bug 1025910, bug 1026321",MERGED,2012-07-18 21:27:13.000000000,2012-07-22 22:56:04.000000000,2012-07-18 23:34:56.000000000,41,19,0,9990,14d7ec213d555d50c5063b29cdbc652c2cffa690,4,2,1,2,964,Anne Gentle,annegentle,"Fix bug 1025910, bug 1026321

Brings a link to the RHEL Install and Deploy Guide and fixes
an incorrect reference to Image service (Keystone).

Change-Id: Ie53aa7a3f636965556b382fcf671d91294c52a8c
"
openstack%2Fopenstack-manuals~master~I7482925cd008009eb4f433c3c93ffda20cbbfc89,openstack/openstack-manuals,master,volume-chapter,I7482925cd008009eb4f433c3c93ffda20cbbfc89,Promote volumes content from section to chapter.,MERGED,2012-07-08 01:47:41.000000000,2012-07-22 22:35:22.000000000,2012-07-17 03:06:49.000000000,1229,1222,0,9482,9885937a896db1d5da9c217a53ad718fece56e0c,8,4,2,3,321,Lorin Hochstein,lorinh,"Promote volumes content from section to chapter.

This change takes the content about volumes out of the System Admin
chapter and puts it in a new chapter called volumes.

This is a pure refactoring, no content has been modified.

Change-Id: I7482925cd008009eb4f433c3c93ffda20cbbfc89
"
openstack%2Fheat~master~I70989ff6be655832497e1e8a3019497438a739fb,openstack/heat,master,master,I70989ff6be655832497e1e8a3019497438a739fb,Add an EC2Token_filter_factory and use it as the default paste filter,MERGED,2012-07-22 22:12:11.000000000,2012-07-22 22:12:11.000000000,2012-07-22 22:12:11.000000000,149,102,0,10069,b34a5cd51d66b2a8ae4fb03d8108d0e0f6e3faa2,5,2,1,3,2834,Steven Dake,sdake,"Add an EC2Token_filter_factory and use it as the default paste filter

Change-Id: I70989ff6be655832497e1e8a3019497438a739fb
Signed-off-by: Steven Dake <sdake@redhat.com>
"
openstack%2Fnova~master~I1127caeed4418c75372a42ca7fafacb4f061ffe3,openstack/nova,master,bp/scheduler-resource-race,I1127caeed4418c75372a42ca7fafacb4f061ffe3,Adds generic retries for build failures.,MERGED,2012-07-09 19:33:01.000000000,2012-07-22 15:58:02.000000000,2012-07-20 15:14:24.000000000,409,20,28,9540,83fece1aa7e124a2adae05d95c8c6cecc12d5d41,54,9,8,8,2835,Brian Elliott,belliott,"Adds generic retries for build failures.

Add a generic scheduler retry for build failures.  Failed
build requests get casted back to scheduler for retry until
success or the maximum number of attempts is reached. The
number of attempts to make is configurable or can be
simply set to 1 to disable retries altogether.

Partially implements blueprint: scheduler-resource-race

DocImpact:

Adds a new capability to filter scheduler to enable retries of
scheduling requests.

1) New flag: scheduler_max_attempts (int) - Number of attempts to make
to schedule an instance before giving up and settting the instance to
error.
2) New RetryFilter.  Avoids re-scheduling to the same host multiple
times. (nova.scheduler.filters.RetryFilter)

Change-Id: I1127caeed4418c75372a42ca7fafacb4f061ffe3
"
openstack%2Fopenstack-manuals~master~I7bd348349ef49d581cbaf284497d13816535a11d,openstack/openstack-manuals,master,bug/1025847,I7bd348349ef49d581cbaf284497d13816535a11d,"Adds text to explain intro arch diagram, updates dashboard install.",MERGED,2012-07-17 21:04:53.000000000,2012-07-22 15:12:34.000000000,2012-07-17 23:48:07.000000000,32,14,0,9934,f7cb2ff86d8d539042e897e4badbead3c7d6ac9e,4,2,1,5,964,Anne Gentle,annegentle,"Adds text to explain intro arch diagram, updates dashboard install.

Fixes two doc bugs: bug 1025847, bug 1025840

Change-Id: I7bd348349ef49d581cbaf284497d13816535a11d
"
openstack%2Fopenstack-manuals~master~I8b37f4eb268ca90a5b08238edec636a25973ec14,openstack/openstack-manuals,master,bug/1016663,I8b37f4eb268ca90a5b08238edec636a25973ec14,enable virtio NICs for windows image example,MERGED,2012-07-11 04:02:08.000000000,2012-07-22 13:01:27.000000000,2012-07-17 08:26:06.000000000,1,1,0,9622,0889826acb1a2ab79c7c2aae2c5982968ac1b48e,6,3,1,1,612,Tom Fifield,fifieldt,"enable virtio NICs for windows image example

In the image management section, an example of how to boot a windows
image is given. Previously, virtio (a faster network card than
 default) was on the commandline, but not used in the VM

This change - taken from the bug report, and assumed to be OK rather
than tested - enables the nic.

fixes bug 1016663

Change-Id: I8b37f4eb268ca90a5b08238edec636a25973ec14
"
openstack%2Fhorizon~master~I8f9dc6904ba4b19302551fae7455fdf41b50442e,openstack/horizon,master,bug/1012457,I8f9dc6904ba4b19302551fae7455fdf41b50442e,Allow security group rules to have their own group as a source,MERGED,2012-07-18 20:31:29.000000000,2012-07-22 12:06:15.000000000,2012-07-22 12:06:15.000000000,41,2,0,9979,ac39a8e5903398606053b57ce948cf9d5aa5463a,9,4,1,3,4978,Julie Pichon,jpichon,"Allow security group rules to have their own group as a source

Fixes bug 1012457.

Change-Id: I8f9dc6904ba4b19302551fae7455fdf41b50442e
"
openstack%2Fopenstack-manuals~master~Ia3463a89c3a577e8acc7d779cd8110b3c05c141d,openstack/openstack-manuals,master,bug/1027396,Ia3463a89c3a577e8acc7d779cd8110b3c05c141d,Fixes the syntax of nova options table,MERGED,2012-07-22 01:14:53.000000000,2012-07-22 11:44:20.000000000,2012-07-22 11:44:20.000000000,2,4,0,10096,4eada2b3f70df0e558ea59dc6412d894c3f2ce77,4,3,1,1,612,Tom Fifield,fifieldt,"Fixes the syntax of nova options table

This was causing the build to fail - the problem here is
 that some items in the table have 3 columns - but there is only
two columns setup in the top. Merging to have two columns
fixes the problem

fixes bug 1027396

Change-Id: Ia3463a89c3a577e8acc7d779cd8110b3c05c141d
"
openstack%2Fneutron~master~I568a95bc60f91c3eeae03b305031502d50de9c44,openstack/neutron,master,bug/1026598,I568a95bc60f91c3eeae03b305031502d50de9c44,Enhance V2 validations to work better for integers and booleans,MERGED,2012-07-22 00:13:51.000000000,2012-07-22 00:13:51.000000000,2012-07-22 00:13:51.000000000,59,14,14,10013,73ec08b7fc88cb30ab449ba9e05e0818a4b5b78e,38,7,7,3,1653,garyk,garyk,"Enhance V2 validations to work better for integers and booleans

Fixes bug 1026598

The attributes are now able to cast a input value to a specific type.
At the moment boolean and int are supported.

Change-Id: I568a95bc60f91c3eeae03b305031502d50de9c44
"
openstack%2Fnova~master~I592755033c7b2f8c0d1660776dd92ff2bf70de70,openstack/nova,master,bug/1022419,I592755033c7b2f8c0d1660776dd92ff2bf70de70,Support to allocate fixed ips according to requested networks.,ABANDONED,2012-07-09 03:42:59.000000000,2012-07-21 23:28:54.000000000,,67,21,5,9506,2735bc10426a124ba7f6b3c2bc6caae0d6050b78,9,5,1,2,2874,yong sheng gong,gongysh,"Support to allocate fixed ips according to requested networks.

Bug #1022419

Change-Id: I592755033c7b2f8c0d1660776dd92ff2bf70de70
"
openstack%2Fceilometer~master~Idd6c0da7f60e2c869d4a56ebc99080b0bb6aae7d,openstack/ceilometer,master,bug/1024563,Idd6c0da7f60e2c869d4a56ebc99080b0bb6aae7d,typo in collector manager.py for flags.FLAGS,ABANDONED,2012-07-21 06:03:02.000000000,2012-07-21 06:03:02.000000000,,1,1,0,9800,2b41a361b83140c1ebabcd3e15dff7502cbaecb6,4,2,1,1,1071,,,"typo in collector manager.py for flags.FLAGS

Fixes bug 1024563 problems starting collector

Change-Id: Idd6c0da7f60e2c869d4a56ebc99080b0bb6aae7d
"
openstack%2Ftempest~master~Iacfcdaf6fd01f122c41b9d2f14eba5e2b8156a1e,openstack/tempest,master,bug/1021738,Iacfcdaf6fd01f122c41b9d2f14eba5e2b8156a1e,Fix for Bug- 1012494: Test cases for Absolute Limits,ABANDONED,2012-07-06 15:24:49.000000000,2012-07-21 06:03:02.000000000,,686,0,0,9440,de0f62f061916251cead389c9a6046a7a6ededaa,3,1,1,5,2238,rajalakshmi-ganesan,rajalakshmi-ganesan,"Fix for Bug- 1012494: Test cases for Absolute Limits

Change-Id: Iacfcdaf6fd01f122c41b9d2f14eba5e2b8156a1e
"
openstack%2Fhorizon~master~I584efefd426dd172f12b951d8c1e553786f3ba47,openstack/horizon,master,bug/994677,I584efefd426dd172f12b951d8c1e553786f3ba47,Inline object creation.,ABANDONED,2012-07-21 04:38:56.000000000,2012-07-21 04:39:53.000000000,,937,789,0,10090,64730d583c5c9225272d585daf32b30953530ca8,1,0,1,119,1816,Gabriel Hurley,gabriel-hurley,"Inline object creation.

Allows the creation of related objects during a workflow.
For example, this patch implements importing keypairs during
the launch instance workflow and allocating floating IP
addresses during the floating IP associate workflow.

This required several significant changes:

  * SelfHandlingForm should no long return a redirect.
    Instead, it should return either the object it
    created/acted on, or else a boolean such as True.

  * The ModalFormView now differentiates between GET
    and POST.

  * Due to the previous two items, SelfHandlingForm
    was mostly gutted (no more maybe_handle, etc.).

  * Modals now operate via a ""stack"" where only the
    top modal is visible at any given time and closing
    one causes the next one to become visible.

In the process of these large changes there was a large
amount of general code cleanup, especially in the javascript
code and the existing SelfHandlingForm subclasses/ModalFormView
subclasses. Many small bugs were fixed along with the cleanup.

Implements blueprint inline-object-creation.

Fixes bug 994677.
Fixes bug 1025977.
Fixes bug 1027342.
Fixes bug 1025919.

Change-Id: I1808b34cbf6f813eaedf767a6364e815c0c5e969

Update instance fixed.

Change-Id: Iac5902a4817e3402553d6ea5c9047e2471893e90

more

Change-Id: I584efefd426dd172f12b951d8c1e553786f3ba47
"
openstack%2Fhorizon~master~I912116d56e4e31ae93042929775c8d03dc4fa59e,openstack/horizon,master,bug/1017765,I912116d56e4e31ae93042929775c8d03dc4fa59e,Partial sync of jsonutils from openstack-common,MERGED,2012-07-19 09:51:35.000000000,2012-07-20 22:49:50.000000000,2012-07-20 22:49:49.000000000,5,1,0,10010,f0544de69245334ca9547e58697fb46fddc1787d,8,4,2,1,4460,Vincent Untz,vuntz,"Partial sync of jsonutils from openstack-common

This makes horizon work with recent versions of anyjson. Note that
there's another jsonutils change in openstack-common, but it requires
timeutils (which adds a dependency on the iso8601 module), so I skipped
it for now.

Changes from openstack-common:

    commit 4c9d439ef24f5afdd74aa9153aa8fc772051e6cb
    Author: Tim Daly Jr <timjr@yahoo-inc.com>
    Date:   Tue Jun 26 02:48:42 2012 +0000

        Add 'filedecoder' method to the jsonutils wrapper module.

        Fixes bug #1017765

        After version 3.3.2, the anyjson library will throw a KeyError if
        filedecoder isn't present.  The filedecoder is just like the decoder
        except it takes a file instead of a string, like json.load() instead
        of json.loads().

        Change-Id: I7bd012a7b4afa9b1ec987c3e6393cc922b5dadff

Change-Id: I912116d56e4e31ae93042929775c8d03dc4fa59e
"
openstack%2Fhorizon~master~I07cabcce8138eab57b883017fef444a88b93b60b,openstack/horizon,master,bug/1027206,I07cabcce8138eab57b883017fef444a88b93b60b,"Fix the ""more"" link on the images table",MERGED,2012-07-20 18:50:45.000000000,2012-07-20 22:49:48.000000000,2012-07-20 22:49:48.000000000,3,2,0,10070,d174c791231d6694466520b16e4ac76556f3dace,6,3,1,1,1247,Mark McLoughlin,markmc,"Fix the ""more"" link on the images table

Fixes bug #1027206

The has_more_data() method uses the _more_images attribute, but we're
not actually setting this.

Change-Id: I07cabcce8138eab57b883017fef444a88b93b60b
"
openstack%2Fnova~master~Ib58b035cc5803e49654570b451ad381bebdd300c,openstack/nova,master,unnecessary-lockmode,Ib58b035cc5803e49654570b451ad381bebdd300c,Remove unnecessary use of with_lockmode,MERGED,2012-07-20 22:04:50.000000000,2012-07-20 22:42:19.000000000,2012-07-20 22:42:18.000000000,1,1,0,10084,040f09c85905ef479bfb0c2b74f230f92b5315b7,6,3,1,1,100,Johannes Erdfelt,johannes.erdfelt,"Remove unnecessary use of with_lockmode

Using with_lockmode outside of a transaction is useless. It's also
unnecessary when code won't ever make any updates to the records.

Change-Id: Ib58b035cc5803e49654570b451ad381bebdd300c
"
openstack%2Fnova~master~I7c5d7848d2d1326d01770195e1c8a754bb673a7a,openstack/nova,master,bug/1026210,I7c5d7848d2d1326d01770195e1c8a754bb673a7a,Make flavorextradata ignore deleted flavors.,MERGED,2012-07-18 22:29:14.000000000,2012-07-20 22:33:56.000000000,2012-07-20 22:33:56.000000000,1,1,0,9995,153c40ea1a026de17872c907ea543ea80bf5a074,8,5,1,1,4531,david-besen,david-besen,"Make flavorextradata ignore deleted flavors.

In _get_flavor_refs, don't retrieve inactive flavors.  Fixes bug 1026210.

Change-Id: I7c5d7848d2d1326d01770195e1c8a754bb673a7a
"
openstack%2Fnova~master~Ibf3869e3ee477e91623e0c030838c1ec8a6128a6,openstack/nova,master,selinux-ssh-keys,Ibf3869e3ee477e91623e0c030838c1ec8a6128a6,set correct SELinux context for injected ssh keys,MERGED,2012-07-20 15:55:31.000000000,2012-07-20 22:31:09.000000000,2012-07-20 22:31:09.000000000,37,0,0,10061,7bac53f97e7c2025e492de7e9c9f5d2451aceee3,6,3,1,2,1812,p-draigbrady,p-draigbrady,"set correct SELinux context for injected ssh keys

Instruct guests to ensure at boot, that the correct
SELinux context is set for /root/.ssh/.
This will cater for keys injected by nova from hosts
without SELinux (enabled) or using libguestfs which
currently doesn't support setting extended attributes.

Suggested-by: David Naori <dnaori@redhat.com>
Change-Id: Ibf3869e3ee477e91623e0c030838c1ec8a6128a6
"
openstack%2Fdevstack~master~Ibcae8bae2d06c9cbb4c41c39791e8dbdc8bbb0ac,openstack/devstack,master,add_cinder_to_ROOTWRAP_SUDOERS,Ibcae8bae2d06c9cbb4c41c39791e8dbdc8bbb0ac,Add Cinder to ROOTWRAP_SUDOERS,MERGED,2012-07-20 19:18:53.000000000,2012-07-20 22:22:52.000000000,2012-07-20 22:22:52.000000000,40,2,1,10073,4e823ff4ad8fb22602c6d70c02b5910e0ad467ef,18,5,7,2,2243,John Griffith,john-griffith,"Add Cinder to ROOTWRAP_SUDOERS

 * Perform operations in lib/cinder
 * Use specific cidner-rootwrap file
 * Add root_helper to cinder.conf

Change-Id: Ibcae8bae2d06c9cbb4c41c39791e8dbdc8bbb0ac
"
openstack%2Fnova~master~I6a9dd712dbac1d1b1aaba65da2b7c399b606e934,openstack/nova,master,better_parent_uuid_logging,I6a9dd712dbac1d1b1aaba65da2b7c399b606e934,Improve VDI chain logging.,MERGED,2012-07-20 20:27:09.000000000,2012-07-20 22:22:17.000000000,2012-07-20 22:22:16.000000000,11,28,0,10080,4cee1e5b156d735468bcbd3fc51384d53ea28f76,6,3,1,1,475,Rick Harris,rconradharris,"Improve VDI chain logging.

Currently we're logging the parent's OpaqueRef which is rather useless.
This patches uses the much more useful UUID.

Some small cleanups are included as well.

Change-Id: I6a9dd712dbac1d1b1aaba65da2b7c399b606e934
"
openstack%2Fnova~master~I099056387edea9e3646cd4e329c76b674e03baa2,openstack/nova,master,bug/1019899,I099056387edea9e3646cd4e329c76b674e03baa2,Support requested_networks with quantum v2.,MERGED,2012-07-03 21:45:20.000000000,2012-07-20 22:20:49.000000000,2012-07-20 22:20:48.000000000,36,6,9,9295,b1d5719556d0fff3afc794bc0d95676ebb31fcd6,24,9,4,3,261,Salvatore Orlando,salvatore-orlando,"Support requested_networks with quantum v2.

Allow Quantum to attach instance only to selected networks, which can
be specified, for instance, via the --nic option on the nova CLI.

Fixes bug 1019899

Change-Id: I099056387edea9e3646cd4e329c76b674e03baa2
"
openstack%2Fnova~master~I55d16747d117de728b02ac938083ef8a79eaaca7,openstack/nova,master,bug/1025942,I55d16747d117de728b02ac938083ef8a79eaaca7,Fixes bare-metal spawn error.,MERGED,2012-07-18 00:30:15.000000000,2012-07-20 22:03:09.000000000,2012-07-20 22:03:09.000000000,4,18,0,9950,b35acd24df85c7dbbeb773d625265973f6046f6b,8,5,1,1,221,Mikyung Kang,mkkang,"Fixes bare-metal spawn error.

Implements blueprint Bare-metal provisioning. Fixes bug 1025942.

Change-Id: I55d16747d117de728b02ac938083ef8a79eaaca7
"
openstack%2Fnova~master~I0e1e48b92d5401d61cf127711388a9c63698b96e,openstack/nova,master,badWords,I0e1e48b92d5401d61cf127711388a9c63698b96e,Remove profane words,MERGED,2012-07-20 19:48:49.000000000,2012-07-20 22:01:36.000000000,2012-07-20 20:55:50.000000000,1,1,0,10077,d1744b70d427592c8035ebd32ebba4a21c7e0394,10,6,1,1,1849,Joe Gordon,jogo,"Remove profane words

Change-Id: I0e1e48b92d5401d61cf127711388a9c63698b96e
"
openstack%2Fnova~master~If86a65a6908b53e6f467d0e7a36c2ea941bf5040,openstack/nova,master,Fakes,If86a65a6908b53e6f467d0e7a36c2ea941bf5040,Remove unused testing.fake,MERGED,2012-07-18 21:04:14.000000000,2012-07-20 21:59:22.000000000,2012-07-20 21:59:22.000000000,0,11,0,9985,8ba14de31f39bcb2b06fa1d6299bf0192002abe8,6,3,1,2,1849,Joe Gordon,jogo,"Remove unused testing.fake

Change-Id: If86a65a6908b53e6f467d0e7a36c2ea941bf5040
"
openstack%2Fnova~master~I3c2e9bf3fa3c748e680c1df27d243a648ed47cf5,openstack/nova,master,bug/1025827,I3c2e9bf3fa3c748e680c1df27d243a648ed47cf5,Fixes nova-manage fixed list with deleted networks,MERGED,2012-07-18 14:41:20.000000000,2012-07-20 20:44:47.000000000,2012-07-20 20:44:47.000000000,33,14,11,9966,7343f79cbe9ecc62f81a0170a182cb5363b6df24,34,9,11,1,2860,litong01,litong01,"Fixes nova-manage fixed list with deleted networks

The fix addresses the bug reported in bug 1025827
currently command 'nova-manage fixed list' will return
'Command failed.' message when there is no network defined or
all networks have been deleted or even when a network gets
deleted, then a new network gets created. In all these cases,
the command produces the 'Command failed.' error message which
does not really tell what went wrong. This fix will produce
'No fixed IP found' in these conditions.
changes made for globalization.
changes made for based on the comments for patchset 7.

Change-Id: I3c2e9bf3fa3c748e680c1df27d243a648ed47cf5
"
openstack%2Fnova~master~Ibbfbb88cafa45c98792e6732da726ab4afe4ca00,openstack/nova,master,libvirt-disk-config-cleanup,Ibbfbb88cafa45c98792e6732da726ab4afe4ca00,Move libvirt disk config setup out of main get_guest_config method,MERGED,2012-07-20 12:02:25.000000000,2012-07-20 20:42:38.000000000,2012-07-20 16:48:16.000000000,137,122,0,10055,9283f68ea31ffe97efd075c791211a13a8bae6a9,17,5,2,1,1779,Daniel Berrange,berrange,"Move libvirt disk config setup out of main get_guest_config method

The get_guest_config method in the libvirt driver is getting
quite large and complicated, particularly wrt disk config.
Moving the disk config setup out into a separate method,
get_guest_storage_method, eases understanding of the code

Change-Id: Ibbfbb88cafa45c98792e6732da726ab4afe4ca00
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~I0807eed7f03aedf4980eedeb70195076ed5f4710,openstack/nova,master,libvirt-disk-config-cleanup,I0807eed7f03aedf4980eedeb70195076ed5f4710,Refactor libvirt imagebackend module to reduce code duplication,MERGED,2012-07-20 12:02:25.000000000,2012-07-20 20:42:38.000000000,2012-07-20 16:46:54.000000000,24,40,0,10054,2766ee2b6ed68f1784aad1b41e81baa75cc305df,17,5,2,1,1779,Daniel Berrange,berrange,"Refactor libvirt imagebackend module to reduce code duplication

Currently each subclass of the Image class in imagebackend,
repeats the impl of the 'libvirt_info' method. These methods
are almost identical, only varying on two per-class settings.
By providing the driver_format and source_type to the Image
class constructor, it is possible to get to a single impl
of the 'libvirt_info' method.

Change-Id: I0807eed7f03aedf4980eedeb70195076ed5f4710
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~I6796c125af769236f93341361ee07c8319817f7f,openstack/nova,master,libvirt-disk-config-cleanup,I6796c125af769236f93341361ee07c8319817f7f,Move more libvirt disk setup into the imagebackend module,MERGED,2012-07-20 12:02:25.000000000,2012-07-20 20:42:38.000000000,2012-07-20 16:38:46.000000000,48,39,0,10053,1ec856db22c798bffbf0f7d5def0e880a8fc9842,17,5,2,3,1779,Daniel Berrange,berrange,"Move more libvirt disk setup into the imagebackend module

Move the setup of target bus and target dev out of the libvirt
driver and into the imagebackend module to reduce code duplication

Change-Id: I6796c125af769236f93341361ee07c8319817f7f
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~I742184b08a3ecd428af21ae5beb059bdbf38a9cd,openstack/nova,master,libvirt-disk-config-cleanup,I742184b08a3ecd428af21ae5beb059bdbf38a9cd,Don't hardcode use of 'virtio' for root disk in libvirt driver,MERGED,2012-07-20 12:02:24.000000000,2012-07-20 20:42:38.000000000,2012-07-20 16:30:43.000000000,1,1,0,10052,551078b567b9650353fd9695f7c88fb9ed1da0f9,17,4,2,1,1779,Daniel Berrange,berrange,"Don't hardcode use of 'virtio' for root disk in libvirt driver

The libvirt driver is mistakenly using 'virtio' for the root
disk, instead of the hypervisor specific disk bus.

Change-Id: I742184b08a3ecd428af21ae5beb059bdbf38a9cd
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~If0a4c50043d6e4d9e54a5dcbdc05effbb72eced6,openstack/nova,master,libvirt-disk-config-cleanup,If0a4c50043d6e4d9e54a5dcbdc05effbb72eced6,Ensure to use 'hdN' for IDE disk device in libvirt driver,MERGED,2012-07-20 12:02:24.000000000,2012-07-20 20:42:38.000000000,2012-07-20 19:54:29.000000000,11,7,0,10051,cff588e67a4a1dee4f0a690c30d467495e0d679f,13,6,2,2,1779,Daniel Berrange,berrange,"Ensure to use 'hdN' for IDE disk device in libvirt driver

When configuring the root disk for an image which is tagged as
an ISO, the libvirt driver sets the bus=ide, but still uses
the normal root device name, eg dev=vda. It must instead
use dev=hda for the IDE bus

Change-Id: If0a4c50043d6e4d9e54a5dcbdc05effbb72eced6
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~I2ee0f3d104a2eb5139fc85c2db68e36255b82dad,openstack/nova,master,libvirt-disk-config-cleanup,I2ee0f3d104a2eb5139fc85c2db68e36255b82dad,Get rid of pointless 'suffix' parameter in libvirt imagebackend,MERGED,2012-07-20 12:02:22.000000000,2012-07-20 20:42:38.000000000,2012-07-20 20:42:36.000000000,34,43,0,10048,6d7bf9a2f9491ae9c7ad54b8b7a38a6e11a4bfcd,12,8,2,4,1779,Daniel Berrange,berrange,"Get rid of pointless 'suffix' parameter in libvirt imagebackend

The libvirt 'imagebackend' module has various methods which take
a 'name' and 'suffix' argument. They are never used in isolation,
however, so passing them separately has no benefit. Indeed all
but one caller passes a name which already has a suffix appended
The suffix argument can thus trivially be removed completely.

Change-Id: I2ee0f3d104a2eb5139fc85c2db68e36255b82dad
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~I7bff6b0b2e7e40a5aef3126634ca814082f8cf4f,openstack/nova,master,libvirt-disk-config-cleanup,I7bff6b0b2e7e40a5aef3126634ca814082f8cf4f,Move setup of libvirt disk cachemode into imagebackend module,MERGED,2012-07-20 12:02:22.000000000,2012-07-20 20:42:37.000000000,2012-07-20 16:22:23.000000000,12,13,0,10049,7292473944762c42c0d04e16599822ab55d9b726,17,5,2,3,1779,Daniel Berrange,berrange,"Move setup of libvirt disk cachemode into imagebackend module

There is alot of repeated code setting the disk cache mode.
Move this into the imagebackend module so that it can be
done in one place

Change-Id: I7bff6b0b2e7e40a5aef3126634ca814082f8cf4f
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~I9e87f912ef2717221c244241cda2f1027a4ca66a,openstack/nova,master,migration-efficiency,I9e87f912ef2717221c244241cda2f1027a4ca66a,improve efficiency of image transfer during migration,MERGED,2012-07-17 22:40:36.000000000,2012-07-20 20:42:14.000000000,2012-07-20 20:42:13.000000000,88,24,8,9944,3a3ad54058323b2e012748781fc00bc6d50de23a,34,13,4,4,1812,p-draigbrady,p-draigbrady,"improve efficiency of image transfer during migration

This reduces time to transfer a qcow2 image
with a virtual size of 10G, over GigE,
from about 7 minutes to about 30 seconds.

There are multiple inefficiencies in the existing process.
Taking an example of a qcow2 image with 10G virtual size,
the process was:

  qcow2 -> raw -> read -> send -> write -> qcow2

qcow2 to raw takes 20s,
transfer of the resultant 10G is another 4m9s, and
conversion back to qcow takes 2m33s.
I.E. a total of about 7 minutes.

So instead we try to avoid the initial qcow2 to raw
conversion completely, which results in the whole
process completing in about 30s, in the common
case where no conversion to raw is done on the destination.

We also optimize the case where the source qcow2
image doesn't have a backing file, and then directly
copy the source image without merging a backing file.

Note this will also improve the situation when
resizing/migrating within the same host as
needles conversions are avoided in that case too.

We also optimize the case where raw images are being used
by trying to use `rsync -Sz` rather than `scp`.
That compresses runs of zeros and create sparse destination files.
Testing a 10G raw image showed a saving of 30s in transfer time.
Also the network was greatly reduced (corresponding to holes
in the source), as was space usage at the destination.
This gain is limited though by rsync inefficiently reading
all the holes at the source:
https://bugzilla.samba.org/show_bug.cgi?id=8918

Thanks to David Naori <dnaori@redhat.com> for testing and ideas.

Change-Id: I9e87f912ef2717221c244241cda2f1027a4ca66a
"
openstack%2Fcinder~master~I513b362a0ea8aca9cf5e06807834316b46a5f430,openstack/cinder,master,openstack.common.setup,I513b362a0ea8aca9cf5e06807834316b46a5f430,Use openstack.common.setup.,MERGED,2012-07-20 12:26:47.000000000,2012-07-20 20:21:06.000000000,2012-07-20 20:21:06.000000000,367,118,0,10056,3a2036cccb2852b29d2aca15bd25d9e4ad919bcc,14,7,3,7,866,Chmouel Boudjnah,chmouel,"Use openstack.common.setup.

- Remove Authors and add it to .gitignore since this is now auto
  generated.

Change-Id: I513b362a0ea8aca9cf5e06807834316b46a5f430
"
openstack%2Fswift~master~If5a6d32c40de02183a2eed6e2a32d62ba38df32d,openstack/swift,master,ring_dev_getter,If5a6d32c40de02183a2eed6e2a32d62ba38df32d,ensure that accessing the ring devs reloads the ring if necessary,MERGED,2012-07-20 16:15:42.000000000,2012-07-20 20:20:16.000000000,2012-07-20 20:20:16.000000000,25,5,0,10065,de3b663a735f2cd200a7b140bdf2ea2b25a4f2d3,10,6,1,2,330,John Dickinson,notmyname,"ensure that accessing the ring devs reloads the ring if necessary

Change-Id: If5a6d32c40de02183a2eed6e2a32d62ba38df32d
"
openstack%2Fnova~master~Ia529956ee4fc56e49efdcf2cca4f42fc8ebcc3ea,openstack/nova,master,master,Ia529956ee4fc56e49efdcf2cca4f42fc8ebcc3ea,Adds logging for renaming and hardlinking.,MERGED,2012-07-20 17:34:42.000000000,2012-07-20 20:11:53.000000000,2012-07-20 20:11:52.000000000,15,5,0,10068,d42f44f1e412bea24ad5b2a5c5a38226e6a52b9c,8,5,1,1,475,Rick Harris,rconradharris,"Adds logging for renaming and hardlinking.

This will provide a bit more visibility into what's happening when dom0
plugin generates an exception.

Change-Id: Ia529956ee4fc56e49efdcf2cca4f42fc8ebcc3ea
"
openstack%2Fcinder~master~Ib42ee50a8599ee90bcfc539b2419c0887881ae88,openstack/cinder,master,add_rootwrap_to_cinder,Ib42ee50a8599ee90bcfc539b2419c0887881ae88,Add rootwrap to cinder,ABANDONED,2012-07-20 18:53:11.000000000,2012-07-20 20:05:58.000000000,,34,0,0,10071,00d2e9bd00e4657cd27338ad51288e00f5ba4a3a,2,2,1,2,2243,John Griffith,john-griffith,"Add rootwrap to cinder

Change-Id: Ib42ee50a8599ee90bcfc539b2419c0887881ae88
"
openstack%2Fnova~master~I0884289bac01ac5109dde4bdee5af55e7bfd5aa2,openstack/nova,master,bug/828588,I0884289bac01ac5109dde4bdee5af55e7bfd5aa2,Fix cloudpipe keypair creation. Add pipelib tests,MERGED,2012-07-19 14:49:39.000000000,2012-07-20 20:01:47.000000000,2012-07-20 20:01:46.000000000,79,3,0,10014,8b7765276951f4a2a6a80df3bce7c12e64cee44f,8,4,1,2,91,Alvaro,aloga,"Fix cloudpipe keypair creation. Add pipelib tests

Commit ec0a65d81fd11d26be77b45827a4dd7c77711675 introduced a new
internal key pair API, removing the _gen_key() method from the EC2 API.
pipelib.py used this method so as to generate the keypair of the
cloudpipe instance.

This commit also adds unittests for pipelib.py, thus fixes bug 828588

Change-Id: I0884289bac01ac5109dde4bdee5af55e7bfd5aa2
"
openstack%2Fnova~master~I5f327dc0278413575e8c686b2db3b6000f19c4c7,openstack/nova,master,bug/1006875,I5f327dc0278413575e8c686b2db3b6000f19c4c7,Don't create volumes if an incorrect size was given,MERGED,2012-07-20 16:15:17.000000000,2012-07-20 19:51:49.000000000,2012-07-20 19:51:48.000000000,16,0,0,10064,ac5df2277968598914aeb803f5d7b57fabe876f0,9,5,1,2,170,Mike Perez,thingee,"Don't create volumes if an incorrect size was given

backported from cinder

bug 1006875

Change-Id: I5f327dc0278413575e8c686b2db3b6000f19c4c7
"
openstack%2Fnova~master~I6b9e4f854c271bf73711480568be384ba883775d,openstack/nova,master,master,I6b9e4f854c271bf73711480568be384ba883775d,Ensure VHDs in staging area are sequenced properly.,MERGED,2012-07-19 21:35:27.000000000,2012-07-20 19:46:50.000000000,2012-07-20 19:46:50.000000000,19,0,1,10033,4881ccf017a217214ae30c74c2f7effbee71c044,12,6,2,1,475,Rick Harris,rconradharris,"Ensure VHDs in staging area are sequenced properly.

This adds a check to raise a sensible error if the VHDs in the staging
area are not sequence numbered properly, meaning 0 to n-1 with no gaps.

The previous error was an UnboundLookupError which made it difficult to
pinpoint the root cause.

Change-Id: I6b9e4f854c271bf73711480568be384ba883775d
"
openstack%2Fnova~master~Ifb43685e4f9b0b5bd53e74747d1f87aa5e119fb5,openstack/nova,master,,Ifb43685e4f9b0b5bd53e74747d1f87aa5e119fb5,Ensure 413 response for security group over-quota,MERGED,2012-07-19 16:23:35.000000000,2012-07-20 19:39:47.000000000,2012-07-20 19:39:46.000000000,9,3,0,10023,39146d2e2e36ad96e8cf8b4f4bc9c426f1b80efb,11,7,2,3,2284,Eoghan Glynn,eglynn,"Ensure 413 response for security group over-quota

Fixes LP 1021748

Instead of raising the relevant webob.exc exception directly,
we now follow the usual pattern of mapping in the FaultWrapper
middleware from an internal exception type to the corresponding
HTTP error.

Change-Id: Ifb43685e4f9b0b5bd53e74747d1f87aa5e119fb5
"
openstack%2Fnova~master~Id35c487113059ec3053f2f9e9e7eca24854ac02c,openstack/nova,master,,Id35c487113059ec3053f2f9e9e7eca24854ac02c,Allow NoMoreFloatingIps to bubble up to FaultWrapper,MERGED,2012-07-19 15:33:58.000000000,2012-07-20 19:36:42.000000000,2012-07-20 19:36:42.000000000,6,5,3,10019,ebc05b803615b78a14008136bb549a41013e6cd1,10,6,1,3,2284,Eoghan Glynn,eglynn,"Allow NoMoreFloatingIps to bubble up to FaultWrapper

Fixes LP 1026167.

The fix for LP 1021721 caught the wrong exception in order to
address floating IP quota over-run. NoMoreFloatingIps is raised
when the floating range is exhausted, whereas FloatingIpLimitExceeded
is raised on over-quota.

Also the HTTPRequestEntityTooLarge exception raised is mapped
to 500 Server Error due to the required retry-after header being
left unset.

We now allow the NoMoreFloatingIps to bubble up to the FaultWrapper
middleware, where its mapped to a 404 status due to it extending
the NotFound exception.

Change-Id: Id35c487113059ec3053f2f9e9e7eca24854ac02c
"
openstack%2Fnova~master~I204b087c610396d917e94a6e35dd2f5e1c26704e,openstack/nova,master,lxc-rmtree-errors,I204b087c610396d917e94a6e35dd2f5e1c26704e,Don't let failure to delete filesystem block deletion of instances in libvirt,MERGED,2012-07-05 12:20:58.000000000,2012-07-20 19:25:55.000000000,2012-07-20 19:25:54.000000000,8,1,6,9357,9c16f2a05245bc0a6ae0af5f8edbde65ba812837,33,11,2,1,1779,Daniel Berrange,berrange,"Don't let failure to delete filesystem block deletion of instances in libvirt

During cleanup of instances, the libvirt driver tries to delete all
files under the /var/lib/nova/instances/$INSTANCENAME directory. If
Nova is running non-root, it is entirely possible for this to fail.
If this happens an OSError is raised and the result is an unkillable
instance. By catching and logging any OSError raised, we can ensure
that the instances are cleaned up as much as possible and not left
with unkillable instances.

Change-Id: I204b087c610396d917e94a6e35dd2f5e1c26704e
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~Id9a1a10217aac971cbbba9db5829c8478892db1a,openstack/nova,master,bug/1021810,Id9a1a10217aac971cbbba9db5829c8478892db1a,fixes for nova-manage network list  if network has been deleted,MERGED,2012-07-18 15:27:04.000000000,2012-07-20 19:23:46.000000000,2012-07-20 19:23:45.000000000,18,10,4,9967,458a5d61eac5eb5cef34ab301b67fa37271ba407,24,7,7,1,2860,litong01,litong01,"fixes for nova-manage network list  if network has been deleted

this fix addresses the  bug #1021810
Currently command 'nova-manage network list' or
'nova-manage fixed list'  will return 'Command failed.' message when
there is no network defined or networks get deleted. This fix combined
with fixes to bug 1025827 will fix both command problem.
also change the print out message so that it can be translated.
code structure changes according to the suggestion from comments.

Change-Id: Id9a1a10217aac971cbbba9db5829c8478892db1a
"
openstack%2Fnova~master~Id4a5ae3ebb91f941956e2f73ecfd9ea1d290a235,openstack/nova,master,bp/novaplugins,Id4a5ae3ebb91f941956e2f73ecfd9ea1d290a235,Add the plugin framework from common; use and test.,MERGED,2012-07-11 21:16:06.000000000,2012-07-20 19:17:29.000000000,2012-07-20 19:17:28.000000000,401,3,1,9668,a30ed72967eddf16718af717978acd80ebef2006,25,9,6,10,1998,andrewbogott,andrewbogott,"Add the plugin framework from common; use and test.

For blueprint novaplugins.

Change-Id: Id4a5ae3ebb91f941956e2f73ecfd9ea1d290a235
"
openstack%2Fdevstack~master~I580fe91216d3fa066120dc774811bfe08119ca02,openstack/devstack,master,fix-creating-cinder-user,I580fe91216d3fa066120dc774811bfe08119ca02,Use c-api for service when creating cinder user.,MERGED,2012-07-20 15:00:37.000000000,2012-07-20 19:16:26.000000000,2012-07-20 19:16:25.000000000,1,1,0,10060,d55509d46e59b1b734605965fae3bc5d94161ce9,6,4,1,1,866,Chmouel Boudjnah,chmouel,"Use c-api for service when creating cinder user.

- cinder is not a service but c-api is.

Change-Id: I580fe91216d3fa066120dc774811bfe08119ca02
"
openstack%2Fnova~master~I18797790109ce8696ad3efa44acff7105f0cd321,openstack/nova,master,typo,I18797790109ce8696ad3efa44acff7105f0cd321,Fix docstring typo,MERGED,2012-07-17 21:59:32.000000000,2012-07-20 19:12:02.000000000,2012-07-20 19:12:01.000000000,1,1,0,9938,20a9083607e561ab5e05898ce5b5c07c1dfca975,11,6,1,1,1849,Joe Gordon,jogo,"Fix docstring typo

Change-Id: I18797790109ce8696ad3efa44acff7105f0cd321
"
openstack%2Fkeystone~master~Ib3fdf873ea3816186e6bb63307028ba3aa2edaa9,openstack/keystone,master,apache-httpd,Ib3fdf873ea3816186e6bb63307028ba3aa2edaa9,Files for  Apache-HTTPD,MERGED,2012-07-12 19:12:55.000000000,2012-07-20 18:59:18.000000000,2012-07-20 18:59:18.000000000,124,0,42,9735,9b31383c7d8665cf99003974d98df147471e61e1,27,5,5,5,2218,Adam Young,ayoung,"Files for  Apache-HTTPD

files required for running Keystone in Apache-HTTPD and instructions to set it up

Change-Id: Ib3fdf873ea3816186e6bb63307028ba3aa2edaa9
"
openstack%2Fnova~master~Id59e397891b80b45ea38e42654a6f7f9859379f8,openstack/nova,master,tidy_except_contrib_floating_ip_dns,Id59e397891b80b45ea38e42654a6f7f9859379f8,Tidy up handling of exceptions in floating_ip_dns,MERGED,2012-07-18 22:19:59.000000000,2012-07-20 18:59:16.000000000,2012-07-20 18:59:14.000000000,53,45,0,9993,338ef025c76ae2d81e403f2dd9f0094a52f7ec7a,9,5,1,2,4126,Martin Packman,gz,"Tidy up handling of exceptions in floating_ip_dns

Removes translation of NotAuthorized which is already handled at a
higher level. Also makes delete methods more typical, switches http
status code on success to 202 rather than 200, includes details when
handling NotFound and adds test coverage.

Change-Id: Id59e397891b80b45ea38e42654a6f7f9859379f8
"
openstack%2Fnova~master~I5578e6064e23a8ff6f4019116b5bcdd12529360c,openstack/nova,master,bug/1023682,I5578e6064e23a8ff6f4019116b5bcdd12529360c,Make snapshot work for stopped VMs.,MERGED,2012-07-18 19:59:11.000000000,2012-07-20 18:59:12.000000000,2012-07-20 18:59:12.000000000,1,2,0,9975,5d8740932a42ce15c4a84764b9367ab37aa41a6e,10,8,1,1,1711,Yun Mao,yunmao,"Make snapshot work for stopped VMs.

Fix bug 1023682. Currently VM state is updated to ACTIVE no matter
what during snapshot. But VM should remain STOPPED if a snapshot
is taken on a stopped VM, i.e. remain unchanged.

VM state should not be changed during snapshot.

Change-Id: I5578e6064e23a8ff6f4019116b5bcdd12529360c
"
openstack%2Fnova~master~If9b81bdd7b24faa8a27915a9e5de3e651f6ed0d0,openstack/nova,master,ComputeFilter,If9b81bdd7b24faa8a27915a9e5de3e651f6ed0d0,Split ComputeFilter up.,MERGED,2012-07-17 22:03:10.000000000,2012-07-20 18:51:26.000000000,2012-07-20 18:51:25.000000000,69,26,1,9940,0c704cd87c094a37188ecb936c88ebf5a215c28c,23,8,4,4,1849,Joe Gordon,jogo,"Split ComputeFilter up.

Pull out compute capabilities to instance_type extra_specs into its own filter.
ComputeFilter now only passes active compute nodes.

Change-Id: If9b81bdd7b24faa8a27915a9e5de3e651f6ed0d0
"
openstack%2Fdevstack~master~I81e6ed476e8a310fe01809e9afcc2c8d5360e9df,openstack/devstack,master,bug/829209,I81e6ed476e8a310fe01809e9afcc2c8d5360e9df,Use latin1 character set when creating the nova database,MERGED,2012-06-14 08:10:17.000000000,2012-07-20 18:46:24.000000000,2012-07-20 18:46:24.000000000,4,1,1,8514,6a57f2649d6d8b28c8fa1a03c8b5eb8b8b6789aa,20,4,2,1,4460,Vincent Untz,vuntz,"Use latin1 character set when creating the nova database

Nova expects the latin1 character set to be used in its database by
default and then alters the database to utf8 when upgrading the
database (in 082_essex.py).

Nova works this way to work around bug 829209 (""Specified key was too
long"" errors) that will be hit with the dns_domains table.

Change-Id: I81e6ed476e8a310fe01809e9afcc2c8d5360e9df
"
openstack%2Fnova~master~I83650f052dd8f0961a72a70aaf57c486bfdee8e0,openstack/nova,master,ramFilter,I83650f052dd8f0961a72a70aaf57c486bfdee8e0,Add debug output to RamFilter,MERGED,2012-07-17 21:57:11.000000000,2012-07-20 18:46:07.000000000,2012-07-20 18:46:06.000000000,8,2,3,9937,2ebfbb03f0fa58121ada861cc8c6695a88c3e846,12,8,2,1,1849,Joe Gordon,jogo,"Add debug output to RamFilter

Change-Id: I83650f052dd8f0961a72a70aaf57c486bfdee8e0
"
openstack%2Fnova~master~I1d3bda780deee52f5d41e3af041aba7e6305dfde,openstack/nova,master,,I1d3bda780deee52f5d41e3af041aba7e6305dfde,EC2 DescribeImages reports correct rootDeviceType,MERGED,2012-07-14 20:48:23.000000000,2012-07-20 18:44:17.000000000,2012-07-20 18:44:16.000000000,6,2,0,9833,b898badbbc237cceb8ced9d89f4c53e2df98ee4d,18,5,4,3,2284,Eoghan Glynn,eglynn,"EC2 DescribeImages reports correct rootDeviceType

Fixes LP 1024354

A root device type of instance-store was incorrectly reported for
boot-from-volume images (i.e. the analogue of EBS-backed AMIs).

When comparing the block device mapping device name with the root
device name, we now tolerate a missing leading '/dev/' path.

Change-Id: I1d3bda780deee52f5d41e3af041aba7e6305dfde
"
openstack%2Fnova~master~I886d70097090578e83adc20318600d16cc5ebead,openstack/nova,master,bug/1021392,I886d70097090578e83adc20318600d16cc5ebead,Fix venv wrapper to clean *.pyc.,MERGED,2012-07-14 06:08:33.000000000,2012-07-20 18:21:26.000000000,2012-07-20 18:21:25.000000000,1,1,0,9817,e2f031c321d25f16ed7620f45bc38687c0b0ed84,7,4,1,1,2934,Bhuvan Arumugam,bhuvan,"Fix venv wrapper to clean *.pyc.

Bug: 1021392

With this fix the commands executed within virtual environment,
including find command, are executed successfully.

* tools/with_venv.sh
  Enclose command to execute in virtual environment within quotes.

Change-Id: I886d70097090578e83adc20318600d16cc5ebead
"
openstack%2Fnova~master~I1eb9e6289a8171d6fc93a49b327df474b1e2e503,openstack/nova,master,bug/918383,I1eb9e6289a8171d6fc93a49b327df474b1e2e503,Improved VM detection for bandwidth polling (XAPI),MERGED,2012-07-16 21:59:06.000000000,2012-07-20 18:17:55.000000000,2012-07-20 18:17:54.000000000,1,1,0,9874,212045e4c87aee81fde82dd4887d321cb511d717,7,4,1,1,1004,Mohammed Naser,mnaser,"Improved VM detection for bandwidth polling (XAPI)

XenAPI bandwidth polling would fail or be unreliable if there
was any other virtual machines on the same node (such as the nova
compute node).  This uses the nova_uuid which is much more
reliable to be there.  Fixes LP Bug #918383

Change-Id: I1eb9e6289a8171d6fc93a49b327df474b1e2e503
"
openstack%2Fdevstack~master~Icc2bd9551e235173683e3677880c2641faee62a9,openstack/devstack,master,bug/1019942,Icc2bd9551e235173683e3677880c2641faee62a9,Allow wget to handle Non-English output,MERGED,2012-07-02 06:11:14.000000000,2012-07-20 18:16:04.000000000,2012-07-20 18:16:04.000000000,1,1,1,9217,91b0acdefff432edf0021b00fe535637ecb8d789,20,7,4,1,2649,Zhang Hua,zhang-hare,"Allow wget to handle Non-English output

The stack.sh has a loop to wait for keystone to start. But the output of wget tool has been globalized
which means it won't return the English word 'refused' on Non-English environment even the keystone is
not up. So the script will assume the keystone has been started and continue. The command of keystone
tenant-create always failed immediately after skipping this loop since it require keystone to be started
to authenticate. That's why you can see authentication error in the log because the tenant information
was not correctly set up.

Fix bug 1019942

Change-Id: Icc2bd9551e235173683e3677880c2641faee62a9
"
openstack%2Fswift~master~I208fecdf3ee991694b4239f065032324d297fd35,openstack/swift,master,bp/keystone-middleware,I208fecdf3ee991694b4239f065032324d297fd35,Move swift_auth middleware from keystone to swift.,MERGED,2012-06-20 15:44:32.000000000,2012-07-20 17:30:01.000000000,2012-07-20 17:30:01.000000000,631,0,0,8748,afa4f70024be30cb1a0b84b9744f044f2532904f,28,8,6,5,866,Chmouel Boudjnah,chmouel,"Move swift_auth middleware from keystone to swift.

- Rename it to keystoneauth for consistenties.
- Implements blueprint keystone-middleware.

Change-Id: I208fecdf3ee991694b4239f065032324d297fd35
"
openstack%2Fswift~master~I39bf2de45b9dc7d3ca4d350d24b3f2276e958a62,openstack/swift,master,bug/1005908,I39bf2de45b9dc7d3ca4d350d24b3f2276e958a62,Forbid substrings based on a regexp in name_filter middleware,MERGED,2012-07-05 13:53:50.000000000,2012-07-20 17:28:24.000000000,2012-07-20 17:28:24.000000000,53,1,4,9365,faff4ae769f71f79f066774f959028a4391fe689,19,6,4,4,4460,Vincent Untz,vuntz,"Forbid substrings based on a regexp in name_filter middleware

In comments from https://review.openstack.org/8798 it was raised that it
might make sense to forbid some substrings in the name_filter
middleware.

There is now a new forbidden_regexp option for the name_filter
middleware to specify which substrings to forbid. The default is
""/\./|/\.\./|/\.$|/\.\.$"" (or in a non-regexp language: the /./ and /../
substrings as well as strings ending with /. or /..).

This can be useful for extra paranoia to avoid directory traversals
(bug 1005908), or for more general filtering.

Change-Id: I39bf2de45b9dc7d3ca4d350d24b3f2276e958a62
DocImpact: new forbidden_regexp option for the name_filter middleware
"
openstack%2Fneutron~master~I943335816308767c7eba084d80b969fcb2e5a8fb,openstack/neutron,master,bp/quantum-api-quotas,I943335816308767c7eba084d80b969fcb2e5a8fb,Add quota features into quantum. Blueprint quantum-api-quotas,MERGED,2012-07-20 17:28:12.000000000,2012-07-20 17:28:12.000000000,2012-07-20 17:28:12.000000000,348,8,16,9627,67f88c2a4bef387ef0f51196ecc6f7f3a2a79512,28,10,5,5,2874,yong sheng gong,gongysh,"Add quota features into quantum.
Blueprint quantum-api-quotas

We support quota check for creating network, subnet and port.
Change-Id: I943335816308767c7eba084d80b969fcb2e5a8fb
"
openstack%2Fpython-novaclient~master~Iad52212ea2ba7bfc93c597c23cc6314f9916edb9,openstack/python-novaclient,master,clarify-insecure-flag-help,Iad52212ea2ba7bfc93c597c23cc6314f9916edb9,Clarify usage of --insecure flag,MERGED,2012-07-20 08:21:20.000000000,2012-07-20 17:25:15.000000000,2012-07-20 17:25:15.000000000,4,1,0,10044,186a38cbc67cec061b524701f3a6ffac476399ec,6,3,1,1,4375,Sascha Peilicke,saschpe,"Clarify usage of --insecure flag

Change-Id: Iad52212ea2ba7bfc93c597c23cc6314f9916edb9
"
openstack%2Fglance~master~I3def2b7c4085a36dd6c0961e762783ebaf7ffa74,openstack/glance,master,bp/swift-tenant-specific-storage,I3def2b7c4085a36dd6c0961e762783ebaf7ffa74,Provide stores access to the request context.,MERGED,2012-07-09 21:28:05.000000000,2012-07-20 17:17:59.000000000,2012-07-20 17:17:59.000000000,66,44,11,9552,53e210a0b32d1fad4678e978995433692cfb09cc,25,6,3,10,360,Dan Prince,dan-prince,"Provide stores access to the request context.

Adds context to the constructor for the Store class. This can be used
to provide Store's access to the RequestContext.

Includes the following changes:

* Updates common store helper methods to create new instance of
  Store objects for each request.

* Updates Glance scrubber to create a real context from credentials.

The motivation for this change is that we will need access to the
service catalog and token for the Swift multi-tenant backend.

Partially implements blueprint: swift-tenant-specific-storage

Change-Id: I3def2b7c4085a36dd6c0961e762783ebaf7ffa74
"
openstack%2Fheat~master~I3e6e63143d554c21ccdee19879c4dfb8b6e693d7,openstack/heat,master,master,I3e6e63143d554c21ccdee19879c4dfb8b6e693d7,heat api/engine : Implement UpdateStack functionality,MERGED,2012-07-20 16:41:23.000000000,2012-07-20 16:41:23.000000000,2012-07-20 16:41:23.000000000,334,22,1,10057,0191587ac6a79509576e2043412020d9c4257b47,5,2,1,17,4328,Steven Hardy,shardy,"heat api/engine : Implement UpdateStack functionality

Implements initial support for UpdateStack, currently
all resources default to delete/create on update.
Ref #171

Change-Id: I3e6e63143d554c21ccdee19879c4dfb8b6e693d7
"
openstack%2Fcinder~master~I3048d9ab7b1d30eff583e15044c5a7bf74d52a3c,openstack/cinder,master,ru-fake-memcache,I3048d9ab7b1d30eff583e15044c5a7bf74d52a3c,Remove unused fake memcache client,MERGED,2012-07-17 03:58:37.000000000,2012-07-20 16:41:01.000000000,2012-07-20 16:41:01.000000000,0,65,0,9885,56701c3eb0dfa0db90bc686ba49dd978da974106,15,3,2,1,1247,Mark McLoughlin,markmc,"Remove unused fake memcache client

Used by the consoleauth service and the EC2 and metadata APIs in Nova.

Change-Id: I3048d9ab7b1d30eff583e15044c5a7bf74d52a3c
"
openstack%2Fneutron~master~I31c5c51a3f7fa4b7cb068b7b93692411956e62ac,openstack/neutron,master,testrefactor,I31c5c51a3f7fa4b7cb068b7b93692411956e62ac,Refactor the test cases so that all the test cases are under one test class.,MERGED,2012-07-20 16:29:34.000000000,2012-07-20 16:29:34.000000000,2012-07-20 16:29:34.000000000,24,29,0,10037,d36be5244977d47381ed68c2f60b5a0f4c95f606,7,4,1,2,2874,yong sheng gong,gongysh,"Refactor the test cases so that all the test cases are under one test class.

Change-Id: I31c5c51a3f7fa4b7cb068b7b93692411956e62ac
"
openstack%2Fswift~master~I36fd7be91aaa67abb7b72b09fe1da85f2cde0b01,openstack/swift,master,bug/1026830,I36fd7be91aaa67abb7b72b09fe1da85f2cde0b01,check for ring reload every time through the main loop,ABANDONED,2012-07-19 22:29:47.000000000,2012-07-20 16:16:05.000000000,,7,5,0,10034,09719e9e9c36da75141eaa427f1f963d425d1ab4,15,5,3,3,330,John Dickinson,notmyname,"check for ring reload every time through the main loop

Updates object replicator and DB replicator to check for on-disk
ring updates every time through the run_forever() loop. This ensures
that the ring will be reloaded if replication is initially started with
no devices in the ring.

fixes LP#1026830

Change-Id: I36fd7be91aaa67abb7b72b09fe1da85f2cde0b01
"
openstack%2Fcinder~master~I7327d94b5a9f35bc74e179a05976d511c6642a7a,openstack/cinder,master,bug/1026949,I7327d94b5a9f35bc74e179a05976d511c6642a7a,utils module is still being used by cinder-volume service,MERGED,2012-07-20 16:00:31.000000000,2012-07-20 16:14:40.000000000,2012-07-20 16:14:40.000000000,1,0,0,10062,9a5e830c2453b0e4fd93c56173881ce43cffc3e8,8,4,2,1,170,Mike Perez,thingee,"utils module is still being used by cinder-volume service

bug 1026949

Change-Id: I7327d94b5a9f35bc74e179a05976d511c6642a7a
"
openstack%2Fnova~master~If1ec286f98fc91f9f411800bbb0adbf2797d2114,openstack/nova,master,bug/914484,If1ec286f98fc91f9f411800bbb0adbf2797d2114,"Revert ""Attach ISO as separate disk if given proper instruction""",MERGED,2012-07-20 09:30:41.000000000,2012-07-20 16:12:12.000000000,2012-07-20 16:12:11.000000000,0,9,0,10045,4d3a50a48011b412bf66b1386292f85cccf1db74,8,5,1,1,1779,Daniel Berrange,berrange,"Revert ""Attach ISO as separate disk if given proper instruction""

The following commit

  commit b63a3e8cbd8fe57d0be119368bf47964543270c2
  Author: Josh Kearney <josh@jk0.org>
  Date:   Fri Jul 13 15:57:54 2012 -0500

    Attach ISO as separate disk if given proper instruction.

    This gives the option to attach the ISO as a separate drive, like we do in
    XenServer, and boot from that instead of replacing the root drive.

    Fixes bug 914484.

    Change-Id: I0e0560f5fcbc361b60ff1284e7369997dd770fd9

Results in this XML config

  <devices>
    <disk type=""file"" device=""cdrom"">
      <driver type=""qcow2"" cache=""none""/>
      <source file=""instance-00000001/disk""/>
      <target bus=""virtio"" dev=""vda""/>
    </disk>
    <disk type=""file"" device=""cdrom"">
      <driver type=""qcow2"" cache=""none""/>
      <source file=""instance-00000001/disk""/>
      <target bus=""ide"" dev=""vda""/>
    </disk>
   ...
  </devices>

which is broken in many ways

 - The same backing file is used in read/write mode on 2 disks
   which will cause data corruption on write.
 - The 'virtio' bus type does not allow device=""cdrom"" disks
 - The 'dev' attribute is given the same value on 2 disks

To compound the problems, the original commit completely lacks
any tests which would have caught the brokeness and/or identified
what was actually intended.

Change-Id: If1ec286f98fc91f9f411800bbb0adbf2797d2114
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~stable%2Fessex~I5c1cdc9db54804c512d60e4179c1faa13516d6f9,openstack/nova,stable/essex,,I5c1cdc9db54804c512d60e4179c1faa13516d6f9,Return 413 status on over-quota in the native API.,MERGED,2012-07-06 16:17:18.000000000,2012-07-20 15:12:42.000000000,2012-07-20 15:12:41.000000000,50,4,0,9446,6e873bccc078e1013987698cd71c69deebf2e99f,25,5,6,4,2284,Eoghan Glynn,eglynn,"Return 413 status on over-quota in the native API.

Related to LP 1021373.

Previously, we returned a generic 500 Server Error on an over-quota
conditions, whereas this is arguably more appropriately reported
as a 413 status.

Change-Id: I5c1cdc9db54804c512d60e4179c1faa13516d6f9
"
openstack%2Fcinder~master~I9d912904c53a8ef5d90b4ab5792f5577701b6817,openstack/cinder,master,openstack.common.log2,I9d912904c53a8ef5d90b4ab5792f5577701b6817,Use openstack.common.log for logging.,MERGED,2012-07-17 13:59:28.000000000,2012-07-20 15:08:04.000000000,2012-07-20 15:08:03.000000000,316,488,8,9913,fe716c0ee499ed13f37231c651b8e018baede772,16,5,5,77,866,Chmouel Boudjnah,chmouel,"Use openstack.common.log for logging.

- We are not using openstack.common.notifier just yet so handedit
  openstack.common.log to use cinder.notifier now.

Change-Id: I9d912904c53a8ef5d90b4ab5792f5577701b6817
"
openstack%2Fcinder~master~I114281fd553020ac96c499c18ff3e4a2a626c3b2,openstack/cinder,master,ru-check-snapshots-enabled,I114281fd553020ac96c499c18ff3e4a2a626c3b2,Remove unused check_snapshots_enabled,MERGED,2012-07-17 03:58:26.000000000,2012-07-20 15:06:36.000000000,2012-07-20 15:06:36.000000000,0,17,0,9883,c99bae92e8aa3a38d5e3411e71df0d65a9484298,21,4,2,2,1247,Mark McLoughlin,markmc,"Remove unused check_snapshots_enabled

Only used in Nova by the createImage action.

Change-Id: I114281fd553020ac96c499c18ff3e4a2a626c3b2
"
openstack%2Foslo-incubator~master~Ieebefee89483e5abbcefe1bb9059d89c91dc04df,openstack/oslo-incubator,master,bug/1025522,Ieebefee89483e5abbcefe1bb9059d89c91dc04df,Add test-options from Nova /w pyzmq,MERGED,2012-07-20 14:58:22.000000000,2012-07-20 14:58:22.000000000,2012-07-20 14:58:22.000000000,7,0,2,9786,96bfc33b393e1d7c4e6ea7dfc86b2b2246c6c97f,14,6,2,2,159,Eric Windisch,ewindisch,"Add test-options from Nova /w pyzmq

Change-Id: Ieebefee89483e5abbcefe1bb9059d89c91dc04df
"
openstack%2Fcinder~master~Ied4c6f6d03c0a70838e1e483d69f3ed1ec08a9b5,openstack/cinder,master,bug/1006875,Ied4c6f6d03c0a70838e1e483d69f3ed1ec08a9b5,Don't create volumes if an incorrect size was given,MERGED,2012-07-20 06:37:13.000000000,2012-07-20 14:52:20.000000000,2012-07-20 14:52:20.000000000,17,0,0,10042,635f1498757d5ab8a0a8957d6e5aafaf3ceee022,6,3,1,3,170,Mike Perez,thingee,"Don't create volumes if an incorrect size was given

bug 1006875

Change-Id: Ied4c6f6d03c0a70838e1e483d69f3ed1ec08a9b5
"
openstack%2Fnova~master~Ic887d9078725ec9b676c4f49cf58b567759b6210,openstack/nova,master,bug/1026307,Ic887d9078725ec9b676c4f49cf58b567759b6210,Fix error in error handler in instance_usage_audit task.,MERGED,2012-07-18 20:48:10.000000000,2012-07-20 14:35:30.000000000,2012-07-20 14:35:29.000000000,2,2,0,9980,3f2c25cfac89500ddfe883e76ebfa3813a1f9103,16,9,2,1,236,Monsyne Dragon,mdragon,"Fix error in error handler in instance_usage_audit task.

This fixes bug 1026307
In the periodic task that generates .exists notifications, if there is
an exception generating the notification for an instance, it attempts
to log the exception and continue. Alas, there is an error in the error
handler that clobbers the original error, preventing it from being logged.

Turns out a variable in for loop was 'instance_ref' in one part, but 'instance' in
except clause. Fixed.

Change-Id: Ic887d9078725ec9b676c4f49cf58b567759b6210
"
openstack%2Fheat~master~I3562c9048f8d4e54c1ea51090e74abe982ffb330,openstack/heat,master,master,I3562c9048f8d4e54c1ea51090e74abe982ffb330,heat db : fix per-object delete,MERGED,2012-07-20 14:20:23.000000000,2012-07-20 14:20:23.000000000,2012-07-20 14:20:23.000000000,6,1,0,10046,912a4fc7a706bdf08ee731e0430256a326ca9d34,5,2,1,1,4328,Steven Hardy,shardy,"heat db : fix per-object delete

Fixes problem where per-resource destroy() operations do not
delete the underlying database row because the model delete
method is broken

Change-Id: I3562c9048f8d4e54c1ea51090e74abe982ffb330
Signed-off-by: Steven Hardy <shardy@redhat.com>
"
openstack%2Fnova~stable%2Fessex~Iafc290720a820cb5f57ded10a2f584fdc5cd5b49,openstack/nova,stable/essex,qcow2-cs,Iafc290720a820cb5f57ded10a2f584fdc5cd5b49,Use default qemu-img cluster size in libvirt connection driver,MERGED,2012-07-14 16:58:09.000000000,2012-07-20 13:02:10.000000000,2012-07-20 13:02:09.000000000,3,2,0,9821,7b215ed439a7b29b8681ced133e2e5b5ad074c0c,9,6,1,3,2697,Jim Fehlig,jfehlig,"Use default qemu-img cluster size in libvirt connection driver

The recommended cluster size [1] for qcow2 is 64k, which is the default
when invoking 'qemu-img create ...'.  Remove the cluster_size option
from qemu-img invocation.

[1] http://www.mail-archive.com/openstack@lists.launchpad.net/msg11371.html

V2: Fix test.

Note: This patch is needed in the stable/essex branch too, otherwise it
is not possible to start Xen instances that use qcow2 images.  The old
qemu 0.10 in Xen cannot cope with cluster size > 64k.

Change-Id: Iafc290720a820cb5f57ded10a2f584fdc5cd5b49
(cherry picked from commit de5cb27e64267ec59e12a495a59880412cecb5e8)
"
openstack%2Fheat~master~Ib2cff867eb5d9fbee8cedb828e9c35a93436cbe5,openstack/heat,master,master,Ib2cff867eb5d9fbee8cedb828e9c35a93436cbe5,Combined autoscaling and loadbalancer,MERGED,2012-07-20 12:24:53.000000000,2012-07-20 12:24:53.000000000,2012-07-20 12:24:53.000000000,360,12,0,10040,0f4c86bd3a13b5f8ff2e57b727709c7ff46aeea4,5,2,1,7,4715,Angus Salkeld,asalkeld,"Combined autoscaling and loadbalancer

Change-Id: Ib2cff867eb5d9fbee8cedb828e9c35a93436cbe5
"
openstack%2Fnova~master~I27736bb794030dad52f64f83cb7e503c42133567,openstack/nova,master,libvirt_disk_config,I27736bb794030dad52f64f83cb7e503c42133567,Refactor libvirt disk config generation.,ABANDONED,2012-07-11 15:52:51.000000000,2012-07-20 12:08:21.000000000,,26,39,4,9645,e26f553d6e0ac61051db51c48e33708290892101,19,6,3,1,1711,Yun Mao,yunmao,"Refactor libvirt disk config generation.

Refactor to reduce duplicated code in disk config generation.

Change-Id: I27736bb794030dad52f64f83cb7e503c42133567
"
openstack%2Fneutron~master~I9d42b3aee4b51edbc0b80d8f8372f65eb47df9af,openstack/neutron,master,bp/update-ryu-plugin-for-v2,I9d42b3aee4b51edbc0b80d8f8372f65eb47df9af,Ryu plugin support for v2 Quantum API,MERGED,2012-07-20 11:29:26.000000000,2012-07-20 11:29:26.000000000,2012-07-20 11:29:26.000000000,165,76,1,9756,f3e4b701fd9158cd7c167d9f188bfb71fa319671,15,7,4,6,4726,Yoshihiro Kaneko,ykaneko0929,"Ryu plugin support for v2 Quantum API

blueprint update-ryu-plugin-for-v2

Ryu plugin using the v2 Quantum API.

Change-Id: I9d42b3aee4b51edbc0b80d8f8372f65eb47df9af
"
openstack%2Fnova~master~I0e0560f5fcbc361b60ff1284e7369997dd770fd9,openstack/nova,master,bug/914484,I0e0560f5fcbc361b60ff1284e7369997dd770fd9,Attach ISO as separate disk if given proper instruction.,MERGED,2012-07-13 21:00:11.000000000,2012-07-20 09:32:25.000000000,2012-07-13 21:21:56.000000000,9,0,0,9791,b63a3e8cbd8fe57d0be119368bf47964543270c2,6,3,1,1,209,Josh Kearney,jk0,"Attach ISO as separate disk if given proper instruction.

This gives the option to attach the ISO as a separate drive, like we do in
XenServer, and boot from that instead of replacing the root drive.

Fixes bug 914484.

Change-Id: I0e0560f5fcbc361b60ff1284e7369997dd770fd9
"
openstack%2Fnova~master~I45be17a2217aefe9b81c1ce590feb49cf61bdbb0,openstack/nova,master,floating_ip_task_status,I45be17a2217aefe9b81c1ce590feb49cf61bdbb0,Set instance task_state during floating IP association.,ABANDONED,2012-07-11 20:19:14.000000000,2012-07-20 06:03:05.000000000,,41,0,0,9665,8d42182ec81bcd032a33ec5a1cd7afcfd04de1f8,13,6,2,2,1816,Gabriel Hurley,gabriel-hurley,"Set instance task_state during floating IP association.

To provide more meaningful feedback to an end user, set the
instance task state to task_states.NETWORKING when the API
call is received, and set it back to None after the RPC
call actually completes its task. This way anyone wondering
if the floating IP is actually in the process of being associated
can query the instance and find out, and interfaces like Horizon
can check for updates while in this intermediate state.

Change-Id: I45be17a2217aefe9b81c1ce590feb49cf61bdbb0
"
openstack%2Fnova~master~I000fc0d4cb04149373ba1b4f286ff19bb2d20925,openstack/nova,master,master,I000fc0d4cb04149373ba1b4f286ff19bb2d20925,Image folder naming convention in libvirt driver.,ABANDONED,2012-07-12 10:00:28.000000000,2012-07-20 06:03:04.000000000,,29,29,0,9707,3f9d3ddf10e6f4620abd51d162c010d1439191a0,15,7,3,2,1782,Kravchenko Pavel,kravchenko-pavel,"Image folder naming convention in libvirt driver.

Today libvirt driver in Nova names instance folders according to instance name (e.g., ""instance-001""), which is not unique.
Using the uuid of the instance instead will make it much easier to handle several scenarios,
including migration (verify availability of the instance on the target node),
as well as instance rebuild for HA (for similar purpose, when shared storage is in place).

The fix is mainly replacing instance['name'] with instance['uuid'] in a bunch of places in libvirt/driver.py.

Opened bug: https://bugs.launchpad.net/nova/+bug/1023865

Change-Id: I000fc0d4cb04149373ba1b4f286ff19bb2d20925
"
openstack%2Fdevstack~master~Idc9578b0e7f66efea76c80c2a1e28763d5542c4c,openstack/devstack,master,bug/1015535,Idc9578b0e7f66efea76c80c2a1e28763d5542c4c,Add the function of stopping a specific service to unstack.sh.,ABANDONED,2012-06-28 06:37:38.000000000,2012-07-20 06:03:03.000000000,,99,32,6,9097,dde5135a10451bdb5e6d5a3b6e0f870d8b4da1cd,8,3,3,2,2861,Vincent Hou,houshengbo,"Add the function of stopping a specific service to unstack.sh.

Fixes Bug1015535.

Change-Id: Idc9578b0e7f66efea76c80c2a1e28763d5542c4c
"
openstack%2Fswift~master~I5ab3184af083cf6bf72d11c3d2c2c5a02018cee4,openstack/swift,master,,I5ab3184af083cf6bf72d11c3d2c2c5a02018cee4,Updates keystoneauth to support ACL's w/ user_id.,ABANDONED,2012-07-05 18:39:24.000000000,2012-07-20 06:03:02.000000000,,30,18,0,9394,288166e682cf1f55de2b1767e4911ee061c0bdf0,3,1,1,2,360,Dan Prince,dan-prince,"Updates keystoneauth to support ACL's w/ user_id.

Updates the Swift keystoneauth middleware so that it supports individual
ACL permissions with tenant_id:user_id.

The motivation for this change is to avoid hard coding usernames
in swift object permissions. I'd like to be able to use ID's
for both user and tenant.

Adds test case to cover tenant_id:user_id case.

Fixes LP Bug #1020709.

Change-Id: I5ab3184af083cf6bf72d11c3d2c2c5a02018cee4
"
openstack%2Fheat~master~Ie17bb88c331bdb4354d0abb24346ab80f13cd323,openstack/heat,master,master,Ie17bb88c331bdb4354d0abb24346ab80f13cd323,Optimize filter context,MERGED,2012-07-20 04:31:15.000000000,2012-07-20 04:31:15.000000000,2012-07-20 04:31:15.000000000,17,7,0,10039,06705da563935a5097a3a502ede1c349e14656ac,5,2,1,3,2834,Steven Dake,sdake,"Optimize filter context

Just use a direct filter factory for ContextMiddleware

Change-Id: Ie17bb88c331bdb4354d0abb24346ab80f13cd323
Signed-off-by: Steven Dake <sdake@redhat.com>
"
openstack%2Fnova~master~Ia364496a996870d754094915ea0501ff19052037,openstack/nova,master,bug/1026709,Ia364496a996870d754094915ea0501ff19052037,Fix SQL deadlock in quota reservations,MERGED,2012-07-19 17:21:31.000000000,2012-07-19 22:47:00.000000000,2012-07-19 22:46:59.000000000,30,33,3,10026,b244f6fde2e4b85a01a8e0a340d12a1fa9073236,16,5,2,3,100,Johannes Erdfelt,johannes.erdfelt,"Fix SQL deadlock in quota reservations

Fixes bug 1026709

The code in quota_reserve acquires SQL locks in a different order than
the code in reservation_commit/reservation_rollback. This can result in
an SQL deadlock under heavy load. Due to an (unrelated) bug in
SQLAlchemy, this can result in this exception:

ResourceClosedError: This result object does not return rows. It has
been closed automatically.

This patch reorganizes the code to always fetch (and thusly lock) the
quota_usages table before the reservations table.

Change-Id: Ia364496a996870d754094915ea0501ff19052037
"
openstack%2Fpython-glanceclient~master~Ide7247ba444b60179d9c76c43dfaa43c025b69c9,openstack/python-glanceclient,master,master,Ide7247ba444b60179d9c76c43dfaa43c025b69c9,Relax prettytable dependency to v0.6.X from v0.6,MERGED,2012-07-17 22:30:05.000000000,2012-07-19 21:26:04.000000000,2012-07-19 21:26:04.000000000,1,1,0,9942,c201f24d5ad0a4ad008921664d956b7d0ac2dd61,5,2,1,1,1132,Brian Waldon,bcwaldon,"Relax prettytable dependency to v0.6.X from v0.6

Change-Id: Ide7247ba444b60179d9c76c43dfaa43c025b69c9
"
openstack%2Fpython-glanceclient~master~Ifa7874d88360e03b5c8aa95bfb9d5e6dc6dc927e,openstack/python-glanceclient,master,bug/1024614,Ifa7874d88360e03b5c8aa95bfb9d5e6dc6dc927e,Add pagination to v1 image-list,MERGED,2012-07-14 04:48:15.000000000,2012-07-19 20:57:58.000000000,2012-07-19 20:57:58.000000000,151,38,0,9816,0f628b19cbbe53ea29de02f4ae84bc893138820f,10,4,2,5,1132,Brian Waldon,bcwaldon,"Add pagination to v1 image-list

* Use recursive generator function to make subsequent requests
  to the v1 detailed images resource
* 'limit' continues to act as the absolute limit of images to return
  from a list call
* 'page_size' indicates how many images to ask for in each subsequent
  pagination request
* Expose --page-size through the cli
* Convert v1 images tests to use strict url comparison
* Drop strict_url_check from FakeAPI kwargs - now the functionality
  is always active and tests must directly match fixture urls
* Fix bug 1024614

Change-Id: Ifa7874d88360e03b5c8aa95bfb9d5e6dc6dc927e
"
openstack%2Fpython-glanceclient~master~I2d36e3cdd45b26d7c7c27ba050bf6a4b5765df6c,openstack/python-glanceclient,master,body-iterator,I2d36e3cdd45b26d7c7c27ba050bf6a4b5765df6c,Wrap image data in iterator,MERGED,2012-07-12 02:39:36.000000000,2012-07-19 20:19:30.000000000,2012-07-19 20:19:30.000000000,34,6,1,9697,da360462a54501178753571cdfec800e899f38ae,13,3,2,3,1132,Brian Waldon,bcwaldon,"Wrap image data in iterator

This is establishing the API for a future optimization. We want to
be able to offer true socket-level caching, but can't do that with
httplib2 right now. For now, we will just fake the optimization
by returning an iterator over the image body, which happens to already
be fully loaded into a string.

Change-Id: I2d36e3cdd45b26d7c7c27ba050bf6a4b5765df6c
"
openstack%2Fnova~master~I8a7cd5fc4fe0effd436e91a6c481df7b0d5a8b01,openstack/nova,master,,I8a7cd5fc4fe0effd436e91a6c481df7b0d5a8b01,Static FaultWrapper status_to_type map.,MERGED,2012-07-19 10:51:55.000000000,2012-07-19 17:44:22.000000000,2012-07-19 17:44:21.000000000,10,7,0,10012,7d8936cc802ce28a476e30a6b94ab23881580b48,8,5,1,1,2284,Eoghan Glynn,eglynn,"Static FaultWrapper status_to_type map.

Avoid maintaining needless copies of this dict, by instantiating
lazily once and only once.

This approach will bring master into sync with the corresponding
patch proposed to stable/essex:

  https://review.openstack.org/9446

Change-Id: I8a7cd5fc4fe0effd436e91a6c481df7b0d5a8b01
"
openstack%2Fkeystone~stable%2Fessex~I264714fe82b727e3e0f5273bcb781a580a3f3826,openstack/keystone,stable/essex,bug/974199,I264714fe82b727e3e0f5273bcb781a580a3f3826,cleanup dependent data upon user/tenant deletion,MERGED,2012-05-16 12:05:18.000000000,2012-07-19 17:39:55.000000000,2012-07-19 17:39:55.000000000,57,0,0,7482,0b95c3cf66659a828de055b8d026c11e333cd8c8,34,7,5,3,2340,Ionut Artarisi,mapleoin,"cleanup dependent data upon user/tenant deletion

fixes bug 974199
fixes bug 973243

* upon deletion of tenant also delete user tenant relations
* upon deletion of tenant or user also delete corresponding metadata
* add foreign keys in metadata to ensure consistency

see also: https://bugs.launchpad.net/keystone/+bug/959294/comments/16

Change-Id: I264714fe82b727e3e0f5273bcb781a580a3f3826
"
openstack%2Fkeystone~master~Icfd5c39c322ed6e73148c7f5ae03f704a3aa160e,openstack/keystone,master,bug/1017765,Icfd5c39c322ed6e73148c7f5ae03f704a3aa160e,Sync jsonutils from openstack-common,MERGED,2012-07-19 09:44:09.000000000,2012-07-19 17:39:53.000000000,2012-07-19 17:39:53.000000000,8,2,0,10009,5adb018aaeaf6c05478cae72fe3f97e1b20e0935,7,4,1,1,4460,Vincent Untz,vuntz,"Sync jsonutils from openstack-common

This makes keystone work with recent versions of anyjson.

Changes from openstack-common:

    commit ce3071437d1871f77c4d8573cbe5f4ea8c817650
    Author: Russell Bryant <rbryant@redhat.com>
    Date:   Mon Jul 16 10:30:25 2012 -0400

        Use strtime() in to_primitive() for datetime objs.

        This patch updates jsonutils.to_primitive() to use timeutils.strtime()
        to convert a datimetime object to a string instead of just using str().
        This ensures that we can easily convert the string back to a datetime
        using timeutils.parse_strtime().

        Required for the nova blueprint no-db-messaging.

        Change-Id: I725b333695930e12e2832378102514326fec639c

    commit 4c9d439ef24f5afdd74aa9153aa8fc772051e6cb
    Author: Tim Daly Jr <timjr@yahoo-inc.com>
    Date:   Tue Jun 26 02:48:42 2012 +0000

        Add 'filedecoder' method to the jsonutils wrapper module.

        Fixes bug #1017765

        After version 3.3.2, the anyjson library will throw a KeyError if
        filedecoder isn't present.  The filedecoder is just like the decoder
        except it takes a file instead of a string, like json.load() instead
        of json.loads().

        Change-Id: I7bd012a7b4afa9b1ec987c3e6393cc922b5dadff

Change-Id: Icfd5c39c322ed6e73148c7f5ae03f704a3aa160e
"
openstack%2Fkeystone~master~I63d789b15361c74d11531646c30fd45f111e236c,openstack/keystone,master,master,I63d789b15361c74d11531646c30fd45f111e236c,Fix the wrong infomation in keystone-manage.rst,MERGED,2012-07-19 01:48:46.000000000,2012-07-19 17:37:32.000000000,2012-07-19 17:37:31.000000000,3,3,0,9999,d06159992899f0f85917c0f7cc0d9dcaf6b07c93,8,5,1,1,2575,Wang Long,wanglong,"Fix the wrong infomation in keystone-manage.rst

Change-Id: I63d789b15361c74d11531646c30fd45f111e236c
"
openstack%2Fkeystone~master~Iebf31ccbdeff274b2c8f265911d3411963dd4844,openstack/keystone,master,bug/1016056,Iebf31ccbdeff274b2c8f265911d3411963dd4844,Import ec2 credentials from old keystone db,MERGED,2012-06-21 14:16:58.000000000,2012-07-19 17:37:04.000000000,2012-07-19 17:37:03.000000000,19,0,6,8802,ec363aca96d4154118ae14b108fcad2ff0917d92,29,7,6,1,1742,hovyakov,hovyakov,"Import ec2 credentials from old keystone db

Fix bug #1016056

Change-Id: Iebf31ccbdeff274b2c8f265911d3411963dd4844
"
openstack%2Foslo-incubator~master~Iacf01633eace4af4582a7f92f4b6742f34c9ae37,openstack/oslo-incubator,master,master,Iacf01633eace4af4582a7f92f4b6742f34c9ae37,"Correct ""if"" misspellings.",ABANDONED,2012-07-19 17:34:03.000000000,2012-07-19 17:34:03.000000000,,2,2,0,10027,a83fcee303bf05f6f2c976ec62b5978d7139bd5d,2,1,1,1,209,Josh Kearney,jk0,"Correct ""if"" misspellings.

Change-Id: Iacf01633eace4af4582a7f92f4b6742f34c9ae37
"
openstack%2Fkeystone~master~If0a7704ff578162d6b7fa8b68c0e0ed37e72cb73,openstack/keystone,master,bug/1004114,If0a7704ff578162d6b7fa8b68c0e0ed37e72cb73,Debug output may include passwords (bug 1004114),MERGED,2012-07-17 21:24:32.000000000,2012-07-19 17:31:33.000000000,2012-07-19 17:31:33.000000000,1,0,0,9935,0abf6ba254638471a367cfccef65a1b9e0a70ef2,7,4,1,1,4,Dolph Mathews,dolph,"Debug output may include passwords (bug 1004114)

Change-Id: If0a7704ff578162d6b7fa8b68c0e0ed37e72cb73
"
openstack%2Fheat~master~I8845b2b33a5bae30aae66c06af01c1a27c990305,openstack/heat,master,master,I8845b2b33a5bae30aae66c06af01c1a27c990305,Allow nested stacks to be retrieved by name,MERGED,2012-07-19 17:20:32.000000000,2012-07-19 17:20:32.000000000,2012-07-19 17:20:32.000000000,10,3,1,10004,be3c066ab87cc6e1a2ca8c097eeccd9217d7329a,9,2,2,2,4715,Angus Salkeld,asalkeld,"Allow nested stacks to be retrieved by name

When getting the stack by name in the metadata server
we don't know the owner_id so allow retrieval just by name.

I suspect this will be a short term solution until we get proper
stack names.

Change-Id: I8845b2b33a5bae30aae66c06af01c1a27c990305
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fnova~master~I91ea24747eba9f0f0090f923c5728ba2b85eb141,openstack/nova,master,FilterTest,I91ea24747eba9f0f0090f923c5728ba2b85eb141,Update FilterSchedulerTestCase docstring,MERGED,2012-07-18 21:08:35.000000000,2012-07-19 17:19:55.000000000,2012-07-19 17:19:54.000000000,2,2,0,9986,cd5767e70c703e1024c816da1ef962e8e21650ae,8,5,1,1,1849,Joe Gordon,jogo,"Update FilterSchedulerTestCase docstring

Change-Id: I91ea24747eba9f0f0090f923c5728ba2b85eb141
"
openstack%2Fneutron~master~I8501d10a798cc90c027bb981c5a3ca5a0ef6e622,openstack/neutron,master,remove_test,I8501d10a798cc90c027bb981c5a3ca5a0ef6e622,Assume that subclass validates value of UUID,MERGED,2012-07-19 17:16:15.000000000,2012-07-19 17:16:15.000000000,2012-07-19 17:16:15.000000000,0,21,1,10011,566eb8312c35dbfb3207f4eccf0c0a9b74dd528b,11,4,2,1,1653,garyk,garyk,"Assume that subclass validates value of UUID

Change-Id: I8501d10a798cc90c027bb981c5a3ca5a0ef6e622
"
openstack%2Fneutron~master~I86e6a3add56a0a2941031a1248f1696667ac56b8,openstack/neutron,master,bug/1025526,I86e6a3add56a0a2941031a1248f1696667ac56b8,"fix bug lp:1025526,update iniparser.py to accept  empty value.",MERGED,2012-07-19 17:13:56.000000000,2012-07-19 17:13:56.000000000,2012-07-19 17:13:56.000000000,42,44,3,9892,5fcf6ccd952f74d77f6735831c778d33dfcd6136,26,7,5,11,1313,Yaguang Tang,heut2008,"fix bug lp:1025526,update iniparser.py to accept  empty value.

also,this patch turn off pep8 E125 check,this for now seems to
be unnecessary,it check continuous line split.and update the
latest openstack-common https://review.openstack.org/#/c/9201
which has fix pep8 1.3 issue except for E125 check.

Change-Id: I86e6a3add56a0a2941031a1248f1696667ac56b8
"
openstack%2Fkeystone~master~I55cd5daf34f4f57d4163be403a7a75c5d22baa62,openstack/keystone,master,bug/966251,I55cd5daf34f4f57d4163be403a7a75c5d22baa62,Added user name validation. Fixes bug 966251.,MERGED,2012-07-19 07:49:34.000000000,2012-07-19 17:08:00.000000000,2012-07-19 17:08:00.000000000,77,1,2,10006,28061817edc1950bfc1ad61f69baaacaa7a89468,7,4,1,6,1633,unmesh-gurjar,unmesh-gurjar,"Added user name validation. Fixes bug 966251.

1. Verified name length while creating/updating user.
2. Disallowed blank user name in create/update.
3. Added unit test coverage.

Change-Id: I55cd5daf34f4f57d4163be403a7a75c5d22baa62
"
openstack%2Fglance~master~I9fbf2c76666bfc0b9227a6a6c4d824367526e56a,openstack/glance,master,api-v2-checked-iter,I9fbf2c76666bfc0b9227a6a6c4d824367526e56a,Move checked_iter from v1 API glance.api.common,MERGED,2012-07-17 23:31:48.000000000,2012-07-19 17:07:49.000000000,2012-07-19 17:07:48.000000000,87,62,0,9946,bd018d68bd88ab00b806943981cac10644c10573,12,4,1,3,1132,Brian Waldon,bcwaldon,"Move checked_iter from v1 API glance.api.common

The checked_iter image streaming wrapper should be in a common
place so the v2 API code can use it as well. This moves it to
glance/api/common.py and gives it a slightly more descriptive
name 'size_checked_iter'.

Change-Id: I9fbf2c76666bfc0b9227a6a6c4d824367526e56a
"
openstack%2Fcinder~master~Ib139cae1e0f157f69f7d9ae7186c555538e4b1f5,openstack/cinder,master,ru-helper-scripts,Ib139cae1e0f157f69f7d9ae7186c555538e4b1f5,Remove some unused helper scripts,MERGED,2012-07-17 03:58:43.000000000,2012-07-19 17:03:09.000000000,2012-07-19 17:03:09.000000000,0,90,0,9886,8b6397bbf58a6c0da00500407790ed8547741771,8,2,1,2,1247,Mark McLoughlin,markmc,"Remove some unused helper scripts

openstack-config init script and clean-vlans scripts are only relevant
to nova.

Change-Id: Ib139cae1e0f157f69f7d9ae7186c555538e4b1f5
"
openstack%2Fglance~master~I4d49c821aeb3027b7f33babf6c4bafe00644f0c9,openstack/glance,master,bug/1026047,I4d49c821aeb3027b7f33babf6c4bafe00644f0c9,Increase wait time for test_unsupported_default_store,MERGED,2012-07-18 09:49:11.000000000,2012-07-19 17:02:58.000000000,2012-07-19 17:02:57.000000000,3,1,0,9958,79c298dc1b8fcec29916ea0e520835939e1f0c40,16,5,2,1,455,Stuart McLaren,stuart-mclaren,"Increase wait time for test_unsupported_default_store

Fix for LP Bug #1026047.

Allow unit test 'test_unsupported_default_store' to
successfully run on a slow machine.

Change-Id: I4d49c821aeb3027b7f33babf6c4bafe00644f0c9
"
openstack%2Fdevstack~master~I0aee8b806c61dff42400a3b8552b7c748e9c5adf,openstack/devstack,master,dhcp,I0aee8b806c61dff42400a3b8552b7c748e9c5adf,Ensure that dnsmasq is terminated when running unstack.sh,MERGED,2012-07-18 11:44:34.000000000,2012-07-19 17:02:55.000000000,2012-07-19 17:02:55.000000000,5,0,2,9962,722fe6732a2165bdf610d6dc10060a3285e534d7,11,4,2,1,1653,garyk,garyk,"Ensure that dnsmasq is terminated when running unstack.sh

If the Quantum dhcp-agent is enabled then we ensure that the dnsmasq
process is termated when running unstack.sh

Change-Id: I0aee8b806c61dff42400a3b8552b7c748e9c5adf
"
openstack%2Fcinder~master~I4e00ca816820cb51c0ab3d4d864766d981854939,openstack/cinder,master,ru-check-snapshots-enabled,I4e00ca816820cb51c0ab3d4d864766d981854939,"Remove unused get_{id,version}_from_href()",MERGED,2012-07-17 03:58:26.000000000,2012-07-19 16:57:18.000000000,2012-07-19 16:56:25.000000000,0,87,0,9882,23df2650371345f05f75208a9e35d7ca0b6421e4,10,3,1,2,1247,Mark McLoughlin,markmc,"Remove unused get_{id,version}_from_href()

The former is only used in the compute API in Nova to e.g. get
an image or flavor ID from a client supplied ref.

The latter is unused even in Nova since the removal of the 1.0
API.

Change-Id: I4e00ca816820cb51c0ab3d4d864766d981854939
"
openstack%2Fcinder~master~I223aca1a1c8e35c9339107e5c11bdd8a39968681,openstack/cinder,master,ru-check-snapshots-enabled,I223aca1a1c8e35c9339107e5c11bdd8a39968681,Remove unused metadata serialization,MERGED,2012-07-17 03:58:26.000000000,2012-07-19 16:57:18.000000000,2012-07-19 16:57:18.000000000,0,281,0,9881,b79ad1a950116b6eb0e0f7be48e9ca215681ee1e,11,3,1,3,1247,Mark McLoughlin,markmc,"Remove unused metadata serialization

Only used by the compute API in Nova for e.g. images and server
metadata.

Change-Id: I223aca1a1c8e35c9339107e5c11bdd8a39968681
"
openstack%2Fcinder~master~I065ca64e060acc0773189f1497fcc54041621f39,openstack/cinder,master,ru-overlimitfault,I065ca64e060acc0773189f1497fcc54041621f39,Remove unused OverLimitFault,MERGED,2012-07-17 03:58:48.000000000,2012-07-19 16:56:14.000000000,2012-07-19 16:56:14.000000000,0,47,0,9887,fbf1ee2069450eb6b55d18fafea6aa44874219c9,14,3,1,1,1247,Mark McLoughlin,markmc,"Remove unused OverLimitFault

Only used by compute limits in Nova.

Change-Id: I065ca64e060acc0773189f1497fcc54041621f39
"
openstack%2Fcinder~master~I3ade99405736bf8ffb8891a8d53c02905501ae44,openstack/cinder,master,ru-wrap-errors,I3ade99405736bf8ffb8891a8d53c02905501ae44,Remove unused wrap_errors decorator,MERGED,2012-07-17 03:58:59.000000000,2012-07-19 16:54:49.000000000,2012-07-19 16:54:48.000000000,0,12,0,9889,c73d15d347ba5a973e257932ffb9d6012939e3a5,10,2,1,1,1247,Mark McLoughlin,markmc,"Remove unused wrap_errors decorator

Only used by rescue extension in nova.

Change-Id: I3ade99405736bf8ffb8891a8d53c02905501ae44
"
openstack%2Fdevstack~master~Id6b8d122be919d1b0041288e81b735af21958ff7,openstack/devstack,master,,Id6b8d122be919d1b0041288e81b735af21958ff7,2.5x increase in default volume backing file size,MERGED,2012-07-15 09:31:31.000000000,2012-07-19 16:54:40.000000000,2012-07-19 16:54:40.000000000,5,4,2,9837,9cb1776a9206dcc4279c9d7c3b587d246b54ae1c,23,7,3,3,2284,Eoghan Glynn,eglynn,"2.5x increase in default volume backing file size

The current default volume backing file size of ~2Gb seem unfeasibly
small and precludes running exercises that require multiple volumes
and/or snapshots to be created.

We increase this to ~5Gb.

Change-Id: Id6b8d122be919d1b0041288e81b735af21958ff7
"
openstack%2Fcinder~master~I3b2dfa33b4bd1523e13ddb5401bc0397df7466ef,openstack/cinder,master,ru-check-snapshots-enabled,I3b2dfa33b4bd1523e13ddb5401bc0397df7466ef,Remove unused raise_http_conflict_for_instance_invalid_state(),MERGED,2012-07-17 03:58:25.000000000,2012-07-19 16:53:43.000000000,2012-07-19 16:53:43.000000000,0,43,0,9880,03700f12f356a00c67fe3c301cc297c85e92c69e,15,3,1,2,1247,Mark McLoughlin,markmc,"Remove unused raise_http_conflict_for_instance_invalid_state()

Only used by the compute API in Nova.

Change-Id: I3b2dfa33b4bd1523e13ddb5401bc0397df7466ef
"
openstack%2Fcinder~master~I2339a36b45166a24825882e3e35dd00a2dfb6b27,openstack/cinder,master,ru-enabled-apis,I2339a36b45166a24825882e3e35dd00a2dfb6b27,Remove unused enabled_apis flag,MERGED,2012-07-17 03:58:32.000000000,2012-07-19 16:52:28.000000000,2012-07-19 16:52:28.000000000,4,10,0,9884,ed7e05b00861e1fa3fbc21c4562a17b97d1f16f9,10,3,1,3,1247,Mark McLoughlin,markmc,"Remove unused enabled_apis flag

This is only useful in the context of Nova where there are multiple
APIs.

Change-Id: I2339a36b45166a24825882e3e35dd00a2dfb6b27
"
openstack%2Fcinder~master~I0830319f4e2011b87180abcc24354c935bea8d16,openstack/cinder,master,bp/common-rpc,I0830319f4e2011b87180abcc24354c935bea8d16,Add missing gettextutils from openstack-common.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:41:46.000000000,34,1,0,9910,84b7025547455d1f83d0fc20c7b9de0a3291f9e6,23,6,4,2,1247,Mark McLoughlin,markmc,"Add missing gettextutils from openstack-common.

This patch adds gettextutils from openstack-common to cinder.  It is used
by rpc, so some parts of rpc are broken without this patch.

Change-Id: I0830319f4e2011b87180abcc24354c935bea8d16
"
openstack%2Fcinder~master~I7354ca51a02aec9c709cf33f77d4abc46acc2742,openstack/cinder,master,bp/common-rpc,I7354ca51a02aec9c709cf33f77d4abc46acc2742,Use save_and_reraise_exception() from common.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:41:59.000000000,66,40,0,9909,1b3cbc537ee1b69940cfb3a5d5b408db13df266d,22,6,4,6,1247,Mark McLoughlin,markmc,"Use save_and_reraise_exception() from common.

This patch common.excutils from openstack-common, which includes
save_and_reraise_exception().  The patch also converts the code
base to use it from there instead of cinder.utils and then removes
it from cinder.utils.

The initial motivation for this was removing another cinder dependency
from cinder.rpc so that it can eventually be moved to openstack-common.

Change-Id: I7354ca51a02aec9c709cf33f77d4abc46acc2742
"
openstack%2Fcinder~master~Id128126e0bc064a2a1c710c6bd32fb3d137dc7f6,openstack/cinder,master,bp/common-rpc,Id128126e0bc064a2a1c710c6bd32fb3d137dc7f6,Use openstack.common.cfg.CONF.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:42:27.000000000,14,39,0,9907,0f362edeb03177c12a65b9587d13df7aac76a2f7,23,5,4,11,1247,Mark McLoughlin,markmc,"Use openstack.common.cfg.CONF.

Part of blueprint common-rpc.

This patch makes the rpc code use the global config object from
openstack-common.  Based on some recent discussions on the mailing list,
this may not be the final way configuration handling is done here, but
it is certainly better than the register_opts() hack that is removed by
this patch.

Change-Id: Id128126e0bc064a2a1c710c6bd32fb3d137dc7f6
"
openstack%2Fcinder~master~I17ca4b691bb8d4f18e618632a2381dd12d31852a,openstack/cinder,master,bp/common-rpc,I17ca4b691bb8d4f18e618632a2381dd12d31852a,Remove cinder.log usage from cinder.rpc.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:44:28.000000000,4,4,0,9905,8f1d99d6942538622c737b791007cecdf9248d8a,26,5,4,3,1247,Mark McLoughlin,markmc,"Remove cinder.log usage from cinder.rpc.

Part of blueprint common-rpc.

This patch removes the usage of cinder.log from cinder.rpc.  This is
necessary before cinder.rpc can be moved to openstack-common.  The rpc
logging was not using any of the extra features provided in cinder.log as
far as I can tell, so the changes are very simple.

This is the final dependency.  After this change, the rpc code
can be moved to openstack-common without any changes.

Change-Id: I17ca4b691bb8d4f18e618632a2381dd12d31852a
"
openstack%2Fcinder~master~I9e6ec0d22e55d3d4f38e12e0fdd2df745da496f5,openstack/cinder,master,bp/common-rpc,I9e6ec0d22e55d3d4f38e12e0fdd2df745da496f5,Remove cinder.context dependency from cinder.rpc,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:46:32.000000000,51,8,0,9904,d916746ae9f656f6feda9d806c1ea45853e2efa3,26,5,4,3,1247,Mark McLoughlin,markmc,"Remove cinder.context dependency from cinder.rpc

Part of blueprint common-rpc.

This patch removes the usage of cinder.context from cinder.rpc.  Everything
needed to implement RpcContext now exists within cinder.rpc.

Change-Id: I9e6ec0d22e55d3d4f38e12e0fdd2df745da496f5
"
openstack%2Fcinder~master~I474c3660e1cbd3ab663571b1e088c84deb905e0b,openstack/cinder,master,bp/common-rpc,I474c3660e1cbd3ab663571b1e088c84deb905e0b,Localize rpc options to rpc code.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:47:03.000000000,39,105,0,9903,2daf95464f18e57edd0409413142f18b11a7745b,23,6,3,5,1247,Mark McLoughlin,markmc,"Localize rpc options to rpc code.

Part of blueprint common-rpc.

Move rpc options from cinder.flags into cinder.rpc code.  This is necessary
before the rpc code can be moved to openstack-common.

Change-Id: I474c3660e1cbd3ab663571b1e088c84deb905e0b
"
openstack%2Fcinder~master~Ibd0292936f9afc77aeb5d040660bfa857861eed1,openstack/cinder,master,bp/common-rpc,Ibd0292936f9afc77aeb5d040660bfa857861eed1,Add version to scheduler rpc API.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:48:08.000000000,192,76,0,9902,863b6afe12fb409f4866299bb7c975db7c2ad72e,23,7,3,6,1247,Mark McLoughlin,markmc,"Add version to scheduler rpc API.

Part of blueprint versioned-rpc-apis.

One side effect of this change was that cinder.scheduler.api was removed
in favor of cinder.scheduler.rpcapi.  In this case, the api was just a
direct wrapper around rpc usage.  For other APIs, I've been following
the pattern that the rpcapi module provides the rpc client wrapper, and
if any other client-side logic is needed, that's where an api module is
used.

Change-Id: Ibd0292936f9afc77aeb5d040660bfa857861eed1
"
openstack%2Fcinder~master~I58c7b2100b594f5f261c089d674f449a1a7d067b,openstack/cinder,master,bp/common-rpc,I58c7b2100b594f5f261c089d674f449a1a7d067b,Sync cfg and iniparser from openstack-common.,MERGED,2012-07-16 21:13:10.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:51:25.000000000,77,36,0,9870,ec6e9e4fde537eedb25946734b07297ba6c63c94,21,5,3,2,1247,Mark McLoughlin,markmc,"Sync cfg and iniparser from openstack-common.

Cherry picks af387b9, cb6bf34 and c6c29ab from Nova.

This change pulls in the latest version of the cfg module from
openstack-common includes some formatting changes, spelling fixes,
support for bol/eol spaces in values and support for deprecated
options.

Change-Id: I58c7b2100b594f5f261c089d674f449a1a7d067b
"
openstack%2Fcinder~master~If213a4a5da1faf96aac82f34b18d1e0b061495c0,openstack/cinder,master,bp/common-rpc,If213a4a5da1faf96aac82f34b18d1e0b061495c0,Use cfg's new global CONF object,MERGED,2012-07-16 21:13:10.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:51:43.000000000,211,189,0,9869,e435bca7181240b3a4e4a9a81a21266ba9a6f3e7,22,5,3,11,1247,Mark McLoughlin,markmc,"Use cfg's new global CONF object

Cherry picks 00786bc from Nova.

Implements blueprint cfg-global-object

Replace cinder.flags.FLAGS with openstack.common.cfg.CONF.

In future, we can do a s/FLAGS/CONF/ across the codebase.

Change-Id: If213a4a5da1faf96aac82f34b18d1e0b061495c0
"
openstack%2Fcinder~master~I9c2f6bdbe8cd0c44417f75284131dbf3c126d1dd,openstack/cinder,master,bp/common-rpc,I9c2f6bdbe8cd0c44417f75284131dbf3c126d1dd,Use rpc from openstack-common.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:43.000000000,2012-07-19 16:40:16.000000000,1396,1749,0,9911,15f971de5bce79648f812209df0f82622a3711d0,22,5,4,36,1247,Mark McLoughlin,markmc,"Use rpc from openstack-common.

Final patch for blueprint common-rpc.

This patch removes cinder.rpc in favor of the copy in openstack-common.

Change-Id: I9c2f6bdbe8cd0c44417f75284131dbf3c126d1dd
"
openstack%2Fcinder~master~I4b16577f774194a628bf84d5352e63ec1f868698,openstack/cinder,master,bp/common-rpc,I4b16577f774194a628bf84d5352e63ec1f868698,Make use of openstack.common.jsonutils.,MERGED,2012-07-17 04:19:33.000000000,2012-07-19 16:49:14.000000000,2012-07-19 16:49:14.000000000,156,196,0,9890,64306e87b38483c00e5055f246294f081e1f0a5b,23,6,4,7,1247,Mark McLoughlin,markmc,"Make use of openstack.common.jsonutils.

This patch imports jsonutils from openstack-common.  It removes the
equivalent code from cinder.utils and then converts the code base to use
jsonutils.  The primary motivator for this change was to remove the rest
of the dependencies from cinder.rpc on cinder.utils.

Change-Id: I4b16577f774194a628bf84d5352e63ec1f868698
"
openstack%2Fpbr~master~If4cb36c013f254180ce014355ba3de33391b993c,openstack/pbr,master,10022,If4cb36c013f254180ce014355ba3de33391b993c,"Revert ""Don't use pbr for pbr.""",MERGED,2012-07-19 16:23:57.000000000,2012-07-19 16:37:01.000000000,2012-07-19 16:37:01.000000000,1,17,0,10024,219c115af591d3d78676681526565fc6b424989a,6,2,1,1,2,Monty Taylor,mordred,"Revert ""Don't use pbr for pbr.""

This reverts commit 5e4b10cf1ec7b499718dd826c230e4fbc6b27fe6

Change-Id: If4cb36c013f254180ce014355ba3de33391b993c
"
openstack%2Fpbr~master~I419264f9bd62c205e012195e697910425c8bb322,openstack/pbr,master,,I419264f9bd62c205e012195e697910425c8bb322,"Revert ""Don't use pbr for pbr.""",ABANDONED,2012-07-19 16:20:48.000000000,2012-07-19 16:25:01.000000000,,4,14,0,10022,419264f9bd62c205e012195e697910425c8bb322,2,1,1,1,2,Monty Taylor,mordred,"Revert ""Don't use pbr for pbr.""

This reverts commit 5e4b10cf1ec7b499718dd826c230e4fbc6b27fe6"
openstack%2Fpbr~master~Icec186793b2314b90ac57efa4b2aa8873381bfff,openstack/pbr,master,,Icec186793b2314b90ac57efa4b2aa8873381bfff,"Revert ""Move dependency processing to version hook.""",MERGED,2012-07-19 16:16:59.000000000,2012-07-19 16:22:05.000000000,2012-07-19 16:22:05.000000000,6,13,0,10021,cec186793b2314b90ac57efa4b2aa8873381bfff,5,2,1,2,2,Monty Taylor,mordred,"Revert ""Move dependency processing to version hook.""

This reverts commit 5390ac82aa1b9704065d52b397cb5d383f47654f"
openstack%2Fpbr~master~Ib2b8e77662286fd4f86e9ccc55680cccc8ce349b,openstack/pbr,master,master,Ib2b8e77662286fd4f86e9ccc55680cccc8ce349b,Don't use pbr for pbr.,MERGED,2012-07-18 13:52:24.000000000,2012-07-19 16:20:48.000000000,2012-07-18 14:03:02.000000000,14,4,0,9964,5e4b10cf1ec7b499718dd826c230e4fbc6b27fe6,8,2,2,1,2,Monty Taylor,mordred,"Don't use pbr for pbr.

It turns out, that when you setup_requires pbr from another package, it gets
installed via easy_install instead of via pip. easy_install, craptastic
pile of vomit and excrement that it is, can't manage to process the entry
points in the package it's installing while installing it, so you always
wind up with pbr version=="""". Sigh.

Change-Id: Ib2b8e77662286fd4f86e9ccc55680cccc8ce349b
"
openstack%2Fpbr~master~I24bd04799eb82ef24c74f6e1540d020c89e2b7f2,openstack/pbr,master,master,I24bd04799eb82ef24c74f6e1540d020c89e2b7f2,Removed declared depends from pbr.,MERGED,2012-07-19 16:16:39.000000000,2012-07-19 16:20:44.000000000,2012-07-19 16:20:44.000000000,0,4,0,10020,4935321bf509ede8b03dd7950bdaebdc339648e3,5,2,1,1,2,Monty Taylor,mordred,"Removed declared depends from pbr.

It messes up the injection of entry points.

Change-Id: I24bd04799eb82ef24c74f6e1540d020c89e2b7f2
"
openstack%2Fpbr~master~I2abc9fbdb4dc86032a3d6653869ac93a6aa15883,openstack/pbr,master,master,I2abc9fbdb4dc86032a3d6653869ac93a6aa15883,Move dependency processing to version hook.,MERGED,2012-07-18 19:02:17.000000000,2012-07-19 16:16:59.000000000,2012-07-18 19:14:32.000000000,13,6,0,9973,5390ac82aa1b9704065d52b397cb5d383f47654f,8,2,2,2,2,Monty Taylor,mordred,"Move dependency processing to version hook.

Change-Id: I2abc9fbdb4dc86032a3d6653869ac93a6aa15883
"
openstack%2Fcinder~master~I28c1a095823c2f04f30c32724144297a2d67fba4,openstack/cinder,master,bp/cinder-common-jsonutils,I28c1a095823c2f04f30c32724144297a2d67fba4,Convert Cinder to use openstack-common jsonutils.,MERGED,2012-07-17 13:12:18.000000000,2012-07-19 14:57:40.000000000,2012-07-19 14:57:39.000000000,39,62,10,9912,2f7feffc64ac435846fb9ee6c467ce128f66b20d,15,6,4,12,2759,Huang Zhiteng,zhiteng-huang,"Convert Cinder to use openstack-common jsonutils.

This patch replaces json handling code in Cinder with openstack-common
jsonutils.  Also remove some unused imports.

Implement blueprint cinder-common-jsonutils

Change-Id: I28c1a095823c2f04f30c32724144297a2d67fba4
Reviewed-on: https://review.openstack.org/9912
Reviewed-by: Mark McLoughlin <markmc@redhat.com>
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~I0370293807f0282e1dbdd59246f70be031e888a9,openstack/cinder,master,bp/common-rpc,I0370293807f0282e1dbdd59246f70be031e888a9,Add missing ack to impl_qpid.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 14:57:40.000000000,2012-07-19 14:57:39.000000000,10,1,0,9908,a5d16cfb8d6d953d2a9689ddc855cade604e1e9b,14,5,3,2,1247,Mark McLoughlin,markmc,"Add missing ack to impl_qpid.

Fix bug 1012374.

Johannes Erdfelt pointed out that impl_qpid wasn't acking messages that
it received.  This turned out to be a nasty oversight, resulting in
unbounded message queue growth inside of the python-qpid library.  This
fixes it.

Change-Id: I0370293807f0282e1dbdd59246f70be031e888a9
Reviewed-on: https://review.openstack.org/9908
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~If92675beecff5471b416a929c161b810e3c71939,openstack/cinder,master,bp/common-rpc,If92675beecff5471b416a929c161b810e3c71939,Move queue_get_for() from db to rpc.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 14:57:40.000000000,2012-07-19 14:57:39.000000000,29,40,0,9906,22a9da3cc4b0cc17d8d3483b95dc57ed43bf0ecb,10,5,3,7,1247,Mark McLoughlin,markmc,"Move queue_get_for() from db to rpc.

Part of blueprint common-rpc.

The function queue_get_for() is a utility function used by various
consumers of the rpc API.  This function lived in the db API, but never
ended up using anything from the database.  This patch moves it into the
rpc API so that it can be used by other users of rpc once it moves into
openstack-common.

Change-Id: If92675beecff5471b416a929c161b810e3c71939
Reviewed-on: https://review.openstack.org/9906
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~Ie17fe855a75b5021b031902aa86031d8ddc06dfd,openstack/cinder,master,sync-cfg-changes,Ie17fe855a75b5021b031902aa86031d8ddc06dfd,Sync with latest version of openstack.common.cfg,MERGED,2012-07-16 21:13:10.000000000,2012-07-19 14:57:40.000000000,2012-07-19 14:57:39.000000000,90,18,0,9867,d211eba148f2ec401dadd62114b9a2ea2c95f11a,21,7,3,2,1247,Mark McLoughlin,markmc,"Sync with latest version of openstack.common.cfg

Cherry picks c1bf456 from Nova.

Changes since last sync:

 - Alphabetize imports in openstack/common/cfg.py
 - make reset() clear defaults and overrides
 - automatically create option groups
 - allow options to be marked as required
 - use a list comprehension instead of map()

Change-Id: Ie17fe855a75b5021b031902aa86031d8ddc06dfd
Reviewed-on: https://review.openstack.org/9867
Approved: James E. Blair <corvus@inaugust.com>
Reviewed-by: James E. Blair <corvus@inaugust.com>
Tested-by: James E. Blair <corvus@inaugust.com>
"
openstack%2Fcinder~master~I07bd82e9ff60c356123950e466caaffdfce79eba,openstack/cinder,master,bp/common-rpc,I07bd82e9ff60c356123950e466caaffdfce79eba,Add base support for rpc API versioning.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 14:57:39.000000000,2012-07-19 14:57:39.000000000,550,20,0,9901,14a30e0b829a24e21d9c547d2e3fd773b1eab675,11,5,2,11,1247,Mark McLoughlin,markmc,"Add base support for rpc API versioning.

Part of blueprint versioned-rpc-apis.

This commit includes the base support for versioned RPC APIs.  It
introduces the RpcProxy and RpcDispatcher classes that have common code
for handling versioning on the client and server sides, respectively.

RPC APIs will be converted one at a time using this infrastructure.

Change-Id: I07bd82e9ff60c356123950e466caaffdfce79eba
Reviewed-on: https://review.openstack.org/9901
Reviewed-by: Huang Zhiteng <zhiteng.huang@intel.com>
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~I06831a37f8c857bbfd0bce1b1c3aeda7d341a589,openstack/cinder,master,bp/common-rpc,I06831a37f8c857bbfd0bce1b1c3aeda7d341a589,Make kombu support optional for running unit tests.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 14:57:39.000000000,2012-07-19 14:57:38.000000000,77,17,0,9900,c044d3c1f6541b4f7d504e9375eb13efdd36e5a2,13,6,2,3,1247,Mark McLoughlin,markmc,"Make kombu support optional for running unit tests.

Fix bug 838386.

Previously, the unit tests required kombu to be installed to run.  This
patch makes it so the unit tests will still complete successfully, even
if kombu is not installed.

Change-Id: I06831a37f8c857bbfd0bce1b1c3aeda7d341a589
Reviewed-on: https://review.openstack.org/9900
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~I36ff7c05ab0467ad8506b56d561c532eadf8dff8,openstack/cinder,master,bp/common-rpc,I36ff7c05ab0467ad8506b56d561c532eadf8dff8,Stop using cinder.exception from cinder.rpc.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 14:57:39.000000000,2012-07-19 14:57:38.000000000,29,10,0,9899,9e4242c3865da976928ecd43ef82030ac8bfc8cf,13,6,2,3,1247,Mark McLoughlin,markmc,"Stop using cinder.exception from cinder.rpc.

This patch is a part of continuing to remove dependencies from cinder.rpc
on the rest of cinder.  One RPC related exception was defined in
cinder.exception, so that was moved to cinder.rpc.common where the rest of
them live.  These exceptions were changed to no longer use CinderException
as their base.  Instead, there is a new RPCException base.

One other change that should be reviewed closely is the removal of using
cinder.exception.wrap_exception() in cinder.rpc.amqp.  As far as I can tell,
this didn't actually do anything since nothing was being passed in to
wrap_exception().

Change-Id: I36ff7c05ab0467ad8506b56d561c532eadf8dff8
Reviewed-on: https://review.openstack.org/9899
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~I6211c32f585b1b5ff66d1a7a5f65dd25857d76f0,openstack/cinder,master,bp/common-rpc,I6211c32f585b1b5ff66d1a7a5f65dd25857d76f0,Remove unused synchronization decorator,MERGED,2012-07-17 03:58:54.000000000,2012-07-19 14:57:39.000000000,2012-07-19 14:57:38.000000000,0,547,0,9888,4ab214a35ff84f12d09713737aac801fb0256282,18,5,3,7,1247,Mark McLoughlin,markmc,"Remove unused synchronization decorator

This is only used on the compute and network side in Nova.

Change-Id: I6211c32f585b1b5ff66d1a7a5f65dd25857d76f0
Reviewed-on: https://review.openstack.org/9888
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~Ie2f4cd8b6f5fc66547a59d39aa3d5eb896b1ddf4,openstack/cinder,master,sync-cfg-changes,Ie2f4cd8b6f5fc66547a59d39aa3d5eb896b1ddf4,Remove 'cinder-manage config convert',MERGED,2012-07-16 21:13:10.000000000,2012-07-19 14:57:39.000000000,2012-07-19 14:57:38.000000000,0,396,0,9871,362576f268e87cb53eb5c5f3dbb46b1768d73dae,14,5,3,4,1247,Mark McLoughlin,markmc,"Remove 'cinder-manage config convert'

This convers the old flagfile style config files into the the
new .ini style config files. Since Cinder is new and it's first
release will only support .ini style files there's no need for
such a command.

Change-Id: Ie2f4cd8b6f5fc66547a59d39aa3d5eb896b1ddf4
Reviewed-on: https://review.openstack.org/9871
Reviewed-by: Huang Zhiteng <zhiteng.huang@intel.com>
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~I5e14dea25afd5bff03a39671b2d3b85481977bec,openstack/cinder,master,sync-cfg-changes,I5e14dea25afd5bff03a39671b2d3b85481977bec,Use cfg's new behavior of reset() clearing overrides,MERGED,2012-07-16 21:13:10.000000000,2012-07-19 14:57:39.000000000,2012-07-19 14:57:38.000000000,20,24,0,9868,f07d38bca4ca26edb6f68d4183656b2e87a6c7fc,11,5,2,4,1247,Mark McLoughlin,markmc,"Use cfg's new behavior of reset() clearing overrides

Cherry-picks b858108 from Nova.

Change-Id: I5e14dea25afd5bff03a39671b2d3b85481977bec
Reviewed-on: https://review.openstack.org/9868
Reviewed-by: Huang Zhiteng <zhiteng.huang@intel.com>
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fnova~master~Ieac171e1a2bce1f5542ae73f3d8f6b7a5ccfa8f7,openstack/nova,master,lookup_by_name,Ieac171e1a2bce1f5542ae73f3d8f6b7a5ccfa8f7,Use _lookup_by_name instead of _conn.lookupByName,MERGED,2012-07-12 19:53:48.000000000,2012-07-19 11:54:59.000000000,2012-07-19 11:54:58.000000000,7,7,0,9740,186d5636df4ebe063f61de0b34ad55739e0bc09a,14,8,1,1,1711,Yun Mao,yunmao,"Use _lookup_by_name instead of _conn.lookupByName

use the helper function instead of the libvirt call directly
to allow NovaExceptions instead of libvirt exceptions to be thrown.

Change-Id: Ieac171e1a2bce1f5542ae73f3d8f6b7a5ccfa8f7
"
openstack%2Fheat~master~Ice17c23997150db8c52c50767ed94fce8b182d4b,openstack/heat,master,master,Ice17c23997150db8c52c50767ed94fce8b182d4b,convert to float instead of int in the watch rule,MERGED,2012-07-19 11:19:50.000000000,2012-07-19 11:19:50.000000000,2012-07-19 11:19:50.000000000,13,13,0,10005,8ced4770697bf87d96554391778bbf3585ddbbee,11,3,2,1,4715,Angus Salkeld,asalkeld,"convert to float instead of int in the watch rule

as the data sent from the guests are likely to be floats.

Change-Id: Ice17c23997150db8c52c50767ed94fce8b182d4b
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fneutron~master~Ie4112b841c1e42408cdb539c2b87446c596e92ba,openstack/neutron,master,bug/1025127,Ie4112b841c1e42408cdb539c2b87446c596e92ba,Provide way to specify id in models_v2,MERGED,2012-07-19 10:17:46.000000000,2012-07-19 10:17:46.000000000,2012-07-19 10:17:46.000000000,23,0,2,9893,659d0ba03a076bdacc141069ee4837ac5bc1ccc8,23,8,5,1,4395,Aaron Rosen,arosen,"Provide way to specify id in models_v2

Bug #1025127

Change-Id: Ie4112b841c1e42408cdb539c2b87446c596e92ba
"
openstack%2Fcinder~master~I1a11e8fd6a56b2336457f7df178c2b3c187246c3,openstack/cinder,master,sync-cfg-changes,I1a11e8fd6a56b2336457f7df178c2b3c187246c3,Pass 'cinder' project into ConfigOpts,MERGED,2012-07-16 21:13:09.000000000,2012-07-19 08:11:24.000000000,2012-07-19 08:11:23.000000000,2,0,0,9864,9929f2b2a152f34e24366f5f0afbc071ff40833f,12,7,1,1,1247,Mark McLoughlin,markmc,"Pass 'cinder' project into ConfigOpts

Cherry-picks fb96f7d from Nova.

Change-Id: I1a11e8fd6a56b2336457f7df178c2b3c187246c3
"
openstack%2Fcinder~master~Id5a0ffabf7c6eab0bbda1b130a39a6581b26e350,openstack/cinder,master,sync-cfg-changes,Id5a0ffabf7c6eab0bbda1b130a39a6581b26e350,Remove old flagfile support,MERGED,2012-07-16 21:13:10.000000000,2012-07-19 08:11:23.000000000,2012-07-18 17:14:56.000000000,16,49,0,9866,da97aa46d8210abf848520c06a29638f925c42ed,12,6,1,10,1247,Mark McLoughlin,markmc,"Remove old flagfile support

Cherry-picks 7e3e9b8 from Nova.

Change-Id: Id5a0ffabf7c6eab0bbda1b130a39a6581b26e350
"
openstack%2Fcinder~master~If283dd7c4feba69c07bd483acd14f45c2659b743,openstack/cinder,master,sync-cfg-changes,If283dd7c4feba69c07bd483acd14f45c2659b743,Misused and not used config options,MERGED,2012-07-16 21:13:10.000000000,2012-07-19 08:11:23.000000000,2012-07-18 16:42:50.000000000,8,8,0,9865,78918b8861f11d0145f8cc7310ece6ec8535c6e5,12,6,1,4,1247,Mark McLoughlin,markmc,"Misused and not used config options

Cherry picks dc9c3cb from Nova.

Fixes bug #1000071

[nova.api.sizelimit.py]
osapi_max_request_body_size: BoolOpt -> IntOpt

[nova.rpc.__init__.py]
allowed_rpc_exception_modules: IntOpt -> ListOpt

[nova.volume.driver.py]
num_shell_tries: StrOpt -> IntOpt
num_iscsi_scan_tries: StrOpt -> IntOpt

[nova.volume.driver.py]
san_thin_provision: 'true' -> True
san_is_local: 'false' -> False

Change-Id: If283dd7c4feba69c07bd483acd14f45c2659b743
"
openstack%2Fkeystone~master~I60c6cd4b772652ed5212d70aabc0577d89e1c952,openstack/keystone,master,bug/966251,I60c6cd4b772652ed5212d70aabc0577d89e1c952,Added user name validation. Fixes bug 966251.,ABANDONED,2012-04-03 07:14:55.000000000,2012-07-19 07:48:28.000000000,,82,3,1,6140,5175b237ab420b1fd37d46991b7557c306d7f7cb,29,8,3,6,1633,unmesh-gurjar,unmesh-gurjar,"Added user name validation. Fixes bug 966251.

1. Verified name length while creating/updating user.
2. Disallowed blank user name in create/update.
3. Added unit test coverage.

Change-Id: I60c6cd4b772652ed5212d70aabc0577d89e1c952
"
openstack%2Fopenstack-manuals~master~I8bdb1b9ebdbc4b92a8e9a3143e8ed5d4724ac264,openstack/openstack-manuals,master,used-limits-ext,I8bdb1b9ebdbc4b92a8e9a3143e8ed5d4724ac264,Add documentation for recently added os-used-limits extension.,MERGED,2012-07-16 18:35:32.000000000,2012-07-19 07:37:29.000000000,2012-07-19 07:37:28.000000000,117,0,0,9858,2f5802068702cb66aacbc20e56f4de7addbd3feb,7,3,2,3,177,Alex Meade,alex-meade,"Add documentation for recently added os-used-limits extension.

The os-used-limits extension adds information for limits that have been used so
far to the /limits GET response.

The ext was added in this patch: https://review.openstack.org/#/c/9544/

Change-Id: I8bdb1b9ebdbc4b92a8e9a3143e8ed5d4724ac264
"
openstack%2Ftempest~master~I33c3bebc715c3000abfe718e00fc808db7241b48,openstack/tempest,master,bug/1020073,I33c3bebc715c3000abfe718e00fc808db7241b48,Fixes Bug #1020073 » New tests for rate limits,ABANDONED,2012-07-02 12:44:53.000000000,2012-07-19 06:03:01.000000000,,554,0,12,9220,3c1ffbb43f4ea801c830c1a23ce93be5af8ec278,11,4,3,3,2174,Sapan Kona,sapan-kona,"Fixes Bug #1020073 » New tests for rate limits

Change-Id: I33c3bebc715c3000abfe718e00fc808db7241b48
"
openstack%2Fpython-glanceclient~master~I2d230318cbd676425bede0289a928f8aedb244f5,openstack/python-glanceclient,master,master,I2d230318cbd676425bede0289a928f8aedb244f5,add glance bash-completion,ABANDONED,2012-06-28 08:44:51.000000000,2012-07-19 06:03:01.000000000,,55,0,0,9098,a86862ee685481ffa571e2229f074fa1be82969a,6,3,1,2,4200,Dominik Heidler,dheidler,"add glance bash-completion

Change-Id: I2d230318cbd676425bede0289a928f8aedb244f5
"
openstack%2Fneutron~master~I337042ae418b518268acd30c26ef02559887a8be,openstack/neutron,master,bug/1023649,I337042ae418b518268acd30c26ef02559887a8be,Ensures policy file is reloaded only if updated.,MERGED,2012-07-19 04:49:54.000000000,2012-07-19 04:49:54.000000000,2012-07-19 04:49:54.000000000,238,4,8,9692,b7501f2be1f423755b1fef56d9e79561215ff673,25,7,4,3,261,Salvatore Orlando,salvatore-orlando,"Ensures policy file is reloaded only if updated.

Fixes bug 1023649

The fix is 'inspired' (ie: copied) from nova. It is cached in memory unless a
change in policy file is detected. In that case, a reload is triggered.

This patch also adds a set of unit tests for quantum/policy.py, which was
previously not covered.

Change-Id: I337042ae418b518268acd30c26ef02559887a8be
"
openstack%2Fpython-neutronclient~master~I85c1e79c2cd08bcc0112ed2f10ca8210e9384687,openstack/python-neutronclient,master,bug/1023260,I85c1e79c2cd08bcc0112ed2f10ca8210e9384687,"Use -h, --help to show help messages.",MERGED,2012-07-19 00:28:52.000000000,2012-07-19 00:28:52.000000000,2012-07-19 00:28:52.000000000,1,1,0,9626,463121305619a24001ba80be4ed899de148ccb75,13,4,3,1,841,Akihiro Motoki,amotoki,"Use -h, --help to show help messages.

Fixes bug 1023260
""quantumv2"" command used '-H' and '--Help' to show help messages,
but it is inconsistent to the convention of option names used in
other OpenStack client lib commands. This commit fixes it.

Change-Id: I85c1e79c2cd08bcc0112ed2f10ca8210e9384687
"
openstack%2Fnova~master~I2bc42783c5bb92a32d7c3b0f5efab32a2e2f8fb6,openstack/nova,master,filter-notimplemented,I2bc42783c5bb92a32d7c3b0f5efab32a2e2f8fb6,"Raise NotImplementedError, not NotImplemented singleton",MERGED,2012-07-18 21:50:36.000000000,2012-07-19 00:12:39.000000000,2012-07-19 00:12:38.000000000,1,1,0,9991,9d76b6f9f7b0430cbc368da927d5caed53f1e0c4,9,6,1,1,100,Johannes Erdfelt,johannes.erdfelt,"Raise NotImplementedError, not NotImplemented singleton

NotImplementedError is for exceptions, NotImplemented is an error
singleton

Change-Id: I2bc42783c5bb92a32d7c3b0f5efab32a2e2f8fb6
"
openstack%2Fnova~master~I74fc6aae9a615be7cefb1cf07755764df1af957a,openstack/nova,master,bp/xenapi-live-migration,I74fc6aae9a615be7cefb1cf07755764df1af957a,Partially implements blueprint xenapi-live-migration,MERGED,2012-07-09 14:27:00.000000000,2012-07-19 00:01:40.000000000,2012-07-19 00:01:39.000000000,247,5,3,9513,8b667215e82ffb32ace5df6a12dff7ece42e2b82,43,9,12,4,782,John Garbutt,johngarbutt,"Partially implements blueprint xenapi-live-migration

This is dependent on refactoring of libvirt live migration.

Enables live migration using xenapi:
* works when both hosts are part of the same aggregate
* assumes shared storage is configured as the default SR

Limitations in this version:
* only works for images that don't have an external
  ramdisk/kernel

Change-Id: I74fc6aae9a615be7cefb1cf07755764df1af957a
"
openstack%2Fopenstack-manuals~master~Ie30087d5f606a4231b8b3c7899d95630c1a85c48,openstack/openstack-manuals,master,disqusid-ha,Ie30087d5f606a4231b8b3c7899d95630c1a85c48,Adds new Disqus id openstack-ha-guide for the High Availability Guide.,MERGED,2012-07-18 23:36:03.000000000,2012-07-18 23:45:32.000000000,2012-07-18 23:45:32.000000000,2,2,0,9996,f1fcedaf91e6375e7757d54aad3a31ea82d5d5a9,3,2,1,1,964,Anne Gentle,annegentle,"Adds new Disqus id openstack-ha-guide
for the High Availability Guide.

Change-Id: Ie30087d5f606a4231b8b3c7899d95630c1a85c48
"
openstack%2Fnova~master~I7a1a392754eed42e8d31b7931da4e4bc506d2beb,openstack/nova,master,forceHost,I7a1a392754eed42e8d31b7931da4e4bc506d2beb,Remove old force_host hack.,ABANDONED,2012-07-17 23:55:07.000000000,2012-07-18 23:11:38.000000000,,2,43,2,9949,756138e15ea35df44185be96620c627e291d0f41,11,7,2,3,1849,Joe Gordon,jogo,"Remove old force_host hack.

The same functionality is in the SameHostFilter

Change-Id: I7a1a392754eed42e8d31b7931da4e4bc506d2beb
"
openstack%2Fnova~master~I6796b027058fa72480a59298784855124c06edd9,openstack/nova,master,master,I6796b027058fa72480a59298784855124c06edd9,change metadata_host to metadata_host_ip,ABANDONED,2012-06-29 00:11:31.000000000,2012-07-18 23:08:57.000000000,,5,5,0,9153,eddddc8fd370447dc3bdec101025835dd34d03ef,10,7,1,3,1699,Matt Joyce,matt-nycresistor,"change metadata_host to metadata_host_ip

Change-Id: I6796b027058fa72480a59298784855124c06edd9
"
openstack%2Fnova~master~Ib608ba06215e0ab8be23cbd32c284420b5230dba,openstack/nova,master,bp/no-db-messaging,Ib608ba06215e0ab8be23cbd32c284420b5230dba,Rename get_lock() to _get_lock().,MERGED,2012-07-17 20:38:21.000000000,2012-07-18 22:19:30.000000000,2012-07-18 22:19:29.000000000,5,4,0,9933,3fd5b61d892b2690f24a0e6948c9d306885066b8,15,7,2,2,1561,Russell Bryant,russellb,"Rename get_lock() to _get_lock().

This patch changes get_lock() to _get_lock() in the compute manager.
This method is not used via rpc, so this name change helps clarify that
it is (at least currently) an internal-only function.  Marking it as
such allows the method signature to be changed without updating the RPC
API version and having to maintain backwards compatibility.

Related to blueprint no-db-messaging.

Change-Id: Ib608ba06215e0ab8be23cbd32c284420b5230dba
"
openstack%2Fnova~master~I0a3f0d99529b18d613f8fdb5fafa2d0307a66d86,openstack/nova,master,not_impl,I0a3f0d99529b18d613f8fdb5fafa2d0307a66d86,Fix the mis-use of NotImplemented,MERGED,2012-07-18 21:22:43.000000000,2012-07-18 22:19:01.000000000,2012-07-18 22:19:00.000000000,30,30,1,9987,8e2460ea5785fe3e97d2aa6fa4ba21e6867a8a47,11,5,2,1,1711,Yun Mao,yunmao,"Fix the mis-use of NotImplemented

An exception object NotImplementedError() should be raised instead
of NotImplemented.

Change-Id: I0a3f0d99529b18d613f8fdb5fafa2d0307a66d86
"
openstack%2Fnova~stable%2Fessex~I71ec995c77bc447bfc9221084b057bd8d69a4513,openstack/nova,stable/essex,,I71ec995c77bc447bfc9221084b057bd8d69a4513,Distinguish over-quota for volume size and number.,MERGED,2012-07-05 15:08:06.000000000,2012-07-18 22:18:59.000000000,2012-07-18 22:18:58.000000000,105,39,8,9371,19631f3b4708443486950b602b6b95d13d6d7e74,20,6,4,4,2284,Eoghan Glynn,eglynn,"Distinguish over-quota for volume size and number.

Fixes LP 1020634

Ensure that exceeding the allowed number of volumes is not
mis-represented in log messages and exception handling as
excessive space usage.

Change-Id: I71ec995c77bc447bfc9221084b057bd8d69a4513
"
openstack%2Fpbr~master~I5ea9c571f381e10cbffaef76fd13f4705360a009,openstack/pbr,master,master,I5ea9c571f381e10cbffaef76fd13f4705360a009,We don't actually setup require pbr.,MERGED,2012-07-18 22:02:35.000000000,2012-07-18 22:07:59.000000000,2012-07-18 22:07:59.000000000,0,1,0,9992,b748795ff59c62d6b370bf2a2fdb5848e3021d61,5,2,1,1,2,Monty Taylor,mordred,"We don't actually setup require pbr.

This causes CRAZY infinite recursion problems. I think.

Change-Id: I5ea9c571f381e10cbffaef76fd13f4705360a009
"
openstack%2Fswift~master~I4a597eaf2b16b5b2cfc7fd706ac024357e9af2c2,openstack/swift,master,fix-mng-utest,I4a597eaf2b16b5b2cfc7fd706ac024357e9af2c2,"Fix wrong assert in manager unit test, self._assert(len(m.servers), 4) don't check that number of servers equal 4.",MERGED,2012-07-18 21:24:05.000000000,2012-07-18 21:43:05.000000000,2012-07-18 21:43:05.000000000,1,1,0,9989,31ff3da485d50ed67567ccee8479f1a21acc534a,6,3,1,1,2401,Victor Rodionov,vito-ordaz,"Fix wrong assert in manager unit test, self._assert(len(m.servers), 4)
don't check that number of servers equal 4.

Change-Id: I4a597eaf2b16b5b2cfc7fd706ac024357e9af2c2
"
openstack%2Fglance~master~Iac6fc506b1d36b18ab21bb956ec2d8acc004bba8,openstack/glance,master,bug/1025756,Iac6fc506b1d36b18ab21bb956ec2d8acc004bba8,Replace example.com with localhost for some tests,MERGED,2012-07-18 09:28:36.000000000,2012-07-18 20:47:30.000000000,2012-07-18 20:47:30.000000000,10,10,0,9957,251c5e588a168d4aae406e28d2c8da1e307f4275,10,5,2,2,455,Stuart McLaren,stuart-mclaren,"Replace example.com with localhost for some tests

Fix for LP Bug #1025756.

When running the unit tests on a system without a
direct internet connection some tests run slowly.
Replacing example.com with localhost:0 speeds up
the relevant tests.

Change-Id: Iac6fc506b1d36b18ab21bb956ec2d8acc004bba8
"
openstack%2Fdevstack~master~I85ff413fd3276e99040cc407715a04f8b65e31d6,openstack/devstack,master,tempest,I85ff413fd3276e99040cc407715a04f8b65e31d6,Make sure we supply the config file to glance-manage,ABANDONED,2012-07-18 19:25:40.000000000,2012-07-18 20:42:24.000000000,,1,1,0,9974,833e2f78f815f9e0ad6e2377d134c53e44266835,2,1,1,1,7,Jay Pipes,jaypipes,"Make sure we supply the config file to glance-manage

Without supplying the --config-file arg to glance-manage,
by default glance-manage defaults to look in /etc/glance/
for a config file. We don't want that -- we want to supply
the config file generated by stack.sh.

Change-Id: I85ff413fd3276e99040cc407715a04f8b65e31d6
"
openstack%2Fglance~master~I2e73810e3165dd8b7032359b5fb8a874e592736f,openstack/glance,master,bug/1026072,I2e73810e3165dd8b7032359b5fb8a874e592736f,Fix registry error message and exception contents,MERGED,2012-07-18 11:09:13.000000000,2012-07-18 19:30:38.000000000,2012-07-18 19:30:38.000000000,1,1,0,9960,35d865a48cbeb7b21ff68b74c39dde6639469c74,6,3,1,1,1706,Tom Hancock,tom-hancock,"Fix registry error message and exception contents

The variable image_id should have been used instead of the global
identifier id

Fixes LP Bug #1026072

Change-Id: I2e73810e3165dd8b7032359b5fb8a874e592736f
"
openstack%2Fpbr~master~Ia00ab526e225e844e66281404efe1dfb62401d1f,openstack/pbr,master,master,Ia00ab526e225e844e66281404efe1dfb62401d1f,"Depend on >=0.4, not >0.4.",MERGED,2012-07-18 19:02:17.000000000,2012-07-18 19:14:02.000000000,2012-07-18 19:14:02.000000000,1,1,0,9972,e8b30afb71369ad09371c6c41ddff79bfcc1b734,5,2,1,1,2,Monty Taylor,mordred,"Depend on >=0.4, not >0.4.

Change-Id: Ia00ab526e225e844e66281404efe1dfb62401d1f
"
openstack%2Fnova~master~Ie37880f63b7595ae3dd2f3b23c6c3097dac2f57c,openstack/nova,master,bug/1024986,Ie37880f63b7595ae3dd2f3b23c6c3097dac2f57c,Display key_name only if keypairs extension is used,MERGED,2012-07-12 19:27:56.000000000,2012-07-18 18:45:40.000000000,2012-07-18 18:45:39.000000000,76,12,11,9736,26dbf7d03875e10b13d644bc75f21069cf27a671,26,6,4,4,4463,iccha-sethi,iccha-sethi,"Display key_name only if keypairs extension is used

GET /servers/xxx will display the key_name only if the keypairs extension is
being used.

Fixes bug 1024986

Change-Id: Ie37880f63b7595ae3dd2f3b23c6c3097dac2f57c
"
openstack%2Fnova~master~I6a758dd683f70a0d006d5aa2840fcc2cb3243297,openstack/nova,master,bug/1025294,I6a758dd683f70a0d006d5aa2840fcc2cb3243297,Show all absolute quota limits in /limits.,MERGED,2012-07-16 14:57:07.000000000,2012-07-18 18:45:36.000000000,2012-07-18 18:45:35.000000000,12,3,0,9851,fafd1f1651907b9c57a8b944ea70f350e1b244a6,12,5,2,2,177,Alex Meade,alex-meade,"Show all absolute quota limits in /limits.

This change adds currently missing absolute limits to the /limits response.

Fixes bug 1025294

Change-Id: I6a758dd683f70a0d006d5aa2840fcc2cb3243297
"
openstack%2Fdevstack~master~I1b3e48e94786378c7313a0a6bea88d5cf9d0f0c0,openstack/devstack,master,tools-info,I1b3e48e94786378c7313a0a6bea88d5cf9d0f0c0,Update info.sh,MERGED,2012-07-09 19:48:32.000000000,2012-07-18 18:45:33.000000000,2012-07-18 18:45:32.000000000,60,113,0,9542,a9e0a488cf72431aabc972f7aac76abb56aaba02,8,4,2,3,970,Dean Troyer,dtroyer,"Update info.sh

* Works properly on Fedora 17 now, possibly other RPM-based distros
* Add GetDistro() function taken from logic in stack.sh
* Source functions in tools/info.sh
* Use GetDistro() and get_packages() in tools/info.sh
* Report all installed pips
* Don't sort localrc output as order is important

Change-Id: I1b3e48e94786378c7313a0a6bea88d5cf9d0f0c0
"
openstack%2Fglance~master~I522e2210e2b7272f9bb47602510a2910fa193415,openstack/glance,master,bug/1026222,I522e2210e2b7272f9bb47602510a2910fa193415,Match path_info in image cache middleware,MERGED,2012-07-18 16:38:58.000000000,2012-07-18 18:45:04.000000000,2012-07-18 18:45:04.000000000,36,3,0,9970,dc2f241c115507f8e5c4e7841739f2b8303943e2,9,4,1,2,1132,Brian Waldon,bcwaldon,"Match path_info in image cache middleware

The url matching code in the image cache middleware should only look at
the unconsumed path, not the full path. Webob denotes this by using
'path_info' instead of 'path.'

This also adds some tests for the version negotiation middleware to ensure
it is returning a sane path for the image cache middleware to match.

Fixes bug 1026222

Change-Id: I522e2210e2b7272f9bb47602510a2910fa193415
"
openstack%2Fnova~master~Icd776edd1d7b9987833167dcf04015109ffc7c17,openstack/nova,master,pep81.2,Icd776edd1d7b9987833167dcf04015109ffc7c17,Update tools hacking for pep8 1.2 and beyond,ABANDONED,2012-07-10 00:02:29.000000000,2012-07-18 18:20:22.000000000,,10,8,0,9569,c1cb7f9869fc64a9eef82f0c62159e07d44fdf50,11,4,1,3,1849,Joe Gordon,jogo,"Update tools hacking for pep8 1.2 and beyond

Based on https://github.com/jcrocholl/pep8/commit/b9f72b16011aac981ce9e3a47fd0ffb1d3d2e085

Change-Id: Icd776edd1d7b9987833167dcf04015109ffc7c17
"
openstack%2Fnova~master~I1f7c6203ffbe0248c7ef9e95a231c05a0113a347,openstack/nova,master,master,I1f7c6203ffbe0248c7ef9e95a231c05a0113a347,Remove unused get_version_from_href(),MERGED,2012-07-18 08:09:16.000000000,2012-07-18 18:17:05.000000000,2012-07-18 18:17:04.000000000,0,38,0,9955,3bfbbcacb0b07837c39b4da009fca315209a07bb,9,6,1,2,1247,Mark McLoughlin,markmc,"Remove unused get_version_from_href()

This is unused since edf3e39c remove the v1.0 API.

Change-Id: I1f7c6203ffbe0248c7ef9e95a231c05a0113a347
"
openstack%2Fcinder~master~Ic5e9e317a95a7399f0604823eec76b3642a0c1b1,openstack/cinder,master,bp/cinder-common-timeutils,Ic5e9e317a95a7399f0604823eec76b3642a0c1b1,Convert Cinder to use openstack-common timeutils,MERGED,2012-07-13 08:28:45.000000000,2012-07-18 17:32:54.000000000,2012-07-18 17:32:54.000000000,45,216,2,9757,519bd2451d8b3aff6661d18e340b8f31a69e1091,8,6,1,14,2759,Huang Zhiteng,zhiteng-huang,"Convert Cinder to use openstack-common timeutils

This patch is part of effort to get Cinder to use openstack-common
package.  This part is to replace time related functions in utils.py
with 'timeutils' module.

Implement blueprint cinder-common-timeutils

Change-Id: Ic5e9e317a95a7399f0604823eec76b3642a0c1b1
"
openstack%2Fcinder~master~If9852d0431093d590252bb704e934a4a56ef0263,openstack/cinder,master,sync-cfg-changes,If9852d0431093d590252bb704e934a4a56ef0263,Sync to newer openstack.common.cfg,MERGED,2012-07-16 21:13:09.000000000,2012-07-18 16:53:15.000000000,2012-07-18 16:53:15.000000000,163,43,0,9863,cba45833120ef03fb355f0c8399cd62fc80ef2ac,8,5,1,1,1247,Mark McLoughlin,markmc,"Sync to newer openstack.common.cfg

Cherry picks e0d891e from Nova.

Changes since last sync are:

 * New ConfigOpts.find_file() for locating conf files
 * Support for directory source of config files
 * Provide file extension when when looking for files
 * Some refactoring of the cfg cache
 * Add caching to openstack.common.cfg

Change-Id: If9852d0431093d590252bb704e934a4a56ef0263
"
openstack%2Fneutron~master~Iaa694cbfe3c518a5cd3951271853fe986106e7f5,openstack/neutron,master,bug/1015148,Iaa694cbfe3c518a5cd3951271853fe986106e7f5,Add validity checks to Quantum v2 resources,MERGED,2012-07-18 16:39:53.000000000,2012-07-18 16:39:53.000000000,2012-07-18 16:39:53.000000000,270,78,27,9894,4605dff64fb2fac764e58baf397f2e6811216ec4,22,6,4,6,1653,garyk,garyk,"Add validity checks to Quantum v2 resources

Fixes bug 1015148

The code enable defining validity checks for input variables. This
is done via callback functions per type. The following types are supported:
    - type:values - checks that data is valid according to a list of values
    - type:mac_address - checks that data is a valid mac address
    - type:ip_address - checks that data is a valid ip address
    - type:subnet - checks that data is a valid cidr
    - type:regex - checks that data matches a regular expression (for
      example checking UUID validity)

Change-Id: Iaa694cbfe3c518a5cd3951271853fe986106e7f5
"
openstack%2Fnova~master~I0b3d18d7922f2ad1bc687fa88e2f5d4cf5aa068b,openstack/nova,master,,I0b3d18d7922f2ad1bc687fa88e2f5d4cf5aa068b,Support EC2 CreateImage API for boot-from-volume,MERGED,2012-07-12 18:37:05.000000000,2012-07-18 16:03:33.000000000,2012-07-18 16:03:33.000000000,87,16,3,9732,8600394ec4dd4f800d774e4ed0c24fe087d8e1d3,27,6,4,2,2284,Eoghan Glynn,eglynn,"Support EC2 CreateImage API for boot-from-volume

Fixes bug lp 988335

For fidelity with AWS, where the EC2 CreateImage API is only
supported for EBS-backed instances, we now support this API
for booted-from-volume nova servers.

We create a ""place-holder"" image in glance with the image data
being effectively empty, and the following properties set:

  * the imaged instance's kernel and ramdisk IDs
  * block device mapping containing the appropriate snapshot ID(s)

so that we can boot from this image without providing additional
context (such as via the nova boot --block-device-mapping option)

Change-Id: I0b3d18d7922f2ad1bc687fa88e2f5d4cf5aa068b
"
openstack%2Fnova~master~I6fd9e3b45aad36056882e8cef12b90bb8d7aea7b,openstack/nova,master,bug/1021417,I6fd9e3b45aad36056882e8cef12b90bb8d7aea7b,Info log to see which compute driver has loaded,MERGED,2012-07-05 18:10:08.000000000,2012-07-18 15:54:19.000000000,2012-07-18 15:54:18.000000000,1,0,3,9390,6dd53cf4970ffb08fe961e72b78a5c170c536b62,21,8,4,1,2537,Nikhil Komawar,nikhil-komawar,"Info log to see which compute driver has loaded

Adding this log will help keep track if the
intended compute driver has loaded or it has been
misconfigured.

fixes bug 1021417

Change-Id: I6fd9e3b45aad36056882e8cef12b90bb8d7aea7b
"
openstack%2Fglance~master~I2095ad16fef6b4bc8e49229c9f0326da8c743ff7,openstack/glance,master,bp/glance-request-tracking,I2095ad16fef6b4bc8e49229c9f0326da8c743ff7,Use openstack.common.log to log request id,MERGED,2012-07-12 05:18:56.000000000,2012-07-18 14:50:46.000000000,2012-07-18 14:50:46.000000000,9,8,2,9701,a0689d2b458bb1145ec9b8c17ee09ccfcc32d139,18,7,2,4,1132,Brian Waldon,bcwaldon,"Use openstack.common.log to log request id

* Log request id from the request context for glance-api
  and glance-registry
* Further integrate with the common log module by storing RequestContext
  objects in thread-local storage so loggers can acces their attributes
* Move request id formatting into the request module so it appears with
  the preferred prefix (req-) in logs
* Implement bp glance-request-tracking

Change-Id: I2095ad16fef6b4bc8e49229c9f0326da8c743ff7
"
openstack%2Foslo-incubator~master~I22d2a94d89530586d614af39af17ae542c5e0cbf,openstack/oslo-incubator,master,bug/1019348,I22d2a94d89530586d614af39af17ae542c5e0cbf,"fix bug lp:1019348,update openstack-common to support pep8 1.3.",MERGED,2012-07-18 14:49:29.000000000,2012-07-18 14:49:29.000000000,2012-07-18 14:49:29.000000000,111,109,13,9201,d5f2152dcfc4039de8324bdf75f6a2cd844dbdd0,42,9,10,16,1313,Yaguang Tang,heut2008,"fix bug lp:1019348,update openstack-common to support pep8 1.3.

also,this patch turns off pep8 E125 check.

Change-Id: I22d2a94d89530586d614af39af17ae542c5e0cbf
"
openstack%2Fnova~master~Ia1a93400dc24455fe91fdf4283eb32bcca4037cf,openstack/nova,master,bug/1025912,Ia1a93400dc24455fe91fdf4283eb32bcca4037cf,Fixes XenAPI driver import in vm_vdi_cleaner,MERGED,2012-07-17 21:55:11.000000000,2012-07-18 14:29:37.000000000,2012-07-18 14:29:36.000000000,2,3,0,9936,216467b3454bca97106463957da88290f8a47fa7,9,5,2,1,1030,Chris Behrens,cbehrens,"Fixes XenAPI driver import in vm_vdi_cleaner

xenapi/connection.py was renamed xenapi/driver.py, it appears, but
vm_vdi_cleaner was not updated.

Also removed unused optparse import.

Fixes bug 1025912

Change-Id: Ia1a93400dc24455fe91fdf4283eb32bcca4037cf
"
openstack%2Fnova~master~Ic0b04953f27467dfa479dc94582a4c2d3480f53d,openstack/nova,master,remove_obsolete_line_in_host_manager,Ic0b04953f27467dfa479dc94582a4c2d3480f53d,Remove obsolete line in host_manager,MERGED,2012-07-18 11:54:16.000000000,2012-07-18 14:23:19.000000000,2012-07-18 14:23:19.000000000,0,1,0,9963,f1bca04333684c0b462042d902f49aa92587b9f1,7,4,1,1,2245,Jacky Hu,hudayou,"Remove obsolete line in host_manager

Change-Id: Ic0b04953f27467dfa479dc94582a4c2d3480f53d
"
openstack%2Fnova~stable%2Fessex~I565eda78f6c468cf6bd227756cfc068725069218,openstack/nova,stable/essex,bug/1004298,I565eda78f6c468cf6bd227756cfc068725069218,fix libvirt get_memory_mb_total() with xen,MERGED,2012-07-10 19:52:46.000000000,2012-07-18 14:14:42.000000000,2012-07-18 14:14:41.000000000,2,14,0,9606,835ba4f23eb32c69aaeb1da590a297565b60388d,13,8,2,1,2697,Jim Fehlig,jfehlig,"fix libvirt get_memory_mb_total() with xen

Fixes bug 1004298 in stable/essex.

Commit 5b93a576 failed to remove the 'staticmethod'
decorator from the method, to allow it to access
object variables.

Also there is no need to have the libvirt getInfo() call
be xen specific.  In the LXC/QEMU/UML drivers this call
uses GNULIB's physmem module, which is cross-OS portable.

Change-Id: I565eda78f6c468cf6bd227756cfc068725069218
(cherry picked from commit 78352b98a96946145bec9010872d8f2769691ac2)
"
openstack%2Fheat~master~Ia7e1a83043f8d175e320bfd52aa64cb6f62ead90,openstack/heat,master,gh161-fix-template-validation,Ia7e1a83043f8d175e320bfd52aa64cb6f62ead90,Don't require user params on template validation,MERGED,2012-07-18 11:58:09.000000000,2012-07-18 11:58:09.000000000,2012-07-18 11:58:09.000000000,23,15,0,9722,466e9983d0c855b03b64227c607fdd7125f3ae8c,9,3,3,2,4330,Tomas Sedovic,tomas-8c8,"Don't require user params on template validation

Fixes #161

Change-Id: Ia7e1a83043f8d175e320bfd52aa64cb6f62ead90
Signed-off-by: Tomas Sedovic <tomas@sedovic.cz>
"
openstack%2Fheat~master~Ia122af8d53b49587ade0ead6897fdd10107f4a87,openstack/heat,master,url-length-monkeypatch,Ia122af8d53b49587ade0ead6897fdd10107f4a87,Use eventlet's wsgi again,MERGED,2012-07-18 11:54:43.000000000,2012-07-18 11:54:43.000000000,2012-07-18 11:54:43.000000000,14,9,0,9961,6029c031eac1ca8cdf833300d79de49717ecb137,5,2,1,4,4330,Tomas Sedovic,tomas-8c8,"Use eventlet's wsgi again

Ref #55

This adds a monkey patch for the eventlet's maximum url length issue (ref #18).
With it, we can use eventlet as our wsgi server again.

Once Eventlet releases a new version (the fix is already in master) we'll drop
the monkey patch and set the limit proper.

Change-Id: Ia122af8d53b49587ade0ead6897fdd10107f4a87
Signed-off-by: Tomas Sedovic <tomas@sedovic.cz>
"
openstack%2Fnova~master~Ibf6e6e3b9807f29dccd31006515df550bf9bf57b,openstack/nova,master,metadata-versions,Ibf6e6e3b9807f29dccd31006515df550bf9bf57b,Make metadata content match the requested version of the metadata API.,MERGED,2012-07-01 09:33:40.000000000,2012-07-18 10:36:16.000000000,2012-07-18 10:36:15.000000000,58,25,1,9205,29b1b4c79360e550cc89a9736dee56576aa5b972,12,5,2,2,4571,Steve Baker,steve-stevebaker,"Make metadata content match the requested version of the metadata API.

Currently the same metadata is returned no matter what metadata
version is requested. Metadata is currently implemented to version
2009-04-04 (apart from existing TODOs) as defined here:
http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/instancedata-data-categories.html

This change adds version checking conditionals throughout
get_ec2_metadata and only includes the metadata if the requested version
should contain it.

When there is a difference between Amazon API implementation and documentation
I've gone with replicating the implementation. So far differences include:
- undocumented hostname introduced in 1.0, deprecated in favour of
  local-hostname
- kernel-id and ramdisk-id seem have to been implemented in 2007-12-15,
  not 2008-02-01 as documented

get_ec2_metadata has also been reordered so that data is added oldest to
newest by API version. In a future change I may attempt to add
unimplemented API versions (2011-01-01, 2012-06-01).

Change-Id: Ibf6e6e3b9807f29dccd31006515df550bf9bf57b
"
openstack%2Fnova~master~Ib51f0da8641c035371e09047de9abe3cb83203e9,openstack/nova,master,bug/1017765,Ib51f0da8641c035371e09047de9abe3cb83203e9,Sync jsonutils from openstack-common.,MERGED,2012-07-16 17:51:43.000000000,2012-07-18 10:22:13.000000000,2012-07-18 10:22:13.000000000,19,13,0,9857,12e663a8b0b253970e3bccd373d3d2f3d462f6b6,8,5,1,3,1561,Russell Bryant,russellb,"Sync jsonutils from openstack-common.

In addition to the following changes from openstack-common, this patch
includes some tweak to nova unit tests.  timeutils.strtime() will raise
an exception if the year in a datetime object is before 1900.

Changes from openstack-common:

    commit ce3071437d1871f77c4d8573cbe5f4ea8c817650
    Author: Russell Bryant <rbryant@redhat.com>
    Date:   Mon Jul 16 10:30:25 2012 -0400

        Use strtime() in to_primitive() for datetime objs.

        This patch updates jsonutils.to_primitive() to use timeutils.strtime()
        to convert a datimetime object to a string instead of just using str().
        This ensures that we can easily convert the string back to a datetime
        using timeutils.parse_strtime().

        Required for the nova blueprint no-db-messaging.

    commit 4c9d439ef24f5afdd74aa9153aa8fc772051e6cb
    Author: Tim Daly Jr <timjr@yahoo-inc.com>
    Date:   Tue Jun 26 02:48:42 2012 +0000

        Add 'filedecoder' method to the jsonutils wrapper module.

        Fixes bug #1017765

        After version 3.3.2, the anyjson library will throw a KeyError if
        filedecoder isn't present.  The filedecoder is just like the decoder
        except it takes a file instead of a string, like json.load() instead
        of json.loads().

Change-Id: Ib51f0da8641c035371e09047de9abe3cb83203e9
"
openstack%2Fdevstack~master~I26ed1a1e73eee24da78580eda3b13e5d3eb65361,openstack/devstack,master,bug/1021150,I26ed1a1e73eee24da78580eda3b13e5d3eb65361,Don't setup swift3 if it's not being used.,MERGED,2012-07-16 21:30:49.000000000,2012-07-18 07:50:25.000000000,2012-07-17 19:58:13.000000000,2,0,0,9873,3b73df764686b592f84ea6da1d5f0c1ca37f2fed,7,3,1,1,1,James E. Blair,corvus,"Don't setup swift3 if it's not being used.

""setup_develop"" was still being called for swift3, even if it's
not in enabled services.  This wraps that call in an
""is_service_enbled"" conditional so that stack.sh doesn't attempt
to set it up if it's not enabled.

- Fixes bug 1021150.

Change-Id: I26ed1a1e73eee24da78580eda3b13e5d3eb65361
"
openstack%2Fneutron~master~I2729c2dc3958835374c88d704e842e613785ec14,openstack/neutron,master,notification,I2729c2dc3958835374c88d704e842e613785ec14,Introduce files from openstack common.,MERGED,2012-07-18 06:57:27.000000000,2012-07-18 06:57:27.000000000,2012-07-18 06:57:27.000000000,1056,26,13,9834,3cff1e7b9723a9a02d3e46cb56d7906134e407d4,35,7,5,25,2874,yong sheng gong,gongysh,"Introduce files from openstack common.

Because the openstack common project does not stick to latest pep8 rules,
I have to exclude some bad-ruled files in the tox.ini and run_tests.sh.
However pep8 does not support exclude option in the format quantum/openstack/common,
so I have to exclude some of openstack common files one by one.

Also, I have changed the Qunatum Context to base on the common context.

I does not update the setup.py in our openstack common dir and the one
under quantum top dir, since it should be maintained in a consistent way
across all of openstack projects.

After this introduction, we are ready for notification feature.

Change-Id: I2729c2dc3958835374c88d704e842e613785ec14
"
openstack%2Fneutron~master~I68ab0998b7113f06da5df74ccd44e390640de475,openstack/neutron,master,bug/1025150,I68ab0998b7113f06da5df74ccd44e390640de475,Avoid removal of attributes used by policy engine,MERGED,2012-07-18 06:06:57.000000000,2012-07-18 06:06:57.000000000,2012-07-18 06:06:57.000000000,126,30,6,9859,eeb0b8ed9c0c289a05167c0a78b862d0258393e5,18,5,4,6,261,Salvatore Orlando,salvatore-orlando,"Avoid removal of attributes used by policy engine

Fixes bug1025150

Ensures that each attribute which is used by the policy engine is not
removed by the plugin when the 'fields' query parameter is specified.
This could be better achieved by not having the plugin perform this
selection, but as it is part of the plugin interface, it's probably better
not to introduce changes which alter it.

Change-Id: I68ab0998b7113f06da5df74ccd44e390640de475
"
openstack%2Ftempest~master~Id89f2eeb8e51e346ed1fe80ab3dd5db7ed538f69,openstack/tempest,master,bug/1014668,Id89f2eeb8e51e346ed1fe80ab3dd5db7ed538f69,Fixes Bug #1014668 » New tests for Server Actions,ABANDONED,2012-06-18 14:21:58.000000000,2012-07-18 06:03:02.000000000,,46,0,2,8657,31f45e1a7ed2a1a6199743329a2896029c783838,13,3,4,1,2174,Sapan Kona,sapan-kona,"Fixes Bug #1014668 » New tests for Server Actions

Change-Id: Id89f2eeb8e51e346ed1fe80ab3dd5db7ed538f69
"
openstack%2Fswift~master~I3234baeb6ef2e8c97ba97117c3df8233c4148a89,openstack/swift,master,test/funckeyst,I3234baeb6ef2e8c97ba97117c3df8233c4148a89,Support running .functests against Keystonified Swift,ABANDONED,2012-05-31 00:32:05.000000000,2012-07-18 06:03:02.000000000,,57,45,8,7959,0978fc279f0fcbe19fb61c2461e78c22e5083b42,13,5,3,3,597,Pete Zaitcev,zaitcev,"Support running .functests against Keystonified Swift

Current development pipeline for Swift only assumes running tests
against SAIO, but I found it extremely useful to run functional
tests against actual servers.

This version requires module swiftclient, as does the rest of
Swift code now. Also, 2 small fixes were done to address review
comments.

Change-Id: I3234baeb6ef2e8c97ba97117c3df8233c4148a89
"
openstack%2Fdevstack~master~I6a97d0ff6d24a3ffef56d3d426683e48206eff71,openstack/devstack,master,9279,I6a97d0ff6d24a3ffef56d3d426683e48206eff71,Enable delay_auth_decision for swift/auth_token.,MERGED,2012-07-03 16:23:18.000000000,2012-07-18 02:52:37.000000000,2012-07-18 02:52:37.000000000,1,0,0,9279,3aabdbad1d1b73144ad5aad522706dd473ff5bb4,13,4,2,1,866,Chmouel Boudjnah,chmouel,"Enable delay_auth_decision for swift/auth_token.

- Add delay_auth_decision=1 in swift proxy configuration to allow
  anonymous access or tempurl.

Rebased

Change-Id: I6a97d0ff6d24a3ffef56d3d426683e48206eff71
"
openstack%2Fheat~master~Iaad3353a7f3c64fe8fbb2f0686c24e97467efb66,openstack/heat,master,master,Iaad3353a7f3c64fe8fbb2f0686c24e97467efb66,tools: erase openstack-utils only after using it.,MERGED,2012-07-18 02:17:44.000000000,2012-07-18 02:17:44.000000000,2012-07-18 02:17:44.000000000,2,1,0,9952,cf56c2613b4a7317d57d97506167c2fd8cf27e42,5,2,1,1,4715,Angus Salkeld,asalkeld,"tools: erase openstack-utils only after using it.

else we just get: ""sudo: openstack-db: command not found""

Change-Id: Iaad3353a7f3c64fe8fbb2f0686c24e97467efb66
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fpython-glanceclient~master~Ib98e912a7af0bb570b4fd738733edd9b837d1a12,openstack/python-glanceclient,master,bp/glance-client-v2,Ib98e912a7af0bb570b4fd738733edd9b837d1a12,Add pagination to v2 image-list,MERGED,2012-07-14 03:12:19.000000000,2012-07-18 01:56:22.000000000,2012-07-18 01:02:06.000000000,65,9,3,9815,d88d8fc46286cf542f8b0553734ac9ff1b192773,8,3,1,4,1132,Brian Waldon,bcwaldon,"Add pagination to v2 image-list

* Use a recursive generator function to iterate over the image
  container. The presence of next links are indicators to
  continue pagination while their value drives the location of
  the next page.
* A user can pass in --page-size on the command line, or page_size
  when using the controller directly, to control how many images
  are requested with each subsequent paginated request. Default page
  size is 20.
* Add a flag (strict_url_check) for the FakeAPI class to control
  whether it chops off query params when trying to match a request
  to a fixture.
* Related to bp glance-client-v2.

Change-Id: Ib98e912a7af0bb570b4fd738733edd9b837d1a12
"
openstack%2Fpython-glanceclient~master~Ib98e912a7af0bb570b4fd738733edd9b837d1a11,openstack/python-glanceclient,master,bp/glance-client-v2,Ib98e912a7af0bb570b4fd738733edd9b837d1a11,Prevent links from being printed in v2 CLI,MERGED,2012-07-14 03:12:19.000000000,2012-07-18 01:56:22.000000000,2012-07-18 01:56:22.000000000,2,0,0,9814,95a7f9dffeae6d108c7e22475efca7df9d5ffd97,10,3,1,1,1132,Brian Waldon,bcwaldon,"Prevent links from being printed in v2 CLI

Nobody wants to see links in a human interface. This prevents the
file, access, self and schema links from being printed when calling
image-show or explain.

Related to bp glance-client-v2

Change-Id: Ib98e912a7af0bb570b4fd738733edd9b837d1a11
"
openstack%2Fpython-glanceclient~master~Ib98e912a7af0bb570b4fd738733edd9b837d1a10,openstack/python-glanceclient,master,bp/glance-client-v2,Ib98e912a7af0bb570b4fd738733edd9b837d1a10,Align print_dict to the left,MERGED,2012-07-14 03:12:19.000000000,2012-07-18 01:02:07.000000000,2012-07-18 00:42:35.000000000,1,1,0,9813,8bf9e112447f97b57d744465cef99b823f544c03,8,3,1,1,1132,Brian Waldon,bcwaldon,"Align print_dict to the left

Change-Id: Ib98e912a7af0bb570b4fd738733edd9b837d1a10
"
openstack%2Fpython-glanceclient~master~Ib98e912a7af0bb570b4fd738733edd9b837d1a07,openstack/python-glanceclient,master,bp/glance-client-v2,Ib98e912a7af0bb570b4fd738733edd9b837d1a07,Convert v2 images list method to generator,MERGED,2012-07-14 01:35:52.000000000,2012-07-18 01:02:07.000000000,2012-07-18 00:42:32.000000000,7,4,0,9811,e5f038b62a9edf3f19390f2437c8a10616426903,9,3,3,2,1132,Brian Waldon,bcwaldon,"Convert v2 images list method to generator

We will want this to be a generator as soon as we implement
pagination. Let's establish the interface now.

Related to bp glance-client-v2

Change-Id: Ib98e912a7af0bb570b4fd738733edd9b837d1a07
"
openstack%2Fpython-glanceclient~master~Ib98e912a7af0bb570b4fd738733edd9b837d1a04,openstack/python-glanceclient,master,bp/glance-client-v2,Ib98e912a7af0bb570b4fd738733edd9b837d1a04,Replace static v2 Image model with warlock model,MERGED,2012-07-14 01:35:52.000000000,2012-07-18 01:02:07.000000000,2012-07-18 00:37:30.000000000,37,23,0,9810,c398af18b0b8fb5fb075be22563812e179290b2a,9,3,3,6,1132,Brian Waldon,bcwaldon,"Replace static v2 Image model with warlock model

* Add warlock v0.1.0 as a dependency
* Generate a pythonic, self-validating Image model using warlock
* Add raw method to Schema model
* Related to bp glance-client-v2

Change-Id: Ib98e912a7af0bb570b4fd738733edd9b837d1a04
"
openstack%2Fpython-glanceclient~master~Ib98e912a7af0bb570b4fd738733edd9b837d1a06,openstack/python-glanceclient,master,bp/glance-client-v2,Ib98e912a7af0bb570b4fd738733edd9b837d1a06,Add support for viewing a single image through v2,MERGED,2012-07-14 01:35:52.000000000,2012-07-18 01:02:07.000000000,2012-07-18 00:37:30.000000000,94,0,0,9809,b6cef9d145f870dd717843751f0c5d68867e07d5,10,3,3,3,1132,Brian Waldon,bcwaldon,"Add support for viewing a single image through v2

* Add image-create command
* Add tests for Image model, Controller.get, and Controller.list
* Related to bp glance-client-v2

Change-Id: Ib98e912a7af0bb570b4fd738733edd9b837d1a06
"
openstack%2Fpython-glanceclient~master~Ib98e912a7af0bb570b4fd738733edd9b837d1a05,openstack/python-glanceclient,master,bp/glance-client-v2,Ib98e912a7af0bb570b4fd738733edd9b837d1a05,Rewrite link parsing for finding v2 schemas,MERGED,2012-07-14 01:35:52.000000000,2012-07-18 01:02:07.000000000,2012-07-18 01:02:07.000000000,26,13,6,9808,f0445a1b443182cf77e27038cc5f90c424e00c62,14,3,3,4,1132,Brian Waldon,bcwaldon,"Rewrite link parsing for finding v2 schemas

What we called 'links' are no longer returned in a container of
objects, they are top-level entity attribtues. This fixes the
parsing of the entities to look in the correct place when trying
to locate a specific schema.

Add a helper for printing to stderr and exiting with a non-zero
exit code.

Map 'name' to 'Attribute' when explaining a schema.

Related to bp glance-client-v2

Change-Id: Ib98e912a7af0bb570b4fd738733edd9b837d1a05
"
openstack%2Fheat~master~I2d7e169adb9205faa109634a9ae15a9f34e4bd75,openstack/heat,master,master,I2d7e169adb9205faa109634a9ae15a9f34e4bd75,Update openstack-common,MERGED,2012-07-18 00:49:14.000000000,2012-07-18 00:49:14.000000000,2012-07-18 00:49:14.000000000,11,4,0,9951,97d8118f6e9a072e93e0ac59c6c614aff739afed,5,2,1,3,2834,Steven Dake,sdake,"Update openstack-common

Change-Id: I2d7e169adb9205faa109634a9ae15a9f34e4bd75
Signed-off-by: Steven Dake <sdake@redhat.com>
"
openstack%2Fpython-glanceclient~master~I4b7e9aae35cc49e5fa89ca33d2399784c2afd029,openstack/python-glanceclient,master,master,I4b7e9aae35cc49e5fa89ca33d2399784c2afd029,Update README usage examples,MERGED,2012-07-11 01:39:22.000000000,2012-07-18 00:19:02.000000000,2012-07-18 00:19:02.000000000,12,49,2,9621,6206f420284c77f6c0b2d46b05c5ddc3df99d785,23,5,5,1,1132,Brian Waldon,bcwaldon,"Update README usage examples

* Update the python snippet to reflect reality
* Fix broken links
* Remove superfluous text

Change-Id: I4b7e9aae35cc49e5fa89ca33d2399784c2afd029
"
openstack%2Fpbr~master~I039f8fbd6b16d754ccfd036b4b60419ad315b896,openstack/pbr,master,master,I039f8fbd6b16d754ccfd036b4b60419ad315b896,Appropriately inject build_sphinx options.,MERGED,2012-07-17 23:09:16.000000000,2012-07-18 00:06:35.000000000,2012-07-18 00:06:35.000000000,9,8,0,9945,0daa8368f59764bc5dd69f06129dbc934813b986,6,3,1,1,2,Monty Taylor,mordred,"Appropriately inject build_sphinx options.

Change-Id: I039f8fbd6b16d754ccfd036b4b60419ad315b896
"
openstack%2Fopenstack-manuals~master~If3911b8920bddba16b72a75ba2d5a0c5b360d0ed,openstack/openstack-manuals,master,net-troubleshoot,If3911b8920bddba16b72a75ba2d5a0c5b360d0ed,Expand network troubleshooting section,MERGED,2012-07-08 20:11:59.000000000,2012-07-17 23:50:00.000000000,2012-07-17 23:50:00.000000000,88,59,0,9494,4abefeabc67371e522bce6c78b8f915ca5a8475b,15,5,3,1,321,Lorin Hochstein,lorinh,"Expand network troubleshooting section

Move troubleshooting from a subsubsection of Networking
(under floating IPs) to a subsection.

Add content about disabling reverse path filtering.

Add content about temporarily disabling firewall.

Patch set makes the xml:id=""network-troubleshooting"" and attempts to
address ambiguity pointed out in bug 1024321.

Change-Id: If3911b8920bddba16b72a75ba2d5a0c5b360d0ed
"
openstack%2Fpbr~master~I5b5649dddc77b39b887d2bf32ebfb92144a813e5,openstack/pbr,master,master,I5b5649dddc77b39b887d2bf32ebfb92144a813e5,Re-add explicit setuptools-git require.,MERGED,2012-07-17 22:18:26.000000000,2012-07-17 22:27:50.000000000,2012-07-17 22:27:50.000000000,1,8,0,9941,e328e501468762c3ad4c4d2c17a5f98b1a2320f1,6,2,1,2,2,Monty Taylor,mordred,"Re-add explicit setuptools-git require.

Change-Id: I5b5649dddc77b39b887d2bf32ebfb92144a813e5
"
openstack%2Fpbr~master~Id0af2cafc7216c39ad1aafff8f999922a88468a4,openstack/pbr,master,master,Id0af2cafc7216c39ad1aafff8f999922a88468a4,Skip inferring requirements from entry_points.,MERGED,2012-07-17 21:59:52.000000000,2012-07-17 22:23:00.000000000,2012-07-17 22:23:00.000000000,9,0,0,9939,e816661a9349fc4ea5656935b9e07a5de37a0266,6,3,1,1,2,Monty Taylor,mordred,"Skip inferring requirements from entry_points.

Change-Id: Id0af2cafc7216c39ad1aafff8f999922a88468a4
"
openstack%2Fpbr~master~I75407e25739b6af3c67df023e24591a6b3ad6d34,openstack/pbr,master,master,I75407e25739b6af3c67df023e24591a6b3ad6d34,Trim token lines from requires.,MERGED,2012-07-17 19:01:45.000000000,2012-07-17 22:22:59.000000000,2012-07-17 22:22:59.000000000,7,3,0,9929,0488634d421a1dd9c9fc4731779ca4807dc3e6d6,5,2,1,1,2,Monty Taylor,mordred,"Trim token lines from requires.

setup_requires can cause pbr to be installed with easy_install, which sadly
enough is confused by comments.

Change-Id: I75407e25739b6af3c67df023e24591a6b3ad6d34
"
openstack%2Fheat~master~I219a57fdd1b600f185cafdb31d611f16c92698c9,openstack/heat,master,master,I219a57fdd1b600f185cafdb31d611f16c92698c9,Erase openstack-utils when uninstalling OpenStack,MERGED,2012-07-17 19:50:49.000000000,2012-07-17 19:50:49.000000000,2012-07-17 19:50:49.000000000,1,1,0,9931,3a4f2225269f4f0f963ff828cb1d88c9b3c5008c,5,2,1,1,4257,Zane Bitter,zaneb,"Erase openstack-utils when uninstalling OpenStack

Change-Id: I219a57fdd1b600f185cafdb31d611f16c92698c9
Signed-off-by: Zane Bitter <zbitter@redhat.com>
"
openstack%2Fneutron~master~Ia1f9a95eb9e956d0d65efb50e674de18d0552b6e,openstack/neutron,master,bug/1022966,Ia1f9a95eb9e956d0d65efb50e674de18d0552b6e,Raise proper exception if policy file do not exist,MERGED,2012-07-17 19:28:59.000000000,2012-07-17 19:28:59.000000000,2012-07-17 19:28:59.000000000,4,2,4,9625,2cb30561416a499673c8a32cf7700963ca772da7,17,6,4,2,2967,ljjjustin,ljjjustin,"Raise proper exception if policy file do not exist

Fixes bug 1022966.

Change-Id: Ia1f9a95eb9e956d0d65efb50e674de18d0552b6e
"
openstack%2Fdevstack~master~I22a5d4fe154ea04bd35d89db6d63734b5bd405aa,openstack/devstack,master,start-tgtd,I22a5d4fe154ea04bd35d89db6d63734b5bd405aa,Stop avoiding calling systemctl for tgtd on Fedora,MERGED,2012-06-29 13:06:44.000000000,2012-07-17 18:50:53.000000000,2012-07-17 18:50:53.000000000,1,2,0,9169,9604b7427199a3dd65f67f7f32b423cdac4479ff,10,3,1,1,4460,Vincent Untz,vuntz,"Stop avoiding calling systemctl for tgtd on Fedora

The bug that lead to this workaround was fixed and an update is
available for Fedora:
  https://bugzilla.redhat.com/show_bug.cgi?id=797913

Keeping this workaround would be annoying as --skip-redirect doesn't
exist on all rpm-based distributions, and we'd have to remember using it
everywhere we interact with the tgtd service.

Change-Id: I22a5d4fe154ea04bd35d89db6d63734b5bd405aa
"
openstack%2Fdevstack~master~Ie7f21a5f76ea7988ce817568edac7222cf7063d1,openstack/devstack,master,bug/1019462,Ie7f21a5f76ea7988ce817568edac7222cf7063d1,Devstack support for Quantum DHCP,MERGED,2012-07-16 22:03:29.000000000,2012-07-17 18:24:21.000000000,2012-07-17 17:04:00.000000000,32,0,2,9875,bff593d9282742aa7e7f2feeb3f3862978a1ea99,13,6,2,2,1653,garyk,garyk,"Devstack support for Quantum DHCP

Fixes bug 1019462.

A new screen q-dhcp is created for the agent output.

Change-Id: Ie7f21a5f76ea7988ce817568edac7222cf7063d1
"
openstack%2Fneutron~master~I498e578affef4fa9df6c50cd7284ebd7e3f9a64e,openstack/neutron,master,bug/1019230,I498e578affef4fa9df6c50cd7284ebd7e3f9a64e,"fix bug lp:1019230,update rpc from openstack-common.",MERGED,2012-07-17 18:16:41.000000000,2012-07-17 18:16:53.000000000,2012-07-17 18:16:41.000000000,4006,9,5,9166,6f99f4fee99159b6c3b270eeb1f5dd8dae78e407,47,10,9,20,1313,Yaguang Tang,heut2008,"fix bug lp:1019230,update rpc from openstack-common.

Change-Id: I498e578affef4fa9df6c50cd7284ebd7e3f9a64e
"
openstack%2Fnova~master~I3383da29312aef210ae41bfc3c0368afa37773a2,openstack/nova,master,bug/1025722,I3383da29312aef210ae41bfc3c0368afa37773a2,Avoid bad state in api.py when start/stop/reboot actions fail,ABANDONED,2012-07-17 17:01:22.000000000,2012-07-17 18:10:19.000000000,,30,35,0,9922,ad4c7a85d2a2bb6282ee9301ee520701392f85e1,11,5,1,3,4393,Dan Smith,danms,"Avoid bad state in api.py when start/stop/reboot actions fail

Right now, the task_state logic in compute/api.py is broken, such
that instances can get stuck in an uneditable state if a start, stop,
or reboot action is performed that fails. The easiest way to reproduce
this is with admin locking, such as:

1. nova boot .... foo
2. nova lock foo (as admin)
3. nova stop foo (as user)
4. nova unlock foo (as admin)
5. nova stop foo (as either) -> fails due to task_state==stopping
6. nova start foo (as either) -> fails due to vm_state==active

The only way out of it is to delete the instance or hack the database.

The root cause is that stop, reboot, (and sometimes start) are
cast'd through RPC, and the task_state is updated without regard
to whether these operations failed or succeeded. This patch changes
those operations to always be call'd through RPC, and the task_state
is only updated on success. This prevents the user or admin from
getting stuck in a situation such as the above.

Note the change in the api.py::check_instance_state() decorator,
which fixes a related/dependent issue of not properly ignoring
task_state when called with None. The None gets cast to set([None]),
which doesn't match ""is None"" and thus isn't properly ignored.

Fixes bug 1025722

Change-Id: I3383da29312aef210ae41bfc3c0368afa37773a2
"
openstack%2Fdevstack~stable%2Fessex~I2fc9c55b444bac355347f0d53b5971d4b809fbff,openstack/devstack,stable/essex,bug/1020513,I2fc9c55b444bac355347f0d53b5971d4b809fbff,Fix bug 1020513 by downloading xenapi plugins from correct place,MERGED,2012-07-03 11:26:18.000000000,2012-07-17 18:04:28.000000000,2012-07-17 18:04:28.000000000,3,2,0,9262,e40926df2132f6983cc005bec45703eacbea57e5,18,7,5,1,782,John Garbutt,johngarbutt,"Fix bug 1020513 by downloading xenapi plugins from correct place

Cherry picked from:
https://review.openstack.org/#/c/9263/

Change-Id: I2fc9c55b444bac355347f0d53b5971d4b809fbff
"
openstack%2Fdevstack~master~I2fc9c55b444bac355347f0d53b5971d4b809fbff,openstack/devstack,master,bug/1020513,I2fc9c55b444bac355347f0d53b5971d4b809fbff,Fix bug 1020513 by downloading xenapi plugins from correct place,MERGED,2012-07-03 11:44:10.000000000,2012-07-17 18:02:51.000000000,2012-07-17 18:02:51.000000000,3,2,4,9263,7fc6dcd092d3bd638514403e888b05808a0ad911,13,5,3,1,782,John Garbutt,johngarbutt,"Fix bug 1020513 by downloading xenapi plugins from correct place

Change-Id: I2fc9c55b444bac355347f0d53b5971d4b809fbff
"
openstack%2Fdevstack~master~Ia72b935575ed8b7c635e8f8edeea835754b2d49f,openstack/devstack,master,9170-tgt-start,Ia72b935575ed8b7c635e8f8edeea835754b2d49f,Start tgtd service after installing the rpm,MERGED,2012-06-29 13:06:44.000000000,2012-07-17 17:41:02.000000000,2012-07-17 17:41:02.000000000,10,0,0,9170,0230aa899bb6900ca5c343d6360e79e205ac8f2c,15,4,2,2,4460,Vincent Untz,vuntz,"Start tgtd service after installing the rpm

The later call to tgtadm needs the daemon to be running, and the rpm
package doesn't start it.

Rebased and add a corresponding change for cinder.

Change-Id: Ia72b935575ed8b7c635e8f8edeea835754b2d49f
"
openstack%2Fnova~master~I6181713c3228632a50af055109f60728ab0f22e4,openstack/nova,master,code_cleanup,I6181713c3228632a50af055109f60728ab0f22e4,remove unused clauses[] variable,MERGED,2012-07-17 16:03:54.000000000,2012-07-17 17:37:10.000000000,2012-07-17 17:37:09.000000000,0,1,0,9919,acb158714c562d3142bf2f3f560dc374daa2df7d,8,5,1,1,2750,Sean Dague,sdague,"remove unused clauses[] variable

This seems to have been left over from a prior implementation.
Remove it for code hygene.

Change-Id: I6181713c3228632a50af055109f60728ab0f22e4
"
openstack%2Fnova~stable%2Fessex~I3cc36337c7e67cf487ca49de646c437c217ae538,openstack/nova,stable/essex,,I3cc36337c7e67cf487ca49de646c437c217ae538,Expose over-quota exceptions via native API.,MERGED,2012-07-06 13:08:20.000000000,2012-07-17 17:08:40.000000000,2012-07-17 17:08:39.000000000,47,9,4,9430,4c49df742d1730b124f81e30f12e61602966a819,16,5,3,3,2284,Eoghan Glynn,eglynn,"Expose over-quota exceptions via native API.

Fixes bug LP 1021373.

Previously an over-quota condition would be exposed via the EC2 API,
but hidden in the corresponding call via the native API (in the sense
of the exception detail being replaced with a generic 500 Server Error
response).

We now report any NovaException declared to be safe. In this patch,
the set of safe exception types includes any subclass of QuotaError,
but in subsequent patches the net should be widened to include
exceptions that do not expose senstive information.

Change-Id: I3cc36337c7e67cf487ca49de646c437c217ae538
"
openstack%2Fpbr~master~I1dddec2e3a5979f4261e546f3a27bcd16e76bede,openstack/pbr,master,master,I1dddec2e3a5979f4261e546f3a27bcd16e76bede,Reasonableness.,MERGED,2012-07-17 17:01:48.000000000,2012-07-17 17:08:03.000000000,2012-07-17 17:08:03.000000000,1,1,0,9923,e1b82b042b4a91ff2f236950b2a73e3c6e128768,5,2,1,1,2,Monty Taylor,mordred,"Reasonableness.

Change-Id: I1dddec2e3a5979f4261e546f3a27bcd16e76bede
"
openstack%2Fheat~master~I2e5b136240db2fe8f6dfad27da7e31b2a5053a1c,openstack/heat,master,master,I2e5b136240db2fe8f6dfad27da7e31b2a5053a1c,heat : update config files with new rpc backend,MERGED,2012-07-17 17:07:54.000000000,2012-07-17 17:07:54.000000000,2012-07-17 17:07:54.000000000,6,0,0,9921,bb79672aec6b50b86c087dc7e2bb28d460893bde,5,2,1,3,4328,Steven Hardy,shardy,"heat : update config files with new rpc backend

heat-engine.conf, heat-api.conf, heat-metadata.conf
should have:
rpc_backend=heat.openstack.common.rpc.impl_qpid
to work with the reworked rpc code.

Change-Id: I2e5b136240db2fe8f6dfad27da7e31b2a5053a1c
Signed-off-by: Steven Hardy <shardy@redhat.com>
"
openstack%2Fpbr~master~I751d04102b9c110c0c7f86d3e0a1d7789274b9da,openstack/pbr,master,master,I751d04102b9c110c0c7f86d3e0a1d7789274b9da,Fix requirements recursion.,MERGED,2012-07-17 16:25:28.000000000,2012-07-17 17:07:16.000000000,2012-07-17 17:07:16.000000000,8,1,2,9920,d6879c0e3d195bf92247c5416988fac6b6cfc412,7,4,1,2,2,Monty Taylor,mordred,"Fix requirements recursion.

Can't actually depend on setuptools-git in setup_requires while we're
processing dependency links in the same package. That's ok - we can manage
that by hand for this one.

Change-Id: I751d04102b9c110c0c7f86d3e0a1d7789274b9da
"
openstack%2Fkeystone~master~Id4d792c2a6bcb9bdcb93e9fa88c9b32114e61f81,openstack/keystone,master,bp/ocf-support,Id4d792c2a6bcb9bdcb93e9fa88c9b32114e61f81,Add an OCF resource agent to Keystone.,ABANDONED,2012-07-17 09:51:00.000000000,2012-07-17 16:32:34.000000000,,371,0,0,9896,6cebf150ea575b9467c853e66884230337c91ea9,3,2,1,2,2792,Martin Gerhard Loschwitz,martin-loschwitz,"Add an OCF resource agent to Keystone.

Implements blueprint ocf-support.

This change set adds the newly written OCF resource agent to Keystone
in order to make it possible to run Keystone as a resource managed by
the Pacemaker cluster manager. Further details about this agent (and
the ones for Glance, too) can be found in this extensive blog post I
wrote when initially putting them up for testing:

http://www.hastexo.com/blogs/martin/2012/04/03/bringing-high-availability-openstack-keystone-and-glance

Change-Id: Id4d792c2a6bcb9bdcb93e9fa88c9b32114e61f81
"
openstack%2Fheat~master~I4badc7ca22298cd0aafc57a2335b3d6801289be8,openstack/heat,master,master,I4badc7ca22298cd0aafc57a2335b3d6801289be8,Import openstack.common.rpc,MERGED,2012-07-17 15:59:49.000000000,2012-07-17 15:59:49.000000000,2012-07-17 15:59:49.000000000,2474,823,0,9918,e9eee939c7792f857b4be2f085bf05c47642504d,6,3,1,22,2834,Steven Dake,sdake,"Import openstack.common.rpc

Use openstack.common routines.  One of the parameters changed to
create_consumer().

Thanks to Russell Bryant for assistance with sorting out that problem.

Change-Id: I4badc7ca22298cd0aafc57a2335b3d6801289be8
Signed-off-by: Steven Dake <sdake@redhat.com>
"
openstack%2Fglance~master~I1bf5784193e63156bc5fe140ad6e403669c7909d,openstack/glance,master,exclude_openstack_runtests_sh,I1bf5784193e63156bc5fe140ad6e403669c7909d,Updates run_tests.sh to exclude openstack-common.,MERGED,2012-07-13 18:27:59.000000000,2012-07-17 15:33:50.000000000,2012-07-17 15:33:50.000000000,1,1,0,9781,ede120a32d22d39397500304a74c40a11b7f0df3,7,4,1,1,360,Dan Prince,dan-prince,"Updates run_tests.sh to exclude openstack-common.

We exclude openstack-common in tox.ini already. This change updates
run_tests.sh to match that behaviour.

Change-Id: I1bf5784193e63156bc5fe140ad6e403669c7909d
"
openstack%2Fglance~master~I14aac59e00a2672fd98f6dab221096ab5de86855,openstack/glance,master,bug/1023892,I14aac59e00a2672fd98f6dab221096ab5de86855,Prevent client from overriding important headers.,MERGED,2012-07-16 16:08:49.000000000,2012-07-17 15:26:08.000000000,2012-07-17 15:26:08.000000000,50,0,0,9855,920096f0f6c7fdc20d906b58e202a5d505dd3a4e,7,4,1,3,4950,lars-gellrich,lars-gellrich,"Prevent client from overriding important headers.

The glance client offered the opportunity to override
important headers via the features parameter during image
creation or update.

Created a blacklist of unsupported features like:
content-length
content-type
x-image-meta-size

These headers should not be overriden by the client.

Fixes LP Bug #1023892

Change-Id: I14aac59e00a2672fd98f6dab221096ab5de86855
"
openstack%2Fpython-novaclient~master~Ie4196281a34a83316425eada871865e4a33fab5d,openstack/python-novaclient,master,modify-instance-sg,Ie4196281a34a83316425eada871865e4a33fab5d,Add support for modification of instance Security Group,MERGED,2012-07-10 02:56:02.000000000,2012-07-17 15:24:10.000000000,2012-07-17 15:24:09.000000000,66,0,0,9573,33cc7b1826dd1b72b93ba45931270a80e20f5477,6,3,1,4,1678,Tiantian Gao,gtt116,"Add support for modification of instance Security Group

Change-Id: Ie4196281a34a83316425eada871865e4a33fab5d
"
openstack%2Fpython-novaclient~master~I71f2c8583cca33d2f1be2a2daa856ecec524267e,openstack/python-novaclient,master,bug/1016680,I71f2c8583cca33d2f1be2a2daa856ecec524267e,Flavor-list sort by ID numerically,MERGED,2012-06-29 19:58:50.000000000,2012-07-17 15:22:36.000000000,2012-07-17 15:22:36.000000000,3,0,1,9185,dde84ebdb88c2e97bf42fa7e2107a5dcb5bb357b,11,4,2,1,1071,,,"Flavor-list sort by ID numerically

Fixes bug 1016680 - the flavors list created has
ID field value as a unicode string therefore sort
on it not the same as numerical.

Change-Id: I71f2c8583cca33d2f1be2a2daa856ecec524267e
"
openstack%2Fheat~master~I5989a436964c199df0dc38dbb191dc3d867e5ce7,openstack/heat,master,master,I5989a436964c199df0dc38dbb191dc3d867e5ce7,Use global cfg.CONF instead of config classes,MERGED,2012-07-17 14:43:59.000000000,2012-07-17 14:43:59.000000000,2012-07-17 14:43:59.000000000,194,203,0,9914,b0a0f0c24e9b86ac3ab1862f3be140e79e62ca87,5,2,1,13,2834,Steven Dake,sdake,"Use global cfg.CONF instead of config classes

Importing rpc.common requires the use of the global cfg.CONF.
In fact, most of common requires the use of this global.  This
patch removes all the object specific access to config options
and directly accesses the global in prep for rpc openstack-common
import.

Change-Id: I5989a436964c199df0dc38dbb191dc3d867e5ce7
Signed-off-by: Steven Dake <sdake@redhat.com>
"
openstack%2Fhorizon~master~I60ae7435053cc5897e8dd7dd60c28800e690aa0e,openstack/horizon,master,bug/982595,I60ae7435053cc5897e8dd7dd60c28800e690aa0e,Fix populating tenant chooser,ABANDONED,2012-04-15 21:02:00.000000000,2012-07-17 14:39:14.000000000,,2,1,0,6579,a08547d283cf1acb6940494244fac8d951e80088,3,0,1,1,1783,Cole Robinson,crobinso,"Fix populating tenant chooser

https://bugs.launchpad.net/horizon/+bug/982595

The publicURL makes things work here, but I'm not sure if it's the
correct fix.

Change-Id: I60ae7435053cc5897e8dd7dd60c28800e690aa0e
"
openstack%2Foslo-incubator~master~I8c1a57225a2c135e6baf567b8e71d61e974da4e2,openstack/oslo-incubator,master,bug/1025522,I8c1a57225a2c135e6baf567b8e71d61e974da4e2,cfg: allow empty config values,MERGED,2012-07-17 14:14:40.000000000,2012-07-17 14:14:40.000000000,2012-07-17 14:14:40.000000000,7,1,0,9891,ace759e55d7c87dc66a500d598d1355dd3c0408f,7,4,1,2,1247,Mark McLoughlin,markmc,"cfg: allow empty config values

Fixes bug #1025522

Commit 83044a7 caused this to stop working in Quantum:

  api_extensions_path =

and could only be worked around with:

  api_extensions_path = """"

Change-Id: I8c1a57225a2c135e6baf567b8e71d61e974da4e2
"
openstack%2Fdevstack~master~I33905b393e1cd4b1879badd9f96fd069b8b26239,openstack/devstack,master,,I33905b393e1cd4b1879badd9f96fd069b8b26239,sq,ABANDONED,2012-07-17 11:09:42.000000000,2012-07-17 11:29:59.000000000,,4,0,0,9898,1adb7c50f2fe7f2737316de048863088d0b3085b,2,1,1,1,2284,Eoghan Glynn,eglynn,"sq

Change-Id: I33905b393e1cd4b1879badd9f96fd069b8b26239
"
openstack%2Fkeystone~master~I523ce1f724d3a4331cc2b67f6148e589c7c94209,openstack/keystone,master,bp/ocf-support,I523ce1f724d3a4331cc2b67f6148e589c7c94209,Add an OCF resource agent to Keystone.,ABANDONED,2012-07-17 09:37:11.000000000,2012-07-17 09:38:28.000000000,,371,0,0,9895,61586ef191034a43a2a2562c271d3b9dc3115e9e,1,0,1,2,2792,Martin Gerhard Loschwitz,martin-loschwitz,"Add an OCF resource agent to Keystone.

Implements blueprint ocf-support.

This change set adds the newly written OCF resource agent to Keystone
in order to make it possible to run Keystone as a resource managed by
the Pacemaker cluster manager. Further details about this agent (and
the ones for Glance, too) can be found in this extensive blog post I
wrote when initially putting them up for testing:

http://www.hastexo.com/blogs/martin/2012/04/03/bringing-high-availability-openstack-keystone-and-glance

Change-Id: I523ce1f724d3a4331cc2b67f6148e589c7c94209
"
openstack%2Fopenstack-manuals~master~I5f3f098efadd80bb5cca1f420b0f862202b559e3,openstack/openstack-manuals,master,os-relnamepath-install-guide,I5f3f098efadd80bb5cca1f420b0f862202b559e3,Update build process so two uniquely-named PDF files are output.,MERGED,2012-07-13 21:15:51.000000000,2012-07-17 08:19:12.000000000,2012-07-17 08:19:12.000000000,21,8,0,9795,bc46b18d0f5649018c1dde1cf923b38c892544b6,4,3,1,2,964,Anne Gentle,annegentle,"Update build process so two uniquely-named PDF files are output.

Change-Id: I5f3f098efadd80bb5cca1f420b0f862202b559e3
"
openstack%2Fopenstack-manuals~master~I5cdfb1a59c9029760de4796127bfbe16f4306d4c,openstack/openstack-manuals,master,9617,I5cdfb1a59c9029760de4796127bfbe16f4306d4c,connection_type => compute_driver,MERGED,2012-07-10 23:36:30.000000000,2012-07-17 08:09:27.000000000,2012-07-17 08:09:27.000000000,60,150,0,9617,e421478fad055e64ddc5cbd5c691aa9609ca389a,9,6,3,9,2750,Sean Dague,sdague,"connection_type => compute_driver

Convert examples that use connection_type to compute_driver with
appropriate driver strings. There probably needs to be slightly more
explanation of the change. Also, there are additional tables that
are not modified by this patch, as I was unclear if they were
autogenerated or not.

Patchset does an include for updates
to the hypervisor config table and common config table
with the new compute_driver settings.

Change-Id: I5cdfb1a59c9029760de4796127bfbe16f4306d4c
"
openstack%2Fopenstack-manuals~stable%2Fessex~Ie973e4b26bd7e1cd9ba032708d235614077b8b12,openstack/openstack-manuals,stable/essex,essex-noquotes,Ie973e4b26bd7e1cd9ba032708d235614077b8b12,Don't quote options in nova.conf,MERGED,2012-07-08 23:51:37.000000000,2012-07-17 08:07:32.000000000,2012-07-17 08:07:32.000000000,240,227,0,9498,b7f2b1a78700199b68d25483c3b7c3a5bbf1dfa5,4,3,1,22,321,Lorin Hochstein,lorinh,"Don't quote options in nova.conf

This was in trunk but had not been backported to essex.

Change-Id: Ie973e4b26bd7e1cd9ba032708d235614077b8b12
"
openstack%2Fswift~master~I226de54c2785b0d0b681c8d0cc24260adbd3d663,openstack/swift,master,bug/1024561,I226de54c2785b0d0b681c8d0cc24260adbd3d663,Fix Dispersion report and swift-bench on saio,MERGED,2012-07-13 22:52:24.000000000,2012-07-17 06:33:59.000000000,2012-07-17 06:33:59.000000000,4,4,0,9802,5f72a8db4a9c31d0139b523e6b5a4e0c966294bc,6,3,1,3,1603,Florian Hines,pandemicsyn,"Fix Dispersion report and swift-bench on saio

We're still using saio:11000 in a few spots so a few things
don't work out of the box on the saio. Fixes bug #1024561

Change-Id: I226de54c2785b0d0b681c8d0cc24260adbd3d663
"
openstack%2Fkeystone~master~Ia3c3f4976abda8795807ca6b11dcbbca7d690866,openstack/keystone,master,bug/1022614,Ia3c3f4976abda8795807ca6b11dcbbca7d690866,Fix token expiry in memcache token backend,ABANDONED,2012-07-09 16:38:30.000000000,2012-07-17 06:03:05.000000000,,8,11,6,9525,941f91683b98bfa3bcb1ce850b112bea97a21478,9,5,2,2,2035,Maru Newby,maru,"Fix token expiry in memcache token backend

 * Added explicit check for expiry on token retrieval
 * Removed expiry check in fake MemcacheClient used for testing,
   since this behaviour doesn't seem to be present in
   python-memcached.
 * Addresses bug 1022614

Change-Id: Ia3c3f4976abda8795807ca6b11dcbbca7d690866
"
openstack%2Fnova~master~I3e2565360afdfc0c5e9326e1af9a6b39c6a69df3,openstack/nova,master,master,I3e2565360afdfc0c5e9326e1af9a6b39c6a69df3,Check for an valid zone before creating a volume.,ABANDONED,2012-06-22 20:52:35.000000000,2012-07-17 06:03:04.000000000,,35,5,13,8875,c20b07caa34ad71926fdebc949215e0418fddbee,39,6,11,5,24,Chuck Short,zulcss,"Check for an valid zone before creating a volume.

In order to create a volume, one must specifiy
a zone to be created. If an invalid zone is specified
then the volume should not be created.

Check the zone to see if it exists before creating it,
display a message about zone not existing if it doesnt.

This fixes LP: #1016111

Change-Id: I3e2565360afdfc0c5e9326e1af9a6b39c6a69df3
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Foslo-incubator~master~I170477bccb3ad9505fe6dbfbc214f77c09f6862f,openstack/oslo-incubator,master,pluginfixes,I170477bccb3ad9505fe6dbfbc214f77c09f6862f,Don't switch to list_notifier unless necessary.,MERGED,2012-07-17 00:38:50.000000000,2012-07-17 00:38:50.000000000,2012-07-17 00:38:50.000000000,33,17,9,9688,412ecf59c03b98c7cbb18ce9e1a24267c1f3d730,24,4,4,2,1998,andrewbogott,andrewbogott,"Don't switch to list_notifier unless necessary.

Some notification tests depend on a different, single notifier being
used. So, don't switch to the list notifier just because we loaded
this class; only switch if an actual plugin needs it.

Also: improved the test that makes sure all this notifier-switching
doesn't break the notifier that was present in the first place.

Change-Id: I170477bccb3ad9505fe6dbfbc214f77c09f6862f
"
openstack%2Fheat~master~I8e1e9aef790b0af026da2a2d6194da19345be8b0,openstack/heat,master,master,I8e1e9aef790b0af026da2a2d6194da19345be8b0,Get rid of eval() in authentication code,MERGED,2012-07-16 22:08:51.000000000,2012-07-16 22:08:51.000000000,2012-07-16 22:08:51.000000000,3,7,0,9861,9d88e8d303fce338bb3d99e83ac96464b193ac9f,5,2,1,2,4257,Zane Bitter,zaneb,"Get rid of eval() in authentication code

This was not secure. Pass the auth data in JSON format rather than as a
serialised Python object.

Fixes #124

Change-Id: I8e1e9aef790b0af026da2a2d6194da19345be8b0
Signed-off-by: Zane Bitter <zbitter@redhat.com>
"
openstack%2Fdevstack~master~I6a92d47bfebe0b42e2aa521f38355d9213b778f1,openstack/devstack,master,bug/1019462,I6a92d47bfebe0b42e2aa521f38355d9213b778f1,Devstack support for Quantum DHCP,ABANDONED,2012-07-05 13:00:18.000000000,2012-07-16 22:05:14.000000000,,31,0,2,9362,911d057eedca567d5deb2b372bd04111ccb04214,14,5,4,2,1653,garyk,garyk,"Devstack support for Quantum DHCP

Fixes bug 1019462.

A new screen q-dhcp is created for the agent output.

Change-Id: I6a92d47bfebe0b42e2aa521f38355d9213b778f1
"
openstack%2Fnova~master~I7389f0b7f03313d7f04b907f481787dadf0716fd,openstack/nova,master,bp/xenapi-live-migration,I7389f0b7f03313d7f04b907f481787dadf0716fd,Refactoring required for blueprint xenapi-live-migration,MERGED,2012-06-08 10:14:50.000000000,2012-07-16 20:38:15.000000000,2012-07-16 20:38:14.000000000,769,674,32,8329,cac332c39645286a11c009094a86f62d02752183,115,12,24,13,782,John Garbutt,johngarbutt,"Refactoring required for blueprint xenapi-live-migration

This refactoring of the libvirt live migration code is
required to enable live migration in the xenapi driver.

This change ensures libvirt specific checks are performed
only when the libvirt driver is enabled.

The complication is that some of these checks require
information to be passed between the source and destination
hosts. For example, when comparing CPU flags.

Change-Id: I7389f0b7f03313d7f04b907f481787dadf0716fd
"
openstack%2Fdevstack~master~Iaf0a90a3fff99c012d5093a30098329996ae800a,openstack/devstack,master,authors-ew,Iaf0a90a3fff99c012d5093a30098329996ae800a,Add Eric Windisch to AUTHORS,MERGED,2012-07-05 20:59:06.000000000,2012-07-16 20:12:18.000000000,2012-07-16 20:12:18.000000000,1,0,0,9405,d63044662501e9ef3bb6c4593dff789ef13eec5b,5,2,1,1,159,Eric Windisch,ewindisch,"Add Eric Windisch to AUTHORS

Change-Id: Iaf0a90a3fff99c012d5093a30098329996ae800a
"
openstack%2Fpython-swiftclient~master~I4e12d76050720bec5126db3c87391dbbe54773a2,openstack/python-swiftclient,master,doc-updates,I4e12d76050720bec5126db3c87391dbbe54773a2,"Removes the title ""Swift Web"" from landing page.",MERGED,2012-07-05 11:51:25.000000000,2012-07-16 18:34:49.000000000,2012-07-16 18:34:49.000000000,1,1,0,9353,44e62db09504137ece46f8aa84d92ca6a832140c,10,3,1,1,964,Anne Gentle,annegentle,"Removes the title ""Swift Web"" from landing page.

Also want to test the DocImpact flag for notifications.

Change-Id: I4e12d76050720bec5126db3c87391dbbe54773a2
"
openstack%2Fnova~master~I5c1cdc9db54804c512d60e4179c1faa13516d6f9,openstack/nova,master,,I5c1cdc9db54804c512d60e4179c1faa13516d6f9,Return 413 status on over-quota in the native API.,MERGED,2012-07-06 15:41:35.000000000,2012-07-16 17:58:35.000000000,2012-07-16 17:58:34.000000000,47,4,0,9445,a3576bbb0c7090b97b0b02c88ffa81915db6290b,42,9,6,4,2284,Eoghan Glynn,eglynn,"Return 413 status on over-quota in the native API.

Related to LP 1021373.

Previously we returned a generic 500 Server Error on an over-quota
conditions, whereas this is arguably more appropriately reported
as a 413 status.

Change-Id: I5c1cdc9db54804c512d60e4179c1faa13516d6f9
"
openstack%2Fnova~master~I6ac0f8b6fc31dff589363331e99e0755301f2172,openstack/nova,master,bp/general-host-aggregates,I6ac0f8b6fc31dff589363331e99e0755301f2172,General-host-aggregates part 1.,MERGED,2012-06-20 01:03:33.000000000,2012-07-16 17:36:47.000000000,2012-07-16 17:36:46.000000000,347,287,59,8732,c571ebb89bed12f7fde47d1c45d04b1a13382af0,67,10,15,16,1849,Joe Gordon,jogo,"General-host-aggregates part 1.

Partially implements blueprint general-host-aggregates: Xen decoupling

* keep rpcapi to compute-controller for Hypervisor-Pools
  *  Add compute_rpcapi.add_aggregate_host to libvirt
* Remove aggregate states
* Remove One aggregate per host restriction
* Keep Xen support for both hypervisor pools and aggregates

Change-Id: I6ac0f8b6fc31dff589363331e99e0755301f2172
"
openstack%2Fnova~master~Ibf5c82c52ae7d505ea9e54d64fcc8b8fdce4d05d,openstack/nova,master,snapshots_attached_here,Ibf5c82c52ae7d505ea9e54d64fcc8b8fdce4d05d,Remove VDI chain limit for migrations.,MERGED,2012-07-10 22:24:38.000000000,2012-07-16 17:29:12.000000000,2012-07-16 17:29:11.000000000,164,208,2,9612,f5583a7840947c9eb5b0fb766daecc4e99dd95fe,34,6,4,6,475,Rick Harris,rconradharris,"Remove VDI chain limit for migrations.

The strategy for removing the limit is to refactor migration so that
they work nearly identically to snapshots, meaning sequence-numbered
VHDs are rsynced over into a staging-area and then imported into the SR
using the `import_vhds` function.

Change-Id: Ibf5c82c52ae7d505ea9e54d64fcc8b8fdce4d05d
"
openstack%2Fglance~master~I61e96f3fe5f5245fec791170b4a8b4c72135c3de,openstack/glance,master,,I61e96f3fe5f5245fec791170b4a8b4c72135c3de,Support zero-size image creation via the v1 API,MERGED,2012-07-12 14:34:08.000000000,2012-07-16 17:18:30.000000000,2012-07-16 17:18:30.000000000,82,7,5,9715,6873195cd19d519a5f6f31461b7b683e33b19784,28,6,6,4,2284,Eoghan Glynn,eglynn,"Support zero-size image creation via the v1 API

Addresses LP 1025353 for the v1 API.

Transition image status to active immediately on creation
(as opposed to leaving it queued forever) if the size is set
to zero from the get-go.

The v2 implementation is left unchanged for now, as the image
status does not appear to ever transition from queued to active
in that case.

This change allows an image to be created that simply acts as
a properties bucket, but requires no image data. For example,
an image created from a booted-from-volume instance where only
the kernel, ramdisk ID, and block device mappings are required.

Change-Id: I61e96f3fe5f5245fec791170b4a8b4c72135c3de
"
openstack%2Fdevstack~master~Iaf77b830edc51fd4c820ddff9e1f482bc4c9904d,openstack/devstack,master,bug/1017760,Iaf77b830edc51fd4c820ddff9e1f482bc4c9904d,devstack support for v2 nova/quantum integration,MERGED,2012-06-29 01:40:36.000000000,2012-07-16 17:17:37.000000000,2012-07-16 17:17:37.000000000,69,25,40,9161,9313dfac0358503b679090aba3884937c7d1d813,86,9,20,2,4395,Aaron Rosen,arosen,"devstack support for v2 nova/quantum integration

Adds support to use v1 or v2 quantum api via  NOVA_USE_QUANTUM_API

This fixes bug 1017760

Change-Id: Iaf77b830edc51fd4c820ddff9e1f482bc4c9904d
"
openstack%2Fnova~master~Ib328912be859512b9c5391d9b7aa317ecf29aeab,openstack/nova,master,quotas,Ib328912be859512b9c5391d9b7aa317ecf29aeab,Adding granularity for quotas to list and update,MERGED,2012-07-11 21:33:06.000000000,2012-07-16 17:16:02.000000000,2012-07-16 17:16:02.000000000,9,6,2,9670,0766ec0da0d19be32c2ac07f480b3cb873d8037d,29,8,5,3,335,Paul Voccio,pvo,"Adding granularity for quotas to list and update

added quotas:show and quotas:update to policy.json
defaulting quotas:update to an admin-api default

Change-Id: Ib328912be859512b9c5391d9b7aa317ecf29aeab
"
openstack%2Fheat~master~I4c5b153557216c03e5a98193e54cf75e3c7b97dd,openstack/heat,master,master,I4c5b153557216c03e5a98193e54cf75e3c7b97dd,heat engine/API : Internal API rework,MERGED,2012-07-16 17:11:14.000000000,2012-07-16 17:11:14.000000000,2012-07-16 17:11:14.000000000,452,303,8,9760,d06c4ce416ece13d9a34da8002ad896b6a9b0ecc,12,3,4,6,4328,Steven Hardy,shardy,"heat engine/API : Internal API rework

Refactor engine-api code so that AWS specific
details like key names are handled in the API
Fixes #172

Change-Id: I4c5b153557216c03e5a98193e54cf75e3c7b97dd
Signed-off-by: Steven Hardy <shardy@redhat.com>
"
openstack%2Fdevstack~master~I9b50e88e30d71afd17549d42f04f07a95815906e,openstack/devstack,master,ks_data_verbose,I9b50e88e30d71afd17549d42f04f07a95815906e,enable xtrace for keystone_data.sh,MERGED,2012-06-28 16:29:03.000000000,2012-07-16 16:35:56.000000000,2012-07-16 16:35:56.000000000,1,1,0,9114,55576d6f84a9e7ff33803203315fa59130c158fd,9,5,1,1,748,Armando Migliaccio,armando-migliaccio,"enable xtrace for keystone_data.sh

This is useful for troubleshooting keystone errors.

Change-Id: I9b50e88e30d71afd17549d42f04f07a95815906e
"
openstack%2Fdevstack~master~Ia3939c6e20f8d6fadaa18d2f3619361dc9375696,openstack/devstack,master,feature/update-ignores-file,Ia3939c6e20f8d6fadaa18d2f3619361dc9375696,update list of files for git to ignore,MERGED,2012-07-06 14:10:58.000000000,2012-07-16 16:35:55.000000000,2012-07-16 16:35:55.000000000,4,0,1,9434,a548fc9740a78a997da70e2e76f23e5028ccd32a,10,3,2,1,2472,Doug Hellmann,doug-hellmann,"update list of files for git to ignore

These files are all created in the course of running
devstack and openstack but should not be tracked
as part of the devstack sources.

Change-Id: Ia3939c6e20f8d6fadaa18d2f3619361dc9375696
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fswift~master~I00e5fd04cd1653259606a4ffdd4926db3c84c496,openstack/swift,master,bug/888371,I00e5fd04cd1653259606a4ffdd4926db3c84c496,Adapt Swift for WebOb 1.2,MERGED,2012-06-05 18:44:12.000000000,2012-07-16 16:23:00.000000000,2012-07-16 16:23:00.000000000,194,64,0,8195,de4d23c2a517050ab0afd0c8d0dbab817139b055,31,8,6,20,4405,Iryoung Jeong,iryoung,"Adapt Swift for WebOb 1.2

Based on PatchSet 3 of https://review.openstack.org/#/c/7569/ , make them to pass all funcional tests with both webob 1.x and 1.2.

The additional following compatibility issues were addressed:
 - Until patch for range header issue is merged into official webob release, testRangedGetsWithLWSinHeader() should skip test against webob 1.2
(https://github.com/Pylons/webob/commit/49c175aec2b5c134511dfea6564bfb1d37ab23a9)

 - common.constraints.check_utf8() can accept both utf8 str and unicode.

 - To convert unicode to utf-8 str if necessary.

 - Making proxy_logging can handle invalid utf-8 str

bug 888371
bug 959881

blueprint webob-support

Change-Id: I00e5fd04cd1653259606a4ffdd4926db3c84c496
"
openstack%2Fpython-swiftclient~master~I14f3abdf00da3f9ea7d0651efe76b08f69ddabae,openstack/python-swiftclient,master,fix_doc_build,I14f3abdf00da3f9ea7d0651efe76b08f69ddabae,Consume version info from pkg_resources.,MERGED,2012-07-02 22:00:15.000000000,2012-07-16 16:10:59.000000000,2012-07-16 16:10:59.000000000,208,25,0,9253,7618feaeb12c4128ebe31ed7af3110d15746d0d7,20,4,6,7,4146,Clark Boylan,cboylan,"Consume version info from pkg_resources.

Documenation builds specify a version in doc/source/conf.py that is
used in appropriate places through out the documentation. Previously
this value had not been defined properly and documentation builds
failed. Retrieve the version info using pkg_resources and set it
properly.

Use openstack.common.version to consume the generated version information
for documentation. Additional, add a swiftclient.__version__ member which
will return the version of swiftclient being used.

Change-Id: I14f3abdf00da3f9ea7d0651efe76b08f69ddabae
"
openstack%2Fdevstack~master~Ibcb6fc6d9433dca08e0584ae811a2ca276cc469a,openstack/devstack,master,use-swift-init-for-killing,Ibcb6fc6d9433dca08e0584ae811a2ca276cc469a,Use swift-init to kill swift processes.,MERGED,2012-07-12 05:22:59.000000000,2012-07-16 16:03:42.000000000,2012-07-16 16:03:42.000000000,1,1,0,9702,2a5f681be6f7a9fc1858ab5b9e20a9e20df1c696,6,2,1,1,866,Chmouel Boudjnah,chmouel,"Use swift-init to kill swift processes.

- That pkill wasn't working.

Change-Id: Ibcb6fc6d9433dca08e0584ae811a2ca276cc469a
"
openstack%2Fdevstack~master~I8835ccdee6af58da66c6327ddae8a05b6789d454,openstack/devstack,master,fix-tempest-conf,I8835ccdee6af58da66c6327ddae8a05b6789d454,Adds new parameter interpolations for tempest config,MERGED,2012-07-09 01:04:52.000000000,2012-07-16 16:03:39.000000000,2012-07-16 16:03:39.000000000,38,13,0,9499,3edd5b41bcb969bc6f8403b03ae41700701fac1c,7,3,1,1,7,Jay Pipes,jaypipes,"Adds new parameter interpolations for tempest config

Tempest recently added a number of new config variables
and this patch merely adds those variables to the
template replacement process in tools/configure_tempest.sh

This needs to go in before this:

https://review.openstack.org/#/c/8738/2

Additionally, this patch sets the build_interval to 3
and the build_timeout to 400. This faster status check
interval should allow Tempest to run a bit quicker in the
Jenkins gate job.

Change-Id: I8835ccdee6af58da66c6327ddae8a05b6789d454
"
openstack%2Fdevstack~master~I4dae3b43a700d80b8752a5b846a6ce302fadb751,openstack/devstack,master,install-tar,I4dae3b43a700d80b8752a5b846a6ce302fadb751,Add tar to list of packages to install,MERGED,2012-07-04 10:30:41.000000000,2012-07-16 16:02:01.000000000,2012-07-16 16:02:01.000000000,2,0,0,9310,03086e18b4ea63e7b3a398e7edead425087410f2,6,2,1,2,4460,Vincent Untz,vuntz,"Add tar to list of packages to install

It turns out a minimal Fedora installation doesn't have tar by default.
Since we use tar when uploading the default image to glance, we need to
make sure it's installed. And since it might be useful for other very
generic tasks DevStack might do, just always install it (by putting it
in the general list of packages).

Change-Id: I4dae3b43a700d80b8752a5b846a6ce302fadb751
"
openstack%2Fdevstack~master~I27179c1c212140d6734f6725f498be52fd18e9ed,openstack/devstack,master,feature/override-pip-cache-location,I27179c1c212140d6734f6725f498be52fd18e9ed,Allow user to override pip cache location,MERGED,2012-07-13 15:14:11.000000000,2012-07-16 15:59:46.000000000,2012-07-16 15:59:46.000000000,1,1,0,9766,4d5e29d906068a7a2ed8815b27c48c3b3622af76,8,5,1,1,2472,Doug Hellmann,doug-hellmann,"Allow user to override pip cache location

Building a VM containing devstack is faster if you can save
the cache files for pip in a location that is not deleted
when the VM is rebuilt. This change allows the user to
set the PIP_DOWNLOAD_CACHE in their localrc file to point
to any directory writable by root, including a directory
mounted from the host containing the VM.

Change-Id: I27179c1c212140d6734f6725f498be52fd18e9ed
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fopenstack-nose~master~I8d4fd114203de8500e17211cce608c2a92efd706,openstack/openstack-nose,master,,I8d4fd114203de8500e17211cce608c2a92efd706,Fix reporting of tests not in a class,MERGED,2012-07-16 15:58:33.000000000,2012-07-16 15:59:10.000000000,2012-07-16 15:59:10.000000000,2,2,0,9854,a1037419eff17e7a8c788e6d3051c00151154c31,3,2,1,2,385,Jason Kölker,jason-koelker,"Fix reporting of tests not in a class

Change-Id: I8d4fd114203de8500e17211cce608c2a92efd706
"
openstack%2Foslo-incubator~master~I725b333695930e12e2832378102514326fec639c,openstack/oslo-incubator,master,bp/no-db-messaging,I725b333695930e12e2832378102514326fec639c,Use strtime() in to_primitive() for datetime objs.,MERGED,2012-07-16 15:36:20.000000000,2012-07-16 15:36:20.000000000,2012-07-16 15:36:20.000000000,12,4,0,9850,ce3071437d1871f77c4d8573cbe5f4ea8c817650,6,3,1,3,1561,Russell Bryant,russellb,"Use strtime() in to_primitive() for datetime objs.

This patch updates jsonutils.to_primitive() to use timeutils.strtime()
to convert a datimetime object to a string instead of just using str().
This ensures that we can easily convert the string back to a datetime
using timeutils.parse_strtime().

Required for the nova blueprint no-db-messaging.

Change-Id: I725b333695930e12e2832378102514326fec639c
"
openstack%2Fdevstack~master~Iefca80488fa2a92b37108bcaa88ee25d260c328b,openstack/devstack,master,bug/1021475,Iefca80488fa2a92b37108bcaa88ee25d260c328b,Update qpid location after openstack-common move.,ABANDONED,2012-07-05 20:46:48.000000000,2012-07-16 14:38:59.000000000,,1,1,0,9404,4f0401b58f20430d8e92a9679bfb975e83fb0d0c,7,6,1,1,159,Eric Windisch,ewindisch,"Update qpid location after openstack-common move.

Fixes bug 1021475.

Change-Id: Iefca80488fa2a92b37108bcaa88ee25d260c328b
"
openstack%2Ftempest~master~I5bab584ff072fa26354517a7809516f7cf65e37d,openstack/tempest,master,whitebox-manager,I5bab584ff072fa26354517a7809516f7cf65e37d,Rework the whitebox manager into a base whitebox test class,ABANDONED,2012-07-10 17:59:17.000000000,2012-07-16 14:37:22.000000000,,333,83,0,9600,fb374226b714c56117662bcef9ec2109323fb0c5,3,1,1,4,7,Jay Pipes,jaypipes,"Rework the whitebox manager into a base whitebox test class

Change-Id: I5bab584ff072fa26354517a7809516f7cf65e37d
"
openstack%2Fnova~master~I651aa10861cb26808fa46e74a7db545fb2fd23b8,openstack/nova,master,bug/1023039,I651aa10861cb26808fa46e74a7db545fb2fd23b8,Catch rpc up to the common state-of-the-art.,MERGED,2012-07-11 21:55:02.000000000,2012-07-16 14:27:50.000000000,2012-07-16 14:27:49.000000000,11,8,0,9675,57e4ee833d1897b5114be193be3b6f7fa38f49bf,16,7,2,1,1998,andrewbogott,andrewbogott,"Catch rpc up to the common state-of-the-art.

This propagates the following patch from common into nova:

  Author: Jason Kölker <jason@koelker.net>
  Date:   Tue Jul 10 11:12:50 2012 -0500

      Fix Zmq so it doesn't rely on nova flags

      * Embeded newlines in logging makes me cry
      * String formatting uses parens not curly braces
      * Fix LP1023039
      * Hard skip Zmq tests so jenkins passes. Someone will have to fix.

Change-Id: I651aa10861cb26808fa46e74a7db545fb2fd23b8
"
openstack%2Fpython-glanceclient~master~Iea9648cd06906d65764987c1f2ee5a88ebeee748,openstack/python-glanceclient,master,pythonic-interface,Iea9648cd06906d65764987c1f2ee5a88ebeee748,Establish the supported importable interface,MERGED,2012-07-13 01:33:00.000000000,2012-07-16 13:32:38.000000000,2012-07-16 13:32:38.000000000,161,149,0,9753,53acf1a0ca70c900267286a249e476fffe078a9f,18,4,7,7,1132,Brian Waldon,bcwaldon,"Establish the supported importable interface

* Consumers of this client should not depend on being able to import
  any module other than glanceclient and glanceclient
* The only attributs of the glanceclient module are Client
  and __version__
* The attributes of the glanceclient.exc modules have yet to be
  locked down
* glanceclient.common.exceptions was replaced with a placeholder
  module until consumers of it are updated

Change-Id: Iea9648cd06906d65764987c1f2ee5a88ebeee748
"
openstack%2Foslo-incubator~master~I8f1f3b42de7253c993e2afa44ed1c0ad4dbbb74f,openstack/oslo-incubator,master,rpc_zmq_host_doc,I8f1f3b42de7253c993e2afa44ed1c0ad4dbbb74f,Add additional usage info on rpc_zmq_host flag,MERGED,2012-07-16 13:31:05.000000000,2012-07-16 13:31:05.000000000,2012-07-16 13:31:05.000000000,2,1,0,9789,2ab4f39c19e32d17f84f52e1bee7ba340edf3777,10,4,2,1,159,Eric Windisch,ewindisch,"Add additional usage info on rpc_zmq_host flag

Change-Id: I8f1f3b42de7253c993e2afa44ed1c0ad4dbbb74f
"
openstack%2Foslo-incubator~master~I6acdf1445e1f03246476292b38d7c52a29934af1,openstack/oslo-incubator,master,zmq-register-opts,I6acdf1445e1f03246476292b38d7c52a29934af1,Restore register_opts on impl_zmq module load,MERGED,2012-07-16 13:29:46.000000000,2012-07-16 13:29:46.000000000,2012-07-16 13:29:46.000000000,3,0,0,9790,8e5eac62b96ed684f2d90647bc197bbff86bad07,6,3,1,1,159,Eric Windisch,ewindisch,"Restore register_opts on impl_zmq module load

Change-Id: I6acdf1445e1f03246476292b38d7c52a29934af1
"
openstack%2Fnova~master~Ic35da2b513a4ec5092a749011cc87286121ca5c3,openstack/nova,master,bug/1022469,Ic35da2b513a4ec5092a749011cc87286121ca5c3,VlanManager.create_networks must return a result add network.api.API.create call,ABANDONED,2012-07-06 17:48:58.000000000,2012-07-16 07:08:21.000000000,,8,1,0,9453,594c4718b0581509b1176bcad3cb572cccaabd9d,10,6,2,2,1267,Alexei Ababilov,aababilov,"VlanManager.create_networks must return a result
add network.api.API.create call

Fix bug #1022469
Fix bug #1022470

Change-Id: Ic35da2b513a4ec5092a749011cc87286121ca5c3
"
openstack%2Fheat~master~Idaa6c04270d9d7143c85988d685c0f9e241b635b,openstack/heat,master,master,Idaa6c04270d9d7143c85988d685c0f9e241b635b,Import openstack.common.log and use inside heat infrastructure,MERGED,2012-07-16 03:08:41.000000000,2012-07-16 03:08:41.000000000,2012-07-16 03:08:41.000000000,1063,41,0,9830,c7ec88f2c7552d4179026b5c091473d2dbc22ae4,7,3,2,43,2834,Steven Dake,sdake,"Import openstack.common.log and use inside heat infrastructure

Allows heat to match openstack-common log calling conventions such
as using a context object or instance UUID for better traceability.

Change-Id: Idaa6c04270d9d7143c85988d685c0f9e241b635b
Signed-off-by: Steven Dake <sdake@redhat.com>
"
openstack%2Fheat~master~I68b4011e31fdb14306e88506dc6ff819b041b054,openstack/heat,master,gettingstarted,I68b4011e31fdb14306e88506dc6ff819b041b054,Account for XML output in Getting Started script,MERGED,2012-07-15 22:41:06.000000000,2012-07-15 22:41:06.000000000,2012-07-15 22:41:06.000000000,11,9,0,9844,8e30817a93667c9ce62eb0e6ea0f8561f0a40c9a,5,2,1,1,4257,Zane Bitter,zaneb,"Account for XML output in Getting Started script

The output format of heat commands has changed from JSON to XML

Change-Id: I68b4011e31fdb14306e88506dc6ff819b041b054
Signed-off-by: Zane Bitter <zbitter@redhat.com>
"
openstack%2Fheat~master~I3b23b2c0de18d72f91d4a0254e9dbf689ac91be3,openstack/heat,master,gettingstarted,I3b23b2c0de18d72f91d4a0254e9dbf689ac91be3,Fix directory changes in Getting Started script,MERGED,2012-07-15 22:39:26.000000000,2012-07-15 22:39:26.000000000,2012-07-15 22:39:26.000000000,4,3,0,9843,f5360d774db303f26217ad8b002d24a1d8a5fc62,5,2,1,1,4257,Zane Bitter,zaneb,"Fix directory changes in Getting Started script

Change-Id: I3b23b2c0de18d72f91d4a0254e9dbf689ac91be3
Signed-off-by: Zane Bitter <zbitter@redhat.com>
"
openstack%2Fheat~master~I87811ee02d3bfd7cc2dca8b9ab20ea3cfc220e3e,openstack/heat,master,gettingstarted,I87811ee02d3bfd7cc2dca8b9ab20ea3cfc220e3e,Allow non-interactive installation of OpenStack,MERGED,2012-07-15 22:38:21.000000000,2012-07-15 22:38:21.000000000,2012-07-15 22:38:21.000000000,6,6,0,9842,0670b7c3d31bc6ebb47ee121cda4205ae51c3f91,5,2,1,1,4257,Zane Bitter,zaneb,"Allow non-interactive installation of OpenStack

Pass the arguments to the tools/openstack script through to openstack-db so
that scripts can use e.g. --yes and --rootpw.

Also use openstack-db --drop rather than heat-db-drop to drop the databases
for OpenStack services.

Change-Id: I87811ee02d3bfd7cc2dca8b9ab20ea3cfc220e3e
Signed-off-by: Zane Bitter <zbitter@redhat.com>
"
openstack%2Fheat~master~Id0995df10f329ee3076a2c60ed5eb1548eaa315a,openstack/heat,master,gettingstarted,Id0995df10f329ee3076a2c60ed5eb1548eaa315a,Document Metadata server in Getting Started guide,MERGED,2012-07-15 22:36:05.000000000,2012-07-15 22:36:05.000000000,2012-07-15 22:36:05.000000000,2,2,0,9841,6eb623580f3694caca284e264a2309ea2342a655,5,2,1,2,4257,Zane Bitter,zaneb,"Document Metadata server in Getting Started guide

Change-Id: Id0995df10f329ee3076a2c60ed5eb1548eaa315a
Signed-off-by: Zane Bitter <zbitter@redhat.com>
"
openstack%2Fopenstack-planet~master~I193d526b9f3f3812643eaaad94e8c3ed3aa00713,openstack/openstack-planet,master,master,I193d526b9f3f3812643eaaad94e8c3ed3aa00713,Added Sébastien Han to Planet OpenStack,MERGED,2012-07-15 12:01:11.000000000,2012-07-15 19:47:01.000000000,2012-07-15 19:47:01.000000000,5,0,0,9838,87698aa8ad6145fe7223c8048241cdb766b7feb0,4,3,1,1,2585,han-sebastien,han-sebastien,"Added Sébastien Han to Planet OpenStack

Change-Id: I193d526b9f3f3812643eaaad94e8c3ed3aa00713
"
openstack%2Fneutron~master~Ica3aa3f6c81e4fd062b752867487c89515fb9446,openstack/neutron,master,bug/1019491,Ica3aa3f6c81e4fd062b752867487c89515fb9446,ovs-agent exception non-existent ports,MERGED,2012-07-15 19:37:01.000000000,2012-07-15 19:37:01.000000000,2012-07-15 19:37:01.000000000,2,1,0,9803,a74b3a55ac6d239a04bb6cfe3ba0e1ad825450bf,7,4,1,1,4395,Aaron Rosen,arosen,"ovs-agent exception non-existent ports

Bug #1019491

Change-Id: Ica3aa3f6c81e4fd062b752867487c89515fb9446
"
openstack%2Foslo-incubator~master~I418d1f7c6a5a3b8ef231c88b4ef28114ca0eb7cd,openstack/oslo-incubator,master,yetmorepep8,I418d1f7c6a5a3b8ef231c88b4ef28114ca0eb7cd,Minor pep8 cleanup in rpc.,MERGED,2012-07-15 19:10:09.000000000,2012-07-15 19:10:09.000000000,2012-07-15 19:10:09.000000000,2,2,0,9671,be1e942730f2a9d383c66beab12c31504d61d7cf,6,3,1,2,1998,andrewbogott,andrewbogott,"Minor pep8 cleanup in rpc.

Removed a space, reordered an import.

Change-Id: I418d1f7c6a5a3b8ef231c88b4ef28114ca0eb7cd
"
openstack%2Foslo-incubator~master~I8840d170a6103f90a2f7cfd3cd69475ad8da9a24,openstack/oslo-incubator,master,morepep8,I8840d170a6103f90a2f7cfd3cd69475ad8da9a24,pep8 cleanup,ABANDONED,2012-07-15 19:07:19.000000000,2012-07-15 19:07:19.000000000,,2,2,0,9669,57ade6081c7e6cb9f748b9d110f47a93ab6daf03,6,3,1,1,1998,andrewbogott,andrewbogott,"pep8 cleanup

This file contains a line which is less than 80 chars,
but when imported into a project (e.g. nova) winds up
being longer than 80 chars.  This patch removes
a bit of leading whitespace to mitigate that problem.

Change-Id: I8840d170a6103f90a2f7cfd3cd69475ad8da9a24
"
openstack%2Foslo-incubator~master~Ia3acfc25ecc5ba388526766dae3ed03792e906e3,openstack/oslo-incubator,master,pep8cleanup,Ia3acfc25ecc5ba388526766dae3ed03792e906e3,pep8 cleanup in the plugin code,MERGED,2012-07-15 19:06:13.000000000,2012-07-15 19:06:13.000000000,2012-07-15 19:06:13.000000000,3,2,0,9667,57821de9eab66344d14b45e5a14f2e52a23af8be,6,3,1,2,1998,andrewbogott,andrewbogott,"pep8 cleanup in the plugin code

The nova hacking test turned up one alphabetization error
that I missed previously.  Also, our path-altering
process caused one line to exceed 80 characters
when copied into nova; that line is shorter now.

Change-Id: Ia3acfc25ecc5ba388526766dae3ed03792e906e3
"
openstack%2Fpbr~master~I612f3483aa4c3f169e219b6c82e7d7e634e0474a,openstack/pbr,master,master,I612f3483aa4c3f169e219b6c82e7d7e634e0474a,Don't attempt to fetch meta refs locally.,MERGED,2012-07-14 17:16:44.000000000,2012-07-15 16:42:19.000000000,2012-07-15 16:42:19.000000000,7,4,0,9829,433beb47cc4440d025368ca16f252cceb868a0d1,13,2,2,1,2,Monty Taylor,mordred,"Don't attempt to fetch meta refs locally.

There isn't really any need to do a remote fetch every time a local dev
makes a tarball. This type of pre-version tagging is fairly specific to
OpenStack, and as such shouldn't bother normal people running normally.

Change-Id: I612f3483aa4c3f169e219b6c82e7d7e634e0474a
"
openstack%2Fpbr~master~Ibeef9536da478f886ac422601ec24eb7824a9c3b,openstack/pbr,master,master,Ibeef9536da478f886ac422601ec24eb7824a9c3b,Add support for deferred_version_string_with_vcs.,MERGED,2012-07-14 17:16:44.000000000,2012-07-15 16:39:20.000000000,2012-07-15 16:37:10.000000000,16,4,0,9828,85f1dccce192203b095f987127388975a288e774,11,2,2,1,2,Monty Taylor,mordred,"Add support for deferred_version_string_with_vcs.

Change-Id: Ibeef9536da478f886ac422601ec24eb7824a9c3b
"
openstack%2Fpbr~master~I68f65ad7ddc85f92ed7e07e82924e0ef257d46ac,openstack/pbr,master,master,I68f65ad7ddc85f92ed7e07e82924e0ef257d46ac,Move setuptools hooks into their own module.,MERGED,2012-07-14 17:16:44.000000000,2012-07-15 16:39:20.000000000,2012-07-15 16:39:20.000000000,82,59,0,9827,91e19d68f5da564f1a38f0a25c831f24d5c867f2,13,2,2,4,2,Monty Taylor,mordred,"Move setuptools hooks into their own module.

Change-Id: I68f65ad7ddc85f92ed7e07e82924e0ef257d46ac
"
openstack%2Fpbr~master~I3743cec89b563f6a7825e67c037ea53e12717376,openstack/pbr,master,master,I3743cec89b563f6a7825e67c037ea53e12717376,Set defaults for test_suite and packages.,MERGED,2012-07-14 17:16:44.000000000,2012-07-15 16:39:14.000000000,2012-07-15 16:39:14.000000000,9,2,0,9826,e55b3e1e151ac751e0a7ae89fa80cafca40c961c,15,2,2,2,2,Monty Taylor,mordred,"Set defaults for test_suite and packages.

Change-Id: I3743cec89b563f6a7825e67c037ea53e12717376
"
openstack%2Fpbr~master~I30688fd11bb6871b4b51ef6f0090c0418b8394d6,openstack/pbr,master,master,I30688fd11bb6871b4b51ef6f0090c0418b8394d6,Add README.rst to the list of valid READMEs.,MERGED,2012-07-14 17:16:44.000000000,2012-07-15 16:37:29.000000000,2012-07-15 16:37:29.000000000,11,0,0,9825,398ab2ebcad5368df064a8cb5a77295de5465d44,12,2,2,1,2,Monty Taylor,mordred,"Add README.rst to the list of valid READMEs.

This is in the lastest distribute already, but the earlier versions still
warn about README.rst, which is annoying.

Change-Id: I30688fd11bb6871b4b51ef6f0090c0418b8394d6
"
openstack%2Fneutron~master~I339a40ee6fef74d938245e9c50c7ed695d866e3b,openstack/neutron,master,bug/1020024,I339a40ee6fef74d938245e9c50c7ed695d866e3b,Ensures API v2 router does not load plugin twice,MERGED,2012-07-15 16:31:06.000000000,2012-07-15 16:31:06.000000000,2012-07-15 16:31:06.000000000,17,17,6,9751,825c00b96f049f39278d794a0e4968edce8abce6,19,7,3,4,261,Salvatore Orlando,salvatore-orlando,"Ensures API v2 router does not load plugin twice

Fixes bug 1020024

The router will simply use the QuantumManager which stores the instance
of the plugin being used by the Quantum server. Changes to unit tests
are for ensuring plugin instances are recycled across tests.

Change-Id: I339a40ee6fef74d938245e9c50c7ed695d866e3b
"
openstack%2Fpbr~master~Ic069ec2f7598617c8a50fe401fbbdf50ec8e4443,openstack/pbr,master,master,Ic069ec2f7598617c8a50fe401fbbdf50ec8e4443,Set sensible defaults for sphinx locations.,MERGED,2012-07-14 17:16:44.000000000,2012-07-15 16:28:05.000000000,2012-07-15 16:28:05.000000000,41,9,0,9824,722e1be062aea89461d958591fef1ea3023bf688,11,2,2,3,2,Monty Taylor,mordred,"Set sensible defaults for sphinx locations.

Change-Id: Ic069ec2f7598617c8a50fe401fbbdf50ec8e4443
"
openstack%2Fneutron~stable%2Fessex~Iaee24b08e07a4f4dde5e27f31d3a5f81f5101466,openstack/neutron,stable/essex,bug/995438,Iaee24b08e07a4f4dde5e27f31d3a5f81f5101466,blueprint database-common,MERGED,2012-07-15 16:08:40.000000000,2012-07-15 16:08:40.000000000,2012-07-15 16:08:40.000000000,57,52,10,8650,6bcc236ea3f805a642e2800b334ba2147da1774e,35,13,3,9,1653,garyk,garyk,"blueprint database-common

This fixes bug 995438. If there is an database failure, for example, the
mysql service is down, then the agent or the service will attempt to
reconnect to the database every 'reconnect_interval'.

Change-Id: Iaee24b08e07a4f4dde5e27f31d3a5f81f5101466
"
openstack%2Fpbr~master~I271c8c2379f12f7a3382bd66d1c54f4a15e96e9d,openstack/pbr,master,master,I271c8c2379f12f7a3382bd66d1c54f4a15e96e9d,Remove need for boilerplate MANIFEST.in,MERGED,2012-07-14 17:16:44.000000000,2012-07-15 16:07:13.000000000,2012-07-15 16:07:13.000000000,138,150,0,9823,35b51bf28e003292e8d62f4f31bc8e067e55bbe8,7,2,1,4,2,Monty Taylor,mordred,"Remove need for boilerplate MANIFEST.in

We're doing files from git, so in general there should be no need for a
MANIFEST.in file. If there isn't one, create a temporary one that has
AUTHORS, ChangeLog and project/versioninfo in it, as well as exclusions of
.gitignore and .gitreview.

Change-Id: I271c8c2379f12f7a3382bd66d1c54f4a15e96e9d
"
openstack%2Fpbr~master~I1f535a0cdb850df8d5888bb78a5c237f8d626329,openstack/pbr,master,master,I1f535a0cdb850df8d5888bb78a5c237f8d626329,Handle the case of no Co-authored-by: tags.,MERGED,2012-07-14 17:16:44.000000000,2012-07-15 16:06:17.000000000,2012-07-15 16:06:17.000000000,4,3,0,9822,caca6af6d81e0008a6b84bffef73b4e23a08520f,9,2,1,1,2,Monty Taylor,mordred,"Handle the case of no Co-authored-by: tags.

Change-Id: I1f535a0cdb850df8d5888bb78a5c237f8d626329
"
openstack-attic%2Fobject-api~master~Ib2fa4cc1f4595d139fb39b11afca20aefb0582b7,openstack-attic/object-api,master,account-metadata,Ib2fa4cc1f4595d139fb39b11afca20aefb0582b7,Added section on metadata at account level,MERGED,2012-06-09 20:22:51.000000000,2012-07-15 15:44:27.000000000,2012-07-15 15:44:27.000000000,90,5,2,8374,5b79e7a7ced039a42cfeaed69229a00fb83ec77e,17,6,4,1,904,Adrian Smith,adriansmith,"Added section on metadata at account level

Patchset fixes some validation problems so this will build with:
mvn clean generate-sources

- Add para tags around two paragraphs
- Remove code tags around an entity that wasn't resolving correctly
- Add xml:id to the new section

Patchset adds a paragraph about alternative method for deleting
metadata headers.

Patchset 4 adds an example with the alternate headers.

Change-Id: Ib2fa4cc1f4595d139fb39b11afca20aefb0582b7
"
openstack%2Fnova~master~I4b3caf9014f866da3a5bbf07ab194fc9910159b0,openstack/nova,master,bug/1023039,I4b3caf9014f866da3a5bbf07ab194fc9910159b0,Properly name openstack.common.exception.,MERGED,2012-07-11 21:55:02.000000000,2012-07-15 03:37:59.000000000,2012-07-15 03:37:59.000000000,1,1,0,9674,7d9d77b218a2e92d69bafb2fec4d1f1607fbc4a9,8,5,1,1,1998,andrewbogott,andrewbogott,"Properly name openstack.common.exception.

Now it's 'nova.openstack.common.exception', thanks to a more modern
update.py in common.

Change-Id: I4b3caf9014f866da3a5bbf07ab194fc9910159b0
"
openstack%2Fhorizon~master~I8e9827975656c53c7f8baff6554de1103bf4a358,openstack/horizon,master,fix-forms,I8e9827975656c53c7f8baff6554de1103bf4a358,Fixed logic for disabling form button,MERGED,2012-07-14 13:58:25.000000000,2012-07-14 17:58:33.000000000,2012-07-14 17:58:33.000000000,1,1,0,9819,b282751440955e5a912588ad97284b6336913f39,6,3,1,1,2455,Tihomir Trifonov,ttrifonov,"Fixed logic for disabling form button

This logic should be applied *only* for btn-primary
submit buttons, and not for regular buttons, which are
all of the action button in tables. At the moment this
logic breaks the table row actions, as it sets
button.disabled=true, and the 'action' value of the button
is not submitted, hence no action is performed.

Change-Id: I8e9827975656c53c7f8baff6554de1103bf4a358
"
openstack%2Fopenstack-manuals~stable%2Fessex~I5d1d33a2a63c2bfe93f82783f30879900498e4c0,openstack/openstack-manuals,stable/essex,essex-get-metadata,I5d1d33a2a63c2bfe93f82783f30879900498e4c0,More on fetching data from metadata server for Fedora images.,MERGED,2012-07-13 03:31:16.000000000,2012-07-14 10:50:36.000000000,2012-07-14 10:50:36.000000000,42,20,0,9755,9a484660c21b503a7044d01b832f9fa6d8c776a4,4,3,1,2,321,Lorin Hochstein,lorinh,"More on fetching data from metadata server for Fedora images.

 * Added links RPMs for Fedora port of cloud-init
 * Added links to Yahoo's Openstack-Condense (Condenser)
 * Added a link to to EC2 docs on metadata service.

Patchset 2 fixes typos - metad and wtih plus fixes typo in README.rst.
Patchset 3 removes files I didn't mean to add, sitemap.xml and updates to .htaccess.
Patchset 4 really removes .htaccess. Really.

Cherrypicked from https://review.openstack.org/9481

Change-Id: I5d1d33a2a63c2bfe93f82783f30879900498e4c0
"
openstack%2Fpython-cinderclient~master~Ia643eadec470c9d0f5bcd3fbb5854e7011b73fc3,openstack/python-cinderclient,master,bp/command-options,Ia643eadec470c9d0f5bcd3fbb5854e7011b73fc3,Change CLI options to use dashes,ABANDONED,2012-06-28 20:52:09.000000000,2012-07-14 06:03:01.000000000,,219,72,0,9138,9150ab0a57e13c63f18175e58d05d0547dd60f5d,8,2,3,5,970,Dean Troyer,dtroyer,"Change CLI options to use dashes

Change documented options to use dashes instead of underscores
in option names.  Continue to support old underscore names for
backward compatibility for a release or two (TBD).

* adds shell arg tests

Blueprint: command-options

Change-Id: Ia643eadec470c9d0f5bcd3fbb5854e7011b73fc3
"
openstack%2Fglance~master~Idca673ee6157e62afc1aef76413f2d54ae8e5c9f,openstack/glance,master,new-docs,Idca673ee6157e62afc1aef76413f2d54ae8e5c9f,Making docs pretty!,MERGED,2012-07-11 22:27:33.000000000,2012-07-14 02:09:53.000000000,2012-07-14 02:09:53.000000000,333,63,0,9680,8935b3268621d1502d922772c115090276bc7aca,8,5,1,7,1205,Jake Dahn,jakedahn,"Making docs pretty!

  * Before: http://stsh.me/2Qt
  * After: http://stsh.me/2Qu

Change-Id: Idca673ee6157e62afc1aef76413f2d54ae8e5c9f
"
openstack%2Fnova~master~I98758a088911cc422b61abd02b3be6cc6d6a472b,openstack/nova,master,bug/1021453,I98758a088911cc422b61abd02b3be6cc6d6a472b,Sync gettextutils fixes from openstack-common.,MERGED,2012-07-13 16:15:19.000000000,2012-07-14 02:08:20.000000000,2012-07-14 02:08:20.000000000,7,0,0,9774,b7118bf954a0529806fb3b32fee0a3b760f02530,10,5,1,7,1561,Russell Bryant,russellb,"Sync gettextutils fixes from openstack-common.

commit c80bfb563626200f7587c7ca52433c59a303b469
Author: Eric Windisch <eric@cloudscaling.com>
Date:   Thu Jun 28 00:32:52 2012 -0400

    Fix missing gettextutils in several modules.

    Fixes bug 1021453.

Change-Id: I98758a088911cc422b61abd02b3be6cc6d6a472b
"
openstack%2Fopenstack-planet~master~I1bf82c68c3b21bdbccfef944e7a5e894531be98e,openstack/openstack-planet,master,master,I1bf82c68c3b21bdbccfef944e7a5e894531be98e,Added Amar Kapadia to Planet OpenStack,MERGED,2012-07-12 01:17:41.000000000,2012-07-14 01:49:28.000000000,2012-07-14 01:49:28.000000000,5,0,0,9695,f69c97a79ed0ff9c8722d78be98c635ce5ca2a12,4,3,1,2,4148,ning_zhang,ning,"Added Amar Kapadia to Planet OpenStack

Change-Id: I1bf82c68c3b21bdbccfef944e7a5e894531be98e
"
openstack%2Fnova~stable%2Fessex~I7f7b227e71e93b4bcded150791fb0b9e9df98e4c,openstack/nova,stable/essex,bug/1016273,I7f7b227e71e93b4bcded150791fb0b9e9df98e4c,Fixes ram_allocation_ratio based over subscription,MERGED,2012-06-25 20:23:10.000000000,2012-07-14 00:33:34.000000000,2012-07-14 00:33:33.000000000,23,4,1,8954,5d8431b765a991b8cff4c349c3225f532d015b43,20,6,1,4,67,Vish Ishaya,vishvananda,"Fixes ram_allocation_ratio based over subscription

Fix for bug 1016273

Change-Id: I7f7b227e71e93b4bcded150791fb0b9e9df98e4c
(cherry picked from commit 1b40708287808243be27b83791b7d23f8b51b194)
"
openstack%2Fpbr~master~Idb7b30f84820fab67e7694077bb68b6fdc3d2f6f,openstack/pbr,master,master,Idb7b30f84820fab67e7694077bb68b6fdc3d2f6f,Learn about python sets.,MERGED,2012-07-13 23:43:23.000000000,2012-07-14 00:32:58.000000000,2012-07-14 00:32:58.000000000,4,5,0,9804,93655fc422340d59c7a57d3e25f5bdf8c44975a2,6,3,1,1,2,Monty Taylor,mordred,"Learn about python sets.

Change-Id: Idb7b30f84820fab67e7694077bb68b6fdc3d2f6f
"
openstack%2Foslo-incubator~master~I7bcfddadd1753bce750647a41f8fd378aa7f3ef9,openstack/oslo-incubator,master,bug/1021451,I7bcfddadd1753bce750647a41f8fd378aa7f3ef9,Disable Kombu tests - they're broken,ABANDONED,2012-07-14 00:26:11.000000000,2012-07-14 00:26:11.000000000,,1,0,0,9620,410bfcd725154c18aa125587f052314148234ede,11,3,5,1,159,Eric Windisch,ewindisch,"Disable Kombu tests - they're broken

Change-Id: I7bcfddadd1753bce750647a41f8fd378aa7f3ef9
"
openstack%2Fnova~master~I9ddb10db127375ad37a7760b53e44782b392c2e3,openstack/nova,master,bug/1023805,I9ddb10db127375ad37a7760b53e44782b392c2e3,"network manager returns empty list, not raise an exception",MERGED,2012-07-12 09:33:59.000000000,2012-07-14 00:25:30.000000000,2012-07-14 00:25:29.000000000,4,1,0,9705,4d27b6e87bde179a8c4ada5bfc2f4cd7904f7b48,11,8,2,1,1267,Alexei Ababilov,aababilov,"network manager returns empty list, not raise an exception

Fix bug #1023805

Change-Id: I9ddb10db127375ad37a7760b53e44782b392c2e3
"
openstack%2Fnova~master~Iccbbf086fb499e574c86a0f6ffceedfa07e1acf0,openstack/nova,master,bug/1022470,Iccbbf086fb499e574c86a0f6ffceedfa07e1acf0,add network creation call to network.api.API,MERGED,2012-07-12 08:39:14.000000000,2012-07-14 00:23:03.000000000,2012-07-14 00:23:02.000000000,6,0,0,9704,945493b0039b38b2f7319c0208e01fcbdc073517,12,5,1,1,1267,Alexei Ababilov,aababilov,"add network creation call to network.api.API

Fix bug #1022470

Change-Id: Iccbbf086fb499e574c86a0f6ffceedfa07e1acf0
"
openstack%2Fheat~master~Ib3444d97967c807cb96175ce23d4b670a028e9a7,openstack/heat,master,master,Ib3444d97967c807cb96175ce23d4b670a028e9a7,Update openstack-common in prep for pulling in common.rpc,MERGED,2012-07-14 00:18:09.000000000,2012-07-14 00:18:09.000000000,2012-07-14 00:18:09.000000000,366,96,0,9801,5d5d8ba5dd388b5952a4fe4f614409ba07d3bd9d,7,3,2,11,2834,Steven Dake,sdake,"Update openstack-common in prep for pulling in common.rpc

Change-Id: Ib3444d97967c807cb96175ce23d4b670a028e9a7
Signed-off-by: Steven Dake <sdake@redhat.com>
"
openstack%2Fdevstack~master~I88f205f3666b86e6f0b6a94e0ec32a26c4bc6873,openstack/devstack,master,feature/service-manager-function,I88f205f3666b86e6f0b6a94e0ec32a26c4bc6873,add functions to manipulate ENABLED_SERVICES,MERGED,2012-07-05 21:15:17.000000000,2012-07-14 00:17:16.000000000,2012-07-14 00:17:16.000000000,178,11,4,9407,f04178fd12731a58c899c309ad43f55d339909c5,26,8,6,6,2472,Doug Hellmann,doug-hellmann,"add functions to manipulate ENABLED_SERVICES

Editing ENABLED_SERVICES directly can get tricky when
the user wants to disable something. This patch includes
two new functions for adding or removing services
safely, and a third (for completeness) to clear the
settings entirely before adding a minimal set of
services.

It also moves the logic for dealing with ""negated""
services into a function so it can be tested and
applied by the new functions for manipulating
ENABLED_SERVICES.

Change-Id: I88f205f3666b86e6f0b6a94e0ec32a26c4bc6873
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fnova~master~I19eb624cc32a15438666e5710394a77d13b50763,openstack/nova,master,pep8deps,I19eb624cc32a15438666e5710394a77d13b50763,Use all deps for tools/hacking.py tests in tox,MERGED,2012-07-09 23:59:05.000000000,2012-07-13 23:51:27.000000000,2012-07-13 23:51:26.000000000,0,1,0,9568,9b66e81d2b8d688af7c9e77cc1fe0307ffcc5d9b,19,7,2,1,1849,Joe Gordon,jogo,"Use all deps for tools/hacking.py tests in tox

tools/hacking needs pip modules to accuratly run nova_import_module_only

Change-Id: I19eb624cc32a15438666e5710394a77d13b50763
"
openstack%2Fnova~master~Iaaa016ea61dd8d26dcd66603abb6f66d22a15bb5,openstack/nova,master,bug/1022470,Iaaa016ea61dd8d26dcd66603abb6f66d22a15bb5,overriden VlanManager.create_networks must return a result,MERGED,2012-07-12 08:39:13.000000000,2012-07-13 23:36:40.000000000,2012-07-13 23:36:39.000000000,2,1,0,9703,a253151a43c74ad838a5cde6fcd25ffdbe44bb15,10,4,1,1,1267,Alexei Ababilov,aababilov,"overriden VlanManager.create_networks must return a result

Fix bug #1022469

Change-Id: Iaaa016ea61dd8d26dcd66603abb6f66d22a15bb5
"
openstack%2Fnova~master~I25a00c7e47578b1667992aa4bad879667198465a,openstack/nova,master,bug/1024557,I25a00c7e47578b1667992aa4bad879667198465a,bug 1024557,MERGED,2012-07-13 22:24:40.000000000,2012-07-13 23:36:37.000000000,2012-07-13 23:36:36.000000000,3,2,0,9799,4e7bb008effe92a4e06a2d104cbd1ea0d19a5db6,7,4,1,3,941,Troy Toman,troy-toman,"bug 1024557

De-dupes the list of DNS IPs that is put in the xenstore for network configuration

Added a duplicate DNS IP in the fake_network to create a valid test.

Change-Id: I25a00c7e47578b1667992aa4bad879667198465a
"
openstack%2Fnova~master~Ia01c04dee5383f597976c6a79d9a0d9e19985898,openstack/nova,master,bug/1021222,Ia01c04dee5383f597976c6a79d9a0d9e19985898,Always attempt to delete entire floating IP range.,MERGED,2012-07-11 18:06:43.000000000,2012-07-13 23:34:14.000000000,2012-07-13 23:34:13.000000000,5,2,0,9657,42e785561e9c747cab41d74dbe90cad56e8eea14,9,6,1,1,1561,Russell Bryant,russellb,"Always attempt to delete entire floating IP range.

Fix bug 1021222.

This patch tweaks nova-manage to always attempt to delete all addresses
in the specified IP range, even if an error is encountered.  This is an
easy way to handle a case where a range was created, but then a subset
of that range was deleted.  Otherwise, deleting the rest of the range is
a pain.

An example of this would be:

  # nova-manage floating create --ip_range=1.1.1.0/24
  # nova-manage floating delete 1.1.1.1
  # nova-manage floating delete 1.1.1.0/24

Previously this would fail.  Now it works.

Change-Id: Ia01c04dee5383f597976c6a79d9a0d9e19985898
"
openstack%2Fnova~master~I236ced13bac2164e103060e78845a410ceb6cdd4,openstack/nova,master,test_bad_service_catalog,I236ced13bac2164e103060e78845a410ceb6cdd4,Raise HTTP 500 if service catalog is not json.,MERGED,2012-07-11 18:59:34.000000000,2012-07-13 23:32:54.000000000,2012-07-13 23:32:53.000000000,12,1,0,9661,ad9ac0c6dce5b2a8da72bb4860a353aeb0bd09d9,22,6,4,2,360,Dan Prince,dan-prince,"Raise HTTP 500 if service catalog is not json.

Updates the Nova API auth middleware so that it returns a HTTP
500 error if invalid JSON is found.

Adds a unit test.

Change-Id: I236ced13bac2164e103060e78845a410ceb6cdd4
"
openstack%2Fnova~master~I3cc36337c7e67cf487ca49de646c437c217ae538,openstack/nova,master,,I3cc36337c7e67cf487ca49de646c437c217ae538,Expose over-quota exceptions via native API.,MERGED,2012-07-06 12:41:25.000000000,2012-07-13 23:32:51.000000000,2012-07-13 23:32:51.000000000,47,9,0,9429,e9d21589d39355ffc126e360cc2ba7311e014edb,16,8,2,3,2284,Eoghan Glynn,eglynn,"Expose over-quota exceptions via native API.

Fixes bug LP 1021373.

Previously an over-quota condition would be exposed via the EC2 API,
but hidden in the corresponding call via the native API (in the sense
of the exception detail being replaced with a generic 500 Server Error
response).

We now report any NovaException declared to be safe. In this patch,
the set of safe exception types includes any subclass of QuotaError,
but in subsequent patches the net should be widened to include
exceptions that do not expose senstive information.

Change-Id: I3cc36337c7e67cf487ca49de646c437c217ae538
"
openstack%2Fpbr~master~I83645dae0088ccb1ddce8f8c415693d55ff5cd04,openstack/pbr,master,master,I83645dae0088ccb1ddce8f8c415693d55ff5cd04,Add support for including Co-authored-by entries.,MERGED,2012-07-13 16:10:08.000000000,2012-07-13 23:29:18.000000000,2012-07-13 23:29:18.000000000,10,2,0,9770,704d2c485ae161700ae340bbfde025fe1e717286,14,2,2,1,2,Monty Taylor,mordred,"Add support for including Co-authored-by entries.

Some patches authorship is indicated in shared patches by Co-authored-by
entries:

http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=451880
http://comments.gmane.org/gmane.comp.lib.gnulib.bugs/28848

Those should hit the AUTHORS file.

Change-Id: I83645dae0088ccb1ddce8f8c415693d55ff5cd04
"
openstack%2Fpbr~master~I20e870ce735d79594fd23b5bda36f73f8867153c,openstack/pbr,master,master,I20e870ce735d79594fd23b5bda36f73f8867153c,Change default version object.,MERGED,2012-07-13 14:11:16.000000000,2012-07-13 23:28:26.000000000,2012-07-13 23:28:26.000000000,3,3,0,9764,ba99fbd7f5701446e731056885cf8fb0fb9b0fcd,21,3,2,2,2,Monty Taylor,mordred,"Change default version object.

The version_info version object is a useful thing for consumers to
use in other places, so having it be prefixed with __ is not great.

Change-Id: I20e870ce735d79594fd23b5bda36f73f8867153c
"
openstack%2Fnova~master~Iba45e473ae875b0973dbe6f752602b58c7980578,openstack/nova,master,bug/1023039,Iba45e473ae875b0973dbe6f752602b58c7980578,Janitorial:  Catch rpc up with a change in common,MERGED,2012-07-11 21:55:02.000000000,2012-07-13 23:09:16.000000000,2012-07-13 23:09:15.000000000,11,10,0,9673,688f9274a803e40c20dfc9275ad2246e674a6062,7,4,1,4,1998,andrewbogott,andrewbogott,"Janitorial:  Catch rpc up with a change in common

Common rpc now uses jsonutils instead of json; this
patch moves that change into nova.

Change-Id: Iba45e473ae875b0973dbe6f752602b58c7980578
"
openstack%2Fnova~master~I45b913e701c3902e16a73a99fff01c115f63c2a9,openstack/nova,master,spelling,I45b913e701c3902e16a73a99fff01c115f63c2a9,Fix spelling in docstrings,MERGED,2012-07-09 23:28:45.000000000,2012-07-13 22:40:41.000000000,2012-07-13 22:40:40.000000000,5,4,1,9564,4229bacc80418e6c68821cf0701fb6fc987175da,22,7,4,1,1849,Joe Gordon,jogo,"Fix spelling in docstrings

Change-Id: I45b913e701c3902e16a73a99fff01c115f63c2a9
"
openstack%2Fnova~master~I930e4f30ddffcf66c58312e92f0ae368e770e438,openstack/nova,master,bug/1022670,I930e4f30ddffcf66c58312e92f0ae368e770e438,Fix snapshots tests failing bug 1022670,MERGED,2012-07-09 18:06:55.000000000,2012-07-13 22:33:07.000000000,2012-07-13 22:33:06.000000000,1,0,0,9532,5526fb6db239677fead7bfbff8b2a6672bba6367,16,8,2,1,1726,Ghe Rivero,ghe.rivero,"Fix snapshots tests failing
bug 1022670

When running snapshot test, FLAGS.instances_path is defined as '',
with snapshot_directory='/snapshots' which will fail to to permissions errors.

Modified class LibvirtConnTestCase to use libvirt_snapshots_directory=''

Change-Id: I930e4f30ddffcf66c58312e92f0ae368e770e438
"
openstack%2Fpbr~master~I0d7b38f32d06aed8c04708908df31650b60b74f2,openstack/pbr,master,new_things,I0d7b38f32d06aed8c04708908df31650b60b74f2,Fix build failures.,MERGED,2012-07-13 22:11:09.000000000,2012-07-13 22:27:30.000000000,2012-07-13 22:27:30.000000000,209,2,0,9797,f6f3717328f612b012daad08245ec8b391de0279,6,3,1,3,2,Monty Taylor,mordred,"Fix build failures.

pep8 violation in tests
doc build failure due to lack of docs

Change-Id: I0d7b38f32d06aed8c04708908df31650b60b74f2
"
openstack%2Fnova~master~I941df9260a4fbb27f5776f582ad8f59a1e32ea8b,openstack/nova,master,bug/941951,I941df9260a4fbb27f5776f582ad8f59a1e32ea8b,Fix SADeprecationWarning: useexisting is deprecated,MERGED,2012-07-13 20:30:24.000000000,2012-07-13 22:13:14.000000000,2012-07-13 22:13:13.000000000,1,1,0,9785,a834cf99f8a9b8b3fc9921da24a27f66e6abfbd1,13,6,1,1,1849,Joe Gordon,jogo,"Fix SADeprecationWarning: useexisting is deprecated

Fix bug 941951

Change-Id: I941df9260a4fbb27f5776f582ad8f59a1e32ea8b
"
openstack%2Fnova~master~Ia23c1858bda31cf28209d5a593774e53e79d8ccf,openstack/nova,master,used-limits,Ia23c1858bda31cf28209d5a593774e53e79d8ccf,Extension to show usage of limited resources in /limits response.,MERGED,2012-07-09 20:08:03.000000000,2012-07-13 21:37:31.000000000,2012-07-13 21:37:30.000000000,202,0,2,9544,86e62b52ac04fe933cec0fc21e52a8fe28930949,26,7,5,2,177,Alex Meade,alex-meade,"Extension to show usage of limited resources in /limits response.

This extension add information such as the total amount of ram being used by a
user to the /limits response in order to be used by the client/user.

Change-Id: Ia23c1858bda31cf28209d5a593774e53e79d8ccf
"
openstack-attic%2Fobject-api~master~I292a6a29b896b0d4734db1cc6b5ffa67767ee4e1,openstack-attic/object-api,master,end_marker,I292a6a29b896b0d4734db1cc6b5ffa67767ee4e1,Describe the end_marker parameter,MERGED,2012-06-09 20:24:24.000000000,2012-07-13 21:33:33.000000000,2012-07-13 21:33:33.000000000,50,4,0,8375,9b98ca25354c4c309998becdbeb2eac8ee00c74d,9,4,1,1,904,Adrian Smith,adriansmith,"Describe the end_marker parameter

Change-Id: I292a6a29b896b0d4734db1cc6b5ffa67767ee4e1
"
openstack%2Fnova~master~I95333e4ae90d1f0f2170927a2ad4f9b732c8dd22,openstack/nova,master,bp/netapp-volume-driver,I95333e4ae90d1f0f2170927a2ad4f9b732c8dd22,Add support for snapshots and volume types to netapp driver.,ABANDONED,2012-06-14 19:20:14.000000000,2012-07-13 21:26:34.000000000,,516,152,7,8564,036cdb7e004a0a7845eaace5116b02b48ebf5a21,18,6,2,2,2417,Ben Swartzlander,bswartz,"Add support for snapshots and volume types to netapp driver.

This is a continuation of blueprint netapp-volume-driver.

Change-Id: I95333e4ae90d1f0f2170927a2ad4f9b732c8dd22
"
openstack%2Fheat~master~Iff93d1430f4cb0695e729d0cf8f784ccb2ed7598,openstack/heat,master,engine-refactor,Iff93d1430f4cb0695e729d0cf8f784ccb2ed7598,Set the stack updated time through the Timestamp,MERGED,2012-07-13 21:26:05.000000000,2012-07-13 21:26:05.000000000,2012-07-13 21:26:05.000000000,9,4,0,9794,fba2ed3921b132621a42c95eb2230829273f431e,5,2,1,1,4257,Zane Bitter,zaneb,"Set the stack updated time through the Timestamp

Don't allow the resource class to modify the parent stack's database
representation directly.

Change-Id: Iff93d1430f4cb0695e729d0cf8f784ccb2ed7598
Signed-off-by: Zane Bitter <zbitter@redhat.com>
"
openstack%2Fheat~master~I0331a0ad67bcd11bb678e026ddc7b7c954517bc4,openstack/heat,master,engine-refactor,I0331a0ad67bcd11bb678e026ddc7b7c954517bc4,Eliminate DB access from the engine API,MERGED,2012-07-13 21:24:34.000000000,2012-07-13 21:24:34.000000000,2012-07-13 21:24:34.000000000,9,12,0,9793,bfd7fcf8f5642e99df9ada33a5c39e5c1a0f89c5,5,2,1,1,4257,Zane Bitter,zaneb,"Eliminate DB access from the engine API

Access all data through the Stack and Resource objects.

Fixes #168

Change-Id: I0331a0ad67bcd11bb678e026ddc7b7c954517bc4
Signed-off-by: Zane Bitter <zbitter@redhat.com>
"
openstack%2Fheat~master~Ic3fa173b1dc8f2e5dc676a9152e8928ed2290913,openstack/heat,master,engine-refactor,Ic3fa173b1dc8f2e5dc676a9152e8928ed2290913,Make timestamps available in Stack/Resource objects,MERGED,2012-07-13 21:22:32.000000000,2012-07-13 21:22:32.000000000,2012-07-13 21:22:32.000000000,86,5,0,9792,07be1d72699d051a58697962fff5c39a11d48544,5,2,1,4,4257,Zane Bitter,zaneb,"Make timestamps available in Stack/Resource objects

Provide the creation time and last-updated time as attributes of Stack and
Resource objects so that external code does not need to access the database
in order to retrieve them. Use a Descriptor class so that the latest values
are always fetched from the database.

Change-Id: Ic3fa173b1dc8f2e5dc676a9152e8928ed2290913
Signed-off-by: Zane Bitter <zbitter@redhat.com>
"
openstack%2Fdevstack~master~I51733d37a50159a4b4872d61fa768d5bba3d6a03,openstack/devstack,master,bug/1020985,I51733d37a50159a4b4872d61fa768d5bba3d6a03,add TENANT_ARG to swift command line.,MERGED,2012-07-04 15:25:28.000000000,2012-07-13 21:21:55.000000000,2012-07-13 21:21:55.000000000,1,1,0,9318,ea6b2d3f3249b766fffb460d28b5feef110858fc,7,4,1,1,748,Armando Migliaccio,armando-migliaccio,"add TENANT_ARG to swift command line.

Fix bug 1020985.

Change-Id: I51733d37a50159a4b4872d61fa768d5bba3d6a03
"
openstack%2Fdevstack~master~I35c5ce64dc329121a61b888d44c05e3c70c6aecc,openstack/devstack,master,connection_type_to_compute_driver,I35c5ce64dc329121a61b888d44c05e3c70c6aecc,convert from connection_type to compute_driver,MERGED,2012-07-11 13:36:12.000000000,2012-07-13 21:11:54.000000000,2012-07-13 21:11:54.000000000,2,2,0,9635,e0e91d2c697522083827abc0f20637ab01b28e2d,6,3,1,1,2750,Sean Dague,sdague,"convert from connection_type to compute_driver

connection_type is deprecated for Folsom, now using compute_driver
to specify virt driver. This makes the change so that devstack
uses the prefered way.

Change-Id: I35c5ce64dc329121a61b888d44c05e3c70c6aecc
"
openstack%2Fdevstack~master~I2cbd1f90a0986936fa3e6139f789c1274aead627,openstack/devstack,master,f17,I2cbd1f90a0986936fa3e6139f789c1274aead627,Add f17 to tested distro list,MERGED,2012-06-21 16:13:16.000000000,2012-07-13 21:08:24.000000000,2012-07-13 21:08:24.000000000,2,2,0,8808,4a1f5a723db8cc7508e58e9063555700eb29476c,9,6,1,1,970,Dean Troyer,dtroyer,"Add f17 to tested distro list

Change-Id: I2cbd1f90a0986936fa3e6139f789c1274aead627
"
openstack%2Foslo-incubator~master~Iba232257595bb3084052a21a560f2f5551b5f1eb,openstack/oslo-incubator,master,fix-372d11e990,Iba232257595bb3084052a21a560f2f5551b5f1eb,Fix typo made in 372d11e990,MERGED,2012-07-13 20:50:31.000000000,2012-07-13 20:50:31.000000000,2012-07-13 20:50:31.000000000,1,1,0,9788,0797ad85e273f45bef7e4089135e88e3401d9405,6,3,1,1,159,Eric Windisch,ewindisch,"Fix typo made in 372d11e990

Change-Id: Iba232257595bb3084052a21a560f2f5551b5f1eb
"
openstack%2Fnova~master~Ia24cc5c48f15f033c2cf610b8c68a3fd14fbd257,openstack/nova,master,bug/1024516,Ia24cc5c48f15f033c2cf610b8c68a3fd14fbd257,Fix RuntimeWarning nova_manage not found,MERGED,2012-07-13 19:27:47.000000000,2012-07-13 20:16:59.000000000,2012-07-13 20:16:59.000000000,1,1,0,9782,17389ec61b932988821c19efc79d0b1093128b53,6,3,1,1,1849,Joe Gordon,jogo,"Fix RuntimeWarning nova_manage not found

fix bug 1024516

Change-Id: Ia24cc5c48f15f033c2cf610b8c68a3fd14fbd257
"
openstack%2Fnova~master~I9b7f05a8ea5cf5b7fae1a55a2b8557b2bfe5b865,openstack/nova,master,xenapi-rsync,I9b7f05a8ea5cf5b7fae1a55a2b8557b2bfe5b865,Use explicit destination user in xenapi rsync call,MERGED,2012-07-13 16:57:36.000000000,2012-07-13 20:05:32.000000000,2012-07-13 20:05:31.000000000,2,1,0,9776,d906692f78e6919cf53df18f00995546cab2b1b0,11,5,1,1,100,Johannes Erdfelt,johannes.erdfelt,"Use explicit destination user in xenapi rsync call

Recent versions of xenserver use a newer, but buggy, version of rsync
that will attempt to parse out the username and fail if it isn't in
the destination. So, add it to the destination to ensure this works
with both older and newer versions of rsync.

Change-Id: I9b7f05a8ea5cf5b7fae1a55a2b8557b2bfe5b865
"
openstack%2Fhorizon~master~I176844a3c69cdf260cb40a6574ae34b6a36ee2a0,openstack/horizon,master,bug/1011527,I176844a3c69cdf260cb40a6574ae34b6a36ee2a0,Added 'always-enabled' submit button selector,MERGED,2012-07-09 14:50:49.000000000,2012-07-13 20:03:42.000000000,2012-07-13 20:03:42.000000000,9,6,2,9514,bd0bf100a26e86145a4bc8007574ed207fda84d2,20,5,4,3,2455,Tihomir Trifonov,ttrifonov,"Added 'always-enabled' submit button selector

In case when we do not want to disable
a form button after form submit, it can be
marked as <input class=""always-enabled"">.

Fixes bug 1011527

Change-Id: I176844a3c69cdf260cb40a6574ae34b6a36ee2a0
"
openstack%2Fnova~master~I6bb9747f86f7677f0e9c4169c04d6f3fbd4b3480,openstack/nova,master,bug/1020792,I6bb9747f86f7677f0e9c4169c04d6f3fbd4b3480,Exclude openstack-common from pep8 checks.,MERGED,2012-07-13 17:59:58.000000000,2012-07-13 20:03:40.000000000,2012-07-13 20:03:39.000000000,2,2,0,9779,1ef88fdd5bdab4a83c011277c6693c9ed500c0b7,7,4,1,2,360,Dan Prince,dan-prince,"Exclude openstack-common from pep8 checks.

Updates tox.ini and run_tests.sh to exclude openstack-common code
from pep8 checks.

Fixes LP Bug #1020792

Change-Id: I6bb9747f86f7677f0e9c4169c04d6f3fbd4b3480
"
openstack%2Fnova~master~I83b167baf99feacef1a3f91089b758c6cf9531d3,openstack/nova,master,bug/1021453,I83b167baf99feacef1a3f91089b758c6cf9531d3,Sync importutils from openstack-common.,MERGED,2012-07-13 16:15:18.000000000,2012-07-13 19:45:24.000000000,2012-07-13 19:45:23.000000000,3,1,0,9773,43677fc6dab76d9b6ad0375eba4b3c2a78e5b405,8,4,1,1,1561,Russell Bryant,russellb,"Sync importutils from openstack-common.

commit 8c74b37f5bdf1141b8c3724c8df460e6562d1985
Author: Russell Bryant <rbryant@redhat.com>
Date:   Tue Jun 19 17:08:35 2012 -0400

    Improve exception from importutils.import_class().

    The ImportError raised by import_class() attempted to tell you what the
    original error was by just doing str() on the original exception.
    Sometimes that's helpful, but sometimes a full traceback is needed.
    This patch includes a traceback for debugging purposes.

Change-Id: I83b167baf99feacef1a3f91089b758c6cf9531d3
"
openstack%2Fnova~master~I2bb4602845869bd44b39531eeb4f1e7c0c4c20c2,openstack/nova,master,rpc-api-versions,I2bb4602845869bd44b39531eeb4f1e7c0c4c20c2,Change base rpc version to 1.0 in compute rpcapi.,MERGED,2012-07-12 20:10:42.000000000,2012-07-13 19:43:39.000000000,2012-07-13 19:43:39.000000000,57,45,0,9743,b0377bc6d6d88c3e1ec68195de87a3bab194be1c,10,5,1,12,1561,Russell Bryant,russellb,"Change base rpc version to 1.0 in compute rpcapi.

A recent patch change the RPC_API_VERSION in compute/rpcapi.py to 1.1.
This change was the right thing to do in compute/manager.py, but not
compute/rpcapi.py.  This patch changes it back to 1.0, and changes the
code to only specify that 1.1 is required for the new method.

This version in the rpcapi modules is used as the default version to set
in a message.  The version sent in a message is the minimum version
required to be implemented on the manager side for the message to be
successfully processed.  For most messages, that is just 1.0.  In the
case of the new method, it's 1.1.

This patch also changes the name of his variable in the rpcapi modules
from RPC_API_VERSION to BASE_RPC_API_VERSION to help clarify this a bit
more.

Change-Id: I2bb4602845869bd44b39531eeb4f1e7c0c4c20c2
"
openstack%2Fdevstack~master~Iece395413af767042235d6e1cc0421879a810044,openstack/devstack,master,pki,Iece395413af767042235d6e1cc0421879a810044,Setup PKI for Keystone,MERGED,2012-07-02 20:02:40.000000000,2012-07-13 19:23:14.000000000,2012-07-13 19:23:14.000000000,2,0,5,9240,5119f6b8b75307e4f1fa764c0c56d3953a18e2ed,14,10,2,1,2218,Adam Young,ayoung,"Setup PKI for Keystone

Required for http://wiki.openstack.org/PKI
specifically Delegation and Scaling section

when complete, you should see certificates and keys in
/etc/keystone/ssl

The important files are:

/etc/keystone/ssl/private/signing_key.pem
/etc/keystone/ssl/certs/ca.pem
/etc/keystone/ssl/certs/signing_cert.pem

Change-Id: Iece395413af767042235d6e1cc0421879a810044
"
openstack%2Fnova~master~I54ab3492092940dbb01f2787cc329a0162698568,openstack/nova,master,bug/10014860,I54ab3492092940dbb01f2787cc329a0162698568,associate_floating_ip an ip already in use,MERGED,2012-07-09 23:48:53.000000000,2012-07-13 18:25:35.000000000,2012-07-13 18:25:35.000000000,7,3,1,9566,bed296b17ded5012d6651957df387336c10dd002,12,6,2,2,1071,,,"associate_floating_ip an ip already in use

Fixes bug 10014860 to be compliant w/ AWS EC2 spec
instead of return exception.FloatingIpAssociated,
disassociate from old fixed_ip and associate to
new fixed_ip.

Change-Id: I54ab3492092940dbb01f2787cc329a0162698568
"
openstack%2Foslo-incubator~master~I0f403cfa8edec3795f65cf270a9cb2ad0a05d4f5,openstack/oslo-incubator,master,pep8egg,I0f403cfa8edec3795f65cf270a9cb2ad0a05d4f5,Exclude .egg files from pep8 checks,MERGED,2012-07-13 18:19:42.000000000,2012-07-13 18:19:42.000000000,2012-07-13 18:19:42.000000000,1,1,0,9778,23768b1cecc103e63884543754c516157db544c9,6,3,1,1,159,Eric Windisch,ewindisch,"Exclude .egg files from pep8 checks

Change-Id: I0f403cfa8edec3795f65cf270a9cb2ad0a05d4f5
"
openstack%2Foslo-incubator~master~I53ca8308fb61c53274ca1e3d801f22c9b65d41aa,openstack/oslo-incubator,master,import_order,I53ca8308fb61c53274ca1e3d801f22c9b65d41aa,Fix import order of gettextutils in amqp.py,MERGED,2012-07-13 18:17:43.000000000,2012-07-13 18:17:43.000000000,2012-07-13 18:17:43.000000000,1,1,0,9777,9d0040ec998d7953e5ab1acd629ca410cc155041,7,4,1,1,159,Eric Windisch,ewindisch,"Fix import order of gettextutils in amqp.py

Change-Id: I53ca8308fb61c53274ca1e3d801f22c9b65d41aa
"
openstack%2Fpython-novaclient~master~Id37117a2dfd53144b8f062767afcf17825fd5d6e,openstack/python-novaclient,master,test-requires,Id37117a2dfd53144b8f062767afcf17825fd5d6e,Install test-requires in development venv.,MERGED,2012-07-09 15:32:56.000000000,2012-07-13 18:13:14.000000000,2012-07-13 18:13:14.000000000,2,0,0,9520,c3f295729ee1cf3b9aad928d7c296603e2a13cfc,5,3,1,1,4375,Sascha Peilicke,saschpe,"Install test-requires in development venv.

Otherwise ./run_tests.sh may fail

Change-Id: Id37117a2dfd53144b8f062767afcf17825fd5d6e
"
openstack%2Fnova~master~I83494403435aaf980827adba707d6229786d8653,openstack/nova,master,bug/1021453,I83494403435aaf980827adba707d6229786d8653,Sync cfg from openstack-common.,MERGED,2012-07-13 16:15:18.000000000,2012-07-13 17:57:29.000000000,2012-07-13 17:57:28.000000000,2,2,0,9772,c6c29ab3898a88144f022aaefd1e8267e4dbb866,8,5,1,1,1561,Russell Bryant,russellb,"Sync cfg from openstack-common.

commit 3af0786b6d2ce0d088db7a9754ba8f35acb175c9
Author: Vincent Untz <vuntz@suse.com>
Date:   Thu Jul 5 14:51:26 2012 +0200

    cfg: Fix typo in documentation

    with with -> with

Change-Id: I83494403435aaf980827adba707d6229786d8653
"
openstack%2Fnova~master~Ieb073b42dc25db7cee4dfca7ff6525f7e7f46e8e,openstack/nova,master,snapshots_attached_here,Ieb073b42dc25db7cee4dfca7ff6525f7e7f46e8e,Remove VDI chain limit for snapshots.,MERGED,2012-07-07 19:29:53.000000000,2012-07-13 17:57:26.000000000,2012-07-13 17:57:25.000000000,151,174,2,9477,45f8aefcd33b7848d33ae2e8d9801925cf8365e7,29,6,4,4,475,Rick Harris,rconradharris,"Remove VDI chain limit for snapshots.

Snapshots and migrations were coded with a simplifying assumption that
the maximum length of a VDI chain would be 3. Now that fast-cloning has
been added, this assumption no longer holds.

The goal of this patch is to remove the restriction for snapshots. A
follow-on patch will remove the restriction for migrations.

This patch changes the image-format for XenAPI images. Instead of naming
the VHDs, 'base', 'image', and 'snap', they are now numbered staring
with 0 as the leaf and going to N as the base-copy (root).

Old-style images are still supported.

Change-Id: Ieb073b42dc25db7cee4dfca7ff6525f7e7f46e8e
"
openstack%2Fnova~master~I52cbec2b236bac587776c8a56e0f8dcae05294cf,openstack/nova,master,api-logging,I52cbec2b236bac587776c8a56e0f8dcae05294cf,Remove unnecessary logging from API,MERGED,2012-07-13 16:14:38.000000000,2012-07-13 17:53:37.000000000,2012-07-13 17:53:36.000000000,0,5,0,9771,d81d0f0074f73963340d01c07440b0a271629b29,7,4,1,1,100,Johannes Erdfelt,johannes.erdfelt,"Remove unnecessary logging from API

When retrieving a list with a lot of instances (thousands), a
significant part of the time is spent logging debug messages.
These messages don't provide much value anymore and just slow
things down unnecessarily.

Change-Id: I52cbec2b236bac587776c8a56e0f8dcae05294cf
"
openstack%2Fnova~master~I51f2bc48c3a3f731e9426f7541bc6c9157e00c2f,openstack/nova,master,rpc-docs,I51f2bc48c3a3f731e9426f7541bc6c9157e00c2f,Sync a commit from openstack-common.,MERGED,2012-07-13 16:08:36.000000000,2012-07-13 17:50:20.000000000,2012-07-13 17:50:20.000000000,39,0,0,9768,dd20006926bcf7b8159ee6e711e9e4dd53873768,8,5,1,1,1561,Russell Bryant,russellb,"Sync a commit from openstack-common.

commit 62c19c105e9c273692f37d033ffd405c5dda68aa
Author: Russell Bryant <rbryant@redhat.com>
Date:   Fri Jul 13 11:35:15 2012 -0400

    Add more rpc version docs.

    This patch adds some additional documentation, including some examples,
    on making changes to versioned RPC APIs.

Change-Id: I51f2bc48c3a3f731e9426f7541bc6c9157e00c2f
"
openstack%2Fnova~master~I5da708d2e9547d5e554cf49ecfcf39591de6a4e5,openstack/nova,master,skip_write_git_changelog,I5da708d2e9547d5e554cf49ecfcf39591de6a4e5,Add SKIP_WRITE_GIT_CHANGELOG to setup.py.,MERGED,2012-07-13 16:09:54.000000000,2012-07-13 17:32:21.000000000,2012-07-13 17:32:21.000000000,25,17,0,9769,12a89225e30d2b31854be387b78cd60a15446163,11,7,1,1,360,Dan Prince,dan-prince,"Add SKIP_WRITE_GIT_CHANGELOG to setup.py.

Sync with latest setup.py from openstack-common which adds options
to SKIP_WRITE_GIT_CHANGELOG and SKIP_GENERATE_AUTHORS.

If you set SKIP_WRITE_GIT_CHANGELOG in your environment it will speed
up sdist creation by 10-20 seconds which also helps make tox run
faster (because it runs sdist).

Change-Id: I5da708d2e9547d5e554cf49ecfcf39591de6a4e5
"
openstack%2Fpython-cinderclient~master~I49f528f85966850f411d6b44b6b352c15b41280e,openstack/python-cinderclient,master,master,I49f528f85966850f411d6b44b6b352c15b41280e,Update to latest common setup.,ABANDONED,2012-07-11 14:46:18.000000000,2012-07-13 16:48:05.000000000,,259,54,0,9641,21287e44c2e4bd63c2c311f280f8b9985749f198,7,3,3,11,2,Monty Taylor,mordred,"Update to latest common setup.

Add setuptools-git for sdist generation.
Update to latest setup.py and version.py code.
Aligned tox.ini file.
Add interface to consume the generated versions.

Change-Id: I49f528f85966850f411d6b44b6b352c15b41280e
"
openstack%2Fpython-neutronclient~master~Id5064e396f47375f23d499e188aa37a64a48c9f5,openstack/python-neutronclient,master,bug/1002776,Id5064e396f47375f23d499e188aa37a64a48c9f5,Use setuptools-git for file inclusion.,ABANDONED,2012-07-13 16:47:45.000000000,2012-07-13 16:47:45.000000000,,17,18,8,9328,0a001775d07edc561bbd54f98c9ab0f1f83bc948,6,4,1,5,2,Monty Taylor,mordred,"Use setuptools-git for file inclusion.

Fixes bug 1002776. Let setuptools include everything we have in git for a
start.

Also, while in here, fixed up a couple of other setup related things.

Change-Id: Id5064e396f47375f23d499e188aa37a64a48c9f5
"
openstack%2Foslo-incubator~master~Iff7fdde78bf2ba60a1ab88b38ca2ea89260eb5c7,openstack/oslo-incubator,master,master,Iff7fdde78bf2ba60a1ab88b38ca2ea89260eb5c7,Prevent weird double ~'s in local versions.,ABANDONED,2012-07-13 16:39:37.000000000,2012-07-13 16:39:37.000000000,,9,11,0,9588,97cb81d6eccff20ee53512c5430d53b44e07545e,11,3,3,1,2,Monty Taylor,mordred,"Prevent weird double ~'s in local versions.

The version generation code didn't account for developers running locally.
So while checking for the entry in meta/openstack/release that matches
the branch name works for release builds, it left an empty string in the
milestonever section of the version name. Instead, if we just poke the
branch name in there, local version string reporting should be prettier.

Change-Id: Iff7fdde78bf2ba60a1ab88b38ca2ea89260eb5c7
"
openstack%2Foslo-incubator~master~Icda7e06010908f1c5ac6661b1d875c95fbd849f8,openstack/oslo-incubator,master,master,Icda7e06010908f1c5ac6661b1d875c95fbd849f8,Strip the g from the front of the git sha.,ABANDONED,2012-07-13 16:39:13.000000000,2012-07-13 16:39:13.000000000,,3,1,0,9589,147fe38c28a39534de58d6d9a5c25f061bf9ff36,11,3,3,1,2,Monty Taylor,mordred,"Strip the g from the front of the git sha.

Change-Id: Icda7e06010908f1c5ac6661b1d875c95fbd849f8
"
openstack%2Fnova~master~Ib66d327e745593cf1e5897470750d609b2a58980,openstack/nova,master,bug/1013689,Ib66d327e745593cf1e5897470750d609b2a58980,only mount guest image once when injecting files,MERGED,2012-07-07 00:05:12.000000000,2012-07-13 16:29:31.000000000,2012-07-13 16:29:30.000000000,24,44,0,9470,0d166cae0113cd28f9253ff12450d47b71fe0a40,11,6,2,3,1812,p-draigbrady,p-draigbrady,"only mount guest image once when injecting files

Previously we could incur the costly guest mount operation twice,
if injecting files with any of net, ssh keys, password, metadata.
Instead now inject files in the same operation.

Also cleanup the internal injection functions a little
by removing the unused 'execute' parameter.

Partly mitigates the impact of bug 1013689.
Change-Id: Ib66d327e745593cf1e5897470750d609b2a58980
"
openstack%2Fnova~master~Ia30b8de22bcc00d159bb4894ab4dc5f4870c346b,openstack/nova,master,bug/1021721,Ia30b8de22bcc00d159bb4894ab4dc5f4870c346b,"When over quota for floating ips, return HTTPRequestEntityTooLarge.",MERGED,2012-07-12 19:34:13.000000000,2012-07-13 16:12:02.000000000,2012-07-13 16:12:01.000000000,3,2,0,9738,b0da2c4f4ed492f11c343852442e447073a5af76,8,5,1,2,1998,andrewbogott,andrewbogott,"When over quota for floating ips, return HTTPRequestEntityTooLarge.

Previously we were returning a generic Internal Server Error which seems dumb.

Fixes bug 1021721.

Change-Id: Ia30b8de22bcc00d159bb4894ab4dc5f4870c346b
"
openstack%2Fnova~master~I156c09bd81f73312de30fd09aa9bca44e42c6cf6,openstack/nova,master,update-setup-py,I156c09bd81f73312de30fd09aa9bca44e42c6cf6,Use common/setup based tarball version.,ABANDONED,2012-06-24 17:12:27.000000000,2012-07-13 16:11:57.000000000,,201,61,0,8908,24ad2f0518658b922e993c5df128d1c426e56c99,31,4,13,8,2,Monty Taylor,mordred,"Use common/setup based tarball version.

Updates to the latest openstack-common code.

Removes need for Final = True. Drive versions from git.

Change-Id: I156c09bd81f73312de30fd09aa9bca44e42c6cf6
"
openstack%2Fkeystone~master~I121e8cc641fe11a036106cbfd206f0aa1f6da560,openstack/keystone,master,bug/1016171,I121e8cc641fe11a036106cbfd206f0aa1f6da560,Webob needs body to calc Content-Length (bug 1016171),MERGED,2012-06-21 18:31:59.000000000,2012-07-13 16:07:19.000000000,2012-07-13 16:07:18.000000000,42,8,0,8818,4b97716e4a68cb55652fe2bfd62373adf2b417c5,19,5,4,2,4,Dolph Mathews,dolph,"Webob needs body to calc Content-Length (bug 1016171)

- Refactored render_response() and added relevant tests

Change-Id: I121e8cc641fe11a036106cbfd206f0aa1f6da560
"
openstack%2Fnova~master~Ib5ede9f705c833825a19308c140f99c5bf3a776f,openstack/nova,master,bug/1013689,Ib5ede9f705c833825a19308c140f99c5bf3a776f,ensure libguestfs mounts are cleaned up,MERGED,2012-07-11 23:01:16.000000000,2012-07-13 16:07:17.000000000,2012-07-13 16:07:16.000000000,13,3,0,9685,5eea8879b6f3268dcaba326193bef0ed75470bb7,8,5,1,1,1812,p-draigbrady,p-draigbrady,"ensure libguestfs mounts are cleaned up

Make a few attempts to umount the libguestfs
mounts, in case other processes are accessing
the mounts (like udev etc.)

If we still can't umount after 5 attempts
(with average delay of about 1s between each),
then initiate a lazy umount so that the mounts
might be automatically cleaned up at some stage.
We wait a further 10s after initiating the lazy
umount, before raising an exception.

Addresses the original issue in bug 1013689

Change-Id: Ib5ede9f705c833825a19308c140f99c5bf3a776f
"
openstack%2Fnova~master~Idecfc19e7cfe14e0368fbf78090c68eab3859ee3,openstack/nova,master,bug/1024332,Idecfc19e7cfe14e0368fbf78090c68eab3859ee3,Fix typo in docstring,MERGED,2012-07-13 10:14:29.000000000,2012-07-13 15:58:07.000000000,2012-07-13 15:58:06.000000000,1,1,0,9759,e28ee9ffad0564d102d30601ddc0995ffee0faa4,8,5,1,1,1501,Phil Day,philip-day,"Fix typo in docstring

_send_instance_update_notification:
  compute.instance.exists -> compute.instance.update

Change-Id: Idecfc19e7cfe14e0368fbf78090c68eab3859ee3
"
openstack%2Foslo-incubator~master~I5f40b11e07538f36d0f1299f7e822b408bf8e96a,openstack/oslo-incubator,master,import-order,I5f40b11e07538f36d0f1299f7e822b408bf8e96a,Add more rpc version docs.,MERGED,2012-07-13 15:42:57.000000000,2012-07-13 15:42:57.000000000,2012-07-13 15:42:57.000000000,39,0,0,9767,62c19c105e9c273692f37d033ffd405c5dda68aa,6,3,1,1,1561,Russell Bryant,russellb,"Add more rpc version docs.

This patch adds some additional documentation, including some examples,
on making changes to versioned RPC APIs.

Change-Id: I5f40b11e07538f36d0f1299f7e822b408bf8e96a
"
openstack%2Fpython-glanceclient~master~I2c58655ba56eef1fa486246618c4fb5bd3c6c8cf,openstack/python-glanceclient,master,bug/1023632,I2c58655ba56eef1fa486246618c4fb5bd3c6c8cf,Add --is-public to image-create,MERGED,2012-07-11 22:37:15.000000000,2012-07-13 15:32:59.000000000,2012-07-13 15:32:59.000000000,6,1,0,9683,49bc6f94f29ee7286601be0451ab3dafc82a0750,18,3,6,1,1132,Brian Waldon,bcwaldon,"Add --is-public to image-create

This moves image-create closer to image-update by adding
--is-public and hiding the help output of --public. The
--public option will be removed once devstack no longer
depends on it.

Fix bug 1023632

Change-Id: I2c58655ba56eef1fa486246618c4fb5bd3c6c8cf
"
openstack%2Fnova~master~Ibb2041b131c67aba963e2dd81dcdfd105e1f9b33,openstack/nova,master,setup,Ibb2041b131c67aba963e2dd81dcdfd105e1f9b33,Propagate setup.py change from common.,MERGED,2012-07-11 22:41:45.000000000,2012-07-13 15:32:06.000000000,2012-07-13 15:32:06.000000000,15,7,0,9684,8b6af1f148cb50fc8c1e361101bfaddaafbe8569,10,6,1,1,1998,andrewbogott,andrewbogott,"Propagate setup.py change from common.

This pulls in the following patch:

commit 8a967b16dc2ffd60bc19bee09f45e665ddcc9a81
Author: Monty Taylor <mordred@inaugust.com>
Date:   Mon Jul 2 17:19:06 2012 -0400

    Fix up openstack-common build.

    Ironically enough, even though the code to manage this is in
    openstack-common, openstack-common wasn't using it. This patch fixes doc
    generation, as well as setuptools-git integration and versioning.

Change-Id: Ibb2041b131c67aba963e2dd81dcdfd105e1f9b33
"
openstack%2Fheat~master~I5b64466878b719b49a9084f301b2c177ddef9a91,openstack/heat,master,master,I5b64466878b719b49a9084f301b2c177ddef9a91,heat cli : Manpage updates,MERGED,2012-07-13 15:23:41.000000000,2012-07-13 15:23:41.000000000,2012-07-13 15:23:41.000000000,398,11,0,9765,b0ec4877992c6660bedadbb53ea1d7c1503bc513,7,3,2,2,4328,Steven Hardy,shardy,"heat cli : Manpage updates

The heat cli tool manpage had very little information,
this adds detail to the existing page and copies a version
of this page to cover the heat-boto version of the tool.

Change-Id: I5b64466878b719b49a9084f301b2c177ddef9a91
Signed-off-by: Steven Hardy <shardy@redhat.com>
"
openstack%2Foslo-incubator~master~Ie18064d2450cecc86f18d0b10e1ce473253d1a51,openstack/oslo-incubator,master,skip_generate_authors,Ie18064d2450cecc86f18d0b10e1ce473253d1a51,Add SKIP_GENERATE_AUTHORS option to setup.py,MERGED,2012-07-13 15:13:44.000000000,2012-07-13 15:13:44.000000000,2012-07-13 15:13:44.000000000,15,11,1,9763,1fc2abc1726e4e233b4ff5fb9dff415acd8b9a4b,10,4,2,1,360,Dan Prince,dan-prince,"Add SKIP_GENERATE_AUTHORS option to setup.py

Updates the generate_authors function in setup.py so that
it will skip generation of the authors file if the
SKIP_GENERATE_AUTHORS env variable is set.

Authors doesn't currently take that long to generate but having
the option to explicitly skip it (regardless of whether .git is there)
seems like a good addition.

Change-Id: Ie18064d2450cecc86f18d0b10e1ce473253d1a51
"
openstack%2Fkeystone~master~I851e059e8b17c1bc02ab93d8b09a3fb47b9d3fee,openstack/keystone,master,bug/994860,I851e059e8b17c1bc02ab93d8b09a3fb47b9d3fee,Admin Auth URI prefix,MERGED,2012-05-05 18:54:14.000000000,2012-07-13 15:08:14.000000000,2012-07-13 15:08:14.000000000,13,1,1,7156,ae0515c3a078ce27ccca1ef5a98092208c030f2f,27,7,3,3,2218,Adam Young,ayoung,"Admin Auth URI prefix

Allows the prepending of a prefix to the URI used for admin tasks.  This allows URIs like
https://hostname/keystone/main/v2.0

PEP8 fix
Added To Unit test to ensure auth_prefix is checked

Bug: 994860
Change-Id: I851e059e8b17c1bc02ab93d8b09a3fb47b9d3fee
"
openstack%2Foslo-incubator~master~I2e75060d303bc8fae784129e8e42f09922a8b09e,openstack/oslo-incubator,master,skip_write_git_changelog,I2e75060d303bc8fae784129e8e42f09922a8b09e,Add SKIP_WRITE_GIT_CHANGELOG option to setup.py,MERGED,2012-07-13 15:01:46.000000000,2012-07-13 15:01:46.000000000,2012-07-13 15:01:46.000000000,10,6,2,9762,5a21c63033be67a1f46e788c43a36b9dfa0094f2,7,3,1,1,360,Dan Prince,dan-prince,"Add SKIP_WRITE_GIT_CHANGELOG option to setup.py

Updates the write_git_changelog function in setup.py so that
it will skip changelog generation if the SKIP_WRITE_GIT_CHANGELOG
env variable is set.

The motivation for this change is to speed up running sdist which
gets executed at the begining of a tox run. Some projects (like Nova)
can take between 10-20 seconds to generate a changelog in this fashion.

Change-Id: I2e75060d303bc8fae784129e8e42f09922a8b09e
"
openstack%2Fglance~master~Icf773a1eb057fc9d65cf54890afa4638f2aee0b4,openstack/glance,master,bp/swift-tenant-specific-storage,Icf773a1eb057fc9d65cf54890afa4638f2aee0b4,Make get_endpoint a generic reusable function.,MERGED,2012-07-09 21:28:05.000000000,2012-07-13 14:34:18.000000000,2012-07-13 14:34:18.000000000,86,33,0,9551,78dbcfa9e5cb8fcbb3ea7c0d82370b48a692b9ab,23,5,2,2,360,Dan Prince,dan-prince,"Make get_endpoint a generic reusable function.

This patch refactors the get_endpoint function to make it more generic
and top level so that it can be more easily accessed and tested.

Adds service_type, endpoint_region, and endpoint_type options to
the get_endpoint function as well.

Added a new test suite specifically for get_endpoint.

The motivation for this change is that we'll need to be able to
parse the 'object-store' endpoint for each tenant in order to
enable multi-tenant storage in the swift storage backend.

Partially implements blueprint: swift-tenant-specific-storage

Change-Id: Icf773a1eb057fc9d65cf54890afa4638f2aee0b4
"
openstack%2Fheat~master~I013bdb5ed992ce735905225cc4415fc0cfc5ce92,openstack/heat,master,master,I013bdb5ed992ce735905225cc4415fc0cfc5ce92,heat engine : fix create_stack response format,MERGED,2012-07-13 09:36:53.000000000,2012-07-13 09:36:53.000000000,2012-07-13 09:36:53.000000000,1,1,0,9758,c16b10255d1aabf0884cf27b55f486b9e8901aed,5,2,1,1,4328,Steven Hardy,shardy,"heat engine : fix create_stack response format

create_stack response is broken now the StackId formatting
is done in the API, modify response format to fix.

Change-Id: I013bdb5ed992ce735905225cc4415fc0cfc5ce92
Signed-off-by: Steven Hardy <shardy@redhat.com>
"
openstack%2Fneutron~master~Ibfea9bac87ba36f301671a35de81577debcd460e,openstack/neutron,master,bug/1019728,Ibfea9bac87ba36f301671a35de81577debcd460e,Add option sql_max_retries for database connection.,MERGED,2012-07-13 08:53:11.000000000,2012-07-13 08:53:11.000000000,2012-07-13 08:53:11.000000000,38,4,7,9572,627a03766d1eb22ed04f0e208aca9b8e16a0303c,24,8,5,12,2967,ljjjustin,ljjjustin,"Add option sql_max_retries for database connection.

Fixes bug 1019728

also add unit tests for linux bridge plugin config

Change-Id: Ibfea9bac87ba36f301671a35de81577debcd460e
"
openstack%2Fnova~master~Icd8ee48ec7b6405af21c915fb95f89466750ffd4,openstack/nova,master,bp/multi-process-api-service,Icd8ee48ec7b6405af21c915fb95f89466750ffd4,blueprint multi-process-api-service,ABANDONED,2012-06-06 14:23:28.000000000,2012-07-13 08:44:41.000000000,,478,45,50,8228,2e93c2bc3d8cce9b7a903d715669de51e7f2cb8b,50,7,9,12,2759,Huang Zhiteng,zhiteng-huang,"blueprint multi-process-api-service

Add multiprocess support for API serivces (EC2/OSAPI_Compute/OSAPI_Volume/Metadata).

2012-06-27 v7:
    * Put API services into its own process (bin/nova-api, bin/nova-all).
    * Remove master_worker.
2012-06-11 v6:
    * Fixed process leak issue by putting self.running onto shared memory to
    make sure running state is sychronized between processes.
    * Add new unittest to check whether correct # of workers are started.
    * Fixed error found on Mac OS X.
2012-06-1 v5:
    * Add unittest to cover worker recovery, service termination functionality
    in wsgi.py, fix python 2.6 compatibility issue.
    * Modify generate_uid() to introduce per-process seeds in utils.py to avoid
    collisions.
    * Add worker session to nova.conf.sample.
2012-04-28 v4:
    * Add SIGINT handler and fix child-parent race condition when Ctrl+C is
    pressed.
2012-03-30 v3:
    * Added metadata test.
    * nova/wsgi.py:Server: use the greenthread pool created for each process.
    * nova/service.py: remove debug code
2012-03-27 v2:
    * Fixed unittest error.
    * nova/wsgi.py:Server: Use self._logger to do logging in multiprocess mode.
    * nova/wsgi.py:Server: Move self._pool creation into proper place.
    * code style fix.
2012-03-25 v1:
    * Modification to nova/service.py and nova/wsgi.py in order to support
    multiprocess (a.k.a. workers) for various API services.  If multiprocess
    mode is enabled, (i.e. flags 'APINAME_workers' set to positive numbers),
    corresponding API service will run in target number of process(es).
    * Add unittest for multiprocess API service, also alter testing/runner.py
    to adopt new unittest.

Change-Id: Icd8ee48ec7b6405af21c915fb95f89466750ffd4
"
openstack%2Fnova~master~I5cdcc628293d3e7cf165c5ffe4883f138783f73f,openstack/nova,master,bug/1021340,I5cdcc628293d3e7cf165c5ffe4883f138783f73f,Convert remaining network API casts to calls,MERGED,2012-07-11 08:27:42.000000000,2012-07-13 08:34:05.000000000,2012-07-13 08:34:05.000000000,5,5,0,9630,34f9d7e974d0e09c723e0a04ed6eecd1b482e77d,24,8,3,1,1501,Phil Day,philip-day,"Convert remaining network API casts to calls

Fix for Bug 1021340

During compute/terminate_instance networking is de-allocated by a call to
network/api/deallocate_for_instance(), which is implemented as an rpc.cast to
the network manager. This in turn will eventually call
network/manager/deallocate_fixed_ip(), which in turn call the compute API to
trigger a security group refresh, which will get the instance from the database

However because original call to the network manager is a cast there is a chance
that the compute manager will delete the instance record in the DB before the
compute API (in the network manager) tries to retrieve the instance. At this
point the security group refresh fails (leaving rules in place which are a
security risk when the IP is reused), and potentially stopping otheraspects
of the network deallocation from completing.

Changing this from rpc.call to rpc.cast will fix this issue.

Aside from this specific use of a cast there are 4 other casts in the
network API:
  add_fixed_ip_to_instance
  remove_fixed_ip_from_instance
  add_network_to_project
  release_floating_ip

and to avoid other timing issues these will also be converted to calls.

Change-Id: I5cdcc628293d3e7cf165c5ffe4883f138783f73f
"
openstack%2Fkeystone~master~I03a77aeddcd61e352246667fa6516c325a6d9684,openstack/keystone,master,bug/980085,I03a77aeddcd61e352246667fa6516c325a6d9684,LDAP Tenant Schema mapping,ABANDONED,2012-04-13 15:56:14.000000000,2012-07-13 06:03:04.000000000,,2,1,1,6523,4cc034a066a3e4bfa0c1b8b2695693cca1ab1e77,11,6,1,1,2218,Adam Young,ayoung,"LDAP Tenant Schema mapping

There are two issues with the TenantAPI for the ldap Identity.

There is a mistaken attribute_mapping entry, which was mapping 'description' into 'desc'. Per RFC 2256 there should be no need to map this as the attribute as it is already 'description' in the LDAP schema. I am not aware of any other schema that would use 'desc' attribute for a 'groupOfNames' object.

Since there is no support (yet) for users, tenants or roles to be enabled/disabled there needs to be a attribute_ignore set for the 'enabled' attribute.

Fixes Bug 980085

Change-Id: I03a77aeddcd61e352246667fa6516c325a6d9684
"
openstack%2Fopenstack-manuals~master~I4789ecd6a4fef9977993508589abad8bdc88ddbc,openstack/openstack-manuals,master,bug/1020668,I4789ecd6a4fef9977993508589abad8bdc88ddbc,Fix bug 1020668,MERGED,2012-07-12 19:50:17.000000000,2012-07-13 03:51:16.000000000,2012-07-12 20:18:30.000000000,1,1,0,9739,b92c46ef00d1e0193ac9159038f05d82132bc95a,4,2,1,1,964,Anne Gentle,annegentle,"Fix bug 1020668

Fix mispelling seperated > separated

Change-Id: I4789ecd6a4fef9977993508589abad8bdc88ddbc
"
openstack%2Fpython-neutronclient~master~Ic628db01034bc6dfb5fad3d6a2905e243900229a,openstack/python-neutronclient,master,bug/1021546,Ic628db01034bc6dfb5fad3d6a2905e243900229a,Remove quantum client codes for API v1.0 Bug #1021546,MERGED,2012-07-13 03:50:28.000000000,2012-07-13 03:50:28.000000000,2012-07-13 03:50:28.000000000,14,3911,9,9421,7f3e6eeb7a56d26d786275461293ef48a4727ca8,27,6,3,16,2874,yong sheng gong,gongysh,"Remove quantum client codes for API v1.0
Bug #1021546

Change-Id: Ic628db01034bc6dfb5fad3d6a2905e243900229a
"
openstack%2Fopenstack-manuals~master~I2b1d01608da01e4f4b588d2a31af3475512319e2,openstack/openstack-manuals,master,bug/1023435,I2b1d01608da01e4f4b588d2a31af3475512319e2,fixes RHEL/Centos/etc keystone service name ref,MERGED,2012-07-11 23:51:05.000000000,2012-07-13 03:37:04.000000000,2012-07-13 03:37:04.000000000,1,1,0,9691,c0359499126c9dc6eb4fe3650549c9c4c211f767,5,3,1,1,612,Tom Fifield,fifieldt,"fixes RHEL/Centos/etc keystone service name ref

In the keystone install documentation, a service restart is performed
the doc currently uses service keystone, whereas the service name
is actually openstack-keystone not keystone.

fixes bug 1023435

Change-Id: I2b1d01608da01e4f4b588d2a31af3475512319e2
"
openstack%2Fopenstack-manuals~master~I5d1d33a2a63c2bfe93f82783f30879900498e4c0,openstack/openstack-manuals,master,get-metadata,I5d1d33a2a63c2bfe93f82783f30879900498e4c0,More on fetching data from metadata server for Fedora images.,MERGED,2012-07-07 22:34:11.000000000,2012-07-13 03:25:01.000000000,2012-07-13 03:25:01.000000000,42,45,0,9481,fa1c1c70755344219f244326b0ef31c91dd9e983,9,4,4,3,321,Lorin Hochstein,lorinh,"More on fetching data from metadata server for Fedora images.

 * Added links RPMs for Fedora port of cloud-init
 * Added links to Yahoo's Openstack-Condense (Condenser)
 * Added a link to to EC2 docs on metadata service.

Patchset 2 fixes typos - metad and wtih plus fixes typo in README.rst.
Patchset 3 removes files I didn't mean to add, sitemap.xml and updates to .htaccess.
Patchset 4 really removes .htaccess. Really.

Change-Id: I5d1d33a2a63c2bfe93f82783f30879900498e4c0
"
openstack%2Fglance~master~Ia1a7b5062e7f882971f2061274f6a4a44cfc8ced,openstack/glance,master,master,Ia1a7b5062e7f882971f2061274f6a4a44cfc8ced,Update 'logging' imports to openstack-common,MERGED,2012-07-12 04:19:09.000000000,2012-07-13 00:44:41.000000000,2012-07-13 00:44:41.000000000,46,56,0,9700,279d07eebba14f819d2e950069284d8e18fc04f6,23,5,4,42,1132,Brian Waldon,bcwaldon,"Update 'logging' imports to openstack-common

Change-Id: Ia1a7b5062e7f882971f2061274f6a4a44cfc8ced
"
openstack%2Fnova~master~I544dc2ba203519d32a5ecce4a87157b5c4a55076,openstack/nova,master,snapshots_attached_here,I544dc2ba203519d32a5ecce4a87157b5c4a55076,Adds snapshot_attached_here contextmanager.,MERGED,2012-07-06 21:48:32.000000000,2012-07-13 00:44:38.000000000,2012-07-13 00:44:37.000000000,89,80,0,9464,665516f72402eac00455517446716cd7d43323db,22,6,4,4,475,Rick Harris,rconradharris,"Adds snapshot_attached_here contextmanager.

This patch does three things:

    * Moves more code into vm_utils to better match our separation of
      concerns.

    * Reduces complexity of the vmops._destroy method.

    * Adds snapshot_attached_here contextmanager to make the
      snapshotting code a bit cleaner.

Change-Id: I544dc2ba203519d32a5ecce4a87157b5c4a55076
"
