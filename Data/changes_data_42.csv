id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fneutron~stable%2Fwallaby~Id1907481077d230e4461906a1a2a1447abac330a,openstack/neutron,stable/wallaby,bug/1973276,Id1907481077d230e4461906a1a2a1447abac330a,"[OVN] Allow VIP ports with a defined ""device_owner""",MERGED,2022-05-18 09:34:54.000000000,2022-05-30 12:02:53.000000000,2022-05-30 12:01:13.000000000,32,31,1,842295,c4d98634cd90bba64b842f538ac7d8a7cef04f2a,15,4,2,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN] Allow VIP ports with a defined ""device_owner""

Now OVN VIP port can have a ""device_owner"" defined.

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py

Closes-Bug: #1973276
Change-Id: Id1907481077d230e4461906a1a2a1447abac330a
(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)
(cherry picked from commit 9e2425111b6f7413098bbb38f6013d18b3804303)
"
openstack%2Fdevstack~stable%2Fussuri~I5d42ac6b54bf20804d7e5faa39d1289102318b64,openstack/devstack,stable/ussuri,uc-master-fix-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,I5d42ac6b54bf20804d7e5faa39d1289102318b64,Use upper-constraints from in review changes,ABANDONED,2022-05-30 11:57:01.000000000,2022-05-30 11:59:29.000000000,,1,1,0,843815,d79fe2faca8a1c95032d256a143c87c7b4339fc4,2,0,1,1,13861,yatin,yatinkarel,"Use upper-constraints from in review changes

Currently upper-constraints.txt is not getting used
from in-review changes of requirements project and
leading to merge of broken requirements[1].

Use master branch to fetch constraints instead of
the remote branch.

[1] https://review.opendev.org/c/openstack/requirements/+/822575

Depends-On: https://review.opendev.org/c/openstack/requirements/+/823128
Change-Id: I5d42ac6b54bf20804d7e5faa39d1289102318b64
(cherry picked from commit 05e622ead243325658ae5aff5b5b53ce60135c57)
(cherry picked from commit 2e390d7d102710cab170092754102bb202791af8)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~If4c85f8e960141d08a89accdc11a3271f31974c1,openstack/kolla-ansible,stable/victoria,,If4c85f8e960141d08a89accdc11a3271f31974c1,talk TLS to openstack exporter via haproxy,MERGED,2022-05-26 13:21:14.000000000,2022-05-30 11:57:04.000000000,2022-05-30 11:55:32.000000000,11,0,0,843400,c6e7136146939f898f01cc49e274fc3af2946cfd,9,3,1,2,14826,Mark Goddard,mgoddard,"talk TLS to openstack exporter via haproxy

Closes-Bug: #1975598
Change-Id: If4c85f8e960141d08a89accdc11a3271f31974c1
(cherry picked from commit fcba927d7b989cea8398b461da7363ceee3f14bc)
"
openstack%2Foslo.utils~master~I6dbb8650b0bc3448143ed88570ce33820710b156,openstack/oslo.utils,master,python310,I6dbb8650b0bc3448143ed88570ce33820710b156,bindep: Use Python 3 devel packages,MERGED,2022-05-26 16:54:40.000000000,2022-05-30 11:55:12.000000000,2022-05-30 11:53:30.000000000,1,3,0,843502,efa9dcbba1db1b5b6d953d1fa0ff062b8c2a9e38,8,3,1,1,15334,Stephen Finucane,sfinucan,"bindep: Use Python 3 devel packages

Change-Id: I6dbb8650b0bc3448143ed88570ce33820710b156
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fkolla~master~I737e1ce5bfc37d0703879c8272a9e915084c5ca6,openstack/kolla,master,override-extra-repos,I737e1ce5bfc37d0703879c8272a9e915084c5ca6,Replace Certbot with Lego for Let's Encrypt container,MERGED,2022-03-17 18:16:26.000000000,2022-05-30 11:43:45.000000000,2022-05-30 11:42:11.000000000,69,6,39,834211,d424a63d6049d8d241ab1294aea035d4b187a111,93,4,20,5,30810,James Kirsch,generalfuzz,"Replace Certbot with Lego for Let's Encrypt container

Replaces Certbot with Lego for certificate retrieval and renewal.
Lego includes support for DNS ACME Challenges.

Adds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both
the transfer of Let's Encrypt certificates to the HAProxy container and
to enable live updating of HAProxy certifices using the HAProxy API
exposed on the local HAProxy socket.

Implements: blueprint letsencrypt-https
Change-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6
"
openstack%2Ftripleo-quickstart-extras~master~Ie6fce250c9b554ac350ff6670eaf12a4407237eb,openstack/tripleo-quickstart-extras,master,dnm,Ie6fce250c9b554ac350ff6670eaf12a4407237eb,[DNM] Test disabled build,ABANDONED,2022-05-25 16:10:01.000000000,2022-05-30 11:39:49.000000000,,8,38,0,843310,d60bf7fac7f033c7e2870afd0a897b439c4dd0b1,5,1,1,2,13861,yatin,yatinkarel,"[DNM] Test disabled build

Change-Id: Ie6fce250c9b554ac350ff6670eaf12a4407237eb
"
openstack%2Fci-log-processing~master~I245491227d13f66124518008d983936f20d7880d,openstack/ci-log-processing,master,,I245491227d13f66124518008d983936f20d7880d,Ignore directories that does not exists or don't have access,MERGED,2022-05-23 13:53:15.000000000,2022-05-30 11:37:09.000000000,2022-05-30 11:35:50.000000000,5,5,5,842977,93f5dd2e9fc5157fd4cf5f22d7a79d617e49c38c,22,6,4,2,20676,daniel.pawlik,daniel.pawlik,"Ignore directories that does not exists or don't have access

On some log server hosts, response status code for some directories
are different thatn 200.
This patch is only excluding those directories that response status code
is 404 or 401.

Change-Id: I245491227d13f66124518008d983936f20d7880d
"
openstack%2Fopenstack-ansible~stable%2Fwallaby~I53720e54e11f76e37905210c02452588526e620a,openstack/openstack-ansible,stable/wallaby,bump_osa,I53720e54e11f76e37905210c02452588526e620a,Bump OpenStack-Ansible Wallaby,MERGED,2022-05-27 10:30:12.000000000,2022-05-30 11:34:03.000000000,2022-05-30 11:32:21.000000000,45,45,1,843600,330956d16d5f6626ab49b2aa150ec577ca821031,10,3,1,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump OpenStack-Ansible Wallaby

Change-Id: I53720e54e11f76e37905210c02452588526e620a
"
openstack%2Fneutron-lib~master~Ib5d4134bf59ea37d983f33807b396b31ffd9719d,openstack/neutron-lib,master,secure-rbac,Ib5d4134bf59ea37d983f33807b396b31ffd9719d,Check proper config option to see if scope is enforced or not,MERGED,2022-04-29 15:02:50.000000000,2022-05-30 11:27:14.000000000,2022-05-30 11:25:21.000000000,11,20,4,839956,1de7dc1bdf914b1e34b4e604cbc810ef3181e286,14,3,2,4,11975,Slawek Kaplonski,slaweq,"Check proper config option to see if scope is enforced or not

Oslo policy introduced 2 config options which are related to the new
""Secure RBAC"" policies and are in most cases used together:
* enforce_new_defaults
* enforce_scope

When I initially worked on new default policies in Neutron I always
set both of them to True together and I wrongly added checking
if enforce_new_defaults is set to True to check or set system_scope
parameter in context object.
As enforce_scope is related to scope actually, it should be set/check
when enforce_scope is enabled, not when enforce_new_defaults is enabled.

This patch fixes that by checking proper config option.

Change-Id: Ib5d4134bf59ea37d983f33807b396b31ffd9719d
"
openstack%2Fkolla~stable%2Fyoga~I793e35ef347c9d44b4e870cd3ca1bd459e557623,openstack/kolla,stable/yoga,feature/bump_upstream_alertmanager-stable/yoga,I793e35ef347c9d44b4e870cd3ca1bd459e557623,Bump up Alertmanager version,MERGED,2022-05-25 11:36:27.000000000,2022-05-30 11:17:19.000000000,2022-05-30 11:15:53.000000000,5,1,0,843205,4ecd200b9651841b48af807680a7d08f2bac63a9,9,3,1,2,32553,Sven Kieske,skieske,"Bump up Alertmanager version

Change-Id: I793e35ef347c9d44b4e870cd3ca1bd459e557623
(cherry picked from commit d41c19fbcaacc2d8030110fb72ea0612b5f7ab87)
"
openstack%2Fkayobe~master~I6f603c9304d836012244bb92ec88695c443d7e9b,openstack/kayobe,master,,I6f603c9304d836012244bb92ec88695c443d7e9b,kolla-target-venv: remove permissions workaround,ABANDONED,2022-02-16 17:08:33.000000000,2022-05-30 11:13:46.000000000,,16,9,0,829580,d2e650f53932d4c3e6ef7997d6e1ec3e44230de4,6,1,2,1,14826,Mark Goddard,mgoddard,"kolla-target-venv: remove permissions workaround

Previously we used become when creating the virtualenv for
kolla-ansible, then recursively changed its ownership. This is a little
inefficient. This change removes the workaround, using become_user to
create the virtualenv as the kolla user.

TrivialFix

Change-Id: I6f603c9304d836012244bb92ec88695c443d7e9b
"
openstack%2Fironic~bugfix%2F20.2~Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,openstack/ironic,bugfix/20.2,drop-queue-ironic-bugfix/20.2,Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,CI: Removing ironic job queue,MERGED,2022-05-26 20:24:30.000000000,2022-05-30 11:03:15.000000000,2022-05-30 10:57:39.000000000,0,1,0,843517,1b073c2099e4cfbf767c5861c30e9e2aa38e00f2,9,2,1,1,11655,Julia Kreger,jkreger,"CI: Removing ironic job queue

Change-Id: Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8
See: https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
(cherry picked from commit 63e53797adca625edd2fdacd16a025bedccf8731)
"
openstack%2Fironic~stable%2Fwallaby~Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,openstack/ironic,stable/wallaby,drop-queue-ironic-stable/yoga-stable/xena-stable/wallaby,Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,CI: Removing ironic job queue,MERGED,2022-05-26 20:23:00.000000000,2022-05-30 11:03:01.000000000,2022-05-30 10:57:35.000000000,0,1,0,843513,c6a8ab2fbf65189a4ee14a1cd3b49d8ad99b8da4,9,2,1,1,11655,Julia Kreger,jkreger,"CI: Removing ironic job queue

Change-Id: Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8
See: https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
(cherry picked from commit 63e53797adca625edd2fdacd16a025bedccf8731)
"
openstack%2Fpuppet-nova~master~I31031f903f9d664b86734fd23056eb7b8985ff63,openstack/puppet-nova,master,,I31031f903f9d664b86734fd23056eb7b8985ff63,Simplify handling of image_type_exclude_list,ABANDONED,2022-05-30 08:11:26.000000000,2022-05-30 10:58:25.000000000,,1,12,0,843798,9554523700a53723382c396914f585fad1c2b71d,4,1,2,2,9816,Takashi Kajinami,kajinamit,"Simplify handling of image_type_exclude_list

This change refactors how the image_type_exclude_list parameter is
determined. With this change setting the parameter to [] or '' results
in setting an empty value, instead of removing the parameter, but this
is effectively same because the parameter defaults to an empty list.

Change-Id: I31031f903f9d664b86734fd23056eb7b8985ff63
"
openstack%2Fironic-inspector~master~Iee21a71791c4e083033ad304d4348f36c8dbca7f,openstack/ironic-inspector,master,zanata/translations,Iee21a71791c4e083033ad304d4348f36c8dbca7f,Imported Translations from Zanata,MERGED,2022-05-26 03:15:30.000000000,2022-05-30 10:54:38.000000000,2022-05-30 10:52:04.000000000,276,8,0,843371,3aabc34493469cdd3c2c1591acb9da5d08845fe0,7,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iee21a71791c4e083033ad304d4348f36c8dbca7f
"
openstack%2Fironic-python-agent~bugfix%2F8.6~I0fd6356f036d5ff17510fb838eaf418164cdfc92,openstack/ironic-python-agent,bugfix/8.6,,I0fd6356f036d5ff17510fb838eaf418164cdfc92,Multipath Hardware path handling,MERGED,2022-05-20 18:39:26.000000000,2022-05-30 10:54:19.000000000,2022-05-30 10:51:58.000000000,748,57,0,842409,d25f5be2a2f4353d4e05922f07f8cc404528fa73,9,3,1,8,15519,Iury Gregory Melo Ferreira,iurygregory,"Multipath Hardware path handling

Removes multipath base devices from consideration by
default, and instead allows the device-mapper device
managed by multipath to be picked up and utilized
instead.

In effect, allowing us to ignore standby paths *and*
leverage multiple concurrent IO paths if so offered
via ALUA.

In reality, anyone who has previously built IPA with
multipath tooling might not have encountered issues
previously because they used Active/Active SAN storage
environments. They would have worked because the IO lock
would have been exchanged between controllers and paths.
However, Active/Passive environments will block passive
paths from access, ultimately preventing new locks from
being established without proper negotiation. Ultimately
requiring multipathing *and* the agent to be smart enough
to know to disqualify underlying paths to backend storage
volumes.

An additional benefit of this is active/active MPIO devices
will, as long as ``multipath`` is present inside the ramdisk,
no longer possibly result in duplicate IO wipes occuring
accross numerous devices.

Story: #2010003
Task: #45108
Resolves: rhbz#2076622
Resolves: rhbz#2070519
Change-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92
(cherry picked from commit 014d37743a3b5694e0e2a3cabfafe885417172d5)
"
openstack%2Fironic-python-agent~stable%2Fyoga~I0fd6356f036d5ff17510fb838eaf418164cdfc92,openstack/ironic-python-agent,stable/yoga,,I0fd6356f036d5ff17510fb838eaf418164cdfc92,Multipath Hardware path handling,MERGED,2022-05-23 13:55:44.000000000,2022-05-30 10:54:19.000000000,2022-05-30 10:51:52.000000000,748,57,0,842942,2c95ee45339dc910a6b29cb5e0f24a1f48898165,9,3,1,8,15519,Iury Gregory Melo Ferreira,iurygregory,"Multipath Hardware path handling

Removes multipath base devices from consideration by
default, and instead allows the device-mapper device
managed by multipath to be picked up and utilized
instead.

In effect, allowing us to ignore standby paths *and*
leverage multiple concurrent IO paths if so offered
via ALUA.

In reality, anyone who has previously built IPA with
multipath tooling might not have encountered issues
previously because they used Active/Active SAN storage
environments. They would have worked because the IO lock
would have been exchanged between controllers and paths.
However, Active/Passive environments will block passive
paths from access, ultimately preventing new locks from
being established without proper negotiation. Ultimately
requiring multipathing *and* the agent to be smart enough
to know to disqualify underlying paths to backend storage
volumes.

An additional benefit of this is active/active MPIO devices
will, as long as ``multipath`` is present inside the ramdisk,
no longer possibly result in duplicate IO wipes occuring
accross numerous devices.

Story: #2010003
Task: #45108
Resolves: rhbz#2076622
Resolves: rhbz#2070519
Change-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92
(cherry picked from commit 014d37743a3b5694e0e2a3cabfafe885417172d5)
"
openstack%2Fironic-python-agent~master~Ibfbcc1196eb9f583ba9d79bae7988d64de514f6d,openstack/ironic-python-agent,master,,Ibfbcc1196eb9f583ba9d79bae7988d64de514f6d,Update oslo.log requirement to 4.6.1,MERGED,2022-05-24 15:18:34.000000000,2022-05-30 10:54:05.000000000,2022-05-30 10:51:49.000000000,1,1,1,843162,16a38600a86570285dadc671e646d89b845407bb,10,3,1,1,11655,Julia Kreger,jkreger,"Update oslo.log requirement to 4.6.1

Previously IPA was set to enforce a minimum version of 3.36.0 which
was a Python2 version build which does did not support more recent
versions of python. Given that relationship is realistically impossible
moving the minimum to something released a bit more recently, in this
case 4.6.1.

Change-Id: Ibfbcc1196eb9f583ba9d79bae7988d64de514f6d
"
openstack%2Fcharm-octavia~master~Ie7de91e2b07cbe7f1040bf12df338a722184abb5,openstack/charm-octavia,master,bug/1946325,Ie7de91e2b07cbe7f1040bf12df338a722184abb5,change device_owner to Octavia:Health_mgr,NEW,2022-05-11 05:08:59.000000000,2022-05-30 10:47:42.000000000,,35,12,7,841365,e519c6edb081d0d78c0b90fb4bac8280f56636c2,17,4,3,4,10366,Hemanth N,Hemanth,"change device_owner to Octavia:Health_mgr

For OVN based deployments, neutron-ovn considers DHCP as disabled
if the device_owner starts with neutron:, see [1] [2].

This patch checks the subordinate charm to octavia and changes
the o-hm0 port device owner to Octavia:Health_mgr if ovn-chassis
is the subordinate charm.

[1] https://opendev.org/openstack/neutron/src/commit/dfd4ce000b9efd5d9b608bd29bfa4a832383ca2c/neutron/common/ovn/utils.py#L126-L128
[2] https://opendev.org/openstack/neutron/src/commit/dfd4ce000b9efd5d9b608bd29bfa4a832383ca2c/neutron/common/ovn/utils.py#L173-L175

Closes-Bug: #1946325
Change-Id: Ie7de91e2b07cbe7f1040bf12df338a722184abb5
"
openstack%2Fopenstack-ansible-lxc_hosts~master~Ic62a8fd7290318ed7c76c22620ee0b6f09075a85,openstack/openstack-ansible-lxc_hosts,master,osa/lxc-ci,Ic62a8fd7290318ed7c76c22620ee0b6f09075a85,Use integrated repo 'hosts' jobs to test different backing stores,MERGED,2022-05-23 21:23:57.000000000,2022-05-30 10:31:43.000000000,2022-05-30 10:28:43.000000000,1,62,9,843029,667321df9c72366c53fa97592d5f132cdf6d642a,32,3,3,2,25023,Jonathan Rosser,jrosser,"Use integrated repo 'hosts' jobs to test different backing stores

This uses the main openstack-ansible repo for testing these different
backing store scenarios rather than openstack-ansible-tests. This is
more maintainable and ensures that we test using the same code as is
used for a real deployment.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843027
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/843418
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/843547
Change-Id: Ic62a8fd7290318ed7c76c22620ee0b6f09075a85
"
openstack%2Fopenstack-ansible-os_keystone~master~Ifcd2afe217205684b0ea3917a3776666d10ffae7,openstack/openstack-ansible-os_keystone,master,osa/keystone-keypairs,Ifcd2afe217205684b0ea3917a3776666d10ffae7,Add a new main tasks file for pre-service setup,MERGED,2022-05-29 11:17:31.000000000,2022-05-30 10:26:54.000000000,2022-05-30 10:25:26.000000000,83,0,1,843739,7ab6882066f2053c7b4adb2e6efaa9f14c398c7e,13,3,3,1,25023,Jonathan Rosser,jrosser,"Add a new main tasks file for pre-service setup

There are a number of tasks and use of the ssh keypair setup role
which must happen on all of the keystone hosts before the service
itself is deployed.

Previously, the keystone role ran with serial (1,100%), and the
pre-service setup tasks iterated over ansible_play_hosts
during the deployment of the first keystone host using delegate_to.
This makes the control flow of the role hard to understand and
causes issues when the pre-service tasks need to include further
roles which also use delegate_to, such as the ssh-keypairs role.

This change introduces a new 'main' tasks file for the pre-service
setup  which can be called independantly with no restriction on
serial:. This means that the pre-service setup can be completed
on all keystone hosts using normal ansible tasks without iteration
or delegate_to, and the role can be called a second time with the usual
main.yml and serial: settings to deploy the service itself and
maintain operation in a H/A deployment. In addition, the behaviour
of --limit will now be more obvious.

Change-Id: Ifcd2afe217205684b0ea3917a3776666d10ffae7
"
openstack%2Fopenstack-ansible~master~If51c2796a22b654c302b2a7d0941bc7bfc45760d,openstack/openstack-ansible,master,,If51c2796a22b654c302b2a7d0941bc7bfc45760d,Create three keystone containers when the test scenario includes 'keystone',MERGED,2022-05-28 08:01:57.000000000,2022-05-30 10:22:42.000000000,2022-05-30 10:18:34.000000000,11,0,1,843713,236b060742c4318d2ccf62ce76cbc5bf04dda302,10,3,1,1,25023,Jonathan Rosser,jrosser,"Create three keystone containers when the test scenario includes 'keystone'

This patch makes the os_keystone role test create 3 keystone containers
to validate the ssh-keyspairs setup and sync of the fernet keys.

Change-Id: If51c2796a22b654c302b2a7d0941bc7bfc45760d
"
openstack%2Fopenstack-ansible~master~I1059477870d7477e70c9f6f811572e657856e181,openstack/openstack-ansible,master,,I1059477870d7477e70c9f6f811572e657856e181,Check the actual upper-constraints file for heathcheck-infrastructure.,MERGED,2022-05-26 08:28:50.000000000,2022-05-30 10:21:00.000000000,2022-05-30 10:18:31.000000000,1,1,2,843415,d35cd1385dffde35caa879b7fd50073259a7394d,13,3,2,1,25023,Jonathan Rosser,jrosser,"Check the actual upper-constraints file for heathcheck-infrastructure.

This is possible now we have a consistently named symlink to the latest
version.

Change-Id: I1059477870d7477e70c9f6f811572e657856e181
"
openstack%2Fopenstack-ansible~master~Ic91ba0be3c5c37bf7e47b7a9a8360b6ccb18e9c3,openstack/openstack-ansible,master,,Ic91ba0be3c5c37bf7e47b7a9a8360b6ccb18e9c3,Reduce neutron WSGI workers for CI,MERGED,2021-12-06 19:11:12.000000000,2022-05-30 10:16:38.000000000,2022-05-30 10:14:27.000000000,1,0,2,820586,6eb2dec708b41f3f8b8c61d4a916549205bfb562,14,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Reduce neutron WSGI workers for CI

Change-Id: Ic91ba0be3c5c37bf7e47b7a9a8360b6ccb18e9c3
"
openstack%2Fopenstack-ansible~master~I2d6de2e70fa59f8a0fc70eff56fab586fa648166,openstack/openstack-ansible,master,,I2d6de2e70fa59f8a0fc70eff56fab586fa648166,Drop nova-key from scale documentation and scripts,MERGED,2022-05-28 05:30:54.000000000,2022-05-30 10:14:30.000000000,2022-05-30 10:14:30.000000000,1,5,0,843703,bc21a289b59cceba9ab45b59599cc8e80c950f71,7,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Drop nova-key from scale documentation and scripts

Since we've switched to using ssh cert-based auth, we don't need
to distribute ssh keys across all computes with adding another one
anymore. This change should be reflected in docs and add-compute script.

Change-Id: I2d6de2e70fa59f8a0fc70eff56fab586fa648166
"
openstack%2Fkolla-ansible~master~I7158cba754fc42c9b59071c368d7984647ac4992,openstack/kolla-ansible,master,keep-yoga-on-master,I7158cba754fc42c9b59071c368d7984647ac4992,"Revert ""[CI] Keep testing with Yoga u-c""",ABANDONED,2022-05-21 21:27:30.000000000,2022-05-30 10:11:22.000000000,,1,2,1,842734,0e01ff85924993a047fe22264b1f16eb911c9efa,5,5,1,1,30491,Radosław Piliszek,yoctozepto,"Revert ""[CI] Keep testing with Yoga u-c""

This reverts commit ae88173ff1597b684009d3d7e4ca126901012c30.

Reason for revert: We should test master on master now.

Change-Id: I7158cba754fc42c9b59071c368d7984647ac4992
"
openstack%2Fkolla-ansible~master~I08766e4a271fdd5cb02e03fef33880e9d7373f1a,openstack/kolla-ansible,master,,I08766e4a271fdd5cb02e03fef33880e9d7373f1a,add default blackbox exporter endpoints,NEW,2022-05-16 11:14:46.000000000,2022-05-30 10:08:02.000000000,,88,1,33,841890,6406c05561795a755b5f3555b0d46942797cf8c7,18,6,4,4,33307,Kyle Dean,k-s-dean,"add default blackbox exporter endpoints

Change-Id: I08766e4a271fdd5cb02e03fef33880e9d7373f1a
"
openstack%2Fneutron-vpnaas~master~I1034814639a03b6482d9c9d1a389950aef967a59,openstack/neutron-vpnaas,master,use-neutron-lib-api,I1034814639a03b6482d9c9d1a389950aef967a59,Migrate to neutron-lib released API definition for VPNaaS APIs,MERGED,2017-03-10 09:53:42.000000000,2022-05-30 10:02:44.000000000,2022-05-30 10:01:17.000000000,131,680,34,444186,6a226281bb28b6e64c55f997b79224bcfad79ea5,86,14,21,11,15905,Cao Xuan Hoang,hoangcx,"Migrate to neutron-lib released API definition for VPNaaS APIs

This patch shows how to use a neutron-lib released API definition for
the VPNaaS extensions. This is a baby step towards a
consolidated set of Neutron APIs.

See I06760fbbbc87570412a21364fba58efe880a907b for more details.

The method get_namespace in API extensions is also removed during this
migration. Since it was removed from neutron long time ago [1].

Co-Authored-By: Anh Tran <trananhkma@gmail.com>
Co-Authored-By: Hunt Xu <mhuntxu@gmail.com>
Co-Authored-By: Dongcan Ye <hellochosen@gmail.com>

[1] I3c406910991c33cf959c5345d76153eabe3ace2d

Depends-On: https://review.opendev.org/#/c/710559/
Depends-On: https://review.opendev.org/#/c/712657/
Change-Id: I1034814639a03b6482d9c9d1a389950aef967a59
"
openstack%2Ftripleo-validations~master~I60948684882d0f7311bdcc3279387575199899e7,openstack/tripleo-validations,master,,I60948684882d0f7311bdcc3279387575199899e7,DNM testing novaclient bump,ABANDONED,2022-05-30 08:58:40.000000000,2022-05-30 10:02:41.000000000,,1,1,0,843804,9e79ec9299bbe94dfa11c67b4fd876d3eafe4f73,3,1,1,1,32926,Jiri Podivin,jpodivin,"DNM testing novaclient bump

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I60948684882d0f7311bdcc3279387575199899e7
"
openstack%2Ftempest~master~I89ae6bd5137e57cb6ec5bc3c9edecc29489bca94,openstack/tempest,master,ussuri-pin-tempest,I89ae6bd5137e57cb6ec5bc3c9edecc29489bca94,Use UPPER_CONSTRAINTS_FILE for stable/ussuri testing,MERGED,2022-05-24 01:47:37.000000000,2022-05-30 09:52:13.000000000,2022-05-30 09:50:45.000000000,13,13,5,843045,7aa3b21e89f09639bce3bd00865b1197f1502c77,22,3,4,1,8556,Ghanshyam,ghanshyam,"Use UPPER_CONSTRAINTS_FILE for stable/ussuri testing

Tempest is going to be pinned for stable/ussuri(depends on) which
need to modify run-tempest role to use the constraints set by
the devstack or any job.

Because of Tempest 26.1.0 and with stestr 2.5.1 or 3.0.1 (beacause of upper
constraints of stestr 2.5.1 in stable/train and 3.0.1 in stable/ussuri )
which does not have new args exclude-regex so let's fallback to old arg if
new arg is passed.

Change-Id: I89ae6bd5137e57cb6ec5bc3c9edecc29489bca94
"
openstack%2Fkolla~master~I0cabb9a1c1cb5d55813d7885319094c34085c6e7,openstack/kolla,master,,I0cabb9a1c1cb5d55813d7885319094c34085c6e7,test,ABANDONED,2022-05-28 12:34:40.000000000,2022-05-30 09:36:08.000000000,,1,0,1,843719,7fddb9aafe44437137c3df2b4e01a231d5780572,7,2,2,1,28706,Boxiang Zhu,ZhuBoxiang,"test

Change-Id: I0cabb9a1c1cb5d55813d7885319094c34085c6e7
"
openstack%2Fpython-venusclient~master~I5ecfba2963846bb5fa260e141e562bc550308a4e,openstack/python-venusclient,master,add-search-manager,I5ecfba2963846bb5fa260e141e562bc550308a4e,Add SearchManager to venusclient,MERGED,2022-05-30 07:56:04.000000000,2022-05-30 09:30:18.000000000,2022-05-30 09:30:18.000000000,69,19,2,843794,ff91d9ff22722113c46b988350400f8806800bd0,9,3,2,4,30562,Ziyu Bai,baiziyu-inspur,"Add SearchManager to venusclient

Move get logs from ConfigManager to new SearchManager.

Change-Id: I5ecfba2963846bb5fa260e141e562bc550308a4e
"
openstack%2Fcharm-glance-simplestreams-sync~master~I1955f3d2a56654c9a683a2b9d36b33c0f0fd63d4,openstack/charm-glance-simplestreams-sync,master,,I1955f3d2a56654c9a683a2b9d36b33c0f0fd63d4,Support --visibility option for simplestreams,MERGED,2022-05-27 10:42:43.000000000,2022-05-30 09:22:53.000000000,2022-05-30 09:22:53.000000000,16,0,0,843603,f8165cebb89739869845c51734f95833aa497286,11,3,2,4,8108,Nobuto Murata,nobuto-m,"Support --visibility option for simplestreams

With the new option, Glance images can be uploaded with
""visibility=shared"" for example instead of ""public"" so those can be
hidden from usual projects by default.

Closes-Bug: #1975663
Change-Id: I1955f3d2a56654c9a683a2b9d36b33c0f0fd63d4
"
openstack%2Ftripleo-common~stable%2Fvictoria~I4132f184454b9c2b907d3317256c3de185fd9da9,openstack/tripleo-common,stable/victoria,clustercheck-rotation-stable/victoria,I4132f184454b9c2b907d3317256c3de185fd9da9,WIP Do not rotate MysqlClustercheckPassword,ABANDONED,2021-12-13 10:57:27.000000000,2022-05-30 09:19:43.000000000,,1,0,0,821542,de0b6f24e50b658de7f290b1e2b458350537e925,3,1,1,1,20778,Damien Ciabrini,dciabrin,"WIP Do not rotate MysqlClustercheckPassword

The clustercheck service is used on all the control
plane, and changing the password of the clustercheck
user in the DB prevents the clustercheck service to
probe the galera state until the new password is also
updated in the config files. This causes a long
service outage.

Do not rotate that password by default until a
fallback mechanism is implemented in clustercheck.

Change-Id: I4132f184454b9c2b907d3317256c3de185fd9da9
(cherry picked from commit 0da31304fea675e0a0db7d2f1e02bd2edd7eaa1c)
"
openstack%2Fopenstack-ansible-repo_server~master~I24a031b5e14359f08a231dfc3429468561d48126,openstack/openstack-ansible-repo_server,master,osa/centos-9,I24a031b5e14359f08a231dfc3429468561d48126,Use distro packages for nginx on centos.,MERGED,2022-05-12 16:39:51.000000000,2022-05-30 09:19:13.000000000,2022-05-30 09:17:45.000000000,21,14,6,841619,e31bee556cbead847f48db631268b1e404449ecd,39,4,10,3,25023,Jonathan Rosser,jrosser,"Use distro packages for nginx on centos.

There is no longer any need to get these from EPEL or the
nginx repos.

Change-Id: I24a031b5e14359f08a231dfc3429468561d48126
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ie291b079c4f10949ad63f80ebb2bafcc09854ffe,openstack/openstack-ansible-rabbitmq_server,master,,Ie291b079c4f10949ad63f80ebb2bafcc09854ffe,Update RabbitMQ version to 3.10,MERGED,2022-05-28 05:45:55.000000000,2022-05-30 09:19:08.000000000,2022-05-30 09:17:33.000000000,4,4,0,843705,bfaeecc548d64f647a7d522889415c65948df483,8,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Update RabbitMQ version to 3.10

Change-Id: Ie291b079c4f10949ad63f80ebb2bafcc09854ffe
"
openstack%2Fansible-role-pki~master~I0eeadb687b4fa6c5392951581dfbdf6b0db574f7,openstack/ansible-role-pki,master,pki/passphrase,I0eeadb687b4fa6c5392951581dfbdf6b0db574f7,Allow to provide passphrase for keys,MERGED,2022-04-20 11:32:14.000000000,2022-05-30 09:14:32.000000000,2022-05-30 09:13:06.000000000,9,0,0,838713,1a419a3f892b97f44dd912cfc20d6bb38d685bd3,13,4,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Allow to provide passphrase for keys

In order to provide more security, allow to define key passphrases
while generating CA or certificate keys.
This can be a requirement or highly anticipated option for some systems.

Change-Id: I0eeadb687b4fa6c5392951581dfbdf6b0db574f7
"
openstack%2Fskyline-console~master~I0502a2043361a57b39c5804e74a443c01b920e62,openstack/skyline-console,master,,I0502a2043361a57b39c5804e74a443c01b920e62,Add Trove UI to Skyline,MERGED,2022-03-28 10:45:21.000000000,2022-05-30 08:57:17.000000000,2022-04-07 05:19:30.000000000,2543,0,261,835436,b3966843f8b7f57b386797867b1af54d26a8e2d9,50,3,14,47,34671,Reşit Demir,resitdemir,"Add Trove UI to Skyline

Change-Id: I0502a2043361a57b39c5804e74a443c01b920e62
"
openstack%2Fci-log-processing~master~I475e12318f25f2b4c390e6a6103a36daab2444e4,openstack/ci-log-processing,master,,I475e12318f25f2b4c390e6a6103a36daab2444e4,Change 0.0.0.0 address to 127.0.0.1; sync security plugin once again,MERGED,2022-05-27 08:11:35.000000000,2022-05-30 08:48:20.000000000,2022-05-30 08:47:03.000000000,22,14,2,843578,bf70996cd67ef81c46f8943591a9218136d1eb51,20,6,6,3,20676,daniel.pawlik,daniel.pawlik,"Change 0.0.0.0 address to 127.0.0.1; sync security plugin once again

On some host on Zuul CI gates, tests does not pass because of
wrong configured security plugin.

Change-Id: I475e12318f25f2b4c390e6a6103a36daab2444e4
"
openstack%2Ftacker~master~Ia22922d18f7a474d159a2be0c724bbd81f430056,openstack/tacker,master,,Ia22922d18f7a474d159a2be0c724bbd81f430056,(WIP) Fix usage of deprecated context.user,ABANDONED,2022-05-28 15:58:20.000000000,2022-05-30 08:24:57.000000000,,0,1,0,843724,35ec2f0b2d8d7fd5d1f472fbc51b8bc6292cab99,3,1,1,1,33455,Hiromu Asahina,h_asahina,"(WIP) Fix usage of deprecated context.user

Change-Id: Ia22922d18f7a474d159a2be0c724bbd81f430056
"
openstack%2Fneutron~master~I582b94f3da4cb51364f122510371b2a792f8ec3e,openstack/neutron,master,840146nitpick,I582b94f3da4cb51364f122510371b2a792f8ec3e,Address small nitpick from patch 840146,MERGED,2022-05-28 02:45:01.000000000,2022-05-30 07:57:45.000000000,2022-05-30 07:54:12.000000000,4,4,1,843698,0fba55cc2655edc4eecb2eb54b09b83a871a7e75,13,6,1,2,34271,Miro Tomaska,mtomaska,"Address small nitpick from patch 840146

Very minor changes to address nitpick from patch 840146

Change-Id: I582b94f3da4cb51364f122510371b2a792f8ec3e
"
openstack%2Fneutron~master~I7e18db7f1fa6b8878c13df09895c993704401815,openstack/neutron,master,bug/1974144,I7e18db7f1fa6b8878c13df09895c993704401815,[sqlalchemy-20] Add missing DB contexts in L3 methods,MERGED,2022-05-19 07:50:27.000000000,2022-05-30 07:55:46.000000000,2022-05-30 07:54:07.000000000,78,70,4,842468,59973d29c3d9d2defd2003206e138a94090ad4ff,21,5,2,4,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[sqlalchemy-20] Add missing DB contexts in L3 methods

The goal of this series of patches is to make the Neutron code
compliant with SQLAlchemy 2.0.

This patch adds the missing database contexts in the execution of
some queries in the L3 code, reported in the following bugs. This
patch also refactors the ``neutron.db.l3_db`` methods, using the
method decorators instead of the inline context builders.

Closes-Bug: #1974144
Closes-Bug: #1974142
Related-Bug: #1964575
Change-Id: I7e18db7f1fa6b8878c13df09895c993704401815
"
openstack%2Fneutron-lib~master~If80cf13417dca40de127fbac52ebaa8169be9422,openstack/neutron-lib,master,bug/1921461,If80cf13417dca40de127fbac52ebaa8169be9422,Introduce new bgp_associations API definition,MERGED,2021-05-24 05:07:50.000000000,2022-05-30 07:44:08.000000000,2021-08-19 10:37:53.000000000,670,6,93,792774,6df74e063dc239e820df72f39b20a2165d6b1e88,126,8,26,17,33273,Manu B,eceghkl,"Introduce new bgp_associations API definition

Related-Bug: #1921461
Related-Change: https://review.opendev.org/783791 (spec)

Signed-off-by: Manu B <manubk2020@gmail.com>
Change-Id: If80cf13417dca40de127fbac52ebaa8169be9422
"
openstack%2Fkolla~stable%2Fvictoria~I6bc8b489a810849744c8bead6b9e350c5d3e36b7,openstack/kolla,stable/victoria,new-naming-scheme-stable/yoga-stable/xena-stable/wallaby-stable/victoria,I6bc8b489a810849744c8bead6b9e350c5d3e36b7,Fix Ubuntu image builds,MERGED,2022-05-29 19:23:09.000000000,2022-05-30 07:38:42.000000000,2022-05-30 07:36:44.000000000,25,16,0,843647,ad72543a5d28920e5524eb9fa4a50065d8c5a5b4,11,3,2,3,30491,Radosław Piliszek,yoctozepto,"Fix Ubuntu image builds

Regarding rabbitmq and erlang.

Change-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7
(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)
"
openstack%2Fkolla~stable%2Fussuri~I6bc8b489a810849744c8bead6b9e350c5d3e36b7,openstack/kolla,stable/ussuri,new-naming-scheme-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,I6bc8b489a810849744c8bead6b9e350c5d3e36b7,Fix Ubuntu image builds,MERGED,2022-05-29 19:25:52.000000000,2022-05-30 07:38:29.000000000,2022-05-30 07:36:47.000000000,25,16,0,843648,d926c35f0f2e33d728d2390b93e6f5cd3d56ecb2,11,3,2,3,30491,Radosław Piliszek,yoctozepto,"Fix Ubuntu image builds

Regarding rabbitmq and erlang.

Change-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7
(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)
"
openstack%2Fkolla~stable%2Fwallaby~I6bc8b489a810849744c8bead6b9e350c5d3e36b7,openstack/kolla,stable/wallaby,new-naming-scheme-stable/yoga-stable/xena-stable/wallaby,I6bc8b489a810849744c8bead6b9e350c5d3e36b7,Fix Ubuntu image builds,MERGED,2022-05-29 19:15:35.000000000,2022-05-30 07:33:37.000000000,2022-05-30 07:32:26.000000000,25,16,0,843646,b0517b35627d02fa969c223070a9cf4d6e6a5916,13,3,3,3,30491,Radosław Piliszek,yoctozepto,"Fix Ubuntu image builds

Regarding rabbitmq and erlang.

Change-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7
(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)
"
openstack%2Fkolla~stable%2Fxena~I6bc8b489a810849744c8bead6b9e350c5d3e36b7,openstack/kolla,stable/xena,new-naming-scheme-stable/yoga-stable/xena,I6bc8b489a810849744c8bead6b9e350c5d3e36b7,Fix Ubuntu image builds,MERGED,2022-05-29 18:43:50.000000000,2022-05-30 07:33:36.000000000,2022-05-30 07:32:23.000000000,22,14,0,843645,6298c0e07324757e97627a206f5467a317de6d97,9,3,1,3,30491,Radosław Piliszek,yoctozepto,"Fix Ubuntu image builds

Regarding rabbitmq and erlang.

Change-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7
(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)
"
openstack%2Fneutron~stable%2Fwallaby~Id050ad6d95e2c4f3a6eb61a4cd88c9ce6e6dad1a,openstack/neutron,stable/wallaby,wallaby,Id050ad6d95e2c4f3a6eb61a4cd88c9ce6e6dad1a,"Revert ""Use Port_Binding up column to set Neutron port status""",ABANDONED,2022-03-28 11:07:43.000000000,2022-05-30 07:32:05.000000000,,258,388,1,835340,7ebc7275493dfa8d7faa542788bd3c070e1f1a33,15,5,3,3,13861,yatin,yatinkarel,"Revert ""Use Port_Binding up column to set Neutron port status""

This reverts commit f2ddb6741ead160773076f1092b8bd1487736eae.

Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1964940

Change-Id: Id050ad6d95e2c4f3a6eb61a4cd88c9ce6e6dad1a
"
openstack%2Fkolla-ansible~master~I3ce4059063e3a51eb1c5b42bda79893b56bd85f0,openstack/kolla-ansible,master,ci-script,I3ce4059063e3a51eb1c5b42bda79893b56bd85f0,[CI] Use the script module for running core tests,MERGED,2022-05-28 12:13:46.000000000,2022-05-30 07:11:28.000000000,2022-05-30 07:10:15.000000000,8,2,2,843718,c906ab2a91f98098386246c21bb72149a32c073c,20,5,3,1,30491,Radosław Piliszek,yoctozepto,"[CI] Use the script module for running core tests

Depending on the way the testing script is called, it may sense
stdin being available and not being a tty [1]. The logic in the
Glance part of the client is then broken [2] as it detects both
volume and stdin as sources of the image and fails.
The proposed approach uses the script module for these tests.
This fixes the cephadm upgrade jobs where this script was called
using the shell module which causes this behaviour. The script
module is not affected. FWIW, the command module is affected
the same as shell because shell extends the command module.

[1] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L114-L120
[2] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L414

Change-Id: I3ce4059063e3a51eb1c5b42bda79893b56bd85f0
Story: 2006294
"
openstack%2Fskyline-console~master~I10752bebf47881136ce7035a34c6ddce7c5f1157,openstack/skyline-console,master,,I10752bebf47881136ce7035a34c6ddce7c5f1157,fix: Magnum cluster template create problem,ABANDONED,2022-05-26 03:36:16.000000000,2022-05-30 07:02:05.000000000,,491,427,0,843373,5f4374735f18a88a8410229f74b33980e3d1fe33,6,3,3,26,34718,yangao,yangao,"fix: Magnum cluster template create problem

1. Create route address mount error
2. Flavor pass value error
3. Required option not set
4. Code formatting fixes

Change-Id: I10752bebf47881136ce7035a34c6ddce7c5f1157
"
openstack%2Fkeystonemiddleware~master~Iff6abdc56c5627505e774f40af339e1b5790c4d5,openstack/keystonemiddleware,master,,Iff6abdc56c5627505e774f40af339e1b5790c4d5,Remove references to 'sys.version_info',MERGED,2021-04-27 02:28:29.000000000,2022-05-30 06:21:39.000000000,2022-05-30 06:20:23.000000000,0,18,1,788123,6a0974117ea0e15dbf072ccc4b54ee8e4ef1e7be,12,5,1,1,31827,Jorhson Deng,dengzhaosen,"Remove references to 'sys.version_info'

We support Python 3.6 as a minimum now, making these checks no-ops.
Change-Id: Iff6abdc56c5627505e774f40af339e1b5790c4d5
"
openstack%2Fironic-python-agent~stable%2Fwallaby~I0fd6356f036d5ff17510fb838eaf418164cdfc92,openstack/ironic-python-agent,stable/wallaby,multipath-wallaby,I0fd6356f036d5ff17510fb838eaf418164cdfc92,Multipath Hardware path handling,MERGED,2022-04-14 00:15:14.000000000,2022-05-30 06:04:03.000000000,2022-05-30 06:02:46.000000000,740,56,19,837784,668cd217967c6d114cec2241e97d3cfaee1a7a74,33,4,7,8,15519,Iury Gregory Melo Ferreira,iurygregory,"Multipath Hardware path handling

Removes multipath base devices from consideration by
default, and instead allows the device-mapper device
managed by multipath to be picked up and utilized
instead.

In effect, allowing us to ignore standby paths *and*
leverage multiple concurrent IO paths if so offered
via ALUA.

In reality, anyone who has previously built IPA with
multipath tooling might not have encountered issues
previously because they used Active/Active SAN storage
environments. They would have worked because the IO lock
would have been exchanged between controllers and paths.
However, Active/Passive environments will block passive
paths from access, ultimately preventing new locks from
being established without proper negotiation. Ultimately
requiring multipathing *and* the agent to be smart enough
to know to disqualify underlying paths to backend storage
volumes.

An additional benefit of this is active/active MPIO devices
will, as long as ``multipath`` is present inside the ramdisk,
no longer possibly result in duplicate IO wipes occuring
accross numerous devices.

Story: #2010003
Task: #45108
Resolves: rhbz#2076622
Resolves: rhbz#2070519
Change-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92
"
openstack%2Fbarbican~stable%2Fyoga~I0dc603a3e3a894fee774483a70285d47b57abdf8,openstack/barbican,stable/yoga,,I0dc603a3e3a894fee774483a70285d47b57abdf8,"Allow users with ""creator"" role to edit ACLs",MERGED,2022-05-27 15:45:29.000000000,2022-05-30 05:53:10.000000000,2022-05-30 05:51:59.000000000,24,16,0,843529,29e8fd054dbee79be2403e81fbe864aef8773ffe,7,2,1,2,9914,Ade Lee,alee,"Allow users with ""creator"" role to edit ACLs

This patch updates the default policy to allow users with the
""creator"" role to edit Secret and Container ACLs.

Secrets that have an ACL set to private will only be able to be edited
by the user who owns the secret.

Change-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8
"
openstack%2Fheat~master~Iecec295856c0d5b7769f6f8608869c133e38bde4,openstack/heat,master,zanata/translations,Iecec295856c0d5b7769f6f8608869c133e38bde4,Imported Translations from Zanata,MERGED,2022-05-26 02:50:47.000000000,2022-05-30 04:29:31.000000000,2022-05-30 04:27:56.000000000,39,4,0,843368,dd4d2f2dc00ce81c99ae529a74c5b4d80ec79209,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iecec295856c0d5b7769f6f8608869c133e38bde4
"
openstack%2Fheat~master~I04d5c009a1cda73b6ed18231d5e438afc4b7a6c1,openstack/heat,master,dnm,I04d5c009a1cda73b6ed18231d5e438afc4b7a6c1,DNM: Testing doc job,ABANDONED,2022-05-30 03:55:23.000000000,2022-05-30 04:11:40.000000000,,1,0,0,843762,04532bb0ecea0b78103825abb2ead75d94a59b82,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Testing doc job

Change-Id: I04d5c009a1cda73b6ed18231d5e438afc4b7a6c1
"
openstack%2Fironic~master~Ie5e0523bb4a8941bcb8dc87c4a0b29cb28ddfe40,openstack/ironic,master,file-name-too-long,Ie5e0523bb4a8941bcb8dc87c4a0b29cb28ddfe40,Don't use URLs as part of temporary file names (part 2),MERGED,2022-05-19 16:34:49.000000000,2022-05-30 04:07:39.000000000,2022-05-30 04:06:05.000000000,35,32,0,842574,2d885126ec5b3cfbe548fa42325d53fbc47d8fd4,12,4,1,3,10239,Dmitry Tantsur,dtantsur,"Don't use URLs as part of temporary file names (part 2)

First, it's leaking information. Second, the URLs can be really long and
cause ""OSError: [Errno 36] File name too long"".

The same issue has already been fixed in the image cache, this change
updates building ISO. Since the files are created in a temporary
location, just use constant names.

Change-Id: Ie5e0523bb4a8941bcb8dc87c4a0b29cb28ddfe40
"
openstack%2Fpython-ironicclient~master~I3d7ad8a49bbb63fd00ae9523243135a24419c465,openstack/python-ironicclient,master,drop-l-c,I3d7ad8a49bbb63fd00ae9523243135a24419c465,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:20:59.000000000,2022-05-30 04:04:45.000000000,2022-05-30 04:02:28.000000000,4,32,3,840071,a7ad7fdfa45f58fc4d9d463e37cfb4b90101cdfa,15,4,2,4,8556,Ghanshyam,ghanshyam,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I3d7ad8a49bbb63fd00ae9523243135a24419c465
"
openstack%2Fironic~master~I949d17528489ea8a0fcd7f0be51d12aaf6bc7f78,openstack/ironic,master,auto_firmware,I949d17528489ea8a0fcd7f0be51d12aaf6bc7f78,Use libvirt automatic firmware,ABANDONED,2022-05-27 03:29:05.000000000,2022-05-30 01:42:19.000000000,,11,72,0,843560,3ffb746d8a1fe3609d1d5a7044b5acb8daf53d92,11,1,2,4,4571,Steve Baker,steve-stevebaker,"Use libvirt automatic firmware

Instead of manually specifying the firmware and nvram file paths, use
libvirt's automatic firmware selection. This changes the command line
interface to remove arguments to firmware/nvram file paths, and adding
an argument to specify whether efi or bios firmware should be
selected.

Depends-On: https://review.opendev.org/c/openstack/sushy-tools/+/841653
Change-Id: I949d17528489ea8a0fcd7f0be51d12aaf6bc7f78
"
openstack%2Fopenstack-ansible-repo_server~master~I6e61e5e226c22d84d0a427359979dbb4338e890d,openstack/openstack-ansible-repo_server,master,osa/centos-9,I6e61e5e226c22d84d0a427359979dbb4338e890d,Use the same vars file for all versions of centos,MERGED,2022-05-12 16:39:51.000000000,2022-05-29 20:38:10.000000000,2022-05-29 20:36:50.000000000,0,0,7,841618,309c235a8a0d805157357a28e9b0a170651edc64,38,3,6,1,25023,Jonathan Rosser,jrosser,"Use the same vars file for all versions of centos

Change-Id: I6e61e5e226c22d84d0a427359979dbb4338e890d
"
openstack%2Ftempest~master~I85ee21868c9281d081c491ee590fe1457f5aa997,openstack/tempest,master,wait_until_sshable_pingable,I85ee21868c9281d081c491ee590fe1457f5aa997,Wait for guest after resize,MERGED,2022-05-17 15:18:51.000000000,2022-05-29 20:11:37.000000000,2022-05-29 20:10:03.000000000,31,3,27,842140,d8bbaba415bc5cc027079b1b45aa5ee6e75faddf,59,6,5,2,9708,Balazs Gibizer,gibi,"Wait for guest after resize

To stabilize test_resize_server_with_multiattached_volume we need to
wait for the guest OS to fully boot after the resize and before the test
attempts to detach the volume.

Closes-Bug #1960346

Change-Id: I85ee21868c9281d081c491ee590fe1457f5aa997
"
openstack%2Fkolla-ansible~master~Idc7a893f53c6975cc4a3f6090020d973fa2288bb,openstack/kolla-ansible,master,keep-yoga-on-master,Idc7a893f53c6975cc4a3f6090020d973fa2288bb,[CI] Properly use Yoga u-c everywhere,MERGED,2022-05-29 16:55:43.000000000,2022-05-29 19:47:46.000000000,2022-05-29 19:45:47.000000000,3,2,3,843752,3cef2671ce2e0de668574c1ea9c57fb9d664690a,11,5,2,2,30491,Radosław Piliszek,yoctozepto,"[CI] Properly use Yoga u-c everywhere

Follow-up to [1].
This unbreaks CI which was broken by a recent change to
master upper-constraints. [2]

[1] I82c4ff3b246c7db65ac8660b096d4a9a15dda8d7
[2] https://review.opendev.org/c/openstack/requirements/+/843722/3/upper-constraints.txt#b244

Change-Id: Idc7a893f53c6975cc4a3f6090020d973fa2288bb
"
openstack%2Fkolla~stable%2Fyoga~I6bc8b489a810849744c8bead6b9e350c5d3e36b7,openstack/kolla,stable/yoga,new-naming-scheme-stable/yoga,I6bc8b489a810849744c8bead6b9e350c5d3e36b7,Fix Ubuntu image builds,MERGED,2022-05-28 12:00:22.000000000,2022-05-29 18:38:54.000000000,2022-05-29 18:37:44.000000000,22,14,4,843644,240b3cf448354bf1a7271f8f81d730e51da856cb,22,8,3,3,30491,Radosław Piliszek,yoctozepto,"Fix Ubuntu image builds

Regarding rabbitmq and erlang.

Change-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7
"
openstack%2Fmanila-tempest-plugin~master~I366221702b3aa2e78bff82e6b2a543b6f6784f77,openstack/manila-tempest-plugin,master,bp/share-backup,I366221702b3aa2e78bff82e6b2a543b6f6784f77,Add share backup tests.,NEW,2022-05-07 15:20:36.000000000,2022-05-29 16:53:47.000000000,,154,1,0,841015,9e8eabeb70f26c3070fda65dd9af6be428434d58,6,5,2,4,32919,kiran pawar,kpdev,"Add share backup tests.

Share backup tests i.e. create/delete/get share_backups.

Depends-On: I7d10cf47864cd21932315375d84dc728ff738f23
Change-Id: I366221702b3aa2e78bff82e6b2a543b6f6784f77
"
openstack%2Fopenstack-ansible~stable%2Fxena~Ia2814d6dc6faa509e98f7486fed12600e192ec8b,openstack/openstack-ansible,stable/xena,bug/1975723-stable/xena,Ia2814d6dc6faa509e98f7486fed12600e192ec8b,Align collection_file naming,MERGED,2022-05-27 19:50:05.000000000,2022-05-29 14:14:29.000000000,2022-05-29 14:12:37.000000000,3,2,0,843641,df7c7df9431b3baadbfdd6b61861c221d6a94f38,10,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Align collection_file naming

At the moment we're inconsistent in collection_file variable naming.
While we're passing `collection_file` to the play, inside it we use
`collections_file`.

Closes-Bug: #1975723
Change-Id: Ia2814d6dc6faa509e98f7486fed12600e192ec8b
(cherry picked from commit d501eadd94e88e68513ab2827f181ee91baa6aaf)
"
openstack%2Fopenstack-ansible-os_aodh~stable%2Fwallaby~I8ad644ed723e05058be92e5f67a4d7b7542a7071,openstack/openstack-ansible-os_aodh,stable/wallaby,,I8ad644ed723e05058be92e5f67a4d7b7542a7071,Ensure libxml2 is installed on debian systems,MERGED,2022-01-26 10:10:34.000000000,2022-05-29 13:54:36.000000000,2022-05-29 13:53:23.000000000,1,0,9,826379,7036c501ad4792dda22a7357f1539bae58039307,31,3,2,1,25023,Jonathan Rosser,jrosser,"Ensure libxml2 is installed on debian systems

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843629
Closes-Bug: 1958434
Change-Id: I8ad644ed723e05058be92e5f67a4d7b7542a7071
(cherry picked from commit 0ffeff0ec122b05f62d6538c3e62c62a8c6d170a)
"
openstack%2Fkayobe~stable%2Fxena~I9150e32579421e46782518948188e1363918fb39,openstack/kayobe,stable/xena,hacluster-build-issue,I9150e32579421e46782518948188e1363918fb39,Fix forgotten hacluster regexp for image build,MERGED,2022-05-25 18:01:41.000000000,2022-05-29 12:39:36.000000000,2022-05-29 12:38:24.000000000,7,0,5,843326,1b4a34a62cce50aa83bb54127fb08e59127e04ae,24,4,3,2,14200,Maksim Malchuk,mmalchuk,"Fix forgotten hacluster regexp for image build

The 'overcloud container image build' command didn't build all the
hacluster images when hacluster is enabled.

TrivialFix

Change-Id: I9150e32579421e46782518948188e1363918fb39
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)
"
openstack%2Fneutron~master~I159460be27f2c5f105be4b2865ef84aeb9a00094,openstack/neutron,master,bug/1964940,I159460be27f2c5f105be4b2865ef84aeb9a00094,"Revert ""Use Port_Binding up column to set Neutron port status""",MERGED,2022-05-26 10:31:25.000000000,2022-05-29 12:23:37.000000000,2022-05-29 12:22:00.000000000,257,377,9,843426,e6d27be4747eb4573dcc5c0e1e7ac7550d20f951,40,9,2,4,13861,yatin,yatinkarel,"Revert ""Use Port_Binding up column to set Neutron port status""

This reverts commit 37d4195b516f12b683b774f0561561b172dd15c6.
Conflicts:
 	neutron/common/ovn/constants.py
 	neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py

Also revert below 2 commits which were added on
top of the parent commit:-

Revert ""Ensure subports transition to DOWN""
This reverts commit 5e036a6b281e4331f396473e299b26b2537d5322.

Revert ""Ensure only the right events are processed""
This reverts commit 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa.

Reason for revert: These patches have caused couple of issues[1][2][3].
[1][2] are same issue just one is seen in c8/c9-stream and other in
rhel8 and both contains much info about the issue.
[3] is currently happening only in rhel8/rhel9 as this issue is visible
only with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which
is not yet available in c8/c9-stream.

[1][2] happens randomly as the patch under revert has moved the
events to SB DB which made a known OVN issue[5] occur more often as in
that issue SB DB Event queue floods with too many events of
PortBindingChassisEvent making other events like PortBindingUpdateUpEvent
to wait much longer and hence triggering VirtualInterfaceCreateException.

NB DB Event queue is different and hence with revert we are trying to
lower the side effect of the OVN issue[5].

This patch can be re reverted once [3] and [5] are fixed.

[1] https://bugs.launchpad.net/tripleo/+bug/1964940/
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631
[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604
[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433
[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898

Closes-Bug: #1964940
Closes-Bug: rhbz#2081631
Closes-Bug: rhbz#2090604
Related-Bug: rhbz#2037433
Related-Bug: rhbz#1974898
Change-Id: I159460be27f2c5f105be4b2865ef84aeb9a00094
"
openstack%2Fkayobe~stable%2Fwallaby~I9150e32579421e46782518948188e1363918fb39,openstack/kayobe,stable/wallaby,hacluster-build-issue,I9150e32579421e46782518948188e1363918fb39,Fix forgotten hacluster regexp for image build,MERGED,2022-05-25 18:02:14.000000000,2022-05-29 12:12:38.000000000,2022-05-29 12:11:27.000000000,7,0,6,843327,8888e406510f1e22c1062119346a5a9eae654c32,25,4,3,2,14200,Maksim Malchuk,mmalchuk,"Fix forgotten hacluster regexp for image build

The 'overcloud container image build' command didn't build all the
hacluster images when hacluster is enabled.

TrivialFix

Change-Id: I9150e32579421e46782518948188e1363918fb39
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)
"
openstack%2Fdevstack-plugin-ceph~stable%2Fvictoria~I9e4d735e2aeeb91c916e43ab743c2543040420d3,openstack/devstack-plugin-ceph,stable/victoria,victoria-pin-tempest,I9e4d735e2aeeb91c916e43ab743c2543040420d3,Cap cinder-tempest-plugin version for stable/ussuri|victoria,MERGED,2022-05-26 01:50:24.000000000,2022-05-29 09:47:25.000000000,2022-05-29 09:45:35.000000000,2,1,2,843354,d434e9c91dd2383aa661f0af0c1604c5c89356df,9,2,1,1,8556,Ghanshyam,ghanshyam,"Cap cinder-tempest-plugin version for stable/ussuri|victoria

We are capping stable/ussuri and victoria testing with Tempest
26.1.0 (choosing 26.1.0 because of bug#1955418)

- https://review.opendev.org/c/openstack/devstack/+/838051
- https://review.opendev.org/c/openstack/devstack/+/843295

With Tempest 26.1.0, cinder-plugin-ceph-tempest and nova-ceph-multistore
jobs in cinder stable/ussuri|victoria are failing as their parent
job devstack-plugin-ceph-tempest-py3 use the cinder-tempest-plugin

- https://zuul.opendev.org/t/openstack/build/fb3b3b7f9bd94b429117001429b60afa/logs
- https://zuul.opendev.org/t/openstack/build/feedddf5137045dca430ae21222da2db

To fix that we need to use compatible cinder-tempest-plugin version for
Tempest 26.1.0, which is cinder-tempest-plugin 1.3.0.

Change-Id: I9e4d735e2aeeb91c916e43ab743c2543040420d3
"
openstack%2Fdesignate~stable%2Fxena~I94324104a7ed89e757d48bb250d8b1132026ce46,openstack/designate,stable/xena,,I94324104a7ed89e757d48bb250d8b1132026ce46,Update zuul queue configuration,MERGED,2022-05-27 19:18:41.000000000,2022-05-29 05:00:39.000000000,2022-05-29 04:58:54.000000000,2,4,0,843677,c78db47c746cab2fc505bd60f11f05a08eb94120,8,3,1,1,11628,Michael Johnson,johnsom,"Update zuul queue configuration

Zuul is changing how queues are declared[1]. This patch updates Designate for the new way to define the queue.

[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I94324104a7ed89e757d48bb250d8b1132026ce46
(cherry picked from commit fe9fb45c21a7be2f88600e1f29fd37f56244cc1a)
"
openstack%2Fdesignate~stable%2Fyoga~I94324104a7ed89e757d48bb250d8b1132026ce46,openstack/designate,stable/yoga,,I94324104a7ed89e757d48bb250d8b1132026ce46,Update zuul queue configuration,MERGED,2022-05-27 19:13:46.000000000,2022-05-29 04:36:49.000000000,2022-05-29 04:34:46.000000000,2,3,0,843640,5b014685ac4d7e18d984cc8fe075a0ba905919f9,8,3,1,1,11628,Michael Johnson,johnsom,"Update zuul queue configuration

Zuul is changing how queues are declared[1]. This patch updates Designate for the new way to define the queue.

[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I94324104a7ed89e757d48bb250d8b1132026ce46
(cherry picked from commit fe9fb45c21a7be2f88600e1f29fd37f56244cc1a)
"
openstack%2Fdesignate~master~I7560ce184c41ce8f5d598f8cd912d864b23195fe,openstack/designate,master,,I7560ce184c41ce8f5d598f8cd912d864b23195fe,Remove deprecated docs section,MERGED,2022-05-26 21:12:34.000000000,2022-05-29 03:59:01.000000000,2022-05-29 03:57:34.000000000,0,228,1,843551,23c372d54db5df34f49b53e7584a5d17e9575546,9,4,1,3,11628,Michael Johnson,johnsom,"Remove deprecated docs section

The Designate user guide has had a ""Deprecated REST API Documentation"" since 2017 and the content is not really relevant anymore.

Change-Id: I7560ce184c41ce8f5d598f8cd912d864b23195fe
"
openstack%2Fpuppet-openstack-integration~master~Ic4961456e4c2af28564127102ac4ee998ee77017,openstack/puppet-openstack-integration,master,openstack/puppet/constraints,Ic4961456e4c2af28564127102ac4ee998ee77017,Updated from Puppet OpenStack modules constraints,MERGED,2022-05-26 02:29:35.000000000,2022-05-29 01:17:31.000000000,2022-05-29 01:17:31.000000000,1,1,0,843364,16b456ed5b0ef8dba67e90c58f69b6be19afce04,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from Puppet OpenStack modules constraints

Change-Id: Ic4961456e4c2af28564127102ac4ee998ee77017
"
openstack%2Ftempest~master~I6fa4ceb873e4d9088d48282c6a93deace1707ad6,openstack/tempest,master,extend-luksv2,I6fa4ceb873e4d9088d48282c6a93deace1707ad6,Add test for extending an attached LUKSv2 encrypted volume,ABANDONED,2022-05-28 03:14:39.000000000,2022-05-29 00:42:24.000000000,,6,1,1,843699,06f3c976376bf586b854282079af2d39309fe48e,12,2,4,1,4690,melanie witt,melwitt,"Add test for extending an attached LUKSv2 encrypted volume

This is a regression test for a recent bug where extend of an attached
LUKSv2 encrypted volume was failing while extend of an attached LUKSv1
encrypted volume worked fine.

This adds a test that performs a volume extend of an attached encrypted
volume for LUKSv2.

Related-Bug: #1861071

Change-Id: I6fa4ceb873e4d9088d48282c6a93deace1707ad6
"
openstack%2Frequirements~master~If37fe53794295b31c4c487e9da25712169a48c82,openstack/requirements,master,remove-py36-from-gr,If37fe53794295b31c4c487e9da25712169a48c82,remove py36 specifiers from global-requirements,MERGED,2022-05-28 18:04:17.000000000,2022-05-28 21:39:40.000000000,2022-05-28 21:38:37.000000000,8,22,0,843732,7ac0e631833ee8c33b42ddbcc23be89c05dcc658,7,2,1,1,14288,Matthew Thode,prometheanfire,"remove py36 specifiers from global-requirements

Change-Id: If37fe53794295b31c4c487e9da25712169a48c82
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Frequirements~master~I80d5c5bc2f379a9bac41e4bb40594a253853ee12,openstack/requirements,master,openstack/requirements/constraints/noclob,I80d5c5bc2f379a9bac41e4bb40594a253853ee12,Updated from generate-constraints,MERGED,2022-05-28 13:44:51.000000000,2022-05-28 20:53:47.000000000,2022-05-28 20:52:44.000000000,80,142,0,843722,fa9b729e0c96151a0ca2a82666933e78960ac7ca,15,2,3,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I80d5c5bc2f379a9bac41e4bb40594a253853ee12
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fcinder~master~Ib5e062a153a2f41a3f01768f4122811d152cdb52,openstack/cinder,master,,Ib5e062a153a2f41a3f01768f4122811d152cdb52,Use pyparsing_common expressions,NEW,2022-03-29 08:20:25.000000000,2022-05-28 19:43:07.000000000,,3,4,1,835553,369b61a1897b33c3b5bbfe5adb55f502ce02993e,27,1,1,1,27615,Rajat Dhasmana,whoami-rajat,"Use pyparsing_common expressions

Currently we define our own pyparsing expressions for integer,
real numbers etc. These are already defined in pyparsing_common
module and shows improvement in lowering the recursion depth from
the manually defined expressions for it.
This patch replaces the current definitions of integer and real
numbers with pyparsing_common expressions.

Recursion depth and result values with current assignment

[rajatdhasmana@192 09:56:27 ~/testing]$ python3 test_cinder_eval.py
790: (1 + max(1 + (10 / 20), 2, 3)) / 100
60000.04
980: ((1 + max(1 + (10 / 20), 2, 3)) / 100) + stats.total_capacity_gb
600.0004
1170: (((1 + max(1 + (10 / 20), 2, 3)) / 100) + stats.total_capacity_gb) / 100

Recursion depth and result values after changing to pyparsing_common values

[rajatdhasmana@192 12:28:38 ~/testing]$ python3 test_cinder_eval.py
780: (1 + max(1 + (10 / 20), 2, 3)) / 100
60000.04
970: ((1 + max(1 + (10 / 20), 2, 3)) / 100) + stats.total_capacity_gb
600.0004
1160: (((1 + max(1 + (10 / 20), 2, 3)) / 100) + stats.total_capacity_gb) / 100

Notice that the recursion depth is reduced by 10, 790->780, 980->970, 1170->1160
and the result value remains same.

Change-Id: Ib5e062a153a2f41a3f01768f4122811d152cdb52
"
openstack%2Frequirements~master~I42396ba25b85cd8506e18c76401517a14bd5b095,openstack/requirements,master,openstack/requirements/constraints/noclob,I42396ba25b85cd8506e18c76401517a14bd5b095,Updated from generate-constraints,ABANDONED,2022-05-18 02:42:57.000000000,2022-05-28 15:38:32.000000000,,24,24,0,842253,f9a9178ba639574575e7932a16a6ab827647353e,9,1,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I42396ba25b85cd8506e18c76401517a14bd5b095
"
openstack%2Fkolla-ansible~stable%2Fussuri~Ie468f5170c9df8a235953337753043f5b9f74578,openstack/kolla-ansible,stable/ussuri,cleanup-jobs-stable/ussuri,Ie468f5170c9df8a235953337753043f5b9f74578,Cleanup zuul jobs a bit,MERGED,2022-05-27 18:48:49.000000000,2022-05-28 13:55:40.000000000,2022-05-28 13:53:49.000000000,0,1,3,843639,ea0a46b3d33781ff3dd02316896e05fdd9afbb3c,16,3,2,1,30491,Radosław Piliszek,yoctozepto,"Cleanup zuul jobs a bit

These sorts of changes should likely be made across all of kolla. I'm
pushing the update to victoria because 843400 is a victoria change that
caused me to look into this.

First up kolla-ansible-centos8s-source-upgrade-ceph-ansible is a
multinode job that retries many times, is non voting, and a check only
job. The value of a job like this on a stable branch is likely minimal.

First we remove the non default attempts value on the base job. You
should set this per job instead only when necessary and after debugging
why jobs retry excessively. Please avoid overriding defaults like this
for all the jobs as it is easy for peopel to forget the setting is in
place.

Next move the job to the experimental queue. If it is non voting and
rarely passes it can be manually triggered by individuals that are
working to correct the job that rarely succeeds. Then once reliable the
job can be added back to the check pipeline.

Change-Id: Ie468f5170c9df8a235953337753043f5b9f74578
(cherry picked from commit 99410ae6e434cf1172b3f621cec24e67493239b7)
"
openstack%2Fkolla-ansible~master~I84050d040e7a0ea4e8bc0ed0a161fce2346cbdc8,openstack/kolla-ansible,master,ci-stdin,I84050d040e7a0ea4e8bc0ed0a161fce2346cbdc8,[CI] Disable stdin in the core tests,ABANDONED,2022-05-27 18:13:42.000000000,2022-05-28 11:53:06.000000000,,1,1,1,843669,f6b46c185951e0225a616eb97a2417cd68e19eec,5,2,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Disable stdin in the core tests

Depending on the way the testing script is called, it may sense
stdin being available and not being a tty [1]. The logic in the
Glance part of the client is then broken [2] as it detects both
volume and stdin as sources of the image and fails.
The proposed approach disables stdin for these tests.
This fixes the cephadm upgrade jobs where this script was called
using the shell module which causes this behaviour. The script
module is not affected. FWIW, the command module is affected
the same as shell because shell extends the command module.

[1] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L114-L120
[2] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L414

Co-Authored-By: Jens Harbott (frickler) <frickler@offenerstapel.de>
Change-Id: I84050d040e7a0ea4e8bc0ed0a161fce2346cbdc8
"
openstack%2Fproject-config~master~I9be97564806ade48a49556d8e595bcbeea123db4,openstack/project-config,master,fix-kolla-grafana,I9be97564806ade48a49556d8e595bcbeea123db4,"Fix kolla panel for Grafana, part 2",MERGED,2022-05-28 09:49:23.000000000,2022-05-28 11:41:13.000000000,2022-05-28 11:10:17.000000000,7,7,0,843716,d391c5b04a638295eec064e0b40258789537952e,7,2,1,1,13252,Dr. Jens Harbott,jrosenboom,"Fix kolla panel for Grafana, part 2

This is a follow-up to [0] fixing some pipeline names.

[0] I27fe7f3ca1ae4e821240d97b97fbf0c7fb09600d

Change-Id: I9be97564806ade48a49556d8e595bcbeea123db4
"
openstack%2Fproject-config~master~I27fe7f3ca1ae4e821240d97b97fbf0c7fb09600d,openstack/project-config,master,fix-kolla-grafana,I27fe7f3ca1ae4e821240d97b97fbf0c7fb09600d,Fix kolla panel for Grafana,MERGED,2022-05-28 08:41:01.000000000,2022-05-28 09:41:41.000000000,2022-05-28 09:07:15.000000000,23,16,1,843715,7be0824a6ef51d48117eca63e03b649ee173783d,7,2,1,1,13252,Dr. Jens Harbott,jrosenboom,"Fix kolla panel for Grafana

Drop binary jobs that no longer run. Add aarch64 jobs and publish jobs.

Change-Id: I27fe7f3ca1ae4e821240d97b97fbf0c7fb09600d
"
openstack%2Fdevstack~master~Id74b1a0a51427e52cf3f1946efa7700a2bfcfe62,openstack/devstack,master,bug/1701696,Id74b1a0a51427e52cf3f1946efa7700a2bfcfe62,Set cinder image cache limits,NEW,2017-06-30 18:23:00.000000000,2022-05-28 09:33:36.000000000,,3,3,1,479392,eb77037f180c88fbf0b4d99aecbf120b8cf5e0f7,17,8,1,1,12924,Patrick East,patrick.east,"Set cinder image cache limits

We used to just let it go to unlimited, but we should
actually test with limits for better coverage with
cinder code and to better mimic a ""real"" deployment.

Most users would not have an unlimited cache size.

Partial-Bug: #1701696
Change-Id: Id74b1a0a51427e52cf3f1946efa7700a2bfcfe62
Depends-On: Ia6d43b35843682bd201e57bb2941ca0243606412
"
openstack%2Fopenstack-manuals~master~I7510a5a14537b06d905964f6cf9386a78db0cdd3,openstack/openstack-manuals,master,add-link-to-both-guides-yoga,I7510a5a14537b06d905964f6cf9386a78db0cdd3,Yoga: Add front page links to both charm guides,MERGED,2022-05-27 21:32:01.000000000,2022-05-28 08:42:34.000000000,2022-05-28 08:16:37.000000000,11,11,0,843692,0d280510a8a63cb9473d0021dfe8e29e69ea2bc9,7,2,1,1,30561,Peter Matulis,pmatulis,"Yoga: Add front page links to both charm guides

Add front page doc links for the following project guides:

* charm-guide
* charm-deployment-guide

Change-Id: I7510a5a14537b06d905964f6cf9386a78db0cdd3
"
openstack%2Fdevstack~stable%2Fpike~Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610,openstack/devstack,stable/pike,,Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610,Drop signing_dir option from configure_auth_token_middleware,ABANDONED,2017-11-17 18:53:58.000000000,2022-05-28 08:11:34.000000000,,12,14,2,521160,ac2a03bd4072dcddaf5653034305142fc0020da8,9,6,1,7,6593,Dirk Mueller,dmllr,"Drop signing_dir option from configure_auth_token_middleware

This is no longer being used due to Keystone PKI tokens no longer
being implemented. This patch removes deprecation warnings from
various services startup log.

Change-Id: Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610
"
openstack%2Fdevstack~master~I8b9f6e2e6e2e45d175a3eeae97a91212a05206d4,openstack/devstack,master,test,I8b9f6e2e6e2e45d175a3eeae97a91212a05206d4,DNM:Testing,ABANDONED,2019-06-20 07:59:07.000000000,2022-05-28 08:10:52.000000000,,14,1,0,666512,aacbd88f6ba7f5dc6db82b9c7b056bdc45978df9,8,1,4,1,8556,Ghanshyam,ghanshyam,"DNM:Testing

Change-Id: I8b9f6e2e6e2e45d175a3eeae97a91212a05206d4
"
openstack%2Fdevstack~stable%2Ftrain~If7ddbd6655086657db03074a27a2d47053fd88e0,openstack/devstack,stable/train,train,If7ddbd6655086657db03074a27a2d47053fd88e0,CentOS 8 support,ABANDONED,2020-10-06 06:58:24.000000000,2022-05-28 08:10:11.000000000,,43,61,0,756205,db8b9066e6356a3e3f7d9ad9455121cd29ac252f,14,5,3,2,20363,Adit Sarfaty,asarfaty,"CentOS 8 support

This adds support for CentOS 8

Change-Id: If7ddbd6655086657db03074a27a2d47053fd88e0
(cherry picked from commit 36705b52336a442dc05d9874638d269834ff93b7)
"
openstack%2Fdevstack~master~Ia64535f9de80a0c3a247eaf68375babe64f4d5a1,openstack/devstack,master,,Ia64535f9de80a0c3a247eaf68375babe64f4d5a1,Make the nova wait timeout as user configurable,ABANDONED,2017-09-08 00:48:34.000000000,2022-05-28 07:39:15.000000000,,11,1,0,501907,40dbfe41b9a22767a9b95bc2043f41ccb856600a,16,8,2,3,17256,Venkatrangan Govindarajan,gvrangan,"Make the nova wait timeout as user configurable

A recent change added wait in coompute node until nova
services are available. This timeout was hard coded as 60.
This patch makes the value configurable.

Change-Id: Ia64535f9de80a0c3a247eaf68375babe64f4d5a1
Signed-off-by: gvrangan <venkatrangang@hcl.com>
"
openstack%2Fdevstack~master~Ia48fc974cfe994c7d8af98583eae9050cc058468,openstack/devstack,master,,Ia48fc974cfe994c7d8af98583eae9050cc058468,DNM: test swift logs,ABANDONED,2018-08-16 16:59:49.000000000,2022-05-28 07:35:05.000000000,,0,0,0,592582,8f36d879ddc94b19751f626d0b75f884ed69da89,19,6,2,0,1,James E. Blair,corvus,"DNM: test swift logs

Change-Id: Ia48fc974cfe994c7d8af98583eae9050cc058468
Depends-On: https://review.openstack.org/592581
Depends-On: https://review.openstack.org/593165
"
openstack%2Fdevstack~master~Id9e8126471d4c828457834e48e11beae5d0636fe,openstack/devstack,master,,Id9e8126471d4c828457834e48e11beae5d0636fe,import/export elasticsearch gpg key for suse,ABANDONED,2018-07-04 15:07:02.000000000,2022-05-28 07:34:30.000000000,,3,1,2,580183,d5a863b68b3fb2a8bebebdca87c982a4d99ec331,26,8,3,1,23735,sumitjami,nthforloop,"import/export elasticsearch gpg key for suse

Ignoring gpg key check while install is not a good idea
so wrapping the install process in install/uninstall of the gpgkey

Removing the key to not leave any unnecessary artifacts

Change-Id: Id9e8126471d4c828457834e48e11beae5d0636fe
"
openstack%2Fdevstack~master~I32a7f0945ec35d7a27847b18fe9b8d108038132e,openstack/devstack,master,,I32a7f0945ec35d7a27847b18fe9b8d108038132e,"opensuse: codename is n/a for tumbleweed & Leap, use os_release",ABANDONED,2018-07-04 15:36:28.000000000,2022-05-28 07:34:04.000000000,,1,1,3,580199,cbc0164a7eb2f6cb312725502d6e1571daa12f21,36,8,5,1,23735,sumitjami,nthforloop,"opensuse: codename is n/a for tumbleweed & Leap, use os_release

Change-Id: I32a7f0945ec35d7a27847b18fe9b8d108038132e
"
openstack%2Fdevstack~master~Ie2dcaa434f49544d24a6f4d139078e18415a8517,openstack/devstack,master,centos-gating,Ie2dcaa434f49544d24a6f4d139078e18415a8517,Add non-voting octavia-v2-dsvm-scenario-centos-8,ABANDONED,2020-08-20 15:46:11.000000000,2022-05-28 07:32:14.000000000,,2,0,0,747227,207339f8bccdd78a6a2a4404f857c81b5bfe0c63,7,3,2,1,6469,Carlos Gonçalves,cgoncalves,"Add non-voting octavia-v2-dsvm-scenario-centos-8

The Octavia scenario job is a comprehensive CI job that relies on
multiple core OpenStack services like Nova, Neutron, Glance and
Keystone. It also exercises use-cases not test covered by some of these
projects, so having an Octavia CI job in Devstack adds greater value.

Additionally, Octavia is part of the recommended minimal starting set of
OpenStack services for Kubernetes clusters [1].

[1] https://review.opendev.org/#/c/736369/

Change-Id: Ie2dcaa434f49544d24a6f4d139078e18415a8517
"
openstack%2Fdevstack~master~Iac28518e6624afe456ca0a5963c0619c69a1a1b0,openstack/devstack,master,,Iac28518e6624afe456ca0a5963c0619c69a1a1b0,zuul: trigger opensuse job periodically,ABANDONED,2020-11-30 14:15:48.000000000,2022-05-28 07:31:33.000000000,,3,0,1,764762,41a01fce7d8332a81317841cfb0b7880e3f762b7,16,3,2,1,12907,Jan Zerebecki,jzerebecki,"zuul: trigger opensuse job periodically

This will make it easier to notice if a cause for an error appears in
the nodepool provided image. As nodepool images are not tested against
jobs after they change.

Change-Id: Iac28518e6624afe456ca0a5963c0619c69a1a1b0
"
openstack%2Fdevstack~master~I77fd136c0e60edbf20af5155878e7aaaaecfca3c,openstack/devstack,master,bug/1960346,I77fd136c0e60edbf20af5155878e7aaaaecfca3c,DNM: troubleshoot detach in centos-9-stream job,ABANDONED,2022-02-10 12:24:07.000000000,2022-05-28 07:30:11.000000000,,13,46,3,828705,a8f26656eb2e5c111dd8e1d7bed0fd4bc741099a,25,1,8,1,9708,Balazs Gibizer,gibi,"DNM: troubleshoot detach in centos-9-stream job

Depends-On: https://review.opendev.org/c/openstack/tempest/+/828863

Related-Bug: #1960346
Change-Id: I77fd136c0e60edbf20af5155878e7aaaaecfca3c
"
openstack%2Fdevstack~master~I2720ad1b6cff7474c27bef66b72183f09fe4da79,openstack/devstack,master,,I2720ad1b6cff7474c27bef66b72183f09fe4da79,DNM test centos jobs,ABANDONED,2022-02-02 08:13:19.000000000,2022-05-28 07:28:46.000000000,,0,45,1,827420,c5da4919fd09109211c94f9a1db7fffe24c68c2f,5,1,1,2,16312,Alfredo Moralejo,amoralej,"DNM test centos jobs

Change-Id: I2720ad1b6cff7474c27bef66b72183f09fe4da79
"
openstack%2Fdevstack~master~I92325d11998f6a130266fdaaa2d89f460e55b7c9,openstack/devstack,master,centos-gating,I92325d11998f6a130266fdaaa2d89f460e55b7c9,Set devstack-platform-centos-8 voting,ABANDONED,2020-08-20 12:16:34.000000000,2022-05-28 07:27:43.000000000,,5,5,0,747151,1666d64ac959545a3684c0f86df6e2721168ee5f,16,6,3,1,6469,Carlos Gonçalves,cgoncalves,"Set devstack-platform-centos-8 voting

It is important for projects to do CI/CD gating on the top most common
environment used by operators.

CentOS 8 is one of three LTS or stable distributions for Victoria [2]
and the most widely used distribution according to the OpenStack User
Survey 2019 [1] with a combined 55% of OpenStack cloud deployments
running mainly on CentOS/RHEL distribution. We should gate on CentOS 8.

Should this platform become a gate blocker, the community should either
fix the issue internally when applicable, or report it upstream and
provide a workaround whenever possible. If a workaround is not feasible
and upstream is not responsive, please escalate to CentOS/RHEL
colleagues in the OpenStack community; only after the job could be
turned non-voting (and back to voting once issue is resolved).

[1] https://www.openstack.org/analytics
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html

Change-Id: I92325d11998f6a130266fdaaa2d89f460e55b7c9
"
openstack%2Fkayobe~stable%2Fyoga~I9150e32579421e46782518948188e1363918fb39,openstack/kayobe,stable/yoga,hacluster-build-issue,I9150e32579421e46782518948188e1363918fb39,Fix forgotten hacluster regexp for image build,MERGED,2022-05-25 18:01:19.000000000,2022-05-28 07:08:47.000000000,2022-05-28 07:07:29.000000000,7,0,4,843323,2f3a8f80d1329e90076b307e18045a72c842e280,21,4,4,2,14200,Maksim Malchuk,mmalchuk,"Fix forgotten hacluster regexp for image build

The 'overcloud container image build' command didn't build all the
hacluster images when hacluster is enabled.

TrivialFix

Change-Id: I9150e32579421e46782518948188e1363918fb39
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)
"
openstack%2Fneutron~master~I364fc7981458374ed25eb8837d1ed3afff046b95,openstack/neutron,master,bug1967742,I364fc7981458374ed25eb8837d1ed3afff046b95,Notify mech drivers with original and modified network.,MERGED,2022-05-02 02:18:56.000000000,2022-05-28 02:46:55.000000000,2022-05-26 12:35:40.000000000,152,9,29,840146,d1fe14d366e501869addff17e851ac03a599adca,71,6,8,3,34271,Miro Tomaska,mtomaska,"Notify mech drivers with original and modified network.

Include original and modified network when notifying mechanism drivers in PRECOMMIT event. PRECOMMIT_CREATE modified network includes new segment, while original does not. Exact opposite for PRECOMMIT_DELETE

Closes-Bug: #1967742
Change-Id: I364fc7981458374ed25eb8837d1ed3afff046b95
"
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fxena~I226ab48b1ff7ec3c7da963e00e76b24b2b79608c,openstack/openstack-ansible-lxc_hosts,stable/xena,bug/1973762,I226ab48b1ff7ec3c7da963e00e76b24b2b79608c,Do not mess up with distro-provided machines mount,MERGED,2022-05-24 16:12:27.000000000,2022-05-28 00:50:56.000000000,2022-05-28 00:49:42.000000000,1,1,1,843169,fc0810cc9761335a4d2920d05a926daff5c93139,13,5,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Do not mess up with distro-provided machines mount

var-lib-machines.mount is provided by systemd-container package
on ubuntu/debian [1]

With package update our file will be overriden which end up on
mount failure.

To avoid that we place it as override to /etc/

[1] https://packages.ubuntu.com/focal/amd64/systemd-container/filelist

Change-Id: I226ab48b1ff7ec3c7da963e00e76b24b2b79608c
Closes-Bug: #1973762
"
openstack%2Fnova~master~I1388c39fd84aff18813b47bb002589f2b5059e2a,openstack/nova,master,conf-doc-limit-tenants-to-agg,I1388c39fd84aff18813b47bb002589f2b5059e2a,Update [scheduler] limit_tenants_to_placement_aggregate config help,NEW,2022-05-27 19:59:23.000000000,2022-05-28 00:37:02.000000000,,9,3,0,843684,22631727b937c94e1a819e51a25641c155615ed7,10,1,1,1,4690,melanie witt,melwitt,"Update [scheduler] limit_tenants_to_placement_aggregate config help

Currently the config option help for [scheduler]
limit_tenants_to_placement_aggregate says that if no host aggregates
matching the tenant id are found, the result will be the same as
finding no suitable hosts for scheduling. This is only accurate if
[scheduler] placement_aggregate_required_for_tenants = True.

This updates the config option help to add detail about the behavior
depending on the [scheduler] placement_aggregate_required_for_tenants
setting.

Change-Id: I1388c39fd84aff18813b47bb002589f2b5059e2a
"
openstack%2Fswift~master~Ie14658b39c48fba46da9ec2edbe80d0dedbd4a1b,openstack/swift,master,p-error-limit-test,Ie14658b39c48fba46da9ec2edbe80d0dedbd4a1b,proxy-server: unit test error limiting reset,NEW,2022-05-26 11:31:02.000000000,2022-05-27 23:52:53.000000000,,32,0,4,843431,cc89b8e3f32d1fa03acdf75b7499b547c747fa9e,9,1,2,1,7847,Alistair Coles,acoles,"proxy-server: unit test error limiting reset

Add a unit test to cover the resetting of error limited node state
after the error_suppression_interval has passed.

Change-Id: Ie14658b39c48fba46da9ec2edbe80d0dedbd4a1b
"
openstack%2Fopenstack-ansible-lxc_container_create~master~Ieb53ae161c67a83408b6a8c77b4c8428ec9c4634,openstack/openstack-ansible-lxc_container_create,master,osa/lxc-ci,Ieb53ae161c67a83408b6a8c77b4c8428ec9c4634,Use integrated repo 'hosts' jobs to test different backing stores,MERGED,2022-05-23 21:27:45.000000000,2022-05-27 23:26:11.000000000,2022-05-27 23:24:13.000000000,1,73,8,843030,4ab7921ca8d003488c4311a4ae3c0109e9e88ac5,30,3,3,2,25023,Jonathan Rosser,jrosser,"Use integrated repo 'hosts' jobs to test different backing stores

This uses the main openstack-ansible repo for testing these different
backing store scenarios rather than openstack-ansible-tests. This is
more maintainable and ensures that we test using the same code as is
used for a real deployment.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843027
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/843418
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/843547
Change-Id: Ieb53ae161c67a83408b6a8c77b4c8428ec9c4634
"
openstack%2Fcharm-deployment-guide~stable%2Fyoga~I5e0d26403aecf22acbd5558b475033b368c31ec8,openstack/charm-deployment-guide,stable/yoga,update-versioning-for-yoga,I5e0d26403aecf22acbd5558b475033b368c31ec8,Update versioning for yoga,MERGED,2022-05-27 21:23:00.000000000,2022-05-27 23:22:31.000000000,2022-05-27 23:21:32.000000000,3,1,0,843691,938e0e063688db33e20b8223d6aa44fc74fa2249,7,2,1,2,30561,Peter Matulis,pmatulis,"Update versioning for yoga

Set the guide version to 'yoga'. This affects the
sidebar menu on the left of the page.

Set the default git branch to 'yoga'.

Change-Id: I5e0d26403aecf22acbd5558b475033b368c31ec8
"
openstack%2Fcharm-guide~stable%2Fyoga~I29bb8f98a963a5363e910ac958b9a3455f6b41b4,openstack/charm-guide,stable/yoga,update-versioning-for-yoga,I29bb8f98a963a5363e910ac958b9a3455f6b41b4,Update versioning for yoga,MERGED,2022-05-27 20:57:05.000000000,2022-05-27 23:20:24.000000000,2022-05-27 23:19:21.000000000,4,2,0,843688,1deda5a6d4180032f7168bd253e2ef1231dc20b7,7,2,1,2,30561,Peter Matulis,pmatulis,"Update versioning for yoga

Set the guide version to 'yoga'. This affects the
sidebar menu on the left of the page.

Set the default git branch to 'yoga'.

Point the intersphinx plugin inventory objects file
to the 'yoga' version of the charm-deployment-guide.

Change-Id: I29bb8f98a963a5363e910ac958b9a3455f6b41b4
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~Icb2bf42d9dc909ae246ce41b76c649d69e2a0274,openstack/openstack-ansible,stable/victoria,,Icb2bf42d9dc909ae246ce41b76c649d69e2a0274,Switch Victoria to stable branch,MERGED,2022-05-20 07:29:59.000000000,2022-05-27 22:26:24.000000000,2022-05-27 22:24:44.000000000,108,108,1,842674,618dcb1b6bcfe1eb37fd4710e9e88c83fb389d8f,15,3,3,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Switch Victoria to stable branch

After EM is being released, we can't do any more V releases. So we can
let SHA bump go and use stable/victoria in case any security patch
happens.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/843393
Change-Id: Icb2bf42d9dc909ae246ce41b76c649d69e2a0274
"
openstack%2Fopenstack-ansible~stable%2Fxena~I142a713c3fb9136cbb00d6734d1362b6015249de,openstack/openstack-ansible,stable/xena,bump_osa,I142a713c3fb9136cbb00d6734d1362b6015249de,Bump OpenStack-Ansible Xena,MERGED,2022-05-27 10:20:54.000000000,2022-05-27 22:26:13.000000000,2022-05-27 22:24:41.000000000,54,44,1,843599,3d46aa8910518a03b6e0dc2400b32a61ca13f49f,10,3,1,5,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump OpenStack-Ansible Xena

Change-Id: I142a713c3fb9136cbb00d6734d1362b6015249de
"
openstack%2Fkolla-ansible~stable%2Fvictoria~Ie468f5170c9df8a235953337753043f5b9f74578,openstack/kolla-ansible,stable/victoria,cleanup-jobs,Ie468f5170c9df8a235953337753043f5b9f74578,Cleanup zuul jobs a bit,MERGED,2022-05-26 17:36:16.000000000,2022-05-27 21:32:11.000000000,2022-05-27 18:47:12.000000000,3,2,9,843536,99410ae6e434cf1172b3f621cec24e67493239b7,16,5,1,2,4146,Clark Boylan,cboylan,"Cleanup zuul jobs a bit

These sorts of changes should likely be made across all of kolla. I'm
pushing the update to victoria because 843400 is a victoria change that
caused me to look into this.

First up kolla-ansible-centos8s-source-upgrade-ceph-ansible is a
multinode job that retries many times, is non voting, and a check only
job. The value of a job like this on a stable branch is likely minimal.

First we remove the non default attempts value on the base job. You
should set this per job instead only when necessary and after debugging
why jobs retry excessively. Please avoid overriding defaults like this
for all the jobs as it is easy for peopel to forget the setting is in
place.

Next move the job to the experimental queue. If it is non voting and
rarely passes it can be manually triggered by individuals that are
working to correct the job that rarely succeeds. Then once reliable the
job can be added back to the check pipeline.

Change-Id: Ie468f5170c9df8a235953337753043f5b9f74578
"
openstack%2Fopenstack-ansible~master~Ifa9b94eec6b126914f8b2adf7b55bb70b1fd4e1c,openstack/openstack-ansible,master,,Ifa9b94eec6b126914f8b2adf7b55bb70b1fd4e1c,Test interaction with keystone in healthcheck-infrastructure,ABANDONED,2022-05-26 15:49:22.000000000,2022-05-27 21:28:50.000000000,,6,0,2,843495,8650f78cda2de21230ced0dfd3b3ea594e2367b2,7,2,1,1,25023,Jonathan Rosser,jrosser,"Test interaction with keystone in healthcheck-infrastructure

This provides basic testing that the keystone endpoint is functioning,
and also validates the complete chain through the loadbalancer, SSL
termination and database setup.

There is otherwise no testing of the SSL and CA configuration from the
backend containers to the loadbalancer in the current healthcheck
playbook, this patch adds it.

Change-Id: Ifa9b94eec6b126914f8b2adf7b55bb70b1fd4e1c
"
openstack%2Ftempest~master~Ib435f787150bee6a2316b4350c14617e83d77c5c,openstack/tempest,master,bug/1766306,Ib435f787150bee6a2316b4350c14617e83d77c5c,Add test for boot_index in bdm: bug# 1766306,ABANDONED,2018-04-24 01:43:09.000000000,2022-05-27 21:07:52.000000000,,12,0,8,563801,420b47c5cf62db4d588046020f1b357c4d2fd228,36,10,5,1,8556,Ghanshyam,ghanshyam,"Add test for boot_index in bdm: bug# 1766306

This commit adds test to check the boot_index
in bdm dict while creating the server is mandatory.

Depends-On: https://review.openstack.org/#/c/563732/
Depends-On: https://review.openstack.org/#/c/564461/
Change-Id: Ib435f787150bee6a2316b4350c14617e83d77c5c
Related-Bug: #1766306
"
openstack%2Fnova~stable%2Fxena~I65b899d8b603ffc989358dde89fa6c1bda5ca7be,openstack/nova,stable/xena,,I65b899d8b603ffc989358dde89fa6c1bda5ca7be,DNM: testing centos8 py36 job,ABANDONED,2022-03-22 18:36:30.000000000,2022-05-27 21:06:51.000000000,,0,118,4,834765,ee291a41de51ce5325af5d88a8b747fed433b847,14,1,1,1,8556,Ghanshyam,ghanshyam,"DNM: testing centos8 py36 job

Change-Id: I65b899d8b603ffc989358dde89fa6c1bda5ca7be
"
openstack%2Freleases~master~I8dd44df57106ab021a85184d8e2651682286c85b,openstack/releases,master,,I8dd44df57106ab021a85184d8e2651682286c85b,[Xena] Release of oslo.vmware,ABANDONED,2022-04-06 13:41:10.000000000,2022-05-27 21:06:40.000000000,,4,0,5,836832,5a7f47004d61e212d3a90e1815bd357e314f686b,13,3,2,1,8556,Ghanshyam,ghanshyam,"[Xena] Release of oslo.vmware

We replaced the suds-jurko with suds-community
in oslo.vmware stable/xena.
- https://review.opendev.org/c/openstack/oslo.vmware/+/835672

Change-Id: I8dd44df57106ab021a85184d8e2651682286c85b
"
openstack%2Foslo.vmware~stable%2Fxena~Ie3f317974d138be4050d0ce196bcc000494a0eee,openstack/oslo.vmware,stable/xena,bug/1946340-stable/xena,Ie3f317974d138be4050d0ce196bcc000494a0eee,Replace suds-jurko with suds-community,MERGED,2022-03-29 16:03:30.000000000,2022-05-27 21:06:14.000000000,2022-04-06 01:19:32.000000000,1,1,3,835672,bfda4c7fa96dc063c419e78565a6500867b9be79,17,2,2,1,8556,Ghanshyam,ghanshyam,"Replace suds-jurko with suds-community

suds-jurko is not compatible with setuptools >58.0.0 and has not been
maintained for a long time. Let's use suds-community instead.

Related-Bug: 1946340
Change-Id: Ie3f317974d138be4050d0ce196bcc000494a0eee
(cherry picked from commit 7bc343173751330d2e989c28bc6fefed56d358d6)
"
openstack%2Fnova~stable%2Fwallaby~I14098bd71a0dc878b920fde381b5e8fc7872a599,openstack/nova,stable/wallaby,,I14098bd71a0dc878b920fde381b5e8fc7872a599,DNM: Testing live migration with local attach,ABANDONED,2022-05-24 13:47:07.000000000,2022-05-27 20:49:25.000000000,,23,0,3,843146,278914e778cf7453f9b074e786143c8a2d523ff4,69,2,11,2,8864,Artom Lifshitz,artom,"DNM: Testing live migration with local attach

Depends-on: https://review.opendev.org/c/openstack/tempest/+/843163
Change-Id: I14098bd71a0dc878b920fde381b5e8fc7872a599
"
openstack%2Fnova~stable%2Fwallaby~Iecb101a283a1189f9e9a1c9e03fa1507c4aae91a,openstack/nova,stable/wallaby,,Iecb101a283a1189f9e9a1c9e03fa1507c4aae91a,WIP: Persist connection_info during live migration,ABANDONED,2022-05-27 00:05:07.000000000,2022-05-27 20:49:18.000000000,,9,0,1,843554,709a48cdedf19a3f0c881271b80194367c1d9866,14,1,3,1,8864,Artom Lifshitz,artom,"WIP: Persist connection_info during live migration

Change-Id: Iecb101a283a1189f9e9a1c9e03fa1507c4aae91a
"
openstack%2Ftempest~master~If58171a7cee4e73db91ab8c9abcee1bb13ab0b94,openstack/tempest,master,,If58171a7cee4e73db91ab8c9abcee1bb13ab0b94,WIP: Test live migration then detach with encrypted volumes,ABANDONED,2022-05-27 14:02:42.000000000,2022-05-27 20:49:01.000000000,,23,2,0,843620,c1cfa4097a30ce1b504f5465ae84b9aeaf9229e5,5,1,3,1,8864,Artom Lifshitz,artom,"WIP: Test live migration then detach with encrypted volumes

Change-Id: If58171a7cee4e73db91ab8c9abcee1bb13ab0b94
"
openstack%2Fnova~master~I194c658046371995032b3424874cf908715402e3,openstack/nova,master,,I194c658046371995032b3424874cf908715402e3,WIP: Run encrypted volume tests in nova-live-migration,ABANDONED,2022-05-27 14:02:57.000000000,2022-05-27 20:48:56.000000000,,2,1,1,843621,59110f7b9eb6cb14627d4195b121ce6ec9ccd4bc,12,1,2,1,8864,Artom Lifshitz,artom,"WIP: Run encrypted volume tests in nova-live-migration

We want to the non-QEMU-native encryption (cryptsetup) + volume type
that modifies the connection_info during live migration combination
(iSCSI as an example that's easy to test in the upstream gate).

Depends-on: https://review.opendev.org/c/openstack/tempest/+/843620
Change-Id: I194c658046371995032b3424874cf908715402e3
"
openstack%2Ftempest~master~Icecd5d5a2037fcf5b314bc07d0e07dc9476b511f,openstack/tempest,master,,Icecd5d5a2037fcf5b314bc07d0e07dc9476b511f,DNM: Test encrypted LM with local attach,ABANDONED,2022-05-24 15:37:57.000000000,2022-05-27 20:48:52.000000000,,17,185,1,843163,a7fdc3df43802c64059029a95361ac7242fc6818,7,1,5,2,8864,Artom Lifshitz,artom,"DNM: Test encrypted LM with local attach

Change-Id: Icecd5d5a2037fcf5b314bc07d0e07dc9476b511f
"
openstack%2Fcharm-deployment-guide~stable%2Fyoga~I8f24579ad202129e76b05e84a6a3aee780517b6d,openstack/charm-deployment-guide,stable/yoga,change-to-get-yoga-built-stable/yoga,I8f24579ad202129e76b05e84a6a3aee780517b6d,Trivial formatting + guide version,MERGED,2022-05-27 20:26:59.000000000,2022-05-27 20:46:58.000000000,2022-05-27 20:45:52.000000000,0,3,0,843642,35fb6f52fb1f055dd9a76ccf33f84a8060444f65,7,2,1,1,30561,Peter Matulis,pmatulis,"Trivial formatting + guide version

Improve formatting for an unordered list on the
OVN page.

This PR will also be used to generate an OpenStack
Yoga version of charm-deployment-guide.

Change-Id: I8f24579ad202129e76b05e84a6a3aee780517b6d
(cherry picked from commit 1fb631fbf96c9225943b5ca4b74f4877e8bce476)
"
openstack%2Fcinder~master~If35c9b5d66813504720121905ad86d0617f8791e,openstack/cinder,master,,If35c9b5d66813504720121905ad86d0617f8791e,pylint: Remove invalid pylint disable in Nexenta driver,MERGED,2022-05-17 14:47:48.000000000,2022-05-27 20:42:31.000000000,2022-05-26 23:08:45.000000000,1,1,4,842131,e6f4ce1c4e5be18502f34ca15d21dcd982a8b081,53,3,1,1,4523,Eric Harney,eharney,"pylint: Remove invalid pylint disable in Nexenta driver

pylint complains because R0921 doesn't exist.

Change-Id: If35c9b5d66813504720121905ad86d0617f8791e
"
openstack%2Fopenstack-ansible~stable%2Fwallaby~Idda995313e03f83c3c37622deca1263d0af78b37,openstack/openstack-ansible,stable/wallaby,fix-panko-threads,Idda995313e03f83c3c37622deca1263d0af78b37,limit the number of thread for panko.,MERGED,2022-05-27 15:32:30.000000000,2022-05-27 20:29:30.000000000,2022-05-27 20:28:01.000000000,5,0,0,843629,204b74eda47841ece3cb2e2c241f2150b64e13c4,8,3,1,1,13095,Marc Gariépy,mgariepy,"limit the number of thread for panko.

this will fix oom on centos for : https://review.opendev.org/c/openstack/openstack-ansible-os_aodh/+/826379/

Change-Id: Idda995313e03f83c3c37622deca1263d0af78b37
"
openstack%2Fopenstack-ansible~master~Ie29ecd23b5fb4c5462aedf1a28bbf4d22822ac43,openstack/openstack-ansible,master,bump_osa,Ie29ecd23b5fb4c5462aedf1a28bbf4d22822ac43,Bump SHA for master,MERGED,2022-05-27 12:58:30.000000000,2022-05-27 20:17:16.000000000,2022-05-27 20:15:29.000000000,52,52,0,843616,894e3cc66a9649965a94765098861bb070cc431d,8,3,1,5,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump SHA for master

Change-Id: Ie29ecd23b5fb4c5462aedf1a28bbf4d22822ac43
"
openstack%2Fcharm-deployment-guide~master~I8f24579ad202129e76b05e84a6a3aee780517b6d,openstack/charm-deployment-guide,master,change-to-get-yoga-built,I8f24579ad202129e76b05e84a6a3aee780517b6d,Trivial formatting + guide version,MERGED,2022-05-27 00:22:00.000000000,2022-05-27 20:12:39.000000000,2022-05-27 20:11:25.000000000,0,3,0,843555,1fb631fbf96c9225943b5ca4b74f4877e8bce476,7,2,1,1,30561,Peter Matulis,pmatulis,"Trivial formatting + guide version

Improve formatting for an unordered list on the
OVN page.

This PR will also be used to generate an OpenStack
Yoga version of charm-deployment-guide.

Change-Id: I8f24579ad202129e76b05e84a6a3aee780517b6d
"
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fwallaby~I226ab48b1ff7ec3c7da963e00e76b24b2b79608c,openstack/openstack-ansible-lxc_hosts,stable/wallaby,bug/1973762-stable/wallaby,I226ab48b1ff7ec3c7da963e00e76b24b2b79608c,Do not mess up with distro-provided machines mount,MERGED,2022-05-26 06:52:42.000000000,2022-05-27 20:11:58.000000000,2022-05-27 20:10:50.000000000,1,1,0,843392,7d71769b721cca23ced26453d303112515b0a508,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Do not mess up with distro-provided machines mount

var-lib-machines.mount is provided by systemd-container package
on ubuntu/debian [1]

With package update our file will be overriden which end up on
mount failure.

To avoid that we place it as override to /etc/

[1] https://packages.ubuntu.com/focal/amd64/systemd-container/filelist

Change-Id: I226ab48b1ff7ec3c7da963e00e76b24b2b79608c
Closes-Bug: #1973762
"
openstack%2Fcharm-guide~stable%2Fyoga~Ide4358310a465dc5e7253cd8c6314b71effaafe8,openstack/charm-guide,stable/yoga,add-link-to-ceph-operation-stable/yoga,Ide4358310a465dc5e7253cd8c6314b71effaafe8,Add link to a new Ceph operation + guide version,MERGED,2022-05-27 00:05:39.000000000,2022-05-27 20:10:33.000000000,2022-05-27 20:09:24.000000000,1,0,0,843526,23a75e0f0b1ff11dfc336c5b9ee6de30530b8c70,7,2,1,1,30561,Peter Matulis,pmatulis,"Add link to a new Ceph operation + guide version

A new Ceph operation has come into being. This PR adds
a link to it.

This PR will also be used to generate an OpenStack
Yoga version of charm-guide.

Change-Id: Ide4358310a465dc5e7253cd8c6314b71effaafe8
(cherry picked from commit 481e11984f8147eb13c4507896e38a5b4845386d)
"
openstack%2Fopenstack-ansible-tests~master~I55b12210a83b50deb2524d6b8face57800fbcdb4,openstack/openstack-ansible-tests,master,,I55b12210a83b50deb2524d6b8face57800fbcdb4,Bump ansible version to 2.12.6,MERGED,2022-05-26 08:59:18.000000000,2022-05-27 19:46:38.000000000,2022-05-27 19:45:26.000000000,1,1,1,843421,20b54d669b5fee703aead919cc7a8a096300c26a,12,3,1,1,25023,Jonathan Rosser,jrosser,"Bump ansible version to 2.12.6

Change-Id: I55b12210a83b50deb2524d6b8face57800fbcdb4
"
openstack%2Fopenstack-ansible-repo_server~master~If220d073147d8f424cfe4f0d1ab494144b406860,openstack/openstack-ansible-repo_server,master,,If220d073147d8f424cfe4f0d1ab494144b406860,Avoid a race condition between mounting and using repo filesystem,MERGED,2022-05-26 08:34:29.000000000,2022-05-27 19:25:58.000000000,2022-05-27 19:24:27.000000000,9,0,1,843418,3b9a0f49a3904481e84ac305c646e2d411620605,13,4,2,1,25023,Jonathan Rosser,jrosser,"Avoid a race condition between mounting and using repo filesystem

Wait until the path is confirmed to be a mountpoint.

Change-Id: If220d073147d8f424cfe4f0d1ab494144b406860
"
openstack%2Fdesignate~master~I94324104a7ed89e757d48bb250d8b1132026ce46,openstack/designate,master,,I94324104a7ed89e757d48bb250d8b1132026ce46,Update zuul queue configuration,MERGED,2022-05-19 16:11:35.000000000,2022-05-27 18:42:46.000000000,2022-05-27 18:39:52.000000000,2,3,3,842560,fe9fb45c21a7be2f88600e1f29fd37f56244cc1a,12,4,1,1,11628,Michael Johnson,johnsom,"Update zuul queue configuration

Zuul is changing how queues are declared[1]. This patch updates Designate for the new way to define the queue.

[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I94324104a7ed89e757d48bb250d8b1132026ce46
"
openstack%2Ftempest~master~I60f3adb81407d0c6a29a8e2bdf20588b3061c526,openstack/tempest,master,move-heat-service-client,I60f3adb81407d0c6a29a8e2bdf20588b3061c526,Remove orchestration_client from tempest tree,MERGED,2022-05-21 02:10:15.000000000,2022-05-27 18:39:14.000000000,2022-05-27 18:32:13.000000000,0,431,4,842824,e29d5f16c5dac8585719a32cfed92a1a5cebde0f,12,2,2,4,8556,Ghanshyam,ghanshyam,"Remove orchestration_client from tempest tree

With the tempst plugin on each service side, all their
service client also moved to respective tempest plugin.

Heat orchestration_client is left in Tempest as murano_tempest_plugin
was using it. Murano_tempest_plugin should use the heat client from
heat_tempest_plugin and meanwhile they do that I have proposed to
move the Tempest orchestration_client.py to Murano side so that
this removal will not break them

This will avoid the confusion that Tempest still support heat service
client and tests in-tree.
- https://review.opendev.org/c/openstack/murano-tempest-plugin/+/842823

Change-Id: I60f3adb81407d0c6a29a8e2bdf20588b3061c526
"
openstack%2Fcinder~master~I89fc0f75d4839fedc4fc771e6d23b9526109cf4a,openstack/cinder,master,mypy,I89fc0f75d4839fedc4fc771e6d23b9526109cf4a,mypy: cinder/volume/volume_types.py,MERGED,2022-03-30 17:25:06.000000000,2022-05-27 18:38:54.000000000,2022-05-27 18:32:29.000000000,66,36,68,835881,04b6700f48f0776f7bedbea7a26ff18070117c1e,345,6,14,3,4523,Eric Harney,eharney,"mypy: cinder/volume/volume_types.py

Change-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a
"
openstack%2Ftempest~master~I521f69091cdad60edfe4ed85368df5decc0a7f55,openstack/tempest,master,,I521f69091cdad60edfe4ed85368df5decc0a7f55,Add verification when restoring backups,MERGED,2022-05-26 19:36:45.000000000,2022-05-27 18:38:01.000000000,2022-05-27 18:32:09.000000000,6,2,5,843542,404b55cd2f07327ab2acc58295ed2fcd222e3bc2,12,2,2,1,20813,Sofia Enriquez,enriquetaso,"Add verification when restoring backups

If you want to restore a backup, specifying only the backup ID, you will
get a new volume. However, if you pass the volume_id argument, you are
targeting the restore of an existing volume.

The problem I am having is that restore_backup() adds a second call to
addCleanup to an existing volume and this results in a 400 HTTP error.

To fix this problem, I add a simple check when we want to use an
existing volume without calling cleanup.

Change-Id: I521f69091cdad60edfe4ed85368df5decc0a7f55
"
openstack%2Fswift~master~I1c93136cd13e927a2deb380a95fb9f96ec79fa30,openstack/swift,master,pytest_unittests,I1c93136cd13e927a2deb380a95fb9f96ec79fa30,pytest: explicitly set system logger to DEBUG,MERGED,2022-05-27 06:13:50.000000000,2022-05-27 18:37:50.000000000,2022-05-27 18:32:52.000000000,1,0,3,843568,19855db9554a874d06f8e648c3cca676e59517f2,12,2,2,1,7233,Matthew Oliver,mattoliverau,"pytest: explicitly set system logger to DEBUG

We had a test grab the system logger via logging.getLogger() but when
running under pytest it isn't returned at the DEBUG level as it does in
nosetests.

This patch updates the test to set the level to DEBUG explicitly and
allows the only unit test that fails `pytest test/unit` to pass.

Change-Id: I1c93136cd13e927a2deb380a95fb9f96ec79fa30
"
openstack%2Fneutron~master~I150e80f1fac9c570bed39b2709635b73c57077e0,openstack/neutron,master,improve-neutron-ci,I150e80f1fac9c570bed39b2709635b73c57077e0,Remove requirements.txt from irrelevant files in CI jobs,MERGED,2022-05-27 10:09:35.000000000,2022-05-27 18:36:58.000000000,2022-05-27 18:32:40.000000000,14,15,4,843594,35fd49c0145a957f8970b9c26d408bc170397a36,13,5,1,6,11975,Slawek Kaplonski,slaweq,"Remove requirements.txt from irrelevant files in CI jobs

Changes in requirements.txt file should trigger all our CI jobs
to make sure that new requirements aren't breaking anything for sure.

This patch also removes test-requirements.txt from the irrelevant files
of the functional and fullstack jobs as those jobs are using
test-requirements.txt too so changes in that file should trigger those
jobs as well.

Change-Id: I150e80f1fac9c570bed39b2709635b73c57077e0
"
openstack%2Fcinder~master~I52e04b8f8e96cc2bcf0ab22ca77e999e1a06e26d,openstack/cinder,master,,I52e04b8f8e96cc2bcf0ab22ca77e999e1a06e26d,Scheduler Evaluator: raise recursion limit,MERGED,2022-03-29 14:19:40.000000000,2022-05-27 18:36:54.000000000,2022-05-27 18:32:17.000000000,15,0,8,835635,0d300c96ac6c5133e13d64f6afeded488912f818,71,5,2,2,4523,Eric Harney,eharney,"Scheduler Evaluator: raise recursion limit

This raises the Python recursion limit for
evaluate() calls -- reasonable formulas currently
exceed the default limit of 1000 inside of pyparsing.

Closes-Bug: #1966904
Change-Id: I52e04b8f8e96cc2bcf0ab22ca77e999e1a06e26d
"
openstack%2Fswift~master~I433bad1cb3f52ad60a81dcbf3209681f7068ed55,openstack/swift,master,,I433bad1cb3f52ad60a81dcbf3209681f7068ed55,staticweb: Allow empty listings at the root of a container,MERGED,2021-05-11 22:50:30.000000000,2022-05-27 18:36:44.000000000,2022-05-27 18:32:34.000000000,21,1,0,790859,10767e482e7f773754b2974e1862b8bb7d120036,8,3,1,2,15343,Tim Burke,tburke,"staticweb: Allow empty listings at the root of a container

This is useful for testing that staticweb metadata was properly set
before putting data into the container.

Change-Id: I433bad1cb3f52ad60a81dcbf3209681f7068ed55
"
openstack%2Fswift~master~I02ba67e77e3378b2c2c8c682d5d230d31cd1bfa9,openstack/swift,master,,I02ba67e77e3378b2c2c8c682d5d230d31cd1bfa9,replicator: Log rsync file transfers less,MERGED,2022-04-26 20:45:12.000000000,2022-05-27 18:32:46.000000000,2022-05-27 18:32:46.000000000,166,2,14,839442,7e691768171be9ccf0a1f6f5ac7630e83b5c9344,25,3,3,3,15343,Tim Burke,tburke,"replicator: Log rsync file transfers less

- Drop log level for successful rsyncs to debug; ops don't usually care.
- Add an option to skip ""send"" lines entirely -- in a large cluster,
  during a meaningful expansion, there's too much information getting
  logged; it's just wasting disk space.

Note that we already have similar filtering for directory creation;
that's been present since the initial commit of Swift code.

Drive-by: make it a little more clear that more than one suffix was
likely replicated when logging about success.

Change-Id: I02ba67e77e3378b2c2c8c682d5d230d31cd1bfa9
"
openstack%2Fcinder~master~I7b3ff2561cd400bd3f9fdfa9922fe77b63be03c4,openstack/cinder,master,relcycle-tasks,I7b3ff2561cd400bd3f9fdfa9922fe77b63be03c4,docs: update release cycle tasks,MERGED,2022-05-19 21:06:25.000000000,2022-05-27 18:32:23.000000000,2022-05-27 18:32:23.000000000,29,0,3,842633,cc160815bfb7250310483a7691470576d75810c7,30,2,1,1,5314,Brian Rosmaita,brian-rosmaita,"docs: update release cycle tasks

Add an item about supported python runtimes and making sure we're
running the correct CI jobs.

Change-Id: I7b3ff2561cd400bd3f9fdfa9922fe77b63be03c4
"
openstack%2Fopenstack-ansible~master~Ia2814d6dc6faa509e98f7486fed12600e192ec8b,openstack/openstack-ansible,master,bug/1975723,Ia2814d6dc6faa509e98f7486fed12600e192ec8b,Align collection_file naming,MERGED,2022-05-26 15:02:56.000000000,2022-05-27 18:20:55.000000000,2022-05-27 18:19:17.000000000,3,2,0,843483,d501eadd94e88e68513ab2827f181ee91baa6aaf,11,4,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Align collection_file naming

At the moment we're inconsistent in collection_file variable naming.
While we're passing `collection_file` to the play, inside it we use
`collections_file`.

Closes-Bug: #1975723
Change-Id: Ia2814d6dc6faa509e98f7486fed12600e192ec8b
"
openstack%2Fkolla-ansible~master~I4782ef28f2e478aadd377aaf2d6dfe7f48a36938,openstack/kolla-ansible,master,ci-use-command,I4782ef28f2e478aadd377aaf2d6dfe7f48a36938,[WIP] [CI] Use command instead of shell,ABANDONED,2022-05-27 13:38:21.000000000,2022-05-27 18:00:13.000000000,,1,2,0,843617,57f0ef195f94ab5d4364cfd29c6647f8d9dc5c27,4,1,1,1,30491,Radosław Piliszek,yoctozepto,"[WIP] [CI] Use command instead of shell

Change-Id: I4782ef28f2e478aadd377aaf2d6dfe7f48a36938
"
openstack%2Fxstatic-angular~master~Id1e700d56b9394cc648d27f03ffea33171ef7cf2,openstack/xstatic-angular,master,1.8.2.2,Id1e700d56b9394cc648d27f03ffea33171ef7cf2,Update XStatic-Angular to 1.8.2,MERGED,2022-05-25 19:35:35.000000000,2022-05-27 17:56:04.000000000,2022-05-27 17:56:04.000000000,13446,34806,5,843342,375ee8e424d913b3759b67e9263a38a56c84942c,13,5,2,19,6914,Tatiana Ovchinnikova,tmazur,"Update XStatic-Angular to 1.8.2

This is the official 1.8.2 build from angularjs.org.
The most recent changes are included, and ngScenario has been
removed from the project.

Change-Id: Id1e700d56b9394cc648d27f03ffea33171ef7cf2
"
openstack%2Fcinder~master~Id82a5bc251a8cea4febdc429329cd136c805487d,openstack/cinder,master,,Id82a5bc251a8cea4febdc429329cd136c805487d,Remove extra volume_type DB fetch on volume manage,MERGED,2022-03-23 16:04:18.000000000,2022-05-27 17:49:37.000000000,2022-05-27 17:47:06.000000000,1,2,6,834918,74ce9c60459bc591e1f5e4f3e8f7eb85f28bbcac,45,3,1,1,4523,Eric Harney,eharney,"Remove extra volume_type DB fetch on volume manage

Call _is_encrypted() instead of volume_types.is_encrypted()
since we already have the volume type object.

Change-Id: Id82a5bc251a8cea4febdc429329cd136c805487d
"
openstack%2Fkayobe~master~Id9418e4e88c52056412daa22462aa611bfcc59ae,openstack/kayobe,master,,Id9418e4e88c52056412daa22462aa611bfcc59ae,ironic: Set MTU on provisioning and cleaning Neutron networks,MERGED,2022-04-29 16:15:51.000000000,2022-05-27 17:48:52.000000000,2022-05-27 17:47:30.000000000,7,0,1,839965,cd24b6d98e1b82ab9c255e3e5ddbaed99c49067f,12,6,1,2,14826,Mark Goddard,mgoddard,"ironic: Set MTU on provisioning and cleaning Neutron networks

Previously we were not applying an MTU defined in Kayobe networks.yml to
the provisioning and cleaning networks in Neutron. This could lead to
issues when nodes communicate with the Ironic and Inspector APIs.

Change-Id: Id9418e4e88c52056412daa22462aa611bfcc59ae
"
openstack%2Fkeystone~master~I64d941148743d2c7902f16f5e81888a647249c6f,openstack/keystone,master,zanata/translations,I64d941148743d2c7902f16f5e81888a647249c6f,Imported Translations from Zanata,MERGED,2022-05-26 03:19:35.000000000,2022-05-27 17:48:34.000000000,2022-05-27 17:47:02.000000000,24,61,0,843372,7e6d20be56cd20f944377384d411bca96980c4fc,10,4,1,12,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I64d941148743d2c7902f16f5e81888a647249c6f
"
openstack%2Fcinder~master~If187cfc9c79f08c5ecc1ea15c6b11fc50acbaa81,openstack/cinder,master,comply-connector-format,If187cfc9c79f08c5ecc1ea15c6b11fc50acbaa81,Modify manner of retrieving volume_ref,MERGED,2021-05-27 05:21:22.000000000,2022-05-27 17:48:24.000000000,2022-05-27 17:46:57.000000000,1,1,7,793267,049549eebc1c43666b1a395d8402592cad0e07f7,30,4,1,1,30696,zhaoleilc,zhaoleilc,"Modify manner of retrieving volume_ref

The type of the input parameter connector is dict, but as I
would like to get connector from volume_ref, the type of the
latter is str which does not comply with the type of the former
. For example, I use a list comprehension which is [a.connector
 for a in volume_ref.volume _attachment] and the elements in the
list belong to the type of str. And in such scenario, if we want
to get some values by key such as 'host', the former can utilize
connect['host'] but the latter can not. That causes a confusion.

Therefore, Modify manner of retrieving volume_ref so that the type
of connector taken from volume_ref is a instance of dict.

Change-Id: If187cfc9c79f08c5ecc1ea15c6b11fc50acbaa81
"
openstack%2Fcinder~master~Ia7ac2aa6c741bdade7aeb4d22f7a2269f8db878c,openstack/cinder,master,,Ia7ac2aa6c741bdade7aeb4d22f7a2269f8db878c,pylint: tidy up clean_volume_locks,MERGED,2022-05-17 14:47:48.000000000,2022-05-27 17:46:16.000000000,2022-05-26 16:38:23.000000000,2,0,3,842130,8b55f6f1b28f97531f31f2a1464fcb46b46401d0,54,4,1,1,4523,Eric Harney,eharney,"pylint: tidy up clean_volume_locks

Initialize set_clean to False so it always has a value in
the except block.

Change-Id: Ia7ac2aa6c741bdade7aeb4d22f7a2269f8db878c
"
openstack%2Fopenstack-ansible~master~I7b8da8c1dd8d332147116882c253ff9e084bf28b,openstack/openstack-ansible,master,osa/lxc-ci,I7b8da8c1dd8d332147116882c253ff9e084bf28b,Add zuul jobs and template for testing different LXC backing stores,MERGED,2022-05-23 21:17:04.000000000,2022-05-27 17:42:39.000000000,2022-05-27 17:38:13.000000000,57,1,0,843027,0de6311de7665a48e0f5394bdac6a3d95e6e7ca0,25,3,11,2,25023,Jonathan Rosser,jrosser,"Add zuul jobs and template for testing different LXC backing stores

Change-Id: I7b8da8c1dd8d332147116882c253ff9e084bf28b
"
openstack%2Fopenstack-ansible~master~Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115,openstack/openstack-ansible,master,osa/lxc-ci,Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115,Allow lxc container backing store to be defined as part of the scenario,MERGED,2022-05-23 18:10:43.000000000,2022-05-27 17:40:58.000000000,2022-05-27 17:38:10.000000000,35,20,3,843011,ff746bfefeadfacb2db53b6f642c5d37fb2ca7fa,29,3,11,5,25023,Jonathan Rosser,jrosser,"Allow lxc container backing store to be defined as part of the scenario

This will allow aio_lxc_zfs, and a migration path away from
openstack-ansible-tests repo for the lxc_hosts and lxc_container_create
roles.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/842999
Change-Id: Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115
"
openstack%2Fvalidations-libs~master~I5cf39ea9c537c9f2f8537df1bb117c258379a326,openstack/validations-libs,master,vf/branching-explanation,I5cf39ea9c537c9f2f8537df1bb117c258379a326,Clarifying project branching model in CONTRIBUTING.rst,MERGED,2022-05-24 08:37:02.000000000,2022-05-27 17:35:19.000000000,2022-05-27 17:32:39.000000000,13,0,0,843121,98b792d58f364c704c4166d37456a55777fbec92,10,4,1,2,32926,Jiri Podivin,jpodivin,"Clarifying project branching model in CONTRIBUTING.rst

The CONTRIBUTING.rst is now included among the files
triggering execution of the tox-docs job.
This patches a dimunitive but nonetheless extant hole
in our doc CI coverage.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I5cf39ea9c537c9f2f8537df1bb117c258379a326
"
openstack%2Fopenstack-ansible-repo_server~master~I3109bd891d4c6b3522f5f741d9970093b1e882c8,openstack/openstack-ansible-repo_server,master,osa-gluster,I3109bd891d4c6b3522f5f741d9970093b1e882c8,"Clean up legacy lsycnd, rsync and ssh key config",MERGED,2022-04-14 12:09:25.000000000,2022-05-27 17:35:10.000000000,2022-05-27 17:32:45.000000000,66,0,6,837859,45d07fcf0c6605c9da72147d243cbe8d7e1ce8a7,67,3,29,2,25023,Jonathan Rosser,jrosser,"Clean up legacy lsycnd, rsync and ssh key config

These are no longer needed when a shared filesystem is used to
syncronise the repo server contents

Change-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8
"
openstack%2Fkeystonemiddleware~master~I659fb6cd3eb5be92c1c5568ee417f1ee32e7124f,openstack/keystonemiddleware,master,,I659fb6cd3eb5be92c1c5568ee417f1ee32e7124f,Update Python 3 job template,MERGED,2022-05-06 16:13:41.000000000,2022-05-27 17:34:22.000000000,2022-05-27 17:25:27.000000000,1,1,0,840956,87f6515e5b06b3bdbec5cd0a33554baca0249e94,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Update Python 3 job template

We should use the template corresponding to the release.

Change-Id: I659fb6cd3eb5be92c1c5568ee417f1ee32e7124f
"
openstack%2Fvalidations-common~master~I429f65498960f3555326f23b1ec2af592414a95f,openstack/validations-common,master,vf/branching-explanation,I429f65498960f3555326f23b1ec2af592414a95f,Explaining stable branches in CONTRIBUTING.rst,MERGED,2022-05-24 08:01:20.000000000,2022-05-27 17:32:42.000000000,2022-05-27 17:32:42.000000000,14,1,0,843114,723985f71808f499f7b72da6b9bdd7505c05af2f,9,4,1,1,32926,Jiri Podivin,jpodivin,"Explaining stable branches in CONTRIBUTING.rst

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I429f65498960f3555326f23b1ec2af592414a95f
"
openstack%2Fopenstack-ansible-galera_server~master~I90286b01b5578df04447155c69c92f823388185a,openstack/openstack-ansible-galera_server,master,mariadb-bump,I90286b01b5578df04447155c69c92f823388185a,Bump mariadb version.,MERGED,2022-05-17 13:39:39.000000000,2022-05-27 17:25:17.000000000,2022-05-27 17:23:31.000000000,1,1,3,842106,1013ee3a5dc2b48fdba63c6e2df8b5e1fb7860ac,14,3,1,1,13095,Marc Gariépy,mgariepy,"Bump mariadb version.

This bump will fix:
https://nvd.nist.gov/vuln/detail/CVE-2022-27376
https://nvd.nist.gov/vuln/detail/CVE-2022-27377
https://nvd.nist.gov/vuln/detail/CVE-2022-27380

Change-Id: I90286b01b5578df04447155c69c92f823388185a
"
openstack%2Fopenstack-ansible-os_rally~stable%2Fvictoria~Idbd71ade1ab82d2d218e560b2f10c38116ff47e3,openstack/openstack-ansible-os_rally,stable/victoria,osa-new-pip-stable/victoria,Idbd71ade1ab82d2d218e560b2f10c38116ff47e3,Ensure that the rally venv build is self contained,MERGED,2022-05-26 06:56:57.000000000,2022-05-27 17:25:17.000000000,2022-05-27 17:23:20.000000000,10,1,1,843393,138b950afe681b637757fe6f5001d6b8d06539cc,12,3,2,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Ensure that the rally venv build is self contained

Rally ships it's own version of upper-constraints [1].

As we move openstack-ansible to using the new pip resolver this
causes several issues. The rally specific version of u-c contains
constraints for pip/setuptools/wheel which will inevitably be in
conflict with those in global-requirement-pins. This results in
several problems.

* Rally is branchless and so applying branch-specific versions
  of openstack u-c is incorrect

* Rally should be installed using the rally u-c rather than
  openstack u-c

* Rally should not use the repo server to build wheels as the repo
  server wheel build venv will have different versions of pip/
  setuptools/wheel to those specificed in rally u-c.

* Rally venv build should not be subject to openstack-ansible
  global-requirement-pins as these are in conflict with rally u-c.

This patch introduces the changes necessary to build rally in a self
contained manner on the utility host with no use of the repo server.
It also includes a revert of I73887784cbc3ce6089a42c67871dbc6c3d54acf6.

[1] https://opendev.org/openstack/rally-openstack/raw/branch/master/upper-constraints.txt

Change-Id: Idbd71ade1ab82d2d218e560b2f10c38116ff47e3
(cherry picked from commit 03c78725360310437ee455e0b840a2c769da0f39)
"
openstack%2Fdiskimage-builder~master~I8a84d08c3090e46b00d1d626fb984f66ea33f256,openstack/diskimage-builder,master,fix-gentoo-grub,I8a84d08c3090e46b00d1d626fb984f66ea33f256,Fix grub setup on Gentoo,MERGED,2022-05-22 12:21:07.000000000,2022-05-27 17:15:15.000000000,2022-05-27 17:13:34.000000000,1,0,3,842856,b774869c3b1272ca1f6101df75c4d26c2046b2af,27,5,1,1,13252,Dr. Jens Harbott,jrosenboom,"Fix grub setup on Gentoo

After some recent reordering[0], the /boot/grub directory isn't created
early enough on Gentoo any more, let us just ensure ourselves that it is
in place when we create the grub config.

[0] I8cb34914bbbfa05521bbb71cc6637368b980358f

Change-Id: I8a84d08c3090e46b00d1d626fb984f66ea33f256
"
openstack%2Fcinder~master~I16d7bf9fb023f3bc7be0fc8e3e08421b2754d5a5,openstack/cinder,master,bug/1948507,I16d7bf9fb023f3bc7be0fc8e3e08421b2754d5a5,Fix QOS computation,MERGED,2021-10-26 22:11:42.000000000,2022-05-27 16:53:10.000000000,2022-05-27 16:50:59.000000000,7,0,28,815560,d83a2289d582ad137017f9589c2e42e8d1543c13,156,8,5,2,33717,Luciano Lo Giudice,lmlg,"Fix QOS computation

It's possible for a volume's node name to be `None` (because an
API is not present, or the user doesn't have privileges, for example).
For these cases, computing the QOS name can lead to a TypeError, since
it needs to concatenate a prefix to the node name. This patchset fixes
this problem by returning an empty string for the QOS if the node name
is indeed None.

Closes-Bug: #1948507
Change-Id: I16d7bf9fb023f3bc7be0fc8e3e08421b2754d5a5
"
openstack%2Fvalidations-libs~master~I8e3392a143ac9fe2c983f4b2c5b1f05b94a72835,openstack/validations-libs,master,VF/metadata,I8e3392a143ac9fe2c983f4b2c5b1f05b94a72835,Normalizing VF metadata,MERGED,2022-05-04 10:28:16.000000000,2022-05-27 16:50:44.000000000,2022-05-27 16:50:44.000000000,6,2,0,840438,786e55d717c94145d01278ef712f83b7dd34d6b7,14,4,5,1,32926,Jiri Podivin,jpodivin,"Normalizing VF metadata

Added Framework and Development status classifiers.[0]

Added python_requires clause to indicate compatibility with runtime.[1]

Removed unnecessary level of indentation in the files section.

[0] https://pypi.org/classifiers/
[1] https://setuptools.pypa.io/en/latest/userguide/dependency_management.html?highlight=python_requires#python-requirement

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I8e3392a143ac9fe2c983f4b2c5b1f05b94a72835
"
openstack%2Fvalidations-libs~master~Iad172191353f7c7cc016bc5030a849a1dd792aea,openstack/validations-libs,master,vf/container,Iad172191353f7c7cc016bc5030a849a1dd792aea,Add validation container entry point,MERGED,2022-05-02 14:38:13.000000000,2022-05-27 16:50:41.000000000,2022-05-27 16:50:41.000000000,288,0,26,840185,2ecbf375a677cdb56a72f5d2bcddb7bd9fddf0b4,27,4,7,1,16515,mbu,matbu,"Add validation container entry point

This patch add a python script to handle the VF within a container.
The goal is to offer a way to use the VF without installing it on
the host, only podman or docker is required.

Examples:

1/ building the container:
./validation --build

2/ run a Validation with local inventory:
./validation --run -I installer/hosts.yaml --cmd run --validation check-ram --validation check-ram --inventory /root/inventory.yaml

3/ run a Validation with interactive option:
./validation --run -i

Starting container
Running podman run -ti -v/root/.ssh/id_rsa:/root/containerhost_private_key:z -v/root/validations:/root/validations:z localhost/validation validation
(validation) run --validation check-ram

Log files are store on the host:
ls /home/foo/validations/

Change-Id: Iad172191353f7c7cc016bc5030a849a1dd792aea
"
openstack%2Fproject-config~master~Icc6146195c64c6a13e9b29542535f6e125bc9cbc,openstack/project-config,master,fix-zuul-default-ansible-ver,Icc6146195c64c6a13e9b29542535f6e125bc9cbc,The default ansible version in zuul config is a str not int,MERGED,2022-05-27 15:59:05.000000000,2022-05-27 16:49:27.000000000,2022-05-27 16:22:45.000000000,1,1,0,843650,f34f50c43a1b2829e246a5b2bc8b2ccfbca38f5e,9,3,1,1,4146,Clark Boylan,cboylan,"The default ansible version in zuul config is a str not int

Fix this in the zuul tenant config.

Change-Id: Icc6146195c64c6a13e9b29542535f6e125bc9cbc
"
openstack%2Fneutron-fwaas~master~Ib9cf36a70b6e5aba93f87e6be5c2636599166de2,openstack/neutron-fwaas,master,bug/1973780,Ib9cf36a70b6e5aba93f87e6be5c2636599166de2,"Remove ""distutils"" library",MERGED,2022-05-18 14:55:34.000000000,2022-05-27 16:35:45.000000000,2022-05-27 16:33:53.000000000,4,4,8,842371,b7be99c14761e7f08c319a1d875692a975b937db,22,4,3,1,8313,Lajos Katona,elajkat,"Remove ""distutils"" library

Library ""distutils"" will be marked as deprecated in Python 3.10:
https://peps.python.org/pep-0386/

This patch does the following replacements, that provide the same
functionality and API:
- distutils.spawn.find_executable -> shutil.which

Change-Id: Ib9cf36a70b6e5aba93f87e6be5c2636599166de2
Closes-Bug: #1973780
"
openstack%2Fbarbican~master~I0dc603a3e3a894fee774483a70285d47b57abdf8,openstack/barbican,master,,I0dc603a3e3a894fee774483a70285d47b57abdf8,"Allow users with ""creator"" role to edit ACLs",MERGED,2022-05-18 21:38:52.000000000,2022-05-27 16:21:21.000000000,2022-05-27 16:18:24.000000000,24,16,0,842435,c86b11fb8ebcf44a8bbe7f6d4a8be93f97640ca5,11,5,3,2,7973,Douglas Mendizábal,dougmendizabal,"Allow users with ""creator"" role to edit ACLs

This patch updates the default policy to allow users with the
""creator"" role to edit Secret and Container ACLs.

Secrets that have an ACL set to private will only be able to be edited
by the user who owns the secret.

Change-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8
"
openstack%2Fcinder-tempest-plugin~master~I860671d74f2cd5a6a16dfa9d072b2ab77744940d,openstack/cinder-tempest-plugin,master,ussuri-pin-tempest,I860671d74f2cd5a6a16dfa9d072b2ab77744940d,Cap cinder-tempest-plugin version for stable/ussuri|victoria,MERGED,2022-05-25 17:27:56.000000000,2022-05-27 15:54:43.000000000,2022-05-27 01:25:36.000000000,5,2,3,843319,9d89d4ee1f1fa43dc85f5969d2c6ce393e8089ae,11,4,1,1,8556,Ghanshyam,ghanshyam,"Cap cinder-tempest-plugin version for stable/ussuri|victoria

We are capping stable/ussuri and victoria testing with Tempest
26.1.0 (choosing 26.1.0 because of bug#1955418)

- https://review.opendev.org/c/openstack/devstack/+/838051
- https://review.opendev.org/c/openstack/devstack/+/843295

and cinder-tempest-plugin-lvm-lio-barbican job fail due to that
in cinder stable/ussuri|victoria

- https://zuul.opendev.org/t/openstack/build/c2f6e73017994723b5de166ad02730e4

To fix that we need to use compatible cinder-tempest-plugin version for
Tempest 26.1.0, which is cinder-tempest-plugin 1.3.0.

Change-Id: I860671d74f2cd5a6a16dfa9d072b2ab77744940d
"
openstack%2Fcinder~master~Ia7b94679bfa8bf9529afaa49da5fb03305aef60c,openstack/cinder,master,,Ia7b94679bfa8bf9529afaa49da5fb03305aef60c,Tests: Extend RBD deferred deletion interval,MERGED,2022-05-24 14:28:38.000000000,2022-05-27 15:48:40.000000000,2022-05-27 15:10:52.000000000,1,1,3,843151,ef1650f87ec3ad0b183227e4a159fee24113c22e,31,4,1,1,4523,Eric Harney,eharney,"Tests: Extend RBD deferred deletion interval

This test sets the task interval to 1s, and
sleeps for the same 1s before checking for
the result.  This occasionally races, causing
the test to fail.

Sleep slightly longer to work around this race.

Change-Id: Ia7b94679bfa8bf9529afaa49da5fb03305aef60c
"
openstack%2Ftap-as-a-service~master~Idd7b6788152a336314d5b99ae89f5049182a269c,openstack/tap-as-a-service,master,p310_for_taas,Idd7b6788152a336314d5b99ae89f5049182a269c,test: Make py310 passing,MERGED,2022-03-23 17:04:22.000000000,2022-05-27 15:47:36.000000000,2022-05-27 15:47:36.000000000,2,58,1,834928,611c44c5c6b718fac00df1c4c61f611ea84c7125,19,3,4,2,8313,Lajos Katona,elajkat,"test: Make py310 passing

Remove test-setup.sh as with zuul it is not necessary, and would like to
use mysqladmin which is not available on some nodesets.
Fix failing unit tests with a possible typo and change auto_spec to
autospec in calling mock.patch.object.

Change-Id: Idd7b6788152a336314d5b99ae89f5049182a269c
"
openstack%2Ftap-as-a-service~master~I4593f8f869122f30657c7d991b39c60779ad7e94,openstack/tap-as-a-service,master,p310_for_taas,I4593f8f869122f30657c7d991b39c60779ad7e94,py310: Add rpm packages to bindep.txt,MERGED,2022-03-23 13:27:06.000000000,2022-05-27 15:47:34.000000000,2022-05-27 15:47:34.000000000,6,0,2,834880,cc2d82d1389dcf07e4fab7c96b9b3db8e29a1859,18,3,3,1,8313,Lajos Katona,elajkat,"py310: Add rpm packages to bindep.txt

py310 test from Zed job template openstack-python3-zed-jobs-neutron
uses fedora-35 node type, thus fails for taas as mysql_admin is used
by test-setup.sh, but binary dependencies are not installed.

This patch adds rpm binary dependencies.

Change-Id: I4593f8f869122f30657c7d991b39c60779ad7e94
"
openstack%2Fopenstack-ansible-os_octavia~stable%2Fxena~Ia715e0506e45ead6ed8ecffac3fbd70e9849da13,openstack/openstack-ansible-os_octavia,stable/xena,osa/centos_distro-stable/xena,Ia715e0506e45ead6ed8ecffac3fbd70e9849da13,Fix distro support option for Octavia,MERGED,2022-05-26 15:32:08.000000000,2022-05-27 15:45:03.000000000,2022-05-27 15:43:01.000000000,3,12,0,843408,a6d0972061144812fa18261dd4051a2d1d789e73,9,3,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix distro support option for Octavia

Distro instalaltion has been broken for a while and CI disabled for it.
With this commit we're fixing path and returning back
CI testing of it.

Change-Id: Ia715e0506e45ead6ed8ecffac3fbd70e9849da13
(cherry picked from commit ebac6ccb5e002b2190c065b468f39506dd7f247a)
"
openstack%2Fkeystone~master~I7b0058961e3a48a880c73b05113efb17de99356d,openstack/keystone,master,yourijing,I7b0058961e3a48a880c73b05113efb17de99356d,"fix error, if two password create at same time, maybe not chose right",NEW,2022-01-05 15:11:17.000000000,2022-05-27 15:44:26.000000000,,2,1,5,823551,d9ebab7ef955e4c34ebc63c8f37b7d6940febb77,10,5,2,1,34392,bieji,linjiang,"fix error, if two password create at same time, maybe not chose right

Change-Id: I7b0058961e3a48a880c73b05113efb17de99356d
"
openstack%2Ftap-as-a-service~master~I0ec7fef934e63eff76dd30bb1fb28c8277f1a749,openstack/tap-as-a-service,master,dontdelete/clean_ovs_method_calls,I0ec7fef934e63eff76dd30bb1fb28c8277f1a749,Code cleaning: make RPC method signatures more meaningful,MERGED,2022-03-11 15:51:34.000000000,2022-05-27 15:42:40.000000000,2022-05-27 15:42:40.000000000,134,44,14,833432,002de246957f954e666ba873130d53d2ebf50de5,26,5,4,5,8313,Lajos Katona,elajkat,"Code cleaning: make RPC method signatures more meaningful

Change RPC calls like create_tap_service or create_tap_flow signature
to avoid parameter names like tap_service which is really a dict of
values.

Change-Id: I0ec7fef934e63eff76dd30bb1fb28c8277f1a749
"
openstack%2Fopenstack-ansible-os_octavia~stable%2Fwallaby~Ia715e0506e45ead6ed8ecffac3fbd70e9849da13,openstack/openstack-ansible-os_octavia,stable/wallaby,osa/centos_distro-stable/wallaby,Ia715e0506e45ead6ed8ecffac3fbd70e9849da13,Fix distro support option for Octavia,MERGED,2022-05-26 15:32:17.000000000,2022-05-27 15:41:26.000000000,2022-05-27 15:38:00.000000000,3,12,0,843409,53019323c41d933aa085a69ff8259deee383b9f3,9,3,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix distro support option for Octavia

Distro instalaltion has been broken for a while and CI disabled for it.
With this commit we're fixing path and returning back
CI testing of it.

Change-Id: Ia715e0506e45ead6ed8ecffac3fbd70e9849da13
(cherry picked from commit ebac6ccb5e002b2190c065b468f39506dd7f247a)
"
openstack%2Fcinder~master~I992a0866abf36595821014f66cc437c3db52d898,openstack/cinder,master,,I992a0866abf36595821014f66cc437c3db52d898,tox.ini: combine functional-py* envs,MERGED,2022-05-24 14:48:19.000000000,2022-05-27 15:14:11.000000000,2022-05-27 15:11:54.000000000,1,5,3,843153,7851d9173dc07d6a0da61fc46bcef16baaeecaa8,28,4,1,1,4523,Eric Harney,eharney,"tox.ini: combine functional-py* envs

We can use tox's generative envlists instead
of duplicating these entries.

Change-Id: I992a0866abf36595821014f66cc437c3db52d898
"
openstack%2Fopenstack-ansible~master~I2e7123881d7ff322f15f185a4df1f2923c44eae0,openstack/openstack-ansible,master,bug/1975719,I2e7123881d7ff322f15f185a4df1f2923c44eae0,Change unbound role source,MERGED,2022-05-26 13:57:44.000000000,2022-05-27 15:02:10.000000000,2022-05-27 15:00:24.000000000,1,1,1,843468,bb7577717fefa0b7467bb189794e7ebddc707e52,11,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Change unbound role source

Unbound role was unmaintained for a while, and missing features, like
Debain installation or CentOS 8/9

Role has been forked and CI was fixed on it. It can be moved to opendev
as a next step.

Closes-Bug: #1975719
Change-Id: I2e7123881d7ff322f15f185a4df1f2923c44eae0
"
openstack%2Fcharm-nova-compute~master~I51382f70f019071f4442f717dbc749ff2e7b8202,openstack/charm-nova-compute,master,,I51382f70f019071f4442f717dbc749ff2e7b8202,Ensure vgpu services restarted in package_upgrade action,MERGED,2022-05-16 14:51:57.000000000,2022-05-27 14:45:16.000000000,2022-05-27 14:45:16.000000000,3,0,2,841907,06856f151cb4d7f7c1844513edfe32f6f3ff58ed,10,3,2,1,11805,Corey Bryant,coreycb,"Ensure vgpu services restarted in package_upgrade action

Change-Id: I51382f70f019071f4442f717dbc749ff2e7b8202
"
openstack%2Fvalidations-libs~master~Ib302190408c4c684b96cc30e9cf2cb6b1c00c086,openstack/validations-libs,master,mandocs,Ib302190408c4c684b96cc30e9cf2cb6b1c00c086,Man pages compatibility,MERGED,2022-05-26 13:44:19.000000000,2022-05-27 14:39:22.000000000,2022-05-27 14:37:55.000000000,14,6,0,843464,9ed3888273b7f9704ed962cca02ae8f2c8f41144,18,4,6,2,32926,Jiri Podivin,jpodivin,"Man pages compatibility

Created section describing structure of our man pages.
Removed superflous title in the CLI documentation to improve
man page readability.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ib302190408c4c684b96cc30e9cf2cb6b1c00c086
"
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I7a2867329f65af6330abccb1954bf49b92cd8721,openstack/ansible-collections-openstack,stable/1.0.0,breaking-changes-warning,I7a2867329f65af6330abccb1954bf49b92cd8721,Warn users about us breaking backward compatibility,MERGED,2022-05-27 12:48:28.000000000,2022-05-27 14:37:57.000000000,2022-05-27 14:37:57.000000000,34,1,0,843528,970fb2489cac2878044315f72fef26eae309b900,9,3,2,1,32962,Jakob Meng,jakobmeng@web.de,"Warn users about us breaking backward compatibility

Change-Id: I7a2867329f65af6330abccb1954bf49b92cd8721
(cherry picked from commit dee39a71b685b847049d551bd29309f84cd4b13b)
"
openstack%2Ftripleo-ansible~master~If196dfcd0fd2cec3b7784394e86c4addbfbf039d,openstack/tripleo-ansible,master,ceph_apply_net_conf,If196dfcd0fd2cec3b7784394e86c4addbfbf039d,Do not set Ceph network options in assimilate_ceph.conf,MERGED,2022-05-25 11:52:46.000000000,2022-05-27 14:37:53.000000000,2022-05-27 14:37:53.000000000,52,13,16,843265,1c84f6a5ff90cf9789c42d77488c4d9deb35c90d,25,5,3,4,18002,John Fulton,fultonj,"Do not set Ceph network options in assimilate_ceph.conf

Configure the four paramters (public_network, cluster_network,
ms_bind_ipv4 and ms_bind_ipv6) in cephadm_config_set.yaml tasks
file instead of in ceph.conf.j2 template.

If a user overrides the tripleo_cephadm_assimilate_conf file
to provide their own initial Ceph configuration file without
any network configuration, then we don't want to loose the
network configuration that would have been set from the
ceph.conf.j2 template. Thus, we'll ensure the correct network
configuration can happen even if the ceph.conf.j2 template is
not used.

If the tripleo_cephadm_assimilate_conf file contains any of
the four parameters, then those parameters will not be set
via cephadm_config_set.yaml tasks. This allows users to
still override the four parameters via the --config option.

The cephadm_config_set.yaml tasks are always called by the
apply_spec.yaml tasks before the spec is applied. Thus, we'll
know the correct networks are set before any other daemons are
added with the exception of the first bootstrapped mon/mgr
daemons. The public_network for them is set implicitly via the
--mon-ip option.

Change-Id: If196dfcd0fd2cec3b7784394e86c4addbfbf039d
"
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I49a7b50aee45197d9309d959ff49e763f370619b,openstack/ansible-collections-openstack,stable/1.0.0,bifrost_jobs-stable,I49a7b50aee45197d9309d959ff49e763f370619b,Use bifrost's stable/yoga branch for jobs with OpenStack SDK 0.x.x,MERGED,2022-05-27 06:28:43.000000000,2022-05-27 14:36:37.000000000,2022-05-27 14:36:37.000000000,10,4,0,843569,8cc678acc1cc62b485ea1e49d41b1cfea353431b,10,4,2,1,32962,Jakob Meng,jakobmeng@web.de,"Use bifrost's stable/yoga branch for jobs with OpenStack SDK 0.x.x

Bifrost's master branch installs the latest OpenStack SDK from PyPI
which currently is the first release candidate (0.99.0) of the
upcoming first major release of OpenStack SDK 1.0.0. Jobs on our
stable/1.0.0 branch are compatible with older releases of OpenStack SDK
only. This patch does checkout stable/yoga branch of Bifrost which
installs a sufficiently old release of OpenStack SDK due to
opendev.org/openstack/requirements/upper-constraints.txt.

Change-Id: I49a7b50aee45197d9309d959ff49e763f370619b
"
openstack%2Fcinder~master~I55eb10c96357bbc01f2ac430661f2380ab34551a,openstack/cinder,master,known-issues,I55eb10c96357bbc01f2ac430661f2380ab34551a,PowerMax Docs - Known issues section,MERGED,2022-05-24 08:32:18.000000000,2022-05-27 14:34:22.000000000,2022-05-27 14:32:55.000000000,9,0,1,843118,e65c01af7561d5ec537a640bffd39860ec230191,36,2,2,1,33502,Oleg,olegnest,"PowerMax Docs - Known issues section

Section with known issues of the current OpenStack release.

Change-Id: I55eb10c96357bbc01f2ac430661f2380ab34551a
"
openstack%2Fkolla-ansible~master~I62eca15e12da8599fdc1bd0d4f0472f42b54249f,openstack/kolla-ansible,master,dnm-ci-cinder-upgrade,I62eca15e12da8599fdc1bd0d4f0472f42b54249f,[DNM] [CI] Cinder upgrade test,ABANDONED,2022-05-27 08:46:40.000000000,2022-05-27 14:31:52.000000000,,23,89,0,843583,9fe63b12afd43ef9e5316de33ce71145ea0e0e94,6,1,3,3,30491,Radosław Piliszek,yoctozepto,"[DNM] [CI] Cinder upgrade test

single-node, w/o ceph, ubuntu-only

Change-Id: I62eca15e12da8599fdc1bd0d4f0472f42b54249f
"
openstack%2Fpython-openstackclient~master~I0128244549dd580272d6fc792ecb1dcf1bce21db,openstack/python-openstackclient,master,ovn-as-default,I0128244549dd580272d6fc792ecb1dcf1bce21db,Add new job osc-functional-devstack-neutron-ovs,ABANDONED,2021-05-26 11:06:30.000000000,2022-05-27 14:22:56.000000000,,15,7,0,793143,abaeadbdc80fbccdfb48fb0a91609ed64cd34e99,18,1,7,1,11975,Slawek Kaplonski,slaweq,"Add new job osc-functional-devstack-neutron-ovs

Recently default Neutron's backend in Devstack was changed to ML2/OVN
and that caused some failures of the osc-functional-devstack job.

In [1] we explicitly configured ML2/OVS Neutron backend to be still used
in that functional tests job to unblock our gate.

But we should really run that job with Devstack's default settings.
So, as functional tests issues which were causing failures on the
ML2/OVN backend are now fixed, this patch switches
osc-functional-devstack job to the Devstack's defaults (ML2/OVN).
But to ensure that we have some coverage as we had before, this patch
also adds new job osc-functional-devstack-neutron-ovs which runs Neutron
with ML2/OVS backend to be able to test e.g. some DHCP/L3 agents API
which aren't available when OVN is used.

[1] https://review.opendev.org/c/openstack/python-openstackclient/+/791315

Change-Id: I0128244549dd580272d6fc792ecb1dcf1bce21db
"
openstack%2Fneutron~master~I77806f511ac8171d0ba2719c967159aa387e8492,openstack/neutron,master,sanity-checker,I77806f511ac8171d0ba2719c967159aa387e8492,Use neutron-status for sanity checks,ABANDONED,2018-12-26 21:17:25.000000000,2022-05-27 14:22:53.000000000,,179,11,6,627424,dfa15b4e83187488d6f57d97e5654c04e5115847,38,15,7,10,11975,Slawek Kaplonski,slaweq,"Use neutron-status for sanity checks

In neutron there is CLI tool to do sanity checks. Now, as we
have ""neutron-status upgrade check"" tool, we can unify it with
this ""neutron-sanity-check"" tool and use it in same was, like:
""neutron-status sanity check"".

This patch adds only base ""framework"" for sanity checks.
Real checks from old sanity-check tool will be migrated
later.

Related-Bug: #1809878

Change-Id: I77806f511ac8171d0ba2719c967159aa387e8492
"
openstack%2Fopenstack-ansible-os_rally~stable%2Fvictoria~I64d3229b0eea9cfdac690576b8082a7bc38cd23f,openstack/openstack-ansible-os_rally,stable/victoria,,I64d3229b0eea9cfdac690576b8082a7bc38cd23f,Disable setuptools auto discovery,MERGED,2022-05-26 15:14:07.000000000,2022-05-27 14:07:54.000000000,2022-05-27 14:06:38.000000000,1,0,0,843487,be7edfdbaee22f69b6c3d2e3f29d4fdde78803cf,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Disable setuptools auto discovery

Jobs are broken due to a release of setuptools 61.0 introducing
non-backwards compatible breaking changes [1]

Setting py_modules to an empty string here will disable autodiscovery
and should permit jobs to run as before.

[1] https://github.com/pypa/setuptools/issues/3197

Change-Id: I64d3229b0eea9cfdac690576b8082a7bc38cd23f
"
openstack%2Ftripleo-docs~master~I99617f858d1fa02bb38084790114f9141cfbf459,openstack/tripleo-docs,master,ceph_apply_net_conf,I99617f858d1fa02bb38084790114f9141cfbf459,Document Ceph Network Change,MERGED,2022-05-25 13:13:04.000000000,2022-05-27 14:04:44.000000000,2022-05-27 14:03:17.000000000,27,22,0,843282,16e104ee4c461294e0d920286dd633d302b5ba34,14,4,2,1,18002,John Fulton,fultonj,"Document Ceph Network Change

How network data is handled when commands like 'openstack
overcloud ceph deploy --config ... --network-data' are run
has been imporved via the Depends-On patch. This docs patch
explains how these two options interact.

Change-Id: I99617f858d1fa02bb38084790114f9141cfbf459
"
openstack%2Fopenstack-ansible-repo_server~master~I4f32c03179a1d8814548a92fc714a5fd9dd3f433,openstack/openstack-ansible-repo_server,master,osa-gluster,I4f32c03179a1d8814548a92fc714a5fd9dd3f433,"Remove all code for lsync, rsync and ssh",MERGED,2022-04-12 15:24:51.000000000,2022-05-27 13:59:08.000000000,2022-05-27 13:57:53.000000000,3,889,12,837588,03b55edaaeaf9e9e44371578bb7a179a063f26d9,82,4,28,14,25023,Jonathan Rosser,jrosser,"Remove all code for lsync, rsync and ssh

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/842571
Change-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433
"
openstack%2Fpython-neutronclient~master~I79d9a7a3ae33259179f20b677a62070a3963c698,openstack/python-neutronclient,master,bug/1921461,I79d9a7a3ae33259179f20b677a62070a3963c698,Add neutron and osc commands for bgp speaker router association,ABANDONED,2021-08-03 07:58:30.000000000,2022-05-27 13:58:55.000000000,,472,0,39,803318,113e87f84690b40526d28393ccaba42263206ee0,33,5,8,6,33273,Manu B,eceghkl,"Add neutron and osc commands for bgp speaker router association

Signed-off-by: Manu B <manu.b@est.tech>
Change-Id: I79d9a7a3ae33259179f20b677a62070a3963c698
"
openstack%2Fpython-neutronclient~master~I4b6496a398df864acd812de30fad5878578767f9,openstack/python-neutronclient,master,bug/1921461,I4b6496a398df864acd812de30fad5878578767f9,Add neutron and osc commands for bgp speaker peer association,ABANDONED,2021-08-04 10:29:08.000000000,2022-05-27 13:58:37.000000000,,377,0,19,803458,0f46dd99d70cbe345f172396568b8ca863a2041f,25,3,5,6,33273,Manu B,eceghkl,"Add neutron and osc commands for bgp speaker peer association

Signed-off-by: Manu B <manu.b@est.tech>
Change-Id: I4b6496a398df864acd812de30fad5878578767f9
"
openstack%2Fcoverage2sql~master~Ie0e0df49b442aac9271b31467c2d19eaf2c465f7,openstack/coverage2sql,master,fix-rel-formatting,Ie0e0df49b442aac9271b31467c2d19eaf2c465f7,Fix formattiing of release list,MERGED,2022-05-27 12:02:37.000000000,2022-05-27 13:57:12.000000000,2022-05-27 13:55:58.000000000,3,3,0,843609,625bddff526c2bdd3c56307859ebcfa534d05820,7,2,1,1,28522,Hervé Beraud,hberaud,"Fix formattiing of release list

Change-Id: Ie0e0df49b442aac9271b31467c2d19eaf2c465f7
"
openstack%2Fcliff~master~Ieb80faf01d87e7fa7d717b74de6c5ec518ef9b05,openstack/cliff,master,slow-imports,Ieb80faf01d87e7fa7d717b74de6c5ec518ef9b05,Update Python testing per Zed cycle testing runtime,MERGED,2022-05-25 16:18:26.000000000,2022-05-27 13:30:54.000000000,2022-05-27 13:29:50.000000000,2,3,0,843312,3e2e0139dec5592a328eafc0f76a4ca2489062c5,8,3,1,1,15334,Stephen Finucane,sfinucan,"Update Python testing per Zed cycle testing runtime

In the Zed cycle, we have dropped the Python 3.6/3.7 [1] testing and its
support. Update the Python classifiers to reflect this.

Change-Id: Ieb80faf01d87e7fa7d717b74de6c5ec518ef9b05
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpython-tripleoclient~master~I9f44d65c5493ab70842dc97a0e813c83fe777ab9,openstack/python-tripleoclient,master,inclusive_language,I9f44d65c5493ab70842dc97a0e813c83fe777ab9,Replace non-inclusive language,MERGED,2021-12-01 22:42:33.000000000,2022-05-27 13:06:38.000000000,2022-05-27 13:04:34.000000000,24,19,11,820078,6442450a2142ca2fe5d375b9623d7a9380b80393,89,4,30,4,30073,Brendan Shephard,bshephar,"Replace non-inclusive language

In an effort to remove non-inclusive language from
our code. This patch changes the language where ever
practical to use the terms excluded and included.

Change-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9
"
openstack%2Fpython-tripleoclient~master~I0358500485d72c78c5f987ec48c86e6daca26aef,openstack/python-tripleoclient,master,,I0358500485d72c78c5f987ec48c86e6daca26aef,Set yaql limit iterators to 10000 for ephemeral Heat,MERGED,2022-05-02 11:53:49.000000000,2022-05-27 13:05:41.000000000,2022-05-27 13:04:31.000000000,1,1,4,840173,53030b9eb38732ff898d5e6c61e0b3c57b9e4c5f,12,3,1,1,7144,James Slagle,slagle,"Set yaql limit iterators to 10000 for ephemeral Heat

This setting should be 10000, not 9000. 10000 matches what we were
previously configuring on the undercloud with installed Heat.

Change-Id: I0358500485d72c78c5f987ec48c86e6daca26aef
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fnova~master~Ia1411f11ec4bf44af6a42d5f96c8a0903846ed66,openstack/nova,master,extend-luksv2,Ia1411f11ec4bf44af6a42d5f96c8a0903846ed66,Fix extending non LUKSv1 encrypted volumes,MERGED,2022-03-31 18:00:38.000000000,2022-05-27 12:50:32.000000000,2022-05-27 12:10:07.000000000,77,2,4,836064,8fbaeba11f445bcf6c6be1f5f7b7aeeb6995c9cd,41,6,2,3,9535,Gorka Eguileor,Gorka,"Fix extending non LUKSv1 encrypted volumes

Patch fixing bug #1861071 resolved the issue of extending LUKS v1
volumes when nova connects them via libvirt instead of through os-brick,
but nova side still fails to extend in-use volumes when they don't go
through libvirt (i.e., LUKS v2).

The logs will show a very similar error, but the user won't know that
this has happened and Cinder will show the new size:

 libvirt.libvirtError: internal error: unable to execute QEMU command
 'block_resize': Cannot grow device files

There are 2 parts to this problem:

- The device mapper device is not automatically extended.
- Nova tries to use the encrypted block device size as the size of the
  decrypted device.

This patch leverages the ""extend_volume"" method in os-brick connectors
to extend the device mapper device, after the encrypted device has been
extended, and use the size of the decrypted volume for the block_resize
operation.

Related change: I351f1a7769c9f915e4cd280f05a8b8b87f40df84
Closes-Bug: #1967157
Change-Id: Ia1411f11ec4bf44af6a42d5f96c8a0903846ed66
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I497e5caa4ccb9a649f89ebe2cfb98c43505a4445,openstack/python-tripleoclient,stable/wallaby,bug/1968958-stable/wallaby,I497e5caa4ccb9a649f89ebe2cfb98c43505a4445,Exclude empty string from no_proxy,MERGED,2022-05-04 07:33:19.000000000,2022-05-27 12:42:57.000000000,2022-05-27 12:41:41.000000000,1,2,0,840345,71420abff0f1696067cd96d056dd13b1015758cc,10,5,1,1,9816,Takashi Kajinami,kajinamit,"Exclude empty string from no_proxy

The no_proxy environment can exist with an empty value, and it should
be ignored when generating no_proxy setting.

Change-Id: I497e5caa4ccb9a649f89ebe2cfb98c43505a4445
Closes-Bug: #1968958
(cherry picked from commit 2231afdb4d59e1a8b9a626c4bd4e4a9df879fea4)
"
openstack%2Ftripleo-heat-templates~master~Idf5a5a5d98547a3aaff0afe95d3d0523703ce0b1,openstack/tripleo-heat-templates,master,fix_failure_keystone_deploy_undercloud,Idf5a5a5d98547a3aaff0afe95d3d0523703ce0b1,Fix deploy failure of keystone for undercloud,MERGED,2022-05-20 12:54:18.000000000,2022-05-27 12:41:38.000000000,2022-05-27 12:41:38.000000000,2,2,2,842705,3378b4c37e1cc94bd973b7dd0743c24f259526b8,11,6,1,1,34260,Masayoshi Mizuma,mmizuma,"Fix deploy failure of keystone for undercloud

With enable_keystone = true in undercloud.conf, openstack undercloud
install command fails as follows:

  Exception: Could not fetch contents for file:///home/stack/tripleo-deploy/undercloud/tripleo-heat-installer-templates/environments/deployment/keystone/keystone-container-puppet.yaml
  Traceback (most recent call last):
    File ""/usr/lib64/python3.6/urllib/request.py"", line 1505, in open_local_file
      stats = os.stat(localfile)
  FileNotFoundError: [Errno 2] No such file or directory: '/home/stack/tripleo-deploy/undercloud/tripleo-heat-installer-templates/environments/deployment/keystone/keystone-container-puppet.yaml'

Fix the path of the yaml file.

Change-Id: Idf5a5a5d98547a3aaff0afe95d3d0523703ce0b1
"
openstack%2Fkolla-ansible~master~If07bfcb824b3f8c0fbeee964eb3048570058553a,openstack/kolla-ansible,master,bp/dhcp-rpn-az-name-custom,If07bfcb824b3f8c0fbeee964eb3048570058553a,Add a variable to set availability zone name.,ABANDONED,2022-05-25 21:48:53.000000000,2022-05-27 12:35:55.000000000,,16,0,1,843348,c751f408f3b114380b3727284b01ae0c4d28c436,7,2,3,3,31357,LEDUC Florian,leducflorian,"Add a variable to set availability zone name.

It may be useful to set up the proper availability zone name for DHCP
agents especially for RPN deployments

Implements: bp/dhcp-rpn-az-name-custom
Change-Id: If07bfcb824b3f8c0fbeee964eb3048570058553a
"
openstack%2Fneutron~master~Ib2880b8fa61ae7691c527b837045cfa15226072c,openstack/neutron,master,bug/1962153,Ib2880b8fa61ae7691c527b837045cfa15226072c,Bump neutron-lib to 2.21.0,MERGED,2022-05-10 10:02:30.000000000,2022-05-27 12:14:48.000000000,2022-05-27 12:12:08.000000000,1,1,6,841246,88fb5416f7169bd3542bca6af0192f935c8cc18e,26,6,3,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Bump neutron-lib to 2.21.0

This new neutron-lib version contains the patch [1], that provides
compatibility with SQLAlchemy 2.0.

[1]https://review.opendev.org/c/openstack/neutron-lib/+/828738

Related-Bug: #1962153
Topic: sqlalchemy-20
Change-Id: Ib2880b8fa61ae7691c527b837045cfa15226072c
"
openstack%2Fneutron~master~Ifb500eef5513e930bf3a22d99183ca348e5fc427,openstack/neutron,master,bug/1975837,Ifb500eef5513e930bf3a22d99183ca348e5fc427,Refactor the OVN revision module to access the DB correctly,MERGED,2022-05-26 14:59:11.000000000,2022-05-27 12:13:41.000000000,2022-05-27 12:12:03.000000000,12,11,4,843478,39d751a33265e8780828b3aca10a781726d0a300,31,5,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Refactor the OVN revision module to access the DB correctly

Method ``_ensure_revision_row_exist`` creates a DB reader context
when called from ``bump_revision``. This call is always done from
inside a DB write context. This method removes the unneded reader
context.

Closes-Bug: #1975837
Change-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I62da6480843bd56302503d7f312d040dada6cd82,openstack/networking-ovn,stable/train,bug/1967472,I62da6480843bd56302503d7f312d040dada6cd82,[OVN] Pin OVS/OVN versions in Octavia job,MERGED,2022-05-26 14:53:41.000000000,2022-05-27 12:13:25.000000000,2022-05-27 12:11:07.000000000,10,2,4,843477,0a315ea22dee2693e5743a4bc3b94ebb20666dac,12,5,2,2,13861,yatin,yatinkarel,"[OVN] Pin OVS/OVN versions in Octavia job

Octavia job is also broken during compilation,
Pin to working OVN/OVN versions as done with
the rally job[1].

This patch also updates irrelevant files to ignore changes
in all job config files except zuul.d/project.yaml(as
this contains the list of jobs to run not their definitions).
With this only the jobs whose definitions are updated(along with
it's child jobs) will be triggered because by default
match-on-config-updates is set to true for a job[1] and
that ignores files or irrelevant-files for a job inclusion.

[1] https://review.opendev.org/c/openstack/networking-ovn/+/839070
[2] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates

Related-Bug: #1967472
Change-Id: I62da6480843bd56302503d7f312d040dada6cd82
"
openstack%2Fansible-collections-openstack~master~I7a2867329f65af6330abccb1954bf49b92cd8721,openstack/ansible-collections-openstack,master,breaking-changes-warning,I7a2867329f65af6330abccb1954bf49b92cd8721,Warn users about us breaking backward compatibility,MERGED,2022-05-26 08:45:42.000000000,2022-05-27 12:10:31.000000000,2022-05-27 12:10:31.000000000,33,10,6,843419,dee39a71b685b847049d551bd29309f84cd4b13b,11,6,2,1,32962,Jakob Meng,jakobmeng@web.de,"Warn users about us breaking backward compatibility

Change-Id: I7a2867329f65af6330abccb1954bf49b92cd8721
"
openstack%2Fceilometermiddleware~master~Ic9bfcbf4c8c704f5fb37f9407888014813b37503,openstack/ceilometermiddleware,master,fix-rel-formatting,Ic9bfcbf4c8c704f5fb37f9407888014813b37503,Fix formatting of release list,NEW,2022-05-27 11:56:17.000000000,2022-05-27 12:01:23.000000000,,15,15,0,843607,0734b858213b85d839571fb5e709ddb81fb53440,3,1,2,1,28522,Hervé Beraud,hberaud,"Fix formatting of release list

Change-Id: Ic9bfcbf4c8c704f5fb37f9407888014813b37503
"
openstack%2Fskyline-console~master~I553a20e9fa620f2cda3509b52d801894d230040c,openstack/skyline-console,master,master4,I553a20e9fa620f2cda3509b52d801894d230040c,fix: Add unit to memory quota,MERGED,2022-05-27 08:24:41.000000000,2022-05-27 11:57:24.000000000,2022-05-27 11:57:24.000000000,78,83,0,843580,eec23aebf01d902300ee8aa6a182cfb2db4aab1e,7,3,1,6,30434,Jingwei.Zhang,jwzhang,"fix: Add unit to memory quota

1. Add GiB unit to memory quota
2. Fix database && container volume size unit to GiB

Change-Id: I553a20e9fa620f2cda3509b52d801894d230040c
"
openstack%2Fopenstack-ansible-os_octavia~master~I8162e83d39075cd99c516b84c39ed868306283c3,openstack/openstack-ansible-os_octavia,master,,I8162e83d39075cd99c516b84c39ed868306283c3,Add flexability for octavia cinder variable.,MERGED,2022-04-26 13:00:20.000000000,2022-05-27 11:49:58.000000000,2022-05-27 11:48:48.000000000,12,4,4,839373,3e10d40b101403f4616e955c227f4c8f4c616255,20,3,4,3,29605,Siavash Sardari,siavash.sardari,"Add flexability for octavia cinder variable.

Introduces 3 new variables cinder_default_availability_zone, octavia_cinder_volume_size and octavia_cinder_volume_type. using these variables, enables Octavia to use different Cinder configurations.

Change-Id: I8162e83d39075cd99c516b84c39ed868306283c3
"
openstack%2Fsecurity-doc~master~I8cbce18eb1fa03471d15fa90bf7fac171903c41e,openstack/security-doc,master,,I8cbce18eb1fa03471d15fa90bf7fac171903c41e,Obsolete removed manila config,MERGED,2022-05-18 08:10:04.000000000,2022-05-27 11:49:19.000000000,2022-05-27 11:47:53.000000000,9,0,0,842284,d6de852447bd7646306fdaf479ff4f6cb629da38,10,3,2,1,8064,Jake Yip,jake,"Obsolete removed manila config

nova_api_insecure, cinder_api_insecure were deprecated in Train[1] and
removed in Ussuri[2]

There is no mention of neutron_api_insecure, but a grep of the source
does not reflect anything so I assume this has been removed too, or is a
typo, as there is a 'api_insecure' under [neutron] that has also been
removed.

[1] https://review.opendev.org/c/openstack/manila/+/626506
[2] https://review.opendev.org/c/openstack/manila/+/745206

Change-Id: I8cbce18eb1fa03471d15fa90bf7fac171903c41e
"
openstack%2Fsecurity-doc~master~Id86ed5e77f7c088cf408aea53c6d3fcdfd0a192e,openstack/security-doc,master,,Id86ed5e77f7c088cf408aea53c6d3fcdfd0a192e,Replacing Keystone config with www_authenticate_uri,MERGED,2022-05-18 08:10:04.000000000,2022-05-27 11:44:07.000000000,2022-05-27 11:43:04.000000000,19,27,3,842283,f6fd4bf8fb22503ebe4e4eae46e842a08a5e1db9,11,3,2,2,8064,Jake Yip,jake,"Replacing Keystone config with www_authenticate_uri

identity_uri and auth_protocol is deprecated[1]. Update docs with new
www_authenticate_uri config option following other services (nova).

[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/127066

Change-Id: Id86ed5e77f7c088cf408aea53c6d3fcdfd0a192e
"
openstack%2Fneutron~stable%2Fwallaby~I34f3bbf7d30ddce23758ffb513abff0500b1fad6,openstack/neutron,stable/wallaby,neutron-ci-improvements,I34f3bbf7d30ddce23758ffb513abff0500b1fad6,Switch to cirros uec image in multinode jobs,MERGED,2022-05-26 12:38:49.000000000,2022-05-27 11:24:37.000000000,2022-05-27 11:20:42.000000000,15,0,1,843456,3995b269219b9df5c9825777d8baf50af14f31b9,10,4,1,1,13861,yatin,yatinkarel,"Switch to cirros uec image in multinode jobs

Kernel panic is seen in these jobs as well,
let's switch to cirros uec image to avoid it.

singlenode jobs already switched with
https://review.opendev.org/q/Ic57f828c08f1793226759baedb3eb2f646191e1f.

Change-Id: I34f3bbf7d30ddce23758ffb513abff0500b1fad6
(cherry picked from commit e04bd8fbdfa56320d16870b1f294b2cb62b8a828)
(cherry picked from commit 90a440b081401f036c417067903fc33dbeee618d)
Conflicts: zuul.d/tempest-multinode.yaml
(cherry picked from commit b371264f9f13ba7ba8a8f79cba37a07742ff1138)
Conflicts:
	zuul.d/tempest-multinode.yaml
"
openstack%2Fneutron~master~Ifa04bb59f4b9acd308299cfa44f2316394d14505,openstack/neutron,master,bug/1971672,Ifa04bb59f4b9acd308299cfa44f2316394d14505,[OVN][FT] Wait until virtual parents are written,MERGED,2022-05-10 14:51:08.000000000,2022-05-27 11:24:30.000000000,2022-05-27 11:20:47.000000000,2,0,5,841298,494c477b21ebbaa441b55d63755af72cc24244af,14,7,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN][FT] Wait until virtual parents are written

In ""test_virtual_port_host_update"", wait until VIP virtual parents
have been updated in the SB ""Port_Binding"" register. Then, the
test should check if ""update_virtual_port_host"" has been called or
not.

Closes-Bug: #1971672
Change-Id: Ifa04bb59f4b9acd308299cfa44f2316394d14505
"
openstack%2Fneutron~stable%2Fxena~I34f3bbf7d30ddce23758ffb513abff0500b1fad6,openstack/neutron,stable/xena,neutron-ci-improvements,I34f3bbf7d30ddce23758ffb513abff0500b1fad6,Switch to cirros uec image in multinode jobs,MERGED,2022-05-26 12:31:20.000000000,2022-05-27 11:24:20.000000000,2022-05-27 11:20:38.000000000,9,0,0,843453,b371264f9f13ba7ba8a8f79cba37a07742ff1138,10,4,1,1,13861,yatin,yatinkarel,"Switch to cirros uec image in multinode jobs

Kernel panic is seen in these jobs as well,
let's switch to cirros uec image to avoid it.

singlenode jobs already switched with
https://review.opendev.org/q/Ic57f828c08f1793226759baedb3eb2f646191e1f.

Change-Id: I34f3bbf7d30ddce23758ffb513abff0500b1fad6
(cherry picked from commit e04bd8fbdfa56320d16870b1f294b2cb62b8a828)
(cherry picked from commit 90a440b081401f036c417067903fc33dbeee618d)
Conflicts: zuul.d/tempest-multinode.yaml
"
openstack%2Fneutron~stable%2Fyoga~I34f3bbf7d30ddce23758ffb513abff0500b1fad6,openstack/neutron,stable/yoga,neutron-ci-improvements-stable/yoga,I34f3bbf7d30ddce23758ffb513abff0500b1fad6,Switch to cirros uec image in multinode jobs,MERGED,2022-05-26 12:18:36.000000000,2022-05-27 11:24:11.000000000,2022-05-27 11:20:34.000000000,12,0,0,843396,90a440b081401f036c417067903fc33dbeee618d,9,4,1,1,13861,yatin,yatinkarel,"Switch to cirros uec image in multinode jobs

Kernel panic is seen in these jobs as well,
let's switch to cirros uec image to avoid it.

singlenode jobs already switched with
https://review.opendev.org/q/Ic57f828c08f1793226759baedb3eb2f646191e1f.

Change-Id: I34f3bbf7d30ddce23758ffb513abff0500b1fad6
(cherry picked from commit e04bd8fbdfa56320d16870b1f294b2cb62b8a828)
"
openstack%2Fneutron~master~Ib19dacf886486876237ed1157fb95ae157ed430e,openstack/neutron,master,bug/1975542,Ib19dacf886486876237ed1157fb95ae157ed430e,"Remove session active check in ""_add_segment_host_mapping_for_segment""",MERGED,2022-05-25 15:15:13.000000000,2022-05-27 11:23:09.000000000,2022-05-27 11:20:25.000000000,0,7,3,843294,d89d7bd5e6477a1ad24165831dbc5f1e2fc357b5,24,4,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Remove session active check in ""_add_segment_host_mapping_for_segment""

Method ``_add_segment_host_mapping_for_segment`` is called by the event
(resources.SEGMENT, events.PRECOMMIT_CREATE), from
``SegmentDbMixin._create_segment_db``, and is called inside a database
writer context. That means it is irrelevant to check if the session is
active (must be always).

Closes-Bug: #1975542
Change-Id: Ib19dacf886486876237ed1157fb95ae157ed430e
"
openstack%2Fneutron~master~I1a739ee045b49e9b44283c28f95b1accc8a1e37f,openstack/neutron,master,retire-neutron-fwaas,I1a739ee045b49e9b44283c28f95b1accc8a1e37f,"Revert ""doc: Remove fwaas references from docs""",MERGED,2022-05-16 08:52:41.000000000,2022-05-27 11:20:30.000000000,2022-05-27 11:20:30.000000000,235,17,7,841748,7c4f273ed9c0aa9c6363e7e34e08a07c41e2a2cb,15,8,2,18,8313,Lajos Katona,elajkat,"Revert ""doc: Remove fwaas references from docs""

This reverts commit bce27811dfea634118fdb609289ac70c8d4a6854.

Reason for revert: neutron-fwaas has maintainers so the documentation should be available.

Due to changes since the original deletion commit the following changes
were added:
* Add note that OVN is not yet supported
* Remove note that Horizon support is not available

Change-Id: I1a739ee045b49e9b44283c28f95b1accc8a1e37f
"
openstack%2Fdesignate-dashboard~stable%2Fyoga~I867f776b056a90a85f57ff2c84f5f0d8a230b242,openstack/designate-dashboard,stable/yoga,sync_with_xena,I867f776b056a90a85f57ff2c84f5f0d8a230b242,"Fixes for Zones panel, reload behaviour and record field validation",ABANDONED,2022-05-26 14:20:35.000000000,2022-05-27 11:18:02.000000000,,17,11,0,843471,e1c9243c006119f0904f2e37e675385dc804a3ef,3,1,1,7,7549,Ekaterina Chernova,efedorova,"Fixes for Zones panel, reload behaviour and record field validation

(cherry picked from commit d34372a10bc79aa5f09118bf078d14cb4321086c)
(cherry picked from commit 88b814d48453d46af9119d43c2e46110098e3a04)
(cherry picked from commit 3c5b351dd87a87723de14ec0fded7baaeefdbf4f)

Previous picks:
(cherry picked from commit 2c4850179e65423cb6be095f75069a039ae3949a)
(cherry picked from commit 8f7a595a801d2ec522f1fa3ac77ed01982a1cd33)
(cherry picked from commit 79df653d2a6eee8560d63e96b512e501f12d3f43)
Change-Id: I867f776b056a90a85f57ff2c84f5f0d8a230b242
"
openstack%2Fdesignate-dashboard~stable%2Fyoga~Id9f7d8153bf5d2dbf9f0fb6b43a39b7d82adf953,openstack/designate-dashboard,stable/yoga,PRODX-22864,Id9f7d8153bf5d2dbf9f0fb6b43a39b7d82adf953,"Fixes for Zones panel, reloadng and 'record' validation",ABANDONED,2022-05-26 14:22:18.000000000,2022-05-27 11:17:48.000000000,,17,11,0,843472,5c41ba901ec40a83c3f63caad50fab6b7690f140,5,1,3,7,7549,Ekaterina Chernova,efedorova,"Fixes for Zones panel, reloadng and 'record' validation

Change-Id: I867f776b056a90a85f57ff2c84f5f0d8a230b242
Related-prod: PRODX-22864

(cherry picked from commit d34372a10bc79aa5f09118bf078d14cb4321086c)
(cherry picked from commit 88b814d48453d46af9119d43c2e46110098e3a04)
(cherry picked from commit 3c5b351dd87a87723de14ec0fded7baaeefdbf4f)

Previous picks:
(cherry picked from commit 2c4850179e65423cb6be095f75069a039ae3949a)
(cherry picked from commit 8f7a595a801d2ec522f1fa3ac77ed01982a1cd33)
(cherry picked from commit 79df653d2a6eee8560d63e96b512e501f12d3f43)
Change-Id: Id9f7d8153bf5d2dbf9f0fb6b43a39b7d82adf953
"
openstack%2Fskyline-apiserver~master~Id839175530a6de441b3a3c90e94650c3ca851c6f,openstack/skyline-apiserver,master,,Id839175530a6de441b3a3c90e94650c3ca851c6f,refactor: Remove invalid config,MERGED,2022-05-27 08:50:58.000000000,2022-05-27 10:20:13.000000000,2022-05-27 10:20:13.000000000,1,35,0,843584,72e7cf3cf553f033d3968489abaab9d9afc6a456,6,2,1,3,28706,Boxiang Zhu,ZhuBoxiang,"refactor: Remove invalid config

Remove invalid config show_raw_sql.

Change-Id: Id839175530a6de441b3a3c90e94650c3ca851c6f
"
openstack%2Fopenstack-ansible~master~Idd892a1b373319808fc03c55187f986468b622aa,openstack/openstack-ansible,master,,Idd892a1b373319808fc03c55187f986468b622aa,Bump ansible version to 2.12.6,MERGED,2022-05-26 08:56:50.000000000,2022-05-27 10:13:08.000000000,2022-05-27 10:11:30.000000000,1,1,1,843420,a8c5da7d51d89a45f3f50e0d06444108b53d167d,10,3,1,1,25023,Jonathan Rosser,jrosser,"Bump ansible version to 2.12.6

Change-Id: Idd892a1b373319808fc03c55187f986468b622aa
"
openstack%2Fneutron~master~I9aec0ba1f5c723e6f5a9146e9af41707e8014db2,openstack/neutron,master,bug/1968606,I9aec0ba1f5c723e6f5a9146e9af41707e8014db2,[UT][ovn] Access config options after they are registered,MERGED,2022-05-26 13:23:06.000000000,2022-05-27 10:10:05.000000000,2022-05-27 10:07:22.000000000,5,1,5,843461,384ff4485ff0111c801e442168c518b2b5211c91,17,6,2,2,13861,yatin,yatinkarel,"[UT][ovn] Access config options after they are registered

It is a follow up of [1]. There were still some tests
which were accessing config optons before they were registered
and failing when tested manually just those tests, this
patch fixes it.

[1] https://review.opendev.org/c/openstack/neutron/+/842068

Related-Bug: #1968606
Change-Id: I9aec0ba1f5c723e6f5a9146e9af41707e8014db2
"
openstack%2Ftempest~master~Ia63cdc682a32a2bcfd748f924368db6028b64d8c,openstack/tempest,master,u-v-last,Ia63cdc682a32a2bcfd748f924368db6028b64d8c,End support for stable/victoria,MERGED,2022-05-24 23:13:45.000000000,2022-05-27 10:10:04.000000000,2022-05-27 10:07:18.000000000,12,8,3,843221,263825a17a8393ade1ff0d99a1ad035ca47eee8b,17,2,3,3,8556,Ghanshyam,ghanshyam,"End support for stable/victoria

This marks the end of support for stable/victoria
which is EM now[1]. This remove the stable/victoria
jobs and also adds relesenote to mark the end of
support of Victoria.

[1] https://releases.openstack.org/

Change-Id: Ia63cdc682a32a2bcfd748f924368db6028b64d8c
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~Iabfe069102fdb2a4c4ff275d244382878b04d5ee,openstack/puppet-tripleo,stable/train,,Iabfe069102fdb2a4c4ff275d244382878b04d5ee,[train-only] Fix certmonger novnc_proxy key files data race,MERGED,2022-05-19 11:35:07.000000000,2022-05-27 10:02:52.000000000,2022-05-27 10:02:52.000000000,33,11,3,842530,9a1c6b4d2837e04b0bb07f3aefce07fc5d5a42af,27,9,8,2,6926,Bogdan Dobrelya,bogdando,"[train-only] Fix certmonger novnc_proxy key files data race

Follow-up the vnc server key file data race and fix it for Nova VNC
proxy key and cert files as well.

The race condition described in
https://bugzilla.redhat.com/show_bug.cgi?id=1759281
might also apply to other files created by getcert, it seems.

Getcert sets owner and permissions for newly created cert/key files
to root/0600. While it retaines that unchanged for already existing
cert/key files.

By the certmonger feature design, changes to a service key file
resource trigger a getcert execution. And once it finishes for
novnc_proxy key file, we need to enforce the expected permissions/owner
for that file. Puppet would not allow doing such circular notifications
normally, so we add execs before/after the getcmd command.

Make sure that puppet resets novnc_proxy key file permissions
after (and only after) getcert finishes its tasks and stores the
generated cert file.

If the key's content change has been audited by puppet, remove the no
longer relevant cert file, so that getcert could re-issue it, and then
puppet to properly re-apply permissions/owner on both files.

If we do not remove the cert file before running getcert, the guarding
exec might finish before getcert finishes (see the former race
condition details). If we set the guarding exec watching for the key
file, it might also finish before getcert finishes. So we have to
set it watching for the cert file, and purge it before issuing getcert.
If the key content does not change, the cert file will be retained.

Also set the service_certificate group to match it for the
service_key as both are expected to have it the same.

Finally, when the service key permissions have been changed by the exec
command, puppet will only audit that change on the next run, via its
corresponding File[$service_key] resource. That may leave the created
cert file with wrong permissions, until the next puppet run. So
make sure that exec changes both the cert and key file permissions in
a single transaction. That additional change is also needed for
VNC server cert file permissions handling, so add it into this patch
scope.

Change-Id: Iabfe069102fdb2a4c4ff275d244382878b04d5ee
Related: rhbz#2084193
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I2ee5a5454ec1211b8c8aa1ec7f6e694995885882,openstack/python-tripleoclient,stable/wallaby,BZ2049498_rework-stable/wallaby,I2ee5a5454ec1211b8c8aa1ec7f6e694995885882,bnr - overcloud restore - fix error in the help description for the stack parameter,ABANDONED,2022-05-16 09:02:06.000000000,2022-05-27 09:40:29.000000000,,0,0,2,841749,181a65000015f68b843bab59e379ded849f66eae,8,3,2,0,34423,Fernando Díaz Bravo,fdiazbra,"bnr - overcloud restore - fix error in the help description for the stack parameter

This issue is discussed at [1]

[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/835798/1#message-d465d5cce9289794ba93ba8222d9026e602d7362
Change-Id: I2ee5a5454ec1211b8c8aa1ec7f6e694995885882
(cherry picked from commit cb6cf7b18ebbcc053f2f74d61a8d236f9bf1a582)
"
openstack%2Fopenstack-ansible-galera_server~master~If6da4eb1f29549abd28f9e8abb9a850f86853c1f,openstack/openstack-ansible-galera_server,master,race-boot,If6da4eb1f29549abd28f9e8abb9a850f86853c1f,Fix race on boot for mariadb-check socket,MERGED,2022-05-26 20:35:17.000000000,2022-05-27 09:11:40.000000000,2022-05-27 09:10:30.000000000,1,0,0,843547,3e6a28272da2d5393b7c58a8a6b3e9911147c187,8,3,1,1,13095,Marc Gariépy,mgariepy,"Fix race on boot for mariadb-check socket

Change-Id: If6da4eb1f29549abd28f9e8abb9a850f86853c1f
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I58a2290ca9362d48e4de55d1ba93834c6eb04100,openstack/tripleo-heat-templates,stable/wallaby,,I58a2290ca9362d48e4de55d1ba93834c6eb04100,Horizon: Enable client ip detection by X-Forwarded-For header,MERGED,2022-05-17 01:49:21.000000000,2022-05-27 08:44:22.000000000,2022-05-27 08:44:22.000000000,1,0,0,841931,0ad36173a3ff50696fb7fa0fbfa0fdf1b864dcc0,9,4,2,1,9816,Takashi Kajinami,kajinamit,"Horizon: Enable client ip detection by X-Forwarded-For header

... so that actual client ip is logged instead of loadbalancer ip.

Depends-on: https://review.opendev.org/838675
Change-Id: I58a2290ca9362d48e4de55d1ba93834c6eb04100
(cherry picked from commit 55e7629aba03464bf4e31dd5c477cd8536a09458)
"
openstack%2Ftempest~master~Iefd62a74b201968ca1987d182e086b9f4de6fb51,openstack/tempest,master,sanity-job,Iefd62a74b201968ca1987d182e086b9f4de6fb51,Make tempest plugin sanity job voting again,MERGED,2022-05-24 01:26:37.000000000,2022-05-27 08:20:11.000000000,2022-05-27 08:17:45.000000000,0,3,2,843041,2c3a6381cb5c13a517a7a85b6c7e8812f2d599d6,11,2,2,1,8556,Ghanshyam,ghanshyam,"Make tempest plugin sanity job voting again

murano-tempest-plugin fix is proposed (depends on) so
making plugin sanity job voting again.

Depends-On: https://review.opendev.org/c/openstack/murano-tempest-plugin/+/843040
Change-Id: Iefd62a74b201968ca1987d182e086b9f4de6fb51
"
openstack%2Freleases~master~Iad329b24acb30b8458157cfa84026bc4b5a2b875,openstack/releases,master,,Iad329b24acb30b8458157cfa84026bc4b5a2b875,Create newton-eol for ceilometermiddleware,NEW,2022-05-16 05:58:04.000000000,2022-05-27 08:07:20.000000000,,4,0,2,841831,0b582237cd4b9a6c8382d1300ef4da61ceab20f1,8,4,2,1,9816,Takashi Kajinami,kajinamit,"Create newton-eol for ceilometermiddleware

For some reason, the stable/newton branch for ceilometermiddleware was
not EOLed at the timing of Newton EOL. This change creates the eol tag
so that we can drop the branch.

There is the opendev migration patch[1] merged since the last release
but that one was merged far after Newton EOL deadline. Because
newton-eol of the other repos does not include the change, it is
intentionally ignored by this release.

[1] https://opendev.org/openstack/ceilometermiddleware/commit/a42dfc0165f82d580d90c5928d5ae8b1f8f26982

Change-Id: Iad329b24acb30b8458157cfa84026bc4b5a2b875
"
openstack%2Fneutron~master~Ia20f96dc78ea04bb0ab4665e6d47a6365789d2c9,openstack/neutron,master,port.network_id-index,Ia20f96dc78ea04bb0ab4665e6d47a6365789d2c9,"Create an index for ""ports.network_id""",MERGED,2022-05-13 13:27:10.000000000,2022-05-27 08:01:11.000000000,2022-05-27 07:59:46.000000000,36,2,5,841761,db2ae854cf65b59eb0f7b0eef1b20e404c2214cb,20,7,2,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Create an index for ""ports.network_id""

The method ``_port_filter_hook``, that is added in any ""Port"" SELECT
command, filters the database ""Port"" registers by ""network_id"", using
an exact match. This query speed will improve if this column is
indexed in the database engine.

Closes-Bug: #1973349
Change-Id: Ia20f96dc78ea04bb0ab4665e6d47a6365789d2c9
"
openstack%2Fdevstack-gate~master~I81233ea91cdd24919db245dd8475341d7532daf3,openstack/devstack-gate,master,train-stable-uc,I81233ea91cdd24919db245dd8475341d7532daf3,Use stable constraints for Tempest venv for stable/train testing,MERGED,2022-05-24 14:12:39.000000000,2022-05-27 07:52:38.000000000,2022-05-27 07:52:38.000000000,1,1,2,843148,fd322f79613c909e592a3f568349b9684a337e11,10,5,2,1,13861,yatin,yatinkarel,"Use stable constraints for Tempest venv for stable/train testing

Without this grenade job in stable/train fails as it uses
master constraints and master is dropping py3.6 support,
like oslo-log already dropped that and is causing issues[2].

Tempest in stable/train is already pinned in devstack[1]
to 26.1.0. So let's use stable constraints for Tempest venv.

[1] https://github.com/openstack/devstack/commit/8a22f738
[2] https://review.opendev.org/c/openstack/neutron/+/841698

Change-Id: I81233ea91cdd24919db245dd8475341d7532daf3
"
openstack%2Fproject-config~master~If4e9673118edf77c5e14ad7567b95d92618e4920,openstack/project-config,master,ops,If4e9673118edf77c5e14ad7567b95d92618e4920,Add ops to openstack-ansible-sig channel,MERGED,2022-05-26 15:33:46.000000000,2022-05-27 07:45:48.000000000,2022-05-27 07:03:03.000000000,5,0,1,843492,59919613944d0e07703b46c9ef34c0c65b761794,12,8,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add ops to openstack-ansible-sig channel

Change-Id: If4e9673118edf77c5e14ad7567b95d92618e4920
"
openstack%2Fskyline-console~master~I47ef81265bb4f3a198067280f39206bb17b5fdc0,openstack/skyline-console,master,master5,I47ef81265bb4f3a198067280f39206bb17b5fdc0,fix: Fix update ironic node traits,MERGED,2022-05-26 08:28:56.000000000,2022-05-27 07:18:55.000000000,2022-05-27 07:18:55.000000000,21,20,0,843416,0f1bdfd6825ed69a19d3595b4cc1fd347d05cdb5,8,3,2,16,30434,Jingwei.Zhang,jwzhang,"fix: Fix update ironic node traits

1. Fix update iroinc node traits api
2. Add export client for better reusage

Change-Id: I47ef81265bb4f3a198067280f39206bb17b5fdc0
"
openstack%2Fskyline-console~master~Id34b49b55e221453f5ca1b594821b97ecd6ee381,openstack/skyline-console,master,,Id34b49b55e221453f5ca1b594821b97ecd6ee381,fix: fix GB unit in database,MERGED,2022-05-26 06:17:56.000000000,2022-05-27 07:03:07.000000000,2022-05-27 07:03:07.000000000,4,16,1,843388,993f18dcfb5112308c176fb6ae5eb61ee02f20f0,17,3,2,6,30434,Jingwei.Zhang,jwzhang,"fix: fix GB unit in database

Fix GB to GiB for volume in database

Change-Id: Id34b49b55e221453f5ca1b594821b97ecd6ee381
"
openstack%2Fcyborg-specs~master~I72acf569d56d4e7feaec83da9274364282cf0dbf,openstack/cyborg-specs,master,attribute-api-support,I72acf569d56d4e7feaec83da9274364282cf0dbf,Add Attribute API specification.,ABANDONED,2020-06-28 02:15:18.000000000,2022-05-27 06:22:22.000000000,,299,0,70,738331,2408635f825360642da6098e5108f81912f05c4a,56,8,15,1,17813,wangzhh,wangzhh,"Add Attribute API specification.

Change-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf
"
openstack%2Fskyline-apiserver~master~I88dbafbe34b0e95eff0b00d9260f1b7a6fc0db77,openstack/skyline-apiserver,master,,I88dbafbe34b0e95eff0b00d9260f1b7a6fc0db77,fix: Add manila into service mapping,MERGED,2022-05-27 03:13:25.000000000,2022-05-27 04:47:43.000000000,2022-05-27 04:47:43.000000000,12,10,0,843559,ee6d1a7a49ceee28af4ca752a992f908ddea83f4,6,2,1,2,28706,Boxiang Zhu,ZhuBoxiang,"fix: Add manila into service mapping

Add manila into service mapping. So if we deployed the
manila service, we can get the endpoint of it by default.
Re-sort the service mapping by its' initial.

Change-Id: I88dbafbe34b0e95eff0b00d9260f1b7a6fc0db77
"
openstack%2Fmanila~master~Ibe60da0b06cade641002d5a1650c38aa57c2d131,openstack/manila,master,,Ibe60da0b06cade641002d5a1650c38aa57c2d131,devstack: Support different ssh key format,MERGED,2022-05-25 13:01:11.000000000,2022-05-27 04:47:43.000000000,2022-05-27 04:38:52.000000000,4,3,7,843280,1a76b049364f5860f380635d9b5472e36f37eb0f,30,3,2,2,9816,Takashi Kajinami,kajinamit,"devstack: Support different ssh key format

RSA key is no longer enabled by default in recent openssl library.
Because of this change, RSA key does not work in recent Fedora and
CentOS Stream 9 unless it is enabled somehow.

This introduces a new MANILA_KEY_FORMAT parameter to devstack plugin
so that a different ssh key format (eg. ecdsa) can be used.

Change-Id: Ibe60da0b06cade641002d5a1650c38aa57c2d131
"
openstack%2Fskyline-console~master~I57de4e5317aab2ee96e012327bb9a5a79f5e7656,openstack/skyline-console,master,master4,I57de4e5317aab2ee96e012327bb9a5a79f5e7656,fix: fix image required when create ironic,MERGED,2022-05-26 07:13:42.000000000,2022-05-27 03:16:23.000000000,2022-05-27 03:16:23.000000000,6,3,0,843410,e9cd1482c2e76c56bb6b0fd96f1cc0d6e129639c,9,3,2,2,30434,Jingwei.Zhang,jwzhang,"fix: fix image required when create ironic

1. Set image is required when create ironic
2. Add image info in confirm step when create ironic

Change-Id: I57de4e5317aab2ee96e012327bb9a5a79f5e7656
"
openstack%2Fcharm-glance~master~I6676d20c7529fa47a387b3bb538de3f95399a71a,openstack/charm-glance,master,documentation_patch,I6676d20c7529fa47a387b3bb538de3f95399a71a,Add information to image-conversion config parameter,MERGED,2022-05-26 20:30:26.000000000,2022-05-27 01:28:35.000000000,2022-05-27 01:28:35.000000000,4,2,2,843546,1c02b49817010102d64072549f47dbbc91ae608c,9,3,1,1,34275,Jorge Merlino,drencrom,"Add information to image-conversion config parameter

Change-Id: I6676d20c7529fa47a387b3bb538de3f95399a71a
"
openstack%2Fneutron~stable%2Fxena~Ifb500eef5513e930bf3a22d99183ca348e5fc427,openstack/neutron,stable/xena,bug/1975837,Ifb500eef5513e930bf3a22d99183ca348e5fc427,Refactor the OVN revision module to access the DB correctly,MERGED,2022-05-26 15:01:11.000000000,2022-05-26 22:32:02.000000000,2022-05-26 22:30:19.000000000,12,11,1,843481,40433a081f1bfd18b5ab1138347987e2c2e9da28,10,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Refactor the OVN revision module to access the DB correctly

Method ``_ensure_revision_row_exist`` creates a DB reader context
when called from ``bump_revision``. This call is always done from
inside a DB write context. This method removes the unneded reader
context.

Closes-Bug: #1975837
Change-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427
(cherry picked from commit 39d751a33265e8780828b3aca10a781726d0a300)
"
openstack%2Fneutron~stable%2Fyoga~Ifb500eef5513e930bf3a22d99183ca348e5fc427,openstack/neutron,stable/yoga,bug/1975837,Ifb500eef5513e930bf3a22d99183ca348e5fc427,Refactor the OVN revision module to access the DB correctly,MERGED,2022-05-26 15:00:48.000000000,2022-05-26 22:31:56.000000000,2022-05-26 22:30:14.000000000,12,11,2,843480,e2a2cc243f1c103dd3643592ec04ca9635774a4d,14,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Refactor the OVN revision module to access the DB correctly

Method ``_ensure_revision_row_exist`` creates a DB reader context
when called from ``bump_revision``. This call is always done from
inside a DB write context. This method removes the unneded reader
context.

Closes-Bug: #1975837
Change-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427
(cherry picked from commit 39d751a33265e8780828b3aca10a781726d0a300)
"
openstack%2Fcharm-guide~master~Ide4358310a465dc5e7253cd8c6314b71effaafe8,openstack/charm-guide,master,add-link-to-ceph-operation,Ide4358310a465dc5e7253cd8c6314b71effaafe8,Add link to a new Ceph operation + guide version,MERGED,2022-05-19 18:06:01.000000000,2022-05-26 22:25:45.000000000,2022-05-26 22:24:33.000000000,1,0,1,842594,481e11984f8147eb13c4507896e38a5b4845386d,12,3,3,1,30561,Peter Matulis,pmatulis,"Add link to a new Ceph operation + guide version

A new Ceph operation has come into being. This PR adds
a link to it.

This PR will also be used to generate an OpenStack
Yoga version of charm-guide.

Change-Id: Ide4358310a465dc5e7253cd8c6314b71effaafe8
"
openstack%2Fcharm-deployment-guide~master~Ibe1f8041c1e5a8175fb63d638cc81b0987ed6eba,openstack/charm-deployment-guide,master,fix-another-broken-juju-link,Ibe1f8041c1e5a8175fb63d638cc81b0987ed6eba,Fix a broken link + guide version,MERGED,2022-05-24 16:53:54.000000000,2022-05-26 22:24:59.000000000,2022-05-26 22:23:52.000000000,2,2,0,843172,4dd158584363032061831ad263441044c4e604a5,10,2,3,1,30561,Peter Matulis,pmatulis,"Fix a broken link + guide version

There is a broken link on the upgrade-charms page due
to upstream Juju doc changes.

This PR will also be used to generate an OpenStack
Yoga version of charm-deployment-guide.

Change-Id: Ibe1f8041c1e5a8175fb63d638cc81b0987ed6eba
"
openstack%2Fproject-config~master~Iddd61e1be766f2bb6da4bf62766829247fa143ce,openstack/project-config,master,fix-propose-updates,Iddd61e1be766f2bb6da4bf62766829247fa143ce,Fix propose-updates job for requirements (3rd attempt),MERGED,2022-05-26 21:06:57.000000000,2022-05-26 21:48:48.000000000,2022-05-26 21:48:48.000000000,4,6,0,843550,c7d42980c649273eacf9361cfe20e5500ac3b6e7,7,3,1,3,13252,Dr. Jens Harbott,jrosenboom,"Fix propose-updates job for requirements (3rd attempt)

The previous attempts at fixing the job were not successful yet, it
seems the variable in the pre playbook isn't overridden by a job
variable. Since the other uses of this job are running with ubuntu-focal
anyway, set the list of available python interpreters in the playbook
directly and remove the modifications from the requirements specific job
again. Also pin the nodeset for this job to guard against changes in the
base job, which will likely require another change to the interpreter
list.

[0] I9735f34639777c928fbe06febc16dd24667b1405
[1] I52cc316ce9756c4411c18c8339d44c457cb59897

Change-Id: Iddd61e1be766f2bb6da4bf62766829247fa143ce
"
openstack%2Ftempest~master~Ibcaf1bce80521e05d76199ddebccb33488360644,openstack/tempest,master,bug/1975036,Ibcaf1bce80521e05d76199ddebccb33488360644,Unblock gate to temporary remove the py3.6|7 job,MERGED,2022-05-21 01:10:55.000000000,2022-05-26 21:48:13.000000000,2022-05-26 21:44:54.000000000,19,8,20,842821,b1ea4327108cbbd518dfc75482dff79493b4edc9,60,3,4,1,8556,Ghanshyam,ghanshyam,"Unblock gate to temporary remove the py3.6|7 job

py3.6 and py3.7 jobs are failing due to oslo dropped the
py3.6|7 support. We will add them back once bug#1975036
is resolved

Tempest plugin sanity job is broken due to failure in
murano-tempest-plugin. To make this patch merge which
will unblock the gate, I am making plugin sanity job as
non voting. We will revert that once below fix is merged

tempest-full-centos-9-stream job is also failing which fix
is also up and waiting for this patch to merge first, so making
them non voting.

devstack-plugin-ceph-tempest-py3 job is also mostly failing, let's
make it temporarily non voting in order to avoid endless rechecks

- https://review.opendev.org/c/openstack/murano-tempest-plugin/+/843040

Related-Bug: #1975036
Change-Id: Ibcaf1bce80521e05d76199ddebccb33488360644
"
openstack%2Ftripleo-quickstart~master~I265b0dc42bfb988bbdb6dd6b2b2053b6e1ce2e08,openstack/tripleo-quickstart,master,tempest_allow_list,I265b0dc42bfb988bbdb6dd6b2b2053b6e1ce2e08,Testing tempest tests for intergration/component jobs,MERGED,2022-05-19 11:48:06.000000000,2022-05-26 21:39:20.000000000,2022-05-26 21:37:42.000000000,1,1,11,842531,908c48026dbee1cd468e9660edf8aaeb0b70b68b,35,6,4,1,31075,Pooja Jadhav,pojadhav,"Testing tempest tests for intergration/component jobs

This patch modifies fs condition to verify same set of
tempest tests run against integration and component jobs.

Change-Id: I265b0dc42bfb988bbdb6dd6b2b2053b6e1ce2e08
"
openstack%2Fpython-manilaclient~stable%2Fyoga~I56af42c6c3ece862747ddb62cd1eabdf608b9411,openstack/python-manilaclient,stable/yoga,bug/1975488,I56af42c6c3ece862747ddb62cd1eabdf608b9411,"Avoid using ""force"" kwarg in extend API",MERGED,2022-05-25 11:39:12.000000000,2022-05-26 21:10:39.000000000,2022-05-26 21:09:21.000000000,8,2,3,843207,c1c1133a7f912f6d4136ace537a1e5d80ec81bb6,12,5,1,2,16643,Goutham Pacha Ravi,gouthamr,"Avoid using ""force"" kwarg in extend API

The extend API was enhanced with API version
2.64 to support a ""force"" argument; It's possible
that clients are using older microversions
when interacting with the manilaclient SDK;
by mandating the use of the ""force"" kwarg,
we introduce a regression. The ""ShareManager""
class has microversioned ""extend"" APIs,
some of which do not accept the ""force"" kwarg.

Change-Id: I56af42c6c3ece862747ddb62cd1eabdf608b9411
Related-Bug: #1855391
Closes-Bug: #1975488
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit db8eafd838c603407d86b13e226d8d8b028b595e)
"
openstack%2Fcharm-glance~stable%2Fvictoria~I0b898a0b4637c609afd6ed0e0fdfa81c879f0c9e,openstack/charm-glance,stable/victoria,charmhub-migration,I0b898a0b4637c609afd6ed0e0fdfa81c879f0c9e,Migrate charm charmhub for stable/victoria,MERGED,2022-05-19 10:34:46.000000000,2022-05-26 21:07:30.000000000,2022-05-26 21:07:30.000000000,137,1005,4,842492,ed41d2063b1b37e3140a30f24c226ab240497db6,16,3,2,28,20870,Alex Kavanagh,ajkavanagh,"Migrate charm charmhub for stable/victoria

- start from stable/victoria branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/victoria for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I0b898a0b4637c609afd6ed0e0fdfa81c879f0c9e
"
openstack%2Ftripleo-heat-templates~master~I8c2808f0d4ee969315f0dee3cd75b850e4a94fab,openstack/tripleo-heat-templates,master,,I8c2808f0d4ee969315f0dee3cd75b850e4a94fab,Horizon: Fix missing firewall rule for ssl backend,MERGED,2022-05-12 12:01:53.000000000,2022-05-26 21:01:23.000000000,2022-05-26 21:01:23.000000000,4,1,1,841580,d8d59c2cb5196c7f2367a8154a27b5371f1bd211,12,5,1,1,9816,Takashi Kajinami,kajinamit,"Horizon: Fix missing firewall rule for ssl backend

When internal tls is enabled, Horizon uses a different port (tcp/443
instead of tcp/80).

Related-Bug: #1961799
Change-Id: I8c2808f0d4ee969315f0dee3cd75b850e4a94fab
"
openstack%2Fcinder~stable%2Fxena~I078a54a47e43b1cc83b4fb1a8063b41ab35358a1,openstack/cinder,stable/xena,bug-1937368-stable/xena,I078a54a47e43b1cc83b4fb1a8063b41ab35358a1,Fix: nfs format info limitation,MERGED,2022-05-26 10:20:15.000000000,2022-05-26 20:58:56.000000000,2022-05-26 20:57:20.000000000,55,16,2,843395,960aa59621044510df0fb0e779a3e2d0462b88d3,19,3,1,4,27615,Rajat Dhasmana,whoami-rajat,"Fix: nfs format info limitation

Format info support was added to the nfs driver with change[1]
and due to a issue with groups, it was restricted for volumes
with groups with change[2].
This was a problem with OVO handling of consistency groups/volume
groups and is fixed in this patch thereby also removing the
limitation on nfs driver.

[1] https://review.opendev.org/c/openstack/cinder/+/761152
[2] https://review.opendev.org/c/openstack/cinder/+/780700

Co-Authored-By: Gorka Eguileor <geguileo@redhat.com>

Change-Id: I078a54a47e43b1cc83b4fb1a8063b41ab35358a1
(cherry picked from commit c69e564c6f6e523ca8b5e6065a0cf015c102bc4d)
"
openstack%2Fneutron~master~I306f14aa6b7e8bb69a81f441be337bc1a584d3b2,openstack/neutron,master,bug/1952907,I306f14aa6b7e8bb69a81f441be337bc1a584d3b2,[L3-HA] Disable automatic link-local address assignment for HA routers,MERGED,2022-04-28 00:55:11.000000000,2022-05-26 20:58:53.000000000,2022-05-26 20:57:16.000000000,49,0,34,839671,5288593fafe6636fc14b8873465866d20de26935,81,9,8,3,32666,Damian Dąbrowski,ddabrowski,"[L3-HA] Disable automatic link-local address assignment for HA routers

In order to get both [1] and [2] fixed, we set
`net.ipv6.conf.all.addr_gen_mode=1` in HA router namespace to
prevent auto-assigning link-local address(lla) to the interfaces.
We don't need lla auto-assignment as keepalived manages them.
With this change, we will have link-local addresses only on active
router, which will prevent 'dadfailed' and MLD packets will not be
sent from standby router.

Previously we also reverted [3] to always keep qg-* interface up on both
active&standby router's instance, no matter if keepalived is started or
not.
Without link-local address assigned, backup router's instance won't
send any packets, so I see no reason to keep qg-* interface down.

[1] https://bugs.launchpad.net/neutron/+bug/1952907
[2] https://bugs.launchpad.net/neutron/+bug/1859832
[3] https://review.opendev.org/c/openstack/neutron/+/834162

Closes-Bug: #1952907
Related-Bug: #1859832
Depends-On: https://review.opendev.org/c/openstack/neutron/+/834162
Change-Id: I306f14aa6b7e8bb69a81f441be337bc1a584d3b2
"
openstack%2Fopenstack-ansible-os_sahara~master~I1e637517953ba9a65e987c181464678c81365ec0,openstack/openstack-ansible-os_sahara,master,osa/common_tasks,I1e637517953ba9a65e987c181464678c81365ec0,Use common service setup tasks from a collection rather than in-role,MERGED,2022-05-05 14:01:31.000000000,2022-05-26 20:32:04.000000000,2022-05-26 20:30:43.000000000,21,333,5,840672,2ce1f60bde5faee806cba66f4c510cf8841b34b5,22,3,2,4,13095,Marc Gariépy,mgariepy,"Use common service setup tasks from a collection rather than in-role

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/842758
Change-Id: I1e637517953ba9a65e987c181464678c81365ec0
"
openstack%2Fironic~master~Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,openstack/ironic,master,drop-queue-ironic,Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,CI: Removing ironic job queue,MERGED,2022-05-19 18:11:44.000000000,2022-05-26 19:57:01.000000000,2022-05-26 19:54:24.000000000,0,1,2,842597,63e53797adca625edd2fdacd16a025bedccf8731,17,3,1,1,11655,Julia Kreger,jkreger,"CI: Removing ironic job queue

Change-Id: Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8
See: https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
"
openstack%2Fos-brick~master~Iefa41fb72b3ddca14cc905cc4fb41acd215c47a8,openstack/os-brick,master,nvme-4,Iefa41fb72b3ddca14cc905cc4fb41acd215c47a8,PEP8: Don't force name in TODO,MERGED,2022-03-31 17:59:07.000000000,2022-05-26 19:32:47.000000000,2022-05-26 19:31:20.000000000,3,1,3,836058,62adedf6a6b94b6b7b4d69ac24bace18d86bdb70,47,7,4,1,9535,Gorka Eguileor,Gorka,"PEP8: Don't force name in TODO

The Cinder team decided a while ago to not require a name in TODO
comments, since they don't provide additional value.

This patch removes this requirement from the flake8 configuration, so
now we no longer should add TODO comments as:

    # TODO(geguileo): Improve this

But instead do naked TODO:

    # TODO: Improve this

Change-Id: Iefa41fb72b3ddca14cc905cc4fb41acd215c47a8
"
openstack%2Foslo.utils~master~Iaae10962581b84b4ae2af1a064dd27d78c05dd4d,openstack/oslo.utils,master,,Iaae10962581b84b4ae2af1a064dd27d78c05dd4d,Remove unnecessary unicode prefixes,MERGED,2022-04-19 11:58:12.000000000,2022-05-26 18:40:35.000000000,2022-05-26 18:39:01.000000000,47,50,5,838499,de2b367b48ebc8a95e3bdc5aec44c4de69cb08e1,18,4,3,7,31412,Wenping Song,songwenping,"Remove unnecessary unicode prefixes

Change-Id: Iaae10962581b84b4ae2af1a064dd27d78c05dd4d
"
openstack%2Fnova~stable%2Fwallaby~Ieef773453ed9f3ced564c1a352fbefbcc6a653ec,openstack/nova,stable/wallaby,,Ieef773453ed9f3ced564c1a352fbefbcc6a653ec,Reproduce live migration rollback w/o multi port bindings error,NEW,2022-05-25 18:52:35.000000000,2022-05-26 18:23:07.000000000,,38,7,0,843338,c8c70438459c6de84ce47c7951eff7019b404246,9,1,2,1,8864,Artom Lifshitz,artom,"Reproduce live migration rollback w/o multi port bindings error

When the libvirt driver does live migration rollback of an instance
with network interfaces, it unconditionally refers to
migrate_data.vifs. These will only be set when Neutron has the
multiple port bindings extension. We don't handle the case of the
extension not being present, and currently the rollback will fail with
a ""NotImplementedError: Cannot load 'vifs' in the base class"" error.

NOTE(artom) has_port_binding_extension() replaced with
supports_port_binding_extension to fit the stable/xena method name.

Related-bug: 1969980
Change-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec
(cherry picked from commit 5181bae923bdae2b536affc87d39ddf2c5f7835d)
(cherry picked from commit 2be1570c96697bdb917a086ccdc5a05d3d21e9db)
(cherry picked from commit acd8edfb5a75c633b21ede56e2888691845d9113)
"
openstack%2Fnova~stable%2Fyoga~I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9,openstack/nova,stable/yoga,,I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9,Fix LM rollback w/o multi port bindings extension,NEW,2022-04-30 12:59:05.000000000,2022-05-26 18:21:06.000000000,,11,13,1,839922,5f086d437e8e467ab8c90605c904470c37098227,11,1,1,2,8864,Artom Lifshitz,artom,"Fix LM rollback w/o multi port bindings extension

Previously, the libvirt driver's live migration rollback code would
unconditionally refer to migrate_data.vifs. This field would only be
set if the Neutron multiple port bindings extension was in use. When
it is not in use, the reference would fail with a NotImplementedError.
This patch wraps the migrate_data.vifs reference in a conditional that
checks if the vifs field is actually set. This is the only way to do
it, as in the libvirt driver we do not have access to the network
API's has_port_binding_extension() helper.

Closes-bug: 1969980
Change-Id: I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9
(cherry picked from commit aa1b0a7ccb1fcf3644784125bfff6950993e1697)
"
openstack%2Fnova~stable%2Fwallaby~I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9,openstack/nova,stable/wallaby,,I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9,Fix LM rollback w/o multi port bindings extension,NEW,2022-05-25 18:52:35.000000000,2022-05-26 18:16:17.000000000,,11,13,0,843339,b85e114e55a11d3c82a8406b0e1ddf506f9f2138,11,1,2,2,8864,Artom Lifshitz,artom,"Fix LM rollback w/o multi port bindings extension

Previously, the libvirt driver's live migration rollback code would
unconditionally refer to migrate_data.vifs. This field would only be
set if the Neutron multiple port bindings extension was in use. When
it is not in use, the reference would fail with a NotImplementedError.
This patch wraps the migrate_data.vifs reference in a conditional that
checks if the vifs field is actually set. This is the only way to do
it, as in the libvirt driver we do not have access to the network
API's has_port_binding_extension() helper.

Closes-bug: 1969980
Change-Id: I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9
(cherry picked from commit aa1b0a7ccb1fcf3644784125bfff6950993e1697)
(cherry picked from commit 5f086d437e8e467ab8c90605c904470c37098227)
(cherry picked from commit f9dec7e2f528e67e7a062200ad6f4526158ad944)
"
openstack%2Fdiskimage-builder~master~Iee77daccc61e284b675d63eeb922eafd48ae8611,openstack/diskimage-builder,master,,Iee77daccc61e284b675d63eeb922eafd48ae8611,Ensure passwd is installed on RH and derivatives,MERGED,2022-05-03 16:06:06.000000000,2022-05-26 18:04:43.000000000,2022-05-26 18:03:01.000000000,1,0,1,840352,7025d891c7638941fe6c543f5a0327fcb80e3f10,16,5,1,1,34411,Neil Hanlon,nhanlon,"Ensure passwd is installed on RH and derivatives

Images built from containers may not have this package, so just ensure
its presence.

Change-Id: Iee77daccc61e284b675d63eeb922eafd48ae8611
"
openstack%2Fos-vif~master~I50253be0c99df9b363da5f6cc0c8502536dbbb43,openstack/os-vif,master,zed-job-template,I50253be0c99df9b363da5f6cc0c8502536dbbb43,update job template to zed,MERGED,2022-05-26 11:31:44.000000000,2022-05-26 17:48:09.000000000,2022-05-26 17:44:20.000000000,11,4,1,843432,a12edbfe5434261eff637fd98b2abe042af99b4e,16,4,3,3,11604,sean mooney,sean-k-mooney,"update job template to zed

This change updates the python job template to zed
this will disable py36 jobs and enable the default set
for zed. The repo presently used the yoga template
which now fails as a result of project dropping py36 support.

This change also increases the min python reqired to 3.8
to match the zed supported runtimes and adds a release note.

Change-Id: I50253be0c99df9b363da5f6cc0c8502536dbbb43
"
openstack%2Fnova~stable%2Fxena~I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9,openstack/nova,stable/xena,,I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9,Fix LM rollback w/o multi port bindings extension,NEW,2022-05-25 18:51:48.000000000,2022-05-26 17:35:44.000000000,,11,13,0,843337,f9dec7e2f528e67e7a062200ad6f4526158ad944,10,1,2,2,8864,Artom Lifshitz,artom,"Fix LM rollback w/o multi port bindings extension

Previously, the libvirt driver's live migration rollback code would
unconditionally refer to migrate_data.vifs. This field would only be
set if the Neutron multiple port bindings extension was in use. When
it is not in use, the reference would fail with a NotImplementedError.
This patch wraps the migrate_data.vifs reference in a conditional that
checks if the vifs field is actually set. This is the only way to do
it, as in the libvirt driver we do not have access to the network
API's has_port_binding_extension() helper.

Closes-bug: 1969980
Change-Id: I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9
(cherry picked from commit aa1b0a7ccb1fcf3644784125bfff6950993e1697)
(cherry picked from commit 5f086d437e8e467ab8c90605c904470c37098227)
"
openstack%2Fnetworking-sfc~master~I3a583194249ce084fbbf13ac9d0cab14e1def4ff,openstack/networking-sfc,master,drop-py3-6-7,I3a583194249ce084fbbf13ac9d0cab14e1def4ff,Update python testing as per zed cycle teting runtime,MERGED,2022-05-12 03:29:37.000000000,2022-05-26 17:23:50.000000000,2022-05-26 17:18:48.000000000,8,4,3,841538,5c1e08bcfec6d9c85bce06da78a4485d289e6895,11,4,2,3,8556,Ghanshyam,ghanshyam,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I3a583194249ce084fbbf13ac9d0cab14e1def4ff
"
openstack%2Fnova~stable%2Fxena~Ieef773453ed9f3ced564c1a352fbefbcc6a653ec,openstack/nova,stable/xena,,Ieef773453ed9f3ced564c1a352fbefbcc6a653ec,Reproduce live migration rollback w/o multi port bindings error,NEW,2022-05-25 18:51:48.000000000,2022-05-26 17:15:05.000000000,,38,7,0,843336,acd8edfb5a75c633b21ede56e2888691845d9113,9,1,2,1,8864,Artom Lifshitz,artom,"Reproduce live migration rollback w/o multi port bindings error

When the libvirt driver does live migration rollback of an instance
with network interfaces, it unconditionally refers to
migrate_data.vifs. These will only be set when Neutron has the
multiple port bindings extension. We don't handle the case of the
extension not being present, and currently the rollback will fail with
a ""NotImplementedError: Cannot load 'vifs' in the base class"" error.

NOTE(artom) has_port_binding_extension() replaced with
supports_port_binding_extension to fit the stable/xena method name.

Related-bug: 1969980
Change-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec
(cherry picked from commit 5181bae923bdae2b536affc87d39ddf2c5f7835d)
(cherry picked from commit 2be1570c96697bdb917a086ccdc5a05d3d21e9db)
"
openstack%2Fos-brick~master~Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58,openstack/os-brick,master,fix-decrypt,Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58,Fix encryption symlink issues,MERGED,2022-04-04 18:12:19.000000000,2022-05-26 17:09:32.000000000,2022-05-26 17:08:14.000000000,572,185,45,836391,1583a5038d34fd560b554e0eee5c1c5a7612722f,127,8,10,17,9535,Gorka Eguileor,Gorka,"Fix encryption symlink issues

This patch fixes 2 issues related to the symlinks, or lack of, that
connectors' connect_volume methods return.

Some connectors always return the block device instead of a symlink for
encrypted volumes, and other connectors return a symlink that is owned
by the system's udev rules.  Both cases are problematic

Returning the real device can prevent the encryptor connect_volume to
complete successfully, and in other cases (such as nvmeof) it completes,
but on the connector's disconnect volume it will leave the device behind
(i.e., /dev/nvme0n1) preventing new connections that would use that same
device name.

Returning a symlink owned by the system's udev rules means that they can
be reclaimed by those rules at any time.  This can happen with
cryptsetup, because when it creates a new mapping it triggers udev rules
for the device that can reclaim the symlink after os-brick has replaced
it.

This patch creates a couple of decorators to facilitate this for all
connectors. These decorators transform the paths so that the callers
gets the expected symlink, but the connector doesn't need to worry about
it and will always see the value it returns regardless of what symlink
the caller gets.

From this moment onwards we use our own custom symlink that starts with
""/dev/disk/by-id/os-brick"".

The patch fixes bugs in other connectors (such as the RBD local
connection), but since there are no open bugs they have not been
reported.

Closes-Bug: #1964379
Closes-Bug: #1967790
Change-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58
"
openstack%2Fec2-api~stable%2Fussuri~I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,openstack/ec2-api,stable/ussuri,remove-tripleo,I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,Remove TripleO job,NEW,2022-05-26 16:45:46.000000000,2022-05-26 17:00:42.000000000,,0,6,0,843501,a1d47942692232e113d988f639211bf6d8287407,2,1,1,1,9816,Takashi Kajinami,kajinamit,"Remove TripleO job

... because TripleO deprecated support for EC2 API during Train cycle
and removed it during Ussuri cycle.

Conflicts:
	.zuul.yaml

Change-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9
(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)
(cherry picked from commit 14c86d1fc5d151adc64c62043b1754ecf032d742)
(cherry picked from commit 6eaebd8672a4391b33885067a84cd4c2e204d584)
(cherry picked from commit 0466881b9a74392f64c8b2fddffbea5a23ba5eb9)
(cherry picked from commit f69db1ed64a0562d2bc7346139be676402f3883c)
"
openstack%2Fnetworking-bgpvpn~master~I106df9f8fc2c6b5f2ce5398c2a15890be84df203,openstack/networking-bgpvpn,master,drop-py3-6-7,I106df9f8fc2c6b5f2ce5398c2a15890be84df203,Update python testing as per zed cycle teting runtime,MERGED,2022-05-12 03:29:24.000000000,2022-05-26 16:52:27.000000000,2022-05-26 16:49:01.000000000,11,7,0,841535,07c35f941f5265b87d6ade2d9dee5eabf11289d4,8,3,1,3,8556,Ghanshyam,ghanshyam,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes, move py36 jobs to py38|9,
and update the python classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I106df9f8fc2c6b5f2ce5398c2a15890be84df203
"
openstack%2Fovsdbapp~master~I0acb988427944f4a166fc94c42c9546f184b7e62,openstack/ovsdbapp,master,drop-py3-6-7,I0acb988427944f4a166fc94c42c9546f184b7e62,Update python testing as per zed cycle teting runtime,MERGED,2022-05-12 03:29:50.000000000,2022-05-26 16:46:23.000000000,2022-05-26 16:43:02.000000000,8,4,0,841540,81bd6feafc7e7140226d8575624249083526389d,8,3,1,3,8556,Ghanshyam,ghanshyam,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I0acb988427944f4a166fc94c42c9546f184b7e62
"
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~I94dfbcd4ed073404fecf35473c1aa5d7bd66030b,openstack/tripleo-puppet-elements,stable/wallaby,pe-cleanup-w,I94dfbcd4ed073404fecf35473c1aa5d7bd66030b,Wallaby-only: Remove unused puppet modules,MERGED,2022-05-04 02:25:11.000000000,2022-05-26 16:35:06.000000000,2022-05-26 16:35:06.000000000,1,47,1,840400,d6f724f491fd4d32c4d984aab5765a155bcb333c,15,5,2,2,9816,Takashi Kajinami,kajinamit,"Wallaby-only: Remove unused puppet modules

This backports the following commits in a single commit to clean up
unused modules from overcloud images.

- Remove puppet modules for Sensu/Uchiwa support
- Remove fluentd module
- Remove puppet-opendaylight
- Remove puppetlabs-ntp
- Remove puppet-ec2
- Remove unused puppet-timezone
- Remove leftover of Sahara support
- Remove puppet-veritas_hypercale
- Remove mistral
- Remove zaqar
- Remove unused puppet-ptp
- Remove unused puppet-ceph
- Remove unused puppet-kmod
- Remove unused puppetlabs-vcsrepo
- Remove unused puppet-certmonger
- Remove unused puppet modules
- Remove unused reference to source repos
- Remove unused puppet modules

Change-Id: I94dfbcd4ed073404fecf35473c1aa5d7bd66030b
"
openstack%2Fopenstack-ansible-ops~master~I5563d6493a6a53374170c4bdaa1edfbff85b300d,openstack/openstack-ansible-ops,master,beats-journald,I5563d6493a6a53374170c4bdaa1edfbff85b300d,Add journald input support to filebeat,MERGED,2022-05-26 12:22:44.000000000,2022-05-26 16:34:19.000000000,2022-05-26 16:29:45.000000000,7,0,0,843447,79c11c0348bdf9a2ec4af7cf9b35bc1aa2d48122,8,3,1,1,31542,Andrew Bonney,andrewbonney,"Add journald input support to filebeat

Journalbeat is removed in ELK 7.16 and merged into
filebeat. This patch adds defaults which allow this
input to be enabled via a single variable.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-ops/+/843423
Change-Id: I5563d6493a6a53374170c4bdaa1edfbff85b300d
"
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~Ia693ee12e1cb474f849e2ce0f882ed6ada94066a,openstack/tripleo-puppet-elements,stable/wallaby,pe-cleanup-w,Ia693ee12e1cb474f849e2ce0f882ed6ada94066a,Remove support for Midonet plugin,MERGED,2022-05-04 02:03:04.000000000,2022-05-26 16:34:15.000000000,2022-05-26 16:34:15.000000000,0,287,2,840397,032da106900f9561a45a006aedaeb832c345621f,16,4,1,17,9816,Takashi Kajinami,kajinamit,"Remove support for Midonet plugin

Depends-on: https://review.opendev.org/670828
Change-Id: Ia693ee12e1cb474f849e2ce0f882ed6ada94066a
(cherry picked from commit 32c946e9225071a2aa64459ed6b2e418d1ecb168)
"
openstack%2Fskyline-apiserver~master~If0e8a2e73d0a7bf238e36119e678f813aedcbd40,openstack/skyline-apiserver,master,,If0e8a2e73d0a7bf238e36119e678f813aedcbd40,fix: Use the correct job for post,MERGED,2022-05-26 14:15:00.000000000,2022-05-26 16:32:02.000000000,2022-05-26 16:32:02.000000000,1,1,1,843470,ed1fb8ffca1181c3a9c66d10383f01fc997c23f4,8,2,1,1,28706,Boxiang Zhu,ZhuBoxiang,"fix: Use the correct job for post

Use the correct job for post. Use publish-openstack-python-branch-tarball
instead of publish-openstack-python-tarball.

Change-Id: If0e8a2e73d0a7bf238e36119e678f813aedcbd40
"
openstack%2Fopenstack-ansible-ops~master~I4cafc29bde353f4cf1286af73617b1ad3d5fea3d,openstack/openstack-ansible-ops,master,kibana-url,I4cafc29bde353f4cf1286af73617b1ad3d5fea3d,kibana: add configuration option for base url,MERGED,2022-05-26 12:26:27.000000000,2022-05-26 16:30:58.000000000,2022-05-26 16:27:19.000000000,9,0,0,843452,34d981cab60090ccd62b0d7a0d37c42d9aab89a4,8,3,1,2,31542,Andrew Bonney,andrewbonney,"kibana: add configuration option for base url

Recent versions of ELK complain when this URL is not
set. This parameters allows users to set the URL which
is used to access Kibana.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-ops/+/843423

Change-Id: I4cafc29bde353f4cf1286af73617b1ad3d5fea3d
"
openstack%2Fopenstack-ansible-ops~master~Ib889cc7ac7ad2540031016075cb5baab091bd6e3,openstack/openstack-ansible-ops,master,,Ib889cc7ac7ad2540031016075cb5baab091bd6e3,Update beat templates from 7.11 reference,MERGED,2021-03-05 07:43:56.000000000,2022-05-26 16:29:43.000000000,2022-05-26 16:29:43.000000000,4837,1414,0,778849,f97ebbf99048834467b072305308d05a9130a12b,31,6,9,8,25600,Ebbex,ebbex,"Update beat templates from 7.11 reference

Depends-On: Ida8668f5548a15a8f597839bd9002585aeea5d1a
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-ops/+/843423

Change-Id: Ib889cc7ac7ad2540031016075cb5baab091bd6e3
"
openstack%2Fopenstack-ansible-ops~master~I7fa759da107337c78c44b950b86a769df5e20d87,openstack/openstack-ansible-ops,master,kibana-template,I7fa759da107337c78c44b950b86a769df5e20d87,kibana: fix bug in templating variable selection,MERGED,2022-05-26 12:24:32.000000000,2022-05-26 16:29:39.000000000,2022-05-26 16:29:39.000000000,2,2,0,843451,e7e62f7b9813db41b1c507e57d02b211544a40a8,7,3,1,1,31542,Andrew Bonney,andrewbonney,"kibana: fix bug in templating variable selection

A long standing typo means that highly available
kibana instances could become confused. This becomes
more apparent when ELK security is enabled.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-ops/+/843423

Change-Id: I7fa759da107337c78c44b950b86a769df5e20d87
"
openstack%2Fopenstack-ansible-ops~master~Ib6b0e77b96aec33779062a81dbad0931eeaa8806,openstack/openstack-ansible-ops,master,beats-ilm,Ib6b0e77b96aec33779062a81dbad0931eeaa8806,beats: fix potential for indexes to be set up incorrectly,MERGED,2022-05-26 12:20:51.000000000,2022-05-26 16:29:32.000000000,2022-05-26 16:27:17.000000000,0,2,0,843445,27df34985ec1feb7d05267958e957645dc25074f,8,3,1,2,31542,Andrew Bonney,andrewbonney,"beats: fix potential for indexes to be set up incorrectly

If a deployment is running a mix of versions, running once
would only run against a single version, missing out the index
setup for other versions of the beats.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-ops/+/843423

Change-Id: Ib6b0e77b96aec33779062a81dbad0931eeaa8806
"
openstack%2Frequirements~master~I25897f14aa7aff3d20d74a0d06c5d6cb30eeba53,openstack/requirements,master,jammy-wheels,I25897f14aa7aff3d20d74a0d06c5d6cb30eeba53,Add Jammy wheel build jobs,MERGED,2022-05-24 20:27:31.000000000,2022-05-26 16:28:22.000000000,2022-05-26 16:24:21.000000000,9,0,2,843211,68f142432ecb5b1615a91633c9906970820b7fc1,12,3,2,1,7118,Ian Wienand,iwienand,"Add Jammy wheel build jobs

This ensures bindep works with Jammy

Change-Id: I25897f14aa7aff3d20d74a0d06c5d6cb30eeba53
"
openstack%2Fopenstack-ansible-ops~master~I6020d7b820c1f7d781691df9a1d657aef0ea010b,openstack/openstack-ansible-ops,master,,I6020d7b820c1f7d781691df9a1d657aef0ea010b,elk7: minimal fixes to CI jobs,MERGED,2022-05-26 10:17:29.000000000,2022-05-26 16:26:37.000000000,2022-05-26 16:22:54.000000000,16,3,0,843423,7cfcbbeccfd7d61c23ccbf9672dbc1f3d38532e3,12,3,3,4,31542,Andrew Bonney,andrewbonney,"elk7: minimal fixes to CI jobs

This is a minimal patch to address failing CI to enable
other patches to be submitted.

Similar patches are likely to be required for other OSA
ops components, but this will be tackled at a later date.

Change-Id: I6020d7b820c1f7d781691df9a1d657aef0ea010b
"
openstack%2Fec2-api~stable%2Fvictoria~I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,openstack/ec2-api,stable/victoria,remove-tripleo,I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,Remove TripleO job,NEW,2022-05-26 15:28:55.000000000,2022-05-26 16:26:22.000000000,,0,8,0,843407,f69db1ed64a0562d2bc7346139be676402f3883c,4,1,1,1,9816,Takashi Kajinami,kajinamit,"Remove TripleO job

... because TripleO deprecated support for EC2 API during Train cycle
and removed it during Ussuri cycle.

Change-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9
(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)
(cherry picked from commit 14c86d1fc5d151adc64c62043b1754ecf032d742)
(cherry picked from commit 6eaebd8672a4391b33885067a84cd4c2e204d584)
(cherry picked from commit 0466881b9a74392f64c8b2fddffbea5a23ba5eb9)
"
openstack%2Fneutron-dynamic-routing~master~Ibd3c9264698404ccd9f2711b4b3898def63d27e4,openstack/neutron-dynamic-routing,master,bug/1921461,Ibd3c9264698404ccd9f2711b4b3898def63d27e4,BGP speaker route handling,ABANDONED,2021-09-15 11:39:47.000000000,2022-05-26 16:22:36.000000000,,247,4,15,809173,58042bb4eec317cadb975d540743e334a548742e,25,1,13,6,33273,Manu B,eceghkl,"BGP speaker route handling

* Advertise tenant network routes to BGP peer
* Advertise neutron extra routes if advertise-extra-routes is true
* Installs learnt routes to router namespace
* Handles router events and advertise/withdraw routes

Signed-off-by: Manu B <manu.b@est.tech>
Change-Id: Ibd3c9264698404ccd9f2711b4b3898def63d27e4
"
openstack%2Fneutron-dynamic-routing~master~Ied48acd5c552515b1a5e16da6fd01c07ba974dd5,openstack/neutron-dynamic-routing,master,bug/1921461,Ied48acd5c552515b1a5e16da6fd01c07ba974dd5,BGPaaS server side implementation,ABANDONED,2021-07-27 09:40:54.000000000,2022-05-26 16:22:26.000000000,,585,25,217,802445,8ee0e3ca6e974179a76eeb00fd9ead02e40480d6,52,3,21,11,33273,Manu B,eceghkl,"BGPaaS server side implementation

* Addition of BGP L3 agent extension for handling BGP speaker router
  association and peer association
* Push router,peer association event from BGP plugin to BGP L3 agent extension
* Addition of privilieged module for executing BGP operations
* RPC client calls from L3 agent extension to osken BGP speaker for different
  BGP operations.

Signed-off-by: Manu B <manu.b@est.tech>
Change-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5
"
openstack%2Fneutron-dynamic-routing~master~I3369eb6c7823c38c38ec63d08fe8e25cc415acbc,openstack/neutron-dynamic-routing,master,bug/1921461,I3369eb6c7823c38c38ec63d08fe8e25cc415acbc,Support peer association to BGP speaker,ABANDONED,2021-07-15 05:20:12.000000000,2022-05-26 16:22:11.000000000,,295,1,21,800882,1e5d8c603ffdbd6e40fad1ba06548d6f770d57ee,26,6,10,7,33273,Manu B,eceghkl,"Support peer association to BGP speaker

* This change covers the support for create, get and delete
  operations for peer_associations to bgp speaker.
* It also covers the population of peer association DB.

Signed-off-by: Manu B <manu.b@est.tech>
Change-Id: I3369eb6c7823c38c38ec63d08fe8e25cc415acbc
"
openstack%2Fneutron-dynamic-routing~master~I0116fb8e7977c9595cdde0ba6944bc5c1f25c466,openstack/neutron-dynamic-routing,master,bug/1921461,I0116fb8e7977c9595cdde0ba6944bc5c1f25c466,Support router association to BGP speaker,ABANDONED,2021-05-20 09:46:40.000000000,2022-05-26 16:22:00.000000000,,490,3,44,792338,22f5cbb88ceac2b264e547297d110dbae8e0efec,55,8,22,10,33273,Manu B,eceghkl,"Support router association to BGP speaker

* This change covers the support for create, get and delete
  operations for router_associations to bgp speaker.
* It also covers the population of router association DB.
* Unit test for various operations are also covered.

Related-Bug: #1921461
Related-Change: https://review.opendev.org/783791 (spec)

Signed-off-by: Manu B <manubk2020@gmail.com>
Change-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466
"
openstack%2Fneutron~master~Idc6478e6f0fd1a2825b2c978b41feb5dab903357,openstack/neutron,master,bug/1975692,Idc6478e6f0fd1a2825b2c978b41feb5dab903357,"[OVN] During the DB migration, allow the DB context to finish",MERGED,2022-05-25 11:18:50.000000000,2022-05-26 16:14:26.000000000,2022-05-26 16:09:59.000000000,20,20,2,843263,3c637a2d127f7fdac5874fd9ed1b01137d303c7f,19,5,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN] During the DB migration, allow the DB context to finish

During the execution of ""migrate_neutron_database_to_ovn"", that is
part of the OVN database migration process, the port bindings are
updated. If by any circumstance a port binding update fails, the
database write context should end properly (rolling back the
transaction) and any exception raise should be catched outside it.

Closes-Bug: #1975692
Change-Id: Idc6478e6f0fd1a2825b2c978b41feb5dab903357
"
openstack%2Fnetworking-odl~master~I43f6032862ae2fcc77d41192c6a53ab01e3f594e,openstack/networking-odl,master,drop-py3-6-7,I43f6032862ae2fcc77d41192c6a53ab01e3f594e,Update python testing as per zed cycle teting runtime,MERGED,2022-05-12 03:29:35.000000000,2022-05-26 16:14:12.000000000,2022-05-26 16:12:14.000000000,8,4,0,841537,63202d4bc26dc2c6b7ad2e50871f9788ffa027be,8,3,1,3,8556,Ghanshyam,ghanshyam,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I43f6032862ae2fcc77d41192c6a53ab01e3f594e
"
openstack%2Fkolla-ansible~stable%2Fussuri~If4c85f8e960141d08a89accdc11a3271f31974c1,openstack/kolla-ansible,stable/ussuri,,If4c85f8e960141d08a89accdc11a3271f31974c1,talk TLS to openstack exporter via haproxy,MERGED,2022-05-26 13:21:25.000000000,2022-05-26 16:08:14.000000000,2022-05-26 16:05:46.000000000,11,0,0,843401,039009bd70ab03375eb5f21b59cba47e69823f57,9,3,1,2,14826,Mark Goddard,mgoddard,"talk TLS to openstack exporter via haproxy

Closes-Bug: #1975598
Change-Id: If4c85f8e960141d08a89accdc11a3271f31974c1
(cherry picked from commit fcba927d7b989cea8398b461da7363ceee3f14bc)
"
openstack%2Fkolla-ansible~master~I44c8a059918918f5bdc1c0190110a05d8d7f8f2d,openstack/kolla-ansible,master,redis-connection-string,I44c8a059918918f5bdc1c0190110a05d8d7f8f2d,Make redis connection string configurable,MERGED,2022-04-26 13:52:29.000000000,2022-05-26 16:07:41.000000000,2022-05-26 16:05:21.000000000,2,1,6,839388,71ea62543afe17002656d7f18d4651e54089ca51,21,3,3,1,27339,Michal Arbet,michalarbet,"Make redis connection string configurable

Change-Id: I44c8a059918918f5bdc1c0190110a05d8d7f8f2d
"
openstack%2Fneutron-dynamic-routing~master~Icf6beac7ee3150b719392c0b44c474510398b70a,openstack/neutron-dynamic-routing,master,drop-py3-6-7,Icf6beac7ee3150b719392c0b44c474510398b70a,Update python testing as per zed cycle teting runtime,MERGED,2022-05-12 03:29:03.000000000,2022-05-26 16:07:19.000000000,2022-05-26 16:04:53.000000000,8,3,0,841530,61817eaeee84a4f5538f0e5f7473231c903a9399,9,4,1,2,8556,Ghanshyam,ghanshyam,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Icf6beac7ee3150b719392c0b44c474510398b70a
"
openstack%2Ftap-as-a-service~master~Ib54a7e977dccdd2f4f5c4e54f048858abde5e351,openstack/tap-as-a-service,master,drop-py3-6-7,Ib54a7e977dccdd2f4f5c4e54f048858abde5e351,Update python testing as per zed cycle teting runtime,MERGED,2022-05-12 03:29:56.000000000,2022-05-26 16:00:50.000000000,2022-05-26 16:00:50.000000000,6,3,0,841542,a5cc42565f346a4c3c1872dc6c01b24673965708,7,3,1,2,8556,Ghanshyam,ghanshyam,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Ib54a7e977dccdd2f4f5c4e54f048858abde5e351
"
openstack%2Fproject-config~master~I406cb6dd721b48f893cd8a7ab9f36dcadec9a238,openstack/project-config,master,elastic-recheck,I406cb6dd721b48f893cd8a7ab9f36dcadec9a238,elastic-recheck: allow releasers to merge/delete,MERGED,2022-05-04 13:20:54.000000000,2022-05-26 15:49:57.000000000,2022-05-26 15:33:17.000000000,4,0,0,840455,0e5600fc78c08ba309e3b6cde3f5ea25fe4149c7,11,5,1,1,5263,Jeremy Stanley,fungi,"elastic-recheck: allow releasers to merge/delete

The opendev/elastic-recheck project has ongoing development
occurring on an ""rdo"" feature branch. Grant the release team for it
permission to merge that branch into master, as well as the ability
to delete the feature branch.

Change-Id: I406cb6dd721b48f893cd8a7ab9f36dcadec9a238
"
openstack%2Fneutron~master~I73ef9d4fd4176ba70d0b5e56920418d1b7771fd5,openstack/neutron,master,bug/1964575,I73ef9d4fd4176ba70d0b5e56920418d1b7771fd5,Add the corresponding DB context to all SQL transactions,ABANDONED,2022-05-12 11:17:59.000000000,2022-05-26 15:47:32.000000000,,11,7,6,841576,5247603f35a511e56a879667128c8cbc8b5d94f9,21,5,2,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add the corresponding DB context to all SQL transactions

The goal of this patch is to make the Neutron code compliant
with SQLAlchemy 2.0.

This patch is addressing the missing bits not implemented in
[1].

[1]https://review.opendev.org/c/openstack/neutron/+/833247

Related-Bug: #1964575
Related-Bug: #1973162

Change-Id: I73ef9d4fd4176ba70d0b5e56920418d1b7771fd5
"
openstack%2Fneutron~master~I32a49efd9d56f7c06d3bb1de1352be1311686c42,openstack/neutron,master,bug/1975797,I32a49efd9d56f7c06d3bb1de1352be1311686c42,[sqlalchemy-20] Add DB context in L2pop module,MERGED,2022-05-26 08:01:05.000000000,2022-05-26 15:45:14.000000000,2022-05-26 15:42:57.000000000,12,8,0,843413,b48595e419a02592dcf319ea4b4dda0912efa050,11,7,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[sqlalchemy-20] Add DB context in L2pop module

Some database operations in L2pop module didn't have the
needed database context to perform a query.

Closes-Bug: #1975797

Change-Id: I32a49efd9d56f7c06d3bb1de1352be1311686c42
"
openstack%2Fcontributor-guide~master~Ia9a817a74f190750080e27a6f1cbb5919ba28766,openstack/contributor-guide,master,zanata/translations,Ia9a817a74f190750080e27a6f1cbb5919ba28766,Imported Translations from Zanata,MERGED,2022-03-15 02:19:45.000000000,2022-05-26 15:40:07.000000000,2022-05-26 15:38:28.000000000,125,76,0,833707,78afca07cf0d287208f6997b04d6fdb5ab7d33fc,11,2,3,5,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia9a817a74f190750080e27a6f1cbb5919ba28766
"
openstack%2Fgovernance~master~I1d9ea039a4477d0e0bc59f98b6089556b9c27701,openstack/governance,master,tech-preview,I1d9ea039a4477d0e0bc59f98b6089556b9c27701,Defining Tech Preview,ABANDONED,2022-03-17 17:59:45.000000000,2022-05-26 15:34:22.000000000,,30,0,11,834208,aed4071699b62a1486c2340d12cda5506a73063f,14,3,2,1,16708,Kendall Nelson,kjnelson,"Defining Tech Preview

At the October 2021 PTG we discussed the addition of Skyline
and the need for some way of denoting that a project is a
part of OpenStack and can be in a release but is maybe not
quite ready yet for production.

Change-Id: I1d9ea039a4477d0e0bc59f98b6089556b9c27701
"
openstack%2Fopenstack-ansible-openstack_hosts~master~Ib287ac4805aac8be8b71537e9c52f0c7e57fb8d4,openstack/openstack-ansible-openstack_hosts,master,,Ib287ac4805aac8be8b71537e9c52f0c7e57fb8d4,Fix pam_env config for debian,MERGED,2022-05-26 11:10:16.000000000,2022-05-26 15:34:08.000000000,2022-05-26 15:32:49.000000000,8,0,0,843429,c0d1978ee9346ce19e1139ef6a1f6f0f89ea2284,8,3,1,1,25023,Jonathan Rosser,jrosser,"Fix pam_env config for debian

Debian requires a different fix for pam_env config than centos-9,
and this was broken in [1]. Return the original task to adjust pam
config on debian.

[1] Ibe4ab810ba48c9735af187d39fc34a7451c12d8a

Change-Id: Ib287ac4805aac8be8b71537e9c52f0c7e57fb8d4
"
openstack%2Fcharm-placement~stable%2Fxena~Ibc9d6f001ceeeac5794d8fd376be454c72c96fd7,openstack/charm-placement,stable/xena,charmhub-migration,Ibc9d6f001ceeeac5794d8fd376be454c72c96fd7,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:50:43.000000000,2022-05-26 14:40:40.000000000,2022-05-26 14:40:40.000000000,1,3,15,841983,714fafd10764604ba3c28cf2aa1d234b1e955983,37,3,3,1,20870,Alex Kavanagh,ajkavanagh,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: Ibc9d6f001ceeeac5794d8fd376be454c72c96fd7
"
openstack%2Fkolla-ansible~stable%2Fxena~I18a9559daeb3d124a03dcb735ebb01a2cf24f617,openstack/kolla-ansible,stable/xena,,I18a9559daeb3d124a03dcb735ebb01a2cf24f617,genpwd: handle lack of password file nicer,MERGED,2022-05-25 07:05:08.000000000,2022-05-26 14:32:52.000000000,2022-05-26 14:31:23.000000000,6,2,0,843204,87a217fc9e9a9ad6378692df5103d98489e77a5e,10,3,1,1,24072,Marcin Juszkiewicz,hrw,"genpwd: handle lack of password file nicer

From:

(kolla) 13:11 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
Traceback (most recent call last):
  File ""/home/marcin/.virtualenvs/kolla/bin/kolla-genpwd"", line 8, in <module>
    sys.exit(main())
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 135, in main
    genpwd(passwords_file, length, uuid_keys, ssh_keys, blank_keys,
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 59, in genpwd
    with open(passwords_file, 'r') as f:
FileNotFoundError: [Errno 2] No such file or directory: '/etc/kolla/passwords.yml'

To:

(kolla) 13:17 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
ERROR: Passwords file ""/etc/kolla/passwords.yml"" is missing

Change-Id: I18a9559daeb3d124a03dcb735ebb01a2cf24f617
(cherry picked from commit 333c74feb400d81e8c7cb3b4f529dd6d2510b586)
"
openstack%2Ftripleo-heat-templates~master~I47460231a0fee18448f9fa9169d9d6ca196a2587,openstack/tripleo-heat-templates,master,,I47460231a0fee18448f9fa9169d9d6ca196a2587,Clean up removed services from undercloud environment,MERGED,2022-05-17 05:51:47.000000000,2022-05-26 14:31:03.000000000,2022-05-26 14:19:55.000000000,0,32,4,842035,5a3d998a2a2aedc8e7096305c5b0a6e5da60df6f,10,4,1,1,9816,Takashi Kajinami,kajinamit,"Clean up removed services from undercloud environment

The following services were removed from Undercloud.
 - Aodh, Ceilometer, Gnocchi
 - Redis
 - Cinder
 - Heat (non ephemeral)
 - Nova
 - Placement
 - Glance
 - Swift

Also, neutron-metadata-agent has not been used in Undercloud.

Change-Id: I47460231a0fee18448f9fa9169d9d6ca196a2587
"
openstack%2Fneutron~master~Ia84410675d28002afc74368349c9b54f048f4f4d,openstack/neutron,master,,Ia84410675d28002afc74368349c9b54f048f4f4d,[ovn]Refusing to bind port to dead agent,MERGED,2022-01-20 07:10:01.000000000,2022-05-26 14:16:15.000000000,2022-05-26 14:14:31.000000000,98,94,26,825428,8a55f091925fd5e6742fb92783c524450843f5a0,118,8,20,8,30380,ZhouHeng,zhouhenglc,"[ovn]Refusing to bind port to dead agent

Closes-bug: #1958501

Change-Id: Ia84410675d28002afc74368349c9b54f048f4f4d
"
openstack%2Fskyline-apiserver~master~I4b536694ae311308cdc9b3a43b32c146613daf18,openstack/skyline-apiserver,master,,I4b536694ae311308cdc9b3a43b32c146613daf18,style: Re-generate the default config yaml,MERGED,2022-05-26 12:20:54.000000000,2022-05-26 13:56:07.000000000,2022-05-26 13:56:07.000000000,10,11,0,843446,37a0cacf267a5c8e48cbe7eeb79a0b94839d8f0b,6,2,1,2,28706,Boxiang Zhu,ZhuBoxiang,"style: Re-generate the default config yaml

Re-generate the default config yaml.

Change-Id: I4b536694ae311308cdc9b3a43b32c146613daf18
"
openstack%2Fcinder-specs~master~Ic038fd8b97e265285678c299ef25fd812e5709a0,openstack/cinder-specs,master,image-encryption,Ic038fd8b97e265285678c299ef25fd812e5709a0,Propose image-encryption spec for Zed,MERGED,2022-05-09 12:31:04.000000000,2022-05-26 13:44:34.000000000,2022-05-26 13:43:09.000000000,0,6,1,841110,13305d5ab1914b7696cb3c201b6942979fe32ffe,10,3,2,2,28271,Josephine Seifert,josei,"Propose image-encryption spec for Zed

This spec was approved for Train first and its approved status has been
carried along through Yoga. We propose it for Zed again.

Change-Id: Ic038fd8b97e265285678c299ef25fd812e5709a0
"
openstack%2Ftenks~master~I802b206199b06cfa1983f6f07f195660dd7d86ad,openstack/tenks,master,yoga-uc,I802b206199b06cfa1983f6f07f195660dd7d86ad,Use Yoga upper constraints to avoid Python version conflict,MERGED,2022-05-26 10:35:29.000000000,2022-05-26 13:38:13.000000000,2022-05-26 13:35:52.000000000,10,1,5,843427,66f0066273e6dfc9aab18bd71400d308d8e5b0e2,14,5,1,2,14826,Mark Goddard,mgoddard,"Use Yoga upper constraints to avoid Python version conflict

Requirements upper constraints bumped python-novaclient to version
18.0.0 [1], which requires Python 3.8 [2]. This results in failures when
installing python-openstackclient on CentOS and Rocky with Python 3.6.

    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.

    The conflict is caused by:
        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0
        The user requested (constraint) python-novaclient===18.0.0

Work around this issue by using yoga upper constraints until we upgrade
to CentOS Stream 9 and Rocky Linux 9.

[1] https://review.opendev.org/c/openstack/requirements/+/842808
[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944

Change-Id: I802b206199b06cfa1983f6f07f195660dd7d86ad
"
openstack%2Fkuryr-kubernetes~master~I90c132a0cdf6ee78052130bb5d038bec312934e1,openstack/kuryr-kubernetes,master,cloud-id,I90c132a0cdf6ee78052130bb5d038bec312934e1,Added identifier to the Port object.,ABANDONED,2022-05-09 09:13:28.000000000,2022-05-26 13:14:09.000000000,,8,1,17,841084,5252d83b466056f1ff45134bb30d83bdd7795135,22,3,4,3,13692,Roman Dobosz,gryf,"Added identifier to the Port object.

For the time being, it's not possible to create Neutron port with tags
in one atomic operation. We need to use a hack to identify ports created
by kuryr by marking them with (hopefully) unique identifier using
resource tags in description field. Perhaps, in the future Neutron will
gain such ability (not only for ports, but for other resources as well),
and than we could get rid of it.

Change-Id: I90c132a0cdf6ee78052130bb5d038bec312934e1
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I18a9559daeb3d124a03dcb735ebb01a2cf24f617,openstack/kolla-ansible,stable/wallaby,,I18a9559daeb3d124a03dcb735ebb01a2cf24f617,genpwd: handle lack of password file nicer,MERGED,2022-05-25 07:04:59.000000000,2022-05-26 13:05:14.000000000,2022-05-26 13:03:44.000000000,6,2,0,843203,a53f31bd015e1716bb41e6021aa0c27bf2e2b059,9,3,1,1,24072,Marcin Juszkiewicz,hrw,"genpwd: handle lack of password file nicer

From:

(kolla) 13:11 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
Traceback (most recent call last):
  File ""/home/marcin/.virtualenvs/kolla/bin/kolla-genpwd"", line 8, in <module>
    sys.exit(main())
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 135, in main
    genpwd(passwords_file, length, uuid_keys, ssh_keys, blank_keys,
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 59, in genpwd
    with open(passwords_file, 'r') as f:
FileNotFoundError: [Errno 2] No such file or directory: '/etc/kolla/passwords.yml'

To:

(kolla) 13:17 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
ERROR: Passwords file ""/etc/kolla/passwords.yml"" is missing

Change-Id: I18a9559daeb3d124a03dcb735ebb01a2cf24f617
(cherry picked from commit 333c74feb400d81e8c7cb3b4f529dd6d2510b586)
"
openstack%2Fkolla-ansible~master~If4c85f8e960141d08a89accdc11a3271f31974c1,openstack/kolla-ansible,master,,If4c85f8e960141d08a89accdc11a3271f31974c1,talk TLS to openstack exporter via haproxy,MERGED,2022-05-24 14:26:49.000000000,2022-05-26 13:05:11.000000000,2022-05-26 13:03:38.000000000,11,0,3,843150,fcba927d7b989cea8398b461da7363ceee3f14bc,13,6,3,2,33307,Kyle Dean,k-s-dean,"talk TLS to openstack exporter via haproxy

Closes-Bug: #1975598
Change-Id: If4c85f8e960141d08a89accdc11a3271f31974c1
"
openstack%2Fkolla-ansible~stable%2Fyoga~I18a9559daeb3d124a03dcb735ebb01a2cf24f617,openstack/kolla-ansible,stable/yoga,,I18a9559daeb3d124a03dcb735ebb01a2cf24f617,genpwd: handle lack of password file nicer,MERGED,2022-05-25 07:04:49.000000000,2022-05-26 13:05:05.000000000,2022-05-26 13:03:41.000000000,6,2,0,843202,785e269e56faac77ace3a6bd35bc76426ce6f009,9,3,1,1,24072,Marcin Juszkiewicz,hrw,"genpwd: handle lack of password file nicer

From:

(kolla) 13:11 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
Traceback (most recent call last):
  File ""/home/marcin/.virtualenvs/kolla/bin/kolla-genpwd"", line 8, in <module>
    sys.exit(main())
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 135, in main
    genpwd(passwords_file, length, uuid_keys, ssh_keys, blank_keys,
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 59, in genpwd
    with open(passwords_file, 'r') as f:
FileNotFoundError: [Errno 2] No such file or directory: '/etc/kolla/passwords.yml'

To:

(kolla) 13:17 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
ERROR: Passwords file ""/etc/kolla/passwords.yml"" is missing

Change-Id: I18a9559daeb3d124a03dcb735ebb01a2cf24f617
(cherry picked from commit 333c74feb400d81e8c7cb3b4f529dd6d2510b586)
"
openstack%2Fneutron~master~I614dc6b8da9596b748db285709f9fbb146560b6f,openstack/neutron,master,log_segment_host_mapping,I614dc6b8da9596b748db285709f9fbb146560b6f,Log when a segment is mapped/unmapped to a host,MERGED,2022-05-19 17:12:23.000000000,2022-05-26 12:38:40.000000000,2022-05-26 12:35:53.000000000,8,1,0,842576,ae4f9af5289ef7bb43b89be2c242d2c87ddb51ea,14,5,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Log when a segment is mapped/unmapped to a host

This patch adds debug messages when a segment (or a set of
segments) is mapped to a host (or a set of hosts). The
deletion of an entry is logged too.

Trivial-Fix

Change-Id: I614dc6b8da9596b748db285709f9fbb146560b6f
"
openstack%2Fneutron~master~I14ad015c4344b32f7210c924902dac4e6ad1ae88,openstack/neutron,master,bug/1965297,I14ad015c4344b32f7210c924902dac4e6ad1ae88,"Partially revert ""Do not link up HA router gateway in backup node""",MERGED,2022-03-17 13:04:04.000000000,2022-05-26 12:35:47.000000000,2022-05-26 12:35:47.000000000,24,76,9,834162,36bf1df46df4de8f9ed0c19e1118480ce2e55d8a,37,6,4,6,6737,Edward Hope-Morley,hopem,"Partially revert ""Do not link up HA router gateway in backup node""

This partially reverts commit c52029c39aa824a67095fbbf9e59eff769d92587.

We revert everything except one minor addition to
neutron/agent/l3/ha_router.py which ensures that ha_confs path is
created when the keepalived manager is initialised.

Closes-Bug: #1965297
Change-Id: I14ad015c4344b32f7210c924902dac4e6ad1ae88
"
openstack%2Fneutron~master~I34f3bbf7d30ddce23758ffb513abff0500b1fad6,openstack/neutron,master,neutron-ci-improvements,I34f3bbf7d30ddce23758ffb513abff0500b1fad6,Switch to cirros uec image in multinode jobs,MERGED,2022-05-25 06:28:49.000000000,2022-05-26 12:20:53.000000000,2022-05-26 12:17:43.000000000,12,0,0,843237,e04bd8fbdfa56320d16870b1f294b2cb62b8a828,9,5,1,1,13861,yatin,yatinkarel,"Switch to cirros uec image in multinode jobs

Kernel panic is seen in these jobs as well,
let's switch to cirros uec image to avoid it.

singlenode jobs already switched with
https://review.opendev.org/q/Ic57f828c08f1793226759baedb3eb2f646191e1f.

Change-Id: I34f3bbf7d30ddce23758ffb513abff0500b1fad6
"
openstack%2Ftripleo-ansible~master~I5cafac6d6fb2da351c0aa8ffffc6b4349e4c59bf,openstack/tripleo-ansible,master,cs-stream-molecule,I5cafac6d6fb2da351c0aa8ffffc6b4349e4c59bf,Ensure we create correct job names with role-addition.yml,MERGED,2022-05-24 05:55:45.000000000,2022-05-26 12:13:14.000000000,2022-05-26 12:11:42.000000000,6,6,4,843101,499a3cf76dd9db4f04c07bf4711edb637f8d2f2d,16,6,1,2,28223,Cedric Jeanneret,cjeanner,"Ensure we create correct job names with role-addition.yml

Since I21dd3741b54ed434e16d89db03e4e37ea093eabb, molecule jobs are now
based on ""centos-stream"" and not ""centos-8"" anymore.

This patch ensures the automation as well as the contribution doc are
reflecting this new state.

Change-Id: I5cafac6d6fb2da351c0aa8ffffc6b4349e4c59bf
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I2682f0cb3f6253b487eed2d40437ef5780e4ae77,openstack/puppet-tripleo,stable/train,stable/train-bug/1968691,I2682f0cb3f6253b487eed2d40437ef5780e4ae77,HAProxy: enable forwardfor for all http endpoints,MERGED,2022-04-26 10:05:01.000000000,2022-05-26 12:07:56.000000000,2022-05-26 12:07:56.000000000,10,11,1,839350,6b79d4680cfdd75776b19b38b3d324130b29d589,16,4,3,2,34564,Yamato Tanaka,yatanaka-1007,"HAProxy: enable forwardfor for all http endpoints

Currently all http endpoints except Horizon doesn't add
X-Forwarded-For header. In this cases each backend service
emits the HAProxy's IP address into its logs. This can make
investigation difficult.
This change enables forwardfor for all http end points and
makes those add X-Forwarded-For header.

(from stable/wallaby to stable/victoria)
Conflicts:
	manifests/haproxy.pp
	manifests/haproxy/endpoint.pp

(from stable/victoria to stable/train)
Conflicts:
	manifests/haproxy.pp

Closes-Bug: #1968691
Change-Id: I2682f0cb3f6253b487eed2d40437ef5780e4ae77
(cherry picked from commit d4afc29038916ef88c5cfdb67028b3ff6d7133fb)
(cherry picked from commit f1d263bcf886354b111cdf782daa22f78bcbecc7)
(cherry picked from commit 06eda6407606a06e5338a07f82eb44456f6c3052)
"
openstack%2Fceilometer~master~Ibbe806faa40148d02714c02908df52f12e49b744,openstack/ceilometer,master,push_to_gerrit,Ibbe806faa40148d02714c02908df52f12e49b744,Change gerrit dest to local gerrit server,ABANDONED,2022-05-26 11:49:20.000000000,2022-05-26 11:54:03.000000000,,8,3,0,843433,91d150fa19099a4e95ec567150340ea64e931324,2,0,1,1,32240,Yadnesh Kulkarni,ykulkarn,"Change gerrit dest to local gerrit server

Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: Ibbe806faa40148d02714c02908df52f12e49b744
"
openstack%2Fskyline-apiserver~master~I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349,openstack/skyline-apiserver,master,remove-poetry,I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349,chore: Remove poetry,MERGED,2022-05-23 03:58:33.000000000,2022-05-26 11:10:12.000000000,2022-05-26 11:10:12.000000000,310,4870,6,842907,1a050ec2c4a838bec0a73859b45aff027a4aa3c1,32,3,12,29,28706,Boxiang Zhu,ZhuBoxiang,"chore: Remove poetry

1. remove poetry dependency
2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg
3. add more env into tox.ini
4. remove some command from Makefile
5. cleanup the dependencies
6. change some commands of README
7. update the devstack

Depends-On: https://review.opendev.org/c/openstack/skyline-console/+/843257

Change-Id: I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349
"
openstack%2Fpuppet-tripleo~master~I4b20427a72a90a64e1ade0ca3fffe9a90aaae645,openstack/puppet-tripleo,master,,I4b20427a72a90a64e1ade0ca3fffe9a90aaae645,haproxy: Enable httplog for horizon endpoint,NEW,2022-05-10 02:22:10.000000000,2022-05-26 11:00:16.000000000,,2,2,1,841192,487217415396e57bfdb678df5c82ce6310b62d59,10,3,2,1,9816,Takashi Kajinami,kajinamit,"haproxy: Enable httplog for horizon endpoint

This is follow-up of 1a0b513423c378cc13ec982e5cb07ac87f0821e3 and
enables httplog for Horizon endpoint, so that operators can find L7
information about access to Horizon dashboard.

Related-Bug: #1930266
Change-Id: I4b20427a72a90a64e1ade0ca3fffe9a90aaae645
"
openstack%2Fdevstack~stable%2Fussuri~I4af0cbb6d40ec073a9a5d6a962a343f071613d44,openstack/devstack,stable/ussuri,,I4af0cbb6d40ec073a9a5d6a962a343f071613d44,[WIP] use unpinned upper-constratits for tempest venv,ABANDONED,2022-05-23 16:59:52.000000000,2022-05-26 10:53:20.000000000,,6,1,0,843006,0ac2429e6fedcad80f0947679ff40f0bc3d2147a,5,1,2,2,11604,sean mooney,sean-k-mooney,"[WIP] use unpinned upper-constratits for tempest venv

testing if we can unconstrain the tempest venv to allow
newer version of tempest to be used on stable branchs

Change-Id: I4af0cbb6d40ec073a9a5d6a962a343f071613d44
"
openstack%2Frequirements~stable%2Fussuri~Ib5712399794f57b94ba4b06bbb72c71214854eb3,openstack/requirements,stable/ussuri,bump-tempst-pin,Ib5712399794f57b94ba4b06bbb72c71214854eb3,bump tempest for stable/ussuri to yoga verion pin.,ABANDONED,2022-05-23 15:46:09.000000000,2022-05-26 10:53:05.000000000,,1,1,3,842991,daeebdb2c6e277c3e45b688403fd6b49fec6eab5,8,2,2,1,11604,sean mooney,sean-k-mooney,"bump tempest for stable/ussuri to yoga verion pin.

currently we have a number of issue with stable/ussuri
related to issue that are fixed upstream

yoga does not test any of the new default policy so lets
bump it and see if it work.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/843006
Change-Id: Ib5712399794f57b94ba4b06bbb72c71214854eb3
"
openstack%2Ftenks~master~I40c6b898963c2218d41d37bd73d40ce8dcf22b87,openstack/tenks,master,yoga-uc,I40c6b898963c2218d41d37bd73d40ce8dcf22b87,Use Yoga upper constraints to avoid Python version conflict,ABANDONED,2022-05-26 10:20:14.000000000,2022-05-26 10:47:23.000000000,,1,1,1,843424,f6f5e04fbe519d2053e202909a9d4804fec9e409,5,1,1,1,14200,Maksim Malchuk,mmalchuk,"Use Yoga upper constraints to avoid Python version conflict

Requirements upper constraints bumped python-novaclient to version
18.0.0 [1], which requires Python 3.8 [2]. This results in failures when
installing python-openstackclient on CentOS and Rocky with Python 3.6.

    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.

    The conflict is caused by:
        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0
        The user requested (constraint) python-novaclient===18.0.0

Work around this issue by using yoga upper constraints until we upgrade
to CentOS Stream 9 and Rocky Linux 9.

[1] https://review.opendev.org/c/openstack/requirements/+/842808
[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944

Change-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
"
openstack%2Fneutron~master~Id1907481077d230e4461906a1a2a1447abac330a,openstack/neutron,master,bug/1973276,Id1907481077d230e4461906a1a2a1447abac330a,"[OVN] Allow VIP ports with a defined ""device_owner""",MERGED,2022-05-13 09:59:35.000000000,2022-05-26 10:36:21.000000000,2022-05-18 09:35:41.000000000,33,29,3,841711,4c37497e7c98180fb6b1118021acd8e96b7028d0,22,5,3,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN] Allow VIP ports with a defined ""device_owner""

Now OVN VIP port can have a ""device_owner"" defined.

Closes-Bug: #1973276
Change-Id: Id1907481077d230e4461906a1a2a1447abac330a
"
openstack%2Fskyline-console~master~I00a008a73e4f0676dd846dd1ee8ad460f0842965,openstack/skyline-console,master,,I00a008a73e4f0676dd846dd1ee8ad460f0842965,chore: Remove poetry,MERGED,2022-05-25 10:28:22.000000000,2022-05-26 10:31:48.000000000,2022-05-26 10:31:48.000000000,109,649,3,843257,43aabd55d7421bb196e060c030e9a75b234bae07,11,2,1,13,28706,Boxiang Zhu,ZhuBoxiang,"chore: Remove poetry

1. remove poetry dependency
2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg
3. add more env into tox.ini
4. add version.py

Change-Id: I00a008a73e4f0676dd846dd1ee8ad460f0842965
"
openstack%2Fkayobe~stable%2Fxena~I40c6b898963c2218d41d37bd73d40ce8dcf22b87,openstack/kayobe,stable/xena,yoga-uc,I40c6b898963c2218d41d37bd73d40ce8dcf22b87,Use Yoga upper constraints to avoid Python version conflict,ABANDONED,2022-05-25 23:41:54.000000000,2022-05-26 10:22:18.000000000,,4,0,0,843350,3f4c872bbda49f934ded4b82973fcf4c4fc23c52,3,2,1,2,14200,Maksim Malchuk,mmalchuk,"Use Yoga upper constraints to avoid Python version conflict

Requirements upper constraints bumped python-novaclient to version
18.0.0 [1], which requires Python 3.8 [2]. This results in failures when
installing python-openstackclient on CentOS and Rocky with Python 3.6.

    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.

    The conflict is caused by:
        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0
        The user requested (constraint) python-novaclient===18.0.0

Work around this issue by using yoga upper constraints until we upgrade
to CentOS Stream 9 and Rocky Linux 9.

[1] https://review.opendev.org/c/openstack/requirements/+/842808
[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944

This is partially cherry picked change to solve only one issue with
Tenks deployment where upper constraints from master used.

Change-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87
(cherry picked from commit d2e0d64eb00d4cea8a4f8ff6a963b1ec0c3660ac)
"
openstack%2Fkayobe~stable%2Fwallaby~I40c6b898963c2218d41d37bd73d40ce8dcf22b87,openstack/kayobe,stable/wallaby,yoga-uc,I40c6b898963c2218d41d37bd73d40ce8dcf22b87,Use Yoga upper constraints to avoid Python version conflict,ABANDONED,2022-05-25 23:42:41.000000000,2022-05-26 10:21:57.000000000,,4,0,1,843351,a1a640bd2eebc289168c87322df3919708563082,5,2,1,2,14200,Maksim Malchuk,mmalchuk,"Use Yoga upper constraints to avoid Python version conflict

Requirements upper constraints bumped python-novaclient to version
18.0.0 [1], which requires Python 3.8 [2]. This results in failures when
installing python-openstackclient on CentOS and Rocky with Python 3.6.

    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.

    The conflict is caused by:
        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0
        The user requested (constraint) python-novaclient===18.0.0

Work around this issue by using yoga upper constraints until we upgrade
to CentOS Stream 9 and Rocky Linux 9.

[1] https://review.opendev.org/c/openstack/requirements/+/842808
[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944

This is partially cherry picked change to solve only one issue with
Tenks deployment where upper constraints from master used.

Change-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87
(cherry picked from commit d2e0d64eb00d4cea8a4f8ff6a963b1ec0c3660ac)
"
openstack%2Fkayobe~stable%2Fyoga~I40c6b898963c2218d41d37bd73d40ce8dcf22b87,openstack/kayobe,stable/yoga,yoga-uc,I40c6b898963c2218d41d37bd73d40ce8dcf22b87,Use Yoga upper constraints to avoid Python version conflict,ABANDONED,2022-05-25 21:41:16.000000000,2022-05-26 10:20:59.000000000,,6,0,3,843347,c04f315fbad54c00c0510c6451582603238d5f0f,7,3,2,3,14200,Maksim Malchuk,mmalchuk,"Use Yoga upper constraints to avoid Python version conflict

Requirements upper constraints bumped python-novaclient to version
18.0.0 [1], which requires Python 3.8 [2]. This results in failures when
installing python-openstackclient on CentOS and Rocky with Python 3.6.

    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.

    The conflict is caused by:
        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0
        The user requested (constraint) python-novaclient===18.0.0

Work around this issue by using yoga upper constraints until we upgrade
to CentOS Stream 9 and Rocky Linux 9.

[1] https://review.opendev.org/c/openstack/requirements/+/842808
[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944

This is partially cherry picked change to solve only one issue with
Tenks deployment where upper constraints from master used.

Change-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87
(cherry picked from commit d2e0d64eb00d4cea8a4f8ff6a963b1ec0c3660ac)
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I7734fae9b434e5bf6ff5a72e5bac248d4baa2800,openstack/openstack-ansible-openstack_hosts,master,add-passwd-rocky,I7734fae9b434e5bf6ff5a72e5bac248d4baa2800,Add passwd for rhel8.,MERGED,2022-05-03 16:09:43.000000000,2022-05-26 10:18:23.000000000,2022-05-26 10:16:55.000000000,1,0,11,840353,57fa3c4ab3c845a0bc18fb307cfd321b10958a2c,37,5,2,1,13095,Marc Gariépy,mgariepy,"Add passwd for rhel8.

Add passwd to fix rocky8 tests.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842086
Change-Id: I7734fae9b434e5bf6ff5a72e5bac248d4baa2800
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I18a83ef1909e758e82f7e9d888d65363a4528249,openstack/tripleo-heat-templates,stable/wallaby,,I18a83ef1909e758e82f7e9d888d65363a4528249,Switch to stestr,MERGED,2022-05-11 07:44:17.000000000,2022-05-26 09:48:01.000000000,2022-05-26 09:46:50.000000000,17,6,1,841375,a872a8f97ff4f38ace18edb893405c088101b85c,14,3,2,5,29775,Sandeep Yadav,sandeepyadav93,"Switch to stestr

stestr is maintained project to which all Openstack projects
should use.

Change-Id: I18a83ef1909e758e82f7e9d888d65363a4528249
(cherry picked from commit 90cf6a6dbe196ecf8903982fe51c8598e82e6b6a)
"
openstack%2Fneutron~stable%2Fwallaby~Iac4eb364bfc1c44f5d4526bae71967bede29cc36,openstack/neutron,stable/wallaby,bug/1950679-stable/xena-stable/wallaby,Iac4eb364bfc1c44f5d4526bae71967bede29cc36,[OVN] Fix deadlock in neutron_ovn_db_sync_util.py,MERGED,2022-05-24 17:06:51.000000000,2022-05-26 09:32:18.000000000,2022-05-26 09:30:53.000000000,1,0,2,843190,941c822b7ba62217e3f4740b5ca5662895d60ae8,19,6,1,1,8655,Jakub Libosvar,jlibosva,"[OVN] Fix deadlock in neutron_ovn_db_sync_util.py

A feature to synchronize OVN DB connections when handling events
introduced in 90980f496cfa3cc5df1c93cf834a44f33d3f1f6f is not applicable
to the offline sync process executed by this utility.

Closes-bug: #1950679
Change-Id: Iac4eb364bfc1c44f5d4526bae71967bede29cc36
(cherry picked from commit 7e2f73350ffdc90f7b340788db36edc439f96f6e)
(cherry picked from commit dd89a0748c15ec3905b1680957bd959d8d822c10)
"
openstack%2Fec2-api~stable%2Fyoga~I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,openstack/ec2-api,stable/yoga,remove-tripleo,I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,Remove TripleO job,MERGED,2022-05-26 05:10:40.000000000,2022-05-26 09:11:57.000000000,2022-05-26 09:09:40.000000000,0,8,1,843376,14c86d1fc5d151adc64c62043b1754ecf032d742,11,2,1,1,9816,Takashi Kajinami,kajinamit,"Remove TripleO job

... because TripleO deprecated support for EC2 API during Train cycle
and removed it during Ussuri cycle.

Change-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9
(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)
"
openstack%2Fopenstack-ansible-ceph_client~stable%2Fvictoria~I0d6014649307bb6556cdc189cf8d749e1ec9b20a,openstack/openstack-ansible-ceph_client,stable/victoria,,I0d6014649307bb6556cdc189cf8d749e1ec9b20a,Use global package_state,MERGED,2022-05-20 18:35:58.000000000,2022-05-26 09:00:52.000000000,2022-05-26 08:59:06.000000000,1,1,1,842408,26fe0cf4a04ce89a253e553b1cae75cd54c83583,10,2,2,1,25023,Jonathan Rosser,jrosser,"Use global package_state

We missed upating ceph_client_package_state to use package_state
for default value, as other roles do.
So we're fixing it not to update ceph client packages every time, which
can lead to interesting consequences depending on the destination.

Change-Id: I0d6014649307bb6556cdc189cf8d749e1ec9b20a
(cherry picked from commit 6fbe1ab3c0e0aa9696f473bc6b7f7fe9a0a332ec)
"
openstack%2Fec2-api~stable%2Fxena~I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,openstack/ec2-api,stable/xena,remove-tripleo,I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,Remove TripleO job,MERGED,2022-05-26 05:11:04.000000000,2022-05-26 08:52:05.000000000,2022-05-26 08:50:14.000000000,0,8,2,843377,6eaebd8672a4391b33885067a84cd4c2e204d584,10,2,1,1,9816,Takashi Kajinami,kajinamit,"Remove TripleO job

... because TripleO deprecated support for EC2 API during Train cycle
and removed it during Ussuri cycle.

Change-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9
(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)
(cherry picked from commit 14c86d1fc5d151adc64c62043b1754ecf032d742)
"
openstack%2Fopenstack-ansible~master~Ie77e7c46b8fe1ca384b4e56d75ce551867647cb7,openstack/openstack-ansible,master,,Ie77e7c46b8fe1ca384b4e56d75ce551867647cb7,[doc] Mark Bionic and Buster as unsupported for Y,MERGED,2022-05-25 19:06:34.000000000,2022-05-26 08:39:05.000000000,2022-05-26 08:37:10.000000000,3,3,0,843340,0823e54748eed3411365d2f27c2377a265b2f099,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[doc] Mark Bionic and Buster as unsupported for Y

We have dropped both Ubuntu 18.04 and Debian 10 support for Yoga.
That should be reflected in compatability matrix as well.

Change-Id: Ie77e7c46b8fe1ca384b4e56d75ce551867647cb7
"
openstack%2Fzaqar-specs~master~I0c72543f8ea4e50c2e5731fec44cb4555647476c,openstack/zaqar-specs,master,,I0c72543f8ea4e50c2e5731fec44cb4555647476c,remove unicode literal from code,NEW,2022-05-26 08:27:40.000000000,2022-05-26 08:34:18.000000000,,4,4,0,843414,8315b6887283aeba49e16123eb7ecddd45774ac6,3,1,2,1,33881,LiZekun,joeylee666666,"remove unicode literal from code

All strings are considered as unicode string from Python 3.

This patch drops the explicit unicode literal (u'...')
appearances from the unicode strings.

Change-Id: I0c72543f8ea4e50c2e5731fec44cb4555647476c
"
openstack%2Fansible-collection-kolla~master~Ifb0116df8af7e02ef119780a08e8841d2865cf15,openstack/ansible-collection-kolla,master,,Ifb0116df8af7e02ef119780a08e8841d2865cf15,baremetal: refactor package installation into a separate role,MERGED,2022-02-16 17:45:07.000000000,2022-05-26 07:53:08.000000000,2022-05-26 07:51:59.000000000,61,75,10,829586,844903c58653a054605dcc8506dab128cec34408,33,4,9,6,14826,Mark Goddard,mgoddard,"baremetal: refactor package installation into a separate role

* Use package module for all distros
* Apply Apt TTL on Debian/Ubuntu

Change-Id: Ifb0116df8af7e02ef119780a08e8841d2865cf15
"
openstack%2Fcinder~master~Ie81dbb84fb3b3439bd46f96f1202649b7a7f04ec,openstack/cinder,master,pylint,Ie81dbb84fb3b3439bd46f96f1202649b7a7f04ec,Address pylint error,MERGED,2022-04-27 19:15:22.000000000,2022-05-26 07:51:34.000000000,2022-05-16 20:51:22.000000000,47,20,12,839628,33de368847485cd12384dda087fc979c6d8e8d73,83,4,2,2,5314,Brian Rosmaita,brian-rosmaita,"Address pylint error

Minor refactoring to avoid a ""E1135: Value 'backup' doesn't support
membership test (unsupported-membership-test)"" issue.  Now it's
clear to pylint that 'backup' must be a cinder.object.

Also enhanced some tests to make sure quotas are being handled
correctly when an exception occurs during backup creation.

Change-Id: Ie81dbb84fb3b3439bd46f96f1202649b7a7f04ec
"
openstack%2Fsolum~master~If3e1221e62ccc9b118cf3a2db9f8c6a18d4145bc,openstack/solum,master,drop-l-c,If3e1221e62ccc9b118cf3a2db9f8c6a18d4145bc,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 18:04:08.000000000,2022-05-26 07:45:11.000000000,2022-05-26 07:43:57.000000000,4,151,0,840122,6be3d0353bc3464bd9af85e996a5331185f162ac,7,2,1,3,8556,Ghanshyam,ghanshyam,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: If3e1221e62ccc9b118cf3a2db9f8c6a18d4145bc
"
openstack%2Fironic~master~Ic261efd4bf6f5929687df5e7b1b51b541554af18,openstack/ironic,master,centos9,Ic261efd4bf6f5929687df5e7b1b51b541554af18,devstack: use CentOS 9 for DIB IPA builds,MERGED,2022-05-18 07:46:03.000000000,2022-05-26 07:41:18.000000000,2022-05-26 07:38:59.000000000,12,5,2,842277,81f583f69b76d608bd99be0d59cc808b64effc4a,27,4,3,4,10239,Dmitry Tantsur,dtantsur,"devstack: use CentOS 9 for DIB IPA builds

Additionally bumps CPU model to host-model as centos9 builds now
require a subset of CPU processors which include advanced features.
Host-model also allows for the VM to still start when running with
pure qemu, as opposed to KVM passthrough.

https://developers.redhat.com/blog/2021/01/05/building-red-hat-enterprise-linux-9-for-the-x86-64-v2-microarchitecture-level#architectural_considerations_for_rhel_9

Change-Id: Ic261efd4bf6f5929687df5e7b1b51b541554af18
"
openstack%2Fmurano-agent~master~Ic80a50009e77e8c99f189e4ea1ecee5d1aad4d82,openstack/murano-agent,master,drop-l-c,Ic80a50009e77e8c99f189e4ea1ecee5d1aad4d82,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:25:37.000000000,2022-05-26 07:13:13.000000000,2022-05-26 07:10:57.000000000,4,174,0,840086,eff24e0861b9aa7b900aeab245030a3e582a0de4,7,2,1,4,8556,Ghanshyam,ghanshyam,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ic80a50009e77e8c99f189e4ea1ecee5d1aad4d82
"
openstack%2Fsolum-dashboard~master~I4e59574223b3df314d9e9a331ad33664720b3ac3,openstack/solum-dashboard,master,,I4e59574223b3df314d9e9a331ad33664720b3ac3,Address RemovedInDjango40Warning,MERGED,2022-04-29 16:30:59.000000000,2022-05-26 07:12:08.000000000,2022-05-26 07:12:08.000000000,23,22,0,839968,e881ae235f369afea7f276f091eabe01ddb79a1b,6,2,1,3,29313,Vishal Manchanda,vishalmanchanda,"Address RemovedInDjango40Warning

In Django 3.1, django.conf.urls.url() is deprecated
in favor of django.urls.re_path(). For more info see [1]
These were already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2
[2] https://review.opendev.org/c/openstack/horizon/+/827093

Change-Id: I4e59574223b3df314d9e9a331ad33664720b3ac3
"
openstack%2Fskyline-console~master~I9d8c52635061f5529f6c86b3bcb0df68e4e2153b,openstack/skyline-console,master,open-lb,I9d8c52635061f5529f6c86b3bcb0df68e4e2153b,fix: Fix certificate,MERGED,2022-05-26 04:40:28.000000000,2022-05-26 07:12:06.000000000,2022-05-26 07:12:06.000000000,17,7,0,843375,3544b35a5b78495799dc9b0b2460a046899af84b,6,2,1,4,33689,xusongfu,xusongfu,"fix: Fix certificate

1. Fix certificate id in listener
2. Fix TERMINATED_HTTPS change to HTTPS in list and detail info

Change-Id: I9d8c52635061f5529f6c86b3bcb0df68e4e2153b
"
openstack%2Fsolum-dashboard~master~I2114803b2b729fc83a2ab71aa6c91b9340203534,openstack/solum-dashboard,master,drop-l-c,I2114803b2b729fc83a2ab71aa6c91b9340203534,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 18:05:00.000000000,2022-05-26 07:09:42.000000000,2022-05-26 07:09:42.000000000,4,147,0,840124,297460c287521002f88f828926c125e0ea7cac43,7,3,1,4,8556,Ghanshyam,ghanshyam,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I2114803b2b729fc83a2ab71aa6c91b9340203534
"
openstack%2Fmurano-tempest-plugin~master~I0743a6c1e9a97740aa5e5cb7f10bc0f06aabbf05,openstack/murano-tempest-plugin,master,,I0743a6c1e9a97740aa5e5cb7f10bc0f06aabbf05,Fix import of orchestration_client in base class,MERGED,2022-05-24 01:19:08.000000000,2022-05-26 07:08:06.000000000,2022-05-26 07:08:06.000000000,3,3,0,843040,1ca439adb0c11ceff702bff409b6e00ffffb0ed9,6,2,1,1,8556,Ghanshyam,ghanshyam,"Fix import of orchestration_client in base class

orchestration_client is recently moved from tempest
to murano-tempest-plugin but there is one import error
and instantiation of orchestration_client. Fixing the
error.

Change-Id: I0743a6c1e9a97740aa5e5cb7f10bc0f06aabbf05
"
openstack%2Fec2-api~stable%2Fwallaby~I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,openstack/ec2-api,stable/wallaby,remove-tripleo,I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,Remove TripleO job,MERGED,2022-05-26 05:11:31.000000000,2022-05-26 07:01:47.000000000,2022-05-26 06:58:46.000000000,0,8,0,843378,0466881b9a74392f64c8b2fddffbea5a23ba5eb9,7,2,1,1,9816,Takashi Kajinami,kajinamit,"Remove TripleO job

... because TripleO deprecated support for EC2 API during Train cycle
and removed it during Ussuri cycle.

Change-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9
(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)
(cherry picked from commit 14c86d1fc5d151adc64c62043b1754ecf032d742)
(cherry picked from commit 6eaebd8672a4391b33885067a84cd4c2e204d584)
"
openstack%2Ftripleo-heat-templates~master~Ia1e6d27c90911af5ea6c7012a5d70f56fb8bfe7b,openstack/tripleo-heat-templates,master,puppet-firewall-cleanup,Ia1e6d27c90911af5ea6c7012a5d70f56fb8bfe7b,Drop removed tripleo::firewall parameters,MERGED,2022-05-13 12:30:39.000000000,2022-05-26 06:57:00.000000000,2022-05-26 06:57:00.000000000,1,3,1,841751,3eda1ad21298044cf69fc401c25225a893f452b8,13,4,1,1,9816,Takashi Kajinami,kajinamit,"Drop removed tripleo::firewall parameters

The tripleo::firewall class was removed thus its parameter should be
removed from hieradata.

Depends-on: https://review.opendev.org/841729
Change-Id: Ia1e6d27c90911af5ea6c7012a5d70f56fb8bfe7b
"
openstack%2Fopenstack-ansible-ceph_client~stable%2Fvictoria~I3542e5f5fab7a8be87a10d5a194cf59bbeebcb7c,openstack/openstack-ansible-ceph_client,stable/victoria,workaround-setuptools-autodiscovery-stable/victoria,I3542e5f5fab7a8be87a10d5a194cf59bbeebcb7c,Disable setuptools auto discovery,MERGED,2022-05-24 16:30:14.000000000,2022-05-26 06:43:29.000000000,2022-05-26 06:42:16.000000000,1,0,0,842949,c5fdae7c6ec20c5a35ce99550aa3f0da27ecd1d7,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Disable setuptools auto discovery

Jobs are broken due to a release of setuptools 61.0 introducing
non-backwards compatible breaking changes [1]

Setting py_modules to an empty string here will disable autodiscovery
and should permit jobs to run as before.

[1] https://github.com/pypa/setuptools/issues/3197

Signed-off-by: Neil Hanlon <neil@shrug.pw>
Change-Id: I3542e5f5fab7a8be87a10d5a194cf59bbeebcb7c
"
openstack%2Ftap-as-a-service~master~I5aef8683df55b0825181e57257f0b71887315e52,openstack/tap-as-a-service,master,bug/1973757,I5aef8683df55b0825181e57257f0b71887315e52,Add context for all SQL transactions,MERGED,2022-05-17 14:53:53.000000000,2022-05-26 06:37:08.000000000,2022-05-25 07:25:38.000000000,160,134,39,842134,f59837263cea5c4bdcb254586da8c27b1ce14189,41,7,10,5,8313,Lajos Katona,elajkat,"Add context for all SQL transactions

Follow the last efforts to make Neutron compatible with sqlalchemy-20
(see [1]), and use the necessary context for all SQL transactions.

Also make tempest job non-voting until [2] merges.

[1] https://review.opendev.org/c/openstack/neutron-lib/+/828738
[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/842113

Closes-Bug: #1973757
Change-Id: I5aef8683df55b0825181e57257f0b71887315e52
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I1b44c99d11cd477ba01f50b773d3399cee166fc6,openstack/networking-ovn,stable/train,,I1b44c99d11cd477ba01f50b773d3399cee166fc6,Use Port_Binding up column to set Neutron port status,MERGED,2022-01-03 12:38:37.000000000,2022-05-26 06:31:28.000000000,2022-02-17 11:36:24.000000000,393,257,4,823279,d4651da300838388c3cc2a9d74405077ae6f8c1f,27,4,7,4,23567,Luis Tomas Bolivar,ltomasbo,"Use Port_Binding up column to set Neutron port status

Currently in order to bring Neutron port to active, Neutron waits for
Logical Switch Port to become up in OVN. That means ovn-controller
changes the up status in SB DB and northd propagates it up to NB DB.
We do not need to wait and can save some time if we use the newly added
SB DB up column instead, when possible:
https://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152

This patch also includes squashed patch:
https://review.opendev.org/c/openstack/neutron/+/823818
Ensure only the right events are processed

There is no need to set up CR-LRP ports up, as well as there is no
need to re-process the router ports after the initial creation

This patch also includes squashed patch:
https://review.opendev.org/c/openstack/neutron/+/823412
Ensure subports transition to DOWN

Due to a bug in OVN seting the subports SB DB ""up"" field to False
after subport detachment from the trunk port, the subports are never
transition from ACTIVE to DOWN after this patch:
https://review.opendev.org/c/openstack/neutron/+/821544

This patch ensures the chassis is also considered for such cases,
and ports without chassis but ""up"" field set to True are
transitioned to DOWN.
Closes-Bug: #1956233

(manually cherry-picked from commit 37d4195b516f12b683b774f0561561b172dd15c6)
(manually squashed commit from 5e036a6b281e4331f396473e299b26b2537d5322)
(manually squashed commit from 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa)

Change-Id: I1b44c99d11cd477ba01f50b773d3399cee166fc6
"
openstack%2Fec2-api~master~I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,openstack/ec2-api,master,remove-tripleo,I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,Remove TripleO job,MERGED,2022-05-26 02:01:16.000000000,2022-05-26 05:59:48.000000000,2022-05-26 05:57:53.000000000,0,8,0,843357,ebb12611cadca3e6e817f1d7f5badce014fab2c3,9,2,2,1,9816,Takashi Kajinami,kajinamit,"Remove TripleO job

... because TripleO deprecated support for EC2 API during Train cycle
and removed it during Ussuri cycle.

Change-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9
"
openstack%2Fpuppet-tripleo~master~I466e547b878641573520011cf69d23e96a82adac,openstack/puppet-tripleo,master,,I466e547b878641573520011cf69d23e96a82adac,auditd: Enable auditd earlier,ABANDONED,2022-03-02 16:15:18.000000000,2022-05-26 05:37:48.000000000,,1,7,3,831554,abcabe30a6fb1c7e793258c810185d3de9683033,9,3,1,1,9816,Takashi Kajinami,kajinamit,"auditd: Enable auditd earlier

Currently we configure and start the autitd service in step 4. However
this service has no dependencies on the other services and can be
started earlier. This change moves the task from step 4 to step 1, so
that we can reduce reference to 'step' hiera.

Change-Id: I466e547b878641573520011cf69d23e96a82adac
"
openstack%2Fcharms.openstack~master~I4758330db81a95ac2aa17f9bc316afdc2eab2d44,openstack/charms.openstack,master,,I4758330db81a95ac2aa17f9bc316afdc2eab2d44,Replace deprecated _ows_check_services_running,NEW,2022-05-26 05:25:12.000000000,2022-05-26 05:30:35.000000000,,4,4,0,843381,4bc5ea9133327ccd360d3c00e1371d24f39e373c,2,1,1,2,21107,Trent Lloyd,lathiat,"Replace deprecated _ows_check_services_running

_ows_check_services_running was made public as ows_check_services_running and
it's private function name was made an alias and marked deprecate by
https://github.com/juju/charm-helpers/pull/658

Switch to the new name to avoid many deprecation warnings being printed by
dependant charms:

DEPRECATION WARNING: Function _ows_check_services_running is being removed'
on/around 2022-05 : use ows_check_services_running() instead

Change-Id: I4758330db81a95ac2aa17f9bc316afdc2eab2d44
"
openstack%2Fneutron~stable%2Ftrain~Ic003d08c06a96ded77770a883fd9fb59424ee189,openstack/neutron,stable/train,dnm,Ic003d08c06a96ded77770a883fd9fb59424ee189,[DNM] Test grenade fix,ABANDONED,2022-05-24 14:15:23.000000000,2022-05-26 05:26:43.000000000,,0,91,0,843149,3fe619310df4b3fc4cfeabb8a8463290a966aabb,6,1,2,1,13861,yatin,yatinkarel,"[DNM] Test grenade fix

Depends-On: https://review.opendev.org/c/openstack/devstack-gate/+/843148
Change-Id: Ic003d08c06a96ded77770a883fd9fb59424ee189
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I0674b9f3e4f8d5075cfd1aa9df9d43a2b3c99c8a,openstack/tripleo-ansible,stable/wallaby,wallabystory/2010018,I0674b9f3e4f8d5075cfd1aa9df9d43a2b3c99c8a,Use instance_info.display_name for existing hostname matching,MERGED,2022-05-18 21:34:55.000000000,2022-05-26 05:20:34.000000000,2022-05-26 05:19:25.000000000,168,15,3,842434,63aa45a7735f11e5bc4e06a16ca352d96b87bee5,15,5,2,2,4571,Steve Baker,steve-stevebaker,"Use instance_info.display_name for existing hostname matching

When profile matching is used on a nova based undercloud and the node
names match the role hostname convention then the resulting exported
instances can reveal mixed name/hostname:

  instances:
  - hostname: controller-0
    name: controller-2
  - hostname: controller-1
    name: controller-1
  - hostname: controller-2
    name: controller-0

In this case, check_existing incorrectly uses the node name when
matching the hostname, when the actual hostname is in
instance_info.display_name.

This change fixes this by first matching hostname to existing nodes
instance_info.display_name, falling back to node name if there is no
match.

Since there is no way to lookup nodes by instance_info.display_name,
all nodes are queried to build a display_name->uuid dictionary.

Change-Id: I0674b9f3e4f8d5075cfd1aa9df9d43a2b3c99c8a
Story: 2010018
Task: 45211
rhbz: #2079935
(cherry picked from commit a52a097749cef491825a70a7083c9bbf8ac15107
                and commit ef3626e2ffc90ee1a93856c4a95f78d2e2deb326)
"
openstack%2Fpython-tripleoclient~master~I008ac81cd803adbd08a9509902e46967f8b7d2e4,openstack/python-tripleoclient,master,,I008ac81cd803adbd08a9509902e46967f8b7d2e4,Improved test coverage for tripleo validator,MERGED,2022-04-27 10:20:41.000000000,2022-05-26 04:19:01.000000000,2022-05-26 04:17:49.000000000,50,1,2,839509,6a9db445d66a3426a5cfecedf5f0e07ffc664468,16,7,1,2,32926,Jiri Podivin,jpodivin,"Improved test coverage for tripleo validator

The validator run subcommand which was previously without
any unit test coverage now has it's basic operation mode tested.

Assertions are placed on calls and return values of the parser.

The existing test structure was improved with enabling of autospec
on mocked API.

Closes-Bug: #1970387

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I008ac81cd803adbd08a9509902e46967f8b7d2e4
"
openstack%2Fdiskimage-builder~master~I63a34fba033ed1c459aeb9c201c8821fa38a36e9,openstack/diskimage-builder,master,,I63a34fba033ed1c459aeb9c201c8821fa38a36e9,Check and mount boot volume for data extraction with nouuid,MERGED,2022-05-25 15:37:21.000000000,2022-05-26 03:56:44.000000000,2022-05-26 03:55:27.000000000,12,1,3,843297,57149d9eb19f81c1b4278fffaa6c4c2894d9589f,16,4,2,1,11655,Julia Kreger,jkreger,"Check and mount boot volume for data extraction with nouuid

When building an image, say RHEL9, on a host installed with that
same image, you will be blocked from mounting the filesystems to
extract contents, as the host OS kernel will identify the duplicate
UUIDs and error accordingly.

This was previously fixed for the root filesystem, but not the boot
filesystem.

Change-Id: I63a34fba033ed1c459aeb9c201c8821fa38a36e9
"
openstack%2Fos-net-config~master~I2398e3881310746f349e2c9a89c64956efbc13b2,openstack/os-net-config,master,bug/1973566,I2398e3881310746f349e2c9a89c64956efbc13b2,Format json output properly,MERGED,2022-05-16 04:05:35.000000000,2022-05-26 03:43:55.000000000,2022-05-26 03:42:31.000000000,4,3,0,841830,88a4c885f6feec08209aebbb859f34957b952b26,9,3,2,1,9816,Takashi Kajinami,kajinamit,"Format json output properly

str(dict) or print(dict) format a dict value into an invalid json
string because it uses single quotes(') instead of double quotes("").

This also fixes the log messages which mentions 'JSON' but doesn't
convert a dict value to a valid json string.

Closes-Bug: #1973566
Change-Id: I2398e3881310746f349e2c9a89c64956efbc13b2
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8a018c8c7435a753c8ed5b5fa211d91d053f8d67,openstack/tripleo-heat-templates,stable/train,,I8a018c8c7435a753c8ed5b5fa211d91d053f8d67,Allow partial override about SshServerOptions,MERGED,2022-05-16 03:55:03.000000000,2022-05-26 03:43:46.000000000,2022-05-26 03:42:26.000000000,15,2,0,841829,e7d9f8718811f5fc32f3fc0059c520581921e8c0,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Allow partial override about SshServerOptions

When operator needs to change any options described in sshd_config,
he/she should use the parameter named SshServerOptions to define
the updated configuration.

However the problem here is that he/she should define the whole content
instead of the actual lines to be overridden, otherwise some of the
lines defined in its default can be missing from configuration. This
makes it difficutlt to properly update the parameter during update or
upgrade, since operators always need to check whetehr any change has
been made about the default of SshServerOptions.

This change introduces a new parameter, SshServerOptionsOverride, which
can be used to override specific line in SshServerOptions. Note that
SshServerOptions should still be used if any of the lines in
SshServerOptions needs to be removed.

Backport Note:
Resolved the conflict caused by sshd-baremetal-ansible.yaml, which
doesn't exist in stable branches.

(to stable/train)
Conflicts:
	deployment/sshd/sshd-baremetal-puppet.yaml

resolved conflict caused by 50367fbe3563d34976deb377ed32b6f26aeca44f .

Change-Id: I8a018c8c7435a753c8ed5b5fa211d91d053f8d67
(cherry picked from commit bfd97da0bfa386642d47e8d317aad70c99594cd5)
(cherry picked from commit 26298a65c2261aef90481d6f8e56cf4d36f0fb72)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I05ba5fb48c617a5bbedebb8b74c23bec9abf3bbd,openstack/tripleo-heat-templates,stable/wallaby,,I05ba5fb48c617a5bbedebb8b74c23bec9abf3bbd,Stop generating certificate requests for disabled networks,MERGED,2022-05-16 16:29:24.000000000,2022-05-26 03:42:33.000000000,2022-05-26 03:42:33.000000000,9,6,0,841930,7013a04e04a5f941710bd311003cbdeb647e62d7,7,3,1,1,21129,Alan Bishop,ASBishop,"Stop generating certificate requests for disabled networks

The certificate requests created based on ApacheNetworks require fqdn_NETWORK to be set.
The will only be defined for the networks that are enabled for the current role.

Currently requests are generated for all networks. This happens to work for the Controller role
as all networks are enabled. However it fails on DCN compute nodes that are not on the external
network (they use apache for local glance-api services).

Change-Id: I05ba5fb48c617a5bbedebb8b74c23bec9abf3bbd
(cherry picked from commit 4e3d900942bd7a4f4cae8f95fac4ff1cfd07675b)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ia284f5687bcb2d969fbcf8e86bea8cdf3733a85c,openstack/tripleo-heat-templates,stable/wallaby,,Ia284f5687bcb2d969fbcf8e86bea8cdf3733a85c,Add missing cert generation tasks to glance-api,MERGED,2022-05-13 16:25:31.000000000,2022-05-26 03:42:22.000000000,2022-05-26 03:42:22.000000000,2,0,0,841743,91b9a6f44abb71bf8a06ff078717d0376cda43a8,7,3,1,1,21129,Alan Bishop,ASBishop,"Add missing cert generation tasks to glance-api

Ib868465c20d97c62cbcb214bfc62d949bd6efc62 missed glance-api when
switching to deploy_steps_tasks for Apache cert generation

Change-Id: Ia284f5687bcb2d969fbcf8e86bea8cdf3733a85c
(cherry picked from commit d9fabc20ede9aa7227f26e7b147f86a83801aebd)
"
openstack%2Fcinder~master~Id07a2e713ebf667432e9bfceac0972c92185d3c5,openstack/cinder,master,,Id07a2e713ebf667432e9bfceac0972c92185d3c5,pylint: Fix vmdk driver use before definition,MERGED,2022-05-17 14:47:48.000000000,2022-05-26 03:29:34.000000000,2022-05-24 17:56:04.000000000,1,1,7,842129,970ac584d68b5bc1d53ef89684d1060eaaaf0c86,70,4,1,1,4523,Eric Harney,eharney,"pylint: Fix vmdk driver use before definition

Define ""attached"" earlier so that it is always
defined in the except: block.

Change-Id: Id07a2e713ebf667432e9bfceac0972c92185d3c5
"
openstack%2Fskyline-console~master~Id613f5c2c7795a477257ec5f71443378ac686007,openstack/skyline-console,master,open-134772,Id613f5c2c7795a477257ec5f71443378ac686007,feat: Update certificate,MERGED,2022-05-25 14:21:44.000000000,2022-05-26 02:58:02.000000000,2022-05-26 02:58:02.000000000,112,41,0,843290,1d5c1acb1f1e3c7f97560345d7b0d50758bbf20e,6,2,1,11,33689,xusongfu,xusongfu,"feat: Update certificate

1. Add certificate id in listener
2. SNI certificate change to multiple select
3. TERMINATED_HTTPS change to HTTPS
4. Change validator of certificate content and keypair
5. Hide domain name if in CA certificate

Change-Id: Id613f5c2c7795a477257ec5f71443378ac686007
"
openstack%2Fdesignate~master~I36169826905fae2dd5634e9ea9955694bbb85a8d,openstack/designate,master,zanata/translations,I36169826905fae2dd5634e9ea9955694bbb85a8d,Imported Translations from Zanata,MERGED,2022-05-26 02:12:26.000000000,2022-05-26 02:53:18.000000000,2022-05-26 02:49:00.000000000,290,2,0,843360,baf61602449445c29339980160a6ebe703c6b662,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I36169826905fae2dd5634e9ea9955694bbb85a8d
"
openstack%2Fdesignate~master~If013c805d378ef9e9e691c553bcb90a83b839c08,openstack/designate,master,central_notification,If013c805d378ef9e9e691c553bcb90a83b839c08,Remove unused notification handler config from central,MERGED,2020-11-25 05:25:53.000000000,2022-05-26 02:51:19.000000000,2022-05-26 02:48:57.000000000,0,2,0,764118,61e1bfc631a802879a82c0cbadf4bde81ee46e46,8,3,1,1,6994,Michael Chapman,michaeltchapman,"Remove unused notification handler config from central

The central service used to consume notifications, but this config
option is no longer referenced anywhere and the sink service
that now consumes notifications has its own config option, so it
can be removed.

Change-Id: If013c805d378ef9e9e691c553bcb90a83b839c08
"
openstack%2Fcharm-gnocchi~stable%2Fussuri~I0e5db1347de7f1d55edae4d73e438af1d86ce14b,openstack/charm-gnocchi,stable/ussuri,charmhub-migration,I0e5db1347de7f1d55edae4d73e438af1d86ce14b,Migrate charm charmhub for stable/ussuri,MERGED,2022-05-20 19:01:56.000000000,2022-05-26 02:18:50.000000000,2022-05-26 02:18:50.000000000,224,2691,1,842763,9389345a0b799b3dbba1deb93c5960da01af6617,7,3,1,40,20870,Alex Kavanagh,ajkavanagh,"Migrate charm charmhub for stable/ussuri

- start from stable/ussuri branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/ussuri for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 18.04 amd64
- Run on 18.04 amd64, s390x, ppc64el, arm64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I0e5db1347de7f1d55edae4d73e438af1d86ce14b
"
openstack%2Fdesignate-tempest-plugin~master~Ic4364b7178e0247d77e367403e5f5a8b9bfbde7d,openstack/designate-tempest-plugin,master,,Ic4364b7178e0247d77e367403e5f5a8b9bfbde7d,Re-enable test_admin_sets_invalid_quota_values,MERGED,2022-05-17 19:42:59.000000000,2022-05-26 01:58:01.000000000,2022-05-26 01:56:29.000000000,1,3,2,842220,5076600c9a0106718b94cfa0cea9f22f6135a259,13,2,3,1,11628,Michael Johnson,johnsom,"Re-enable test_admin_sets_invalid_quota_values

This patch re-enables the test_admin_sets_invalid_quota_values API test as the bug has been addressed in designate.

Depends-On: https://review.opendev.org/c/openstack/designate/+/842219
Change-Id: Ic4364b7178e0247d77e367403e5f5a8b9bfbde7d
"
openstack%2Fcinder~master~I4053e660b888186964f9319d46c070e605cf1d9d,openstack/cinder,master,,I4053e660b888186964f9319d46c070e605cf1d9d,Fix cinder-manage _check_sync,NEW,2022-05-17 14:14:42.000000000,2022-05-26 01:34:28.000000000,,1,1,2,842119,83a4e1f5b1606338a7423e41d468a0e8de844fc9,44,4,2,1,4523,Eric Harney,eharney,"Fix cinder-manage _check_sync

Commit bc9397073e removed the session arg from _get_sync_updates.

This code needs to be updated to call that method correctly.

Depends-On: Ic8c37145c66069e9194458fa7f622d98022fee4f
Change-Id: I4053e660b888186964f9319d46c070e605cf1d9d
"
openstack%2Fcharm-ceilometer~stable%2Fxena~I8452d7a3a7a773543bd2a7c4b2a85128b15947ad,openstack/charm-ceilometer,stable/xena,charmhub-migration,I8452d7a3a7a773543bd2a7c4b2a85128b15947ad,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:44:49.000000000,2022-05-26 01:32:46.000000000,2022-05-26 01:32:46.000000000,1,3,4,841923,d49af8ce09f00e74c12b46f9e214a7ca2d6b60ca,15,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I8452d7a3a7a773543bd2a7c4b2a85128b15947ad
"
openstack%2Fcharm-cinder-backup-swift-proxy~stable%2Fxena~Ibc14b53bf7788c292a452ff6dfcaabdacfd4ee91,openstack/charm-cinder-backup-swift-proxy,stable/xena,charmhub-migration,Ibc14b53bf7788c292a452ff6dfcaabdacfd4ee91,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:45:16.000000000,2022-05-26 01:31:49.000000000,2022-05-26 01:31:49.000000000,1,3,6,841926,6fd91ee947a994fc585de6a7d6d3f7b1400458a1,18,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: Ibc14b53bf7788c292a452ff6dfcaabdacfd4ee91
"
openstack%2Fcharm-keystone-kerberos~stable%2Fxena~I905fa7d583970913a0650fd3612f68076305aa49,openstack/charm-keystone-kerberos,stable/xena,charmhub-migration,I905fa7d583970913a0650fd3612f68076305aa49,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:47:14.000000000,2022-05-26 01:31:44.000000000,2022-05-26 01:31:44.000000000,1,3,3,841959,af246d3eab903625801d5a1d50634146adb1ca67,13,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I905fa7d583970913a0650fd3612f68076305aa49
"
openstack%2Fpython-tripleoclient~master~If53fa783c95d9d1031d04763f85278bea7e44b30,openstack/python-tripleoclient,master,,If53fa783c95d9d1031d04763f85278bea7e44b30,update output path cli switch,MERGED,2022-05-17 20:39:53.000000000,2022-05-26 01:16:18.000000000,2022-05-26 01:13:03.000000000,11,6,0,842232,b56a6035fe4112d3fe029d0c16da88a7839be327,13,5,2,1,7353,Kevin Carter,cloudnull,"update output path cli switch

The output cli switch was being ignored, this change will ensure that if
a user provides an output path the export function will operatate as
expected.

Change-Id: If53fa783c95d9d1031d04763f85278bea7e44b30
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-ansible~master~Ia43b58f304d8ef41b80820c3c98696650eb362e1,openstack/tripleo-ansible,master,nftables,Ia43b58f304d8ef41b80820c3c98696650eb362e1,Supports nftables instead of iptables,MERGED,2022-05-11 12:06:19.000000000,2022-05-26 01:15:28.000000000,2022-05-26 01:12:54.000000000,769,79,2,841414,656c1aba3d49d96b3711b7204559ae4ad84b80ac,55,6,22,31,28223,Cedric Jeanneret,cjeanner,"Supports nftables instead of iptables

This patch introduces a new role (tripleo_nftables) as well as a new
tripleo_firewall_engine parameter, allowing to switch from iptables to
nftables.

All of tripleo rules are pushed in the ""inet"" family, in a dedicated
chains therein. It allows to avoid rule duplication between IPv6 and
IPv4, while ensuring we don't break the compatibility layer for
iptables-nft - that tool is checking only the ""ip"" family, while
ip6tables-nft is checking the ""ip6"" one.

This means some changes are needed in the doc, when it comes to listing
the existing rules.

Also, please note some tools such as neutron are still heavily using the
iptables family, as well as some part of podman apparently.

Change-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1
"
openstack%2Ftripleo-puppet-elements~stable%2Fvictoria~I4cf10643a18fbc331213b5a3f3d4e4f207f49527,openstack/tripleo-puppet-elements,stable/victoria,lp/1966382,I4cf10643a18fbc331213b5a3f3d4e4f207f49527,"Migrate from testr to stestr, disable auto discovery",MERGED,2022-03-30 07:06:13.000000000,2022-05-26 01:15:26.000000000,2022-05-26 01:13:06.000000000,19,14,6,835793,24c4a940e75b8db102d84077c7f8665fa2121a35,21,3,2,6,29775,Sandeep Yadav,sandeepyadav93,"Migrate from testr to stestr, disable auto discovery

Change-Id: I4cf10643a18fbc331213b5a3f3d4e4f207f49527
(cherry picked from commit 66f8964f59342d99f7115b16ac8629382279e918)
                and commit 1e3b5a1cd4932c0897bff9359bfd5576865cd5a2)
(cherry picked from commit 1d32a9bc44b1d63405ad2c3ed760ebad05b926cb)
"
openstack%2Fpython-tripleoclient~master~Iceea8fbb3053aa0af7ba46bec43dcedb3e8801b8,openstack/python-tripleoclient,master,,Iceea8fbb3053aa0af7ba46bec43dcedb3e8801b8,Use node UUID for bridge_mapping agent check,MERGED,2022-03-23 22:21:55.000000000,2022-05-26 01:15:22.000000000,2022-05-26 01:13:00.000000000,7,1,4,834978,65f36df818736341dbdc74c87e18b30442beef50,18,4,3,1,30073,Brendan Shephard,bshephar,"Use node UUID for bridge_mapping agent check

When we check for bridge mapping. If the user
has provided the Name of the node, rather than
the UUID. Then we will fail to lookup the agent.

This change ensures that we lookup the agent using
the nodes UUID rather than the name, regardless of
what the user has input in the provide command.

Change-Id: Iceea8fbb3053aa0af7ba46bec43dcedb3e8801b8
"
openstack%2Ftripleo-ansible~master~I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14,openstack/tripleo-ansible,master,neutron-resolver-integration,I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14,Designate: use extra IP for bind/unbound colocation on the bind9 backend,MERGED,2022-04-29 16:38:25.000000000,2022-05-26 01:13:23.000000000,2022-05-26 01:13:23.000000000,206,6,3,839973,a0004cf138838c60a9cf24495d27fb00630b3833,43,5,11,8,6681,Brent Eagles,beagles,"Designate: use extra IP for bind/unbound colocation on the bind9 backend

Using the standard DF supplied IP for the unbound resolver instead of
the bind instance makes resolver integration with neutron a great deal
more straightforward. This patch introduces ansible tasks for
configuring the bind service to run on an alternate IP.

Change-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14
"
openstack%2Fpuppet-tripleo~master~Ie609a8d07a8ff264afb90d059c8691a81056ac65,openstack/puppet-tripleo,master,tripleo-hiera-v5,Ie609a8d07a8ff264afb90d059c8691a81056ac65,Designate: Replace hiera by lookup,MERGED,2022-05-10 01:07:45.000000000,2022-05-26 01:13:20.000000000,2022-05-26 01:13:20.000000000,72,72,1,841183,2acd2f4b0da57c7c0b67ddd5fcdebc4744705622,23,6,6,10,9816,Takashi Kajinami,kajinamit,"Designate: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: Ie609a8d07a8ff264afb90d059c8691a81056ac65
"
openstack%2Fpuppet-tripleo~master~I897bbf114436a87d223602a393ad6cb524ec9c84,openstack/puppet-tripleo,master,sshd-refactor,I897bbf114436a87d223602a393ad6cb524ec9c84,sshd: Allow customizing the ListenAddress option,MERGED,2022-05-22 12:41:54.000000000,2022-05-26 01:13:17.000000000,2022-05-26 01:13:17.000000000,82,10,0,842858,c13b609e68bd5451b5db10d0fb47c0f4b779d5ca,24,5,10,2,9816,Takashi Kajinami,kajinamit,"sshd: Allow customizing the ListenAddress option

This change introduces support for the ListenAddress option in
sshd_config so that we can restrict the network addresses used by sshd.

This is useful for the nova migration target service which should be
available in only migration networks.

Change-Id: I897bbf114436a87d223602a393ad6cb524ec9c84
"
openstack%2Fpuppet-tripleo~master~I02ed0afa327b8f954cd02f62bd947a9ab0b3f7d2,openstack/puppet-tripleo,master,sshd-refactor,I02ed0afa327b8f954cd02f62bd947a9ab0b3f7d2,sshd: Remove unused implementation to set up MOTD/Banner,MERGED,2022-05-22 12:26:47.000000000,2022-05-26 01:13:14.000000000,2022-05-26 01:13:14.000000000,3,223,0,842857,8957210988956ab21de0c25c2a153d22ed40fd47,13,5,3,2,9816,Takashi Kajinami,kajinamit,"sshd: Remove unused implementation to set up MOTD/Banner

Now the sshd manifest is used to configure the nova migration target
service only, which does not require the customization of MOTD and
Banner.

Depends-on: https://review.opendev.org/838978
Change-Id: I02ed0afa327b8f954cd02f62bd947a9ab0b3f7d2
"
openstack%2Fpuppet-tripleo~master~I2a32a067e3586e14c461948bd677b75365272cff,openstack/puppet-tripleo,master,keyring-acl,I2a32a067e3586e14c461948bd677b75365272cff,Remove file ACL settings for ceph keyring,MERGED,2022-02-27 14:10:08.000000000,2022-05-26 01:13:11.000000000,2022-05-26 01:13:11.000000000,25,78,0,831093,9765e20fb1536fdaab65c19d21d252c2ebfbf45b,16,4,4,4,9816,Takashi Kajinami,kajinamit,"Remove file ACL settings for ceph keyring

... because these resources are no longer used since all services were
containerized.

We already removed the same logic for Gnocchi only by [1].

[1] 6aa468113712415711937f20a6652ab60db14420

Change-Id: I2a32a067e3586e14c461948bd677b75365272cff
"
openstack%2Fpuppet-tripleo~master~I2d8338d64b3f9887fdd067c820b10baab8eb0446,openstack/puppet-tripleo,master,octavia_jobboard,I2d8338d64b3f9887fdd067c820b10baab8eb0446,Include octavia task_flow manifest for octavia services,MERGED,2021-12-07 08:36:03.000000000,2022-05-26 01:13:08.000000000,2022-05-26 01:13:08.000000000,9,0,2,820668,501522bf52c17ac029ba66d95f54331933cde3d7,19,7,3,6,29244,Gregory Thiemonge,gthiemonge,"Include octavia task_flow manifest for octavia services

The Octavia worker, housekeeping and health-manager services should
include the task_flow manifest to configure jobboard persistence in
Octavia.

Depends-On: https://review.opendev.org/c/openstack/puppet-octavia/+/816434

Change-Id: I2d8338d64b3f9887fdd067c820b10baab8eb0446
"
openstack%2Ftripleo-ansible~master~If346b7fcb2362a7454652a22d4a1f96f7f5e9dca,openstack/tripleo-ansible,master,dracut,If346b7fcb2362a7454652a22d4a1f96f7f5e9dca,Configure dracut multipath module for diskless nodes,MERGED,2022-02-21 20:46:18.000000000,2022-05-26 01:12:57.000000000,2022-05-26 01:12:57.000000000,24,0,2,830284,3f7d8ced19857360451cc883a2b757da8e4a9085,23,6,6,2,7130,David Hill,dhill,"Configure dracut multipath module for diskless nodes

Configure dracut multipath module for diskless nodes in order to
allow initramfs to load multipath module in order to allow bootable
device to be multipathed.

Change-Id: If346b7fcb2362a7454652a22d4a1f96f7f5e9dca
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I57994c9289a0afe85c649632acbca01d223b8bd9,openstack/puppet-tripleo,stable/train,,I57994c9289a0afe85c649632acbca01d223b8bd9,[train-only] Fix certmonger QEMU key file data race,MERGED,2022-05-06 13:59:13.000000000,2022-05-26 01:12:52.000000000,2022-05-26 01:12:52.000000000,30,7,5,840904,31766b755251d0a44bc4f363cd5be16f9db15ed1,23,7,4,1,6926,Bogdan Dobrelya,bogdando,"[train-only] Fix certmonger QEMU key file data race

Follow-up the vnc key file data race and fix it for qemu key
and cert files as well.

The race condition described in
https://bugzilla.redhat.com/show_bug.cgi?id=1759281
might also apply to other files created by getcert, it seems.

Getcert sets owner and permissions for newly created cert/key files
to root/0600. While it retaines that unchanged for already existing
cert/key files.

By the certmonger feature design, changes to a service key file
resource trigger a getcert execution. And once it finishes for qemu
key file, we need to enforce the expected permissions/owner for
that file. Puppet would not allow doing such circular notifications
normally, so we add execs before/after the getcmd command.

Make sure that puppet resets qemu key file permissions
after (and only after) getcert finishes its tasks and stores the
generated cert file.

If the key's content change has been audited by puppet, remove the no
longer relevant cert file, so that getcert could re-issue it, and then
puppet to properly re-apply permissions/owner on both files.

If we do not remove the cert file before running getcert, the guarding
exec might finish before getcert finishes (see the former race
condition details). If we set the guarding exec watching for the key
file, it might also finish before getcert finishes. So we have to
set it watching for the cert file, and purge it before issuing getcert.
If the key content does not change, the cert file will be retained.

Also set the service_certificate group to match it for the
service_key as both are expected to have it the same.

Finally, when the service key permissions have been changed by the exec
command, puppet will only audit that change on the next run, via its
corresponding File[$service_key] resource. That may leave the created
cert file with wrong permissions, until the next puppet run. So
make sure that exec changes both the cert and key file permissions in
a single transaction.

Related: rhbz#2084193
Change-Id: I57994c9289a0afe85c649632acbca01d223b8bd9
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If05439e673ee0b8f4d707ec65da3f19436e8ef55,openstack/tripleo-heat-templates,stable/wallaby,,If05439e673ee0b8f4d707ec65da3f19436e8ef55,Only specify nfsver for local Nova NFS backend,MERGED,2022-05-24 11:51:49.000000000,2022-05-26 00:56:40.000000000,2022-05-26 00:56:40.000000000,1,1,1,842948,abbed2f4af17a48afb5f5f6304630d7bbcfadb3d,9,6,1,1,6926,Bogdan Dobrelya,bogdando,"Only specify nfsver for local Nova NFS backend

In Centos9, nfsmount no longer supports multiple version options.
This regresses default configuration and causes errors like:

ansible-mount Invoked with fstype=nfs4
name=/var/lib/nova/instances opts=_netdev,bg,context=system
_u:object_r:nfs_t:s0,vers=4.2,nfsvers=4.2 src=... state=mounted
path=/var/lib/nova/instances boot=True backup=False dump=None
fstab=None passno=None

Drop vers=4.2 for nfsvers=4.2 to live on.

Related: rhbz#2077586
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: If05439e673ee0b8f4d707ec65da3f19436e8ef55
(cherry picked from commit 696fd60a7b85e2d87c9f502b738596c976a286bf)
"
openstack%2Fpython-designateclient~master~Ibf3bab374ec3a5bec842051c29d18864d42c02b8,openstack/python-designateclient,master,,Ibf3bab374ec3a5bec842051c29d18864d42c02b8,Update zuul queue configuration,MERGED,2022-05-19 16:14:01.000000000,2022-05-26 00:53:22.000000000,2022-05-26 00:51:23.000000000,1,2,9,842562,ef2098e6543019e0dc41344d704f56b6957e88b6,28,4,3,1,11628,Michael Johnson,johnsom,"Update zuul queue configuration

Zuul is changing how queues are declared[1]. This patch updates Designate client for the new way to define the queue.

[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: Ibf3bab374ec3a5bec842051c29d18864d42c02b8
"
openstack%2Fopenstack-ansible-ceph_client~stable%2Fwallaby~I0d6014649307bb6556cdc189cf8d749e1ec9b20a,openstack/openstack-ansible-ceph_client,stable/wallaby,,I0d6014649307bb6556cdc189cf8d749e1ec9b20a,Use global package_state,MERGED,2022-05-20 18:35:46.000000000,2022-05-26 00:50:00.000000000,2022-05-26 00:48:50.000000000,1,1,1,842407,71b4c59e57caf487fec23b33c341aaaaeff745cd,14,3,2,1,25023,Jonathan Rosser,jrosser,"Use global package_state

We missed upating ceph_client_package_state to use package_state
for default value, as other roles do.
So we're fixing it not to update ceph client packages every time, which
can lead to interesting consequences depending on the destination.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/843175
Change-Id: I0d6014649307bb6556cdc189cf8d749e1ec9b20a
(cherry picked from commit 6fbe1ab3c0e0aa9696f473bc6b7f7fe9a0a332ec)
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~I5428a7d8ebb8e1cc108608bddb94784696dab098,openstack/openstack-ansible-rabbitmq_server,master,osa/centos-9,I5428a7d8ebb8e1cc108608bddb94784696dab098,Add support for centos-9,MERGED,2022-01-10 13:30:46.000000000,2022-05-26 00:01:38.000000000,2022-05-26 00:00:28.000000000,11,4,2,823985,b79a6c8bcf25af912620ffab9c98fbc2f775cfda,20,3,4,1,25023,Jonathan Rosser,jrosser,"Add support for centos-9

Change-Id: I5428a7d8ebb8e1cc108608bddb94784696dab098
"
openstack%2Fproject-config~master~I7253e77dec3f010ac1b204e831bce31e9ad27bd2,openstack/project-config,master,,I7253e77dec3f010ac1b204e831bce31e9ad27bd2,"Set ""zuul"" tenant default Ansible version to 5",MERGED,2022-05-23 22:31:00.000000000,2022-05-25 23:51:13.000000000,2022-05-25 23:27:00.000000000,1,1,0,843034,5099658e4d98a4a787d5de0d80cb8731a8b838f3,11,3,1,1,1,James E. Blair,corvus,"Set ""zuul"" tenant default Ansible version to 5

This will shortly become the Zuul default; let Zuul eat its
dogfood.

Change-Id: I7253e77dec3f010ac1b204e831bce31e9ad27bd2
Depends-On: https://review.opendev.org/843026
"
openstack%2Fopenstack-ansible-galera_server~master~I41cdbb82b6ef82ea7acb4d22ca29aac84efebe30,openstack/openstack-ansible-galera_server,master,osa/centos-9,I41cdbb82b6ef82ea7acb4d22ca29aac84efebe30,Add support for centos-9,MERGED,2022-01-10 13:29:05.000000000,2022-05-25 23:36:34.000000000,2022-05-25 23:35:23.000000000,77,1,3,823983,d083461eb064e8aaf4c0378cea3f55aebc4e6144,25,3,6,3,25023,Jonathan Rosser,jrosser,"Add support for centos-9

This uses the distro package for mariadb as there is no release from
mariadb.org yet.

Change-Id: I41cdbb82b6ef82ea7acb4d22ca29aac84efebe30
"
openstack%2Fswift~master~I0973be6692e3a9b871eb61cbf759e13644a25107,openstack/swift,master,fix-py36,I0973be6692e3a9b871eb61cbf759e13644a25107,CI: constrain py36 deps,MERGED,2022-05-20 23:14:45.000000000,2022-05-25 23:30:31.000000000,2022-05-25 23:28:59.000000000,101,0,4,842817,238dc035350610e6ca18b902f12890736fe0e095,25,2,3,3,15343,Tim Burke,tburke,"CI: constrain py36 deps

Now that OpenStack writ large has dropped support for py36,
we're going to have to manage our constraints ourselves
more, just like we did for py27.

Change-Id: I0973be6692e3a9b871eb61cbf759e13644a25107
"
openstack%2Frequirements~stable%2Fwallaby~I44ed295aac598d7f2f489d42cb8bd62e10ae3dcc,openstack/requirements,stable/wallaby,new-release,I44ed295aac598d7f2f489d42cb8bd62e10ae3dcc,update constraint for neutron to new release 18.4.0,MERGED,2022-05-25 11:01:33.000000000,2022-05-25 23:28:56.000000000,2022-05-25 23:28:56.000000000,1,1,0,843260,20be78e7b3ef4c3e43ad06745e5ffcb0f1a87576,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for neutron to new release 18.4.0

meta: version: 18.4.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Corey Bryant <corey.bryant@canonical.com>
meta: release:Commit: Corey Bryant <corey.bryant@canonical.com>
meta: release:Change-Id: I4c3548f3fe2b86d36c29bf3efcdf091ed176c5e1
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I44ed295aac598d7f2f489d42cb8bd62e10ae3dcc
"
openstack%2Frequirements~stable%2Fxena~I42fca9af9248d209ceb7d62c1e7a62822722b553,openstack/requirements,stable/xena,new-release,I42fca9af9248d209ceb7d62c1e7a62822722b553,update constraint for neutron to new release 19.3.0,MERGED,2022-05-25 11:00:31.000000000,2022-05-25 23:21:35.000000000,2022-05-25 23:21:35.000000000,1,1,0,843259,3e9550cd8ab3099a1d46dee574a5b059d14ac256,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for neutron to new release 19.3.0

meta: version: 19.3.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Corey Bryant <corey.bryant@canonical.com>
meta: release:Commit: Corey Bryant <corey.bryant@canonical.com>
meta: release:Change-Id: I4c3548f3fe2b86d36c29bf3efcdf091ed176c5e1
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I42fca9af9248d209ceb7d62c1e7a62822722b553
"
openstack%2Fdesignate~stable%2Fxena~I474bdd988a6cc3a9bcce1b65c2f49216dd85addf,openstack/designate,stable/xena,bug/1934596,I474bdd988a6cc3a9bcce1b65c2f49216dd85addf,Improve quota API validations,MERGED,2022-05-24 17:26:39.000000000,2022-05-25 23:19:21.000000000,2022-05-25 23:17:53.000000000,180,31,3,843178,28e969e7f1cfacb4932d9e36896207bf7a88bda0,13,4,1,5,11628,Michael Johnson,johnsom,"Improve quota API validations

This patch improves the quotas API validations and test coverage. Invalid quota settings will now be caught at the API/Central layer and not down in the storage layer(DB).

Closes-Bug: #1934596
Change-Id: I474bdd988a6cc3a9bcce1b65c2f49216dd85addf
(cherry picked from commit 38178c079a1a66229f06becbd7b60a749879c4a6)
"
openstack%2Fcinder~stable%2Fxena~I94e9c1106d4be0049b98ec7131ec88c9f9a32588,openstack/cinder,stable/xena,aa_replication-stable/xena,I94e9c1106d4be0049b98ec7131ec88c9f9a32588,PureStorage FlashArray: Add active/active replication,MERGED,2022-02-17 03:58:08.000000000,2022-05-25 23:02:03.000000000,2022-05-25 22:59:54.000000000,35,8,7,829630,ad2db70a6492391a1fb2538db916a7a7b7f5ca9a,39,5,2,3,13425,Simon Dodsley,sdodsley,"PureStorage FlashArray: Add active/active replication

This patch fixes support for active/active replication in the
FlashArray driver.

failover_host has been split into two parts (failover and
failover_completed) to allow all nodes in a cluster to properly
switch between primary and secondary backends after a succesful
failover or failback procedure.

This patch has been fully tested on stable/xena by Pure.

Change-Id: I94e9c1106d4be0049b98ec7131ec88c9f9a32588
(cherry picked from commit 52d97807ca11a8f29c648e29606326c0d9a0054e)
"
openstack%2Fopenstack-helm~master~I9968f627ce3ab1596711fe9e8d3345d0a5fc42c8,openstack/openstack-helm,master,,I9968f627ce3ab1596711fe9e8d3345d0a5fc42c8,Modified neutron-netns-cleanup-cron.py script.,MERGED,2022-05-23 23:00:39.000000000,2022-05-25 23:00:59.000000000,2022-05-25 22:59:24.000000000,129,6,0,843036,32afc483e5c404b0f6fa272ccc0c72313e3bea6a,24,10,8,4,16164,Alexey,aterekhin,"Modified neutron-netns-cleanup-cron.py script.

We needed to terminate qdhcp namespaces which aren't satisfied hosts in neutron db.
It happens after people interrupt neutron agents work and after restart agents, they can start ns on different hosts,
but nothing tracks previous hosts. Previous version of the script checked only IPs inside ns but didn't validate hosts.

Change-Id: I9968f627ce3ab1596711fe9e8d3345d0a5fc42c8
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I5eba0b1f08cfe23998cf1116bb017e8a8ef0bb72,openstack/openstack-ansible-lxc_hosts,master,osa/centos-9,I5eba0b1f08cfe23998cf1116bb017e8a8ef0bb72,Add centos-9 support,MERGED,2022-05-17 20:53:16.000000000,2022-05-25 22:53:30.000000000,2022-05-25 22:51:53.000000000,51,6,3,842236,fd23eeedfc2a28556278abc03f722ae17dd77990,24,3,5,6,25023,Jonathan Rosser,jrosser,"Add centos-9 support

Remove installation of aria2 everywhere as we no longer download
lxc images but build them locally.

Change-Id: I5eba0b1f08cfe23998cf1116bb017e8a8ef0bb72
"
openstack%2Fansible-collections-openstack~master~I3429ee096c853a8308d8b9e4674a9d22b36b6822,openstack/ansible-collections-openstack,master,,I3429ee096c853a8308d8b9e4674a9d22b36b6822,Update baremetal_node_info to use new sdk,ABANDONED,2022-05-25 18:01:23.000000000,2022-05-25 22:42:56.000000000,,62,37,1,843325,fbb2db95b3aae2a3ebf6fa2dbd8a05ffff72eee6,5,0,2,1,34208,Rafael Castillo,rcastill,"Update baremetal_node_info to use new sdk

- Migrates module to be based off OpenstackModule
- Migrates sdk calls to use only proxy layer
- Converts resources to dict before returning

Change-Id: I3429ee096c853a8308d8b9e4674a9d22b36b6822
"
openstack%2Fglance~master~Ib7fc2f2082981b1765e901ca5b277fce08221ba8,openstack/glance,master,bug/1962603,Ib7fc2f2082981b1765e901ca5b277fce08221ba8,Remove workaround for python_exec cannot be None,MERGED,2022-05-09 15:47:29.000000000,2022-05-25 22:30:35.000000000,2022-05-25 22:29:02.000000000,5,14,8,841135,6af8b6e51c78ca8cf8259a4a6d63e5a7b5220088,21,3,2,3,5314,Brian Rosmaita,brian-rosmaita,"Remove workaround for python_exec cannot be None

oslo.config 4.5.1 contains change I2e1f187feaf4, which makes
the workaround introduced by change Ic40f582f83e0 unnecessary.

Change-Id: Ib7fc2f2082981b1765e901ca5b277fce08221ba8
Related-bug: #1962581
Related-bug: #1962603
"
openstack%2Ftempest~master~I39f6361adbf473b50fb7e6a21cd586531d237346,openstack/tempest,master,u-v-last,I39f6361adbf473b50fb7e6a21cd586531d237346,DNM: tetsing tempest master with stable/victoria constraints,ABANDONED,2022-05-24 01:39:03.000000000,2022-05-25 22:30:32.000000000,,5,5,0,843044,3a113a378f67ac50ba3bd1cd93eaddc2705f76d8,9,2,2,1,8556,Ghanshyam,ghanshyam,"DNM: tetsing tempest master with stable/victoria constraints

Change-Id: I39f6361adbf473b50fb7e6a21cd586531d237346
"
openstack%2Ftempest~master~Ic56c65a1e6000d98a8c7bcd01ce45588deec9891,openstack/tempest,master,fix-tempest-py36,Ic56c65a1e6000d98a8c7bcd01ce45588deec9891,WIP: Fixing py3.6|7 unit tests job,ABANDONED,2022-05-21 00:20:01.000000000,2022-05-25 22:24:45.000000000,,0,166,0,842819,3e267fdffd3fccd77acf6bb8ffa0b8d2b01d57d7,5,1,2,1,8556,Ghanshyam,ghanshyam,"WIP: Fixing py3.6|7 unit tests job

Depends-on: https://review.opendev.org/c/openstack/requirements/+/842820
Change-Id: Ic56c65a1e6000d98a8c7bcd01ce45588deec9891
"
openstack%2Frequirements~master~I965d8f9ba8aec996698119c0d56359a94dd46de6,openstack/requirements,master,fix-tempest-py36,I965d8f9ba8aec996698119c0d56359a94dd46de6,WIP: tempest py36|7 job failure fix,ABANDONED,2022-05-21 00:31:30.000000000,2022-05-25 22:24:22.000000000,,4,1,1,842820,606f8b416045237e7b7ca29e57305f0c168609e4,8,2,1,1,8556,Ghanshyam,ghanshyam,"WIP: tempest py36|7 job failure fix

Change-Id: I965d8f9ba8aec996698119c0d56359a94dd46de6
"
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~Ie70ab7fafb268e32fb31be8adbe37377a92d4022,openstack/tripleo-puppet-elements,stable/wallaby,pe-cleanup-w,Ie70ab7fafb268e32fb31be8adbe37377a92d4022,Install puppet-placement,NEW,2022-05-13 13:00:35.000000000,2022-05-25 22:02:08.000000000,,2,0,0,841735,0100763c721bd29d71de760181e2d78de53dd261,6,3,1,2,9816,Takashi Kajinami,kajinamit,"Install puppet-placement

... because now placement service is managed by an independent puppet
moudle.

Change-Id: Ie70ab7fafb268e32fb31be8adbe37377a92d4022
(cherry picked from commit 7d28c85e94679e6fe1bb2f46b72717553703f1aa)
"
openstack%2Fopenstack-virtual-baremetal~stable%2F2.0~I81565726f18d11c906ed23295d8acf5e18a9c2fe,openstack/openstack-virtual-baremetal,stable/2.0,stable/bmc-upgrade,I81565726f18d11c906ed23295d8acf5e18a9c2fe,Add bmc host support for centos-9-stream,ABANDONED,2022-05-18 22:02:43.000000000,2022-05-25 22:01:14.000000000,,5,0,2,842443,49b4888b993748e24d9ef9401d6e917f66a992fa,15,6,3,1,4571,Steve Baker,steve-stevebaker,"Add bmc host support for centos-9-stream

This change allows the BMC to install and run on centos9-stream.
centos-8 is skipped to reduce the required support matrix, centos-7
support can be removed once known OVB tooling is upgraded.

Then, pre-built image support can be restored, and also feature work
can be resumed in a modern python3 environment (such as implementing a
redfish endpoint).

Change-Id: I81565726f18d11c906ed23295d8acf5e18a9c2fe
(cherry picked from commit 77782cf90354cb9dd163828b76fde0fd3c3fc4b9)
"
openstack%2Fopenstack-virtual-baremetal~stable%2F2.0~I43206770283cf9a8a6cc7ac2e71f7800238e1690,openstack/openstack-virtual-baremetal,stable/2.0,stable/bmc-upgrade,I43206770283cf9a8a6cc7ac2e71f7800238e1690,Simplify bmc repo setup and installation,ABANDONED,2022-05-18 22:02:43.000000000,2022-05-25 22:01:03.000000000,,3,5,1,842442,19a0bafaa4117a954c83a6921589387f68f6a6b9,13,4,3,1,4571,Steve Baker,steve-stevebaker,"Simplify bmc repo setup and installation

This makes the following changes to simplify the install of pyghmi and
its dependencies:
- Bootstrap installing tripleo-repo by curling delorean.repo instead
  of a wget tree search to find the tripleo-repo rpm
- Install pyghmi from rpm, it has been packaged for years and
  installing by pip was intended to be temporary
- Do not install unused jq, git, pip

Change-Id: I43206770283cf9a8a6cc7ac2e71f7800238e1690
(cherry picked from commit f36b5cc6eb7057f6bac65ce17a9d295889bd8749)
"
openstack%2Fpuppet-tripleo~master~Ib67747f68976e3bbce8b0ca3f0cc3747a1163c6b,openstack/puppet-tripleo,master,,Ib67747f68976e3bbce8b0ca3f0cc3747a1163c6b,Nova: Drop unused logic to remove the libvirt default network,MERGED,2022-05-18 15:17:27.000000000,2022-05-25 21:24:18.000000000,2022-05-25 21:24:18.000000000,0,35,0,842375,74fb1e4dfec9d9bd87ad6668d2fe9310f738932c,9,6,2,2,9816,Takashi Kajinami,kajinamit,"Nova: Drop unused logic to remove the libvirt default network

This logic is no longer used since we introduced containerized libvirt
daemon and would block implementing the same in puppet-nova.

Change-Id: Ib67747f68976e3bbce8b0ca3f0cc3747a1163c6b
"
openstack%2Fpuppet-tripleo~master~Icc23208945304913cdaeede703c486064646379a,openstack/puppet-tripleo,master,,Icc23208945304913cdaeede703c486064646379a,Redis required for designate central service,MERGED,2022-02-28 19:22:29.000000000,2022-05-25 21:24:15.000000000,2022-05-25 21:24:15.000000000,160,61,11,831271,948540288cd3fc5c62bab0d6bffb5ac58078c4f2,51,9,16,6,6681,Brent Eagles,beagles,"Redis required for designate central service

Designate central uses redis to improve task coordination under load.

Change-Id: Icc23208945304913cdaeede703c486064646379a
"
openstack%2Ftripleo-heat-templates~master~If39af7eaaa90ec707a28214fbe650d0b0d5f9c2e,openstack/tripleo-heat-templates,master,,If39af7eaaa90ec707a28214fbe650d0b0d5f9c2e,Disable crl file in non-pacemaker haproxy too,MERGED,2022-05-04 11:34:51.000000000,2022-05-25 21:24:12.000000000,2022-05-25 21:24:12.000000000,2,3,7,840443,e0a3385657081cbeffd298e191e609cf30a5d7a6,11,8,2,2,23811,Oliver Walsh,owalsh,"Disable crl file in non-pacemaker haproxy too

This is currently failing because the crl file does not exist:
    'unable to load /etc/pki/CA/crl/overcloud-crl.pem'

It is already disabled for pacemaker haproxy so for now disable it for
the non-pacemaker haproxy too.

Change-Id: If39af7eaaa90ec707a28214fbe650d0b0d5f9c2e
"
openstack%2Fcinder~stable%2Fxena~Ic2da41f3962c1108f974aca952bce3da6d6ac277,openstack/cinder,stable/xena,bug/1909207-stable/yoga-stable/xena,Ic2da41f3962c1108f974aca952bce3da6d6ac277,Prohibit volume manage to an encrypted volume type,MERGED,2022-03-25 12:01:03.000000000,2022-05-25 21:21:06.000000000,2022-05-25 21:18:16.000000000,230,5,4,835140,dd12492f32c8c0796c79fec430912045fbee52bd,25,4,1,8,5314,Brian Rosmaita,brian-rosmaita,"Prohibit volume manage to an encrypted volume type

Managing a volume to an encrypted volume type should not be allowed.
One reason is that there is no way for an operator to specify an
encryption key ID for the volume. Another is that we already don't
allow a volume of an encrypted type to be un-managed, so this change
will be symmetric.

Also update and correct the api-ref for this call.

Co-authored-by: xuan <xuanyd@outlook.com>
Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: Ic2da41f3962c1108f974aca952bce3da6d6ac277
Closes-bug: #1944577
(cherry picked from commit 8088dc9580356ca51581c56888c9022848f543b1)
change:
  cinder/tests/unit/api/contrib/test_volume_manage.py - used a
  feature of unittest.mock that was introduced in py38; rewritten to
  be compatible with py36
(cherry picked from commit 9c1aa92b9578c1dc1d63d4d9124d873438d495eb)
"
openstack%2Fcinder~stable%2Fyoga~I3c0e365f5dc3c32975343f538c6029f02ac7c2b5,openstack/cinder,stable/yoga,bug/1965847-stable/yoga,I3c0e365f5dc3c32975343f538c6029f02ac7c2b5,Don't destroy existing backup by mistake on import,MERGED,2022-05-14 01:30:00.000000000,2022-05-25 21:19:55.000000000,2022-05-25 21:18:19.000000000,111,23,4,841745,753c0224631e218c860e48722520e9ad384ca2f4,28,3,1,4,5314,Brian Rosmaita,brian-rosmaita,"Don't destroy existing backup by mistake on import

We're supposed to fail an import request for an already existing
backup, but the current code confuses an existing backup record with
one we created for the import, and during quota rollback, will
destroy either one.  Simplify the logic so that we check whether
there's an already existing backup first and bail without even
bothering to make an unnecessary reservation, hence leaving us nothing
to roll back or delete by mistake.

Also revise and add tests.

Closes-bug: #1965847
Change-Id: I3c0e365f5dc3c32975343f538c6029f02ac7c2b5
(cherry picked from commit 6386cbb0a0b6cbf05ce625c5b1b680f4259bde2e)
"
openstack%2Fcinder~stable%2Fwallaby~Ib6a2e4d68e532b91161df5245c17ce815f12f935,openstack/cinder,stable/wallaby,backup-temp-volume,Ib6a2e4d68e532b91161df5245c17ce815f12f935,Prevent temporary volume from being deleted accidentally,MERGED,2022-02-28 17:54:57.000000000,2022-05-25 21:19:51.000000000,2022-05-25 21:18:09.000000000,32,19,5,831187,553264535dc34f676ff4db3c77e1869c1fb3c6b7,41,5,2,6,7130,David Hill,dhill,"Prevent temporary volume from being deleted accidentally

A temporary volume can be deleted while it is in use by DELETE API
accidentally because its status is `available`. To avoid this deletion,
this fix sets a value which doesn't accept deletion to volume status of
a temporary volume. When a temporary volume is used for backing up,
`backing-up` is set. When a temporary volume is used for reverting a
snapshot, `in-use` is set because the volume is attached by a host.

Closes-Bug: #1970768
Change-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935
(cherry picked from commit 53c13891b313d58923b223f6fbb1882e991f2785)
(cherry picked from commit d773fae8256f76ee78c81a5c07096a45227c6569)
(cherry picked from commit cf2f3d07ae4eccb4371d031fef992d107e9c07c4)
Conflicts:
	cinder/volume/manager.py
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I96d4bfce84ffe36d476e3383ee264cea6fd93c24,openstack/python-tripleoclient,stable/wallaby,,I96d4bfce84ffe36d476e3383ee264cea6fd93c24,Mocking utils.check_deploy_backups in OvercloudDeploy tests,MERGED,2022-05-06 08:51:45.000000000,2022-05-25 21:12:11.000000000,2022-05-25 21:10:35.000000000,5,0,0,840838,9d3fa0a2efa17e4c9953e846d206cc0ddc0ef4c2,9,5,1,1,32926,Jiri Podivin,jpodivin,"Mocking utils.check_deploy_backups in OvercloudDeploy tests

The `check_deploy_backups` makes calls to `stat` which can potentially
lead to I/O error in testing scenarios when the relevant file is
removed after path retrieval but before `stat` is called.

This can lead to tox test failure, in both CI and local environments.
Mocking the utils.check_deploy_backups in tests where it is indirectly
called should alleviate the problem.

Long term solution would be mocking all built in functions performing I/O calls by default.

Closes-Bug: #1969425

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I96d4bfce84ffe36d476e3383ee264cea6fd93c24
(cherry picked from commit 1a59023772d23c3c870621f02657536a4da57e42)
"
openstack%2Fdesignate~stable%2Fwallaby~I474bdd988a6cc3a9bcce1b65c2f49216dd85addf,openstack/designate,stable/wallaby,bug/1934596,I474bdd988a6cc3a9bcce1b65c2f49216dd85addf,Improve quota API validations,MERGED,2022-05-24 17:32:07.000000000,2022-05-25 20:48:44.000000000,2022-05-25 20:47:21.000000000,167,31,2,843179,2e55c3e24bfaf1b03241aa1a4a538d03c29d69ad,9,4,1,5,11628,Michael Johnson,johnsom,"Improve quota API validations

This patch improves the quotas API validations and test coverage. Invalid quota settings will now be caught at the API/Central layer and not down in the storage layer(DB).

Closes-Bug: #1934596
Change-Id: I474bdd988a6cc3a9bcce1b65c2f49216dd85addf
(cherry picked from commit 38178c079a1a66229f06becbd7b60a749879c4a6)
"
openstack%2Fdesignate~stable%2Fyoga~I474bdd988a6cc3a9bcce1b65c2f49216dd85addf,openstack/designate,stable/yoga,bug/1934596,I474bdd988a6cc3a9bcce1b65c2f49216dd85addf,Improve quota API validations,MERGED,2022-05-24 17:21:23.000000000,2022-05-25 20:15:41.000000000,2022-05-25 20:14:23.000000000,167,31,2,843177,8f5e8db10082b83e1667e4e06f4c1f2a4a80d142,9,4,1,5,11628,Michael Johnson,johnsom,"Improve quota API validations

This patch improves the quotas API validations and test coverage. Invalid quota settings will now be caught at the API/Central layer and not down in the storage layer(DB).

Closes-Bug: #1934596
Change-Id: I474bdd988a6cc3a9bcce1b65c2f49216dd85addf
(cherry picked from commit 38178c079a1a66229f06becbd7b60a749879c4a6)
"
openstack%2Fopenstack-ansible-tests~stable%2Fwallaby~I4c8a605d22fff6e30bdd9f7d87477f1803421468,openstack/openstack-ansible-tests,stable/wallaby,,I4c8a605d22fff6e30bdd9f7d87477f1803421468,Fix rich version for repos that don't have test-requirements,MERGED,2022-05-24 17:11:43.000000000,2022-05-25 20:03:12.000000000,2022-05-25 20:01:49.000000000,2,2,1,843175,e69fe8fc6ef1238089f4a067ca7bf133e170f00a,12,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix rich version for repos that don't have test-requirements

Currently we assume that all repos that run linter jobs have
test-requirements.txt. But due to this linters are still broken for
repos which don't have test-requirements.

So we move rich version to more generic place.

Change-Id: I4c8a605d22fff6e30bdd9f7d87477f1803421468
"
openstack%2Fpython-manilaclient~master~I56af42c6c3ece862747ddb62cd1eabdf608b9411,openstack/python-manilaclient,master,bug/1975488,I56af42c6c3ece862747ddb62cd1eabdf608b9411,"Avoid using ""force"" kwarg in extend API",MERGED,2022-05-24 21:27:37.000000000,2022-05-25 19:43:31.000000000,2022-05-25 19:41:53.000000000,8,2,3,843215,db8eafd838c603407d86b13e226d8d8b028b595e,12,3,1,2,16643,Goutham Pacha Ravi,gouthamr,"Avoid using ""force"" kwarg in extend API

The extend API was enhanced with API version
2.64 to support a ""force"" argument; It's possible
that clients are using older microversions
when interacting with the manilaclient SDK;
by mandating the use of the ""force"" kwarg,
we introduce a regression. The ""ShareManager""
class has microversioned ""extend"" APIs,
some of which do not accept the ""force"" kwarg.

Change-Id: I56af42c6c3ece862747ddb62cd1eabdf608b9411
Related-Bug: #1855391
Closes-Bug: #1975488
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fpython-manilaclient~master~Ifca6fb788369b7b02ffae59cedae5604ca6335af,openstack/python-manilaclient,master,osc-functional-tests,Ifca6fb788369b7b02ffae59cedae5604ca6335af,"Add functional tests for ""os share limits show""",MERGED,2022-05-17 20:33:29.000000000,2022-05-25 19:31:30.000000000,2022-05-25 19:30:18.000000000,43,0,22,842228,4a2857a314c26d6baa542c48b49350f4164bb8b8,28,5,5,1,33301,Caique Mello,MelloCaique,"Add functional tests for ""os share limits show""

Change-Id: Ifca6fb788369b7b02ffae59cedae5604ca6335af
"
openstack%2Fpython-manilaclient~master~I67cce58586248110c37044ec413e70b555eb78a8,openstack/python-manilaclient,master,osc-functional-tests,I67cce58586248110c37044ec413e70b555eb78a8,"Add functional tests for ""os share pool list""",MERGED,2022-05-16 18:34:17.000000000,2022-05-25 19:28:40.000000000,2022-05-25 19:27:32.000000000,62,0,7,841987,cb918d3027e6c8e7ed452259f498571bc060ec0d,12,3,1,2,16643,Goutham Pacha Ravi,gouthamr,"Add functional tests for ""os share pool list""

Change-Id: I67cce58586248110c37044ec413e70b555eb78a8
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fopenstack-ansible-repo_server~master~I11eb3f3208cbe3858b642dd86145a806983c692b,openstack/openstack-ansible-repo_server,master,,I11eb3f3208cbe3858b642dd86145a806983c692b,Add infra upgrade jobs,MERGED,2022-05-25 13:37:31.000000000,2022-05-25 18:42:01.000000000,2022-05-25 18:39:11.000000000,1,1,2,843284,961ceb258dd10e935ee864c26fce227884146bbe,12,3,3,1,25023,Jonathan Rosser,jrosser,"Add infra upgrade jobs

Repo server has complexity with glusterfs and migration path from
lsyncd so we should cover this with an upgrade job.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/843267/
Change-Id: I11eb3f3208cbe3858b642dd86145a806983c692b
"
openstack%2Fopenstack-ansible~master~I23ac2ec3246cbae50d30815fbd3bdcc4da7d7089,openstack/openstack-ansible,master,bug/1943978,I23ac2ec3246cbae50d30815fbd3bdcc4da7d7089,Update repo verification file URI,MERGED,2022-05-19 16:32:50.000000000,2022-05-25 18:37:48.000000000,2022-05-25 18:36:07.000000000,3,5,4,842571,f67370f568abd72564e8f3de8982703e6bfac63b,16,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Update repo verification file URI

Since we're creating a symlink to the U-C file to have a consistent
filename for it, it makes sense to verify this file for simplicity.
With migration to gluster we also should change verification URI
for HaProxy, which we also set to u-c link.

With that we also somehow solve issue when u-c can't be fetched when SHA
is updated, but repo-server role wasn't re-ran.

Closes-Bug: #1943978
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/842567
Change-Id: I23ac2ec3246cbae50d30815fbd3bdcc4da7d7089
"
openstack%2Fpython-designateclient~master~I5eba32440c707107a6a9b69ef94bb47c5a5035fa,openstack/python-designateclient,master,drop-py36,I5eba32440c707107a6a9b69ef94bb47c5a5035fa,Update python jobs to zed template,MERGED,2022-05-25 07:27:36.000000000,2022-05-25 18:35:13.000000000,2022-05-25 18:32:28.000000000,1,1,1,843244,b7ad25ba98006ebc2746fc13ab576c9d47ea3597,8,3,1,1,13252,Dr. Jens Harbott,jrosenboom,"Update python jobs to zed template

Change-Id: I5eba32440c707107a6a9b69ef94bb47c5a5035fa
"
openstack%2Fpuppet-tripleo~master~I11ff84f94db06dfd84ecd80ebb09c2a2076758eb,openstack/puppet-tripleo,master,tripleo-hiera-v5,I11ff84f94db06dfd84ecd80ebb09c2a2076758eb,Metrics/QDR: Replace hiera by lookup,MERGED,2022-05-10 01:19:39.000000000,2022-05-25 18:26:00.000000000,2022-05-25 18:26:00.000000000,17,16,2,841185,9be30d134b055921039dac4b2b4b2c32775c817b,16,4,1,4,9816,Takashi Kajinami,kajinamit,"Metrics/QDR: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I11ff84f94db06dfd84ecd80ebb09c2a2076758eb
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Idae2ba0cd9a35044c124a6d05ee050e10adde60e,openstack/tripleo-heat-templates,stable/wallaby,bug/1964873-stable/wallaby,Idae2ba0cd9a35044c124a6d05ee050e10adde60e,Ceilometer: Remove incomplete cache parameters,MERGED,2022-03-17 13:13:16.000000000,2022-05-25 18:25:57.000000000,2022-05-25 18:25:57.000000000,0,12,2,834165,2aa408f465015c0e99f269da779ef19c68300534,20,4,1,1,9816,Takashi Kajinami,kajinamit,"Ceilometer: Remove incomplete cache parameters

Currently when TLS for memcached service is enabled, caching in
ceilometer is enabled.

However the configuration is incomplete and the pymemcache backend is
used with no actual backend server.

This change removes the cache parameters completely, as we had never
enabled caching in Ceilometer previously.

(to wallaby)
Conflicts:
	deployment/ceilometer/ceilometer-base-container-puppet.yaml

Resolved conflicts caused by the following two changes which are not
present in stable/wallaby

4dca2a4834e95cfcc9690a1e258c90fb5ee3b1e1
Allow tuning rpc_response_timeout

263fee246a4214f4c56c675cd1245ea77a3cd9ea
Ensure db initialization is not executed by puppet

Closes-Bug: #1964873
Change-Id: Idae2ba0cd9a35044c124a6d05ee050e10adde60e
(cherry picked from commit 4d23590ca0d1735497ff483c5837e86e4502850f)
"
openstack%2Fcliff~master~I328d2e7843e3ba62a6de4ef221c4f8564a64f234,openstack/cliff,master,,I328d2e7843e3ba62a6de4ef221c4f8564a64f234,setup.cfg: Replace dashes with underscores,MERGED,2021-04-26 07:50:32.000000000,2022-05-25 18:10:26.000000000,2022-05-25 18:07:25.000000000,4,4,0,787931,fbff6de978fefa8272f7ef0c0fd39599062d4867,8,2,1,1,30092,Xuan Yandong,xuanyandong,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I328d2e7843e3ba62a6de4ef221c4f8564a64f234
"
openstack%2Fcliff~stable%2Ftrain~Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c,openstack/cliff,stable/train,lower-constraints/removal,Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c,[Train-Only] Remove lower-constraints,MERGED,2022-01-28 11:37:05.000000000,2022-05-25 18:10:22.000000000,2022-05-25 18:07:22.000000000,6,50,2,826876,f91e5d7656bfb782385b8ce7d27638c09680f99a,16,2,3,3,32926,Jiri Podivin,jpodivin,"[Train-Only] Remove lower-constraints

This is not part of the PTI and is currently broken. While discussions
are ongoing about removing it from every project, there's a definite
lean towards doing so. Let's do just that. We can re-add in the future
if necessary.

While we're here, we fix some indentation in 'tox.ini'.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/827155/

Change-Id: Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit b04cba81ac966717472ae714b6c65c9cc7535978)
(cherry picked from commit 37ce807c09fb1dd5770d84b1c8b4d4fd8a2270dc)
(cherry picked from commit 64b388737983e3aa9c6f0f9dcc1eb71f78038bdc)
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92,openstack/python-tripleoclient,stable/wallaby,deployed_pools-stable/wallaby,Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92,Create Ceph pools/cephx keys before overcloud deploy,MERGED,2022-05-12 14:15:33.000000000,2022-05-25 18:01:50.000000000,2022-05-25 18:00:40.000000000,162,0,5,841484,d8ad7ef73e687ca22ca0374bc70b5c0958840e9f,26,4,2,4,18002,John Fulton,fultonj,"Create Ceph pools/cephx keys before overcloud deploy

Add new parameters --ceph-client-username, --ceph-client-key,
--skip-cephx-keys, and --ansible-extra-vars to 'openstack
overcloud ceph deploy' so that the user may create pools
and cephx keys for OpenStack to access them on the deployed
Ceph cluster. This is optional as 'openstack overcloud deploy'
will create the pools/cephx keys later, however the same
Ansible can now be called to do it earlier.

The --ansible-extra-vars option can override any variable
in tripleo-ansible when 'openstack overcloud ceph deploy'
is called. If the tripleo_cephadm_pools variable is set,
then cephx keys will be generated and exported to the
--output deployed_ceph.yaml. The user may also pass their
own cephx key and client username.

Conflicts:
tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py
tripleoclient/v2/overcloud_ceph.py

Depends-On: Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149
Change-Id: Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92
(cherry picked from commit d58fa71bafb87adbc7f00ab5dc87f9d2999b2432)
"
openstack%2Fkayobe~master~I9150e32579421e46782518948188e1363918fb39,openstack/kayobe,master,hacluster-build-issue,I9150e32579421e46782518948188e1363918fb39,Fix forgotten hacluster regexp for image build,MERGED,2022-05-19 22:07:04.000000000,2022-05-25 18:00:50.000000000,2022-05-25 17:59:01.000000000,7,0,18,842639,3e7b01ad829e0c14396045cf147e719ad0a89ed2,38,4,5,2,14200,Maksim Malchuk,mmalchuk,"Fix forgotten hacluster regexp for image build

The 'overcloud container image build' command didn't build all the
hacluster images when hacluster is enabled.

TrivialFix

Change-Id: I9150e32579421e46782518948188e1363918fb39
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
"
openstack%2Fpuppet-tripleo~master~I4d5659cca512a35b72823bc8f7a048bd1abb786d,openstack/puppet-tripleo,master,tripleo-hiera-v5,I4d5659cca512a35b72823bc8f7a048bd1abb786d,Ironic-inspector: Replace hiera by lookup,MERGED,2022-05-10 01:35:46.000000000,2022-05-25 17:45:57.000000000,2022-05-25 17:45:57.000000000,16,16,2,841187,445ddfd144878503c8e1261089db7865fcede58c,16,4,1,2,9816,Takashi Kajinami,kajinamit,"Ironic-inspector: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I4d5659cca512a35b72823bc8f7a048bd1abb786d
"
openstack%2Fpuppet-tripleo~master~Ie280f3dcab6c887c3e5a6662c8d05c8fe98a8cf9,openstack/puppet-tripleo,master,tripleo-hiera-v5,Ie280f3dcab6c887c3e5a6662c8d05c8fe98a8cf9,Ironic: Replace hiera by lookup,MERGED,2022-05-10 01:35:46.000000000,2022-05-25 17:45:54.000000000,2022-05-25 17:45:54.000000000,42,42,2,841186,692174d2767d00974c81e703e8acba452ce84aeb,16,4,1,4,9816,Takashi Kajinami,kajinamit,"Ironic: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: Ie280f3dcab6c887c3e5a6662c8d05c8fe98a8cf9
"
openstack%2Fpuppet-tripleo~master~I5f9d17ee6025a4cac6d8a6b7d6cd5299d2710237,openstack/puppet-tripleo,master,tripleo-hiera-v5,I5f9d17ee6025a4cac6d8a6b7d6cd5299d2710237,RabbitMQ: Replace hiera by lookup,MERGED,2022-05-10 01:44:36.000000000,2022-05-25 17:45:52.000000000,2022-05-25 17:45:52.000000000,31,31,1,841188,727305a29c1c78d7cdd0fd40283ded0d3ddedf70,13,4,1,1,9816,Takashi Kajinami,kajinamit,"RabbitMQ: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I5f9d17ee6025a4cac6d8a6b7d6cd5299d2710237
"
openstack%2Fpuppet-tripleo~master~I634720d9afe563d1e632c2c4c63a5845c6237300,openstack/puppet-tripleo,master,puppet-firewall-cleanup,I634720d9afe563d1e632c2c4c63a5845c6237300,Remove implementation to manage firewall rules by Puppet,MERGED,2022-05-13 12:27:28.000000000,2022-05-25 17:45:49.000000000,2022-05-25 17:45:49.000000000,0,738,3,841729,373dee4156a628384c774abdbd65e890901d678c,17,5,1,10,9816,Takashi Kajinami,kajinamit,"Remove implementation to manage firewall rules by Puppet

... because these are no longer used and now tripleo-ansibe is used
instead.

The tripleo::firewall::rule defined type is kept because it it still
used to configure masquerade rules.

Depends-on: https://review.opendev.org/841728
Change-Id: I634720d9afe563d1e632c2c4c63a5845c6237300
"
openstack%2Fpuppet-tripleo~master~I2b20252a70feeb52d7723ed1aab26115187a91ed,openstack/puppet-tripleo,master,,I2b20252a70feeb52d7723ed1aab26115187a91ed,Remove unused netmask_to_cider function,MERGED,2022-05-08 13:52:33.000000000,2022-05-25 17:45:46.000000000,2022-05-25 17:45:46.000000000,0,21,1,841037,46a9bf61c3eac7a66137acb4efa61e7b614ed3db,13,4,1,2,9816,Takashi Kajinami,kajinamit,"Remove unused netmask_to_cider function

This function was used by contrail manifests which were already removed
by [1].

[1] 5967b1ff65857ae406f48160968b2ff7122afbb6

Change-Id: I2b20252a70feeb52d7723ed1aab26115187a91ed
"
openstack%2Ftripleo-heat-templates~master~I1f951d3c7f99db87c5683cbb7196a078b41ed57f,openstack/tripleo-heat-templates,master,,I1f951d3c7f99db87c5683cbb7196a078b41ed57f,Remove leftover of Undercloud-specific services,MERGED,2022-05-10 06:06:47.000000000,2022-05-25 17:45:42.000000000,2022-05-25 17:45:42.000000000,0,19,1,841206,280e4daaf190daf7466c206aea89fdd6247e9783,13,4,1,4,9816,Takashi Kajinami,kajinamit,"Remove leftover of Undercloud-specific services

These services were already removed by [1].

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/566422

Change-Id: I1f951d3c7f99db87c5683cbb7196a078b41ed57f
"
openstack%2Fpuppet-tripleo~master~I53fd5c4795b3f27c58d7731d4b6f43dc45c11092,openstack/puppet-tripleo,master,rm-ovn-remote-probe-intvl,I53fd5c4795b3f27c58d7731d4b6f43dc45c11092,Remove ineffective ovn_remote_probe_interval,MERGED,2022-04-25 07:48:07.000000000,2022-05-25 17:45:39.000000000,2022-05-25 17:45:39.000000000,13,19,5,839156,439eb262c8aea99f6d0a1c3c2ec6a557404ee929,27,5,3,1,9816,Takashi Kajinami,kajinamit,"Remove ineffective ovn_remote_probe_interval

This parameter was introduced to puppet-neutron but it was completely
wrong and the actual parameter has never been implemented in neutron.

The interval should be configured in ovn controller, and this is
already implemented using puppet-ovn.

Depends-on: https://review.opendev.org/839157
Change-Id: I53fd5c4795b3f27c58d7731d4b6f43dc45c11092
"
openstack%2Fpuppet-tripleo~master~Ibb593d32a91cc7fe67e6af7b7ce2c97e1dc0f468,openstack/puppet-tripleo,master,,Ibb593d32a91cc7fe67e6af7b7ce2c97e1dc0f468,Remove unused extract_id function,MERGED,2022-05-08 13:54:10.000000000,2022-05-25 17:20:44.000000000,2022-05-25 17:20:44.000000000,0,23,1,841038,4f41077fa1aff9bdce058bf260784fad445a0b24,13,4,1,2,9816,Takashi Kajinami,kajinamit,"Remove unused extract_id function

This function was used by Zookeeper manifests which were removed when
Midonet support was removed[1].

[1] 1fa66c49c036bf473ef7bb7008778331e117bb71

Change-Id: Ibb593d32a91cc7fe67e6af7b7ce2c97e1dc0f468
"
openstack%2Fwhitebox-tempest-plugin~master~I0e5c46cd0d4d38189a535c5219d390153cf96e1a,openstack/whitebox-tempest-plugin,master,config_guest_ram_param,I0e5c46cd0d4d38189a535c5219d390153cf96e1a,Allow for guest ram to be configurable,MERGED,2022-05-23 18:23:19.000000000,2022-05-25 17:08:03.000000000,2022-05-25 17:08:03.000000000,5,1,0,843013,159f57d395b2720a51e028b0b529706e0380d27c,7,2,1,2,31033,James Parker,jparker,"Allow for guest ram to be configurable

Starting with cirros 0.5.0 [1] minimum ram size for the guest is 128MB.
Using the default amount of 64 set in whitebox is resulting in kernel
panics for tests using cirros 0.5.2. Updating flavor creation in the
same way as volumes [2] and leaving the default to 64.

[1] https://github.com/cirros-dev/cirros/releases/tag/0.5.0
[2] https://opendev.org/openstack/whitebox-tempest-plugin/commit/9aab461f45e80b9e99060d3a08300e82e196ad31

Change-Id: I0e5c46cd0d4d38189a535c5219d390153cf96e1a
"
openstack%2Fhorizon~master~Ic994b7f36d4c6459bbd00c810e3b454c6b1201a6,openstack/horizon,master,horizon-keystoneauth-original_ip,Ic994b7f36d4c6459bbd00c810e3b454c6b1201a6,Pass real client IP to keystoneauth original_ip,MERGED,2022-04-21 12:19:37.000000000,2022-05-25 16:51:37.000000000,2022-05-25 16:49:52.000000000,1,1,4,838859,e4ac4550c9851383f83fa0a0ff693c4e5c439bd1,12,4,1,1,16137,Tobias Urdin,tobasco,"Pass real client IP to keystoneauth original_ip

The original_ip parameter for the keystoneauth plugin
sets the Forwarded header sent to Keystone but right now
it just sends the IP address of Horizon instead of the client's
IP when Horizon is proxied and should use X-Forwarded-For.

Change-Id: Ic994b7f36d4c6459bbd00c810e3b454c6b1201a6
"
openstack%2Fhorizon~master~I1943ddbe8d63c577b5c8084a158af5bae4d1f9fc,openstack/horizon,master,update-min-tox,I1943ddbe8d63c577b5c8084a158af5bae4d1f9fc,Bump tox minversion to 3.18.0,MERGED,2022-05-22 13:20:38.000000000,2022-05-25 16:36:13.000000000,2022-05-25 16:34:14.000000000,4,4,1,842864,f7e049233218f57d95ba8386b5fc3ca19c377c2b,14,3,3,1,9816,Takashi Kajinami,kajinamit,"Bump tox minversion to 3.18.0

Since tox 3.18.0, the whitelist_externals option has been deprecated in
favor of the new allow_list_externals option[1].

This change bumps the minversion of tox so that we can replace
the deprecated option.

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I1943ddbe8d63c577b5c8084a158af5bae4d1f9fc
"
openstack%2Fhorizon~stable%2Fwallaby~I1bbf3b23717f9924974920d6569e018b94e3dbe8,openstack/horizon,stable/wallaby,bug/1926511-stable/wallaby,I1bbf3b23717f9924974920d6569e018b94e3dbe8,Add horizontal scrollbar to role dropdown,MERGED,2021-09-21 15:12:50.000000000,2022-05-25 16:35:46.000000000,2022-05-25 16:34:10.000000000,2,0,1,810197,a15cd2e67924027beb94c30e798139e84a1ef8e8,16,4,1,1,30746,Travis Neely,travis.neely@att.com,"Add horizontal scrollbar to role dropdown

Manage members dialog has a dropdown which lists all the role names.
If a role name is long enough, it pushes all the roles to the left
and hides them partially. This patch adds horizontal scrollbar for
such cases.

Closes-Bug: #1926511

Change-Id: I1bbf3b23717f9924974920d6569e018b94e3dbe8
(cherry picked from commit 9b28ab402802e9848f5824b04d85cf4292f738d3)
"
openstack%2Fcliff~master~I0b77a709c7fa3766c0cdb674185017bd1823c7e3,openstack/cliff,master,,I0b77a709c7fa3766c0cdb674185017bd1823c7e3,Update python testing classifier,ABANDONED,2021-12-21 09:50:43.000000000,2022-05-25 16:27:59.000000000,,1,0,1,822454,3b3cfbcfb6114e64b5e7c4b964699899b7fa24c7,4,1,1,1,33881,LiZekun,joeylee666666,"Update python testing classifier

Change-Id: I0b77a709c7fa3766c0cdb674185017bd1823c7e3
"
openstack%2Ftripleo-ci~master~I65c98e0de0ffbaec7a085cc5435ecf77b401ddc4,openstack/tripleo-ci,master,revert-fwupd-redfish-conf-removal,I65c98e0de0ffbaec7a085cc5435ecf77b401ddc4,"Revert ""Remove fwupd-redfish.conf file from overcloud images""",MERGED,2022-05-16 19:44:53.000000000,2022-05-25 16:19:50.000000000,2022-05-25 16:19:50.000000000,0,34,12,841992,90efe7d122e89deea12378df2250564d2c5a80b5,23,10,1,2,32962,Jakob Meng,jakobmeng@web.de,"Revert ""Remove fwupd-redfish.conf file from overcloud images""

This reverts commit 018f3ecf7e2100d873391a354086f17469514ecf.
BZ bug 2030993 and Launchpad bug #1956441 have been resolved.
This temporary workaround caused additional sporadic issues
when running role oooci-build-images which failed with error:

2022-05-15 13:30:31.884236 | primary | TASK [oooci-build-images : Remove fwupd-redfish.conf file from overcloud-hardened-uefi-full.qcow2] ***
2022-05-15 13:30:31.884242 | primary | Sunday 15 May 2022  13:30:31 +0000 (0:01:14.757)       1:01:25.057 ************
2022-05-15 13:30:43.244079 | primary | fatal: [undercloud]: FAILED! => {""changed"": true, ""cmd"": ""virt-customize -a overcloud-hardened-uefi-full.qcow2 --delete /usr/lib/modules-load.d/fwupd-redfish.conf --truncate /etc/machine-id\n"", ""delta"": ""0:00:09.822358"", ""end"": ""2022-05-15 13:30:42.978256"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2022-05-15 13:30:33.155898"", ""stderr"": ""virt-customize: error: libguestfs error: guestfs_launch failed.\nThis usually means the libguestfs appliance failed to start or crashed.\nDo:\n  export LIBGUESTFS_DEBUG=1 LIBGUESTFS_TRACE=1\nand run the command again.  For further information, read:\n  http://libguestfs.org/guestfs-faq.1.html#debugging-libguestfs\nYou can also run 'libguestfs-test-tool' and post the *complete* output\ninto a bug report or message to the libguestfs mailing list.\n\nIf reporting bugs, run virt-customize with debugging enabled and include \nthe complete output:\n\n  virt-customize -v -x [...]"", ""stderr_lines"": [""virt-customize: error: libguestfs error: guestfs_launch failed."", ""This usually means the libguestfs appliance failed to start or crashed."", ""Do:"", ""  export LIBGUESTFS_DEBUG=1 LIBGUESTFS_TRACE=1"", ""and run the command again.  For further information, read:"", ""  http://libguestfs.org/guestfs-faq.1.html#debugging-libguestfs"", ""You can also run 'libguestfs-test-tool' and post the *complete* output"", ""into a bug report or message to the libguestfs mailing list."", """", ""If reporting bugs, run virt-customize with debugging enabled and include "", ""the complete output:"", """", ""  virt-customize -v -x [...]""], ""stdout"": ""[   0.0] Examining the guest ..."", ""stdout_lines"": [""[   0.0] Examining the guest ...""]}

Ref.:
[1] https://opendev.org/openstack/tripleo-ci/commit/018f3ecf7e2100d873391a354086f17469514ecf
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2030993
[3] https://bugs.launchpad.net/tripleo/+bug/1956441

Change-Id: I65c98e0de0ffbaec7a085cc5435ecf77b401ddc4
"
openstack%2Fnova~stable%2Fxena~I784190ac356695dd508e0ad8ec31d8eaa3ebee56,openstack/nova,stable/xena,bug/1944619,I784190ac356695dd508e0ad8ec31d8eaa3ebee56,Fix pre_live_migration rollback,MERGED,2022-03-31 13:10:06.000000000,2022-05-25 16:16:25.000000000,2022-05-25 16:14:33.000000000,27,13,5,836015,90c51902e9ff9fcc23cba00904a0a5d9db6a5d6a,57,6,8,4,10058,Erlon R. Cruz,sombrafam,"Fix pre_live_migration rollback

During the pre live migration process, Nova performs most of the
tasks related to the creation and operation of the VM in the destination
host. That is done without interrupting any of the hardware in the source
host. If the pre_live_migration fails, those same operations should be
rolled back.

Currently nova is sharing the _rollback_live_migration for both
live and pre_live migration rollbacks, and that is causing the source
host to try to re-attach network interfaces on the source host where
they weren't actually de-attached.

This patch fixes that by adding a conditional to allow nova to do
different paths for migration and pre_live_migration rollbacks.

Closes-bug: #1944619
Change-Id: I784190ac356695dd508e0ad8ec31d8eaa3ebee56
(cherry picked from commit 63ffba7496182f6f6f49a380f3c639fc3ded9772)
(cherry picked from commit 29b94aa34ad954e617c2a0d6df0809765dced188)
"
openstack%2Ftripleo-heat-templates~master~I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767,openstack/tripleo-heat-templates,master,bug/1951131,I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767,Add service OS::TripleO::Services::ManilaBackendPowerMax,MERGED,2022-05-17 13:47:23.000000000,2022-05-25 16:08:55.000000000,2022-05-25 16:08:55.000000000,17,0,4,842112,9b06e0850fa332f97519ec2b10c24e70ceeae12a,14,5,2,16,16643,Goutham Pacha Ravi,gouthamr,"Add service OS::TripleO::Services::ManilaBackendPowerMax

The templates were added in [1]; but the service wasn't added
to the overcloud resource registry. Also add it in standard
roles and CI environments for consistency. Since [1] was backported
to stable/train, this commit is appropriate for backport as well.

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/818105
Closes-Bug: #1951131

Change-Id: I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fdiskimage-builder~master~I4adff43cf7d4f31d939e6ddf37ac8d162ccd0db7,openstack/diskimage-builder,master,lvm-size-unit,I4adff43cf7d4f31d939e6ddf37ac8d162ccd0db7,Make centos reset-bls-entries behave the same as rhel,MERGED,2022-04-28 22:56:07.000000000,2022-05-25 16:06:48.000000000,2022-05-25 16:04:56.000000000,4,2,0,839830,8059a59583c56cd1e2199c37f9fc84d84e216a31,14,3,2,1,4571,Steve Baker,steve-stevebaker,"Make centos reset-bls-entries behave the same as rhel

This makes 03-reset-bls-entries consistent with rhel so that the glob
match is *.conf, and a check is added to ensure that a rename is
actually required.

Change-Id: I4adff43cf7d4f31d939e6ddf37ac8d162ccd0db7
"
openstack%2Fopenstack-ansible-repo_server~master~I0795fa1936aaeb9b9005a35685d85b6a4a619835,openstack/openstack-ansible-repo_server,master,,I0795fa1936aaeb9b9005a35685d85b6a4a619835,Run content restore only on first host,MERGED,2022-05-25 11:58:12.000000000,2022-05-25 16:00:09.000000000,2022-05-25 15:58:31.000000000,3,0,0,843267,703563c59cf1a4c8ebb561d0222fe9b7f597b349,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Run content restore only on first host

Currently we're trying to restore content for each host independently

This is not needed as we already storing content on shared FS,
that's been mounted.

We don't implement variable since that's only for migration purposes.

Change-Id: I0795fa1936aaeb9b9005a35685d85b6a4a619835
"
openstack%2Fkayobe~master~I40c6b898963c2218d41d37bd73d40ce8dcf22b87,openstack/kayobe,master,yoga-uc,I40c6b898963c2218d41d37bd73d40ce8dcf22b87,Use yoga upper constraints to avoid Python version conflict,MERGED,2022-05-24 08:21:26.000000000,2022-05-25 15:55:24.000000000,2022-05-25 15:52:12.000000000,11,1,4,843117,d2e0d64eb00d4cea8a4f8ff6a963b1ec0c3660ac,21,4,5,7,15197,Pierre Riteau,priteau,"Use yoga upper constraints to avoid Python version conflict

Requirements upper constraints bumped python-novaclient to version
18.0.0 [1], which requires Python 3.8 [2]. This results in failures when
installing python-openstackclient on CentOS and Rocky with Python 3.6.

    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.

    The conflict is caused by:
        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0
        The user requested (constraint) python-novaclient===18.0.0

Work around this issue by using yoga upper constraints until we upgrade
to CentOS Stream 9 and Rocky Linux 9.

This also fixes another issue seen on Ubuntu where image uploads to
Glance through Ansible fail with a 400 Bad Request error. This is caused
by the bump of openstacksdk to version 0.99.0 and will be fixed by a new
release of ansible-collections-openstack.

[1] https://review.opendev.org/c/openstack/requirements/+/842808
[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944

Change-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87
"
openstack%2Fcinder~master~I46889f9348776466816cbc3cf17c8a6f9064dbe1,openstack/cinder,master,remove-legacyfacade,I46889f9348776466816cbc3cf17c8a6f9064dbe1,"db: Migrate ""snapshot metadata"" APIs to enginefacade",MERGED,2022-02-20 19:04:44.000000000,2022-05-25 15:45:09.000000000,2022-05-24 12:24:01.000000000,61,48,4,830098,a3e4cc0301f9855cd21e490dcd5b7913dcab894d,82,6,4,1,15334,Stephen Finucane,sfinucan,"db: Migrate ""snapshot metadata"" APIs to enginefacade

Migrate quota snapshot metadata-related APIs from the legacy
enginefacade to the modern context-based enginefacade.

Change-Id: I46889f9348776466816cbc3cf17c8a6f9064dbe1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~stable%2Fxena~Ie7e5377aea23a4fbd7ad91f245d17def6d0fb927,openstack/nova,stable/xena,bug/1944619,Ie7e5377aea23a4fbd7ad91f245d17def6d0fb927,Adds regression test for bug LP#1944619,MERGED,2022-04-19 16:14:58.000000000,2022-05-25 15:27:58.000000000,2022-05-25 15:25:14.000000000,82,0,2,838550,1059921383060257b3a66596dec96a04b208dea9,22,4,3,1,10058,Erlon R. Cruz,sombrafam,"Adds regression test for bug LP#1944619

Related-bug: #1944619
Closes-bug: #1964472
Change-Id: Ie7e5377aea23a4fbd7ad91f245d17def6d0fb927
(cherry picked from commit 2ddb8bf53fdf9a17c09afc4987ab6efe8ba97696)
(cherry picked from commit 3402aa7a53a48e6abc0fb8a2620cd449fd3f75fe)
"
openstack%2Fnova~stable%2Fussuri~I20d6339a5203aed058f432f68e2ec1af57030401,openstack/nova,stable/ussuri,,I20d6339a5203aed058f432f68e2ec1af57030401,Define new functional test tox env for placement gate to run,MERGED,2022-05-05 22:06:58.000000000,2022-05-25 15:27:55.000000000,2022-05-25 15:25:04.000000000,10,0,1,840771,6e6c69f2f4a917b63ed5636d386d2c908268a7f0,9,2,2,1,4690,melanie witt,melwitt,"Define new functional test tox env for placement gate to run

We have placement-nova-tox-functional-py38 job defined and run
on placement gate[1] to run the nova functional test excluding
api and notification _sample_tests, and db-related tests but that
job skip those tests via tox_extra_args which is not right way
to do as we currently facing error when tox_extra_args is included
in tox siblings task
- https://opendev.org/zuul/zuul-jobs/commit/c02c28a982da8d5a9e7b4ca38d30967f6cd1531d

- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4

Let's define a new tox env which can exclude the required test
in stestr command itself.

Conflicts:
    tox.ini

NOTE(melwitt): The conflict is because change
I1d6a2986fcb0435cfabdd104d202b65329909d2b (Moving functional jobs to
Victoria testing runtime) is not in Ussuri. The stestr option for the
exclude regex also had to be changed because --exclude-regex is not in
stestr 3.0.1, the version installed in Ussuri.

[1] https://opendev.org/openstack/placement/src/commit/bd5b19c00e1ab293fc157f4699bc4f4719731c25/.zuul.yaml#L83

Change-Id: I20d6339a5203aed058f432f68e2ec1af57030401
(cherry picked from commit 7b063e4d0518af3e57872bc0288a94edcd33c19d)
(cherry picked from commit 64f5c1cfb0e7223603c06e22a204716919d05294)
(cherry picked from commit baf0d93e0fafcd992d37543aa9df3f6dc248a738)
(cherry picked from commit d218250eb53791012f49825140e2592dab89e69c)
"
openstack%2Fglance~master~I0cf35ed7e21497826cd581e59aa58774f030b9f6,openstack/glance,master,v2.16,I0cf35ed7e21497826cd581e59aa58774f030b9f6,Bump Image API version to 2.16,MERGED,2022-05-23 21:19:48.000000000,2022-05-25 15:27:53.000000000,2022-05-25 15:25:00.000000000,92,26,3,843028,11989a18f4ede07026a435abb3d695a075ae7004,15,3,2,4,5314,Brian Rosmaita,brian-rosmaita,"Bump Image API version to 2.16

This API version increment is due to change I6a875a38bef5, which
corrected the response code for the admin-only API call:
    PUT /v2/cache/{image_id}
The call now returns 202 upon success (it had been returning 200).

The intent of this version bump is to get the attention of operators
to take note of this change; from now on, the call always returns 202
upon success regardless of what API version you request.

Additionally, cleaned up some version tests that had gotten out of
date and were not thoroughly testing version negotiation.

Also, corrected the version negotiation code around the v2.13 API.
The versions response had been modified by change I6882fd2381e6 to
only include v2.13 when the 'enabled_backends' config option had a
value, but the versions negotiation code was not updated to reflect
that.

Change-Id: I0cf35ed7e21497826cd581e59aa58774f030b9f6
Related-bug: #1971521
"
openstack%2Fneutron-tempest-plugin~master~I0d3021f32e71519721723548873a66523035fddd,openstack/neutron-tempest-plugin,master,bug/1973755,I0d3021f32e71519721723548873a66523035fddd,taas: use ssh_key_type from config for taas scenario,MERGED,2022-05-17 13:55:54.000000000,2022-05-25 15:25:09.000000000,2022-05-25 15:25:09.000000000,6,3,5,842113,fc376047948826ac5906e8c628baf8972d449803,21,7,2,1,8313,Lajos Katona,elajkat,"taas: use ssh_key_type from config for taas scenario

Closes-Bug: #1973755
Related-Bug: #1963907

Depends-On: https://review.opendev.org/c/openstack/neutron-fwaas/+/842254
Depends-On: https://review.opendev.org/c/openstack/tap-as-a-service/+/842134
Change-Id: I0d3021f32e71519721723548873a66523035fddd
"
openstack%2Fdevstack~master~Ia5e6cca16774385622e737956b8ed917fe36e075,openstack/devstack,master,multiple-img-vars,Ia5e6cca16774385622e737956b8ed917fe36e075,DNM: lib/tempest: create a config var for every image,NEW,2022-05-25 13:42:27.000000000,2022-05-25 15:23:53.000000000,,4,0,0,843287,42770003594705f9aa3ff9b93f6c2b601b073e6a,2,1,1,1,5314,Brian Rosmaita,brian-rosmaita,"DNM: lib/tempest: create a config var for every image

Trying something out.

Change-Id: Ia5e6cca16774385622e737956b8ed917fe36e075
"
openstack%2Fpython-tripleoclient~master~Ifabdd463a758f53e9a4f4dd335fcf5bf4ef3132a,openstack/python-tripleoclient,master,masquerade-ansible,Ifabdd463a758f53e9a4f4dd335fcf5bf4ef3132a,"Revert ""Remove masquerade-networks-baremetal-puppet inclusion""",MERGED,2022-05-25 06:12:48.000000000,2022-05-25 15:20:20.000000000,2022-05-25 15:18:52.000000000,7,11,4,843196,d8dabbc66664d9982a8922afc53eb891f49b76bf,14,7,1,3,29775,Sandeep Yadav,sandeepyadav93,"Revert ""Remove masquerade-networks-baremetal-puppet inclusion""

This reverts commit 97a155ea28c2394734a6a516c1bbc6d15fb3db73.

Reason for revert: Caused breakage in ovb jobs,
details in https://bugs.launchpad.net/tripleo/+bug/1975591

Change-Id: Ifabdd463a758f53e9a4f4dd335fcf5bf4ef3132a
"
openstack%2Fdevstack-gate~master~I37887bf430b4bce2b9d2179b2d6dd6c050bb1768,openstack/devstack-gate,master,fix-neutron-full-stable,I37887bf430b4bce2b9d2179b2d6dd6c050bb1768,Switch legacy-tempest-neutron-full-stable to focal,MERGED,2022-05-24 17:18:28.000000000,2022-05-25 15:14:59.000000000,2022-05-25 15:14:59.000000000,11,3,1,843176,28382fcf1ee68cbdf66841002c311f07ed4bd576,13,5,3,2,13861,yatin,yatinkarel,"Switch legacy-tempest-neutron-full-stable to focal

legacy-tempest-neutron-full-stable deploy's stable/wallaby
and is running on ubuntu-bionic(py3.6) and failing in tempest
setup as tempest master no longer works with py3.6.

Master is dropping py3.6 support, currently oslo.log has already
dropped the support and it's latest release is not installable
on py3.6.

Pin Markusafe, as since version 2.1.0 it dropped
module 'soft_unicode' which is required by Jinja2.

Also update ansible version to 2.9.6 as of focal
which should auto discover python as per distro.

So let's switch this job to ubuntu-focal which is py3.8.

Change-Id: I37887bf430b4bce2b9d2179b2d6dd6c050bb1768
"
openstack%2Fmetalsmith~master~Id8e635de7bd8a246af7ae1750a556b752dd7dc85,openstack/metalsmith,master,gate,Id8e635de7bd8a246af7ae1750a556b752dd7dc85,Provide a work around to fix the CI,MERGED,2022-05-24 07:45:40.000000000,2022-05-25 14:52:55.000000000,2022-05-25 14:51:19.000000000,18,2,1,843112,5816be550b59b70cc62dd16af32b2adc02142e86,14,3,4,1,10239,Dmitry Tantsur,dtantsur,"Provide a work around to fix the CI

Somehow, openstacksdk ends up logging to stdout. Strip the log message
before parsing it as JSON.

Change-Id: Id8e635de7bd8a246af7ae1750a556b752dd7dc85
"
openstack%2Fglance~master~I7f98bf9970631ef4b3635752383b62b0b9f9a32a,openstack/glance,master,,I7f98bf9970631ef4b3635752383b62b0b9f9a32a,Replacing the link in HACKING.rst,ABANDONED,2018-11-16 01:55:36.000000000,2022-05-25 14:22:10.000000000,,1,1,0,618368,2ae378ee046cf52c014108acb3294b9e99b29a8b,4,2,1,1,29423,zhouxinyong,zhouxinyong,"Replacing the link in HACKING.rst

Change-Id: I7f98bf9970631ef4b3635752383b62b0b9f9a32a
"
openstack%2Ftripleo-ci~master~Ia230c08817f138c2cba60076d29e1d58fde118c8,openstack/tripleo-ci,master,,Ia230c08817f138c2cba60076d29e1d58fde118c8,Pass centos.repo from host during image build.,MERGED,2022-05-24 07:38:20.000000000,2022-05-25 14:04:53.000000000,2022-05-25 14:04:53.000000000,1,0,13,843111,b2ce4b4c101d68eaa71d1499609423e10f50f2d5,31,13,5,1,29775,Sandeep Yadav,sandeepyadav93,"Pass centos.repo from host during image build.

We are facing an issue during image build in the related bug,
because mirrors.centos.org and vexx mirrors are not in sync.

The base image which we use to build overcloud images already have
centos.repo and when proxy mirros are not updated this can cause
an issue.

This is a workaround patch to pass centos.repo(which are disabled
on host) so that same repos in the image will be overridden.

One change in behavior is at the end of image build, dib will delete
the centos.repos in the overcloud image as dib cleans up what it adds
ignoring what was already present.

Related-Bug: #1975551
Change-Id: Ia230c08817f138c2cba60076d29e1d58fde118c8
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Idae2ba0cd9a35044c124a6d05ee050e10adde60e,openstack/tripleo-heat-templates,stable/victoria,bug/1964873-stable/victoria,Idae2ba0cd9a35044c124a6d05ee050e10adde60e,Ceilometer: Remove incomplete cache parameters,MERGED,2022-03-22 06:09:13.000000000,2022-05-25 14:04:50.000000000,2022-05-25 14:04:50.000000000,0,13,0,834618,ff1c593f0fa04bf7f982bfe101578920d2912c77,9,3,1,1,9816,Takashi Kajinami,kajinamit,"Ceilometer: Remove incomplete cache parameters

Currently when TLS for memcached service is enabled, caching in
ceilometer is enabled.

However the configuration is incomplete and the pymemcache backend is
used with no actual backend server.

This change removes the cache parameters completely, as we had never
enabled caching in Ceilometer previously.

(to wallaby)
Conflicts:
	deployment/ceilometer/ceilometer-base-container-puppet.yaml

Resolved conflicts caused by the following two changes which are not
present in stable/wallaby

4dca2a4834e95cfcc9690a1e258c90fb5ee3b1e1
Allow tuning rpc_response_timeout

263fee246a4214f4c56c675cd1245ea77a3cd9ea
Ensure db initialization is not executed by puppet

(to victoria)
Conflicts:
	deployment/ceilometer/ceilometer-base-container-puppet.yaml

Closes-Bug: #1964873
Change-Id: Idae2ba0cd9a35044c124a6d05ee050e10adde60e
(cherry picked from commit 4d23590ca0d1735497ff483c5837e86e4502850f)
(cherry picked from commit 2aa408f465015c0e99f269da779ef19c68300534)
"
openstack%2Fironic~stable%2Fxena~I936f6c1506c585826501ff3ac0bad0c755b4d360,openstack/ironic,stable/xena,,I936f6c1506c585826501ff3ac0bad0c755b4d360,Fix ironic-lib from source and branch detection in IPA builds,MERGED,2022-04-29 17:36:54.000000000,2022-05-25 13:32:31.000000000,2022-05-25 13:30:46.000000000,7,1,4,839984,41f8ed7c0bf1ba84c6df3c0c080b571e326396aa,33,3,3,1,10239,Dmitry Tantsur,dtantsur,"Fix ironic-lib from source and branch detection in IPA builds

Prevents the ironic-lib CI from testing ironic-lib changes in IPA.

Change-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360
(cherry picked from commit b94e52f55a0c4f9d6f3a771179da4ec5ccbddbd7)
"
openstack%2Ftripleo-validations~stable%2Ftrain~Ie268e91341610dad36c3ddc79496cc174f732900,openstack/tripleo-validations,stable/train,libvirt_validation-stable/wallaby-stable/victoria-stable/ussuri-stable/train,Ie268e91341610dad36c3ddc79496cc174f732900,Validate libvirtd is not running on the undercloud,MERGED,2022-03-03 14:25:04.000000000,2022-05-25 13:15:58.000000000,2022-05-25 13:13:05.000000000,57,0,5,831761,c2472bf0bea869c01e7bc40b05581c4e157a73e2,22,4,3,5,7130,David Hill,dhill,"Validate libvirtd is not running on the undercloud

Validate libvirtd is not running on the undercloud as its dnsmasq
process is conflicting with ironic-inspector dnsmasq process.

Change-Id: Ie268e91341610dad36c3ddc79496cc174f732900
(cherry picked from commit 30b234a45c45fff2b49f94efef2d0de31fad2c5e)
"
openstack%2Ftripleo-ci~master~I06adec92cc19214878f41001ea2999eb7923b9bd,openstack/tripleo-ci,master,deployed_ceph_ci,I06adec92cc19214878f41001ea2999eb7923b9bd,Run scenario010 standalone for changes to relevant file in tqe,MERGED,2022-05-22 16:27:54.000000000,2022-05-25 13:13:03.000000000,2022-05-25 13:13:03.000000000,2,0,5,842900,eeb507dfeba7ed652186994e15e5bfac369c5002,16,5,2,1,18002,John Fulton,fultonj,"Run scenario010 standalone for changes to relevant file in tqe

In [1] a new ceph-install task file is added to the standalone role
The scenario1/4 job matches against standalone/* already but scen010
is not triggered. This adds the new ceph-install file to the
scen010 files:

[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/834352

Change-Id: I06adec92cc19214878f41001ea2999eb7923b9bd
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Iecf3f3e20fa285563b23a7aff7deaa00616aca51,openstack/tripleo-ansible,stable/wallaby,fips-compatibility-stable/wallaby,Iecf3f3e20fa285563b23a7aff7deaa00616aca51,Modify cert gen to make it work under fips,MERGED,2022-05-23 20:49:30.000000000,2022-05-25 13:13:00.000000000,2022-05-25 13:13:00.000000000,110,9,1,842945,08dc9bd4663418d992742c25f5eeff2fec5e1d93,8,7,1,2,9914,Ade Lee,alee,"Modify cert gen to make it work under fips

Some openssl command line utilities (e.g. openssl req) accept a
supplementary config file as an option. This config file should
contain only supplementary sections. If you use the main
configuration file as supplementary, it may cause strange errors
because openssl will try to activate the providers twice. This
behaviour existed for a long time but before the 3.0 version
it caused problems less often, and it appears to fail consistently
under FIPS.

In this commit, we create a config file with just those configs
that are necessary.

Change-Id: Iecf3f3e20fa285563b23a7aff7deaa00616aca51
(cherry picked from commit 4fc439a03ea561f629b86ba3aa0159504facc867)
"
openstack%2Fos-service-types~master~Ib5fc73c4e076092e9579ee5eb2cc5e5a8c76c6ab,openstack/os-service-types,master,,Ib5fc73c4e076092e9579ee5eb2cc5e5a8c76c6ab,Add Python 3.8 and 3.9 to supported runtimes,NEW,2022-05-25 11:55:52.000000000,2022-05-25 13:06:29.000000000,,2,0,0,843266,e32eb594a70ec4b00582b6aa00f89db00b1238f1,3,2,1,1,9816,Takashi Kajinami,kajinamit,"Add Python 3.8 and 3.9 to supported runtimes

... because these are part of test runtimes since Yoga development
cycle.

Change-Id: Ib5fc73c4e076092e9579ee5eb2cc5e5a8c76c6ab
"
openstack%2Ftripleo-heat-templates~master~I56ed59a47a0baf30d6d05b5eed629a1112bbabfb,openstack/tripleo-heat-templates,master,masquerade-ansible,I56ed59a47a0baf30d6d05b5eed629a1112bbabfb,Manage the masquerade rules via ansible instead of puppet,ABANDONED,2022-04-06 17:39:35.000000000,2022-05-25 12:54:21.000000000,,18,6,17,836872,604355b5d2353f3825c1392c347dcc28a6fc9643,71,6,14,9,28223,Cedric Jeanneret,cjeanner,"Manage the masquerade rules via ansible instead of puppet

Get rid of puppet firewall management for the ""masquerade"" on the
Undercloud, and use the tripleo-ansible ""tripleo_firewall"" role.

We can therefore deprecate the masquerade-networks-baremetal-puppet, and
remove any mention of it in the different roles it was set.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871
Depends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/836903
Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/836952
Change-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb
"
openstack%2Fdevstack-gate~master~I3e7eed4d260051d72e3ee9d6ed2ce726e85583fe,openstack/devstack-gate,master,,I3e7eed4d260051d72e3ee9d6ed2ce726e85583fe,Update README file for d-g retirement date,MERGED,2022-04-30 00:17:09.000000000,2022-05-25 12:50:55.000000000,2022-05-02 16:59:22.000000000,3,0,0,840011,83493cc0f81c1dd258968e3945f2ec344113d4d1,8,4,1,1,8556,Ghanshyam,ghanshyam,"Update README file for d-g retirement date

In TC PTG, we decided to retire the d-g once
stable/wallaby is in EM state and update it
in README file so that anyone still using it
will know the retirement date.

- https://etherpad.opendev.org/p/tc-zed-ptg#L379

Change-Id: I3e7eed4d260051d72e3ee9d6ed2ce726e85583fe
"
openstack%2Ftripleo-heat-templates~master~I470c4c26f6d9977ba68a5d6eb9cd2c35af9e4b9a,openstack/tripleo-heat-templates,master,forwardfor,I470c4c26f6d9977ba68a5d6eb9cd2c35af9e4b9a,Log source ips instead of controller ips in apache access log,MERGED,2021-05-31 12:53:03.000000000,2022-05-25 12:46:23.000000000,2022-05-25 12:46:23.000000000,15,1,2,793787,d8604df61b39981c9f580a37fed66d2e8db238d8,28,6,5,15,9816,Takashi Kajinami,kajinamit,"Log source ips instead of controller ips in apache access log

Currently apache access logs have controller ips instead of source ips
recorded since apache simply records source ip of http traffic.

This change ensures that client ips are detected by the X-Forwarded-For
header added by haproxy.

Note that the forwarded format does not log client ip if the header is
missing. Because of this, direct http requests(eg. healthcheck requests
from haproxy) results in log lines without client ip.

Depends-on: https://review.opendev.org/837504
Change-Id: I470c4c26f6d9977ba68a5d6eb9cd2c35af9e4b9a
"
openstack%2Ftripleo-heat-templates~master~I09ca5baff60f472edee0a4bde59f9c2e575dfdee,openstack/tripleo-heat-templates,master,,I09ca5baff60f472edee0a4bde59f9c2e575dfdee,Octavia: Accept lists for Ciphers parameters,MERGED,2022-04-12 14:19:18.000000000,2022-05-25 12:46:19.000000000,2022-05-25 12:46:19.000000000,18,10,15,837575,fef8dacd9fc394f01df5a2a202938f672bbd43ef,38,5,4,1,9816,Takashi Kajinami,kajinamit,"Octavia: Accept lists for Ciphers parameters

This is follow-up of 875155550959d112acc37f74d88a674fca640167 and
allows usage of list values for ciphers parameters so that users can
more easily maintain items. List values are automatically converted to
colon-separated strings by puppet-octavia .

Also, some default values are quite long and makes maintenance quite
difficult. Instead of hard-coding default, these parameters use service
default when the values are unset(or intentionally set to empty lists).

Change-Id: I09ca5baff60f472edee0a4bde59f9c2e575dfdee
"
openstack%2Ftripleo-heat-templates~master~I3de64b2526422322ad10231d9d682a326d4435ca,openstack/tripleo-heat-templates,master,,I3de64b2526422322ad10231d9d682a326d4435ca,Remove 'u' prefix,MERGED,2022-05-18 02:14:41.000000000,2022-05-25 12:44:58.000000000,2022-05-25 12:43:40.000000000,35,35,0,842250,b2a35f13d54ccbb3ad5842c66f9394b7ea265fd6,9,4,1,3,9816,Takashi Kajinami,kajinamit,"Remove 'u' prefix

In Python 3, u'...' and '...' are equivalent. Also, the prefix is no
longer printed.

Change-Id: I3de64b2526422322ad10231d9d682a326d4435ca
"
openstack%2Ftripleo-heat-templates~master~I315ab6132b9185f169ae94476dc892db81976775,openstack/tripleo-heat-templates,master,,I315ab6132b9185f169ae94476dc892db81976775,Remove old interface from plan-sample,MERGED,2022-05-18 02:11:24.000000000,2022-05-25 12:43:37.000000000,2022-05-25 12:43:37.000000000,0,36,0,842249,dfcff68e33ce8f21af3e7b6ce908b3100de0751f,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Remove old interface from plan-sample

... because the interface was used by Mistral, which was already
removed.

Change-Id: I315ab6132b9185f169ae94476dc892db81976775
"
openstack%2Fopenstacksdk~master~I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed,openstack/openstacksdk,master,sdk_r1,I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed,Rework caching,MERGED,2022-04-14 12:47:19.000000000,2022-05-25 12:27:20.000000000,2022-05-25 12:25:29.000000000,322,96,5,837802,46c6ed8a8d99b95d2c549789a69ef4f510f5bb6a,20,3,3,25,27900,Artem Goncharov,gtema,"Rework caching

Replace caching solution:
- cache on the proxy layer (API communication)
- support caching all GET calls
- add possibility to bypass cache (important for _wait_for_ operations)

Cheery-Picked-From: https://review.opendev.org/c/openstack/openstacksdk/+/805851

Change-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed
"
openstack%2Fansible-role-redhat-subscription~master~I156d638680b061032e0b95c55d21e029a6fa144f,openstack/ansible-role-redhat-subscription,master,,I156d638680b061032e0b95c55d21e029a6fa144f,fix typo,MERGED,2022-05-25 12:12:51.000000000,2022-05-25 12:25:02.000000000,2022-05-25 12:25:02.000000000,1,1,0,843271,2c4cd367f12406ea4e1680a06eeac3747d19370c,6,2,1,1,7353,Kevin Carter,cloudnull,"fix typo

Signed-off-by: Kevin Carter <kecarter@redhat.com>
Change-Id: I156d638680b061032e0b95c55d21e029a6fa144f
"
openstack%2Fopenstack-ansible~master~Ibcd7cb6eb32e896907b35a5d48ba127d1e4ac3b9,openstack/openstack-ansible,master,,Ibcd7cb6eb32e896907b35a5d48ba127d1e4ac3b9,Ensure prettytable is present in the ansible-runtime virtualenv,NEW,2021-02-23 08:44:12.000000000,2022-05-25 12:24:18.000000000,,1,1,2,777061,9adc28ae57543fa55103c0a820a891937d781fca,12,3,4,1,25023,Jonathan Rosser,jrosser,"Ensure prettytable is present in the ansible-runtime virtualenv

This is required for the inventory_manage script and would previously
have been installed with the OpenStack client in the ansible runtime
virtualenv. The client is no longer installed so we must ensure
that prettytable is present.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/821388
Change-Id: Ibcd7cb6eb32e896907b35a5d48ba127d1e4ac3b9
"
openstack%2Frpm-packaging~master~If0c00c9cb79599534efac0e6b79a71bf767e3c29,openstack/rpm-packaging,master,,If0c00c9cb79599534efac0e6b79a71bf767e3c29,castellan: update to 3.11.0,MERGED,2022-05-24 22:15:19.000000000,2022-05-25 12:12:39.000000000,2022-05-25 12:12:39.000000000,3,1,0,843219,ab556ca2511ebae75d300f3def80afd0eafbbdaf,7,3,1,1,6593,Dirk Mueller,dmllr,"castellan: update to 3.11.0

Change-Id: If0c00c9cb79599534efac0e6b79a71bf767e3c29
"
openstack%2Fbifrost~master~I09eb82ca122483fbd0f91486af35e80698c92ce0,openstack/bifrost,master,kolla-ubuntu,I09eb82ca122483fbd0f91486af35e80698c92ce0,[CI] Test Kolla on Ubuntu,MERGED,2022-05-18 10:58:10.000000000,2022-05-25 11:35:06.000000000,2022-05-25 11:32:43.000000000,1,1,2,842332,1d9f1c4a34d113c58765dc887754d16613976a4f,15,3,2,1,30491,Radosław Piliszek,yoctozepto,"[CI] Test Kolla on Ubuntu

This is because CentOS Stream 8 is no longer supported in Zed and
Stream 9 support is not ready on Kolla's side.
Long-term it is also ok to keep testing here against Ubuntu
because it is a bit stabler than Stream in general.

Change-Id: I09eb82ca122483fbd0f91486af35e80698c92ce0
Depends-On: https://review.opendev.org/c/openstack/kolla/+/842368
"
openstack%2Fdevstack~master~I0c779b846e84ea3794bd631dee61ec5e5a8edc1f,openstack/devstack,master,,I0c779b846e84ea3794bd631dee61ec5e5a8edc1f,WIP: Add check for local source installations,ABANDONED,2021-01-20 19:54:10.000000000,2022-05-25 11:12:04.000000000,,18,2,1,771713,2e5e76c8a35e822903e8d51a37ce9b061e000e3c,4,1,1,2,17685,Elod Illes,elod.illes,"WIP: Add check for local source installations

Change-Id: I0c779b846e84ea3794bd631dee61ec5e5a8edc1f
"
openstack%2Frequirements~master~Id65e566b8f943cf60d4f2b646e88876c4ababbd4,openstack/requirements,master,,Id65e566b8f943cf60d4f2b646e88876c4ababbd4,"Revert ""Add prettytable to global-requirements""",MERGED,2022-05-24 19:52:37.000000000,2022-05-25 11:09:56.000000000,2022-05-25 11:08:50.000000000,0,1,2,843191,04feb5f9698e9880943083193b62d9c0cf145719,8,5,1,1,5314,Brian Rosmaita,brian-rosmaita,"Revert ""Add prettytable to global-requirements""

This reverts commit 05996e009c55f757cf91cf0d94abd86dcb0f21c4.

Reason for revert:

From what I can tell, instead of allowing you to use either PrettyTable or prettytable in your requirements.txt, it forces you to use *both*, which is completely contrary to the intention of this patch.  See the commit message on https://review.opendev.org/c/openstack/glance/+/843143 for how I came to this conclusion.

The patch that the original change was Needed-By never merged (it failed the requirements-check job).

Being required to use both PrettyTable *and* prettytable in requirements.txt is probably a bug in the requirements checking code, but that shouldn't stop us from reverting this patch.

Change-Id: Id65e566b8f943cf60d4f2b646e88876c4ababbd4
"
openstack%2Fglance~master~I3d64f7b82ae85c1b193d25fe3a2c0bd3ed8d2011,openstack/glance,master,req-prettytable,I3d64f7b82ae85c1b193d25fe3a2c0bd3ed8d2011,DNM: Update prettytable in requirements.txt,ABANDONED,2022-05-24 13:32:15.000000000,2022-05-25 11:03:35.000000000,,2,425,0,843143,181331d8d837958a672cf9dd582e33af630a8cd4,12,1,6,2,5314,Brian Rosmaita,brian-rosmaita,"DNM: Update prettytable in requirements.txt

We're getting a requirements-check job failure on
https://review.opendev.org/c/openstack/glance/+/841135

Failure is
https://zuul.opendev.org/t/openstack/build/4b68816b1f3e472d90125ebfad65fe29/log/job-output.txt#672

WARNING: possible mismatch found for package ""PrettyTable""
   Attribute ""package"" does not match
   ""PrettyTable"" does not match ""prettytable""
   Requirement(package='PrettyTable', location='', specifiers='>=0.7.1', markers='', comment='# BSD', extras=frozenset())
   Requirement(package='prettytable', location='', specifiers='', markers='', comment='# BSD', extras=frozenset())
ERROR: Package 'prettytable' requirement does not match number of lines (2) in openstack/requirements

Both 'PrettyTable' and 'prettytable' are in global-requirements, but
it's only 'prettytable' in upper-constraints.  So first try here is to see
if using only lowercase makes a difference.

It did not.  Second try: keep lowercase, but raise the minimum version
to 2.5.0, which is the most recent version that still supports python 3.6
(which we support in yoga).

Third try: take literally what the error message says about the number
of lines not matching.
- still doesn't work, but at least I got a different error:
ERROR: Could not find a global requirements entry to match package prettytable. If the package is already included in the global list, the name or platform markers there may not match the local settings.

Fourth try (grasping at straws here): restore the camel-case to the <3.8 line

Fifth try: hacked some print statements into openstack_requirements/check.py and decided
that the 2 lines being referred to are the ones in global-requirements, so I added both a
requirement for PrettyTable and a requirement for prettytable to requirements.txt, and that
works.

Closes-bug: #1975609
Change-Id: I3d64f7b82ae85c1b193d25fe3a2c0bd3ed8d2011
"
openstack%2Freleases~master~I4c3548f3fe2b86d36c29bf3efcdf091ed176c5e1,openstack/releases,master,,I4c3548f3fe2b86d36c29bf3efcdf091ed176c5e1,New stable releases for Neutron,MERGED,2022-05-23 13:06:00.000000000,2022-05-25 10:44:46.000000000,2022-05-25 10:44:46.000000000,12,0,10,842971,8af029e6fab09f53419f0c074857d652b9e5ca82,22,6,3,3,11805,Corey Bryant,coreycb,"New stable releases for Neutron

stable/yoga: 20.1.0 5cc41f0ab10adfd987423a96f57b2e074c8bdac6
stable/xena: 19.3.0 2f5a42c637c23f1080eb55a9b0eea67b5f55d078
stable/wallaby: 18.4.0 9bb95609673e1aeefc1c486a812028722a3840ac

Change-Id: I4c3548f3fe2b86d36c29bf3efcdf091ed176c5e1
"
openstack%2Fansible-collections-openstack~stable%2F1.0.0~Ic077f7a906698025edf20acf22c7a5c6caa8734a,openstack/ansible-collections-openstack,stable/1.0.0,raise_maximum_sdk_version,Ic077f7a906698025edf20acf22c7a5c6caa8734a,Lowered maximum OpenStack SDK version to 0.98.999,MERGED,2022-04-28 07:24:01.000000000,2022-05-25 10:37:42.000000000,2022-05-24 18:42:18.000000000,4,4,2,839693,75558c5c2e970d40133273432ac77bbb161ff4ed,17,4,3,4,32962,Jakob Meng,jakobmeng@web.de,"Lowered maximum OpenStack SDK version to 0.98.999

Alongside OpenStack SDK 1.0.0 we will release a new collection version
2.0.0 which is compatible to OpenStack SDK 1.x.x series only. Code in
branch stable/1.0.0 will remain compatible to OpenStack SDK 0.x.x
series only. Release candidates for the first major release of
OpenStackSDK 1.x.x will be numbered using 0.99.x versions.

At Ansible OpenStack modules PTG on 2022-04-07 it was decided to raise
an error if one is using a incompatible releases of the OpenStack SDK
with our collection. We decided against showing warnings only because
they can be missed easily and functionality  will be broken but
probably hardly detectable when using the wrong SDK.

This patch caps the maximum required SDK versions to 0.98.999, so
that an error will be raised when users try to use our collection with
an incompatible SDK release, e.g. use code from our stable/1.0.0 branch
with a OpenStack SDK 0.99.x or 1.x.x release.

Change-Id: Ic077f7a906698025edf20acf22c7a5c6caa8734a
"
openstack%2Fskyline-apiserver~master~I10d2d337331d8c4857f6e58331e545eead0bf26f,openstack/skyline-apiserver,master,,I10d2d337331d8c4857f6e58331e545eead0bf26f,feature: Add magnum config and policy,MERGED,2022-05-24 10:03:31.000000000,2022-05-25 10:37:37.000000000,2022-05-25 10:37:37.000000000,497,1,4,843125,60144767cd5513bd581fbb8eac7791887d5b276f,12,2,2,5,33196,conna,yangshaoxue,"feature: Add magnum config and policy

1. add magnum install into post_install.sh
2. add magnum into SUPPORTED_SERVICE_EPS and PREFIX_MAPPINGS
3. add magnum policy

Change-Id: I10d2d337331d8c4857f6e58331e545eead0bf26f
"
openstack%2Fskyline-console~master~I97bc881b438c9922a2123c36b7e8ea40e5307fd2,openstack/skyline-console,master,,I97bc881b438c9922a2123c36b7e8ea40e5307fd2,fix: Fix GB/MB unit to GiB/MiB,MERGED,2022-05-25 06:42:20.000000000,2022-05-25 10:37:35.000000000,2022-05-25 10:37:35.000000000,285,167,0,843239,eae1e272565981c1cde3c1b5cd2b5bf637a6ed35,8,3,2,44,30434,Jingwei.Zhang,jwzhang,"fix: Fix GB/MB unit to GiB/MiB

1. Fix size unit to GiB/MiB for
volume/snapshot/backup/image/flavor/monitor
2. Update i18n for Zun

Change-Id: I97bc881b438c9922a2123c36b7e8ea40e5307fd2
"
openstack%2Freleases~master~I677ccd7b379ff175a1ef72c83f407960be93f935,openstack/releases,master,liaisons,I677ccd7b379ff175a1ef72c83f407960be93f935,Remove Erno Kuvaja from Glance liaison,MERGED,2022-05-19 12:22:55.000000000,2022-05-25 10:04:31.000000000,2022-05-25 10:04:31.000000000,0,4,0,842535,c9afd47a84012291c4331995bd2597e1e9761e6a,7,3,1,1,5202,Erno Kuvaja,jokke,"Remove Erno Kuvaja from Glance liaison

Change-Id: I677ccd7b379ff175a1ef72c83f407960be93f935
"
openstack%2Fcliff~master~I03957cf4bd0a96cb1d07e80727c184854b869fc3,openstack/cliff,master,remove-py36,I03957cf4bd0a96cb1d07e80727c184854b869fc3,Migrate Python 3.6/7 jobs to Python 3.8,MERGED,2022-05-24 08:51:33.000000000,2022-05-25 09:54:42.000000000,2022-05-25 09:51:50.000000000,7,7,4,843123,5df8c37e06e32094cf606f0f204e5bc4e9c792c5,19,3,2,1,9816,Takashi Kajinami,kajinamit,"Migrate Python 3.6/7 jobs to Python 3.8

Support for Python 3.6 and 3.7 is being removed globally. The current
latest release of python-novaclient (18.0.0) does not support these two
versions. The next python-neutronclient release does not, either.

This migrates Python 3.6/7 jobs to Python 3.8 because 3.8 is now
the minimum supported version.

This also replaces Python3 yoga unit tests by zena unit tests.

Depends-on: https://review.opendev.org/843115
Change-Id: I03957cf4bd0a96cb1d07e80727c184854b869fc3
"
openstack%2Fopenstack-zuul-jobs~master~I2ed1b07e9e6dd5513f30b3007ee187da7665bf35,openstack/openstack-zuul-jobs,master,wheel-install-wheel-to-venv,I2ed1b07e9e6dd5513f30b3007ee187da7665bf35,"wheels: Add ""wheel"" to build venv",MERGED,2022-05-24 23:33:20.000000000,2022-05-25 09:50:55.000000000,2022-05-25 09:49:41.000000000,1,1,0,843222,95966f83c0ece807b63f23f3b746edc22e5c9d74,11,3,1,1,7118,Ian Wienand,iwienand,"wheels: Add ""wheel"" to build venv

Lots of builds fail with

 $ grep -r ""invalid command 'bdist_wheel'"" *  | wc -l
 388

I think perhaps we need wheel in the venv, as packages don't specify
the depdency explictly?

Change-Id: I2ed1b07e9e6dd5513f30b3007ee187da7665bf35
"
openstack%2Fneutron-lib~master~Ibfaf1dcb103cda52d3a1d3a6289f30cae9f97ab4,openstack/neutron-lib,master,bug/1973049,Ibfaf1dcb103cda52d3a1d3a6289f30cae9f97ab4,"[DNM] Use autoincrement ID as ""version_id_col"" in ""StandardAttribute""",ABANDONED,2022-05-12 08:26:27.000000000,2022-05-25 09:49:52.000000000,,1,1,0,841553,ff0c88582ec11248a378cbf6891da5cc4f17a9ed,3,1,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[DNM] Use autoincrement ID as ""version_id_col"" in ""StandardAttribute""

TBD

Change-Id: Ibfaf1dcb103cda52d3a1d3a6289f30cae9f97ab4
B: #1973049
"
openstack%2Fovsdbapp~master~Ie5f01cfbd4450c533f9b27b2de2896546d47a8fa,openstack/ovsdbapp,master,test_ci,Ie5f01cfbd4450c533f9b27b2de2896546d47a8fa,[DNM] Test CI patch,ABANDONED,2022-05-11 11:13:53.000000000,2022-05-25 09:49:49.000000000,,0,1,1,841405,1b7f6be7317c2740eecd560a8183184e860ae853,4,1,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[DNM] Test CI patch

Change-Id: Ie5f01cfbd4450c533f9b27b2de2896546d47a8fa
"
openstack%2Fkeystoneauth~master~Ic967efdf41f7561517e18469d3fe56beb63812cc,openstack/keystoneauth,master,,Ic967efdf41f7561517e18469d3fe56beb63812cc,Fix outdated python job template,NEW,2022-05-22 14:18:18.000000000,2022-05-25 09:41:19.000000000,,1,1,3,842885,3895924fd0f639b1bb9ec273b9c2e74ad9ef7fc9,6,1,1,1,9816,Takashi Kajinami,kajinamit,"Fix outdated python job template

The python job template has not been updated since Ussuri cycle and
the template currently used is not consistent with the release.

Change-Id: Ic967efdf41f7561517e18469d3fe56beb63812cc
"
openstack%2Fcinder-tempest-plugin~master~Iec6c1435ae934f44e4f07c16393d5877dbf0e502,openstack/cinder-tempest-plugin,master,secure-rbac,Iec6c1435ae934f44e4f07c16393d5877dbf0e502,Add basic volume protection tests,NEW,2021-03-03 05:43:46.000000000,2022-05-25 09:39:50.000000000,,727,0,5,778357,7ebaa31bccb838d605736317e8d1c28507743854,42,3,18,2,5046,Lance Bragstad,ldbragst,"Add basic volume protection tests

This commit adds some trivial protection tests for volume operations
with the default role and scope permutations possible from keystone and
available by default through tempest and devstack.

Some of these tests are execising the read-only role in keystone, which
is going to fail until we update cinder's policies to do valid role
checking for writeable operations. For now, those tests are skipped and
we will remove the skips as we incrementally work through cinder's
policies and implememnt default roles.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/779382
Related-Bug: 1917795

Change-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502
"
openstack%2Fopenstacksdk~master~I3faa9f60264d5b598a46ad5a5a3a0c8e53036081,openstack/openstacksdk,master,ubuntu-2204,I3faa9f60264d5b598a46ad5a5a3a0c8e53036081,Switch python-dev to python3-dev,ABANDONED,2022-05-16 12:04:01.000000000,2022-05-25 09:19:03.000000000,,1,1,0,841896,fe6dc1a4702eb5295180b5847d2fe4f6ab59c1db,3,1,1,1,15554,Bence Romsics,ebenrom,"Switch python-dev to python3-dev

Building devstack on Ubuntu 22.04 with LIBS_FROM_GIT+=,openstacksdk
failed because there's no more python-dev package only python3-dev.
This change switches to that.

Change-Id: I3faa9f60264d5b598a46ad5a5a3a0c8e53036081
"
openstack%2Fopenstacksdk~master~I0b2deccfbc5cbbffd361106b96f4996172d1ee3c,openstack/openstacksdk,master,fix-bindep,I0b2deccfbc5cbbffd361106b96f4996172d1ee3c,Fix python-dev reference in bindep,MERGED,2022-05-24 09:59:51.000000000,2022-05-25 09:13:44.000000000,2022-05-25 09:12:21.000000000,1,1,1,843124,8d33f1191e34bc4f7eec1643134d7793ac333406,10,3,1,1,13252,Dr. Jens Harbott,jrosenboom,"Fix python-dev reference in bindep

Python2 is a thing of the past, we need python3 now. This should get the
python3.10 job running.

Change-Id: I0b2deccfbc5cbbffd361106b96f4996172d1ee3c
"
openstack%2Fdevstack~master~I32b0240fd56310d7f10596aaa8ef432679bfd66a,openstack/devstack,master,missed-cleanup,I32b0240fd56310d7f10596aaa8ef432679bfd66a,Cleanup comment that should've been removed,MERGED,2022-05-23 15:47:28.000000000,2022-05-25 09:13:44.000000000,2022-05-25 09:12:18.000000000,0,3,1,842992,1d5be95196d31ba1a4ef125f4b06a5730f2af113,7,2,1,1,4146,Clark Boylan,cboylan,"Cleanup comment that should've been removed

The previous change, I237f5663b0f8b060f6df130de04e17e2b1695f8a, removed
a SETUPTOOLS flag, but not the comment explaining why that flag was
previously set. Clean up that comment.

Change-Id: I32b0240fd56310d7f10596aaa8ef432679bfd66a
"
openstack%2Fvalidations-common~stable%2F1.6~I09c3814d0fd7e3184185c407c1d8c225cc1cdf01,openstack/validations-common,stable/1.6,test/CI,I09c3814d0fd7e3184185c407c1d8c225cc1cdf01,DNM - test for CI,NEW,2022-05-25 08:11:14.000000000,2022-05-25 09:06:17.000000000,,0,2348,0,843246,94a3b39c0f81627dcfcbec1100d1514188806015,5,1,3,12,16515,mbu,matbu,"DNM - test for CI

Depends-On: https://review.opendev.org/c/openstack/validations-common/+/842048

Change-Id: I09c3814d0fd7e3184185c407c1d8c225cc1cdf01
"
openstack%2Fheat~master~I8fccb5741cc3531fb49f76807be2eb76fea859da,openstack/heat,master,story/2009904,I8fccb5741cc3531fb49f76807be2eb76fea859da,No sql query or traceback if invalid input,ABANDONED,2022-03-09 10:23:32.000000000,2022-05-25 08:04:13.000000000,,32,5,13,832776,59a3c05288f4fbc100d2143ebda0b336f68b98f9,25,3,4,2,32927,mitya-eremeev-2,mitya-eremeev-2,"No sql query or traceback if invalid input

Client gets sql query content or traceback from service
if request is malformed or incorrect.
Even though, the SQL query source is publicly available in OpenStack official documentation,
attacker/end-user shouldn't be aware of which operations/queries that user is using internally.
The response contains the specific query along with the input parameters, attacker can easily
get access to such sensitive information by sending an invalid request which is a security concern.
Hence, the query details and sensitive information shall not be disclosed in the response.

Story: #2009904
Task: #44720
Change-Id: I8fccb5741cc3531fb49f76807be2eb76fea859da
"
openstack%2Fzaqar~master~I5a27ecd3f4af1a9933b3480934d7b7a1e4dbf7dd,openstack/zaqar,master,,I5a27ecd3f4af1a9933b3480934d7b7a1e4dbf7dd,Remove translation sections from setup.cfg,MERGED,2020-05-14 09:41:42.000000000,2022-05-25 07:47:34.000000000,2022-05-25 07:46:22.000000000,0,17,8,728000,c1b4e7b8736cab62afae17c3d15d0cb2dd178a8b,29,3,3,2,17130,melissaml,malei,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: I5a27ecd3f4af1a9933b3480934d7b7a1e4dbf7dd
"
openstack%2Fdevstack~master~I35dd53c3b3dd0254cb1fb3b2af74fb4346dd1251,openstack/devstack,master,,I35dd53c3b3dd0254cb1fb3b2af74fb4346dd1251,Do not install test-requirements.txt dependencies,ABANDONED,2018-10-17 06:57:32.000000000,2022-05-25 07:40:42.000000000,,8,7,0,611248,6327a6fe40888429d6ccf79f741ee2cd17de6728,18,8,2,2,21883,Manuel Buil,mbuil,"Do not install test-requirements.txt dependencies

Each project should decide whether test-requirements.txt dependencies
should be used or not. Right now, they are always used and that creates
problems for example in this patch:

https://review.openstack.org/#/c/602622/

where we don't want to install dependencies of test-requirements.txt for
the functional tests but we are forced to

Change-Id: I35dd53c3b3dd0254cb1fb3b2af74fb4346dd1251
Signed-off-by: Manuel Buil <mbuil@suse.com>
"
openstack%2Fdevstack~master~I17d72c2d23db748dbeaa80ee3b7fe9be45e6893f,openstack/devstack,master,,I17d72c2d23db748dbeaa80ee3b7fe9be45e6893f,[DNM] Replace all 'python' to 'python3' of shell script,ABANDONED,2020-09-03 08:40:46.000000000,2022-05-25 07:37:39.000000000,,8,4,1,749676,85a8774a06a5bee4043a49c040dea1ee620da455,6,2,2,3,32071,Hui Jiang,jhui,"[DNM] Replace all 'python' to 'python3' of shell script

just for test

Change-Id: I17d72c2d23db748dbeaa80ee3b7fe9be45e6893f
"
openstack%2Fheat~master~I1b99f8d039271bff8e64d64ad5482231bf2a2118,openstack/heat,master,heat-remove-tripleo,I1b99f8d039271bff8e64d64ad5482231bf2a2118,Remove TripleO job,MERGED,2022-05-09 10:53:30.000000000,2022-05-25 07:33:24.000000000,2022-05-25 07:30:54.000000000,0,3,4,841100,b3430d9fc2d82820ea14d21381efabe5e22f8925,21,2,3,1,9816,Takashi Kajinami,kajinamit,"Remove TripleO job

This removes the experimental TripleO job. The job has been kept in
experimental queue and it has never attracted actual attention.
Also the job does not use the proposed change in heat but the current
master instead, so it's not useful to be in the Heat jobs.

Change-Id: I1b99f8d039271bff8e64d64ad5482231bf2a2118
"
openstack%2Fci-log-processing~master~I4c606c79eeeea6cff8815a1573d1d9ca4829046a,openstack/ci-log-processing,master,,I4c606c79eeeea6cff8815a1573d1d9ca4829046a,Add workaround for custom builds to be send,MERGED,2022-03-17 09:25:22.000000000,2022-05-25 07:23:01.000000000,2022-05-25 07:21:51.000000000,17,5,17,834119,7cbd38adc896f3e1444b31d8520c6b8efd525922,61,4,6,2,20676,daniel.pawlik,daniel.pawlik,"Add workaround for custom builds to be send

The logsender treads build dirs that does not contain full
information like: buildinfo and inventory.yaml file as incomplete -
the logsender can check ""ready"" directories in same time with logscraper
that is downloading the files.
The workaround for it is create not empty inventory.yaml file, so
the logsender will send it.

Change-Id: I4c606c79eeeea6cff8815a1573d1d9ca4829046a
"
openstack%2Fneutron~master~Idc1f478e69ee65f61678e8282dbe1fbeb2183c6d,openstack/neutron,master,bug/1975658,Idc1f478e69ee65f61678e8282dbe1fbeb2183c6d,[ovn_l3]no need to get az list use ml2/ovn mech_driver,ABANDONED,2022-05-25 04:28:00.000000000,2022-05-25 06:57:31.000000000,,0,3,0,843229,e8cba92ef1e936de9e29805adcca572b4cdfaf40,7,1,2,1,28056,liuxie,liuxie_11,"[ovn_l3]no need to get az list use ml2/ovn mech_driver

We found that return of list az was occasionally empty at large
scale environment. It would cause l3 re-schedule to wrong candidates
if az list is empty when ovsdb_monitor process ChassisEvent.

We can workaround it by that no need to get az list use ml2/ovn
mech_driver when schedule gw, only get az_hints from router.

Related-Bug: #1975658
Change-Id: Idc1f478e69ee65f61678e8282dbe1fbeb2183c6d
"
openstack%2Fopenstack-helm-images~master~I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050,openstack/openstack-helm-images,master,add-jammy,I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050,Add OpenStack Xena and Yoga image building,MERGED,2022-04-21 18:44:02.000000000,2022-05-25 06:56:18.000000000,2022-05-25 06:51:35.000000000,173,1,2,838937,d9e6025c1f6f869839a41fdc901d51060d875979,34,3,12,4,21420,Gage Hugo,ghugo,"Add OpenStack Xena and Yoga image building

This change adds in the scripts and jobs to build, upload, and
promote images for the Xena and Yoga OpenStack releases.

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-images/+/843021

Change-Id: I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050
"
openstack%2Fansible-collections-openstack~master~I3c63ea54fa76e6f9371beed6a8fef7bb3e99376c,openstack/ansible-collections-openstack,master,raise_minimum_sdk_version,I3c63ea54fa76e6f9371beed6a8fef7bb3e99376c,"Revert ""Raise minimum OpenStack SDK version to 0.99.0""",ABANDONED,2022-05-25 06:33:54.000000000,2022-05-25 06:35:01.000000000,,4,4,0,843238,2fdb2fe041bc119f104ae4ec7e3401082980c660,2,0,1,4,32962,Jakob Meng,jakobmeng@web.de,"Revert ""Raise minimum OpenStack SDK version to 0.99.0""

This reverts commit 4bfa135b20caeb6d6c2717049059ac52fd08e0e1 [1] because
it broke TripleO [2] and possibly other users which were using code from
master branch with incompatible SDK releases. We will reapply this
safety check later once dust has settled.

Ref.:
[1] https://opendev.org/openstack/ansible-collections-openstack/commit/4bfa135b20caeb6d6c2717049059ac52fd08e0e1
[2] https://bugs.launchpad.net/tripleo/+bug/1975646

Change-Id: I3c63ea54fa76e6f9371beed6a8fef7bb3e99376c
"
openstack%2Fneutron~master~I1157f304ad00e260817071e5e2ba08f956f714f4,openstack/neutron,master,bug/1965297,I1157f304ad00e260817071e5e2ba08f956f714f4,Config for link down/up ext gw port of HA router in backup node,ABANDONED,2022-03-18 05:54:11.000000000,2022-05-25 06:20:39.000000000,,39,0,43,834260,9ccca50795139893af6a5b7d0790c2830c368f53,78,8,8,4,9531,liuyulong,LIU-Yulong,"Config for link down/up ext gw port of HA router in backup node

The original commit c52029c39aa824a67095fbbf9e59eff769d92587 [1] is
to set the qg-device down on backup node. Because MLDv2 packets
cause the physical devices learn that MAC address of gw port on
wrong host [2].

Other use cases are any residual IPv4/IPv6 addresses can also
cause physical devices failed to find (ARP/NDP) the right
destination, this happens when keepalived is dead. Large HA router
resources in one same hosts may also encounter such kind of problem.

On the other hand, for some distributions, setting qg-device link
down, during the HA state change procedure, it may have problems
like no GARP sent [3], HA state change costs long convergence time,
especially when host has a huge number of HA routers.

This patch here is a mild alternative for totally reverting the original
commit [1], adding a config option ``set_backup_external_gateway_down``
for various clouds, whatever/whenever you want set it down/up.
The default value remains the current behavior, aka set it down.

[1] https://review.opendev.org/c/openstack/neutron/+/707406
[2] https://bugs.launchpad.net/neutron/+bug/1859832
[3] https://bugs.launchpad.net/neutron/+bug/1952907

Related-Bug: #1965297
Change-Id: I1157f304ad00e260817071e5e2ba08f956f714f4
"
openstack%2Fpython-openstackclient~master~Id7a8f3ca5b704102aa18eb6bf98ae9ada005d013,openstack/python-openstackclient,master,remove-py36,Id7a8f3ca5b704102aa18eb6bf98ae9ada005d013,Migrate osc-tox-py3N-tips to Python 3.8,MERGED,2022-05-24 08:06:47.000000000,2022-05-25 06:14:36.000000000,2022-05-25 06:12:21.000000000,5,4,12,843115,8a03f3cabca68b2e4d15564820b6e95ff21ee65b,32,3,5,2,9816,Takashi Kajinami,kajinamit,"Migrate osc-tox-py3N-tips to Python 3.8

python-novaclient 18.0.0 removed support for Python 3.6 and 3.7 and
can't be installed in Python 3.6.

This change migrates the osc-tox-py3N-tips from Python 3.6 to Python
3.8 as Python 3.8 is the minimum version currently supported.

This also adds Python 3.9 to supported runtime list because it has been
tested since stable/yoga.

NOTE:
The osc-tox-py36-tips job is used by cliff, so the subsequent patch
for the cliff repo should be merged timely.

Change-Id: Id7a8f3ca5b704102aa18eb6bf98ae9ada005d013
"
openstack%2Fpython-tripleoclient~master~I09744be1f4766a2a8241bfa79095fa97ea82c602,openstack/python-tripleoclient,master,masquerade-ansible,I09744be1f4766a2a8241bfa79095fa97ea82c602,Remove masquerade-networks-baremetal-puppet inclusion,MERGED,2022-04-07 04:35:25.000000000,2022-05-25 06:12:48.000000000,2022-05-23 15:23:28.000000000,11,7,3,836903,97a155ea28c2394734a6a516c1bbc6d15fb3db73,26,4,5,3,28223,Cedric Jeanneret,cjeanner,"Remove masquerade-networks-baremetal-puppet inclusion

This service is now deprecated, and everything is managed in
tripleo-ansible/tripleo_firewall automatically.

We keep the _generate_masquerade_networks() method, since it adds some
intelligence and prevent the need for the user to actually set it -
therefore, we keep the automation based on the
undercloud.conf/<subnet>/masquerade=true

Change-Id: I09744be1f4766a2a8241bfa79095fa97ea82c602
"
openstack%2Fkolla-ansible~master~I18a9559daeb3d124a03dcb735ebb01a2cf24f617,openstack/kolla-ansible,master,,I18a9559daeb3d124a03dcb735ebb01a2cf24f617,genpwd: handle lack of password file nicer,MERGED,2022-05-24 11:34:47.000000000,2022-05-25 06:04:17.000000000,2022-05-25 06:03:04.000000000,6,2,0,843129,333c74feb400d81e8c7cb3b4f529dd6d2510b586,9,3,1,1,24072,Marcin Juszkiewicz,hrw,"genpwd: handle lack of password file nicer

From:

(kolla) 13:11 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
Traceback (most recent call last):
  File ""/home/marcin/.virtualenvs/kolla/bin/kolla-genpwd"", line 8, in <module>
    sys.exit(main())
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 135, in main
    genpwd(passwords_file, length, uuid_keys, ssh_keys, blank_keys,
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 59, in genpwd
    with open(passwords_file, 'r') as f:
FileNotFoundError: [Errno 2] No such file or directory: '/etc/kolla/passwords.yml'

To:

(kolla) 13:17 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
ERROR: Passwords file ""/etc/kolla/passwords.yml"" is missing

Change-Id: I18a9559daeb3d124a03dcb735ebb01a2cf24f617
"
openstack%2Fdevstack~stable%2Fwallaby~Ie7f37770a04f622735cf2263c601257669ab5064,openstack/devstack,stable/wallaby,bug/1973783-stable/yoga-stable/xena-stable/wallaby,Ie7f37770a04f622735cf2263c601257669ab5064,Configure placement section in neutron conf,MERGED,2022-05-23 06:50:29.000000000,2022-05-25 05:32:23.000000000,2022-05-24 17:23:48.000000000,3,0,2,842749,ebd72a5e00e33ace6eed7cfb578a6ffb3a57e8e7,11,4,1,1,13861,yatin,yatinkarel,"Configure placement section in neutron conf

Without it segment plugin fails to connect with
placement api. Configure the placement section
if service is deployed.

Closes-Bug: #1973783
Change-Id: Ie7f37770a04f622735cf2263c601257669ab5064
(cherry picked from commit 92a34dbe951f2ab31fb3432e61cf34db034b0145)
"
openstack%2Fpython-aodhclient~stable%2Fwallaby~Ief746e818563a44f6838b88e433deb482fc41401,openstack/python-aodhclient,stable/wallaby,create-wallaby,Ief746e818563a44f6838b88e433deb482fc41401,Update .gitreview for stable/wallaby,NEW,2021-03-12 12:39:36.000000000,2022-05-25 05:12:48.000000000,,1,0,4,780248,118ffeaf0d4a848d206c3c1eb27615773306cb19,8,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/wallaby

Change-Id: Ief746e818563a44f6838b88e433deb482fc41401
"
openstack%2Fmistral-dashboard~stable%2Fwallaby~Id2be40cad2ed42e5a948736dc52f0f7fa05c3698,openstack/mistral-dashboard,stable/wallaby,create-wallaby,Id2be40cad2ed42e5a948736dc52f0f7fa05c3698,Update TOX_CONSTRAINTS_FILE for stable/wallaby,NEW,2021-03-26 18:35:24.000000000,2022-05-25 05:05:41.000000000,,3,3,2,783435,ac6056b8898912545e178305dc789271118850cb,5,4,1,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Id2be40cad2ed42e5a948736dc52f0f7fa05c3698
"
openstack%2Fpython-aodhclient~master~I7094181d07cd16933cc3a00b080b0db2b4bec5bf,openstack/python-aodhclient,master,bug/1802030,I7094181d07cd16933cc3a00b080b0db2b4bec5bf,Update min tox version to 2.0,NEW,2019-05-27 07:26:45.000000000,2022-05-25 04:59:35.000000000,,1,1,1,661550,6724e062e308cc7a32c173e43dba548269013747,6,3,2,1,26297,pippo,huang.zhiping,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I7094181d07cd16933cc3a00b080b0db2b4bec5bf
Closes-Bug:  #1802030
"
openstack%2Fpython-aodhclient~master~Ie84ebe793d1f6ec3d7050f7d94f2e8132ce7a77b,openstack/python-aodhclient,master,,Ie84ebe793d1f6ec3d7050f7d94f2e8132ce7a77b,DNM: Debugging test failure,ABANDONED,2022-05-09 16:57:44.000000000,2022-05-25 04:58:48.000000000,,1,1,0,841150,1628817c359359d02c2e99dfdc7842d9b41eb05a,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Debugging test failure

Change-Id: Ie84ebe793d1f6ec3d7050f7d94f2e8132ce7a77b
"
openstack%2Fnova~master~I444991584118a969e9ea04d352821b07ec0ba88d,openstack/nova,master,skip_compareCPU_on_dest,I444991584118a969e9ea04d352821b07ec0ba88d,libvirt: Add a workaround to skip compareCPU() on destination,MERGED,2022-04-21 16:37:18.000000000,2022-05-25 04:56:49.000000000,2022-05-25 04:55:16.000000000,61,9,31,838926,267a40663cd8d0b94bbc5ebda4ece55a45753b64,103,4,10,4,6962,Kashyap Chamarthy,kashyapc,"libvirt: Add a workaround to skip compareCPU() on destination

Nova's use of libvirt's compareCPU() API served its purpose
over the years, but its design limitations break live migration in
subtle ways.  For example, the compareCPU() API compares against the
host physical CPUID.  Some of the features from this CPUID aren not
exposed by KVM, and then there are some features that KVM emulates that
are not in the host CPUID.  The latter can cause bogus live migration
failures.

With QEMU >=2.9 and libvirt >= 4.4.0, libvirt will do the right thing in
terms of CPU compatibility checks on the destination host during live
migration.  Nova satisfies these minimum version requirements by a good
margin.  So, provide a workaround to skip the CPU comparison check on
the destination host before migrating a guest, and let libvirt handle it
correctly.  This workaround will be removed once Nova replaces the older
libvirt APIs with their newer and improved counterparts[1][2].

                - - -

Note that Nova's libvirt driver calls compareCPU() in another method,
_check_cpu_compatibility(); I did not remove its usage yet.  As it needs
more careful combing of the code, and then:

  - where possible, remove the usage of compareCPU() altogether, and
    rely on libvirt doing the right thing under the hood; or

  - where Nova _must_ do the CPU comparison checks, switch to the better
    libvirt CPU APIs -- baselineHypervisorCPU() and
    compareHypervisorCPU() -- that are described here[1].  This is work
    in progress[2].

[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27
[2] https://review.opendev.org/q/topic:bp%252Fcpu-selection-with-hypervisor-consideration

Change-Id: I444991584118a969e9ea04d352821b07ec0ba88d
Closes-Bug: #1913716
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
Signed-off-by: Balazs Gibizer <bgibizer@redhat.com>
"
openstack%2Fdevstack-plugin-container~master~Ia2bd64163f7d69fa7d5868b87d93f4a6bbbfebf6,openstack/devstack-plugin-container,master,crio,Ia2bd64163f7d69fa7d5868b87d93f4a6bbbfebf6,Remove buildah from installation.,ABANDONED,2022-05-24 07:34:08.000000000,2022-05-25 04:52:01.000000000,,1,1,0,843109,cf425e5d3ae36ee3dc01fdd7dd2f160ce2910f3c,3,1,1,1,13692,Roman Dobosz,gryf,"Remove buildah from installation.

Buildah is not present on older Ubuntu 20.04 LTS on OpenSuse servers and
mirrors anymore. This cause a failure on creating devstack using cri-o.
Until switch to the latest version of Ubuntu LTS will be made, we need
to get rid of it. Podman can handle image built, so for basic image
handling it should be enough from devstack perspective.

Change-Id: Ia2bd64163f7d69fa7d5868b87d93f4a6bbbfebf6
"
openstack%2Fheat~stable%2Fyoga~I62a16e5fa5f65daec96ba647c11ba27fb4818aad,openstack/heat,stable/yoga,,I62a16e5fa5f65daec96ba647c11ba27fb4818aad,Yoga-only: Remove TripleO job,ABANDONED,2022-05-09 10:56:24.000000000,2022-05-25 04:35:05.000000000,,0,3,0,841101,519cb10542814fc0d303926220dc1d70e0d4c631,5,2,1,1,9816,Takashi Kajinami,kajinamit,"Yoga-only: Remove TripleO job

TripleO has transitioned to the independent release model and it does
not provide the Yoga release.

Change-Id: I62a16e5fa5f65daec96ba647c11ba27fb4818aad
"
openstack%2Fheat~stable%2Fussuri~I81696dfa612f10bb8a07e34592e5de0be2ca78e6,openstack/heat,stable/ussuri,,I81696dfa612f10bb8a07e34592e5de0be2ca78e6,Ussuri-only: Remove TripleO job,ABANDONED,2022-05-09 10:58:34.000000000,2022-05-25 04:35:02.000000000,,0,3,0,841103,d4072823f2e8be16701fbdbf42039e24cdbbca30,4,2,1,1,9816,Takashi Kajinami,kajinamit,"Ussuri-only: Remove TripleO job

The stable/ussuri branch of TripleO repos has been EOLed. Thus we
should remove testing of that branch.

Change-Id: I81696dfa612f10bb8a07e34592e5de0be2ca78e6
"
openstack%2Fheat~stable%2Fxena~Idc21877c6f626e46a25abc63460b87244c50b6ab,openstack/heat,stable/xena,,Idc21877c6f626e46a25abc63460b87244c50b6ab,Xena-only: Remove TripleO job,ABANDONED,2022-05-09 10:57:18.000000000,2022-05-25 04:34:59.000000000,,0,3,0,841102,4caa46087404215997d572d1e6e9fdfb521d8280,5,2,1,1,9816,Takashi Kajinami,kajinamit,"Xena-only: Remove TripleO job

TripleO has transitioned to the independent release model and it does
not provide the Xena release.

Change-Id: Idc21877c6f626e46a25abc63460b87244c50b6ab
"
openstack%2Fskyline-console~master~Idffa63685318f6ffd1ddb8a5a441dfd6f2625a23,openstack/skyline-console,master,,Idffa63685318f6ffd1ddb8a5a441dfd6f2625a23,fix: magnum internationalization,ABANDONED,2022-05-24 02:31:26.000000000,2022-05-25 03:30:24.000000000,,226,0,0,843095,433f628902c738fd0514a7e4916d5e8e9f971aed,3,1,1,2,34718,yangao,yangao,"fix: magnum internationalization

magnum internationalization

Change-Id: Idffa63685318f6ffd1ddb8a5a441dfd6f2625a23
"
openstack%2Fskyline-console~master~Ifa6143e15049b5a7fd09aa385064e757d834fadc,openstack/skyline-console,master,open-134572,Ifa6143e15049b5a7fd09aa385064e757d834fadc,feat: Update trove database,MERGED,2022-05-24 15:45:14.000000000,2022-05-25 03:26:52.000000000,2022-05-25 03:26:52.000000000,564,19,0,843165,be1283358bbcb23d3ddda8d4e7fa45db33deb89d,7,2,2,13,33689,xusongfu,xusongfu,"feat: Update trove database

1. Add validator for database and user
2. Add user create in trove instance user list
3. Add database create in trove instance database list
4. Fix database column in trove instance user list

Change-Id: Ifa6143e15049b5a7fd09aa385064e757d834fadc
"
openstack%2Fskyline-console~master~I6e52db8547e8bfb1379320c8ff4d16952f3faac3,openstack/skyline-console,master,I6e52db8547e8bfb1379320c8ff4d16952f3faac3,I6e52db8547e8bfb1379320c8ff4d16952f3faac3,Add Zun UI to Skyline-Console,MERGED,2022-05-17 11:42:30.000000000,2022-05-25 03:13:45.000000000,2022-05-25 03:13:45.000000000,1986,3,33,842091,d4ae10a03ca9b81c466cf14e34047f19e5b6cf35,31,2,12,33,34671,Reşit Demir,resitdemir,"Add Zun UI to Skyline-Console

Change-Id: I6e52db8547e8bfb1379320c8ff4d16952f3faac3
"
openstack%2Fheat~master~I93e9130d5a710816ad675e185173a60aaf02e694,openstack/heat,master,story/2010051,I93e9130d5a710816ad675e185173a60aaf02e694,Allow endpoint url without tenant_id/project_id templating,NEW,2022-02-22 04:08:13.000000000,2022-05-25 02:35:51.000000000,,434,386,9,830306,d5492e1f31cdcc3246b1a79425c33d41898bf1c2,34,2,12,7,9816,Takashi Kajinami,kajinamit,"Allow endpoint url without tenant_id/project_id templating

Currently Heat requires that tenant_id or project_id is included in
request URI for any resources it manages. However, this doesn't match
with the 'service' resource because of the following two reasons.

 - Services do not belong to individual projects, but belong to
   the whole system.

 - List services API requires system reader role when SRBAC is
   enforced. When client uses system scope credentials, it can't
   resolve tenant_id/project_id thus can't determine the URL.

This change duplicate API routes so that clients can access to resource
like stack or resource without tenant_id in request URI. The old paths
with tenant_id/project_id are left to keep backward compatibility.

Story: 2010051
Task: 45467
Change-Id: I93e9130d5a710816ad675e185173a60aaf02e694
"
