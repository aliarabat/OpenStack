id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fkuryr-kubernetes~master~I2bd8ddd81c874005f0eea2059c006f4095276223,openstack/kuryr-kubernetes,master,update-ci,I2bd8ddd81c874005f0eea2059c006f4095276223,Move ovn jobs to voting,MERGED,2021-02-05 18:44:14.000000000,2021-03-08 16:15:39.000000000,2021-03-08 16:09:18.000000000,0,2,0,774294,aa923f56ae538fd60a380b51d5e4f5cd57e91747,16,5,2,1,27032,Maysa de Macedo Souza,maysa,"Move ovn jobs to voting

The OVN jobs tempest-containerized-ovn-provider-ovn
and tempest-containerized-ovn-ipv6 have been green for
a while so we should move them to voting.

Change-Id: I2bd8ddd81c874005f0eea2059c006f4095276223
"
openstack%2Fpython-cinderclient~master~I4b97e040f3e790ac114dcd43c68e6b67b1079adf,openstack/python-cinderclient,master,remove-six,I4b97e040f3e790ac114dcd43c68e6b67b1079adf,Remove all usage of six library,MERGED,2020-09-30 02:41:43.000000000,2021-03-08 16:05:48.000000000,2021-03-08 16:02:59.000000000,83,164,33,755164,cea1f674ae1ce545c0cac209b423ac9d626f0c68,25,5,7,32,30407,haixin,haixin,"Remove all usage of six library

Replace six with Python 3 style code.

Change-Id: I4b97e040f3e790ac114dcd43c68e6b67b1079adf
"
openstack%2Fnova~master~I342e95fef0a792299180a4d8076e6e7c4041ac9b,openstack/nova,master,bp/allow-secure-boot-for-qemu-kvm-guests,I342e95fef0a792299180a4d8076e6e7c4041ac9b,libvirt: Add firmware auto-configuration support,MERGED,2021-02-19 17:16:34.000000000,2021-03-08 15:59:39.000000000,2021-03-08 15:55:56.000000000,77,34,7,776678,8da39de00744d22ba2b2ed9edcb131ee2d7d17f2,65,5,3,3,15334,Stephen Finucane,sfinucan,"libvirt: Add firmware auto-configuration support

This is the guest or ""domain"" side of the config changes.

As noted in change Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6, since
libvirt 5.2 [1], libvirt has provided the ability to automatically
configure bootloader paths. This means libvirt can now take a minimal
loader configuration like so:

  <os firmware='efi'>
    <type machine='q35'>hvm</type>
    <loader secure='yes'/>
    <boot dev='hd'/>
  </os>

and convert it into something explicit like so:

  <os>
    <type arch='x86_64' machine='pc-q35-5.1'>hvm</type>
    <loader readonly='yes' secure='yes' type='pflash'>{...}/OVMF_CODE.secboot.fd</loader>
    <nvram template='{...}/OVMF_VARS.secboot.fd'>{...}/mydomain_VARS.fd</nvram>
    <boot dev='hd'/>
  </os>

In change Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6, we added the
ability to identify this capability from the host. In this change, we
add the ability to configure it for the guest.

[1] https://www.libvirt.org/news.html#v5-2-0-2019-04-03

Blueprint: allow-secure-boot-for-qemu-kvm-guests
Change-Id: I342e95fef0a792299180a4d8076e6e7c4041ac9b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcharm-octavia~master~I996496c12e189257a27fdb39dd094ccb0a6df929,openstack/charm-octavia,master,feature/new-zuul,I996496c12e189257a27fdb39dd094ccb0a6df929,Add new osci.yaml,MERGED,2021-02-18 07:48:00.000000000,2021-03-08 15:20:23.000000000,2021-03-08 15:20:23.000000000,59,0,0,776380,924bc0e28a7f759bd042af1c6213ada447390710,88,5,8,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I996496c12e189257a27fdb39dd094ccb0a6df929
"
openstack%2Fironic-python-agent~stable%2Fvictoria~I9405995915a874b00b7177c9642c5469d05d66a8,openstack/ironic-python-agent,stable/victoria,,I9405995915a874b00b7177c9642c5469d05d66a8,Increase the memory limit for qemu-img,MERGED,2021-03-08 11:23:24.000000000,2021-03-08 15:19:09.000000000,2021-03-08 15:16:42.000000000,9,2,0,779147,de1e75126a09db9d27bfb4d77a3d2eab99c66c0c,9,4,1,2,10239,Dmitry Tantsur,dtantsur,"Increase the memory limit for qemu-img

We appear to be bumping up against this limit when deploying
RHCOS images(currently 977MB). Curiously the problem isn't
happening all the time but increasing the limit eliminates it.

This limit was intruduced to guard against a malicious image
allocating an arbitrary amount of memory. Nothing else runs
on hosts when IPA is running so we should be ok bumping up
the limit.

Story: #2008667
Task: #41955
Change-Id: I9405995915a874b00b7177c9642c5469d05d66a8
(cherry picked from commit 5492ad7da59571581e9f70fd054efafb39e12593)
"
openstack%2Fdiskimage-builder~master~Ifde16e40b4e241c6c4c93df44330c403ee903e6f,openstack/diskimage-builder,master,,Ifde16e40b4e241c6c4c93df44330c403ee903e6f,Change get-pip url,MERGED,2021-03-08 08:16:28.000000000,2021-03-08 15:13:28.000000000,2021-03-08 15:10:39.000000000,1,1,0,779173,8b0e2417a63914bbd90ffad66c9c22af2c9bb13d,11,5,3,1,20676,daniel.pawlik,daniel.pawlik,"Change get-pip url

The path for get-pip.py script in version 3.5 has been changed
with this commit [1].

[1] https://github.com/pypa/get-pip/commit/2360f025eb2a6f62d45cf99e4c6d83ba9c4d5e37

Change-Id: Ifde16e40b4e241c6c4c93df44330c403ee903e6f
"
openstack%2Foslo.messaging~stable%2Fussuri~Id5cddbefbe24ef100f1cc522f44430df77d217cb,openstack/oslo.messaging,stable/ussuri,backport-mandatory-to-ussuri,Id5cddbefbe24ef100f1cc522f44430df77d217cb,Correctly handle missing RabbitMQ queues,MERGED,2021-03-01 15:56:43.000000000,2021-03-08 15:09:03.000000000,2021-03-08 15:05:11.000000000,60,23,2,778019,36b5e06c92337cd04d1c8ae4840dbc224faeaa9f,14,2,3,4,28522,Hervé Beraud,hberaud,"Correctly handle missing RabbitMQ queues

Currently, setting the '[oslo_messaging] direct_mandatory_flag' config
option to 'True' (the default) will result in a 'MessageUndeliverable'
exception being raised when sending a reply if a RabbitMQ queue is
missing [1]. It was the responsibility of the application to handle
this exception, however, many applications are not doing so. This has
resulted in a number of bug reports.

Start handling this error condition, using a retry loop to attempt to
resend the message and work around any temporary glitches. Since
attempting to send a reply will will no longer raise an exception,
there is little benefit in retaining the '[oslo_messaging]
direct_mandatory_flag' config option: users setting this to False will
simply not benefit from the retry logic and improved logging added
here. This option is already deprecated though and will be fully
removed in a future release.

[1] https://www.rabbitmq.com/channels.html

Change-Id: Id5cddbefbe24ef100f1cc522f44430df77d217cb
Closes-Bug: #1905965
(cherry picked from commit 4937949dffecdf8863a7876e5a6b0b18e811c3ac)
(cherry picked from commit 391ce7fc69adc8d713d8ca64e76d901eb3e65df1)
"
openstack%2Ftripleo-ci-health-queries~master~I1a2b75e5987367b625a17456ae8175986d404040,openstack/tripleo-ci-health-queries,master,move_queries_url,I1a2b75e5987367b625a17456ae8175986d404040,Changing source url for queries from github to opendev as the project has moved from github to opendev.,MERGED,2021-03-05 14:08:39.000000000,2021-03-08 15:08:33.000000000,2021-03-08 15:08:33.000000000,1,1,0,778928,b2a140f04c5b3f0991e0dc520853da6ca2d62b87,7,3,1,1,32458,Ananya,frenzyfriday,"Changing source url for queries from github to opendev as the project has moved from github to opendev.

Change-Id: I1a2b75e5987367b625a17456ae8175986d404040
"
openstack%2Ftempest~master~I6d862b4dd41ea86a659e6431bcb215e9e12cf35d,openstack/tempest,master,bp/tempest-scenario-manager-stable,I6d862b4dd41ea86a659e6431bcb215e9e12cf35d,Make _create_security_group() non-private,MERGED,2021-02-22 13:20:10.000000000,2021-03-08 15:05:29.000000000,2021-03-08 15:02:21.000000000,17,17,0,776932,582c170b2ccf0f5bf08ae9ea08b1eaf3bc4bc93c,20,6,2,12,30742,Soniya Murlidhar Vyas,svyas,"Make _create_security_group() non-private

_create_security_group() is made public by this commit as
the tempest.scenario.manager interface is meant to be
consumed by tempest plugins.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: I6d862b4dd41ea86a659e6431bcb215e9e12cf35d
"
openstack%2Ftripleo-validations~master~I9137821c8396568be125ec686bad2534f9d433b2,openstack/tripleo-validations,master,unbound_variable,I9137821c8396568be125ec686bad2534f9d433b2,Fix unbound variable,MERGED,2021-03-05 00:20:38.000000000,2021-03-08 14:54:11.000000000,2021-03-08 13:50:54.000000000,13,4,4,778800,0550d6900ca074e0ecb7bef4ceb499d427360c62,15,7,4,1,11090,Sergii Golovatiuk,holser,"Fix unbound variable

If operator runs script without any variables it will fail as

scripts/run-local-test: line 26: $1: unbound variable

This patch adds usage function and check if script is run without
ROLE_NAME

Change-Id: I9137821c8396568be125ec686bad2534f9d433b2
"
openstack%2Ftempest~master~I3c7d3a4993eefc6da5ec37b3c4c64fb66a3c2794,openstack/tempest,master,fixed-key-flag,I3c7d3a4993eefc6da5ec37b3c4c64fb66a3c2794,Add a [compute-feature-enabled]/fixed_key flag,ABANDONED,2021-03-02 17:19:59.000000000,2021-03-08 14:44:59.000000000,,3,0,0,778223,79f57767ecccd6a621a8a901b6ec071ba66d11fb,7,6,1,1,27478,Archit Modi,amodi,"Add a [compute-feature-enabled]/fixed_key flag

For tests requiring a fixed key or key manager service enabled
this can be used along with CONF.service_available.<key-manager> when
for different deployments specifically, one not having the key manager
enabled, we can use this flag to run the test.

Related: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/778215
Change-Id: I3c7d3a4993eefc6da5ec37b3c4c64fb66a3c2794
"
openstack%2Ftripleo-ci~master~I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e,openstack/tripleo-ci,master,ephemeral-heat,I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e,Collect default working-dir,MERGED,2021-02-23 13:46:26.000000000,2021-03-08 14:39:46.000000000,2021-03-08 14:39:46.000000000,1,0,2,777107,bdc56343acaf04babe13ce0154449c33c22a721b,19,7,3,1,7144,James Slagle,slagle,"Collect default working-dir

With change I0d803f695c725c58ef2e6b655753b6c8248d1b2f
we use a different working_dir which defaults to
$HOME/overcloud-deploy-<stack> to store all files. Let's
collect it for ease of troubleshooting of CI jobs.

Change-Id: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e
"
openstack%2Fmanila~master~I24b32c8521805a7d67d512d36d644c0f07c532ea,openstack/manila,master,bp/remove-project-id-from-urls,I24b32c8521805a7d67d512d36d644c0f07c532ea,[doc] remove project_id from api endpoints,MERGED,2021-02-03 19:25:11.000000000,2021-03-08 14:18:20.000000000,2021-03-08 14:15:18.000000000,239,207,2,773987,de29398128fa05ccfce526e0e3512b31c70b5228,32,4,4,33,16643,Goutham Pacha Ravi,gouthamr,"[doc] remove project_id from api endpoints

As of API version 2.60, a project_id is no
longer needed in the API URLs.

Fix the docs to indicate that.

Also fix up a few quota parameters that use
project_id in a different place in the API path.

Change-Id: I24b32c8521805a7d67d512d36d644c0f07c532ea
Implements: bp remove-project-id-from-urls
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fopenstack-virtual-baremetal~stable%2F1.0~Icf5c87ae1ab083a143a0f3f8a991426bb5433c37,openstack/openstack-virtual-baremetal,stable/1.0,private_nw_support-stable/1.0,Icf5c87ae1ab083a143a0f3f8a991426bb5433c37,When private network is created suffix it with identifier,MERGED,2021-03-05 04:46:58.000000000,2021-03-08 14:17:56.000000000,2021-03-08 14:17:56.000000000,3,0,0,778821,eff1572fea3a67b9de89cd88ab239c4c4ad9f686,9,5,1,1,13861,yatin,yatinkarel,"When private network is created suffix it with identifier

It's needed when environments/create-private-network.yaml
is used with ovb jobs where '--id' is used, in this
case each ovb env should have seperate private network
with different id.

Related-Change: https://review.rdoproject.org/r/#/c/32142/

Change-Id: Icf5c87ae1ab083a143a0f3f8a991426bb5433c37
(cherry picked from commit 02cdcbb7523d9219c1c2d52b989e1fbd6c128f85)
"
openstack%2Fcharm-octavia~master~I86831c9d00902c24833cdb1299a5c5f4567f43db,openstack/charm-octavia,master,change-776758-2,I86831c9d00902c24833cdb1299a5c5f4567f43db,Prune gate tests,MERGED,2021-02-20 00:04:17.000000000,2021-03-08 14:16:32.000000000,2021-03-08 14:16:32.000000000,9,7,2,776758,3adb44e3a5adf6563210e8ca40456cca84aa17a0,20,5,3,1,8992,Billy Olsen,billy-olsen,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I86831c9d00902c24833cdb1299a5c5f4567f43db
"
openstack%2Fnova~master~Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f,openstack/nova,master,bug/1837995,Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f,Centralize sqlite FK constraint enforcement,MERGED,2021-02-03 05:56:18.000000000,2021-03-08 13:54:12.000000000,2021-03-08 13:46:42.000000000,22,30,0,773833,172024db7174bdac05a3d3172c645b0db83ae41e,22,3,2,4,4690,melanie witt,melwitt,"Centralize sqlite FK constraint enforcement

There's a TODO in the code to centralize foreign key constraint
enforcement for sqlite for unit and functional tests and we're missing
enforcement of FK constraints in a couple of test classes that should
have it.

This resolves the TODO and turns on FK constraint enforcement where it
is missing. Do this to enhance testing in preparation for a proposed
change to the database archiving logic later in this patch series.

Change-Id: Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f
"
openstack%2Fneutron~master~I3eb8c0969e1db867fcb2f148c2feb6f69fc75a45,openstack/neutron,master,secure-rbac,I3eb8c0969e1db867fcb2f148c2feb6f69fc75a45,Implement secure RBAC for RBAC policy API,MERGED,2020-12-03 23:04:21.000000000,2021-03-08 13:53:02.000000000,2021-03-08 13:45:52.000000000,82,35,2,765416,2638c8a561af6cd495c1ba9abfa4dff58f5a9e48,36,5,5,1,5046,Lance Bragstad,ldbragst,"Implement secure RBAC for RBAC policy API

This commit updates the RBAC resource policies to understand scope checking
and account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: I3eb8c0969e1db867fcb2f148c2feb6f69fc75a45
"
openstack%2Fnova~master~I1fe8e8bb181fa2a704eec38be09619e5a648f2f1,openstack/nova,master,fix_fingerprints_for_fips,I1fe8e8bb181fa2a704eec38be09619e5a648f2f1,Replace md5 for fips,MERGED,2021-02-25 21:26:10.000000000,2021-03-08 13:52:48.000000000,2021-03-08 13:46:08.000000000,2,4,2,777686,59986cfd4f1155603fcf3a87270612e17037e92e,14,4,1,1,9914,Ade Lee,alee,"Replace md5 for fips

md5 is not an approved algorithm in FIPS mode, and trying to
instantiate a hashlib.md5() will fail when the system is running in
FIPS mode.

md5 is allowed when in a non-security context.  There is a plan to
add a keyword parameter (usedforsecurity) to hashlib.md5() to annotate
whether or not the instance is being used in a security context.

In the case where it is not, the instantiation of md5 will be allowed.
See https://bugs.python.org/issue9216 for more details.

Some downstream python versions already support this parameter.  To
support these versions, a new encapsulation of md5() has been added to
oslo_utils.  See https://review.opendev.org/#/c/750031/

In this case, md5 is used to generate fingerprints when ssh keys are
being generated and imported.  Without this patch, these operations
fail on FIPS enabled systems.

Change-Id: I1fe8e8bb181fa2a704eec38be09619e5a648f2f1
"
openstack%2Fkolla-ansible~master~I69ca16a4a87b4c7d7a47ff8fdeb2e0f2d37b759a,openstack/kolla-ansible,master,container-health-check,I69ca16a4a87b4c7d7a47ff8fdeb2e0f2d37b759a,Use Docker healthchecks for sahara services,ABANDONED,2021-03-06 17:14:19.000000000,2021-03-08 13:51:34.000000000,,37,0,0,779080,cc9fb052269c32d4c98dcfb63d6b8b7f6b357916,5,2,1,4,31506,Lin PeiWen,LinPeiWen,"Use Docker healthchecks for sahara services

This change enables the use of Docker healthchecks for sahara services.
Implements: blueprint container-health-check

Change-Id: I69ca16a4a87b4c7d7a47ff8fdeb2e0f2d37b759a
"
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I3f9004fd8abffefe8cfeee9011ed0e323652fdd1,openstack/puppet-tripleo,stable/victoria,glance-cinder-mountpoint-stable/victoria,I3f9004fd8abffefe8cfeee9011ed0e323652fdd1,Handle cinder_mount_point_base for cinder mounting needs,MERGED,2021-03-03 11:29:34.000000000,2021-03-08 13:49:53.000000000,2021-03-08 13:49:53.000000000,8,0,0,778419,1234d16497d26c1e5f1ac249f9800358820a9dec,13,2,1,2,19138,Pranali Deore,PranaliD,"Handle cinder_mount_point_base for cinder mounting needs

Adding cinder_mount_point_base parameter, to provide the
mount point for *fs volumes.

Depends-On: Ib724f6e895716847827be48ed08b01a7a312338f
Change-Id: I3f9004fd8abffefe8cfeee9011ed0e323652fdd1
(cherry picked from commit a2dbbaedabf81ac8dd5438eee3857c4a29b95f1a)
"
openstack%2Freleases~master~I490a935c6220217da5791e6dd4566303e696d9cb,openstack/releases,master,cwi-client-final,I490a935c6220217da5791e6dd4566303e696d9cb,Release final python-blazarclient for Wallaby,MERGED,2021-03-05 15:13:41.000000000,2021-03-08 13:35:35.000000000,2021-03-08 13:35:35.000000000,5,0,0,778958,10feca2d684fc558501ef33572caed903ce1e717,9,4,1,1,28522,Hervé Beraud,hberaud,"Release final python-blazarclient for Wallaby

This proposed a release for python-blazarclient to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 11.

$ git log --oneline --no-merges 3.1.1..22cafd2
22cafd2 Provide a default affinity value
65e5f9b Uncap PrettyTable
d2503ab Use unittest.mock instead of third party mock
1db6cb3 Remove use of mock.seal()
e875b75 Bump hacking max version to 3.0.1 and fix pep8
56c539a Replace deprecated UPPER_CONSTRAINTS_FILE variable
cff1b05 Remove six
aa0e1dc Remove the unused coding style modules
e4ccb1d bump py37 to py38 in tox.ini
db0aeec Remove install unnecessary packages
802605a Add Python3 wallaby unit tests
c393b6d Update master for stable/victoria

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I490a935c6220217da5791e6dd4566303e696d9cb
"
openstack%2Ftripleo-ci~master~I2f7d3dd9730dc30284bb52e3eca73375c7d550d2,openstack/tripleo-ci,master,tripleo-ci-reduce,I2f7d3dd9730dc30284bb52e3eca73375c7d550d2,Deprecate non content provider standalone zuul templates,MERGED,2021-03-04 12:07:14.000000000,2021-03-08 13:23:51.000000000,2021-03-08 13:23:51.000000000,282,127,0,778662,649226326c2e4c0d010ca50ac73177f15a35baa2,16,10,3,2,8449,Marios Andreou,marios,"Deprecate non content provider standalone zuul templates

Moves the tripleo-standalone-scenarios-full and -multinode-ipa
to deprecated-jobs.yaml as part of our CI optimisation [1]

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I2f7d3dd9730dc30284bb52e3eca73375c7d550d2
"
openstack%2Freleases~master~I0040100344b2887ae8bc323fa32dbbdbcf831490,openstack/releases,master,move-to-independent,I0040100344b2887ae8bc323fa32dbbdbcf831490,Propose to move sushy-cli to independent,ABANDONED,2021-03-08 12:23:04.000000000,2021-03-08 13:18:22.000000000,,0,1,0,779249,1928c5db21570058e7099c260d649fe5ad3b7139,6,2,1,1,28522,Hervé Beraud,hberaud,"Propose to move sushy-cli to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I0040100344b2887ae8bc323fa32dbbdbcf831490
"
openstack%2Freleases~master~Id700b6ef671079b999ef1b39ac7a0d0bcee8f0bd,openstack/releases,master,move-to-independent,Id700b6ef671079b999ef1b39ac7a0d0bcee8f0bd,Propose to move python-ironic-inspector-client to independent,ABANDONED,2021-03-08 12:10:45.000000000,2021-03-08 13:18:02.000000000,,0,1,0,779242,8cba9ee181e4d7155a5b7aba002703b980463a85,6,2,1,1,28522,Hervé Beraud,hberaud,"Propose to move python-ironic-inspector-client to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: Id700b6ef671079b999ef1b39ac7a0d0bcee8f0bd
"
openstack%2Freleases~master~I5ad591ecf2f1269724057e273b244c9d24d72c94,openstack/releases,master,move-to-independent,I5ad591ecf2f1269724057e273b244c9d24d72c94,Propose to move blazar-nova to independent,ABANDONED,2021-03-08 11:10:15.000000000,2021-03-08 13:16:58.000000000,,0,1,0,779216,fe031e8366ef80a59b30023af18b822ad3ab25c2,6,1,1,1,28522,Hervé Beraud,hberaud,"Propose to move blazar-nova to independent

Project did not have any change merged over the cycle, maybe it is time to
transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree, leave a
-1 with some detail on the status, then we will cut the Wallaby stable branch
for this project.

Change-Id: I5ad591ecf2f1269724057e273b244c9d24d72c94
"
openstack%2Freleases~master~I2a805856b6ca63cc06492836b608171cb3dd2861,openstack/releases,master,move-to-independent,I2a805856b6ca63cc06492836b608171cb3dd2861,Propose to move python-monascaclient to independent,ABANDONED,2021-03-08 12:15:50.000000000,2021-03-08 13:16:42.000000000,,0,1,0,779243,83275080973fb40525ec967039864aa3698f05b0,4,1,1,1,28522,Hervé Beraud,hberaud,"Propose to move python-monascaclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I2a805856b6ca63cc06492836b608171cb3dd2861
"
openstack%2Freleases~master~If26d523ff98bad06d57ffb49d6f554171f9972ba,openstack/releases,master,move-to-independent,If26d523ff98bad06d57ffb49d6f554171f9972ba,Propose to move python-aodhclient to independent,ABANDONED,2021-03-08 12:02:47.000000000,2021-03-08 13:16:00.000000000,,0,1,0,779234,a3ef7145c158ed8271198734a10ebf7cadc9928f,4,1,1,1,28522,Hervé Beraud,hberaud,"Propose to move python-aodhclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: If26d523ff98bad06d57ffb49d6f554171f9972ba
"
openstack%2Freleases~master~I0cd8640ffb8bb171a869e2dc9a1f4717ea9ea358,openstack/releases,master,move-to-independent,I0cd8640ffb8bb171a869e2dc9a1f4717ea9ea358,Propose to move python-blazarclient to independent,ABANDONED,2021-03-08 12:06:06.000000000,2021-03-08 13:15:31.000000000,,0,1,0,779237,1df5224929dbcb011353d47a97f8b240cb6007d7,4,1,1,1,28522,Hervé Beraud,hberaud,"Propose to move python-blazarclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I0cd8640ffb8bb171a869e2dc9a1f4717ea9ea358
"
openstack%2Freleases~master~Ic3ef5d3b675f311480afb5c45ed44a45c1839cbe,openstack/releases,master,move-to-independent,Ic3ef5d3b675f311480afb5c45ed44a45c1839cbe,Propose to move python-barbicanclient to independent,ABANDONED,2021-03-08 12:04:12.000000000,2021-03-08 13:15:16.000000000,,0,1,0,779236,7b66a4dfd18ec81e6d71ff357933250f860fe40f,4,1,1,1,28522,Hervé Beraud,hberaud,"Propose to move python-barbicanclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: Ic3ef5d3b675f311480afb5c45ed44a45c1839cbe
"
openstack%2Freleases~master~Ia3e31b627f738661022271cca47feceb27daa2db,openstack/releases,master,move-to-independent,Ia3e31b627f738661022271cca47feceb27daa2db,Propose to move python-adjutantclient to independent,ABANDONED,2021-03-08 11:59:15.000000000,2021-03-08 13:14:35.000000000,,0,1,0,779231,fa0d716eccd3c6a9433058e2c9f11f7771e47406,4,1,1,1,28522,Hervé Beraud,hberaud,"Propose to move python-adjutantclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: Ia3e31b627f738661022271cca47feceb27daa2db
"
openstack%2Freleases~master~I39d01e34c5c294e4c2be6fbe2656f78f9484cfb6,openstack/releases,master,move-to-independent,I39d01e34c5c294e4c2be6fbe2656f78f9484cfb6,Propose to move python-glanceclient to independent,ABANDONED,2021-03-08 12:09:27.000000000,2021-03-08 13:11:15.000000000,,0,1,0,779241,fb0f672d8a02ad5dc96bb6f8b1b3dd26d75bdef8,4,1,1,1,28522,Hervé Beraud,hberaud,"Propose to move python-glanceclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I39d01e34c5c294e4c2be6fbe2656f78f9484cfb6
"
openstack%2Freleases~master~I51320ca3f19d3e12a549f9813b826317bb9d1f13,openstack/releases,master,move-to-independent,I51320ca3f19d3e12a549f9813b826317bb9d1f13,Propose to move python-zunclient to independent,ABANDONED,2021-03-08 12:21:47.000000000,2021-03-08 13:10:58.000000000,,0,1,0,779248,3916e70eed27b5b3705f2369911fe6a9144332de,4,1,1,1,28522,Hervé Beraud,hberaud,"Propose to move python-zunclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I51320ca3f19d3e12a549f9813b826317bb9d1f13
"
openstack%2Freleases~master~I2ffa35592c4ca50437ce05e04ac7cbed9d17b990,openstack/releases,master,move-to-independent,I2ffa35592c4ca50437ce05e04ac7cbed9d17b990,Propose to move python-zaqarclient to independent,ABANDONED,2021-03-08 12:20:51.000000000,2021-03-08 13:10:47.000000000,,0,1,0,779247,d3157a9ab0e709e67019cc057bca9616228fd3d2,4,1,1,1,28522,Hervé Beraud,hberaud,"Propose to move python-zaqarclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I2ffa35592c4ca50437ce05e04ac7cbed9d17b990
"
openstack%2Freleases~master~I59f6482e067834837b992b4cf137a5cb1648d93b,openstack/releases,master,move-to-independent,I59f6482e067834837b992b4cf137a5cb1648d93b,Propose to move python-octaviaclient to independent,ABANDONED,2021-03-08 12:17:48.000000000,2021-03-08 13:10:19.000000000,,0,1,0,779244,15872ba0d0c16061fa6b7fa2ba9c811bef2da04c,4,1,1,1,28522,Hervé Beraud,hberaud,"Propose to move python-octaviaclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I59f6482e067834837b992b4cf137a5cb1648d93b
"
openstack%2Fmanila~master~I298cf625c869394ca3582b9224a737d722567dec,openstack/manila,master,,I298cf625c869394ca3582b9224a737d722567dec,Fixed some syntax errors,MERGED,2021-03-08 01:20:35.000000000,2021-03-08 13:09:54.000000000,2021-03-08 12:09:11.000000000,6,6,0,779120,3bedb15bbb08aecdbc17de4203a14d41d8a78863,17,2,1,2,30407,haixin,haixin,"Fixed some syntax errors

Change-Id: I298cf625c869394ca3582b9224a737d722567dec
"
openstack%2Freleases~master~I386ddd742e34bedc1346f65160765ae71ed3f4c3,openstack/releases,master,move-to-independent,I386ddd742e34bedc1346f65160765ae71ed3f4c3,Propose to move python-watcherclient to independent,ABANDONED,2021-03-08 12:19:39.000000000,2021-03-08 13:09:46.000000000,,0,1,0,779246,8557bd9ddc1ae6cfb09b667dadf0865cefcee40a,4,1,1,1,28522,Hervé Beraud,hberaud,"Propose to move python-watcherclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I386ddd742e34bedc1346f65160765ae71ed3f4c3
"
openstack%2Freleases~master~I01778d2848bdb2fba9dd10f513e19234e6e189f3,openstack/releases,master,move-to-independent,I01778d2848bdb2fba9dd10f513e19234e6e189f3,Propose to move python-solumclient to independent,ABANDONED,2021-03-08 12:18:43.000000000,2021-03-08 13:09:22.000000000,,0,1,0,779245,e1f54728dfa5387cd33a6b73123a66d9886c67f5,4,1,1,1,28522,Hervé Beraud,hberaud,"Propose to move python-solumclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I01778d2848bdb2fba9dd10f513e19234e6e189f3
"
openstack%2Freleases~master~I234d2ba0ed0d2430b9ffe0be329b8232ab22ff9b,openstack/releases,master,move-to-independent,I234d2ba0ed0d2430b9ffe0be329b8232ab22ff9b,Propose to move python-brick-cinderclient to independent,ABANDONED,2021-03-08 12:07:47.000000000,2021-03-08 13:08:47.000000000,,0,1,0,779239,b3f0edfd95afdf991df471834d05b718a6d1ff1c,4,1,1,1,28522,Hervé Beraud,hberaud,"Propose to move python-brick-cinderclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I234d2ba0ed0d2430b9ffe0be329b8232ab22ff9b
"
openstack%2Freleases~master~I5e379cc4e62e070838fc8117f027ba6e4c23a3ee,openstack/releases,master,move-to-independent,I5e379cc4e62e070838fc8117f027ba6e4c23a3ee,Propose to move ceilometermiddleware to independent,ABANDONED,2021-03-08 11:16:37.000000000,2021-03-08 13:08:27.000000000,,0,1,0,779219,c2cd7fca9b8c38b4a66c4a835213ab955e7586f1,4,1,1,1,28522,Hervé Beraud,hberaud,"Propose to move ceilometermiddleware to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby stable
branch for this project.

Change-Id: I5e379cc4e62e070838fc8117f027ba6e4c23a3ee
"
openstack%2Fkolla-ansible~master~I0f107d8239ae0cbef3bb4569ec5d77326f8974fc,openstack/kolla-ansible,master,zookeeper-cfg-syntax,I0f107d8239ae0cbef3bb4569ec5d77326f8974fc,Document calculation of indentation,MERGED,2021-03-08 09:35:05.000000000,2021-03-08 12:56:03.000000000,2021-03-08 12:54:13.000000000,4,0,0,779188,0d33a2f5980dd6e6c3ae0c2225cbbf1c17d68ea4,9,3,1,1,15197,Pierre Riteau,priteau,"Document calculation of indentation

Change-Id: I0f107d8239ae0cbef3bb4569ec5d77326f8974fc
"
openstack%2Ftripleo-quickstart~master~Ie6259b3235f5f5efba70dabaa508ef8800d3874f,openstack/tripleo-quickstart,master,pacemaker_deps_pipeline,Ie6259b3235f5f5efba70dabaa508ef8800d3874f,Added pacemaker repo config,ABANDONED,2021-02-01 11:40:56.000000000,2021-03-08 12:36:35.000000000,,27,0,1,773370,f93f8f8fd66b0583d6b76aa1939638a02eec251c,6,3,1,1,29775,Sandeep Yadav,sandeepyadav93,"Added pacemaker repo config

In order to test latest pacemaker and HA related rpm we are
creating a pacemaker deps line.

We will disable the default HA repo and pull the latest packages HA
package from [1].
We will pull the latest pacemaker dependencies from [2], we increased
proirity of this repo and added includepkgs to just pull pacemaker deps
from appstream repo.

[1] http://mirror.centos.org/centos/8-stream/HighAvailability/x86_64/os/Packages/
[2] http://mirror.den01.meanservers.net/centos/8-stream/AppStream/x86_64/os/

Change-Id: Ie6259b3235f5f5efba70dabaa508ef8800d3874f
"
openstack%2Ftripleo-quickstart-extras~master~Ie59e77ca355df7571cf18c4da98806bb4ce8d0af,openstack/tripleo-quickstart-extras,master,ansible_dependency_pipeline,Ie59e77ca355df7571cf18c4da98806bb4ce8d0af,[wip]New playbook to support ansible deps pipeline,ABANDONED,2021-01-20 11:11:02.000000000,2021-03-08 12:35:20.000000000,,45,33,3,771590,aa0b8be8dd8a63381cbc13e91618988876953604,27,2,12,3,29775,Sandeep Yadav,sandeepyadav93,"[wip]New playbook to support ansible deps pipeline

To test latest ansible we are creating an ansible dependency line.
Here we added a new playbook ansible_deps_line.yml in undercloud-setup
role which will only execute when ansible_deps_line var is defined.

As latest ansible rpm is not available we need remove the older rpm
with --nodeps and pip install the latest ansible.

Change-Id: Ie59e77ca355df7571cf18c4da98806bb4ce8d0af
"
openstack%2Ftripleo-quickstart~master~I3f067136b190e7c0669880d51af56fc5492f2ad6,openstack/tripleo-quickstart,master,ansible_dependency_pipeline,I3f067136b190e7c0669880d51af56fc5492f2ad6,wip Add ansible dependency repo files,ABANDONED,2021-01-25 11:38:46.000000000,2021-03-08 12:33:47.000000000,,1,22,0,772320,7c8d795e2ba7cb11928b972a9333538b7361bcfd,5,2,2,2,29775,Sandeep Yadav,sandeepyadav93,"wip Add ansible dependency repo files

Change-Id: I3f067136b190e7c0669880d51af56fc5492f2ad6
"
openstack%2Ftripleo-validations~stable%2Fvictoria~Ib3665ebe7354203928dd41bf1c5f111cd55e833a,openstack/tripleo-validations,stable/victoria,,Ib3665ebe7354203928dd41bf1c5f111cd55e833a,[DNM] Test only to run a validation job,ABANDONED,2021-02-11 06:51:19.000000000,2021-03-08 12:33:25.000000000,,6,371,0,775074,0da9fe9e01fa9de90e231605fb1dfb2b953f4ab5,5,1,2,2,29775,Sandeep Yadav,sandeepyadav93,"[DNM] Test only to run a validation job

Testing if we are hitting crypto error in older branches

Depends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/774813
Change-Id: Ib3665ebe7354203928dd41bf1c5f111cd55e833a
"
openstack%2Ftripleo-validations~stable%2Fussuri~Id2388657142db4a0a6173ea63a543f90b013008b,openstack/tripleo-validations,stable/ussuri,,Id2388657142db4a0a6173ea63a543f90b013008b,[DNM] Test only to run a validation job,ABANDONED,2021-02-12 03:06:01.000000000,2021-03-08 12:33:06.000000000,,1,28,0,775310,f3138428d5d2e74d61548b2554c2a3073da2afae,12,1,4,2,29775,Sandeep Yadav,sandeepyadav93,"[DNM] Test only to run a validation job

Testing if we are hitting crypto error in ussuri branch.

Change-Id: Id2388657142db4a0a6173ea63a543f90b013008b
"
openstack%2Ftripleo-quickstart-extras~master~Ie400225d5031206db7e66b4dd6fabe2c4a1ed34e,openstack/tripleo-quickstart-extras,master,ci-swiftless-undercloud,Ie400225d5031206db7e66b4dd6fabe2c4a1ed34e,[DNM] Disable swift from undercloud,ABANDONED,2021-01-05 05:23:29.000000000,2021-03-08 12:32:35.000000000,,13,20,0,769245,4df93d3ea27321c231b585857a644662b828fe17,5,2,1,4,29775,Sandeep Yadav,sandeepyadav93,"[DNM] Disable swift from undercloud

With this patch, We are testing disabling swift in undercloud by
adding `enable_swift` = False in undercloud.conf

Temporaily removed some jobs from layout to avoid unneccesary trigger
to save ci resources.

Change-Id: Ie400225d5031206db7e66b4dd6fabe2c4a1ed34e
"
openstack%2Freleases~master~I5150ee9068dac067e6a0240951a4600becb4a850,openstack/releases,master,update-emails,I5150ee9068dac067e6a0240951a4600becb4a850,Change primary eamil for Rico Lin,MERGED,2021-03-05 09:39:36.000000000,2021-03-08 12:32:33.000000000,2021-03-08 12:32:33.000000000,1,1,0,778862,1c342a7c429448810a9e40d8f77693577c88e08e,7,3,1,1,12404,Rico Lin,rico.lin,"Change primary eamil for Rico Lin

Rico recently change his primary email
from rico.lin.guanyu@gmail.com
to ricolin@ricolky.com

Change-Id: I5150ee9068dac067e6a0240951a4600becb4a850
"
openstack%2Ftripleo-quickstart-extras~master~Ic00031bc1a92efe239d73fcdbf9ca2c1cddb327e,openstack/tripleo-quickstart-extras,master,,Ic00031bc1a92efe239d73fcdbf9ca2c1cddb327e,[dnm] Enable Config-debug and set control vip to .3,ABANDONED,2021-02-23 03:07:43.000000000,2021-03-08 12:32:05.000000000,,3,55,0,777044,0a5fbf9112dd2c8e149ae4c6d4a90a9b785dfb6c,5,1,2,2,29775,Sandeep Yadav,sandeepyadav93,"[dnm] Enable Config-debug and set control vip to .3

to debug https://bugs.launchpad.net/tripleo/+bug/1915519

Change-Id: Ic00031bc1a92efe239d73fcdbf9ca2c1cddb327e
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9a7d2d028a145d62ea37b84a0d3701b55390568c,openstack/tripleo-heat-templates,stable/train,,I9a7d2d028a145d62ea37b84a0d3701b55390568c,[dnm] Test Changing Vip for Ganesha and enable ConfigDebug,ABANDONED,2021-02-22 08:02:04.000000000,2021-03-08 12:31:41.000000000,,2,52,0,776896,69fa095a37fbfc613db49073e769109387973e67,7,2,2,2,29775,Sandeep Yadav,sandeepyadav93,"[dnm] Test Changing Vip for Ganesha and enable ConfigDebug

Change-Id: I9a7d2d028a145d62ea37b84a0d3701b55390568c
"
openstack%2Fironic~master~Ia6d34b31680967a0d14687e5a54d68a1f1644308,openstack/ironic,master,story-2008290-lite,Ia6d34b31680967a0d14687e5a54d68a1f1644308,Add support for using NVMe specific cleaning,MERGED,2021-03-02 05:27:23.000000000,2021-03-08 12:26:39.000000000,2021-03-08 12:24:55.000000000,22,8,9,778134,aa42582ac406951cc02f7b08a0bf8dbe4411ba0a,16,4,2,1,32177,Jacob Anders,janders,"Add support for using NVMe specific cleaning

This change adds support for utilising NVMe specific cleaning tools
on supported devices. This will remove the neccessity of using shred to
securely delete the contents of a NVMe drive and enable using nvme-cli
tools instead, improving cleaning performance and reducing wear on the device.
(this specific change adds extra documentation to the earlier set of
patches implementing this).

Story: 2008290
Task: 41168
Change-Id: Ia6d34b31680967a0d14687e5a54d68a1f1644308
"
openstack%2Fvalidations-common~master~Id5d1f5acce172ea90574a257fb0e8bc3da1f6fe2,openstack/validations-common,master,docs/pdf,Id5d1f5acce172ea90574a257fb0e8bc3da1f6fe2,Docs are now built in pdf,MERGED,2021-03-02 11:06:00.000000000,2021-03-08 11:48:36.000000000,2021-03-08 11:46:37.000000000,16,7,3,778169,d9434d88c1d5c1b66009d16d90627071ef5433cf,25,7,5,5,32926,Jiri Podivin,jpodivin,"Docs are now built in pdf

Adds __init__.py to libraries dir, because sphinx
doesn't generate proper toctree otherwise.

Fixes indentation in one of the docstrings that blocked
the jobs.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id5d1f5acce172ea90574a257fb0e8bc3da1f6fe2
"
openstack%2Ftripleo-ci~master~I66da92fcabf204ab9ed3653132ee5221c220c5a0,openstack/tripleo-ci,master,remove-tempest-variables,I66da92fcabf204ab9ed3653132ee5221c220c5a0,Remove tempest variables from testenv files,MERGED,2021-03-02 09:44:25.000000000,2021-03-08 11:46:32.000000000,2021-03-08 11:46:32.000000000,0,73,0,778155,e0f47848c10f2cd5f6c5a03ebe8bc97933f2702c,16,5,3,8,8367,Arx Cruz,arxcruz,"Remove tempest variables from testenv files

Some variables like tempestmail_log_server and tempest_track_resources
are no longer required because it belongs to validate-tempest role, that
is deprecated now. Other variables like tempest_test_image_path and
tempest_tempest_conf_overrides should be used only when required. In the
case of these testenv, this is overriding what is in tempest.yml task in
tripleo-quickstart-extras, making it hard to change cirros image.
Removing here will have no impact, and all common tempest variables
should indeed be centralized in tempest.yml task.

Change-Id: I66da92fcabf204ab9ed3653132ee5221c220c5a0
"
openstack%2Fneutron~master~Ic18e1751ab8f8847c6472813391724e2cb67e28f,openstack/neutron,master,ovn-packages,Ic18e1751ab8f8847c6472813391724e2cb67e28f,[OVN] OVN master jobs to install OVN from source,NEW,2020-11-19 16:03:05.000000000,2021-03-08 11:41:38.000000000,,3,0,0,763403,f8370d7c2d49abcb5b82de855c985291ceb410fb,27,6,3,2,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] OVN master jobs to install OVN from source

OVN release jobs are going to install OVN from the OS packages.

Change-Id: Ic18e1751ab8f8847c6472813391724e2cb67e28f
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Freleases~master~Ib6efac12278c12aa1f320c12a86cbcd164faed90,openstack/releases,master,cinder-tempest-plugin-140,Ib6efac12278c12aa1f320c12a86cbcd164faed90,Release cinder-tempest-plugin 1.4.0,MERGED,2021-03-03 23:11:59.000000000,2021-03-08 11:37:09.000000000,2021-03-08 11:37:09.000000000,4,0,0,778591,08b5a55d753c9efe777f814c177f7c2051394870,10,6,1,1,10459,Luigi Toscano,ltoscano,"Release cinder-tempest-plugin 1.4.0

Intermediate release. We have collected enough changes since 1.3.0.
Moreover, a relevant set of changes is coming to tempest and
it would make sense to mark this currently working release.

Change-Id: Ib6efac12278c12aa1f320c12a86cbcd164faed90
"
openstack%2Freleases~master~Ia6be75df1986537815f2438a7fac4ee4e522d799,openstack/releases,master,cwi-client-final,Ia6be75df1986537815f2438a7fac4ee4e522d799,Release final python-vitrageclient for Wallaby,MERGED,2021-03-05 15:35:28.000000000,2021-03-08 11:35:03.000000000,2021-03-08 11:35:03.000000000,4,0,0,778974,6604dd4d216fd18286433d039d1c981c96a0ad59,9,4,1,1,28522,Hervé Beraud,hberaud,"Release final python-vitrageclient for Wallaby

This proposed a release for python-vitrageclient to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 11.

$ git log --oneline --no-merges 4.2.0..8293be5
8293be5 Revert ""remove py37""
764e430 remove py37
7dbc1e8 Remove unicode  from client

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ia6be75df1986537815f2438a7fac4ee4e522d799
"
openstack%2Freleases~master~Ibff157e8eeb04c50aaeb1a04b9c45c8fa23040be,openstack/releases,master,cwi-client-final,Ibff157e8eeb04c50aaeb1a04b9c45c8fa23040be,Release final python-magnumclient for Wallaby,MERGED,2021-03-05 15:19:23.000000000,2021-03-08 11:34:06.000000000,2021-03-08 11:34:06.000000000,4,0,0,778963,0202fbcdbc4cf0ad2411e46f113853114fc379b5,9,4,1,1,28522,Hervé Beraud,hberaud,"Release final python-magnumclient for Wallaby

This proposed a release for python-magnumclient to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 11.

$ git log --oneline --no-merges 3.3.0..e2bcf6e
e2bcf6e Uncap PrettyTable
201b352 Add CT tags argument and field to client
0799acf Nodegroup min_node_count should default to 0
0a35b68 Drop lower constraints testing

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ibff157e8eeb04c50aaeb1a04b9c45c8fa23040be
"
openstack%2Freleases~master~I2cf9ea480cbdbdfecb3101e6667ba6d80ffb3a05,openstack/releases,master,release_osa,I2cf9ea480cbdbdfecb3101e6667ba6d80ffb3a05,Release OpenStack-Ansible Victoria,MERGED,2021-03-06 05:41:35.000000000,2021-03-08 11:32:59.000000000,2021-03-08 11:32:59.000000000,4,0,0,779001,ac1a275e57e7890fa45de379874a900c4d54cb54,13,3,3,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Release OpenStack-Ansible Victoria

Change-Id: I2cf9ea480cbdbdfecb3101e6667ba6d80ffb3a05
"
openstack%2Freleases~master~Idcb0d9facbde2a516086a8d1195e5c2edb0caf4a,openstack/releases,master,778231,Idcb0d9facbde2a516086a8d1195e5c2edb0caf4a,Cinder team releases for stable/victoria,MERGED,2021-03-02 18:56:12.000000000,2021-03-08 11:32:53.000000000,2021-03-08 11:32:53.000000000,20,0,13,778231,9d13acb923ebefcd7105f8ca91ff99ee485fc924,21,5,3,5,27615,Rajat Dhasmana,whoami-rajat,"Cinder team releases for stable/victoria

Change-Id: Idcb0d9facbde2a516086a8d1195e5c2edb0caf4a
"
openstack%2Fovn-octavia-provider~stable%2Fvictoria~Ibde099db717787d7905d7c7850bebda7e9e261a8,openstack/ovn-octavia-provider,stable/victoria,,Ibde099db717787d7905d7c7850bebda7e9e261a8,Don't try to store protocol=None in OVSDB,MERGED,2021-03-04 21:04:25.000000000,2021-03-08 11:30:46.000000000,2021-03-08 11:29:18.000000000,5,5,0,778694,674203b4bf959729a0eeef1d44aa831fba6ed484,9,4,1,2,1131,Brian Haley,brian-haley,"Don't try to store protocol=None in OVSDB

The schema for the 'protocol' column is 0 or 1 strings in the set
('tcp', 'udp', 'sctp'). Empty optional values in OVSDB are
represented by []. Passing None will cause a schema error to be
thrown, so pass [] instead of None when protocol is not set.

Change-Id: Ibde099db717787d7905d7c7850bebda7e9e261a8
Closes-Bug: #1916646
(cherry picked from commit a641c2c395043cfc0119fafa3f91d3256c120d70)
"
openstack%2Fovn-octavia-provider~stable%2Fussuri~Ibde099db717787d7905d7c7850bebda7e9e261a8,openstack/ovn-octavia-provider,stable/ussuri,778694-ussuri,Ibde099db717787d7905d7c7850bebda7e9e261a8,Don't try to store protocol=None in OVSDB,MERGED,2021-03-04 21:28:19.000000000,2021-03-08 11:30:36.000000000,2021-03-08 11:29:22.000000000,5,5,0,778779,f4861f9d9234fc304e84a3afe4190f319974b238,9,3,1,2,1131,Brian Haley,brian-haley,"Don't try to store protocol=None in OVSDB

The schema for the 'protocol' column is 0 or 1 strings in the set
('tcp', 'udp', 'sctp'). Empty optional values in OVSDB are
represented by []. Passing None will cause a schema error to be
thrown, so pass [] instead of None when protocol is not set.

Change-Id: Ibde099db717787d7905d7c7850bebda7e9e261a8
Closes-Bug: #1916646
(cherry picked from commit a641c2c395043cfc0119fafa3f91d3256c120d70)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~Ibffd96fe008b6fcefcd73ac3c1bc579507dca5c7,openstack/kolla-ansible,stable/victoria,temp_disable_rmq_tls-stable/victoria,Ibffd96fe008b6fcefcd73ac3c1bc579507dca5c7,CI: Temporarily disable rabbitmq internal tls,MERGED,2020-11-05 18:53:42.000000000,2021-03-08 11:28:50.000000000,2020-11-06 00:03:56.000000000,2,1,0,761655,d7ba5efab1295f2a84e24a678162196f1eef18b2,10,3,1,1,30491,Radosław Piliszek,yoctozepto,"CI: Temporarily disable rabbitmq internal tls

Due to an incompatibility between oslo.messaging and new kombu/amqp mix -
Nova RMQ TLS is not working. See [1] and [2].

[1]: https://launchpad.net/bugs/1902696
[2]: https://review.opendev.org/#/c/761194/

Change-Id: Ibffd96fe008b6fcefcd73ac3c1bc579507dca5c7
(cherry picked from commit ff441c1c0ceb8fc06a17f5db8e460ad00e8db365)
"
openstack%2Freleases~master~Iea33c2bd4bd20dd0f92fd9a7e12008d841176974,openstack/releases,master,delete-eol-branch,Iea33c2bd4bd20dd0f92fd9a7e12008d841176974,Add delete option to list_eol_stale_branches.sh,MERGED,2021-02-24 18:18:47.000000000,2021-03-08 11:25:39.000000000,2021-03-08 11:25:39.000000000,75,2,6,777446,6a8941429f3c34f0c4fc732cb1af1010ee85ef62,27,4,4,2,17685,Elod Illes,elod.illes,"Add delete option to list_eol_stale_branches.sh

This patch adds a question whether to delete a stale eol branch if it
does not contain open patches.
The deletion is done via Gerrit API, which requires 'delete reference'
access category for the user who is running this script.

Change-Id: Iea33c2bd4bd20dd0f92fd9a7e12008d841176974
"
openstack%2Frequirements~master~Ic800d4f93cc324787fe22e27a25411e1565185d5,openstack/requirements,master,bug/1902696,Ic800d4f93cc324787fe22e27a25411e1565185d5,Pin kombu and amqp requirements due to incompatibility,ABANDONED,2020-11-03 16:43:09.000000000,2021-03-08 11:18:53.000000000,,7,5,0,761194,e6c457ce452586749e554e036f92ec06876be39f,40,6,5,2,9708,Balazs Gibizer,gibi,"Pin kombu and amqp requirements due to incompatibility

kombu 5.0.2 bumped the amqp dependency from 2.6.1 to 5.0 but amqp 5.0
removed ca_certs ssl parameter from the connect call path. The
oslo.messaging still passes that parameter making nova fail if ssl is
configured for RPC.

Later amqp 5.0.2 reintroduced the ca_certs parameter but kolla now fails
with

ValueError: check_hostname needs a SSL context with either CERT_OPTIONAL or CERT_REQUIRED

To keep the resulting constraints consistent the vine constraint moved
back to 1.3.0 from 5.0.0

This patch partially reverts I1bc1fe988e3cfd4824dd7b4a9327a67db46c1533

Related-Bug: #1902696
Change-Id: Ic800d4f93cc324787fe22e27a25411e1565185d5
"
openstack%2Ftripleo-ci~master~I5b904aa969222740b444cd73e722c09168924716,openstack/tripleo-ci,master,centos-8-stream-content-master,I5b904aa969222740b444cd73e722c09168924716,Set image and container build jobs non-voting: stream,MERGED,2021-03-02 13:13:08.000000000,2021-03-08 11:13:04.000000000,2021-03-07 16:07:16.000000000,5,2,0,778189,41847d7f49c9625a550f3068719d92f1ab134cf7,30,5,9,2,9976,Ronelle Landy,rlandy,"Set image and container build jobs non-voting: stream

Set container and image build jobs to non-voting during
the transition from centos release nodes to
centos stream nodes on all releases.

Related-Bug: #1917808
Change-Id: I5b904aa969222740b444cd73e722c09168924716
"
openstack%2Fcinder~master~Ia038bad53a749d615068007574590b0224d72700,openstack/cinder,master,bug/1813138,Ia038bad53a749d615068007574590b0224d72700,Handle changed volume file names in remotefs snap existence check,NEW,2019-01-24 10:40:05.000000000,2021-03-08 11:08:02.000000000,,32,3,5,632982,7c71dcedddd40c62aa14365d4313359eece27d04,312,50,8,2,13915,Silvan Kaiser,kaisers,"Handle changed volume file names in remotefs snap existence check

During Nova based deletion of snapshots a volumes underlying file name
is changed if the deleted snapshot is the last existing beside the
volume itself.
This also updates _snapshots_exist in remotefs.py to more robustly
detect if no snapshots exist.This includes handling cases where the
data still contains the outdated volume file name.

Closes-Bug: #1813138

Change-Id: Ia038bad53a749d615068007574590b0224d72700
"
openstack%2Fcinder~master~I22ec3e861e00a82d49c01133fd0f20afbac31d9d,openstack/cinder,master,bug/1864402_vdisk_UID,I22ec3e861e00a82d49c01133fd0f20afbac31d9d,update snapshot attrs to snapshot metadata,NEW,2020-02-27 06:04:12.000000000,2021-03-08 10:56:31.000000000,,79,1,6,710187,bc6124b784c7e17dfbadc5aff4b678e870fff6ce,148,39,6,2,30428,Xuchu Jiang,Xuchu,"update snapshot attrs to snapshot metadata

This patch will update some attrs of snapshot vdisk to cinder
snapshot metadata table. vdisk_UID and volume_name will be updated
during create_snapshot and create_group_snapshot.

Closes-Bug: #1864402

Change-Id: I22ec3e861e00a82d49c01133fd0f20afbac31d9d
"
openstack%2Fheat~master~I4c9e0729f338de67b4b598fcd0e72646289d5025,openstack/heat,master,,I4c9e0729f338de67b4b598fcd0e72646289d5025,Allow deleting Server/DeployedServer without swift/zaqar,MERGED,2021-03-04 05:24:59.000000000,2021-03-08 10:45:40.000000000,2021-03-08 10:44:08.000000000,76,19,0,778611,0b593c218d9f87c9b105cd8ac1e92949d73aa592,18,4,3,3,8833,Rabi Mishra,rabi,"Allow deleting Server/DeployedServer without swift/zaqar

When swift and zaqar used for software_config_transport
are removed/disabled in the deployment, we should be
able to delete Server/DeplpyedServer resources.

Change-Id: I4c9e0729f338de67b4b598fcd0e72646289d5025
Task: 2008685
"
openstack%2Fkolla-ansible~stable%2Fussuri~I3296dcc4780160cbf88bd18285571276f58bb249,openstack/kolla-ansible,stable/ussuri,,I3296dcc4780160cbf88bd18285571276f58bb249,Fix Cinder log parsing,MERGED,2021-03-06 15:55:20.000000000,2021-03-08 10:21:38.000000000,2021-03-08 10:19:56.000000000,9,1,0,779003,b4fff72255d11a109eafbdfdea922583ac9a9a75,9,3,1,3,30491,Radosław Piliszek,yoctozepto,"Fix Cinder log parsing

The Cinder API log is currently written to a file called
cinder-wsgi.log, and the WSGI logs to cinder-api.log. Fluentd
then tries to parse the WSGI log as an OpenStack log which
results in 'got incomplete line' errors and prevents proper
ingestion of these logs.

Co-Authored-By: yaoning <yaoning@unitedstack.com>
Closes-Bug: 1916752
Change-Id: I3296dcc4780160cbf88bd18285571276f58bb249
(cherry picked from commit fa5511c75d79d8e258c4fa880d2c7a880b838bde)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I3296dcc4780160cbf88bd18285571276f58bb249,openstack/kolla-ansible,stable/victoria,,I3296dcc4780160cbf88bd18285571276f58bb249,Fix Cinder log parsing,MERGED,2021-03-06 15:36:15.000000000,2021-03-08 10:21:18.000000000,2021-03-08 10:19:52.000000000,9,1,0,779002,b9f8543f1dcf5e421ff8838a5808977d5bbf39eb,9,3,1,3,30491,Radosław Piliszek,yoctozepto,"Fix Cinder log parsing

The Cinder API log is currently written to a file called
cinder-wsgi.log, and the WSGI logs to cinder-api.log. Fluentd
then tries to parse the WSGI log as an OpenStack log which
results in 'got incomplete line' errors and prevents proper
ingestion of these logs.

Co-Authored-By: yaoning <yaoning@unitedstack.com>
Closes-Bug: 1916752
Change-Id: I3296dcc4780160cbf88bd18285571276f58bb249
(cherry picked from commit fa5511c75d79d8e258c4fa880d2c7a880b838bde)
"
openstack%2Ftripleo-ansible~master~If4f8bf9ffb91b102633d2b23d1b036dd2868c82f,openstack/tripleo-ansible,master,bgpsupport,If4f8bf9ffb91b102633d2b23d1b036dd2868c82f,Allow a custom state when creating a container,ABANDONED,2021-02-23 10:00:27.000000000,2021-03-08 10:12:55.000000000,,1,1,0,777085,cecef3375108e715c795105a098f95fd5102a9f6,7,3,1,1,20172,Michele Baldessari,michele,"Allow a custom state when creating a container

At the moment we hardcode the container state to 'present'. This state
will basically make sure the container is present and also started.
There can be a need to be able to just create a container without
starting it, because we need to start it later in the deployment.

Let's allow services to override this, while still defaulting to
'present'.

Change-Id: If4f8bf9ffb91b102633d2b23d1b036dd2868c82f
Co-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>
"
openstack%2Fironic~master~Ib182ee6f2894fcdcea369a60dc5bd922a16434e2,openstack/ironic,master,doc-update,Ib182ee6f2894fcdcea369a60dc5bd922a16434e2,"Revert ""Update iDRAC doc with missing interfaces""",MERGED,2021-03-05 11:35:33.000000000,2021-03-08 10:11:59.000000000,2021-03-08 10:09:34.000000000,5,5,0,778835,a8b5137db342d0f13be20348c84284c171c4b063,8,4,1,1,27909,Aija Jauntēva,ajya,"Revert ""Update iDRAC doc with missing interfaces""

This reverts commit b0df0960e2c53a4fe6673ba0a1ed546ffd156dc7.

Reason for revert: Need to split in separate patches and backport virtual media boot part.

Change-Id: Ib182ee6f2894fcdcea369a60dc5bd922a16434e2
"
openstack%2Fpython-tackerclient~master~I319c34febd719f08537195881f31416a0b127ef6,openstack/python-tackerclient,master,update_url,I319c34febd719f08537195881f31416a0b127ef6,Add links to readme.rst,NEW,2021-01-03 02:57:32.000000000,2021-03-08 09:56:57.000000000,,3,0,0,768925,a9f44ec98e08efa64f37fa773796b35ef5202290,5,3,2,1,27383,Shuo Liu,liushuobj,"Add links to readme.rst

Change-Id: I319c34febd719f08537195881f31416a0b127ef6
"
openstack%2Fkuryr-kubernetes~master~I9c53bc4dd3529a48f5ba1ab77268d6a984a84808,openstack/kuryr-kubernetes,master,dual-stack,I9c53bc4dd3529a48f5ba1ab77268d6a984a84808,DevStack: Support dual stack,MERGED,2021-02-22 12:35:09.000000000,2021-03-08 09:28:15.000000000,2021-03-08 09:21:07.000000000,213,184,13,776927,1c1d1d463a73d4b72819b45309b2e1555a98cea2,65,5,14,5,11600,Michał Dulko,dulek,"DevStack: Support dual stack

This commit makes sure DevStack plugin is able to run with dual stack
and create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s
is also configured with that.

Implements: blueprint dual-stack

Change-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808
"
openstack%2Freleases~master~I07d7fba5b9e80213246cb79e927e0e4a98b150a7,openstack/releases,master,ipa-builder-250,I07d7fba5b9e80213246cb79e927e0e4a98b150a7,Release ipa-builder 2.5.0,MERGED,2021-03-03 18:08:59.000000000,2021-03-08 09:28:00.000000000,2021-03-08 09:28:00.000000000,4,0,0,778529,09ea1d1edda39d03a4cff1e114e35c8200e86e5d,12,6,1,1,23851,Riccardo Pittau,elfosardo,"Release ipa-builder 2.5.0

Change-Id: I07d7fba5b9e80213246cb79e927e0e4a98b150a7
"
openstack%2Frequirements~master~Iaee5cfca77ce83514c3359301126592d45460a4b,openstack/requirements,master,openstack/requirements/constraints/noclob,Iaee5cfca77ce83514c3359301126592d45460a4b,Updated from generate-constraints,MERGED,2021-03-08 06:29:42.000000000,2021-03-08 09:27:29.000000000,2021-03-08 09:24:56.000000000,4,4,0,779135,79ff19fa57044575ea93b57c29c0e0b46028989d,10,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Iaee5cfca77ce83514c3359301126592d45460a4b
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Freleases~master~I3035e6c233bbd8f1448a898235a7a4ef9ff7f3b3,openstack/releases,master,wallaby-lib-freeze,I3035e6c233bbd8f1448a898235a7a4ef9ff7f3b3,Release final os-brick for Wallaby,MERGED,2021-03-01 09:43:45.000000000,2021-03-08 09:12:31.000000000,2021-03-08 09:12:31.000000000,7,0,0,777954,aa65c4952e927fc31b4bd24e45efc87c9cdfa16a,16,6,2,1,28522,Hervé Beraud,hberaud,"Release final os-brick for Wallaby

Release os-brick 4.3.0 and cut the stable branch.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I3035e6c233bbd8f1448a898235a7a4ef9ff7f3b3
"
openstack%2Fproject-config~master~I67912064487598c0e5b4ce3001276f42e0ebcad1,openstack/project-config,master,,I67912064487598c0e5b4ce3001276f42e0ebcad1,Add custom cirros image with ahci module enabled to cache,MERGED,2021-03-03 22:28:19.000000000,2021-03-08 08:43:53.000000000,2021-03-04 01:00:55.000000000,1,0,0,778590,5ee0780486be4340c3585a115018dd4b192d5b72,10,3,1,1,10135,Lee Yarwood,lyarwood,"Add custom cirros image with ahci module enabled to cache

As discussed on the ML [1] the nova-next job is looking to start testing
the q35 machine type. In order to do this *before* the next Cirros
release a custom dev build of the Cirros image has been built with the
ahci module included, as is now required to allow for SATA based config
drives to work.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/020823.html

Change-Id: I67912064487598c0e5b4ce3001276f42e0ebcad1
"
openstack%2Foctavia~master~I6453c177408e6d9db46317e3b3de26df3e44671c,openstack/octavia,master,,I6453c177408e6d9db46317e3b3de26df3e44671c,Small fix in loadbalancer POST api-ref,MERGED,2021-02-01 18:01:36.000000000,2021-03-08 08:18:43.000000000,2021-03-08 08:16:39.000000000,2,1,2,773460,6a7d8b2cdc6f06fea2858e074b4549c49bcd20d7,14,5,2,1,29244,Gregory Thiemonge,gthiemonge,"Small fix in loadbalancer POST api-ref

The user can set flavor_id and provider, but the provider of the flavor
profiles must match the provider parameter.

Change-Id: I6453c177408e6d9db46317e3b3de26df3e44671c
"
openstack%2Fcharm-vault~master~I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97,openstack/charm-vault,master,bug/1916921,I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97,add restart and reload action,MERGED,2021-03-01 19:53:29.000000000,2021-03-08 08:07:09.000000000,2021-03-08 08:07:09.000000000,37,0,12,778059,6521e42c1c945354d56a22f21e76e1ffbfff4c99,55,7,10,6,32930,Bartosz Woronicz,mastier,"add restart and reload action

Main reasoning for this change is to add ability
to reload Vault configuration by SIGHUP without
the Vault getting sealed.
Upstream use of HUP with ExecReload can be found in the official docs
https://www.vaultproject.io/guides/operations/deployment-guide#configure-systemd
Restart was also added as an extra feature.

Closes-Bug: #1916921
Change-Id: I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/517
"
openstack%2Ftripleo-ci~master~I9a58d847812f5af730d441bed872199d041c0fbc,openstack/tripleo-ci,master,,I9a58d847812f5af730d441bed872199d041c0fbc,Collect default working-dir,ABANDONED,2021-03-08 07:13:51.000000000,2021-03-08 07:26:19.000000000,,1,0,0,779159,e054d1a8fdcd21d3f925fe3ffa23c05f30e6c05d,3,0,1,1,8833,Rabi Mishra,rabi,"Collect default working-dir

With change I0d803f695c725c58ef2e6b655753b6c8248d1b2f
we use a different working_dir which defaults to
$HOME/overcloud-deploy-<stack> to store all files. Let's
collect it for ease of troubleshooting of CI jobs.

Change-Id: I9a58d847812f5af730d441bed872199d041c0fbc
"
openstack%2Ftooz~master~Id5bcba601640c6267bd7b22d8c8c54965bd81289,openstack/tooz,master,tooz-gate,Id5bcba601640c6267bd7b22d8c8c54965bd81289,[DNM] Gate test,ABANDONED,2021-03-05 13:21:54.000000000,2021-03-08 07:24:53.000000000,,2,1,0,778911,69aedc5481061badb19e05693552f9ae6d7e7586,7,1,2,2,4264,Matthias Runge,mrunge,"[DNM] Gate test

Change-Id: Id5bcba601640c6267bd7b22d8c8c54965bd81289
"
openstack%2Fcinder~master~I63f4ae165486451b8c3da2e5d7a40a4c2a96ad4a,openstack/cinder,master,new,I63f4ae165486451b8c3da2e5d7a40a4c2a96ad4a,Nimble: Add support for revert to snapshot,MERGED,2020-10-12 12:38:42.000000000,2021-03-08 07:21:25.000000000,2020-10-21 05:55:46.000000000,92,2,1,757554,56ee0971b3a74240fdd008b090b46ec9917d1ee2,119,28,2,5,16186,Ajitha Robert,ajitharobert,"Nimble: Add support for revert to snapshot

blueprint nimble-add-revert-to-snapshot-support

Change-Id: I63f4ae165486451b8c3da2e5d7a40a4c2a96ad4a
"
openstack%2Fsenlin~master~I49a90dc60649e01e6fead031b90f49fd29b2518e,openstack/senlin,master,lowercase_nodename,I49a90dc60649e01e6fead031b90f49fd29b2518e,Add placeholder for lowercase node names,MERGED,2021-03-04 01:01:05.000000000,2021-03-08 07:15:24.000000000,2021-03-08 07:14:08.000000000,4,2,0,778598,7d6eebf5c34ce8eab8a53f96f35079a275710589,8,2,2,1,27224,Duc Truong,dtruong2,"Add placeholder for lowercase node names

Add placeholder 'r' in node.name.format cluster config option to use
only lowercase random letters for node name.

Change-Id: I49a90dc60649e01e6fead031b90f49fd29b2518e
"
openstack%2Ftripleo-ansible~master~I7737f9fc5104b769ef78b76e20a019cc1dafba8f,openstack/tripleo-ansible,master,network-data-v2,I7737f9fc5104b769ef78b76e20a019cc1dafba8f,"node provision, generate ansible inventory",MERGED,2021-01-19 01:06:05.000000000,2021-03-08 07:11:20.000000000,2021-03-08 07:09:51.000000000,22,1,3,771294,db36cf0b8fdf6693d226624b79a0a90cec104a15,40,7,10,2,24245,Harald Jensås,harald.jensas,"node provision, generate ansible inventory

Generate an ansible inventory from neutron resource
information when network port management is enabled
in the overcloud node provision cli workflow.

Partial-Implements: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/771291
Depends-On: https://review.opendev.org/771292
Change-Id: I7737f9fc5104b769ef78b76e20a019cc1dafba8f
"
openstack%2Ftripleo-ci~master~I848ee924911f5d210006d6cc96b3281300f95e53,openstack/tripleo-ci,master,testallstream,I848ee924911f5d210006d6cc96b3281300f95e53,(wes) DNM test CI jobs - stream,ABANDONED,2021-03-07 18:00:23.000000000,2021-03-08 07:09:20.000000000,,13,0,0,779104,cca56d6c9fcfc0fc738b8a0e17c4b063de94cb05,6,3,2,13,10969,Shnaidman Sagi (Sergey),sergsh,"(wes) DNM test CI jobs - stream

Change-Id: I848ee924911f5d210006d6cc96b3281300f95e53
"
openstack%2Fmurano~master~I1b6c6485bc651fd0b87244a68204036dd4aa37f4,openstack/murano,master,policy-json-to-yaml,I1b6c6485bc651fd0b87244a68204036dd4aa37f4,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-25 21:47:29.000000000,2021-03-08 07:08:18.000000000,2021-03-08 07:06:55.000000000,87,38,1,768520,1c87ebf9a8a79d990e4a1ba44452b50efae77883,21,2,8,12,8556,Ghanshyam,ghanshyam,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc and tests.

CONF object needs to be initialized before policy enforcer(). That
need to remove cfg.CONF.unregister_opts from TestAuthUtils cleanup
as this is taken care by cfg.clear() with proper workflow otherwise
it end up with error
""oslo_config.cfg.ArgsAlreadyParsedError: arguments
already parsed: reset before unregistering options""

- https://b132754ee7062a9ab187-9add4719a9922a9385555a8552fc2366.ssl.cf5.rackcdn.com/768520/5/check/openstack-tox-py38/7964354/testr_results.html

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I1b6c6485bc651fd0b87244a68204036dd4aa37f4
"
openstack%2Fsolum~master~I1d74949c9d19ff543571382f887b5ed40756ecb9,openstack/solum,master,policy-json-to-yaml,I1d74949c9d19ff543571382f887b5ed40756ecb9,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-24 01:31:03.000000000,2021-03-08 06:56:51.000000000,2021-03-08 06:55:30.000000000,60,24,0,768381,86765728bbe9d6287845d10f8a0201e8b3f447b6,19,2,7,8,8556,Ghanshyam,ghanshyam,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc and tests.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I1d74949c9d19ff543571382f887b5ed40756ecb9
"
openstack%2Fmurano-apps~master~I1e49f9af932c6b55243d1375b23ae16f56503461,openstack/murano-apps,master,native-zuulv3-migration,I1e49f9af932c6b55243d1375b23ae16f56503461,Migrate the functional job to Zuul v3,MERGED,2021-02-24 22:25:57.000000000,2021-03-08 06:07:54.000000000,2021-03-08 06:07:54.000000000,11,182,2,777478,a35fdf8fdaf297d8dab639aa646e59b4629153b5,8,2,2,3,10459,Luigi Toscano,ltoscano,"Migrate the functional job to Zuul v3

Use devstack-tox-functional, running the custom tox environment
after exporting the devstack environment.

Change-Id: I1e49f9af932c6b55243d1375b23ae16f56503461
"
openstack%2Fcinder~master~Ia43548a51fb009617b1deccac21ac0000a8a239a,openstack/cinder,master,bp/add-support-store-volume-format-info,Ia43548a51fb009617b1deccac21ac0000a8a239a,Fix: Extend fails after blockRebase,NEW,2020-11-18 13:34:57.000000000,2021-03-08 05:42:50.000000000,,105,53,6,763181,7154e6e1bd8dce2d35528b16fede8dd27e35afdc,152,18,6,5,27615,Rajat Dhasmana,whoami-rajat,"Fix: Extend fails after blockRebase

When we create a snapshot of attached volume and delete it, nova
performs a blockRebase operation which merges the base volume file
into the snapshot file.
This changes the volume's file name hence making it inaccessible
since the current code points to the original volume file.
This is fixed by storing the volume file path in the <volume>.info
file and updating it after every blockRebase operation.
This way we track the current volume file and can use it for operations
like extend volume.

Change-Id: Ia43548a51fb009617b1deccac21ac0000a8a239a
Closes-Bug: #1903319
"
openstack%2Fshade~master~I4fecbe536fda9d4232aa7902c72f06c2e32ea1e6,openstack/shade,master,create_port_add_host,I4fecbe536fda9d4232aa7902c72f06c2e32ea1e6,create port add host,ABANDONED,2021-01-19 07:24:19.000000000,2021-03-08 05:38:57.000000000,,5,2,0,771364,058f650dbf81f256f82de74f95a08f07c4a03298,6,1,2,1,32644,zhangxingjun,zhangxingjun,"create port add host

Add 'binding:host_id' field when create port and update port

Change-Id: I4fecbe536fda9d4232aa7902c72f06c2e32ea1e6
"
openstack%2Fpython-octaviaclient~master~Ie05570e3cb00c0f55376a5e31ef9d885d7ea7cbd,openstack/python-octaviaclient,master,add_batch_updating_members_settings,Ie05570e3cb00c0f55376a5e31ef9d885d7ea7cbd,Add batch udpating members settings,ABANDONED,2020-11-13 07:04:24.000000000,2021-03-08 05:38:45.000000000,,15,0,0,762620,79f64519b63de1575d8873e5cbef73a35bbf8afb,7,4,2,1,32644,zhangxingjun,zhangxingjun,"Add batch udpating members settings

Octavia api has batch updating members settings, but
python-octaviaclient does not.

Change-Id: Ie05570e3cb00c0f55376a5e31ef9d885d7ea7cbd
"
openstack%2Fdevstack~master~Id62e91b1609db4b1d2fa425010bac1ce77e9fc51,openstack/devstack,master,get-pip,Id62e91b1609db4b1d2fa425010bac1ce77e9fc51,Fix get-pip URL,ABANDONED,2021-03-08 04:43:13.000000000,2021-03-08 04:51:37.000000000,,1,1,0,779129,08595b2b359292e90c9c0559204643bf539e4e28,2,0,1,1,4393,Dan Smith,danms,"Fix get-pip URL

This has been failing to install with this message, which I think
means we need to change our URL for getting pip:

 The URL you are using to fetch this script has changed, and this one will no
 longer work. Please use get-pip.py from the following URL instead:
    https://bootstrap.pypa.io/pip/2.7/get-pip.py
 Sorry if this change causes any inconvenience for you!

Change-Id: Id62e91b1609db4b1d2fa425010bac1ce77e9fc51
"
openstack%2Fdesignate-dashboard~stable%2Fvictoria~I6bd42b175e74c9015db803eaaff09d908fae6a10,openstack/designate-dashboard,stable/victoria,temp-job-disable,I6bd42b175e74c9015db803eaaff09d908fae6a10,Fix lower-constrains job,ABANDONED,2021-03-08 03:25:56.000000000,2021-03-08 04:49:37.000000000,,2,6,2,779124,d52c77bc3be3c6b2c196fe3c8d350f97f730263e,4,3,1,2,841,Akihiro Motoki,amotoki,"Fix lower-constrains job

Applied the same fix as was done for designate.

hacking in lower-constraints.txt was too old and we cannot pass
the pip resolver. Linters are not used in lower-constraints job,
so we can safely drop them from lower-constraints.txt.

Change-Id: I6bd42b175e74c9015db803eaaff09d908fae6a10
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
(cherry picked from commit 9cc36c1ecc83f29b3984cead7dd35d2355765a27)
"
openstack%2Ftripleo-quickstart-extras~master~Ib1fa6bb3e69cead424837f97228ae1d829f4b2c7,openstack/tripleo-quickstart-extras,master,centos-8-stream-content-master,Ib1fa6bb3e69cead424837f97228ae1d829f4b2c7,Add dirs to be mounted when building containers - centos,MERGED,2021-03-05 19:54:59.000000000,2021-03-08 04:12:20.000000000,2021-03-07 21:27:11.000000000,12,0,1,779036,d7e9ca5ba2555f0af51edfd7e68ef124b40e3a86,17,5,1,1,9976,Ronelle Landy,rlandy,"Add dirs to be mounted when building containers - centos

centos 8 stream jobs require additional dirs
to be mounted when building containers.
This review adds those dirs when running Centos
8 and newer versions.

Change-Id: Ib1fa6bb3e69cead424837f97228ae1d829f4b2c7
"
openstack%2Fironic~master~I6c3dc74705bde02bd02882d14838f184f8d4a5e3,openstack/ironic,master,bp/instance-info-interface-override,I6c3dc74705bde02bd02882d14838f184f8d4a5e3,Allow instance_info to override node interface,MERGED,2021-02-24 16:52:01.000000000,2021-03-08 03:21:01.000000000,2021-03-08 03:19:40.000000000,78,8,4,777434,a165fe3264fd8f3a4bd7af9d7a958b9b3abf099f,33,3,3,5,7386,Tzu-Mainn Chen,tzumainn,"Allow instance_info to override node interface

This change allows instance_info values to override node interface
definitions, so non-admins can make temporary changes to various
interfaces.

Story: #2008652
Task: #41918
Change-Id: I6c3dc74705bde02bd02882d14838f184f8d4a5e3
"
openstack%2Fmanila-tempest-plugin~master~I0c35aff993e67c1ef44c27580f8c2c829a6275f7,openstack/manila-tempest-plugin,master,skip_micro,I0c35aff993e67c1ef44c27580f8c2c829a6275f7,Remove a duplicated skipped functions,MERGED,2021-02-21 09:15:11.000000000,2021-03-08 02:27:41.000000000,2021-03-08 02:27:41.000000000,144,144,0,776824,9dca2c46a16c2583fb62cfa7349648ed996d6cb8,11,5,2,39,19262,Liron Kuchlani,lkuchlan,"Remove a duplicated skipped functions

""skip_if_microversion_lt"" and ""skip_if_microversion_not_supported""
functions already exist under utils module.

Change-Id: I0c35aff993e67c1ef44c27580f8c2c829a6275f7
"
openstack%2Fdevstack~master~If05cb21611f72c65565d2b16917ecdf9e89c946f,openstack/devstack,master,bp/nova-support-webvnc-with-password-anthentication,If05cb21611f72c65565d2b16917ecdf9e89c946f,Add none rfb neigotiation type for vnc auth_schemes,ABANDONED,2021-03-01 04:24:17.000000000,2021-03-08 01:40:41.000000000,,1,1,2,777923,4c55dd5dd7f37230bf2aa13095129cc1993ce780,5,7,1,1,31412,Wenping Song,songwenping,"Add none rfb neigotiation type for vnc auth_schemes

As we need to use `vencrypt` rfb neigotiation to reset the vnc password,
we should add `none` type to auth_schemes for the tempest case.

Co-Authored-By: Brin Zhang <zhangbailin@inspur.com>

Blueprint: nova-support-webvnc-with-password-anthentication

Change-Id: If05cb21611f72c65565d2b16917ecdf9e89c946f
"
openstack%2Fmanila-tempest-plugin~master~Iade5b2658df59b7d6cdc9f69418afb16a0108353,openstack/manila-tempest-plugin,master,extra_specs,Iade5b2658df59b7d6cdc9f69418afb16a0108353,Fix extra specs for share type,MERGED,2021-02-17 19:43:29.000000000,2021-03-08 01:38:31.000000000,2021-03-08 01:38:31.000000000,3,3,5,776259,3024bb2bae37a9c2d8cc84fabe998f01f0f434f8,16,5,1,1,19262,Liron Kuchlani,lkuchlan,"Fix extra specs for share type

In case the backends don't have the same capabilities
share creation can fail. For instance, if one of the
backend has the ability to create share from snapshot
and the other does not.
In case ""capability_create_share_from_snapshot_support""
parameter is defined in tempest.conf and it is also
specified in extra specs one of the share will fail to
create.

Change-Id: Iade5b2658df59b7d6cdc9f69418afb16a0108353
"
openstack%2Fcyborg~master~Ifa8598715077696921bf535ea168f29b787292fd,openstack/cyborg,master,bug-fix01,Ifa8598715077696921bf535ea168f29b787292fd,improve drivers with enumerate(),MERGED,2021-03-02 12:35:00.000000000,2021-03-08 01:17:25.000000000,2021-03-08 01:16:20.000000000,8,11,4,778183,15b1d6287467f0d6b96269bbb05741f10ad050bf,18,4,3,3,25738,Xinran WANG,Xinran,"improve drivers with enumerate()

Change-Id: Ifa8598715077696921bf535ea168f29b787292fd
"
openstack%2Fcinder~master~Ib7856390053d75bd845476f25891923873bf3078,openstack/cinder,master,secure-rbac,Ib7856390053d75bd845476f25891923873bf3078,Simplify composite check strings for project personas,MERGED,2021-02-17 02:36:10.000000000,2021-03-08 01:05:02.000000000,2021-03-07 18:05:06.000000000,6,0,0,775959,f8e569864f46764fe4befbeb297254082c09bdea,75,5,2,1,5046,Lance Bragstad,ldbragst,"Simplify composite check strings for project personas

This commit adds two check strings to cinder's base policies that
simplify project personas.

The is_admin_project check isn't used in the admin_or_owner rule. The
is_admin property of the context object actually evaluates to
context_is_admin, which just checks if 'admin' is in context.roles.

This check string simplies the indirection. Future patches will likely
change many of the admin_or_owner checks to support system-scope, which
will require modifications to the existing deprecated defaults.

The other thing this change does is include project-reader and
project-member personas into cinder's default check strings. While
cinder doesn't fully support system-scope, we can still pursue
project-personas, allowing a more consistent experience across OpenStack
services.

Change-Id: Ib7856390053d75bd845476f25891923873bf3078
"
openstack%2Fkarbor~master~I25a0dc5968c155cc7b6dd36e693bf0afde7a30f4,openstack/karbor,master,,I25a0dc5968c155cc7b6dd36e693bf0afde7a30f4,add unittest for restore api,ABANDONED,2020-03-16 07:01:25.000000000,2021-03-08 01:04:03.000000000,,26,0,0,713167,cc47b89d5735a0a2582617712e4e57b19e267cce,8,3,1,1,29147,wangwei1,wangwei1,"add unittest for restore api

Change-Id: I25a0dc5968c155cc7b6dd36e693bf0afde7a30f4
"
openstack%2Ffreezer-api~master~I9799f2db01ad2cfd22c1f215414379cdf91053fb,openstack/freezer-api,master,,I9799f2db01ad2cfd22c1f215414379cdf91053fb,DNM: tesing gate,ABANDONED,2021-03-07 23:46:10.000000000,2021-03-08 00:36:50.000000000,,1,0,0,779116,8cafdd34964f42b7bfd59800e2c797099e642b0a,3,1,1,1,8556,Ghanshyam,ghanshyam,"DNM: tesing gate

Change-Id: I9799f2db01ad2cfd22c1f215414379cdf91053fb
"
openstack%2Fmagnum~master~I4c740de0ed3127a9d7fbb2a72e0ce8203058d8c9,openstack/magnum,master,,I4c740de0ed3127a9d7fbb2a72e0ce8203058d8c9,DNM: tetsing tox cover job,ABANDONED,2021-03-07 23:40:44.000000000,2021-03-08 00:36:31.000000000,,0,15,0,779115,31884db9aef49158f9b415c642bd78e3843104d2,3,1,1,1,8556,Ghanshyam,ghanshyam,"DNM: tetsing tox cover job

Change-Id: I4c740de0ed3127a9d7fbb2a72e0ce8203058d8c9
"
openstack%2Fneutron-vpnaas-dashboard~master~I603542251dbbecc0796839621f0eb8fba2d35a19,openstack/neutron-vpnaas-dashboard,master,zanata/translations,I603542251dbbecc0796839621f0eb8fba2d35a19,Imported Translations from Zanata,MERGED,2020-12-11 07:35:49.000000000,2021-03-08 00:21:33.000000000,2021-03-08 00:20:16.000000000,6,9,0,766678,f0a1186b5f0328837fe4038d4dda766b4cb8987f,11,4,2,3,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I603542251dbbecc0796839621f0eb8fba2d35a19
"
openstack%2Fsahara-dashboard~master~Iba394881cb0415923fdd31aa7b20efb9e69e52a0,openstack/sahara-dashboard,master,zanata/translations,Iba394881cb0415923fdd31aa7b20efb9e69e52a0,Imported Translations from Zanata,MERGED,2021-03-03 08:11:05.000000000,2021-03-08 00:20:12.000000000,2021-03-08 00:20:12.000000000,2,2,0,778382,084b61a636789ec32ddc9d34f34fc4ab7fb7ec0a,9,3,2,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iba394881cb0415923fdd31aa7b20efb9e69e52a0
"
openstack%2Fneutron~stable%2Fvictoria~I8ced69f4f8e7d7c73da130a57e89e9d66590390b,openstack/neutron,stable/victoria,bug/1916024,I8ced69f4f8e7d7c73da130a57e89e9d66590390b,[L3][HA] Retry when setting HA router GW status.,MERGED,2021-03-03 16:55:04.000000000,2021-03-08 00:05:26.000000000,2021-03-08 00:03:57.000000000,14,5,0,778503,b9073d7c3bc9d1d9254294d698a6fae319fd22ad,30,4,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[L3][HA] Retry when setting HA router GW status.

When a HA router instance changes the state (active, backup), the
GW interface is set to up or down. As reported in the bug, while
keepalived is configuring the interface, the interface disappears
and appears again from the kernel namespace, as seen in the udev
messages.

This patch is a workaround until the real issue is addressed (if
possible), retrying the interface configuration for a small period
of time.

Related-Bug: #1916024

Change-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b
(cherry picked from commit 662f483120972a373e19bde52f16392e2ccb9c82)
"
openstack%2Fmanila~master~I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295,openstack/manila,master,bp/share-size-limited-by-share-type,I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295,Adds support min/max share size limited by share_type,MERGED,2020-12-08 11:40:49.000000000,2021-03-07 23:00:52.000000000,2021-03-07 22:59:36.000000000,242,1,38,765975,74415f6d4a7bb8b72be3e81abf79fd8597100f27,72,8,11,12,30407,haixin,haixin,"Adds support min/max share size limited by share_type

Allows set min/max share size that can be created in
extra_specs for each share_type.the share size will
be checked at API level as part of share create,
extend, shrink, migration_start. when manage share,
check it after get true size of share at manager layer.
new extra_specs keys are supported for set min/max
size of share.
'provisioning:max_share_size'
'provisioning:min_share_size'

Implements: blueprint share-size-limited-by-share-type
Change-Id: I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295
"
openstack%2Fglance~master~Ie86e0ae16c81fb7aa353dd350f0a4f3cf852d893,openstack/glance,master,secure-rbac,Ie86e0ae16c81fb7aa353dd350f0a4f3cf852d893,Fix test_cache_middleware ImageStub,MERGED,2021-03-07 16:15:14.000000000,2021-03-07 22:16:07.000000000,2021-03-07 22:14:43.000000000,32,8,0,779103,81fea796d979cd8bba8211ee29b05f951ada1944,12,3,1,1,4393,Dan Smith,danms,"Fix test_cache_middleware ImageStub

This fixes the ImageStub in the test_cache_middleware module, which
does not implement enough of a real image to be usable in the next
patch where we need to dict() it. This does that refactor ahead of
time so that patch is smaller.

Change-Id: Ie86e0ae16c81fb7aa353dd350f0a4f3cf852d893
"
openstack%2Frequirements~master~Ieac1adaed9f40d51e8f18b981417d0052ea81c67,openstack/requirements,master,openstack/requirements/constraints/noclob,Ieac1adaed9f40d51e8f18b981417d0052ea81c67,Updated from generate-constraints,MERGED,2021-03-07 06:29:42.000000000,2021-03-07 22:01:37.000000000,2021-03-07 22:00:33.000000000,4,4,0,779091,ac8bcb00122ccd4c4c8cc22612c14c3c37624026,12,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Held back tenacity-7.0.0
Readded setuptools
removed pkg-resources

Change-Id: Ieac1adaed9f40d51e8f18b981417d0052ea81c67
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fglance~master~Id5251b77fe1671594912e0dcfef7296007dab9b5,openstack/glance,master,bug/1914826,Id5251b77fe1671594912e0dcfef7296007dab9b5,Make copy_image plugin use action wrapper,MERGED,2021-02-09 20:14:25.000000000,2021-03-07 22:00:14.000000000,2021-03-07 21:58:56.000000000,52,4,0,774727,a3af0719975bd38cd6abdf17aa3a014adf3b46ac,20,2,2,4,4393,Dan Smith,danms,"Make copy_image plugin use action wrapper

This makes the copy_image plugin use the action wrapper for its
manipulation of the image, in line with all the others. This adds
image_size and image_locations properties to the wrapper, which
copy-image needs.

Change-Id: Id5251b77fe1671594912e0dcfef7296007dab9b5
"
openstack%2Fneutron~stable%2Fussuri~Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,openstack/neutron,stable/ussuri,bug/1917448-stable/victoria-stable/ussuri,Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,Fix wrong packet_type set for IPv6 GRE tunnels in OVS,MERGED,2021-03-03 10:20:21.000000000,2021-03-07 21:36:48.000000000,2021-03-07 21:35:19.000000000,3,2,0,778255,664ee1d6d4b5c183bdcbf9af3fa0c045eea91747,20,3,1,3,11975,Slawek Kaplonski,slaweq,"Fix wrong packet_type set for IPv6 GRE tunnels in OVS

In patch [1] it was by mistake set to ""legacy"" but it should be
""legacy_l2"".
This patch fixes that mistake.

Closes-bug: #1917448

[1] https://review.opendev.org/c/openstack/neutron/+/763204

Conflicts:
    neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238
(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)
"
openstack%2Ftripleo-quickstart~master~I1d6376dc9706dffc5b822925889538b13235410c,openstack/tripleo-quickstart,master,centos-8-stream-content-master,I1d6376dc9706dffc5b822925889538b13235410c,Update master release to c8 stream repos/image,MERGED,2021-02-25 19:19:33.000000000,2021-03-07 18:19:55.000000000,2021-03-07 18:18:29.000000000,7,7,1,777655,139b5f35d95e29ee9757405cd7b2e4593580a975,21,7,2,1,9976,Ronelle Landy,rlandy,"Update master release to c8 stream repos/image

Pull centos-8 stream repos when running jobs on
the master branch.
Check jobs will match integration jobs - the repos
for which are being updated in
https://review.opendev.org/c/openstack/tripleo-quickstart/+/774911.

Tested in patch:
https://review.opendev.org/c/openstack/tripleo-ci/+/771717:
(note the repos used in check jobs on that patch)

Change-Id: I1d6376dc9706dffc5b822925889538b13235410c
"
openstack%2Fhorizon~master~If961997b85e6e03aa7349f20a5d7bd68834976a5,openstack/horizon,master,zanata/translations,If961997b85e6e03aa7349f20a5d7bd68834976a5,Imported Translations from Zanata,MERGED,2021-03-03 06:48:45.000000000,2021-03-07 17:42:54.000000000,2021-03-07 17:41:39.000000000,145,189,0,778366,87edcb619394aebdd022683441f66536f7d3a9c0,15,3,4,26,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If961997b85e6e03aa7349f20a5d7bd68834976a5
"
openstack%2Ftripleo-ci~master~If0fff013de9029c98c5d5630f6ef2faeb899df8b,openstack/tripleo-ci,master,centos-8-stream-content-master,If0fff013de9029c98c5d5630f6ef2faeb899df8b,Add volume_mounts for centos 8 container builds,MERGED,2021-03-04 21:49:11.000000000,2021-03-07 16:07:20.000000000,2021-03-07 16:07:20.000000000,5,0,0,778782,1a28214ec75908e3285611fb1dc319f5c7f2bb6a,20,5,2,1,9976,Ronelle Landy,rlandy,"Add volume_mounts for centos 8 container builds

centos 8 stream jobs require additional dirs
to be mounted when building containers.
This reviwe adds those dir to the centos-8
vars.

Change-Id: If0fff013de9029c98c5d5630f6ef2faeb899df8b
"
openstack%2Fneutron~stable%2Fstein~Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,openstack/neutron,stable/stein,bug/1907068-stable/victoria-stable/ussuri-stable/train-stable/stein,Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,Add some wait time between stopping and starting again ovsdb monitor,MERGED,2021-03-05 09:37:30.000000000,2021-03-07 16:06:57.000000000,2021-03-07 16:05:30.000000000,4,0,0,778828,51ba854a0c326390737c4f83a283c34805c819d4,20,3,1,1,11975,Slawek Kaplonski,slaweq,"Add some wait time between stopping and starting again ovsdb monitor

In functional tests of the ovsdb_monitor, sometimes during high load
of the host where tests are run, ""error"" message from the killed process
can be received by neutron's async_process after new process was
already spawned.
And that causes failure of the test as new ovsdb_monitor will not
receive events which are expected.

To workaround that issue this patch adds sleep for few seconds between
stopping old and starting new ovsdb_monitor process.

Closes-Bug: #1907068
Change-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c
(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)
"
openstack%2Fglance~master~Ib1138ee2cd0383f14c710716f3c103a146b0c4dd,openstack/glance,master,bug/1914826,Ib1138ee2cd0383f14c710716f3c103a146b0c4dd,Make inject_image_metadata use action wrapper,MERGED,2021-02-09 20:14:25.000000000,2021-03-07 16:06:54.000000000,2021-03-07 16:05:36.000000000,32,22,0,774726,2e06864b2c0126aabd57df84a0830789663f2119,29,2,2,3,4393,Dan Smith,danms,"Make inject_image_metadata use action wrapper

This makes the inject_image_metadata task use the ImportActionWrapper.
Because of the inbuilt rejection of internal os_glance_* property
manipulation, this also brings an operator-visible change to the
injection behavior. Specifically, os_glance_* keys can no longer be
injected via config (nor should they ever have been).

Change-Id: Ib1138ee2cd0383f14c710716f3c103a146b0c4dd
"
openstack%2Fkuryr~master~I5f761b1d4bd04345bb339d251b8de95817a76cce,openstack/kuryr,master,,I5f761b1d4bd04345bb339d251b8de95817a76cce,remove unicode from code,MERGED,2021-03-04 02:39:34.000000000,2021-03-07 15:41:40.000000000,2021-03-07 15:40:33.000000000,11,11,0,778603,8ef17575c8498c82d3484866e5da11f877145537,10,4,1,2,32291,wushiming,wushiming,"remove unicode from code

In Python 3, all strings are represented in Unicode.In Python 2 are
stored internally as 8-bit ASCII, hence it is required to attach 'u'
to make it Unicode. It is no longer necessary now.'

Change-Id: I5f761b1d4bd04345bb339d251b8de95817a76cce
"
openstack%2Fneutron~stable%2Fussuri~I8ced69f4f8e7d7c73da130a57e89e9d66590390b,openstack/neutron,stable/ussuri,bug/1916024,I8ced69f4f8e7d7c73da130a57e89e9d66590390b,[L3][HA] Retry when setting HA router GW status.,MERGED,2021-03-03 16:55:55.000000000,2021-03-07 14:26:00.000000000,2021-03-07 14:24:03.000000000,14,5,0,778504,590551dbbff5ba0b2a43772c3ef117377f783db8,17,3,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[L3][HA] Retry when setting HA router GW status.

When a HA router instance changes the state (active, backup), the
GW interface is set to up or down. As reported in the bug, while
keepalived is configuring the interface, the interface disappears
and appears again from the kernel namespace, as seen in the udev
messages.

This patch is a workaround until the real issue is addressed (if
possible), retrying the interface configuration for a small period
of time.

Related-Bug: #1916024

Change-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b
(cherry picked from commit 662f483120972a373e19bde52f16392e2ccb9c82)
"
openstack%2Fnova~master~If9f3ede3e8449f9a6c8d1da927974c0a73923d51,openstack/nova,master,bp/smarter-usb-devices,If9f3ede3e8449f9a6c8d1da927974c0a73923d51,libvirt: Add support for virtio-based input devices,MERGED,2020-10-07 16:09:44.000000000,2021-03-07 14:25:55.000000000,2021-03-07 14:24:16.000000000,180,47,6,756552,3f63c68195d296ad44cff615a470cd11518a41df,97,13,9,12,15334,Stephen Finucane,sfinucan,"libvirt: Add support for virtio-based input devices

The USB-based tablet is often the only USB device in an x86 instance,
while the USB-based keyboard is often the only such device in an AArch64
instance (x86 have PS2 keyboards and mice). Replacing these with
virtio-based devices can eliminate the need to have a USB host adapter
in the instance. Enable just that possibility by adding a new value
image metadata property, 'hw_input_bus'. This allows us to specify not
only virtio-based pointer and keyboard input devices but also USB
equivalents.

Note that this also fixes one instance of a particular class of bugs,
whereby we have checks for *guest* architecture-specific behavior that
are being toggled based on the *host* architecture. In this instance,
we were attempting to add a keyboard device on AArch64 guests since they
don't have one by default, but we were determining the architecture by
looking at the CPU architecture reported in the host capabilities. By
replacing this check of the host capabilities with a call to the
'nova.virt.libvirt.utils.get_arch' helper, we correctly handle requests
to create non-host architecture guests via the 'hw_architecture' image
metadata property. There are many other instances of this bug and those
can be resolved separately.

Change-Id: If9f3ede3e8449f9a6c8d1da927974c0a73923d51
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fneutron~stable%2Ftrain~I8ced69f4f8e7d7c73da130a57e89e9d66590390b,openstack/neutron,stable/train,bug/1916024,I8ced69f4f8e7d7c73da130a57e89e9d66590390b,[L3][HA] Retry when setting HA router GW status.,MERGED,2021-03-03 16:56:20.000000000,2021-03-07 14:22:59.000000000,2021-03-07 14:21:43.000000000,14,5,0,778505,12c07ba3ea9c6501dd7494561e2920496407c48b,23,3,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[L3][HA] Retry when setting HA router GW status.

When a HA router instance changes the state (active, backup), the
GW interface is set to up or down. As reported in the bug, while
keepalived is configuring the interface, the interface disappears
and appears again from the kernel namespace, as seen in the udev
messages.

This patch is a workaround until the real issue is addressed (if
possible), retrying the interface configuration for a small period
of time.

Related-Bug: #1916024

Change-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b
(cherry picked from commit 662f483120972a373e19bde52f16392e2ccb9c82)
"
openstack%2Fnova~master~Ib40c25db2c16373677ff32e4e95292fbab498751,openstack/nova,master,remove-custom-schedulers,Ib40c25db2c16373677ff32e4e95292fbab498751,conf: Drop '[scheduler] periodic_task_interval',MERGED,2021-02-02 11:28:48.000000000,2021-03-07 12:29:56.000000000,2021-03-07 12:28:10.000000000,3,35,0,773638,9d53f366ff8c9a29c4ddbf0fa27febbce7442fc9,19,4,2,5,15334,Stephen Finucane,sfinucan,"conf: Drop '[scheduler] periodic_task_interval'

As the help text for this option stated:

  Currently there are no in-tree scheduler driver [sic] that use this
  option.

Now that we no longer support out-of-tree drivers, it's time to remove
this. Do so.

Change-Id: Ib40c25db2c16373677ff32e4e95292fbab498751
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I546d3d329a69acaad3ada48ccbfddf3a274b6ce2,openstack/nova,master,remove-custom-schedulers,I546d3d329a69acaad3ada48ccbfddf3a274b6ce2,Drop support for custom schedulers,MERGED,2021-02-02 11:28:48.000000000,2021-03-07 11:37:22.000000000,2021-03-07 11:35:48.000000000,19,60,2,773637,5aeb3a387494c4559d183d1290db3c92a96dfb90,31,3,2,7,15334,Stephen Finucane,sfinucan,"Drop support for custom schedulers

We deprecated this functionality in Ussuri and can now remove it. It's
highly unlikely that there exists a functioning alternative to this
scheduler and it's not something we can really support nowadays.

Change-Id: I546d3d329a69acaad3ada48ccbfddf3a274b6ce2
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkolla-ansible~master~Ia082a1c002cc4e8b04f7696fdee827b747c6d13f,openstack/kolla-ansible,master,zookeeper-cfg-syntax,Ia082a1c002cc4e8b04f7696fdee827b747c6d13f,Remove whitespace around equal signs in zookeeper.cfg,MERGED,2021-03-04 16:58:00.000000000,2021-03-07 11:06:27.000000000,2021-03-07 11:04:54.000000000,60,5,5,778751,2b723ead051b7f722ad61db1bb65a07259817719,14,3,2,4,15197,Pierre Riteau,priteau,"Remove whitespace around equal signs in zookeeper.cfg

The merge_configs action plugin is updated with an option to control
whether whitespace should be used around equal signs. The default
remains to use whitespace: only zookeeper.cfg doesn't use them.

This is to avoid issues with the zkCleanup.sh script which expects no
whitespace. The ZooKeeper documentation also uses no whitespace in
configuration file examples.

Change-Id: Ia082a1c002cc4e8b04f7696fdee827b747c6d13f
Closes-Bug: #1917490
"
openstack%2Fmanila-specs~master~I225e178c2c03ee31fc749c5a708be17e7dfeae74,openstack/manila-specs,master,,I225e178c2c03ee31fc749c5a708be17e7dfeae74,Add xena directory for specs,ABANDONED,2021-03-04 02:05:39.000000000,2021-03-07 10:58:30.000000000,,15,0,0,778601,1f74d85611d98fa8c131f2164cd6b6e2c2dad14c,4,1,1,2,32326,YuehuiLei,YuehuiLei,"Add xena directory for specs

Change-Id: I225e178c2c03ee31fc749c5a708be17e7dfeae74
"
openstack%2Fglance~master~Ifc2f49d49ff62c49c7dd1d2174a78bb1451b7bf3,openstack/glance,master,bug/1914826,Ifc2f49d49ff62c49c7dd1d2174a78bb1451b7bf3,Fix nonsensical test mocks and assertions,MERGED,2021-02-09 20:14:25.000000000,2021-03-07 10:33:24.000000000,2021-03-07 10:32:12.000000000,12,24,4,774725,b1e757884aa1a10c939337ba83caf9bf8d615305,19,3,2,1,4393,Dan Smith,danms,"Fix nonsensical test mocks and assertions

The test_inject_image_metadata test was doing some completely
nonsensical mock behavior, like mocking something after we have
run the method under test, and re-mocking the image repo with the
thing that was supposed to change so that the assertions were not
even checking the actual behavior. None of the three tests were
actually testing the desired behavior.

In the case of the admin_user test, it was also asserting that things
were not run that *should* be, probably because the mocks were done
after the execution and asserting that they *were* run would never
work.

This also wires up the image and image_repo mocks that were in
setUp(), but unused (and incorrect) so that we can assert the calls
are actually as we expect.

Change-Id: Ifc2f49d49ff62c49c7dd1d2174a78bb1451b7bf3
"
openstack%2Fnova~master~I4abee9b93fe3840e463325c6cf7b2b52448bfca4,openstack/nova,master,bp/compact-db-migrations-wallaby,I4abee9b93fe3840e463325c6cf7b2b52448bfca4,apidb: Compact Pike database migrations,MERGED,2020-10-23 11:42:17.000000000,2021-03-07 10:16:37.000000000,2021-03-07 10:15:09.000000000,83,500,5,759403,31f01aa44f8e2e82277c567c3b91631f62cb68a3,67,12,5,17,15334,Stephen Finucane,sfinucan,"apidb: Compact Pike database migrations

Specific changes include:

- Add 'traits' and 'resource_provider_traits' tables (041)
- Add 'tags' column to 'build_requests' table (042)
- Add 'consumers' table (043)
- Add 'projects', 'users' tables (044)
- Change type of 'project_id' and 'user_id' columns of 'consumers' table to 'Integer' (044)

Change-Id: I4abee9b93fe3840e463325c6cf7b2b52448bfca4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fglance~master~I0574ee3daf08d59b4547e353c921451e756e09f6,openstack/glance,master,bug/1914826,I0574ee3daf08d59b4547e353c921451e756e09f6,Allow plugins to mutate image extra_properties,MERGED,2021-02-09 20:14:25.000000000,2021-03-07 09:49:48.000000000,2021-03-07 09:48:29.000000000,60,0,2,774724,e54a1a52ec246e199d2a9731a390111ae3ba61da,32,2,2,2,4393,Dan Smith,danms,"Allow plugins to mutate image extra_properties

This adds a set_image_extra_properties() method to the action wrapper.
It specifically disallows setting os_glance_* properties, for two
reasons. First, several (such as the task lock and the store lists)
need special handling to be atomic. Second, setting os_glance_*
properties from image metadata injection is almost definitely
destined for failure, now or later, as it would muck with our
internals. As discussed during the work to formally reserve that
namespace from the API, we also need to make sure operators do not
set these keys during injection.

This makes us drop any such keys, with appropriate logging. The
next patch will make the metadata injection task use this and is
the point at which we will actually change that behavior.

Change-Id: I0574ee3daf08d59b4547e353c921451e756e09f6
"
openstack%2Fcinder~master~I31eff1e4ee0acb1252582c07bab973a367c3c3e7,openstack/cinder,master,bug/1917287,I31eff1e4ee0acb1252582c07bab973a367c3c3e7,Get rid of renaming error logs under special context,NEW,2021-03-01 22:33:54.000000000,2021-03-07 09:27:29.000000000,,7,1,0,778085,7908d986bf3732ba5021463410d06bbde1fe97ec,18,1,1,1,30696,zhaoleilc,zhaoleilc,"Get rid of renaming error logs under special context

This patch allows to retype between two pools for same
inspur storage without displaying renaming error logs in
case ambiguous error logs give users a misconception.

Closes-Bug: #1917287
Change-Id: I31eff1e4ee0acb1252582c07bab973a367c3c3e7
"
openstack%2Fos-brick~master~I0278c502806b99f8ec65cb146e3852e43031e9b8,openstack/os-brick,master,bug/1915678,I0278c502806b99f8ec65cb146e3852e43031e9b8,Avoid unhandled exceptions during connecting to iSCSI portals,MERGED,2021-02-15 02:08:21.000000000,2021-03-07 06:35:43.000000000,2021-03-05 22:29:12.000000000,34,10,16,775545,4478433550ddab970f106636a4ba5fbba82c5e39,104,5,5,3,9816,Takashi Kajinami,kajinamit,"Avoid unhandled exceptions during connecting to iSCSI portals

Currently we don't properly catch some possible exceptions during
connectiing to iSCSI portals, like failures in ""iscsiadm -m session"".
Because of this _connect_vol threads can abort unexpectedly in some
failure patterns, and this abort causes hung in subsequent steps
waiting for results from _connct_vol threads.

This change ensures that any exceptions during connecting to iSCSI
portals are handled in the _connect_vol method corectly, to avoid
unexpected abort without updating thread results.

Closes-Bug: #1915678
Change-Id: I0278c502806b99f8ec65cb146e3852e43031e9b8
"
openstack%2Fos-brick~master~I94c00afc80f20965a0b391ee3bf21162b827bd31,openstack/os-brick,master,nvmeof_connector_compatibility,I94c00afc80f20965a0b391ee3bf21162b827bd31,NVMeOF connector driver connection information compatibility fix,MERGED,2021-02-23 10:00:47.000000000,2021-03-07 05:18:07.000000000,2021-03-05 23:13:58.000000000,861,134,65,777086,5e71a2daa40b0b8da93a784c78a304185bc84480,186,8,15,4,16721,Zohar Mamedov,zohar,"NVMeOF connector driver connection information compatibility fix

Merges the original nvmeof.py connector with the refactor change ""NVMeOF Connector support MDRAID replication"" such that the new features introduced in the mdraid+ change are only used when 'volume_replicas' is specified in the connection information.

Also includes a couple minor fixes to the nvmeof v2/mdraid+ mode of operation: host nqn generation and handling of raising connect volume exceptions.

Closes-Bug: #1916264
Change-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31
"
openstack%2Fglance~master~I575dbc45781aaed521aeb5ef085322ad2018f378,openstack/glance,master,bug/1914826,I575dbc45781aaed521aeb5ef085322ad2018f378,Make image_conversion use action wrapper,MERGED,2021-02-09 20:14:25.000000000,2021-03-07 03:27:16.000000000,2021-03-07 03:26:05.000000000,31,21,0,774723,d2bb1252e6192773cdb7960c25f8031ae896fd71,24,2,1,2,4393,Dan Smith,danms,"Make image_conversion use action wrapper

This makes the image_conversion plugin use the action wrapper for
its image inspection and mutation activities.

Note that several important actions from the execute handler are not
asserted in the test, so this adds those checks to make sure they
are actually happening.

Change-Id: I575dbc45781aaed521aeb5ef085322ad2018f378
"
openstack%2Fproject-config~master~I2fd3672f0ba2f50a7660f2f4f420ca62fb6d4527,openstack/project-config,master,,I2fd3672f0ba2f50a7660f2f4f420ca62fb6d4527,Add zuul-client to openstack tenant,MERGED,2021-03-07 02:40:16.000000000,2021-03-07 03:13:11.000000000,2021-03-07 02:54:49.000000000,1,0,0,779090,4527c552a2ef9fdb7587fcd7d0a8a5575e64f262,8,3,1,1,1,James E. Blair,corvus,"Add zuul-client to openstack tenant

Apparently the openstack tenant wants the zuul repo in it.  It's
going to need zuul-client too since they share jobs.

Change-Id: I2fd3672f0ba2f50a7660f2f4f420ca62fb6d4527
"
openstack%2Fneutron~stable%2Fvictoria~Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,openstack/neutron,stable/victoria,bug/1917448-stable/victoria,Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,Fix wrong packet_type set for IPv6 GRE tunnels in OVS,MERGED,2021-03-03 10:19:50.000000000,2021-03-07 02:51:29.000000000,2021-03-07 02:50:07.000000000,3,2,0,778400,467e5d8645652a6659973fa359543be4ed40781d,24,4,1,3,11975,Slawek Kaplonski,slaweq,"Fix wrong packet_type set for IPv6 GRE tunnels in OVS

In patch [1] it was by mistake set to ""legacy"" but it should be
""legacy_l2"".
This patch fixes that mistake.

Closes-bug: #1917448

[1] https://review.opendev.org/c/openstack/neutron/+/763204

Conflicts:
    neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238
(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)
"
openstack%2Frequirements~master~Ia1aad0c61ae9959b3dfa4e148f0a3ce332d774af,openstack/requirements,master,test-docutils-0.16,Ia1aad0c61ae9959b3dfa4e148f0a3ce332d774af,DNM: test docutils-0.16,ABANDONED,2020-03-28 17:30:45.000000000,2021-03-07 01:15:53.000000000,,1,1,0,715641,83af27157323366875f30a24fbe9865f0edecdee,8,2,2,1,14288,Matthew Thode,prometheanfire,"DNM: test docutils-0.16

Change-Id: Ia1aad0c61ae9959b3dfa4e148f0a3ce332d774af
"
openstack%2Ftempest~master~I6e4e590a1315825677b835e626e15174c5e69cb5,openstack/tempest,master,,I6e4e590a1315825677b835e626e15174c5e69cb5,Add release notes for an Wallaby intermediate release.,MERGED,2021-02-27 15:45:48.000000000,2021-03-07 01:15:41.000000000,2021-03-07 01:12:25.000000000,4,0,0,777865,b8169f5a3833b55065abb1a937e44853d028d614,15,4,5,1,8556,Ghanshyam,ghanshyam,"Add release notes for an Wallaby intermediate release.

Change-Id: I6e4e590a1315825677b835e626e15174c5e69cb5
"
openstack%2Ftempest~master~I9053faa255e3680d7f870e3cdedf62fb2eb5cb1a,openstack/tempest,master,bug/1917168,I9053faa255e3680d7f870e3cdedf62fb2eb5cb1a,Support scope in dynamic cred for specific roles,MERGED,2021-03-03 00:13:16.000000000,2021-03-07 01:14:27.000000000,2021-03-07 01:12:16.000000000,523,19,2,778342,2d0da049d0b0c401e9633c8f31336f1ff9e4aa7a,27,2,4,8,8556,Ghanshyam,ghanshyam,"Support scope in dynamic cred for specific roles

We already added scope support for 'admin', 'member',
and 'reader' role. This commit is to adds the scope
support for specific roles, basically in get_creds_by_roles().

Test can now request the scope along with the number of roles
using the scope as prefix in credential type. Fpr example:

    credentials = [['my_role', 'role1'], # this will be old style and project scoped
                   ['project_my_role', 'role1'], # this will be project scoped
                   ['domain_my_role', 'role1'], # this will be domain scoped
                   ['system_my_role', 'role1']] # this will be system scoped

and below is how test can access the credential manager of respective
credentials type:

    cls.os_my_role.any_client
    cls.os_project_my_role.any_client
    cls.os_domain_my_role.any_client
    cls.os_system_my_role.any_client

Closes-Bug: #1917168
Change-Id: I9053faa255e3680d7f870e3cdedf62fb2eb5cb1a
"
openstack%2Frequirements~master~I6a526d3011e4f7ea7a522b7d3c1057e97c8577dd,openstack/requirements,master,openstack/requirements/constraints/noclob,I6a526d3011e4f7ea7a522b7d3c1057e97c8577dd,Updated from generate-constraints,MERGED,2021-03-05 06:29:15.000000000,2021-03-07 01:13:52.000000000,2021-03-07 01:12:47.000000000,23,23,0,778844,dd7ba07bc996fc076a120b26e1926ae14653555e,18,2,4,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

hold back tenacity-7.0.0

Change-Id: I6a526d3011e4f7ea7a522b7d3c1057e97c8577dd
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fos-brick~master~I24704ab5b74b2f5bdc5b2343ed5ea1ae6acfe973,openstack/os-brick,master,,I24704ab5b74b2f5bdc5b2343ed5ea1ae6acfe973,Move os-brick to new hacking 4.0.0,MERGED,2021-02-10 15:14:52.000000000,2021-03-07 00:43:31.000000000,2021-03-05 01:44:45.000000000,5,5,0,774883,7faaf75948aec53dfe4f294470346ec464c74731,70,6,5,3,30615,Tushar Trambak Gite,tushargite96,"Move os-brick to new hacking 4.0.0

Change-Id: I24704ab5b74b2f5bdc5b2343ed5ea1ae6acfe973
"
openstack%2Fcinder~master~I394343fc2db128f3cead741846cde684196c3c05,openstack/cinder,master,bug/1912451,I394343fc2db128f3cead741846cde684196c3c05,[SVF] Update volume replication properties,MERGED,2021-01-20 07:22:55.000000000,2021-03-07 00:42:50.000000000,2021-03-05 08:09:44.000000000,103,14,20,771563,01c9aba1fa12cfdd3e3ebd0a50974037c5c09ee2,192,8,6,3,32266,Venkata krishna Thumu,venkatakrishnathumu,"[SVF] Update volume replication properties

[Spectrum Virtualize Family] Updated replication properties for
HyperSwap volumes and volumes with replication enabled that were
missing from volume metadata.

closes bug: #1912451

Change-Id: I394343fc2db128f3cead741846cde684196c3c05
"
openstack%2Fos-brick~master~Ie7dcc859e1291bd1d50b1ae516be38d8732de836,openstack/os-brick,master,update-requirements,Ie7dcc859e1291bd1d50b1ae516be38d8732de836,Update requirements for wallaby release,MERGED,2021-03-05 02:04:22.000000000,2021-03-06 23:29:16.000000000,2021-03-05 15:56:21.000000000,32,33,1,778807,9a59547a4bde51682e9f960c37a40b6f1d10d2ac,17,5,1,4,5314,Brian Rosmaita,brian-rosmaita,"Update requirements for wallaby release

Raise the minimum versions in the various requirements files to
reflect what we're actually testing with right now.

Change-Id: Ie7dcc859e1291bd1d50b1ae516be38d8732de836
"
openstack%2Felection~master~Iea2bd07e34e4e2c800618eb9fff8c47515486df1,openstack/election,master,,Iea2bd07e34e4e2c800618eb9fff8c47515486df1,Add Gage Hugo candidacy for OpenStack Helm,MERGED,2021-03-05 20:41:28.000000000,2021-03-06 22:44:24.000000000,2021-03-06 22:43:16.000000000,14,0,0,779046,290456b7bde6b8d5c2b722700c0ee45fc28d7d17,8,3,1,1,21420,Gage Hugo,ghugo,"Add Gage Hugo candidacy for OpenStack Helm

Change-Id: Iea2bd07e34e4e2c800618eb9fff8c47515486df1
"
openstack%2Fpython-tripleoclient~master~Ib42a655a93a647651a20f1d6ac42fcb96bb4c271,openstack/python-tripleoclient,master,ux-cli,Ib42a655a93a647651a20f1d6ac42fcb96bb4c271,UX improvement when no nodes are found,MERGED,2021-03-04 21:18:46.000000000,2021-03-06 21:59:39.000000000,2021-03-06 21:58:31.000000000,5,0,0,778778,590df6635b7bd1f38e99a038b7db54c41976bd0e,12,3,1,1,7353,Kevin Carter,cloudnull,"UX improvement when no nodes are found

When an operator executes a client command targetting the overcloud
the client performs a host lookup which can fail there are no hosts
returned from a given stack. This change implements a check that
the object has some value before attempting to iterate through the
nodes. If the object is null, an exception is raised to inform the
operator there was an error, and provides insight on how they might
resolve the issue. This is an improvement over the current setup
which simply results in an AttributeError should no nodes be
returned from a given stack.

Change-Id: Ib42a655a93a647651a20f1d6ac42fcb96bb4c271
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fglance~master~Icd56ce4f0fb0b70fdfc649474766b638a707fdd0,openstack/glance,master,bump-image-api-version,Icd56ce4f0fb0b70fdfc649474766b638a707fdd0,Bump Images API version to 2.12,MERGED,2021-02-16 15:34:27.000000000,2021-03-06 21:55:06.000000000,2021-03-06 21:53:41.000000000,28,9,1,775860,af3ce1adc98cf652e06af0fdb87206c9897ace2f,26,4,5,3,9303,Abhishek Kekane,abhishekkekane,"Bump Images API version to 2.12

Related: blueprint messages-api
Change-Id: Icd56ce4f0fb0b70fdfc649474766b638a707fdd0
"
openstack%2Fneutron~stable%2Fstein~Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,openstack/neutron,stable/stein,bug/1917448-stable/victoria-stable/ussuri-stable/train-stable/stein,Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,Fix wrong packet_type set for IPv6 GRE tunnels in OVS,MERGED,2021-03-03 10:21:23.000000000,2021-03-06 21:55:04.000000000,2021-03-06 21:53:34.000000000,3,2,0,778417,afbcd89f7e614a6c2ef565b4b17dc754307c3a5a,15,3,1,3,11975,Slawek Kaplonski,slaweq,"Fix wrong packet_type set for IPv6 GRE tunnels in OVS

In patch [1] it was by mistake set to ""legacy"" but it should be
""legacy_l2"".
This patch fixes that mistake.

Closes-bug: #1917448

[1] https://review.opendev.org/c/openstack/neutron/+/763204

Conflicts:
    neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238
(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)
"
openstack%2Ftrove-dashboard~master~I5e471554b30568bd96cb78d922767e644549c873,openstack/trove-dashboard,master,,I5e471554b30568bd96cb78d922767e644549c873,Add ability to update allowed_cidr for an existing instance.,MERGED,2021-02-23 00:22:40.000000000,2021-03-06 20:52:51.000000000,2021-03-06 20:51:11.000000000,23,3,0,777029,26a40acc6e641e449db1913edf46e899ecb13d09,15,4,4,4,3031,Sam Morrison,sorrison,"Add ability to update allowed_cidr for an existing instance.

Change-Id: I5e471554b30568bd96cb78d922767e644549c873
"
openstack%2Fglance-tempest-plugin~master~I9515dff85f8d00c657ca7053b21202d530098ccf,openstack/glance-tempest-plugin,master,secure-rbac,I9515dff85f8d00c657ca7053b21202d530098ccf,Increase oslo.policy logging for protection tests,MERGED,2021-03-03 04:14:12.000000000,2021-03-06 20:30:43.000000000,2021-03-06 20:30:43.000000000,8,0,0,778356,b23fefad3e6b90e8985b6667b580be69ee0c9532,14,2,3,1,5046,Lance Bragstad,ldbragst,"Increase oslo.policy logging for protection tests

One of the advantages of protection tests is to make sure glance is
doing the right thing with oslo.policy. This commit increase the
oslo.policy debug logging so we can more easily see what's going on in
logs.

Change-Id: I9515dff85f8d00c657ca7053b21202d530098ccf
"
openstack%2Fglance-tempest-plugin~master~Id4e788395483187e15f000b11b1ad612b5c5093e,openstack/glance-tempest-plugin,master,,Id4e788395483187e15f000b11b1ad612b5c5093e,trivial: Fix incorrect project name in setup.cfg,MERGED,2021-02-02 03:10:05.000000000,2021-03-06 20:22:17.000000000,2021-03-06 20:22:17.000000000,1,1,0,773562,92c98e36302f45cd85137782fc35992a7c35e4e8,9,4,1,1,5046,Lance Bragstad,ldbragst,"trivial: Fix incorrect project name in setup.cfg

This must have been left over copy/pasta from when the tempest plumbing
was laid down during the community goal.

Change-Id: Id4e788395483187e15f000b11b1ad612b5c5093e
"
openstack%2Frequirements~master~Ia2899b52214fd4babebbbe4fd84754611b8b6a23,openstack/requirements,master,openstack/requirements/constraints/noclob,Ia2899b52214fd4babebbbe4fd84754611b8b6a23,Updated from generate-constraints,ABANDONED,2021-03-04 06:20:19.000000000,2021-03-06 19:39:00.000000000,,9,9,0,778614,d559668f8b2d2e3ee67675f20c8857eadc3a50a0,15,2,4,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ia2899b52214fd4babebbbe4fd84754611b8b6a23
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fglance~master~Iddee8144fb21b7ac2dec4e7fbc62c132c186fa89,openstack/glance,master,secure-rbac,Iddee8144fb21b7ac2dec4e7fbc62c132c186fa89,Add glance functional protection tests to check and gate,MERGED,2021-03-01 21:51:01.000000000,2021-03-06 19:36:28.000000000,2021-03-06 19:32:49.000000000,4,0,3,778079,8d694786d3f2450b6cfe1e8fe5cb8a54f9623662,45,3,9,1,5046,Lance Bragstad,ldbragst,"Add glance functional protection tests to check and gate

This commit updates glance's zuul configuration to tack on a job
dedicated to protecting API authroization. The tests for this job live
in glance-tempest-plugin and they currently test full support for
project-reader and project-admin against the images API.

Future changes will update the policies in glance to consume
system-scope and additional test coverage will be added to
glance-tempest-plugin. But, until that happens, having protection
testing as part of the check and gate jobs is vital to ensuring we don't
inadvertently expose sensitive information or APIs to users.

This level of testing will also be useful in the future if we decide to
refactor authorization logic out of various parts of glance and into a
consistent layer.

Depends-On: https://review.opendev.org/c/openstack/glance-tempest-plugin/+/775742
Change-Id: Iddee8144fb21b7ac2dec4e7fbc62c132c186fa89
"
openstack%2Fcinder~master~I7bad7b5ebaff3d191c0701a9e72ed4c6334ecaa3,openstack/cinder,master,secure-rbac,I7bad7b5ebaff3d191c0701a9e72ed4c6334ecaa3,Update secure RBAC check strings with descriptions,MERGED,2020-11-18 14:41:53.000000000,2021-03-06 19:27:31.000000000,2021-03-05 05:29:20.000000000,35,0,1,763195,9fc6fab79d10a66a8e388d22e7f0ccb736b22eea,154,17,4,1,5046,Lance Bragstad,ldbragst,"Update secure RBAC check strings with descriptions

This commit attempts to clarify the intended usage of each persona.
After reading the comment for each, it should be clear how and when to
apply them to specific resources. If not, then we should continue to
improve the definition and remove ambiguity.

This commit also adds a new composite check string for system
administrators and project members. This implements a more robust
security posture where system administrators are allowed to do things
that project member can do. Individual deployments can offload some of
the administrative burden to system members if desired by override the
default SYSTEM_ADMIN_OR_PROJECT_MEMBER check string.

Change-Id: I7bad7b5ebaff3d191c0701a9e72ed4c6334ecaa3
"
openstack%2Fneutron~master~Ic15361e34a2a9c371954d2f0851d230b8f9feb1f,openstack/neutron,master,cleaning,Ic15361e34a2a9c371954d2f0851d230b8f9feb1f,Remove try block from privileged ip_lib module,MERGED,2021-02-24 15:57:02.000000000,2021-03-06 19:20:36.000000000,2021-03-06 19:19:11.000000000,1,6,2,777415,8d442657363dc54a236b41cd651849ac42a9bf47,47,5,1,1,11975,Slawek Kaplonski,slaweq,"Remove try block from privileged ip_lib module

It was marked that this try..except.. block can be removed when we will
be using pyroute2 >= 0.5.13. Now we have 0.5.13 in the lower-constraints
already so it's time to remove it.

Change-Id: Ic15361e34a2a9c371954d2f0851d230b8f9feb1f
"
openstack%2Fdevstack~master~Ic7e215c3e48a9c453d19355ad7d683494811d2af,openstack/devstack,master,trivial,Ic7e215c3e48a9c453d19355ad7d683494811d2af,Remove MAINTAINERS.rst,MERGED,2021-03-02 16:52:27.000000000,2021-03-06 18:57:19.000000000,2021-03-06 18:55:07.000000000,0,91,0,778220,3948fcb03c96bacc0c620de5b2c18a475e7afef2,11,3,2,2,15334,Stephen Finucane,sfinucan,"Remove MAINTAINERS.rst

This file is mega out-of-date and no longer helpful. Remove it.

Change-Id: Ic7e215c3e48a9c453d19355ad7d683494811d2af
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fdevstack~master~If7055feb88391f496a5e5e4c72008bf0050c5356,openstack/devstack,master,trivial,If7055feb88391f496a5e5e4c72008bf0050c5356,Remove references to XenAPI driver,MERGED,2021-03-02 16:52:27.000000000,2021-03-06 18:56:23.000000000,2021-03-06 18:55:01.000000000,6,289,1,778219,970891a4ef863344fb1425727b3c3bf91b1c8bb5,11,3,2,16,15334,Stephen Finucane,sfinucan,"Remove references to XenAPI driver

The XenAPI driver was removed during the Victoria release [1], while the
libvirt+xen driver has been removed in the Wallaby release [2]. Remove
references to Xen from DevStack since its all a no-op now.

[1] I42b302afbb1cfede7a0f7b16485a596cd70baf17
[2] I73305e82da5d8da548961b801a8e75fb0e8c4cf1

Change-Id: If7055feb88391f496a5e5e4c72008bf0050c5356
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fglance-tempest-plugin~master~Ia57440962140fe9f8d47c29b1b49dfbe9f846149,openstack/glance-tempest-plugin,master,secure-rbac,Ia57440962140fe9f8d47c29b1b49dfbe9f846149,"Add tests for image membership, deactivation, and reactivation",MERGED,2021-02-16 05:52:28.000000000,2021-03-06 18:51:54.000000000,2021-03-06 18:51:54.000000000,935,0,30,775742,aec88f1ff59b90ee8fb3fc38cf1ea492934a209a,50,3,14,1,5046,Lance Bragstad,ldbragst,"Add tests for image membership, deactivation, and reactivation

This commit builds on
https://review.opendev.org/c/openstack/glance-tempest-plugin/+/773568 by
adding explicit tempest protection tests for sharing images between
projects, image deactivation, and reactivation.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/778753

Change-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149
"
openstack%2Fdevstack~master~Idc95c6467a8c6e0c0ed07a6458425ff0a10ff995,openstack/devstack,master,trivial,Idc95c6467a8c6e0c0ed07a6458425ff0a10ff995,nova: Remove nova-xvpvncproxy,MERGED,2021-03-02 16:52:27.000000000,2021-03-06 18:38:44.000000000,2021-03-06 18:37:30.000000000,14,20,11,778218,3c6d1059298788d4ce35845fdb1bef2938046702,14,3,2,1,15334,Stephen Finucane,sfinucan,"nova: Remove nova-xvpvncproxy

This was removed this service from nova in Ussuri [1]. There's no need
to keep this around.

[1] I2f7f2379d0cd54e4d0a91008ddb44858cfc5a4cf

Change-Id: Idc95c6467a8c6e0c0ed07a6458425ff0a10ff995
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fglance~master~I8f1d03275e6ec51a802cc4b4107f3ab648f535a1,openstack/glance,master,bug/1914826,I8f1d03275e6ec51a802cc4b4107f3ab648f535a1,Add missing fail case tests for image_conversion,MERGED,2021-02-09 20:14:25.000000000,2021-03-06 17:37:26.000000000,2021-03-06 17:35:00.000000000,132,1,2,774722,050802dd67b9135e04a65d340531157c94248c51,13,2,1,2,4393,Dan Smith,danms,"Add missing fail case tests for image_conversion

The tests for the image_conversion plugin were missing basically all
of the places where the task can fail (or NOP). This adds tests for
those things to validate behavior before moving the task to use the
import wrapper.

Note that in the process, I found a potential bug in the handling of
the metadata response from qemu-img when probing for the format. We
tolerate ""format"" being missing from the result, but will end up
passing None as an argument to 'qemu-img convert', which will fail.
This fixes that to raise RuntimeError in line with the existing
behavior of ""raise RuntimeError if any error is reported"".

Change-Id: I8f1d03275e6ec51a802cc4b4107f3ab648f535a1
"
openstack%2Ftempest~master~I010434e1a97520cc7a55384af55e0b61ee4e2556,openstack/tempest,master,778753,I010434e1a97520cc7a55384af55e0b61ee4e2556,Update dynamic creds to properly handle types during creation,MERGED,2021-03-04 17:14:33.000000000,2021-03-06 17:36:29.000000000,2021-03-06 17:33:36.000000000,6,3,0,778753,ef13f406b95cceaed5ce8d125574ec11399ec50d,14,3,2,1,5046,Lance Bragstad,ldbragst,"Update dynamic creds to properly handle types during creation

A recent change modified how credential_types are passed into
_create_creds:

  https://review.opendev.org/c/openstack/tempest/+/773177

This change updates the code to check for types and only cast creds to a
list if it's a string.

It also adds a condition to only create a project role assignment if the
credential type is project-scoped. Otherwise, this fails with
system-scoped credentials.

Change-Id: I010434e1a97520cc7a55384af55e0b61ee4e2556
"
openstack%2Fglance~master~I6db86b3e17a6a2f78745b40381b9419fb4404a4e,openstack/glance,master,bug/1914826,I6db86b3e17a6a2f78745b40381b9419fb4404a4e,Pass ImageActionWrapper to internal plugins,MERGED,2021-02-05 22:24:41.000000000,2021-03-06 17:36:27.000000000,2021-03-06 17:33:44.000000000,56,44,0,774313,68646db35d4a389237b9c1db75c074ba90fa1ec6,18,2,1,5,4393,Dan Smith,danms,"Pass ImageActionWrapper to internal plugins

The _internal_plugins/* tasks are not getting passed the
ImportActionWrapper, and thus are doing things against the image
that do not respect the task lock, nor apply multiple updates
atomically.

This fixes that and brings them in line with the base tasks, using the
wrapper for things like getting the image_id. The copy_image task
looks at the image for a few other things that are not exposed out
of the wrapper, so I left the image_repo.get() in that task until I
can extend it. They are read-only though, so not a big deal.

The web-download test also was not passing the right options to
that task (confusing task_repo and image_repo), which this cleans
up as well. It was also missing validation of the code that reverts
the state to 'queued' when web-download fails, so that is added here
as well.

Change-Id: I6db86b3e17a6a2f78745b40381b9419fb4404a4e
Related-Bug: #1914826
"
openstack%2Fnova~master~Ibf82b5e8f46b89f8c7dcdc1925bf48d581cdc3f6,openstack/nova,master,bp/compact-db-migrations-wallaby,Ibf82b5e8f46b89f8c7dcdc1925bf48d581cdc3f6,apidb: Compact Ocata database migrations,MERGED,2020-10-23 11:42:17.000000000,2021-03-06 17:36:21.000000000,2021-03-06 17:34:24.000000000,111,615,19,759402,743693c7401f510416552c327f93d5e43632c8d7,89,12,6,14,15334,Stephen Finucane,sfinucan,"apidb: Compact Ocata database migrations

Specific changes include:

- Add 'resource_classes' table (026)
- Add 'quota_classes', 'quota_usages', 'quotas', 'project_user_quotas',
  'reservations' and 'resource_classes' tables (027)
- Alter type of 'instance' column of 'build_requests' table to
  'MediumText' (028)
- Add 'placement_aggregates' table (029)

Note that migration 030 included a check to ensure cell mappings were
created when upgrading existing deployments. Since users will now be
required to upgrade to at Ocata before running migrations, this is no
longer necessary. The check was never executed for new deployments,
as noted in the migration itself:

  NOTE(danms): We need to be careful here if this is a new
  installation, which can't possibly have any mappings. Check
  to see if any flavors are defined to determine if we are
  upgrading an existing system. If not, then don't obsess over
  the lack of mappings.

Change-Id: Ibf82b5e8f46b89f8c7dcdc1925bf48d581cdc3f6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fglance~master~Id613cfd61760c383c7c3cc6aea3f37eecb5ed4d9,openstack/glance,master,bug/1914826,Id613cfd61760c383c7c3cc6aea3f37eecb5ed4d9,Make action wrapper support arbitrary properties,MERGED,2021-02-09 20:14:25.000000000,2021-03-06 17:34:06.000000000,2021-03-06 17:34:06.000000000,46,12,0,774721,5331f1e0badf0820a93264e6d7063927b2afe51b,12,2,1,3,4393,Dan Smith,danms,"Make action wrapper support arbitrary properties

Previously, the only attribute of the image that an import plugin
could change was the status. In order to convert the rest of the
plugins to use the wrapper, we need to define additional properties
that they can mutate. This removes set_image_status() and replaces
it with set_image_attribute() which allows a subset of those
properties to be set.

This also ends up passing the action wrapper to all plugin init
methods by way of just putting it straight into the kwargs that we
give to everything. That is added here as setup for the patches to
follow which depend on it.

Change-Id: Id613cfd61760c383c7c3cc6aea3f37eecb5ed4d9
"
openstack%2Fglance~master~Iebbb2dcb767ecf3c965f34f1ca04af20a2039be1,openstack/glance,master,bug/1914826,Iebbb2dcb767ecf3c965f34f1ca04af20a2039be1,Make web-download revert all stores on fail,MERGED,2021-02-05 22:24:41.000000000,2021-03-06 17:33:58.000000000,2021-03-06 17:33:58.000000000,48,15,4,774314,cbb2af6e329c1bf6c1c39cb59f95aaad2c0d7a07,19,2,2,2,4393,Dan Smith,danms,"Make web-download revert all stores on fail

If web-download fails to stage the image, no subsequent import to
store tasks could have run. Thus, we should remove all of them from
""importing"" and add them to ""failed"" so that it is obvious from the
outside that we failed.

This is another good reason for having the $image/tasks API, but we
also should not continue advertising ""yes we're importing to $store""
when we are not.

Change-Id: Iebbb2dcb767ecf3c965f34f1ca04af20a2039be1
Closes-Bug: #1914826
"
openstack%2Fneutron~master~Ia27bfff290730eb44c641a18e9c30d91664a2510,openstack/neutron,master,secure-rbac,Ia27bfff290730eb44c641a18e9c30d91664a2510,Implement secure RBAC for Floating IP API,MERGED,2020-12-04 12:45:13.000000000,2021-03-06 17:32:23.000000000,2021-03-06 17:30:42.000000000,57,25,1,765526,09664c593f36044bb6667cd35b8205db2fffa2db,42,6,4,1,11975,Slawek Kaplonski,slaweq,"Implement secure RBAC for Floating IP API

This commit updates the policies for Floating IP API to understand
scope checking and account for a read-only role.

This is part of a broader series of changes across OpenStack to
provide a consistent RBAC experience and improve security.

Partially-Implements blueprint: secure-rbac-roles

Change-Id: Ia27bfff290730eb44c641a18e9c30d91664a2510
"
openstack%2Fneutron~master~Ia1b83ea394e16aa215fb5136bdbc224a0788bb68,openstack/neutron,master,secure-rbac,Ia1b83ea394e16aa215fb5136bdbc224a0788bb68,Implement secure RBAC for address_scope API,MERGED,2020-12-01 16:17:26.000000000,2021-03-06 17:30:54.000000000,2021-03-06 17:29:07.000000000,71,31,3,764980,66dac905bde071741e8588b2c1223404658726b8,38,9,4,1,11975,Slawek Kaplonski,slaweq,"Implement secure RBAC for address_scope API

This commit updates the policies for address_scope API to
understand scope checking and account for a read-only role.

This is part of a broader series of changes across OpenStack to
provide a consistent RBAC experience and improve security.

Partially-Implements blueprint: secure-rbac-roles

Change-Id: Ia1b83ea394e16aa215fb5136bdbc224a0788bb68
"
openstack%2Fnova~master~I66003220bf173dfa917a13c5a408b1ea31cbc057,openstack/nova,master,spec/libvirt-default-machine-type,I66003220bf173dfa917a13c5a408b1ea31cbc057,docs: Add admin docs for configuring and updating machine types,MERGED,2021-02-10 16:51:25.000000000,2021-03-06 17:27:12.000000000,2021-03-06 17:24:00.000000000,128,0,26,774899,9020896cb7fe4cbafb4cb36a15faa1bf3f70d731,46,5,8,2,10135,Lee Yarwood,lyarwood,"docs: Add admin docs for configuring and updating machine types

This change simply documents how an operator/admin would go about
changing the underlying [libvirt]hw_machine_type config within an
environment while ensuring existing instances are not impacted.

blueprint: libvirt-default-machine-type
Change-Id: I66003220bf173dfa917a13c5a408b1ea31cbc057
"
openstack%2Fneutron~stable%2Fvictoria~Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,openstack/neutron,stable/victoria,bug/1907068-stable/victoria,Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,Add some wait time between stopping and starting again ovsdb monitor,MERGED,2021-03-05 09:29:02.000000000,2021-03-06 17:26:05.000000000,2021-03-06 17:21:33.000000000,4,0,0,778825,bd8dddd41af57d66ec39a04fafe74abf7cd475c3,9,3,1,1,11975,Slawek Kaplonski,slaweq,"Add some wait time between stopping and starting again ovsdb monitor

In functional tests of the ovsdb_monitor, sometimes during high load
of the host where tests are run, ""error"" message from the killed process
can be received by neutron's async_process after new process was
already spawned.
And that causes failure of the test as new ovsdb_monitor will not
receive events which are expected.

To workaround that issue this patch adds sleep for few seconds between
stopping old and starting new ovsdb_monitor process.

Closes-Bug: #1907068
Change-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c
(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)
"
openstack%2Fnova~master~I39909ace97f62e87f326d4d822d4e4c391445765,openstack/nova,master,spec/libvirt-default-machine-type,I39909ace97f62e87f326d4d822d4e4c391445765,nova-manage: Add libvirt list_unset_machine_type command,MERGED,2021-02-10 16:51:25.000000000,2021-03-06 17:26:03.000000000,2021-03-06 17:21:43.000000000,353,0,31,774897,9a5b07d9fc000765eeb0687f374f2803a73f3b7d,61,4,8,7,10135,Lee Yarwood,lyarwood,"nova-manage: Add libvirt list_unset_machine_type command

This change adds a libvirt command to list all instance UUIDs with
hw_machine_type unset in their image metadata. This will be useful to
operators attempting to change the [libvirt]hw_machine_type default in
the future as it allows them to confirm if it is safe to change the
configurable without impacting existing instances.

blueprint: libvirt-default-machine-type
Change-Id: I39909ace97f62e87f326d4d822d4e4c391445765
"
openstack%2Fnova~master~I72a03e74fae8704546013d978e9c27a2573b219b,openstack/nova,master,spec/libvirt-default-machine-type,I72a03e74fae8704546013d978e9c27a2573b219b,libvirt: Add a config update workflow test for [libvirt]hw_machine_type,MERGED,2021-02-10 16:51:25.000000000,2021-03-06 17:23:29.000000000,2021-03-06 17:23:29.000000000,85,0,14,774898,0b44c7ccefa5b2fe04611b1143cf61ecfffdb20b,61,4,8,1,10135,Lee Yarwood,lyarwood,"libvirt: Add a config update workflow test for [libvirt]hw_machine_type

The previous changes in this series have added small targeted
functional tests as parts of the workflow were introduced. Now that
these are all in place this change adds a larger test that merges these
different parts of the workflow together to ensure it works as expected.

blueprint: libvirt-default-machine-type
Change-Id: I72a03e74fae8704546013d978e9c27a2573b219b
"
openstack%2Fnova~master~Ia222e0f64b932e6aefe779b168d0aa4e9ff48075,openstack/nova,master,spec/libvirt-default-machine-type,Ia222e0f64b932e6aefe779b168d0aa4e9ff48075,Fix ImageBackendFixture not to support direct_snapshot,MERGED,2021-03-03 13:46:59.000000000,2021-03-06 17:23:02.000000000,2021-03-06 17:23:02.000000000,3,0,0,778462,947f813e562101d6c05ae47940f36de7c33604e5,20,5,2,1,9708,Balazs Gibizer,gibi,"Fix ImageBackendFixture not to support direct_snapshot

The ImageBackendFixture mocks returns a mocked disk and that disk
blindly supports the direct_snapshot call by returning a MagicMock as a
result. A real imagebacked returns the location of the snapshot instead.
When the result of the snapshot is uploaded to the GlanceFixture the
fixtures stores the metadata including the MagicMock. Later when such
snapshot is downloaded from the fixture (e.g. during unshelve) the
Glance fixture tries to deepcopy the metadata to avoid clients modifying
the returned data to affect the internal state of the fixture. But
MagicMock cannot be deep copied.

An easy fix is to declare direct_snapshot not supported for
ImageBackendFixture by raising NotImplementedError. This is already
handled by the virt driver as we have real backends that are not
supporting the direct snapshot call. This way the whole issue in the
GlanceFixture can be avoided.

Change-Id: Ia222e0f64b932e6aefe779b168d0aa4e9ff48075
"
openstack%2Fnova~master~Ic3ae48c57e61c4e45883fbae1328a448be025953,openstack/nova,master,spec/libvirt-default-machine-type,Ic3ae48c57e61c4e45883fbae1328a448be025953,nova-status: Add hw_machine_type check for libvirt instances,MERGED,2021-01-13 16:28:51.000000000,2021-03-06 17:22:20.000000000,2021-03-06 17:22:20.000000000,54,1,5,770643,8cddd243bfaac4454b088d49ba65d4fb3c42211a,82,4,12,4,10135,Lee Yarwood,lyarwood,"nova-status: Add hw_machine_type check for libvirt instances

This change introduces a new nova-status check to ensure a machine type
has been recorded for each instance within an environment.

nova-status will fail with a warning when instances are found, directing
the operator to use the previously added nova-manage list_unset and
update commands to set a machine type for these instances. The logic for
this check comes entirely from the list_unset command.

It is noted in the warning output that this can be ignored if no libvirt
or HyperV based computes are present in the environment as
hw_machine_type is only used by these two virt drivers at present.

blueprint: libvirt-default-machine-type
Change-Id: Ic3ae48c57e61c4e45883fbae1328a448be025953
"
openstack%2Ftripleo-ansible~master~I1221b8cd2145f9e3783ff0033a5092250a0d2c92,openstack/tripleo-ansible,master,mistral_lib_remove,I1221b8cd2145f9e3783ff0033a5092250a0d2c92,Remove unused cli-baremetal-configure.yaml playbook,MERGED,2021-03-01 15:56:36.000000000,2021-03-06 16:41:25.000000000,2021-03-06 16:40:10.000000000,0,244,0,778018,21c8f684d179d5171e1a0ce322a2faae403a001d,26,4,6,3,8833,Rabi Mishra,rabi,"Remove unused cli-baremetal-configure.yaml playbook

This has never been used in the python-tripleoclient.

Change-Id: I1221b8cd2145f9e3783ff0033a5092250a0d2c92
"
openstack%2Fcinder~master~I8b67cc2d9a51f777a245739299e4bc44a7d0733b,openstack/cinder,master,,I8b67cc2d9a51f777a245739299e4bc44a7d0733b,Tests: Don't assert notifier not called,MERGED,2021-03-04 15:38:36.000000000,2021-03-06 16:37:03.000000000,2021-03-04 23:12:11.000000000,1,4,0,778734,9f0be9994631fa2792f86dd27ffe539b8acbc686,30,3,1,1,4523,Eric Harney,eharney,"Tests: Don't assert notifier not called

This doesn't work reliably -- it could be
made to, but just skip this check for now
to prevent spurious failures.

Related-Bug: #1803648

Change-Id: I8b67cc2d9a51f777a245739299e4bc44a7d0733b
"
openstack%2Fkolla-ansible~master~I3296dcc4780160cbf88bd18285571276f58bb249,openstack/kolla-ansible,master,,I3296dcc4780160cbf88bd18285571276f58bb249,Fix Cinder log parsing,MERGED,2021-02-24 13:27:23.000000000,2021-03-06 15:35:57.000000000,2021-03-04 13:03:17.000000000,9,1,0,777381,fa5511c75d79d8e258c4fa880d2c7a880b838bde,12,4,1,3,17669,Doug Szumski,DougSzumski,"Fix Cinder log parsing

The Cinder API log is currently written to a file called
cinder-wsgi.log, and the WSGI logs to cinder-api.log. Fluentd
then tries to parse the WSGI log as an OpenStack log which
results in 'got incomplete line' errors and prevents proper
ingestion of these logs.

Co-Authored-By: yaoning <yaoning@unitedstack.com>
Closes-Bug: 1916752
Change-Id: I3296dcc4780160cbf88bd18285571276f58bb249
"
openstack%2Fkolla-ansible~master~I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b,openstack/kolla-ansible,master,,I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b,CI: Move from ceph-ansible to cephadm,MERGED,2021-01-19 10:28:31.000000000,2021-03-06 15:31:01.000000000,2021-03-05 09:11:31.000000000,234,131,24,771418,65a16a08e2d8f25a1dfa3038eb0eb12e5d742057,136,5,60,16,22629,Michal Nasiadka,mnasiadka,"CI: Move from ceph-ansible to cephadm

Change-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b
"
openstack%2Fcinder~stable%2Fussuri~I4383b691a8cc4aacb046332e418aafb88ba8ba56,openstack/cinder,stable/ussuri,bug/1896112,I4383b691a8cc4aacb046332e418aafb88ba8ba56,NetApp SolidFire: Fix duplicate volume when API response is lost,MERGED,2020-11-26 04:06:32.000000000,2021-03-06 15:04:03.000000000,2021-03-06 15:01:21.000000000,86,8,0,764274,d73da73283c783f90e878c5fbd53e114e1918f0a,44,4,3,3,30555,Fernando Ferraz,fernandoperches,"NetApp SolidFire: Fix duplicate volume when API response is lost

The SolidFire driver retries API requests in case a connection
error occurrs. When network is unstable, there may be the
possibility that the SolidFire backend successfully receive
and process a create volume operation, but fail to deliver the
response back to the driver.

When this scenario occurrs, the SolidFire driver automatically
resends the request, creating a second volume and leaving a
duplicate unused. Although this doesn't affect
driver functionality at first moment (the volume id from the
cluster is always correctly associated to cinder provider id),
further operations may hit the unused volume, leading to
unexpected hehavior.

This patch fixes this issue by:

1. Checking if the volume name already exists in the
backend before trying to create it. Volume creation will
raise a exception and abort in case of a volume is found.

2. Checking for volume creation right after a read timeout is
detected, preventing invalid API calls.

3. Adding option ´sf_volume_create_timeout´ to the SolidFire
driver, to allow users to set the appropriate timeout value for
their environment.

Closes-Bug: #1896112
Change-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56
(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)
(cherry picked from commit deb31a0c4d35ea6c479bfe466b780ed07a489276)
"
openstack%2Fneutron~master~Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee,openstack/neutron,master,bp/distributed-dhcp-for-ml2-ovs,Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee,Config option to disable the DHCP functions,MERGED,2021-01-25 07:56:26.000000000,2021-03-06 15:03:26.000000000,2021-03-06 15:00:57.000000000,55,5,49,772255,8e3a83c21304c28054bb0134add1688e9f3a9140,159,8,14,6,9531,liuyulong,LIU-Yulong,"Config option to disable the DHCP functions

This patch adds a new config option ``enable_traditional_dhcp``,
if set False, neutron-server will disable:
* DHCP provisioning block
* DHCP scheduler API extension
* Network scheduling mechanism
* DHCP RPC/notification

Partially-Implements: bp/distributed-dhcp-for-ml2-ovs
Related-Bug: #1900934

Change-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee
"
openstack%2Frequirements~master~I2d16b9aadddd325df3e75416a807979c000b5286,openstack/requirements,master,new-release,I2d16b9aadddd325df3e75416a807979c000b5286,update constraint for os_vif to new release 2.4.0,MERGED,2021-03-05 10:07:37.000000000,2021-03-06 14:36:20.000000000,2021-03-06 14:34:52.000000000,1,1,0,778874,bd53daee985609b99e1a092e8e32cf2fc1f3ad93,12,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os_vif to new release 2.4.0

meta: version: 2.4.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I9a1c3d06521fc7c562caf63bae664c22b2d9306c
meta: release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>
meta: release:Code-Review+1: sean mooney <smooney@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I2d16b9aadddd325df3e75416a807979c000b5286
"
openstack%2Fnova~master~I6b80021a2f90d3379c821dc8f02a72f350169eb3,openstack/nova,master,spec/libvirt-default-machine-type,I6b80021a2f90d3379c821dc8f02a72f350169eb3,nova-manage: Add libvirt update_machine_type command,MERGED,2021-02-10 16:51:25.000000000,2021-03-06 14:34:15.000000000,2021-03-06 14:32:02.000000000,740,0,65,774896,c70cde057d20bb2c05a133e52b9ec560bd792698,70,3,8,9,10135,Lee Yarwood,lyarwood,"nova-manage: Add libvirt update_machine_type command

This change adds a second update command to the libvirt group
within nova-manage. This command will set or update the machine type of
the instance when the following criteria are met:

* The instance must have a ``vm_state`` of ``STOPPED``, ``SHELVED`` or
  ``SHELVED_OFFLOADED``.

* The machine type is supported. The supported list includes alias and
  versioned types of ``pc``, ``pc-i440fx``, ``pc-q35``, ``q35``, ``virt``
  or ``s390-ccw-virtio``.

* The update will not move the instance between underlying machine types.
  For example, ``pc`` to ``q35``.

* The update will not move the instance between an alias and versioned
  machine type or vice versa. For example, ``pc`` to ``pc-1.2.3`` or
  ``pc-1.2.3`` to ``pc``.

A --force flag is provided to skip the above checks but caution
should be taken as this could easily lead to the underlying ABI of the
instance changing when moving between machine types.

blueprint: libvirt-default-machine-type
Change-Id: I6b80021a2f90d3379c821dc8f02a72f350169eb3
"
openstack%2Frequirements~master~Ia4900fb8b37d3711c080e5d0c22b963495e2f852,openstack/requirements,master,new-release,Ia4900fb8b37d3711c080e5d0c22b963495e2f852,update constraint for tosca-parser to new release 2.3.0,MERGED,2021-03-05 10:07:09.000000000,2021-03-06 14:34:05.000000000,2021-03-06 14:32:36.000000000,1,1,0,778873,707a2bfb64cb3e19b76214e39f44aa8d2936304e,12,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for tosca-parser to new release 2.3.0

meta: version: 2.3.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ie1dd06525b161219de0d85ac8dad7aa0fcc8573c
meta: release:Code-Review+1: Rico Lin <ricolin@ricolky.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ia4900fb8b37d3711c080e5d0c22b963495e2f852
"
openstack%2Fpython-openstackclient~master~I9486a09531b11f27a9ff0d68fd4ad8c68a65cccf,openstack/python-openstackclient,master,,I9486a09531b11f27a9ff0d68fd4ad8c68a65cccf,network: Add missing subnet unset --gateway <subnet-id>,MERGED,2021-03-05 12:56:29.000000000,2021-03-06 13:58:37.000000000,2021-03-06 13:57:27.000000000,15,0,0,778906,ed731d6cd9254eae047d14ccd55132229e13e7d1,12,4,2,3,28022,Bharat Kunwar,brtknr,"network: Add missing subnet unset --gateway <subnet-id>

Story: 2008695
Task: 42003
Change-Id: I9486a09531b11f27a9ff0d68fd4ad8c68a65cccf
"
openstack%2Fopenstack-ansible-os_octavia~master~I947c4b38810b8ad4ed22a5c6fc39ef9c5978a114,openstack/openstack-ansible-os_octavia,master,integrated_octavia,I947c4b38810b8ad4ed22a5c6fc39ef9c5978a114,[WIP] Add integrated test for Octavia,ABANDONED,2021-03-06 03:36:36.000000000,2021-03-06 12:32:11.000000000,,33,0,0,779069,14ea9bd2dc26dafdf0ac0f60dbac7c4057281478,6,1,1,2,16011,James Denton,busterswt,"[WIP] Add integrated test for Octavia

This patch set aims to kick the tires on an integrated test
with Octavia deployed. The goal is to test amphora deployment
and connectivity (if possible). Do not merge!

Change-Id: I947c4b38810b8ad4ed22a5c6fc39ef9c5978a114
"
openstack%2Fpuppet-tripleo~master~I29e3e8b5dab256816ea108d23ccb1f0558e43e82,openstack/puppet-tripleo,master,bug/1915800,I29e3e8b5dab256816ea108d23ccb1f0558e43e82,Add ports filtering support to XtremIO Cinder driver,MERGED,2021-02-17 20:08:23.000000000,2021-03-06 11:46:18.000000000,2021-03-06 11:45:06.000000000,8,0,1,776264,4c981b570210a10eac3f88c44570629d04eded64,23,8,2,3,31016,Ivan Pchelintsev,pcheli,"Add ports filtering support to XtremIO Cinder driver

If there are some iSCSI or FC targets (ESXi for example) that
are not connected to the OpenStack host,
attach volume operation waits until timeout.
The XtremIO Cinder driver needs a new option to support ports
filtering.

Depends-On: https://review.opendev.org/#/c/776260
Related-Bug: #1915800
Change-Id: I29e3e8b5dab256816ea108d23ccb1f0558e43e82
"
openstack%2Fpython-openstackclient~master~I7e00851a03470364db00f0f114fc724b0f686b72,openstack/python-openstackclient,master,story/2007727,I7e00851a03470364db00f0f114fc724b0f686b72,Add reno for change Ic3c555226a220efd9b0f27edffccf6c4c95c2747,MERGED,2021-01-11 14:25:43.000000000,2021-03-06 11:46:09.000000000,2021-03-06 11:41:23.000000000,6,0,0,770128,bb15b29190dfe77ea0218a01edc1f4886993b177,11,2,1,1,15334,Stephen Finucane,sfinucan,"Add reno for change Ic3c555226a220efd9b0f27edffccf6c4c95c2747

Change Ic3c555226a220efd9b0f27edffccf6c4c95c2747 introduced some
validation for the 'openstack server group create --policy' command.
Call this out in the release notes.

Change-Id: I7e00851a03470364db00f0f114fc724b0f686b72
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Ftempest~master~Iff0209e0723e7c7199c5d1812415979c9acf5f90,openstack/tempest,master,bug/1917610,Iff0209e0723e7c7199c5d1812415979c9acf5f90,Add bandwidth inventory to the subnodes in tempest-multinode-full-py3,MERGED,2021-03-03 12:35:43.000000000,2021-03-06 11:46:05.000000000,2021-03-06 11:41:14.000000000,6,0,0,778451,24762611f36da82e2a3cb8f5f8e4ccc3c8b53336,13,5,1,1,11975,Slawek Kaplonski,slaweq,"Add bandwidth inventory to the subnodes in tempest-multinode-full-py3

Change-Id: Iff0209e0723e7c7199c5d1812415979c9acf5f90
Closing-Bug: #1917610
"
openstack%2Ftrove-dashboard~master~If3314e94319056fe45499e83ff1bb15c4d19c64c,openstack/trove-dashboard,master,,If3314e94319056fe45499e83ff1bb15c4d19c64c,Use MultiIPField for access form to avoid need for custom validation,MERGED,2021-02-23 05:18:52.000000000,2021-03-06 11:03:20.000000000,2021-03-06 11:03:20.000000000,7,19,0,777050,42d6638d3b76ad59d0f8dda1a901e47407c3e946,12,3,2,2,3031,Sam Morrison,sorrison,"Use MultiIPField for access form to avoid need for custom validation

Change-Id: If3314e94319056fe45499e83ff1bb15c4d19c64c
"
openstack%2Fneutron~stable%2Fqueens~Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,openstack/neutron,stable/queens,bug/1907068-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky-stable/queens,Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,Add some wait time between stopping and starting again ovsdb monitor,MERGED,2021-03-05 09:40:57.000000000,2021-03-06 10:44:45.000000000,2021-03-06 10:44:45.000000000,4,0,0,778830,c9fae2581f301e4f7e0e3132acf64a1157b8f35b,9,3,1,1,11975,Slawek Kaplonski,slaweq,"Add some wait time between stopping and starting again ovsdb monitor

In functional tests of the ovsdb_monitor, sometimes during high load
of the host where tests are run, ""error"" message from the killed process
can be received by neutron's async_process after new process was
already spawned.
And that causes failure of the test as new ovsdb_monitor will not
receive events which are expected.

To workaround that issue this patch adds sleep for few seconds between
stopping old and starting new ovsdb_monitor process.

Closes-Bug: #1907068
Change-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c
(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)
"
openstack%2Foctavia~stable%2Fussuri~I17dd7ad2865fdc0b29308e482dd4ca9d385d4d7b,openstack/octavia,stable/ussuri,oslo_lc_drop,I17dd7ad2865fdc0b29308e482dd4ca9d385d4d7b,Drop lower constraints testing (stable Ussuri),MERGED,2021-03-05 14:31:21.000000000,2021-03-06 08:53:57.000000000,2021-03-06 08:46:32.000000000,0,189,0,778944,cddbc3c83729ceb34069ed17dd4d553b9f6f0f1b,8,3,1,3,1131,Brian Haley,brian-haley,"Drop lower constraints testing (stable Ussuri)

This topic was discussed on the ML and QA team proposed to
to drop testing lower-constraints [1].

Proposing to drop this test because the complexity and
recurring pain needed to maintain it now exceeds the
benefits provided by it on the stable branches.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I17dd7ad2865fdc0b29308e482dd4ca9d385d4d7b
"
openstack%2Foctavia~stable%2Fussuri~I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b,openstack/octavia,stable/ussuri,,I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b,Fix LB failover when IP addresses exhausted,MERGED,2021-03-05 16:45:33.000000000,2021-03-06 08:52:34.000000000,2021-03-06 08:46:12.000000000,74,4,0,778997,63fb9f69e183034d7af1461b4738a6551dfe8a99,8,3,1,7,11628,Michael Johnson,johnsom,"Fix LB failover when IP addresses exhausted

When a load balancer failover was performed on a load balancer where
the VIP address is on a subnet that has no IP addresses available,
the VIP address may be deactivated.
This patch corrects the failover flow to not deallocate the VIP
address on a failover revert flow due to the subnet being out of
IP addresses.

Story: 2008625
Task: 41827
Change-Id: I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b
(cherry picked from commit e3ab49c60aa835cb4034568ea25f06472127388c)
"
openstack%2Foctavia~stable%2Ftrain~Ia419b0ca986735f24a8ee48c315d9cb74620eff3,openstack/octavia,stable/train,oslo_lc_drop,Ia419b0ca986735f24a8ee48c315d9cb74620eff3,Drop lower constraints testing (stable Train),MERGED,2021-03-05 14:37:08.000000000,2021-03-06 08:51:39.000000000,2021-03-06 08:46:23.000000000,0,189,0,778949,44206993ada9c6afd0f5ff532c8984f9bc2cf396,9,3,1,3,1131,Brian Haley,brian-haley,"Drop lower constraints testing (stable Train)

This topic was discussed on the ML and QA team proposed to
to drop testing lower-constraints [1].

Proposing to drop this test because the complexity and
recurring pain needed to maintain it now exceeds the
benefits provided by it on the stable branches.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ia419b0ca986735f24a8ee48c315d9cb74620eff3
"
openstack%2Fcookbook-openstack-block-storage~stable%2Fstein~Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55,openstack/cookbook-openstack-block-storage,stable/stein,change-778893-1,Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55,Add a nova section to cinder configuration,MERGED,2021-03-05 12:18:51.000000000,2021-03-06 08:50:43.000000000,2021-03-06 08:50:43.000000000,16,3,0,778893,4eda4565c03776e7e873d7c0cdee51a6c35e1a25,13,2,2,4,13252,Dr. Jens Harbott,jrosenboom,"Add a nova section to cinder configuration

Cinder needs to send notifications to nova when attached volumes
are being extended. By default, cinder uses the client context
for this, but nova requires admin privileges for this. So we
configure cinder to use the nova service user instead. See
also [0].

Added minor version bump for stable branch.

(cherry picked from commit f6c6e8b180fa6f3422ea04e157b2ce523dc67891)
[0] https://bugs.launchpad.net/openstack-ansible/+bug/1902914

Change-Id: Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55
"
openstack%2Fpython-tripleoclient~master~I62352871311e98927fbd560b4235114c8c62f223,openstack/python-tripleoclient,master,mistral_lib_remove,I62352871311e98927fbd560b4235114c8c62f223,Don't use mistral actions for baremetal workflow,MERGED,2021-03-01 09:41:29.000000000,2021-03-06 08:18:32.000000000,2021-03-06 08:17:20.000000000,660,87,0,777950,600c7df81916b41aa5133d0fa7aa272a4ee7cd6c,31,5,3,5,8833,Rabi Mishra,rabi,"Don't use mistral actions for baremetal workflow

This refactors and moves the code to tripleoclient
for us to be able to remove dependency on mistral-lib.

Change-Id: I62352871311e98927fbd560b4235114c8c62f223
"
openstack%2Foctavia~stable%2Ftrain~I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b,openstack/octavia,stable/train,,I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b,Fix LB failover when IP addresses exhausted,MERGED,2021-03-05 17:03:44.000000000,2021-03-06 08:17:26.000000000,2021-03-06 08:16:06.000000000,37,2,0,778988,4c9d7405aff22829c03ef6bb25294b0472aa0dbe,8,3,1,4,11628,Michael Johnson,johnsom,"Fix LB failover when IP addresses exhausted

When a load balancer failover was performed on a load balancer where
the VIP address is on a subnet that has no IP addresses available,
the VIP address may be deactivated.
This patch corrects the failover flow to not deallocate the VIP
address on a failover revert flow due to the subnet being out of
IP addresses.

Story: 2008625
Task: 41827
Change-Id: I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b
(cherry picked from commit e3ab49c60aa835cb4034568ea25f06472127388c)
"
openstack%2Ftripleo-heat-templates~master~I66b472d37041f67907691f55c153ff880093e4bc,openstack/tripleo-heat-templates,master,cinder-timeouts,I66b472d37041f67907691f55c153ff880093e4bc,Support configuring cinder's RPC and WSGI timeouts,MERGED,2021-02-24 21:50:46.000000000,2021-03-06 07:23:27.000000000,2021-03-06 07:21:05.000000000,21,1,0,777472,3af965d6d26d3e6a8ddf48a158d930d308a3f70d,20,6,1,3,21129,Alan Bishop,ASBishop,"Support configuring cinder's RPC and WSGI timeouts

New CinderRpcResponseTimeout and CinderApiWsgiTimeout parameters
support configuring cinder's corresponding RPC response and WSGI
connection timeouts. The default values (60s each) match the existing
defaults.

Change-Id: I66b472d37041f67907691f55c153ff880093e4bc
"
openstack%2Ftripleo-heat-templates~master~I3485543210aa04c89d9c0873a6d0e10c3d5758fc,openstack/tripleo-heat-templates,master,,I3485543210aa04c89d9c0873a6d0e10c3d5758fc,Fix plan-samples README.rst,MERGED,2021-03-04 08:14:48.000000000,2021-03-06 07:21:21.000000000,2021-03-06 07:21:21.000000000,11,15,4,778618,e7d824688ec348606805a19edb8b988fac5a807f,8,3,1,1,8833,Rabi Mishra,rabi,"Fix plan-samples README.rst

This is quite stale referencing mistral workflows.

Change-Id: I3485543210aa04c89d9c0873a6d0e10c3d5758fc
"
openstack%2Fneutron~master~Ia6c9eb461a116852db877dc40dd8f53a8be5b47f,openstack/neutron,master,secure-rbac,Ia6c9eb461a116852db877dc40dd8f53a8be5b47f,Implement secure RBAC for the logging API,MERGED,2020-12-07 18:03:49.000000000,2021-03-06 06:32:20.000000000,2021-03-06 06:29:41.000000000,60,25,1,765845,755982b0a2e7833645dc439a0d27c77504208ca7,31,6,5,1,5046,Lance Bragstad,ldbragst,"Implement secure RBAC for the logging API

This commit updates the logging policies to understand scope checking and
account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: Ia6c9eb461a116852db877dc40dd8f53a8be5b47f
"
openstack%2Ftripleo-ansible~master~I953c35c9ec24844598108bc173e84868393a98aa,openstack/tripleo-ansible,master,bug/1861031,I953c35c9ec24844598108bc173e84868393a98aa,Update Octavia keypair when public key changed,MERGED,2020-01-27 20:30:54.000000000,2021-03-06 05:15:54.000000000,2021-03-06 05:15:54.000000000,12,4,6,704421,bcc3efd65032968b36b2f58e486bd9687bc6f01c,25,9,4,1,6469,Carlos Gonçalves,cgoncalves,"Update Octavia keypair when public key changed

A change in the desired public key was not being reflected in the
Overcloud on stack update/upgrade. TripleO should replace the keypair
even when the desired public key changed, i.e. its fingerprint does not
match the one (possibly) already existing in the overcloud. We should
compare fingerprints and replace (delete and create, no keypair update
option) when they mismatch.

Closes-Bug: #1861031

Change-Id: I953c35c9ec24844598108bc173e84868393a98aa
"
openstack%2Ftripleo-ansible~master~I995bdd471911e0122d1170f73033e79935bbbed9,openstack/tripleo-ansible,master,,I995bdd471911e0122d1170f73033e79935bbbed9,Fix param name in container_puppet_config example,MERGED,2021-03-01 12:32:43.000000000,2021-03-06 05:02:00.000000000,2021-03-06 05:00:53.000000000,1,1,0,777988,aaf7529d74069d4204b0344c259f8a55832db2e1,15,4,2,1,6469,Carlos Gonçalves,cgoncalves,"Fix param name in container_puppet_config example

Change-Id: I995bdd471911e0122d1170f73033e79935bbbed9
"
openstack%2Fneutron~master~I171e03218e9c6c44eb45d89a7d83fa8eac58573c,openstack/neutron,master,secure-rbac,I171e03218e9c6c44eb45d89a7d83fa8eac58573c,Implement secure RBAC for subnet pool API,MERGED,2020-12-03 23:04:21.000000000,2021-03-06 04:12:11.000000000,2021-03-06 04:08:27.000000000,123,54,10,765391,f58d09686ce682c5ecc2772c32bceaea8e61ba4c,52,7,7,1,5046,Lance Bragstad,ldbragst,"Implement secure RBAC for subnet pool API

This commit updates the subnet pool policies to understand scope checking and
account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: I171e03218e9c6c44eb45d89a7d83fa8eac58573c
"
openstack%2Fneutron~master~Ibacb2c2ef4f3ab9f55c9f51dbd1023fce92ff64d,openstack/neutron,master,secure-rbac,Ibacb2c2ef4f3ab9f55c9f51dbd1023fce92ff64d,Implement secure RBAC for availability_zone API,MERGED,2020-12-03 15:55:37.000000000,2021-03-06 04:10:49.000000000,2021-03-06 04:07:59.000000000,14,5,6,765344,74e54e240f7a78d4ccc8e4274d7605edafd25509,27,8,4,1,11975,Slawek Kaplonski,slaweq,"Implement secure RBAC for availability_zone API

This commit updates the policies for availability_zone API
to understand scope checking and account for a read-only role.

This is part of a broader series of changes across OpenStack to
provide a consistent RBAC experience and improve security.

Partially-Implements blueprint: secure-rbac-roles

Change-Id: Ibacb2c2ef4f3ab9f55c9f51dbd1023fce92ff64d
"
openstack%2Fneutron~stable%2Ftrain~Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,openstack/neutron,stable/train,bug/1907068-stable/victoria-stable/ussuri-stable/train,Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,Add some wait time between stopping and starting again ovsdb monitor,MERGED,2021-03-05 09:33:51.000000000,2021-03-06 04:10:45.000000000,2021-03-06 04:08:18.000000000,4,0,0,778827,faa7289027bec9da293a8b20986fd2e2f9429c37,10,3,1,1,11975,Slawek Kaplonski,slaweq,"Add some wait time between stopping and starting again ovsdb monitor

In functional tests of the ovsdb_monitor, sometimes during high load
of the host where tests are run, ""error"" message from the killed process
can be received by neutron's async_process after new process was
already spawned.
And that causes failure of the test as new ovsdb_monitor will not
receive events which are expected.

To workaround that issue this patch adds sleep for few seconds between
stopping old and starting new ovsdb_monitor process.

Closes-Bug: #1907068
Change-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c
(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)
"
openstack%2Fneutron~stable%2Ftrain~Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,openstack/neutron,stable/train,bug/1917448-stable/victoria-stable/ussuri-stable/train,Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,Fix wrong packet_type set for IPv6 GRE tunnels in OVS,MERGED,2021-03-03 10:20:48.000000000,2021-03-06 04:04:36.000000000,2021-03-06 04:02:17.000000000,3,2,0,778416,346866777f11db4e1860aabb9c780393edecdb88,13,3,1,3,11975,Slawek Kaplonski,slaweq,"Fix wrong packet_type set for IPv6 GRE tunnels in OVS

In patch [1] it was by mistake set to ""legacy"" but it should be
""legacy_l2"".
This patch fixes that mistake.

Closes-bug: #1917448

[1] https://review.opendev.org/c/openstack/neutron/+/763204

Conflicts:
    neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238
(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)
"
openstack%2Ftripleo-common~stable%2Fussuri~I24615a067a56ac226b07c2ebcf477b3682dfed2f,openstack/tripleo-common,stable/ussuri,tripleo-ci-reduce,I24615a067a56ac226b07c2ebcf477b3682dfed2f,Remove layout override and wire up buildimage template instead,MERGED,2021-03-03 10:47:07.000000000,2021-03-06 03:59:03.000000000,2021-03-06 03:54:57.000000000,1,15,0,778408,88f5c8902744470fc98eab1769347eb70957264d,10,5,1,1,8449,Marios Andreou,marios,"Remove layout override and wire up buildimage template instead

This wires up the tripleo-buildimage-jobs and updates buildimage
job overrides in the check layout. The depends-on adds the
files: matches in the template layout so no need to override here.
The gate layout overrides are removed altogether as we don't want
the dependencies: optimization in the gate. Part of wider tripleo-ci
optimization [1].

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/777083

Change-Id: I24615a067a56ac226b07c2ebcf477b3682dfed2f
(cherry picked from commit ca603f39b6d612fd2950cd7d7eb84ae3e2cecff9)
"
openstack%2Ftripleo-quickstart~master~I79a29622d87ac72fb0a030af3b5a929fc24af020,openstack/tripleo-quickstart,master,centos-8-stream-content-master,I79a29622d87ac72fb0a030af3b5a929fc24af020,Updating promotion testing hash master to c8 stream repos and baseos image,MERGED,2021-02-10 17:49:10.000000000,2021-03-06 03:59:00.000000000,2021-03-06 03:55:06.000000000,9,9,0,774911,e3fb0544bc7a377176b31c1c47273593f395f7e5,16,6,2,1,32458,Ananya,frenzyfriday,"Updating promotion testing hash master to c8 stream repos and baseos image

8-stream - BaseOS, AppStream, PowerTools, HighAvailability, extras,
8 - ceph-nautilus, ceph-octopus, collectd-5

Change-Id: I79a29622d87ac72fb0a030af3b5a929fc24af020
"
openstack%2Fglance~master~Ie97b226e65af4ee995be6f539ad33e1fbd8cc375,openstack/glance,master,,Ie97b226e65af4ee995be6f539ad33e1fbd8cc375,DNM: Test if fake method works in cache middleware tests,ABANDONED,2021-03-05 20:10:07.000000000,2021-03-06 03:58:57.000000000,,1,0,0,779042,289e2fa1f4a8c9ef4835f8aac7436e9aacc272b2,5,1,2,1,5046,Lance Bragstad,ldbragst,"DNM: Test if fake method works in cache middleware tests

I'm updating the policy code in the cache middleware to enforce proper
targets and the tests are failing to translate the ImageTarget to a
dictionary.

In the process of updating the ImageStub, I became suspicious that the
fake code was running.

I attempted to break this by throwing an exception in the fake
implementation, but it passes for me locally.

Change-Id: Ie97b226e65af4ee995be6f539ad33e1fbd8cc375
"
openstack%2Ftripleo-common~stable%2Ftrain~I24615a067a56ac226b07c2ebcf477b3682dfed2f,openstack/tripleo-common,stable/train,tripleo-ci-reduce,I24615a067a56ac226b07c2ebcf477b3682dfed2f,Remove layout override and wire up buildimage template instead,MERGED,2021-03-03 10:54:03.000000000,2021-03-06 03:58:56.000000000,2021-03-06 03:55:02.000000000,1,15,0,778410,d6da694b0f39b897d3c2a22642e8d48ea619e659,10,7,1,1,8449,Marios Andreou,marios,"Remove layout override and wire up buildimage template instead

This wires up the tripleo-buildimage-jobs and updates buildimage
job overrides in the check layout. The depends-on adds the
files: matches in the template layout so no need to override here.
The gate layout overrides are removed altogether as we don't want
the dependencies: optimization in the gate. Part of wider tripleo-ci
optimization [1].

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/777083

Change-Id: I24615a067a56ac226b07c2ebcf477b3682dfed2f
(cherry picked from commit ca603f39b6d612fd2950cd7d7eb84ae3e2cecff9)
"
openstack%2Fneutron~stable%2Frocky~Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,openstack/neutron,stable/rocky,bug/1907068-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky,Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,Add some wait time between stopping and starting again ovsdb monitor,MERGED,2021-03-05 09:39:48.000000000,2021-03-06 03:57:36.000000000,2021-03-06 03:57:36.000000000,4,0,0,778829,07fb325b44b7420279cdcc8b18135ba3de2de45b,7,3,1,1,11975,Slawek Kaplonski,slaweq,"Add some wait time between stopping and starting again ovsdb monitor

In functional tests of the ovsdb_monitor, sometimes during high load
of the host where tests are run, ""error"" message from the killed process
can be received by neutron's async_process after new process was
already spawned.
And that causes failure of the test as new ovsdb_monitor will not
receive events which are expected.

To workaround that issue this patch adds sleep for few seconds between
stopping old and starting new ovsdb_monitor process.

Closes-Bug: #1907068
Change-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c
(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)
"
openstack%2Ftripleo-common~stable%2Fvictoria~I24615a067a56ac226b07c2ebcf477b3682dfed2f,openstack/tripleo-common,stable/victoria,tripleo-ci-reduce,I24615a067a56ac226b07c2ebcf477b3682dfed2f,Remove layout override and wire up buildimage template instead,MERGED,2021-03-03 10:41:34.000000000,2021-03-06 03:14:53.000000000,2021-03-06 03:11:42.000000000,1,15,0,778406,ead9b50f057be61c6665ee6e179ab0b396668d47,13,5,1,1,8449,Marios Andreou,marios,"Remove layout override and wire up buildimage template instead

This wires up the tripleo-buildimage-jobs and updates buildimage
job overrides in the check layout. The depends-on adds the
files: matches in the template layout so no need to override here.
The gate layout overrides are removed altogether as we don't want
the dependencies: optimization in the gate. Part of wider tripleo-ci
optimization [1].

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/777083

Change-Id: I24615a067a56ac226b07c2ebcf477b3682dfed2f
(cherry picked from commit ca603f39b6d612fd2950cd7d7eb84ae3e2cecff9)
"
openstack%2Fcinder~master~I667213a1abb025010dc306e4a012dd87c4818756,openstack/cinder,master,expand-rep-vol,I667213a1abb025010dc306e4a012dd87c4818756,PowerMax Driver - Extend replicated volume,MERGED,2020-12-15 14:56:04.000000000,2021-03-06 02:47:07.000000000,2021-03-05 00:02:11.000000000,6,2,2,767172,881f72569ac0e509a459f808c18eed06dcf01f10,89,6,2,3,12670,Helen Walsh,walshh2,"PowerMax Driver - Extend replicated volume

In a replicated scenario it is possible for an R2 volume to be larger
than its paired R1 if we do not force a new volume creation on both
sides of the pair.  While using existing volumes is more efficient it
throws an exception if we want to extend the R1 to a size that is less
than or equal to the R2.

To fix this we are setting the create_new_volumes flag to true for
all replicated volumes.  It will remain false for non replicated volumes.

Change-Id: I667213a1abb025010dc306e4a012dd87c4818756
"
openstack%2Foctavia~stable%2Fvictoria~I736816247131715f5c385b4680614ec3218a2ad7,openstack/octavia,stable/victoria,,I736816247131715f5c385b4680614ec3218a2ad7,Fix pools going into ERROR when updating the pool,MERGED,2021-02-22 08:20:48.000000000,2021-03-06 02:44:00.000000000,2021-03-06 02:42:22.000000000,41,14,0,776906,3acd516e6168202c526b66962bab3c4bfd7b687b,16,4,2,5,6469,Carlos Gonçalves,cgoncalves,"Fix pools going into ERROR when updating the pool

There was a bug that would cause a pool to go into ERROR if you attempted
to update the CRL or client certificate on the pool.

Change-Id: I736816247131715f5c385b4680614ec3218a2ad7
Story: 2008295
Task: 41180
(cherry picked from commit 370aa4e61c421311b06d986aafdf123cd6737fd8)
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I31f2a554b03677fe29bd1186dee5d278b6d0554b,openstack/python-tripleoclient,stable/train,cli/backup-stable/train,I31f2a554b03677fe29bd1186dee5d278b6d0554b,Modifying Openstack client for undercloud and overcloud backup,MERGED,2021-02-18 18:29:50.000000000,2021-03-06 02:36:38.000000000,2021-03-06 02:35:02.000000000,842,15,0,776514,5929466e8d053f6a931de6550f95ead8c01527af,7,6,1,6,32728,Juan Pablo Lopez,jplopezgu,"Modifying Openstack client for undercloud and overcloud backup

- Not a clean cherry-pick
- Adding v1/overcloud_backup.py and test/overcloud_backup/
  to cover overcloud backup use case and following the structure
  of stable/ussuri and stable/victoria.
- Old Undercloud backup was renamed as legacy, and it is only executed
  if any of the flags '--add-path' or '--exclude-path' is used.
- The new functionallity, which uses Ansible and BAR role from
  tripleo-ansible will be default behavior unless the previous
  stated condition.
- Updating setup.cfg to add overcloud_backup.
- '--init' flag was marked with WARNING indicating it will be
  deprecated and replaced by '--setup-nfs' and '--setup-rear'.
  Now it receives arguments: 'rear' and 'nfs'. Defaults to: rear,
  so it doesn't break interface.
- '--setup-nfs' flag added which installs and configure NFS
  on the 'BackupNode' host.
- '--setup-rear' flag added which installs and configure ReaR
  on the 'Undercloud' or the 'Controller' nodes.
- '--extra-vars' was enabled to pass variables to the playbooks
  by specifying JSON/YAML string or full path of the file.
- Now 'tags' parameter is used internally to specify which
  tasks to run.
- '--storage-ip' flag on overcloud backup command was marked with
  WARNING indicating it will be deprecated in favor of '--extra-vars'
  which allows to pass this and more properties.
  Thought, it has precedence over '--extra-vars'. If used it will replace
  the '--extra-vars' property 'tripleo_backup_and_restore_nfs_server'.

Bugzilla: #1824806
Change-Id: I31f2a554b03677fe29bd1186dee5d278b6d0554b
(cherry picked from commit 945882fe726c66a9bf6b1f8f39d61141ebc38f78)
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I31f2a554b03677fe29bd1186dee5d278b6d0554b,openstack/python-tripleoclient,stable/ussuri,cli/backup-stable/ussuri,I31f2a554b03677fe29bd1186dee5d278b6d0554b,Modifying Openstack client for undercloud and overcloud backup,MERGED,2021-02-12 12:34:14.000000000,2021-03-06 02:32:55.000000000,2021-03-06 02:31:07.000000000,1096,268,10,775374,8c45380b7ada734ee4ac58baf6ea980ffff1ac9f,25,6,9,8,32728,Juan Pablo Lopez,jplopezgu,"Modifying Openstack client for undercloud and overcloud backup

- Adding v1/overcloud_backup.py and test/overcloud_backup/
  to cover overcloud backup use case and following the structure
  of stable/victoria.
- Moving back v2/undercloud_backup.py to v1/undercloud_backup.py
  to follow same structure of stable/victoria.
- Moving back tests/v2/undercloud/test_backup.py to
  tests/v1/undercloud/test_backup.py to follow same structure
  of stable/victoria.
- Updating setup.cfg from undercloud_backup v2 to v1 and adding
  overcloud_backup.
- '--init' flag was marked with WARNING indicating it will be
  deprecated and replaced by '--setup-nfs' and '--setup-rear'.
  Now it receives arguments: 'rear' and 'nfs'. Defaults to: rear,
  so it doesn't break interface.
- '--setup-nfs' flag added which installs and configure NFS
  on the 'BackupNode' host.
- '--setup-rear' flag added which installs and configure ReaR
  on the 'Undercloud' or the 'Controller' nodes.
- '--extra-vars' was enabled to pass variables to the playbooks
  by specifying JSON/YAML string or full path of the file.
- Now 'tags' parameter is used internally to specify which
  tasks to run.
- '--storage-ip' flag on overcloud backup command was marked with
  WARNING indicating it will be deprecated in favor of '--extra-vars'
  which allows to pass this and more properties.
  Thought, it has precedence over '--extra-vars'. If used it will replace
  the '--extra-vars' property 'tripleo_backup_and_restore_nfs_server'.

Bugzilla: #1824806
Change-Id: I31f2a554b03677fe29bd1186dee5d278b6d0554b
(cherry picked from commit 945882fe726c66a9bf6b1f8f39d61141ebc38f78)
"
openstack%2Fneutron~stable%2Fussuri~Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,openstack/neutron,stable/ussuri,bug/1907068-stable/victoria-stable/ussuri,Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,Add some wait time between stopping and starting again ovsdb monitor,MERGED,2021-03-05 09:30:37.000000000,2021-03-06 02:25:52.000000000,2021-03-06 02:23:44.000000000,4,0,0,778826,f8f1eaf8f06158995e45180c7b9ad5e553bc1e31,8,3,1,1,11975,Slawek Kaplonski,slaweq,"Add some wait time between stopping and starting again ovsdb monitor

In functional tests of the ovsdb_monitor, sometimes during high load
of the host where tests are run, ""error"" message from the killed process
can be received by neutron's async_process after new process was
already spawned.
And that causes failure of the test as new ovsdb_monitor will not
receive events which are expected.

To workaround that issue this patch adds sleep for few seconds between
stopping old and starting new ovsdb_monitor process.

Closes-Bug: #1907068
Change-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c
(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)
"
openstack%2Fneutron~stable%2Ftrain~I080381cb8a88a27130ac21c0e27fc915e38bdedd,openstack/neutron,stable/train,improve-neutron-ci-stable/victoria-stable/ussuri-stable/train,I080381cb8a88a27130ac21c0e27fc915e38bdedd,Ignore python warnings in the fullstack job,MERGED,2021-03-04 13:34:58.000000000,2021-03-06 02:10:30.000000000,2021-03-06 02:08:24.000000000,3,0,0,778684,a0165b1beb1f6861971887aa688dc7d4652ddd41,9,4,1,1,11975,Slawek Kaplonski,slaweq,"Ignore python warnings in the fullstack job

If there is too much output produced to the stdout/stderr during the
tests, stestr can hangs and job will then time out.
To avoid that in fullstack job, this patch is doing the same what
was already done for functional job as well - set PYTHONWARNINGS
variable to ""ignore"" to ignore all warnings and not send them to stdout.
All info really needed to debug tests is still in the tests' logs in
specific directories.

Change-Id: I080381cb8a88a27130ac21c0e27fc915e38bdedd
(cherry picked from commit 14955f93f6841fc65b7d761f15cf2227f31042d8)
"
openstack%2Fneutron~stable%2Fstein~I080381cb8a88a27130ac21c0e27fc915e38bdedd,openstack/neutron,stable/stein,improve-neutron-ci-stable/victoria-stable/ussuri-stable/train-stable/stein,I080381cb8a88a27130ac21c0e27fc915e38bdedd,Ignore python warnings in the fullstack job,MERGED,2021-03-04 13:36:59.000000000,2021-03-06 02:10:15.000000000,2021-03-06 02:08:16.000000000,3,0,0,778685,72802580b3bc6e4935ff31ddd9bb7b80b0686e50,8,3,1,1,11975,Slawek Kaplonski,slaweq,"Ignore python warnings in the fullstack job

If there is too much output produced to the stdout/stderr during the
tests, stestr can hangs and job will then time out.
To avoid that in fullstack job, this patch is doing the same what
was already done for functional job as well - set PYTHONWARNINGS
variable to ""ignore"" to ignore all warnings and not send them to stdout.
All info really needed to debug tests is still in the tests' logs in
specific directories.

Change-Id: I080381cb8a88a27130ac21c0e27fc915e38bdedd
(cherry picked from commit 14955f93f6841fc65b7d761f15cf2227f31042d8)
"
openstack%2Fneutron~stable%2Fussuri~I080381cb8a88a27130ac21c0e27fc915e38bdedd,openstack/neutron,stable/ussuri,improve-neutron-ci-stable/victoria-stable/ussuri,I080381cb8a88a27130ac21c0e27fc915e38bdedd,Ignore python warnings in the fullstack job,MERGED,2021-03-04 13:34:23.000000000,2021-03-06 01:56:21.000000000,2021-03-06 01:54:42.000000000,3,0,0,778683,b16c29faf23aac54f2e924d2ed90232da6004f2a,9,4,1,1,11975,Slawek Kaplonski,slaweq,"Ignore python warnings in the fullstack job

If there is too much output produced to the stdout/stderr during the
tests, stestr can hangs and job will then time out.
To avoid that in fullstack job, this patch is doing the same what
was already done for functional job as well - set PYTHONWARNINGS
variable to ""ignore"" to ignore all warnings and not send them to stdout.
All info really needed to debug tests is still in the tests' logs in
specific directories.

Change-Id: I080381cb8a88a27130ac21c0e27fc915e38bdedd
(cherry picked from commit 14955f93f6841fc65b7d761f15cf2227f31042d8)
"
openstack%2Fneutron~stable%2Fvictoria~I080381cb8a88a27130ac21c0e27fc915e38bdedd,openstack/neutron,stable/victoria,improve-neutron-ci-stable/victoria,I080381cb8a88a27130ac21c0e27fc915e38bdedd,Ignore python warnings in the fullstack job,MERGED,2021-03-04 13:33:36.000000000,2021-03-06 01:56:08.000000000,2021-03-06 01:54:33.000000000,3,0,0,778682,d9ca847ff308f0e776e324da34e5498d6b2efeb0,9,4,1,1,11975,Slawek Kaplonski,slaweq,"Ignore python warnings in the fullstack job

If there is too much output produced to the stdout/stderr during the
tests, stestr can hangs and job will then time out.
To avoid that in fullstack job, this patch is doing the same what
was already done for functional job as well - set PYTHONWARNINGS
variable to ""ignore"" to ignore all warnings and not send them to stdout.
All info really needed to debug tests is still in the tests' logs in
specific directories.

Change-Id: I080381cb8a88a27130ac21c0e27fc915e38bdedd
(cherry picked from commit 14955f93f6841fc65b7d761f15cf2227f31042d8)
"
openstack%2Fopenstack-helm~master~Ibf7a9251da7d268472510211a55ae2798746cb13,openstack/openstack-helm,master,ceph-radosgateway,Ibf7a9251da7d268472510211a55ae2798746cb13,Fix name of variables error About ceph-rgw,MERGED,2021-03-03 06:43:15.000000000,2021-03-06 01:24:15.000000000,2021-03-06 01:22:08.000000000,1,1,0,778363,0ba0252bf3f35de75352f01de196ff3588c35a06,17,7,2,1,30449,jinyuanliu,jinyuanliu,"Fix name of variables error About ceph-rgw

The name of variables should be OSH_EXTRA_HELM_ARGS_CEPH_RGW.

Change-Id: Ibf7a9251da7d268472510211a55ae2798746cb13
"
openstack%2Fneutron~stable%2Frocky~Iecce8d2c6c2c46718cc1020c6e8f914cd4560e4b,openstack/neutron,stable/rocky,bug/1832021,Iecce8d2c6c2c46718cc1020c6e8f914cd4560e4b,Workaround for TCP checksum issue with ovs-dpdk and  veth pair,MERGED,2021-03-01 17:53:35.000000000,2021-03-06 00:48:53.000000000,2021-03-06 00:48:53.000000000,61,0,1,778041,e87f18d2fcee2be36c001f7df623ca9c0aa3baad,10,4,2,5,10058,Erlon R. Cruz,sombrafam,"Workaround for TCP checksum issue with ovs-dpdk and  veth pair

The need for this change stems from following issues:
1) When ovs_use_veth = False with ovs-dpdk issue with ovs
was observed - after vswitch restart interface is not comming up.
Meaning ovs-dpdk uses ovs internal ports and it is not able to bring
them up on restart.
2) When ovs_use_veth = True and ovs-dpkd is used, packets sent with
incorrect checksum due to the fact that ovs-dpdk does not do checksum
calculations for veth interface.

This commit allows to use second option and resolve checksum issue by
disabling checksum offload.

Closes-Bug: #1832021
Related-Bug: #1831935

Change-Id: Iecce8d2c6c2c46718cc1020c6e8f914cd4560e4b
(cherry picked from commit 11838a2bc50caa40e776bce211f5f2d1d16a14af)
"
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Ia1337dcbeceed485eda14733221164529daf0856,openstack/python-tripleoclient,stable/victoria,container-labels,Ia1337dcbeceed485eda14733221164529daf0856,Add label argument for the container image build,MERGED,2021-03-02 19:15:46.000000000,2021-03-06 00:18:57.000000000,2021-03-06 00:17:21.000000000,44,0,0,778115,530b3aad98dcddaa33c5cb6aa04b2710b5a257fa,10,4,1,2,7353,Kevin Carter,cloudnull,"Add label argument for the container image build

This change adds a new argument for the container image build CLI,
which allows operators to inject specific labels into a build that
also supports basic string replacement from user input. This
feature will allow maintainers and vendors to appropriately label
their container images without running any post validation or
injection.

Change-Id: Ia1337dcbeceed485eda14733221164529daf0856
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 2c5927a5ad3c2066b4aebd8bc1cee9563454eaa7)
"
openstack%2Fcinder~master~I680cb8c4be13bcd3ac6785a7afa81ce5d3477f91,openstack/cinder,master,secure-rbac,I680cb8c4be13bcd3ac6785a7afa81ce5d3477f91,Properly handle InvalidScope exceptions,MERGED,2021-02-16 20:49:57.000000000,2021-03-05 23:52:20.000000000,2021-03-05 05:29:42.000000000,36,8,0,775931,118da903b1ff15805ae2efaf397d139145e1cf0c,81,4,3,4,5046,Lance Bragstad,ldbragst,"Properly handle InvalidScope exceptions

Now that we're starting to set scope_types on default policies, we
should make sure we handle InvalidScope exceptions from oslo.policy in
the event enforce_scope=True. Operators won't use this switch for a
while, but it prepares us for when cinder will be system-scope aware.

This commit also bumps the minimum version of oslo.policy to 3.6.2,
which is safer when running tests in parallel with different
policy configurations.

Change-Id: I680cb8c4be13bcd3ac6785a7afa81ce5d3477f91
"
openstack%2Ftacker~master~Id7c190768f21be0df4189bdc805a002a0958b9d0,openstack/tacker,master,dnmpatch,Id7c190768f21be0df4189bdc805a002a0958b9d0,[DNM] Fix the retry issue in IF condition,ABANDONED,2021-03-05 10:24:24.000000000,2021-03-05 23:31:50.000000000,,2,2,0,778876,8a8639f769bc56964794c2ac2bbbed7adeffbb3a,6,1,2,1,32219,Aldinson C. Esto,esto-aln,"[DNM] Fix the retry issue in IF condition

Change-Id: Id7c190768f21be0df4189bdc805a002a0958b9d0
"
openstack%2Ftacker~master~I782eb49b809149da34d6505d74c6a9dff30c3a35,openstack/tacker,master,dnmpatch,I782eb49b809149da34d6505d74c6a9dff30c3a35,[DNM] Check retry for MySQL issues,ABANDONED,2021-02-26 17:31:22.000000000,2021-03-05 23:31:20.000000000,,2412,322,4,777773,1dc6ac24467707607660a44e0c3121d308d8433a,20,1,6,21,32219,Aldinson C. Esto,esto-aln,"[DNM] Check retry for MySQL issues

Change-Id: I782eb49b809149da34d6505d74c6a9dff30c3a35
"
openstack%2Ftacker~master~I435cc0dccb13625cca4b8260d691ba8a04e07edf,openstack/tacker,master,DNMPatch,I435cc0dccb13625cca4b8260d691ba8a04e07edf,[DNM] Test proper fixes for retry,ABANDONED,2021-03-05 14:25:53.000000000,2021-03-05 23:30:44.000000000,,2412,322,0,778941,e85b4518c0e99ed98ed3320b28c9291b384b43a6,3,1,1,21,32219,Aldinson C. Esto,esto-aln,"[DNM] Test proper fixes for retry

Change-Id: I435cc0dccb13625cca4b8260d691ba8a04e07edf
"
openstack%2Fovn-octavia-provider~master~I682997a4fceb139419a4b12d9c8fc6c504c329d5,openstack/ovn-octavia-provider,master,assertCountEqual,I682997a4fceb139419a4b12d9c8fc6c504c329d5,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-09-24 21:28:00.000000000,2021-03-05 22:51:22.000000000,2021-03-05 22:49:10.000000000,18,5,0,754219,884d5e15789e737be33471f53e77efbf1f822d34,8,4,1,4,1131,Brian Haley,brian-haley,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual.

Change-Id: I682997a4fceb139419a4b12d9c8fc6c504c329d5
"
openstack%2Fopenstack-helm~master~Ib52e77330cadf45bd3353bfaedc251485620d9f8,openstack/openstack-helm,master,Remove_congress,Ib52e77330cadf45bd3353bfaedc251485620d9f8,Remove congress residue,MERGED,2021-03-04 12:34:44.000000000,2021-03-05 22:49:58.000000000,2021-03-05 22:45:35.000000000,2,37,0,778668,86fd8dd1344cda72386756be928cbc62b5746ccf,16,3,2,4,30449,jinyuanliu,jinyuanliu,"Remove congress residue

About congress chart,It's been removed,Remove congress residue now.

Related-Bug: #1917762
Change-Id: Ib52e77330cadf45bd3353bfaedc251485620d9f8
"
openstack%2Fopenstack-helm~master~I291d973946387a9c7742a2ff84be7b16de3e18da,openstack/openstack-helm,master,change-775256-5,I291d973946387a9c7742a2ff84be7b16de3e18da,Add nfs cinder backup override,MERGED,2021-02-11 19:13:51.000000000,2021-03-05 22:48:09.000000000,2021-03-05 22:45:24.000000000,26,1,0,775256,379f95bc44981dbd1b3095069d9cfeca2cb30cc0,67,11,7,3,27498,Lucas Cavalcante,lcavalca,"Add nfs cinder backup override

Story: 2008613
Task: 41818
Change-Id: I291d973946387a9c7742a2ff84be7b16de3e18da
Signed-off-by: Lucas Cavalcante <lucasmedeiros.cavalcante@windriver.com>
"
openstack%2Fovn-octavia-provider~master~I854094d4e31b834a51e7acfa34d6c9eccef9ab53,openstack/ovn-octavia-provider,master,delay-interp,I854094d4e31b834a51e7acfa34d6c9eccef9ab53,Delay string interpolations at logging calls,MERGED,2021-01-29 19:25:55.000000000,2021-03-05 22:39:21.000000000,2021-03-05 22:36:43.000000000,5,8,0,773175,22250628375ab0644dd25e2bcce8f7de061e9e9e,12,3,1,1,1131,Brian Haley,brian-haley,"Delay string interpolations at logging calls

Fix two places where we were constructing strings
even if we might not log them.

Change-Id: I854094d4e31b834a51e7acfa34d6c9eccef9ab53
"
openstack%2Fovn-octavia-provider~master~Ida43d9123ab3e26b9cf4b0cbe157be187d7d1241,openstack/ovn-octavia-provider,master,use-max-config,Ida43d9123ab3e26b9cf4b0cbe157be187d7d1241,Use get_ovn_ovsdb_retry_max_interval(),MERGED,2020-12-01 19:57:40.000000000,2021-03-05 22:37:21.000000000,2021-03-05 22:36:09.000000000,3,1,0,764998,037d3d071a7d583746cd9e484724ce665e56440e,8,4,1,1,1131,Brian Haley,brian-haley,"Use get_ovn_ovsdb_retry_max_interval()

Use the config option instead of a hard-coded 180 in
OvnNbIdlForLb class.

Change-Id: Ida43d9123ab3e26b9cf4b0cbe157be187d7d1241
"
openstack%2Fopenstack-chef~stable%2Fstein~Idfc0afd9ddbd9085f5b39267a50eb949930a0c70,openstack/openstack-chef,stable/stein,change-778801-1,Idfc0afd9ddbd9085f5b39267a50eb949930a0c70,Pin berkshelf to < 7.2.0 to work around issues with Chef/Cinc 15,MERGED,2021-03-05 00:55:04.000000000,2021-03-05 22:32:51.000000000,2021-03-05 22:30:36.000000000,4,2,0,778801,df12478f99a8e8669b2444819ed8db7545636960,12,2,3,2,21961,Lance Albertson,ramereth,"Pin berkshelf to < 7.2.0 to work around issues with Chef/Cinc 15

This works around a problem that was introducted in berkshelf-7.2.0 for Ruby 3.0
support that now breaks berks with the following error:

  ArgumentError wrong number of arguments (given 3, expected 1..2)

This should be removed after we remove support for Chef/Cinc 15.

In addition, fix version constraint on openstackdocstheme to fix doc builds.

Signed-off-by: Lance Albertson <lance@osuosl.org>
Change-Id: Idfc0afd9ddbd9085f5b39267a50eb949930a0c70
"
openstack%2Ftripleo-ansible~master~I64846594123b9d5f333082b3f7714186713caffb,openstack/tripleo-ansible,master,user_home,I64846594123b9d5f333082b3f7714186713caffb,Ensure $HOME dir exists and has the right owner/group,MERGED,2021-03-04 09:34:08.000000000,2021-03-05 22:23:26.000000000,2021-03-05 22:23:26.000000000,10,0,17,778624,7e67d35c3d0d19f2b78b15e04812fa8af2709cae,53,9,4,2,25402,Francesco Pantano,fmount,"Ensure $HOME dir exists and has the right owner/group

This changes adds an additional task to make sure the
output of the useradd module is consistent when the
HOME dir for a given user is created.
In particular this tasks ensure the HOME dir has the
right owner/group associated to the user that has been
created.

Closes-Bug: #1917856
Change-Id: I64846594123b9d5f333082b3f7714186713caffb
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I9751aa9b6739e8083103791579c1d5a71b938b0b,openstack/tripleo-ansible,stable/train,fix11-stable/train,I9751aa9b6739e8083103791579c1d5a71b938b0b,Fix triple molecule modules job,MERGED,2021-03-03 03:37:14.000000000,2021-03-05 22:23:22.000000000,2021-03-05 22:23:22.000000000,55,6,0,778244,2715f5def0c5b396e0545d5a4ee1cd77a072e750,8,5,1,2,10969,Shnaidman Sagi (Sergey),sergsh,"Fix triple molecule modules job

Remove --detach when not starting container.
Change-Id: I9751aa9b6739e8083103791579c1d5a71b938b0b
(cherry picked from commit 4eee228dc572a4365dc950ef4e30667f0d807338)
"
openstack%2Fcharm-mysql-router~master~Icd30f9ade2c7aadbadaa57300c22786cde63957f,openstack/charm-mysql-router,master,bug/1915842,Icd30f9ade2c7aadbadaa57300c22786cde63957f,Implement validated restart on change,MERGED,2021-02-20 00:15:40.000000000,2021-03-05 22:12:26.000000000,2021-03-05 22:12:26.000000000,213,32,1,776764,80339e4625b0bd956ffe65ad6d64d5b8fe9f2509,27,4,4,5,20805,David Ames,thedac,"Implement validated restart on change

Add new metadata cache parameters.
Use the charm-helpers' pausable_restart_on_change for config-changed
Validate connectivity on restart to resolve LP Bug #1915842

See ""Metadata Cache Options""
https://dev.mysql.com/doc/mysql-router/8.0/en/mysql-router-conf-options.html

Closes-Bug: #1915842
Change-Id: Icd30f9ade2c7aadbadaa57300c22786cde63957f
"
openstack%2Fkeystone-tempest-plugin~master~Ic9a81a55073e03886bddb9a0888ac450b95b61cd,openstack/keystone-tempest-plugin,master,secure-rbac,Ic9a81a55073e03886bddb9a0888ac450b95b61cd,Consume enforce_scope config from Tempest,NEW,2021-03-05 16:01:05.000000000,2021-03-05 22:10:10.000000000,,1,5,0,778980,b9b5bb9816ef5da02332f7f078532a876a14cea1,2,1,1,2,8556,Ghanshyam,ghanshyam,"Consume enforce_scope config from Tempest

Tempest has added a centralized config option to tell if
services has enforce_scope enabled in test env so that their
test can be run with scoped token.
- https://review.opendev.org/c/openstack/tempest/+/773816

CONF.enforce_scope.<service-name>

Depends-On: https://review.opendev.org/c/openstack/keystone/+/778979
Change-Id: Ic9a81a55073e03886bddb9a0888ac450b95b61cd
"
openstack%2Fkayobe~stable%2Fvictoria~Id5ed0b594d6270c4a03606caa776bbb291be2694,openstack/kayobe,stable/victoria,ipa-extra-hardware-stable/victoria,Id5ed0b594d6270c4a03606caa776bbb291be2694,Update IPA docs and test build with extra-hardware,MERGED,2021-02-22 15:38:08.000000000,2021-03-05 21:52:58.000000000,2021-03-05 21:50:19.000000000,10,30,0,776947,6df44cd4bfeff56c216b7c9441224b294093d56a,17,3,3,2,15197,Pierre Riteau,priteau,"Update IPA docs and test build with extra-hardware

Change-Id: Id5ed0b594d6270c4a03606caa776bbb291be2694
(cherry picked from commit d765fbc5ebb7c1a8f80d4c49f3846107e4f23189)
"
openstack%2Fglance~master~Iacbfb57cc8b85ef8163ab0900e2d4ad5723e715c,openstack/glance,master,secure-rbac,Iacbfb57cc8b85ef8163ab0900e2d4ad5723e715c,WIP: Pass a target to task policy enforce,ABANDONED,2021-03-05 00:08:42.000000000,2021-03-05 21:45:59.000000000,,4,3,1,778799,468cd5f17ba43ade73cc6de46ce07c664cd78040,6,1,1,1,4393,Dan Smith,danms,"WIP: Pass a target to task policy enforce

This is a guess, but the new rules want a target with a project_id,
I think. Maybe we're always failing with new defaults because of that?

This is an untested attempt to poke that. Probably will fail lots of
unit tests.

Change-Id: Iacbfb57cc8b85ef8163ab0900e2d4ad5723e715c
"
openstack%2Foctavia~stable%2Fvictoria~I6dd8e99b07ff557674871cb503dece96a9df3ada,openstack/octavia,stable/victoria,,I6dd8e99b07ff557674871cb503dece96a9df3ada,Disable auto configuration of new interfaces in NetworkManager,MERGED,2021-02-22 08:18:22.000000000,2021-03-05 21:40:03.000000000,2021-03-05 21:38:06.000000000,7,0,0,776903,b9f622b335dd4f95f1a6004bb94159f891ca0980,12,4,1,1,6469,Carlos Gonçalves,cgoncalves,"Disable auto configuration of new interfaces in NetworkManager

NetworkManager in Centos images configures new network devices as soon
as they appear in the default namespace, it means that we might have
conflicts between the management interface's routes and address and the
new VIP or member interfaces' routes and addresses during a small period
of time before they are moved to the amphora-haproxy namespace.

Now, the ""no-auto-default=*"" option is enabled in NetworkManager, it
disables the configuration of new interfaces, while the management
interface is still enabled/configured through cloud-init.

Story 2008599
Task 41773

Change-Id: I6dd8e99b07ff557674871cb503dece96a9df3ada
(cherry picked from commit a518cefda1332042d50e5ce2814f0af933c62457)
"
openstack%2Ftripleo-ansible~master~I607c29c45148b57dee34741397cf7a16ced8ef78,openstack/tripleo-ansible,master,bug/1915761,I607c29c45148b57dee34741397cf7a16ced8ef78,Enable fact bits for ceph execution,MERGED,2021-03-03 19:05:28.000000000,2021-03-05 21:36:46.000000000,2021-03-05 21:36:46.000000000,4,0,2,778553,ff8d309e9560826c918081a337a10524e13f4013,14,6,2,1,14985,Alex Schultz,mwhahaha,"Enable fact bits for ceph execution

ceph-ansible still requires that all the facts be collected by default
and inject fact vars is enabled. We want to turn that off for tripleo,
but in the mean time we need to force it back on when in run ansible for
ceph.

Change-Id: I607c29c45148b57dee34741397cf7a16ced8ef78
Related-Bug: #1915761
Related-Bug: #1917621
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,openstack/tripleo-ansible,stable/train,bz/1916162-stable/train,Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,[tripleo_transfer] Do transfers directly from src to dst,MERGED,2021-03-04 12:17:54.000000000,2021-03-05 21:36:42.000000000,2021-03-05 21:36:42.000000000,100,98,0,778665,eb70943c2de117288b3c228fa88c000d750a4635,12,6,2,5,6816,Jesse Pretorius,jesse-pretorius,"[tripleo_transfer] Do transfers directly from src to dst

When running fetch with become, the slurp module will also
be used to fetch the contents of the file for determining
the remote checksum. This effectively doubles the transfer
size [0] and shows up as a MemoryError when the file size
is large enough.

In TripleO this is problematic in large & old deployments
when transferring the /var/lib/mysql folder.

This patch switches to using rsync directly between the src
and dst hosts to transfer the data. This is advantageous not
only for solving the above-mentioned bug, but is also faster.

A simpler implementation using synchronize was attempted [1],
but there were issues with the mistral container which
prevented that approach from being successful.

[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes
[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11

Closes-Bug: #1908425
Closes-Bug: rhbz#1904681
Closes-Bug: rhbz#1916162
Depends-On: https://review.opendev.org/778650

Change-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f
(cherry picked from commit d7730980c9a45e93b314e5971e876e11b2ce12a9)
"
openstack%2Foctavia~stable%2Fvictoria~If403a90ec27721ef63b6ae666fd77dfc9df0295e,openstack/octavia,stable/victoria,,If403a90ec27721ef63b6ae666fd77dfc9df0295e,Fix PROXYV2 pools,MERGED,2021-02-02 09:07:28.000000000,2021-03-05 21:26:33.000000000,2021-03-05 21:24:09.000000000,5,0,0,773615,fb54ec51eeacb31f31c356eea46d2cf0b56c5c25,24,6,1,2,29244,Gregory Thiemonge,gthiemonge,"Fix PROXYV2 pools

There was a bug in the initial PROXYV2 patch that causes pools to
go into ERROR when using PROXYV2 protocol.
This patch corrects that issue.

Change-Id: If403a90ec27721ef63b6ae666fd77dfc9df0295e
Story: 2008237
Task: 41080
(cherry picked from commit 4024536621616c6df88686d80694b48dec612010)
"
openstack%2Foctavia~stable%2Fussuri~I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,openstack/octavia,stable/ussuri,,I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,Support deletion of all tags,MERGED,2021-02-02 08:41:57.000000000,2021-03-05 21:21:13.000000000,2021-03-05 21:19:21.000000000,20,5,0,773609,95a97cf1eba85222e4ff683b88878f0f030a2f11,19,5,1,2,29244,Gregory Thiemonge,gthiemonge,"Support deletion of all tags

Add support for removal of all tags by PUTing empty tags array.

Also moved assignment after initial session query for the
object in the listener update path.

Task: #41009
Story: #2008220

Change-Id: I7488f2fae61917f6d4a56cedd05bace7c5e2bc70
Signed-off-by: Andrew Karpow <andrew.karpow@sap.com>
(cherry picked from commit 7ad022379ff2e366d3dfd73113d4619b0137551c)
(cherry picked from commit adb4e78e4439181f57c17f277bad0cd325f219cf)
"
openstack%2Fkayobe~stable%2Fvictoria~I782be627c6e78370555bc7d155261fc15fc93348,openstack/kayobe,stable/victoria,,I782be627c6e78370555bc7d155261fc15fc93348,[DNM] Test Docker pull rate limits,ABANDONED,2021-02-26 10:20:24.000000000,2021-03-05 21:08:37.000000000,,109,0,20,777737,57d06e1dfd0fe615c9e3a353269744fee6ab3040,3,1,1,5,15197,Pierre Riteau,priteau,"[DNM] Test Docker pull rate limits

Change-Id: I782be627c6e78370555bc7d155261fc15fc93348
(cherry picked from commit 558e6efc058b7b4e622e0c89483f10fbf03fb0be)
"
openstack%2Ftripleo-heat-templates~master~I92353622994b28c895d95bdcbe348a73b6c6bb99,openstack/tripleo-heat-templates,master,ffu-mariadb-upgrade,I92353622994b28c895d95bdcbe348a73b6c6bb99,Upgrade mariadb storage during upgrade tasks,MERGED,2020-12-17 12:24:47.000000000,2021-03-05 20:52:40.000000000,2021-02-26 02:11:10.000000000,83,39,2,767524,712cfcc71bb9061082154460a6e04a619055f0a0,29,8,4,4,20778,Damien Ciabrini,dciabrin,"Upgrade mariadb storage during upgrade tasks

When a tripleo major upgrade or FFU causes an update or mariadb
to a new major version (e.g. 10.1 -> 10.3), some internal DB
tables must be upgraded (myisam tables), and sometimes the
existing user tables may be migrated to new mariadb defaults.

Move the db-specific upgrade steps into a dedicated script and
make sure that it is called at the right time while upgrading
the undercloud and/or the overcloud.

Closes-Bug: #1913438

Change-Id: I92353622994b28c895d95bdcbe348a73b6c6bb99
"
openstack%2Fbarbican~stable%2Fvictoria~Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0,openstack/barbican,stable/victoria,pkcs11-os-locking-stable/victoria,Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0,Use system locks in pkcs11 library,MERGED,2021-03-02 21:44:27.000000000,2021-03-05 20:36:10.000000000,2021-03-05 20:33:39.000000000,46,5,0,778239,7a889cd200cc7a30ce1240cfd9718a60b1dbea21,20,3,5,3,7973,Douglas Mendizábal,dougmendizabal,"Use system locks in pkcs11 library

This patch adds a new option to the PKCS#11 backend: `os_locking_ok`.
When set to true, the flag CKF_OS_LOCKING_OK is passed to the
C_Initialize function for the client library.

Change-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0
(cherry picked from commit b5b350b4ced9aa5e7c7af424c439be7097052b21)
"
openstack%2Fpython-glanceclient~master~Ia505cf6f47ca6c628e195be3ca5231d22d53040d,openstack/python-glanceclient,master,image-tasks-api,Ia505cf6f47ca6c628e195be3ca5231d22d53040d,Get tasks associated with image,MERGED,2021-02-18 08:17:42.000000000,2021-03-05 20:21:04.000000000,2021-03-05 20:15:21.000000000,159,0,18,776403,e0a35a1150a7afe1e28b8d9b59a9e41951276baa,28,5,4,7,9303,Abhishek Kekane,abhishekkekane,"Get tasks associated with image

Add support to get tasks associated with specific image.
bp: messages-api

Change-Id: Ia505cf6f47ca6c628e195be3ca5231d22d53040d
"
openstack%2Fopenstack-helm-infra~master~I41ca3ee2490eadce8d043cf6a757bf8569f31931,openstack/openstack-helm-infra,master,update-elastic-rbac,I41ca3ee2490eadce8d043cf6a757bf8569f31931,Update rbac api version for elastic-metricbeat,MERGED,2021-02-24 07:41:30.000000000,2021-03-05 19:33:28.000000000,2021-03-05 19:29:21.000000000,3,2,2,777305,2ff4c5c40ba136358bf67f4f6671d8b6a16132dd,19,5,2,3,30449,jinyuanliu,jinyuanliu,"Update rbac api version for elastic-metricbeat

When using a helm3 to deploy , it fail! Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.This change optimized deployment.

Change-Id: I41ca3ee2490eadce8d043cf6a757bf8569f31931
"
openstack%2Fopenstack-helm-infra~master~I2760befdc20e73989bce5cc581d086de57f91383,openstack/openstack-helm-infra,master,update-k8s-detector-rbac,I2760befdc20e73989bce5cc581d086de57f91383,Update rbac api version for kubernetes-node-problem-detector,MERGED,2021-02-24 07:54:45.000000000,2021-03-05 19:31:29.000000000,2021-03-05 19:29:01.000000000,3,2,2,777306,f33e27cf51193e89e8e717a5d04cfdda4dedf58d,17,5,2,3,30449,jinyuanliu,jinyuanliu,"Update rbac api version for kubernetes-node-problem-detector

When using a helm3 to deploy , it fails. Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.

Change-Id: I2760befdc20e73989bce5cc581d086de57f91383
"
openstack%2Fopenstack-helm-infra~master~Ib82120611659bd36bae35f2e90054642fb8ee31f,openstack/openstack-helm-infra,master,,Ib82120611659bd36bae35f2e90054642fb8ee31f,Rename mariadb backup identities,MERGED,2021-03-03 18:38:33.000000000,2021-03-05 19:29:07.000000000,2021-03-05 19:29:07.000000000,12,11,1,778541,5db88a5fb487521e1cf20506150d7ec77c520c7c,9,4,2,5,31746,Oleksandr Kozachenko,okozachenko,"Rename mariadb backup identities

Challenge:
Now remote_ks_admin and remote_rgw_user are using for user labels
of backup target openstack cloud.
When the backup user doesn't exist and we can enable job_ks_user
manifest.
But job_ks_user uses .Vaules.secrets.identity.admin and mariadb,
while secret-rgw and cron-job-backup-mariadb use .Values.secrets.
identity.remote_ks_admin and remote_rgw_user.
It requires to use same values for admin and remote_ks_admin,
and for mariadb and remote_rgw_user.
Seems it isbreaking values consistency.

Suggestion:
Now providing 2 kinds of backup - pvc and swift.
""remote_"" means the swift backup.
In fact, mariadb chart has no case to access to keystone except
swift backup. So we can remove remote_xx_* prefix and there is
no confusion.

Change-Id: Ib82120611659bd36bae35f2e90054642fb8ee31f
"
openstack%2Fpuppet-cinder~master~I5d4934549de9350b8816d688ce8526dbc5d0f603,openstack/puppet-cinder,master,bug/1915800,I5d4934549de9350b8816d688ce8526dbc5d0f603,Add ports filtering support to XtremIO Cinder driver,MERGED,2021-02-17 19:54:50.000000000,2021-03-05 19:22:16.000000000,2021-03-05 19:20:25.000000000,21,0,6,776260,cc8665d4738064e7e25466526d01c14903c6b505,23,10,3,4,31016,Ivan Pchelintsev,pcheli,"Add ports filtering support to XtremIO Cinder driver

If there are some iSCSI or FC targets (ESXi for example) that
are not connected to the OpenStack host,
attach volume operation waits until timeout.
The XtremIO Cinder driver needs a new option to support ports
filtering.

Depends-On: https://review.opendev.org/#/c/775798
Related-Bug: #1915800
Change-Id: I5d4934549de9350b8816d688ce8526dbc5d0f603
"
openstack%2Fopenstack-chef~stable%2Fstein~Ied3bb008208231bd4c9b6c2e86c716eac66267aa,openstack/openstack-chef,stable/stein,stable/stein-openstackdocstheme,Ied3bb008208231bd4c9b6c2e86c716eac66267aa,Switch to newer openstackdocstheme version,ABANDONED,2021-03-05 01:14:16.000000000,2021-03-05 19:19:47.000000000,,19,22,0,778802,78ca1f633cfef00d14449cc46e920dc1b64fa565,5,2,2,5,21961,Lance Albertson,ramereth,"Switch to newer openstackdocstheme version

Switch to openstackdocstheme 2.2.1 version. Using
this version will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Fixes for Stein branch:

- Use stien upper constraints file
- Temporarily disable Chef/Cinc 15 gates until this is merged

Change-Id: Ied3bb008208231bd4c9b6c2e86c716eac66267aa
Signed-off-by: Lance Albertson <lance@osuosl.org>
"
openstack%2Fmanila-specs~master~Idc26194321b0385edc617386e97c369b022f54ef,openstack/manila-specs,master,,Idc26194321b0385edc617386e97c369b022f54ef,Add xena directory for specs,MERGED,2021-03-04 07:24:49.000000000,2021-03-05 19:17:59.000000000,2021-03-05 19:13:34.000000000,16,0,0,778616,570c53257e2dee1d0b5d2024ca4fb968f54e52ce,9,2,2,2,30407,haixin,haixin,"Add xena directory for specs

Change-Id: Idc26194321b0385edc617386e97c369b022f54ef
"
openstack%2Ftripleo-ci~master~I694404ea5bff3a21ca8437c6213bd0b0eadb572f,openstack/tripleo-ci,master,centos-8-stream-content-master,I694404ea5bff3a21ca8437c6213bd0b0eadb572f,Adding a check to see if os is stream os.,MERGED,2021-02-12 18:38:22.000000000,2021-03-05 19:08:09.000000000,2021-03-05 19:08:09.000000000,30,4,2,775429,e0f75e1ed7101b65df774ac432cfc9c9ad6a87f8,28,5,4,2,32458,Ananya,frenzyfriday,"Adding a check to see if os is stream os.

In centos 8 stream nodes some repos are not being updated to stream repos (they are still centos 8 repos) as --stream arg is not being set in tripleo-repos command. Also later in repo urls $stream is not rendered and container image build fails. So this patch:

1. Sets ""is_stream_node""=false
2. If os is stream it overwrites ""is_stream_node"" to true
3. If ""is_stream_node"" == ""True"" it adds arg --stream to tripleo-repos command
4. Adds --volume flag to openstack tripleo container image build

I am adding a task to read /etc/os-release and get the name ""Stream"" as I could not find an ansible_distribution variable that shows it is a stream node https://termbin.com/fuke

Change-Id: I694404ea5bff3a21ca8437c6213bd0b0eadb572f
"
openstack%2Ftripleo-ci~master~I88e4673358a67bd282cc6df4596be6e19ad331e2,openstack/tripleo-ci,master,centos-8-stream-content-master,I88e4673358a67bd282cc6df4596be6e19ad331e2,Define centos-8 stream nodesets for upstream jobs,MERGED,2021-01-20 20:46:31.000000000,2021-03-05 19:08:02.000000000,2021-03-05 19:08:02.000000000,52,0,4,771717,f470ff77580e50705a6cec4508ad477a67c9bcf1,57,7,15,1,9976,Ronelle Landy,rlandy,"Define centos-8 stream nodesets for upstream jobs

This review adds single, two and three node nodesets
using centos-8 stream labels.

Change-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2
"
openstack%2Foctavia~master~I998bea5e7bcdc28962f2f393e204791a0b519910,openstack/octavia,master,http2,I998bea5e7bcdc28962f2f393e204791a0b519910,Add HTTP/2 to default lists of ALPN protocols,MERGED,2021-02-22 17:07:55.000000000,2021-03-05 19:02:24.000000000,2021-03-05 18:51:26.000000000,13,5,2,776968,dd3edb635bd69b06f7f7007c1009014488d52ddf,17,4,3,4,6469,Carlos Gonçalves,cgoncalves,"Add HTTP/2 to default lists of ALPN protocols

The two tested Linux distributions for Wallaby release (Ubuntu 20.04 and
CentOS 8) [1] provide a recent enough HAProxy version (>=2.0) that allow
us to add HTTP/2 to the default ALPN protocols list for listeners and
pools.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html

Change-Id: I998bea5e7bcdc28962f2f393e204791a0b519910
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I4d5049ef863c5685b1d817a865a8a44c4429480c,openstack/tripleo-ansible,stable/train,bz/1916162-stable/train,I4d5049ef863c5685b1d817a865a8a44c4429480c,[tripleo_transfer] Convert testing to use delegated driver,MERGED,2021-03-03 20:00:25.000000000,2021-03-05 18:58:22.000000000,2021-03-05 18:58:22.000000000,34,95,0,778566,0585cc48ff578c4c26813d4042c0f69fd66c8452,18,4,7,3,6816,Jesse Pretorius,jesse-pretorius,"[tripleo_transfer] Convert testing to use delegated driver

The current driver is podman which creates problems when we
try to use the synchronize module for the file copy between
hosts. To make room for this option, we switch to using the
delegated driver and two inventory hosts (which are localhost)
instead which is more efficient, more portable and opens more
options.

We also add 'any_errors_fatal: true' to the play
arguments to ensure that any error stops the whole test.

The converge playbook is targeted at localhost, rather than
all instances, because that is the way that the role being
tested is used in TripleO.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162

Change-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c
(cherry picked from commit b1dadc218514f2f4798c9f8264498f03a805fd76)
"
openstack%2Ftripleo-validations~master~I327227e194d89cd34ea8b35d3625f69d789f23cb,openstack/tripleo-validations,master,,I327227e194d89cd34ea8b35d3625f69d789f23cb,Add python-devel to script,ABANDONED,2021-03-04 23:34:43.000000000,2021-03-05 18:54:31.000000000,,1,1,1,778795,4dbb8f58e361f4b01d68ef30eb231629971a1702,4,5,1,1,11090,Sergii Golovatiuk,holser,"Add python-devel to script

In CentOS NetInstall python-devel is not included so pip cannot build
some modules and fails like

building 'netifaces' extension
    netifaces.c:1:10: fatal error: Python.h: No such file or directory
        1 | #include <Python.h>

This patch adds python*-devel to script to ensure that python headers
are added.

Change-Id: I327227e194d89cd34ea8b35d3625f69d789f23cb
"
openstack%2Fironic~master~Id9a9a53156f7fd866d93569347a81e27c6f0673c,openstack/ironic,master,story_2008626,Id9a9a53156f7fd866d93569347a81e27c6f0673c,Lazy-load node details from the DB,MERGED,2021-02-22 13:10:16.000000000,2021-03-05 17:59:53.000000000,2021-03-05 17:50:30.000000000,153,75,24,776930,82cab603bbb21d81769cdc4f50d4fa445d026e5c,42,5,5,5,11292,Arne Wiebalck,wiebalck,"Lazy-load node details from the DB

In order to reduce the load on the database backend, only lazy-load
a node's ports, portgroups, volume_connectors, and volume_targets.
With the power-sync as the main user, this change should reduce the
number of DB operations by two thirds roughly.

Change-Id: Id9a9a53156f7fd866d93569347a81e27c6f0673c
"
openstack%2Fcinder~stable%2Fussuri~I84629cde6d27d6889a30d7c13d99f57c660adde7,openstack/cinder,stable/ussuri,bug/1890254-stable/ussuri,I84629cde6d27d6889a30d7c13d99f57c660adde7,[SVF]:Fix clone fcmap not being deleted in cleanup,MERGED,2020-12-17 06:41:07.000000000,2021-03-05 17:59:35.000000000,2021-03-05 17:54:37.000000000,257,22,2,767334,c469c1294d5a09f926905414f505d6e84ebaf506,40,7,2,3,32171,Girish Chilukuri,GirishChilukuri,"[SVF]:Fix clone fcmap not being deleted in cleanup

[Spectrum Virtualize Family] check_vdisk_fc_mappings is not deleting
clone fc maps, if the flashcopy status is in copying autodelete is set
to on and copy progress is 100%. when multiple clones and snapshots
are created using common source volume, deleting the source volume
is not removing all the fcmaps involved in mapping with source volume.

This patch fixes the issue by removing the clone fcmap and then
removing the snapshot fcmap when the source has more than one fcmap.

Closes-Bug: #1890254

Change-Id: I84629cde6d27d6889a30d7c13d99f57c660adde7
(cherry picked from commit 3570a79a16127fd42216aa40b4f492e40533f0ed)
(cherry picked from commit 6e592a8dd49a85f8658ffeeb8c95a9d39f1d8507)
"
openstack%2Fneutron~master~I76af24a5153f1bc38b630da42de07f0f7b40cc41,openstack/neutron,master,secure-rbac,I76af24a5153f1bc38b630da42de07f0f7b40cc41,Implement secure RBAC for service providers API,MERGED,2021-01-21 16:44:48.000000000,2021-03-05 17:59:33.000000000,2021-03-05 17:54:07.000000000,15,5,0,771850,57164efc9827f7975cdfa171a5a88e6fcc4059e5,30,6,2,1,11975,Slawek Kaplonski,slaweq,"Implement secure RBAC for service providers API

This commit updates the policies for service providers API
to understand scope checking and account for a read-only role.

This is part of a broader series of changes across OpenStack to
provide a consistent RBAC experience and improve security.

Partially-Implements blueprint: secure-rbac-roles

Change-Id: I76af24a5153f1bc38b630da42de07f0f7b40cc41
"
openstack%2Freleases~master~I3523b079b457b8f94780bd7c8f6e616f81f6eb40,openstack/releases,master,I3523b079b457b8f94780bd7c8f6e616f81f6eb40,I3523b079b457b8f94780bd7c8f6e616f81f6eb40,Tag stable/rocky tripleo repos as EOL,MERGED,2021-02-05 14:32:02.000000000,2021-03-05 17:40:50.000000000,2021-03-05 17:40:50.000000000,54,2,13,774244,1d793e3dd13b581c47c0282c0153d27fc4621241,48,11,3,14,8449,Marios Andreou,marios,"Tag stable/rocky tripleo repos as EOL

As discussed at [1],[2] this tags the last commits to the
stable/rocky branch as rocky-eol.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019338.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019860.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020274.html

Change-Id: I3523b079b457b8f94780bd7c8f6e616f81f6eb40
"
openstack%2Fcookbook-openstack-block-storage~master~Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55,openstack/cookbook-openstack-block-storage,master,add-nova-section,Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55,Add a nova section to cinder configuration,MERGED,2021-03-04 13:17:29.000000000,2021-03-05 17:29:11.000000000,2021-03-05 17:29:11.000000000,13,0,0,778674,f6c6e8b180fa6f3422ea04e157b2ce523dc67891,12,2,2,2,13252,Dr. Jens Harbott,jrosenboom,"Add a nova section to cinder configuration

Cinder needs to send notifications to nova when attached volumes
are being extended. By default, cinder uses the client context
for this, but nova requires admin privileges for this. So we
configure cinder to use the nova service user instead. See
also [0].

[0] https://bugs.launchpad.net/openstack-ansible/+bug/1902914

Change-Id: Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55
"
openstack%2Fos-brick~stable%2Fussuri~I9b2a9cd2839a4efec824fc68cb2163ad70f4ebdc,openstack/os-brick,stable/ussuri,scaleio-connector,I9b2a9cd2839a4efec824fc68cb2163ad70f4ebdc,ScaleIO: More connection info backward compatibility,MERGED,2021-03-02 17:41:57.000000000,2021-03-05 17:14:43.000000000,2021-03-05 17:12:04.000000000,12,1,0,778224,fba9810de8b6c56d743b1ed4d4fd6240edfde391,18,4,1,2,21129,Alan Bishop,ASBishop,"ScaleIO: More connection info backward compatibility

Similar to I6f01a178616b74ed9a86876ca46e7e46eb360518, this patch
fixes a compatibility issue when the new connection properties
dictionary exists, but is missing the 'failed_over' field. This
situation may arise when booting a shelved instance whose connection
properties were created prior to when the ScaleIO driver was enhanced
to support replication failover.

Related-Bug: #1823200
Change-Id: I9b2a9cd2839a4efec824fc68cb2163ad70f4ebdc
(cherry picked from commit f8de43834b7fc930ed317823c98551092ee04774)
(cherry picked from commit 9317f9facbdce47a7974e39e29c898a96b3434e8)
"
openstack%2Fbarbican~master~Ic2b85246c37e856c38cb47613313b19e653118de,openstack/barbican,master,use-multiple-token-labels,Ic2b85246c37e856c38cb47613313b19e653118de,Allow multiple token labels for PKCS#11 driver,MERGED,2021-02-25 16:20:07.000000000,2021-03-05 17:12:12.000000000,2021-03-05 17:08:43.000000000,94,64,1,777618,1ca03610d7257c782b11d6bcf54074d66a79c545,15,3,4,6,7973,Douglas Mendizábal,dougmendizabal,"Allow multiple token labels for PKCS#11 driver

This patch changes the slot selection logic to look for more than one
token label in the list of slots, using the first token that is found.

This change is required to enable load balancing with devices that
use separate tokens for this feature.

This patch adds a new option in the [p11_crypto_plugin] section
""token_labels"", and deprecates the ""token_label"" option.

For backwards compatibility, the ""token_label"" option will still be used
if present.

Change-Id: Ic2b85246c37e856c38cb47613313b19e653118de
"
openstack%2Fpython-tackerclient~master~I5401641a46228374927e0875ba1d3a93eeb188c9,openstack/python-tackerclient,master,,I5401641a46228374927e0875ba1d3a93eeb188c9,Switch to Ussuri jobs,NEW,2019-10-22 06:36:48.000000000,2021-03-05 17:08:43.000000000,,1,1,0,689979,ff84420d41de396ee38e85a752284b175cffb5b1,3,3,1,1,23312,kangyufei,kangyufei,"Switch to Ussuri jobs

Change-Id: I5401641a46228374927e0875ba1d3a93eeb188c9
"
openstack%2Ftosca-parser~master~I47d68c8523dcbcf589f4b9c1943a0ca3ed105946,openstack/tosca-parser,master,,I47d68c8523dcbcf589f4b9c1943a0ca3ed105946,Replace openstack.org URLs with opendev.org URLs,NEW,2019-07-23 08:48:52.000000000,2021-03-05 17:04:06.000000000,,1,1,0,672227,09f7754bc064650b2387cc196c2ea815168b904a,3,3,1,1,30432,Yanfei Xu,xuyanfei01,"Replace openstack.org URLs with opendev.org URLs

Change-Id: I47d68c8523dcbcf589f4b9c1943a0ca3ed105946
"
openstack%2Frequirements~master~I423f6ef4a2347bf3d0d4930e1a60df60f823d107,openstack/requirements,master,new-release,I423f6ef4a2347bf3d0d4930e1a60df60f823d107,update constraint for monasca-common to new release 3.3.0,MERGED,2021-03-05 10:12:33.000000000,2021-03-05 16:52:17.000000000,2021-03-05 16:50:43.000000000,1,1,0,778875,a515e9b69529f4841be5a7600bdcd4c681ebafb9,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for monasca-common to new release 3.3.0

meta: version: 3.3.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Icfb8c0800109872ac92d574aecabb3cb1da3a195
meta: release:Code-Review+1: Martin Chacon Piza <martin@chaconpiza.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I423f6ef4a2347bf3d0d4930e1a60df60f823d107
"
openstack%2Frequirements~master~I2d9d4386132c658b0ee5e78f7bc91e9343d461ca,openstack/requirements,master,new-release,I2d9d4386132c658b0ee5e78f7bc91e9343d461ca,update constraint for glance_store to new release 2.5.0,MERGED,2021-03-05 10:05:00.000000000,2021-03-05 16:42:29.000000000,2021-03-05 16:40:38.000000000,1,1,0,778872,da884164a8eabc0f21ddd1a19e4a4c9928252b86,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for glance_store to new release 2.5.0

meta: version: 2.5.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Abhishek Kekane <akekane@redhat.com>
meta: release:Change-Id: I7f3d12e82a555f0c656cc7a9a828f8f11e7bdbfe
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+1: Dan Smith <dms@danplanet.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I2d9d4386132c658b0ee5e78f7bc91e9343d461ca
"
openstack%2Ftripleo-heat-templates~master~Id836676826f6e7c97ef8e3d665ab3e467ad055ba,openstack/tripleo-heat-templates,master,change-710409-1,Id836676826f6e7c97ef8e3d665ab3e467ad055ba,Add posibilities to set ovndbs monitor interval,MERGED,2020-02-28 08:27:47.000000000,2021-03-05 16:40:59.000000000,2021-03-05 16:38:58.000000000,19,0,0,710409,9ece6f97af8837de65f993c56b9ae3041cff6731,29,7,3,2,11082,Kamil Sambor,ksambor,"Add posibilities to set ovndbs monitor interval

Add posibilities to configure ovn dbs monitor interval
in tht by OVNDBSPacemakerMonitorInterval (default 30s).
Under load, this can create extra stress and since the
timeout has already been bumped, it makes sense to bump
this interval to a higher value as a trade off
between detecting a failure and stressing the service.

Depends-On: https://review.opendev.org/#/c/710407/
Change-Id: Id836676826f6e7c97ef8e3d665ab3e467ad055ba
"
openstack%2Frequirements~master~I58e7a20e9051c5ad54cb6c64ca0c31e406fe8a96,openstack/requirements,master,new-release,I58e7a20e9051c5ad54cb6c64ca0c31e406fe8a96,update constraint for kuryr-lib to new release 2.3.0,MERGED,2021-03-05 10:04:46.000000000,2021-03-05 16:30:34.000000000,2021-03-05 16:23:48.000000000,1,1,0,778871,eabb06f5bcaa2911f40fb6175258159c1beaae27,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for kuryr-lib to new release 2.3.0

meta: version: 2.3.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ied58267663edeecfc970adbb4624c89a68937896
meta: release:Code-Review+1: Maysa de Macedo Souza <maysa.macedo95@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: hongbin <hongbin034@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I58e7a20e9051c5ad54cb6c64ca0c31e406fe8a96
"
openstack%2Frequirements~master~Id947e97510cb84c3c80cedbdfa955c4303a879b2,openstack/requirements,master,new-release,Id947e97510cb84c3c80cedbdfa955c4303a879b2,update constraint for heat-translator to new release 2.2.0,MERGED,2021-03-05 09:58:15.000000000,2021-03-05 16:27:34.000000000,2021-03-05 16:23:41.000000000,1,1,0,778870,984277598aa389d07087fdb925a138cadebca2ff,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for heat-translator to new release 2.2.0

meta: version: 2.2.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I3d16919d8ee19c2160fcccd5a7bef35d50fc488a
meta: release:Code-Review+1: Rico Lin <ricolin@ricolky.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Id947e97510cb84c3c80cedbdfa955c4303a879b2
"
openstack%2Fdevstack~master~I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4,openstack/devstack,master,native-zuulv3-migration,I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4,orchestrate-devstack: Copy controller ceph.conf and keyrings to subnode,MERGED,2020-09-30 12:07:49.000000000,2021-03-05 16:12:05.000000000,2021-02-11 03:23:23.000000000,23,0,7,755270,e11d367d8e31a4875301e2e890fa8ffede270ec2,61,7,19,3,10135,Lee Yarwood,lyarwood,"orchestrate-devstack: Copy controller ceph.conf and keyrings to subnode

This change introduces a basic role to copy the contents of /etc/ceph
between the controller and subnodes during orchestrate-devstack allowing
a multinode ceph job to be introduced by
I9ffdff44a3ad42ebdf26ab72e24dfe3b12b1ef8b.

Note that this role is only used when devstack-plugin-ceph is enabled.

Change-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4
"
openstack%2Fsahara-dashboard~master~I0342d9a3dfb441f89aa9d100b4eadbc6d49f87e5,openstack/sahara-dashboard,master,,I0342d9a3dfb441f89aa9d100b4eadbc6d49f87e5,Fix lower-constraints job,MERGED,2021-03-03 18:32:10.000000000,2021-03-05 15:49:47.000000000,2021-03-05 15:49:47.000000000,0,1,0,778539,445306dda9d06c505588ef817094e6187006e04f,13,3,3,1,29313,Vishal Manchanda,vishalmanchanda,"Fix lower-constraints job

lower-constraints job does not need linters, So we can drop
mccabe to fix the lower-constraints job.

Change-Id: I0342d9a3dfb441f89aa9d100b4eadbc6d49f87e5
"
openstack%2Fcharm-keystone-saml-mellon~master~Ia2942709123d5f039d6b0f0040b9f07689f49e7a,openstack/charm-keystone-saml-mellon,master,hirsute-metadata,Ia2942709123d5f039d6b0f0040b9f07689f49e7a,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:57:40.000000000,2021-03-05 15:30:52.000000000,2021-03-05 15:30:52.000000000,1,0,0,778294,47a368c35b6509aebd2912753a56b3a0f6cb777c,11,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ia2942709123d5f039d6b0f0040b9f07689f49e7a
"
openstack%2Fcharm-mysql-innodb-cluster~master~Ieac649d4dfff3364c26186be4374cd662dde0089,openstack/charm-mysql-innodb-cluster,master,hirsute-metadata,Ieac649d4dfff3364c26186be4374cd662dde0089,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:59:19.000000000,2021-03-05 15:30:11.000000000,2021-03-05 15:30:11.000000000,1,0,0,778301,53bf5af4f1c335c8bf7f51e3c980536ab87f88ee,10,3,2,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ieac649d4dfff3364c26186be4374cd662dde0089
"
openstack%2Fnetworking-odl~stable%2Ftrain~Idcd1e39b4d60d33c2396f9495b66b089341748ff,openstack/networking-odl,stable/train,oslo_lc_drop,Idcd1e39b4d60d33c2396f9495b66b089341748ff,Dropping lower constraints testing (stable Train),MERGED,2021-01-12 15:32:59.000000000,2021-03-05 15:27:23.000000000,2021-03-05 15:16:30.000000000,43,276,13,770385,20f118035802ec38aa407132707819c15e9c300a,38,4,11,8,8313,Lajos Katona,elajkat,"Dropping lower constraints testing (stable Train)

This topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

As decided in Neutron meeting, stable branches will drop this
CI job [2].

Make functional tests non-voting now to keep the gating work for older
branches.

[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Use the networking-l2gw project new location

networking-l2gw and networking-l2gw-tempest-plugin are
imported to new location now and supposed to be retired from
openstack/namespace[1].

-https://review.opendev.org/#/c/744110/

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html

networking-l2gw location change original-Change-Id:
I38509a2fafc07e5196ba9f8f1dc11e617cbc74f5
(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)

Change-Id: Idcd1e39b4d60d33c2396f9495b66b089341748ff
"
openstack%2Fdevstack~master~Ifb444fb7291dd669f62c2b47ebb4625c084e8980,openstack/devstack,master,secure-rbac,Ifb444fb7291dd669f62c2b47ebb4625c084e8980,Add system_scope setting support for Nova & Tempest,NEW,2018-10-25 09:20:34.000000000,2021-03-05 15:23:00.000000000,,37,11,0,613251,c02952490cb5f49eed99d692fbd58cf17a3d8350,44,8,9,2,8556,Ghanshyam,ghanshyam,"Add system_scope setting support for Nova & Tempest

Tempest starts the testing of keystone system scope
feature which is available since Queens. Nova has added
the scope support in their policies in Ussuri[1].

To enable the system scope testing on Tempest, we need to set:
- tempest.auth.admin_system to 'all'
- and option to set the service based oslo_policy.enforce_scope flag

Depends-On: https://review.opendev.org/c/openstack/tempest/+/770197

[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html
Change-Id: Ifb444fb7291dd669f62c2b47ebb4625c084e8980
"
openstack%2Fmonasca-grafana-datasource~master~Ic00f39bef0cbffc81161367bcf313a3af4294803,openstack/monasca-grafana-datasource,master,tasks/piotrowskim/plugin_update,Ic00f39bef0cbffc81161367bcf313a3af4294803,Updating Monasca-Grafana-Plugin structure to work with Grafana v7.0.x,ABANDONED,2021-02-11 16:17:23.000000000,2021-03-05 15:11:27.000000000,,3223,1085,0,775205,ab06a6167766fd6316ff3259f196f2540da01047,4,2,1,43,29909,Michał Piotrowski,tatarinho,"Updating Monasca-Grafana-Plugin structure to work with Grafana v7.0.x

Change-Id: Ic00f39bef0cbffc81161367bcf313a3af4294803
"
openstack%2Fos-brick~master~Icaa8919f5fbab9d6ee7541365eb795b1067ab6ab,openstack/os-brick,master,,Icaa8919f5fbab9d6ee7541365eb795b1067ab6ab,Fix import order of libraries,MERGED,2021-03-03 14:24:58.000000000,2021-03-05 15:01:07.000000000,2021-03-04 15:15:32.000000000,30,21,0,778470,9d19bb93f3ecb2afd957fb2f05c4439ae298601d,43,3,3,17,4523,Eric Harney,eharney,"Fix import order of libraries

Follow the standard order of stdlib,
third party, then project imports.

Change-Id: Icaa8919f5fbab9d6ee7541365eb795b1067ab6ab
"
openstack%2Fos-brick~master~Ica408f9bf737e2651c5e2567da18fdafeabfb9ff,openstack/os-brick,master,nvmeof-relnote,Ica408f9bf737e2651c5e2567da18fdafeabfb9ff,Add release note for nvmeof connector,ABANDONED,2021-03-05 02:38:46.000000000,2021-03-05 14:45:57.000000000,,13,0,0,778810,1d591425426777e268f063da8ecafd52faeaec0e,14,5,1,1,5314,Brian Rosmaita,brian-rosmaita,"Add release note for nvmeof connector

Release note for changes I84145ce0be96c3e39b00720bddd179f91703b978
and I94c00afc80f20965a0b391ee3bf21162b827bd31.

Change-Id: Ica408f9bf737e2651c5e2567da18fdafeabfb9ff
"
openstack%2Foctavia~master~Ic94d226ad6e25323b94bc85f3ad847937b3be218,openstack/octavia,master,,Ic94d226ad6e25323b94bc85f3ad847937b3be218,Add retry for getting amphora VM,MERGED,2020-05-07 10:21:38.000000000,2021-03-05 14:39:26.000000000,2021-03-05 14:35:38.000000000,21,5,27,726084,08e1d6d060f04a23849082bc8f7d08114798a3c5,41,7,12,3,7249,Ann Taraday,AKamyshnikova,"Add retry for getting amphora VM

An issue has been observed several times when amphora VM failed
to get, although its creation was successful.
Add retry to avoid stop loadbalancer creation.

Change-Id: Ic94d226ad6e25323b94bc85f3ad847937b3be218
Story: 2007637
Task: 39690
"
openstack%2Fpython-tripleoclient~master~I821907aae8403cca79e3b1d972a1b352ef7f0e62,openstack/python-tripleoclient,master,network-data-v2,I821907aae8403cca79e3b1d972a1b352ef7f0e62,network provision command - create/update overcloud VIPs,ABANDONED,2021-02-10 13:20:17.000000000,2021-03-05 14:32:29.000000000,,15,4,0,774858,9b1e1817b695a3a100df44bc6409371431ab487c,9,5,1,2,24245,Harald Jensås,harald.jensas,"network provision command - create/update overcloud VIPs

Adds option '--vips' and '--stack' to the 'overcloud network
provision' command. When '--vips' argument is used VIPs for
the overcloud stack specified using the '--stack' argument
will be created/updated.

Also renames a test.

Change-Id: I821907aae8403cca79e3b1d972a1b352ef7f0e62
Depends-On: https://review.opendev.org/774857
Partial-Implements: blueprint network-data-v2-ports
"
openstack%2Freleases~master~I2a8bd25ecfe5bb1bde5af16b08f897a5bdc11cb7,openstack/releases,master,ensure-branching,I2a8bd25ecfe5bb1bde5af16b08f897a5bdc11cb7,Adding a tool to catch projects that missed branching,MERGED,2021-02-18 16:59:34.000000000,2021-03-05 14:20:39.000000000,2021-03-05 14:20:39.000000000,105,2,5,776496,c42fa888659b0ad7880c6c9bfac4734bfa56b825,20,4,5,6,28522,Hervé Beraud,hberaud,"Adding a tool to catch projects that missed branching

This tool will be used in doc addition around the branching period
to ensure that we don't miss to create stable branches for project.

Also this tooling should be used around each trailing deadline to ensure
to not forget a trailing projects. Trailing projects are those who can
easily meet the conditions that lead to forget to branch them.

Adding usage of this tooling in our process to ensure to check that
point once a time at each new series.

Change-Id: I2a8bd25ecfe5bb1bde5af16b08f897a5bdc11cb7
"
openstack%2Ftosca-parser~master~I64c45953e5c4bb5612f5a98e65033e98b43417c7,openstack/tosca-parser,master,bug/1883562,I64c45953e5c4bb5612f5a98e65033e98b43417c7,Make custom definitions biggest priority,MERGED,2020-06-15 15:39:28.000000000,2021-03-05 14:15:15.000000000,2021-03-05 14:14:00.000000000,3,3,0,735623,093fc8025eeabcbb9d1d8d0b3a4d4adc3e6e6a0d,9,6,1,1,30516,Валерия Валерьевна Швецова,versus_vv,"Make custom definitions biggest priority

Make custom type definitions bigger priority than internal normative TOSCA definitions

Change-Id: I64c45953e5c4bb5612f5a98e65033e98b43417c7
Closes-Bug: #1883562
"
openstack%2Fopenstack-ansible-ops~master~Ib922f1b254d1becdad6d6943f559a74e3c3e833a,openstack/openstack-ansible-ops,master,,Ib922f1b254d1becdad6d6943f559a74e3c3e833a,Make use of systemd_service role in elasticsearch,NEW,2021-03-05 13:36:31.000000000,2021-03-05 14:05:40.000000000,,39,43,0,778917,621c7cbc5693c6d33b470bc3d26cd9c30cc851fe,3,2,1,4,25600,Ebbex,ebbex,"Make use of systemd_service role in elasticsearch

Depends-On: Ida8668f5548a15a8f597839bd9002585aeea5d1a

Change-Id: Ib922f1b254d1becdad6d6943f559a74e3c3e833a
"
openstack%2Fbarbican~stable%2Fvictoria~Iee4584c6fde08728c017468d9de1db73f2c79d8d,openstack/barbican,stable/victoria,update-hacking-stable/victoria,Iee4584c6fde08728c017468d9de1db73f2c79d8d,Update hacking for Python3,MERGED,2021-03-04 20:41:12.000000000,2021-03-05 14:02:48.000000000,2021-03-05 14:00:43.000000000,86,187,0,778692,df5fb602f0f7c62bca0b66b64cd1da903cc7dd9b,12,3,3,18,7973,Douglas Mendizábal,dougmendizabal,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found by updated hacking version.

Update local hacking checks for new flake8, remove
test B314 since that tests difference between Python 2 and 3,
there's no need to advise using six anymore.
Use oslotest.base directly, this fixes the hacking tests.

Remove ddt usage in testsuite, it does not work with current hacking
version anymore.

Change-Id: Iee4584c6fde08728c017468d9de1db73f2c79d8d
(cherry picked from commit 9dbeefb55eb55a9baa481ec6d6293527d46e04a5)
"
openstack%2Fglance~master~I2d397b129f9de050625ea56dba2ba4b7bfa0fc2c,openstack/glance,master,dnm-secure-rbac,I2d397b129f9de050625ea56dba2ba4b7bfa0fc2c,WIP: download_image policy check,ABANDONED,2021-03-05 06:33:31.000000000,2021-03-05 14:00:34.000000000,,1,1,0,778845,8698708a102c1ea527d418939ceadb6f8b4e3d45,4,1,1,1,9303,Abhishek Kekane,abhishekkekane,"WIP: download_image policy check

Change-Id: I2d397b129f9de050625ea56dba2ba4b7bfa0fc2c
"
openstack%2Fironic-lib~master~I55b2cc42789218afcf4ff05cdd50a250992cb9db,openstack/ironic-lib,master,split,I55b2cc42789218afcf4ff05cdd50a250992cb9db,Fixes parsing blkid output with iSCSI devices,MERGED,2021-03-04 14:53:35.000000000,2021-03-05 13:59:49.000000000,2021-03-05 13:23:15.000000000,12,6,0,778714,41939c60d443add76e71e069557a486a9c37ddb4,10,3,1,3,10239,Dmitry Tantsur,dtantsur,"Fixes parsing blkid output with iSCSI devices

They have a colon in device names, so the current logic breaks.
Also add a more useful error message when splitting.

Change-Id: I55b2cc42789218afcf4ff05cdd50a250992cb9db
"
openstack%2Foctavia~stable%2Fvictoria~I64a7072b2c4e1a12b5d908647f1eddcad7ec3b90,openstack/octavia,stable/victoria,,I64a7072b2c4e1a12b5d908647f1eddcad7ec3b90,Fix setting None in tls_versions and tls_ciphers in pools,MERGED,2021-02-02 08:02:39.000000000,2021-03-05 13:59:26.000000000,2021-03-05 13:57:00.000000000,161,0,0,773598,550c1341f9f059f1792944c0060bd7a0cd5ca448,18,4,1,3,29244,Gregory Thiemonge,gthiemonge,"Fix setting None in tls_versions and tls_ciphers in pools

Setting None in tls_versions and tls_ciphers should reset their value
to the default value

Story 2008367
Task 41276

Change-Id: I64a7072b2c4e1a12b5d908647f1eddcad7ec3b90
(cherry picked from commit 8a207a7e036538abe68db38539c2c785537171dd)
"
openstack%2Fneutron~master~I85a71b389442581acc5fdd6ec18ef420e683fa2b,openstack/neutron,master,secure-rbac,I85a71b389442581acc5fdd6ec18ef420e683fa2b,DNM Rally test of all secure-rbac patches,ABANDONED,2021-02-18 12:33:08.000000000,2021-03-05 13:58:29.000000000,,2,0,0,776426,de1d7b3897f097b4517b44ed660cc717fbe8adf8,6,2,1,1,11975,Slawek Kaplonski,slaweq,"DNM Rally test of all secure-rbac patches

Depends-On: https://review.opendev.org/c/openstack/neutron/+/764980
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765344
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765847
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765526
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765846
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765845
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765844
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765840
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765417
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765416
Depends-On: https://review.opendev.org/c/openstack/neutron/+/771850
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765391
Change-Id: I85a71b389442581acc5fdd6ec18ef420e683fa2b
"
openstack%2Fironic~master~I0fa02ca41b132ebebe13bfdc03e18bd0423df087,openstack/ironic,master,test,I0fa02ca41b132ebebe13bfdc03e18bd0423df087,[DNM] Test the CI fix,ABANDONED,2021-03-04 14:55:04.000000000,2021-03-05 13:55:24.000000000,,4,0,0,778718,f7994c64e5cc33d4d94211dec9bf3813cf154722,9,1,2,1,10239,Dmitry Tantsur,dtantsur,"[DNM] Test the CI fix

Change-Id: I0fa02ca41b132ebebe13bfdc03e18bd0423df087
Depends-On: https://review.opendev.org/c/openstack/ironic-lib/+/778714
"
openstack%2Fopenstack-helm~master~I044a8393575c466efdb8c4d30a740568cb8c621a,openstack/openstack-helm,master,,I044a8393575c466efdb8c4d30a740568cb8c621a,Add an unlimited proxy-body-size property to horizon/values.yaml,ABANDONED,2021-03-04 21:05:47.000000000,2021-03-05 13:45:43.000000000,,1,0,1,778777,ccf30107e8a6a66396edddad56de37f6474b4952,6,2,2,1,33006,Gustavo Santos,gooshtavow,"Add an unlimited proxy-body-size property to horizon/values.yaml

The current network.dashboard.ingress.annotations in horizon/values.yaml do not include the kubernetes property 'proxy-body-size'. This makes the resulting nginx.conf file in ingress add the default rule 'max_body_size 1m' to the horizon servers, which limits all http requests' size inside horizon to 1MB, making it impossible to upload images larger than that to glance using the horizon GUI, for example.

This change adds said property to horizon/values.yaml, making horizon's servers in nginx.conf include a 'max_body_size' of 0 (unlimited), which makes the image upload feature usable again.

Story: 2008692
Task: 41996
Change-Id: I044a8393575c466efdb8c4d30a740568cb8c621a
"
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I8d68387ba2a8000d2ccda0ab2f7899df1d529b00,openstack/puppet-tripleo,stable/victoria,tripleo-ci-reduce,I8d68387ba2a8000d2ccda0ab2f7899df1d529b00,Replace deprecated zuul template tripleo-standalone-multinode-ipa,MERGED,2021-03-04 12:38:46.000000000,2021-03-05 13:37:06.000000000,2021-03-05 13:37:06.000000000,1,1,0,778669,f5e362b5416c26c63e0a6736da735c460bac324b,10,10,1,1,8449,Marios Andreou,marios,"Replace deprecated zuul template tripleo-standalone-multinode-ipa

The tripleo-standalone-multinode-ipa is being deprecated at [1]
and instead we should be using the content provider -pipeline
version. Part of CI optimisation at [2].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/778662
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I8d68387ba2a8000d2ccda0ab2f7899df1d529b00
(cherry picked from commit 62063946cf7143b97ccb1f4ccb0218d0554bcacc)
"
openstack%2Fdevstack~master~I52fec12b78ecd8f76f835551ccb84dfb1d5b3d8a,openstack/devstack,master,trivial,I52fec12b78ecd8f76f835551ccb84dfb1d5b3d8a,nova: Die if console TLS enabled with tls-proxy,MERGED,2021-03-02 16:52:27.000000000,2021-03-05 13:32:21.000000000,2021-03-05 13:29:35.000000000,5,0,0,778217,8f3e51d79f392151023f3853a6c8a3f7b868ecfa,8,3,1,1,15334,Stephen Finucane,sfinucan,"nova: Die if console TLS enabled with tls-proxy

We require the 'tls-proxy' service to set up certificates for us. Hard
fail if 'NOVA_CONSOLE_PROXY_COMPUTE_TLS' is enabled but the 'tls-proxy'
service is not.

Change-Id: I52fec12b78ecd8f76f835551ccb84dfb1d5b3d8a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~Iff5ca9f4a51fe30435e57f0a9ca3d43a2065978c,openstack/nova,master,bp/smarter-usb-devices,Iff5ca9f4a51fe30435e57f0a9ca3d43a2065978c,tests: Stop mocking 'nova.virt.libvirt.utils.get_arch',MERGED,2021-03-05 11:00:30.000000000,2021-03-05 13:32:15.000000000,2021-03-05 13:29:49.000000000,94,68,0,778879,a65e4201cc03f89d37296ddb803934c5a7977a71,10,3,1,3,15334,Stephen Finucane,sfinucan,"tests: Stop mocking 'nova.virt.libvirt.utils.get_arch'

In change I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c we introduced a mock
of nova.virt.libvirt.utils.get_arch' to the 'FakeLibvirtFixture'. This
was a follow-up to change Icf55488e61793d5b055d230c8524df8210cd00fd
which introduced this mock for many individual libvirt-related tests. In
change I458b1db091e33c0b835e44b5a86de6c0a08f99a3, we decided to poison
'os.uname' rather than 'get_arch' since that was the underlying cause of
test differences, but we never extended this reasoning to the existing
mocks of 'get_arch'. The mocking of 'get_arch' is now a hindrance to any
test that wants to validate behavior where the architecture requested
via image metadata (the 'hw_architecture' property) differs from the
host architecture, so it is time to make this switch and stop mocking
'get_arch' (almost) entirely.

Change-Id: Iff5ca9f4a51fe30435e57f0a9ca3d43a2065978c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Foctavia~master~Icb1430a3709566796e39fbfa962c2541c504b9ae,openstack/octavia,master,,Icb1430a3709566796e39fbfa962c2541c504b9ae,Fix health manager messages about failed failovers,MERGED,2021-02-18 14:23:00.000000000,2021-03-05 13:30:35.000000000,2021-03-05 13:24:31.000000000,58,5,0,776467,3f6fb8af228b60aebde18dc974d40d6d9cb3dc0a,11,4,2,5,29244,Gregory Thiemonge,gthiemonge,"Fix health manager messages about failed failovers

The health manager displayed some incorrect statistics about failed
failovers, they were marked as ""successfully completed failovers"".
The exception from the failover_amphora function was not reraised when
called from health-manager, now the exception is reraised, allowing the
health-manager to compute correct statistics.

Story 2008636
Task 41876

Change-Id: Icb1430a3709566796e39fbfa962c2541c504b9ae
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,openstack/tripleo-ansible,stable/ussuri,bz/1916162-stable/ussuri,Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,[tripleo_transfer] Do transfers directly from src to dst,MERGED,2021-03-04 11:54:40.000000000,2021-03-05 13:30:25.000000000,2021-03-05 13:30:25.000000000,100,97,0,778655,c7775d18a2bed76d6559621f8bcabcf4c59f604a,10,4,2,5,6816,Jesse Pretorius,jesse-pretorius,"[tripleo_transfer] Do transfers directly from src to dst

When running fetch with become, the slurp module will also
be used to fetch the contents of the file for determining
the remote checksum. This effectively doubles the transfer
size [0] and shows up as a MemoryError when the file size
is large enough.

In TripleO this is problematic in large & old deployments
when transferring the /var/lib/mysql folder.

This patch switches to using rsync directly between the src
and dst hosts to transfer the data. This is advantageous not
only for solving the above-mentioned bug, but is also faster.

A simpler implementation using synchronize was attempted [1],
but there were issues with the mistral container which
prevented that approach from being successful.

[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes
[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11

Closes-Bug: #1908425
Closes-Bug: rhbz#1904681
Closes-Bug: rhbz#1916162
Depends-On: https://review.opendev.org/778649

Change-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f
(cherry picked from commit d7730980c9a45e93b314e5971e876e11b2ce12a9)
"
openstack%2Foctavia~master~I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b,openstack/octavia,master,,I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b,Fix LB failover when IP addresses exhausted,MERGED,2021-03-04 23:50:33.000000000,2021-03-05 13:21:57.000000000,2021-03-05 13:09:22.000000000,74,4,0,778797,e3ab49c60aa835cb4034568ea25f06472127388c,14,6,1,7,11628,Michael Johnson,johnsom,"Fix LB failover when IP addresses exhausted

When a load balancer failover was performed on a load balancer where
the VIP address is on a subnet that has no IP addresses available,
the VIP address may be deactivated.
This patch corrects the failover flow to not deallocate the VIP
address on a failover revert flow due to the subnet being out of
IP addresses.

Story: 2008625
Task: 41827
Change-Id: I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b
"
openstack%2Foctavia~stable%2Ftrain~I6dd8e99b07ff557674871cb503dece96a9df3ada,openstack/octavia,stable/train,,I6dd8e99b07ff557674871cb503dece96a9df3ada,Disable auto configuration of new interfaces in NetworkManager,MERGED,2021-02-22 08:19:48.000000000,2021-03-05 13:21:41.000000000,2021-03-05 13:07:13.000000000,7,0,0,776905,0288729295df217788a7e2c42034df84188807f8,8,4,1,1,6469,Carlos Gonçalves,cgoncalves,"Disable auto configuration of new interfaces in NetworkManager

NetworkManager in Centos images configures new network devices as soon
as they appear in the default namespace, it means that we might have
conflicts between the management interface's routes and address and the
new VIP or member interfaces' routes and addresses during a small period
of time before they are moved to the amphora-haproxy namespace.

Now, the ""no-auto-default=*"" option is enabled in NetworkManager, it
disables the configuration of new interfaces, while the management
interface is still enabled/configured through cloud-init.

Story 2008599
Task 41773

Change-Id: I6dd8e99b07ff557674871cb503dece96a9df3ada
(cherry picked from commit a518cefda1332042d50e5ce2814f0af933c62457)
(cherry picked from commit b9f622b335dd4f95f1a6004bb94159f891ca0980)
(cherry picked from commit 7b2424685e9f29116d48cf2d0922f552fd4c2fdd)
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,openstack/tripleo-ansible,stable/victoria,bz/1916162-stable/victoria,Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,[tripleo_transfer] Do transfers directly from src to dst,MERGED,2021-03-04 11:53:32.000000000,2021-03-05 13:21:22.000000000,2021-03-05 13:21:22.000000000,100,97,0,778654,447eae0f560ec816b177a297da52e056be5dbde5,10,4,2,5,6816,Jesse Pretorius,jesse-pretorius,"[tripleo_transfer] Do transfers directly from src to dst

When running fetch with become, the slurp module will also
be used to fetch the contents of the file for determining
the remote checksum. This effectively doubles the transfer
size [0] and shows up as a MemoryError when the file size
is large enough.

In TripleO this is problematic in large & old deployments
when transferring the /var/lib/mysql folder.

This patch switches to using rsync directly between the src
and dst hosts to transfer the data. This is advantageous not
only for solving the above-mentioned bug, but is also faster.

A simpler implementation using synchronize was attempted [1],
but there were issues with the mistral container which
prevented that approach from being successful.

[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes
[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11

Closes-Bug: #1908425
Closes-Bug: rhbz#1904681
Closes-Bug: rhbz#1916162
Depends-On: https://review.opendev.org/778648

Change-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f
(cherry picked from commit d7730980c9a45e93b314e5971e876e11b2ce12a9)
"
openstack%2Foctavia~stable%2Fussuri~I736816247131715f5c385b4680614ec3218a2ad7,openstack/octavia,stable/ussuri,,I736816247131715f5c385b4680614ec3218a2ad7,Fix pools going into ERROR when updating the pool,MERGED,2021-02-22 08:21:27.000000000,2021-03-05 13:16:26.000000000,2021-03-05 13:07:04.000000000,41,14,0,776907,ebe234eb252ffd4a051eab6bf05e587430d8432e,8,3,1,5,6469,Carlos Gonçalves,cgoncalves,"Fix pools going into ERROR when updating the pool

There was a bug that would cause a pool to go into ERROR if you attempted
to update the CRL or client certificate on the pool.

Change-Id: I736816247131715f5c385b4680614ec3218a2ad7
Story: 2008295
Task: 41180
(cherry picked from commit 370aa4e61c421311b06d986aafdf123cd6737fd8)
(cherry picked from commit 24e3a4d93a5c0ae6dcc880b35bd847ba0393e040)
"
openstack%2Fpuppet-tripleo~master~I8d68387ba2a8000d2ccda0ab2f7899df1d529b00,openstack/puppet-tripleo,master,tripleo-ci-reduce,I8d68387ba2a8000d2ccda0ab2f7899df1d529b00,Replace deprecated zuul template tripleo-standalone-multinode-ipa,MERGED,2021-03-04 12:17:23.000000000,2021-03-05 13:15:50.000000000,2021-03-05 13:15:50.000000000,1,1,0,778664,62063946cf7143b97ccb1f4ccb0218d0554bcacc,9,7,1,1,8449,Marios Andreou,marios,"Replace deprecated zuul template tripleo-standalone-multinode-ipa

The tripleo-standalone-multinode-ipa is being deprecated at [1]
and instead we should be using the content provider -pipeline
version. Part of CI optimisation at [2].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/778662
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I8d68387ba2a8000d2ccda0ab2f7899df1d529b00
"
openstack%2Foctavia~stable%2Fvictoria~Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88,openstack/octavia,stable/victoria,,Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88,Fix overriding default listener timeout values in config file,MERGED,2021-03-03 07:47:46.000000000,2021-03-05 13:15:23.000000000,2021-03-05 13:09:55.000000000,99,21,0,778377,bf7632e65b8458ff5e2e5dbf739299a36eac3d26,11,4,1,5,29244,Gregory Thiemonge,gthiemonge,"Fix overriding default listener timeout values in config file

The default value for timeout parameters in the BaseListenerType was
not correctly set because the class was defined before reading the
config file.

Story 2008666
Task 41953

Change-Id: Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88
(cherry picked from commit b95fbe9ed4d8585e72bfc4f93aefb3d3ca1ab932)
"
openstack%2Fironic~master~I68c5f2bae76ca313ba77285747dc6b1bc8b623b9,openstack/ironic,master,secure-rbac,I68c5f2bae76ca313ba77285747dc6b1bc8b623b9,Port/Portgroup project scoped access,MERGED,2021-02-13 00:37:13.000000000,2021-03-05 13:14:32.000000000,2021-03-05 13:05:50.000000000,498,202,36,775465,e9dfe5ddaad7324d8d89fef0661f41f18542028f,50,5,8,16,11655,Julia Kreger,jkreger,"Port/Portgroup project scoped access

This patch implements the project scoped rbac policies for a
system and project scoped deployment of ironic. Because of the
nature of Ports and Portgroups, along with the subcontroller
resources, this change was a little more invasive than was
originally anticipated. In that process, along with some
discussion in the #openstack-ironic IRC channel, that it
would be most security concious to respond only with 404s if
the user simply does not have access to the underlying node
object.

In essence, their view of the universe has been restricted as
they have less acess rights, and we appropriately enforce that.
Not expecting that, or not conciously being aware of that, can
quickly lead to confusion though. Possibly a day or more of
Julia's life as well, but it comes down to perceptions and
awareness.

Change-Id: I68c5f2bae76ca313ba77285747dc6b1bc8b623b9
"
openstack%2Foctavia~stable%2Ftrain~If2841720009c2e402127e2e0080efdd56b68f6c9,openstack/octavia,stable/train,,If2841720009c2e402127e2e0080efdd56b68f6c9,Configure rsyslog on Octavia service nodes in devstack,MERGED,2021-02-22 08:51:42.000000000,2021-03-05 13:14:05.000000000,2021-03-05 13:06:25.000000000,1,2,0,776912,726d322f0a6edd52ff281a320a5c0505f3e97792,9,4,1,1,6469,Carlos Gonçalves,cgoncalves,"Configure rsyslog on Octavia service nodes in devstack

{admin,tenant}_log_targets options are configured with
MGMT_PORT_IP in devstack, which contains the IP address
of the local management interface. In multinode setup,
it means that the second node should run a rsyslog
service to receive logs from amphorae that have been
spawned by its worker.

Change-Id: If2841720009c2e402127e2e0080efdd56b68f6c9
(cherry picked from commit f45092a87673b54d578d8df058917e325d9b77b8)
(cherry picked from commit 0e593f4d2645f74e780b6da288f2fc36f75dca8e)
(cherry picked from commit e9bc5d9f71c54fc05f93c6359ee1275e97ea4760)
"
openstack%2Foctavia~master~I6505243ddbf1eab7d110e9bfa03bffda840f07ae,openstack/octavia,master,,I6505243ddbf1eab7d110e9bfa03bffda840f07ae,Fix grenade resource waiters,MERGED,2021-03-05 01:40:26.000000000,2021-03-05 13:13:48.000000000,2021-03-05 13:07:20.000000000,5,0,0,778804,d17b23282cf7c315251a37f39fa8d3fc35c05e3c,8,4,1,1,11628,Michael Johnson,johnsom,"Fix grenade resource waiters

The grenade job resource.sh script is waiting for the created object
status but not the overall load balancer status to go ACTIVE.
This can lead to the script failing with a 409 error.

This patch adds a check for the load balancer to be unlocked before
advancing to the next create call.

Change-Id: I6505243ddbf1eab7d110e9bfa03bffda840f07ae
"
openstack%2Foctavia~stable%2Fussuri~Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88,openstack/octavia,stable/ussuri,,Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88,Fix overriding default listener timeout values in config file,MERGED,2021-03-03 07:53:04.000000000,2021-03-05 13:13:34.000000000,2021-03-05 13:06:00.000000000,100,21,0,778378,27230ba862cb0250463a4a2e04e96866681170f0,9,4,1,5,29244,Gregory Thiemonge,gthiemonge,"Fix overriding default listener timeout values in config file

The default value for timeout parameters in the BaseListenerType was
not correctly set because the class was defined before reading the
config file.

Conflicts:
	octavia/db/prepare.py

Story 2008666
Task 41953

Change-Id: Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88
(cherry picked from commit b95fbe9ed4d8585e72bfc4f93aefb3d3ca1ab932)
(cherry picked from commit bf7632e65b8458ff5e2e5dbf739299a36eac3d26)
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I3e85d30d7815322f1efa9029f1ed1c4222927930,openstack/python-tripleoclient,stable/ussuri,tripleo-ci-reduce,I3e85d30d7815322f1efa9029f1ed1c4222927930,Make content provider depend on linters in check layout,MERGED,2021-03-03 11:32:40.000000000,2021-03-05 13:13:07.000000000,2021-03-05 12:59:55.000000000,5,2,0,778415,fa12b5adeb9a4e304a42e015b8fcf557f39ca203,13,3,2,1,8449,Marios Andreou,marios,"Make content provider depend on linters in check layout

As part of [1] this makes the content provider depend on the pep8
and py jobs to improve CI efficiency. Equivalent patches posted to
master [2] victoria [3] but ussuri layout is different so decided
against the cherrypick here.

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/770917
[3] https://review.opendev.org/c/openstack/python-tripleoclient/+/778412

Change-Id: I3e85d30d7815322f1efa9029f1ed1c4222927930
"
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Icdd2c581c8e610eb687042044c2a8f3efee44527,openstack/python-tripleoclient,stable/victoria,tripleo-ci-reduce,Icdd2c581c8e610eb687042044c2a8f3efee44527,Add lint dependencies for content provider,MERGED,2021-03-03 11:20:31.000000000,2021-03-05 13:13:06.000000000,2021-03-05 12:58:53.000000000,13,12,0,778412,ace1a5fabb6f2ebffc4c0e481b23d0cd2a2aa1b8,16,2,3,1,8449,Marios Andreou,marios,"Add lint dependencies for content provider

If linting fails, content provider still builds.
Whis is suboptimal, since standalone/multinode jobs will be skipped and
nothing will use those builds.

Put cprovider into dependency on the linting jobs as well.

Change-Id: Icdd2c581c8e610eb687042044c2a8f3efee44527
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 9014c68e60d6420c70728304bf77e5c5049f1a72)
"
openstack%2Foctavia~stable%2Ftrain~I736816247131715f5c385b4680614ec3218a2ad7,openstack/octavia,stable/train,,I736816247131715f5c385b4680614ec3218a2ad7,Fix pools going into ERROR when updating the pool,MERGED,2021-02-22 08:48:08.000000000,2021-03-05 13:06:47.000000000,2021-03-05 13:06:47.000000000,42,14,0,776909,a001c6aef3f7ad3f079ac9e44243320b7cff89b2,7,3,1,5,6469,Carlos Gonçalves,cgoncalves,"Fix pools going into ERROR when updating the pool

There was a bug that would cause a pool to go into ERROR if you attempted
to update the CRL or client certificate on the pool.

Conflicts:
    octavia/api/drivers/amphora_driver/v2/driver.py

Change-Id: I736816247131715f5c385b4680614ec3218a2ad7
Story: 2008295
Task: 41180
(cherry picked from commit 370aa4e61c421311b06d986aafdf123cd6737fd8)
(cherry picked from commit 24e3a4d93a5c0ae6dcc880b35bd847ba0393e040)
(cherry picked from commit ebe234eb252ffd4a051eab6bf05e587430d8432e)
"
openstack%2Fneutron~stable%2Ftrain~Ic32413f88dd0d2a0479d692b6d824503f7819462,openstack/neutron,stable/train,bug/1917610,Ic32413f88dd0d2a0479d692b6d824503f7819462,"DNM, Just a test of the tempest fix",ABANDONED,2021-03-03 12:37:12.000000000,2021-03-05 12:58:40.000000000,,0,0,0,778452,c00017719efb85785656e27f72d0288cbc0494f0,3,1,1,0,11975,Slawek Kaplonski,slaweq,"DNM, Just a test of the tempest fix

Depends-On: https://review.opendev.org/c/openstack/tempest/+/778451

Change-Id: Ic32413f88dd0d2a0479d692b6d824503f7819462
Related-bug: #1917610
"
openstack%2Ftempest~master~I11248fd0906d910180be30de7b59231e534b4563,openstack/tempest,master,secure-rbac,I11248fd0906d910180be30de7b59231e534b4563,Add alt project persona in dynamic credential,MERGED,2021-01-29 19:29:49.000000000,2021-03-05 12:51:56.000000000,2021-03-04 04:51:18.000000000,93,2,4,773177,420586c8b4aeac438ed80cdfed14c43468c0d70a,45,4,8,6,8556,Ghanshyam,ghanshyam,"Add alt project persona in dynamic credential

Tempest dynamic credential does not support two
separate project admin or reader but sometime we need to
check the test behavior by requesting API with
different project admin or reader role.

This commit add support of alt project admin and reader,
also provide consistent method name for alt project member
role.

Change-Id: I11248fd0906d910180be30de7b59231e534b4563
"
openstack%2Fironic~stable%2Fvictoria~I9937fab18a50111ec56a3fd023cdb9d510a1e990,openstack/ironic,stable/victoria,story/2008323-stable/victoria,I9937fab18a50111ec56a3fd023cdb9d510a1e990,Always retry locking when performing task handoff,MERGED,2021-03-03 00:13:12.000000000,2021-03-05 12:39:54.000000000,2021-03-05 12:38:01.000000000,82,4,0,778241,25a05cf352b5125fdfa3b702e8318a12160f1993,15,3,1,5,11655,Julia Kreger,jkreger,"Always retry locking when performing task handoff

There are some Ironic execution workflows where there is not an easy way
to retry, such as when attempting to hand off the processing of an async
task to a conductor. Task handoff can require releasing a lock on the
node, so the next entity processing the task can acquire the lock
itself. However, this is vulnerable to race conditions, as there is no
uniform retry mechanism built in to such handoffs. Consider the
continue_node_deploy/clean logic, which does this:

  method = 'continue_node_%s' % operation
  # Need to release the lock to let the conductor take it
  task.release_resources()
  getattr(rpc, method)(task.context, uuid, topic=topic

If another process obtains a lock between the releasing of resources and
the acquiring of the lock during the continue_node_* operation, and
holds the lock longer than the max attempt * interval window (which
defaults to 3 seconds), then the handoff will never complete. Beyond
that, because there is no proper queue for processes waiting on the
lock, there is no fairness, so it's also possible that instead of one
long lock being held, the lock is obtained and held for a short window
several times by other competing processes.

This manifests as nodes occasionally getting stuck in the ""DEPLOYING""
state during a deploy. For example, a user may attempt to open or access
the serial console before the deploy is complete--the serial console
process obtains a lock and starves the conductor of the lock, so the
conductor cannot finish the deploy. It's also possible a long heartbeat
or badly-timed sequence of heartbeats could do the same.

To fix this, this commit introduces the concept of a ""patient"" lock,
which will retry indefinitely until it doesn't encounter the NodeLocked
exception. This overrides any retry behavior.

  .. note::
     There may be other cases where such a lock is desired.

Story: #2008323
Change-Id: I9937fab18a50111ec56a3fd023cdb9d510a1e990
(cherry picked from commit bfc2ad56d558fbb73497dcf641b61a5ab0c23b5f)
"
openstack%2Fkayobe~master~Idaedcc58e00d06caf4e5e360011d1c5c5c7dbe44,openstack/kayobe,master,story/2004960,Idaedcc58e00d06caf4e5e360011d1c5c5c7dbe44,Ubuntu: fix deployment image build,MERGED,2021-01-28 17:49:18.000000000,2021-03-05 12:14:38.000000000,2021-03-05 12:13:15.000000000,1,1,0,772929,303fd1d45cb2f21543287c03cb84d8d707ee0a94,23,4,2,1,15197,Pierre Riteau,priteau,"Ubuntu: fix deployment image build

The updated role fixes an issue with activation of the DIB virtualenv
and ensures the kpartx package is installed.

Change-Id: Idaedcc58e00d06caf4e5e360011d1c5c5c7dbe44
Story: 2004960
Task: 41710
"
openstack%2Ftripleo-ansible~master~I847a03dca8f0754300c3fa2fbbda2eaadf0fd693,openstack/tripleo-ansible,master,filter_snake_case,I847a03dca8f0754300c3fa2fbbda2eaadf0fd693,Add test for snake_case filter,ABANDONED,2021-03-04 22:43:56.000000000,2021-03-05 12:12:55.000000000,,13,0,3,778787,a1d25c326cf05d3bb69865fdd50de8eb4b445c87,5,3,1,1,13177,Emma Foley,emma-l-foley,"Add test for snake_case filter

Change-Id: I847a03dca8f0754300c3fa2fbbda2eaadf0fd693
"
openstack%2Fcharm-layer-openstack-api~master~I9ea2edfacf7020768ab83fb603af1be0d42190fb,openstack/charm-layer-openstack-api,master,bug/1843011,I9ea2edfacf7020768ab83fb603af1be0d42190fb,Update worker-multiplier config description,MERGED,2021-03-05 04:41:55.000000000,2021-03-05 12:11:07.000000000,2021-03-05 12:11:07.000000000,2,3,0,778839,34311a62e963d0ce903b7ddb9d70b8f071f71651,24,3,3,1,8108,Nobuto Murata,nobuto-m,"Update worker-multiplier config description

Based on the change in charm-helpers:
https://github.com/juju/charm-helpers/pull/553

Related-Bug: #1843011
Change-Id: I9ea2edfacf7020768ab83fb603af1be0d42190fb
"
openstack%2Fcharm-mysql-innodb-cluster~master~Ibc76b03de99af32e7f9d8e2ace702d96d75d6a5b,openstack/charm-mysql-innodb-cluster,master,mysql-scale-in-out,Ibc76b03de99af32e7f9d8e2ace702d96d75d6a5b,Re-enable scale in scale out test,MERGED,2021-02-06 17:48:22.000000000,2021-03-05 11:58:03.000000000,2021-03-05 11:58:03.000000000,6,4,0,774356,638d97ddf390f9e073113d67aaf1ddfcd982c787,35,4,4,4,20805,David Ames,thedac,"Re-enable scale in scale out test

Add the cluster.available flag to the scale_out handler.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/499
Change-Id: Ibc76b03de99af32e7f9d8e2ace702d96d75d6a5b
"
openstack%2Fkayobe~stable%2Ftrain~Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c,openstack/kayobe,stable/train,ipa-build-uc-stable/train,Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c,Add ipa_build_upper_constraints_file variable,MERGED,2021-02-17 07:00:30.000000000,2021-03-05 11:47:09.000000000,2021-03-05 11:45:52.000000000,21,2,0,775965,63c68e328d2f8636626ab4502503141f30bc3da3,24,3,2,6,15197,Pierre Riteau,priteau,"Add ipa_build_upper_constraints_file variable

This variable allows to customise the upper constraints file used to
install packages inside the ipa-build-dib virtual environment. This can
be used when we need a newer version of diskimage-builder than the one
available in upper constraints for the current release.

Change-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c
(cherry picked from commit 56c1a886f5dc0683084495745fe54e27e0de08eb)
"
openstack%2Fironic~master~I691b76879ba00fb5535d7016c9d6fb53e9dde462,openstack/ironic,master,doc-update,I691b76879ba00fb5535d7016c9d6fb53e9dde462,Update iDRAC doc with missing interfaces,MERGED,2021-01-20 14:25:20.000000000,2021-03-05 11:35:33.000000000,2021-01-21 08:53:21.000000000,5,5,0,771653,b0df0960e2c53a4fe6673ba0a1ed546ffd156dc7,9,4,1,1,27909,Aija Jauntēva,ajya,"Update iDRAC doc with missing interfaces

Change-Id: I691b76879ba00fb5535d7016c9d6fb53e9dde462
"
openstack%2Fcharm-layer-openstack-api~master~Iad6603ef9cecefddbe88766580112191c0472a35,openstack/charm-layer-openstack-api,master,fix-boilerplate,Iad6603ef9cecefddbe88766580112191c0472a35,Fix boilerplate,MERGED,2021-03-05 09:51:08.000000000,2021-03-05 11:34:06.000000000,2021-03-05 11:34:06.000000000,4,4,2,778868,b3ad0c16598b51a2f3a29acf0d4b02101e042a4a,13,4,2,4,31289,Aurelien Lourot,lourot,"Fix boilerplate

With charm-tools>=2.8 the build output folder layout
has changed.
Also the linter will fail if the actions/ folder doesn't
exist.
Also put the right flake8 in the right *requirements.txt
file.

Change-Id: Iad6603ef9cecefddbe88766580112191c0472a35
"
openstack%2Ftempest~master~I16331923b8d46d05eb50203f1633b74656da34a0,openstack/tempest,master,bug/1905434,I16331923b8d46d05eb50203f1633b74656da34a0,DNM: debug swift test failure bug#1905432,NEW,2020-11-24 16:35:48.000000000,2021-03-05 11:30:46.000000000,,5,134,1,764020,c349131242bb9dd90676e163928931d3f1461037,10,2,4,3,8556,Ghanshyam,ghanshyam,"DNM: debug swift test failure bug#1905432

Mar 5th: let's see if the test is still broken

Change-Id: I16331923b8d46d05eb50203f1633b74656da34a0
"
openstack%2Fansible-role-collect-logs~master~I20db56f19bc90f404d451028f9506282bd988e1b,openstack/ansible-role-collect-logs,master,,I20db56f19bc90f404d451028f9506282bd988e1b,Fix zuul-ansible-role-collect-logs,ABANDONED,2020-11-10 14:49:59.000000000,2021-03-05 11:27:45.000000000,,1,0,0,762156,3c106f8005c1baded56a0e386c12b1dfcf2e1219,5,3,1,1,13861,yatin,yatinkarel,"Fix zuul-ansible-role-collect-logs

Add notest tag to task that delegates to
localhost and ""Executing local code is prohibited"".

Change-Id: I20db56f19bc90f404d451028f9506282bd988e1b
"
openstack%2Fnova~stable%2Fvictoria~I03cf285ad83e09d88cdb702a88dfed53c01610f8,openstack/nova,stable/victoria,bug/1914777,I03cf285ad83e09d88cdb702a88dfed53c01610f8,Handle instance = None in _local_delete_cleanup,MERGED,2021-02-23 20:13:01.000000000,2021-03-05 11:12:54.000000000,2021-03-05 11:02:07.000000000,29,36,0,777209,35112d7667cee9fc33db660ee241164b38468c31,15,3,1,3,4690,melanie witt,melwitt,"Handle instance = None in _local_delete_cleanup

Change I4d3193d8401614311010ed0e055fcb3aaeeebaed added some
additional local delete cleanup to prevent leaking of placement
allocations. The change introduced a regression in our ""delete while
booting"" handling as the _local_delete_cleanup required a valid
instance object to do its work and in two cases, we could have
instance = None from _lookup_instance if we are racing with a create
request and the conductor has deleted the instance record while we
are in the middle of processing the delete request.

This handles those scenarios by doing two things:

  (1) Changing the _local_delete_cleanup and
      _update_queued_for_deletion methods to take an instance UUID
      instead of a full instance object as they really only need the
      UUID to do their work
  (2) Saving a copy of the instance UUID before doing another instance
      lookup which might return None and passing that UUID to the
      _local_delete_cleanup and _update_queued_for_deletion methods

Closes-Bug: #1914777

Change-Id: I03cf285ad83e09d88cdb702a88dfed53c01610f8
(cherry picked from commit 123f6262f63477d3f50dfad09688978e044bd9e0)
"
openstack%2Fkolla-ansible~master~I20c1d9bddee5a046b521b9378bade2ab50612be0,openstack/kolla-ansible,master,bp/implement-automatic-deploy-of-octavia,I20c1d9bddee5a046b521b9378bade2ab50612be0,CI: octavia: create and test a load balancer,MERGED,2021-03-03 09:24:17.000000000,2021-03-05 11:12:15.000000000,2021-03-05 11:00:56.000000000,164,1,0,778390,366ba8526e5b2fd3955cb86cec982066ac6ecd5c,16,4,3,7,26285,wu.chunyang,wu.chunyang,"CI: octavia: create and test a load balancer

Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Change-Id: I20c1d9bddee5a046b521b9378bade2ab50612be0
"
openstack%2Foctavia~stable%2Ftrain~Ib089affa229531cd72f6853105d74b446687ae86,openstack/octavia,stable/train,,Ib089affa229531cd72f6853105d74b446687ae86,Use 'bash' in the keepalived check script,MERGED,2021-02-22 08:12:34.000000000,2021-03-05 11:11:23.000000000,2021-03-05 11:05:43.000000000,1,1,0,776898,d2caf0b25eeaafc3f23bfd9dd17676b614f502ab,10,6,1,1,6469,Carlos Gonçalves,cgoncalves,"Use 'bash' in the keepalived check script

Use bash instead of sh to avoid the error ""shopt: not found""

Change-Id: Ib089affa229531cd72f6853105d74b446687ae86
Story: 2008437
Task: 41399
(cherry picked from commit 1a86e454e7be22b36039a4a4bac6a886f523e9d3)
(cherry picked from commit b339d009754d30b95ddd56b4ff680e14b3823e54)
"
openstack%2Fkolla-ansible~master~I8ac30dea6c8402d97189c6b05032c608936b0ff2,openstack/kolla-ansible,master,bp/implement-automatic-deploy-of-octavia,I8ac30dea6c8402d97189c6b05032c608936b0ff2,octavia: support tenant management network,MERGED,2020-10-01 16:30:32.000000000,2021-03-05 11:10:39.000000000,2021-03-05 10:59:49.000000000,181,7,24,755589,5d3ebc0452d9e473476f1181c4f143e350c3dace,88,5,21,10,14826,Mark Goddard,mgoddard,"octavia: support tenant management network

- bind health manager port to ovs
- create a octavia-interface.service (used for creating health manager
  interface after reboot)
- used for ci, test or poc

Implements: blueprint implement-automatic-deploy-of-octavia

Change-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2
Co-Authored-By: wu.chunyang <wuchunyang@yovole.com>
"
openstack%2Fswift~master~I644d7afee393afb703eb37f19749204ed98a37db,openstack/swift,master,,I644d7afee393afb703eb37f19749204ed98a37db,relinker: Stop reporting errors about reaped/cleaned-up datafiles,MERGED,2021-03-04 20:18:29.000000000,2021-03-05 11:04:35.000000000,2021-03-05 02:31:18.000000000,59,5,5,778773,b8aefd750e18414eba8a4e956f56823d34851f73,12,2,3,2,15343,Tim Burke,tburke,"relinker: Stop reporting errors about reaped/cleaned-up datafiles

This isn't at all exceptional, and operators shouldn't need to bump up
reclaim_age to avoid false-positive errors in their logs.

Change-Id: I644d7afee393afb703eb37f19749204ed98a37db
"
openstack%2Fkolla-ansible~master~I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9,openstack/kolla-ansible,master,bp/implement-automatic-deploy-of-octavia,I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9,CI: octavia: remove octavia from magnum scenario,MERGED,2020-09-25 08:28:12.000000000,2021-03-05 11:00:14.000000000,2021-03-05 11:00:14.000000000,7,20,12,754285,3c5ccb915e785e4fa928519b3e4f21686266fbb6,190,10,50,5,14826,Mark Goddard,mgoddard,"CI: octavia: remove octavia from magnum scenario

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589
Co-Authored-By: wu.chunyang <wuchunyang@yovole.com>

Change-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9
"
openstack%2Fneutron~master~If9f696d1e18e0bf9eda18efa2ae708a779133bfc,openstack/neutron,master,,If9f696d1e18e0bf9eda18efa2ae708a779133bfc,[OVN] Bump OVN version to v20.12.0,ABANDONED,2021-02-12 13:47:04.000000000,2021-03-05 10:31:47.000000000,,5,5,6,775383,75eb6fc7ec1c154a064e77ced1c0f6d0cb602422,12,5,2,3,11952,Flavio Fernandes,ffernand,"[OVN] Bump OVN version to v20.12.0

This commit bumps the OVN version used in the gate from v20.06.1 to the
latest tagged version, v20.12.0.

Change-Id: If9f696d1e18e0bf9eda18efa2ae708a779133bfc
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
"
openstack%2Fnova~master~I2ef7c5bef87bd64c087f3b136c2faac9a3865f10,openstack/nova,master,bp/allow-disabling-cpu-flags,I2ef7c5bef87bd64c087f3b136c2faac9a3865f10,libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`,MERGED,2021-02-05 13:41:31.000000000,2021-03-05 10:16:00.000000000,2021-03-04 22:02:33.000000000,167,39,108,774240,bcd6b42047ea9422a58a4273d831e23f2ea27092,127,7,12,5,6962,Kashyap Chamarthy,kashyapc,"libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`

Parse a comma-separated list of CPU flags from
`[libvirt]/cpu_model_extra_flags`.  If the CPU flag starts with '+',
enable the feature in Nova guest CPU guest XML, or if it starts with
'-', disable the feature.  If neither '+' nor '-' is specified, enable
the flag.  For example, on a compute node that is running hardware (e.g.
an Intel server that supports TSX) and virtualization software that
supports the given CPU flags, if a user provides this config:

    [libvirt]
    cpu_mode = custom
    cpu_models = Cascadelake-Server
    cpu_model_extra_flags = -hle, -rtm, +ssbd, mtrr

Then Nova should generate this CPU for the guest:

     <cpu match='exact'>
       <model fallback='forbid'>Cascadelake-Server</model>
       <vendor>Intel</vendor>
       <feature policy='require' name='ssbd'/>
       <feature policy='require' name='mtrr'/>
       <feature policy='disable' name='hle'/>
       <feature policy='disable' name='rtm'/>
     </cpu>

This ability to selectively disable CPU flags lets you avoid any CPU
flags that need to be disabled for any number of reasons.  E.g. disable
a CPU flag that is a potential security risk, or disable one that causes
a performance penalty.

blueprint: allow-disabling-cpu-flags

Change-Id: I2ef7c5bef87bd64c087f3b136c2faac9a3865f10
Signed-off-by: Patrick Uiterwijk <patrick@puiterwijk.org>
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
"
openstack%2Fpython-octaviaclient~master~I9b32be11ff6a66015f648ac151fb22cf3ebfd520,openstack/python-octaviaclient,master,,I9b32be11ff6a66015f648ac151fb22cf3ebfd520,Remove install unnecessary packages,MERGED,2020-09-14 01:57:31.000000000,2021-03-05 10:11:01.000000000,2021-03-05 10:08:21.000000000,0,2,0,751629,80a533105af7ea9e3392c3044d32e90d19d35d66,13,5,2,1,32291,wushiming,wushiming,"Remove install unnecessary packages

The docs and releasenotes requirements migrated to doc/requirements.txt
we need not install things from requirements.txt.

Change-Id: I9b32be11ff6a66015f648ac151fb22cf3ebfd520
"
openstack%2Ftempest~master~Ifafe67f89349a9715ad850be29708fcf18613946,openstack/tempest,master,,Ifafe67f89349a9715ad850be29708fcf18613946,Add release notes page for version 25.0.1,ABANDONED,2020-12-17 13:24:38.000000000,2021-03-05 10:10:29.000000000,,6,0,0,767535,846e0eef53eb6e61e8c0f944aabff53e5b4e99a9,7,1,1,2,22873,Martin Kopec,mkopec,"Add release notes page for version 25.0.1

Tempest 25.0.1 has been released [1].
This commit adds a new page for 25.0.1 release notes.

[1] https://review.opendev.org/c/openstack/releases/+/767180

Change-Id: Ifafe67f89349a9715ad850be29708fcf18613946
"
openstack%2Freleases~master~I9a1c3d06521fc7c562caf63bae664c22b2d9306c,openstack/releases,master,wallaby-lib-freeze,I9a1c3d06521fc7c562caf63bae664c22b2d9306c,Release final os-vif for Wallaby,MERGED,2021-03-01 09:44:38.000000000,2021-03-05 09:47:49.000000000,2021-03-05 09:47:49.000000000,4,0,1,777955,174950309e661092ffe2af8cfa380f51aaf45eb6,13,6,1,1,28522,Hervé Beraud,hberaud,"Release final os-vif for Wallaby

This proposed a release for os-vif to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 2.3.0..6167658
44d8937 Resolve dependency issues
7b54dec Drop use of deprecated collections classes

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I9a1c3d06521fc7c562caf63bae664c22b2d9306c
"
openstack%2Freleases~master~Ied58267663edeecfc970adbb4624c89a68937896,openstack/releases,master,wallaby-lib-freeze,Ied58267663edeecfc970adbb4624c89a68937896,Release final kuryr for Wallaby,MERGED,2021-03-01 09:38:03.000000000,2021-03-05 09:47:09.000000000,2021-03-05 09:47:09.000000000,4,0,0,777947,15ef7a09f95f3c4cbdac3f27893aeef9bf166416,11,5,1,1,28522,Hervé Beraud,hberaud,"Release final kuryr for Wallaby

This proposed a release for kuryr to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 2.2.0..f973749
cdb9fe3 Remove run_as_root which fails without root_helper
78c31d3 Remove the unused coding style modules

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ied58267663edeecfc970adbb4624c89a68937896
"
openstack%2Freleases~master~Icfb8c0800109872ac92d574aecabb3cb1da3a195,openstack/releases,master,wallaby-lib-freeze,Icfb8c0800109872ac92d574aecabb3cb1da3a195,Release final monasca-common for Wallaby,MERGED,2021-03-01 09:39:32.000000000,2021-03-05 09:46:14.000000000,2021-03-05 09:46:14.000000000,5,0,0,777948,7544105e5c17478992d96404a75dad1170c767ca,11,4,1,1,28522,Hervé Beraud,hberaud,"Release final monasca-common for Wallaby

This proposed a release for monasca-common to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 3.2.0..9aa47af
9aa47af Fix zuul publish docker image job
ccae320 Use C compiler to build cryptography
f59a2f2 Bump librdkafka to 1.6.0
c491b34 [goal] Deprecate the JSON formatted policy file
99f6cf2 Fix zuul publish docker image job
6ffab58 Remove six
429f515 Add py38 in setup metadata
fd7c3bf bump py37 to py38 in tox.ini
e4861ac Add Python3 wallaby unit tests
e8a953b [goal] Migrate testing to ubuntu focal

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Icfb8c0800109872ac92d574aecabb3cb1da3a195
"
openstack%2Freleases~master~I7f3d12e82a555f0c656cc7a9a828f8f11e7bdbfe,openstack/releases,master,wallaby-lib-freeze,I7f3d12e82a555f0c656cc7a9a828f8f11e7bdbfe,Release final glance_store for Wallaby,MERGED,2021-03-01 10:08:02.000000000,2021-03-05 09:44:57.000000000,2021-03-05 09:44:57.000000000,4,0,0,777970,c5874e226a798bd71a516967d4cd4d64d7a02521,21,8,2,1,28522,Hervé Beraud,hberaud,"Release final glance_store for Wallaby

This proposed a release for glance_store to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

Change-Id: I7f3d12e82a555f0c656cc7a9a828f8f11e7bdbfe
"
openstack%2Freleases~master~Ie1dd06525b161219de0d85ac8dad7aa0fcc8573c,openstack/releases,master,wallaby-lib-freeze,Ie1dd06525b161219de0d85ac8dad7aa0fcc8573c,Release final tosca-parser for Wallaby,MERGED,2021-03-01 09:49:25.000000000,2021-03-05 09:43:54.000000000,2021-03-05 09:43:54.000000000,4,0,1,777961,cb8719b710a4ab1f85b2bfc28e4e687c0ecbc380,10,4,1,1,28522,Hervé Beraud,hberaud,"Release final tosca-parser for Wallaby

This proposed a release for tosca-parser to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 2.2.0..a1c2cbe
d353bbc Remove depreciated file babel.cfg
6f253c5 Dropping explicit unicode literal
1f6f7a0 Update TOX_CONSTRAINTS_FILE
ce8fa0f Move tosca-parser to new hacking 4.0.0
df16f01 Support ""Implementation"" definition as Artifact Name
b0c5c55 Drop Python 2 support
62f0d45 Add Python3 wallaby unit tests
00d3a39 Add validation for required property of policies
0653750 Fix error parsing scalar unit contraints

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ie1dd06525b161219de0d85ac8dad7aa0fcc8573c
"
openstack%2Freleases~master~I3d16919d8ee19c2160fcccd5a7bef35d50fc488a,openstack/releases,master,wallaby-lib-freeze,I3d16919d8ee19c2160fcccd5a7bef35d50fc488a,Release final heat-translator for Wallaby,MERGED,2021-03-01 09:58:10.000000000,2021-03-05 09:38:43.000000000,2021-03-05 09:38:43.000000000,5,0,0,777964,f94431e418b6f86a05e1348493ebe75db0f261bb,9,4,1,1,28522,Hervé Beraud,hberaud,"Release final heat-translator for Wallaby

This proposed a release for heat-translator to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 2.1.0..7109d4c
615c76b Remove depreciated file babel.cfg
e41b382 Dropping explicit unicode literal
91c4415 Update TOX_CONSTRAINTS_FILE
6687b35 Move heat-translator to new hacking 4.0.0
4809045 Remove six support
1823e85 Switch to wallaby job template
828ede5 [goal] Migrate testing to ubuntu focal
bfb642e drop mock from lower-constraints
7dc0b74 Fix hacking min version to 3.0.1

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I3d16919d8ee19c2160fcccd5a7bef35d50fc488a
"
openstack%2Fneutron-specs~master~I67ebf642fbb130a7701792d66629dbab2d76181b,openstack/neutron-specs,master,l3-ecmp,I67ebf642fbb130a7701792d66629dbab2d76181b,L3 router support ECMP,MERGED,2020-05-20 07:57:56.000000000,2021-03-05 09:37:27.000000000,2021-03-05 09:34:19.000000000,410,0,253,729532,9cbcaa13e34729831d878b5853a8b6a722217e63,151,12,41,1,31814,XiaoYu Zhu,z503755743,"L3 router support ECMP

This spec outlines the Implementation plan of ECMP in neutron.
Patch for this spec:
https://review.opendev.org/#/c/743661

Related-Bug: #1880532
Change-Id: I67ebf642fbb130a7701792d66629dbab2d76181b
"
openstack%2Fkolla~master~Ib590065ef867f3f508860bc2c6cc1a240055cab8,openstack/kolla,master,,Ib590065ef867f3f508860bc2c6cc1a240055cab8,WIP: Try building Kibana images using arm packages,ABANDONED,2021-03-04 16:27:15.000000000,2021-03-05 09:33:03.000000000,,2,2,0,778744,f5a621127fd7b224956b200dfaa3b65504aacd4c,6,2,1,1,17669,Doug Szumski,DougSzumski,"WIP: Try building Kibana images using arm packages

Change-Id: Ib590065ef867f3f508860bc2c6cc1a240055cab8
"
openstack%2Fhorizon~master~I173f4d647474c21c5d062280bd5703edffb4978e,openstack/horizon,master,,I173f4d647474c21c5d062280bd5703edffb4978e,"import ""collections.abc"" explicitly",MERGED,2021-02-10 09:50:50.000000000,2021-03-05 09:32:57.000000000,2021-03-05 09:30:12.000000000,4,2,5,774790,6efaee23d5bc2631b8db912d2cefbf58b8a1a074,28,4,5,4,29313,Vishal Manchanda,vishalmanchanda,"import ""collections.abc"" explicitly

Collections Abstract Base Classes have been moved to the
collections.abc module, which was part of the collections
module before[1] [2]. Usage from the collections module
directly is deprecated and will be removed from 3.10.
This commit updates to import abc module explicitly
wherever required as the same will no longer be visible/directly
used from the collections module.

[1] https://docs.python.org/3/library/collections.abc.html
[2] http://paste.openstack.org/show/802512/

Change-Id: I173f4d647474c21c5d062280bd5703edffb4978e
"
openstack%2Fnova~stable%2Fvictoria~I8249c572c6f727ef4ca434843106b9b57c47e585,openstack/nova,stable/victoria,bug/1914777,I8249c572c6f727ef4ca434843106b9b57c47e585,Add regression test for bug 1914777,MERGED,2021-02-23 20:09:46.000000000,2021-03-05 09:31:58.000000000,2021-03-05 09:29:27.000000000,151,0,0,777121,4f17ea2f7dedb67802c2a8bc0caa64ff66fd2c9c,10,3,1,1,4690,melanie witt,melwitt,"Add regression test for bug 1914777

This adds two tests to cover a regression where racing create and
delete requests could result in a user receiving a 500 error when
attempting to delete an instance:

  Unexpected exception in API method: AttributeError: 'NoneType' object
  has no attribute 'uuid'

Related-Bug: #1914777

Change-Id: I8249c572c6f727ef4ca434843106b9b57c47e585
(cherry picked from commit f7975d640ce1e9fa06d045d35177f07451716f0c)
"
openstack%2Foctavia~stable%2Fvictoria~Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,openstack/octavia,stable/victoria,,Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,Fix nf_conntrack_buckets sysctl in Amphora,MERGED,2021-02-02 08:12:47.000000000,2021-03-05 09:18:56.000000000,2021-03-05 08:58:38.000000000,9,1,0,773599,dd1580d332c2191e8d28bab692c1fa08e3e8ae80,14,4,1,3,29244,Gregory Thiemonge,gthiemonge,"Fix nf_conntrack_buckets sysctl in Amphora

Setting nf_conntrack_buckets in the amphora namespace fails because this
sysctl can only be set in the initial namespace (cf kernel doc at
https://www.kernel.org/doc/Documentation/networking/nf_conntrack-sysctl.txt)

This commit allows to set nf_conntrack_buckets in the initial namespace,
the value is then inherited by other namespaces.

Conntrack is not enabled in the main namespace, the new default value
doesn't affect this namespace behavior.

Story: 2008028
Task: 40682

Change-Id: Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615
(cherry picked from commit 64a301d4ec85a1bc9b208e60d7958a89e6972976)
"
openstack%2Ftripleo-ci~master~Ie2340e02bc26f55648e2c829e40df048edc1a0d8,openstack/tripleo-ci,master,bug/1917621,Ie2340e02bc26f55648e2c829e40df048edc1a0d8,Add standalone001 to tripleoclient utils changes,MERGED,2021-03-04 14:49:42.000000000,2021-03-05 09:13:26.000000000,2021-03-05 09:13:26.000000000,1,0,0,778712,17d7d68398dba728e499dd7d42fb2672cc9474c2,9,5,1,1,14985,Alex Schultz,mwhahaha,"Add standalone001 to tripleoclient utils changes

With newer versions, we're using the ansible settings from tripleoclient
so we need to add some scenario testing for things like ceph-ansible
when we change the utils.py from tripleoclient.

Change-Id: Ie2340e02bc26f55648e2c829e40df048edc1a0d8
Related-Bug: #1917621
"
openstack%2Ftripleo-quickstart-extras~master~I06dd113e41d4b47e74663cc5c7bea74434cfa0fc,openstack/tripleo-quickstart-extras,master,locale-lang,I06dd113e41d4b47e74663cc5c7bea74434cfa0fc,Ensure locale is set to en_US.UTF-8 for baremetal systems,MERGED,2021-03-03 19:35:17.000000000,2021-03-05 09:12:34.000000000,2021-03-05 09:12:34.000000000,21,0,0,778561,3d81be621749552dc0748a0ec572d19fc482880e,18,6,5,2,9976,Ronelle Landy,rlandy,"Ensure locale is set to en_US.UTF-8 for baremetal systems

RHEL 8.4 guest images set the locale to LANG=en_US
which results in error during the deploy.
This role ensure that the locale includes
LANG=en_US.UTF-8 after the image boots.

Related-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1935345
Change-Id: I06dd113e41d4b47e74663cc5c7bea74434cfa0fc
"
openstack%2Foctavia~stable%2Fvictoria~I05488e91b33dfed891c0a896a86d8bd94bc4a918,openstack/octavia,stable/victoria,oslo_lc_drop,I05488e91b33dfed891c0a896a86d8bd94bc4a918,Drop lower constraints testing (stable Victoria),MERGED,2021-01-12 21:21:41.000000000,2021-03-05 08:44:55.000000000,2021-03-05 08:41:33.000000000,0,188,0,770476,85875bcd318acee2af4f7ec314891892bd3a69ec,18,3,1,3,1131,Brian Haley,brian-haley,"Drop lower constraints testing (stable Victoria)

This topic was discussed on the ML and QA team proposed to
to drop testing lower-constraints [1].

Proposing to drop this test because the complexity and
recurring pain needed to maintain it now exceeds the
benefits provided by it on the stable branches.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I05488e91b33dfed891c0a896a86d8bd94bc4a918
"
openstack%2Foctavia~stable%2Fvictoria~I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,openstack/octavia,stable/victoria,,I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,Support deletion of all tags,MERGED,2021-02-02 08:41:06.000000000,2021-03-05 08:43:38.000000000,2021-03-05 08:41:23.000000000,20,5,0,773608,adb4e78e4439181f57c17f277bad0cd325f219cf,14,4,1,2,29244,Gregory Thiemonge,gthiemonge,"Support deletion of all tags

Add support for removal of all tags by PUTing empty tags array.

Also moved assignment after initial session query for the
object in the listener update path.

Task: #41009
Story: #2008220

Change-Id: I7488f2fae61917f6d4a56cedd05bace7c5e2bc70
Signed-off-by: Andrew Karpow <andrew.karpow@sap.com>
(cherry picked from commit 7ad022379ff2e366d3dfd73113d4619b0137551c)
"
openstack%2Fpython-openstackclient~stable%2Fussuri~I2ea2def607ec5be112e42d53a1e660fef0cdd69c,openstack/python-openstackclient,stable/ussuri,fix_rbac_regression,I2ea2def607ec5be112e42d53a1e660fef0cdd69c,Fix reverted osc-lib interface change,MERGED,2021-01-19 15:29:32.000000000,2021-03-05 08:30:57.000000000,2021-03-05 08:29:39.000000000,1,1,0,771408,0a8d855764c049be983ece4aaad02eea866da09e,12,4,2,1,15334,Stephen Finucane,sfinucan,"Fix reverted osc-lib interface change

The patch https://review.opendev.org/#/c/673389/ introduced a regression
by changing the osc-lib interface.

Two conflicting attempts to fix the regression were launched:

1) Reverting the patch.

2) The patch https://review.opendev.org/683119 changes the exception
   from the generic CommandError back to a specific Forbidden exception.

   The patch https://review.opendev.org/683118 catches this exception
   and passes on, i.e. re-implements the same behavior as before.

The first idea was implemented, the initial patch reverted. The second
idea was partially implemented. The change in python-openstackclient
(683118) was merged. The change in osc-lib was approved but failed to
merge because the initial change had been reverted.

Now we have again a situation where the exception produced in osc-lib
does not match the exception expected by the caller.

It is unclear if the osc-lib interface will ever get a rebased version
of https://review.opendev.org/683119 merged, so the safest way to
address the issue is to also catch the exception that used to be
thrown before the inital change and is again thrown after the inital
change has been reverted.

Change-Id: I2ea2def607ec5be112e42d53a1e660fef0cdd69c
(cherry picked from commit 0a8753dc3eaeda25554ccd769350de1e9792a62b)
"
openstack%2Fpuppet-tripleo~master~Ie250cb642841abc2f1b559c813d8750008101d73,openstack/puppet-tripleo,master,,Ie250cb642841abc2f1b559c813d8750008101d73,"Revert ""Revert ""Add replication_probe_interval for ovsdbs""""",ABANDONED,2020-05-13 07:33:06.000000000,2021-03-05 08:30:10.000000000,,31,19,0,727645,6c3dc3ee274d5eeb2bef3cc41f1adfc0db4b10ce,4,8,1,2,11082,Kamil Sambor,ksambor,"Revert ""Revert ""Add replication_probe_interval for ovsdbs""""

Now with current version of ovs changes should work because
patch [0] introduce inactive_probe_interval_to_master

[0]https://patchwork.ozlabs.org/patch/1238976/

This reverts commit 9c05cdf97f7329634b5bc55492cf66423c634028.

Change-Id: Ie250cb642841abc2f1b559c813d8750008101d73
"
openstack%2Fproject-config~master~Ib269cdc2bc6b9f96ba1e7a07a594267f49cbfcd5,openstack/project-config,master,prep-nl01.opendev-config,Ib269cdc2bc6b9f96ba1e7a07a594267f49cbfcd5,Add an nl01.opendev.org config,MERGED,2021-02-22 18:50:59.000000000,2021-03-05 08:11:57.000000000,2021-03-05 06:48:41.000000000,185,0,0,776979,f9d92fbea2fce2e81ba3868399c274de9dbd95be,8,3,1,1,4146,Clark Boylan,cboylan,"Add an nl01.opendev.org config

This is prep work for eventually deploying an nl01.opendev.org server.
First thing this allows us to do is find and deploy the right config in
testing. Once nl01.openstack.org has been completely replaced we can
remove its config from this repo.

Change-Id: Ib269cdc2bc6b9f96ba1e7a07a594267f49cbfcd5
"
openstack%2Foctavia~stable%2Fvictoria~I1c5cb987945a7a465bfecfda399dfe93fc1b76bb,openstack/octavia,stable/victoria,,I1c5cb987945a7a465bfecfda399dfe93fc1b76bb,Validate listener protocol in amphora driver,MERGED,2021-02-02 08:22:12.000000000,2021-03-05 07:48:06.000000000,2021-03-05 07:46:36.000000000,72,2,0,773602,b326d636699ea325a28531a42953fbb11eef1cf8,12,3,1,4,29244,Gregory Thiemonge,gthiemonge,"Validate listener protocol in amphora driver

Validate that the amphora driver supports the listener protocol when
receving a listener_create request.

It returns an UnsupportedOptionError exception to the user if the
amphora driver doesn't support a protocol that is defined in the API
(ex: SCTP is supported in the API in the Victoria release, but not in
the amphora driver).

Story: 2008545
Task: 41647

Change-Id: I1c5cb987945a7a465bfecfda399dfe93fc1b76bb
(cherry picked from commit fbbc5f9024b0408d5ff70bb8f2c4c690f0304c33)
"
openstack%2Fpython-tackerclient~master~I25e1bdc32e0b91bbe02b82f79918c02b98e5f110,openstack/python-tackerclient,master,bug/1847726,I25e1bdc32e0b91bbe02b82f79918c02b98e5f110,Fix error message for nonexistent vnf package,MERGED,2021-02-10 08:16:12.000000000,2021-03-05 06:57:33.000000000,2021-03-05 06:56:21.000000000,7,0,2,774776,e7a0c96920349c5a335b9eb5e5aabd38d378434a,31,8,4,1,32102,Manpreet Kaur,manpreet,"Fix error message for nonexistent vnf package

In Victoria release, the error handling of non-existing VNF package
was modified, please refer to [1].
On passing a non-existing vnf package uuid to ""vnf package upload""
command, the tacker server sends an HTTP response with ""Content-Type""
header as ""application/problem+json"" and the reason for a failure
described in the JSON problem details object.

This patch extracts the ETSI error message in method
exception_handler_v10.

Fixes the issue and now it will output below error message:

  $ openstack vnf package upload --path sample_vnf_pkg.zip dummy-id
  Can not find requested vnf package: dummy-id

Note: This bug was earlier address in Ussuri release, please refer [2].

[1] https://review.opendev.org/c/openstack/tacker/+/747678/37/tacker/api/vnfpkgm/v1/controller.py
[2] https://review.opendev.org/c/openstack/python-tackerclient/+/688886

Co-Authored-By: Wataru Juso  w-juso@nec.com
Closes-Bug: #1847726
Change-Id: I25e1bdc32e0b91bbe02b82f79918c02b98e5f110
"
openstack%2Fzaqar-specs~master~I300ec5342988cae134e9d1d472684715ee7e9317,openstack/zaqar-specs,master,create_xena_directory,I300ec5342988cae134e9d1d472684715ee7e9317,Add spec folder for Xena,NEW,2021-03-05 06:17:14.000000000,2021-03-05 06:31:00.000000000,,115,0,0,778842,bf3ce72f9a29b9c29a7ad4ba7e761eda51c0c056,2,1,1,3,31412,Wenping Song,songwenping,"Add spec folder for Xena

Change-Id: I300ec5342988cae134e9d1d472684715ee7e9317
"
openstack%2Fkeystonemiddleware~master~Id62149ddfc52a9ab7f6224813434152bc282d3cf,openstack/keystonemiddleware,master,,Id62149ddfc52a9ab7f6224813434152bc282d3cf,Use TOX_CONSTRAINTS_FILE,ABANDONED,2020-12-24 07:06:18.000000000,2021-03-05 05:56:33.000000000,,1,1,0,768432,c0daf51f9bc72566e5ccd6876a08b85e04e98044,3,1,1,1,30384,zhangboye,zhangboye,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Id62149ddfc52a9ab7f6224813434152bc282d3cf
"
openstack%2Foctavia~master~Ibb461802bedbff9a49af339d0c66e853709e16aa,openstack/octavia,master,,Ibb461802bedbff9a49af339d0c66e853709e16aa,Replace deprecated UPPER_CONSTRAINTS_FILE variable,ABANDONED,2020-12-03 05:48:56.000000000,2021-03-05 05:56:14.000000000,,1,1,0,765240,21eab27d6679f3c9f69b210d667a3b93b5ba88a5,6,2,1,1,30384,zhangboye,zhangboye,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

Change-Id: Ibb461802bedbff9a49af339d0c66e853709e16aa
"
openstack%2Fdesignate~stable%2Fussuri~I9dddd4130a0cbb29311eeb52e077e216c8c03f3a,openstack/designate,stable/ussuri,bug/1879798,I9dddd4130a0cbb29311eeb52e077e216c8c03f3a,Update zones masters using pool target masters.,MERGED,2020-07-28 18:26:25.000000000,2021-03-05 05:37:57.000000000,2021-03-04 22:59:30.000000000,147,0,0,743610,b967e9f706373f1aad6db882c2295fbbe1fadfc9,24,6,4,5,2276,Jorge Niedbalski,niedbalski,"Update zones masters using pool target masters.

This change enforces the update of the zone masters
for all zones that belongs to a particular pool, using
the pool's defined target(s) masters and forcing a update_zone
call.

This change also, moves the backend base class update_zone
method as an abstract method, allowing to each backend
implementation to create its own update logic. For the
case of bind9 its extended to allow running a rndc modzone
with the new given masters for the zone fixing the behavior
exposed on LP: #1879798.

Fixes-Bug: #1879798

Change-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>
(cherry picked from commit 3756fc51e71aaf0ba7cfb9155ca5d1de26ab78bc)
"
openstack%2Fnova~stable%2Fussuri~Icaad4b2375b491c8a7e87fb6f4977ae2e13e8190,openstack/nova,stable/ussuri,bug/1907522,Icaad4b2375b491c8a7e87fb6f4977ae2e13e8190,Fallback to same-cell resize with qos ports,MERGED,2021-02-03 15:42:24.000000000,2021-03-05 05:06:20.000000000,2021-03-04 13:08:43.000000000,76,32,1,773932,8daac915bba7e9431c70b27ffef34bef28a9b0e1,31,4,3,6,9708,Balazs Gibizer,gibi,"Fallback to same-cell resize with qos ports

The cross-cell resize code does not consider neutron ports with resource
request. To avoid migration failures this patch makes nova to fall back
to same cell resize if the instance has neutron ports with resource
request.

The stable/ussuri specific test change is due to
ecff78e05d40b0bcb9237d4cfea53fd3223f37a0 missing from ussuri.

Change-Id: Icaad4b2375b491c8a7e87fb6f4977ae2e13e8190
Closes-Bug: #1907522
Closes-Bug: #1907511
(cherry picked from commit 1c056c384d1b89dd877e1aa3108b1797d7881223)
(cherry picked from commit 6b57575092aa5f16f51e5af8b0e62617f46b420a)
"
openstack%2Fnova~master~I7aa10ab5acaa207a451a2f9ac3a4825a276a405f,openstack/nova,master,,I7aa10ab5acaa207a451a2f9ac3a4825a276a405f,POC: tests: Adds test checking unbalanced NUMA node association,NEW,2021-03-04 16:09:37.000000000,2021-03-05 04:09:23.000000000,,33,0,1,778740,ff951c53f83f85671be39b6d2104be0375ade719,4,1,1,1,8213,Claudiu Belu,claudiub,"POC: tests: Adds test checking unbalanced NUMA node association

According to [1], the NUMA nodes used should be chosen randomly. However, the
numa_fit_instance_to_host documentation mentions that it returns a new
InstanceNUMATopology with its cell ids set to host cell ids of the first successful
permutation or None, which means that the NUMA node 0 will be filled up, and
then instances will start getting scheduled on NUMA node 1.

This can result in a problematic imbalance on the compute nodes, and could generate
problems for live migrations, as the instances are live migrated to the same NUMA node
on a different node.

This adds a unit test that illustrates the NUMA node imbalance.

[1] https://docs.openstack.org/nova/latest/admin/cpu-topologies.html#customizing-instance-numa-placement-policies

Change-Id: I7aa10ab5acaa207a451a2f9ac3a4825a276a405f
"
openstack%2Fironic~master~I8dfd16abf9da0c1a72858a45bdc1aa277351e00f,openstack/ironic,master,bp/volume-owner-lessee-policy,I8dfd16abf9da0c1a72858a45bdc1aa277351e00f,expose owner and lessee in baremetal volume policy,ABANDONED,2020-12-17 20:43:22.000000000,2021-03-05 03:38:11.000000000,,359,150,15,767631,6371e66756b160790123799690eb5bc08621e709,35,2,7,17,7386,Tzu-Mainn Chen,tzumainn,"expose owner and lessee in baremetal volume policy

This change enables non-admins to have access to baremetal volume
operations, by exposing owner and lessee fields to baremetal
volume policy checks. Note that this access requires a policy
change.

Story: #2006506
Task: #41432
Change-Id: I8dfd16abf9da0c1a72858a45bdc1aa277351e00f
"
openstack%2Foctavia~stable%2Fvictoria~I23319b1d8d3de0509b20d4a37bff93fc2155d47f,openstack/octavia,stable/victoria,,I23319b1d8d3de0509b20d4a37bff93fc2155d47f,Pin pylint version,MERGED,2021-02-22 12:15:56.000000000,2021-03-05 03:33:37.000000000,2021-03-05 03:32:25.000000000,1,1,0,776926,0fc8f22373437a2901984b986defb09f2764dbe5,20,4,1,1,6469,Carlos Gonçalves,cgoncalves,"Pin pylint version

Pylint 2.7 added new checks that make pep8 fail. Following what we've
done in previous stable branches, it is better to set an upper
constraint version to pylint requirement than addressing additional
checks as future pylint versions are released.

Change-Id: I23319b1d8d3de0509b20d4a37bff93fc2155d47f
"
openstack%2Fcinder~master~Ideeee3b1ba22054f3e9b8e2cc8f7f18f0089c314,openstack/cinder,master,bug/1916980,Ideeee3b1ba22054f3e9b8e2cc8f7f18f0089c314,Refresh the volume object when detaching volume,ABANDONED,2020-04-26 08:34:55.000000000,2021-03-05 03:12:45.000000000,,1,0,6,723179,b50689f62e642d5dcb7cb824e127804dcc5bacbc,57,22,3,1,26285,wu.chunyang,wu.chunyang,"Refresh the volume object when detaching volume

when we detach a volume, cinder-volume sends a notification with
an old volume object which is wrong.
this change refreshs the db object before sending the notification.
Closes-Bug: #1916980

Change-Id: Ideeee3b1ba22054f3e9b8e2cc8f7f18f0089c314
"
openstack%2Fbarbican-specs~master~I37ee4375af9d149d84146e0908e93689bb39d622,openstack/barbican-specs,master,create_xena_directory,I37ee4375af9d149d84146e0908e93689bb39d622,Create specs directory for Xena,NEW,2021-03-05 02:49:07.000000000,2021-03-05 02:56:04.000000000,,350,0,1,778811,afb1f38c1c1272add32e8afbc74c4e08f05b6587,3,2,2,2,31412,Wenping Song,songwenping,"Create specs directory for Xena

Change-Id: I37ee4375af9d149d84146e0908e93689bb39d622
"
openstack%2Fcyborg~master~I400c722b9b06fb4085927751282647795744a14f,openstack/cyborg,master,bug-fix,I400c722b9b06fb4085927751282647795744a14f,bug-fix: correct the comment for each vendor driver,MERGED,2021-03-02 08:30:28.000000000,2021-03-05 02:45:39.000000000,2021-03-05 02:44:24.000000000,8,16,0,778147,8d56b2bc70983b49c3cba7e06df8289db7c3d573,11,4,1,4,25738,Xinran WANG,Xinran,"bug-fix: correct the comment for each vendor driver

Change-Id: I400c722b9b06fb4085927751282647795744a14f
"
openstack%2Fsenlin-dashboard~master~I602cd2b5985f7fd7eb0d83bc4fbb68fc032dfabe,openstack/senlin-dashboard,master,zanata/translations,I602cd2b5985f7fd7eb0d83bc4fbb68fc032dfabe,Imported Translations from Zanata,MERGED,2021-03-03 08:20:03.000000000,2021-03-05 02:19:34.000000000,2021-03-04 21:09:49.000000000,1,1,0,778383,65a29cbbe2345d73aff0eb8cb96ebeaf42cf97f6,9,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I602cd2b5985f7fd7eb0d83bc4fbb68fc032dfabe
"
openstack%2Fneutron~master~I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72,openstack/neutron,master,dvr-remove-arp-update-through-control-plane,I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72,DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table,MERGED,2019-04-11 18:47:41.000000000,2021-03-05 02:12:25.000000000,2019-06-13 09:57:32.000000000,124,12,5,651905,52b537ca22b2d7d81a84b2f75de577d8dffee94c,98,16,12,7,7016,Swaminathan Vasudevan,souminathan,"DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table

DVR does the ARP table update through the control plane, and does not
allow any ARP requests to get out of the node.

In order to address the allowed address pair VRRP IP issue with DVR,
we need to add an ARP entry into the ARP Responder table for the
allowed address pair IP ( which is taken care by the patch in [1])

This patch adds a rule in the br-int to redirect the packet
destinated to the router to the actual router-port and also moves
the arp filtering rule to the tunnel or the physical port based on the
configuration.

By adding the above rule it allows the ARP requests to reach the
ARP Responder table and filters the ARP requests before it reaches
the physical network or the tunnel.

[1] https://review.opendev.org/#/c/601336/
Related-Bug: #1774459

Change-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33,openstack/tripleo-heat-templates,stable/train,bug/1915761-stable/train,Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33,Use include task for host prep tasks,MERGED,2021-02-24 16:09:51.000000000,2021-03-05 02:06:10.000000000,2021-03-05 02:06:10.000000000,1,1,0,777425,cc07523928c15c0d822b2edb91d1875fc23b7068,16,4,4,1,14985,Alex Schultz,mwhahaha,"Use include task for host prep tasks

Import tasks causes the tasks always to be pulled in and just skipped at
run time. This is terribly slow with more roles even when not running
against those hosts.  A similar effort was applied to the update process
I2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used
here.

Change-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33
Related-Bug: #1915761
(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I49a2c42dcbb74671834f312798367f411c819813,openstack/tripleo-heat-templates,stable/train,bug/1915761-stable/train,I49a2c42dcbb74671834f312798367f411c819813,Use ansible_facts instead,MERGED,2021-02-24 16:05:05.000000000,2021-03-05 02:05:52.000000000,2021-03-05 02:05:52.000000000,62,61,0,777421,4e79336d69e6b7fa4b026922bac7953bafeee96d,15,3,4,28,14985,Alex Schultz,mwhahaha,"Use ansible_facts instead

In order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts
instead of ansible_* vars. This change switches our distribution and
hostname related items to use ansible_facts instead.

Change-Id: I49a2c42dcbb74671834f312798367f411c819813
Related-Bug: #1915761
(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0cd5b24933e50680baefd055d6e68e277ab09315,openstack/tripleo-heat-templates,stable/train,bug/1915761-stable/train,I0cd5b24933e50680baefd055d6e68e277ab09315,Drop service facts usage,MERGED,2021-02-24 16:05:05.000000000,2021-03-05 02:05:45.000000000,2021-03-05 02:05:45.000000000,27,17,0,777420,6902fcea0947a99b780254de8b8f40f467ea4a3c,21,3,2,4,14985,Alex Schultz,mwhahaha,"Drop service facts usage

This change switches from using service facts to using systemctl
commands to do service checks. This is done to reduce the amount of
memory used as part of the deployment.

Change-Id: I0cd5b24933e50680baefd055d6e68e277ab09315
Related-Bug: #1915761
(cherry picked from commit f9100964f976dd2a590973f313fa6a2449d37b3f)
"
openstack%2Frequirements~master~I7ead4753427d3492d02fd8256768e6efba52a12a,openstack/requirements,master,new-release,I7ead4753427d3492d02fd8256768e6efba52a12a,"Revert ""update constraint for ironic-lib to new release 4.6.0""",MERGED,2021-03-04 14:57:53.000000000,2021-03-05 01:57:18.000000000,2021-03-05 01:56:04.000000000,2,2,0,778691,2a907762cfdee24d78b0e2cf23857cdde5e7bc98,9,4,2,2,10239,Dmitry Tantsur,dtantsur,"Revert ""update constraint for ironic-lib to new release 4.6.0""

This reverts commit 347e83cf56faa4c634cfa54e07c9731585c2e13e.

Reason for revert: broke the ironic CI, see this patch:
https://review.opendev.org/c/openstack/ironic-lib/+/778714

Change-Id: I7ead4753427d3492d02fd8256768e6efba52a12a
"
openstack%2Fopenstack-chef~master~Ica4a65a98f3b3b509d1aa8df5f36f62f3677acab,openstack/openstack-chef,master,,Ica4a65a98f3b3b509d1aa8df5f36f62f3677acab,Pin berkshelf to < 7.2.0 to work around issues with Chef/Cinc 15,MERGED,2021-03-04 23:28:59.000000000,2021-03-05 01:46:10.000000000,2021-03-05 01:45:06.000000000,3,1,0,778794,2d4e29c2a4acd1b5aa7483526359319cd6944a52,7,2,1,1,21961,Lance Albertson,ramereth,"Pin berkshelf to < 7.2.0 to work around issues with Chef/Cinc 15

This works around a problem that was introducted in berkshelf-7.2.0 for Ruby 3.0
support that now breaks berks with the following error:

  ArgumentError wrong number of arguments (given 3, expected 1..2)

This should be removed after we remove support for Chef/Cinc 15.

Signed-off-by: Lance Albertson <lance@osuosl.org>
Change-Id: Ica4a65a98f3b3b509d1aa8df5f36f62f3677acab
"
openstack%2Ftripleo-heat-templates~master~I23c600c1754d463028259a7dc2c6e5538c512ca4,openstack/tripleo-heat-templates,master,network-data-v2,I23c600c1754d463028259a7dc2c6e5538c512ca4,Add hostname and stack_name tags to ports,MERGED,2020-11-08 23:58:31.000000000,2021-03-05 00:58:03.000000000,2020-11-16 17:56:12.000000000,35,0,1,761845,28f2a709124f62469acafb64110f755edec82636,26,5,4,7,24245,Harald Jensås,harald.jensas,"Add hostname and stack_name tags to ports

Set tag's with the stack name and the hostname
on composable network node ports. The tags will
be used by network-data-v2 with port management
handled outside of heat.

Change-Id: I23c600c1754d463028259a7dc2c6e5538c512ca4
"
openstack%2Ftripleo-heat-templates~master~I0fa2230ae4f8ff4fdc6fc4b79e7bdcf3bdff342f,openstack/tripleo-heat-templates,master,network-data-v2,I0fa2230ae4f8ff4fdc6fc4b79e7bdcf3bdff342f,Pre-fix neutron resource tags with 'tripleo_',MERGED,2020-11-30 09:28:01.000000000,2021-03-05 00:54:48.000000000,2020-12-10 23:56:30.000000000,2,2,0,764615,1e7015081d19c1df0470e1a2654d7425f42e4b41,22,5,1,1,24245,Harald Jensås,harald.jensas,"Pre-fix neutron resource tags with 'tripleo_'

Tag was added to neutron port resources in:
https://review.opendev.org/c/openstack/tripleo-heat-templates/+/761845

Tag's previously added was pefixed with 'tripleo_'. This
change adds the 'tripleo_' prefix to the tags on neutron
port resources as well.

Partial-Implements: blueprint network-data-v2-ports
Change-Id: I0fa2230ae4f8ff4fdc6fc4b79e7bdcf3bdff342f
"
openstack%2Ftripleo-heat-templates~master~I0d39ea713ce1201b60f3def69f453792e402eb33,openstack/tripleo-heat-templates,master,network-data-v2,I0d39ea713ce1201b60f3def69f453792e402eb33,Add an index tag on neutron network resources,MERGED,2021-01-28 01:10:50.000000000,2021-03-05 00:54:43.000000000,2021-02-03 12:59:10.000000000,6,0,0,772816,2d0125ed4023eb7c524d09a0e5865e8d3e22a492,9,4,1,2,24245,Harald Jensås,harald.jensas,"Add an index tag on neutron network resources

When using the multiple nic-config templates in THT
and in tripleo-ansible the ordering of networks in
the network_data file matters.

Add a a tag 'tripleo_net_idx' to neutron resources
to keep track of the ordering.

Depends-On: https://review.opendev.org/772795
Partial-Implements: blueprint network-data-v2-ports
Change-Id: I0d39ea713ce1201b60f3def69f453792e402eb33
"
openstack%2Ftripleo-common~master~I6162ee854b08668274df32120e3ffc961b6cf807,openstack/tripleo-common,master,network-data-v2,I6162ee854b08668274df32120e3ffc961b6cf807,Add an internal index to network_data,MERGED,2021-01-28 01:06:49.000000000,2021-03-05 00:54:34.000000000,2021-02-03 12:58:34.000000000,4,0,0,772795,ff52ddb3912ade33c9884e415ee260c5a57ab9f7,10,4,1,1,24245,Harald Jensås,harald.jensas,"Add an internal index to network_data

When using the multiple nic-config templates in THT
and in tripleo-ansible the ordering of networks in
the network_data file matters.

Add and 'idx' key internally so that we can put a tag
on neutron network resources to keep track of the
ordering.

Change-Id: I6162ee854b08668274df32120e3ffc961b6cf807
Partial-Implements: blueprint network-data-v2-ports
"
openstack%2Ftripleo-heat-templates~master~I098f24423716688fe8ff61a894516f3e860b2a4c,openstack/tripleo-heat-templates,master,network-data-v2,I098f24423716688fe8ff61a894516f3e860b2a4c,Set tag hints on ControlVirtualIP,MERGED,2021-02-23 22:41:50.000000000,2021-03-05 00:52:25.000000000,2021-03-02 01:53:26.000000000,9,0,0,777252,d3b8515c4f389fbd8ff0cf9eb65b0b73f730724a,10,6,1,2,24245,Harald Jensås,harald.jensas,"Set tag hints on ControlVirtualIP

Set tags tripleo_vip_net=ctlplane and tripleo_stack_name=$STACK_NAME
on the ControlVirtualIP port.

Related: blueprint network-data-v2-ports
Change-Id: I098f24423716688fe8ff61a894516f3e860b2a4c
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I0c509370332797fe563804b0ddb8f1a5d4742994,openstack/tripleo-heat-templates,stable/victoria,bz/1916162-stable/victoria,I0c509370332797fe563804b0ddb8f1a5d4742994,Remove tripleo_transfer cleanup.yml reference,MERGED,2021-03-04 11:39:33.000000000,2021-03-04 23:54:23.000000000,2021-03-04 23:54:23.000000000,0,4,0,778648,04b9cad83877fea416656bc46c1e7f5f325981fa,11,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Remove tripleo_transfer cleanup.yml reference

With the changes in https://review.opendev.org/771657
this cleanup task file no longer exists. The cleanup
is done within the role automatically via a block/rescue.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162
Needed-By: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f

Change-Id: I0c509370332797fe563804b0ddb8f1a5d4742994
(cherry picked from commit 0f081b4f8032f1cd00f7f653d0a0614d09f4cb61)
"
openstack%2Fdesignate~stable%2Ftrain~I9dddd4130a0cbb29311eeb52e077e216c8c03f3a,openstack/designate,stable/train,bug/1879798,I9dddd4130a0cbb29311eeb52e077e216c8c03f3a,Update zones masters using pool target masters.,MERGED,2020-07-28 18:26:36.000000000,2021-03-04 23:48:36.000000000,2021-03-04 23:47:19.000000000,147,0,0,743611,953492904772933f5f8e265d1ae6cc1e6385fcc6,26,6,3,5,2276,Jorge Niedbalski,niedbalski,"Update zones masters using pool target masters.

This change enforces the update of the zone masters
for all zones that belongs to a particular pool, using
the pool's defined target(s) masters and forcing a update_zone
call.

This change also, moves the backend base class update_zone
method as an abstract method, allowing to each backend
implementation to create its own update logic. For the
case of bind9 its extended to allow running a rndc modzone
with the new given masters for the zone fixing the behavior
exposed on LP: #1879798.

Fixes-Bug: #1879798

Change-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>
(cherry picked from commit 3756fc51e71aaf0ba7cfb9155ca5d1de26ab78bc)
"
openstack%2Fos-brick~master~Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2,openstack/os-brick,master,bp/six-removal,Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2,Remove six,MERGED,2020-09-27 07:42:19.000000000,2021-03-04 23:48:14.000000000,2021-03-04 00:52:17.000000000,49,93,52,754598,a9011e5558590c1503bba09cdf39d87d707b385d,149,14,14,22,30092,Xuan Yandong,xuanyandong,"Remove six

Replace to Python 3 style code.

Change-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2
"
openstack%2Fcharm-interface-mysql-router~master~Id7f05dc80ef665d2672f512d191d8fffc0014ec7,openstack/charm-interface-mysql-router,master,bug/1917346,Id7f05dc80ef665d2672f512d191d8fffc0014ec7,Set private-address on db-router relation,MERGED,2021-03-01 18:18:20.000000000,2021-03-04 23:26:49.000000000,2021-03-04 23:26:49.000000000,3,1,0,778045,f6ebeef9ae56f18a4e41d51da946a4dffcd8ccd9,7,3,1,2,20805,David Ames,thedac,"Set private-address on db-router relation

Avoid LP Bug#1917346 when setting MySQL authentication and the expected
IP address for connectivity.

Change-Id: Id7f05dc80ef665d2672f512d191d8fffc0014ec7
Partial-Bug: #1917346
"
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I7ee221be2a01b0e8b22b51902a81fe29bb624db3,openstack/puppet-openstack-integration,stable/train,,I7ee221be2a01b0e8b22b51902a81fe29bb624db3,Update the cirros version to 0.5.1,MERGED,2021-03-04 10:39:42.000000000,2021-03-04 23:15:55.000000000,2021-03-04 23:15:55.000000000,7,7,0,778635,6ef855f4d2393e3bb30e8ec3faf4795e4d5a252d,8,4,1,3,16312,Alfredo Moralejo,amoralej,"Update the cirros version to 0.5.1

We are hitting random timeout issues when intances trying to get
metadata. This version includes a fix for this [1].

[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129

Change-Id: I7ee221be2a01b0e8b22b51902a81fe29bb624db3
(cherry picked from commit 90671b2e0b05ea908a375c5bdb271afb55014870)
"
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I62f35dce338ae186a217dd1d0a141d3a737243a0,openstack/puppet-openstack-integration,stable/train,,I62f35dce338ae186a217dd1d0a141d3a737243a0,pin bundler to 2.2.11,MERGED,2021-03-04 10:39:42.000000000,2021-03-04 23:15:51.000000000,2021-03-04 23:15:51.000000000,4,12,0,778634,d266e3df36d914f2697d0429b7024a8ae6c8fcc0,7,4,1,4,16312,Alfredo Moralejo,amoralej,"pin bundler to 2.2.11

It seems the latest 2.2.12 requires rake>13.0 installed and that
requirement doesn't work well in current our CI jobs.
Let's pin it to the previous version until we resolve the issue.

This change also removes the pin for the very old Ruby version.

Closes-Bug: #1917457
Change-Id: I62f35dce338ae186a217dd1d0a141d3a737243a0
(cherry picked from commit 4d2d86e0df434ee25a508aceb1ea209a0c64f80b)
"
openstack%2Fneutron~stable%2Ftrain~I97ada62484023b9833ed12afd68eb4c8d337fd1f,openstack/neutron,stable/train,bug/1896734,I97ada62484023b9833ed12afd68eb4c8d337fd1f,"Improve ""get_devices_with_ip"" performance",MERGED,2021-03-01 10:34:05.000000000,2021-03-04 23:14:18.000000000,2021-03-04 23:11:36.000000000,105,56,0,777978,cc9b849bf39c894355b533f60d8a5a0dc8f04b8f,35,4,2,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Improve ""get_devices_with_ip"" performance

As reported in LP#1896734, there is a limit in the size of information
that can be transmitted in one single message between an application
and the privsep daemon. The read socket buffer is limited in size;
a message exceeding this size will generate an exception.

In order to limit the amount of information to be sent, this patch
improves the performance of ""get_devices_with_ip"". In the previous
implementation, the whole list of network devices from a namespace
was retrieved. In some environments, the list of devices could be
so big that the list returned by ""privileged.get_link_devices"" can
exceed the read buffer size (as reported in the LP bug when the
OVS agent tries to retrieve the list of IP addresses in the system).

Now the function calls ""privileged.get_ip_addresses"", that returns
a much smaller list. This patch is also reducing the number of system
calls to just one; the previous implementation was retrieving first
the devices link information list (that method was returning a much
bigger blob) and then, per device, retrieving the IP address
information.

Conflicts:
    neutron/tests/functional/agent/linux/test_ip_lib.py

Change-Id: I97ada62484023b9833ed12afd68eb4c8d337fd1f
Related-Bug: #1896734
(cherry picked from commit a6cdf273c06a3bba713d7b8d0ef3a9b71b0ffc57)
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~I3d3e32458e7102c74feeb430b1e8f27f3ede0583,openstack/openstack-ansible,stable/victoria,bump_osa,I3d3e32458e7102c74feeb430b1e8f27f3ede0583,Bump SHAs for stable/victoria,MERGED,2021-02-14 17:34:07.000000000,2021-03-04 23:07:27.000000000,2021-03-04 23:04:27.000000000,74,69,0,775521,fb71a1bb8222861cde391e29b8cb906ee62ace07,35,6,5,5,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump SHAs for stable/victoria

Change-Id: I3d3e32458e7102c74feeb430b1e8f27f3ede0583
"
openstack%2Fneutron~master~Id61d24ca2d7b1293e9f1bc84f52944321880dbbd,openstack/neutron,master,secure-rbac,Id61d24ca2d7b1293e9f1bc84f52944321880dbbd,Add new policy rules NET_OWNER and PARENT_OWNER,MERGED,2021-03-03 09:32:51.000000000,2021-03-04 22:52:29.000000000,2021-03-04 22:50:36.000000000,6,3,0,778391,9c2f0bba61575088526da8a2da376cb1bf4a3043,13,6,1,2,11975,Slawek Kaplonski,slaweq,"Add new policy rules NET_OWNER and PARENT_OWNER

In old policies we have rules ADMIN_OR_NET_OWNER and
ADMIN_OR_PARENT_OWNER but now as we are moving to new secure RBAC
roles we need to extract ""admin-ness"" from those rules as
ADMIN is already checked in the default roles, like SYSTEM_ADMIN or
PROJECT_ADMIN.
This patch proposes such new rules and uses them in the subnet policies
which were already migrated to the new secure-rbac policies.

Change-Id: Id61d24ca2d7b1293e9f1bc84f52944321880dbbd
"
openstack%2Fmanila-image-elements~master~Ie97fec3d6edf93a1506a38ead8a17534e6bb0ccd,openstack/manila-image-elements,master,lower-constraints,Ie97fec3d6edf93a1506a38ead8a17534e6bb0ccd,Remove lower-constraints job,MERGED,2021-02-16 17:31:53.000000000,2021-03-04 22:24:18.000000000,2021-03-04 22:24:18.000000000,0,34,1,775881,6496b2f2ba474a330fa9eef75f3efdafeb99ae45,13,3,3,3,32411,Eduardo Santos,ecsantos,"Remove lower-constraints job

This patch removes the lower-constraints job entirely. This change
is needed due to an update in the pip-dependency-resolver which
broke the lower-constraints job.

Change-Id: Ie97fec3d6edf93a1506a38ead8a17534e6bb0ccd
"
openstack%2Fopenstack-helm-images~master~I3b938a0040f3a800e52d3602c252e8a58a57f1c6,openstack/openstack-helm-images,master,,I3b938a0040f3a800e52d3602c252e8a58a57f1c6,Add monasca-api image,MERGED,2021-01-18 19:09:35.000000000,2021-03-04 22:16:39.000000000,2021-03-04 22:11:59.000000000,20,2,3,771267,3e2a3d4aa28d15b6eb25050e55fa8d9254349ee6,50,7,9,2,31746,Oleksandr Kozachenko,okozachenko,"Add monasca-api image

Change-Id: I3b938a0040f3a800e52d3602c252e8a58a57f1c6
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33,openstack/tripleo-heat-templates,stable/victoria,bug/1915761-stable/victoria,Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33,Use include task for host prep tasks,MERGED,2021-02-23 21:13:48.000000000,2021-03-04 22:11:18.000000000,2021-03-04 22:11:18.000000000,1,1,0,777227,67ad3daa2150b996fa48125f2e71ab92ab877eb8,27,3,3,1,14985,Alex Schultz,mwhahaha,"Use include task for host prep tasks

Import tasks causes the tasks always to be pulled in and just skipped at
run time. This is terribly slow with more roles even when not running
against those hosts.  A similar effort was applied to the update process
I2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used
here.

Change-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33
Related-Bug: #1915761
(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)
"
openstack%2Fhorizon~master~If5059d03f6bd7e94796065aa1b51c0c23ac85f5e,openstack/horizon,master,secure-rbac,If5059d03f6bd7e94796065aa1b51c0c23ac85f5e,Support policy-in-code and deprecated policy,MERGED,2020-09-07 08:10:53.000000000,2021-03-04 22:04:23.000000000,2021-03-04 22:01:52.000000000,15237,792,23,750134,b7bb76eb204ef1cbd6df9f416437263a67371ba5,36,7,6,25,841,Akihiro Motoki,amotoki,"Support policy-in-code and deprecated policy

This commit allows horizon to handle deprecated policy rules.
The approach is explained in the document updated by this change.

oslo.policy requirement is updated. oslo.policy 3.2.0 is chosen
just because it is the first release in Victoria cycle.
requirements.txt and lower-constraints.txt are updated accordingly
including oslo.policy dependencies.

Change-Id: If5059d03f6bd7e94796065aa1b51c0c23ac85f5e
"
openstack%2Fopenstack-ansible-ops~master~If25b446b49a29d1ac86261fe632bb6fe791f13ce,openstack/openstack-ansible-ops,master,,If25b446b49a29d1ac86261fe632bb6fe791f13ce,apm-server gets fussy about file-permissions,MERGED,2021-03-03 14:55:04.000000000,2021-03-04 21:57:35.000000000,2021-03-04 21:56:09.000000000,3,0,0,778481,dc262581c6e93b01d22f1c7817e8ffbe71018947,12,3,1,1,25600,Ebbex,ebbex,"apm-server gets fussy about file-permissions

""Exiting: error loading config file: config file
(""/etc/apm-server/apm-server.yml"") must be owned by the user identifier
(uid=0) or root""

apm-server is normally run under its own user, and permissions on
/etc/apm-server/apm-server.yml reflect that, so we disable the check
while running running `setup` under root.

Change-Id: If25b446b49a29d1ac86261fe632bb6fe791f13ce
"
openstack%2Fos-brick~master~I5cadb10ee418dd1f5e8a7d407a93d95ebcbaedb8,openstack/os-brick,master,,I5cadb10ee418dd1f5e8a7d407a93d95ebcbaedb8,Enforce import order with flake8-import-order,MERGED,2021-03-03 21:29:28.000000000,2021-03-04 21:55:23.000000000,2021-03-04 17:48:07.000000000,3,0,0,778583,55376b85ffa90a343fd90f3980fc58ea2da9d00f,14,2,1,2,4523,Eric Harney,eharney,"Enforce import order with flake8-import-order

Use flake8-import-order to enforce the correct
order of imports (stdlib, third-party, project).

Change-Id: I5cadb10ee418dd1f5e8a7d407a93d95ebcbaedb8
"
openstack%2Fmagnum~master~Iba9d619d2e92abcbaa3eca5da68f5e0f203dea8d,openstack/magnum,master,microversion,Iba9d619d2e92abcbaa3eca5da68f5e0f203dea8d,Only allow zero node count from microversion 1.10,MERGED,2021-02-16 11:17:19.000000000,2021-03-04 21:55:21.000000000,2021-03-04 21:54:00.000000000,155,20,1,775805,0e6d178939647e61fee1485e7b3611f093adb7c6,17,3,6,5,28022,Bharat Kunwar,brtknr,"Only allow zero node count from microversion 1.10

At present, all clients can request resize of cluster nodes to zero.
This PS ensures that only requests with 1.10 microversion header or more
are fulfilled.

Story: 2007851
Task: 41841

Additionally, unit tests are also included to ensure that the
microversions are respected for create, update and resizing clusters
with zero node count.

Additionally, unit tests for the following APIs are tested explictly:
- resize API with microversion 1.7
- upgrade API with microversion 1.8
- nodegroup API with microversion 1.9

Story: 2005054
Task: 41840

Change-Id: Iba9d619d2e92abcbaa3eca5da68f5e0f203dea8d
"
openstack%2Fhorizon~master~I9e37dc1eaa08adf36d11975fed6f5a0a90cdde52,openstack/horizon,master,create-mocks,I9e37dc1eaa08adf36d11975fed6f5a0a90cdde52,test: Ensure to stop mock when create_mocks decorator exits,MERGED,2021-02-26 13:41:28.000000000,2021-03-04 21:46:41.000000000,2021-03-04 21:45:06.000000000,21,6,0,777749,1dd12d8deb229216189b0a075052e104f73de111,12,3,1,3,841,Akihiro Motoki,amotoki,"test: Ensure to stop mock when create_mocks decorator exits

During reviewing https://review.opendev.org/c/openstack/horizon/+/772603,
we noticed that a method decorated by create_mocks is called multiple time
in a single test. Previously create_mocks decorator does not stop mocking,
so this means that multiple active mock can exist for one method.
In general, it is not a good idea to mock a method multiple times at the
same time.

To cope with this situation, this commit ensures for create_mocks decorator
to stop active mocks when exiting the decorator.

This works for most cases, but it does not work only when mocking and
assertions are handled by separate methods and test logic is placed between
them. To cope with this, ""stop_mock"" optional argument is introduced.

FYI: Details on why ""stop_mock"" is needed.
I explored various ways but could not find a good way so far.
create_mocks needs to be a decorator as it needs to refer an object
reference (self). On the other hand, if we would like to merge the logic of
mocking and assertions (for example, _stub_api_calls() and _check_api_calls()
in openstack_dashboard/dashboards/project/overview/tests.py), a context
manager would be good as we would like to call it inside a class.
However, we cannot mix a decorator and a context manger as a decorator is
executed when a context manager is iniitialized and stopping mock in
the create_mocks decorator is done during the initialization of the
context manager and methods are not mocked when test code is run.

Change-Id: I9e37dc1eaa08adf36d11975fed6f5a0a90cdde52
"
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7,openstack/puppet-tripleo,stable/victoria,memcached-cert-stable/victoria,I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7,Add authtoken security options,MERGED,2021-02-16 09:38:37.000000000,2021-03-04 21:42:52.000000000,2021-03-04 21:41:30.000000000,347,17,0,775782,f08f2e8e68c0b4752fdaf53d391cebbd2ad7331f,33,7,2,18,14250,Grzegorz Grasza,xek,"Add authtoken security options

Add ability to specify the memcache_security_strategy and
memcache_secret_key for keystone authtoken middleware.
The keys for individual services are hashed with a salt,
to isolate them.

Change-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7
(cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307)
"
openstack%2Fpython-openstackclient~master~I37ef09eca0db9286544a4b0bb33f845311baa9b2,openstack/python-openstackclient,master,osc-first,I37ef09eca0db9286544a4b0bb33f845311baa9b2,compute: Remove deprecated 'server migrate --live' option,MERGED,2021-01-21 12:27:51.000000000,2021-03-04 21:33:34.000000000,2021-03-04 21:29:55.000000000,67,219,0,771804,70480fa86236f7de583c7b098cc53f0acedfd91d,11,2,2,3,15334,Stephen Finucane,sfinucan,"compute: Remove deprecated 'server migrate --live' option

It's been long enough. Time to remove this.

Change-Id: I37ef09eca0db9286544a4b0bb33f845311baa9b2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Ftempest~master~I82bb3c5bbeaa4de04f607266311e8452e25ce6b5,openstack/tempest,master,update-version-in-subunit-describe-calls,I82bb3c5bbeaa4de04f607266311e8452e25ce6b5,Update subunit_describe_calls about new ports,MERGED,2017-12-13 05:19:37.000000000,2021-03-04 21:31:50.000000000,2021-03-04 21:27:11.000000000,14,10,1,527577,f7d53297ba58563ece8765be61cb1bc95e2fc8b4,27,5,3,1,5689,Masayuki Igawa,igawa,"Update subunit_describe_calls about new ports

This commit updates the default version explanation in
subunit_describe_calls. It seems the 'Firewalls and default ports'
is moved to a new location. In Newton it was here [0] but from Ocata
it gives 404 [1] because it got moved to [2].

And this commit also fixes some markups as inline literals.

[0] https://docs.openstack.org/newton/config-reference/firewalls-default-ports.html
[1] https://docs.openstack.org/ocata/config-reference/
[2] https://docs.openstack.org/install-guide/firewalls-default-ports.html

Change-Id: I82bb3c5bbeaa4de04f607266311e8452e25ce6b5
"
openstack%2Fpython-openstackclient~master~I6b4f80882dbbeb6a2a7e877f63becae7211b7f9a,openstack/python-openstackclient,master,osc-first,I6b4f80882dbbeb6a2a7e877f63becae7211b7f9a,compute: Improve 'server create --block-device-mapping' option parsing,MERGED,2021-01-20 18:20:34.000000000,2021-03-04 21:31:43.000000000,2021-03-04 21:27:44.000000000,152,85,0,771696,074e045c6938189c77fd13ce4dd9fccf69d3a12a,10,2,2,2,15334,Stephen Finucane,sfinucan,"compute: Improve 'server create --block-device-mapping' option parsing

Once again, custom actions to the rescue.

Change-Id: I6b4f80882dbbeb6a2a7e877f63becae7211b7f9a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Frequirements~master~Ia365959b8aa4777228684a9836bdbad7c95b2151,openstack/requirements,master,new-release,Ia365959b8aa4777228684a9836bdbad7c95b2151,update constraint for octavia-lib to new release 2.3.1,MERGED,2021-03-04 16:29:36.000000000,2021-03-04 21:31:37.000000000,2021-03-04 21:30:17.000000000,1,1,0,778745,669190a66739074f947d8b52386d2853f7c0e723,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for octavia-lib to new release 2.3.1

meta: version: 2.3.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Michael Johnson <johnsomor@gmail.com>
meta: release:Commit: Michael Johnson <johnsomor@gmail.com>
meta: release:Change-Id: Ice2a6d2cc5285169fb03d94201feb8205173851d
meta: release:Code-Review+1: Carlos Gonçalves <cgoncalves@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Ia365959b8aa4777228684a9836bdbad7c95b2151
"
openstack%2Fpython-openstackclient~master~I73864ccbf5bf181fecf505ca168c1a35a8b0af3a,openstack/python-openstackclient,master,osc-first,I73864ccbf5bf181fecf505ca168c1a35a8b0af3a,compute: Deprecate 'server create --file',MERGED,2021-01-21 12:27:51.000000000,2021-03-04 21:29:48.000000000,2021-03-04 21:29:48.000000000,18,1,0,771803,6f3969a0c8a608236a6f7258aa213c12af060a9d,9,2,2,2,15334,Stephen Finucane,sfinucan,"compute: Deprecate 'server create --file'

The parameter isn't actually deprecated, since we need to support older
API microversion, however, we now emit an error if someone attempts to
boot a server with the wrong microversion. This would happen server-side
anyway since this parameter was removed entirely in API microversion
2.57.

Change-Id: I73864ccbf5bf181fecf505ca168c1a35a8b0af3a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpython-openstackclient~master~I53f27eb3e3c1a84d0d77a1672c008d0e8bb8536f,openstack/python-openstackclient,master,osc-first,I53f27eb3e3c1a84d0d77a1672c008d0e8bb8536f,compute: Stop silently ignore --(no-)disk-overcommit,MERGED,2021-01-21 12:27:51.000000000,2021-03-04 21:29:38.000000000,2021-03-04 21:29:38.000000000,57,1,0,771802,8868c77a201703edaded5d06aa1734265431f786,9,2,2,3,15334,Stephen Finucane,sfinucan,"compute: Stop silently ignore --(no-)disk-overcommit

These options are not supported from Nova API microversion 2.25 and
above. This can be a source of confusion. Start warning, with an eye on
erroring out in the future.

Change-Id: I53f27eb3e3c1a84d0d77a1672c008d0e8bb8536f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpython-openstackclient~master~Ieedc77d6dc3d4a3cd93b29672faa97dd4e8c1185,openstack/python-openstackclient,master,osc-first,Ieedc77d6dc3d4a3cd93b29672faa97dd4e8c1185,compute: Auto-configure shared/block live migration,MERGED,2021-01-21 12:27:51.000000000,2021-03-04 21:29:26.000000000,2021-03-04 21:29:26.000000000,90,48,0,771801,2bdf34dcc3f8957ff78709467197b5fcb44e07c3,11,3,2,3,15334,Stephen Finucane,sfinucan,"compute: Auto-configure shared/block live migration

API microversion 2.25 introduced the 'block_migration=auto' value for
the os-migrateLive server action. This is a sensible default that we
should use, allowing users to avoid stating one of the
'--block-migration' or '--shared-migration' parameters explicitly.

While we're here, we take the opportunity to fix up some formatting in
the function, which is really rather messy.

Change-Id: Ieedc77d6dc3d4a3cd93b29672faa97dd4e8c1185
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpython-openstackclient~master~If4eba38ccfb208ee186b90a0eec95e5fe6cf8415,openstack/python-openstackclient,master,osc-first,If4eba38ccfb208ee186b90a0eec95e5fe6cf8415,compute: Add 'server create --block-device' option,MERGED,2021-01-20 18:20:34.000000000,2021-03-04 21:28:59.000000000,2021-03-04 21:28:59.000000000,383,1,8,771699,ace4bfb6404b7b39c597c4884c56e26a47a94fc4,16,3,3,3,15334,Stephen Finucane,sfinucan,"compute: Add 'server create --block-device' option

One of the last big gaps with novaclient. As noted in the release note,
the current '--block-device-mapping' format is based on the old BDM v1
format, even though it actually results in BDM v2-style requests to the
server. It's time to replace that.

Change-Id: If4eba38ccfb208ee186b90a0eec95e5fe6cf8415
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpython-openstackclient~master~I2413b826385792a4f33ff70e75621b48de65c799,openstack/python-openstackclient,master,osc-first,I2413b826385792a4f33ff70e75621b48de65c799,compute: Remove references to optional extensions,MERGED,2021-01-20 18:20:34.000000000,2021-03-04 21:28:31.000000000,2021-03-04 21:28:31.000000000,1,1,0,771698,f2deabb136efdfca02a51b503f97cbb436ddfb45,9,2,2,1,15334,Stephen Finucane,sfinucan,"compute: Remove references to optional extensions

This is no longer a thing in nova.

Change-Id: I2413b826385792a4f33ff70e75621b48de65c799
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpython-openstackclient~master~I450e429ade46a7103740150c90e3ba9f2894e1a5,openstack/python-openstackclient,master,osc-first,I450e429ade46a7103740150c90e3ba9f2894e1a5,compute: Add missing 'server create' options,MERGED,2021-01-20 18:20:34.000000000,2021-03-04 21:28:13.000000000,2021-03-04 21:28:13.000000000,335,14,0,771697,4da4b96296c6b6d4351ebd47e32d5049a88211f1,9,2,2,3,15334,Stephen Finucane,sfinucan,"compute: Add missing 'server create' options

Add some volume-related options, namely '--snapshot', '--swap', and
'--ephemeral'. All are shortcuts to avoid having to use
'--block-device-mapping'.

Change-Id: I450e429ade46a7103740150c90e3ba9f2894e1a5
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Foctavia~master~I29eeebb15a58cc54789edcb11c64ba47373cfb7b,openstack/octavia,master,fix_osutils,I29eeebb15a58cc54789edcb11c64ba47373cfb7b,Update osutil support for SUSE distro,NEW,2018-02-07 17:22:18.000000000,2021-03-04 21:24:41.000000000,,355,0,35,541811,658911e1368e5edc7edc3d52c6ee2e359fbd746e,55,13,20,6,7016,Swaminathan Vasudevan,souminathan,"Update osutil support for SUSE distro

Provide osutil support for SUSE distro to create networks
in a SUSE distro based Amphora Image.
This is a generic patch that can support different SUSE
flavors.
This patch will be the base patch and the diskimage builder
and devstack related changes to include the elements to build
the required services will depend on this patch

Change-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b
(cherry picked from commit 24309d11547caba580c6082836798b0f28ed0859)
"
openstack%2Fzaqar-ui~master~I8e6d2b6ad228a98805bc1a4d7a171e8e6b76c312,openstack/zaqar-ui,master,zanata/translations,I8e6d2b6ad228a98805bc1a4d7a171e8e6b76c312,Imported Translations from Zanata,MERGED,2021-03-03 08:37:05.000000000,2021-03-04 21:06:40.000000000,2021-03-04 21:04:19.000000000,2,2,0,778385,6da23dd284e9307cdf1fed1bdfb0dc558beed753,8,3,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8e6d2b6ad228a98805bc1a4d7a171e8e6b76c312
"
openstack%2Foctavia-tempest-plugin~master~Ib7cee4c8600fd1be4a9d7027d3ca1f413a0b1007,openstack/octavia-tempest-plugin,master,test-reencryption,Ib7cee4c8600fd1be4a9d7027d3ca1f413a0b1007,Enable HTTPS on the test servers,MERGED,2020-10-27 23:16:00.000000000,2021-03-04 21:05:00.000000000,2021-03-04 21:03:42.000000000,135,7,9,759973,baf12e025c104c6f0da4521f741ba24ef8349269,35,5,5,2,11628,Michael Johnson,johnsom,"Enable HTTPS on the test servers

This patch creates the required pki resources and enables HTTPS
on the test web servers. It sets up port 443 for regular HTTPS and
port 9443 for HTTPS that will require a valid client certificate.

Change-Id: Ib7cee4c8600fd1be4a9d7027d3ca1f413a0b1007
Story: 2003858
Task: 41170
"
openstack%2Fzun-ui~master~I7f4003a71e4ba1df6f9ceaa539d85f834650f4fc,openstack/zun-ui,master,zanata/translations,I7f4003a71e4ba1df6f9ceaa539d85f834650f4fc,Imported Translations from Zanata,MERGED,2021-03-03 08:42:39.000000000,2021-03-04 21:03:24.000000000,2021-03-04 21:01:22.000000000,1,1,0,778386,aa4875f1218ff9f1cfa32640ccab28fe7b245410,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7f4003a71e4ba1df6f9ceaa539d85f834650f4fc
"
openstack%2Ftripleo-common~master~I93b2c82e9451bd68955040f09ec9eb97db7c0098,openstack/tripleo-common,master,mistral_lib_remove,I93b2c82e9451bd68955040f09ec9eb97db7c0098,Convert AnsiblePlaybookAction to utility,MERGED,2021-03-01 09:42:39.000000000,2021-03-04 21:03:17.000000000,2021-03-04 21:01:35.000000000,650,873,1,777951,50a24d529b38e0f717f77bb42a8c40a2a7a3b344,17,5,3,6,8833,Rabi Mishra,rabi,"Convert AnsiblePlaybookAction to utility

Not used as mistral action as mistral has been
removed from undercloud.

Change-Id: I93b2c82e9451bd68955040f09ec9eb97db7c0098
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0c509370332797fe563804b0ddb8f1a5d4742994,openstack/tripleo-heat-templates,stable/train,bz/1916162-stable/train,I0c509370332797fe563804b0ddb8f1a5d4742994,Remove tripleo_transfer cleanup.yml reference,MERGED,2021-03-04 11:42:29.000000000,2021-03-04 21:01:55.000000000,2021-03-04 21:01:55.000000000,0,4,0,778650,526791d6c60edab16e1b909f30a6c234e01cddec,8,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Remove tripleo_transfer cleanup.yml reference

With the changes in https://review.opendev.org/771657
this cleanup task file no longer exists. The cleanup
is done within the role automatically via a block/rescue.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162
Needed-By: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f

Change-Id: I0c509370332797fe563804b0ddb8f1a5d4742994
(cherry picked from commit 0f081b4f8032f1cd00f7f653d0a0614d09f4cb61)
"
openstack%2Fheat-dashboard~master~Idc5ac8abf4dbcff02ea8bf3f9d3ece653b0b33e2,openstack/heat-dashboard,master,zanata/translations,Idc5ac8abf4dbcff02ea8bf3f9d3ece653b0b33e2,Imported Translations from Zanata,MERGED,2021-03-03 06:44:32.000000000,2021-03-04 21:01:26.000000000,2021-03-04 20:59:51.000000000,3,3,0,778364,15b787ec6abfd7c861ac302e7b1f674aac236177,8,3,1,3,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Idc5ac8abf4dbcff02ea8bf3f9d3ece653b0b33e2
"
openstack%2Fmurano-dashboard~master~I3531c2c0c6fbdc102169c1f9451a858b8c601151,openstack/murano-dashboard,master,zanata/translations,I3531c2c0c6fbdc102169c1f9451a858b8c601151,Imported Translations from Zanata,MERGED,2021-03-03 07:08:35.000000000,2021-03-04 20:59:41.000000000,2021-03-04 20:59:41.000000000,2,2,0,778372,dd78672b3f45b802efc4af2569ceb11e4abdd1ba,7,3,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3531c2c0c6fbdc102169c1f9451a858b8c601151
"
openstack%2Fmagnum-ui~master~I49e34dc63146ed630368d7da02cd696b566f0a29,openstack/magnum-ui,master,zanata/translations,I49e34dc63146ed630368d7da02cd696b566f0a29,Imported Translations from Zanata,MERGED,2021-03-03 06:55:57.000000000,2021-03-04 20:56:04.000000000,2021-03-04 20:54:36.000000000,3,6,0,778369,e5518874c224dc76d3c6ff9f96f1c7f3cda3ce0a,8,3,1,3,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I49e34dc63146ed630368d7da02cd696b566f0a29
"
openstack%2Fbarbican~stable%2Fvictoria~Iad2e2f56e4cd71f371c760eef85cb121ef1438fe,openstack/barbican,stable/victoria,,Iad2e2f56e4cd71f371c760eef85cb121ef1438fe,Fix hacking min version to 3.0.1,ABANDONED,2021-03-03 17:44:58.000000000,2021-03-04 20:42:30.000000000,,1,1,0,778520,d1657580995f487e80fc4f9a2a57cda8c7ec8a33,3,2,1,1,7973,Douglas Mendizábal,dougmendizabal,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: Iad2e2f56e4cd71f371c760eef85cb121ef1438fe
(cherry picked from commit dbda8ecbe3c4bedc1d6d89d850a8a574603e244a)
"
openstack%2Fbarbican~stable%2Fvictoria~I57b0e2e5c82faa4bed9c177f789ff50ae7188f53,openstack/barbican,stable/victoria,,I57b0e2e5c82faa4bed9c177f789ff50ae7188f53,Use a newer version of hacking,ABANDONED,2021-03-04 19:51:24.000000000,2021-03-04 20:41:59.000000000,,65,58,0,778770,03136fad09b23d46f7a30685e8d672c39afe8c0a,2,0,1,16,7973,Douglas Mendizábal,dougmendizabal,"Use a newer version of hacking

This patch raises the hacking version cap to fix a pip resolution issue
that is breaking the stable gates.

Most changes are # noqa: XXXX additions for the new issues that are
being raised by the newer version of hacking.  We'll fix these
eventually in the master branch.

Change-Id: I57b0e2e5c82faa4bed9c177f789ff50ae7188f53
"
openstack%2Ftripleo-common~stable%2Ftrain~I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad,openstack/tripleo-common,stable/train,bug/1913782-stable/train,I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad,Handle containers without a namespace,MERGED,2021-02-11 14:17:38.000000000,2021-03-04 20:37:44.000000000,2021-03-04 20:36:19.000000000,6,1,0,775107,7d7a983caa44f08ff62c707b942ec186728e2506,11,4,1,1,14985,Alex Schultz,mwhahaha,"Handle containers without a namespace

Satellite server does not include a namespace when exposing containers.
This change fixes our image-serve metadata creation to understand this
concept and build the _catalog we provide correctly. We will only handle
two types of containers path structures with the image-serve.

   * host:port/namespace/container:tag
   * host:port/container:tag

Change-Id: I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775158
Closes-Bug: #1913782
(cherry picked from commit 7e797317a33a5c5881a1e24b9666ae774ca224c0)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I0c509370332797fe563804b0ddb8f1a5d4742994,openstack/tripleo-heat-templates,stable/ussuri,bz/1916162-stable/ussuri,I0c509370332797fe563804b0ddb8f1a5d4742994,Remove tripleo_transfer cleanup.yml reference,MERGED,2021-03-04 11:41:11.000000000,2021-03-04 20:36:27.000000000,2021-03-04 20:36:27.000000000,0,4,0,778649,1f8d90c29453cc68f520840978d973b8b0a6f929,8,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Remove tripleo_transfer cleanup.yml reference

With the changes in https://review.opendev.org/771657
this cleanup task file no longer exists. The cleanup
is done within the role automatically via a block/rescue.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162
Needed-By: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f

Change-Id: I0c509370332797fe563804b0ddb8f1a5d4742994
(cherry picked from commit 0f081b4f8032f1cd00f7f653d0a0614d09f4cb61)
"
openstack%2Ftripleo-common~stable%2Fussuri~I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad,openstack/tripleo-common,stable/ussuri,bug/1913782-stable/ussuri,I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad,Handle containers without a namespace,MERGED,2021-02-04 15:16:11.000000000,2021-03-04 20:29:08.000000000,2021-03-04 20:27:28.000000000,6,1,0,773970,0193f55647d27a57f5c937e24afd757ba7c7eb77,14,4,2,1,14985,Alex Schultz,mwhahaha,"Handle containers without a namespace

Satellite server does not include a namespace when exposing containers.
This change fixes our image-serve metadata creation to understand this
concept and build the _catalog we provide correctly. We will only handle
two types of containers path structures with the image-serve.

   * host:port/namespace/container:tag
   * host:port/container:tag

Change-Id: I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/773968
Closes-Bug: #1913782
(cherry picked from commit 7e797317a33a5c5881a1e24b9666ae774ca224c0)
"
openstack%2Fnova~master~Idc035671892e4668141a93763f8f2bed7a630812,openstack/nova,master,spec/libvirt-default-machine-type,Idc035671892e4668141a93763f8f2bed7a630812,nova-manage: Add libvirt get_machine_type command,MERGED,2021-01-06 14:42:25.000000000,2021-03-04 20:19:01.000000000,2021-03-04 20:17:17.000000000,297,7,49,769548,20692c245c64a85780db620f4148889ad867b911,88,4,13,8,10135,Lee Yarwood,lyarwood,"nova-manage: Add libvirt get_machine_type command

This change introduces the first machine_type command to nova-manage to
fetch and display the current machine type if set in the system metadata
of the instance.

blueprint: libvirt-default-machine-type
Change-Id: Idc035671892e4668141a93763f8f2bed7a630812
"
openstack%2Fpython-tripleoclient~master~I3c0466aeed8cd7d2248c0d769b24821110a0e0a5,openstack/python-tripleoclient,master,,I3c0466aeed8cd7d2248c0d769b24821110a0e0a5,Add new option for `setup-only`,MERGED,2021-01-27 14:42:00.000000000,2021-03-04 20:07:53.000000000,2021-03-04 20:06:24.000000000,138,6,8,772701,be580c669065c59789601f28bfbaee8318e67c0d,21,7,3,4,7353,Kevin Carter,cloudnull,"Add new option for `setup-only`

This change implements the ability to run all of the required setup
tasks to enable manual playbook execution. When the option is invoked,
the following workflows will be run:

* Generate the new Ansible content
* Downlad the Ansible content
* SSH key validation and application to overcloud nodes

This new option allows us to retain the current logic of stack-only
which will ensure legacy workflows are not interupted while also
enabling a more ansible centric user experience.

rhbz: 1873246
Change-Id: I3c0466aeed8cd7d2248c0d769b24821110a0e0a5
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Foctavia~stable%2Fussuri~I4531ff80ac82a61e527c024101e0785d49aa135b,openstack/octavia,stable/ussuri,,I4531ff80ac82a61e527c024101e0785d49aa135b,Fix amphora image build,MERGED,2021-03-04 13:19:02.000000000,2021-03-04 20:04:52.000000000,2021-03-04 20:03:09.000000000,14,1,0,778675,9d4704d39fe95b2c2abf3f38752c0338a1fe5009,9,4,2,1,6469,Carlos Gonçalves,cgoncalves,"Fix amphora image build

Upstream get-pip.sh recently introduced a regression where it does not
work well with Python <=3.5. DIB, upper-constrained at version 2.35.0 in
requirements/upper-constraints.txt, wants to install pip with Python 2,
and that fails with with error message:

  ""ERROR: This script does not work on Python 2.7 The minimum supported
   Python version is 3.6.""

See attached story for more logging.

To work-around this issue on stable/ussuri, we have to make a
compromise: build amphora images using a >= 3.x DIB version. We could
either pick a 3.x DIB released version or Git master branch. For
consistency with what was done in stable/stein and stable/train
not so long ago, we propose Git master branch.

Task: 41991
Story: 2008688

Change-Id: I4531ff80ac82a61e527c024101e0785d49aa135b
"
openstack%2Fpuppet-tripleo~master~I006a31894f4ef9a2cb454a804c1bcb2c5e72b6b9,openstack/puppet-tripleo,master,designate,I006a31894f4ef9a2cb454a804c1bcb2c5e72b6b9,Disentangle broken bind configuration for tripleo config,ABANDONED,2021-03-03 15:06:20.000000000,2021-03-04 19:56:31.000000000,,15,28,0,778484,ce1de2b41e77e75c4e948eb8c4db7b109c4e4610,5,2,1,4,6681,Brent Eagles,beagles,"Disentangle broken bind configuration for tripleo config

The puppet module that was previously used for configuring bind and rndc
for designate was inappropriate for the task. This patch removes its execution.

Change-Id: I006a31894f4ef9a2cb454a804c1bcb2c5e72b6b9
"
openstack%2Fopenstack-virtual-baremetal~master~Icf5c87ae1ab083a143a0f3f8a991426bb5433c37,openstack/openstack-virtual-baremetal,master,private_nw_support,Icf5c87ae1ab083a143a0f3f8a991426bb5433c37,When private network is created suffix it with identifier,MERGED,2021-03-04 15:51:26.000000000,2021-03-04 19:51:40.000000000,2021-03-04 19:51:40.000000000,3,0,0,778738,02cdcbb7523d9219c1c2d52b989e1fbd6c128f85,8,5,1,1,13861,yatin,yatinkarel,"When private network is created suffix it with identifier

It's needed when environments/create-private-network.yaml
is used with ovb jobs where '--id' is used, in this
case each ovb env should have seperate private network
with different id.

Related-Change: https://review.rdoproject.org/r/#/c/32142/

Change-Id: Icf5c87ae1ab083a143a0f3f8a991426bb5433c37
"
openstack%2Fnova~master~Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6,openstack/nova,master,bp/allow-secure-boot-for-qemu-kvm-guests,Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6,libvirt: Parse the 'os' element from domainCapabilities,MERGED,2019-07-31 11:43:15.000000000,2021-03-04 19:46:20.000000000,2021-03-04 19:42:53.000000000,372,15,48,673790,4e23d93410be2f75e3cbeddc3269a7e205eb1935,143,21,14,5,6962,Kashyap Chamarthy,kashyapc,"libvirt: Parse the 'os' element from domainCapabilities

This is the host or ""domain capabilities"" side of the config changes.
Extend the 'LibvirtConfigDomainCaps' class to parse the 'firmware' enum
and 'loader' element from the 'os' element [1]:

  <os supported='yes'>
    <enum name='firmware'>
      <value>efi</value>
    </enum>
    <loader supported='yes'>
      <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>
      <value>/usr/share/edk2/ovmf/OVMF_CODE.secboot.fd</value
      <enum name='type'>
        <value>rom</value>
        <value>pflash</value>
      </enum>
      <enum name='readonly'>
        <value>yes</value>
        <value>no</value>
      </enum>
      <enum name='secure'>
        <value>yes</value>
        <value>no</value>
      </enum>
    </loader>
  </os>

This gives us two important features. Firstly, the various enums in the
'loader' element give us information about the various guest bootloader
features supported by the host. This will allow us to detect, for
example, UEFI support in a much more robust manner than what nova does
today, namely probing the firmware binary paths via '_has_uefi_support'
in 'nova.virt.libvirt.driver'.

In addition, the presence of 'efi' in the 'firmware' enum can tells us
if libvirt supports the firmware auto-selection feature (as advertised
by libvirt 5.3 or above [2]). Using this, as we'll do later, allows to
reduce a typical guest bootloader config from something like:

  <os>
    <type arch='x86_64' machine='pc-q35-5.1'>hvm</type>
    <loader readonly='yes' secure='yes' type='pflash'>{path}</loader>
    <nvram template='{path}'>{path}</nvram>
    <boot dev='hd'/>
  </os>

To simply:

  <os firmware='efi'>
    <type machine='q35'>hvm</type>
    <loader secure='yes'/>
    <boot dev='hd'/>
  </os>

Note that none of this goodness is actually used yet. That will come
later.

[1] https://libvirt.org/formatdomaincaps.html#elementsOSBIOS
[2] https://www.libvirt.org/news.html#v5-3-0-2019-05-04

Blueprint: allow-secure-boot-for-qemu-kvm-guests
Change-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
Co-Authored-By: Adam Spiers <aspiers@suse.com>
"
openstack%2Fglance~master~I1785da0a791691c08b299e74c02b0c576477d88e,openstack/glance,master,bp/deprecate-owner_is_tenant,I1785da0a791691c08b299e74c02b0c576477d88e,Cleanup remaining tenant terminology in glance API docs,MERGED,2021-02-12 00:07:31.000000000,2021-03-04 19:45:55.000000000,2021-03-04 19:43:32.000000000,18,19,0,775299,7d8aa54c753123c30ddfb5265977bb7f77fc2ea3,9,3,1,1,5046,Lance Bragstad,ldbragst,"Cleanup remaining tenant terminology in glance API docs

This commit addresses follow-on concerns from:

  https://review.opendev.org/c/openstack/glance/+/763920

Change-Id: I1785da0a791691c08b299e74c02b0c576477d88e
"
openstack%2Felection~master~I6fb9f05411c11c54661c363c43e77e8fde4c1ffa,openstack/election,master,,I6fb9f05411c11c54661c363c43e77e8fde4c1ffa,Adding Andrey Pavlov candidacy for ec2-api (Xena),MERGED,2021-03-04 12:20:46.000000000,2021-03-04 19:20:30.000000000,2021-03-04 19:16:14.000000000,6,0,0,778666,dde2bbc32e1b868035004ccf88f974d105e5f636,8,3,1,1,10234,Andrey Pavlov,andrey-mp,"Adding Andrey Pavlov candidacy for ec2-api (Xena)

Change-Id: I6fb9f05411c11c54661c363c43e77e8fde4c1ffa
"
openstack%2Felection~master~Icd1ae0747894d454e465b96deb268bb5a70e090e,openstack/election,master,xena-hberaud,Icd1ae0747894d454e465b96deb268bb5a70e090e,Adding Hervé Beraud candidacy for Release Management PTL in X,MERGED,2021-03-04 09:01:18.000000000,2021-03-04 19:18:24.000000000,2021-03-04 19:16:10.000000000,23,0,0,778623,320f1cb1c51e625419810a1cc9a7bbb44acb4072,14,3,3,1,28522,Hervé Beraud,hberaud,"Adding Hervé Beraud candidacy for Release Management PTL in X

Change-Id: Icd1ae0747894d454e465b96deb268bb5a70e090e
"
openstack%2Fpython-cinderclient~master~Id3666ad874007b760e28295591eab5e64fdb0b7a,openstack/python-cinderclient,master,CGTS-22920,Id3666ad874007b760e28295591eab5e64fdb0b7a,Add location parameter to backup-create,ABANDONED,2021-03-04 19:08:19.000000000,2021-03-04 19:08:52.000000000,,54,14,0,778764,b4fcf8062107509aec93d6373cc8c6af498745fa,2,0,1,7,32618,Daniel de Oliveira Pereira,danielpereira01,"Add location parameter to backup-create

Signed-off-by: Daniel Pereira <Daniel.Pereira@windriver.com>
Change-Id: Id3666ad874007b760e28295591eab5e64fdb0b7a
"
openstack%2Fkolla~master~I066d747400ede30037ff324ad55430af7c35dc18,openstack/kolla,master,fix_curl_302,I066d747400ede30037ff324ad55430af7c35dc18,"Revert ""Fix error when github return 302""",MERGED,2021-03-04 14:51:08.000000000,2021-03-04 19:08:41.000000000,2021-03-04 19:06:20.000000000,14,14,0,778690,ec358f4cf7fa3af0b21b08302cf972ee5b307689,9,5,1,14,22629,Michal Nasiadka,mnasiadka,"Revert ""Fix error when github return 302""

This reverts commit 61def281d077f88051d1b1a14dfdbfabac036c8c.

Reason for revert: --location was already in curlrc and it was unified in change I46b77978926fc2b578a68d1aaa944b2198af0685

Change-Id: I066d747400ede30037ff324ad55430af7c35dc18
"
openstack%2Ftripleo-ansible~master~I3d429eade2c5da57c44b9c1dbc87340876aae2cb,openstack/tripleo-ansible,master,bz/1916162,I3d429eade2c5da57c44b9c1dbc87340876aae2cb,[tripleo_transfer] Use synchronize rather than fetch,ABANDONED,2021-02-19 00:28:47.000000000,2021-03-04 19:06:22.000000000,,4,3,1,776565,44f236d54efc01d89c647bb0ae63878435f58bad,26,4,11,2,6816,Jesse Pretorius,jesse-pretorius,"[tripleo_transfer] Use synchronize rather than fetch

When running fetch with become, the slurp module will also
be used to fetch the contents of the file for determining
the remote checksum. This effectively doubles the transfer
size [0] and shows up as a MemoryError when the file size
is large enough.

In TripleO this is problematic in large & old deployments
when transferring the /var/lib/mysql folder.

This patch switches to using synchronize instead of fetch
to get the file. This requires rsync on the hosts involved,
but that's a smaller price to pay than failing due to an out
of memory error.

[0] - https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes

Closes-Bug: #1908425
Closes-Bug: rhbz#1904681
Closes-Bug: rhbz#1916162

Change-Id: I3d429eade2c5da57c44b9c1dbc87340876aae2cb
"
openstack%2Fcinder-tempest-plugin~master~Id7d226bec03ea17ee30b67c9f1b715b6b6308104,openstack/cinder-tempest-plugin,master,secure-rbac,Id7d226bec03ea17ee30b67c9f1b715b6b6308104,Implement protection testing for capabilities API,ABANDONED,2021-02-16 19:17:15.000000000,2021-03-04 18:56:22.000000000,,116,0,0,775894,1ca5146e88153f1a41bb8c74f5e291681c3ab8e0,7,1,3,2,5046,Lance Bragstad,ldbragst,"Implement protection testing for capabilities API

This commit adds protection testing for the capabilities API, which is
designated only for system administrators and operators.

This commit ensures only project-admins are allowed to access this API
since that's pretty much the legacy way of determining who is an
administrator/operator/deployer. This will change when we implement
full support for system-scope in cinder.

Depends-On: https://review.opendev.org/c/openstack/cinder/+/759948

Change-Id: Id7d226bec03ea17ee30b67c9f1b715b6b6308104
"
openstack%2Fkayobe~master~I1dbb5978342261e8c8e36fbe270f238750808ad6,openstack/kayobe,master,story/2004960,I1dbb5978342261e8c8e36fbe270f238750808ad6,Ubuntu: document overcloud development environment,MERGED,2021-01-07 16:39:01.000000000,2021-03-04 18:55:21.000000000,2021-03-04 18:50:49.000000000,36,1,1,769791,1d55a33094530db130b2b13e9bddac91c3c24db6,18,5,3,1,14826,Mark Goddard,mgoddard,"Ubuntu: document overcloud development environment

Updates the contributor documentation for the overcloud development
environment to include steps for running on Ubuntu.

Change-Id: I1dbb5978342261e8c8e36fbe270f238750808ad6
Story: 2004960
Task: 41550
"
openstack%2Fkayobe~master~Ic33d3e31096f7b0cec2e4e9284f5c1078a4ff04c,openstack/kayobe,master,story/2004960,Ic33d3e31096f7b0cec2e4e9284f5c1078a4ff04c,CI: add Ubuntu seed VM job,MERGED,2021-02-11 11:11:10.000000000,2021-03-04 18:53:24.000000000,2021-03-04 18:45:49.000000000,17,0,0,775119,7a99b88ebcae4ae5d290fc33286ca91f5b9097f2,18,3,4,5,14826,Mark Goddard,mgoddard,"CI: add Ubuntu seed VM job

* Need to specify bash for &> syntax

Story: 2004960
Task: 41806

Change-Id: Ic33d3e31096f7b0cec2e4e9284f5c1078a4ff04c
"
openstack%2Fkayobe~master~Ib124dc6f313a2a13fa509b10702c6141f102f2f9,openstack/kayobe,master,story/2004960,Ib124dc6f313a2a13fa509b10702c6141f102f2f9,CI: Ubuntu host configure job,MERGED,2021-01-07 14:33:05.000000000,2021-03-04 18:51:18.000000000,2021-03-04 18:38:45.000000000,23,2,2,769757,9c29d7d76c93d7eecfcf8834ecdd855fed35dbcd,42,4,15,5,14826,Mark Goddard,mgoddard,"CI: Ubuntu host configure job

Issues:

* bond configuration not working on Ubuntu - disabled in CI test

Story: 2004960
Task: 41560

Change-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9
"
openstack%2Fkayobe~stable%2Fussuri~Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c,openstack/kayobe,stable/ussuri,ipa-build-uc-stable/ussuri,Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c,Add ipa_build_upper_constraints_file variable,MERGED,2021-02-12 13:52:20.000000000,2021-03-04 18:51:16.000000000,2021-03-04 18:38:15.000000000,21,2,0,775386,2aa81e8487af478c483bffd459dc362b0e855079,19,4,4,6,15197,Pierre Riteau,priteau,"Add ipa_build_upper_constraints_file variable

This variable allows to customise the upper constraints file used to
install packages inside the ipa-build-dib virtual environment. This can
be used when we need a newer version of diskimage-builder than the one
available in upper constraints for the current release.

Change-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c
(cherry picked from commit 56c1a886f5dc0683084495745fe54e27e0de08eb)
"
openstack%2Fwhitebox-tempest-plugin~master~Id616aeb5dced80309162837a37c61a71cb6222c8,openstack/whitebox-tempest-plugin,master,vol_encrypt_test,Id616aeb5dced80309162837a37c61a71cb6222c8,Add skip check to volume encryption tests,MERGED,2021-03-02 16:50:49.000000000,2021-03-04 18:51:12.000000000,2021-03-04 18:51:12.000000000,6,0,5,778215,befaafc1c24a8e9f68f75850865e5ae4a8a93cd1,21,5,5,1,27478,Archit Modi,amodi,"Add skip check to volume encryption tests

Change 00eb0f1 added the volume encryption tests based on a key
manager or fixed key present. In deployments where neither is set, this
test will fail so adding a skip check.

Change-Id: Id616aeb5dced80309162837a37c61a71cb6222c8
"
openstack%2Fkayobe~master~Icad129aaafb17023f3c9d007fb63466b23b1395a,openstack/kayobe,master,story/2004960,Icad129aaafb17023f3c9d007fb63466b23b1395a,Ubuntu: container image build,MERGED,2021-02-11 12:01:06.000000000,2021-03-04 18:50:40.000000000,2021-03-04 18:50:40.000000000,31,16,0,775129,e2a01b790f56df863b390a1ca3ffa38730d569ae,16,4,3,4,14826,Mark Goddard,mgoddard,"Ubuntu: container image build

* Use bash to execute kolla-build
* Remove backslashes from kolla-build command. YAML folded literal
  block avoids the need for this by replacing newlines with spaces
* Distribution-specific package list when installing kolla

Change-Id: Icad129aaafb17023f3c9d007fb63466b23b1395a
Story: 2004960
Task: 41764
"
openstack%2Fcharm-mysql-router~master~Id40288a6357c8fcb9f5241f189b51e9e8c9c09bc,openstack/charm-mysql-router,master,bug/1915842,Id40288a6357c8fcb9f5241f189b51e9e8c9c09bc,Custom restart function,ABANDONED,2021-03-02 22:26:55.000000000,2021-03-04 18:49:32.000000000,,52,14,1,778333,30e345e4ed1bceb95354282835d3e378642fc696,10,3,3,2,20805,David Ames,thedac,"Custom restart function

On restart on change use the custom_restart_function which is tenacity
enabled for retries when mysql.MySQLdb._exceptions.OperationalError
2013 ""Lost connection to MySQL server at 'waiting for initial
communication packet' is thrown.

Closes-Bug: #1915842
Depends-On: Change-Id: I4bdce49a73c3e467068e9407f1151b20a97a4907
Change-Id: Id40288a6357c8fcb9f5241f189b51e9e8c9c09bc
"
openstack%2Fcharms.openstack~master~I4bdce49a73c3e467068e9407f1151b20a97a4907,openstack/charms.openstack,master,bug/1915842,I4bdce49a73c3e467068e9407f1151b20a97a4907,Enable custom_restart_function for restarts,ABANDONED,2021-03-02 22:23:10.000000000,2021-03-04 18:49:09.000000000,,23,4,0,778332,31c20f3f03020b53522e0b15dee509cad72e8b10,4,2,1,2,20805,David Ames,thedac,"Enable custom_restart_function for restarts

In some charms we may need a more robust restart process than
services_stop, service_start. Enable restart_on_change to check for the
attribute custom_restart_function to override when necessary.

The primary example is the need for a tenacity retry with validation.

Closes Bug: #1915842

Change-Id: I4bdce49a73c3e467068e9407f1151b20a97a4907
"
openstack%2Foctavia-tempest-plugin~master~I2048253426e206af815cc16f95807308ab3fe23f,openstack/octavia-tempest-plugin,master,,I2048253426e206af815cc16f95807308ab3fe23f,Add irrelevant-files to active-standby jobs,NEW,2019-10-24 07:50:49.000000000,2021-03-04 18:46:37.000000000,,14,1,1,690874,f8c538c352665d845412f7453dae5fa84bbfc29c,7,5,1,1,6469,Carlos Gonçalves,cgoncalves,"Add irrelevant-files to active-standby jobs

Skip active-standby jobs when proposed changes do not affect
active-standby tests.

Change-Id: I2048253426e206af815cc16f95807308ab3fe23f
"
openstack%2Fpython-cinderclient~stable%2Fvictoria~Ic6645d3b973f8487903c5f57e936ba3b4b3bf005,openstack/python-cinderclient,stable/victoria,,Ic6645d3b973f8487903c5f57e936ba3b4b3bf005,Support backup-restore to a specific volume type or AZ,ABANDONED,2021-02-19 18:02:01.000000000,2021-03-04 18:40:54.000000000,,232,0,1,776688,2c0da176fc00d28c356b24535c21d2a239352cf1,10,3,1,3,21129,Alan Bishop,ASBishop,"Support backup-restore to a specific volume type or AZ

Enhance the 'backup-restore' shell command to support restoring a
backup to a newly created volume of a specific volume type and/or in a
different AZ. New '--volume-type' and '--availability-zone' arguments
leverage the existing cinder API's ability to create a volume from a
backup, which was added in microversion v3.47.

The shell code is a new v3 implementation, and it drops support for the
v2 command's deprecated '--volume-id' argument.

Change-Id: Ic6645d3b973f8487903c5f57e936ba3b4b3bf005
(cherry picked from commit 7e3566ed04c8f664f6e1df0614499989f6b3560a)
"
openstack%2Fpython-octaviaclient~master~I9ad1f709403e8a33ef07ccf859c4267412fc3186,openstack/python-octaviaclient,master,,I9ad1f709403e8a33ef07ccf859c4267412fc3186,Improve error messages in list/show calls,MERGED,2021-02-23 07:33:00.000000000,2021-03-04 18:38:58.000000000,2021-03-04 18:35:30.000000000,145,0,0,777054,dfcdd57bd1241845ddea221590a670734426529b,9,4,1,3,29244,Gregory Thiemonge,gthiemonge,"Improve error messages in list/show calls

Some list/show calls didn't use the @correct_return_codes decorator,
users may have received obscure error messages when they perfomed
unauthorized/invalid requests.

Story 2008647
Task 41910

Change-Id: I9ad1f709403e8a33ef07ccf859c4267412fc3186
"
openstack%2Ftripleo-ansible~master~Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,openstack/tripleo-ansible,master,bz/1916162,Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,[tripleo_transfer] Do transfers directly from src to dst,MERGED,2021-01-20 15:10:27.000000000,2021-03-04 18:37:22.000000000,2021-03-04 18:37:22.000000000,100,97,42,771657,d7730980c9a45e93b314e5971e876e11b2ce12a9,105,10,41,5,26343,Jose Luis Franco,jfrancoa,"[tripleo_transfer] Do transfers directly from src to dst

When running fetch with become, the slurp module will also
be used to fetch the contents of the file for determining
the remote checksum. This effectively doubles the transfer
size [0] and shows up as a MemoryError when the file size
is large enough.

In TripleO this is problematic in large & old deployments
when transferring the /var/lib/mysql folder.

This patch switches to using rsync directly between the src
and dst hosts to transfer the data. This is advantageous not
only for solving the above-mentioned bug, but is also faster.

A simpler implementation using synchronize was attempted [1],
but there were issues with the mistral container which
prevented that approach from being successful.

[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes
[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11

Closes-Bug: #1908425
Closes-Bug: rhbz#1904681
Closes-Bug: rhbz#1916162
Depends-On: https://review.opendev.org/778456

Change-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I4d5049ef863c5685b1d817a865a8a44c4429480c,openstack/tripleo-ansible,stable/victoria,bz/1916162-stable/victoria,I4d5049ef863c5685b1d817a865a8a44c4429480c,[tripleo_transfer] Convert testing to use delegated driver,MERGED,2021-03-03 16:29:34.000000000,2021-03-04 18:37:16.000000000,2021-03-04 18:37:16.000000000,33,109,0,778424,842405e2427867f3f7cdda7aa3f2f7a6a9652b57,6,2,1,4,6816,Jesse Pretorius,jesse-pretorius,"[tripleo_transfer] Convert testing to use delegated driver

The current driver is podman which creates problems when we
try to use the synchronize module for the file copy between
hosts. To make room for this option, we switch to using the
delegated driver and two inventory hosts (which are localhost)
instead which is more efficient, more portable and opens more
options.

We also add 'any_errors_fatal: true' to the play
arguments to ensure that any error stops the whole test.

The converge playbook is targeted at localhost, rather than
all instances, because that is the way that the role being
tested is used in TripleO.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162

Change-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c
(cherry picked from commit b1dadc218514f2f4798c9f8264498f03a805fd76)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I4d5049ef863c5685b1d817a865a8a44c4429480c,openstack/tripleo-ansible,stable/ussuri,bz/1916162-stable/ussuri,I4d5049ef863c5685b1d817a865a8a44c4429480c,[tripleo_transfer] Convert testing to use delegated driver,MERGED,2021-03-03 16:30:30.000000000,2021-03-04 18:37:02.000000000,2021-03-04 18:37:02.000000000,33,109,0,778426,9e8eff5e738aab82727f9ab130caf749128bbba5,6,2,1,4,6816,Jesse Pretorius,jesse-pretorius,"[tripleo_transfer] Convert testing to use delegated driver

The current driver is podman which creates problems when we
try to use the synchronize module for the file copy between
hosts. To make room for this option, we switch to using the
delegated driver and two inventory hosts (which are localhost)
instead which is more efficient, more portable and opens more
options.

We also add 'any_errors_fatal: true' to the play
arguments to ensure that any error stops the whole test.

The converge playbook is targeted at localhost, rather than
all instances, because that is the way that the role being
tested is used in TripleO.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162

Change-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c
(cherry picked from commit b1dadc218514f2f4798c9f8264498f03a805fd76)
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1,openstack/tripleo-ansible,stable/victoria,bug/1915761-stable/victoria,Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1,Use ansible_facts instead,MERGED,2021-02-22 20:51:09.000000000,2021-03-04 18:36:58.000000000,2021-03-04 18:36:58.000000000,231,215,0,777006,f29376dafce39e8a6dc257846b16a3e8d924e367,15,5,3,44,14985,Alex Schultz,mwhahaha,"Use ansible_facts instead

In order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts
instead of ansible_* vars. This change switches our distribution and
hostname related items to use ansible_facts instead.

Change-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1
Related-Bug: #1915761
(cherry picked from commit e7bc62c20e6017704fbdd476ce9143e23f8504ec)
"
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I7ee221be2a01b0e8b22b51902a81fe29bb624db3,openstack/puppet-openstack-integration,stable/ussuri,,I7ee221be2a01b0e8b22b51902a81fe29bb624db3,Update the cirros version to 0.5.1,MERGED,2021-03-04 08:28:40.000000000,2021-03-04 18:35:11.000000000,2021-03-04 18:35:11.000000000,7,7,0,778622,7a66c84ebcfa6e65ee5c4d05a1bfedc86570fa92,8,4,1,3,16312,Alfredo Moralejo,amoralej,"Update the cirros version to 0.5.1

We are hitting random timeout issues when intances trying to get
metadata. This version includes a fix for this [1].

[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129

Change-Id: I7ee221be2a01b0e8b22b51902a81fe29bb624db3
(cherry picked from commit 90671b2e0b05ea908a375c5bdb271afb55014870)
"
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I62f35dce338ae186a217dd1d0a141d3a737243a0,openstack/puppet-openstack-integration,stable/ussuri,,I62f35dce338ae186a217dd1d0a141d3a737243a0,pin bundler to 2.2.11,MERGED,2021-03-04 08:28:40.000000000,2021-03-04 18:35:07.000000000,2021-03-04 18:35:07.000000000,4,12,0,778621,2340e58057cd384535d789a6bec78fa02eb7163c,6,3,1,4,16312,Alfredo Moralejo,amoralej,"pin bundler to 2.2.11

It seems the latest 2.2.12 requires rake>13.0 installed and that
requirement doesn't work well in current our CI jobs.
Let's pin it to the previous version until we resolve the issue.

This change also removes the pin for the very old Ruby version.

Closes-Bug: #1917457
Change-Id: I62f35dce338ae186a217dd1d0a141d3a737243a0
(cherry picked from commit 4d2d86e0df434ee25a508aceb1ea209a0c64f80b)
"
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~I7ee221be2a01b0e8b22b51902a81fe29bb624db3,openstack/puppet-openstack-integration,stable/victoria,,I7ee221be2a01b0e8b22b51902a81fe29bb624db3,Update the cirros version to 0.5.1,MERGED,2021-03-03 13:56:46.000000000,2021-03-04 18:35:03.000000000,2021-03-04 18:35:03.000000000,7,7,0,778421,e1740e1a217ab76effab3625f18eeeaac5b85a68,9,5,2,3,13861,yatin,yatinkarel,"Update the cirros version to 0.5.1

We are hitting random timeout issues when intances trying to get
metadata. This version includes a fix for this [1].

[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129

Change-Id: I7ee221be2a01b0e8b22b51902a81fe29bb624db3
(cherry picked from commit 90671b2e0b05ea908a375c5bdb271afb55014870)
"
openstack%2Fglance-tempest-plugin~master~I666828b65cf8e9b1e4e58a4f6b073d6fe52f1d38,openstack/glance-tempest-plugin,master,secure-rbac,I666828b65cf8e9b1e4e58a4f6b073d6fe52f1d38,Add base tests case for copy_image test,NEW,2021-03-04 17:23:06.000000000,2021-03-04 18:29:55.000000000,,12,0,0,778756,52c8332e7b92abc640fb2754307c49862727e160,2,1,1,1,5046,Lance Bragstad,ldbragst,"Add base tests case for copy_image test

Testing copy_image functionality between backends requires us to deploy
multiple stores. This commit just lays down a base tests because this
policy is something we need to test since it's only exposed to admins by
default.

Change-Id: I666828b65cf8e9b1e4e58a4f6b073d6fe52f1d38
"
openstack%2Fhorizon~master~Iaacb86e5451ee7271de797a0184a6456f5b37eb6,openstack/horizon,master,upgrade-check-help,Iaacb86e5451ee7271de797a0184a6456f5b37eb6,Drop translation marker from upgrade-check help,MERGED,2021-02-17 22:46:26.000000000,2021-03-04 18:26:05.000000000,2021-03-04 18:20:07.000000000,1,1,0,776289,73a4c36829746d15d3a18d50f0b3d3bfe8bada24,8,3,1,1,841,Akihiro Motoki,amotoki,"Drop translation marker from upgrade-check help

When the translation marker _(..) is used in the ""help"" attribute of
a Django management command, --help option fails. It seems translation
marker is not evaluated and directly passed to argparse library.
We don't translate Django management commands, so we can safely drop it.

Change-Id: Iaacb86e5451ee7271de797a0184a6456f5b37eb6
"
openstack%2Fkayobe~master~I0ecf4f4ce9b7333d3e41c69c3f908bee83391781,openstack/kayobe,master,story/2004960,I0ecf4f4ce9b7333d3e41c69c3f908bee83391781,Ubuntu: update Apt cache before package installation,MERGED,2021-02-11 12:01:06.000000000,2021-03-04 18:24:12.000000000,2021-03-04 18:21:59.000000000,54,6,0,775130,0c309a18c8ab5de7cf5302ada713ba972381d352,27,3,6,21,14826,Mark Goddard,mgoddard,"Ubuntu: update Apt cache before package installation

Update Apt cache prior to all package installation tasks.

Adds apt_cache_valid_time, which defaults to 3600 seconds. This allows
the time for which the Apt cache is valid to be configured.

Change-Id: I0ecf4f4ce9b7333d3e41c69c3f908bee83391781
Story: 2004960
Task: 41766
"
openstack%2Fhorizon~master~I835a3216f237ca09183206012137f58d2964bbc0,openstack/horizon,master,upgrade-check-improve,I835a3216f237ca09183206012137f58d2964bbc0,upgrade_check: Convert KNOWN_SETTINGS into one-per-line style,MERGED,2021-02-18 01:21:28.000000000,2021-03-04 18:24:10.000000000,2021-03-04 18:19:36.000000000,284,109,0,776299,b02d1267ab7408c9d41564698f17e45f420bdbc9,9,3,2,1,841,Akihiro Motoki,amotoki,"upgrade_check: Convert KNOWN_SETTINGS into one-per-line style

This is a preparation for the next commit which touches KWNON_SETTINGS.
One entry per line would improve the readability of the next change a lot.

Change-Id: I835a3216f237ca09183206012137f58d2964bbc0
"
openstack%2Fhorizon~master~I8b8c6f7ef334c24992b39a848833c05738f8926b,openstack/horizon,master,upgrade-check-improve,I8b8c6f7ef334c24992b39a848833c05738f8926b,Update upgrade_check to discover dashboard settings automatically,MERGED,2021-02-18 01:21:28.000000000,2021-03-04 18:19:51.000000000,2021-03-04 18:19:51.000000000,11,101,0,776300,1c5b39e2799aaa76a9651fe2fe227f0a82d6b807,8,3,2,1,841,Akihiro Motoki,amotoki,"Update upgrade_check to discover dashboard settings automatically

Previously upgrade_check maintain a hard-coded list for known settings,
so we easily miss new horizon settings. Almost all settings are now
defined in openstack_dashboard/defaults.py and we can know dashboard
settings from here. This commit retrieves the known dashboard settings
from openstack_dashboard/defaults.py.

After this change, we still need to maintain Django and related Django
modules. This commit also adds new settings added in Django and Django
compressor recently.

Change-Id: I8b8c6f7ef334c24992b39a848833c05738f8926b
"
openstack%2Fglance~master~I1d7f2e09d21fad44e8d9dc8e212bc61219144b86,openstack/glance,master,secure-rbac,I1d7f2e09d21fad44e8d9dc8e212bc61219144b86,DNM: Make sure protection tests protect against policy regressions,ABANDONED,2021-03-04 04:22:18.000000000,2021-03-04 18:15:14.000000000,,1,1,0,778609,366b79b99287815f4d2dc1a3631900fca4dd173b,4,1,1,1,5046,Lance Bragstad,ldbragst,"DNM: Make sure protection tests protect against policy regressions

Change-Id: I1d7f2e09d21fad44e8d9dc8e212bc61219144b86
"
openstack%2Freleases~master~I9a0ac025c1a65af14e12991e99cb666c42efa2a0,openstack/releases,master,fix-typos,I9a0ac025c1a65af14e12991e99cb666c42efa2a0,fix typos,MERGED,2021-03-04 17:22:51.000000000,2021-03-04 18:08:30.000000000,2021-03-04 18:08:30.000000000,2,2,0,778755,4ca1bbe3662f746bb66cd29424567705267b435d,7,3,1,1,28522,Hervé Beraud,hberaud,"fix typos

Change-Id: I9a0ac025c1a65af14e12991e99cb666c42efa2a0
"
openstack%2Freleases~master~I7ef1fc2023c79ce2121473b07d3eceda1360d24e,openstack/releases,master,check-approval,I7ef1fc2023c79ce2121473b07d3eceda1360d24e,Reference `check-release-approval` in our doc,MERGED,2021-02-04 15:24:17.000000000,2021-03-04 17:54:26.000000000,2021-03-04 17:54:26.000000000,4,0,3,774091,d4bfa0de709aa44706b7ad4ffa6eb2b9d1fa0fca,16,4,3,1,28522,Hervé Beraud,hberaud,"Reference `check-release-approval` in our doc

https://zuul.opendev.org/t/openstack/job/check-release-approval

Change-Id: I7ef1fc2023c79ce2121473b07d3eceda1360d24e
"
openstack%2Fcharm-hacluster~master~Icf0c1a9c5e819bd2253d9a631e1ff6875bfd5200,openstack/charm-hacluster,master,deprecate-stonith-enabled,Icf0c1a9c5e819bd2253d9a631e1ff6875bfd5200,Remove some more dead code,MERGED,2021-03-04 12:09:47.000000000,2021-03-04 17:49:00.000000000,2021-03-04 17:11:18.000000000,0,81,0,778663,6e1f20040ca0d154b50a2e999cfc0e75cc96f48b,8,3,1,1,31289,Aurelien Lourot,lourot,"Remove some more dead code

Change-Id: Icf0c1a9c5e819bd2253d9a631e1ff6875bfd5200
Related-Bug: #1881114
"
openstack%2Fhorizon~stable%2Ftrain~I8d5e68085727bd7a6402a0041c93986b6b40bb32,openstack/horizon,stable/train,bug/1902821-stable/victoria-stable/ussuri-stable/train,I8d5e68085727bd7a6402a0041c93986b6b40bb32,Add default index URL to Server Groups module,MERGED,2021-02-18 20:43:33.000000000,2021-03-04 17:47:57.000000000,2021-03-04 17:44:38.000000000,1,0,0,776448,90cb95f9e5faad16a44aed98d370bc60a318495d,9,4,1,1,6914,Tatiana Ovchinnikova,tmazur,"Add default index URL to Server Groups module

Default Index Url is missing for Server Groups which causes improper
redirect to details page opened in a new tab.

Related-Bug: #1902821
Closes-Bug: #1889397

Change-Id: I8d5e68085727bd7a6402a0041c93986b6b40bb32
(cherry picked from commit 0a4fda0c0c1d4031f18634ad749797cc3b06533d)
(cherry picked from commit da316b17d92da8dcb415678fcf1d5706d7a37c03)
"
openstack%2Fpython-blazarclient~master~Ifd55fce5f9a6eb78aa6a909beab0d502b67c1d7a,openstack/python-blazarclient,master,affinity,Ifd55fce5f9a6eb78aa6a909beab0d502b67c1d7a,Provide a default affinity value,MERGED,2021-03-03 15:27:44.000000000,2021-03-04 17:44:11.000000000,2021-03-04 17:41:23.000000000,6,1,0,778487,22cafd21a5dba5eafa7c70a1f6bde5e0005ec87c,8,2,2,2,15197,Pierre Riteau,priteau,"Provide a default affinity value

Change-Id: Ifd55fce5f9a6eb78aa6a909beab0d502b67c1d7a
Closes-Bug: #1917636
"
openstack%2Fhorizon~stable%2Ftrain~Id609e5499cc8f53dbae36febc945568e45d291f3,openstack/horizon,stable/train,bug/1902821-stable/victoria-stable/ussuri-stable/train,Id609e5499cc8f53dbae36febc945568e45d291f3,Add WEBROOT to ngdetails navigation,MERGED,2021-02-18 20:42:44.000000000,2021-03-04 17:43:12.000000000,2021-03-04 17:40:35.000000000,23,2,0,776447,17d48024ecd4e923f4fb201a8c8325a16af04c80,9,4,1,3,6914,Tatiana Ovchinnikova,tmazur,"Add WEBROOT to ngdetails navigation

Default index URL for angular details page doesn't consider WEBROOT
while building navigations. That is why refreshing details page or
opening it in a new tab works perfectly when WEBROOT is ""/"" and fails
for apache deployment where WEBROOT is ""/dashboard/"".

This patch adds WEBROOT to index URL and builds a proper navigation.

Closes-Bug: #1902821

Change-Id: Id609e5499cc8f53dbae36febc945568e45d291f3
(cherry picked from commit f7442851c4b85a6a091635f0930c07dbd43cf8fb)
(cherry picked from commit cd4d3aa1a6db93305d88387e1ea163947a6b62f6)
"
openstack%2Ftripleo-quickstart~master~Ia3a111668632ae8fcc7f1d4448bddca1d7809252,openstack/tripleo-quickstart,master,skipfile,Ia3a111668632ae8fcc7f1d4448bddca1d7809252,Remove old tempest variables,MERGED,2021-01-20 11:44:09.000000000,2021-03-04 17:39:06.000000000,2021-03-04 17:36:24.000000000,1,11,0,771593,eeb5fe18bb7f044408f5b3adb34b50f340fc01fa,13,6,1,1,8367,Arx Cruz,arxcruz,"Remove old tempest variables

The variables removed were pointing to old validate-tempest skiplist
files that no longer exists, making the dump variables script from
collect logs fail.

Closes-Bug: #1912353
Change-Id: Ia3a111668632ae8fcc7f1d4448bddca1d7809252
"
openstack%2Foslo.messaging~stable%2Fussuri~I1cbafff03349f7da9224de46285707fbf2a81a68,openstack/oslo.messaging,stable/ussuri,backport-mandatory-to-ussuri,I1cbafff03349f7da9224de46285707fbf2a81a68,Deprecate the mandatory flag,MERGED,2021-03-02 10:59:07.000000000,2021-03-04 17:30:25.000000000,2021-03-04 17:13:32.000000000,12,3,0,778167,5f2a4f21d0a9988e4a939f2092a523956b4d4583,7,2,1,2,28522,Hervé Beraud,hberaud,"Deprecate the mandatory flag

It will not be possible to deactivate this functionality anymore.

Change-Id: I1cbafff03349f7da9224de46285707fbf2a81a68
(cherry picked from commit 2b89d97888c9b6cd8b4f23e5ae7ce3103d5f9e5b)
(cherry picked from commit 06ad070cc6dbe72d1f96c529f7bd193dbae383f5)
"
openstack%2Ftripleo-heat-templates~master~I44433731f73882f62591e8067743beec4d423ef7,openstack/tripleo-heat-templates,master,,I44433731f73882f62591e8067743beec4d423ef7,Add delegate_fact_hosts: false on ci scenarios,MERGED,2021-03-03 13:49:34.000000000,2021-03-04 17:20:45.000000000,2021-03-04 17:20:45.000000000,2,0,0,778464,c0e8697550bba624bd935d5ad01135a1d10094e9,16,5,4,2,25402,Francesco Pantano,fmount,"Add delegate_fact_hosts: false on ci scenarios

This change adds delegate_facts_hosts: false to the
existing ceph-ansible scenarios.
This was introduced due to the --limit option to avoid
gathering facts, but since we're running on standalone
and the same node is present in all groups, having that
variable set to True (which is the ceph-ansible default)
makes no sense.

Change-Id: I44433731f73882f62591e8067743beec4d423ef7
"
openstack%2Fhorizon~stable%2Frocky~I80d67384a643362746c2e037da539503a8095d7b,openstack/horizon,stable/rocky,merge-horizon-test,I80d67384a643362746c2e037da539503a8095d7b,Consume tempest-horizon from PyPI release,MERGED,2021-02-18 04:11:08.000000000,2021-03-04 17:13:47.000000000,2021-03-04 17:13:47.000000000,1,3,0,776309,c92595d6fe30e6010891b10f81a821cc2f0622f2,8,4,1,1,841,Akihiro Motoki,amotoki,"Consume tempest-horizon from PyPI release

tempest-horizon has been retired (at least in the project-config level),
so we cannot specify openstack/tempest-horizon in required-projects.
Instead we need to install tempest-horizon from PyPI.
The similar approach is adopted in stable/stein [1].

[1] https://review.opendev.org/c/openstack/horizon/+/771740

Change-Id: I80d67384a643362746c2e037da539503a8095d7b
"
openstack%2Fhorizon~stable%2Fqueens~I80d67384a643362746c2e037da539503a8095d7b,openstack/horizon,stable/queens,merge-horizon-test,I80d67384a643362746c2e037da539503a8095d7b,Consume tempest-horizon from PyPI release,MERGED,2021-02-18 04:14:31.000000000,2021-03-04 17:13:39.000000000,2021-03-04 17:13:39.000000000,1,3,0,776310,149870a853798c98b8512720519345ecdf2e1397,8,4,1,1,841,Akihiro Motoki,amotoki,"Consume tempest-horizon from PyPI release

tempest-horizon has been retired (at least in the project-config level),
so we cannot specify openstack/tempest-horizon in required-projects.
Instead we need to install tempest-horizon from PyPI.
The similar approach is adopted in stable/stein [1].

[1] https://review.opendev.org/c/openstack/horizon/+/771740

Change-Id: I80d67384a643362746c2e037da539503a8095d7b
"
openstack%2Fnova~master~I458b1db091e33c0b835e44b5a86de6c0a08f99a3,openstack/nova,master,bp/allow-secure-boot-for-qemu-kvm-guests,I458b1db091e33c0b835e44b5a86de6c0a08f99a3,tests: Poison os.uname,MERGED,2021-02-12 16:43:55.000000000,2021-03-04 17:04:19.000000000,2021-03-04 12:27:38.000000000,62,23,5,775415,f7e3e179911e0a7fbad0d108c202c475560dbcea,51,5,5,7,15334,Stephen Finucane,sfinucan,"tests: Poison os.uname

We shouldn't be looking up the architecture of the test node during
tests to ensure tests work across nodes with varying architectures.

Change-Id: I458b1db091e33c0b835e44b5a86de6c0a08f99a3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Co-authored-by: Lee Yarwood <lyarwood@redhat.com>
"
openstack%2Ftripleo-ipsec~stable%2Fussuri~I3845698c37a70aa5e0431e33133f5302fa58f4a6,openstack/tripleo-ipsec,stable/ussuri,create-ussuri,I3845698c37a70aa5e0431e33133f5302fa58f4a6,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2021-02-02 12:41:16.000000000,2021-03-04 17:03:01.000000000,2021-03-04 17:03:01.000000000,1,1,0,773677,d9666d8900f90ef79d704478dde622b09b8ccfd1,11,2,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I3845698c37a70aa5e0431e33133f5302fa58f4a6
"
openstack%2Ftripleo-ipsec~stable%2Fussuri~Id777e1fe6d414804a6ac6c6d80cff2eedf7c9096,openstack/tripleo-ipsec,stable/ussuri,create-ussuri,Id777e1fe6d414804a6ac6c6d80cff2eedf7c9096,Update .gitreview for stable/ussuri,MERGED,2021-02-02 12:41:12.000000000,2021-03-04 17:02:57.000000000,2021-03-04 17:02:57.000000000,1,0,0,773676,ad4bf8b5342c985ea6faf96a7d9320717b188c4b,13,3,2,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/ussuri

Change-Id: Id777e1fe6d414804a6ac6c6d80cff2eedf7c9096
"
openstack%2Ftripleo-ipsec~stable%2Fussuri~I8a3d5cad047ae36af071a6c8322026339d643cea,openstack/tripleo-ipsec,stable/ussuri,,I8a3d5cad047ae36af071a6c8322026339d643cea,Fix linters,MERGED,2021-03-04 15:24:29.000000000,2021-03-04 17:02:54.000000000,2021-03-04 17:02:54.000000000,2,1,0,778727,cff103f7b5b7da840de1bb770d3226b7179229aa,7,4,1,2,8449,Marios Andreou,marios,"Fix linters

Since version 5.0, ansible-lint seems to have stricter requirements
about role names in meta/main.yml, and it is causing errors in CI
[1].

Also, add no-tabs to the exclusion list.

[1] - https://github.com/ansible-community/ansible-lint/issues/1400

Change-Id: I8a3d5cad047ae36af071a6c8322026339d643cea
(cherry picked from commit b5559c8c8669638f311f1c57d2d2a87f0202cddf)
"
openstack%2Foslo.messaging~stable%2Fussuri~Ic0a311d290682a923ec4f8cbe36f875d560cd41a,openstack/oslo.messaging,stable/ussuri,backport-mandatory-to-ussuri,Ic0a311d290682a923ec4f8cbe36f875d560cd41a,Fix some typos,MERGED,2021-03-02 10:59:07.000000000,2021-03-04 17:02:51.000000000,2021-03-04 17:00:39.000000000,5,5,3,778166,de2f0403fbbb13b0a5346e72b2d4a6a8e43ca978,11,4,1,2,28522,Hervé Beraud,hberaud,"Fix some typos

Change-Id: Ic0a311d290682a923ec4f8cbe36f875d560cd41a
(cherry picked from commit 2c2779a974d59a9d91bd7cb1e3ae001952fe9083)
"
openstack%2Fpython-openstackclient~master~Ib95bb36511dad1aafe75f0c88d10ded382e4fa5c,openstack/python-openstackclient,master,osc-first,Ib95bb36511dad1aafe75f0c88d10ded382e4fa5c,compute: Rename 'server migrate (confirm|revert)',MERGED,2021-01-20 18:20:34.000000000,2021-03-04 16:56:53.000000000,2021-03-04 16:51:57.000000000,198,4,0,771695,a52beacaa6fcc11d48f5b742c73aa2c0f87634ce,10,2,2,4,15334,Stephen Finucane,sfinucan,"compute: Rename 'server migrate (confirm|revert)'

We're confirming or reverting a server migration, not a server migrate.
We've a number of 'server migration *' commands now so it makes sense to
move them under here.

Change-Id: Ib95bb36511dad1aafe75f0c88d10ded382e4fa5c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fcinder~master~Id0500c2f85974818fa2a841c9dca77f1fef4df04,openstack/cinder,master,bug/1905564,Id0500c2f85974818fa2a841c9dca77f1fef4df04,PowerMax Driver - Fix assign SRP during promotion retype,MERGED,2020-11-25 13:26:05.000000000,2021-03-04 16:55:06.000000000,2021-03-04 16:50:42.000000000,13,2,2,764166,00ad39a6000f5bfcdddbfb5accb9b165e997b963,28,5,1,3,30165,Simon O'Donovan,odonos12,"PowerMax Driver - Fix assign SRP during promotion retype

SRP is not assigned during failover-promotion retype. In cases
where SRP is different between primary and remote arrays this
can lead to issues once failover-promotion is finalized. Fixed
by adding SRP assignment when generating volume's model update.

Change-Id: Id0500c2f85974818fa2a841c9dca77f1fef4df04
Closes-Bug: 1905564
"
openstack%2Fpython-openstackclient~master~I71aabf10f791f68ee7405ffb5e8317cc96cb3b38,openstack/python-openstackclient,master,osc-first,I71aabf10f791f68ee7405ffb5e8317cc96cb3b38,"compute: Add support for 'server boot --nic ...,tag=<tag>'",MERGED,2021-01-20 18:20:34.000000000,2021-03-04 16:54:41.000000000,2021-03-04 16:50:58.000000000,133,4,0,771692,9ed34aac0a172ece4cd856319486208fcdba095d,10,2,2,3,15334,Stephen Finucane,sfinucan,"compute: Add support for 'server boot --nic ...,tag=<tag>'

This has been around for a long time but was not exposed via OSC. Close
this gap.

Change-Id: I71aabf10f791f68ee7405ffb5e8317cc96cb3b38
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fopenstack-ansible-ops~master~Ifb2ae91a600693aa516f489b62298a6f2c753d4d,openstack/openstack-ansible-ops,master,,Ifb2ae91a600693aa516f489b62298a6f2c753d4d,Collect keystone apache federation files,MERGED,2020-07-15 15:09:00.000000000,2021-03-04 16:52:18.000000000,2021-03-04 16:47:59.000000000,4,0,0,741236,45913d9ef388f14bf270b40d0cc14ec4d17dee91,15,5,2,1,29865,Georgina Shippey,gshippey,"Collect keystone apache federation files

Collects the default log for files for when federation is deployed.

Depends-On: https://review.opendev.org/741997
Change-Id: Ifb2ae91a600693aa516f489b62298a6f2c753d4d
"
openstack%2Fpython-openstackclient~master~I413310b481cc13b70853eb579417f6e6fad10d98,openstack/python-openstackclient,master,osc-first,I413310b481cc13b70853eb579417f6e6fad10d98,compute: Add 'server migration show' command,MERGED,2021-01-20 18:20:34.000000000,2021-03-04 16:51:40.000000000,2021-03-04 16:51:40.000000000,242,1,0,771694,f80fe2d8cf50f85601e2895a5f878764fa77c154,9,2,2,5,15334,Stephen Finucane,sfinucan,"compute: Add 'server migration show' command

This replaces the 'server-migration-show' command provided by
novaclient.

Change-Id: I413310b481cc13b70853eb579417f6e6fad10d98
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpython-openstackclient~master~Ib6b7c8f9cc3d1521a993616f832d41651dc46f73,openstack/python-openstackclient,master,osc-first,Ib6b7c8f9cc3d1521a993616f832d41651dc46f73,Rename FakeServerMigration to FakeMigration,MERGED,2021-01-20 18:20:34.000000000,2021-03-04 16:51:12.000000000,2021-03-04 16:51:12.000000000,12,12,0,771693,32ae1857d12fc2d5b4292e2d98caed0238959081,9,2,2,2,15334,Stephen Finucane,sfinucan,"Rename FakeServerMigration to FakeMigration

Server migrations are (confusingly) a different thing returned by a
different API.

Change-Id: Ib6b7c8f9cc3d1521a993616f832d41651dc46f73
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fgovernance~master~I0d566a4bd08e32cd14598cd5cc1d28a84e0f2862,openstack/governance,master,project-update,I0d566a4bd08e32cd14598cd5cc1d28a84e0f2862,Propose Extra-ATCs from I18n SIG,MERGED,2021-02-27 19:26:11.000000000,2021-03-04 16:47:29.000000000,2021-03-04 16:05:11.000000000,41,0,0,777871,974c2b817fe09c2bd833b3b4ba528ffc545b9ff8,13,5,1,1,14482,Ian Y. Choi,ianychoi,"Propose Extra-ATCs from I18n SIG

Those people are OpenStack Foundation members and also
active translators from Victoria and Wallaby (by Feb 19).

It is necessary to grant those people ATCs in order to make them
electroate for TC.

Also see for references:
 - Move i18n into a SIG: https://review.opendev.org/c/openstack/governance/+/721605
 - Election repo patch: https://review.opendev.org/c/openstack/election/+/721604
 - Victoria and Wallaby I18n stats: https://wiki.openstack.org/wiki/I18nTeam/ATC_statistics

Change-Id: I0d566a4bd08e32cd14598cd5cc1d28a84e0f2862
"
openstack%2Ftripleo-ansible~master~I20bb3ea3b65c42638f81363afeb84dc3e9aa1764,openstack/tripleo-ansible,master,,I20bb3ea3b65c42638f81363afeb84dc3e9aa1764,Remove container delete task,MERGED,2021-03-03 17:49:50.000000000,2021-03-04 16:30:45.000000000,2021-03-04 13:52:55.000000000,0,19,2,778522,be02313503276b9a6975b990747097dfbf833048,10,4,1,1,7353,Kevin Carter,cloudnull,"Remove container delete task

We no longer have swift on the undercloud so this task no longer needs
to exist. With it here we're unable to delete an overcloud via the CLI.

Change-Id: I20bb3ea3b65c42638f81363afeb84dc3e9aa1764
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fproject-config~master~If1b46cefcb04bcd726ce15fd9e0917cdbc7a55c0,openstack/project-config,master,gentoo-images,If1b46cefcb04bcd726ce15fd9e0917cdbc7a55c0,"Revert ""Un-pause Gentoo image builds""",ABANDONED,2021-01-16 15:03:49.000000000,2021-03-04 16:22:23.000000000,,1,1,0,771104,56d83a09b0e9f008e1ceb22c4b48c89414044767,9,5,1,1,5263,Jeremy Stanley,fungi,"Revert ""Un-pause Gentoo image builds""

The images still won't complete building, they get stuck installing
packages like...

    >>> Emerging (1 of 1) dev-python/six-1.15.0-r1::gentoo

...and then sit there indefinitely until Nodepool gives up. The
leaf-most child process is:

    /usr/bin/python3.8 -b /usr/lib/python-exec/python3.8/emerge
        --binpkg-respect-use --rebuilt-binaries=y --usepkg=y
        --with-bdeps=y --binpkg-changed-deps=y --quiet --jobs=2
        --autounmask=n --oneshot --update --newuse --deep --nodeps
        dev-python/six

Using strace -p on it, that process seems to be waiting forever on a
futex...

    futex(0x7f512c50f9b0, FUTEX_WAIT_PRIVATE, 2, NULL

...or setting a write lock on a file...

    fcntl(7, F_SETLKW, {l_type=F_WRLCK, l_whence=SEEK_SET,
        l_start=0, l_len=0}

...with lsof showing files like these held open...

    /opt/dib_tmp/dib_build.hmJmliyA/mnt/tmp/portage-distdir/
        .six-1.15.0.tar.gz.portage_lockfile
    /opt/dib_tmp/dib_build.hmJmliyA/mnt/tmp/portage-distdir/
        ..layout.conf.distfiles.gentoo.org.portage_lockfile

...and the only unix streams seem to correspond to its parent
process, though there are also FIFO pipes held open by it (to what
I'm unsure, don't see any likely candidates in the process list).

This reverts commit 083ddaf2f97bda2144ff867ea613f69741efd3b4.

Change-Id: If1b46cefcb04bcd726ce15fd9e0917cdbc7a55c0
"
openstack%2Fpuppet-openstack-integration~master~Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923,openstack/puppet-openstack-integration,master,,Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923,"Re-enable SSL en p-o-i scenarios 1, 3 and 4",MERGED,2021-02-01 09:50:49.000000000,2021-03-04 16:19:36.000000000,2021-03-04 16:19:36.000000000,10,19,1,773336,bc8675fe05eb9ba076de02522f00d99ca4a78837,27,6,10,6,16312,Alfredo Moralejo,amoralej,"Re-enable SSL en p-o-i scenarios 1, 3 and 4

It has been long since we disabled ssl in scenarios. With current
versions of OpenStack projects and libraries, all projects but glance,
which has removed native ssl support with [1], are working fine with
SSL, so we can enable it again.

I'm  leaving scenario002 without SSL to cover both cases in CI.

[1] https://review.opendev.org/c/openstack/glance/+/697969

Change-Id: Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923
"
openstack%2Freleases~master~If02da1c930ebbac869f17389551baaba87985281,openstack/releases,master,missing-stable-branch,If02da1c930ebbac869f17389551baaba87985281,DNM - test create tag on unbranched series,ABANDONED,2021-02-17 15:19:37.000000000,2021-03-04 16:11:12.000000000,,5,0,0,776215,143d5c50ea926489ce1203cff44e9668b8524ea5,10,3,4,1,28522,Hervé Beraud,hberaud,"DNM - test create tag on unbranched series

Change-Id: If02da1c930ebbac869f17389551baaba87985281
"
openstack%2Ftripleo-ipsec~stable%2Fvictoria~Ic2aabd961588f6f8910eedb29b92aaa599928d98,openstack/tripleo-ipsec,stable/victoria,create-victoria,Ic2aabd961588f6f8910eedb29b92aaa599928d98,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2021-01-14 10:23:08.000000000,2021-03-04 16:03:56.000000000,2021-03-04 16:03:56.000000000,1,1,0,770777,96c60fa201697546cf4cc619e13fd685d7f7d52f,11,2,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic2aabd961588f6f8910eedb29b92aaa599928d98
"
openstack%2Freleases~master~Ice2a6d2cc5285169fb03d94201feb8205173851d,openstack/releases,master,,Ice2a6d2cc5285169fb03d94201feb8205173851d,Final release of octavia-lib for Wallaby,MERGED,2021-03-03 15:49:59.000000000,2021-03-04 16:01:17.000000000,2021-03-04 16:01:17.000000000,4,0,0,778490,acbe0813a36e2410fe1960eb5b759745e5574e35,9,5,1,1,11628,Michael Johnson,johnsom,"Final release of octavia-lib for Wallaby

Change-Id: Ice2a6d2cc5285169fb03d94201feb8205173851d
"
openstack%2Ftripleo-ipsec~stable%2Fvictoria~I28ea4cc8f56479a28f58b86bb7aefee4efc1fbae,openstack/tripleo-ipsec,stable/victoria,create-victoria,I28ea4cc8f56479a28f58b86bb7aefee4efc1fbae,Update .gitreview for stable/victoria,MERGED,2021-01-14 10:23:05.000000000,2021-03-04 15:58:42.000000000,2021-03-04 15:58:42.000000000,1,0,0,770776,bc390865fb1f1cb6e1ac8d55b9ad8a552e9895b6,16,4,2,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/victoria

Change-Id: I28ea4cc8f56479a28f58b86bb7aefee4efc1fbae
"
openstack%2Ftripleo-ipsec~stable%2Fvictoria~I8a3d5cad047ae36af071a6c8322026339d643cea,openstack/tripleo-ipsec,stable/victoria,,I8a3d5cad047ae36af071a6c8322026339d643cea,Fix linters,MERGED,2021-03-04 15:16:06.000000000,2021-03-04 15:58:24.000000000,2021-03-04 15:58:24.000000000,2,1,0,778725,c7f0a0082dad7887866de82b51bff97b705a1b72,7,4,1,2,8449,Marios Andreou,marios,"Fix linters

Since version 5.0, ansible-lint seems to have stricter requirements
about role names in meta/main.yml, and it is causing errors in CI
[1].

Also, add no-tabs to the exclusion list.

[1] - https://github.com/ansible-community/ansible-lint/issues/1400

Change-Id: I8a3d5cad047ae36af071a6c8322026339d643cea
(cherry picked from commit b5559c8c8669638f311f1c57d2d2a87f0202cddf)
"
openstack%2Fkolla-ansible~master~I11e9bd9e7b5a92d36c81c465e9cc8d570156ccb7,openstack/kolla-ansible,master,container-health-check,I11e9bd9e7b5a92d36c81c465e9cc8d570156ccb7,Use Docker healthchecks for murano services,NEW,2021-03-04 14:03:12.000000000,2021-03-04 15:53:49.000000000,,37,0,0,778703,dc69c640ca1b2600a63cd91878a391176aee73ca,3,1,1,4,26285,wu.chunyang,wu.chunyang,"Use Docker healthchecks for murano services

This change enables the use of Docker healthchecks for murano services.
Implements: blueprint container-health-check

Change-Id: I11e9bd9e7b5a92d36c81c465e9cc8d570156ccb7
"
openstack%2Fgovernance~master~I378165732d126e91cc330b01c3df62ebab8cdc32,openstack/governance,master,formal-vote,I378165732d126e91cc330b01c3df62ebab8cdc32,Cool-down cycle goal,ABANDONED,2021-01-13 13:36:35.000000000,2021-03-04 15:39:20.000000000,,29,0,11,770616,9d6437626202ecbad94f6964e7e9fa718cbd33ab,32,13,2,1,1004,Mohammed Naser,mnaser,"Cool-down cycle goal

Change-Id: I378165732d126e91cc330b01c3df62ebab8cdc32
"
openstack%2Fnova~master~I16e7df6932bb7dff243706ee49338ba6b3782085,openstack/nova,master,bug/1882521,I16e7df6932bb7dff243706ee49338ba6b3782085,libvirt: parse alias out from device config,MERGED,2021-01-25 17:21:29.000000000,2021-03-04 15:39:07.000000000,2021-03-04 11:49:21.000000000,36,0,6,772384,96072a1ef1a5822d57e18ba65ce3ba50af062b23,74,4,6,2,9708,Balazs Gibizer,gibi,"libvirt: parse alias out from device config

Libvirt assigns a device alias for each device in the domain and uses
this identifier in the events related to these devices, like device
detach.

This patch extends the LibvirtConfigGuestInterface and the
LibvirtConfigGuestDisk config object to parse the alias back from the
domain config. The alias is intentionally not used during domain XML
generation as it is expected that libvirt will populate and persist
this field.

This is part of the longer series trying to transform the existing
device detach handling to use libvirt events.

Change-Id: I16e7df6932bb7dff243706ee49338ba6b3782085
Related-Bug: #1882521
"
openstack%2Felection~master~Ie8361a857f9fce181f189e762b4b4c0a14430aa7,openstack/election,master,,Ie8361a857f9fce181f189e762b4b4c0a14430aa7,Add Lucian Petrut candidacy for Winstackers,MERGED,2021-03-04 04:46:04.000000000,2021-03-04 15:31:03.000000000,2021-03-04 15:27:41.000000000,15,0,0,778610,307b54596ff279981ddea88ae89afb7fb913ee2a,8,3,1,1,8543,Lucian Petrut,plucian,"Add Lucian Petrut candidacy for Winstackers

Change-Id: Ie8361a857f9fce181f189e762b4b4c0a14430aa7
"
openstack%2Ftripleo-ipsec~master~I8a3d5cad047ae36af071a6c8322026339d643cea,openstack/tripleo-ipsec,master,,I8a3d5cad047ae36af071a6c8322026339d643cea,Fix linters,MERGED,2021-03-04 10:33:31.000000000,2021-03-04 15:24:42.000000000,2021-03-04 15:24:42.000000000,2,1,0,778632,b5559c8c8669638f311f1c57d2d2a87f0202cddf,11,3,3,2,13294,Javier Peña,jpena,"Fix linters

Since version 5.0, ansible-lint seems to have stricter requirements
about role names in meta/main.yml, and it is causing errors in CI
[1].

Also, add no-tabs to the exclusion list.

[1] - https://github.com/ansible-community/ansible-lint/issues/1400

Change-Id: I8a3d5cad047ae36af071a6c8322026339d643cea
"
openstack%2Fcinder~master~I16f54e6722cdbcbad4af1eb0d30264b0039412fd,openstack/cinder,master,bp/include-encryption-key-id-in-details,I16f54e6722cdbcbad4af1eb0d30264b0039412fd,Add encryption_key_id to volume and backup details,MERGED,2021-01-15 20:46:43.000000000,2021-03-04 15:18:52.000000000,2021-03-04 15:10:38.000000000,112,6,0,771081,f91aec58696abf8949f40d8f1287db2788fd7c0c,89,3,3,14,21129,Alan Bishop,ASBishop,"Add encryption_key_id to volume and backup details

Add microversion 3.64 for including the encryption_key_id in the
volume and backup details when the associated volume is encrypted.
This facilitates associating encryption keys (typically stored in
Barbican) with the volume or backup that uses it.

The encryption_key_id is included in the details only when the
associated volume is encrypted, and it isn't using the all-zeros
key ID used by the legacy fixed-key ConfKeyMgr.

APIImpact
DocImpact

Implements: blueprint include-encryption-key-id-in-details
Change-Id: I16f54e6722cdbcbad4af1eb0d30264b0039412fd
"
openstack%2Fneutron~master~I762b62cd38077a013d46eaf296614e102470f47a,openstack/neutron,master,bug/1578989,I762b62cd38077a013d46eaf296614e102470f47a,"[OVN] Set OVN mech driver ""resource_provider_uuid5_namespace""",MERGED,2021-02-19 14:34:12.000000000,2021-03-04 15:18:48.000000000,2021-03-04 15:09:03.000000000,4,0,0,776648,f416060d41de0705b631eb3164c984543aecff99,18,4,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN] Set OVN mech driver ""resource_provider_uuid5_namespace""

Set a UUID v5 namespace for the OVN mechanism driver, that will
be used to deterministically generate Placement Resource Provider
UUIDs.

Partial-Bug: #1578989

Change-Id: I762b62cd38077a013d46eaf296614e102470f47a
"
openstack%2Fswift~master~Ia041f7b7dbd4e264072325b4b52718fef9966708,openstack/swift,master,p-diskfile-relink-paths-race,Ia041f7b7dbd4e264072325b4b52718fef9966708,Fix race in diskfile.relink_paths,MERGED,2021-03-03 14:39:56.000000000,2021-03-04 15:18:43.000000000,2021-03-04 15:10:06.000000000,66,1,2,778474,24eb16fc2ab64a3e9dc4e11876c9b381301d2323,15,2,1,2,7847,Alistair Coles,acoles,"Fix race in diskfile.relink_paths

When a diskfile is written in a new diskfile dir, then in
diskfile.relink_paths the existence of the diskfile dir is tested
before a call to makedirs. If more than one process is taking the same
action concurrently they may race such that one tests for existence,
then another call makedirs, then the first calls makedirs and an
exception is raised. The first process therefore fails to relink the
object file, which is particularly problematic if the first process
was writing a newer object file.

This patch changes relink_paths to unconditionally attempt the
makedirs but catch and ignore any EEXIST errors.

Change-Id: Ia041f7b7dbd4e264072325b4b52718fef9966708
"
openstack%2Fhorizon~master~I0b8e6b2e540a1782b9edd9921490a9371d31afc7,openstack/horizon,master,bug/1916891,I0b8e6b2e540a1782b9edd9921490a9371d31afc7,Handle an attached volume without volume_image_metadata,MERGED,2021-02-25 19:17:44.000000000,2021-03-04 15:18:30.000000000,2021-03-04 14:49:48.000000000,10,3,0,777654,b841952906de33ff93c90cc04ea0509afeaab89f,12,3,2,1,841,Akihiro Motoki,amotoki,"Handle an attached volume without volume_image_metadata

There is a case where volume_image_metadata attribute does not exist.
It looks like it happens for example when a volume was created before
the volume_image_metadata feature was implemented.

Change-Id: I0b8e6b2e540a1782b9edd9921490a9371d31afc7
Closes-Bug: #1916891
"
openstack%2Fvalidations-libs~master~I693ba3699ab2c1b50f92b4f60f309d8c529a23c4,openstack/validations-libs,master,,I693ba3699ab2c1b50f92b4f60f309d8c529a23c4,Refactor the groups property in Validation class.,MERGED,2021-03-03 23:17:28.000000000,2021-03-04 15:17:53.000000000,2021-03-04 14:58:31.000000000,1,5,0,778592,01103d673995f62f4e9f0f530e84e8f2ff0e3d88,8,5,1,1,31245,Daniel Bengtsson,damani42,"Refactor the groups property in Validation class.

Improve the code and remove the condition to check the groups. Use the
default value from the get method.

Co-authored-by: Owen McGonagle <omcgonag@redhat.com>
Change-Id: I693ba3699ab2c1b50f92b4f60f309d8c529a23c4
"
openstack%2Fpython-tripleoclient~master~Ied14f40cf074755225abe1e8f1c859bacbe9022f,openstack/python-tripleoclient,master,standalone/inventory,Ied14f40cf074755225abe1e8f1c859bacbe9022f,Copy the inventory for standalone deploy in output_dir,MERGED,2021-02-25 12:03:50.000000000,2021-03-04 15:17:32.000000000,2021-03-04 14:57:00.000000000,10,3,8,777579,0736e447f9f8a075aaf5de0b40e4d20428e2c7ce,27,6,5,3,16515,mbu,matbu,"Copy the inventory for standalone deploy in output_dir

In order to be re-used by post deployment action, this review
copy the ansible inventory into the output_dir as:
standalone-inventory.yaml.
If file exist it will replace the old one.

Change-Id: Ied14f40cf074755225abe1e8f1c859bacbe9022f
"
openstack%2Fhorizon~master~I917a8bf9728729d46981d120f510952a750b1270,openstack/horizon,master,bug/1900863,I917a8bf9728729d46981d120f510952a750b1270,Allow themes to override bg color of even lines of horizon tables,MERGED,2021-02-28 04:44:54.000000000,2021-03-04 15:14:32.000000000,2021-03-04 14:49:01.000000000,1,1,0,777878,f78a9c2c081813e38743e0e468faaa4ce96ca235,9,4,1,1,841,Akihiro Motoki,amotoki,"Allow themes to override bg color of even lines of horizon tables

Change-Id: I917a8bf9728729d46981d120f510952a750b1270
Closes-Bug: #1900863
"
openstack%2Ftripleo-ipsec~master~I017cb52aaef0683c78cc18c669f345c0b60ed136,openstack/tripleo-ipsec,master,,I017cb52aaef0683c78cc18c669f345c0b60ed136,Adds .gitreview defaultbranch - need dummy commit for release issue,ABANDONED,2021-03-03 14:52:44.000000000,2021-03-04 15:11:23.000000000,,1,0,0,778480,dcd46dcf9674b9860aba739370ae6b302d2f7a95,8,5,1,1,8449,Marios Andreou,marios,"Adds .gitreview defaultbranch - need dummy commit for release issue

As discussed in the related-bug, we need a new commit on master branch
so we can tag a new release (for Wallaby series).

Related-Bug: 1917327
Change-Id: I017cb52aaef0683c78cc18c669f345c0b60ed136
"
openstack%2Frequirements~master~Ib094583f783e12f264a7d7538ccc75f068d18ce3,openstack/requirements,master,new-release,Ib094583f783e12f264a7d7538ccc75f068d18ce3,update constraint for ironic-lib to new release 4.6.0,MERGED,2021-03-03 16:10:47.000000000,2021-03-04 14:57:53.000000000,2021-03-04 01:36:16.000000000,1,1,0,778495,347e83cf56faa4c634cfa54e07c9731585c2e13e,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for ironic-lib to new release 4.6.0

meta: version: 4.6.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Iac5aa5de01a36d32dfa41a8a821874442f6984ca
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: Ib094583f783e12f264a7d7538ccc75f068d18ce3
"
openstack%2Ftripleo-heat-templates~master~I0c509370332797fe563804b0ddb8f1a5d4742994,openstack/tripleo-heat-templates,master,bz/1916162,I0c509370332797fe563804b0ddb8f1a5d4742994,Remove tripleo_transfer cleanup.yml reference,MERGED,2021-03-03 13:01:15.000000000,2021-03-04 14:57:37.000000000,2021-03-04 14:57:37.000000000,0,4,2,778456,0f081b4f8032f1cd00f7f653d0a0614d09f4cb61,11,7,1,1,6816,Jesse Pretorius,jesse-pretorius,"Remove tripleo_transfer cleanup.yml reference

With the changes in https://review.opendev.org/771657
this cleanup task file no longer exists. The cleanup
is done within the role automatically via a block/rescue.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162
Needed-By: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f

Change-Id: I0c509370332797fe563804b0ddb8f1a5d4742994
"
openstack%2Fkolla~master~I095ca6f34cc7c7bca485e9ec019cc52aeb8e3ff4,openstack/kolla,master,fix_curl_302,I095ca6f34cc7c7bca485e9ec019cc52aeb8e3ff4,Fix error when github return 302,MERGED,2021-03-02 14:29:05.000000000,2021-03-04 14:51:08.000000000,2021-03-04 14:16:59.000000000,14,14,0,778195,61def281d077f88051d1b1a14dfdbfabac036c8c,10,3,1,14,32690,Sergey Chekanov,s-chekanov,"Fix error when github return 302

-L for curl: If the server reports that the requested page has moved to a different location (indicated with a Location: header and a 3XX response code), this option will make curl redo the request on the new place

It fixes build error for me:
INFO:kolla.common.utils.prometheus-v2-server: ---> Running in 693fd4095c77
INFO:kolla.common.utils.prometheus-v2-server:curl (https://github.com/prometheus/prometheus/releases/download/v2.23.0/prometheus-2.23.0.linux-amd64.tar.gz): response: 302, time: 0.166583, size: 640
INFO:kolla.common.utils.prometheus-v2-server:
INFO:kolla.common.utils.prometheus-v2-server:gzip: stdin: not in gzip format
INFO:kolla.common.utils.prometheus-v2-server:
INFO:kolla.common.utils.prometheus-v2-server:tar: Child returned status 1
INFO:kolla.common.utils.prometheus-v2-server:tar: Error is not recoverable: exiting now

Change-Id: I095ca6f34cc7c7bca485e9ec019cc52aeb8e3ff4
"
openstack%2Fglance~master~I72a4372582adc142c965328fa82e8b2b388e5608,openstack/glance,master,bug/1913625,I72a4372582adc142c965328fa82e8b2b388e5608,MDNM: Test restarting glance for staging cleanup,ABANDONED,2021-02-22 21:52:43.000000000,2021-03-04 14:47:00.000000000,,20,1,0,777014,a267aacfc7cb37a7f9f00731a66b0dc64d0399a9,26,1,13,2,4393,Dan Smith,danms,"MDNM: Test restarting glance for staging cleanup

Testing this in reality is quite hard, so this adds a hacky post-run
script that should create some cruft in the staging directory,
as well as stage an image and then restart glance so we can examine
the log files.

Since I got the functional tests able to do this like I want, I'm
not sure we need to merge this, but I still want to try to get it
to show the logs I'm looking for, just for demonstration purposes.

Change-Id: I72a4372582adc142c965328fa82e8b2b388e5608
"
openstack%2Ftripleo-heat-templates~master~I770afb3f4f347402b8aa8814c91a7867445a82b0,openstack/tripleo-heat-templates,master,designate,I770afb3f4f347402b8aa8814c91a7867445a82b0,Configure rndc keys,ABANDONED,2021-02-10 14:23:51.000000000,2021-03-04 14:33:32.000000000,,17,14,0,774869,b13265659768042f23abe46ade4047a58ceab540,15,2,5,3,6681,Brent Eagles,beagles,"Configure rndc keys

Execute configuration code to configure rndc keys

Depends-On: I3383c19f80e70553ae71e644a01dda0f250d19da
Change-Id: I770afb3f4f347402b8aa8814c91a7867445a82b0
"
