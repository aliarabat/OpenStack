id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fproject-config~master~Ie696c35a4eabe1a2fcadb491a5bfb62b1432849a,openstack/project-config,master,n8g_bagpipe_deps,Ie696c35a4eabe1a2fcadb491a5bfb62b1432849a,n8g-bagpipe: tune PROJECTS to match dependencies,MERGED,2017-08-21 12:29:22.000000000,2017-08-22 08:01:13.000000000,2017-08-22 08:01:13.000000000,9,1,1,495841,83664430f17d2dfcdb8afcc330729a2e21def484,9,6,1,1,12021,Thomas Morin,tmorin,"n8g-bagpipe: tune PROJECTS to match dependencies

Add networking-bgpvpn to PROJECTS, so that tests for a n8g-bagpipe change
Depending-On a networking-bgpvpn change actually incorporate the n8g-bgpvpn
change.

Change-Id: Ie696c35a4eabe1a2fcadb491a5bfb62b1432849a
"
openstack%2Fproject-config~master~I3142ac3e94ca7cf9df277f0a5c31fc48c82b76cc,openstack/project-config,master,dashboard-pypi,I3142ac3e94ca7cf9df277f0a5c31fc48c82b76cc,neutron-fwaas/vpnaas-dashboard: publish to PyPI,MERGED,2017-08-21 06:57:42.000000000,2017-08-22 08:01:08.000000000,2017-08-22 08:01:08.000000000,4,4,0,495738,b171bfcf96d508e059a7121b6ceef739764250af,10,4,2,2,841,Akihiro Motoki,amotoki,"neutron-fwaas/vpnaas-dashboard: publish to PyPI

As most horizon plugin do, we would like to publish fwaas/vpnaas
dashboard to PyPI. It makes deployment a bit easier.

Change-Id: I3142ac3e94ca7cf9df277f0a5c31fc48c82b76cc
"
openstack%2Fnova~master~Iad73cdf92e4aec94b70d05f2f9a823432b1dea1a,openstack/nova,master,trivial,Iad73cdf92e4aec94b70d05f2f9a823432b1dea1a,"trivial: Remove dead function, variable",MERGED,2017-08-07 14:58:04.000000000,2017-08-22 08:00:43.000000000,2017-08-22 08:00:43.000000000,0,117,0,491512,ca61be287cda73ed5c43c22742d5dad8a8f5caa5,33,16,2,2,15334,Stephen Finucane,sfinucan,"trivial: Remove dead function, variable

These are no longer used anywhere and can be removed.

Change-Id: Iad73cdf92e4aec94b70d05f2f9a823432b1dea1a
"
openstack%2Ftempest~master~I67e22a821eb88cbf3f9e03bfefc592456b79bb0c,openstack/tempest,master,extra_spec_name,I67e22a821eb88cbf3f9e03bfefc592456b79bb0c,Test nonexistent volume type extra_spec name instead of id,MERGED,2017-08-21 09:16:57.000000000,2017-08-22 08:00:33.000000000,2017-08-22 08:00:33.000000000,5,5,3,495779,d12e5480d2111d01ea99f5083b97797a6f86b0f2,16,7,2,1,20190,zhufl,zhufl,"Test nonexistent volume type extra_spec name instead of id

volume type extra_spec doesn't work with 'id', so this is to
rename test_get_nonexistent_extra_spec_id to
test_get_nonexistent_extra_spec_name, testing nonexistent
volume type extra_spec.

Change-Id: I67e22a821eb88cbf3f9e03bfefc592456b79bb0c
"
openstack%2Fproject-config~master~Id8f2fad02a55dd700235c9b96c6ed1338a319bc6,openstack/project-config,master,,Id8f2fad02a55dd700235c9b96c6ed1338a319bc6,add qos extension to all congress dsvm jobs,MERGED,2017-08-21 23:40:00.000000000,2017-08-22 07:58:57.000000000,2017-08-22 07:58:57.000000000,2,1,0,496039,989280af5d96d09934fc82868972b6ed5bf6e1e0,8,4,1,1,18591,Eric Kao,ekcs,"add qos extension to all congress dsvm jobs

Change-Id: Id8f2fad02a55dd700235c9b96c6ed1338a319bc6
"
openstack%2Fproject-config~master~Ifaa5da5601331514010c3bda08974abb8e678600,openstack/project-config,master,unified,Ifaa5da5601331514010c3bda08974abb8e678600,Enable plugins for unified gates,MERGED,2017-08-22 06:31:56.000000000,2017-08-22 07:57:02.000000000,2017-08-22 07:57:02.000000000,2,0,0,496110,3ce2a5fd95de81a8c3e33e547df01579d4151bae,7,3,1,1,20033,Artur Basiak,abasiak,"Enable plugins for unified gates

Enable plugins in unified gates configuration for logs
and events pipeline in monasca project.

Change-Id: Ifaa5da5601331514010c3bda08974abb8e678600
"
openstack%2Fkolla-ansible~master~I6901e919887551bedc9dba8983ac904e8c48c9ce,openstack/kolla-ansible,master,bug/1710874,I6901e919887551bedc9dba8983ac904e8c48c9ce,Fix missing tacker-conductor service,MERGED,2017-06-26 12:36:00.000000000,2017-08-22 07:56:55.000000000,2017-08-22 07:56:55.000000000,144,38,6,477517,ecc022177c7569b4c2066d64a93d47d72bfa7bdf,40,5,14,16,19316,Eduardo Gonzalez,egonzalez90,"Fix missing tacker-conductor service

Tacker has included a new conductor service
to manage mistral workflows for VIM monitoring.

Without conductor, Tacker cannot create VIMs.

This change reworks tacker to include tacker-conductor
service.

Depends-On: I52778e86e4f2c297ead8d4b09983e5e38ca88c70
Closes-Bug: #1710874
Change-Id: I6901e919887551bedc9dba8983ac904e8c48c9ce
"
openstack%2Fproject-config~master~I2f8d01131a62fe2f3741b6e422d40d76f109a4c2,openstack/project-config,master,create_kuryr_octavia_gate,I2f8d01131a62fe2f3741b6e422d40d76f109a4c2,Enable Octavia Variant,MERGED,2017-07-27 16:08:22.000000000,2017-08-22 07:52:29.000000000,2017-08-22 07:52:29.000000000,116,12,2,487928,c2ab69f30376bb22a6dc1bc2e34006fc962f21b7,19,6,5,3,14885,Daniel Mellado,daniel-mellado,"Enable Octavia Variant

This commit creates a new gate for kuryr-kubernetes using Octavia and
splits the pipeline in two different variants.

Change-Id: I2f8d01131a62fe2f3741b6e422d40d76f109a4c2
Signed-off-by: Daniel Mellado <dmellado@redhat.com>
"
openstack%2Fnova~master~I02ac615dc26a4a0d1fd28a638f622777e41d14e4,openstack/nova,master,bug/1697825,I02ac615dc26a4a0d1fd28a638f622777e41d14e4,Reset client session when placement endpoint not found,MERGED,2017-08-14 12:59:55.000000000,2017-08-22 07:51:00.000000000,2017-08-22 07:51:00.000000000,34,9,5,493536,c6b0d8ff5a80bf87f49124d8d9e4621d157c51e1,55,16,3,2,11564,Chris Dent,chdent,"Reset client session when placement endpoint not found

If the report client is able to access keystone to get a service
catalog, but that catalog does not include a placement service (because
it hasn't been added to the catalog yet), creating resource providers
and other placement entities will fail. This is expected.

What's not expected is that creating entities will continue to fail for
quite some time, even if placement is added to the catalog. This is
because the keystone session caches the service catalog for some amount
of time.

Therefore we need to create a new client session when EndpointNotFound
happens. This has been added in this change by extracting creation of
the report client's _client to its own method that we can call from the
exception handler. The resource provider and aggregate maps are wiped at
this time, to make sure we are starting from a clean slate. While this
isn't likely to cause a problem in real life scenarios, in the manual
testing I was doing it created issues.

I've made the _client method synchronized so that in the unlikely event
that the resource tracker is trying to do its update job while some
other thing is happening, we won't waste the client. This may not be
necessary, but probably doesn't harm anything.

Change-Id: I02ac615dc26a4a0d1fd28a638f622777e41d14e4
Co-Authored-By: zhangzhenzhong <zzzhang0118@gmail.com>
Closes-Bug: #1697825
"
openstack%2Fironic~stable%2Fpike~Ib6c5a0543533893664cb3e895286d0e226e364d2,openstack/ironic,stable/pike,,Ib6c5a0543533893664cb3e895286d0e226e364d2,Wait for cleaning is completed after base smoke tests,MERGED,2017-08-18 04:36:43.000000000,2017-08-22 07:33:03.000000000,2017-08-20 21:53:41.000000000,25,4,0,494786,0fcb6691d9c532ef66f58ebe2dff13b4e05cf31e,14,5,1,1,11655,Julia Kreger,jkreger,"Wait for cleaning is completed after base smoke tests

Nova do not wait for cleaning is completed when deleting instance
as result after destroy phase ironic may still perform cleaning.
This patch ensures all nodes are available again after base smoke tests
finished and hypervisor stats are updated.

We still need to wait for resources after destroy phase which will be
done in separate patch as changes to grenade workflow are needed.

Change-Id: Ib6c5a0543533893664cb3e895286d0e226e364d2
(cherry picked from commit e3e7ecb6ac91170e37a4462c7612ae4ad4ca762d)
"
openstack%2Fpython-troveclient~master~If3197b0c70a9d94580265f944a813fdb2280f0c9,openstack/python-troveclient,master,,If3197b0c70a9d94580265f944a813fdb2280f0c9,Fix wrong links,NEW,2017-08-14 08:27:11.000000000,2017-08-22 07:30:23.000000000,,10,10,1,493480,c2fcdfe62487765cbf4eb370f295341f69ee4b1d,8,3,2,6,25067,yfzhao,yfzhao,"Fix wrong links

Some docs links have changed. We should update the wrong links in our codes.

Change-Id: If3197b0c70a9d94580265f944a813fdb2280f0c9
"
openstack%2Fopenstack-manuals~master~I703f6ee5cdd93263a8411ff89467aba2b49c663c,openstack/openstack-manuals,master,,I703f6ee5cdd93263a8411ff89467aba2b49c663c,Add redirect from resource-cluster to clustering,ABANDONED,2017-08-17 13:21:57.000000000,2017-08-22 07:15:05.000000000,,4,0,0,494543,6660b92a481020750a2aab105c735568f273a07e,4,2,1,1,2,Monty Taylor,mordred,"Add redirect from resource-cluster to clustering

The service-types-authority changed senlin's service-type to
resource-cluster a bit too eagerly. Make sure that any links to
resource-cluster that may have happened get sent back to the right
place.

Change-Id: I703f6ee5cdd93263a8411ff89467aba2b49c663c
"
openstack%2Fopenstack-ansible-plugins~stable%2Focata~I797d1213e53f3b115ca2952f379cd787913a7cb6,openstack/openstack-ansible-plugins,stable/ocata,python2-pyOpenSSL,I797d1213e53f3b115ca2952f379cd787913a7cb6,Backport pyOpenSSL bindep change from master,MERGED,2017-08-21 20:49:10.000000000,2017-08-22 07:14:36.000000000,2017-08-22 07:14:36.000000000,1,1,0,495979,aa0e9aa560b7c058f7fd95dec29e79c1148063c3,9,3,2,1,538,Major Hayden,rackerhacker,"Backport pyOpenSSL bindep change from master

Change-Id: I797d1213e53f3b115ca2952f379cd787913a7cb6
"
openstack%2Fheat~master~I366589c30626232771714394ed6d9353db6f04ba,openstack/heat,master,bug/1711445,I366589c30626232771714394ed6d9353db6f04ba,fix heat_keystoneclient config gen,MERGED,2017-08-17 19:56:01.000000000,2017-08-22 07:10:42.000000000,2017-08-22 02:54:07.000000000,2,2,4,494689,1d02822c0fb26188d12ae947dbe355d303c7e731,21,5,2,2,10608,Matthew Edmonds,edmondsw,"fix heat_keystoneclient config gen

This corrects the entrypoint for heat_keystoneclient so that
oslo-config-generator can find it.

Change-Id: I366589c30626232771714394ed6d9353db6f04ba
Closes-Bug: #1711445
"
openstack%2Fheat~master~I13daf3fd3a8ea40542aa31eebbc3df2db0f2b422,openstack/heat,master,cover-issues-in-releasenote,I13daf3fd3a8ea40542aa31eebbc3df2db0f2b422,Add release notes for heat,MERGED,2017-08-14 05:00:11.000000000,2017-08-22 07:09:21.000000000,2017-08-17 12:51:40.000000000,13,0,13,493423,df8401eaf1cef4555d4bc200af3ce57eaea07052,21,5,6,2,12404,Rico Lin,rico.lin,"Add release notes for heat

This patch add release note for know issue: identity federation
can't work with heat.
Also add release note for document migration.

Change-Id: I13daf3fd3a8ea40542aa31eebbc3df2db0f2b422
"
openstack%2Fnetworking-odl~master~I4bf0e13592b5bdf2c68e0c3f4de4382bf22a8abd,openstack/networking-odl,master,bug/1709580,I4bf0e13592b5bdf2c68e0c3f4de4382bf22a8abd,Use maintenance interval for maintenance task,MERGED,2017-08-17 10:56:45.000000000,2017-08-22 07:08:29.000000000,2017-08-17 19:36:57.000000000,4,10,0,494479,19effb3d39675aa650fa2aa097072081c13ff2a8,8,3,1,3,7921,Mike Kolesnik,mkolesni,"Use maintenance interval for maintenance task

Wrong interval was used due to refactor.

Also, removed interval being an optional parameter wince it doesn't
really make sense and is error prone.

Change-Id: I4bf0e13592b5bdf2c68e0c3f4de4382bf22a8abd
Closes-Bug: #1709580
"
openstack%2Fnetworking-odl~master~Ibea0a31893d3b99478061502b01b8dc290abe3a1,openstack/networking-odl,master,bug/1711081,Ibea0a31893d3b99478061502b01b8dc290abe3a1,Fix: tests were no longer avoiding journal calls,MERGED,2017-08-16 12:07:33.000000000,2017-08-22 07:08:14.000000000,2017-08-20 08:22:01.000000000,0,7,2,494178,60a0178765e4a97562b79c433ebe325e33b62d81,19,5,5,1,26507,Michel Peterson,mpeterson,"Fix: tests were no longer avoiding journal calls

When the journal periodic processor was moved to a worker [1] the method
_start_sync_timer was removed leading to V2DriverAdjustment [2] not
longer patching the periodic execution of the journal. However, this is
not needed anymore, as the workers are not started unless specifically
calling start() on them.

[1]: https://review.openstack.org/#/c/486606/
[2]:
https://review.openstack.org/gitweb?p=openstack/networking-odl.git;a=blob;f=networking_odl/tests/functional/base.py;h=be529f2f8e9359741c8a9ffb488ccedf96b232a4;hb=HEAD#l99

Change-Id: Ibea0a31893d3b99478061502b01b8dc290abe3a1
Closes-Bug: #1711081
"
openstack%2Fbarbican~master~I52ca0d42017d9730013267f078d24e08043873b5,openstack/barbican,master,revise-filename,I52ca0d42017d9730013267f078d24e08043873b5,Revise the filename in doc,ABANDONED,2017-08-21 09:25:16.000000000,2017-08-22 07:00:38.000000000,,1,1,3,495783,abdea45ffc64a38b4ba565ebcba7af5ebcbd490f,6,3,1,1,17645,Shan Guo,guoshan,"Revise the filename in doc

Change-Id: I52ca0d42017d9730013267f078d24e08043873b5
"
openstack%2Ftempest~master~I570218f617c49d710c24ecf0d5ca4211835ecaa8,openstack/tempest,master,unnecessary_value,I570218f617c49d710c24ecf0d5ca4211835ecaa8,[TrivialFix]Remove unnecessary value taking,MERGED,2017-08-21 07:17:56.000000000,2017-08-22 06:50:46.000000000,2017-08-22 06:50:46.000000000,2,3,0,495740,138d279c06433d9627b2097e81c3d08de093cc0f,21,6,1,2,20190,zhufl,zhufl,"[TrivialFix]Remove unnecessary value taking

This is to remove unnecessary value taking for code clean.

Change-Id: I570218f617c49d710c24ecf0d5ca4211835ecaa8
"
openstack%2Fironic~stable%2Fpike~I642a02cff2afe7f89b6800d69e14d05e04e6a59c,openstack/ironic,stable/pike,,I642a02cff2afe7f89b6800d69e14d05e04e6a59c,Add functional API tests for volume connector and volume target,MERGED,2017-08-18 04:36:05.000000000,2017-08-22 06:44:08.000000000,2017-08-20 22:06:39.000000000,615,1,0,494785,554c2dabfc45c6ee91fd6e3f6913f5849e17dbd8,21,4,1,4,11655,Julia Kreger,jkreger,"Add functional API tests for volume connector and volume target

Extend baremetal json client with volume connector and volume target.
Add basic positive tests for volume connector and volume target:

    test_create_volume_connector_error
    test_delete_volume_connector
    test_delete_volume_connector_error
    test_show_volume_connector
    test_list_volume_connectors
    test_list_with_limit
    test_update_volume_connector_replace
    test_update_volume_connector_replace_error
    test_update_volume_connector_remove_item
    test_update_volume_connector_remove_collection
    test_update_volume_connector_add

    test_create_volume_target_error
    test_delete_volume_target
    test_delete_volume_target_error
    test_show_volume_target
    test_list_volume_targets
    test_list_with_limit
    test_update_volume_target_replace
    test_update_volume_target_replace_error
    test_update_volume_target_remove_item
    test_update_volume_target_remove_collection
    test_update_volume_target_add

Change-Id: I642a02cff2afe7f89b6800d69e14d05e04e6a59c
Partial-bug: #1559691
(cherry picked from commit 74a126ab0eda334f9ca358ed0320226752d21e31)
"
openstack%2Fheat~master~I7cd2f7027705ec330bd0b2333c9145c5ec6598f0,openstack/heat,master,fix-urls,I7cd2f7027705ec330bd0b2333c9145c5ec6598f0,Update the documentation urls,ABANDONED,2017-08-22 06:22:52.000000000,2017-08-22 06:25:09.000000000,,15,16,0,496106,d0cb0d66b348707088231d04be9619003b287276,2,0,1,13,17954,Gao Zexu,gaozx,"Update the documentation urls

Change-Id: I7cd2f7027705ec330bd0b2333c9145c5ec6598f0
"
openstack%2Fkolla~stable%2Focata~I9195ecb2ab3d20714cb533496e914124c5933ad2,openstack/kolla,stable/ocata,ansible_logs,I9195ecb2ab3d20714cb533496e914124c5933ad2,Add openstack logs in deploy gates,MERGED,2017-08-21 08:01:26.000000000,2017-08-22 06:19:17.000000000,2017-08-22 06:19:17.000000000,9,0,0,495750,9f88948dcc27009755f2ded4d073b4a5d8466b1e,8,4,1,1,19316,Eduardo Gonzalez,egonzalez90,"Add openstack logs in deploy gates

Change-Id: I9195ecb2ab3d20714cb533496e914124c5933ad2
(cherry picked from commit 8410edc50dd82e6a37630cbcb0e1f7646acf8001)
"
openstack%2Fpython-muranoclient~master~Ia287c3202a3698790f8130cd87311b33aa92f5f2,openstack/python-muranoclient,master,bp/openstack-client-plugin-support,Ia287c3202a3698790f8130cd87311b33aa92f5f2,Add package update to openstack CLI,MERGED,2017-08-17 05:42:16.000000000,2017-08-22 06:11:43.000000000,2017-08-22 06:11:43.000000000,125,0,0,494379,54a1c605704b38e7421cb3f628c0710a67214ae7,14,5,2,3,14107,zhurong,zhurong,"Add package update to openstack CLI

usage: openstack package update [-h] [-f {json,shell,table,value,yaml}]
                                [-c COLUMN] [--max-width <integer>]
                                [--print-empty] [--noindent] [--prefix PREFIX]
                                [--is-public {true|false}]
                                [--enabled {true|false}] [--name NAME]
                                [--description DESCRIPTION]
                                [--tags [<TAG> [<TAG> ...]]]
                                <ID>

Update an existing package.

Partially implements: blueprint openstack-client-plugin-support

Change-Id: Ia287c3202a3698790f8130cd87311b33aa92f5f2
"
openstack%2Fironic~stable%2Fpike~I4082bbb9f8c09eaf4569317eb1387bf9a36ef254,openstack/ironic,stable/pike,,I4082bbb9f8c09eaf4569317eb1387bf9a36ef254,Enable OSProfiler support in Ironic - follow-up,MERGED,2017-08-18 04:35:02.000000000,2017-08-22 06:05:50.000000000,2017-08-20 22:06:23.000000000,20,11,0,494784,2a6b2169b6b070a5cf97eca0246e520a8d400f0b,20,7,1,2,11655,Julia Kreger,jkreger,"Enable OSProfiler support in Ironic - follow-up

Fixes nits, updates documentation and releasenotes.

This is a follow-up to commit 3773f17403bb02b372673643780b9619151d22ea.

Change-Id: I4082bbb9f8c09eaf4569317eb1387bf9a36ef254
Partial-Bug: #1560704
(cherry picked from commit 59cb133bf2cb83d738007666f29d690ebec9cf96)
"
openstack%2Fpython-cueclient~master~Ic255c135d6a1a611e60b42291568ba1c453ab5dc,openstack/python-cueclient,master,bug/1662058,Ic255c135d6a1a611e60b42291568ba1c453ab5dc,Add version info to cueclient module,ABANDONED,2017-02-14 09:21:17.000000000,2017-08-22 06:01:13.000000000,,20,2,0,433521,43e19247716cf6b088dbd1d79fe33162c933ce52,6,5,1,2,21797,liujiong,liujiong,"Add version info to cueclient module

According to PEP 396, the version of client library
should be set in xxxclient.__version__, that help
python-openstackclient command ""module list"" to get
the right plugin module versions.

Change-Id: Ic255c135d6a1a611e60b42291568ba1c453ab5dc
Related-Bug: #1662058
"
openstack%2Fwatcher-specs~master~Id55e9a74915ec0711a940efbaf9ae3c9b7731422,openstack/watcher-specs,master,link-fix,Id55e9a74915ec0711a940efbaf9ae3c9b7731422,fix broken link to old blueprint,MERGED,2017-08-18 13:15:24.000000000,2017-08-22 05:45:20.000000000,2017-08-22 05:45:20.000000000,1,1,0,495297,4d53b930472ea8311182b26e21b10c2bea84053d,8,3,1,1,2394,Adam Spiers,adam.spiers,"fix broken link to old blueprint

The reduce-power-consumption blueprint was split up into other
blueprints, of which add-power-on-off most closely matches this spec.

Change-Id: Id55e9a74915ec0711a940efbaf9ae3c9b7731422
"
openstack%2Fneutron-fwaas-dashboard~master~I4d6703c7cbad6ed0845d0605ecf494b0b3a8f154,openstack/neutron-fwaas-dashboard,master,flake8-import-order,I4d6703c7cbad6ed0845d0605ecf494b0b3a8f154,Use flake8-import-order plugin,MERGED,2017-08-19 07:40:04.000000000,2017-08-22 05:36:31.000000000,2017-08-22 05:36:31.000000000,7,1,0,495495,5a85b444d00e62b264349e8f4dc89425989758b6,8,3,1,3,841,Akihiro Motoki,amotoki,"Use flake8-import-order plugin

In reviews we usually check import grouping but it is boring.
By using flake8-import-order plugin, we can avoid this.
It enforces loose checking so it sounds good to use it.
This flake8 plugin is already used in tempest.

Note that flake8-import-order version is pinned to avoid unexpected
breakage of pep8 job.

Setup for unit tests of hacking rules is tweaked to disable
flake8-import-order checks. This extension assumes an actual file exists
and causes hacking rule unit tests.

application-import-names needs to be specified in tox.ini
to ensure application imports are placed after third-party imports.

Change-Id: I4d6703c7cbad6ed0845d0605ecf494b0b3a8f154
"
openstack%2Fironic~master~I64c3e471d55c2020204cf7a20e50c399e43eccf7,openstack/ironic,master,bug/1599425,I64c3e471d55c2020204cf7a20e50c399e43eccf7,Add the new capabilities to the iLO InspectInterface,MERGED,2017-01-19 22:41:52.000000000,2017-08-22 05:15:44.000000000,2017-08-21 14:05:18.000000000,103,9,99,422902,cdab37f6990f9c5aea68b82f723137bd0611cbb8,180,19,26,4,11297,Nisha Agarwal,Nisha,"Add the new capabilities to the iLO InspectInterface

This patch adds the new capabilities to iLO InspectInterface
as listed in the specification. It requires proliantutils
version >=2.4.0 for these new capabilities.

This patch also removes three capabilities keys from
iLO InspectInterface - ``max_raid_level``, ``BootMode``, and
``sr_iov_devices``.
max_raid_level - It cannot be discovered out-of-band using
proliantutils. The capability is set during RAID configuration
as ``raid_level`` instead.
sr_iov_devices - It cannot be discovered out-of-band. Required
Inband mechanism to discover this.
BootMode - This capability required Nova to change as the value
was supposed to be a list of supported boot modes on the system.
Nova asked to implement the Boolean capabilities instead.

Partial-Bug: 1599425

Change-Id: I64c3e471d55c2020204cf7a20e50c399e43eccf7
"
openstack%2Fheat~master~Ia6e2eb38d0f73280627b15216296b1992b4d977f,openstack/heat,master,bug/1621880,Ia6e2eb38d0f73280627b15216296b1992b4d977f,added api version v3 to auth_uri in ec2authtoken,ABANDONED,2016-09-10 07:16:01.000000000,2017-08-22 04:31:35.000000000,,3,3,1,368301,d0e0ac7914c63e561462602eb266e04be92b5dd1,19,6,4,3,15685,Praveen N,praveen,"added api version v3 to auth_uri in ec2authtoken

Change-Id: Ia6e2eb38d0f73280627b15216296b1992b4d977f
Closes-Bug: #1621880
Closes-Bug: #1705664"
openstack%2Fironic~stable%2Fpike~I2985cdcd1f8936d8b182c486d27ab89d8674eb1e,openstack/ironic,stable/pike,create-pike,I2985cdcd1f8936d8b182c486d27ab89d8674eb1e,Update .gitreview for stable/pike,MERGED,2017-08-17 14:31:16.000000000,2017-08-22 04:25:25.000000000,2017-08-18 04:54:25.000000000,1,0,0,494578,81f62b8c37b205b6df328194b1f197dd71c4dc41,18,7,2,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/pike

Change-Id: I2985cdcd1f8936d8b182c486d27ab89d8674eb1e
"
openstack%2Fironic~master~Ie4549fe437c0a2b06a7d5e2dc0725d0990ed6d67,openstack/ironic,master,bug/1703945,Ie4549fe437c0a2b06a7d5e2dc0725d0990ed6d67,Add 'force_persistent_boot_device' to pxe props,MERGED,2017-08-18 00:46:07.000000000,2017-08-22 04:24:49.000000000,2017-08-21 18:24:21.000000000,15,5,0,494751,43b53ab28f0867db94be5f26ab2444d52f66d1ea,23,8,1,3,6618,Ruby Loo,rloo,"Add 'force_persistent_boot_device' to pxe props

Adds 'force_persistent_boot_device' to the pxe driver/interface's
list of properties.  This property was added as part of commit
049fd407196c0eb5846f5ff63f2cbc482afa4d89.

Change-Id: Ie4549fe437c0a2b06a7d5e2dc0725d0990ed6d67
Related-Bug: 1703945
"
openstack%2Fpython-muranoclient~master~I4373469a98f11194eb9d3dfe78898eef0bd36c3d,openstack/python-muranoclient,master,bp/openstack-client-plugin-support,I4373469a98f11194eb9d3dfe78898eef0bd36c3d,Add package show to openstack CLI,MERGED,2017-08-16 14:30:47.000000000,2017-08-22 04:11:27.000000000,2017-08-22 04:11:27.000000000,67,0,0,494226,2fbfc68f8ac49f0f3449f80cb92eb3ef1e23721d,23,5,5,3,14107,zhurong,zhurong,"Add package show to openstack CLI

usage: openstack package show [-h] [-f {json,shell,table,value,yaml}]
                              [-c COLUMN] [--max-width <integer>]
                              [--fit-width] [--print-empty] [--noindent]
                              [--prefix PREFIX]
                              <ID>

Display details for a package.

Partially implements: blueprint openstack-client-plugin-support

Change-Id: I4373469a98f11194eb9d3dfe78898eef0bd36c3d
"
openstack%2Fkolla~master~I52778e86e4f2c297ead8d4b09983e5e38ca88c70,openstack/kolla,master,bug/1710874,I52778e86e4f2c297ead8d4b09983e5e38ca88c70,"Implement tacker-conductor image, rework all tacker",MERGED,2017-06-26 11:06:49.000000000,2017-08-22 03:56:20.000000000,2017-08-22 03:56:20.000000000,129,59,5,477494,7b2dea5506375cb868d6acb6a99b0aca916fad6c,22,5,6,9,19316,Eduardo Gonzalez,egonzalez90,"Implement tacker-conductor image, rework all tacker

Tacker is broken in pike without conductor images.
Conductor is needed to communicate with mistral for
VIM monitoring
This change rework tacker image to allow tacker-conductor
service image.
Split tacker global image into tacker-server and tacker-conductor.

Closes-Bug: #1710874
Change-Id: I52778e86e4f2c297ead8d4b09983e5e38ca88c70
"
openstack%2Fsolum~master~I531d510608285c126af29bdfd2eb06b4f9917921,openstack/solum,master,openstack/requirements,I531d510608285c126af29bdfd2eb06b4f9917921,Updated from global requirements,MERGED,2017-08-22 00:48:21.000000000,2017-08-22 03:21:02.000000000,2017-08-22 03:21:02.000000000,1,1,0,496045,3ae14162496c2157b3b089ab0ac233035cc141a0,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I531d510608285c126af29bdfd2eb06b4f9917921
"
openstack%2Fkolla~stable%2Focata~I989e5d71b5ba4d036dd45c02b3923c5bf27a04ed,openstack/kolla,stable/ocata,,I989e5d71b5ba4d036dd45c02b3923c5bf27a04ed,Remove all Heka related remaining stuff,MERGED,2017-08-05 09:17:00.000000000,2017-08-22 03:04:45.000000000,2017-08-22 03:04:45.000000000,1,33,0,491169,89864c581834aaf9ba6269d5154739ca1deeb33d,27,7,2,7,7488,Jeffrey Zhang,Jeffrey4l,"Remove all Heka related remaining stuff

Heka has been removed and replaced by fluentd.
Refer to https://review.openstack.org/#/c/437874/

Change-Id: I989e5d71b5ba4d036dd45c02b3923c5bf27a04ed
(cherry picked from commit c71e8ba8ffecad82b3c959e8eff84ff9b152a577)
"
openstack%2Fdevstack-plugin-amqp1~master~Ide34cdc797e2715dfbfe57105124e898645f3511,openstack/devstack-plugin-amqp1,master,,Ide34cdc797e2715dfbfe57105124e898645f3511,WIP set oslo_messaging_notifications driver for rabbit,ABANDONED,2017-08-18 09:18:36.000000000,2017-08-22 02:47:10.000000000,,1,0,0,495128,d462b4f768201b5f4cbda3b435afbe18df1e8c3e,4,2,1,1,8833,Rabi Mishra,rabi,"WIP set oslo_messaging_notifications driver for rabbit

When using AMQP_NOTIFY=='rabbit' set the driver. The default is [].

Change-Id: Ide34cdc797e2715dfbfe57105124e898645f3511
"
openstack%2Fzun-ui~master~I455697fec4f25596f0a4194ca49bd2d94be8a0ee,openstack/zun-ui,master,zanata/translations,I455697fec4f25596f0a4194ca49bd2d94be8a0ee,Imported Translations from Zanata,MERGED,2017-08-17 10:18:56.000000000,2017-08-22 02:37:27.000000000,2017-08-22 02:37:27.000000000,24,0,0,494466,c5436a9cf42405ba3520c861b6c5498a0e1356e9,12,3,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I455697fec4f25596f0a4194ca49bd2d94be8a0ee
"
openstack%2Fzaqar-ui~master~Ib3297386acfdac2fcae68b43a75e8aad9ab12144,openstack/zaqar-ui,master,openstack/requirements,Ib3297386acfdac2fcae68b43a75e8aad9ab12144,Updated from global requirements,MERGED,2017-08-18 04:55:15.000000000,2017-08-22 02:35:04.000000000,2017-08-22 02:35:04.000000000,2,2,0,494943,9fb97273210251d63ac18068ea9cf0428a09841c,8,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Ib3297386acfdac2fcae68b43a75e8aad9ab12144
"
openstack%2Fui-cookiecutter~master~I14f1a93c35aca547bad2f4b8c6f984f4b5714ca9,openstack/ui-cookiecutter,master,py35,I14f1a93c35aca547bad2f4b8c6f984f4b5714ca9,Bump python support from 3.4 to 3.5,MERGED,2017-08-08 07:51:58.000000000,2017-08-22 02:34:42.000000000,2017-08-22 02:34:42.000000000,2,2,0,491707,ebc1e2f2db951f9532ed64c1da9b5e7d84009762,6,2,1,2,16352,Shu Muto,shu.mutow,"Bump python support from 3.4 to 3.5

Change-Id: I14f1a93c35aca547bad2f4b8c6f984f4b5714ca9
"
openstack%2Fui-cookiecutter~master~Ic4b087708a8cd170737736ef44d2da0d664751bc,openstack/ui-cookiecutter,master,fix-eslint-error,Ic4b087708a8cd170737736ef44d2da0d664751bc,Fix errors on eslint,MERGED,2017-08-08 08:23:09.000000000,2017-08-22 02:34:30.000000000,2017-08-22 02:34:30.000000000,15,16,0,491713,0fda3714ea7a6da5a08d92158f8354e6463b56ea,6,2,1,5,16352,Shu Muto,shu.mutow,"Fix errors on eslint

Warnings about ""fixme"" are needed to customize for developer.
So the warnings are left.

Change-Id: Ic4b087708a8cd170737736ef44d2da0d664751bc
"
openstack%2Fsenlin-dashboard~master~I0e38b72a580e8c2317a8901f190410f23d3286f1,openstack/senlin-dashboard,master,openstack/requirements,I0e38b72a580e8c2317a8901f190410f23d3286f1,Updated from global requirements,MERGED,2017-08-18 11:43:22.000000000,2017-08-22 02:32:36.000000000,2017-08-22 02:32:36.000000000,1,1,0,495275,6d94de4a6293e9e14f6ec4a86218e183411cb7b2,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I0e38b72a580e8c2317a8901f190410f23d3286f1
"
openstack%2Fsenlin-dashboard~master~Id0dc24907b7b5fc0191cfc6a58b902ee313a8b55,openstack/senlin-dashboard,master,,Id0dc24907b7b5fc0191cfc6a58b902ee313a8b55,Modify the '.gitignore' file,MERGED,2017-08-18 09:46:14.000000000,2017-08-22 02:31:26.000000000,2017-08-22 02:31:26.000000000,0,1,0,495145,0311a11f82618854a2326f8c664c9240087d8364,7,3,1,1,14151,ziyu032,ziyu032,"Modify the '.gitignore' file

Since the horizon remove the 'run_tests.sh' file,
so there should remove '.venv' from the '.gitignore' file.
See the patch 'https://review.openstack.org/#/c/399842/'

Change-Id: Id0dc24907b7b5fc0191cfc6a58b902ee313a8b55
"
openstack%2Fsenlin-dashboard~master~I63c7c7c287e16b3a1a346ddbdd9a136e65949101,openstack/senlin-dashboard,master,,I63c7c7c287e16b3a1a346ddbdd9a136e65949101,Enable some off-by-default checks,MERGED,2017-06-23 02:59:26.000000000,2017-08-22 02:30:37.000000000,2017-08-22 02:30:37.000000000,1,0,0,476754,5338b51055c9aa1abf68ffa1acf7fc49fa6593a5,7,3,1,1,25225,lan,blue55,"Enable some off-by-default checks

Some of the available checks are disabled by default, like:
[H106] Donâ€™t put vim configuration in source files
[H203] Use assertIs(Not)None to check for None

Change-Id: I63c7c7c287e16b3a1a346ddbdd9a136e65949101
"
openstack%2Fironic~master~I642a02cff2afe7f89b6800d69e14d05e04e6a59c,openstack/ironic,master,bug/1526231,I642a02cff2afe7f89b6800d69e14d05e04e6a59c,Add functional API tests for volume connector and volume target,MERGED,2017-06-13 07:29:08.000000000,2017-08-22 02:25:12.000000000,2017-08-19 11:31:37.000000000,615,1,115,473717,74a126ab0eda334f9ca358ed0320226752d21e31,222,17,21,4,19853,Nguyen Hung Phuong,phuongnh,"Add functional API tests for volume connector and volume target

Extend baremetal json client with volume connector and volume target.
Add basic positive tests for volume connector and volume target:

    test_create_volume_connector_error
    test_delete_volume_connector
    test_delete_volume_connector_error
    test_show_volume_connector
    test_list_volume_connectors
    test_list_with_limit
    test_update_volume_connector_replace
    test_update_volume_connector_replace_error
    test_update_volume_connector_remove_item
    test_update_volume_connector_remove_collection
    test_update_volume_connector_add

    test_create_volume_target_error
    test_delete_volume_target
    test_delete_volume_target_error
    test_show_volume_target
    test_list_volume_targets
    test_list_with_limit
    test_update_volume_target_replace
    test_update_volume_target_replace_error
    test_update_volume_target_remove_item
    test_update_volume_target_remove_collection
    test_update_volume_target_add

Change-Id: I642a02cff2afe7f89b6800d69e14d05e04e6a59c
Partial-bug: #1559691
"
openstack%2Fzun~master~I4a1e0331f67e9880a17b83e56773ce806bb86bb1,openstack/zun,master,openstack/requirements,I4a1e0331f67e9880a17b83e56773ce806bb86bb1,Updated from global requirements,MERGED,2017-08-22 00:50:16.000000000,2017-08-22 02:21:04.000000000,2017-08-22 02:21:04.000000000,1,1,0,496046,bd0d0de76104c26c4f89a4b0dd365940d8919d81,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I4a1e0331f67e9880a17b83e56773ce806bb86bb1
"
openstack%2Fcloudkitty~master~I0e776575ce5948aad8c43d1e874cc2f36637b8d8,openstack/cloudkitty,master,doc-migration,I0e776575ce5948aad8c43d1e874cc2f36637b8d8,Update the documentation link for doc migration,ABANDONED,2017-07-23 03:47:03.000000000,2017-08-22 01:42:49.000000000,,3,3,0,486363,231b279ca4713ebf26e1e6cc28be42b8cab4db03,4,1,1,2,19779,Chason Chan,chenxing,"Update the documentation link for doc migration

Change-Id: I0e776575ce5948aad8c43d1e874cc2f36637b8d8
"
openstack%2Fzun-ui~master~I7347f0a5ab5a0becbf20e52387c4061c9504a5d5,openstack/zun-ui,master,openstack/requirements,I7347f0a5ab5a0becbf20e52387c4061c9504a5d5,Updated from global requirements,MERGED,2017-08-18 04:55:21.000000000,2017-08-22 01:29:29.000000000,2017-08-22 01:29:29.000000000,2,2,0,494945,09b6d54dd2a39f63d13507f8034cd6db5956e4e4,11,3,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I7347f0a5ab5a0becbf20e52387c4061c9504a5d5
"
openstack%2Ffuel-web~master~Ia40c301868d7034c4af34848e15aef2744404ff8,openstack/fuel-web,master,,Ia40c301868d7034c4af34848e15aef2744404ff8,Replace uuid.uuid4() with uuidutils.generate_uuid(),ABANDONED,2017-07-20 09:30:57.000000000,2017-08-22 01:29:18.000000000,,44,44,0,485514,ca4df61ca99016ef7f5a38b046e23898572cf52e,22,3,1,8,25571,Rajat Sharma,rajat29,"Replace uuid.uuid4() with uuidutils.generate_uuid()

Openstack common has a wrapper for generating uuids.
We should use that function to generate uuids for consistency.

Change-Id: Ia40c301868d7034c4af34848e15aef2744404ff8
"
openstack%2Fopenstack-ansible~stable%2Focata~Ie17b0154caa8851d99f0881e8596a7c39350bbe2,openstack/openstack-ansible,stable/ocata,pip-install-repeat,Ie17b0154caa8851d99f0881e8596a7c39350bbe2,Remove repeated pip_install role execution,MERGED,2017-08-19 01:06:58.000000000,2017-08-22 01:28:19.000000000,2017-08-22 01:28:19.000000000,0,6,0,495469,289c2fb975cd81d460c9672e9218a5bad1a458b5,11,3,1,2,6816,Jesse Pretorius,jesse-pretorius,"Remove repeated pip_install role execution

In the galera playbook, the pip_install role
is executed, then the galera_server role. The
galera_server role has a meta-dependency on
galera_client, which in turn has a
meta-dependency on pip_install. This results in
the pip_install role being run twice.

In the utility playbook, the galera_client role
is executed, then the pip_install role. The
galera_client role has a meta-dependency on
pip_install. This results in the pip_install
role being run twice.

This patch removes the duplicated executions of
the pip_install roles from these two playbooks.

Change-Id: Ie17b0154caa8851d99f0881e8596a7c39350bbe2
(cherry picked from commit 303e4e83740812287946b97e256577a441fee99c)
"
openstack%2Fironic~stable%2Fpike~Ie332a5adebfc229a79663c771c9f4409174dd8c9,openstack/ironic,stable/pike,,Ie332a5adebfc229a79663c771c9f4409174dd8c9,Add 'hardware type' for Dell EMC iDRACs,MERGED,2017-08-17 23:14:25.000000000,2017-08-22 01:28:08.000000000,2017-08-21 11:17:19.000000000,110,0,0,494737,ccbcd9f52029a3ef7626636a9fbda17615eadb8b,16,7,1,4,11655,Julia Kreger,jkreger,"Add 'hardware type' for Dell EMC iDRACs

The ironic project is engaged in a driver composition reform [0] which
introduces dynamic drivers. That reform places hardware vendors in
charge of defining a new form of drivers for their hardware. The new
form is called 'hardware type'. The reform will deprecate [1] the
existing ironic drivers, which are now referred to as 'classic drivers'.

This change adds a single new 'hardware type', 'idrac', for servers
controlled by Dell EMC integrated Dell Remote Access Controllers
(iDRAC).

[0]
http://specs.openstack.org/openstack/ironic-specs/specs/7.0/driver-composition-reform.html
[1]
http://specs.openstack.org/openstack/ironic-specs/specs/not-implemented/classic-drivers-future.html

Change-Id: Ie332a5adebfc229a79663c771c9f4409174dd8c9
Closes-Bug: #1705741
Related-Bug: #1676387
(cherry picked from commit 22e716d9808725efea18b8236dd4fe1616d754f2)
"
openstack%2Frequirements~master~I723ffb7d96f2f37956a5f2200d4653220928cb43,openstack/requirements,master,bug/1703698,I723ffb7d96f2f37956a5f2200d4653220928cb43,Raise pyroute2 minimum to 0.4.19,MERGED,2017-08-07 23:46:13.000000000,2017-08-22 01:03:28.000000000,2017-08-22 01:03:28.000000000,1,1,1,491634,8078fcf63f279ca773cc967c907a94677a5505c2,29,7,5,1,11536,hongbin,hongbin,"Raise pyroute2 minimum to 0.4.19

It was reported that 0.4.18 has a bug [1] that prevents
kuryr-libnetwork plugin to work. It is confirmed that
the bug was fixed in 0.4.19. The details could be found
in: https://bugs.launchpad.net/kuryr-libnetwork/+bug/1703698

[1] https://github.com/svinota/pyroute2/issues/241

Change-Id: I723ffb7d96f2f37956a5f2200d4653220928cb43
Related-Bug: #1703698
"
openstack%2Fopenstack-ansible~stable%2Fnewton~Ie17b0154caa8851d99f0881e8596a7c39350bbe2,openstack/openstack-ansible,stable/newton,pip-install-repeat,Ie17b0154caa8851d99f0881e8596a7c39350bbe2,Remove repeated pip_install role execution,MERGED,2017-08-19 01:07:42.000000000,2017-08-22 00:46:26.000000000,2017-08-22 00:46:26.000000000,0,6,0,495471,6c0907e72cb3f0aa939363a234d5a2aaf7f43941,11,3,1,2,6816,Jesse Pretorius,jesse-pretorius,"Remove repeated pip_install role execution

In the galera playbook, the pip_install role
is executed, then the galera_server role. The
galera_server role has a meta-dependency on
galera_client, which in turn has a
meta-dependency on pip_install. This results in
the pip_install role being run twice.

In the utility playbook, the galera_client role
is executed, then the pip_install role. The
galera_client role has a meta-dependency on
pip_install. This results in the pip_install
role being run twice.

This patch removes the duplicated executions of
the pip_install roles from these two playbooks.

Change-Id: Ie17b0154caa8851d99f0881e8596a7c39350bbe2
(cherry picked from commit 303e4e83740812287946b97e256577a441fee99c)
"
openstack%2Fmanila~master~I6133d46c4e3f03cb508d34363fb5fa0e91de9657,openstack/manila,master,bug/1711978,I6133d46c4e3f03cb508d34363fb5fa0e91de9657,Update release note html theme,ABANDONED,2017-08-21 02:04:36.000000000,2017-08-22 00:42:47.000000000,,3,2,0,495671,c5853a63a0fe8d91e3bb509e1aab10bc1ad1e8ae,13,11,1,1,25456,junboli,junboli,"Update release note html theme

Pike has been release, but the release note html theme still keep the
old version, it needs to be updated.
This change is to update it as well as add the update time.

Change-Id: I6133d46c4e3f03cb508d34363fb5fa0e91de9657
Closes-bug: #1711978
"
openstack%2Fironic~stable%2Fpike~Ib2c9b7f9f780aaf5f6345825b1f6c9ddb4f9c41f,openstack/ironic,stable/pike,,Ib2c9b7f9f780aaf5f6345825b1f6c9ddb4f9c41f,Fix DRAC classic driver double manage/provide,MERGED,2017-08-17 23:14:25.000000000,2017-08-22 00:36:37.000000000,2017-08-20 21:51:46.000000000,119,159,0,494736,8d63821bdd6df30d0a015cf427b42432e7a2603c,18,7,1,6,11655,Julia Kreger,jkreger,"Fix DRAC classic driver double manage/provide

This change fixes an issue that caused a node using a Dell EMC
integrated Dell Remote Access Controller (iDRAC) classic driver,
'pxe_drac' or 'pxe_drac_inspector', to be placed in the 'clean failed'
state after a double manage/provide cycle, instead of the 'available'
state.

The deploy interface implementation used by iDRAC classic drivers has
been class ironic.drivers.modules.drac.deploy.DracDeploy, which is
derived from class ironic.drivers.modules.iscsi_deploy.ISCSIDeploy. The
only difference between them is that DracDeploy overrides the
prepare_cleaning() method to prevent the booting of the Ironic Python
Agent (IPA) ramdisk when only out-of-band RAID clean steps are
requested. However, it caused the issue and did not have its intended
effect, because Ironic Conductor boots the ramdisk regardless. The
Ironic Conductor should be modified to preclude the booting of the IPA
ramdisk fix, rather than leaving it to individual drivers.

The iDRAC classic drivers' deploy interface implementation has been
changed to ISCSIDeploy. Since class DracDeploy is no longer needed, its
source code and automated tests have been removed.

Change-Id: Ib2c9b7f9f780aaf5f6345825b1f6c9ddb4f9c41f
Closes-Bug: #1676387
Related-Bug: #1572529
Related-Bug: #1705741
(cherry picked from commit f049eae3fc6aadab69d9d9faf9de89bb1f7e4f38)
"
openstack%2Ftripleo-quickstart-extras~master~I1dd4d6fa0629d498c4f0d30da33ff49844ca4068,openstack/tripleo-quickstart-extras,master,initramfs,I1dd4d6fa0629d498c4f0d30da33ff49844ca4068,Support initramfs images in modify-image role,MERGED,2017-07-03 16:54:41.000000000,2017-08-22 00:29:28.000000000,2017-08-21 21:02:41.000000000,55,35,1,479896,3978e820429c900fa3b72959892c75e2af9025ab,85,8,9,1,10969,Shnaidman Sagi (Sergey),sergsh,"Support initramfs images in modify-image role

Add support for initramfs images in modify-image role for
updating packages in CI in ironic-python-agent image.

Change-Id: I1dd4d6fa0629d498c4f0d30da33ff49844ca4068
"
openstack%2Frequirements~master~Id68954c46de553279215fb130bccbf40c569a614,openstack/requirements,master,,Id68954c46de553279215fb130bccbf40c569a614,Require docker to be 2.4.2,MERGED,2017-08-04 13:43:34.000000000,2017-08-22 00:27:47.000000000,2017-08-22 00:27:47.000000000,1,1,4,490870,d42162030aa6935b7648f0b1310eb49872741b1b,15,6,2,1,10206,Madhuri Kumari,Madhuri,"Require docker to be 2.4.2

We need the ``runtime`` option in container_create API
to support multiple container runtimes like runc and
clear container which was introduced in 2.4.2, so we
require 2.4.2 or newer.

Change-Id: Id68954c46de553279215fb130bccbf40c569a614
"
openstack%2Fproject-config~master~I6bd3d83ed1858f9b648e0314cd4f0d0b76441d6b,openstack/project-config,master,bp/test-v3-volume-api-only,I6bd3d83ed1858f9b648e0314cd4f0d0b76441d6b,Test v3 volume RBAC tests only,ABANDONED,2017-08-21 22:29:06.000000000,2017-08-22 00:20:38.000000000,,8,3,0,496029,33c5dc98bb97fa8ad5ebb1902212d9114f53ad5c,5,2,1,1,23186,Felipe Monteiro,felipe.monteiro,"Test v3 volume RBAC tests only

The regex for each DEVSTACK_TEMPEST_REGEX includes positive lookahead

    (?=(.*volume.*V3RbacTest)|.*(compute|network|identity|image))

in order to only test the v3 volume RBAC tests in the gates.
That is because v3 API is current and v2 is deprecated.

Further, the v3 API pretty much is identical to the v2 API RBAC-wise
so it is not very meaningful subject both to gate testing, particularly
because many volume tests are expensive. Relevant IRC discussion here:

http://eavesdrop.openstack.org/irclogs/%23openstack-qa/%23openstack-qa.2017-08-21.log.html#t2017-08-21T21:18:19

Depends-On: I443dfb8e1032ff327f03eb8e8b257df124ad6180
Partially Implements: blueprint test-v3-volume-api-only

Change-Id: I6bd3d83ed1858f9b648e0314cd4f0d0b76441d6b
"
openstack%2Fnova~stable%2Fnewton~Ic62478e22a7477cfaefac3e63c383082d66bd635,openstack/nova,stable/newton,bug/1689284,Ic62478e22a7477cfaefac3e63c383082d66bd635,Catch exception.OverQuota when create image for volume backed instance,MERGED,2017-05-24 01:56:00.000000000,2017-08-22 00:14:10.000000000,2017-08-21 19:07:14.000000000,19,4,0,467441,5448a44c703c96d38ebfaf768214bf0600364c5b,58,13,4,2,15888,Zhenyu Zheng,Kevin_Zheng,"Catch exception.OverQuota when create image for volume backed instance

When create image for a volume backed instance, nova will
create snapshots for all volumes attached to the instance
in Cinder, and if quota exceed in Cinder, HTTP 500 will
raise, we should capture this error and raise 403.

Conflicts:
      nova/tests/unit/api/openstack/compute/test_server_actions.py

NOTE(mriedem): The conflict is due to the tests being refactored
to not use mox in Ocata: 612134ca7bd972e5cbd0d149ab1b45b2ec51ad49

Change-Id: Ic62478e22a7477cfaefac3e63c383082d66bd635
Closes-Bug: #1689284
(cherry picked from commit 29c8ae3cd9653b310c3fac803e6295e5fa885d15)
(cherry picked from commit 1b59d60f9520c7a1992a5753517e472f6dd8b85d)
"
openstack%2Fnova~stable%2Fpike~Iac833503b57386ab91fa86f8c48f0dd8039e5922,openstack/nova,stable/pike,bp/doc-migration,Iac833503b57386ab91fa86f8c48f0dd8039e5922,doc: Address review comments for main index,MERGED,2017-08-21 20:42:45.000000000,2017-08-22 00:09:55.000000000,2017-08-22 00:09:55.000000000,18,12,0,495977,c8342b08e713d70671f3deb592a39e20ab6b72f6,11,3,1,1,6873,Matt Riedemann,mriedem,"doc: Address review comments for main index

Per comments in I6815958b2533d462a2e5d27e7be57440d9f4f40a and
I5fdafd9f6cf07a19bf86a6343663dad410887dcb.

Part of bp: doc-migration

Change-Id: Iac833503b57386ab91fa86f8c48f0dd8039e5922
(cherry picked from commit d2d57acbf59d04f7cc9c7a7ee34d5b2a8be3be1a)
"
openstack%2Fnova~stable%2Fnewton~I5997000a0ba6341c4987405cdc0760c3b471bd59,openstack/nova,stable/newton,bug/1685185,I5997000a0ba6341c4987405cdc0760c3b471bd59,libvirt: Always disconnect_volume after rebase failures,MERGED,2017-04-27 10:01:00.000000000,2017-08-22 00:08:28.000000000,2017-08-22 00:08:28.000000000,89,9,3,460482,8fb411c9b2af9bb5fef3cc272517c54bab821cd4,49,15,4,3,10135,Lee Yarwood,lyarwood,"libvirt: Always disconnect_volume after rebase failures

Previously failures when rebasing onto a new volume would leave the
volume connected to the compute host. For some volume backends such as
iSCSI the subsequent call to terminate_connection would then result in
leftover devices remaining on the host.

This change simply catches any error associated with the rebase and
ensures that disconnect_volume is called for the new volume prior to
terminate_connection finally being called.

NOTE(lyarwood): Conflict caused by MIN_LIBVIRT_VERSION being 1.2.1 in
stable/ocata making I81c32bbea0f04ca876f2078ef2ae0e1975473584
unsuitable. The is_job_complete polling loop removed by that change in
master is now moved into the try block of this change ensuring we catch
any errors that might be thrown while waiting for the async pivot. The
log.exception message also requires translation in Ocata.

Conflicts:
        nova/virt/libvirt/driver.py

Change-Id: I5997000a0ba6341c4987405cdc0760c3b471bd59
Closes-bug: #1685185
(cherry picked from commit 809065485c19fd535db6740bb21b867c41c008fe)
(cherry picked from commit fbcf8d673342570a1518dbf8d88f289c2c39cd30)
"
openstack%2Fpuppet-tripleo~master~I2b5567a39ac8737e80758b705818cc1807dc8bf1,openstack/puppet-tripleo,master,bp/nfs-ganesha,I2b5567a39ac8737e80758b705818cc1807dc8bf1,Do not create fs and server side key from manila,MERGED,2017-07-11 10:25:07.000000000,2017-08-21 23:55:32.000000000,2017-08-21 23:55:32.000000000,5,28,6,482501,897d594633210379f32f234854dde687a7a77f8c,64,6,8,2,7582,Jan Provaznik,jprovazn,"Do not create fs and server side key from manila

Both fs and key are handled by ceph-ansible, move fs and key
creation out of manila manifest to assure that it works with and
without ceph-ansbile.

Client-side manila key is created from ceph-mds and ceph-external
templates in I6308a317ffe0af244396aba5197c85e273e69f68.

Depends-On: I6308a317ffe0af244396aba5197c85e273e69f68
Partially-Implements: blueprint nfs-ganesha
Change-Id: I2b5567a39ac8737e80758b705818cc1807dc8bf1
"
openstack%2Fproject-config~master~Ic087b3816c40dbc12d1f74f2b3116938e788f287,openstack/project-config,master,fedora26-py3,Ic087b3816c40dbc12d1f74f2b3116938e788f287,Add py36 devstack up/down job for Fedora 26,MERGED,2017-08-21 01:51:07.000000000,2017-08-21 23:50:52.000000000,2017-08-21 23:50:52.000000000,65,5,4,495670,bf988b0987256ccdc578f331bf8140e829088315,13,5,2,3,7118,Ian Wienand,iwienand,"Add py36 devstack up/down job for Fedora 26

Add a py36 devstack up/down and use Fedora 26.  Add it to the
experimental queue.

Change-Id: Ic087b3816c40dbc12d1f74f2b3116938e788f287
"
openstack%2Fproject-config~master~I04fab592032621325f8638680fc5c842f316684a,openstack/project-config,master,py36,I04fab592032621325f8638680fc5c842f316684a,Add Python 3.6 tox jobs,MERGED,2017-08-21 04:09:48.000000000,2017-08-21 23:47:03.000000000,2017-08-21 23:47:03.000000000,34,0,0,495728,5fe3ba95616136709a319ae1cd3beda38a299a13,10,4,2,4,7118,Ian Wienand,iwienand,"Add Python 3.6 tox jobs

Add a sample python 3.6 job running on a Fedora 26 node.

Create the job macros and definitions for a Python 3.6 job running on
Fedora 26.  Add to the low-turnover bashate project so we can run some
tests on a real project.

At this point, I have not templated it out futher.  We could add it to
templates like python-jobs and create groups in zuul/layout.yaml to
make it eaiser if required.

Change-Id: I04fab592032621325f8638680fc5c842f316684a
"
openstack%2Fneutron-fwaas-dashboard~master~Id348322bbc0bb134d7e6da1d2f91ec9a1c4ddfe7,openstack/neutron-fwaas-dashboard,master,docs-fix,Id348322bbc0bb134d7e6da1d2f91ec9a1c4ddfe7,doc: remove symlink for releasenotes,MERGED,2017-08-21 10:07:25.000000000,2017-08-21 23:45:41.000000000,2017-08-21 23:45:40.000000000,1,19,0,495803,ac4c93bfe1a824f20077878adac08f17901392ef,8,3,1,2,841,Akihiro Motoki,amotoki,"doc: remove symlink for releasenotes

Currently we have a symlink to releasenotes directory in doc/source,
but this confuses the infra translation script and as a result
Zanata (translation platform) has two 'releasenotes' resources
for neutron-fwaas-dashboard. We can use a direct URL in toctree,
so this commit changes the URL of releasenotes in the toctree
to avoid confusing the infra translation script.

It also simplifies the document index page. Previously we have
same strings for title and toctree. This is meaningless.
If we have more contents in future, let's revisit the structure
of the top page.

Change-Id: Id348322bbc0bb134d7e6da1d2f91ec9a1c4ddfe7
"
openstack%2Fironic~master~Idad9bba8b5466bf2fed4a17772f43847475a6f02,openstack/ironic,master,,Idad9bba8b5466bf2fed4a17772f43847475a6f02,devstack: Remove unused variable IRONIC_VM_NETWORK_RANGE,MERGED,2017-08-17 22:49:01.000000000,2017-08-21 23:38:10.000000000,2017-08-21 22:40:12.000000000,0,1,0,494731,68e600bb54ab187694bb68f86de6688b42364b62,15,4,1,1,14760,John L. Villalovos,jlvillal,"devstack: Remove unused variable IRONIC_VM_NETWORK_RANGE

IRONIC_VM_NETWORK_RANGE is not used anywhere in the code. A search
using:
 http://codesearch.openstack.org/?q=IRONIC_VM_NETWORK_RANGE&i=nope&files=&repos=

Only found this one instance we are deleting.

Change-Id: Idad9bba8b5466bf2fed4a17772f43847475a6f02
"
openstack%2Fopenstack-ansible~stable%2Fnewton~I720e847906d29fe9bb6ed8f69210511d94437d71,openstack/openstack-ansible,stable/newton,,I720e847906d29fe9bb6ed8f69210511d94437d71,Bump lxc_hosts role for Trusty,MERGED,2017-08-21 18:29:36.000000000,2017-08-21 23:37:16.000000000,2017-08-21 23:37:16.000000000,1,1,0,495951,04804febdd3370aa282a96f75f2578aa0276cc65,7,3,1,1,2799,Andy McCrae,andrew-mccrae,"Bump lxc_hosts role for Trusty

Some trusty builds are failing due to a bug fixed in:
I0b0a8dec3943651f379479ea1a3b8038736b9219

This bumps the build so that the next release will include this fix.

Change-Id: I720e847906d29fe9bb6ed8f69210511d94437d71
"
openstack%2Fcharm-nova-compute~master~I1ed82e70ef2236b3ac34cc4095ee20c85006469b,openstack/charm-nova-compute,master,service_catalog,I1ed82e70ef2236b3ac34cc4095ee20c85006469b,Update use of client.service_catalog with sessions,ABANDONED,2017-06-09 21:51:20.000000000,2017-08-21 23:29:57.000000000,,0,0,0,472844,27863d7f805143a62f18c1225e4ab0f631ff646b,24,3,7,0,20805,David Ames,thedac,"Update use of client.service_catalog with sessions

Due to a bug in keystone client when using keystoneauth1.sessions
keystoneclient.service_catalog is no longer populated automatically.

Manually setting client.auth_ref has the side effect of populating
the service_catalog and has become the undocumented but accepted
practice.

This change syncs charm helpers wich adds the manual setting of
auth_ref, updates the query arguments for url_for() and uses
keystoneauth1 sessions.

Change-Id: I1ed82e70ef2236b3ac34cc4095ee20c85006469b
"
openstack%2Ftripleo-quickstart-extras~master~I6b77d1b0f11d7240179f67cca6a84e7909d3fd20,openstack/tripleo-quickstart-extras,master,dib-cache-cleanup,I6b77d1b0f11d7240179f67cca6a84e7909d3fd20,Add /root/.cache/image-create to cleanup role,MERGED,2017-06-30 15:37:52.000000000,2017-08-21 23:22:37.000000000,2017-08-21 18:03:56.000000000,1,0,1,479356,7aa19020bc9e55a8ac42bf1ca3dc3d5806d2c1d3,33,10,4,1,21686,Matt Young,myoung,"Add /root/.cache/image-create to cleanup role

This commit clears the DIB cache on virthosts used in rdophase2.

Change-Id: I6b77d1b0f11d7240179f67cca6a84e7909d3fd20
"
openstack%2Fneutron~stable%2Focata~I9abecd6ef9d74abff27fb0ed0f5f4535c0622fd6,openstack/neutron,stable/ocata,bug/1697937,I9abecd6ef9d74abff27fb0ed0f5f4535c0622fd6,Don't raise exception if TC device doesn't exist,MERGED,2017-08-16 08:28:19.000000000,2017-08-21 23:06:42.000000000,2017-08-21 23:06:42.000000000,6,4,2,494112,8691deb707a1cc499688e1962036c10f02cd872a,18,8,2,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Don't raise exception if TC device doesn't exist

If device doesn't exit, TC doesn't need to raise an exception
during the deletion of the qdisc.

In iproute2 source code [1], the error code used is ""1"".

[1] https://kernel.googlesource.com/pub/scm/linux/kernel/git/shemminger/iproute2/+/master/tc/tc_qdisc.c#188

Change-Id: I9abecd6ef9d74abff27fb0ed0f5f4535c0622fd6
Closes-Bug: #1697937
(cherry picked from commit 0a185354a16d2bbd87bea4371933032d0f349e60)
"
openstack%2Fironic~stable%2Fpike~I34fb68c150b753824bd2687a1f522ac87771a5e3,openstack/ironic,stable/pike,,I34fb68c150b753824bd2687a1f522ac87771a5e3,Get rid of sourcing stackrc in grenade settings,MERGED,2017-08-17 15:53:26.000000000,2017-08-21 22:53:21.000000000,2017-08-18 14:42:13.000000000,70,71,0,494617,fbf2cab10089d9ee5b707c95c1f21d2094ee8d60,18,6,2,4,12356,Vladyslav Drok,vdrok,"Get rid of sourcing stackrc in grenade settings

Instead, use the common_settings file to source all the variables
we need at the early stages of devstack setup and during the upgrade
itself. This also fixes an issue with the networking-generic-switch
upgrade script, which is run from the old release instead of the new
one.

It depends on a patch from an older release, as grenade is setup
using settings from an older release, we need common_setting to be
populated there.

Change-Id: I34fb68c150b753824bd2687a1f522ac87771a5e3
Depends-On: If63779ced5e99461782c65188f4776045df85125
"
openstack%2Fpanko~stable%2Fpike~Ife9c4bb86329d3acca6414cf1a7a42d9b6da163d,openstack/panko,stable/pike,create-pike,Ife9c4bb86329d3acca6414cf1a7a42d9b6da163d,Update .gitreview for stable/pike,MERGED,2017-08-21 19:06:13.000000000,2017-08-21 22:49:15.000000000,2017-08-21 22:49:15.000000000,1,0,0,495963,9a3a8891960c13a34f136aa1dcc246122cd3cbb3,6,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/pike

Change-Id: Ife9c4bb86329d3acca6414cf1a7a42d9b6da163d
"
openstack%2Fpuppet-nova~stable%2Focata~Ida3ecab717bc3113ba23553c559263f35c49c46a,openstack/puppet-nova,stable/ocata,bug/1696955,Ida3ecab717bc3113ba23553c559263f35c49c46a,Fix handling of nova pci MultiStrOpt params,MERGED,2017-08-16 12:38:25.000000000,2017-08-21 22:47:13.000000000,2017-08-21 22:47:13.000000000,145,48,0,494189,13cfe18726c9ff189258871149f54caeb20b2a77,28,3,1,7,23811,Oliver Walsh,owalsh,"Fix handling of nova pci MultiStrOpt params

The changes in Ie27dbbc510c73c685b239a9be4af2700a0eb42f0 did not appear to fix
the handling of the nova pci_* params. The config being written to nova.conf
remains in the ListOpt format.

As support for MultiStrOpt was added to nova_config in
I6be7bb4cea1906bd98c513bd2d01153e4643e3ac we just need to pass an array of
strings to nova_config to set these MultiStrOpt params.

Nova expects the string values to be JSON encoded so that is what the parser
function now returns.  This function has also been renamed from
'check_array_of_hash' (which it never did) to 'to_array_of_json_strings'.

The acceptable input formats are a JSON array of objects or a puppet Array of
Hashes. Perviously a ""JSON with single quotes"" format was used but should now
be considered deprecated as it could corrupt data.

This also removes any pci_alias entries from nova.conf when the param is not
set.

Change-Id: Ida3ecab717bc3113ba23553c559263f35c49c46a
Closes-bug: #1696955
(cherry picked from commit 1cd349f893408803fec307f615ae3fe265d54fed)
"
openstack%2Fcharm-guide~master~Ib5ffce2c45deda5a03edc9e3fc332836721d9b49,openstack/charm-guide,master,openstack_client,Ib5ffce2c45deda5a03edc9e3fc332836721d9b49,os-on-lxd: switch to openstack cli,ABANDONED,2017-05-04 15:26:17.000000000,2017-08-21 22:46:25.000000000,,8,9,0,462595,74065919b85ebfcfcc6f85f0044721349bdf1d82,5,2,1,1,11307,Andreas Scheuring,uniqueName,"os-on-lxd: switch to openstack cli

The patch switches to use the openstack commandline client all over
the place instead of using the project specific ones.

Change-Id: Ib5ffce2c45deda5a03edc9e3fc332836721d9b49
"
openstack%2Fpatrole~master~I36aad1ea7ef3c1418cd23fda8357132ac8bde559,openstack/patrole,master,availability-zone-policies,I36aad1ea7ef3c1418cd23fda8357132ac8bde559,RBAC tests for extended availability zone policies,MERGED,2017-07-18 00:18:48.000000000,2017-08-21 22:42:18.000000000,2017-08-21 22:42:18.000000000,43,4,4,484535,5f72954f121a5aa5f6bd378e2d013d2973297766,42,4,10,2,23186,Felipe Monteiro,felipe.monteiro,"RBAC tests for extended availability zone policies

This commit adds RBAC tests for extended availability zone
policies, the documentation for which can be found here:

https://github.com/openstack/nova/blob/master/nova/policies/extended_availability_zone.py

Tests for both APIs that enforce each policy were added.

Change-Id: I36aad1ea7ef3c1418cd23fda8357132ac8bde559
Depends-On: I1c14646dc8d102cd093be09833c23846781e5e73
"
openstack%2Fglance~master~Icd79be4eb9d363e70955dbe208aba8564cf21e8e,openstack/glance,master,bug/1712110,Icd79be4eb9d363e70955dbe208aba8564cf21e8e,Correct group name in config,MERGED,2017-08-21 16:03:51.000000000,2017-08-21 22:36:02.000000000,2017-08-21 22:13:11.000000000,2,2,0,495912,d38c8d23975e37bc4450d0ac707f3c4ab48f2011,13,4,1,1,5314,Brian Rosmaita,brian-rosmaita,"Correct group name in config

Help text for enable_image_import refers to [TASKS] whereas the
related option group is named [task].  This patch corrects the
text so that operators don't add config for a group that doesn't
exist and then wonder why it's not having any effect.

Change-Id: Icd79be4eb9d363e70955dbe208aba8564cf21e8e
"
openstack%2Fcharm-layer-openstack-api~master~I393d512d379847fb1fa127f0fa7898c824e36182,openstack/charm-layer-openstack-api,master,bug/1677543,I393d512d379847fb1fa127f0fa7898c824e36182,Adding support for worker multiplier,ABANDONED,2017-04-19 10:02:53.000000000,2017-08-21 22:32:26.000000000,,7,0,0,457994,6dfea3e7b80d6f25d09f145aaac428a35e62acb1,5,1,2,1,5677,vincenzo di somma,vds,"Adding support for worker multiplier

 - adding worker_multiplier to config.yaml

Related-Bug: 1677543
Change-Id: I393d512d379847fb1fa127f0fa7898c824e36182
"
openstack%2Fcharm-keystone~master~I6f24bc042a820ddd0147247267ee159753cfc1fb,openstack/charm-keystone,master,fix-file-opens,I6f24bc042a820ddd0147247267ee159753cfc1fb,Fix dangling file open() commands with no corresponding close,MERGED,2017-08-18 09:40:28.000000000,2017-08-21 22:27:53.000000000,2017-08-21 22:27:53.000000000,17,12,0,495142,b3a6fdf5b5b5dc701e01efada2f89a42be4ae388,6,2,1,2,20870,Alex Kavanagh,ajkavanagh,"Fix dangling file open() commands with no corresponding close

The code relies on a undocumented (and probably unstable) feature
of CPython to close a file when the reference is GCed.  However,
it's pretty poor practice to do so, so this patchset replaces them
with ""with ..."" statements to ensure that the files are closed
when no longer being used.

Change-Id: I6f24bc042a820ddd0147247267ee159753cfc1fb
"
openstack%2Fcharm-manila-generic~master~Ia197f23b0ef7745c0f39cfd68aef82fef7aed1bb,openstack/charm-manila-generic,master,update-tests-yaml-files,Ia197f23b0ef7745c0f39cfd68aef82fef7aed1bb,Modify tests.yaml which specifies bundletester config params with the following key:value pairs:,MERGED,2017-08-09 20:26:43.000000000,2017-08-21 22:27:23.000000000,2017-08-21 22:27:23.000000000,1,0,0,492270,521d08f3dfc53617a5f0c0697f680d4356da5614,10,3,1,1,22799,Andrew McLeod,admcleod,"Modify tests.yaml which specifies bundletester config params
with the following key:value pairs:

- reset_timeout: 600

Change-Id: Ia197f23b0ef7745c0f39cfd68aef82fef7aed1bb
"
openstack%2Fcharm-manila-generic~master~Idd74ceb3e1c7640241550cb104f9e93d4f782d80,openstack/charm-manila-generic,master,bug/1707303,Idd74ceb3e1c7640241550cb104f9e93d4f782d80,Add workaround for Bug#1707303 for testing,MERGED,2017-08-21 10:00:11.000000000,2017-08-21 22:26:57.000000000,2017-08-21 22:26:57.000000000,2,1,0,495798,2ad8c79efd5224fbe8d1eb36df3ecb16b0f26b56,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add workaround for Bug#1707303 for testing

Unfortunately, there's a bug in the released manila-client that's
been fixed in master, but not yet released.  This patch works around
that bug.

Change-Id: Idd74ceb3e1c7640241550cb104f9e93d4f782d80
Related-Bug: #1707303
"
openstack%2Fcharm-manila~master~Ic14d38e2fedb59b06889a086fa39e40bf3dd55e2,openstack/charm-manila,master,update-tests-yaml-files,Ic14d38e2fedb59b06889a086fa39e40bf3dd55e2,Modify tests.yaml which specifies bundletester config params with the following key:value pairs:,MERGED,2017-08-09 20:26:32.000000000,2017-08-21 22:26:51.000000000,2017-08-21 22:26:51.000000000,1,0,0,492269,ebefa225362f80f6aeaade54ef55520831ed9e66,10,3,1,1,22799,Andrew McLeod,admcleod,"Modify tests.yaml which specifies bundletester config params
with the following key:value pairs:

- reset_timeout: 600

Change-Id: Ic14d38e2fedb59b06889a086fa39e40bf3dd55e2
"
openstack%2Fcharm-barbican-softhsm~master~I6be91ad4aed575ac972f7ca0aae21b22989db797,openstack/charm-barbican-softhsm,master,update-tests-yaml-files,I6be91ad4aed575ac972f7ca0aae21b22989db797,Modify tests.yaml which specifies bundletester config params with the following key:value pairs:,MERGED,2017-08-09 20:20:02.000000000,2017-08-21 22:26:46.000000000,2017-08-21 22:26:46.000000000,1,0,0,492249,0ac51d3d89cf8297a25c2456b49587c2a9b2d1f0,10,3,1,1,22799,Andrew McLeod,admcleod,"Modify tests.yaml which specifies bundletester config params
with the following key:value pairs:

- reset_timeout: 600

Change-Id: I6be91ad4aed575ac972f7ca0aae21b22989db797
"
openstack%2Fcharm-interface-hacluster~master~Ie6b4ae89af74151ebb435c72a6df78174bbec87b,openstack/charm-interface-hacluster,master,dualstack,Ie6b4ae89af74151ebb435c72a6df78174bbec87b,Ensure only VIP resources are in vip group,MERGED,2017-08-21 21:50:19.000000000,2017-08-21 22:26:03.000000000,2017-08-21 22:26:03.000000000,5,1,0,495990,c01416b7eb084cc5923959d9d4e8d3d6064483de,7,3,1,1,20805,David Ames,thedac,"Ensure only VIP resources are in vip group

Fix bug I intrduces in:
https://github.com/openstack/charm-interface-hacluster/commit/77c2b2540777674b6dfb8d7e924a1125b264debe
Where the haproxy resource was also added to vip group.

Ensure only VIP resources are added to the vip group.

Change-Id: Ie6b4ae89af74151ebb435c72a6df78174bbec87b
"
openstack%2Fironic~master~I962b2fd21fa4567370092fb0b73336dc3c842127,openstack/ironic,master,bug/1490406,I962b2fd21fa4567370092fb0b73336dc3c842127,Fix minor grammar error,ABANDONED,2015-09-02 04:05:52.000000000,2017-08-21 22:23:30.000000000,,1,1,4,219551,8c0dd5d6744b800505daf2c910d3ca24adc6b255,22,8,5,1,17773,gaoxiaoyong,gaoxiaoyong,"Fix minor grammar error

Revise grammar error in ironic project

Closes-Bug: #1490406

Change-Id: I962b2fd21fa4567370092fb0b73336dc3c842127
"
openstack%2Fironic~master~I0f773f0897ef7d99ca1ccb27c6d839235fa2c393,openstack/ironic,master,bp/implement-cleaning-states,I0f773f0897ef7d99ca1ccb27c6d839235fa2c393,Add /nodes/<uuid>/cleaning/steps API,ABANDONED,2015-02-26 02:24:20.000000000,2017-08-21 22:19:44.000000000,,258,3,60,159322,df49f93d4db6f92ad24de553944899eeafe00833,69,11,10,8,10380,Josh Gachnang,JoshNang,"Add /nodes/<uuid>/cleaning/steps API

Adds a way to list all cleaning steps enabled for a node. Also provides
an 'enabled' parameter for RPC call to enable zapping steps.

Bumping the RPC API version to add 'get_clean_steps'

Hides the controller and clean_step field in versions prior to 1.7.

Implements: blueprint implement-cleaning-states
Change-Id: I0f773f0897ef7d99ca1ccb27c6d839235fa2c393
"
openstack%2Fproject-config~master~I8b110d3394c5d5adf60a3f9e170545fc285d0098,openstack/project-config,master,grafana_n8g_b,I8b110d3394c5d5adf60a3f9e170545fc285d0098,grafana updates for n8g-bgpvpn and n8g-bagpipe,MERGED,2017-08-21 12:54:09.000000000,2017-08-21 22:19:36.000000000,2017-08-21 22:19:36.000000000,4,0,0,495849,160ccd71f535585d7a5b769ba19acde3be41e443,8,4,1,2,12021,Thomas Morin,tmorin,"grafana updates for n8g-bgpvpn and n8g-bagpipe

Adds graphs stable/ocata and stable/pike periodic tests.

Change-Id: I8b110d3394c5d5adf60a3f9e170545fc285d0098
"
openstack%2Fneutron~master~I743a223c4ff4882fdd760a20823150558d5e5f4a,openstack/neutron,master,functional-tests,I743a223c4ff4882fdd760a20823150558d5e5f4a,tests: Log spawned processes by RootHelperProcess,MERGED,2017-08-16 12:03:04.000000000,2017-08-21 22:19:25.000000000,2017-08-21 22:19:25.000000000,4,0,0,494177,a41ce8d6bb445aac7101457e7797d34db784e0cd,10,5,1,1,8655,Jakub Libosvar,jlibosva,"tests: Log spawned processes by RootHelperProcess

This patch logs the command spawned by RootHelperProcess, it is
handy when debugging failed functional tests on upstream gate.

Change-Id: I743a223c4ff4882fdd760a20823150558d5e5f4a
"
openstack%2Fneutron~stable%2Fpike~Iaeb9153084c6864b0982902bbb2ae9c0233266a6,openstack/neutron,stable/pike,v3-identity,Iaeb9153084c6864b0982902bbb2ae9c0233266a6,Stop using v2 identity API,MERGED,2017-08-21 13:56:16.000000000,2017-08-21 22:17:47.000000000,2017-08-21 22:17:47.000000000,12,16,0,495864,ec1b3104962d837137d6c903d8fc8d7027a68b00,8,3,1,3,8655,Jakub Libosvar,jlibosva,"Stop using v2 identity API

v2 identity API was deprecated in Mitaka. There is only a one test
remaining that still relies on the v2 identity API. This patch replaces
v2 with v3.

Change-Id: Iaeb9153084c6864b0982902bbb2ae9c0233266a6
(cherry picked from commit 5b51cd8dcb7fe9a4f8e7ae6d190a475e47560758)
"
openstack%2Fproject-config~master~Iba12324f8101b2e70559a871e13840a1dbbb07b5,openstack/project-config,master,unified,Iba12324f8101b2e70559a871e13840a1dbbb07b5,Fix condition for logs pipeline,MERGED,2017-08-21 10:41:37.000000000,2017-08-21 22:10:09.000000000,2017-08-21 22:10:09.000000000,1,1,0,495816,f12e0d8d34b62027c484319c2c223f91f2747124,8,5,1,1,20033,Artur Basiak,abasiak,"Fix condition for logs pipeline

Fix condition for monasca-logs-pipeline with unified
gates.

Change-Id: Iba12324f8101b2e70559a871e13840a1dbbb07b5
"
openstack%2Fironic~master~I45c54acd221443ae0bc54152d679a8791ff551a8,openstack/ironic,master,docs-uce-rst,I45c54acd221443ae0bc54152d679a8791ff551a8,made and edited the ironic ucs.rst install guide,ABANDONED,2015-06-17 20:38:50.000000000,2017-08-21 22:09:44.000000000,,17,17,4,192879,f7aafebefbeb52c324c9b48aebea76f30993a4c1,8,4,1,1,15804,Ghezal,ghezal,"made and edited the ironic ucs.rst install guide

per doc conventions ironic should be lowercase or Bare metal service
Please enter the commit message for your changes. Lines starting

Change-Id: I45c54acd221443ae0bc54152d679a8791ff551a8
"
openstack%2Fproject-config~master~I76a61aa1029eba403a2284e3ccd54d09b17a351f,openstack/project-config,master,enable_docs_distil,I76a61aa1029eba403a2284e3ccd54d09b17a351f,Use python-jobs for Distil,MERGED,2017-07-31 04:06:05.000000000,2017-08-21 22:07:14.000000000,2017-08-21 22:07:14.000000000,3,6,3,489082,9151c9d9b18101d36ec2322d8333991750091d19,16,5,3,1,6484,Feilong Wang,flwang,"Use python-jobs for Distil

Change-Id: I76a61aa1029eba403a2284e3ccd54d09b17a351f
"
openstack%2Fcharm-layer-openstack-api~master~I91b814db1ab5eef765abffea0f2f4359a9ff639d,openstack/charm-layer-openstack-api,master,dualstack,I91b814db1ab5eef765abffea0f2f4359a9ff639d,Add missing hostname config options,MERGED,2017-08-21 21:52:01.000000000,2017-08-21 22:07:09.000000000,2017-08-21 22:07:09.000000000,28,4,0,495991,3d6e2b6fe8a0e8464a6535aab10cc4c39b43b7d0,7,3,1,1,20805,David Ames,thedac,"Add missing hostname config options

Only os-public-hostname was in the config.yaml. Add the missing
os-internal-hostname and os-admin-hostname to config.yaml. The rest of
the code DTRT with these config options.

Change-Id: I91b814db1ab5eef765abffea0f2f4359a9ff639d
"
openstack%2Fceilometer~stable%2Fpike~Iad303e3d8101389ea139ecaebee02078fa13d74d,openstack/ceilometer,stable/pike,create-pike,Iad303e3d8101389ea139ecaebee02078fa13d74d,Update .gitreview for stable/pike,MERGED,2017-08-21 19:05:26.000000000,2017-08-21 22:05:51.000000000,2017-08-21 22:05:51.000000000,1,0,0,495961,d17d43721da55a300a362cbad3a3fd3338d2347d,6,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/pike

Change-Id: Iad303e3d8101389ea139ecaebee02078fa13d74d
"
openstack%2Fironic~master~I69411a089e2ce2f9f010ebc98bb2eff53cfbd568,openstack/ironic,master,bug/1282836,I69411a089e2ce2f9f010ebc98bb2eff53cfbd568,Add a check to pxe driver for TFTP service,ABANDONED,2015-04-01 20:56:34.000000000,2017-08-21 22:04:43.000000000,,379,11,50,169918,535b63c3248e9575f58c01a4c87c5d72d65298c8,46,11,6,3,5805,Chris Krelle,nobodycam,"Add a check to pxe driver for TFTP service

This patch adds a check to the pxe driver for TFTP service. The
PXE driver will now attempt to download a file from the configured
TFTP server, In it's current form the check only logs a warning.
This is ment to be a pre-flight style check to inform operators of
simple configuration errors upon startup and is not ment to replace
run time error handling.

Change-Id: I69411a089e2ce2f9f010ebc98bb2eff53cfbd568
Closes-Bug: #1282836
"
openstack%2Fcharm-aodh~master~Ia4051b11dbf9cc09c730cc0c3b9dcc4867df8a7a,openstack/charm-aodh,master,dualstack,Ia4051b11dbf9cc09c730cc0c3b9dcc4867df8a7a,Ensure SSL gets setup,MERGED,2017-08-18 23:32:11.000000000,2017-08-21 22:02:33.000000000,2017-08-21 22:02:33.000000000,2,0,0,495454,a091a5abd7a154644bb5d5ab80b40334e403e5c1,15,3,2,2,20805,David Ames,thedac,"Ensure SSL gets setup

As a part of the dualstack work it was discovered SSL was not getting
setup for aodh. Ensure that it does.

Change-Id: Ia4051b11dbf9cc09c730cc0c3b9dcc4867df8a7a
"
openstack%2Frally~master~I1a68c4003c604e4b318f838234e0b85d52507455,openstack/rally,master,task_results,I1a68c4003c604e4b318f838234e0b85d52507455,Pring task keys in more user-friendly way,MERGED,2017-08-18 17:46:36.000000000,2017-08-21 21:59:08.000000000,2017-08-21 21:59:08.000000000,10,8,1,495391,63b435701165f9d64374be1ec314ba577ebaf3bd,13,5,2,1,9545,Andrey Kurilin,akurilin,"Pring task keys in more user-friendly way

Change-Id: I1a68c4003c604e4b318f838234e0b85d52507455
"
openstack%2Fopenstack-helm~master~I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab,openstack/openstack-helm,master,tests/heat-functional,I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab,Gate: Heat functional test,MERGED,2017-08-11 00:06:17.000000000,2017-08-21 21:57:29.000000000,2017-08-21 21:46:40.000000000,566,226,0,492719,ff6e6d19f9f882776773bc8532c008c2e6c98f4f,71,4,14,18,23928,Pete Birley,portdirect,"Gate: Heat functional test

This PS adds a functional test of heat in the OSH gates, it also moves
most params to a seperate file - making config of the gate in non-zuul
environments simpler.

Change-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab
"
openstack%2Fironic~master~I9886c8d14dbe584fa01e5c7078711863c46af49e,openstack/ironic,master,remove_log_translation,I9886c8d14dbe584fa01e5c7078711863c46af49e,Remove log translations,ABANDONED,2017-03-23 11:56:08.000000000,2017-08-21 21:56:54.000000000,,5,5,0,449100,f7afa87c4ac946c0064926759f98c41decb448d9,10,7,1,1,25526,tangcx,tangcx,"Remove log translations

Log messages are no longer being translated. This removes all use of
the _LE, _LI, and _LW translation markers to simplify logging and to
avoid confusion with new contributions.

See:
http://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html
http://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html
https://wiki.openstack.org/wiki/GitCommitMessages#Including_external_references
https://bugs.launchpad.net/ironic/+bug/1674374

Change-Id: I9886c8d14dbe584fa01e5c7078711863c46af49e
"
openstack%2Frally~master~I26ab3baf186f89f976ed3305855b6a157eb3a17f,openstack/rally,master,task_results,I26ab3baf186f89f976ed3305855b6a157eb3a17f,[task engine] Remove redundant classes,MERGED,2017-08-18 17:46:36.000000000,2017-08-21 21:55:16.000000000,2017-08-21 21:55:16.000000000,270,349,2,495390,d1bc530ffbc95e0ecf36b10aca4fa5f4555c72b6,14,4,2,6,9545,Andrey Kurilin,akurilin,"[task engine] Remove redundant classes

For workloads and subtasks we have 3 classes for representation in
python. The classes from rally.task.engine do not have any benefit, so
let's remove  them.

Change-Id: I26ab3baf186f89f976ed3305855b6a157eb3a17f
"
openstack%2Fironic~master~I4af53977fae0ec83b391a86c48bb7dd7ca72e50e,openstack/ironic,master,,I4af53977fae0ec83b391a86c48bb7dd7ca72e50e,Add missing word to comment,ABANDONED,2017-04-22 02:47:29.000000000,2017-08-21 21:54:26.000000000,,10,2,2,459035,8409cf5ba594a1b2a199f49097b520cdf2fa850b,12,10,1,1,25316,yongjie.xu,yongjie.xu,"Add missing word to comment

CRUD is an abbreviation for create, retrieve, update and delete
So add ""retrieve"" to the comment

Change-Id: I4af53977fae0ec83b391a86c48bb7dd7ca72e50e
"
openstack%2Fironic~master~Idc4e271ff2db20cce2134cefe5e44f82b926bdd6,openstack/ironic,master,remove_log_translation,Idc4e271ff2db20cce2134cefe5e44f82b926bdd6,Remove log translations,ABANDONED,2017-03-23 10:29:57.000000000,2017-08-21 21:51:08.000000000,,28,28,0,449053,1000983d9e086c77c55588fb8a5fac867e99e838,10,10,1,1,25510,Yin Zhongsheng,winsonyin,"Remove log translations

Log messages are no longer being translated. This removes all use of
the _LE, _LI, and _LW translation markers to simplify logging and to
avoid confusion with new contributions.

See:
http://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html
http://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html
https://wiki.openstack.org/wiki/GitCommitMessages#Including_external_references
https://bugs.launchpad.net/ironic/+bug/1674374

Change-Id: Idc4e271ff2db20cce2134cefe5e44f82b926bdd6
"
openstack%2Fironic~master~Id8eb962854d994f8a23921d4195c7af1ffb00760,openstack/ironic,master,update-proliantutils-version,Id8eb962854d994f8a23921d4195c7af1ffb00760,Update proliantutils version for Pike release,MERGED,2017-06-29 05:42:31.000000000,2017-08-21 21:47:58.000000000,2017-08-19 11:47:39.000000000,44,18,34,478741,9d8ca37a373796f354231c8a0f6370875912dcd2,77,20,6,3,16635,deray,deray,"Update proliantutils version for Pike release

This commit updates the proliantutils version required in
Ironic to 2.4.0 for Pike release. This version of
proliantutils includes the following:

  1. Support for Gen10 servers using Redfish protocol.
  2. ``local_gb`` defaults to 0 (zero) when no disk could be
     discovered during inspection.
  3. Provides one-pass disk erase support using HPE SSA CLI when
     sanitize disk erase not supported for Proliant hardware
     manager in IPA.

Change-Id: Id8eb962854d994f8a23921d4195c7af1ffb00760
"
openstack%2Fproject-config~master~I7b603aa0c12a46df441df2c084028a849beafe8d,openstack/project-config,master,,I7b603aa0c12a46df441df2c084028a849beafe8d,Fix infra-docs issue with (openstack-)zuul-jobs,MERGED,2017-08-21 21:20:54.000000000,2017-08-21 21:39:53.000000000,2017-08-21 21:39:53.000000000,2,2,2,495984,1f497b850529d2e299a12150a3190e7bbbdb50d0,9,3,1,1,4162,Paul Belanger,pabelanger,"Fix infra-docs issue with (openstack-)zuul-jobs

We incorrectly published thes jobs into zuul docs location.

Change-Id: I7b603aa0c12a46df441df2c084028a849beafe8d
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Fcharm-swift-storage~stable%2F17.02~Ia250f45b4f734f5a25c1deebbf6d7fa5303b6ad9,openstack/charm-swift-storage,stable/17.02,bug/1702039,Ia250f45b4f734f5a25c1deebbf6d7fa5303b6ad9,Sync stable charm-helpers into stable branch,MERGED,2017-08-10 03:27:35.000000000,2017-08-21 21:36:47.000000000,2017-08-21 21:36:47.000000000,43,63,0,492363,9f9c9896a6fd6a9143db61a20f3f25ca658b6577,13,3,2,7,8992,Billy Olsen,billy-olsen,"Sync stable charm-helpers into stable branch

Sync the stable charm-helpers into the stable branch in order
to pick up the requisite change for running actions via amulet
tests.

Change-Id: Ia250f45b4f734f5a25c1deebbf6d7fa5303b6ad9
Needed-By: I2d895741cb0528836a675deb6399005a5bf59ab5
"
openstack%2Fironic~master~I6bc11b9f26b514e184ed62ff7c9fa672cc332279,openstack/ironic,master,url_fix,I6bc11b9f26b514e184ed62ff7c9fa672cc332279,Optimize the link address,ABANDONED,2017-04-07 02:11:31.000000000,2017-08-21 21:19:23.000000000,,9,9,4,454425,b95fc961b5cc4e9e5822a312f8bd221d9aeeab14,17,9,2,2,23958,XieYingYun,XieYingYun,"Optimize the link address

Use https instead of http to ensure the safety without containing our
account/password information

Change-Id: I6bc11b9f26b514e184ed62ff7c9fa672cc332279
"
openstack%2Fswift~master~I1700e997f4ae6fa1a7e68be6b97539a24046e80b,openstack/swift,master,keymaster-barbican,I1700e997f4ae6fa1a7e68be6b97539a24046e80b,Retrieve encryption root secret from Barbican,MERGED,2016-09-02 12:39:00.000000000,2017-08-21 21:19:09.000000000,2017-08-21 21:19:09.000000000,1236,24,293,364878,77bd74da0971b0cb7c415bbe2c6f506f3cdc666d,154,17,31,10,20988,Mathias Bjoerkqvist,mathiasb,"Retrieve encryption root secret from Barbican

This patch adds support for retrieving the encryption root secret from
an external key management system. In practice, this is currently
limited to Barbican.

Change-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b
"
openstack%2Fopenstack-ansible-ops~master~I9243417ac1c53f24acbad65ff08dd42941341c74,openstack/openstack-ansible-ops,master,leap-add-missing-deps-for-pyldap,I9243417ac1c53f24acbad65ff08dd42941341c74,Add missing dependencies for pyldap,MERGED,2017-08-21 18:12:32.000000000,2017-08-21 21:11:06.000000000,2017-08-21 21:11:06.000000000,3,0,0,495947,8ef0c3c993b35bf9b2ac789a4d54ed7acc9650d0,8,4,1,1,14288,Matthew Thode,prometheanfire,"Add missing dependencies for pyldap

The venv fails to build without the sasl and ldap headers

Change-Id: I9243417ac1c53f24acbad65ff08dd42941341c74
"
openstack%2Fopenstack-ansible-ops~master~I630f2f32c3b7b71eb6f348ae6b6838ae8cd6730d,openstack/openstack-ansible-ops,master,fix-leap-mysqlcleint-install,I630f2f32c3b7b71eb6f348ae6b6838ae8cd6730d,Allow mariadb to be used in place of mysql,MERGED,2017-08-21 16:52:12.000000000,2017-08-21 21:11:00.000000000,2017-08-21 21:11:00.000000000,6,1,0,495923,40dcac33ecbeff902da2667f284fb0a037743dfe,8,4,1,1,14288,Matthew Thode,prometheanfire,"Allow mariadb to be used in place of mysql

Some installs have libmariadbclient-dev already installed, so use that
if it's available.

Change-Id: I630f2f32c3b7b71eb6f348ae6b6838ae8cd6730d
"
openstack%2Fopenstack-ansible-ops~master~I80cf1fc929e86c3498760ad4b342964c7f82ea5f,openstack/openstack-ansible-ops,master,update-newton-leap-tag,I80cf1fc929e86c3498760ad4b342964c7f82ea5f,update tags the leap-upgrade use,MERGED,2017-08-18 14:32:40.000000000,2017-08-21 21:10:58.000000000,2017-08-21 21:10:58.000000000,5,5,2,495323,aa04643dedec404c3601c1a1c08a8241c414fcd7,14,5,2,1,14288,Matthew Thode,prometheanfire,"update tags the leap-upgrade use

The comment on the bug in setuptools was fixed a while ago upstream and
evrardjp also mentioned that comment could be removed.  Branches other
than newton have an EOL release, so change to use those.

Change-Id: I80cf1fc929e86c3498760ad4b342964c7f82ea5f
"
openstack%2Freleases~master~I2f9a23d99105e59985327fce596f77bd3f6e8293,openstack/releases,master,ceph-release-2.4.0-patch1,I2f9a23d99105e59985327fce596f77bd3f6e8293,add --debug option to validate,MERGED,2017-08-21 19:52:43.000000000,2017-08-21 21:07:58.000000000,2017-08-21 21:07:58.000000000,8,0,0,495970,f64b1a49bfbd6531087bef66de8bb94ff1207dd0,7,3,1,1,2472,Doug Hellmann,doug-hellmann,"add --debug option to validate

Add a --debug option to the validate command line app to have it throw
an exception when there is an error so we can pinpoint where the error
is coming from more easily.

Change-Id: I2f9a23d99105e59985327fce596f77bd3f6e8293
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Freleases~master~Ibabcc92963b004b8b1c4b83cddc3933f70229254,openstack/releases,master,ceph-release-2.4.0-patch1,Ibabcc92963b004b8b1c4b83cddc3933f70229254,Release puppet-ceph 2.4.0 and create jewel branch,MERGED,2017-08-16 14:27:38.000000000,2017-08-21 21:07:52.000000000,2017-08-21 21:07:52.000000000,9,1,2,494224,e1b39e79321e076609344168691336fc704bec9d,14,6,2,1,14985,Alex Schultz,mwhahaha,"Release puppet-ceph 2.4.0 and create jewel branch

Change-Id: Ibabcc92963b004b8b1c4b83cddc3933f70229254
"
openstack%2Freleases~master~I354bf975311c2b02c020dc83590c041c7733b041,openstack/releases,master,ceph-release-2.4.0-patch1,I354bf975311c2b02c020dc83590c041c7733b041,"add ""upstream"" stable-branch-type",MERGED,2017-08-21 19:52:43.000000000,2017-08-21 21:06:12.000000000,2017-08-21 21:06:11.000000000,17,2,0,495969,573194a62376aac79c9b58a4d94cb82f20704f02,7,3,1,3,2472,Doug Hellmann,doug-hellmann,"add ""upstream"" stable-branch-type

Add a stable-branch-type called ""upstream"" for projects that follow
the naming conventions of another upstream project (see puppet-ceph
for an example).

Change-Id: I354bf975311c2b02c020dc83590c041c7733b041
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fopenstack-ansible~stable%2Fpike~Ie17b0154caa8851d99f0881e8596a7c39350bbe2,openstack/openstack-ansible,stable/pike,pip-install-repeat,Ie17b0154caa8851d99f0881e8596a7c39350bbe2,Remove repeated pip_install role execution,MERGED,2017-08-19 01:04:02.000000000,2017-08-21 20:57:39.000000000,2017-08-21 20:57:39.000000000,0,6,0,495468,0146e3e19a258e3ade73b0ad76e71bba9fb4972c,7,3,1,2,6816,Jesse Pretorius,jesse-pretorius,"Remove repeated pip_install role execution

In the galera playbook, the pip_install role
is executed, then the galera_server role. The
galera_server role has a meta-dependency on
galera_client, which in turn has a
meta-dependency on pip_install. This results in
the pip_install role being run twice.

In the utility playbook, the galera_client role
is executed, then the pip_install role. The
galera_client role has a meta-dependency on
pip_install. This results in the pip_install
role being run twice.

This patch removes the duplicated executions of
the pip_install roles from these two playbooks.

Change-Id: Ie17b0154caa8851d99f0881e8596a7c39350bbe2
(cherry picked from commit 303e4e83740812287946b97e256577a441fee99c)
"
openstack%2Fpanko~master~Ibd328f15c899654d6a1879cf4dc3a4d77745940f,openstack/panko,master,reno-pike,Ibd328f15c899654d6a1879cf4dc3a4d77745940f,Update reno for stable/pike,MERGED,2017-08-21 19:06:14.000000000,2017-08-21 20:54:14.000000000,2017-08-21 20:54:14.000000000,7,0,0,495964,b8b0ebfab4476f89164fbc170de09a3dd75b58cf,6,2,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/pike

Change-Id: Ibd328f15c899654d6a1879cf4dc3a4d77745940f
"
openstack%2Fcharm-hacluster~master~I232a043e6d9d45f2cf833d4f7c4d89b079f258bb,openstack/charm-hacluster,master,bug/1698926,I232a043e6d9d45f2cf833d4f7c4d89b079f258bb,Add maintenance-mode configuration option,MERGED,2017-06-21 14:00:08.000000000,2017-08-21 20:52:48.000000000,2017-08-21 20:52:48.000000000,520,4,2,476151,e95488afa0c8985ec494b1c53fe80ed2e6bbd728,78,7,9,9,2424,Felipe Reyes,freyes,"Add maintenance-mode configuration option

This config option allows syadmins to set pacemaker in maintenance mode
which will stop monitoring on the configured resources, so services
can be stopped/restarted and pacemaker won't start them again or
migrating resources (e.g. virtual IPs).

Change-Id: I232a043e6d9d45f2cf833d4f7c4d89b079f258bb
Partial-Bug: 1698926
"
openstack%2Fopenstack-ansible-plugins~stable%2Focata~Ib2f16ccd091432fbc9905dd540fdb23e4e8d3eba,openstack/openstack-ansible-plugins,stable/ocata,python2-pyOpenSSL,Ib2f16ccd091432fbc9905dd540fdb23e4e8d3eba,Install python2-pyOpenSSL package on CentOS,MERGED,2017-03-03 19:25:42.000000000,2017-08-21 20:49:10.000000000,2017-03-03 21:12:26.000000000,1,1,0,441382,974d5ed805c1d54032f64056dd8f28c1fa6e3581,8,3,1,1,17799,Logan V,Logan2211,"Install python2-pyOpenSSL package on CentOS

Package pyOpenSSL is obsoleted by python2-pyOpenSSL.

Change-Id: Ib2f16ccd091432fbc9905dd540fdb23e4e8d3eba
(cherry picked from commit 58059874b4e3319bfd2ce669358fc546d55cc146)
"
openstack%2Fkeystone~master~I58fce8bfe9c27e9d0ea36e58b1738edd2b1a3dc1,openstack/keystone,master,bp/project-tags,I58fce8bfe9c27e9d0ea36e58b1738edd2b1a3dc1,WIP: Extend comparator support for project list by tags,ABANDONED,2017-08-16 22:55:39.000000000,2017-08-21 20:39:40.000000000,,51,1,1,494339,47e79a788c65b99812961cdabe798f1f0e9dcacf,4,2,1,2,23659,Jaewoo Park,aselius,"WIP: Extend comparator support for project list by tags

This changes allows operator to use the keystoneclient to filter
projects with tags using comparators including 'startswith',
'endswith', and 'contains'.

Change-Id: I58fce8bfe9c27e9d0ea36e58b1738edd2b1a3dc1
Partially-Implements: bp project-tags
Depends-On: I00f094a5584be40ab477cbf680a5f6d1afb4d21b
Depends-On: I0983a5b592aaffa9cef38c74c038fa60a176786c
"
openstack%2Fproject-config~master~Icffe9568e9aa36fdfb0e98006b642f3acedf8b9e,openstack/project-config,master,bug/1707933,Icffe9568e9aa36fdfb0e98006b642f3acedf8b9e,"Revert ""Make neutron functional job non-voting""",MERGED,2017-08-16 18:45:44.000000000,2017-08-21 20:39:28.000000000,2017-08-17 22:13:06.000000000,15,4,1,494295,248e5eec0f86bce259cbf63f0fe944e89783e486,16,6,2,3,8655,Jakub Libosvar,jlibosva,"Revert ""Make neutron functional job non-voting""

Bug 1709032 has been solved and I'm actively working on bug 1707933.
Also stable Pike branch has been already cut, current failure rate on
check queue is about ~15%.

This reverts commit d5d6dd800f74230faa1210ad7b2c275d74fbb9f3.

Change-Id: Icffe9568e9aa36fdfb0e98006b642f3acedf8b9e
"
openstack%2Fopenstack-ansible-pip_install~master~I7b0dd5d14c82a74be955071e638c122ffb45ab31,openstack/openstack-ansible-pip_install,master,set-centos-mirror,I7b0dd5d14c82a74be955071e638c122ffb45ab31,Allow override of RDO repo baseurl,MERGED,2017-08-10 15:53:53.000000000,2017-08-21 20:33:36.000000000,2017-08-21 13:56:10.000000000,26,0,4,492601,3500a26919b5f420c15b80323fff7928e05054b9,41,8,9,3,538,Major Hayden,rackerhacker,"Allow override of RDO repo baseurl

This patch allows deployers to set pip_install_centos_mirror_url
and override the default RDO repository (mirrors.centos.org).

Change-Id: I7b0dd5d14c82a74be955071e638c122ffb45ab31
"
openstack%2Fopenstack-helm~master~Idd9ea2692981b2ba971a259844f703ec9e7307b1,openstack/openstack-helm,master,bug/1711980,Idd9ea2692981b2ba971a259844f703ec9e7307b1,pod resources mismatched in ingress chart,MERGED,2017-08-21 02:49:18.000000000,2017-08-21 20:29:03.000000000,2017-08-21 20:15:26.000000000,2,2,0,495676,9f7e6eda90752232239f70061784a4ab2e643236,12,4,1,2,24427,Jawon Choo,JawonChoo,"pod resources mismatched in ingress chart

in ingress chart,
ingress/error resource configuration is mismatched.

Change-Id: Idd9ea2692981b2ba971a259844f703ec9e7307b1
Closes-Bug: #1711980
"
openstack%2Fpatrole~master~Ic02c9278e5293311dd6f7b02790a256d391098f7,openstack/patrole,master,(detached,Ic02c9278e5293311dd6f7b02790a256d391098f7,Adds unit tests for hacking checks,MERGED,2017-08-09 21:44:17.000000000,2017-08-21 20:25:44.000000000,2017-08-21 20:25:44.000000000,276,20,6,492305,b6a9c21424332d4e112d51e03158ea5ecb434e62,32,4,8,3,23185,Samantha Blanco,sblanco,"Adds unit tests for hacking checks

Adds unit tests for Patrole hacking checks. Also cleans up
existing Patrole hacking checks for code maintainability.

This commit also modifies the P100 hacking check to work
with arbitrarily many decorators, so that rbac_rule_validation
decorator can be sandwiched between any number of decorators
in any order; the only requirement is that it appear before
each test.

Change-Id: Ic02c9278e5293311dd6f7b02790a256d391098f7
Closes-Bug: #1708794
"
openstack%2Fcharm-ceph-osd~master~I1b6d91f0f09f0142f4470d8ae3eea650165a0575,openstack/charm-ceph-osd,master,bug/1709962,I1b6d91f0f09f0142f4470d8ae3eea650165a0575,remove trusty requirement to allow xenial upgrades,MERGED,2017-08-21 14:12:11.000000000,2017-08-21 20:16:59.000000000,2017-08-21 20:16:59.000000000,3,20,0,495883,8b0e49acdfbf1d9352041fad008c357c196bf5ae,12,3,3,2,20634,Chris MacNaughton,Chris.MacNaughton,"remove trusty requirement to allow xenial upgrades

Closes-Bug: #1709962
Closes-Bug: #1710645
Change-Id: I1b6d91f0f09f0142f4470d8ae3eea650165a0575
"
openstack%2Fcharm-ceph-mon~master~I442072e0c10d0df95c40232f0191f5cc8b63ee8c,openstack/charm-ceph-mon,master,bug/1709962,I442072e0c10d0df95c40232f0191f5cc8b63ee8c,remove trusty requirement to allow xenial upgrades,MERGED,2017-08-21 14:12:27.000000000,2017-08-21 20:12:09.000000000,2017-08-21 20:12:09.000000000,2,17,0,495885,07312cfa09578b0b54aa5b31ad0d31b9394c3a77,13,3,3,2,20634,Chris MacNaughton,Chris.MacNaughton,"remove trusty requirement to allow xenial upgrades

Closes-Bug: #1709962
Closes-Bug: #1710645
Change-Id: I442072e0c10d0df95c40232f0191f5cc8b63ee8c
"
openstack%2Fcharm-ceph~master~I8274e40f36ac8c916b15efb6bb3d6f3b5d3af386,openstack/charm-ceph,master,bug/1709962,I8274e40f36ac8c916b15efb6bb3d6f3b5d3af386,remove trusty requirement to allow xenial upgrades,MERGED,2017-08-21 14:12:19.000000000,2017-08-21 20:11:23.000000000,2017-08-21 20:11:23.000000000,0,17,0,495884,d259b894b202d05b266c13dbdda997194102a17c,13,3,3,2,20634,Chris MacNaughton,Chris.MacNaughton,"remove trusty requirement to allow xenial upgrades

Closes-Bug: #1709962
Closes-Bug: #1710645
Change-Id: I8274e40f36ac8c916b15efb6bb3d6f3b5d3af386
"
openstack%2Fnova~master~Ide8921b0d891a65212bc2173e0113f4ce00f50b0,openstack/nova,master,bp/doc-migration,Ide8921b0d891a65212bc2173e0113f4ce00f50b0,doc: Address review comments for contributor index,MERGED,2017-08-07 15:13:11.000000000,2017-08-21 20:06:01.000000000,2017-08-21 20:06:01.000000000,25,15,0,491517,3fcf82b32bad435bede0c366f1331dadc24b7e4d,28,14,2,1,15334,Stephen Finucane,sfinucan,"doc: Address review comments for contributor index

Per comments in If5e7940ddd0ae3316f7475742c02abfe3df28ac4.

Part of bp: doc-migration

Change-Id: Ide8921b0d891a65212bc2173e0113f4ce00f50b0
"
openstack%2Fpatrole~master~Iddb9d6e0cfce85e9bde00bec91ff7aec6fb22a62,openstack/patrole,master,slow-tests,Iddb9d6e0cfce85e9bde00bec91ff7aec6fb22a62,Move some slow tests into the multinode gate,MERGED,2017-08-21 16:43:59.000000000,2017-08-21 19:51:12.000000000,2017-08-21 19:51:12.000000000,2,0,0,495920,6056d6b996cb8471141d983797c82e323441ae8c,7,3,1,2,23186,Felipe Monteiro,felipe.monteiro,"Move some slow tests into the multinode gate

This commit moves two tests into the multinode gate by tagging
them as ""slow"":

  1) patrole_tempest_plugin/tests/api/compute/test_server_volume_attachments_rbac.py
  2) patrole_tempest_plugin/tests/api/volume/test_volumes_backup_rbac.py

They both also have a higher-than-normal failure rate, so placing
them in the non-voting gate will also increase gate stability. But
the main reason for moving them is because they belong there.

Change-Id: Iddb9d6e0cfce85e9bde00bec91ff7aec6fb22a62
"
openstack%2Fmanila-ui~master~Iba865145149ae4133ba1e25d28ff4d447b9d35ad,openstack/manila-ui,master,zanata/translations,Iba865145149ae4133ba1e25d28ff4d447b9d35ad,Imported Translations from Zanata,MERGED,2017-08-21 09:45:18.000000000,2017-08-21 19:45:20.000000000,2017-08-21 19:45:20.000000000,177,23,0,495793,b48408c4ae4636e3078cb4960c92811bba8bd574,8,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iba865145149ae4133ba1e25d28ff4d447b9d35ad
"
openstack%2Fnova~master~Idc69876695e04d85df942ea2374d89342b27dc0f,openstack/nova,master,api-ref,Idc69876695e04d85df942ea2374d89342b27dc0f,Correct statement in api-ref,MERGED,2017-08-21 03:34:09.000000000,2017-08-21 19:43:56.000000000,2017-08-21 19:43:56.000000000,1,1,0,495724,76323b39db6b46f22817ab2b28f3624b53bd7eff,16,3,1,1,22056,yushangbin,yushangbin,"Correct statement in api-ref

Change-Id: Idc69876695e04d85df942ea2374d89342b27dc0f
"
openstack%2Ftempest~master~I1c0b62cb29268fb4d34ab769eaf35139c4204509,openstack/tempest,master,test_module_stable,I1c0b62cb29268fb4d34ab769eaf35139c4204509,Fix unit test that break isolation,MERGED,2017-08-17 11:09:38.000000000,2017-08-21 19:43:47.000000000,2017-08-21 19:43:47.000000000,5,4,0,494481,5fdfc9bfe0d9f6c2e003fdb46bd74c32e812e335,14,4,3,1,1921,Andrea Frittoli,andrea-frittoli,"Fix unit test that break isolation

Unit test that require configuration should use the configuration
fixture and set_default so that configuration changes stay isolated
to the specific test.

Tests in test_base_test break this rule and cause race conditions
in other tests, fixing that.

Change-Id: I1c0b62cb29268fb4d34ab769eaf35139c4204509
"
openstack%2Ftempest~master~I188f1a6502f42e9eb4794aeea76c3ed06dcd4b3b,openstack/tempest,master,fix-deprecated,I188f1a6502f42e9eb4794aeea76c3ed06dcd4b3b,Add comments for test module of tempest.test.idempotent_id,MERGED,2017-07-27 11:47:55.000000000,2017-08-21 19:43:38.000000000,2017-08-21 19:43:38.000000000,4,0,7,487816,cc4ef74503cc4b3ecc594435a5ccbb330a298dff,27,9,5,1,25456,junboli,junboli,"Add comments for test module of tempest.test.idempotent_id

Although the depreciate warning is generated, we can not use
tempest.lib.decorators instead here, because the module is for
testing tempest.test.idempotent_id itself. We can not remove
this test module because some projects still use the depreciate
one. Adding the comments is for people that this depreciate
warning will be still here before all the projects switch to use
tempest.lib.decorators, then we can remove this test module, but
this may need a period of time.


Change-Id: I188f1a6502f42e9eb4794aeea76c3ed06dcd4b3b
"
openstack%2Fswift~master~Ic59d3886b5fc0af10ea53d6d825a4f566402e367,openstack/swift,master,reno-pike,Ic59d3886b5fc0af10ea53d6d825a4f566402e367,Update reno for stable/pike,MERGED,2017-08-21 13:47:07.000000000,2017-08-21 19:43:30.000000000,2017-08-21 19:43:30.000000000,8,0,0,495860,26a2361f6bf9b1d269ed5907a26b4c4f31744307,10,4,2,2,22816,OpenStack Release Bot,release,"Update reno for stable/pike

Change-Id: Ic59d3886b5fc0af10ea53d6d825a4f566402e367
"
openstack%2Ftempest~master~I28d9ce6a435af1f9213c50569d2addf89c722ae3,openstack/tempest,master,bug/1709546,I28d9ce6a435af1f9213c50569d2addf89c722ae3,Py3: Finish the python3 port,MERGED,2017-08-09 06:57:22.000000000,2017-08-21 19:42:01.000000000,2017-08-21 19:42:01.000000000,2,2,0,492004,68cb44d488dab8cced28cbd34d6824671ae15809,9,4,1,2,25456,junboli,junboli,"Py3: Finish the python3 port

- Use six.StringIO instead of StringIO [1].
- Use six.int2byte instead of chr [1].
[1] https://pythonhosted.org/six/

Change-Id: I28d9ce6a435af1f9213c50569d2addf89c722ae3
Closes-bug: #1709546
"
openstack%2Fglance~stable%2Fpike~Ibe164f02c99d10f5a5edd0de96c665413a12f700,openstack/glance,stable/pike,bug/1711829,Ibe164f02c99d10f5a5edd0de96c665413a12f700,Fix Image API 'versions' response,MERGED,2017-08-21 15:35:58.000000000,2017-08-21 19:41:54.000000000,2017-08-21 19:41:54.000000000,472,372,0,495907,fc65a9ef9c65d63d16e0b1e4b8ed952fe327b84d,8,4,1,5,5314,Brian Rosmaita,brian-rosmaita,"Fix Image API 'versions' response

Whether or not the v2.6 EXPERIMENTAL API is exposed at a site
depends on the enable_image_import config value.  If it's False
(the default), then the API a client sees is the CURRENT v2.5
API, and any of the v2.6 calls made against 2.5 return a 404
(same as if you were running Ocata).  This patch adjusts the
'versions' response so that when enable_image_import=False,
the EXPERIMENTAL v2.6 does not appear in the response.

Change-Id: Ibe164f02c99d10f5a5edd0de96c665413a12f700
Closes-bug: #1711829
(cherry picked from commit d3871a57b895902432bc7ddb98f9bb757cc2502b)
"
openstack%2Fpython-glanceclient~master~I4de4be7a55f35c3533b53acd48042c7c95b4bdc0,openstack/python-glanceclient,master,bug/1711090,I4de4be7a55f35c3533b53acd48042c7c95b4bdc0,stage call fails with TypeError,MERGED,2017-08-16 10:44:49.000000000,2017-08-21 19:37:02.000000000,2017-08-21 12:23:37.000000000,6,4,4,494160,0e50837a374958d2863deef890879c960a05d8aa,13,5,2,1,9303,Abhishek Kekane,abhishekkekane,"stage call fails with TypeError

image-stage call fails with TypeError saying 'stage() takes exactly
3 arguments (4 given). The reason is stage() also accepts image_size
as a argument which is not provided.

Further it raises 'NoneType' object has no attribute 'headers'. The
reason is stage() internally calls upload method which
returns a object of RequestIdWrapper on body (which is None) and
response. In stage call it again tries to add request id which requires
response object but instead it has a RequestIdWrapper which fails to
retrieve headers.

Change-Id: I4de4be7a55f35c3533b53acd48042c7c95b4bdc0
Closes-bug: #1711090
"
openstack%2Fopenstack-ansible-memcached_server~stable%2Fnewton~I6782320bf429cde17dff00401e7f136cfc979cee,openstack/openstack-ansible-memcached_server,stable/newton,bug/1659954,I6782320bf429cde17dff00401e7f136cfc979cee,Add automatic restart for memcached,MERGED,2017-08-18 14:48:59.000000000,2017-08-21 19:18:59.000000000,2017-08-21 19:17:54.000000000,12,0,0,495339,0afdcad49d6d08410f1f0227619e9a984a34570f,16,4,3,2,538,Major Hayden,rackerhacker,"Add automatic restart for memcached

This patch ensures that systemd will restart memcached in case of
failure or if the process is manually killed.

Closes-Bug: 1659954
Change-Id: I6782320bf429cde17dff00401e7f136cfc979cee
(cherry picked from commit 4ec27e687422ba3e9840b998987c73e1758fc1d3)
"
openstack%2Freleases~master~I60ccbc8ddf3ec32a94594df2f41a5a47f47adde4,openstack/releases,master,vitrage_pike,I60ccbc8ddf3ec32a94594df2f41a5a47f47adde4,Release vitrage and vitrage-dashboard,MERGED,2017-08-21 18:23:24.000000000,2017-08-21 19:05:55.000000000,2017-08-21 19:05:54.000000000,8,0,0,495949,ddc7f81b5af462e9c3186c60f4a291ae64ac6346,7,2,1,2,19184,Idan Hefetz,idan-hefetz,"Release vitrage and vitrage-dashboard

Change-Id: I60ccbc8ddf3ec32a94594df2f41a5a47f47adde4
"
openstack%2Freleases~master~Ia9fb3548ec529d1c7dbb6e181f8e333cf1b76774,openstack/releases,master,panko-pike,Ia9fb3548ec529d1c7dbb6e181f8e333cf1b76774,Release Panko for Pike,MERGED,2017-08-21 17:12:14.000000000,2017-08-21 19:05:33.000000000,2017-08-21 19:05:33.000000000,8,0,0,495933,0681787c512e4b763a051119c21e8da0db82136c,6,2,1,1,1669,Julien Danjou,jdanjou,"Release Panko for Pike

Change-Id: Ia9fb3548ec529d1c7dbb6e181f8e333cf1b76774
"
openstack%2Fneutron-lib~master~I96d7859e4435a840387c44d0b2e6f2c01932cadd,openstack/neutron-lib,master,bug/1683102,I96d7859e4435a840387c44d0b2e6f2c01932cadd,add rbac info for data plane status extension,ABANDONED,2017-08-21 18:08:37.000000000,2017-08-21 19:05:10.000000000,,2,1,0,495946,3d87088e608d0fec46ece9a757da02b3d01b8dc8,3,1,1,1,5367,boden,boden,"add rbac info for data plane status extension

Based on the work in I04eef902b3310f799b1ce7ea44ed7cf77c74da04, the
api-ref was updated for the data_plane_status port extension, but IIUC
we haven't noted the access required for this extension. While our users
are likely familiar with administrator based extensions, this extension
uses a new 'data_plane_status' role which maybe unfamiliar.

This patch proposes we add some info the api-ref for the extension to
note the default access required.

Change-Id: I96d7859e4435a840387c44d0b2e6f2c01932cadd
Closes-Bug: #1683102
"
openstack%2Fglance~master~I3815305e3b9d86eadfbaf6b9cf4d0867fc664fb5,openstack/glance,master,pike-rc-2-relnote,I3815305e3b9d86eadfbaf6b9cf4d0867fc664fb5,Add release note for Glance Pike RC-2,MERGED,2017-08-18 21:29:30.000000000,2017-08-21 19:03:49.000000000,2017-08-21 18:49:37.000000000,89,0,2,495437,2efc5b8fff4237d50d222617afd59bcd07f9d207,23,5,4,1,5314,Brian Rosmaita,brian-rosmaita,"Add release note for Glance Pike RC-2

Change-Id: I3815305e3b9d86eadfbaf6b9cf4d0867fc664fb5
"
openstack%2Freleases~master~I8bfc6720221096f31fed59056393a2303fd459a8,openstack/releases,master,ceilometer-pike,I8bfc6720221096f31fed59056393a2303fd459a8,Release Ceilometer for Pike,MERGED,2017-08-21 17:08:19.000000000,2017-08-21 19:03:13.000000000,2017-08-21 19:03:13.000000000,8,0,0,495932,aa82032c8073f131d521752413be88f074d6915a,7,3,1,1,1669,Julien Danjou,jdanjou,"Release Ceilometer for Pike

Change-Id: I8bfc6720221096f31fed59056393a2303fd459a8
"
openstack%2Fglance~master~Ifbedc2e5e566db084bc7028ed4239485f0d68b18,openstack/glance,master,api-ref-import-calls,Ifbedc2e5e566db084bc7028ed4239485f0d68b18,api-ref: add interoperable image import docs,MERGED,2017-08-16 15:28:08.000000000,2017-08-21 19:02:06.000000000,2017-08-21 18:49:30.000000000,289,0,8,494243,8005ee994cbbfb25575d13cd2d243e510c5e33d1,19,5,4,7,5314,Brian Rosmaita,brian-rosmaita,"api-ref: add interoperable image import docs

Adds documentation of the interoperable image import process
introduced in Pike in the EXPERIMENTAL Image API v2.6.

Change-Id: Ifbedc2e5e566db084bc7028ed4239485f0d68b18
"
openstack%2Ftripleo-heat-templates~master~Ibecc461b0c9af02500f590a1f7469d7e4ff20d95,openstack/tripleo-heat-templates,master,bp/tls-via-certmonger,Ibecc461b0c9af02500f590a1f7469d7e4ff20d95,TLS everywhere/haproxy: Remove empty postsave command,MERGED,2017-08-18 12:08:23.000000000,2017-08-21 18:55:35.000000000,2017-08-21 18:55:35.000000000,0,2,0,495288,0d1a7f36be0b335998b343b44d919cc927698ea0,20,5,1,2,10873,Juan Antonio Osorio Robles,ejuaoso,"TLS everywhere/haproxy: Remove empty postsave command

This is addressed by the patch this depends on.

bp tls-via-certmonger
Depends-On: I62ff89362cfcc80e6e62fad09110918c36802813

Change-Id: Ibecc461b0c9af02500f590a1f7469d7e4ff20d95
"
openstack%2Fswift~master~Ie54478f65ac68d6ebc5b9849f4a5ef57d1ab3c44,openstack/swift,master,495805,Ie54478f65ac68d6ebc5b9849f4a5ef57d1ab3c44,More test cases for final_recon_dump,ABANDONED,2017-08-21 16:45:40.000000000,2017-08-21 18:52:51.000000000,,58,25,0,495921,6961d24a1a0294fa5c2d788a57f1ce8ed96c5d18,3,1,1,1,7847,Alistair Coles,acoles,"More test cases for final_recon_dump

Change-Id: Ie54478f65ac68d6ebc5b9849f4a5ef57d1ab3c44
Related-Change: I84c07fc6841119b00d1a74078fe53f4ce637187b
"
openstack%2Fpython-ironicclient~master~Ia1bb352cebf00b900dee80d5cc5ef44a30f90c04,openstack/python-ironicclient,master,openstack/requirements,Ia1bb352cebf00b900dee80d5cc5ef44a30f90c04,Updated from global requirements,MERGED,2017-08-18 04:51:25.000000000,2017-08-21 18:52:25.000000000,2017-08-21 18:52:25.000000000,4,4,0,494896,14b546328929ca3b130ecda8bbaae004c2de4687,9,3,2,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Ia1bb352cebf00b900dee80d5cc5ef44a30f90c04
"
openstack%2Fopenstack-ansible-repo_build~master~I8d3b9dca7c1733b2d4ca11fda351846db1d775a7,openstack/openstack-ansible-repo_build,master,reno-pike,I8d3b9dca7c1733b2d4ca11fda351846db1d775a7,Update reno for stable/pike,MERGED,2017-08-18 08:01:02.000000000,2017-08-21 18:51:42.000000000,2017-08-21 18:51:42.000000000,9,2,0,495088,2b27c0a0ca15e69d4920e2d8ebe3ece2c2722218,15,5,4,2,22816,OpenStack Release Bot,release,"Update reno for stable/pike

Change-Id: I8d3b9dca7c1733b2d4ca11fda351846db1d775a7
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~I1c5e7a626ff386eccfc603946233601f72df1c7d,openstack/openstack-ansible-rabbitmq_server,master,reno-pike,I1c5e7a626ff386eccfc603946233601f72df1c7d,Update reno for stable/pike,MERGED,2017-08-18 08:00:58.000000000,2017-08-21 18:51:36.000000000,2017-08-21 18:51:36.000000000,9,2,0,495085,0ab6163904426f48ba344273c3bd6d82210b2582,15,5,4,2,22816,OpenStack Release Bot,release,"Update reno for stable/pike

Change-Id: I1c5e7a626ff386eccfc603946233601f72df1c7d
"
openstack%2Fkolla~master~I4b49270a2e0781431e22dc411774e4c6440045d9,openstack/kolla,master,,I4b49270a2e0781431e22dc411774e4c6440045d9,base: enable 'opstools' repo on AArch64/CentOS,MERGED,2017-08-21 11:54:35.000000000,2017-08-21 18:50:53.000000000,2017-08-21 18:50:53.000000000,6,0,0,495828,f673da392698d057eeae97ed52ee0f99a76c3ee9,12,6,1,1,24072,Marcin Juszkiewicz,hrw,"base: enable 'opstools' repo on AArch64/CentOS

To build 'fluentd' image we need to have 'opstools' repo enabled.

On x86-64 it is enabled by installing proper centos-release-opstools
package but this option is not available (yet) for aarch64.

Change-Id: I4b49270a2e0781431e22dc411774e4c6440045d9
"
openstack%2Fopenstack-ansible-rsyslog_server~master~I3717aa18caddd4e9f2262fa0ec357fe1ad8831d0,openstack/openstack-ansible-rsyslog_server,master,reno-pike,I3717aa18caddd4e9f2262fa0ec357fe1ad8831d0,Update reno for stable/pike,MERGED,2017-08-18 08:01:16.000000000,2017-08-21 18:50:34.000000000,2017-08-21 18:50:34.000000000,10,3,0,495097,4200ec59ecb3bb486314ea0ba330aea1da40fb96,15,5,4,2,22816,OpenStack Release Bot,release,"Update reno for stable/pike

Change-Id: I3717aa18caddd4e9f2262fa0ec357fe1ad8831d0
"
openstack%2Fopenstack-ansible-repo_server~master~I3b9fd42f66d774b10114e10ea42fa8a9cdeceb89,openstack/openstack-ansible-repo_server,master,reno-pike,I3b9fd42f66d774b10114e10ea42fa8a9cdeceb89,Update reno for stable/pike,MERGED,2017-08-18 08:01:07.000000000,2017-08-21 18:50:28.000000000,2017-08-21 18:50:28.000000000,9,2,0,495091,1f3e57e953754239de0b8111d7324b87ca5c88c1,15,5,4,2,22816,OpenStack Release Bot,release,"Update reno for stable/pike

Change-Id: I3b9fd42f66d774b10114e10ea42fa8a9cdeceb89
"
openstack%2Fpython-saharaclient~master~I792b4e7f0182e042086555f612d188d6dea03cf1,openstack/python-saharaclient,master,bug/1630563,I792b4e7f0182e042086555f612d188d6dea03cf1,Adding volume_mount_prefix parameter,MERGED,2017-08-14 19:15:32.000000000,2017-08-21 18:50:14.000000000,2017-08-21 18:50:14.000000000,10,5,0,493647,4ac9f74fae84db8cc33206ab56a43a2538880c7f,12,3,1,2,8932,Telles Mota Vidal NÃ³brega,tellesnobrega,"Adding volume_mount_prefix parameter

Adding this parameter to create and update on the CLI

Change-Id: I792b4e7f0182e042086555f612d188d6dea03cf1
Closes-bug: #1630563
"
openstack%2Fopenstack-ansible-rsyslog_client~master~Ic2a01b73b49534f552b35bd32778b4a7c97c905c,openstack/openstack-ansible-rsyslog_client,master,reno-pike,Ic2a01b73b49534f552b35bd32778b4a7c97c905c,Update reno for stable/pike,MERGED,2017-08-18 08:01:12.000000000,2017-08-21 18:50:09.000000000,2017-08-21 18:50:09.000000000,9,2,0,495094,cd0588d997fd1916b0b60ee9810dfd38732e2a95,15,5,4,2,22816,OpenStack Release Bot,release,"Update reno for stable/pike

Change-Id: Ic2a01b73b49534f552b35bd32778b4a7c97c905c
"
openstack%2Fopenstack-ansible-os_designate~master~Ifa0e3896b8a8cb118a422343a0d56f3e875990f0,openstack/openstack-ansible-os_designate,master,reno-pike,Ifa0e3896b8a8cb118a422343a0d56f3e875990f0,Update reno for stable/pike,MERGED,2017-08-18 08:01:19.000000000,2017-08-21 18:50:03.000000000,2017-08-21 18:50:03.000000000,7,0,0,495100,a21469c3fac96c61a111229447386e51e384dfad,13,5,3,2,22816,OpenStack Release Bot,release,"Update reno for stable/pike

Change-Id: Ifa0e3896b8a8cb118a422343a0d56f3e875990f0
"
openstack%2Fopenstack-ansible-os_glance~master~Ic3279b2d6499a1e0777a760abf2bff096e016856,openstack/openstack-ansible-os_glance,master,update_links_readme,Ic3279b2d6499a1e0777a760abf2bff096e016856,Update links in README,MERGED,2017-08-19 11:01:41.000000000,2017-08-21 18:49:44.000000000,2017-08-21 18:49:44.000000000,2,2,0,495502,6d06dbb5f9c2f7610476f63de4ac8c2722cd1bde,7,3,1,1,23314,lidong,lidong,"Update links in README

Change the outdated links to the latest links in README

Change-Id: Ic3279b2d6499a1e0777a760abf2bff096e016856
"
openstack%2Fnova~stable%2Fnewton~I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3,openstack/nova,stable/newton,bug/1692397,I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3,Exclude deleted service records when calling hypervisor statistics,MERGED,2017-05-26 19:58:58.000000000,2017-08-21 18:49:11.000000000,2017-08-21 18:49:11.000000000,51,1,0,468528,6dc2a0ec1cfe70bbf0f50a36bca5d2794e34e1b1,49,10,2,2,6873,Matt Riedemann,mriedem,"Exclude deleted service records when calling hypervisor statistics

Hypervisor statistics could be incorrect if not
exclude deleted service records from DB.

User may stop 'nova-compute' service on some
compute nodes and delete the service from nova.
When delete 'nova-compute' service, it performs
'soft-delete' to the corresponding db records in
both 'service' table and 'compute_nodes' table if
the compute_nodes record is old, i.e. it is linked
to the service record. For modern compute_nodes
records, they aren't linked to the services table
so deleting the services record will not delete
the compute_nodes record, and the ResourceTracker
won't recreate the compute_nodes record if the host
and hypervisor_hostname still match the existing
record, but restarting the process after deleting
the service will create a new services table record
with the same host/binary/topic.

If the 'nova-compute' service on that server
re-starts, it will automatically add a record
in 'compute_nodes' table (assuming it was deleted
because it was an old-style record) and also a correspoding
record in 'service' table, and if the host name
of the compute node did not change, the newly
created records in 'service' and 'compute_nodes'
table will be identical to the priously soft-deleted
records except the deleted row.

When calling Hypervisor-statistics, the DB layer
joined records across the whole deployment by
comparing records' host field selected from
serivce table and records' host field selected
from compute_nodes table, and the calculated
results could be multiplied if multiple records
from service table have the same host field,
and this scenario could happen if user perform
the above actions.

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Change-Id: I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3
Closes-Bug: #1692397
(cherry picked from commit 3d3e9cdd774efe96f468f2bcba6c09a40f5e71d3)
(cherry picked from commit 74e2a400b2ea3b011f88a7dbd8bb0fa3547b3bfa)
"
openstack%2Fpython-swiftclient~stable%2Fpike~I2877028999b110cf2f3ceac5f8743189dd9d29fa,openstack/python-swiftclient,stable/pike,create-pike,I2877028999b110cf2f3ceac5f8743189dd9d29fa,Update UPPER_CONSTRAINTS_FILE for stable/pike,MERGED,2017-07-28 21:08:10.000000000,2017-08-21 18:49:07.000000000,2017-08-21 18:49:07.000000000,1,1,0,488813,9a60bc1307f47682d45af2b96936eb7dcd77aa98,9,4,1,1,22816,OpenStack Release Bot,release,"Update UPPER_CONSTRAINTS_FILE for stable/pike

Change-Id: I2877028999b110cf2f3ceac5f8743189dd9d29fa
"
openstack%2Fpython-swiftclient~stable%2Fpike~Ib8c97110142b06cf0c1d0d2f7173fc631d28d39d,openstack/python-swiftclient,stable/pike,create-pike,Ib8c97110142b06cf0c1d0d2f7173fc631d28d39d,Update .gitreview for stable/pike,MERGED,2017-07-28 21:08:09.000000000,2017-08-21 18:48:51.000000000,2017-08-21 18:48:51.000000000,1,0,0,488812,e6bd6a484b0d7b64797f0615970c4070ff3a8574,7,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/pike

Change-Id: Ib8c97110142b06cf0c1d0d2f7173fc631d28d39d
"
openstack%2Fcinder~stable%2Fpike~I664c0419b91952bc046c28d2474f52266bdbc351,openstack/cinder,stable/pike,bug/1696470,I664c0419b91952bc046c28d2474f52266bdbc351,IBM storage: check pyxcli version on initialize,MERGED,2017-08-17 19:26:04.000000000,2017-08-21 18:48:30.000000000,2017-08-21 18:48:30.000000000,39,1,0,494683,bfa095470005cce7a4a35dd30d2783aef0362e49,19,3,1,4,13047,Isaac Beckman,isaacb,"IBM storage: check pyxcli version on initialize

The IBM storage driver is using a python client called pyxcli.
the client is:
https://github.com/IBM/pyxcli

Upon initialization of IBM Storage driver need to check if
the required client version is installed.

Change-Id: I664c0419b91952bc046c28d2474f52266bdbc351
Closes-Bug: 1696470
(cherry picked from commit 71ff2adb6dab0d86560f8cb24e5bfc006d5b7364)
"
openstack%2Fcinder~stable%2Fpike~I7875de28cfd5bf15df754952adb90d2b9858c6de,openstack/cinder,stable/pike,bug/1706319,I7875de28cfd5bf15df754952adb90d2b9858c6de,Ibm_storage - fix delete group with replication,MERGED,2017-08-17 12:21:39.000000000,2017-08-21 18:48:22.000000000,2017-08-21 18:48:22.000000000,44,0,0,494512,075df508c42f4351cc76df4e5f6a4035b4dc3dee,19,3,1,2,13047,Isaac Beckman,isaacb,"Ibm_storage - fix delete group with replication

Running delete_group fails with no details.
The reason for this is because there is no informative message
when the action fails.

Change-Id: I7875de28cfd5bf15df754952adb90d2b9858c6de
Closes-Bug: 1706319
"
openstack%2Fopenstack-zuul-jobs~master~Ie577aa1c603158b1a71f8107113de51bddc1a771,openstack/openstack-zuul-jobs,master,494670,Ie577aa1c603158b1a71f8107113de51bddc1a771,Remove publish-openstack-python-branch-tarball job,MERGED,2017-08-17 18:30:11.000000000,2017-08-21 18:46:13.000000000,2017-08-21 18:46:13.000000000,0,29,0,494670,cdc3f2bad2f877efd5c6d071199f87af5cce1544,9,3,2,2,4162,Paul Belanger,pabelanger,"Remove publish-openstack-python-branch-tarball job

We'll be moving this into project-config

Change-Id: Ie577aa1c603158b1a71f8107113de51bddc1a771
Depends-On: I8ef01f14b2bde71c335017f0bbc8532b91f226b6
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Ftripleo-ci~master~I9a8cfaa4b80096e758a5bccbcf2cd84f427baf06,openstack/tripleo-ci,master,inves,I9a8cfaa4b80096e758a5bccbcf2cd84f427baf06,DONT REVIEW: test openstakc version,ABANDONED,2017-08-20 14:06:00.000000000,2017-08-21 18:29:09.000000000,,4,0,0,495550,828d26f773e81660ab7162bd77e529b454db0c91,12,3,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"DONT REVIEW: test openstakc version

nothing here

Change-Id: I9a8cfaa4b80096e758a5bccbcf2cd84f427baf06
"
openstack%2Fnetworking-sfc~master~If3fee929a4764c1f083d12508df08a9928ae0d47,openstack/networking-sfc,master,openstack/requirements,If3fee929a4764c1f083d12508df08a9928ae0d47,Updated from global requirements,MERGED,2017-08-18 04:44:38.000000000,2017-08-21 18:27:10.000000000,2017-08-21 18:27:10.000000000,3,3,0,494851,af5e29430356318130bf8c93a7dcf4c5f119fb87,11,4,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: If3fee929a4764c1f083d12508df08a9928ae0d47
"
openstack%2Fopenstack-ansible~stable%2Focata~I7a35ad24deb9ee6fca39ecf975cb39b22270b5c0,openstack/openstack-ansible,stable/ocata,ocata_rally_fix,I7a35ad24deb9ee6fca39ecf975cb39b22270b5c0,Move rally_all.yml into utility_all.yml,MERGED,2017-08-18 15:25:26.000000000,2017-08-21 18:21:10.000000000,2017-08-21 18:21:10.000000000,2,19,0,495354,14e8d1e75402c56aef383633010bfc46c22ad376,7,3,1,2,16479,weezer su,weezS,"Move rally_all.yml into utility_all.yml

os-rally-install.yml uses hosts: utility_all, so move the rally_all
variables into the utility_all

Change-Id: I7a35ad24deb9ee6fca39ecf975cb39b22270b5c0
"
openstack%2Fopenstack-ansible~stable%2Fnewton~I40af9cdcc22633be361d03dd67015e8afa3d0c9b,openstack/openstack-ansible,stable/newton,newton_rally_variable,I40af9cdcc22633be361d03dd67015e8afa3d0c9b,Move rally_all.yml into utility_all.yml,MERGED,2017-08-17 21:23:34.000000000,2017-08-21 18:20:23.000000000,2017-08-21 18:20:23.000000000,2,19,0,494717,0b12bb422c8841e6a7e7600c104d936f8394f936,17,5,4,2,16479,weezer su,weezS,"Move rally_all.yml into utility_all.yml

os-rally-install.yml uses hosts: utility_all, so move the rally_all
variables into the utility_all

Change-Id: I40af9cdcc22633be361d03dd67015e8afa3d0c9b
"
openstack%2Fironic-ui~stable%2Fpike~I18072f749117421eede8d7c32ca3a2623e47f41f,openstack/ironic-ui,stable/pike,zanata/translations,I18072f749117421eede8d7c32ca3a2623e47f41f,Imported Translations from Zanata,MERGED,2017-08-21 10:54:27.000000000,2017-08-21 18:16:25.000000000,2017-08-21 18:16:25.000000000,14,17,0,495819,9875659f085996fa1d88e86fd8f1571fc86516bb,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I18072f749117421eede8d7c32ca3a2623e47f41f
"
openstack%2Fswift~stable%2Fpike~Ia81586d568030ffa022fad42830075fe6ff69dcf,openstack/swift,stable/pike,create-pike,Ia81586d568030ffa022fad42830075fe6ff69dcf,Update UPPER_CONSTRAINTS_FILE for stable/pike,MERGED,2017-08-21 13:47:07.000000000,2017-08-21 18:14:41.000000000,2017-08-21 18:14:41.000000000,1,1,0,495859,c54c6b3aade8e15547d946adb284e650871d0ac5,7,2,1,1,22816,OpenStack Release Bot,release,"Update UPPER_CONSTRAINTS_FILE for stable/pike

Change-Id: Ia81586d568030ffa022fad42830075fe6ff69dcf
"
openstack%2Fswift~stable%2Fpike~Ia31590dfb59580d1d6ad444bb599b963c56b042e,openstack/swift,stable/pike,create-pike,Ia31590dfb59580d1d6ad444bb599b963c56b042e,Update .gitreview for stable/pike,MERGED,2017-08-21 13:47:06.000000000,2017-08-21 18:07:01.000000000,2017-08-21 18:07:01.000000000,1,0,0,495858,06d229abb1a7a5c4d7b2bc81c92b4a21ba3b8592,7,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/pike

Change-Id: Ia31590dfb59580d1d6ad444bb599b963c56b042e
"
openstack%2Ftripleo-heat-templates~master~Ic94373f0a0758e9959e1f896481780674437147d,openstack/tripleo-heat-templates,master,bug/1700912,Ic94373f0a0758e9959e1f896481780674437147d,Add logrotate with crond service,MERGED,2017-08-02 14:48:19.000000000,2017-08-21 18:04:02.000000000,2017-08-21 18:04:02.000000000,118,0,1,490050,8a03456056b22a0abff470dfd81334e369ae4cbc,76,10,18,22,6926,Bogdan Dobrelya,bogdando,"Add logrotate with crond service

Add a docker service template to provide containerized services
logs rotation with a crond job.
Add OS::TripleO::Services::LogrotateCrond to CI multinode-containers
and to all environments among with generic services like Ntp or Kernel.
Set it to OS::Heat::None for non containerized environments and
only enable it to the environments/docker.yaml.

Closes-bug: #1700912

Change-Id: Ic94373f0a0758e9959e1f896481780674437147d
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Faodh~master~Icaf14619971a37db7d8818c73c9b152cd63c6bc2,openstack/aodh,master,reno-pike,Icaf14619971a37db7d8818c73c9b152cd63c6bc2,Update reno for stable/pike,MERGED,2017-08-21 14:36:29.000000000,2017-08-21 17:54:41.000000000,2017-08-21 17:54:41.000000000,7,0,0,495893,fb1678627caba6f0c2af7c42a84408c240d28b08,7,3,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/pike

Change-Id: Icaf14619971a37db7d8818c73c9b152cd63c6bc2
"
openstack%2Faodh~stable%2Fpike~If265fac166e75656af57528ff3570e267ce3c5b1,openstack/aodh,stable/pike,create-pike,If265fac166e75656af57528ff3570e267ce3c5b1,Update .gitreview for stable/pike,MERGED,2017-08-21 14:36:28.000000000,2017-08-21 17:48:13.000000000,2017-08-21 17:48:13.000000000,1,0,0,495892,8344fd8cc0c914fa8c90c368074052f4df80cd36,7,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/pike

Change-Id: If265fac166e75656af57528ff3570e267ce3c5b1
"
openstack%2Fsahara~master~I840559d54ca474299eeec9812dc1573ab305bc1b,openstack/sahara,master,bug/1709071,I840559d54ca474299eeec9812dc1573ab305bc1b,Add CDH validation for attached volume size,MERGED,2017-08-16 08:44:34.000000000,2017-08-21 17:47:36.000000000,2017-08-21 17:47:36.000000000,47,8,2,494123,a126fb2140c4dc297520d8e48a3149b84eefd5cd,16,6,3,5,22689,Shu Yingya,ShuYingya,"Add CDH validation for attached volume size

CDH plugin has a DATANODE configuration parameter
called ""dfs_datanode_du_reserved"". If user sets cinder volume
as the storage location and sets volumes size less than the value
of the parameter, HDFS would not work. The cluster deployment
would be Error in ""Starting"" Step because of ""Oozie Share Lib Upload
Failed"".
This patch adds a validation in ""Validating"" Step before spawning
Cluster.

BTW, If this situation (volume size less than ""du_reserved"")
happen in Vanilla, Spark plugin, the deploy can finish successfully,
but the HDFS can't be used when upload file to HDFS.

Closes-Bug: #1709071
Change-Id: I840559d54ca474299eeec9812dc1573ab305bc1b
"
openstack%2Ftripleo-quickstart-extras~master~Ib25b2e9daf6b2ddaffc490552f9cc453c26f1a65,openstack/tripleo-quickstart-extras,master,fix-periodic,Ib25b2e9daf6b2ddaffc490552f9cc453c26f1a65,Add quickstart-* repos to build-images role,MERGED,2017-08-21 09:35:52.000000000,2017-08-21 17:44:08.000000000,2017-08-21 17:44:08.000000000,1,0,4,495787,0b4b09dd9b056e888ec389b974a87f68b52387cd,22,6,1,1,16312,Alfredo Moralejo,amoralej,"Add quickstart-* repos to build-images role

https://review.openstack.org/#/c/494056 renamed repo and repofile
names for jobs in triple-ci.  However the list of repositories
configured in the build-image role still points to the old ""centos-*""
repofile name [1].

This patch adds repos /etc/yum.repos.d/quickstart-* to the default
list of repos to make build-images role compatible with new repos
configuration.

[1] https://github.com/openstack/tripleo-quickstart-extras/blob/master/roles/build-images/defaults/main.yml#L20

Closes-Bug: #1712029

Change-Id: Ib25b2e9daf6b2ddaffc490552f9cc453c26f1a65
"
openstack%2Ftripleo-heat-templates~master~I6308a317ffe0af244396aba5197c85e273e69f68,openstack/tripleo-heat-templates,master,mds3,I6308a317ffe0af244396aba5197c85e273e69f68,Let mds create manila key and fs,MERGED,2017-07-11 10:15:54.000000000,2017-08-21 17:22:50.000000000,2017-08-21 17:22:50.000000000,51,16,8,482496,ad8589212cee744351b9d224265fed9ed1dbf447,68,6,10,9,7582,Jan Provaznik,jprovazn,"Let mds create manila key and fs

ceph-ansible will take care of setting up client keys both
in ceph and on client side. It will also create filesystem
for manila. To assure that manila manifest can work in future
both with puppet and with ceph-ansible, creation of filesystem
is moved to ceph-mds manifest and creation of manila key on ceph
side is moved to ceph-base (so manila key is always created),
manila key is added to ceph-external for external ceph deployments.
Key creation is removed from manila.pp in patch
I2b5567a39ac8737e80758b705818cc1807dc8bf1

Change-Id: I6308a317ffe0af244396aba5197c85e273e69f68
Related-To: Ia3ef9e9a2b159dacea01e38762145ff2bcc7ba27
Depends-On: I3f18bbe476c4f43fa4e162cc66c5df443122cd0c
"
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fnewton~I85b48f53a7ad33f91186c6a6e38bc45f73dc09c4,openstack/openstack-ansible-haproxy_server,stable/newton,easy-overrides,I85b48f53a7ad33f91186c6a6e38bc45f73dc09c4,Allow HAproxy repo/gpg overrides without extra-vars,MERGED,2017-08-21 11:54:36.000000000,2017-08-21 17:18:32.000000000,2017-08-21 17:18:32.000000000,26,4,1,495829,7bffdd5ad110e1cd3d7006fbc3691143c145fddf,7,3,1,3,6816,Jesse Pretorius,jesse-pretorius,"Allow HAproxy repo/gpg overrides without extra-vars

It may be required to override the repo/key information
so that a different repo source is used. This patch
allows that to be done.

It includes setting the repo file to a static value for
easier management and a transition task to remove the
old configured source file.

Change-Id: I85b48f53a7ad33f91186c6a6e38bc45f73dc09c4
"
openstack%2Ftripleo-heat-templates~master~Ib9b533249be37665b77396a76133cc42fd15ee2b,openstack/tripleo-heat-templates,master,bp/tls-via-certmonger-containers,Ib9b533249be37665b77396a76133cc42fd15ee2b,TLS for containerized horizon,MERGED,2017-08-18 07:50:21.000000000,2017-08-21 17:13:53.000000000,2017-08-21 17:13:53.000000000,18,0,0,494989,8ba30a1912979925fa37e210df5ecaab47b07c33,14,9,2,2,10873,Juan Antonio Osorio Robles,ejuaoso,"TLS for containerized horizon

bind mount the certificates needed for TLS.

bp tls-via-certmonger-containers

Change-Id: Ib9b533249be37665b77396a76133cc42fd15ee2b
"
openstack%2Fopenstack-ansible-os_rally~stable%2Fnewton~I8345a655f3e2de668a53ad9aabe53e486851f485,openstack/openstack-ansible-os_rally,stable/newton,fix_create_message,I8345a655f3e2de668a53ad9aabe53e486851f485,Correct the search message in Create/upgrade Rally DB schema task,MERGED,2017-08-18 20:03:30.000000000,2017-08-21 17:09:46.000000000,2017-08-21 17:09:46.000000000,2,2,0,495419,b6377aeeddb894ded8888966e574d8b0ea4c7022,12,4,3,1,16479,weezer su,weezS,"Correct the search message in Create/upgrade Rally DB schema task

correct the search message in Create/upgrade Rally DB schema task
for database-setup.yml. Add ""Table 'rally.deployments' doesn't exist""
because the aio or mn-aio env will have the DB but no table exist.

Change-Id: I8345a655f3e2de668a53ad9aabe53e486851f485
"
openstack%2Fdevstack-gate~master~I067a8681b55fd001d0e0d7ab87585db50f72c920,openstack/devstack-gate,master,storyboard_2000149,I067a8681b55fd001d0e0d7ab87585db50f72c920,Fail properly if failing to clone a project,ABANDONED,2015-02-04 14:02:21.000000000,2017-08-21 17:09:00.000000000,,4,0,7,152900,664f9ebce8e4a3ff73fab5d7124f3202cce56f62,24,6,5,1,1921,Andrea Frittoli,andrea-frittoli,"Fail properly if failing to clone a project

The git_clone_and_cd assumes the clone was successful and tries
to cd into the clone folder. If the clone fails, d-g will
eventually fail, but not with the right error.

Closes-Bug: #2000149
Change-Id: I067a8681b55fd001d0e0d7ab87585db50f72c920
"
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fnewton~I0fed53b917f641a38bd97aff7cbcfdf4b46243f6,openstack/openstack-ansible-haproxy_server,stable/newton,easy-overrides,I0fed53b917f641a38bd97aff7cbcfdf4b46243f6,Optimise task execution,MERGED,2017-08-21 12:08:34.000000000,2017-08-21 17:08:53.000000000,2017-08-21 17:08:53.000000000,31,35,0,495832,179975e02b2aadb28096335e03da8b0185ab0a9c,7,3,1,2,6816,Jesse Pretorius,jesse-pretorius,"Optimise task execution

Use block/rescue for the apt_key tasks and use
a dynamic include for the distro-specific install
inclusion. This optimises the execution of the
role.

Change-Id: I0fed53b917f641a38bd97aff7cbcfdf4b46243f6
"
openstack%2Fcinder~master~Ib610e6f9c82259f9dd2db37178b24d964a38e20d,openstack/cinder,master,vzcap,Ib610e6f9c82259f9dd2db37178b24d964a38e20d,vstorage: added vz:volume_format vendor property,MERGED,2017-05-16 15:14:26.000000000,2017-08-21 16:45:30.000000000,2017-08-21 16:45:30.000000000,75,14,1,465091,1f69f7507e2c8e0b65516710e974ba6932b5f5a2,78,30,4,3,21284,Pavel Gluschak (scsnow),scsnow,"vstorage: added vz:volume_format vendor property

VStorage backend is able to deal with multiple volume
formats. Now desired volume format may be chosen by
setting vz:volume_format property in volume type
extra spec.

Change-Id: Ib610e6f9c82259f9dd2db37178b24d964a38e20d
Signed-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>
"
openstack%2Fglance~stable%2Fpike~Ib56b600dbf53672bcaa4fd959adb736de4cdff50,openstack/glance,stable/pike,bug/1711362,Ib56b600dbf53672bcaa4fd959adb736de4cdff50,Return 404 for import-info call,MERGED,2017-08-21 09:42:54.000000000,2017-08-21 16:36:48.000000000,2017-08-21 16:36:48.000000000,26,7,0,495790,c8873ccc18f1847e92a90e1ece03a15a4d40712d,7,3,1,2,9303,Abhishek Kekane,abhishekkekane,"Return 404 for import-info call

Change the response to GET v2/info/import to be a 404 when Glance is
configured with enable_image_import = False so that the response is
consistent with the v2.5 API.  See the bug for details.

Change-Id: Ib56b600dbf53672bcaa4fd959adb736de4cdff50
Closes-bug: #1711362
(cherry picked from commit 692dc040872e04d27469570a508018c44f8d88ef)
"
openstack%2Fopenstack-ansible~master~Ib371c3513081a82271f18cde340e1cd9465a3da6,openstack/openstack-ansible,master,osa-add-suse-support,Ib371c3513081a82271f18cde340e1cd9465a3da6,Vagrantfile: Increase VM memory size to 12G,MERGED,2017-08-21 14:02:34.000000000,2017-08-21 16:35:19.000000000,2017-08-21 16:22:04.000000000,1,1,0,495866,15c420206fbef6c18952138aa91d2d60c5220178,8,4,1,1,23163,Markos Chandras (hwoarang),mchandras,"Vagrantfile: Increase VM memory size to 12G

Running AIO on Vagrant results in the entire 8G of memory being used.
This makes the VM really slow after a while and as a result of which
various services may start to fail due to timeouts. It's best to
increase the VM memory to 12G in order to make testing on Vagrant
smoother.

Related-Bug: #1711376
Change-Id: Ib371c3513081a82271f18cde340e1cd9465a3da6
"
openstack%2Fopenstack-ansible~master~Icfd7d2944fda0b419e742f153d338914fedcc20d,openstack/openstack-ansible,master,osa-add-suse-support,Icfd7d2944fda0b419e742f153d338914fedcc20d,Vagrantfile: Add openSUSE support,MERGED,2017-08-21 14:02:34.000000000,2017-08-21 16:22:18.000000000,2017-08-21 16:22:18.000000000,37,0,0,495867,2603e5a74e0e6b96bf51aba33051d189305c7318,8,3,1,1,23163,Markos Chandras (hwoarang),mchandras,"Vagrantfile: Add openSUSE support

In preparation for adding openSUSE support, we extend the Vagrantfile
to support openSUSE Leap 42.2/42.3 and extend the btrfs filesystem to the
requested size. The parted version in Leap 42.2/42.3 does not allow online
partition size alternations so we delete and re-create the partition
using fdisk.

Change-Id: Icfd7d2944fda0b419e742f153d338914fedcc20d
"
openstack%2Fopenstack-ansible~stable%2Fnewton~I2803b4b6814680af39594e205fcf7be338a70091,openstack/openstack-ansible,stable/newton,,I2803b4b6814680af39594e205fcf7be338a70091,Create minor playbook to sync TZ data on upgrade,MERGED,2017-08-15 22:31:07.000000000,2017-08-21 16:21:57.000000000,2017-08-21 16:21:57.000000000,71,0,0,494028,8af5bfcebcd3ab60374192c826858efc011efb61,7,3,1,5,7353,Kevin Carter,cloudnull,"Create minor playbook to sync TZ data on upgrade

Keeping the timezone data in sync between containers and the host
machine should be done by default. This addition ensures that all
containers inherit the TZ data from the host they're running on.

Change-Id: I2803b4b6814680af39594e205fcf7be338a70091
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fnova~master~I2c1f575f806c3a605fdf213629015881bf87268c,openstack/nova,master,bug/1671288,I2c1f575f806c3a605fdf213629015881bf87268c,conf: Set default for live_migration_scheme,ABANDONED,2017-04-18 16:32:59.000000000,2017-08-21 16:16:52.000000000,,2,2,6,457716,edade4b91d8cef5ef6c2bc29b452dcdfe2c8c344,70,24,4,2,15334,Stephen Finucane,sfinucan,"conf: Set default for live_migration_scheme

There was a default hardcoded outside of the configuration option
itself. Fix this, so the documentation will reflect the default.

Change-Id: I2c1f575f806c3a605fdf213629015881bf87268c
"
openstack%2Freleases~master~I7c2bebd67a508fe07145b4721c2ec451b74faceb,openstack/releases,master,,I7c2bebd67a508fe07145b4721c2ec451b74faceb,Release monasca-notification 1.10.1 for Pike,MERGED,2017-08-21 14:27:22.000000000,2017-08-21 15:56:13.000000000,2017-08-21 15:56:13.000000000,4,0,0,495888,48f3560050ca15697bef30a892fd3074136b7368,7,3,1,1,16222,witek,witek,"Release monasca-notification 1.10.1 for Pike

Change-Id: I7c2bebd67a508fe07145b4721c2ec451b74faceb
"
openstack%2Freleases~master~I85ed20687b31ddb5628572a35f7c5b6a1415e36c,openstack/releases,master,kuryr-lib,I85ed20687b31ddb5628572a35f7c5b6a1415e36c,0.6.0 release of kuryr-lib,MERGED,2017-08-21 15:23:24.000000000,2017-08-21 15:54:55.000000000,2017-08-21 15:54:55.000000000,5,0,0,495905,5e0e3ba2ced2b42a2dd7e3e730659b3fc86aa81e,7,3,1,1,14352,Antoni Segura Puimedon,toni,"0.6.0 release of kuryr-lib

We should make a new release due to the requirements bump in
keystoneauth.

Change-Id: I85ed20687b31ddb5628572a35f7c5b6a1415e36c
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
"
openstack%2Fmagnum~master~Ie64e13720c8003b127ff937b506db357614ae6ee,openstack/magnum,master,fix,Ie64e13720c8003b127ff937b506db357614ae6ee,Move to OpenStack client,MERGED,2017-07-29 07:06:15.000000000,2017-08-21 15:52:30.000000000,2017-08-21 15:52:30.000000000,1,1,2,488927,65832dad7273885a06a324f5d71bab4f3554e9f9,12,5,3,1,26517,Anandprakash,anandprakash,"Move to OpenStack client

changed nova keypair-add command as it is
depricated instead used openstack client

Change-Id: Ie64e13720c8003b127ff937b506db357614ae6ee
"
openstack%2Fnova~master~I5a069943c57ddaf1f2a8598f685d17ed1fd1c915,openstack/nova,master,get-inventory,I5a069943c57ddaf1f2a8598f685d17ed1fd1c915,conf: Reword 'reserved_host_memory_mb' help text,ABANDONED,2017-04-28 14:09:06.000000000,2017-08-21 15:48:52.000000000,,5,9,0,461054,0ba849505e343bbc3ec26aff66b6f677ff831132,53,19,2,1,15334,Stephen Finucane,sfinucan,"conf: Reword 'reserved_host_memory_mb' help text

Synchronize the wording with that of the 'reserved_host_disk_mb',
'reserved_host_disk_gb' images.

Change-Id: I5a069943c57ddaf1f2a8598f685d17ed1fd1c915
"
openstack%2Fnova~master~Iad2fb4b7b0a3ab47ae527936edab2f08afd9c931,openstack/nova,master,get-inventory,Iad2fb4b7b0a3ab47ae527936edab2f08afd9c931,Replace reserved_host_disk_mb with reserved_host_disk_gb,ABANDONED,2017-04-27 16:11:14.000000000,2017-08-21 15:48:36.000000000,,105,38,4,460661,bc5dda15c604a304f4eb4fd5039b8cac330e7ef6,62,17,3,12,15334,Stephen Finucane,sfinucan,"Replace reserved_host_disk_mb with reserved_host_disk_gb

There's a common pattern, particularly for resource trackers, of
converting 'reserved_host_disk_mb' to GBs. Given that disks are
routinely measured in the hundreds of GB, there's little reason to keep
this level of granularity around and force a potentially buggy
conversion process.

Add a new configuration option - 'reserved_host_disk_gb' - which
replaces the now deprecated 'reserved_host_disk_mb' option. A helper
method is included to make sure people don't do silly things like set
both values at the same time.

Change-Id: Iad2fb4b7b0a3ab47ae527936edab2f08afd9c931
"
openstack%2Fmagnum~stable%2Fmitaka~Ia54df4a26c2c365c4e54ac10ee2e09ef8d747751,openstack/magnum,stable/mitaka,bug/1653206,Ia54df4a26c2c365c4e54ac10ee2e09ef8d747751,"To take project and domain details from configuration in Mitaka relase, mandatory paramteres needed by keysonte V3",ABANDONED,2017-01-03 08:11:59.000000000,2017-08-21 15:48:02.000000000,,3,1,1,416171,84db32734df7b39b01170867a8dce71edf94047f,5,3,1,1,14961,Prateek khushalani,prateek.k,"To take project and domain details from configuration in Mitaka relase, mandatory paramteres needed by keysonte V3

Change-Id: Ia54df4a26c2c365c4e54ac10ee2e09ef8d747751
Closes-Bug: 1653206
"
openstack%2Fopenstack-ansible-os_neutron~stable%2Fpike~Ieddb042952c7b1e12b62116daf1d7f6c199f93b8,openstack/openstack-ansible-os_neutron,stable/pike,,Ieddb042952c7b1e12b62116daf1d7f6c199f93b8,Updated from OpenStack Ansible Tests,MERGED,2017-08-21 06:47:38.000000000,2017-08-21 15:42:20.000000000,2017-08-21 15:42:20.000000000,5,3,0,495737,82689512c8134fd9daa9afab0145961e7b39618a,10,3,1,2,23163,Markos Chandras (hwoarang),mchandras,"Updated from OpenStack Ansible Tests

Change-Id: Ieddb042952c7b1e12b62116daf1d7f6c199f93b8
(cherry picked from commit 1dffcac7d9b8b32a8d2b6cb31857ba48d2c648f5)
"
openstack%2Fironic~master~If7749c49604f5eac1c0307dbfea9d35cb64d3de0,openstack/ironic,master,reno-9.0.1,If7749c49604f5eac1c0307dbfea9d35cb64d3de0,[reno] Add prelude for intermediate Pike 9.0.1 release,ABANDONED,2017-08-17 20:24:49.000000000,2017-08-21 15:39:13.000000000,,10,0,0,494693,e585ba8cbb5b890d85ef4ded887f2a6127db44a7,6,5,1,1,6618,Ruby Loo,rloo,"[reno] Add prelude for intermediate Pike 9.0.1 release

This adds a note to the intermediate 9.0.1 release, to indicate
that 9.0.1 should be used instead of 9.0.0.

Change-Id: If7749c49604f5eac1c0307dbfea9d35cb64d3de0
"
openstack%2Fcinder~master~I848f6feaefbdbddb1f77b699012a96b235f7d7eb,openstack/cinder,master,bug/1698433,I848f6feaefbdbddb1f77b699012a96b235f7d7eb,IBM Storage: add QoS documentation,MERGED,2017-07-23 13:57:07.000000000,2017-08-21 15:38:09.000000000,2017-08-18 07:54:41.000000000,90,33,29,486405,9ee61f9fda5d3d3127e871bbf2c877341cfd5e11,140,42,6,1,13047,Isaac Beckman,isaacb,"IBM Storage: add QoS documentation

Add best practice for using QoS feature with IBM Storage
Cinder driver
Also, handle some general text cleanup and formatting

Change-Id: I848f6feaefbdbddb1f77b699012a96b235f7d7eb
Closes-Bug: 1698433
"
openstack%2Fironic~master~I4d68ee02a37bb5c468a19fe2e7d76042e172d474,openstack/ironic,master,pike-reno,I4d68ee02a37bb5c468a19fe2e7d76042e172d474,[reno] Add prelude for Pike (9.1.0) release,ABANDONED,2017-08-17 15:35:03.000000000,2017-08-21 15:36:22.000000000,,36,0,0,494608,a073ef98af675348853cb922d25f15687321b95a,7,5,1,1,6618,Ruby Loo,rloo,"[reno] Add prelude for Pike (9.1.0) release

This adds the Prelude section for the Pike (9.1.0) release.
It includes changes from the 9.0.0 release (first release
in stable/pike).

Change-Id: I4d68ee02a37bb5c468a19fe2e7d76042e172d474
"
openstack%2Fglance~master~Ibe164f02c99d10f5a5edd0de96c665413a12f700,openstack/glance,master,bug/1711829,Ibe164f02c99d10f5a5edd0de96c665413a12f700,Fix Image API 'versions' response,MERGED,2017-08-19 17:10:15.000000000,2017-08-21 15:35:59.000000000,2017-08-21 13:19:37.000000000,472,372,0,495512,d3871a57b895902432bc7ddb98f9bb757cc2502b,11,5,1,5,5314,Brian Rosmaita,brian-rosmaita,"Fix Image API 'versions' response

Whether or not the v2.6 EXPERIMENTAL API is exposed at a site
depends on the enable_image_import config value.  If it's False
(the default), then the API a client sees is the CURRENT v2.5
API, and any of the v2.6 calls made against 2.5 return a 404
(same as if you were running Ocata).  This patch adjusts the
'versions' response so that when enable_image_import=False,
the EXPERIMENTAL v2.6 does not appear in the response.

Change-Id: Ibe164f02c99d10f5a5edd0de96c665413a12f700
Closes-bug: #1711829
"
openstack%2Fnova~master~I3fef0a935bb7fe9a91b1a1938ea47c86f0cf16fd,openstack/nova,master,clarify,I3fef0a935bb7fe9a91b1a1938ea47c86f0cf16fd,Clarify that vlan feature means nova-network support,MERGED,2017-06-28 16:16:36.000000000,2017-08-21 15:29:41.000000000,2017-08-21 15:29:41.000000000,2,2,0,478551,ae7adbc19e4124d8d21837c1734119c2c1866936,32,11,3,1,2750,Sean Dague,sdague,"Clarify that vlan feature means nova-network support

Change-Id: I3fef0a935bb7fe9a91b1a1938ea47c86f0cf16fd
Closes-Bug: #1612890
"
openstack%2Fnova~master~I12de2e195022593ea2a3e2894f2c3b5226930d4f,openstack/nova,master,491529,I12de2e195022593ea2a3e2894f2c3b5226930d4f,replace chance with filter scheduler in func tests,MERGED,2017-08-07 15:54:40.000000000,2017-08-21 15:29:19.000000000,2017-08-21 15:29:19.000000000,34,50,37,491529,cc833359870d3962326c35094adea2f525ec8141,181,21,14,40,9708,Balazs Gibizer,gibi,"replace chance with filter scheduler in func tests

FilterScheduler is the only scheduler driver that properly integrated
with placement api so this patch changes the functional test environment
to use the FilterScheduler instead of the ChanceScheduler.

The amount of vcpu the SmallFakeDriver reports need to be bumped to 2
as during resize to same host the filter scheduler doubles the
allocation on the host. Simply relying on the 16.0 default allocation
ratio does not work as the max_unit of the vcpu does not use the
allocation ratio to avoid that a single server overallocates the cpu.

The only change in unit test is
test_create_instance_with_oversubscribed_cpu which also loads the
SmallFakeDriver and asserts available resources on it.

Change-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f
"
openstack%2Foslo.messaging~master~I2bf79884704974dc00196816f7de43580b474d3e,openstack/oslo.messaging,master,delete_setup,I2bf79884704974dc00196816f7de43580b474d3e,Remove unnecessary setUp function in testcase,MERGED,2017-08-17 03:17:23.000000000,2017-08-21 15:27:50.000000000,2017-08-21 15:27:50.000000000,1,7,1,494362,80c628336144ed88538292d7db5a6c439f8d866d,14,3,3,2,25388,liuyamin,liuyamin,"Remove unnecessary setUp function in testcase

In testcase, setUp will be called automatically. This patch used
to remove setUp functions that do nothing. Besides, it will keep
code clean.

Change-Id: I2bf79884704974dc00196816f7de43580b474d3e
"
openstack%2Fneutron~master~Id50674c44cd3720dcd8fd6d66361d937599f5992,openstack/neutron,master,bug/1711165,Id50674c44cd3720dcd8fd6d66361d937599f5992,Treat Filter as Dict in get_policies,MERGED,2017-08-18 05:47:24.000000000,2017-08-21 15:23:22.000000000,2017-08-21 01:51:04.000000000,1,0,1,494953,23ef48ad558def5ed2ce701e651a50590ac323c0,15,5,1,1,17776,Reedip,Reedip,"Treat Filter as Dict in get_policies

Currently QoS plugin's get_policies doesnt check if the filter
is a dict or not, though similar checks exist in get_rule_types()
and get_policy_rules().
This patch adds the check so that if any consumer passes filters=None
then it is converted to a dict.

TrivialFix
Partial-Bug: #1711165

Change-Id: Id50674c44cd3720dcd8fd6d66361d937599f5992
"
openstack%2Fmistral-dashboard~master~I70fae369fa9dd1a7aba16282e66db5db90133c57,openstack/mistral-dashboard,master,openstack/requirements,I70fae369fa9dd1a7aba16282e66db5db90133c57,Updated from global requirements,MERGED,2017-08-18 11:32:35.000000000,2017-08-21 15:16:22.000000000,2017-08-21 15:16:22.000000000,1,1,0,495186,7f9c8210a5f2b719658f91b20c9ea1456bec926b,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I70fae369fa9dd1a7aba16282e66db5db90133c57
"
openstack%2Fpython-novaclient~master~I662fd366df8e79db1966d45a9e090087dbace4b0,openstack/python-novaclient,master,bug/1706597,I662fd366df8e79db1966d45a9e090087dbace4b0,Allow boot server with multiple nics,MERGED,2017-08-09 06:48:01.000000000,2017-08-21 15:14:36.000000000,2017-08-21 10:16:26.000000000,36,9,1,492003,0a3cf89c67a3fb78876137506fe57e645f4fabe4,12,4,2,3,8289,huangtianhua,huangtianhua,"Allow boot server with multiple nics

Trying to boot a server while specifying multiple
--nic parameters leads to an error: Invalid nic
argument.
This patch fixes it.

Change-Id: I662fd366df8e79db1966d45a9e090087dbace4b0
Closes-Bug: #1706597
"
openstack%2Fmistral-lib~master~I5e3c05f06fe5d21c80feb645a422a149aa68ed6f,openstack/mistral-lib,master,openstack/requirements,I5e3c05f06fe5d21c80feb645a422a149aa68ed6f,Updated from global requirements,MERGED,2017-08-18 11:32:37.000000000,2017-08-21 15:11:56.000000000,2017-08-21 15:11:56.000000000,1,1,0,495187,2198efb963c84ee7a565af0ac1877eca0ca7c448,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I5e3c05f06fe5d21c80feb645a422a149aa68ed6f
"
openstack%2Fceilometer~master~I6cb28913afc18b2a5d2a0c0612fad399ffa5a3b2,openstack/ceilometer,master,pollster-list,I6cb28913afc18b2a5d2a0c0612fad399ffa5a3b2,deprecated pollster-list,MERGED,2017-06-29 16:15:21.000000000,2017-08-21 15:09:24.000000000,2017-08-21 15:09:24.000000000,8,1,0,478988,32a7c4dfbd9ad794a3c5d300c4996c6586fc0626,14,5,2,2,6537,gordon chung,chungg,"deprecated pollster-list

we should only do this via polling.yaml (or pipeline.yaml for
pre-Pike builds)

Change-Id: I6cb28913afc18b2a5d2a0c0612fad399ffa5a3b2
"
openstack%2Fnova~master~I0df401a7c91f012fdb25cb0e6b344ca51de8c309,openstack/nova,master,bug/1709902,I0df401a7c91f012fdb25cb0e6b344ca51de8c309,delete allocation of evacuated instance,MERGED,2017-08-11 15:06:32.000000000,2017-08-21 15:08:52.000000000,2017-08-17 16:50:22.000000000,57,19,2,493037,9b9c2c52f323c536fb90bb29a40efbed1b129594,57,17,4,6,9708,Balazs Gibizer,gibi,"delete allocation of evacuated instance

After evacuation the instance has allocations on both the source and
the destination computes. This is OK as the source compute is down.
However after the source compute is brought up the allocation from
the source host needs to be cleaned up.

Closes-Bug: #1709902
Change-Id: I0df401a7c91f012fdb25cb0e6b344ca51de8c309
"
openstack%2Fzun~master~I810bd66bccb4c304edfaa92478764b17cccf47d1,openstack/zun,master,,I810bd66bccb4c304edfaa92478764b17cccf47d1,Remove _get_container in capsule,MERGED,2017-08-21 09:06:07.000000000,2017-08-21 15:07:59.000000000,2017-08-21 15:07:59.000000000,4,15,3,495771,303a554f268f04a5c2009b4cffc2a76850046a4a,11,5,2,2,23365,feng.shengqin,FengShengqin,"Remove _get_container in capsule

Change-Id: I810bd66bccb4c304edfaa92478764b17cccf47d1
"
openstack%2Fsenlin~master~I91a79b36f9b1bb4c856904ce2830cc19fffb9040,openstack/senlin,master,revise_log,I91a79b36f9b1bb4c856904ce2830cc19fffb9040,Revise log information,MERGED,2017-08-21 07:10:02.000000000,2017-08-21 15:07:53.000000000,2017-08-21 15:07:52.000000000,1,1,0,495739,1cb7c6e9a400e25d31ddf703657714c26b841ada,7,3,1,1,17645,Shan Guo,guoshan,"Revise log information

Change-Id: I91a79b36f9b1bb4c856904ce2830cc19fffb9040
"
openstack%2Fceilometer~master~I7c120fbc98698787c96533dbae6d5a683d6d4661,openstack/ceilometer,master,bug/1483564,I7c120fbc98698787c96533dbae6d5a683d6d4661,ensure timezone is included in timestamps,MERGED,2017-07-07 16:07:20.000000000,2017-08-21 15:04:52.000000000,2017-08-21 15:04:52.000000000,44,15,0,481687,232f8e90473568c2b7c5f3267d1f179721d007ac,19,7,3,5,6537,gordon chung,chungg,"ensure timezone is included in timestamps

default to UTC timezone if not provided.
- safe to change ironic tests as the test notifications were
malformed[1]

[1] https://github.com/openstack/ironic/blob/99ba58172c33baefa7af6bca55b7b3aba1fe695c/ironic/conductor/manager.py#L2159

Closes-Bug: #1483564
Change-Id: I7c120fbc98698787c96533dbae6d5a683d6d4661
"
openstack%2Fceilometer~master~I979adc9db3256aafb16584df542fb7e4fb7c1e61,openstack/ceilometer,master,measures,I979adc9db3256aafb16584df542fb7e4fb7c1e61,update measurements,MERGED,2017-08-10 21:23:54.000000000,2017-08-21 15:04:19.000000000,2017-08-21 15:04:19.000000000,59,1,4,492695,88a8c6e52a1c4e833526dca4af1ae3b649d3d8a9,13,6,2,1,6537,gordon chung,chungg,"update measurements

add new meters:
port meters: https://review.openstack.org/#/c/477883/
manila: https://review.openstack.org/#/c/472752
memory.swap: https://review.openstack.org/#/c/483283/

kwapi meter removed.

Change-Id: I979adc9db3256aafb16584df542fb7e4fb7c1e61
"
openstack%2Fi18n~master~Ia014da76d51fa538513702560cd86da2bb1ae958,openstack/i18n,master,495549,Ia014da76d51fa538513702560cd86da2bb1ae958,Fixes tox pep8 error in macOS,MERGED,2017-08-20 13:49:28.000000000,2017-08-21 15:00:38.000000000,2017-08-21 14:29:36.000000000,11,1,6,495549,e05d6d58a942d32b26c279be56da80fcddd48e06,22,5,5,2,26666,ChJR,ChJR,"Fixes tox pep8 error in macOS

Let's remove xargs GNU Extended option -r, --no-run-if-empty in tox.ini.

Change-Id: Ia014da76d51fa538513702560cd86da2bb1ae958
"
openstack%2Ftripleo-ci~master~I9969693aa2e46fa66e26213b59e23a225daec1af,openstack/tripleo-ci,master,,I9969693aa2e46fa66e26213b59e23a225daec1af,Copy Ceph logs from running containers,MERGED,2017-08-16 23:05:05.000000000,2017-08-21 14:58:26.000000000,2017-08-21 14:25:00.000000000,4,1,0,494340,8fe793b12457236160c2e91ff3f18d92bf7168cc,14,7,1,1,6796,Giulio Fidente,gfidente,"Copy Ceph logs from running containers

We need to copy from each container the /var/log/ceph directory if
that exists.

Change-Id: I9969693aa2e46fa66e26213b59e23a225daec1af
"
openstack%2Fopenstack-ansible-os_tacker~master~I529795aab772a8a27626a223b2b7233e7a87fa8b,openstack/openstack-ansible-os_tacker,master,495776,I529795aab772a8a27626a223b2b7233e7a87fa8b,Several bug fixes to integrate with sfc,ABANDONED,2017-08-21 09:14:12.000000000,2017-08-21 14:52:29.000000000,,6,328,0,495776,10469bd2ce5d37a91203e9486b5d8b679e250bc8,7,3,3,4,21883,Manuel Buil,mbuil,"Several bug fixes to integrate with sfc

The current role has several bugs which result in failures when integrating
tacker with networking-sfc

- networking-sfc python package must be installed in the venv
- the official tacker port is 9890, not 8888
- tacker.conf updated for ocata/pike

This patch was tested in OPNFV together with ODL and OVS and works

Change-Id: I529795aab772a8a27626a223b2b7233e7a87fa8b
Signed-off-by: Manuel Buil <mbuil@suse.com>
"
openstack%2Fironic-inspector~master~Ie0a03c8fbf00bdb4e3919eb0297d8b7e3cca8f01,openstack/ironic-inspector,master,reno-pike-version,Ie0a03c8fbf00bdb4e3919eb0297d8b7e3cca8f01,Release notes: specify pike versions,MERGED,2017-08-18 09:13:00.000000000,2017-08-21 14:50:39.000000000,2017-08-21 14:50:39.000000000,3,3,1,495127,98019af4a02d84a5beabe8b18a737122bd809e96,10,3,2,1,13636,aarefiev,aarefiev,"Release notes: specify pike versions

Pike is released, add version range.

Change-Id: Ie0a03c8fbf00bdb4e3919eb0297d8b7e3cca8f01
"
openstack%2Fmagnum~master~Ife2b60d1968482a8c3ab9b44abbe401c6230881c,openstack/magnum,master,kube-controller-certs,Ife2b60d1968482a8c3ab9b44abbe401c6230881c,Remove /etc/ssl/certs in the controller manager pod,MERGED,2017-07-28 16:10:32.000000000,2017-08-21 14:46:35.000000000,2017-08-21 14:46:35.000000000,0,12,2,488511,ae15aa6c28e4209e60a52ca6412b9c211f6866f5,51,6,6,1,1004,Mohammed Naser,mnaser,"Remove /etc/ssl/certs in the controller manager pod

For system such as Fedora Atomic, the CA bundle files which are
contained in /etc/ssl/certs are symbolic links to /etc/pki. When
configuring the controller manager to use an SSL endpoint, it will
raise an error as it is unable to authenticate the SSL endpoint.

This patch removes the host mount at /etc/ssl/certs.  The Hyperkube
images already ship a collection of CAs which are likely good for
all needs.

Closes-Bug: #1708452

Change-Id: Ife2b60d1968482a8c3ab9b44abbe401c6230881c
"
openstack%2Fmagnum~master~I701a0a8406a8393114d79c54d9f415b601fece98,openstack/magnum,master,remove_repeated_auth_url,I701a0a8406a8393114d79c54d9f415b601fece98,Remove repeated auth_url,MERGED,2017-08-06 07:23:27.000000000,2017-08-21 14:46:28.000000000,2017-08-21 14:46:28.000000000,0,1,0,491229,52ce6ae4d6d37d843e10fde5751b527b3aa7fb2a,9,5,1,1,17795,PanFengyun,panfy,"Remove repeated auth_url

Change-Id: I701a0a8406a8393114d79c54d9f415b601fece98
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I4d373346cf85ca037f1520058f6a3bce18489e3c,openstack/openstack-ansible-lxc_hosts,master,osa-add-suse-support,I4d373346cf85ca037f1520058f6a3bce18489e3c,vars: suse-42.yml: Only install required packages,MERGED,2017-08-21 11:55:08.000000000,2017-08-21 14:44:18.000000000,2017-08-21 14:44:18.000000000,4,0,0,495831,725b28dfa01acdcfb2108cbda8fa6c1be62ffa80,7,3,1,1,23163,Markos Chandras (hwoarang),mchandras,"vars: suse-42.yml: Only install required packages

Do not install (or update) recommended packages since that usually
brings a lot of extra packages that we may not need. As such, only
install or update what we explicitely asked for. This also speeds up
a lot the container creation process.

Change-Id: I4d373346cf85ca037f1520058f6a3bce18489e3c
"
openstack%2Fopenstack-ansible-lxc_hosts~master~Iba2871dbb8f8966f4dd36dfa9cbe56715ef091cc,openstack/openstack-ansible-lxc_hosts,master,osa-add-suse-support,Iba2871dbb8f8966f4dd36dfa9cbe56715ef091cc,tasks: lxc_install_zypper: Allow 'chown' capability for dnsmasq,MERGED,2017-08-21 11:55:08.000000000,2017-08-21 14:43:56.000000000,2017-08-21 14:43:56.000000000,1,0,0,495830,f81edd2de16a977bfcd4540eebc8a33a4fdae3d0,7,3,1,1,23163,Markos Chandras (hwoarang),mchandras,"tasks: lxc_install_zypper: Allow 'chown' capability for dnsmasq

This aims to fix the following error

type=AVC msg=audit(1503252906.316:152167): apparmor=""DENIED""
operation=""capable"" profile=""/usr/sbin/dnsmasq"" pid=31578 comm=""dnsmasq"" capability=0  capname=""chown

Change-Id: Iba2871dbb8f8966f4dd36dfa9cbe56715ef091cc
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I81d89299541211556bd76794a82475f3879fa297,openstack/openstack-ansible-openstack_hosts,master,set-centos-mirror,I81d89299541211556bd76794a82475f3879fa297,Allow override of RDO repo baseurl,MERGED,2017-08-18 15:07:02.000000000,2017-08-21 14:43:17.000000000,2017-08-21 14:43:17.000000000,27,0,0,495344,690ecb8ca4618eba97eda435c1e778274d189903,7,3,1,3,538,Major Hayden,rackerhacker,"Allow override of RDO repo baseurl

This patch allows deployers to set openstack_hosts_centos_mirror_url
and override the default RDO repository (mirrors.centos.org).

Change-Id: I81d89299541211556bd76794a82475f3879fa297
"
openstack%2Fnetworking-ovn~master~I73970aef6d84019032e3c68a6a785d7626ae2afc,openstack/networking-ovn,master,bug/1705246,I73970aef6d84019032e3c68a6a785d7626ae2afc,schedule gateway on chassis with external connectivity,MERGED,2017-07-19 11:59:51.000000000,2017-08-21 14:42:43.000000000,2017-08-21 14:42:43.000000000,203,51,28,485176,14d8e70cfae41fed5e9515dddda714b54a3c67bf,69,9,11,7,10267,venkata anil,anil,"schedule gateway on chassis with external connectivity

Currently ovn schedules gateway router ports on all chassis.
Instead we need to check which chassis has external connectivity
and schedule them only on these chassis.

Chassis which has ovn-bridge-mappings properly configured(i.e
physnet same as gateway network physnet) in OVN_Southbound
database will be treated as having external connectivity.
Some network types(for example, geneve) may not use bridge
mappings. Currently, external networks of type VLAN and FLAT
use bridge mappings. So for these networks, we return chassis
with proper bridge mappings and for other networks we return
all chassis.

Closes-bug: #1705246
Change-Id: I73970aef6d84019032e3c68a6a785d7626ae2afc
"
openstack%2Fopenstack-ansible-lxc_hosts~master~Ica46433b5ce5b9e02b9647ba50da3d422728e341,openstack/openstack-ansible-lxc_hosts,master,osa-add-suse-support,Ica46433b5ce5b9e02b9647ba50da3d422728e341,"tasks: lxc_install_zypper: Set correct mode for new{u,g}idmap",MERGED,2017-08-19 18:23:05.000000000,2017-08-21 14:42:21.000000000,2017-08-21 14:42:21.000000000,15,0,0,495515,d0d09db0e9e9bc555e9a281ee8baaf37b0afd523,9,3,2,1,23163,Markos Chandras (hwoarang),mchandras,"tasks: lxc_install_zypper: Set correct mode for new{u,g}idmap

The newuidmap and newgidmap binaries do not have setuid bit set and
that causes lxc-2.X.X to fail with the following error:

lxc-start 20170819174900.535 DEBUG    lxc_conf - conf.c:lxc_map_ids:3377
- Either one or both of the newuidmap and newgidmap binaries do not
exist or are missing necessary privilege.

As such, make sure the files have the correct mode.

Link: https://bugzilla.opensuse.org/show_bug.cgi?id=1054609
Change-Id: Ica46433b5ce5b9e02b9647ba50da3d422728e341
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I7548fe4b55ed75846e5fa25f2ce9f3702316f497,openstack/openstack-ansible-lxc_hosts,master,increase-default-tasks-max-8192,I7548fe4b55ed75846e5fa25f2ce9f3702316f497,tasks: lxc_post_install: Change init.scope pids.max value,MERGED,2017-08-20 15:15:30.000000000,2017-08-21 14:42:15.000000000,2017-08-21 14:42:15.000000000,38,0,0,495557,a7ea307d46d6ce18ce300c8cb10656fc57d63cc1,7,3,1,1,23163,Markos Chandras (hwoarang),mchandras,"tasks: lxc_post_install: Change init.scope pids.max value

Changing the DefaultTasksMax value in /etc/systemd/system.conf
only affects newly started services. However, the init.scope is
there since the beginning so a daemon-reload will not affect it.
As such the value never actually applies to that scope on freshly
installed systems. As a result of which, lets compare the current
value with the desired one and fix it if necessary.

Change-Id: I7548fe4b55ed75846e5fa25f2ce9f3702316f497
"
openstack%2Fopenstack-ansible-os_magnum~master~If5ea5ae6f4e0132ef794d17f2332ab31fcdc3ebf,openstack/openstack-ansible-os_magnum,master,openstack/openstack-ansible-tests/sync-tests,If5ea5ae6f4e0132ef794d17f2332ab31fcdc3ebf,Updated from OpenStack Ansible Tests,MERGED,2017-08-03 15:26:46.000000000,2017-08-21 14:40:38.000000000,2017-08-21 14:40:38.000000000,5,3,0,490540,3c3dde6f8a80802cdda97703036a51a8afdaee23,22,6,3,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: If5ea5ae6f4e0132ef794d17f2332ab31fcdc3ebf
"
openstack%2Fopenstack-ansible-openstack_hosts~master~Icfa31afb6f4eac4945dbd1697135078523eec43f,openstack/openstack-ansible-openstack_hosts,master,osa-add-suse-support,Icfa31afb6f4eac4945dbd1697135078523eec43f,tasks: SUSE: Disable background snapshot comparison on snapper,MERGED,2017-08-20 15:43:46.000000000,2017-08-21 14:40:15.000000000,2017-08-21 14:40:15.000000000,25,0,0,495559,ce29b4d326a7908e43de76879ced8acc25eb85b6,7,3,1,1,23163,Markos Chandras (hwoarang),mchandras,"tasks: SUSE: Disable background snapshot comparison on snapper

We are calling zypper far too many times during the entire OSA
preparation and that results in snapper consuming a significant
amount of CPU time comparing snapshots. As such, we disable it
to speed up the entire operation. Moreover, we add some missing
tags in one of the tasks.

Link: https://en.opensuse.org/openSUSE:Snapper_FAQ#My_system_has_high_I.2FO_load_after_running_YaST_or_zypper._What_can_I_do.3F
Change-Id: Icfa31afb6f4eac4945dbd1697135078523eec43f
"
openstack%2Fpython-muranoclient~master~I6a5f8c31c1b9671b4ff7f41f83c415261785b635,openstack/python-muranoclient,master,bp/openstack-client-plugin-support,I6a5f8c31c1b9671b4ff7f41f83c415261785b635,Add bundle import to openstack CLI,MERGED,2017-08-18 01:39:35.000000000,2017-08-21 14:38:48.000000000,2017-08-21 14:38:48.000000000,258,0,0,494762,6103ec25d9bc4d7a36eb455ed6fd621188df9670,8,4,1,3,14107,zhurong,zhurong,"Add bundle import to openstack CLI

usage: openstack bundle import [-h] [-f {csv,json,table,value,yaml}]
                               [-c COLUMN] [--max-width <integer>]
                               [--print-empty] [--noindent]
                               [--quote {all,minimal,none,nonnumeric}]
                               [--is-public] [--exists-action {a,s,u}]
                               [--murano-repo-url MURANO_REPO_URL]
                               <FILE> [<FILE> ...]

Import a bundle.

Partially implements: blueprint openstack-client-plugin-support

Change-Id: I6a5f8c31c1b9671b4ff7f41f83c415261785b635
"
openstack%2Fansible-hardening~stable%2Focata~Ib195041cd84bafa0cc7ca1d2ca42041618ce181d,openstack/ansible-hardening,stable/ocata,493657,Ib195041cd84bafa0cc7ca1d2ca42041618ce181d,Change default prohibit root sshd password auth,MERGED,2017-08-17 12:43:10.000000000,2017-08-21 14:36:55.000000000,2017-08-21 14:36:55.000000000,14,8,0,494523,957c0bc39680118862a8aab66a189041827590b5,10,3,3,3,13095,Marc GariÃ©py,mgariepy,"Change default prohibit root sshd password auth

Change-Id: Ib195041cd84bafa0cc7ca1d2ca42041618ce181d
(cherry picked from commit 3c632174e90ab63f06bd281c966c6a8a05475810)
"
openstack%2Freleases~master~I3c941d64fa1c1c252ba3761efd0953f2d705ab12,openstack/releases,master,ironic-pike,I3c941d64fa1c1c252ba3761efd0953f2d705ab12,Release ironic 9.0.1 for Pike,MERGED,2017-08-21 11:24:58.000000000,2017-08-21 14:36:00.000000000,2017-08-21 14:36:00.000000000,4,0,0,495823,998b7f3cd57bfbff7676e79a6b9bdb63600df63e,10,3,1,1,10239,Dmitry Tantsur,dtantsur,"Release ironic 9.0.1 for Pike

This is still not our final release. We release it, because our 9.0.0
release had upgrade problems that we urgently need to fix.

We will release 9.1.0 in the coming days with the features that were
delayed because of our problems with grenade (which was hard-broken
until we created stable/pike).

Please see the following thread for the context:
http://lists.openstack.org/pipermail/openstack-dev/2017-August/121252.html

Change-Id: I3c941d64fa1c1c252ba3761efd0953f2d705ab12
"
openstack%2Freleases~master~I63da18e99056c7d9798125d6b7ed94841b424399,openstack/releases,master,aodh-pike,I63da18e99056c7d9798125d6b7ed94841b424399,Release Aodh 5.0.0 for Pike,MERGED,2017-08-21 09:51:12.000000000,2017-08-21 14:35:46.000000000,2017-08-21 14:35:46.000000000,8,0,0,495795,0e7fe88aba09def8623510751d1ad0b25bffd318,7,3,1,1,1669,Julien Danjou,jdanjou,"Release Aodh 5.0.0 for Pike

Change-Id: I63da18e99056c7d9798125d6b7ed94841b424399
"
openstack%2Fansible-hardening~stable%2Focata~If2c095a4671275e01af20ed6a132086c5d8a8856,openstack/ansible-hardening,stable/ocata,backport-bindep,If2c095a4671275e01af20ed6a132086c5d8a8856,Backport bindep change from master,MERGED,2017-08-18 15:13:51.000000000,2017-08-21 14:34:44.000000000,2017-08-21 14:34:44.000000000,1,1,0,495350,2802c5515d6799724b06dd483766dcb5fbe86699,10,4,2,1,538,Major Hayden,rackerhacker,"Backport bindep change from master

Change-Id: If2c095a4671275e01af20ed6a132086c5d8a8856
"
openstack%2Fdesignate~master~I9c98c2c1fb441a333bc8d917e122a4e0371ef7ce,openstack/designate,master,improve/topology,I9c98c2c1fb441a333bc8d917e122a4e0371ef7ce,Improving the designate topology.,MERGED,2017-08-21 02:47:11.000000000,2017-08-21 14:28:52.000000000,2017-08-21 14:28:52.000000000,0,0,0,495675,dba2a8bc78ff9137e6758b7297331d67ef1d2090,6,3,1,1,25254,Nguyen Van Trung,trungnv,"Improving the designate topology.

Based on code-base, we should need correctly communication of producer,
worker along with central services following items:
1. Producer and Central.
- The producer will call Central via RPC as following code-base:
       self.central_api.purge_zones(
            ctxt,
            criterion,
            limit=self.options.batch_size,
        )
2. Worker and Central.
- The worker will call Central to get pool via RPC firstly:
       pool = self.central_api.get_pool(context, pool_id)

Change-Id: I9c98c2c1fb441a333bc8d917e122a4e0371ef7ce
"
openstack%2Fpython-monascaclient~master~If41a958e2007cf290557d1db620fea52fe291c34,openstack/python-monascaclient,master,openstack/requirements,If41a958e2007cf290557d1db620fea52fe291c34,Updated from global requirements,MERGED,2017-08-18 04:51:50.000000000,2017-08-21 14:17:41.000000000,2017-08-21 14:17:41.000000000,1,1,0,494903,f25703e92f3868978d7f4aa9956117be12631ca6,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: If41a958e2007cf290557d1db620fea52fe291c34
"
openstack%2Fopenstack-ansible~master~I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5,openstack/openstack-ansible,master,opendaylight,I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5,Add support for OpenDaylight deployment in neutron,MERGED,2017-07-04 10:40:49.000000000,2017-08-21 14:16:53.000000000,2017-08-21 14:16:53.000000000,27,0,5,480131,1450119e86a5d918dacdbc3eb08ed9b5c014d591,71,14,12,4,25846,Juan Vidal Allende,juanvidal,"Add support for OpenDaylight deployment in neutron

 - Added dependency to 'opendaylight' role
 - New 'opendaylight' target group
 - Configuration of networking-odl version that matches neutron

Change-Id: I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5
"
openstack%2Fkuryr~master~Icd465e0c5f194ccc96827f2e8a54890e9c7777e9,openstack/kuryr,master,openstack/requirements,Icd465e0c5f194ccc96827f2e8a54890e9c7777e9,Updated from global requirements,MERGED,2017-07-19 18:35:08.000000000,2017-08-21 14:13:11.000000000,2017-08-21 14:13:11.000000000,4,4,0,485310,917ee686c1a824f23dfb80c0462be2d33502203e,25,4,9,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Icd465e0c5f194ccc96827f2e8a54890e9c7777e9
"
openstack%2Foslo.db~master~I5e39d5ac81eaa8d85b1dfb18862fe27695ab8b96,openstack/oslo.db,master,dont_call_recycling_reaping,I5e39d5ac81eaa8d85b1dfb18862fe27695ab8b96,Rename idle_timeout to connection_recycle_time,MERGED,2016-06-25 15:27:49.000000000,2017-08-21 14:11:13.000000000,2017-08-21 08:02:16.000000000,59,20,16,334182,6634218415906192fca891362b8fa0ac50b66284,30,6,7,7,11816,mike_mp@zzzcomputing.com,zzzeek,"Rename idle_timeout to connection_recycle_time

The ""idle_timeout"" name and documentation are misleading to users.
Rename the option to connection_recycle_time to more closely
match that of the underlying SQLAlchemy argument name
""pool_recycle"", which refers to a time period for which
a connection present in the pool for longer than that number
of seconds will be closed and replaced with a new one *upon checkout*,
to prevent usage of stale connections that may have been closed by
server-side reapers.

Change-Id: I5e39d5ac81eaa8d85b1dfb18862fe27695ab8b96
"
openstack%2Freleases~master~I5fbdf794b3cf018bd1ede75bff8777b187c0d099,openstack/releases,master,kuryr-kubernetes,I5fbdf794b3cf018bd1ede75bff8777b187c0d099,kuryr pike release and branch,MERGED,2017-08-21 12:09:23.000000000,2017-08-21 14:09:25.000000000,2017-08-21 14:09:25.000000000,7,0,0,495833,8b1f2691b4299b08031f10e708d6004eedaa49de,10,5,2,1,14352,Antoni Segura Puimedon,toni,"kuryr pike release and branch

We are a bit delayed due to August PTO pandemy. We just got the last
patches in. Let's get a branch!

Change-Id: I5fbdf794b3cf018bd1ede75bff8777b187c0d099
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
"
openstack%2Freleases~master~I4a4bd26280c83ba7d352b80b50d1330081d5abef,openstack/releases,master,re-release-n-baremetal,I4a4bd26280c83ba7d352b80b50d1330081d5abef,Re-release networking-baremetal 0.1.1 as Pike,MERGED,2017-08-18 10:21:54.000000000,2017-08-21 14:09:12.000000000,2017-08-21 14:09:12.000000000,4,0,5,495156,b85e4b5e314c56f5bd2dc1d87076f3786298b7de,18,8,3,1,12356,Vladyslav Drok,vdrok,"Re-release networking-baremetal 0.1.1 as Pike

We did not have publish-to-pypi jobs when doing 0.1.0 release, now
they're added. Releasing 0.1.1 so they are triggered.

Change-Id: I4a4bd26280c83ba7d352b80b50d1330081d5abef
"
openstack%2Fdevstack-plugin-ceph~master~I0903b3cd9fa84041bcd7ed5034d8a60d14759e92,openstack/devstack-plugin-ceph,master,bug/1708169,I0903b3cd9fa84041bcd7ed5034d8a60d14759e92,setup ceph-mgr daemon for luminous rc and greater,MERGED,2017-08-11 12:05:53.000000000,2017-08-21 14:08:36.000000000,2017-08-21 14:08:36.000000000,29,5,1,492968,68185a82942bff49550517b27bcdacc311c32032,17,3,4,1,8056,Ramana Raja,Ram_Raja,"setup ceph-mgr daemon for luminous rc and greater

ceph-mgr daemon is required as part of Ceph cluster from
luminous release onwards.

Change-Id: I0903b3cd9fa84041bcd7ed5034d8a60d14759e92
Closes-Bug: #1708169
"
openstack%2Fnova~master~I5d97e83053f809db3e45687a0eb2e985c5be9e27,openstack/nova,master,fix-docstring,I5d97e83053f809db3e45687a0eb2e985c5be9e27,[DOC BLD FIX] Correct reST field lists in docstrings,ABANDONED,2017-07-21 07:07:42.000000000,2017-08-21 14:04:46.000000000,,17,17,0,486010,3b8a9f087df590543a997170dcd34fecb01a22da,34,20,2,8,25456,junboli,junboli,"[DOC BLD FIX] Correct reST field lists in docstrings

Most common format for documenting arguments is reST field, the incorrect
docstring will cause a Sphinx warning to be generated and caused the documentation
to be improperly rendered.

[1] http://sphinx-doc.org/domains.html#info-field-lists

Change-Id: I5d97e83053f809db3e45687a0eb2e985c5be9e27
"
openstack%2Fneutron~master~Iaeb9153084c6864b0982902bbb2ae9c0233266a6,openstack/neutron,master,v3-identity,Iaeb9153084c6864b0982902bbb2ae9c0233266a6,Stop using v2 identity API,MERGED,2017-08-15 13:47:07.000000000,2017-08-21 13:56:17.000000000,2017-08-18 00:21:10.000000000,12,16,2,493877,5b51cd8dcb7fe9a4f8e7ae6d190a475e47560758,21,9,3,3,8655,Jakub Libosvar,jlibosva,"Stop using v2 identity API

v2 identity API was deprecated in Mitaka. There is only a one test
remaining that still relies on the v2 identity API. This patch replaces
v2 with v3.

Change-Id: Iaeb9153084c6864b0982902bbb2ae9c0233266a6
"
openstack%2Fnova~master~I145e38149bf20a5e068f8cfe913f90c7ebeaad36,openstack/nova,master,bp/doc-migration,I145e38149bf20a5e068f8cfe913f90c7ebeaad36,doc: Import configuration reference,MERGED,2017-08-08 16:34:46.000000000,2017-08-21 13:55:22.000000000,2017-08-10 21:04:01.000000000,4628,0,29,491853,da224b3a050a525e8ddfa491318b2f839048f668,45,14,6,23,15334,Stephen Finucane,sfinucan,"doc: Import configuration reference

Import the following files from the former config-reference [1]:

  api.rst
  cells.rst
  fibre-channel.rst
  hypervisor-basics.rst
  hypervisor-hyper-v.rst
  hypervisor-kvm.rst
  hypervisor-lxc.rst
  hypervisor-qemu.rst
  hypervisor-virtuozzo.rst
  hypervisor-vmware.rst
  hypervisor-xen-api.rst
  hypervisor-xen-libvirt.rst
  hypervisors.rst
  index.rst
  iscsi-offload.rst
  logs.rst
  resize.rst
  samples/api-paste.ini.rst
  samples/index.rst
  samples/policy.yaml.rst
  samples/rootwrap.conf.rst
  schedulers.rst

The below files are skipped as they're already included, in slightly
different forms, in the nova documentation.

  config-options.rst
  nova-conf-samples.rst
  nova-conf.rst
  nova.conf

Part of bp: doc-migration

Change-Id: I145e38149bf20a5e068f8cfe913f90c7ebeaad36
"
openstack%2Fnova~stable%2Fnewton~I4184382b49dd2193d6a21bfe02ea973d02d8b09f,openstack/nova,stable/newton,bug/1706083,I4184382b49dd2193d6a21bfe02ea973d02d8b09f,"libvirt: Post-migration, set cache value for Cinder volume(s)",MERGED,2017-07-29 15:18:19.000000000,2017-08-21 13:52:59.000000000,2017-08-21 13:52:59.000000000,10,14,0,488959,1797d73efc0601a0a664d32a127669e93bce3d45,26,4,1,2,6962,Kashyap Chamarthy,kashyapc,"libvirt: Post-migration, set cache value for Cinder volume(s)

This was noticed in a downstream bug when a Nova instance with Cinder
volume (in this case, both the Nova instance storage _and_ Cinder volume
are located on Ceph) is migrated to a target Compute node, the disk
cache value for the Cinder volume gets changed.  I.e. the QEMU
command-line for the Cinder volume stored on Ceph turns into the
following:

Pre-migration, QEMU command-line for the Nova instance:

    [...] -drive file=rbd:volumes/volume-[...],cache=writeback

Post-migration, QEMU command-line for the Nova instance:

    [...] -drive file=rbd:volumes/volume-[...],cache=none

Furthermore, Jason Dillaman from Ceph confirms RBD cache being enabled
pre-migration:

    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \
        config get rbd_cache
    {
        ""rbd_cache"": ""true""
    }

And disabled, post-migration:

    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \
        config get rbd_cache
    {
        ""rbd_cache"": ""false""
    }

This change in cache value post-migration causes I/O latency on the
Cinder volume.

From a chat with Daniel BerrangÃ© on IRC: Prior to live migration, Nova
rewrites all the <disk> elements, and passes this updated guest XML
across to target libvirt.  And it is never calling _set_cache_mode()
when doing this.  So `nova.conf`'s `writeback` setting is getting lost,
leaving the default `cache=none` setting.  And this mistake (of leaving
the default cache value to 'none') will of course be correct when you
reboot the guest on the target later.

So:

  - Call _set_cache_mode() in _get_volume_config() method -- because it
    is a callback function to _update_volume_xml() in
    nova/virt/libvirt/migration.py.

  - And remove duplicate calls to _set_cache_mode() in
    _get_guest_storage_config() and attach_volume().

  - Fix broken unit tests; adjust test_get_volume_config() to reflect
    the disk cache mode.

Thanks: Jason Dillaman of Ceph for observing the change in cache modes
        in a downstream bug analysis, Daniel BerrangÃ© for help in
        analysis from a Nova libvirt driver POV, and Stefan Hajnoczi
        from QEMU for help on I/O latency instrumentation with `perf`.

Conflicts [stable/newton]:
 - libvirt/driver.py: The _get_scsi_controller() method from Git master
   isn't in Newton, so adjust the _get_guest_storage_config() method
   accordingly.
 - Fix unit test conflicts in the method
   test_attach_volume_with_vir_domain_affect_live_flag().

Closes-bug: 1706083
Change-Id: I4184382b49dd2193d6a21bfe02ea973d02d8b09f
(cherry picked from commit 14c38ac0f253036da79f9d07aedf7dfd5778fde8)
"
openstack%2Frpm-packaging~master~I891791472d37b71c9d05c1ad1ddce979cec22d3e,openstack/rpm-packaging,master,493847,I891791472d37b71c9d05c1ad1ddce979cec22d3e,horizon: Update to 12.0.0.rc1,MERGED,2017-08-15 12:03:05.000000000,2017-08-21 13:49:15.000000000,2017-08-21 13:49:15.000000000,81,3,1,493847,218d250d81f468a3067b4fb4ef38c4fb69fb9ee7,22,6,3,2,6593,Dirk Mueller,dmllr,"horizon: Update to 12.0.0.rc1

Co-Authored-By: Thomas Bechtold <tbechtold@suse.com>
Change-Id: I891791472d37b71c9d05c1ad1ddce979cec22d3e
"
openstack%2Freleases~master~I0bf70eed17de375fb5b0e22d07ff6b43e6f22dbe,openstack/releases,master,,I0bf70eed17de375fb5b0e22d07ff6b43e6f22dbe,Create stable/pike branch for manila-ui,MERGED,2017-08-18 15:56:37.000000000,2017-08-21 13:48:08.000000000,2017-08-21 13:48:08.000000000,7,0,0,495368,29230dc1cd0d9a2cc0d1fc195955f9cf348d660a,7,3,1,1,2417,Ben Swartzlander,bswartz,"Create stable/pike branch for manila-ui

Create a new minor release to pick up all the
translation since the lib freeze and start the
stable/pike branch from this tag.

Change-Id: I0bf70eed17de375fb5b0e22d07ff6b43e6f22dbe
"
openstack%2Freleases~master~Id33f03c3113ba8f99f03a7902a763d1f186cc0d8,openstack/releases,master,swift_2_15_1,Id33f03c3113ba8f99f03a7902a763d1f186cc0d8,swift 2.15.1 release and pike stable branch,MERGED,2017-08-19 01:07:12.000000000,2017-08-21 13:45:59.000000000,2017-08-21 13:45:59.000000000,7,0,0,495470,7038be5112f724075eb555ee1122f99dcc3442ed,7,3,1,1,330,John Dickinson,notmyname,"swift 2.15.1 release and pike stable branch

Change-Id: Id33f03c3113ba8f99f03a7902a763d1f186cc0d8
"
openstack%2Fnova~master~I5fdafd9f6cf07a19bf86a6343663dad410887dcb,openstack/nova,master,bp/doc-migration,I5fdafd9f6cf07a19bf86a6343663dad410887dcb,rework index intro to describe nova,MERGED,2017-08-08 15:05:31.000000000,2017-08-21 13:44:35.000000000,2017-08-10 20:59:52.000000000,18,17,9,491834,8b072d75322cd345f876b6333fba5cd4acd0e03d,38,13,3,1,2750,Sean Dague,sdague,"rework index intro to describe nova

The index previously was written for the developer docs, but this is
more than developer docs now. That also means this is the general
google landing page for people, so a basic ""what is nova"" is
appropriate.

Part of bp: doc-migration

Change-Id: I5fdafd9f6cf07a19bf86a6343663dad410887dcb
"
openstack%2Fheat-translator~stable%2Fpike~I0230daa7b860f7f35ef5cd7be6e1d1a0d4547912,openstack/heat-translator,stable/pike,,I0230daa7b860f7f35ef5cd7be6e1d1a0d4547912,"Revert ""Fix: nested resources cannot be given out""",MERGED,2017-08-14 15:41:54.000000000,2017-08-21 13:33:23.000000000,2017-08-21 08:34:58.000000000,11,30,0,493589,d80708aa3ab141565710906ff8975c02ffa2b9c2,10,4,1,4,20031,Mathieu Velten,MatMaul,"Revert ""Fix: nested resources cannot be given out""

This reverts commit 3c53dc729fb71798c7e6a6b602b368cbb4b67991.

Change-Id: I0230daa7b860f7f35ef5cd7be6e1d1a0d4547912
(cherry picked from commit 59a65caaf5b197e2b41c9a41655494b87dc65ae5)
"
openstack%2Fglance~stable%2Fpike~I3385b3f628b74b109c05108e331085c54b0126a1,openstack/glance,stable/pike,cp-493880,I3385b3f628b74b109c05108e331085c54b0126a1,"api-ref: update container_format, disk_format",MERGED,2017-08-18 17:06:54.000000000,2017-08-21 13:19:44.000000000,2017-08-21 13:19:44.000000000,23,9,0,495382,84c7ad4a769da6961e96e17cfb4eceb878d27ca8,7,3,1,2,5314,Brian Rosmaita,brian-rosmaita,"api-ref: update container_format, disk_format

This patch updates the disk_format description to include ""ploop""
(added in Ocata).  It also rewrites the container_format description
to indicate that the actual values depend on how the API being queried
is configured.

This patch does not update the api-ref for the deprecated v1 API.

Change-Id: I3385b3f628b74b109c05108e331085c54b0126a1
(cherry picked from commit 08cd24d28c660d69cf1eaacb7cae911bb91b1c91)
"
openstack%2Fglance~stable%2Fpike~I3f66f7efa7c377d999a88457fc6492701a894f34,openstack/glance,stable/pike,bug/1711468,I3f66f7efa7c377d999a88457fc6492701a894f34,Add 'tasks_api_access' policy,MERGED,2017-08-18 17:01:30.000000000,2017-08-21 13:19:30.000000000,2017-08-21 13:19:30.000000000,99,5,0,495378,f6d384f1849cb2a20cbd510b622ff318719a8fce,8,4,1,3,5314,Brian Rosmaita,brian-rosmaita,"Add 'tasks_api_access' policy

The Tasks API was made admin-only in Mitaka to prevent it from being
exposed directly to end users.  The interoperable image import
process introduced in Pike uses the tasks engine to perform the
import.  This patch introduces a new policy, 'tasks_api_access',
that determines whether a user can make Tasks API calls.

The currently existing task-related policies are retained so that
operators can have fine-grained control over tasks.  With this
new policy, operators can restrict Tasks API access to admins,
while at the same time, admin-level credentials are not required
for glance to perform task-related functions on behalf of users.

Change-Id: I3f66f7efa7c377d999a88457fc6492701a894f34
Closes-bug: #1711468
(cherry picked from commit b90ad2524fd1c80e33930191b415c67a91904fd9)
"
openstack%2Fopenstack-ansible~master~I8e87a5285afc52ef6ec9169e1a145b8308f78fcf,openstack/openstack-ansible,master,bug/1702123,I8e87a5285afc52ef6ec9169e1a145b8308f78fcf,Bump ansible-keepalived to 3.0.3,ABANDONED,2017-08-17 15:37:24.000000000,2017-08-21 13:05:53.000000000,,1,1,0,494610,391da5439feb98b7007ba65a8af9265cd52d2802,7,3,1,1,538,Major Hayden,rackerhacker,"Bump ansible-keepalived to 3.0.3

This applies the changes that were made in the variable change
from I8e6d811bca7553d82591a6c96f4316377d0d1829.

Closes-Bug: 1702123
Change-Id: I8e87a5285afc52ef6ec9169e1a145b8308f78fcf
"
openstack%2Frally~master~I7f786a0c989a8443a468e70f20faf8f5a3ff65ef,openstack/rally,master,samples,I7f786a0c989a8443a468e70f20faf8f5a3ff65ef,Remove redundant parent atomic action,MERGED,2017-08-07 16:07:53.000000000,2017-08-21 13:03:57.000000000,2017-08-21 13:03:57.000000000,47,105,0,491534,2afcc209840a1a34b49d442e6a8dd2fce7fa4993,26,4,4,9,9545,Andrey Kurilin,akurilin,"Remove redundant parent atomic action

Similar atomics should be merged in the report automatically, so there
is no reason to do it manually via parent action.

Change-Id: I7f786a0c989a8443a468e70f20faf8f5a3ff65ef
"
openstack%2Frally~master~Ie6af5b07fa4ee3f8ea74befbe36b50fefac741e8,openstack/rally,master,atomic,Ie6af5b07fa4ee3f8ea74befbe36b50fefac741e8,[install]Remove BASE_PIP_URL which was used to pass pypi resource,MERGED,2017-08-18 01:19:35.000000000,2017-08-21 13:03:44.000000000,2017-08-21 13:03:44.000000000,4,5,0,494758,c4d67d499da8fe13c43e37938bed9d055441ac40,7,3,1,1,21528,chenhb,chenhb,"[install]Remove BASE_PIP_URL which was used to pass pypi resource

1.it is unnecessary to specify pypi resource in pip command, if that
  is required, user could specify in ~/.pip/pip.conf
2.Also, trusted host is required on new pip version, if we specify
  the other http resource via -i,

Change-Id: Ie6af5b07fa4ee3f8ea74befbe36b50fefac741e8
"
openstack%2Frally~master~Ie7291889337a7ffe7877910d3c3a24fd670aba94,openstack/rally,master,log,Ie7291889337a7ffe7877910d3c3a24fd670aba94,Handle log message interpolation by the logger in common/,MERGED,2017-07-13 11:57:48.000000000,2017-08-21 13:02:39.000000000,2017-08-21 13:02:39.000000000,84,84,14,483314,4073d49652c10a874134ce9e94c590c831d8c170,27,6,6,26,24925,bhavani,bhavani.cr,"Handle log message interpolation by the logger in common/

According to OpenStack Guideline[1], logged string message should be
interpolated by the logger.

[1]: http://docs.openstack.org/developer/oslo.i18n/guidelines.html#adding-variables-to-log-messages

Change-Id: Ie7291889337a7ffe7877910d3c3a24fd670aba94
"
openstack%2Fmagnum~master~I4416e2826e4a14a11b93d55d342e4de9b3dc12d7,openstack/magnum,master,bug/1702075,I4416e2826e4a14a11b93d55d342e4de9b3dc12d7,Add default for [cinder]default_docker_volume_type,MERGED,2017-07-06 16:30:40.000000000,2017-08-21 12:59:48.000000000,2017-08-21 12:59:48.000000000,1,0,0,481144,ddde90e07c42d3699b005e912d49f97b03fd574d,22,7,3,1,14826,Mark Goddard,mgoddard,"Add default for [cinder]default_docker_volume_type

When creating a kubernetes cluster on baremetal & fedora, if the cluster
template does not have a docker_volume_type defined, the following error
is seen:

InvalidParameterValue: ERROR: The Parameter (docker_volume_type) was not
provided.

Cinder isn't mandatory, and neither is the docker_volume_type cluster
template parameter, so it shouldn't need to be set.

This change adds a default value of an empty string for the option
[cinder]default_docker_volume_type, which allows the cluster to be
created.

Change-Id: I4416e2826e4a14a11b93d55d342e4de9b3dc12d7
Closes-Bug: #1702075
"
openstack%2Fglance~stable%2Fpike~I6f1cfe44a01542bc93a43cbd518956686adb366d,openstack/glance,stable/pike,bug/1710958,I6f1cfe44a01542bc93a43cbd518956686adb366d,Fix 500 error from image-stage call,MERGED,2017-08-18 14:59:03.000000000,2017-08-21 12:54:51.000000000,2017-08-21 12:54:51.000000000,22,3,0,495341,beb3e98445ee1fd35454fc3e8cd150622e3e083e,9,4,1,3,5314,Brian Rosmaita,brian-rosmaita,"Fix 500 error from image-stage call

Adds a RequestDeserializer for the stage and adjusts the image
status transitions so that they can handle the 'uploading' status
of an image with data in the stage.

Closes-bug: #1710958

Change-Id: I6f1cfe44a01542bc93a43cbd518956686adb366d
(cherry picked from commit e17a349306e1a4ae287ce69cae0a545acfcf6b27)
"
openstack%2Fsahara-dashboard~stable%2Fpike~I36d2b1ad8209edd7cc96bd20d0051e17f376be12,openstack/sahara-dashboard,stable/pike,zanata/translations,I36d2b1ad8209edd7cc96bd20d0051e17f376be12,Imported Translations from Zanata,MERGED,2017-08-21 08:38:57.000000000,2017-08-21 12:52:48.000000000,2017-08-21 12:52:48.000000000,8,10,0,495764,7394ec618343bc997e097958ac897b1a33d3cb1c,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I36d2b1ad8209edd7cc96bd20d0051e17f376be12
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~Icc5c95d73120482b8259307f0744d3dc7947eed8,openstack/openstack-ansible-rabbitmq_server,master,streamline-installation,Icc5c95d73120482b8259307f0744d3dc7947eed8,[WIP] Streamline RabbitMQ install,ABANDONED,2017-08-15 15:44:02.000000000,2017-08-21 12:50:54.000000000,,77,68,0,493923,34501e61d5d01d8ee3f15094ac2108287dd5274a,15,1,11,11,538,Major Hayden,rackerhacker,"[WIP] Streamline RabbitMQ install

This is a test to see if we can install a specific RabbitMQ version
directly from PackageCloud and save a few steps in the process. This
should make it easier to set up reverse proxies in nodepool.

Change-Id: Icc5c95d73120482b8259307f0744d3dc7947eed8
"
openstack%2Fglance~stable%2Fpike~I5bcc9f4cdc55635809e8a90be555a367348a58c2,openstack/glance,stable/pike,bug/1711018,I5bcc9f4cdc55635809e8a90be555a367348a58c2,Add 'api_image_import' type to task(s) schemas,MERGED,2017-08-18 15:04:46.000000000,2017-08-21 12:49:55.000000000,2017-08-21 12:49:55.000000000,1,0,0,495342,7a14edda9ee266ad165ce5009215a13d1dac1003,11,4,1,1,5314,Brian Rosmaita,brian-rosmaita,"Add 'api_image_import' type to task(s) schemas

The glanceclient relies on the schemas being accurate so it can
format responses.  Without this update, admins won't be able to
use the glanceclient generate a task list containing the
api_image_import task that the task engine uses to process the
new image import process being introduced in Pike.

Closes-bug: #1711018

Change-Id: I5bcc9f4cdc55635809e8a90be555a367348a58c2
(cherry picked from commit b6e4ddaf42af2d4169681969bd288b678a65ae32)
"
openstack%2Fglance~master~I679e75aab9327a2582f87319795e8e3e4e92a3f8,openstack/glance,master,openstack/requirements,I679e75aab9327a2582f87319795e8e3e4e92a3f8,Updated from global requirements,MERGED,2017-08-18 04:40:12.000000000,2017-08-21 12:49:20.000000000,2017-08-21 12:49:20.000000000,2,2,0,494808,917d0d0c04c84fb472be0edbbbf906ec1757bc23,11,3,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I679e75aab9327a2582f87319795e8e3e4e92a3f8
"
openstack%2Ftacker~master~I81b57bd23a0eec21b63ad49de9a5fc20d78da28d,openstack/tacker,master,bug/1602654,I81b57bd23a0eec21b63ad49de9a5fc20d78da28d,Change instance id to stack id in devices db,ABANDONED,2016-08-02 15:07:23.000000000,2017-08-21 12:45:50.000000000,,94,51,0,350084,9b14448dda4d9ade39082943f422deaacb347256,8,3,2,12,20866,Janki Chhatbar,janki,"Change instance id to stack id in devices db

instance_id in devices DB actually reflects id of the heat stack created.
Changing it to stack_id to increase code readability and avoid confusion with
Nova VM.

Change-Id: I81b57bd23a0eec21b63ad49de9a5fc20d78da28d
Closes-bug: #1602654
"
openstack%2Fpython-glanceclient~stable%2Fpike~Ibbc3330caf442f5cccd23da4736a85445828072d,openstack/python-glanceclient,stable/pike,create-pike,Ibbc3330caf442f5cccd23da4736a85445828072d,Update UPPER_CONSTRAINTS_FILE for stable/pike,MERGED,2017-07-28 21:06:50.000000000,2017-08-21 12:33:23.000000000,2017-08-21 12:33:23.000000000,1,1,0,488768,5cc1a8b02488378d57d2433274b2b76a09180f52,11,2,1,1,22816,OpenStack Release Bot,release,"Update UPPER_CONSTRAINTS_FILE for stable/pike

Change-Id: Ibbc3330caf442f5cccd23da4736a85445828072d
"
openstack%2Fpuppet-tripleo~master~I2e6174595e30807b8dbf883cde2dd351f28641a0,openstack/puppet-tripleo,master,local_mirror,I2e6174595e30807b8dbf883cde2dd351f28641a0,GATE TEST: do not merge,ABANDONED,2017-08-17 13:12:26.000000000,2017-08-21 12:30:42.000000000,,1,0,0,494538,b377cdcf6eb0d642593babb1de34935cf76e7c4a,19,3,3,1,8652,Attila Darazs,adarazs,"GATE TEST: do not merge

This tests if we properly use the local mirrors introduced in

https://review.openstack.org/494262 & https://review.openstack.org/494537

Change-Id: I2e6174595e30807b8dbf883cde2dd351f28641a0
Depends-On: I9f57b825864fc2fed854a7d6c4c6067a9dc45b7d
"
openstack%2Fopenstack-ansible-memcached_server~stable%2Fnewton~I4eace8b967eb1c639e7645854af58aa11eafffc7,openstack/openstack-ansible-memcached_server,stable/newton,bug/1659954,I4eace8b967eb1c639e7645854af58aa11eafffc7,Backport pyOpenSSL bindep change,ABANDONED,2017-08-18 18:12:46.000000000,2017-08-21 12:30:41.000000000,,1,1,1,495406,8c3e535cf3d0cc1c79561cbff83bacab75406a28,6,4,1,1,538,Major Hayden,rackerhacker,"Backport pyOpenSSL bindep change

Change-Id: I4eace8b967eb1c639e7645854af58aa11eafffc7
"
openstack%2Fpython-glanceclient~stable%2Fpike~I6048611119eb780c7392c458cbf2b295b91830cc,openstack/python-glanceclient,stable/pike,openstack/requirements,I6048611119eb780c7392c458cbf2b295b91830cc,Updated from global requirements,MERGED,2017-08-11 19:05:03.000000000,2017-08-21 12:29:10.000000000,2017-08-21 12:29:10.000000000,2,2,0,493177,192170eda7cb93d18f9f09ab69ea7250b16711d6,7,3,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I6048611119eb780c7392c458cbf2b295b91830cc
"
openstack%2Fpython-glanceclient~master~I5205e01980fc00b011a4aa4f9d24f045c375a4c5,openstack/python-glanceclient,master,openstack/requirements,I5205e01980fc00b011a4aa4f9d24f045c375a4c5,Updated from global requirements,MERGED,2017-08-18 04:51:14.000000000,2017-08-21 12:07:19.000000000,2017-08-21 12:07:19.000000000,3,3,0,494894,14a96931fe53eb63bbd06b0e2be58008f05e22d3,8,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I5205e01980fc00b011a4aa4f9d24f045c375a4c5
"
openstack%2Fnova~master~If0a7af3a958cf3aba95b89b96df5ff6bf252b110,openstack/nova,master,bug/1707021,If0a7af3a958cf3aba95b89b96df5ff6bf252b110,Handle addition of new nodes/instances in ironic flavor migration,MERGED,2017-07-27 17:19:26.000000000,2017-08-21 12:06:14.000000000,2017-08-14 13:51:06.000000000,269,45,156,487954,c3118b91db4b97a689c9a2f25a9554a0ccb29252,260,25,17,2,1063,Ed Leafe,ed-leafe,"Handle addition of new nodes/instances in ironic flavor migration

The original idea for ironic flavor migration was to handle it in
init_host(), so that the code wouldn't run often. But in a situation
like an upgrade with multiple Nova computes handling ironic nodes, this
may not cover all the nodes, so we are moving it to be run whenever the
cache is refreshed, and new nodes for the compute service that have
instances are detected. We also need to cover the cases where an
existing node has a new instance created on it to ensure that that new
instance's flavor is also migrated.

Closes-Bug: #1707021

Change-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110
"
openstack%2Fnova~master~I4ebebcf221dfe29e2aa125f5956aec10108f8fbe,openstack/nova,master,bug/1706772,I4ebebcf221dfe29e2aa125f5956aec10108f8fbe,Handle ironicclient failures in Ironic driver,MERGED,2017-07-27 16:01:42.000000000,2017-08-21 12:06:03.000000000,2017-08-08 17:47:43.000000000,18,2,8,487925,c2d33c3271370358d48553233b41bf9119d834fb,57,18,4,2,1063,Ed Leafe,ed-leafe,"Handle ironicclient failures in Ironic driver

The ironic driver uses ironicclient to get the list of nodes from the
Ironic service. If that service is not running, or something otherwise
prevents the ironicclient's call from succeeding, and unhandled
exception will occur. This patch adds a generic exception handler for
this call, logging an error and continuing.

Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>

Closes-Bug: #1706772

Change-Id: I4ebebcf221dfe29e2aa125f5956aec10108f8fbe
"
openstack%2Fnova~master~I8c41e88281aaf4250859622142a2f03f4452e1be,openstack/nova,master,trivial,I8c41e88281aaf4250859622142a2f03f4452e1be,tools/xenserver: Remove 'cleanup_sm_locks',MERGED,2017-01-04 11:11:38.000000000,2017-08-21 12:05:31.000000000,2017-08-07 21:31:55.000000000,0,123,0,416520,21d5dfacb46ad80b6af63fb0ae4a2c55f02d7026,36,17,3,1,15334,Stephen Finucane,sfinucan,"tools/xenserver: Remove 'cleanup_sm_locks'

XenServer 6.0 has long since been replaced and the bug was fixed in 6.1
[1]. No need to keep this legacy script around.

[1] https://bugs.launchpad.net/nova/+bug/1103158/comments/1

Change-Id: I8c41e88281aaf4250859622142a2f03f4452e1be
"
openstack%2Fnova~master~If5235c47b8d4372e7e1b88f456391c012c843605,openstack/nova,master,bug/1668163,If5235c47b8d4372e7e1b88f456391c012c843605,Show quota detail when inject file quota exceeds,MERGED,2017-04-04 07:17:25.000000000,2017-08-21 12:05:24.000000000,2017-08-17 21:34:16.000000000,10,6,1,453040,34242dbdbfdf3a24f77b10745672a78dcfc23858,54,23,2,3,22501,Sihan Wang,wsihan,"Show quota detail when inject file quota exceeds

Provide quota info when:
1) inject file path is too long
2) inject file content is too long

Change-Id: If5235c47b8d4372e7e1b88f456391c012c843605
Closes-Bug: #1668163
"
openstack%2Fnova~master~I934a1693cbfd539d8575d022519510d19d13aaab,openstack/nova,master,request_log,I934a1693cbfd539d8575d022519510d19d13aaab,deprecate ``wsgi_log_format`` config variable,MERGED,2017-07-24 14:01:48.000000000,2017-08-21 12:05:18.000000000,2017-07-27 02:07:01.000000000,17,1,6,486623,27c341c1bf7c44199df49edd63e89cd0c96c094f,79,19,5,2,2750,Sean Dague,sdague,"deprecate ``wsgi_log_format`` config variable

Running under a real wsgi environment, such as uwsgi or apache /
mod_wsgi is preferred now, and there is a different logging solution
for that. This was always an eventlet leaky abstraction. So we'll just
deprecate this for now, and the code can be removed once eventlet on
the API side is removed.

Change-Id: I934a1693cbfd539d8575d022519510d19d13aaab
"
openstack%2Fnova~master~I2fd1e4a95f000da19864e75299afa51527697101,openstack/nova,master,bug/1710141,I2fd1e4a95f000da19864e75299afa51527697101,Fix reporting inventory for provisioned nodes in the Ironic driver,MERGED,2017-08-11 11:52:28.000000000,2017-08-21 12:04:49.000000000,2017-08-16 15:23:00.000000000,119,48,54,492964,9ed692bf8c84e0a702536101cd6cb084d33e1c26,94,24,8,3,10239,Dmitry Tantsur,dtantsur,"Fix reporting inventory for provisioned nodes in the Ironic driver

Currently we report the full inventory for available nodes, and an empty
inventory for nodes that are deployed to or otherwise unavailable.

Reporting an empty inventory for deployed nodes has 2 bad consequences:
1. Nova tries deleting the inventory for Placement, which fails, because
   the resources are still in use. This results in nasty warnings.
2. When adding a resource class to a deployed node, it does not get into
   inventory, and thus does not get to Placement. It results in an error
   later on, when the custom resource class is not found.

This patch fixes the latter problem by
1. Always reporting the custom resource class for deployed nodes, if present.
2. Reporting VCPUS/memory/disk in exactly the same amount, as it is configured
   in the ironic node's properties.

As a side effect, the warnings are no longer shown for deployed nodes.
They still appear, however, for nodes during cleaning.

Partial-Bug: #1710141
Change-Id: I2fd1e4a95f000da19864e75299afa51527697101
"
openstack%2Fnova~master~I11c2122d08badcd8f21382623b799a269e671b41,openstack/nova,master,reno-pike,I11c2122d08badcd8f21382623b799a269e671b41,Update reno for stable/pike,MERGED,2017-08-11 12:29:25.000000000,2017-08-21 12:04:33.000000000,2017-08-11 15:27:49.000000000,7,0,0,492982,c318d9b7ac9ceb0b3befdeaf338c7f715e7a8623,14,4,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/pike

Change-Id: I11c2122d08badcd8f21382623b799a269e671b41
"
openstack%2Fnova~master~I3fd9fe0317bcd1a59c366e60154b095e8df92327,openstack/nova,master,bp/move-nova-cmds-to-cliff,I3fd9fe0317bcd1a59c366e60154b095e8df92327,nova-manage: Deprecate '--version' parameters,MERGED,2017-04-05 17:50:10.000000000,2017-08-21 12:04:14.000000000,2017-08-10 21:02:05.000000000,56,13,11,453808,59dd49978c04bb19dd7f56e1e97a2bb75a0da759,130,23,5,3,15334,Stephen Finucane,sfinucan,"nova-manage: Deprecate '--version' parameters

Both the 'api_db' and 'db' categories / commands define a 'sync'
(sub)command which takes an optional '--version' parameter. We want to
start using 'cliff' in Queens, but that framework does not support
command-level parameters with the exception of '--help' [1]. If you
think of something like the 'ls' command, you can run it without any
arguments and assume a default of the current directory, or you can
specify the argument. In the same way, these commands should really be
using optional parameters instead of positional arguments. We do this
and add aliases for the older parameters to ease with the transition.
These aliases are deprecated, raise warnings and will be removed in the
move to cliff.

[1] https://bugs.launchpad.net/python-cliff/+bug/1619708

Change-Id: I3fd9fe0317bcd1a59c366e60154b095e8df92327
Partially-Implements: bp move-nova-cmds-to-cliff
"
openstack%2Fnova~master~I1da7c375dbb98c125aebabec548280de8d8ed381,openstack/nova,master,cells-docs,I1da7c375dbb98c125aebabec548280de8d8ed381,Add some more cellsv2 doc goodness,MERGED,2017-07-25 19:24:52.000000000,2017-08-21 12:04:00.000000000,2017-08-02 00:57:33.000000000,296,0,61,487183,7c17010448782181bc9197ce78ff90584b307fd3,57,15,7,3,4393,Dan Smith,danms,"Add some more cellsv2 doc goodness

This adds a fresh cellsv2 overview document that talks about
deployment decisions for single and multiple cell environments
in an attempt to help address confusion about what the service
layouts look like in a multi-cell setup.

Change-Id: I1da7c375dbb98c125aebabec548280de8d8ed381
"
openstack%2Fnova~master~I20a5e8e5e10dd505c1b24c208f919c6550e9d1a4,openstack/nova,master,bug/1693315,I20a5e8e5e10dd505c1b24c208f919c6550e9d1a4,Provide original fault message when BFV fails,MERGED,2017-05-24 18:43:32.000000000,2017-08-21 12:03:46.000000000,2017-07-28 20:43:45.000000000,29,2,3,467715,20c4715a49a44c642882618f102cd0fc9342978d,48,14,3,2,6873,Matt Riedemann,mriedem,"Provide original fault message when BFV fails

When booting from volume and Nova is creating the volume,
it can fail (timeout, invalid AZ in Cinder, etc) and the
generic Exception handling in _prep_block_device will log
the original exception trace but then raise a generic
InvalidBDM exception, which is handled higher up and converted
to a BuildAbortException, which is recorded as an instance
fault, but the original error message is lost from the fault.

It would be better to include the original exception message that
triggered the failure so that goes into the fault for debug.

For example, this is a difference of getting an error like this:

  BuildAbortException: Build of instance
  9484f5a7-3198-47ff-b728-178515a26277 aborted:
  Block Device Mapping is Invalid.

To something more useful like this:

  BuildAbortException: Build of instance
  9484f5a7-3198-47ff-b728-178515a26277 aborted:
  Volume da947c97-66c6-4b7e-9ae6-54eb8128bb75 did not finish
  being created even after we waited 3 seconds or 2 attempts.
  And its status is error.

Change-Id: I20a5e8e5e10dd505c1b24c208f919c6550e9d1a4
Closes-Bug: #1693315
"
openstack%2Fnova~master~Iacf0a94296dbd44d0f30650003b732baccd3728b,openstack/nova,master,oslo.concurrency-info,Iacf0a94296dbd44d0f30650003b732baccd3728b,Add oslo_concurrency=INFO to default log levels for nova-manage,MERGED,2017-07-25 19:07:13.000000000,2017-08-21 12:03:39.000000000,2017-07-31 14:04:38.000000000,4,1,0,487179,bc4f842caccec7641da910bb615cc64cff80d861,39,18,2,1,6873,Matt Riedemann,mriedem,"Add oslo_concurrency=INFO to default log levels for nova-manage

We currently get oslo_concurrency logging at DEBUG level which
is gratuitous, so this changes the default to INFO.

Closes-Bug: #1707001

Change-Id: Iacf0a94296dbd44d0f30650003b732baccd3728b
"
openstack%2Fnova~master~I17bf421a7eb2ec9ff7e94704889ea22bebfa980b,openstack/nova,master,add_cli_support_matrix,I17bf421a7eb2ec9ff7e94704889ea22bebfa980b,add cli to support matrix,MERGED,2017-07-07 08:26:48.000000000,2017-08-21 12:03:32.000000000,2017-08-10 00:51:03.000000000,2,2,0,481498,bc9f4692ed479f5b71564d8760490d5384fff4cb,26,10,2,1,6062,jichenjc,jichenjc,"add cli to support matrix

nova console-log is supported in novaclient from nova
API 2.1 (2.0) and nova trigger-crash-dump was added for
API 2.17 (commit 6cbb22583b94660cfd78d8ee0068778d5279ceca)
so we can add those cli for user reference.

Change-Id: I17bf421a7eb2ec9ff7e94704889ea22bebfa980b
"
openstack%2Fnova~master~Idda59f3cf870479b5ca6ea3ab4516306d8e0075d,openstack/nova,master,openstack/requirements,Idda59f3cf870479b5ca6ea3ab4516306d8e0075d,Updated from global requirements,MERGED,2017-08-18 04:47:12.000000000,2017-08-21 12:03:14.000000000,2017-08-18 23:55:11.000000000,5,5,0,494859,d48ba9873a381a165d86f1dfebf7ea6ed4e073fe,44,15,3,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Idda59f3cf870479b5ca6ea3ab4516306d8e0075d
"
openstack%2Fnova~master~Idd1b58b85329b8e021eba4bc27f577af1b3338f4,openstack/nova,master,bug/1285000,Idd1b58b85329b8e021eba4bc27f577af1b3338f4,Remove host filter for _cleanup_running_deleted_instances periodic task,MERGED,2017-08-08 13:38:09.000000000,2017-08-21 12:03:01.000000000,2017-08-17 22:27:17.000000000,16,13,15,491808,aba3f649323d328f8122d372dea38256dfed6a52,122,30,11,3,24791,Maciej Jozefczyk,maciej.jozefczyk,"Remove host filter for _cleanup_running_deleted_instances periodic task

Periodic task _cleanup_running_deleted_instances() looks for orphaned
and running instances on hypervisor that should be deleted.
The problem is it checks if running instance has the same
hypervisor defined as it is in nova database.

In bug #1285000 it has been found that removing instance during
its migration could lead to abandon instance files on destination
host.

This change removes host filter in _running_deleted_instances() to
find also orphaned instances that are running on 'post migration'
destination host.

Change-Id: Idd1b58b85329b8e021eba4bc27f577af1b3338f4
Partial-Bug: #1285000
"
openstack%2Fnova~master~I7464e085c8c688d85cdce5aaddcf3bf2e04498ab,openstack/nova,master,bug/1708037,I7464e085c8c688d85cdce5aaddcf3bf2e04498ab,Always use application/json accept header in report client,MERGED,2017-08-01 22:41:29.000000000,2017-08-21 12:02:37.000000000,2017-08-14 22:56:36.000000000,10,3,1,489772,5905eb7f48a86dcac5a810d318f1d4dae9138286,69,19,3,2,11564,Chris Dent,chdent,"Always use application/json accept header in report client

Always send 'accept: application/json' header when the scheduler
report client talks to placement.

Setting accept ensures that if there are error responses, they will be
formatted as JSON, not HTML. Without the accept header, webob will
choose to send what it thinks is a reasonable default.

Change-Id: I7464e085c8c688d85cdce5aaddcf3bf2e04498ab
Closes-Bug: #1708037
"
openstack%2Fnova~master~Ib0ffe3e9702fd39914b2025096667e699bc432a0,openstack/nova,master,doc,Ib0ffe3e9702fd39914b2025096667e699bc432a0,doc: address review comments in stable-api guide updates,MERGED,2017-08-10 21:12:38.000000000,2017-08-21 12:02:24.000000000,2017-08-14 08:02:09.000000000,19,16,0,492690,430af62aa3a38c3de0da45e78fb936314036f6e8,15,6,1,1,6873,Matt Riedemann,mriedem,"doc: address review comments in stable-api guide updates

This addresses review comments made in change
I6522100a78241400b1ea059a39a32c259fe6ab90 which
updated the stable API docs.

Change-Id: Ib0ffe3e9702fd39914b2025096667e699bc432a0
"
openstack%2Fnova~master~I0692a4fdf9a19889c5d708fb9a6a562c914963f9,openstack/nova,master,bug/1707256,I0692a4fdf9a19889c5d708fb9a6a562c914963f9,Add release note for shared storage known issue,MERGED,2017-08-07 19:26:21.000000000,2017-08-21 12:02:11.000000000,2017-08-10 00:48:07.000000000,14,0,5,491582,0d31698d9e97e98f599f6b7ee0f1533677deee97,61,16,7,1,6873,Matt Riedemann,mriedem,"Add release note for shared storage known issue

Due to the scheduler report client on the compute service
not being aware of shared storage providers in Placement
for a given compute node, we can't claim support for
shared storage pool modeling in Pike. This adds a release
note to be clear about the lack of that functionality.

Change-Id: I0692a4fdf9a19889c5d708fb9a6a562c914963f9
Related-Bug: #1707256
"
openstack%2Fnova~master~Ib817581dfe0c32d3888c242166e3daa7b954320a,openstack/nova,master,doc-consoles-for-cells,Ib817581dfe0c32d3888c242166e3daa7b954320a,Document service layout for consoles with cells,MERGED,2017-08-08 20:32:38.000000000,2017-08-21 12:02:05.000000000,2017-08-09 19:03:41.000000000,13,0,0,491914,4a3e8ecf3876377d60f364d8cee6d7124c9899b4,15,5,1,1,4690,melanie witt,melwitt,"Document service layout for consoles with cells

This adds information about where the consoleauth service and console
proxies should run with multiple cells in Cells v2.

Change-Id: Ib817581dfe0c32d3888c242166e3daa7b954320a
"
openstack%2Fnova~master~I96e70a950ed04862d512f91211c4cb6fc3fd1159,openstack/nova,master,openstack/requirements,I96e70a950ed04862d512f91211c4cb6fc3fd1159,Updated from global requirements,MERGED,2017-08-04 12:54:57.000000000,2017-08-21 12:01:45.000000000,2017-08-08 02:17:14.000000000,2,2,0,490859,92c4689256631350b0dd5370a575292a1810241c,65,14,3,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I96e70a950ed04862d512f91211c4cb6fc3fd1159
"
openstack%2Fnova~master~I59ada8a4d4c9ff59fe494929510760f397396dc6,openstack/nova,master,,I59ada8a4d4c9ff59fe494929510760f397396dc6,Update install guide to clearly define between package installs,MERGED,2017-08-04 12:41:10.000000000,2017-08-21 12:01:39.000000000,2017-08-04 14:26:58.000000000,25,18,2,490844,85cd4574b8347d032be2285a277a0abe4d4a6869,17,7,2,8,10607,Alexandra Settle,asettle,"Update install guide to clearly define between package installs

Change-Id: I59ada8a4d4c9ff59fe494929510760f397396dc6
"
openstack%2Fnova~master~I21bcd71b21af3108e1b14229f90b5ec07cc8188b,openstack/nova,master,api-doc-redirect,I21bcd71b21af3108e1b14229f90b5ec07cc8188b,Add redirect for api-microversion-history doc,MERGED,2017-08-01 15:44:36.000000000,2017-08-21 12:01:26.000000000,2017-08-03 00:21:13.000000000,1,5,2,489641,c2f5864066532e323e8d6678509d9c4039574fff,37,12,4,1,6873,Matt Riedemann,mriedem,"Add redirect for api-microversion-history doc

The api-microversion-history doc has now moved under ""reference/""
so we need a redirect.

This also removes the draft site redirect for cells since that
was only in here for CI testing to make sure the redirects work,
which we know they do now:

  https://docs.openstack.org/nova/latest/cells.html

Change-Id: I21bcd71b21af3108e1b14229f90b5ec07cc8188b
"
openstack%2Fnova~master~Idb5bbc31a0aabc328f11e5a9979e5b80651a8f67,openstack/nova,master,bug/1700359,Idb5bbc31a0aabc328f11e5a9979e5b80651a8f67,Add release note for PUT /os-services/* for non-compute services,MERGED,2017-08-01 14:33:40.000000000,2017-08-21 12:01:14.000000000,2017-08-02 10:00:54.000000000,15,0,3,489621,598314a4bb53ffff2a8872bd6b290ef8d1d6c532,19,6,1,1,6873,Matt Riedemann,mriedem,"Add release note for PUT /os-services/* for non-compute services

Change If1e03c9343b8cc9c34bd51c2b4d25acdb21131ff made the
""PUT /os-services/*"" APIs only work with nova-compute services
since they now rely on finding the compute service in a cell
via the host_mappings record in the API database, and host
mappings only exist for compute services.

No one should have relied on disabling a non-compute service since
that does nothing, at least with in-tree code.

This change just adds a release note for awareness.

Change-Id: Idb5bbc31a0aabc328f11e5a9979e5b80651a8f67
Closes-Bug: #1700359
"
openstack%2Fnova~master~I35fa11660b9ff778f868af98802cb40ab3e2ce60,openstack/nova,master,,I35fa11660b9ff778f868af98802cb40ab3e2ce60,Update SSL cert used in testing,MERGED,2017-07-31 03:12:50.000000000,2017-08-21 12:01:00.000000000,2017-08-03 00:26:09.000000000,74,25,0,489078,42b0240bed75537b2542ed6958053de4563c2b99,22,9,1,3,12898,Tony Breeds,tonyb,"Update SSL cert used in testing

The current SSL cert contains '::1' as a DNSName[1] which is clearly an
ipaddress.  When PyOpenSSL is installed this causes the cert to discard
the entire SubjectAlternateName attribute which causes something like:

 WARNING [urllib3.contrib.pyopenssl] A problem was encountered with the
   certificate that prevented urllib3 from finding the
   SubjectAlternativeName field. This can affect certificate validation.
   The error was Codepoint U+003A at position 1 of u'::1' not allowed
 ERROR [urllib3.connection] Certificate did not match expected hostname:
   127.0.0.1. Certificate: {'subject': ((('commonName', u'*'),),),
   'subjectAltName': []}

The latest release of python-glanceclient now requires PyOpenSSL causing
the wsgi unit tests to fail.

This change alters the Alternate names to:
    DNS         = localhost
    DNS         = ip6-localhost
    IP Address  = 127.0.0.1
    IP  Address = ::1

And introduces a script to regenerate the cert if needed in the future.

[1]:
    DNS         = localhost
    DNS         = ip6-localhost
    DNS         = 127.0.0.1
    DNS         = ::1
    IP Address  = 127.0.0.1
    IP Address  = ::1

Change-Id: I35fa11660b9ff778f868af98802cb40ab3e2ce60
Related-Change: Ibd43976e46a531556739eafcf326b64e33366610
"
openstack%2Fnova~master~Ic872d7a7a741175ef02266cb029611c5016103a8,openstack/nova,master,(detached,Ic872d7a7a741175ef02266cb029611c5016103a8,fix test_rebuild_server_exc instability,MERGED,2017-07-26 11:56:30.000000000,2017-08-21 12:00:54.000000000,2017-08-01 11:05:31.000000000,3,2,4,487382,6e9b60183cf1bc7f9474c88407f6eff2f9319b3a,26,15,2,1,21239,Alex Szarka,xavvior,"fix test_rebuild_server_exc instability

It depends on the environment we gets with
instance-rebuild-error notification an another
notification the compute-exception. In this
case should ignore this event.
So we select the instance-rebuild-error event
into notification variable and we use this
after.

Closes-Bug: #1706533

Change-Id: Ic872d7a7a741175ef02266cb029611c5016103a8
"
openstack%2Fnova~master~I242ad5a21cb03cae5a52d86af8f5f16d618ab16c,openstack/nova,master,bp/api-no-more-extensions-pike,I242ad5a21cb03cae5a52d86af8f5f16d618ab16c,Remove the code related to extension loading from APIRouterV21,MERGED,2017-07-23 15:16:32.000000000,2017-08-21 12:00:48.000000000,2017-07-26 22:24:39.000000000,8,149,1,486414,e0f671d747cc4dbb3caa412c508855640a2be033,49,17,2,2,5754,Alex Xu,xuhj,"Remove the code related to extension loading from APIRouterV21

Remove the `nova.api.openstack.APIRouterV21` which is used to load
extension by stevedore, since all the extensions are removed.

Partial-implement-blueprint api-no-more-extensions-pike

Change-Id: I242ad5a21cb03cae5a52d86af8f5f16d618ab16c
"
openstack%2Fnova~master~I29c37e260465a574d3134a005dbc14e2a3c6ea00,openstack/nova,master,misc-shares-via-aggregate-trait,I29c37e260465a574d3134a005dbc14e2a3c6ea00,style-only: s/context/ctx/,MERGED,2017-07-20 19:13:53.000000000,2017-08-21 12:00:40.000000000,2017-07-26 16:15:09.000000000,237,237,2,485791,86fe9a70c24fce71bf85bfe39917073f833a0951,43,22,2,1,7,Jay Pipes,jaypipes,"style-only: s/context/ctx/

Changes the self.context attribute to self.ctx in the
test_resource_provider functional test. Later patches clean up and
condense this test file and having a shorter context attribute allows
us to reduce a number of lines of code in the test file and get rid of
some of the pesky parens on a line by themselves that so many people
hate.

Change-Id: I29c37e260465a574d3134a005dbc14e2a3c6ea00
"
openstack%2Fnova~master~I3658c4ea8f6b74dbf60b778a840f09e3dd2f19de,openstack/nova,master,bp/api-no-more-extensions-pike,I3658c4ea8f6b74dbf60b778a840f09e3dd2f19de,Remove the useless extension block_device_mapping_v1 object,MERGED,2017-07-21 09:24:19.000000000,2017-08-21 12:00:27.000000000,2017-07-26 23:40:53.000000000,0,16,0,486069,c27b76379e16d0781be5daf05c448fd8fa699bb6,75,16,4,1,5754,Alex Xu,xuhj,"Remove the useless extension block_device_mapping_v1 object

BlockDeviceMappingV1 isn't used by anywhere, so remove it.

Partial-implement-blueprint api-no-more-extensions-pike

Change-Id: I3658c4ea8f6b74dbf60b778a840f09e3dd2f19de
"
openstack%2Fnova~master~Idedb8a911a2ab0c096f4c9f61c5db362b08758ba,openstack/nova,master,bug/1709902,Idedb8a911a2ab0c096f4c9f61c5db362b08758ba,test server evacuation with placement,MERGED,2017-08-10 14:21:29.000000000,2017-08-21 11:58:14.000000000,2017-08-12 06:03:11.000000000,73,0,3,492548,96938426e6351fd0ed0e485c04fccb11e37e91bc,33,11,4,1,9708,Balazs Gibizer,gibi,"test server evacuation with placement

This patch test evacuation between two Pike compute hosts and
checks the resource state in the placement API.

Related-Bug: #1709902

Change-Id: Idedb8a911a2ab0c096f4c9f61c5db362b08758ba
"
openstack%2Fnova~master~I9cbe41e41f8ccdc9962ab593f313b5a47314a9d1,openstack/nova,master,bug/1709594,I9cbe41e41f8ccdc9962ab593f313b5a47314a9d1,doc: add superconductor up-call caveat for cross_az_attach=False,MERGED,2017-08-11 13:25:22.000000000,2017-08-21 11:58:07.000000000,2017-08-11 15:50:21.000000000,14,0,0,493007,c62ed630a9d4aebd1b3e3157a6ae4f0f75cae004,14,5,1,1,6873,Matt Riedemann,mriedem,"doc: add superconductor up-call caveat for cross_az_attach=False

When attaching a volume, if CONF.cinder.cross_az_attach=False,
we attempt to lookup the AZ that the instance is in and compare
that to the volume AZ. The instance AZ lookup involves getting
host aggregates which are in the API database, and in superconductor
mode the cell conductor can't access to the API database.

For volume attach, we could remove this check from the compute
service since we already check this in nova-api so the check in
nova-compute is redundant.

However, we still have a problem with checking this during boot
from volume where nova-compute creates the volume and then
attaches it. At that point it's too late and we'll fail.

We should eventually create volumes during boot from volume in
conductor, like we've talked about doing with neutron ports
during server create, but that's not something we have today
so we need to point out this limitation.

Change-Id: I9cbe41e41f8ccdc9962ab593f313b5a47314a9d1
"
openstack%2Fnova~master~Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f,openstack/nova,master,cd/placement-api-ref,Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f,[placement] Make placement_api_docs.py failing,MERGED,2017-07-06 09:12:39.000000000,2017-08-21 11:57:47.000000000,2017-08-14 19:20:04.000000000,4,5,2,480924,fa5749727fbeeb17b3f294adf76ca2c4c58721c4,93,20,14,2,21813,Andrey Volkov,avolkov,"[placement] Make placement_api_docs.py failing

If there is no api reference for some placement API method
tox -e placement-api-ref will fail now.

Change-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f
"
openstack%2Fnova~master~Id89d7c16ca53938e2bc18e904e8d13477ceb15f7,openstack/nova,master,cd/placement-api-ref,Id89d7c16ca53938e2bc18e904e8d13477ceb15f7,[placement] Add api-ref for allocation_candidates,MERGED,2017-07-06 15:16:40.000000000,2017-08-21 11:57:34.000000000,2017-08-12 06:16:45.000000000,120,2,38,481112,d0af9820e1aa365dfd61535036ee119742737aa7,135,20,13,4,21813,Andrey Volkov,avolkov,"[placement] Add api-ref for allocation_candidates

Change-Id: Id89d7c16ca53938e2bc18e904e8d13477ceb15f7
"
openstack%2Fnova~master~I6ba8765a427f654dafb32fc3fbf5492b0e1b426a,openstack/nova,master,cd/placement-api-ref,I6ba8765a427f654dafb32fc3fbf5492b0e1b426a,[placement] Add api-ref for RP usages,MERGED,2017-03-27 07:49:40.000000000,2017-08-21 11:57:28.000000000,2017-08-12 05:30:13.000000000,59,2,55,450105,4db481592de84836cd58e5b69850938466822c81,360,31,26,4,6062,jichenjc,jichenjc,"[placement] Add api-ref for RP usages

Add placement-api-ref for resource provider usages.

Co-Authored-by: Andrey Volkov <avolkov@gmail.com>

Change-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a
"
openstack%2Fnova~master~I6f8afe6680f83125da9381c812016b3623503825,openstack/nova,master,bug/1707071,I6f8afe6680f83125da9381c812016b3623503825,Remove provider allocs in confirm/revert resize,MERGED,2017-07-28 16:10:00.000000000,2017-08-21 11:57:22.000000000,2017-08-11 02:29:49.000000000,416,55,77,488510,5390210a4fa46e2af6b6aec9b41c03147b52760c,292,23,33,6,7,Jay Pipes,jaypipes,"Remove provider allocs in confirm/revert resize

Now that the scheduler creates a doubled-up allocation for the duration
of a move operation (with part of the allocation referring to the
source and part referring to the destination host), we need to remove
the source provider when confirming the resize and remove the
destination provider from the allocation when reverting a resize. This
patch adds this logic in the RT's drop_move_claim() method.

Change-Id: I6f8afe6680f83125da9381c812016b3623503825
Co-Authored-By: Dan Smith <dms@danplanet.com>
Fixes-bug: #1707071
"
openstack%2Fnova~master~Iba0a734eb5535ec7cc394858ef15f6eebf8a9bde,openstack/nova,master,bp/placement-claims,Iba0a734eb5535ec7cc394858ef15f6eebf8a9bde,Require Placement 1.10 in nova-status upgrade check,MERGED,2017-08-09 19:23:50.000000000,2017-08-21 11:57:15.000000000,2017-08-10 20:58:27.000000000,6,5,0,492234,98246687d750ced28d87c9b64015089c6fcefe9b,28,8,2,2,6873,Matt Riedemann,mriedem,"Require Placement 1.10 in nova-status upgrade check

The FilterScheduler is now using the GET /allocation_candidates
API from the Placement service which was added in microversion
1.10, and the nova-compute service is also going to rely on it
for updating allocations during move operations.

So this makes nova-status require Placement 1.10 as a minimum
for Pike. There are already release notes and some docs changes
mentioning that 1.10 is required for the scheduler and that
Placement should be upgraded before the scheduler, so another
release note is not added here.

Related to blueprint placement-claims

Change-Id: Iba0a734eb5535ec7cc394858ef15f6eebf8a9bde
"
openstack%2Fnova~master~I6522100a78241400b1ea059a39a32c259fe6ab90,openstack/nova,master,doc,I6522100a78241400b1ea059a39a32c259fe6ab90,Improve stable-api doc with current API state,MERGED,2017-08-02 08:37:11.000000000,2017-08-21 11:57:08.000000000,2017-08-10 22:01:01.000000000,84,33,33,489926,a03c66710969a713117b2fcdab960ebdef1f3905,71,14,9,2,8556,Ghanshyam,ghanshyam,"Improve stable-api doc with current API state

extensions, stevedore and extensions config options are gone
and plain router is introduced in Pike.

Also this documents was little bit confusing about current and
old state of APIs.

This commit makes it more clear and reflect the current API state
and also describe the evolution of APIs.

Change-Id: I6522100a78241400b1ea059a39a32c259fe6ab90
"
openstack%2Fnova~master~I005fc24e49487631d7fe73cb498c61619bcaac9d,openstack/nova,master,bp/doc-migration,I005fc24e49487631d7fe73cb498c61619bcaac9d,Create reference subpage,MERGED,2017-08-04 17:20:20.000000000,2017-08-21 11:56:37.000000000,2017-08-08 19:05:46.000000000,71,20,16,490994,b9efc9d641f26456805d24a5eba90356a9c9b4aa,32,12,3,3,2750,Sean Dague,sdague,"Create reference subpage

In an attempt to make the main navigation sidebar not be visual mud
(and really confusing) create a reference sub page that explains all
the references.

Part of bp: doc-migration

Change-Id: I005fc24e49487631d7fe73cb498c61619bcaac9d
"
openstack%2Fnova~master~If20a20e5cce7ab490998643e32556a1016646b07,openstack/nova,master,bug/1708637,If20a20e5cce7ab490998643e32556a1016646b07,Raise NoValidHost if no allocation candidates,MERGED,2017-08-07 13:30:23.000000000,2017-08-21 11:56:30.000000000,2017-08-10 07:03:46.000000000,30,66,12,491491,6b0ab40e4233a480c9bdcca657f594d7e90fadc8,68,16,5,3,9708,Balazs Gibizer,gibi,"Raise NoValidHost if no allocation candidates

Placement took over the role of the CoreFilter, RamFilter and DiskFilter
from the FilterScheduler. Therefore if placement returns no allocation
candidates for a request then scheduling should be stopped as this means
there is not enough VCPU, MEMORY_MB, or DISK_GB available in any compute
node for the request.

Change-Id: If20a20e5cce7ab490998643e32556a1016646b07
Closes-Bug: #1708637
"
openstack%2Fnova~master~If7da79356174be57481ef246618221e3b2ff8200,openstack/nova,master,bug/1708961,If7da79356174be57481ef246618221e3b2ff8200,Fix migrate single instance when it was created concurrently,MERGED,2017-08-07 11:12:07.000000000,2017-08-21 11:56:18.000000000,2017-08-09 12:50:51.000000000,21,6,6,491439,2bd7df84dcf8a45ce92b82f2360a1b39df522297,79,16,3,2,7166,Sylvain Bauza,sbauza,"Fix migrate single instance when it was created concurrently

When a multiple-instance creation is requested by the user, we create a
single RequestSpec per instance (each of them having the corresponding
instance UUID) but we keep track of how many concurrent instances were
created at once by updating a field named 'num_instances' and we persist
it.

Unfortunately, due to Ifc5cf482209e4f6f4e3e39b24389bd3563d86444 we now
lookup that field in the scheduler for knowing how many allocations to
do. Since a move operation will only pass a single instance UUID to
migrate to the scheduler, there is a discrepancy that can lead to an
ugly IndexError. Defaulting that loop to be what is passed over RPC
unless we don't have it and then we default back to what we know from
the RequestSpec record.

Change-Id: If7da79356174be57481ef246618221e3b2ff8200
Closes-Bug: #1708961
"
openstack%2Fnova~master~I9377e988fbdc822df46e91c0db6c8012697bc2ee,openstack/nova,master,bug/1708210,I9377e988fbdc822df46e91c0db6c8012697bc2ee,Fix getting instance bdms in multiple cells,MERGED,2017-08-03 06:22:49.000000000,2017-08-21 11:55:53.000000000,2017-08-04 20:17:18.000000000,44,4,14,490340,0a2f45a5b2e90b0a5650f5069b77dd2a8ddfc4a4,42,17,2,2,7634,Takashi Natsume,natsumet,"Fix getting instance bdms in multiple cells

In the 'detail' method of ExtendedVolumesController
related to 'GET /servers/detail' API,
multiple cells environemnt is not taken into account
when getting instance BDMs.
So fix it.

Change-Id: I9377e988fbdc822df46e91c0db6c8012697bc2ee
Closes-Bug: #1708210
"
openstack%2Fnova~master~Icac6eaba7a24bb0ccf141aebeadc7408f2725a4c,openstack/nova,master,doc-migration,Icac6eaba7a24bb0ccf141aebeadc7408f2725a4c,policies: Fix Sphinx issues,MERGED,2017-07-05 11:00:40.000000000,2017-08-21 11:55:33.000000000,2017-08-04 06:59:52.000000000,13,12,1,480516,c28bb51978aa695a752442fddcd94c4e66427a3f,101,17,8,2,15334,Stephen Finucane,sfinucan,"policies: Fix Sphinx issues

These cause issues with oslo_policy.sphinxext.

Change-Id: Icac6eaba7a24bb0ccf141aebeadc7408f2725a4c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~I278f71d5c4baaafcfc03746b981d32a8d570ddc5,openstack/nova,master,bz865335,I278f71d5c4baaafcfc03746b981d32a8d570ddc5,imagebackend: cleanup constructor args to Rbd,MERGED,2017-08-03 14:27:27.000000000,2017-08-21 11:55:27.000000000,2017-08-10 11:46:28.000000000,1,1,0,490499,a285996c488a155fc453c48917ccbc297424079b,20,5,1,1,9555,Matthew Booth,MatthewBooth,"imagebackend: cleanup constructor args to Rbd

kwargs can never be used due to the way these objects are created. All
constructor arguments need to be identical, so this is an anomaly.

Change-Id: I278f71d5c4baaafcfc03746b981d32a8d570ddc5
"
openstack%2Fnova~master~I2feee4018a332483658d24d299dbb04ec87f2df0,openstack/nova,master,bp/doc-migration,I2feee4018a332483658d24d299dbb04ec87f2df0,Fix list rendering in bdm doc.,MERGED,2017-08-03 12:00:53.000000000,2017-08-21 11:55:14.000000000,2017-08-03 13:56:40.000000000,41,37,1,490446,33617699108bb3eb9632af3800e918915a7e38c8,13,7,1,1,2750,Sean Dague,sdague,"Fix list rendering in bdm doc.

What looked clear in the rst actually was far from clear when rendered
in HTML. The document was restructured a bit so all the options end up
in a single bullet list, and the combination description is a separate
section.

Part of bp: doc-migration

Change-Id: I2feee4018a332483658d24d299dbb04ec87f2df0
"
openstack%2Fnova~master~Ic1d1383148b005b884fdfa3e9a9658adcb13ee70,openstack/nova,master,bp/doc-migration,Ic1d1383148b005b884fdfa3e9a9658adcb13ee70,Fix lists in process doc,MERGED,2017-08-03 11:32:13.000000000,2017-08-21 11:55:07.000000000,2017-08-03 13:37:11.000000000,10,10,3,490431,ce53afce8c7605bef412a393f193414c448e92c8,15,7,1,1,2750,Sean Dague,sdague,"Fix lists in process doc

A lot of our rst was actually misformatted with extra spaces indenting
the bullet lists. This wasn't very visually noticable in the
oslosphinx theme, but it's really bad in the new theme. There will
need to be lots of fixes here, but will do them one page at a time.

Part of bp: doc-migration

Change-Id: Ic1d1383148b005b884fdfa3e9a9658adcb13ee70
"
openstack%2Fnova~master~I361fa1e534d7b20c985558e272b672b84c6fe439,openstack/nova,master,bug/1708260,I361fa1e534d7b20c985558e272b672b84c6fe439,[placement] Require at least one allocation when PUT,MERGED,2017-08-02 20:25:36.000000000,2017-08-21 11:54:59.000000000,2017-08-04 09:18:27.000000000,11,0,0,490195,9155da345e5d6d1aee293bc66f746da52bca4c79,20,6,1,2,11564,Chris Dent,chdent,"[placement] Require at least one allocation when PUT

When doing a PUT to /allocations/{consumer_uuid} if the list of
allocations is empty there is a 500 error coming from an uncaught
IndexError.

Adjust the schema to require at least one allocation. If no allocations
are provided in the list, the response will be a 400.

This doesn't require a microversion because it is changing a 500 to
a useful response.

Change-Id: I361fa1e534d7b20c985558e272b672b84c6fe439
Closes-Bug: #1708260
"
openstack%2Fnova~master~I8cd056fa17184a98c31547add0e9fb2d363d0908,openstack/nova,master,bug/1707238,I8cd056fa17184a98c31547add0e9fb2d363d0908,Detach device from live domain even if not found on persistent,MERGED,2017-07-28 17:26:33.000000000,2017-08-21 11:54:45.000000000,2017-08-07 21:47:34.000000000,57,8,4,488545,d39934ad6afb7e2729bb45235f363ada86012d15,33,16,2,2,4690,melanie witt,melwitt,"Detach device from live domain even if not found on persistent

In a past attempt to fix a bug [1], we started raising DeviceNotFound
if a device wasn't found on the persistent domain. This was to address
a scenario where the guest ignored the detach from the live domain
because it was busy and we wanted to avoid failing a later detach
request to the user (compute handles DeviceNotFound).

Unfortunately, in the above case, a later detach request won't fail to
the user but it also won't detach from the live domain. It sees the
device already detached from the persistent domain and doesn't attempt
to detach from the live domain.

This is a serious problem because it's possible for a volume to be
attached to two live domains and data corruption can occur.

This adds an attempt to detach from the live domain even if we had
already detached from the persistent domain in the past.

Closes-Bug: #1707238

[1] https://review.openstack.org/386257

Change-Id: I8cd056fa17184a98c31547add0e9fb2d363d0908
"
openstack%2Fnova~master~I23ed64d5c48f520f115d64a97c748e5b49bb5f20,openstack/nova,master,bug/1707071,I23ed64d5c48f520f115d64a97c748e5b49bb5f20,Additional assertions to resize tests,MERGED,2017-08-01 19:02:13.000000000,2017-08-21 11:54:38.000000000,2017-08-02 07:04:46.000000000,50,5,1,489714,dea7a19c361be8180c35ed09ce12434de0e9fc87,16,6,1,1,7,Jay Pipes,jaypipes,"Additional assertions to resize tests

Adds a number of assertions that usage and allocation records are what
we expect at the following times:

* After boot on the source host but before running periodics After
* resize operation but before confirming or reverting and before
  running periodics

Change-Id: I23ed64d5c48f520f115d64a97c748e5b49bb5f20
Related-bug: #1707071
"
openstack%2Fnova~master~If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7,openstack/nova,master,bug/1707071,If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7,Test resize with placement api,MERGED,2017-07-27 17:33:05.000000000,2017-08-21 11:54:31.000000000,2017-08-01 18:36:45.000000000,375,18,69,487958,8dd11ca1b34e1ed58b4632d09fabd6a6a9425ec0,140,21,22,6,9708,Balazs Gibizer,gibi,"Test resize with placement api

Test cases for resize with confirm and revert scenarios have been
added.

This test depends on the periodic update_available_resources call to heal
the resource allocations. The fake virt driver needed to be tweaked to
work when more than one compute service is created and periodic tasks
are enabled.

The accounting of the current code is very incorrect at the moment, so this
asserts the existing (wrong) behavior, but marks the actual expected
values everywhere so that we can follow up with fixes to remove all of the
annotations.

Change-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7
blueprint: placement-claims
"
openstack%2Fnova~master~I3d89830e4770a7cf88389fac5a2a684554a29bc5,openstack/nova,master,hurrah-for-privsep,I3d89830e4770a7cf88389fac5a2a684554a29bc5,rootwrap.d cleanup mislabeled files,MERGED,2017-07-25 02:44:42.000000000,2017-08-21 11:54:01.000000000,2017-08-01 11:16:21.000000000,10,10,4,486831,fa2e975e7df2882f2358b72e5d4f812eebff0ae8,117,21,7,1,12898,Tony Breeds,tonyb,"rootwrap.d cleanup mislabeled files

The form for rootwrap.d files is to include a comment before the filter
with the filename (and preferably) the command the filter matches.

This change ensures that these file comments refer to a valid file in the
tree.  They can be checked with something like:
  for i in `awk '/^#.*py *:/ {print $2}' etc/nova/rootwrap.d/compute.filters \
                 | sort -u` ; do
      ls ${i/:}
  done

* I13c701c390784fa1f7809705741abb46e40973be renamed
   .../libvirt/connection.py to .../libvirt/drver.py
* I400db60fcc29c2d5e2d3b9dabc055649138468eb switched to os-brick and
   removed nova/storage/linuxscsi.py
* I5fc2425d2c25076ea87686b2e41be35f66ebb923 moved .../libvirt/volume.py
   into .../libvirt/volume/
* Update one comment to make the awk script above work.
* Add comments as 'chown' and 'tee' are used in nova/virt/libvirt/

Change-Id: I3d89830e4770a7cf88389fac5a2a684554a29bc5
"
openstack%2Fnova~master~If3c00a223fbfcb34fd92f8315f2a59bcb819e79e,openstack/nova,master,cinder_opts,If3c00a223fbfcb34fd92f8315f2a59bcb819e79e,Add cinder keystone client opts to config reference,MERGED,2017-07-28 16:58:38.000000000,2017-08-21 11:53:26.000000000,2017-07-31 17:36:34.000000000,3,1,1,488530,db1d1880ba48a2a6f08264b2df6468d7634a1925,19,5,1,1,2750,Sean Dague,sdague,"Add cinder keystone client opts to config reference

This adds the config reference items to cinder for things like the
insecure flag, and ca options. This mirrors what we have for services
like glance and ironic.

Change-Id: If3c00a223fbfcb34fd92f8315f2a59bcb819e79e
Closes-Bug: #1615666
"
openstack%2Fnova~master~I56b1c077dd604c2947c791c7d5ccdddb9fb815a2,openstack/nova,master,in-tree-redirects,I56b1c077dd604c2947c791c7d5ccdddb9fb815a2,add a redirect for the old cells landing page,MERGED,2017-07-27 16:13:57.000000000,2017-08-21 11:53:20.000000000,2017-08-01 13:33:30.000000000,9,0,3,487932,74b6b7741bc7f254e39468a234e02408f33b0bbb,56,15,5,2,2472,Doug Hellmann,doug-hellmann,"add a redirect for the old cells landing page

Redirect from /nova/$series/cells.html to /nova/$series/admin/cells.html

Depends-On: I236b7b0a9aae065167bd0aef316603d258e4c3c6
Change-Id: I56b1c077dd604c2947c791c7d5ccdddb9fb815a2
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fnova~master~Ifd09bd0128ed74347c984a3dcca1304336853865,openstack/nova,master,bp/placement-claims,Ifd09bd0128ed74347c984a3dcca1304336853865,placement: account for move operations in claim,MERGED,2017-07-26 21:03:48.000000000,2017-08-21 11:53:06.000000000,2017-07-28 04:08:54.000000000,300,17,26,487589,9d1db10f842286fb59b9316987e075fd8758107d,114,22,8,2,7,Jay Pipes,jaypipes,"placement: account for move operations in claim

When a move operation occurs that involves the scheduler, we want the
scheduler to claim resources against the destination host but we do not
want the allocations against the source host to be removed until the
move operation completes. If that were to happen, we would improperly
be freeing resources on the source host before those resources were
actually able to be claimed by another consumer.

So, in this patch, we modify the scheduler report client's
claim_resources() method to first check to see if there are any
allocations for the requested consumer (instance) before attempting to
claim resources against a new set of resource providers. If there *are*
existing allocations, we assume that the scheduler is calling
claim_resources() during a move operation and we adjust the requested
allocation to include the original source host's resources along with
the new destination host's resources.

We ensure that if the original allocation on the source host included
shared resource providers that we do not ""double up"" the request for
that resource in the new allocation.

Change-Id: Ifd09bd0128ed74347c984a3dcca1304336853865
blueprint: placement-claims
Depends-On: Ib14016a3bc6f2714758ad0291396233218c593c6
"
openstack%2Fnova~master~I4799e1b4d31f8a0c3fe8a796f7c9adadea92a6f4,openstack/nova,master,bp/api-no-more-extensions-pike,I4799e1b4d31f8a0c3fe8a796f7c9adadea92a6f4,Move the note about '/os-volume_boot' to the correct place,MERGED,2017-07-21 09:24:19.000000000,2017-08-21 11:52:26.000000000,2017-07-26 23:44:48.000000000,2,2,0,486071,d863b200e1873e555864164a49a939938e5113db,66,17,5,1,5754,Alex Xu,xuhj,"Move the note about '/os-volume_boot' to the correct place

Move the note about '/os-volume_boot' close to the routes of
'/os-volume_boot'.

Partial-implement-blueprint api-no-more-extensions-pike

Change-Id: I4799e1b4d31f8a0c3fe8a796f7c9adadea92a6f4
"
openstack%2Fnova~master~Iba73516c77a2a9ae41e8d7d33d9b3b70caa9e0cd,openstack/nova,master,bp/placement-claims,Iba73516c77a2a9ae41e8d7d33d9b3b70caa9e0cd,docstring and unused code removal,MERGED,2017-07-26 15:50:38.000000000,2017-08-21 11:52:19.000000000,2017-07-26 23:44:07.000000000,5,1,0,487492,6e595b42cc47fe9f8618d5b8ced0e54946246d14,27,7,1,1,7,Jay Pipes,jaypipes,"docstring and unused code removal

Simply makes the docstring for _set_allocations() accurate w.r.t. the
exceptions raised from it and removes a useless call to
_RC_CACHE.id_from_string()

Change-Id: Iba73516c77a2a9ae41e8d7d33d9b3b70caa9e0cd
"
openstack%2Fnova~master~I4184382b49dd2193d6a21bfe02ea973d02d8b09f,openstack/nova,master,bug/1706083,I4184382b49dd2193d6a21bfe02ea973d02d8b09f,"libvirt: Post-migration, set cache value for Cinder volume(s)",MERGED,2017-07-20 17:26:05.000000000,2017-08-21 11:52:13.000000000,2017-07-28 16:15:08.000000000,10,14,9,485752,14c38ac0f253036da79f9d07aedf7dfd5778fde8,72,19,6,2,6962,Kashyap Chamarthy,kashyapc,"libvirt: Post-migration, set cache value for Cinder volume(s)

This was noticed in a downstream bug when a Nova instance with Cinder
volume (in this case, both the Nova instance storage _and_ Cinder volume
are located on Ceph) is migrated to a target Compute node, the disk
cache value for the Cinder volume gets changed.  I.e. the QEMU
command-line for the Cinder volume stored on Ceph turns into the
following:

Pre-migration, QEMU command-line for the Nova instance:

    [...] -drive file=rbd:volumes/volume-[...],cache=writeback

Post-migration, QEMU command-line for the Nova instance:

    [...] -drive file=rbd:volumes/volume-[...],cache=none

Furthermore, Jason Dillaman from Ceph confirms RBD cache being enabled
pre-migration:

    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \
        config get rbd_cache
    {
        ""rbd_cache"": ""true""
    }

And disabled, post-migration:

    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \
        config get rbd_cache
    {
        ""rbd_cache"": ""false""
    }

This change in cache value post-migration causes I/O latency on the
Cinder volume.

From a chat with Daniel BerrangÃ© on IRC: Prior to live migration, Nova
rewrites all the <disk> elements, and passes this updated guest XML
across to target libvirt.  And it is never calling _set_cache_mode()
when doing this.  So `nova.conf`'s `writeback` setting is getting lost,
leaving the default `cache=none` setting.  And this mistake (of leaving
the default cache value to 'none') will of course be correct when you
reboot the guest on the target later.

So:

  - Call _set_cache_mode() in _get_volume_config() method -- because it
    is a callback function to _update_volume_xml() in
    nova/virt/libvirt/migration.py.

  - And remove duplicate calls to _set_cache_mode() in
    _get_guest_storage_config() and attach_volume().

  - Fix broken unit tests; adjust test_get_volume_config() to reflect
    the disk cache mode.

Thanks: Jason Dillaman of Ceph for observing the change in cache modes
        in a downstream bug analysis, Daniel BerrangÃ© for help in
        analysis from a Nova libvirt driver POV, and Stefan Hajnoczi
        from QEMU for help on I/O latency instrumentation with `perf`.

Closes-bug: 1706083
Change-Id: I4184382b49dd2193d6a21bfe02ea973d02d8b09f
"
openstack%2Fnova~master~I254977fbebf87ac712322f321792a5dfe3f0df0e,openstack/nova,master,bug/1694406,I254977fbebf87ac712322f321792a5dfe3f0df0e,Instance remains in migrating state forever,MERGED,2017-07-14 12:04:04.000000000,2017-08-21 11:51:48.000000000,2017-08-01 11:36:07.000000000,4,2,12,483911,2d3486d0ee72bc5fdd6982b9cab76c8ca9015848,74,21,4,2,10207,Manas Mandlekar,manasmandlekar,"Instance remains in migrating state forever

An unexpected failure during live migration leaves the instance
to migrating state forever.
The issue is that in case of unexpected failure the task state is
set to be same as the instance task state. It should be set to
'None' instead.

Change-Id: I254977fbebf87ac712322f321792a5dfe3f0df0e
Closes-Bug: 1694406
"
openstack%2Fglance_store~master~I1baee6c794859c7bb480e2f53bb7ffa69af04406,openstack/glance_store,master,openstack/requirements,I1baee6c794859c7bb480e2f53bb7ffa69af04406,Updated from global requirements,MERGED,2017-08-18 04:40:16.000000000,2017-08-21 11:50:43.000000000,2017-08-21 11:50:43.000000000,3,3,0,494809,e322bc241ec9cf5f48a2f01f22b69aac16f8b586,8,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I1baee6c794859c7bb480e2f53bb7ffa69af04406
"
openstack%2Ftripleo-heat-templates~master~I48325893a00690e2f5d6f1d685f903234545d5b8,openstack/tripleo-heat-templates,master,bp/tls-via-certmonger-containers,I48325893a00690e2f5d6f1d685f903234545d5b8,Enable TLS for containerized RabbitMQ,MERGED,2017-08-14 17:56:16.000000000,2017-08-21 11:49:28.000000000,2017-08-21 11:49:28.000000000,52,0,0,493632,0f8e4e366fc3e2e3f32474c71de15a739162a653,12,5,2,2,10873,Juan Antonio Osorio Robles,ejuaoso,"Enable TLS for containerized RabbitMQ

Bind mounts and adds the appropriate permissions for the cert and
key that's used for TLS.

bp tls-via-certmonger-containers

Depends-On: I62ff89362cfcc80e6e62fad09110918c36802813
Change-Id: I48325893a00690e2f5d6f1d685f903234545d5b8
"
openstack%2Fkuryr-kubernetes~master~I87b8cb128ad99bcef4fdfab789ca988074f88192,openstack/kuryr-kubernetes,master,update-df-devstack,I87b8cb128ad99bcef4fdfab789ca988074f88192,Update Dragonflow-kuryr devstack configuration.,MERGED,2017-08-21 09:14:57.000000000,2017-08-21 11:48:34.000000000,2017-08-21 11:48:34.000000000,1,7,0,495777,29758b35bac71ca5784f970416c29f1df6ad2940,8,4,1,1,6598,Berezovsky Irena,irenab,"Update Dragonflow-kuryr devstack configuration.

Remove non-required services and disable selective
topology distribution.

Change-Id: I87b8cb128ad99bcef4fdfab789ca988074f88192
"
openstack%2Fnova~master~I1d2d95a0864578161a34084db31eb460e895c1ec,openstack/nova,master,doc,I1d2d95a0864578161a34084db31eb460e895c1ec,Fix contributor documentation,MERGED,2017-08-16 17:22:42.000000000,2017-08-21 11:46:46.000000000,2017-08-17 04:55:56.000000000,9,9,0,494277,547725946b9618156df44f9f71b628140bb2b07c,17,7,1,1,6167,Ken'ichi Ohmichi,oomichi,"Fix contributor documentation

There are some small comments on the review of
Ib2b49f70c55311195535a5ef250ff555e227fa0a
This is a follow-up for these comments.

Change-Id: I1d2d95a0864578161a34084db31eb460e895c1ec
"
openstack%2Fnova~master~Iaf88f8802a456d5e197b65405fa6959a2c514325,openstack/nova,master,bug/1710249,Iaf88f8802a456d5e197b65405fa6959a2c514325,test shelve and shelve offload with placement,MERGED,2017-08-11 16:04:02.000000000,2017-08-21 11:46:40.000000000,2017-08-17 17:21:34.000000000,173,0,14,493062,13c39b1e79fa4e4a697ec3df5bea9b2470cc3deb,46,13,4,1,9708,Balazs Gibizer,gibi,"test shelve and shelve offload with placement

The following 3 scenarios are covered by this patch:
* boot, shelve, unshelve, delete
* boot, shelve, shelve offload, unshelve on different host, delete
* boot, shelve, shelve offload, unshelve on the same host, delete

The second and the third scenarios are faulty and therefore those
test cases now assert the wrong behavior but contain the expected
behavior as commented out asserts.

Change-Id: Iaf88f8802a456d5e197b65405fa6959a2c514325
Related-Bug: 1710249
"
openstack%2Fnova~master~Idea9315d6bce8b341f0c3d2dc0accca6ac259587,openstack/nova,master,bug/1710908,Idea9315d6bce8b341f0c3d2dc0accca6ac259587,Make scheduler.utils.merge_resources ignore zero values,MERGED,2017-08-15 17:38:21.000000000,2017-08-21 11:45:54.000000000,2017-08-17 02:51:44.000000000,39,3,7,493963,7c463e2e761ae545bdc86576c2bba537c8cfc27e,56,17,4,2,11564,Chris Dent,chdent,"Make scheduler.utils.merge_resources ignore zero values

If merge_resources results in a class of resource with a value of zero,
and that result is then used to form an allocation request, the
allocation will be rejected: the json schema for allocations requires
the value of a resource class to be at least 1.

Therefore merge_resources is changed so that anywhere the value is zero
in the results, that key is popped from the dict. We need to do it in
this way because we are modifying an existing dict, not returning a new
one that we are assembling.

Change-Id: Idea9315d6bce8b341f0c3d2dc0accca6ac259587
Closes-Bug: #1710908
"
openstack%2Fnova~master~I273998ebc03f3a832cc44787a5c2396da58e5e25,openstack/nova,master,bug/1710509,I273998ebc03f3a832cc44787a5c2396da58e5e25,Avoid race in test_evacuate,MERGED,2017-08-14 06:36:05.000000000,2017-08-21 11:45:38.000000000,2017-08-15 20:35:46.000000000,4,2,11,493448,548e93c4b45df05bb0352cc3ef6554d0f65870bd,44,16,3,1,6062,jichenjc,jichenjc,"Avoid race in test_evacuate

We want the host to be the destination and the status to be active so
use _wait_for_server_parameter to wait on both of those, rather than
waiting only for the server to change to ACTIVE.

Without this, we sometimes see the server go ACTIVE but the host has
not yet changed.

Co-Authored-By: Balazs Gibizer <balazs.gibizer@ericsson.com>
Co-Authored-By: Chris Dent <cdent@anticdent.org>
Change-Id: I273998ebc03f3a832cc44787a5c2396da58e5e25
Closes-Bug: 1710509
"
openstack%2Fnova~master~I0628d8fa0b19c3fb09f1896402fc85dcae90916f,openstack/nova,master,api-doc,I0628d8fa0b19c3fb09f1896402fc85dcae90916f,Update api doc with latest updates in api framework,MERGED,2017-08-11 15:18:34.000000000,2017-08-21 11:45:24.000000000,2017-08-15 17:28:30.000000000,78,81,50,493041,796f3036c29b3625ce2bbeb3108b64addf376a4f,60,12,7,1,8556,Ghanshyam,ghanshyam,"Update api doc with latest updates in api framework

api.rst has many stale information now as we have done
many changes in api framework specially removal of
stevedore extensions loading and plain routing.

This commit modify this doc to reflect latest information
and remove v2 specific info which are no longer valid.

Note- in next part we will merge api_2.rst in this doc and
show 'adding api method' step by step.

Change-Id: I0628d8fa0b19c3fb09f1896402fc85dcae90916f
"
openstack%2Fmagnum-ui~master~I66af3a0b1fe4864f8aaaaad347fdace00ce99262,openstack/magnum-ui,master,openstack/requirements,I66af3a0b1fe4864f8aaaaad347fdace00ce99262,Updated from global requirements,MERGED,2017-08-18 04:42:48.000000000,2017-08-21 11:45:14.000000000,2017-08-21 11:45:14.000000000,2,2,0,494825,507d744dbfaf4beaf676b0a65eb86aed421ae054,9,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I66af3a0b1fe4864f8aaaaad347fdace00ce99262
"
openstack%2Fnova~master~I1bb3674f35f83e2a33243103a267b4aff70f852e,openstack/nova,master,feature-classification-queens,I1bb3674f35f83e2a33243103a267b4aff70f852e,doc: Extend nfv feature matrix with pinning/NUMA,MERGED,2016-06-08 14:24:32.000000000,2017-08-21 11:45:10.000000000,2017-08-14 21:24:12.000000000,37,4,10,327126,8797ed5ac8af5262bedf2aab5772978b42a95d8e,57,18,7,1,15334,Stephen Finucane,sfinucan,"doc: Extend nfv feature matrix with pinning/NUMA

Detail these features, including links to the documentation. No tests
are provided as no upstream Tempest tests currently exist.

Change-Id: I1bb3674f35f83e2a33243103a267b4aff70f852e
"
openstack%2Fmagnum-ui~master~I476c9621963b29a647eaabdaae8e80e78109cd42,openstack/magnum-ui,master,zanata/translations,I476c9621963b29a647eaabdaae8e80e78109cd42,Imported Translations from Zanata,MERGED,2017-08-17 10:44:52.000000000,2017-08-21 11:45:09.000000000,2017-08-21 11:45:09.000000000,133,29,0,494474,02222051da2051cc24f68acc5319f1ba9106f838,11,3,3,5,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I476c9621963b29a647eaabdaae8e80e78109cd42
"
openstack%2Fnova~master~I2385d95169711e8be0b4ee00823bfff7a8ab88d8,openstack/nova,master,fix_message,I2385d95169711e8be0b4ee00823bfff7a8ab88d8,Fix messages in functional tests,MERGED,2017-08-14 07:20:33.000000000,2017-08-21 11:44:57.000000000,2017-08-15 20:39:16.000000000,2,2,0,493460,b6fb9fe3b9812c5bfbcb8fe1be585fd74aa91952,17,7,1,1,7634,Takashi Natsume,natsumet,"Fix messages in functional tests

They need an extra white space.

TrivialFix
Change-Id: I2385d95169711e8be0b4ee00823bfff7a8ab88d8
"
openstack%2Fnova~master~I6c880c72d87eb0116cb57371e5d600dced2915f7,openstack/nova,master,bug/1709594,I6c880c72d87eb0116cb57371e5d600dced2915f7,doc: add another up-call caveat for cells v2 for xenapi aggregates,MERGED,2017-08-11 13:25:22.000000000,2017-08-21 11:44:43.000000000,2017-08-11 15:49:36.000000000,11,3,1,493006,904c4a1d9ac25119bb3100a349e19fef8d318527,18,7,1,1,6873,Matt Riedemann,mriedem,"doc: add another up-call caveat for cells v2 for xenapi aggregates

There is an up-call from the xenapi driver when performing a live
migration and --block-migrate is not specified such that the driver
checks to see if the source and destination hosts are in the same
aggregate. This fails in a super-conductor setup because the
aggregates are now in the API database and the cell conductor
won't be able to access that database by design.

Change-Id: I6c880c72d87eb0116cb57371e5d600dced2915f7
Related-Bug: #1709594
"
openstack%2Fnova~master~I843353427c90142a366ae9ca63ee4298b4f3ecd4,openstack/nova,master,exact-filters,I843353427c90142a366ae9ca63ee4298b4f3ecd4,Deprecate bare metal filters,MERGED,2017-08-10 14:59:38.000000000,2017-08-21 11:44:31.000000000,2017-08-11 15:24:49.000000000,43,0,9,492563,b4295ef0496849c1bc43481d31f57d79afaf6b7b,48,14,5,5,10239,Dmitry Tantsur,dtantsur,"Deprecate bare metal filters

This change deprecates the Exact filters, and two options commonly used
to enable them. Custom resource classes should be used instead.

Change-Id: I843353427c90142a366ae9ca63ee4298b4f3ecd4
"
openstack%2Fnova~master~Iaafa71a99d947b4ffb1b365c614a73f38591dca2,openstack/nova,master,zanata/translations,Iaafa71a99d947b4ffb1b365c614a73f38591dca2,Imported Translations from Zanata,MERGED,2017-06-24 11:31:19.000000000,2017-08-21 11:43:51.000000000,2017-08-10 18:18:31.000000000,256,1966,0,477091,a6654ba4a48847586bec1bc69d13d10e4fd3075d,439,18,39,12,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2
"
openstack%2Fnova~master~Ia93168b1560267178059284186fb2b7096c7e81f,openstack/nova,master,bug/1707071,Ia93168b1560267178059284186fb2b7096c7e81f,Resource tracker compatibility with Ocata and Pike,MERGED,2017-08-04 18:18:56.000000000,2017-08-21 11:43:44.000000000,2017-08-11 07:06:48.000000000,136,43,36,491012,ddef9dcfc0f7b8f80c6f67f2bfcaf752558a7788,126,18,12,10,4393,Dan Smith,danms,"Resource tracker compatibility with Ocata and Pike

Because we need to allow for a smooth upgrade from Ocata to
Pike, we need Pike compute hosts to be tolerant of the bad accounting
assumptions that Ocata compute hosts were making. If a user migrates an
instance from an Ocata compute host to a Pike compute host, the Ocata
compute host will continue essentially re-setting the instance
allocation to be an allocation against only the source Ocata host
(during the migration operation). We need to have the Pike destination
compute host recognize when its in a mixed Ocata/Pike environment and
tolerate this incorrect ""healing"" that the Ocata source host will do.
To tolerate this, the Pike destination compute host must continue to
behave like an Ocata compute host until all compute hosts are upgraded
to Pike or beyond.

Note that this adds service version caching for the compute service.
We were already doing the lookup for the RPC pin and caching that,
so this is not much of a change. Also note that we weren't clearing
this caching in tests, so any test that ran code that cached the
service version would affect later ones. This clears it as part of the
base test setup too.

Co-Authored-By: Jay Pipes <jaypipes@gmail.com>
Change-Id: Ia93168b1560267178059284186fb2b7096c7e81f
"
openstack%2Fnova~master~Ibe1cee1cb2642f61a8d6bf9c3f6bbee4f2c2f414,openstack/nova,master,bug/1709328,Ibe1cee1cb2642f61a8d6bf9c3f6bbee4f2c2f414,Remove ram/disk sched filters from default list,MERGED,2017-08-08 16:37:30.000000000,2017-08-21 11:43:10.000000000,2017-08-10 10:53:59.000000000,11,4,6,491854,2fe96819c24eff5a9493a6559f3e8d5b4624a8c9,52,19,5,2,8768,Chris Friesen,cbf123,"Remove ram/disk sched filters from default list

Since we now use placement to verify basic CPU/RAM/disk resources,
we should default to disabling the equivalent scheduler filters.

Oddly enough, CoreFilter was already disabled so now also disable
RamFilter and DiskFilter.

Closes-Bug: #1709328
Change-Id: Ibe1cee1cb2642f61a8d6bf9c3f6bbee4f2c2f414
"
openstack%2Fnova~master~I8d882278a0c2c125be422304679b2067d9730e2a,openstack/nova,master,bug/1707071,I8d882278a0c2c125be422304679b2067d9730e2a,remove log message with potential stale info,MERGED,2017-08-09 20:03:32.000000000,2017-08-21 11:42:53.000000000,2017-08-10 16:18:18.000000000,1,9,1,492242,2651b27b68ae84ea7726c19892573e6c20c68039,29,5,1,1,7,Jay Pipes,jaypipes,"remove log message with potential stale info

There was a log message in the filter scheduler _claim_resources()
method that had the potential of containing stale information when a
move operation may have modified the allocation request, so we remove
that log message here for clarity since the scheduler report client's
claim_resources() method always logs the original and updated
allocation request.

Change-Id: I8d882278a0c2c125be422304679b2067d9730e2a
"
openstack%2Fnova~master~Ia7ff98ff28b7265058845e46b277317a2bfc96d2,openstack/nova,master,deprecate-dem-schedulers,Ia7ff98ff28b7265058845e46b277317a2bfc96d2,Mark Chance and Caching schedulers as deprecated,MERGED,2017-08-09 17:54:26.000000000,2017-08-21 11:42:41.000000000,2017-08-10 10:57:36.000000000,25,2,0,492210,d48bba18a7cebc57e63f5b2c5a1e939654de0883,22,6,1,4,4393,Dan Smith,danms,"Mark Chance and Caching schedulers as deprecated

FilterScheduler with Placement should replace both of these. Mark them
as deprecated now so the timer starts.

Change-Id: Ia7ff98ff28b7265058845e46b277317a2bfc96d2
"
openstack%2Fnova~master~I963170f99037d5ed085e8c676ab55750c7f6372e,openstack/nova,master,bp/doc-migration,I963170f99037d5ed085e8c676ab55750c7f6372e,Clean up *most* ec2 / euca2ools references,MERGED,2017-08-09 14:58:47.000000000,2017-08-21 11:42:33.000000000,2017-08-16 19:55:12.000000000,16,107,3,492166,7e693e9c5ccb2e11838cce7ef4973a1087432b05,17,6,2,10,2750,Sean Dague,sdague,"Clean up *most* ec2 / euca2ools references

The ec2 / euca2ools command references definitely don't work any more,
this deletes most of them. The exception is the policy reference doc
which is over a year out of date, and needs more then surgical removal
of ec2 from it.

Change-Id: I963170f99037d5ed085e8c676ab55750c7f6372e
"
openstack%2Fnova~master~Iecf99e173be3c3d5a2d5dd758c09f79d443729b9,openstack/nova,master,bp/doc-migration,Iecf99e173be3c3d5a2d5dd758c09f79d443729b9,Structure cli page,MERGED,2017-08-09 12:03:50.000000000,2017-08-21 11:42:21.000000000,2017-08-10 21:04:44.000000000,66,18,1,492111,104efa6fb6c36e5104b1c42d36837e72c5ba37de,25,11,3,1,2750,Sean Dague,sdague,"Structure cli page

The cli page was just a straight list of cli links. This groups them
by function with a preamble to make it more clear why you'd want to go
look at any particular ones.

Part of bp: doc-migration

Change-Id: Iecf99e173be3c3d5a2d5dd758c09f79d443729b9
"
openstack%2Fnova~master~Ib2b49f70c55311195535a5ef250ff555e227fa0a,openstack/nova,master,bp/doc-migration,Ib2b49f70c55311195535a5ef250ff555e227fa0a,Add documentation for documentation contributions,MERGED,2017-08-09 12:50:44.000000000,2017-08-21 11:42:14.000000000,2017-08-16 19:54:35.000000000,94,0,9,492124,54529f03c93a0c251f627b3d9b92d6c8a9b8300b,23,10,3,3,2750,Sean Dague,sdague,"Add documentation for documentation contributions

Missing from our contributor guides is documentation guidelines,
starting a page there for now especially as there are a couple of
things that emerged in the great pike import that would be good to
write down.

Part of bp: doc-migration

Change-Id: Ib2b49f70c55311195535a5ef250ff555e227fa0a
"
openstack%2Fnova~master~I8feba7d694cc0f2971b0fb0dbe0409c90809df98,openstack/nova,master,policy_ut,I8feba7d694cc0f2971b0fb0dbe0409c90809df98,update policy UT fixtures,MERGED,2016-11-16 22:09:54.000000000,2017-08-21 11:42:07.000000000,2017-08-10 20:57:46.000000000,6,14,2,398610,55b4e51e8cd5b6875c7d384589ec188638b8a255,58,18,5,1,10608,Matthew Edmonds,edmondsw,"update policy UT fixtures

RoleBasedPolicyFixture is opening a policy file specified by a conf
setting. This only works for NoDbTestCase today because of the way
TestCase sets up CONF. And now that policy has moved into code, we
really have no reason to read from a file here. We should read
defaults from the code. This makes that change.

Change-Id: I8feba7d694cc0f2971b0fb0dbe0409c90809df98
"
openstack%2Fpuppet-tripleo~master~I62ff89362cfcc80e6e62fad09110918c36802813,openstack/puppet-tripleo,master,bp/tls-via-certmonger-containers,I62ff89362cfcc80e6e62fad09110918c36802813,Certmonger: Make postsave command configurable,MERGED,2017-08-16 06:29:24.000000000,2017-08-21 11:42:06.000000000,2017-08-21 11:42:06.000000000,55,16,0,494085,095d130f9dbadb698c2c349819e754a907455ee0,24,9,6,6,10873,Juan Antonio Osorio Robles,ejuaoso,"Certmonger: Make postsave command configurable

We need to make it configurable since these commands don't apply for
containerized environments. This way we can restart containers or
disable restarting and rely on other means.

This stems from the issue that some services get accidentally started by
certmonger on containerized environments, which makes the container
initialization fail.

bp tls-via-certmonger-containers

Change-Id: I62ff89362cfcc80e6e62fad09110918c36802813
"
openstack%2Fnova~master~I50954991f80725dc22be95eeecded2ee1e005e97,openstack/nova,master,cd/placement-api-ref,I50954991f80725dc22be95eeecded2ee1e005e97,[placement] Add api-ref for usages,MERGED,2017-07-05 12:47:30.000000000,2017-08-21 11:42:01.000000000,2017-08-10 06:58:57.000000000,51,0,4,480563,032a1d0a3b6865fc1ea4406e3d8807fc9bd0df3f,153,20,13,3,21813,Andrey Volkov,avolkov,"[placement] Add api-ref for usages

Change-Id: I50954991f80725dc22be95eeecded2ee1e005e97
"
openstack%2Fnova~master~I57929f3035f0a9f41398b50d93afee267d981f12,openstack/nova,master,bp/doc-migration,I57929f3035f0a9f41398b50d93afee267d981f12,Bulk import all config reference figures,MERGED,2017-08-09 11:36:25.000000000,2017-08-21 11:41:54.000000000,2017-08-10 21:00:36.000000000,4321,0,0,492105,6b21efbc7fd9289680e201d34bb509ba32b35845,18,6,2,17,2750,Sean Dague,sdague,"Bulk import all config reference figures

Most of these are used by the follow on patch, however because all
this content is deleted from openstack-manuals pulling these out of
history there is less straight forward. So bulk import even the ones
that aren't currently used into a top level figures repository.

Part of bp: doc-migration

Change-Id: I57929f3035f0a9f41398b50d93afee267d981f12
"
openstack%2Fnova~master~I5c8e3859407fe9489255a82747ff85b27172ba69,openstack/nova,master,remove_pop,I5c8e3859407fe9489255a82747ff85b27172ba69,remove extension param and usage,MERGED,2017-07-07 08:11:10.000000000,2017-08-21 11:41:42.000000000,2017-08-16 21:35:08.000000000,22,70,1,481491,29bdffc8e83a3b60982ade75c477f69864a9da50,96,20,5,13,6062,jichenjc,jichenjc,"remove extension param and usage

as extension info is not needed and used at all, we can
just remove the extension param and usage

Change-Id: I5c8e3859407fe9489255a82747ff85b27172ba69
"
openstack%2Fnova~master~I274c684f829bc310ebb17faabf498d36f4ceea0c,openstack/nova,master,bug/1707256,I274c684f829bc310ebb17faabf498d36f4ceea0c,doc: provide more details on scheduling with placement,MERGED,2017-08-08 19:50:38.000000000,2017-08-21 11:41:30.000000000,2017-08-09 19:01:11.000000000,27,5,10,491900,204e7d7f4209925325c641286da23d41a20ea6b2,27,11,2,1,6873,Matt Riedemann,mriedem,"doc: provide more details on scheduling with placement

This provides a more detailed, but still high level, explanation
of how the FilterScheduler is using allocation candidates to pick
hosts during scheduling, and how the allocations are handled during
a move operation, including a resize to the same host.

Ideally this content will live somewhere else in the devref, or
would be updated in the spec for blueprint placement-claims, but
for now this should suffice for Pike release notes that can point
at this upgrade doc.

Change-Id: I274c684f829bc310ebb17faabf498d36f4ceea0c
"
openstack%2Fnova~master~I180f2e8ca1cccce1b73429cdc47a6e7d7fc40634,openstack/nova,master,bug/1707256,I180f2e8ca1cccce1b73429cdc47a6e7d7fc40634,Mark max microversion for Pike in history doc,MERGED,2017-08-07 19:26:21.000000000,2017-08-21 11:41:23.000000000,2017-08-09 19:02:57.000000000,2,2,0,491581,9add178664327d94153199439549be989d84afc3,42,16,5,1,6873,Matt Riedemann,mriedem,"Mark max microversion for Pike in history doc

Change-Id: I180f2e8ca1cccce1b73429cdc47a6e7d7fc40634
"
openstack%2Fnova~master~Ia68a5a69783963b063264edde84006973bb77ceb,openstack/nova,master,bug/1679750,Ia68a5a69783963b063264edde84006973bb77ceb,Add functional test for local delete allocations,MERGED,2017-06-02 23:15:16.000000000,2017-08-21 11:41:17.000000000,2017-08-09 03:01:21.000000000,102,0,13,470578,4ba7baf451512d72b14f51cefe762642fabeda3e,71,16,7,1,4690,melanie witt,melwitt,"Add functional test for local delete allocations

This adds a test that shows we clean up allocations for an instance
that was local deleted while the compute host was down, when the
compute host comes back up.

There might still be a problem if the compute host is never brought
back up, as allocations will still exist for the instance and show
up as usage during usage queries to placement.

Related-Bug: #1679750

Change-Id: Ia68a5a69783963b063264edde84006973bb77ceb
"
openstack%2Fnova~master~Ic2fcabbf3faa531fccb19cffa2564f005142e463,openstack/nova,master,bp/doc-migration,Ic2fcabbf3faa531fccb19cffa2564f005142e463,Create For End Users index section,MERGED,2017-08-08 12:39:14.000000000,2017-08-21 11:41:10.000000000,2017-08-08 23:00:28.000000000,37,22,8,491785,53f752a6693e81535a62bc582af8a10e7c438783,34,11,6,1,2750,Sean Dague,sdague,"Create For End Users index section

This reorganizes the pieces that are for end users into a convenient
chunk up front in the main index page.

Part of bp: doc-migration

Change-Id: Ic2fcabbf3faa531fccb19cffa2564f005142e463
"
openstack%2Fnova~master~I6815958b2533d462a2e5d27e7be57440d9f4f40a,openstack/nova,master,bp/doc-migration,I6815958b2533d462a2e5d27e7be57440d9f4f40a,Add For Operators section to front page,MERGED,2017-08-08 13:55:53.000000000,2017-08-21 11:41:03.000000000,2017-08-10 20:59:08.000000000,115,107,57,491815,ad69d0507f21a3612bf8b594a3557e4ea3de5589,40,14,3,2,2750,Sean Dague,sdague,"Add For Operators section to front page

This attempts to reorganize the front page content relevant to
operators into digestable chunks, including some summaries of links to
explain to people why they might want to follow those links to learn
more.

Part of bp: doc-migration

Change-Id: I6815958b2533d462a2e5d27e7be57440d9f4f40a
"
openstack%2Fnova~master~I30286855119a9c34d96dfb8d0505af3f908ec1ae,openstack/nova,master,,I30286855119a9c34d96dfb8d0505af3f908ec1ae,Fix the log information argument mistake,MERGED,2017-06-29 08:12:36.000000000,2017-08-21 11:40:57.000000000,2017-08-08 22:54:35.000000000,1,1,0,478792,a7a886d8c43cf4edb17d1b9b0a0d5231a2c6e57e,85,11,1,1,17788,klyang,yangkl,"Fix the log information argument mistake

Log information in _numa_fit_instance_cell has taken memory_usage as the argument to
show the cpu usage.Need replace memory_usage to cpu_usage in the log expression.

Change-Id: I30286855119a9c34d96dfb8d0505af3f908ec1ae
"
openstack%2Fnova~master~Idd6149ae85ac2724633b80e938c4c1bf981b772b,openstack/nova,master,allow_same_net_traffic-reno,Idd6149ae85ac2724633b80e938c4c1bf981b772b,Cleanup release note about ignoring allow_same_net_traffic,MERGED,2017-08-08 16:44:41.000000000,2017-08-21 11:40:50.000000000,2017-08-09 19:04:13.000000000,11,8,0,491855,0cae8d50fa3d039c601f3ee60840ff06fd4a3e45,16,4,1,1,6873,Matt Riedemann,mriedem,"Cleanup release note about ignoring allow_same_net_traffic

A large chunk of the release note for this is duplicated with
the same reno from e5080c733076f5098f85952051878f41d47f8181
but the formatting and wording is slightly different.

This fixes them to look similar for the duplicate text.

Change-Id: Idd6149ae85ac2724633b80e938c4c1bf981b772b
"
openstack%2Fnova~master~I860e9e7c7ef458722135a21c6c5745f5519c56c4,openstack/nova,master,bug/1618822,I860e9e7c7ef458722135a21c6c5745f5519c56c4,no instance info cache update if instance deleted,MERGED,2016-08-31 11:12:28.000000000,2017-08-21 11:40:44.000000000,2017-08-09 12:43:19.000000000,13,2,14,363585,ef85c99f5e5ba091b6711d76c88d50aa2dae6989,149,26,11,2,6062,jichenjc,jichenjc,"no instance info cache update if instance deleted

Avoid instance info cache update if the instance is deleted,
as the deleted instance's info cache is already deleted in
db layer and it will report InstanceInfoCacheNotFound
exception and lead to a few exception logs in compute.

Please note this is different to regular info cache and
lead to InstanceInfoCacheNotFound exception, it's in the
case when you first create the info cache after instance
delete and InstanceInfo is also deleted.

Change-Id: I860e9e7c7ef458722135a21c6c5745f5519c56c4
Closes-Bug: 1618822
"
openstack%2Fnova~master~I1a8023ee6e8c85eed1c7c55a21f996371a0dd80a,openstack/nova,master,bug/1709319,I1a8023ee6e8c85eed1c7c55a21f996371a0dd80a,Add format_dom for PCI device addresses,MERGED,2017-08-08 14:21:06.000000000,2017-08-21 11:40:37.000000000,2017-08-10 18:25:32.000000000,50,0,0,491822,376a902cabd548f1bcc7f7f7f8f98bd2dfa87c89,21,7,1,2,12356,Vladyslav Drok,vdrok,"Add format_dom for PCI device addresses

In case of having a PCI device, its address can not be output
properly in the instance XML because of the missing format_dom
method. This change adds this method.

Closes-Bug: #1709319
Change-Id: I1a8023ee6e8c85eed1c7c55a21f996371a0dd80a
"
openstack%2Fnova~master~I313e4a22dc2ad3faa890de864d00943b802e8b30,openstack/nova,master,bp/doc-migration,I313e4a22dc2ad3faa890de864d00943b802e8b30,Fix all >= 2 hit 404s,MERGED,2017-08-08 11:33:57.000000000,2017-08-21 11:40:31.000000000,2017-08-08 15:54:55.000000000,8,1,0,491761,ecc6928a4a78c4880d149cb3a4beb72d5e0fe767,14,4,1,1,2750,Sean Dague,sdague,"Fix all >= 2 hit 404s

This fixes all the >= 2 hit 404s from 2017-08-07 with
redirects. nova-cert is being referenced somewhere, in that case we
provide a 410 because that's never coming back.

Part of bp: doc-migration

Change-Id: I313e4a22dc2ad3faa890de864d00943b802e8b30
"
openstack%2Fnova~master~I40fcbc3077151227f33c6a021229b5c549889bbe,openstack/nova,master,cd/placement-api-ref,I40fcbc3077151227f33c6a021229b5c549889bbe,[placement] Add api-ref for RP allocations,MERGED,2017-03-28 03:42:55.000000000,2017-08-21 11:40:17.000000000,2017-08-08 06:35:35.000000000,70,0,40,450550,5f3e136e25c7a0c49ccc40331c645f07313969d5,269,27,22,4,6062,jichenjc,jichenjc,"[placement] Add api-ref for RP allocations

This provides simple documentation of the path and response
body parameters when listing resource provider allocations.

Co-Authored-by: Andrey Volkov <avolkov@gmail.com>

Change-Id: I40fcbc3077151227f33c6a021229b5c549889bbe
"
openstack%2Fnova~master~Iaaa7e0670eef41cab5f93fc787d2436c7521b35b,openstack/nova,master,bp/remove-mox-pike,Iaaa7e0670eef41cab5f93fc787d2436c7521b35b,remove mox from unit/virt/vmwareapi/test_driver_api.py,MERGED,2017-03-31 10:08:43.000000000,2017-08-21 11:39:19.000000000,2017-08-10 11:39:48.000000000,126,115,29,452128,540033369de4fb00d7574fd9cb2aba6ea0dacb26,55,16,4,1,25050,Danfly,Danfly,"remove mox from unit/virt/vmwareapi/test_driver_api.py

Part of blueprint remove-mox-pike

Change-Id: Iaaa7e0670eef41cab5f93fc787d2436c7521b35b
Co-Authored-By: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~Ibd7f695d51b1f8497ca492968c7e5c69ada0a85c,openstack/nova,master,bug/1708637,Ibd7f695d51b1f8497ca492968c7e5c69ada0a85c,Test resize with too big flavor,MERGED,2017-08-04 09:53:37.000000000,2017-08-21 11:39:12.000000000,2017-08-10 03:49:22.000000000,76,2,11,490814,13f52d443ed2a5154c9b10ee19ea5aed8205e37b,56,19,5,2,9708,Balazs Gibizer,gibi,"Test resize with too big flavor

This test tries to resize to a flavor that requests more VCPU than
what the compute hosts has available and expect the resize to fail.
However placement returns no allocation candidate and the scheduler
falls back to the legacy filtering. As CoreFilter is not enabled the
filtering result in hosts selected without enough VCPU resource.

This is a test for an open bug therefore it asserts the wrong behavior
but it has the proper assert commented out.

Related-bug: #1708637
Change-Id: Ibd7f695d51b1f8497ca492968c7e5c69ada0a85c
"
openstack%2Fnova~master~I4b8f1b8f0a8d16f1c415edbfb2a7d342d176f70a,openstack/nova,master,bug/1708978,I4b8f1b8f0a8d16f1c415edbfb2a7d342d176f70a,placement: filtering the resource provider id when delete trait association,MERGED,2017-07-31 12:50:45.000000000,2017-08-21 11:39:06.000000000,2017-08-08 14:43:02.000000000,44,1,0,489205,e66c1accbd2ecbc61f71733ee60a6e1ef693e47a,37,17,2,2,5754,Alex Xu,xuhj,"placement: filtering the resource provider id when delete trait association

When delete a trait association for specific resource provider, the current
code will delete that trait associations for all the resource providers.

The expected behaviour is only the specific trait association for the
specific resource provider will be removed. This patch corrects the filter
for the deletion of trait association.

Change-Id: I4b8f1b8f0a8d16f1c415edbfb2a7d342d176f70a
Closes-Bug: #1708978
"
openstack%2Fnova~master~I34e4d572a5fb0e0be48e75dece49ebc7337ad30c,openstack/nova,master,bug/1707071,I34e4d572a5fb0e0be48e75dece49ebc7337ad30c,Add resource utilities to scheduler utils,MERGED,2017-08-03 15:21:47.000000000,2017-08-21 11:38:50.000000000,2017-08-07 16:39:05.000000000,118,51,14,490514,057ca0b7eff76ffbbd460e6c8cbce100d01fa721,66,16,7,5,4393,Dan Smith,danms,"Add resource utilities to scheduler utils

This adds resources_from_flavor() and merge_resources() to help us
in the following patches.

Co-Authored-By: Jay Pipes <jaypipes@gmail.com>
Change-Id: I34e4d572a5fb0e0be48e75dece49ebc7337ad30c
"
openstack%2Fnova~master~If5e7940ddd0ae3316f7475742c02abfe3df28ac4,openstack/nova,master,bp/doc-migration,If5e7940ddd0ae3316f7475742c02abfe3df28ac4,Add Contributor Guide section page,MERGED,2017-08-03 20:40:15.000000000,2017-08-21 11:38:36.000000000,2017-08-07 17:18:25.000000000,108,47,35,490644,a5acc83c21030dfe484e188ea5881b92ffda78f4,38,15,3,2,2750,Sean Dague,sdague,"Add Contributor Guide section page

In order to wrangle together a top level TOC that makes sense, stop
including everything in the TOC (ideally we could convince sphinx to
not warn on that).

This creates a Contributor Documentation landing page with deep links
to all the relevant documents. It removes all those links from the
front page, and the TOC. They can be found by deep links or search,
and it is a less confusing initial experience for folks.

Part of bp: doc-migration

Change-Id: If5e7940ddd0ae3316f7475742c02abfe3df28ac4
"
openstack%2Fnova~master~I28bb8ce1f4a8653f176a554d2e95b4423c437972,openstack/nova,master,doc-migration,I28bb8ce1f4a8653f176a554d2e95b4423c437972,doc: Import administration guide,MERGED,2017-06-26 11:28:35.000000000,2017-08-21 11:38:29.000000000,2017-08-04 12:03:39.000000000,6212,0,12,477497,575b529118b80d86702fce3980dd83d7506cd0a6,94,14,14,35,19779,Chason Chan,chenxing,"doc: Import administration guide

Import all docs from openstack-manuals.

Part of bp: doc-migration

Change-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972
Co-Authored-By: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~If1fa15f5495a8a207042e7a43d34d32671c59ee1,openstack/nova,master,doc-migration,If1fa15f5495a8a207042e7a43d34d32671c59ee1,doc: Import installation guide,MERGED,2017-06-26 10:57:18.000000000,2017-08-21 11:38:23.000000000,2017-08-04 11:59:47.000000000,2731,0,3,477488,036642ce3333f3cd63c62c15eb1a1d35e8825450,72,16,10,23,19779,Chason Chan,chenxing,"doc: Import installation guide

Import all docs from openstack-manuals.

Part of bp: doc-migration

Change-Id: If1fa15f5495a8a207042e7a43d34d32671c59ee1
Co-Authored-By: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~If95be4f631f929cd8c6528671433ae0fc747a6be,openstack/nova,master,cells-docs,If95be4f631f929cd8c6528671433ae0fc747a6be,Add a caveat section about cellsv2 upcalls,MERGED,2017-08-03 17:50:53.000000000,2017-08-21 11:38:00.000000000,2017-08-03 22:19:34.000000000,32,0,8,490612,916ba166c8ecb726d9ced26d7bbce3e25c6bbeff,36,10,5,1,4393,Dan Smith,danms,"Add a caveat section about cellsv2 upcalls

This adds another subsection to the caveat section about operations that
require upcalls in Pike not being supported.

Change-Id: If95be4f631f929cd8c6528671433ae0fc747a6be
"
openstack%2Fnova~master~I4a3b48f726220e8db3dc79f0b4b5405df6d28f13,openstack/nova,master,doc-migration,I4a3b48f726220e8db3dc79f0b4b5405df6d28f13,doc: Remove dead files,MERGED,2017-06-28 10:39:15.000000000,2017-08-21 11:37:53.000000000,2017-08-03 21:54:00.000000000,0,17,0,478470,7bc2ca1f28d502b9662e0c0e2c95c655dbfde529,90,18,13,4,15334,Stephen Finucane,sfinucan,"doc: Remove dead files

The Sphinx themes now include Google Analytics code, therefore, it's not
necessary to keep the local version. In addition, some images are no
longer referenced anywhere and can therefore go away.

Change-Id: I4a3b48f726220e8db3dc79f0b4b5405df6d28f13
TrivialFix
"
openstack%2Fnova~master~I6cceeca7edcacb762daa1f22f2138e2d2334b3a2,openstack/nova,master,doc-migration,I6cceeca7edcacb762daa1f22f2138e2d2334b3a2,doc: Start using oslo_policy.sphinxext,MERGED,2017-06-30 15:41:10.000000000,2017-08-21 11:37:45.000000000,2017-08-04 07:00:54.000000000,23,8,0,479358,b03e8151341f16ce7317569c86b51253a8c3635f,90,15,11,4,15334,Stephen Finucane,sfinucan,"doc: Start using oslo_policy.sphinxext

Providing a sample policy file is all well and good, but it's not
exactly designed for readability on the web. Make use of the 'sphinxext'
module built into oslo.policy to do this.

Change-Id: I6cceeca7edcacb762daa1f22f2138e2d2334b3a2
"
openstack%2Fnova~master~I75e8f0adae7cfaaa6020870cdb20dc2144fc70eb,openstack/nova,master,doc-migration,I75e8f0adae7cfaaa6020870cdb20dc2144fc70eb,doc: Start using oslo_config.sphinxext,MERGED,2017-07-12 13:12:58.000000000,2017-08-21 11:37:37.000000000,2017-08-03 21:55:41.000000000,25,9,0,482961,83a9c2ac334712b27704a814552628cf0e536a85,55,11,7,4,15334,Stephen Finucane,sfinucan,"doc: Start using oslo_config.sphinxext

Providing a sample configuration file is all well and good, but it's not
exactly designed for readability on the web. Make use of the 'sphinxext'
module built into oslo.config to do this.

Change-Id: I75e8f0adae7cfaaa6020870cdb20dc2144fc70eb
"
openstack%2Fnova~master~I819fd2e6d49e00c2f9175dd5b0f4a1bc356d35e6,openstack/nova,master,doc-migration,I819fd2e6d49e00c2f9175dd5b0f4a1bc356d35e6,doc: Rework README to reflect new doc URLs,MERGED,2017-07-04 09:04:27.000000000,2017-08-21 11:37:30.000000000,2017-08-03 21:54:52.000000000,38,34,4,480074,cf52fc21ccce559c2b233b56f827d7bf061fb786,63,12,8,1,15334,Stephen Finucane,sfinucan,"doc: Rework README to reflect new doc URLs

We also take the opportunity to clean up the doc and add a few more
helpful links. This is mostly based on the blueprint established by
Glance [1].

[1] https://github.com/openstack/glance/blob/69555ae/README.rst

Change-Id: I819fd2e6d49e00c2f9175dd5b0f4a1bc356d35e6
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~I1c9442eed850a3eb7ac9871fafcb0ae93ba8117c,openstack/nova,master,bug/1707071,I1c9442eed850a3eb7ac9871fafcb0ae93ba8117c,Sum allocations in the scheduler when resizing to the same host,MERGED,2017-08-02 16:50:49.000000000,2017-08-21 11:37:23.000000000,2017-08-03 20:50:08.000000000,231,23,16,490085,79c376ec162a0049523f196b3fd10a1585cff1da,75,21,7,3,6873,Matt Riedemann,mriedem,"Sum allocations in the scheduler when resizing to the same host

When we resize to the same host, with or without a shared provider,
the _move_operation_alloc_request code is currently removing the
compute node resource provider uuid from the new_rp_uuids
variable since the uuid is the same in both the cur_rp_uuids and
new_rp_uuids as it's the same compute node provider. So later when
processing the new destination allocation requests, since new_rp_uuids
is empty, the new destination allocations aren't part of the request.

This change checks for this case and sums the resource allocation
amounts when we're resizing to the same compute node.

Change-Id: I1c9442eed850a3eb7ac9871fafcb0ae93ba8117c
Closes-Bug: #1707252
"
openstack%2Fnova~master~I3f38954bc5cf7b1690182dc8af45078eea275aa4,openstack/nova,master,ovs_acc,I3f38954bc5cf7b1690182dc8af45078eea275aa4,hardware offload support for openvswitch,MERGED,2016-11-16 10:44:15.000000000,2017-08-21 11:37:16.000000000,2017-08-03 19:08:06.000000000,92,1,75,398265,ccc1def0f5f6ec1cde48ca50c7e3e854e8cd112e,477,32,34,5,12171,Moshe Levi,moshele,"hardware offload support for openvswitch

In Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads
framework for SR-IOV VFs which allows us to configure the NIC [2].
Subsequent OVS patches [3] allows us to use the TC framework
to offload OVS datapath rules. This feature is supported in OVS 2.8.0.

This patch adds support for VIF_TYPE_OVS with vnic_type direct

blueprint sriov-ovs-offload

[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf
[2] https://patchwork.ozlabs.org/patch/738176/
[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html

Change-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4
"
openstack%2Fnova~master~I270c29fa9d7f02ccc4437f05a86edb79a3a373ba,openstack/nova,master,bp/doc-migration,I270c29fa9d7f02ccc4437f05a86edb79a3a373ba,"doc: Make use of definition lists, literals",MERGED,2017-08-03 13:42:52.000000000,2017-08-21 11:37:09.000000000,2017-08-03 16:41:09.000000000,152,130,0,490481,24cdb620f9f8665ecff7cf530405ed30d7897470,13,5,1,1,15334,Stephen Finucane,sfinucan,"doc: Make use of definition lists, literals

Part of bp: doc-migration

Change-Id: I270c29fa9d7f02ccc4437f05a86edb79a3a373ba
"
openstack%2Fnova~master~I36cd7513fa5d482b6cd85a062eace21704c49f85,openstack/nova,master,bp/doc-migration,I36cd7513fa5d482b6cd85a062eace21704c49f85,reflow rpc doc to 80 columns,MERGED,2017-08-03 12:18:11.000000000,2017-08-21 11:36:56.000000000,2017-08-03 16:40:21.000000000,200,49,7,490455,a87afe2fc256a4539de85ae46ca2f053a09ae544,22,9,3,1,2750,Sean Dague,sdague,"reflow rpc doc to 80 columns

And add some additional horizontal white space to make it easier to
understand different long bullets are different.

Part of bp: doc-migration

Change-Id: I36cd7513fa5d482b6cd85a062eace21704c49f85
"
openstack%2Fnova~master~I2f36ea1d3feaa5f40f34d6884a543ad287e0c252,openstack/nova,master,bug/1686703,I2f36ea1d3feaa5f40f34d6884a543ad287e0c252,Split Compute.errors_out_migration into a separate contextmanager,MERGED,2017-07-20 16:23:08.000000000,2017-08-21 11:36:45.000000000,2017-08-07 23:37:07.000000000,98,50,0,485734,a96d9f4bfe9994829a2655243e8fad1927a8d517,98,21,5,2,9555,Matthew Booth,MatthewBooth,"Split Compute.errors_out_migration into a separate contextmanager

This refactor is in support of subsequent change Ib6156d8e. We also
add a test for the migration status exclusion we intend to remove
in support of change I26706a93.

Change-Id: I2f36ea1d3feaa5f40f34d6884a543ad287e0c252
"
openstack%2Fnova~master~Ia0355c14fba16416d0d6068d2478377dccfa2ed9,openstack/nova,master,bp/doc-migration,Ia0355c14fba16416d0d6068d2478377dccfa2ed9,fix list rendering in policy-enforcement,MERGED,2017-08-03 12:10:44.000000000,2017-08-21 11:36:30.000000000,2017-08-03 13:58:59.000000000,16,16,0,490451,ea669d3488f6aec685028a92edde47f99cbcf0d1,13,9,1,1,2750,Sean Dague,sdague,"fix list rendering in policy-enforcement

Part of bp: doc-migration

Change-Id: Ia0355c14fba16416d0d6068d2478377dccfa2ed9
"
openstack%2Fnova~master~If4b369a8d9a1acda0d8290183dd4f94159b6a3c9,openstack/nova,master,bp/doc-migration,If4b369a8d9a1acda0d8290183dd4f94159b6a3c9,fix list rendering in cells,MERGED,2017-08-03 12:06:23.000000000,2017-08-21 11:36:23.000000000,2017-08-03 13:58:12.000000000,3,3,0,490449,e6e5e521d2c9b39fc6b563bcd926da6b5bfad476,13,7,1,1,2750,Sean Dague,sdague,"fix list rendering in cells

Part of bp: doc-migration

Change-Id: If4b369a8d9a1acda0d8290183dd4f94159b6a3c9
"
openstack%2Fnova~master~I16634edbc562aff69744e5d7c7275689326ab8d0,openstack/nova,master,bp/doc-migration,I16634edbc562aff69744e5d7c7275689326ab8d0,fix list rendering in aggregates,MERGED,2017-08-03 12:05:06.000000000,2017-08-21 11:36:16.000000000,2017-08-03 13:57:23.000000000,12,12,0,490448,613f55c26a6ace2d4eb50fa8e7df267cc756a6a8,14,9,1,1,2750,Sean Dague,sdague,"fix list rendering in aggregates

List items need to be exactly 2 spaces off of the parent, and the top
level left justified, otherwise <blockquote> gets thrown into the
html.

Part of bp: doc-migration

Change-Id: I16634edbc562aff69744e5d7c7275689326ab8d0
"
openstack%2Fnova~master~I6de7c2bffb08f370fcfbd86070c94263ee202f93,openstack/nova,master,bug/1708167,I6de7c2bffb08f370fcfbd86070c94263ee202f93,[placement] Avoid error log on 405 response,MERGED,2017-08-02 13:22:54.000000000,2017-08-21 11:36:09.000000000,2017-08-10 11:26:38.000000000,14,6,3,490021,7a895c67b1c2be1a4be17203c06f023aaf371546,53,17,4,2,11564,Chris Dent,chdent,"[placement] Avoid error log on 405 response

Treat HTTPMethodNotAllowed as a WSGI application rather than exception
so that it is not treated as an uncaught exception and logged as an ERROR
in the PlacementHandler before being caught in the FaultWrapper middleware.
Bad method detection is happening outside the context of WebOb wsgify
handling (which automatically catches Webob exceptions and transforms
them into appropriate responses) so we need to do the transformation
ourself.

This will help to avoid spurious noise in the logs. See the bug report
for more detail.

Change-Id: I6de7c2bffb08f370fcfbd86070c94263ee202f93
Closes-Bug: #1708167
"
openstack%2Fnova~master~Ie8b311ca286601a47475b33ef80da272efc9be31,openstack/nova,master,bp/doc-migration,Ie8b311ca286601a47475b33ef80da272efc9be31,fix list rendering in rpc doc,MERGED,2017-08-03 11:51:37.000000000,2017-08-21 11:36:04.000000000,2017-08-03 13:55:58.000000000,59,53,1,490442,dafd133ab89dc91829bff9a6676669750c5f21b4,15,7,1,1,2750,Sean Dague,sdague,"fix list rendering in rpc doc

list bullets have to be exactly 2 spaces indented from the parent, and
the top level is left justified, otherwise we get lots of <blockquote>
html tags inserted.

Part of bp: doc-migration

Change-Id: Ie8b311ca286601a47475b33ef80da272efc9be31
"
openstack%2Fnova~master~Iab46b5e39e4bd0d154f33dc795f24362c77a88a5,openstack/nova,master,bp/doc-migration,Iab46b5e39e4bd0d154f33dc795f24362c77a88a5,Fix list rendering in code-review.rst,MERGED,2017-08-03 11:47:02.000000000,2017-08-21 11:35:57.000000000,2017-08-03 13:41:14.000000000,27,27,0,490437,12c0a666572dfa8a6a2c671e4c72bfe3e0e8384b,13,8,1,1,2750,Sean Dague,sdague,"Fix list rendering in code-review.rst

Sub lists have to be indented exactly 2 additional spaces from their
parent, otherwise it is treated as a blockquote, which isn't what we
want.

Part of bp: doc-migration

Change-Id: Iab46b5e39e4bd0d154f33dc795f24362c77a88a5
"
openstack%2Fnova~master~I18af115c17791cf2faf03311b857153f674c6367,openstack/nova,master,bp/doc-migration,I18af115c17791cf2faf03311b857153f674c6367,Fix whitespace in rest_api_version_history,MERGED,2017-08-03 11:42:33.000000000,2017-08-21 11:35:50.000000000,2017-08-03 13:40:32.000000000,395,395,2,490435,cbab78e1b6c1d3a2d833feb2bee3b75e0f6b70d6,14,8,1,1,2750,Sean Dague,sdague,"Fix whitespace in rest_api_version_history

The extra whitespace causes the content to be rendered in <blockquote>
which is not what we intended. It's far more noticable in the new
theme.

Part of bp: doc-migration

Change-Id: I18af115c17791cf2faf03311b857153f674c6367
"
openstack%2Fnova~master~Iea1359c108146db8e56cebb13f34a87e0c028040,openstack/nova,master,method_doc,Iea1359c108146db8e56cebb13f34a87e0c028040,Keep the code consistent,MERGED,2017-08-03 03:10:11.000000000,2017-08-21 11:35:43.000000000,2017-08-10 13:11:31.000000000,1,1,0,490304,7db6ab6fb63047fa3d9de9cf09522f8035eaca99,19,4,1,1,21135,zhangdaolong,zhangdaolong,"Keep the code consistent

Change-Id: Iea1359c108146db8e56cebb13f34a87e0c028040
"
openstack%2Fnova~master~Ica83ce5f43c0e7b84fd4117852e81e4d2979dea3,openstack/nova,master,bug/1707071,Ica83ce5f43c0e7b84fd4117852e81e4d2979dea3,Test resize to same host with placement api,MERGED,2017-08-02 11:13:31.000000000,2017-08-21 11:35:37.000000000,2017-08-03 02:16:11.000000000,164,2,7,489973,2e8ce056ca004244483c2b99ddbb31dd0400c9cd,48,15,6,2,9708,Balazs Gibizer,gibi,"Test resize to same host with placement api

Test cases for resize to same host with confirm and revert scenarios
have been added.

The accounting of the current code is very incorrect at the moment, so this
asserts the existing (wrong) behavior, but marks the actual expected
values everywhere so that we can follow up with fixes to remove all of the
annotations.

Related-Bug: #1707252
Change-Id: Ica83ce5f43c0e7b84fd4117852e81e4d2979dea3
"
openstack%2Fnova~master~I7c05ee9c4074d1e29f77b4c1c292196bcf0b801d,openstack/nova,master,redirects,I7c05ee9c4074d1e29f77b4c1c292196bcf0b801d,fix rpc broken rst comment,MERGED,2017-08-02 20:46:09.000000000,2017-08-21 11:35:21.000000000,2017-08-03 00:25:30.000000000,1,1,0,490197,dc94d8ad5ba38974fa4253f55d6a7199bb5f3211,13,3,2,1,2750,Sean Dague,sdague,"fix rpc broken rst comment

The license header isn't in a comment correctly, so it shows up
inline in the rpc page and looks pretty ugly. Add missing '.'

Change-Id: I7c05ee9c4074d1e29f77b4c1c292196bcf0b801d
"
openstack%2Fnova~master~Icbfdcffbc15c5c32ca48ddd6fbac15d425ab8c44,openstack/nova,master,redirects,Icbfdcffbc15c5c32ca48ddd6fbac15d425ab8c44,sort redirectmatch lines,MERGED,2017-08-02 20:03:13.000000000,2017-08-21 11:35:15.000000000,2017-08-03 00:24:51.000000000,36,35,0,490182,c0339a3b73d4aa652777fdccf2deb796e5af095c,22,9,2,1,2750,Sean Dague,sdague,"sort redirectmatch lines

Just to make it easier to see if items are in the list or not, we
should keep them sorted. No fancy hacking rules for this, just being
dilligent.

Change-Id: Icbfdcffbc15c5c32ca48ddd6fbac15d425ab8c44
"
openstack%2Fnova~master~Ie42935e5fa5d2199f9878edc2951ba0734e95a7c,openstack/nova,master,redirects,Ie42935e5fa5d2199f9878edc2951ba0734e95a7c,add top 404 redirect,MERGED,2017-08-02 20:03:13.000000000,2017-08-21 11:35:08.000000000,2017-08-03 00:24:13.000000000,1,0,2,490181,a1f9edd6f6c5a9839ca1919479298f1d56fcc1a1,18,5,2,1,2750,Sean Dague,sdague,"add top 404 redirect

From http://paste.openstack.org/show/617316/ this devref linked page
is our top 404 at the moment, add a redirect match for it.

Change-Id: Ie42935e5fa5d2199f9878edc2951ba0734e95a7c
"
openstack%2Fnova~master~I9a9af0e3e04c7ea7314b7077a681d6a111de6e47,openstack/nova,master,bug/1708031,I9a9af0e3e04c7ea7314b7077a681d6a111de6e47,Fix 409 handling in report client when deleting inventory,MERGED,2017-08-01 22:01:39.000000000,2017-08-21 11:34:48.000000000,2017-08-04 16:52:08.000000000,7,6,0,489763,f6dc38ea7db58d1bc6e3e937355e1a4b02678d75,31,6,1,3,6873,Matt Riedemann,mriedem,"Fix 409 handling in report client when deleting inventory

Change I30b51a3235e69f4a2993052f7f9ef853858f2d65 regressed
a check added in I10b22606f704abcb970939fb2cd77f026d4d6322
which is meant to avoid dumping errors in the logs when
the scheduler report client fails to delete compute node
resource provider inventory since some resource class inventory
is still in use. It's all very fragile since the check
in the report client is dependent on a regex for the
error message coming back from the Placement API, but until
we have error codes in the API responses, this is what we
have to deal with.

This change puts the original error message back in the
Placement API and adds notes for awareness.

Change-Id: I9a9af0e3e04c7ea7314b7077a681d6a111de6e47
Closes-Bug: #1708031
"
openstack%2Fswift~master~Ic66ccb51f76bc7727212a3565acc160a7e168736,openstack/swift,master,account-quota-spolicy,Ic66ccb51f76bc7727212a3565acc160a7e168736,Account Quotas for Storage Policies.,NEW,2017-07-11 13:12:54.000000000,2017-08-21 11:34:37.000000000,,318,72,6,482558,cea2f08912dd84041e890e48c4934faf615b38f7,29,8,6,3,17245,Christopher Bartz,cbartz,"Account Quotas for Storage Policies.

Storage Policies allow the implementation of different storage mechanisms.
Different storage mechanisms can result in different storage economizations.
Currently, there is no way to forward these economizations to the end-user,
nor it is possible to encourage the user to use certain storage policies by
giving him Quota advantages.

This commit introduces quotas for storage policies, using the metadata entry
'x-account-meta-quota-storage-policy-idx-INDEX-bytes' for a storage policy
with index INDEX. This metadata entry denotes the limits of bytes which are
allowed to be stored in all containers using this policy. (PUT, POST) requests
to a container using a storage policy whose quota is exceeded are blocked.

The overall handling is almost equal to the account quota for the overall
account (e.g. only resellers are allowed to set the quotas), but there is
one difference: The metadata entry 'x-account-meta-quota-storage-policy-idx-INDEX-bytes'
gets translated to  'x-account-quota-storage-policy-NAME-bytes' on an account
HEAD or GET, because ordinary users of the cluster understand names better
than indices.

One Use-case: Imagine there exist two policies, 3x Replica and EC with 1.5x total storage.
The EC Policy would store only half of the bytes as the 3x Replica. One could set the quota
for the EC policy to the double amount of the one for the 3x Replica to forward the
economization to the end-user or to motivate him to use this policy.

Change-Id: Ic66ccb51f76bc7727212a3565acc160a7e168736
"
openstack%2Fnova~master~I0835e5b4f22277465012aab9a5bf474608cb533b,openstack/nova,master,bug/1707071,I0835e5b4f22277465012aab9a5bf474608cb533b,placement: remove existing allocs when set allocs,MERGED,2017-07-31 16:32:14.000000000,2017-08-21 11:34:36.000000000,2017-08-02 17:34:55.000000000,141,71,4,489273,afab0ca0c8f4c68b8d6d8646f408e9522596870e,55,15,7,2,7,Jay Pipes,jaypipes,"placement: remove existing allocs when set allocs

Bug #1707669 highlighted a situation that arose when attempting to
remove part of an allocation for a source host during a resize
operation where the exiting allocation was not being properly deleted.

In this patch, we remove the part of the WHERE condition that limited
deleted allocation records to only those referring to a particular
resource provider. In doing so, we make the creation of an allocation
for a consumer a proper overwrite operation.

Change-Id: I0835e5b4f22277465012aab9a5bf474608cb533b
Fixes-bug: #1707669
"
openstack%2Fnova~master~I346881bc3bc48794b139cc471be1de11c49b8ee3,openstack/nova,master,bug/1704788,I346881bc3bc48794b139cc471be1de11c49b8ee3,Accept any scheduler driver entrypoint,MERGED,2017-07-18 14:38:52.000000000,2017-08-21 11:34:21.000000000,2017-08-02 16:57:52.000000000,34,12,11,484828,1e5c7b52a403e708dba5a069dd86b628a4cb952c,114,19,6,3,7166,Sylvain Bauza,sbauza,"Accept any scheduler driver entrypoint

We broke the possibility in Ocata with Icdcf839b6d28893694bfa1355e9dbe8dbb5ea8c3
to use other scheduler drivers but the ones we provided in tree.

Unfortunately, that was an incidental change without any communication.

Removing the choices kwarg will allow operators to run their own scheduler driver.
Whether Nova would stop supporting custom drivers would require a totally separate
change which would clearly communicate thru a deprecation notice but that is not
the intent for that bugfix, which aims only to bring back the capability.

Change-Id: I346881bc3bc48794b139cc471be1de11c49b8ee3
Closes-Bug: #1704788
"
openstack%2Fnova~master~Ied2b95f4e7d8b35c9eee5740f17bfe75e479f3c4,openstack/nova,master,,Ied2b95f4e7d8b35c9eee5740f17bfe75e479f3c4,add redirects for existing broken docs urls,MERGED,2017-08-01 16:18:07.000000000,2017-08-21 11:34:15.000000000,2017-08-02 01:48:28.000000000,68,1,2,489650,122efa35f6ddda8ae765d402d4e6ebf81226b8c4,17,5,2,1,2750,Sean Dague,sdague,"add redirects for existing broken docs urls

This adds the redirects to the existing broken doc urls, and explains
how we generate this.

Change-Id: Ied2b95f4e7d8b35c9eee5740f17bfe75e479f3c4
"
openstack%2Fnova~master~I1a173f7ce0715e684850e030c358e8175fa8724c,openstack/nova,master,deprecate-cellsv1,I1a173f7ce0715e684850e030c358e8175fa8724c,Deprecate cells v1,MERGED,2017-08-01 15:08:20.000000000,2017-08-21 11:34:08.000000000,2017-08-02 01:49:24.000000000,85,16,0,489632,3414ab14cacc6e855bbdc3381f3d6c8bdccbdec0,20,7,1,5,6873,Matt Riedemann,mriedem,"Deprecate cells v1

With multi-cell support in Pike, we should deprecate cells v1
so we can at least start the deprecation signaling in the
docs and release notes. We may not end up removing cells v1
code in Queens, but this at least gives us the option.

Note that we also want to do this because nova-network cannot
be removed until we remove cells v1.

Change-Id: I1a173f7ce0715e684850e030c358e8175fa8724c
"
openstack%2Fnova~master~Ibf254eb950cbd7eaebb7cb6f995161f4a8dd6be0,openstack/nova,master,openstack/requirements,Ibf254eb950cbd7eaebb7cb6f995161f4a8dd6be0,Updated from global requirements,MERGED,2017-08-01 13:33:52.000000000,2017-08-21 11:33:55.000000000,2017-08-01 16:39:05.000000000,1,1,0,489604,ba68d604c3d292e7c2bcaedfaff2e8d1e73024d9,17,6,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Ibf254eb950cbd7eaebb7cb6f995161f4a8dd6be0
"
openstack%2Fnova~master~Ia4d8fe952aecb5c3e688878ef0fdafd6fac4fc7a,openstack/nova,master,bug/1706545,Ia4d8fe952aecb5c3e688878ef0fdafd6fac4fc7a,do not pass proxy env variables by tox,MERGED,2017-07-26 09:07:47.000000000,2017-08-21 11:33:48.000000000,2017-08-01 13:24:23.000000000,2,2,1,487327,dd26d3d14139dedc97397639117f56970940b500,33,14,2,1,9708,Balazs Gibizer,gibi,"do not pass proxy env variables by tox

In an environment where http_proxy env variable is needed to buil a
proper python virtualenv the functional test fails with:
RuntimeError: http_proxy or https_proxy set in environment, please unset

This patch removes passing proxy env varibles in tox.ini to avoid this
error.

Change-Id: Ia4d8fe952aecb5c3e688878ef0fdafd6fac4fc7a
Closes-Bug: #1706545
"
openstack%2Fnova~master~Id84c7803fdd44961497cd35c15ece98e2852d4f6,openstack/nova,master,bug/1700825,Id84c7803fdd44961497cd35c15ece98e2852d4f6,add description about key_name,MERGED,2017-08-01 08:18:41.000000000,2017-08-21 11:33:29.000000000,2017-08-10 13:12:18.000000000,5,0,0,489525,9a36e7cda45f8b35f6d5325c3b9c77b80d7e1847,16,4,1,1,6062,jichenjc,jichenjc,"add description about key_name

add description about key_name, which tells user 'null' is not
accepted parameter.

this is ths solution that other than change the code.

Change-Id: Id84c7803fdd44961497cd35c15ece98e2852d4f6
Related-Bug: 1700825
"
openstack%2Fnova~master~Idb306e4f854957fd2ded9ae061fc27f0ef768fc0,openstack/nova,master,487860,Idb306e4f854957fd2ded9ae061fc27f0ef768fc0,always show urls in list_cells,MERGED,2017-07-27 13:58:40.000000000,2017-08-21 11:33:15.000000000,2017-08-02 00:58:40.000000000,75,8,6,487860,ed490ee93ad1c721c7442704aad877ef90c7bbb8,66,17,5,2,2750,Sean Dague,sdague,"always show urls in list_cells

This makes the --verbose flag now mean to show secrets. Thus the
--verbose flag provides the same information as before, but the
default also provides useful debug information.

It uses urlparse to attempt to be pretty robust in removing the
correct part of the string.

Change-Id: Idb306e4f854957fd2ded9ae061fc27f0ef768fc0
"
openstack%2Fnova~master~I63bb8fc433b56a3f2b80cfafab37b103fe3a27d9,openstack/nova,master,bug/1707319,I63bb8fc433b56a3f2b80cfafab37b103fe3a27d9,api-ref: fix security_groups response parameter in os-security-groups,MERGED,2017-07-31 16:38:24.000000000,2017-08-21 11:33:08.000000000,2017-08-10 11:27:40.000000000,1,1,1,489274,edeec029637784b7712c55cd1f4b345cbef752a8,17,4,1,1,6873,Matt Riedemann,mriedem,"api-ref: fix security_groups response parameter in os-security-groups

The 'security_groups' parameter in the GET /os-security-groups API
is not optional and we don't need information about the name
attribute. The ""security_groups"" parameter being used is actually
for the create server API.

Change-Id: I63bb8fc433b56a3f2b80cfafab37b103fe3a27d9
"
openstack%2Fnova~master~I0ea6891f10f021b0ed752200417e87d7e9bfda31,openstack/nova,master,bug/1707319,I0ea6891f10f021b0ed752200417e87d7e9bfda31,api-ref: requested security groups are not applied to pre-existing ports,MERGED,2017-07-31 16:38:24.000000000,2017-08-21 11:33:01.000000000,2017-08-10 11:28:18.000000000,8,6,0,489275,67f7b96b22d31b251ab13ba9fce55346dccc4522,19,6,1,1,6873,Matt Riedemann,mriedem,"api-ref: requested security groups are not applied to pre-existing ports

When creating a server, you can request security groups and
pre-existing ports, but the security groups are only applied to
any new ports that nova creates, not the pre-existing ones that
the user passes in. This change makes a note of that in the API
reference.

Change-Id: I0ea6891f10f021b0ed752200417e87d7e9bfda31
Related-Bug: #1707319
"
openstack%2Fnova~master~I35689a80f0a36779a32e8c49b0950daff306ea45,openstack/nova,master,openstack/requirements,I35689a80f0a36779a32e8c49b0950daff306ea45,Updated from global requirements,MERGED,2017-07-28 21:43:14.000000000,2017-08-21 11:32:33.000000000,2017-07-31 21:23:25.000000000,1,1,0,488865,b1244e795dc477ef04be96b525712bbbb7bbdf7a,41,14,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I35689a80f0a36779a32e8c49b0950daff306ea45
"
openstack%2Fnova~master~I812b4b9c7b05ab032f436e81d6e10b5a0f6598c1,openstack/nova,master,openstack/requirements,I812b4b9c7b05ab032f436e81d6e10b5a0f6598c1,Updated from global requirements,MERGED,2017-07-27 19:16:12.000000000,2017-08-21 11:32:26.000000000,2017-07-28 21:05:13.000000000,3,3,0,488034,e08cda0a70821bf6375005202b373f4b926f7408,55,15,6,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I812b4b9c7b05ab032f436e81d6e10b5a0f6598c1
"
openstack%2Fnova~master~Id9d859830d584d650ea748c8c5274156a30fd773,openstack/nova,master,bug/1707168,Id9d859830d584d650ea748c8c5274156a30fd773,[placement] quash unicode warning with shared provider,MERGED,2017-07-28 10:29:50.000000000,2017-08-21 11:32:13.000000000,2017-07-28 21:56:34.000000000,3,1,2,488363,5728a575c77bc74af8df5e5d8ef22dba0eed1677,46,15,2,1,11564,Chris Dent,chdent,"[placement] quash unicode warning with shared provider

trait.name is expected to be unicode and sqlalchemy will warn when it
doesn't get that. The os_traits library creates default quoted strings
for its symbols, so it needs a six.text_type wrapper to shut the warning
up.

Closes-Bug: #1707168
Change-Id: Id9d859830d584d650ea748c8c5274156a30fd773
"
openstack%2Fnova~master~Ic0d649cc5700d737c18b84ccb019da9120f720d3,openstack/nova,master,remove_unnecessary_code,Ic0d649cc5700d737c18b84ccb019da9120f720d3,Remove unnecessary code,MERGED,2017-07-28 06:00:23.000000000,2017-08-21 11:31:49.000000000,2017-07-31 14:32:35.000000000,0,6,0,488299,cf4e5819172b97a1ec5ca6fddbffe0544ca809ca,20,8,2,2,7634,Takashi Natsume,natsumet,"Remove unnecessary code

TrivialFix
Change-Id: Ic0d649cc5700d737c18b84ccb019da9120f720d3
"
openstack%2Fnova~master~Ifc5cf482209e4f6f4e3e39b24389bd3563d86444,openstack/nova,master,bp/placement-claims,Ifc5cf482209e4f6f4e3e39b24389bd3563d86444,claim resources in placement API during schedule(),MERGED,2017-07-13 21:33:26.000000000,2017-08-21 11:31:43.000000000,2017-07-28 04:12:32.000000000,420,15,73,483566,23c4eb34380bdf3eece11abbe0f6ccb68c060f47,289,24,22,3,7,Jay Pipes,jaypipes,"claim resources in placement API during schedule()

Adds logic to call the placement API's PUT /allocations/{consumer_uuid}
when selecting hosts in the filter scheduler's _schedule() method.

We only attempt the claim of resources if and only if the scheduler
driver uses allocation candidates (i.e. it isn't the caching scheduler)
and the conductor has passed in a list of instance UUIDs (otherwise,
there's no way to allocate in the placement API).

Change-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444
blueprint: placement-claims
"
openstack%2Fnova~master~I5e106d9e0743d918e2115d809ac3732c5a3d7a5a,openstack/nova,master,cellsv2-faqs,I5e106d9e0743d918e2115d809ac3732c5a3d7a5a,doc: add FAQ entry for cells v1 config options,MERGED,2017-07-27 16:48:59.000000000,2017-08-21 11:31:37.000000000,2017-08-01 13:23:55.000000000,6,0,0,487938,c73f9eef6b3471611e56195f6151c6f5bbcbdd3d,16,6,1,1,6873,Matt Riedemann,mriedem,"doc: add FAQ entry for cells v1 config options

It's super confusing for new people to nova and cells
to see config options in a [cells] group and think they
should be changing those, like enable and cell_type.

While we have warnings in the config option help text,
let's also put a reminder in the FAQ page in the docs.

Change-Id: I5e106d9e0743d918e2115d809ac3732c5a3d7a5a
"
openstack%2Fnova~master~I25ef0db50edb2ac54b40ca1cfac06d0bd1e6baea,openstack/nova,master,remove-redundant-rt-logging,I25ef0db50edb2ac54b40ca1cfac06d0bd1e6baea,Remove redundant free_vcpus logging in _report_hypervisor_resource_view,MERGED,2017-07-25 21:06:21.000000000,2017-08-21 11:31:30.000000000,2017-07-31 14:32:09.000000000,0,2,0,487216,df7e9af42d31a27cc6bb975455ef341c964e7a74,28,6,1,1,6873,Matt Riedemann,mriedem,"Remove redundant free_vcpus logging in _report_hypervisor_resource_view

We're already logging the full hypervisor resource view in
_report_hypervisor_resource_view which includes the free_vcpus
so there is no good reason to log free_vcpus separately right
before it.

Change-Id: I25ef0db50edb2ac54b40ca1cfac06d0bd1e6baea
"
openstack%2Fnova~master~If03a0d264c9f054cc5482efd9f1aac8f3733947f,openstack/nova,master,bug/1705818,If03a0d264c9f054cc5482efd9f1aac8f3733947f,stabilize test_create_delete_server functional test,MERGED,2017-07-27 09:03:43.000000000,2017-08-21 11:31:01.000000000,2017-07-27 19:01:29.000000000,6,0,1,487772,ca07237167e88fb2e26de424c8a859a18552e6e3,16,5,1,1,9708,Balazs Gibizer,gibi,"stabilize test_create_delete_server functional test

The TestInstanceNotificationSample#test_create_delete_server functional
test is unstable due to a race between the instance is disappering from
the REST API after a successfull delete and the emission of
instance.delete.end notification. This patch adds a wait for the
delete.end notification to make the test stable.

Change-Id: If03a0d264c9f054cc5482efd9f1aac8f3733947f
Closes-Bug: #1705818
"
openstack%2Fnova~master~I96285a1902436cf59b6c6ddf22b69a33503d0f4a,openstack/nova,master,bug/1702935,I96285a1902436cf59b6c6ddf22b69a33503d0f4a,Ensure we unshelve in the cell the instance is mapped,MERGED,2017-07-21 19:29:35.000000000,2017-08-21 11:30:41.000000000,2017-07-27 15:43:41.000000000,59,7,6,486208,06b4ff7df857f56d6ecb819895c17e1e708dd071,65,16,6,2,8768,Chris Friesen,cbf123,"Ensure we unshelve in the cell the instance is mapped

When we create a server it gets put in a specific cell and its
instance_mappings record in the API DB is set to map that instance
to that cell.

When unshelving an instance we want to ensure that the scheduler
only considers compute nodes in the cell where the instance is
mapped.

Change-Id: I96285a1902436cf59b6c6ddf22b69a33503d0f4a
Closes-Bug: #1702935
"
openstack%2Fnova~master~I3425267cd1e8563eb89cda83ae1ed07ee782526e,openstack/nova,master,allocations-resp-example,I3425267cd1e8563eb89cda83ae1ed07ee782526e,Fix example in _serialize_allocations_for_consumer,MERGED,2017-07-26 22:30:04.000000000,2017-08-21 11:30:27.000000000,2017-08-01 11:12:38.000000000,17,15,0,487614,686d7a08188ee7a4df5dfc5dc499f70ce18a57a3,19,6,1,1,6873,Matt Riedemann,mriedem,"Fix example in _serialize_allocations_for_consumer

This fixes the json response body for GET /allocations/{consumer_id}
in _serialize_allocations_for_consumer.

Change-Id: I3425267cd1e8563eb89cda83ae1ed07ee782526e
"
openstack%2Fdevstack-plugin-ceph~master~I1d696c63baad4d117e6e7e87242751c2d550b739,openstack/devstack-plugin-ceph,master,readme,I1d696c63baad4d117e6e7e87242751c2d550b739,Update tag link address in README,MERGED,2017-08-03 07:00:07.000000000,2017-08-21 11:29:53.000000000,2017-08-21 11:29:53.000000000,1,1,0,490356,3e2e1d77bb72cf58754ad485eebbdc4cea922989,6,2,1,1,25747,Debo Zhang,zhangdebo,"Update tag link address in README

Change-Id: I1d696c63baad4d117e6e7e87242751c2d550b739
"
openstack%2Fnova~master~I5b1ff4439a4441a90f1c77804b5521f7c3c4830d,openstack/nova,master,bp/api-no-more-extensions-pike,I5b1ff4439a4441a90f1c77804b5521f7c3c4830d,Remove the useless fake ExtensionManager from API unittests,MERGED,2017-07-23 15:16:32.000000000,2017-08-21 11:29:42.000000000,2017-07-26 23:41:43.000000000,2,32,2,486416,c7c92e48de036ad2b30443b5786c2da0ec68a7b8,42,14,4,2,5754,Alex Xu,xuhj,"Remove the useless fake ExtensionManager from API unittests

The old legacy v2 extension mechanism isn't used by v2.1 API
anymore. The fake ExtensionManager is used to test that, so
now we can remove it.

Partial-implement-blueprint api-no-more-extensions-pike

Change-Id: I5b1ff4439a4441a90f1c77804b5521f7c3c4830d
"
openstack%2Fnova~master~I939dc1ca82e3e5fad55735ed7706ba4119a611b9,openstack/nova,master,bp/api-no-more-extensions-pike,I939dc1ca82e3e5fad55735ed7706ba4119a611b9,Remove the useless FakeExt,MERGED,2017-07-23 15:16:32.000000000,2017-08-21 11:29:34.000000000,2017-07-26 22:37:31.000000000,0,27,1,486415,b47d39c2e67f9855e898e7d8c3ed3ddead2ebe6e,46,12,3,1,5754,Alex Xu,xuhj,"Remove the useless FakeExt

The FakeExt is used to test the extension point of servers API.
All the extension points and related tests are already removed,
so the FakeExt is useless now.

Partial-implement-blueprint api-no-more-extensions-pike

Change-Id: I939dc1ca82e3e5fad55735ed7706ba4119a611b9
"
openstack%2Fnova~master~I3da059fb62f085ff04532f8ec05857acfb628b06,openstack/nova,master,netronome-smartnic-enablement,I3da059fb62f085ff04532f8ec05857acfb628b06,Netronome SmartNIC Enablement,MERGED,2017-07-13 16:15:59.000000000,2017-08-21 11:29:27.000000000,2017-07-26 23:39:52.000000000,354,2,75,483459,2bd008ef5c56b85c85b09ec94d7ed079116c8e3c,212,22,17,6,25733,Jan Gutter,jangutter,"Netronome SmartNIC Enablement

These patches enable Netronome Agilio SmartNIC acceleration in Nova.

* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2
  plugin.

* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the
  virtio-forwarder plugging mode.

* nova/network/neutronv2/api.py has been modified to pass the bridge
  in the os-vif objects, similar to other OVS VIF types.

* os_vif_util.py has been extended to handle the agilio_ovs os-vif
  plugin.

* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif
  name to the os-vif plugin.

* Note: this enables the external ML2 and OS-VIF plugin, hosted at
  https://github.com/Netronome/agilio-ovs-openstack-plugin
  to support the out-of-tree version of Agilio OVS. Consult the Agilio
  documentation for configuration recommendations.

Change-Id: I3da059fb62f085ff04532f8ec05857acfb628b06
Depends-On: Id95a9f311e71b3cefb170704728641a4a1a91144
Signed-off-by: Jan Gutter <jan.gutter@netronome.com>
"
openstack%2Fnova~master~Ide0ffe532685ac813828f9b4675b39e939c8e2eb,openstack/nova,master,openstack/requirements,Ide0ffe532685ac813828f9b4675b39e939c8e2eb,Updated from global requirements,MERGED,2017-07-26 15:06:54.000000000,2017-08-21 11:29:21.000000000,2017-07-26 22:07:15.000000000,1,1,0,487473,582d08e3f4951a7406d8e899a47f37e193b66ec3,24,12,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Ide0ffe532685ac813828f9b4675b39e939c8e2eb
"
openstack%2Fnova~master~I2c276dc0125b5b9f7a54a1cd431b1b2f5239e93a,openstack/nova,master,bp/placement-claims,I2c276dc0125b5b9f7a54a1cd431b1b2f5239e93a,add a retry on DBDeadlock to _set_allocations(),MERGED,2017-07-26 15:21:55.000000000,2017-08-21 11:29:08.000000000,2017-07-27 03:16:55.000000000,2,0,6,487483,e001b0538a9d413f864d39584c2aea0b9e200e4b,35,9,3,1,7,Jay Pipes,jaypipes,"add a retry on DBDeadlock to _set_allocations()

A job failed with an uncaught DBDeadlock when attempting to run the
claim process in https://review.openstack.org/#/c/483566/. This is
likely due to the update_available_resource() method of the resource
tracker running and updating a resource provider's inventory (and thus
the resource provider record's generation field) at the exact same time
that the scheduler has already started a transaction that is attempting
to claim resources (set allocations) against that same resource
provider. It's a rare situation that is highlighted by the test runs
but we should handle it regardless.

Change-Id: I2c276dc0125b5b9f7a54a1cd431b1b2f5239e93a
"
openstack%2Fnova~master~I5e6146404132090d054deb76ecd896a1716e0405,openstack/nova,master,,I5e6146404132090d054deb76ecd896a1716e0405,Use _error_out_instance_on_exception in finish_resize,MERGED,2017-07-20 12:50:19.000000000,2017-08-21 11:29:02.000000000,2017-07-26 16:16:42.000000000,1,6,1,485601,9dd035ea404474defc25c440d0d32c528abc5e45,41,9,1,1,9555,Matthew Booth,MatthewBooth,"Use _error_out_instance_on_exception in finish_resize

Change I9269ffa2 removed the quota handling from finish_resize, which
was the reason we weren't using _error_out_instance_on_exception
there. With the removal of quota handling, the remaining code is now
identical to _error_out_instance_on_exception, including the log
message. This trivial non-functional change simply updates the method
to use the existing utility function.

Change-Id: I5e6146404132090d054deb76ecd896a1716e0405
"
openstack%2Fnova~master~I9f5290c00cdc7b740755fe2e988e2a9ebf2848f5,openstack/nova,master,misc-shares-via-aggregate-trait,I9f5290c00cdc7b740755fe2e988e2a9ebf2848f5,use os_traits.MISC_SHARES_VIA_AGGREGATE,MERGED,2017-07-20 19:13:53.000000000,2017-08-21 11:28:48.000000000,2017-07-26 16:15:54.000000000,4,39,0,485792,f86b5610d4109f48fed24feb33a0043d701cc0d1,37,18,2,2,7,Jay Pipes,jaypipes,"use os_traits.MISC_SHARES_VIA_AGGREGATE

There was a TODO left in the test_resource_provider functional test
case to actually use the os_traits.MISC_SHARES_VIA_AGGREGATE trait
instead of creating a trait once os-traits library was released that
contained MISC_SHARES_VIA_AGGREGATE. Well, os-traits version 0.3.0
introduces this traits in commit
I4e9d8389c9b93ffee20adb53d864d55d335a27fd and Nova has had os-traits
0.3.0 in requirements for a while now, so this patch takes care of that
TODO.

Change-Id: I9f5290c00cdc7b740755fe2e988e2a9ebf2848f5
"
openstack%2Fnova~master~Ice5cc70eeef3fbeee9a1a0ec0daa801c6f74480c,openstack/nova,master,hurrah-for-privsep,Ice5cc70eeef3fbeee9a1a0ec0daa801c6f74480c,Move the last_bytes util method to libvirt,MERGED,2017-06-08 12:08:56.000000000,2017-08-21 11:28:33.000000000,2017-07-27 03:05:13.000000000,59,53,0,472228,ddfd93a38cd03372a5e88d81c825262f9a22cf71,126,22,9,6,2271,Michael Still,mikalstill,"Move the last_bytes util method to libvirt

The only user of this util method is libvirt, so it should live there.
This is a precursor to re-writing its single caller to use privsep to
read bytes instead of chown'ing files.

Change-Id: Ice5cc70eeef3fbeee9a1a0ec0daa801c6f74480c
"
openstack%2Fnova~master~Ia068de2dac34f2399025fb28fec9af75c1442d63,openstack/nova,master,bp/versioned-notification-transformation-pike,Ia068de2dac34f2399025fb28fec9af75c1442d63,Add helper method for waiting migrations in functional tests,MERGED,2017-07-24 09:27:37.000000000,2017-08-21 11:27:52.000000000,2017-07-26 23:43:23.000000000,24,0,6,486537,47469ac8683e914d4dcc26ae38bcea1e4a22587a,31,19,2,2,18602,GÃ¡bor Antal,antal,"Add helper method for waiting migrations in functional tests

In functional tests, this method will be used in some places. This
method waits for the migrations and if there is at least one  active
migration in progress, the method return with the migrations.

Change-Id: Ia068de2dac34f2399025fb28fec9af75c1442d63
Co-Authored-By: Alex Szarka <szarka@inf.u-szeged.hu>
Implements: bp versioned-notification-transformation-pike
"
openstack%2Fnova~master~I1a7c653ab21be41b1a41f748a35ec9a57dd8b15d,openstack/nova,master,bp/api-no-more-extensions-pike,I1a7c653ab21be41b1a41f748a35ec9a57dd8b15d,Using plain routes for the microversions test,MERGED,2017-07-19 06:41:12.000000000,2017-08-21 11:27:38.000000000,2017-07-26 14:33:25.000000000,97,121,1,485061,d8928e4a7ca59fb153967ef436962a4658975129,48,15,3,5,5754,Alex Xu,xuhj,"Using plain routes for the microversions test

Few microversions unittest still depend on the stevedore to load few
fake controller. This patch uses the plain routes to instead of stevedore.

For the unittest can injects routes which are used for test, the `custom_routes`
parameter is added to the APIRouterV21.

Partial-implement-blueprint api-no-more-extensions-pike

Change-Id: I1a7c653ab21be41b1a41f748a35ec9a57dd8b15d
"
openstack%2Fnova~master~Ic44dc7ccbd1bdbbeb41bde923e65d2c78d183d2e,openstack/nova,master,hurrah-for-privsep,Ic44dc7ccbd1bdbbeb41bde923e65d2c78d183d2e,Do not import nova.conf into nova/exception.py,MERGED,2017-07-21 01:39:02.000000000,2017-08-21 11:27:25.000000000,2017-07-26 10:12:15.000000000,0,4,0,485907,24a96f4cbe309aac76c0a76e19bd1417c988008a,88,24,7,1,12898,Tony Breeds,tonyb,"Do not import nova.conf into nova/exception.py

Clearly this is unused and results in:
 ArgsAlreadyParsedError: arguments already parsed: cannot register CLI
option

When trying to launch the privsep-helper in later patches

Change-Id: Ic44dc7ccbd1bdbbeb41bde923e65d2c78d183d2e
"
openstack%2Fsahara-image-elements~master~Iadee41efcf3e43e7933abb55ebee17c704020ae9,openstack/sahara-image-elements,master,,Iadee41efcf3e43e7933abb55ebee17c704020ae9,Update links in README,MERGED,2017-08-21 09:44:38.000000000,2017-08-21 10:56:41.000000000,2017-08-21 10:53:17.000000000,2,2,0,495792,d480884c56017779c2438ce3c0ed3db6efc9bac7,7,2,1,1,23314,lidong,lidong,"Update links in README

Change the outdated links to the latest links in README

Change-Id: Iadee41efcf3e43e7933abb55ebee17c704020ae9
"
openstack%2Fdragonflow~master~I09f4caed07dab72040855e5fd8235cb898ed41be,openstack/dragonflow,master,test,I09f4caed07dab72040855e5fd8235cb898ed41be,patch port pair creation utility,MERGED,2017-06-18 09:19:24.000000000,2017-08-21 10:55:42.000000000,2017-08-21 10:55:42.000000000,77,31,41,475166,d964168a00fc8844c413df62a4360c5137ab8b98,47,7,10,7,18347,Itamar Ofek,itamaro,"patch port pair creation utility

Generic patch port link pair creation utility
to create both ends of 2 bridges patch port in one function call

Change-Id: I09f4caed07dab72040855e5fd8235cb898ed41be
"
openstack%2Fsenlin~master~I52687fe964fefa2c9005998631cbc8243de4a1f9,openstack/senlin,master,scheduler,I52687fe964fefa2c9005998631cbc8243de4a1f9,try to acqure first ready action,MERGED,2017-08-20 15:24:27.000000000,2017-08-21 10:53:06.000000000,2017-08-21 10:53:06.000000000,7,7,0,495558,d9ebd96799c903b2c088f037d674652f677348a5,7,3,1,2,23401,RUIJIE YUAN,ruijie,"try to acqure first ready action

this patch revise scheduler to use action.acquire_first_ready(...)
to get the first action which are ordered by ""created_at"" field to
process.

Change-Id: I52687fe964fefa2c9005998631cbc8243de4a1f9
"
openstack%2Fproject-config~master~Id2065059ced524fdc9615ec90cc207955a6e87d6,openstack/project-config,master,openstack-ansible,Id2065059ced524fdc9615ec90cc207955a6e87d6,Add pike branch for OpenStack-Ansible gerritbot,MERGED,2017-08-18 18:45:13.000000000,2017-08-21 10:47:54.000000000,2017-08-21 10:47:54.000000000,1,0,0,495410,24fa2f39f532a50780a5bb9eb05c2bd3a0771221,7,3,1,1,14805,Jimmy McCrory,jimmy-mccrory,"Add pike branch for OpenStack-Ansible gerritbot

Change-Id: Id2065059ced524fdc9615ec90cc207955a6e87d6
"
openstack%2Fproject-config~master~Id8754d80061b9f561a6734638d80453cea0d85fc,openstack/project-config,master,bp/multi-node-ci,Id8754d80061b9f561a6734638d80453cea0d85fc,Kuryr: Setup multinode gate,MERGED,2017-08-18 05:03:57.000000000,2017-08-21 10:43:39.000000000,2017-08-21 10:43:39.000000000,17,6,0,494946,b1b6ced0afa44cc912460a5afd47db5e11920950,7,3,1,3,22406,Kien Nguyen,kiennt,"Kuryr: Setup multinode gate

- Add topology to setup both singlenode and multinode gates.
- Remove unnecessary export ENABLE_SERVICES, these services already enabled
  in Kuryr-libnetwork side [1].

[1]
https://github.com/openstack/kuryr-libnetwork/blob/master/devstack/settings#L29

Change-Id: Id8754d80061b9f561a6734638d80453cea0d85fc
Partial-implements: blueprint multi-node-ci
"
openstack%2Fproject-config~master~I08c8faef0b61124f6c5d15844922c62dfaccc700,openstack/project-config,master,remove-old-watcher-job,I08c8faef0b61124f6c5d15844922c62dfaccc700,Remove old functional job for Watcher,MERGED,2017-08-18 12:54:23.000000000,2017-08-21 10:39:00.000000000,2017-08-21 10:39:00.000000000,1,54,0,495296,d97bf60d97f751695ee659958be41fbeb7d5da14,16,3,2,3,19055,Alexander Chadin,joker946,"Remove old functional job for Watcher

This patch set removes old functional test job and
renames new one to the old one.

Change-Id: I08c8faef0b61124f6c5d15844922c62dfaccc700
"
openstack%2Fkuryr-kubernetes~master~Ic66bab138b170ac9ffbbaed5b69055641b157376,openstack/kuryr-kubernetes,master,bp/ipv6-support,Ic66bab138b170ac9ffbbaed5b69055641b157376,ipv6: Support pod networking,MERGED,2017-08-12 00:29:14.000000000,2017-08-21 10:34:54.000000000,2017-08-21 10:34:54.000000000,265,1,9,493267,c91af09d2e734d8b4416261dfc0018ea83ff3714,25,9,7,4,14352,Antoni Segura Puimedon,toni,"ipv6: Support pod networking

This patch adds support and documents how to set up the deployment for
an IPv6 only Kubernetes cluster (pods + services).

Implements: blueprint ipv6-support
Change-Id: Ic66bab138b170ac9ffbbaed5b69055641b157376
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
"
openstack%2Fi18n~master~I426b66320b453de92dfd33597f8c6896b56feefd,openstack/i18n,master,zanata/translations,I426b66320b453de92dfd33597f8c6896b56feefd,Imported Translations from Zanata,MERGED,2017-08-21 10:18:29.000000000,2017-08-21 10:27:55.000000000,2017-08-21 10:27:55.000000000,11,2,0,495807,af552ed4d435570e9d95e95d8c4bafa237281033,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I426b66320b453de92dfd33597f8c6896b56feefd
"
openstack%2Fnova~stable%2Focata~I5d53407fc9619b9d8873c8b68400229a17fd3bbe,openstack/nova,stable/ocata,test,I5d53407fc9619b9d8873c8b68400229a17fd3bbe,[DNM] test ironic grenade failure,ABANDONED,2017-08-15 09:38:48.000000000,2017-08-21 10:24:37.000000000,,5,0,0,493811,c42cefbf189515c8cf210fcfb7b7393edc12be0a,17,8,3,1,12356,Vladyslav Drok,vdrok,"[DNM] test ironic grenade failure

Change-Id: I5d53407fc9619b9d8873c8b68400229a17fd3bbe
"
openstack%2Fironic~master~I3ea3ab73166b78bb90639d9d71c4cc2aedc74064,openstack/ironic,master,test-grenade-multinode,I3ea3ab73166b78bb90639d9d71c4cc2aedc74064,[DNM] test multinode grenade failures,ABANDONED,2017-08-15 09:46:10.000000000,2017-08-21 10:24:27.000000000,,2,2,0,493812,61ec376606b8796703ce3d1988bf21b7ea0b23be,21,5,5,1,12356,Vladyslav Drok,vdrok,"[DNM] test multinode grenade failures

Depends-On: I5d53407fc9619b9d8873c8b68400229a17fd3bbe
Depends-On: I0874fe3b3628cb3e662ee01f24c4599247fdc82d
Change-Id: I3ea3ab73166b78bb90639d9d71c4cc2aedc74064
"
openstack%2Fheat~master~I8450df08c84b5a467ab8ac991451c5b108ee96e7,openstack/heat,master,bug/1702251,I8450df08c84b5a467ab8ac991451c5b108ee96e7,Rollback stack with correct tags,MERGED,2017-07-04 11:26:22.000000000,2017-08-21 10:20:37.000000000,2017-08-21 10:20:37.000000000,31,16,7,480153,9e81190e74c8979ba39a8815e88f998d93364de4,29,7,8,3,8289,huangtianhua,huangtianhua,"Rollback stack with correct tags

Set old tags for old_stack to make sure the stack
with the correct tags after rollback.

Change-Id: I8450df08c84b5a467ab8ac991451c5b108ee96e7
Closes-Bug: #1702251
"
openstack%2Fdjango_openstack_auth~master~I8479435468d52b48f68fbd6d49de83b7de550598,openstack/django_openstack_auth,master,zanata/translations,I8479435468d52b48f68fbd6d49de83b7de550598,Imported Translations from Zanata,MERGED,2017-08-21 10:04:56.000000000,2017-08-21 10:17:15.000000000,2017-08-21 10:17:15.000000000,6,5,0,495801,e45760d904a6f286dcc5a3f746dbc544b27e2140,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8479435468d52b48f68fbd6d49de83b7de550598
"
openstack%2Fneutron-fwaas-dashboard~master~I8dc68408f0e3c4dd85554e016e7aeffbb30747d1,openstack/neutron-fwaas-dashboard,master,zanata/translations,I8dc68408f0e3c4dd85554e016e7aeffbb30747d1,Imported Translations from Zanata,MERGED,2017-08-21 09:35:36.000000000,2017-08-21 10:13:37.000000000,2017-08-21 10:13:37.000000000,10,48,0,495786,1bffc2376442bd48343624a8fc322ff3da7dd423,6,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8dc68408f0e3c4dd85554e016e7aeffbb30747d1
"
openstack%2Fhorizon~master~I811711412d85a989826a946d1d57ed39790e34ed,openstack/horizon,master,bug/1710003,I811711412d85a989826a946d1d57ed39790e34ed,Fix pofile for pseudo translations,MERGED,2017-08-10 20:19:18.000000000,2017-08-21 10:10:02.000000000,2017-08-21 10:10:02.000000000,4,3,0,492670,846fc19d719182700656039f91f09e212cabd9ec,12,3,4,2,26590,Nick Timkovich,npt,"Fix pofile for pseudo translations

The pofile name in the pseudo translation logic appears to expect the
babel.messages object, not the string holding the location of the pofile.

Trimmed a string that gettext reacts poorly with when creating pseudo-
translations.

Change-Id: I811711412d85a989826a946d1d57ed39790e34ed
Closes-Bug: 1710003
"
openstack%2Fdragonflow~master~I55ecce4b01a734d620ca9cae9cf1f45b2c714b18,openstack/dragonflow,master,bgp,I55ecce4b01a734d620ca9cae9cf1f45b2c714b18,gate-hook.sh to take gate environment into account,MERGED,2017-08-16 10:15:53.000000000,2017-08-21 10:09:43.000000000,2017-08-21 10:09:43.000000000,24,3,0,494154,88af56cea79e1ebd5fe241c3a1a2fe5688002f90,14,4,2,1,20229,Omer Anson,oanson,"gate-hook.sh to take gate environment into account

The gate-hook for fullstack and tempest are different. Tempest needs
docker installed for the BGP tests.

This change adds a test to the gate-hook so it will run only on expected
gates, and will set them up if needed.

Change-Id: I55ecce4b01a734d620ca9cae9cf1f45b2c714b18
"
openstack%2Fheat~stable%2Focata~I809dd844797dc0d9a8f31226a5b2da65a20a345d,openstack/heat,stable/ocata,bug/1675286,I809dd844797dc0d9a8f31226a5b2da65a20a345d,Don't set metadata for deleted resources,MERGED,2017-04-25 17:45:18.000000000,2017-08-21 09:59:35.000000000,2017-08-21 09:59:35.000000000,42,11,0,459795,6894be453c52083756c6bae0f01dbab53cc3b6e1,8,4,1,4,13564,Crag Wolfe,cwolfe,"Don't set metadata for deleted resources

Change-Id: I809dd844797dc0d9a8f31226a5b2da65a20a345d
Partial-Bug: #1675286
(cherry picked from commit 8d7e3e41e8f02726dca33b5ec2f6d5b6b6b07a31)
"
openstack%2Fironic-inspector~master~I8344e48c29504ec2bfea64c3a2084647fcfda20b,openstack/ironic-inspector,master,openstack/requirements,I8344e48c29504ec2bfea64c3a2084647fcfda20b,Updated from global requirements,MERGED,2017-08-18 04:41:33.000000000,2017-08-21 09:57:22.000000000,2017-08-21 09:57:22.000000000,2,2,0,494815,0ed098a36a9eeb5f9f7112267756eeab50b4858d,12,5,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I8344e48c29504ec2bfea64c3a2084647fcfda20b
"
openstack%2Fglance~master~Ib56b600dbf53672bcaa4fd959adb736de4cdff50,openstack/glance,master,bug/1711362,Ib56b600dbf53672bcaa4fd959adb736de4cdff50,Return 404 for import-info call,MERGED,2017-08-17 13:21:59.000000000,2017-08-21 09:42:55.000000000,2017-08-21 08:30:14.000000000,26,7,2,494544,692dc040872e04d27469570a508018c44f8d88ef,23,5,2,2,5314,Brian Rosmaita,brian-rosmaita,"Return 404 for import-info call

Change the response to GET v2/info/import to be a 404 when Glance is
configured with enable_image_import = False so that the response is
consistent with the v2.5 API.  See the bug for details.

Change-Id: Ib56b600dbf53672bcaa4fd959adb736de4cdff50
Closes-bug: #1711362
"
openstack%2Fglance~master~I08783e28719e63b5a4b2115b8fce135e55be460a,openstack/glance,master,bug/1708702,I08783e28719e63b5a4b2115b8fce135e55be460a,Fix 500 error from image-import call,MERGED,2017-08-06 15:23:37.000000000,2017-08-21 09:41:18.000000000,2017-08-21 08:29:34.000000000,30,2,2,491249,d4917cf606e99429e019538cd95f06ab0673acca,30,7,3,1,5314,Brian Rosmaita,brian-rosmaita,"Fix 500 error from image-import call

This patch modifies the images controller to accept a body (which
is required) for the image import call and cleans up a bit around
the request deserialization/response serialization.

Co-authored-by: Abhishek Kekane <abhishek.kekane@nttdata.com>
Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: I08783e28719e63b5a4b2115b8fce135e55be460a
Closes-bug: #1708702
"
openstack%2Fpuppet-nova~master~I6798218a3695bfced781056b12a192b82733eea6,openstack/puppet-nova,master,,I6798218a3695bfced781056b12a192b82733eea6,Use API level filtering for nova_security_group provider,MERGED,2017-08-18 21:03:54.000000000,2017-08-21 09:41:10.000000000,2017-08-21 09:41:10.000000000,1,3,0,495433,414ae8da0ae637ce5059207d7834241f6421ed54,9,3,1,1,1004,Mohammed Naser,mnaser,"Use API level filtering for nova_security_group provider

In order to speed things up and avoid pulling all the groups,
we can instead provide it to the client and it will filter
things at the API level speeding the process up.

Change-Id: I6798218a3695bfced781056b12a192b82733eea6
"
openstack%2Freleases~master~I95f994d998ea03c5c9c73908e0cc2bddde50a77a,openstack/releases,master,,I95f994d998ea03c5c9c73908e0cc2bddde50a77a,Release ironic 9.0.0 for pike,MERGED,2017-08-17 12:56:16.000000000,2017-08-21 09:37:52.000000000,2017-08-17 14:28:56.000000000,7,0,0,494530,f6e9dca83a2540df99a7b1a6086c81ca1be19754,20,7,2,1,11655,Julia Kreger,jkreger,"Release ironic 9.0.0 for pike

Change-Id: I95f994d998ea03c5c9c73908e0cc2bddde50a77a
"
openstack%2Faodh~master~Ibfe85d034c1f8bf2ee6f72feb3d14e7cddf03641,openstack/aodh,master,zanata/translations,Ibfe85d034c1f8bf2ee6f72feb3d14e7cddf03641,Imported Translations from Zanata,MERGED,2017-08-15 11:17:15.000000000,2017-08-21 09:33:11.000000000,2017-08-21 09:33:11.000000000,7,4,0,493833,48468c3f525676f8ddae2dae1e7d19006d5c4342,12,3,3,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibfe85d034c1f8bf2ee6f72feb3d14e7cddf03641
"
openstack%2Fneutron~master~I4cac1b87c03053255ed298d4423ea672e60b410d,openstack/neutron,master,bug/1709869,I4cac1b87c03053255ed298d4423ea672e60b410d,Fixing test_convert_default_subnetpool_to_non_default,MERGED,2017-08-10 12:50:59.000000000,2017-08-21 09:31:34.000000000,2017-08-15 22:16:02.000000000,1,1,0,492522,34ad023ea3b00ed876e9c5b1a4f19ee56f7f89b7,12,4,1,1,4727,Itzik Brown,itzikb1,"Fixing test_convert_default_subnetpool_to_non_default

Susbnetpool is created by admin but the show command
is using non-admin client.

Change-Id: I4cac1b87c03053255ed298d4423ea672e60b410d
Closes-bug: #1709869
"
openstack%2Fkolla~master~Ib17c04a57e8b41e2100be42bc4fb2242d40faf01,openstack/kolla,master,TrivalFix,Ib17c04a57e8b41e2100be42bc4fb2242d40faf01,replace 'Memcahced' with 'Memcached',ABANDONED,2017-07-26 06:30:11.000000000,2017-08-21 09:28:12.000000000,,1,1,0,487291,cb8e962033c55828aef38b833bbdd14dfc932163,5,3,1,1,25373,yang wang,yangangang,"replace 'Memcahced' with 'Memcached'

Fix a typo

Change-Id: Ib17c04a57e8b41e2100be42bc4fb2242d40faf01
"
openstack%2Fvitrage~stable%2Fpike~Ie60f17ed05128d70c3ac93da44b447e888f8361b,openstack/vitrage,stable/pike,,Ie60f17ed05128d70c3ac93da44b447e888f8361b,disable mistral tempest,MERGED,2017-08-20 15:44:59.000000000,2017-08-21 09:27:47.000000000,2017-08-21 09:27:47.000000000,2,2,1,495560,a4d14d248dc32f1402939895fc25164a57066f2c,7,3,1,2,24635,Anna Reznikov,annarez,"disable mistral tempest

Change-Id: Ie60f17ed05128d70c3ac93da44b447e888f8361b
"
openstack%2Fvitrage-dashboard~stable%2Fpike~I87b785d9ac5a381c9912a22e61812c85d2193097,openstack/vitrage-dashboard,stable/pike,stable/pike,I87b785d9ac5a381c9912a22e61812c85d2193097,Description: Resource id is shown now in alarm list,MERGED,2017-08-21 09:07:28.000000000,2017-08-21 09:20:51.000000000,2017-08-21 09:20:51.000000000,1,1,0,495772,3ab435fa6b76c16c552a6cf95b4e16cc29499c13,6,2,1,1,19140,Alon,alonheller,"Description: Resource id is shown now in alarm list

Change-Id: I87b785d9ac5a381c9912a22e61812c85d2193097
Closes-Bug: #1707604
"
openstack%2Fnetworking-ovn~master~If37eedee0a5000144089776c4ebdffda44b2322b,openstack/networking-ovn,master,qos_test,If37eedee0a5000144089776c4ebdffda44b2322b,add functional test for QoS.,MERGED,2017-04-28 06:44:19.000000000,2017-08-21 09:15:32.000000000,2017-08-21 09:15:32.000000000,166,0,4,460846,760899eb886abcc8d75e7f7004c36baffc75ad09,22,4,5,1,24438,Guoshuai Li,Guoshuai,"add functional test for QoS.

Change-Id: If37eedee0a5000144089776c4ebdffda44b2322b
"
openstack%2Fheat-translator~master~Ib40eb9d803dcdf75a6626793f0b0055889f7559b,openstack/heat-translator,master,fix,Ib40eb9d803dcdf75a6626793f0b0055889f7559b,Test if property is a get_input before treating it as such,ABANDONED,2017-08-21 09:12:36.000000000,2017-08-21 09:14:58.000000000,,21189,1,0,495774,9e1b1c96d44cc1b1e36b60c3fa6576a7d756b02b,2,0,1,47,20031,Mathieu Velten,MatMaul,"Test if property is a get_input before treating it as such

Change-Id: Ib40eb9d803dcdf75a6626793f0b0055889f7559b
"
openstack%2Fnetworking-bagpipe~master~If941cee0c7a80fe844a8999f2414e33dc6f2a00a,openstack/networking-bagpipe,master,openstack/requirements,If941cee0c7a80fe844a8999f2414e33dc6f2a00a,Updated from global requirements,MERGED,2017-08-18 11:33:24.000000000,2017-08-21 09:13:27.000000000,2017-08-21 09:13:27.000000000,1,1,0,495196,0c6c1a0daccdd6657f00f92f0eb834d305a5d961,9,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: If941cee0c7a80fe844a8999f2414e33dc6f2a00a
"
openstack%2Fpython-tripleoclient~master~I35866fb24915ef80b86cc402015afb08cb155dcf,openstack/python-tripleoclient,master,bug/1710992,I35866fb24915ef80b86cc402015afb08cb155dcf,Filter container images by deployed services,MERGED,2017-08-17 03:59:55.000000000,2017-08-21 09:13:07.000000000,2017-08-21 09:13:07.000000000,65,5,4,494367,cd1eb1e111779a0a335c7e28f521acc0eb18dae3,24,6,2,3,4571,Steve Baker,steve-stevebaker,"Filter container images by deployed services

This change adds the --service-environment-file/-e argument to the
prepare command which will take heat environment files that specify
which services are containerised.

When specified, the resulting image entries will be filtered only by
the containerised services discovered in the environment.

-e is used as the short argument so that tools like quickstart can use
the same variable to specify these environments for both the prepare
command and the overcloud deploy command.

Once this change merges, any calls to prepare in CI can be modified to
reduce the number of images being transferred for 'upload' calls. For
example, specifying -e environment/docker.yaml will reduce image
transfers from 85 to 44.

Change-Id: I35866fb24915ef80b86cc402015afb08cb155dcf
Partial-Bug: #1710992
Depends-On: #Ie8801b11921c46923b0f7c9aaba6bf524c464e82
"
openstack%2Fnetworking-generic-switch~master~If1b8fbc666aa229e5a616223fd8593f553b0e204,openstack/networking-generic-switch,master,openstack/requirements,If1b8fbc666aa229e5a616223fd8593f553b0e204,Updated from global requirements,MERGED,2017-08-18 04:44:08.000000000,2017-08-21 09:06:04.000000000,2017-08-21 09:06:04.000000000,2,2,0,494844,d975e246d396ed7907077b4fd51fafdf26c74dcc,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: If1b8fbc666aa229e5a616223fd8593f553b0e204
"
openstack%2Fheat~master~Ifc84fba24224530343945ae6fc89f3d361f7916e,openstack/heat,master,bug/1711539,Ifc84fba24224530343945ae6fc89f3d361f7916e,Avoid generate dependency leaves twice,ABANDONED,2017-08-18 08:36:00.000000000,2017-08-21 08:56:28.000000000,,1,1,0,495121,5585f9d1c0a5d7224493469fd4cf9532e9fcaf96,5,1,2,1,12404,Rico Lin,rico.lin,"Avoid generate dependency leaves twice

This patch proposes to reuse the leaves set when checking empty
instead of generating same map twice. If we have 500 edges in
graph. It makes no sense for us to go through all 500 edges one
extra time.
Closes-Bug: #1711539

Change-Id: Ifc84fba24224530343945ae6fc89f3d361f7916e
"
openstack%2Fkolla~master~I12503810f80ca18f42e5f2ebeac835bccced02fd,openstack/kolla,master,odl-contrib-override,I12503810f80ca18f42e5f2ebeac835bccced02fd,Cleanup opendaylight-template-overrides,MERGED,2017-05-19 15:30:49.000000000,2017-08-21 08:54:05.000000000,2017-08-21 08:54:05.000000000,8,20,6,466325,847f4822c5444ec78234fdc96142c01c769c2f50,22,9,3,2,13039,Martin AndrÃ©,mandre,"Cleanup opendaylight-template-overrides

The neutron OpenDaylight drivers can now be customized with the
neutron-server-opendaylight image, there is no need to add them to the
override file.

Update OpenDaylight overrides file documentation to make it clear this
is only available for source builds.

Change-Id: I12503810f80ca18f42e5f2ebeac835bccced02fd
"
openstack%2Fhorizon~stable%2Fpike~I9b1a706225b3d0f50cb61a81948919d78f096793,openstack/horizon,stable/pike,zanata/translations,I9b1a706225b3d0f50cb61a81948919d78f096793,Imported Translations from Zanata,MERGED,2017-08-21 06:15:29.000000000,2017-08-21 08:52:26.000000000,2017-08-21 08:52:26.000000000,737,40,0,495732,b1b6b3fee9c73b1e04b85ea0ad86300a166dcb50,6,2,1,3,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9b1a706225b3d0f50cb61a81948919d78f096793
"
openstack%2Fhorizon~master~Ibad0c3ade6f34870099122da6a07789d3d5d7467,openstack/horizon,master,zanata/translations,Ibad0c3ade6f34870099122da6a07789d3d5d7467,Imported Translations from Zanata,MERGED,2017-08-21 06:06:47.000000000,2017-08-21 08:51:21.000000000,2017-08-21 08:51:21.000000000,201,3,0,495731,03e2299405216fd8b4046988ed93db61d7cb4aaa,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibad0c3ade6f34870099122da6a07789d3d5d7467
"
openstack%2Faodh~master~Iec9cd4bdfbcccb5e8127ca9087b91974f3cf8987,openstack/aodh,master,api-ref,Iec9cd4bdfbcccb5e8127ca9087b91974f3cf8987,Add api-ref initial patch,ABANDONED,2016-12-23 06:34:15.000000000,2017-08-21 08:49:30.000000000,,560,0,1,414437,ff67c751636f0980f449847e793c6dc4a05d960e,6,3,1,6,8290,liusheng,LiuSheng,"Add api-ref initial patch

Change-Id: Iec9cd4bdfbcccb5e8127ca9087b91974f3cf8987
"
openstack%2Faodh~master~If0344eb2905fc72cd04c29bfd8b3f10b7c649c2d,openstack/aodh,master,bug/1577754,If0344eb2905fc72cd04c29bfd8b3f10b7c649c2d,disable workload partition when backend_url is not set,ABANDONED,2016-05-03 13:30:49.000000000,2017-08-21 08:49:05.000000000,,37,16,0,312059,ed9f361208dc42d61c210adbc6b2a9fc6da4b8ff,4,1,1,5,6676,zqfan,aji-zqfan,"disable workload partition when backend_url is not set

Currently we always do workload partition no matter backend_url
is set or not, which is wrong, we should run singleton worker when
it is not set.

Change-Id: If0344eb2905fc72cd04c29bfd8b3f10b7c649c2d
Closes-Bug: #1577754
"
openstack%2Fceilometer~master~I4ee646088f7bc370ed7ffd1eb3b98e66bae6782e,openstack/ceilometer,master,jd/remove-deprecation-from-archive-policy-settings,I4ee646088f7bc370ed7ffd1eb3b98e66bae6782e,"Revert ""deprecate archive policy of Gnocchi dispatcher""",MERGED,2017-07-10 15:49:01.000000000,2017-08-21 08:46:43.000000000,2017-08-21 08:46:43.000000000,0,12,3,482191,bb3a29e2ad0a5b83f8aa5298adc2ad0d2b36f405,17,4,1,3,1669,Julien Danjou,jdanjou,"Revert ""deprecate archive policy of Gnocchi dispatcher""

This reverts commit 5016d7e26ae03d3e427b73c01f93c514612e61f0.

I don't think it's a good idea to deprecate that settings. They are some weird
use cases that are not covered by archive policy rules, such as posting from 2
Ceilometer with different archive policies to a single Gnocchi instance.

There's also the possibility that the Gnocchi instance is used for some other
means and that the rule cannot correctly be set.

Change-Id: I4ee646088f7bc370ed7ffd1eb3b98e66bae6782e
"
openstack%2Fkolla-ansible~master~Ica9b8b5f7f57e1c8c87adc62df766c101bb03d2b,openstack/kolla-ansible,master,,Ica9b8b5f7f57e1c8c87adc62df766c101bb03d2b,Missing ExecStart in docker.service,MERGED,2017-06-02 08:44:35.000000000,2017-08-21 08:43:00.000000000,2017-06-02 09:45:22.000000000,2,0,0,470207,88684547e7ae1ab2beb7d7a328cd315c7127bd97,8,3,1,1,23759,serlex,serlex,"Missing ExecStart in docker.service

docker.service requires extra ExecStart to clear ""settings""

Change-Id: Ica9b8b5f7f57e1c8c87adc62df766c101bb03d2b
"
openstack%2Fpython-ironic-inspector-client~master~I0d3054c1f7c34ebb533678377d3d60d229dc44da,openstack/python-ironic-inspector-client,master,openstack/requirements,I0d3054c1f7c34ebb533678377d3d60d229dc44da,Updated from global requirements,MERGED,2017-08-18 04:51:22.000000000,2017-08-21 08:38:40.000000000,2017-08-21 08:38:40.000000000,3,3,0,494895,82b2fa84dad35afa05d5246f0642e635d95a0176,10,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I0d3054c1f7c34ebb533678377d3d60d229dc44da
"
openstack%2Fvitrage-dashboard~master~I71f469263566179a82187123ae65bf43dfd3975e,openstack/vitrage-dashboard,master,master,I71f469263566179a82187123ae65bf43dfd3975e,resource id is shown now in alarm list,MERGED,2017-08-20 13:12:46.000000000,2017-08-21 08:37:11.000000000,2017-08-21 08:37:11.000000000,1,1,0,495547,8be5a32a61bce5ccb45bfb502fbcd2f8b0162ec8,8,6,2,1,19140,Alon,alonheller,"resource id is shown now in alarm list

Change-Id: I71f469263566179a82187123ae65bf43dfd3975e
Closes-Bug: #1707604"
openstack%2Fpuppet-nova~master~Ida3ecab717bc3113ba23553c559263f35c49c46a,openstack/puppet-nova,master,bug/1696955,Ida3ecab717bc3113ba23553c559263f35c49c46a,Fix handling of nova pci MultiStrOpt params,MERGED,2017-08-09 15:23:17.000000000,2017-08-21 08:33:18.000000000,2017-08-16 06:43:09.000000000,145,48,8,492172,1cd349f893408803fec307f615ae3fe265d54fed,30,8,4,7,23811,Oliver Walsh,owalsh,"Fix handling of nova pci MultiStrOpt params

The changes in Ie27dbbc510c73c685b239a9be4af2700a0eb42f0 did not appear to fix
the handling of the nova pci_* params. The config being written to nova.conf
remains in the ListOpt format.

As support for MultiStrOpt was added to nova_config in
I6be7bb4cea1906bd98c513bd2d01153e4643e3ac we just need to pass an array of
strings to nova_config to set these MultiStrOpt params.

Nova expects the string values to be JSON encoded so that is what the parser
function now returns.  This function has also been renamed from
'check_array_of_hash' (which it never did) to 'to_array_of_json_strings'.

The acceptable input formats are a JSON array of objects or a puppet Array of
Hashes. Perviously a ""JSON with single quotes"" format was used but should now
be considered deprecated as it could corrupt data.

This also removes any pci_alias entries from nova.conf when the param is not
set.

Change-Id: Ida3ecab717bc3113ba23553c559263f35c49c46a
Closes-bug: #1696955
"
openstack%2Ffuxi~stable%2Fpike~I6cdcee1dec4048d7c8d19d05957a0087909f4297,openstack/fuxi,stable/pike,create-pike,I6cdcee1dec4048d7c8d19d05957a0087909f4297,Update UPPER_CONSTRAINTS_FILE for stable/pike,MERGED,2017-08-14 16:54:13.000000000,2017-08-21 08:31:40.000000000,2017-08-21 08:31:40.000000000,1,1,0,493612,ebbadd2b1e06017402de69a7f87546842f762663,12,6,1,1,22816,OpenStack Release Bot,release,"Update UPPER_CONSTRAINTS_FILE for stable/pike

Change-Id: I6cdcee1dec4048d7c8d19d05957a0087909f4297
"
openstack%2Fironic-lib~master~I3a1d618e60038f80fbc5cc993790338bd2aeda6c,openstack/ironic-lib,master,openstack/requirements,I3a1d618e60038f80fbc5cc993790338bd2aeda6c,Updated from global requirements,MERGED,2017-07-27 19:10:39.000000000,2017-08-21 08:30:37.000000000,2017-08-21 08:30:37.000000000,2,2,0,488004,d5d0b3bbd19cb66e438415f9e17e9f56c6d7452f,11,4,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I3a1d618e60038f80fbc5cc993790338bd2aeda6c
"
openstack%2Ftempest~master~I7114b19716ba59ed72671616e22bcd468e32d55c,openstack/tempest,master,remove_unused_statement,I7114b19716ba59ed72671616e22bcd468e32d55c,[TrivialFix] Remove unused statements in compute tests,MERGED,2017-08-21 03:51:18.000000000,2017-08-21 08:26:28.000000000,2017-08-21 08:26:28.000000000,3,4,0,495726,15ee1ff6e5d771f7a7ee4b09c70a576ef93f6eb9,9,3,1,2,23081,Jeremy Zhang,jeremy.zhang,"[TrivialFix] Remove unused statements in compute tests

This patch removes some unused statements in compute tests to make
code clean.

Change-Id: I7114b19716ba59ed72671616e22bcd468e32d55c
"
openstack%2Fkolla-ansible~master~Ief1392c5e8becc90034fca782211a1da30da14ae,openstack/kolla-ansible,master,,Ief1392c5e8becc90034fca782211a1da30da14ae,Disable grafana Getting Started panel,MERGED,2017-07-21 03:42:25.000000000,2017-08-21 08:26:21.000000000,2017-08-21 08:26:21.000000000,14,0,2,485932,deadbdb43ed2944ee2cd23c8bb5d64387de8323d,26,7,6,1,24013,jimmygc,jimmygc,"Disable grafana Getting Started panel

I think that we do not need this in a production-ready project.

Change-Id: Ief1392c5e8becc90034fca782211a1da30da14ae
"
openstack%2Fcinder~master~Ic76cc4738132f993e805559cff1c40cb055cc26d,openstack/cinder,master,bug/1709100,Ic76cc4738132f993e805559cff1c40cb055cc26d,Ibm_storage - fix failover_replication.,MERGED,2017-08-07 14:47:33.000000000,2017-08-21 08:25:53.000000000,2017-08-18 08:01:03.000000000,70,30,0,491509,6addf0ed00ad22a616cc806c90e5d1917661dbbf,108,42,3,3,17947,Tzur Eliyahu,TzurEliyahu,"Ibm_storage - fix failover_replication.

running failover_replication of a group with volumes fails.
This happens because we are not switching between the backends
at the end of the process, and we are not returning the correct
update fot the volume. This patch fixes it.

Change-Id: Ic76cc4738132f993e805559cff1c40cb055cc26d
Closes-Bug: 1709100
"
openstack%2Ffuxi~stable%2Fpike~Iaefe444f523838ca85d9ce90e1493e991f7c97ff,openstack/fuxi,stable/pike,create-pike,Iaefe444f523838ca85d9ce90e1493e991f7c97ff,Update .gitreview for stable/pike,MERGED,2017-08-14 16:54:12.000000000,2017-08-21 08:24:11.000000000,2017-08-21 08:24:10.000000000,1,0,0,493611,d6156ba903ec398d2e13f500a592935c81dda775,14,6,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/pike

Change-Id: Iaefe444f523838ca85d9ce90e1493e991f7c97ff
"
openstack%2Fopenstack-ansible-galera_server~master~I1de5d8484f1d2655a97498235fb63341cc088db8,openstack/openstack-ansible-galera_server,master,reno-pike,I1de5d8484f1d2655a97498235fb63341cc088db8,[TEST] Remove mitaka releasenotes index,ABANDONED,2017-08-21 08:13:59.000000000,2017-08-21 08:23:35.000000000,,0,6,0,495753,ae8e8d169592db31bbc91552185f5469f5418fe0,3,1,1,1,6816,Jesse Pretorius,jesse-pretorius,"[TEST] Remove mitaka releasenotes index

Change-Id: I1de5d8484f1d2655a97498235fb63341cc088db8
"
openstack%2Fmagnum~master~I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433,openstack/magnum,master,bug/1708454,I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433,tests: Use swarm-mode for api tests,MERGED,2017-08-10 06:28:35.000000000,2017-08-21 08:20:18.000000000,2017-08-21 08:20:18.000000000,75,54,1,492390,4fb91cc109a9e636abb309e614341f25bf26c7b8,82,9,18,16,20498,Spyros Trigazis,strigazi,"tests: Use swarm-mode for api tests

* Swarm-mode is the fastest cluster to deploy since it doesn't
  require to pull anything from outside.
* Add the output nodes for swarm-mode too.
* Disable copy logs (I think a better practice is to copy logs
  on demand).
* Don't run test_create_list_sign_delete_clusters, because it is
  very unstable on the CI.

Partially-Implements: blueprint swarm-mode-support

2nd commit message:

Update to Fedora Atomic 26

This patch moves the current master to test against Fedora Atomic 26,
in addition, it switches to downloading from Fedora mirrors.

2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1

3rd commit message:

Set default iptables FORWARD policy to ACCEPT

With the release of Docker 1.13 which is available in Fedora
Atomic 26, it no longer sets the policy of the FORWARD chain
to ACCEPT[1].  Therefore, CNI networking such as Flannel will
cease to work.

This patch sets the policy to ACCEPT so that traffic can work
once again for deployments which are based on Docker versions
which are newer than 1.13

[1]: https://github.com/moby/moby/pull/28257

3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7
Closes-Bug: #1708454

Co-Authored-By: Mohammed Naser <mnaser@vexxhost.com>
Change-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433
"
openstack%2Fkolla-ansible~master~I41cc1fd0fdeae0757a2c4e3e310ec6375da0b8cf,openstack/kolla-ansible,master,bug/1710627,I41cc1fd0fdeae0757a2c4e3e310ec6375da0b8cf,Skydive: allow access to netns for skydive agents,MERGED,2017-08-04 15:58:33.000000000,2017-08-21 08:19:50.000000000,2017-08-21 08:19:50.000000000,7,0,8,490957,dff4c6b328d165bf8c18b57965b90467669c6aa5,26,5,5,4,2888,Mathieu Rohon,mathieu-rohon,"Skydive: allow access to netns for skydive agents

This access is now mandatory for skydive.
It allows to add netns info to the topology, and to
attach interfaces to their netns if needed.

Closes-Bug: #1710627
Change-Id: I41cc1fd0fdeae0757a2c4e3e310ec6375da0b8cf
"
openstack%2Fkolla-ansible~master~I474c4d20c407717c6da973383bbbd5539be480f1,openstack/kolla-ansible,master,test-fluentd,I474c4d20c407717c6da973383bbbd5539be480f1,Update fluentd config for rpm distros,MERGED,2017-07-11 11:55:24.000000000,2017-08-21 08:11:45.000000000,2017-08-21 08:11:45.000000000,37,30,8,482528,1d5bd219762a218d609d6a7161d717e61b37d789,98,9,13,4,19316,Eduardo Gonzalez,egonzalez90,"Update fluentd config for rpm distros

Fluentd repo/packages are changed in depends changes below.
Rpm distros need changes in their config for properly
start and deploy fluentd containers.

Change-Id: I474c4d20c407717c6da973383bbbd5539be480f1
Depends-On: I4802618373cfa53d67d1dfe65be7abe1950b3d04
"
openstack%2Fkolla-ansible~master~Ic3b994056e6287488a0a9f7dbeb140c007ad86d3,openstack/kolla-ansible,master,a5,Ic3b994056e6287488a0a9f7dbeb140c007ad86d3,Add panko log in fluentd,MERGED,2017-08-02 03:31:56.000000000,2017-08-21 08:06:53.000000000,2017-08-21 08:06:53.000000000,8,1,2,489845,46b1b91607f35135d344d668cb77321b359e9cac,16,3,3,2,11869,zhubingbing,zhubingbing,"Add panko log in fluentd

Change-Id: Ic3b994056e6287488a0a9f7dbeb140c007ad86d3
"
openstack%2Foslo.db~master~If76115f706e9e100a1780471af0f9c5d92d3bc9f,openstack/oslo.db,master,modify_six,If76115f706e9e100a1780471af0f9c5d92d3bc9f,Replace six.iteritems() with .items(),MERGED,2017-07-19 06:15:44.000000000,2017-08-21 08:02:19.000000000,2017-08-21 08:02:19.000000000,4,5,0,485055,3ef34da36ccfe34ed0d2d572d2aa6b6a515b18a2,7,3,1,2,25388,liuyamin,liuyamin,"Replace six.iteritems() with .items()

1.As mentioned in [1], we should avoid using six.iteritems to achieve iterators.
We can use dict.items instead, as it will return iterators in PY3 as well.
And dict.items/keys will more readable.
2.In py2, the performance about list should be negligible, see the link [2].

[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: If76115f706e9e100a1780471af0f9c5d92d3bc9f
"
openstack%2Fproject-config~master~I076a8b392cc1a83a0a9eb859689752283c7e695e,openstack/project-config,master,,I076a8b392cc1a83a0a9eb859689752283c7e695e,Add networking-sfc to Dragonflow's tempest job,MERGED,2017-08-15 16:47:12.000000000,2017-08-21 07:56:30.000000000,2017-08-21 07:56:30.000000000,4,1,0,493950,66652a8aa43c2d9928a77865675c72cbf51354c5,9,5,1,1,23766,Dima Kuznetsov,dimak,"Add networking-sfc to Dragonflow's tempest job

Change-Id: I076a8b392cc1a83a0a9eb859689752283c7e695e
"
openstack%2Fproject-config~master~I72c4e061ec6807883dbf7a187c40263bf7244fab,openstack/project-config,master,split-coe,I72c4e061ec6807883dbf7a187c40263bf7244fab,Split COE scenarios: 1 for each COE,MERGED,2017-08-16 16:58:41.000000000,2017-08-21 07:54:40.000000000,2017-08-21 07:54:40.000000000,18,2,1,494272,64a25fa8fbfbe4e04da21603ec882f6448372a8f,23,6,4,2,6159,Flavio Percoco Premoli,flaper87,"Split COE scenarios: 1 for each COE

Instead of hacking 1 scenario for all the supported COEs, we'll have a
scenario per COE to be able to have more specific configurations.

Change-Id: I72c4e061ec6807883dbf7a187c40263bf7244fab
"
openstack%2Fneutron-fwaas~master~I6f4c65b26576d6057bc5db5a9a540768cc78d3fa,openstack/neutron-fwaas,master,fwaas-lib,I6f4c65b26576d6057bc5db5a9a540768cc78d3fa,Use neutron-lib definition of neutron-fwaas API,ABANDONED,2017-01-17 19:50:43.000000000,2017-08-21 07:41:14.000000000,,365,1214,14,421472,fb09c76bc366ffd7dcbacfa94d3cee2118677a52,70,10,29,19,13995,Nate Johnston,natejohnston,"Use neutron-lib definition of neutron-fwaas API

As a part of the neutron stadium, the neutron-fwaas project should shift
to use the neutron-fwaas API definitions in neutron-lib.  This makes
that change happen.

Co-Authored-By: Reedip <reedip14@gmail.com>
Change-Id: I6faf26d263788d21da078e570487ee4876d04efd
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Fpike~I8f838ecce118cb36081b98f483ddef465ddbae3f,openstack/openstack-ansible-os_keystone,stable/pike,bug/1695827,I8f838ecce118cb36081b98f483ddef465ddbae3f,Add extra headers for Keystone,MERGED,2017-08-18 14:47:22.000000000,2017-08-21 07:38:20.000000000,2017-08-21 07:38:20.000000000,32,0,0,495330,8fd7b162fc83ac4f4391b8406c802a38d74f7a9a,10,3,1,3,538,Major Hayden,rackerhacker,"Add extra headers for Keystone

This patch allows deployers to add arbitrary headers to Keystone
responses. This can be handy for CORS or for passing certain
headers through nginx to the requester.

Closes-Bug: 1695827
Change-Id: I8f838ecce118cb36081b98f483ddef465ddbae3f
(cherry picked from commit 08f879649b3b0e58ae218580eee0261521050b4e)
"
openstack%2Fpython-muranoclient~master~Ib68c1dbcf2119aee1c4ea9562e6f89883139e5bf,openstack/python-muranoclient,master,openstack/requirements,Ib68c1dbcf2119aee1c4ea9562e6f89883139e5bf,Updated from global requirements,MERGED,2017-08-18 11:41:51.000000000,2017-08-21 07:37:35.000000000,2017-08-21 07:37:35.000000000,1,1,0,495267,8cff957d517c1f1f85b7cc449c0cd77eeb88968b,9,5,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Ib68c1dbcf2119aee1c4ea9562e6f89883139e5bf
"
openstack%2Fnova~stable%2Fnewton~Ib90bc7571aef59325be0efe123fcf12e86252b85,openstack/nova,stable/newton,bug/1651887,Ib90bc7571aef59325be0efe123fcf12e86252b85,Parse algorithm from cipher for ephemeral disk encryption,MERGED,2017-05-19 06:13:24.000000000,2017-08-21 07:34:54.000000000,2017-08-21 07:34:54.000000000,43,4,1,466196,c589b76e13f54f8c0d753b1d2c4d4c2ef3399359,85,15,4,3,1916,Guang Yee,guang-yee,"Parse algorithm from cipher for ephemeral disk encryption

Nova's keymgr implementation used to have default values
for the algorithm and bit length.  Castellan does not have
default values, and when Castellan replaced keymgr in
Ib563b0ea4b8b4bc1833bf52bf49a68546c384996, the parameters
to the create_key method were not updated. This change
parses the algorithm from the cipher value and passes it
to Castellan's key manager interface.

Conflicts:
      nova/conf/ephemeral_storage.py

NOTE(mriedem): The conflicts are due to not having
Ic8ea9b0852d5b6f5d8a468fe0a03d21e220a8913 in newton, which
was a refactor/cleanup change in ocata. It's just preserved
here for readability.

Closes-Bug: #1651887
Change-Id: Ib90bc7571aef59325be0efe123fcf12e86252b85
(cherry picked from commit 1d3acad111c5106592b0921628480fcf41e0fb4c)
(cherry picked from commit fcc931f4017ab4bb830ff645431edaa8a18bf880)
"
openstack%2Fproject-config~master~I3dc64a27b0ae8f7408c11f8486f43381054b20ed,openstack/project-config,master,goal-split-tempest-plugins,I3dc64a27b0ae8f7408c11f8486f43381054b20ed,Add splitted multinode job to watcher-tempest-plugin,MERGED,2017-08-18 12:27:43.000000000,2017-08-21 07:33:06.000000000,2017-08-21 07:33:06.000000000,1,0,0,495289,a9d07cbe6c61c0649cd498964b68fa1be24c425e,7,3,1,1,19055,Alexander Chadin,joker946,"Add splitted multinode job to watcher-tempest-plugin

Since splitted job for watcher-tempest-plugin now works good
on watcher side[1], this job can be added to watcher-tempest-plugin.

[1]: http://logs.openstack.org/72/494472/1/check/gate-watcher-dsvm-multinode-split-ubuntu-xenial-nv/770f3ba/console.html#_2017-08-18_11_45_00_735077

Change-Id: I3dc64a27b0ae8f7408c11f8486f43381054b20ed
"
openstack%2Fproject-config~master~I92f04326c91f3b93c5589bfd4702e8f33ee77ee6,openstack/project-config,master,scenario007/oooq,I92f04326c91f3b93c5589bfd4702e8f33ee77ee6,Fix layout for tripleo scenario007,MERGED,2017-08-19 07:16:20.000000000,2017-08-21 07:29:19.000000000,2017-08-21 07:29:19.000000000,2,2,0,495493,dc1c0a32327706f27310589aca6198df64a957f9,7,3,1,1,3153,Emilien Macchi,emilienm,"Fix layout for tripleo scenario007

It fix the regex to find jobs for scenario007 and run the right ones
depending on which files we're trying to modify.

Change-Id: I92f04326c91f3b93c5589bfd4702e8f33ee77ee6
"
openstack%2Fnova~stable%2Fnewton~Ibd03d0406744d2a4cff689c722a2330ea0c8de18,openstack/nova,stable/newton,openstack/requirements,Ibd03d0406744d2a4cff689c722a2330ea0c8de18,Updated from global requirements,MERGED,2017-07-15 14:49:53.000000000,2017-08-21 07:27:39.000000000,2017-08-21 07:27:39.000000000,1,1,0,484141,1255f6964c697a3c491f7eb6f6136de65a8fc947,28,6,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Ibd03d0406744d2a4cff689c722a2330ea0c8de18
"
openstack%2Fproject-config~master~I358e0bad6111f1fa5cc279d9fe7358f5ce9d46a0,openstack/project-config,master,,I358e0bad6111f1fa5cc279d9fe7358f5ce9d46a0,enable qos in congress dsvm job,MERGED,2017-08-17 01:40:51.000000000,2017-08-21 07:24:34.000000000,2017-08-21 07:24:34.000000000,2,1,0,494350,837e7ec5584361aeafeef6afc39574f944a6f346,9,4,1,1,18591,Eric Kao,ekcs,"enable qos in congress dsvm job

Change-Id: I358e0bad6111f1fa5cc279d9fe7358f5ce9d46a0
"
openstack%2Fneutron-fwaas~master~I9d2f34dc1f8848142d0aecb54151f2c1a1d66fe9,openstack/neutron-fwaas,master,bug/1623099,I9d2f34dc1f8848142d0aecb54151f2c1a1d66fe9,Add firewall_policy_id in FWaaS v2,MERGED,2016-09-15 12:00:38.000000000,2017-08-21 07:22:20.000000000,2017-08-21 07:22:20.000000000,10,3,0,370731,55fed400b0511132b352b9a1fa0d2f55fc1bcbb8,35,8,8,2,17776,Reedip,Reedip,"Add firewall_policy_id in FWaaS v2

Currently, Firewall Policy ID is not reflected
while creating firewall rules.

This patch allows the same.

Change-Id: I9d2f34dc1f8848142d0aecb54151f2c1a1d66fe9
Closes-Bug: #1623099
"
openstack%2Fblazar~master~I89d358e35e57edbff1d841df96ce705455b1cd11,openstack/blazar,master,bug/1711076,I89d358e35e57edbff1d841df96ce705455b1cd11,Allow duplicate lease names,MERGED,2017-08-16 08:58:54.000000000,2017-08-21 07:20:54.000000000,2017-08-21 07:20:54.000000000,42,4,0,494137,3018e70d34f1a6b56e0f1dbb0dc67b5e6cc76156,10,4,2,2,15197,Pierre Riteau,priteau,"Allow duplicate lease names

A unique constraint currently restricts two leases from having the same
name, even if they belong to different projects.

This patch removes this constraint in order to allow duplicate lease
names, even within the same project, to match the behavior of Nova with
instances and Glance with images.

Change-Id: I89d358e35e57edbff1d841df96ce705455b1cd11
Closes-Bug: #1711076
"
openstack%2Fblazar~master~If0ee6efcd30dc56dfd78fbfe566517a8d8aa6ba7,openstack/blazar,master,bug/1709103,If0ee6efcd30dc56dfd78fbfe566517a8d8aa6ba7,Set user_id when creating leases,MERGED,2017-08-16 08:31:50.000000000,2017-08-21 07:17:39.000000000,2017-08-21 07:17:39.000000000,8,1,0,494113,9f832e13fbf83919f5ef95f37d984ebbb53de910,8,4,1,2,15197,Pierre Riteau,priteau,"Set user_id when creating leases

The user_id field in leases is set from ctx.user_id, which is always
None because it is not defined in trusts.create_ctx_from_trust().
Nevertheless, we cannot use this value since we are in the trustee
context, which is the blazar user.

This patch modifies the API handler so that the real user_id is included
in the lease_values dict passed to create_lease(). Ideally, the context
would be extended to include a field referring to the trustor user.

Change-Id: If0ee6efcd30dc56dfd78fbfe566517a8d8aa6ba7
Closes-Bug: #1709103
"
openstack%2Fcinder~master~I34a6c1639cea129fecbc3ea9ddde8c581b84ae56,openstack/cinder,master,fix_return_value,I34a6c1639cea129fecbc3ea9ddde8c581b84ae56,[Api-ref] fix response status,ABANDONED,2017-07-20 01:17:30.000000000,2017-08-21 07:16:08.000000000,,3,2,0,485389,333d73f3d060e18fecc76c0e581babc5e56c8893,27,24,1,2,25388,liuyamin,liuyamin,"[Api-ref] fix response status

In the API reference, the backup-actions's status is not correct, This
change to fix them.

Change-Id: I34a6c1639cea129fecbc3ea9ddde8c581b84ae56
"
openstack%2Fmistral~master~Ia0b23481e1bd856e873eb52e0d1a11faa3bdf850,openstack/mistral,master,modify_url,Ia0b23481e1bd856e873eb52e0d1a11faa3bdf850,Update URL in /doc/source/install,ABANDONED,2017-07-17 10:06:05.000000000,2017-08-21 07:15:24.000000000,,1,1,1,484313,23b548a763ab17c398da12df60b5fec219a22687,12,6,2,1,25388,liuyamin,liuyamin,"Update URL in /doc/source/install

The URL <https://docs.openstack.org/developer/horizon/quickstart.html#setup.>
is out of date, but we can still access it, this change is to replace the
vanity URL with the real one.

Change-Id: Ia0b23481e1bd856e873eb52e0d1a11faa3bdf850
"
openstack%2Ftacker~master~I33836feef02c7996b46505c79369e78b7057741d,openstack/tacker,master,,I33836feef02c7996b46505c79369e78b7057741d,Fix broken link to tacker_nfv_defs in docs,MERGED,2017-08-17 12:52:00.000000000,2017-08-21 07:13:52.000000000,2017-08-21 07:13:52.000000000,2,2,0,494527,0edbad25d0d0c64a5867a20d005403a38f84dddb,11,6,1,1,19316,Eduardo Gonzalez,egonzalez90,"Fix broken link to tacker_nfv_defs in docs

Link to tacker_nfv_defs does not exist
Wrong link: https://github.com/openstack/tacker/blob/master/tacker/vnfm/tosca/lib/tacker_nfv_defs.yaml
Correct link: https://github.com/openstack/tacker/blob/master/tacker/tosca/lib/tacker_nfv_defs.yaml

Change-Id: I33836feef02c7996b46505c79369e78b7057741d
"
openstack%2Foslo.messaging~master~If8ec99fc641cd3cd337353a6085dcd3f834b450c,openstack/oslo.messaging,master,remove_log_transaction,If8ec99fc641cd3cd337353a6085dcd3f834b450c,Remove log translations,ABANDONED,2017-08-17 10:04:30.000000000,2017-08-21 07:13:29.000000000,,164,221,0,494463,f55678c5bc17cb8df57d35c1586d71635d26a13b,3,2,1,39,25388,liuyamin,liuyamin,"Remove log translations

Log messages are no longer being translated. This removes all use of
the _LE, _LI, and _LW translation markers to simplify logging and to
avoid confusion with new contributions.

See:
http://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html
http://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html

Change-Id: If8ec99fc641cd3cd337353a6085dcd3f834b450c
"
openstack%2Fmurano-dashboard~master~I6a0a3151e7ffe8f7110d82c0404c86f8becb55bc,openstack/murano-dashboard,master,openstack/requirements,I6a0a3151e7ffe8f7110d82c0404c86f8becb55bc,Updated from global requirements,MERGED,2017-08-18 11:33:13.000000000,2017-08-21 07:11:07.000000000,2017-08-21 07:11:07.000000000,1,1,0,495193,2da498fd44caa6ab730b277ab1fa1dec4f1bb283,8,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I6a0a3151e7ffe8f7110d82c0404c86f8becb55bc
"
openstack%2Fcinder~master~Ia81b9616b68e28ce9e49c3b9f009371e35ce1277,openstack/cinder,master,bp/cinder-object-fields,Ia81b9616b68e28ce9e49c3b9f009371e35ce1277,Use QoSConsumerValues enum field,ABANDONED,2017-07-03 07:15:44.000000000,2017-08-21 07:09:48.000000000,,125,72,2,479674,7b0c62cea9af270623827f5eeb3aff6ea4d83d0b,180,44,10,21,25388,liuyamin,liuyamin,"Use QoSConsumerValues enum field

The QosConsumerValues and QoSConsumerField has been defined already,
this change just replace the consumer value with QoSConsumerValues enum
field.

Change-Id: Ia81b9616b68e28ce9e49c3b9f009371e35ce1277
Partial-Implements: bp cinder-object-fields
"
openstack%2Fmurano-agent~master~I36d07dadbb4729bbd23dde41e1160d49fe247ed1,openstack/murano-agent,master,openstack/requirements,I36d07dadbb4729bbd23dde41e1160d49fe247ed1,Updated from global requirements,MERGED,2017-08-18 11:33:10.000000000,2017-08-21 07:05:27.000000000,2017-08-21 07:05:26.000000000,1,1,0,495191,d34ccefd961c5d0436c80957bb4a533850325921,9,5,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I36d07dadbb4729bbd23dde41e1160d49fe247ed1
"
openstack%2Fmurano-pkg-check~master~Ic3a144052092d73a8172e7852f096555aa332a8c,openstack/murano-pkg-check,master,openstack/requirements,Ic3a144052092d73a8172e7852f096555aa332a8c,Updated from global requirements,MERGED,2017-08-18 11:33:16.000000000,2017-08-21 07:04:15.000000000,2017-08-21 07:04:15.000000000,1,1,0,495194,8d655cb0d43554916b25914334a34fa830c7c84c,8,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Ic3a144052092d73a8172e7852f096555aa332a8c
"
openstack%2Ftempest~master~I839da90a7f7b5015765a6a67737304ef3109c7c3,openstack/tempest,master,remove-AdminManager,I839da90a7f7b5015765a6a67737304ef3109c7c3,Remove usage of credentials_factory.AdminManager,MERGED,2017-08-08 07:24:36.000000000,2017-08-21 06:55:33.000000000,2017-08-21 06:55:33.000000000,11,5,1,491698,009a1f6c0a4d1af383364e806cbba68c553f8077,14,3,1,3,8556,Ghanshyam,ghanshyam,"Remove usage of credentials_factory.AdminManager

We are going to make credentials_factory as stable interfa
and will be removing the AdminManager class which is wrapper
of creating client manager wirth admin cred.

admin manager can be instantiated by providing the admin cred
to clients.Manager.

This commit removes the usage of AdminManager.

Change-Id: I839da90a7f7b5015765a6a67737304ef3109c7c3
"
openstack%2Fneutron-fwaas~master~I417b2d853a257f141c6c6355becf043fbdddc400,openstack/neutron-fwaas,master,,I417b2d853a257f141c6c6355becf043fbdddc400,Update links in README,ABANDONED,2017-08-19 11:30:01.000000000,2017-08-21 06:49:54.000000000,,2,2,0,495503,a30ee522dc730a4cf7a696754eff199c22ef89a5,6,3,1,1,23314,lidong,lidong,"Update links in README

Change the outdated links to the latest links in README

Change-Id: I417b2d853a257f141c6c6355becf043fbdddc400
"
openstack%2Foslo.messaging~master~Ida4133ebeb4cc0cbfbd0e8ee62a52236dc4a0256,openstack/oslo.messaging,master,openstack/requirements,Ida4133ebeb4cc0cbfbd0e8ee62a52236dc4a0256,Updated from global requirements,MERGED,2017-08-18 04:50:10.000000000,2017-08-21 06:42:38.000000000,2017-08-21 06:42:38.000000000,3,3,0,494876,38d8bdcd19d933c892b3670ef73a3fc5d67386a1,12,2,2,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Ida4133ebeb4cc0cbfbd0e8ee62a52236dc4a0256
"
openstack%2Fglance~master~I16acc18e6758785365b48a514828f8fd3a92b94f,openstack/glance,master,enable_lazy,I16acc18e6758785365b48a514828f8fd3a92b94f,Add enable_lazy() in glance,ABANDONED,2017-06-20 07:55:27.000000000,2017-08-21 06:29:04.000000000,,7,0,0,475691,8e0ad1b449a7b45881789b0c17342ea3f112f214,10,3,2,3,25388,liuyamin,liuyamin,"Add enable_lazy() in glance

Add i18n.enable_lazy() in glance/common/wsgi.py and
glance/tests/unit/common/test_wsgi.py.

Change-Id: I16acc18e6758785365b48a514828f8fd3a92b94f
"
openstack%2Fmonasca-api~master~Iefb5391ccd79ad2aebe1e59f68361bfdc00c6c39,openstack/monasca-api,master,openstack/requirements,Iefb5391ccd79ad2aebe1e59f68361bfdc00c6c39,Updated from global requirements,MERGED,2017-08-18 11:32:46.000000000,2017-08-21 05:52:17.000000000,2017-08-21 05:52:17.000000000,1,1,0,495188,20d701d97c80e6a45b0d2c9d5452ed9dd9c8ff77,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Iefb5391ccd79ad2aebe1e59f68361bfdc00c6c39
"
openstack%2Fmonasca-log-api~master~I1d30336b39dbd1e790cf48457c4f9a005f719f26,openstack/monasca-log-api,master,openstack/requirements,I1d30336b39dbd1e790cf48457c4f9a005f719f26,Updated from global requirements,MERGED,2017-08-18 11:32:51.000000000,2017-08-21 05:51:32.000000000,2017-08-21 05:51:32.000000000,1,1,0,495189,5e922485abcd9b5b6b45f020ab50cf83b4a15bf7,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I1d30336b39dbd1e790cf48457c4f9a005f719f26
"
openstack%2Fironic~master~Ie945a2d5b3d5bba8e93cbaa3d165e15b4c2cd4b3,openstack/ironic,master,bug/1696615,Ie945a2d5b3d5bba8e93cbaa3d165e15b4c2cd4b3,remove vif_port_id when tear down a node,ABANDONED,2017-06-10 00:51:33.000000000,2017-08-21 05:35:59.000000000,,43,7,0,472870,2dc7ba92c596b75f6f246b3f16627dbfbf4ed13d,23,6,6,5,25675,yuan liang,leetpy,"remove vif_port_id when tear down a node

when we tear down a node, vif_port_id may
left in a port or a portgroup.

when deploying error, provisioning_vif_port_id and
cleaning_vif_port_id may left in a port or a
portgroup. we sholud also remove it when tearing down
a ironic node.

Change-Id: Ie945a2d5b3d5bba8e93cbaa3d165e15b4c2cd4b3
"
openstack%2Fnova~stable%2Fnewton~I27d3241300f75e2aa79a32348a3843e09123cb10,openstack/nova,stable/newton,bug/1693576,I27d3241300f75e2aa79a32348a3843e09123cb10,Handle conflict from neutron when addFloatingIP fails,MERGED,2017-05-31 22:16:04.000000000,2017-08-21 05:24:15.000000000,2017-08-21 05:24:14.000000000,45,1,0,469672,76d59ebcb9ace58d9364877da25f1aa66fb759d8,21,5,1,4,6873,Matt Riedemann,mriedem,"Handle conflict from neutron when addFloatingIP fails

Neutron can raise a Conflict exception when attempting
to associate a floating IP to a server when the fixed
address is already associated to another floating IP.
This has always resulted in a 400 response, however, it
would also trace an ERROR in the nova-api logs, which is
something we shouldn't be doing for an expected type of
failure.

This handles the Conflict in the neutronv2 API client code
and re-raises an exception that the REST API controller code
can handle and return as a 400 without the stacktrace in the
logs.

Conflicts:
      nova/tests/unit/network/test_neutronv2.py

NOTE(mriedem): The conflict is due to not having change
I740c49111bc8e5e76a2fe42b35e8d6c9267e04a2 in Newton.

Change-Id: I27d3241300f75e2aa79a32348a3843e09123cb10
Closes-Bug: #1693576
(cherry picked from commit 452f21183f2f80cc5673ebd3fd3e5daf039caacc)
(cherry picked from commit cea9f71634a161dc58a0c9a43d44a6e9d12ddc4c)
"
openstack%2Fmonasca-agent~master~I98e9a928179d22373c658894a82d64df9dc7d043,openstack/monasca-agent,master,libvirt_conf,I98e9a928179d22373c658894a82d64df9dc7d043,Change template/example of Libvirt config file,MERGED,2017-08-01 05:39:04.000000000,2017-08-21 05:23:00.000000000,2017-08-21 05:23:00.000000000,35,4,27,489471,2e5c6475e78494ca6b71db85f9a5d0fbf0cfbb08,36,8,9,2,17981,Haruki Yamanashi,Haruki,"Change template/example of Libvirt config file

Some of parameters which can be configured for Libvirt monitoring are
missing from the template file and example of documentation.
This commit adds the parameter examples.

Change-Id: I98e9a928179d22373c658894a82d64df9dc7d043
Story: 2001137
Task: 4853
"
