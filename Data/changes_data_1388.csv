id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fnova~master~Ia62ce7026cfa59cfc7ab457fbb246496c8f58c10,openstack/nova,master,imagecache-warning,Ia62ce7026cfa59cfc7ab457fbb246496c8f58c10,maint: libvirt imagecache: remove redundant interpreter spec,MERGED,2012-07-29 00:36:36.000000000,2012-07-30 02:33:06.000000000,2012-07-30 02:33:05.000000000,0,3,0,10477,8680fd9aea983c0b10c36dc970d6ba60c6dcf842,8,5,1,3,1812,p-draigbrady,p-draigbrady,"maint: libvirt imagecache: remove redundant interpreter spec

This causes ""non-executable-script"" warnings in rpmlint at least.

Change-Id: Ia62ce7026cfa59cfc7ab457fbb246496c8f58c10
"
openstack%2Fswift~milestone-proposed~I26337e4c2d755fe9af9bd148e89146dcc4b0f021,openstack/swift,milestone-proposed,update_changelog,I26337e4c2d755fe9af9bd148e89146dcc4b0f021,updated changelog with patch from review,MERGED,2012-07-30 01:53:27.000000000,2012-07-30 02:18:20.000000000,2012-07-30 02:18:20.000000000,4,0,0,10512,4189bd966e1c08562344c18d13d1c4a52e17bdbd,9,2,3,1,330,John Dickinson,notmyname,"updated changelog with patch from review

Change-Id: I26337e4c2d755fe9af9bd148e89146dcc4b0f021
"
openstack%2Fswift~master~Ib2d54da92a3f7e7325998e3e52f562a1bf538c28,openstack/swift,master,update_changelog_master,Ib2d54da92a3f7e7325998e3e52f562a1bf538c28,updated changelog with patch from review,MERGED,2012-07-30 01:55:29.000000000,2012-07-30 02:18:18.000000000,2012-07-30 02:18:18.000000000,4,0,0,10513,ceaf7606fe25f77cf31deb2946a16ae7a6fec05c,7,2,2,1,330,John Dickinson,notmyname,"updated changelog with patch from review

Change-Id: Ib2d54da92a3f7e7325998e3e52f562a1bf538c28
"
openstack%2Fopenstack-manuals~master~I4ccd8838093aa2d9c51925135705fe673790daaa,openstack/openstack-manuals,master,bug/1026617,I4ccd8838093aa2d9c51925135705fe673790daaa,Bug 1026617: expand introduction to block storage options,MERGED,2012-07-29 04:42:51.000000000,2012-07-30 02:04:56.000000000,2012-07-30 02:04:56.000000000,78,5,2,10483,0068de72be89fe0bf6eb7dbf1e2c82016a4e89a8,9,4,3,1,4625,Jonathan Proulx,jproulx,"Bug 1026617: expand introduction to block storage options

An expanded discussion of ephemeral storage and volume storage
as a partial fix to bug 1026617

Change-Id: I4ccd8838093aa2d9c51925135705fe673790daaa
"
openstack%2Fopenstack-manuals~master~Ic7e8a31277567906e8d37206cd4f3c263803b555,openstack/openstack-manuals,master,bug/754900,Ic7e8a31277567906e8d37206cd4f3c263803b555,Remove warning for fixed nova-manage network delete bug.,MERGED,2012-07-30 00:20:14.000000000,2012-07-30 02:03:30.000000000,2012-07-30 02:03:30.000000000,0,11,0,10504,c9dfc2beae06d3b79ef13c028002ed4451576377,3,2,1,1,321,Lorin Hochstein,lorinh,"Remove warning for fixed nova-manage network delete bug.

Bug #754900 was fixed in Folsom, warning is no longer necessary.

Change-Id: Ic7e8a31277567906e8d37206cd4f3c263803b555
"
openstack%2Fswift~master~I189629b148570115c1dc4e7e9a945a63a27aaa95,openstack/swift,master,update_changelog,I189629b148570115c1dc4e7e9a945a63a27aaa95,updated changelog with patch found in review,ABANDONED,2012-07-30 01:49:02.000000000,2012-07-30 01:50:12.000000000,,4,0,0,10511,83569711a8d8234394095f7d9b46ac6710deb787,1,0,1,1,330,John Dickinson,notmyname,"updated changelog with patch found in review

Change-Id: I189629b148570115c1dc4e7e9a945a63a27aaa95
"
openstack%2Fnova~master~I2403567a2feadc6e7ae11c92b4a86313bd967b88,openstack/nova,master,whitespace-1,I2403567a2feadc6e7ae11c92b4a86313bd967b88,Simple whitespace fixes in nova/compute/manager.py,ABANDONED,2012-07-30 00:38:18.000000000,2012-07-30 01:43:37.000000000,,80,97,0,10506,13c89890f3b8cd4f2118cab74d1531686e67dfa8,5,4,1,1,2271,Michael Still,mikalstill,"Simple whitespace fixes in nova/compute/manager.py

Just some simple whitespace tweaks. No functional changes.

Change-Id: I2403567a2feadc6e7ae11c92b4a86313bd967b88
"
openstack%2Fswift~milestone-proposed~I67af14b5c3d70f313922828a588ed239c620cdfa,openstack/swift,milestone-proposed,milestone-proposed,I67af14b5c3d70f313922828a588ed239c620cdfa,Logging improvements: handoffs and thread locals,MERGED,2012-07-30 00:52:34.000000000,2012-07-30 01:43:06.000000000,2012-07-30 01:43:06.000000000,89,9,0,10508,1d25f9902dd38f7181baad2fd6ec15dac843b083,7,3,1,6,1216,gholt,gholt,"Logging improvements: handoffs and thread locals

A warning log line is emitted whenever the proxy has to use a handoff
node. Monitoring these warnings can indicate a problem within your
cluster; however, you can disable these log lines by setting the
proxy conf's log_handoffs to false.

While working on this, I also noticed why many proxy log lines did
not have txn_id and client_ip -- subcoroutines. Now the logger thread
locals are copied to the subcoroutines.

Change-Id: I67af14b5c3d70f313922828a588ed239c620cdfa
"
openstack%2Fswift~master~Ibac086e1b985f566c068d083620287509de35da8,openstack/swift,master,loghandoffs,Ibac086e1b985f566c068d083620287509de35da8,Logging improvements: handoffs and thread locals,MERGED,2012-07-29 17:50:15.000000000,2012-07-30 01:40:54.000000000,2012-07-30 01:40:54.000000000,89,9,1,10492,a1a4d35362bda35112e7e41da70952ddf032f93a,13,4,3,6,1216,gholt,gholt,"Logging improvements: handoffs and thread locals

A warning log line is emitted whenever the proxy has to use a handoff
node. Monitoring these warnings can indicate a problem within your
cluster; however, you can disable these log lines by setting the
proxy conf's log_handoffs to false.

While working on this, I also noticed why many proxy log lines did
not have txn_id and client_ip -- subcoroutines. Now the logger thread
locals are copied to the subcoroutines.

Change-Id: Ibac086e1b985f566c068d083620287509de35da8
"
openstack%2Fopenstack-manuals~stable%2Fessex~Ib5a991ceb69945f4a6b520459c719a9c3efa77f4,openstack/openstack-manuals,stable/essex,bug/953137,Ib5a991ceb69945f4a6b520459c719a9c3efa77f4,Cherry-pick and rebase commits adding EC2-API section,MERGED,2012-07-30 00:09:15.000000000,2012-07-30 01:37:53.000000000,2012-07-30 01:37:52.000000000,25,9,0,10503,044b70cb94d87bd35ace524dd36d0e70b1c4a9c3,3,2,1,3,4625,Jonathan Proulx,jproulx,"Cherry-pick and rebase commits adding EC2-API section

move all ec2-api related options to nova-ec2-nova-conf.xml
https://review.openstack.org/#/c/10469/

Change-Id: Ia054fc1baa30f391ecd15100b2e251ace00d6c98

clarify action of ec2_private_dns_show_ip when false
https://review.openstack.org/#/c/10470/

Change-Id: Idacfe4e475345dda40576a7409e2a4993bb0d4d2

Fix Bug 953137 add section: Configuring the EC2 API
https://review.openstack.org/#/c/10471/

Change-Id: Ib5a991ceb69945f4a6b520459c719a9c3efa77f4
"
openstack%2Fswift~milestone-proposed~I7e5e254660e2ce35bc7fa95435db0a987d5acd0a,openstack/swift,milestone-proposed,milestone-proposed,I7e5e254660e2ce35bc7fa95435db0a987d5acd0a,Fixed bug in staticweb with log_headers,MERGED,2012-07-29 18:25:14.000000000,2012-07-30 01:26:27.000000000,2012-07-30 01:26:27.000000000,35,2,0,10496,9fd70e83f6e902d66751ccf7fbca2bb3a036fcaf,7,3,1,2,1216,gholt,gholt,"Fixed bug in staticweb with log_headers

Change-Id: I7e5e254660e2ce35bc7fa95435db0a987d5acd0a
"
openstack%2Fswift~master~I7e5e254660e2ce35bc7fa95435db0a987d5acd0a,openstack/swift,master,staticweblogheaders,I7e5e254660e2ce35bc7fa95435db0a987d5acd0a,Fixed bug in staticweb with log_headers,MERGED,2012-07-29 18:21:08.000000000,2012-07-30 01:25:17.000000000,2012-07-30 01:25:17.000000000,35,2,0,10495,3800fdc1a97efd796593441f4ba20d62906a0c26,6,3,1,2,1216,gholt,gholt,"Fixed bug in staticweb with log_headers

Change-Id: I7e5e254660e2ce35bc7fa95435db0a987d5acd0a
"
openstack%2Fswift~milestone-proposed~Ibac086e1b985f566c068d083620287509de35da8,openstack/swift,milestone-proposed,mp,Ibac086e1b985f566c068d083620287509de35da8,Logging improvements: handoffs and thread locals,ABANDONED,2012-07-29 17:57:19.000000000,2012-07-30 00:49:04.000000000,,86,9,0,10493,b58418940dd964ee4753ea444aa48077737ba518,4,2,2,6,1216,gholt,gholt,"Logging improvements: handoffs and thread locals

A warning log line is emitted whenever the proxy has to use a handoff
node. Monitoring these warnings can indicate a problem within your
cluster; however, you can disable these log lines by setting the
proxy conf's log_handoffs to false.

While working on this, I also noticed why many proxy log lines did
not have txn_id and client_ip -- subcoroutines. Now the logger thread
locals are copied to the subcoroutines.

Change-Id: Ibac086e1b985f566c068d083620287509de35da8
"
openstack%2Foslo-incubator~master~I7742cd9796568bf5c02e365faddd2e6f93288bb4,openstack/oslo-incubator,master,locks,I7742cd9796568bf5c02e365faddd2e6f93288bb4,Copy locking utils from nova for service.py,ABANDONED,2012-07-30 00:48:49.000000000,2012-07-30 00:48:49.000000000,,530,0,0,10397,752fd317f2728509b22ebd6a66bf29fd17527cd0,11,3,4,4,4715,Angus Salkeld,asalkeld,"Copy locking utils from nova for service.py

This is needed by service.py which will soon also
be moved into openstack-common

Change-Id: I7742cd9796568bf5c02e365faddd2e6f93288bb4
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fnova~master~I56cb175a968e33b803dfcb965f90f3a5ca4983ca,openstack/nova,master,bug/1012443,I56cb175a968e33b803dfcb965f90f3a5ca4983ca,Support external gateways in VLAN mode.,MERGED,2012-07-28 18:52:23.000000000,2012-07-30 00:33:56.000000000,2012-07-29 23:59:31.000000000,4,2,0,10468,cefb87511c4eae22c46f25da7335b4beb4631c4a,11,6,1,1,1007,Nathanael I Burton,mathrock,"Support external gateways in VLAN mode.

Add network label when starting dnsmasq. Fixes bug 1012443.

To allow for per-network dnsmasq customization we can use the network
label from the database as the dnsmasq network tag. A user can then
specify a custom dnsmasq config file using the 'dnsmasq_config_file'
configuration flag.

An example dnsmasq config file showing how to set a custom external
gateway or ntp server for particular networks based on their tag/label
follows:

dhcp-option=tag:'private',option:router,10.0.0.254
dhcp-option=tag:'private',option:ntp-server,10.0.0.253
dhcp-option=tag:'private',option:dns-server,8.8.8.8

dhcp-option=tag:'blue',option:router,10.10.0.254
dhcp-option=tag:'blue',option:ntp-server,10.10.0.253
dhcp-option=tag:'blue',option:dns-server,8.8.4.4

Change-Id: I56cb175a968e33b803dfcb965f90f3a5ca4983ca
"
openstack%2Fopenstack-manuals~master~Ib5a991ceb69945f4a6b520459c719a9c3efa77f4,openstack/openstack-manuals,master,bug/95313,Ib5a991ceb69945f4a6b520459c719a9c3efa77f4,Fix Bug 953137 add section: Configuring the EC2 API,MERGED,2012-07-28 19:40:09.000000000,2012-07-29 21:50:22.000000000,2012-07-29 21:50:22.000000000,15,0,0,10471,4a8c79d50a055525349a69fa902b206577077a55,5,4,2,1,4625,Jonathan Proulx,jproulx,"Fix Bug 953137 add section: Configuring the EC2 API

Change-Id: Ib5a991ceb69945f4a6b520459c719a9c3efa77f4
"
openstack%2Fopenstack-manuals~master~Idacfe4e475345dda40576a7409e2a4993bb0d4d2,openstack/openstack-manuals,master,bug/95313,Idacfe4e475345dda40576a7409e2a4993bb0d4d2,clarify action of ec2_private_dns_show_ip when false,MERGED,2012-07-28 19:40:08.000000000,2012-07-29 21:45:24.000000000,2012-07-29 21:45:24.000000000,2,1,0,10470,8619a1ddc2043bfba528428a21b7befb234ea13c,4,3,1,1,4625,Jonathan Proulx,jproulx,"clarify action of ec2_private_dns_show_ip when false

Change-Id: Idacfe4e475345dda40576a7409e2a4993bb0d4d2
"
openstack%2Fopenstack-manuals~master~Ia054fc1baa30f391ecd15100b2e251ace00d6c98,openstack/openstack-manuals,master,bug/95313,Ia054fc1baa30f391ecd15100b2e251ace00d6c98,move all ec2-api related options to nova-ec2-nova-conf.xml,MERGED,2012-07-28 19:40:08.000000000,2012-07-29 21:43:48.000000000,2012-07-29 21:43:48.000000000,8,8,0,10469,d65034c128ca4829bb54116505a0217fabbdb41c,4,3,1,2,4625,Jonathan Proulx,jproulx,"move all ec2-api related options to nova-ec2-nova-conf.xml

Change-Id: Ia054fc1baa30f391ecd15100b2e251ace00d6c98
"
openstack%2Fopenstack-manuals~master~I9c9f04956f864780a231a75efc9ee1454201a827,openstack/openstack-manuals,master,bug/1027474,I9c9f04956f864780a231a75efc9ee1454201a827,Add extra state/log vars to sample nova.conf,MERGED,2012-07-28 14:40:57.000000000,2012-07-29 21:33:37.000000000,2012-07-29 21:33:36.000000000,3,0,0,10458,3f7dd174ef513857f208895988100e38a8fa0683,5,3,1,1,612,Tom Fifield,fifieldt,"Add extra state/log vars to sample nova.conf

The sample nova.conf was missing logdir, state_path, lock_path
which was resulting in a poor user experience. Added the values
set to the defaults found in ubuntu.

fixes bug 1027474

Change-Id: I9c9f04956f864780a231a75efc9ee1454201a827
"
openstack%2Fopenstack-manuals~master~I002f6d590b2e0dbff8ab942205d01c2e9cb0e267,openstack/openstack-manuals,master,bug/1023942,I002f6d590b2e0dbff8ab942205d01c2e9cb0e267,Clarify libvirt DHCP networking re unused int'face,MERGED,2012-07-28 14:16:15.000000000,2012-07-29 21:28:51.000000000,2012-07-29 21:28:51.000000000,4,4,0,10457,7a930681debfbc38cf5185c05fcf4b97dd02a801,5,3,1,1,612,Tom Fifield,fifieldt,"Clarify libvirt DHCP networking re unused int'face

fixed bug 1023942

The text contained instructions on using a spare interface for the
flatDHCP networking. There are two ways to do this - specify it as
the flat_interface, or add it to the bridge manually.

This change separates the two to make this clearer.

Change-Id: I002f6d590b2e0dbff8ab942205d01c2e9cb0e267
"
openstack%2Fopenstack-manuals~master~Iecaaca6b373e7e9c70ddcff8749e62d488df7494,openstack/openstack-manuals,master,bug/1028365,Iecaaca6b373e7e9c70ddcff8749e62d488df7494,Adds instructions to install guestmount for QEMU,MERGED,2012-07-28 14:03:16.000000000,2012-07-29 21:13:20.000000000,2012-07-29 21:13:20.000000000,10,0,0,10456,0b863983ae0566213f32d662b3835fa3c4308c0f,5,3,1,1,612,Tom Fifield,fifieldt,"Adds instructions to install guestmount for QEMU

fixes bug 1028365

QEMU requires guestmount to perform some operations. This patch adds
installation instructions for the package under ubuntu at fedora etc

Change-Id: Iecaaca6b373e7e9c70ddcff8749e62d488df7494
"
openstack%2Fopenstack-manuals~master~Ibe1c718a7cd587dc3f43adc0952131da38d11a4a,openstack/openstack-manuals,master,bug/1027945,Ibe1c718a7cd587dc3f43adc0952131da38d11a4a,Fixes a typo with flat_injected flag in nova doc,MERGED,2012-07-28 13:43:17.000000000,2012-07-29 21:05:17.000000000,2012-07-29 02:39:47.000000000,1,1,0,10455,d91e1982d205e0eb5f89bef8e5eed2dff5242e5f,4,2,1,1,612,Tom Fifield,fifieldt,"Fixes a typo with flat_injected flag in nova doc

fixes bug 1027945
The doc used flat_injection instead of flat_injected, casuing
errors for users.

Change-Id: Ibe1c718a7cd587dc3f43adc0952131da38d11a4a
"
openstack%2Fneutron~master~Ieafaf31eaaec2b02727ed5d3bd36c907e50aee5b,openstack/neutron,master,bug/1029313,Ieafaf31eaaec2b02727ed5d3bd36c907e50aee5b,Make quantum pipeline configurable from quantum.conf.,MERGED,2012-07-29 20:53:25.000000000,2012-07-29 20:53:25.000000000,2012-07-29 20:53:25.000000000,32,20,8,10330,ddcc951f08dc24c2fc605b45937a429c2c354e51,22,8,3,4,841,Akihiro Motoki,amotoki,"Make quantum pipeline configurable from quantum.conf.

Fixes bug 1029313.

The current api-paste.ini does not provide a way to choose a pipeline:
there is no way to switching a pipeline between keystone-enabled and
noauth pipelines without modifying the pipeline directly.

This commit introduces 'auth_strategy' flag to quantum.conf and
a pipeline used is determined depending on the flag. Supported values for
this flag are 'keystone' (default) and 'noauth' at the moment.

Change-Id: Ieafaf31eaaec2b02727ed5d3bd36c907e50aee5b
"
openstack%2Fneutron~master~I99130f863928abf30a521e9a2b6d1233a274d9c6,openstack/neutron,master,bug/1030271,I99130f863928abf30a521e9a2b6d1233a274d9c6,Only delete VLAN information after Quantum network is deleted,MERGED,2012-07-29 20:50:31.000000000,2012-07-29 20:50:31.000000000,2012-07-29 20:50:31.000000000,8,5,0,10466,bc3d89c5ab618972641e0afe2f691b6251333374,7,4,1,4,1653,garyk,garyk,"Only delete VLAN information after Quantum network is deleted

Fixes bug 1030271

In the case where a network is deleted and there is a VLAN tag in a
separate table then the tag should only be deleted if the network
is deleted.

Change-Id: I99130f863928abf30a521e9a2b6d1233a274d9c6
"
openstack%2Fopenstack-manuals~stable%2Fessex~Ieea6c5ab13ce3514e508e4ad3799253d348b64d4,openstack/openstack-manuals,stable/essex,bug/1027309,Ieea6c5ab13ce3514e508e4ad3799253d348b64d4,Fix CoreFilter setting to avoid overallocation,MERGED,2012-07-28 20:22:40.000000000,2012-07-29 02:09:49.000000000,2012-07-29 02:09:49.000000000,14,0,0,10473,ff3585cbd6b651ea076ddea8c9535477223526da,4,3,1,1,4625,Jonathan Proulx,jproulx,"Fix CoreFilter setting to avoid overallocation

cherry-picked 2372bf2a63fbf75c53b2686fb97735448896b4c2
as I was very surprised by the undocumented behaviour
I would really like to see this patch in stable/essex

Tom Fifield's orignal commit message for my patch to master:

From Jon Proulx (jproulx), who is still awaiting approval:

""Only schedule instances on hosts if there are sufficient CPU
cores available. If this filter is not set, the scheduler may
overprovision a host based on cores""

but in reality cpu_allocation_ratio must also be set with this
 filter. According to http://docs.openstack.org/essex/openstack-
compute/admin/content/compute-options-reference.html
 cpu_allocation_ratio defaults to 16.0 meaning cpu will be
 overprovisioned by 16:1 to get the behaviour described
 cpu_allocation_ratio must be set to 1.0

fixes bug 1027309

Change-Id: Ieea6c5ab13ce3514e508e4ad3799253d348b64d4
"
openstack%2Fopenstack-manuals~master~Ibf0e505b8717cbe644d6f77daacb128f22d282de,openstack/openstack-manuals,master,working/master,Ibf0e505b8717cbe644d6f77daacb128f22d282de,Updates formatting for the Openstack Swift admin guide,MERGED,2012-07-23 13:31:07.000000000,2012-07-28 22:42:40.000000000,2012-07-28 03:00:46.000000000,225,207,0,10129,53594d0ca72866913173345a4dca1dc24afaedab,6,4,2,5,1627,Razique Mahroua,razique,"Updates formatting for the Openstack Swift admin guide

Patchset ensures the install guide still builds- minor fixes so it'll build.

Change-Id: Ibf0e505b8717cbe644d6f77daacb128f22d282de
"
openstack%2Fopenstack-planet~master~Iab35be7d2aecc24691db5b5deb06c8f0ced4f4f2,openstack/openstack-planet,master,master,Iab35be7d2aecc24691db5b5deb06c8f0ced4f4f2,Added tagliapietra.alessandro to Planet OpenStack,MERGED,2012-07-26 07:05:05.000000000,2012-07-28 14:04:39.000000000,2012-07-28 14:04:39.000000000,5,0,0,10328,8ab676671ef7ac382351cb9d1aab226d5c2b0f3d,3,2,1,2,4284,Alessandro Tagliapietra,tagliapietra.alessandro,"Added tagliapietra.alessandro to Planet OpenStack

Change-Id: Iab35be7d2aecc24691db5b5deb06c8f0ced4f4f2
"
openstack%2Fkeystone~master~Ia2732a8aa8627d9ed56b9548eddd161864b7bf05,openstack/keystone,master,master,Ia2732a8aa8627d9ed56b9548eddd161864b7bf05,no changed,ABANDONED,2012-07-19 01:48:46.000000000,2012-07-28 06:03:03.000000000,,1,1,0,10000,b90c22a40c1c8d652110791880276fb44b8710fd,6,3,1,1,2575,Wang Long,wanglong,"no changed

Change-Id: Ia2732a8aa8627d9ed56b9548eddd161864b7bf05
"
openstack%2Fdevstack~master~I6cdd385e61ac2c79bd7ee2ec22e4de20c072b0f6,openstack/devstack,master,bug/1018581,I6cdd385e61ac2c79bd7ee2ec22e4de20c072b0f6,Keystone cmds fails until unset env vars,ABANDONED,2012-07-06 20:45:54.000000000,2012-07-28 06:03:03.000000000,,1,0,0,9462,d5b2320e6770e529217b1f79e23ee2cc77067a64,4,2,1,1,1071,,,"Keystone cmds fails until unset env vars

Fixes bug 1018581

Change-Id: I6cdd385e61ac2c79bd7ee2ec22e4de20c072b0f6
"
openstack%2Fcinder~master~I35ffc4f6047a3020249cf4f4c8e1f03f9160412d,openstack/cinder,master,remove_services_option,I35ffc4f6047a3020249cf4f4c8e1f03f9160412d,Remove services options from auth_token.,ABANDONED,2012-07-20 14:58:32.000000000,2012-07-28 06:03:02.000000000,,0,3,0,10059,aebb15785a07ed891c391ce66a9c38adb05dc6c5,4,2,1,1,866,Chmouel Boudjnah,chmouel,"Remove services options from auth_token.

- Fix to get keystone/auth_token working for devstack

Change-Id: I35ffc4f6047a3020249cf4f4c8e1f03f9160412d
"
openstack%2Fpython-keystoneclient~master~Ic2e4a7f576c77ef2cb76862b20f33bfd5a15ef6b,openstack/python-keystoneclient,master,bug/1012591,Ic2e4a7f576c77ef2cb76862b20f33bfd5a15ef6b,Allows skipping server certificate validation.,ABANDONED,2012-07-17 18:56:28.000000000,2012-07-28 06:03:01.000000000,,8,5,0,9928,923637cb45f17cccd1138aed0cf2cb5dd7611e99,6,5,1,3,154,Liem Nguyen,liemmn,"Allows skipping server certificate validation.

If there is no OS_CA_CERT specified, this client will skip Keystone
server certificate validation.  This fixes bug 1012591.

Change-Id: Ic2e4a7f576c77ef2cb76862b20f33bfd5a15ef6b
"
openstack%2Fnova~master~I66028b7042d88fb0f1f41df07f42b4b02cf60247,openstack/nova,master,bug/1030175,I66028b7042d88fb0f1f41df07f42b4b02cf60247,Fix state logic for auto-confirm resizes,MERGED,2012-07-27 23:49:46.000000000,2012-07-28 05:56:00.000000000,2012-07-28 05:55:59.000000000,7,4,6,10442,2740ef8f31a98a9b1486af344ef8cb3399e68aa0,10,4,1,2,679,Kevin L. Mitchell,klmitch,"Fix state logic for auto-confirm resizes

In the compute manager, the _poll_unconfirmed_resizes() periodic
task mishandled state checks, and would call confirm_resize() in
invalid states.  This patch fixes the logic so that confirm_resize()
is only called if the instance is in vm_state 'resized' and
task_state None.  The unit test is also fixed for the proper logic.

Fixes bug 1030175.

Change-Id: I66028b7042d88fb0f1f41df07f42b4b02cf60247
"
openstack%2Fopenstack-manuals~master~Ib0b74232975709fd69f69accd4efa5e23689a5a8,openstack/openstack-manuals,master,smallfix,Ib0b74232975709fd69f69accd4efa5e23689a5a8,Adds a stop-chunking processing instruction.,MERGED,2012-07-26 18:22:46.000000000,2012-07-28 04:07:27.000000000,2012-07-26 18:31:05.000000000,12,8,0,10362,fa112343831959d056a762be043ab222788b9686,4,2,1,1,964,Anne Gentle,annegentle,"Adds a stop-chunking processing instruction.

Responding to the comment on this page.
http://docs.openstack.org/essex/openstack-compute/admin/content/setting-up-credentials.html#comment-595317042

Change-Id: Ib0b74232975709fd69f69accd4efa5e23689a5a8
"
openstack%2Fnova~master~I38fc096ab881ccb52cb688ae46d9d36b0a7b3a45,openstack/nova,master,master,I38fc096ab881ccb52cb688ae46d9d36b0a7b3a45,Add persistent volumes for tgtd.,MERGED,2012-07-27 15:52:35.000000000,2012-07-28 03:55:51.000000000,2012-07-28 03:55:50.000000000,97,74,6,10414,1ba3dfec786c60e53ceb3b682bcf927224102a0b,17,7,2,4,24,Chuck Short,zulcss,"Add persistent volumes for tgtd.

Currently if you restart the server running nova-volume
or restart tgt, you will loose your iscsi targets that
have been created. This is not good.

In order for iscsi targets to be persistent across
reboots or restarts, one has to have the target's configuration
information in /etc/tgt/targets.conf or /etc/tgt/conf.d.
So when tgtd is restarted then the iscsi targets will be there
as expected.

This patch will add a configuration file to $state_path/volumes
when the volume is created. The configuration file is identified by
the volume uuid. It creates a logicalunit when the volume is created
as well. The iscsi target and configuration file
will be removed once the volume has been removed as well.

In order to use this, you have to include the following in
your /etc/tgt/targets.conf

include $state_path/volumes/*

For upgrades, it will just re-create the volumes
already in the volumes table.

Fixes LP: #1011159

Change-Id: I38fc096ab881ccb52cb688ae46d9d36b0a7b3a45
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fnova~stable%2Fessex~I09c01e0e63ee704b1485c196dc0b396ee03b2e5c,openstack/nova,stable/essex,bug/1018586,I09c01e0e63ee704b1485c196dc0b396ee03b2e5c,Fix wrong regex in cleanup_file_locks.,MERGED,2012-07-26 01:38:35.000000000,2012-07-28 03:17:05.000000000,2012-07-28 03:17:04.000000000,3,2,0,10321,f2bc403879234aaaeeb61e1dca1affe18192cfa1,26,8,2,3,1420,Adam Gandelman,gandelman-a,"Fix wrong regex in cleanup_file_locks.

The sentinel filename actually has form hostname-threadid.pid,
not hostname.threadid-pid.

Launchpad bug 1018586.

Update: Add Eugene to Authors for stable/essex.

Change-Id: I09c01e0e63ee704b1485c196dc0b396ee03b2e5c
(cherry picked from commit 974417b75f5f839ce4daaf080147ad154d727f10)
"
openstack%2Fopenstack-manuals~stable%2Fessex~Iba56085703a98154b3035122f8ab3b36b5cbe41d,openstack/openstack-manuals,stable/essex,essex-bridge-troubleshooting,Iba56085703a98154b3035122f8ab3b36b5cbe41d,Troubleshooting packet drops across bridge with VLAN,MERGED,2012-07-24 13:07:20.000000000,2012-07-28 02:59:13.000000000,2012-07-28 02:59:13.000000000,52,10,0,10214,e9e6bdc56e1effe7f3b612a8ca5c82a8f1bc86af,5,4,2,1,321,Lorin Hochstein,lorinh,"Troubleshooting packet drops across bridge with VLAN

Added a section in troubleshooting networking related to packets
being dropped in VLAN mode.

Docs are based on this blog post:
http://buriedlede.blogspot.com/2012/07/debugging-networking-problems-with.html

Fixed a typo ""sometimes""

Cherry-picked from https://review.openstack.org/#/c/10106/

Change-Id: Iba56085703a98154b3035122f8ab3b36b5cbe41d
"
openstack%2Fopenstack-manuals~master~I3624acdf44b964f02c70bb94b1a6c8a80b9416a9,openstack/openstack-manuals,master,bug/1017691,I3624acdf44b964f02c70bb94b1a6c8a80b9416a9,Partial fix for bug 1017691,MERGED,2012-07-25 22:13:02.000000000,2012-07-28 02:43:06.000000000,2012-07-25 22:22:00.000000000,18,2,0,10300,1f26d4188d522de88ac44a406778db5d5aaa0fa1,4,2,1,1,964,Anne Gentle,annegentle,"Partial fix for bug 1017691

Adds root_helper and filters_path options to nova common options table.

Change-Id: I3624acdf44b964f02c70bb94b1a6c8a80b9416a9
"
openstack%2Fnova~master~I3487195110572b7ae9586cfcc618ab7ab28d5017,openstack/nova,master,bp/no-db-messaging,I3487195110572b7ae9586cfcc618ab7ab28d5017,Explicitly send primitive instances via rpc.,MERGED,2012-07-27 22:02:06.000000000,2012-07-27 23:22:04.000000000,2012-07-27 23:22:03.000000000,4,4,0,10440,fa9ad5e3585734f42ae235c0eb4c4518ba1c201c,7,4,1,1,1561,Russell Bryant,russellb,"Explicitly send primitive instances via rpc.

This fixes a few bugs in recent no-db-messaging commits.  There were a
few places that I accidentally still used ""instance"" where I should have
used ""instance_p"", which is the instance converted to primitive types.

I noticed the problem looking at smokestack logs.  I saw a Qpid
traceback that indicated the problem.  As an interesting point, systems
using Kombu would not have seen this problem.  Kombu uses anyjson.  Our
jsonutils module sets anyjson to go through jsonutils, which will
automatically to jsonutils.to_primitive() if needed to serialize an
object.  Qpid doesn't do json serialization, so it will blow up if it
hits a non-primitive type.  Yay for testing multiple different
configurations to find problems.

Part of blueprint no-db-messaging.

Change-Id: I3487195110572b7ae9586cfcc618ab7ab28d5017
"
openstack%2Fdevstack~master~I039101471d264c84f6e05cc3f33073932e71f788,openstack/devstack,master,master,I039101471d264c84f6e05cc3f33073932e71f788,Enable Quantum agents and plugins to use more than one config file,MERGED,2012-07-25 07:27:44.000000000,2012-07-27 23:10:38.000000000,2012-07-27 23:10:38.000000000,4,5,7,10267,8301f1475b9a6aa1d5c731585d2463763a71cb26,15,7,2,1,1653,garyk,garyk,"Enable Quantum agents and plugins to use more than one config file

Change-Id: I039101471d264c84f6e05cc3f33073932e71f788
"
openstack%2Fnova~master~I5f92bedf6588ab2674d784772a5ecdb895fabe40,openstack/nova,master,master,I5f92bedf6588ab2674d784772a5ecdb895fabe40,libvirt driver: set os_type to support xen hvm/pv,MERGED,2012-07-24 20:11:00.000000000,2012-07-27 22:44:50.000000000,2012-07-27 22:44:49.000000000,90,7,18,10245,158d821204d2f79cc06c1443562b3ce9bbe7cb9f,60,7,15,4,1119,Christoph Thiel,cthiel-suse,"libvirt driver: set os_type to support xen hvm/pv

Generate libvirt config for xen hvm and pv guests based on instance
vm_mode. The vm_mode can be set via the vm_mode image property.

Use hvmloader for vm_mode.HVM guests. libvirt_type xen still defaults to
vm_mode.XEN (pv), to not change any behavior.

Change-Id: I5f92bedf6588ab2674d784772a5ecdb895fabe40
"
openstack%2Fnova~master~I166846a4cfea8adc8c156b8ae0e0d288681ac08c,openstack/nova,master,,I166846a4cfea8adc8c156b8ae0e0d288681ac08c,Return location header on volume creation,MERGED,2012-07-20 11:18:19.000000000,2012-07-27 22:38:44.000000000,2012-07-27 22:38:43.000000000,16,7,8,10047,3f71934f0e05b43c2093104c0412e46f5343595a,33,8,5,5,2284,Eoghan Glynn,eglynn,"Return location header on volume creation

Partially addresses LP 1026600

Normal RESTful idiom would dictate that the ""Location"" header is set
to reference the newly created resource.

We defer lining up the status code returned with generally accepted
RESTful convention (currently ""200 OK"", should be ""201 Created"" or
""202 Accepted"") until the next API major version bump.

There is already substantial code duplication between the volumes API
and the os-volumes API extension - this will be addressed in a later
patch.

Change-Id: I166846a4cfea8adc8c156b8ae0e0d288681ac08c
"
openstack%2Fglance~master~I3e9ffa9a97b57912d922ffadce31ed1ce0261fb4,openstack/glance,master,bug/1028101,I3e9ffa9a97b57912d922ffadce31ed1ce0261fb4,Set deleted_at field when image members and properties are deleted.,MERGED,2012-07-23 20:41:21.000000000,2012-07-27 22:21:58.000000000,2012-07-27 22:21:58.000000000,73,4,4,10170,94b9adc4a6a09f3c2b25130888b6a02134e01cc8,12,5,2,4,177,Alex Meade,alex-meade,"Set deleted_at field when image members and properties are deleted.

fixes bug 1028101

Change-Id: I3e9ffa9a97b57912d922ffadce31ed1ce0261fb4
"
openstack%2Fdevstack~master~I5cf6772c6fa1c813efa4993bd0461c45bbaae4ea,openstack/devstack,master,master,I5cf6772c6fa1c813efa4993bd0461c45bbaae4ea,Add python-cmd2 install for openstackclient.,MERGED,2012-07-26 18:23:07.000000000,2012-07-27 22:07:36.000000000,2012-07-27 22:07:35.000000000,1,0,0,10364,e9659e503ebaad23db0ed2a3489ece204b0f1640,5,2,1,1,2,Monty Taylor,mordred,"Add python-cmd2 install for openstackclient.

Change-Id: I5cf6772c6fa1c813efa4993bd0461c45bbaae4ea
"
openstack%2Fdevstack~master~I1fcb4bd274311d048dee54826b6408e5abb493d2,openstack/devstack,master,set_cinder_as_default_volume_service,I1fcb4bd274311d048dee54826b6408e5abb493d2,Change default volume service to Cinder,MERGED,2012-07-11 19:22:17.000000000,2012-07-27 22:06:32.000000000,2012-07-27 22:06:32.000000000,3,3,0,9662,d586e1c2b9f33a63237a2ccd5f3440522360aa96,15,4,3,1,2243,John Griffith,john-griffith,"Change default volume service to Cinder

  * Modifies stackrc to load Cinder instead of n-vol by default
  * Depends on https://review.openstack.org/#/c/9746/
  * Depends on https://review.openstack.org/#/c/9747/

Change-Id: I1fcb4bd274311d048dee54826b6408e5abb493d2
"
openstack%2Fnova~master~I5125d557ab799fcf572f665523cd07a893ad3b90,openstack/nova,master,bug/1030143,I5125d557ab799fcf572f665523cd07a893ad3b90,Allow _destroy_vdis if a mapping has no VDI,MERGED,2012-07-27 21:26:53.000000000,2012-07-27 21:55:14.000000000,2012-07-27 21:55:13.000000000,4,0,0,10436,3f315000755732c4780dae03ef65f67d3f87e8f7,7,3,1,1,679,Kevin L. Mitchell,klmitch,"Allow _destroy_vdis if a mapping has no VDI

In _destroy_vdis() in the xenapi vmops.py, a list of VDIs to not
destroy is collected.  If one of the block device mappings does
not have a corresponding VDI, however, _destroy_vdis() fails
(KeyError('vdi_uuid') is raised).  This interferes with
instance deletion.  The problem is corrected by skipping mappings
for which the connection_info data does not contain 'vdi_uuid'.

Fixes bug 1030143.

Change-Id: I5125d557ab799fcf572f665523cd07a893ad3b90
"
openstack%2Fdevstack~master~Ic63754050ef4a5838144edd1d24a2e9206cc0fa5,openstack/devstack,master,master,Ic63754050ef4a5838144edd1d24a2e9206cc0fa5,Add flag for availablility of change password API.,MERGED,2012-07-24 13:17:24.000000000,2012-07-27 21:17:45.000000000,2012-07-27 21:17:45.000000000,2,0,0,10215,686f98ea10e137669cc09e903944261ce6fbc2c5,9,5,1,1,1192,David Kranz,david-kranz,"Add flag for availablility of change password API.

Change-Id: Ic63754050ef4a5838144edd1d24a2e9206cc0fa5
"
openstack%2Fglance~master~Ia9c9b762d2d474767984b4729bb50a8b78d6cb3f,openstack/glance,master,bug/1003711,Ia9c9b762d2d474767984b4729bb50a8b78d6cb3f,Honor '--insecure' commandline flag also for keystone authentication,MERGED,2012-07-18 08:58:22.000000000,2012-07-27 21:09:13.000000000,2012-07-27 21:09:13.000000000,9,8,0,9956,b64d2ea1558d8408d4b3bcd070ab6dce1d7a02d1,21,6,3,2,4375,Sascha Peilicke,saschpe,"Honor '--insecure' commandline flag also for keystone authentication

Currently, keystone auth fails with self-signed certificates. This patch
essentially passes this value down to KeystoneStrategy._do_request. This
way, the '--insecure' flag is used by glanceclient to either validate
all SSL certificates or none. Fixes bug 1003711.

Change-Id: Ia9c9b762d2d474767984b4729bb50a8b78d6cb3f
"
openstack%2Fnova~master~Ib1a06b5385ec627f3daad5bafb3fa1be956a64e2,openstack/nova,master,bp/no-db-messaging,Ib1a06b5385ec627f3daad5bafb3fa1be956a64e2,xenapi: Use instance uuid when calling DB API,MERGED,2012-07-27 19:22:35.000000000,2012-07-27 21:09:11.000000000,2012-07-27 21:09:10.000000000,3,3,2,10426,eef8556444de21623da8c750dad37c506be5c484,9,5,1,1,100,Johannes Erdfelt,johannes.erdfelt,"xenapi: Use instance uuid when calling DB API

The preferred form of calling the DB API is to use the instance UUID
instead of the older instance id. Update that and use the dict form
to be more compatible with blueprint no-db-messaging.

Change-Id: Ib1a06b5385ec627f3daad5bafb3fa1be956a64e2
"
openstack%2Fdevstack~stable%2Fessex~Ib1178b2aaaddafe581902b32776180bb0b41f1ae,openstack/devstack,stable/essex,backport-dist-fix,Ib1178b2aaaddafe581902b32776180bb0b41f1ae,Fix multiple distro dependency bug,MERGED,2012-07-27 05:53:27.000000000,2012-07-27 21:09:09.000000000,2012-07-27 21:09:09.000000000,7,7,0,10393,edd62ccc3bb1548ac82d364e54a19f457de68e27,9,6,1,1,67,Vish Ishaya,vishvananda,"Fix multiple distro dependency bug

get_packages() icorrectly handled multiple distros listed in a dependency
file, such as:

    xyz  # dist:fred,barney,wilma

Change-Id: Ib1178b2aaaddafe581902b32776180bb0b41f1ae
(cherry picked from commit 3ea11129012b9ffdf5f38724e11fa9efda9362f5)
"
openstack%2Fhorizon~master~I0a528b89d4e207c5a11126046d9b1e3c18f2cf51,openstack/horizon,master,bug/1025482,I0a528b89d4e207c5a11126046d9b1e3c18f2cf51,Fix for quota initialization scripts,MERGED,2012-07-25 14:28:50.000000000,2012-07-27 20:49:37.000000000,2012-07-27 20:49:37.000000000,2,2,0,10275,f81afa6aa0500c8819c0ca4f8105189e205fcc4d,8,4,1,2,2455,Tihomir Trifonov,ttrifonov,"Fix for quota initialization scripts

when rendered in a non-modal window -
create instance/volume pages

Fixes bug 1025482

Change-Id: I0a528b89d4e207c5a11126046d9b1e3c18f2cf51
"
openstack%2Fhorizon~master~If137a31ffdb64a97ff663b5327c4d8c41f6937b1,openstack/horizon,master,dynamic_project_creation,If137a31ffdb64a97ff663b5327c4d8c41f6937b1,Adds dynamic project creation to Create User.,MERGED,2012-07-27 20:04:53.000000000,2012-07-27 20:47:54.000000000,2012-07-27 20:47:54.000000000,40,11,0,10428,972802edc40a11c64c3cec67641acea0e3f8d07d,6,3,1,5,1816,Gabriel Hurley,gabriel-hurley,"Adds dynamic project creation to Create User.

Change-Id: If137a31ffdb64a97ff663b5327c4d8c41f6937b1
"
openstack%2Fnova~master~Ibd28e8de19eb6dc696ab67d2f58b4a14eb9f034f,openstack/nova,master,hacking-volume,Ibd28e8de19eb6dc696ab67d2f58b4a14eb9f034f,Fix HACKING violation in nova/api/openstack/volume/types.py,MERGED,2012-07-27 19:18:25.000000000,2012-07-27 20:47:52.000000000,2012-07-27 20:47:51.000000000,1,1,0,10425,395c71a05a256a3d50a4dca7f91357c3175d94f6,7,4,1,1,100,Johannes Erdfelt,johannes.erdfelt,"Fix HACKING violation in nova/api/openstack/volume/types.py

Change-Id: Ibd28e8de19eb6dc696ab67d2f58b4a14eb9f034f
"
openstack%2Fnova~master~Iaf42d887b824ba0cbf6ab0ed143a4c01b37b0cb1,openstack/nova,master,bug/1030106,Iaf42d887b824ba0cbf6ab0ed143a4c01b37b0cb1,Correct host count in instance_usage_audit_log extension.,MERGED,2012-07-27 19:54:46.000000000,2012-07-27 20:23:46.000000000,2012-07-27 20:23:45.000000000,75,67,0,10427,aad7743f42e559aefde37bb44622986df4e2ae98,6,3,1,3,236,Monsyne Dragon,mdragon,"Correct host count in instance_usage_audit_log extension.

This fixes bug 1030106. Basically we were not counting disabled hosts
in the total host count. Also I have refactored the get_audit_task_logs
method, it's really part of the extension (only the extension uses it),
so I've moved it out of nova.compute.utils into the extension itself.

(the tests that exercise it already lived in the extension's tests anyway.)

Change-Id: Iaf42d887b824ba0cbf6ab0ed143a4c01b37b0cb1
"
openstack%2Fpython-keystoneclient~master~I1210fafc9257648c902176fbcfae9d47e47fc557,openstack/python-keystoneclient,master,bug/1012591,I1210fafc9257648c902176fbcfae9d47e47fc557,Add '--insecure' commandline argument,MERGED,2012-07-10 09:36:46.000000000,2012-07-27 19:52:44.000000000,2012-07-27 19:52:44.000000000,15,3,3,9582,dec8f77c9233f195999b8db9adbd4f026834fd42,20,6,5,2,4375,Sascha Peilicke,saschpe,"Add '--insecure' commandline argument

Allows to ignore validation errors that typically occur with self-signed
SSL certificates. Making this explicit is important as one would
typically only use this in development or in-house deployments.

This should also fix bug 1012591.

Change-Id: I1210fafc9257648c902176fbcfae9d47e47fc557
"
openstack%2Fnova~master~I1a91e4efdf69d4c1fba07658419f7bb30b733b5a,openstack/nova,master,xenapi-rescue-hack,I1a91e4efdf69d4c1fba07658419f7bb30b733b5a,Remove ugly instance._rescue hack,MERGED,2012-07-27 17:45:02.000000000,2012-07-27 19:51:20.000000000,2012-07-27 19:51:19.000000000,100,91,0,10421,ffaffa12984449aba1468c14f1580c13cd867acf,11,5,2,6,100,Johannes Erdfelt,johannes.erdfelt,"Remove ugly instance._rescue hack

The XenAPI driver would use _rescue to note when an instance was in
the process of being rescued. The existance of this attribute would
modify the 'name' property to append '-rescue' to the generated name.

Among the problems with it, it wasn't saved anywhere (with resulting
code to set it to False being unnecessary) and it led to ""magic"" code
(see instance.name) that was confusing without understanding the hack.

Change-Id: I1a91e4efdf69d4c1fba07658419f7bb30b733b5a
"
openstack%2Fnova~master~Iefc0e403d440aada68b259ded457166ad10699fd,openstack/nova,master,bug/1030073,Iefc0e403d440aada68b259ded457166ad10699fd,Convert to using dict style key lookups in XenAPI,MERGED,2012-07-27 19:08:27.000000000,2012-07-27 19:41:14.000000000,2012-07-27 19:41:14.000000000,57,54,0,10424,3a00eb0c8029de719caf4b6658ae983bd9070bbb,8,5,1,4,100,Johannes Erdfelt,johannes.erdfelt,"Convert to using dict style key lookups in XenAPI

Fixes bug 1030073

With instances being passed as dicts via the RPC API, uses of the instance
object should use dict style key lookups instead of attribute style
lookups.

Change-Id: Iefc0e403d440aada68b259ded457166ad10699fd
"
openstack%2Fopenstack-manuals~master~I420a3a5d935b539b4e45001c09d66dfbc3532d90,openstack/openstack-manuals,master,ha-pom,I420a3a5d935b539b4e45001c09d66dfbc3532d90,Change the release path name in the openstack-ha-guide pom to trunk,MERGED,2012-07-27 18:56:35.000000000,2012-07-27 18:58:43.000000000,2012-07-27 18:58:43.000000000,1,1,0,10423,5d9a6364d2044c7702c28e05bf835ef50a3be785,3,2,1,1,964,Anne Gentle,annegentle,"Change the release path name in the openstack-ha-guide pom to trunk

Change-Id: I420a3a5d935b539b4e45001c09d66dfbc3532d90
"
openstack%2Fopenstack-manuals~master~I9d4cf43134fbc1b70fc3ace6ffaa02d5dbce9d99,openstack/openstack-manuals,master,bug/1027230,I9d4cf43134fbc1b70fc3ace6ffaa02d5dbce9d99,Splits nova-volume information into smaller chunks for reuse in the Install and Deploy guide.,MERGED,2012-07-23 19:04:52.000000000,2012-07-27 18:51:01.000000000,2012-07-27 18:51:01.000000000,986,793,0,10156,0c125b2b04eedfb0b5628625bb85b510beea38e8,7,2,3,9,964,Anne Gentle,annegentle,"Splits nova-volume information into smaller chunks
for reuse in the Install and Deploy guide.

Adds Ceph information to volumes section.

Fix bug 1027230

Fix bug 1013792

Fix bug 978510

Rebase against master.

Change-Id: I9d4cf43134fbc1b70fc3ace6ffaa02d5dbce9d99
"
openstack%2Fglance~master~Ia1dbdbdf84a4dbaabca8395f9539e58936589563,openstack/glance,master,bug/1028081,Ia1dbdbdf84a4dbaabca8395f9539e58936589563,Have non-empty image properties in image.delete payload.,MERGED,2012-07-27 17:41:32.000000000,2012-07-27 18:32:16.000000000,2012-07-27 18:32:16.000000000,1,1,0,10420,51faf289453053489cc350aa363ffde3290df16b,9,5,2,1,177,Alex Meade,alex-meade,"Have non-empty image properties in image.delete payload.

This patch uses the image data that is present before the image is actually
deleted as the image.delete notification payload data.

Fixes bug 1028081

Change-Id: Ia1dbdbdf84a4dbaabca8395f9539e58936589563
"
openstack%2Fnova~master~I04055bfbe662f3f3e9d90336d03670aa5468e780,openstack/nova,master,bug/1029773,I04055bfbe662f3f3e9d90336d03670aa5468e780,Sanitize xenstore keys for metadata injection,MERGED,2012-07-27 07:08:26.000000000,2012-07-27 18:21:05.000000000,2012-07-27 18:21:05.000000000,31,5,1,10395,6bff9a5f4455cff14aa9c7c1fbf8e9fe36d203aa,8,5,2,2,1030,Chris Behrens,cbehrens,"Sanitize xenstore keys for metadata injection

Xenstore only allows certain characters in key names.  Change disallowed
characters as well as '/' to '_'.

Fixes bug 1029773

Change-Id: I04055bfbe662f3f3e9d90336d03670aa5468e780
"
openstack%2Fglance~master~I475b22fdc2c8acb0e2af57e4a10fc81d7727721e,openstack/glance,master,bug/1028081,I475b22fdc2c8acb0e2af57e4a10fc81d7727721e,Stop properties from being deleted when an image is deleted.,ABANDONED,2012-07-23 19:43:19.000000000,2012-07-27 18:15:20.000000000,,72,14,0,10160,1d91f176cf29f96d6070031a8cc1d1ba803cf2e5,18,5,5,3,177,Alex Meade,alex-meade,"Stop properties from being deleted when an image is deleted.

This patch is similar to a change in nova:
https://review.openstack.org/#/c/9450/.

This stops image properties and members from being set to deleted when an image
is deleted, allowing the retrieval of this information for notifications.

Fixes bug 1028081

Change-Id: I475b22fdc2c8acb0e2af57e4a10fc81d7727721e
"
openstack%2Fnova~master~Id454dbcbafef861db3f88620a56d8dd2ccd30e1d,openstack/nova,master,bug/1029774,Id454dbcbafef861db3f88620a56d8dd2ccd30e1d,Don't store system_metadata in xenstore,MERGED,2012-07-27 06:24:11.000000000,2012-07-27 18:10:09.000000000,2012-07-27 18:10:08.000000000,2,46,0,10394,1ca9d3c9df58f7ea28609cccac97a74d28fda4db,7,4,1,3,1030,Chris Behrens,cbehrens,"Don't store system_metadata in xenstore

Fixes bug 1029774

system_metadata should not be exposed to users.

This reverts part of commit 82afe7ad5 / ChangeID I88a59f1b783

Change-Id: Id454dbcbafef861db3f88620a56d8dd2ccd30e1d
"
openstack%2Fnova~master~I664e6b858eda17dd732927f2c9b259212084a8fa,openstack/nova,master,bug/1028559,I664e6b858eda17dd732927f2c9b259212084a8fa,Implements notifications for more instance changes,MERGED,2012-07-24 17:57:18.000000000,2012-07-27 16:54:54.000000000,2012-07-27 16:54:53.000000000,167,50,17,10237,19b54998bb5da2bf49190e22d6aa29da36d946b6,73,9,19,5,2537,Nikhil Komawar,nikhil-komawar,"Implements notifications for more instance changes

Now sends a notification of other changes in the instance besides state
changes. Adds access_ip in notifications as well.

fixes bug 1028559

Change-Id: I664e6b858eda17dd732927f2c9b259212084a8fa
"
openstack%2Fheat~master~I82a18df568bf2d7421a49e057e80a7bc236e2078,openstack/heat,master,master,I82a18df568bf2d7421a49e057e80a7bc236e2078,Add tools directory to python package.,MERGED,2012-07-27 16:51:40.000000000,2012-07-27 16:51:40.000000000,2012-07-27 16:51:40.000000000,1,0,0,10416,bdf59084b65074c7cfaab8d9ade3b5932fbf8c11,5,2,1,1,2011,Ian Main,imain,"Add tools directory to python package.

This adds the tools/ dir to the tarball for distribution.

Change-Id: I82a18df568bf2d7421a49e057e80a7bc236e2078
Signed-off-by: Ian Main <imain@redhat.com>
"
openstack%2Ftempest~master~I8147abb333dd875cbf26a803848a45c73987d574,openstack/tempest,master,bug/1029936,I8147abb333dd875cbf26a803848a45c73987d574,Fix Bug1029936 :SKIP TEST removal and change of Bug ID,MERGED,2012-07-27 13:36:49.000000000,2012-07-27 16:10:52.000000000,2012-07-27 16:10:52.000000000,1,2,0,10406,059023a2e39a8638a8e94e103fbedc78b57264ac,5,2,1,1,2238,rajalakshmi-ganesan,rajalakshmi-ganesan,"Fix Bug1029936 :SKIP TEST removal and change of Bug ID

Change-Id: I8147abb333dd875cbf26a803848a45c73987d574
"
openstack%2Ftempest~master~I6a5c68e35fdd1013e06e14a0ba9dee941f7eebfb,openstack/tempest,master,bug/1029334,I6a5c68e35fdd1013e06e14a0ba9dee941f7eebfb,Fix Bug1029334 :Skip Test removed from test_volumes_negative,MERGED,2012-07-26 09:32:56.000000000,2012-07-27 16:09:48.000000000,2012-07-27 16:09:48.000000000,0,3,0,10332,3b7a57fda312a6ad3fb998455b05995fc55d5d45,10,4,3,1,2238,rajalakshmi-ganesan,rajalakshmi-ganesan,"Fix Bug1029334 :Skip Test removed from test_volumes_negative

Change-Id: I6a5c68e35fdd1013e06e14a0ba9dee941f7eebfb
"
openstack%2Ftempest~master~I4760ae91a53c0b2c307a32d175f86c01be892054,openstack/tempest,master,bug/1029792,I4760ae91a53c0b2c307a32d175f86c01be892054,Fix for Bug 1029792. Added Documentation Strings to test cases in test_console_output.py,MERGED,2012-07-27 08:14:42.000000000,2012-07-27 16:09:35.000000000,2012-07-27 16:09:35.000000000,12,0,0,10396,8322ddf62634ead57990d463ae5be1d08d5bbdca,6,3,1,1,1687,nayna-patel,nayna-patel,"Fix for Bug 1029792. Added Documentation Strings to test cases in test_console_output.py

Change-Id: I4760ae91a53c0b2c307a32d175f86c01be892054
"
openstack%2Fnova~master~Icf4b5a21d8cc9df0f140a1a87908ff48c447004b,openstack/nova,master,bug/833331,Icf4b5a21d8cc9df0f140a1a87908ff48c447004b,Implements config_drive as extension,MERGED,2012-07-17 17:08:20.000000000,2012-07-27 15:40:53.000000000,2012-07-27 15:40:52.000000000,149,11,3,9924,a1aa75383fd4f04d690c547e23f79f51662f6608,33,11,4,6,4463,iccha-sethi,iccha-sethi,"Implements config_drive as extension

Adding config drive as an extension allows users to turn it off in case they
do not want to use it. Config drive was not intended to be a part of the core
functionality.

Fixes bug 833331

Change-Id: Icf4b5a21d8cc9df0f140a1a87908ff48c447004b
"
openstack%2Fheat~master~Iba74741c978ab16392ef9fd9c85b8ba325191301,openstack/heat,master,master,Iba74741c978ab16392ef9fd9c85b8ba325191301,Add M2Crypto Patch,ABANDONED,2012-07-27 15:36:50.000000000,2012-07-27 15:36:50.000000000,,63,0,0,10413,e9b7e2fa5c88a52084a49a2311053a9a05db9214,1,0,1,1,2011,Ian Main,imain,"Add M2Crypto Patch

This adds the m2crypto support patch to contrib for use in fedora.

Change-Id: Iba74741c978ab16392ef9fd9c85b8ba325191301
Signed-off-by: Ian Main <imain@redhat.com>
"
openstack%2Fnova~master~Ic5f418a5d15117888198c79c3a32cec8f19d1a88,openstack/nova,master,bp/general-host-aggregates,Ic5f418a5d15117888198c79c3a32cec8f19d1a88,"Revert ""Add additional capabilities for computes""",MERGED,2012-07-25 00:32:50.000000000,2012-07-27 15:26:19.000000000,2012-07-27 15:26:18.000000000,1,56,0,10258,43bb473d004149f4d0fd6f0c7ad1a0712be3ab94,11,6,2,2,1849,Joe Gordon,jogo,"Revert ""Add additional capabilities for computes""

This reverts commit bd30eb36bbf2c5164ac47256355c543f6b77e064.

From the original commit message:
"" This is an interim solution to provide this functionality until
  it is replaced by more general HostAggregate functionality later
  in Folsom.""

Now that general host aggregates is in, this is ready to be removed.

Partially implements blueprint general-host-aggregates

Change-Id: Ic5f418a5d15117888198c79c3a32cec8f19d1a88
"
openstack%2Fnova~master~Iaba1af5c9a17fbbb82e42522b1060773de61550a,openstack/nova,master,bug/1021352,Iaba1af5c9a17fbbb82e42522b1060773de61550a,Moving where the fixed ip deallocation happens.,MERGED,2012-07-27 13:02:52.000000000,2012-07-27 15:16:44.000000000,2012-07-27 15:16:43.000000000,33,3,0,10404,44132acbe91092de1188a3015a2c7155b5ec774c,9,5,2,2,1882,dave-mcnally,dave-mcnally,"Moving where the fixed ip deallocation happens.

Fixes bug 1021352.

In network/manager/deallocate_fixed_ip the call
to mark the IP as no longer allocated occurs before
the call to update security group rules. This means
that if an error occurs in the security group
processing, or if for some reason it is very slow
there is a risk that that the address is reused by
another tenant before the rules relating to this address
have been fully revoked.

Moving the db call to after the call to trigger the
security group refresh would avoid the issue when an
error occurs (the fixed_ip should not be released in
this case).

Change-Id: Iaba1af5c9a17fbbb82e42522b1060773de61550a
"
openstack%2Fnova~master~Ib628d375254fc1539cd79ceaaad83c1c326863b4,openstack/nova,master,bp/no-db-messaging,Ib628d375254fc1539cd79ceaaad83c1c326863b4,Send a full instance in pre_live_migration.,MERGED,2012-07-26 22:46:43.000000000,2012-07-27 15:02:35.000000000,2012-07-27 15:02:34.000000000,52,43,0,10385,01985dd44d1b29c7ad7cb0932a1d30f7b6fe1911,6,3,1,4,1561,Russell Bryant,russellb,"Send a full instance in pre_live_migration.

Change the pre_live_migration method of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: Ib628d375254fc1539cd79ceaaad83c1c326863b4
"
openstack%2Fnova~master~I5a95e72c6441f47f014dbcd52f346e8d2e94069c,openstack/nova,master,bp/no-db-messaging,I5a95e72c6441f47f014dbcd52f346e8d2e94069c,Send a full instance in power_on_instance and start_instance.,MERGED,2012-07-26 22:46:43.000000000,2012-07-27 14:54:21.000000000,2012-07-27 14:54:20.000000000,24,16,0,10384,bc1947d2e9c21c19735a9470a498234b94b8d9c4,6,3,1,4,1561,Russell Bryant,russellb,"Send a full instance in power_on_instance and start_instance.

Change the power_on_instance and start_instance methods of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I5a95e72c6441f47f014dbcd52f346e8d2e94069c
"
openstack%2Fnova~master~I641d5e7941c7de430c0ca3c9b961f967d947d963,openstack/nova,master,bp/no-db-messaging,I641d5e7941c7de430c0ca3c9b961f967d947d963,Send a full instance in power_off_instance and stop_instance.,MERGED,2012-07-26 22:46:42.000000000,2012-07-27 14:47:22.000000000,2012-07-27 14:47:21.000000000,31,22,0,10383,3a03a9c46ad20b1c0f44497e9e23b9ef7be465e7,6,3,1,4,1561,Russell Bryant,russellb,"Send a full instance in power_off_instance and stop_instance.

Change the power_off_instance and stop_instance methods of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I641d5e7941c7de430c0ca3c9b961f967d947d963
"
openstack%2Fnova~master~Ic1b1269d90e147035c4eb7b4bd47de81eff3ffdc,openstack/nova,master,bp/no-db-messaging,Ic1b1269d90e147035c4eb7b4bd47de81eff3ffdc,Make instance_uuid backwards compat actually work.,MERGED,2012-07-26 22:46:42.000000000,2012-07-27 14:33:57.000000000,2012-07-27 14:33:56.000000000,27,23,1,10382,4a1650eea23c3b8a064721a2985d481218f04500,6,3,1,2,1561,Russell Bryant,russellb,"Make instance_uuid backwards compat actually work.

In some refactoring of the decorator modifications I made for
eebc64f949ccb2acb7462efc18f538f1827985af, I ended up breaking the case
where an instance_uuid was passed to one of the methods that is supposed
to be able to accept either an instance or instance_uuid.  Oops.  :-(

This patch makes them work again, and adds one unit test that
verifies that it works.

These decorators are really ugly right now, but keep in mind that the
2-version stuff is temporary.  As soon as this patch series is finished
(changing methods to take an instance), these decorators will get
simplified.

Part of blueprint no-db-messaging.

Change-Id: Ic1b1269d90e147035c4eb7b4bd47de81eff3ffdc
"
openstack%2Fnova~master~Ib36cb065f838f644e97b6e82b39409737df15558,openstack/nova,master,bp/no-db-messaging,Ib36cb065f838f644e97b6e82b39409737df15558,Send a full instance via rpc for post_live_migration_at_destination.,MERGED,2012-07-26 22:46:42.000000000,2012-07-27 14:28:37.000000000,2012-07-27 14:28:36.000000000,32,31,3,10381,d5c3271b1159ea3dfce3c0bf56b75006784ee439,8,5,1,4,1561,Russell Bryant,russellb,"Send a full instance via rpc for post_live_migration_at_destination.

Change the post_live_migration_at_destination method of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

The method got moved in rpcapi.py, but that was just to restore
alphabetical order.

Part of blueprint no-db-messaging.

Change-Id: Ib36cb065f838f644e97b6e82b39409737df15558
"
openstack%2Fnova~master~I1bcf55e2819be321c3ea0a64fe136cd993a2443b,openstack/nova,master,bp/no-db-messaging,I1bcf55e2819be321c3ea0a64fe136cd993a2443b,Send a full instance via rpc for inject_network_info.,MERGED,2012-07-26 22:46:42.000000000,2012-07-27 14:17:19.000000000,2012-07-27 14:17:19.000000000,19,13,0,10380,2203249e190535aff7799a689effff77743fba61,7,4,1,4,1561,Russell Bryant,russellb,"Send a full instance via rpc for inject_network_info.

Change the inject_network_info method of the compute rpc API to take
a full instance over rpc instead of just the instance UUID.
This cuts down on database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I1bcf55e2819be321c3ea0a64fe136cd993a2443b
"
openstack%2Fnova~master~Ife38a87cb8a597b40b2b87d9a6a8c7e81d4439c4,openstack/nova,master,bp/no-db-messaging,Ife38a87cb8a597b40b2b87d9a6a8c7e81d4439c4,Send a full instance via rpc for inject_file.,MERGED,2012-07-26 22:46:41.000000000,2012-07-27 14:13:54.000000000,2012-07-27 14:13:53.000000000,20,13,0,10379,6fa8a0860dace7ba71f32207375d82387bbbbb68,6,3,1,4,1561,Russell Bryant,russellb,"Send a full instance via rpc for inject_file.

Change the inject_file method of the compute rpc API to take
a full instance over rpc instead of just the instance UUID.
This cuts down on database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: Ife38a87cb8a597b40b2b87d9a6a8c7e81d4439c4
"
openstack%2Fnova~master~I4443e65fd6a9aafdad21fda63ef04a03428288a9,openstack/nova,master,bp/no-db-messaging,I4443e65fd6a9aafdad21fda63ef04a03428288a9,Send a full instance via rpc for get_vnc_console.,MERGED,2012-07-26 22:46:41.000000000,2012-07-27 14:08:35.000000000,2012-07-27 14:08:34.000000000,27,27,0,10378,a484f066008487ed89c27ec4bee8a64b011c20f6,7,4,1,4,1561,Russell Bryant,russellb,"Send a full instance via rpc for get_vnc_console.

Change the get_vnc_console method of the compute rpc API to take
a full instance over rpc instead of just the instance UUID.
This cuts down on database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I4443e65fd6a9aafdad21fda63ef04a03428288a9
"
openstack%2Fnova~master~Icb11001ac0880ca8df67b4dd9f0fe1eaca7fa3bb,openstack/nova,master,bp/no-db-messaging,Icb11001ac0880ca8df67b4dd9f0fe1eaca7fa3bb,Remove get_instance_disk_info from compute rpcapi.,MERGED,2012-07-26 22:46:41.000000000,2012-07-27 14:05:01.000000000,2012-07-27 14:05:00.000000000,3,11,1,10377,9374157d27f5df34cdc5e78bc384f97382243013,6,3,1,3,1561,Russell Bryant,russellb,"Remove get_instance_disk_info from compute rpcapi.

This method is no longer used in any current code, so remove it from the
client side code for the rpcapi.  The server-side code remains (the
compute manager) for backwards compatibility with older versions.

This method was previously used by the scheduler, but was removed by
some refactoring done in cac332c39645286a11c009094a86f62d02752183.

Change-Id: Icb11001ac0880ca8df67b4dd9f0fe1eaca7fa3bb
"
openstack%2Fnova~master~Ic4db237849230899ad5f2f0780d4c237895a6631,openstack/nova,master,bp/no-db-messaging,Ic4db237849230899ad5f2f0780d4c237895a6631,Send a full instance via rpc for get_diagnostics.,MERGED,2012-07-26 22:46:40.000000000,2012-07-27 13:58:55.000000000,2012-07-27 13:58:54.000000000,14,10,0,10376,6106973d2fdf57be67d6de4bd5924321ed7e5772,7,4,1,3,1561,Russell Bryant,russellb,"Send a full instance via rpc for get_diagnostics.

Change the get_diagnostics method of the compute rpc API to take
a full instance over rpc instead of just the instance UUID.
This cuts down on database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: Ic4db237849230899ad5f2f0780d4c237895a6631
"
openstack%2Fnova~master~Ibe2f8b990cc8f2a3d05e8ba8216a1e74cbcfb67b,openstack/nova,master,bp/no-db-messaging,Ibe2f8b990cc8f2a3d05e8ba8216a1e74cbcfb67b,Send a full instance via rpc for finish_revert_resize.,MERGED,2012-07-26 22:46:40.000000000,2012-07-27 13:55:41.000000000,2012-07-27 13:45:52.000000000,24,15,0,10375,eba4be81a17ada6da228659db7bad2c346e02db8,8,4,1,4,1561,Russell Bryant,russellb,"Send a full instance via rpc for finish_revert_resize.

Change the finish_revert_resize method of the compute rpc API to take
a full instance over rpc instead of just the instance UUID.
This cuts down on database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: Ibe2f8b990cc8f2a3d05e8ba8216a1e74cbcfb67b
"
openstack%2Fnova~stable%2Fessex~Icf7dcafd1f942f5d81d12587775d6ade4a176932,openstack/nova,stable/essex,,Icf7dcafd1f942f5d81d12587775d6ade4a176932,Handle local & remote exceptions consistently.,MERGED,2012-07-09 18:23:26.000000000,2012-07-27 13:42:36.000000000,2012-07-27 13:42:35.000000000,51,12,7,9534,4b89b4fd3665a6eaaa63911102070fd93f20f8bc,32,5,8,2,2284,Eoghan Glynn,eglynn,"Handle local & remote exceptions consistently.

Related to LP 1021373.

When the floating_ips quota threshold is exceeded, this occurs remotely
in the networking service and hence is reported back to the API service
over RPC, via a RemoteError wrapping the original QuotaError exception.

Previously the handling of such RemoteErrors in the native API was
inconsistent with exceptions raised locally within the API service.

Now in both cases, we expose the exception explantion, status etc. in the
response, if the exception type is declared as safe.

This fix is not required on master, as the Folsom RPC failure deserialization
logic renders it unnecessary.

Change-Id: Icf7dcafd1f942f5d81d12587775d6ade4a176932
"
openstack%2Fheat~master~If1152242b024218f20bd4c787e03836f0d5f49cf,openstack/heat,master,review-slow-creds-encryption,If1152242b024218f20bd4c787e03836f0d5f49cf,Don't use uuidgen in install.sh,MERGED,2012-07-27 13:30:44.000000000,2012-07-27 13:30:44.000000000,2012-07-27 13:30:44.000000000,1,1,0,10405,b6d2608dd2f38168f004471a74c8f3add2008964,5,2,1,1,4330,Tomas Sedovic,tomas-8c8,"Don't use uuidgen in install.sh

uuidgen is not present in Ubuntu. This simply reads 16 bytes from
/dev/random and stores their hex representation.

Change-Id: If1152242b024218f20bd4c787e03836f0d5f49cf
Signed-off-by: Tomas Sedovic <tomas@sedovic.cz>
"
openstack%2Fheat~master~Ifd09f3f566ba3ebd941a6f453953576011b518b9,openstack/heat,master,master,Ifd09f3f566ba3ebd941a6f453953576011b518b9,Add encryption support for authentication information in db.,MERGED,2012-07-27 13:11:27.000000000,2012-07-27 13:11:27.000000000,2012-07-27 13:11:27.000000000,46,0,0,10391,58cd52624b50476ed5ed1c5c0ba7cb1b4d7ba66d,5,2,1,4,2011,Ian Main,imain,"Add encryption support for authentication information in db.

This patch uses an encryption key generated in install.sh to perform
symmetrical encryption on sensitive authentication information stored
in the database for HA operations.

Change-Id: Ifd09f3f566ba3ebd941a6f453953576011b518b9
Signed-off-by: Ian Main <imain@redhat.com>
"
openstack%2Fneutron~master~I0013fd7483c694ef23f875e19dfde1b9b2174d00,openstack/neutron,master,bug/1027194,I0013fd7483c694ef23f875e19dfde1b9b2174d00,Ensure that linuxbridge plugin works with dhcp-agent,ABANDONED,2012-07-27 11:39:56.000000000,2012-07-27 11:39:56.000000000,,38,11,18,10270,72e289622ddf88a00b8512aa8dfbed5e923eb1ed,12,6,3,6,1653,garyk,garyk,"Ensure that linuxbridge plugin works with dhcp-agent

Fixes bug 1027194

When working with a standard linux bridge the tapdevice should not
have the IP address configured. This address should be configured
on the bridge.

Change-Id: I0013fd7483c694ef23f875e19dfde1b9b2174d00
"
openstack%2Foslo-incubator~master~Ia2900e50263950ba40ba86e685640cacaa2137a7,openstack/oslo-incubator,master,importCleanup,Ia2900e50263950ba40ba86e685640cacaa2137a7,Remove unused imports,MERGED,2012-07-27 11:25:09.000000000,2012-07-27 11:25:09.000000000,2012-07-27 11:25:09.000000000,0,4,0,10367,c11a0d419f658fcec716c2d32ee10f17ecbfb2b9,6,3,1,4,1849,Joe Gordon,jogo,"Remove unused imports

Change-Id: Ia2900e50263950ba40ba86e685640cacaa2137a7
"
openstack%2Fnova~master~I22208d3f8c0c3295de2b19e82b2fd6ba79c9105c,openstack/nova,master,bug/1024944,I22208d3f8c0c3295de2b19e82b2fd6ba79c9105c,Support for resizing filesystems directly on root,ABANDONED,2012-07-15 12:31:41.000000000,2012-07-27 06:03:02.000000000,,26,13,8,9839,5d8958bea29478477ba7d39f59689802abc90546,9,8,1,1,1004,Mohammed Naser,mnaser,"Support for resizing filesystems directly on root

At the moment, XenServer requires the disk to have a partition
table as well the operating system to be on the first partition.

However, there are cases when the operating system / file system
is directly on the disk with no partition table.  This commit
automatically detects this and resizing these partitions in a
fail-safe manner.  Fixes LP Bug #1024944

Change-Id: I22208d3f8c0c3295de2b19e82b2fd6ba79c9105c
"
openstack%2Fhorizon~master~I4a18ccf0aa190dc5632ec28b398784b04cf448be,openstack/horizon,master,temp-fix-keystone,I4a18ccf0aa190dc5632ec28b398784b04cf448be,Temp fix for api/keystone.py,MERGED,2012-07-26 09:46:59.000000000,2012-07-27 05:34:33.000000000,2012-07-27 05:34:33.000000000,5,3,0,10333,d0403e9318660e6cfa42c02c6be3b2b800548593,8,3,1,1,2455,Tihomir Trifonov,ttrifonov,"Temp fix for api/keystone.py

as the needed change is not merged yet in keystone...

This is the related change:
   https://review.openstack.org/#/c/9582

As I see there are some arguments around this change.
So either this or the related change should be merged...

Change-Id: I4a18ccf0aa190dc5632ec28b398784b04cf448be
"
openstack%2Fhorizon~master~I38e5c2898f29b8f739659a51b46a032ed49e2b0d,openstack/horizon,master,,I38e5c2898f29b8f739659a51b46a032ed49e2b0d,"Revert ""Allow to use SSL with self-signed certificates""",ABANDONED,2012-07-27 05:19:21.000000000,2012-07-27 05:20:25.000000000,,6,18,0,10392,38e5c2898f29b8f739659a51b46a032ed49e2b0d,1,0,1,4,2458,John Postlethwait,john-postlethwait,"Revert ""Allow to use SSL with self-signed certificates""

This reverts commit 124cec74cfefe1fc59d166ee655036b652640bea

I am doing this because the required keystone change has not yet landed. When it lands, this can go it. Sorry about all of this, it is totally my fault."
openstack%2Fhorizon~master~I4d79c1b12ad830540ca30009bd25edde10c1a055,openstack/horizon,master,insecure_ssl,I4d79c1b12ad830540ca30009bd25edde10c1a055,Allow to use SSL with self-signed certificates,MERGED,2012-07-17 10:38:23.000000000,2012-07-27 05:19:21.000000000,2012-07-26 07:34:32.000000000,18,6,0,9897,124cec74cfefe1fc59d166ee655036b652640bea,20,5,4,4,4375,Sascha Peilicke,saschpe,"Allow to use SSL with self-signed certificates

SSL certificate validity checks fail with self-signed certificates used
in development or in-house environments. This patch adds a new config
value 'OPENSTACK_KEYSTONE_INSECURE_SSL', that allows to disable validity
checks done by keystoneclient, glanceclient and novaclient.

Change-Id: I4d79c1b12ad830540ca30009bd25edde10c1a055
"
openstack%2Fopenstack-manuals~master~I72f4a23305d64598dcdbbb5350227f8dc0f9ed5c,openstack/openstack-manuals,master,bug/1026547,I72f4a23305d64598dcdbbb5350227f8dc0f9ed5c,Fixed bug #1026547 : Cyberduck : more informations on how to use it with Swift - Updates formatting,MERGED,2012-07-23 12:52:25.000000000,2012-07-27 03:02:28.000000000,2012-07-27 03:02:28.000000000,17,13,0,10127,982e016c69062206527b002ea25bbe02621a2b6e,4,3,1,1,1627,Razique Mahroua,razique,"Fixed bug #1026547 : Cyberduck : more informations on how to use it with Swift
- Updates formatting

Change-Id: I72f4a23305d64598dcdbbb5350227f8dc0f9ed5c
"
openstack%2Fopenstack-manuals~stable%2Fessex~I7bd348349ef49d581cbaf284497d13816535a11d,openstack/openstack-manuals,stable/essex,bug/1025847,I7bd348349ef49d581cbaf284497d13816535a11d,"Adds text to explain intro arch diagram, updates dashboard install.",MERGED,2012-07-18 21:04:03.000000000,2012-07-27 02:45:21.000000000,2012-07-27 02:45:20.000000000,305,9,0,9984,dcaeadc200244d147fef7ba52764a0dd2b81eb29,7,4,1,5,964,Anne Gentle,annegentle,"Adds text to explain intro arch diagram, updates dashboard install.

Fixes two doc bugs: bug 1025847, bug 1025840

Commits a cherry-pick https://review.openstack.org/#/c/9934/

Change-Id: I7bd348349ef49d581cbaf284497d13816535a11d
"
openstack%2Fnova~master~Iab7fdb063874972e0bcd91c51bfd0e5b49e8023c,openstack/nova,master,bug/1029721,Iab7fdb063874972e0bcd91c51bfd0e5b49e8023c,Only enforce valid uuids if a uuid is passed.,MERGED,2012-07-27 01:24:51.000000000,2012-07-27 01:51:39.000000000,2012-07-27 01:51:38.000000000,1,1,0,10390,0626def72e8c2271ef72910c1a2f64015ac9c38b,8,4,2,1,2271,Michael Still,mikalstill,"Only enforce valid uuids if a uuid is passed.

This fixes bug 1029721 which was causing instance spawn failures.

Change-Id: Iab7fdb063874972e0bcd91c51bfd0e5b49e8023c
"
openstack%2Fheat~master~Id94cade923280ea1ae40ebdeda9ad6573fb1d14a,openstack/heat,master,master,Id94cade923280ea1ae40ebdeda9ad6573fb1d14a,Add encryption support for authentication information in db.,ABANDONED,2012-07-27 01:38:32.000000000,2012-07-27 01:38:32.000000000,,43,0,0,10372,93a834e5f96af1b145f97ee07d738863a8b7f7b0,2,1,1,4,2011,Ian Main,imain,"Add encryption support for authentication information in db.

This patch uses an encryption key generated in install.sh to perform
symmetrical encryption on sensitive authentication information stored
in the database for HA operations.

Change-Id: Id94cade923280ea1ae40ebdeda9ad6573fb1d14a
Signed-off-by: Ian Main <imain@redhat.com>
"
openstack%2Fnova~master~I840356979e51de3a6d941fe4ae9610e488383a44,openstack/nova,master,compute-filter,I840356979e51de3a6d941fe4ae9610e488383a44,Include architecture in instance base options passed to the scheduler,MERGED,2012-07-26 04:35:38.000000000,2012-07-27 01:07:09.000000000,2012-07-27 01:07:08.000000000,1,0,0,10324,1b18c82ca29e3e510ab521ae58bfcbe6b68bbffe,9,6,1,1,2697,Jim Fehlig,jfehlig,"Include architecture in instance base options passed to the scheduler

Commit 31336b35 removed architecture from the instance base_options
passed to _schedule_run_instance().  The architecture specified in
the image is needed by a subsequent patch to the ComputeFilter which
filters compute hosts against the triple (architecture, hypervisor_type,
vm_mode).

Change-Id: I840356979e51de3a6d941fe4ae9610e488383a44
"
openstack%2Fnova~master~I0665bec6aecd7f7a1d8e845fd930f4bd5a841522,openstack/nova,master,bp/update-flavor-key-value,I0665bec6aecd7f7a1d8e845fd930f4bd5a841522,Enhance nova-manage to set flavor extra specs,MERGED,2012-07-19 01:16:07.000000000,2012-07-27 00:19:37.000000000,2012-07-26 22:14:12.000000000,127,2,8,9998,8644584eb6daf4d2870cee9bba5b849bc37e36d0,24,7,4,2,4573,yunhong-jiang,yunhong-jiang,"Enhance nova-manage to set flavor extra specs

blueprint update-flavor-key-value

Enhance nova-manage so that it can add, delete and list key/value pairs for
flavors extra specs.

Change-Id: I0665bec6aecd7f7a1d8e845fd930f4bd5a841522
Signed-off-by: Yunhong, Jiang <yunhong.jiang@intel.com>
"
openstack%2Fneutron~master~I5dd2467bc5e287bbb5ff4a2527b9f701375fa376,openstack/neutron,master,bug/1029680,I5dd2467bc5e287bbb5ff4a2527b9f701375fa376,ovs_quantum_plugin should use reconnect_interval in common conf.,MERGED,2012-07-26 23:39:10.000000000,2012-07-26 23:39:10.000000000,2012-07-26 23:39:10.000000000,1,1,0,10386,787f763a33cf59a58930e4b6ee329a43d2dbedd0,7,4,1,1,2031,Nachi Ueno,nati-ueno,"ovs_quantum_plugin should use reconnect_interval in common conf.

Fixes Bug : 1029680

Change-Id: I5dd2467bc5e287bbb5ff4a2527b9f701375fa376
"
openstack%2Fnova~stable%2Fdiablo~Ia97a24a26d0dd0787bfa283c11b90b732e542fc5,openstack/nova,stable/diablo,test_diablo,Ia97a24a26d0dd0787bfa283c11b90b732e542fc5,fixed so that tests will pass,ABANDONED,2012-07-24 06:04:11.000000000,2012-07-26 23:25:27.000000000,,6,5,0,10202,725539b635ca0fefd054bd960f99bd182cb87959,2,2,2,4,4277,John Tran,jtran,"fixed so that tests will pass

Change-Id: Ia97a24a26d0dd0787bfa283c11b90b732e542fc5
"
openstack%2Fkeystone~stable%2Fessex~I26c467dc6d96476f2a44b875bddf2cf3aec41859,openstack/keystone,stable/essex,bug/1020569,I26c467dc6d96476f2a44b875bddf2cf3aec41859,Move monkey patch to keystone-all startup.,ABANDONED,2012-07-26 17:32:32.000000000,2012-07-26 22:09:41.000000000,,10,2,0,10359,84be686508f06ea52f0b14c0c0b9a2e2c7d310a6,6,3,1,3,1955,Alan Pevec,apevec,"Move monkey patch to keystone-all startup.

bug 1020569

Change-Id: I26c467dc6d96476f2a44b875bddf2cf3aec41859
"
openstack%2Fnova~master~I2b0c7cbd2ba9b6243c2c50e69e894d192e230491,openstack/nova,master,bp/no-db-messaging,I2b0c7cbd2ba9b6243c2c50e69e894d192e230491,Send a full instance via rpc for finish_resize.,MERGED,2012-07-26 00:12:33.000000000,2012-07-26 21:59:22.000000000,2012-07-26 21:59:21.000000000,46,38,2,10315,cce8270d30a4d8e4a9e6c021056d10e65dc0831c,16,6,3,4,1561,Russell Bryant,russellb,"Send a full instance via rpc for finish_resize.

Change the finish_resize method of the compute rpc API to take
a full instance over rpc instead of just the instance UUID.
This cuts down on database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I2b0c7cbd2ba9b6243c2c50e69e894d192e230491
"
openstack%2Fkeystone~master~I89b5aa609143bbe09a36bfaf64758c5306e86de7,openstack/keystone,master,bug/1003962,I89b5aa609143bbe09a36bfaf64758c5306e86de7,Cryptographically Signed tokens,MERGED,2012-05-24 14:30:23.000000000,2012-07-26 21:50:44.000000000,2012-07-26 21:50:44.000000000,572,110,98,7754,bcc0f6d6fc1f674bc4b340d041b28bc1cfddf66a,64,9,11,17,2218,Adam Young,ayoung,"Cryptographically Signed tokens

Uses CMS to create tokens that can be verified without network calls.

Tokens encapsulate authorization information.
This includes user name and roles in JSON.
The JSON document info is cryptographically signed with a private key
from Keystone, in accordance with the Cryptographic Message Syntax (CMS)
in DER format and then Base64 encoded.  The header, footer, and line breaks
are stripped to minimize the size,  and slashes which are  invalid in Base64
are converted to hyphens.

Since signed tokens are not validated against the Keystone server,  they
continue to be valid until the expiration time.  This means that even if a user
has their roles revoked or their account disabled, those changes will not take
effect until their token times out.  The prototype for this is Kerberos, which
has the same limitation, and has funtioned sucessfully with it for decades.  It
is possible to set the token time out for much shorter than the default of 8
hours, but that may mean that users tokens will time out prior to completion
of long running tasks.

This should be a drop in replacement for the current token production code.
Although  the signed token is longer than the older format, the token is still
a unique stream of Alpha-Numeric characters.

The auth token middle_ware is capable of handling both uuid and signed tokens.

To start with, the PKI functionality is disabled.  This will keep from breaking
the existing deployments.  However,  it can be enabled with the config value:

[signing]
disable_pki = False

The 'id_hash' column is added to the SQL schema because SQL alchemy insists on
each table having a primary key.  However primary keys are limited to roughly
250 Characters (768 Bytes,  but there is more than 1 varchar per byte) so the
ID field cannot be used as the primary key anymore.  id_hash is a hash of the
id column, and should be used for lookups as it is indexed.

middleware/auth_token.py needs to stand alone in the other services, and uses
keystone.common.cms in order to verify tokens.
Token needs to have all of the data from the original authenticate code
contained in the signed document, as the authenticate RPC will no longer
be called in mand cases.

The datetime of expiry is signed in the token.

The certificates are accessible via web APIs.  On the remote service side,
certificates needed to authenitcate tokens are stored in /tmp/keystone-signing
by default.  Remote systems use Paste API to read configuration values.
Certificates are retrieved only if they are not on the local system.

When authenticating in Keystone systems, it still does the Database checks for
token presence.  This allows Keystone to continue to enforce Timeout and
disabled users.

The service catalog has been added to the  signed token.  Although this greatly
increases the size of the token,  it makes it consistant with what is fetched
during the token authenticate checks

This change also fixes time variations in expiry test.  Although unrelated to
the above changes, it was making testing very frustrating.

For the database Upgrade scripts, we now only  bring 'token' up to V1 in 001
script.  This makes it possible to use the same 002 script for both upgrade
and initializing a new database.

Upon upgrade, the current UUID tokens are retained in the id_hash and id fields.
The mechanisms to verify uuid tokens work the same as before.  On downgrade,
token_ids are dropped.

Takes into account changes for ""Raise unauthorized if tenant disabled""

    Bug 1003962

Change-Id: I89b5aa609143bbe09a36bfaf64758c5306e86de7
"
openstack%2Fnova~master~Idd47c5ed3c30af24d60eb23b8e3881d61b4c7976,openstack/nova,master,bp/finish-uuid-conversion,Idd47c5ed3c30af24d60eb23b8e3881d61b4c7976,Convert fixed_ips to using instance_uuid.,MERGED,2012-07-09 10:28:58.000000000,2012-07-26 21:50:37.000000000,2012-07-26 21:50:36.000000000,468,147,2,9510,fc82c6dbbd0fa1cdc130cefea534967e273d5570,26,5,5,19,2271,Michael Still,mikalstill,"Convert fixed_ips to using instance_uuid.

This should be the second last blueprint finish-uuid-conversion change.

Change-Id: Idd47c5ed3c30af24d60eb23b8e3881d61b4c7976
"
openstack%2Fnova~master~I8b137cafe56be5f2f9ffca08c0edc1d1468bc3b1,openstack/nova,master,bug/1029627,I8b137cafe56be5f2f9ffca08c0edc1d1468bc3b1,Ensure instance is moved to ERROR on suspend failure,MERGED,2012-07-26 20:48:35.000000000,2012-07-26 21:50:34.000000000,2012-07-26 21:50:33.000000000,19,1,0,10374,5974c441bd538897bd4547e6a05ee27216461d97,6,3,1,2,100,Johannes Erdfelt,johannes.erdfelt,"Ensure instance is moved to ERROR on suspend failure

Fixes bug 1029627

Change-Id: I8b137cafe56be5f2f9ffca08c0edc1d1468bc3b1
"
openstack%2Fcinder~master~I33f1b579fd6ed4ed98fa04e9148e91eca125213e,openstack/cinder,master,,I33f1b579fd6ed4ed98fa04e9148e91eca125213e,Trim volume type representation.,MERGED,2012-07-26 16:59:51.000000000,2012-07-26 21:48:01.000000000,2012-07-26 21:48:01.000000000,93,4,0,10357,95262bb692746ca89dc01337357c4329766df5e5,12,3,4,4,2284,Eoghan Glynn,eglynn,"Trim volume type representation.

Fixes cinder aspect of LP 1027281.

Use view builder pattern to only include non-extraneous
volume type attributes in the representation.

Change-Id: I33f1b579fd6ed4ed98fa04e9148e91eca125213e
"
openstack%2Fnova~master~I8b49107dba51caf52665341e4977de179b6404f6,openstack/nova,master,master,I8b49107dba51caf52665341e4977de179b6404f6,Remove return values from some compute RPC methods,MERGED,2012-07-26 14:07:21.000000000,2012-07-26 21:39:35.000000000,2012-07-26 21:39:34.000000000,25,19,2,10343,ac180dc10aa0ee7eb5e288f4d51cfe46bff33b2d,13,7,2,2,1247,Mark McLoughlin,markmc,"Remove return values from some compute RPC methods

The checks_instance_lock decorator currently discards any return value
from the functions it wraps. Luckily, none of the callers of these
functions check for a return value.

Since the return values are unused, just remove them. Fixing the
decorator to return them would effectively be a change to the RPC
API.

And since we know the return value is unused, we also know that nothing
checks for the False return from checks_instance_lock() and that too
can be removed.

Change-Id: I8b49107dba51caf52665341e4977de179b6404f6
"
openstack%2Fnova~master~Id47db565c4fb5a88d1a263600b41706dd3419726,openstack/nova,master,bug/1029463,Id47db565c4fb5a88d1a263600b41706dd3419726,Fix exception handling in libvirt attach_volume(),MERGED,2012-07-25 17:35:41.000000000,2012-07-26 21:14:15.000000000,2012-07-26 21:14:14.000000000,8,5,0,10283,4810269ef648348bbc7ef9113d4e7faf47b15c55,14,8,2,1,4393,Dan Smith,danms,"Fix exception handling in libvirt attach_volume()

Currently, the real reason for a failure is dropped when attempting
to unroll the volume connection (with the exception of when it is
VIR_ERR_OPERATION_FAILED). This change uses save_and_reraise_exception()
to correct that so that the actual reason for failure gets logged.

Fixes bug 1029463

Change-Id: Id47db565c4fb5a88d1a263600b41706dd3419726
"
openstack%2Fnova~master~I33f1b579fd6ed4ed98fa04e9148e91eca125213e,openstack/nova,master,,I33f1b579fd6ed4ed98fa04e9148e91eca125213e,Trim volume type representation.,MERGED,2012-07-26 10:26:57.000000000,2012-07-26 21:04:54.000000000,2012-07-26 21:04:53.000000000,93,4,0,10334,eb1e9ae114eccae373157c5391d06c97eec1e0a2,10,6,2,4,2284,Eoghan Glynn,eglynn,"Trim volume type representation.

Fixes nova-volume aspect of LP 1027281.

Use view builder pattern to only include non-extraneous
volume type attributes in the representation.

Change-Id: I33f1b579fd6ed4ed98fa04e9148e91eca125213e
"
openstack%2Fnova~master~I08a5f2a05a228b17ea1269dacf1950a53c6891be,openstack/nova,master,bug/1029532,I08a5f2a05a228b17ea1269dacf1950a53c6891be,"Set minima based on original image for VHD, too",ABANDONED,2012-07-26 17:37:45.000000000,2012-07-26 20:58:25.000000000,,3,39,3,10360,311fc1010314fd1ebd34e0d788b9f79fe68cb7ef,6,4,1,2,616,Mark Washenberger,markwash,"Set minima based on original image for VHD, too

Let snapshots inherit min_disk and min_ram from the original image
for all image types. This addresses bug 1029532.

Change-Id: I08a5f2a05a228b17ea1269dacf1950a53c6891be
"
openstack%2Fheat~master~Iee8c08a14cf798440dc8cbe985d1de3f326ab7e8,openstack/heat,master,master,Iee8c08a14cf798440dc8cbe985d1de3f326ab7e8,Also get rid of PyCrypto in pip-requires,ABANDONED,2012-07-26 20:36:12.000000000,2012-07-26 20:36:12.000000000,,0,1,0,10218,6eceee3861d6b5e1b24d1d82aa3fad61069512ea,2,1,1,1,3098,Jeff Peeler,jpeeler-z,"Also get rid of PyCrypto in pip-requires

Change-Id: Iee8c08a14cf798440dc8cbe985d1de3f326ab7e8
Signed-off-by: Jeff Peeler <jpeeler@redhat.com>
"
openstack%2Fpython-neutronclient~master~Id186139a01c9f2cfc36ca3405b4024bd7780622e,openstack/python-neutronclient,master,bug/979527,Id186139a01c9f2cfc36ca3405b4024bd7780622e,Allow to retrieve objects by name,MERGED,2012-07-26 20:12:21.000000000,2012-07-26 20:12:21.000000000,2012-07-26 20:12:21.000000000,134,28,11,10276,d16e00a056bbe7ba576c4b7195180bfc383bbfad,17,4,2,9,261,Salvatore Orlando,salvatore-orlando,"Allow to retrieve objects by name

Fixes bug 979527

xxx-show commands now can accept either an id or a name of the resource to
retrieve, similarly to the ""nova get"" command. This has been preferred to
using mutually exclusive keyword argument, in order to avoid confusion
with other CLI tools.

NOTE: the current patch allow search by name only for networks.
The restriction will be lifted once name attributes for port and subnets
are added.

Change-Id: Id186139a01c9f2cfc36ca3405b4024bd7780622e
"
openstack%2Fnova~master~I2d7e7947b14272fa2a82d5e8eefa95dcaba375f7,openstack/nova,master,is-string-literal,I2d7e7947b14272fa2a82d5e8eefa95dcaba375f7,Avoid using 'is' operator when comparing strings,MERGED,2012-07-26 19:42:22.000000000,2012-07-26 20:12:19.000000000,2012-07-26 20:12:18.000000000,7,7,0,10371,6c084991bfdafda7d75d0a49d4359b42b9c6451f,6,3,1,2,100,Johannes Erdfelt,johannes.erdfelt,"Avoid using 'is' operator when comparing strings

The 'is' operator compares identity, not value. Python doesn't guarantee
that two strings that are the same will also be the same object.

Change-Id: I2d7e7947b14272fa2a82d5e8eefa95dcaba375f7
"
openstack%2Fglance~master~Ib34e9800833a6913c992de1a18f9fc331661f057,openstack/glance,master,bp/api-2,Ib34e9800833a6913c992de1a18f9fc331661f057,Add Content-MD5 header to V2 API image download,MERGED,2012-07-26 16:14:55.000000000,2012-07-26 19:58:15.000000000,2012-07-26 19:58:15.000000000,27,1,0,10349,1090dbecfa74e97b48bb974834186860c501f7da,7,4,1,3,4950,lars-gellrich,lars-gellrich,"Add Content-MD5 header to V2 API image download

If an image is downloaded via the V2 API and its checksum is known
(not None), assign the checksum to the Content-MD5 header.

Related to blueprint api-2

Change-Id: Ib34e9800833a6913c992de1a18f9fc331661f057
"
openstack%2Fnova~master~If98892703bc557732093230b023085c4744b8455,openstack/nova,master,xenapi-resize,If98892703bc557732093230b023085c4744b8455,Fix resizing VDIs on XenServer >= 6,MERGED,2012-07-26 18:54:30.000000000,2012-07-26 19:52:08.000000000,2012-07-26 19:52:07.000000000,11,10,0,10368,177ad3f61268c58bbbd211d6255381fc8b85c58d,10,6,1,1,100,Johannes Erdfelt,johannes.erdfelt,"Fix resizing VDIs on XenServer >= 6

The check used 'is' when it should have been '=='.

Also, a couple of small cleanups to make the code easier to read.

Change-Id: If98892703bc557732093230b023085c4744b8455
"
openstack%2Fnova~master~I5bffe3b61fe92fc32fb70cab941fa5ecd250df77,openstack/nova,master,bug/1029132,I5bffe3b61fe92fc32fb70cab941fa5ecd250df77,Allow power_off when instance doesn't exist,MERGED,2012-07-26 18:49:45.000000000,2012-07-26 19:21:21.000000000,2012-07-26 19:21:21.000000000,6,2,0,10366,27826a84cc603772dd4fb9fc7360b27e0f52b322,6,3,1,1,679,Kevin L. Mitchell,klmitch,"Allow power_off when instance doesn't exist

Certain errors that can occur while booting an instance may leave no
VM on the Xen hypervisor.  This can make that instance undeletable,
since the first step in soft_delete() is to power_off the instance,
and nothing catches the NotFound error thrown if the instance doesn't
exist.  The libvirt support handles the case of a non-existant
instance by ignoring NotFound--after all, a non-existant instance is,
by definition, powered off, right?

Fixes bug 1029132.

Change-Id: I5bffe3b61fe92fc32fb70cab941fa5ecd250df77
"
openstack%2Fnova~master~I400616081e1e547b9ca2e0be622889d3a399a5bf,openstack/nova,master,bug/1029397,I400616081e1e547b9ca2e0be622889d3a399a5bf,Refactor glance image service code,MERGED,2012-07-26 12:29:58.000000000,2012-07-26 19:20:25.000000000,2012-07-26 19:20:24.000000000,287,113,8,10339,0c59003b1cc2ce17e3215e6c69b0dc2407f1b38b,17,5,4,6,1030,Chris Behrens,cbehrens,"Refactor glance image service code

Fixes bug 1029397

This adds better retry support, making sure that if we need to retry
requests to glance, we cycle through all hosts before potentially
attemping the hosts that failed.  The old random selection could cause
immediate retrying of the same host that failed.

This also adds logging of the host:port that failed and fixes a bug in
the retry test, which didn't actually successfully test retrying.

Tests for new code added.

Change-Id: I400616081e1e547b9ca2e0be622889d3a399a5bf
"
openstack%2Fnova~master~I46ece309480ce0a0941a96371a51d77712c41eb6,openstack/nova,master,bug/1029501,I46ece309480ce0a0941a96371a51d77712c41eb6,Don't import libvirt_utils in disk api.,MERGED,2012-07-26 15:25:27.000000000,2012-07-26 18:43:56.000000000,2012-07-26 18:43:55.000000000,34,21,0,10347,f6f293ea44c73c59e651817a9315778ab5aa0e5e,26,7,4,6,360,Dan Prince,dan-prince,"Don't import libvirt_utils in disk api.

Updates the virt/disk/api so that we no longer import libvirt_utils.

This fixes issues when using Nova compute with compute drivers other
than libvirt. (xenapi, etc.)

Fixes LP Bug #1029501.

Change-Id: I46ece309480ce0a0941a96371a51d77712c41eb6
"
openstack%2Fnova~master~I14581171c201770b03cecc77d4a2933c9687ef11,openstack/nova,master,master,I14581171c201770b03cecc77d4a2933c9687ef11,Reinstate instance locked error logging,MERGED,2012-07-26 14:07:21.000000000,2012-07-26 18:36:37.000000000,2012-07-26 18:36:36.000000000,2,0,2,10342,1dab66327368dab8271ee68db0c0bbb97c8d0555,11,4,2,1,1247,Mark McLoughlin,markmc,"Reinstate instance locked error logging

Commit eebc64f removed some error logging, presumably by mistake.

If checks_instance_state fails, and the action blocked, users aren't
notified but the error is logged for admins. Changing this behavior
clearly wasn't the intent of the no-db-messaging commit.

Change-Id: I14581171c201770b03cecc77d4a2933c9687ef11
"
openstack%2Fnova~master~I38779cbc84c5eacd796ce1ae5559d1ebffd1037e,openstack/nova,master,bug/888229,I38779cbc84c5eacd796ce1ae5559d1ebffd1037e,Call correct implementation for quota_destroy_all_by_project,MERGED,2012-07-26 16:41:03.000000000,2012-07-26 18:36:34.000000000,2012-07-26 18:36:33.000000000,1,1,0,10352,b55d533393ec9cbf15d4161e4aef1c64f1ba8c58,9,6,1,1,100,Johannes Erdfelt,johannes.erdfelt,"Call correct implementation for quota_destroy_all_by_project

Fixes bug 888229

Change-Id: I38779cbc84c5eacd796ce1ae5559d1ebffd1037e
"
openstack%2Fglance~master~I2a393d9b01c8ae17f289941530a1d4319b174f87,openstack/glance,master,bug/987399,I2a393d9b01c8ae17f289941530a1d4319b174f87,Make functional tests listen on 127.0.0.1.,MERGED,2012-07-19 19:53:32.000000000,2012-07-26 18:02:24.000000000,2012-07-26 18:02:24.000000000,326,311,0,10030,687604baf67fdbf69cb45dd34a2e6ec98062ee4d,27,5,8,18,209,Josh Kearney,jk0,"Make functional tests listen on 127.0.0.1.

Fixes bug 987399.

Change-Id: I2a393d9b01c8ae17f289941530a1d4319b174f87
"
openstack%2Fheat~master~Ia7ac65033560bcff1db83d4d673945029e06ea6a,openstack/heat,master,master,Ia7ac65033560bcff1db83d4d673945029e06ea6a,Change to per-tenant stacks.,MERGED,2012-07-26 17:52:11.000000000,2012-07-26 17:52:11.000000000,2012-07-26 17:52:11.000000000,45,19,0,10290,e646e66728e5ca9f627c56137a40c74a195060a1,5,2,1,7,2011,Ian Main,imain,"Change to per-tenant stacks.

This patch switches from per-user stacks to per-tenant stacks.

Change-Id: Ia7ac65033560bcff1db83d4d673945029e06ea6a
Signed-off-by: Ian Main <imain@redhat.com>
"
openstack%2Fnova~master~I56acde254c932a8e66f941aaeb7304665500610f,openstack/nova,master,bug/1023827,I56acde254c932a8e66f941aaeb7304665500610f,update compute_fill_first_cost_fn docstring,MERGED,2012-07-24 18:17:56.000000000,2012-07-26 17:43:34.000000000,2012-07-26 17:43:33.000000000,7,2,3,10240,c3ff5c5e932509a56bddab625513dc1663b0f1df,16,8,3,1,2750,Sean Dague,sdague,"update compute_fill_first_cost_fn docstring

The default value for weight of the compute_fill_first_cost_fn is
actually -1.0, which means it does exactly the opposite of what
the function docstring says it does. Update the docstring to
warn people of this fact.

Issue reported via bug #1023827 which was closed as won't fix
but the docs should be clearer. Updated based on feedback.

Change-Id: I56acde254c932a8e66f941aaeb7304665500610f
"
openstack%2Fdevstack-gate~master~I76728a215d2ff00572f912a53d1d9b81306dd557,openstack/devstack-gate,master,master,I76728a215d2ff00572f912a53d1d9b81306dd557,Fix stable branch conditional.,MERGED,2012-07-26 17:35:25.000000000,2012-07-26 17:35:25.000000000,2012-07-26 17:35:25.000000000,2,3,0,10353,c4cc52393d27add424332f23d8273d5bc538334c,6,3,1,2,1,James E. Blair,corvus,"Fix stable branch conditional.

Change-Id: I76728a215d2ff00572f912a53d1d9b81306dd557
"
openstack%2Fnova~master~Id984e0c431b6fc743a39e6e6f3dc3eb289fbb43a,openstack/nova,master,master,Id984e0c431b6fc743a39e6e6f3dc3eb289fbb43a,libvirt driver: set driver name consistently,MERGED,2012-07-24 20:26:43.000000000,2012-07-26 17:23:17.000000000,2012-07-26 17:23:16.000000000,49,10,9,10247,8f1664416abf7aaf8e049ba26ca404ab627b7d57,34,7,10,4,1119,Christoph Thiel,cthiel-suse,"libvirt driver: set driver name consistently

Add pick_disk_driver_name to utils, to be able to set driver_name
consistently across volume and imagebackend. This is mostly required for
xen.

Xen requires specifying both the driver name and type attributes when
defining disks.  E.g. the following disk XML snippet

  <disk type='file' device='disk'>
    <driver type='qcow2'/>
    <source file='/tmp/disk0.qcow2'/>
    <target dev='xvda'/>
  </disk>

produces incorrect configuration in the xen tools

  (uname file:/tmp/disk0.qcow2)

Including the driver name fixes this

  <disk type='file' device='disk'>
    <driver name='tap' type='qcow2'/>
    <source file='/tmp/disk0.qcow2'/>
    <target dev='xvda'/>
  </disk>

produces

  (uname tap:qcow2:/tmp/disk0.qcow2)

Change-Id: Id984e0c431b6fc743a39e6e6f3dc3eb289fbb43a
"
openstack%2Fpython-keystoneclient~master~I80ca88299a62e25571d30bd8b10fb9c5d992f85f,openstack/python-keystoneclient,master,master,I80ca88299a62e25571d30bd8b10fb9c5d992f85f,peg prettytable at 0.6,ABANDONED,2012-07-26 16:50:56.000000000,2012-07-26 17:06:58.000000000,,1,1,0,10356,9a02b39da9a09143fc33bd1fb0aefb628f28e398,1,0,1,1,2,Monty Taylor,mordred,"peg prettytable at 0.6

Other projects have a hard require on 0.6. If keystoneclient gets
installed first, it can cause havoc.

Change-Id: I80ca88299a62e25571d30bd8b10fb9c5d992f85f
"
openstack%2Fpython-glanceclient~master~I21824a2b6324add55865597928bd181fd35dc17c,openstack/python-glanceclient,master,master,I21824a2b6324add55865597928bd181fd35dc17c,prettytable needs to peg at 0.6,ABANDONED,2012-07-26 16:49:34.000000000,2012-07-26 17:06:50.000000000,,1,1,0,10354,c6f2eca609b1897b2aa7ee20d92accf40e6d090c,1,0,1,1,2,Monty Taylor,mordred,"prettytable needs to peg at 0.6

Other projects have a hard-reuqire of 0.6. If glanceclient happens
to be installed first, havoc can ensue.

Change-Id: I21824a2b6324add55865597928bd181fd35dc17c
"
openstack%2Ftempest~master~Iabf521f59140aa5afc1649d66760b9323dc03687,openstack/tempest,master,bug/1029015,Iabf521f59140aa5afc1649d66760b9323dc03687,fix for Bug 1029015.Added single quotes to remove unnecessary space in msg,MERGED,2012-07-25 20:51:06.000000000,2012-07-26 16:28:18.000000000,2012-07-26 16:28:18.000000000,2,2,0,10296,d6a3fa5d306c522db381339e0ec5b388194e97ac,7,4,1,1,1687,nayna-patel,nayna-patel,"fix for Bug 1029015.Added single quotes to remove unnecessary space in msg

Change-Id: Iabf521f59140aa5afc1649d66760b9323dc03687
"
openstack%2Fneutron~master~I7c7e029fbf88e0fd62aba821e81a55d3aca02190,openstack/neutron,master,lb-agent,I7c7e029fbf88e0fd62aba821e81a55d3aca02190,Fix linuxbridge agent tests,MERGED,2012-07-26 16:26:37.000000000,2012-07-26 16:26:37.000000000,2012-07-26 16:26:37.000000000,3,1,0,10274,c0cdfff5dbf3fb00cbf98145d466b9260aad3c2b,9,5,1,1,1653,garyk,garyk,"Fix linuxbridge agent tests

Agent tests failing missing parameter in setUp

Change-Id: I7c7e029fbf88e0fd62aba821e81a55d3aca02190
"
openstack%2Fneutron~master~I3bd7701526a950c360d7c2cf14b31045010b46ca,openstack/neutron,master,bp/agent-logging,I3bd7701526a950c360d7c2cf14b31045010b46ca,Enable agents and plugins to use the same configuration file.,MERGED,2012-07-26 16:25:20.000000000,2012-07-26 16:25:20.000000000,2012-07-26 16:25:20.000000000,145,482,1,10234,610017c460b85e1b7d11327d050972bb03fcc0c3,18,6,5,18,1653,garyk,garyk,"Enable agents and plugins to use the same configuration file.

The change also implements blueprint agent-logging (this
was due to the fact that the existing logging in the agents
did not work with the change)

Devstack support for the above is in
https://review.openstack.org/10267

Notes:
- The service and agent can be run with multiple configuration
  files by using the CLI parameters --config-file <filename>
- The agent now makes use of the logging and debugging flags
  defined in quantum.conf. This follows the standard common
  configuration command line rules.

Change-Id: I3bd7701526a950c360d7c2cf14b31045010b46ca
"
openstack%2Fdevstack-gate~master~I2f9295ad194739823086343d733e06c6f2cdbcaf,openstack/devstack-gate,master,master,I2f9295ad194739823086343d733e06c6f2cdbcaf,Only use cinder in >essex.,MERGED,2012-07-26 15:57:50.000000000,2012-07-26 15:57:50.000000000,2012-07-26 15:57:50.000000000,7,1,0,10344,398f6af1d8b2f51288bb198b17ca88bd3392dd1c,5,2,1,1,1,James E. Blair,corvus,"Only use cinder in >essex.

Change-Id: I2f9295ad194739823086343d733e06c6f2cdbcaf
"
openstack%2Fnova~master~I1ee24fa2029f21706924cc19dfcbc41655b022e6,openstack/nova,master,bug/1029014,I1ee24fa2029f21706924cc19dfcbc41655b022e6,Replace subprocess.check_output with Popen,MERGED,2012-07-26 09:18:51.000000000,2012-07-26 14:33:47.000000000,2012-07-26 14:33:47.000000000,7,1,0,10331,e6f2e886a4246098eefae9d9a564b321b28280c2,8,5,1,1,1030,Chris Behrens,cbehrens,"Replace subprocess.check_output with Popen

The check_output method does not exist in python 2.6

Fixes bug 1029014

Change-Id: I1ee24fa2029f21706924cc19dfcbc41655b022e6
"
openstack%2Fnova~master~I739dd246410c215f401ebd3a92b8207f46e8fb9a,openstack/nova,master,qemu-info,I739dd246410c215f401ebd3a92b8207f46e8fb9a,refactor all uses of the `qemu-img info` command,MERGED,2012-07-23 23:05:54.000000000,2012-07-26 14:28:19.000000000,2012-07-26 14:28:19.000000000,47,79,1,10186,5d8e73ff17178f6a5b1125dcc7be946a134d77f5,19,10,2,7,1812,p-draigbrady,p-draigbrady,"refactor all uses of the `qemu-img info` command

* nova/virt/images.py: Define a single function that
calls `qemu-img info` in a robust manner, by avoiding
locale issues etc.
* nova/virt/libvirt/utils.py: Define secondary functions
to parse items returned from images.qemu_img_info().
* nova/virt/libvirt/driver.py: Use the libvirt.utils functions.
* nova/virt/disk/api.py: Likewise.
* nova/tests/test_libvirt.py: Remove no longer needed stub
for utils.execute('qemu-img info'). Adjust to a more restrictive
`qemu-img info` format, and more robust calling signature.
* nova/tests/test_imagebackend.py: Adjust to moved method.

Change-Id: I739dd246410c215f401ebd3a92b8207f46e8fb9a
"
openstack%2Fdevstack-gate~master~Ia08d70600e012be7759a03f3afe21aa09b804262,openstack/devstack-gate,master,bug/1027344,Ia08d70600e012be7759a03f3afe21aa09b804262,Generate AUTHORS and ChangeLog for devstack-gate.,MERGED,2012-07-26 14:21:41.000000000,2012-07-26 14:21:41.000000000,2012-07-26 14:21:41.000000000,418,1,0,10091,393e2756444da28d7ffa6de475bb81eb76f6ca2d,6,3,1,8,2934,Bhuvan Arumugam,bhuvan,"Generate AUTHORS and ChangeLog for devstack-gate.

Bug: 1027344

Inline with changes in other projects, generate AUTHORS
and ChangeLog to include in release package.

* .gitignore
  Ignore these 2 files.

* MANIFEST.in
  Include them in the package.

* setup.py
  Command class to generate these files, from openstack.common.

* devstackgate/openstack/common/setup.py
  Import from openstack.common project.

* openstack-common.conf
  Configuration file to sync changes using the update script.

Change-Id: Ia08d70600e012be7759a03f3afe21aa09b804262
"
openstack%2Fglance~master~I43f33594fb40dee33ef52e8ae873722e20b09a10,openstack/glance,master,bp/swift-tenant-specific-storage,I43f33594fb40dee33ef52e8ae873722e20b09a10,Store swift images in separate containers.,MERGED,2012-07-09 21:28:06.000000000,2012-07-26 14:05:49.000000000,2012-07-26 14:05:49.000000000,37,14,7,9554,6668a6111954af0d2e5d560e96cecf8e51e87c95,26,5,5,2,360,Dan Prince,dan-prince,"Store swift images in separate containers.

Updates the swift storage backend so that when using multi tenant
each images gets stored in a separate container.

As part of this change the unit tests were updated to generate unique
swift container names for each test. This acts as a container prefix
in multi-tenant mode so the tests were also updated to cleanup all
swift containers matching the container name prefix as well.

The motivation for this change is so that we can set swift read/write
permissions on each individual image.

Partially implements blueprint: swift-tenant-specific-storage.

Change-Id: I43f33594fb40dee33ef52e8ae873722e20b09a10
"
openstack%2Fnova~master~Ibc5e4f16c393bf97fcc4fe9b76e6b435eb99de87,openstack/nova,master,bp/no-db-messaging,Ibc5e4f16c393bf97fcc4fe9b76e6b435eb99de87,Send a full instance via rpc for detach_volume.,MERGED,2012-07-26 00:12:33.000000000,2012-07-26 13:53:59.000000000,2012-07-26 03:03:37.000000000,16,9,0,10314,ad59c9236dd61890a0d182f55bf8c84a776b6dc1,15,5,2,3,1561,Russell Bryant,russellb,"Send a full instance via rpc for detach_volume.

Change the detach_volume method of the compute rpc API to take
a full instance over rpc instead of just the instance UUID.
This cuts down on database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: Ibc5e4f16c393bf97fcc4fe9b76e6b435eb99de87
"
openstack%2Fnova~master~I58313564b240c6b55de1849efc2d5d9031a1c97c,openstack/nova,master,bp/no-db-messaging,I58313564b240c6b55de1849efc2d5d9031a1c97c,Send a full instance via rpc for confirm_resize.,MERGED,2012-07-26 00:12:33.000000000,2012-07-26 13:53:59.000000000,2012-07-26 13:53:58.000000000,22,14,0,10313,bfc335f0f43b868f75fcd9d1e148bb6fca397b83,10,6,2,3,1561,Russell Bryant,russellb,"Send a full instance via rpc for confirm_resize.

Change the confirm_resize method of the compute rpc API to take
a full instance over rpc instead of just the instance UUID.
This cuts down on database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I58313564b240c6b55de1849efc2d5d9031a1c97c
"
openstack%2Fnova~master~I0ae2cd3f25339d91fbd27f8a157b3f95e2acbc6f,openstack/nova,master,bp/no-db-messaging,I0ae2cd3f25339d91fbd27f8a157b3f95e2acbc6f,Remove unused methods from compute rpcapi.,MERGED,2012-07-26 00:12:32.000000000,2012-07-26 13:50:57.000000000,2012-07-26 03:54:15.000000000,0,12,0,10312,2fed9559934fb44eed394f12aba8c8ff0dcdb60c,11,6,2,1,1561,Russell Bryant,russellb,"Remove unused methods from compute rpcapi.

Remove some deprecated methods from the compute rpcapi.  These methods
remain in the compute manager code, but there is no need to have them
here in the client side code since they aren't used and we don't want
any new code trying to use them.

Change-Id: I0ae2cd3f25339d91fbd27f8a157b3f95e2acbc6f
"
openstack%2Fnova~master~Ifc655fb86c94adc9a64e878a89a77342313cace2,openstack/nova,master,bp/no-db-messaging,Ifc655fb86c94adc9a64e878a89a77342313cace2,Send a full instance via rpc for check_can_live_migrate_source.,MERGED,2012-07-26 00:12:32.000000000,2012-07-26 13:50:57.000000000,2012-07-26 13:50:56.000000000,21,14,0,10311,7c489cbdf45cdc9c4fb6d1ecfed52fe8702ed52f,10,6,2,4,1561,Russell Bryant,russellb,"Send a full instance via rpc for check_can_live_migrate_source.

Change the check_can_live_migrate_source method of the compute
rpc API to take a full instance over rpc instead of just the instance
UUID.  This cuts down on database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: Ifc655fb86c94adc9a64e878a89a77342313cace2
"
openstack%2Fnova~master~Ic6334b20f5f06631b7a5579a4d1b2303685463eb,openstack/nova,master,hackingCommit,Ic6334b20f5f06631b7a5579a4d1b2303685463eb,Add git commit message validation to hacking.py,MERGED,2012-07-18 22:27:20.000000000,2012-07-26 12:56:45.000000000,2012-07-24 11:37:21.000000000,29,1,7,9994,7a376fa48b8230b8cfebafeaf28ca879216d42a9,44,14,5,1,1849,Joe Gordon,jogo,"Add git commit message validation to hacking.py

Adds N801: git commit title should provide a description

Change-Id: Ic6334b20f5f06631b7a5579a4d1b2303685463eb
"
openstack%2Ftempest~master~I14a59b9e0a52c37cb9ce475a71c5f91390b525d5,openstack/tempest,master,,I14a59b9e0a52c37cb9ce475a71c5f91390b525d5,Allow 201 status for volume creation.,ABANDONED,2012-07-20 14:56:00.000000000,2012-07-26 12:34:29.000000000,,2,2,0,10058,c8ad1f4d024231a616846037af8ef465d827f9fb,3,2,1,1,2284,Eoghan Glynn,eglynn,"Allow 201 status for volume creation.

Lines up Tempest with the changed proposed to nova here:

  https://review.openstack.org/10047

To avoid a chicken-and-egg scenario, as Tempest gates nova merges,
we allow either 200 or 201 status for a temporary transition period.

Change-Id: I14a59b9e0a52c37cb9ce475a71c5f91390b525d5
"
openstack%2Fnova~master~Ia80fa5103e342c8e51772b0edc2a115abeaddf36,openstack/nova,master,,Ia80fa5103e342c8e51772b0edc2a115abeaddf36,Fix a couple of PEP8 nits.,MERGED,2012-07-26 10:34:03.000000000,2012-07-26 12:01:54.000000000,2012-07-26 12:01:53.000000000,3,2,0,10335,fda8a73cb6463916240104f4c95ef0495b7f7041,8,5,1,1,2284,Eoghan Glynn,eglynn,"Fix a couple of PEP8 nits.

Address a couple of recently introduced PEP8 violations in
console output API extension.

Change-Id: Ia80fa5103e342c8e51772b0edc2a115abeaddf36
"
openstack%2Fceilometer~master~I0dd34f620eed5f43af6da5b02f9c41d35287c275,openstack/ceilometer,master,bug/fix-nova-config-use,I0dd34f620eed5f43af6da5b02f9c41d35287c275,Fix nova configuration loading,MERGED,2012-07-26 11:43:20.000000000,2012-07-26 11:43:20.000000000,2012-07-26 11:43:20.000000000,26,6,0,10291,2fe0a3c3ef15b163310abda879ddb18b022fbd1a,12,5,3,3,2472,Doug Hellmann,doug-hellmann,"Fix nova configuration loading

It seems some option handling within nova has changed, so we need
to update our use of the configuration object. These changes ensure
that the options we care about are registered before they are used.

Change-Id: I0dd34f620eed5f43af6da5b02f9c41d35287c275
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fhorizon~master~I70aac3b843434736159c4266b41f6ebd1f5109c7,openstack/horizon,master,run_selenium_tests,I70aac3b843434736159c4266b41f6ebd1f5109c7,Add run_tests flag to run only selenium tests.,MERGED,2012-07-25 22:21:42.000000000,2012-07-26 07:32:23.000000000,2012-07-26 07:32:23.000000000,11,3,0,10301,1118b29c7e4b9cbec673f36dcf16b885a2764361,6,4,1,2,4146,Clark Boylan,cboylan,"Add run_tests flag to run only selenium tests.

The new Jenkins job to run the selenium tests is running all of the
python27 unittests as well which have their own job. Add a new flag,
--only-selenium, to run only the selenium tests. This will allow
Jenkins to better partition work and prevent redundancy.

Change-Id: I70aac3b843434736159c4266b41f6ebd1f5109c7
"
openstack%2Fglance~master~I86dd49bb6001c0612d7ac1b015b2757dabb49d14,openstack/glance,master,9492,I86dd49bb6001c0612d7ac1b015b2757dabb49d14,Use PBR for versioning.,ABANDONED,2012-07-17 22:37:13.000000000,2012-07-26 06:03:04.000000000,,24,291,0,9943,6ee283716066ca5e32a3b2d932e1ca547f724a34,20,5,6,12,2,Monty Taylor,mordred,"Use PBR for versioning.

pbr contains the code that used to be in opestack.common setup and
version.  It gets bootstrapped for python via setup_requires, and
then installs a set of setuptools entry_points which register the
various hooks needed to rework how version and dependency processing
happens. Additionally, it takes care of other things that our
projects all standardly do, such as Authors and ChangeLog creation,
sphinx standard locations and setuptools-git dependencies.

Uptream code is managed in OpenStack's gerrit at openstack-dev/pbr
and can be found on pypi.

If we can get on this bandwagon, we should be able to manage this via
normal python dependencies rather than copying code into the projects
via openstack.common's update.py.

Change-Id: I86dd49bb6001c0612d7ac1b015b2757dabb49d14
"
openstack%2Fnova~master~I1b7a35c1951a923585bddb119598d8b41ff057ab,openstack/nova,master,master,I1b7a35c1951a923585bddb119598d8b41ff057ab,Various translation and locale msgid fixes,ABANDONED,2012-07-10 19:58:09.000000000,2012-07-26 06:03:03.000000000,,38,36,0,9607,ab1034ecc1942995a4d920f50a9f62aba370fe19,13,6,2,25,1699,Matt Joyce,matt-nycresistor,"Various translation and locale msgid fixes

Change-Id: I1b7a35c1951a923585bddb119598d8b41ff057ab
"
openstack%2Fneutron~master~I40c834ed66e2da14a414232c86c9fd4f5c1d9154,openstack/neutron,master,name,I40c834ed66e2da14a414232c86c9fd4f5c1d9154,add name into port and subnet.,MERGED,2012-07-26 05:59:41.000000000,2012-07-26 05:59:41.000000000,2012-07-26 05:59:41.000000000,35,19,2,9836,ddef83ed1900df6aa692d7ae624890a40e8c7b2d,19,9,3,5,2874,yong sheng gong,gongysh,"add name into port and subnet.

f-3-cli-usability-improvments

The name is optional to create network/port/subnet and is up to user to
decide its uniqueness.

Change-Id: I40c834ed66e2da14a414232c86c9fd4f5c1d9154
"
openstack%2Fnova~master~I15388db5eb684a9f5cfe74f4c2a32b6c87f57894,openstack/nova,master,cleanScheduler,I15388db5eb684a9f5cfe74f4c2a32b6c87f57894,Remove unused scheduler functions,MERGED,2012-07-26 00:42:42.000000000,2012-07-26 05:40:11.000000000,2012-07-26 02:59:23.000000000,0,254,0,10318,2aaa3d2860eed7574c5df64a8ceeb8a6adf23460,7,4,1,8,1849,Joe Gordon,jogo,"Remove unused scheduler functions

* get_service_capabilities
* get_host_list
* host_service_caps_stale
* delete_expired_host_services

The functions were introduced in d328ddcadb24d1b1961bd05a7676bc8f54b6776f
but are currently unused outside of nova.tests

Change-Id: I15388db5eb684a9f5cfe74f4c2a32b6c87f57894
"
openstack%2Fnova~master~I17228e50d6f54632f3bfc32a682e511f876517ec,openstack/nova,master,validate_vhd_timestamp,I17228e50d6f54632f3bfc32a682e511f876517ec,Xen: Validate VHD footer timestamps.,MERGED,2012-07-24 18:27:23.000000000,2012-07-26 04:52:22.000000000,2012-07-26 04:52:21.000000000,24,0,0,10242,dd54a15a7f3964addae3eef9a4eef30d22690b97,6,3,1,1,475,Rick Harris,rconradharris,"Xen: Validate VHD footer timestamps.

This is a sanity check to ensure the footer timestamps on a VHD are
reasonable (e.g. not in the future). This condition can occur if the
local time for the source and destination machines in a migration are
not in agreement, requiring an adjustment to /etc/localtime and/or NTP
reconfiguration.

Without this check there is a risk of importing a corrupt VHD into the
SR causing the entire SR to become corrupted.

Change-Id: I17228e50d6f54632f3bfc32a682e511f876517ec
"
openstack%2Fnova~master~I89c382b85aa6d0eb3dc957803f3ea34e3a36e9d4,openstack/nova,master,stress_test_script,I89c382b85aa6d0eb3dc957803f3ea34e3a36e9d4,Xen: Add race-condition troubleshooting script.,MERGED,2012-07-25 00:32:15.000000000,2012-07-26 04:51:56.000000000,2012-07-26 04:51:55.000000000,172,0,0,10257,196a4892fcffdd0b2d0f2caa7996e5bde1858268,7,4,1,1,475,Rick Harris,rconradharris,"Xen: Add race-condition troubleshooting script.

This stress-test runs builds and migrations concurrently making it
easier to uncovers certain types of race-conditions in the virt-layer
code.

Change-Id: I89c382b85aa6d0eb3dc957803f3ea34e3a36e9d4
"
openstack%2Fnova~master~I89120f0e9b7a33c00b9b4b629d61d44d0e9b518f,openstack/nova,master,bug/1029049,I89120f0e9b7a33c00b9b4b629d61d44d0e9b518f,Don't log debug auth token when using cinder.,MERGED,2012-07-25 18:33:37.000000000,2012-07-26 04:17:15.000000000,2012-07-26 04:17:14.000000000,1,2,0,10288,543aba72e15fb6d37043d009b5478240942678fd,8,5,1,1,360,Dan Prince,dan-prince,"Don't log debug auth token when using cinder.

Updates a log messages in the Nova cinderclient function so
it doesn't log the auth token from the request context.

Also properly localizes the log message.

Fixes LP Bug #1029049.

Change-Id: I89120f0e9b7a33c00b9b4b629d61d44d0e9b518f
"
openstack%2Fnova~master~Ia2a2b26bc67cf152963533d68a774f454d763cbd,openstack/nova,master,simpleSched,Ia2a2b26bc67cf152963533d68a774f454d763cbd,Shrink Simple Scheduler,MERGED,2012-07-25 22:34:47.000000000,2012-07-26 04:13:34.000000000,2012-07-26 04:13:33.000000000,43,68,2,10303,32bb352f4cf413397e8616e898ee9a52bbbe0a55,13,6,3,2,1849,Joe Gordon,jogo,"Shrink Simple Scheduler

* The same functionality exists in the filter scheduler, except for
  nova volumes. So just keep nova-volume scheduling here.
* Add very basic Simple Scheduler testing
* Simple Scheduler will be completely removed after Folsom release

Change-Id: Ia2a2b26bc67cf152963533d68a774f454d763cbd
"
openstack%2Fnova~master~I98a403fc4af7c3660c5144e532a318151c6c3b54,openstack/nova,master,bp/no-db-messaging,I98a403fc4af7c3660c5144e532a318151c6c3b54,Send a full instance via rpc for check_can_live_migrate_destination.,MERGED,2012-07-26 00:12:32.000000000,2012-07-26 04:04:29.000000000,2012-07-26 04:04:28.000000000,37,29,2,10310,a6f06782157a5cd3384ae63d723f98e01c0792a1,12,6,2,5,1561,Russell Bryant,russellb,"Send a full instance via rpc for check_can_live_migrate_destination.

Change the check_can_live_migrate_destination method of the compute
rpc API to take a full instance over rpc instead of just the instance
UUID.  This cuts down on database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I98a403fc4af7c3660c5144e532a318151c6c3b54
"
openstack%2Fnova~master~I61550f22a063ada0dfc654f8f653dcf52637f191,openstack/nova,master,bug/1029206,I61550f22a063ada0dfc654f8f653dcf52637f191,Fix typo of localhost's IP.,MERGED,2012-07-26 01:43:12.000000000,2012-07-26 03:40:11.000000000,2012-07-26 03:40:10.000000000,1,1,0,10322,77ce3e7886961db395fb64e7e87dcdbb36804ab8,7,4,1,1,2271,Michael Still,mikalstill,"Fix typo of localhost's IP.

Fix for bug 1029206.

Change-Id: I61550f22a063ada0dfc654f8f653dcf52637f191
"
openstack%2Fnova~master~I4c415f8c4be588f5de751ab8e4d21e85a18f6b75,openstack/nova,master,libvirt_test_comments,I4c415f8c4be588f5de751ab8e4d21e85a18f6b75,tests: remove misleading docstrings on libvirt tests,MERGED,2012-07-23 23:18:56.000000000,2012-07-26 03:19:42.000000000,2012-07-26 03:19:41.000000000,0,3,0,10187,50c74cc7af619b96eb9e1b3db8d1e8a289afb6da,14,8,1,1,1812,p-draigbrady,p-draigbrady,"tests: remove misleading docstrings on libvirt tests

These docstrings take precedence over the method name,
to identify the test in the results.  So just remove
these misleading docstrings as they don't give extra
info over the method name itself.

Change-Id: I4c415f8c4be588f5de751ab8e4d21e85a18f6b75
"
openstack%2Fnova~master~I85ad29e84b5e97a3f918059b10e2309312756050,openstack/nova,master,bp/no-db-messaging,I85ad29e84b5e97a3f918059b10e2309312756050,Send a full instance via rpc for attach_volume.,MERGED,2012-07-26 00:12:31.000000000,2012-07-26 03:10:27.000000000,2012-07-26 01:43:04.000000000,22,15,0,10309,8dac75fa0b6bb16adfdca2198703031249722f3d,8,3,1,3,1561,Russell Bryant,russellb,"Send a full instance via rpc for attach_volume.

Change the attach_volume method of the compute rpc API to take a
full instance over rpc instead of just the instance UUID.  This cuts
down on database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I85ad29e84b5e97a3f918059b10e2309312756050
"
openstack%2Fnova~master~I21d91e6c95dca47390b306517eeb4155defc4e65,openstack/nova,master,bp/no-db-messaging,I21d91e6c95dca47390b306517eeb4155defc4e65,Send a full instance via rpc for add_fixed_ip_to_instance.,MERGED,2012-07-26 00:12:31.000000000,2012-07-26 03:10:27.000000000,2012-07-26 01:48:00.000000000,23,16,0,10308,5547d08b28a7edc3e162174670cca892ae15e290,9,4,1,4,1561,Russell Bryant,russellb,"Send a full instance via rpc for add_fixed_ip_to_instance.

Change the add_fixed_ip_to_instance method of the compute rpc API to take a
full instance over rpc instead of just the instance UUID.  This cuts
down on database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I21d91e6c95dca47390b306517eeb4155defc4e65
"
openstack%2Fnova~master~I114081fceddc2c7226aab9bd560f3664000a43af,openstack/nova,master,bp/no-db-messaging,I114081fceddc2c7226aab9bd560f3664000a43af,Send a full instance via rpc for get_console_output.,MERGED,2012-07-23 19:53:42.000000000,2012-07-26 03:10:27.000000000,2012-07-26 02:05:11.000000000,20,15,4,10167,a43909352f2ef8c4a3fc540f8952ab2defa09ad6,25,6,5,4,1561,Russell Bryant,russellb,"Send a full instance via rpc for get_console_output.

Change the get_console_output method of the compute rpc API to take a
full instance over rpc instead of just the instance UUID.  This cuts
down on database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I114081fceddc2c7226aab9bd560f3664000a43af
"
openstack%2Fnova~master~If881fb419a52a2486b2e7b85b4d58a17f72c48a6,openstack/nova,master,bp/no-db-messaging,If881fb419a52a2486b2e7b85b4d58a17f72c48a6,Send a full instance via rpc for suspend_instance.,MERGED,2012-07-23 19:53:42.000000000,2012-07-26 03:10:27.000000000,2012-07-26 02:18:28.000000000,19,13,0,10166,1d0362929d2bbb39a5665b0d0ce9972ca66c643b,16,5,5,4,1561,Russell Bryant,russellb,"Send a full instance via rpc for suspend_instance.

Change the suspend_instance method of the compute rpc API to take a full
instance over rpc instead of just the instance UUID.  This cuts down on
database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: If881fb419a52a2486b2e7b85b4d58a17f72c48a6
"
openstack%2Fnova~master~Ia7e31428c7d2edb9a0c4d0958f1c7774742ea1cd,openstack/nova,master,bp/no-db-messaging,Ia7e31428c7d2edb9a0c4d0958f1c7774742ea1cd,Send a full instance via rpc for (un)pause_instance.,MERGED,2012-07-23 19:53:41.000000000,2012-07-26 03:10:27.000000000,2012-07-26 02:18:29.000000000,36,23,0,10165,94018d1f753d62ba75f3262f2c2fcdb1ee7f731b,17,5,5,4,1561,Russell Bryant,russellb,"Send a full instance via rpc for (un)pause_instance.

Change the pause_instance and unpause_instance methods of the compute
rpc API to take a full instance over rpc instead of just the instance
UUID.  This cuts down on database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: Ia7e31428c7d2edb9a0c4d0958f1c7774742ea1cd
"
openstack%2Fnova~master~I15ceb7625425ab097eebd5b7dd3606a171329f97,openstack/nova,master,bp/no-db-messaging,I15ceb7625425ab097eebd5b7dd3606a171329f97,Don't use rpc to lock/unlock an instance.,MERGED,2012-07-23 19:53:41.000000000,2012-07-26 03:10:27.000000000,2012-07-26 01:48:02.000000000,32,24,2,10164,f5289971b7da19111ca6a68bb46c1108ea46664b,20,6,5,5,1561,Russell Bryant,russellb,"Don't use rpc to lock/unlock an instance.

Instead of converting this method to send a full instance over rpc
instead of just an instance UUID, this patch removes the usage of rpc
for this operation entirely.  All it's doing is a database update.  RPC
is expensive, so cut out the middle-man.

One functional difference with this approach is that the db update is
now synchronous on the API node, instead of kicking off an async message
to a compute node to handle it.  This seems fine, though.

Part of blueprint no-db-messaging.

Change-Id: I15ceb7625425ab097eebd5b7dd3606a171329f97
"
openstack%2Fnova~master~Id2c455f66966a9b446e5bbbe542ed3a2b0655289,openstack/nova,master,bp/no-db-messaging,Id2c455f66966a9b446e5bbbe542ed3a2b0655289,Convert reboot_instance to take a full instance.,MERGED,2012-07-23 19:53:41.000000000,2012-07-26 03:10:27.000000000,2012-07-26 01:19:57.000000000,29,18,1,10163,6aac5f1308aa3e360204bd8f4dcfe90522f6db2e,24,6,5,4,1561,Russell Bryant,russellb,"Convert reboot_instance to take a full instance.

Convert the reboot_instance method in the compute rpc API to take a full
instance via rpc instead of just the instance UUID.  This cuts down on
database access needed by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: Id2c455f66966a9b446e5bbbe542ed3a2b0655289
"
openstack%2Fnova~master~I45914ed55f2c037ee2efd7775bd57fbde36a2116,openstack/nova,master,bp/no-db-messaging,I45914ed55f2c037ee2efd7775bd57fbde36a2116,Include name in a primitive Instance.,MERGED,2012-07-23 19:53:39.000000000,2012-07-26 03:10:27.000000000,2012-07-26 03:10:26.000000000,25,10,0,10162,d030e29f5b0ba215789739e443f25ca1c80bc3da,16,5,5,2,1561,Russell Bryant,russellb,"Include name in a primitive Instance.

This ensures that the name of an instance will be present in the result
of jsonutils.to_primitive(Instance).  The name isn't a column.  It's a
property that gets generated dynamically by the Instance class.

Part of blueprint no-db-messaging.

Change-Id: I45914ed55f2c037ee2efd7775bd57fbde36a2116
"
openstack%2Fneutron~master~I68dd05966f7d0865cc1861d3429b91440efb5ea6,openstack/neutron,master,bp/per-net-dhcp-enable,I68dd05966f7d0865cc1861d3429b91440efb5ea6,initial implementation of bp per-net-dhcp-enable,ABANDONED,2012-07-26 02:41:45.000000000,2012-07-26 02:41:45.000000000,,29,3,0,10323,a6a44fab4c097413d6ef8588bb66957805ba0985,2,1,1,4,2531,Xu Chen,xchenum,"initial implementation of bp per-net-dhcp-enable

Change-Id: I81c2e6adb02921e8b80f8181a730b1cba9ffa649

mod test case

Change-Id: I68dd05966f7d0865cc1861d3429b91440efb5ea6
"
openstack%2Fneutron~master~Ib8e790c63f44944250d3795f1eb35aa8418169b5,openstack/neutron,master,bp/dhcp-per-net-enable,Ib8e790c63f44944250d3795f1eb35aa8418169b5,initial implementation of per-net-dhcp-enable,ABANDONED,2012-07-26 02:41:23.000000000,2012-07-26 02:41:23.000000000,,27,2,0,10319,24473681804faf3bfc59641e2b12d8dc9eb5410d,2,1,1,3,2531,Xu Chen,xchenum,"initial implementation of per-net-dhcp-enable

Change-Id: Ib8e790c63f44944250d3795f1eb35aa8418169b5
"
openstack%2Fnova~master~I645a03cd1a80dc34a7b5a2e91072604e5156d51d,openstack/nova,master,sg-docfix,I645a03cd1a80dc34a7b5a2e91072604e5156d51d,Fix docstring for SecurityGroupHandlerBase,MERGED,2012-07-25 19:17:26.000000000,2012-07-26 01:51:04.000000000,2012-07-26 01:51:03.000000000,2,2,0,10292,c37633ef079a3229df14e5bffacd6fb2f3896809,8,5,1,1,4656,Sean M. Collins,scollins,"Fix docstring for SecurityGroupHandlerBase

Change-Id: I645a03cd1a80dc34a7b5a2e91072604e5156d51d
"
openstack%2Fnova~master~I93e331706aed1c97877655ce54784a0dbd8de89e,openstack/nova,master,bp/no-db-messaging,I93e331706aed1c97877655ce54784a0dbd8de89e,Update decorators in compute manager.,MERGED,2012-07-23 19:53:39.000000000,2012-07-26 01:11:56.000000000,2012-07-26 01:11:55.000000000,78,16,7,10161,eebc64f949ccb2acb7462efc18f538f1827985af,26,6,5,1,1561,Russell Bryant,russellb,"Update decorators in compute manager.

This patch modifies two decorators in the compute manager:
checks_instance_lock and wrap_instance_fault.  Both of these assumed that
the function they are wrapping takes two positional arguments: context
and instance_uuid.  They will automatically adapt to the new form that
the functions they wrap will be taking.  These functions will all be
modified to take either a full instance dict or an instance_uuid for
backwards compatibility.

Part of blueprint no-db-messaging.

Change-Id: I93e331706aed1c97877655ce54784a0dbd8de89e
"
openstack%2Fnova~master~Ic79a98f3949c815f532e52a9b9d45ad7d8aa99ec,openstack/nova,master,bp/netapp-volume-driver,Ic79a98f3949c815f532e52a9b9d45ad7d8aa99ec,Add support for snapshots and volume types to netapp driver.,MERGED,2012-07-13 21:23:08.000000000,2012-07-26 01:05:23.000000000,2012-07-26 01:05:23.000000000,570,188,6,9796,f9ee106ac484e390171d43f5c8aee77af127ddaf,29,9,5,2,2417,Ben Swartzlander,bswartz,"Add support for snapshots and volume types to netapp driver.

This is a continuation of blueprint netapp-volume-driver.

Change-Id: Ic79a98f3949c815f532e52a9b9d45ad7d8aa99ec
"
openstack%2Fopenstack-manuals~master~If4e85b018ef1828f7bddf739744cad70c6b8cbb4,openstack/openstack-manuals,master,bug/1017691,If4e85b018ef1828f7bddf739744cad70c6b8cbb4,Adds starter rootwrap.xml file. Another partial fix for bug 1017691. Changes pom file for quantum guide to 1.3.1.,MERGED,2012-07-25 23:56:01.000000000,2012-07-25 23:58:43.000000000,2012-07-25 23:58:43.000000000,98,12,0,10306,edfe697ac9100af680fdc97df59a2f3191c43e51,3,2,1,3,964,Anne Gentle,annegentle,"Adds starter rootwrap.xml file.
Another partial fix for bug 1017691.
Changes pom file for quantum guide to 1.3.1.

Change-Id: If4e85b018ef1828f7bddf739744cad70c6b8cbb4
"
openstack%2Fhorizon~master~Ief3a48f2124667e936312f818baeddb6c7c290dc,openstack/horizon,master,css_file_locations,Ief3a48f2124667e936312f818baeddb6c7c290dc,Moves bootstrap LESS back to openstack_dashboard.,MERGED,2012-07-25 23:28:50.000000000,2012-07-25 23:46:19.000000000,2012-07-25 23:46:19.000000000,1,1,0,10304,58983bf1920a45a5aacdd63eb615c012b1c8f83d,5,2,1,38,1816,Gabriel Hurley,gabriel-hurley,"Moves bootstrap LESS back to openstack_dashboard.

Moving the entire bootstrap dir into the horizon module
caused some unexpected complexities. For the time being,
javascript will go into Horizon while CSS/LESS will
go into OpenStack Dashboard.

Change-Id: Ief3a48f2124667e936312f818baeddb6c7c290dc
"
openstack%2Fnova~master~I09c01e0e63ee704b1485c196dc0b396ee03b2e5c,openstack/nova,master,bug/1018586,I09c01e0e63ee704b1485c196dc0b396ee03b2e5c,Fix wrong regex in cleanup_file_locks.,MERGED,2012-07-21 23:21:08.000000000,2012-07-25 23:11:18.000000000,2012-07-25 23:11:17.000000000,2,2,2,10095,974417b75f5f839ce4daaf080147ad154d727f10,22,7,3,2,4987,Eugene Kirpichov,ekirpichov,"Fix wrong regex in cleanup_file_locks.

The sentinel filename actually has form hostname-threadid.pid,
not hostname.threadid-pid.
Launchpad bug 1018586.
Change-Id: I09c01e0e63ee704b1485c196dc0b396ee03b2e5c
"
openstack%2Fnova~master~I88a59f1b783eaaaef6ba5efd8bd448aece2f869c,openstack/nova,master,bp/xenstore-metadata,I88a59f1b783eaaaef6ba5efd8bd448aece2f869c,Inject instance metadata into xenstore,MERGED,2012-07-18 23:48:51.000000000,2012-07-25 23:00:26.000000000,2012-07-25 23:00:26.000000000,386,3,15,9997,82afe7ad5eac668aaefc79e16bbf2226eddde97d,39,9,7,13,679,Kevin L. Mitchell,klmitch,"Inject instance metadata into xenstore

When using Xenserver, inject instance metadata into the xenstore, for
the use of the instance.  Implements blueprint xenstore-metadata.

Change-Id: I88a59f1b783eaaaef6ba5efd8bd448aece2f869c
"
openstack%2Fnova~master~I78878110c696280f2bc28434433814884a526264,openstack/nova,master,bug/1029130,I78878110c696280f2bc28434433814884a526264,Allow soft deletes from any state,MERGED,2012-07-25 22:28:43.000000000,2012-07-25 22:53:39.000000000,2012-07-25 22:53:38.000000000,1,2,0,10302,6f0fecbed3a72ce052662a6bc6441d6aac6b9d1f,6,3,1,1,679,Kevin L. Mitchell,klmitch,"Allow soft deletes from any state

At some point in the past, the compute manager's delete() method had
its @check_instance_state() decorator updated to allow deletes to be
performed from any combination of vm_state and task_state.  This same
change was not made to the soft_delete() method, and so soft_delete()
is only available if the task_state is clear, meaning that instances
that are put into ERROR state with task_state set to something are
effectively undeletable, if FLAGS.reclaim_instance_interval is set to
some non-zero value (which is what causes the API DELETE call to use
soft_delete() as opposed to delete()).  This patch updates the
@check_instance_state() on soft_delete() to match that on delete(),
and fixes bug 1029130 and bug 1029133.  This patch also partially
fixes bug 1029132, but more needs to be done to completely fix that
bug.

Change-Id: I78878110c696280f2bc28434433814884a526264
"
openstack%2Fnova~master~I5f08fc593c222e76a343d97f6ae6e3a802af17db,openstack/nova,master,simpleSched,I5f08fc593c222e76a343d97f6ae6e3a802af17db,Remove nova simple scheduler,ABANDONED,2012-07-25 01:04:49.000000000,2012-07-25 22:24:44.000000000,,0,145,0,10261,08a058bb1ebf10e06be845b8f6941529e67b9b4b,6,5,1,1,1849,Joe Gordon,jogo,"Remove nova simple scheduler

* The same functionality exists in the filter_scheduler
* SimpleScheduler is currently not tested

Change-Id: I5f08fc593c222e76a343d97f6ae6e3a802af17db
"
openstack%2Fhorizon~master~I7d9758845b81e4b8bcf1ffaaff4f6e237b4fe9f8,openstack/horizon,master,master,I7d9758845b81e4b8bcf1ffaaff4f6e237b4fe9f8,Fixed/enabled selenium tests.,MERGED,2012-07-25 21:13:53.000000000,2012-07-25 22:06:24.000000000,2012-07-25 22:06:24.000000000,112,172,0,10298,6f838a09b89b676389ccfe9b5e1507c5656e26b6,6,3,1,62,1816,Gabriel Hurley,gabriel-hurley,"Fixed/enabled selenium tests.

Moved the tests to the horizon portion since they test core functionality.
This also required moving some of the templates, etc. that belong in horizon
to their proper homes.

Change-Id: I7d9758845b81e4b8bcf1ffaaff4f6e237b4fe9f8
"
openstack%2Fnova~master~I27a66fb1111e74665969f98e1101a9c37c665abc,openstack/nova,master,bug/1027069,I27a66fb1111e74665969f98e1101a9c37c665abc,Return 400 in get_console_output for bad length.,MERGED,2012-07-21 17:31:23.000000000,2012-07-25 22:06:00.000000000,2012-07-25 22:06:00.000000000,31,3,11,10093,5522507bd7ff51ad8a55f8318c327ace3157675d,29,7,6,2,2419,Roland Hochmuth,roland-hochmuth-s,"Return 400 in get_console_output for bad length.

Fixes bug 1027069. Prior to this fix if the length in the
request body was set to a non-integer value a error code of 500
was returned. The documentation also shows an integer in the
example request body.

The fix tests if the optional length is provided and
if it is either an ""int"" or ""long"". If not, a 400 error
is returned.

Additionally, cleaned up some error message to be more
descriptive.

Change-Id: I27a66fb1111e74665969f98e1101a9c37c665abc
"
openstack%2Fnova~master~Ieb978281bc55727fb7db02ddc8c3e0fd6c8814f0,openstack/nova,master,bug/1029129,Ieb978281bc55727fb7db02ddc8c3e0fd6c8814f0,Handle NULL deleted_at in migration 112.,MERGED,2012-07-25 20:56:44.000000000,2012-07-25 22:00:56.000000000,2012-07-25 22:00:56.000000000,2,0,0,10297,a8c08baeb2ee6268ac61613a23cc86cf885a9d09,8,5,2,1,475,Rick Harris,rconradharris,"Handle NULL deleted_at in migration 112.

A NULL value in `instance.deleted_at` will cause the migration to break.
In the absence of instance deleted_at timestamp, we should be
conservative and skip cleanup.

Fixes bug 1029129

Change-Id: Ieb978281bc55727fb7db02ddc8c3e0fd6c8814f0
"
openstack%2Fnova~master~I30d2e716e931400ca4b798b51bb26a73a7747808,openstack/nova,master,bug/1022237,I30d2e716e931400ca4b798b51bb26a73a7747808,Allow floating IP pools to be deleted,MERGED,2012-07-25 07:52:40.000000000,2012-07-25 21:50:55.000000000,2012-07-25 21:50:54.000000000,1,1,0,10268,6b69e63683c49900ac24038b60123a93925401db,9,5,1,1,1247,Mark McLoughlin,markmc,"Allow floating IP pools to be deleted

Fixes bug #1022237

If you delete all the floating IPs associated with a floating IP, the
pool still shows up in os-floating-ip-pools extension.

Fix this by using model_query() in the DB layer so that we ignore
deleted floating IPs.

Change-Id: I30d2e716e931400ca4b798b51bb26a73a7747808
"
openstack%2Fkeystone~master~I49fe56b6ef8d9f2fc6b9357472dae8964bb9cb9c,openstack/keystone,master,bug/988920,I49fe56b6ef8d9f2fc6b9357472dae8964bb9cb9c,Raise unauthorized if tenant disabled (bug 988920),MERGED,2012-07-16 21:10:31.000000000,2012-07-25 21:47:00.000000000,2012-07-25 21:46:59.000000000,60,1,0,9862,4ebfdfaf23c6da8e3c182bf3ec2cb2b7132ef685,8,5,1,2,4,Dolph Mathews,dolph,"Raise unauthorized if tenant disabled (bug 988920)

If the client attempts to explicitly authenticate against a disabled
tenant, keystone should return HTTP 401 Unauthorized.

Change-Id: I49fe56b6ef8d9f2fc6b9357472dae8964bb9cb9c
"
openstack%2Fneutron~master~Ie37ef0c3355e86f504fa71417921bb828b40e347,openstack/neutron,master,bug/1029024,Ie37ef0c3355e86f504fa71417921bb828b40e347,Update openvswitch tunnel unittest,MERGED,2012-07-25 21:21:35.000000000,2012-07-25 21:21:35.000000000,2012-07-25 21:21:35.000000000,2,1,0,10284,ef6af3e3d2da3e1483b201b98b06c4555e90f6e7,7,4,1,1,4395,Aaron Rosen,arosen,"Update openvswitch tunnel unittest

Bug #1029024

Change-Id: Ie37ef0c3355e86f504fa71417921bb828b40e347
"
openstack%2Fopenstack-manuals~master~I9aaee7151ab1deb1d1619f87bfd73d07eee75dd6,openstack/openstack-manuals,master,bug/1029100,I9aaee7151ab1deb1d1619f87bfd73d07eee75dd6,Fix bug 1029100,MERGED,2012-07-25 20:44:22.000000000,2012-07-25 20:46:00.000000000,2012-07-25 20:46:00.000000000,1,1,0,10295,8216973fb0eb5270062ac606dd0fc4c62e90b094,3,2,1,1,964,Anne Gentle,annegentle,"Fix bug 1029100

Errant v1.0 auth URL remained, changed to v2.0.

Change-Id: I9aaee7151ab1deb1d1619f87bfd73d07eee75dd6
"
openstack%2Fopenstack-manuals~master~I8ed8f1364f571ae3a4e4effb7297bdc94ec40a5b,openstack/openstack-manuals,master,ha-guide-updates,I8ed8f1364f571ae3a4e4effb7297bdc94ec40a5b,"Adds the word ""infrastructure"" to the high availability guide. Changes the pom.xml to 1.3.1 because 1.4.0 is still a snapshot.",MERGED,2012-07-25 20:17:01.000000000,2012-07-25 20:20:13.000000000,2012-07-25 20:20:13.000000000,2,2,0,10294,5594c1d7935a6eb7e853df75bec575b6d6c45803,4,2,2,2,964,Anne Gentle,annegentle,"Adds the word ""infrastructure"" to the high availability guide.
Changes the pom.xml to 1.3.1 because 1.4.0 is still a snapshot.

Need to trigger the job and wanted clarity on what type of HA
the guide talks about.

Change-Id: I8ed8f1364f571ae3a4e4effb7297bdc94ec40a5b
"
openstack%2Fnova~master~Ib327772d61be0202b257049d8aca3d04819a48f5,openstack/nova,master,fix-missing-import,Ib327772d61be0202b257049d8aca3d04819a48f5,Add missing tempfile import to libvirt driver.,MERGED,2012-07-25 19:22:01.000000000,2012-07-25 20:19:35.000000000,2012-07-25 20:19:34.000000000,1,0,0,10293,604413135d37f50308efa9b4046d7aba021c6dd9,7,4,1,1,1561,Russell Bryant,russellb,"Add missing tempfile import to libvirt driver.

import tempfile in the libvirt driver.  This is needed in
_create_shared_storage_test_file().  I saw this come up on the mailing
list:

    http://lists.openstack.org/pipermail/openstack-dev/2012-July/000192.html

Change-Id: Ib327772d61be0202b257049d8aca3d04819a48f5
"
openstack%2Foslo-incubator~master~I2b72d630a0c8821df1d81e25d316d8d9195be492,openstack/oslo-incubator,master,bug/999307,I2b72d630a0c8821df1d81e25d316d8d9195be492,Modifies _is_opt_registered fcn to check for duplicate opts,MERGED,2012-07-25 20:12:30.000000000,2012-07-25 20:12:30.000000000,2012-07-25 20:12:30.000000000,6,7,2,10081,90da88cce51bccd320e89141ed7384d2e7ccca9d,13,5,3,2,4598,Giampaolo Lauria,lauria,"Modifies _is_opt_registered fcn to check for duplicate opts

This change fixes bug 999307

Currently, the check for duplicate options is done by checking
whether they are the same object. The proposed fix is to check whether
all the object fields have the same value.

Change-Id: I2b72d630a0c8821df1d81e25d316d8d9195be492
"
openstack%2Fnova~master~I23efc5dc1528b0d8472d752a8a30f55c85310b21,openstack/nova,master,bp/hypervisor-code-consolidation,I23efc5dc1528b0d8472d752a8a30f55c85310b21,Define cross-driver standardized vm_mode values,MERGED,2012-07-25 12:52:19.000000000,2012-07-25 20:11:40.000000000,2012-07-25 20:11:39.000000000,138,19,6,10273,eb074328041b5f8b4f5a109794c54a9bd4e245ed,30,10,3,6,1779,Daniel Berrange,berrange,"Define cross-driver standardized vm_mode values

Currently the XenAPI driver allows for a 'vm_mode' parameter to
be set against an instance to determine whether it is launched
a paravirt or fullvirt domain. This allows the values 'pv', 'hv'
and 'hvm'.

The libvirt driver also needs to be extended to allow a 'vm_mode'
parameter, and to facilitate deployment of heterogeneous Nova
compute farms, it is desirable to have standardization of the
VM mode values across all drivers.

To address this, the nova.compute.vm_mode module is introduced
which defines a set of constants. The constants provide four
possible vm modes:

 - vm_mode.XEN = 'xen' - for Xen 3.0 paravirt ABI
 - vm_mode.HVM = 'hvm' - for native ABI
 - vm_mode.UML = 'uml' - for User Mode Linux paravirt ABI
 - vm_mode.EXE = 'exe' - for container virt executable ABI

The existing 'pv' value from XenAPI is deprecated, because it
is ambiguous - both Xen and UML are paravirt, and other
paravirt hypervisor ABIs also exist

The existing 'hv' value is also deprecated since it duplicates
the other existing 'hvm' value.

The 'vm_mode.get_from_instance' method will extract the
vm_mode value for an instance. It normalizes the value to
all lower case, translates 'hv' and 'pv' into the new
values for back compat, and validates that the value
matches one of the defined constants

The XenAPI and libvirt drivers are then updated to use the
nova.compute.vm_mode constants instead of bare strings.
The test_xenapi.py test case is updated to set 'vm_mode'
to exercise the new codepaths. A new test_vmmode.py
case is also written to fully exercise the logic

NB, previously the libvirt driver would set 'guest.os_type'
to 'linux' to request Xen paravirt. This is a legacy value,
with libvirt preferring the string 'xen'. So although the
new code sets a different value for Xen paravirt os_type,
the functional result is unchanged.

DocImpact
blueprint hypervisor-code-consolidation
Change-Id: I23efc5dc1528b0d8472d752a8a30f55c85310b21
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fdevstack-gate~master~I4225fc0ea1b9dd24ae8131019dcf692f7d229150,openstack/devstack-gate,master,cinder,I4225fc0ea1b9dd24ae8131019dcf692f7d229150,Switch to using cinder instead of n-vol.,MERGED,2012-07-25 19:19:49.000000000,2012-07-25 19:19:49.000000000,2012-07-25 19:19:49.000000000,6,3,1,9746,8dc598942098adaa2d743fa80b940b723bd01869,25,3,3,3,1,James E. Blair,corvus,"Switch to using cinder instead of n-vol.

Change-Id: I4225fc0ea1b9dd24ae8131019dcf692f7d229150
"
openstack%2Fopenstack-manuals~master~I82b6ccf99e3b9c65d6b8c6b0ab78366e147fd835,openstack/openstack-manuals,master,connection_type_to_compute_driver,I82b6ccf99e3b9c65d6b8c6b0ab78366e147fd835,connection_type => compute_driver,MERGED,2012-07-17 15:24:17.000000000,2012-07-25 18:46:03.000000000,2012-07-25 18:46:03.000000000,1,1,0,9917,ff316df6f5a233abe744f3b153d5fed16cc9c7ff,8,5,1,1,2750,Sean Dague,sdague,"connection_type => compute_driver

Found one more instance where connection_type was used
in one of the diagrams. Updated it to compute_driver.

Change-Id: I82b6ccf99e3b9c65d6b8c6b0ab78366e147fd835
"
openstack%2Fpython-cinderclient~master~Iaa0c9fd5edac8b48d92ee9722ea5d31d8249cd67,openstack/python-cinderclient,master,bug/1028684,Iaa0c9fd5edac8b48d92ee9722ea5d31d8249cd67,Add missing parameters to volume create body,MERGED,2012-07-25 01:31:05.000000000,2012-07-25 18:02:50.000000000,2012-07-25 18:02:50.000000000,26,2,2,10262,778d2d90227771976f9b98ab686dbe1d88154806,13,4,4,1,2243,John Griffith,john-griffith,"Add missing parameters to volume create body

* Fixes bug 1028684
* Adds metadata and other parameters to volume create

Change-Id: Iaa0c9fd5edac8b48d92ee9722ea5d31d8249cd67
"
openstack%2Fnova~master~I25f9d1030d9d014b1c9a65430bd535388b8f8943,openstack/nova,master,bug/1016650,I25f9d1030d9d014b1c9a65430bd535388b8f8943,Adds xcp disk resize support.,MERGED,2012-06-29 19:35:24.000000000,2012-07-25 17:49:55.000000000,2012-07-25 17:49:54.000000000,55,13,3,9184,9a2cc2544a4e6609c409b06c8ff91d596fe43a8c,34,7,5,4,557,msinhore,msinhore,"Adds xcp disk resize support.

Implements resize image during instance creation.  Fixes bug 1016650.

Change-Id: I25f9d1030d9d014b1c9a65430bd535388b8f8943
"
openstack%2Fnova~master~I79b050f0b083533e60129da261326cfb7f304321,openstack/nova,master,fix_xenapi_compute_driver_help,I79b050f0b083533e60129da261326cfb7f304321,Use compute_driver in xenapi driver help messages.,MERGED,2012-07-23 21:18:51.000000000,2012-07-25 17:44:58.000000000,2012-07-25 17:44:57.000000000,9,8,1,10174,d972222e50e38aa45447b57c1893678043b583aa,8,4,1,1,360,Dan Prince,dan-prince,"Use compute_driver in xenapi driver help messages.

Updates the help messages in the xenapi driver to use 'compute_driver'
examples instead of 'connection_type' which is now deprecated.

Change-Id: I79b050f0b083533e60129da261326cfb7f304321
"
openstack%2Fnova~master~I4c03243bc41f76d80d32934dd9506d1861951184,openstack/nova,master,ensure_snapshot_is_torndown,I4c03243bc41f76d80d32934dd9506d1861951184,Xen: Ensure snapshot is torn down on error.,MERGED,2012-07-24 17:14:50.000000000,2012-07-25 17:38:45.000000000,2012-07-25 17:38:44.000000000,19,27,0,10233,c542f82396ce6cf1399a2d7cfc3d9660fe2cf6c3,7,4,1,1,475,Rick Harris,rconradharris,"Xen: Ensure snapshot is torn down on error.

This patch solves the problem of snapshots being left around if an
exception is generated in _wait_for_vhd_coalesce.

The solution is to separate snapshot from coalesce and then to ensure
any exceptions generated after a snapshot trigger a cleanup.

Change-Id: I4c03243bc41f76d80d32934dd9506d1861951184
"
openstack%2Fnova~master~I0c1def739c4a5cbcd2dbe72df6fc54b16e68b4b7,openstack/nova,master,bug/1028687,I0c1def739c4a5cbcd2dbe72df6fc54b16e68b4b7,Add missing parameters to novas cinder api,MERGED,2012-07-25 01:34:33.000000000,2012-07-25 17:31:24.000000000,2012-07-25 17:31:23.000000000,12,8,2,10263,00d65fa8bf83c2e9e5937108cbbf096918bbd23f,18,7,4,1,2243,John Griffith,john-griffith,"Add missing parameters to novas cinder api

* Addresses bug 1028684
* Adds metadata and other parameters to volume create and translate_view

Change-Id: I0c1def739c4a5cbcd2dbe72df6fc54b16e68b4b7
"
openstack%2Fnova~master~If49e364063d5288c81ce1557bddc6dcec3ec457e,openstack/nova,master,check_for_exceptionCode_on_non_novaExceptions,If49e364063d5288c81ce1557bddc6dcec3ec457e,Check for exception codes in openstack API results,MERGED,2012-07-24 04:45:28.000000000,2012-07-25 17:25:18.000000000,2012-07-25 17:25:16.000000000,29,11,5,10200,76c1fd11b73fd8516bbde20cb46f627b658d4a6d,22,9,4,2,2243,John Griffith,john-griffith,"Check for exception codes in openstack API results

 * Inspect all exceptions for code, not just nova.exceptions

   Originally the fault wrapper would only inspect an exception for
   status, header and safe attributes if it was a nova.exception.

   As a result, excecptions returned from Cinder were always being incorrectly
   interpretted/categorized as ComputeFaults (500).  This results in tempest
   tests that expect exceptions such as 404 NotFound to fail.

   Now that we're checking all Exceptions the same way, there's no need
   for a specifying nova.exceptions or even doing the import.

Change-Id: If49e364063d5288c81ce1557bddc6dcec3ec457e
"
openstack%2Fnova~master~I53fd54bad1f08d8c1d4ebf27a5a282189c0f3c04,openstack/nova,master,patch,I53fd54bad1f08d8c1d4ebf27a5a282189c0f3c04,Remove temporary variable,MERGED,2012-07-25 16:45:35.000000000,2012-07-25 17:25:13.000000000,2012-07-25 17:25:13.000000000,2,2,0,10282,a4ce1e57a61a858506ccde4ae1dc10641067637e,6,3,1,1,4656,Sean M. Collins,scollins,"Remove temporary variable

Change-Id: I53fd54bad1f08d8c1d4ebf27a5a282189c0f3c04
"
openstack%2Fswift~master~I683633ef1c7a5df7522299a85090f1ffda0c287a,openstack/swift,master,1.6.1-version-bump,I683633ef1c7a5df7522299a85090f1ffda0c287a,1.6.1 version bump,MERGED,2012-07-25 16:28:40.000000000,2012-07-25 16:32:16.000000000,2012-07-25 16:32:16.000000000,1,1,0,10280,21616c2fc995ff5928b2d5e5c6ffc71cdfa763c2,5,2,1,1,330,John Dickinson,notmyname,"1.6.1 version bump

Change-Id: I683633ef1c7a5df7522299a85090f1ffda0c287a
"
openstack%2Fswift~master~Ia97050ac2b0b438535f31a8eb400801c782160f9,openstack/swift,master,1.6.0-changelog,Ia97050ac2b0b438535f31a8eb400801c782160f9,changelog for 1.6.0,MERGED,2012-07-25 16:24:12.000000000,2012-07-25 16:27:33.000000000,2012-07-25 16:27:33.000000000,58,4,0,10279,53e35ba4ffeab4d2614b790a0d8fb615b9359374,5,2,1,2,330,John Dickinson,notmyname,"changelog for 1.6.0

Change-Id: Ia97050ac2b0b438535f31a8eb400801c782160f9
"
openstack%2Fswift~master~I4a07ff105f2acc4174de0aef4e24cfcde323bea8,openstack/swift,master,fix-obj-typing,I4a07ff105f2acc4174de0aef4e24cfcde323bea8,Fix typing in DiskFile put method comment,MERGED,2012-07-25 16:15:22.000000000,2012-07-25 16:21:14.000000000,2012-07-25 16:21:14.000000000,1,1,0,10278,a2bec22ac051e5ac04427295ac0a004ec1323092,5,2,1,1,2401,Victor Rodionov,vito-ordaz,"Fix typing in DiskFile put method comment

Change-Id: I4a07ff105f2acc4174de0aef4e24cfcde323bea8
"
openstack%2Fswift~master~Ic2869ab7f728ed1a4d8b34c37f0540c582d7dbcc,openstack/swift,master,1.6.0-version-bump,Ic2869ab7f728ed1a4d8b34c37f0540c582d7dbcc,version bump to reflect current dev effort,MERGED,2012-07-25 15:31:36.000000000,2012-07-25 15:35:47.000000000,2012-07-25 15:35:47.000000000,1,1,0,10277,03cec57e5db036169c79c04e66abff49b3451350,5,2,1,1,330,John Dickinson,notmyname,"version bump to reflect current dev effort

Change-Id: Ic2869ab7f728ed1a4d8b34c37f0540c582d7dbcc
"
openstack%2Fceilometer~master~I3bfd57da61029d43ba4f731f98dc58f790f9f8cd,openstack/ceilometer,master,master,I3bfd57da61029d43ba4f731f98dc58f790f9f8cd,Implements memory counter,MERGED,2012-07-25 14:54:19.000000000,2012-07-25 14:54:19.000000000,2012-07-25 14:54:19.000000000,73,54,1,10017,344ad3eef063243dc5241b8700595927174534f3,11,3,3,3,1669,Julien Danjou,jdanjou,"Implements memory counter

This adds a memory counter, that is emitted at the same time than instance
counter. It is the first counter implementing the 'absolute' counter type.

Change-Id: I3bfd57da61029d43ba4f731f98dc58f790f9f8cd
Signed-off-by: Julien Danjou <julien@danjou.info>
"
openstack%2Fglance~master~I45fc97027e6f211ac353513c2d9d6da51ccf4489,openstack/glance,master,bp/swift-tenant-specific-storage,I45fc97027e6f211ac353513c2d9d6da51ccf4489,Adds multi tenant support for swift backend.,MERGED,2012-07-09 21:28:06.000000000,2012-07-25 14:06:56.000000000,2012-07-25 14:06:55.000000000,126,34,13,9553,8b2d038185a6d229662260819943c40eefee8bd6,24,5,4,7,360,Dan Prince,dan-prince,"Adds multi tenant support for swift backend.

Updates the swift store to support multiple tenants:

 * Added configuration option for swift_store_multi_tenant.

 * Updated the swift connection creation logic so that in multi-tenant
   mode the token and storage URL from the service catalog are used
   to create swift connection.

 * When in multi-tenant mode locations URL's (stored in the DB) do
   not contain hard coded swift credentials.

Includes unit tests to verify multi-tenant swift storage URLs.

Partially implements blueprint: swift-tenant-specific-storage.

Change-Id: I45fc97027e6f211ac353513c2d9d6da51ccf4489
"
openstack%2Fheat~master~I5dfc8b372f557cf43379c6c5b7436d1010f83e3c,openstack/heat,master,master,I5dfc8b372f557cf43379c6c5b7436d1010f83e3c,Make a template that demonstrates instance monitoring and restarting.,MERGED,2012-07-25 13:34:52.000000000,2012-07-25 13:34:52.000000000,2012-07-25 13:34:52.000000000,255,7,0,10272,3c6e40f2bb9039dfae60307ea730199973ddc247,5,2,1,5,4715,Angus Salkeld,asalkeld,"Make a template that demonstrates instance monitoring and restarting.

We use cfn-push-stats to send a heartbeat and if we don't get
it within the set interval we restart the instance.

Other changes to make this work:
- clear the waitcondition when it is deleted.
- set the resource id to None when deleted, else it won't re-create
  properly.
- don't run watch alarms if the stack is not completed.

Change-Id: I5dfc8b372f557cf43379c6c5b7436d1010f83e3c
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fnova~master~I1be5637f561008489fe7367052ec2ecb6b9ae59f,openstack/nova,master,bug/1028748,I1be5637f561008489fe7367052ec2ecb6b9ae59f,Fixes console/vmrc_manager.py import error,MERGED,2012-07-25 06:43:44.000000000,2012-07-25 12:48:13.000000000,2012-07-25 12:48:12.000000000,1,1,0,10265,b8aedb281f8e6cc8b1583640c31f5d52ce5e4eac,9,5,1,1,1994,Zhongyue Luo,zyluo,"Fixes console/vmrc_manager.py import error

Fixes bug #1028748

Change-Id: I1be5637f561008489fe7367052ec2ecb6b9ae59f
"
openstack%2Ftempest~master~Iefc0e92e31a8e6fcf614c4719a6551c01cbdd6ec,openstack/tempest,master,bug/1025993,Iefc0e92e31a8e6fcf614c4719a6551c01cbdd6ec,Disable ConfigParser interpolation (lp#1025993),MERGED,2012-07-18 06:12:59.000000000,2012-07-25 12:06:27.000000000,2012-07-25 12:06:27.000000000,1,1,0,9954,cfc0c02b4d94da3890c4962369ce8af5843887c6,11,3,2,1,4120,Rohit Karajgi,rohitkarajgi,"Disable ConfigParser interpolation (lp#1025993)

Change-Id: Iefc0e92e31a8e6fcf614c4719a6551c01cbdd6ec
"
openstack%2Fheat~master~I8af6f8a78086a7b1f2bcc280d57af0b4311f08cc,openstack/heat,master,master,I8af6f8a78086a7b1f2bcc280d57af0b4311f08cc,Call calulate_properties() before calling FnGetAtt(),MERGED,2012-07-25 11:54:14.000000000,2012-07-25 11:54:14.000000000,2012-07-25 11:54:14.000000000,6,3,0,10260,783b1112490ef07db05251c1258c04f8b1caa5a0,9,3,3,2,4715,Angus Salkeld,asalkeld,"Call calulate_properties() before calling FnGetAtt()

The problem is that in the delete the order of resolution is reversed
so in delete loop we have not yet done a calulate_properties() on the
resource that we are about to call FnGetAtt() for.

Fixes #178
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
Change-Id: I8af6f8a78086a7b1f2bcc280d57af0b4311f08cc
"
openstack%2Fnova~master~I8160268e44e2afc736bf8491d5cbf5af1f4f752f,openstack/nova,master,bp/advertise-floating-ip-via-bgp,I8160268e44e2afc736bf8491d5cbf5af1f4f752f,Add support for advertising floating IPs via BGP,ABANDONED,2012-07-03 00:04:49.000000000,2012-07-25 11:27:16.000000000,,224,2,5,9255,e6e35f864e46d4013a66c61d0e28710717a590b5,16,4,5,5,905,Ryan Lane,rlane,"Add support for advertising floating IPs via BGP

This change implements blueprint advertise-floating-ip-via-bgp. It has a dependency on exabgp. exabgp must be patched to daemonize properly (http://code.google.com/p/exabgp/issues/detail?id=4). This change runs and manages an exabgp process and configuration. Routes are added and removed from exabgp's configuration on floating IP association and disassociation, and on network-node initialization.

Five new flags are added:

  * use_bgp: enables bgp support
  * bgp_peer_addresses: the router addresses this node is peering with
  * bgp_local_as: the local Autonomous System (AS)
  * bgp_peer_as: the peer's Autonomous System (AS)
  * exabgp_location: the exabgp binary's location

Change-Id: I8160268e44e2afc736bf8491d5cbf5af1f4f752f
"
openstack%2Fglance~master~I406b5820c4a09658b012d9681d2faa938d81baac,openstack/glance,master,bp/port-swift-healthcheck,I406b5820c4a09658b012d9681d2faa938d81baac,Port the swift healthcheck middleware to Glance,ABANDONED,2012-07-12 15:38:45.000000000,2012-07-25 06:03:05.000000000,,207,16,0,9719,97c5c6cd73e044eed80299abb7ae857ce07d1d8e,10,5,2,11,1390,Paul Bourke,pauldbourke,"Port the swift healthcheck middleware to Glance

Can be used as a first port of call to determine if a Glance API /
Registry server is running properly.

The main part of this code is taken directly from Swift.

Notes / additions:

* Added the healthcheck to each of the default pipelines in
  glance-api-paste.ini / glance-registry-paste.ini.

* Updated tests.unit.test_config to account for the updated default
  configuration.

* Updated references to the default pipeline in the documentation to refer to
  the new default.

* Added a section to doc/source/glanceapi.rst to describe the new
  functionality.

* Added a new module glance.common.middleware to house the healthcheck,
  as this middleware is common to both the Glance API and Registry.

* Added a new functional test for the healthcheck not currently present
  in Swift, which tests the middleware in the pipeline through a running
  Glance API and Registry server.

Implements blueprint port-swift-healthcheck.

Change-Id: I406b5820c4a09658b012d9681d2faa938d81baac
"
openstack%2Fnova~master~I63aea98de15faa2f7784e44aa6bf5fd3b89517c3,openstack/nova,master,hypervisor,I63aea98de15faa2f7784e44aa6bf5fd3b89517c3,Move 'name' to 'display_name' in hypervisor-servers call,ABANDONED,2012-07-16 22:47:54.000000000,2012-07-25 06:03:04.000000000,,11,11,5,9877,58e4d3b746d18463cadf1236ea3bcb319f014c9a,9,4,1,2,335,Paul Voccio,pvo,"Move 'name' to 'display_name' in hypervisor-servers call

To be consistent with naming, display the same name that
novaclient uses. Also, fixed issue where there are no
instances on a hypervisor to return an empty list.

Change-Id: I63aea98de15faa2f7784e44aa6bf5fd3b89517c3
"
openstack%2Foslo-incubator~master~I6234c709346fadd6c9d9e736a51955c5efeb3ec6,openstack/oslo-incubator,master,bug/1021451,I6234c709346fadd6c9d9e736a51955c5efeb3ec6,Fix ZeroMQ driver and tests,ABANDONED,2012-07-25 06:03:04.000000000,2012-07-25 06:03:04.000000000,,71,41,1,9386,0ac3d47bb3eee2c81865ab7a5ffeef616c237f59,56,3,19,4,159,Eric Windisch,ewindisch,"Fix ZeroMQ driver and tests

Fixes a number of bugs:

Better detection of zmq libraries in tests.

Adds test-options, taken from Nova.

Fixes breakage in flags introduced by 372d11e990...

zmq tests skipped on python 2.6 until we can pass reliably.

test_zmq listens only on 127.0.0.1

Configures RPC timeout in impl_zmq since no longer in fake_flags.

Restructures test_zmq's daemon launching/testing to be more robust.

Restores unit tests of zmq

Add pyzmq to test-options

Fix super RpcZmqBaseTestCase in test_zmq; bug 1021451

Remove opt registration from test_zmq; Related to bug 1021459

Fix zeromq options; Fixes bug 1021462 and bug 1021459.

Call our own register_opts
Brackets should be Parens in str formatting.
fixes bug 1021455.

Fix super RpcZmqBaseTestCase in test_zmq; Fixes bug 1021451

Change-Id: I6234c709346fadd6c9d9e736a51955c5efeb3ec6
"
openstack%2Foslo-incubator~master~Ia8370a83ec9e371315550db7f349e37ad28c1c7a,openstack/oslo-incubator,master,cfgtest,Ia8370a83ec9e371315550db7f349e37ad28c1c7a,Added a test to clarify cfg overriding from within tests.,ABANDONED,2012-07-25 06:03:03.000000000,2012-07-25 06:03:03.000000000,,45,0,2,9731,7ff5bebc063d8d910bf537c8ec4828c20dae06c4,5,3,1,1,1998,andrewbogott,andrewbogott,"Added a test to clarify cfg overriding from within tests.

Change-Id: Ia8370a83ec9e371315550db7f349e37ad28c1c7a
"
openstack%2Fhorizon~master~Iffa255f8bae76bc055127db800ded4c4da19b580,openstack/horizon,master,bug/1026783,Iffa255f8bae76bc055127db800ded4c4da19b580,Display form with initial input and error after failure to import keypair,MERGED,2012-07-24 06:12:15.000000000,2012-07-25 00:59:44.000000000,2012-07-25 00:59:43.000000000,21,3,2,10203,7743e6f17ee73e384a1101fc4192cb2b541fbebe,12,5,2,2,4978,Julie Pichon,jpichon,"Display form with initial input and error after failure to import keypair

Fixes bug 1026783.

Change-Id: Iffa255f8bae76bc055127db800ded4c4da19b580
"
openstack%2Fpython-cinderclient~master~Ia578de7b0a13270f0f6febc8e5413282490217a3,openstack/python-cinderclient,master,Add_missing_parameters_to_create_volume_body,Ia578de7b0a13270f0f6febc8e5413282490217a3,Add missing parameters to create body,ABANDONED,2012-07-24 19:36:31.000000000,2012-07-25 00:59:30.000000000,,17,4,0,10244,32973ff416bc30bfb21093f26a024813519b9185,2,1,1,1,2243,John Griffith,john-griffith,"Add missing parameters to create body

 * A number of parameters were missing from the create
 * Metadata, user_id, project_id etc
 * Caught by tempest

Change-Id: Ia578de7b0a13270f0f6febc8e5413282490217a3
"
openstack%2Fheat~master~I2bd77345ac35860201006a23999a06dd81ac6fe0,openstack/heat,master,master,I2bd77345ac35860201006a23999a06dd81ac6fe0,Log the error when a resouce fails to delete,MERGED,2012-07-25 00:49:50.000000000,2012-07-25 00:49:50.000000000,2012-07-25 00:49:50.000000000,6,0,0,10253,8c3f0f14a5f2b41f0a7f4922a3100c0797feaddd,5,2,1,3,4715,Angus Salkeld,asalkeld,"Log the error when a resouce fails to delete

Also bail out of handle_delete if instance_id is None

Change-Id: I2bd77345ac35860201006a23999a06dd81ac6fe0
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fhorizon~master~I45fce5e889e92abc592f0a5abfef1abb4ce527be,openstack/horizon,master,bp/swift-ui-improvements,I45fce5e889e92abc592f0a5abfef1abb4ce527be,Makes data table accept mixed data types,MERGED,2012-07-17 23:38:17.000000000,2012-07-25 00:36:46.000000000,2012-07-25 00:36:46.000000000,256,61,71,9948,6ba1a4d395785c087333d3d21d3a5b2846397ca0,30,6,7,8,4302,Ke Wu,ke-wu,"Makes data table accept mixed data types

This is the first step of making the resource browser, related to
blueprint swift-ui-improvements.

Adds three attrs to DataTableOptions:
.. attribute:: mixed_data_type

.. attribute:: data_types

.. attribute:: data_type_name

Adds attr to Column class:
.. attribute:: allowed_data_types

Adds attr to Action and LinkAction class:
.. attribute:: allowed_data_types

Changes implentation of FilterAction.
Adds MixedDataTableView.

Change-Id: I45fce5e889e92abc592f0a5abfef1abb4ce527be
"
openstack%2Fopenstack-manuals~stable%2Fessex~I46516fb4c9f4bc665af08b6570b5085107c61b9c,openstack/openstack-manuals,stable/essex,essex-dnsmasq,I46516fb4c9f4bc665af08b6570b5085107c61b9c,Document dnsmasq,MERGED,2012-07-23 15:24:10.000000000,2012-07-25 00:12:24.000000000,2012-07-25 00:12:24.000000000,45,22,0,10134,6e864381b81a8f6cbd09b064120f1cecc0ed2841,9,4,2,1,321,Lorin Hochstein,lorinh,"Document dnsmasq

Add a separate section in the networking chapter for dnsmasq.

Cherry-picked from https://review.openstack.org/10110

Change-Id: I46516fb4c9f4bc665af08b6570b5085107c61b9c
"
openstack%2Fopenstack-manuals~master~Ibe1cb29119c7a31d73c36fef47d21758b4f498b6,openstack/openstack-manuals,master,master,Ibe1cb29119c7a31d73c36fef47d21758b4f498b6,There was a missing </para> tag on line 80 which was causing compilation errors,MERGED,2012-07-24 13:20:08.000000000,2012-07-25 00:10:21.000000000,2012-07-25 00:10:21.000000000,1,0,0,10217,74fb069d19090838ad0431e7c4aa311ed2b086b1,4,3,1,1,161,Kevin Bringard,kbringard,"There was a missing </para> tag on line 80 which was causing compilation errors

Change-Id: Ibe1cb29119c7a31d73c36fef47d21758b4f498b6
"
openstack%2Ftempest~master~If9680f56a1ea06ffe93393d06b23bd231ccddd01,openstack/tempest,master,bug/1028465,If9680f56a1ea06ffe93393d06b23bd231ccddd01,Fix checks in server listing only lok for an ID,MERGED,2012-07-24 23:41:33.000000000,2012-07-25 00:07:53.000000000,2012-07-25 00:07:53.000000000,89,302,0,10255,a6aa5f21074b78f1bf3f44111c9f6fc7d740f2de,5,2,1,8,7,Jay Pipes,jaypipes,"Fix checks in server listing only lok for an ID

The list server filter details checks were checking
entire mappings against the list of mappings returned
from a call to GET /servers/detail. Unfortunately, the
mappings returned by the GET /servers/detail and the
mapping returned by POST /servers are slightly different,
resulting in the comparison failing. We really only are
checking that the server instance we expect to be in the
returned list of instances is there, so checking for the
server ID in the returned list is fine.

Change-Id: If9680f56a1ea06ffe93393d06b23bd231ccddd01
Fixes: LP Bug 1028465pep8 build for tempest.
"
openstack%2Fdevstack~master~I40062f733c8b3cf310239863aca0d48b46136731,openstack/devstack,master,nova-network-depends-on-glance,I40062f733c8b3cf310239863aca0d48b46136731,fixed https://bugs.launchpad.net/devstack/+bug/1027212,ABANDONED,2012-07-20 19:06:02.000000000,2012-07-24 23:35:16.000000000,,2,2,0,10072,aea9e937b4aa131bb4283af16405137c8f6ddef3,2,0,1,1,4703,Evgeniy Afonichev,eafonichev,"fixed https://bugs.launchpad.net/devstack/+bug/1027212

Change-Id: I40062f733c8b3cf310239863aca0d48b46136731
"
openstack%2Ftempest~master~I0195e7f49a7c2bb217f61368ea829f2356733c8d,openstack/tempest,master,bug/1028465,I0195e7f49a7c2bb217f61368ea829f2356733c8d,Ensure checks in server listing only lok for an ID,ABANDONED,2012-07-24 21:37:54.000000000,2012-07-24 23:27:38.000000000,,35,302,0,10251,7fe2c91aba853ece422beb32b8e7f535b5875380,5,2,1,5,7,Jay Pipes,jaypipes,"Ensure checks in server listing only lok for an ID

The list server filter details checks were checking
entire mappings against the list of mappings returned
from a call to GET /servers/detail. Unfortunately, the
mappings returned by the GET /servers/detail and the
mapping returned by POST /servers are slightly different,
resulting in the comparison failing. We really only are
checking that the server instance we expect to be in the
returned list of instances is there, so checking for the
server ID in the returned list is fine.

This includes the tox fixes since the gate cannot be fixed
without both...

Change-Id: I0195e7f49a7c2bb217f61368ea829f2356733c8d
Fixes: LP Bug 1028465
"
openstack%2Fcinder~master~I22c45542401022a6bad9f2320e8657f972915f69,openstack/cinder,master,bug/1027774,I22c45542401022a6bad9f2320e8657f972915f69,Don't do PEP8 test for openstack-common code.,MERGED,2012-07-23 06:48:37.000000000,2012-07-24 23:25:38.000000000,2012-07-24 23:25:38.000000000,1,1,0,10118,612b1bd95510252721ba1a0531bd27e2706cad1d,9,6,1,1,2759,Huang Zhiteng,zhiteng-huang,"Don't do PEP8 test for openstack-common code.

Pep8 test reports issue on openstack-common modules, which would
fail CI test. Pep8 test should skip openstack-common and assuming
they are problem-free code. Even it's not, bug/fix should go to
openstack-common first, then resync back to Cinder.  Therefore,
Cinder should skip pep8 test for openstack-common code.

Fix bug #1027774

Change-Id: I22c45542401022a6bad9f2320e8657f972915f69
"
openstack%2Fcinder~master~Iadd58914c7fb7a581f9878880908aabcfa5733d6,openstack/cinder,master,service_cleanup,Iadd58914c7fb7a581f9878880908aabcfa5733d6,Cleanup unused code in servce.py,MERGED,2012-07-23 04:02:24.000000000,2012-07-24 23:20:41.000000000,2012-07-24 23:20:41.000000000,0,3,0,10111,111b7534b602d62e4984ada998f757038677b745,6,4,1,1,2759,Huang Zhiteng,zhiteng-huang,"Cleanup unused code in servce.py

Remove unused code in Service() class which is meant to be used
by 'nova-compute'.

Change-Id: Iadd58914c7fb7a581f9878880908aabcfa5733d6
Signed-off-by: zhiteng.huang@intel.com
"
openstack%2Fnova~master~I3813eafa24b125575bcdceac8d30ab6bd909cfe4,openstack/nova,master,bug/1027197,I3813eafa24b125575bcdceac8d30ab6bd909cfe4,Add image_name to create and rebuild notifications,MERGED,2012-07-19 20:53:42.000000000,2012-07-24 22:47:58.000000000,2012-07-24 22:47:57.000000000,72,11,1,10032,cc742225d4b37b8bf03a3d0a21be78fcbec29199,24,7,5,5,4463,iccha-sethi,iccha-sethi,"Add image_name to create and rebuild notifications

Fixes bug 1027197

Without image_name in notifications, one has to use the image_ref
and hit glance again.
The create and rebuild functions already contain image_metadata, hence
adding the image_name in their notification can prevent additional
call to glance.

Change-Id: I3813eafa24b125575bcdceac8d30ab6bd909cfe4
"
openstack%2Ftempest~master~Ic50486ca8ae36c14f4a0fabb86dd1c7e48364204,openstack/tempest,master,bug1028465,Ic50486ca8ae36c14f4a0fabb86dd1c7e48364204,Fix pep8 build for tempest.,ABANDONED,2012-07-23 19:15:35.000000000,2012-07-24 22:16:20.000000000,,61,278,4,10157,5fa433c00d502706f9115945ea4d1839e84e6161,18,3,3,7,2,Monty Taylor,mordred,"Fix pep8 build for tempest.

Change-Id: Ic50486ca8ae36c14f4a0fabb86dd1c7e48364204
"
openstack%2Fneutron~master~I2fff64c4247b1a3091c28c7a2cd632afda192c3d,openstack/neutron,master,bp/provider-networks,I2fff64c4247b1a3091c28c7a2cd632afda192c3d,Initial V2 implementation of provider extension.,MERGED,2012-07-24 21:45:53.000000000,2012-07-24 21:45:53.000000000,2012-07-24 21:45:53.000000000,322,41,118,9069,f2e37172ef0ee319de171894bd61fd18f9c55a34,48,11,7,9,1689,Robert Kukura,rkukura,"Initial V2 implementation of provider extension.

Initial provider extension implementation. Specify vlan_id using the
CLI with admin rights via ""net-create --tenant_id <tenant-id>
<net-name> --provider:vlan_id <vlan-id>"". Also includes
provider:vlan_id in reply messages for admins. The extension is
supported in the linuxbridge and openvswitch plugins.

Partially implements blueprint provider-networks.

Change-Id: I2fff64c4247b1a3091c28c7a2cd632afda192c3d
"
openstack%2Ftempest~master~Icacddc386062d25a12006d3cf6491f72ea33e3cf,openstack/tempest,master,bug/1028465,Icacddc386062d25a12006d3cf6491f72ea33e3cf,Ensure checks in server listing only lok for an ID,ABANDONED,2012-07-24 21:00:44.000000000,2012-07-24 21:38:44.000000000,,28,24,0,10249,cdd9cb71fe44f4f15bfa6e5ae722e4e1f9df7130,4,2,1,1,7,Jay Pipes,jaypipes,"Ensure checks in server listing only lok for an ID

The list server filter details checks were checking
entire mappings against the list of mappings returned
from a call to GET /servers/detail. Unfortunately, the
mappings returned by the GET /servers/detail and the
mapping returned by POST /servers are slightly different,
resulting in the comparison failing. We really only are
checking that the server instance we expect to be in the
returned list of instances is there, so checking for the
server ID in the returned list is fine.

Change-Id: Icacddc386062d25a12006d3cf6491f72ea33e3cf
Fixes: LP Bug 1028465
"
openstack%2Fhorizon~master~Id3ab3593b35c5dd3e4b9e13513dd3dcbd0a79b9a,openstack/horizon,master,bp/tenant-creation-workflow,Id3ab3593b35c5dd3e4b9e13513dd3dcbd0a79b9a,admin workflow to add/edit project info and quotas,MERGED,2012-07-05 22:29:27.000000000,2012-07-24 21:28:20.000000000,2012-07-24 21:28:20.000000000,669,198,60,9412,cbb22a181113f052791679c00c62dcbccd27aff0,46,7,13,10,4567,kelsey-tripp,kelsey-tripp,"admin workflow to add/edit project info and quotas

partially implements blueprint tenant-creation-workflow

Change-Id: Id3ab3593b35c5dd3e4b9e13513dd3dcbd0a79b9a
"
openstack%2Fnova~stable%2Fessex~I44ac2e519b7af9b8f3b37a42280ac6fe71c31a1c,openstack/nova,stable/essex,bug/1014925,I44ac2e519b7af9b8f3b37a42280ac6fe71c31a1c,Backport fix for API listing of os-hosts.,MERGED,2012-07-23 20:20:45.000000000,2012-07-24 20:11:53.000000000,2012-07-24 20:11:52.000000000,12,5,0,10168,08e5128ffd63acd14249db3930f05753abb8f848,14,5,1,2,1420,Adam Gandelman,gandelman-a,"Backport fix for API listing of os-hosts.

Backports fix for bug 1014925 to stable/essex, which resolves issue
where querying /v1.1/$tenant/os-hosts returns an empty list.

Original fix by Joe Gordon reviewed into Folsom at:

    https://review.openstack.org/#/c/8682/2

Change-Id: I44ac2e519b7af9b8f3b37a42280ac6fe71c31a1c
"
openstack%2Fnova~stable%2Fessex~I827588f0694c5dd7b5e8ff3173d4794a55946d81,openstack/nova,stable/essex,bug/1007573,I827588f0694c5dd7b5e8ff3173d4794a55946d81,Fixes affinity filters when hints is None,MERGED,2012-07-12 00:20:46.000000000,2012-07-24 20:04:58.000000000,2012-07-24 20:04:57.000000000,40,3,2,9693,2efc87cc08e227d5623ff58c5c6fdfd02c8578df,17,7,1,2,67,Vish Ishaya,vishvananda,"Fixes affinity filters when hints is None

 * Fixes bug 1007573
 * Includes failing tests

Change-Id: I827588f0694c5dd7b5e8ff3173d4794a55946d81
(cherry picked from commit 4803074f2c02c87310c486f66fb66be98533805f)
"
openstack%2Fnova~stable%2Fessex~I0fd476c38d9aea7d1c60cb959d8c7ac30e515d77,openstack/nova,stable/essex,stable/essex,I0fd476c38d9aea7d1c60cb959d8c7ac30e515d77,Backport tox settings to unbreak jenkins jobs.,MERGED,2012-06-25 15:07:57.000000000,2012-07-24 19:57:32.000000000,2012-07-24 19:57:32.000000000,12,25,0,8925,6c01c0163fcdb8f176af3a978eb602a696b80eb8,20,5,1,2,2,Monty Taylor,mordred,"Backport tox settings to unbreak jenkins jobs.

The stable/essex tox config for nova does not currently match the
testing standards that jenkins expects. This backports in current
changes so that jenkins coverage jobs should start passing for
stable/essex.

Change-Id: I0fd476c38d9aea7d1c60cb959d8c7ac30e515d77
"
openstack%2Fopenstack-manuals~stable%2Fessex~I870fdb1088b939100b10d896016b823a2a06dbd6,openstack/openstack-manuals,stable/essex,bug/1015937,I870fdb1088b939100b10d896016b823a2a06dbd6,Fix bug #1015937 : Cloudpipe documentation needs update Fix bug #1027617 : How to access CloudPipe Update the xml-id of cloudpipe sections,MERGED,2012-07-18 14:16:12.000000000,2012-07-24 19:49:59.000000000,2012-07-24 19:49:59.000000000,493,82,7,9965,d20aea2264e89bb7c2e8b0ecf07b46c5e7b9fe39,21,6,7,5,1627,Razique Mahroua,razique,"Fix bug #1015937 : Cloudpipe documentation needs update
Fix bug #1027617 : How to access CloudPipe
Update the xml-id of cloudpipe sections

Patchset for a few spelling corrections.

Change-Id: I870fdb1088b939100b10d896016b823a2a06dbd6
"
openstack%2Fnova~stable%2Fessex~Id231e9518ac176e29cc6241fff81705910dc9e9e,openstack/nova,stable/essex,9710,Id231e9518ac176e29cc6241fff81705910dc9e9e,Conditionally allow queries for deleted flavours,MERGED,2012-07-12 12:18:50.000000000,2012-07-24 19:48:10.000000000,2012-07-24 19:48:10.000000000,54,6,0,9710,4c7d671d21816f656068380e3b7a1415d98ba69c,17,4,2,4,518,Soren Hansen,soren,"Conditionally allow queries for deleted flavours

Fixes bug #994935

This is four commits from upstream squashed into one:

   31506c0 Permit deleted instance types to be queried for active
           instances. (By Josh Kearney)
   f6e62c6 API users should not see deleted flavors. (By Dan Prince)
   16d26af Revert ""API users should not see deleted flavors."" (By Josh
           Kearney)
   5157401 Do not always query deleted instance_types. (By Brian Lamar)

It may seem strange to include both the change and the reversion of the
change, but a) this is the most accurate way to reflect the history of
the changes and b) the reversion actually includes new tests.

Change-Id: Id231e9518ac176e29cc6241fff81705910dc9e9e
"
openstack%2Fhorizon~master~I20dd8d698f5d8481938417557e09dcdc9b891e82,openstack/horizon,master,bug/1023740,I20dd8d698f5d8481938417557e09dcdc9b891e82,Added action for creating a volume from snapshot,MERGED,2012-07-14 11:54:38.000000000,2012-07-24 18:34:30.000000000,2012-07-24 18:34:30.000000000,240,23,8,9818,2392da498ab51f94d0e45db14fd800c1d196b4b7,21,5,6,8,2455,Tihomir Trifonov,ttrifonov,"Added action for creating a volume from snapshot

Added a new action to create new volume from
a volume snapshot. The snapshot_id is passed to
nova volume API. The 'Create Volume' form is
reused, with the 'size' value being checked against
the snapshot size, as it cannot be less than
the snapshot size.

Fixes bug 1023740

PATCH SET 4: Added dropdown to select snapshot source
in 'Create Volume' form, when loaded from /nova/volumes/
When a snapshot is selected from the dropdown, the name
and size are pre-filled in the form (I've removed
the description copy as it is probably specific
for the reason a snapshot is being created).

PATCH SET 6: rebased with master, fixed a bug with
get_context in nova/volume/views

Change-Id: I20dd8d698f5d8481938417557e09dcdc9b891e82
"
openstack%2Fheat~master~I10f3b599f8a0f5daad84752042079a591968de09,openstack/heat,master,master,I10f3b599f8a0f5daad84752042079a591968de09,heat API : Add more tests covering error paths,MERGED,2012-07-24 18:33:25.000000000,2012-07-24 18:33:25.000000000,2012-07-24 18:33:25.000000000,213,0,0,10232,f1eabe8073549cbcea47b1ae6c927e2e1948d33e,5,2,1,1,4328,Steven Hardy,shardy,"heat API : Add more tests covering error paths

Add some more tests testing error path responses

Change-Id: I10f3b599f8a0f5daad84752042079a591968de09
Signed-off-by: Steven Hardy <shardy@redhat.com>
"
openstack%2Fhorizon~master~I1c68e3625c22e591776e83c742e7b94dc893f196,openstack/horizon,master,bug/1027210,I1c68e3625c22e591776e83c742e7b94dc893f196,Fixed the bug with images returned as generator,MERGED,2012-07-23 10:26:15.000000000,2012-07-24 18:29:05.000000000,2012-07-24 18:29:05.000000000,166,21,2,10122,dec4876e2414dc48052ad95939081cc183bfef54,15,4,4,5,2455,Tihomir Trifonov,ttrifonov,"Fixed the bug with images returned as generator

After a fix in Glance to support pagination,
the list of images is returned as generator,
while api.glance expects a list.

PATCHSET 2: removed optional kwargs if None
PATCHSET 3: fixed snapshot_list_detailed.

Fixed bug 1027210

Change-Id: I1c68e3625c22e591776e83c742e7b94dc893f196
"
openstack%2Fkeystone~master~I2866ff40fdc13040ba10d189ea2d95440eb4395c,openstack/keystone,master,bug/1021315,I2866ff40fdc13040ba10d189ea2d95440eb4395c,Implementation of LDAP functions,MERGED,2012-07-13 18:16:20.000000000,2012-07-24 18:04:09.000000000,2012-07-24 18:04:09.000000000,80,96,13,9780,2a78594153a69425a20013e7ef15037bcc9b356c,15,5,2,3,2218,Adam Young,ayoung,"Implementation of LDAP functions

implementations of delete_tenant, delete_user,
  remove_role_from_user_and_tenant, get_tenant_users
  role.delete_user and remove_role_from_user_and_tenant
  remove_user_from_tenant, change_ role

clean up LDAP sample data for live LDAP

properly check for existance of tenant_id in user.

Some tests expected the functions to be unimplemented.  Those hid the
failuers on the LDAP Identity provider and have been removed.

Make live tests extend the standard LDAP tests, so they test the same features.

Bug 1021315

Change-Id: I2866ff40fdc13040ba10d189ea2d95440eb4395c
"
openstack%2Fnova~master~I5aecb223876e12550394f31dbc7df893868baa8b,openstack/nova,master,bug/1002111,I5aecb223876e12550394f31dbc7df893868baa8b,Provide rootwrap filters for nova-api-metadata,MERGED,2012-07-24 15:07:41.000000000,2012-07-24 16:21:42.000000000,2012-07-24 16:21:41.000000000,17,0,0,10222,6c888001f15fba44aaaaaf367757dd81b8512f65,8,5,1,1,308,Thierry Carrez,ttx,"Provide rootwrap filters for nova-api-metadata

The metadata service in nova-api needs access to
ip[6]tables-{save-restore} to accept connections to the
metadata service. This change adds an api-metadata.filters file
that needs to be deployed on setups running nova-api-metadata
or nova-api with ""metadata"" in enabled_apis.

Fixes bug 1002111.

Change-Id: I5aecb223876e12550394f31dbc7df893868baa8b
"
openstack%2Fglance~master~Ieacfd397939b77246e8c89214cbe902c3ed3e28c,openstack/glance,master,bug/1028433,Ieacfd397939b77246e8c89214cbe902c3ed3e28c,Include chunk_name in swift debug message,MERGED,2012-07-24 12:57:34.000000000,2012-07-24 16:04:56.000000000,2012-07-24 16:04:56.000000000,4,3,0,10213,33ebb37f4a263bc89c3d419c6936c60396d12f82,7,4,1,1,455,Stuart McLaren,stuart-mclaren,"Include chunk_name in swift debug message

Add chunk_name to swift upload debug message. Helps
to track which image the chunk is part of when several
uploads are occurring.

Fixes LP bug #1028433.

Change-Id: Ieacfd397939b77246e8c89214cbe902c3ed3e28c
"
openstack%2Fneutron~master~I85b5a3a74f129746528910d12acdd00db39d8626,openstack/neutron,master,common-updates,I85b5a3a74f129746528910d12acdd00db39d8626,Update openstack-common files.,MERGED,2012-07-24 15:55:41.000000000,2012-07-24 15:55:41.000000000,2012-07-24 15:55:41.000000000,12,6,0,10204,f43b1cede93bca9acfa493c7f3c83ff5ab961587,8,4,2,2,1653,garyk,garyk,"Update openstack-common files.

The RPC support requires that the fanout_cast messages enable
the application to set the topic. This was fixed in
https://review.openstack.org/#/c/10125/.

In addition to this the jsonutils.py was updated.

Change-Id: I85b5a3a74f129746528910d12acdd00db39d8626
"
openstack%2Fpython-novaclient~master~I3adeed24ecea127c8bdd12143634a6ce5da64330,openstack/python-novaclient,master,fix_image_poll,I3adeed24ecea127c8bdd12143634a6ce5da64330,Fix image-create --poll race-condition.,MERGED,2012-07-23 22:09:34.000000000,2012-07-24 15:23:21.000000000,2012-07-24 15:23:21.000000000,35,8,0,10179,7ef0786d9e6172a9df0d33a1113f27569bd7f522,6,3,1,1,475,Rick Harris,rconradharris,"Fix image-create --poll race-condition.

This fixes a race-condition caused by `do_image_create` with polling
enabled returning after the image has finished uploading but before the
instance `task_state` was cleared out.

This would cause a snapshot taken immediately afterwards to fail because
the `task_state` would still be in the `image_snapshot` state.

The (short-term) fix is to add an addition poll-loop that ensures the
`task_state` field is cleared-out as well.

Change-Id: I3adeed24ecea127c8bdd12143634a6ce5da64330
"
openstack%2Fnova~master~Ia89c191f420e116b2f7ca144cdb2e21e6ace404a,openstack/nova,master,hyper-stats,Ia89c191f420e116b2f7ca144cdb2e21e6ace404a,Fix a bug in compute_node_statistics,MERGED,2012-07-24 14:47:46.000000000,2012-07-24 15:23:19.000000000,2012-07-24 15:23:18.000000000,2,1,0,10219,4c9c0d74d4de955f3ab7d0ceb2e6f0621710a6a3,8,5,1,1,679,Kevin L. Mitchell,klmitch,"Fix a bug in compute_node_statistics

Turns out, using Sqlalchemy's sum aggregation functions returns
instances of Decimal.  This caused the statistics reporting to
fail with a cryptic ""Circular reference"" error during
serialization.  Fixed by forcing the values to integer.

Change-Id: Ia89c191f420e116b2f7ca144cdb2e21e6ace404a
"
openstack%2Ftempest~master~I8be2721888f3940a215bc0f31c731231b98f05a5,openstack/tempest,master,,I8be2721888f3940a215bc0f31c731231b98f05a5,Tolerate set_admin_password not implemented.,ABANDONED,2012-07-23 14:52:39.000000000,2012-07-24 14:12:20.000000000,,6,2,0,10133,543dd4537bab32dbeb08a18547b1c7f7d120210c,10,4,4,1,2284,Eoghan Glynn,eglynn,"Tolerate set_admin_password not implemented.

Allow attempts to set the root password to fail if this action
is not implemented by the virt driver.

This will allow the following nova patch to be gated:

   https://review.openstack.org/10130

Change-Id: I8be2721888f3940a215bc0f31c731231b98f05a5
"
openstack%2Fswift~master~I4209190ba06561dfaf7cd46daa4bcce82781825c,openstack/swift,master,master,I4209190ba06561dfaf7cd46daa4bcce82781825c,Fix sample code for clients to match real code.,ABANDONED,2012-07-19 20:36:57.000000000,2012-07-24 13:18:10.000000000,,1,1,0,10031,12d7748ee567a61ad23ff21e4a5d1fc0c3106df9,5,3,1,1,1192,David Kranz,david-kranz,"Fix sample code for clients to match real code.

Change-Id: I4209190ba06561dfaf7cd46daa4bcce82781825c
"
openstack%2Fnova~master~Ibe36eace6a2d5d5a8d8d03d2cb170cbe0056320e,openstack/nova,master,bug/1027453,Ibe36eace6a2d5d5a8d8d03d2cb170cbe0056320e,Updates migration 111 to work w/ Postgres.,MERGED,2012-07-21 17:43:17.000000000,2012-07-24 12:48:01.000000000,2012-07-24 12:48:00.000000000,5,0,0,10094,046b3f2e0c4b6a80428aea1e69957429d23783a0,9,6,1,1,360,Dan Prince,dan-prince,"Updates migration 111 to work w/ Postgres.

Updates migration 111 so that we drop the aggregate_hosts_host_key
unique constrain by name.

Fixes LP Bug #1027453

Change-Id: Ibe36eace6a2d5d5a8d8d03d2cb170cbe0056320e
"
openstack%2Fheat~master~Ibe8941ab471943b7385ceb4b4d4559719a7092b6,openstack/heat,master,master,Ibe8941ab471943b7385ceb4b4d4559719a7092b6,delete duplicate validate() method,MERGED,2012-07-24 08:28:37.000000000,2012-07-24 08:28:37.000000000,2012-07-24 08:28:37.000000000,0,3,0,10207,f95e459e80625150e91413f54a76090163fc7bb0,5,2,1,1,4715,Angus Salkeld,asalkeld,"delete duplicate validate() method

probably a merge conflict.

Change-Id: Ibe8941ab471943b7385ceb4b4d4559719a7092b6
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fheat~master~I74abc742371cb23ddfe38f83812662a9d42f3d43,openstack/heat,master,master,I74abc742371cb23ddfe38f83812662a9d42f3d43,loadbalancer: implement Interval and Timeout,MERGED,2012-07-24 08:27:03.000000000,2012-07-24 08:27:03.000000000,2012-07-24 08:27:03.000000000,21,4,0,10206,8a7ea792b00fa470270d85b3d08f210b5e98b78f,5,2,1,1,4715,Angus Salkeld,asalkeld,"loadbalancer: implement Interval and Timeout

Change-Id: I74abc742371cb23ddfe38f83812662a9d42f3d43
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fheat~master~I1403f7857e03795aa4773f9a3f1fc8f082526477,openstack/heat,master,master,I1403f7857e03795aa4773f9a3f1fc8f082526477,autoscaling: implement DesiredCapacity,MERGED,2012-07-24 08:25:17.000000000,2012-07-24 08:25:17.000000000,2012-07-24 08:25:17.000000000,8,3,0,10205,27e612a77bdde87d417d502251553352fafc8870,5,2,1,1,4715,Angus Salkeld,asalkeld,"autoscaling: implement DesiredCapacity

Change-Id: I1403f7857e03795aa4773f9a3f1fc8f082526477
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fneutron~master~Ib82a9f843548c286c84ba63caf5406a773ac85b1,openstack/neutron,master,bp/cisco-plugin-v2-api-support,Ib82a9f843548c286c84ba63caf5406a773ac85b1,Add v2 API support for the Cisco plugin Blueprint cisco-plugin-v2-api-support,MERGED,2012-07-24 07:34:58.000000000,2012-07-24 07:34:58.000000000,2012-07-24 07:34:58.000000000,4236,22,27,9988,9cc6decb7a554619b565b269f0b29b0b1486847c,26,7,5,32,490,Sumit Naiksatam,snaiksat,"Add v2 API support for the Cisco plugin
Blueprint cisco-plugin-v2-api-support

New meta-plugin which makes use of the Quantum db_plugin and supports
the new v2 API
Changes to the Cisco DB model, now reusing quantum DB for core attributes
Changes to the device sub plugins to access the quantum DB for core
resources' state versus Cisco DB
Addition of fake/dummy drivers to support testing of the device sub
plugins even without actual hardware
New v2 unit tests which exercise the meta-plugin and the device sub
-plugins as well
In general creating new v2 modules such that v1.x code can be deprecated
easily by deleting the older modules. The following files are v2
versions of older modules, only the imports have changed, most of the
other code is the same as from the older modules (already reviewed):
quantum/plugins/cisco/common/cisco_credentials_v2.py
quantum/plugins/cisco/db/network_db_v2.py
quantum/plugins/cisco/db/network_models_v2.py
quantum/plugins/cisco/db/nexus_db_v2.py
quantum/plugins/cisco/db/nexus_models_v2.py
quantum/plugins/cisco/db/ucs_db_v2.py
quantum/plugins/cisco/db/ucs_models_v2.py
quantum/plugins/cisco/nexus/cisco_nexus_plugin_v2.py
quantum/plugins/cisco/ucs/cisco_ucs_inventory_v2.py
quantum/plugins/cisco/ucs/cisco_ucs_plugin_v2.py
quantum/plugins/cisco/segmentation/l2network_vlan_mgr_v2.py

All changes are contained with the Cisco plugin.

(Sumit & Rohit)

Change-Id: Ib82a9f843548c286c84ba63caf5406a773ac85b1
"
openstack%2Fnova~stable%2Fessex~I3251f02fc5fcb8305f12b6b8a9644232b9146db2,openstack/nova,stable/essex,bug/1017418,I3251f02fc5fcb8305f12b6b8a9644232b9146db2,Avoid casts in network manager to prevent races,MERGED,2012-06-27 00:58:54.000000000,2012-07-24 06:40:26.000000000,2012-07-24 06:40:26.000000000,6,6,0,9041,80d302670f8db37b297ea0618cc14851aab6fff5,19,5,3,2,67,Vish Ishaya,vishvananda,"Avoid casts in network manager to prevent races

 * Fixes bug 1017418
 * Includes a change to turn the floating ip casts
   into calls which is part of commit
   82599c77346bbefd550ea4ee6c0b13a3df4950af
 * These calls are to prevent race conditions that
   were preventing floating ips from being deallocated
   properly

Change-Id: I3251f02fc5fcb8305f12b6b8a9644232b9146db2
(cherry picked from commit c689891226baa8877f6fb7b3c468b06972068847)
"
openstack%2Fnova~stable%2Fessex~I450c598c31c416c7be341cbb8cd14e33c6bb2aec,openstack/nova,stable/essex,bp-9297,I450c598c31c416c7be341cbb8cd14e33c6bb2aec,Avoid lazy-loading errors on instance_type,MERGED,2012-07-11 15:05:39.000000000,2012-07-24 06:36:21.000000000,2012-07-24 06:36:20.000000000,3,3,0,9642,4d74631659b1b6e5b29b763cd808528946cb3721,10,5,2,1,67,Vish Ishaya,vishvananda,"Avoid lazy-loading errors on instance_type

When instances are launched with a source group, the instance_type
is not lazy_loaded in properly.

The issue is intermittent because if another query has already loaded
the instance with a joined instance_type or the instance has not
yet been expunged from the session, then the load succeeds.

Therefore this failure only appears under heavy load. Adding an
explicit joindload fixes the issue.

fixes bug 1018721

Change-Id: I450c598c31c416c7be341cbb8cd14e33c6bb2aec
(cherry picked from commit 2ef0dcfac78468551aac8492269ad856c312dcb5)
"
openstack%2Fnova~master~I03b4914d9420918590ae27dfc77dfedac9c767c1,openstack/nova,master,master,I03b4914d9420918590ae27dfc77dfedac9c767c1,Xen: Fix snapshots when use_cow=True.,MERGED,2012-07-24 04:51:14.000000000,2012-07-24 06:17:10.000000000,2012-07-24 06:17:09.000000000,5,0,0,10201,a08f8009d20918b8842f3c781934d1072f6f2643,6,3,1,1,475,Rick Harris,rconradharris,"Xen: Fix snapshots when use_cow=True.

This fixes an issue where use_cow=True would sporadically cause snapshot
corruption.

The root cause was a race-condition where the VM's sm_config was
sometimes out-of-sync with the underlying VHDs.

The solution is to force an SR rescan immediately after taking a
snapshot so that any VHD parent-pointer modifications are propogated
into the sm_config so that _walk_vdi_chain will receive accurate
information.

Change-Id: I03b4914d9420918590ae27dfc77dfedac9c767c1
"
openstack%2Fpython-cinderclient~master~Id4958bafea114706d2ff67ecd7139dd6c06a10d2,openstack/python-cinderclient,master,bug/1023311,Id4958bafea114706d2ff67ecd7139dd6c06a10d2,Port volume quota functionality in to cinderclient,ABANDONED,2012-07-14 15:54:26.000000000,2012-07-24 06:03:02.000000000,,299,5,0,9820,8f5c3083efba3d94c0d0d3b9c9c1879d49fc5686,4,1,2,7,2243,John Griffith,john-griffith,"Port volume quota functionality in to cinderclient

* Enables quota management for volumes in cinderclient
* Changes default service_type to volume
* Updates both nova and cinder quota tables
* Runs from novaclient as well as cinderclient
* Quota code is already in Cinder, but had no interface
* Fixes bug 1023311

Change-Id: Id4958bafea114706d2ff67ecd7139dd6c06a10d2
"
openstack%2Ftempest~master~I060a572fd0a676e51e3d50a08c52a49a0a424461,openstack/tempest,master,bug/1023345,I060a572fd0a676e51e3d50a08c52a49a0a424461,Fixes Bug 1023345-Test cases for Creating Server with 'Maximum' and 'exceeding' Personality File size,ABANDONED,2012-07-11 11:50:16.000000000,2012-07-24 06:03:02.000000000,,104,0,0,9634,6714b77d27e45c4578b3cd6ae45dd11bdec65654,4,2,1,4,2222,meenakshi-m,meenakshi-m,"Fixes Bug 1023345-Test cases for Creating Server with 'Maximum' and 'exceeding' Personality File size

Change-Id: I060a572fd0a676e51e3d50a08c52a49a0a424461
"
openstack%2Fheat~master~I4a22974e24fb277aea79212f0aee2f7e85a0ea76,openstack/heat,master,master,I4a22974e24fb277aea79212f0aee2f7e85a0ea76,Get rid of PyCrypto dependency,MERGED,2012-07-24 04:54:19.000000000,2012-07-24 04:54:19.000000000,2012-07-24 04:54:19.000000000,0,65,0,10182,8bd9ed0bd8e51291e549751abd5821e8263e820d,5,2,1,1,3098,Jeff Peeler,jpeeler-z,"Get rid of PyCrypto dependency

The origin of this code is from Glance and is not used in Heat.

Change-Id: I4a22974e24fb277aea79212f0aee2f7e85a0ea76
Signed-off-by: Jeff Peeler <jpeeler@redhat.com>
"
openstack%2Fhorizon~master~I793ae330c33fde4e625f96e55fdda3748c84b8c3,openstack/horizon,master,bug/1013475,I793ae330c33fde4e625f96e55fdda3748c84b8c3,Added custom parser for tablesorter.js,MERGED,2012-07-23 16:10:50.000000000,2012-07-24 04:02:01.000000000,2012-07-24 04:02:00.000000000,63,19,0,10137,ba27042d65c1bf47556cfecfbe492dab9dc88b3b,7,4,1,7,2455,Tihomir Trifonov,ttrifonov,"Added custom parser for tablesorter.js

A custom parser is needed for sorting of
custom type columns like the 'Size' columns.
The 'KB', 'MB', 'GB'... values break the sorter
logic and need to be parsed manually.

The custom parser works on all 'Size'/'RAM'/'Memory'
columns. It works also on flavor-info columns like:

    `m1.tiny | 512MB RAM | 1 VCPU | 0 Disk`

The custom parser sorts these lines based on the RAM value.

Note: as seen in horizon.tables.js file, an workaround was
added as there is one more <th> in the <thead> (incl. the table_caption)
than the <td>'s in <tbody>. Thus the custom parser needs
to be added to [i-1] header, while the header itself needs [i],
as the parser is processed in <tbody>, while headers are processed
including the table_caption... This might be a problem at some time,
although currently it works...

Fixes bug 1013475

Change-Id: I793ae330c33fde4e625f96e55fdda3748c84b8c3
"
openstack%2Fhorizon~master~I1808b34cbf6f813eaedf767a6364e815c0c5e969,openstack/horizon,master,bug/994677,I1808b34cbf6f813eaedf767a6364e815c0c5e969,Inline object creation.,MERGED,2012-07-18 04:17:28.000000000,2012-07-24 03:34:18.000000000,2012-07-24 03:34:18.000000000,968,803,11,9953,df5a13c5eca4bf6a34dd48d52c9b1762a0744a95,17,4,3,119,1816,Gabriel Hurley,gabriel-hurley,"Inline object creation.

Allows the creation of related objects during a workflow.
For example, this patch implements importing keypairs during
the launch instance workflow and allocating floating IP
addresses during the floating IP associate workflow.

This required several significant changes:

  * SelfHandlingForm should no long return a redirect.
    Instead, it should return either the object it
    created/acted on, or else a boolean such as True.

  * The ModalFormView now differentiates between GET
    and POST.

  * Due to the previous two items, SelfHandlingForm
    was mostly gutted (no more maybe_handle, etc.).

  * Modals now operate via a ""stack"" where only the
    top modal is visible at any given time and closing
    one causes the next one to become visible.

In the process of these large changes there was a large
amount of general code cleanup, especially in the javascript
code and the existing SelfHandlingForm subclasses/ModalFormView
subclasses. Many small bugs were fixed along with the cleanup.

Implements blueprint inline-object-creation.

Fixes bug 994677.
Fixes bug 1025977.
Fixes bug 1027342.
Fixes bug 1025919.

Change-Id: I1808b34cbf6f813eaedf767a6364e815c0c5e969
"
openstack%2Fpython-novaclient~master~I0a3df235282089f1313d08ae5b89dadbd1db9840,openstack/python-novaclient,master,hyper-stats,I0a3df235282089f1313d08ae5b89dadbd1db9840,Add call to get hypervisor statistics,MERGED,2012-07-23 17:12:42.000000000,2012-07-24 03:34:16.000000000,2012-07-24 03:34:16.000000000,53,0,5,10152,85d591b1d88b7e6d174c8eabd41dda14162a8bbc,20,6,4,5,679,Kevin L. Mitchell,klmitch,"Add call to get hypervisor statistics

Adds an admin API call to retrieve the compute node statistics for an
entire nova instance.  Counts up all hypervisors and sums all their
values (vcpus, vcpus_used, etc.).

Change-Id: I0a3df235282089f1313d08ae5b89dadbd1db9840
"
openstack%2Fnova~master~I36272656bb417c1549133fd2963bac54db0e86c6,openstack/nova,master,hyper-stats,I36272656bb417c1549133fd2963bac54db0e86c6,Add call to get hypervisor statistics,MERGED,2012-07-23 17:12:37.000000000,2012-07-24 03:28:13.000000000,2012-07-24 03:28:12.000000000,130,3,0,10151,09d978994325b28c76050f112af3ee66b84a5e1f,16,7,2,4,679,Kevin L. Mitchell,klmitch,"Add call to get hypervisor statistics

Adds an admin API call to retrieve the compute node statistics for an
entire nova instance.  Counts up all hypervisors and sums all their
values (vcpus, vcpus_used, etc.).

Change-Id: I36272656bb417c1549133fd2963bac54db0e86c6
"
openstack%2Fheat~master~If1cb20f6a16e719ee423db937b591b575fd4a038,openstack/heat,master,master,If1cb20f6a16e719ee423db937b591b575fd4a038,Update GettingStarted guide to use correct state name,MERGED,2012-07-24 00:20:39.000000000,2012-07-24 00:20:39.000000000,2012-07-24 00:20:39.000000000,2,2,0,10191,1206b18cbd24774a2397f905da323c57ebee2be4,8,3,1,1,4257,Zane Bitter,zaneb,"Update GettingStarted guide to use correct state name

This changed from IN_PROGRESS to CREATE_IN_PROGRESS in
0191587ac6a79509576e2043412020d9c4257b47.

Change-Id: If1cb20f6a16e719ee423db937b591b575fd4a038
Signed-off-by: Zane Bitter <zbitter@redhat.com>
"
openstack%2Fnova~master~Ieea4e2b7a248ea439a037e515f44d8286e278822,openstack/nova,master,bug/974411,Ieea4e2b7a248ea439a037e515f44d8286e278822,Use kombu >=2.1.8 to avoid occasional test hangs.,ABANDONED,2012-07-23 23:38:55.000000000,2012-07-24 00:15:24.000000000,,1,1,0,10188,0c02be397df66fab94a5cb9ed75c654aab300f51,3,2,1,1,4987,Eugene Kirpichov,ekirpichov,"Use kombu >=2.1.8 to avoid occasional test hangs.

Launchpad bug 974411.

Change-Id: Ieea4e2b7a248ea439a037e515f44d8286e278822
"
openstack%2Fnova~master~Iddea2cabc841200edd561d71f0c11fd6ba272f5d,openstack/nova,master,fix_vmware_compute_driver_help,Iddea2cabc841200edd561d71f0c11fd6ba272f5d,Use compute_driver in vmware driver help messages.,MERGED,2012-07-23 21:20:16.000000000,2012-07-23 22:41:22.000000000,2012-07-23 22:41:21.000000000,10,6,0,10175,dd4dcd1889bdbfd5952028ef9c478b6c63a8cbce,7,4,1,1,360,Dan Prince,dan-prince,"Use compute_driver in vmware driver help messages.

Updates the help messages in the vmware driver to use 'compute_driver'
examples instead of 'connection_type' which is now deprecated.

Change-Id: Iddea2cabc841200edd561d71f0c11fd6ba272f5d
"
openstack%2Fpython-cinderclient~master~I71a4b3303a354c0483c5da6a786ee6ae39388c77,openstack/python-cinderclient,master,master,I71a4b3303a354c0483c5da6a786ee6ae39388c77,Bump pep8 to 1.2,MERGED,2012-06-27 17:21:57.000000000,2012-07-23 22:39:29.000000000,2012-07-23 22:39:29.000000000,1,1,0,9061,1a32f024ce565d19a362d615cfefda2a59e01f54,15,3,2,1,24,Chuck Short,zulcss,"Bump pep8 to 1.2

Align it with outher openstack projects.

Change-Id: I71a4b3303a354c0483c5da6a786ee6ae39388c77
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fnova~master~I4a6912d29fbe425b29bd1b170b9bec19e3bfc46e,openstack/nova,master,jsonutils_auth_fix,I4a6912d29fbe425b29bd1b170b9bec19e3bfc46e,Update NovaKeystoneContext to use jsonutils.,MERGED,2012-07-23 21:08:01.000000000,2012-07-23 22:38:47.000000000,2012-07-23 22:38:46.000000000,2,2,1,10173,97478dbd48e343300cc71f3d5aae00843456d796,10,4,2,1,360,Dan Prince,dan-prince,"Update NovaKeystoneContext to use jsonutils.

Minor fix to use jsonutils.loads instead of json.loads to
standardize w/ the rest of Nova.

Change-Id: I4a6912d29fbe425b29bd1b170b9bec19e3bfc46e
"
openstack%2Fnova~stable%2Fessex~I36fd11d5f01562f65a6b6f07e759ea066490b067,openstack/nova,stable/essex,bug/1013689,I36fd11d5f01562f65a6b6f07e759ea066490b067,ensure libguestfs has completed before proceeding,MERGED,2012-07-11 00:11:19.000000000,2012-07-23 22:02:55.000000000,2012-07-23 22:02:54.000000000,12,0,0,9618,1c1b858e919248d6e3fb11c1022532ba40e75844,8,5,1,1,1812,p-draigbrady,p-draigbrady,"ensure libguestfs has completed before proceeding

This avoids a FUSE issue referenced here:
http://code.google.com/p/s3ql/issues/detail?id=159
which in turn references this thread on the subject from 2006:
http://thread.gmane.org/gmane.comp.file-systems.fuse.devel/3903
And another case from 2008:
http://permalink.gmane.org/gmane.comp.file-systems.fuse.devel/6502

The vast majority of this work was reproducing and classifying
done by David Naori and Richard W.M. Jones at:
https://bugzilla.redhat.com/show_bug.cgi?id=835466

Fixes bug: 1013689
Change-Id: I36fd11d5f01562f65a6b6f07e759ea066490b067
"
openstack%2Fnova~stable%2Fessex~Ica0e2f51b6852c8572bdc3c995cc8c2588b9a25c,openstack/nova,stable/essex,bug/1022036,Ica0e2f51b6852c8572bdc3c995cc8c2588b9a25c,fix metadata file injection with xen,MERGED,2012-07-07 09:52:40.000000000,2012-07-23 22:01:41.000000000,2012-07-23 22:01:40.000000000,1,1,0,9475,48e5f46f799ea5832f8d18cb2f34e98df9cda15a,15,6,3,1,1812,p-draigbrady,p-draigbrady,"fix metadata file injection with xen

The metadata parameter was misordered in commit 1463839f

Cherry picked from commit a2032924
Fixes Bug: 1022036
Change-Id: Ica0e2f51b6852c8572bdc3c995cc8c2588b9a25c
"
openstack%2Fswift~master~Id09bbff6bb4a5d032727d3ca53b3276b4769d178,openstack/swift,master,bug/1024477,Id09bbff6bb4a5d032727d3ca53b3276b4769d178,Create and configure /var/cache/swift in SAIO,MERGED,2012-07-13 22:15:14.000000000,2012-07-23 21:57:25.000000000,2012-07-23 21:57:24.000000000,65,12,1,9798,0da1b4f82d105e89729e41e45a22cf5ddc3d719a,18,4,4,1,1603,Florian Hines,pandemicsyn,"Create and configure /var/cache/swift in SAIO

Fixes bug #1024477

Change-Id: Id09bbff6bb4a5d032727d3ca53b3276b4769d178
"
openstack%2Fglance~master~If7514a4394b17844d92b9737214898f954fe95a6,openstack/glance,master,master,If7514a4394b17844d92b9737214898f954fe95a6,Use size_checked_iter in v2 API,MERGED,2012-07-17 23:31:48.000000000,2012-07-23 21:53:29.000000000,2012-07-23 21:53:29.000000000,28,10,0,9947,617609a2f38310cd4d45f0fc0d7a795ab77c02f7,18,5,3,2,1132,Brian Waldon,bcwaldon,"Use size_checked_iter in v2 API

The image file returned in the v2 API should be treated the same
as in the v1 API. This patch wraps the returned image data in
the v2 API controller with glance.api.common.size_checked_iter

Change-Id: If7514a4394b17844d92b9737214898f954fe95a6
"
openstack%2Fopenstack-manuals~master~I8970bec78164fec7bcab93960ca145273f858824,openstack/openstack-manuals,master,bug/933547,I8970bec78164fec7bcab93960ca145273f858824,Updates api.openstack.org to v2 instead of v1.1 for Compute API.,MERGED,2012-07-23 20:57:17.000000000,2012-07-23 21:45:33.000000000,2012-07-23 21:20:53.000000000,47,3772,0,10172,335534eb174f4cfd8d089ce89e4f788ef19e9c5d,4,3,1,24,964,Anne Gentle,annegentle,"Updates api.openstack.org to v2 instead of v1.1 for Compute API.

Adds some additional details to createServer.
 - Fix bug 933547 by adding imageRef, flavorRef to create Server
 - Adds metadata and personality to create Server command

Change-Id: I8970bec78164fec7bcab93960ca145273f858824
"
openstack%2Fceilometer~master~Ibc8b726d59c3f9433109096958b1d40db043e70d,openstack/ceilometer,master,master,Ibc8b726d59c3f9433109096958b1d40db043e70d,Fix and document counter types,MERGED,2012-07-23 21:39:22.000000000,2012-07-23 21:39:22.000000000,2012-07-23 21:39:22.000000000,21,6,0,10016,dcce2c7323c0e8c9426604bc15a7e8f6ee70b86d,5,2,1,6,1669,Julien Danjou,jdanjou,"Fix and document counter types

Document each counter type available and fixes the various counter already
implemented.

This fixes bug #1023969.

Change-Id: Ibc8b726d59c3f9433109096958b1d40db043e70d
Signed-off-by: Julien Danjou <julien@danjou.info>
"
openstack%2Fceilometer~master~I51a953062d450ac4b392d0f86acc9a415b7b22af,openstack/ceilometer,master,master,I51a953062d450ac4b392d0f86acc9a415b7b22af,Merge c1 function into process,MERGED,2012-07-23 21:31:40.000000000,2012-07-23 21:31:40.000000000,2012-07-23 21:31:40.000000000,18,22,0,10015,6b9bd89649f7d436a8fb9d4db03b7b6e80432aaa,5,2,1,2,1669,Julien Danjou,jdanjou,"Merge c1 function into process

c1 does not mean anything, so it seems better to merge it in the method its
used.

Change-Id: I51a953062d450ac4b392d0f86acc9a415b7b22af
Signed-off-by: Julien Danjou <julien@danjou.info>
"
openstack%2Fnova~stable%2Fessex~I700770b17d0a38f120fce002167c8b6a8bbecbb2,openstack/nova,stable/essex,stable/essex,I700770b17d0a38f120fce002167c8b6a8bbecbb2,Fix marker behavior for flavors,MERGED,2012-07-12 12:18:50.000000000,2012-07-23 21:22:37.000000000,2012-07-23 21:22:36.000000000,41,6,0,9709,d3a87a247e1c4a9dc9aa7b432d23b9c3c27d469a,6,4,1,3,518,Soren Hansen,soren,"Fix marker behavior for flavors

Fixes Bug #956096

(cherry-picked from commit 497502cbf833d063c964975448dfacd0e1db2ef4)

Change-Id: I700770b17d0a38f120fce002167c8b6a8bbecbb2
"
openstack%2Fpython-glanceclient~master~I34500987f51d4e0c6e1f89ecf93853de3fcbb1c3,openstack/python-glanceclient,master,bug/1023240,I34500987f51d4e0c6e1f89ecf93853de3fcbb1c3,Replace httplib2 with httplib as http driver,MERGED,2012-07-11 04:08:49.000000000,2012-07-23 21:10:30.000000000,2012-07-23 21:10:30.000000000,55,60,4,9623,1e744f162ece85f14120a16180ed0f83fe9f1e09,36,4,8,6,1132,Brian Waldon,bcwaldon,"Replace httplib2 with httplib as http driver

* This allows us to send truly chunked responses to users
* Handle bad connection url schemes with a new InvalidEndpoint exception
* Fixes bug 1023240

Change-Id: I34500987f51d4e0c6e1f89ecf93853de3fcbb1c3
"
openstack%2Fnova~master~I3b802e41e583bee84ee6f5d05e1ffc581761571d,openstack/nova,master,logsnapshot,I3b802e41e583bee84ee6f5d05e1ffc581761571d,Log snapshot UUID and not OpaqueRef.,MERGED,2012-07-23 17:02:22.000000000,2012-07-23 20:55:59.000000000,2012-07-23 20:55:58.000000000,4,6,2,10150,109a4321d4488cd8a6c3be8b8cfcb7baad819de6,13,5,2,1,475,Rick Harris,rconradharris,"Log snapshot UUID and not OpaqueRef.

The OpaqueRef doesn't help troubleshooting since it can't be easily used
to identify an image after the session finishes. UUID, which is
invariant, is much more useful.

Change-Id: I3b802e41e583bee84ee6f5d05e1ffc581761571d
"
openstack%2Fnova~master~Ic64ce46115617d05e41b6d01c8d403b58f8cacf9,openstack/nova,master,xenapi-unused-arguments,Ic64ce46115617d05e41b6d01c8d403b58f8cacf9,Remove unused user_id and project_id arguments,MERGED,2012-07-23 19:24:04.000000000,2012-07-23 20:55:54.000000000,2012-07-23 20:55:53.000000000,5,6,0,10159,7d0758b2f355d5b086b2ea1e9d6b7b7838b3a157,7,4,1,2,100,Johannes Erdfelt,johannes.erdfelt,"Remove unused user_id and project_id arguments

The code using the arguments was removed a long time ago.

Change-Id: Ic64ce46115617d05e41b6d01c8d403b58f8cacf9
"
openstack%2Fcinder~master~I963bc7890ba285ae515ea61bbd960bd2523f9061,openstack/cinder,master,bug/1027814,I963bc7890ba285ae515ea61bbd960bd2523f9061,Port nova-rootwrap changes to cinder-rootwrap,MERGED,2012-07-23 14:24:43.000000000,2012-07-23 20:19:09.000000000,2012-07-23 20:19:09.000000000,112,99,0,10131,d2d3c9cba4a647724f75c036a1985a10c966da35,7,4,1,8,308,Thierry Carrez,ttx,"Port nova-rootwrap changes to cinder-rootwrap

Port recent nova-rootwrap changes to cinder-rootwrap, including:
* Move filter definition from Python module to configuration files
* Fix tests execution on Fedora (bug 1027814)
* Remove executable bit on cinder/rootwrap files

This certainly needs a matching change to devstack to pass gating.

Change-Id: I963bc7890ba285ae515ea61bbd960bd2523f9061
"
openstack%2Fopenstack-manuals~stable%2Fessex~If3911b8920bddba16b72a75ba2d5a0c5b360d0ed,openstack/openstack-manuals,stable/essex,bug/1024321,If3911b8920bddba16b72a75ba2d5a0c5b360d0ed,Expand network troubleshooting section,MERGED,2012-07-22 12:58:00.000000000,2012-07-23 20:15:50.000000000,2012-07-23 20:15:50.000000000,88,59,0,10101,291dcd088e1830ec9b152ee68f258f64ca327772,4,3,1,1,321,Lorin Hochstein,lorinh,"Expand network troubleshooting section

Move troubleshooting from a subsubsection of Networking
(under floating IPs) to a subsection.

Add content about disabling reverse path filtering.

Add content about temporarily disabling firewall.

Patch set makes the xml:id=""network-troubleshooting"" and attempts to
address ambiguity pointed out in bug 1024321.

Cherry pick from https://review.openstack.org/9494

Change-Id: If3911b8920bddba16b72a75ba2d5a0c5b360d0ed
"
openstack%2Fnova~master~Iaa49ea08b406a38840e8a0b5466d48f2d3f7e840,openstack/nova,master,bp/no-db-messaging,Iaa49ea08b406a38840e8a0b5466d48f2d3f7e840,Update jsonutils from openstack-common.,MERGED,2012-07-23 16:27:04.000000000,2012-07-23 19:02:43.000000000,2012-07-23 19:02:42.000000000,4,2,0,10140,a7f307bbc2607b7aaa830574010289767f43de4a,10,4,1,1,1561,Russell Bryant,russellb,"Update jsonutils from openstack-common.

commit 9e1bd9d9313a9f324c5b7b02232e8bd2fd12ea8a
Author: Russell Bryant <rbryant@redhat.com>
Date:   Wed Jul 18 16:47:34 2012 -0400

    Add missing convert_instances arg.

    When calling jsonutils.to_primitive() recursively, the convert_instances
    argument should be passed along.  This change fixes one place where it
    was not.

commit 2d6f84742a3e8ea51ebbfb82cbeacefe97e199d5
Author: Russell Bryant <rbryant@redhat.com>
Date:   Wed Jul 18 16:15:52 2012 -0400

    Track to_primitive() depth after iteritems().

    Change jsonutils.to_primitive() to increase the recursion depth counter
    when calling to_primitive() on the result of iteritems() from the
    current element.  Previously, the only time the counter was increased
    was when converting the __dict__ from an object.  The iteritems() case
    risks cycles, as well.

    I hit a problem with this when trying to call to_primitive on an
    instance of nova.db.sqlalchemy.models.Instance.  An Instance includes a
    reference to InstanceInfoCache, which has a reference back to the
    Instance.  Without this change, to_primitive() would raise an exception
    for an Instance due to excessive recursion.

    Related to nova blueprint no-db-messaging.

Change-Id: Iaa49ea08b406a38840e8a0b5466d48f2d3f7e840
"
openstack%2Fnova~master~I51cbb56acbb244ddddd951a26d3168cf5a9c0314,openstack/nova,master,bug/1027105,I51cbb56acbb244ddddd951a26d3168cf5a9c0314,Adding networking rules to vm's on compute service startup,MERGED,2012-07-23 10:38:01.000000000,2012-07-23 18:42:31.000000000,2012-07-23 18:42:30.000000000,8,1,0,10123,c2e957ceb555b88084033d9a1c15a4f338b1476e,8,5,1,1,1926,Derek Higgins,derekh,"Adding networking rules to vm's on compute service startup

Fixes bug 1027105

Restarting nova-compute resulted in a new empty iptables chain
""nova-compute-FORWARD"" being create. This commit adds a single
call to plug_vifs which ensures the appropriate filters (and
bridge) are present on service startup.

Change-Id: I51cbb56acbb244ddddd951a26d3168cf5a9c0314
"
openstack%2Fnova~master~I2101ddaa78ede90f39b55d28aab73e7f5a816af5,openstack/nova,master,bug/1027984,I2101ddaa78ede90f39b55d28aab73e7f5a816af5,use boto's HTTPResponse class for versions of boto >=2.5.2,MERGED,2012-07-23 14:51:55.000000000,2012-07-23 18:33:11.000000000,2012-07-23 18:33:11.000000000,7,3,0,10132,3dd86f5e571aead0b3e9a432b59c21fe8bc32794,14,7,4,1,2340,Ionut Artarisi,mapleoin,"use boto's HTTPResponse class for versions of boto >=2.5.2

Fixes bug: 1027984

Change-Id: I2101ddaa78ede90f39b55d28aab73e7f5a816af5
"
openstack%2Fswift~master~I2a9ffe4756e77b3010ccd82b33c208d6d9b9f7b7,openstack/swift,master,master,I2a9ffe4756e77b3010ccd82b33c208d6d9b9f7b7,Fix problem with logger and libc loader,MERGED,2012-07-19 19:22:10.000000000,2012-07-23 18:24:16.000000000,2012-07-23 18:24:16.000000000,8,4,1,10029,43437558fe20fa677b218137757e00ba5eeb9091,11,4,3,1,2401,Victor Rodionov,vito-ordaz,"Fix problem with logger and libc loader

If fallocate can't be loaded from libc, bit posix_fallocate loaded
user will Swift will log warning messages. So it will be better
to write log only if both version of fallocate can't be loaded.

Change-Id: I2a9ffe4756e77b3010ccd82b33c208d6d9b9f7b7
"
openstack%2Fopenstack-manuals~master~Ia1b26a739341c2604d63a0c080e48af6fb6aff97,openstack/openstack-manuals,master,reverse-htaccess-change,Ia1b26a739341c2604d63a0c080e48af6fb6aff97,Adds the old .htaccess file back to the site as the new one completely broke the site.,MERGED,2012-07-23 17:38:24.000000000,2012-07-23 17:53:06.000000000,2012-07-23 17:53:06.000000000,1,44,0,10154,d8a4df556a34dc94c595c62ef75160017369050a,3,2,1,1,964,Anne Gentle,annegentle,"Adds the old .htaccess file back to the site as the new one
completely broke the site.

Puts the .htaccess under version control too.

Change-Id: Ia1b26a739341c2604d63a0c080e48af6fb6aff97
"
openstack%2Fheat~master~I5e156dc58eee563ae9de068664bafa1af1fb5ffe,openstack/heat,master,gh163-rds-dbinstance,I5e156dc58eee563ae9de068664bafa1af1fb5ffe,Add AWS::RDS::DBInstance,MERGED,2012-07-23 17:47:49.000000000,2012-07-23 17:47:49.000000000,2012-07-23 17:47:49.000000000,372,0,0,10142,9c75b6d3b0160d43be62f75d8f56e218d5809831,5,2,1,3,4330,Tomas Sedovic,tomas-8c8,"Add AWS::RDS::DBInstance

Fixes #163

This is an initial implementation of the DBInstance resource type and a
sample Wordpress template showing it off.

Change-Id: I5e156dc58eee563ae9de068664bafa1af1fb5ffe
Signed-off-by: Tomas Sedovic <tomas@sedovic.cz>
"
openstack%2Fopenstack-manuals~master~I2ecd7a6baf69e482a933f86439baedd70187fd55,openstack/openstack-manuals,master,bug/1022712,I2ecd7a6baf69e482a933f86439baedd70187fd55,Fix bug 1022712 by updating htaccess file with redirects,MERGED,2012-07-23 17:22:12.000000000,2012-07-23 17:36:42.000000000,2012-07-23 17:24:41.000000000,65,0,0,10153,6c67d5b62a53aff037656f0a8377ebf1caa8bffe,4,2,1,1,964,Anne Gentle,annegentle,"Fix bug 1022712 by updating htaccess file with redirects

I also deleted the 100+ files that are not part of the current
Compute Admin guide using FTP on the server, those files are not
tracked with git.

Change-Id: I2ecd7a6baf69e482a933f86439baedd70187fd55
"
openstack%2Fnova~master~I2a1a2cb63f9864c15b33b30f1bf995a50a6ec067,openstack/nova,master,master,I2a1a2cb63f9864c15b33b30f1bf995a50a6ec067,Make it clear subnet_bits is unused in ipam case,MERGED,2012-07-23 13:27:34.000000000,2012-07-23 17:05:40.000000000,2012-07-23 17:05:39.000000000,1,2,0,10128,0743313b521e3a7f2528d774ecf117ce03ec60d5,7,4,1,1,1247,Mark McLoughlin,markmc,"Make it clear subnet_bits is unused in ipam case

In NetworkManager.create_networks(), the subnet_bits variable is unused
where 'ipam' is passed as a parameter - i.e. when the method is called
from QuantumNovaIPAMLib. This is because in the ipam case we never
carve up the IP range into multiple networks.

Move the variable around so that its usage scope is more obvious.

Change-Id: I2a1a2cb63f9864c15b33b30f1bf995a50a6ec067
"
openstack%2Fheat~master~I5f3a8933a9a09acb6b904ccc76ec20ad210a5974,openstack/heat,master,master,I5f3a8933a9a09acb6b904ccc76ec20ad210a5974,heat API : Add more unit tests,MERGED,2012-07-23 17:05:13.000000000,2012-07-23 17:05:13.000000000,2012-07-23 17:05:13.000000000,534,6,0,10141,64f9b72c8e41d736cf2b8be447a940333b37149a,5,2,1,1,4328,Steven Hardy,shardy,"heat API : Add more unit tests

Add more unit tests to improve API test coverage

Change-Id: I5f3a8933a9a09acb6b904ccc76ec20ad210a5974
Signed-off-by: Steven Hardy <shardy@redhat.com>
"
openstack%2Fnova~master~I9538a8a71cbbb9d19e9ebb76f93b180dbf619764,openstack/nova,master,bug/993774,I9538a8a71cbbb9d19e9ebb76f93b180dbf619764,Return 404 when attempting to remove a non-existent floating ip,MERGED,2012-07-23 16:20:32.000000000,2012-07-23 16:49:25.000000000,2012-07-23 16:49:24.000000000,17,3,0,10139,07105cb78e366d35dd8c8a046c951780c274e9a2,6,3,1,2,4393,Dan Smith,danms,"Return 404 when attempting to remove a non-existent floating ip

This fixes bug 993774 and returns 404 instead of 202 when trying to
delete a floating ip from an instance to which it is not allocated.

Change-Id: I9538a8a71cbbb9d19e9ebb76f93b180dbf619764
"
openstack%2Fnova~master~I8d7781b05ffd71a59ba69fb7c3df4616cba94cce,openstack/nova,master,non_inheritable_image_properties,I8d7781b05ffd71a59ba69fb7c3df4616cba94cce,Adds non_inheritable_image_properties flag.,MERGED,2012-07-20 22:41:14.000000000,2012-07-23 16:22:41.000000000,2012-07-23 16:22:40.000000000,8,0,0,10085,ae7adbb92babf2dfc928daa76474aaba8e325d9c,6,3,1,2,475,Rick Harris,rconradharris,"Adds non_inheritable_image_properties flag.

Some image-properties should not be inherited from the instance when
taking a snapshot because we want that functionality to only available
for the base-image, not subsequent snapshots.

As an example, we would like 'cache_in_nova' fast-cloning to be
available just for base-images and not customer snapshots created off a
base-image.

This patch adds a new configuration which allows operators to, at
runtime, select which image-properties should not be inherited by newly
created snapshots.

Change-Id: I8d7781b05ffd71a59ba69fb7c3df4616cba94cce
"
openstack%2Fnova~master~Ide117c807db0dc0f5cbe974788b604b5e236800a,openstack/nova,master,bug/904473,Ide117c807db0dc0f5cbe974788b604b5e236800a,Avoid unrecognized content-type message,MERGED,2012-07-23 08:43:54.000000000,2012-07-23 15:31:58.000000000,2012-07-23 15:31:57.000000000,7,2,0,10119,9ac962cc82ef55cf211c0dfa5d18bc5bde27563b,8,5,1,1,1247,Mark McLoughlin,markmc,"Avoid unrecognized content-type message

Fixes bug #904473

If the client does not include a Content-type header in its request
(which is normal for e.g. GET and DELETE) then eventlet will pass us
'text/plain'.

Because 'text/plain' isn't one of our supported request content types
we log:

  Unrecognized Content-Type provided in request

This can be an annoying red-herring for people debugging issues.

The reason that eventlet defaults to text/plain is because it uses
the mimetools.Message.gettype() method:

  Message.gettype()
    Return the message type [..] as specified in the Content-Type
    header. If no such header exists, return 'text/plain'.

The wsgiref web server has the same behavior, whereas mod_wsgi will
pass no content-type and twisted will pass an empty string.

Make our code more robust by treating the empty string or text/plain
as if no content-type header was supplied.

Change-Id: Ide117c807db0dc0f5cbe974788b604b5e236800a
"
openstack%2Fnova~master~Idf29df5c460f8ebefd2e462a53d72280d5af4c5e,openstack/nova,master,libvirt-disk-config-cleanup,Idf29df5c460f8ebefd2e462a53d72280d5af4c5e,Don't set device='cdrom' for all disks in libvirt driver,MERGED,2012-07-20 12:02:24.000000000,2012-07-23 15:05:17.000000000,2012-07-20 20:42:33.000000000,44,13,0,10050,7b5a46b29fe994e9dc973bd7e5b60dee9f803f91,12,6,2,2,1779,Daniel Berrange,berrange,"Don't set device='cdrom' for all disks in libvirt driver

When the root disk image was tagged as being an ISO image,
the libvirt driver would mistakenly set device='cdrom' for
all disks, instead of just the first image

Change-Id: Idf29df5c460f8ebefd2e462a53d72280d5af4c5e
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~I36c66913abcb231f23e409f1f71c00ef0f6e69e5,openstack/nova,master,bug/1022592,I36c66913abcb231f23e409f1f71c00ef0f6e69e5,Migrations for deleted data for previously deleted instances.,MERGED,2012-07-09 14:51:54.000000000,2012-07-23 15:04:40.000000000,2012-07-23 15:04:40.000000000,67,0,1,9515,75209cd605a430131e023c40d0f63a87b03af062,18,5,3,1,177,Alex Meade,alex-meade,"Migrations for deleted data for previously deleted instances.

These migrations undelete metadata, system metadata, and block device mappings
that were deleted when instances were deleted before the change:
0598db0a6c66eb2b6d2e0e3f0b3b2b921ebe8621

Before that change; metadata, system metadata, and block device mappings were
deleted when and instance was deleted, this is no longer the behavior.
These migrations undelete all of the data that was deleted within two
seconds of the instance being deleted in order for old deleted instances
to be consistent with the new behavior.

Fixes bug 1022592

Change-Id: I36c66913abcb231f23e409f1f71c00ef0f6e69e5
"
openstack%2Foslo-incubator~master~I536e1ca05bb4e613fba71298797879587e8b4b00,openstack/oslo-incubator,master,to-primitive-depth,I536e1ca05bb4e613fba71298797879587e8b4b00,Add missing convert_instances arg.,MERGED,2012-07-23 15:01:12.000000000,2012-07-23 15:01:12.000000000,2012-07-23 15:01:12.000000000,3,1,0,9983,9e1bd9d9313a9f324c5b7b02232e8bd2fd12ea8a,6,3,1,1,1561,Russell Bryant,russellb,"Add missing convert_instances arg.

When calling jsonutils.to_primitive() recursively, the convert_instances
argument should be passed along.  This change fixes one place where it
was not.

Change-Id: I536e1ca05bb4e613fba71298797879587e8b4b00
"
openstack%2Foslo-incubator~master~Ie1d71b859219392ab35b82dd3c7932b30e759c89,openstack/oslo-incubator,master,to-primitive-depth,Ie1d71b859219392ab35b82dd3c7932b30e759c89,Update iteritems test case to actually test iteritems.,MERGED,2012-07-23 15:01:12.000000000,2012-07-23 15:01:12.000000000,2012-07-23 15:01:12.000000000,4,11,0,9981,1c1b36985be5a4c49b9cfc808edcdfd288c6d0cc,6,3,1,1,1561,Russell Bryant,russellb,"Update iteritems test case to actually test iteritems.

This patch updates the jsonutils.to_primitive() test case for when an
object has an iteritems() method.  The previous implementation was
mostly a copy of another test and didn't actually test calling
iteritems() at all.  Now it does.

This is used by NovaBase in nova.db.sqlalchemy.models.

Related to nova blueprint no-db-messaging.

Change-Id: Ie1d71b859219392ab35b82dd3c7932b30e759c89
"
openstack%2Foslo-incubator~master~Ifb878368d97e92ab6c361a4dd5f5ab2e68fc16e2,openstack/oslo-incubator,master,to-primitive-depth,Ifb878368d97e92ab6c361a4dd5f5ab2e68fc16e2,Track to_primitive() depth after iteritems().,MERGED,2012-07-23 15:01:11.000000000,2012-07-23 15:01:11.000000000,2012-07-23 15:01:11.000000000,19,1,0,9982,2d6f84742a3e8ea51ebbfb82cbeacefe97e199d5,6,3,1,2,1561,Russell Bryant,russellb,"Track to_primitive() depth after iteritems().

Change jsonutils.to_primitive() to increase the recursion depth counter
when calling to_primitive() on the result of iteritems() from the
current element.  Previously, the only time the counter was increased
was when converting the __dict__ from an object.  The iteritems() case
risks cycles, as well.

I hit a problem with this when trying to call to_primitive on an
instance of nova.db.sqlalchemy.models.Instance.  An Instance includes a
reference to InstanceInfoCache, which has a reference back to the
Instance.  Without this change, to_primitive() would raise an exception
for an Instance due to excessive recursion.

Related to nova blueprint no-db-messaging.

Change-Id: Ifb878368d97e92ab6c361a4dd5f5ab2e68fc16e2
"
openstack%2Foslo-incubator~master~I1224799bb399ceaf79088dd622be4b6823f29a41,openstack/oslo-incubator,master,master,I1224799bb399ceaf79088dd622be4b6823f29a41,Make test_zmq bind/send to 127.0.0.1,MERGED,2012-07-23 14:57:56.000000000,2012-07-23 14:57:56.000000000,2012-07-23 14:57:56.000000000,3,0,0,9805,d9282aa3021d07d7c96351448da69f60b5e2ff51,10,4,2,1,159,Eric Windisch,ewindisch,"Make test_zmq bind/send to 127.0.0.1

By default, the impl_zmq driver binds to '*' (0.0.0.0);
For the purposes of testing, we only need to bind to 127.0.0.1.
Binding to all interfaces could be potentially dangerous, may simply not
work in some environments, etc. In particular, we do not want our
Jenkins slaves to be listening on public interfaces.

rpc_zmq_host is set to 127.0.0.1 as well, which avoids hostname
resolution. Normally, rpc_zmq_host is set to socket.hostname, which
normally should resolve to localhost, but we do not want to test that here.

Change-Id: I1224799bb399ceaf79088dd622be4b6823f29a41
"
openstack%2Foslo-incubator~master~Ibdd4fab6dd019d223c3256d70f123829939056d2,openstack/oslo-incubator,master,fanout_cast,Ibdd4fab6dd019d223c3256d70f123829939056d2,Enable fanout_cast and fanout_cast_to_server to provide topic,MERGED,2012-07-23 14:56:29.000000000,2012-07-23 14:56:29.000000000,2012-07-23 14:56:29.000000000,8,4,0,10125,0b7bc50d1a428829aea98551b5e87102740e0438,6,3,1,1,1653,garyk,garyk,"Enable fanout_cast and fanout_cast_to_server to provide topic

The code would make use of the self.topic instead of allowing
the user to define the topic.

Change-Id: Ibdd4fab6dd019d223c3256d70f123829939056d2
"
openstack%2Fpython-glanceclient~master~If19a7aab92350fb68e447a0ffe8a97e079d762e4,openstack/python-glanceclient,master,better-insecure-flag-help,If19a7aab92350fb68e447a0ffe8a97e079d762e4,Clarify usage of --insecure flag,MERGED,2012-07-20 08:18:55.000000000,2012-07-23 14:55:48.000000000,2012-07-23 14:55:48.000000000,4,1,0,10043,71a0caece87727e07bc34ae265dda58ca3e1e6d2,8,2,1,1,4375,Sascha Peilicke,saschpe,"Clarify usage of --insecure flag

Change-Id: If19a7aab92350fb68e447a0ffe8a97e079d762e4
"
openstack%2Fopenstack-manuals~master~Iba56085703a98154b3035122f8ab3b36b5cbe41d,openstack/openstack-manuals,master,bridge-troubleshooting,Iba56085703a98154b3035122f8ab3b36b5cbe41d,Troubleshooting packet drops across bridge with VLAN,MERGED,2012-07-22 21:36:05.000000000,2012-07-23 14:55:47.000000000,2012-07-23 13:39:46.000000000,39,0,0,10106,b42d73f2dec854e4414785af367bf1a103ff1301,4,2,1,1,321,Lorin Hochstein,lorinh,"Troubleshooting packet drops across bridge with VLAN

Added a section in troubleshooting networking related to packets
being dropped in VLAN mode.

Docs are based on this blog post:
http://buriedlede.blogspot.com/2012/07/debugging-networking-problems-with.html

Change-Id: Iba56085703a98154b3035122f8ab3b36b5cbe41d
"
openstack%2Fnova~master~Ic15a0a0f43f53b82f9d88a03803c96b44a8ddcb9,openstack/nova,master,bug/930193,Ic15a0a0f43f53b82f9d88a03803c96b44a8ddcb9,fixes for nova-manage not returning a full list of fixed IPs,MERGED,2012-07-20 02:47:32.000000000,2012-07-23 14:55:45.000000000,2012-07-23 14:55:44.000000000,1,1,1,10038,854be4815127fd703cd91f40fa7511c170351bbc,25,12,3,1,2860,litong01,litong01,"fixes for nova-manage not returning a full list of fixed IPs

This fix correct the problem reported in bug 930193
nova-manage does not return a full list of fixed IPs. The reason
is that the call to fixed_ip['instance_id'] can throw exception
when fixed_ip does not have instance_id as its member. The changes
in this fix corrects the problem.
rebase to resolve the automatic merge issue.

Change-Id: Ic15a0a0f43f53b82f9d88a03803c96b44a8ddcb9
"
openstack%2Fnova~master~Ifde193e084ecdbc37a57150f28d833ae276f49c6,openstack/nova,master,,Ifde193e084ecdbc37a57150f28d833ae276f49c6,Fix EC2 CreateImage no_reboot logic,MERGED,2012-07-17 17:24:54.000000000,2012-07-23 14:46:59.000000000,2012-07-23 14:46:58.000000000,26,3,0,9925,9250a5d8c18311005329ec622482d1c2a29de307,11,7,3,2,2284,Eoghan Glynn,eglynn,"Fix EC2 CreateImage no_reboot logic

Previously the call to restart the imaged instance was incorrect.

This is now fixed and unit tested.

Change-Id: Ifde193e084ecdbc37a57150f28d833ae276f49c6
"
openstack%2Fnova~master~I266a021ce53dbb1f521201f1cdc614b08c31bf8d,openstack/nova,master,,I266a021ce53dbb1f521201f1cdc614b08c31bf8d,Reject EC2 CreateImage for instance-store,MERGED,2012-07-17 14:29:34.000000000,2012-07-23 14:43:01.000000000,2012-07-23 14:43:00.000000000,90,28,0,9915,8bf5d0927660ccf9e01450e6298c946721acfefa,14,8,3,3,2284,Eoghan Glynn,eglynn,"Reject EC2 CreateImage for instance-store

For fidelity with AWS, we explicitly do not support the EC2 CreateImage
API for the analogue of instance-store-backed instances.

Change-Id: I266a021ce53dbb1f521201f1cdc614b08c31bf8d
"
openstack%2Fopenstack-manuals~stable%2Fessex~I7482925cd008009eb4f433c3c93ffda20cbbfc89,openstack/openstack-manuals,stable/essex,essex-volume-chapter,I7482925cd008009eb4f433c3c93ffda20cbbfc89,Promote volumes content from section to chapter.,MERGED,2012-07-22 12:52:51.000000000,2012-07-23 14:10:28.000000000,2012-07-23 14:10:27.000000000,1231,1223,0,10100,759e5fb7155f5f415422715e68d1799f41b4167c,4,3,1,3,321,Lorin Hochstein,lorinh,"Promote volumes content from section to chapter.

This change takes the content about volumes out of the System Admin
chapter and puts it in a new chapter called volumes.

This is a pure refactoring, no content has been modified.

Cherry-picked from https://review.openstack.org/9482

Change-Id: I7482925cd008009eb4f433c3c93ffda20cbbfc89
"
openstack%2Fnova~master~Id20c60ae6a3111c91758da256f4c876decf6718a,openstack/nova,master,master,Id20c60ae6a3111c91758da256f4c876decf6718a,Localize logging messages.,ABANDONED,2012-07-20 16:51:11.000000000,2012-07-23 14:01:29.000000000,,54,50,10,10067,cad590e1c1660fc4d552eef27e80fef9088e44ac,14,7,3,25,24,Chuck Short,zulcss,"Localize logging messages.

Localize logging strings that have not been localized before.

Change-Id: Id20c60ae6a3111c91758da256f4c876decf6718a
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fopenstack-manuals~master~I46516fb4c9f4bc665af08b6570b5085107c61b9c,openstack/openstack-manuals,master,dnsmasq,I46516fb4c9f4bc665af08b6570b5085107c61b9c,Document dnsmasq,MERGED,2012-07-23 02:20:21.000000000,2012-07-23 13:38:14.000000000,2012-07-23 13:38:14.000000000,42,19,1,10110,c0f661a80e3cb16ec772b44a0e478aa5a6edb320,8,4,3,1,321,Lorin Hochstein,lorinh,"Document dnsmasq

Add a separate section in the networking chapter for dnsmasq.

Change-Id: I46516fb4c9f4bc665af08b6570b5085107c61b9c
"
openstack%2Fnova~stable%2Fessex~I5c5b1295bdb3e4dc281698eba38c5ce697aa9bc2,openstack/nova,stable/essex,bug/977007,I5c5b1295bdb3e4dc281698eba38c5ce697aa9bc2,libvirt: fix qcow2 size on live block migration,MERGED,2012-07-20 20:11:03.000000000,2012-07-23 13:05:47.000000000,2012-07-23 13:05:46.000000000,1,1,0,10079,f6d1f552875a918084907c53085d140d58fb1c37,14,7,3,1,1119,Christoph Thiel,cthiel-suse,"libvirt: fix qcow2 size on live block migration

When using live block migration, ephemeral disks with qcow2 format
should be created in the destination with the same virtual size as
before.

bug 977007

Change-Id: I5c5b1295bdb3e4dc281698eba38c5ce697aa9bc2
(cherry picked from commit ee705d048418d63667136cad3951655178861d46)
"
openstack%2Fcinder~master~I3d7d865b4d48968f2b9260786fd10344485c174f,openstack/cinder,master,bug/1027814,I3d7d865b4d48968f2b9260786fd10344485c174f,Fixes test_nova_rootwrap failure in Fedora,ABANDONED,2012-07-23 09:49:14.000000000,2012-07-23 10:24:00.000000000,,12,6,0,10120,25db4dd6983456db98344cd902e2e0e49a83c93f,4,3,2,1,1994,Zhongyue Luo,zyluo,"Fixes test_nova_rootwrap failure in Fedora

Fixes bug #1027814

Cherry picked from Nova Change-Id 93d3c77caff67e2c406a9b17c31de88e90700e13.

Change-Id: I3d7d865b4d48968f2b9260786fd10344485c174f
"
openstack%2Fheat~master~Idbb16b2fa93abcad2793d5b4365c18a01e588b99,openstack/heat,master,master,Idbb16b2fa93abcad2793d5b4365c18a01e588b99,autoscaling: don't kill all instances when scaling down,MERGED,2012-07-23 10:20:26.000000000,2012-07-23 10:20:26.000000000,2012-07-23 10:20:26.000000000,4,1,0,10121,312a84ec70ffc3cbbc9b1cbb2f8c62e4d21e97c8,10,2,2,1,4715,Angus Salkeld,asalkeld,"autoscaling: don't kill all instances when scaling down

only delete the difference between the old capacity and the new capacity

doh!

Change-Id: Idbb16b2fa93abcad2793d5b4365c18a01e588b99
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fnova~stable%2Fessex~Ib362c913b809f7601a9a4faedede89b22794dfb7,openstack/nova,stable/essex,bug/1013147,Ib362c913b809f7601a9a4faedede89b22794dfb7,Addtional CommandFilters to fix rootwrap on SLES,MERGED,2012-06-20 15:52:31.000000000,2012-07-23 10:07:30.000000000,2012-07-23 10:07:29.000000000,13,0,0,8749,cf6a85a6d4ac982875c1cfab44acdea1e1962930,30,6,4,3,2062,Ralf Haferkamp,rhafer,"Addtional CommandFilters to fix rootwrap on SLES

Fixes bug 1013147 (for SLES)

(cherry picked from commit a519752eef157aaa03c9f6169eba1ff1b5a9f1bd)

Change-Id: Ib362c913b809f7601a9a4faedede89b22794dfb7
"
openstack%2Fopenstack-planet~master~I5f991fd9acca9592b3177cc9128e29ed38ad2cab,openstack/openstack-planet,master,update_picture,I5f991fd9acca9592b3177cc9128e29ed38ad2cab,updated picture for John Dickinson,MERGED,2012-07-20 19:45:12.000000000,2012-07-23 07:37:43.000000000,2012-07-23 07:37:43.000000000,0,0,0,10076,b4871297ac89c35a52c17cd951736c0a1bc875e5,3,2,1,1,330,John Dickinson,notmyname,"updated picture for John Dickinson

Change-Id: I5f991fd9acca9592b3177cc9128e29ed38ad2cab
"
openstack%2Fneutron~master~Ic6e224d5d841b6a1d4d1c762d7306adaf91f7a2d,openstack/neutron,master,bug/1023111,Ic6e224d5d841b6a1d4d1c762d7306adaf91f7a2d,Implements data-driven views and extended attributes.,MERGED,2012-07-23 05:47:22.000000000,2012-07-23 05:47:22.000000000,2012-07-23 05:47:22.000000000,259,85,17,9849,a01ca27a88bfc7bdc6913580700315a7789e5a70,42,8,5,7,1689,Robert Kukura,rkukura,"Implements data-driven views and extended attributes.

The quantum/api/v2/views.py module is replaced by is_visible
properties in the RESOURCE_ATTRIBUTE_MAP defined in
quantum/api/v2/attributes.py. Extensions are given the ability to add
extended attribute descriptions to this map during initialization,
allowing extended attributes to be implemented similarly to core
attributes in plugins.

Resolves bug 1023111.

Change-Id: Ic6e224d5d841b6a1d4d1c762d7306adaf91f7a2d
"
openstack%2Fheat~master~I3d621fadacc6e77002d100cf725d970671475106,openstack/heat,master,master,I3d621fadacc6e77002d100cf725d970671475106,make the autoscaling template easier to debug,MERGED,2012-07-23 05:09:02.000000000,2012-07-23 05:09:02.000000000,2012-07-23 05:09:02.000000000,6,6,0,10115,deebc5c42aa900ee1543c6d6d791fea3e274cd4e,5,2,1,1,4715,Angus Salkeld,asalkeld,"make the autoscaling template easier to debug

shorten the period and lower the thresholds

Change-Id: I3d621fadacc6e77002d100cf725d970671475106
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fheat~master~Ide5dcb3da5d992683dd235f1b53b264455a9fd07,openstack/heat,master,master,Ide5dcb3da5d992683dd235f1b53b264455a9fd07,Return the name from the autoscaling group not the instance.,MERGED,2012-07-23 05:07:33.000000000,2012-07-23 05:07:33.000000000,2012-07-23 05:07:33.000000000,3,0,0,10114,c91b8d53f2597b3626c78037e9f3df52d9a19ca7,5,2,1,1,4715,Angus Salkeld,asalkeld,"Return the name from the autoscaling group not the instance.

the default is to return an instance_id if it is  not none.

Change-Id: Ide5dcb3da5d992683dd235f1b53b264455a9fd07
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fheat~master~Ic88e1e886c5f8ccbcbc5bc49fa612366c7faeae5,openstack/heat,master,master,Ic88e1e886c5f8ccbcbc5bc49fa612366c7faeae5,Add python-psutil and fix cfn-push-stats options,MERGED,2012-07-23 05:06:45.000000000,2012-07-23 05:06:45.000000000,2012-07-23 05:06:45.000000000,3,2,0,10113,b48d869244209c23b506696bc6f8192254fda4aa,5,2,1,1,4715,Angus Salkeld,asalkeld,"Add python-psutil and fix cfn-push-stats options

Change-Id: Ic88e1e886c5f8ccbcbc5bc49fa612366c7faeae5
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fcinder~master~I32911e91ff2225bdc9d5bcaefc2a3df23d3299fc,openstack/cinder,master,bug/1017266,I32911e91ff2225bdc9d5bcaefc2a3df23d3299fc,Fix to enable docs to build.,ABANDONED,2012-06-24 22:11:31.000000000,2012-07-23 02:28:42.000000000,,1,1,0,8911,04ba731d0802030f772cec1075a3ad715556e74b,17,3,2,1,321,Lorin Hochstein,lorinh,"Fix to enable docs to build.

Can now build docs by doing ""make"" from docs directory.

Fixes bug 1017266

Change-Id: I32911e91ff2225bdc9d5bcaefc2a3df23d3299fc
"
openstack%2Fopenstack-manuals~stable%2Fessex~I4a5e26900fe961dbf92a1a5c7a1b8db302845d94,openstack/openstack-manuals,stable/essex,essex-metadata_host-ip,I4a5e26900fe961dbf92a1a5c7a1b8db302845d94,metadata_host config option must be an IP address,MERGED,2012-07-23 00:55:32.000000000,2012-07-23 02:01:58.000000000,2012-07-23 02:01:58.000000000,5,2,0,10109,fab7b0874392569d06f32a8b073b890df4f80efc,3,2,1,2,321,Lorin Hochstein,lorinh,"metadata_host config option must be an IP address

Document more explicitly that the metadata_host configuration
option must be an IP address, not a hostname.

This issue came up on the OpenStack mailing list in the following
thread:

http://www.mail-archive.com/openstack@lists.launchpad.net/msg13269.html

Cherry picked from https://review.openstack.org/10102

Change-Id: I4a5e26900fe961dbf92a1a5c7a1b8db302845d94
"
openstack%2Fopenstack-manuals~master~I26eeb6964a55d4b9b1484e2504549344c32fe367,openstack/openstack-manuals,master,scheduler-retries,I26eeb6964a55d4b9b1484e2504549344c32fe367,Scheduler retry config option and filter.,MERGED,2012-07-22 15:56:49.000000000,2012-07-23 01:55:27.000000000,2012-07-23 01:55:26.000000000,26,9,0,10103,6f5d587b3ff8dcf3ea156f8b7ace9a84f6cffd5b,3,2,1,2,321,Lorin Hochstein,lorinh,"Scheduler retry config option and filter.

New flag: scheduler_max_attempts

New scheduler filter: RetryFilter

Changes introduced by https://review.openstack.org/9540

Also removed some trailing whitespace on some lines.

Change-Id: I26eeb6964a55d4b9b1484e2504549344c32fe367
"
openstack%2Fopenstack-manuals~master~Ieea6c5ab13ce3514e508e4ad3799253d348b64d4,openstack/openstack-manuals,master,bug/1027309,Ieea6c5ab13ce3514e508e4ad3799253d348b64d4,Fix CoreFilter setting to avoid overallocation,MERGED,2012-07-21 07:56:04.000000000,2012-07-23 01:29:48.000000000,2012-07-23 01:28:37.000000000,14,0,0,10092,2372bf2a63fbf75c53b2686fb97735448896b4c2,5,2,1,1,612,Tom Fifield,fifieldt,"Fix CoreFilter setting to avoid overallocation

From Jon Proulx (jproulx), who is still awaiting approval:

""Only schedule instances on hosts if there are sufficient CPU
cores available. If this filter is not set, the scheduler may
overprovision a host based on cores""

but in reality cpu_allocation_ratio must also be set with this
 filter. According to http://docs.openstack.org/essex/openstack-
compute/admin/content/compute-options-reference.html
 cpu_allocation_ratio defaults to 16.0 meaning cpu will be
 overprovisioned by 16:1 to get the behaviour described
 cpu_allocation_ratio must be set to 1.0

fixes bug 1027309

Change-Id: Ieea6c5ab13ce3514e508e4ad3799253d348b64d4
"
openstack%2Fopenstack-manuals~master~I4a5e26900fe961dbf92a1a5c7a1b8db302845d94,openstack/openstack-manuals,master,metadata_host-ip,I4a5e26900fe961dbf92a1a5c7a1b8db302845d94,metadata_host config option must be an IP address,MERGED,2012-07-22 15:07:13.000000000,2012-07-23 00:24:49.000000000,2012-07-23 00:24:48.000000000,5,2,0,10102,40dd21e51b58ac0c36d036687092416e7572557b,3,2,1,2,321,Lorin Hochstein,lorinh,"metadata_host config option must be an IP address

Document more explicitly that the metadata_host configuration
option must be an IP address, not a hostname.

This issue came up on the OpenStack mailing list in the following
thread:

http://www.mail-archive.com/openstack@lists.launchpad.net/msg13269.html

Change-Id: I4a5e26900fe961dbf92a1a5c7a1b8db302845d94
"
openstack%2Fopenstack-manuals~master~Ie53aa7a3f636965556b382fcf671d91294c52a8c,openstack/openstack-manuals,master,bug/1025910,Ie53aa7a3f636965556b382fcf671d91294c52a8c,"Fix bug 1025910, bug 1026321",MERGED,2012-07-18 21:27:13.000000000,2012-07-22 22:56:04.000000000,2012-07-18 23:34:56.000000000,41,19,0,9990,14d7ec213d555d50c5063b29cdbc652c2cffa690,4,2,1,2,964,Anne Gentle,annegentle,"Fix bug 1025910, bug 1026321

Brings a link to the RHEL Install and Deploy Guide and fixes
an incorrect reference to Image service (Keystone).

Change-Id: Ie53aa7a3f636965556b382fcf671d91294c52a8c
"
openstack%2Fopenstack-manuals~master~I7482925cd008009eb4f433c3c93ffda20cbbfc89,openstack/openstack-manuals,master,volume-chapter,I7482925cd008009eb4f433c3c93ffda20cbbfc89,Promote volumes content from section to chapter.,MERGED,2012-07-08 01:47:41.000000000,2012-07-22 22:35:22.000000000,2012-07-17 03:06:49.000000000,1229,1222,0,9482,9885937a896db1d5da9c217a53ad718fece56e0c,8,4,2,3,321,Lorin Hochstein,lorinh,"Promote volumes content from section to chapter.

This change takes the content about volumes out of the System Admin
chapter and puts it in a new chapter called volumes.

This is a pure refactoring, no content has been modified.

Change-Id: I7482925cd008009eb4f433c3c93ffda20cbbfc89
"
openstack%2Fheat~master~I70989ff6be655832497e1e8a3019497438a739fb,openstack/heat,master,master,I70989ff6be655832497e1e8a3019497438a739fb,Add an EC2Token_filter_factory and use it as the default paste filter,MERGED,2012-07-22 22:12:11.000000000,2012-07-22 22:12:11.000000000,2012-07-22 22:12:11.000000000,149,102,0,10069,b34a5cd51d66b2a8ae4fb03d8108d0e0f6e3faa2,5,2,1,3,2834,Steven Dake,sdake,"Add an EC2Token_filter_factory and use it as the default paste filter

Change-Id: I70989ff6be655832497e1e8a3019497438a739fb
Signed-off-by: Steven Dake <sdake@redhat.com>
"
openstack%2Fnova~master~I1127caeed4418c75372a42ca7fafacb4f061ffe3,openstack/nova,master,bp/scheduler-resource-race,I1127caeed4418c75372a42ca7fafacb4f061ffe3,Adds generic retries for build failures.,MERGED,2012-07-09 19:33:01.000000000,2012-07-22 15:58:02.000000000,2012-07-20 15:14:24.000000000,409,20,28,9540,83fece1aa7e124a2adae05d95c8c6cecc12d5d41,54,9,8,8,2835,Brian Elliott,belliott,"Adds generic retries for build failures.

Add a generic scheduler retry for build failures.  Failed
build requests get casted back to scheduler for retry until
success or the maximum number of attempts is reached. The
number of attempts to make is configurable or can be
simply set to 1 to disable retries altogether.

Partially implements blueprint: scheduler-resource-race

DocImpact:

Adds a new capability to filter scheduler to enable retries of
scheduling requests.

1) New flag: scheduler_max_attempts (int) - Number of attempts to make
to schedule an instance before giving up and settting the instance to
error.
2) New RetryFilter.  Avoids re-scheduling to the same host multiple
times. (nova.scheduler.filters.RetryFilter)

Change-Id: I1127caeed4418c75372a42ca7fafacb4f061ffe3
"
openstack%2Fopenstack-manuals~master~I7bd348349ef49d581cbaf284497d13816535a11d,openstack/openstack-manuals,master,bug/1025847,I7bd348349ef49d581cbaf284497d13816535a11d,"Adds text to explain intro arch diagram, updates dashboard install.",MERGED,2012-07-17 21:04:53.000000000,2012-07-22 15:12:34.000000000,2012-07-17 23:48:07.000000000,32,14,0,9934,f7cb2ff86d8d539042e897e4badbead3c7d6ac9e,4,2,1,5,964,Anne Gentle,annegentle,"Adds text to explain intro arch diagram, updates dashboard install.

Fixes two doc bugs: bug 1025847, bug 1025840

Change-Id: I7bd348349ef49d581cbaf284497d13816535a11d
"
openstack%2Fopenstack-manuals~master~I8b37f4eb268ca90a5b08238edec636a25973ec14,openstack/openstack-manuals,master,bug/1016663,I8b37f4eb268ca90a5b08238edec636a25973ec14,enable virtio NICs for windows image example,MERGED,2012-07-11 04:02:08.000000000,2012-07-22 13:01:27.000000000,2012-07-17 08:26:06.000000000,1,1,0,9622,0889826acb1a2ab79c7c2aae2c5982968ac1b48e,6,3,1,1,612,Tom Fifield,fifieldt,"enable virtio NICs for windows image example

In the image management section, an example of how to boot a windows
image is given. Previously, virtio (a faster network card than
 default) was on the commandline, but not used in the VM

This change - taken from the bug report, and assumed to be OK rather
than tested - enables the nic.

fixes bug 1016663

Change-Id: I8b37f4eb268ca90a5b08238edec636a25973ec14
"
openstack%2Fhorizon~master~I8f9dc6904ba4b19302551fae7455fdf41b50442e,openstack/horizon,master,bug/1012457,I8f9dc6904ba4b19302551fae7455fdf41b50442e,Allow security group rules to have their own group as a source,MERGED,2012-07-18 20:31:29.000000000,2012-07-22 12:06:15.000000000,2012-07-22 12:06:15.000000000,41,2,0,9979,ac39a8e5903398606053b57ce948cf9d5aa5463a,9,4,1,3,4978,Julie Pichon,jpichon,"Allow security group rules to have their own group as a source

Fixes bug 1012457.

Change-Id: I8f9dc6904ba4b19302551fae7455fdf41b50442e
"
openstack%2Fopenstack-manuals~master~Ia3463a89c3a577e8acc7d779cd8110b3c05c141d,openstack/openstack-manuals,master,bug/1027396,Ia3463a89c3a577e8acc7d779cd8110b3c05c141d,Fixes the syntax of nova options table,MERGED,2012-07-22 01:14:53.000000000,2012-07-22 11:44:20.000000000,2012-07-22 11:44:20.000000000,2,4,0,10096,4eada2b3f70df0e558ea59dc6412d894c3f2ce77,4,3,1,1,612,Tom Fifield,fifieldt,"Fixes the syntax of nova options table

This was causing the build to fail - the problem here is
 that some items in the table have 3 columns - but there is only
two columns setup in the top. Merging to have two columns
fixes the problem

fixes bug 1027396

Change-Id: Ia3463a89c3a577e8acc7d779cd8110b3c05c141d
"
openstack%2Fneutron~master~I568a95bc60f91c3eeae03b305031502d50de9c44,openstack/neutron,master,bug/1026598,I568a95bc60f91c3eeae03b305031502d50de9c44,Enhance V2 validations to work better for integers and booleans,MERGED,2012-07-22 00:13:51.000000000,2012-07-22 00:13:51.000000000,2012-07-22 00:13:51.000000000,59,14,14,10013,73ec08b7fc88cb30ab449ba9e05e0818a4b5b78e,38,7,7,3,1653,garyk,garyk,"Enhance V2 validations to work better for integers and booleans

Fixes bug 1026598

The attributes are now able to cast a input value to a specific type.
At the moment boolean and int are supported.

Change-Id: I568a95bc60f91c3eeae03b305031502d50de9c44
"
openstack%2Fnova~master~I592755033c7b2f8c0d1660776dd92ff2bf70de70,openstack/nova,master,bug/1022419,I592755033c7b2f8c0d1660776dd92ff2bf70de70,Support to allocate fixed ips according to requested networks.,ABANDONED,2012-07-09 03:42:59.000000000,2012-07-21 23:28:54.000000000,,67,21,5,9506,2735bc10426a124ba7f6b3c2bc6caae0d6050b78,9,5,1,2,2874,yong sheng gong,gongysh,"Support to allocate fixed ips according to requested networks.

Bug #1022419

Change-Id: I592755033c7b2f8c0d1660776dd92ff2bf70de70
"
openstack%2Fceilometer~master~Idd6c0da7f60e2c869d4a56ebc99080b0bb6aae7d,openstack/ceilometer,master,bug/1024563,Idd6c0da7f60e2c869d4a56ebc99080b0bb6aae7d,typo in collector manager.py for flags.FLAGS,ABANDONED,2012-07-21 06:03:02.000000000,2012-07-21 06:03:02.000000000,,1,1,0,9800,2b41a361b83140c1ebabcd3e15dff7502cbaecb6,4,2,1,1,1071,,,"typo in collector manager.py for flags.FLAGS

Fixes bug 1024563 problems starting collector

Change-Id: Idd6c0da7f60e2c869d4a56ebc99080b0bb6aae7d
"
openstack%2Ftempest~master~Iacfcdaf6fd01f122c41b9d2f14eba5e2b8156a1e,openstack/tempest,master,bug/1021738,Iacfcdaf6fd01f122c41b9d2f14eba5e2b8156a1e,Fix for Bug- 1012494: Test cases for Absolute Limits,ABANDONED,2012-07-06 15:24:49.000000000,2012-07-21 06:03:02.000000000,,686,0,0,9440,de0f62f061916251cead389c9a6046a7a6ededaa,3,1,1,5,2238,rajalakshmi-ganesan,rajalakshmi-ganesan,"Fix for Bug- 1012494: Test cases for Absolute Limits

Change-Id: Iacfcdaf6fd01f122c41b9d2f14eba5e2b8156a1e
"
openstack%2Fhorizon~master~I584efefd426dd172f12b951d8c1e553786f3ba47,openstack/horizon,master,bug/994677,I584efefd426dd172f12b951d8c1e553786f3ba47,Inline object creation.,ABANDONED,2012-07-21 04:38:56.000000000,2012-07-21 04:39:53.000000000,,937,789,0,10090,64730d583c5c9225272d585daf32b30953530ca8,1,0,1,119,1816,Gabriel Hurley,gabriel-hurley,"Inline object creation.

Allows the creation of related objects during a workflow.
For example, this patch implements importing keypairs during
the launch instance workflow and allocating floating IP
addresses during the floating IP associate workflow.

This required several significant changes:

  * SelfHandlingForm should no long return a redirect.
    Instead, it should return either the object it
    created/acted on, or else a boolean such as True.

  * The ModalFormView now differentiates between GET
    and POST.

  * Due to the previous two items, SelfHandlingForm
    was mostly gutted (no more maybe_handle, etc.).

  * Modals now operate via a ""stack"" where only the
    top modal is visible at any given time and closing
    one causes the next one to become visible.

In the process of these large changes there was a large
amount of general code cleanup, especially in the javascript
code and the existing SelfHandlingForm subclasses/ModalFormView
subclasses. Many small bugs were fixed along with the cleanup.

Implements blueprint inline-object-creation.

Fixes bug 994677.
Fixes bug 1025977.
Fixes bug 1027342.
Fixes bug 1025919.

Change-Id: I1808b34cbf6f813eaedf767a6364e815c0c5e969

Update instance fixed.

Change-Id: Iac5902a4817e3402553d6ea5c9047e2471893e90

more

Change-Id: I584efefd426dd172f12b951d8c1e553786f3ba47
"
openstack%2Fhorizon~master~I912116d56e4e31ae93042929775c8d03dc4fa59e,openstack/horizon,master,bug/1017765,I912116d56e4e31ae93042929775c8d03dc4fa59e,Partial sync of jsonutils from openstack-common,MERGED,2012-07-19 09:51:35.000000000,2012-07-20 22:49:50.000000000,2012-07-20 22:49:49.000000000,5,1,0,10010,f0544de69245334ca9547e58697fb46fddc1787d,8,4,2,1,4460,Vincent Untz,vuntz,"Partial sync of jsonutils from openstack-common

This makes horizon work with recent versions of anyjson. Note that
there's another jsonutils change in openstack-common, but it requires
timeutils (which adds a dependency on the iso8601 module), so I skipped
it for now.

Changes from openstack-common:

    commit 4c9d439ef24f5afdd74aa9153aa8fc772051e6cb
    Author: Tim Daly Jr <timjr@yahoo-inc.com>
    Date:   Tue Jun 26 02:48:42 2012 +0000

        Add 'filedecoder' method to the jsonutils wrapper module.

        Fixes bug #1017765

        After version 3.3.2, the anyjson library will throw a KeyError if
        filedecoder isn't present.  The filedecoder is just like the decoder
        except it takes a file instead of a string, like json.load() instead
        of json.loads().

        Change-Id: I7bd012a7b4afa9b1ec987c3e6393cc922b5dadff

Change-Id: I912116d56e4e31ae93042929775c8d03dc4fa59e
"
openstack%2Fhorizon~master~I07cabcce8138eab57b883017fef444a88b93b60b,openstack/horizon,master,bug/1027206,I07cabcce8138eab57b883017fef444a88b93b60b,"Fix the ""more"" link on the images table",MERGED,2012-07-20 18:50:45.000000000,2012-07-20 22:49:48.000000000,2012-07-20 22:49:48.000000000,3,2,0,10070,d174c791231d6694466520b16e4ac76556f3dace,6,3,1,1,1247,Mark McLoughlin,markmc,"Fix the ""more"" link on the images table

Fixes bug #1027206

The has_more_data() method uses the _more_images attribute, but we're
not actually setting this.

Change-Id: I07cabcce8138eab57b883017fef444a88b93b60b
"
openstack%2Fnova~master~Ib58b035cc5803e49654570b451ad381bebdd300c,openstack/nova,master,unnecessary-lockmode,Ib58b035cc5803e49654570b451ad381bebdd300c,Remove unnecessary use of with_lockmode,MERGED,2012-07-20 22:04:50.000000000,2012-07-20 22:42:19.000000000,2012-07-20 22:42:18.000000000,1,1,0,10084,040f09c85905ef479bfb0c2b74f230f92b5315b7,6,3,1,1,100,Johannes Erdfelt,johannes.erdfelt,"Remove unnecessary use of with_lockmode

Using with_lockmode outside of a transaction is useless. It's also
unnecessary when code won't ever make any updates to the records.

Change-Id: Ib58b035cc5803e49654570b451ad381bebdd300c
"
openstack%2Fnova~master~I7c5d7848d2d1326d01770195e1c8a754bb673a7a,openstack/nova,master,bug/1026210,I7c5d7848d2d1326d01770195e1c8a754bb673a7a,Make flavorextradata ignore deleted flavors.,MERGED,2012-07-18 22:29:14.000000000,2012-07-20 22:33:56.000000000,2012-07-20 22:33:56.000000000,1,1,0,9995,153c40ea1a026de17872c907ea543ea80bf5a074,8,5,1,1,4531,david-besen,david-besen,"Make flavorextradata ignore deleted flavors.

In _get_flavor_refs, don't retrieve inactive flavors.  Fixes bug 1026210.

Change-Id: I7c5d7848d2d1326d01770195e1c8a754bb673a7a
"
openstack%2Fnova~master~Ibf3869e3ee477e91623e0c030838c1ec8a6128a6,openstack/nova,master,selinux-ssh-keys,Ibf3869e3ee477e91623e0c030838c1ec8a6128a6,set correct SELinux context for injected ssh keys,MERGED,2012-07-20 15:55:31.000000000,2012-07-20 22:31:09.000000000,2012-07-20 22:31:09.000000000,37,0,0,10061,7bac53f97e7c2025e492de7e9c9f5d2451aceee3,6,3,1,2,1812,p-draigbrady,p-draigbrady,"set correct SELinux context for injected ssh keys

Instruct guests to ensure at boot, that the correct
SELinux context is set for /root/.ssh/.
This will cater for keys injected by nova from hosts
without SELinux (enabled) or using libguestfs which
currently doesn't support setting extended attributes.

Suggested-by: David Naori <dnaori@redhat.com>
Change-Id: Ibf3869e3ee477e91623e0c030838c1ec8a6128a6
"
openstack%2Fdevstack~master~Ibcae8bae2d06c9cbb4c41c39791e8dbdc8bbb0ac,openstack/devstack,master,add_cinder_to_ROOTWRAP_SUDOERS,Ibcae8bae2d06c9cbb4c41c39791e8dbdc8bbb0ac,Add Cinder to ROOTWRAP_SUDOERS,MERGED,2012-07-20 19:18:53.000000000,2012-07-20 22:22:52.000000000,2012-07-20 22:22:52.000000000,40,2,1,10073,4e823ff4ad8fb22602c6d70c02b5910e0ad467ef,18,5,7,2,2243,John Griffith,john-griffith,"Add Cinder to ROOTWRAP_SUDOERS

 * Perform operations in lib/cinder
 * Use specific cidner-rootwrap file
 * Add root_helper to cinder.conf

Change-Id: Ibcae8bae2d06c9cbb4c41c39791e8dbdc8bbb0ac
"
openstack%2Fnova~master~I6a9dd712dbac1d1b1aaba65da2b7c399b606e934,openstack/nova,master,better_parent_uuid_logging,I6a9dd712dbac1d1b1aaba65da2b7c399b606e934,Improve VDI chain logging.,MERGED,2012-07-20 20:27:09.000000000,2012-07-20 22:22:17.000000000,2012-07-20 22:22:16.000000000,11,28,0,10080,4cee1e5b156d735468bcbd3fc51384d53ea28f76,6,3,1,1,475,Rick Harris,rconradharris,"Improve VDI chain logging.

Currently we're logging the parent's OpaqueRef which is rather useless.
This patches uses the much more useful UUID.

Some small cleanups are included as well.

Change-Id: I6a9dd712dbac1d1b1aaba65da2b7c399b606e934
"
openstack%2Fnova~master~I099056387edea9e3646cd4e329c76b674e03baa2,openstack/nova,master,bug/1019899,I099056387edea9e3646cd4e329c76b674e03baa2,Support requested_networks with quantum v2.,MERGED,2012-07-03 21:45:20.000000000,2012-07-20 22:20:49.000000000,2012-07-20 22:20:48.000000000,36,6,9,9295,b1d5719556d0fff3afc794bc0d95676ebb31fcd6,24,9,4,3,261,Salvatore Orlando,salvatore-orlando,"Support requested_networks with quantum v2.

Allow Quantum to attach instance only to selected networks, which can
be specified, for instance, via the --nic option on the nova CLI.

Fixes bug 1019899

Change-Id: I099056387edea9e3646cd4e329c76b674e03baa2
"
openstack%2Fnova~master~I55d16747d117de728b02ac938083ef8a79eaaca7,openstack/nova,master,bug/1025942,I55d16747d117de728b02ac938083ef8a79eaaca7,Fixes bare-metal spawn error.,MERGED,2012-07-18 00:30:15.000000000,2012-07-20 22:03:09.000000000,2012-07-20 22:03:09.000000000,4,18,0,9950,b35acd24df85c7dbbeb773d625265973f6046f6b,8,5,1,1,221,Mikyung Kang,mkkang,"Fixes bare-metal spawn error.

Implements blueprint Bare-metal provisioning. Fixes bug 1025942.

Change-Id: I55d16747d117de728b02ac938083ef8a79eaaca7
"
openstack%2Fnova~master~I0e1e48b92d5401d61cf127711388a9c63698b96e,openstack/nova,master,badWords,I0e1e48b92d5401d61cf127711388a9c63698b96e,Remove profane words,MERGED,2012-07-20 19:48:49.000000000,2012-07-20 22:01:36.000000000,2012-07-20 20:55:50.000000000,1,1,0,10077,d1744b70d427592c8035ebd32ebba4a21c7e0394,10,6,1,1,1849,Joe Gordon,jogo,"Remove profane words

Change-Id: I0e1e48b92d5401d61cf127711388a9c63698b96e
"
openstack%2Fnova~master~If86a65a6908b53e6f467d0e7a36c2ea941bf5040,openstack/nova,master,Fakes,If86a65a6908b53e6f467d0e7a36c2ea941bf5040,Remove unused testing.fake,MERGED,2012-07-18 21:04:14.000000000,2012-07-20 21:59:22.000000000,2012-07-20 21:59:22.000000000,0,11,0,9985,8ba14de31f39bcb2b06fa1d6299bf0192002abe8,6,3,1,2,1849,Joe Gordon,jogo,"Remove unused testing.fake

Change-Id: If86a65a6908b53e6f467d0e7a36c2ea941bf5040
"
openstack%2Fnova~master~I3c2e9bf3fa3c748e680c1df27d243a648ed47cf5,openstack/nova,master,bug/1025827,I3c2e9bf3fa3c748e680c1df27d243a648ed47cf5,Fixes nova-manage fixed list with deleted networks,MERGED,2012-07-18 14:41:20.000000000,2012-07-20 20:44:47.000000000,2012-07-20 20:44:47.000000000,33,14,11,9966,7343f79cbe9ecc62f81a0170a182cb5363b6df24,34,9,11,1,2860,litong01,litong01,"Fixes nova-manage fixed list with deleted networks

The fix addresses the bug reported in bug 1025827
currently command 'nova-manage fixed list' will return
'Command failed.' message when there is no network defined or
all networks have been deleted or even when a network gets
deleted, then a new network gets created. In all these cases,
the command produces the 'Command failed.' error message which
does not really tell what went wrong. This fix will produce
'No fixed IP found' in these conditions.
changes made for globalization.
changes made for based on the comments for patchset 7.

Change-Id: I3c2e9bf3fa3c748e680c1df27d243a648ed47cf5
"
openstack%2Fnova~master~Ibbfbb88cafa45c98792e6732da726ab4afe4ca00,openstack/nova,master,libvirt-disk-config-cleanup,Ibbfbb88cafa45c98792e6732da726ab4afe4ca00,Move libvirt disk config setup out of main get_guest_config method,MERGED,2012-07-20 12:02:25.000000000,2012-07-20 20:42:38.000000000,2012-07-20 16:48:16.000000000,137,122,0,10055,9283f68ea31ffe97efd075c791211a13a8bae6a9,17,5,2,1,1779,Daniel Berrange,berrange,"Move libvirt disk config setup out of main get_guest_config method

The get_guest_config method in the libvirt driver is getting
quite large and complicated, particularly wrt disk config.
Moving the disk config setup out into a separate method,
get_guest_storage_method, eases understanding of the code

Change-Id: Ibbfbb88cafa45c98792e6732da726ab4afe4ca00
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~I0807eed7f03aedf4980eedeb70195076ed5f4710,openstack/nova,master,libvirt-disk-config-cleanup,I0807eed7f03aedf4980eedeb70195076ed5f4710,Refactor libvirt imagebackend module to reduce code duplication,MERGED,2012-07-20 12:02:25.000000000,2012-07-20 20:42:38.000000000,2012-07-20 16:46:54.000000000,24,40,0,10054,2766ee2b6ed68f1784aad1b41e81baa75cc305df,17,5,2,1,1779,Daniel Berrange,berrange,"Refactor libvirt imagebackend module to reduce code duplication

Currently each subclass of the Image class in imagebackend,
repeats the impl of the 'libvirt_info' method. These methods
are almost identical, only varying on two per-class settings.
By providing the driver_format and source_type to the Image
class constructor, it is possible to get to a single impl
of the 'libvirt_info' method.

Change-Id: I0807eed7f03aedf4980eedeb70195076ed5f4710
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~I6796c125af769236f93341361ee07c8319817f7f,openstack/nova,master,libvirt-disk-config-cleanup,I6796c125af769236f93341361ee07c8319817f7f,Move more libvirt disk setup into the imagebackend module,MERGED,2012-07-20 12:02:25.000000000,2012-07-20 20:42:38.000000000,2012-07-20 16:38:46.000000000,48,39,0,10053,1ec856db22c798bffbf0f7d5def0e880a8fc9842,17,5,2,3,1779,Daniel Berrange,berrange,"Move more libvirt disk setup into the imagebackend module

Move the setup of target bus and target dev out of the libvirt
driver and into the imagebackend module to reduce code duplication

Change-Id: I6796c125af769236f93341361ee07c8319817f7f
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~I742184b08a3ecd428af21ae5beb059bdbf38a9cd,openstack/nova,master,libvirt-disk-config-cleanup,I742184b08a3ecd428af21ae5beb059bdbf38a9cd,Don't hardcode use of 'virtio' for root disk in libvirt driver,MERGED,2012-07-20 12:02:24.000000000,2012-07-20 20:42:38.000000000,2012-07-20 16:30:43.000000000,1,1,0,10052,551078b567b9650353fd9695f7c88fb9ed1da0f9,17,4,2,1,1779,Daniel Berrange,berrange,"Don't hardcode use of 'virtio' for root disk in libvirt driver

The libvirt driver is mistakenly using 'virtio' for the root
disk, instead of the hypervisor specific disk bus.

Change-Id: I742184b08a3ecd428af21ae5beb059bdbf38a9cd
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~If0a4c50043d6e4d9e54a5dcbdc05effbb72eced6,openstack/nova,master,libvirt-disk-config-cleanup,If0a4c50043d6e4d9e54a5dcbdc05effbb72eced6,Ensure to use 'hdN' for IDE disk device in libvirt driver,MERGED,2012-07-20 12:02:24.000000000,2012-07-20 20:42:38.000000000,2012-07-20 19:54:29.000000000,11,7,0,10051,cff588e67a4a1dee4f0a690c30d467495e0d679f,13,6,2,2,1779,Daniel Berrange,berrange,"Ensure to use 'hdN' for IDE disk device in libvirt driver

When configuring the root disk for an image which is tagged as
an ISO, the libvirt driver sets the bus=ide, but still uses
the normal root device name, eg dev=vda. It must instead
use dev=hda for the IDE bus

Change-Id: If0a4c50043d6e4d9e54a5dcbdc05effbb72eced6
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~I2ee0f3d104a2eb5139fc85c2db68e36255b82dad,openstack/nova,master,libvirt-disk-config-cleanup,I2ee0f3d104a2eb5139fc85c2db68e36255b82dad,Get rid of pointless 'suffix' parameter in libvirt imagebackend,MERGED,2012-07-20 12:02:22.000000000,2012-07-20 20:42:38.000000000,2012-07-20 20:42:36.000000000,34,43,0,10048,6d7bf9a2f9491ae9c7ad54b8b7a38a6e11a4bfcd,12,8,2,4,1779,Daniel Berrange,berrange,"Get rid of pointless 'suffix' parameter in libvirt imagebackend

The libvirt 'imagebackend' module has various methods which take
a 'name' and 'suffix' argument. They are never used in isolation,
however, so passing them separately has no benefit. Indeed all
but one caller passes a name which already has a suffix appended
The suffix argument can thus trivially be removed completely.

Change-Id: I2ee0f3d104a2eb5139fc85c2db68e36255b82dad
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~I7bff6b0b2e7e40a5aef3126634ca814082f8cf4f,openstack/nova,master,libvirt-disk-config-cleanup,I7bff6b0b2e7e40a5aef3126634ca814082f8cf4f,Move setup of libvirt disk cachemode into imagebackend module,MERGED,2012-07-20 12:02:22.000000000,2012-07-20 20:42:37.000000000,2012-07-20 16:22:23.000000000,12,13,0,10049,7292473944762c42c0d04e16599822ab55d9b726,17,5,2,3,1779,Daniel Berrange,berrange,"Move setup of libvirt disk cachemode into imagebackend module

There is alot of repeated code setting the disk cache mode.
Move this into the imagebackend module so that it can be
done in one place

Change-Id: I7bff6b0b2e7e40a5aef3126634ca814082f8cf4f
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~I9e87f912ef2717221c244241cda2f1027a4ca66a,openstack/nova,master,migration-efficiency,I9e87f912ef2717221c244241cda2f1027a4ca66a,improve efficiency of image transfer during migration,MERGED,2012-07-17 22:40:36.000000000,2012-07-20 20:42:14.000000000,2012-07-20 20:42:13.000000000,88,24,8,9944,3a3ad54058323b2e012748781fc00bc6d50de23a,34,13,4,4,1812,p-draigbrady,p-draigbrady,"improve efficiency of image transfer during migration

This reduces time to transfer a qcow2 image
with a virtual size of 10G, over GigE,
from about 7 minutes to about 30 seconds.

There are multiple inefficiencies in the existing process.
Taking an example of a qcow2 image with 10G virtual size,
the process was:

  qcow2 -> raw -> read -> send -> write -> qcow2

qcow2 to raw takes 20s,
transfer of the resultant 10G is another 4m9s, and
conversion back to qcow takes 2m33s.
I.E. a total of about 7 minutes.

So instead we try to avoid the initial qcow2 to raw
conversion completely, which results in the whole
process completing in about 30s, in the common
case where no conversion to raw is done on the destination.

We also optimize the case where the source qcow2
image doesn't have a backing file, and then directly
copy the source image without merging a backing file.

Note this will also improve the situation when
resizing/migrating within the same host as
needles conversions are avoided in that case too.

We also optimize the case where raw images are being used
by trying to use `rsync -Sz` rather than `scp`.
That compresses runs of zeros and create sparse destination files.
Testing a 10G raw image showed a saving of 30s in transfer time.
Also the network was greatly reduced (corresponding to holes
in the source), as was space usage at the destination.
This gain is limited though by rsync inefficiently reading
all the holes at the source:
https://bugzilla.samba.org/show_bug.cgi?id=8918

Thanks to David Naori <dnaori@redhat.com> for testing and ideas.

Change-Id: I9e87f912ef2717221c244241cda2f1027a4ca66a
"
openstack%2Fcinder~master~I513b362a0ea8aca9cf5e06807834316b46a5f430,openstack/cinder,master,openstack.common.setup,I513b362a0ea8aca9cf5e06807834316b46a5f430,Use openstack.common.setup.,MERGED,2012-07-20 12:26:47.000000000,2012-07-20 20:21:06.000000000,2012-07-20 20:21:06.000000000,367,118,0,10056,3a2036cccb2852b29d2aca15bd25d9e4ad919bcc,14,7,3,7,866,Chmouel Boudjnah,chmouel,"Use openstack.common.setup.

- Remove Authors and add it to .gitignore since this is now auto
  generated.

Change-Id: I513b362a0ea8aca9cf5e06807834316b46a5f430
"
openstack%2Fswift~master~If5a6d32c40de02183a2eed6e2a32d62ba38df32d,openstack/swift,master,ring_dev_getter,If5a6d32c40de02183a2eed6e2a32d62ba38df32d,ensure that accessing the ring devs reloads the ring if necessary,MERGED,2012-07-20 16:15:42.000000000,2012-07-20 20:20:16.000000000,2012-07-20 20:20:16.000000000,25,5,0,10065,de3b663a735f2cd200a7b140bdf2ea2b25a4f2d3,10,6,1,2,330,John Dickinson,notmyname,"ensure that accessing the ring devs reloads the ring if necessary

Change-Id: If5a6d32c40de02183a2eed6e2a32d62ba38df32d
"
openstack%2Fnova~master~Ia529956ee4fc56e49efdcf2cca4f42fc8ebcc3ea,openstack/nova,master,master,Ia529956ee4fc56e49efdcf2cca4f42fc8ebcc3ea,Adds logging for renaming and hardlinking.,MERGED,2012-07-20 17:34:42.000000000,2012-07-20 20:11:53.000000000,2012-07-20 20:11:52.000000000,15,5,0,10068,d42f44f1e412bea24ad5b2a5c5a38226e6a52b9c,8,5,1,1,475,Rick Harris,rconradharris,"Adds logging for renaming and hardlinking.

This will provide a bit more visibility into what's happening when dom0
plugin generates an exception.

Change-Id: Ia529956ee4fc56e49efdcf2cca4f42fc8ebcc3ea
"
openstack%2Fcinder~master~Ib42ee50a8599ee90bcfc539b2419c0887881ae88,openstack/cinder,master,add_rootwrap_to_cinder,Ib42ee50a8599ee90bcfc539b2419c0887881ae88,Add rootwrap to cinder,ABANDONED,2012-07-20 18:53:11.000000000,2012-07-20 20:05:58.000000000,,34,0,0,10071,00d2e9bd00e4657cd27338ad51288e00f5ba4a3a,2,2,1,2,2243,John Griffith,john-griffith,"Add rootwrap to cinder

Change-Id: Ib42ee50a8599ee90bcfc539b2419c0887881ae88
"
openstack%2Fnova~master~I0884289bac01ac5109dde4bdee5af55e7bfd5aa2,openstack/nova,master,bug/828588,I0884289bac01ac5109dde4bdee5af55e7bfd5aa2,Fix cloudpipe keypair creation. Add pipelib tests,MERGED,2012-07-19 14:49:39.000000000,2012-07-20 20:01:47.000000000,2012-07-20 20:01:46.000000000,79,3,0,10014,8b7765276951f4a2a6a80df3bce7c12e64cee44f,8,4,1,2,91,Alvaro,aloga,"Fix cloudpipe keypair creation. Add pipelib tests

Commit ec0a65d81fd11d26be77b45827a4dd7c77711675 introduced a new
internal key pair API, removing the _gen_key() method from the EC2 API.
pipelib.py used this method so as to generate the keypair of the
cloudpipe instance.

This commit also adds unittests for pipelib.py, thus fixes bug 828588

Change-Id: I0884289bac01ac5109dde4bdee5af55e7bfd5aa2
"
openstack%2Fnova~master~I5f327dc0278413575e8c686b2db3b6000f19c4c7,openstack/nova,master,bug/1006875,I5f327dc0278413575e8c686b2db3b6000f19c4c7,Don't create volumes if an incorrect size was given,MERGED,2012-07-20 16:15:17.000000000,2012-07-20 19:51:49.000000000,2012-07-20 19:51:48.000000000,16,0,0,10064,ac5df2277968598914aeb803f5d7b57fabe876f0,9,5,1,2,170,Mike Perez,thingee,"Don't create volumes if an incorrect size was given

backported from cinder

bug 1006875

Change-Id: I5f327dc0278413575e8c686b2db3b6000f19c4c7
"
openstack%2Fnova~master~I6b9e4f854c271bf73711480568be384ba883775d,openstack/nova,master,master,I6b9e4f854c271bf73711480568be384ba883775d,Ensure VHDs in staging area are sequenced properly.,MERGED,2012-07-19 21:35:27.000000000,2012-07-20 19:46:50.000000000,2012-07-20 19:46:50.000000000,19,0,1,10033,4881ccf017a217214ae30c74c2f7effbee71c044,12,6,2,1,475,Rick Harris,rconradharris,"Ensure VHDs in staging area are sequenced properly.

This adds a check to raise a sensible error if the VHDs in the staging
area are not sequence numbered properly, meaning 0 to n-1 with no gaps.

The previous error was an UnboundLookupError which made it difficult to
pinpoint the root cause.

Change-Id: I6b9e4f854c271bf73711480568be384ba883775d
"
openstack%2Fnova~master~Ifb43685e4f9b0b5bd53e74747d1f87aa5e119fb5,openstack/nova,master,,Ifb43685e4f9b0b5bd53e74747d1f87aa5e119fb5,Ensure 413 response for security group over-quota,MERGED,2012-07-19 16:23:35.000000000,2012-07-20 19:39:47.000000000,2012-07-20 19:39:46.000000000,9,3,0,10023,39146d2e2e36ad96e8cf8b4f4bc9c426f1b80efb,11,7,2,3,2284,Eoghan Glynn,eglynn,"Ensure 413 response for security group over-quota

Fixes LP 1021748

Instead of raising the relevant webob.exc exception directly,
we now follow the usual pattern of mapping in the FaultWrapper
middleware from an internal exception type to the corresponding
HTTP error.

Change-Id: Ifb43685e4f9b0b5bd53e74747d1f87aa5e119fb5
"
openstack%2Fnova~master~Id35c487113059ec3053f2f9e9e7eca24854ac02c,openstack/nova,master,,Id35c487113059ec3053f2f9e9e7eca24854ac02c,Allow NoMoreFloatingIps to bubble up to FaultWrapper,MERGED,2012-07-19 15:33:58.000000000,2012-07-20 19:36:42.000000000,2012-07-20 19:36:42.000000000,6,5,3,10019,ebc05b803615b78a14008136bb549a41013e6cd1,10,6,1,3,2284,Eoghan Glynn,eglynn,"Allow NoMoreFloatingIps to bubble up to FaultWrapper

Fixes LP 1026167.

The fix for LP 1021721 caught the wrong exception in order to
address floating IP quota over-run. NoMoreFloatingIps is raised
when the floating range is exhausted, whereas FloatingIpLimitExceeded
is raised on over-quota.

Also the HTTPRequestEntityTooLarge exception raised is mapped
to 500 Server Error due to the required retry-after header being
left unset.

We now allow the NoMoreFloatingIps to bubble up to the FaultWrapper
middleware, where its mapped to a 404 status due to it extending
the NotFound exception.

Change-Id: Id35c487113059ec3053f2f9e9e7eca24854ac02c
"
openstack%2Fnova~master~I204b087c610396d917e94a6e35dd2f5e1c26704e,openstack/nova,master,lxc-rmtree-errors,I204b087c610396d917e94a6e35dd2f5e1c26704e,Don't let failure to delete filesystem block deletion of instances in libvirt,MERGED,2012-07-05 12:20:58.000000000,2012-07-20 19:25:55.000000000,2012-07-20 19:25:54.000000000,8,1,6,9357,9c16f2a05245bc0a6ae0af5f8edbde65ba812837,33,11,2,1,1779,Daniel Berrange,berrange,"Don't let failure to delete filesystem block deletion of instances in libvirt

During cleanup of instances, the libvirt driver tries to delete all
files under the /var/lib/nova/instances/$INSTANCENAME directory. If
Nova is running non-root, it is entirely possible for this to fail.
If this happens an OSError is raised and the result is an unkillable
instance. By catching and logging any OSError raised, we can ensure
that the instances are cleaned up as much as possible and not left
with unkillable instances.

Change-Id: I204b087c610396d917e94a6e35dd2f5e1c26704e
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~master~Id9a1a10217aac971cbbba9db5829c8478892db1a,openstack/nova,master,bug/1021810,Id9a1a10217aac971cbbba9db5829c8478892db1a,fixes for nova-manage network list  if network has been deleted,MERGED,2012-07-18 15:27:04.000000000,2012-07-20 19:23:46.000000000,2012-07-20 19:23:45.000000000,18,10,4,9967,458a5d61eac5eb5cef34ab301b67fa37271ba407,24,7,7,1,2860,litong01,litong01,"fixes for nova-manage network list  if network has been deleted

this fix addresses the  bug #1021810
Currently command 'nova-manage network list' or
'nova-manage fixed list'  will return 'Command failed.' message when
there is no network defined or networks get deleted. This fix combined
with fixes to bug 1025827 will fix both command problem.
also change the print out message so that it can be translated.
code structure changes according to the suggestion from comments.

Change-Id: Id9a1a10217aac971cbbba9db5829c8478892db1a
"
openstack%2Fnova~master~Id4a5ae3ebb91f941956e2f73ecfd9ea1d290a235,openstack/nova,master,bp/novaplugins,Id4a5ae3ebb91f941956e2f73ecfd9ea1d290a235,Add the plugin framework from common; use and test.,MERGED,2012-07-11 21:16:06.000000000,2012-07-20 19:17:29.000000000,2012-07-20 19:17:28.000000000,401,3,1,9668,a30ed72967eddf16718af717978acd80ebef2006,25,9,6,10,1998,andrewbogott,andrewbogott,"Add the plugin framework from common; use and test.

For blueprint novaplugins.

Change-Id: Id4a5ae3ebb91f941956e2f73ecfd9ea1d290a235
"
openstack%2Fdevstack~master~I580fe91216d3fa066120dc774811bfe08119ca02,openstack/devstack,master,fix-creating-cinder-user,I580fe91216d3fa066120dc774811bfe08119ca02,Use c-api for service when creating cinder user.,MERGED,2012-07-20 15:00:37.000000000,2012-07-20 19:16:26.000000000,2012-07-20 19:16:25.000000000,1,1,0,10060,d55509d46e59b1b734605965fae3bc5d94161ce9,6,4,1,1,866,Chmouel Boudjnah,chmouel,"Use c-api for service when creating cinder user.

- cinder is not a service but c-api is.

Change-Id: I580fe91216d3fa066120dc774811bfe08119ca02
"
openstack%2Fnova~master~I18797790109ce8696ad3efa44acff7105f0cd321,openstack/nova,master,typo,I18797790109ce8696ad3efa44acff7105f0cd321,Fix docstring typo,MERGED,2012-07-17 21:59:32.000000000,2012-07-20 19:12:02.000000000,2012-07-20 19:12:01.000000000,1,1,0,9938,20a9083607e561ab5e05898ce5b5c07c1dfca975,11,6,1,1,1849,Joe Gordon,jogo,"Fix docstring typo

Change-Id: I18797790109ce8696ad3efa44acff7105f0cd321
"
openstack%2Fkeystone~master~Ib3fdf873ea3816186e6bb63307028ba3aa2edaa9,openstack/keystone,master,apache-httpd,Ib3fdf873ea3816186e6bb63307028ba3aa2edaa9,Files for  Apache-HTTPD,MERGED,2012-07-12 19:12:55.000000000,2012-07-20 18:59:18.000000000,2012-07-20 18:59:18.000000000,124,0,42,9735,9b31383c7d8665cf99003974d98df147471e61e1,27,5,5,5,2218,Adam Young,ayoung,"Files for  Apache-HTTPD

files required for running Keystone in Apache-HTTPD and instructions to set it up

Change-Id: Ib3fdf873ea3816186e6bb63307028ba3aa2edaa9
"
openstack%2Fnova~master~Id59e397891b80b45ea38e42654a6f7f9859379f8,openstack/nova,master,tidy_except_contrib_floating_ip_dns,Id59e397891b80b45ea38e42654a6f7f9859379f8,Tidy up handling of exceptions in floating_ip_dns,MERGED,2012-07-18 22:19:59.000000000,2012-07-20 18:59:16.000000000,2012-07-20 18:59:14.000000000,53,45,0,9993,338ef025c76ae2d81e403f2dd9f0094a52f7ec7a,9,5,1,2,4126,Martin Packman,gz,"Tidy up handling of exceptions in floating_ip_dns

Removes translation of NotAuthorized which is already handled at a
higher level. Also makes delete methods more typical, switches http
status code on success to 202 rather than 200, includes details when
handling NotFound and adds test coverage.

Change-Id: Id59e397891b80b45ea38e42654a6f7f9859379f8
"
openstack%2Fnova~master~I5578e6064e23a8ff6f4019116b5bcdd12529360c,openstack/nova,master,bug/1023682,I5578e6064e23a8ff6f4019116b5bcdd12529360c,Make snapshot work for stopped VMs.,MERGED,2012-07-18 19:59:11.000000000,2012-07-20 18:59:12.000000000,2012-07-20 18:59:12.000000000,1,2,0,9975,5d8740932a42ce15c4a84764b9367ab37aa41a6e,10,8,1,1,1711,Yun Mao,yunmao,"Make snapshot work for stopped VMs.

Fix bug 1023682. Currently VM state is updated to ACTIVE no matter
what during snapshot. But VM should remain STOPPED if a snapshot
is taken on a stopped VM, i.e. remain unchanged.

VM state should not be changed during snapshot.

Change-Id: I5578e6064e23a8ff6f4019116b5bcdd12529360c
"
openstack%2Fnova~master~If9b81bdd7b24faa8a27915a9e5de3e651f6ed0d0,openstack/nova,master,ComputeFilter,If9b81bdd7b24faa8a27915a9e5de3e651f6ed0d0,Split ComputeFilter up.,MERGED,2012-07-17 22:03:10.000000000,2012-07-20 18:51:26.000000000,2012-07-20 18:51:25.000000000,69,26,1,9940,0c704cd87c094a37188ecb936c88ebf5a215c28c,23,8,4,4,1849,Joe Gordon,jogo,"Split ComputeFilter up.

Pull out compute capabilities to instance_type extra_specs into its own filter.
ComputeFilter now only passes active compute nodes.

Change-Id: If9b81bdd7b24faa8a27915a9e5de3e651f6ed0d0
"
openstack%2Fdevstack~master~I81e6ed476e8a310fe01809e9afcc2c8d5360e9df,openstack/devstack,master,bug/829209,I81e6ed476e8a310fe01809e9afcc2c8d5360e9df,Use latin1 character set when creating the nova database,MERGED,2012-06-14 08:10:17.000000000,2012-07-20 18:46:24.000000000,2012-07-20 18:46:24.000000000,4,1,1,8514,6a57f2649d6d8b28c8fa1a03c8b5eb8b8b6789aa,20,4,2,1,4460,Vincent Untz,vuntz,"Use latin1 character set when creating the nova database

Nova expects the latin1 character set to be used in its database by
default and then alters the database to utf8 when upgrading the
database (in 082_essex.py).

Nova works this way to work around bug 829209 (""Specified key was too
long"" errors) that will be hit with the dns_domains table.

Change-Id: I81e6ed476e8a310fe01809e9afcc2c8d5360e9df
"
openstack%2Fnova~master~I83650f052dd8f0961a72a70aaf57c486bfdee8e0,openstack/nova,master,ramFilter,I83650f052dd8f0961a72a70aaf57c486bfdee8e0,Add debug output to RamFilter,MERGED,2012-07-17 21:57:11.000000000,2012-07-20 18:46:07.000000000,2012-07-20 18:46:06.000000000,8,2,3,9937,2ebfbb03f0fa58121ada861cc8c6695a88c3e846,12,8,2,1,1849,Joe Gordon,jogo,"Add debug output to RamFilter

Change-Id: I83650f052dd8f0961a72a70aaf57c486bfdee8e0
"
openstack%2Fnova~master~I1d3bda780deee52f5d41e3af041aba7e6305dfde,openstack/nova,master,,I1d3bda780deee52f5d41e3af041aba7e6305dfde,EC2 DescribeImages reports correct rootDeviceType,MERGED,2012-07-14 20:48:23.000000000,2012-07-20 18:44:17.000000000,2012-07-20 18:44:16.000000000,6,2,0,9833,b898badbbc237cceb8ced9d89f4c53e2df98ee4d,18,5,4,3,2284,Eoghan Glynn,eglynn,"EC2 DescribeImages reports correct rootDeviceType

Fixes LP 1024354

A root device type of instance-store was incorrectly reported for
boot-from-volume images (i.e. the analogue of EBS-backed AMIs).

When comparing the block device mapping device name with the root
device name, we now tolerate a missing leading '/dev/' path.

Change-Id: I1d3bda780deee52f5d41e3af041aba7e6305dfde
"
openstack%2Fnova~master~I886d70097090578e83adc20318600d16cc5ebead,openstack/nova,master,bug/1021392,I886d70097090578e83adc20318600d16cc5ebead,Fix venv wrapper to clean *.pyc.,MERGED,2012-07-14 06:08:33.000000000,2012-07-20 18:21:26.000000000,2012-07-20 18:21:25.000000000,1,1,0,9817,e2f031c321d25f16ed7620f45bc38687c0b0ed84,7,4,1,1,2934,Bhuvan Arumugam,bhuvan,"Fix venv wrapper to clean *.pyc.

Bug: 1021392

With this fix the commands executed within virtual environment,
including find command, are executed successfully.

* tools/with_venv.sh
  Enclose command to execute in virtual environment within quotes.

Change-Id: I886d70097090578e83adc20318600d16cc5ebead
"
openstack%2Fnova~master~I1eb9e6289a8171d6fc93a49b327df474b1e2e503,openstack/nova,master,bug/918383,I1eb9e6289a8171d6fc93a49b327df474b1e2e503,Improved VM detection for bandwidth polling (XAPI),MERGED,2012-07-16 21:59:06.000000000,2012-07-20 18:17:55.000000000,2012-07-20 18:17:54.000000000,1,1,0,9874,212045e4c87aee81fde82dd4887d321cb511d717,7,4,1,1,1004,Mohammed Naser,mnaser,"Improved VM detection for bandwidth polling (XAPI)

XenAPI bandwidth polling would fail or be unreliable if there
was any other virtual machines on the same node (such as the nova
compute node).  This uses the nova_uuid which is much more
reliable to be there.  Fixes LP Bug #918383

Change-Id: I1eb9e6289a8171d6fc93a49b327df474b1e2e503
"
openstack%2Fdevstack~master~Icc2bd9551e235173683e3677880c2641faee62a9,openstack/devstack,master,bug/1019942,Icc2bd9551e235173683e3677880c2641faee62a9,Allow wget to handle Non-English output,MERGED,2012-07-02 06:11:14.000000000,2012-07-20 18:16:04.000000000,2012-07-20 18:16:04.000000000,1,1,1,9217,91b0acdefff432edf0021b00fe535637ecb8d789,20,7,4,1,2649,Zhang Hua,zhang-hare,"Allow wget to handle Non-English output

The stack.sh has a loop to wait for keystone to start. But the output of wget tool has been globalized
which means it won't return the English word 'refused' on Non-English environment even the keystone is
not up. So the script will assume the keystone has been started and continue. The command of keystone
tenant-create always failed immediately after skipping this loop since it require keystone to be started
to authenticate. That's why you can see authentication error in the log because the tenant information
was not correctly set up.

Fix bug 1019942

Change-Id: Icc2bd9551e235173683e3677880c2641faee62a9
"
openstack%2Fswift~master~I208fecdf3ee991694b4239f065032324d297fd35,openstack/swift,master,bp/keystone-middleware,I208fecdf3ee991694b4239f065032324d297fd35,Move swift_auth middleware from keystone to swift.,MERGED,2012-06-20 15:44:32.000000000,2012-07-20 17:30:01.000000000,2012-07-20 17:30:01.000000000,631,0,0,8748,afa4f70024be30cb1a0b84b9744f044f2532904f,28,8,6,5,866,Chmouel Boudjnah,chmouel,"Move swift_auth middleware from keystone to swift.

- Rename it to keystoneauth for consistenties.
- Implements blueprint keystone-middleware.

Change-Id: I208fecdf3ee991694b4239f065032324d297fd35
"
openstack%2Fswift~master~I39bf2de45b9dc7d3ca4d350d24b3f2276e958a62,openstack/swift,master,bug/1005908,I39bf2de45b9dc7d3ca4d350d24b3f2276e958a62,Forbid substrings based on a regexp in name_filter middleware,MERGED,2012-07-05 13:53:50.000000000,2012-07-20 17:28:24.000000000,2012-07-20 17:28:24.000000000,53,1,4,9365,faff4ae769f71f79f066774f959028a4391fe689,19,6,4,4,4460,Vincent Untz,vuntz,"Forbid substrings based on a regexp in name_filter middleware

In comments from https://review.openstack.org/8798 it was raised that it
might make sense to forbid some substrings in the name_filter
middleware.

There is now a new forbidden_regexp option for the name_filter
middleware to specify which substrings to forbid. The default is
""/\./|/\.\./|/\.$|/\.\.$"" (or in a non-regexp language: the /./ and /../
substrings as well as strings ending with /. or /..).

This can be useful for extra paranoia to avoid directory traversals
(bug 1005908), or for more general filtering.

Change-Id: I39bf2de45b9dc7d3ca4d350d24b3f2276e958a62
DocImpact: new forbidden_regexp option for the name_filter middleware
"
openstack%2Fneutron~master~I943335816308767c7eba084d80b969fcb2e5a8fb,openstack/neutron,master,bp/quantum-api-quotas,I943335816308767c7eba084d80b969fcb2e5a8fb,Add quota features into quantum. Blueprint quantum-api-quotas,MERGED,2012-07-20 17:28:12.000000000,2012-07-20 17:28:12.000000000,2012-07-20 17:28:12.000000000,348,8,16,9627,67f88c2a4bef387ef0f51196ecc6f7f3a2a79512,28,10,5,5,2874,yong sheng gong,gongysh,"Add quota features into quantum.
Blueprint quantum-api-quotas

We support quota check for creating network, subnet and port.
Change-Id: I943335816308767c7eba084d80b969fcb2e5a8fb
"
openstack%2Fpython-novaclient~master~Iad52212ea2ba7bfc93c597c23cc6314f9916edb9,openstack/python-novaclient,master,clarify-insecure-flag-help,Iad52212ea2ba7bfc93c597c23cc6314f9916edb9,Clarify usage of --insecure flag,MERGED,2012-07-20 08:21:20.000000000,2012-07-20 17:25:15.000000000,2012-07-20 17:25:15.000000000,4,1,0,10044,186a38cbc67cec061b524701f3a6ffac476399ec,6,3,1,1,4375,Sascha Peilicke,saschpe,"Clarify usage of --insecure flag

Change-Id: Iad52212ea2ba7bfc93c597c23cc6314f9916edb9
"
openstack%2Fglance~master~I3def2b7c4085a36dd6c0961e762783ebaf7ffa74,openstack/glance,master,bp/swift-tenant-specific-storage,I3def2b7c4085a36dd6c0961e762783ebaf7ffa74,Provide stores access to the request context.,MERGED,2012-07-09 21:28:05.000000000,2012-07-20 17:17:59.000000000,2012-07-20 17:17:59.000000000,66,44,11,9552,53e210a0b32d1fad4678e978995433692cfb09cc,25,6,3,10,360,Dan Prince,dan-prince,"Provide stores access to the request context.

Adds context to the constructor for the Store class. This can be used
to provide Store's access to the RequestContext.

Includes the following changes:

* Updates common store helper methods to create new instance of
  Store objects for each request.

* Updates Glance scrubber to create a real context from credentials.

The motivation for this change is that we will need access to the
service catalog and token for the Swift multi-tenant backend.

Partially implements blueprint: swift-tenant-specific-storage

Change-Id: I3def2b7c4085a36dd6c0961e762783ebaf7ffa74
"
openstack%2Fheat~master~I3e6e63143d554c21ccdee19879c4dfb8b6e693d7,openstack/heat,master,master,I3e6e63143d554c21ccdee19879c4dfb8b6e693d7,heat api/engine : Implement UpdateStack functionality,MERGED,2012-07-20 16:41:23.000000000,2012-07-20 16:41:23.000000000,2012-07-20 16:41:23.000000000,334,22,1,10057,0191587ac6a79509576e2043412020d9c4257b47,5,2,1,17,4328,Steven Hardy,shardy,"heat api/engine : Implement UpdateStack functionality

Implements initial support for UpdateStack, currently
all resources default to delete/create on update.
Ref #171

Change-Id: I3e6e63143d554c21ccdee19879c4dfb8b6e693d7
"
openstack%2Fcinder~master~I3048d9ab7b1d30eff583e15044c5a7bf74d52a3c,openstack/cinder,master,ru-fake-memcache,I3048d9ab7b1d30eff583e15044c5a7bf74d52a3c,Remove unused fake memcache client,MERGED,2012-07-17 03:58:37.000000000,2012-07-20 16:41:01.000000000,2012-07-20 16:41:01.000000000,0,65,0,9885,56701c3eb0dfa0db90bc686ba49dd978da974106,15,3,2,1,1247,Mark McLoughlin,markmc,"Remove unused fake memcache client

Used by the consoleauth service and the EC2 and metadata APIs in Nova.

Change-Id: I3048d9ab7b1d30eff583e15044c5a7bf74d52a3c
"
openstack%2Fneutron~master~I31c5c51a3f7fa4b7cb068b7b93692411956e62ac,openstack/neutron,master,testrefactor,I31c5c51a3f7fa4b7cb068b7b93692411956e62ac,Refactor the test cases so that all the test cases are under one test class.,MERGED,2012-07-20 16:29:34.000000000,2012-07-20 16:29:34.000000000,2012-07-20 16:29:34.000000000,24,29,0,10037,d36be5244977d47381ed68c2f60b5a0f4c95f606,7,4,1,2,2874,yong sheng gong,gongysh,"Refactor the test cases so that all the test cases are under one test class.

Change-Id: I31c5c51a3f7fa4b7cb068b7b93692411956e62ac
"
openstack%2Fswift~master~I36fd7be91aaa67abb7b72b09fe1da85f2cde0b01,openstack/swift,master,bug/1026830,I36fd7be91aaa67abb7b72b09fe1da85f2cde0b01,check for ring reload every time through the main loop,ABANDONED,2012-07-19 22:29:47.000000000,2012-07-20 16:16:05.000000000,,7,5,0,10034,09719e9e9c36da75141eaa427f1f963d425d1ab4,15,5,3,3,330,John Dickinson,notmyname,"check for ring reload every time through the main loop

Updates object replicator and DB replicator to check for on-disk
ring updates every time through the run_forever() loop. This ensures
that the ring will be reloaded if replication is initially started with
no devices in the ring.

fixes LP#1026830

Change-Id: I36fd7be91aaa67abb7b72b09fe1da85f2cde0b01
"
openstack%2Fcinder~master~I7327d94b5a9f35bc74e179a05976d511c6642a7a,openstack/cinder,master,bug/1026949,I7327d94b5a9f35bc74e179a05976d511c6642a7a,utils module is still being used by cinder-volume service,MERGED,2012-07-20 16:00:31.000000000,2012-07-20 16:14:40.000000000,2012-07-20 16:14:40.000000000,1,0,0,10062,9a5e830c2453b0e4fd93c56173881ce43cffc3e8,8,4,2,1,170,Mike Perez,thingee,"utils module is still being used by cinder-volume service

bug 1026949

Change-Id: I7327d94b5a9f35bc74e179a05976d511c6642a7a
"
openstack%2Fnova~master~If1ec286f98fc91f9f411800bbb0adbf2797d2114,openstack/nova,master,bug/914484,If1ec286f98fc91f9f411800bbb0adbf2797d2114,"Revert ""Attach ISO as separate disk if given proper instruction""",MERGED,2012-07-20 09:30:41.000000000,2012-07-20 16:12:12.000000000,2012-07-20 16:12:11.000000000,0,9,0,10045,4d3a50a48011b412bf66b1386292f85cccf1db74,8,5,1,1,1779,Daniel Berrange,berrange,"Revert ""Attach ISO as separate disk if given proper instruction""

The following commit

  commit b63a3e8cbd8fe57d0be119368bf47964543270c2
  Author: Josh Kearney <josh@jk0.org>
  Date:   Fri Jul 13 15:57:54 2012 -0500

    Attach ISO as separate disk if given proper instruction.

    This gives the option to attach the ISO as a separate drive, like we do in
    XenServer, and boot from that instead of replacing the root drive.

    Fixes bug 914484.

    Change-Id: I0e0560f5fcbc361b60ff1284e7369997dd770fd9

Results in this XML config

  <devices>
    <disk type=""file"" device=""cdrom"">
      <driver type=""qcow2"" cache=""none""/>
      <source file=""instance-00000001/disk""/>
      <target bus=""virtio"" dev=""vda""/>
    </disk>
    <disk type=""file"" device=""cdrom"">
      <driver type=""qcow2"" cache=""none""/>
      <source file=""instance-00000001/disk""/>
      <target bus=""ide"" dev=""vda""/>
    </disk>
   ...
  </devices>

which is broken in many ways

 - The same backing file is used in read/write mode on 2 disks
   which will cause data corruption on write.
 - The 'virtio' bus type does not allow device=""cdrom"" disks
 - The 'dev' attribute is given the same value on 2 disks

To compound the problems, the original commit completely lacks
any tests which would have caught the brokeness and/or identified
what was actually intended.

Change-Id: If1ec286f98fc91f9f411800bbb0adbf2797d2114
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>
"
openstack%2Fnova~stable%2Fessex~I5c1cdc9db54804c512d60e4179c1faa13516d6f9,openstack/nova,stable/essex,,I5c1cdc9db54804c512d60e4179c1faa13516d6f9,Return 413 status on over-quota in the native API.,MERGED,2012-07-06 16:17:18.000000000,2012-07-20 15:12:42.000000000,2012-07-20 15:12:41.000000000,50,4,0,9446,6e873bccc078e1013987698cd71c69deebf2e99f,25,5,6,4,2284,Eoghan Glynn,eglynn,"Return 413 status on over-quota in the native API.

Related to LP 1021373.

Previously, we returned a generic 500 Server Error on an over-quota
conditions, whereas this is arguably more appropriately reported
as a 413 status.

Change-Id: I5c1cdc9db54804c512d60e4179c1faa13516d6f9
"
openstack%2Fcinder~master~I9d912904c53a8ef5d90b4ab5792f5577701b6817,openstack/cinder,master,openstack.common.log2,I9d912904c53a8ef5d90b4ab5792f5577701b6817,Use openstack.common.log for logging.,MERGED,2012-07-17 13:59:28.000000000,2012-07-20 15:08:04.000000000,2012-07-20 15:08:03.000000000,316,488,8,9913,fe716c0ee499ed13f37231c651b8e018baede772,16,5,5,77,866,Chmouel Boudjnah,chmouel,"Use openstack.common.log for logging.

- We are not using openstack.common.notifier just yet so handedit
  openstack.common.log to use cinder.notifier now.

Change-Id: I9d912904c53a8ef5d90b4ab5792f5577701b6817
"
openstack%2Fcinder~master~I114281fd553020ac96c499c18ff3e4a2a626c3b2,openstack/cinder,master,ru-check-snapshots-enabled,I114281fd553020ac96c499c18ff3e4a2a626c3b2,Remove unused check_snapshots_enabled,MERGED,2012-07-17 03:58:26.000000000,2012-07-20 15:06:36.000000000,2012-07-20 15:06:36.000000000,0,17,0,9883,c99bae92e8aa3a38d5e3411e71df0d65a9484298,21,4,2,2,1247,Mark McLoughlin,markmc,"Remove unused check_snapshots_enabled

Only used in Nova by the createImage action.

Change-Id: I114281fd553020ac96c499c18ff3e4a2a626c3b2
"
openstack%2Foslo-incubator~master~Ieebefee89483e5abbcefe1bb9059d89c91dc04df,openstack/oslo-incubator,master,bug/1025522,Ieebefee89483e5abbcefe1bb9059d89c91dc04df,Add test-options from Nova /w pyzmq,MERGED,2012-07-20 14:58:22.000000000,2012-07-20 14:58:22.000000000,2012-07-20 14:58:22.000000000,7,0,2,9786,96bfc33b393e1d7c4e6ea7dfc86b2b2246c6c97f,14,6,2,2,159,Eric Windisch,ewindisch,"Add test-options from Nova /w pyzmq

Change-Id: Ieebefee89483e5abbcefe1bb9059d89c91dc04df
"
openstack%2Fcinder~master~Ied4c6f6d03c0a70838e1e483d69f3ed1ec08a9b5,openstack/cinder,master,bug/1006875,Ied4c6f6d03c0a70838e1e483d69f3ed1ec08a9b5,Don't create volumes if an incorrect size was given,MERGED,2012-07-20 06:37:13.000000000,2012-07-20 14:52:20.000000000,2012-07-20 14:52:20.000000000,17,0,0,10042,635f1498757d5ab8a0a8957d6e5aafaf3ceee022,6,3,1,3,170,Mike Perez,thingee,"Don't create volumes if an incorrect size was given

bug 1006875

Change-Id: Ied4c6f6d03c0a70838e1e483d69f3ed1ec08a9b5
"
openstack%2Fnova~master~Ic887d9078725ec9b676c4f49cf58b567759b6210,openstack/nova,master,bug/1026307,Ic887d9078725ec9b676c4f49cf58b567759b6210,Fix error in error handler in instance_usage_audit task.,MERGED,2012-07-18 20:48:10.000000000,2012-07-20 14:35:30.000000000,2012-07-20 14:35:29.000000000,2,2,0,9980,3f2c25cfac89500ddfe883e76ebfa3813a1f9103,16,9,2,1,236,Monsyne Dragon,mdragon,"Fix error in error handler in instance_usage_audit task.

This fixes bug 1026307
In the periodic task that generates .exists notifications, if there is
an exception generating the notification for an instance, it attempts
to log the exception and continue. Alas, there is an error in the error
handler that clobbers the original error, preventing it from being logged.

Turns out a variable in for loop was 'instance_ref' in one part, but 'instance' in
except clause. Fixed.

Change-Id: Ic887d9078725ec9b676c4f49cf58b567759b6210
"
openstack%2Fheat~master~I3562c9048f8d4e54c1ea51090e74abe982ffb330,openstack/heat,master,master,I3562c9048f8d4e54c1ea51090e74abe982ffb330,heat db : fix per-object delete,MERGED,2012-07-20 14:20:23.000000000,2012-07-20 14:20:23.000000000,2012-07-20 14:20:23.000000000,6,1,0,10046,912a4fc7a706bdf08ee731e0430256a326ca9d34,5,2,1,1,4328,Steven Hardy,shardy,"heat db : fix per-object delete

Fixes problem where per-resource destroy() operations do not
delete the underlying database row because the model delete
method is broken

Change-Id: I3562c9048f8d4e54c1ea51090e74abe982ffb330
Signed-off-by: Steven Hardy <shardy@redhat.com>
"
openstack%2Fnova~stable%2Fessex~Iafc290720a820cb5f57ded10a2f584fdc5cd5b49,openstack/nova,stable/essex,qcow2-cs,Iafc290720a820cb5f57ded10a2f584fdc5cd5b49,Use default qemu-img cluster size in libvirt connection driver,MERGED,2012-07-14 16:58:09.000000000,2012-07-20 13:02:10.000000000,2012-07-20 13:02:09.000000000,3,2,0,9821,7b215ed439a7b29b8681ced133e2e5b5ad074c0c,9,6,1,3,2697,Jim Fehlig,jfehlig,"Use default qemu-img cluster size in libvirt connection driver

The recommended cluster size [1] for qcow2 is 64k, which is the default
when invoking 'qemu-img create ...'.  Remove the cluster_size option
from qemu-img invocation.

[1] http://www.mail-archive.com/openstack@lists.launchpad.net/msg11371.html

V2: Fix test.

Note: This patch is needed in the stable/essex branch too, otherwise it
is not possible to start Xen instances that use qcow2 images.  The old
qemu 0.10 in Xen cannot cope with cluster size > 64k.

Change-Id: Iafc290720a820cb5f57ded10a2f584fdc5cd5b49
(cherry picked from commit de5cb27e64267ec59e12a495a59880412cecb5e8)
"
openstack%2Fheat~master~Ib2cff867eb5d9fbee8cedb828e9c35a93436cbe5,openstack/heat,master,master,Ib2cff867eb5d9fbee8cedb828e9c35a93436cbe5,Combined autoscaling and loadbalancer,MERGED,2012-07-20 12:24:53.000000000,2012-07-20 12:24:53.000000000,2012-07-20 12:24:53.000000000,360,12,0,10040,0f4c86bd3a13b5f8ff2e57b727709c7ff46aeea4,5,2,1,7,4715,Angus Salkeld,asalkeld,"Combined autoscaling and loadbalancer

Change-Id: Ib2cff867eb5d9fbee8cedb828e9c35a93436cbe5
"
openstack%2Fnova~master~I27736bb794030dad52f64f83cb7e503c42133567,openstack/nova,master,libvirt_disk_config,I27736bb794030dad52f64f83cb7e503c42133567,Refactor libvirt disk config generation.,ABANDONED,2012-07-11 15:52:51.000000000,2012-07-20 12:08:21.000000000,,26,39,4,9645,e26f553d6e0ac61051db51c48e33708290892101,19,6,3,1,1711,Yun Mao,yunmao,"Refactor libvirt disk config generation.

Refactor to reduce duplicated code in disk config generation.

Change-Id: I27736bb794030dad52f64f83cb7e503c42133567
"
openstack%2Fneutron~master~I9d42b3aee4b51edbc0b80d8f8372f65eb47df9af,openstack/neutron,master,bp/update-ryu-plugin-for-v2,I9d42b3aee4b51edbc0b80d8f8372f65eb47df9af,Ryu plugin support for v2 Quantum API,MERGED,2012-07-20 11:29:26.000000000,2012-07-20 11:29:26.000000000,2012-07-20 11:29:26.000000000,165,76,1,9756,f3e4b701fd9158cd7c167d9f188bfb71fa319671,15,7,4,6,4726,Yoshihiro Kaneko,ykaneko0929,"Ryu plugin support for v2 Quantum API

blueprint update-ryu-plugin-for-v2

Ryu plugin using the v2 Quantum API.

Change-Id: I9d42b3aee4b51edbc0b80d8f8372f65eb47df9af
"
openstack%2Fnova~master~I0e0560f5fcbc361b60ff1284e7369997dd770fd9,openstack/nova,master,bug/914484,I0e0560f5fcbc361b60ff1284e7369997dd770fd9,Attach ISO as separate disk if given proper instruction.,MERGED,2012-07-13 21:00:11.000000000,2012-07-20 09:32:25.000000000,2012-07-13 21:21:56.000000000,9,0,0,9791,b63a3e8cbd8fe57d0be119368bf47964543270c2,6,3,1,1,209,Josh Kearney,jk0,"Attach ISO as separate disk if given proper instruction.

This gives the option to attach the ISO as a separate drive, like we do in
XenServer, and boot from that instead of replacing the root drive.

Fixes bug 914484.

Change-Id: I0e0560f5fcbc361b60ff1284e7369997dd770fd9
"
openstack%2Fnova~master~I45be17a2217aefe9b81c1ce590feb49cf61bdbb0,openstack/nova,master,floating_ip_task_status,I45be17a2217aefe9b81c1ce590feb49cf61bdbb0,Set instance task_state during floating IP association.,ABANDONED,2012-07-11 20:19:14.000000000,2012-07-20 06:03:05.000000000,,41,0,0,9665,8d42182ec81bcd032a33ec5a1cd7afcfd04de1f8,13,6,2,2,1816,Gabriel Hurley,gabriel-hurley,"Set instance task_state during floating IP association.

To provide more meaningful feedback to an end user, set the
instance task state to task_states.NETWORKING when the API
call is received, and set it back to None after the RPC
call actually completes its task. This way anyone wondering
if the floating IP is actually in the process of being associated
can query the instance and find out, and interfaces like Horizon
can check for updates while in this intermediate state.

Change-Id: I45be17a2217aefe9b81c1ce590feb49cf61bdbb0
"
openstack%2Fnova~master~I000fc0d4cb04149373ba1b4f286ff19bb2d20925,openstack/nova,master,master,I000fc0d4cb04149373ba1b4f286ff19bb2d20925,Image folder naming convention in libvirt driver.,ABANDONED,2012-07-12 10:00:28.000000000,2012-07-20 06:03:04.000000000,,29,29,0,9707,3f9d3ddf10e6f4620abd51d162c010d1439191a0,15,7,3,2,1782,Kravchenko Pavel,kravchenko-pavel,"Image folder naming convention in libvirt driver.

Today libvirt driver in Nova names instance folders according to instance name (e.g., ""instance-001""), which is not unique.
Using the uuid of the instance instead will make it much easier to handle several scenarios,
including migration (verify availability of the instance on the target node),
as well as instance rebuild for HA (for similar purpose, when shared storage is in place).

The fix is mainly replacing instance['name'] with instance['uuid'] in a bunch of places in libvirt/driver.py.

Opened bug: https://bugs.launchpad.net/nova/+bug/1023865

Change-Id: I000fc0d4cb04149373ba1b4f286ff19bb2d20925
"
openstack%2Fdevstack~master~Idc9578b0e7f66efea76c80c2a1e28763d5542c4c,openstack/devstack,master,bug/1015535,Idc9578b0e7f66efea76c80c2a1e28763d5542c4c,Add the function of stopping a specific service to unstack.sh.,ABANDONED,2012-06-28 06:37:38.000000000,2012-07-20 06:03:03.000000000,,99,32,6,9097,dde5135a10451bdb5e6d5a3b6e0f870d8b4da1cd,8,3,3,2,2861,Vincent Hou,houshengbo,"Add the function of stopping a specific service to unstack.sh.

Fixes Bug1015535.

Change-Id: Idc9578b0e7f66efea76c80c2a1e28763d5542c4c
"
openstack%2Fswift~master~I5ab3184af083cf6bf72d11c3d2c2c5a02018cee4,openstack/swift,master,,I5ab3184af083cf6bf72d11c3d2c2c5a02018cee4,Updates keystoneauth to support ACL's w/ user_id.,ABANDONED,2012-07-05 18:39:24.000000000,2012-07-20 06:03:02.000000000,,30,18,0,9394,288166e682cf1f55de2b1767e4911ee061c0bdf0,3,1,1,2,360,Dan Prince,dan-prince,"Updates keystoneauth to support ACL's w/ user_id.

Updates the Swift keystoneauth middleware so that it supports individual
ACL permissions with tenant_id:user_id.

The motivation for this change is to avoid hard coding usernames
in swift object permissions. I'd like to be able to use ID's
for both user and tenant.

Adds test case to cover tenant_id:user_id case.

Fixes LP Bug #1020709.

Change-Id: I5ab3184af083cf6bf72d11c3d2c2c5a02018cee4
"
openstack%2Fheat~master~Ie17bb88c331bdb4354d0abb24346ab80f13cd323,openstack/heat,master,master,Ie17bb88c331bdb4354d0abb24346ab80f13cd323,Optimize filter context,MERGED,2012-07-20 04:31:15.000000000,2012-07-20 04:31:15.000000000,2012-07-20 04:31:15.000000000,17,7,0,10039,06705da563935a5097a3a502ede1c349e14656ac,5,2,1,3,2834,Steven Dake,sdake,"Optimize filter context

Just use a direct filter factory for ContextMiddleware

Change-Id: Ie17bb88c331bdb4354d0abb24346ab80f13cd323
Signed-off-by: Steven Dake <sdake@redhat.com>
"
openstack%2Fnova~master~Ia364496a996870d754094915ea0501ff19052037,openstack/nova,master,bug/1026709,Ia364496a996870d754094915ea0501ff19052037,Fix SQL deadlock in quota reservations,MERGED,2012-07-19 17:21:31.000000000,2012-07-19 22:47:00.000000000,2012-07-19 22:46:59.000000000,30,33,3,10026,b244f6fde2e4b85a01a8e0a340d12a1fa9073236,16,5,2,3,100,Johannes Erdfelt,johannes.erdfelt,"Fix SQL deadlock in quota reservations

Fixes bug 1026709

The code in quota_reserve acquires SQL locks in a different order than
the code in reservation_commit/reservation_rollback. This can result in
an SQL deadlock under heavy load. Due to an (unrelated) bug in
SQLAlchemy, this can result in this exception:

ResourceClosedError: This result object does not return rows. It has
been closed automatically.

This patch reorganizes the code to always fetch (and thusly lock) the
quota_usages table before the reservations table.

Change-Id: Ia364496a996870d754094915ea0501ff19052037
"
openstack%2Fpython-glanceclient~master~Ide7247ba444b60179d9c76c43dfaa43c025b69c9,openstack/python-glanceclient,master,master,Ide7247ba444b60179d9c76c43dfaa43c025b69c9,Relax prettytable dependency to v0.6.X from v0.6,MERGED,2012-07-17 22:30:05.000000000,2012-07-19 21:26:04.000000000,2012-07-19 21:26:04.000000000,1,1,0,9942,c201f24d5ad0a4ad008921664d956b7d0ac2dd61,5,2,1,1,1132,Brian Waldon,bcwaldon,"Relax prettytable dependency to v0.6.X from v0.6

Change-Id: Ide7247ba444b60179d9c76c43dfaa43c025b69c9
"
openstack%2Fpython-glanceclient~master~Ifa7874d88360e03b5c8aa95bfb9d5e6dc6dc927e,openstack/python-glanceclient,master,bug/1024614,Ifa7874d88360e03b5c8aa95bfb9d5e6dc6dc927e,Add pagination to v1 image-list,MERGED,2012-07-14 04:48:15.000000000,2012-07-19 20:57:58.000000000,2012-07-19 20:57:58.000000000,151,38,0,9816,0f628b19cbbe53ea29de02f4ae84bc893138820f,10,4,2,5,1132,Brian Waldon,bcwaldon,"Add pagination to v1 image-list

* Use recursive generator function to make subsequent requests
  to the v1 detailed images resource
* 'limit' continues to act as the absolute limit of images to return
  from a list call
* 'page_size' indicates how many images to ask for in each subsequent
  pagination request
* Expose --page-size through the cli
* Convert v1 images tests to use strict url comparison
* Drop strict_url_check from FakeAPI kwargs - now the functionality
  is always active and tests must directly match fixture urls
* Fix bug 1024614

Change-Id: Ifa7874d88360e03b5c8aa95bfb9d5e6dc6dc927e
"
openstack%2Fpython-glanceclient~master~I2d36e3cdd45b26d7c7c27ba050bf6a4b5765df6c,openstack/python-glanceclient,master,body-iterator,I2d36e3cdd45b26d7c7c27ba050bf6a4b5765df6c,Wrap image data in iterator,MERGED,2012-07-12 02:39:36.000000000,2012-07-19 20:19:30.000000000,2012-07-19 20:19:30.000000000,34,6,1,9697,da360462a54501178753571cdfec800e899f38ae,13,3,2,3,1132,Brian Waldon,bcwaldon,"Wrap image data in iterator

This is establishing the API for a future optimization. We want to
be able to offer true socket-level caching, but can't do that with
httplib2 right now. For now, we will just fake the optimization
by returning an iterator over the image body, which happens to already
be fully loaded into a string.

Change-Id: I2d36e3cdd45b26d7c7c27ba050bf6a4b5765df6c
"
openstack%2Fnova~master~I8a7cd5fc4fe0effd436e91a6c481df7b0d5a8b01,openstack/nova,master,,I8a7cd5fc4fe0effd436e91a6c481df7b0d5a8b01,Static FaultWrapper status_to_type map.,MERGED,2012-07-19 10:51:55.000000000,2012-07-19 17:44:22.000000000,2012-07-19 17:44:21.000000000,10,7,0,10012,7d8936cc802ce28a476e30a6b94ab23881580b48,8,5,1,1,2284,Eoghan Glynn,eglynn,"Static FaultWrapper status_to_type map.

Avoid maintaining needless copies of this dict, by instantiating
lazily once and only once.

This approach will bring master into sync with the corresponding
patch proposed to stable/essex:

  https://review.openstack.org/9446

Change-Id: I8a7cd5fc4fe0effd436e91a6c481df7b0d5a8b01
"
openstack%2Fkeystone~stable%2Fessex~I264714fe82b727e3e0f5273bcb781a580a3f3826,openstack/keystone,stable/essex,bug/974199,I264714fe82b727e3e0f5273bcb781a580a3f3826,cleanup dependent data upon user/tenant deletion,MERGED,2012-05-16 12:05:18.000000000,2012-07-19 17:39:55.000000000,2012-07-19 17:39:55.000000000,57,0,0,7482,0b95c3cf66659a828de055b8d026c11e333cd8c8,34,7,5,3,2340,Ionut Artarisi,mapleoin,"cleanup dependent data upon user/tenant deletion

fixes bug 974199
fixes bug 973243

* upon deletion of tenant also delete user tenant relations
* upon deletion of tenant or user also delete corresponding metadata
* add foreign keys in metadata to ensure consistency

see also: https://bugs.launchpad.net/keystone/+bug/959294/comments/16

Change-Id: I264714fe82b727e3e0f5273bcb781a580a3f3826
"
openstack%2Fkeystone~master~Icfd5c39c322ed6e73148c7f5ae03f704a3aa160e,openstack/keystone,master,bug/1017765,Icfd5c39c322ed6e73148c7f5ae03f704a3aa160e,Sync jsonutils from openstack-common,MERGED,2012-07-19 09:44:09.000000000,2012-07-19 17:39:53.000000000,2012-07-19 17:39:53.000000000,8,2,0,10009,5adb018aaeaf6c05478cae72fe3f97e1b20e0935,7,4,1,1,4460,Vincent Untz,vuntz,"Sync jsonutils from openstack-common

This makes keystone work with recent versions of anyjson.

Changes from openstack-common:

    commit ce3071437d1871f77c4d8573cbe5f4ea8c817650
    Author: Russell Bryant <rbryant@redhat.com>
    Date:   Mon Jul 16 10:30:25 2012 -0400

        Use strtime() in to_primitive() for datetime objs.

        This patch updates jsonutils.to_primitive() to use timeutils.strtime()
        to convert a datimetime object to a string instead of just using str().
        This ensures that we can easily convert the string back to a datetime
        using timeutils.parse_strtime().

        Required for the nova blueprint no-db-messaging.

        Change-Id: I725b333695930e12e2832378102514326fec639c

    commit 4c9d439ef24f5afdd74aa9153aa8fc772051e6cb
    Author: Tim Daly Jr <timjr@yahoo-inc.com>
    Date:   Tue Jun 26 02:48:42 2012 +0000

        Add 'filedecoder' method to the jsonutils wrapper module.

        Fixes bug #1017765

        After version 3.3.2, the anyjson library will throw a KeyError if
        filedecoder isn't present.  The filedecoder is just like the decoder
        except it takes a file instead of a string, like json.load() instead
        of json.loads().

        Change-Id: I7bd012a7b4afa9b1ec987c3e6393cc922b5dadff

Change-Id: Icfd5c39c322ed6e73148c7f5ae03f704a3aa160e
"
openstack%2Fkeystone~master~I63d789b15361c74d11531646c30fd45f111e236c,openstack/keystone,master,master,I63d789b15361c74d11531646c30fd45f111e236c,Fix the wrong infomation in keystone-manage.rst,MERGED,2012-07-19 01:48:46.000000000,2012-07-19 17:37:32.000000000,2012-07-19 17:37:31.000000000,3,3,0,9999,d06159992899f0f85917c0f7cc0d9dcaf6b07c93,8,5,1,1,2575,Wang Long,wanglong,"Fix the wrong infomation in keystone-manage.rst

Change-Id: I63d789b15361c74d11531646c30fd45f111e236c
"
openstack%2Fkeystone~master~Iebf31ccbdeff274b2c8f265911d3411963dd4844,openstack/keystone,master,bug/1016056,Iebf31ccbdeff274b2c8f265911d3411963dd4844,Import ec2 credentials from old keystone db,MERGED,2012-06-21 14:16:58.000000000,2012-07-19 17:37:04.000000000,2012-07-19 17:37:03.000000000,19,0,6,8802,ec363aca96d4154118ae14b108fcad2ff0917d92,29,7,6,1,1742,hovyakov,hovyakov,"Import ec2 credentials from old keystone db

Fix bug #1016056

Change-Id: Iebf31ccbdeff274b2c8f265911d3411963dd4844
"
openstack%2Foslo-incubator~master~Iacf01633eace4af4582a7f92f4b6742f34c9ae37,openstack/oslo-incubator,master,master,Iacf01633eace4af4582a7f92f4b6742f34c9ae37,"Correct ""if"" misspellings.",ABANDONED,2012-07-19 17:34:03.000000000,2012-07-19 17:34:03.000000000,,2,2,0,10027,a83fcee303bf05f6f2c976ec62b5978d7139bd5d,2,1,1,1,209,Josh Kearney,jk0,"Correct ""if"" misspellings.

Change-Id: Iacf01633eace4af4582a7f92f4b6742f34c9ae37
"
openstack%2Fkeystone~master~If0a7704ff578162d6b7fa8b68c0e0ed37e72cb73,openstack/keystone,master,bug/1004114,If0a7704ff578162d6b7fa8b68c0e0ed37e72cb73,Debug output may include passwords (bug 1004114),MERGED,2012-07-17 21:24:32.000000000,2012-07-19 17:31:33.000000000,2012-07-19 17:31:33.000000000,1,0,0,9935,0abf6ba254638471a367cfccef65a1b9e0a70ef2,7,4,1,1,4,Dolph Mathews,dolph,"Debug output may include passwords (bug 1004114)

Change-Id: If0a7704ff578162d6b7fa8b68c0e0ed37e72cb73
"
openstack%2Fheat~master~I8845b2b33a5bae30aae66c06af01c1a27c990305,openstack/heat,master,master,I8845b2b33a5bae30aae66c06af01c1a27c990305,Allow nested stacks to be retrieved by name,MERGED,2012-07-19 17:20:32.000000000,2012-07-19 17:20:32.000000000,2012-07-19 17:20:32.000000000,10,3,1,10004,be3c066ab87cc6e1a2ca8c097eeccd9217d7329a,9,2,2,2,4715,Angus Salkeld,asalkeld,"Allow nested stacks to be retrieved by name

When getting the stack by name in the metadata server
we don't know the owner_id so allow retrieval just by name.

I suspect this will be a short term solution until we get proper
stack names.

Change-Id: I8845b2b33a5bae30aae66c06af01c1a27c990305
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fnova~master~I91ea24747eba9f0f0090f923c5728ba2b85eb141,openstack/nova,master,FilterTest,I91ea24747eba9f0f0090f923c5728ba2b85eb141,Update FilterSchedulerTestCase docstring,MERGED,2012-07-18 21:08:35.000000000,2012-07-19 17:19:55.000000000,2012-07-19 17:19:54.000000000,2,2,0,9986,cd5767e70c703e1024c816da1ef962e8e21650ae,8,5,1,1,1849,Joe Gordon,jogo,"Update FilterSchedulerTestCase docstring

Change-Id: I91ea24747eba9f0f0090f923c5728ba2b85eb141
"
openstack%2Fneutron~master~I8501d10a798cc90c027bb981c5a3ca5a0ef6e622,openstack/neutron,master,remove_test,I8501d10a798cc90c027bb981c5a3ca5a0ef6e622,Assume that subclass validates value of UUID,MERGED,2012-07-19 17:16:15.000000000,2012-07-19 17:16:15.000000000,2012-07-19 17:16:15.000000000,0,21,1,10011,566eb8312c35dbfb3207f4eccf0c0a9b74dd528b,11,4,2,1,1653,garyk,garyk,"Assume that subclass validates value of UUID

Change-Id: I8501d10a798cc90c027bb981c5a3ca5a0ef6e622
"
openstack%2Fneutron~master~I86e6a3add56a0a2941031a1248f1696667ac56b8,openstack/neutron,master,bug/1025526,I86e6a3add56a0a2941031a1248f1696667ac56b8,"fix bug lp:1025526,update iniparser.py to accept  empty value.",MERGED,2012-07-19 17:13:56.000000000,2012-07-19 17:13:56.000000000,2012-07-19 17:13:56.000000000,42,44,3,9892,5fcf6ccd952f74d77f6735831c778d33dfcd6136,26,7,5,11,1313,Yaguang Tang,heut2008,"fix bug lp:1025526,update iniparser.py to accept  empty value.

also,this patch turn off pep8 E125 check,this for now seems to
be unnecessary,it check continuous line split.and update the
latest openstack-common https://review.openstack.org/#/c/9201
which has fix pep8 1.3 issue except for E125 check.

Change-Id: I86e6a3add56a0a2941031a1248f1696667ac56b8
"
openstack%2Fkeystone~master~I55cd5daf34f4f57d4163be403a7a75c5d22baa62,openstack/keystone,master,bug/966251,I55cd5daf34f4f57d4163be403a7a75c5d22baa62,Added user name validation. Fixes bug 966251.,MERGED,2012-07-19 07:49:34.000000000,2012-07-19 17:08:00.000000000,2012-07-19 17:08:00.000000000,77,1,2,10006,28061817edc1950bfc1ad61f69baaacaa7a89468,7,4,1,6,1633,unmesh-gurjar,unmesh-gurjar,"Added user name validation. Fixes bug 966251.

1. Verified name length while creating/updating user.
2. Disallowed blank user name in create/update.
3. Added unit test coverage.

Change-Id: I55cd5daf34f4f57d4163be403a7a75c5d22baa62
"
openstack%2Fglance~master~I9fbf2c76666bfc0b9227a6a6c4d824367526e56a,openstack/glance,master,api-v2-checked-iter,I9fbf2c76666bfc0b9227a6a6c4d824367526e56a,Move checked_iter from v1 API glance.api.common,MERGED,2012-07-17 23:31:48.000000000,2012-07-19 17:07:49.000000000,2012-07-19 17:07:48.000000000,87,62,0,9946,bd018d68bd88ab00b806943981cac10644c10573,12,4,1,3,1132,Brian Waldon,bcwaldon,"Move checked_iter from v1 API glance.api.common

The checked_iter image streaming wrapper should be in a common
place so the v2 API code can use it as well. This moves it to
glance/api/common.py and gives it a slightly more descriptive
name 'size_checked_iter'.

Change-Id: I9fbf2c76666bfc0b9227a6a6c4d824367526e56a
"
openstack%2Fcinder~master~Ib139cae1e0f157f69f7d9ae7186c555538e4b1f5,openstack/cinder,master,ru-helper-scripts,Ib139cae1e0f157f69f7d9ae7186c555538e4b1f5,Remove some unused helper scripts,MERGED,2012-07-17 03:58:43.000000000,2012-07-19 17:03:09.000000000,2012-07-19 17:03:09.000000000,0,90,0,9886,8b6397bbf58a6c0da00500407790ed8547741771,8,2,1,2,1247,Mark McLoughlin,markmc,"Remove some unused helper scripts

openstack-config init script and clean-vlans scripts are only relevant
to nova.

Change-Id: Ib139cae1e0f157f69f7d9ae7186c555538e4b1f5
"
openstack%2Fglance~master~I4d49c821aeb3027b7f33babf6c4bafe00644f0c9,openstack/glance,master,bug/1026047,I4d49c821aeb3027b7f33babf6c4bafe00644f0c9,Increase wait time for test_unsupported_default_store,MERGED,2012-07-18 09:49:11.000000000,2012-07-19 17:02:58.000000000,2012-07-19 17:02:57.000000000,3,1,0,9958,79c298dc1b8fcec29916ea0e520835939e1f0c40,16,5,2,1,455,Stuart McLaren,stuart-mclaren,"Increase wait time for test_unsupported_default_store

Fix for LP Bug #1026047.

Allow unit test 'test_unsupported_default_store' to
successfully run on a slow machine.

Change-Id: I4d49c821aeb3027b7f33babf6c4bafe00644f0c9
"
openstack%2Fdevstack~master~I0aee8b806c61dff42400a3b8552b7c748e9c5adf,openstack/devstack,master,dhcp,I0aee8b806c61dff42400a3b8552b7c748e9c5adf,Ensure that dnsmasq is terminated when running unstack.sh,MERGED,2012-07-18 11:44:34.000000000,2012-07-19 17:02:55.000000000,2012-07-19 17:02:55.000000000,5,0,2,9962,722fe6732a2165bdf610d6dc10060a3285e534d7,11,4,2,1,1653,garyk,garyk,"Ensure that dnsmasq is terminated when running unstack.sh

If the Quantum dhcp-agent is enabled then we ensure that the dnsmasq
process is termated when running unstack.sh

Change-Id: I0aee8b806c61dff42400a3b8552b7c748e9c5adf
"
openstack%2Fcinder~master~I4e00ca816820cb51c0ab3d4d864766d981854939,openstack/cinder,master,ru-check-snapshots-enabled,I4e00ca816820cb51c0ab3d4d864766d981854939,"Remove unused get_{id,version}_from_href()",MERGED,2012-07-17 03:58:26.000000000,2012-07-19 16:57:18.000000000,2012-07-19 16:56:25.000000000,0,87,0,9882,23df2650371345f05f75208a9e35d7ca0b6421e4,10,3,1,2,1247,Mark McLoughlin,markmc,"Remove unused get_{id,version}_from_href()

The former is only used in the compute API in Nova to e.g. get
an image or flavor ID from a client supplied ref.

The latter is unused even in Nova since the removal of the 1.0
API.

Change-Id: I4e00ca816820cb51c0ab3d4d864766d981854939
"
openstack%2Fcinder~master~I223aca1a1c8e35c9339107e5c11bdd8a39968681,openstack/cinder,master,ru-check-snapshots-enabled,I223aca1a1c8e35c9339107e5c11bdd8a39968681,Remove unused metadata serialization,MERGED,2012-07-17 03:58:26.000000000,2012-07-19 16:57:18.000000000,2012-07-19 16:57:18.000000000,0,281,0,9881,b79ad1a950116b6eb0e0f7be48e9ca215681ee1e,11,3,1,3,1247,Mark McLoughlin,markmc,"Remove unused metadata serialization

Only used by the compute API in Nova for e.g. images and server
metadata.

Change-Id: I223aca1a1c8e35c9339107e5c11bdd8a39968681
"
openstack%2Fcinder~master~I065ca64e060acc0773189f1497fcc54041621f39,openstack/cinder,master,ru-overlimitfault,I065ca64e060acc0773189f1497fcc54041621f39,Remove unused OverLimitFault,MERGED,2012-07-17 03:58:48.000000000,2012-07-19 16:56:14.000000000,2012-07-19 16:56:14.000000000,0,47,0,9887,fbf1ee2069450eb6b55d18fafea6aa44874219c9,14,3,1,1,1247,Mark McLoughlin,markmc,"Remove unused OverLimitFault

Only used by compute limits in Nova.

Change-Id: I065ca64e060acc0773189f1497fcc54041621f39
"
openstack%2Fcinder~master~I3ade99405736bf8ffb8891a8d53c02905501ae44,openstack/cinder,master,ru-wrap-errors,I3ade99405736bf8ffb8891a8d53c02905501ae44,Remove unused wrap_errors decorator,MERGED,2012-07-17 03:58:59.000000000,2012-07-19 16:54:49.000000000,2012-07-19 16:54:48.000000000,0,12,0,9889,c73d15d347ba5a973e257932ffb9d6012939e3a5,10,2,1,1,1247,Mark McLoughlin,markmc,"Remove unused wrap_errors decorator

Only used by rescue extension in nova.

Change-Id: I3ade99405736bf8ffb8891a8d53c02905501ae44
"
openstack%2Fdevstack~master~Id6b8d122be919d1b0041288e81b735af21958ff7,openstack/devstack,master,,Id6b8d122be919d1b0041288e81b735af21958ff7,2.5x increase in default volume backing file size,MERGED,2012-07-15 09:31:31.000000000,2012-07-19 16:54:40.000000000,2012-07-19 16:54:40.000000000,5,4,2,9837,9cb1776a9206dcc4279c9d7c3b587d246b54ae1c,23,7,3,3,2284,Eoghan Glynn,eglynn,"2.5x increase in default volume backing file size

The current default volume backing file size of ~2Gb seem unfeasibly
small and precludes running exercises that require multiple volumes
and/or snapshots to be created.

We increase this to ~5Gb.

Change-Id: Id6b8d122be919d1b0041288e81b735af21958ff7
"
openstack%2Fcinder~master~I3b2dfa33b4bd1523e13ddb5401bc0397df7466ef,openstack/cinder,master,ru-check-snapshots-enabled,I3b2dfa33b4bd1523e13ddb5401bc0397df7466ef,Remove unused raise_http_conflict_for_instance_invalid_state(),MERGED,2012-07-17 03:58:25.000000000,2012-07-19 16:53:43.000000000,2012-07-19 16:53:43.000000000,0,43,0,9880,03700f12f356a00c67fe3c301cc297c85e92c69e,15,3,1,2,1247,Mark McLoughlin,markmc,"Remove unused raise_http_conflict_for_instance_invalid_state()

Only used by the compute API in Nova.

Change-Id: I3b2dfa33b4bd1523e13ddb5401bc0397df7466ef
"
openstack%2Fcinder~master~I2339a36b45166a24825882e3e35dd00a2dfb6b27,openstack/cinder,master,ru-enabled-apis,I2339a36b45166a24825882e3e35dd00a2dfb6b27,Remove unused enabled_apis flag,MERGED,2012-07-17 03:58:32.000000000,2012-07-19 16:52:28.000000000,2012-07-19 16:52:28.000000000,4,10,0,9884,ed7e05b00861e1fa3fbc21c4562a17b97d1f16f9,10,3,1,3,1247,Mark McLoughlin,markmc,"Remove unused enabled_apis flag

This is only useful in the context of Nova where there are multiple
APIs.

Change-Id: I2339a36b45166a24825882e3e35dd00a2dfb6b27
"
openstack%2Fcinder~master~I0830319f4e2011b87180abcc24354c935bea8d16,openstack/cinder,master,bp/common-rpc,I0830319f4e2011b87180abcc24354c935bea8d16,Add missing gettextutils from openstack-common.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:41:46.000000000,34,1,0,9910,84b7025547455d1f83d0fc20c7b9de0a3291f9e6,23,6,4,2,1247,Mark McLoughlin,markmc,"Add missing gettextutils from openstack-common.

This patch adds gettextutils from openstack-common to cinder.  It is used
by rpc, so some parts of rpc are broken without this patch.

Change-Id: I0830319f4e2011b87180abcc24354c935bea8d16
"
openstack%2Fcinder~master~I7354ca51a02aec9c709cf33f77d4abc46acc2742,openstack/cinder,master,bp/common-rpc,I7354ca51a02aec9c709cf33f77d4abc46acc2742,Use save_and_reraise_exception() from common.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:41:59.000000000,66,40,0,9909,1b3cbc537ee1b69940cfb3a5d5b408db13df266d,22,6,4,6,1247,Mark McLoughlin,markmc,"Use save_and_reraise_exception() from common.

This patch common.excutils from openstack-common, which includes
save_and_reraise_exception().  The patch also converts the code
base to use it from there instead of cinder.utils and then removes
it from cinder.utils.

The initial motivation for this was removing another cinder dependency
from cinder.rpc so that it can eventually be moved to openstack-common.

Change-Id: I7354ca51a02aec9c709cf33f77d4abc46acc2742
"
openstack%2Fcinder~master~Id128126e0bc064a2a1c710c6bd32fb3d137dc7f6,openstack/cinder,master,bp/common-rpc,Id128126e0bc064a2a1c710c6bd32fb3d137dc7f6,Use openstack.common.cfg.CONF.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:42:27.000000000,14,39,0,9907,0f362edeb03177c12a65b9587d13df7aac76a2f7,23,5,4,11,1247,Mark McLoughlin,markmc,"Use openstack.common.cfg.CONF.

Part of blueprint common-rpc.

This patch makes the rpc code use the global config object from
openstack-common.  Based on some recent discussions on the mailing list,
this may not be the final way configuration handling is done here, but
it is certainly better than the register_opts() hack that is removed by
this patch.

Change-Id: Id128126e0bc064a2a1c710c6bd32fb3d137dc7f6
"
openstack%2Fcinder~master~I17ca4b691bb8d4f18e618632a2381dd12d31852a,openstack/cinder,master,bp/common-rpc,I17ca4b691bb8d4f18e618632a2381dd12d31852a,Remove cinder.log usage from cinder.rpc.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:44:28.000000000,4,4,0,9905,8f1d99d6942538622c737b791007cecdf9248d8a,26,5,4,3,1247,Mark McLoughlin,markmc,"Remove cinder.log usage from cinder.rpc.

Part of blueprint common-rpc.

This patch removes the usage of cinder.log from cinder.rpc.  This is
necessary before cinder.rpc can be moved to openstack-common.  The rpc
logging was not using any of the extra features provided in cinder.log as
far as I can tell, so the changes are very simple.

This is the final dependency.  After this change, the rpc code
can be moved to openstack-common without any changes.

Change-Id: I17ca4b691bb8d4f18e618632a2381dd12d31852a
"
openstack%2Fcinder~master~I9e6ec0d22e55d3d4f38e12e0fdd2df745da496f5,openstack/cinder,master,bp/common-rpc,I9e6ec0d22e55d3d4f38e12e0fdd2df745da496f5,Remove cinder.context dependency from cinder.rpc,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:46:32.000000000,51,8,0,9904,d916746ae9f656f6feda9d806c1ea45853e2efa3,26,5,4,3,1247,Mark McLoughlin,markmc,"Remove cinder.context dependency from cinder.rpc

Part of blueprint common-rpc.

This patch removes the usage of cinder.context from cinder.rpc.  Everything
needed to implement RpcContext now exists within cinder.rpc.

Change-Id: I9e6ec0d22e55d3d4f38e12e0fdd2df745da496f5
"
openstack%2Fcinder~master~I474c3660e1cbd3ab663571b1e088c84deb905e0b,openstack/cinder,master,bp/common-rpc,I474c3660e1cbd3ab663571b1e088c84deb905e0b,Localize rpc options to rpc code.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:47:03.000000000,39,105,0,9903,2daf95464f18e57edd0409413142f18b11a7745b,23,6,3,5,1247,Mark McLoughlin,markmc,"Localize rpc options to rpc code.

Part of blueprint common-rpc.

Move rpc options from cinder.flags into cinder.rpc code.  This is necessary
before the rpc code can be moved to openstack-common.

Change-Id: I474c3660e1cbd3ab663571b1e088c84deb905e0b
"
openstack%2Fcinder~master~Ibd0292936f9afc77aeb5d040660bfa857861eed1,openstack/cinder,master,bp/common-rpc,Ibd0292936f9afc77aeb5d040660bfa857861eed1,Add version to scheduler rpc API.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:48:08.000000000,192,76,0,9902,863b6afe12fb409f4866299bb7c975db7c2ad72e,23,7,3,6,1247,Mark McLoughlin,markmc,"Add version to scheduler rpc API.

Part of blueprint versioned-rpc-apis.

One side effect of this change was that cinder.scheduler.api was removed
in favor of cinder.scheduler.rpcapi.  In this case, the api was just a
direct wrapper around rpc usage.  For other APIs, I've been following
the pattern that the rpcapi module provides the rpc client wrapper, and
if any other client-side logic is needed, that's where an api module is
used.

Change-Id: Ibd0292936f9afc77aeb5d040660bfa857861eed1
"
openstack%2Fcinder~master~I58c7b2100b594f5f261c089d674f449a1a7d067b,openstack/cinder,master,bp/common-rpc,I58c7b2100b594f5f261c089d674f449a1a7d067b,Sync cfg and iniparser from openstack-common.,MERGED,2012-07-16 21:13:10.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:51:25.000000000,77,36,0,9870,ec6e9e4fde537eedb25946734b07297ba6c63c94,21,5,3,2,1247,Mark McLoughlin,markmc,"Sync cfg and iniparser from openstack-common.

Cherry picks af387b9, cb6bf34 and c6c29ab from Nova.

This change pulls in the latest version of the cfg module from
openstack-common includes some formatting changes, spelling fixes,
support for bol/eol spaces in values and support for deprecated
options.

Change-Id: I58c7b2100b594f5f261c089d674f449a1a7d067b
"
openstack%2Fcinder~master~If213a4a5da1faf96aac82f34b18d1e0b061495c0,openstack/cinder,master,bp/common-rpc,If213a4a5da1faf96aac82f34b18d1e0b061495c0,Use cfg's new global CONF object,MERGED,2012-07-16 21:13:10.000000000,2012-07-19 16:51:44.000000000,2012-07-19 16:51:43.000000000,211,189,0,9869,e435bca7181240b3a4e4a9a81a21266ba9a6f3e7,22,5,3,11,1247,Mark McLoughlin,markmc,"Use cfg's new global CONF object

Cherry picks 00786bc from Nova.

Implements blueprint cfg-global-object

Replace cinder.flags.FLAGS with openstack.common.cfg.CONF.

In future, we can do a s/FLAGS/CONF/ across the codebase.

Change-Id: If213a4a5da1faf96aac82f34b18d1e0b061495c0
"
openstack%2Fcinder~master~I9c2f6bdbe8cd0c44417f75284131dbf3c126d1dd,openstack/cinder,master,bp/common-rpc,I9c2f6bdbe8cd0c44417f75284131dbf3c126d1dd,Use rpc from openstack-common.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 16:51:43.000000000,2012-07-19 16:40:16.000000000,1396,1749,0,9911,15f971de5bce79648f812209df0f82622a3711d0,22,5,4,36,1247,Mark McLoughlin,markmc,"Use rpc from openstack-common.

Final patch for blueprint common-rpc.

This patch removes cinder.rpc in favor of the copy in openstack-common.

Change-Id: I9c2f6bdbe8cd0c44417f75284131dbf3c126d1dd
"
openstack%2Fcinder~master~I4b16577f774194a628bf84d5352e63ec1f868698,openstack/cinder,master,bp/common-rpc,I4b16577f774194a628bf84d5352e63ec1f868698,Make use of openstack.common.jsonutils.,MERGED,2012-07-17 04:19:33.000000000,2012-07-19 16:49:14.000000000,2012-07-19 16:49:14.000000000,156,196,0,9890,64306e87b38483c00e5055f246294f081e1f0a5b,23,6,4,7,1247,Mark McLoughlin,markmc,"Make use of openstack.common.jsonutils.

This patch imports jsonutils from openstack-common.  It removes the
equivalent code from cinder.utils and then converts the code base to use
jsonutils.  The primary motivator for this change was to remove the rest
of the dependencies from cinder.rpc on cinder.utils.

Change-Id: I4b16577f774194a628bf84d5352e63ec1f868698
"
openstack%2Fpbr~master~If4cb36c013f254180ce014355ba3de33391b993c,openstack/pbr,master,10022,If4cb36c013f254180ce014355ba3de33391b993c,"Revert ""Don't use pbr for pbr.""",MERGED,2012-07-19 16:23:57.000000000,2012-07-19 16:37:01.000000000,2012-07-19 16:37:01.000000000,1,17,0,10024,219c115af591d3d78676681526565fc6b424989a,6,2,1,1,2,Monty Taylor,mordred,"Revert ""Don't use pbr for pbr.""

This reverts commit 5e4b10cf1ec7b499718dd826c230e4fbc6b27fe6

Change-Id: If4cb36c013f254180ce014355ba3de33391b993c
"
openstack%2Fpbr~master~I419264f9bd62c205e012195e697910425c8bb322,openstack/pbr,master,,I419264f9bd62c205e012195e697910425c8bb322,"Revert ""Don't use pbr for pbr.""",ABANDONED,2012-07-19 16:20:48.000000000,2012-07-19 16:25:01.000000000,,4,14,0,10022,419264f9bd62c205e012195e697910425c8bb322,2,1,1,1,2,Monty Taylor,mordred,"Revert ""Don't use pbr for pbr.""

This reverts commit 5e4b10cf1ec7b499718dd826c230e4fbc6b27fe6"
openstack%2Fpbr~master~Icec186793b2314b90ac57efa4b2aa8873381bfff,openstack/pbr,master,,Icec186793b2314b90ac57efa4b2aa8873381bfff,"Revert ""Move dependency processing to version hook.""",MERGED,2012-07-19 16:16:59.000000000,2012-07-19 16:22:05.000000000,2012-07-19 16:22:05.000000000,6,13,0,10021,cec186793b2314b90ac57efa4b2aa8873381bfff,5,2,1,2,2,Monty Taylor,mordred,"Revert ""Move dependency processing to version hook.""

This reverts commit 5390ac82aa1b9704065d52b397cb5d383f47654f"
openstack%2Fpbr~master~Ib2b8e77662286fd4f86e9ccc55680cccc8ce349b,openstack/pbr,master,master,Ib2b8e77662286fd4f86e9ccc55680cccc8ce349b,Don't use pbr for pbr.,MERGED,2012-07-18 13:52:24.000000000,2012-07-19 16:20:48.000000000,2012-07-18 14:03:02.000000000,14,4,0,9964,5e4b10cf1ec7b499718dd826c230e4fbc6b27fe6,8,2,2,1,2,Monty Taylor,mordred,"Don't use pbr for pbr.

It turns out, that when you setup_requires pbr from another package, it gets
installed via easy_install instead of via pip. easy_install, craptastic
pile of vomit and excrement that it is, can't manage to process the entry
points in the package it's installing while installing it, so you always
wind up with pbr version=="""". Sigh.

Change-Id: Ib2b8e77662286fd4f86e9ccc55680cccc8ce349b
"
openstack%2Fpbr~master~I24bd04799eb82ef24c74f6e1540d020c89e2b7f2,openstack/pbr,master,master,I24bd04799eb82ef24c74f6e1540d020c89e2b7f2,Removed declared depends from pbr.,MERGED,2012-07-19 16:16:39.000000000,2012-07-19 16:20:44.000000000,2012-07-19 16:20:44.000000000,0,4,0,10020,4935321bf509ede8b03dd7950bdaebdc339648e3,5,2,1,1,2,Monty Taylor,mordred,"Removed declared depends from pbr.

It messes up the injection of entry points.

Change-Id: I24bd04799eb82ef24c74f6e1540d020c89e2b7f2
"
openstack%2Fpbr~master~I2abc9fbdb4dc86032a3d6653869ac93a6aa15883,openstack/pbr,master,master,I2abc9fbdb4dc86032a3d6653869ac93a6aa15883,Move dependency processing to version hook.,MERGED,2012-07-18 19:02:17.000000000,2012-07-19 16:16:59.000000000,2012-07-18 19:14:32.000000000,13,6,0,9973,5390ac82aa1b9704065d52b397cb5d383f47654f,8,2,2,2,2,Monty Taylor,mordred,"Move dependency processing to version hook.

Change-Id: I2abc9fbdb4dc86032a3d6653869ac93a6aa15883
"
openstack%2Fcinder~master~I28c1a095823c2f04f30c32724144297a2d67fba4,openstack/cinder,master,bp/cinder-common-jsonutils,I28c1a095823c2f04f30c32724144297a2d67fba4,Convert Cinder to use openstack-common jsonutils.,MERGED,2012-07-17 13:12:18.000000000,2012-07-19 14:57:40.000000000,2012-07-19 14:57:39.000000000,39,62,10,9912,2f7feffc64ac435846fb9ee6c467ce128f66b20d,15,6,4,12,2759,Huang Zhiteng,zhiteng-huang,"Convert Cinder to use openstack-common jsonutils.

This patch replaces json handling code in Cinder with openstack-common
jsonutils.  Also remove some unused imports.

Implement blueprint cinder-common-jsonutils

Change-Id: I28c1a095823c2f04f30c32724144297a2d67fba4
Reviewed-on: https://review.openstack.org/9912
Reviewed-by: Mark McLoughlin <markmc@redhat.com>
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~I0370293807f0282e1dbdd59246f70be031e888a9,openstack/cinder,master,bp/common-rpc,I0370293807f0282e1dbdd59246f70be031e888a9,Add missing ack to impl_qpid.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 14:57:40.000000000,2012-07-19 14:57:39.000000000,10,1,0,9908,a5d16cfb8d6d953d2a9689ddc855cade604e1e9b,14,5,3,2,1247,Mark McLoughlin,markmc,"Add missing ack to impl_qpid.

Fix bug 1012374.

Johannes Erdfelt pointed out that impl_qpid wasn't acking messages that
it received.  This turned out to be a nasty oversight, resulting in
unbounded message queue growth inside of the python-qpid library.  This
fixes it.

Change-Id: I0370293807f0282e1dbdd59246f70be031e888a9
Reviewed-on: https://review.openstack.org/9908
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~If92675beecff5471b416a929c161b810e3c71939,openstack/cinder,master,bp/common-rpc,If92675beecff5471b416a929c161b810e3c71939,Move queue_get_for() from db to rpc.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 14:57:40.000000000,2012-07-19 14:57:39.000000000,29,40,0,9906,22a9da3cc4b0cc17d8d3483b95dc57ed43bf0ecb,10,5,3,7,1247,Mark McLoughlin,markmc,"Move queue_get_for() from db to rpc.

Part of blueprint common-rpc.

The function queue_get_for() is a utility function used by various
consumers of the rpc API.  This function lived in the db API, but never
ended up using anything from the database.  This patch moves it into the
rpc API so that it can be used by other users of rpc once it moves into
openstack-common.

Change-Id: If92675beecff5471b416a929c161b810e3c71939
Reviewed-on: https://review.openstack.org/9906
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~Ie17fe855a75b5021b031902aa86031d8ddc06dfd,openstack/cinder,master,sync-cfg-changes,Ie17fe855a75b5021b031902aa86031d8ddc06dfd,Sync with latest version of openstack.common.cfg,MERGED,2012-07-16 21:13:10.000000000,2012-07-19 14:57:40.000000000,2012-07-19 14:57:39.000000000,90,18,0,9867,d211eba148f2ec401dadd62114b9a2ea2c95f11a,21,7,3,2,1247,Mark McLoughlin,markmc,"Sync with latest version of openstack.common.cfg

Cherry picks c1bf456 from Nova.

Changes since last sync:

 - Alphabetize imports in openstack/common/cfg.py
 - make reset() clear defaults and overrides
 - automatically create option groups
 - allow options to be marked as required
 - use a list comprehension instead of map()

Change-Id: Ie17fe855a75b5021b031902aa86031d8ddc06dfd
Reviewed-on: https://review.openstack.org/9867
Approved: James E. Blair <corvus@inaugust.com>
Reviewed-by: James E. Blair <corvus@inaugust.com>
Tested-by: James E. Blair <corvus@inaugust.com>
"
openstack%2Fcinder~master~I07bd82e9ff60c356123950e466caaffdfce79eba,openstack/cinder,master,bp/common-rpc,I07bd82e9ff60c356123950e466caaffdfce79eba,Add base support for rpc API versioning.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 14:57:39.000000000,2012-07-19 14:57:39.000000000,550,20,0,9901,14a30e0b829a24e21d9c547d2e3fd773b1eab675,11,5,2,11,1247,Mark McLoughlin,markmc,"Add base support for rpc API versioning.

Part of blueprint versioned-rpc-apis.

This commit includes the base support for versioned RPC APIs.  It
introduces the RpcProxy and RpcDispatcher classes that have common code
for handling versioning on the client and server sides, respectively.

RPC APIs will be converted one at a time using this infrastructure.

Change-Id: I07bd82e9ff60c356123950e466caaffdfce79eba
Reviewed-on: https://review.openstack.org/9901
Reviewed-by: Huang Zhiteng <zhiteng.huang@intel.com>
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~I06831a37f8c857bbfd0bce1b1c3aeda7d341a589,openstack/cinder,master,bp/common-rpc,I06831a37f8c857bbfd0bce1b1c3aeda7d341a589,Make kombu support optional for running unit tests.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 14:57:39.000000000,2012-07-19 14:57:38.000000000,77,17,0,9900,c044d3c1f6541b4f7d504e9375eb13efdd36e5a2,13,6,2,3,1247,Mark McLoughlin,markmc,"Make kombu support optional for running unit tests.

Fix bug 838386.

Previously, the unit tests required kombu to be installed to run.  This
patch makes it so the unit tests will still complete successfully, even
if kombu is not installed.

Change-Id: I06831a37f8c857bbfd0bce1b1c3aeda7d341a589
Reviewed-on: https://review.openstack.org/9900
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~I36ff7c05ab0467ad8506b56d561c532eadf8dff8,openstack/cinder,master,bp/common-rpc,I36ff7c05ab0467ad8506b56d561c532eadf8dff8,Stop using cinder.exception from cinder.rpc.,MERGED,2012-07-17 12:19:22.000000000,2012-07-19 14:57:39.000000000,2012-07-19 14:57:38.000000000,29,10,0,9899,9e4242c3865da976928ecd43ef82030ac8bfc8cf,13,6,2,3,1247,Mark McLoughlin,markmc,"Stop using cinder.exception from cinder.rpc.

This patch is a part of continuing to remove dependencies from cinder.rpc
on the rest of cinder.  One RPC related exception was defined in
cinder.exception, so that was moved to cinder.rpc.common where the rest of
them live.  These exceptions were changed to no longer use CinderException
as their base.  Instead, there is a new RPCException base.

One other change that should be reviewed closely is the removal of using
cinder.exception.wrap_exception() in cinder.rpc.amqp.  As far as I can tell,
this didn't actually do anything since nothing was being passed in to
wrap_exception().

Change-Id: I36ff7c05ab0467ad8506b56d561c532eadf8dff8
Reviewed-on: https://review.openstack.org/9899
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~I6211c32f585b1b5ff66d1a7a5f65dd25857d76f0,openstack/cinder,master,bp/common-rpc,I6211c32f585b1b5ff66d1a7a5f65dd25857d76f0,Remove unused synchronization decorator,MERGED,2012-07-17 03:58:54.000000000,2012-07-19 14:57:39.000000000,2012-07-19 14:57:38.000000000,0,547,0,9888,4ab214a35ff84f12d09713737aac801fb0256282,18,5,3,7,1247,Mark McLoughlin,markmc,"Remove unused synchronization decorator

This is only used on the compute and network side in Nova.

Change-Id: I6211c32f585b1b5ff66d1a7a5f65dd25857d76f0
Reviewed-on: https://review.openstack.org/9888
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~Ie2f4cd8b6f5fc66547a59d39aa3d5eb896b1ddf4,openstack/cinder,master,sync-cfg-changes,Ie2f4cd8b6f5fc66547a59d39aa3d5eb896b1ddf4,Remove 'cinder-manage config convert',MERGED,2012-07-16 21:13:10.000000000,2012-07-19 14:57:39.000000000,2012-07-19 14:57:38.000000000,0,396,0,9871,362576f268e87cb53eb5c5f3dbb46b1768d73dae,14,5,3,4,1247,Mark McLoughlin,markmc,"Remove 'cinder-manage config convert'

This convers the old flagfile style config files into the the
new .ini style config files. Since Cinder is new and it's first
release will only support .ini style files there's no need for
such a command.

Change-Id: Ie2f4cd8b6f5fc66547a59d39aa3d5eb896b1ddf4
Reviewed-on: https://review.openstack.org/9871
Reviewed-by: Huang Zhiteng <zhiteng.huang@intel.com>
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fcinder~master~I5e14dea25afd5bff03a39671b2d3b85481977bec,openstack/cinder,master,sync-cfg-changes,I5e14dea25afd5bff03a39671b2d3b85481977bec,Use cfg's new behavior of reset() clearing overrides,MERGED,2012-07-16 21:13:10.000000000,2012-07-19 14:57:39.000000000,2012-07-19 14:57:38.000000000,20,24,0,9868,f07d38bca4ca26edb6f68d4183656b2e87a6c7fc,11,5,2,4,1247,Mark McLoughlin,markmc,"Use cfg's new behavior of reset() clearing overrides

Cherry-picks b858108 from Nova.

Change-Id: I5e14dea25afd5bff03a39671b2d3b85481977bec
Reviewed-on: https://review.openstack.org/9868
Reviewed-by: Huang Zhiteng <zhiteng.huang@intel.com>
Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
Approved: John Griffith <john.griffith@solidfire.com>
Tested-by: Jenkins
"
openstack%2Fnova~master~Ieac171e1a2bce1f5542ae73f3d8f6b7a5ccfa8f7,openstack/nova,master,lookup_by_name,Ieac171e1a2bce1f5542ae73f3d8f6b7a5ccfa8f7,Use _lookup_by_name instead of _conn.lookupByName,MERGED,2012-07-12 19:53:48.000000000,2012-07-19 11:54:59.000000000,2012-07-19 11:54:58.000000000,7,7,0,9740,186d5636df4ebe063f61de0b34ad55739e0bc09a,14,8,1,1,1711,Yun Mao,yunmao,"Use _lookup_by_name instead of _conn.lookupByName

use the helper function instead of the libvirt call directly
to allow NovaExceptions instead of libvirt exceptions to be thrown.

Change-Id: Ieac171e1a2bce1f5542ae73f3d8f6b7a5ccfa8f7
"
openstack%2Fheat~master~Ice17c23997150db8c52c50767ed94fce8b182d4b,openstack/heat,master,master,Ice17c23997150db8c52c50767ed94fce8b182d4b,convert to float instead of int in the watch rule,MERGED,2012-07-19 11:19:50.000000000,2012-07-19 11:19:50.000000000,2012-07-19 11:19:50.000000000,13,13,0,10005,8ced4770697bf87d96554391778bbf3585ddbbee,11,3,2,1,4715,Angus Salkeld,asalkeld,"convert to float instead of int in the watch rule

as the data sent from the guests are likely to be floats.

Change-Id: Ice17c23997150db8c52c50767ed94fce8b182d4b
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fneutron~master~Ie4112b841c1e42408cdb539c2b87446c596e92ba,openstack/neutron,master,bug/1025127,Ie4112b841c1e42408cdb539c2b87446c596e92ba,Provide way to specify id in models_v2,MERGED,2012-07-19 10:17:46.000000000,2012-07-19 10:17:46.000000000,2012-07-19 10:17:46.000000000,23,0,2,9893,659d0ba03a076bdacc141069ee4837ac5bc1ccc8,23,8,5,1,4395,Aaron Rosen,arosen,"Provide way to specify id in models_v2

Bug #1025127

Change-Id: Ie4112b841c1e42408cdb539c2b87446c596e92ba
"
openstack%2Fcinder~master~I1a11e8fd6a56b2336457f7df178c2b3c187246c3,openstack/cinder,master,sync-cfg-changes,I1a11e8fd6a56b2336457f7df178c2b3c187246c3,Pass 'cinder' project into ConfigOpts,MERGED,2012-07-16 21:13:09.000000000,2012-07-19 08:11:24.000000000,2012-07-19 08:11:23.000000000,2,0,0,9864,9929f2b2a152f34e24366f5f0afbc071ff40833f,12,7,1,1,1247,Mark McLoughlin,markmc,"Pass 'cinder' project into ConfigOpts

Cherry-picks fb96f7d from Nova.

Change-Id: I1a11e8fd6a56b2336457f7df178c2b3c187246c3
"
openstack%2Fcinder~master~Id5a0ffabf7c6eab0bbda1b130a39a6581b26e350,openstack/cinder,master,sync-cfg-changes,Id5a0ffabf7c6eab0bbda1b130a39a6581b26e350,Remove old flagfile support,MERGED,2012-07-16 21:13:10.000000000,2012-07-19 08:11:23.000000000,2012-07-18 17:14:56.000000000,16,49,0,9866,da97aa46d8210abf848520c06a29638f925c42ed,12,6,1,10,1247,Mark McLoughlin,markmc,"Remove old flagfile support

Cherry-picks 7e3e9b8 from Nova.

Change-Id: Id5a0ffabf7c6eab0bbda1b130a39a6581b26e350
"
openstack%2Fcinder~master~If283dd7c4feba69c07bd483acd14f45c2659b743,openstack/cinder,master,sync-cfg-changes,If283dd7c4feba69c07bd483acd14f45c2659b743,Misused and not used config options,MERGED,2012-07-16 21:13:10.000000000,2012-07-19 08:11:23.000000000,2012-07-18 16:42:50.000000000,8,8,0,9865,78918b8861f11d0145f8cc7310ece6ec8535c6e5,12,6,1,4,1247,Mark McLoughlin,markmc,"Misused and not used config options

Cherry picks dc9c3cb from Nova.

Fixes bug #1000071

[nova.api.sizelimit.py]
osapi_max_request_body_size: BoolOpt -> IntOpt

[nova.rpc.__init__.py]
allowed_rpc_exception_modules: IntOpt -> ListOpt

[nova.volume.driver.py]
num_shell_tries: StrOpt -> IntOpt
num_iscsi_scan_tries: StrOpt -> IntOpt

[nova.volume.driver.py]
san_thin_provision: 'true' -> True
san_is_local: 'false' -> False

Change-Id: If283dd7c4feba69c07bd483acd14f45c2659b743
"
openstack%2Fkeystone~master~I60c6cd4b772652ed5212d70aabc0577d89e1c952,openstack/keystone,master,bug/966251,I60c6cd4b772652ed5212d70aabc0577d89e1c952,Added user name validation. Fixes bug 966251.,ABANDONED,2012-04-03 07:14:55.000000000,2012-07-19 07:48:28.000000000,,82,3,1,6140,5175b237ab420b1fd37d46991b7557c306d7f7cb,29,8,3,6,1633,unmesh-gurjar,unmesh-gurjar,"Added user name validation. Fixes bug 966251.

1. Verified name length while creating/updating user.
2. Disallowed blank user name in create/update.
3. Added unit test coverage.

Change-Id: I60c6cd4b772652ed5212d70aabc0577d89e1c952
"
openstack%2Fopenstack-manuals~master~I8bdb1b9ebdbc4b92a8e9a3143e8ed5d4724ac264,openstack/openstack-manuals,master,used-limits-ext,I8bdb1b9ebdbc4b92a8e9a3143e8ed5d4724ac264,Add documentation for recently added os-used-limits extension.,MERGED,2012-07-16 18:35:32.000000000,2012-07-19 07:37:29.000000000,2012-07-19 07:37:28.000000000,117,0,0,9858,2f5802068702cb66aacbc20e56f4de7addbd3feb,7,3,2,3,177,Alex Meade,alex-meade,"Add documentation for recently added os-used-limits extension.

The os-used-limits extension adds information for limits that have been used so
far to the /limits GET response.

The ext was added in this patch: https://review.openstack.org/#/c/9544/

Change-Id: I8bdb1b9ebdbc4b92a8e9a3143e8ed5d4724ac264
"
openstack%2Ftempest~master~I33c3bebc715c3000abfe718e00fc808db7241b48,openstack/tempest,master,bug/1020073,I33c3bebc715c3000abfe718e00fc808db7241b48,Fixes Bug #1020073  New tests for rate limits,ABANDONED,2012-07-02 12:44:53.000000000,2012-07-19 06:03:01.000000000,,554,0,12,9220,3c1ffbb43f4ea801c830c1a23ce93be5af8ec278,11,4,3,3,2174,Sapan Kona,sapan-kona,"Fixes Bug #1020073  New tests for rate limits

Change-Id: I33c3bebc715c3000abfe718e00fc808db7241b48
"
openstack%2Fpython-glanceclient~master~I2d230318cbd676425bede0289a928f8aedb244f5,openstack/python-glanceclient,master,master,I2d230318cbd676425bede0289a928f8aedb244f5,add glance bash-completion,ABANDONED,2012-06-28 08:44:51.000000000,2012-07-19 06:03:01.000000000,,55,0,0,9098,a86862ee685481ffa571e2229f074fa1be82969a,6,3,1,2,4200,Dominik Heidler,dheidler,"add glance bash-completion

Change-Id: I2d230318cbd676425bede0289a928f8aedb244f5
"
openstack%2Fneutron~master~I337042ae418b518268acd30c26ef02559887a8be,openstack/neutron,master,bug/1023649,I337042ae418b518268acd30c26ef02559887a8be,Ensures policy file is reloaded only if updated.,MERGED,2012-07-19 04:49:54.000000000,2012-07-19 04:49:54.000000000,2012-07-19 04:49:54.000000000,238,4,8,9692,b7501f2be1f423755b1fef56d9e79561215ff673,25,7,4,3,261,Salvatore Orlando,salvatore-orlando,"Ensures policy file is reloaded only if updated.

Fixes bug 1023649

The fix is 'inspired' (ie: copied) from nova. It is cached in memory unless a
change in policy file is detected. In that case, a reload is triggered.

This patch also adds a set of unit tests for quantum/policy.py, which was
previously not covered.

Change-Id: I337042ae418b518268acd30c26ef02559887a8be
"
openstack%2Fpython-neutronclient~master~I85c1e79c2cd08bcc0112ed2f10ca8210e9384687,openstack/python-neutronclient,master,bug/1023260,I85c1e79c2cd08bcc0112ed2f10ca8210e9384687,"Use -h, --help to show help messages.",MERGED,2012-07-19 00:28:52.000000000,2012-07-19 00:28:52.000000000,2012-07-19 00:28:52.000000000,1,1,0,9626,463121305619a24001ba80be4ed899de148ccb75,13,4,3,1,841,Akihiro Motoki,amotoki,"Use -h, --help to show help messages.

Fixes bug 1023260
""quantumv2"" command used '-H' and '--Help' to show help messages,
but it is inconsistent to the convention of option names used in
other OpenStack client lib commands. This commit fixes it.

Change-Id: I85c1e79c2cd08bcc0112ed2f10ca8210e9384687
"
openstack%2Fnova~master~I2bc42783c5bb92a32d7c3b0f5efab32a2e2f8fb6,openstack/nova,master,filter-notimplemented,I2bc42783c5bb92a32d7c3b0f5efab32a2e2f8fb6,"Raise NotImplementedError, not NotImplemented singleton",MERGED,2012-07-18 21:50:36.000000000,2012-07-19 00:12:39.000000000,2012-07-19 00:12:38.000000000,1,1,0,9991,9d76b6f9f7b0430cbc368da927d5caed53f1e0c4,9,6,1,1,100,Johannes Erdfelt,johannes.erdfelt,"Raise NotImplementedError, not NotImplemented singleton

NotImplementedError is for exceptions, NotImplemented is an error
singleton

Change-Id: I2bc42783c5bb92a32d7c3b0f5efab32a2e2f8fb6
"
openstack%2Fnova~master~I74fc6aae9a615be7cefb1cf07755764df1af957a,openstack/nova,master,bp/xenapi-live-migration,I74fc6aae9a615be7cefb1cf07755764df1af957a,Partially implements blueprint xenapi-live-migration,MERGED,2012-07-09 14:27:00.000000000,2012-07-19 00:01:40.000000000,2012-07-19 00:01:39.000000000,247,5,3,9513,8b667215e82ffb32ace5df6a12dff7ece42e2b82,43,9,12,4,782,John Garbutt,johngarbutt,"Partially implements blueprint xenapi-live-migration

This is dependent on refactoring of libvirt live migration.

Enables live migration using xenapi:
* works when both hosts are part of the same aggregate
* assumes shared storage is configured as the default SR

Limitations in this version:
* only works for images that don't have an external
  ramdisk/kernel

Change-Id: I74fc6aae9a615be7cefb1cf07755764df1af957a
"
openstack%2Fopenstack-manuals~master~Ie30087d5f606a4231b8b3c7899d95630c1a85c48,openstack/openstack-manuals,master,disqusid-ha,Ie30087d5f606a4231b8b3c7899d95630c1a85c48,Adds new Disqus id openstack-ha-guide for the High Availability Guide.,MERGED,2012-07-18 23:36:03.000000000,2012-07-18 23:45:32.000000000,2012-07-18 23:45:32.000000000,2,2,0,9996,f1fcedaf91e6375e7757d54aad3a31ea82d5d5a9,3,2,1,1,964,Anne Gentle,annegentle,"Adds new Disqus id openstack-ha-guide
for the High Availability Guide.

Change-Id: Ie30087d5f606a4231b8b3c7899d95630c1a85c48
"
openstack%2Fnova~master~I7a1a392754eed42e8d31b7931da4e4bc506d2beb,openstack/nova,master,forceHost,I7a1a392754eed42e8d31b7931da4e4bc506d2beb,Remove old force_host hack.,ABANDONED,2012-07-17 23:55:07.000000000,2012-07-18 23:11:38.000000000,,2,43,2,9949,756138e15ea35df44185be96620c627e291d0f41,11,7,2,3,1849,Joe Gordon,jogo,"Remove old force_host hack.

The same functionality is in the SameHostFilter

Change-Id: I7a1a392754eed42e8d31b7931da4e4bc506d2beb
"
openstack%2Fnova~master~I6796b027058fa72480a59298784855124c06edd9,openstack/nova,master,master,I6796b027058fa72480a59298784855124c06edd9,change metadata_host to metadata_host_ip,ABANDONED,2012-06-29 00:11:31.000000000,2012-07-18 23:08:57.000000000,,5,5,0,9153,eddddc8fd370447dc3bdec101025835dd34d03ef,10,7,1,3,1699,Matt Joyce,matt-nycresistor,"change metadata_host to metadata_host_ip

Change-Id: I6796b027058fa72480a59298784855124c06edd9
"
openstack%2Fnova~master~Ib608ba06215e0ab8be23cbd32c284420b5230dba,openstack/nova,master,bp/no-db-messaging,Ib608ba06215e0ab8be23cbd32c284420b5230dba,Rename get_lock() to _get_lock().,MERGED,2012-07-17 20:38:21.000000000,2012-07-18 22:19:30.000000000,2012-07-18 22:19:29.000000000,5,4,0,9933,3fd5b61d892b2690f24a0e6948c9d306885066b8,15,7,2,2,1561,Russell Bryant,russellb,"Rename get_lock() to _get_lock().

This patch changes get_lock() to _get_lock() in the compute manager.
This method is not used via rpc, so this name change helps clarify that
it is (at least currently) an internal-only function.  Marking it as
such allows the method signature to be changed without updating the RPC
API version and having to maintain backwards compatibility.

Related to blueprint no-db-messaging.

Change-Id: Ib608ba06215e0ab8be23cbd32c284420b5230dba
"
openstack%2Fnova~master~I0a3f0d99529b18d613f8fdb5fafa2d0307a66d86,openstack/nova,master,not_impl,I0a3f0d99529b18d613f8fdb5fafa2d0307a66d86,Fix the mis-use of NotImplemented,MERGED,2012-07-18 21:22:43.000000000,2012-07-18 22:19:01.000000000,2012-07-18 22:19:00.000000000,30,30,1,9987,8e2460ea5785fe3e97d2aa6fa4ba21e6867a8a47,11,5,2,1,1711,Yun Mao,yunmao,"Fix the mis-use of NotImplemented

An exception object NotImplementedError() should be raised instead
of NotImplemented.

Change-Id: I0a3f0d99529b18d613f8fdb5fafa2d0307a66d86
"
openstack%2Fnova~stable%2Fessex~I71ec995c77bc447bfc9221084b057bd8d69a4513,openstack/nova,stable/essex,,I71ec995c77bc447bfc9221084b057bd8d69a4513,Distinguish over-quota for volume size and number.,MERGED,2012-07-05 15:08:06.000000000,2012-07-18 22:18:59.000000000,2012-07-18 22:18:58.000000000,105,39,8,9371,19631f3b4708443486950b602b6b95d13d6d7e74,20,6,4,4,2284,Eoghan Glynn,eglynn,"Distinguish over-quota for volume size and number.

Fixes LP 1020634

Ensure that exceeding the allowed number of volumes is not
mis-represented in log messages and exception handling as
excessive space usage.

Change-Id: I71ec995c77bc447bfc9221084b057bd8d69a4513
"
openstack%2Fpbr~master~I5ea9c571f381e10cbffaef76fd13f4705360a009,openstack/pbr,master,master,I5ea9c571f381e10cbffaef76fd13f4705360a009,We don't actually setup require pbr.,MERGED,2012-07-18 22:02:35.000000000,2012-07-18 22:07:59.000000000,2012-07-18 22:07:59.000000000,0,1,0,9992,b748795ff59c62d6b370bf2a2fdb5848e3021d61,5,2,1,1,2,Monty Taylor,mordred,"We don't actually setup require pbr.

This causes CRAZY infinite recursion problems. I think.

Change-Id: I5ea9c571f381e10cbffaef76fd13f4705360a009
"
openstack%2Fswift~master~I4a597eaf2b16b5b2cfc7fd706ac024357e9af2c2,openstack/swift,master,fix-mng-utest,I4a597eaf2b16b5b2cfc7fd706ac024357e9af2c2,"Fix wrong assert in manager unit test, self._assert(len(m.servers), 4) don't check that number of servers equal 4.",MERGED,2012-07-18 21:24:05.000000000,2012-07-18 21:43:05.000000000,2012-07-18 21:43:05.000000000,1,1,0,9989,31ff3da485d50ed67567ccee8479f1a21acc534a,6,3,1,1,2401,Victor Rodionov,vito-ordaz,"Fix wrong assert in manager unit test, self._assert(len(m.servers), 4)
don't check that number of servers equal 4.

Change-Id: I4a597eaf2b16b5b2cfc7fd706ac024357e9af2c2
"
openstack%2Fglance~master~Iac6fc506b1d36b18ab21bb956ec2d8acc004bba8,openstack/glance,master,bug/1025756,Iac6fc506b1d36b18ab21bb956ec2d8acc004bba8,Replace example.com with localhost for some tests,MERGED,2012-07-18 09:28:36.000000000,2012-07-18 20:47:30.000000000,2012-07-18 20:47:30.000000000,10,10,0,9957,251c5e588a168d4aae406e28d2c8da1e307f4275,10,5,2,2,455,Stuart McLaren,stuart-mclaren,"Replace example.com with localhost for some tests

Fix for LP Bug #1025756.

When running the unit tests on a system without a
direct internet connection some tests run slowly.
Replacing example.com with localhost:0 speeds up
the relevant tests.

Change-Id: Iac6fc506b1d36b18ab21bb956ec2d8acc004bba8
"
openstack%2Fdevstack~master~I85ff413fd3276e99040cc407715a04f8b65e31d6,openstack/devstack,master,tempest,I85ff413fd3276e99040cc407715a04f8b65e31d6,Make sure we supply the config file to glance-manage,ABANDONED,2012-07-18 19:25:40.000000000,2012-07-18 20:42:24.000000000,,1,1,0,9974,833e2f78f815f9e0ad6e2377d134c53e44266835,2,1,1,1,7,Jay Pipes,jaypipes,"Make sure we supply the config file to glance-manage

Without supplying the --config-file arg to glance-manage,
by default glance-manage defaults to look in /etc/glance/
for a config file. We don't want that -- we want to supply
the config file generated by stack.sh.

Change-Id: I85ff413fd3276e99040cc407715a04f8b65e31d6
"
openstack%2Fglance~master~I2e73810e3165dd8b7032359b5fb8a874e592736f,openstack/glance,master,bug/1026072,I2e73810e3165dd8b7032359b5fb8a874e592736f,Fix registry error message and exception contents,MERGED,2012-07-18 11:09:13.000000000,2012-07-18 19:30:38.000000000,2012-07-18 19:30:38.000000000,1,1,0,9960,35d865a48cbeb7b21ff68b74c39dde6639469c74,6,3,1,1,1706,Tom Hancock,tom-hancock,"Fix registry error message and exception contents

The variable image_id should have been used instead of the global
identifier id

Fixes LP Bug #1026072

Change-Id: I2e73810e3165dd8b7032359b5fb8a874e592736f
"
openstack%2Fpbr~master~Ia00ab526e225e844e66281404efe1dfb62401d1f,openstack/pbr,master,master,Ia00ab526e225e844e66281404efe1dfb62401d1f,"Depend on >=0.4, not >0.4.",MERGED,2012-07-18 19:02:17.000000000,2012-07-18 19:14:02.000000000,2012-07-18 19:14:02.000000000,1,1,0,9972,e8b30afb71369ad09371c6c41ddff79bfcc1b734,5,2,1,1,2,Monty Taylor,mordred,"Depend on >=0.4, not >0.4.

Change-Id: Ia00ab526e225e844e66281404efe1dfb62401d1f
"
openstack%2Fnova~master~Ie37880f63b7595ae3dd2f3b23c6c3097dac2f57c,openstack/nova,master,bug/1024986,Ie37880f63b7595ae3dd2f3b23c6c3097dac2f57c,Display key_name only if keypairs extension is used,MERGED,2012-07-12 19:27:56.000000000,2012-07-18 18:45:40.000000000,2012-07-18 18:45:39.000000000,76,12,11,9736,26dbf7d03875e10b13d644bc75f21069cf27a671,26,6,4,4,4463,iccha-sethi,iccha-sethi,"Display key_name only if keypairs extension is used

GET /servers/xxx will display the key_name only if the keypairs extension is
being used.

Fixes bug 1024986

Change-Id: Ie37880f63b7595ae3dd2f3b23c6c3097dac2f57c
"
openstack%2Fnova~master~I6a758dd683f70a0d006d5aa2840fcc2cb3243297,openstack/nova,master,bug/1025294,I6a758dd683f70a0d006d5aa2840fcc2cb3243297,Show all absolute quota limits in /limits.,MERGED,2012-07-16 14:57:07.000000000,2012-07-18 18:45:36.000000000,2012-07-18 18:45:35.000000000,12,3,0,9851,fafd1f1651907b9c57a8b944ea70f350e1b244a6,12,5,2,2,177,Alex Meade,alex-meade,"Show all absolute quota limits in /limits.

This change adds currently missing absolute limits to the /limits response.

Fixes bug 1025294

Change-Id: I6a758dd683f70a0d006d5aa2840fcc2cb3243297
"
openstack%2Fdevstack~master~I1b3e48e94786378c7313a0a6bea88d5cf9d0f0c0,openstack/devstack,master,tools-info,I1b3e48e94786378c7313a0a6bea88d5cf9d0f0c0,Update info.sh,MERGED,2012-07-09 19:48:32.000000000,2012-07-18 18:45:33.000000000,2012-07-18 18:45:32.000000000,60,113,0,9542,a9e0a488cf72431aabc972f7aac76abb56aaba02,8,4,2,3,970,Dean Troyer,dtroyer,"Update info.sh

* Works properly on Fedora 17 now, possibly other RPM-based distros
* Add GetDistro() function taken from logic in stack.sh
* Source functions in tools/info.sh
* Use GetDistro() and get_packages() in tools/info.sh
* Report all installed pips
* Don't sort localrc output as order is important

Change-Id: I1b3e48e94786378c7313a0a6bea88d5cf9d0f0c0
"
openstack%2Fglance~master~I522e2210e2b7272f9bb47602510a2910fa193415,openstack/glance,master,bug/1026222,I522e2210e2b7272f9bb47602510a2910fa193415,Match path_info in image cache middleware,MERGED,2012-07-18 16:38:58.000000000,2012-07-18 18:45:04.000000000,2012-07-18 18:45:04.000000000,36,3,0,9970,dc2f241c115507f8e5c4e7841739f2b8303943e2,9,4,1,2,1132,Brian Waldon,bcwaldon,"Match path_info in image cache middleware

The url matching code in the image cache middleware should only look at
the unconsumed path, not the full path. Webob denotes this by using
'path_info' instead of 'path.'

This also adds some tests for the version negotiation middleware to ensure
it is returning a sane path for the image cache middleware to match.

Fixes bug 1026222

Change-Id: I522e2210e2b7272f9bb47602510a2910fa193415
"
openstack%2Fnova~master~Icd776edd1d7b9987833167dcf04015109ffc7c17,openstack/nova,master,pep81.2,Icd776edd1d7b9987833167dcf04015109ffc7c17,Update tools hacking for pep8 1.2 and beyond,ABANDONED,2012-07-10 00:02:29.000000000,2012-07-18 18:20:22.000000000,,10,8,0,9569,c1cb7f9869fc64a9eef82f0c62159e07d44fdf50,11,4,1,3,1849,Joe Gordon,jogo,"Update tools hacking for pep8 1.2 and beyond

Based on https://github.com/jcrocholl/pep8/commit/b9f72b16011aac981ce9e3a47fd0ffb1d3d2e085

Change-Id: Icd776edd1d7b9987833167dcf04015109ffc7c17
"
openstack%2Fnova~master~I1f7c6203ffbe0248c7ef9e95a231c05a0113a347,openstack/nova,master,master,I1f7c6203ffbe0248c7ef9e95a231c05a0113a347,Remove unused get_version_from_href(),MERGED,2012-07-18 08:09:16.000000000,2012-07-18 18:17:05.000000000,2012-07-18 18:17:04.000000000,0,38,0,9955,3bfbbcacb0b07837c39b4da009fca315209a07bb,9,6,1,2,1247,Mark McLoughlin,markmc,"Remove unused get_version_from_href()

This is unused since edf3e39c remove the v1.0 API.

Change-Id: I1f7c6203ffbe0248c7ef9e95a231c05a0113a347
"
openstack%2Fcinder~master~Ic5e9e317a95a7399f0604823eec76b3642a0c1b1,openstack/cinder,master,bp/cinder-common-timeutils,Ic5e9e317a95a7399f0604823eec76b3642a0c1b1,Convert Cinder to use openstack-common timeutils,MERGED,2012-07-13 08:28:45.000000000,2012-07-18 17:32:54.000000000,2012-07-18 17:32:54.000000000,45,216,2,9757,519bd2451d8b3aff6661d18e340b8f31a69e1091,8,6,1,14,2759,Huang Zhiteng,zhiteng-huang,"Convert Cinder to use openstack-common timeutils

This patch is part of effort to get Cinder to use openstack-common
package.  This part is to replace time related functions in utils.py
with 'timeutils' module.

Implement blueprint cinder-common-timeutils

Change-Id: Ic5e9e317a95a7399f0604823eec76b3642a0c1b1
"
openstack%2Fcinder~master~If9852d0431093d590252bb704e934a4a56ef0263,openstack/cinder,master,sync-cfg-changes,If9852d0431093d590252bb704e934a4a56ef0263,Sync to newer openstack.common.cfg,MERGED,2012-07-16 21:13:09.000000000,2012-07-18 16:53:15.000000000,2012-07-18 16:53:15.000000000,163,43,0,9863,cba45833120ef03fb355f0c8399cd62fc80ef2ac,8,5,1,1,1247,Mark McLoughlin,markmc,"Sync to newer openstack.common.cfg

Cherry picks e0d891e from Nova.

Changes since last sync are:

 * New ConfigOpts.find_file() for locating conf files
 * Support for directory source of config files
 * Provide file extension when when looking for files
 * Some refactoring of the cfg cache
 * Add caching to openstack.common.cfg

Change-Id: If9852d0431093d590252bb704e934a4a56ef0263
"
openstack%2Fneutron~master~Iaa694cbfe3c518a5cd3951271853fe986106e7f5,openstack/neutron,master,bug/1015148,Iaa694cbfe3c518a5cd3951271853fe986106e7f5,Add validity checks to Quantum v2 resources,MERGED,2012-07-18 16:39:53.000000000,2012-07-18 16:39:53.000000000,2012-07-18 16:39:53.000000000,270,78,27,9894,4605dff64fb2fac764e58baf397f2e6811216ec4,22,6,4,6,1653,garyk,garyk,"Add validity checks to Quantum v2 resources

Fixes bug 1015148

The code enable defining validity checks for input variables. This
is done via callback functions per type. The following types are supported:
    - type:values - checks that data is valid according to a list of values
    - type:mac_address - checks that data is a valid mac address
    - type:ip_address - checks that data is a valid ip address
    - type:subnet - checks that data is a valid cidr
    - type:regex - checks that data matches a regular expression (for
      example checking UUID validity)

Change-Id: Iaa694cbfe3c518a5cd3951271853fe986106e7f5
"
openstack%2Fnova~master~I0b3d18d7922f2ad1bc687fa88e2f5d4cf5aa068b,openstack/nova,master,,I0b3d18d7922f2ad1bc687fa88e2f5d4cf5aa068b,Support EC2 CreateImage API for boot-from-volume,MERGED,2012-07-12 18:37:05.000000000,2012-07-18 16:03:33.000000000,2012-07-18 16:03:33.000000000,87,16,3,9732,8600394ec4dd4f800d774e4ed0c24fe087d8e1d3,27,6,4,2,2284,Eoghan Glynn,eglynn,"Support EC2 CreateImage API for boot-from-volume

Fixes bug lp 988335

For fidelity with AWS, where the EC2 CreateImage API is only
supported for EBS-backed instances, we now support this API
for booted-from-volume nova servers.

We create a ""place-holder"" image in glance with the image data
being effectively empty, and the following properties set:

  * the imaged instance's kernel and ramdisk IDs
  * block device mapping containing the appropriate snapshot ID(s)

so that we can boot from this image without providing additional
context (such as via the nova boot --block-device-mapping option)

Change-Id: I0b3d18d7922f2ad1bc687fa88e2f5d4cf5aa068b
"
openstack%2Fnova~master~I6fd9e3b45aad36056882e8cef12b90bb8d7aea7b,openstack/nova,master,bug/1021417,I6fd9e3b45aad36056882e8cef12b90bb8d7aea7b,Info log to see which compute driver has loaded,MERGED,2012-07-05 18:10:08.000000000,2012-07-18 15:54:19.000000000,2012-07-18 15:54:18.000000000,1,0,3,9390,6dd53cf4970ffb08fe961e72b78a5c170c536b62,21,8,4,1,2537,Nikhil Komawar,nikhil-komawar,"Info log to see which compute driver has loaded

Adding this log will help keep track if the
intended compute driver has loaded or it has been
misconfigured.

fixes bug 1021417

Change-Id: I6fd9e3b45aad36056882e8cef12b90bb8d7aea7b
"
openstack%2Fglance~master~I2095ad16fef6b4bc8e49229c9f0326da8c743ff7,openstack/glance,master,bp/glance-request-tracking,I2095ad16fef6b4bc8e49229c9f0326da8c743ff7,Use openstack.common.log to log request id,MERGED,2012-07-12 05:18:56.000000000,2012-07-18 14:50:46.000000000,2012-07-18 14:50:46.000000000,9,8,2,9701,a0689d2b458bb1145ec9b8c17ee09ccfcc32d139,18,7,2,4,1132,Brian Waldon,bcwaldon,"Use openstack.common.log to log request id

* Log request id from the request context for glance-api
  and glance-registry
* Further integrate with the common log module by storing RequestContext
  objects in thread-local storage so loggers can acces their attributes
* Move request id formatting into the request module so it appears with
  the preferred prefix (req-) in logs
* Implement bp glance-request-tracking

Change-Id: I2095ad16fef6b4bc8e49229c9f0326da8c743ff7
"
openstack%2Foslo-incubator~master~I22d2a94d89530586d614af39af17ae542c5e0cbf,openstack/oslo-incubator,master,bug/1019348,I22d2a94d89530586d614af39af17ae542c5e0cbf,"fix bug lp:1019348,update openstack-common to support pep8 1.3.",MERGED,2012-07-18 14:49:29.000000000,2012-07-18 14:49:29.000000000,2012-07-18 14:49:29.000000000,111,109,13,9201,d5f2152dcfc4039de8324bdf75f6a2cd844dbdd0,42,9,10,16,1313,Yaguang Tang,heut2008,"fix bug lp:1019348,update openstack-common to support pep8 1.3.

also,this patch turns off pep8 E125 check.

Change-Id: I22d2a94d89530586d614af39af17ae542c5e0cbf
"
openstack%2Fnova~master~Ia1a93400dc24455fe91fdf4283eb32bcca4037cf,openstack/nova,master,bug/1025912,Ia1a93400dc24455fe91fdf4283eb32bcca4037cf,Fixes XenAPI driver import in vm_vdi_cleaner,MERGED,2012-07-17 21:55:11.000000000,2012-07-18 14:29:37.000000000,2012-07-18 14:29:36.000000000,2,3,0,9936,216467b3454bca97106463957da88290f8a47fa7,9,5,2,1,1030,Chris Behrens,cbehrens,"Fixes XenAPI driver import in vm_vdi_cleaner

xenapi/connection.py was renamed xenapi/driver.py, it appears, but
vm_vdi_cleaner was not updated.

Also removed unused optparse import.

Fixes bug 1025912

Change-Id: Ia1a93400dc24455fe91fdf4283eb32bcca4037cf
"
openstack%2Fnova~master~Ic0b04953f27467dfa479dc94582a4c2d3480f53d,openstack/nova,master,remove_obsolete_line_in_host_manager,Ic0b04953f27467dfa479dc94582a4c2d3480f53d,Remove obsolete line in host_manager,MERGED,2012-07-18 11:54:16.000000000,2012-07-18 14:23:19.000000000,2012-07-18 14:23:19.000000000,0,1,0,9963,f1bca04333684c0b462042d902f49aa92587b9f1,7,4,1,1,2245,Jacky Hu,hudayou,"Remove obsolete line in host_manager

Change-Id: Ic0b04953f27467dfa479dc94582a4c2d3480f53d
"
openstack%2Fnova~stable%2Fessex~I565eda78f6c468cf6bd227756cfc068725069218,openstack/nova,stable/essex,bug/1004298,I565eda78f6c468cf6bd227756cfc068725069218,fix libvirt get_memory_mb_total() with xen,MERGED,2012-07-10 19:52:46.000000000,2012-07-18 14:14:42.000000000,2012-07-18 14:14:41.000000000,2,14,0,9606,835ba4f23eb32c69aaeb1da590a297565b60388d,13,8,2,1,2697,Jim Fehlig,jfehlig,"fix libvirt get_memory_mb_total() with xen

Fixes bug 1004298 in stable/essex.

Commit 5b93a576 failed to remove the 'staticmethod'
decorator from the method, to allow it to access
object variables.

Also there is no need to have the libvirt getInfo() call
be xen specific.  In the LXC/QEMU/UML drivers this call
uses GNULIB's physmem module, which is cross-OS portable.

Change-Id: I565eda78f6c468cf6bd227756cfc068725069218
(cherry picked from commit 78352b98a96946145bec9010872d8f2769691ac2)
"
openstack%2Fheat~master~Ia7e1a83043f8d175e320bfd52aa64cb6f62ead90,openstack/heat,master,gh161-fix-template-validation,Ia7e1a83043f8d175e320bfd52aa64cb6f62ead90,Don't require user params on template validation,MERGED,2012-07-18 11:58:09.000000000,2012-07-18 11:58:09.000000000,2012-07-18 11:58:09.000000000,23,15,0,9722,466e9983d0c855b03b64227c607fdd7125f3ae8c,9,3,3,2,4330,Tomas Sedovic,tomas-8c8,"Don't require user params on template validation

Fixes #161

Change-Id: Ia7e1a83043f8d175e320bfd52aa64cb6f62ead90
Signed-off-by: Tomas Sedovic <tomas@sedovic.cz>
"
openstack%2Fheat~master~Ia122af8d53b49587ade0ead6897fdd10107f4a87,openstack/heat,master,url-length-monkeypatch,Ia122af8d53b49587ade0ead6897fdd10107f4a87,Use eventlet's wsgi again,MERGED,2012-07-18 11:54:43.000000000,2012-07-18 11:54:43.000000000,2012-07-18 11:54:43.000000000,14,9,0,9961,6029c031eac1ca8cdf833300d79de49717ecb137,5,2,1,4,4330,Tomas Sedovic,tomas-8c8,"Use eventlet's wsgi again

Ref #55

This adds a monkey patch for the eventlet's maximum url length issue (ref #18).
With it, we can use eventlet as our wsgi server again.

Once Eventlet releases a new version (the fix is already in master) we'll drop
the monkey patch and set the limit proper.

Change-Id: Ia122af8d53b49587ade0ead6897fdd10107f4a87
Signed-off-by: Tomas Sedovic <tomas@sedovic.cz>
"
openstack%2Fnova~master~Ibf6e6e3b9807f29dccd31006515df550bf9bf57b,openstack/nova,master,metadata-versions,Ibf6e6e3b9807f29dccd31006515df550bf9bf57b,Make metadata content match the requested version of the metadata API.,MERGED,2012-07-01 09:33:40.000000000,2012-07-18 10:36:16.000000000,2012-07-18 10:36:15.000000000,58,25,1,9205,29b1b4c79360e550cc89a9736dee56576aa5b972,12,5,2,2,4571,Steve Baker,steve-stevebaker,"Make metadata content match the requested version of the metadata API.

Currently the same metadata is returned no matter what metadata
version is requested. Metadata is currently implemented to version
2009-04-04 (apart from existing TODOs) as defined here:
http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/instancedata-data-categories.html

This change adds version checking conditionals throughout
get_ec2_metadata and only includes the metadata if the requested version
should contain it.

When there is a difference between Amazon API implementation and documentation
I've gone with replicating the implementation. So far differences include:
- undocumented hostname introduced in 1.0, deprecated in favour of
  local-hostname
- kernel-id and ramdisk-id seem have to been implemented in 2007-12-15,
  not 2008-02-01 as documented

get_ec2_metadata has also been reordered so that data is added oldest to
newest by API version. In a future change I may attempt to add
unimplemented API versions (2011-01-01, 2012-06-01).

Change-Id: Ibf6e6e3b9807f29dccd31006515df550bf9bf57b
"
openstack%2Fnova~master~Ib51f0da8641c035371e09047de9abe3cb83203e9,openstack/nova,master,bug/1017765,Ib51f0da8641c035371e09047de9abe3cb83203e9,Sync jsonutils from openstack-common.,MERGED,2012-07-16 17:51:43.000000000,2012-07-18 10:22:13.000000000,2012-07-18 10:22:13.000000000,19,13,0,9857,12e663a8b0b253970e3bccd373d3d2f3d462f6b6,8,5,1,3,1561,Russell Bryant,russellb,"Sync jsonutils from openstack-common.

In addition to the following changes from openstack-common, this patch
includes some tweak to nova unit tests.  timeutils.strtime() will raise
an exception if the year in a datetime object is before 1900.

Changes from openstack-common:

    commit ce3071437d1871f77c4d8573cbe5f4ea8c817650
    Author: Russell Bryant <rbryant@redhat.com>
    Date:   Mon Jul 16 10:30:25 2012 -0400

        Use strtime() in to_primitive() for datetime objs.

        This patch updates jsonutils.to_primitive() to use timeutils.strtime()
        to convert a datimetime object to a string instead of just using str().
        This ensures that we can easily convert the string back to a datetime
        using timeutils.parse_strtime().

        Required for the nova blueprint no-db-messaging.

    commit 4c9d439ef24f5afdd74aa9153aa8fc772051e6cb
    Author: Tim Daly Jr <timjr@yahoo-inc.com>
    Date:   Tue Jun 26 02:48:42 2012 +0000

        Add 'filedecoder' method to the jsonutils wrapper module.

        Fixes bug #1017765

        After version 3.3.2, the anyjson library will throw a KeyError if
        filedecoder isn't present.  The filedecoder is just like the decoder
        except it takes a file instead of a string, like json.load() instead
        of json.loads().

Change-Id: Ib51f0da8641c035371e09047de9abe3cb83203e9
"
openstack%2Fdevstack~master~I26ed1a1e73eee24da78580eda3b13e5d3eb65361,openstack/devstack,master,bug/1021150,I26ed1a1e73eee24da78580eda3b13e5d3eb65361,Don't setup swift3 if it's not being used.,MERGED,2012-07-16 21:30:49.000000000,2012-07-18 07:50:25.000000000,2012-07-17 19:58:13.000000000,2,0,0,9873,3b73df764686b592f84ea6da1d5f0c1ca37f2fed,7,3,1,1,1,James E. Blair,corvus,"Don't setup swift3 if it's not being used.

""setup_develop"" was still being called for swift3, even if it's
not in enabled services.  This wraps that call in an
""is_service_enbled"" conditional so that stack.sh doesn't attempt
to set it up if it's not enabled.

- Fixes bug 1021150.

Change-Id: I26ed1a1e73eee24da78580eda3b13e5d3eb65361
"
