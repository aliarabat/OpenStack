id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fcharm-masakari~stable%2F19.07~I1b04065ca9767c3d5f57558e2683949550e2aad7,openstack/charm-masakari,stable/19.07,19.07-updates,I1b04065ca9767c3d5f57558e2683949550e2aad7,Pin stable charm to ``charms.openstack`` stable branch,ABANDONED,2019-08-14 06:06:46.000000000,2020-04-18 09:35:12.000000000,,12,3,0,676341,3236936ea37752a437cb98ea3b2436895cda7755,22,4,4,4,13686,Frode Nordahl,fnordahl,"Pin stable charm to ``charms.openstack`` stable branch

Update stable charm URL for ``masakari-monitors``

Change-Id: I1b04065ca9767c3d5f57558e2683949550e2aad7
"
openstack%2Fcharm-masakari-monitors~stable%2F19.07~Ida8723d83cae5e9dc6570dd971fccda75071ac10,openstack/charm-masakari-monitors,stable/19.07,19.07-updates,Ida8723d83cae5e9dc6570dd971fccda75071ac10,Pin stable charm to ``charms.openstack`` stable branch,ABANDONED,2019-08-14 06:02:36.000000000,2020-04-18 09:35:00.000000000,,14,5,0,676333,dd5426f53771dc149d8ee361e8b760d5afe82d33,24,4,4,6,13686,Frode Nordahl,fnordahl,"Pin stable charm to ``charms.openstack`` stable branch

Update stable charm URL for ``masakari`` and ``pacemaker-remote``.

Change-Id: Ida8723d83cae5e9dc6570dd971fccda75071ac10
"
openstack%2Fcharm-octavia-diskimage-retrofit~master~I02894fc4d07f32961491004a0550bc2d54c188ca,openstack/charm-octavia-diskimage-retrofit,master,stable-branch-update,I02894fc4d07f32961491004a0550bc2d54c188ca,Updates for stable branch creation,ABANDONED,2019-07-23 16:06:39.000000000,2020-04-18 09:34:49.000000000,,21,21,0,672324,74b1af393ce1356c28a1e036ac36f9261d11fe96,6,3,1,5,13686,Frode Nordahl,fnordahl,"Updates for stable branch creation

Change-Id: I02894fc4d07f32961491004a0550bc2d54c188ca
"
openstack%2Fcharm-masakari-monitors~master~Id81b699c544cc572c511e1a233e24048d201d420,openstack/charm-masakari-monitors,master,update-func-defs,Id81b699c544cc572c511e1a233e24048d201d420,Update functional test definitions,ABANDONED,2019-07-17 13:36:47.000000000,2020-04-18 09:34:38.000000000,,199,1,0,671296,c798f53458cd1b7594f3adb4fb18696434eb5911,7,3,1,2,13686,Frode Nordahl,fnordahl,"Update functional test definitions

Change-Id: Id81b699c544cc572c511e1a233e24048d201d420
"
openstack%2Fcharm-octavia-diskimage-retrofit~master~I0962229bf65c46696421ec7f9db9e98c36108a69,openstack/charm-octavia-diskimage-retrofit,master,,I0962229bf65c46696421ec7f9db9e98c36108a69,Select snap channel at build time,ABANDONED,2019-07-17 08:59:23.000000000,2020-04-18 09:34:18.000000000,,18,0,0,671217,f9508ac8e1c85c1e626fc0f0efb032ca7e4e21d8,7,3,2,2,13686,Frode Nordahl,fnordahl,"Select snap channel at build time

Infer snap channel from current branch at build time.

Change-Id: I0962229bf65c46696421ec7f9db9e98c36108a69
"
openstack%2Fcharm-ceph-osd~master~If185d6d004865793f42d2ad9ae6bf0da55e511df,openstack/charm-ceph-osd,master,dist-charm-deps,If185d6d004865793f42d2ad9ae6bf0da55e511df,[TEST] ch-sync with https://github.com/juju/charm-helpers/pull/341,ABANDONED,2019-06-26 16:23:39.000000000,2020-04-18 09:34:08.000000000,,297,30,0,667673,ead7cfb7ffe13b5bfc3663a71720938ad7b45302,31,3,6,8,13686,Frode Nordahl,fnordahl,"[TEST] ch-sync with https://github.com/juju/charm-helpers/pull/341

Change-Id: If185d6d004865793f42d2ad9ae6bf0da55e511df
"
openstack%2Fcharm-ceph-radosgw~master~I33cbe9b36f10cfde340b79107aebf8beda6ed4e9,openstack/charm-ceph-radosgw,master,enable-stein,I33cbe9b36f10cfde340b79107aebf8beda6ed4e9,Enable bionic/stein and disco/stein functional tests,ABANDONED,2019-04-09 05:40:03.000000000,2020-04-18 09:33:58.000000000,,162,0,0,651094,2464f0de51b1b51647f9f4b38699c0e637389399,11,4,1,4,13686,Frode Nordahl,fnordahl,"Enable bionic/stein and disco/stein functional tests

Change-Id: I33cbe9b36f10cfde340b79107aebf8beda6ed4e9
"
openstack%2Fcharm-openstack-dashboard~master~I076c9eb74ef1e73aea99301f6db4ab041c9cd789,openstack/charm-openstack-dashboard,master,enable-stein,I076c9eb74ef1e73aea99301f6db4ab041c9cd789,Enable bionic/stein and disco/stein functional tests,ABANDONED,2019-04-09 04:33:22.000000000,2020-04-18 09:33:49.000000000,,48,0,0,651072,012480d6fdfe143050212819f0999c2bace62d63,8,3,1,2,13686,Frode Nordahl,fnordahl,"Enable bionic/stein and disco/stein functional tests

Change-Id: I076c9eb74ef1e73aea99301f6db4ab041c9cd789
"
openstack%2Fcharm-gnocchi~master~If366098f3eea95cec9b530c21a121b4a01321bc2,openstack/charm-gnocchi,master,bug/1813582,If366098f3eea95cec9b530c21a121b4a01321bc2,Perform tests with packages from proposed pocket,ABANDONED,2019-02-04 11:30:16.000000000,2020-04-18 09:33:32.000000000,,6,2,0,634671,9f9052d2092f48baff663a58b76928407d151b72,38,4,5,1,13686,Frode Nordahl,fnordahl,"Perform tests with packages from proposed pocket

This change should be reverted as soon as the SRU in the linked
bug is complete for both Bionic distro and bionic-rocky UCA.

Change-Id: If366098f3eea95cec9b530c21a121b4a01321bc2
Related-Bug: #1813582
"
openstack%2Fcharm-neutron-openvswitch~master~Ib11914a098977c861b8b41f23f40966ed0ef543d,openstack/charm-neutron-openvswitch,master,zaza,Ib11914a098977c861b8b41f23f40966ed0ef543d,[WIP] Migrate tests to Zaza,ABANDONED,2018-11-08 15:37:01.000000000,2020-04-18 09:33:05.000000000,,88,697,0,616588,a30af1e2b8ae589498b08c2dae88dd488705a675,10,3,2,15,13686,Frode Nordahl,fnordahl,"[WIP] Migrate tests to Zaza

First test is for validating the LXD profile.

Change-Id: Ib11914a098977c861b8b41f23f40966ed0ef543d
Depends-On: https://github.com/openstack-charmers/zaza/pull/153
"
openstack%2Fwatcher~master~I7bf782ac1aa2ff404bef180d9ff37ffcfb29001a,openstack/watcher,master,r6,I7bf782ac1aa2ff404bef180d9ff37ffcfb29001a,Remove six[6],MERGED,2020-04-16 08:15:27.000000000,2020-04-18 09:28:33.000000000,2020-04-18 09:26:36.000000000,1,3,0,720391,0ff8248f913f53df0771c9a86495d5b765b6517a,10,4,1,1,28748,chenker,chenke,"Remove six[6]

Change-Id: I7bf782ac1aa2ff404bef180d9ff37ffcfb29001a
"
openstack%2Fwatcher~master~Id952d00e689c1077d741c742175be06778af6ec1,openstack/watcher,master,re,Id952d00e689c1077d741c742175be06778af6ec1,Remove six[2],MERGED,2020-04-16 08:05:11.000000000,2020-04-18 09:27:24.000000000,2020-04-18 09:25:59.000000000,1,2,0,720385,591e4a8f3808787f3a92fc36ba0183b1b08f188f,10,3,1,1,28748,chenker,chenke,"Remove six[2]

Change-Id: Id952d00e689c1077d741c742175be06778af6ec1
"
openstack%2Fwatcher~master~I27b341cb8f48313bd2aad6b7996cd9cbbad94217,openstack/watcher,master,r5,I27b341cb8f48313bd2aad6b7996cd9cbbad94217,Remove six[5],MERGED,2020-04-16 08:13:33.000000000,2020-04-18 09:26:35.000000000,2020-04-18 09:26:35.000000000,1,2,0,720390,bf2caf8b1d714bb1c3a0580a0315ad4b10c2a195,9,3,1,1,28748,chenker,chenke,"Remove six[5]

Change-Id: I27b341cb8f48313bd2aad6b7996cd9cbbad94217
"
openstack%2Fwatcher~master~I3026b5d3eb20f71d4218873646c69d8328db054d,openstack/watcher,master,r4,I3026b5d3eb20f71d4218873646c69d8328db054d,Remove six[4],MERGED,2020-04-16 08:10:53.000000000,2020-04-18 09:26:34.000000000,2020-04-18 09:26:34.000000000,14,22,0,720387,6a6dbc14911574a8ae3fbd97f4ac0802e591c30c,9,3,1,8,28748,chenker,chenke,"Remove six[4]

Change-Id: I3026b5d3eb20f71d4218873646c69d8328db054d
"
openstack%2Fwatcher~master~I92535c69f7055a7431ff14d3b9722149950e7f91,openstack/watcher,master,re,I92535c69f7055a7431ff14d3b9722149950e7f91,Remove six[3],MERGED,2020-04-16 08:06:08.000000000,2020-04-18 09:26:33.000000000,2020-04-18 09:26:33.000000000,3,7,0,720386,244e02c3d5361ba5163f0ab27a52bea99ecb6bec,9,3,1,1,28748,chenker,chenke,"Remove six[3]

Change-Id: I92535c69f7055a7431ff14d3b9722149950e7f91
"
openstack%2Fwatcher~master~I2738db925d650af5921b77d0315ec0a8d4ee985b,openstack/watcher,master,r1,I2738db925d650af5921b77d0315ec0a8d4ee985b,Remove six[1],MERGED,2020-04-16 08:00:54.000000000,2020-04-18 09:25:58.000000000,2020-04-18 09:24:34.000000000,1,3,0,720382,4bf59cfe5199a13a0506b1cf40fc12f24423e5cc,10,4,1,1,28748,chenker,chenke,"Remove six[1]

Change-Id: I2738db925d650af5921b77d0315ec0a8d4ee985b
"
openstack%2Fpuppet-cinder~master~Idaa1c767e8cab645567b920dc9d377abf509ec54,openstack/puppet-cinder,master,provider-credentials,Idaa1c767e8cab645567b920dc9d377abf509ec54,Refer keystone_authtoken to find credentials,MERGED,2020-04-14 11:10:48.000000000,2020-04-18 09:19:21.000000000,2020-04-18 09:19:21.000000000,11,10,0,719914,29e221fe55236031d9d47d62ca9588b391aae6da,29,4,4,1,9816,Takashi Kajinami,kajinamit,"Refer keystone_authtoken to find credentials

... because api/os_region_name is not set since [1].
This patch also fixes incorrect lookup about domain parameters.

This patch also removes useless and incorrect handling about keystone
version, so that domain parameters are correctly set.

[1] c2d618cae70ba1be7dd8496ce7665ac3abaf8775

Change-Id: Idaa1c767e8cab645567b920dc9d377abf509ec54
"
openstack%2Fcloudkitty~master~I052944e5881bb86b5a90c5e918713ea6395ed934,openstack/cloudkitty,master,dnm-constraints,I052944e5881bb86b5a90c5e918713ea6395ed934,DNM: Test lower-constraints 4,ABANDONED,2020-04-17 16:29:22.000000000,2020-04-18 08:57:21.000000000,,2,1,0,720775,d0c7a0918acd974417bd632a41108255315c5808,3,1,1,1,6547,Andreas Jaeger,jaegerandi,"DNM: Test lower-constraints 4

Use
pip install -U {opts} {packages}

Change-Id: I052944e5881bb86b5a90c5e918713ea6395ed934
"
openstack%2Fcloudkitty~master~Ia429de5d9e4b7d3ad46b00d539b3dd194e7acc8f,openstack/cloudkitty,master,dnm-constraints,Ia429de5d9e4b7d3ad46b00d539b3dd194e7acc8f,DNM: Testing lower-constraints 3,ABANDONED,2020-04-17 16:08:18.000000000,2020-04-18 08:57:15.000000000,,1,2,0,720770,1157ab810b4cd3beb80cad247eab760fbf87512c,3,1,1,1,6547,Andreas Jaeger,jaegerandi,"DNM: Testing lower-constraints 3

Now removing install_command and use the default

Change-Id: Ia429de5d9e4b7d3ad46b00d539b3dd194e7acc8f
"
openstack%2Fcloudkitty~master~Icaf25e3cb3fc5fde9be6be5790ba5b6889acffa9,openstack/cloudkitty,master,dnm-constraints,Icaf25e3cb3fc5fde9be6be5790ba5b6889acffa9,DNM: Testing lower-constraints 2,ABANDONED,2020-04-17 16:06:51.000000000,2020-04-18 08:57:10.000000000,,5,4,0,720768,2223170b368e559e9f021e1be359dbca273ae891,4,1,2,1,6547,Andreas Jaeger,jaegerandi,"DNM: Testing lower-constraints 2

Move constraints from install_command into deps

Change-Id: Icaf25e3cb3fc5fde9be6be5790ba5b6889acffa9
"
openstack%2Fcloudkitty~master~I43c3c01d5e95d74098115cf402123b7066036366,openstack/cloudkitty,master,dnm-constraints,I43c3c01d5e95d74098115cf402123b7066036366,DNM: Testing lower-constraints 1,ABANDONED,2020-04-17 16:06:12.000000000,2020-04-18 08:57:04.000000000,,3,20,0,720767,be6a8c8dbdb3400541423231be56a9b4afc5a601,3,1,1,2,6547,Andreas Jaeger,jaegerandi,"DNM: Testing lower-constraints 1

Let's see how broken our lower-constraints are.

Change-Id: I43c3c01d5e95d74098115cf402123b7066036366
"
openstack%2Ftripleo-heat-templates~master~I20445402dd7397a817566f8fa9ec244a41982351,openstack/tripleo-heat-templates,master,deprecate-sahara,I20445402dd7397a817566f8fa9ec244a41982351,Deprecate Sahara support,MERGED,2020-04-13 11:40:18.000000000,2020-04-18 07:56:20.000000000,2020-04-18 07:54:36.000000000,13,8,0,719438,f1d9b15c85fd1ed2250d40cea8184a18f458234f,34,5,4,6,9816,Takashi Kajinami,kajinamit,"Deprecate Sahara support

Change-Id: I20445402dd7397a817566f8fa9ec244a41982351
"
openstack%2Ftripleo-heat-templates~master~I35db3bd8270f662768304fbe0147c3b04cf23574,openstack/tripleo-heat-templates,master,ironic-region_name,I35db3bd8270f662768304fbe0147c3b04cf23574,Add missing region_name for ironic access from nova,MERGED,2020-04-08 13:05:19.000000000,2020-04-18 07:54:39.000000000,2020-04-18 07:54:39.000000000,5,0,0,718435,58790161db5dec6ed81502e80e132e30b26e443b,32,6,2,1,9816,Takashi Kajinami,kajinamit,"Add missing region_name for ironic access from nova

Depends-on: https://review.opendev.org/#/c/718432/
Change-Id: I35db3bd8270f662768304fbe0147c3b04cf23574
"
openstack%2Fpuppet-tripleo~master~I821e09c36ef9e2ba652f871eda3dd780822dd895,openstack/puppet-tripleo,master,remove-tripleo-ui,I821e09c36ef9e2ba652f871eda3dd780822dd895,Remove remaining implementation for TripleO UI,MERGED,2020-04-07 13:21:04.000000000,2020-04-18 07:54:34.000000000,2020-04-18 07:54:34.000000000,0,26,0,718106,53e7252db48ce2b65b3d8bd9e6e0b370dfc3197e,51,7,2,1,9816,Takashi Kajinami,kajinamit,"Remove remaining implementation for TripleO UI

TripleO UI was alreday retired, so cleanup all implementation for it.

Change-Id: I821e09c36ef9e2ba652f871eda3dd780822dd895
"
openstack%2Fpython-novaclient~stable%2Fussuri~I0e3bdf426c1716fd996e64e386136440d30dd0ce,openstack/python-novaclient,stable/ussuri,create-ussuri,I0e3bdf426c1716fd996e64e386136440d30dd0ce,Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-04-11 10:48:50.000000000,2020-04-18 07:46:17.000000000,2020-04-18 07:44:42.000000000,4,4,0,719165,694b95e334f091a1752cfcd8d44146561fa32e33,24,6,3,1,22816,OpenStack Release Bot,release,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Depends-on: https://review.opendev.org/#/c/715272/

Change-Id: I0e3bdf426c1716fd996e64e386136440d30dd0ce
"
openstack%2Ftripleo-heat-templates~master~I0a7467909b94e064b6741e639d80c97dea7bef52,openstack/tripleo-heat-templates,master,deprecate_vmax,I0a7467909b94e064b6741e639d80c97dea7bef52,Deprecating VMax Volume Config,MERGED,2020-04-01 15:53:35.000000000,2020-04-18 07:44:51.000000000,2020-04-18 07:42:22.000000000,21,1,0,716638,a8f18cbbb4129df84f96a049a9a42fff92e63565,69,7,3,3,10379,Rajini Karthik,rajinir,"Deprecating VMax Volume Config

VMax backend is now PowerMax and config options have changed
since newton. Deprecating it.

Change-Id: I0a7467909b94e064b6741e639d80c97dea7bef52
"
openstack%2Fpython-muranoclient~stable%2Fussuri~I975a5b354ab6644181333d25eafb7341a95240bb,openstack/python-muranoclient,stable/ussuri,create-ussuri,I975a5b354ab6644181333d25eafb7341a95240bb,Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-04-11 18:44:59.000000000,2020-04-18 07:03:13.000000000,2020-04-18 07:01:35.000000000,5,5,0,719226,a32a19954e6d8b69082390a509d88476e167f04d,13,4,3,1,22816,OpenStack Release Bot,release,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Depends-on: https://review.opendev.org/#/c/715272/

Change-Id: I975a5b354ab6644181333d25eafb7341a95240bb
"
openstack%2Fpython-muranoclient~stable%2Fussuri~I4f66a0dc229aa8389c6dbf2d8c1253ff079bd33c,openstack/python-muranoclient,stable/ussuri,create-ussuri,I4f66a0dc229aa8389c6dbf2d8c1253ff079bd33c,Update .gitreview for stable/ussuri,MERGED,2020-04-11 18:44:56.000000000,2020-04-18 06:59:52.000000000,2020-04-18 06:58:00.000000000,1,0,0,719224,0fc992d733329f844bd9d7da047af2aceff69e4f,13,4,2,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/ussuri

Depends-on: https://review.opendev.org/#/c/715272/

Change-Id: I4f66a0dc229aa8389c6dbf2d8c1253ff079bd33c
"
openstack%2Ftripleo-common~master~Ic78df6a98b7f0c796ec9e112f572c9b50cba396b,openstack/tripleo-common,master,,Ic78df6a98b7f0c796ec9e112f572c9b50cba396b,Use a full string match for container images,MERGED,2020-04-15 16:12:10.000000000,2020-04-18 06:39:03.000000000,2020-04-18 04:48:26.000000000,17,16,0,720236,a72dcb41a977dcba57cea870d2257a5c89750213,27,5,3,2,14826,Mark Goddard,mgoddard,"Use a full string match for container images

When building the list of container images to pass to kolla-build, we
currently use the plain image names. However, since these are regexes,
we can hit problems with substring matches. For example, the 'rabbitmq'
image matches 'rabbitmq-3.7.10', an image which is being added to kolla
in the stable/train branch that Tripleo is not interested in.

This change uses a full string match to avoid this issue.

Change-Id: Ic78df6a98b7f0c796ec9e112f572c9b50cba396b
"
openstack%2Fkuryr-kubernetes~master~Id72273247e382935f7c70afaffc475c90ed4b3b7,openstack/kuryr-kubernetes,master,init-container-log,Id72273247e382935f7c70afaffc475c90ed4b3b7,Add init containers logs,MERGED,2020-04-11 02:14:33.000000000,2020-04-18 06:19:29.000000000,2020-04-18 06:15:55.000000000,1,1,0,719130,cc360f4af0c522f116907ba2851daf26fd287613,36,5,2,1,31835,xujingsong,xieyanker,"Add init containers logs

The k8s pod maybe include init containers, so we should save their logs.

Change-Id: Id72273247e382935f7c70afaffc475c90ed4b3b7
"
openstack%2Ftripleo-ci~master~I4c3bf7f5be524d18cff7de531752373578872fd3,openstack/tripleo-ci,master,rhel-8-imagebuild,I4c3bf7f5be524d18cff7de531752373578872fd3,"Revert ""Refactor image build for downstream and image-build role""",MERGED,2020-04-16 16:54:30.000000000,2020-04-18 05:38:24.000000000,2020-04-18 05:38:24.000000000,63,84,0,720555,701db036c450efa6a3f7e9882d59bf1cdffea84d,21,8,2,6,9592,wes hayutin,weshayutin,"Revert ""Refactor image build for downstream and image-build role""

This reverts commit cea621561d0764de1791c5c67717a4ac28cea0f1.

Change-Id: I4c3bf7f5be524d18cff7de531752373578872fd3
"
openstack%2Fpuppet-tripleo~master~I7cbc462b2ff99b7b0d3ff58fda1b52ccf85fc86d,openstack/puppet-tripleo,master,bug/1873239,I7cbc462b2ff99b7b0d3ff58fda1b52ccf85fc86d,Hardcode openidc_cache_type parameter for keystone federation with OpenIdc,MERGED,2020-04-16 10:27:32.000000000,2020-04-18 04:59:49.000000000,2020-04-18 04:59:48.000000000,2,1,0,720428,da9b1a3ecb43c95b86c24c04e64f1167ca14441b,9,6,1,1,19234,Alexey Stupnikov,astupnikov,"Hardcode openidc_cache_type parameter for keystone federation with OpenIdc

By default OpenIdc uses shared memory caching mode, which will
not work for multiple controller nodes. puppet-tripleo already
configured to calculate memcached servers for OpenIdc, but for
some reason doesn't set ""openidc_cache_type"" to ""memcache"", so
shm is used.

There are a number of options available for ""openidc_cache_type"",
but memcache is the only one that will currently work for multiple
controllers:

- shm and file are stored locally on every node;
- redis requires mod_auth_openidc to be compiled with redis
  support, but it is not generally the case.

To avoid providing illusion of freedom of choice, it would
be right to hardcode this in puppet-tripleo.

Closes-Bug: #1873239
rhbz: #1824506

Change-Id: I7cbc462b2ff99b7b0d3ff58fda1b52ccf85fc86d
"
openstack%2Ftripleo-heat-templates~master~I4429ed2d45661ea82ae38a7050abb2b229953c9c,openstack/tripleo-heat-templates,master,powermax_config,I4429ed2d45661ea82ae38a7050abb2b229953c9c,Support for PowerMax Cinder Backend,MERGED,2020-03-11 18:59:41.000000000,2020-04-18 04:51:07.000000000,2020-04-18 04:48:28.000000000,153,0,59,712533,6c234a73ba7bfe2fb20497861c781a926631aec0,82,9,9,11,10379,Rajini Karthik,rajinir,"Support for PowerMax Cinder Backend

PowerMax config options have changed since Newton.
Updating them to the latest and support both iSCSI
and FC drivers.

CinderPowermaxBackend is also enhanceded to support
multiple backends. CinderPowermaxBackendName supports a
list of backend names and a new CinderPowermaxMultiConfig
parameter provides a way to specify parameter values for
each backend. For example see file
environments/cinder-dellemc-powermax-config.yaml

Depends-On: https://review.opendev.org/#/c/712184
Change-Id: I4429ed2d45661ea82ae38a7050abb2b229953c9c
"
openstack%2Fpuppet-tripleo~master~I0204b6985de71441e0f63f21cfda24d55fd340e5,openstack/puppet-tripleo,master,remove-odl,I0204b6985de71441e0f63f21cfda24d55fd340e5,Remove OpenDaylight support,MERGED,2020-04-13 12:01:47.000000000,2020-04-18 04:51:01.000000000,2020-04-18 04:48:03.000000000,12,854,0,719440,474d20438a4703dd6c63db50dcf9b3945b9d3f04,33,5,3,20,9816,Takashi Kajinami,kajinamit,"Remove OpenDaylight support

... because OpenDaylight tempmates and environemtns were alredy removed
in tripleo-heat-teampltes[1].

[1] 9c3638b8a13ea08a1bab95c9cd6ab335b729b6b3

Change-Id: I0204b6985de71441e0f63f21cfda24d55fd340e5
"
openstack%2Ftripleo-common~stable%2Ftrain~Ie00144d821c920973df4495997c0ce376b7d916b,openstack/tripleo-common,stable/train,step-stable/train,Ie00144d821c920973df4495997c0ce376b7d916b,utils/config: allows a when to have boolean conditions,MERGED,2020-04-16 19:01:35.000000000,2020-04-18 04:50:48.000000000,2020-04-18 04:48:19.000000000,5,1,0,720584,1b875ff97c3d5236ea77dd3083ec59fc20c815eb,9,3,1,3,3153,Emilien Macchi,emilienm,"utils/config: allows a when to have boolean conditions

In Ansible, a condition in when doesn't have to be a string, and can in
theory be a boolean. In that case, we don't want to use regex on it, we
would get a TypeError.

Let's just continue the loop and move on.

Change-Id: Ie00144d821c920973df4495997c0ce376b7d916b
(cherry picked from commit 90dce1dd886762af1ebdebe9ab0b5ba7e810ddd6)
"
openstack%2Fvalidations-libs~master~Ie61b380762c911d120076d50551b4661f1ef1526,openstack/validations-libs,master,validation/path,Ie61b380762c911d120076d50551b4661f1ef1526,Use validation_path attribut instead of variables,MERGED,2020-04-08 15:06:02.000000000,2020-04-18 04:48:25.000000000,2020-04-18 04:48:25.000000000,9,13,0,718486,f85ec24e9cc53511ed225961d98d7a5f88539ee4,22,5,4,1,16515,mbu,matbu,"Use validation_path attribut instead of variables

Globalize usage of the validation_path attribut set by
the __init__ instead of playing with variables which
introduce bugs and wrong usage

Change-Id: Ie61b380762c911d120076d50551b4661f1ef1526
"
openstack%2Ftripleo-heat-templates~master~Ia0302d1d55dcb8333d7db9713822075d32cd852a,openstack/tripleo-heat-templates,master,,Ia0302d1d55dcb8333d7db9713822075d32cd852a,Remove hardcoded reference to cinder LVM loopback device,MERGED,2020-04-15 15:51:05.000000000,2020-04-18 04:48:21.000000000,2020-04-18 04:48:21.000000000,14,14,6,720232,502947b4beed6bc7f3f7f58706b1934766561c0e,23,7,3,2,21129,Alan Bishop,ASBishop,"Remove hardcoded reference to cinder LVM loopback device

Replace hardcoded reference to ""/dev/loop2"" by allowing losetup to
dynamically choose the next available loopback device number.

Eliminate hiera data that set cinder_lvm_loop_device_size. This is not
needed because the associated file is created by a host prep task, and
the puppet code will be removed by https://review.opendev.org/720139.

Closes-Bug: #1872881
Change-Id: Ia0302d1d55dcb8333d7db9713822075d32cd852a
"
openstack%2Ftripleo-heat-templates~master~If4b9c38e8cd2c531cbc984f6f79fb79111204b25,openstack/tripleo-heat-templates,master,test,If4b9c38e8cd2c531cbc984f6f79fb79111204b25,Use exec for ovn metadata agent,MERGED,2020-03-17 10:18:08.000000000,2020-04-18 04:48:17.000000000,2020-04-18 04:48:16.000000000,2,2,2,713395,0c88c8898d44f9608ca33b8699b5c70bb5124f3b,42,13,7,1,20172,Michele Baldessari,michele,"Use exec for ovn metadata agent

Let's use exec also for the ovn metadata agent.
This was already done in the same vein via
I31237d21527a2909a1669cb6c80cc0fa9be798a6
I1af2ecd9e3996de4f43224f66a8bdb81eab07022

for dnsmasq and other neutron sidecar containers.
In this case it does not fix anything specifically
bit it avoids a spurious bash process on the system
so it makes sense nonetheless.

Related-Bug: #1867192

Change-Id: If4b9c38e8cd2c531cbc984f6f79fb79111204b25
"
openstack%2Fpuppet-tripleo~master~I13b02af166d7767799be99a0fb52066b00637a01,openstack/puppet-tripleo,master,ed25519-perm,I13b02af166d7767799be99a0fb52066b00637a01,Use a python shim for running for auth_ed25519 helper,MERGED,2020-04-14 13:58:50.000000000,2020-04-18 04:48:15.000000000,2020-04-18 04:48:15.000000000,3,1,0,719971,1479a0ea32967eab145a5eb78fa94e2e68c30b78,24,6,1,1,20778,Damien Ciabrini,dciabrin,"Use a python shim for running for auth_ed25519 helper

When mysql ed25519 authentication is enabled, puppet-tripleo
uses a python helper to generate password hashes. Python
helpers have their +x permission stripped on install time,
so run the helper via the right python interpreter instead.

Change-Id: I13b02af166d7767799be99a0fb52066b00637a01
Related-Bug: #1866093
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I4270b398366e90206adffe32f812632b50df615b,openstack/puppet-tripleo,stable/train,ha-container_logging_train,I4270b398366e90206adffe32f812632b50df615b,Log stdout of HA containers,MERGED,2020-04-17 08:10:21.000000000,2020-04-18 04:48:13.000000000,2020-04-18 04:48:12.000000000,106,14,0,720657,7e4aca45fa8fa5e7868b8f387242eb895cf975eb,7,3,1,11,20172,Michele Baldessari,michele,"Log stdout of HA containers

When podman dropped the journald log-driver we rushed to move to the supported
k8s-file driver. This had the side effect of us losing the stdout logs of the
HA containers.

In fact previously we were easily able to troubleshoot haproxy startup failures
just by looking in the journal. These days instead if haproxy fails to start we
have no traces whatsoever in the logs, because when a container fails it gets
stopped by pacemaker (and consequently removed) and no logs on the system are
available any longer.

Tested as follows:
1) Redeploy a previously deployed overcloud that did not have the patch
and observe that we now log the startup of HA bundles in /var/log/containers/stdouts/*bundle.log

[root@controller-0 stdouts]# ls -l *bundle.log |grep -v -e init -e restart
-rw-------. 1 root root   16032 Apr 14 14:13 openstack-cinder-volume.log
-rw-------. 1 root root   19515 Apr 14 14:00 haproxy-bundle.log
-rw-------. 1 root root   10509 Apr 14 14:03 ovn-dbs-bundle.log
-rw-------. 1 root root    6451 Apr 14 14:00 redis-bundle.log

2) Deploy a composable HA overcloud from scratch with the patch above
and observe that we obtain the stdout on disk.

Note that most HA containers log to their usual on-host files just
fine, we are mainly missing haproxy logs and/or the kolla startup only
of the HA containers.

Closes-Bug: #1872734

NB: Cherry-picks had some context change in
    manifests/profile/pacemaker/cinder/volume_bundle.pp
    manifests/profile/pacemaker/rabbitmq_bundle.pp
    manifests/profile/pacemaker/manila/share_bundle.pp

Change-Id: I4270b398366e90206adffe32f812632b50df615b
(cherry picked from commit 06c4aa7446073022b86c1f034a0c5406f2675ddb)
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I985d0d192ef3accf7fdd31503348de80713fded4,openstack/puppet-tripleo,stable/train,ha-container_logging_train,I985d0d192ef3accf7fdd31503348de80713fded4,Make the bundle user configurable via hiera,MERGED,2020-04-17 08:10:21.000000000,2020-04-18 04:48:12.000000000,2020-04-18 04:48:11.000000000,67,8,0,720656,1d09aa68faec603463faab62011154354d66a142,7,3,1,8,20172,Michele Baldessari,michele,"Make the bundle user configurable via hiera

Allow all bundles --user option to be overridden as some of them might
prefer switching to a non-root user when possible.
The ovn-dbs bundle is a bit special because it never specified any user.
Hence we default that user to undef and do not set anything.

Tested as follows:
1. deployed an overcloud
2. patched it with this change
3. redeployed and and then observed that no HA container has restarted at all
4. verified cinder-volume runs with root by default:
USER  PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root    1  0.0  0.0   4204   716 ?        Ss   09:01   0:00 dumb-init --single-child -- /bin/bash /usr/local/bin/kolla_start
root    7  0.7  0.7 912976 145760 ?       S    09:01   1:04 /usr/bin/python3 /usr/bin/cinder-volume --config-file /usr/share/cinder/cinder-dist.conf --config-file /etc/cinder/cinder.conf
root   71  0.1  0.6 925800 124640 ?       S    09:01   0:14 /usr/bin/python3 /usr/bin/cinder-volume --config-file /usr/share/cinder/cinder-dist.conf --config-file /etc/cinder/cinder.conf
5. added 'tripleo::profile::pacemaker::cinder::volume_bundle::bundle_user: cinder' to
   the templates and redeployed
6. Observed that cinder-volume got restarted and now runs with cinder
   user:
USER   PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
cinder   1  0.0  0.0   4204   804 ?        Ss   12:23   0:00 dumb-init --single-child -- /bin/bash /usr/local/bin/kolla_start
cinder   7  2.1  0.7 912976 145432 ?       S    12:23   0:04 /usr/bin/python3 /usr/bin/cinder-volume --config-file /usr/share/cinder/cinder-dist.conf --config-file /etc/cinder/cinder.conf
cinder  64  0.3  0.5 919908 118452 ?       S    12:23   0:00 /usr/bin/python3 /usr/bin/cinder-volume --config-file /usr/share/cinder/cinder-dist.conf --config-file /etc/cinder/cinder.conf

Change-Id: I985d0d192ef3accf7fdd31503348de80713fded4
(cherry picked from commit d766eb81a3eb1864aa9c6d4b3b4d5fb978282219)
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I4833418c68f866a216d837e624199159ace7f696,openstack/puppet-tripleo,stable/train,ha-container_logging_train,I4833418c68f866a216d837e624199159ace7f696,Enable deployment with external loadbalancers,MERGED,2020-04-17 08:10:21.000000000,2020-04-18 04:48:10.000000000,2020-04-18 04:48:10.000000000,25,17,1,720655,67e9708b2060500ddfdf3705e9e406c66d2c27fd,9,5,1,1,20172,Michele Baldessari,michele,"Enable deployment with external loadbalancers

Add posibilities to pass listen_on_master_ip_only param
to ovn dbs. More info:
https://github.com/openvswitch/ovs/commit/33f9c9eafac30d49b4583e93f789a57dc3844523

Change-Id: I4833418c68f866a216d837e624199159ace7f696
(cherry picked from commit fb6b0fa2dc83fa8a58f6e8a84f37aac0214602f9)
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I0fc4f7ef907093af4ba26393a1d59a7fe215a5ee,openstack/tripleo-upgrade,stable/train,,I0fc4f7ef907093af4ba26393a1d59a7fe215a5ee,[train-only] Duplicate rolemap inventory filters in tripleo-upgrade,MERGED,2020-04-16 11:45:35.000000000,2020-04-18 04:48:09.000000000,2020-04-18 04:48:08.000000000,41,4,1,720445,5414c064051519b0e2c4329995b6a4f919f2badd,9,8,2,2,23811,Oliver Walsh,owalsh,"[train-only] Duplicate rolemap inventory filters in tripleo-upgrade

Related to I3daf77f099fd0277a9d8495932ca3e28ae7b964d, we need to duplicate
the filters in tripleo-upgrade to break a cyclic dependency.

Also remove the tripleo_upgrade prefix from the filter names so that the tasks
do not have to differ on train vs master.
If both tripleo-upgrade and tripleo-ansible are recent train versions it does
not matter which implemenation ansible gives us as they are identical.
On master we only have the tripleo-ansible implementation.

Change-Id: I0fc4f7ef907093af4ba26393a1d59a7fe215a5ee
"
openstack%2Ftripleo-ci~master~I8e1ab268f266c2e7ebfceb722e03276a22ccea27,openstack/tripleo-ci,master,remove_c7,I8e1ab268f266c2e7ebfceb722e03276a22ccea27,Moves centos7-scenario12 job to depricated.,MERGED,2020-04-08 08:44:19.000000000,2020-04-18 04:48:08.000000000,2020-04-18 04:48:08.000000000,10,27,3,718346,b2d7d8ee9ad000f15a00415a6996312759671c7d,38,7,5,2,30750,amolkahat,amolkahat,"Moves centos7-scenario12 job to depricated.

centos7-scenario12 job hasn't been running[1] for days now.

1. http://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario012-standalone

Change-Id: I8e1ab268f266c2e7ebfceb722e03276a22ccea27
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
"
openstack%2Fpuppet-tripleo~master~Icd8730aa4d47bb1059321014d5e8b2c5c323976a,openstack/puppet-tripleo,master,iscsi-lvm,Icd8730aa4d47bb1059321014d5e8b2c5c323976a,Do not manage pv/vg for cinder iscsi backend,MERGED,2020-04-15 07:52:59.000000000,2020-04-18 04:48:06.000000000,2020-04-18 04:48:06.000000000,0,12,2,720139,b7cb8896ee523e35d7e703df529c6005ebb91794,26,9,2,2,9816,Takashi Kajinami,kajinamit,"Do not manage pv/vg for cinder iscsi backend

They are currently created within tripleo-heat-teampltes, so there are
no reasons why we should create it by puppet.

Change-Id: Icd8730aa4d47bb1059321014d5e8b2c5c323976a
"
openstack%2Fpython-novaclient~stable%2Fussuri~Icdc0f86f5fb6221a0e11ecbece3130814ce7481e,openstack/python-novaclient,stable/ussuri,create-ussuri,Icdc0f86f5fb6221a0e11ecbece3130814ce7481e,Update .gitreview for stable/ussuri,MERGED,2020-04-11 10:48:47.000000000,2020-04-18 04:24:01.000000000,2020-04-18 04:22:53.000000000,1,0,0,719164,1d8a3753eeb9f94559fb64a1b30ac2a61a3c9c06,19,6,2,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/ussuri

Depends-on: https://review.opendev.org/#/c/715272/

Change-Id: Icdc0f86f5fb6221a0e11ecbece3130814ce7481e
"
openstack%2Fopenstack-helm-infra~master~I6f4a69ec442c3e768feb7bd74c7d610aa9d4aa67,openstack/openstack-helm-infra,master,,I6f4a69ec442c3e768feb7bd74c7d610aa9d4aa67,[ceph-osd] A rack's OSDs are not marked out after down_out interval,MERGED,2020-03-16 19:50:52.000000000,2020-04-18 04:19:20.000000000,2020-04-18 04:18:15.000000000,6,0,0,713322,5952acdd9309142ec804b73b05106537d46d1ea3,32,8,13,2,18511,Brian Wickersham,bw6938,"[ceph-osd] A rack's OSDs are not marked out after down_out interval

An entire rack's OSDs are not being marked out after
down_out interval. This manifested itself during
resiliency testing when all interfaces were brought
down on a control plan host and the down_interval
was surpassed.

Change-Id: I6f4a69ec442c3e768feb7bd74c7d610aa9d4aa67
"
openstack%2Fmanila-tempest-plugin~master~I9c5df364bca666bbc32fb10b100a38f78888088a,openstack/manila-tempest-plugin,master,bp/limit-share-replicas-per-share,I9c5df364bca666bbc32fb10b100a38f78888088a,Update share quota functional tests,MERGED,2020-03-12 20:11:40.000000000,2020-04-18 04:05:46.000000000,2020-04-18 02:27:11.000000000,318,15,26,712786,ca4dd9f10178fe9e6d5fe81aac3c3b8f3dae6448,37,6,7,7,29632,Carlos Eduardo,silvacarlos,"Update share quota functional tests

- Updates the existent functional tests to accomplish with the two
  new quotas for share replicas.
- Add new functional tests for share replicas

Depends-On: I8ba7bc6f167c28d6c169b2187d0e1bda7cad3f69
Change-Id: I9c5df364bca666bbc32fb10b100a38f78888088a
"
openstack%2Fkeystone~master~I5a75eac3926ac01565019afbb223df8bf599a69f,openstack/keystone,master,update-onboarding,I5a75eac3926ac01565019afbb223df8bf599a69f,Update contributors document keystone,MERGED,2020-04-07 15:11:41.000000000,2020-04-18 03:40:57.000000000,2020-04-18 03:38:56.000000000,14,4,8,718145,39d66ac78c8d016cc72f573efa731b2229d6a132,14,4,3,2,27621,Vishakha Agarwal,Vishakha,"Update contributors document keystone

Python2.7 support is removed from Ussuri Cycle. Thus
updating the rst files regarding the same.

Change-Id: I5a75eac3926ac01565019afbb223df8bf599a69f
"
openstack%2Fopenstack-helm-images~master~If861ba14de00966ec4fe0b12001902755bf94338,openstack/openstack-helm-images,master,nagios-docker-update,If861ba14de00966ec4fe0b12001902755bf94338,Nagios docker update,MERGED,2020-04-15 19:12:36.000000000,2020-04-18 03:34:47.000000000,2020-04-18 03:33:21.000000000,3,1,0,720267,ebd82b5e4986c96c130a654a9dab3ffa70ee4063,11,6,2,2,30582,RADHIKA PAI,rp592h,"Nagios docker update

Added an ENV variable to help with jenkins build

Change-Id: If861ba14de00966ec4fe0b12001902755bf94338
"
openstack%2Ftempest~master~I99a6df0a2c02e19efaf484fcd97b875887f08d8e,openstack/tempest,master,,I99a6df0a2c02e19efaf484fcd97b875887f08d8e,Document the policy for Tempest & its plugins release,MERGED,2020-04-16 21:58:46.000000000,2020-04-18 02:46:51.000000000,2020-04-18 02:45:01.000000000,63,1,12,720603,235c26445763ffae04a3cbde7e1f13b426dbf27c,16,7,3,2,8556,Ghanshyam,ghanshyam,"Document the policy for Tempest & its plugins release

Tempest and its plugin are very tightly coupled for testing
Upstream or Production Cloud. Due to its branchless model,
one of the challenges we faced/facing is to provide their
compatible version set.

Since Queens release and with operator request, we started
doing a coordinated release of plugins along with Tempest
which will be marked as the First compatible version for
that particular release.

For example https://releases.openstack.org/train/index.html#tempest-plugins

We test our stable branch with master version of Tempest &
plugins until it is moved to Extended Maintainance state.
One stable release is in EM state, Tempest officially declares
the end of support tag so that we can use that as the last compatible
version for that EM stable testing. But we do not have the correct
last compatible version from plugins which can be used for testing
the EM branch. It should be with hash from the master at the time
stable release is moved to EM not the hash when the stable release
was done otherwise it will be incompatible with Tempest.

We have faced and fixed many issue due to that during py2-drop work
where we have to pick and try all different versions from plugin to
make it work against EM testing.

Change-Id: I99a6df0a2c02e19efaf484fcd97b875887f08d8e
"
openstack%2Fneutron~master~I8fa7176d1d9667c6b5cc95af0e31210d0f1c3662,openstack/neutron,master,bug/1873240,I8fa7176d1d9667c6b5cc95af0e31210d0f1c3662,Add rootwrap filter rule for radvd-kill script,MERGED,2020-04-16 10:29:36.000000000,2020-04-18 02:46:49.000000000,2020-04-18 02:44:51.000000000,1,0,0,720431,2273499155a8cd83150aa4b4f8ba08ecbbdc9306,32,8,3,1,11975,Slawek Kaplonski,slaweq,"Add rootwrap filter rule for radvd-kill script

In patch [1] support for custom kill scripts was added.
We also added rootwrap filter rules for such scripts to
kill dnsmasq, haproxy, dibbler and keepalived processes.
But we missed to add rule for radvd-kill so this patch
adds it (better late than never ;))

[1] https://review.opendev.org/#/c/661760/

Closes-Bug: #1873240

Change-Id: I8fa7176d1d9667c6b5cc95af0e31210d0f1c3662
"
openstack%2Fswift~master~I99d94eb3211ddc337b986f086aac5a4740696ed5,openstack/swift,master,,I99d94eb3211ddc337b986f086aac5a4740696ed5,Authors/ChangeLog for 2.25.0,MERGED,2020-04-17 23:28:06.000000000,2020-04-18 02:46:40.000000000,2020-04-18 02:45:00.000000000,117,0,0,720851,f3543f5346a3d7ae31fe193f1336ef178da7db9b,11,2,2,3,15343,Tim Burke,tburke,"Authors/ChangeLog for 2.25.0

Change-Id: I99d94eb3211ddc337b986f086aac5a4740696ed5
"
openstack%2Fswift~feature%2Flosf~I5063cef634e2de80934c75aebed5707b1683d5d5,openstack/swift,feature/losf,,I5063cef634e2de80934c75aebed5707b1683d5d5,Clean up protobuf message definitions,MERGED,2020-04-10 14:09:57.000000000,2020-04-18 02:46:26.000000000,2020-04-18 02:44:58.000000000,3888,2962,0,719010,dd8e3a69c8d361054e7c0553a2989741324781b9,9,3,1,8,25251,Alexandre LÃ©cuyer,alecuyer,"Clean up protobuf message definitions

Naming was inconsistent and some messages were reused, sometimes with
useless fields. Follow the grpc/protobuf best practice of naming input
and output protobuf message after the RPC function:
MyFunction() will take MyFunctionRequest() and return MyFunctionReply()

A couple of exceptions are made in cases where it does makes sense to
reuse a message (for listdir() like functions)

Change-Id: I5063cef634e2de80934c75aebed5707b1683d5d5
"
openstack%2Ftempest~master~I9840ea976d290a8fd22d8c3bae17db9ed42f629a,openstack/tempest,master,bp/testcase-description,I9840ea976d290a8fd22d8c3bae17db9ed42f629a,Adding description for testcases - volume part1,MERGED,2020-04-16 09:42:25.000000000,2020-04-18 02:45:21.000000000,2020-04-18 02:43:25.000000000,34,5,0,720415,3fdd35ae69436b793b3387391c22d6b1f0ecc6dd,12,4,2,8,20190,zhufl,zhufl,"Adding description for testcases - volume part1

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

Change-Id: I9840ea976d290a8fd22d8c3bae17db9ed42f629a
partially-implements: blueprint testcase-description
"
openstack%2Ftempest~master~I27738221d04df119d6b8ce988a44f78043b1a459,openstack/tempest,master,cls_self,I27738221d04df119d6b8ce988a44f78043b1a459,[Trivial]Do not use self in class method,MERGED,2020-04-14 08:41:26.000000000,2020-04-18 02:44:56.000000000,2020-04-18 02:44:56.000000000,3,3,0,719764,5e5b8919a04f6baeb1cc09464ab5b775824f3b46,7,3,1,1,20190,zhufl,zhufl,"[Trivial]Do not use self in class method

This is to use cls in class method, instead of self.

Change-Id: I27738221d04df119d6b8ce988a44f78043b1a459
"
openstack%2Ftempest~master~I355bc829e7c0f01613fc907a6bf9e03b785ba3ea,openstack/tempest,master,missing_space,I355bc829e7c0f01613fc907a6bf9e03b785ba3ea,[Trivial]Add space between words in log message,MERGED,2020-04-14 07:39:34.000000000,2020-04-18 02:44:48.000000000,2020-04-18 02:44:47.000000000,1,1,0,719750,747300b369afc3257222f3af6613bd9aeecfabeb,8,4,1,1,20190,zhufl,zhufl,"[Trivial]Add space between words in log message

This is to add space between words in log message in
wait_for_volume_attachment_remove.

Change-Id: I355bc829e7c0f01613fc907a6bf9e03b785ba3ea
"
openstack%2Ftempest~master~I072bd2c86a7f50559e9e452dda3e1669fad3be00,openstack/tempest,master,bp/testcase-description,I072bd2c86a7f50559e9e452dda3e1669fad3be00,Adding description for testcases - identity part1,MERGED,2020-04-16 08:46:19.000000000,2020-04-18 02:43:28.000000000,2020-04-18 02:43:27.000000000,33,19,3,720398,c16883ff34cc143b35c5b02d1aa113d49488ec99,10,4,2,8,20190,zhufl,zhufl,"Adding description for testcases - identity part1

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

BTW: some minor code refactor is done along with this patch.

Change-Id: I072bd2c86a7f50559e9e452dda3e1669fad3be00
partially-implements: blueprint testcase-description
"
openstack%2Fwatcher-tempest-plugin~master~Ia856c26e9ee8181909367e9f299c6e78e7c4d7ff,openstack/watcher-tempest-plugin,master,clienttestv12,Ia856c26e9ee8181909367e9f299c6e78e7c4d7ff,Add audit test for microversion 1.2,MERGED,2020-04-11 07:55:31.000000000,2020-04-18 02:40:01.000000000,2020-04-18 02:40:01.000000000,22,0,0,719150,30e58424735e19aecf18532984ae4d24175a042e,14,2,2,1,21692,licanwei,licanwei,"Add audit test for microversion 1.2

Change-Id: Ia856c26e9ee8181909367e9f299c6e78e7c4d7ff
"
openstack%2Ftempest~master~I3d1634fab5826928a45bd47c18aba6fc32021075,openstack/tempest,master,bp/testcase-description,I3d1634fab5826928a45bd47c18aba6fc32021075,Adding description for testcases - compute part2,MERGED,2020-04-16 02:07:35.000000000,2020-04-18 02:32:43.000000000,2020-04-18 02:31:10.000000000,80,27,2,720323,1b3b03d462d64812308acee30689b08c165925e2,20,5,2,8,20190,zhufl,zhufl,"Adding description for testcases - compute part2

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

Change-Id: I3d1634fab5826928a45bd47c18aba6fc32021075
partially-implements: blueprint testcase-description
"
openstack%2Fcoverage2sql~master~Ib70fcdc751a1e84d3160558361a76bbd328f4625,openstack/coverage2sql,master,cleanup-py27-support,Ib70fcdc751a1e84d3160558361a76bbd328f4625,Cleanup py27 support,MERGED,2020-04-17 15:09:13.000000000,2020-04-18 02:19:58.000000000,2020-04-18 02:18:37.000000000,5,32,0,720747,339f23dcf5f87057758f84db1bb4b2969253b7d1,7,2,1,6,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Update classifiers
- Use newer openstackdocstheme and Sphinx versions
- Cleanup */source/conf.py to remove now obsolete content.
- Remove install_command from tox.ini, the default is fine

Change-Id: Ib70fcdc751a1e84d3160558361a76bbd328f4625
"
openstack%2Fmanila-tempest-plugin~master~Ifaf00b7a5e895a5b79f268dbdcaa3ef20b21ea68,openstack/manila-tempest-plugin,master,bug/1755795,Ifaf00b7a5e895a5b79f268dbdcaa3ef20b21ea68,Create a generic share type (scenario tests),NEW,2018-07-20 20:25:30.000000000,2020-04-18 02:14:57.000000000,,13,4,0,584505,b619fe856e58ff666aa5ed4b346f9121b747581c,9,2,4,1,6413,Victoria Martinez de la Cruz,vkmc,"Create a generic share type (scenario tests)

If no default share type is specified on the
config for tempest, running scenario tests fail.
In order to fix this, we simply create a share type
for usage within our tests and we stop depending
on the pre-config.

This patch set tries to get a default share type,
if not, simply creates one.

This also fix a related issue with the specs passed
for the share types. If mountable snapshots tests are
enabled then we create a share type with that
extra spec specified.

Change-Id: Ifaf00b7a5e895a5b79f268dbdcaa3ef20b21ea68
Closes-Bug: #1755795
"
openstack%2Fpython-pankoclient~master~Ib3ea77c973a9592710a9d75c76c443881f1a4bc1,openstack/python-pankoclient,master,docs-cleanup,Ib3ea77c973a9592710a9d75c76c443881f1a4bc1,Docs cleanup and hacking update,MERGED,2020-04-17 18:34:20.000000000,2020-04-18 02:09:59.000000000,2020-04-18 02:08:38.000000000,8,14,0,720803,795dc20715e5facd913876b38c23a808edd24e67,7,2,1,7,6547,Andreas Jaeger,jaegerandi,"Docs cleanup and hacking update

Switch to using sphinx-build, cleanup conf.py, update
to newer sphinx and openstackdocstheme versions for Python 3.

Update to hacking 3.0.

Fix build problems.

Change-Id: Ib3ea77c973a9592710a9d75c76c443881f1a4bc1
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I4634447762aad20f2c450fe4bb7f0803d13efec2,openstack/tripleo-heat-templates,stable/train,,I4634447762aad20f2c450fe4bb7f0803d13efec2,swift-external: deprecate External*Url,MERGED,2020-04-15 15:42:14.000000000,2020-04-18 01:59:18.000000000,2020-04-18 01:57:51.000000000,40,5,1,720230,19f6f42a5d61b338205ec560fe31715c74d9513d,18,6,1,3,6796,Giulio Fidente,gfidente,"swift-external: deprecate External*Url

ExternalPublicUrl (and the 2 others) are too generic to know that they
are for Swift only.
Let's rename them and deprecate the old ones.

This patch does the following:
ExternalPublicUrl, ExternalAdminUrl and ExternalInternalUrl are deprecated.
ExternalSwiftPublicUrl, ExternalSwiftAdminUrl and ExternalSwiftInternalUrl
should now be used.

Change-Id: I4634447762aad20f2c450fe4bb7f0803d13efec2
(cherry picked from commit 415d4de0884a691a01f14e7954aadc203e033a8b)
"
openstack%2Fmanila-ui~master~Ibe4423cf3893981128addbf4fa31ba9003a7e968,openstack/manila-ui,master,unittest.mock,Ibe4423cf3893981128addbf4fa31ba9003a7e968,Remove mock from requirements,MERGED,2020-04-17 20:39:59.000000000,2020-04-18 01:30:46.000000000,2020-04-18 01:28:59.000000000,0,2,0,720830,3382ce81f6932964dd175dd3aed2dd1d3ca23b76,13,5,2,2,16643,Goutham Pacha Ravi,gouthamr,"Remove mock from requirements

We don't use this third party lib anymore,
since https://review.opendev.org/#/c/717325/

Change-Id: Ibe4423cf3893981128addbf4fa31ba9003a7e968
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fcinder~master~If5448c8399a5097f6fb2b546d1452ecee2975b54,openstack/cinder,master,bp/generic-backup-implementation,If5448c8399a5097f6fb2b546d1452ecee2975b54,WIP. Generic backup implementation,NEW,2017-09-01 14:56:04.000000000,2020-04-18 01:26:42.000000000,,94,7,0,500094,d24486c7345d4e5d8028b6ffd64383cfc9965d6c,133,40,7,1,1736,Ivan Kolodyazhny,e0ne,"WIP. Generic backup implementation

Change-Id: If5448c8399a5097f6fb2b546d1452ecee2975b54
Implements: blueprint generic-backup-implementation
"
openstack%2Fcinder~master~Ibfd62c0f983e975ea6977d7fcffa6e7de210a60b,openstack/cinder,master,victoria-drivers,Ibfd62c0f983e975ea6977d7fcffa6e7de210a60b,Tengling initial driver,NEW,2019-02-22 01:59:04.000000000,2020-04-18 01:14:50.000000000,,1319,0,9,638571,f8f144ac960efc059d16393123d6e89e0f5aaf3c,35,27,1,6,29965,wuweijie,wuweijie,"Tengling initial driver

Change-Id: Ibfd62c0f983e975ea6977d7fcffa6e7de210a60b
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~If4a6f25015374883050c48b7705e8207906118f4,openstack/puppet-tripleo,stable/train,bug/1861886,If4a6f25015374883050c48b7705e8207906118f4,Add Octavia OVN Provider configuration (2 of 2),MERGED,2020-03-30 14:32:55.000000000,2020-04-18 01:03:11.000000000,2020-04-18 01:01:32.000000000,16,25,0,715960,b2348525333bc6ac6df9597361bdc7b3dd4bf9b4,68,5,7,3,11952,Flavio Fernandes,ffernand,"Add Octavia OVN Provider configuration (2 of 2)

This is part 2 of 2, where ovn provider info located in
tripleo::profile::base::octavia::api will move
to newly created octavia::provider::ovn.
But that has to be split into 2 parts to avoid breaking the
CI until the THT+pupple-tripleo changes merges [1].

[1]: https://review.opendev.org/#/q/topic:bug/1861886+(status:open+OR+status:merged)

This patch enhances Octavia's OVN driver config, so it can connect to
OVN_Northbound DB using TLS.

Depends-On: https://review.opendev.org/#/c/714895/
Depends-On: https://review.opendev.org/#/c/715950/
Depends-On: https://review.opendev.org/#/c/705821/
Depends-On: https://review.opendev.org/#/c/714916/

Closes-Bug: #1861886

Change-Id: If4a6f25015374883050c48b7705e8207906118f4
(cherry picked from commit a485965a2326cb1e62c2597b3eeac7e2cd54131f)
"
openstack%2Fmanila-tempest-plugin~master~I6aaa88677dd2bd7ddde40f65ec89ec5b09fc887d,openstack/manila-tempest-plugin,master,,I6aaa88677dd2bd7ddde40f65ec89ec5b09fc887d,Fix version in test-requirements.txt,ABANDONED,2019-01-26 03:51:19.000000000,2020-04-18 00:50:25.000000000,,1,1,0,633315,f779bcfd43d1f322bfa37b4bf2e3a84a2852f979,6,4,1,1,29423,zhouxinyong,zhouxinyong,"Fix version in test-requirements.txt

Change-Id: I6aaa88677dd2bd7ddde40f65ec89ec5b09fc887d
"
openstack%2Fcinder~master~I7dd5fed5b954181d4986ca38942fdc60f190bda2,openstack/cinder,master,,I7dd5fed5b954181d4986ca38942fdc60f190bda2,Support manage/unmanage in the FusionStorage Cinder Driver,NEW,2019-07-09 07:27:03.000000000,2020-04-18 00:49:23.000000000,,214,0,4,669806,93ba5118d86fb3b01e93f9ef7d4e90b0773bf42d,141,40,5,6,29217,futaotao,doubletao,"Support manage/unmanage in the FusionStorage Cinder Driver

In order to improve the functionality of the FusionStorage Cinder
Driver, the ""manage_existing/unmanage"" is added.

Change-Id: I7dd5fed5b954181d4986ca38942fdc60f190bda2
"
openstack%2Fmanila-tempest-plugin~master~I51fa672ca5ede786c9d7b79dc8b4bf9d7c853ced,openstack/manila-tempest-plugin,master,debug_plugin,I51fa672ca5ede786c9d7b79dc8b4bf9d7c853ced,Testing manila plugin on master branch,ABANDONED,2019-11-08 21:44:19.000000000,2020-04-18 00:48:23.000000000,,0,0,0,693592,530395b54f2a4302e393b648af6ed263b567d172,4,2,1,1,30002,Douglas Viroel,dviroel,"Testing manila plugin on master branch

Change-Id: I51fa672ca5ede786c9d7b79dc8b4bf9d7c853ced
"
openstack%2Fos-brick~stable%2Ftrain~Id507109df80391699074773f4787f74507c4b882,openstack/os-brick,stable/train,,Id507109df80391699074773f4787f74507c4b882,rbd: Use showmapped to find the root RBD device during disconnect_volume,MERGED,2020-04-15 10:37:58.000000000,2020-04-18 00:47:15.000000000,2020-04-17 21:10:42.000000000,74,11,0,720178,36b207239b2dd4b3cad2b79d7ae32f4084c36403,31,9,1,2,10135,Lee Yarwood,lyarwood,"rbd: Use showmapped to find the root RBD device during disconnect_volume

The original method of unmapping the higher level RBD device found under
/dev/rbd/{pool}/{volume} fails when an encryptor has been attached to
the volume locally. This is due to a symlink being created that points
to the the decrypted dm-crypt device, breaking any attempt to unmap the
RBD volume.

To avoid this we can simply find and unmap the lower level RBD device of
/dev/rbd*.

Change-Id: Id507109df80391699074773f4787f74507c4b882
(cherry picked from commit 9415b3b41f55b66bee589bc8ff5f1c789d8a5d0e)
"
openstack%2Fmanila-tempest-plugin~master~I4f0e1d122de5e3d85130226d3c5491ee884a9268,openstack/manila-tempest-plugin,master,bp/add-priority-for-access-rule,I4f0e1d122de5e3d85130226d3c5491ee884a9268,Add tempest test for priority of access rule,ABANDONED,2018-07-06 08:45:06.000000000,2020-04-18 00:47:09.000000000,,66,4,16,580582,00bd36d37a9454a0e8951c236f73d78e20d5986b,17,4,5,3,15100,zhongjun,zhongjun2,"Add tempest test for priority of access rule

Add tempest test for new priority attribute in allow/update access rule API.

Depends-On: https://review.openstack.org/#/c/572283/
Change-Id: I4f0e1d122de5e3d85130226d3c5491ee884a9268
Partially-implements: bp add-priority-for-access-rule
"
openstack%2Fpython-manilaclient~master~Ibfbf122516e1c0a44f74f161060d849a879adaf9,openstack/python-manilaclient,master,bp/add-priority-for-access-rule,Ibfbf122516e1c0a44f74f161060d849a879adaf9,Add priority for access rule,ABANDONED,2018-06-12 08:20:10.000000000,2020-04-18 00:46:50.000000000,,240,16,21,574633,4df61e2f547a4916e165b3cf9bd292bbd6842f34,27,7,7,11,15100,zhongjun,zhongjun2,"Add priority for access rule

Add new priority attribute in allow/update/list
access rule commands.

Depend-on: https://review.openstack.org/#/c/572283
Change-Id: Ibfbf122516e1c0a44f74f161060d849a879adaf9
Implements: bp add-priority-for-access-rule
"
openstack%2Fmanila~master~I06960f5a59929dd233068ff262dd810194c5a85c,openstack/manila,master,bp/add-priority-for-access-rule,I06960f5a59929dd233068ff262dd810194c5a85c,Add priority for access rule,ABANDONED,2018-06-05 07:30:04.000000000,2020-04-18 00:46:33.000000000,,622,39,159,572283,74ff39e077af5d2a8ee3b5be64cda15f9124bac5,259,19,29,29,15100,zhongjun,zhongjun2,"Add priority for access rule

Currently allow access rule API only supports access-level,
which has ""ro"" and ""rw"" as valid values. This is not enough
when users want to specify priority to individual access rules.

This patch adds new priority attribute in allow/update access
rule API.

DocImpact

Needed-By: https://review.openstack.org/#/c/574633/
Needed-By: https://review.openstack.org/#/c/580582/

Co-Authored-By: Kevin_Zheng <zhengzhenyu@huawei.com>

Change-Id: I06960f5a59929dd233068ff262dd810194c5a85c
Implements: bp add-priority-for-access-rule
"
openstack%2Fneutron~stable%2Ftrain~Ib69e21b4645cef71db07595019fac9af77fefaa1,openstack/neutron,stable/train,bug/1870313,Ib69e21b4645cef71db07595019fac9af77fefaa1,"""keepalived_state_change"" needs to use threading to send arping",MERGED,2020-04-06 17:00:15.000000000,2020-04-17 23:25:39.000000000,2020-04-17 23:24:02.000000000,42,16,0,717805,476bb780671e338d39e5eb776254acca59ddce16,42,7,5,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"""keepalived_state_change"" needs to use threading to send arping

""keepalived_state_change"" monitor does not use eventlet but normal
Python threads. When ""send_ip_addr_adv_notif"" is called from inside
the monitor, the arping command is never sent because the eventlet
thread does not start. In order to be able to be called from this
process, this method should also have an alternative implementation
using ""threading"".

""TestMonitorDaemon.test_new_fip_sends_garp"" is also modified to
actually test the GARP sent. The test was originally implemented with
only one interface in the monitored namespace.
""keepalived_state_change"" sends a GARP when a new IP address is added
in a interface other than the monitored one. That's why this patch
creates a new interface and sets it as the monitor interface. When
a new IP address is added to the other interface, the monitor populates
it by sending a GARP through the modified interface [1].

[1] https://github.com/openstack/neutron/blob/8ee34655b8757086c03feecfda100333f47ed810/neutron/agent/l3/keepalived_state_change.py#L90

Change-Id: Ib69e21b4645cef71db07595019fac9af77fefaa1
Closes-Bug: #1870313
(cherry picked from commit 21935365f29cce3fa95f032d9778786519461521)
"
openstack%2Foctavia~master~I61c7d8d4df54710a92b8c055be84bba29bf3d7e6,openstack/octavia,master,udp_support,I61c7d8d4df54710a92b8c055be84bba29bf3d7e6,Support HTTP and TCP checks in UDP healthmonitor,MERGED,2018-08-06 14:46:49.000000000,2020-04-17 23:13:36.000000000,2020-04-17 23:11:06.000000000,470,194,26,589180,6e61991833a64c9e9b8329e80a50609168fc4083,62,5,15,20,15309,zhaobo,ZhaoBo,"Support HTTP and TCP checks in UDP healthmonitor

This patch introduces 2 macros in lvs.

1. Support HTTP GET, allow users create HTTP healthmonitor for udp pool.
2. Support TCP check, allow users create TCP healthmonitor for udp pool.

Co-Authored-By: Adam Harwell <flux.adam@gmail.com>
Change-Id: I61c7d8d4df54710a92b8c055be84bba29bf3d7e6
Story: 2003200
Task: 23356
Story: 2003199
Task: 23355
"
openstack%2Freleases~master~I16a3564fd79702446f29f62baa21120d8aea00ac,openstack/releases,master,,I16a3564fd79702446f29f62baa21120d8aea00ac,Create new release 15.5.0 for puppet-magnum in train,MERGED,2020-04-17 08:48:48.000000000,2020-04-17 22:47:05.000000000,2020-04-17 22:47:05.000000000,4,0,0,720666,55a833a5c6f0c3b96f4f3ae36e63cbb2c1c7334a,11,5,2,1,16312,Alfredo Moralejo,amoralej,"Create new release 15.5.0 for puppet-magnum in train

It includes some fixes needed for CentOS8 after last tag:

fe6fe19 Fix rabbitmq dependency
975b93d Add keystone_region_name to magnum::keystone::domain
68ac397 Fix client_package for RedHat > 7 and Fedora

Change-Id: I16a3564fd79702446f29f62baa21120d8aea00ac
"
openstack%2Fcinder~master~I25715d04791e9c8c681a63954719d48f7b390dcd,openstack/cinder,master,hacking,I25715d04791e9c8c681a63954719d48f7b390dcd,Add hacking check for 3rd party mock,MERGED,2020-03-31 18:16:01.000000000,2020-04-17 22:13:35.000000000,2020-04-10 01:30:18.000000000,27,1,1,716380,eb915e2dbbaf0a6382b6936b7e8c2f65b12753df,99,32,4,4,11904,Sean McGinnis,SeanM,"Add hacking check for 3rd party mock

Change-Id: I25715d04791e9c8c681a63954719d48f7b390dcd
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fhorizon~stable%2Fussuri~I105244ba94059a6149b8c72fd7b2eae4923531f7,openstack/horizon,stable/ussuri,create-ussuri,I105244ba94059a6149b8c72fd7b2eae4923531f7,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-04-17 21:05:50.000000000,2020-04-17 22:08:37.000000000,2020-04-17 22:06:04.000000000,2,2,0,720835,8a20e253598f1987ad5398eb67d7ff4266915d07,7,2,1,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I105244ba94059a6149b8c72fd7b2eae4923531f7
"
openstack%2Fhorizon~master~I97f5140020857694b5eda17e8f2c02b9b3066e0c,openstack/horizon,master,reno-ussuri,I97f5140020857694b5eda17e8f2c02b9b3066e0c,Update master for stable/ussuri,MERGED,2020-04-17 21:05:53.000000000,2020-04-17 22:06:40.000000000,2020-04-17 22:02:38.000000000,7,0,0,720836,065b033897535a0017180a40dc9fed09adf67ec9,7,2,1,2,22816,OpenStack Release Bot,release,"Update master for stable/ussuri

Add file to the reno documentation build to show release notes for
stable/ussuri.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/ussuri.

Change-Id: I97f5140020857694b5eda17e8f2c02b9b3066e0c
Sem-Ver: feature
"
openstack%2Fmanila-ui~master~I84ec7cae5b051bb9c69969d8ccaa28b053914840,openstack/manila-ui,master,cleanup-py27-support,I84ec7cae5b051bb9c69969d8ccaa28b053914840,Cleanup py27 support,MERGED,2020-04-17 18:23:01.000000000,2020-04-17 22:05:17.000000000,2020-04-17 22:00:53.000000000,11,40,0,720797,4d19dcd9ea126f94a2a68ef5fcb0186b4e9471e6,14,5,3,9,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Add requires on python >= 3.6 to setup.cfg so that pypi and pip
  know about the requirement
- Remove obsolete sections from setup.cfg
- Update classifiers
- Update requirements, no need for python_version anymore
- Switch to using sphinx-build
- Use newer openstackdocstheme and Sphinx versions
- Cleanup */source/conf.py to remove now obsolete content.
- Remove Babel from requirements, it's not needed for running.
- Update lower-constraints for osprofiler as required by
  other dependencies.

Change-Id: I84ec7cae5b051bb9c69969d8ccaa28b053914840
"
openstack%2Fpuppet-nova~master~Ibfd489e977e8f8f52defecacc00cb8afcd1596a1,openstack/puppet-nova,master,provider-credentials,Ibfd489e977e8f8f52defecacc00cb8afcd1596a1,Refer keystone_authtoken instead of neutron to detect region,MERGED,2020-04-14 11:15:28.000000000,2020-04-17 22:03:45.000000000,2020-04-17 22:03:45.000000000,7,6,0,719915,bccf7a3959d0103508a272f04c38eb91a65ee113,18,4,5,1,9816,Takashi Kajinami,kajinamit,"Refer keystone_authtoken instead of neutron to detect region

... because we generally use parameters under keystone_authtoken
to find credentials.

This patch also removes useless and incorrect handling about keystone
version, so that domain parameters are correctly set.

Change-Id: Ibfd489e977e8f8f52defecacc00cb8afcd1596a1
"
openstack%2Fhorizon~stable%2Fussuri~Ic6a4fbbd71fa823f08286a5897c2157446a18932,openstack/horizon,stable/ussuri,create-ussuri,Ic6a4fbbd71fa823f08286a5897c2157446a18932,Update .gitreview for stable/ussuri,MERGED,2020-04-17 21:05:47.000000000,2020-04-17 21:45:54.000000000,2020-04-17 21:43:41.000000000,1,0,0,720834,39888c52df9313069e401b5df5f10693960710bf,7,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/ussuri

Change-Id: Ic6a4fbbd71fa823f08286a5897c2157446a18932
"
openstack%2Fcinder~master~I3c0afece33859552e85cd89626b349b43ebe038a,openstack/cinder,master,bug/1873051,I3c0afece33859552e85cd89626b349b43ebe038a,Correct description for encryption-type policies,MERGED,2020-04-15 18:21:21.000000000,2020-04-17 21:43:43.000000000,2020-04-17 21:38:00.000000000,5,4,0,720262,ab126efcbbb431097cb1a50d34baa5ba2a8217e6,86,26,3,1,5314,Brian Rosmaita,brian-rosmaita,"Correct description for encryption-type policies

The current 'path' (used only for documentation) is incorrect.  Not
a big deal except that using the encryption_id as described there
results in a 404, which is confusing to users.

Change-Id: I3c0afece33859552e85cd89626b349b43ebe038a
Closes-bug: #1873051
"
openstack%2Ftripleo-operator-ansible~master~I11ad3c12de21fe0522d13f966783cb413b661646,openstack/tripleo-operator-ansible,master,generate-scripts,I11ad3c12de21fe0522d13f966783cb413b661646,Add ability to write scripts,MERGED,2020-03-30 22:05:08.000000000,2020-04-17 21:42:27.000000000,2020-04-17 21:42:27.000000000,705,174,10,716093,d2b23da366c7a431e8e08ab702ba4bcf7088ffe9,32,6,8,159,14985,Alex Schultz,mwhahaha,"Add ability to write scripts

Add the ability to write out the command being exected to a script for
the roles that aren't single action list/show/remove/etc as they would
not be something to rerun and are really for ansible-only control.

Change-Id: I11ad3c12de21fe0522d13f966783cb413b661646
"
openstack%2Ftempest~master~I747f3abe179492da063fcaaf1123ffcf6362f966,openstack/tempest,master,worker-path,I747f3abe179492da063fcaaf1123ffcf6362f966,Add --worker-file option in tempest,MERGED,2020-02-20 10:06:29.000000000,2020-04-17 21:41:45.000000000,2020-04-17 21:37:30.000000000,60,0,19,708833,c06c371b32a15e4f677a061a64e50ee2a42b8ca4,44,12,8,3,8367,Arx Cruz,arxcruz,"Add --worker-file option in tempest

This patch add the option --worker-file on tempest run command.
This will enable users to specify a worker file that will be used
by stestr to manually schedule how the tests will run.

Change-Id: I747f3abe179492da063fcaaf1123ffcf6362f966
"
openstack%2Fpython-openstackclient~master~Ibd39328c27b68190e2edbf1f52fcea52db3ae791,openstack/python-openstackclient,master,unittest.mock,Ibd39328c27b68190e2edbf1f52fcea52db3ae791,Use unittest.mock instead of third party mock,MERGED,2020-04-03 22:12:04.000000000,2020-04-17 21:41:20.000000000,2020-04-17 21:37:39.000000000,1,3,0,717410,725e004d32d538f9d163c727308ee20385c0310d,11,3,1,3,11904,Sean McGinnis,SeanM,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: Ibd39328c27b68190e2edbf1f52fcea52db3ae791
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fdevstack~stable%2Fstein~I4649abe06b5893a5251bfcdd4234abccde6ceda2,openstack/devstack,stable/stein,os-testr-stein,I4649abe06b5893a5251bfcdd4234abccde6ceda2,Fix six package on opensuse for pip 10,MERGED,2020-03-26 16:25:44.000000000,2020-04-17 21:40:55.000000000,2020-04-17 21:37:36.000000000,12,3,0,715260,0e6774e0e7426929750d37aa7f2bf16225b78c80,19,5,3,2,8482,Colleen Murphy,krinkle,"Fix six package on opensuse for pip 10

openSUE Leap 15.0 and 15.1 both provide python3-six version 1.11.0.
Since version 1.12.0 was released, pip>=10 recognizes the version
difference and tries to uninstall the distro-provided version and fails.
This change adds another hack to remove the egg-info file for the six
library so that pip can manage it directly. We also have to wait to
install os-testr until after the fixup has happened since trying to
install it triggers the issue.

Depends-on: https://review.opendev.org/715175

Change-Id: I4649abe06b5893a5251bfcdd4234abccde6ceda2
(cherry picked from commit 6eb2c5990d738612c4cec34daeb673092303a50a)
"
openstack%2Ftempest~master~I8c800f6e280ec6fdf204d344124d994a25d0af19,openstack/tempest,master,,I8c800f6e280ec6fdf204d344124d994a25d0af19,compute: Add missing 2.73 response schema validation,MERGED,2020-01-07 19:16:40.000000000,2020-04-17 21:40:17.000000000,2020-04-17 21:37:28.000000000,85,1,2,701433,803b4a7e83ad54ac84967fb2b9f16c1572b0a0c0,55,11,10,4,10135,Lee Yarwood,lyarwood,"compute: Add missing 2.73 response schema validation

Microversion v2.73 was introduced in Nova by I46edd595e7417c58410648
changing the request responses of ``GET servers/{server_id}``, ``GET
/servers/detail``, ``POST /servers/{server_id}/action``  where the
action is rebuild and ``PUT servers/{server_id}``.

Change-Id: I8c800f6e280ec6fdf204d344124d994a25d0af19
"
openstack%2Fcinder~master~I24fe5cedea9384d8708d44efb2f70a9cabfab6ca,openstack/cinder,master,bug/1873110,I24fe5cedea9384d8708d44efb2f70a9cabfab6ca,Resolve deprecation of encryption policy target,MERGED,2020-04-16 15:11:21.000000000,2020-04-17 21:37:56.000000000,2020-04-17 21:37:56.000000000,37,84,0,720502,65604daae00fd742783e8d17b41b879d7daa1144,29,24,1,5,5314,Brian Rosmaita,brian-rosmaita,"Resolve deprecation of encryption policy target

Commit ebc9a12a19bff61bd6101def5cc997513d329bc2 in Stein deprecated
the ""volume_extension:volume_type_encryption"" policy target for later
removal.  Instead of removing the target, this patch removes the
deprecation notice and retains the target as a base policy that can
be used to set the four finer-grained policies in one place.  Also
removes the supporting code that was logging a warning about the
deprecated policy.

See Bug #1873110 for a more thorough discussion of why the
deprecation is being resolved in this way.

Change-Id: I24fe5cedea9384d8708d44efb2f70a9cabfab6ca
Closes-bug: #1873110
"
openstack%2Fcinder~master~I1b51e5e85aa2a928c28e29c54283b6316a56da2a,openstack/cinder,master,bug/1872985,I1b51e5e85aa2a928c28e29c54283b6316a56da2a,Add tests for volume type encryption type policies,MERGED,2020-04-15 13:32:52.000000000,2020-04-17 21:37:50.000000000,2020-04-17 21:37:50.000000000,172,0,0,720201,1e0e7042acd9bfb9f61d6f341785b7fa0404db45,31,26,1,2,5314,Brian Rosmaita,brian-rosmaita,"Add tests for volume type encryption type policies

Before dealing with the policy target deprecation from commit
ebc9a12a19bff61bd6101def5cc997513d329bc2, make sure we have tests
in place to detect any regression in the default policy
configuration.

Closes-bug: #1872985
Change-Id: I1b51e5e85aa2a928c28e29c54283b6316a56da2a
"
openstack%2Fcinder~master~Icd057da62f490defaf3d983e708cf321257b3bda,openstack/cinder,master,bp/restore-unsupported-drivers,Icd057da62f490defaf3d983e708cf321257b3bda,Update upgrade check removed drivers for ussuri,MERGED,2020-04-14 16:56:38.000000000,2020-04-17 21:37:44.000000000,2020-04-17 21:37:44.000000000,6,13,0,720031,19bf3f9cdb1cd1c69b81cc454e9c0f1357fb42d6,51,27,2,2,5314,Brian Rosmaita,brian-rosmaita,"Update upgrade check removed drivers for ussuri

added to removed drivers list:
- zfssa (removed by e4d9a43a284fb19202fce0fd925fefc0704bf1cd)
- hpe_lefthand (removed by 00519aef92258275b68b78355734cda31c354839)

removed from removed drivers list:
- fusionstorage (restored by c79dfa6facbd28d929d2f534b897810b475cbf14)
- nimble (restored by 364b5cc3244e8b1424b4fcffbea811bcb944be86)
- prophetstor (restored by 95c20b99c3c3e00dc774bb40866ad8db5d4fc9c8)
- veritas_access (restored by 207bead25fe37d7b8878f02876e59017a80c7491)
- vzstorage (restored by dd3b307405d223b84a5bcfb99822c07cebf883a5)

Change-Id: Icd057da62f490defaf3d983e708cf321257b3bda
Partially-implements: bp restore-unsupported-drivers
"
openstack%2Fpuppet-glance~stable%2Ftrain~I1dfcb311c10c633788c24484c21277255b60e4e5,openstack/puppet-glance,stable/train,bug/1872691,I1dfcb311c10c633788c24484c21277255b60e4e5,Fix outdated get_glance_crednetials in Puppet::Provider::Glance,MERGED,2020-04-16 23:39:38.000000000,2020-04-17 21:12:23.000000000,2020-04-17 21:12:22.000000000,101,64,0,720618,43f3d5eab2b282d5baa6449f775ed64ee8eb59d6,10,3,2,2,9816,Takashi Kajinami,kajinamit,"Fix outdated get_glance_crednetials in Puppet::Provider::Glance

This patch is a cherry pick of the change in master[2] to update
outdated provider implementation, and introduce the implementetion
consisntent with other modules like puppet-nova or puppet-neutron.

[1] 066f45758d974bb6343c0b92583c8185ef588823

Closes-Bug: #1872691
Change-Id: I1dfcb311c10c633788c24484c21277255b60e4e5
"
openstack%2Fmistral~master~I6eea5db63070bd60fe2475f1fd34e43f855f6aa2,openstack/mistral,master,project-ptl-and-contrib-docs,I6eea5db63070bd60fe2475f1fd34e43f855f6aa2,[ussuri][goal] Add project specific contributor docs,MERGED,2020-04-17 08:23:15.000000000,2020-04-17 21:10:34.000000000,2020-04-17 21:08:29.000000000,127,58,2,720659,c90472d3e60ce7d26afdc0f1c080a41e104e62e9,10,7,1,5,8731,Renat Akhmerov,rakhmerov,"[ussuri][goal] Add project specific contributor docs

* This patch adds more content to the contributor docs as described
  at https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Change-Id: I6eea5db63070bd60fe2475f1fd34e43f855f6aa2
"
openstack%2Fpython-octaviaclient~master~I5ca0fb28f6a24207e2b87bce357fc41a010cd052,openstack/python-octaviaclient,master,reno-ussuri,I5ca0fb28f6a24207e2b87bce357fc41a010cd052,Update master for stable/ussuri,MERGED,2020-04-10 01:56:50.000000000,2020-04-17 20:52:13.000000000,2020-04-17 20:50:30.000000000,7,0,0,718872,ec5b1f5b6e62495b9d4935dc7a8c4d9e7a7ce201,8,3,1,2,22816,OpenStack Release Bot,release,"Update master for stable/ussuri

Add file to the reno documentation build to show release notes for
stable/ussuri.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/ussuri.

Change-Id: I5ca0fb28f6a24207e2b87bce357fc41a010cd052
Sem-Ver: feature
"
openstack%2Fos-client-config~master~I55b4938edae85aa8108be62c49f0ac7fc6682997,openstack/os-client-config,master,cleanup-py27-support,I55b4938edae85aa8108be62c49f0ac7fc6682997,Cleanup py27 support,MERGED,2020-04-05 15:41:20.000000000,2020-04-17 20:43:54.000000000,2020-04-17 20:42:11.000000000,4,18,3,717609,0ef60e6249e0bc41ab3c29fc9cbc86fe17808765,28,6,4,2,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

Make a few cleanups:
- Remove python 2.7 stanza from setup.py
- Add requires on python >= 3.5 to setup.cfg so that pypi and pip
  know about the requirement
- Remove obsolete sections from setup.cfg
- Update classifiers

Depends-On: https://review.opendev.org/718068
Change-Id: I55b4938edae85aa8108be62c49f0ac7fc6682997
"
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fstein~Ic7492863fa7eecadec07b5da76801fe2530dbec6,openstack/openstack-ansible-rabbitmq_server,stable/stein,,Ic7492863fa7eecadec07b5da76801fe2530dbec6,Configure better ciphers for rabbitmq,MERGED,2020-04-09 18:33:18.000000000,2020-04-17 20:34:18.000000000,2020-04-17 20:32:55.000000000,39,0,0,718770,07bf885c797c78b1c09d504adae8a7efc620b5e0,12,5,1,1,13095,Marc GariÃ©py,mgariepy,"Configure better ciphers for rabbitmq

with the default configuration the ssl configuration is vulnerable to
SWEET32.

nmap -sV --script ssl-enum-ciphers -p 5671 <ip>

Change-Id: Ic7492863fa7eecadec07b5da76801fe2530dbec6
"
openstack%2Ftripleo-heat-templates~master~I4e0e1beb733ae1c41d74d488481230026611c6c0,openstack/tripleo-heat-templates,master,bug/1871643,I4e0e1beb733ae1c41d74d488481230026611c6c0,Rename ApacheMaxMaxClients property to ApacheMaxRequestWorkers,MERGED,2020-04-08 14:25:26.000000000,2020-04-17 20:32:40.000000000,2020-04-17 20:32:39.000000000,1,1,2,718472,b009c9c2395376398d4fa31d577bf447e295388f,18,6,2,1,7130,David Hill,dhill,"Rename ApacheMaxMaxClients property to ApacheMaxRequestWorkers

Remove ApacheMaxMaxClients property to set apache::mod::prefork::maxclients
and add ApacheMaxRequestWorkers to set apache::mod::prefork::maxrequestworkers
as the current setting ApacheMaxRequestWorkers sets maxclients and this
is confusing.  This was due to maxclients being renamed to maxrequestworkers
in the apache configuration so was legacy naming.

Change-Id: I4e0e1beb733ae1c41d74d488481230026611c6c0
Closes-bug: #1871643
"
openstack%2Ftripleo-common~master~Ic7696a6ba0fc213b59edf87cf9ef2a804ebca94f,openstack/tripleo-common,master,cleanup-py27-support,Ic7696a6ba0fc213b59edf87cf9ef2a804ebca94f,Cleanup py27 support,MERGED,2020-04-13 14:56:20.000000000,2020-04-17 20:24:12.000000000,2020-04-17 20:22:26.000000000,8,29,0,719531,3cfa46f1d219dfe780f85a69538b8c192cea6836,21,6,2,5,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Add requires on python >= 3.6 to setup.cfg so that pypi and pip
  know about the requirement
- Remove obsolete sections from setup.cfg
- Update classifiers
- Update requirements, no need for python_version anymore
- Use newer openstackdocstheme version

Change-Id: Ic7696a6ba0fc213b59edf87cf9ef2a804ebca94f
"
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I34f4d24849fbfbd7f4a810c748621af7b0150f18,openstack/puppet-openstack-integration,stable/train,trove-param-fix-stable/train,I34f4d24849fbfbd7f4a810c748621af7b0150f18,Fix incorrect parameter about trove,MERGED,2020-04-09 01:50:23.000000000,2020-04-17 20:23:40.000000000,2020-04-17 20:23:40.000000000,1,1,0,718591,16b936efad271cf446270ef83540e1bf5f85d66d,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix incorrect parameter about trove

The parameter $trove should be $trove_enabled.

Change-Id: I34f4d24849fbfbd7f4a810c748621af7b0150f18
(cherry picked from commit 2b561018c01e4d787dade4afd06fa90a482bea87)
"
openstack%2Fproject-config~master~I2244b680eef93f9ff30ffd69c7da0e226a76d427,openstack/project-config,master,cinder-tempest-plugin-gov-change,I2244b680eef93f9ff30ffd69c7da0e226a76d427,Change gerrit ACLs for cinder-tempest-plugin,MERGED,2020-04-15 16:05:26.000000000,2020-04-17 20:01:40.000000000,2020-04-17 19:33:11.000000000,24,1,2,720235,bf5b3504c4fdadcb56e5a2c780ced0c2852a276d,12,5,2,2,5314,Brian Rosmaita,brian-rosmaita,"Change gerrit ACLs for cinder-tempest-plugin

Currently the cinder-tempest-plugin repo uses the cinder ACLs.
Change it to use its own ACL config file governed by a specific
'cinder-tempest-plugin-core' gerrit group.  The cinder-core group
will be added to this as an included group.  This will give us the
option to add cores to cinder-tempest-plugin who aren't also in
cinder-core.

Change-Id: I2244b680eef93f9ff30ffd69c7da0e226a76d427
"
openstack%2Fkolla-ansible~master~I8158ba66b8b624f6bcb89da9c990a30a68b7187b,openstack/kolla-ansible,master,bug/1869319,I8158ba66b8b624f6bcb89da9c990a30a68b7187b,Add vitrage-persistor service,MERGED,2020-03-27 09:02:35.000000000,2020-04-17 20:00:52.000000000,2020-04-17 19:57:07.000000000,74,3,5,715364,d0b06f679b321da59ef9f9154fab4c02f843bb8a,54,9,11,9,30408,Qitao,qihongtao,"Add vitrage-persistor service

Kolla Ansible was missing vitrage-persistor service
required by Vitrage for data storage.

Depends on fixing availability of Kolla image.

Change-Id: I8158ba66b8b624f6bcb89da9c990a30a68b7187b
Depends-On: Id5e143636f9a81e7294b775f3d8b9134bee58054
Closes-Bug: #1869319
"
openstack%2Fkolla-ansible~master~Iacfce48f23dc5887c5f549a70250eee3e4e3f026,openstack/kolla-ansible,master,remove-unused-ceph-rgw-port-variable,Iacfce48f23dc5887c5f549a70250eee3e4e3f026,Remove unused rgw_port ceph variable,MERGED,2020-04-17 14:42:30.000000000,2020-04-17 19:59:03.000000000,2020-04-17 19:57:05.000000000,0,2,0,720732,8bff82d50ef47d5ceb0e512ea05d1211faa4743a,8,2,1,1,30491,RadosÅaw Piliszek,yoctozepto,"Remove unused rgw_port ceph variable

It was missed in kolla-ceph removal in [1].

[1] 4e6fe7a6da4d5471cd0425c781f25f3e9567d3a0

Change-Id: Iacfce48f23dc5887c5f549a70250eee3e4e3f026
"
openstack%2Fkolla~stable%2Ftrain~I4541c3c070ca70a2ee62f2a0e4ac5d70c57ca6e9,openstack/kolla,stable/train,bug/1872432-stable/train,I4541c3c070ca70a2ee62f2a0e4ac5d70c57ca6e9,Fix that the cyborg database init failed.,MERGED,2020-04-16 07:05:02.000000000,2020-04-17 19:58:54.000000000,2020-04-17 19:57:04.000000000,1,1,0,720370,95d82da7e1d85c840646eb6954f812c946c0de17,17,4,1,1,27614,ya.wang,ya.wang,"Fix that the cyborg database init failed.

The database init command should be 'cyborg-dbsync upgrade'.

Change-Id: I4541c3c070ca70a2ee62f2a0e4ac5d70c57ca6e9
Closes-bug: #1872432
(cherry picked from commit 43de719c3ac17085423b381e5938d1bf83e3ff65)
"
openstack%2Ftripleo-ansible~master~If0d6d8a737a22b85ed38e6c64c11d9df81ef3a9b,openstack/tripleo-ansible,master,reduce,If0d6d8a737a22b85ed38e6c64c11d9df81ef3a9b,Simplify tripleo_container_rm to not check binaries,MERGED,2020-04-16 22:16:38.000000000,2020-04-17 19:52:02.000000000,2020-04-17 19:52:02.000000000,4,29,0,720606,e0718665439ffa25cfd6e521ef51d0867a085827,15,5,2,1,3153,Emilien Macchi,emilienm,"Simplify tripleo_container_rm to not check binaries

There is no need to check container cli binaries; since we have
tripleo_container_cli variable, we should expect that binary to be
installed.

At scale, when used with tripleo_container_manage, these stat tasks end
up being run too many times. Let's clean it.

The code was done in the context of:
https://bugs.launchpad.net/tripleo/+bug/1836531

But there is no docker engine anymore, we use Podman since Stein;
so we shouldn't need it anymore.

Change-Id: If0d6d8a737a22b85ed38e6c64c11d9df81ef3a9b
"
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Frocky~I14ab1d8512f31adeab415ae523474b3b2147e263,openstack/openstack-ansible-rabbitmq_server,stable/rocky,,I14ab1d8512f31adeab415ae523474b3b2147e263,fix repo url,MERGED,2020-04-17 15:04:10.000000000,2020-04-17 19:26:14.000000000,2020-04-17 19:26:13.000000000,1,1,0,720744,112a9ed796a4b7f6e1eadb84db965d226842b912,9,3,1,1,13095,Marc GariÃ©py,mgariepy,"fix repo url

the will fix the version of erlang installed in the rabbitmq container.

Change-Id: I14ab1d8512f31adeab415ae523474b3b2147e263
"
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Frocky~I150d2d9f943503847e4a5d6547bfcadb6227e2d7,openstack/openstack-ansible-rabbitmq_server,stable/rocky,,I150d2d9f943503847e4a5d6547bfcadb6227e2d7,Configure better ciphers for rabbitmq,MERGED,2020-04-09 19:09:32.000000000,2020-04-17 19:26:14.000000000,2020-04-17 19:26:14.000000000,39,0,0,718774,127c5a9882c870683d2a4762d143d3ac081f8b48,24,4,2,1,13095,Marc GariÃ©py,mgariepy,"Configure better ciphers for rabbitmq

with the default configuration the ssl configuration is vulnerable to
SWEET32.

nmap -sV --script ssl-enum-ciphers -p 5671 <ip>

Depends-On: https://review.opendev.org/720744
Change-Id: I150d2d9f943503847e4a5d6547bfcadb6227e2d7
"
openstack%2Foslo.config~master~I2f8067eeb2aec62f098bfbb3770a67f1876ce7a2,openstack/oslo.config,master,unittest.mock,I2f8067eeb2aec62f098bfbb3770a67f1876ce7a2,Use unittest.mock instead of third party mock,MERGED,2020-03-31 19:06:45.000000000,2020-04-17 19:04:39.000000000,2020-04-17 19:02:45.000000000,7,9,0,716393,66b3da9689e293cdb819e989b6c469012b3db756,13,4,2,7,11904,Sean McGinnis,SeanM,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I2f8067eeb2aec62f098bfbb3770a67f1876ce7a2
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fpuppet-neutron~stable%2Ftrain~Ib714662235929ee732db5e185286c74c4fb44d56,openstack/puppet-neutron,stable/train,train-centos8,Ib714662235929ee732db5e185286c74c4fb44d56,Prepare new release 15.5.0 in stable/train,MERGED,2020-04-17 08:46:46.000000000,2020-04-17 18:26:20.000000000,2020-04-17 18:26:20.000000000,1,1,0,720665,0d00bb24a1d5eabda52b8e774b950f24dc22fede,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Prepare new release 15.5.0 in stable/train

... because a fix[1] for CentOS8 was merged since the last release.

[1] 445eb54d984ebcd5c5f54b32910c0cb7d31f2d50
Change-Id: Ib714662235929ee732db5e185286c74c4fb44d56
"
openstack%2Freleases~master~I485468ec07f923ea2419b22aae1a1fe610b7b593,openstack/releases,master,horizon-ussuri,I485468ec07f923ea2419b22aae1a1fe610b7b593,Release horizon 18.3.0 (ussuri),MERGED,2020-04-17 13:55:28.000000000,2020-04-17 18:02:26.000000000,2020-04-17 18:02:26.000000000,7,0,0,720720,cde762d0d86f5969798daccf1b4e3d25078ebe96,9,4,1,1,841,Akihiro Motoki,amotoki,"Release horizon 18.3.0 (ussuri)

This is a feature freeze release of horizon Ussuri.
stable/ussuri is created together.

Change-Id: I485468ec07f923ea2419b22aae1a1fe610b7b593
"
openstack%2Fcharm-interface-mysql-router~master~I6ec40bc65f719e1938d9b0ccdb7ad00236f435d0,openstack/charm-interface-mysql-router,master,bug/1841063,I6ec40bc65f719e1938d9b0ccdb7ad00236f435d0,Pass wait timeout all the way through to clients,MERGED,2020-04-15 21:38:56.000000000,2020-04-17 17:24:18.000000000,2020-04-17 17:24:17.000000000,47,4,1,720292,19ac73ab8081ce24285279f784cf807f92faf044,18,6,4,7,20805,David Ames,thedac,"Pass wait timeout all the way through to clients

Pass the non-interactive wait timeout value through.

Closes-Bug: #1841063
Change-Id: I6ec40bc65f719e1938d9b0ccdb7ad00236f435d0
"
openstack%2Fneutron~master~I685c86e19fc1acc29fe048e8f7810006e0bb16a9,openstack/neutron,master,bug/1871340,I685c86e19fc1acc29fe048e8f7810006e0bb16a9,Wait until agent metadata is in SB chassis register,MERGED,2020-04-08 13:58:59.000000000,2020-04-17 17:17:55.000000000,2020-04-17 17:13:24.000000000,8,8,2,718462,ac5094daa660a98aa4b2d616312b4bbacc98d524,27,9,3,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Wait until agent metadata is in SB chassis register

Change-Id: I685c86e19fc1acc29fe048e8f7810006e0bb16a9
Closes-Bug: #1871340
"
openstack%2Fpython-cinderclient~master~I2898616ec6302bb578ddc265d6c6dc02d8415eac,openstack/python-cinderclient,master,no-babel,I2898616ec6302bb578ddc265d6c6dc02d8415eac,Remove Babel from requirements,MERGED,2020-04-17 13:40:14.000000000,2020-04-17 17:16:52.000000000,2020-04-17 17:14:58.000000000,0,2,0,720713,dfb04f1c4ad11e39dfb73db9403ee6e1b87129da,9,4,1,2,10239,Dmitry Tantsur,dtantsur,"Remove Babel from requirements

It's not a runtime dependency (and even oslo.i18n has dropped it).
The translation infrastructure installs Babel explicitly. See
this mailing list thread for a full reasoning:
http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html

Change-Id: I2898616ec6302bb578ddc265d6c6dc02d8415eac
"
openstack%2Fcinderlib~master~I8712045752a7a150a3633451246ed992dee35972,openstack/cinderlib,master,bug/1868148,I8712045752a7a150a3633451246ed992dee35972,DBMS: Fix volume deletion with MySQL,MERGED,2020-03-19 18:59:08.000000000,2020-04-17 17:16:51.000000000,2020-04-17 17:13:33.000000000,24,0,1,713965,cefeef4c7e41bdcc3140cb4ea555187f59e00f7c,14,6,2,3,9535,Gorka Eguileor,Gorka,"DBMS: Fix volume deletion with MySQL

When using the DBMS plugin with MySQL with default configuration (hard
DB row deletes) the deletion of a volume fails if the volume has
metadata or admin metadata.

The reason are the foreign key constraints from those 2 tables, because
we are not deleting their rows before deleting the volume row.

This doesn't fail with SQLite, but we leave rows behind.

With this patch we will delete all metadata and admin_metadata belonging
to the volume before we delete the volume row itself.

Closes-Bug: #1868148
Change-Id: I8712045752a7a150a3633451246ed992dee35972
"
openstack%2Fosc-lib~master~I0a8b15e6680f8ef13693fb961b8eb4c729b37dae,openstack/osc-lib,master,no-babel,I0a8b15e6680f8ef13693fb961b8eb4c729b37dae,Remove Babel from requirements,MERGED,2020-04-06 12:39:10.000000000,2020-04-17 17:15:05.000000000,2020-04-17 17:12:14.000000000,0,2,2,717737,dfe47ced5a754868386fc58a4894ccc0475ef01b,20,6,3,2,10239,Dmitry Tantsur,dtantsur,"Remove Babel from requirements

It's not used in runtime and is only needed (presumably) for building
i18n catalogs.

Change-Id: I0a8b15e6680f8ef13693fb961b8eb4c729b37dae
"
openstack%2Freleases~master~I71a310527f58fcc70a98d48b31806f33dfeb0251,openstack/releases,master,tripleo-repos,I71a310527f58fcc70a98d48b31806f33dfeb0251,Create release for tripleo-repos,MERGED,2020-04-16 12:56:01.000000000,2020-04-17 17:13:50.000000000,2020-04-17 17:13:50.000000000,12,0,1,720461,a1ad3fed73969840ce588c66b265c477a1a75175,10,5,1,1,14985,Alex Schultz,mwhahaha,"Create release for tripleo-repos

We've recently dropped py2 support, so we should create a tag for the
last version that had py2 support.

Change-Id: I71a310527f58fcc70a98d48b31806f33dfeb0251
"
openstack%2Fcinder~stable%2Fqueens~I942d9d8b3976232ae1cf82b698fb27285fbef13a,openstack/cinder,stable/queens,bug/1865011-stable/queens,I942d9d8b3976232ae1cf82b698fb27285fbef13a,ChunkedBackupDriver: Freeing memory on restore,MERGED,2020-03-05 15:29:36.000000000,2020-04-17 17:13:32.000000000,2020-04-17 17:13:32.000000000,3,0,0,711479,614f48d61c8db10d7ee328ad92612fd15f0671d7,71,22,3,1,7130,David Hill,dhill,"ChunkedBackupDriver: Freeing memory on restore

When restoring many backups, the backup service uses a lot of memory and
when we do many concurrent restores the backup service ends up getting
killed becase the system runs out of memory.

This patch reduces the ref count to the data as soon as possible to let
Python garbage collect it instead of hogging it for the whole chunk
restore.

Related-Bug: #1865011
Change-Id: I942d9d8b3976232ae1cf82b698fb27285fbef13a
(cherry picked from commit 69462315bc8416bd02ebd6085f0cfc141cfd8877)
(cherry picked from commit 94db15dd3b86c7da92ceaa4b8c2d948b2b30c65b)
(cherry picked from commit f4aa81424fff8718bd432cc5a7aae357fe028023)
(cherry picked from commit 20b6b7477daae43907f38337aef15a5f47a92283)
"
openstack%2Fshade~master~Iaceea4271459eeb0c5066b2a9304754691c16712,openstack/shade,master,add-victoria-python-jobtemplates,Iaceea4271459eeb0c5066b2a9304754691c16712,Add Python3 victoria unit tests,MERGED,2020-04-10 14:16:25.000000000,2020-04-17 16:58:36.000000000,2020-04-17 16:52:29.000000000,1,1,1,719022,3aaaac9d16a7630a637e44be35cb5cf52faaa8dc,10,2,3,1,22816,OpenStack Release Bot,release,"Add Python3 victoria unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for victoria.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Iaceea4271459eeb0c5066b2a9304754691c16712
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ic063facf1f5f87c0e3a01803937a620a9b77d4b5,openstack/tripleo-ansible,stable/train,domains/train,Ic063facf1f5f87c0e3a01803937a620a9b77d4b5,Correctly set openstack_domains for ansible >= 2.9,MERGED,2020-04-16 21:39:29.000000000,2020-04-17 16:36:22.000000000,2020-04-17 16:36:22.000000000,5,1,0,720599,f89161592f48312b86ef3f94eea1bae52b6f6080,8,5,1,1,3153,Emilien Macchi,emilienm,"Correctly set openstack_domains for ansible >= 2.9

os_keystone_domain_info returns a dict which contains
openstack_domains but currently that dict was considered
as openstack_domains which is wrong, this patch fixes
it.

Closes-Bug: #1867608
Change-Id: Ic063facf1f5f87c0e3a01803937a620a9b77d4b5
(cherry picked from commit e86977ab48e4d7e66bda9060e51e396d4f6a85fe)
"
openstack%2Fopenstack-ansible-tests~stable%2Frocky~Iac3a8eefcf231f735ff617d5605c6e1fda85b164,openstack/openstack-ansible-tests,stable/rocky,,Iac3a8eefcf231f735ff617d5605c6e1fda85b164,Retire repo_build and pip_install roles,MERGED,2020-04-16 17:47:18.000000000,2020-04-17 16:11:30.000000000,2020-04-17 16:11:30.000000000,1,2,0,720572,8abdc48a43ea2cb2893cb632b863e60791a20385,7,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Retire repo_build and pip_install roles

Because of role retirement we need to drop them out of
zuul required projects. However this shouldn't influence role usage
outside of the CI as they are still required for services deployment.

Change-Id: Iac3a8eefcf231f735ff617d5605c6e1fda85b164
"
openstack%2Fnova~master~I5b8b670761057e94911761872fe15250a97447fe,openstack/nova,master,bug/1778563,I5b8b670761057e94911761872fe15250a97447fe,FUP: doc: explaining that resize works for vGPUs,ABANDONED,2020-04-15 17:34:04.000000000,2020-04-17 16:11:16.000000000,,13,2,0,720250,3dddbd0129e81477555d6946fca82cd65e52065f,7,5,1,1,7166,Sylvain Bauza,sbauza,"FUP: doc: explaining that resize works for vGPUs

We have a documentation for virtual GPUs, just modifying it to tell
that now resize and revert resize work with them.

Change-Id: I5b8b670761057e94911761872fe15250a97447fe
"
openstack%2Frally-openstack~master~Iee3463cb65750ef62bc2c5d42dbe0d03c3a4d3d6,openstack/rally-openstack,master,ci_docker,Iee3463cb65750ef62bc2c5d42dbe0d03c3a4d3d6,Add regular pushes to dockerhub,MERGED,2020-04-15 13:17:21.000000000,2020-04-17 16:06:52.000000000,2020-04-17 16:06:52.000000000,213,70,6,720199,f13406795a50a29e9ad4ed67b340216a1cd7920c,47,2,13,8,9545,Andrey Kurilin,akurilin,"Add regular pushes to dockerhub

+ add docker readme
+ add ci job

Depends-On: https://review.opendev.org/#/c/720474
Change-Id: Iee3463cb65750ef62bc2c5d42dbe0d03c3a4d3d6
"
openstack%2Fshade~master~Ifa951b54daf715684a25ba5e1d6dedb230492236,openstack/shade,master,reno-ussuri,Ifa951b54daf715684a25ba5e1d6dedb230492236,Update master for stable/ussuri,MERGED,2020-04-10 14:16:22.000000000,2020-04-17 16:06:35.000000000,2020-04-17 15:59:21.000000000,7,0,0,719021,ccb2031788e95a0908cf3fa416708717840348c1,13,2,4,2,22816,OpenStack Release Bot,release,"Update master for stable/ussuri

Add file to the reno documentation build to show release notes for
stable/ussuri.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/ussuri.

Change-Id: Ifa951b54daf715684a25ba5e1d6dedb230492236
Sem-Ver: feature
"
openstack%2Fdesignate~master~I0a85c5df5c323d6f636c8cb92ee5201c14cdb306,openstack/designate,master,bug/1785769,I0a85c5df5c323d6f636c8cb92ee5201c14cdb306,Worker should send NOTIFY also to all servers in 'also_notifies' pool settings.,MERGED,2018-08-07 09:24:39.000000000,2020-04-17 16:05:08.000000000,2018-10-15 18:55:44.000000000,23,4,0,589409,6e79c2e0816ca59cff9a8b0eb238e1e5add7b943,27,4,2,2,20104,Dmitrii Galkin,galkindmitrii,"Worker should send NOTIFY also to all servers in 'also_notifies' pool settings.

Change-Id: I0a85c5df5c323d6f636c8cb92ee5201c14cdb306
Closes-Bug: #1785769
"
openstack%2Fshade~master~Ia211e31723ede592f19a8df6c18e45699ca25788,openstack/shade,master,py27-jobs,Ia211e31723ede592f19a8df6c18e45699ca25788,Break out py27 job templates,MERGED,2020-04-07 11:28:27.000000000,2020-04-17 16:04:23.000000000,2020-04-17 15:59:20.000000000,25,44,15,718068,3db89db8c611e9bc96ea5c7737d160f1700421fc,23,4,6,9,11904,Sean McGinnis,SeanM,"Break out py27 job templates

To allow non-py27 supporting repos to use shade job templates, this
breaks out the py27 and py3 jobs into separate templates. Relevant repos
can then continue to use the existing template names without picking up
the unsupported job runtimes they no longer need.

Remove the py27-tips jobs - they just don't make any sense any more.

Change-Id: Ia211e31723ede592f19a8df6c18e45699ca25788
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ic2877684cd0210b23b23d852ee59fa49d9013f0d,openstack/tripleo-ansible,stable/train,rm/train,Ic2877684cd0210b23b23d852ee59fa49d9013f0d,podman_container: only add --rm if rm is True,MERGED,2020-04-16 22:00:10.000000000,2020-04-17 15:35:09.000000000,2020-04-17 15:35:09.000000000,3,1,0,720604,4f3baa734d4a8e5c1f120f57cb1a9a92312a296d,8,6,1,1,3153,Emilien Macchi,emilienm,"podman_container: only add --rm if rm is True

If ""rm"" is set to False (default), don't add --rm=False to the podman
command, it seems like podman treats it as --rm anyway. Let's just skip
that parameter if set to False and add it if True.

Change-Id: Ic2877684cd0210b23b23d852ee59fa49d9013f0d
(cherry picked from commit 06bc6505de8dd21ec789e4f69a5563c5ce132d28)
"
openstack%2Ftripleo-ansible~master~Ic2877684cd0210b23b23d852ee59fa49d9013f0d,openstack/tripleo-ansible,master,podman/rm,Ic2877684cd0210b23b23d852ee59fa49d9013f0d,podman_container: only add --rm if rm is True,MERGED,2020-04-16 18:49:14.000000000,2020-04-17 15:35:08.000000000,2020-04-17 15:35:08.000000000,3,1,0,720582,06bc6505de8dd21ec789e4f69a5563c5ce132d28,21,7,2,1,3153,Emilien Macchi,emilienm,"podman_container: only add --rm if rm is True

If ""rm"" is set to False (default), don't add --rm=False to the podman
command, it seems like podman treats it as --rm anyway. Let's just skip
that parameter if set to False and add it if True.

Change-Id: Ic2877684cd0210b23b23d852ee59fa49d9013f0d
"
openstack%2Fsahara-image-elements~master~Ie5bf4b5226a06d828ec24a6134d7ea8a3f45c8db,openstack/sahara-image-elements,master,cleanup-py27-support,Ie5bf4b5226a06d828ec24a6134d7ea8a3f45c8db,Cleanup py27 support,MERGED,2020-04-05 08:29:26.000000000,2020-04-17 15:33:23.000000000,2020-04-17 15:33:22.000000000,1,12,0,717574,2921d50974074f5ec41b022722cccf797848c8bd,11,4,2,2,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

Make a few cleanups:
- Remove python 2.7 stanza from setup.py
- Add requires on python >= 3.6 to setup.cfg so that pypi and pip
  know about the requirement
- Remove obsolete sections from setup.cfg:
  * Wheel is not needed for python 3 only repo

Change-Id: Ie5bf4b5226a06d828ec24a6134d7ea8a3f45c8db
"
openstack%2Fsahara-image-elements~master~I53a334b05a30e98f1df19504cee616e3d145e9e3,openstack/sahara-image-elements,master,fix-linting,I53a334b05a30e98f1df19504cee616e3d145e9e3,Fix linting (both dib-lint and bashate),MERGED,2020-04-16 23:11:33.000000000,2020-04-17 15:33:22.000000000,2020-04-17 15:33:22.000000000,37,1,0,720613,d0b1d24be466a6b53d8b27fbf94597a651b1e57f,7,3,1,8,10459,Luigi Toscano,ltoscano,"Fix linting (both dib-lint and bashate)

- dib-lint: make sure every element has a README.rst file
- bashate: ignore E006 (line too long).

Change-Id: I53a334b05a30e98f1df19504cee616e3d145e9e3
"
openstack%2Foslo.messaging~master~I792154ba794512046b265718c2f01db624413f30,openstack/oslo.messaging,master,zanata/translations,I792154ba794512046b265718c2f01db624413f30,Imported Translations from Zanata,MERGED,2020-04-16 08:13:19.000000000,2020-04-17 15:32:37.000000000,2020-04-17 15:30:02.000000000,290,3,0,720389,d011c7f262c80da4eef5bce517ada3f0cbe379d3,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I792154ba794512046b265718c2f01db624413f30
"
openstack%2Fcharm-interface-mysql-shared~master~I25c2e982ebabe09385e52fef0fb8c97cabe60756,openstack/charm-interface-mysql-shared,master,bug/1841063,I25c2e982ebabe09385e52fef0fb8c97cabe60756,Pass wait timeout all the way through to clients,MERGED,2020-04-15 22:14:09.000000000,2020-04-17 15:28:38.000000000,2020-04-17 15:28:38.000000000,35,4,1,720303,7c50d9e1dcd8361047a90619588c94756165b318,12,4,2,5,20805,David Ames,thedac,"Pass wait timeout all the way through to clients

Pass the non-interactive wait timeout value through.

Change-Id: I25c2e982ebabe09385e52fef0fb8c97cabe60756
Closes-Bug: #1841063
"
openstack%2Fcinder~master~Ifdd2d54ba22d4fdc68be7d39f6f13cd543755df2,openstack/cinder,master,drivers-report-options,Ifdd2d54ba22d4fdc68be7d39f6f13cd543755df2,RBD: Add missing driver options,MERGED,2020-03-18 15:49:48.000000000,2020-04-17 15:27:59.000000000,2020-03-31 20:48:07.000000000,6,3,0,713684,2644ab60665a4a8ef06b154c0a6695fcaf22e313,71,32,2,1,9535,Gorka Eguileor,Gorka,"RBD: Add missing driver options

The RBD driver was missing some of its configuration options in the
`get_driver_options` method returned list.

This patch adds those missing configuration options.

Change-Id: Ifdd2d54ba22d4fdc68be7d39f6f13cd543755df2
"
openstack%2Fkolla~stable%2Ftrain~I1686a110c9166f477216bf7ff9db8ea6e6517917,openstack/kolla,stable/train,collectd_add_pmu_rdt_turbostat,I1686a110c9166f477216bf7ff9db8ea6e6517917,"add collectd-pmu, collectd-rtd and collectd-turbostat to C8",MERGED,2020-04-09 11:26:04.000000000,2020-04-17 15:23:15.000000000,2020-04-17 15:19:13.000000000,7,12,1,718671,fe87b4da9b5a073d4958ddb0d05ca17857d9cdf5,24,6,2,1,31539,Piotr Rabiega,prabiegx,"add collectd-pmu, collectd-rtd and collectd-turbostat to C8

add collectd-pmu to C7

Change-Id: I1686a110c9166f477216bf7ff9db8ea6e6517917
"
openstack%2Fcharm-rabbitmq-server~master~Ib65896cd433a2108a154e18cae6f0089b5e3f44a,openstack/charm-rabbitmq-server,master,enable-focal,Ib65896cd433a2108a154e18cae6f0089b5e3f44a,Enable focal ussuri with functional tests,MERGED,2020-03-24 19:25:39.000000000,2020-04-17 15:05:38.000000000,2020-04-17 15:05:38.000000000,148,1,0,714757,6a16f8a66742d8384b14222d0b51e3b1dfc650c8,19,5,4,5,20870,Alex Kavanagh,ajkavanagh,"Enable focal ussuri with functional tests

The patchset adds ussuri to bionic and focal-ussuri tests.  This depends
on the linked patch below that adds initial focal support to the charm.

Depends-On: Ia239b7c2f0ed2383e220cf0fa4ade443149a3b32
Change-Id: Ib65896cd433a2108a154e18cae6f0089b5e3f44a
"
openstack%2Fcharm-aodh~master~Ia78d983ed7b694acfb4fb0ef2eacb03a10a46600,openstack/charm-aodh,master,bug/1866645,Ia78d983ed7b694acfb4fb0ef2eacb03a10a46600,Enable the focal and ussuri tests in the gate test,MERGED,2020-03-30 17:08:02.000000000,2020-04-17 15:04:25.000000000,2020-04-17 15:04:25.000000000,291,1,0,716025,76d5c5501e6020fa139c7e45154b5d80ffd5c561,29,5,4,4,20870,Alex Kavanagh,ajkavanagh,"Enable the focal and ussuri tests in the gate test

Note, this currently requires the force_deploy option in the tests.yaml
to make it work.

Change-Id: Ia78d983ed7b694acfb4fb0ef2eacb03a10a46600
Related-Bug: #1866645
"
openstack%2Foslo.upgradecheck~master~I678338bda728c683a6cf37df2abb706c48a980e2,openstack/oslo.upgradecheck,master,no-babel,I678338bda728c683a6cf37df2abb706c48a980e2,Remove Babel from requirements,MERGED,2020-04-17 09:44:28.000000000,2020-04-17 14:52:59.000000000,2020-04-17 14:50:56.000000000,0,2,0,720674,4129baee1414e1deb0c0f53c3930ca46204bf3d8,8,3,1,2,10239,Dmitry Tantsur,dtantsur,"Remove Babel from requirements

It's not a runtime dependency (and even oslo.i18n is dropping it).

Change-Id: I678338bda728c683a6cf37df2abb706c48a980e2
"
openstack%2Fcharm-octavia-diskimage-retrofit~master~I877f06eb495703615b27e31f66c6e9645604738f,openstack/charm-octavia-diskimage-retrofit,master,bug/1823718,I877f06eb495703615b27e31f66c6e9645604738f,Add disco-stein bundle to gate tests,ABANDONED,2019-08-27 18:16:38.000000000,2020-04-17 14:46:56.000000000,,15,5,0,678933,8715214dd2c465845237456c446f238e5264e756,11,5,1,4,30670,Camille Rodriguez,crodriguez,"Add disco-stein bundle to gate tests

The bundle disco-stein was in the dev bundles because
a bug with the Python 3.7 syntax prevented the success of
the deployment of HA clusters. This bug is fixed, we can
reintegrate disco-stein in the gate bundles.

Other small additions:
- removing sitepackages in tox.ini to avoid test env pollution
- skip_missing_interpreters in tox.ini set to False to avoid false
positives by skipping missing interpreters.

LP Related-Bug: #1823718
Change-Id: I877f06eb495703615b27e31f66c6e9645604738f
"
openstack%2Foslo-cookiecutter~master~I0decb5537c8d3c920547f4a086b600f7b8782eec,openstack/oslo-cookiecutter,master,no-babel,I0decb5537c8d3c920547f4a086b600f7b8782eec,Remove Babel from requirements,MERGED,2020-04-17 13:44:33.000000000,2020-04-17 14:41:27.000000000,2020-04-17 14:41:27.000000000,0,3,0,720716,891773e45a48d13c5c4bb51c10c52385d9be272c,7,3,1,2,10239,Dmitry Tantsur,dtantsur,"Remove Babel from requirements

It's not a runtime dependency (and even oslo.i18n has dropped it).
The translation infrastructure installs Babel explicitly. See
this mailing list thread for a full reasoning:
http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html

Change-Id: I0decb5537c8d3c920547f4a086b600f7b8782eec
"
openstack%2Fcharm-keystone~master~I0ccccdab92cb46f7354732f9d620797910ba55c0,openstack/charm-keystone,master,fix-password-security-compliance-invalid-yaml-warning,I0ccccdab92cb46f7354732f9d620797910ba55c0,Silence the YAML NoneType warning for password_security-compliance,MERGED,2020-04-16 14:21:43.000000000,2020-04-17 14:40:09.000000000,2020-04-17 14:40:09.000000000,7,3,0,720489,5871699dd40e1b3d8fcdc30eb9cb39c5bd1563e7,9,4,1,1,20870,Alex Kavanagh,ajkavanagh,"Silence the YAML NoneType warning for password_security-compliance

If the value is not set (the default) then the context causes a error
message to be emitted to the Juju log.  Whilst this doesn't affect the
operations of the charm, it is likely to cause support requests.  This
change only attempts to decode the config option if it is actually set.

Change-Id: I0ccccdab92cb46f7354732f9d620797910ba55c0
"
openstack%2Frpm-packaging~master~I66cbb51b16a37765916e1c05acd2789d0dff954b,openstack/rpm-packaging,master,ironicclient-ver,I66cbb51b16a37765916e1c05acd2789d0dff954b,Set version of python-ironicclient to 4.1.0,MERGED,2020-04-16 13:02:15.000000000,2020-04-17 14:34:47.000000000,2020-04-17 14:34:47.000000000,2,2,0,720466,785f1526e8dc73bd201753ff3fec77cde5f989ce,13,6,2,1,23851,Riccardo Pittau,elfosardo,"Set version of python-ironicclient to 4.1.0

Also remove six dependency as it's not needed anymore

Change-Id: I66cbb51b16a37765916e1c05acd2789d0dff954b
"
openstack%2Fpuppet-neutron~master~Iba2b73adcf68407994a0651351babcb6cd9ddff3,openstack/puppet-neutron,master,min-bw,Iba2b73adcf68407994a0651351babcb6cd9ddff3,Add support for resource provider bandwidth in Neutron config,MERGED,2020-04-09 21:47:53.000000000,2020-04-17 14:33:43.000000000,2020-04-17 14:32:01.000000000,119,43,8,718822,9c8dce525526e6154d65525964fbb16932be3262,23,6,4,6,11975,Slawek Kaplonski,slaweq,"Add support for resource provider bandwidth in Neutron config

Neutron introduced bandwidth aware scheduling some time ago. In [1]
new config options to set up available bandwidth in ovs agent was
introduced.
In [2] similar config options for SR-IOV agent was also added.

This patch adds support for both of them in neutron puppet module.

Related Tripleo-heat-templates patch is [3]

[1] https://review.opendev.org/#/c/577223/
[2] https://review.opendev.org/#/c/581364/
[3] https://review.opendev.org/#/c/714464/

Change-Id: Iba2b73adcf68407994a0651351babcb6cd9ddff3
"
openstack%2Fmasakari~master~Ie32f6c0933e15edc78a86687742a4e87e3623a85,openstack/masakari,master,bug/1858762,Ie32f6c0933e15edc78a86687742a4e87e3623a85,Ignoring host recovery if host_status is `UNKNOWN`,MERGED,2020-03-24 06:23:23.000000000,2020-04-17 14:20:15.000000000,2020-04-17 11:44:17.000000000,44,1,26,714573,115aa6c49ac0bad7c3c57c466192440d166e3b5f,41,5,6,2,27302,Shilpa Devharakar,shilpa.devharakar,"Ignoring host recovery if host_status is `UNKNOWN`

This patch adds validation to ignore host recovery if received
host_status as `UNKNOWN` in notification payload.

Change-Id: Ie32f6c0933e15edc78a86687742a4e87e3623a85
Closes-Bug: #1858762
"
openstack%2Fovn-octavia-provider~master~Ic72aad21e0ecf5b0334b321b18515d909daa3ba4,openstack/ovn-octavia-provider,master,improve-coverage,Ic72aad21e0ecf5b0334b321b18515d909daa3ba4,Improve test coverage,MERGED,2020-03-23 20:04:46.000000000,2020-04-17 14:08:14.000000000,2020-04-17 14:05:43.000000000,151,5,1,714525,eb1e24ac46f458887a31ffde54342ec2e34345f7,18,4,3,3,1131,Brian Haley,brian-haley,"Improve test coverage

Added a number of unit tests based on coverage report
data, it's up to 79% now.

Fixed test_pool_create_exception() to call pool_create()
instead of pool_update().

Also fixed a bug in the driver.pool_update() exception code
path found when adding a new test, status['pools'] is the
correct element.

Change-Id: Ic72aad21e0ecf5b0334b321b18515d909daa3ba4
"
openstack%2Fstackviz~master~I11a5cca7e622cdcb2f8eb5c9853e35647969200d,openstack/stackviz,master,cleanup-py27-support,I11a5cca7e622cdcb2f8eb5c9853e35647969200d,Cleanup py27 support,MERGED,2020-04-07 16:41:38.000000000,2020-04-17 13:54:02.000000000,2020-04-17 13:51:47.000000000,2,17,2,718170,06227670f8ff075fed4470a070642d38c238beaa,11,6,1,2,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

Make a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Update classifiers

Change-Id: I11a5cca7e622cdcb2f8eb5c9853e35647969200d
"
openstack%2Fneutron~master~I20e61249cc91a5ea2c9652f99b6dac287462b305,openstack/neutron,master,bug/1871730,I20e61249cc91a5ea2c9652f99b6dac287462b305,Additions to ovn-db-local.conf.sample,MERGED,2020-04-09 15:40:17.000000000,2020-04-17 13:47:55.000000000,2020-04-17 13:43:15.000000000,8,0,0,718735,d84088135993e218d9ae852a200ff3f1c7c4a81b,18,9,3,1,8313,Lajos Katona,elajkat,"Additions to ovn-db-local.conf.sample

To run ovn-northd on a host the sample file is not enough as it is now.

Change-Id: I20e61249cc91a5ea2c9652f99b6dac287462b305
Related-Bug: #1871730
"
openstack%2Fopenstack-helm-infra~master~I6579d2868c6ea6d74feb62e65cdb15e3f647fe72,openstack/openstack-helm-infra,master,,I6579d2868c6ea6d74feb62e65cdb15e3f647fe72,Fix helm tests for Ceph 14.2.8,ABANDONED,2020-04-14 12:08:27.000000000,2020-04-17 13:36:59.000000000,,6,6,0,719928,90137525ceb2d5882ecbb9d8e9511c84d6d26c88,11,3,3,2,28735,Denys Myrhorodskyi,dmyrhorodskyi,"Fix helm tests for Ceph 14.2.8

Since Ceph 14.2.8 output of 'ceph osd stat' in json-pretty
format changed. OSD stats were put in osdmap field. This
commit fixes helm tests according changes in Ceph.

Change-Id: I6579d2868c6ea6d74feb62e65cdb15e3f647fe72
"
openstack%2Fmagnum~master~Ib7e0503d475d7cd3164a116c3a0325c4ae417a0a,openstack/magnum,master,story-2006631,Ib7e0503d475d7cd3164a116c3a0325c4ae417a0a,Change the order of resource creation,MERGED,2019-09-27 15:30:50.000000000,2020-04-17 13:34:29.000000000,2019-10-01 22:55:00.000000000,2,0,0,685383,cd054f20acd030042596e67d1c47eb3b6cde4c0c,26,9,2,2,30609,Stanislav Dmitriev,sdmitriev,"Change the order of resource creation

Resource creation order in kubernetes templates for Fedora Atomic
was changed to avoid neutron bug https://bugs.launchpad.net/neutron/+bug/1845360
Floating IP should be assigned to network port after instance creation

Change-Id: Ib7e0503d475d7cd3164a116c3a0325c4ae417a0a
Story: 2006631
Task: 36844
"
openstack%2Fpuppet-ironic~master~I49adcbb6d90b2ef051cd862362fa1a7144fd9093,openstack/puppet-ironic,master,inspector-auth,I49adcbb6d90b2ef051cd862362fa1a7144fd9093,Add new classes to define keystone credentials for inspector,MERGED,2020-04-13 12:54:47.000000000,2020-04-17 13:24:41.000000000,2020-04-17 13:22:49.000000000,667,105,0,719454,762804b38e65ac5ccfa4e6254180f47641242e83,28,4,10,8,9816,Takashi Kajinami,kajinamit,"Add new classes to define keystone credentials for inspector

This patch introduces the following new classes, to define keystone
credentials used in ironic-inspector.

 - ironic::inspector::ironic
 - ironic::inspector::service_catalog
 - ironic::inspector::swift

Change-Id: I49adcbb6d90b2ef051cd862362fa1a7144fd9093
"
openstack%2Fnetworking-ovn~stable%2Fstein~I62f53dbd862c0f38af4a1434d453e97c18777eb4,openstack/networking-ovn,stable/stein,bug/1861510,I62f53dbd862c0f38af4a1434d453e97c18777eb4,Don't reschedule hosts unless we need to,MERGED,2020-04-09 12:48:46.000000000,2020-04-17 13:24:40.000000000,2020-04-17 13:21:38.000000000,314,57,1,718691,86cc4f692cad299a09ca79675bf5d9f6b701c322,19,4,3,10,24791,Maciej Jozefczyk,maciej.jozefczyk,"Don't reschedule hosts unless we need to

Only reschedule gateways/update segments when things have changed
that would require those actions.

This code has been cherry-picked from neutron:
https://review.opendev.org/#/c/705660

Co-Authored-By: Terry Wilson <twilson@redhat.com>

Conflicts:
      networking_ovn/common/utils.py
      networking_ovn/ovsdb/ovsdb_monitor.py
      networking_ovn/tests/unit/l3/test_l3_ovn.py
      networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py

Change-Id: I62f53dbd862c0f38af4a1434d453e97c18777eb4
Closes-bug: #1861510
Closes-bug: #1861509
"
openstack%2Fpuppet-cloudkitty~master~I9e141b70d52d64b72555de7a15043303f57b5cc0,openstack/puppet-cloudkitty,master,fix-stop-cloudkitty-api,I9e141b70d52d64b72555de7a15043303f57b5cc0,Fix API service scheduling,MERGED,2018-12-13 11:41:18.000000000,2020-04-17 13:22:46.000000000,2020-04-17 13:22:46.000000000,27,44,1,624961,7829638197752a405db1fd928c83b5ab112768a6,36,7,11,3,6476,Thomas Goirand,thomas-goirand,"Fix API service scheduling

Change-Id: I9e141b70d52d64b72555de7a15043303f57b5cc0
"
openstack%2Fnetworking-ovn~stable%2Fqueens~I62f53dbd862c0f38af4a1434d453e97c18777eb4,openstack/networking-ovn,stable/queens,bug/1861510,I62f53dbd862c0f38af4a1434d453e97c18777eb4,Don't reschedule hosts unless we need to,MERGED,2020-04-09 12:51:44.000000000,2020-04-17 13:21:37.000000000,2020-04-17 13:21:37.000000000,314,57,0,718693,c71c95a7a3b1f8f2c8b9cf3b048d8dddde8bf891,15,4,3,10,24791,Maciej Jozefczyk,maciej.jozefczyk,"Don't reschedule hosts unless we need to

Only reschedule gateways/update segments when things have changed
that would require those actions.

This code has been cherry-picked from neutron:
https://review.opendev.org/#/c/705660

Co-Authored-By: Terry Wilson <twilson@redhat.com>

Conflicts:
      networking_ovn/common/utils.py
      networking_ovn/ovsdb/ovsdb_monitor.py
      networking_ovn/tests/unit/l3/test_l3_ovn.py
      networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py

Change-Id: I62f53dbd862c0f38af4a1434d453e97c18777eb4
Closes-bug: #1861510
Closes-bug: #1861509
"
openstack%2Fansible-role-collect-logs~master~I8845f3f57208a0fbf415f7a365887e001a60952e,openstack/ansible-role-collect-logs,master,fix/in-line,I8845f3f57208a0fbf415f7a365887e001a60952e,Improve containers logs collection (v2),ABANDONED,2020-02-03 17:44:18.000000000,2020-04-17 13:19:43.000000000,,79,87,7,705501,88cc02967c90dc404c07fde45f84522b5c8da0c7,6,4,1,1,24162,Sorin SbÃ¢rnea,ssbarnea,"Improve containers logs collection (v2)

Based on https://review.opendev.org/#/c/705347/8 but put in a standalone file.

Change-Id: I8845f3f57208a0fbf415f7a365887e001a60952e
"
openstack%2Fproject-config~master~Ib1bd96a3ace6920479137f99cb0c581dccb13e3c,openstack/project-config,master,,Ib1bd96a3ace6920479137f99cb0c581dccb13e3c,Add periodic-weekly pipeline,MERGED,2020-03-11 15:09:07.000000000,2020-04-17 13:19:34.000000000,2020-03-11 19:28:38.000000000,17,1,6,712473,de2d9be5e2c63debafc2b88b9508d6386f02393a,19,9,4,1,24162,Sorin SbÃ¢rnea,ssbarnea,"Add periodic-weekly pipeline

Adds a periodic pipeline which runs weekly in addition to the current
one that runs daily, which is too often for some jobs.

Change-Id: Ib1bd96a3ace6920479137f99cb0c581dccb13e3c
"
openstack%2Fcharm-vault~master~I24362d23e2445970a7d1b078380f22dc672487ee,openstack/charm-vault,master,support-application-certs,I24362d23e2445970a7d1b078380f22dc672487ee,Support application certs,MERGED,2020-03-25 12:04:35.000000000,2020-04-17 13:00:36.000000000,2020-04-17 13:00:36.000000000,14,2,0,714925,dd4e04db45f18491a93f6e7525f7cd5ceaabe412,10,5,1,2,12549,gnuoy,gnuoy,"Support application certs

The idea of an application cert is that it is identical on all
units. To generate one the interface collects all the published
sans and cns from the clients and generates one certificate
which is valid for all of them.

This change relies on an interface change *1

*1 https://github.com/juju-solutions/interface-tls-certificates/pull/22

Change-Id: I24362d23e2445970a7d1b078380f22dc672487ee
"
openstack%2Fcharms.ceph~master~If8fa9020d9cbe2c8fcf981abd737653173926341,openstack/charms.ceph,master,add-apply_osd_settings,If8fa9020d9cbe2c8fcf981abd737653173926341,Add apply_osd_settings,MERGED,2020-03-30 13:03:24.000000000,2020-04-17 12:50:32.000000000,2020-04-17 12:50:32.000000000,157,0,1,715936,4fc32cc401bf43107e907369d7ec38acd95f99eb,12,2,4,2,12549,gnuoy,gnuoy,"Add apply_osd_settings

Add apply_osd_settings for applying osd settings to running osd
daemons.

Change-Id: If8fa9020d9cbe2c8fcf981abd737653173926341
"
openstack%2Fironic~master~I633761714231f462964c6ca4138ca74bada68d1f,openstack/ironic,master,02-validate-boot-cleaning,I633761714231f462964c6ca4138ca74bada68d1f,Do boot validation on cleaning,ABANDONED,2020-04-17 08:24:42.000000000,2020-04-17 12:31:05.000000000,,24,0,0,720661,28b02f9549332179ec08cdd5622e6dca666efb51,5,3,1,3,26340,Ilya Etingof,etingof,"Do boot validation on cleaning

Added missing boot interface validation as part of agent
preparation for cleaning. Depending on the hardware type being
used for agent invocation, boot interface might need to be
validated to catch possible agent booting issues.

Change-Id: I633761714231f462964c6ca4138ca74bada68d1f
"
openstack%2Fservice-types-authority~master~Ie5d87c62cca191c345bc273e9e43415ec4501df7,openstack/service-types-authority,master,cleanup-py27-support,Ie5d87c62cca191c345bc273e9e43415ec4501df7,Cleanup py27 support,MERGED,2020-04-11 14:25:06.000000000,2020-04-17 12:25:44.000000000,2020-04-17 12:24:04.000000000,3,15,0,719183,40c278a44902788919b0bba17dc54d485425c04a,9,4,1,3,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove obsolete sections from setup.cfg
- Cleanup doc/source/conf.py to remove now obsolete content.
- Use newer openstackdocstheme version
- Remove hacking from requirements, it's required in tox.ini already

Change-Id: Ie5d87c62cca191c345bc273e9e43415ec4501df7
"
openstack%2Fnetworking-ovn~stable%2Frocky~I62f53dbd862c0f38af4a1434d453e97c18777eb4,openstack/networking-ovn,stable/rocky,bug/1861510,I62f53dbd862c0f38af4a1434d453e97c18777eb4,Don't reschedule hosts unless we need to,MERGED,2020-04-09 12:51:28.000000000,2020-04-17 12:23:55.000000000,2020-04-17 12:23:55.000000000,314,57,0,718692,4e0335f5360b1a484ded380f504be8a7789ef23f,16,4,3,10,24791,Maciej Jozefczyk,maciej.jozefczyk,"Don't reschedule hosts unless we need to

Only reschedule gateways/update segments when things have changed
that would require those actions.

This code has been cherry-picked from neutron:
https://review.opendev.org/#/c/705660

Co-Authored-By: Terry Wilson <twilson@redhat.com>

Conflicts:
      networking_ovn/common/utils.py
      networking_ovn/ovsdb/ovsdb_monitor.py
      networking_ovn/tests/unit/l3/test_l3_ovn.py
      networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py

Change-Id: I62f53dbd862c0f38af4a1434d453e97c18777eb4
Closes-bug: #1861510
Closes-bug: #1861509
"
openstack%2Ftripleo-ansible~master~I639abc710d7f51dd081b4c270a5a8655a2913fbd,openstack/tripleo-ansible,master,systemd/improve/again,I639abc710d7f51dd081b4c270a5a8655a2913fbd,DNM - debug,ABANDONED,2020-04-16 23:29:18.000000000,2020-04-17 12:18:55.000000000,,2,1,0,720616,a428c6e08cae048a82f510ca354d817a59996157,4,2,1,2,3153,Emilien Macchi,emilienm,"DNM - debug

Change-Id: I639abc710d7f51dd081b4c270a5a8655a2913fbd
"
openstack%2Fproject-config~master~I735ffaa801b5069939e14df113d59d587cc81efe,openstack/project-config,master,pypy,I735ffaa801b5069939e14df113d59d587cc81efe,Remove pypy job from bindep,MERGED,2020-04-16 16:17:07.000000000,2020-04-17 12:17:08.000000000,2020-04-17 12:17:08.000000000,0,1,0,720543,d8cad25c57a24c6b05cae4d4661ddd141b5a3824,8,4,1,1,6547,Andreas Jaeger,jaegerandi,"Remove pypy job from bindep

We don't care about pypy anymore, this is one of the last few uses in
all of OpenDev. Remove it.

Change-Id: I735ffaa801b5069939e14df113d59d587cc81efe
"
openstack%2Fmagnum~master~Ib64efe7ecbe9a24e86fa9d9a35a4d90c0e8bbf2e,openstack/magnum,master,rpc-statd,Ib64efe7ecbe9a24e86fa9d9a35a4d90c0e8bbf2e,fcos-kubelet: Add rpc-statd dependency,MERGED,2020-04-14 14:03:54.000000000,2020-04-17 12:08:28.000000000,2020-04-17 10:50:50.000000000,14,0,3,719975,1ea8db948ccd55eb5b1ceb76944a778fd81a4b16,27,4,2,3,20498,Spyros Trigazis,strigazi,"fcos-kubelet: Add rpc-statd dependency

To mount nfs volumes with the embedded volume
pkg [0], rpc-statd is required and should be
started by mount.nfs. When running kubelet
in a chroot this fails. With atomic containers
it used to work.

[0] https://github.com/kubernetes/kubernetes/tree/master/pkg/volume/nfs

story: 2005201
task: 39403

Change-Id: Ib64efe7ecbe9a24e86fa9d9a35a4d90c0e8bbf2e
Signed-off-by: Spyros Trigazis <strigazi@gmail.com>
"
openstack%2Fmagnum~stable%2Ftrain~I97e78e8d77973e03eeff598b212287945ca00190,openstack/magnum,stable/train,story/2007026/task/39453,I97e78e8d77973e03eeff598b212287945ca00190,Remove nodeSelector for flannel DaemonSet,MERGED,2020-04-17 10:19:05.000000000,2020-04-17 12:07:06.000000000,2020-04-17 12:04:52.000000000,1,3,0,720682,9c61de289845ef62646d4959a04fd13836063e02,9,4,1,1,22997,xinliang,xinliang.liu,"Remove nodeSelector for flannel DaemonSet

According to upstream kube-flannel.yml PR[1], node-selector introduced
is because flannel image doesn't support multiarch manifestes. Which
means that it can't specify flannel:version-arch images in the same
daemonset for every arch platform. To make every arch platform can
deploy flannel upstream add one daemonset with nodeSelector per arch.

But in magnum flannel image tag is configurable via label, thus every
arch platform can use one daemonset to deploy by specify corresponding
flannel image tag. So nodeSelector is unnecessary here.

[1]: https://github.com/coreos/flannel/pull/989

Change-Id: I97e78e8d77973e03eeff598b212287945ca00190
Task: 39453
Story: 2007026
(cherry picked from commit 6a3762173279dd7fd85d767eb7d6e07b4760270c)
"
openstack%2Fneutron~master~Ica953cc2038b24c4b3985447b393763912aa6abd,openstack/neutron,master,bug/1871908,Ica953cc2038b24c4b3985447b393763912aa6abd,[Fullstack] Handle properly BrokenPipeError exception,MERGED,2020-04-09 19:37:34.000000000,2020-04-17 11:42:26.000000000,2020-04-17 11:35:51.000000000,8,4,5,718781,c92950b0eea55b8f16ae4ecea9366dba4419545a,38,9,2,1,11975,Slawek Kaplonski,slaweq,"[Fullstack] Handle properly BrokenPipeError exception

NetcatTester class should handle BrokenPipeError exception
and not raise it to fail test immediately if nc process wasn't
yet started when it tries first time to read/write something to
it.

Change-Id: Ica953cc2038b24c4b3985447b393763912aa6abd
Closes-Bug: #1871908
"
openstack%2Fkolla~stable%2Fstein~Id5e143636f9a81e7294b775f3d8b9134bee58054,openstack/kolla,stable/stein,bug/1869319-stable/stein,Id5e143636f9a81e7294b775f3d8b9134bee58054,Add vitrage-persistor image,MERGED,2020-04-11 13:28:43.000000000,2020-04-17 11:42:20.000000000,2020-04-17 11:40:24.000000000,48,0,0,719178,f7cf4df5ada5553ce4cf2433ebf40276fe59a803,10,4,1,2,22165,caoyuan,caoyuan,"Add vitrage-persistor image

Kolla was missing vitrage-persistor image required by Vitrage
for data storage.

Change-Id: Id5e143636f9a81e7294b775f3d8b9134bee58054
Closes-Bug: #1869319
(cherry picked from commit ad06096448a585a16ad73b610b0adc81b597ccec)
"
openstack%2Fkolla~stable%2Ftrain~Id5e143636f9a81e7294b775f3d8b9134bee58054,openstack/kolla,stable/train,bug/1869319-stable/train,Id5e143636f9a81e7294b775f3d8b9134bee58054,Add vitrage-persistor image,MERGED,2020-04-11 13:27:29.000000000,2020-04-17 11:42:14.000000000,2020-04-17 11:40:23.000000000,48,0,0,719176,c1fd2f9516408efe98eacc11f9508aa89cf40cdf,10,5,1,2,22165,caoyuan,caoyuan,"Add vitrage-persistor image

Kolla was missing vitrage-persistor image required by Vitrage
for data storage.

Change-Id: Id5e143636f9a81e7294b775f3d8b9134bee58054
Closes-Bug: #1869319
(cherry picked from commit ad06096448a585a16ad73b610b0adc81b597ccec)
"
openstack%2Fironic-inspector~master~I5654d4bf5131ab4c900f9dfd77358c5f8100b38a,openstack/ironic-inspector,master,ironic-convert-dib,I5654d4bf5131ab4c900f9dfd77358c5f8100b38a,Add variable to set discovery timeout in tempest tests,MERGED,2020-04-16 08:29:47.000000000,2020-04-17 11:38:14.000000000,2020-04-17 11:33:40.000000000,6,0,0,720394,216de6692b4341afdb336a3771abf576cf7fb695,15,5,2,1,23851,Riccardo Pittau,elfosardo,"Add variable to set discovery timeout in tempest tests

Discovery can take longer based on which image we use for testing.
This patch adds a variable to control the discovery timeout.

Change-Id: I5654d4bf5131ab4c900f9dfd77358c5f8100b38a
"
openstack%2Fopenstacksdk~stable%2Frocky~I384d1ad9a3e51393c08941c75eaec2bc793386e3,openstack/openstacksdk,stable/rocky,collection-jobs,I384d1ad9a3e51393c08941c75eaec2bc793386e3,"Add tests for Ansible built-in modules in 2.8,2.9",MERGED,2020-03-20 11:12:08.000000000,2020-04-17 11:35:56.000000000,2020-04-17 11:35:55.000000000,17,39,1,714086,a59c8c6f87f46fb195c0cb386e4bcf91772e6799,26,5,4,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add tests for Ansible built-in modules in 2.8,2.9

Change-Id: I384d1ad9a3e51393c08941c75eaec2bc793386e3
"
openstack%2Fopenstacksdk~stable%2Frocky~I85c0a07d21aa085012f9249e53fa72d01497c3a6,openstack/openstacksdk,stable/rocky,collection-jobs,I85c0a07d21aa085012f9249e53fa72d01497c3a6,Add ansible collection job to rocky branch,MERGED,2020-03-20 10:59:42.000000000,2020-04-17 11:35:55.000000000,2020-04-17 11:35:55.000000000,2,0,0,714079,f5c557a4b357acb2dfb6cfc9b9883d115f21e922,20,6,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add ansible collection job to rocky branch

Change-Id: I85c0a07d21aa085012f9249e53fa72d01497c3a6
"
openstack%2Ftripleo-common~master~I16e6d462b0eca60e75eb5b91259575e62f17fe31,openstack/tripleo-common,master,bug/1860556,I16e6d462b0eca60e75eb5b91259575e62f17fe31,Use healthcheck_port for ironic_inspector_dnsmasq healthcheck,MERGED,2020-04-15 18:02:59.000000000,2020-04-17 11:24:42.000000000,2020-04-17 04:26:56.000000000,1,1,0,720258,e284c5f75bc78e5eeb654b0202b752ebd27c6068,13,5,1,1,21909,Bob Fournier,bfournie,"Use healthcheck_port for ironic_inspector_dnsmasq healthcheck

ironic_inspector_dnsmasq healthchecks currently use healthcheck_listen()
to check if dnsmasq is listening for udp packets on the DHCP port. In
Train we are seeing occasional failures with this healthcheck. It may be
the same issue as in https://bugs.launchpad.net/tripleo/+bug/1860556,
which was resolved for healthcheck_port but not for healthcheck_listen.

It appears that this has been redone in master to get away from 'ss' -
https://review.opendev.org/#/c/708339/. However, in master healthcheck_listen
only works with tcp ports, so the ironic_inspector_dnsmasq healthcheck
fails in master too.

A better way is to use healthcheck_port for ironic_inspector_dnsmasq
healthchecks. Since this is a udp port, this will work with Train and master

Change-Id: I16e6d462b0eca60e75eb5b91259575e62f17fe31
Closes-Bug: 1873049
"
openstack%2Fkolla~master~Ic492786072586281f25d315d74482040f9abfe0c,openstack/kolla,master,,Ic492786072586281f25d315d74482040f9abfe0c,CI: add kolla-ansible-debian-source-aarch64 job,MERGED,2020-04-16 17:26:22.000000000,2020-04-17 11:18:38.000000000,2020-04-17 11:10:30.000000000,1,0,0,720566,64ff6feed7ea4566efce33a6d4e6d7283879d169,13,4,2,1,24072,Marcin Juszkiewicz,hrw,"CI: add kolla-ansible-debian-source-aarch64 job

We have it defined in kolla-ansible so let's use it.

Change-Id: Ic492786072586281f25d315d74482040f9abfe0c
"
openstack%2Fkolla~master~I13be95df12ed30a366bd7d0e934704bd338781cf,openstack/kolla,master,,I13be95df12ed30a366bd7d0e934704bd338781cf,nova-libvirt: fix after centos 7 removal damage,MERGED,2020-04-16 13:51:13.000000000,2020-04-17 11:16:46.000000000,2020-04-17 11:10:29.000000000,1,8,2,720480,0ca49532692a19f4ada5feb99141afda27e16277,14,5,1,1,24072,Marcin Juszkiewicz,hrw,"nova-libvirt: fix after centos 7 removal damage

Removal of CentOS 7 butchered Dockerfile.j2 so UEFI was not installed in
Debian/Ubuntu images.

Change-Id: I13be95df12ed30a366bd7d0e934704bd338781cf
"
openstack%2Fkayobe~stable%2Ftrain~Ie0edf6a924a914395c6502e2d5cf1139bce14a48,openstack/kayobe,stable/train,,Ie0edf6a924a914395c6502e2d5cf1139bce14a48,CentOS 8: seed VM & bifrost,MERGED,2020-04-15 19:34:41.000000000,2020-04-17 11:13:01.000000000,2020-04-17 11:09:03.000000000,26,16,0,720278,359d2b0d580f05fb10eaddb88ad6707476c5450a,18,5,1,6,14826,Mark Goddard,mgoddard,"CentOS 8: seed VM & bifrost

* Install iptables on seed for SNAT - missing on CentOS 8
* Fix provider network MTU lookup for empty string
* Bump stackhpc.libvirt-host to 1.7.0 for CentOS 8 support
* Bump stackhpc.libvirt-vm to 1.13.0 for CentOS 8 support
* Bump jriguera.configdrive for Python 3 support

The following changes from the master version of this patch are not
applied here. These should be applied through configuration:

* Change default seed VM image to CentOS 8
* Change default bifrost deploy image to CentOS 8
* Workaround DIB bug
  https://bugs.launchpad.net/diskimage-builder/+bug/1866847 by setting
  DIB_DISABLE_KERNEL_CLEANUP to 1

Change-Id: Ie0edf6a924a914395c6502e2d5cf1139bce14a48
Story: 2006574
Task: 39000
(cherry picked from commit 51b84b6001e90435aa76aa09a763edf8063ed085)
"
openstack%2Fneutron~stable%2Frocky~Id4066b5cff933ccd0dd3c751bf67b5d58af662d1,openstack/neutron,stable/rocky,fix-l3-qos-stable/rocky,Id4066b5cff933ccd0dd3c751bf67b5d58af662d1,Support iproute2 4.15 in l3_tc_lib,MERGED,2020-04-14 07:40:42.000000000,2020-04-17 10:58:44.000000000,2020-04-17 10:58:44.000000000,110,34,0,719751,e04ed368ad975b7a39262945b8900c13b7e13807,36,6,1,2,11975,Slawek Kaplonski,slaweq,"Support iproute2 4.15 in l3_tc_lib

In version 4.15 of iproute2 there was added support
for chain index in tc_filter [1].
Such version is available e.g. in Ubuntu 18.04 and it
has to be supported in l3_tc_lib regex to match
properly output of ""tc filter"" command.

[1] https://lwn.net/Articles/745643/

Closes-bug: #1809497
Change-Id: Id4066b5cff933ccd0dd3c751bf67b5d58af662d1
(cherry picked from commit e788d294584add2407f601a46f90b08082cccc5f)
"
openstack%2Fmagnum~master~Ie7189d328c4038403576b0324e7b0e8a9b305a5e,openstack/magnum,master,story/2007242-38583,Ie7189d328c4038403576b0324e7b0e8a9b305a5e,[k8s] Support updating k8s cluster health status,MERGED,2020-02-28 04:35:31.000000000,2020-04-17 10:53:08.000000000,2020-04-17 10:50:45.000000000,150,22,46,710384,63e80c31088206e75c2df8a2ffc9360d1a46acf2,74,4,17,15,6484,Feilong Wang,flwang,"[k8s] Support updating k8s cluster health status

The original design of k8s cluster health status is allowing
the health status being updated by Magnum control plane. However,
it doesn't work when the cluster is private. This patch supports
updating the k8s cluster health status via the Magnum cluster
update API by a 3rd party service so that a controller (e.g.
magnum-auto-healer) running inside the k8s cluster can call
the Magnum update API to update the cluster health status.

Task: 38583
Story: 2007242

Change-Id: Ie7189d328c4038403576b0324e7b0e8a9b305a5e
"
openstack%2Fkolla-ansible~master~I7085093b20e8848e09dc521ae9fbf120e909470d,openstack/kolla-ansible,master,,I7085093b20e8848e09dc521ae9fbf120e909470d,OVN: Followup changes,MERGED,2020-04-16 10:28:50.000000000,2020-04-17 10:50:22.000000000,2020-04-17 10:47:05.000000000,28,16,11,720430,ca380e6d3042dce7f06de3f06d0407d8cdb9804c,21,4,4,5,22629,Michal Nasiadka,mnasiadka,"OVN: Followup changes

Followup of last reviews from [1].

[1]: https://review.opendev.org/#/c/696841

Change-Id: I7085093b20e8848e09dc521ae9fbf120e909470d
"
openstack%2Fkolla-ansible~master~I4673f436d8943e6fce7e579446c27ec8215b7346,openstack/kolla-ansible,master,,I4673f436d8943e6fce7e579446c27ec8215b7346,Add support for encrypting cinder api.,MERGED,2020-02-25 06:26:40.000000000,2020-04-17 10:47:50.000000000,2020-04-17 10:45:00.000000000,36,5,21,709663,c8ada707470897a8e9178191c075f8f662633126,33,6,7,4,29759,zhangmeng,zhangmeng9502,"Add support for encrypting cinder api.

Change-Id: I4673f436d8943e6fce7e579446c27ec8215b7346
"
openstack%2Fpuppet-ironic~stable%2Ftrain~I09e6ce611b12e92a4a8db64c7f23a491998e956b,openstack/puppet-ironic,stable/train,bug/1872992,I09e6ce611b12e92a4a8db64c7f23a491998e956b,Add ironic::neutron::dhcpv6_stateful_address_count,MERGED,2020-04-16 11:32:22.000000000,2020-04-17 10:40:09.000000000,2020-04-17 10:36:32.000000000,47,25,0,720441,74f3dcebf3f8ac89d35fec8a0dfbe92468319eda,12,3,3,3,24245,Harald JensÃ¥s,harald.jensas,"Add ironic::neutron::dhcpv6_stateful_address_count

Support fo additional ip address allocations when using
dhcpv6 stateful was added in https://review.opendev.org/700002
and backported to stein in https://review.opendev.org/717205.

This change adds support in the puppet module to configuring
the amount of addresses to allocate.

Conflicts:
    manifests/neutron.pp
    spec/classes/ironic_neutron_spec.rb

Related-Bug: #1861032
Closes-Bug: 1872992
Change-Id: I09e6ce611b12e92a4a8db64c7f23a491998e956b
(cherry picked from commit 596abc9587f18b222918a8e413c97fcc1f3affeb)
"
openstack%2Fpython-openstackclient~master~I9c3bdd741f28bf558267fb217818d947597ce13e,openstack/python-openstackclient,master,697444,I9c3bdd741f28bf558267fb217818d947597ce13e,Add resource option immutable,MERGED,2020-03-26 17:09:27.000000000,2020-04-17 10:29:39.000000000,2020-04-17 10:25:30.000000000,523,11,24,715269,7f66273d3f2fb6449d7b50d88460ace0cb81bf30,36,6,9,10,27621,Vishakha Agarwal,Vishakha,"Add resource option immutable

This patch adds the --immutable and --no-immutable option to the
role, project and domain CLI.

Related-Patch: https://review.opendev.org/#/c/712182/

Change-Id: I9c3bdd741f28bf558267fb217818d947597ce13e
"
openstack%2Fironic-python-agent-builder~master~I7e9e3993aeb05fb623be531160e418572fa9de54,openstack/ironic-python-agent-builder,master,cleanup-py27-support,I7e9e3993aeb05fb623be531160e418572fa9de54,Cleanup py27 support,MERGED,2020-04-16 16:52:56.000000000,2020-04-17 10:26:14.000000000,2020-04-17 10:23:50.000000000,7,25,0,720554,9fddc46bdc749e0433bd925ae8adb7bbdc53e005,8,3,1,5,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Update requirements, no need for python_version anymore
- Switch to using sphinx-build
- Cleanup doc/source/conf.py to remove now obsolete content.
- Use newer openstackdocstheme version
- Remove install_command from tox.ini, the default is fine
- Update hacking to version 3

Change-Id: I7e9e3993aeb05fb623be531160e418572fa9de54
"
openstack%2Fpython-muranoclient~master~Ic5ebbb6ca39292a8e0548030f01f964076fa882d,openstack/python-muranoclient,master,,Ic5ebbb6ca39292a8e0548030f01f964076fa882d,Remove six usage,MERGED,2020-04-17 06:07:55.000000000,2020-04-17 10:18:04.000000000,2020-04-17 10:15:02.000000000,0,2,0,720650,13658a7b0cf0b805b3dcd9109202b90d094bad61,11,2,1,2,14107,zhurong,zhurong,"Remove six usage

Depends-On: https://review.opendev.org/#/c/720634/
Change-Id: Ic5ebbb6ca39292a8e0548030f01f964076fa882d
"
openstack%2Fpython-muranoclient~master~I2aa9e94279720b080d8235b510e42d202d7a0434,openstack/python-muranoclient,master,,I2aa9e94279720b080d8235b510e42d202d7a0434,Remove six usage muranoclient/v1,MERGED,2020-04-17 02:57:59.000000000,2020-04-17 10:16:27.000000000,2020-04-17 10:15:01.000000000,29,32,0,720634,fe82041d9c4f7e879a4f3ed0742281bd390f0098,13,2,4,8,14107,zhurong,zhurong,"Remove six usage muranoclient/v1

Depends-On: https://review.opendev.org/#/c/720636/
Depends-On: https://review.opendev.org/#/c/720631/
Depends-On: https://review.opendev.org/#/c/720632/
Depends-On: https://review.opendev.org/#/c/720638/
Depends-On: https://review.opendev.org/#/c/720639/
Change-Id: I2aa9e94279720b080d8235b510e42d202d7a0434
"
openstack%2Ftripleo-ansible~master~I3daf77f099fd0277a9d8495932ca3e28ae7b964d,openstack/tripleo-ansible,master,,I3daf77f099fd0277a9d8495932ca3e28ae7b964d,[upgrade] Add inventory filters to map groups to roles,MERGED,2020-04-15 22:00:08.000000000,2020-04-17 10:13:27.000000000,2020-04-16 21:28:53.000000000,63,0,3,720300,b7f027ff0905329319381771cec957e1e17f925c,16,9,2,2,23811,Oliver Walsh,owalsh,"[upgrade] Add inventory filters to map groups to roles

tripleo-upgrade previously relied on <service_group>.children.keys to determine
which roles include a particular service.

Since I2cc721676005536b14995980f7a042991c92adcc altered the inventory
structure this will no longer work.

Create filters to generate a group to role mapping instead. Use the
tripleo_role_name var to determine the role names instead of group names.

Change-Id: I3daf77f099fd0277a9d8495932ca3e28ae7b964d
"
openstack%2Fpython-muranoclient~master~Ie69ca8afd5058ac814f493161a778a6a3e36b53a,openstack/python-muranoclient,master,,Ie69ca8afd5058ac814f493161a778a6a3e36b53a,Remove six usage tests/functional,MERGED,2020-04-17 03:15:01.000000000,2020-04-17 10:12:00.000000000,2020-04-17 10:08:29.000000000,3,3,0,720639,d6a9bd2370e67425cebc32547ce357bed7d8df03,9,2,2,2,14107,zhurong,zhurong,"Remove six usage tests/functional

Change-Id: Ie69ca8afd5058ac814f493161a778a6a3e36b53a
"
openstack%2Fpython-muranoclient~master~I992c890d3c679fde64bcffff170a1d3b8b1b124e,openstack/python-muranoclient,master,,I992c890d3c679fde64bcffff170a1d3b8b1b124e,Remove six usage muranoclient/apiclient,MERGED,2020-04-17 02:52:39.000000000,2020-04-17 10:10:37.000000000,2020-04-17 10:08:27.000000000,6,11,0,720632,ae37b0db70f6cd6e92db84fc72b5b5d62579bf89,7,2,1,3,14107,zhurong,zhurong,"Remove six usage muranoclient/apiclient

Change-Id: I992c890d3c679fde64bcffff170a1d3b8b1b124e
"
openstack%2Fhorizon~master~I588452fd5d6417859f5dd19ccedcb18f420ab646,openstack/horizon,master,new/single-region-policy,I588452fd5d6417859f5dd19ccedcb18f420ab646,Add support for multiple swift storage policies,MERGED,2020-02-21 01:39:42.000000000,2020-04-17 10:09:41.000000000,2020-04-17 10:06:58.000000000,276,16,23,709025,2735f2c08d82f2e904dd39bab0d5f776666adacd,48,6,10,12,30447,Simon Merrick,iokiwi,"Add support for multiple swift storage policies

+ Adds endpoint for listing available policies
+ Support to select a storage policy for new containers
+ Display container storage polcy on dashboard.

Change-Id: I588452fd5d6417859f5dd19ccedcb18f420ab646
"
openstack%2Fpython-muranoclient~master~I8181996e52d1618a043c1875a809b9e8719e684b,openstack/python-muranoclient,master,,I8181996e52d1618a043c1875a809b9e8719e684b,Remove six usage muranoclient/glance,MERGED,2020-04-17 03:08:08.000000000,2020-04-17 10:08:29.000000000,2020-04-17 10:08:29.000000000,2,3,0,720638,75a0d1a39366ea7cba19ce322ffee73b1a2a81ea,6,2,1,1,14107,zhurong,zhurong,"Remove six usage muranoclient/glance

Change-Id: I8181996e52d1618a043c1875a809b9e8719e684b
"
openstack%2Fpython-muranoclient~master~Iea5eab31f38510f5e5fcfed34c46b854cbef3a8e,openstack/python-muranoclient,master,,Iea5eab31f38510f5e5fcfed34c46b854cbef3a8e,Remove six usage muranoclient/osc,MERGED,2020-04-17 03:05:50.000000000,2020-04-17 10:08:28.000000000,2020-04-17 10:08:28.000000000,17,18,0,720636,f541a293376aeeb965f728c44c17cdd0816de1fc,8,2,2,3,14107,zhurong,zhurong,"Remove six usage muranoclient/osc

Change-Id: Iea5eab31f38510f5e5fcfed34c46b854cbef3a8e
"
openstack%2Fmagnum~master~I7d93093008eb4754ee7c11251716795b24cecdf1,openstack/magnum,master,prometheus-metrics,I7d93093008eb4754ee7c11251716795b24cecdf1,[k8s] Expose traefik prometheus metrics,MERGED,2019-12-03 10:13:23.000000000,2020-04-17 10:03:01.000000000,2020-04-17 09:57:41.000000000,18,0,5,697044,0732251db3c0f4bb403f9a0ac8f905ae736c7646,33,4,7,2,29425,Diogo Guerra,dioguerra,"[k8s] Expose traefik prometheus metrics

Task: 37572
Story: 2006765

Change-Id: I7d93093008eb4754ee7c11251716795b24cecdf1
"
openstack%2Fmagnum~master~I97e78e8d77973e03eeff598b212287945ca00190,openstack/magnum,master,story/2007026/task/xx,I97e78e8d77973e03eeff598b212287945ca00190,Remove nodeSelector for flannel DaemonSet,MERGED,2020-04-17 03:31:42.000000000,2020-04-17 10:00:16.000000000,2020-04-17 09:57:35.000000000,1,3,0,720640,6a3762173279dd7fd85d767eb7d6e07b4760270c,8,4,1,1,22997,xinliang,xinliang.liu,"Remove nodeSelector for flannel DaemonSet

According to upstream kube-flannel.yml PR[1], node-selector introduced
is because flannel image doesn't support multiarch manifestes. Which
means that it can't specify flannel:version-arch images in the same
daemonset for every arch platform. To make every arch platform can
deploy flannel upstream add one daemonset with nodeSelector per arch.

But in magnum flannel image tag is configurable via label, thus every
arch platform can use one daemonset to deploy by specify corresponding
flannel image tag. So nodeSelector is unnecessary here.

[1]: https://github.com/coreos/flannel/pull/989

Change-Id: I97e78e8d77973e03eeff598b212287945ca00190
Task: 39453
Story: 2007026
"
openstack%2Fpython-muranoclient~master~I7f27bc87c8ea098b70ab530d6857c927a571e930,openstack/python-muranoclient,master,,I7f27bc87c8ea098b70ab530d6857c927a571e930,Remove six usage muranoclient/common,MERGED,2020-04-17 02:49:32.000000000,2020-04-17 09:50:15.000000000,2020-04-17 09:48:26.000000000,26,37,0,720631,8868671fd50efd1da07e2b311e6b539e722f7816,7,2,1,6,14107,zhurong,zhurong,"Remove six usage muranoclient/common

Change-Id: I7f27bc87c8ea098b70ab530d6857c927a571e930
"
openstack%2Fpuppet-openstack-integration~master~Ib51d3ff2e5aa907f7b421c95efe6c95c5cb53c72,openstack/puppet-openstack-integration,master,openstack/puppet/constraints,Ib51d3ff2e5aa907f7b421c95efe6c95c5cb53c72,Updated from Puppet OpenStack modules constraints,MERGED,2020-04-17 06:05:49.000000000,2020-04-17 09:48:23.000000000,2020-04-17 09:48:22.000000000,1,1,0,720649,40906a193151f3b6768abd24b9bafd425dca29db,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from Puppet OpenStack modules constraints

Change-Id: Ib51d3ff2e5aa907f7b421c95efe6c95c5cb53c72
"
openstack%2Fkolla-ansible~master~Ib237f3f11b70966eba63fa54212a31b8b61431a2,openstack/kolla-ansible,master,,Ib237f3f11b70966eba63fa54212a31b8b61431a2,DNM: Testing cloudkitty in master,ABANDONED,2019-09-11 17:22:10.000000000,2020-04-17 09:48:18.000000000,,3,42,0,681555,7f9b1423748b35f9f8fda9aab3765316227da7d2,23,2,8,2,14826,Mark Goddard,mgoddard,"DNM: Testing cloudkitty in master

Change-Id: Ib237f3f11b70966eba63fa54212a31b8b61431a2
"
openstack%2Fbifrost~master~I66dd86e78afb35f3bb09d7025e1fab3684d639e4,openstack/bifrost,master,,I66dd86e78afb35f3bb09d7025e1fab3684d639e4,WIP: Use normal playbooks in test-bifrost.yaml,ABANDONED,2020-03-06 11:12:09.000000000,2020-04-17 09:45:31.000000000,,27,71,0,711605,d2a2e2a1b5503e020e61e957e26070ca5b6beb66,17,2,7,3,14826,Mark Goddard,mgoddard,"WIP: Use normal playbooks in test-bifrost.yaml

Better to test what users would use than a stale almost-copy of it.

Change-Id: I66dd86e78afb35f3bb09d7025e1fab3684d639e4
"
openstack%2Fkolla-ansible~master~Idce7c99b59c15ddfcc16c4557ad8ac6ee5561b73,openstack/kolla-ansible,master,,Idce7c99b59c15ddfcc16c4557ad8ac6ee5561b73,DNM: test ansible group prechecks,ABANDONED,2020-03-12 17:21:05.000000000,2020-04-17 09:44:58.000000000,,4,4,0,712743,4a553cf4f5413c9a51ecb42ea274def931258847,10,3,2,1,14826,Mark Goddard,mgoddard,"DNM: test ansible group prechecks

Change-Id: Idce7c99b59c15ddfcc16c4557ad8ac6ee5561b73
"
openstack%2Ftripleo-ci~master~I8a917b786604190dff3c89eb81775b0ffaa42a96,openstack/tripleo-ci,master,,I8a917b786604190dff3c89eb81775b0ffaa42a96,Exclude rabbitmq-3.7.24 container image,ABANDONED,2020-04-09 08:19:34.000000000,2020-04-17 09:44:14.000000000,,2,0,0,718615,de2950601b975576fe172dca463f6b5d24ce691f,7,4,1,1,14826,Mark Goddard,mgoddard,"Exclude rabbitmq-3.7.24 container image

This image has been added to kolla on the stable/train branch to help
with the CentOS 7 to 8 migration for Kolla Ansible. It is not applicable
to Tripleo, and fails to build due to lacking rabbitmq-3.7.24 package.
Exclude it.

Change-Id: I8a917b786604190dff3c89eb81775b0ffaa42a96
"
openstack%2Fpython-troveclient~master~Id744d7da68b6586c4b37ada80472a69a8892dbb1,openstack/python-troveclient,master,fix-ds-version-delete,Id744d7da68b6586c4b37ada80472a69a8892dbb1,Fix KeyError when deleting datastore version,MERGED,2020-04-17 03:45:42.000000000,2020-04-17 09:37:52.000000000,2020-04-17 09:35:55.000000000,1,1,0,720642,e651e5de5143ad47715c7b41a8e06574ce296f23,7,2,1,1,6732,Lingxian Kong,kong,"Fix KeyError when deleting datastore version

Change-Id: Id744d7da68b6586c4b37ada80472a69a8892dbb1
"
openstack%2Fironic~master~Id31cd30564ff26df0bbe4976ffe3f268b0dd3d7b,openstack/ironic,master,release_reservation,Id31cd30564ff26df0bbe4976ffe3f268b0dd3d7b,Release reservation when stoping the ironic-conductor service,MERGED,2020-04-08 08:27:31.000000000,2020-04-17 09:37:46.000000000,2020-04-17 09:34:07.000000000,19,0,5,718342,861f35b038431f64dbc29c64a230461efa41b60e,23,9,3,3,29139,shenxindi,shenxindi,"Release reservation when stoping the ironic-conductor service

If a conductor hostname is changed while reservations are
issued to a conductor with one hostname, such as 'hostname'
and then the process is restarted with 'new_hostname', then the
queries would not match the node and effectively the nodes
would become inaccessible until the reservation is cleared.

This patch clears the reservation when stoping the
ironic-conductor service to avoid the nodes becoming inaccessible.

Ref to: https://review.opendev.org/#/c/711765/

Change-Id: Id31cd30564ff26df0bbe4976ffe3f268b0dd3d7b
"
openstack%2Fironic-python-agent~stable%2Ftrain~I5f57535e5a89528c38d0879177b59db6c0f5c06e,openstack/ironic-python-agent,stable/train,,I5f57535e5a89528c38d0879177b59db6c0f5c06e,A boot partition on a GPT disk should be considered an EFI partition,MERGED,2020-04-16 16:31:29.000000000,2020-04-17 09:36:52.000000000,2020-04-17 09:34:10.000000000,98,58,0,720549,53bab6ce44c1b6dfbe718aa4a7adea5c03eee551,8,3,1,3,10239,Dmitry Tantsur,dtantsur,"A boot partition on a GPT disk should be considered an EFI partition

DIB builds instance images with EFI partitions that only have the boot
flag, but not esp. According to parted documentation, boot is an alias
for esp on GPT, so accept it as well.

To avoid complexities when parsing parted output, the implementation
is switched to existing utils and ironic-lib functions.

Conflicts:
	ironic_python_agent/tests/unit/test_utils.py
	ironic_python_agent/utils.py

Change-Id: I5f57535e5a89528c38d0879177b59db6c0f5c06e
Story: #2007455
Task: #39423
(cherry picked from commit ff49b04e28b74d89a5fa6334411c56628f502bee)
"
openstack%2Fsecurity-doc~master~I94aee702ed79aee51cedf81abd03cef98dd4cd0c,openstack/security-doc,master,openstack/openstack-manuals,I94aee702ed79aee51cedf81abd03cef98dd4cd0c,Updated from openstack-manuals,MERGED,2020-04-17 08:53:35.000000000,2020-04-17 09:36:14.000000000,2020-04-17 09:32:50.000000000,22,143,0,720667,159cf46e3050d38b50cf1b33e6c391f0e0abbb39,7,2,1,4,11131,OpenStack Proposal Bot,proposal-bot,"Updated from openstack-manuals

Change-Id: I94aee702ed79aee51cedf81abd03cef98dd4cd0c
"
openstack%2Fironic-tempest-plugin~master~If81a39dd8bee657bba8c5cee0fead900c6e8f56c,openstack/ironic-tempest-plugin,master,redfish_tests_standalone,If81a39dd8bee657bba8c5cee0fead900c6e8f56c,Split Tempest tests between ipmi and redfish,MERGED,2020-03-10 10:56:30.000000000,2020-04-17 09:36:02.000000000,2020-04-17 09:34:08.000000000,81,20,3,712041,8bcc4fa982074400167f993c7bbf26633db6522e,26,6,8,4,15519,Iury Gregory Melo Ferreira,iurygregory,"Split Tempest tests between ipmi and redfish

- Renamed the classes from the ironic_standalone scenario
- Added logic to choose redfish as driver when possible

Change-Id: If81a39dd8bee657bba8c5cee0fead900c6e8f56c
"
openstack%2Fopenstack-ansible-ceph_client~master~I622c9f10d0caf5b41f662e685998143ed76e05b6,openstack/openstack-ansible-ceph_client,master,,I622c9f10d0caf5b41f662e685998143ed76e05b6,Cleanup py27 support,MERGED,2020-04-14 11:57:42.000000000,2020-04-17 09:35:31.000000000,2020-04-17 09:32:53.000000000,0,47,0,719925,e24fffba7411455eaae817339b0344bf47c00cb3,11,5,1,3,17130,melissaml,malei,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Add requires on python >= 3.6 to setup.cfg so that pypi and pip
  know about the requirement
- Remove obsolete sections from setup.cfg
- Cleanup doc/source/conf.py to remove now obsolete content.

Change-Id: I622c9f10d0caf5b41f662e685998143ed76e05b6
"
openstack%2Fneutron~stable%2Ftrain~I932b62a8e0fa1a2f51bbde44134272f0b31b5c76,openstack/neutron,stable/train,bug/1680183,I932b62a8e0fa1a2f51bbde44134272f0b31b5c76,"Replace ""ip monitor"" command with Pyroute2 implementation",MERGED,2020-04-06 17:00:15.000000000,2020-04-17 09:33:31.000000000,2020-04-17 09:31:08.000000000,169,333,0,717804,478e20a61f7356739b7e01efb955c83bc512f428,42,6,6,8,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Replace ""ip monitor"" command with Pyroute2 implementation

Use the ""ip monitor"" tool implemented with Pyroute2 library in
the neutron-keepalived-state-change monitor.

Conflicts:
    neutron/agent/l3/ha_router.py
    neutron/agent/l3/keepalived_state_change.py
    neutron/tests/functional/agent/l3/test_keepalived_state_change.py

This patch also includes https://review.opendev.org/#/c/718754/,
adding to the ProcessManager call the namespace of the router. This
will enforce the new process to be execute on the namespace context.

This patch also modifies the main thread of ""keepalived_state_change"".
To lock the main thread execution, allowing the other two threads
(IP monitor and queue reader) to continue their work, a thread.join()
was used. In Python 3, when the SIGTERM signal is received and both
threads are finished, the main thread ends the wait and exits. No
process was left behind when the monitor was stopped.

But in Python 2.7, the queue reader thread was never finished. When
the monitor was stopped, the thread was still being executed. As
detected in the CI, that causes a memory exhaustion. Instead of
trying to join the thread, a trivial loop is used insted.

Change-Id: I932b62a8e0fa1a2f51bbde44134272f0b31b5c76
Related-Bug: #1680183
(cherry picked from commit 3437572906e38ec05caf141e634025941d887c50)
"
openstack%2Fmagnum-ui~master~Id4f28780c93d6915502b87c683183f1d94c7618d,openstack/magnum-ui,master,zanata/translations,Id4f28780c93d6915502b87c683183f1d94c7618d,Imported Translations from Zanata,MERGED,2020-04-16 09:31:51.000000000,2020-04-17 09:32:08.000000000,2020-04-17 09:28:58.000000000,266,10,0,720410,a09f0c472b34ead392cf855d8e9f4a7768f892a6,9,2,2,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id4f28780c93d6915502b87c683183f1d94c7618d
"
openstack%2Fkolla-ansible~master~I500cc8800c412bc0e95edb15babad5c1189e6ee4,openstack/kolla-ansible,master,ansible_lint_lines_longer_160,I500cc8800c412bc0e95edb15babad5c1189e6ee4,Ansible lint: lines longer than 160 chars,MERGED,2020-01-14 13:51:17.000000000,2020-04-17 09:31:23.000000000,2020-04-17 09:29:00.000000000,37,16,13,702429,d403690b8849e76ab6da8f5fb21cec5ba00a385b,37,4,8,11,22629,Michal Nasiadka,mnasiadka,"Ansible lint: lines longer than 160 chars

Change-Id: I500cc8800c412bc0e95edb15babad5c1189e6ee4
"
openstack%2Fkayobe~master~I30bd5286c4783fce544c41e726efc5f800d6f56a,openstack/kayobe,master,,I30bd5286c4783fce544c41e726efc5f800d6f56a,Update inventory templates for Ussuri,MERGED,2020-04-16 15:44:33.000000000,2020-04-17 09:31:12.000000000,2020-04-17 09:28:57.000000000,38,3,0,720521,e0932bd788762e38d6c55c34eeae2fd6c8e5d0c7,9,5,1,2,14826,Mark Goddard,mgoddard,"Update inventory templates for Ussuri

Sync with kolla-ansible multinode inventory.

Change-Id: I30bd5286c4783fce544c41e726efc5f800d6f56a
"
openstack%2Frally~master~I107b28b38f0f33d79291eca782f63392e5e77c94,openstack/rally,master,rework_docker_roles,I107b28b38f0f33d79291eca782f63392e5e77c94,Improve rally-docker jobs to be usefull for rally-openstack,MERGED,2020-04-16 13:22:49.000000000,2020-04-17 09:26:15.000000000,2020-04-17 09:26:14.000000000,105,85,0,720474,f1552e9f0a2a2e8926cde20e700f1ee89091c8fe,25,2,11,12,9545,Andrey Kurilin,akurilin,"Improve rally-docker jobs to be usefull for rally-openstack

Change-Id: I107b28b38f0f33d79291eca782f63392e5e77c94
"
openstack%2Ftraining-guides~master~Ifb4c5bdff7314388ace38f98c8e1ca3433ab9d64,openstack/training-guides,master,cap-sphinx,Ifb4c5bdff7314388ace38f98c8e1ca3433ab9d64,Cap Sphinx version to fix builds,MERGED,2020-04-16 17:48:53.000000000,2020-04-17 09:13:01.000000000,2020-04-17 09:08:04.000000000,2,1,0,720574,c570c3749d13e729d5a104de75985ed1bb16358e,11,4,2,1,6547,Andreas Jaeger,jaegerandi,"Cap Sphinx version to fix builds

The guide fails building with hieroglyph 1.0 and Sphinx 3.0.

Until there's a new release of hieroglyph, cap Sphinx version.

Upstream issue:
https://github.com/nyergler/hieroglyph/issues/166

Change-Id: Ifb4c5bdff7314388ace38f98c8e1ca3433ab9d64
"
openstack%2Fkolla-ansible~master~I39c8416f5d30a535c1743f9c43434b7d2a382196,openstack/kolla-ansible,master,,I39c8416f5d30a535c1743f9c43434b7d2a382196,Fix service_mapped_to_host filter for common services,MERGED,2020-04-14 13:16:07.000000000,2020-04-17 09:09:36.000000000,2020-04-16 14:03:33.000000000,1,1,0,719954,8cc58e3669eec69f55269c54fc1de2a0b0c57c02,10,4,1,1,14826,Mark Goddard,mgoddard,"Fix service_mapped_to_host filter for common services

In Ibecac60d1417269bbe25a280996ca9de6e6d018f, the services in the common
role were marked as being mapped to the 'all' group, since the
'service_mapped_to_host' filter expects every service definition to have
either a 'group' or 'host_in_groups' field. While this allows the filter
to pass the common services without error, it will not actually show
them as being mapped to any hosts. This is because the filter uses the
'group_names' variable, which contains all of the groups that a host
belongs to, except the default 'all' group.

This change fixes the issue by returning True from
service_mapped_to_host when the service's group is 'all'.

Change-Id: I39c8416f5d30a535c1743f9c43434b7d2a382196
Related-Bug: #1868596
"
openstack%2Fkolla-ansible~master~I0556519e0ddd61ebe2577295ed6d2eb909294480,openstack/kolla-ansible,master,,I0556519e0ddd61ebe2577295ed6d2eb909294480,DNM: test cinder TLS backend,ABANDONED,2020-04-16 09:50:08.000000000,2020-04-17 09:08:16.000000000,,2,36,0,720418,36635f94c207951d5f1f4512c1c7f58d977f4557,12,1,4,2,14826,Mark Goddard,mgoddard,"DNM: test cinder TLS backend

Depends-On: https://review.opendev.org/709663

Change-Id: I0556519e0ddd61ebe2577295ed6d2eb909294480
"
openstack%2Fopenstack-manuals~master~I938e35d0b1ccf74441b55e34c81d0d8489cead1f,openstack/openstack-manuals,master,zanata/translations,I938e35d0b1ccf74441b55e34c81d0d8489cead1f,Imported Translations from Zanata,MERGED,2020-04-15 07:35:55.000000000,2020-04-17 09:06:54.000000000,2020-04-17 08:33:31.000000000,53,1239,0,720138,5a2950614adbf038fe2431e3deb4a049107fc641,11,2,3,12,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I938e35d0b1ccf74441b55e34c81d0d8489cead1f
"
openstack%2Ftraining-labs~master~Ib57fed37abe408b047b1ec364aea945ad06d75a5,openstack/training-labs,master,cleanup-py27-support,Ib57fed37abe408b047b1ec364aea945ad06d75a5,Cleanup py27 support,MERGED,2020-04-12 16:50:25.000000000,2020-04-17 09:05:18.000000000,2020-04-17 09:05:18.000000000,2,5,0,719349,2585b12b879bae4c3fe48a846d1ba9d3de1e4b77,7,3,1,2,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Update requirements, no need for python_version anymore
- Use newer openstackdocstheme version
- Remove install_command from tox.ini, the default is fine

Change-Id: Ib57fed37abe408b047b1ec364aea945ad06d75a5
"
openstack%2Freleases~master~I058888ffb003fd4cb2636e4da4e78f7ef4e8d8a9,openstack/releases,master,release_mistral_9_0_2,I058888ffb003fd4cb2636e4da4e78f7ef4e8d8a9,Minor release 9.1.0 for Mistral (for stable/train),MERGED,2020-04-16 11:35:54.000000000,2020-04-17 09:00:16.000000000,2020-04-17 09:00:16.000000000,4,0,0,720444,15938b5ab1380fc0d84eb039529f12a0dcad0df9,15,4,3,1,8731,Renat Akhmerov,rakhmerov,"Minor release 9.1.0 for Mistral (for stable/train)

* There's been a number of useful bugfixes and performance
  improvements backported to stable/train. It's all worth releasing
  a new minor version.

Change-Id: I058888ffb003fd4cb2636e4da4e78f7ef4e8d8a9
"
openstack%2Fpuppet-magnum~stable%2Ftrain~Ic95ae7c54e2689639bd1e36323102c669e363753,openstack/puppet-magnum,stable/train,train-centos8,Ic95ae7c54e2689639bd1e36323102c669e363753,Prepare new release 15.5.0 in stable/train,MERGED,2020-04-17 08:05:17.000000000,2020-04-17 08:44:21.000000000,2020-04-17 08:44:21.000000000,1,1,0,720653,9273638665287b677e36427da57b6113dc010ba6,9,7,1,1,16312,Alfredo Moralejo,amoralej,"Prepare new release 15.5.0 in stable/train

It includes some fixes needed for CentOS8 after last tag:

fe6fe19 Fix rabbitmq dependency
975b93d Add keystone_region_name to magnum::keystone::domain
68ac397 Fix client_package for RedHat > 7 and Fedora

Change-Id: Ic95ae7c54e2689639bd1e36323102c669e363753
"
openstack%2Ftripleo-ci~master~Iaadf9c6dae2188a094b2bffe859e682aa45ea3fb,openstack/tripleo-ci,master,c7imagebuild,Iaadf9c6dae2188a094b2bffe859e682aa45ea3fb,Fix oooci-build-images role for CentOS-7,ABANDONED,2020-04-17 08:31:53.000000000,2020-04-17 08:34:43.000000000,,17,2,0,720663,5c16692aa635bc0719ac1039e7d66652b8cc6988,2,0,1,4,12393,chandan kumar,chkumar246,"Fix oooci-build-images role for CentOS-7

It includes:
* Moves c7 related vars to a seperate file
* dib_release and dib_python_version configurable
* moved tripleo_image_os under var

Change-Id: Iaadf9c6dae2188a094b2bffe859e682aa45ea3fb
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fproject-config~master~Ic29a25527e259a61ca025325b74acbe64a71774c,openstack/project-config,master,diskimages-globals,Ic29a25527e259a61ca025325b74acbe64a71774c,nodepool: Add more plain images,MERGED,2020-04-16 01:07:28.000000000,2020-04-17 08:32:50.000000000,2020-04-17 08:25:02.000000000,82,14,0,720318,a3f20a13471f1182ee98647e0e2fdd6a6dba5759,15,4,4,2,7118,Ian Wienand,iwienand,"nodepool: Add more plain images

Add more images without pip-and-virtualenv we can test on.  Build all
-plain images on nb04 (the containerised builder) as an additional
test of that environment (the existing bionic-plain build is moved
here too).

Change-Id: Ic29a25527e259a61ca025325b74acbe64a71774c
"
openstack%2Fcinder~master~I3da6c05ef62e0e584b4251effb6d4c372c17afda,openstack/cinder,master,zanata/translations,I3da6c05ef62e0e584b4251effb6d4c372c17afda,Imported Translations from Zanata,MERGED,2020-04-16 07:34:15.000000000,2020-04-17 08:26:36.000000000,2020-04-16 17:11:25.000000000,123,5,0,720377,d6ef158294179a29ef3af1c1ed7afa20959625b4,26,20,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3da6c05ef62e0e584b4251effb6d4c372c17afda
"
openstack%2Fmagnum-ui~master~Iebc13eabb514377d7efd02391d20d2e6e14b451c,openstack/magnum-ui,master,,Iebc13eabb514377d7efd02391d20d2e6e14b451c,Add pytest requirement to fix jobs,MERGED,2020-04-17 07:29:32.000000000,2020-04-17 08:16:20.000000000,2020-04-17 08:14:02.000000000,2,0,0,720652,fd677c302a2dd837e248c4e33da3251a0f4ef337,7,2,1,2,29313,Vishal Manchanda,vishalmanchanda,"Add pytest requirement to fix jobs

Recently horizon added pytest d6fe0170ee2bc14eab27f8bdf0deb57706b85bb7
which causes the job failure here. This patch adds the pytest in
the 'lower-constraints.txt' and 'test-requirements.txt' to fix
gate.

Change-Id: Iebc13eabb514377d7efd02391d20d2e6e14b451c
"
openstack%2Fstorlets~master~I29a567ead23325f7e4599b474aa5a223143c92b7,openstack/storlets,master,py27,I29a567ead23325f7e4599b474aa5a223143c92b7,WIP: Fix test requirements for py27,ABANDONED,2020-04-16 00:50:36.000000000,2020-04-17 08:10:09.000000000,,9,4,0,720317,bc0450f9df72b35cef528358dabf1f553a6360a1,13,3,6,1,9816,Takashi Kajinami,kajinamit,"WIP: Fix test requirements for py27

Change-Id: I29a567ead23325f7e4599b474aa5a223143c92b7
"
openstack%2Fpuppet-cloudkitty~master~Id6a895ecb62b448d64656c27d7939959480647be,openstack/puppet-cloudkitty,master,fix-stop-cloudkitty-api,Id6a895ecb62b448d64656c27d7939959480647be,DNM: Test to remoe apache module inclusion,ABANDONED,2020-04-16 08:50:16.000000000,2020-04-17 08:09:53.000000000,,19,1,0,720400,ab7447d63ef907895161ced451619364127a145f,3,1,1,2,9816,Takashi Kajinami,kajinamit,"DNM: Test to remoe apache module inclusion

Change-Id: Id6a895ecb62b448d64656c27d7939959480647be
"
openstack%2Fpython-muranoclient~master~Ia5dc249049ae709d83dfe9171d2fd9f77099c4a0,openstack/python-muranoclient,master,,Ia5dc249049ae709d83dfe9171d2fd9f77099c4a0,Remove six usage muranoclient/shell,ABANDONED,2020-04-17 03:01:22.000000000,2020-04-17 07:08:33.000000000,,21,23,0,720635,864bc9977bb545ede6cb37795a93b070956f6a29,6,1,3,3,14107,zhurong,zhurong,"Remove six usage muranoclient/shell

Change-Id: Ia5dc249049ae709d83dfe9171d2fd9f77099c4a0
"
openstack%2Freleases~master~Ia251b5dcafa177f0b1f5fef9c222aef272d5e4ce,openstack/releases,master,election-results,Ia251b5dcafa177f0b1f5fef9c222aef272d5e4ce,Tag governance for April 2020 elections,MERGED,2020-04-02 15:03:48.000000000,2020-04-17 07:06:11.000000000,2020-04-16 13:23:16.000000000,6,1,4,717045,d2bd2b646d546dee8923d2a3a4c7d73ded0533c9,14,4,2,1,17068,Jean-Philippe Evrard,evrardjp,"Tag governance for April 2020 elections

Change-Id: Ia251b5dcafa177f0b1f5fef9c222aef272d5e4ce
"
openstack%2Fwatcher~master~Id38969775c446bece71f7a85c5c5d3efee9befa0,openstack/watcher,master,bug/1873377,Id38969775c446bece71f7a85c5c5d3efee9befa0,convert EfficacyIndicator.value to float type,MERGED,2020-04-16 06:51:53.000000000,2020-04-17 06:45:38.000000000,2020-04-17 06:41:33.000000000,1,1,0,720366,38649b2df087633c020803434e436bac0d782de8,13,3,4,1,21692,licanwei,licanwei,"convert EfficacyIndicator.value to float type

EfficacyIndicator.value is Decimal type, it's
not JSON serializable. So we convert value type
before serialization.

Closed-Bug: #1873377
Change-Id: Id38969775c446bece71f7a85c5c5d3efee9befa0
"
openstack%2Fmasakari~master~I224b4a5615525862f73ced8ab9f5f396cb00ef0f,openstack/masakari,master,fix-function-devstack-job,I224b4a5615525862f73ced8ab9f5f396cb00ef0f,Fix the functional test devstack job,MERGED,2020-04-15 00:45:01.000000000,2020-04-17 06:29:20.000000000,2020-04-17 06:22:48.000000000,42,1,0,720108,d2635fd77b77c8c20abd91ce28e175df752f61a2,35,3,11,4,1011,Tushar Patil,tpatil,"Fix the functional test devstack job

From last couple of months, the functional devstack job is broken.
Fixed the devstack job so that functional tests can run on multi-node
setup.

Note: Need to install SQLAlchemy-Utils explicitly as taskflow library
installs it using extra_requires which somehow is not working on the
devstack CI job setup.

Change-Id: I224b4a5615525862f73ced8ab9f5f396cb00ef0f
"
openstack%2Fproject-config~master~I84dae0990cd7e90e7d23caf0c3bdfb6cd8abb138,openstack/project-config,master,diskimages-globals,I84dae0990cd7e90e7d23caf0c3bdfb6cd8abb138,Add ubuntu-bionic-plain to all regions,MERGED,2020-04-16 00:48:40.000000000,2020-04-17 05:52:40.000000000,2020-04-17 05:47:52.000000000,10,58,2,720316,90d6de37acabd647d24c966620b81466a94b9535,19,5,5,2,7118,Ian Wienand,iwienand,"Add ubuntu-bionic-plain to all regions

We've been testing with this for a while now, so no reason this can't
be deployed more widely.

Change-Id: I84dae0990cd7e90e7d23caf0c3bdfb6cd8abb138
"
openstack%2Fmistral~master~I5399cee2b95ec66574507f08b8baa26057f4bde9,openstack/mistral,master,,I5399cee2b95ec66574507f08b8baa26057f4bde9,[DNM] Testing OOO Mistral tests.,ABANDONED,2020-03-13 12:23:54.000000000,2020-04-17 05:50:58.000000000,,3,2,1,712934,876ce0869c562097159c72c47a9d14fbc4b5f583,9,4,3,2,30750,amolkahat,amolkahat,"[DNM] Testing OOO Mistral tests.

Depends-On: https://review.opendev.org/#/c/712903/

Change-Id: I5399cee2b95ec66574507f08b8baa26057f4bde9
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
"
openstack%2Fstorlets~master~I62a411ec007d403834dc61b93e7cc947ac4e6b1a,openstack/storlets,master,py27,I62a411ec007d403834dc61b93e7cc947ac4e6b1a,DNM: get leaked fds,ABANDONED,2020-04-16 09:55:57.000000000,2020-04-17 05:44:42.000000000,,11,0,0,720421,10a0233609d8007a651e44c08f13eb57d12e9a2d,9,1,4,2,9816,Takashi Kajinami,kajinamit,"DNM: get leaked fds

Change-Id: I62a411ec007d403834dc61b93e7cc947ac4e6b1a
"
openstack%2Fstorlets~master~Idef5dcdaabb0a3d99d000bd03faf17b97b63c41b,openstack/storlets,master,py27,Idef5dcdaabb0a3d99d000bd03faf17b97b63c41b,WIP: pin swiftclient,ABANDONED,2020-04-17 04:31:45.000000000,2020-04-17 05:41:13.000000000,,4,2,0,720644,6dea5877b9b06ce876f9e802925ed1a5b5685439,6,1,3,1,9816,Takashi Kajinami,kajinamit,"WIP: pin swiftclient

Change-Id: Idef5dcdaabb0a3d99d000bd03faf17b97b63c41b
"
openstack%2Fkolla-ansible~master~I4445ebafd3eaae2f83b31dd1fc7f3f07d9c5612f,openstack/kolla-ansible,master,,I4445ebafd3eaae2f83b31dd1fc7f3f07d9c5612f,CI: Set post timeout to half hour,MERGED,2020-04-16 14:44:30.000000000,2020-04-17 05:16:48.000000000,2020-04-17 05:14:09.000000000,1,0,0,720496,4f8af713e1cb9ff57bc02cb7c87a4903c3ea7ff8,8,3,1,1,22629,Michal Nasiadka,mnasiadka,"CI: Set post timeout to half hour

Observed that a couple of jobs daily fail on post-timeout, when uploading
logs to Swift.

Change-Id: I4445ebafd3eaae2f83b31dd1fc7f3f07d9c5612f
"
openstack%2Fmulti-arch-sig~master~Id886f9816660be168cf0eead83e900435fff1ed7,openstack/multi-arch-sig,master,cleanup-py27-support,Id886f9816660be168cf0eead83e900435fff1ed7,Cleanup py27 support,MERGED,2020-04-13 09:31:14.000000000,2020-04-17 05:00:13.000000000,2020-04-17 04:58:19.000000000,1,14,0,719425,53c771cb7428b8c95f0380442e217de22936c72c,9,8,2,4,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove obsolete sections from setup.cfg
- Use newer openstackdocstheme version
- Remove install_command from tox.ini, the default is fine
- remove unused test-requirements.txt file

Change-Id: Id886f9816660be168cf0eead83e900435fff1ed7
"
openstack%2Foctavia~master~I16513b0066c05cd6fc606da341df636094010a34,openstack/octavia,master,stop-errexit,I16513b0066c05cd6fc606da341df636094010a34,Don't inherit enforcing bash errexit in devstack plugin,MERGED,2020-04-14 17:47:41.000000000,2020-04-17 04:55:02.000000000,2020-04-17 04:52:57.000000000,6,0,0,720041,1c639f01a083e32111306f1f8d1a89df6aea2950,14,5,2,2,1131,Brian Haley,brian-haley,"Don't inherit enforcing bash errexit in devstack plugin

The devstack plugin code was sourcing a file that was
enabling bash errexit, which was then inheriting it in
later operations that could cause the shell to exit
unexpectedly.

Change both scripts to 'set +e' near exit so sourcing
them doesn't have issues.

Change-Id: I16513b0066c05cd6fc606da341df636094010a34
"
openstack%2Fcharm-nova-compute~master~I9ec8d48a4c27123c0d179da7583d498249dd94cc,openstack/charm-nova-compute,master,rebuild,I9ec8d48a4c27123c0d179da7583d498249dd94cc,Rebuild,ABANDONED,2020-04-16 09:00:11.000000000,2020-04-17 04:41:58.000000000,,5,0,0,720401,c2c0651c67e948026cc8aaa02d7df84c303d4208,7,4,1,1,31289,Aurelien Lourot,lourot,"Rebuild

Change-Id: I9ec8d48a4c27123c0d179da7583d498249dd94cc
Func-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/230
"
openstack%2Fceilometer~stable%2Ftrain~Ifcb8dc7ca2c91f3d2482264afbd81df6e51c5937,openstack/ceilometer,stable/train,temp_failures_train,Ifcb8dc7ca2c91f3d2482264afbd81df6e51c5937,Temporary failures should be treated as temporary.,MERGED,2020-04-09 13:54:52.000000000,2020-04-17 04:28:57.000000000,2020-04-17 04:27:19.000000000,0,12,0,718705,aba797f8df18df626dea05e587b935e1abd29a99,25,4,1,3,4264,Matthias Runge,mrunge,"Temporary failures should be treated as temporary.

There is no reason e.g to treat timeouts as permanent and thus these
sources should not be removed from polling.

Change-Id: Ifcb8dc7ca2c91f3d2482264afbd81df6e51c5937
(cherry picked from commit cf86cc3b7ac41f62cf6a359e8e2d97b01542cde0)
"
openstack%2Ftripleo-heat-templates~master~I675aa165c8580dc1416dfc87613e88940a88491f,openstack/tripleo-heat-templates,master,bug/1872998,I675aa165c8580dc1416dfc87613e88940a88491f,Add IronicDhcpv6StatefulAddressCount parameter,MERGED,2020-04-15 14:27:05.000000000,2020-04-17 04:28:42.000000000,2020-04-17 04:27:01.000000000,18,0,0,720207,436ebad75d53ea9c64a131a0ee92dfdb101d7b9d,19,5,3,2,24245,Harald JensÃ¥s,harald.jensas,"Add IronicDhcpv6StatefulAddressCount parameter

Support fo additional ip address allocations when using
dhcpv6 stateful was added in https://review.opendev.org/700002
and backported to stein in https://review.opendev.org/717205.

This change adds support in the tripleo-heat-templates to
configurie the amount of addresses to allocate.

Closes-Bug: #1872998
Depends-On: https://review.opendev.org/720204
Change-Id: I675aa165c8580dc1416dfc87613e88940a88491f
"
openstack%2Ftripleo-heat-templates~master~Ia783ad1f0afbf10bbcaf6b66c727e0a084e97411,openstack/tripleo-heat-templates,master,octavia-project,Ia783ad1f0afbf10bbcaf6b66c727e0a084e97411,Create octavia project/user based on given values,MERGED,2020-02-23 14:20:52.000000000,2020-04-17 04:26:58.000000000,2020-04-17 04:26:58.000000000,2,0,6,709354,815665849e19a3807727e950bf6ac64fbc6c88ab,55,8,5,1,9816,Takashi Kajinami,kajinamit,"Create octavia project/user based on given values

This patch makes sure that t-h-t creates keystone resources for octavia
service according to OctaviaProjectName and OctaviaUserName, which are
used to specify the project name and the user name for octavia user.

Depends-on: https://review.opendev.org/#/c/712191/
Change-Id: Ia783ad1f0afbf10bbcaf6b66c727e0a084e97411
"
openstack%2Fdevstack-gate~master~Ia1de95b01da1007d6eef1f95cfba8fed15ffef2e,openstack/devstack-gate,master,,Ia1de95b01da1007d6eef1f95cfba8fed15ffef2e,Set up stable/ussuri,MERGED,2020-03-26 17:16:13.000000000,2020-04-17 04:19:19.000000000,2020-04-17 04:19:19.000000000,2,1,0,715272,184a23bb3066881040722e6b8ea9f443baa5ba2e,21,16,2,1,17685,Elod Illes,elod.illes,"Set up stable/ussuri

* update the feature list
* add ussuri to allowed stable branch names list

Change-Id: Ia1de95b01da1007d6eef1f95cfba8fed15ffef2e
"
openstack%2Fironic~stable%2Ftrain~I27e63557d4bcd81d583c55315029425bec03fd98,openstack/ironic,stable/train,fix-j2-escapes-stable/train,I27e63557d4bcd81d583c55315029425bec03fd98,Do not autoescape all Jinja2 templates,MERGED,2020-04-02 12:00:39.000000000,2020-04-17 04:03:15.000000000,2020-04-17 04:01:30.000000000,15,1,0,716963,cea889dac005ef83c90dbc615743abca19596850,16,7,1,2,9542,Pavlo Shchelokovskyy,pshchelo,"Do not autoescape all Jinja2 templates

this breaks pxe config rendering when e.g. quotes are needed (like for values
with spaces), replacing them with HTML escape codes.

Instead use smart autoescape which by default is only enabled for
htm(l) and xml templates.
Not specifically setting override for strings as we set the template
name for string templates anyway, and matching goes by that name.
https://jinja.palletsprojects.com/en/2.11.x/api/#autoescaping

Change-Id: I27e63557d4bcd81d583c55315029425bec03fd98
Story: 2005791
Task: 39269
"
openstack%2Fneutron~stable%2Ftrain~I25d3da929f8d0b6ee15d7b90ec59b9d58a4ae6a5,openstack/neutron,stable/train,bug/1863201,I25d3da929f8d0b6ee15d7b90ec59b9d58a4ae6a5,Filter by owner SGs when retrieving the SG rules,MERGED,2020-04-14 18:37:40.000000000,2020-04-17 03:14:06.000000000,2020-04-17 03:11:50.000000000,126,1,0,720049,d3905264b7659b1d10a68e3629861d5f0ba13568,24,6,1,5,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Filter by owner SGs when retrieving the SG rules

Retrieving the SG rules now is used the admin context. This allows to
get all possible rules, independently of the user calling. The filters
passed and the RBAC policies filter those results, returning only:
- The SG rules belonging to the user.
- The SG rules belonging to a SG owned by the user.

However, if the SG list is too long, the query can take a lot of time.
Instead of this, the filtering is done in the DB query. If no filters
are passed to ""get_security_group_rules"" and the context is not the
admin context, only the rules specified in the first paragraph will
be retrieved.

Because overwriting the method ""get_objects"" is too complex, an
intermediate query is done to retrieve the SG rule IDs. Those IDs
will be used as a filter in the ""get_objects"" call.

Conflicts:
      neutron/db/securitygroups_db.py
      neutron/objects/securitygroup.py

Closes-Bug: #1863201

Change-Id: I25d3da929f8d0b6ee15d7b90ec59b9d58a4ae6a5
(cherry picked from commit d874c46bff7045ba25f5dd6e790f7ddb209cb224)
"
openstack%2Ftempest~master~I09d2349a0e32c2265e6beb3dad4619ad33782a51,openstack/tempest,master,,I09d2349a0e32c2265e6beb3dad4619ad33782a51,Add logs for plugins data,MERGED,2020-03-10 19:55:32.000000000,2020-04-17 03:13:34.000000000,2020-04-17 03:11:56.000000000,6,0,2,712170,aa7c14749240c553537ef6d3d063e6732a1cab01,19,6,3,1,8556,Ghanshyam,ghanshyam,"Add logs for plugins data

While loading data form plugin like tests,
config options etc we do not have enough logs
to debug if any plugins is missed.

It is difficult to debug in such cases where we do not
find config options registered by plugins,
For example: https://review.opendev.org/#/c/706785

Adding more logs to know what all data we are loading from
all plugins.

Change-Id: I09d2349a0e32c2265e6beb3dad4619ad33782a51
"
openstack%2Fneutron~stable%2Fqueens~I51dc9d342c613afcbcfdc50a1d2811502748f170,openstack/neutron,stable/queens,bug/1849502-stable/rocky-stable/queens,I51dc9d342c613afcbcfdc50a1d2811502748f170,Check dnsmasq process is active when spawned,MERGED,2020-04-07 20:10:15.000000000,2020-04-17 03:11:59.000000000,2020-04-17 03:11:58.000000000,26,4,0,718207,e28e767bd6d0b3cbe64b929c07d3d82d683a074b,17,6,1,4,11975,Slawek Kaplonski,slaweq,"Check dnsmasq process is active when spawned

After spawning the ""dnsmasq"" process in the method
""Dnsmasq._spawn_or_reload_process"", we need to check that the ""dnsmasq""
process is running and could be detected by the ProcessManager instance
controlling it.

ProcessManager determines if a process is ""active"":
- If the network ID is in the cmdline used to execute the process.
- If the process is detected by psutil.Process(pid), returning the
  cmdline needed in the first condition.
- If the PID file exists; this is written by the dnsmasq process
  once is started and is needed in the second condition.

To make this feature available for any other process using
ProcessManager, the implementation is done in this class.

Change-Id: I51dc9d342c613afcbcfdc50a1d2811502748f170
Closes-Bug: #1849502
(cherry picked from commit 7c5ce50a0c9e09d2729ae1ce79d2623ccafca9ee)
(cherry picked from commit ce3f2f7d2690eec0dcab4073cbf357b683c6394b)
(cherry picked from commit 2d8613e3c4d29a4bb5be81bd78d749e0f448cffe)
"
openstack%2Fos-traits~master~Id3a7e6b6a6160358efb897cbf73630d96672d4fb,openstack/os-traits,master,cleanup-py27-support,Id3a7e6b6a6160358efb897cbf73630d96672d4fb,Cleanup py27 support,MERGED,2020-04-12 16:53:27.000000000,2020-04-17 02:53:05.000000000,2020-04-17 02:51:31.000000000,3,21,0,719350,77bf79e2aaa02afdf3f70fa98af61aac563ab3e6,9,11,1,5,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Switch to using sphinx-build
- Cleanup doc/source/conf.py to remove now obsolete content.
- Use newer openstackdocstheme version
- Switch to hacking 3.0

Change-Id: Id3a7e6b6a6160358efb897cbf73630d96672d4fb
"
openstack%2Fnova-specs~master~I4df7a4af25c9e111307726495dcc9504e8d37870,openstack/nova-specs,master,create_victoria_directory,I4df7a4af25c9e111307726495dcc9504e8d37870,Create specs directory for Victoria,ABANDONED,2020-04-14 03:00:21.000000000,2020-04-17 02:48:46.000000000,,503,1,0,719717,86a02b256075358519a03f6de0e490abe8ea4913,11,6,2,12,26458,Brin Zhang,zhangbailin,"Create specs directory for Victoria

Change-Id: I4df7a4af25c9e111307726495dcc9504e8d37870
"
openstack%2Fsearchlight-ui~master~Ia79312ee7537b9f8385f163b4df079d8a32b26be,openstack/searchlight-ui,master,zanata/translations,Ia79312ee7537b9f8385f163b4df079d8a32b26be,Imported Translations from Zanata,MERGED,2020-04-16 07:18:54.000000000,2020-04-17 02:43:35.000000000,2020-04-17 02:42:00.000000000,4,4,0,720371,708445d245ac262314543771d1b888fef12e7892,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia79312ee7537b9f8385f163b4df079d8a32b26be
"
openstack%2Fironic~master~Ibd3956a893e4898c33e00d2d39a20553c0f1a65a,openstack/ironic,master,update-docs-jobs-dib,Ibd3956a893e4898c33e00d2d39a20553c0f1a65a,Update jobs description,MERGED,2020-04-09 14:59:55.000000000,2020-04-17 02:34:20.000000000,2020-04-17 02:32:08.000000000,13,13,0,718722,45a9fbdfa6c78d08cdb99963f29a7cd58ac57566,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Update jobs description

Update the description of the CI jobs based on the recent changes.

Change-Id: Ibd3956a893e4898c33e00d2d39a20553c0f1a65a
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I27c550e49492df9a80a3e9ed119962cc412c491a,openstack/tripleo-ansible,stable/train,action/train,I27c550e49492df9a80a3e9ed119962cc412c491a,tripleo_container_manage: print message if no container action,MERGED,2020-04-16 19:01:22.000000000,2020-04-17 02:32:29.000000000,2020-04-17 02:32:28.000000000,1,1,0,720583,8b88eb65d9a9b0d03f549b4e90f8877b541a66da,7,3,1,1,3153,Emilien Macchi,emilienm,"tripleo_container_manage: print message if no container action

It helps with debugging, when no action is run for containers; instead
of just showing an empty list.

Change-Id: I27c550e49492df9a80a3e9ed119962cc412c491a
(cherry picked from commit d8893027767a9310120b6c426428018de0684cc6)
"
openstack%2Fwatcher~master~I883fa353cfaaac8d2106fa01eb12c7d36c821427,openstack/watcher,master,,I883fa353cfaaac8d2106fa01eb12c7d36c821427,Change Numeric to Float,ABANDONED,2020-04-17 00:59:04.000000000,2020-04-17 02:31:12.000000000,,2,3,0,720622,d85fd2667b39edacc9b030df6b02342fb2abf8f3,3,1,1,2,14107,zhurong,zhurong,"Change Numeric to Float

Change-Id: I883fa353cfaaac8d2106fa01eb12c7d36c821427
"
openstack%2Fceilometer~master~I20fe244cd3317ea930a1538931b17982ad086d0a,openstack/ceilometer,master,zanata/translations,I20fe244cd3317ea930a1538931b17982ad086d0a,Imported Translations from Zanata,MERGED,2020-04-16 06:28:05.000000000,2020-04-17 02:22:46.000000000,2020-04-17 02:20:50.000000000,5,2,0,720358,e01c24cc96a5d087c24554da961e3e9b3d34e99e,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I20fe244cd3317ea930a1538931b17982ad086d0a
"
openstack%2Fmurano-dashboard~master~Ic48c37495e02882f9b6b009249f4f06d820aa1c9,openstack/murano-dashboard,master,zanata/translations,Ic48c37495e02882f9b6b009249f4f06d820aa1c9,Imported Translations from Zanata,MERGED,2020-04-16 07:28:18.000000000,2020-04-17 02:19:36.000000000,2020-04-17 02:17:46.000000000,4,4,0,720373,005af167931ed9e9b295d449ee224c5045829dce,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic48c37495e02882f9b6b009249f4f06d820aa1c9
"
openstack%2Fmurano-pkg-check~master~If2317db47c323b537bc5c4bb8a0f11173418cd67,openstack/murano-pkg-check,master,,If2317db47c323b537bc5c4bb8a0f11173418cd67,Remove six usage,MERGED,2020-04-16 11:52:32.000000000,2020-04-17 02:01:44.000000000,2020-04-17 02:01:44.000000000,43,68,1,720448,a83a360d46f92ce82639d2dbc3889ebf0cd61ab6,12,2,4,16,14107,zhurong,zhurong,"Remove six usage

Change-Id: If2317db47c323b537bc5c4bb8a0f11173418cd67
"
openstack%2Fpython-tripleoclient~stable%2Fstein~I10a6d1570f1d305d054cac6f1a4b4f25193540ac,openstack/python-tripleoclient,stable/stein,bug/1873285,I10a6d1570f1d305d054cac6f1a4b4f25193540ac,Fix IntrospectionError output format,ABANDONED,2020-04-16 16:01:34.000000000,2020-04-17 01:59:11.000000000,,2,2,0,720535,5a8a19528d31fdda9d09b9e48ad27e9d9e816c7d,9,5,2,1,31695,Zhu Sheng Li,akarei,"Fix IntrospectionError output format

Change-Id: I10a6d1570f1d305d054cac6f1a4b4f25193540ac
Closes-Bug: #1873285
"
openstack%2Fproject-config~master~I98b087194c85b73120bb2c2262d4f72d96353d54,openstack/project-config,master,centos-arm64,I98b087194c85b73120bb2c2262d4f72d96353d54,"Add centos aarch64 to labels, unpause",MERGED,2020-04-17 00:00:17.000000000,2020-04-17 01:28:50.000000000,2020-04-17 01:23:52.000000000,3,1,0,720619,768c87448fdfff83845168dd5201d6a5bf3e1d74,8,2,2,1,7118,Ian Wienand,iwienand,"Add centos aarch64 to labels, unpause

Missed in I7956efd02859b252b9e327e121b6100b095067ce

Change-Id: I98b087194c85b73120bb2c2262d4f72d96353d54
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Iaa00c0971199b335eca415aa69af9132a3ddf225,openstack/tripleo-heat-templates,stable/queens,,Iaa00c0971199b335eca415aa69af9132a3ddf225,Make sure nova_api_ensure_cell0_database_url is deleted.,MERGED,2020-04-14 22:10:32.000000000,2020-04-17 01:26:02.000000000,2020-04-17 01:26:02.000000000,13,0,0,720090,2fdda9b31884385d88bfa433535234c305bb01de,15,5,2,1,8297,Sofer Athlan-Guyot,chem,"Make sure nova_api_ensure_cell0_database_url is deleted.

After moving the nova_api_ensure_cell0_database_url from tripleo_step5
to tripleo_step3 we encounter an error where that container could not
be created during update because it was not being deleted.

The reasoning here is that paunch may look for container to destroy
based on container live information while it creates them based of
file configuration.  Then moving container at an earlier step is
not possible.

Here we work around the issue by making sure that this container is
destroyed before reaching the common deploy step task (where paunch is
triggered) in the update tasks (which happen before).

We look for the current live information of the container and if it is
still in step5 then we delete it.

To prevent such thing to happen again we would need to make sure that
those container are ephemeral and get destroyed after being used.

Change-Id: Iaa00c0971199b335eca415aa69af9132a3ddf225
Closes-Bug: #1872828
"
openstack%2Fnova-specs~master~I693afdb7097b156935424c5549e1b22a08bf2773,openstack/nova-specs,master,cleanup-py27-support,I693afdb7097b156935424c5549e1b22a08bf2773,Cleanup py27 support,MERGED,2020-04-08 09:53:22.000000000,2020-04-17 01:22:47.000000000,2020-04-17 01:20:21.000000000,0,13,0,718368,d6e5ad77660f80d53cd00690f2b964d6d079fe4a,12,7,1,3,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

Make a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Remove install_command from tox.ini, the default is fine

Change-Id: I693afdb7097b156935424c5549e1b22a08bf2773
"
openstack%2Fcinder~stable%2Frocky~I3dc6a55ee5ed496a37885a139fba11d1134e971f,openstack/cinder,stable/rocky,bug/1850913-stable/rocky,I3dc6a55ee5ed496a37885a139fba11d1134e971f,NEC driver: fix an undefined variable,MERGED,2020-03-16 23:44:55.000000000,2020-04-17 01:22:28.000000000,2020-04-16 23:01:11.000000000,8,2,0,713347,d0e9c22bee5e5eedc4d86e0c1e3986baedf94507,24,17,1,2,28403,Naoki Saito,n-saito,"NEC driver: fix an undefined variable

Currently, NEC driver references an undefined variable in message
formatting.
That causes volume creation failure when 4 or more volumes are created
from same image in parallel.

This patch removes the reference.

Conflicts:
        cinder/tests/unit/volume/drivers/nec/test_volume.py
        Note: It is refactored in Train.

Change-Id: I3dc6a55ee5ed496a37885a139fba11d1134e971f
Closes-Bug: #1850913
(cherry picked from commit 16dbad18ccb98e1e89dc9d1d2369fdb893d855b0)
(cherry picked from commit 41cf3b749797425d5ddd6cb93109299e14224b3a)
(cherry picked from commit 16f9c5535faddba127214a57b5626f1b9795a673)
"
openstack%2Fdiskimage-builder~master~I2fffeeffa82c505a34c5c9972724b557f3b58975,openstack/diskimage-builder,master,centos-arm64,I2fffeeffa82c505a34c5c9972724b557f3b58975,Add centos aarch64 tests,MERGED,2020-04-16 04:16:13.000000000,2020-04-17 01:22:08.000000000,2020-04-17 01:18:53.000000000,9,0,0,720339,3f823488c5068fd711b99a012325720e7c23ba56,12,5,1,5,7118,Ian Wienand,iwienand,"Add centos aarch64 tests

Change-Id: I2fffeeffa82c505a34c5c9972724b557f3b58975
"
openstack%2Fcinder~master~Id76cca077fcdf3d589fecbc85d70dade2982116e,openstack/cinder,master,missing_print,Id76cca077fcdf3d589fecbc85d70dade2982116e,Fix missing print format in log messages,MERGED,2020-04-14 08:29:01.000000000,2020-04-17 00:51:18.000000000,2020-04-17 00:48:34.000000000,5,5,2,719760,c86133cb544b4b60f9a7b49e03e9b7b5c52fc9c8,56,27,2,2,20190,zhufl,zhufl,"Fix missing print format in log messages

This is to fix missing print format in log message.

Change-Id: Id76cca077fcdf3d589fecbc85d70dade2982116e
"
openstack%2Fzaqar-ui~master~I0faa6c7cf44fd57736a66a871aaff98711fa1137,openstack/zaqar-ui,master,zanata/translations,I0faa6c7cf44fd57736a66a871aaff98711fa1137,Imported Translations from Zanata,MERGED,2020-04-16 10:22:47.000000000,2020-04-16 23:47:48.000000000,2020-04-16 23:45:47.000000000,4,4,0,720426,23db4cb84ccdcc55f6f451463d9ac3936124de5d,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0faa6c7cf44fd57736a66a871aaff98711fa1137
"
openstack%2Fopenstack-ansible-os_magnum~master~I083f48da5fc2786d0628195edebbfff97c46aba4,openstack/openstack-ansible-os_magnum,master,,I083f48da5fc2786d0628195edebbfff97c46aba4,Cleanup py27 support,MERGED,2020-04-14 04:18:06.000000000,2020-04-16 23:42:23.000000000,2020-04-16 23:40:35.000000000,1,43,2,719725,1b1bd593c8acabfdaf777b295b9dac3fdfc8fd56,14,5,3,4,17130,melissaml,malei,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Cleanup doc/source/conf.py to remove now obsolete content.

Change-Id: I083f48da5fc2786d0628195edebbfff97c46aba4
"
openstack%2Fopenstack-ansible-nspawn_hosts~master~I96ef07691810617f4ff5544a0797913d9dab05a6,openstack/openstack-ansible-nspawn_hosts,master,,I96ef07691810617f4ff5544a0797913d9dab05a6,Cleanup py27 support,MERGED,2020-04-14 12:42:25.000000000,2020-04-16 23:42:22.000000000,2020-04-16 23:40:25.000000000,2,44,0,719941,9d7778932a4b4050faa2984cebc7c945e73d6943,15,4,3,4,17130,melissaml,malei,"Cleanup py27 support

This repo is now testing only with Python
3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Cleanup doc/source/conf.py to remove noww
 obsolete content.

Change-Id: I96ef07691810617f4ff5544a0797913d9dab05a6
"
openstack%2Fopenstack-ansible-os_gnocchi~master~I75cbbde0c0f5fa391d76eac3fea06036b3b836f1,openstack/openstack-ansible-os_gnocchi,master,,I75cbbde0c0f5fa391d76eac3fea06036b3b836f1,Cleanup py27 support,MERGED,2020-04-14 07:21:05.000000000,2020-04-16 23:41:55.000000000,2020-04-16 23:40:03.000000000,1,44,1,719745,c3d416b9c4db081349b19d0d222e1b7692e27b55,13,5,2,4,17130,melissaml,malei,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Cleanup doc/source/conf.py to remove now obsolete content.

Change-Id: I75cbbde0c0f5fa391d76eac3fea06036b3b836f1
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I7da1084c27ffbd2f085c4a1543527b72cdbf1d6b,openstack/openstack-ansible-openstack_hosts,master,,I7da1084c27ffbd2f085c4a1543527b72cdbf1d6b,Cleanup py27 support,MERGED,2020-04-14 12:37:41.000000000,2020-04-16 23:41:28.000000000,2020-04-16 23:39:53.000000000,1,39,0,719935,d6b6ec953a1076596a41e2ea86b8f2c64799cddd,8,3,1,4,17130,melissaml,malei,"Cleanup py27 support

This repo is now testing only with Python
3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Cleanup doc/source/conf.py to remove noww
 obsolete content.

Change-Id: I7da1084c27ffbd2f085c4a1543527b72cdbf1d6b
"
openstack%2Fopenstack-ansible-openstack_openrc~master~I615bbc9996eddfa98acc94d977f4a4867a49a8db,openstack/openstack-ansible-openstack_openrc,master,,I615bbc9996eddfa98acc94d977f4a4867a49a8db,Cleanup py27 support,MERGED,2020-04-14 12:37:45.000000000,2020-04-16 23:40:08.000000000,2020-04-16 23:37:36.000000000,1,39,0,719938,9c08fd4e325a96a3c923f2ba8a704409f6a8c0af,8,3,1,4,17130,melissaml,malei,"Cleanup py27 support

This repo is now testing only with Python
3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Cleanup doc/source/conf.py to remove noww
 obsolete content.

Change-Id: I615bbc9996eddfa98acc94d977f4a4867a49a8db
"
openstack%2Fopenstack-ansible-os_ceilometer~master~I556824101a67591756fdc98ce70ca20558823cea,openstack/openstack-ansible-os_ceilometer,master,,I556824101a67591756fdc98ce70ca20558823cea,Cleanup py27 support,MERGED,2020-04-14 06:04:01.000000000,2020-04-16 23:39:07.000000000,2020-04-16 23:37:11.000000000,0,42,1,719735,0cab78b0e3a0cf3fd655c75af2cdb2fb5855c573,12,5,2,3,17130,melissaml,malei,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Cleanup doc/source/conf.py to remove now obsolete content.

Change-Id: I556824101a67591756fdc98ce70ca20558823cea
"
openstack%2Fopenstack-ansible-galera_client~master~Ie7d39b0dec4b985078437904dc4bad2a913bf735,openstack/openstack-ansible-galera_client,master,,Ie7d39b0dec4b985078437904dc4bad2a913bf735,Cleanup py27 support,MERGED,2020-04-14 12:16:16.000000000,2020-04-16 23:33:18.000000000,2020-04-16 23:31:44.000000000,1,48,0,719930,ad5819c5941fcbdf0c509d8c195f533ca2a50b5f,8,3,1,4,17130,melissaml,malei,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Cleanup doc/source/conf.py to remove now obsolete content.

Change-Id: Ie7d39b0dec4b985078437904dc4bad2a913bf735
"
openstack%2Fsahara-dashboard~master~I2c61e9d88b2d05c9f0b68066d7bb15b43cdf083f,openstack/sahara-dashboard,master,mock,I2c61e9d88b2d05c9f0b68066d7bb15b43cdf083f,"Test fixes: unittest.mock, better l-c job, pytest dep",MERGED,2020-04-03 17:55:01.000000000,2020-04-16 23:04:26.000000000,2020-04-16 23:01:13.000000000,14,9,0,717360,18921beb2ed111b97d1eaca55c3c778c7d6b3890,25,5,5,9,10459,Luigi Toscano,ltoscano,"Test fixes: unittest.mock, better l-c job, pytest dep

Now only python 3 is supported, which means unittest.mock
can be used instead of the external mock module.
This change can be done thanks to the Horizon
change I2de669d8e89b8daeb7ee5405ffab35af6307c40b

Switch to openstack-lower-constraints-jobs-horizon
which pulls in the last horizon. The lower-constraint
version of horizon should be bumped when a new
version (post-18.2.0) is released.

Finally, add pytest to the set of test requirements
to prevent an missing import error (even through
the sahara scenario tests still need to be ported
to pytest).

Change-Id: I2c61e9d88b2d05c9f0b68066d7bb15b43cdf083f
"
openstack%2Fcyborg~master~Icb2c64c9a2cbb9934cb05febb5fff50531fae45b,openstack/cyborg,master,,Icb2c64c9a2cbb9934cb05febb5fff50531fae45b,Address the hostname problem mentioned,ABANDONED,2019-11-26 04:19:12.000000000,2020-04-16 23:02:53.000000000,,1,1,5,696014,0aea0e4adab2e750622e2f91c4db9ee8c9188f6e,21,8,4,1,27458,Li Liu,liliu,"Address the hostname problem mentioned

http://lists.openstack.org/pipermail/openstack-discuss/2019-November/011044.html

Change-Id: Icb2c64c9a2cbb9934cb05febb5fff50531fae45b
"
openstack%2Fpuppet-tripleo~master~I4270b398366e90206adffe32f812632b50df615b,openstack/puppet-tripleo,master,ha-container_logging,I4270b398366e90206adffe32f812632b50df615b,Log stdout of HA containers,MERGED,2020-04-14 09:14:45.000000000,2020-04-16 23:01:09.000000000,2020-04-16 23:01:09.000000000,103,11,16,719773,06c4aa7446073022b86c1f034a0c5406f2675ddb,36,9,8,11,20172,Michele Baldessari,michele,"Log stdout of HA containers

When podman dropped the journald log-driver we rushed to move to the supported
k8s-file driver. This had the side effect of us losing the stdout logs of the
HA containers.

In fact previously we were easily able to troubleshoot haproxy startup failures
just by looking in the journal. These days instead if haproxy fails to start we
have no traces whatsoever in the logs, because when a container fails it gets
stopped by pacemaker (and consequently removed) and no logs on the system are
available any longer.

Tested as follows:
1) Redeploy a previously deployed overcloud that did not have the patch
and observe that we now log the startup of HA bundles in /var/log/containers/stdouts/*bundle.log

[root@controller-0 stdouts]# ls -l *bundle.log |grep -v -e init -e restart
-rw-------. 1 root root   16032 Apr 14 14:13 openstack-cinder-volume.log
-rw-------. 1 root root   19515 Apr 14 14:00 haproxy-bundle.log
-rw-------. 1 root root   10509 Apr 14 14:03 ovn-dbs-bundle.log
-rw-------. 1 root root    6451 Apr 14 14:00 redis-bundle.log

2) Deploy a composable HA overcloud from scratch with the patch above
and observe that we obtain the stdout on disk.

Note that most HA containers log to their usual on-host files just
fine, we are mainly missing haproxy logs and/or the kolla startup only
of the HA containers.

Closes-Bug: #1872734

Change-Id: I4270b398366e90206adffe32f812632b50df615b
"
openstack%2Fnova~master~I56676713571e79f05ee3f0bffc5da8386e02c5d4,openstack/nova,master,bug/1861071_followups,I56676713571e79f05ee3f0bffc5da8386e02c5d4,images: Make JSON the default output format of calls to qemu-img info,MERGED,2020-03-06 17:38:42.000000000,2020-04-16 22:40:20.000000000,2020-04-16 22:37:18.000000000,46,320,5,711679,3e06135bec88c1c308124f2f0a55d448434ae8ae,65,15,6,7,10135,Lee Yarwood,lyarwood,"images: Make JSON the default output format of calls to qemu-img info

oslo.utils is planning to make JSON the default output format parsed
when creating QemuImgInfo objects. As such this change makes JSON the
default output_format requested when calling qemu-img info.

The majority of this change is actually test removal from
nova.tests.unit.virt.libvirt.test_utils as these human readable qemu-img
based tests now duplicate tests found in oslo.utils itself.

Change-Id: I56676713571e79f05ee3f0bffc5da8386e02c5d4
"
openstack%2Fproject-config~master~I2e1803d77e702f325c3c4b2af0000bffe98c3e0b,openstack/project-config,master,diskimages-globals,I2e1803d77e702f325c3c4b2af0000bffe98c3e0b,nodepool: use job inheritance,MERGED,2020-03-16 02:55:01.000000000,2020-04-16 22:38:32.000000000,2020-04-16 22:34:09.000000000,174,497,5,713158,b79ccc98247e10fe87f4e8521168680e042e2ed9,26,5,7,2,7118,Ian Wienand,iwienand,"nodepool: use job inheritance

This uses the job inheritance feature in the dependent change to
update the config file and remove a lot of duplicated content for
diskimages.

The status-quo is kept with this change; nb04 has everything paused
but the Fedora builds, and vice-versa for the main config file.

Depends-On: https://review.opendev.org/713157
Change-Id: I2e1803d77e702f325c3c4b2af0000bffe98c3e0b
"
openstack%2Fswift~master~I8054f6334b947e81f83faefc6f415a1530a15d94,openstack/swift,master,s3apiMetrics,I8054f6334b947e81f83faefc6f415a1530a15d94,s3api: Add stats for s3api requests,NEW,2020-03-30 16:35:01.000000000,2020-04-16 22:18:06.000000000,,5,0,2,716016,81c367c7688f876303eaedeaf6acf9a0341281f8,7,2,2,1,31781,Julien Lutran,jlutran,"s3api: Add stats for s3api requests

Change-Id: I8054f6334b947e81f83faefc6f415a1530a15d94
"
openstack%2Foslo.i18n~master~Id6dce33fdbe3fc537dfe28d5cc604985b3347405,openstack/oslo.i18n,master,remove-babel,Id6dce33fdbe3fc537dfe28d5cc604985b3347405,Drop use of babel,MERGED,2020-04-16 16:31:45.000000000,2020-04-16 21:53:49.000000000,2020-04-16 21:51:49.000000000,25,67,1,720550,4e907ed2f39329eaa12d1712d49ca8903db15124,12,6,1,4,15334,Stephen Finucane,sfinucan,"Drop use of babel

We were simply using this to get a list of language codes. Turns out
Python provides a way to do this already via the 'locale' module, which
provides all of the locales we care about [1]. Use this.

[1] https://github.com/python/cpython/blob/3.5/Lib/locale.py

Change-Id: Id6dce33fdbe3fc537dfe28d5cc604985b3347405
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I53e637387881a8919dcc7b425a1cb96102c8d610,openstack/nova,master,,I53e637387881a8919dcc7b425a1cb96102c8d610,libvirt: Remove VIR_DOMAIN_BLOCK_REBASE_RELATIVE flag check,MERGED,2020-01-10 18:20:32.000000000,2020-04-16 21:44:41.000000000,2020-04-16 21:40:57.000000000,7,26,1,702021,90032a7e01684e8c7de9546818c8b912f1038b27,47,14,3,3,10135,Lee Yarwood,lyarwood,"libvirt: Remove VIR_DOMAIN_BLOCK_REBASE_RELATIVE flag check

_volume_snapshot_delete would previously check if the
VIR_DOMAIN_BLOCK_REBASE_RELATIVE flag, introduced in 1.2.7, was
available with the installed version of Libvirt. This check can be
removed as MIN_LIBVIRT_VERSION now sit at 4.0.0 ensuring this flag is
always present.

The value of VIR_DOMAIN_BLOCK_REBASE_RELATIVE used by fakelibvirt is
also updated to reflect what is actually used by Libvirt [1].

[1] https://github.com/libvirt/libvirt/blob/26badd13e8f1931a9a03e3b1ca0620bb0063b856/include/libvirt/libvirt-domain.h#L2553

Change-Id: I53e637387881a8919dcc7b425a1cb96102c8d610
"
openstack%2Fcharm-designate~master~I22c774569f24b203d142216cd82fc53cddc8aae7,openstack/charm-designate,master,enable-focal,I22c774569f24b203d142216cd82fc53cddc8aae7,Enable focal and ussuri as part of the gate tests,MERGED,2020-03-26 15:52:28.000000000,2020-04-16 21:44:23.000000000,2020-04-16 21:44:23.000000000,223,12,0,715252,514e107a527972752af89182e4a72af872642b4d,59,5,11,13,20870,Alex Kavanagh,ajkavanagh,"Enable focal and ussuri as part of the gate tests

Add bionic-ussuri and focal-ussuri (with mysql8 support) bundles.

Change-Id: I22c774569f24b203d142216cd82fc53cddc8aae7
"
openstack%2Fcharm-neutron-gateway~master~I69530e715f0920fb5cd926fe195ca1768be04e84,openstack/charm-neutron-gateway,master,enable-focal,I69530e715f0920fb5cd926fe195ca1768be04e84,Add focal-ussuri and bionic-ussuri bundle,MERGED,2020-03-25 15:43:28.000000000,2020-04-16 21:44:19.000000000,2020-04-16 21:44:19.000000000,355,0,0,714974,39209b538b7dd2de1ebfa003d427e6088f5e83bf,36,5,3,4,20870,Alex Kavanagh,ajkavanagh,"Add focal-ussuri and bionic-ussuri bundle

This patch adds a focal-ussuri and bionic-ussuri bundles to the tests
for the charm.

Change-Id: I69530e715f0920fb5cd926fe195ca1768be04e84
"
openstack%2Frequirements~master~Id649ab6c871bb24042379539c1fe21371e35bbeb,openstack/requirements,master,,Id649ab6c871bb24042379539c1fe21371e35bbeb,Update constraint for castellan for 3.8,MERGED,2020-04-16 15:11:18.000000000,2020-04-16 21:43:33.000000000,2020-04-16 21:41:44.000000000,1,1,0,720501,2455e78f0de675d3ce896b48e7332dc429ccfc11,8,3,1,1,7973,Douglas MendizÃ¡bal,dougmendizabal,"Update constraint for castellan for 3.8

The Python 3.8 upper constraint was missed by a previous
automated patch. [1]  This patch updates the constraint
for 3.8 to match 3.6 and 3.7.

[1] https://review.opendev.org/#/c/719611/

Change-Id: Id649ab6c871bb24042379539c1fe21371e35bbeb
"
openstack%2Ftripleo-ansible~master~Ic063facf1f5f87c0e3a01803937a620a9b77d4b5,openstack/tripleo-ansible,master,bug/1867608,Ic063facf1f5f87c0e3a01803937a620a9b77d4b5,Correctly set openstack_domains for ansible >= 2.9,MERGED,2020-04-13 12:12:20.000000000,2020-04-16 21:28:52.000000000,2020-04-16 21:28:52.000000000,5,1,2,719443,e86977ab48e4d7e66bda9060e51e396d4f6a85fe,25,7,2,1,13861,yatin,yatinkarel,"Correctly set openstack_domains for ansible >= 2.9

os_keystone_domain_info returns a dict which contains
openstack_domains but currently that dict was considered
as openstack_domains which is wrong, this patch fixes
it.

Closes-Bug: #1867608
Change-Id: Ic063facf1f5f87c0e3a01803937a620a9b77d4b5
"
openstack%2Fopenstack-helm-images~master~I037dbebfaaba897f9e6249d81b3530d5ed2538e9,openstack/openstack-helm-images,master,,I037dbebfaaba897f9e6249d81b3530d5ed2538e9,Build Ceph images with Ceph Nautilus 14.2.8 packages,MERGED,2020-04-08 15:52:02.000000000,2020-04-16 21:28:04.000000000,2020-04-16 21:26:02.000000000,10,10,1,718502,fa59a1644a55731a2721759f795fd6a546366d9f,17,8,4,5,28372,chinasubbareddy mallavarapu,chinasubbareddy,"Build Ceph images with Ceph Nautilus 14.2.8 packages

The Ceph package repo has been updated to include Nautilus 14.2.8
packages so this ps will generate new docker images for all ceph
components.

Change-Id: I037dbebfaaba897f9e6249d81b3530d5ed2538e9
"
openstack%2Fblazar~master~Id3531226dc4d10b46d26820f3f47e2aefb3089a6,openstack/blazar,master,ironic-node-polling,Id3531226dc4d10b46d26820f3f47e2aefb3089a6,Prevent reserving ironic nodes in error states,NEW,2020-04-16 16:30:46.000000000,2020-04-16 21:10:35.000000000,,104,11,20,720548,6a580254e42aeb84d5a02fb9b5181a0612445475,7,2,3,2,29269,Zhuo Zhen,zhenz,"Prevent reserving ironic nodes in error states

Currently, Blazar allows reserving ironic nodes in error or maintenance
states. This is a problem because nodes in error or maintenance states
can not launch instances. Polling-based monitoring is updated to first
identify ""ironic"" hypervisor_type. If ironic nodes, pull node states
from ironic and decide ""failed resources"" and ""recovered resources"".

Change-Id: Id3531226dc4d10b46d26820f3f47e2aefb3089a6
Closes-Bug: #1872741
"
openstack%2Ftripleo-heat-templates~master~Ic0d540a74bd7e9b83d1689fca33309184dc4f150,openstack/tripleo-heat-templates,master,scn001,Ic0d540a74bd7e9b83d1689fca33309184dc4f150,DNM - test scenario001 against 720462,ABANDONED,2020-04-16 13:01:59.000000000,2020-04-16 21:04:59.000000000,,1,0,0,720465,baf8090dcfb7ff2750b3acaed6953d4a560e07fc,3,1,1,1,3153,Emilien Macchi,emilienm,"DNM - test scenario001 against 720462

Depends-On: https://review.opendev.org/#/c/720462
Change-Id: Ic0d540a74bd7e9b83d1689fca33309184dc4f150
"
openstack%2Ftripleo-ansible~master~I3c43750463d7134b3dfafb4f7b77a7ea85aa293b,openstack/tripleo-ansible,master,podman/rm,I3c43750463d7134b3dfafb4f7b77a7ea85aa293b,DNM - run molecule-tripleo_container_manage with more debug,ABANDONED,2020-04-16 20:50:45.000000000,2020-04-16 21:00:22.000000000,,2,1,0,720594,cff0929fae2b09dcc9b8104189b9a824c3e2848b,2,0,1,2,3153,Emilien Macchi,emilienm,"DNM - run molecule-tripleo_container_manage with more debug

Change-Id: I3c43750463d7134b3dfafb4f7b77a7ea85aa293b
"
openstack%2Fmanila-specs~master~I035c49ce48e53db787d7153f9957ddd134ec924c,openstack/manila-specs,master,bp/scenario-tests,I035c49ce48e53db787d7153f9957ddd134ec924c,Update scenario tests spec,MERGED,2020-03-14 00:33:35.000000000,2020-04-16 20:55:24.000000000,2020-04-16 20:53:40.000000000,146,18,12,713083,31ec730adb956c8b99bb7b16d8887d029496c661,18,7,4,1,16643,Goutham Pacha Ravi,gouthamr,"Update scenario tests spec

Add annotations to test cases about the status of
their implementation. This clarifies what part of
this spec still needs work.

Change-Id: I035c49ce48e53db787d7153f9957ddd134ec924c
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Ftripleo-ansible~master~Ic35155f04bf05913b9e9b8eaa22fe6c02515396c,openstack/tripleo-ansible,master,registries-v2,Ic35155f04bf05913b9e9b8eaa22fe6c02515396c,Add support for v2 registries.conf,MERGED,2020-04-13 15:36:32.000000000,2020-04-16 20:11:07.000000000,2020-04-16 20:11:07.000000000,60,8,1,719584,bf80fe922b2d915675f01794e73893c018688916,28,6,6,3,14985,Alex Schultz,mwhahaha,"Add support for v2 registries.conf

https://github.com/containers/image/blob/master/docs/containers-registries.conf.5.md#version-2

This allows for mirrors to be configured for specific hosts however it
is incompatibilty with the default v1 configuration so we have to nuke
the existing configuration.  Additionally it uses TOML which there is
currently no ansible module to manage.

Change-Id: Ic35155f04bf05913b9e9b8eaa22fe6c02515396c
"
openstack%2Fopenstack-helm-infra~master~I22c36e5a6f354f6318e72798ce9865011a85b2af,openstack/openstack-helm-infra,master,,I22c36e5a6f354f6318e72798ce9865011a85b2af,Process Exporter: Override Children Parameter,MERGED,2020-04-16 15:22:00.000000000,2020-04-16 20:05:19.000000000,2020-04-16 20:03:37.000000000,4,0,7,720508,35872a9f2527c6053275608f06d98cc7a0e688cd,23,10,4,2,18295,John Lawrence,jl401j,"Process Exporter: Override Children Parameter

Currently  resource usage of subprocesses is added
in to their parent's usage. And this will provide
option to override.

Change-Id: I22c36e5a6f354f6318e72798ce9865011a85b2af
"
openstack%2Fkolla-ansible~stable%2Ftrain~I0201b46a9fbab21433a9f53685131aeb461543a8,openstack/kolla-ansible,stable/train,bug/1729566,I0201b46a9fbab21433a9f53685131aeb461543a8,Fix live migration to use migration int. address,MERGED,2020-04-13 09:06:47.000000000,2020-04-16 20:03:06.000000000,2020-04-16 19:55:06.000000000,17,2,0,719416,03784673557a0b2c5a2dba1ce06966dcd66473a8,17,5,2,2,30491,RadosÅaw Piliszek,yoctozepto,"Fix live migration to use migration int. address

In kolla ansible we typically configure services to communicate via IP
addresses rather than hostnames. One accidental exception to this was
live migration, which used the hostname of the destination even when
not required (i.e. TLS not being used for libvirt).

To make such hostnames work, k-a adds entries to /etc/hosts in the
bootstrap-servers command. Alternatively users may provide DNS.

One problem with using /etc/hosts is that, if a new compute host is
added to the cloud, or an IP address is changed, that will not be
reflected in the /etc/hosts file of other hosts. This would cause live
migration to the new host from an old host to fail, as the name cannot
be resolved.

The workaround for this was to update the /etc/hosts file (perhaps via
bootstrap-servers) on all hosts after adding new compute hosts. Then the
nova_libvirt container had to be restarted to pick up the change.

Similarly, if user has overridden the migration_interface, the used
hostname could point to a wrong address on which libvirt would not
listen.

This change adds the live_migration_inbound_addr option to nova.conf. If
TLS is not in use for libvirt, this will be set to the IP address of the
host on the migration network. If TLS is enabled for libvirt,
live_migration_inbound_addr will be set to migration_hostname, since
certificates will typically reference the hostname rather than the
host's IP. With libvirt TLS enabled, DNS is recommended to avoid the
/etc/hosts issue which is likely the case in production deployments.

Change-Id: I0201b46a9fbab21433a9f53685131aeb461543a8
Closes-Bug: #1729566
(cherry picked from commit 628c27ce9e693902c5cabedc7f254f2a1229a195)
"
openstack%2Fneutron~master~I938f9bca3e0477819a07cdb600facd2ebbae40be,openstack/neutron,master,bug/1862968,I938f9bca3e0477819a07cdb600facd2ebbae40be,"Add ""rbac-address-scope"" to OVN supported extensions",MERGED,2020-04-15 17:31:11.000000000,2020-04-16 20:02:32.000000000,2020-04-16 19:58:33.000000000,1,0,0,720248,8d85b356293d2a5f702523dfc0d21039abdd84fc,32,9,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add ""rbac-address-scope"" to OVN supported extensions

Change-Id: I938f9bca3e0477819a07cdb600facd2ebbae40be
Related-Bug: #1862968
"
openstack%2Fswift~master~I4022f269a6066a06bb9f8fa9b6a2d52653e7966e,openstack/swift,master,zanata/translations,I4022f269a6066a06bb9f8fa9b6a2d52653e7966e,Imported Translations from Zanata,MERGED,2020-04-16 09:55:42.000000000,2020-04-16 20:01:44.000000000,2020-04-16 19:58:36.000000000,179,2,0,720419,0c37da906e053964df24910cca364899aac91899,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4022f269a6066a06bb9f8fa9b6a2d52653e7966e
"
openstack%2Fkolla-ansible~stable%2Ftrain~Iaada93fc7b7bf3ed86f9d9198890f199a726b4d8,openstack/kolla-ansible,stable/train,ci-test-ironic-on-nova-cell-change-stable/train,Iaada93fc7b7bf3ed86f9d9198890f199a726b4d8,CI: Test ironic on nova-cell change,MERGED,2020-04-13 15:08:09.000000000,2020-04-16 20:01:14.000000000,2020-04-16 19:55:05.000000000,1,1,0,719561,5d313cf168e39e028788fa90f5e5f0b61bbe8f64,13,3,2,1,30491,RadosÅaw Piliszek,yoctozepto,"CI: Test ironic on nova-cell change

This fixes CI regression after nova split into main and cell roles.
To follow original testing patterns, let's test ironic also when
nova-cell role changes.

Change-Id: Iaada93fc7b7bf3ed86f9d9198890f199a726b4d8
(cherry picked from commit f432e69a8bde5964f14be8579c8820ccdb9efebe)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia9860107c35e543a05775596076873ea950b7400,openstack/tripleo-heat-templates,stable/train,train_podman,Ia9860107c35e543a05775596076873ea950b7400,Use '0' instead of root in container-puppet.py,MERGED,2019-11-29 06:46:34.000000000,2020-04-16 20:00:27.000000000,2019-11-29 12:53:01.000000000,6,1,0,696641,871c1a30326c3c5b0e3703a0ab64deedc1ded5a6,10,4,1,1,20172,Michele Baldessari,michele,"Use '0' instead of root in container-puppet.py

Even though the number of user lookups have been reduced from two to one
via https://github.com/containers/libpod/pull/1978, we still see the
following error from time to time:
time=""2019-11-22T19:19:33Z"" level=debug msg=""ExitCode msg: \""unable to find user root: no matching entries in passwd file\""""
time=""2019-11-22T19:19:33Z"" level=error msg=""unable to find user root: no matching entries in passwd file""

The TLDR; is that podman/docker, when passed a --user=<name> parameter,
will parse the /etc/passwd file inside the container and detect the
uid/gid to switch to. The problem seems to be that sometimes this
/etc/passwd is either read as empty or non-existant when we try and
parse it (the root-cause of which is the real underlying bug).

Since it seems that root-causing this will take a rather large amount of
time, we can just pass the UID directly which will not fail when
the parsing code cannot find the specified user in /etc/passwd, as it
simply uses the provided UID:
https://github.com/containers/libpod/blob/master/vendor/github.com/opencontainers/runc/libcontainer/user/user.go#L333

Tested this by running a reproducer on three machines for a total
of ~800 runs and had 0 occurrences of this error. Previously I could
reproduce this issue in about 30 to 60 runs at most.

Related rhbz: 1776766
Related-Bug: #1803544

NB: Cherry-pick not 100% clean

Change-Id: Ia9860107c35e543a05775596076873ea950b7400
(cherry picked from commit 393e96b5b9e8affd35b48fb45f0a75b253629074)
"
openstack%2Fopenstack-helm-addons~master~I4c4e6443ccd35eaee24444443013967dd8b5381c,openstack/openstack-helm-addons,master,Separate-services,I4c4e6443ccd35eaee24444443013967dd8b5381c,Separate Ranger services,MERGED,2020-04-02 20:06:32.000000000,2020-04-16 19:58:38.000000000,2020-04-16 19:58:38.000000000,1148,120,2,717117,eb09d81a260180740062c1619164f06de1c8366a,56,11,23,14,24999,Hari,hosingh000,"Separate Ranger services

Change-Id: I4c4e6443ccd35eaee24444443013967dd8b5381c
"
openstack%2Fansible-collections-openstack~master~I23e2834d6b9d40ce86db4b32a0ed8bf76b3d9879,openstack/ansible-collections-openstack,master,project,I23e2834d6b9d40ce86db4b32a0ed8bf76b3d9879,Add properties for os_project,MERGED,2020-03-26 16:44:11.000000000,2020-04-16 19:33:47.000000000,2020-04-16 19:33:47.000000000,204,2,36,715266,c1a2496e0ff3e8b3d9b70cb8058834adb9b35099,88,7,23,5,27224,Duc Truong,dtruong2,"Add properties for os_project

Keystone supports setting custom properties for projects.  This changes add
properties to os_project to enable setting of custom properties.

Depends-On: https://review.opendev.org/715255
Change-Id: I23e2834d6b9d40ce86db4b32a0ed8bf76b3d9879
"
openstack%2Ftripleo-ansible~master~Id5cc784bae597def0648f07d28b6463b387d2212,openstack/tripleo-ansible,master,bug/1873249,Id5cc784bae597def0648f07d28b6463b387d2212,tripleo_container_manage: add safeguard against wrong healthcheck config,MERGED,2020-04-16 12:56:13.000000000,2020-04-16 19:12:22.000000000,2020-04-16 19:12:22.000000000,26,4,0,720462,04f16051cc112180d4fb66fc002a453c1ede23d2,12,4,5,3,3153,Emilien Macchi,emilienm,"tripleo_container_manage: add safeguard against wrong healthcheck config

If a container config has by mistake a healthcheck but no systemd
restart policy, we don't want to manage the healthcheck because it
requires its service to be created.

To prevent that situation, we'll create the healthchecks only if they
are already part of the systemd services list that was created earlier.
For that, we're using the intersect() filter which allows to
get the intersection of 2 lists (systemd services and healthchecks to
create).

Adding molecule coverage to test this scenario.

Closes-Bug: #1873249
Change-Id: Id5cc784bae597def0648f07d28b6463b387d2212
"
openstack%2Fpubliccloud-sig~master~I05c12768dd1648c59156bc8700238aaa59ee1dc3,openstack/publiccloud-sig,master,cleanup-py27-support,I05c12768dd1648c59156bc8700238aaa59ee1dc3,Cleanup py27 support and docs,MERGED,2020-04-11 14:21:24.000000000,2020-04-16 19:09:45.000000000,2020-04-16 19:07:50.000000000,1,50,0,719182,a670331b47fd21078ed8dd4f26d526c2e0cbb99e,8,6,1,6,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support and docs

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Cleanup doc/source/conf.py to remove now obsolete content.
- Use newer openstackdocstheme version
- Remove install_command from tox.ini, the default is fine
- Remove unused file test-requirements.txt
- Remove unused dependencies from requirements.txt, this repo
  is docs only

Change-Id: I05c12768dd1648c59156bc8700238aaa59ee1dc3
"
openstack%2Ftripleo-ansible~master~I7088a6370043719351cfc978d08797daea564bc0,openstack/tripleo-ansible,master,systemd/faster,I7088a6370043719351cfc978d08797daea564bc0,"Revert ""tripleo_container_manage: optimize systemd services/healthcheck bootstrap""",ABANDONED,2020-04-16 12:14:15.000000000,2020-04-16 19:06:29.000000000,,72,163,0,720451,3c3b4ecc7e69abc77c8828eae59b42cee5ddfe97,7,6,2,8,3153,Emilien Macchi,emilienm,"Revert ""tripleo_container_manage: optimize systemd services/healthcheck bootstrap""

This reverts commit 761e5cbdd589f582003f4e2f27a03c313de8a852.

Change-Id: I7088a6370043719351cfc978d08797daea564bc0
Related-Bug: #1873249
"
openstack%2Ftripleo-common~master~Ie00144d821c920973df4495997c0ce376b7d916b,openstack/tripleo-common,master,step,Ie00144d821c920973df4495997c0ce376b7d916b,utils/config: allows a when to have boolean conditions,MERGED,2020-04-15 20:23:03.000000000,2020-04-16 19:01:35.000000000,2020-04-16 07:32:06.000000000,5,1,0,720283,90dce1dd886762af1ebdebe9ab0b5ba7e810ddd6,10,4,1,3,3153,Emilien Macchi,emilienm,"utils/config: allows a when to have boolean conditions

In Ansible, a condition in when doesn't have to be a string, and can in
theory be a boolean. In that case, we don't want to use regex on it, we
would get a TypeError.

Let's just continue the loop and move on.

Change-Id: Ie00144d821c920973df4495997c0ce376b7d916b
"
openstack%2Fcinder~master~Ic4fdd42ce44ffe50a423cc2a92641d5ce0ffdf28,openstack/cinder,master,bug/1863241,Ic4fdd42ce44ffe50a423cc2a92641d5ce0ffdf28,PowerMax Driver - Deletion of group with volumes,MERGED,2020-02-14 12:14:45.000000000,2020-04-16 18:57:23.000000000,2020-04-16 18:53:52.000000000,121,21,0,707828,e5e6bc6866b2d261f28a89d3ddd8774d7f37d609,251,43,7,2,12670,Helen Walsh,walshh2,"PowerMax Driver - Deletion of group with volumes

1.  Add a clone check to make sure their is no snapVx session.
2.  Allow for bootable volumes to be added to groups when
    image_volume_cache_enabled=True.
3.  Cleanup, if a volume does not exist in an storage group, then
    don't try to remove it from the storage group.

Change-Id: Ic4fdd42ce44ffe50a423cc2a92641d5ce0ffdf28
Closes-Bug: #1863241
"
openstack%2Frpm-packaging~master~I110e01d9451c71baefbc6f560f924e1f6c9cc373,openstack/rpm-packaging,master,ironicinspectorclient-ver,I110e01d9451c71baefbc6f560f924e1f6c9cc373,Set version of ironic-inspector-client to 4.1.0,MERGED,2020-04-16 13:04:27.000000000,2020-04-16 18:49:59.000000000,2020-04-16 18:49:59.000000000,1,2,0,720467,acee54820129bce2c75595fb44333263ab00d338,9,5,1,1,23851,Riccardo Pittau,elfosardo,"Set version of ironic-inspector-client to 4.1.0

Also remove six dependency as it's not needed anymore

Change-Id: I110e01d9451c71baefbc6f560f924e1f6c9cc373
"
openstack%2Frpm-packaging~master~I004b9abc72e3acff21bf76069059830bb244b49f,openstack/rpm-packaging,master,ironic-lib-ver,I004b9abc72e3acff21bf76069059830bb244b49f,Set ironic-lib version to 4.2.0,MERGED,2020-04-16 12:59:12.000000000,2020-04-16 18:46:44.000000000,2020-04-16 18:46:44.000000000,1,2,0,720463,cc326b8dc375a3d418e6b1f2ff9a7732a43427c0,9,5,1,1,23851,Riccardo Pittau,elfosardo,"Set ironic-lib version to 4.2.0

Also remove the six dependency as it's not needed anymore.

Change-Id: I004b9abc72e3acff21bf76069059830bb244b49f
"
openstack%2Fcharm-gnocchi~master~I4330c194c860ad7ada59136cbf37cf03fb9535dc,openstack/charm-gnocchi,master,enable-focal,I4330c194c860ad7ada59136cbf37cf03fb9535dc,Add focal-ussuri and bionic-ussuri bundle,MERGED,2020-04-02 17:12:19.000000000,2020-04-16 18:43:45.000000000,2020-04-16 18:43:45.000000000,259,0,0,717079,8ed410eb33ee95abbb7235942bc70d0d939f50e2,22,5,4,5,20870,Alex Kavanagh,ajkavanagh,"Add focal-ussuri and bionic-ussuri bundle

This patch adds a focal-ussuri and bionic-ussuri bundles to the tests
for the charm.

Change-Id: I4330c194c860ad7ada59136cbf37cf03fb9535dc
"
openstack%2Fcharm-cinder-ceph~master~If2aca7193772ca4e9898e19adc0fda92cf1ac905,openstack/charm-cinder-ceph,master,pre-enable-focal,If2aca7193772ca4e9898e19adc0fda92cf1ac905,Sync charm-helpers for py38/focal pre-support,MERGED,2020-04-16 09:38:48.000000000,2020-04-16 18:42:01.000000000,2020-04-16 18:42:01.000000000,178,37,0,720413,84389bdc4e84fd1519b17e263d2c9acc0d599bd8,14,5,2,9,20870,Alex Kavanagh,ajkavanagh,"Sync charm-helpers for py38/focal pre-support

This is to enable other charms to pass there enable-focal patchsets.
The pre-enable is simply to sync in charmhelpers with py38 support so
that this charm can participate in ceph-osd's focal enablement.

Change-Id: If2aca7193772ca4e9898e19adc0fda92cf1ac905
"
openstack%2Foslo.i18n~master~Ic5a3b7bc9db1b4e377da3e5fed3888227ca5dc2a,openstack/oslo.i18n,master,babel,Ic5a3b7bc9db1b4e377da3e5fed3888227ca5dc2a,Make Babel an optional dependency,ABANDONED,2020-04-16 09:07:50.000000000,2020-04-16 18:36:56.000000000,,20,2,0,720404,8981ba337262ce8dbfd2efad62aef87594706308,8,4,1,5,10239,Dmitry Tantsur,dtantsur,"Make Babel an optional dependency

Babel is quite a heavy thing to pull in by default since it contains
a lot of locale data. It is only used in get_available_languages,
which is only called by a handful of OpenStack projects, mostly
the ""core"" ones (although many other projects cargo-culted it
to their i18n.py).

This is technically a breaking change for projects that do use
get_available_languages. E.g. it will affect Neutron, Glance and
Cinder, while Nova and Keystone already have Babel in requirements.

Change-Id: Ic5a3b7bc9db1b4e377da3e5fed3888227ca5dc2a
"
openstack%2Ftooz~stable%2Fstein~I7a75be587efc2098e919f1ea34f9ffc357203dfb,openstack/tooz,stable/stein,,I7a75be587efc2098e919f1ea34f9ffc357203dfb,[stable-only] Cap stestr for python 2 and unblock gate,MERGED,2020-04-01 14:40:16.000000000,2020-04-16 18:22:05.000000000,2020-04-16 18:16:22.000000000,73,54,4,716610,4d24f41e47c6a16fbb85ffce974e90e70d07ff76,19,4,3,4,17685,Elod Illes,elod.illes,"[stable-only] Cap stestr for python 2 and unblock gate

This is a combination of 3 commits that are all needed to unblock gate:

1. Move testing to py36

The base infra images no longer have python 3.5 available and are
all failing. We should be testing on py36 now anyway since that is
the minimum supported version for Train.

2. Stop redis-server before running tests

Just installing redis-server on Ubuntu Bionic starts the service,
which means when we try to start one via pifpaf it fails due to the
port already being in use.

This change adds a pre-run playbook that stops the redis-server
service so ours can run successfully.

3. [stable-only] Cap stestr for python 2

stestr dropped python 2 support with version 3.0.0 and tooz does not
use constraints from openstack/requirements, so test-requirements.txt
is updated to use stestr<3.0.0 in case of python 2.

Since tooz do not consume upper-constraints there is no need for
requirement check job either so it is removed, too.

Conflicts:
    tox.ini
    test-requirements.txt

NOTE(elod.illes):
  * tox.ini conflict is due to py37 is not yet added as tox target in
    Stein.
  * test-requirments.txt is not present in Stein, setup.cfg is used
    instead.

First two commit was squashed in train (original patch's change id is
I3f7f7ea9069d8c890a82f31ad14c9663e98c09dc and cherry picked from commit
8207427fffc72547387369ce7ba2696a86bf7626).

Closes-Bug: 1828610
Change-Id: I7a75be587efc2098e919f1ea34f9ffc357203dfb
(cherry picked from commit 13a6dffa32789ac91b724977ed1d73375baf0824)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I16596a5b262642a678a8b8b123384fc387f69c70,openstack/tripleo-ansible,stable/train,systemd/train,I16596a5b262642a678a8b8b123384fc387f69c70,tripleo_container_manage: optimize systemd services/healthcheck bootstrap,ABANDONED,2020-04-14 15:35:25.000000000,2020-04-16 18:15:58.000000000,,163,72,0,720014,0ea49ad8348c9ad87216f7cc0a703dbdc41bf636,6,4,1,8,3153,Emilien Macchi,emilienm,"tripleo_container_manage: optimize systemd services/healthcheck bootstrap

Separate the creation of systemd files & service restarts so we don't
call systemd too many times and makes the deployment faster.

It also uses a new filter that will read register data to figure out
what systemd files changed so what containers need a restart.

Change-Id: I16596a5b262642a678a8b8b123384fc387f69c70
(cherry picked from commit 761e5cbdd589f582003f4e2f27a03c313de8a852)
"
openstack%2Ftripleo-ci~master~I085e41eb430df5731278f83625fd3a709012bd19,openstack/tripleo-ci,master,,I085e41eb430df5731278f83625fd3a709012bd19,add ipa-server log,ABANDONED,2020-04-16 17:44:22.000000000,2020-04-16 18:14:02.000000000,,1,0,0,720571,649d3f90b2ac25cb3776131e15aa131ea49d2d19,2,0,1,1,9592,wes hayutin,weshayutin,"add ipa-server log

required for tls-standalone job

Change-Id: I085e41eb430df5731278f83625fd3a709012bd19
"
openstack%2Fsenlin-dashboard~master~I0a8e7749ed2c52cd3e94bf69e614a6517862a066,openstack/senlin-dashboard,master,zanata/translations,I0a8e7749ed2c52cd3e94bf69e614a6517862a066,Imported Translations from Zanata,MERGED,2020-04-16 10:30:59.000000000,2020-04-16 18:10:04.000000000,2020-04-16 18:07:48.000000000,4,4,0,720432,d7f84ac252cc1bbd38bf658cf11353506d73c93a,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0a8e7749ed2c52cd3e94bf69e614a6517862a066
"
openstack%2Ftripleo-heat-templates~master~I4a294a047e3067f7850ec37652b6229e3dbb3335,openstack/tripleo-heat-templates,master,disable-redis,I4a294a047e3067f7850ec37652b6229e3dbb3335,Disable Redis by default again,MERGED,2020-04-13 03:51:48.000000000,2020-04-16 17:45:21.000000000,2020-04-16 17:45:21.000000000,1,1,0,719390,e32a8261c8d47fd63978211f8453807e99bfd890,19,5,2,1,9816,Takashi Kajinami,kajinamit,"Disable Redis by default again

This patch partially reverts change by [1], and disables Redis by
default because Telemetry services, which requires Redis, are now
disabled by default.

[1] b0e70081968c96af04d2858d040f97a67115391f

Change-Id: I4a294a047e3067f7850ec37652b6229e3dbb3335
"
openstack%2Fmanila-tempest-plugin~master~I7a048c754cb703eebee709e35d379a4c51a80b3a,openstack/manila-tempest-plugin,master,bp/query-user-message-by-timestamp,I7a048c754cb703eebee709e35d379a4c51a80b3a,Add function to test user messages query by timestamp,MERGED,2020-04-02 06:08:01.000000000,2020-04-16 17:40:35.000000000,2020-04-16 17:40:34.000000000,52,1,37,716848,af6f44ad8268eb55954912328f334bb82cf3bf0a,36,8,7,3,30407,haixin,haixin,"Add function to test user messages query by timestamp

-Updates the user messages tests to test query users messages
 by timestamp.
-Updates the negative user messages tests to test query users
 messages with invalid time format.

Depends-On: I3d94bac4304c236f275abe7ce31432b0e2384247
Change-Id: I7a048c754cb703eebee709e35d379a4c51a80b3a
"
openstack%2Fcharm-guide~master~If674553f58139e4870a99d3ad54eb510d6dbe65e,openstack/charm-guide,master,cinder-juju-storage,If674553f58139e4870a99d3ad54eb510d6dbe65e,Add cinder charm juju storage release note element,MERGED,2020-04-08 12:20:42.000000000,2020-04-16 17:30:14.000000000,2020-04-16 17:28:42.000000000,9,0,2,718410,a26916c2639c49b2a35362b75b3b5112bf0fdfc1,12,4,2,1,20870,Alex Kavanagh,ajkavanagh,"Add cinder charm juju storage release note element

The cinder charm has gained a feature to support juju storage.

Change-Id: If674553f58139e4870a99d3ad54eb510d6dbe65e
"
openstack%2Fnova~master~I5b9572b65859bbf7ac9af20aedf81267fd3d5223,openstack/nova,master,bp/policy-defaults-refresh,I5b9572b65859bbf7ac9af20aedf81267fd3d5223,Add test coverage of existing server attributes policies,MERGED,2020-04-14 04:31:57.000000000,2020-04-16 17:23:37.000000000,2020-04-16 17:10:53.000000000,351,1,0,719726,fd6537e328bafeeb59f3e440063c76eeee365684,29,10,4,1,8556,Ghanshyam,ghanshyam,"Add test coverage of existing server attributes policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

For Example, if any policy with default rule as admin only then
test should verify:
- policy check pass with context having admin or server owner
- policy check fail with context having non-admin and not server owner

As discussed in policy-defaults-refresh, to change the policies
with new default roles and scope_type, we need to have the enough
testing coverage of existing policy behavior.

When we will add the scope_type in policies or new default roles,
then these test coverage will be extended to adopt the new changes
and also make sure we do not break the existing behavior.

This commit covers the testing coverage of existing server
extended attr and host_status policies.

Partial implement blueprint policy-defaults-refresh

Change-Id: I5b9572b65859bbf7ac9af20aedf81267fd3d5223
"
openstack%2Fcinder~master~Idfaf4280beba0b04e086a2fb2e37e3d6919b289a,openstack/cinder,master,,Idfaf4280beba0b04e086a2fb2e37e3d6919b289a,PowerMax Driver - Manage volume emulation check,MERGED,2020-04-08 14:33:27.000000000,2020-04-16 17:22:16.000000000,2020-04-16 17:11:57.000000000,34,3,1,718475,d5ad204ae938504afc525d61b604dab579862388,46,28,1,2,30165,Simon O'Donovan,odonos12,"PowerMax Driver - Manage volume emulation check

Adding additional check to manage volume to only allow
volumes with emulation type of FBA to be managed.

Change-Id: Idfaf4280beba0b04e086a2fb2e37e3d6919b289a
"
openstack%2Fdevstack~master~Ie9f4c7e52f23a45bb8cf70a5fddf1b21a40d7000,openstack/devstack,master,centos8,Ie9f4c7e52f23a45bb8cf70a5fddf1b21a40d7000,Fedora: install python3-libguestfs,MERGED,2020-04-16 03:07:28.000000000,2020-04-16 17:21:38.000000000,2020-04-16 17:11:43.000000000,1,1,2,720331,9b8b7021d0a8c7647b47e74a2cd4163a663acd40,8,3,1,1,7118,Ian Wienand,iwienand,"Fedora: install python3-libguestfs

All platforms are python3 now

Change-Id: Ie9f4c7e52f23a45bb8cf70a5fddf1b21a40d7000
"
openstack%2Fnova~master~Ia8234fd9f4ee1871d6f225c8bd4e4adc5289d605,openstack/nova,master,bp/policy-defaults-refresh,Ia8234fd9f4ee1871d6f225c8bd4e4adc5289d605,Fix servers policy for admin_or_owner,MERGED,2020-04-08 15:47:37.000000000,2020-04-16 17:20:12.000000000,2020-04-16 17:10:09.000000000,161,79,3,718501,2a4a7162099ebb61c6d5eb5b410f710b3509a031,102,13,12,3,8556,Ghanshyam,ghanshyam,"Fix servers policy for admin_or_owner

servers API policy is default to admin_or_owner[1] but API
is allowed for everyone.

We can see the test trying with other project context can access the API
- https://review.opendev.org/#/c/717204

This is because API does not pass the server project_id in policy target[2]
and if no target is passed then, policy.py add the default targets which is
nothing but context.project_id (allow for everyone who try to access)[3]

This commit fix this policy by passing the server's project_id in policy
target.

Closes-bug: #1871665
Partial implement blueprint policy-defaults-refresh

[1] https://github.com/openstack/nova/blob/cd16ae25c865f25dbb313976b3d8ef9372db80af/nova/policies/servers.py#L285
[2] https://github.com/openstack/nova/blob/cd16ae25c865f25dbb313976b3d8ef9372db80af/nova/api/openstack/compute/servers.py#L872
[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191

Change-Id: Ia8234fd9f4ee1871d6f225c8bd4e4adc5289d605
"
openstack%2Fneutron~stable%2Ftrain~If60f4ea9793b0872e348a6319f2c24127e93f540,openstack/neutron,stable/train,bug/1826565,If60f4ea9793b0872e348a6319f2c24127e93f540,Check tc_lib.add_tc_policy_class input parameters,MERGED,2020-04-14 18:04:42.000000000,2020-04-16 17:20:04.000000000,2020-04-16 17:10:14.000000000,75,14,0,720044,62cbdfbaa2830a526c3390e1d389965133f76cd5,14,5,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Check tc_lib.add_tc_policy_class input parameters

All input rate parameters (ceil, burst and rate) are mandatory in
Pyroute ""tc"" class [1]. ""tc_lib.add_tc_policy"" should provide them.

max_kbps: Now ""max_kbps"" is mandatory.

burst_kb: In case this parameter does not exist, the library uses the
method previously defined in Neutron, consisting of asigning the 80%
of ""max_kbps"".

min_kbps: In Pyroute2 [2], the value of ""burst"" depends on the ""rate""
value. If the ""rate"" value is too small, the ""burst"" value will exceed
the 2^32 limit defined in the iproute2 structure. In order to avoid
the error described in c#4 of the related bug, the method checks if
the provided ""rate"" value is greater than the minimum possible value.
If not, the minimum value is set and a warning message is logged.

[1]https://github.com/openstack/neutron/blob/fb2453c999f1757cc9085f4533bb2fd56d6b2245/neutron/privileged/agent/linux/tc_lib.py#L107-L108
[2]https://github.com/svinota/pyroute2/blob/943502a95cbbbac48218d2bde9d92af462682f96/pyroute2/netlink/rtnl/tcmsg/sched_htb.py#L88-L91

Change-Id: If60f4ea9793b0872e348a6319f2c24127e93f540
Related-Bug: #1826565
(cherry picked from commit 1e69279817b4fe978e905987db90dfca9b636b0b)
"
openstack%2Fnova~stable%2Fstein~I96bb9fcb55f2a4fc3aefa01db70b45740db166c8,openstack/nova,stable/stein,,I96bb9fcb55f2a4fc3aefa01db70b45740db166c8,Use placement stable version for functional job,MERGED,2020-04-10 23:40:26.000000000,2020-04-16 17:19:52.000000000,2020-04-16 17:11:15.000000000,14,9,4,719121,7df3d9fbb91ed07b0e0eaa763ba2084b4de5798c,26,7,3,1,8556,Ghanshyam,ghanshyam,"Use placement stable version for functional job

nova-tox-functional is py2 job and need placement as required project.
and started failing for incompatible py version:

ERROR: Package 'openstack-placement' requires a different Python: 2.7.17 not in '>=3.6'

- https://zuul.opendev.org/t/openstack/build/b460a8c59ad64e57b871aa3c00638b01/log/job-output.txt#782

Placement master is now py3 only which mean master version will stop
working on py2 env:
- I6f458fb60b5a33b5aa2ce3ab292862ab98eb4670

Current tox env mention the placement master link as deps, where need to use
the stable version for stable jobs. Making deps with version not the
fresh git clone like how other test-requirements.txt deps work.

Conflicts:
    tox.ini due to deps used for functional tox env
Change-Id: I96bb9fcb55f2a4fc3aefa01db70b45740db166c8
(cherry picked from commit fd92f836f3926c3c2d769c5f0774144d359e4ffe)
"
openstack%2Fnova~stable%2Ftrain~Id233f673a57461cc312e304873a41442d732c051,openstack/nova,stable/train,bug/1844929,Id233f673a57461cc312e304873a41442d732c051,Reset the cell cache for database access in Service,MERGED,2020-04-10 08:14:20.000000000,2020-04-16 17:19:47.000000000,2020-04-16 17:11:03.000000000,138,4,0,718934,88205a4e911268dae7120a6a43ff9042d1534251,42,8,2,3,4690,melanie witt,melwitt,"Reset the cell cache for database access in Service

We have had a gate bug for a long time where occasionally the scheduler
service gets into a state where many requests fail in it with
CellTimeout errors. Example:

  Timed out waiting for response from cell <cell uuid>

Through the use of much DNM patch debug logging in oslo.db, it was
revealed that service child processes (workers) were sometimes starting
off with already locked internal oslo.db locks. This is a known issue
in python [1] where if a parent process forks a child process while a
lock is held, the child will inherit the held lock which can never be
acquired.

The python issue is not considered a bug and the recommended way to
handle it is by making use of the os.register_at_fork() in the oslo.db
to reinitialize its lock. The method is new in python 3.7, so as long
as we still support python 3.6, we must handle the situation outside of
oslo.db.

We can do this by clearing the cell cache that holds oslo.db database
transaction context manager objects during service start(). This way,
we get fresh oslo.db locks that are in an unlocked state when a child
process begins.

We can also take this opportunity to resolve part of a TODO to clear
the same cell cache during service reset() (SIGHUP) since it is another
case where we intended to clear it. The rest of the TODO related to
periodic clearing of the cache is removed after discussion on the
review, as such clearing would be unsynchronized among multiple
services and for periods of time each service might have a different
view of cached cells than another.

Closes-Bug: #1844929

[1] https://bugs.python.org/issue6721

NOTE(melwitt): The differences from the original change in
nova/tests/functional/test_service.py is because the following changes:

  I91fa2f73185fef48e9aae9b7f61389c374e06676
  I8c96b337f32148f8f5899c9b87af331b1fa41424

are not in Train.

Change-Id: Id233f673a57461cc312e304873a41442d732c051
(cherry picked from commit 941559042f609ee43ff3160c0f0d0c45187be17f)
"
openstack%2Fneutron~stable%2Fstein~Ib5074abadd7189bb4bdd5e46c677f1bfb071221e,openstack/neutron,stable/stein,bug/1864675-stable/stein,Ib5074abadd7189bb4bdd5e46c677f1bfb071221e,Prioritize port create and update ready messages,MERGED,2020-04-03 16:40:14.000000000,2020-04-16 17:19:33.000000000,2020-04-16 17:10:03.000000000,79,16,2,717336,e2f01c65d91ab7b7837c7ab3118ec00b8310dc3c,20,4,2,2,1131,Brian Haley,brian-haley,"Prioritize port create and update ready messages

The DHCP agent prioritizes RPC messages based on the
priority field send from neutron-server, but then groups
them all in the same dhcp_ready_ports set when sending
them back to the server to clear the provisioning block(s).

Priority should be given to new and changed ports, since
those are most likely to be associated with new instances
which can fail to boot if they are not handled quickly when
the agent is very busy, for example, right after it was
restarted.

Conflicts:
    neutron/tests/unit/agent/dhcp/test_agent.py

Change-Id: Ib5074abadd7189bb4bdd5e46c677f1bfb071221e
Closes-bug: #1864675
(cherry picked from commit 113dfac6083c2bda36f5186e123e4e5c82fa8097)
"
openstack%2Fdevstack~stable%2Fstein~Ia8fdfe12fd9089e178adcb2b5eec997eebada262,openstack/devstack,stable/stein,fix-suse-ssl-stable/stein,Ia8fdfe12fd9089e178adcb2b5eec997eebada262,Fix opensuse trusted certificates,MERGED,2020-04-14 18:52:41.000000000,2020-04-16 17:19:23.000000000,2020-04-16 17:11:08.000000000,5,0,0,720053,6b5d1186c57dbb6ece684e3f6bd77f7ce0953758,17,5,1,1,8482,Colleen Murphy,krinkle,"Fix opensuse trusted certificates

There's a bug[1] with the combination of the p11-kit and
ca-certificates-mozilla packages available on the latest built
opensuse-15 node in nodepool (which has not been rebuilt for weeks due
to a separate issue[2]) which causes the standard CA bundle to not be
installed correctly and causes jobs that call to external HTTPS services
to fail. Upgrading both packages in sync fixes the issue.

[1] https://bugzilla.suse.com/show_bug.cgi?id=1154871
[2] http://bugzilla.suse.com/show_bug.cgi?id=1166139

Change-Id: Ia8fdfe12fd9089e178adcb2b5eec997eebada262
Needed-by: https://review.opendev.org/713566
(cherry picked from commit 497caf015729d451428d5b608853741689f153b3)
(cherry picked from commit 7921e4673f2d0488ca6dc1892354e200ef38cca9)
"
openstack%2Fdevstack~master~I0c3950729380646e1a98a90ee82e8562cc8c33c1,openstack/devstack,master,openstack/devstack/plugins,I0c3950729380646e1a98a90ee82e8562cc8c33c1,Updated from generate-devstack-plugins-list,MERGED,2020-04-14 06:10:56.000000000,2020-04-16 17:19:16.000000000,2020-04-16 17:10:05.000000000,1,0,0,719736,e0da11cec5324cc4c100f6e22b83f1addde06ce7,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-devstack-plugins-list

Change-Id: I0c3950729380646e1a98a90ee82e8562cc8c33c1
"
openstack%2Fcinder~stable%2Frocky~I963ad219c2e3b1c9c5edaa8f7e0d3dea911ecd8e,openstack/cinder,stable/rocky,,I963ad219c2e3b1c9c5edaa8f7e0d3dea911ecd8e,PowerMax Driver - Legacy volume not found,MERGED,2020-03-25 17:14:22.000000000,2020-04-16 17:19:07.000000000,2020-04-16 17:11:47.000000000,50,9,0,715007,917e0b0cef91686787fe7cf4185cd4efb03d6361,54,19,2,5,12670,Helen Walsh,walshh2,"PowerMax Driver - Legacy volume not found

The equals check is too stringent for legacy pre Pike volumes
after an upgrade.  Pre PIke is SMI-S, Pike and later is REST
and identifier name is persisted differently.

Change-Id: I963ad219c2e3b1c9c5edaa8f7e0d3dea911ecd8e
Closes-Bug: #1867163
(cherry picked from commit 4296ea130e1055d608b11b44cbff21358804ae7d)
(cherry picked from commit b2d61850b0826ec258e8c645ac6c8a9bb71a3966)
(cherry picked from commit db58c6c9026265737667391a7b833076ce210639)
"
openstack%2Fcinder~master~Iead37f4cd1ccb7d607dd8257bacca5136580ce66,openstack/cinder,master,repConfig_detach_logging_fix,Iead37f4cd1ccb7d607dd8257bacca5136580ce66,PowerMax Driver - Detach RepConfig logging & Retype rename remote fix,MERGED,2020-04-10 13:40:21.000000000,2020-04-16 17:11:54.000000000,2020-04-16 17:11:53.000000000,82,38,1,719007,4335fe086d5dc92bcce3de540feb5240cfc2c4a6,82,32,3,5,30165,Simon O'Donovan,odonos12,"PowerMax Driver - Detach RepConfig logging & Retype rename remote fix

Adding additional logging messages when failing to get
a rep_config from the available list. Also added additional
messaging here for users who have moved to a multi_rep setup
from a legacy setup.
Fixed and issue with detach logging not printing metadata table
as it was returning too early.
Added volume name update to remote vol during retype where it
is the first volume in the RDF storage group.

Change-Id: Iead37f4cd1ccb7d607dd8257bacca5136580ce66
"
openstack%2Fdevstack~master~If98581708568e7a8d15e6edc588a008df0cac0fb,openstack/devstack,master,centos8,If98581708568e7a8d15e6edc588a008df0cac0fb,Remove CentOS 7 as supported environment,MERGED,2019-12-11 05:58:23.000000000,2020-04-16 17:11:41.000000000,2020-04-16 17:11:41.000000000,1,1,0,698403,c287e7ec3c22a9b4c2d89c1e36a6383b351f9b17,14,4,2,1,7118,Ian Wienand,iwienand,"Remove CentOS 7 as supported environment

We do not support CentOS 7 on master branch due to no Python 3 or
ongoing eco-system (i.e. RDO) support; see
Id9ef507dd6f4226d65c6ed3043666b0aa6a3bd1c.

Change-Id: If98581708568e7a8d15e6edc588a008df0cac0fb
"
openstack%2Fdevstack~master~I06235eb5bf722e6f3ab05da577fa0f00638c87b1,openstack/devstack,master,f31,I06235eb5bf722e6f3ab05da577fa0f00638c87b1,Fedora: Mark Fedora 31 as supported and use within fedora-latest,MERGED,2020-04-09 10:21:45.000000000,2020-04-16 17:11:39.000000000,2020-04-16 17:11:39.000000000,2,2,1,718653,c36e51b0ae541a983eb917a8746d07d10c723e40,21,5,3,2,10135,Lee Yarwood,lyarwood,"Fedora: Mark Fedora 31 as supported and use within fedora-latest

Change-Id: I06235eb5bf722e6f3ab05da577fa0f00638c87b1
"
openstack%2Fdevstack~master~Ie8e66d8b9f93063b97f88f41a626daddf235339b,openstack/devstack,master,f31,Ie8e66d8b9f93063b97f88f41a626daddf235339b,Fedora: Update required RPMs for Fedora 31,MERGED,2020-04-12 10:37:27.000000000,2020-04-16 17:11:37.000000000,2020-04-16 17:11:37.000000000,10,9,3,719327,f9e81d34382083732b02b0cda87331e20e04d48d,16,4,2,5,10135,Lee Yarwood,lyarwood,"Fedora: Update required RPMs for Fedora 31

This includes the addition of the python3-virtualenv package required to
provide the virtualenv binary that is no longer present in the image.

Change-Id: Ie8e66d8b9f93063b97f88f41a626daddf235339b
"
openstack%2Fneutron~stable%2Frocky~Ic21089adfa32dbf5d0e29a89713e6e2bf28f0f05,openstack/neutron,stable/rocky,bug/1870114,Ic21089adfa32dbf5d0e29a89713e6e2bf28f0f05,Add trunk subports to be one of dvr serviced device owners,MERGED,2020-04-05 19:43:16.000000000,2020-04-16 17:11:33.000000000,2020-04-16 17:11:33.000000000,3,1,0,717628,687304a9b5ae3affefaa081fcee4975a1d10e947,36,6,2,1,11975,Slawek Kaplonski,slaweq,"Add trunk subports to be one of dvr serviced device owners

When ""trunk:subport"" wasn't added to the list of device owners which
are supported by dvr, there was no proper config in br-int's openflow
rules for such port, e.g. there was no dvr_to_src_mac rule in table 1
added and traffic from such port was never going through br-int.

Trunk ports should be added to this dvr serviced device owners list and
that patch is adding it there.

Conflicts:
    neutron/common/utils.py

Change-Id: Ic21089adfa32dbf5d0e29a89713e6e2bf28f0f05
Closes-Bug: #1870114
(cherry picked from commit d0a16522272bce64bceca1ccdb8d98a38d953cf5)
"
openstack%2Fneutron~stable%2Fqueens~I93f35eade6aa081160902d9d47278123815c04d1,openstack/neutron,stable/queens,bug/1842937-stable/queens,I93f35eade6aa081160902d9d47278123815c04d1,Handle ports assigned to routers without routerports,MERGED,2020-04-07 20:22:50.000000000,2020-04-16 17:11:29.000000000,2020-04-16 17:11:29.000000000,240,54,0,718216,667f33cb25bb438258cb08c6f96fa027f828af3b,13,5,1,3,11975,Slawek Kaplonski,slaweq,"Handle ports assigned to routers without routerports

In the case of having a port attached to a router but the routerport
register is missing (as seen in the bug reported), this patch retrieves
the full list of ports attached to a router, filtering by router ID
and network ID or port ID. In case of having a port attached to this
router with missing routerport register, a warning message is logged.

Closes-Bug: #1842937

Change-Id: I93f35eade6aa081160902d9d47278123815c04d1
(cherry picked from commit c952b5960001faf98186b630fde75deafe5a7b8f)
(cherry picked from commit e5650d19bf6ccb87dd7a4c67153a23cca70b3ab3)
(cherry picked from commit 626eca984f08b0c073d7a1be29f5075e0324dabe)
(cherry picked from commit f57e0e6029da3efefd71941d6163a9e03919472a)
"
openstack%2Fneutron~stable%2Fqueens~Id4066b5cff933ccd0dd3c751bf67b5d58af662d1,openstack/neutron,stable/queens,fix-l3-qos-stable/rocky-stable/queens,Id4066b5cff933ccd0dd3c751bf67b5d58af662d1,Support iproute2 4.15 in l3_tc_lib,MERGED,2020-04-14 07:40:51.000000000,2020-04-16 17:11:22.000000000,2020-04-16 17:11:22.000000000,110,34,0,719752,371204bc0e614b1af07ce25696d90f817dd9f949,16,5,1,2,11975,Slawek Kaplonski,slaweq,"Support iproute2 4.15 in l3_tc_lib

In version 4.15 of iproute2 there was added support
for chain index in tc_filter [1].
Such version is available e.g. in Ubuntu 18.04 and it
has to be supported in l3_tc_lib regex to match
properly output of ""tc filter"" command.

[1] https://lwn.net/Articles/745643/

Closes-bug: #1809497
Change-Id: Id4066b5cff933ccd0dd3c751bf67b5d58af662d1
(cherry picked from commit e788d294584add2407f601a46f90b08082cccc5f)
"
openstack%2Fneutron-tempest-plugin~master~Ic2177dc90a6fc8db4b50f05649ad794f6c3d5a23,openstack/neutron-tempest-plugin,master,bug/1872693,Ic2177dc90a6fc8db4b50f05649ad794f6c3d5a23,Set higher timeout for tests in scenario jobs,MERGED,2020-04-14 12:06:37.000000000,2020-04-16 17:11:20.000000000,2020-04-16 17:11:20.000000000,8,0,1,719927,eb354239a9f036a9e22e6f07daa03a7656948e4e,12,6,2,1,11975,Slawek Kaplonski,slaweq,"Set higher timeout for tests in scenario jobs

It seems that in case of scenario tests which uses advanced image, when
tests are run on slow node, it may happen that around 20 minutes test
timeout will be not enough to perform all cleanup after test and it will
fail due to that.
So lets give more time for such tests to make sure all will be cleaned
properly.

Change-Id: Ic2177dc90a6fc8db4b50f05649ad794f6c3d5a23
Closes-Bug: #1872693
"
openstack%2Fnova~master~I2dbaf97e2e78179286c822a9ed1711549e2e7f98,openstack/nova,master,bp/policy-defaults-refresh,I2dbaf97e2e78179286c822a9ed1711549e2e7f98,Add new default roles in servers policies,MERGED,2019-06-04 08:40:51.000000000,2020-04-16 17:10:46.000000000,2020-04-16 17:10:45.000000000,330,195,12,662971,c3fcc31d5f74e45e6c8eeadf3e45a53c194e08ab,59,16,7,3,8556,Ghanshyam,ghanshyam,"Add new default roles in servers policies

This adds new defaults roles in servers API policies.
- PROJECT_MEMBER for create server
- PROJECT_MEMBER_OR_SYSTEM_ADMIN, for update, delete
  server and server actions
- PROJECT_READER_OR_SYSTEM_READER for GET server

Few policy are left to be worked separatly.

Also add tests to simulates the future where we drop the deprecation
fall back in the policy by overriding the rules with a version where
there are no deprecated rule options. Operators can do the same by
adding overrides in their policy files that match the default but
stop the rule deprecation fallback from happening.

Partial implement blueprint policy-defaults-refresh

Change-Id: I2dbaf97e2e78179286c822a9ed1711549e2e7f98
"
openstack%2Fnova~master~Ie40da6ddfb0b6bcbf164573000bbb1b7aabe5bc1,openstack/nova,master,bp/policy-defaults-refresh,Ie40da6ddfb0b6bcbf164573000bbb1b7aabe5bc1,Introduce scope_types in servers Policies,MERGED,2019-06-04 08:24:17.000000000,2020-04-16 17:10:35.000000000,2020-04-16 17:10:34.000000000,309,131,22,662968,b42eddd3e90da621c182d2eae375e4880eb78f24,82,17,9,3,8556,Ghanshyam,ghanshyam,"Introduce scope_types in servers Policies

oslo.policy introduced the scope_type feature which can
control the access level at system-level and project-level.
 - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope
 - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for server API policies
as 'system' and 'project' for AOO and 'project' for create server .

Also adds the test case with scope_type enabled and verify we
pass and fail the policy check with expected context.

Partial implement blueprint policy-defaults-refresh

Change-Id: Ie40da6ddfb0b6bcbf164573000bbb1b7aabe5bc1
"
openstack%2Fnova~master~I3fbb5c8a9cfe94b63fcffb8dfc6ee9065be1ba64,openstack/nova,master,bp/policy-defaults-refresh,I3fbb5c8a9cfe94b63fcffb8dfc6ee9065be1ba64,Add test coverage of existing server policies,MERGED,2020-04-08 08:56:00.000000000,2020-04-16 17:10:23.000000000,2020-04-16 17:10:22.000000000,700,495,0,718348,b00f70a281778554629a5ff0d622be05973842c6,67,10,12,2,8556,Ghanshyam,ghanshyam,"Add test coverage of existing server policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

For Example, if any policy with default rule as admin only then
test should verify:
- policy check pass with context having admin or server owner
- policy check fail with context having non-admin and not server owner

As discussed in policy-defaults-refresh, to change the policies
with new default roles and scope_type, we need to have the enough
testing coverage of existing policy behavior.

When we will add the scope_type in policies or new default roles,
then these test coverage will be extended to adopt the new changes
and also make sure we do not break the existing behavior.

This commit covers the testing coverage of existing server policies.

Partial implement blueprint policy-defaults-refresh

Change-Id: I3fbb5c8a9cfe94b63fcffb8dfc6ee9065be1ba64
"
openstack%2Ftripleo-ci~master~Id3af11042c90303768375b6d9aace878e962aca0,openstack/tripleo-ci,master,rhel-8-imagebuild,Id3af11042c90303768375b6d9aace878e962aca0,Refactor image build for downstream and image-build role,MERGED,2020-04-02 14:58:33.000000000,2020-04-16 16:54:30.000000000,2020-04-14 18:14:19.000000000,84,63,34,717043,cea621561d0764de1791c5c67717a4ac28cea0f1,61,7,20,6,12393,chandan kumar,chkumar246,"Refactor image build for downstream and image-build role

The goal of refactoring this role is decouple the installation
process from pip and rpm, also make it usable for downstream.

The pre.yaml playbook contains only setting up virutalenv and
installing required projects.
Rest of setting vars needed for dib is moved to main.yaml playbook
so that we can consume it with image-build role where all packages
are installed via rpm.

Apart from that following other improvements are added there:
* make sure workspace/logs dir exists in pre or main playbook
* Added tripleo_pip_projects, tripleo_elements_path, tripleo_common_path
  dib_yum_repo_conf

Tracked here:
https://tree.taiga.io/project/tripleo-ci-board/task/1620

Change-Id: Id3af11042c90303768375b6d9aace878e962aca0
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fironic-python-agent~master~I5f57535e5a89528c38d0879177b59db6c0f5c06e,openstack/ironic-python-agent,master,uefi-esp,I5f57535e5a89528c38d0879177b59db6c0f5c06e,A boot partition on a GPT disk should be considered an EFI partition,MERGED,2020-04-15 10:46:57.000000000,2020-04-16 16:24:59.000000000,2020-04-16 16:22:49.000000000,58,70,0,720184,ff49b04e28b74d89a5fa6334411c56628f502bee,16,5,3,3,10239,Dmitry Tantsur,dtantsur,"A boot partition on a GPT disk should be considered an EFI partition

DIB builds instance images with EFI partitions that only have the boot
flag, but not esp. According to parted documentation, boot is an alias
for esp on GPT, so accept it as well.

To avoid complexities when parsing parted output, the implementation
is switched to existing utils and ironic-lib functions.

Change-Id: I5f57535e5a89528c38d0879177b59db6c0f5c06e
Story: #2007455
Task: #39423
"
openstack%2Fcharm-guide~master~I48a463aee10beda3c4a294ce3ae07075bb191872,openstack/charm-guide,master,2020-04-13-add-dmitriis,I48a463aee10beda3c4a294ce3ae07075bb191872,Add new joiners to bug and review rotas,MERGED,2020-04-13 15:59:31.000000000,2020-04-16 16:08:22.000000000,2020-04-16 16:06:30.000000000,14,14,0,719590,30030207f13e0143227fb6404cc4e85d20c90e08,9,5,2,1,24824,Dmitrii Shcherbakov,dmitriis,"Add new joiners to bug and review rotas

Change-Id: I48a463aee10beda3c4a294ce3ae07075bb191872
"
openstack%2Fkolla-ansible~master~Ifc157b43e87e4f77a1c70d98343bd0ef9cc0de79,openstack/kolla-ansible,master,,Ifc157b43e87e4f77a1c70d98343bd0ef9cc0de79,CI: do not build images on aarch64,MERGED,2020-04-09 14:28:41.000000000,2020-04-16 16:02:02.000000000,2020-04-16 15:59:12.000000000,5,7,11,718714,3d653038dc72fa344ddb34e306fb52e2a75c6579,61,6,13,2,24072,Marcin Juszkiewicz,hrw,"CI: do not build images on aarch64

We publish those images for a while.

Change-Id: Ifc157b43e87e4f77a1c70d98343bd0ef9cc0de79
"
openstack%2Fmonasca-specs~master~Ia24cc501831202cb4d710a9a5e9b2fdb8bef070d,openstack/monasca-specs,master,cleanup-py27-support,Ia24cc501831202cb4d710a9a5e9b2fdb8bef070d,Cleanup py27 support,MERGED,2020-04-10 09:07:24.000000000,2020-04-16 15:48:10.000000000,2020-04-16 15:45:48.000000000,2,26,0,718945,5b6333a5e3f145e7d572e126531da546257cccd2,7,2,1,4,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

Make a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Use newer openstackdocstheme version
- Remove install_command from tox.ini, the default is fine
- Cleanup tox.ini, the repo is now python3 only

Change-Id: Ia24cc501831202cb4d710a9a5e9b2fdb8bef070d
"
openstack%2Fgovernance~master~I06752c42b77e900c29e41fb0f7cc18c1697721ea,openstack/governance,master,election-results,I06752c42b77e900c29e41fb0f7cc18c1697721ea,Remove projects' TC liaisons,MERGED,2020-04-15 12:11:40.000000000,2020-04-16 15:45:51.000000000,2020-04-16 15:39:26.000000000,60,216,0,720190,386ea9d43acfd16e36656029d919beeeadfbd819,13,4,2,1,17068,Jean-Philippe Evrard,evrardjp,"Remove projects' TC liaisons

Now that we have a new TC, we should cleanup the liaisons, and start
a call to the tc members. Some TC members will probably volunteer
to be the liaisons of projects they are particularily invested in.

Change-Id: I06752c42b77e900c29e41fb0f7cc18c1697721ea
"
openstack%2Fmonasca-transform~master~I2c251d4be8f87a0772dbb06083639325e69ed98d,openstack/monasca-transform,master,cleanup-py27-support,I2c251d4be8f87a0772dbb06083639325e69ed98d,Cleanup py27 support,MERGED,2020-04-05 08:01:51.000000000,2020-04-16 15:45:50.000000000,2020-04-16 15:45:50.000000000,6,20,0,717559,cffdf512c3bdf690a6f10693017f7cb44e92d727,8,2,2,4,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

Make a few cleanups:
- Remove python 2.7 stanza from setup.py
- Add requires on python >= 3.6 to setup.cfg so that pypi and pip
  know about the requirement
- Remove obsolete sections from setup.cfg:
  * Wheel is not needed for python 3 only repo
  * Some other sections are obsolete
- Update classifiers
- Update requirements, no need for python_version anymore

Change-Id: I2c251d4be8f87a0772dbb06083639325e69ed98d
"
openstack%2Fkolla-ansible~master~Ia0af1e7df4fff7f07cd6530e5b017db8fba530b3,openstack/kolla-ansible,master,bp/improve-prechecks,Ia0af1e7df4fff7f07cd6530e5b017db8fba530b3,Add Ansible group check to prechecks,MERGED,2019-12-17 15:57:09.000000000,2020-04-16 15:40:21.000000000,2020-04-16 15:33:46.000000000,431,0,1,699445,49fb55f1823d94a062ddfba0c42507fbb6462caf,31,5,4,72,14826,Mark Goddard,mgoddard,"Add Ansible group check to prechecks

We assume that all groups are present in the inventory, and quite obtuse
errors can result if any are not.

This change adds a precheck that checks for the presence of all expected
groups in the inventory for each service. It also introduces a common
service-precheck role that we can use for other common prechecks.

Change-Id: Ia0af1e7df4fff7f07cd6530e5b017db8fba530b3
Partially-Implements: blueprint improve-prechecks
"
openstack%2Fgovernance~master~I7d7e53349f4a50bd906b8fc0679ae79fa5bd8e2d,openstack/governance,master,code-change,I7d7e53349f4a50bd906b8fc0679ae79fa5bd8e2d,Update TC size,MERGED,2020-04-16 13:13:50.000000000,2020-04-16 15:40:08.000000000,2020-04-16 15:38:01.000000000,1,1,0,720471,f8456a9ab5cc98d411d059276898682178783ab6,14,6,2,1,17068,Jean-Philippe Evrard,evrardjp,"Update TC size

We can now adapt the TC size for our review tooling, now that
the election is confirmed.

Change-Id: I7d7e53349f4a50bd906b8fc0679ae79fa5bd8e2d
"
openstack%2Fopenstack-helm~master~Id6b9148ea01eb3dfb54d745466efb24247bf9903,openstack/openstack-helm,master,Test_keystone,Id6b9148ea01eb3dfb54d745466efb24247bf9903,[DNM] Test Keystone pods,ABANDONED,2020-04-06 19:24:19.000000000,2020-04-16 15:39:25.000000000,,0,0,0,717840,740f74cd947056cd156860275712abced9cad23a,8,2,2,0,29131,diwakar thyagaraj,dt241s@att.com,"[DNM] Test Keystone pods

Change-Id: Id6b9148ea01eb3dfb54d745466efb24247bf9903
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>"
openstack%2Fkolla-ansible~master~I91cee275d91a51944298618493f4ea0cd80282cc,openstack/kolla-ansible,master,bug/1872540,I91cee275d91a51944298618493f4ea0cd80282cc,[horizon] Move 'balance' HAProxy keyword,MERGED,2020-04-13 20:09:39.000000000,2020-04-16 15:38:11.000000000,2020-04-16 15:33:41.000000000,7,2,2,719677,5c760df3d5f1886290b8dd86eb515acc06e66c9a,24,6,5,2,29100,Jason Anderson,jasonanderson,"[horizon] Move 'balance' HAProxy keyword

The ""balance"" keyword is not valid in a frontend section. From the
HAProxy documentation[1]:

balance <algorithm> [ <arguments> ]
balance url_param <param> [check_post [<max_wait>]]
  Define the load balancing algorithm to be used in a backend.
  May be used in sections :   defaults | frontend | listen | backend
                                 yes   |    no    |   yes  |   yes

When running HAProxy using the ""split"" template style, where a
frontend/backend pair are used instead of one listen section, HAProxy
will emit warnings for the Horizon config due to this.

[1]: https://www.haproxy.org/download/1.5/doc/configuration.txt

Closes-Bug: #1872540
Change-Id: I91cee275d91a51944298618493f4ea0cd80282cc
"
openstack%2Ftripleo-ansible~master~Ia0b89826885d1d651a1c42ea3b7e5a52f464aa3a,openstack/tripleo-ansible,master,ensure,Ia0b89826885d1d651a1c42ea3b7e5a52f464aa3a,Switch install-docker with ensure-docker,MERGED,2020-04-06 18:24:05.000000000,2020-04-16 15:34:21.000000000,2020-04-16 15:34:20.000000000,7,7,1,717826,added9ed4eb1554becaa21c53d6a2b28abc0fc3f,25,10,3,7,24162,Sorin SbÃ¢rnea,ssbarnea,"Switch install-docker with ensure-docker

Zuul deprecation requires it, former one will be removed in the future.

See https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/install-docker/README.rst

Change-Id: Ia0b89826885d1d651a1c42ea3b7e5a52f464aa3a
"
openstack%2Fpython-ironic-inspector-client~master~I4cab95aadb70028c33f411c104df6135e18e9525,openstack/python-ironic-inspector-client,master,no-future,I4cab95aadb70028c33f411c104df6135e18e9525,No need to import print function anymore,MERGED,2020-04-16 13:07:10.000000000,2020-04-16 15:30:16.000000000,2020-04-16 15:28:45.000000000,0,2,0,720468,c7a18c868512ca72c8d884c39b150afc4ce73cdd,9,4,1,1,23851,Riccardo Pittau,elfosardo,"No need to import print function anymore

The future is now!

Change-Id: I4cab95aadb70028c33f411c104df6135e18e9525
"
openstack%2Fironic~master~I9bf56a7088281bbe20b8b6c2e47c6ab6559bfea4,openstack/ironic,master,bug/1619339,I9bf56a7088281bbe20b8b6c2e47c6ab6559bfea4,Change [deploy]/default_boot_option to local,MERGED,2017-08-09 12:09:02.000000000,2020-04-16 15:29:55.000000000,2020-04-16 15:22:52.000000000,78,29,60,492114,6a73f7fdd074445593520031ed74dd4f25382a1d,216,21,34,16,11655,Julia Kreger,jkreger,"Change [deploy]/default_boot_option to local

The default value of ""netboot"" was introduced to this configuration
variable as part of commit 93f947c852409af2c56a499428b09ff69ab345a1
in Ocata release.

This patch changes the default value of configuration parameter
'[deploy]/default_boot_option' and devstack variable
'IRONIC_DEFAULT_BOOT_OPTION' to 'local'.

Change-Id: I9bf56a7088281bbe20b8b6c2e47c6ab6559bfea4
Story: #1619339
Task: #10505
"
openstack%2Fironic-inspector~master~I74666983a1d4122d27a14557ba45e88418e24986,openstack/ironic-inspector,master,ram,I74666983a1d4122d27a14557ba45e88418e24986,Change default ram for tinyipa jobs,MERGED,2020-04-09 08:13:33.000000000,2020-04-16 15:29:18.000000000,2020-04-16 15:22:51.000000000,1,0,0,718613,1ebba530817356d6d4fceb6716c64eef266fe4c1,24,5,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Change default ram for tinyipa jobs

Change-Id: I74666983a1d4122d27a14557ba45e88418e24986
"
openstack%2Fironic~stable%2Ftrain~I5b16b91cd91e503ca54670b77df8cd77f88c5103,openstack/ironic,stable/train,test,I5b16b91cd91e503ca54670b77df8cd77f88c5103,DNM try ussuri IPA,ABANDONED,2020-04-15 08:57:25.000000000,2020-04-16 15:22:33.000000000,,4,33,0,720157,3f23868e76b3428105d8f780beb5c3e390a0ce1c,7,3,2,3,10239,Dmitry Tantsur,dtantsur,"DNM try ussuri IPA

Depends-On: https://review.opendev.org/720185
Change-Id: I5b16b91cd91e503ca54670b77df8cd77f88c5103
"
openstack%2Fsahara-tests~master~I7dd841e8904a29d342e5f1968c272fafd2f5e5ac,openstack/sahara-tests,master,update-hacking,I7dd841e8904a29d342e5f1968c272fafd2f5e5ac,Update hacking for Python3,MERGED,2020-04-01 08:16:05.000000000,2020-04-16 15:17:07.000000000,2020-04-16 15:14:53.000000000,8,2,0,716523,300baf7712893b75a9675c7be5fb79c9d6cbd892,14,4,3,5,6547,Andreas Jaeger,jaegerandi,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found.

Change-Id: I7dd841e8904a29d342e5f1968c272fafd2f5e5ac
"
openstack%2Fgovernance~master~I4cc0bd52e1029931f5257e645f11226957d23d82,openstack/governance,master,election-results,I4cc0bd52e1029931f5257e645f11226957d23d82,Update Reference with Victoria Election Results,MERGED,2020-04-15 00:49:30.000000000,2020-04-16 15:15:38.000000000,2020-04-16 15:12:38.000000000,15,29,2,720109,ae1667d456ab052d57025fd8d121542f79c790fb,19,6,2,1,16708,Kendall Nelson,kjnelson,"Update Reference with Victoria Election Results

Change-Id: I4cc0bd52e1029931f5257e645f11226957d23d82
"
openstack%2Fopenstack-zuul-jobs~master~Ib369af65cd446ff6c7daca983cc52f6b4aa4b823,openstack/openstack-zuul-jobs,master,py38,Ib369af65cd446ff6c7daca983cc52f6b4aa4b823,Add openstack-tox-functional-py38 job,MERGED,2020-04-15 17:52:10.000000000,2020-04-16 15:14:49.000000000,2020-04-16 15:08:42.000000000,15,0,0,720257,8ab3345e4dde2f5cee511f68b69eb12c3c2ad15e,8,3,1,1,11904,Sean McGinnis,SeanM,"Add openstack-tox-functional-py38 job

Change-Id: Ib369af65cd446ff6c7daca983cc52f6b4aa4b823
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fgovernance-sigs~master~I7582abcbf237320b0707732270388f113d93349d,openstack/governance-sigs,master,cleanup-py27-support,I7582abcbf237320b0707732270388f113d93349d,Cleanup py27 support,MERGED,2020-04-12 16:45:48.000000000,2020-04-16 15:14:42.000000000,2020-04-16 15:08:41.000000000,2,9,0,719348,a0ec636cfec5b92c0b8d0d60eab2c1fe1c64d3e2,8,3,1,3,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Update requirements, no need for python_version anymore
- Cleanup doc/source/conf.py to remove now obsolete content.
- Use newer openstackdocstheme version
- Remove install_command from tox.ini, the default is fine

Change-Id: I7582abcbf237320b0707732270388f113d93349d
"
openstack%2Fsahara-tests~master~Id80ef7e186f6328ab162b92eebababd7e4886560,openstack/sahara-tests,master,py2-cleanup,Id80ef7e186f6328ab162b92eebababd7e4886560,"Py2 cleanup: py3 on old branches (or none), remove py27",MERGED,2020-03-31 08:55:30.000000000,2020-04-16 15:12:39.000000000,2020-04-16 15:05:03.000000000,5,39,1,716213,2cb44abfceb48344cf3b32863d7bab01eb41312b,22,4,6,2,10459,Luigi Toscano,ltoscano,"Py2 cleanup: py3 on old branches (or none), remove py27

Make sure that the job running on master are py3 based,
according the established policy.
RGW must be used to provide the Swift API on Stein,
as devstack cannot properly deploy Swift/py2
in a Python 3 environment (old issue never fully solved).

Remove all EM releases where Python 3.6 is not available
and Tempest is not supported anymore. They will be gated
by sahara and python-saharaclient stable gates if needed;
the py2 variants are kept for this reason.
At the same time, remove the py35 unit test job,
as it is not supported anymore.

If an incompatible changes breaks an older branch,
an older sahara-tests version will be pinned there.

Remove the leftover py27 unit test jobs, which were
still needed when the py2 version of sahara-tests was
used on older branches (the py3 version is always used
even when the deployment is py2).

Finally, fix a multi-line issue with a shell command
which strangely happens for the master job only.

Change-Id: Id80ef7e186f6328ab162b92eebababd7e4886560
"
openstack%2Fhorizon~stable%2Fqueens~I10a6eeb96dd1418449e1d15b1a3869cd4de9cafa,openstack/horizon,stable/queens,rocky_nologout-stable/queens,I10a6eeb96dd1418449e1d15b1a3869cd4de9cafa,Avoid forced logout when 403 error encountered,MERGED,2020-01-17 13:52:26.000000000,2020-04-16 14:58:47.000000000,2020-04-16 14:58:47.000000000,17,15,0,703083,a2acb3e5c178cd5b18228c42d98129d68226f61c,10,7,1,4,1736,Ivan Kolodyazhny,e0ne,"Avoid forced logout when 403 error encountered

Before this change when a 403 error was encountered, such as failure to
have the permission to perform an operation, the user would get logged
out from UI pages written in the AngularJS framework. For example, if an
admin user lacks the get_project permission and tries to access the
images page, project->compute->images, the 403 will forcibly log out
the user.

This change keeps the user logged in when a 403 error is encountered and
displays an error message. The change only affects AngularJS pages.

Change-Id: I10a6eeb96dd1418449e1d15b1a3869cd4de9cafa
Closes-bug: #1840844
(cherry picked from commit ab0e96df9506fb6f1783e0ee79b63934dabe0cbe)
(cherry picked from commit 81740d310f7078a10435ecbeb3e7a31bc62c7497)
"
openstack%2Foslo.config~master~I53a580b336a49372e27b69d009da555c03f03e35,openstack/oslo.config,master,parallel-docs,I53a580b336a49372e27b69d009da555c03f03e35,Mark sphinx extensions thread safe,MERGED,2020-04-13 13:58:11.000000000,2020-04-16 14:40:45.000000000,2020-04-16 14:38:45.000000000,8,0,0,719498,76075a6d992c08a29da76c34fb2a7d9164f721d0,14,4,2,2,11904,Sean McGinnis,SeanM,"Mark sphinx extensions thread safe

This adds the return of some metadata to our sphinx extension setup to
indicate they are thread safe. This is needed to allow consuming
projects to do multithreaded docs builds. In some cases, this can save a
noticeable amount of time in job execution.

Change-Id: I53a580b336a49372e27b69d009da555c03f03e35
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fblazar-dashboard~master~I379c086a15477da4b0223fddd48035c829992c88,openstack/blazar-dashboard,master,cleanup-py27-support,I379c086a15477da4b0223fddd48035c829992c88,Cleanup py27 support,MERGED,2020-04-13 13:34:34.000000000,2020-04-16 14:26:14.000000000,2020-04-16 14:24:14.000000000,15,46,1,719463,26fda6b6976edef785b5a9f2e1ca6565e761d866,21,4,4,12,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Add requires on python >= 3.6 to setup.cfg so that pypi and pip
  know about the requirement
- Remove obsolete sections from setup.cfg
- Update classifiers
- Update requirements, no need for python_version anymore
- Switch to using sphinx-build
- Cleanup doc/source/conf.py to remove now obsolete content.
- Use newer openstackdocstheme version
- Update hacking to version 3.0; remove hacking and friends
  from requirements, they are not needed; fix warnings found
- Use unittest.mock

Change-Id: I379c086a15477da4b0223fddd48035c829992c88
"
openstack%2Fproject-config~master~I7956efd02859b252b9e327e121b6100b095067ce,openstack/project-config,master,,I7956efd02859b252b9e327e121b6100b095067ce,Add CentOS 8 AArch64 nodes,MERGED,2020-04-15 09:52:52.000000000,2020-04-16 14:16:31.000000000,2020-04-16 10:37:16.000000000,46,0,5,720167,87de93dfb33ea073214d40879560ba0cbcb945a6,19,4,4,2,24072,Marcin Juszkiewicz,hrw,"Add CentOS 8 AArch64 nodes

Change-Id: I7956efd02859b252b9e327e121b6100b095067ce
"
openstack%2Fsahara-dashboard~master~Iec168b8e07b2f008f98d6182df68cdf95b7726aa,openstack/sahara-dashboard,master,,Iec168b8e07b2f008f98d6182df68cdf95b7726aa,Change README.rst with a better title,NEW,2019-12-25 02:14:31.000000000,2020-04-16 14:14:08.000000000,,3,6,0,700531,a51e1005a654605951be87d2137f90269c57a66a,5,3,1,1,27399,zhouguowei,zhouguowei,"Change README.rst with a better title

Change-Id: Iec168b8e07b2f008f98d6182df68cdf95b7726aa
"
openstack%2Fkolla-ansible~master~I0474324b60a5f792ef5210ab336639edf7a8cd9e,openstack/kolla-ansible,master,,I0474324b60a5f792ef5210ab336639edf7a8cd9e,Refactor copy certificates task,MERGED,2020-04-10 20:53:36.000000000,2020-04-16 14:09:10.000000000,2020-04-16 14:03:36.000000000,350,544,2,719104,4d155d69cd8b9ac89905d15d278bb651594ff727,22,5,4,100,30810,James Kirsch,generalfuzz,"Refactor copy certificates task

Refactor service configuration to use the copy certificates task. This
reduces code duplication and simplifies implementing encrypting backend
HAProxy traffic for individual services.

Change-Id: I0474324b60a5f792ef5210ab336639edf7a8cd9e
"
openstack%2Fkolla-ansible~master~I60b7ec85f4fd8bbacf5df0ab7ed9a00658c91871,openstack/kolla-ansible,master,bug/1872404,I60b7ec85f4fd8bbacf5df0ab7ed9a00658c91871,Fix Octavia CA cert paths,MERGED,2020-04-13 06:20:07.000000000,2020-04-16 14:07:19.000000000,2020-04-16 14:03:31.000000000,10,3,0,719396,ea4505f17a83f517f0f6e00d6583accf23051bfe,13,3,2,2,23266,lixuehai,lixuehai,"Fix Octavia CA cert paths

This fixes Octavia in scenarios requiring providing
CA cert (self-signed, internally-signed).

Change-Id: I60b7ec85f4fd8bbacf5df0ab7ed9a00658c91871
Closes-Bug: #1872404
"
openstack%2Fkolla~master~I31e9742793cfb1abff9749083c9ce86000dae1af,openstack/kolla,master,bp/centos-rhel-8,I31e9742793cfb1abff9749083c9ce86000dae1af,CentOS 8: Switch last mentions of yum to dnf,MERGED,2020-03-16 15:17:26.000000000,2020-04-16 14:06:50.000000000,2020-04-16 14:03:29.000000000,11,9,6,713266,788978211326093e10795c611971ca8911e2a986,21,7,2,7,14826,Mark Goddard,mgoddard,"CentOS 8: Switch last mentions of yum to dnf

Change-Id: I31e9742793cfb1abff9749083c9ce86000dae1af
Partially-Implements: blueprint centos-rhel-8
"
openstack%2Ftripleo-common~master~I78656961fc915964477e0ba9bb766c679361b60e,openstack/tripleo-common,master,mistral_to_ansible,I78656961fc915964477e0ba9bb766c679361b60e,Convert shell ansible calls to ansible-runner,ABANDONED,2019-12-04 01:23:58.000000000,2020-04-16 14:05:25.000000000,,296,414,0,697214,b9b031c7d77f52cd4f2ed6d3cbe521f4e88485e6,18,7,4,6,7353,Kevin Carter,cloudnull,"Convert shell ansible calls to ansible-runner

The ansible-runner library is now being used to run all ansible interactions
within tripleo-common. This interface will ensure that we're able to maintain
a consistent and well scoped interface for ansible playbooks and commands
which will assist us as we transition mistral workflows to ansible playbooks.

Change-Id: I78656961fc915964477e0ba9bb766c679361b60e
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fkolla~stable%2Ftrain~I0c7c94e9fae9d11660f938b8d7d6be0f270c972f,openstack/kolla,stable/train,add_collectd_dpdk_telemetry_and_logparser,I0c7c94e9fae9d11660f938b8d7d6be0f270c972f,"add dpdk_telemetry and logparser for C8, use centos-release-opstools for C8",MERGED,2020-04-06 09:33:34.000000000,2020-04-16 14:00:07.000000000,2020-04-16 13:32:02.000000000,12,2,3,717697,8a6aa9e5959990a88e7eacd95cb3a833e5971f59,70,8,5,3,31539,Piotr Rabiega,prabiegx,"add dpdk_telemetry and logparser for C8, use centos-release-opstools for C8

Adds collectd-dpdk_telemetry and collectd-logparser packages
to collectd RHEL8-based image. dpdk_telemetry plugin collects DPDK
ethernet device metrics via dpdk_telemetry library. Logparser is
plugin for filtering and parsing log messages.

Change-Id: I0c7c94e9fae9d11660f938b8d7d6be0f270c972f
(cherry picked from commit 36f6e56d6674c02818e44d5cb3c40660ba2b0644)
"
openstack%2Fsahara-extra~master~I4abcc8f3ca66aece0c6726b1e1770f486492d3c8,openstack/sahara-extra,master,update-hacking,I4abcc8f3ca66aece0c6726b1e1770f486492d3c8,Update hacking for Python3,MERGED,2020-04-07 18:15:47.000000000,2020-04-16 13:56:41.000000000,2020-04-16 13:56:41.000000000,1,1,0,718183,117326ee16a90731606bc288eb0276f0facfc326,9,4,1,1,6547,Andreas Jaeger,jaegerandi,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Change-Id: I4abcc8f3ca66aece0c6726b1e1770f486492d3c8
"
openstack%2Fsahara-extra~master~Ifc4c123f30451ab6844d8b2f704b930760ebcef8,openstack/sahara-extra,master,cleanup-py27-support,Ifc4c123f30451ab6844d8b2f704b930760ebcef8,Cleanup py27 support,MERGED,2020-04-05 08:28:23.000000000,2020-04-16 13:56:41.000000000,2020-04-16 13:56:41.000000000,2,16,0,717573,8bc0f1136633277c6790d4d3b83e73fb796ec05a,13,4,3,3,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

Make a few cleanups:
- Remove python 2.7 stanza from setup.py
- Add requires on python >= 3.6 to setup.cfg so that pypi and pip
  know about the requirement
- Remove obsolete sections from setup.cfg:
  * Wheel is not needed for python 3 only repo
  * Some other sections are obsolete
- tox.ini: Move constraints into deps, remove install_command since
  the default is fine

Change-Id: Ifc4c123f30451ab6844d8b2f704b930760ebcef8
"
openstack%2Foslo.utils~stable%2Fqueens~Ic3ee301857630a15b9c26fd5d0fc907c43199517,openstack/oslo.utils,stable/queens,,Ic3ee301857630a15b9c26fd5d0fc907c43199517,Make mask_dict_password case insensitive and add new patterns,MERGED,2020-04-08 13:11:01.000000000,2020-04-16 13:55:49.000000000,2020-04-16 13:51:39.000000000,31,5,0,718441,d0b99227d9bf67316905d973d49cc85aa9a93c04,8,8,1,3,28223,Cedric Jeanneret,cjeanner,"Make mask_dict_password case insensitive and add new patterns

In Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d mask_password was made case
insensitive but mask_dict_password wasn't. This update makes the
behaviour of these functions the same.

Instead of lowering _SANITIZE_KEYS each time the source list is lowered.

New password patterns from realworld logs were added to the patterns.

Change-Id: Ic3ee301857630a15b9c26fd5d0fc907c43199517
Related-Bug: #1850843
(cherry picked from commit ed70bd3cd10eae2a34a5e9bd5d1fe0a6791ab3de)
(cherry picked from commit c49a426b6618426f9260eea10c1b2a9e1c5a4d65)
"
openstack%2Fblazar-dashboard~master~I2e1e85d525983bf94dc8eb2748b600e4c9af3ce3,openstack/blazar-dashboard,master,pyscss-fix,I2e1e85d525983bf94dc8eb2748b600e4c9af3ce3,Fix pyScss version in lower-constraints.txt,MERGED,2020-04-01 18:21:39.000000000,2020-04-16 13:55:29.000000000,2020-04-16 13:53:39.000000000,1,1,0,716704,da3ecf43eb51943f5c5ddf8cd666e28953208806,16,6,2,1,29313,Vishal Manchanda,vishalmanchanda,"Fix pyScss version in lower-constraints.txt

Horizon requires pyScss>=1.3.7 [1] but lower-constraints.txt in
blazar-dashboard uses pyScss 1.3.4 which can cause a failure in future.
So this patch updates the pyScss version in lower-constraints.txt to
sync with the change.

[1] https://review.opendev.org/#/c/715241/

Change-Id: I2e1e85d525983bf94dc8eb2748b600e4c9af3ce3
"
openstack%2Foslo.utils~stable%2Fqueens~Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d,openstack/oslo.utils,stable/queens,,Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d,"Make mask_password case insensitive, and add new patterns",MERGED,2020-04-08 13:11:01.000000000,2020-04-16 13:53:57.000000000,2020-04-16 13:51:38.000000000,65,14,0,718440,9d2d9a8949122a034f4cee8a058bc90382c0621d,8,7,1,3,28223,Cedric Jeanneret,cjeanner,"Make mask_password case insensitive, and add new patterns

It appears that Mistral service logs everything, and doesn't use yet
the mask_password (nor mask_dict_password) method. In order to ensure
all is properly masked, we have to add some new patterns, and make it
case insensitive in order to simplify and avoid duplicated entries.

Change-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d
Related-Bug: #1850843
Signed-off-by: CÃ©dric Jeanneret <cjeanner@redhat.com>
(cherry picked from commit b41268417cecb12d1d5955ee3107067edf050221)
(cherry picked from commit 95f1b88c90ba0654e1353669b8b0f1d170391a25)
"
openstack%2Freno~master~I62c13a1e19e83b83f81e21f50434758b1a1f7cd9,openstack/reno,master,trivial,I62c13a1e19e83b83f81e21f50434758b1a1f7cd9,tox: Suppress output,MERGED,2020-04-14 13:07:36.000000000,2020-04-16 13:41:46.000000000,2020-04-16 13:40:15.000000000,2,2,0,719949,4a93566f49a48cfc2c0bb878c26680d73a14820b,10,3,2,2,15334,Stephen Finucane,sfinucan,"tox: Suppress output

Like we did with pbr in I1678bcd26b41fdf09f98c36fc095d6d4c1826deb,
suppress the overly noisy output of reno tests. This requires bumping
the minimum version of stestr.

Change-Id: I62c13a1e19e83b83f81e21f50434758b1a1f7cd9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Frally-openstack~master~Icc95a6ea97ad6fa6486562f4fe9da3d083441862,openstack/rally-openstack,master,ci_check,Icc95a6ea97ad6fa6486562f4fe9da3d083441862,DNM: check several jobs,NEW,2020-04-16 11:47:01.000000000,2020-04-16 13:37:55.000000000,,50,74,0,720446,3523eb9aa3cc8275f26cb06d74d41ec9d519c235,2,1,1,3,9545,Andrey Kurilin,akurilin,"DNM: check several jobs

Change-Id: Icc95a6ea97ad6fa6486562f4fe9da3d083441862
"
openstack%2Fblazar-dashboard~master~I03a384b5dd0e8cf977d08237472fa1a6e15452d3,openstack/blazar-dashboard,master,add-pytest,I03a384b5dd0e8cf977d08237472fa1a6e15452d3,Add pytest requirement,MERGED,2020-04-16 02:53:15.000000000,2020-04-16 13:37:39.000000000,2020-04-16 13:36:03.000000000,2,0,0,720330,ab1da46b99f46fcb12d2e41723278968d0fe51b3,9,4,1,2,25625,Tetsuro Nakamura,tetsuro0907,"Add pytest requirement

Fix py36 and py37 tests, they are failing since pytest is not installed.

Change-Id: I03a384b5dd0e8cf977d08237472fa1a6e15452d3
"
openstack%2Fopenstack-ansible-os_horizon~master~I0fb10874aabba5906c8e0d80bfb0194c1a1ef336,openstack/openstack-ansible-os_horizon,master,openstack/openstack-ansible-tests/sync-tests,I0fb10874aabba5906c8e0d80bfb0194c1a1ef336,Updated from OpenStack Ansible Tests,MERGED,2020-03-11 12:46:26.000000000,2020-04-16 13:37:06.000000000,2020-04-16 13:35:06.000000000,8,10,0,712376,a58a73dcd8497bf5a69a009d37bc72c450a4fccf,11,2,2,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I0fb10874aabba5906c8e0d80bfb0194c1a1ef336
"
openstack%2Fsahara-specs~master~If224e2f3d582ad378b8ef8840604cad3172538a6,openstack/sahara-specs,master,cleanup-py27-support,If224e2f3d582ad378b8ef8840604cad3172538a6,Cleanup py27 support,MERGED,2020-04-10 09:40:58.000000000,2020-04-16 13:36:29.000000000,2020-04-16 13:34:24.000000000,3,18,0,718952,42bb410a82d27c9cd6b4bf7a4c5155ac3350bc72,8,14,1,4,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

Make a few cleanups:
- Remove obsolete sections from setup.cfg
- Update requirements, no need for python_version anymore
- Cleanup doc/source/conf.py to remove now obsolete content.
- Use newer openstackdocstheme version
- Remove install_command from tox.ini, the default is fine

Change-Id: If224e2f3d582ad378b8ef8840604cad3172538a6
"
openstack%2Fkolla-ansible~master~I22a995195a1d12bb759cba9777527c23475124f2,openstack/kolla-ansible,master,neutron-yamly-policy-file,I22a995195a1d12bb759cba9777527c23475124f2,Support Neutron policy file in both .json and .yaml format,MERGED,2020-01-15 15:22:48.000000000,2020-04-16 13:33:58.000000000,2020-04-16 13:32:00.000000000,112,114,12,702682,92deddca88ab289cf9bb7e6fc5d5c3011f49874a,30,5,7,13,29543,Scott Solkhon,scott.solkhon,"Support Neutron policy file in both .json and .yaml format

Change-Id: I22a995195a1d12bb759cba9777527c23475124f2
"
openstack%2Fdesignate~master~I099aada4f6842cffecb278187255b22917cc2aea,openstack/designate,master,zanata/translations,I099aada4f6842cffecb278187255b22917cc2aea,Imported Translations from Zanata,MERGED,2020-04-16 08:27:39.000000000,2020-04-16 13:32:26.000000000,2020-04-16 13:29:38.000000000,4,4,0,720393,beaf0de79f788622afd02cb07d506422783f70a3,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I099aada4f6842cffecb278187255b22917cc2aea
"
openstack%2Fpython-saharaclient~master~I96ecfc8a18f45e48b24f9f2560ef4b5ba81f0ef6,openstack/python-saharaclient,master,,I96ecfc8a18f45e48b24f9f2560ef4b5ba81f0ef6,[WIP] Refresh saharaclient doc,NEW,2018-09-26 04:44:42.000000000,2020-04-16 13:28:33.000000000,,16,36,2,605330,544c8c39ceb50f2cf37e82ff3fcf27e7a86441b8,5,2,1,3,23078,Jeremy Freudberg,jeremyfreudberg,"[WIP] Refresh saharaclient doc

Change-Id: I96ecfc8a18f45e48b24f9f2560ef4b5ba81f0ef6
"
openstack%2Fironic-ui~master~I93c764086cb8b89a56a315f45990912ccb3cd061,openstack/ironic-ui,master,zanata/translations,I93c764086cb8b89a56a315f45990912ccb3cd061,Imported Translations from Zanata,MERGED,2020-04-16 10:10:12.000000000,2020-04-16 13:23:53.000000000,2020-04-16 13:21:49.000000000,6,6,0,720424,eaf3f0d69f5972f412bc3959fdec42ce2ffed12d,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I93c764086cb8b89a56a315f45990912ccb3cd061
"
openstack%2Fkolla-ansible~master~I952e526e735e1d31445963f04d41d66bbdbfdee4,openstack/kolla-ansible,master,bug/1872545,I952e526e735e1d31445963f04d41d66bbdbfdee4,[haproxy-config] Fix missing servers in split cfg,MERGED,2020-04-13 21:10:56.000000000,2020-04-16 13:21:50.000000000,2020-04-16 12:47:32.000000000,6,1,1,719683,6d00236edb5339e9877500cef9dc7169a17163b3,20,5,3,2,29100,Jason Anderson,jasonanderson,"[haproxy-config] Fix missing servers in split cfg

When using the split config style, all backends would be empty, which
meant that HAProxy was unable to serve any traffic. This turned out to
be due to a bad default in the split config template.

Closes-Bug: #1872545
Change-Id: I952e526e735e1d31445963f04d41d66bbdbfdee4
"
openstack%2Fgovernance~master~Iabb0dc9fb43ea936c0dc32a1ff348478393dc272,openstack/governance,master,project-update,Iabb0dc9fb43ea936c0dc32a1ff348478393dc272,Retire OSA repo_build and pip_install projects,MERGED,2020-04-06 18:42:59.000000000,2020-04-16 13:16:47.000000000,2020-04-16 13:14:40.000000000,8,2,0,717832,dd688420fee4991688df8b9b4ddd66258a204d80,17,6,3,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Retire OSA repo_build and pip_install projects

Depends-On: https://review.opendev.org/717717
Depends-On: https://review.opendev.org/716389
Change-Id: Iabb0dc9fb43ea936c0dc32a1ff348478393dc272
Needed-By: https://review.opendev.org/717775
"
openstack%2Frally~master~I1205375c8cc22cee4b2c98e1aa21944e329cbe30,openstack/rally,master,ci_cleanup,I1205375c8cc22cee4b2c98e1aa21944e329cbe30,[ci] Remove rally-tox-py27 job,MERGED,2020-04-16 12:18:35.000000000,2020-04-16 13:05:35.000000000,2020-04-16 13:05:34.000000000,0,12,0,720452,becd9d65383597d25933ab24bc763fc4ccdf8a3e,6,2,1,1,9545,Andrey Kurilin,akurilin,"[ci] Remove rally-tox-py27 job

Change-Id: I1205375c8cc22cee4b2c98e1aa21944e329cbe30
"
openstack%2Fgovernance~master~Ic5506ed6831454b222984f859f829de3cdd6f95c,openstack/governance,master,project-update,Ic5506ed6831454b222984f859f829de3cdd6f95c,Add xstatic-* projects for vitrage-dashboard,MERGED,2020-02-21 18:25:47.000000000,2020-04-16 13:04:04.000000000,2020-04-16 13:00:42.000000000,18,0,0,709211,314af87b4f2783ff5ff20067595fd5222b7fe634,45,13,6,1,27339,Michal Arbet,michalarbet,"Add xstatic-* projects for vitrage-dashboard

Current vitrage-dashboard repo has multiple embedded js copies. However
these embeded js copies are not allowed by Horizon's official
contributor guide.
This change aimes to make these js copies to xstatic packages which can
be installed by pip and remove all of embedded js copies from
vitrage-dashboard repo.

Projects:
 - xstatic-dagre
 - xstatic-dagre-d3
 - xstatic-graphlib
 - xstatic-lodash
 - xstatic-moment
 - xstatic-moment-timezone

Change-Id: Ic5506ed6831454b222984f859f829de3cdd6f95c
Depends-On: I92fef30261a4c17523682fe9c9b3483a759cf500
"
openstack%2Ftripleo-heat-templates~master~I4f3351dd77169bff111b07c2345e052f8ae1bc02,openstack/tripleo-heat-templates,master,remove-odl,I4f3351dd77169bff111b07c2345e052f8ae1bc02,Remove remaining hieradata for OpenDaylight,MERGED,2020-04-13 12:03:16.000000000,2020-04-16 13:02:46.000000000,2020-04-16 13:02:46.000000000,0,1,0,719441,2890064fde6d14a92d6c819cebb25af2c2396e0a,16,5,1,1,9816,Takashi Kajinami,kajinamit,"Remove remaining hieradata for OpenDaylight

... because its templates and environment files are already removed[1].

[1] 9c3638b8a13ea08a1bab95c9cd6ab335b729b6b3

Change-Id: I4f3351dd77169bff111b07c2345e052f8ae1bc02
"
openstack%2Fkolla-ansible~stable%2Fstein~I69805c0f9147462514e597e0d978e7f9c15fb745,openstack/kolla-ansible,stable/stein,,I69805c0f9147462514e597e0d978e7f9c15fb745,Fix kolla_source_version value,MERGED,2020-04-15 02:14:30.000000000,2020-04-16 13:01:17.000000000,2020-04-16 12:58:15.000000000,1,1,0,720117,4f4c005fa59f3d4810cb9543cd887b5eb5bfb110,11,5,3,1,22997,xinliang,xinliang.liu,"Fix kolla_source_version value

Stein only.
In dev mode (aka kolla_dev_mode: ""yes""), it will clone projects' source
code and checkout kolla_source_version which the branch/tag is using.
For a stable branch it should start with 'stable/'.

Change-Id: I69805c0f9147462514e597e0d978e7f9c15fb745
"
openstack%2Fopenstack-ansible-os_aodh~master~Iba11d032980abeeaa93b2a6f8c046c48e11f5d24,openstack/openstack-ansible-os_aodh,master,openstack/openstack-ansible-tests/sync-tests,Iba11d032980abeeaa93b2a6f8c046c48e11f5d24,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:08:05.000000000,2020-04-16 13:00:31.000000000,2020-04-16 12:57:15.000000000,6,10,0,709479,3875426057c919888abd3b56293e4e1f0b632915,27,3,4,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Iba11d032980abeeaa93b2a6f8c046c48e11f5d24
"
openstack%2Fkolla-ansible~stable%2Ftrain~I69805c0f9147462514e597e0d978e7f9c15fb745,openstack/kolla-ansible,stable/train,,I69805c0f9147462514e597e0d978e7f9c15fb745,Fix kolla_source_version value,MERGED,2020-04-15 03:00:44.000000000,2020-04-16 13:00:06.000000000,2020-04-16 12:58:13.000000000,1,1,0,720121,fab7b08b50df0665dcd67230265532e2950619eb,11,5,2,1,22997,xinliang,xinliang.liu,"Fix kolla_source_version value

Train only.
In dev mode (aka kolla_dev_mode: ""yes""), it will clone projects' source
code and checkout kolla_source_version which the branch/tag is using.
For a stable branch it should start with 'stable/'.

Change-Id: I69805c0f9147462514e597e0d978e7f9c15fb745
"
openstack%2Fmonasca-agent~stable%2Fstein~Id9978215cb11c3a0d8f756d8ff8a5e7f789170b4,openstack/monasca-agent,stable/stein,,Id9978215cb11c3a0d8f756d8ff8a5e7f789170b4,Remove incorrect assignment of ping_cmd to 'True',MERGED,2020-04-14 14:15:07.000000000,2020-04-16 12:56:09.000000000,2020-04-16 12:56:09.000000000,0,1,0,719981,0d171ed07ed6805184b8a9a56c15f6c90fd182f3,9,3,1,1,14892,Keith Berger,kberger,"Remove incorrect assignment of ping_cmd to 'True'

This patch removes an incorrect setting ping_cmd to 'True'.
This is needed as the code is expecting ping_check to be
 a ""str"" and not a ""boolean"".

Change-Id: Id9978215cb11c3a0d8f756d8ff8a5e7f789170b4
Story: 2007517
Task: 39300
(cherry picked from commit 6f330f6dc1c1bbea40e5360c7236d4db97776d4e)
"
openstack%2Fopenstack-tempest-skiplist~master~If4c633eaf4f69b927ddde090937388a5b7b02603,openstack/openstack-tempest-skiplist,master,add-validate-job,If4c633eaf4f69b927ddde090937388a5b7b02603,Adding tempest skip validate job,MERGED,2020-04-14 14:28:00.000000000,2020-04-16 12:29:46.000000000,2020-04-16 12:29:46.000000000,82,0,2,719988,015c05331ba31cf00671ad310f49ad76b6a1459f,31,3,12,5,8367,Arx Cruz,arxcruz,"Adding tempest skip validate job

This patch create the playbooks and roles required to run
the validate job.
The job basically check if the yaml file is in the proper
schema defined in the documentation.

Change-Id: If4c633eaf4f69b927ddde090937388a5b7b02603
"
openstack%2Fkuryr-kubernetes~master~I94a8c3ff0f40b6e18e888a5eaa0d18d446384b58,openstack/kuryr-kubernetes,master,np-crd,I94a8c3ff0f40b6e18e888a5eaa0d18d446384b58,WiP: NP CRD,ABANDONED,2020-03-19 17:16:50.000000000,2020-04-16 12:27:43.000000000,,734,407,2,713939,c8ef1d1560aedd7fa2c909d02585233a97a81ed2,9,3,3,20,11600,MichaÅ Dulko,dulek,"WiP: NP CRD

Please don't look, that's only garbage, I use this review to transfer
code to test VM.

Change-Id: I94a8c3ff0f40b6e18e888a5eaa0d18d446384b58
"
openstack%2Ftripleo-ansible~master~I16596a5b262642a678a8b8b123384fc387f69c70,openstack/tripleo-ansible,master,systemd/faster,I16596a5b262642a678a8b8b123384fc387f69c70,tripleo_container_manage: optimize systemd services/healthcheck bootstrap,MERGED,2020-04-08 20:11:06.000000000,2020-04-16 12:14:15.000000000,2020-04-16 01:59:59.000000000,163,72,6,718545,761e5cbdd589f582003f4e2f27a03c313de8a852,71,6,19,8,3153,Emilien Macchi,emilienm,"tripleo_container_manage: optimize systemd services/healthcheck bootstrap

Separate the creation of systemd files & service restarts so we don't
call systemd too many times and makes the deployment faster.

It also uses a new filter that will read register data to figure out
what systemd files changed so what containers need a restart.

Change-Id: I16596a5b262642a678a8b8b123384fc387f69c70
"
openstack%2Fgovernance~master~Iefb44522bc73b2f0d66ee4370f7754ff33991d4d,openstack/governance,master,charter-change,Iefb44522bc73b2f0d66ee4370f7754ff33991d4d,No longer elect PTLs,ABANDONED,2020-03-12 14:33:37.000000000,2020-04-16 12:11:33.000000000,,77,47,35,712696,c942b0d7b19b10648ed02752363d36f2bd335e1c,28,15,4,2,308,Thierry Carrez,ttx,"No longer elect PTLs

Starting with the Victoria cycle, project teams no longer *have to*
elect a PTL. They just need to maintain a list of people habilitated to
speak on behalf of the project team on a number of topics (release
signoff, event organization, meeting management). Conflicts (should they
arise) shall be resolved by the TC.

Co-Authored-By: Mohammed Naser <mnaser@vexxhost.com>
Change-Id: Iefb44522bc73b2f0d66ee4370f7754ff33991d4d
"
openstack%2Fheat-dashboard~master~Iee14d16733b2f7eebad6fd59784f99ff914c99a3,openstack/heat-dashboard,master,pytest,Iee14d16733b2f7eebad6fd59784f99ff914c99a3,Add pytest requirement to fix jobs,ABANDONED,2020-04-16 09:38:05.000000000,2020-04-16 12:05:29.000000000,,2,0,0,720412,43d43167f363325d03cb32eb290eb42979a21429,3,1,1,2,6547,Andreas Jaeger,jaegerandi,"Add pytest requirement to fix jobs

Current horizon does not install pytest anymore but heat-dashboard tests
call horizon tests that require pytest, install pytest via
test-requirements to unbreak jobs.

Change-Id: Iee14d16733b2f7eebad6fd59784f99ff914c99a3
"
openstack%2Fmurano-agent~master~Ia6b08e81f8df43e67bed0fbd082d7d7edd178fbc,openstack/murano-agent,master,,Ia6b08e81f8df43e67bed0fbd082d7d7edd178fbc,Remove six usage,MERGED,2020-04-16 11:35:03.000000000,2020-04-16 12:03:19.000000000,2020-04-16 12:03:19.000000000,14,23,0,720442,84f5778fc5ee2c9fe9c373e8df69beb61d01f1c9,6,2,1,10,14107,zhurong,zhurong,"Remove six usage

Change-Id: Ia6b08e81f8df43e67bed0fbd082d7d7edd178fbc
"
openstack%2Frally~master~I1123b67a4265401b2f709a426c67e75db47cb271,openstack/rally,master,update_docker_pass,I1123b67a4265401b2f709a426c67e75db47cb271,Update password for dockehub account,MERGED,2020-04-15 13:11:59.000000000,2020-04-16 11:46:02.000000000,2020-04-16 11:46:01.000000000,22,23,0,720198,afaf961bf77137cc140d9a4d4adf764a2f541a70,12,2,4,1,9545,Andrey Kurilin,akurilin,"Update password for dockehub account

+ rename secret to follow global naming convention

Change-Id: I1123b67a4265401b2f709a426c67e75db47cb271
"
openstack%2Foctavia~master~I49b587cf748996658859667485400307205d209b,openstack/octavia,master,,I49b587cf748996658859667485400307205d209b,Run taskflow jobboard conductor conditionally,MERGED,2020-04-15 16:13:09.000000000,2020-04-16 11:43:04.000000000,2020-04-16 11:41:23.000000000,12,7,0,720237,fb70e3b3c1e2ff25595a0426287327e5b38e50e4,13,4,1,2,7249,Ann Taraday,AKamyshnikova,"Run taskflow jobboard conductor conditionally

Run taskflow jobboard conductor only if amphorav2 provider is
enabled.

Fixes devstack plugin.sh conditions for amphorav2 provider.

Change-Id: I49b587cf748996658859667485400307205d209b
"
openstack%2Fhorizon~master~If0ff2294c0ead0e6b60b31820481fe8f6c0c0b7a,openstack/horizon,master,zanata/translations,If0ff2294c0ead0e6b60b31820481fe8f6c0c0b7a,Imported Translations from Zanata,MERGED,2020-04-16 08:12:38.000000000,2020-04-16 11:38:36.000000000,2020-04-16 11:34:16.000000000,25,4,0,720388,7c895ef32cb896dbc90a0dd59875aa00e7e2beb6,7,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If0ff2294c0ead0e6b60b31820481fe8f6c0c0b7a
"
openstack%2Fhorizon~master~I58384f42ded3ed864de0dc2a9a56d2d9943168b9,openstack/horizon,master,integration-video,I58384f42ded3ed864de0dc2a9a56d2d9943168b9,Fix video recording for integration tests,MERGED,2020-03-10 11:43:18.000000000,2020-04-16 11:36:24.000000000,2020-04-16 11:34:14.000000000,18,10,6,712053,8f887350e0642c0b81a1455e8619bc1e789e3dab,34,6,9,5,1736,Ivan Kolodyazhny,e0ne,"Fix video recording for integration tests

libav-tools package doesn't exist anymore so we need to use ffmpeg now
to capture the screen.

Change-Id: I58384f42ded3ed864de0dc2a9a56d2d9943168b9
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~I56c1e49e564635b53a2be51058aeaf06851030ac,openstack/openstack-ansible-rabbitmq_server,master,,I56c1e49e564635b53a2be51058aeaf06851030ac,[WIP] Limit the rabbitmq queue length,ABANDONED,2020-04-14 18:06:25.000000000,2020-04-16 11:32:49.000000000,,1,1,0,720045,0c28e7b1fd906ec081c213702ae00a6848c16df8,4,2,1,1,29298,Jagan Mohan Kavva,jk330k,"[WIP] Limit the rabbitmq queue length

Change-Id: I56c1e49e564635b53a2be51058aeaf06851030ac
"
openstack%2Fpuppet-glance~master~I1dfcb311c10c633788c24484c21277255b60e4e5,openstack/puppet-glance,master,bug/1872656,I1dfcb311c10c633788c24484c21277255b60e4e5,Fix broken Puppet::Provider::Glance,MERGED,2020-04-14 08:25:04.000000000,2020-04-16 11:31:30.000000000,2020-04-16 11:31:30.000000000,101,64,1,719759,066f45758d974bb6343c0b92583c8185ef588823,30,8,13,2,9816,Takashi Kajinami,kajinamit,"Fix broken Puppet::Provider::Glance

This patch fixes Puppet::Provider::Glance, broken because it still
depends on glance_store/os_region_name, which was removed in [1].

This patch also updates outdated provider implementation, and introduce
the implementetion consisntent with other modules like puppet-nova or
puppet-neutron.

[1] 9e82f598ad86d99a5bc356ba5c118a52a1d5d9bc

Closes-Bug: #1872656
Closes-Bug: #1872691
Change-Id: I1dfcb311c10c633788c24484c21277255b60e4e5
"
openstack%2Fsolum-dashboard~master~I9063c3764dad3304a6f9cea8322449f0a0331d8c,openstack/solum-dashboard,master,cleanup-py27-support,I9063c3764dad3304a6f9cea8322449f0a0331d8c,Cleanup doc building,MERGED,2020-04-16 08:27:34.000000000,2020-04-16 11:23:41.000000000,2020-04-16 11:23:41.000000000,3,8,0,720392,e37246df9d1a61d339f380abfa29ed1224a637e0,8,2,2,4,6547,Andreas Jaeger,jaegerandi,"Cleanup doc building

- Cleanup doc/source/conf.py to remove now obsolete content.
- Use build-sphinx as modern way to build docs
- Remove unused docs requirements

Note the repo has no docs job and no real documentation, still let's fix
to help with docs going forward.

Change-Id: I9063c3764dad3304a6f9cea8322449f0a0331d8c
"
openstack%2Fironic~master~I7a36386361b3d46fe35cd2176598029501311f3d,openstack/ironic,master,missing_ws,I7a36386361b3d46fe35cd2176598029501311f3d,Fix missing print format in log messages,MERGED,2020-04-15 01:41:11.000000000,2020-04-16 11:15:38.000000000,2020-04-16 11:13:08.000000000,2,2,0,720114,36944fa3933da2191f963bc873949bd0196f62d0,17,7,1,2,20190,zhufl,zhufl,"Fix missing print format in log messages

This is to add missing print format and add missing ws between
words in log messages.

Change-Id: I7a36386361b3d46fe35cd2176598029501311f3d
"
openstack%2Fironic-python-agent~master~I80249bd3468b581dc035d72156cbfa2f5f225a1b,openstack/ironic-python-agent,master,token-compat,I80249bd3468b581dc035d72156cbfa2f5f225a1b,Fix the token logic to be compatible with older ironic,MERGED,2020-04-15 11:01:56.000000000,2020-04-16 11:13:10.000000000,2020-04-16 11:11:10.000000000,1,3,0,720185,6a9a9e9e1461f13e7d2478a90e2ef3bdd1f0b55f,13,5,1,1,10239,Dmitry Tantsur,dtantsur,"Fix the token logic to be compatible with older ironic

Currently we fail with HTTP 401 if both the known and the received
tokens are None. This prevents IPA from being updated before ironic.

Story: #2007557
Task: #39419
Change-Id: I80249bd3468b581dc035d72156cbfa2f5f225a1b
"
openstack%2Fkolla-ansible~stable%2Ftrain~I137b4f6b229d9ef34ed5be0bc4c4828ed655269e,openstack/kolla-ansible,stable/train,,I137b4f6b229d9ef34ed5be0bc4c4828ed655269e,Add cafile for ironic-neutron-agent,ABANDONED,2020-04-16 11:02:12.000000000,2020-04-16 11:03:11.000000000,,1,0,0,720436,3892914bc0cbef13a616cd364fc874ed6a5018fa,2,1,1,1,14826,Mark Goddard,mgoddard,"Add cafile for ironic-neutron-agent

Change-Id: I137b4f6b229d9ef34ed5be0bc4c4828ed655269e
Closes-Bug: #1872008
(cherry picked from commit 546e450fe5dfbd1652eb0ca4b92219d4f9d3c495)
"
openstack%2Fkolla-ansible~master~I137b4f6b229d9ef34ed5be0bc4c4828ed655269e,openstack/kolla-ansible,master,,I137b4f6b229d9ef34ed5be0bc4c4828ed655269e,Add cafile for ironic-neutron-agent,MERGED,2020-04-10 06:41:14.000000000,2020-04-16 11:02:12.000000000,2020-04-16 10:48:57.000000000,1,0,0,718889,546e450fe5dfbd1652eb0ca4b92219d4f9d3c495,10,3,1,1,7488,Jeffrey Zhang,Jeffrey4l,"Add cafile for ironic-neutron-agent

Change-Id: I137b4f6b229d9ef34ed5be0bc4c4828ed655269e
Closes-Bug: #1872008
"
openstack%2Fpython-solumclient~master~I0218c36b7c3c71ebd4c92f18c8bf4c6d7a766c9f,openstack/python-solumclient,master,,I0218c36b7c3c71ebd4c92f18c8bf4c6d7a766c9f,Remove six usage,MERGED,2020-04-16 09:17:38.000000000,2020-04-16 10:43:49.000000000,2020-04-16 10:42:20.000000000,41,51,2,720407,54c82d6be8936301b4bb357b079fa60d3b86fd1c,9,2,2,11,14107,zhurong,zhurong,"Remove six usage

Change-Id: I0218c36b7c3c71ebd4c92f18c8bf4c6d7a766c9f
"
openstack%2Fsolum-tempest-plugin~master~I2fab7d64c808c69ad404064a4b547cdfd945c8a7,openstack/solum-tempest-plugin,master,,I2fab7d64c808c69ad404064a4b547cdfd945c8a7,Remove six usage,MERGED,2020-04-16 09:28:36.000000000,2020-04-16 10:42:07.000000000,2020-04-16 10:42:07.000000000,60,81,0,720409,2c1a6c2ca005948a6851f1b254d21e23d6463269,6,2,1,20,14107,zhurong,zhurong,"Remove six usage

Change-Id: I2fab7d64c808c69ad404064a4b547cdfd945c8a7
"
openstack%2Fmurano-tempest-plugin~master~Ic6865589c1265185cb22d4caa197b3293fe50465,openstack/murano-tempest-plugin,master,,Ic6865589c1265185cb22d4caa197b3293fe50465,Remove six usage,MERGED,2020-04-16 09:32:46.000000000,2020-04-16 10:41:59.000000000,2020-04-16 10:41:59.000000000,4,5,0,720411,b6d544c27f04dd961150c1e571e8a46b45af4166,6,2,1,2,14107,zhurong,zhurong,"Remove six usage

Change-Id: Ic6865589c1265185cb22d4caa197b3293fe50465
"
openstack%2Fkolla~stable%2Ftrain~Ifae18c407210c12745d29fc4c95dca69aeafe6a8,openstack/kolla,stable/train,bug/1866017-stable/train,Ifae18c407210c12745d29fc4c95dca69aeafe6a8,Ensure proper JSON in keystone bootstrap,MERGED,2020-04-14 12:44:06.000000000,2020-04-16 10:22:30.000000000,2020-04-16 10:19:40.000000000,8,1,0,719942,44ef591464d03960d0bc8c322cacbb97a44968fe,9,4,1,2,14826,Mark Goddard,mgoddard,"Ensure proper JSON in keystone bootstrap

This fixes the issue when keystone-manage output included
backslashes and/or double quotation marks which broke JSON string.

Change-Id: Ifae18c407210c12745d29fc4c95dca69aeafe6a8
Closes-bug: #1866017
(cherry picked from commit 33d184a731458bb45d1206bdae4fb172629a76e7)
"
openstack%2Fkolla~master~I7b375e493380c4e3d6b8c7b6f5ebc57c1b73043f,openstack/kolla,master,bp/elasticsearch-kibana-version-upgrade,I7b375e493380c4e3d6b8c7b6f5ebc57c1b73043f,CentOS 8: enable elasticsearch and kibana images,MERGED,2020-04-15 09:26:48.000000000,2020-04-16 10:21:33.000000000,2020-04-16 10:19:41.000000000,2,7,0,720164,6ce67b81a70226913a1d19f0aefd2181c42d1cc6,16,5,2,2,14826,Mark Goddard,mgoddard,"CentOS 8: enable elasticsearch and kibana images

This is a follow up to I8b52b2630a72393bf4b9c7095fc67db6c36c27fa, which
upgraded elasticsearch and kibana to 6.x. It did not enable the
repositories or images for CentOS 8 however.

This change enables elasticsearch and kibana images for CentOS 8.

Change-Id: I7b375e493380c4e3d6b8c7b6f5ebc57c1b73043f
Related: blueprint elasticsearch-kibana-version-upgrade
"
openstack%2Ftooz~stable%2Ftrain~Ifc4b8c291e757d143806cdf16823ff8f3dbe71b2,openstack/tooz,stable/train,do-not-merge,Ifc4b8c291e757d143806cdf16823ff8f3dbe71b2,DNM: CI health test,ABANDONED,2020-03-30 11:37:07.000000000,2020-04-16 10:11:59.000000000,,1,0,0,715922,0469be14416f722bf22d2254105db5941a3b8ac3,3,1,1,1,17685,Elod Illes,elod.illes,"DNM: CI health test

Change-Id: Ifc4b8c291e757d143806cdf16823ff8f3dbe71b2
"
openstack%2Fmagnum~stable%2Ftrain~Ief452e05ddf13a1d1ee77641311c3ae7abbe90f2,openstack/magnum,stable/train,story/2007256-39223-stable/train,Ief452e05ddf13a1d1ee77641311c3ae7abbe90f2,[k8s] Improve the taint of master node kubelet,MERGED,2020-04-04 10:29:41.000000000,2020-04-16 09:57:51.000000000,2020-04-16 09:55:52.000000000,20,14,0,717450,5ea259d8ed1a9de3df55b2e543e733e50d84598b,18,4,2,4,28022,Bharat Kunwar,brtknr,"[k8s] Improve the taint of master node kubelet

Improve the taint of master node kubelet to get the conformance
test passed and update the OCCM and Helm/Tiller tolerations accordingly.

Task: 39223
Story: 2007256

Change-Id: Ief452e05ddf13a1d1ee77641311c3ae7abbe90f2
(cherry picked from commit 076547e17044b00b6f08b539fadb04ca1a3ce4f5)
"
openstack%2Fkolla~stable%2Fstein~Ifae18c407210c12745d29fc4c95dca69aeafe6a8,openstack/kolla,stable/stein,bug/1866017-stable/stein,Ifae18c407210c12745d29fc4c95dca69aeafe6a8,Ensure proper JSON in keystone bootstrap,MERGED,2020-04-14 12:44:12.000000000,2020-04-16 09:52:26.000000000,2020-04-16 09:49:42.000000000,8,1,0,719943,ab8bcf5a4f4b1a6a8ae698eda80f2a93d00aa84e,8,3,1,2,14826,Mark Goddard,mgoddard,"Ensure proper JSON in keystone bootstrap

This fixes the issue when keystone-manage output included
backslashes and/or double quotation marks which broke JSON string.

Change-Id: Ifae18c407210c12745d29fc4c95dca69aeafe6a8
Closes-bug: #1866017
(cherry picked from commit 33d184a731458bb45d1206bdae4fb172629a76e7)
"
openstack%2Fstorlets~master~Ib4899ab184786534a639a3bfb1593a2e75f0c471,openstack/storlets,master,py27,Ib4899ab184786534a639a3bfb1593a2e75f0c471,"Revert ""Use Python 3 by default to run storlet applications""",ABANDONED,2020-04-16 07:47:24.000000000,2020-04-16 09:51:04.000000000,,18,24,0,720380,feb3b9a386d67a23ee868a59a0a0b3bf6fa66c40,3,1,1,8,9816,Takashi Kajinami,kajinamit,"Revert ""Use Python 3 by default to run storlet applications""

This reverts commit 55d9c282534101e1eb6ef804bd68381aa14c4245.

Change-Id: Ib4899ab184786534a639a3bfb1593a2e75f0c471
"
openstack%2Fnova~master~Idec2d31cbba497dc4b20912f3388ad2341951d23,openstack/nova,master,bug/1753676,Idec2d31cbba497dc4b20912f3388ad2341951d23,Abort live-migration during instance_init,MERGED,2019-08-22 13:48:00.000000000,2020-04-16 09:41:13.000000000,2019-11-22 17:51:07.000000000,34,5,4,678016,ebcf6e4ce576285949c5a202f2d7d21dc03156ef,47,16,2,2,28332,Alexandre arents,aarents,"Abort live-migration during instance_init

When compute service restart during a live-migration,
we lose live-migration monitoring thread. In that case
it is better to early abort live-migration job before resetting
state of instance, this will avoid API to accept further
action while unmanaged migration process still run in background.
It also avoid unexpected/dangerous behavior as describe in related bug.

Change-Id: Idec2d31cbba497dc4b20912f3388ad2341951d23
Closes-Bug: #1753676
"
openstack%2Ftripleo-heat-templates~master~I93701306d29b8441e0eca111ceb513bb723eb54f,openstack/tripleo-heat-templates,master,,I93701306d29b8441e0eca111ceb513bb723eb54f,Remove deprecated keystone::admin_port,MERGED,2020-04-04 01:06:18.000000000,2020-04-16 09:37:56.000000000,2020-04-16 09:37:55.000000000,0,1,0,717419,378447e3e258e15cd72a6c5033f224863539b597,16,6,1,1,9816,Takashi Kajinami,kajinamit,"Remove deprecated keystone::admin_port

... because the parameter has no effect now[1].

[1] Ibc8023caf8ad4ee16ebc08a943bdcc9f188c73c1

Change-Id: I93701306d29b8441e0eca111ceb513bb723eb54f
"
openstack%2Fbashate~master~I40cf60b58847cee619bcac0a60c760bebd001954,openstack/bashate,master,cleanup-py27-support,I40cf60b58847cee619bcac0a60c760bebd001954,Cleanup py27 support,MERGED,2020-04-10 13:39:00.000000000,2020-04-16 09:36:32.000000000,2020-04-16 09:34:30.000000000,4,41,1,719006,e4162c215b74a7fb15c9636f43edfa842787fef4,12,4,2,6,6547,Andreas Jaeger,jaegerandi,"Cleanup py27 support

Make a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Update classifiers
- Switch to using sphinx-build
- Cleanup doc/source/conf.py to remove now obsolete content.
- Use newer openstackdocstheme version
- Remove install_command from tox.ini, the default is fine

Change-Id: I40cf60b58847cee619bcac0a60c760bebd001954
"
openstack%2Foctavia-dashboard~stable%2Fstein~I3668f3dc5d3eb6a288994386294cc018035540c8,openstack/octavia-dashboard,stable/stein,,I3668f3dc5d3eb6a288994386294cc018035540c8,Add missing fields for HTTPS health monitors,MERGED,2020-04-06 07:20:26.000000000,2020-04-16 09:33:00.000000000,2020-04-16 09:30:13.000000000,2,2,0,717672,bceefa888c7c9e3f5c1731fcce29952cd852444d,9,4,1,2,29244,Gregory Thiemonge,gthiemonge,"Add missing fields for HTTPS health monitors

Some fields (http method, expected codes, url path) are missing in
health monitor form when type is HTTPS.
These are valid parameters for HTTP and HTTPS health monitors.

Change-Id: I3668f3dc5d3eb6a288994386294cc018035540c8
Story: 2007512
Task: 39292
(cherry picked from commit 9a425869750045add5f62cee725ed3492763aa16)
(cherry picked from commit 35d0a3536241f511d1e2e73d66b1f3b3119bcdc5)
"
openstack%2Foctavia-dashboard~stable%2Frocky~I3668f3dc5d3eb6a288994386294cc018035540c8,openstack/octavia-dashboard,stable/rocky,,I3668f3dc5d3eb6a288994386294cc018035540c8,Add missing fields for HTTPS health monitors,MERGED,2020-04-06 07:21:24.000000000,2020-04-16 09:32:42.000000000,2020-04-16 09:32:42.000000000,2,2,0,717673,171ffb7dda66825fc0c28b858222bf18f76de5fb,8,4,1,2,29244,Gregory Thiemonge,gthiemonge,"Add missing fields for HTTPS health monitors

Some fields (http method, expected codes, url path) are missing in
health monitor form when type is HTTPS.
These are valid parameters for HTTP and HTTPS health monitors.

Change-Id: I3668f3dc5d3eb6a288994386294cc018035540c8
Story: 2007512
Task: 39292
(cherry picked from commit 9a425869750045add5f62cee725ed3492763aa16)
(cherry picked from commit 35d0a3536241f511d1e2e73d66b1f3b3119bcdc5)
(cherry picked from commit bceefa888c7c9e3f5c1731fcce29952cd852444d)
"
openstack%2Foctavia-dashboard~stable%2Ftrain~I3668f3dc5d3eb6a288994386294cc018035540c8,openstack/octavia-dashboard,stable/train,,I3668f3dc5d3eb6a288994386294cc018035540c8,Add missing fields for HTTPS health monitors,MERGED,2020-04-06 07:19:58.000000000,2020-04-16 09:31:57.000000000,2020-04-16 09:30:17.000000000,2,2,0,717671,35d0a3536241f511d1e2e73d66b1f3b3119bcdc5,9,4,1,2,29244,Gregory Thiemonge,gthiemonge,"Add missing fields for HTTPS health monitors

Some fields (http method, expected codes, url path) are missing in
health monitor form when type is HTTPS.
These are valid parameters for HTTP and HTTPS health monitors.

Change-Id: I3668f3dc5d3eb6a288994386294cc018035540c8
Story: 2007512
Task: 39292
(cherry picked from commit 9a425869750045add5f62cee725ed3492763aa16)
"
openstack%2Fvitrage~master~I996b13eb8340248dbaabb7035e54141f98dc7dad,openstack/vitrage,master,dev,I996b13eb8340248dbaabb7035e54141f98dc7dad,Add etcd  requirement,ABANDONED,2020-04-16 08:03:05.000000000,2020-04-16 09:27:24.000000000,,2,0,0,720383,42db61700d176b285fbd950c9b87dfa4a345a8da,4,2,1,1,30408,Qitao,qihongtao,"Add etcd  requirement

Coordination service need etcds dependency library

Change-Id: I996b13eb8340248dbaabb7035e54141f98dc7dad
"
openstack%2Fzun-ui~master~I402993ccd928f2c845651f76d3cdf93f198d1957,openstack/zun-ui,master,zanata/translations,I402993ccd928f2c845651f76d3cdf93f198d1957,Imported Translations from Zanata,MERGED,2020-04-16 07:29:16.000000000,2020-04-16 09:21:25.000000000,2020-04-16 09:18:48.000000000,4,4,0,720374,08e0830f356f80aa4e0797aa877943cd319fae5c,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I402993ccd928f2c845651f76d3cdf93f198d1957
"
openstack%2Fnova~master~I5ce8ca083a857ca3c236f53085605185b4cb86e4,openstack/nova,master,bp/policy-defaults-refresh,I5ce8ca083a857ca3c236f53085605185b4cb86e4,Pass the actual target in os-flavor-manage policy,MERGED,2020-03-25 03:25:05.000000000,2020-04-16 09:19:08.000000000,2020-04-07 18:00:52.000000000,3,3,0,714822,e4dbf1564a38b7efcd5954e4be0ebdfcd4ee1f35,45,13,2,1,8556,Ghanshyam,ghanshyam,"Pass the actual target in os-flavor-manage policy

Currently if target is not passed in context.can(),
it use defauls target which is context.user_id, context.project_id.
These defaults target are not useful as it pass the
context's user_id and project_id only which means we tell
oslo policy to verify the context data with context data.

This commit pass the actual target for os-flavor-manage policies
which is empty dict because policy rule is system scoped rather
than project, so the token scope check deals with the required
target checking.

Partial implement blueprint policy-defaults-refresh

Change-Id: I5ce8ca083a857ca3c236f53085605185b4cb86e4
"
openstack%2Fsahara-dashboard~master~Ia8a133f0eb4bfbdfb941a72b67f1f529cb568122,openstack/sahara-dashboard,master,zanata/translations,Ia8a133f0eb4bfbdfb941a72b67f1f529cb568122,Imported Translations from Zanata,MERGED,2020-04-16 08:41:13.000000000,2020-04-16 09:14:20.000000000,2020-04-16 09:12:33.000000000,4,4,0,720397,391c30ccf84ff5f575ea74216030d5dd85af1000,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia8a133f0eb4bfbdfb941a72b67f1f529cb568122
"
openstack%2Fdevstack~master~I8719dbbb27c2b2daffe2a83743d181543d70867e,openstack/devstack,master,remove_fedora_latest,I8719dbbb27c2b2daffe2a83743d181543d70867e,WIP Fedora: Start using version specific nodesets and jobs,ABANDONED,2020-04-14 09:19:07.000000000,2020-04-16 09:14:19.000000000,,30,3,0,719775,e9e2c085cef602d802acd3408a59c0a4cd053231,6,4,1,1,10135,Lee Yarwood,lyarwood,"WIP Fedora: Start using version specific nodesets and jobs

This change starts the migration to version specific Fedora jobs by
initially duplicating the -latest nodesets and jobs. These can be
removed once references to them have been removed from other project:

http://codesearch.openstack.org/?q=fedora%5C-latest

Change-Id: I8719dbbb27c2b2daffe2a83743d181543d70867e
"
openstack%2Fcyborg~master~I783c3d0d257c16bf6c92c118f7b16f7f180f7026,openstack/cyborg,master,refactor_arq_v2_api,I783c3d0d257c16bf6c92c118f7b16f7f180f7026,Refactor v2 arq api,MERGED,2019-11-26 13:58:39.000000000,2020-04-16 09:09:31.000000000,2020-04-16 09:07:47.000000000,55,15,43,696089,ef0b2199c14c86af87a5c72e8fd022f075e4f486,63,10,17,2,24872,YumengBao,Yumeng_Bao,"Refactor v2 arq api

Users can make GET /v2/accelerator_requests request with parameters
instance_uuid and bind_state to arq.get_all API to retrieve specific arqs.
There are six possible request cases:

1.instance is not noneï¼bind_state is none
/v2/accelerator_requests?instance={instance_uuid}
2.instance is not none, bind_state=resolved
/v2/accelerator_requests?instance={instance_uuid}&bind_state=resolved
3.instance is not none, bind_state=started (raise errorï¼ARQInvalidState)
/v2/accelerator_requests?instance={instance_uuid}&bind_state=started
*Note:bind_state=started here is just an example,it can be any InvalidState
4.instance is noneï¼bind_state is none
/v2/accelerator_requests
5.instance is none, bind_state=resolved
/v2/accelerator_requests?bind_state=resolved
6.instance is none, bind_state=started (raise errorï¼ARQInvalidState)
/v2/accelerator_requests?bind_state=started
*Note:bind_state=started here is just an example,it can be any InvalidState

But case 5 is missing, this patch fixed this, added the missing case 5
and added unit test.

Change-Id: I783c3d0d257c16bf6c92c118f7b16f7f180f7026
"
openstack%2Freleases~master~Ia232a4344fbecd124229101f4e0ec88b88910073,openstack/releases,master,process,Ia232a4344fbecd124229101f4e0ec88b88910073,Add details to unreleased lib check,MERGED,2020-04-10 14:24:23.000000000,2020-04-16 09:06:37.000000000,2020-04-16 09:06:37.000000000,6,0,3,719027,2e9d9caf4aa07190015b9ca351b7fdcf4f5ebf73,9,4,1,1,11904,Sean McGinnis,SeanM,"Add details to unreleased lib check

Change-Id: Ia232a4344fbecd124229101f4e0ec88b88910073
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fmagnum~master~Ie70e5ba38799c3da17ec9a34f6990f8c2d853732,openstack/magnum,master,cluster-autoscaler,Ie70e5ba38799c3da17ec9a34f6990f8c2d853732,Build new autoscaler containers,MERGED,2020-03-25 16:27:42.000000000,2020-04-16 09:03:02.000000000,2020-04-16 09:00:56.000000000,5,4,0,714986,39ccad9cc414f0890774031c752f91b1931c6fee,15,4,3,2,28022,Bharat Kunwar,brtknr,"Build new autoscaler containers

Versions: 1.16.5, 1.17.2 and 1.18.1

Story: 2007465
Task: 39152

Change-Id: Ie70e5ba38799c3da17ec9a34f6990f8c2d853732
"
openstack%2Fmonasca-ui~master~I792c90993db19ecf4821ff45da0279658bae4719,openstack/monasca-ui,master,pyscss-fix,I792c90993db19ecf4821ff45da0279658bae4719,Fix pyScss version in lower-constraints.txt,MERGED,2020-04-01 18:21:48.000000000,2020-04-16 08:45:02.000000000,2020-04-16 08:45:02.000000000,1,1,0,716714,b1caa0128f77b3b992f09097ef752b861c19a5fc,14,5,2,1,29313,Vishal Manchanda,vishalmanchanda,"Fix pyScss version in lower-constraints.txt

Horizon requires  pyScss>=1.3.7 [1] but lower-constraints.txt
in monasca-ui uses pyScss 1.3.4 which can cause the
failure in future. So this patch update pyScss version in
lower-constraints.txt to sync the change.

[1] https://review.opendev.org/#/c/715241/

Change-Id: I792c90993db19ecf4821ff45da0279658bae4719
"
openstack%2Fpython-magnumclient~master~I61840d284b5d3a249f621822b277c9bd6825140d,openstack/python-magnumclient,master,bug/1870264,I61840d284b5d3a249f621822b277c9bd6825140d,Check response type in _extract_error_json,MERGED,2020-04-08 09:27:46.000000000,2020-04-16 08:23:33.000000000,2020-04-16 08:22:01.000000000,9,1,2,718356,c024b4fc431cbbd65ccb5b901dddb5e540e7ff41,12,5,2,2,16137,Tobias Urdin,tobasco,"Check response type in _extract_error_json

The response being passed to _extract_error_json
is assumed to be a requests.Response but can also
be a http.client.HTTPResponse.

This patch adds a try statement where it first tries
for a requests.Response and if not set falls back on
parsing the string body instead of trying to use the
json() helper function in requests.Response.

Change-Id: I61840d284b5d3a249f621822b277c9bd6825140d
Closes-Bug: 1870264
"
openstack%2Fdesignate-dashboard~master~I74b459605c2777f1f4ba1fc6be711dfcbc730480,openstack/designate-dashboard,master,zanata/translations,I74b459605c2777f1f4ba1fc6be711dfcbc730480,Imported Translations from Zanata,MERGED,2020-04-16 07:01:46.000000000,2020-04-16 08:23:17.000000000,2020-04-16 08:19:59.000000000,4,4,0,720369,6495d616ec409721b09e0d9d2e59f9202ec1d5d0,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I74b459605c2777f1f4ba1fc6be711dfcbc730480
"
openstack%2Fnova~master~If9864ed09d7f604edb8219693dd567638c746456,openstack/nova,master,bp/policy-defaults-refresh,If9864ed09d7f604edb8219693dd567638c746456,Fix server actions to be system and project scoped,MERGED,2020-04-15 03:44:48.000000000,2020-04-16 08:22:42.000000000,2020-04-16 08:19:04.000000000,35,35,1,720123,c7bfc323bcd6dbeb08951a864857d2cd2e746331,21,10,2,9,8556,Ghanshyam,ghanshyam,"Fix server actions to be system and project scoped

This is follow up for review comment:
- https://review.opendev.org/#/c/716130/1/nova/policies/migrate_server.py@46

Let's keep server actions to be both scoped but default them
to SYSTEM-ADMIN/READER and pass the project_id as target. That
way if operator want to enable those policy for project role they
should be able to do.

Also update the defaults for rescue action which found during
audit.

Partial implement blueprint policy-defaults-refresh

Change-Id: If9864ed09d7f604edb8219693dd567638c746456
"
openstack%2Fneutron~stable%2Fstein~I36a98fe5da85da1f3a0315dd1a470f062de6f38b,openstack/neutron,stable/stein,trunk_delete_delay-stable/stein,I36a98fe5da85da1f3a0315dd1a470f062de6f38b,Wait before deleting trunk bridges for DPDK vhu,MERGED,2020-04-03 21:11:37.000000000,2020-04-16 08:21:48.000000000,2020-04-16 08:19:00.000000000,3,0,0,717392,355f454747ea5f6486c45589ae7be61823b2adab,59,7,1,1,13995,Nate Johnston,natejohnston,"Wait before deleting trunk bridges for DPDK vhu

DPDK vhostuser mode (DPDK/vhu) means that when an instance is powered
off the port is deleted, and when an instance is powered on a port is
created.  This means a reboot is functionally a super fast
delete-then-create.  Neutron trunking mode in combination with DPDK/vhu
implements a trunk bridge for each tenant, and the ports for the
instances are created as subports of that bridge.  The standard way a
trunk bridge works is that when all the subports are deleted, a thread
is spawned to delete the trunk bridge, because that is an expensive and
time-consuming operation.  That means that if the port in question is
the only port on the trunk on that compute node, this happens:

1. The port is deleted
2. A thread is spawned to delete the trunk
3. The port is recreated

If the trunk is deleted after #3 happens then the instance has no
networking and is inaccessible; this is the scenario that was dealt with
in a previous change [1].  But there continue to be issues with errors
""RowNotFound: Cannot find Bridge with name=tbr-XXXXXXXX-X"".  What is
happening in this case is that the trunk is being deleted in the middle
of the execution of #3, so that it stops existing in the middle of the
port creation logic but before the port is actually recreated.

Since this is a timing issue between two different threads it's
difficult to stamp out entirely, but I think the best way to do it is to
add a slight delay in the trunk deletion thread, just a second or two.
That will give the port time to come back online and avoid the trunk
deletion entirely.

[1] https://review.opendev.org/623275

Related-Bug: #1869244
Change-Id: I36a98fe5da85da1f3a0315dd1a470f062de6f38b
(cherry picked from commit e37722c0f5f0b746135200db6f654674dc0f6f12)
"
openstack%2Fheat~master~I3f6f05d489e8d7d40e0223aad81b415d151a01df,openstack/heat,master,zanata/translations,I3f6f05d489e8d7d40e0223aad81b415d151a01df,Imported Translations from Zanata,MERGED,2020-04-11 07:52:30.000000000,2020-04-16 08:17:41.000000000,2020-04-16 08:13:24.000000000,8,2,0,719149,29ebdabd92ab2221a194da5bc89563929a710ada,8,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3f6f05d489e8d7d40e0223aad81b415d151a01df
"
openstack%2Fheat~master~Ifdceb855affcfccb07dbe415ee4b140d3a0355ee,openstack/heat,master,sg-srv-side-project-filter,Ifdceb855affcfccb07dbe415ee4b140d3a0355ee,Filter by project id in list_security_groups,MERGED,2020-03-27 11:51:34.000000000,2020-04-16 08:15:33.000000000,2020-04-16 08:13:17.000000000,8,33,1,715402,fe55842f72072028d0cad49acc3ce83f8edc347b,17,3,3,3,9542,Pavlo Shchelokovskyy,pshchelo,"Filter by project id in list_security_groups

this utilizes server-side filtering and makes requests issued
on behalf of admin user (who otherwise sees all SGs) much faster,
avoiding unnecessary failures due to timeouts.

Change-Id: Ifdceb855affcfccb07dbe415ee4b140d3a0355ee
Story: 2007473
Task: 39168
"
openstack%2Fpython-magnumclient~master~Iee00de054c1e0447e0ec33a05d1004242264808d,openstack/python-magnumclient,master,update-hacking,Iee00de054c1e0447e0ec33a05d1004242264808d,Update to hacking 3.0,MERGED,2020-03-30 15:40:57.000000000,2020-04-16 08:15:29.000000000,2020-04-16 08:14:04.000000000,1,1,0,715985,b89a4311bd1098c6c8d481c8a07af43c9def3f21,11,9,1,1,6547,Andreas Jaeger,jaegerandi,"Update to hacking 3.0

Hacking 3.0 was just released with minor changes, update to the new
version.

Change-Id: Iee00de054c1e0447e0ec33a05d1004242264808d
"
openstack%2Fheat~master~I48685d7c791d98db83a7cbcf4ef926ee25ca62a4,openstack/heat,master,integration-config,I48685d7c791d98db83a7cbcf4ef926ee25ca62a4,Fix genconfig tox env,MERGED,2020-02-06 08:20:26.000000000,2020-04-16 08:13:22.000000000,2020-04-16 08:13:22.000000000,4,8,0,706193,31ea2fcde16bbc7b54bd46741b09b18759e14ce5,21,3,3,3,9542,Pavlo Shchelokovskyy,pshchelo,"Fix genconfig tox env

we no longer keep configuration for in-repo integration tests in the
repo, relying on heat-tempest-plugin instead.

As a result, currently the `tox -egenconfig` is broken as it tries to
generate config sample calling non-existing config.py module.

Change-Id: I48685d7c791d98db83a7cbcf4ef926ee25ca62a4
"
openstack%2Fnova~master~I84a64d6327e391a58d41263e49c9c0d00de88335,openstack/nova,master,bp/policy-defaults-refresh,I84a64d6327e391a58d41263e49c9c0d00de88335,Pass the actual target in server migration policy,MERGED,2020-04-05 10:19:34.000000000,2020-04-16 08:07:52.000000000,2020-04-08 11:51:06.000000000,64,10,0,717591,6d9dbddeb40b4ee59f7090062b5904c8d1503a79,35,11,3,2,8556,Ghanshyam,ghanshyam,"Pass the actual target in server migration policy

Currently if target is not passed in context.can(),
it use defauls target which is context.user_id, context.project_id.
These defaults target are not useful as it pass the
context's user_id and project_id only which means we tell
oslo policy to verify the context data with context data.

This commit pass the actual target for server  migration policies
which is server project_id because policy rule is system and
project scoped.

Adding tests also to show that rule can be override with project
roles.

Partial implement blueprint policy-defaults-refresh

Change-Id: I84a64d6327e391a58d41263e49c9c0d00de88335
"
openstack%2Ffreezer-specs~master~I8a4475e751bb4150215657e45441f0f0fb7158d6,openstack/freezer-specs,master,,I8a4475e751bb4150215657e45441f0f0fb7158d6,Cap sphinx for py2 to match global requirements,ABANDONED,2019-06-07 02:34:10.000000000,2020-04-16 07:58:08.000000000,,2,1,0,663825,4dcb5dc457fcb2ff02ae1144ef116e3e0ce203ec,5,3,1,1,30384,zhangboye,zhangboye,"Cap sphinx for py2 to match global requirements

Change-Id: I8a4475e751bb4150215657e45441f0f0fb7158d6
"
openstack%2Fnova~master~Iace92c9fc956881d69d3495f00229bac0e0cdbee,openstack/nova,master,bp/policy-defaults-refresh,Iace92c9fc956881d69d3495f00229bac0e0cdbee,Add new default roles in os-flavor_manage policies,MERGED,2020-03-25 03:18:11.000000000,2020-04-16 07:57:01.000000000,2020-04-07 17:46:05.000000000,11,3,0,714819,35979b3ce08bff229243e620d2755a1d4d3e5f58,24,11,2,2,8556,Ghanshyam,ghanshyam,"Add new default roles in os-flavor_manage policies

This adds new defaults roles in os-flavor_manage API policies.
This policy is default to SYSTEM_ADMIN role.

Also add tests to simulates the future where we drop the deprecation
fall back in the policy by overriding the rules with a version where
there are no deprecated rule options. Operators can do the same by
adding overrides in their policy files that match the default but
stop the rule deprecation fallback from happening.

Partial implement blueprint policy-defaults-refresh

Change-Id: Iace92c9fc956881d69d3495f00229bac0e0cdbee
"
openstack%2Fheat~master~Ia40055600146366ef2509ac032ac954ed11c6960,openstack/heat,master,sphinx-term-case-sensitive,Ia40055600146366ef2509ac032ac954ed11c6960,Use case sensitive glossary term references,ABANDONED,2020-04-15 12:24:01.000000000,2020-04-16 07:53:35.000000000,,54,50,0,720191,67b22903687e9c6f0060373703d44091fbf28803,6,3,1,1,15554,Bence Romsics,ebenrom,"Use case sensitive glossary term references

Sphinx 3.0.1 (released 2020-04-11) made an incompatible change
and turned the term role case sensitive:

https://www.sphinx-doc.org/en/master/changes.html#release-3-0-1-released-apr-11-2020

This change turns all term references into case sensitive
and by that fixes master's currently broken openstack-tox-docs job.

Change-Id: Ia40055600146366ef2509ac032ac954ed11c6960
"
openstack%2Fmanila-ui~master~I68003fafff5558ddb5a06b4aa0a2390c56064fe3,openstack/manila-ui,master,zanata/translations,I68003fafff5558ddb5a06b4aa0a2390c56064fe3,Imported Translations from Zanata,MERGED,2020-04-16 06:48:38.000000000,2020-04-16 07:52:23.000000000,2020-04-16 07:50:04.000000000,49,124,0,720365,33e7cb0d439ec6ccdf00444e82578cb7b2bce690,7,2,1,5,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I68003fafff5558ddb5a06b4aa0a2390c56064fe3
"
openstack%2Fpython-swiftclient~master~I31d3aaa6d54e073b18c83d3881c202369f248c67,openstack/python-swiftclient,master,,I31d3aaa6d54e073b18c83d3881c202369f248c67,Stop testing python2.7,ABANDONED,2019-10-28 06:47:24.000000000,2020-04-16 07:43:19.000000000,,1,3,0,691608,b2c67b39a6f34c6615cc1f618abd4bf606f9af99,4,2,1,2,30384,zhangboye,zhangboye,"Stop testing python2.7

Change-Id: I31d3aaa6d54e073b18c83d3881c202369f248c67
"
openstack%2Ftripleo-ansible~master~I2644e5a75abf94b3150011956bad9304e0de7cdb,openstack/tripleo-ansible,master,bug/1871347,I2644e5a75abf94b3150011956bad9304e0de7cdb,Allow passwords to be reset (force rotated),MERGED,2020-04-07 10:56:52.000000000,2020-04-16 07:42:54.000000000,2020-04-16 07:42:54.000000000,3,2,5,718055,4349466878b52a233abef64a1904a9bc3ce63f4c,27,9,1,1,6926,Bogdan Dobrelya,bogdando,"Allow passwords to be reset (force rotated)

Sometimes, passwords has to be force-updated. Allow
doing that via cli-update-deployment-plan playbook.

Related-Bug: #1871347

Change-Id: I2644e5a75abf94b3150011956bad9304e0de7cdb
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fos-testr~master~Iaaf09f74727261199aa539c7030e94c2c4257ae5,openstack/os-testr,master,,Iaaf09f74727261199aa539c7030e94c2c4257ae5,Stop testing python2.7,ABANDONED,2019-10-28 06:08:31.000000000,2020-04-16 07:40:25.000000000,,1,3,0,691592,8527ad709683c9bb8bf034369788a48bb7e27139,6,3,1,2,30384,zhangboye,zhangboye,"Stop testing python2.7

Change-Id: Iaaf09f74727261199aa539c7030e94c2c4257ae5
"
openstack%2Fmasakari~master~I21f0aa1499e11fb3b1722b66f7ee1baf1d83ab62,openstack/masakari,master,,I21f0aa1499e11fb3b1722b66f7ee1baf1d83ab62,Stop testing python2.7,ABANDONED,2019-10-28 06:05:29.000000000,2020-04-16 07:40:15.000000000,,1,3,0,691591,be48f439aa57eec36cdff05cfd7180d1530f4a6a,6,4,1,2,30384,zhangboye,zhangboye,"Stop testing python2.7

Change-Id: I21f0aa1499e11fb3b1722b66f7ee1baf1d83ab62
"
openstack%2Frally-openstack~master~I5b730323a3bbc1a865fd4e5b3db13cef5b253520,openstack/rally-openstack,master,,I5b730323a3bbc1a865fd4e5b3db13cef5b253520,Stop testing python2.7,ABANDONED,2019-10-28 05:42:25.000000000,2020-04-16 07:40:05.000000000,,1,3,0,691583,e15f07242f8648196a7cfa52158cbb159475fec6,5,3,1,2,30384,zhangboye,zhangboye,"Stop testing python2.7

Change-Id: I5b730323a3bbc1a865fd4e5b3db13cef5b253520
"
openstack%2Fopenstack-health~master~I2dc271cce16d0f576a7adc1dcaf75b04bb5940d4,openstack/openstack-health,master,,I2dc271cce16d0f576a7adc1dcaf75b04bb5940d4,Switch to Ussuri jobs,ABANDONED,2019-10-25 06:18:24.000000000,2020-04-16 07:39:52.000000000,,1,1,0,691201,45f695641a3e321536ce5ae518ea7cc249dc054f,3,1,1,1,30384,zhangboye,zhangboye,"Switch to Ussuri jobs

Change-Id: I2dc271cce16d0f576a7adc1dcaf75b04bb5940d4
"
openstack%2Fnova~master~I178d619d54d50c9a3d615879e40ab8359f4227b6,openstack/nova,master,bp/policy-defaults-refresh,I178d619d54d50c9a3d615879e40ab8359f4227b6,Pass the actual target in flavor access policy,MERGED,2020-04-13 16:59:01.000000000,2020-04-16 07:38:12.000000000,2020-04-16 07:34:05.000000000,2,2,2,719607,c375b541a5fd40507ff63de0a804babdcd5db46c,32,10,2,1,8556,Ghanshyam,ghanshyam,"Pass the actual target in flavor access policy

Currently if target is not passed in context.can(),
it use defauls target which is context.user_id, context.project_id.
These defaults target are not useful as it pass the
context's user_id and project_id only which means we tell
oslo policy to verify the context data with context data.

This commit pass the actual target for flavor access policies
which is empty dict for policy with system scoped and context project_id
for GET which is system and project scoped.

Partial implement blueprint policy-defaults-refresh

Change-Id: I178d619d54d50c9a3d615879e40ab8359f4227b6
"
openstack%2Fopenstack-health~master~I6f92f3ad38adb1c9231cc0ad6cea140a916f0bf4,openstack/openstack-health,master,,I6f92f3ad38adb1c9231cc0ad6cea140a916f0bf4,Stop testing python2.7,ABANDONED,2019-10-28 04:58:04.000000000,2020-04-16 07:32:25.000000000,,1,3,0,691577,8b31bb6b0cb62747327560b36c7d28e7f01f3be8,4,2,1,2,30384,zhangboye,zhangboye,"Stop testing python2.7

Change-Id: I6f92f3ad38adb1c9231cc0ad6cea140a916f0bf4
"
openstack%2Fvalidations-libs~master~I964508a955783b5600618d4854efe67ff06298cb,openstack/validations-libs,master,fix/run/playbooks,I964508a955783b5600618d4854efe67ff06298cb,Declare playbooks for groups execution,MERGED,2020-04-09 14:16:44.000000000,2020-04-16 07:32:05.000000000,2020-04-16 07:32:05.000000000,1,1,0,718711,f3c29b6e56540a784792892713c68f1dd74c7f3a,14,5,1,1,16515,mbu,matbu,"Declare playbooks for groups execution

When running group validation, the playbooks list
is not set before so we need to fix that.

Change-Id: I964508a955783b5600618d4854efe67ff06298cb
"
openstack%2Fvalidations-libs~master~Ib8fdcb2d224dca0b07d87c41b4998cd9159778af,openstack/validations-libs,master,ansible/limit/host,Ib8fdcb2d224dca0b07d87c41b4998cd9159778af,Expose limit hosts option to the validation run actions,MERGED,2020-04-09 08:04:17.000000000,2020-04-16 07:32:04.000000000,2020-04-16 07:32:04.000000000,3,1,0,718610,88e0b0a21276c0464bf4930bf630806fae5657ee,14,5,1,1,16515,mbu,matbu,"Expose limit hosts option to the validation run actions

Change-Id: Ib8fdcb2d224dca0b07d87c41b4998cd9159778af
"
openstack%2Faodh~master~If63d8ab56a5e520abf515429d9b88bb942bb49e0,openstack/aodh,master,zanata/translations,If63d8ab56a5e520abf515429d9b88bb942bb49e0,Imported Translations from Zanata,MERGED,2020-04-16 06:52:47.000000000,2020-04-16 07:28:04.000000000,2020-04-16 07:25:59.000000000,4,4,0,720367,e0f7a2b5835901903543a40651bb0f744bf9ce77,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If63d8ab56a5e520abf515429d9b88bb942bb49e0
"
openstack%2Fstorlets~master~Icc299025a1871056a8722d5bd9fb87d2094ea210,openstack/storlets,master,py27,Icc299025a1871056a8722d5bd9fb87d2094ea210,"Revert ""Use SBusClient for execute command""",ABANDONED,2020-04-16 06:45:22.000000000,2020-04-16 07:20:44.000000000,,282,346,0,720364,66de6064f0f49ebe1a32e08605e3d6c752403d6b,3,1,1,19,9816,Takashi Kajinami,kajinamit,"Revert ""Use SBusClient for execute command""

This reverts commit 826be15b6a2d093a9ad7054699950139030629e5.

Change-Id: Icc299025a1871056a8722d5bd9fb87d2094ea210
"
openstack%2Fmagnum~stable%2Ftrain~I67a4eefdd9b11889b232a0d0a385087f98d3e85e,openstack/magnum,stable/train,logging-stable/train,I67a4eefdd9b11889b232a0d0a385087f98d3e85e,fcos: Disable zincati auto-updates,MERGED,2020-04-04 03:24:50.000000000,2020-04-16 07:11:01.000000000,2020-04-16 07:08:53.000000000,26,0,0,717428,56f3be8bcf42e7772385e843355a5963705e9f2b,29,6,1,2,6484,Feilong Wang,flwang,"fcos: Disable zincati auto-updates

By default FCOS auto-updates nodes which causes
reboots as well. Disable the auto-update functionallity.

docs: https://github.com/coreos/zincati/blob/0.0.6/docs/usage/auto-updates.md#disabling-auto-updates

story: 2005201
task: 39029

Change-Id: I67a4eefdd9b11889b232a0d0a385087f98d3e85e
Signed-off-by: Spyros Trigazis <strigazi@gmail.com>
(cherry picked from commit 744fff3a47500345e34e5c0c466f30c9cc77afb7)
"
openstack%2Fkolla~master~I4541c3c070ca70a2ee62f2a0e4ac5d70c57ca6e9,openstack/kolla,master,bug/1872432,I4541c3c070ca70a2ee62f2a0e4ac5d70c57ca6e9,Fix that the cyborg database init failed.,MERGED,2020-04-13 10:03:18.000000000,2020-04-16 07:05:02.000000000,2020-04-14 13:25:57.000000000,1,1,0,719431,43de719c3ac17085423b381e5938d1bf83e3ff65,11,4,1,1,27614,ya.wang,ya.wang,"Fix that the cyborg database init failed.

The database init command should be 'cyborg-dbsync upgrade'.

Change-Id: I4541c3c070ca70a2ee62f2a0e4ac5d70c57ca6e9
Closes-bug: #1872432
"
openstack%2Fnova~master~I12b99489567ee0c26a923670802fd058e7601492,openstack/nova,master,bp/policy-defaults-refresh,I12b99489567ee0c26a923670802fd058e7601492,Introduce scope_types in os-flavor-manage,MERGED,2020-03-25 03:02:26.000000000,2020-04-16 06:56:13.000000000,2020-04-07 17:38:23.000000000,30,15,0,714818,c1b78934b54ee5434d4c41efaea4e496f196ad24,24,11,2,2,8556,Ghanshyam,ghanshyam,"Introduce scope_types in os-flavor-manage

oslo.policy introduced the scope_type feature which can
control the access level at system-level and project-level.
 - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope
 - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for os-flavor-manage API policies
as 'system'.

Also adds the test case with scope_type enabled and verify we
pass and fail the policy check with expected context.

Partial implement blueprint policy-defaults-refresh

Change-Id: I12b99489567ee0c26a923670802fd058e7601492
"
openstack%2Fnova~master~I063ad8a9979bc1b0e658a9c80373f290cd35a27d,openstack/nova,master,bp/policy-defaults-refresh,I063ad8a9979bc1b0e658a9c80373f290cd35a27d,Introduce scope_types in suspend server,MERGED,2020-04-05 08:47:02.000000000,2020-04-16 06:53:54.000000000,2020-04-07 18:32:40.000000000,12,10,0,717582,a9fa083dac9e3c5aff582854f84b30381760dc2a,19,10,1,1,8556,Ghanshyam,ghanshyam,"Introduce scope_types in suspend server

oslo.policy introduced the scope_type feature which can
control the access level at system-level and project-level.
 - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope
 - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for suspend server API policies
as 'system' and 'project'.

Also adds the test case with scope_type enabled and verify we
pass and fail the policy check with expected context.

Partial implement blueprint policy-defaults-refresh

Change-Id: I063ad8a9979bc1b0e658a9c80373f290cd35a27d
"
openstack%2Fcongress-dashboard~master~If3c2ee5dd4293c8884e6c4084e8ec5c08c170bf9,openstack/congress-dashboard,master,pyscss-fix,If3c2ee5dd4293c8884e6c4084e8ec5c08c170bf9,Fix pyScss version in lower-constraints.txt,MERGED,2020-04-01 18:21:56.000000000,2020-04-16 06:53:02.000000000,2020-04-16 06:50:41.000000000,1,1,0,716718,e298ddce8a91bb88a2b8ef15777eed02e23c7365,9,4,1,1,29313,Vishal Manchanda,vishalmanchanda,"Fix pyScss version in lower-constraints.txt

Horizon requires  pyScss>=1.3.7 [1] but lower-constraints.txt
in congress-dashboard uses pyScss 1.3.4 which can cause the
failure in future. So this patch update pyScss version in
lower-constraints.txt to sync the change.

[1] https://review.opendev.org/#/c/715241/

Change-Id: If3c2ee5dd4293c8884e6c4084e8ec5c08c170bf9
"
openstack%2Fmagnum~stable%2Ftrain~I027498339c86206eb37addbeabb46a6ca5e17271,openstack/magnum,stable/train,story/2007488-39305,I027498339c86206eb37addbeabb46a6ca5e17271,Remove python2 jobs,ABANDONED,2020-04-05 05:44:54.000000000,2020-04-16 06:51:20.000000000,,0,2,0,717529,5673216bf91f21e16ef58ad8b65caa311bd7e949,14,8,1,1,6484,Feilong Wang,flwang,"Remove python2 jobs

Task: 39305
Story: 2007488

Change-Id: I027498339c86206eb37addbeabb46a6ca5e17271
"
openstack%2Fstorlets~master~I9354d7df49b872fc41d9fca3d9e13b21f42b6f00,openstack/storlets,master,py27,I9354d7df49b872fc41d9fca3d9e13b21f42b6f00,Skip TestPartitionsIdentityStorlet,ABANDONED,2020-04-16 06:07:07.000000000,2020-04-16 06:49:09.000000000,,1,0,0,720354,64b5582da0a0ae86a1ed880b2d311acae6ad65b1,3,1,1,1,9816,Takashi Kajinami,kajinamit,"Skip TestPartitionsIdentityStorlet

... because now it breaks functional test jobs on py2.

Change-Id: I9354d7df49b872fc41d9fca3d9e13b21f42b6f00
"
openstack%2Fneutron~stable%2Fstein~I2fec6015b56fd1b5d21b75f7432c40b2110fe6bc,openstack/neutron,stable/stein,bug/1799555-stable/train-stable/stein,I2fec6015b56fd1b5d21b75f7432c40b2110fe6bc,Increase waiting time for network rescheduling,MERGED,2020-04-07 20:18:59.000000000,2020-04-16 06:36:46.000000000,2020-04-16 06:34:08.000000000,1,1,0,718211,5f8371357192b3e0cb2b6388fb17561bb1cd2212,14,5,1,1,11975,Slawek Kaplonski,slaweq,"Increase waiting time for network rescheduling

Increate waiting time in ""test_reschedule_network_on_new_agent"", when
the network is being rescheduled from a dead DHCP agent to an running
one.

According to [1], 120 seconds could be a convervative and enough value
to wait for this transition.

[1] https://bugs.launchpad.net/neutron/+bug/1799555/comments/23

Change-Id: I2fec6015b56fd1b5d21b75f7432c40b2110fe6bc
Related-Bug: #1799555
(cherry picked from commit d15ad2e481b9b888079d55ba46d73ca5b7253285)
"
openstack%2Fneutron-tempest-plugin~master~I8ceb44bdbde2e7b45f59797f7429503e48643695,openstack/neutron-tempest-plugin,master,reuse_fip_addresses,I8ceb44bdbde2e7b45f59797f7429503e48643695,Add test_reuse_ip_address_with_other_fip...,MERGED,2019-04-02 19:37:19.000000000,2020-04-16 06:34:12.000000000,2020-04-16 06:34:12.000000000,133,0,34,649435,29c2dff30000abf364f4a4f5b12cd8d459bd763a,48,8,11,2,29350,Roman Safronov,rsafrono,"Add test_reuse_ip_address_with_other_fip...

Reuse IP address that was already used by another floating IP
on another router.
The test intended to verify that ARP responder functionality
works properly on (dis)associating a FIP.
The scenario will pass only in case corresponding ARP update
was sent to the external network.

Change-Id: I8ceb44bdbde2e7b45f59797f7429503e48643695
"
openstack%2Fcinder~master~I2fe0cb0950385cdf991adfa225f97ad087a0df28,openstack/cinder,master,,I2fe0cb0950385cdf991adfa225f97ad087a0df28,Fix arguments order inside assertEqual,MERGED,2020-04-15 16:45:29.000000000,2020-04-16 06:31:21.000000000,2020-04-15 20:00:17.000000000,1,1,0,720241,17c07c1dcd948fa6798e5f10d72649af37cc047a,26,19,1,1,20813,Sofia Enriquez,enriquetaso,"Fix arguments order inside assertEqual

One trivial thing that would be nice to clean up,
assertEqual argument order should be (EXPECTED, ACTUAL).

Change-Id: I2fe0cb0950385cdf991adfa225f97ad087a0df28
"
openstack%2Fheat-dashboard~stable%2Fstein~I818d70bb0645ebc49ba2d72c3f84ea6bd94b0f36,openstack/heat-dashboard,stable/stein,,I818d70bb0645ebc49ba2d72c3f84ea6bd94b0f36,[DNM] Testing CI,ABANDONED,2020-04-07 05:21:16.000000000,2020-04-16 06:27:37.000000000,,1,0,0,717951,fac6a3faa68ec67a9b684be61413750e3174cdac,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Testing CI

Change-Id: I818d70bb0645ebc49ba2d72c3f84ea6bd94b0f36
"
openstack%2Fpython-tripleoclient~master~If7a68e83ae1761cc86e67efc2b6082a6fb0f7b98,openstack/python-tripleoclient,master,mistral_to_ansible,If7a68e83ae1761cc86e67efc2b6082a6fb0f7b98,Fix config_download() to handle multiple playbooks,ABANDONED,2020-04-15 12:08:42.000000000,2020-04-16 06:14:57.000000000,,46,39,0,720189,4e5ac4a81f7bf551d1ef07e2d50eda8ae7f87aea,9,4,3,8,8833,Rabi Mishra,rabi,"Fix config_download() to handle multiple playbooks

run_ansible_playbook() only supports 'playbook' as string.
However, as part of upgrade we're expected to run multiple
config-download playbooks.

This seems broken after we moved to use ansible-runner

Change-Id: If7a68e83ae1761cc86e67efc2b6082a6fb0f7b98
"
openstack%2Fheat~master~I2f3ee94424c4dab75fbcef6f8b32e565b45684e4,openstack/heat,master,story/2006403,I2f3ee94424c4dab75fbcef6f8b32e565b45684e4,Add ironic client plugin support,MERGED,2019-09-05 08:06:23.000000000,2020-04-16 06:09:03.000000000,2020-04-16 06:03:52.000000000,178,0,8,680311,5b35225d16eb91edde72c3684887ad6f8b226a85,32,6,5,9,12404,Rico Lin,rico.lin,"Add ironic client plugin support

Change-Id: I2f3ee94424c4dab75fbcef6f8b32e565b45684e4
Task: 36285
"
openstack%2Fheat~master~Ic2b9387efa9c98f8720d471f653cf55530cfc19b,openstack/heat,master,fix-low-contraint,Ic2b9387efa9c98f8720d471f653cf55530cfc19b,Sync lower contraint with test-requirement,MERGED,2020-04-09 03:34:18.000000000,2020-04-16 06:06:25.000000000,2020-04-16 06:03:50.000000000,1,0,0,718597,6a2a4000b99d0e87867e12627bcfc164080dd41a,9,4,1,1,12404,Rico Lin,rico.lin,"Sync lower contraint with test-requirement

Change-Id: Ic2b9387efa9c98f8720d471f653cf55530cfc19b
"
openstack%2Fnova~master~I325ee0f197b5834718e86d9462b84882dd487f6a,openstack/nova,master,bp/policy-defaults-refresh,I325ee0f197b5834718e86d9462b84882dd487f6a,Add new default roles in server migration policies,MERGED,2020-04-05 10:02:26.000000000,2020-04-16 06:04:44.000000000,2020-04-08 11:50:30.000000000,62,10,0,717590,bc9a97bb2a638392f4d45fbc0c4d8207c127661d,38,11,4,4,8556,Ghanshyam,ghanshyam,"Add new default roles in server migration policies

This adds new defaults roles in server migration API policies.
This policy is default to SYSTEM_ADMIN for POST and SYSTEM_READER
for GET policy.

Also add tests to simulates the future where we drop the deprecation
fall back in the policy by overriding the rules with a version where
there are no deprecated rule options. Operators can do the same by
adding overrides in their policy files that match the default but
stop the rule deprecation fallback from happening.

Partial implement blueprint policy-defaults-refresh

Change-Id: I325ee0f197b5834718e86d9462b84882dd487f6a
"
openstack%2Fnova~master~Ic983b6b1ab66874efff78f36ee02584b8d98410d,openstack/nova,master,bp/policy-defaults-refresh,Ic983b6b1ab66874efff78f36ee02584b8d98410d,Add test coverage of existing server migrations policies,MERGED,2020-04-05 06:07:20.000000000,2020-04-16 05:59:16.000000000,2020-04-08 11:49:26.000000000,109,58,0,717531,d4ebedf8fe1d98263ae1d6ffe312fcae77daa15f,27,10,2,2,8556,Ghanshyam,ghanshyam,"Add test coverage of existing server migrations policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

For Example, if any policy with default rule as admin only then
test should verify:
- policy check pass with context having admin or server owner
- policy check fail with context having non-admin and not server owner

As discussed in policy-defaults-refresh, to change the policies
with new default roles and scope_type, we need to have the enough
testing coverage of existing policy behavior.

When we will add the scope_type in policies or new default roles,
then these test coverage will be extended to adopt the new changes
and also make sure we do not break the existing behavior.

This commit covers the testing coverage of existing server
migrations policies.

Partial implement blueprint policy-defaults-refresh

Change-Id: Ic983b6b1ab66874efff78f36ee02584b8d98410d
"
openstack%2Fproject-config~master~I9df6b2bd8660cd24d8408d9753184564276ca98f,openstack/project-config,master,UPPER_CONSTRAINTS,I9df6b2bd8660cd24d8408d9753184564276ca98f,Use TOX_CONSTRAINTS_FILE in release script,MERGED,2020-04-15 18:48:55.000000000,2020-04-16 05:58:28.000000000,2020-04-16 05:58:28.000000000,2,2,1,720265,d8c444319b679823f2e549b2781c17a28923df95,12,4,3,1,6547,Andreas Jaeger,jaegerandi,"Use TOX_CONSTRAINTS_FILE in release script

UPPER_CONSTRAINTS_FILE is deprecatedi[1], use the newer
TOX_CONSTRAINTS_FILE instead when creating new master versions.

[1]
https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: I9df6b2bd8660cd24d8408d9753184564276ca98f
"
openstack%2Fnova~master~I50ec3d71658d6d18f81760b6233a67821b4abcaa,openstack/nova,master,bp/policy-defaults-refresh,I50ec3d71658d6d18f81760b6233a67821b4abcaa,Introduce scope_types in server migration,MERGED,2020-04-05 09:49:28.000000000,2020-04-16 05:55:08.000000000,2020-04-08 11:50:20.000000000,26,20,0,717588,02d4adae711fe0857ee2214a8af937b8e56a6af4,44,12,2,1,8556,Ghanshyam,ghanshyam,"Introduce scope_types in server migration

oslo.policy introduced the scope_type feature which can
control the access level at system-level and project-level.
 - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope
 - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for server migration API policies
as 'system' and 'project'.

Also adds the test case with scope_type enabled and verify we
pass and fail the policy check with expected context.

Partial implement blueprint policy-defaults-refresh

Change-Id: I50ec3d71658d6d18f81760b6233a67821b4abcaa
"
openstack%2Fproject-config~master~Ib8464bad02c04f3701e1efc6e555daec61e7a502,openstack/project-config,master,linaro-build-mirror,Ib8464bad02c04f3701e1efc6e555daec61e7a502,nb03: use linaro-us mirror,MERGED,2020-04-16 04:51:39.000000000,2020-04-16 05:51:38.000000000,2020-04-16 05:49:19.000000000,4,4,0,720342,7665371208b737aa671ecdc96afa309f34f8bb03,8,3,1,1,7118,Ian Wienand,iwienand,"nb03: use linaro-us mirror

We moved this builder into the linaro-us region, but didn't update
this mirror.

Change-Id: Ib8464bad02c04f3701e1efc6e555daec61e7a502
"
openstack%2Fnova~master~Ida7d9f5e26f8456f63b79a3247c1bbf9016e532e,openstack/nova,master,bp/policy-defaults-refresh,Ida7d9f5e26f8456f63b79a3247c1bbf9016e532e,Add test coverage of existing flavor_manage policies,MERGED,2020-03-25 02:44:45.000000000,2020-04-16 05:50:43.000000000,2020-04-07 16:27:31.000000000,106,58,0,714814,d52b1278bfde983fead9737233437248af49e72a,31,11,4,2,8556,Ghanshyam,ghanshyam,"Add test coverage of existing flavor_manage policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

For Example, if any policy with default rule as admin only then
test should verify:
- policy check pass with context having admin or server owner
- policy check fail with context having non-admin and not server owner

As discussed in policy-defaults-refresh [1], to change the policies
with new default roles and scope_type, we need to have the enough
testing coverage of existing policy behavior.

When we will add the scope_type in policies or new default roles,
then these test coverage will be extended to adopt the new changes
and also make sure we do not break the existing behavior.

This commit covers the testing coverage of existing flavor_manage policies.

Partial implement blueprint policy-defaults-refresh

[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing

Change-Id: Ida7d9f5e26f8456f63b79a3247c1bbf9016e532e
"
openstack%2Fnova~master~I143e18d4944a3e2b9c6cd46d0bd1af1ac8388e9d,openstack/nova,master,bp/policy-defaults-refresh,I143e18d4944a3e2b9c6cd46d0bd1af1ac8388e9d,Add new default roles in suspend server policies,MERGED,2020-04-05 08:52:44.000000000,2020-04-16 05:48:07.000000000,2020-04-07 18:32:47.000000000,26,2,0,717583,299832cb893a096c33d01b8b95e3b321bd43e249,14,9,1,2,8556,Ghanshyam,ghanshyam,"Add new default roles in suspend server policies

This adds new defaults roles in suspend server API policies.
This policy is default to PROJECT_MEMBER_OR_SYSTEM_ADMIN role.

Also add tests to simulates the future where we drop the deprecation
fall back in the policy by overriding the rules with a version where
there are no deprecated rule options. Operators can do the same by
adding overrides in their policy files that match the default but
stop the rule deprecation fallback from happening.

Partial implement blueprint policy-defaults-refresh

Change-Id: I143e18d4944a3e2b9c6cd46d0bd1af1ac8388e9d
"
openstack%2Fneutron~stable%2Fqueens~I2fec6015b56fd1b5d21b75f7432c40b2110fe6bc,openstack/neutron,stable/queens,bug/1799555-stable/train-stable/stein-stable/rocky-stable/queens,I2fec6015b56fd1b5d21b75f7432c40b2110fe6bc,Increase waiting time for network rescheduling,MERGED,2020-04-07 20:19:28.000000000,2020-04-16 05:46:53.000000000,2020-04-16 05:46:53.000000000,1,1,0,718213,f2298815a2c87b2539c16ea10cf86e9576e944f1,12,6,1,1,11975,Slawek Kaplonski,slaweq,"Increase waiting time for network rescheduling

Increate waiting time in ""test_reschedule_network_on_new_agent"", when
the network is being rescheduled from a dead DHCP agent to an running
one.

According to [1], 120 seconds could be a convervative and enough value
to wait for this transition.

[1] https://bugs.launchpad.net/neutron/+bug/1799555/comments/23

Change-Id: I2fec6015b56fd1b5d21b75f7432c40b2110fe6bc
Related-Bug: #1799555
(cherry picked from commit d15ad2e481b9b888079d55ba46d73ca5b7253285)
"
openstack%2Fneutron~stable%2Frocky~I2fec6015b56fd1b5d21b75f7432c40b2110fe6bc,openstack/neutron,stable/rocky,bug/1799555-stable/train-stable/stein-stable/rocky,I2fec6015b56fd1b5d21b75f7432c40b2110fe6bc,Increase waiting time for network rescheduling,MERGED,2020-04-07 20:19:15.000000000,2020-04-16 05:46:50.000000000,2020-04-16 05:46:50.000000000,1,1,0,718212,89f5193f4a5f0a707474eb604bcfbba120db0d45,15,5,1,1,11975,Slawek Kaplonski,slaweq,"Increase waiting time for network rescheduling

Increate waiting time in ""test_reschedule_network_on_new_agent"", when
the network is being rescheduled from a dead DHCP agent to an running
one.

According to [1], 120 seconds could be a convervative and enough value
to wait for this transition.

[1] https://bugs.launchpad.net/neutron/+bug/1799555/comments/23

Change-Id: I2fec6015b56fd1b5d21b75f7432c40b2110fe6bc
Related-Bug: #1799555
(cherry picked from commit d15ad2e481b9b888079d55ba46d73ca5b7253285)
"
openstack%2Fneutron~stable%2Fqueens~Ic21089adfa32dbf5d0e29a89713e6e2bf28f0f05,openstack/neutron,stable/queens,bug/1870114-stable/queens,Ic21089adfa32dbf5d0e29a89713e6e2bf28f0f05,Add trunk subports to be one of dvr serviced device owners,MERGED,2020-04-05 19:43:47.000000000,2020-04-16 05:46:47.000000000,2020-04-16 05:46:47.000000000,3,1,0,717629,d5fa72c2ae7947803781fb466514242a881e1a6c,17,5,2,1,11975,Slawek Kaplonski,slaweq,"Add trunk subports to be one of dvr serviced device owners

When ""trunk:subport"" wasn't added to the list of device owners which
are supported by dvr, there was no proper config in br-int's openflow
rules for such port, e.g. there was no dvr_to_src_mac rule in table 1
added and traffic from such port was never going through br-int.

Trunk ports should be added to this dvr serviced device owners list and
that patch is adding it there.

Conflicts:
    neutron/common/utils.py

Change-Id: Ic21089adfa32dbf5d0e29a89713e6e2bf28f0f05
Closes-Bug: #1870114
(cherry picked from commit d0a16522272bce64bceca1ccdb8d98a38d953cf5)
"
openstack%2Fnova~master~Ia327ebeb6ccf434d12df6a61fbd9ab9f5cf6d04f,openstack/nova,master,bp/policy-defaults-refresh,Ia327ebeb6ccf434d12df6a61fbd9ab9f5cf6d04f,Fix server metadata policy to be admin_or_owner,MERGED,2020-04-03 06:50:34.000000000,2020-04-16 05:44:28.000000000,2020-04-08 19:32:18.000000000,30,18,1,717189,e097dbdbb8c1d236e3ca7930a6aa8bc42a54731b,55,12,3,2,8556,Ghanshyam,ghanshyam,"Fix server metadata policy to be admin_or_owner

unlock server API policy is default to admin_or_owner[1] but API
is allowed for everyone.

We can see the test trying with other project context can access the API
- https://review.opendev.org/#/c/717182/

This is because API does not pass the server project_id in policy target[2]
and if no target is passed then, policy.py add the default targets which is
nothing but context.project_id (allow for everyone who try to access)[3]

This commit fix this policy by passing the server's project_id in policy
target.

Closes-bug: #1870484
Partial implement blueprint policy-defaults-refresh

[1] https://github.com/openstack/nova/blob/e487b05f7e451af4f29699c3b34d9d2cc1b1205a/nova/policies/server_metadata.py#L27
[2] https://github.com/openstack/nova/blob/e487b05f7e451af4f29699c3b34d9d2cc1b1205a/nova/api/openstack/compute/server_metadata.py#L123
[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191

Change-Id: Ia327ebeb6ccf434d12df6a61fbd9ab9f5cf6d04f
"
openstack%2Fnova~master~Ifd895056eb593fcde27f9bfaab39826eabf7dc81,openstack/nova,master,bp/policy-defaults-refresh,Ifd895056eb593fcde27f9bfaab39826eabf7dc81,Add test coverage of existing simple tenant usage policies,MERGED,2020-04-05 07:31:00.000000000,2020-04-16 05:43:12.000000000,2020-04-08 11:49:15.000000000,87,0,0,717546,bf7d56c748eb42350c4b37a858ee5d6bb4844efa,22,9,1,1,8556,Ghanshyam,ghanshyam,"Add test coverage of existing simple tenant usage policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

For Example, if any policy with default rule as admin only then
test should verify:
- policy check pass with context having admin or server owner
- policy check fail with context having non-admin and not server owner

As discussed in policy-defaults-refresh, to change the policies
with new default roles and scope_type, we need to have the enough
testing coverage of existing policy behavior.

When we will add the scope_type in policies or new default roles,
then these test coverage will be extended to adopt the new changes
and also make sure we do not break the existing behavior.

This commit covers the testing coverage of existing simple tenant usage
policies.

Partial implement blueprint policy-defaults-refresh

Change-Id: Ifd895056eb593fcde27f9bfaab39826eabf7dc81
"
openstack%2Fnova~master~Iaf0fabef4c1b4d3db1e2524a55e0c5322996f3e6,openstack/nova,master,bp/policy-defaults-refresh,Iaf0fabef4c1b4d3db1e2524a55e0c5322996f3e6,Introduce scope_types in simple tenant usage,MERGED,2020-04-05 09:28:53.000000000,2020-04-16 05:40:41.000000000,2020-04-08 16:27:59.000000000,25,10,2,717586,acb8bb243600eba2b1c67106cbfac0d7918a6de9,28,12,1,2,8556,Ghanshyam,ghanshyam,"Introduce scope_types in simple tenant usage

oslo.policy introduced the scope_type feature which can
control the access level at system-level and project-level.
 - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope
 - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for simple tenant usage API policies as:
- 'system' and 'project' for tenant usage statistics for a specific tenant
- 'system' for list tenant usage statistics

Also adds the test case with scope_type enabled and verify we
pass and fail the policy check with expected context.

Partial implement blueprint policy-defaults-refresh

Change-Id: Iaf0fabef4c1b4d3db1e2524a55e0c5322996f3e6
"
openstack%2Fnova~master~I779f33e4c3d4cae2751e9f044c7f30f45d1029ad,openstack/nova,master,bp/policy-defaults-refresh,I779f33e4c3d4cae2751e9f044c7f30f45d1029ad,Add test coverage of existing suspend server policies,MERGED,2020-04-05 07:54:03.000000000,2020-04-16 05:35:16.000000000,2020-04-07 18:32:32.000000000,116,75,3,717554,e01c63a9097bc27634989b880eea64310e2221be,17,8,3,2,8556,Ghanshyam,ghanshyam,"Add test coverage of existing suspend server policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

For Example, if any policy with default rule as admin only then
test should verify:
- policy check pass with context having admin or server owner
- policy check fail with context having non-admin and not server owner

As discussed in policy-defaults-refresh, to change the policies
with new default roles and scope_type, we need to have the enough
testing coverage of existing policy behavior.

When we will add the scope_type in policies or new default roles,
then these test coverage will be extended to adopt the new changes
and also make sure we do not break the existing behavior.

This commit covers the testing coverage of existing suspend server policies.

Partial implement blueprint policy-defaults-refresh

Change-Id: I779f33e4c3d4cae2751e9f044c7f30f45d1029ad
"
openstack%2Fneutron~stable%2Frocky~I36a98fe5da85da1f3a0315dd1a470f062de6f38b,openstack/neutron,stable/rocky,trunk_delete_delay-stable/rocky,I36a98fe5da85da1f3a0315dd1a470f062de6f38b,Wait before deleting trunk bridges for DPDK vhu,MERGED,2020-04-03 21:11:57.000000000,2020-04-16 05:08:44.000000000,2020-04-16 05:08:44.000000000,3,0,0,717393,c0b15a8cbeb17ed5024aaf2347a04a5929dbbd5d,27,5,1,1,13995,Nate Johnston,natejohnston,"Wait before deleting trunk bridges for DPDK vhu

DPDK vhostuser mode (DPDK/vhu) means that when an instance is powered
off the port is deleted, and when an instance is powered on a port is
created.  This means a reboot is functionally a super fast
delete-then-create.  Neutron trunking mode in combination with DPDK/vhu
implements a trunk bridge for each tenant, and the ports for the
instances are created as subports of that bridge.  The standard way a
trunk bridge works is that when all the subports are deleted, a thread
is spawned to delete the trunk bridge, because that is an expensive and
time-consuming operation.  That means that if the port in question is
the only port on the trunk on that compute node, this happens:

1. The port is deleted
2. A thread is spawned to delete the trunk
3. The port is recreated

If the trunk is deleted after #3 happens then the instance has no
networking and is inaccessible; this is the scenario that was dealt with
in a previous change [1].  But there continue to be issues with errors
""RowNotFound: Cannot find Bridge with name=tbr-XXXXXXXX-X"".  What is
happening in this case is that the trunk is being deleted in the middle
of the execution of #3, so that it stops existing in the middle of the
port creation logic but before the port is actually recreated.

Since this is a timing issue between two different threads it's
difficult to stamp out entirely, but I think the best way to do it is to
add a slight delay in the trunk deletion thread, just a second or two.
That will give the port time to come back online and avoid the trunk
deletion entirely.

[1] https://review.opendev.org/623275

Related-Bug: #1869244
Change-Id: I36a98fe5da85da1f3a0315dd1a470f062de6f38b
(cherry picked from commit e37722c0f5f0b746135200db6f654674dc0f6f12)
"
openstack%2Fneutron~stable%2Frocky~I25d3da929f8d0b6ee15d7b90ec59b9d58a4ae6a5,openstack/neutron,stable/rocky,bug/1863201,I25d3da929f8d0b6ee15d7b90ec59b9d58a4ae6a5,Filter by owner SGs when retrieving the SG rules,MERGED,2020-04-15 07:34:49.000000000,2020-04-16 05:08:40.000000000,2020-04-16 05:08:40.000000000,127,1,0,720137,1afe935de81bbfca6ea29c239c55f5768d74410d,11,5,1,5,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Filter by owner SGs when retrieving the SG rules

Retrieving the SG rules now is used the admin context. This allows to
get all possible rules, independently of the user calling. The filters
passed and the RBAC policies filter those results, returning only:
- The SG rules belonging to the user.
- The SG rules belonging to a SG owned by the user.

However, if the SG list is too long, the query can take a lot of time.
Instead of this, the filtering is done in the DB query. If no filters
are passed to ""get_security_group_rules"" and the context is not the
admin context, only the rules specified in the first paragraph will
be retrieved.

Because overwriting the method ""get_objects"" is too complex, an
intermediate query is done to retrieve the SG rule IDs. Those IDs
will be used as a filter in the ""get_objects"" call.

Conflicts:
      neutron/objects/securitygroup.py
      neutron/tests/unit/db/test_securitygroups_db.py
      neutron/tests/unit/objects/test_securitygroup.py

Closes-Bug: #1863201

Change-Id: I25d3da929f8d0b6ee15d7b90ec59b9d58a4ae6a5
(cherry picked from commit d874c46bff7045ba25f5dd6e790f7ddb209cb224)
(cherry picked from commit d3905264b7659b1d10a68e3629861d5f0ba13568)
(cherry picked from commit 61dc621c1ba40efcedabdfb9f3a1854cea227d2c)
"
openstack%2Fpymod2pkg~master~I0a1b222a84070a76a5643a843ab9f67e8c3e3588,openstack/pymod2pkg,master,doc-git-url,I0a1b222a84070a76a5643a843ab9f67e8c3e3588,doc: update git clone url to opendev.org,MERGED,2020-04-15 20:04:54.000000000,2020-04-16 05:02:21.000000000,2020-04-16 05:01:04.000000000,1,1,0,720282,429780de966874ba315577640f0fc01c7928f463,7,2,1,1,16211,Ken Dreyer (Red Hat),kdreyer,"doc: update git clone url to opendev.org

Tell users to clone the source code from the new location.

Change-Id: I0a1b222a84070a76a5643a843ab9f67e8c3e3588
"
openstack%2Fdiskimage-builder~master~Ib67ab7f808d727c3c61932c540d398dbe723972f,openstack/diskimage-builder,master,,Ib67ab7f808d727c3c61932c540d398dbe723972f,Do not try to use MBR on AArch64,MERGED,2020-04-14 10:12:59.000000000,2020-04-16 04:30:14.000000000,2020-04-16 04:28:24.000000000,5,1,0,719805,18e35893f7c30ad4866b75951f119f3278e8143f,14,4,1,1,24072,Marcin Juszkiewicz,hrw,"Do not try to use MBR on AArch64

When I tried to build CentOS8 image for AArch64 I got error saying that
MBR is not supported. So make sure that it will not be used by default.

Change-Id: Ib67ab7f808d727c3c61932c540d398dbe723972f
"
openstack%2Foctavia~master~I7910ebe4cff692bab67349bbf3e4ee4e24b5fa7a,openstack/octavia,master,,I7910ebe4cff692bab67349bbf3e4ee4e24b5fa7a,Disable two tests due to sqlalchemy/sqlite bug,MERGED,2020-04-15 17:08:02.000000000,2020-04-16 04:10:43.000000000,2020-04-15 20:04:25.000000000,10,0,0,720244,ccd6c3875eaec3978fbe970e11d04db8a3c29b0c,11,3,1,1,11628,Michael Johnson,johnsom,"Disable two tests due to sqlalchemy/sqlite bug

This patch adds a test skip for two tests that are impacted by the
recent sqlalchemy 1.3.16 release.
With this release, a patch[1], changes the default commit behavior
of a transaction. With this change we are seeing that the load
balancer created in the tree-create test disappears from the
transaction context during the test and the pool create call will
throw a foreign key error as the load balancer is not in the database.

It's not clear if this is purely a sqlalchemy, pysqlite, or sqlite3
bug at this time.
Given the requirements are already in freeze for the Ussuri release,
we are opting to disable the tests (we know only sqlite is impacted),
instead of attempt to blacklist 1.3.16 in requirements.

[1] https://github.com/sqlalchemy/sqlalchemy/commit/9ebbf8614a24fbc430365f6e76c9fd04616992fa#diff-e9762e21a27d8e6c44db6f9dd4edc694R455

Change-Id: I7910ebe4cff692bab67349bbf3e4ee4e24b5fa7a
"
openstack%2Ftripleo-heat-templates~master~Id810756819505df1b21a86798bce1761515a001a,openstack/tripleo-heat-templates,master,keystone-param,Id810756819505df1b21a86798bce1761515a001a,Remove deprecated puppet-keystone modules related to admin auth,MERGED,2020-04-04 01:18:30.000000000,2020-04-16 04:06:57.000000000,2020-04-16 04:06:57.000000000,0,11,0,717421,1de0294ba8eb03172f4cd1588a73fa15103eaa16,17,6,1,1,9816,Takashi Kajinami,kajinamit,"Remove deprecated puppet-keystone modules related to admin auth

The following classes and parameters were deprecated in puppet-keystone
when keystone::bootstrap was added, and we don't need to set them
anymore because now we use new parameters.

 - keystone::roles::admin
 - keystone::endpoint
 - keystone::admin_token
 - keystone::admin_password

[1] I683fcdd743bddf6d4e989dd7e7c553db745934db
Change-Id: Id810756819505df1b21a86798bce1761515a001a
"
openstack%2Ftripleo-heat-templates~master~I1052ec7dcb4c140cd21c9dea8f20689e66224e91,openstack/tripleo-heat-templates,master,keystone-param,I1052ec7dcb4c140cd21c9dea8f20689e66224e91,Remove duplicated keystone::roles::admin::password,MERGED,2020-04-04 00:55:48.000000000,2020-04-16 04:06:55.000000000,2020-04-16 04:06:55.000000000,0,1,0,717418,7342b6a62d2a3421ba5a1c64345e1be82f82c05e,22,6,1,1,9816,Takashi Kajinami,kajinamit,"Remove duplicated keystone::roles::admin::password

TrivialFix

Change-Id: I1052ec7dcb4c140cd21c9dea8f20689e66224e91
"
openstack%2Ftripleo-ansible~master~Ic85c45a64e160223a012b77f698c2224da5d09d7,openstack/tripleo-ansible,master,mistral_to_ansible,Ic85c45a64e160223a012b77f698c2224da5d09d7,Add a tripleo-common module util,MERGED,2020-04-13 13:20:55.000000000,2020-04-16 04:06:37.000000000,2020-04-16 04:05:02.000000000,273,219,6,719459,2adb49cf639a800688e052df6b1a4c7e8ca9bc23,31,7,2,12,7353,Kevin Carter,cloudnull,"Add a tripleo-common module util

This change will co-locate all tripleo-common utility code which we use
within modules. By creating a module util for tripleo-common we'll save
duplication and ensure functionality across all modules that leverage
tripleo-common.

The ansible-auto-doc plugin has been updated to support a new module-util.

Change-Id: Ic85c45a64e160223a012b77f698c2224da5d09d7
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-ansible~master~I27c550e49492df9a80a3e9ed119962cc412c491a,openstack/tripleo-ansible,master,message,I27c550e49492df9a80a3e9ed119962cc412c491a,tripleo_container_manage: print message if no container action,MERGED,2020-04-15 14:56:32.000000000,2020-04-16 03:22:50.000000000,2020-04-16 03:22:50.000000000,1,1,0,720217,d8893027767a9310120b6c426428018de0684cc6,12,5,2,1,3153,Emilien Macchi,emilienm,"tripleo_container_manage: print message if no container action

It helps with debugging, when no action is run for containers; instead
of just showing an empty list.

Change-Id: I27c550e49492df9a80a3e9ed119962cc412c491a
"
openstack%2Fstorlets~master~Ib3d017fd340fb9387d97e91d62cd3be2408d7a59,openstack/storlets,master,hacking-py2,Ib3d017fd340fb9387d97e91d62cd3be2408d7a59,Cap hacking for py2 tests,ABANDONED,2020-04-16 02:35:46.000000000,2020-04-16 02:56:15.000000000,,2,1,0,720327,e5eaa4e9af9cefad257c4c74130ee9ce251550d4,2,0,1,1,9816,Takashi Kajinami,kajinamit,"Cap hacking for py2 tests

... because we should cap this first to restore python2 tests, to keep
py2 support during Ussuri.

Change-Id: Ib3d017fd340fb9387d97e91d62cd3be2408d7a59
"
openstack%2Fironic~master~I711a1626ac8fc621114d283d899b6cf7315057f6,openstack/ironic,master,agent-redirect,I711a1626ac8fc621114d283d899b6cf7315057f6,Use trailing slash in the agent command URL,MERGED,2020-04-15 08:30:10.000000000,2020-04-16 02:32:20.000000000,2020-04-15 20:27:15.000000000,3,2,0,720150,cc29461d200a9c57c91280e9f7f08b0d7bd00ce7,14,6,1,2,10239,Dmitry Tantsur,dtantsur,"Use trailing slash in the agent command URL

Currently every call results in a redirect /commands -> /commands/

Change-Id: I711a1626ac8fc621114d283d899b6cf7315057f6
"
openstack%2Ftricircle~master~I02169e2f5bba669182d41a25bef1057306f74be8,openstack/tricircle,master,update-hacking,I02169e2f5bba669182d41a25bef1057306f74be8,Update hacking for Python3,MERGED,2020-04-02 09:58:35.000000000,2020-04-16 01:51:47.000000000,2020-04-16 01:50:26.000000000,25,27,0,716909,82bf693bdf6c6526d0e9a54d98518fb28edcadd9,9,10,1,18,6547,Andreas Jaeger,jaegerandi,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found.

Remove hacking and friends from lower-constraints, they are not needed
for installation.

Change-Id: I02169e2f5bba669182d41a25bef1057306f74be8
"
openstack%2Fironic-inspector~stable%2Fstein~I6e47f2178ab6a25711e05205a322895e09786578,openstack/ironic-inspector,stable/stein,stein-ironicclient,I6e47f2178ab6a25711e05205a322895e09786578,[stable-only] Make ironicclient initialization future-proof,MERGED,2020-04-09 15:20:10.000000000,2020-04-16 01:41:20.000000000,2020-04-16 01:39:39.000000000,21,11,0,718728,72510ea9355e26c76a39abf0eb5d8e5b5df38ffc,18,6,2,3,10239,Dmitry Tantsur,dtantsur,"[stable-only] Make ironicclient initialization future-proof

At some point ironicclient breaks the way it's initialized in stable/stein
and older. While these versions are excluded in upper-constraints, users
still may get broken. The new way to initialize the client works in
both versions, just use it.

This is a partial backport of 40450dc4b54a43a8033ce3e18cb28048e66c6398.

Change-Id: I6e47f2178ab6a25711e05205a322895e09786578
"
openstack%2Fheat~stable%2Ftrain~I13153881223c3a585052a94651b9ff082a75b283,openstack/heat,stable/train,tempest_installation,I13153881223c3a585052a94651b9ff082a75b283,Fix Tempest installtion on system wide for stable branch,MERGED,2020-04-08 17:12:06.000000000,2020-04-16 01:25:55.000000000,2020-04-16 01:24:20.000000000,5,3,1,718522,203626069524be8354125b4de85bcc384d6dc53a,32,8,3,2,8556,Ghanshyam,ghanshyam,"Fix Tempest installtion on system wide for stable branch

INSTALL_TEMPEST flag enable to install Tempest by default on
devstack env which is meant for using on master gate only and has
to be false for stable branch. On stable branch master Tempest
on system wide can fail to install for various reason like constraint
etc. That is why we install Tempest on venv always.

This started failing the py2 jobs on stable/train gate[1] where
heat devstack plugin try to install Tempest on system wide also which try to
use py2 env (Tempest is py3 only now) because jobs is py2 and fail.

We need to set up the Tempest on system wide based on  INSTALL_TEMPEST flag
which is set to false on all stable branch to:
- https://review.opendev.org/#/q/I60949fb735c82959fb2cfcb6aeef9e33fb0445b6

Aslo includes below backport:

Check if subnet already added to router before adding it.

(cherry picked from commit c923b9c64b2ef08d27a2d4111e7e3108436f579c)

[1] https://zuul.opendev.org/t/openstack/build/398d906e73724ee6b91d8f32babc5035/log/logs/devstacklog.txt#37969
- https://review.opendev.org/#/c/717428/
- https://review.opendev.org/#/c/717529/

Change-Id: I13153881223c3a585052a94651b9ff082a75b283
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I62f53dbd862c0f38af4a1434d453e97c18777eb4,openstack/networking-ovn,stable/train,bug/1861510,I62f53dbd862c0f38af4a1434d453e97c18777eb4,Don't reschedule hosts unless we need to,MERGED,2020-04-09 11:22:33.000000000,2020-04-16 01:24:36.000000000,2020-04-16 01:22:59.000000000,310,71,3,718669,6429a8a26ecc76344bf4ba124be790dfdb3d65f4,29,6,9,10,24791,Maciej Jozefczyk,maciej.jozefczyk,"Don't reschedule hosts unless we need to

Only reschedule gateways/update segments when things have changed
that would require those actions.

This code has been cherry-picked from neutron:
https://review.opendev.org/#/c/705660

Co-Authored-By: Terry Wilson <twilson@redhat.com>

Conflicts:
   networking_ovn/tests/unit/l3/test_l3_ovn.py
   networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py

Change-Id: I62f53dbd862c0f38af4a1434d453e97c18777eb4
Closes-bug: #1861510
Closes-bug: #1861509
"
openstack%2Fpython-tripleoclient~master~I014392650849a7c18c7da85a211a8830c2b66c4f,openstack/python-tripleoclient,master,host/file/name,I014392650849a7c18c7da85a211a8830c2b66c4f,Move ansible hosts file as a constant,MERGED,2020-02-24 08:47:14.000000000,2020-04-16 01:01:21.000000000,2020-04-16 00:58:08.000000000,2,1,0,709430,2cb16d3e2d1a9729ceb23c732641792947eb39c6,21,8,2,2,16515,mbu,matbu,"Move ansible hosts file as a constant

Moving ansible hosts filename as a constant to avoid
hardcoded value.

Change-Id: I014392650849a7c18c7da85a211a8830c2b66c4f
"
openstack%2Ftripleo-quickstart~master~Ib0ba26b0d73613d859a474f3953c18feeb9952d2,openstack/tripleo-quickstart,master,Ib0ba26b0d73613d859a474f3953c18feeb9952d2,Ib0ba26b0d73613d859a474f3953c18feeb9952d2,Move featureset039 to os-tempest conditionally adds required vars,MERGED,2020-03-27 11:21:49.000000000,2020-04-16 01:01:19.000000000,2020-04-16 00:58:07.000000000,49,1,21,715397,a20c2b1185b930d79209f9c80350b396ed8f3116,78,12,8,1,8449,Marios Andreou,marios,"Move featureset039 to os-tempest conditionally adds required vars

As in the other featuresets we need to add some os-tempest related
values. We want to move to os-tempest and away from legacy validate
tempest, especially for centos8 fs39. Tracked by tripleo-ci squad
in [1].

[1] https://hackmd.io/7MBqFHurTA2e5H8kYRwgag#Reviews-still-in-play-to-addmove-jobs

Change-Id: Ib0ba26b0d73613d859a474f3953c18feeb9952d2
"
openstack%2Fceilometer~stable%2Ftrain~I25558ff48b6236773f765aad8d1fc150f7011aef,openstack/ceilometer,stable/train,,I25558ff48b6236773f765aad8d1fc150f7011aef,Fix docs build error,MERGED,2020-04-15 10:08:58.000000000,2020-04-16 00:58:11.000000000,2020-04-16 00:55:38.000000000,5,5,0,720171,66d71e404709ad313ec963b40adb2204987fc514,9,4,1,2,17685,Elod Illes,elod.illes,"Fix docs build error

Change-Id: I25558ff48b6236773f765aad8d1fc150f7011aef
(cherry picked from commit 4fafac840468ab277ac00d919af50740f1ea600a)
"
openstack%2Ftripleo-repos~master~Id1f5f15e7d6c7edc5003f8f1947b7fb8ff783bbe,openstack/tripleo-repos,master,unittest.mock,Id1f5f15e7d6c7edc5003f8f1947b7fb8ff783bbe,Use unittest.mock instead of third party mock,MERGED,2020-04-03 22:05:33.000000000,2020-04-16 00:58:10.000000000,2020-04-16 00:58:09.000000000,1,2,0,717406,98f7e150adb43501e1b9a1bc7ba48ffff02b6b56,13,4,2,2,11904,Sean McGinnis,SeanM,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: Id1f5f15e7d6c7edc5003f8f1947b7fb8ff783bbe
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fvalidations-common~master~I639b17a529ce38b24ada865d628813ab3e37cef7,openstack/validations-common,master,ensure,I639b17a529ce38b24ada865d628813ab3e37cef7,Switch to ensure-docker role,MERGED,2020-04-15 08:16:12.000000000,2020-04-16 00:56:32.000000000,2020-04-16 00:56:32.000000000,1,1,0,720147,99050941f49a8752c8b2a7f75af12039f21c1afe,10,4,1,1,24162,Sorin SbÃ¢rnea,ssbarnea,"Switch to ensure-docker role

install-docker is replaced by ensure-docker as documented on:
https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/install-docker/README.rst

Change-Id: I639b17a529ce38b24ada865d628813ab3e37cef7
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I302b980467206474dfd1d84b8d813f263f5fdc05,openstack/tripleo-upgrade,stable/train,ensure-stable/train,I302b980467206474dfd1d84b8d813f263f5fdc05,Switch install-docker with ensure-docker,MERGED,2020-04-08 13:35:53.000000000,2020-04-16 00:56:31.000000000,2020-04-16 00:56:31.000000000,2,2,0,718449,4fde6b22a06c427004d468566789c1f4959a933f,8,5,1,2,11166,Lukas Bezdicka,xbezdick,"Switch install-docker with ensure-docker

Zuul deprecation requires it, former one will be removed in the future.

Change-Id: I302b980467206474dfd1d84b8d813f263f5fdc05
"
openstack%2Fpuppet-neutron~master~I5f3c4eeece5a51c475a672f92d321e391a976644,openstack/puppet-neutron,master,min-bw,I5f3c4eeece5a51c475a672f92d321e391a976644,DNM: show example unit tests for parent patch,ABANDONED,2020-04-10 23:45:32.000000000,2020-04-16 00:54:02.000000000,,25,0,0,719122,564296dc27f98710f491b6ee390d601d86d4b9ee,5,1,3,2,9816,Takashi Kajinami,kajinamit,"DNM: show example unit tests for parent patch

Change-Id: I5f3c4eeece5a51c475a672f92d321e391a976644
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ic6ef33d9c02be7e87c30626930f9e3d44cb77875,openstack/tripleo-heat-templates,stable/train,enable-isolated-aggregate-filtering,Ic6ef33d9c02be7e87c30626930f9e3d44cb77875,Add new parameter NovaSchedulerEnableIsolatedAggregateFiltering,MERGED,2020-04-13 12:47:09.000000000,2020-04-16 00:48:57.000000000,2020-04-16 00:47:14.000000000,24,1,0,719448,553b61ca284ba07e75bcd399752677e5b5761400,12,8,1,2,20733,Rajesh Tailor,rajesht,"Add new parameter NovaSchedulerEnableIsolatedAggregateFiltering

Add new paramter NovaSchedulerEnableIsolatedAggregateFiltering
allows for configuring `scheduler/enable_isolated_aggregate_filtering`
parameter to restrict hosts in aggregates based on matching required
traits in the aggregate metadata and the instance flavor/image.

Also this fixes the typo in scheduler spelling in config_settings
section for placement_aggregate_required_for_tenants parameter.

Depends-On: https://review.opendev.org/#/c/719447/
Change-Id: Ic6ef33d9c02be7e87c30626930f9e3d44cb77875
"
