id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fproject-config~master~I4015c16ee85ca67357f0dcb10d4bd76f171bb356,openstack/project-config,master,zuulv3-output,I4015c16ee85ca67357f0dcb10d4bd76f171bb356,Upload artifacts in base-test job,ABANDONED,2017-10-13 14:09:43.000000000,2020-03-20 09:26:47.000000000,,11,0,0,511860,08c8c7a0ba879d11280eec8d54056d65dc79d2b8,10,3,3,2,2,Monty Taylor,mordred,"Upload artifacts in base-test job

Add the artifact upload role to the base-test job. This should
result in artifacts being uploaded to the fileserver if any are in
the artifacts directory.

The merge-output-to-logs role will empty out the artifacts dir on
pre-merge jobs, so this should be a no-op for check and gate jobs.

Depends-On: Iadb4033f076057859967b8085f209cc4b7da34c1
Change-Id: I4015c16ee85ca67357f0dcb10d4bd76f171bb356
"
openstack%2Fvalidations-libs~master~I642327567e069d2d6947f7e20676accdb027afac,openstack/validations-libs,master,fix_flake8_issue,I642327567e069d2d6947f7e20676accdb027afac,DNM: Testing pep8 job,ABANDONED,2020-03-20 09:06:18.000000000,2020-03-20 09:18:09.000000000,,6,3,0,714054,ed5fdefbb15e910b4faba881c157889e87843edc,2,0,1,2,11491,Gael Chamoulaud,gchamoul,"DNM: Testing pep8 job

Change-Id: I642327567e069d2d6947f7e20676accdb027afac
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
"
openstack%2Fproject-config~master~I84dfb8dee2540e0a56e0aee2048ec3eec6affd38,openstack/project-config,master,allow-tq-push,I84dfb8dee2540e0a56e0aee2048ec3eec6affd38,Allow push and push merge commit for tripleo-quickstart,ABANDONED,2018-09-13 15:30:08.000000000,2020-03-20 09:15:12.000000000,,4,0,1,602377,862bebe4b0a0bb42ddf33531237d25dcacdb2d3c,8,2,3,1,10022,Gabriele Cerami,panda,"Allow push and push merge commit for tripleo-quickstart

tripleo-quickstart and tripleo-quickstart-extras repositories are going
to be merged with all their unrelated history.
We need push permission so we don't have to upload and approve the 2000
commit merged from tripleo-quickstart-extras to gerrit.
We are going to push the merge to a dedicated branch, then push a merge
commit to master when we are ready to go.
There is no easy way to update the branch without redoing the merge from
scratch, so the force option is needed to iterate and test on the branch

Change-Id: I84dfb8dee2540e0a56e0aee2048ec3eec6affd38
"
openstack%2Fproject-config~master~I3805e24030bd212442c9abe339e7dc91fe329070,openstack/project-config,master,,I3805e24030bd212442c9abe339e7dc91fe329070,Remove codenames from descriptions,NEW,2017-06-29 13:42:24.000000000,2020-03-20 09:13:26.000000000,,60,60,2,478936,3dd96afa3af6d72b004fc527200658b85f4c8821,8,2,1,1,2,Monty Taylor,mordred,"Remove codenames from descriptions

Explaining that nova is ""OpenStack Compute (Nova)"" is a bit weird.
Remove the duplicate references to the codename in the thing that is
describing the codename.

Change-Id: I3805e24030bd212442c9abe339e7dc91fe329070
"
openstack%2Fswift~feature%2Flosf~I58b26d63649820600808257d8ff3eb14e96fbf10,openstack/swift,feature/losf,dev/alecuyer/feature-branch-catchup,I58b26d63649820600808257d8ff3eb14e96fbf10,Make a new timeseries for LOSF object header mismatches,MERGED,2020-03-19 15:47:50.000000000,2020-03-20 08:28:15.000000000,2020-03-20 08:26:21.000000000,2,1,0,713913,f737857f33718edd4c2a19ceec84400795736f71,11,2,1,1,25251,Alexandre Lécuyer,alecuyer,"Make a new timeseries for LOSF object header mismatches

Add a new timeseries 'vfile.wrong_object_header_name', to track when
we have an object header mismatch: the name in the object header does
not match what's in the levelDB database.

Two cases are excluded from this count:
  - object header is fully blank
  - object is a fragment and has been renamed to durable (#d)

These two cases are known and handled in code.

Change-Id: I58b26d63649820600808257d8ff3eb14e96fbf10
"
openstack%2Ftripleo-common~master~I469b4f51c57e1651f42064b0134aa3916af72d80,openstack/tripleo-common,master,libcgroup-tools,I469b4f51c57e1651f42064b0134aa3916af72d80,Add libcgroup-tools to libvirt container,MERGED,2020-03-18 09:44:27.000000000,2020-03-20 08:12:19.000000000,2020-03-19 19:35:39.000000000,1,0,0,713599,dde8702afe1e867c27097c3acbdfbb1078905d73,19,7,3,1,17216,Martin Schuppert,mcschupp,"Add libcgroup-tools to libvirt container

To reuse the tripleo containers when running libvirtd container
on OCP we need to run it via a wrapper script and create our own
cgroups and run libvirtd using cgexec to break out the default
OCP cgroup of the pod. Otherwise if the libvirtd pod gets
deleted/recreated all VMs get shutdown as OCP cleans up the
resources owned by the pod.

Change-Id: I469b4f51c57e1651f42064b0134aa3916af72d80
"
openstack%2Foctavia~master~I48315f8f293811e1d99584ea36da05c4211cf275,openstack/octavia,master,695589,I48315f8f293811e1d99584ea36da05c4211cf275,Fix load balancer update with provider filtered params,MERGED,2019-11-21 21:52:46.000000000,2020-03-20 08:09:42.000000000,2020-03-20 08:06:31.000000000,39,2,7,695589,2cfcd71a8659583d91cda3e488c60ded078c9677,41,8,5,5,6469,Carlos Gonçalves,cgoncalves,"Fix load balancer update with provider filtered params

When only setting tags to an existing load balancer, the amphora driver
would try to apply QoS policy on VRRP ports even if no policy is
defined. This raised an NetworkException that led load balancers to go
into ERROR.

Task: 37589
Story: 2006922

Change-Id: I48315f8f293811e1d99584ea36da05c4211cf275
"
openstack%2Fneutron~master~If8edd29dd741f1688ffcac341fd58173539ba000,openstack/neutron,master,bug/1864630,If8edd29dd741f1688ffcac341fd58173539ba000,[OvS] Handle re_added multi ports,MERGED,2020-02-25 10:26:18.000000000,2020-03-20 08:09:36.000000000,2020-03-15 21:58:31.000000000,31,19,8,709687,5600163e9b4fb89b1525e9e415b1fedbe9526501,82,10,4,2,31662,Cong Nguyen Thanh,congnt95,"[OvS] Handle re_added multi ports

Multiple ports are located in ports_re_added. Assume we have port_one
and port_two. It will loop through the ports. Port_one is iterated
first, events ['re_added'] is assigned port_one, events ['removed']
is assigned port_two. In the second loop, events ['re_added'] is set
to port_two instead of adding port_two to list. So after the loop,
only port_two is left in events ['re_added'].

Change-Id: If8edd29dd741f1688ffcac341fd58173539ba000
Closes-Bug: #1864630
"
openstack%2Ftripleo-ansible~master~If8df9863a3b3f18e00767d095849b48eb08486fd,openstack/tripleo-ansible,master,mistral_to_ansible,If8df9863a3b3f18e00767d095849b48eb08486fd,Add tripleo_image_params_prepare ansible module,MERGED,2020-03-12 02:21:39.000000000,2020-03-20 08:03:24.000000000,2020-03-20 08:02:00.000000000,143,0,16,712602,d1e0e371468fa618a7542fe3cb75a8ba9ba93326,33,7,3,2,8833,Rabi Mishra,rabi,"Add tripleo_image_params_prepare ansible module

Uses tripleo-common library to build image params and update
the plan.

Depends-On: https://review.opendev.org/712598
Change-Id: If8df9863a3b3f18e00767d095849b48eb08486fd
"
openstack%2Fswift~feature%2Flosf~I3731b691d197e755501236960033bde85ed1c871,openstack/swift,feature/losf,dev/alecuyer/feature-branch-catchup,I3731b691d197e755501236960033bde85ed1c871,Fix RPC error checking in losf volume check,MERGED,2020-03-19 15:47:50.000000000,2020-03-20 07:53:46.000000000,2020-03-20 07:51:55.000000000,2,2,0,713912,53d43df8345c08e2d35c748461e4b984895054dd,13,2,1,1,25251,Alexandre Lécuyer,alecuyer,"Fix RPC error checking in losf volume check

With the switch from gRPC to HTTP, the error code was changed to
an int. Caller in volume check was not updated.

Change-Id: I3731b691d197e755501236960033bde85ed1c871
"
openstack%2Fopenstack-helm~master~Iea52d94a1b5cf1db41ce694349e49e6311a47333,openstack/openstack-helm,master,netpol,Iea52d94a1b5cf1db41ce694349e49e6311a47333,Add netpol value overrides for placement chart,MERGED,2020-03-16 08:37:35.000000000,2020-03-20 07:30:49.000000000,2020-03-20 07:27:55.000000000,52,0,2,713172,78d1624ad3ca7b61d9b9735794290bd9f6c9163d,29,5,11,3,29397,Kudaka Poorna Rajesh,rajesh.kudaka,"Add netpol value overrides for placement chart

Change-Id: Iea52d94a1b5cf1db41ce694349e49e6311a47333
"
openstack%2Fliberasurecode~master~I065ca37e5d69bb6ee3c7f00374af2e9c3da7739f,openstack/liberasurecode,master,,I065ca37e5d69bb6ee3c7f00374af2e9c3da7739f,Use ceph's GitHub mirrors for gf-complete/jerasure,MERGED,2020-03-13 06:52:28.000000000,2020-03-20 07:01:37.000000000,2020-03-20 07:01:37.000000000,2,2,0,712842,423004247648f06dc34be23cc63ad8507bb74035,7,2,1,1,15343,Tim Burke,tburke,"Use ceph's GitHub mirrors for gf-complete/jerasure

Apparently upstream now requires that you log in?

Change-Id: I065ca37e5d69bb6ee3c7f00374af2e9c3da7739f
"
openstack%2Fmanila-specs~master~Ia4715276117c54cd7cca7f997639a6f92328266a,openstack/manila-specs,master,spec-changes,Ia4715276117c54cd7cca7f997639a6f92328266a,Spec changes for Ussuri and Train,MERGED,2020-03-19 05:14:12.000000000,2020-03-20 06:43:43.000000000,2020-03-20 06:41:52.000000000,10,0,0,713780,9213f28dc82685352ada2d9c15ccdb929f4f5223,11,4,2,3,16643,Goutham Pacha Ravi,gouthamr,"Spec changes for Ussuri and Train

- Add Ussuri release to index
- move unimplemented Train specs
  - OSC spec is release independent
  - share capability enhancements wasn't implemented

Change-Id: Ia4715276117c54cd7cca7f997639a6f92328266a
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Frequirements~master~I015d823f9574002bf5ad118668d50e09ce0ba465,openstack/requirements,master,openstack/requirements/constraints/noclob,I015d823f9574002bf5ad118668d50e09ce0ba465,Updated from generate-constraints,MERGED,2020-03-18 06:19:17.000000000,2020-03-20 06:34:00.000000000,2020-03-20 06:32:23.000000000,20,20,0,713573,c300b8917c13b56ad4e75bfac0e9f3f50c28586a,27,2,5,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

hold back mock for nova/neutron failures
hold back docutils because boto likes to cap things
hold back msgpack because salt likes to cap things
hold back alembic because nova/neutron fails tests

Change-Id: I015d823f9574002bf5ad118668d50e09ce0ba465
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fheat-agents~master~Ib9819e87a8f39112ef6d1b49109a45554ed741a7,openstack/heat-agents,master,build-container-agent,Ib9819e87a8f39112ef6d1b49109a45554ed741a7,Add atomic hook support,NEW,2020-03-05 07:13:22.000000000,2020-03-20 06:09:01.000000000,,113,1,0,711389,9c642da37140ce9d8258fd834db3a8736a4fb6a9,9,2,3,4,12404,Rico Lin,rico.lin,"Add atomic hook support

Copy from https://review.opendev.org/#/c/585420/

Change-Id: Ib9819e87a8f39112ef6d1b49109a45554ed741a7
"
openstack%2Fmistral~master~I3dbf26e3fdf2d2bd17d99b678172bd9ac02a7323,openstack/mistral,master,fix_missing_map_option,I3dbf26e3fdf2d2bd17d99b678172bd9ac02a7323,Keep openstack mapping_path option,MERGED,2020-03-19 13:11:40.000000000,2020-03-20 05:59:00.000000000,2020-03-20 05:57:35.000000000,8,0,2,713873,a594a2523e0b19100f3699f502cf617405698fc7,15,6,4,1,15895,Adriano Petrich,apetrich,"Keep openstack mapping_path option

Removal of this option breaks backwards compatibility

When we moved the openstack actions to mistral-extra this
option was removed. This adds it back if mistral-extra is
installed otherwise it keeps the same

Change-Id: I3dbf26e3fdf2d2bd17d99b678172bd9ac02a7323
Closes-bug: #1866621
"
openstack%2Fopenstack-helm-infra~master~I1690035c7e35887245bbdcfdc97b19409fd6ab8a,openstack/openstack-helm-infra,master,,I1690035c7e35887245bbdcfdc97b19409fd6ab8a,Add more fields to daemonjob crd spec.,MERGED,2020-03-11 17:00:10.000000000,2020-03-20 05:51:45.000000000,2020-03-20 05:50:20.000000000,24,5,0,712506,55beab680f18daeb79f6cf48a66aef3a572ababb,17,3,6,5,31482,Luna Das,codebind-luna,"Add more fields to daemonjob crd spec.

Change-Id: I1690035c7e35887245bbdcfdc97b19409fd6ab8a
"
openstack%2Fproject-config~master~I0fa0ca21220a5e9c8b3e8c26c31daa4326701e19,openstack/project-config,master,revise-open-cas-acls,I0fa0ca21220a5e9c8b3e8c26c31daa4326701e19,Revise gerrit ACLs for devstack-plugin-open-cas,MERGED,2020-03-19 20:27:32.000000000,2020-03-20 05:51:20.000000000,2020-03-20 05:51:19.000000000,3,6,0,713974,d435ae141aaa0d5410819d4f991d7655ca900275,7,3,1,1,5314,Brian Rosmaita,brian-rosmaita,"Revise gerrit ACLs for devstack-plugin-open-cas

The devstack-plugin-open-cas repo was set up with cinder-core and
devstack-core having core permissions for the project.  Change this
to a project-specific gerrit group 'devstack-plugin-open-cas-core'.
Then cinder-core and devstack-core can be added as included groups
in gerrit, which will allow us to add cores to the project who
aren't in cinder-core or devstack-core (i.e., it will basically make
devstack-plugin-open-cas-core self-maintaining, as is the usual
situation).

Change-Id: I0fa0ca21220a5e9c8b3e8c26c31daa4326701e19
"
openstack%2Fopenstack-helm-infra~master~I59982558c4a29c6611a28191206b1c8400b6a8c9,openstack/openstack-helm-infra,master,cronjob-labels,I59982558c4a29c6611a28191206b1c8400b6a8c9,gnocchi: Add metadata labels to CronJob,MERGED,2020-03-17 01:28:20.000000000,2020-03-20 04:59:29.000000000,2020-03-20 04:57:02.000000000,2,0,0,713362,44175bba47a2f367808a9f0c549422dca671b897,11,6,1,1,28719,Phil Sphicas,ps3910,"gnocchi: Add metadata labels to CronJob

This change adds the same helm-toolkit-generated metadata labels to
the CronJob itself that are applied to the Jobs it creates.

Change-Id: I59982558c4a29c6611a28191206b1c8400b6a8c9
"
openstack%2Fopenstack-helm-infra~master~I888ca6f25c97e3deb6710e2e6be5a87a6133604b,openstack/openstack-helm-infra,master,cronjob-labels,I888ca6f25c97e3deb6710e2e6be5a87a6133604b,postgresql: Add metadata labels to CronJob,MERGED,2020-03-17 01:26:50.000000000,2020-03-20 04:58:25.000000000,2020-03-20 04:57:01.000000000,2,0,0,713358,3860dedef387e910d2628a725699a00443144f66,13,8,1,1,28719,Phil Sphicas,ps3910,"postgresql: Add metadata labels to CronJob

This change adds the same helm-toolkit-generated metadata labels to
the CronJob itself that are applied to the Jobs it creates.

Change-Id: I888ca6f25c97e3deb6710e2e6be5a87a6133604b
"
openstack%2Fopenstack-helm-addons~master~I5350fd44714da5a14c0058dc96635126a7d2ba4f,openstack/openstack-helm-addons,master,rm-monasca,I5350fd44714da5a14c0058dc96635126a7d2ba4f,Remove monasca from OpenStack-Helm-Addons repo,MERGED,2020-03-10 15:33:30.000000000,2020-03-20 04:46:11.000000000,2020-03-20 04:46:11.000000000,0,7028,0,712110,760a12f5755c9f1612faeaf74f8a366fe0f96c33,10,3,3,115,20466,Tin Lam,tinlam,"Remove monasca from OpenStack-Helm-Addons repo

Based on weekly IRC meeting, monasca and its related charts are
removed from the OpenStack-Helm-AddOns repository.

[0] http://eavesdrop.openstack.org/meetings/openstack_helm/2020/openstack_helm.2020-03-10-15.00.html

Change-Id: I5350fd44714da5a14c0058dc96635126a7d2ba4f
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fopenstack-helm-addons~master~I631ae4345f18fee70b380867ba8b33af5e3b3254,openstack/openstack-helm-addons,master,remove-osh-authors,I631ae4345f18fee70b380867ba8b33af5e3b3254,Remove OSH Authors copyright,MERGED,2020-03-02 20:02:16.000000000,2020-03-20 04:44:49.000000000,2020-03-20 04:44:49.000000000,0,231,0,710863,09b6e52c32c8f4fc9c3ac0da9f01ea3cd0974d30,9,5,1,117,21420,Gage Hugo,ghugo,"Remove OSH Authors copyright

The current copyright refers to a non-existent group
""openstack helm authors"" with often out-of-date references that
are confusing when adding a new file to the repo.

This change removes all references to this copyright by the
non-existent group and any blank lines underneath.

Change-Id: I631ae4345f18fee70b380867ba8b33af5e3b3254
"
openstack%2Fopenstack-helm-infra~master~I937fdade5f36863d14c5ca8a322af72a6e15f621,openstack/openstack-helm-infra,master,osh_suse,I937fdade5f36863d14c5ca8a322af72a6e15f621,Add SUSE distro and bring your own k8s support,ABANDONED,2018-12-05 04:30:04.000000000,2020-03-20 04:31:35.000000000,,272,2,0,622823,66d6fbf173de8603ca4fb7383878292ed48c9bcb,16,5,7,11,24580,James Gu,jamesgu,"Add SUSE distro and bring your own k8s support

Add the SUSE distro support in setting up host and osh infra build playbooks.
Also add new playbook to deploy kubectl only in the bring your own k8s use
case, instead of bootstraping a new kubeadm. It is a part of effort to
enable Airskiff on SUSE distro and also a part of the series of efforts to add
SUSE support in OSH.

Change-Id: I937fdade5f36863d14c5ca8a322af72a6e15f621
"
openstack%2Fopenstack-helm-infra~master~I70baf516901169ca54f2a032099911d47678f696,openstack/openstack-helm-infra,master,,I70baf516901169ca54f2a032099911d47678f696,Test DNM,ABANDONED,2020-01-04 01:39:30.000000000,2020-03-20 04:29:33.000000000,,2,1,0,701070,c5dec545bc65ec95f77c2aac0d23380d168e6817,3,1,1,1,28719,Phil Sphicas,ps3910,"Test DNM

Change-Id: I70baf516901169ca54f2a032099911d47678f696
"
openstack%2Fopenstack-helm-images~master~Ifcfda0bbc8372758b5d1c62089e9e27b39ac90db,openstack/openstack-helm-images,master,,Ifcfda0bbc8372758b5d1c62089e9e27b39ac90db,test,ABANDONED,2020-01-27 21:49:39.000000000,2020-03-20 04:25:05.000000000,,7,0,0,704438,1760f05de1246fd4bcd2cafa0a54dbb5c4c8186b,9,1,6,7,8863,Andrii Ostapenko,aostapenko,"test

Depends-On: https://review.opendev.org/#/c/707058/

Change-Id: Ifcfda0bbc8372758b5d1c62089e9e27b39ac90db
"
openstack%2Fopenstack-helm-images~master~Ia781c99c53cd54b8e7f39765e48efe45ec65d9ca,openstack/openstack-helm-images,master,,Ia781c99c53cd54b8e7f39765e48efe45ec65d9ca,test,ABANDONED,2020-01-27 22:07:37.000000000,2020-03-20 04:24:54.000000000,,0,0,0,704444,af2b7aa2339ddb7d5b8e3db06657c29da2370986,3,1,1,0,8863,Andrii Ostapenko,aostapenko,"test

Depends-On: https://review.opendev.org/#/c/703647/
Change-Id: Ia781c99c53cd54b8e7f39765e48efe45ec65d9ca
"
openstack%2Fswift~feature%2Flosf~Ie0ec8dbb7e0d875d03ff9ae2eba3e95a21ae5db3,openstack/swift,feature/losf,dev/alecuyer/feature-branch-catchup,Ie0ec8dbb7e0d875d03ff9ae2eba3e95a21ae5db3,"Raise an exception if get_vfile() fails, rather than ignoring the error",MERGED,2020-03-19 15:47:50.000000000,2020-03-20 04:18:18.000000000,2020-03-20 04:16:50.000000000,10,3,2,713911,df7f895ff8467344967795529056270a5ea93546,11,3,1,1,25251,Alexandre Lécuyer,alecuyer,"Raise an exception if get_vfile() fails, rather than ignoring the error

Without the patch we see ugly exceptions on machines with failing disks, or with
corrupted metadata

Change-Id: Ie0ec8dbb7e0d875d03ff9ae2eba3e95a21ae5db3
"
openstack%2Fopenstack-helm-infra~master~Ia230a9eafd97e35d131c365036e9d9bd8d7008ec,openstack/openstack-helm-infra,master,,Ia230a9eafd97e35d131c365036e9d9bd8d7008ec,Test commit,ABANDONED,2020-03-06 16:48:21.000000000,2020-03-20 04:08:40.000000000,,1,0,0,711655,c3d1c52fea4c1c883a0cce0cc32b1b11dd0b10ac,5,2,1,1,31479,Gayathri Devi Kathiri,gayathri,"Test commit

Change-Id: Ia230a9eafd97e35d131c365036e9d9bd8d7008ec
"
openstack%2Fsenlin~master~Ic252cf7d5cc7277fa86bf12df8776dac27151f83,openstack/senlin,master,,Ic252cf7d5cc7277fa86bf12df8776dac27151f83,Allow LB creation with VIP_NETWORK *or* VIP_SUBNET,MERGED,2020-03-16 17:25:32.000000000,2020-03-20 03:54:47.000000000,2020-03-20 03:53:22.000000000,289,49,1,713296,d3bd9ef3f36f6271eb48e57edec41f312863803e,13,6,2,9,10273,Adam Harwell,rm_you,"Allow LB creation with VIP_NETWORK *or* VIP_SUBNET

Octavia allows LB creation with only a vip_network_id specified. This is
necessary for things like routed-network environments where subnets are
often not exposed to users, or else not well understood by them, and
Octavia should retain responsibility for choosing the subnet.

Change-Id: Ic252cf7d5cc7277fa86bf12df8776dac27151f83
"
openstack%2Ftripleo-ci~master~I5d29a9a502eb41feaa570bb4fdab7c3d6efb4e9f,openstack/tripleo-ci,master,centos-8-jobs,I5d29a9a502eb41feaa570bb4fdab7c3d6efb4e9f,Make centos-8 scenario007 voting,MERGED,2020-03-12 12:12:38.000000000,2020-03-20 03:25:26.000000000,2020-03-20 03:25:26.000000000,3,2,0,712665,03271f88cea164ea89a530a2e0fafcd874d0302e,17,4,4,1,8367,Arx Cruz,arxcruz,"Make centos-8 scenario007 voting

Job seems to be stable enough to switch to voting

Change-Id: I5d29a9a502eb41feaa570bb4fdab7c3d6efb4e9f
"
openstack%2Fnova~master~If9e173c8df2a7ab47dc5fca90e1d333c0f34197b,openstack/nova,master,,If9e173c8df2a7ab47dc5fca90e1d333c0f34197b,libvirt: Fix unit test error block info on non x86 architecture,MERGED,2020-03-19 15:36:41.000000000,2020-03-20 02:56:16.000000000,2020-03-19 22:10:56.000000000,3,1,0,713905,d10ed8e75b8861f13c4a3a3e823b7e679b08d0ef,18,9,2,1,22076,Kevin Zhao,KevinZhao,"libvirt: Fix unit test error block info on non x86 architecture

The Q35 machine type does not provide an IDE bus. As a result, when
trying to provide a default bus for 'cdrom' type devices, we check the
machine type and select either 'ide' or 'sata' depending on whether
we're using the Q35 machine type. However, this only applies for x86 as
other architectures use different machine types.

The 'test_get_disk_bus_for_device_type_cdrom_with_q35_image_meta' test
is intended to ensure that the retrieved bus type for a 'cdrom' type
device is actually 'sata' when the machine type is 'q35'. However,
this test can still fail on non-x86 platforms. Correct this by using
the 'hw_architecture' image metadata property to ensure consistent
behavior on all platforms.

Change-Id: If9e173c8df2a7ab47dc5fca90e1d333c0f34197b
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
Closes-Bug: #1868121
"
openstack%2Fswift~master~Id00f184c0d85cf7f645c5c8ac9a24cbdd39571c3,openstack/swift,master,712238,Id00f184c0d85cf7f645c5c8ac9a24cbdd39571c3,Add gate job for CORS func tests,ABANDONED,2020-03-11 23:37:15.000000000,2020-03-20 02:40:48.000000000,,72,0,0,712585,f3c73c93b2456ca445188eb15490958a9ad113a1,18,1,11,4,15343,Tim Burke,tburke,"Add gate job for CORS func tests

Areas for future work:

- Install chromium and chromdriver in the gate; tests should
  automatically pick up on the fact that it's available
- Capture the web browser's console logs, too, so we can get
  more info when things go wrong

Change-Id: Id00f184c0d85cf7f645c5c8ac9a24cbdd39571c3
"
openstack%2Fswift~master~Ia20ae0b7a9c53fb3f6cc196395e0f0ec64a4d3ce,openstack/swift,master,,Ia20ae0b7a9c53fb3f6cc196395e0f0ec64a4d3ce,Move cors out of functests,ABANDONED,2020-03-18 23:04:06.000000000,2020-03-20 02:40:12.000000000,,11,6,6,713754,2cb5f31c71a3f67efa0ba4f49fc5120fba532f8f,8,3,2,9,1179,Clay Gerrard,clay-gerrard,"Move cors out of functests

I also bind my run server to 0.0.0.0 so I can hit it from my host and
use a new --hostname option for 'saio' instead of 'localhost'

Change-Id: Ia20ae0b7a9c53fb3f6cc196395e0f0ec64a4d3ce
"
openstack%2Fqa-specs~master~Ic63f35b238d4410a438c99d228a932b3fa3ec98c,openstack/qa-specs,master,,Ic63f35b238d4410a438c99d228a932b3fa3ec98c,Whitebox Tempest Plugin,MERGED,2019-05-02 22:35:02.000000000,2020-03-20 01:58:13.000000000,2020-03-20 01:56:57.000000000,99,0,30,656890,6c500e1933b35edfe6092f3339ec3ed364bfc7dd,30,6,6,1,8864,Artom Lifshitz,artom,"Whitebox Tempest Plugin

Tempest defines its scope as only what is accessible through the
various REST APIs. Some cloud features cannot be properly tested when
using only the REST API. The whitebox-tempest-plugin is a Tempest
plugin whose scope explicitly requires peeking behind the curtain. In
other words, if a feature or behavior can be fully tested using only a
REST API, such a test does not belong in whitebox-tempest-plugin. On
the other hand, if fully testing a feature or behavior requires
accessing the control plane like a human operator or admin would, such
a test belongs in whitebox-tempest plugin.

Change-Id: Ic63f35b238d4410a438c99d228a932b3fa3ec98c
"
openstack%2Fdevstack~master~I8dd620fa1fa5c0389538a6a3cf3f100fb6a9572b,openstack/devstack,master,neutron-uwsgi-default,I8dd620fa1fa5c0389538a6a3cf3f100fb6a9572b,Switch default Neutron's deployment method,NEW,2019-11-13 10:53:46.000000000,2020-03-20 01:32:50.000000000,,6,10,0,694042,a43192361b71f0156bb478d46c126d177321e58a,14,7,4,2,11975,Slawek Kaplonski,slaweq,"Switch default Neutron's deployment method

Since beginin of the Train cycle Neutron runs uwsgi based
jobs in CI.

Those jobs seems to be as stable as other, eventlet based jobs currently
so during the Shanghai PTG we decided to switch Neutron's default
deployment method to be uwsgi.

Depends-On: https://review.opendev.org/694264
Depends-On: https://review.opendev.org/694266

Change-Id: I8dd620fa1fa5c0389538a6a3cf3f100fb6a9572b
"
openstack%2Ftripleo-common~stable%2Ftrain~I54097b2bbf19cd07bceb6ce608aa7f80435ad894,openstack/tripleo-common,stable/train,c8imagebuild-stable/train,I54097b2bbf19cd07bceb6ce608aa7f80435ad894,Use unversioned RHEL element w/ RHEL8,MERGED,2020-03-17 20:13:07.000000000,2020-03-20 01:22:49.000000000,2020-03-20 01:21:15.000000000,1,1,0,713527,e76a1c19ed542afbdd55b72a69dc1af65109b909,8,4,1,1,14985,Alex Schultz,mwhahaha,"Use unversioned RHEL element w/ RHEL8

Using 'rhel8' instead of 'rhel' causes errors.

Related to commits:
  18788b2b1748ffaa088a23caeec165391d9d7b4e
  5877ef54d3c3a2392297123a70cbf4a03f93e977

Change-Id: I54097b2bbf19cd07bceb6ce608aa7f80435ad894
Signed-off-by: Lon Hohberger <lhh@redhat.com>
(cherry picked from commit eda7ffe39b9caccc637597624a3c255c5d7443b6)
"
openstack%2Ftripleo-common~master~I5b1fa484010f88212ddb312f963a8f530e5a78d9,openstack/tripleo-common,master,mistral_to_ansible,I5b1fa484010f88212ddb312f963a8f530e5a78d9,Move DeployStackAction functionality to utils,MERGED,2020-03-18 06:59:05.000000000,2020-03-20 01:22:32.000000000,2020-03-20 01:21:15.000000000,407,427,0,713580,f6d55d57eb3deec7b06dddd13b7535bd7cf5e726,10,5,1,4,8833,Rabi Mishra,rabi,"Move DeployStackAction functionality to utils

Change-Id: I5b1fa484010f88212ddb312f963a8f530e5a78d9
"
openstack%2Fpython-openstackclient~master~Ifcb5b4fe2486087a5ca1ff9609f7bf09ef026974,openstack/python-openstackclient,master,command_exception,Ifcb5b4fe2486087a5ca1ff9609f7bf09ef026974,Update image building jobs,MERGED,2020-03-19 21:18:10.000000000,2020-03-20 01:17:55.000000000,2020-03-20 01:15:26.000000000,18,13,0,713983,332457bc875401ba990a50c2d7ed14f49ea4e462,8,2,2,1,2,Monty Taylor,mordred,"Update image building jobs

We're failing on promote but not upload. That's weird. Make sure
the secret is appropriately encoded, and copy what zuul is doing.
Also make promote a zero-node job.

Change-Id: Ifcb5b4fe2486087a5ca1ff9609f7bf09ef026974
"
openstack%2Ftripleo-common~stable%2Ftrain~Ice40fec0eacefd9778614996fb3417b78cdd17d3,openstack/tripleo-common,stable/train,c8imagebuild-stable/train,Ice40fec0eacefd9778614996fb3417b78cdd17d3,Add interface-names to centos8 images,MERGED,2020-03-13 13:38:31.000000000,2020-03-20 00:59:48.000000000,2020-03-20 00:58:32.000000000,4,0,0,712949,e64cccf5e6cb6bd923efbc6b82eca95cf0b9a119,9,3,1,3,14985,Alex Schultz,mwhahaha,"Add interface-names to centos8 images

Back in Bug #1841441, we disabled the net.ifnames because of the
RHEL7->RHEL8 changes to interface names. Now that we have centos8, we
need to ensure this action is also run on those images.

Depends-On: https://review.opendev.org/#/c/712947/
Change-Id: Ice40fec0eacefd9778614996fb3417b78cdd17d3
Related-Bug: #1866202
Related-Bug: #1841441
(cherry picked from commit 2589b8f22ad2d263bcecbb8278e73f0822e7eba3)
"
openstack%2Fneutron~master~Iffef8ceb9ca458820a7b3e604a53281f7e93b810,openstack/neutron,master,bug/1865453,Iffef8ceb9ca458820a7b3e604a53281f7e93b810,Mark TestVirtualPorts tests as unstable,MERGED,2020-03-19 12:16:10.000000000,2020-03-20 00:58:22.000000000,2020-03-20 00:56:29.000000000,5,0,0,713860,ceb27f2c7d9d91526e9062bfaad71d2a270318bf,15,6,1,1,24791,Maciej Jozefczyk,maciej.jozefczyk,"Mark TestVirtualPorts tests as unstable

Based on debug performed in [1] the TestVirtualPorts
are unstable. At lease one of tests per 20
retries of functional job fail in various
places.
We don't think it is worth to spend more
time on debugging those tests, because there is
a possible easier solution: set virtual port
type based on DEVICE_TYPE, and do not rely
on allowed address pairs.

[1] https://review.opendev.org/#/c/712888/

Related-Bug: #1865453

Change-Id: Iffef8ceb9ca458820a7b3e604a53281f7e93b810
"
openstack%2Frequirements~master~Ice8895202f2f0a80ff33e5185010b4ad5147c743,openstack/requirements,master,new-release,Ice8895202f2f0a80ff33e5185010b4ad5147c743,update constraint for tripleo-common to new release 12.2.0,MERGED,2020-03-19 22:01:51.000000000,2020-03-20 00:58:19.000000000,2020-03-20 00:56:32.000000000,1,1,0,713997,f621337f13dd285974a6ece56462d5702a4f0c9d,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for tripleo-common to new release 12.2.0

Change-Id: Ice8895202f2f0a80ff33e5185010b4ad5147c743
meta:version: 12.2.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Rabi Mishra <ramishra@redhat.com>
meta:release:Commit: Rabi Mishra <ramishra@redhat.com>
meta:release:Change-Id: I947922e88aab0b050fd5ef3368caf239fe9b7808
meta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>
meta:release:Code-Review+1: Emilien Macchi <emilien@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fopenstack-ansible-repo_build~master~I4ae6737f1ded4cbb680a380c8c309a0f5bf64723,openstack/openstack-ansible-repo_build,master,,I4ae6737f1ded4cbb680a380c8c309a0f5bf64723,repo_build: take distro version into account,MERGED,2020-03-16 16:26:21.000000000,2020-03-20 00:49:07.000000000,2020-03-19 12:16:13.000000000,1,1,0,713284,d5e33c8afa6401392f9286f9cf3ffe7bc1a5bc8e,10,4,1,1,25600,Ebbex,ebbex,"repo_build: take distro version into account

When introducing a new repo_container with a different distro, using
the same directory for symlinks can result in weird builds. We should
prevent the links directory to be copied all willy-nilly, as suggested
here;

https://review.opendev.org/#/c/712784/
https://review.opendev.org/#/c/712787/

But we can further prevent bad builds by separating under distro-arch
under links with this patch.

Depends-On: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
Change-Id: I4ae6737f1ded4cbb680a380c8c309a0f5bf64723
"
openstack%2Ftripleo-common~stable%2Fstein~I6de47600f430d3af5e3052ff456cd718a0df0d76,openstack/tripleo-common,stable/stein,,I6de47600f430d3af5e3052ff456cd718a0df0d76,Re-raise same exception type in export_stream,MERGED,2020-03-19 13:11:02.000000000,2020-03-20 00:48:50.000000000,2020-03-20 00:46:26.000000000,30,4,0,713872,68867107c892c6aedef1eae099680fc331ec2513,8,4,1,2,14985,Alex Schultz,mwhahaha,"Re-raise same exception type in export_stream

tripleo-container-image-prepare can consume a lot of memory during
the export. Previously, when a MemoryError was raised by python, the
exception was hidden because there was no message in the exception and
the code re-raised an IOError.

This patch updates the code so that a MemoryError is specifically caught
if one was thrown, and an accurate message is logged.

Change-Id: I6de47600f430d3af5e3052ff456cd718a0df0d76
(cherry picked from commit 9d7a9b83ed8d20c8baa9a6b49812f4f30faf7782)
"
openstack%2Fopenstack-ansible-repo_build~master~I3bd6d3d987e32ee11c5f1fcb5c1b4b0fc797e7f9,openstack/openstack-ansible-repo_build,master,,I3bd6d3d987e32ee11c5f1fcb5c1b4b0fc797e7f9,repo_build: Do not sync links directory between repo_containers,MERGED,2020-03-12 20:04:12.000000000,2020-03-20 00:47:05.000000000,2020-03-19 12:16:14.000000000,0,2,0,712784,4bd52916e724046ca3b138e55b443d730547c0b6,21,4,6,1,25600,Ebbex,ebbex,"repo_build: Do not sync links directory between repo_containers

The links directory is only used by repo_build when creating requirement
wheels. The repo_build process builds wheels for it's own distro/arch combo
in serial. So in a mixed environment, where you might have ubuntu-16.04-x86_64
and ubuntu-18.04-x86_64 repo_containers, heck even centos-7-x86_64 for that
matter, copying the links pointing to pools/distro-arch over to another
repo_container creating wheels for a different distro/arch leads to bad builds
getting deployed later.

We also need to prevent the later lsync config from spreading these out
https://review.opendev.org/#/c/705390/

We can prevent this mix-up from happening even further by setting
repo_build_global_links_path: ""{{ repo_build_base_path }}/links/{{ repo_build_os_distro_version }}""
as suggested in https://review.opendev.org/#/c/708115/

This is probably only relevant for stable/rocky.
Depends-On: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
Change-Id: I3bd6d3d987e32ee11c5f1fcb5c1b4b0fc797e7f9
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7a1ce4ba4ac358733747e9301038d0245ae08016,openstack/tripleo-heat-templates,stable/train,lp1867973-stable/train,I7a1ce4ba4ac358733747e9301038d0245ae08016,Move ceph-ansible required variables in the main group,MERGED,2020-03-19 18:33:56.000000000,2020-03-20 00:46:25.000000000,2020-03-20 00:46:25.000000000,17,11,0,713959,52a3f896de217275721adb8940d4fbb68685fe1f,8,8,1,3,25402,Francesco Pantano,fmount,"Move ceph-ansible required variables in the main group

ceph-ansible v4.0.16 introduced some changes to double check
the ceph dashboard and grafana passwords exist, are properly
generated and are not defaults values.
However, the constraint introduced forced tripleo to put
these variables in all.yaml instead of distributing them on
the related roles (mgr and grafana-server).
This change moves these variables in ceph-base, since here
we're able to generate the ceph_ansible_group_vars_all.

Closes-Bug: #1867973
Change-Id: I7a1ce4ba4ac358733747e9301038d0245ae08016
(cherry picked from commit ebe1a40fb94f35f90972a675d4998bb50fb6f752)
"
openstack%2Ftripleo-quickstart~master~I89f969808877c389af3d1fb977530735984b9bbf,openstack/tripleo-quickstart,master,bug/1867035,I89f969808877c389af3d1fb977530735984b9bbf,Adjust molecule requirements,MERGED,2020-03-17 20:46:41.000000000,2020-03-20 00:32:10.000000000,2020-03-20 00:30:23.000000000,12,12,0,713532,076c67e8796a06b18e05f3da9e962fd9518d1602,16,5,1,2,4571,Steve Baker,steve-stevebaker,"Adjust molecule requirements

openstack-tox-molecule is currently broken with dependency issues
between pytest-html and molecule.

This change uses the same pytest/molecule requirements spec as
tripleo-ansible[1] and breaks out the requirements into their own
file.

[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/molecule-requirements.txt
Closes-Bug: #1867035

Change-Id: I89f969808877c389af3d1fb977530735984b9bbf
"
openstack%2Fpaunch~master~I5d1b88c90dbc4114d996008a407cd1dd9a6eb9da,openstack/paunch,master,bug/1868135,I5d1b88c90dbc4114d996008a407cd1dd9a6eb9da,Do not set cpuset-cpus if cconfig['cpuset_cpus'] == 'all',MERGED,2020-03-19 16:49:21.000000000,2020-03-20 00:32:06.000000000,2020-03-20 00:30:24.000000000,13,26,0,713932,9b6276512141693bddd064c915b08c1d027e5985,13,6,2,6,3153,Emilien Macchi,emilienm,"Do not set cpuset-cpus if cconfig['cpuset_cpus'] == 'all'

In the case of nova_libvirt container, we want to use all CPUs that are
reported online.
Rather than computing the list with Python (which has proven to be
problematic on PPC), let the container engine figuring it out by itself
like it was the case before.

Change-Id: I5d1b88c90dbc4114d996008a407cd1dd9a6eb9da
Closes-Bug: #1868135
"
openstack%2Fdevstack-plugin-ceph~master~I9210e5d97872da529e353c965a3102591b158d17,openstack/devstack-plugin-ceph,master,bug/1819944,I9210e5d97872da529e353c965a3102591b158d17,Use Luminous as default CEPH_RELEASE,ABANDONED,2019-03-13 20:21:01.000000000,2020-03-20 00:19:55.000000000,,1,1,4,643154,cc6963db613d3b1b062cf8847fe8bee845d03255,8,5,2,1,4690,melanie witt,melwitt,"Use Luminous as default CEPH_RELEASE

The Hammer release is no longer active [1] and recently, we ran into
a nova-grenade-live-migration job failure in preparation for the
change from ubuntu-xenial to ubuntu-bionic default CI node type
because the Hammer release is not available on ubuntu-bionic.

This updates the default release to Luminous, as it is an active
release and is what's available in the UCA for Queens [2].

Closes-Bug: #1819944

Depends-On: https://review.openstack.org/639017

[1] http://docs.ceph.com/docs/master/releases
[2] http://ubuntu-cloud.archive.canonical.com/ubuntu/dists/xenial-proposed/queens/main/binary-amd64/Packages

Change-Id: I9210e5d97872da529e353c965a3102591b158d17
"
openstack%2Ftempest~master~Ia001541e34193a2f30cd95be222e944d2ba62e9d,openstack/tempest,master,test-novnc-proxy-ssl,Ia001541e34193a2f30cd95be222e944d2ba62e9d,DNM: Use config settings for SSL in test_novnc,ABANDONED,2019-07-31 03:51:44.000000000,2020-03-20 00:17:05.000000000,,10,1,0,673723,f2f1da48d9a90ad91881cbea83af0859690458af,3,1,1,1,4690,melanie witt,melwitt,"DNM: Use config settings for SSL in test_novnc

Change-Id: Ia001541e34193a2f30cd95be222e944d2ba62e9d
"
openstack%2Fnova~master~Ic236dbf75df68aae47f23f203a1bf958834fcc95,openstack/nova,master,project-only,Ic236dbf75df68aae47f23f203a1bf958834fcc95,WIP Remove project_only=True from database queries,ABANDONED,2019-02-14 17:15:01.000000000,2020-03-20 00:16:14.000000000,,9,14,0,637010,b4fc2dab945c8130ee38e59d7a1f081302ea78ea,15,9,1,1,4690,melanie witt,melwitt,"WIP Remove project_only=True from database queries

Change-Id: Ic236dbf75df68aae47f23f203a1bf958834fcc95
"
openstack%2Frequirements~master~I8857361d699c0f79dd12307dc263868fdfd219a1,openstack/requirements,master,new-release,I8857361d699c0f79dd12307dc263868fdfd219a1,update constraint for oslo.vmware to new release 3.2.1,MERGED,2020-03-19 10:23:13.000000000,2020-03-20 00:11:22.000000000,2020-03-20 00:08:21.000000000,2,2,0,713821,1bed59facb4c4510a2453e100718db79de9995d9,13,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.vmware to new release 3.2.1

Change-Id: I8857361d699c0f79dd12307dc263868fdfd219a1
meta:version: 3.2.1
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fnova~stable%2Ftrain~Icd7ab2ca4ddbed92c7e883a63a23245920d961e7,openstack/nova,stable/train,bug/1867380,Icd7ab2ca4ddbed92c7e883a63a23245920d961e7,nova-live-migration: Wait for n-cpu services to come up after configuring Ceph,MERGED,2020-03-19 11:03:54.000000000,2020-03-20 00:10:49.000000000,2020-03-20 00:08:08.000000000,42,5,0,713836,70447bca2f4f33c6872eaf94a2e4351bb257c22a,17,8,1,1,10135,Lee Yarwood,lyarwood,"nova-live-migration: Wait for n-cpu services to come up after configuring Ceph

Previously the ceph.sh script used during the nova-live-migration job
would only grep for a `compute` process when checking if the services
had been restarted. This check was bogus and would always return 0 as it
would always match itself. For example:

2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root
29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps
       aux | grep compute
2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root
29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute

Failures of this job were seen on the stable/pike branch where slower CI
nodes appeared to struggle to allow Libvirt to report to n-cpu in time
before Tempest was started. This in-turn caused instance build failures
and the overall failure of the job.

This change resolves this issue by switching to pgrep and ensuring
n-cpu services are reported as fully up after a cold restart before
starting the Tempest test run.

Closes-Bug: 1867380
Change-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7
(cherry picked from commit e23c3c2c8df3843c5853c87ef684bd21c4af95d8)
"
openstack%2Fswift~feature%2Flosf~I0e4ab89bbe3d0aee305272fdd920122e80530b8b,openstack/swift,feature/losf,dev/alecuyer/feature-branch-catchup,I0e4ab89bbe3d0aee305272fdd920122e80530b8b,Fix get_stats,MERGED,2020-03-19 15:47:50.000000000,2020-03-20 00:10:13.000000000,2020-03-20 00:08:24.000000000,1,1,0,713910,b6e5f407b46f6cde08c9945fcef96535c5d42483,7,2,1,1,25251,Alexandre Lécuyer,alecuyer,"Fix get_stats

The response is now the stats themselves (remove "".stats"")

Change-Id: I0e4ab89bbe3d0aee305272fdd920122e80530b8b
"
openstack%2Frequirements~master~I25d0fcbd6f8cdafd645b9a0aeacbbe35a229714c,openstack/requirements,master,new-release,I25d0fcbd6f8cdafd645b9a0aeacbbe35a229714c,update constraint for oslo.policy to new release 3.0.1,MERGED,2020-03-19 10:26:03.000000000,2020-03-20 00:10:08.000000000,2020-03-20 00:08:17.000000000,1,1,0,713823,f44f726db9437eb40865b447d78fc92843a13859,13,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.policy to new release 3.0.1

Change-Id: I25d0fcbd6f8cdafd645b9a0aeacbbe35a229714c
meta:version: 3.0.1
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Frequirements~master~I5f76614f6fed6a5fcff5539ddc97898fd1cbad18,openstack/requirements,master,new-release,I5f76614f6fed6a5fcff5539ddc97898fd1cbad18,update constraint for oslo.service to new release 2.1.0,MERGED,2020-03-19 10:21:38.000000000,2020-03-20 00:08:19.000000000,2020-03-20 00:08:19.000000000,2,2,0,713819,c99ce20e1d1e38faca2a69368f037a31e88d1b84,11,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.service to new release 2.1.0

Change-Id: I5f76614f6fed6a5fcff5539ddc97898fd1cbad18
meta:version: 2.1.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Frequirements~stable%2Frocky~Iff22a24f6c453c515b652e6a4319c2b438791875,openstack/requirements,stable/rocky,new-release,Iff22a24f6c453c515b652e6a4319c2b438791875,update constraint for glance_store to new release 0.26.2,MERGED,2020-03-19 12:45:09.000000000,2020-03-20 00:08:16.000000000,2020-03-20 00:08:16.000000000,1,1,0,713868,6ec8f2efd1b4f84b02f6eff1fd025bcfb2f2c5f1,11,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for glance_store to new release 0.26.2

Change-Id: Iff22a24f6c453c515b652e6a4319c2b438791875
meta:version: 0.26.2
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Abhishek Kekane <akekane@redhat.com>
meta:release:Commit: Abhishek Kekane <akekane@redhat.com>
meta:release:Change-Id: Ie518c1d82ab3c7fdd5447666e89dacfbd3bda993
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fopenstack-helm-infra~master~Id11079b5ce3a8d1010e604300f457e4060aee582,openstack/openstack-helm-infra,master,libvirt-default,Id11079b5ce3a8d1010e604300f457e4060aee582,[libvirt] update values.yaml to use train libvirt image,MERGED,2020-03-09 23:51:29.000000000,2020-03-20 00:01:37.000000000,2020-03-20 00:00:04.000000000,17,9,1,712004,14d8118e2ec5a2f2043106695c1b84ae6975f4a8,17,5,4,7,8898,Chris Wedgwood,anticw,"[libvirt] update values.yaml to use train libvirt image

this means the chart works 'as-is' (with the rest of the currently
released components) in most cases without the explicit need for an
image override.

Change-Id: Id11079b5ce3a8d1010e604300f457e4060aee582
"
openstack%2Fironic~master~If2496e9c143400dcce017a79cf179768951eb137,openstack/ironic,master,devstack_c7_rootwrap,If2496e9c143400dcce017a79cf179768951eb137,Support centos 7 rootwrap data directory,MERGED,2020-03-19 00:11:26.000000000,2020-03-19 23:49:33.000000000,2020-03-19 23:47:50.000000000,5,0,0,713765,bee537a4a362c23958d6e9e7b05f82e563b6b54a,14,7,1,1,6994,Michael Chapman,michaeltchapman,"Support centos 7 rootwrap data directory

Centos 7 pip seems to install the rootwrap filters to /usr/local
despite its data path resolving to /usr.

Change-Id: If2496e9c143400dcce017a79cf179768951eb137
"
openstack%2Fneutron~master~I9fb0f05ede42afa1a349635b1936028edf540a1f,openstack/neutron,master,bug/1864225,I9fb0f05ede42afa1a349635b1936028edf540a1f,Deny delete last slaac subnet with allocation on segment,MERGED,2020-02-29 04:27:56.000000000,2020-03-19 23:25:57.000000000,2020-03-19 23:20:00.000000000,79,7,17,710547,f987486febb9fbe88232bb9139508981b92147f1,62,7,9,3,24245,Harald Jensås,harald.jensas,"Deny delete last slaac subnet with allocation on segment

When a port has only one IP allocation on auto-allocation
subnet which is associated with a segment, do not allow
the delete of the subnet. Raise SubnetInUse exception instead.

Related: rhbz#1803989
Related-Bug: #1864225
Related-Bug: #1864333
Closes-Bug: #1865138
Change-Id: I9fb0f05ede42afa1a349635b1936028edf540a1f
"
openstack%2Fneutron~master~I75ae14c64db076434ca9897ba9a6d97702e233ad,openstack/neutron,master,bug/1864225,I75ae14c64db076434ca9897ba9a6d97702e233ad,subnet create - segment aware auto-addr allocation,MERGED,2020-02-29 04:27:56.000000000,2020-03-19 23:23:47.000000000,2020-03-19 23:19:57.000000000,88,0,4,710546,3d3dc60408148cf16bc19cccb76b8652f980fa1c,75,7,10,2,24245,Harald Jensås,harald.jensas,"subnet create - segment aware auto-addr allocation

When creating additional subnets with ipv6 auto-addressing
ip allocation was added to existing ports without filtering
on current allocation's segment.

This adds fitering to only add auto-address allocation when
the new subnet is on the same segment as the ports current
ipam allocations.

Related: rhbz#1803989
Related-Bug: #1864225
Related-Bug: #1865138
Closes-Bug: #1864333
Change-Id: I75ae14c64db076434ca9897ba9a6d97702e233ad
"
openstack%2Fopenstack-helm~master~I4e1f2b6687a05f2bf3ca91c941c2cf11abe68f07,openstack/openstack-helm,master,netpol,I4e1f2b6687a05f2bf3ca91c941c2cf11abe68f07,Heat: Add ingress network policy overrides,MERGED,2019-09-30 14:25:56.000000000,2020-03-19 23:07:06.000000000,2020-03-19 23:05:11.000000000,27,21,11,685723,f76a3f5e0a6f62ad409cca7ef703b7bdeec94da6,79,14,19,2,24780,Sangeet Gupta,sgupta,"Heat: Add ingress network policy overrides

This patch set adds in default heat ingress overrides.

Change-Id: I4e1f2b6687a05f2bf3ca91c941c2cf11abe68f07
"
openstack%2Ftrove~master~I41bf34cd482dcf880cd66c8bd123898f77c10056,openstack/trove,master,doc,I41bf34cd482dcf880cd66c8bd123898f77c10056,Improve the doc,MERGED,2020-03-19 10:01:13.000000000,2020-03-19 23:00:17.000000000,2020-03-19 22:58:49.000000000,125,206,0,713814,dc0bfe1d39e0b05c94c3bad394b9dc415a75ad22,9,2,2,8,6732,Lingxian Kong,kong,"Improve the doc

Change-Id: I41bf34cd482dcf880cd66c8bd123898f77c10056
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib957da14fd47953d7419438236888efc41034e1a,openstack/tripleo-heat-templates,stable/train,bug/1860009,Ib957da14fd47953d7419438236888efc41034e1a,roles: Update description of ComputeRealTime role,MERGED,2020-01-22 13:39:13.000000000,2020-03-19 22:46:17.000000000,2020-03-19 22:46:17.000000000,6,5,0,703793,fb6cbd62583fea25643075e0fec83c15a10857eb,23,6,1,1,15334,Stephen Finucane,sfinucan,"roles: Update description of ComputeRealTime role

Change I52c52b62f1c21214b98c98773c8647609cb81d52 removed use of the
'NovaVcpuPinSet' from this role but did not remove references from the
description of same. Fix this now.

Change-Id: Ib957da14fd47953d7419438236888efc41034e1a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-bug: #1860009
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0240e74f1da0219c8c029db191b3490062ca5722,openstack/tripleo-heat-templates,stable/train,train/ppc,I0240e74f1da0219c8c029db191b3490062ca5722,[TRAIN and before] ComputePPC64LE: disable ContainerCpusetCpus by default,ABANDONED,2020-03-19 15:43:41.000000000,2020-03-19 22:38:56.000000000,,4,0,0,713908,14373de65f35d388b56a3046c1403ff14fed1a66,4,2,1,1,3153,Emilien Macchi,emilienm,"[TRAIN and before] ComputePPC64LE: disable ContainerCpusetCpus by default

When deploying the ComputePPC64LE role, make sure ContainerCpusetCpus is
disabled by default in order to let Docker figuring out what Cpus the
container can use.

In Paunch, we'll rework the get_all_cpus() on PPC to return correct
data; which seems to be broken on that platform right now.

https://bugzilla.redhat.com/show_bug.cgi?id=1813091

Note: this patch doesn't apply on master; only Train and will be
backported to Stein and Queens.

Change-Id: I0240e74f1da0219c8c029db191b3490062ca5722
"
openstack%2Fopenstack-helm~master~I7392ae36f116c52eb4e1929721ffa19e61cf8d94,openstack/openstack-helm,master,,I7392ae36f116c52eb4e1929721ffa19e61cf8d94,Move common nova Train overrides from distro overrides,MERGED,2020-03-19 00:11:25.000000000,2020-03-19 22:26:33.000000000,2020-03-19 22:24:48.000000000,9,9,0,713764,5964ca18a50ff1dca099332a6e5dca5ef78230f3,16,4,1,2,8863,Andrii Ostapenko,aostapenko,"Move common nova Train overrides from distro overrides

Change-Id: I7392ae36f116c52eb4e1929721ffa19e61cf8d94
"
openstack%2Freleases~master~I486774fd2b4d1bf41a45ded69829ba4fde233582,openstack/releases,master,rocky-em,I486774fd2b4d1bf41a45ded69829ba4fde233582,[tripleo] Transition Rocky to EM,MERGED,2020-02-26 01:01:59.000000000,2020-03-19 22:20:18.000000000,2020-03-19 22:20:18.000000000,64,9,0,709912,b0b5b672a5be86d59aef63b3d6c9e24932c9c9ad,16,7,3,17,11904,Sean McGinnis,SeanM,"[tripleo] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I486774fd2b4d1bf41a45ded69829ba4fde233582
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Frequirements~master~I32003146da642825d2cd59c1ad51ea24cda73e61,openstack/requirements,master,new-release,I32003146da642825d2cd59c1ad51ea24cda73e61,update constraint for taskflow to new release 4.1.0,MERGED,2020-03-19 10:22:48.000000000,2020-03-19 22:12:48.000000000,2020-03-19 22:10:53.000000000,2,2,0,713820,1497b32e080ed248378ece9148ce4998db6d2d10,10,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for taskflow to new release 4.1.0

Change-Id: I32003146da642825d2cd59c1ad51ea24cda73e61
meta:version: 4.1.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fkolla~stable%2Ftrain~Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920,openstack/kolla,stable/train,,Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920,CI: publish AArch64 Debian/source images,MERGED,2020-03-19 11:22:54.000000000,2020-03-19 21:41:32.000000000,2020-03-19 21:38:03.000000000,12,0,3,713851,d43c8b78ac9e1165445e4748c4f5b9e757e5dd8d,17,3,3,2,24072,Marcin Juszkiewicz,hrw,"CI: publish AArch64 Debian/source images

We want to test upgrades on aarch64. For this we need to publish images.

AArch64 images with get ""-aarch64"" added to tag to not collide with
x86-64 ones.

(manually adapted from master change)

Change-Id: Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920
"
openstack%2Freleases~master~I597132f63465e888a22889e4d7663a33f29d21aa,openstack/releases,master,rocky-em,I597132f63465e888a22889e4d7663a33f29d21aa,[glance] Transition Rocky to EM,MERGED,2020-02-26 01:00:07.000000000,2020-03-19 21:39:26.000000000,2020-03-19 21:39:26.000000000,12,0,3,709888,d433a8df8525f3a871104ed676dda98cabd8e182,28,8,3,3,11904,Sean McGinnis,SeanM,"[glance] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I597132f63465e888a22889e4d7663a33f29d21aa
"
openstack%2Freleases~master~Ib63f2b63a8e8f269fe18efe8e0d20771eec75c47,openstack/releases,master,rocky-em,Ib63f2b63a8e8f269fe18efe8e0d20771eec75c47,Create stable/rocky branch for tripleo-ipsec,MERGED,2020-03-19 17:24:56.000000000,2020-03-19 21:39:24.000000000,2020-03-19 21:39:24.000000000,3,0,0,713941,aeef556e069912d0dd939ac943fde697473d8342,6,2,1,1,11904,Sean McGinnis,SeanM,"Create stable/rocky branch for tripleo-ipsec

Change-Id: Ib63f2b63a8e8f269fe18efe8e0d20771eec75c47
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I947922e88aab0b050fd5ef3368caf239fe9b7808,openstack/releases,master,,I947922e88aab0b050fd5ef3368caf239fe9b7808,Release tripleo-common 12.2.0,MERGED,2020-03-19 14:27:56.000000000,2020-03-19 21:39:23.000000000,2020-03-19 21:39:23.000000000,4,0,0,713891,48deebb07cfea5d2e02cdcc9a224bd79eca14f63,9,4,1,1,8833,Rabi Mishra,rabi,"Release tripleo-common 12.2.0

Required for some new tripleo-ansible ansible modules.

Change-Id: I947922e88aab0b050fd5ef3368caf239fe9b7808
"
openstack%2Fproject-config~master~I65cda57cb3a6e2dea33cb1c937310e007514bf8e,openstack/project-config,master,bulk-log-download,I65cda57cb3a6e2dea33cb1c937310e007514bf8e,upload-logs: generate a script to download logs,ABANDONED,2018-07-11 04:36:13.000000000,2020-03-19 21:27:53.000000000,,88,0,0,581565,9b0b9fc676dff10c8a4ab390594f64bd90d9af6c,12,4,3,4,7118,Ian Wienand,iwienand,"upload-logs: generate a script to download logs

This is a port of

 https://review.openstack.org/581204

to the test-upload-logs role.  The intention is that this would be
committed first to test the generation of this file in base-test.
Any code comments would be better in the other review.

Change-Id: I65cda57cb3a6e2dea33cb1c937310e007514bf8e
Needed-By: https://review.openstack.org/581204
"
openstack%2Fnova~master~I21aed9418fbf5d27717a3eed41ec4a0c0a523d6b,openstack/nova,master,bp/policy-defaults-refresh,I21aed9418fbf5d27717a3eed41ec4a0c0a523d6b,Switching new default roles in os-volumes-attachments policies,MERGED,2020-02-27 06:52:22.000000000,2020-03-19 21:22:04.000000000,2020-03-19 21:17:07.000000000,87,17,12,710190,0476cc8e6a56df50adfe8114f6f3ec3176973cc3,83,13,8,3,26458,Brin Zhang,zhangbailin,"Switching new default roles in os-volumes-attachments policies

We are introducing new default roles with scope capability
in policies, details as bellow:

  - For list and show volume attachment APIs change RULE_ADMIN_OR_OWNER
    to PROJECT_READER_OR_SYSTEM_READER role.
  - For create and delete attachment APIs change RULE_ADMIN_OR_OWNER to
    PROJECT_MEMBER_OR_SYSTEM_ADMIN role.
  - For update volume attachment API changes RULE_ADMIN_API to
    SYSTEM_ADMIN role.

And this simulates the future where we drop the deprecation
fall back in the policy by overriding the rules with a version where
there are no deprecated rule options. Operators can do the same by
adding overrides in their policy files that match the default but
stop the rule deprecation fallback from happening.

Partial implement blueprint policy-defaults-refresh

Change-Id: I21aed9418fbf5d27717a3eed41ec4a0c0a523d6b
"
openstack%2Ftripleo-upgrade~master~Ia4e64ae01dbbaf6d453b734a90df3d6761e14c24,openstack/tripleo-upgrade,master,centos-8-jobs,Ia4e64ae01dbbaf6d453b734a90df3d6761e14c24,move update to centos-8,MERGED,2020-03-09 21:17:20.000000000,2020-03-19 21:20:36.000000000,2020-03-19 21:20:36.000000000,10,57,3,711985,9f85895370184ba42ed03b5eca1157c585da2e17,25,4,7,1,9592,wes hayutin,weshayutin,"move update to centos-8

Depends-On: https://review.opendev.org/710876/
Change-Id: Ia4e64ae01dbbaf6d453b734a90df3d6761e14c24
"
openstack%2Fswift~feature%2Flosf~Icbcfc7148fdaeeb21df4b4173c2d99339639a550,openstack/swift,feature/losf,dev/alecuyer/feature-branch-catchup,Icbcfc7148fdaeeb21df4b4173c2d99339639a550,"In _get_vfile(), handle the case when a referenced object has been punched",MERGED,2020-03-19 15:47:50.000000000,2020-03-19 21:20:28.000000000,2020-03-19 21:17:12.000000000,10,0,0,713909,08e7521b9304caa0f1c3b853562d1ea76251aaa3,7,2,1,1,25251,Alexandre Lécuyer,alecuyer,"In _get_vfile(), handle the case when a referenced object has been punched

After a crash or power failure, we may still have an entry for an object
in the index server, that had just been punched from the volume prior to
the crash.

When that happens, do not raise an error, remove the entry from the
index server. This is already done in a couple of other places, but was
missing here.

Change-Id: Icbcfc7148fdaeeb21df4b4173c2d99339639a550
"
openstack%2Ftempest~master~Ie4d44b16595055201e12f10982fc78683a12d41a,openstack/tempest,master,feature/subnet_id_option,Ie4d44b16595055201e12f10982fc78683a12d41a,Add subnet_id option,MERGED,2020-01-31 13:40:37.000000000,2020-03-19 21:19:58.000000000,2020-03-19 21:17:03.000000000,36,9,2,705215,2385e0417beaf6ca83adbd64b1cb174daf89add7,56,9,5,4,30674,Lukas Piwowarski,lukas-piwowarski,"Add subnet_id option

When tested network contained more than one subnet then test failed
due to assert call.

Subnet_id option specifies which subnet should be used for testing
when more than one subnet in network is present. If subnet_id is
specified then each created VM is assigned a floating IP within
the range of the subnet.

Closes-Bug: 1856671
Change-Id: Ie4d44b16595055201e12f10982fc78683a12d41a
"
openstack%2Fnova~stable%2Ftrain~I617fd59de327de05a198f12b75a381f21945afb0,openstack/nova,stable/train,bug/1866380-stable/train,I617fd59de327de05a198f12b75a381f21945afb0,Lowercase ironic driver hash ring and ignore case in cache,MERGED,2020-03-18 21:00:22.000000000,2020-03-19 21:14:52.000000000,2020-03-19 21:09:17.000000000,36,4,0,713739,588b0484bf6f5fe41514f1428aeaf5613635e35a,12,6,1,2,4690,melanie witt,melwitt,"Lowercase ironic driver hash ring and ignore case in cache

Recently we had a customer case where attempts to add new ironic nodes
to an existing undercloud resulted in half of the nodes failing to be
detected and added to nova. Ironic API returned all of the newly added
nodes when called by the driver, but half of the nodes were not
returned to the compute manager by the driver.

There was only one nova-compute service managing all of the ironic
nodes of the all-in-one typical undercloud deployment.

After days of investigation and examination of a database dump from the
customer, we noticed that at some point the customer had changed the
hostname of the machine from something containing uppercase letters to
the same name but all lowercase. The nova-compute service record had
the mixed case name and the CONF.host (socket.gethostname()) had the
lowercase name.

The hash ring logic adds all of the nova-compute service hostnames plus
CONF.host to hash ring, then the ironic driver reports only the nodes
it owns by retrieving a service hostname from the ring based on a hash
of each ironic node UUID.

Because of the machine hostname change, the hash ring contained, for
example: {'MachineHostName', 'machinehostname'} when it should have
contained only one hostname. And because the hash ring contained two
hostnames, the driver was able to retrieve only half of the nodes as
nodes that it owned. So half of the new nodes were excluded and not
added as new compute nodes.

This adds lowercasing of hosts that are added to the hash ring and
ignores case when comparing the CONF.host to the hash ring members
to avoid unnecessary pain and confusion for users that make hostname
changes that are otherwise functionally harmless.

This also adds logging of the set of hash ring members at level DEBUG
to help enable easier debugging of hash ring related situations.

Closes-Bug: #1866380

Change-Id: I617fd59de327de05a198f12b75a381f21945afb0
(cherry picked from commit 7145100ee4e732caa532d614e2149ef2a545287a)
"
openstack%2Fdevstack~master~Id5fc11d1ae0a7daf439c7d72f831f298f5d0ce31,openstack/devstack,master,run-focal,Id5fc11d1ae0a7daf439c7d72f831f298f5d0ce31,Amend python pkgs for debian-based distros,MERGED,2020-02-13 09:41:36.000000000,2020-03-19 21:11:17.000000000,2020-03-19 21:09:50.000000000,5,8,0,707594,64ae08383a137d8b7fd18a8d8bc5c0fc191a186d,15,4,3,6,13252,Dr. Jens Harbott,jrosenboom,"Amend python pkgs for debian-based distros

Drop python2 packages that are no longer needed. Replace other py2 pkgs
with their py3 variant.

Change-Id: Id5fc11d1ae0a7daf439c7d72f831f298f5d0ce31
"
openstack%2Fnova~stable%2Focata~Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398,openstack/nova,stable/ocata,bug/1784705,Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398,Hook resource_tracker to remove stale node information,MERGED,2019-08-14 17:05:02.000000000,2020-03-19 21:09:46.000000000,2020-03-19 21:09:46.000000000,38,1,0,676467,9f8ff3960cd8915af4017da64dbeaf3a74383074,11,8,1,4,6873,Matt Riedemann,mriedem,"Hook resource_tracker to remove stale node information

When we remove a node from a host due to rebalance or decommission,
we need to tell the resource tracker so it stops keeping track of
the details for that node. This adds a hook for doing that and
calls it from the place in compute manager where we purge the
record from the database.

Change-Id: Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398
Closes-Bug: #1784874
(cherry picked from commit 99db9faae5c1e84e5aa8586c32ffcca7a61ae276)
(cherry picked from commit 7302a625ee9af2c9dd88f8630f1e95fc5977a70a)
(cherry picked from commit 4f112195b0ad99f07784a9fe8dbe32a25329151d)
"
openstack%2Fnova~stable%2Focata~I1ef4a23aa2bf5cb46b481045f3d968f62f74606d,openstack/nova,stable/ocata,bug/1812177,I1ef4a23aa2bf5cb46b481045f3d968f62f74606d,Fix incompatible version handling in BuildRequest,MERGED,2019-05-21 17:01:48.000000000,2020-03-19 21:09:41.000000000,2020-03-19 21:09:41.000000000,4,3,0,660456,8a20b086a14dd73bfa57cdef632a28e72e265eb2,22,11,2,2,17685,Elod Illes,elod.illes,"Fix incompatible version handling in BuildRequest

The BuildRequest object code assumed that IncompatibleObjectVersion
exception has a objver field that contains the object version. This
assumption is not true. The unit test made another mistake serializing
the function object obj_to_primitive instead of serializing the result
of the call of obj_to_primitive. This caused a false positive test
covering the error in the implementation as well.

Closes-Bug: #1812177

Change-Id: I1ef4a23aa2bf5cb46b481045f3d968f62f74606d
(cherry picked from commit 975f0156137e37f7a9139c0268547d79dcc3c43c)
(cherry picked from commit 6061186d2d86eb628dcdc61667c240576fa8f10e)
(cherry picked from commit 7c85ebad0bf13d609b384e7637b0787bf8d484f7)
(cherry picked from commit ebf011f11ebb4d329e90e7ec0e498a3a6832e154)
"
openstack%2Fnova~stable%2Focata~Ic2b19c2aa06b3059ab0344b6ac56ffd62b3f755d,openstack/nova,stable/ocata,bug/1849409,Ic2b19c2aa06b3059ab0344b6ac56ffd62b3f755d,Fix listing deleted servers with a marker,MERGED,2019-10-23 20:52:04.000000000,2020-03-19 21:09:34.000000000,2020-03-19 21:09:34.000000000,8,8,0,690747,b91592595141d7766c00255ffff04a25ca81c834,30,9,2,2,6873,Matt Riedemann,mriedem,"Fix listing deleted servers with a marker

Change I1aa3ca6cc70cef65d24dec1e7db9491c9b73f7ab in Queens,
which was backported through to Newton, introduced a regression
when listing deleted servers with a marker because it assumes
that if BuildRequestList.get_by_filters does not raise
MarkerNotFound that the marker was found among the build requests
and does not account for that get_by_filters method short-circuiting
if filtering servers with deleted/cleaned/limit=0. The API code
then nulls out the marker which means you'll continue to get the
marker instance back in the results even though you shouldn't,
and that can cause an infinite loop in some client-side tooling like
nova's CLI:

  nova list --deleted --limit -1

This fixes the bug by raising MarkerNotFound from
BuildRequestList.get_by_filters if we have a marker but are
short-circuiting and returning early from the method based on
limit or filters.

Change-Id: Ic2b19c2aa06b3059ab0344b6ac56ffd62b3f755d
Closes-Bug: #1849409
(cherry picked from commit df03499843aa7fd6089bd4d07b9d0eb5a8c14b47)
(cherry picked from commit 03a2508362ecf50463d0659142312a30d0fb91f3)
(cherry picked from commit 6038455e1dafeaf8ccfdd4be9e993beea3c9fb45)
(cherry picked from commit c84846dbf93588e5420b3565d163c0393443e6d6)
(cherry picked from commit 8c18293f93a0ef957010198ae3ef2f336364b97f)
(cherry picked from commit b277ec154f2a175c4cab609b89fd8d3c7de4d0e9)
"
openstack%2Fnova~stable%2Focata~I324193129acb6ac739133c7e76920762a8987a84,openstack/nova,stable/ocata,bug/1849409,I324193129acb6ac739133c7e76920762a8987a84,Add functional regression test for bug 1849409,MERGED,2019-10-23 20:52:04.000000000,2020-03-19 21:09:28.000000000,2020-03-19 21:09:27.000000000,92,14,0,690746,b6c7456face630086a0eb7fd1c8335d42ab0456a,16,6,2,3,6873,Matt Riedemann,mriedem,"Add functional regression test for bug 1849409

Change I1aa3ca6cc70cef65d24dec1e7db9491c9b73f7ab in Queens,
which was backported through to Newton, introduced a regression
when listing deleted servers with a marker because it assumes
that if BuildRequestList.get_by_filters does not raise
MarkerNotFound that the marker was found among the build requests
and does not account for that get_by_filters method short-circuiting
if filtering servers with deleted/cleaned/limit=0. The API code
then nulls out the marker which means you'll continue to get the
marker instance back in the results even though you shouldn't,
and that can cause an infinite loop in some client-side tooling like
nova's CLI:

  nova list --deleted --limit -1

This adds a functional recreate test for the regression which will
be updated when the bug is fixed.

NOTE(mriedem): In this backport the test is modified to disable the
DiskFilter since we're using Placement for filtering on DISK_GB.
Also, _wait_until_deleted is moved to InstanceHelperMixin since
If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7 is not in Ocata.

Change-Id: I324193129acb6ac739133c7e76920762a8987a84
Related-Bug: #1849409
(cherry picked from commit 45c2752f2ce08b314012eff044b01aa7d626b43d)
(cherry picked from commit 727d942b2830fb6970d99507f2b5eb1a28df01b2)
(cherry picked from commit 47caaccd4a03660d7df144f2eadd821d36baeaa8)
(cherry picked from commit 08337cccb060d0b3cad388004c1f802d5d053813)
(cherry picked from commit f03f5075e3751ccd03a60999eab1d7f4bf7c4f02)
(cherry picked from commit e2ba87cb7b1cfd4226cfd8028436ecf87ad8a2be)
"
openstack%2Fnova~stable%2Fqueens~I1942bfa9bd1baf8738d34c287216db7b59000a36,openstack/nova,stable/queens,bug/1864665,I1942bfa9bd1baf8738d34c287216db7b59000a36,Avoid circular reference during serialization,MERGED,2020-03-15 11:45:04.000000000,2020-03-19 21:09:22.000000000,2020-03-19 21:09:22.000000000,35,2,0,713132,54ca5d9afb11867ea022464d7ecad9f1ce13e453,13,8,1,2,9373,Vlad Gusev,s10,"Avoid circular reference during serialization

When an instance with numa topology is re-scheduled the conductor
migrate task blows with circular reference during request spec
serialization. It happens because there are ovos in the request spec
that jsonutils.dumps only serialize if requested explicitly.

This patch makes the explicit request.

This is a stable only bug fix as the borken code was removed in Stein by
the feature patch I4244f7dd8fe74565180f73684678027067b4506e

Closes-Bug: #1864665

Change-Id: I1942bfa9bd1baf8738d34c287216db7b59000a36
(cherry picked from commit 3871b38fe03aee7a1ffbbdfdf8a60b8c09e0ba76)
"
openstack%2Frequirements~stable%2Frocky~Iefd560fdc24095dfa4630b891b23360132ed21ca,openstack/requirements,stable/rocky,new-release,Iefd560fdc24095dfa4630b891b23360132ed21ca,update constraint for python-glanceclient to new release 2.13.2,MERGED,2020-03-19 12:40:07.000000000,2020-03-19 20:28:36.000000000,2020-03-19 20:28:36.000000000,1,1,0,713866,03c4c382a45aabde4aa6b205a5f044bf5bafdcad,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-glanceclient to new release 2.13.2

Change-Id: Iefd560fdc24095dfa4630b891b23360132ed21ca
meta:version: 2.13.2
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Abhishek Kekane <akekane@redhat.com>
meta:release:Commit: Abhishek Kekane <akekane@redhat.com>
meta:release:Change-Id: I738c6f108579a06fb63416738b09fe9410231a8f
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fkayobe~stable%2Fstein~I57fbf91ae3440d3e4e6a64cd7d05151e299c9322,openstack/kayobe,stable/stein,,I57fbf91ae3440d3e4e6a64cd7d05151e299c9322,Fix Kayobe overcloud introspection data save,MERGED,2020-03-19 11:07:42.000000000,2020-03-19 20:17:45.000000000,2020-03-19 20:16:14.000000000,7,2,0,713841,a2b5b4b2b3b1ccb48d992c19aa731bbb950a7678,12,4,1,2,14826,Mark Goddard,mgoddard,"Fix Kayobe overcloud introspection data save

Kayobe overcloud introspection data save fails because the dynamic
inventory script siliently breaks causing Ansible to parse it as a
static inventory file. The failure occurs due to OS_TOKEN being set.
This change works around setting OS_TOKEN before running the dynamic
inventory script by setting OS_CLOUD before querying inspector.

Confirmed on Stein and Train, and verified in both environments.

Story: 2007326
Task: 38846
Change-Id: I57fbf91ae3440d3e4e6a64cd7d05151e299c9322
(cherry picked from commit 167e2ff3db19f32544e324bd02f4586e36486650)
"
openstack%2Frequirements~master~I353a1061be82b26ec80aad356c058d7459d9e156,openstack/requirements,master,new-release,I353a1061be82b26ec80aad356c058d7459d9e156,update constraint for oslo.versionedobjects to new release 2.0.1,MERGED,2020-03-19 10:27:52.000000000,2020-03-19 20:16:40.000000000,2020-03-19 20:14:43.000000000,2,2,0,713825,34721b8fa88e233f7c8d0106f4d201105a4662cc,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.versionedobjects to new release 2.0.1

Change-Id: I353a1061be82b26ec80aad356c058d7459d9e156
meta:version: 2.0.1
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Ftripleo-ansible~master~Ib64307defe4d5a0e06ad862ab9f51d1da3d23312,openstack/tripleo-ansible,master,mistral_to_ansible,Ib64307defe4d5a0e06ad862ab9f51d1da3d23312,Fix the docs job,MERGED,2020-03-19 14:55:39.000000000,2020-03-19 20:15:31.000000000,2020-03-19 20:11:29.000000000,8,1,0,713896,3100780e1ecff0a0bceff186cb51294aac015f32,16,4,3,3,7353,Kevin Carter,cloudnull,"Fix the docs job

This change fixes the docs job to ensure we have access to development
versions of tripleo-common. This is being done because we have more
modules coming in which are using tripleo-common which may require
unreleased versions of the package when running tests. This change
adds tripleo-common as an upstream constraint which is only used in
the docs and molecule test scenarios.

Change-Id: Ib64307defe4d5a0e06ad862ab9f51d1da3d23312
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-ansible~master~I186602edc8cd4d5d7b3e9d16422460a48d1b2520,openstack/tripleo-ansible,master,,I186602edc8cd4d5d7b3e9d16422460a48d1b2520,change linters job to running on a cent8 node,MERGED,2020-03-19 15:13:36.000000000,2020-03-19 20:11:30.000000000,2020-03-19 20:11:30.000000000,3,2,0,713899,2ee8f8cb85afaf3c5664812fc8e478e1e2797d94,17,4,5,1,7353,Kevin Carter,cloudnull,"change linters job to running on a cent8 node

Change-Id: I186602edc8cd4d5d7b3e9d16422460a48d1b2520
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fnova~master~If13a817f73e2cccb6452412df8175a41fa3f6675,openstack/nova,master,,If13a817f73e2cccb6452412df8175a41fa3f6675,Synchronize sqlalchemy models with migrations for alembic 1.4.1,ABANDONED,2020-03-19 04:39:47.000000000,2020-03-19 20:10:01.000000000,,4,4,2,713778,d612b35ed124efc83d05e2b91573d5d19ecbc7c8,15,11,1,1,4690,melanie witt,melwitt,"Synchronize sqlalchemy models with migrations for alembic 1.4.1

The TestNovaMigrationsMySQL.test_models_sync unit test fails when we try
to bump the alembic version to 1.4.1 saying that the models are not in
sync with the migration scripts.

This updates the models to match the migration scripts for the
'instance_type_extra_specs' [1] and 'resource_providers' [2] tables.

Closes-Bug: #1868037

[1] https://github.com/openstack/nova/blob/a1aacd972ffa406b51639d51726a7dabb65bce1b/nova/db/sqlalchemy/migrate_repo/versions/298_mysql_extra_specs_binary_collation.py#L20
[2] https://github.com/openstack/nova/blob/a1aacd972ffa406b51639d51726a7dabb65bce1b/nova/db/sqlalchemy/migrate_repo/versions/318_resource_provider_name_aggregates.py#L43

Change-Id: If13a817f73e2cccb6452412df8175a41fa3f6675
"
openstack%2Fmistral~stable%2Ftrain~I12b4d0c5f1f49990d8ae09b72f73c0da96254a86,openstack/mistral,stable/train,bug/1867899,I12b4d0c5f1f49990d8ae09b72f73c0da96254a86,Fix ContextView JSON serialization,MERGED,2020-03-19 14:02:28.000000000,2020-03-19 19:55:12.000000000,2020-03-19 19:52:27.000000000,228,31,0,713886,241ea888c6993ac045cf12d6b61d4e1a1ff29ad3,8,3,1,7,8731,Renat Akhmerov,rakhmerov,"Fix ContextView JSON serialization

* With disabled YAQL data output conversion, YAQL may return
  instances of ContextView which can't be properly saved into
  DB. This happens because Mistral serialization code doesn't
  turn on JSON conversion of custom objects, and they are just
  ignored by the ""json"" lib when it encounters them.
* Fixed how Mistral serializes context for Javascript evaluation
  to address the same problem.
* Implemented __repr__ method of ContextView.
* Removed logging of ""data_context"" from YAQL evaluation because
  previously it was always empty (because the string represetation
  of ContextView was always ""{}"") and now it may be very big, like
  megabytes, and the log gets populated too fast. It makes sense to
  log YAQL data context only when an error happened. In this case
  it helps to investigate an issue.
* Added all required unit tests.
* Fixed the tests for disabled YAQL conversion. In fact, they
  didn't test it properly because data conversion wasn't disabled.

Closes-Bug: #1867899
Change-Id: I12b4d0c5f1f49990d8ae09b72f73c0da96254a86
"
openstack%2Fneutron~master~I0dcc9e91d874a9bb20754d7bf3deef2db20e83b7,openstack/neutron,master,,I0dcc9e91d874a9bb20754d7bf3deef2db20e83b7,Test neutron-centos-7-tripleo-standalone job viability,ABANDONED,2020-02-07 13:47:48.000000000,2020-03-19 19:50:40.000000000,,1,3,0,706509,a5426facdfbb3f0850f56fa87b20cd052e4a1caa,10,4,2,1,13995,Nate Johnston,natejohnston,"Test neutron-centos-7-tripleo-standalone job viability

Now that the drop-py27 goal is nearly complete, check and see if the
eeutron-centos-7-tripleo-standalone job can be reenabled.

Change-Id: I0dcc9e91d874a9bb20754d7bf3deef2db20e83b7
"
openstack%2Ftripleo-ansible~master~I1e709043bb4be93331d4511b947b181fe2ead8f4,openstack/tripleo-ansible,master,,I1e709043bb4be93331d4511b947b181fe2ead8f4,Simplify linting,MERGED,2020-03-19 15:36:39.000000000,2020-03-19 19:46:48.000000000,2020-03-19 19:45:21.000000000,25,50,0,713904,9ac51dc172e455dc5a47b572e55e10baaf6fe296,23,3,10,2,24162,Sorin Sbârnea,ssbarnea,"Simplify linting

Keeps pep8 environment until we will be able to remove it from
zuul templates.

Change-Id: I1e709043bb4be93331d4511b947b181fe2ead8f4
"
openstack%2Frequirements~master~Id79ee6eaf4e7366b1a5479d14fc7d3de92a0459e,openstack/requirements,master,new-release,Id79ee6eaf4e7366b1a5479d14fc7d3de92a0459e,update constraint for oslo.log to new release 4.1.0,MERGED,2020-03-19 10:26:15.000000000,2020-03-19 19:42:45.000000000,2020-03-19 19:40:16.000000000,2,2,0,713824,031b39be5a7ceea8d8d21fe71f292b8862cacd20,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.log to new release 4.1.0

Change-Id: Id79ee6eaf4e7366b1a5479d14fc7d3de92a0459e
meta:version: 4.1.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Frequirements~master~I7db5a08898bc5c7248f4e8409fd0bc917049e691,openstack/requirements,master,new-release,I7db5a08898bc5c7248f4e8409fd0bc917049e691,update constraint for tooz to new release 2.2.0,MERGED,2020-03-19 10:23:43.000000000,2020-03-19 19:38:16.000000000,2020-03-19 19:36:48.000000000,2,2,0,713822,f3b4f8e840f9a5a6ca1c55d8f1c1fa9a0069b88e,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for tooz to new release 2.2.0

Change-Id: I7db5a08898bc5c7248f4e8409fd0bc917049e691
meta:version: 2.2.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Frequirements~stable%2Fstein~Icc66384e4b15a6495569c0586274ca6051b2552e,openstack/requirements,stable/stein,new-release,Icc66384e4b15a6495569c0586274ca6051b2552e,update constraint for keystoneauth1 to new release 3.13.2,MERGED,2020-03-19 10:20:59.000000000,2020-03-19 19:34:26.000000000,2020-03-19 19:34:26.000000000,1,1,0,713818,317b2e3d120b6448fd27ab9a2839854bc3130537,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for keystoneauth1 to new release 3.13.2

Change-Id: Icc66384e4b15a6495569c0586274ca6051b2552e
meta:version: 3.13.2
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dirk Mueller <dirk@dmllr.de>
meta:release:Commit: Dirk Mueller <dirk@dmllr.de>
meta:release:Change-Id: I3dc22cbbc55c69da2b559fb266f251e0f0074038
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Colleen Murphy <colleen@gazlene.net>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Frequirements~stable%2Frocky~I8c61269fada31132a1cf5f4007f27cbf9d561fd9,openstack/requirements,stable/rocky,,I8c61269fada31132a1cf5f4007f27cbf9d561fd9,Bump MarkupSafe to 1.1.1 due to setuptools change,MERGED,2020-03-10 22:02:49.000000000,2020-03-19 19:34:24.000000000,2020-03-19 19:34:24.000000000,1,1,0,712187,8e6a540de536a6537bef0ab799d5e9be530d1ad1,12,3,1,1,10273,Adam Harwell,rm_you,"Bump MarkupSafe to 1.1.1 due to setuptools change

See this issue for details:
https://github.com/pallets/markupsafe/issues/57
Pinning setuptools isn't really an option.

Change-Id: I8c61269fada31132a1cf5f4007f27cbf9d561fd9
"
openstack%2Fnova~stable%2Frocky~Ic04568caecc138e6016418f6878d031c4a0d3fb4,openstack/nova,stable/rocky,bug/1866373,Ic04568caecc138e6016418f6878d031c4a0d3fb4,Fix os-keypairs pagination links,MERGED,2020-03-09 10:49:57.000000000,2020-03-19 19:34:20.000000000,2020-03-19 19:34:20.000000000,7,7,0,711898,d8bd2392b225babf7a39ef16c82e79016db04a36,33,8,2,5,15334,Stephen Finucane,sfinucan,"Fix os-keypairs pagination links

The API URL is '/os-keypairs', not '/keypairs'. Attempting to use these
pagination links as-is will result in a HTTP 404 (Not Found).

Change-Id: Ic04568caecc138e6016418f6878d031c4a0d3fb4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-bug: #1866373
(cherry picked from commit f31efe0a0e3f194ca415ac41c225f63dbb69267b)
(cherry picked from commit 93f903d7949194a3e00647d8a17b2d3bee3904e5)
(cherry picked from commit 85052c055fb062f4a2ca7bb833f1cb344073b6de)
"
openstack%2Fkolla~master~Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920,openstack/kolla,master,,Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920,CI: publish AArch64 Debian/source images,MERGED,2020-03-19 11:15:02.000000000,2020-03-19 19:33:10.000000000,2020-03-19 19:29:53.000000000,9,1,3,713847,c2a3380707c67f5d1202bc83855357c9d2c6a240,15,4,2,2,24072,Marcin Juszkiewicz,hrw,"CI: publish AArch64 Debian/source images

We want to test upgrades on aarch64. For this we need to publish images.

AArch64 images will get ""-aarch64"" added to tag to not collide with
x86-64 ones.

Change-Id: Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920
"
openstack%2Fnova~master~I8af2ad741ca08c3d88efb9aa817c4d1470491a23,openstack/nova,master,,I8af2ad741ca08c3d88efb9aa817c4d1470491a23,nova-live-migration: Ensure subnode is fenced during evacuation testing,MERGED,2020-03-18 15:19:13.000000000,2020-03-19 19:06:49.000000000,2020-03-19 16:48:32.000000000,5,0,10,713674,b097959c1cbc9af1d90c7502286bc3e20972201f,64,13,10,1,10135,Lee Yarwood,lyarwood,"nova-live-migration: Ensure subnode is fenced during evacuation testing

As stated in the forced-down API [1]:

> Setting a service forced down without completely fencing it will
> likely result in the corruption of VMs on that host.

Previously only the libvirtd service was stopped on the subnode prior to
calling this API, allowing n-cpu, q-agt and the underlying guest domains
to continue running on the host.

This change now ensures all devstack services are stopped on the subnode
and all active domains destroyed.

It is hoped that this will resolve bug #1813789 where evacuations have
timed out due to VIF plugging issues on the new destination host.

[1] https://docs.openstack.org/api-ref/compute/?expanded=update-forced-down-detail#update-forced-down

Related-Bug: #1813789
Change-Id: I8af2ad741ca08c3d88efb9aa817c4d1470491a23
"
openstack%2Fkolla-ansible~master~I5344abe93f682418a0f61c894d64b360bc129592,openstack/kolla-ansible,master,bp/centos-rhel-8,I5344abe93f682418a0f61c894d64b360bc129592,CI: CentOS 8: Enable Masakari job and periodics,MERGED,2020-03-13 10:19:28.000000000,2020-03-19 18:59:55.000000000,2020-03-19 18:55:38.000000000,6,2,0,712897,368ad387d0cdbeb464d1f72d6037998a2189077f,7,2,1,1,14826,Mark Goddard,mgoddard,"CI: CentOS 8: Enable Masakari job and periodics

Depends-On: https://review.opendev.org/702706

Change-Id: I5344abe93f682418a0f61c894d64b360bc129592
Partially-Implements: blueprint centos-rhel-8
"
openstack%2Fkolla~master~I1c786eda399eca4464c9d68ac040c2965350f775,openstack/kolla,master,bp/centos-rhel-8,I1c786eda399eca4464c9d68ac040c2965350f775,CentOS 8: Enable hacluster and masakari images,MERGED,2020-01-15 17:24:01.000000000,2020-03-19 18:59:21.000000000,2020-03-19 18:55:36.000000000,5,5,1,702706,92224ccb518c90d7c269158d074d811aee2f05f0,34,7,5,5,24072,Marcin Juszkiewicz,hrw,"CentOS 8: Enable hacluster and masakari images

CentOS 8.1 came with HA repo. So we can use it.

hacluster-pcs image is disabled as we lack 'crmsh' package for it.

Partially-Implements: blueprint centos-rhel-8

Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Change-Id: I1c786eda399eca4464c9d68ac040c2965350f775
"
openstack%2Ftripleo-heat-templates~master~I7a1ce4ba4ac358733747e9301038d0245ae08016,openstack/tripleo-heat-templates,master,lp1867973,I7a1ce4ba4ac358733747e9301038d0245ae08016,Move ceph-ansible required variables in the main group,MERGED,2020-03-18 18:05:34.000000000,2020-03-19 18:33:56.000000000,2020-03-19 18:19:38.000000000,17,11,4,713706,ebe1a40fb94f35f90972a675d4998bb50fb6f752,17,8,4,3,25402,Francesco Pantano,fmount,"Move ceph-ansible required variables in the main group

ceph-ansible v4.0.16 introduced some changes to double check
the ceph dashboard and grafana passwords exist, are properly
generated and are not defaults values.
However, the constraint introduced forced tripleo to put
these variables in all.yaml instead of distributing them on
the related roles (mgr and grafana-server).
This change moves these variables in ceph-base, since here
we're able to generate the ceph_ansible_group_vars_all.

Closes-Bug: #1867973
Change-Id: I7a1ce4ba4ac358733747e9301038d0245ae08016
"
openstack%2Ftripleo-common~master~I777cd2c33992254e926ba7e937f73aa5c48b786b,openstack/tripleo-common,master,bug/1867981,I777cd2c33992254e926ba7e937f73aa5c48b786b,Improve authentication retries for slow transfers,MERGED,2020-03-18 19:39:05.000000000,2020-03-19 18:23:07.000000000,2020-03-19 18:19:40.000000000,39,6,0,713724,e269e34738d43f7f924d08897831095397626848,12,7,3,2,14985,Alex Schultz,mwhahaha,"Improve authentication retries for slow transfers

If during the image prepare process the layer transfers take longer
than 5 minutes (the default TTL for tokens for most authenticated
registries), the process may fail to fetch and push the container to the
undercloud registry.

This change does two things:

1) Raises the HTTPError exceptions when exporting layers correctly so
   that it is retried
2) Improves problemattic re-authentication logic for registries other
   than docker.io which resulted in the process failing with 401 errors.

Change-Id: I777cd2c33992254e926ba7e937f73aa5c48b786b
Closes-Bug: #1867981
"
openstack%2Fopenstack-ansible-os_barbican~master~Iacea0be2be45a2c4b7d4f224de54fdece1516e4d,openstack/openstack-ansible-os_barbican,master,fix,Iacea0be2be45a2c4b7d4f224de54fdece1516e4d,"Missing document start ""---""",MERGED,2020-03-13 09:17:36.000000000,2020-03-19 18:13:10.000000000,2020-03-19 18:07:23.000000000,1,0,0,712876,d7b1fb9da029a5b170205ea351cb8b25ae5548ed,7,2,1,1,23317,ShangXiao,ShangXiao,"Missing document start ""---""

Change-Id: Iacea0be2be45a2c4b7d4f224de54fdece1516e4d
"
openstack%2Freleases~master~I7d71b912d31c424f167b89e8a7ceee57eb4c0a01,openstack/releases,master,ussuri-cwi,I7d71b912d31c424f167b89e8a7ceee57eb4c0a01,Switch freezer to cycle-with-rc,MERGED,2020-02-25 21:48:21.000000000,2020-03-19 17:48:04.000000000,2020-03-19 17:48:04.000000000,2,2,0,709844,85f5bfb0cc1981bae78afc60323a2aafbfbdbb46,14,6,1,2,11904,Sean McGinnis,SeanM,"Switch freezer to cycle-with-rc

Deliverables following the cycle-with-intermediary model are expected
to release multiple times throughout the development cycle. Since
freezer only released once last cycle, and has not done a release
yet this cycle, this proposes changing the release model to cycle-with-rc
so the expectation is only that it will release an RC by the end of
the cycle prior to doing the final release.

For the team, please respond to this patch in one of the following ways:

* -1 this patch and follow up with an intermediary release
* +1 this patch and we will switch over the release model
* -1 this patch, but acknowledge a release will be done prior to the
  RC1 deadline.

Change-Id: I7d71b912d31c424f167b89e8a7ceee57eb4c0a01
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fpython-openstackclient~master~If664bfe3c9fdcb69c7046eb16c5d32602d1b3262,openstack/python-openstackclient,master,bug/2007439,If664bfe3c9fdcb69c7046eb16c5d32602d1b3262,Allow setting floating IP description,MERGED,2020-03-18 17:00:12.000000000,2020-03-19 17:38:28.000000000,2020-03-19 17:34:13.000000000,34,0,1,713698,d2826e89e99ba63335a468e50e49db2fad6ab337,13,6,2,2,31738,Daniel Strong,ouroboros8,"Allow setting floating IP description

Change-Id: If664bfe3c9fdcb69c7046eb16c5d32602d1b3262
Story: 2007439
Task: 39094
"
openstack%2Freleases~master~Ieedb57f1f424088ea590bf31d5323a33a7d4ffb9,openstack/releases,master,freezer,Ieedb57f1f424088ea590bf31d5323a33a7d4ffb9,Release freezer ussuri deliverables,ABANDONED,2020-03-19 17:31:19.000000000,2020-03-19 17:33:45.000000000,,18,0,0,713942,afc59d311860b13451a6c2a1866d3868fc0b1b6b,2,1,1,2,11904,Sean McGinnis,SeanM,"Release freezer ussuri deliverables

Change-Id: Ieedb57f1f424088ea590bf31d5323a33a7d4ffb9
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fkolla-ansible~master~I56b3fc1be6940d97905cdb2c4452b846f106c071,openstack/kolla-ansible,master,,I56b3fc1be6940d97905cdb2c4452b846f106c071,CI: Enable fluentd in MariaDB jobs,MERGED,2020-03-18 14:16:17.000000000,2020-03-19 17:24:32.000000000,2020-03-19 17:19:06.000000000,2,2,0,713663,866a6ba16a2edd01555d5388b11187a77d17d7f5,30,3,5,2,22629,Michal Nasiadka,mnasiadka,"CI: Enable fluentd in MariaDB jobs

Since fluentd is disabled in MariaDB jobs - haproxy logs are not getting
populated.

Change-Id: I56b3fc1be6940d97905cdb2c4452b846f106c071
Depends-on: https://review.opendev.org/713704
"
openstack%2Fsushy-oem-idrac~master~I607967a7bd2b618175c2dce4fafe264a3eb6a63c,openstack/sushy-oem-idrac,master,drop-python2,I607967a7bd2b618175c2dce4fafe264a3eb6a63c,Drop support for Python 2.7,MERGED,2020-02-28 09:37:39.000000000,2020-03-19 17:21:48.000000000,2020-03-19 17:21:48.000000000,6,15,4,710416,a9e380c06a40f63eaa19ad3ef3a151a388f0cf01,26,6,6,4,23851,Riccardo Pittau,elfosardo,"Drop support for Python 2.7

The feature that depends on this library, the
idrac-redfish-virtual-media, only appeared in Ussuri, which
supports Python 3 only, so we don't need to keep supporting
Python 2.7 here.

Change-Id: I607967a7bd2b618175c2dce4fafe264a3eb6a63c
"
openstack%2Fmagnum~master~I3382da8d950279713861e14d97997d5a5205b1e7,openstack/magnum,master,status_reason,I3382da8d950279713861e14d97997d5a5205b1e7,Fix join of status_reason,MERGED,2020-03-17 11:27:27.000000000,2020-03-19 17:12:09.000000000,2020-03-19 17:09:13.000000000,1,1,0,713407,dfea2741f2de6fb1e92b177aa230b59987bc575d,13,4,2,1,28022,Bharat Kunwar,brtknr,"Fix join of status_reason

At present, the status reason resolves to:

    default-master <reason> ,default-worker <reason>

It should be:

    default-master <reason>, default-worker <reason>

This minor patch fixes this.

Task: 39092
Story: 2007438

Change-Id: I3382da8d950279713861e14d97997d5a5205b1e7
"
openstack%2Fkolla-ansible~master~I83d820efcc7e86bac9f8bda26a8f8bece72159e6,openstack/kolla-ansible,master,bug/1867953,I83d820efcc7e86bac9f8bda26a8f8bece72159e6,Fix deployment of fluentd without any enabled OpenStack services,MERGED,2020-03-18 17:37:41.000000000,2020-03-19 17:10:27.000000000,2020-03-19 17:07:14.000000000,94,43,0,713704,561b33cbb25f46157d4c6d279c04e56e8314a3c1,22,5,2,3,30491,Radosław Piliszek,yoctozepto,"Fix deployment of fluentd without any enabled OpenStack services

Fluentd cannot accept empty 'path' parameter.

I refactored the service list following the general pattern
we have.

Change-Id: I83d820efcc7e86bac9f8bda26a8f8bece72159e6
Closes-bug: #1867953
"
openstack%2Fpython-openstackclient~stable%2Ftrain~I7b89c4f818865073947e0850e86c18d0d2415a51,openstack/python-openstackclient,stable/train,,I7b89c4f818865073947e0850e86c18d0d2415a51,Fix router create/show if extraroute not supported,MERGED,2020-03-18 10:05:19.000000000,2020-03-19 17:08:14.000000000,2020-03-19 17:05:46.000000000,19,1,0,713607,ce825bbd2730cbf1897ca70cd0b5dac8ac107689,8,4,1,2,9542,Pavlo Shchelokovskyy,pshchelo,"Fix router create/show if extraroute not supported

If neutron does not support extraroute l3 extension, the route column
formatter fails.

Change-Id: I7b89c4f818865073947e0850e86c18d0d2415a51
(cherry picked from commit 509ca3ed36b4ef512a47ff8d39c9df751084015a)
"
openstack%2Fironic-tempest-plugin~master~Ie84504670c8ac017324f903bb5ac45e1e837f5ac,openstack/ironic-tempest-plugin,master,refactor_validate_scheduling,Ie84504670c8ac017324f903bb5ac45e1e837f5ac,Remove check for API version in validate_scheduling,MERGED,2020-03-10 09:40:51.000000000,2020-03-19 17:07:00.000000000,2020-03-19 17:04:25.000000000,2,15,2,712030,8a1125e81e185989682f176365b4ee4c03cece6c,24,6,3,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Remove check for API version in validate_scheduling

API version 1.37 is from Queens, we can safelly remove
the verification for resource class and traits, since
the releases older than queens are not supported.

Change-Id: Ie84504670c8ac017324f903bb5ac45e1e837f5ac
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I7592707c2a17654e521f6f136eabcb76c8152fba,openstack/tripleo-ansible,stable/train,idemp/train,I7592707c2a17654e521f6f136eabcb76c8152fba,Improve idempotency for images in podman container,MERGED,2020-03-18 20:04:45.000000000,2020-03-19 16:36:44.000000000,2020-03-19 16:17:27.000000000,14,9,0,713731,3a62ce32844321c19cc2877855049375c2a6f47b,14,5,1,1,3153,Emilien Macchi,emilienm,"Improve idempotency for images in podman container

Add a new variable which would be used for strict images comparing
Use by default a ""lite mode"" which compares only image and tag.

Change-Id: I7592707c2a17654e521f6f136eabcb76c8152fba
(cherry picked from commit 466539208531f8613cd260e34b53dfb4ed813be8)
"
openstack%2Freleases~master~I0f9b5c4dd1e90570802813291ea0f70c6e0683a1,openstack/releases,master,rocky-em,I0f9b5c4dd1e90570802813291ea0f70c6e0683a1,[Telemetry] Transition Rocky to EM,MERGED,2020-02-26 00:59:34.000000000,2020-03-19 16:29:53.000000000,2020-03-19 16:29:53.000000000,12,0,1,709880,439108e1e322cd24088c99bb6c05b8727ae5f3de,12,4,2,3,11904,Sean McGinnis,SeanM,"[Telemetry] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I0f9b5c4dd1e90570802813291ea0f70c6e0683a1
"
openstack%2Frpm-packaging~stable%2Fstein~Id13245a48966b03bc5bc23880df42286986bd98b,openstack/rpm-packaging,stable/stein,,Id13245a48966b03bc5bc23880df42286986bd98b,keystoneauth1: update to 3.13.2,MERGED,2020-03-19 09:53:53.000000000,2020-03-19 16:28:06.000000000,2020-03-19 16:28:06.000000000,1,1,0,713811,80c7ebae2703bb41ea83fb6611ab3a11545631bc,13,8,1,1,13294,Javier Peña,jpena,"keystoneauth1: update to 3.13.2

This new release allows us to run unit tests in 2020.

Depends-On: I3dc22cbbc55c69da2b559fb266f251e0f0074038
Change-Id: Id13245a48966b03bc5bc23880df42286986bd98b
"
openstack%2Fnova~stable%2Frocky~Ie6608bef906c21faeeeb6f9776bdbf8a0f898d0c,openstack/nova,stable/rocky,update_certificate-validation_doc-stable/rocky,Ie6608bef906c21faeeeb6f9776bdbf8a0f898d0c,Replace glance command with openstack command,ABANDONED,2019-02-14 21:46:47.000000000,2020-03-19 16:24:59.000000000,,41,36,0,637060,31f748097dc76a60c5740dcacf228575915e98ab,32,6,6,1,7634,Takashi Natsume,natsumet,"Replace glance command with openstack command

Replace glance command with openstack command
in user/certificate-validation.rst.

Change-Id: Ie6608bef906c21faeeeb6f9776bdbf8a0f898d0c
(cherry picked from commit 7b55e4c05fbe3b2a12db431c63bd2f45cb0276d4)
"
openstack%2Fopenstack-helm~master~Ie22dbf85a3ed42bc0cd13579218e03d5912e67ea,openstack/openstack-helm,master,,Ie22dbf85a3ed42bc0cd13579218e03d5912e67ea,Disable seperate placement deployment in stein,MERGED,2020-03-18 09:49:27.000000000,2020-03-19 16:21:47.000000000,2020-03-19 16:17:35.000000000,7,2,0,713604,280da524253b1847ca77abc06f35ffde851f6184,8,3,1,3,29397,Kudaka Poorna Rajesh,rajesh.kudaka,"Disable seperate placement deployment in stein

This commit is to deploy placement service as a part
of nova chart for stein release. This also enables
seperate placement chart deployment for train release.

Change-Id: Ie22dbf85a3ed42bc0cd13579218e03d5912e67ea
"
openstack%2Ftripleo-common~master~I3991df7063c1f8e70266a9c3a4db363abcea3348,openstack/tripleo-common,master,mistral_to_ansible,I3991df7063c1f8e70266a9c3a4db363abcea3348,Remove mistral from the snmp password function,MERGED,2020-03-13 22:05:40.000000000,2020-03-19 16:12:26.000000000,2020-03-19 16:09:18.000000000,62,13,0,713070,036c2d345dffcfd4fbf872b5fa98ff0ab6b2c787,23,6,4,2,7353,Kevin Carter,cloudnull,"Remove mistral from the snmp password function

This change removes mistral from the `get_snmpd_readonly_user_password` which
returns the read only snmp password for cielometer. The function will now read
any file password yaml file provided, using a default of
`~/tripleo-undercloud-passwords.yaml` which is the authoratative source of all
passwords within an environment If no file is found a 24 character password
will be returned.

Tests have been updated to support the newly refactored function.

Story: 2007414
Task: 39061

Change-Id: I3991df7063c1f8e70266a9c3a4db363abcea3348
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-quickstart-extras~master~I728183f608eb7ab9571d66cc8c515fe52f4dafc0,openstack/tripleo-quickstart-extras,master,bug/1867035,I728183f608eb7ab9571d66cc8c515fe52f4dafc0,Adjust molecule requirements,MERGED,2020-03-17 21:15:57.000000000,2020-03-19 16:12:26.000000000,2020-03-19 16:09:16.000000000,12,11,0,713542,1b5274793b92383255df18b41ee49045458b7522,9,4,1,2,4571,Steve Baker,steve-stevebaker,"Adjust molecule requirements

This change uses the same pytest/molecule requirements spec as
tripleo-quickstart and breaks out the requirements into their own
file.

[1] https://review.opendev.org/#/c/713532/
Closes-Bug: #1867035

Change-Id: I728183f608eb7ab9571d66cc8c515fe52f4dafc0
"
openstack%2Fzaqar-tempest-plugin~master~I81cb467bb63d60bd7cdd8d04d878fdc6bd6e8b69,openstack/zaqar-tempest-plugin,master,bug/1863560,I81cb467bb63d60bd7cdd8d04d878fdc6bd6e8b69,Fix bug/1863560,MERGED,2020-03-19 15:40:57.000000000,2020-03-19 16:00:06.000000000,2020-03-19 16:00:06.000000000,0,4,0,713907,2fb8cc5ef217ddf871158109a3cc678e7f62ed78,6,2,1,2,8846,Hao Wang,sxmatch,"Fix bug/1863560

Change-Id: I81cb467bb63d60bd7cdd8d04d878fdc6bd6e8b69
"
openstack%2Fnova~master~I605b29e37c9deec027b1ce7f2253a0b40ef360bc,openstack/nova,master,bug/1813147,I605b29e37c9deec027b1ce7f2253a0b40ef360bc,DNM: Add reproducer for subunit parser error,ABANDONED,2019-12-24 17:17:40.000000000,2020-03-19 15:50:38.000000000,,26,0,0,700522,30ed5a1ef52ecec6b3ed7d02904e87101e00b85b,25,10,3,2,15334,Stephen Finucane,sfinucan,"DNM: Add reproducer for subunit parser error

This should let me play around with the trio of testtool, subunit and
stestr locally to see if we can root out a cause.

Change-Id: I605b29e37c9deec027b1ce7f2253a0b40ef360bc
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Related-Bug: #1813147
"
openstack%2Fkolla~master~Ie9b7305887b00d8784f69e1148988c891e074b3d,openstack/kolla,master,ci/no-clean-package,Ie9b7305887b00d8784f69e1148988c891e074b3d,CI: do not clean package cache if not publishing,ABANDONED,2020-03-18 14:55:19.000000000,2020-03-19 15:49:35.000000000,,2,0,0,713670,90b13b78c3f23e3c2f394b8b122d850c36efc81a,8,3,1,1,24072,Marcin Juszkiewicz,hrw,"CI: do not clean package cache if not publishing

Cleaning package cache == fetching package info several times. We can
reuse cache during build if we do not publish those images.

On CI it is better to finish sooner than later.

Change-Id: Ie9b7305887b00d8784f69e1148988c891e074b3d
"
openstack%2Foctavia~stable%2Fqueens~I78d75afd872fe27e9e4227ea8220f74d83595aac,openstack/octavia,stable/queens,,I78d75afd872fe27e9e4227ea8220f74d83595aac,Flush the eth1 default route inside the netns,ABANDONED,2019-09-20 16:36:21.000000000,2020-03-19 15:49:11.000000000,,14,1,0,683537,d0653bf8b3aa36d60b30c774ba483826d53a3e12,29,5,5,2,11628,Michael Johnson,johnsom,"Flush the eth1 default route inside the netns

On xenial instances we are seeing error ""RTNETLINK answers: File
exists Failed to bring up eth1."" when bringing up the VIP interface
inside the network namespace.
This patch attempts to remove any existing default routes that
may have previously existed before bringing up the VIP interface
to avoid the potential for duplicate default gateways.

Change-Id: I78d75afd872fe27e9e4227ea8220f74d83595aac
"
openstack%2Fzun~master~Ib67746455a33306bb6d09a7fbfc8f543a0938c52,openstack/zun,master,,Ib67746455a33306bb6d09a7fbfc8f543a0938c52,failed to delele capsule when sandbox is removed by docker,MERGED,2020-03-19 12:59:38.000000000,2020-03-19 15:41:28.000000000,2020-03-19 15:39:20.000000000,6,1,0,713871,b2f5fc4f5ba8ba7a5f5fa39c60b812ce8360771b,7,2,1,1,23365,feng.shengqin,FengShengqin,"failed to delele capsule when sandbox is removed by docker

Change-Id: Ib67746455a33306bb6d09a7fbfc8f543a0938c52
"
openstack%2Fironic~stable%2Ftrain~Ib93d0f564b7ee51ee9beb7f6143635c240f4baf3,openstack/ironic,stable/train,docs-sw-raid-stable/train,Ib93d0f564b7ee51ee9beb7f6143635c240f4baf3,Documentation clarifications for software RAID,MERGED,2020-03-18 12:46:18.000000000,2020-03-19 15:22:28.000000000,2020-03-19 15:19:53.000000000,7,5,0,713645,32e6071f6702356e73aaf05a689af53a939169d4,8,3,1,1,10239,Dmitry Tantsur,dtantsur,"Documentation clarifications for software RAID

This change clarifies which options are supported for software RAID
and what the defaults are.

Change-Id: Ib93d0f564b7ee51ee9beb7f6143635c240f4baf3
(cherry picked from commit 9fd0aa859cd5289822d291dfe405402273f480d3)
"
openstack%2Fopenstack-ansible-repo_build~stable%2Ftrain~I3bd6d3d987e32ee11c5f1fcb5c1b4b0fc797e7f9,openstack/openstack-ansible-repo_build,stable/train,,I3bd6d3d987e32ee11c5f1fcb5c1b4b0fc797e7f9,repo_build: Do not sync links directory between repo_containers,MERGED,2020-03-19 12:28:15.000000000,2020-03-19 15:17:47.000000000,2020-03-19 15:15:26.000000000,0,2,0,713864,42240ffba12b7640e6203614dad3f95a743e0db5,7,2,1,1,25600,Ebbex,ebbex,"repo_build: Do not sync links directory between repo_containers

The links directory is only used by repo_build when creating requirement
wheels. The repo_build process builds wheels for it's own distro/arch combo
in serial. So in a mixed environment, where you might have ubuntu-16.04-x86_64
and ubuntu-18.04-x86_64 repo_containers, heck even centos-7-x86_64 for that
matter, copying the links pointing to pools/distro-arch over to another
repo_container creating wheels for a different distro/arch leads to bad builds
getting deployed later.

We also need to prevent the later lsync config from spreading these out
https://review.opendev.org/#/c/705390/

We can prevent this mix-up from happening even further by setting
repo_build_global_links_path: ""{{ repo_build_base_path }}/links/{{ repo_build_os_distro_version }}""
as suggested in https://review.opendev.org/#/c/708115/

This is probably only relevant for stable/rocky.
Depends-On: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
Change-Id: I3bd6d3d987e32ee11c5f1fcb5c1b4b0fc797e7f9
(cherry picked from commit 4bd52916e724046ca3b138e55b443d730547c0b6)
"
openstack%2Fopenstack-ansible-ops~master~Ieec4c185206a0d1d44e04d1667a6ecdfd18bb46e,openstack/openstack-ansible-ops,master,filebeat_elastic,Ieec4c185206a0d1d44e04d1667a6ecdfd18bb46e,Enable default nginx paths on hosts where nginx is running,MERGED,2020-03-13 13:54:58.000000000,2020-03-19 15:06:01.000000000,2020-03-19 15:01:52.000000000,8,0,0,712953,a4181c96ae55520360d117fbacb378d5762c6b86,11,3,2,2,31004,Duncan Martin Walker,duncan-martin-walker,"Enable default nginx paths on hosts where nginx is running

The nginx module setup in filebeat currently only looks for nginx
logs within containers. This commit also enables the default nginx
log paths (/var/log/nginx/*.log) when nginx is running directly on
the physical host. This allows e.g. filebeat to access nginx logs
from Kibana when kibana is not running in an openstack container.

Change-Id: Ieec4c185206a0d1d44e04d1667a6ecdfd18bb46e
"
openstack%2Fopenstacksdk~master~I99cef69de1047dfbf31cf2ff5535bb734f5fa61e,openstack/openstacksdk,master,federation/keystone_mapping,I99cef69de1047dfbf31cf2ff5535bb734f5fa61e,Add support for federation mappings,MERGED,2020-03-18 12:07:10.000000000,2020-03-19 15:04:57.000000000,2020-03-19 15:02:00.000000000,170,0,1,713633,d10d31b3686125fefd92f293bb9fc607926e2227,11,4,1,3,14369,Mark Chappell,tremble,"Add support for federation mappings

Change-Id: I99cef69de1047dfbf31cf2ff5535bb734f5fa61e
"
openstack%2Fopenstack-ansible-ops~master~Ic2f7bf9f6e95fe16bd76cf083ce60b92dc499ebc,openstack/openstack-ansible-ops,master,filebeat_elastic,Ic2f7bf9f6e95fe16bd76cf083ce60b92dc499ebc,Enable Haproxy Filebeat Module,MERGED,2020-03-13 12:05:05.000000000,2020-03-19 15:03:58.000000000,2020-03-19 15:01:51.000000000,6,3,0,712931,2a40936187307301eb991f163c334f83b3fb87b6,15,4,2,2,31004,Duncan Martin Walker,duncan-martin-walker,"Enable Haproxy Filebeat Module

Filebeat has a module available to directly parse haproxy logs from
syslog. This commit enables this module when filebeat is deployed to
a host on which the haproxy process is running.

Change-Id: Ic2f7bf9f6e95fe16bd76cf083ce60b92dc499ebc
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I82c4de4a63817707a2b0ed0ced827be37c0d0463,openstack/tripleo-heat-templates,stable/train,scale-2020-stable/train,I82c4de4a63817707a2b0ed0ced827be37c0d0463,Use jinja raw tag instead of quoted concatenation,MERGED,2020-03-17 13:06:19.000000000,2020-03-19 15:03:38.000000000,2020-03-19 15:03:38.000000000,50,42,0,713435,18e574ac4c10184474e6e606d5ac264bc29e94b5,13,8,3,1,6816,Jesse Pretorius,jesse-pretorius,"Use jinja raw tag instead of quoted concatenation

Many of the lines are difficult to grasp due to the crazy
quotation and concatenation implemented to get the desired
result from generating playbooks via a jinja template.

We can make it easier to read and easier to understand by
using the jinja raw tag instead. This eases the maintenace
burden on us all and helps us sleep better at night.

Change-Id: I82c4de4a63817707a2b0ed0ced827be37c0d0463
(cherry picked from commit 42059a1031e77479ab3a8f4729da610d2fec3d5d)
"
openstack%2Fkayobe~stable%2Ftrain~I57fbf91ae3440d3e4e6a64cd7d05151e299c9322,openstack/kayobe,stable/train,,I57fbf91ae3440d3e4e6a64cd7d05151e299c9322,Fix Kayobe overcloud introspection data save,MERGED,2020-03-19 11:04:16.000000000,2020-03-19 14:57:13.000000000,2020-03-19 14:53:47.000000000,7,2,0,713838,0a0d37c7208b0977ca6dcb12d8dacb348cdcc116,8,3,1,2,14826,Mark Goddard,mgoddard,"Fix Kayobe overcloud introspection data save

Kayobe overcloud introspection data save fails because the dynamic
inventory script siliently breaks causing Ansible to parse it as a
static inventory file. The failure occurs due to OS_TOKEN being set.
This change works around setting OS_TOKEN before running the dynamic
inventory script by setting OS_CLOUD before querying inspector.

Confirmed on Stein and Train, and verified in both environments.

Story: 2007326
Task: 38846
Change-Id: I57fbf91ae3440d3e4e6a64cd7d05151e299c9322
(cherry picked from commit 167e2ff3db19f32544e324bd02f4586e36486650)
"
openstack%2Fkolla-ansible~master~I8437300d621448782e964d877b2614ca606f5849,openstack/kolla-ansible,master,,I8437300d621448782e964d877b2614ca606f5849,CI: Add instance console log to test-core-openstack.sh,MERGED,2020-03-19 11:25:02.000000000,2020-03-19 14:53:34.000000000,2020-03-19 14:50:31.000000000,2,0,0,713853,b2d45e5b87632205c848ab50b3629405ed90207a,11,4,1,1,22629,Michal Nasiadka,mnasiadka,"CI: Add instance console log to test-core-openstack.sh

Sometimes ping & ssh to the instance are failing - outputting instance console
log can help in the case when there are metadata access issues (or other
issues).

Change-Id: I8437300d621448782e964d877b2614ca606f5849
"
openstack%2Fopenstack-ansible-ops~master~Ic58f0c18b97f134b1574f16042cffd8c4c8423ad,openstack/openstack-ansible-ops,master,xpack_deprecation,Ic58f0c18b97f134b1574f16042cffd8c4c8423ad,Update deprecated xpack monitoring settings,ABANDONED,2020-03-11 18:22:18.000000000,2020-03-19 14:44:52.000000000,,2,2,0,712528,ca1320beceb76fb4d4d1d42072e60a9d72b15a42,5,2,1,1,31004,Duncan Martin Walker,duncan-martin-walker,"Update deprecated xpack monitoring settings

Beat config files currently use a deprecated setting, xpack.monitoring.*
for confiugration of elasticsearch monitoring. This has been migrated to
simply monitoring.* in the Elastic repositories and is scheduled for
removal in the next major version release. This commit updates this
configuration for the beats in order to suppress the associated warning
message on beat startup.

Change-Id: Ic58f0c18b97f134b1574f16042cffd8c4c8423ad
"
openstack%2Ftripleo-heat-templates~master~Ib3501c0b680b623e8997392e5e2e46e361f4dec7,openstack/tripleo-heat-templates,master,selinux/no-shared,Ib3501c0b680b623e8997392e5e2e46e361f4dec7,"Remove ""shared"" flag for bind-mount",ABANDONED,2020-03-17 10:30:27.000000000,2020-03-19 14:39:52.000000000,,79,84,0,713399,eff9cbb92955e54984c48546b1d494c3978fd26c,16,10,2,19,28223,Cedric Jeanneret,cjeanner,"Remove ""shared"" flag for bind-mount

The ""shared"" flag is useful only for sub-mounts, in order to expose them
to replica and origin.
We don't use that feature in TripleO, meaning this flag can be dropped
safely.

Change-Id: Ib3501c0b680b623e8997392e5e2e46e361f4dec7
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8b278ca83b2afb07575dbae2496ec265c3a06473,openstack/tripleo-heat-templates,stable/train,scale-2020-stable/train,I8b278ca83b2afb07575dbae2496ec265c3a06473,Use exists filter instead of stat where possible,MERGED,2020-03-16 15:33:32.000000000,2020-03-19 14:38:18.000000000,2020-03-19 14:38:18.000000000,8,18,0,713271,fa42140957099976305ab33b03ceef6a4651b919,14,8,3,2,6816,Jesse Pretorius,jesse-pretorius,"Use exists filter instead of stat where possible

When checking for the existance of a file on the host where
Ansible is being executed, using the stat module with localhost
delegation is rather heavy-handed. We can instead just make use
of the 'exists' test.

This should improve execution time just a little bit and reduces
the number of tasks for us to maintain. We also remove the
repetition of the task file path by using a variable.

Change-Id: I8b278ca83b2afb07575dbae2496ec265c3a06473
(cherry picked from commit 9666a7e6456b882e206436af085db0f6e97d3dab)
"
openstack%2Foctavia~master~I3c6459becc415d6dc0792c44ca75e717b239cd92,openstack/octavia,master,,I3c6459becc415d6dc0792c44ca75e717b239cd92,"Remove the barbican ""Grant access"" from cookbook",MERGED,2020-03-17 20:48:43.000000000,2020-03-19 14:34:06.000000000,2020-03-19 14:27:34.000000000,5,6,0,713533,82abe333adad78a34b7862bda001dc137a11e158,10,4,1,1,11628,Michael Johnson,johnsom,"Remove the barbican ""Grant access"" from cookbook

We missed a line when removing the requirement to grant Octavia
access to the secret in barbican.
This patch corrects that oversight.

Change-Id: I3c6459becc415d6dc0792c44ca75e717b239cd92
"
openstack%2Foctavia~master~I2716ce93691d11100ee951a3a3f491329a4073f0,openstack/octavia,master,remove-six,I2716ce93691d11100ee951a3a3f491329a4073f0,Remove all usage of six library,MERGED,2020-01-06 22:15:34.000000000,2020-03-19 14:31:27.000000000,2020-03-19 14:27:33.000000000,229,451,32,701290,f6b957e8ee017f0bd5ef6c9412430576c0875e30,43,7,11,70,1131,Brian Haley,brian-haley,"Remove all usage of six library

Convert all code to not require six library and instead
use python 3.x logic.

Created one helper method in common.utils for binary
representation to limit code changes.

Change-Id: I2716ce93691d11100ee951a3a3f491329a4073f0
"
openstack%2Fcinder~master~I7a75b7e0f99252669493addb1345c475928ec147,openstack/cinder,master,zanata/translations,I7a75b7e0f99252669493addb1345c475928ec147,Imported Translations from Zanata,MERGED,2020-03-18 07:22:29.000000000,2020-03-19 14:28:29.000000000,2020-03-18 14:05:32.000000000,119,132,0,713582,471ef4d3903135e79c66ef478c15159183b30ca3,27,21,1,11,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7a75b7e0f99252669493addb1345c475928ec147
"
openstack%2Fsahara~master~If0f8383e37a8b1185a8a08b24c79b313fdcb498c,openstack/sahara,master,,If0f8383e37a8b1185a8a08b24c79b313fdcb498c,Fix syntax error in image widths,MERGED,2020-03-01 19:55:44.000000000,2020-03-19 14:28:19.000000000,2020-03-19 14:25:50.000000000,6,4,0,710658,0825bddef65c11928ae6d37a2a7702e2d9435143,10,4,2,2,6593,Dirk Mueller,dmllr,"Fix syntax error in image widths

I get when building sahara this error:

  File ""/usr/lib/python3.6/site-packages/sphinx/writers/html5.py"", line 548, in visit_image
     atts['width'] = int(atts['width']) * scale
  ValueError: invalid literal for int() with base 10: '800px'

As it turns out, the default is pixels anyway, so we don't need to add a
type suffix. For scale to work, we need to specify both width and height
for images, otherwise sphinx reports an error.

Change-Id: If0f8383e37a8b1185a8a08b24c79b313fdcb498c
"
openstack%2Fzun~master~I45d98826b28dc3c2993b9be0092d7c9324c79fc9,openstack/zun,master,,I45d98826b28dc3c2993b9be0092d7c9324c79fc9,delete inincontainer in capsule,MERGED,2020-03-19 09:31:29.000000000,2020-03-19 14:22:13.000000000,2020-03-19 14:20:14.000000000,2,1,0,713808,c2d56024d88725df5d5a94d8f011f2ef8bb88fba,7,2,1,1,23365,feng.shengqin,FengShengqin,"delete inincontainer in capsule

Change-Id: I45d98826b28dc3c2993b9be0092d7c9324c79fc9
"
openstack%2Fansible-collections-openstack~master~I5e096c056291b7abf5355ab366b3ba25a0f68385,openstack/ansible-collections-openstack,master,newjobs2,I5e096c056291b7abf5355ab366b3ba25a0f68385,Add ansible 2.9 and openstacksdk train jobs,MERGED,2020-03-19 00:44:20.000000000,2020-03-19 14:13:26.000000000,2020-03-19 14:13:26.000000000,47,0,0,713766,290c5329ccf6c08daa644d16698e2a90e53c2f4e,13,4,4,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add ansible 2.9 and openstacksdk train jobs

Change-Id: I5e096c056291b7abf5355ab366b3ba25a0f68385
"
openstack%2Fkolla-ansible~stable%2Fstein~Ie8a2d1a163528f509e126a807d4c73dd8106c47a,openstack/kolla-ansible,stable/stein,,Ie8a2d1a163528f509e126a807d4c73dd8106c47a,ceph: Add become to gathering OSD IDs on reconfigure,MERGED,2020-03-19 09:30:16.000000000,2020-03-19 14:10:34.000000000,2020-03-19 14:08:29.000000000,8,0,0,713805,d4eedf4f9338bf347b857dd3c0f5e8d705a71534,15,4,2,2,22629,Michal Nasiadka,mnasiadka,"ceph: Add become to gathering OSD IDs on reconfigure

We did use become: true on starting the osds, but not on reconfigure.

Closes-Bug: #1867946

Change-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a
"
openstack%2Fkayobe~master~I9634ee7f5730e93b8ddd96de04982d638dd4dae2,openstack/kayobe,master,custom-registry-dir,I9634ee7f5730e93b8ddd96de04982d638dd4dae2,Make docker registry volume configurable,MERGED,2020-02-19 10:19:44.000000000,2020-03-19 13:53:56.000000000,2020-03-19 13:50:18.000000000,15,1,5,708607,06ad1c3a96f433b7e890d7141a3bcafe6743d383,15,4,1,4,28048,Will Szumski,jovial,"Make docker registry volume configurable

One use case is to use seperate disk for the registry storage. This
can prevent the rootfs from filling up.

Change-Id: I9634ee7f5730e93b8ddd96de04982d638dd4dae2
"
openstack%2Ftripleo-quickstart~master~Ia1e7204f71ff81eccd0de2eedacef151061487f5,openstack/tripleo-quickstart,master,,Ia1e7204f71ff81eccd0de2eedacef151061487f5,Do not clean nodes for featureset001.,ABANDONED,2020-03-06 20:14:32.000000000,2020-03-19 13:47:33.000000000,,1,7,0,711759,083e9e991e405827c5e994c581e9f873c0445f98,14,7,2,1,25877,Luke Short,ekultails,"Do not clean nodes for featureset001.

OVB can lead to random issues when cleaning Overcloud nodes.

Change-Id: Ia1e7204f71ff81eccd0de2eedacef151061487f5
Related-Bug: #1866204
Signed-off-by: Luke Short <ekultails@gmail.com>
"
openstack%2Fansible-collections-openstack~master~I658bd1728629cd358bc17a7f00d282d04530d8fe,openstack/ansible-collections-openstack,master,,I658bd1728629cd358bc17a7f00d282d04530d8fe,Cleanup functional tests,MERGED,2020-03-17 14:45:22.000000000,2020-03-19 13:42:51.000000000,2020-03-19 13:42:51.000000000,54,76,8,713461,cf7011a742592109a8e78fa0c76a553179a05707,33,6,9,5,2,Monty Taylor,mordred,"Cleanup functional tests

Use the openstacksdk base functional test instead of going all
the way back to devstack for our base. Also - defining a job
starting with openstacksdk in this repo is not ok - but that
probably just came from the original copy-pasta coming from the
sdk repo.

Use tox-siblings more and stop doing tox requirements of ../
things. The system is there and we can use it.

Add jobs to test against released openstacksdk and ansible, as well
as a non-voting to test against ansible devel branch.

Add openstacksdk to the test-requirements because it's super
required.

Move zuul.yaml to .zuul.yaml. This isn't a zuul jobs repo so
we should just make it a hidden file rather than a non-hidden.

Change-Id: I658bd1728629cd358bc17a7f00d282d04530d8fe
"
openstack%2Fnova~stable%2Fpike~I40f40766a7b84423c1dcf9d5ed58476b86d61cc4,openstack/nova,stable/pike,bug/1867380,I40f40766a7b84423c1dcf9d5ed58476b86d61cc4,Replace ansible --sudo with --become in live_migration/hooks scripts,ABANDONED,2020-03-19 11:15:14.000000000,2020-03-19 13:39:05.000000000,,59,59,1,713848,136e09cf2fc584a538ba1570678defb9adbed88d,12,5,2,3,10135,Lee Yarwood,lyarwood,"Replace ansible --sudo with --become in live_migration/hooks scripts

Ansible deprecated --sudo in 1.9 so this change replaces
it with --become.

NOTE(lyarwood): Conflict as Ifbadce909393268b340b7a08c78a6faa2d7888b2
can't be backported to stable/pike and as a result glance_api_version
needs to be set.

Conflicts:
    nova/tests/live_migration/hooks/ceph.sh

Change-Id: I40f40766a7b84423c1dcf9d5ed58476b86d61cc4
(cherry picked from commit 7f16800f71f6124736382be51d9da234800f7618)
(cherry picked from commit f077fbfae21d8ec33c7944362fee33a5b359da71)
(cherry picked from commit 2fe9291fdb7a49c5ca88c91e197bcdaddfbaeec7)
"
openstack%2Ftripleo-upgrade~stable%2Fstein~I43148a0bc494cf3fc6ff109e7f3a4b94cf751d99,openstack/tripleo-upgrade,stable/stein,,I43148a0bc494cf3fc6ff109e7f3a4b94cf751d99,Add config-heat and config-resource options.,MERGED,2020-03-02 08:10:09.000000000,2020-03-19 13:32:16.000000000,2020-03-03 00:01:37.000000000,73,0,0,710709,f9cf26d8bff5fc1ca83275d0d337b1ee25bc689d,10,3,1,5,8297,Sofer Athlan-Guyot,chem,"Add config-heat and config-resource options.

This add those two options. They work like their ir overcloud
conterpart.

This add the possibility to add new parameters *during*
update/upgrade/ffwd if required.

Currently adjustement has been done only to update templates.

The other limitation is that this is currently comptatible only in
infrared context and thus is skipped for upstream CI.

Change-Id: I43148a0bc494cf3fc6ff109e7f3a4b94cf751d99
(cherry picked from commit 212c02fb4e6102dbec370f05d7e5b6a7d0c5d2e8)
(cherry picked from commit 29e8fc84703c9c695035ae1a60ab118256322683)
"
openstack%2Fmistral~master~I12b4d0c5f1f49990d8ae09b72f73c0da96254a86,openstack/mistral,master,bug/1867899,I12b4d0c5f1f49990d8ae09b72f73c0da96254a86,Fix ContextView JSON serialization,MERGED,2020-03-16 08:45:54.000000000,2020-03-19 13:30:45.000000000,2020-03-19 13:28:27.000000000,228,31,4,713174,019cffb3abd467d75e4f038e889f2a9b4bd58b34,30,8,7,7,8731,Renat Akhmerov,rakhmerov,"Fix ContextView JSON serialization

* With disabled YAQL data output conversion, YAQL may return
  instances of ContextView which can't be properly saved into
  DB. This happens because Mistral serialization code doesn't
  turn on JSON conversion of custom objects, and they are just
  ignored by the ""json"" lib when it encounters them.
* Fixed how Mistral serializes context for Javascript evaluation
  to address the same problem.
* Implemented __repr__ method of ContextView.
* Removed logging of ""data_context"" from YAQL evaluation because
  previously it was always empty (because the string represetation
  of ContextView was always ""{}"") and now it may be very big, like
  megabytes, and the log gets populated too fast. It makes sense to
  log YAQL data context only when an error happened. In this case
  it helps to investigate an issue.
* Added all required unit tests.
* Fixed the tests for disabled YAQL conversion. In fact, they
  didn't test it properly because data conversion wasn't disabled.

Closes-Bug: #1867899
Change-Id: I12b4d0c5f1f49990d8ae09b72f73c0da96254a86
"
openstack%2Fmanila~master~I21863f7fdad2bdd5dee226a3f6872d25b1c4f8ad,openstack/manila,master,TrivialFix,I21863f7fdad2bdd5dee226a3f6872d25b1c4f8ad,Fix URLs in code and documentation,MERGED,2020-03-19 01:59:58.000000000,2020-03-19 13:27:54.000000000,2020-03-19 13:25:28.000000000,52,56,0,713770,6f79bb6c8933b46d7a429218f1195fb678ea820d,15,9,1,21,16643,Goutham Pacha Ravi,gouthamr,"Fix URLs in code and documentation

TrivialFix

Change-Id: I21863f7fdad2bdd5dee226a3f6872d25b1c4f8ad
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fopenstack-ansible-repo_build~stable%2Ftrain~I2cf628d322e09ab7a0dc12557b07b1ab8d174b99,openstack/openstack-ansible-repo_build,stable/train,,I2cf628d322e09ab7a0dc12557b07b1ab8d174b99,repo_build: determine if there was a change when syncing files,MERGED,2020-03-19 08:06:09.000000000,2020-03-19 13:27:50.000000000,2020-03-19 13:25:49.000000000,2,1,0,713793,bcc2aeda2fc08d5bd8bee014d91f6d857c11c304,8,2,1,1,25600,Ebbex,ebbex,"repo_build: determine if there was a change when syncing files

If we sync a couple of item.paths over to the repo_all[0]. There is
definitely a change happening, so setting changed_when to false is
not correct.

During the with_items loop you can check each individual task under
the ""register: _variable"". After the task has completed with all
items, they're bundled up into _variable.results for future
processing.

rsync reports changes to stdout, and will remain empty if there are
none. So we can just check for stdout.

Depends-On: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
Change-Id: I2cf628d322e09ab7a0dc12557b07b1ab8d174b99
"
openstack%2Fproject-config~master~I4de49da1b48f7b87879102a0e18e97168e39406b,openstack/project-config,master,check-release-approval,I4de49da1b48f7b87879102a0e18e97168e39406b,Use /detail in check-release-approval queries,MERGED,2020-03-18 10:13:24.000000000,2020-03-19 13:26:41.000000000,2020-03-19 13:26:41.000000000,3,6,0,713609,59188b984398cbf735346b6eed1e180ad259e843,11,6,1,1,308,Thierry Carrez,ttx,"Use /detail in check-release-approval queries

Gerrit sometimes returns a partial JSON answer, missing
the details that o=DETAILED_LABELS should trigger. This
results in false negatives in check-release-approval tests.

This cannot be reproduced easily. We put in place a retry
but the issue seems to stick on immediate retries.

As an experiment, this change switches the API call from
/changes/ID with o=DETAILED_LABELS&o=DETAILED_ACCOUNTS to
/changes/ID/detail (which includes these two options, amongst
others), to see if that would workaround the Gerrit issue.

We also remove the retry since it does not improve significantly
the situation.

Change-Id: I4de49da1b48f7b87879102a0e18e97168e39406b
"
openstack%2Fopenstack-specs~master~Ib915d26d09a59122be15a4fa726370bde56dda90,openstack/openstack-specs,master,cleanup,Ib915d26d09a59122be15a4fa726370bde56dda90,Several cleanups,MERGED,2020-03-19 12:52:31.000000000,2020-03-19 13:24:29.000000000,2020-03-19 13:21:19.000000000,14,24,1,713869,70a7c6d7ddf1e00e5d22ed09f239e73566632f9d,16,6,2,4,6547,Andreas Jaeger,jaegerandi,"Several cleanups

Switch to openstackdocstheme, use python3 everywhere, remove
old cruft in setup.cfg.

Change-Id: Ib915d26d09a59122be15a4fa726370bde56dda90
"
openstack%2Fopenstack-ansible-repo_build~stable%2Ftrain~I4ae6737f1ded4cbb680a380c8c309a0f5bf64723,openstack/openstack-ansible-repo_build,stable/train,,I4ae6737f1ded4cbb680a380c8c309a0f5bf64723,repo_build: take distro version into account,MERGED,2020-03-19 05:39:58.000000000,2020-03-19 13:22:23.000000000,2020-03-19 13:20:01.000000000,1,1,0,713785,e3d5da2e513b7a73e0dc766f9de39a887a15a9e7,7,2,1,1,25600,Ebbex,ebbex,"repo_build: take distro version into account

When introducing a new repo_container with a different distro, using
the same directory for symlinks can result in weird builds. We should
prevent the links directory to be copied all willy-nilly, as suggested
here;

https://review.opendev.org/#/c/712784/
https://review.opendev.org/#/c/712787/

But we can further prevent bad builds by separating under distro-arch
under links with this patch.

Depends-On: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
Change-Id: I4ae6737f1ded4cbb680a380c8c309a0f5bf64723
"
openstack%2Fironic-python-agent-builder~master~Ia6f272ca6439ab7731194ad37e6ccc62f1a90f87,openstack/ironic-python-agent-builder,master,ssh-key-variables,Ia6f272ca6439ab7731194ad37e6ccc62f1a90f87,Use variables for ssh paths,MERGED,2019-12-06 12:11:46.000000000,2020-03-19 13:19:14.000000000,2020-03-19 13:14:43.000000000,15,10,0,697654,c7ec10668d9f557b9fb7d52d3e6481b71d02b7bb,32,5,6,1,23851,Riccardo Pittau,elfosardo,"Use variables for ssh paths

Converting ssh related paths to variables.

Change-Id: Ia6f272ca6439ab7731194ad37e6ccc62f1a90f87
"
openstack%2Frally-openstack~master~Idf8b36f4931065e973c8753e4128a209156d2d9b,openstack/rally-openstack,master,turnof-warnings,Idf8b36f4931065e973c8753e4128a209156d2d9b,Temporary hide warnings,MERGED,2020-03-19 10:20:32.000000000,2020-03-19 13:16:43.000000000,2020-03-19 13:16:43.000000000,3,0,0,713816,e273a24e2c597f7d8262d1e546de6e3a79f717e3,6,2,1,1,9545,Andrey Kurilin,akurilin,"Temporary hide warnings

This PR rtemporary hides all warnings during pytest launch. We have too
much of them and it becomes really hard to read logs.
Should be reverted as soon as Rally 3.0.0 will be released.

Change-Id: Idf8b36f4931065e973c8753e4128a209156d2d9b
"
openstack%2Fironic-python-agent-builder~master~I86d7adac22be1890b271fd65a4bc49a7ab0a77bf,openstack/ironic-python-agent-builder,master,workaround-hwclock,I86d7adac22be1890b271fd65a4bc49a7ab0a77bf,Workaround for missing adjtime file,MERGED,2020-03-18 13:33:19.000000000,2020-03-19 13:16:24.000000000,2020-03-19 13:14:42.000000000,10,0,0,713651,919b8f6e4243a530e9739accf47de9af4998e7d0,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Workaround for missing adjtime file

The adjtime file used by hwclock in tinycore is /var/lib/hwclock/adjtime
but for some reason (bug?) the file is not created when hwclock is
invoked, causing hwclock to fail when using certain options, for example
--systohc.
We create the dir and the file to prevent that.

Change-Id: I86d7adac22be1890b271fd65a4bc49a7ab0a77bf
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I597c1acb549ebce86fdc1f48487612db6c607f24,openstack/tripleo-upgrade,stable/train,ffwd-upgrade2-stable/train,I597c1acb549ebce86fdc1f48487612db6c607f24,Linters fix-refresh,MERGED,2020-03-18 13:44:19.000000000,2020-03-19 13:14:44.000000000,2020-03-19 13:14:44.000000000,17,25,0,713655,4f95be3ececdb18900fff385ff2e03f24fec633c,10,7,1,8,11166,Lukas Bezdicka,xbezdick,"Linters fix-refresh

- bumped linters
- enabled two more checks and fixed them
- cleaned tox.ini file

Change-Id: I597c1acb549ebce86fdc1f48487612db6c607f24
(cherry picked from commit 4ad92f255f3120d6851c3cff3fcef73daed079f3)
"
openstack%2Fopenstack-ansible-ops~master~I234138ae7d1fab410532c2fe9093c18553279385,openstack/openstack-ansible-ops,master,filebeat_elastic,I234138ae7d1fab410532c2fe9093c18553279385,Enable Filebeat kibana monitoring,MERGED,2020-03-12 17:31:37.000000000,2020-03-19 13:13:13.000000000,2020-03-19 13:10:20.000000000,6,3,0,712745,afc83698efe0597feb2d1a50f495fd3486339628,28,4,2,2,31004,Duncan Martin Walker,duncan-martin-walker,"Enable Filebeat kibana monitoring

Filebeat has an inbuilt module to parse Kibana logs directly,
allowing them to be displayed in the Kibana monitoring dashboard. This
commit enables this module on all Kibana hosts.

Change-Id: I234138ae7d1fab410532c2fe9093c18553279385
"
openstack%2Fopenstack-ansible-ops~master~Ia8a0198641d41734fc8c50e12c11297a67211b02,openstack/openstack-ansible-ops,master,filebeat_elastic,Ia8a0198641d41734fc8c50e12c11297a67211b02,Enable Filebeat elasticsearch monitoring on Elastic hosts,MERGED,2020-03-11 10:20:06.000000000,2020-03-19 13:11:14.000000000,2020-03-19 13:09:04.000000000,14,5,0,712314,3c0502a0eef3aeecde8169da1c6651a90f1e2e4e,24,4,5,2,31004,Duncan Martin Walker,duncan-martin-walker,"Enable Filebeat elasticsearch monitoring on Elastic hosts

Filebeat has an inbuilt module to parse Elasticsearch logs directly,
allowing them to be displayed in the Kibana monitoring dashboard. This
commit enables this module on all elasticsearch hosts.

Change-Id: Ia8a0198641d41734fc8c50e12c11297a67211b02
"
openstack%2Ftripleo-common~master~I6de47600f430d3af5e3052ff456cd718a0df0d76,openstack/tripleo-common,master,,I6de47600f430d3af5e3052ff456cd718a0df0d76,Re-raise same exception type in export_stream,MERGED,2019-11-05 18:10:07.000000000,2020-03-19 13:11:02.000000000,2019-11-07 23:07:57.000000000,30,4,4,693062,9d7a9b83ed8d20c8baa9a6b49812f4f30faf7782,25,5,5,2,7144,James Slagle,slagle,"Re-raise same exception type in export_stream

tripleo-container-image-prepare can consume a lot of memory during
the export. Previously, when a MemoryError was raised by python, the
exception was hidden because there was no message in the exception and
the code re-raised an IOError.

This patch updates the code so that a MemoryError is specifically caught
if one was thrown, and an accurate message is logged.

Change-Id: I6de47600f430d3af5e3052ff456cd718a0df0d76
"
openstack%2Fopenstack-ansible-ops~master~I61135cd808737ca5bcb21307c4bcad7c4c3f96a5,openstack/openstack-ansible-ops,master,filebeat_elastic,I61135cd808737ca5bcb21307c4bcad7c4c3f96a5,Enable Filebeat logstash monitoring on Logstash hosts,MERGED,2020-03-11 10:26:47.000000000,2020-03-19 13:10:19.000000000,2020-03-19 13:10:19.000000000,6,3,2,712318,494a88950b6108873deaf06e36a376c8296114cd,19,4,6,2,31004,Duncan Martin Walker,duncan-martin-walker,"Enable Filebeat logstash monitoring on Logstash hosts

Filebeat has an inbuilt module to parse Logstash logs directly,
allowing them to be displayed in the Kibana monitoring dashboard. This
commit enables this module on all Logstash hosts.

Change-Id: I61135cd808737ca5bcb21307c4bcad7c4c3f96a5
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I5b569ef8dca549581c918ee6bbde1234c68aa5a6,openstack/tripleo-upgrade,stable/train,ffwd-upgrade2-stable/train,I5b569ef8dca549581c918ee6bbde1234c68aa5a6,Introduce molecule tests in the tripleo-upgrade role,MERGED,2020-03-18 13:44:19.000000000,2020-03-19 13:06:52.000000000,2020-03-19 13:06:51.000000000,755,11,0,713654,4ee66fdb0e6276ac8807a0db243ad54d8a03659c,11,4,1,21,11166,Lukas Bezdicka,xbezdick,"Introduce molecule tests in the tripleo-upgrade role

This patch adds the first structure to
run molecule and test this role

It includes a basic escenario to run the tripleo-upgrade
role without parameters.

Change-Id: I5b569ef8dca549581c918ee6bbde1234c68aa5a6
(cherry picked from commit 505fc0d21e2d222c29d2f7c981e3e04e875e7589)
"
openstack%2Fopenstack-ansible-ops~master~Iecd41881b3adec4e4196c48334b6234c15e80f6c,openstack/openstack-ansible-ops,master,filebeat_elastic,Iecd41881b3adec4e4196c48334b6234c15e80f6c,Correctly enable mysql filebeat module,MERGED,2020-03-10 14:12:45.000000000,2020-03-19 13:05:01.000000000,2020-03-19 13:02:45.000000000,1,1,0,712094,fd31fb0ffc59a073d7e80ba66371680dc88c21c1,26,4,4,1,31004,Duncan Martin Walker,duncan-martin-walker,"Correctly enable mysql filebeat module

There is currently an issue where the mysql module setup in the
filebeat config file will apply to the last enabled module due to
a misplaced comment. This will cause Filebeat to crash when both
IPTables and galera are present, as the error config section does
not exist. This commit uncomments the mysql module definition
in order for the configuration to apply correctly to both IPTables
and mysql.

Change-Id: Iecd41881b3adec4e4196c48334b6234c15e80f6c
"
openstack%2Fkolla-ansible~master~I07d2c285e3214a6dc827a8e8eacf263048ee099b,openstack/kolla-ansible,master,bp/drop-py2-support,I07d2c285e3214a6dc827a8e8eacf263048ee099b,CentOS 8: Use master image tag by default,MERGED,2020-03-16 15:34:00.000000000,2020-03-19 12:59:11.000000000,2020-03-19 12:55:34.000000000,3,11,0,713272,bab770a88bee147e655a876a92a8d3b8711c9861,24,4,2,3,14826,Mark Goddard,mgoddard,"CentOS 8: Use master image tag by default

While supporting both CentOS 7 and 8, we used the tag 'master-centos8'
for CentOS 8 images. We are now ready to drop CentOS 7 support, and
Kolla is switching to publish CentOS 8 images using the master tag on
the master branch, so we should use this.

Depends-On: https://review.opendev.org/713265

Partially-Implements: blueprint centos-rhel-8

Change-Id: I07d2c285e3214a6dc827a8e8eacf263048ee099b
"
openstack%2Fkolla-ansible~stable%2Ftrain~Ie8a2d1a163528f509e126a807d4c73dd8106c47a,openstack/kolla-ansible,stable/train,,Ie8a2d1a163528f509e126a807d4c73dd8106c47a,ceph: Add become to gathering OSD IDs on reconfigure,MERGED,2020-03-18 16:24:25.000000000,2020-03-19 12:57:49.000000000,2020-03-19 12:55:36.000000000,8,0,0,713691,bb3261822d11dd74bfd7c678515d93241e4e2117,17,4,7,2,22629,Michal Nasiadka,mnasiadka,"ceph: Add become to gathering OSD IDs on reconfigure

We did use become: true on starting the osds, but not on reconfigure.

Closes-Bug: #1867946

Change-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a
"
openstack%2Fkolla-ansible~stable%2Frocky~Ie8a2d1a163528f509e126a807d4c73dd8106c47a,openstack/kolla-ansible,stable/rocky,,Ie8a2d1a163528f509e126a807d4c73dd8106c47a,ceph: Add become to gathering OSD IDs on reconfigure,MERGED,2020-03-19 09:30:28.000000000,2020-03-19 12:53:21.000000000,2020-03-19 12:49:51.000000000,8,0,0,713806,326932924c9f5805b74763683cd72389f8458857,10,3,2,2,22629,Michal Nasiadka,mnasiadka,"ceph: Add become to gathering OSD IDs on reconfigure

We did use become: true on starting the osds, but not on reconfigure.

Closes-Bug: #1867946

Change-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a
"
openstack%2Fpython-brick-cinderclient-ext~master~I366b1e0f2e02dbc90015d7a04b8294507c1d1b6b,openstack/python-brick-cinderclient-ext,master,title-typo,I366b1e0f2e02dbc90015d7a04b8294507c1d1b6b,Correct typo in title,MERGED,2020-03-03 18:31:22.000000000,2020-03-19 12:37:33.000000000,2020-03-19 12:35:03.000000000,2,2,0,711083,637775d5b5e011b518437b623a7aeee9cd7e0cff,8,3,1,1,5314,Brian Rosmaita,brian-rosmaita,"Correct typo in title

It is less confusing if the title on the docs landing page matches
the project name.

Change-Id: I366b1e0f2e02dbc90015d7a04b8294507c1d1b6b
"
openstack%2Fovn-octavia-provider~master~I42878326c3654db7a1be83f5889457c8c85117b6,openstack/ovn-octavia-provider,master,,I42878326c3654db7a1be83f5889457c8c85117b6,"Add tempest gate, devstack plugin and sample devstack config",MERGED,2020-02-20 13:21:38.000000000,2020-03-19 12:28:58.000000000,2020-03-19 12:23:02.000000000,143,0,14,708870,654cf42e8f848906db5187de8c0ed302a7ba93f8,69,6,25,4,24791,Maciej Jozefczyk,maciej.jozefczyk,"Add tempest gate, devstack plugin and sample devstack config

This patch adds:
 * ovn-octavia-provider-driver tempest job
 * devstack plugin


Change-Id: I42878326c3654db7a1be83f5889457c8c85117b6
"
openstack%2Fcharms.openstack~master~Ieae81619e06dc287c2c42ec944425be4de13d0d6,openstack/charms.openstack,master,ovn-charm,Ieae81619e06dc287c2c42ec944425be4de13d0d6,Allow release selection to work for subordinate charms,MERGED,2020-03-19 07:06:26.000000000,2020-03-19 12:27:59.000000000,2020-03-19 12:27:59.000000000,44,7,0,713788,d8b376cde28ef37d4a3144dada37529618333663,9,3,1,5,13686,Frode Nordahl,fnordahl,"Allow release selection to work for subordinate charms

The release selection function bases its decision on installed
packages and falls back to looking up OpenStack release codename
from source configuration option when no packages are installed.

Subordinate charms do not have a source configuration option,
thus we want to make it possible for a charm author to request
the release selection decision be made based on what is currently
available in the system APT cache alone.

Our principle charm should already have configured the system
with the desired UCA pocket enabled.

The charm author requests this behaviour by setting the
``source_config_key`` to an empty string.

Note that functions for upgrading between releases etc also
depend on the charm having a source configuration option but
that is OK as the subordinate has no business dealing with
that and should defer such operations to its principle charm.

Change-Id: Ieae81619e06dc287c2c42ec944425be4de13d0d6
Closes-Bug: #1865510
"
openstack%2Fsushy~master~I735a51a651d05b85c47a3c9a33e587f9c5b4c28f,openstack/sushy,master,01-add-response-cb,I735a51a651d05b85c47a3c9a33e587f9c5b4c28f,"Add `Connector(..., response_callback=None)`` parameter",MERGED,2020-03-16 19:01:51.000000000,2020-03-19 12:21:34.000000000,2020-03-19 12:18:12.000000000,32,1,2,713315,5b07f04538e16a31f6e7a5dd69b558850ddcc126,16,6,3,3,26340,Ilya Etingof,etingof,"Add `Connector(..., response_callback=None)`` parameter

Adds optional `response_callback` parameter to `Connector` class
that can be used by the application to receive vanilla HTTP messages
in the course of running Redfish call.

The intention is to facilitate Redfish exchange debugging.

Change-Id: I735a51a651d05b85c47a3c9a33e587f9c5b4c28f
"
openstack%2Fopenstack-ansible-repo_build~master~I2cf628d322e09ab7a0dc12557b07b1ab8d174b99,openstack/openstack-ansible-repo_build,master,,I2cf628d322e09ab7a0dc12557b07b1ab8d174b99,repo_build: determine if there was a change when syncing files,MERGED,2020-03-13 20:32:40.000000000,2020-03-19 12:21:34.000000000,2020-03-19 12:16:12.000000000,2,1,0,713063,9e6f1169b62661ccdbb7de00db99c99ed392cfaf,15,4,2,1,25600,Ebbex,ebbex,"repo_build: determine if there was a change when syncing files

If we sync a couple of item.paths over to the repo_all[0]. There is
definitely a change happening, so setting changed_when to false is
not correct.

During the with_items loop you can check each individual task under
the ""register: _variable"". After the task has completed with all
items, they're bundled up into _variable.results for future
processing.

rsync reports changes to stdout, and will remain empty if there are
none. So we can just check for stdout.

Depends-On: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
Change-Id: I2cf628d322e09ab7a0dc12557b07b1ab8d174b99
"
openstack%2Frally~master~I733bdc2b5cef751af9dfcc33866c122ceed63492,openstack/rally,master,install_job,I733bdc2b5cef751af9dfcc33866c122ceed63492,Improme install jobs to run the simlar workload as tox -eself,MERGED,2020-03-17 18:19:43.000000000,2020-03-19 12:18:24.000000000,2020-03-19 12:18:24.000000000,10,17,0,713507,445be80d3f380da14ada42781704ddc894c358eb,55,2,27,4,9545,Andrey Kurilin,akurilin,"Improme install jobs to run the simlar workload as tox -eself

Change-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492
"
openstack%2Freleases~master~I738c6f108579a06fb63416738b09fe9410231a8f,openstack/releases,master,glanceclient-rocky,I738c6f108579a06fb63416738b09fe9410231a8f,Release python-glanceclient 2.13.2,MERGED,2020-03-19 05:34:50.000000000,2020-03-19 12:18:21.000000000,2020-03-19 12:18:21.000000000,4,0,0,713783,d0c58247e8e0cafb2ed82bcb9d389b9f469f11d5,8,3,1,1,9303,Abhishek Kekane,abhishekkekane,"Release python-glanceclient 2.13.2

Point and last official release of Rocky glanceclient; bugfixes

Change-Id: I738c6f108579a06fb63416738b09fe9410231a8f
"
openstack%2Freleases~master~Ie518c1d82ab3c7fdd5447666e89dacfbd3bda993,openstack/releases,master,glance_store-rocky,Ie518c1d82ab3c7fdd5447666e89dacfbd3bda993,Release glance_store 0.26.2,MERGED,2020-03-19 05:18:35.000000000,2020-03-19 12:18:20.000000000,2020-03-19 12:18:20.000000000,4,0,0,713782,74cf4507407c076a41378bf1a5f0c8b5b2716d3a,8,3,1,1,9303,Abhishek Kekane,abhishekkekane,"Release glance_store 0.26.2

Point and last official release of Rocky glance_store; bugfixes

Change-Id: Ie518c1d82ab3c7fdd5447666e89dacfbd3bda993
"
openstack%2Freleases~master~I2604f483318e5dbd565deb2faef4d74c6064b5f5,openstack/releases,master,glance-rocky,I2604f483318e5dbd565deb2faef4d74c6064b5f5,Release Glance 17.0.1,MERGED,2020-03-19 05:04:55.000000000,2020-03-19 12:18:19.000000000,2020-03-19 12:18:19.000000000,4,0,0,713779,5114457a1ed2c3aaf5746b951354e280e8ee8a97,8,3,1,1,9303,Abhishek Kekane,abhishekkekane,"Release Glance 17.0.1

Point and last official release of Rocky Glance; bugfixes

Change-Id: I2604f483318e5dbd565deb2faef4d74c6064b5f5
"
openstack%2Fneutron~master~I7e62784d6808119b0882b9d7265ca2ce6fa0df10,openstack/neutron,master,bug/1865453,I7e62784d6808119b0882b9d7265ca2ce6fa0df10,[WIP][OVN] Recheck on failed assert in VirtualPort functional tests,ABANDONED,2020-03-13 09:46:14.000000000,2020-03-19 12:16:24.000000000,,382,208,2,712888,7c098b60fe2eda9425de350e07f44e6f957a3845,18,7,2,4,24791,Maciej Jozefczyk,maciej.jozefczyk,"[WIP][OVN] Recheck on failed assert in VirtualPort functional tests

Sometimes in the logs we can find that the assert fails on checking
the virtual port type or required option in Logical_Switch_Port.

Lets try to retry in case needed value is not present.

Closes-Bug: #1865453

Change-Id: I7e62784d6808119b0882b9d7265ca2ce6fa0df10
"
openstack%2Fopenstack-ansible-repo_build~stable%2Frocky~Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,openstack/openstack-ansible-repo_build,stable/rocky,,Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,repo_build: update tests to opendev.org,MERGED,2020-03-13 15:23:39.000000000,2020-03-19 12:16:12.000000000,2020-03-19 12:16:12.000000000,4,5,0,712973,94965d6b5bbcf416da328fa5d45c0f976cffba72,12,3,2,1,25600,Ebbex,ebbex,"repo_build: update tests to opendev.org

(cherry picked from commit fd4b607820d75e439fcf0fc68e370d13b0493752)
Change-Id: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
"
openstack%2Fkayobe~stable%2Ftrain~I6316e8959cff987e4e97280889e1038a9537ed32,openstack/kayobe,stable/train,,I6316e8959cff987e4e97280889e1038a9537ed32,CI: Make provision-net external,MERGED,2020-02-20 16:56:19.000000000,2020-03-19 12:09:44.000000000,2020-03-19 12:06:22.000000000,5,0,0,708915,6f34cf12cbcd96a820efce21af414c9d8418865b,9,3,2,1,14826,Mark Goddard,mgoddard,"CI: Make provision-net external

Train only. This is used to ensure that we can test SSH connectivity in
CI on the master branch following an upgrade.

Change-Id: I6316e8959cff987e4e97280889e1038a9537ed32
"
openstack%2Fkayobe~stable%2Fstein~Ieb1577f859d388a0f326cb6933c953f486dfca15,openstack/kayobe,stable/stein,,Ieb1577f859d388a0f326cb6933c953f486dfca15,Stop gzipping logs in get-logs.sh,MERGED,2020-03-11 13:50:22.000000000,2020-03-19 12:08:36.000000000,2020-03-19 12:06:22.000000000,0,2,0,712443,8c74a9d0800ebb982820567eb06f125099e0ae89,10,4,1,1,14826,Mark Goddard,mgoddard,"Stop gzipping logs in get-logs.sh

As per [1] we should stop compressing the logs sent to swift in order
to get them back readable via a browser.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html

Change-Id: Ieb1577f859d388a0f326cb6933c953f486dfca15
Co-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>
(cherry picked from commit c657ead4f25148d7f6dd5825ae11c29827ed3201)
"
openstack%2Fkayobe~stable%2Ftrain~Ieb1577f859d388a0f326cb6933c953f486dfca15,openstack/kayobe,stable/train,,Ieb1577f859d388a0f326cb6933c953f486dfca15,Stop gzipping logs in get-logs.sh,MERGED,2020-03-11 13:50:14.000000000,2020-03-19 12:06:31.000000000,2020-03-19 12:03:00.000000000,0,2,0,712442,1be05c17361c3cd237025ad7e25af4a25f11bd58,11,5,1,1,14826,Mark Goddard,mgoddard,"Stop gzipping logs in get-logs.sh

As per [1] we should stop compressing the logs sent to swift in order
to get them back readable via a browser.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html

Change-Id: Ieb1577f859d388a0f326cb6933c953f486dfca15
Co-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>
(cherry picked from commit c657ead4f25148d7f6dd5825ae11c29827ed3201)
"
openstack%2Fkayobe~stable%2Ftrain~I640873c11ceae5008030dc03984c089a410a0cee,openstack/kayobe,stable/train,,I640873c11ceae5008030dc03984c089a410a0cee,Skip resmo.ntp role if ntp_service_enabled is false,MERGED,2020-03-06 17:06:45.000000000,2020-03-19 12:04:59.000000000,2020-03-19 12:02:56.000000000,12,0,0,711666,369fc3a86aa282f3b925bb0bd6b38b07947661d6,8,3,1,2,14826,Mark Goddard,mgoddard,"Skip resmo.ntp role if ntp_service_enabled is false

We enable ntpd by default, and provide a variable to disable it -
ntp_service_enabled. It is also automatically disabled if the user
enables the chrony container (kolla_enable_chrony).

However, setting ntp_service_enabled to false will cause the host
configure commands to fail due to a bug in the resmo.ntp role. This is
because it tries to configure the ntpd service in systemd, but it will
not exist so the task fails.

This change fixes the issue by skipping the resmo.ntp role if the NTP
service is disabled.

Change-Id: I640873c11ceae5008030dc03984c089a410a0cee
Story: 2007384
Task: 38968
(cherry picked from commit 35e50bb6b8f149d9edac6718121407b08ff402d8)
"
openstack%2Fkayobe~stable%2Frocky~Ieb1577f859d388a0f326cb6933c953f486dfca15,openstack/kayobe,stable/rocky,,Ieb1577f859d388a0f326cb6933c953f486dfca15,Stop gzipping logs in get-logs.sh,MERGED,2020-03-11 13:50:31.000000000,2020-03-19 12:03:00.000000000,2020-03-19 12:03:00.000000000,0,2,0,712444,ef232aa14e5a128bb73b5a01fe58fe07234e854c,10,5,1,1,14826,Mark Goddard,mgoddard,"Stop gzipping logs in get-logs.sh

As per [1] we should stop compressing the logs sent to swift in order
to get them back readable via a browser.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html

Change-Id: Ieb1577f859d388a0f326cb6933c953f486dfca15
Co-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>
(cherry picked from commit c657ead4f25148d7f6dd5825ae11c29827ed3201)
"
openstack%2Fkayobe~stable%2Fstein~I640873c11ceae5008030dc03984c089a410a0cee,openstack/kayobe,stable/stein,,I640873c11ceae5008030dc03984c089a410a0cee,Skip resmo.ntp role if ntp_service_enabled is false,MERGED,2020-03-06 17:06:57.000000000,2020-03-19 12:01:55.000000000,2020-03-19 11:59:28.000000000,12,0,0,711667,8d9383a6d95e51803d27dd61dc7df3969f054e16,8,3,1,2,14826,Mark Goddard,mgoddard,"Skip resmo.ntp role if ntp_service_enabled is false

We enable ntpd by default, and provide a variable to disable it -
ntp_service_enabled. It is also automatically disabled if the user
enables the chrony container (kolla_enable_chrony).

However, setting ntp_service_enabled to false will cause the host
configure commands to fail due to a bug in the resmo.ntp role. This is
because it tries to configure the ntpd service in systemd, but it will
not exist so the task fails.

This change fixes the issue by skipping the resmo.ntp role if the NTP
service is disabled.

Change-Id: I640873c11ceae5008030dc03984c089a410a0cee
Story: 2007384
Task: 38968
(cherry picked from commit 35e50bb6b8f149d9edac6718121407b08ff402d8)
"
openstack%2Fkayobe~stable%2Frocky~I640873c11ceae5008030dc03984c089a410a0cee,openstack/kayobe,stable/rocky,,I640873c11ceae5008030dc03984c089a410a0cee,Skip resmo.ntp role if ntp_service_enabled is false,MERGED,2020-03-06 17:07:08.000000000,2020-03-19 11:59:31.000000000,2020-03-19 11:59:31.000000000,12,0,0,711668,8577c321bda25f1a70d2ef0e77bb694140e5d14a,7,3,1,2,14826,Mark Goddard,mgoddard,"Skip resmo.ntp role if ntp_service_enabled is false

We enable ntpd by default, and provide a variable to disable it -
ntp_service_enabled. It is also automatically disabled if the user
enables the chrony container (kolla_enable_chrony).

However, setting ntp_service_enabled to false will cause the host
configure commands to fail due to a bug in the resmo.ntp role. This is
because it tries to configure the ntpd service in systemd, but it will
not exist so the task fails.

This change fixes the issue by skipping the resmo.ntp role if the NTP
service is disabled.

Change-Id: I640873c11ceae5008030dc03984c089a410a0cee
Story: 2007384
Task: 38968
(cherry picked from commit 35e50bb6b8f149d9edac6718121407b08ff402d8)
"
openstack%2Fbifrost~stable%2Ftrain~Ifd67adaa98e920f42c80d239349ae61d7d610f66,openstack/bifrost,stable/train,,Ifd67adaa98e920f42c80d239349ae61d7d610f66,Ensure DIB is installed from source,MERGED,2020-03-17 13:31:23.000000000,2020-03-19 11:53:31.000000000,2020-03-19 11:50:31.000000000,9,7,0,713443,1ed7d236dcf89364a257cab1a7b46ab776ed5f98,8,3,1,1,14826,Mark Goddard,mgoddard,"Ensure DIB is installed from source

Bifrost clones the DIB repo and installs it. However, after running
install.yaml pip freeze shows diskimage-builder 2.33 is installed.

This is caused by the recent addition of IPA builder, which has its own
dependency on diskimage-builder.

This change fixes the issue by swapping the order of installation of IPA
builder and DIB, to ensure DIB is installed last.

Change-Id: Ifd67adaa98e920f42c80d239349ae61d7d610f66
Story: 2007401
Task: 38999
(cherry picked from commit d878f65eea7493acb45e475a00ccd1d7ef1de50a)
"
openstack%2Fneutron~master~I1bcb0ca68747e4c32523e41307dc132291c55f6d,openstack/neutron,master,bug/1861502,I1bcb0ca68747e4c32523e41307dc132291c55f6d,[OVN] Call OVNClient methods with context when possible,MERGED,2020-02-05 23:10:39.000000000,2020-03-19 11:46:04.000000000,2020-03-19 11:42:30.000000000,160,156,29,706152,ee73b5061813b49bf0cd6aa782848796acbf484b,176,12,15,12,1131,Brian Haley,brian-haley,"[OVN] Call OVNClient methods with context when possible

The OVN maintenance code was not always calling into
the OVNClient class methods with the correct number of
arguments, leading to exceptions.

After a deeper review, there were a number of places
where this was happening, so changed most methods to
take a 'context' argument since it's usually available
in the caller.

Change-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d
Closes-bug: #1861502
"
openstack%2Fkuryr-kubernetes~master~I71a7bd16ca8e6b7d9acb7398360b58694ede073f,openstack/kuryr-kubernetes,master,remote_ip_prefixes-preserve,I71a7bd16ca8e6b7d9acb7398360b58694ede073f,Preserve unknown in remote_ip_prefixes in NP CRD,MERGED,2020-03-18 10:55:13.000000000,2020-03-19 11:45:40.000000000,2020-03-19 11:43:38.000000000,2,0,1,713625,fe1627e2716ef273df99b0de7c26b65157205436,15,5,2,1,11600,Michał Dulko,dulek,"Preserve unknown in remote_ip_prefixes in NP CRD

The remote_ip_prefixes field in KuryrNetPolicy CRD is an object. As it's
not defined with correct schema, it needs
x-kubernetes-preserve-unknown-fields property. This commit fixes that.

I'm not defining the field correctly as we're moving to new CRD anyway.

Change-Id: I71a7bd16ca8e6b7d9acb7398360b58694ede073f
"
openstack%2Fkolla-ansible~master~If3f95e0bfc779879ca7d2cf45188fb76b4b772da,openstack/kolla-ansible,master,,If3f95e0bfc779879ca7d2cf45188fb76b4b772da,CI: add Debian/source upgrade job,MERGED,2020-03-19 08:46:39.000000000,2020-03-19 11:32:54.000000000,2020-03-19 11:27:12.000000000,12,0,1,713795,ed4607ec5675648c3a5cc8b0b3e04e50cfb41ee1,12,3,2,2,24072,Marcin Juszkiewicz,hrw,"CI: add Debian/source upgrade job

Change-Id: If3f95e0bfc779879ca7d2cf45188fb76b4b772da
"
openstack%2Fkolla~master~I423b48b4d1c045dca66d8d982646930485a9731d,openstack/kolla,master,,I423b48b4d1c045dca66d8d982646930485a9731d,"Revert ""mark bifrost as unbuildable""",MERGED,2020-03-17 18:19:14.000000000,2020-03-19 11:32:23.000000000,2020-03-19 11:27:10.000000000,0,1,0,713506,4c0a47c570651ca536eca02fa7f37890c04f0792,35,4,5,1,14826,Mark Goddard,mgoddard,"Revert ""mark bifrost as unbuildable""

This reverts commit e4bb18819fc0480ecf36f98367cae48ec226bb50.

Change-Id: I423b48b4d1c045dca66d8d982646930485a9731d
Depends-On: https://review.opendev.org/713504
"
openstack%2Ftempest~master~I47e3fcd0886e7cf33568ac71484b650de218b255,openstack/tempest,master,app-creds-fake-data,I47e3fcd0886e7cf33568ac71484b650de218b255,Modify the application credentials fake data,MERGED,2019-10-09 03:22:04.000000000,2020-03-19 11:29:36.000000000,2020-03-19 11:23:50.000000000,79,41,0,687449,9a49aba5a4cc0b68ce2f984f0daf4e6897c26563,16,6,2,1,30409,wangzhiguang,wangzhiguang,"Modify the application credentials fake data

Modify the application credentials fake data according to the API
document described
Change-Id: I47e3fcd0886e7cf33568ac71484b650de218b255
"
openstack%2Ftempest~master~I9ebeccb545576e43ef0fc96c29169ae16f261f34,openstack/tempest,master,feature/snapshots_cleanup,I9ebeccb545576e43ef0fc96c29169ae16f261f34,Cleanup images properly,MERGED,2020-03-11 12:34:04.000000000,2020-03-19 11:26:49.000000000,2020-03-19 11:23:48.000000000,10,1,2,712356,2c831243929da6cbac1f2c7712a18fe08804772c,14,7,2,1,30674,Lukas Piwowarski,lukas-piwowarski,"Cleanup images properly

Images weren't deleted properly due to bad request sent to
glance API. Also ImageService ignored 'next' parameter returned from
glance API when listing images which is required when more images
are present.

The fix lists all images properly. If 'next' parameter is present
in the glance API response then the API is asked to send next part
of image list.

Closes-Bug: 1866988
Change-Id: I9ebeccb545576e43ef0fc96c29169ae16f261f34
"
openstack%2Frally~master~I5b9fd6463f32b5c9310ae143496870bc031ee47b,openstack/rally,master,rework_ci,I5b9fd6463f32b5c9310ae143496870bc031ee47b,[ci] Restruct zuul_ci playbooks,MERGED,2020-03-19 10:40:48.000000000,2020-03-19 11:21:18.000000000,2020-03-19 11:21:18.000000000,8,545,0,713830,efe927174148798e0e5dc4e6b2996886acb41262,9,2,3,11,9545,Andrey Kurilin,akurilin,"[ci] Restruct zuul_ci playbooks

Change-Id: I5b9fd6463f32b5c9310ae143496870bc031ee47b
"
openstack%2Fkayobe~master~Ia665cffb11253f58bbdce7ea9892766c36f7af40,openstack/kayobe,master,,Ia665cffb11253f58bbdce7ea9892766c36f7af40,Junos switch: update ncclient to 0.6.7+,MERGED,2020-02-14 09:47:24.000000000,2020-03-19 11:14:39.000000000,2020-03-19 11:12:09.000000000,5,4,2,707796,1560bbc8fb2dea21bd8ae1a7b3881be7e35d03e0,13,4,2,1,14826,Mark Goddard,mgoddard,"Junos switch: update ncclient to 0.6.7+

ncclient 0.6.7 has been released and includes a fix [1] for the host key
checking issue that required us to pin to 0.6.2.

Restrict the package to <0.7.0 to avoid potential breakage from new
releases of ncclient.

[1] https://github.com/ncclient/ncclient/commit/ead7b640921ef9e1af4aab698ba287c3b8a48553

Change-Id: Ia665cffb11253f58bbdce7ea9892766c36f7af40
Story: 2006378
Task: 38765
"
openstack%2Fproject-config~master~Ia800f77e5998a3f0fbe62ff6d027471d2a11bf0a,openstack/project-config,master,cloudkitty-specs,Ia800f77e5998a3f0fbe62ff6d027471d2a11bf0a,Fix cloudkitty-specs on specs.o.o,MERGED,2020-03-19 10:10:59.000000000,2020-03-19 11:14:10.000000000,2020-03-19 11:11:55.000000000,1,1,0,713815,df25a0d5a147ebd3c1b3cbb1013501e86bc3b4ec,7,2,1,1,6547,Andreas Jaeger,jaegerandi,"Fix cloudkitty-specs on specs.o.o

The repo is named cloudkitty-specs, not cloudkitty-specifications. Fix
name so that central index page works.

Change-Id: Ia800f77e5998a3f0fbe62ff6d027471d2a11bf0a
"
openstack%2Fapi-sig~master~I806e804a5852e081f0cb8c1b43ffe13a119aba2c,openstack/api-sig,master,publish,I806e804a5852e081f0cb8c1b43ffe13a119aba2c,Small cleanups,MERGED,2020-03-19 10:00:18.000000000,2020-03-19 11:13:57.000000000,2020-03-19 11:11:34.000000000,2,14,0,713813,33b57f352a3afabef2a890ff1be79b10a5fdbcd8,19,3,5,2,6547,Andreas Jaeger,jaegerandi,"Small cleanups

The default for install_command is good, no need to add our own version
in tox.ini. Remove it.

Remove git commands from conf.py, current openstackdocstheme handles
this itself.

Fix some missed api-wg -> api-sig renames in conf.py.

Change-Id: I806e804a5852e081f0cb8c1b43ffe13a119aba2c
"
openstack%2Fkayobe~master~Ia2f25a2e41859159275d418b57ab59bb97f58d6a,openstack/kayobe,master,,Ia2f25a2e41859159275d418b57ab59bb97f58d6a,CI: Redirect stderr to ansible logs,MERGED,2020-02-13 14:36:40.000000000,2020-03-19 11:08:42.000000000,2020-03-19 11:07:07.000000000,18,18,0,707657,ac88bc2dfb9bc2fb802cc6b1e3e2c0589d8d8e9f,10,3,2,6,14826,Mark Goddard,mgoddard,"CI: Redirect stderr to ansible logs

Currently Kayobe stderr is logged to the Zuul playbook output. This
change redirects stderr to the ansible log files.

Change-Id: Ia2f25a2e41859159275d418b57ab59bb97f58d6a
"
openstack%2Fkayobe~master~I57fbf91ae3440d3e4e6a64cd7d05151e299c9322,openstack/kayobe,master,,I57fbf91ae3440d3e4e6a64cd7d05151e299c9322,Fix Kayobe overcloud introspection data save,MERGED,2020-02-21 15:54:03.000000000,2020-03-19 11:07:42.000000000,2020-03-19 11:03:20.000000000,7,2,4,709163,167e2ff3db19f32544e324bd02f4586e36486650,15,4,1,2,17669,Doug Szumski,DougSzumski,"Fix Kayobe overcloud introspection data save

Kayobe overcloud introspection data save fails because the dynamic
inventory script siliently breaks causing Ansible to parse it as a
static inventory file. The failure occurs due to OS_TOKEN being set.
This change works around setting OS_TOKEN before running the dynamic
inventory script by setting OS_CLOUD before querying inspector.

Confirmed on Stein and Train, and verified in both environments.

Story: 2007326
Task: 38846
Change-Id: I57fbf91ae3440d3e4e6a64cd7d05151e299c9322
"
openstack%2Fapi-sig~master~I9137ce1780e971824bffdd4e6557ddeb44c4db0b,openstack/api-sig,master,gate,I9137ce1780e971824bffdd4e6557ddeb44c4db0b,Use doc8 to verify rst instead of custom tests,MERGED,2020-03-19 10:40:20.000000000,2020-03-19 11:04:56.000000000,2020-03-19 11:00:28.000000000,11,33,0,713829,3abffb4fd7467125366b99fe6c6450a93a8b72ff,9,3,2,5,10239,Dmitry Tantsur,dtantsur,"Use doc8 to verify rst instead of custom tests

Fix a disproportionally long line in dns-sd.

Change-Id: I9137ce1780e971824bffdd4e6557ddeb44c4db0b
"
openstack%2Fansible-collections-openstack~master~I16ff3fba9de8b9ee980237a90f83df3ddabb9052,openstack/ansible-collections-openstack,master,newjobs,I16ff3fba9de8b9ee980237a90f83df3ddabb9052,WIP: Introduce ansible/openstacksdk matrix jobs,ABANDONED,2020-03-16 18:46:25.000000000,2020-03-19 11:03:48.000000000,,189,7,18,713312,b8c7f6fd2546808bce9f75493253cb2628b7b3fd,24,2,13,4,10969,Shnaidman Sagi (Sergey),sergsh,"WIP: Introduce ansible/openstacksdk matrix jobs

Change-Id: I16ff3fba9de8b9ee980237a90f83df3ddabb9052
"
openstack%2Fopenstack-ansible-tests~master~I0bb8af622b6c42e8c339b3aaa1daecf5743b5bad,openstack/openstack-ansible-tests,master,,I0bb8af622b6c42e8c339b3aaa1daecf5743b5bad,Remove python2 or python3 problem pip packages,MERGED,2020-03-10 13:28:31.000000000,2020-03-19 11:02:41.000000000,2020-03-19 10:58:27.000000000,18,0,6,712069,8fcdb7f97157b104f665502f23be6de5c2c72548,22,3,7,1,25023,Jonathan Rosser,jrosser,"Remove python2 or python3 problem pip packages

Change-Id: I0bb8af622b6c42e8c339b3aaa1daecf5743b5bad
"
openstack%2Foctavia-tempest-plugin~master~I1b39cf06614d75ba037ea25fffc827fe1f29d755,openstack/octavia-tempest-plugin,master,,I1b39cf06614d75ba037ea25fffc827fe1f29d755,Fix scenario tests for OVN LB,ABANDONED,2020-03-04 15:53:29.000000000,2020-03-19 10:44:17.000000000,,13,20,9,711255,a2e0cb9f049086c38383845e6eead2fade0199c2,12,5,2,1,24791,Maciej Jozefczyk,maciej.jozefczyk,"Fix scenario tests for OVN LB

Recent changes modified a bit the way of sending requests
to LoadBalancer. We need to fix a few nits:

* Run reuse connection test only if protocol is HTTP(s) or TCP
  While testing it with UDP the testing mechanism doesn't
  reuse the connection either so limit it only to HTTP, HTTPS
  and TCP. This patch skips the additional check for SOURCE_IP_PORT
  algorithm, where UDP protocol is specified and
  CONF.load_balancer.test_reuse_connection is set to True.

* Normalize testing of TCP protocol
  When TCP is specified as protocol for LoadBalancer, we need
  to normalize it to HTTP while sending HTTP requests. Otherwise
  test fails with: InvalidSchema: No connection adapters were
  found for 'tcp://IP:port'

* Do not validate if the requests are spread across members
  in _wait_for_lb_functional().
  For SOURCE_IP_PORT protocol the connection will always go
  to one member, if session is used (http keep-alive is enabled).
  We should test the way how LB algorithm works in dedicated
  functions, like _check_members_balanced_round_robin() or
  _check_members_balanced_source_ip_port() instead. The function
  _wait_for_lb_functional() should only check if LB VIP is
  recheable and responds for specific type of request (UDP or HTTP
  for now).

Change-Id: I1b39cf06614d75ba037ea25fffc827fe1f29d755
"
openstack%2Fneutron-tempest-plugin~master~I15cfeff8bc76e295154200bd922a05a2d6e3608f,openstack/neutron-tempest-plugin,master,test_portsecurity_disabled,I15cfeff8bc76e295154200bd922a05a2d6e3608f,Add test_port_security_disabled,NEW,2020-03-04 17:03:10.000000000,2020-03-19 10:40:00.000000000,,105,0,3,711283,c77a45bad18e53f26d716a0cb02daef24e8a1c4c,9,9,2,1,29350,Roman Safronov,rsafrono,"Add test_port_security_disabled

The aim of the test is to verify that when a port's port security
is disabled, the port is allowed to send and receive packet using
any MAC address and IP address.
Verifies that issue [1] does not happen.

[1] https://bugs.launchpad.net/networking-ovn/+bug/1815270

Change-Id: I15cfeff8bc76e295154200bd922a05a2d6e3608f
"
openstack%2Fopenstack-ansible-ops~master~I76532c185e991eddcb1111fc58e7120a52c0120c,openstack/openstack-ansible-ops,master,elastic-logstash,I76532c185e991eddcb1111fc58e7120a52c0120c,Expose Elasticsearch discovery nodes,MERGED,2020-02-20 09:48:16.000000000,2020-03-19 10:37:00.000000000,2020-03-19 10:35:01.000000000,10,5,0,708826,b14224c0301d6f089f8815a28145776c22196522,32,4,5,4,31004,Duncan Martin Walker,duncan-martin-walker,"Expose Elasticsearch discovery nodes

It is currently the case that the discovery information for
elasticsearch nodes is generated using the elasticsearch node and
kibana node groups internally. This means that one cannot connect to
a remote cluster that is not managed by the same ansible inventory. This
commit exposes the configuration to allow this to occur, permitting
the elasticsearch discovery nodes to be optionally defined with further
information. The associated internal variables have been renamed from
zen_nodes as zen is used within Elasticsearch for discovery only
internally, and the associated elasticsearch config file setting has
been renamed to 'discovery.seed_hosts'.

Change-Id: I76532c185e991eddcb1111fc58e7120a52c0120c
"
openstack%2Fnova~master~Icd7ab2ca4ddbed92c7e883a63a23245920d961e7,openstack/nova,master,bug/1867380,Icd7ab2ca4ddbed92c7e883a63a23245920d961e7,nova-live-migration: Wait for n-cpu services to come up after configuring Ceph,MERGED,2020-03-13 17:19:16.000000000,2020-03-19 10:33:30.000000000,2020-03-19 10:30:39.000000000,42,5,11,713035,e23c3c2c8df3843c5853c87ef684bd21c4af95d8,163,15,14,1,10135,Lee Yarwood,lyarwood,"nova-live-migration: Wait for n-cpu services to come up after configuring Ceph

Previously the ceph.sh script used during the nova-live-migration job
would only grep for a `compute` process when checking if the services
had been restarted. This check was bogus and would always return 0 as it
would always match itself. For example:

2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root
29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps
       aux | grep compute
2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root
29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute

Failures of this job were seen on the stable/pike branch where slower CI
nodes appeared to struggle to allow Libvirt to report to n-cpu in time
before Tempest was started. This in-turn caused instance build failures
and the overall failure of the job.

This change resolves this issue by switching to pgrep and ensuring
n-cpu services are reported as fully up after a cold restart before
starting the Tempest test run.

Closes-Bug: 1867380
Change-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7
"
openstack%2Freleases~master~Id2792199eb5e1843b2f2fb02b5574992e3ba17fa,openstack/releases,master,oslo-master,Id2792199eb5e1843b2f2fb02b5574992e3ba17fa,Oslo releases for 2020-03-18,MERGED,2020-03-18 22:15:47.000000000,2020-03-19 10:06:08.000000000,2020-03-19 10:06:08.000000000,28,0,0,713749,fb45ae4ef4fb4650968fb771345abf43ff088cbc,8,2,1,7,6928,Ben Nemec,bnemec,"Oslo releases for 2020-03-18

Change-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa
"
openstack%2Freleases~master~I3dc22cbbc55c69da2b559fb266f251e0f0074038,openstack/releases,master,,I3dc22cbbc55c69da2b559fb266f251e0f0074038,Release keystoneauth1 3.13.2 for stable/stein,MERGED,2020-03-18 12:17:02.000000000,2020-03-19 10:05:31.000000000,2020-03-19 10:05:31.000000000,4,0,0,713636,82cf905acc170f843443fd189e6164b3aa1133f2,9,6,1,1,6593,Dirk Mueller,dmllr,"Release keystoneauth1 3.13.2 for stable/stein

This release would include [1], which makes life easier for packagers
who want to run unit tests.

[1] - https://review.opendev.org/701419

Change-Id: I3dc22cbbc55c69da2b559fb266f251e0f0074038
"
openstack%2Frpm-packaging~stable%2Fstein~Ic98ff3a604d170fb6e69d5594e433d585335da64,openstack/rpm-packaging,stable/stein,,Ic98ff3a604d170fb6e69d5594e433d585335da64,keystoneauth1: fix unit tests,ABANDONED,2020-03-18 18:09:48.000000000,2020-03-19 09:54:09.000000000,,119,0,0,713709,5156c0d941ad339dad5e0a2b4dce5bab1ff42d6d,7,7,1,2,13294,Javier Peña,jpena,"keystoneauth1: fix unit tests

If we try to build keystoneauth1 today, it will fail due to a missing
patch. This is not yet in any released version.

Change-Id: Ic98ff3a604d170fb6e69d5594e433d585335da64
"
openstack%2Fkarbor~master~I1ecade75227b3dc37c8fcdf775b7823583faea43,openstack/karbor,master,del_the_unused,I1ecade75227b3dc37c8fcdf775b7823583faea43,Remove unsupported calls,MERGED,2020-03-16 08:26:17.000000000,2020-03-19 09:53:57.000000000,2020-03-19 09:52:07.000000000,5,13,0,713171,7fc2b1055753b283d8bda21cb85adf560e58c476,11,5,3,4,29139,shenxindi,shenxindi,"Remove unsupported calls

Because kubernetes 11.0.0 deleted the function of
'kubernetes.client.api_client.ApiClient.__del__',
which caused an ut error and deleted the relevant mock call.

Change-Id: I1ecade75227b3dc37c8fcdf775b7823583faea43
"
openstack%2Fopenstack-helm~master~I7ad4efed2850e64942f7237a4d0516a05e0fc0f6,openstack/openstack-helm,master,zanata/translations,I7ad4efed2850e64942f7237a4d0516a05e0fc0f6,Imported Translations from Zanata,MERGED,2020-03-18 07:33:42.000000000,2020-03-19 09:17:48.000000000,2020-03-19 09:16:09.000000000,1180,0,0,713583,5517a878009e238f11d20b7d840572c4ba1f33ca,9,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7ad4efed2850e64942f7237a4d0516a05e0fc0f6
"
openstack%2Fnova~master~I617fd59de327de05a198f12b75a381f21945afb0,openstack/nova,master,bug/1866380,I617fd59de327de05a198f12b75a381f21945afb0,Lowercase ironic driver hash ring and ignore case in cache,MERGED,2020-03-06 17:44:49.000000000,2020-03-19 09:17:39.000000000,2020-03-18 20:50:55.000000000,36,4,4,711680,7145100ee4e732caa532d614e2149ef2a545287a,54,16,3,2,4690,melanie witt,melwitt,"Lowercase ironic driver hash ring and ignore case in cache

Recently we had a customer case where attempts to add new ironic nodes
to an existing undercloud resulted in half of the nodes failing to be
detected and added to nova. Ironic API returned all of the newly added
nodes when called by the driver, but half of the nodes were not
returned to the compute manager by the driver.

There was only one nova-compute service managing all of the ironic
nodes of the all-in-one typical undercloud deployment.

After days of investigation and examination of a database dump from the
customer, we noticed that at some point the customer had changed the
hostname of the machine from something containing uppercase letters to
the same name but all lowercase. The nova-compute service record had
the mixed case name and the CONF.host (socket.gethostname()) had the
lowercase name.

The hash ring logic adds all of the nova-compute service hostnames plus
CONF.host to hash ring, then the ironic driver reports only the nodes
it owns by retrieving a service hostname from the ring based on a hash
of each ironic node UUID.

Because of the machine hostname change, the hash ring contained, for
example: {'MachineHostName', 'machinehostname'} when it should have
contained only one hostname. And because the hash ring contained two
hostnames, the driver was able to retrieve only half of the nodes as
nodes that it owned. So half of the new nodes were excluded and not
added as new compute nodes.

This adds lowercasing of hosts that are added to the hash ring and
ignores case when comparing the CONF.host to the hash ring members
to avoid unnecessary pain and confusion for users that make hostname
changes that are otherwise functionally harmless.

This also adds logging of the set of hash ring members at level DEBUG
to help enable easier debugging of hash ring related situations.

Closes-Bug: #1866380

Change-Id: I617fd59de327de05a198f12b75a381f21945afb0
"
openstack%2Fkolla-ansible~stable%2Ftrain~Id65ada7cd6766d3a907a5a1da54978b56319979c,openstack/kolla-ansible,stable/train,,Id65ada7cd6766d3a907a5a1da54978b56319979c,Ironic: fix documentation,MERGED,2020-02-11 10:04:30.000000000,2020-03-19 08:39:24.000000000,2020-02-13 16:43:19.000000000,17,9,0,707090,e00053fee54251c6c74fce55583d59314e92db2e,9,3,1,1,14826,Mark Goddard,mgoddard,"Ironic: fix documentation

Backport: train

* Ironic dropped CoreOS IPA images in Train - use CentOS DIB images
* Nova flavor requires dropping standard resources
* Link to sections in ironic docs

Partial-Bug: #1862628
Change-Id: Id65ada7cd6766d3a907a5a1da54978b56319979c
(cherry picked from commit a8529db5fc131ffdb961a2bf113f6c7f1c3be978)
"
openstack%2Fswift~master~I8e708a60ee63f679056300fc9d68227e46d605e8,openstack/swift,master,712237,I8e708a60ee63f679056300fc9d68227e46d605e8,encryption: Expose decrypted metadata via CORS,NEW,2020-03-11 06:08:22.000000000,2020-03-19 07:48:26.000000000,,43,7,1,712237,40be62b849771dad371d281a564e4ace2331636f,10,2,4,3,15343,Tim Burke,tburke,"encryption: Expose decrypted metadata via CORS

Normally, the proxy object controller would be adding these, but when
encrypted, there won't be any headers in the x-object-meta-* namespace.

Closes-Bug: #1868045
Change-Id: I8e708a60ee63f679056300fc9d68227e46d605e8
"
openstack%2Fxstatic-bootstrap-scss~master~I38c8d1114fd6e6629b4f3a16a85e3e35d8d8d3d6,openstack/xstatic-bootstrap-scss,master,,I38c8d1114fd6e6629b4f3a16a85e3e35d8d8d3d6,Upgrade to 3.4.1,MERGED,2020-03-02 20:27:00.000000000,2020-03-19 07:35:08.000000000,2020-03-19 07:35:08.000000000,1187,786,0,710865,1ba0b953862e953a8af9fc8a0f1c9ff372b169cf,11,3,3,73,8648,Radomir Dopieralski,thesheep,"Upgrade to 3.4.1

Change-Id: I38c8d1114fd6e6629b4f3a16a85e3e35d8d8d3d6
"
openstack%2Fkolla~master~Ia97d09f335d495b791c71c66843d085d00a4fab2,openstack/kolla,master,,Ia97d09f335d495b791c71c66843d085d00a4fab2,[Do Not Merge] test arm64 CI,ABANDONED,2020-02-18 04:17:41.000000000,2020-03-19 07:13:05.000000000,,1,1,0,708298,3f1f468cecd3e69ec149a0272a71679850e60ede,6,2,2,1,22076,Kevin Zhao,KevinZhao,"[Do Not Merge] test arm64 CI

Change-Id: Ia97d09f335d495b791c71c66843d085d00a4fab2
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
"
openstack%2Fkolla~master~I83bc7f977a9d74be5734c534361155e853180207,openstack/kolla,master,,I83bc7f977a9d74be5734c534361155e853180207,[Do not Merge] test Arm64 Ci,ABANDONED,2020-02-18 03:18:05.000000000,2020-03-19 07:12:58.000000000,,1,1,0,708295,8f879e67e3f559c2883ca38301ce329d21d374b9,9,3,1,1,22076,Kevin Zhao,KevinZhao,"[Do not Merge] test Arm64 Ci

Change-Id: I83bc7f977a9d74be5734c534361155e853180207
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
"
openstack%2Fcyborg~master~Iafb23b47bf022f81776af77d205fc788d1b0d6b6,openstack/cyborg,master,gpu-driver-improve,Iafb23b47bf022f81776af77d205fc788d1b0d6b6,Fix GPU's improper cpid_type allowed value and attach_handle_type value,MERGED,2020-02-24 09:43:25.000000000,2020-03-19 06:43:49.000000000,2020-03-19 06:42:05.000000000,14,5,13,709433,0303fde937fd09f8e9b7d8114b538a585fc3ba1c,34,9,8,3,24872,YumengBao,Yumeng_Bao,"Fix GPU's improper cpid_type allowed value and attach_handle_type value

``ControlPathID`` table tracks identifiers for a control path interface to devices.
When we were discussing the valid values of cpid_type at 2020-02-27 Cyborg
weekly meeting[0], an agreement was made that allowed cpid_type values are
""PCI"". And for GPUs (either pGPU or vGPU), they all report
""PCI"" as their cpid_type, while ``attach_handle_type`` of them are different.

This patch fixes the improper cpid_type allowed value and attach_handle_type
value. No unit test is affected.
vGPU report will be implemented in future release.

[0]http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-02-27-03.00.log.html

Closes task: 38954

Change-Id: Iafb23b47bf022f81776af77d205fc788d1b0d6b6
"
openstack%2Ftempest~master~I96a457fd562d23438aaca86d263f9e7908abc551,openstack/tempest,master,fix13,I96a457fd562d23438aaca86d263f9e7908abc551,Add image task api,ABANDONED,2020-03-19 06:31:37.000000000,2020-03-19 06:36:27.000000000,,245,9,0,713787,4960c8fc72ad5fc17f3298ca18942ffcfe3b86bc,2,0,1,4,30643,wanglbj,wanglbj,"Add image task api

Add image task api and unittest to image part.

Change-Id: I96a457fd562d23438aaca86d263f9e7908abc551
"
openstack%2Fproject-config~master~I463bf4a31ca7a74a6e7ce804d66d4b38fcd0ae76,openstack/project-config,master,,I463bf4a31ca7a74a6e7ce804d66d4b38fcd0ae76,Add publish-to-pypi template for ovn-octavia-provider,MERGED,2020-03-17 13:47:40.000000000,2020-03-19 06:06:37.000000000,2020-03-19 06:06:37.000000000,5,0,0,713446,aa6398b03af1f24a58e1f2038438061ab00daa40,9,5,1,1,24791,Maciej Jozefczyk,maciej.jozefczyk,"Add publish-to-pypi template for ovn-octavia-provider

This deliverable was added under neutron project governance, released
independently.

Change-Id: I463bf4a31ca7a74a6e7ce804d66d4b38fcd0ae76
"
openstack%2Fopenstack-ansible-os_manila~master~Id472ad8ad99a134f6ff3ee350488d98cb72c1f2a,openstack/openstack-ansible-os_manila,master,fix,Id472ad8ad99a134f6ff3ee350488d98cb72c1f2a,"Missing document start ""---""",MERGED,2020-03-13 08:54:02.000000000,2020-03-19 05:50:06.000000000,2020-03-19 05:48:06.000000000,1,0,0,712868,ed0d2ab7bd5ead14813217d57aa52932dbfeb229,18,3,1,1,23317,ShangXiao,ShangXiao,"Missing document start ""---""

Change-Id: Id472ad8ad99a134f6ff3ee350488d98cb72c1f2a
"
openstack%2Fdevstack~master~I4947928fe406a9844d5bdaa3c826d273952fa097,openstack/devstack,master,use-memcached-servers,I4947928fe406a9844d5bdaa3c826d273952fa097,Use MEMCACHE_SERVERS in configure_keystone_authtoken_middleware,MERGED,2020-03-18 19:35:59.000000000,2020-03-19 04:29:15.000000000,2020-03-19 04:27:54.000000000,1,1,2,713723,7db34f6caeec6293a87661202484fcff6dc04325,11,4,1,1,1004,Mohammed Naser,mnaser,"Use MEMCACHE_SERVERS in configure_keystone_authtoken_middleware

The function was using a hard coded value of localhost:11211 when
we have an option MEMCACHE_SERVERS that can be defined and used
inside DevStack.

Change-Id: I4947928fe406a9844d5bdaa3c826d273952fa097
"
openstack%2Ftempest~master~Ie55ef879b1d6c971b202553b3906d02c29b981d6,openstack/tempest,master,,Ie55ef879b1d6c971b202553b3906d02c29b981d6,Update README for run-tempest role,MERGED,2020-02-05 14:59:46.000000000,2020-03-19 03:12:49.000000000,2020-03-19 03:11:22.000000000,4,11,7,705976,4af65407b17bb29c7e2cc376697ee1ef5d1cb6ce,14,7,2,1,22873,Martin Kopec,mkopec,"Update README for run-tempest role

Updates README in order to clear confusion about defining
multi-line regexes.

Closes-Bug: 1827234
Change-Id: Ie55ef879b1d6c971b202553b3906d02c29b981d6
"
openstack%2Ftripleo-quickstart~master~I610f6687655cc4ce317a1087be7b05b040c47ce5,openstack/tripleo-quickstart,master,fix_cirros,I610f6687655cc4ce317a1087be7b05b040c47ce5,Use vexxhost cirros image for standalone tempest,MERGED,2020-03-18 12:38:18.000000000,2020-03-19 02:51:40.000000000,2020-03-19 02:50:02.000000000,1,0,0,713642,79a980215ee4d718f48e7286adfef1dc57de77a9,17,6,1,1,12393,chandan kumar,chkumar246,"Use vexxhost cirros image for standalone tempest

Upstream Cirros website has issues so let's use the vexxhost
image.

Change-Id: I610f6687655cc4ce317a1087be7b05b040c47ce5
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fironic-python-agent-builder~master~I92e30ee4018e5412e23caaa786d508674fd99b4f,openstack/ironic-python-agent-builder,master,always-use-py3,I92e30ee4018e5412e23caaa786d508674fd99b4f,Use python3 binary for all operations,MERGED,2020-03-17 16:11:37.000000000,2020-03-19 02:44:18.000000000,2020-03-19 02:42:53.000000000,11,5,0,713477,394aec4f794f0258170a1631df600d22221c2bf5,15,5,2,1,23851,Riccardo Pittau,elfosardo,"Use python3 binary for all operations

When USE_PYTHON3 is True we should use the python3 binary for all
the image building process.

Change-Id: I92e30ee4018e5412e23caaa786d508674fd99b4f
"
openstack%2Ftripleo-common~stable%2Ftrain~I6de47600f430d3af5e3052ff456cd718a0df0d76,openstack/tripleo-common,stable/train,,I6de47600f430d3af5e3052ff456cd718a0df0d76,Re-raise same exception type in export_stream,MERGED,2020-03-18 19:34:34.000000000,2020-03-19 01:57:16.000000000,2020-03-19 01:55:46.000000000,30,4,0,713722,235ab53d4c7aa8c68802217c781985e343e9fe23,9,5,1,2,14985,Alex Schultz,mwhahaha,"Re-raise same exception type in export_stream

tripleo-container-image-prepare can consume a lot of memory during
the export. Previously, when a MemoryError was raised by python, the
exception was hidden because there was no message in the exception and
the code re-raised an IOError.

This patch updates the code so that a MemoryError is specifically caught
if one was thrown, and an accurate message is logged.

Change-Id: I6de47600f430d3af5e3052ff456cd718a0df0d76
(cherry picked from commit 9d7a9b83ed8d20c8baa9a6b49812f4f30faf7782)
"
openstack%2Fmanila~master~I0844cdb48b9d415bd341c4687620412178be871b,openstack/manila,master,install-manila-tempest-plugin-system-wide,I0844cdb48b9d415bd341c4687620412178be871b,Fetch and install manila-tempest-plugin system-wide,MERGED,2018-01-30 11:17:52.000000000,2020-03-19 01:17:11.000000000,2018-03-22 15:21:23.000000000,17,9,2,539186,72f79e5c57b2d12c1a1322ac85544b5baa3c21e7,153,23,12,3,27697,Rishabh Dave,rishabh-d-dave,"Fetch and install manila-tempest-plugin system-wide

And don't enlist manila-tempest-plugin for installation in venv-tempest.

Change-Id: I0844cdb48b9d415bd341c4687620412178be871b
Signed-off-by: Rishabh Dave <ridave@redhat.com>
"
openstack%2Fdevstack-plugin-ceph~master~I8abe6ba29766ecaa7faade06a1b23520733139a2,openstack/devstack-plugin-ceph,master,install-manila-tempest-plugin-system-wide,I8abe6ba29766ecaa7faade06a1b23520733139a2,To run manila tempest tests invoke tempest installed system-wide,MERGED,2018-02-02 14:10:58.000000000,2020-03-19 01:15:13.000000000,2018-03-22 16:20:26.000000000,1,1,1,540394,430fff8313a364f951423768d9ee8fdba4e79a27,12,5,1,1,27697,Rishabh Dave,rishabh-d-dave,"To run manila tempest tests invoke tempest installed system-wide

Since manila-tempest-tests is now installed system-wide and not in a
virtual environment, use tempest installed system-wide to run them.

Depends-On: I0844cdb48b9d415bd341c4687620412178be871b
Change-Id: I8abe6ba29766ecaa7faade06a1b23520733139a2
Signed-off-by: Rishabh Dave <ridave@redhat.com>
"
openstack%2Fnova~master~Ic1c9cf16c482939d0761d0cdab66c8eac07cad7b,openstack/nova,master,bp/use-pcpu-and-vcpu-in-one-instance,Ic1c9cf16c482939d0761d0cdab66c8eac07cad7b,Refine and introduce correct parameters for test_get_guest_config_numa_host_instance_topo_cpu_pinning,MERGED,2020-03-17 00:55:27.000000000,2020-03-19 01:07:49.000000000,2020-03-19 01:05:17.000000000,2,2,0,713351,1c0479db0963dc64f60a4c81f69fa02e160686fe,14,10,1,1,30209,Huaqiang,Huaqiang.Wang,"Refine and introduce correct parameters for test_get_guest_config_numa_host_instance_topo_cpu_pinning

'sockets_per_cell', 'cores_per_socket' and 'threads_per_core'
are not the initializeing arguments of 'NUMATopology' object.

In test test_get_guest_config_numa_host_instance_topo_cpu_pinning
the code path does not care about the correctness of a host
numa toplogy due to being an instance with 'DEDICATED' cpu
policy, but We'd better refine it and create a correct numa
topology to avoid misunderstanding of code.

Change-Id: Ic1c9cf16c482939d0761d0cdab66c8eac07cad7b
"
openstack%2Ftripleo-quickstart-extras~master~I63ee7b78ce3ffee354aaceab9517c7248d74509d,openstack/tripleo-quickstart-extras,master,glance-less,I63ee7b78ce3ffee354aaceab9517c7248d74509d,Do a local image copy if there is no glance,MERGED,2020-03-04 22:45:53.000000000,2020-03-19 01:07:17.000000000,2020-03-19 01:07:17.000000000,10,1,1,711354,eaaca332f1b92a16ef1dff7577f1a8bea0ac4c72,27,8,3,1,4571,Steve Baker,steve-stevebaker,"Do a local image copy if there is no glance

undercloud_enable_nova=False also switches off glance, and there is
now an upload --local option which copies to /var/lib/ironic/images
instead of transferring to glance.

This change will do the appropriate image upload operation based on
whether glance is installed on the undercloud.

Change-Id: I63ee7b78ce3ffee354aaceab9517c7248d74509d
"
openstack%2Frpm-packaging~master~Ie9205724a44f94a44de10477af120440e5efbffa,openstack/rpm-packaging,master,oslo.cache,Ie9205724a44f94a44de10477af120440e5efbffa,update constraint for oslo.cache to new release 2.1.0,ABANDONED,2020-03-11 01:50:37.000000000,2020-03-19 00:56:51.000000000,,3,3,6,712215,932a4c159706aa1f8ef173cc81a2816c6094c7f1,37,8,5,1,26571,Chang Liu,sobjustin,"update constraint for oslo.cache to new release 2.1.0

Depends-on:I0b0191e57d9dd4fe144128e1c683d307098fe144
Change-Id: Ie9205724a44f94a44de10477af120440e5efbffa
"
openstack%2Ftripleo-quickstart~master~Ic53be3203a1d4d75df3e26e70629ab6344b45280,openstack/tripleo-quickstart,master,reproducer-centos-8,Ic53be3203a1d4d75df3e26e70629ab6344b45280,Handle pip being installed as /usr/bin/pip3,MERGED,2020-02-10 21:25:09.000000000,2020-03-19 00:41:37.000000000,2020-03-19 00:40:12.000000000,4,10,10,706979,5d3a8c334c8f919d835bab420c10d0216e48c64f,47,10,4,1,4571,Steve Baker,steve-stevebaker,"Handle pip being installed as /usr/bin/pip3

This change also stops setting USER_PYTHON_OVERRIDE=python2 when
install-deps.sh is used as an interactive script, because centos-8
should be the default, and also because the python version detection
works fine and shouldn't need a manual override.

Change-Id: Ic53be3203a1d4d75df3e26e70629ab6344b45280
"
openstack%2Fopenstack-helm~master~I9723e52fc87291f5e90df29a154c04180cbfe955,openstack/openstack-helm,master,,I9723e52fc87291f5e90df29a154c04180cbfe955,Update neutron ovs-agent init,MERGED,2020-02-21 16:37:10.000000000,2020-03-19 00:39:31.000000000,2020-03-19 00:37:39.000000000,8,0,4,709185,6142f32c0293a47b96128e30b48cece6cd603753,31,17,9,1,18250,Roy Tang,rt7380,"Update neutron ovs-agent init

There is a bug with the Intel i40e driver version 2.11.21 or earlier
where the interface VF spoof check must be toggle on and off after bond
is created (TODO: insert release note or bug here)

Change-Id: I9723e52fc87291f5e90df29a154c04180cbfe955
"
openstack%2Fpuppet-swift~master~Ib6105f3a06fe2e42864039356bf58dbe83749897,openstack/puppet-swift,master,max_upload_part_num,Ib6105f3a06fe2e42864039356bf58dbe83749897,Add max_upload_part_num param,MERGED,2020-03-12 10:10:12.000000000,2020-03-19 00:16:58.000000000,2020-03-19 00:16:57.000000000,8,1,2,712635,294972d8fca90fe851cf68992fcd4c1457fd8886,14,6,3,2,6476,Thomas Goirand,thomas-goirand,"Add max_upload_part_num param

The default in swift is 1000, though in S3, it is 10 000. Therefore,
it is necessary to be able to configure it, so that a deployment
can be set with the same limits as S3.

Change-Id: Ib6105f3a06fe2e42864039356bf58dbe83749897
"
openstack%2Fmanila~master~I7ca3d1057cc8d678fedb7e13b512615f4c9e898d,openstack/manila,master,bug/1867030,I7ca3d1057cc8d678fedb7e13b512615f4c9e898d,[DNM] Handle force delete when share service is unresponsive,NEW,2020-03-18 22:00:27.000000000,2020-03-19 00:13:13.000000000,,102,18,0,713745,55ae3e24d487adb6f934ae6bd1a315e9a603c8b9,7,6,1,3,16643,Goutham Pacha Ravi,gouthamr,"[DNM] Handle force delete when share service is unresponsive

This patch is meant to incite a discussion on how to handle
service downtimes and administrator initiated cleanup.

If we go down this route, we'll need to do the same with
other resources such as force deleting snapshots, replicas
and unmanaging shares, snapshots and share servers.

Related-Bug: #1867030

Change-Id: I7ca3d1057cc8d678fedb7e13b512615f4c9e898d
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Felection~master~I0161bafae28708d5a7c5dcaf08f9d4ac45a8c26c,openstack/election,master,setup_v_election,I0161bafae28708d5a7c5dcaf08f9d4ac45a8c26c,Setup Victoria Elections Directories,MERGED,2020-03-18 23:33:54.000000000,2020-03-18 23:56:25.000000000,2020-03-18 23:54:59.000000000,0,0,0,713758,c55a0d44995469844b6ea41bfe84fe05fdfabad4,7,2,1,61,16708,Kendall Nelson,kjnelson,"Setup Victoria Elections Directories

Change-Id: I0161bafae28708d5a7c5dcaf08f9d4ac45a8c26c
"
openstack%2Fneutron-tempest-plugin~master~I0742214a5ee5a901650a0142fa3718699bb13b73,openstack/neutron-tempest-plugin,master,fix_security_groups_quota_test,I0742214a5ee5a901650a0142fa3718699bb13b73,Fixed test_sg_quota_increased test,MERGED,2020-03-15 10:42:52.000000000,2020-03-18 23:55:30.000000000,2020-03-18 23:55:30.000000000,9,11,29,713130,4e932abbb42dc7abc0e1994104630fc16c3d00e3,45,7,11,1,19118,Eran Kuris,ekuris,"Fixed test_sg_quota_increased test

The old assertion will be always true.
As a result I proposing a fix for that.

Change-Id: I0742214a5ee5a901650a0142fa3718699bb13b73
"
openstack%2Fdevstack~master~Idac09e8259d58ed130b79b40528f733708000da7,openstack/devstack,master,bring-back-ld-guide,Idac09e8259d58ed130b79b40528f733708000da7,Bring back load balance v2 guide,MERGED,2020-03-18 12:27:02.000000000,2020-03-18 23:48:43.000000000,2020-03-18 19:03:32.000000000,5,0,0,713638,90f0baf3cb84118e51bc5990ba6885f07b679090,9,3,1,1,29071,norman shen,ushen,"Bring back load balance v2 guide

Previous commit forgets to add an entry for load
balancer version 2. This ps brings them back.

Change-Id: Idac09e8259d58ed130b79b40528f733708000da7
"
openstack%2Frequirements~master~I1d079e13171024ca4850104ca35a053cfdda3c15,openstack/requirements,master,,I1d079e13171024ca4850104ca35a053cfdda3c15,Add xstatic projects,MERGED,2020-03-12 17:25:32.000000000,2020-03-18 23:42:35.000000000,2020-03-18 23:41:18.000000000,12,0,0,712744,733a644d7266af28b669d71542e3ce96dd5541e6,15,5,3,2,27339,Michal Arbet,michalarbet,"Add xstatic projects

New xstatic projects are added and released on pypi site.
Add them to global requirements for referencing by other projects.

* Is the library actively maintained?

Yes. Maintained as xstatic projects.

* Is the library good code?

Yes. Published javascript code are adopted.

* Is the library python 3 compatible?

Yes.

* Is the library license compatible?

Yes. All provided with MIT License.

* Is the library already packaged in the distros we target
(Ubuntu latest / Fedora latest)?

Yes. Released on pypi site and can be simply installed with pip.

* Is the function of this library already covered
by other libraries in global-requirements.txt?

No. New functions are provided.

* Is the library required for OpenStack project
or related dev or infrastructure setup?

Yes. openstack/vitrage-dashboard
Review: https://review.opendev.org/#/c/709208/

* If the library release is managed by the Openstack release process
 does it use the cycle-with-intermediary release type?

No. Managed by openstack/release as xstatic type.

* Do I need to update anything else?

I am not sure but think the answer is NO.

Change-Id: I1d079e13171024ca4850104ca35a053cfdda3c15
"
openstack%2Frequirements~master~If65e7aff4a90e2c8ebd46cc43a21b2860a35b909,openstack/requirements,master,bp/tosca-csar-mgmt-driver,If65e7aff4a90e2c8ebd46cc43a21b2860a35b909,Added sqlalchemy-filters requirement,MERGED,2020-02-29 11:38:46.000000000,2020-03-18 23:35:42.000000000,2020-03-18 23:34:23.000000000,2,0,0,710555,72d075a74ce3c6230c7d4774a49ae94e18a07a90,20,6,4,2,31580,Sameer Thakur,sameer.thakur,"Added sqlalchemy-filters requirement

https://pypi.org/project/sqlalchemy-filters/
Useful for Filter, sort and paginate SQLAlchemy query objects.

1. Is the library actively maintained?
   Yes. The library had 2 releases in 2019.
   Since there was a concern whether it is being actively maintained,
   we contacted with the maintainer to ask the status. Below link to
   the issue confirms that project is actively maintained, pending
   PRs will be handled soon.
   https://github.com/juliotrigo/sqlalchemy-filters/issues/42

2. Is the library good code?
   Yes. It also has tox targets for testing.

3. Is the library python 3 compatible?
   Yes.

4. Is the library license compatible?
   Yes. Apache-2.0

5. Is the library already packaged in the distros we
   target (Ubuntu latest / Fedora latest)?
   No.

6. Is the function of this library already covered by other
   libraries in global-requirements.txt?
   No.

7. Is the library required for OpenStack project or related dev
   or infrastructure setup?

   This library is used in Tacker project for the implementation of
   Attribute Filtering of VNF Packages defined in NFV_SOL005 section
   9.4.2.3.2. This module is used to add filter criterion to SQL
   alchemy queries. These criterion were based on attribute values of
   VNFPackages passed in the GET request to list VNFPackages.

8. If the library release is managed by the Openstack release
   process does it use the cycle-with-intermediary release type?
   Not aware of it.

9. Do I need to update anything else?
   No.

Change-Id: If65e7aff4a90e2c8ebd46cc43a21b2860a35b909
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744,openstack/tripleo-heat-templates,stable/train,bug/1860638,I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744,Fix the mounting issues for the TLS everywhere deployment,MERGED,2020-02-02 11:55:26.000000000,2020-03-18 23:33:26.000000000,2020-03-18 23:33:26.000000000,11,47,5,705355,8df8c9e3828f887eab626720dd61fb90496317c8,24,11,5,4,30921,Abdallah Yasin,abdallahyas,"Fix the mounting issues for the TLS everywhere deployment

This patch adds the CRL directory to the haproxy in case of TLS
everywhere deployment, it also removes the duplicated CA file
from the haproxy and rabbitmq containers.

Depends-On: I836ab1a23c8aea35c0cea54d0765c7313a4b9038
Closes-Bug: #1860638
Closes-Bug: #1860641

Change-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744
(cherry picked from commit c155ea701efced6fbd3384989bc2bceb3349fc26)
"
openstack%2Fkolla~stable%2Fstein~I00b8c945470a0f63f23f2d0da74eed3189f5d9e5,openstack/kolla,stable/stein,,I00b8c945470a0f63f23f2d0da74eed3189f5d9e5,mariadb: install mariabackup on Debian,MERGED,2020-03-18 12:54:02.000000000,2020-03-18 23:21:10.000000000,2020-03-18 23:19:54.000000000,1,0,2,713647,1a0886f84fa1fbee91dfeff628f4e2e77c9ef7a7,16,5,1,1,24072,Marcin Juszkiewicz,hrw,"mariadb: install mariabackup on Debian

On AArch64 systems we are unable to deploy Stein due to lack of
mariabackup command.

Change-Id: I00b8c945470a0f63f23f2d0da74eed3189f5d9e5
Closes-bug: #1867750
"
openstack%2Fopenstack-zuul-jobs~master~Ib9e7627ed7cdc24cd2db423aba8db82099788ce4,openstack/openstack-zuul-jobs,master,pyScss2,Ib9e7627ed7cdc24cd2db423aba8db82099788ce4,Fix translation jobs following horizon change,MERGED,2020-03-18 21:43:32.000000000,2020-03-18 23:19:40.000000000,2020-03-18 23:18:09.000000000,1,0,0,713744,96680e8177d2da6f2c54dd7c76102c36f8e0ca64,8,3,1,1,6547,Andreas Jaeger,jaegerandi,"Fix translation jobs following horizon change

Change I38a1c2c3455a10b4852d25f6c39b3c21f5c450fc in horizon broke the
translation jobs for dashboard projects, example failure:
http://zuul.opendev.org/t/openstack/build/a636f60d416948849d5402de9ae83b1a/

Follow horizon bindep change and install libpcre3-dev to fix it.

Change-Id: Ib9e7627ed7cdc24cd2db423aba8db82099788ce4
"
openstack%2Fdiskimage-builder~master~Ie01b795991710c93f6b669c8f14b57eb4412c1d5,openstack/diskimage-builder,master,,Ie01b795991710c93f6b669c8f14b57eb4412c1d5,Add support for build-only packages,MERGED,2020-03-18 19:40:48.000000000,2020-03-18 22:55:09.000000000,2020-03-18 22:53:49.000000000,13,3,0,713726,c11370305021ffcb9eaf907d8374aa6e46df6b0f,12,6,1,2,2,Monty Taylor,mordred,"Add support for build-only packages

Sometimes an element needs packages installed so that it can
perform tasks but those package are not appropriate for the
final image content. Add a ""build-only"" flag to package-install-squash
which will cause package to be installed at the beginning of the
phase and then uninstalled at the end of the phase.

Change-Id: Ie01b795991710c93f6b669c8f14b57eb4412c1d5
"
openstack%2Fopenstack-ansible-ops~master~Id06eb78b52705aefea9cfe1247f53bac58badd52,openstack/openstack-ansible-ops,master,elastic-logstash,Id06eb78b52705aefea9cfe1247f53bac58badd52,Subdivision of elastic-logstash group,MERGED,2020-02-14 14:39:59.000000000,2020-03-18 22:08:27.000000000,2020-03-18 22:06:59.000000000,67,96,4,707849,4851e29e9c1e047dac5d87205dfcabf8099e95ab,79,4,21,25,31004,Duncan Martin Walker,duncan-martin-walker,"Subdivision of elastic-logstash group

It is currently assumed that the elasticsearch data nodes and the
logstash nodes are co-located within the same container during
deployment of the ELK stack. This commit is intended to remove that
assumption by requiring specification of separate elastic and
logstash groups. This is particularly important where instances of
elasticsearch and logstash are separated for resource reasons, a
common setup for an elastic cluster.

The default setup for the elastic nodes has been simplified, with
all non-coordinating nodes being both data and ingest nodes unless
otherwise specified. This was previously defined algorithmically,
with the elastic node setup tightly coupled to the placement of the
logstash instances.

Change-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52
"
openstack%2Fproject-config~master~Ie8935f47db855647e19ae091044e5ac1871f1551,openstack/project-config,master,ansible-lint,Ie8935f47db855647e19ae091044e5ac1871f1551,Update ansible-lint and add fake zuul_return,MERGED,2020-01-15 02:45:38.000000000,2020-03-18 22:06:02.000000000,2020-03-18 22:03:50.000000000,42,23,2,702575,0326363e48df255de7ce3c9b911f41f435d50182,25,7,7,9,7118,Ian Wienand,iwienand,"Update ansible-lint and add fake zuul_return

- Use zuul_return fake module to make ansible lint happy, this allows
  to remove Zuul import.
- While ansible-lint 4.2.0 is now able to detect playbooks/roles, this
  is broken, so don't use it
- move its config out of tox.ini so it can be used by any tools, or
  without tox

Change-Id: Ie8935f47db855647e19ae091044e5ac1871f1551
Co-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>
Co-Authored-By: Andreas Jaeger <aj@suse.com>
"
openstack%2Fswift~master~I45298d690fa0ac6dad5dd792bffd73c09f86ad2f,openstack/swift,master,performance/md5_alternative,I45298d690fa0ac6dad5dd792bffd73c09f86ad2f,WIP: Make the hashing algorithm configurable,NEW,2020-03-13 20:06:34.000000000,2020-03-18 22:03:16.000000000,,478,242,0,713059,0bd43b64e06a90c5ffd1baaa239056963d9cd2ea,5,2,2,22,13852,Romain LE DISEZ,rledisez,"WIP: Make the hashing algorithm configurable

Allow to select something else than MD5 to ensure data integrity on disk
and on wire

TODO:
- fixe tests
- write tests for new middleware
- update crypto middleware

Change-Id: I45298d690fa0ac6dad5dd792bffd73c09f86ad2f
"
openstack%2Ftripleo-ansible~master~I79e33ca2bf5d8ae8f6e1ac39dda7710e4e65fa3a,openstack/tripleo-ansible,master,,I79e33ca2bf5d8ae8f6e1ac39dda7710e4e65fa3a,Make tripleo_ceph_run_ansible voting again,MERGED,2020-03-18 19:40:26.000000000,2020-03-18 21:21:22.000000000,2020-03-18 21:21:21.000000000,1,3,1,713725,c3c19f70ebc5f8ffa891f56fa928497f24051524,9,6,2,1,6796,Giulio Fidente,gfidente,"Make tripleo_ceph_run_ansible voting again

Also extends tripleo_ceph_run_ansible molecule job to run for
changes to any tripleo_ceph_.* role

The issue initially tracked by bug 1867012 should have been fixed
by I9952a4df122c00c0163b7e79dab8a821e3feff06

Change-Id: I79e33ca2bf5d8ae8f6e1ac39dda7710e4e65fa3a
"
openstack%2Ftripleo-ansible~master~I27285accfa6a4dd8259ed7053ad91f59dd19a5bb,openstack/tripleo-ansible,master,mistral_to_ansible,I27285accfa6a4dd8259ed7053ad91f59dd19a5bb,Cleanup old mistral key process,MERGED,2020-03-16 23:31:43.000000000,2020-03-18 21:21:18.000000000,2020-03-18 21:21:18.000000000,30,72,4,713345,2fa1f3aa21327f1be2e62ffa2f6d5fe117c5699a,23,6,3,1,7353,Kevin Carter,cloudnull,"Cleanup old mistral key process

This change removes the old function that retrieved keys from mistral.
The use of mistral for key storage has been removed and this functionality
is no longer required.

Story: 2007435
Task: 39082

Change-Id: I27285accfa6a4dd8259ed7053ad91f59dd19a5bb
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Foslo.context~master~If5ebaa3c1859d32cd05f51defe173fc625b21af5,openstack/oslo.context,master,bug/1866705,If5ebaa3c1859d32cd05f51defe173fc625b21af5,Filter out auth_token_info from logging values,MERGED,2020-03-10 18:04:37.000000000,2020-03-18 21:00:05.000000000,2020-03-17 18:37:01.000000000,17,6,0,712146,1dd72d1d209e699efc360ff99a20166aac831939,13,5,1,2,6928,Ben Nemec,bnemec,"Filter out auth_token_info from logging values

auth_token_info is a common field that subclasses of RequestContext
add. It contains things like the token itself and the entire catalog,
both of which are undesirable to log. The token is a security concern
and the catalog is huge, which bloats the logs an unacceptable amount.

This change removes the auth_token_info key from the logging dict
that we return to the log formatter, which eliminates both problems.

Change-Id: If5ebaa3c1859d32cd05f51defe173fc625b21af5
Closes-Bug: 1866705
"
openstack%2Fproject-config~master~I7fce3a616ce52dce3bd3639bad37124a8bb1909b,openstack/project-config,master,nb04,I7fce3a616ce52dce3bd3639bad37124a8bb1909b,Add config for nb04.opendev.org,MERGED,2020-03-18 06:26:28.000000000,2020-03-18 20:56:52.000000000,2020-03-18 20:56:52.000000000,489,1,0,713575,616d91caa8bb12fd23d7a3cf1497190575c97f10,7,3,1,2,7118,Ian Wienand,iwienand,"Add config for nb04.opendev.org

Add a config for nb04.opendev.org that has *only* the Fedora image
unpaused.  This is to be the new container-based builder, where we
only want it to build/manage this image, for now.

Change-Id: I7fce3a616ce52dce3bd3639bad37124a8bb1909b
Story: #2007407
Task: #39064
"
openstack%2Fcharm-masakari~master~I586e529ee056ccb41d5994cf61b77bb60a241e23,openstack/charm-masakari,master,update-build-requirements,I586e529ee056ccb41d5994cf61b77bb60a241e23,Update charm build requirements,MERGED,2020-03-03 08:56:21.000000000,2020-03-18 20:49:42.000000000,2020-03-18 20:49:42.000000000,2,0,0,710942,d4057aa05a7734f85b766e151ade330a255964d8,26,6,4,1,13686,Frode Nordahl,fnordahl,"Update charm build requirements

Change-Id: I586e529ee056ccb41d5994cf61b77bb60a241e23
"
openstack%2Ftripleo-quickstart-extras~master~I1879f30e020eebf8877f15ce21f68280e56c5107,openstack/tripleo-quickstart-extras,master,drop-etc-hosts,I1879f30e020eebf8877f15ce21f68280e56c5107,"Drop overcloud entries in /etc/hosts, >= train",MERGED,2020-03-18 07:46:33.000000000,2020-03-18 20:47:55.000000000,2020-03-18 20:47:55.000000000,4,0,0,713584,1c77a24b3b9906ef9cce90a12722f70595409bf3,9,5,1,1,24245,Harald Jensås,harald.jensas,"Drop overcloud entries in /etc/hosts, >= train

/etc/hosts on the undercloud is now updated with
entries from the overcloud. No need to duplicate
the entries by adding them again here.

Change-Id: I1879f30e020eebf8877f15ce21f68280e56c5107
"
openstack%2Fcinder~stable%2Frocky~I8ce3c403904ea1c6990f88d52c1c1a068aaed75a,openstack/cinder,stable/rocky,tox-dont-quote-posargs-stable/rocky,I8ce3c403904ea1c6990f88d52c1c1a068aaed75a,Don't quote {posargs} in tox.ini,MERGED,2020-03-17 02:18:19.000000000,2020-03-18 20:47:47.000000000,2020-03-17 20:30:31.000000000,1,1,0,713367,263affd07ff7fe5f3580e93f9867ba63bfb51726,20,13,1,1,29071,norman shen,ushen,"Don't quote {posargs} in tox.ini

Quotes around {posargs} cause the entire string to be combined into one
arg that gets passed to stestr. This prevents passing multiple args
(e.g. '--concurrency=16 some-regex')

Change-Id: I8ce3c403904ea1c6990f88d52c1c1a068aaed75a
(cherry picked from commit 8ca71f5b5b7f6c78a1f522623df47634842d255e)
"
openstack%2Fdevstack~master~Ifd26152899d68ac8f8f7fc0621b1f2b49416a847,openstack/devstack,master,,Ifd26152899d68ac8f8f7fc0621b1f2b49416a847,Restart only the DB service if the installer runs in localhost,ABANDONED,2020-03-18 17:04:14.000000000,2020-03-18 20:46:06.000000000,,11,2,0,713700,ea6a7ee4f8548959126d4b826221eeef4246cb39,13,4,2,2,20775,Carlos Camacho,ccamacho,"Restart only the DB service if the installer runs in localhost

If the DB location is a remote site restarting the service
from the installer will fail as there is no actual
database server available.

Change-Id: Ifd26152899d68ac8f8f7fc0621b1f2b49416a847
"
openstack%2Fansible-role-atos-hsm~stable%2Ftrain~Ib9989ee72a67f71275e31b966bff7673072fb3f8,openstack/ansible-role-atos-hsm,stable/train,,Ib9989ee72a67f71275e31b966bff7673072fb3f8,Add HA (load balancing) support,MERGED,2020-03-18 20:06:43.000000000,2020-03-18 20:33:43.000000000,2020-03-18 20:33:43.000000000,86,24,0,713732,1269408d688354091eaf3f5e1a05ae72ea79450f,6,2,1,8,7973,Douglas Mendizábal,dougmendizabal,"Add HA (load balancing) support

This patch add support for configuring proteccio to use
more than one HSM.  When more than one HSM is provided
the proteccio client is configured for High Availability (HA).

This patch changes the format of the variables and should
be released as a new major version. (e.g. 1.0.0).

Change-Id: Ib9989ee72a67f71275e31b966bff7673072fb3f8
(cherry picked from commit 5069751256fb218d56ce1f30552de678bd56b48a)
"
openstack%2Fansible-role-atos-hsm~master~Ib9989ee72a67f71275e31b966bff7673072fb3f8,openstack/ansible-role-atos-hsm,master,,Ib9989ee72a67f71275e31b966bff7673072fb3f8,Add HA (load balancing) support,MERGED,2019-12-19 16:20:12.000000000,2020-03-18 20:06:43.000000000,2020-02-04 17:44:19.000000000,86,24,1,700018,5069751256fb218d56ce1f30552de678bd56b48a,23,7,5,8,7973,Douglas Mendizábal,dougmendizabal,"Add HA (load balancing) support

This patch add support for configuring proteccio to use
more than one HSM.  When more than one HSM is provided
the proteccio client is configured for High Availability (HA).

This patch changes the format of the variables and should
be released as a new major version. (e.g. 1.0.0).

Change-Id: Ib9989ee72a67f71275e31b966bff7673072fb3f8
"
openstack%2Fopenstack-helm~master~I8bc8ed16cb7963b4fb27973e7f3d18ab2df061ee,openstack/openstack-helm,master,placement-api-test,I8bc8ed16cb7963b4fb27973e7f3d18ab2df061ee,[WIP] Enable nova placement api pods,ABANDONED,2020-03-18 17:23:17.000000000,2020-03-18 20:03:57.000000000,,3,22,0,713701,009fa067c6e86905895df403034565c6d4162d1d,5,1,3,3,29131,diwakar thyagaraj,dt241s@att.com,"[WIP] Enable nova placement api pods

Change-Id: I8bc8ed16cb7963b4fb27973e7f3d18ab2df061ee
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>"
openstack%2Fcharm-nova-cloud-controller~master~I2ee633ba0b445025a789a77e62950cd572636c6c,openstack/charm-nova-cloud-controller,master,bug/1860743,I2ee633ba0b445025a789a77e62950cd572636c6c,Fix action replay for clear-knownhost-cache,MERGED,2020-02-07 14:57:59.000000000,2020-03-18 20:00:16.000000000,2020-02-24 14:37:57.000000000,4,4,0,706536,67dfc8d882995b11707b42f4758f4d9c303eb7b6,15,4,2,2,20870,Alex Kavanagh,ajkavanagh,"Fix action replay for clear-knownhost-cache

The return key was illegal in Juju, so this patchset makes
it legal.

Change-Id: I2ee633ba0b445025a789a77e62950cd572636c6c
Partial-Bug: #1860743
"
openstack%2Fcharm-hacluster~stable%2F20.02~Id28d4c5c8c711ef53e9ec0422d80d23a6a844291,openstack/charm-hacluster,stable/20.02,bug/1856148,Id28d4c5c8c711ef53e9ec0422d80d23a6a844291,Add support for maas_source_key for offline deployments.,MERGED,2020-03-12 15:21:08.000000000,2020-03-18 19:09:55.000000000,2020-03-18 19:09:55.000000000,12,3,0,712709,b3f65b9f4eb64aff18a409ea4efba7d60ca7e09f,15,5,2,3,25817,José Pekkarinen,pekkari,"Add support for maas_source_key for offline deployments.

Closes-Bug: #1856148
Change-Id: Id28d4c5c8c711ef53e9ec0422d80d23a6a844291
Signed-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>
(cherry picked from commit c99eed495c25846243e379d92fd1b987495b9f60)
"
openstack%2Frpm-packaging~stable%2Ftrain~Iebda3ac509828dfe6d8eed7b0b40e62da9fa8f12,openstack/rpm-packaging,stable/train,remove-python2-stable/train,Iebda3ac509828dfe6d8eed7b0b40e62da9fa8f12,monasca-ceilometer: fix shebang,MERGED,2020-03-18 12:31:30.000000000,2020-03-18 19:09:12.000000000,2020-03-18 19:09:12.000000000,3,0,0,713639,88fb3991d7e9fe92dd424ed2a8fa97fc053ed972,11,6,1,1,13294,Javier Peña,jpena,"monasca-ceilometer: fix shebang

One of the shebangs (for tools/send_test_data.py) was using an
unversioned python version, and this breaks the build in CentOS 8.

Change-Id: Iebda3ac509828dfe6d8eed7b0b40e62da9fa8f12
"
openstack%2Frpm-packaging~master~I1108461d7f2806b5c4c4d759e4e6b6afe43d2587,openstack/rpm-packaging,master,python-troveclient,I1108461d7f2806b5c4c4d759e4e6b6afe43d2587,Update python-troveclient to 3.3.0,MERGED,2020-03-18 08:02:04.000000000,2020-03-18 19:09:11.000000000,2020-03-18 19:09:11.000000000,1,1,0,713587,21a15894b3576823e7ccc54ebccbc4d214cc7b32,13,6,2,1,26584,hou le,houl7,"Update python-troveclient to 3.3.0

refer to Change-Id: Ic5cd98f76a641b44d0ea720dd6459603744f581e

Change-Id: I1108461d7f2806b5c4c4d759e4e6b6afe43d2587
"
openstack%2Fdevstack~master~I494f77555cfe9115356ce0ee75c7d7f192141447,openstack/devstack,master,devstack/glance-multiple-store-support,I494f77555cfe9115356ce0ee75c7d7f192141447,Glance: Add support to configure multiple file stores,MERGED,2019-10-17 09:03:50.000000000,2020-03-18 19:06:20.000000000,2020-03-18 19:03:33.000000000,58,2,25,689104,6f91da9a2d0639daad3a6e1bce328c4c730511f9,51,8,7,1,9303,Abhishek Kekane,abhishekkekane,"Glance: Add support to configure multiple file stores

From Train release Glance has added support [0][1] to configure multiple stores
of same or different types. This patch enables developers to configure
multiple file stores for glance. In order to configure multiple file stores
user need to set below options in local.conf

GLANCE_ENABLE_MULTIPLE_STORES=True/False
To enable multiple stores of glance.

GLANCE_MULTIPLE_FILE_STORES=veryfast,fast,cheap,verycheap,slow,veryslow
Comma separated list of store identifiers.

GLANCE_DEFAULT_BACKEND=fast
Default glance store in which image should be stored if store identifier not
specified explicilty. Should be one of the store identifier from
GLANCE_MULTIPLE_FILE_STORES config option.

NOTE: This support is added so that we can start adding tempest/CI tests for
glance multiple stores.

[0] 515412b59f5b3af07a1787b9f8e85a4d656d3e1c
[1] https://docs.openstack.org/glance/train/admin/multistores.html

Change-Id: I494f77555cfe9115356ce0ee75c7d7f192141447
"
openstack%2Fneutron~master~I56efd1b9f09c0449ce531a185fcf4db353f99fe1,openstack/neutron,master,bug/1866336,I56efd1b9f09c0449ce531a185fcf4db353f99fe1,Clean dvr fip gateway entry when fip agent gw port is deleted,MERGED,2020-03-06 14:00:53.000000000,2020-03-18 19:06:17.000000000,2020-03-18 19:03:29.000000000,46,3,7,711623,2baeae75199405d46927c073daf772b2a4144294,29,7,3,2,11975,Slawek Kaplonski,slaweq,"Clean dvr fip gateway entry when fip agent gw port is deleted

In [1] there was introduced new db table which stored information about
which DVR L3 agent has got already floating ip gateway port. It was to
avoid race conditions and ensure that there is always only one such port
per network and per agent (host).
Unfortunately in [1] there was no added removal of correct record from
this db table so it was causing problems when such port had to be
recreated after it was already on the host and was deleted.

This patch adds removal of such entry from db when needed.

Closes-Bug: #1866336

[1] https://review.opendev.org/#/c/702547/

Change-Id: I56efd1b9f09c0449ce531a185fcf4db353f99fe1
"
openstack%2Fcharm-vault~stable%2F20.02~Ie7daa37aac4a8984b68a93b8c7fee0faefcdd98a,openstack/charm-vault,stable/20.02,bug/1864804,Ie7daa37aac4a8984b68a93b8c7fee0faefcdd98a,Rebuild of dependencies,MERGED,2020-03-12 15:26:09.000000000,2020-03-18 19:06:15.000000000,2020-03-18 19:06:15.000000000,1,1,0,712711,324d5f638110876993d6b584e9b2220558049a10,15,4,2,1,25817,José Pekkarinen,pekkari,"Rebuild of dependencies

Change-Id: Ie7daa37aac4a8984b68a93b8c7fee0faefcdd98a
Closes-bug: #1864804
Signed-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>
(cherry picked from commit 0d4103ea6ca29dd9ed655cb002a60878b4b919a2)
"
openstack%2Fpython-magnumclient~master~If52089e4021b3730ef236fcfab799ec4922e02af,openstack/python-magnumclient,master,,If52089e4021b3730ef236fcfab799ec4922e02af,Switch to Ussuri jobs,ABANDONED,2019-10-22 06:08:21.000000000,2020-03-18 19:02:15.000000000,,1,1,0,689960,87ac428f3ddb31826e8bc3b49b36bede6af71e54,8,4,1,1,23312,kangyufei,kangyufei,"Switch to Ussuri jobs

Change-Id: If52089e4021b3730ef236fcfab799ec4922e02af
"
openstack%2Frpm-packaging~stable%2Fstein~I5f26a58eae5062d7d2df68119305794278cdb4d0,openstack/rpm-packaging,stable/stein,,I5f26a58eae5062d7d2df68119305794278cdb4d0,monasca-agent now requires freezegun,MERGED,2020-03-18 12:11:11.000000000,2020-03-18 18:48:22.000000000,2020-03-18 18:48:21.000000000,1,0,0,713635,fe31a2d850bcb70ebb0119b38950aa334dc06e5d,9,5,1,1,6593,Dirk Mueller,dmllr,"monasca-agent now requires freezegun

It was added by Guang in Id95cc7115823f972e234417223ab5906b57447cc

Change-Id: I5f26a58eae5062d7d2df68119305794278cdb4d0
(cherry picked from commit 1caa489aa71adca111b8ce2330f961b8f4039c16)
"
openstack%2Frpm-packaging~master~If0688ad07bebad4a8f3a73a2c97cc6299857589a,openstack/rpm-packaging,master,update-reqs,If0688ad07bebad4a8f3a73a2c97cc6299857589a,Remove six from requirements,MERGED,2020-03-18 09:38:22.000000000,2020-03-18 18:48:22.000000000,2020-03-18 18:48:22.000000000,0,4,0,713597,5a20302ab68e2bd92094d00dc98efe4a6c6822ba,15,6,2,2,23851,Riccardo Pittau,elfosardo,"Remove six from requirements

The six package is not needed anymore to build/run ironic and
sushy.

Change-Id: If0688ad07bebad4a8f3a73a2c97cc6299857589a
"
openstack%2Frpm-packaging~stable%2Fstein~Ia0cbef97b47d7e7031d7f1b70e0525daaf331373,openstack/rpm-packaging,stable/stein,,Ia0cbef97b47d7e7031d7f1b70e0525daaf331373,cinder: add SQLAlchemy-Utils,MERGED,2020-03-18 12:08:29.000000000,2020-03-18 18:48:21.000000000,2020-03-18 18:48:21.000000000,1,0,0,713634,a57ac2cc8f5ca46f75b1905f6776fd25865dd213,9,5,1,1,6593,Dirk Mueller,dmllr,"cinder: add SQLAlchemy-Utils

This was added as dependency in Ibfa6c4ba2f162681756ec3203991351345b65346

Change-Id: Ia0cbef97b47d7e7031d7f1b70e0525daaf331373
(cherry picked from commit f29fce294ff9ce10b0a59727afdf1485b8a686db)
(cherry picked from commit 6777880db33e09ebcdd8bd9868e589477b9c2a3c)
"
openstack%2Fkayobe~master~I05e9c6223583e9bb5dc0020edc0b56990275093c,openstack/kayobe,master,task/38766,I05e9c6223583e9bb5dc0020edc0b56990275093c,Remove ceph block device support,MERGED,2020-02-23 20:35:14.000000000,2020-03-18 18:37:44.000000000,2020-03-18 18:35:59.000000000,14,775,0,709376,e7d7daa5310657d7ba5fc26db972dcd0040d10cd,25,4,3,48,30491,Radosław Piliszek,yoctozepto,"Remove ceph block device support

It leaves certain ceph mentions in globals.yml.j2 as it needs
syncing with kolla-ansible contents anyways
(these are all comments).

Change-Id: I05e9c6223583e9bb5dc0020edc0b56990275093c
Story: 2007295
Task: 38766
"
openstack%2Fopenstack-helm~master~Ia2bc596baf623ef3f747fbd0534c8e058e1571f8,openstack/openstack-helm,master,netpol,Ia2bc596baf623ef3f747fbd0534c8e058e1571f8,Tools: Update test-networkpolicy.sh,MERGED,2019-10-07 22:07:44.000000000,2020-03-18 18:35:54.000000000,2020-03-18 18:33:37.000000000,22,1,1,687172,c9f506eee1a3e38b589e586b3200942886afdbea,43,11,11,1,18236,Sophie Huang,SophieHuang,"Tools: Update test-networkpolicy.sh

This patch set adds ingress network policy testcases for mariadb
in openstack namespace.

Depends-On: https://review.opendev.org/#/c/687162/
Change-Id: Ia2bc596baf623ef3f747fbd0534c8e058e1571f8
"
openstack%2Ftripleo-ansible~master~I3a4883bc0c8dfa480ce5fd10ec40f3a9f0cff217,openstack/tripleo-ansible,master,,I3a4883bc0c8dfa480ce5fd10ec40f3a9f0cff217,Insert hosts entries to the beginning of the file.,MERGED,2020-02-07 15:52:23.000000000,2020-03-18 18:26:55.000000000,2020-03-18 18:26:55.000000000,2,0,0,706552,76fd2eaacc202ab5681d23596ed0f3d25216bb9f,23,11,1,1,25877,Luke Short,ekultails,"Insert hosts entries to the beginning of the file.

This ensures that the first host entry found for a host
will use what is generated by TripleO (if applicable).

Change-Id: I3a4883bc0c8dfa480ce5fd10ec40f3a9f0cff217
Closes-Bug: #1861035
Signed-off-by: Luke Short <ekultails@gmail.com>
"
openstack%2Fnova~master~I3448b89f58f3c3a85d15ee5a870c24b4b7f201df,openstack/nova,master,bug/1845628,I3448b89f58f3c3a85d15ee5a870c24b4b7f201df,libvirt: Check the guest support UEFI,MERGED,2019-09-30 10:39:24.000000000,2020-03-18 18:07:51.000000000,2020-03-18 18:05:00.000000000,79,11,2,685678,9ae4d9274e3e310fdd04c81e92e9c4803c434fff,56,17,4,3,12860,Dongcan Ye,yedongcan,"libvirt: Check the guest support UEFI

commit 539d381434ccadcdc3f5d58c2705c35558a3a065 add a
NVRAM flag in guest delete_configuration, but check
UEFI support only in host side. If an instance does
not boot from UEFI, but the host enable UEFI software
like OVMF, the NVRAM flag always delete.

This patch also check the guest support UEFI.

Change-Id: I3448b89f58f3c3a85d15ee5a870c24b4b7f201df
Closes-Bug: #1845628
"
openstack%2Freleases~master~Icdc80757b56d8090620b0b800afb201b6ef977fb,openstack/releases,master,vitrage_release,Icdc80757b56d8090620b0b800afb201b6ef977fb,Bump vitrage version to 6.0.1,MERGED,2020-03-18 16:11:18.000000000,2020-03-18 18:07:27.000000000,2020-03-18 18:07:27.000000000,4,0,0,713688,6a21c0b07747f1fd054598b731c8bac3fdecec91,11,3,3,1,19134,Eyal,eyalb,"Bump vitrage version to 6.0.1

2 bugs were fixed

Change-Id: Icdc80757b56d8090620b0b800afb201b6ef977fb
"
openstack%2Fnova~master~Ie7dcd66598485cb99965d8aeaa77542b3b435b6d,openstack/nova,master,db-cleanup,Ie7dcd66598485cb99965d8aeaa77542b3b435b6d,db: Remove unused ec2 DB APIs,MERGED,2019-12-13 11:25:30.000000000,2020-03-18 17:56:12.000000000,2020-03-18 17:53:30.000000000,0,169,0,698880,696583878ee714125b7c52914ed69428b32d93db,27,15,1,3,15334,Stephen Finucane,sfinucan,"db: Remove unused ec2 DB APIs

These were missed in change If85003d8b02aefd81a7fc3f1b376be9d30ace4d2.

Change-Id: Ie7dcd66598485cb99965d8aeaa77542b3b435b6d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fneutron~master~I520a3de105b4c6924908e099a3b8d60c3280f499,openstack/neutron,master,bug/1864641-schema-maint-task,I520a3de105b4c6924908e099a3b8d60c3280f499,[OVN] OVN DB schema update aware maintenance tasks,MERGED,2020-02-25 16:20:12.000000000,2020-03-18 17:56:08.000000000,2020-03-18 17:53:26.000000000,126,1,19,709770,9e416224b04d7d4094e5719afa4ef5bccbe48ce7,62,7,9,3,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] OVN DB schema update aware maintenance tasks

This patch introduces a new mechanism to allow rerunning maintenance
tasks upon an OVN database schema change to avoid a service restart.

As an example, the ""migrate_to_port_groups"" maintenance task will run
again when the database schema is updated. In case of a migration from
an OVN version without port groups support to a version that supports
it, the OVN driver will migrate the code automatically without the need
of a service restart.

Closes-Bug: #1864641
Change-Id: I520a3de105b4c6924908e099a3b8d60c3280f499
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fironic~stable%2Fstein~Id9763481961f20f11f129398ed9813e9ccc0f33e,openstack/ironic,stable/stein,revamp-grenade,Id9763481961f20f11f129398ed9813e9ccc0f33e,Revamp grenade jobs,MERGED,2020-03-16 08:52:50.000000000,2020-03-18 17:51:51.000000000,2020-03-18 17:48:03.000000000,4,0,0,713176,cf83c844b2066b3a0f61d903720f66a9bc5d8f3f,24,7,1,1,23851,Riccardo Pittau,elfosardo,"Revamp grenade jobs

Grenade job has been fixed for stein in [1] so adding the related
jobs back again.

[1] https://review.opendev.org/#/c/713014/

Change-Id: Id9763481961f20f11f129398ed9813e9ccc0f33e
"
openstack%2Ftripleo-ansible~master~Ia41105d58f0e85117e548cbdc48a69b84b149841,openstack/tripleo-ansible,master,keystone-username,Ia41105d58f0e85117e548cbdc48a69b84b149841,Allow overriding keystone username by parameter,MERGED,2020-03-10 22:21:55.000000000,2020-03-18 17:51:42.000000000,2020-03-18 17:51:42.000000000,1,1,0,712191,6d6fbb3b6aed1e1835a8c13fccfc94d24568b3ef,15,5,4,1,9816,Takashi Kajinami,kajinamit,"Allow overriding keystone username by parameter

This patch introduced ""name"" parameter into tripleo_keystone_resources,
so that we can override user name by a given parameter.

Change-Id: Ia41105d58f0e85117e548cbdc48a69b84b149841
"
openstack%2Fopenstacksdk~master~I2de2047ef9025ac0bd191a973f2744b01b904ca7,openstack/openstacksdk,master,swift_gen_temp_url,I2de2047ef9025ac0bd191a973f2744b01b904ca7,Import generate_temp_url from swiftclient,MERGED,2020-03-06 15:16:57.000000000,2020-03-18 17:44:24.000000000,2020-03-18 17:42:33.000000000,419,0,0,711640,40802262981075b8a36b23c377eee01fee0c5f95,32,4,6,2,23851,Riccardo Pittau,elfosardo,"Import generate_temp_url from swiftclient

The generate_temp_url function is used by other projects, for
example ironic, to get temporary urls that grant
unauthenticated access to the Swift object.
This patch simply takes the code from swiftclient, adapts
it for openstacksdk, and add it to the _proxy module in the
object_store section, to grant the use of the function directly
in openstacksdk.

Change-Id: I2de2047ef9025ac0bd191a973f2744b01b904ca7
"
openstack%2Fopenstack-ansible~master~I3e95b7fad6eda9f689287efe16c35418a9e7e561,openstack/openstack-ansible,master,,I3e95b7fad6eda9f689287efe16c35418a9e7e561,ceph: run handlers after common,MERGED,2020-03-08 11:05:58.000000000,2020-03-18 17:39:22.000000000,2020-03-18 17:37:00.000000000,10,10,0,711845,e42b2898c6a7d8bf503a96853a737b8fa4f112d7,14,4,2,3,25600,Ebbex,ebbex,"ceph: run handlers after common

When you're running ceph-install with upgrade_ceph_packages, the
packages get upgraded in the ceph-common, but some services aren't
getting restarted to account for the new version.

According to ceph-ansible/site.yml.sample, the order is ceph-common
applied to all hosts, then later in the ""hosts: mons"" or ""hosts: osd""
the handlers get applied, after ceph-facts and before ceph-config.

Change-Id: I3e95b7fad6eda9f689287efe16c35418a9e7e561
"
openstack%2Fdevstack-gate~master~I7a08bb7c79feea6158a9928e0c70b7145b42b6e3,openstack/devstack-gate,master,mysql-stats,I7a08bb7c79feea6158a9928e0c70b7145b42b6e3,WIP Add mysqladmin -v extended-status processlist,ABANDONED,2017-09-26 16:43:51.000000000,2020-03-18 17:15:35.000000000,,2,0,0,507626,dd075903d3b1ea9d4ae4b72048e31998a77100a9,8,3,3,1,4690,melanie witt,melwitt,"WIP Add mysqladmin -v extended-status processlist

Change-Id: I7a08bb7c79feea6158a9928e0c70b7145b42b6e3
"
openstack%2Fironic~master~I10933b8dbadbba87ef6bfa0af767cf1184c072d9,openstack/ironic,master,wrap-ipv6,I10933b8dbadbba87ef6bfa0af767cf1184c072d9,Refactoring: split out wrap_ipv6,MERGED,2020-03-17 14:32:33.000000000,2020-03-18 17:09:20.000000000,2020-03-18 17:07:08.000000000,19,23,0,713457,8dc2eebef6eead35a3e0613312769365402fc468,18,6,2,4,10239,Dmitry Tantsur,dtantsur,"Refactoring: split out wrap_ipv6

While trivial, it's used in several places and will likely be used
more as we work on IPv6 support.

Change-Id: I10933b8dbadbba87ef6bfa0af767cf1184c072d9
"
openstack%2Fkolla~stable%2Ftrain~I4e003c9aa32579d467c489a53741e20ced2f4b52,openstack/kolla,stable/train,bug/1867888-stable/train,I4e003c9aa32579d467c489a53741e20ced2f4b52,Fix Horizon build after switch to pyscss2 which lacks binary wheel,MERGED,2020-03-18 12:39:46.000000000,2020-03-18 17:08:10.000000000,2020-03-18 17:05:15.000000000,2,0,0,713644,f7857f26af25543ee8d2e154d45dc159ee8d382e,9,4,1,1,24072,Marcin Juszkiewicz,hrw,"Fix Horizon build after switch to pyscss2 which lacks binary wheel

It now requires pcre-dev package to finish building.

Change-Id: I4e003c9aa32579d467c489a53741e20ced2f4b52
Closes-bug: #1867888
"
openstack%2Ftripleo-common~stable%2Fqueens~I1555a9b79c954e646fe9ae35272231c581cea03e,openstack/tripleo-common,stable/queens,rhbz/1813758,I1555a9b79c954e646fe9ae35272231c581cea03e,Silent file descriptor checks,MERGED,2020-03-18 06:56:22.000000000,2020-03-18 16:47:37.000000000,2020-03-18 16:47:37.000000000,4,14,0,713579,16776e3979b8206009844e0d63ab3bb38a632d74,7,5,1,1,28223,Cedric Jeanneret,cjeanner,"Silent file descriptor checks

In order to avoid spam in journald, we just get the exit code and let
the checker output the error message.

Also, correct how we retrieve process in the healthcheck_port and _listen
functions.
""ss"" doesn't allow to match some processes, like ""neutron-l3-agent"". We
therefore use the PID instead, provided by ""pgrep"".
The ""-d"" option of pgrep allow to prepare its output for the ""grep -E"",
preventing any need of a loop.

Change-Id: I1555a9b79c954e646fe9ae35272231c581cea03e
Closes-Bug: #1821782
Closes-Bug: #1821856
(cherry picked from commit 5312bf19c8f820ac65514885aebdc2dc4776d72d)
(cherry picked from commit 89d2393ea9fa977946ba34b6b9b3b279f830b64c)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I530bab1ec1842b856c5228e071f7bcaaee9080da,openstack/tripleo-heat-templates,stable/train,scale-2020-stable/train,I530bab1ec1842b856c5228e071f7bcaaee9080da,Remove unneccessary indentation from common tasks,MERGED,2020-03-11 11:48:27.000000000,2020-03-18 16:47:35.000000000,2020-03-18 16:47:35.000000000,226,229,0,712346,99f24b64b76747a5efb19723e297908f06047903,31,10,4,1,6816,Jesse Pretorius,jesse-pretorius,"Remove unneccessary indentation from common tasks

In this patch we remove the indentation header note and the
indentation itself from common/deploy-steps-tasks which was
added in Idd5bb47589e5c37123caafcded1afbff8881aa33 and no
longer applies.

Backport note:
This has been squashed with https://review.opendev.org/712345

Change-Id: I530bab1ec1842b856c5228e071f7bcaaee9080da
(cherry picked from commit c80fc5cf3995465b6b69ba1f0e23b36a4e0b75b6)
"
openstack%2Fcharm-keystone~master~I23940720c24527ee34149f035c3bdf9ff54812c9,openstack/charm-keystone,master,use-bootstrap,I23940720c24527ee34149f035c3bdf9ff54812c9,Replace use of admin_token with Keystone bootstrap,MERGED,2020-03-10 10:50:51.000000000,2020-03-18 16:43:44.000000000,2020-03-18 16:43:44.000000000,391,759,4,712040,0a02c30fe5f4650235519897b71588ae22fa0971,25,5,4,21,13686,Frode Nordahl,fnordahl,"Replace use of admin_token with Keystone bootstrap

Stop the use of the admin_token and use the bootstrap process
to initialize Keystone instead.  Fortunately the implementation
of the bootstrap process is both idempotent when it needs to be
and it can be safely called on an existing deployment.

Subsequently we can migrate by just removing the admin_token
from the configuration and create new credentials for use by
the charm with a call to ``keystone-manage bootstrap``.

Remove configuration templates for versions prior to Mitaka, by
doing this we need to move any configuration initially defined
prior to Miataka forward to the ``templates/mitaka`` folder.

A side effect of this migration is that newly bootstrapped
deployments will get their ``default`` domain created with a
literal ID of ``default``.  Prior to this change third party
software making assumptions about that being the case may have
had issues.

Closes-Bug: #1859844
Closes-Bug: #1837113
Related-Bug: #1774733
Closes-Bug: #1648719
Closes-Bug: #1578678
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/191
Change-Id: I23940720c24527ee34149f035c3bdf9ff54812c9
"
openstack%2Foctavia~stable%2Fstein~Ia8ec209e2773483360e2490545b55d7ad5c3cbd1,openstack/octavia,stable/stein,story-2007371-stein,Ia8ec209e2773483360e2490545b55d7ad5c3cbd1,"Revert ""Improve the error message for bad pkcs12 bundles""",ABANDONED,2020-03-06 18:49:08.000000000,2020-03-18 16:27:20.000000000,,1,33,0,711737,fc6ca29a68082327178c9393e57d0d7bbafcdb3c,6,5,1,5,2276,Jorge Niedbalski,niedbalski,"Revert ""Improve the error message for bad pkcs12 bundles""

This reverts commit a501714a76e04b33dfb24c4ead9956ed4696d1df.

On stein , with the addition of this change
https://opendev.org/openstack/octavia/commit/a501714a76e04b33dfb24c4ead9956ed4696d1df
(and posterior backport to stable releases) isn't longer possible to create listeners that
use barbican secret containers except for single secrets exported as pkcs12 directly.

Before that change, any exception raised when trying to to decode the
PKCS12 bundle would have resulted on falling back to the legacy
barbican certificate manager code, which supports secret containers [2],
while with the addition of this line, makes this exception to raise and not falling back
to the legacy code anymore.

Please check the related story.

Change-Id: Ia8ec209e2773483360e2490545b55d7ad5c3cbd1
Story: 2007371
"
openstack%2Foctavia~stable%2Frocky~Ia8ec209e2773483360e2490545b55d7ad5c3cbd1,openstack/octavia,stable/rocky,story-2007371-rocky,Ia8ec209e2773483360e2490545b55d7ad5c3cbd1,"Revert ""Improve the error message for bad pkcs12 bundles""",ABANDONED,2020-03-06 18:53:06.000000000,2020-03-18 16:27:13.000000000,,1,34,0,711739,9cceb1da9f2a7ebb901ab77ed0a3d32c8eb2c1b0,6,4,1,5,2276,Jorge Niedbalski,niedbalski,"Revert ""Improve the error message for bad pkcs12 bundles""

This reverts commit 08916abd2b6c24dc207dfe3560138901661c2922.

On stable releases with the addition of this change
https://opendev.org/openstack/octavia/commit/a501714a76e04b33dfb24c4ead9956ed4696d1df
(and posterior backport to stable releases) isn't longer possible to create listeners that
use barbican secret containers except for single secrets exported as pkcs12 directly.

Before that change, any exception raised when trying to to decode the
PKCS12 bundle would have resulted on falling back to the legacy
barbican certificate manager code, which supports secret containers [2],
while with the addition of this line, makes this exception to raise and not falling back
to the legacy code anymore.

Please check the related story.

Change-Id: Ia8ec209e2773483360e2490545b55d7ad5c3cbd1
Story: 2007371
"
openstack%2Ftripleo-ansible~master~I7592707c2a17654e521f6f136eabcb76c8152fba,openstack/tripleo-ansible,master,idemp,I7592707c2a17654e521f6f136eabcb76c8152fba,Improve idempotency for images in podman container,MERGED,2020-03-17 16:19:11.000000000,2020-03-18 16:21:39.000000000,2020-03-18 16:21:39.000000000,14,10,1,713479,466539208531f8613cd260e34b53dfb4ed813be8,10,4,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Improve idempotency for images in podman container

Add a new variable which would be used for strict images comparing
Use by default a ""lite mode"" which compares only image and tag.
Change-Id: I7592707c2a17654e521f6f136eabcb76c8152fba
"
openstack%2Fswift~feature%2Flosf~Id7595623c1b7bbb798784312af5a924d8ebaf6ff,openstack/swift,feature/losf,merge-master,Id7595623c1b7bbb798784312af5a924d8ebaf6ff,Merge remote-tracking branch 'remotes/origin/master' into merge-master,MERGED,2020-03-18 11:56:55.000000000,2020-03-18 16:19:45.000000000,2020-03-18 16:17:43.000000000,18675,2329,0,713632,79bd2e59e5c15ee84814ec1c4f0893176ba79412,7,2,1,0,13852,Romain LE DISEZ,rledisez,"Merge remote-tracking branch 'remotes/origin/master' into merge-master

Change-Id: Id7595623c1b7bbb798784312af5a924d8ebaf6ff
"
openstack%2Fos-resource-classes~master~Idba284defad550f7f90cccb4b288c00b77bc25de,openstack/os-resource-classes,master,drop-py27-support,Idba284defad550f7f90cccb4b288c00b77bc25de,Switch to hacking 2.x,MERGED,2020-02-27 14:25:52.000000000,2020-03-18 16:06:06.000000000,2020-03-18 16:03:26.000000000,10,21,11,710276,3dd3506d092d0360b16e131592974f7214b2e650,17,5,2,2,15334,Stephen Finucane,sfinucan,"Switch to hacking 2.x

This supports Python 3 goodness. Some additional tox tweaks are included
while we're here.

Change-Id: Idba284defad550f7f90cccb4b288c00b77bc25de
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpython-tripleoclient~master~I7b747fd124880f55a30f75e5efb27c22c57ac10c,openstack/python-tripleoclient,master,,I7b747fd124880f55a30f75e5efb27c22c57ac10c,Correct YAML load warning,MERGED,2020-03-16 20:08:02.000000000,2020-03-18 15:59:00.000000000,2020-03-18 15:57:14.000000000,8,8,0,713324,7cfe4d4f12917ef442da81e148aca96f627050f2,15,7,1,5,7353,Kevin Carter,cloudnull,"Correct YAML load warning

The use of `yaml.load` is deprecated and considered unsafe.

The warning notice:

> /usr/lib/python3.6/site-packages/tripleoclient/utils.py:2349:
  YAMLLoadWarning: calling yaml.load() without Loader=...
  is deprecated, as the default Loader is unsafe. Please read
  https://msg.pyyaml.org/load for full details.

This change removes the use of the deprecated function, which
corrects the issue.

Change-Id: I7b747fd124880f55a30f75e5efb27c22c57ac10c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fkuryr-kubernetes~master~If3bd633b36694dedaf65cb14287e9b9519958de8,openstack/kuryr-kubernetes,master,namespace-crds,If3bd633b36694dedaf65cb14287e9b9519958de8,Add IPv6 support to namespace subnet driver,MERGED,2020-02-19 14:17:30.000000000,2020-03-18 15:54:54.000000000,2020-03-18 15:53:20.000000000,13,1,0,708657,eeee83d0f3614ae23dc2e9442b0929b98a6ac1c0,53,6,8,2,23567,Luis Tomas Bolivar,ltomasbo,"Add IPv6 support to namespace subnet driver

Change-Id: If3bd633b36694dedaf65cb14287e9b9519958de8
"
openstack%2Fnova~stable%2Ftrain~Ic1c3d35749fbdc7f5b6f6ec1e16b8fcf37c10de8,openstack/nova,stable/train,bug/1862633,Ic1c3d35749fbdc7f5b6f6ec1e16b8fcf37c10de8,Fix intermittently failing regression case,MERGED,2020-03-17 09:11:03.000000000,2020-03-18 15:37:01.000000000,2020-03-17 20:17:21.000000000,4,2,0,713384,c48d62184348a5bd77df9e54cdac3cf641049eb8,15,5,2,1,9708,Balazs Gibizer,gibi,"Fix intermittently failing regression case

The test_unshelve_offloaded_fails_due_to_neutron could fail due to race
condition. The test case only waits for the first instance.save() call
at [1] but the allocation delete happens after it. This causes that the
test case can still see the allocation of the offloaded server in
placement.

The fix makes sure that the test waits for the second instance.save() by
checking for the host of the instance.

Conflicts:
    nova/tests/functional/regressions/test_bug_1862633.py

Note: Changes in test_bug_1862633.py is due to
I8c96b337f32148f8f5899c9b87af331b1fa41424 is missing from train.

[1] https://github.com/openstack/nova/blob/stable/rocky/nova/compute/manager.py#L5274-L5288

Related-Bug #1862633

Change-Id: Ic1c3d35749fbdc7f5b6f6ec1e16b8fcf37c10de8
(cherry picked from commit 1dfb72e0487c12553a50899d6aed292dea4dcd7f)
"
openstack%2Fkolla-ansible~stable%2Frocky~I7601bb710097a78f6b29bc4018c71f2c6283eef2,openstack/kolla-ansible,stable/rocky,bug/1840145,I7601bb710097a78f6b29bc4018c71f2c6283eef2,Wait for MariaDB to be accessible via HAProxy,MERGED,2020-03-17 17:58:38.000000000,2020-03-18 15:17:45.000000000,2020-03-18 15:16:01.000000000,20,0,0,713500,b37cb79f6ce2e9017fa21c315bd0fdcec72ee5c9,8,4,1,3,30491,Radosław Piliszek,yoctozepto,"Wait for MariaDB to be accessible via HAProxy

Explicitly wait for the database to be accessible via the load balancer.
Sometimes it can reject connections even when all database services are up,
possibly due to the health check polling in HAProxy.

Closes-Bug: #1840145
Change-Id: I7601bb710097a78f6b29bc4018c71f2c6283eef2
(cherry picked from commit 03cd7eb3563788ca1ffd7b19130f18614887a546)
"
openstack%2Fkolla-ansible~stable%2Fstein~Ia840f4b67043df4eaa654f47673dcdc973f13d9c,openstack/kolla-ansible,stable/stein,bug/1862211,Ia840f4b67043df4eaa654f47673dcdc973f13d9c,Combined fluentd fixes,MERGED,2020-03-17 19:33:46.000000000,2020-03-18 15:17:40.000000000,2020-03-18 15:16:00.000000000,30,9,0,713519,06fbffe44025919761252cba50dbaef74f95df98,13,6,2,2,14826,Mark Goddard,mgoddard,"Combined fluentd fixes

1. Delete stale fluent config on restart

We already only include .conf files in fluent.conf:

(fluentd)[fluentd@cpu-e-1041 /etc/fluentd]$ cat fluent.conf
@include input/*.conf
@include filter/*.conf
@include format/*.conf
@include output/*.conf

so this change should not cause ill effect. This works because of the
merge option in config files:

merge: merges the source directory into the target directory instead of
replacing it. Boolean, defaults to false.

see https://docs.openstack.org/kolla/latest/admin/kolla_api.html#kolla-api-external-config

Original Change-Id: I28f63ec81f1ea5bc4a213d053bfb2c04388d5925
Closes-Bug: #1862211
(cherry picked from commit e7870e9df9e416b1b342ad6264bb66378fe62b3f)

2. Make Fluentd config folders readable

Currently, config folders lack the execute bit so Fluentd
cannot read the config and just does nothing when it starts up. This
change explicitly sets the execute bit on folders which need it,
rather than doing it in a more generic way which is more risky from
a security perspective.

Change-Id: Ia840f4b67043df4eaa654f47673dcdc973f13d9c
Closes-Bug: #1867754
(cherry picked from commit c92378d7881927d46ff5d485edcf25989c0c4170)
"
openstack%2Fovn-octavia-provider~master~I8d8ed95ec603ea143a24d28dc92fa55600e0274e,openstack/ovn-octavia-provider,master,,I8d8ed95ec603ea143a24d28dc92fa55600e0274e,Add configuration page to docs,MERGED,2020-03-16 12:24:14.000000000,2020-03-18 15:14:41.000000000,2020-03-18 15:10:11.000000000,64,0,5,713212,e81342ae10c51756c94f7a99c5ecbe4fa81f48dd,31,6,9,9,24791,Maciej Jozefczyk,maciej.jozefczyk,"Add configuration page to docs

This page was missing. Added also tox env to generate config.

Change-Id: I8d8ed95ec603ea143a24d28dc92fa55600e0274e
"
openstack%2Fsecurity-analysis~master~I5ac14ef182f086068875f317b318796e6d1f8ac9,openstack/security-analysis,master,keystone-vmt,I5ac14ef182f086068875f317b318796e6d1f8ac9,Initial draft for pyCADF security review,ABANDONED,2017-12-23 19:35:04.000000000,2020-03-18 15:14:15.000000000,,110,0,15,529945,0f35728d2f88a270d84f52393a8f06ae24822753,31,7,9,4,20466,Tin Lam,tinlam,"Initial draft for pyCADF security review

This patch set provides a first draft of the security-analysis for
the pyCADF library.

Change-Id: I5ac14ef182f086068875f317b318796e6d1f8ac9
"
openstack%2Fovn-octavia-provider~master~I4b12a0281bd56bc83a81ba334ef82521f1e99881,openstack/ovn-octavia-provider,master,six.queue,I4b12a0281bd56bc83a81ba334ef82521f1e99881,Use queue library directly,MERGED,2020-03-18 13:58:22.000000000,2020-03-18 15:11:56.000000000,2020-03-18 15:10:09.000000000,2,3,0,713658,5d86a8c15b8ea3b0e130d1653d7668d0218408ed,9,3,2,2,1131,Brian Haley,brian-haley,"Use queue library directly

As the driver is python3-only there's no need to use six
to load the queue library.

Change-Id: I4b12a0281bd56bc83a81ba334ef82521f1e99881
"
openstack%2Fsecurity-analysis~master~Iff57bbdce12691919d1472f6c7c0699a643e7d23,openstack/security-analysis,master,keystone-vmt,Iff57bbdce12691919d1472f6c7c0699a643e7d23,Initial draft for oslo.cache,ABANDONED,2019-03-06 18:46:15.000000000,2020-03-18 15:07:15.000000000,,119,0,0,641467,3812aad5b54729e7b4f4d790a653276831235051,8,2,3,3,21420,Gage Hugo,ghugo,"Initial draft for oslo.cache

This provides the initial draft for architecture and review
findings in order to pursue coverage of oslo.cache by the
vulnerability management team.

Co-Authored By: nh202b <nh202b@att.com>

Change-Id: Iff57bbdce12691919d1472f6c7c0699a643e7d23
"
openstack%2Fsecurity-analysis~master~I00b82462dea7d68069da7034e6337f97dbe31746,openstack/security-analysis,master,add-link,I00b82462dea7d68069da7034e6337f97dbe31746,Add keystonemiddleware to index and fix issues,ABANDONED,2018-05-17 18:23:02.000000000,2020-03-18 15:07:08.000000000,,12,2,0,569203,acd2bc831d65550176ada5d3c692469aaeebd61e,13,2,4,2,21420,Gage Hugo,ghugo,"Add keystonemiddleware to index and fix issues

This change adds keystonemiddleware review findings and
architecture links to the index page for the
security-analysis document.

This also fixes some rendering warnings from sphinx.

Change-Id: I00b82462dea7d68069da7034e6337f97dbe31746
"
openstack%2Foctavia~stable%2Fqueens~Ia8ec209e2773483360e2490545b55d7ad5c3cbd1,openstack/octavia,stable/queens,story-2007371-queens,Ia8ec209e2773483360e2490545b55d7ad5c3cbd1,"Revert ""Improve the error message for bad pkcs12 bundles""",ABANDONED,2020-03-06 18:54:10.000000000,2020-03-18 15:04:58.000000000,,1,34,0,711740,ca21affd0f73a83e1a310ecaf4e3a07f0b62502a,9,4,2,5,2276,Jorge Niedbalski,niedbalski,"Revert ""Improve the error message for bad pkcs12 bundles""

This reverts commit ec76e763076b845f3808bd6eaa94c789ee0f74cf.

On stable releases with the addition of this change
https://opendev.org/openstack/octavia/commit/a501714a76e04b33dfb24c4ead9956ed4696d1df
(and posterior backport to stable releases) isn't longer possible to create listeners that
use barbican secret containers except for single secrets exported as pkcs12 directly.

Before that change, any exception raised when trying to to decode the
PKCS12 bundle would have resulted on falling back to the legacy
barbican certificate manager code, which supports secret containers [2],
while with the addition of this line, makes this exception to raise and not falling back
to the legacy code anymore.

Please check the related story.

Change-Id: Ia8ec209e2773483360e2490545b55d7ad5c3cbd1
Story: 2007371
"
openstack%2Foslo.vmware~master~Iba7cbdd3f50877d360201391e87f1748433348a7,openstack/oslo.vmware,master,,Iba7cbdd3f50877d360201391e87f1748433348a7,"Pass ""base_image_ref"" to backend when transfer volume to image",MERGED,2020-03-06 07:59:49.000000000,2020-03-18 14:57:32.000000000,2020-03-18 14:56:03.000000000,13,7,2,711585,74aeac3c5c24396563a7f6c74d9733c05d30ed99,12,5,1,2,27615,Rajat Dhasmana,whoami-rajat,"Pass ""base_image_ref"" to backend when transfer volume to image

Cinder has a current implementation to support glance colocation
of volume images[1].
To support this feature for vmdk driver, we need to pass the
base image reference (from which the volume was originally created)
to the image service update method which this patch addresses.

[1] https://review.opendev.org/#/c/697636/

Change-Id: Iba7cbdd3f50877d360201391e87f1748433348a7
"
openstack%2Fkeystone~master~Idb58907888029687cfa8fa22d859f51413929a5e,openstack/keystone,master,bug/1795800,Idb58907888029687cfa8fa22d859f51413929a5e,WIP - Add flask hook for authentication timings,ABANDONED,2019-02-04 22:43:46.000000000,2020-03-18 14:42:57.000000000,,133,13,2,634826,4d4c1fe95ba4bb64c877ff4037f9e7ee3f544d84,14,3,5,7,21420,Gage Hugo,ghugo,"WIP - Add flask hook for authentication timings

This change adds a post authentication hook to properly release
an unauthorized exception after other operations have been
completed. This is to help mask cases where it may be possible
to determine if a user or domain exists based on the response
time from keystone

Change-Id: Idb58907888029687cfa8fa22d859f51413929a5e
Closes-Bug: #1795800
"
openstack%2Fopenstack-ansible-repo_server~stable%2Fstein~Ife4c1ab05e135930da8706d96af5b23648cee800,openstack/openstack-ansible-repo_server,stable/stein,,Ife4c1ab05e135930da8706d96af5b23648cee800,lsyncd: use relative paths in exclude statement,MERGED,2020-03-11 14:25:03.000000000,2020-03-18 14:41:33.000000000,2020-03-18 14:39:52.000000000,1,1,0,712456,bfbd02dcef460637d589e2c498f4d6be82653a73,13,4,1,1,25600,Ebbex,ebbex,"lsyncd: use relative paths in exclude statement

It seems only relative paths should be used in the exclude
statement. This has probably gone unnoticed since there is a second
sync for these files.

Change-Id: Ife4c1ab05e135930da8706d96af5b23648cee800
(cherry picked from commit 9cb92db21b60273b4fc68ddca514ecfefb4d459c)
"
openstack%2Fcharm-octavia~master~Idf888fc6853f575737050cfe391ce4d7ac5d80b4,openstack/charm-octavia,master,bug/1863085,Idf888fc6853f575737050cfe391ce4d7ac5d80b4,Move amp_ssh_key setup to configure action,MERGED,2020-03-04 12:19:58.000000000,2020-03-18 14:38:20.000000000,2020-03-18 14:38:20.000000000,7,6,0,711215,8bd2cb1cc5443725dd93af6fa40eb3371f1c5848,16,4,2,2,6737,Edward Hope-Morley,hopem,"Move amp_ssh_key setup to configure action

This is to avoid problems when the nova api
is not ready yet.

Change-Id: Idf888fc6853f575737050cfe391ce4d7ac5d80b4
Closes-Bug: #1863085
"
openstack%2Fbifrost~stable%2Ftrain~I66e8e5f5a9c16ac90e132074c826d508458ae4d1,openstack/bifrost,stable/train,,I66e8e5f5a9c16ac90e132074c826d508458ae4d1,Run vbmcd as a Systemd service,MERGED,2020-03-18 13:10:03.000000000,2020-03-18 14:30:27.000000000,2020-03-18 14:28:45.000000000,32,0,0,713648,9c5790f0bf4632974e449fc9117366d0142a1652,8,3,1,3,14826,Mark Goddard,mgoddard,"Run vbmcd as a Systemd service

Virtualbmc 2.0 dropped the daemon autostart feature. This means we need
to explicitly start it. Running it as a Systemd unit, code adapted from
Tenks.

In order to allow Systemd to execute the daemon on systems with SELinux
enabled, it must be installed to the system rather than a virtualenv.

Change-Id: I66e8e5f5a9c16ac90e132074c826d508458ae4d1
(cherry picked from commit 6513e5a6dc92dff06e7d5caeadf14db434b3648f)
"
openstack%2Fvitrage~master~I5050e2d9fe91fd710b47e63524d2fcb90584d131,openstack/vitrage,master,uwsgi,I5050e2d9fe91fd710b47e63524d2fcb90584d131,Use the right python plugin for uwsgi,MERGED,2020-03-18 11:42:13.000000000,2020-03-18 14:29:37.000000000,2020-03-18 14:25:09.000000000,4,1,0,713630,35fc976e5ff946d131096fd9e56a6ec799e857f9,9,3,1,1,19134,Eyal,eyalb,"Use the right python plugin for uwsgi

If uwsgi python plugin is installed separately then use
the correct python version plugin

Change-Id: I5050e2d9fe91fd710b47e63524d2fcb90584d131
"
openstack%2Fkolla~master~I4aba1c527f0be61ae54d47efaf0ab3c2d69beda3,openstack/kolla,master,,I4aba1c527f0be61ae54d47efaf0ab3c2d69beda3,elasticsearch: use proper repo for debian/aarch64,MERGED,2020-03-18 09:43:05.000000000,2020-03-18 14:29:08.000000000,2020-03-18 14:27:12.000000000,1,1,2,713598,8ea35aa936a4cb3e8c406bad2823456e8612bb6b,16,6,2,1,24072,Marcin Juszkiewicz,hrw,"elasticsearch: use proper repo for debian/aarch64

Change-Id: I4aba1c527f0be61ae54d47efaf0ab3c2d69beda3
"
openstack%2Fdevstack-plugin-open-cas~master~I037b9cf585048b63de6a5f554620a89a8de67e1b,openstack/devstack-plugin-open-cas,master,,I037b9cf585048b63de6a5f554620a89a8de67e1b,Initial repo,MERGED,2020-03-16 08:38:15.000000000,2020-03-18 14:25:13.000000000,2020-03-18 14:25:13.000000000,301,0,8,713173,955d21b3c3f18e8e8c7d1835e7290cb7e5c1b397,14,5,3,5,28948,Liang Fang,liang,"Initial repo

During stack.sh
- git clone open-cas repo
- compile open-cas
- install open-cas
- configure open-cas

During unstack.sh
- remove cached devices
- remove cache instance
- uninstall open-cas

Change-Id: I037b9cf585048b63de6a5f554620a89a8de67e1b
Signed-off-by: Liang Fang <liang.a.fang@intel.com>
"
openstack%2Fglance~master~I361c9d0b53a67b1cc60f0f3012e22accdcc46055,openstack/glance,master,bug/1855708,I361c9d0b53a67b1cc60f0f3012e22accdcc46055,Remove usages of SSL related config options in utils,MERGED,2020-03-13 22:44:23.000000000,2020-03-18 14:08:22.000000000,2020-03-18 14:05:31.000000000,0,7,1,713076,30ece7aa28ce8bef1bfe6d4ac68485e6b980f955,18,5,2,2,31209,kayluu,khashf,"Remove usages of SSL related config options in utils

SSL support was removed by [1] which resulted in removal of some
SSL related config options, but two config options 'key_file' and
'cert_file' are still used in utils.stash_conf_values() which is called
in reload functionality. When SIGHUP is sent to the parent process,
this usage causes it to crash and its children processes become orphaned,
which then causes the reload test to be stale (fail).

This change also includes:
- Remove 2 attributes and the decorator that help to skip this test
  (self.diable, self.disabled_message, and @skip_if_disabled)

[1] https://review.opendev.org/#/c/697969/5/glance/common/wsgi.py

Change-Id: I361c9d0b53a67b1cc60f0f3012e22accdcc46055
Closes-Bug: #1855708
"
openstack%2Frpm-packaging~master~Ib669e872a9fff9b397f77cc74f5d62b246dee674,openstack/rpm-packaging,master,,Ib669e872a9fff9b397f77cc74f5d62b246dee674,mistral: drop openstack action dependencies,MERGED,2020-03-17 22:28:24.000000000,2020-03-18 13:58:28.000000000,2020-03-18 13:58:28.000000000,0,45,0,713546,5417ed5b512fa7fc09dcb27efcbc0d863b22150c,10,5,1,1,6593,Dirk Mueller,dmllr,"mistral: drop openstack action dependencies

The openstack client dependencies were removed in
https://review.opendev.org/#/c/703972/

Change-Id: Ib669e872a9fff9b397f77cc74f5d62b246dee674
"
openstack%2Fironic-python-agent~stable%2Ftrain~Ic2f338be075e93a2ce8c76c706d37db9bf8792ea,openstack/ironic-python-agent,stable/train,,Ic2f338be075e93a2ce8c76c706d37db9bf8792ea,Rescan devices before performing uefi checks,MERGED,2020-03-18 09:46:53.000000000,2020-03-18 13:55:18.000000000,2020-03-18 13:52:57.000000000,59,16,0,713601,8b2ace33a238d2f53fb5771d4d7e501ff0b91a2f,8,4,1,3,10239,Dmitry Tantsur,dtantsur,"Rescan devices before performing uefi checks

With the fix to the uefi code path so secure boot works properly
and is not accidently stomped on, we forgot to rescan the device
and force the partition table to update, which is vital for iscsi
based deploys.

Conflicts:
	ironic_python_agent/extensions/image.py

Depends-On: https://review.opendev.org/706960
Change-Id: Ic2f338be075e93a2ce8c76c706d37db9bf8792ea
Story: 2007276
Task: 38713
(cherry picked from commit 6f1f9c7f6ed55689f5e738e7b6f01a5c789099e5)
"
openstack%2Fironic-python-agent~stable%2Fstein~Ic2f338be075e93a2ce8c76c706d37db9bf8792ea,openstack/ironic-python-agent,stable/stein,,Ic2f338be075e93a2ce8c76c706d37db9bf8792ea,Rescan devices before performing uefi checks,MERGED,2020-03-18 09:47:30.000000000,2020-03-18 13:54:37.000000000,2020-03-18 13:53:01.000000000,59,16,0,713602,0819e416b029939f403a0b736ef302a02a01dfac,8,4,1,3,10239,Dmitry Tantsur,dtantsur,"Rescan devices before performing uefi checks

With the fix to the uefi code path so secure boot works properly
and is not accidently stomped on, we forgot to rescan the device
and force the partition table to update, which is vital for iscsi
based deploys.

Conflicts:
	ironic_python_agent/extensions/image.py

Depends-On: https://review.opendev.org/706960
Change-Id: Ic2f338be075e93a2ce8c76c706d37db9bf8792ea
Story: 2007276
Task: 38713
(cherry picked from commit 6f1f9c7f6ed55689f5e738e7b6f01a5c789099e5)
"
openstack%2Fpython-glanceclient~stable%2Ftrain~Idccff338fa84c46ca0e429bb533a2a5217205eef,openstack/python-glanceclient,stable/train,bug/1838694,Idccff338fa84c46ca0e429bb533a2a5217205eef,Cleanup session object,MERGED,2020-03-11 14:45:31.000000000,2020-03-18 13:53:45.000000000,2020-03-18 13:50:49.000000000,9,0,1,712461,1aba8f2d248040364e690dd8dc7f3a508baed631,12,6,2,1,8122,Cyril Roelandt,cyril.roelandt.enovance,"Cleanup session object

If a session object is not provided to the get_http_client function (as
is done via osc), the glance client uses it's own HTTPClient class. This
class creates a session but does not properly close it when it is done.
This can lead to resource warnings about unclosed sockets. This change
adds a __del__() to the HTTPClient class to close out the session
correctly.

Change-Id: Idccff338fa84c46ca0e429bb533a2a5217205eef
Closes-Bug: #1838694
(cherry picked from commit 436f797e8db2fc11b7dace7cb7020e4d44a3d2d7)
"
openstack%2Fpuppet-tripleo~master~I351eb64ff1df652b0a284d8cd3d835cec58a310f,openstack/puppet-tripleo,master,token-cache,I351eb64ff1df652b0a284d8cd3d835cec58a310f,Add support to configure token caching in keystone,MERGED,2019-09-19 00:04:38.000000000,2020-03-18 13:51:53.000000000,2019-10-07 23:31:01.000000000,56,7,5,683010,469d432195d1f5b5e15ce72ce1624d4ed4447e4e,65,7,7,3,9816,Takashi Kajinami,kajinamit,"Add support to configure token caching in keystone

Add support to configure token caching in keystone[1] using
memcached, so that we can improve performance about token
validation.

[1] https://docs.openstack.org/keystone/latest/admin/configuration.html#caching-layer

Change-Id: I351eb64ff1df652b0a284d8cd3d835cec58a310f
"
openstack%2Ftripleo-heat-templates~master~Ia944be7be58575b59d2ff3a46da059e34bc8d0c2,openstack/tripleo-heat-templates,master,Ia944be7be58575b59d2ff3a46da059e34bc8d0c2,Ia944be7be58575b59d2ff3a46da059e34bc8d0c2,Add NeutronSecurityGroupQuota to allow setting quota_security_group,MERGED,2020-02-26 16:53:28.000000000,2020-03-18 13:50:40.000000000,2020-03-18 13:50:39.000000000,7,0,6,710083,a7566ecc77d03fc268deb63eff277bbf2f436607,32,9,4,2,8449,Marios Andreou,marios,"Add NeutronSecurityGroupQuota to allow setting quota_security_group

As in related bug, we need to bump this to more than the default
10. Also adds an environment file into ci/environments for use
by the relevant jobs.

Change-Id: Ia944be7be58575b59d2ff3a46da059e34bc8d0c2
Related-Bug: 1864646
"
openstack%2Ftripleo-ci~master~Ibe5ff806539479fb94d4a61aff9ac06a883a6895,openstack/tripleo-ci,master,,Ibe5ff806539479fb94d4a61aff9ac06a883a6895,add backup tempest cirros url,MERGED,2020-03-17 18:19:03.000000000,2020-03-18 13:48:14.000000000,2020-03-18 13:48:14.000000000,12,0,1,713505,57392c51a7091c63a3b1e9f722a52b3ef00be2b8,18,6,3,6,9592,wes hayutin,weshayutin,"add backup tempest cirros url

The url download.cirros-cloud.net is blocked
from rdo nodes.  Create a backup of the image
on images.rdoproject.org

Related-Bug: 1867807
Change-Id: Ibe5ff806539479fb94d4a61aff9ac06a883a6895
"
openstack%2Fkolla~stable%2Fstein~I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211,openstack/kolla,stable/stein,,I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211,CI: Install tox,MERGED,2020-03-18 10:32:46.000000000,2020-03-18 13:44:40.000000000,2020-03-18 13:42:42.000000000,5,0,0,713618,6c61b5082f02d7027233197855b343b8cc3ba9bd,8,3,1,1,14826,Mark Goddard,mgoddard,"CI: Install tox

tox will be removed from the base image. Install it before that happens.

This change is made in a simple way that can be easily backported.

Change-Id: I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211
(cherry picked from commit a81413fc52b0eaf1eefc3302ba425ac9b93d5a4d)
"
openstack%2Fkolla~master~I976d60e5f2bf3e8a55b90485a77584d9e7579d62,openstack/kolla,master,,I976d60e5f2bf3e8a55b90485a77584d9e7579d62,neutron: Remove networking-ovn - part 2,MERGED,2020-03-17 12:18:08.000000000,2020-03-18 13:44:40.000000000,2020-03-18 13:42:40.000000000,0,13,0,713422,aec0b95fa72689404cc15bd7a3e890d42b394dcd,21,5,3,2,22629,Michal Nasiadka,mnasiadka,"neutron: Remove networking-ovn - part 2

A followup to change [1].
Remove networking-ovn sources from kolla/common/config.py and
neutron-db-manage call in neutron-server/extend_start.sh

[1]: https://review.opendev.org/712762/

Change-Id: I976d60e5f2bf3e8a55b90485a77584d9e7579d62
"
openstack%2Fkolla~stable%2Frocky~I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211,openstack/kolla,stable/rocky,,I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211,CI: Install tox,MERGED,2020-03-18 10:35:04.000000000,2020-03-18 13:42:43.000000000,2020-03-18 13:42:43.000000000,4,0,0,713620,21d2abd5641e40a9c688127780d2c629ea15db88,7,3,1,1,14826,Mark Goddard,mgoddard,"CI: Install tox

tox will be removed from the base image. Install it before that happens.

This change is made in a simple way that can be easily backported.

Change-Id: I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211
(cherry picked from commit a81413fc52b0eaf1eefc3302ba425ac9b93d5a4d)
"
openstack%2Fopenstack-ansible-repo_build~stable%2Fstein~Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,openstack/openstack-ansible-repo_build,stable/stein,,Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,repo_build: update tests to opendev.org,MERGED,2020-03-18 10:00:01.000000000,2020-03-18 13:31:45.000000000,2020-03-18 13:30:06.000000000,4,5,0,713606,bd92a6b78fc4f42c27c9393ff476654eaa31e689,7,2,1,1,25600,Ebbex,ebbex,"repo_build: update tests to opendev.org

Change-Id: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
(cherry picked from commit fd4b607820d75e439fcf0fc68e370d13b0493752)
"
openstack%2Fkuryr-kubernetes~master~I9112365585466a126e2653f25aea71ff473c86b8,openstack/kuryr-kubernetes,master,dpdk-bm,I9112365585466a126e2653f25aea71ff473c86b8,Autogenerate path for vhostuserclient socket,MERGED,2020-03-05 14:06:07.000000000,2020-03-18 13:23:07.000000000,2020-03-18 13:20:20.000000000,6,3,2,711464,172b2562bb8d02dd23430e668780fa62df5438fc,49,7,17,2,31502,Andrey Zaikin,zed_0xff,"Autogenerate path for vhostuserclient socket

Before this patch path to a vhostuserclient socket was hardcodeed in a
kuryr-kubernetes config file. So every new created port was using the
same path. That leaded to a socket-file conflict when more than one
container was intended to use a DPDK-enabled port.

This patch automatically concatenates portname to a socket directory
path, so every port gets a unique vhost-server-path like
""/var/run/vhostuser/vhua5a8d6c0-41""

Change-Id: I9112365585466a126e2653f25aea71ff473c86b8
Signed-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>
"
openstack%2Fneutron~master~Ic6c4bb6c584682169f3ebd73105a847b05dddc76,openstack/neutron,master,bug/1841154-external-ports,Ic6c4bb6c584682169f3ebd73105a847b05dddc76,[OVN] Add support for external ports,MERGED,2020-01-20 11:50:32.000000000,2020-03-18 13:13:35.000000000,2020-03-18 13:10:09.000000000,450,7,30,703376,4824a714bfe36fb95e0881d61d8ae56e3422ddc1,92,12,15,11,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Add support for external ports

This patch is adding support for a new port type called ""external"" in
core OVN.

Prior to this work, when a VM had a SR-IOV port attached to it, OVN itself
wasn't able to reply to things such as DHCP requests packets since the
OVS port was skipped. Core OVN then introduced the concept of ""external""
ports which are ports deployed on a different node than the one that the
VM is running and is able to reply to such requests on behalf of the VM.

With this patch, when a port with the VNIC type ""direct"" and no
""switchdev"" capability is created, ovn driver will then create a
logical port with the type ""external"" for it and add it to a default
HA Chassis Group. The port will then get bound to the ""master"" (higher
priority) chassis of that group.

Please note that, as a first step, this patch is creating only one HA
Chassis Group which *all* external ports will belong to. That means that
all external ports will be *scheduled onto the same node* (but it's
HA nevertheless). In the future we should enhance this behavior.

Change-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76
Closes-Bug: #1841154
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fdevstack~master~Iab9b4862c01043d2c158398bac4b3b289a0adba0,openstack/devstack,master,remove-feature-matrix,Iab9b4862c01043d2c158398bac4b3b289a0adba0,Drop DEVSTACK_GATE_FEATURE_MATRIX,MERGED,2020-03-18 00:54:46.000000000,2020-03-18 13:12:31.000000000,2020-03-18 13:10:11.000000000,0,7,0,713560,5ae8a3504ce0619eda5fceaa638b01ba123e5e14,9,4,1,2,1004,Mohammed Naser,mnaser,"Drop DEVSTACK_GATE_FEATURE_MATRIX

DEVSTACK_GATE_FEATURE_MATRIX seems to be an old legacy thing that
is no longer being used.  It currently prevents using the jobs in
openstack/devstack without adding openstack/devstack-gate for the
role.

Change-Id: Iab9b4862c01043d2c158398bac4b3b289a0adba0
"
openstack%2Fkolla~stable%2Ftrain~I955619d6992f8714ae753dc155e248d255340ecf,openstack/kolla,stable/train,bug/1867365,I955619d6992f8714ae753dc155e248d255340ecf,"kibana, nova-libvirt: handle it properly for non-x86",MERGED,2020-03-17 17:12:06.000000000,2020-03-18 13:04:10.000000000,2020-03-18 13:02:29.000000000,35,8,0,713491,1817a09150111da4486dbe27af052c3ba8aa801c,11,4,1,4,24072,Marcin Juszkiewicz,hrw,"kibana, nova-libvirt: handle it properly for non-x86

manual backport from master changes:

- https://review.opendev.org/#/c/712987/
- https://review.opendev.org/#/c/713403

Upstream kibana package contains NodeJS x86-64 binaries so can not be
used directly on non-x86 architectures. I took upstream packages,
removed NodeJS binary from it and added 'nodejs' dependency.

Package is present in my Linaro OBS repository where I keep other
packages needed for aarch64 kolla run. Via APT pinning I mark them as
not wanted so they are not used on any architecture with two exceptions:

1. libvirt - we need fixed version to be able to use ThunderX servers
2. kibana - to be able to run it at all

For x86-64 upstream kibana package is used.

Closes-bug: #1867365

Change-Id: I955619d6992f8714ae753dc155e248d255340ecf
"
openstack%2Fpython-tripleoclient~master~I15ed3a4510dec3b1bb374a528b6a68c5b8969e80,openstack/python-tripleoclient,master,mistral_to_ansible,I15ed3a4510dec3b1bb374a528b6a68c5b8969e80,Remove mistral when running the update_plan workflow,ABANDONED,2020-03-05 23:21:13.000000000,2020-03-18 12:58:27.000000000,,101,34,0,711565,65d3ad864a557dcbf6c9611fb19ea738aefe5f47,14,3,4,3,7353,Kevin Carter,cloudnull,"Remove mistral when running the update_plan workflow

This change removes all of mistral from the update_plan workflow
by calling the required functions directly.

Story: 2007212
Task: 38967

Change-Id: I15ed3a4510dec3b1bb374a528b6a68c5b8969e80
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fpython-tripleoclient~master~Ic9642c3f75e911f89481e2af49c923c7807588cf,openstack/python-tripleoclient,master,mistral_to_ansible,Ic9642c3f75e911f89481e2af49c923c7807588cf,Remove the mistral from the create_plan workflow,ABANDONED,2020-03-05 23:21:13.000000000,2020-03-18 12:58:06.000000000,,171,266,0,711564,83584571d8cfb2cff8ab8c709b2ac45bd31dbded,14,3,4,5,7353,Kevin Carter,cloudnull,"Remove the mistral from the create_plan workflow

This change removes all of mistral from the create_plan
workflow by calling the required functions directly.

Story: 2007212
Task: 38965

Change-Id: Ic9642c3f75e911f89481e2af49c923c7807588cf
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~Ica6e3b873466852a37e4f4fa135969881f37dba8,openstack/tripleo-heat-templates,master,c8-podman,Ica6e3b873466852a37e4f4fa135969881f37dba8,Add OS::TripleO::Services::Podman to sc 1 and sc 7,MERGED,2020-03-17 10:20:51.000000000,2020-03-18 12:56:35.000000000,2020-03-18 12:56:35.000000000,2,0,2,713397,4178d7afcbe11adb2d6f83ed88b039007f256fb8,14,8,2,2,12393,chandan kumar,chkumar246,"Add OS::TripleO::Services::Podman to sc 1 and sc 7

OS::TripleO::Services::Podman is needed for scenario 1 and 7
multinode deployment to set podman related vars during overcloud
deployment.

Closes-Bug: #1867599

Change-Id: Ica6e3b873466852a37e4f4fa135969881f37dba8
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I4c7d378936257c91428682ad25599203d8fd3503,openstack/tripleo-upgrade,stable/train,ffwd-upgrade2-stable/train,I4c7d378936257c91428682ad25599203d8fd3503,Run ceph-ansible installation as super user.,MERGED,2020-03-17 16:05:58.000000000,2020-03-18 12:56:34.000000000,2020-03-18 12:56:34.000000000,2,0,0,713476,20ed38942f4cc458c79aae7791ff8b6b3db33895,9,12,2,1,11090,Sergii Golovatiuk,holser,"Run ceph-ansible installation as super user.

The newly added task included in [0] requires root rights
to be able to install the ceph-ansible in the Undercloud.

[0]- I205425f31412c856e754539f67b039215a3b2189
Change-Id: I4c7d378936257c91428682ad25599203d8fd3503
(cherry picked from commit b6c158e47d3db9e5d069c4570fda0e00f8a13c77)
"
openstack%2Fkolla~master~I4e003c9aa32579d467c489a53741e20ced2f4b52,openstack/kolla,master,bug/1867888,I4e003c9aa32579d467c489a53741e20ced2f4b52,Fix Horizon build after switch to pyscss2 which lacks binary wheel,MERGED,2020-03-18 08:16:48.000000000,2020-03-18 12:52:09.000000000,2020-03-18 12:50:39.000000000,2,0,0,713589,3e4f3b18dd34543c9bc00a3e07a02a565c8ea536,14,6,1,1,30491,Radosław Piliszek,yoctozepto,"Fix Horizon build after switch to pyscss2 which lacks binary wheel

It now requires pcre-dev package to finish building.

Change-Id: I4e003c9aa32579d467c489a53741e20ced2f4b52
Closes-bug: #1867888
"
openstack%2Fironic~master~Ib93d0f564b7ee51ee9beb7f6143635c240f4baf3,openstack/ironic,master,docs-sw-raid,Ib93d0f564b7ee51ee9beb7f6143635c240f4baf3,Documentation clarifications for software RAID,MERGED,2020-03-17 11:16:48.000000000,2020-03-18 12:46:18.000000000,2020-03-18 12:40:37.000000000,7,5,0,713404,9fd0aa859cd5289822d291dfe405402273f480d3,10,4,1,1,10239,Dmitry Tantsur,dtantsur,"Documentation clarifications for software RAID

This change clarifies which options are supported for software RAID
and what the defaults are.

Change-Id: Ib93d0f564b7ee51ee9beb7f6143635c240f4baf3
"
openstack%2Fbifrost~master~I5babac268ab194df0634c396d9c07f90231d5bcb,openstack/bifrost,master,,I5babac268ab194df0634c396d9c07f90231d5bcb,DNM: Testing pip > 19 on CentOS 8,ABANDONED,2020-03-18 10:58:37.000000000,2020-03-18 12:45:23.000000000,,2,9,0,713626,f56289c35c73f2f06d8b6758a3e18c4164f82148,3,1,1,1,14826,Mark Goddard,mgoddard,"DNM: Testing pip > 19 on CentOS 8

Change-Id: I5babac268ab194df0634c396d9c07f90231d5bcb
"
openstack%2Frpm-packaging~master~Ia1ba773695d5530df4931b67bdb58393fce6e87f,openstack/rpm-packaging,master,no-filters,Ia1ba773695d5530df4931b67bdb58393fce6e87f,Remvoe the removal of ironic-lib.filters,MERGED,2020-03-18 09:59:55.000000000,2020-03-18 12:37:02.000000000,2020-03-18 12:37:02.000000000,0,3,1,713605,09b877e5f3ce44abe83aeb038d37a0403032739a,9,5,1,1,23851,Riccardo Pittau,elfosardo,"Remvoe the removal of ironic-lib.filters

The ironic-lib.filters file has been removed from ironic, so we
don't need to remove it here.

Change-Id: Ia1ba773695d5530df4931b67bdb58393fce6e87f
"
openstack%2Frpm-packaging~stable%2Ftrain~Ic4999bf3d8b255bb37811e441fe282da1c96b8ba,openstack/rpm-packaging,stable/train,,Ic4999bf3d8b255bb37811e441fe282da1c96b8ba,oslo.utils: remove reflection tests that are failing with python 3.8,MERGED,2020-03-18 09:49:24.000000000,2020-03-18 12:30:02.000000000,2020-03-18 12:30:02.000000000,2,0,0,713603,7e7ae3f7ef0c82a933b024dee697a581d449ccf4,9,5,1,1,6593,Dirk Mueller,dmllr,"oslo.utils: remove reflection tests that are failing with python 3.8

oslo.utils is currently still not reporting green against python 3.8
upstream.

Change-Id: Ic4999bf3d8b255bb37811e441fe282da1c96b8ba
(cherry picked from commit b3ad5682bb01498dc5ff3d4e4e4fd0069cbfd5c3)
"
openstack%2Fpython-tripleoclient~master~I1fbe7deaa0eb0106d2e81fa9734088fccf2a3b81,openstack/python-tripleoclient,master,mistral_to_ansible,I1fbe7deaa0eb0106d2e81fa9734088fccf2a3b81,Pass container_config to get_config(),MERGED,2020-03-17 16:47:05.000000000,2020-03-18 12:26:29.000000000,2020-03-18 12:24:24.000000000,18,8,0,713483,520ae1d28e2c76920ab59faaa0ca3a0b9accf5fe,13,5,1,5,8833,Rabi Mishra,rabi,"Pass container_config to get_config()

Change-Id: I1fbe7deaa0eb0106d2e81fa9734088fccf2a3b81
Closes-Bug: #1867798
"
openstack%2Fironic~master~I4996961b86be5ccc27b6c1066c1560564fe5cd41,openstack/ironic,master,story/2006963,I4996961b86be5ccc27b6c1066c1560564fe5cd41,Remove compatibility with pre-deploy steps drivers,MERGED,2020-03-09 13:29:27.000000000,2020-03-18 12:24:30.000000000,2020-03-17 18:33:27.000000000,77,674,2,711918,529c3ff06693d0a1aa13081acff92010fe855c50,27,7,3,9,10239,Dmitry Tantsur,dtantsur,"Remove compatibility with pre-deploy steps drivers

It was supposed to be removed in Stein, so should be fine to do now.

Change-Id: I4996961b86be5ccc27b6c1066c1560564fe5cd41
Story: #2006963
"
openstack%2Fnova~master~I8668d57f6b302ad8cdc1e4af28cf6bb8145a738d,openstack/nova,master,bug/1835733,I8668d57f6b302ad8cdc1e4af28cf6bb8145a738d,VMware VMDK detach: get adapter type from instance VM,MERGED,2019-04-18 13:34:31.000000000,2020-03-18 12:11:44.000000000,2020-03-18 12:08:59.000000000,77,43,5,653738,ec93474a84aff1c184a58fe436ea4a0842bd9825,64,16,4,4,29125,Ivaylo Mitev,imitev,"VMware VMDK detach: get adapter type from instance VM

Detach VMDK using adapter type from instance instead of shadow VM.

Closes-Bug: #1835733
Change-Id: I8668d57f6b302ad8cdc1e4af28cf6bb8145a738d
"
openstack%2Fnova~master~I900f74d482fc87da5b1b5ec9db2ad5aefcfcfe7a,openstack/nova,master,support-live-migration-with-virtual-persistent-memory,I900f74d482fc87da5b1b5ec9db2ad5aefcfcfe7a,bug-fix: Reject live migration with vpmem,MERGED,2020-02-17 12:11:12.000000000,2020-03-18 11:58:09.000000000,2020-03-18 11:55:14.000000000,31,0,8,708110,db93b704cecdb72e9c23c7a4c07786f67bcfe7b2,75,15,6,2,23598,Zhong Luyao,ZhongLuyao,"bug-fix: Reject live migration with vpmem

Reject live migration if there are virtual persistent memory resources.
Otherwise, if dest host has same vpmem backend file name as that used
by instance, live migration will succeed and these files will be used
but not tracked in Nova; if dest host has no those vpmems, it will
trigger an error.

Change-Id: I900f74d482fc87da5b1b5ec9db2ad5aefcfcfe7a
Closes-bug: #1863605
Implements: blueprint support-live-migration-with-virtual-persistent-memory
"
openstack%2Fkolla~stable%2Fstein~I955619d6992f8714ae753dc155e248d255340ecf,openstack/kolla,stable/stein,bug/1867365,I955619d6992f8714ae753dc155e248d255340ecf,"kibana, nova-libvirt: handle it properly for non-x86",MERGED,2020-03-17 17:15:48.000000000,2020-03-18 11:38:59.000000000,2020-03-18 11:37:11.000000000,32,0,0,713492,84003367bcd20c24f2e5884f5d86d2420506e816,10,4,1,2,24072,Marcin Juszkiewicz,hrw,"kibana, nova-libvirt: handle it properly for non-x86

manual backport from master changes:

- https://review.opendev.org/#/c/712987/
- https://review.opendev.org/#/c/713403

Upstream kibana package contains NodeJS x86-64 binaries so can not be
used directly on non-x86 architectures. I took upstream packages,
removed NodeJS binary from it and added 'nodejs' dependency.

Package is present in my Linaro OBS repository where I keep other
packages needed for aarch64 kolla run. Via APT pinning I mark them as
not wanted so they are not used on any architecture with two exceptions:

1. libvirt - we need fixed version to be able to use ThunderX servers
2. kibana - to be able to run it at all

For x86-64 upstream kibana package is used.

Closes-bug: #1867365

Change-Id: I955619d6992f8714ae753dc155e248d255340ecf
"
openstack%2Fbifrost~master~Idf2b03a4772111f63f79203f63ea95f805e7a43d,openstack/bifrost,master,,Idf2b03a4772111f63f79203f63ea95f805e7a43d,Remove --ignore-installed from CentOS 8 pip 19 install,MERGED,2020-03-17 18:14:54.000000000,2020-03-18 11:31:06.000000000,2020-03-18 11:29:30.000000000,1,1,0,713504,21cb4ea6fc753265cecee868d99efe42e4f2966b,9,4,1,1,14826,Mark Goddard,mgoddard,"Remove --ignore-installed from CentOS 8 pip 19 install

In the kolla bifrost container image this results in a broken pip
installation. The pip 19 package is downloaded, but this message is
printed at the end:

Successfully installed pip-20.0.2

The subsequent 'pip freeze' gets the following error:

ImportError: cannot import name 'PackageFinder'

This change removes the --ignore-installed argument, which results in
the virtualenv getting pip 19 as expected.

Change-Id: Idf2b03a4772111f63f79203f63ea95f805e7a43d
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~I7d8300bcdf0caf24485ce2edc5f2be2672369d2f,openstack/openstack-ansible-rabbitmq_server,master,,I7d8300bcdf0caf24485ce2edc5f2be2672369d2f,rabbitmq_server: there's no system change on a package query,MERGED,2020-03-15 01:24:20.000000000,2020-03-18 11:16:46.000000000,2020-03-18 11:14:48.000000000,3,2,0,713124,7aa3d4a9ca8606967abe1fc1ce6071647ee6c930,11,4,1,1,25600,Ebbex,ebbex,"rabbitmq_server: there's no system change on a package query

There doesn't seem to be a need to check for changed either, and
it's easier to read ""when: item is not skipped""

Change-Id: I7d8300bcdf0caf24485ce2edc5f2be2672369d2f
"
openstack%2Fkuryr-kubernetes~master~I5a85c39e09a87cc4f0ec2b76819b264f26d433f8,openstack/kuryr-kubernetes,master,dpdk-bm,I5a85c39e09a87cc4f0ec2b76819b264f26d433f8,do not die if cannot remove socket file,MERGED,2020-03-05 14:06:07.000000000,2020-03-18 11:16:19.000000000,2020-03-18 11:13:39.000000000,5,1,3,711463,25fb7612510595bb7c7e40441eec44bd9a13bad5,48,6,16,1,31502,Andrey Zaikin,zed_0xff,"do not die if cannot remove socket file

(may be it was removed by hand or by other app)

Change-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8
Signed-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>
"
openstack%2Ftripleo-validations~stable%2Ftrain~Ib4d0a505021568975b79400d67fd709dd74e9acf,openstack/tripleo-validations,stable/train,,Ib4d0a505021568975b79400d67fd709dd74e9acf,Don't validate token_flush for non-persistent token formats,MERGED,2020-03-16 19:23:07.000000000,2020-03-18 11:10:49.000000000,2020-03-18 11:10:49.000000000,224,23,0,713318,3fd14c996068da955ee3842a9771869d51a4ecea,9,5,1,6,5046,Lance Bragstad,ldbragst,"Don't validate token_flush for non-persistent token formats

THT incorporated a change so that the keystone_cron container deploys
only if a persistent token format is used (e.g, `uuid`, `pki`):

  https://review.opendev.org/#/c/682265/

This is because `fernet` and `jws` tokens are completely non-persistent
by way of authenticated encryption and the keystone_cron container only
runs a cron job to execute `keystone-manage token_flush`, which prunes
expired tokens from keystone's token table. This cron job is useful for
deployments relying on `uuid`, `pki`, or some other out-of-tree provider
that requires tokens to be recorded for keystone's token validation
process.

This commit updates the validation to check for the token format and
only performs the validation if the token format isn't `fernet` or
`jws`.

Change-Id: Ib4d0a505021568975b79400d67fd709dd74e9acf
(cherry picked from commit 7547548a6b289dac84d3980f82c8b91f04affe4f)
"
openstack%2Fopenstack-ansible-os_masakari~master~I5ce2be9e7a8a648cbb734a2e418d434e7991e298,openstack/openstack-ansible-os_masakari,master,memcached-refactor,I5ce2be9e7a8a648cbb734a2e418d434e7991e298,Refactor memcached_servers,MERGED,2020-03-16 14:14:38.000000000,2020-03-18 11:08:07.000000000,2020-03-18 11:05:49.000000000,5,1,0,713244,235e1f05a0091bf5b93b0d28c7ecf95583c29fef,10,4,1,2,28008,Guilherme,guilhermesp,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: I5ce2be9e7a8a648cbb734a2e418d434e7991e298
"
openstack%2Fopenstack-ansible-os_trove~master~I571a0ac9417767af413937e871ea6cdf156f2d75,openstack/openstack-ansible-os_trove,master,memcached-refactor,I571a0ac9417767af413937e871ea6cdf156f2d75,Refactor memcached_servers,MERGED,2020-03-16 15:11:49.000000000,2020-03-18 11:02:26.000000000,2020-03-18 11:01:00.000000000,5,1,0,713263,71c23779ee676b3d97b7d0eb03d0802f0c283468,10,4,1,2,28008,Guilherme,guilhermesp,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: I571a0ac9417767af413937e871ea6cdf156f2d75
"
openstack%2Fopenstack-ansible-os_swift~master~If17dd627708f03824939ba062b498675253b11d7,openstack/openstack-ansible-os_swift,master,memcached-refactor,If17dd627708f03824939ba062b498675253b11d7,Refactor memcached_servers,MERGED,2020-03-16 15:05:48.000000000,2020-03-18 11:01:46.000000000,2020-03-18 10:59:41.000000000,5,1,0,713262,677ab44170bbf60fc422fe843073389906d3fe45,10,4,1,2,28008,Guilherme,guilhermesp,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: If17dd627708f03824939ba062b498675253b11d7
"
openstack%2Fopenstack-ansible-os_panko~master~Ifc89958375ec860e9c75e84aadd420401336e2f6,openstack/openstack-ansible-os_panko,master,memcached-refactor,Ifc89958375ec860e9c75e84aadd420401336e2f6,Refactor memcached_servers,MERGED,2020-03-16 14:53:01.000000000,2020-03-18 11:01:19.000000000,2020-03-18 10:59:35.000000000,5,1,0,713249,67fcd7723fbe325ba6d5b3bd8f80b295948524cb,10,4,1,2,28008,Guilherme,guilhermesp,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: Ifc89958375ec860e9c75e84aadd420401336e2f6
"
openstack%2Fcinder~master~Ifa3d11b2f42672c8c05199192f34488ffed0c37a,openstack/cinder,master,bug/1867318,Ifa3d11b2f42672c8c05199192f34488ffed0c37a,Group quota is not getting reverted when an exception occurs.,NEW,2020-03-13 09:47:07.000000000,2020-03-18 10:50:18.000000000,,14,0,0,712889,bd162a4c79fa5becc93aaa3a4c732b1b7868348d,23,17,1,1,26575,Ankit Arora,aarora06,"Group quota is not getting reverted when an exception occurs.

Group quota is not getting reverted when an exception occurs
during create group from group snapshot or from source group in
create_from_src.

As part of this change, the group quota is reserved with -1 to
revert the quota reservations for group when it is destroyed in
db.

Change-Id: Ifa3d11b2f42672c8c05199192f34488ffed0c37a
Closes-Bug: #1867318
"
openstack%2Ftripleo-quickstart-extras~master~I69073b007138d8941da878def7033ffaf79e8f5d,openstack/tripleo-quickstart-extras,master,mistral/optional,I69073b007138d8941da878def7033ffaf79e8f5d,overcloud-prep-images: install ara on mistral executor only when needed,MERGED,2020-03-11 17:50:59.000000000,2020-03-18 10:49:54.000000000,2020-03-18 10:49:54.000000000,5,4,2,712523,23dbcac9eaa054589103568797a2d27508d48c80,33,8,5,5,3153,Emilien Macchi,emilienm,"overcloud-prep-images: install ara on mistral executor only when needed

Only install ara on mistral executor container if
undercloud_enable_mistral is set to True, otherwise we obviously don't
want it.

Move undercloud_enable_mistral to extras-common so it can be used by
both overcloud-prep-images and undercloud-deploy roles.

Change-Id: I69073b007138d8941da878def7033ffaf79e8f5d
"
openstack%2Ftripleo-quickstart-extras~master~I871362fb02ed77acd305b9f0a9dec02e4d4c2753,openstack/tripleo-quickstart-extras,master,,I871362fb02ed77acd305b9f0a9dec02e4d4c2753,Fix URL for tinyipa-stable-pike image ironic tempest,MERGED,2020-03-16 11:50:10.000000000,2020-03-18 10:49:53.000000000,2020-03-18 10:49:53.000000000,1,1,0,713202,ce4af2ece2f97ea1e9af72ad3e20298a164f8502,15,4,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Fix URL for tinyipa-stable-pike image ironic tempest

Depends-On: https://review.opendev.org/#/c/712940
Change-Id: I871362fb02ed77acd305b9f0a9dec02e4d4c2753
"
openstack%2Fkolla-ansible~master~I7acc097381dd9a4af4e014525c1c88213abbde93,openstack/kolla-ansible,master,,I7acc097381dd9a4af4e014525c1c88213abbde93,Fix invalid JSON body in Elasticsearch API requests,MERGED,2020-02-21 10:23:33.000000000,2020-03-18 10:49:49.000000000,2020-03-18 10:47:57.000000000,23,8,1,709090,5db9eab04223dd3e974e39490a84c506805b8644,11,5,1,4,14826,Mark Goddard,mgoddard,"Fix invalid JSON body in Elasticsearch API requests

The kibana, elasticsearch and monasca roles all use the uri module to
perform Elasticsearch configuration tasks via its API. The body of the
request should be JSON formatted, but these tasks now fail because it is
not.

The following error is seen:

TASK [monasca : Create default control plane organisation if it doesn't
exist]

invalid character '\\'' looking for beginning of object key string

The 'JSON' body in this case was:

{'name': 'monasca_control_plane@default'}

This was probably caused by the recent change to execute these tasks in
the kolla_toolbox container, but may also be caused by an Ansible
version bump (or something else).

This change fixes the issue by ensuring that the body is JSON-encoded in
all cases.

Change-Id: I7acc097381dd9a4af4e014525c1c88213abbde93
Closes-Bug: #1864177
"
openstack%2Fos-resource-classes~master~I9401637f4f3fe59abaaa05ecc72c6247826323ad,openstack/os-resource-classes,master,trivial,I9401637f4f3fe59abaaa05ecc72c6247826323ad,setup.cfg: Configure 'python-requires',MERGED,2020-01-28 11:12:24.000000000,2020-03-18 10:48:42.000000000,2020-03-18 10:46:54.000000000,3,0,2,704533,b99ab3336ced15dc29c0175f91a34d76557737c6,11,5,1,1,15334,Stephen Finucane,sfinucan,"setup.cfg: Configure 'python-requires'

This will prevent setuptools accidentally installing os-traits in a
Python 2 environment.

Change-Id: I9401637f4f3fe59abaaa05ecc72c6247826323ad
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fmagnum~stable%2Ftrain~I088904308718d25d61cb9ca9f59cea2027bd4141,openstack/magnum,stable/train,,I088904308718d25d61cb9ca9f59cea2027bd4141,[stable] Remove magnum-container-publish from .zuul.yaml,MERGED,2020-03-16 16:04:09.000000000,2020-03-18 10:38:20.000000000,2020-03-18 10:33:44.000000000,1,2,1,713279,db4cb151049b8cdf62a606e5797ec7fb1e5e5f78,10,3,2,1,28022,Bharat Kunwar,brtknr,"[stable] Remove magnum-container-publish from .zuul.yaml

The stable branches should not be pushing containers to Dockerhub which
is why secrets are not present in stable branches. It turns out that
secrets are shared between all branches accoring to the Zuul docs:
https://zuul-ci.org/docs/zuul/reference/secret_def.html

Therefore, it makes sense to remove the publish job altogether from the
stable branches.

Change-Id: I088904308718d25d61cb9ca9f59cea2027bd4141
"
openstack%2Fmagnum~stable%2Ftrain~I405e331eb1f9f987d3fbc301a09ab25bcb96926d,openstack/magnum,stable/train,logging-stable/train,I405e331eb1f9f987d3fbc301a09ab25bcb96926d,atomic-podman: Set log imit to 50m,MERGED,2020-03-16 12:23:34.000000000,2020-03-18 10:35:28.000000000,2020-03-18 10:33:26.000000000,6,0,0,713211,bf3227838d9b34eeb8467fc9992e3f238bd85620,9,4,1,1,20498,Spyros Trigazis,strigazi,"atomic-podman: Set log imit to 50m

By default podman containers can write unlimited bytes
of log and evenrually fill up the disk nodes.

Set the max size per containers to 50MB.

story: 2007402
task: 39003
Change-Id: I405e331eb1f9f987d3fbc301a09ab25bcb96926d
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 2d2bd5d71035d8b62012f4e9e74f2668a4bf0692)
"
openstack%2Fmagnum~stable%2Ftrain~Ie3106b40b4d1c6866761c507122047e88e513651,openstack/magnum,stable/train,logging-stable/train,Ie3106b40b4d1c6866761c507122047e88e513651,k8s-fedora: Set max-size to 10m for containers,MERGED,2020-03-16 12:33:30.000000000,2020-03-18 10:33:40.000000000,2020-03-18 10:33:40.000000000,20,9,1,713214,578361757fe339ed212d5d3526916cc5c435a341,15,4,2,2,20498,Spyros Trigazis,strigazi,"k8s-fedora: Set max-size to 10m for containers

Set the max-size for container/pod logs to 10m
and max of 5 rotated files. The values relay
the default of kubernetes when it is using
a remote container runtime [0] (container-log-max-files
and container-log-max-size) This defaults cover the
case of containerd.

[0] https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/

story: 2007402
task: 39031

Change-Id: Ie3106b40b4d1c6866761c507122047e88e513651
Signed-off-by: Spyros Trigazis <strigazi@gmail.com>
(cherry picked from commit af74b326d01f6e64eec1bebb28f227a6917ef35b)
"
openstack%2Fmagnum~stable%2Ftrain~Id4a5dfc3bc3c9ce909c7b0a3709506a250b2851f,openstack/magnum,stable/train,logging-stable/train,Id4a5dfc3bc3c9ce909c7b0a3709506a250b2851f,Upgrade pause image to version 3.1,MERGED,2020-03-16 12:42:47.000000000,2020-03-18 10:33:35.000000000,2020-03-18 10:33:35.000000000,3,3,0,713218,cd5f14a6f788426f43058822262aaad752aa68e3,9,5,2,3,20498,Spyros Trigazis,strigazi,"Upgrade pause image to version 3.1

k8s.gcr.io/pause image repository support mutilarch on version 3.1.
Pulling other non-amd64 arch image, no need to go to other arch specific
repository ,like pause-arm64. It is easy to support mutilarch, like
amd64, arm64, ppc64le, if use version 3.1.
See 3.1 manifest:
https://console.cloud.google.com/gcr/images/google-containers/GLOBAL/pause@sha256:f78411e19d84a252e53bff71a4407a5686c46983a2c2eeed83929b888179acea/details?tab=info

Change-Id: Id4a5dfc3bc3c9ce909c7b0a3709506a250b2851f
Task: 37841
Story: 2007026
(cherry picked from commit 0b5d029179a26f7f166a889e86d5d587eca43c5e)
"
openstack%2Fmagnum~stable%2Ftrain~I155b7146b7175d95b219897b84f4580091e5975e,openstack/magnum,stable/train,logging-stable/train,I155b7146b7175d95b219897b84f4580091e5975e,fcos-podman: Set max size for logging to 50m,MERGED,2020-03-16 12:23:03.000000000,2020-03-18 10:33:31.000000000,2020-03-18 10:33:31.000000000,27,0,0,713210,167660e7c554eab794cba0e5b84041ee17c730ef,9,4,2,2,20498,Spyros Trigazis,strigazi,"fcos-podman: Set max size for logging to 50m

By default podman containers can write unlimited bytes
of log and evenrually fill up the disk nodes.

Set the max size per containers to 50MB.

story: 2007402
task: 39001

Change-Id: I155b7146b7175d95b219897b84f4580091e5975e
Signed-off-by: Spyros Trigazis <strigazi@gmail.com>
(cherry picked from commit 9d543960d2827ede5be4f851b1cb62c986981f32)
"
openstack%2Fkolla-ansible~master~I4181654c88554c81940f0d079cf1d64326cdec79,openstack/kolla-ansible,master,,I4181654c88554c81940f0d079cf1d64326cdec79,CI: install tox,MERGED,2020-03-17 09:51:42.000000000,2020-03-18 10:33:02.000000000,2020-03-17 21:14:20.000000000,6,0,0,713392,dd1ebf20caf97fa53675ef299513fa1c2a2da757,14,3,1,1,14826,Mark Goddard,mgoddard,"CI: install tox

tox will be removed from the base image. Install it before that happens.

This change is made in a simple way that can be easily backported.

Depends-On: https://review.opendev.org/713386

Change-Id: I4181654c88554c81940f0d079cf1d64326cdec79
"
openstack%2Fkolla~master~I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211,openstack/kolla,master,,I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211,CI: Install tox,MERGED,2020-03-17 09:26:27.000000000,2020-03-18 10:32:46.000000000,2020-03-17 21:14:19.000000000,5,0,2,713386,a81413fc52b0eaf1eefc3302ba425ac9b93d5a4d,18,4,4,1,14826,Mark Goddard,mgoddard,"CI: Install tox

tox will be removed from the base image. Install it before that happens.

This change is made in a simple way that can be easily backported.

Change-Id: I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211
"
openstack%2Fkuryr-tempest-plugin~master~Ibaf2b70dfb8222dfafb9e0a451674473377074c0,openstack/kuryr-tempest-plugin,master,retry-exec,Ibaf2b70dfb8222dfafb9e0a451674473377074c0,Retry exec_command_in_pod,MERGED,2020-03-13 15:42:31.000000000,2020-03-18 10:29:51.000000000,2020-03-18 10:28:10.000000000,28,21,4,712982,bf2afa0c54128479cfb5c7bc44cedd906f083bbf,15,6,2,1,11600,Michał Dulko,dulek,"Retry exec_command_in_pod

From time to time we get some etcd issues on the gate and when that
happens Kubernetes API likes to greet us with a 500 error. This commit
makes sure that exec_command_in_pod retries requests like that so that in
such case we don't fail a test.

Change-Id: Ibaf2b70dfb8222dfafb9e0a451674473377074c0
"
openstack%2Fnova~master~I6b6448cec3f9d0bd467e4405a6d72d069efa0fb3,openstack/nova,master,bp/doc-migration,I6b6448cec3f9d0bd467e4405a6d72d069efa0fb3,doc: Cleanup of existing index pages,ABANDONED,2017-08-29 14:07:14.000000000,2020-03-18 10:16:16.000000000,,68,55,2,498819,8f3f819681c80eab53850cdc9b7e7ea1491ed0a0,89,15,8,5,15334,Stephen Finucane,sfinucan,"doc: Cleanup of existing index pages

Cross-reference documents where appropriate and fix some formatting.

Change-Id: I6b6448cec3f9d0bd467e4405a6d72d069efa0fb3
"
openstack%2Fnova~master~I7d1a02fdcc914ab642de2794fa92a92fe6a76380,openstack/nova,master,bp/doc-migration,I7d1a02fdcc914ab642de2794fa92a92fe6a76380,WIP! doc: Add contents page,ABANDONED,2017-08-29 14:07:14.000000000,2020-03-18 10:15:34.000000000,,163,65,0,498820,1fa9b06c0367d7c16fd8988bf1c363dc36b4b18f,61,8,8,4,15334,Stephen Finucane,sfinucan,"WIP! doc: Add contents page

This provide a dense but complete overview of all the documents *and*
solves the ""Sphinx wants every document in at least one ToC"" problem in
one fell swoop. We should avoid using ToCs outside of these files as
they don't provide enough context.

Change-Id: I7d1a02fdcc914ab642de2794fa92a92fe6a76380
"
openstack%2Foctavia-tempest-plugin~master~I26896f1126f7bb5c09e2668b3958019c782f346a,openstack/octavia-tempest-plugin,master,client_vm,I26896f1126f7bb5c09e2668b3958019c782f346a,Use VM as client in traffic operation scenario tests,ABANDONED,2019-10-09 13:46:14.000000000,2020-03-18 10:15:18.000000000,,179,64,6,687562,2632675a72af43aa7b242b3adbe3402cefeef2bb,29,4,11,2,29244,Gregory Thiemonge,gthiemonge,"Use VM as client in traffic operation scenario tests

load_balancer.test_client_from_vm option will make tempest perform
requests to load balancers from a VM instead of creating connections
from the node that runs tempest.

Depends-On: https://review.opendev.org/#/c/695167/

Change-Id: I26896f1126f7bb5c09e2668b3958019c782f346a
"
openstack%2Fpython-openstackclient~master~I7b89c4f818865073947e0850e86c18d0d2415a51,openstack/python-openstackclient,master,,I7b89c4f818865073947e0850e86c18d0d2415a51,Fix router create/show if extraroute not supported,MERGED,2019-12-04 07:24:24.000000000,2020-03-18 10:05:19.000000000,2020-01-07 13:43:15.000000000,19,1,1,697240,509ca3ed36b4ef512a47ff8d39c9df751084015a,24,10,2,2,55,Édouard Thuleau,ethuleau,"Fix router create/show if extraroute not supported

If neutron does not support extraroute l3 extension, the route column
formatter fails.

Change-Id: I7b89c4f818865073947e0850e86c18d0d2415a51
"
openstack%2Fopenstack-ansible-repo_build~master~Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,openstack/openstack-ansible-repo_build,master,,Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,repo_build: update tests to opendev.org,MERGED,2020-03-13 11:48:29.000000000,2020-03-18 10:00:01.000000000,2020-03-16 18:38:43.000000000,4,5,0,712914,fd4b607820d75e439fcf0fc68e370d13b0493752,11,4,1,1,25600,Ebbex,ebbex,"repo_build: update tests to opendev.org

Change-Id: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
"
openstack%2Fopenstack-ansible-os_cloudkitty~master~I64614a02bd3a0d99a69a9c7ac59552ba7cb1fc88,openstack/openstack-ansible-os_cloudkitty,master,memcached-refactor,I64614a02bd3a0d99a69a9c7ac59552ba7cb1fc88,Refactor memcached_servers,MERGED,2020-03-16 13:34:16.000000000,2020-03-18 09:57:51.000000000,2020-03-18 09:56:32.000000000,5,1,0,713232,9988a7573468eab5a6fd5e1e05d240dcc3c0989b,9,4,1,2,28008,Guilherme,guilhermesp,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: I64614a02bd3a0d99a69a9c7ac59552ba7cb1fc88
"
openstack%2Fhorizon~master~I5e9bd183b72f6e539c2a3d3743ff81f968e3216a,openstack/horizon,master,test-groups,I5e9bd183b72f6e539c2a3d3743ff81f968e3216a,Add the unit test for groups,NEW,2019-09-20 06:31:40.000000000,2020-03-18 09:55:13.000000000,,60,0,0,683292,fa7e1f563b5cbd422b228bd7c87ec102550ab072,7,2,3,1,27822,pengyuesheng,pengyuesheng,"Add the unit test for groups

Change-Id: I5e9bd183b72f6e539c2a3d3743ff81f968e3216a
"
openstack%2Fopenstack-ansible-repo_server~stable%2Frocky~Ife4c1ab05e135930da8706d96af5b23648cee800,openstack/openstack-ansible-repo_server,stable/rocky,,Ife4c1ab05e135930da8706d96af5b23648cee800,lsyncd: use relative paths in exclude statement,MERGED,2020-03-11 15:33:39.000000000,2020-03-18 09:52:55.000000000,2020-03-18 09:52:55.000000000,1,1,0,712482,a515cfe13138033ed0f7a442956235e755455f19,8,4,1,1,25600,Ebbex,ebbex,"lsyncd: use relative paths in exclude statement

It seems only relative paths should be used in the exclude
statement. This has probably gone unnoticed since there is a second
sync for these files.

Change-Id: Ife4c1ab05e135930da8706d96af5b23648cee800
"
openstack%2Fopenstack-ansible-repo_build~stable%2Ftrain~Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,openstack/openstack-ansible-repo_build,stable/train,,Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,repo_build: update tests to opendev.org,MERGED,2020-03-16 18:47:35.000000000,2020-03-18 09:50:29.000000000,2020-03-18 09:48:40.000000000,4,5,0,713313,94aa643e7cede5e98813ab68400e8076c356ed1a,8,2,1,1,25600,Ebbex,ebbex,"repo_build: update tests to opendev.org

Change-Id: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
(cherry picked from commit fd4b607820d75e439fcf0fc68e370d13b0493752)
"
openstack%2Fkolla-ansible~stable%2Fstein~I28f63ec81f1ea5bc4a213d053bfb2c04388d5925,openstack/kolla-ansible,stable/stein,bug/1862211-stable/stein,I28f63ec81f1ea5bc4a213d053bfb2c04388d5925,Delete stale fluent config on restart,ABANDONED,2020-03-10 13:01:13.000000000,2020-03-18 09:50:20.000000000,,15,8,0,712067,cddc61fe0367629819992d37f630f05cf8817b23,8,4,1,2,14826,Mark Goddard,mgoddard,"Delete stale fluent config on restart

We already only include .conf files in fluent.conf:

(fluentd)[fluentd@cpu-e-1041 /etc/fluentd]$ cat fluent.conf
@include input/*.conf
@include filter/*.conf
@include format/*.conf
@include output/*.conf

so this change should not cause ill effect. This works because of the
merge option in config files:

merge: merges the source directory into the target directory instead of
replacing it. Boolean, defaults to false.

see https://docs.openstack.org/kolla/latest/admin/kolla_api.html#kolla-api-external-config

Change-Id: I28f63ec81f1ea5bc4a213d053bfb2c04388d5925
Closes-Bug: #1862211
(cherry picked from commit e7870e9df9e416b1b342ad6264bb66378fe62b3f)
"
openstack%2Frpm-packaging~master~Ic4999bf3d8b255bb37811e441fe282da1c96b8ba,openstack/rpm-packaging,master,,Ic4999bf3d8b255bb37811e441fe282da1c96b8ba,oslo.utils: remove reflection tests that are failing with python 3.8,MERGED,2020-03-14 12:42:55.000000000,2020-03-18 09:49:24.000000000,2020-03-16 12:39:27.000000000,2,0,0,713090,b3ad5682bb01498dc5ff3d4e4e4fd0069cbfd5c3,11,6,1,1,6593,Dirk Mueller,dmllr,"oslo.utils: remove reflection tests that are failing with python 3.8

oslo.utils is currently still not reporting green against python 3.8
upstream.

Change-Id: Ic4999bf3d8b255bb37811e441fe282da1c96b8ba
"
openstack%2Faodh~master~Id663a1b0ba796905105f47e192dbfb5cf1f886d6,openstack/aodh,master,zanata/translations,Id663a1b0ba796905105f47e192dbfb5cf1f886d6,Imported Translations from Zanata,MERGED,2020-03-18 06:41:24.000000000,2020-03-18 09:41:38.000000000,2020-03-18 09:39:20.000000000,19,2,0,713578,ed80204406f58d686132f038c3e9ff3484c2c31d,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id663a1b0ba796905105f47e192dbfb5cf1f886d6
"
openstack%2Fpython-magnumclient~master~I3d311f457307a75a3e9167768ae5e0c1d47d9566,openstack/python-magnumclient,master,story/2007437-39089,I3d311f457307a75a3e9167768ae5e0c1d47d9566,Drop py27 tests,MERGED,2020-03-18 00:09:43.000000000,2020-03-18 09:41:20.000000000,2020-03-18 09:37:26.000000000,3,8,0,713555,de2b8e88b0bfb2cfc2d3f7d591d0bfc46a71d76e,11,4,2,3,6484,Feilong Wang,flwang,"Drop py27 tests

Task: 39089
Story: 2007437

Change-Id: I3d311f457307a75a3e9167768ae5e0c1d47d9566
"
openstack%2Fopenstack-ansible~master~Ib06393cb581b2281b17796a76277652fe24fa874,openstack/openstack-ansible,master,zanata/translations,Ib06393cb581b2281b17796a76277652fe24fa874,Imported Translations from Zanata,MERGED,2020-03-18 08:24:05.000000000,2020-03-18 09:39:21.000000000,2020-03-18 09:36:28.000000000,24,26,0,713590,30dd0337e527a1ab655049e1bcbf6bc91d479ad3,7,2,1,4,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib06393cb581b2281b17796a76277652fe24fa874
"
openstack%2Frpm-packaging~master~I8e426b41a16030849e59b20abf2a3c08ff9d6a98,openstack/rpm-packaging,master,update-reqs,I8e426b41a16030849e59b20abf2a3c08ff9d6a98,Remove six from requirements,ABANDONED,2020-03-18 09:35:40.000000000,2020-03-18 09:37:03.000000000,,58,4,0,713596,e0f2b6b48043981200004e69d7cedafca8ca76ab,3,2,1,4,23851,Riccardo Pittau,elfosardo,"Remove six from requirements

The six package is not needed anymore to build/run ironic and
sushy.

Change-Id: I8e426b41a16030849e59b20abf2a3c08ff9d6a98
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If3e3870dd7bd087984e433f7aa832d1bb0ac5b2b,openstack/tripleo-heat-templates,stable/train,fix-undercloud-haproxy-cert-stable/train,If3e3870dd7bd087984e433f7aa832d1bb0ac5b2b,Always set hieradata for certmonger_ca,MERGED,2020-03-15 18:17:44.000000000,2020-03-18 09:34:05.000000000,2020-03-18 09:34:04.000000000,8,7,0,713143,7f8b87a90ad202f7f295196743d4efb7a5fb8f7e,14,5,1,1,9914,Ade Lee,alee,"Always set hieradata for certmonger_ca

In commit 37a339d2b0f0282bf1bac96587b10ca61868cec5 , the hieradata
parameter certmonger_ca was set to only be set when internal_tls was
enabled.

This breaks cert issuance by an non-local certmonger CA when the
issuing the haproxy cert on the undercloud eg. issuing this cert by
IPA, which relies on this hieradata being set.

There is no reason to restrict this data from being set, and doing so
fixes the problem. (rhbz#1793975)

The remaining data should be set only when internal_tls is enabled.
Change-Id: If3e3870dd7bd087984e433f7aa832d1bb0ac5b2b
Fixes-Bug: 1860718
(cherry picked from commit ed7d687398e3befe99d12e7ac432e412104080a6)
"
openstack%2Ftripleo-quickstart~master~I85043263b549f5166daba11d7b1cc24e2e9eced1,openstack/tripleo-quickstart,master,,I85043263b549f5166daba11d7b1cc24e2e9eced1,Add neutron_sec_group_quota.yaml to fs 20 network_isolation_args,ABANDONED,2020-02-27 10:55:34.000000000,2020-03-18 09:31:02.000000000,,3,0,0,710227,e4e80c5f54f45e43810ebae5efeb6264faaa0978,7,9,1,1,8449,Marios Andreou,marios,"Add neutron_sec_group_quota.yaml to fs 20 network_isolation_args

This adds the neutron_sec_group_quota.yaml (from depends-on) to the
network_isolation_args. Adding a new param into the overcloud-deploy
role in t-q-e is an alternative but seems overkill. See related bug
for more information.

Depends-On: https://review.opendev.org/710083
Change-Id: I85043263b549f5166daba11d7b1cc24e2e9eced1
Related-Bug: 1864646
"
openstack%2Fpython-glanceclient~master~Ibf038748df6e037df876c0e65d49aa79031275af,openstack/python-glanceclient,master,fix-irrelevant-files,Ibf038748df6e037df876c0e65d49aa79031275af,Remove .zuul.yaml from the list of irrelevant files,MERGED,2020-03-17 20:05:06.000000000,2020-03-18 09:28:55.000000000,2020-03-18 09:25:47.000000000,0,1,0,713522,b03b29d8b298efc809f24ac8b5d4b6f2b90fba81,8,4,1,1,8122,Cyril Roelandt,cyril.roelandt.enovance,"Remove .zuul.yaml from the list of irrelevant files

Change-Id: Ibf038748df6e037df876c0e65d49aa79031275af
"
openstack%2Fironic-python-agent~master~Ic2f338be075e93a2ce8c76c706d37db9bf8792ea,openstack/ironic-python-agent,master,706667,Ic2f338be075e93a2ce8c76c706d37db9bf8792ea,Rescan devices before performing uefi checks,MERGED,2020-02-08 15:22:29.000000000,2020-03-18 09:27:37.000000000,2020-03-18 09:24:49.000000000,59,17,6,706667,6f1f9c7f6ed55689f5e738e7b6f01a5c789099e5,34,9,5,3,11655,Julia Kreger,jkreger,"Rescan devices before performing uefi checks

With the fix to the uefi code path so secure boot works properly
and is not accidently stomped on, we forgot to rescan the device
and force the partition table to update, which is vital for iscsi
based deploys.

Depends-On: https://review.opendev.org/706960
Change-Id: Ic2f338be075e93a2ce8c76c706d37db9bf8792ea
Story: 2007276
Task: 38713
"
openstack%2Fnova~master~I654526e87afd211746bc110e8005104c6776edc8,openstack/nova,master,generate_glance_url,I654526e87afd211746bc110e8005104c6776edc8,mv generate_glance_url to get_image_endpoint_url,ABANDONED,2017-10-12 07:12:07.000000000,2020-03-18 09:18:33.000000000,,43,29,2,511400,6643224110c66ca1b70a67bf6efeb474cb28c71d,165,22,13,6,6062,jichenjc,jichenjc,"mv generate_glance_url to get_image_endpoint_url

generate_glance_url is confusing, actually it's returning endpoint
url of image service (glance), this patch rename the function
and create a image.api.get_image_endpoint_url function to be used.

Change-Id: I654526e87afd211746bc110e8005104c6776edc8
"
openstack%2Fnova~master~Iccb1535a0be4dbbc6c883336b4254444aa54280e,openstack/nova,master,proxy-bdm,Iccb1535a0be4dbbc6c883336b4254444aa54280e,ironic: Proxy a few attributes of block device mapping,ABANDONED,2018-03-19 03:08:11.000000000,2020-03-18 09:16:42.000000000,,5,6,0,554093,3b32da856ef8fe5329fb7ff0632dcdff12b9fa3c,36,14,3,2,13689,Hironori Shiina,shiina,"ironic: Proxy a few attributes of block device mapping

Ironic virt driver refers to a few attributes of a block device
mapping object directly when passing information for connecting a
volume to ironic.

This patch avoids accessing this internal object in a virt layer
device class by proxying the required attributes.

Change-Id: Iccb1535a0be4dbbc6c883336b4254444aa54280e
"
openstack%2Foctavia-tempest-plugin~master~Ie45fe828cf8098b5d9e453d1fea831578ed635e7,openstack/octavia-tempest-plugin,master,,Ie45fe828cf8098b5d9e453d1fea831578ed635e7,Use TLSv1.2 SSL context for barbican tests,MERGED,2020-01-29 11:56:15.000000000,2020-03-18 09:07:28.000000000,2020-03-18 09:05:47.000000000,3,3,0,704783,eec4229363f489ba9f61783a7d9a7e9ed64aaf8f,23,4,7,1,7249,Ann Taraday,AKamyshnikova,"Use TLSv1.2 SSL context for barbican tests

Required for usage  OSWAP ""B"" default ciphers.

Story: 2006627


Change-Id: Ie45fe828cf8098b5d9e453d1fea831578ed635e7
"
openstack%2Fnova~master~I5d638b3cf077809c997b36b4d0b05610b5b5b89e,openstack/nova,master,bug/1696972,I5d638b3cf077809c997b36b4d0b05610b5b5b89e,Provide a better log when api_servers is unset,ABANDONED,2017-06-09 13:43:30.000000000,2020-03-18 09:04:40.000000000,,15,0,6,472685,698c07a94f1e413d0e68e5bf7d763de461563f29,17,13,2,3,7166,Sylvain Bauza,sbauza,"Provide a better log when api_servers is unset

The config option [glance]/api_servers is by default unset.
That said, when nova is calling glanceclient, it's using that option for
calling the endpoint instead of looking at the service catalog.
While it's fine for operators wanting to use a separate HA round-robin endpoint,
that's providing a NoneError in the stacktrace if the opt is unset.

That change is first verifying the opt, and in case it's still unset, providing
an error log.

Change-Id: I5d638b3cf077809c997b36b4d0b05610b5b5b89e
Related-Bug: #1696972
"
openstack%2Fnova~master~Iebf54d06cb1a2043bf13685c95c2589d35e04b24,openstack/nova,master,bp/multiple-fixed-ips-network-information,Iebf54d06cb1a2043bf13685c95c2589d35e04b24,Add support for multiple fixed-ips in metadata,ABANDONED,2018-07-06 19:20:17.000000000,2020-03-18 09:02:54.000000000,,209,68,27,580742,d5affc8f30e9db37df5776d964008cc10755c6af,58,23,5,5,7156,Mathieu Gagné,mgagne,"Add support for multiple fixed-ips in metadata

Previously, only the first fixed-ip from the first subnet was supported.
This change introduces support for multiple fixed-ips per port.

Metadata and configuration drive will now return a list of all fixed-ips
found on a port instead of the first fixed-ip from the first subnet.

The fixed-ips are now available as a list of objects in
the ""networks[]/ip_addresses"" field.

The ""services"" field will now contain a union of the services
found in all the subnets of all ports.

For backward compatibility, the ""networks[]/ip_address"" and
""networks[]/netmask"" fields will contain information from
the first fixed-ip of the first subnet.

If a previous metadata version is requested:

* The ""networks[]/ip_addresses"" field will not be available.
* The ""services"" field will contain a union of the services
  found in the first subnet of all ports, matching the previous behavior.

Blueprint: multiple-fixed-ips-network-information
Change-Id: Iebf54d06cb1a2043bf13685c95c2589d35e04b24
"
openstack%2Fansible-collections-openstack~master~I2d77c9f7d147900b79a410c17cce197108c0a69b,openstack/ansible-collections-openstack,master,,I2d77c9f7d147900b79a410c17cce197108c0a69b,Update os_client_config to use openstacksdk,MERGED,2020-03-17 16:21:45.000000000,2020-03-18 09:00:22.000000000,2020-03-18 09:00:22.000000000,11,10,0,713480,75cc5012e3c9ddff6e1222c36725a5ea1ca5e505,13,4,3,2,2,Monty Taylor,mordred,"Update os_client_config to use openstacksdk

This never got migrated but should. os-client-config is only
on life support.

Change-Id: I2d77c9f7d147900b79a410c17cce197108c0a69b
"
openstack%2Fnova~master~I6518cbffa2252f0b8e0563806d58f9ff02130f9f,openstack/nova,master,bug/1772928,I6518cbffa2252f0b8e0563806d58f9ff02130f9f,Add data section parameters for mkfs.xfs command,ABANDONED,2018-06-22 07:37:30.000000000,2020-03-18 08:59:25.000000000,,25,15,2,577363,56337eff0442c8e5a5658d76c2b3e3e19dc51d7d,24,13,2,4,26970,Yang Youseok,ileixe,"Add data section parameters for mkfs.xfs command

When formatting regular file using xfs file system, user have to
specify the related options to mark target is regular file.

Interally mkfs.xfs use direct I/O by default and it usually works well
without those parameters. However if host system has different logical
block size from 512 byte (e.g. some nvme disk which has 4096 byte
logical block size), mkfs util failed emitting ioctl error.

Add necessary parameters for the special case. It does not break
any other existed code since size does not matter for other file system
rather than xfs.

Change-Id: I6518cbffa2252f0b8e0563806d58f9ff02130f9f
Closes-Bug: #1772928
"
openstack%2Fosc-lib~master~I9d2b60e1408a71d432350f6486e03c5d4ae20cc3,openstack/osc-lib,master,story/2006052,I9d2b60e1408a71d432350f6486e03c5d4ae20cc3,Add error message when occurrence Forbidden error,MERGED,2019-07-30 03:09:12.000000000,2020-03-18 08:58:37.000000000,2019-08-22 20:53:02.000000000,10,0,0,673389,3c0559def39ff5f04afc4f934bfde44c1e6ea700,13,3,1,1,25564,yanpuqing,ycx,"Add error message when occurrence Forbidden error

When we get Forbidden error of finding resource, the osc just
return none, it causes the openstackclient to report an error
ambiguously.
The patch add an error message when we are not authorized to
find resource.
Task: 34754
Story: 2006052

Change-Id: I9d2b60e1408a71d432350f6486e03c5d4ae20cc3
"
openstack%2Fnova~master~I984f2786b88efba1ac18941570bd1f028b9a62b8,openstack/nova,master,bug/1695744,I984f2786b88efba1ac18941570bd1f028b9a62b8,Ironic: Check a last error of power action,ABANDONED,2017-06-04 14:45:14.000000000,2020-03-18 08:58:16.000000000,,109,25,4,470754,bf17dbbfc09803b8eb4d68f0b48dd675e3a51163,51,18,5,2,13689,Hironori Shiina,shiina,"Ironic: Check a last error of power action

After requesting a power action, Ironic virt driver waits for a target
state of the node to get None, which means the action finishes. The
driver doesn't see a result of the action though the result can be
known by seeing a last error of the node. The last error is set if the
action is failed.

This patch adds a check for a result of power action by reading a last
error field of a node after the action is completed.

Change-Id: I984f2786b88efba1ac18941570bd1f028b9a62b8
Closes-Bug: #1695744
"
openstack%2Fnova~master~I9903cae72efe5cc8f22a47dce9e95c2a04206d2b,openstack/nova,master,bug/1771517,I9903cae72efe5cc8f22a47dce9e95c2a04206d2b,raise exception early,ABANDONED,2018-05-17 06:18:23.000000000,2020-03-18 08:57:36.000000000,,8,6,5,569024,2465f0f5601363004bf67909579fea78425b1edb,49,16,4,2,6062,jichenjc,jichenjc,"raise exception early

nova now needs access to keystone to perform quota When keystone
is not available the nova-api (running in eventlet) tries to
use the endpoints ordered in [keystone]/valid_interfaces,
we did not have access to the internal endpoint which caused this issue.

So instead return a 200 to indicate a success and wait for long
time, we can properly return 500 as it's anyway a connection issue.

There are some concern about whether we should return 500 error,
we should not lie about the result, if it's an internal error,
we should report it instead fake a success and delay the error
occurance as it will eventually be there.

Change-Id: I9903cae72efe5cc8f22a47dce9e95c2a04206d2b
Closes-Bug: 1771517
"
openstack%2Fnova~master~I3807653840c3af5995437b33ed8029f6c7eb0ded,openstack/nova,master,placement-policy,I3807653840c3af5995437b33ed8029f6c7eb0ded,Deprecate rule:context_is_admin,ABANDONED,2018-04-25 21:47:18.000000000,2020-03-18 08:56:51.000000000,,38,16,19,564349,c582f103a8c42ca2fe4e55984a0a3fc34858717a,46,17,4,5,5046,Lance Bragstad,ldbragst,"Deprecate rule:context_is_admin

Nova has a policy rule called `context_is_admin`, which is slightly
confusing and has a specific use case. The summarized flow is as
follows:

  1.) keystoncontext middleware attempts to build a context object
      from the requests environment while in the paste pipeline
  2.) oslo.context pulls headers from the request and passes them
      to the RequestContext constructor, which nova subclasses
  3.) the __init__() of nova's RequestContext passes the context
      to the policy engine and uses the outcome of the enforcers's
      ``authorize`` method to flag if the context ``is_admin`` or
      not using an aliased policy rule called context_is_admin.

This patch deprecates the rule:context_is_admin in favor of checking
the roles passed in from keystonemiddleware and setting ``is_admin``
on the context object to ``True``. This makes it clearer to see that
nova treats roles named `admin` as special and it isolates that logic
to a specific area, instead of relying on the output of a call to
oslo.policy to set is_admin based on an aliased rule.

Change-Id: I3807653840c3af5995437b33ed8029f6c7eb0ded
"
openstack%2Fnova~master~I7ac929e2ff29b0e9213f167d82decf8bb243ca6a,openstack/nova,master,bug/968696,I7ac929e2ff29b0e9213f167d82decf8bb243ca6a,Add scope_types to server policies,ABANDONED,2017-12-05 21:57:40.000000000,2020-03-18 08:56:19.000000000,,183,55,26,525772,fdff19c0fe28ccd80ddcb6ebf3e1d1c6bacbb786,77,22,5,3,5046,Lance Bragstad,ldbragst,"Add scope_types to server policies

This commit uses some functionality introduced in oslo.policy 1.32.0
and adds a new attribute to policies registered in nova.

The ``scope_types`` attribute that is designed to be specified in code
with the default policy definitions, and it's overridable via policy
files supplied by operators. This let's nova developers specify which
APIs are ""system-level"" and which are ""project-level"".

A policy can have two types of scopes, ``project`` and ``system``. A
policy with a scope type of ``project`` means that the operation can
be executed with a project-scoped token, or at the project level. A
policy with a scope type of ``system`` means the operation is executed
at the system level. The server policies, or API, is a good example of
project level scopes, since servers live within a project.

The oslo.policy library has logic to start comparing the scope of the
token used in the request to the scope_types defined by the project.
This should help us get to a better place with RBAC usage in nova and
across OpenStack.

Change-Id: I7ac929e2ff29b0e9213f167d82decf8bb243ca6a
Partial-Bug: 968696
"
openstack%2Fnova~master~Ie286953381801c3516734d7d7cd9e19c603d6834,openstack/nova,master,bp/nested-resource-providers,Ie286953381801c3516734d7d7cd9e19c603d6834,validate provider summary structure,ABANDONED,2018-01-22 17:52:52.000000000,2020-03-18 08:55:07.000000000,,77,7,9,536516,42bcf703687b87abfefb21c05a68a1158bdbc7b7,35,11,5,1,7,Jay Pipes,jaypipes,"validate provider summary structure

Adds a little test helper to validate the tree structure of the resource
providers returned in the allocation candidates' provider_summaries
section.

Adds commented-out assertions for the test methods that are looking at
the returned value from AllocationCandidates.get_by_requests(). Once
trees are accounted for in that method, we should be able to remove the
commented-out assertions.

Change-Id: Ie286953381801c3516734d7d7cd9e19c603d6834
blueprint: nested-resource-providers
"
openstack%2Fnova~master~I59597140ef835b2c297a172bf12cbd2b6be20108,openstack/nova,master,bug/1739545,I59597140ef835b2c297a172bf12cbd2b6be20108,[cellv2] performance issue when querying compute nodes in a cell,ABANDONED,2017-12-21 08:23:28.000000000,2020-03-18 08:47:11.000000000,,19,0,0,529504,f64cf869885a7b5275344cade6829576d4bcc668,27,16,2,2,11672,xhzhf,xhzhf,"[cellv2] performance issue when querying compute nodes in a cell

When executing create instances, Nova scheduler will query compute
nodes in cell including cell0. The patch fix it.
Closes-Bug: #1739545

Change-Id: I59597140ef835b2c297a172bf12cbd2b6be20108
"
openstack%2Ftripleo-ci~master~Ia279fb2cf47ac75a968465c99a30c54ffaff8c83,openstack/tripleo-ci,master,ovb_centos8,Ia279fb2cf47ac75a968465c99a30c54ffaff8c83,WIP Use centos8 built images,ABANDONED,2020-03-04 14:25:04.000000000,2020-03-18 08:33:08.000000000,,6,6,0,711238,b7ecce3c9e13a0332532984ccdd2902addd372ab,13,3,2,3,10969,Shnaidman Sagi (Sergey),sergsh,"WIP Use centos8 built images

Change-Id: Ia279fb2cf47ac75a968465c99a30c54ffaff8c83
"
openstack%2Fnova~master~I59b0f775139ea2d8a8096b99ab770b517607bc18,openstack/nova,master,bug/1738373,I59b0f775139ea2d8a8096b99ab770b517607bc18,compute: Catch binding failed exception while init host,ABANDONED,2017-12-20 07:32:14.000000000,2020-03-18 08:30:16.000000000,,9,3,2,529249,6a054320c06dff2eee223304e40547fb14bae6ad,20,14,2,2,23628,龚肖,pamata,"compute: Catch binding failed exception while init host

While compute starts it will init all instances, if a
NovaException is raised from one instance during plug_vifs,
then the compute process exits unexpectedly because of this
unhandled exception.
This commit catches the NovaException during init host,
and adds exception info to the instance as fault message.
With this change the compute process can be started normally
even if this NovaException is raised.

Change-Id: I59b0f775139ea2d8a8096b99ab770b517607bc18
Closes-Bug: #1738373
"
openstack%2Fopenstack-helm~master~Iefa0caffc36eaa8531e8b2b21954adfa316cba40,openstack/openstack-helm,master,dnm/test-685723,Iefa0caffc36eaa8531e8b2b21954adfa316cba40,[DNM] Testing OSH-infra netpol,ABANDONED,2020-03-11 19:21:11.000000000,2020-03-18 08:25:06.000000000,,22,22,0,712542,71e28bc060b63501aa75877c64fa072ebd98cffd,11,2,4,1,20466,Tin Lam,tinlam,"[DNM] Testing OSH-infra netpol

Depends-On: https://review.opendev.org/#/c/685723/

Change-Id: Iefa0caffc36eaa8531e8b2b21954adfa316cba40
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fkeystone~master~I5a303a427002827667a9420077f7965e4e1ecb4c,openstack/keystone,master,bug/1654084,I5a303a427002827667a9420077f7965e4e1ecb4c,Filtering invalid resources should return 400 Bad Request,ABANDONED,2017-01-06 08:41:17.000000000,2020-03-18 08:24:22.000000000,,85,41,25,417315,a57b005435eb25aed13ed9ddec276b0ebfc4f413,31,4,5,5,20466,Tin Lam,tinlam,"Filtering invalid resources should return 400 Bad Request

Currently, applying a filter on invalid resources on get/list
API call is ignored.  The API should return a 400 Bad Request
response to the client letting it know something is not correct
with the query.

Change-Id: I5a303a427002827667a9420077f7965e4e1ecb4c
Closes-Bug: #1654084
"
openstack%2Fglance~master~I2ef8c62d3007420b0adcb7c42373919d0f14dd0b,openstack/glance,master,bug/968696,I2ef8c62d3007420b0adcb7c42373919d0f14dd0b,Deprecate admin_role setting in config,ABANDONED,2017-05-17 17:21:47.000000000,2020-03-18 08:24:14.000000000,,16,36,8,465679,670b94131c4a3da9d99a90f5fecf91705d6da378,22,5,5,3,20466,Tin Lam,tinlam,"Deprecate admin_role setting in config

Currently, glance allows operator to define ``admin`` role in the configuration
file [0].  The admin-ness of the role should be performed by policy, rather
than having each service redefining these roles.  This allows for easier
policy management across all services.  This should address the comments
in [1].

[0] https://github.com/openstack/glance/blob/master/etc/glance-api.conf#L28-L42
[1] https://review.openstack.org/#/c/384655/

Change-Id: I2ef8c62d3007420b0adcb7c42373919d0f14dd0b
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fnova~master~I329de24e9e25b12b766b99b60b88ca6ec38e08db,openstack/nova,master,bug/1612529,I329de24e9e25b12b766b99b60b88ca6ec38e08db,[network] nova with neutron can not inject ip address to vm,ABANDONED,2016-08-12 09:42:18.000000000,2020-03-18 08:21:28.000000000,,82,5,2,354616,ad784de749188df4c3b0774fbbb72c90a9d55a91,54,21,5,2,11672,xhzhf,xhzhf,"[network] nova with neutron can not inject ip address to vm

With neutron, Although the subnet is not dhcp,
we can not inject netconfig to guestos.
Closes-Bug: #1612529

Change-Id: I329de24e9e25b12b766b99b60b88ca6ec38e08db
"
openstack%2Fneutron~master~I277ae029b589678eddca239287f3e0aee3d18d7d,openstack/neutron,master,bug/1863852,I277ae029b589678eddca239287f3e0aee3d18d7d,[OVN] Make QoS policy which has multi-rules work,ABANDONED,2020-02-19 09:18:18.000000000,2020-03-18 08:14:26.000000000,,39,39,22,708586,7aa422d7c1ca08257ab247b5a509ce5b0c47dd8a,44,7,5,3,29874,Taoyunxiang,Yunxiang,"[OVN] Make QoS policy which has multi-rules work

Currently,the networking-ovn doesn't consider such QoS policy,
which has both ingress and egress rules. So when we apply such policy
to port or network, only one of them will works.
We need a list for qos_options which contains dics, not only a dic.

Change-Id: I277ae029b589678eddca239287f3e0aee3d18d7d
Closes-Bug: #1863852
"
openstack%2Fnova~master~I821d9aecba3311819568b54c74427ab1bd4235e0,openstack/nova,master,enhance_doc_resize,I821d9aecba3311819568b54c74427ab1bd4235e0,Add description for resize down support,ABANDONED,2017-10-31 09:46:02.000000000,2020-03-18 08:13:26.000000000,,9,5,2,516572,ca1241e2260f5df4b8a7d8ac0993a3f4ec2dd15c,17,10,2,2,6062,jichenjc,jichenjc,"Add description for resize down support

The resize down is not supported by all virt drivers, this doc
added some description in the support matrix about that info.

Change-Id: I821d9aecba3311819568b54c74427ab1bd4235e0
"
openstack%2Fnova~master~Ia5bb0f8314318c89bcc71a3c84c2bd6d2ef3fe06,openstack/nova,master,block_device_funcs,Ia5bb0f8314318c89bcc71a3c84c2bd6d2ef3fe06,Remove driver.block_device.get_swap,ABANDONED,2017-10-11 12:32:13.000000000,2020-03-18 08:12:50.000000000,,5,28,1,511218,d20041590351840425390b69f681471b943b3ed5,24,13,1,3,9555,Matthew Booth,MatthewBooth,"Remove driver.block_device.get_swap

It only had a single caller, and was more complicated that it needed
to be. It's much more readable inline.

Change-Id: Ia5bb0f8314318c89bcc71a3c84c2bd6d2ef3fe06
"
openstack%2Ftripleo-common~master~Ied90551ab17648553c0c4e9c8a34eb1f91b4e91b,openstack/tripleo-common,master,bug/1861052,Ied90551ab17648553c0c4e9c8a34eb1f91b4e91b,Support baremetal 'extra' property for node and port,ABANDONED,2020-01-28 00:29:39.000000000,2020-03-18 08:11:13.000000000,,124,14,3,704475,8a00ffa9117f546072464cf8b7650239d81f1513,29,4,6,3,24245,Harald Jensås,harald.jensas,"Support baremetal 'extra' property for node and port

Add support for the extra field in nodes_json node and
port objects. The extra field can hold a set of one or
more arbitrary metadata key and value pairs.

Closes-Bug: #1861052
Change-Id: Ied90551ab17648553c0c4e9c8a34eb1f91b4e91b
"
openstack%2Fnova~master~Ib8f5e87fe36a2a6e91ba767270b2a0ccde41f8a9,openstack/nova,master,bug/1719362,Ib8f5e87fe36a2a6e91ba767270b2a0ccde41f8a9,Remove unused block_migration argument to _live_migration_operation,ABANDONED,2017-11-01 15:12:59.000000000,2020-03-18 08:07:52.000000000,,13,18,1,517007,2f42944da6ccb24ba1493dc743613c3660f60a01,19,15,1,2,9555,Matthew Booth,MatthewBooth,"Remove unused block_migration argument to _live_migration_operation

Change-Id: Ib8f5e87fe36a2a6e91ba767270b2a0ccde41f8a9
"
openstack%2Fnova~master~I0094bb6a5a3933e8211c7ef8ec4304453853f365,openstack/nova,master,bug/1686380,I0094bb6a5a3933e8211c7ef8ec4304453853f365,[BugFix] Include the video ram when comparing the difference of two flavors,ABANDONED,2017-04-27 04:18:02.000000000,2020-03-18 08:05:35.000000000,,24,3,0,460388,5bf934eb85224066062676de0f9603365f30d68e,114,20,10,2,24562,falseuser,falseuser,"[BugFix] Include the video ram when comparing the difference of two flavors

When resize an instance, need to compare the difference between the two flavors.
if not included in the flavor of the video ram differences,
will lead to quota usage is not correct, when resize finished

Change-Id: I0094bb6a5a3933e8211c7ef8ec4304453853f365
Closes-Bug: #1686380
"
openstack%2Fnova~master~I94e44434129cef598b0fdf1613e79d4abd359fa6,openstack/nova,master,bug/1689289,I94e44434129cef598b0fdf1613e79d4abd359fa6,[BugFix] Change the condition to delete a resizing instance,ABANDONED,2017-05-09 05:41:08.000000000,2020-03-18 08:04:46.000000000,,8,3,3,463466,e610961253a1b09e74f9b4fea46f15a6376f6054,90,20,7,2,24562,falseuser,falseuser,"[BugFix] Change the condition to delete a resizing instance

When an instance task state is RESIZE_MIGRATED or RESIZE_FINISH,
delete the instance will hint an error, when task state is
RESIZE_MIGRATED, instance has no attribute old_flavor, and the
vram_mb should be int.

Change-Id: I94e44434129cef598b0fdf1613e79d4abd359fa6
Closes-Bug: #1689289
"
openstack%2Fnova~master~Ia5c3892bea8490774bd24a07ef9e2d7e7321b0f4,openstack/nova,master,bug/1532750,Ia5c3892bea8490774bd24a07ef9e2d7e7321b0f4,VMware: Check if network is ready on cluster host,ABANDONED,2017-05-24 11:12:04.000000000,2020-03-18 07:54:22.000000000,,126,132,6,467589,a6976b580a1deb556a973c46867504acd0cb841e,44,15,4,4,11159,Hong Hui Xiao,HongHuiXiao,"VMware: Check if network is ready on cluster host

For the case in reported bug, check if network is ready
on cluster hosts to avoid the issue.

New apis in oslo.vmware are used, and some ut are modified
accordingly.

Change-Id: Ia5c3892bea8490774bd24a07ef9e2d7e7321b0f4
Close-Bug: #Bug1532750
"
openstack%2Fvalidations-common~master~I95d8ddf3b6746d74d98340132b57d5f25d5450c8,openstack/validations-common,master,,I95d8ddf3b6746d74d98340132b57d5f25d5450c8,Remove mock as a test requirement and add PyYAML as requirement.,MERGED,2020-03-17 10:21:17.000000000,2020-03-18 07:54:12.000000000,2020-03-18 07:52:54.000000000,3,3,0,713398,c7d577790f72350b5da4e25cb8a86717ec6b7562,8,3,1,3,11491,Gael Chamoulaud,gchamoul,"Remove mock as a test requirement and add PyYAML as requirement.

Now that we have moved to py36 and later runtimes, we no longer
need to use the third party mock library and can only use the standard
library unittest.mock instead.

Change-Id: I95d8ddf3b6746d74d98340132b57d5f25d5450c8
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
"
openstack%2Fnova~master~I9cc03f7961a79fa0d544c04d0cdde4387908067a,openstack/nova,master,bug/1641523,I9cc03f7961a79fa0d544c04d0cdde4387908067a,Improve the readability of check_instance_state,ABANDONED,2017-03-02 13:04:25.000000000,2020-03-18 07:53:21.000000000,,45,26,11,440536,fbf5972645cf7730e25a7c1410a22961e2b6b595,40,19,2,1,9555,Matthew Booth,MatthewBooth,"Improve the readability of check_instance_state

This (mostly: see bugfix description below) non-functional change
tweaks check_instance_state in compute api for readability. The
function can check vm_state, task_state, and launched_at. It was my
original intention to make the function check nothing which wasn't
explicitly specified, but on reflection I've chosen to tweak the
defaults slightly to be safer and represent most cases. The new
behaviour is:

  * If a vm_state check is specified, we default to checking
    task_state is not set.
  * If no vm_state check is specified, we default to not checking
    task_state at all.

The major readability change is to remove explicit uses of
vm_state=None and task_state=None by callers, as these look
confusingly like assertions that vm_state and task_state respectively
are not set, whereas they are actually disabling the tests.

This readability issue seems to have resulted in bugs in force_delete,
delete_instance_metadata, and update_instance_metadata. force_delete
did not intend to check either vm_state or task_state, but was in fact
using the default behaviour of asserting that there was no task_state.
I have documented but not addressed this, as a fix seems to be
underway in bug 1641523.

delete_instance_metadata and update_instance_metadata seem to have
intended to assert that there was no task state, but by specifying
task_state=None actually disabled the test. This bug seems to have
been introduced with the original check in change I70212879. I have
fixed it here as it is trivial.

Related-Bug: #1641523
Closes-Bug: #1669400
Change-Id: I9cc03f7961a79fa0d544c04d0cdde4387908067a
"
openstack%2Fnova~master~I1195e33e6dc4deca4666c52ebb31ded137034f36,openstack/nova,master,fira,I1195e33e6dc4deca4666c52ebb31ded137034f36,VMware: retry network lookup if network not ready,ABANDONED,2016-10-31 10:25:32.000000000,2020-03-18 07:52:41.000000000,,42,1,0,391778,7d587267b0f0c21e5c0a3dfa71f46f36ace5771e,131,15,10,3,1653,garyk,garyk,"VMware: retry network lookup if network not ready

Under load there are edge cases when a network created in the VC
is not ready on the ESX(s). In the event that this happens we do a
retry for the network lookup.

This enables the VC to configure the ESX's.

Change-Id: I1195e33e6dc4deca4666c52ebb31ded137034f36
Closes-bug: #1637970
"
openstack%2Fnova~master~Id85f7a02df7d8f0ae54ae2e5a41a5c05867602e9,openstack/nova,master,imagecache_info_files,Id85f7a02df7d8f0ae54ae2e5a41a5c05867602e9,libvirt: Remove more imagecache info file code,ABANDONED,2017-01-20 17:49:53.000000000,2020-03-18 07:51:21.000000000,,23,74,5,423392,538e03c477ba913578ec43b207eacdbccf51b137,21,15,2,2,9555,Matthew Booth,MatthewBooth,"libvirt: Remove more imagecache info file code

Change I3d841178 removed the code which generated imagecache .info
files in Newton, but as Newton compute node may be on shared storage
with a Mitaka compute node, it could not entirely remove all handling.
This change continues that removal process for Ocata, so that it can
be eventually be entirely removed in Pike.

Change-Id: Id85f7a02df7d8f0ae54ae2e5a41a5c05867602e9
"
openstack%2Fnova~master~Id2c58de87c078fdca75af44815b8c95335759cde,openstack/nova,master,bug/1587285,Id2c58de87c078fdca75af44815b8c95335759cde,Add checks for preventing unexpected detaching volume,ABANDONED,2016-08-12 09:42:26.000000000,2020-03-18 07:50:15.000000000,,553,31,81,354617,d52083da0c66f03d504c466fb44308026b1f0c45,188,22,12,9,8988,Rikimaru Honjo,rikimaru.honjo,"Add checks for preventing unexpected detaching volume

If attaching volume is failed, sometimes unexpected volume detaching will
happen in deleting instance.
Unexpected detaching volume will change volume status to ""available""
even if the volume is still attached to other instances.
This patch add checks for detaching in processing of deleting instance.

Processing branches of added checks are following:

* Attaching volume was completed:
    - Do terminate-connection and detach.
* Attaching volume was failed, and the volume hasn't been attached to
  other instances:
    - Do terminate-connection and detach.
* Attaching volume was failed, and the volume has been attached to other
  instances that is launched on other hosts:
    - Do terminate-connection.
* Attaching volume was failed, and the volume has been attached to other
  instances that is launched on a same host:
    - Do nothing.

Change-Id: Id2c58de87c078fdca75af44815b8c95335759cde
Closes-Bug: #1587285
"
openstack%2Fvalidations-libs~master~I169036ef7556e7d259c0b84dd357eba7230d9313,openstack/validations-libs,master,clean/utils/function,I169036ef7556e7d259c0b84dd357eba7230d9313,Remove unused classes for PushD and Tempdir,MERGED,2020-03-17 15:11:04.000000000,2020-03-18 07:40:50.000000000,2020-03-18 07:40:50.000000000,6,103,0,713465,132735a697328f8e44aaa28cef77c6b088dca3c2,7,3,1,1,16515,mbu,matbu,"Remove unused classes for PushD and Tempdir

Change-Id: I169036ef7556e7d259c0b84dd357eba7230d9313
"
openstack%2Fcharm-masakari~master~I71fd19f6c15c9c39ad1ef1a54015e798cbd31d26,openstack/charm-masakari,master,increase-evacuation-delay,I71fd19f6c15c9c39ad1ef1a54015e798cbd31d26,Increase evacuation-delay,MERGED,2020-03-17 19:43:46.000000000,2020-03-18 07:31:44.000000000,2020-03-18 07:31:43.000000000,1,1,0,713520,48c5d711849c6416e452af4097f33edab70206d9,12,4,1,1,12549,gnuoy,gnuoy,"Increase evacuation-delay

The evacuation-delay controls how long masakari waits before issuing
an evacuaion after marking a compute node offline. If this is too
low then the evacuation is issued before the offling message has
propagated and the evacuation fails with a ""Instance compute service
state on X expected to be down, but it was up."". The current default
value of 30s is too low and can causes evacuations to fail.

Change-Id: I71fd19f6c15c9c39ad1ef1a54015e798cbd31d26
"
openstack%2Fpaunch~stable%2Ftrain~I615c798bdbcc0115f0ca9642969193ceada9b9cd,openstack/paunch,stable/train,bug/1867357-stable/train,I615c798bdbcc0115f0ca9642969193ceada9b9cd,Don't set cpuset_cpus if empty,MERGED,2020-03-14 14:52:12.000000000,2020-03-18 07:19:17.000000000,2020-03-18 07:16:05.000000000,3,2,0,713095,37ac1e99a68e9f47c099effa0b6c0bc95d5cfecc,19,4,1,3,3153,Emilien Macchi,emilienm,"Don't set cpuset_cpus if empty

If cpuset_cpus is set to '', we don't want to configure it, just skip
it.

Closes-Bug: #1867357
Change-Id: I615c798bdbcc0115f0ca9642969193ceada9b9cd
(cherry picked from commit 7bb9471423a350f0b1a60f67cf3eb41abaaba329)
"
openstack%2Ftripleo-ci~master~Ic03f70f333d92b5abb3424892b342e04b94a24ea,openstack/tripleo-ci,master,upgrades-not-master,Ic03f70f333d92b5abb3424892b342e04b94a24ea,Only run upgrades centos 7 jobs on stable branches,MERGED,2020-03-16 15:59:27.000000000,2020-03-18 07:16:04.000000000,2020-03-18 07:16:04.000000000,5,13,4,713277,e4d0cc98726ddf0263730e7d93bda48675c92941,24,7,4,2,9976,Ronelle Landy,rlandy,"Only run upgrades centos 7 jobs on stable branches

Upgrades jobs running on centos 7 are not supported
for ussuri - which is built on centos 8.

Donot run c8 s7 job on rocky also.

Change-Id: Ic03f70f333d92b5abb3424892b342e04b94a24ea
"
openstack%2Fansible-hardening~master~I14412e23059fd6f1f3e6550f382267dd8e6ce632,openstack/ansible-hardening,master,,I14412e23059fd6f1f3e6550f382267dd8e6ce632,Update to opendev,ABANDONED,2019-04-23 01:54:07.000000000,2020-03-18 07:12:57.000000000,,5,5,0,654666,4c53c60a73b8c190a564c9f9f9da3a47eccc78ec,8,3,3,5,26584,hou le,houl7,"Update to opendev

Change-Id: I14412e23059fd6f1f3e6550f382267dd8e6ce632
"
openstack%2Ftripleo-common~master~I5db307f7bfe5acc9b1bf092f3faafced7ab435d1,openstack/tripleo-common,master,update_links,I5db307f7bfe5acc9b1bf092f3faafced7ab435d1,Update links,ABANDONED,2019-04-22 10:40:15.000000000,2020-03-18 07:12:45.000000000,,4,4,0,654418,61b6c38864cf8d4aa2c2e0f09c3aacc2a3e3d4f6,7,4,1,3,26584,hou le,houl7,"Update links

try to use opendev links

Change-Id: I5db307f7bfe5acc9b1bf092f3faafced7ab435d1
"
openstack%2Ftripleo-common~stable%2Ftrain~I4e14a49c428b8b7530f49218b413c795e777851b,openstack/tripleo-common,stable/train,c8imagebuild-stable/train,I4e14a49c428b8b7530f49218b413c795e777851b,Add overcloud-ceph image build yaml,MERGED,2020-03-10 21:59:57.000000000,2020-03-18 07:02:26.000000000,2020-03-18 06:57:15.000000000,60,0,0,712186,bd81d3b6898b65068b2993b8afa9b1868771e002,16,3,2,4,14985,Alex Schultz,mwhahaha,"Add overcloud-ceph image build yaml

Added image yaml config files to build an overcloud-ceph image that does
not have the HA, openvswitch or openstack client related packages
installed by default. This image is useful for dedicated ceph nodes that
do not have any openstack related services on them.

Change-Id: I4e14a49c428b8b7530f49218b413c795e777851b
(cherry picked from commit 5877ef54d3c3a2392297123a70cbf4a03f93e977)
"
openstack%2Ftripleo-common~stable%2Ftrain~Id290fde071a1f3bb19cdd2e58a63961b9d99dcb1,openstack/tripleo-common,stable/train,c8imagebuild-stable/train,Id290fde071a1f3bb19cdd2e58a63961b9d99dcb1,Added overcloud images yaml for CentOS-8,MERGED,2020-02-28 14:43:12.000000000,2020-03-18 07:00:32.000000000,2020-03-18 06:56:30.000000000,28,0,0,710456,194c802504012cc98d3d796c6c3d4c83637fd233,45,5,2,2,14985,Alex Schultz,mwhahaha,"Added overcloud images yaml for CentOS-8

It is needed for overcloud build images jobs.

Change-Id: Id290fde071a1f3bb19cdd2e58a63961b9d99dcb1
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
(cherry picked from commit ff1d0f4b0bfc641887ebdb9fc6ed4604b07d991e)
"
openstack%2Fpython-tripleoclient~master~I3f2cfd57cfc9193ad9741b4dfc6e7c7a007f4a17,openstack/python-tripleoclient,master,,I3f2cfd57cfc9193ad9741b4dfc6e7c7a007f4a17,Update help output,MERGED,2020-03-16 20:49:47.000000000,2020-03-18 06:59:12.000000000,2020-03-18 06:57:16.000000000,2,2,1,713328,a6fdd93d4eeb0e1494fe4124293c8a2667cdb54a,9,4,1,1,7353,Kevin Carter,cloudnull,"Update help output

The help output for the `overcloud node provision` command was missing
some spacing which combined text. This trivial change adds spaces so
the text is easier to read.

Change-Id: I3f2cfd57cfc9193ad9741b4dfc6e7c7a007f4a17
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Id369154d147cd5cf0a6f997bf806084fc7580e01,openstack/tripleo-heat-templates,stable/stein,,Id369154d147cd5cf0a6f997bf806084fc7580e01,HA: minor update of arbitrary container image name,MERGED,2020-03-17 11:26:48.000000000,2020-03-18 06:58:38.000000000,2020-03-18 06:56:37.000000000,192,60,0,713406,f366adbd151193ba524d70c4f904be35f1d048a0,12,5,1,11,8297,Sofer Athlan-Guyot,chem,"HA: minor update of arbitrary container image name

HA services get their container image name from a pacemaker
resource configuration. This image name is shared between
all cluster nodes.

To achieve image update without service disruption, a pacemaker
resource is configured to use an intermediate image name
""<registry>/<namespace>/<servicename>:pcmklatest"" pointing to
the real image name configured in Heat. This tag can then be
updated independently on every node during the minor update.

In order to support the same rolling update when the <namespace>
changes in the container image, we need a similar floating
approach for the prefix part of the container image.

Introduce a new Heat parameter ClusterCommonTag that, when enabled,
sets the intermediate image name to
""cluster-common-tag/<servicename>:pcmklatest"". By default, this
parameter is disabled and the original naming scheme is conserved.

Note: by introducing this new naming scheme, we stop seeing a
meaningful image name prefix when doing a ""pcs status"", but since
we already can't tell what image ID the :pcmklatest tag points to,
we don't lose much information really.

Related-Bug: #1854730

Change-Id: Id369154d147cd5cf0a6f997bf806084fc7580e01
(cherry picked from commit a166ec6bcaae078a4f7ed91feb8e431fe031e0cb)
(cherry picked from commit 44b6e6b8520bc9660dd1c6ac44d91523c7c7c84a)
"
openstack%2Ftripleo-heat-templates~master~I66e88f018fbef355ff9cc1feea2b15f2b00cefaa,openstack/tripleo-heat-templates,master,,I66e88f018fbef355ff9cc1feea2b15f2b00cefaa,Remove unused config dir for OVN metadata-agent,MERGED,2020-03-17 17:03:22.000000000,2020-03-18 06:56:34.000000000,2020-03-18 06:56:34.000000000,1,1,0,713487,2168544200e04fc4db5161764007cb440a8fe9a5,8,4,1,1,23804,Daniel Alvarez,dalvarez,"Remove unused config dir for OVN metadata-agent

This patch is removing a config dir from the command line to the OVN
metadata agent. This directory is empty so can be removed as no config
will be loaded from it.

Change-Id: I66e88f018fbef355ff9cc1feea2b15f2b00cefaa
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1efae031d3e4250bf7e832be488b59957cef08e5,openstack/tripleo-heat-templates,stable/train,ffwd-upgrade2-stable/train,I1efae031d3e4250bf7e832be488b59957cef08e5,"Use a smaller,static custom mapping file for Mistral and TripleO",MERGED,2020-03-13 14:58:37.000000000,2020-03-18 06:56:32.000000000,2020-03-18 06:56:32.000000000,384,2,0,712964,393b3b16d1d36f3a020d25617699bfeece76e387,15,8,2,2,6816,Jesse Pretorius,jesse-pretorius,"Use a smaller,static custom mapping file for Mistral and TripleO

This will avoid Mistral trying to load actions for services that we
don't use in any of the Mistral workbooks.

Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
Change-Id: I1efae031d3e4250bf7e832be488b59957cef08e5
(cherry picked from commit 2a3a6955497f9d3053bb243ce25c7d0995e10664)
"
openstack%2Ftripleo-heat-templates~master~I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744,openstack/tripleo-heat-templates,master,bug/1860638,I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744,Fix the mounting issues for the TLS everywhere deployment,MERGED,2020-01-23 09:46:50.000000000,2020-03-18 06:56:29.000000000,2020-03-18 06:56:28.000000000,11,22,6,703953,c155ea701efced6fbd3384989bc2bceb3349fc26,91,17,9,4,30921,Abdallah Yasin,abdallahyas,"Fix the mounting issues for the TLS everywhere deployment

This patch adds the CRL directory to the haproxy in case of TLS
everywhere deployment, it also removes the duplicated CA file
from the haproxy and rabbitmq containers.

Depends-On: I836ab1a23c8aea35c0cea54d0765c7313a4b9038
Closes-Bug: #1860638
Closes-Bug: #1860641

Change-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I836ab1a23c8aea35c0cea54d0765c7313a4b9038,openstack/tripleo-heat-templates,stable/train,lp/1861035,I836ab1a23c8aea35c0cea54d0765c7313a4b9038,Generate /etc/hosts early on both under and overcloud,MERGED,2020-03-12 07:12:48.000000000,2020-03-18 06:56:27.000000000,2020-03-18 06:56:27.000000000,8,11,0,712619,8b8194b17145cdf62b5f34ad20bfd5dd359e77bc,34,10,5,1,28223,Cedric Jeanneret,cjeanner,"Generate /etc/hosts early on both under and overcloud

Prior to this patch, the /etc/hosts was generated only on the overcloud
nodes, leading to some issues when it comes to TLS-Everywhere, as raised
in associated bug.

Change-Id: I836ab1a23c8aea35c0cea54d0765c7313a4b9038
Closes-Bug: 1861782
(cherry picked from commit 96c40f89beb80de611a4ea75f28b8b43007d0ac6)
"
openstack%2Fironic~master~I0594c2cf7ed8f57323dfdf0dfdbbb20516d627bd,openstack/ironic,master,iscsi,I0594c2cf7ed8f57323dfdf0dfdbbb20516d627bd,Refactoring: move iSCSI deploy code to iscsi_deploy.py,MERGED,2020-02-19 17:11:09.000000000,2020-03-18 06:56:04.000000000,2020-03-17 22:25:46.000000000,838,862,2,708697,fb79ea2c4018ea190ee5202cb45221868ee8e31c,22,6,3,4,10239,Dmitry Tantsur,dtantsur,"Refactoring: move iSCSI deploy code to iscsi_deploy.py

The deploy_utils module is for code that is shared between all deploy
methods, but these functions are specific to iSCSI deploy.

Change-Id: I0594c2cf7ed8f57323dfdf0dfdbbb20516d627bd
"
openstack%2Fproject-config~master~Ia28192747a9ebeba7ef7f9e04237a11cecc5032b,openstack/project-config,master,devstack-in-zuulv3,Ia28192747a9ebeba7ef7f9e04237a11cecc5032b,vexxhost: add openstack/openstack-zuul-jobs,MERGED,2020-03-18 01:20:34.000000000,2020-03-18 06:53:42.000000000,2020-03-18 06:53:42.000000000,1,0,0,713561,57912b10c37365b367a040a04be29c404b286393,7,3,1,1,1004,Mohammed Naser,mnaser,"vexxhost: add openstack/openstack-zuul-jobs

There are a few roles which are used by devstack which are in
that repository so we need to add it.

Change-Id: Ia28192747a9ebeba7ef7f9e04237a11cecc5032b
"
openstack%2Ftripleo-quickstart~master~Iffaa46069b81036bc3b59e80c39fb6d6129ea55c,openstack/tripleo-quickstart,master,reproducer-dlrn-hash-tag-newest,Iffaa46069b81036bc3b59e80c39fb6d6129ea55c,Update get-dlrn-hash-newest to work with aggregate hashes,MERGED,2020-03-16 21:45:37.000000000,2020-03-18 06:52:28.000000000,2020-03-18 06:50:22.000000000,33,3,1,713333,9f0b069ba6f02ac181dbf6140943e7bf2fe69967,22,8,1,1,9976,Ronelle Landy,rlandy,"Update get-dlrn-hash-newest to work with aggregate hashes

DLRN used by CentOS 8 jobs builds components. Each job
using current-tripleo needs to refer to an aggregate hash -
which references the components, rather than a single
hash.

Commit 6eea60075d0fe91bd97cb10960dc49a26ccbe4f3 added a similar
change for get-dlrn-hash.yml.

Change-Id: Iffaa46069b81036bc3b59e80c39fb6d6129ea55c
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I50270b65f0053ce8aa47cb469e93a38a30bcf4d3,openstack/tripleo-upgrade,stable/train,ffwd-upgrade2-stable/train,I50270b65f0053ce8aa47cb469e93a38a30bcf4d3,Pin API microversions depending on upgrade type,MERGED,2020-03-16 18:09:10.000000000,2020-03-18 06:48:34.000000000,2020-03-18 06:48:34.000000000,10,1,0,713308,32119af80e2d41070e4adee8cd09b866bd18d03a,11,3,2,1,6816,Jesse Pretorius,jesse-pretorius,"Pin API microversions depending on upgrade type

When we do a FFU upgrade, we need to pin to use a
different set of API microversions than if we do
a standard major upgrade.

This implements a different pin depending on the
action.

Backport note:
The Train pins for upgrades has been adjusted to
be Stein pins instead.

Change-Id: I50270b65f0053ce8aa47cb469e93a38a30bcf4d3
(cherry picked from commit 2af1a865918c8288ed1ab1f2ab9ce8c25990a7a3)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ifb1923bff9a344985b3e4de04ade4abd4916d2d6,openstack/tripleo-heat-templates,stable/train,,Ifb1923bff9a344985b3e4de04ade4abd4916d2d6,Add STF environment,MERGED,2020-03-16 23:55:40.000000000,2020-03-18 06:37:18.000000000,2020-03-18 06:37:18.000000000,96,4,0,713348,dbda4625678581996d25effba4ad8e6f59b774c0,19,7,2,4,30357,Ryan McCabe,rmccabe,"Add STF environment

Add yaml to enable the STF client side. The only manual configuration
necessary should be pointing the host to the STF server.

Remove tcpconns from the collectd default plugin list, as
there are no users of it, and it should not be in the default
plugin list when STF is enabled.

More discussion about settings at
https://github.com/infrawatch/telemetry-framework/pull/100

Note about the plugins:

- virt plugin is already automatically loaded on each role where
  nova-compute is deployed. The hieradata is always set in
  eployment/metrics/collectd-container-puppet but it's fine because the
  plugin isn't always enabled. No need to add extra complexity with
  parameters.
- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are
  automatically loaded if STF is enabled.

Related: https://review.opendev.org/#/c/710376/

Signed-off-by: Ryan McCabe <rmccabe@redhat.com>
Signed-off-by: pleimer <pfbleimer@gmail.com>
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
Co-Authored-By: Emilien Macchi <emilien@redhat.com>

Change-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6
(cherry picked from commit 3790c804a70081227f03f704bc160947a0b21fdb)
"
openstack%2Fzaqar-tempest-plugin~master~Ic5b9cd9a2795c9c915cfc0554880718e2733fed1,openstack/zaqar-tempest-plugin,master,bug/1863560,Ic5b9cd9a2795c9c915cfc0554880718e2733fed1,Fix bug 1863560,MERGED,2020-03-18 06:20:51.000000000,2020-03-18 06:33:30.000000000,2020-03-18 06:33:30.000000000,3,0,0,713574,f2dd398a1bef5e57df25b31373db8bf26ffd9d0d,7,2,2,1,8846,Hao Wang,sxmatch,"Fix bug 1863560

Closes-Bug: #1863560
Change-Id: Ic5b9cd9a2795c9c915cfc0554880718e2733fed1
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I3b669665548668423d4ce7e34262c12903fba522,openstack/tripleo-heat-templates,stable/stein,nfv/stein,I3b669665548668423d4ce7e34262c12903fba522,[TRAIN and before] Introduce ContainerCpusetCpus,MERGED,2020-03-14 14:52:43.000000000,2020-03-18 06:28:13.000000000,2020-03-18 06:26:20.000000000,15,1,0,713096,32aee76474bd937157377a1b44399508bbbeea0e,22,5,2,2,3153,Emilien Macchi,emilienm,"[TRAIN and before] Introduce ContainerCpusetCpus

Add a role specific parameter, ContainerCpusetCpus, default to 'all', which
allows to limit the specific CPUs or cores a container can use.
To disable it and rely on container engine default, set it to ''.

Change-Id: I3b669665548668423d4ce7e34262c12903fba522
Related-Bug: #1867357
(cherry picked from commit 85850d8af240722facdf59eea79f2523057d1e8a)
"
openstack%2Frpm-packaging~stable%2Ftrain~I74bedd83d02ff27b02b0e0d9b7143db13ceed496,openstack/rpm-packaging,stable/train,remove-python2-stable/train,I74bedd83d02ff27b02b0e0d9b7143db13ceed496,XStatic-Angular-Sanitize: convert to python3,MERGED,2020-03-17 17:21:02.000000000,2020-03-18 04:54:00.000000000,2020-03-18 04:54:00.000000000,17,14,0,713494,379cce422beffedb9b756abb15fc0b979d0bf3d5,11,6,1,1,13294,Javier Peña,jpena,"XStatic-Angular-Sanitize: convert to python3

Change-Id: I74bedd83d02ff27b02b0e0d9b7143db13ceed496
(cherry picked from commit fb2a4a62be156ffa42b58d59d59e449ca277672e)
"
openstack%2Frpm-packaging~stable%2Ftrain~I8f6feaad35ba4145a35fa1966fcb5d15d6042b70,openstack/rpm-packaging,stable/train,remove-python2-stable/train,I8f6feaad35ba4145a35fa1966fcb5d15d6042b70,octavia-tempest-plugin: fix go build for CentOS 8,MERGED,2020-03-17 17:22:26.000000000,2020-03-18 04:53:59.000000000,2020-03-18 04:53:59.000000000,5,0,0,713495,a14714adca4c7aae571377ca1ba628f47a91703e,9,5,1,1,13294,Javier Peña,jpena,"octavia-tempest-plugin: fix go build for CentOS 8

We need to add ""-compressdwarf=false"" to the go build flags, or
the generated RPM will fail to find the debug information.

Change-Id: I8f6feaad35ba4145a35fa1966fcb5d15d6042b70
(cherry picked from commit 63e12a8227ceb63228bd14771d86d4eb1f6a8799)
"
openstack%2Frpm-packaging~stable%2Ftrain~I042d2abd4b690f5c27bee71713ca769112f4b9ec,openstack/rpm-packaging,stable/train,remove-python2-stable/train,I042d2abd4b690f5c27bee71713ca769112f4b9ec,monasca-transform: Use python3 for compileall,MERGED,2020-03-17 17:37:15.000000000,2020-03-18 04:53:58.000000000,2020-03-18 04:53:58.000000000,1,1,0,713497,1029539a7d9abf174dff2b85dfe0375b7c054ba2,9,5,1,1,13294,Javier Peña,jpena,"monasca-transform: Use python3 for compileall

On CentOS 8, we do not have a generic ""python"" executable, so let's
be explicit and use python3.

Change-Id: I042d2abd4b690f5c27bee71713ca769112f4b9ec
(cherry picked from commit b47a2ba25f41f1a5970f43cdf025ef0453f0b3a8)
"
openstack%2Frpm-packaging~stable%2Ftrain~Ice61818239a7ab4ce2dd55d4dd492fc6b4df10b0,openstack/rpm-packaging,stable/train,,Ice61818239a7ab4ce2dd55d4dd492fc6b4df10b0,openstacksdk: update to 0.36.2,MERGED,2020-03-17 19:18:02.000000000,2020-03-18 04:52:46.000000000,2020-03-18 04:52:46.000000000,1,1,0,713518,432d3693ccabce4901af3e6fff9eacf0cc774999,12,4,2,1,6593,Dirk Mueller,dmllr,"openstacksdk: update to 0.36.2

Change-Id: Ice61818239a7ab4ce2dd55d4dd492fc6b4df10b0
"
openstack%2Frpm-packaging~stable%2Ftrain~Ib9996c03d5c0f78a587d90825d7241f783012774,openstack/rpm-packaging,stable/train,,Ib9996c03d5c0f78a587d90825d7241f783012774,oslo.utils: update to 3.41.5,MERGED,2020-03-17 19:17:35.000000000,2020-03-18 04:52:45.000000000,2020-03-18 04:52:45.000000000,1,1,0,713516,cb78c77921087e1df4a7c8532b0ffb509d50b732,12,4,2,1,6593,Dirk Mueller,dmllr,"oslo.utils: update to 3.41.5

Change-Id: Ib9996c03d5c0f78a587d90825d7241f783012774
"
openstack%2Ftrove~stable%2Ftrain~I799f7b30e1af396a8ae540cff2ba8b548a23f82c,openstack/trove,stable/train,fix-volume-stable/train,I799f7b30e1af396a8ae540cff2ba8b548a23f82c,Delete error volumes when deleting instance,MERGED,2020-03-17 21:09:11.000000000,2020-03-18 04:52:10.000000000,2020-03-18 04:50:44.000000000,4,2,0,713540,ce23f27bfeccf21c058b806f5c7a54dc1b82ffc3,9,2,2,2,6732,Lingxian Kong,kong,"Delete error volumes when deleting instance

Backport candidate.

Change-Id: I799f7b30e1af396a8ae540cff2ba8b548a23f82c
Story: 2007436
Task: 39083
(cherry picked from commit 513e0dd3cd27790718b31c6d0d4b556bd6de0793)
"
openstack%2Fhorizon~master~I38a1c2c3455a10b4852d25f6c39b3c21f5c450fc,openstack/horizon,master,fix-pyscss,I38a1c2c3455a10b4852d25f6c39b3c21f5c450fc,Use pyScss2 and django-pyscss2,MERGED,2020-03-13 15:36:24.000000000,2020-03-18 04:40:06.000000000,2020-03-18 04:38:04.000000000,6,4,0,712978,11d4954cc3e4296921d1791610f7df24d46dea4d,16,5,4,3,1736,Ivan Kolodyazhny,e0ne,"Use pyScss2 and django-pyscss2

pyScss and django-pyscss packages are not maintained for a long time. We
can't use the pyScss with teh setuptools>=46.0.0, so I forked these
project and switch horizon to use them.

Change-Id: I38a1c2c3455a10b4852d25f6c39b3c21f5c450fc
Depends-On: https://review.opendev.org/712976
"
openstack%2Fnova~master~I8721be16c29697ca43c7ca1c32570e7daa1fb4c1,openstack/nova,master,use-placement-1.34,I8721be16c29697ca43c7ca1c32570e7daa1fb4c1,FUP: Remove noqa and tone down an exception,MERGED,2019-12-09 18:13:31.000000000,2020-03-18 02:25:08.000000000,2020-03-18 01:28:56.000000000,3,3,2,698054,44280cd53f4768e856af6d705ca001f422675805,57,13,2,2,14070,Eric Fried,efried,"FUP: Remove noqa and tone down an exception

This is a followon from [1] to address [2] (remove unnecessary noqa
comment from a long docstring line) and [3] (make the exception text for
RequestGroupSuffixConflict calmer by s/!/./).

[1] I55e4d61ba1c5920c44fd71eb36a9ed2cc64c4117
[2] https://review.opendev.org/#/c/696946/7/nova/scheduler/utils.py@84
[3] https://review.opendev.org/#/c/696946/7/nova/exception.py@2478

Change-Id: I8721be16c29697ca43c7ca1c32570e7daa1fb4c1
"
openstack%2Fzaqar-tempest-plugin~master~I0b35d3d4a0c0220478e13496d1d994e193fa1fa5,openstack/zaqar-tempest-plugin,master,bug/1863560,I0b35d3d4a0c0220478e13496d1d994e193fa1fa5,Add tempest test for querying queus with count,MERGED,2020-02-24 02:51:17.000000000,2020-03-18 01:56:28.000000000,2020-02-24 10:53:34.000000000,9,0,0,709397,8365718006643f2e267028455150cb45a67d6711,8,2,1,1,8846,Hao Wang,sxmatch,"Add tempest test for querying queus with count

Change-Id: I0b35d3d4a0c0220478e13496d1d994e193fa1fa5
Implements: blueprint query-queues-with-count
Closes-Bug: #1863560
Signed-off-by: wanghao <sxmatch1986@gmail.com>
"
openstack%2Ftripleo-upgrade~master~I4c7d378936257c91428682ad25599203d8fd3503,openstack/tripleo-upgrade,master,ffwd-upgrade2,I4c7d378936257c91428682ad25599203d8fd3503,Run ceph-ansible installation as super user.,MERGED,2020-03-17 11:17:10.000000000,2020-03-18 01:27:27.000000000,2020-03-18 01:27:27.000000000,2,0,0,713405,b6c158e47d3db9e5d069c4570fda0e00f8a13c77,10,5,1,1,26343,Jose Luis Franco,jfrancoa,"Run ceph-ansible installation as super user.

The newly added task included in [0] requires root rights
to be able to install the ceph-ansible in the Undercloud.

[0]- I205425f31412c856e754539f67b039215a3b2189
Change-Id: I4c7d378936257c91428682ad25599203d8fd3503
"
openstack%2Fdevstack~master~Ie7ad88f296976e45c4b115a3de4e70aead071733,openstack/devstack,master,,Ie7ad88f296976e45c4b115a3de4e70aead071733,zuul: Added reference tenant configuration,NEW,2020-03-17 14:24:34.000000000,2020-03-18 01:21:19.000000000,,54,0,3,713454,643541df52f389deb9d5ad9cb3bc3a2ba5cb25a7,4,4,1,1,1004,Mohammed Naser,mnaser,"zuul: Added reference tenant configuration

For users who want to consume DevStack in their own Zuul tenants,
they can use this sample tenant configuration which includes how to
loads jobs and all projects.

Change-Id: Ie7ad88f296976e45c4b115a3de4e70aead071733
"
openstack%2Fopenstack-helm~master~I99a0598172453692817420ddefd8653f292124d9,openstack/openstack-helm,master,netpol,I99a0598172453692817420ddefd8653f292124d9,Tools: Update test-networkpolicy.sh,MERGED,2019-09-30 17:03:18.000000000,2020-03-18 01:07:04.000000000,2020-03-18 01:05:21.000000000,5,1,5,685761,86ae6d177a1effbe47381f953a0d7b95606853f2,28,5,5,1,24780,Sangeet Gupta,sgupta,"Tools: Update test-networkpolicy.sh

This adds network policy testcases for memcached in openstack
namespace.

Depends-On: https://review.opendev.org/#/c/685755/
Change-Id: I99a0598172453692817420ddefd8653f292124d9
"
openstack%2Fkeystone~stable%2Fqueens~Iddc364d8c934b6e54d1e8c75b8b159faadbf865d,openstack/keystone,stable/queens,,Iddc364d8c934b6e54d1e8c75b8b159faadbf865d,Ensure bootstrap handles multiple roles with the same name,MERGED,2020-02-19 15:32:57.000000000,2020-03-18 00:56:09.000000000,2020-03-18 00:54:26.000000000,37,0,1,708671,0cbf809a115dd01f8582ade55b4fb637c5983932,14,5,2,3,5046,Lance Bragstad,ldbragst,"Ensure bootstrap handles multiple roles with the same name

The bootstrap logic doesn't take into consideration multiple roles
with the same name. If bootstrap is unable to determine which role to
use and accidentally uses a domain-specific role with the same name
as a default role, bootstrap will fail in unexpected ways.

This change deviates slightly from the upstream patches in that the
stable/queens test_cli.py module doesn't have a `self.bootstrap`
attribute. Instead, we just test with `bootstrap` in the test itself.
Otherwise, the test is functionally the same.

Conflicts:
      keystone/cmd/bootstrap.py

      Bootstrap code used to live in keystone/cmd/cli.py before it was
      refactored into its own module, keystone/cmd/bootstrap.py. This
      caused a conflict during backport where the file patched in later
      releases because the file didn't exist. Instead, a functionally
      equivalent change was proposed to keystone/cmd/cli.py.

Closes-Bug: 1856881
Change-Id: Iddc364d8c934b6e54d1e8c75b8b159faadbf865d
(cherry picked from commit 25cf359e5fb914b855922121f20e23bd14626b8e)
(cherry picked from commit 51ff7be731450c183b3e3eb6d34493e986cc2635)
(cherry picked from commit 1ba238e49195890c0232554005d4efa670467694)
(cherry picked from commit 2e4055e49b519a146902f0cf06740ec43231929b)
"
openstack%2Foctavia-tempest-plugin~master~I8923bbc992e474f67f65c564e9a8fa8f26642f5c,openstack/octavia-tempest-plugin,master,,I8923bbc992e474f67f65c564e9a8fa8f26642f5c,DNM: Testing bionic nodes,ABANDONED,2018-09-06 19:51:06.000000000,2020-03-18 00:32:02.000000000,,69,13,5,600539,b7a27fb4046a40462821dc639d5f6db933a5e93d,64,3,18,2,11628,Michael Johnson,johnsom,"DNM: Testing bionic nodes

Testing KVM on bionic nodepool instances

Depends-On: https://review.openstack.org/604478
Change-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c
"
openstack%2Fopenstacksdk~master~Icfb92c267a10c7526e91d678e00fc522058a92bc,openstack/openstacksdk,master,,Icfb92c267a10c7526e91d678e00fc522058a92bc,Add Octavia quota to the SDK docs,MERGED,2020-03-17 22:55:44.000000000,2020-03-18 00:29:10.000000000,2020-03-18 00:27:44.000000000,24,0,0,713551,36fe79f93c562775621b2160ee337e4bf795cbd7,9,2,2,3,11628,Michael Johnson,johnsom,"Add Octavia quota to the SDK docs

The patch that added Octavia quota to the SDK forgot to update
the documentation.
This patch corrects that by adding the required section to the
page.

Change-Id: Icfb92c267a10c7526e91d678e00fc522058a92bc
"
openstack%2Frequirements~master~I6d4a71140213a8ee799679b92b11efcc6dfcce48,openstack/requirements,master,openstack/requirements/constraints/noclob,I6d4a71140213a8ee799679b92b11efcc6dfcce48,Updated from generate-constraints,MERGED,2020-03-17 06:17:44.000000000,2020-03-18 00:21:46.000000000,2020-03-18 00:20:14.000000000,6,6,0,713374,38db6602f7862bf7a798ce5f961c42ea76c45055,15,3,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

hold back mock for nova/neutron failures
hold back docutils because boto likes to cap things
hold back msgpack because salt likes to cap things
hold back alembic because nova fails tests

Change-Id: I6d4a71140213a8ee799679b92b11efcc6dfcce48
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fpython-magnumclient~master~Ia764af9ca78eb26d7cd4ae5f3c0fb6675a506720,openstack/python-magnumclient,master,,Ia764af9ca78eb26d7cd4ae5f3c0fb6675a506720,Drop py27 job,ABANDONED,2020-03-18 00:07:01.000000000,2020-03-18 00:09:57.000000000,,1,6,0,713554,9b9754c2c8ed06d93ed50cfef69e386a18181040,2,0,1,2,6484,Feilong Wang,flwang,"Drop py27 job

Change-Id: Ia764af9ca78eb26d7cd4ae5f3c0fb6675a506720
"
openstack%2Fopenstack-helm-infra~master~I037de30f868dfeb0dedb1c32209b8be6d4690962,openstack/openstack-helm-infra,master,netpol,I037de30f868dfeb0dedb1c32209b8be6d4690962,Mariadb: Add ingress network policy overrides,MERGED,2019-10-07 21:22:49.000000000,2020-03-17 23:43:53.000000000,2020-03-17 23:42:11.000000000,77,0,2,687162,4f30b1361e2b596ce8760fd593f08d4f9a6639fe,35,12,11,1,18236,Sophie Huang,SophieHuang,"Mariadb: Add ingress network policy overrides

This patch set adds in default mariadb ingress network policy
overrides for openstack namespace.

Change-Id: I037de30f868dfeb0dedb1c32209b8be6d4690962
"
openstack%2Fproject-config~master~I92f303f1bb2c4f08fe11c42d10cc6c01bf5f54c6,openstack/project-config,master,diskimages-globals,I92f303f1bb2c4f08fe11c42d10cc6c01bf5f54c6,nodepool config : add ZUUL_USER_SSH_KEY,ABANDONED,2020-03-16 03:08:07.000000000,2020-03-17 23:28:25.000000000,,2,0,0,713160,602b81a74a9674b634d95b1899a8ad14c48b0147,5,2,2,1,7118,Ian Wienand,iwienand,"nodepool config : add ZUUL_USER_SSH_KEY

The zuul user public key is put into the hosts by the zuul-worker
element [1].  This takes the public-key from ~nodepool/.ssh on the
build host; this is put there via puppet driven from [2].

We don't want to have to map this into the new container-based
builders.  Specify it in an environment variable from the
configuration.

Story: #2007407
Task: #39072

[1] https://opendev.org/openstack/project-config/src/branch/master/nodepool/elements/zuul-worker
[2] https://opendev.org/opendev/system-config/src/commit/149d591f1fd314722b8599df1a56c236f8305d2d/manifests/site.pp#L651

Change-Id: I92f303f1bb2c4f08fe11c42d10cc6c01bf5f54c6
"
openstack%2Fnova~master~Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9,openstack/nova,master,bug/1864122,Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9,Use fair locks in resource tracker,MERGED,2020-03-05 18:22:53.000000000,2020-03-17 23:20:00.000000000,2020-03-17 02:25:34.000000000,14,14,0,711528,1ed9f9dac59c36cdda54a9852a1f93939b3ebbc3,49,14,2,3,29100,Jason Anderson,jasonanderson,"Use fair locks in resource tracker

When the resource tracker has to lock a compute host for updates or
inspection, it uses a single semaphore. In most cases, this is fine, as
a compute process only is tracking one hypervisor. However, in Ironic, it's
possible for one compute process to track many hypervisors. In this
case, wait queues for instance claims can get ""stuck"" briefly behind
longer processing loops such as the update_resources periodic job. The
reason this is possible is because the oslo.lockutils synchronized
library does not use fair locks by default. When a lock is released, one
of the threads waiting for the lock is randomly allowed to take the lock
next. A fair lock ensures that the thread that next requested the lock
will be allowed to take it.

This should ensure that instance claim requests do not have a chance of
losing the lock contest, which should ensure that instance build
requests do not queue unnecessarily behind long-running tasks.

This includes bumping the oslo.concurrency dependency; fair locks were
added in 3.29.0 (I37577becff4978bf643c65fa9bc2d78d342ea35a).

Change-Id: Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9
Related-Bug: #1864122
"
openstack%2Fmagnum~master~I13aa0c58bf168bc069edf1d5c0187f89011fffdb,openstack/magnum,master,story/2007426-39052,I13aa0c58bf168bc069edf1d5c0187f89011fffdb,Update default calico_ipv4pool,MERGED,2020-03-12 23:06:50.000000000,2020-03-17 22:59:57.000000000,2020-03-17 22:57:39.000000000,4,4,0,712815,d342fc0ad94eedb8275aaf9bf6c23f19de262097,15,4,2,4,6484,Feilong Wang,flwang,"Update default calico_ipv4pool

The current default Calico IPv4 CIDR 192.168.0.0/16  is too common and 
it has bring us some IP conflicts troubles on production. This patch is
proposing to replace it with a rare CIDR range.

Task: 39052
Story: 2007426

Change-Id: I13aa0c58bf168bc069edf1d5c0187f89011fffdb
"
openstack%2Ftripleo-heat-templates~master~Ide91bd5956bcbbec36d865865c32cc6430d59a49,openstack/tripleo-heat-templates,master,bug/1864912,Ide91bd5956bcbbec36d865865c32cc6430d59a49,ControlPlaneSubnetCidr in net_vip_map_external,MERGED,2020-02-26 19:15:01.000000000,2020-03-17 22:45:30.000000000,2020-02-28 05:24:20.000000000,22,0,0,710120,6167279363fe8e69115d707ae77d4a05006e9e05,12,4,1,3,24245,Harald Jensås,harald.jensas,"ControlPlaneSubnetCidr in net_vip_map_external

network/ports/net_vip_map_external.j2.yaml needs the
ControlPlaneSubnetCidr parameter, since the resource
in overcloud.yaml is passing the property.

Change-Id: Ide91bd5956bcbbec36d865865c32cc6430d59a49
Closes-Bug: #1864912
"
openstack%2Ftripleo-ansible~master~If0d4cc6590105808a07569b60877eb440f1dd6d1,openstack/tripleo-ansible,master,centos8,If0d4cc6590105808a07569b60877eb440f1dd6d1,fix all tripleo_container_* molecule jobs on centos8,MERGED,2020-03-17 14:49:01.000000000,2020-03-17 22:34:23.000000000,2020-03-17 22:34:22.000000000,5,7,1,713464,6af37d7a442c451f125e397313f446efa89bf3a0,15,6,3,6,3153,Emilien Macchi,emilienm,"fix all tripleo_container_* molecule jobs on centos8

- --systemd needs to be given with a string (default to true, so since
  we used that argument we want true).
- Add fedora registry in the list of container registries to strip when
  figuring out what image is deployed  in podman_container (for
  idempotency). This code should be improved in a future patch to stop
  hardcoding these registries and find another way to figure out the
  image name.

Change-Id: If0d4cc6590105808a07569b60877eb440f1dd6d1
Closes-Bug: #1867787
"
openstack%2Fkolla-ansible~stable%2Ftrain~Ia840f4b67043df4eaa654f47673dcdc973f13d9c,openstack/kolla-ansible,stable/train,bug/1867754-stable/train,Ia840f4b67043df4eaa654f47673dcdc973f13d9c,Make Fluentd config folders readable,MERGED,2020-03-17 18:55:34.000000000,2020-03-17 22:32:07.000000000,2020-03-17 22:30:28.000000000,14,1,0,713513,f80a10435448f5a5cdc16b5aab99ca84fec1d076,9,3,1,1,14826,Mark Goddard,mgoddard,"Make Fluentd config folders readable

Currently, config folders lack the execute bit so Fluentd
cannot read the config and just does nothing when it starts up. This
change explicitly sets the execute bit on folders which need it,
rather than doing it in a more generic way which is more risky from
a security perspective.

Change-Id: Ia840f4b67043df4eaa654f47673dcdc973f13d9c
Closes-Bug: #1867754
(cherry picked from commit c92378d7881927d46ff5d485edcf25989c0c4170)
"
openstack%2Fkolla~master~I18a29dc4144fa53d371a6c5533e35181970429b0,openstack/kolla,master,,I18a29dc4144fa53d371a6c5533e35181970429b0,base: fix pinning of libvirt for aarch64,MERGED,2020-03-17 11:12:59.000000000,2020-03-17 22:19:24.000000000,2020-03-17 22:17:24.000000000,15,5,0,713403,98392a0c0ae24e704dc18d00cb296507ad5cc7a7,20,4,2,1,24072,Marcin Juszkiewicz,hrw,"base: fix pinning of libvirt for aarch64

Change https://review.opendev.org/#/c/712987/ added pinning for kibana
and libvirt. In some cases it fails ;(

This version works properly.

Change-Id: I18a29dc4144fa53d371a6c5533e35181970429b0
"
openstack%2Fbarbican-tempest-plugin~master~I600ac88dbed8697cd1efe009fd46195f934f3eb6,openstack/barbican-tempest-plugin,master,volume-default-testing-v3,I600ac88dbed8697cd1efe009fd46195f934f3eb6,Remove use of deprecated config options for volume API selection,MERGED,2019-12-12 16:53:04.000000000,2020-03-17 21:53:25.000000000,2020-03-17 21:53:25.000000000,6,10,0,698757,48d10b8be072f934faa9c82c53bfb9580844a934,13,5,1,2,8556,Ghanshyam,ghanshyam,"Remove use of deprecated config options for volume API selection

Tempest has moved the Volume APIs testing to v3 as default and can be run
under v2 API via catalog_type.
- https://review.opendev.org/#/q/topic:volume-default-testing-v3+(status:open+OR+status:merged)

Below config options were deprecated since Rocky and now Tempest is going
to remove those (Needed-By patch):
    * ``CONF.volume-feature-enabled.api_v2``
    * ``CONF.volume-feature-enabled.api_v3``

Change-Id: I600ac88dbed8697cd1efe009fd46195f934f3eb6
Needed-By: https://review.opendev.org/#/c/698754/
"
openstack%2Fbarbican-tempest-plugin~master~I557159bea7c749202ef327995754a7f54b58028c,openstack/barbican-tempest-plugin,master,drop-py27-support,I557159bea7c749202ef327995754a7f54b58028c,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-01-23 23:10:28.000000000,2020-03-17 21:53:24.000000000,2020-03-17 21:53:24.000000000,7,6,4,704083,1bf0dbb566e59e20343c274eb6f8a9ae8e24d3be,16,6,2,2,8556,Ghanshyam,ghanshyam,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

barbican-tempest-plugin is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I557159bea7c749202ef327995754a7f54b58028c
"
openstack%2Fpython-glanceclient~stable%2Ftrain~Ic6cb15670a42d0cea424f58d6a1d85d5471e162e,openstack/python-glanceclient,stable/train,stable/train-remove-v1-tests,Ic6cb15670a42d0cea424f58d6a1d85d5471e162e,Remove v1 tests,MERGED,2020-03-11 19:05:43.000000000,2020-03-17 21:50:37.000000000,2020-03-17 21:46:58.000000000,0,62,1,712537,fd83a8eee7d672076413369497a6602025166c4d,8,4,1,2,8122,Cyril Roelandt,cyril.roelandt.enovance,"Remove v1 tests

Change-Id: Ic6cb15670a42d0cea424f58d6a1d85d5471e162e
(cherry picked from commit 993406d57d933cd4f789f97b48cf4d7b5b0b9bc4)
"
openstack%2Fwhitebox-tempest-plugin~master~Iec744136f10581d7298db8cb488d245e63a3262c,openstack/whitebox-tempest-plugin,master,,Iec744136f10581d7298db8cb488d245e63a3262c,Add nova_libvirt service param in conf and stop method in client,ABANDONED,2019-11-22 17:45:38.000000000,2020-03-17 21:29:59.000000000,,40,0,0,695745,6f02ad8f0d494844261b834b410d1bb2237ef9f7,10,3,3,4,31239,Paras Babbar,pbabbar,"Add nova_libvirt service param in conf and stop method in client

This will help us to start/stop nova_libvirt service
in compute node with the help of service manager and ssh client

Template for tempest.conf param for nova_libvirt
[whitebox-nova-libvirt]
config_path = #configuration path
stop_command = #command to stop nova_libvirt
restart_command = #command to restart nova_libvirt

Change-Id: Iec744136f10581d7298db8cb488d245e63a3262c
"
openstack%2Fdevstack~master~Ia60550b505a7b78279f210e06bd05340cb9da310,openstack/devstack,master,bug/1643301,Ia60550b505a7b78279f210e06bd05340cb9da310,WIP: Always set keystone's identity backend to sql,ABANDONED,2017-08-11 22:07:56.000000000,2020-03-17 21:09:13.000000000,,1,1,0,493249,a92799596f8c96724bd38d1997c115f1778303d1,9,4,1,1,5046,Lance Bragstad,ldbragst,"WIP: Always set keystone's identity backend to sql

Change-Id: Ia60550b505a7b78279f210e06bd05340cb9da310
Closes-Bug: 1643301
"
openstack%2Ftrove~master~I799f7b30e1af396a8ae540cff2ba8b548a23f82c,openstack/trove,master,fix-volume,I799f7b30e1af396a8ae540cff2ba8b548a23f82c,Delete error volumes when deleting instance,MERGED,2020-03-17 01:22:14.000000000,2020-03-17 21:09:11.000000000,2020-03-17 12:36:20.000000000,3,1,0,713357,513e0dd3cd27790718b31c6d0d4b556bd6de0793,11,2,1,1,6732,Lingxian Kong,kong,"Delete error volumes when deleting instance

Backport candidate.

Change-Id: I799f7b30e1af396a8ae540cff2ba8b548a23f82c
Story: 2007436
Task: 39083
"
openstack%2Fcharm-hacluster~master~I3b7d3b11d830df49ef1e4320f2cb68dc64ba06f6,openstack/charm-hacluster,master,py38,I3b7d3b11d830df49ef1e4320f2cb68dc64ba06f6,Enable the py38 target,MERGED,2020-03-17 20:15:18.000000000,2020-03-17 20:53:42.000000000,2020-03-17 20:53:42.000000000,5,0,0,713529,2520749d1b97f1aaf190cb3bea54e2e669029a41,7,3,1,1,20805,David Ames,thedac,"Enable the py38 target

The unit tests pass with python3.8 but the tox target was missing.

Change-Id: I3b7d3b11d830df49ef1e4320f2cb68dc64ba06f6
"
openstack%2Fopenstack-ansible-os_heat~master~Id853b46de4323b605ff6544b1e48bae30a0bf0a7,openstack/openstack-ansible-os_heat,master,memcached-refactor,Id853b46de4323b605ff6544b1e48bae30a0bf0a7,Refactor memcached_servers,MERGED,2020-03-16 13:42:56.000000000,2020-03-17 20:43:26.000000000,2020-03-17 20:42:04.000000000,5,1,0,713234,e89dc3e5d9e3eb77c8d7d7c059d1a28f886eea9d,12,4,1,2,28008,Guilherme,guilhermesp,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: Id853b46de4323b605ff6544b1e48bae30a0bf0a7
"
openstack%2Fkolla~master~I5498141ade23219d63f34debc2b8e1330dec2e68,openstack/kolla,master,bp/centos-rhel-8,I5498141ade23219d63f34debc2b8e1330dec2e68,"CentOS 8: Switch default base image, tag as master",MERGED,2020-03-16 15:17:26.000000000,2020-03-17 20:41:22.000000000,2020-03-17 20:37:58.000000000,6,10,0,713265,8294bac01bf3641452a6a39bbc4f58388838be84,23,5,3,4,14826,Mark Goddard,mgoddard,"CentOS 8: Switch default base image, tag as master

Changes the default base tag and distro for CentOS images from 7 to 8.

Also changes the tag used by the publisher jobs for CentOS 8 images from
'master-centos8' to 'master'.

Change-Id: I5498141ade23219d63f34debc2b8e1330dec2e68
Partially-Implements: blueprint centos-rhel-8
"
openstack%2Fkolla-ansible~stable%2Frocky~Ia73b5665cece523bb822f6a223335f6fae94fb6a,openstack/kolla-ansible,stable/rocky,bug/1867506,Ia73b5665cece523bb822f6a223335f6fae94fb6a,Fix native openvswitch firewall driver in neutron-openvswitch-agent,MERGED,2020-03-17 17:07:07.000000000,2020-03-17 20:41:12.000000000,2020-03-17 20:38:00.000000000,7,0,0,713490,3ecc2f73707388924b09e88c6872ec47cf207a78,9,3,1,2,30491,Radosław Piliszek,yoctozepto,"Fix native openvswitch firewall driver in neutron-openvswitch-agent

ovs-ofctl is still being run by neutron-openvswitch-agent.
Potential removal is scheduled for Victoria.
Until then, we have to mount /run/openvswitch in there.

Change-Id: Ia73b5665cece523bb822f6a223335f6fae94fb6a
Closes-bug: #1867506
(cherry picked from commit cf918fbc294be35f662d6b2851f3cdc00bc2b1bb)
"
openstack%2Fkeystone~master~I53f844fae775d9b30d9b7f867bac0ed873b86bc7,openstack/keystone,master,copy-shib-logs,I53f844fae775d9b30d9b7f867bac0ed873b86bc7,Copy shibboleth logs in federation jobs,MERGED,2020-01-14 18:15:40.000000000,2020-03-17 20:38:01.000000000,2020-03-17 20:30:26.000000000,2,0,0,702500,0bbd2dd6fb50524a9a7a16cc2cc7d83bbdcb1581,14,5,2,1,8482,Colleen Murphy,krinkle,"Copy shibboleth logs in federation jobs

Ensure that Zuul publishes both the shibboleth config and the shibboleth
logs in the job artifacts so that we can debug issues with the SAML SP.

Change-Id: I53f844fae775d9b30d9b7f867bac0ed873b86bc7
"
openstack%2Fneutron~master~I336ae76283f29dd226344fb454aaa0e4aac030ea,openstack/neutron,master,bug/1864225,I336ae76283f29dd226344fb454aaa0e4aac030ea,Filter subnets on fixed_ips segment,MERGED,2020-02-24 10:34:27.000000000,2020-03-17 20:37:44.000000000,2020-03-17 20:30:20.000000000,149,7,11,709444,7e09e72661b0b3a0f898c20d451e204aa7a17194,71,8,9,6,24245,Harald Jensås,harald.jensas,"Filter subnets on fixed_ips segment

For v6_stateless IP addresses for all stateless
subnets within a network are implicitly included.

When using segments implicitly allocating addresses
across subnets on different segments is incorrect.
IPs from subnets on differnt segments was allocated
when no host binding information was available
but a subnet_id in fixed_ips request was present.

This change adds filtering based on segment_id when
fixed_ips are used. If fixed_ips are not all on the
same segment exception FixedIpsSubnetsNotOnSameSegment
is raised.

Related: rhbz#1803989
Related-Bug: #1864333
Related-Bug: #1865138
Closes-Bug: #1864225
Change-Id: I336ae76283f29dd226344fb454aaa0e4aac030ea
"
openstack%2Fkeystone~master~I848f168215800b42480d14f1f1905d8843ed3faa,openstack/keystone,master,710734,I848f168215800b42480d14f1f1905d8843ed3faa,Correcting api-ref for users,MERGED,2020-03-02 10:17:11.000000000,2020-03-17 20:36:04.000000000,2020-03-17 20:30:24.000000000,11,12,2,710734,271c09bb538b838e05865df034ba0f98f4a26259,19,4,3,2,27621,Vishakha Agarwal,Vishakha,"Correcting api-ref for users

The ""options"" is not ""optional"" in user api responses.
This patch removes the 'optional' from the same and also updates
string with the format to be used while creating api-ref in
keystone.

Change-Id: I848f168215800b42480d14f1f1905d8843ed3faa
"
openstack%2Fneutron~master~I06f06fbc42c625ad2deab03a92238ae5e68d9033,openstack/neutron,master,ovn-ovs-version,I06f06fbc42c625ad2deab03a92238ae5e68d9033,[OVN] Switch release jobs to OVN 20.03 (v20.03.0 tag),MERGED,2020-03-03 09:44:26.000000000,2020-03-17 20:36:03.000000000,2020-03-17 20:30:17.000000000,6,5,3,710962,e0cb072b8407d848370a38c799bd3a203a9bdf5a,33,9,6,2,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Switch release jobs to OVN 20.03 (v20.03.0 tag)

OVN 20.03 (v20.03.0 tag) is the new stable released version of OVN which
is compatible with the OVS 2.13 version, also bumped in this review.

The patch also updates the use_new_ovn_repository to strip all
non-numeric characters of the branch name when comparing the versions,
that way we can compare branch-<version> against v<version> version
formats.

Change-Id: I06f06fbc42c625ad2deab03a92238ae5e68d9033
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Frequirements~master~I78b3c7f8fc6bb0759b8a4e382ad18f43622f5b97,openstack/requirements,master,fix-pyscss,I78b3c7f8fc6bb0759b8a4e382ad18f43622f5b97,Use pyScss2 and django-pyscss2,MERGED,2020-03-13 15:35:17.000000000,2020-03-17 20:35:38.000000000,2020-03-17 20:30:22.000000000,4,0,0,712976,67c47fb5939fa9e84ab266253cd9868308b679c9,31,8,3,2,1736,Ivan Kolodyazhny,e0ne,"Use pyScss2 and django-pyscss2

pyScss and django-pyscss packages are not maintained for a long time. We
can't use the pyScss with teh setuptools>=46.0.0, so I forked these
project and switch horizon to use them.

Change-Id: I78b3c7f8fc6bb0759b8a4e382ad18f43622f5b97
"
openstack%2Fkeystone~master~Id00db3f303f45daf0e25be1f1bcf6a8834cb3ea7,openstack/keystone,master,bug/1840647,Id00db3f303f45daf0e25be1f1bcf6a8834cb3ea7,Fix caching behavior,ABANDONED,2019-08-19 15:46:27.000000000,2020-03-17 20:31:54.000000000,,21,8,0,677239,4ec55aec91692e533be704217b75546273ab10bc,40,11,3,2,30834,Nikita Kalyanov,nikitakalyanov,"Fix caching behavior

This fixes inproper caching particulary affecting EC2 API
(see the attached bug) by changing the _decrypt_credential method to modify
the copy of the credential instead of previous in-place modification.
This allow for proper caching of the returned value and fixes EC2 API.
Changes in other methods are needed to support the new 'not-in-place' modification.

Change-Id: Id00db3f303f45daf0e25be1f1bcf6a8834cb3ea7
Closes-Bug:#1840647
"
openstack%2Fneutron-tempest-plugin~master~I0215731f05c7e7e4f955766ab334d8bd3de6d43f,openstack/neutron-tempest-plugin,master,attached_to_network,I0215731f05c7e7e4f955766ab334d8bd3de6d43f,"Add test ""test_create_instance_in_network_with_attached_policy""",MERGED,2020-03-12 09:21:11.000000000,2020-03-17 20:30:29.000000000,2020-03-17 20:30:28.000000000,36,0,4,712626,5451fabce12a072447d8105334b58206daaeaa96,19,7,3,1,30920,Noy fridman,nfridman,"Add test ""test_create_instance_in_network_with_attached_policy""

The test validates the ability to create new instances
in a network that has attached QoS policy.

Change-Id: I0215731f05c7e7e4f955766ab334d8bd3de6d43f
"
openstack%2Fneutron~master~I46d80a2a4f114a6775827ab3caa61dee9f5f1361,openstack/neutron,master,bug/1866160,I46d80a2a4f114a6775827ab3caa61dee9f5f1361,Unblock security group update with same stateful data,MERGED,2020-03-05 06:11:44.000000000,2020-03-17 20:19:35.000000000,2020-03-17 20:17:17.000000000,25,6,11,711385,2b56e60140dd07f24fd8f1adf08ae8b213cea4ca,66,9,7,2,31669,lina He,linahe,"Unblock security group update with same stateful data

Closes-Bug: #1866160
Blueprint: stateless-security-groups

Change-Id: I46d80a2a4f114a6775827ab3caa61dee9f5f1361
"
openstack%2Fopenstack-zuul-jobs~master~I36fc6b16ed00fe017ce8256ac2ab461a5db48494,openstack/openstack-zuul-jobs,master,base-test-3,I36fc6b16ed00fe017ce8256ac2ab461a5db48494,[dnm] using base-test,ABANDONED,2019-10-31 22:10:47.000000000,2020-03-17 20:15:43.000000000,,2,2,0,692457,e98ef5cbd58a18e875d9fe5ad84ba8bc2a479067,15,3,2,1,7118,Ian Wienand,iwienand,"[dnm] using base-test

Change-Id: I36fc6b16ed00fe017ce8256ac2ab461a5db48494
"
openstack%2Ftripleo-ci~master~Ie74c17469e6df174f06315f2ab389760271d8015,openstack/tripleo-ci,master,move-internal-logs,Ie74c17469e6df174f06315f2ab389760271d8015,DNM - Do not collect private info in public logs,ABANDONED,2019-05-28 19:36:17.000000000,2020-03-17 20:13:00.000000000,,1,0,1,661833,f7a53eec998f5bf627234aca54ddee0c61922e58,6,4,1,1,9976,Ronelle Landy,rlandy,"DNM - Do not collect private info in public logs

Skip copying files to the logs that could contain
internal information.

Change-Id: Ie74c17469e6df174f06315f2ab389760271d8015
Story: https://tree.taiga.io/project/tripleo-ci-board/issue/1091
"
openstack%2Ftripleo-quickstart~master~I564f7fc7c30f292e7f81f935032d12e7ee2b0e0c,openstack/tripleo-quickstart,master,temp-increase-timeout,I564f7fc7c30f292e7f81f935032d12e7ee2b0e0c,DNM  Test review to allow vexxhost qualification to  complete,ABANDONED,2019-08-23 14:28:48.000000000,2020-03-17 20:12:25.000000000,,5,0,0,678242,aed157a02563f8c72c969733090d0a54123939c5,5,4,1,1,9976,Ronelle Landy,rlandy,"DNM  Test review to allow vexxhost qualification to  complete

Change-Id: I564f7fc7c30f292e7f81f935032d12e7ee2b0e0c
Related-Bug: #1840616
"
openstack%2Ftripleo-quickstart~master~I086a3af0ea9773d6b7fa0c0aed8801d8ca391427,openstack/tripleo-quickstart,master,component_fs_override,I086a3af0ea9773d6b7fa0c0aed8801d8ca391427,WIP: Add generic component release file for component promotion,ABANDONED,2019-11-25 22:35:45.000000000,2020-03-17 20:12:12.000000000,,149,0,0,695992,4d1a7e320a2b59c5ac56af9b3ea814f826c17e48,11,4,2,1,9976,Ronelle Landy,rlandy,"WIP: Add generic component release file for component promotion

Change-Id: I086a3af0ea9773d6b7fa0c0aed8801d8ca391427
Depends-On: https://review.opendev.org/#/c/695990/
Story: https://tree.taiga.io/project/tripleo-ci-board/task/1408
"
openstack%2Ftripleo-quickstart~master~Ib956bdd60f607b5ea6ac8a059fba9afc9e267ad2,openstack/tripleo-quickstart,master,train-ceph-rpm,Ib956bdd60f607b5ea6ac8a059fba9afc9e267ad2,Add  workaround for ceph-ansible install to Train RHEL 8,ABANDONED,2019-11-14 19:54:49.000000000,2020-03-17 20:11:46.000000000,,4,0,0,694396,f7ba4ac24aeda96fd93dedd39871e074a56c0ebb,11,8,1,2,9976,Ronelle Landy,rlandy,"Add  workaround for ceph-ansible install to Train RHEL 8

Following workaround LP 1841941, specify specific ceph-ansible
rpm to be installed in Train RhHEL 8 deployments.

The same rpm has been specified in RHEL 8 master config release
files.

Change-Id: Ib956bdd60f607b5ea6ac8a059fba9afc9e267ad2
"
openstack%2Ftripleo-ci~master~I52bafa5becf2ae1702218b9eb24873270345d8dc,openstack/tripleo-ci,master,000-upgrades-voting,I52bafa5becf2ae1702218b9eb24873270345d8dc,Make scenario000 upgrades voting except in master,ABANDONED,2019-08-27 12:58:45.000000000,2020-03-17 20:11:36.000000000,,10,2,1,678814,4835aa6e97f6eda2a5e084442631eea1dca799b7,9,8,1,1,9976,Ronelle Landy,rlandy,"Make scenario000 upgrades voting except in master

This review adds a new job to exclude voting when
run on the master branch.

Change-Id: I52bafa5becf2ae1702218b9eb24873270345d8dc
"
openstack%2Ftripleo-quickstart~master~I739ce5a01be49dd38fe4166b79488f69b5c48f0b,openstack/tripleo-quickstart,master,use-dlrn-mirror,I739ce5a01be49dd38fe4166b79488f69b5c48f0b,DNM - Testing dlrn_base URL set to nodepool proxy,ABANDONED,2019-08-13 15:53:46.000000000,2020-03-17 20:11:22.000000000,,24,2,0,676229,cf7744a04a2bb2eb3adfb676f45c8cae57fdc78b,18,5,6,10,9976,Ronelle Landy,rlandy,"DNM - Testing dlrn_base URL set to nodepool proxy

Test using the nodepool proxy for accessing dlrn repo.

Change-Id: I739ce5a01be49dd38fe4166b79488f69b5c48f0b
Related-Bug: #1839845
"
openstack%2Ftripleo-ci~master~I9154dc2b86db081c31c4549a72db7949f247d481,openstack/tripleo-ci,master,test-periodic,I9154dc2b86db081c31c4549a72db7949f247d481,DNM - To test periodic,ABANDONED,2019-02-22 19:23:08.000000000,2020-03-17 20:11:05.000000000,,1,1,0,638756,76b85fab069f8bcdf5cf91931f2912096f650bed,37,3,12,1,9976,Ronelle Landy,rlandy,"DNM - To test periodic

Change-Id: I9154dc2b86db081c31c4549a72db7949f247d481
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c,openstack/python-tripleoclient,stable/train,support-file-based-deploys,I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c,Local file based image uploader,MERGED,2020-03-02 06:13:06.000000000,2020-03-17 20:07:20.000000000,2020-03-17 20:05:27.000000000,389,9,0,710702,b1703f2f2edcdebb4684edb790dc9e2fe4ed074a,20,6,2,3,8125,Michael Davies,mrda,"Local file based image uploader

This change modifies the ""openstack overcloud image upload"" to add a
--local argument which will copy the files to /var/lib/ironic/images
instead of uploading them to glance. /var/lib/ironic is chosen as it
is bind-mounted into the ironic containers on the undercloud.

The on-disk layout is prefixed by the architecture (and optionally the
platform) for example:
/var/lib/ironic/images/x86_64/overcloud-full.qcow2
/var/lib/ironic/images/x86_64/overcloud-full.initrd
/var/lib/ironic/images/x86_64/overcloud-full.vmlinuz
/var/lib/ironic/images/power9-ppc64le/overcloud-full.qcow2

When glance is switched off this will become the default way of
preparing image files for deployment.

Blueprint: nova-less-deploy

Change-Id: I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c
(cherry picked from commit 5304c3432498ada824dc5f564f527aa360f21df8)
"
openstack%2Ftripleo-common~stable%2Fstein~I011cb62850bb4f298f78a1cfede4e60044523be6,openstack/tripleo-common,stable/stein,bug/1867648,I011cb62850bb4f298f78a1cfede4e60044523be6,Change how we test for call,MERGED,2020-03-16 17:58:38.000000000,2020-03-17 20:07:11.000000000,2020-03-17 20:05:28.000000000,27,9,0,713305,236cf7c09373ddc5a0c7c92e644af6ebe6ba79b6,10,5,1,1,14985,Alex Schultz,mwhahaha,"Change how we test for call

It appears that there are json comparison issues for some versions <= py35
so we need to check that the expected manifest matches in a different
way to ensure compatibility between py27 and newer. Since we've dropped
these versions of python in Ussuri, this only applies to older version.

Change-Id: I011cb62850bb4f298f78a1cfede4e60044523be6
Closes-Bug: #1867648
(cherry picked from commit 23ec01dc3f9d16e1fe73c1bc96cb0983574098a6)
"
openstack%2Ftripleo-common~master~I54097b2bbf19cd07bceb6ce608aa7f80435ad894,openstack/tripleo-common,master,,I54097b2bbf19cd07bceb6ce608aa7f80435ad894,Use unversioned RHEL element w/ RHEL8,MERGED,2020-03-16 19:36:04.000000000,2020-03-17 20:07:09.000000000,2020-03-17 20:05:31.000000000,1,1,0,713320,eda7ffe39b9caccc637597624a3c255c5d7443b6,13,4,1,1,8161,Lon Hohberger,lon,"Use unversioned RHEL element w/ RHEL8

Using 'rhel8' instead of 'rhel' causes errors.

Related to commits:
  18788b2b1748ffaa088a23caeec165391d9d7b4e
  5877ef54d3c3a2392297123a70cbf4a03f93e977

Change-Id: I54097b2bbf19cd07bceb6ce608aa7f80435ad894
Signed-off-by: Lon Hohberger <lhh@redhat.com>
"
openstack%2Ftripleo-common~stable%2Ftrain~I011cb62850bb4f298f78a1cfede4e60044523be6,openstack/tripleo-common,stable/train,bug/1867648,I011cb62850bb4f298f78a1cfede4e60044523be6,Change how we test for call,MERGED,2020-03-16 16:13:33.000000000,2020-03-17 20:07:08.000000000,2020-03-17 20:05:29.000000000,27,9,0,713280,69158f678236a5cf62c74a6a64e0aabac42e05ea,19,7,3,1,14985,Alex Schultz,mwhahaha,"Change how we test for call

It appears that there are json comparison issues for some versions <= py35
so we need to check that the expected manifest matches in a different
way to ensure compatibility between py27 and newer. Since we've dropped
these versions of python in Ussuri, this only applies to older version.

Change-Id: I011cb62850bb4f298f78a1cfede4e60044523be6
Closes-Bug: #1867648
(cherry picked from commit 23ec01dc3f9d16e1fe73c1bc96cb0983574098a6)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I2b2f067d51cd5e430c078acd62912859be195589,openstack/tripleo-heat-templates,stable/queens,octavia-ci,I2b2f067d51cd5e430c078acd62912859be195589,Fix glance backend for scenario010,MERGED,2019-11-01 16:19:32.000000000,2020-03-17 20:05:33.000000000,2020-03-17 20:05:33.000000000,4,0,1,692579,f6604278e2940196598c74841b2400f0df336e81,125,7,20,1,6681,Brent Eagles,beagles,"Fix glance backend for scenario010

We rely on glance having the file backend configured for this scenario
10 (octavia)

Depends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe
Change-Id: I2b2f067d51cd5e430c078acd62912859be195589
(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)
(cherry picked from commit 12eda343eccef2bdb08ef43379711712138b9333)
"
openstack%2Ftripleo-common~stable%2Frocky~I1555a9b79c954e646fe9ae35272231c581cea03e,openstack/tripleo-common,stable/rocky,rhbz/1813758,I1555a9b79c954e646fe9ae35272231c581cea03e,Silent file descriptor checks,MERGED,2020-03-17 06:26:14.000000000,2020-03-17 20:05:30.000000000,2020-03-17 20:05:30.000000000,6,16,0,713375,89d2393ea9fa977946ba34b6b9b3b279f830b64c,8,6,2,1,28223,Cedric Jeanneret,cjeanner,"Silent file descriptor checks

In order to avoid spam in journald, we just get the exit code and let
the checker output the error message.

Also, correct how we retrieve process in the healthcheck_port and _listen
functions.
""ss"" doesn't allow to match some processes, like ""neutron-l3-agent"". We
therefore use the PID instead, provided by ""pgrep"".
The ""-d"" option of pgrep allow to prepare its output for the ""grep -E"",
preventing any need of a loop.

Change-Id: I1555a9b79c954e646fe9ae35272231c581cea03e
Closes-Bug: #1821782
Closes-Bug: #1821856
(cherry picked from commit 5312bf19c8f820ac65514885aebdc2dc4776d72d)
"
openstack%2Fkolla-ansible~stable%2Ftrain~I7387ccd0cb394c54c79bfba8b1c09fce7ee2973e,openstack/kolla-ansible,stable/train,,I7387ccd0cb394c54c79bfba8b1c09fce7ee2973e,CI: Reduce unnecessary gate image builds,MERGED,2020-03-11 13:34:54.000000000,2020-03-17 20:03:20.000000000,2020-03-17 20:00:01.000000000,10,7,0,712425,57440edf8028fb91a0d39693f18205dac8d26d3f,8,3,1,1,14826,Mark Goddard,mgoddard,"CI: Reduce unnecessary gate image builds

Backport note: added CentOS 8 skip for tgtd present in master - somehow
this was missed in backport.

Due to regex matching of images, we are currently building quite a few
unnecessary images in CI. Images that can unexpectedly match:

* barbican-keystone-listener
* ironic-neutron-agent
* prometheus-haproxy-exporter
* prometheus-memcached-exporter

This change improves the situation by anchoring matches to the start of
the name. A full solution would be to specify every image required for
each job. This would be quite verbose and require maintenance.

Change-Id: I7387ccd0cb394c54c79bfba8b1c09fce7ee2973e
(cherry picked from commit 8b86c8194b2726dcecbc1487a8f567043828dcde)
"
openstack%2Fkolla-ansible~stable%2Ftrain~Id1e8098cf59f66aa35b371149fdb4b517fa4c908,openstack/kolla-ansible,stable/train,bug/1862817,Id1e8098cf59f66aa35b371149fdb4b517fa4c908,Construct service REST API urls using configured protocol,MERGED,2020-03-11 13:48:36.000000000,2020-03-17 20:01:53.000000000,2020-03-17 20:00:00.000000000,10,4,0,712440,9b2d318095be6669bdbda5fda359132cd3fcc362,9,4,1,5,14826,Mark Goddard,mgoddard,"Construct service REST API urls using configured protocol

Service REST API urls should be constructed using the
{{ internal_protocol }} and {{ external_protocol }} configuration
parameters.

Change-Id: Id1e8098cf59f66aa35b371149fdb4b517fa4c908
Closes-Bug: 1862817
(cherry picked from commit d41f072c7b34192c707beb6e3d219356e1b732dc)
"
openstack%2Fkolla-ansible~stable%2Fstein~Ia73b5665cece523bb822f6a223335f6fae94fb6a,openstack/kolla-ansible,stable/stein,bug/1867506,Ia73b5665cece523bb822f6a223335f6fae94fb6a,Fix native openvswitch firewall driver in neutron-openvswitch-agent,MERGED,2020-03-17 17:06:22.000000000,2020-03-17 20:01:32.000000000,2020-03-17 20:00:02.000000000,7,0,0,713488,3eb908272d23e8108ec543d889c565357b8604ca,9,3,1,2,30491,Radosław Piliszek,yoctozepto,"Fix native openvswitch firewall driver in neutron-openvswitch-agent

ovs-ofctl is still being run by neutron-openvswitch-agent.
Potential removal is scheduled for Victoria.
Until then, we have to mount /run/openvswitch in there.

Change-Id: Ia73b5665cece523bb822f6a223335f6fae94fb6a
Closes-bug: #1867506
(cherry picked from commit cf918fbc294be35f662d6b2851f3cdc00bc2b1bb)
"
openstack%2Fopenstack-helm-infra~master~Ie53162cfdea5553191d3b5dbdfec195e4001b255,openstack/openstack-helm-infra,master,apparmor_openvswitch,Ie53162cfdea5553191d3b5dbdfec195e4001b255,Enable AppArmor profile to Openvswitch.,MERGED,2020-01-31 02:02:16.000000000,2020-03-17 19:58:49.000000000,2020-03-17 19:57:10.000000000,13,46,14,705143,c4b2be6bcc0f96b91a86520046628bca8ec4eb2e,177,10,66,4,29131,diwakar thyagaraj,dt241s@att.com,"Enable AppArmor profile to Openvswitch.

This adds Apparmor profile to Openvswitch. This change also refactors
the apparmor job to utilize the feature gates system instead of relying
on separate scripts

Change-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
"
openstack%2Fkolla~master~I5f05efecffe53ba2929758f140daec76ac83aca6,openstack/kolla,master,,I5f05efecffe53ba2929758f140daec76ac83aca6,mark bifrost as unbuildable,MERGED,2020-03-17 11:28:27.000000000,2020-03-17 19:54:53.000000000,2020-03-17 19:53:11.000000000,1,0,0,713408,e4bb18819fc0480ecf36f98367cae48ec226bb50,24,5,1,1,24072,Marcin Juszkiewicz,hrw,"mark bifrost as unbuildable

Bifrost fails again. Let's stop building it for now.

Change-Id: I5f05efecffe53ba2929758f140daec76ac83aca6
"
openstack%2Fproject-config~master~I76b3f32adc21deeb5cc426b1cdae47fcd4a1df2f,openstack/project-config,master,,I76b3f32adc21deeb5cc426b1cdae47fcd4a1df2f,Reduce duplication in gerritbot config,ABANDONED,2019-01-10 19:00:58.000000000,2020-03-17 19:52:36.000000000,,4,182,0,629919,5db3434fbb33190d5ea5bd79582f49decdd80377,6,2,1,1,1,James E. Blair,corvus,"Reduce duplication in gerritbot config

Use yaml references to keep the projects announced in #openstack-infra
and #opendev in sync.

Change-Id: I76b3f32adc21deeb5cc426b1cdae47fcd4a1df2f
"
openstack%2Ftripleo-ansible~master~I40581a5dce4d3b1aacabaa258b847876f095f7a3,openstack/tripleo-ansible,master,mistral_to_ansible,I40581a5dce4d3b1aacabaa258b847876f095f7a3,"Unprovision confirmation, write an env file",MERGED,2020-03-09 22:44:00.000000000,2020-03-17 19:36:47.000000000,2020-03-17 19:36:47.000000000,24,3,2,711994,dbf34be5ffada63cc6fa2ccc3c163e06afe30ab2,13,4,2,1,4571,Steve Baker,steve-stevebaker,"Unprovision confirmation, write an env file

The overcloud node delete command has extra logic to map nodes to heat
resources[1], and this needs the roles to be expanded to provisioned
nodes.

This change uses the prompt=true path to also write out a provisioned
heat environment file when unprovision_environment is set.

Story: 2007212
Task: 38457

[1] https://opendev.org/openstack/python-tripleoclient/src/branch/master/tripleoclient/v1/overcloud_node.py#L125

Change-Id: I40581a5dce4d3b1aacabaa258b847876f095f7a3
"
openstack%2Frpm-packaging~stable%2Ftrain~I8b9ad829a1c3cee67d36d32e9db3b62051d63df7,openstack/rpm-packaging,stable/train,remove-python2-stable/train,I8b9ad829a1c3cee67d36d32e9db3b62051d63df7,python-tempestconf: convert to python3,MERGED,2020-03-17 16:49:13.000000000,2020-03-17 19:32:08.000000000,2020-03-17 19:32:08.000000000,32,40,0,713484,28cf2eff2e8296fb80453731887950a58f1ce543,9,4,1,1,13294,Javier Peña,jpena,"python-tempestconf: convert to python3

Change-Id: I8b9ad829a1c3cee67d36d32e9db3b62051d63df7
(cherry picked from commit b4210a639223c3c3d8496b6ce32baaf77225f775)
"
openstack%2Fproject-config~master~Ib49a2f51504fb5b001d08219d4549e9fd97bb5bb,openstack/project-config,master,opendev-channels,Ib49a2f51504fb5b001d08219d4549e9fd97bb5bb,Move diskimage-builder to #opendev,MERGED,2020-03-05 09:43:03.000000000,2020-03-17 19:22:34.000000000,2020-03-17 19:22:34.000000000,1,1,0,711412,b93e28b56feb6fa38cf9d0e6df8a82241757b6a3,8,4,1,1,6547,Andreas Jaeger,jaegerandi,"Move diskimage-builder to #opendev

Move diskimage-builder from #openstack-infra to #opendev, since images
built by OpenDev use it.

Change-Id: Ib49a2f51504fb5b001d08219d4549e9fd97bb5bb
"
openstack%2Fproject-config~master~I63f99b6bc3c9c674577249561a7d8618cb3d1d1a,openstack/project-config,master,opendev-channels,I63f99b6bc3c9c674577249561a7d8618cb3d1d1a,Cleanup #openstack-infra gerritbot,MERGED,2020-03-03 20:21:43.000000000,2020-03-17 19:21:35.000000000,2020-03-17 19:21:35.000000000,0,154,7,711106,5ee79aac9342a7485e17a87f277b4537a33d2f3f,21,10,1,1,6547,Andreas Jaeger,jaegerandi,"Cleanup #openstack-infra gerritbot

Remove the repositories that are now in #opendev:
- all opendev repos
- ttypgroup
- infra related x/ repos
- openstack/infra-manual

Remove all repos now in #zuul with exception of zuul/zuul-jobs as
that one is used by openstack heavily as well.

Remove branches, the repos with branches have been removed.

Change-Id: I63f99b6bc3c9c674577249561a7d8618cb3d1d1a
"
