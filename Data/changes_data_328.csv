id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fnova~master~Ie78ab0e26d64990409193b5428ba496798171205,openstack/nova,master,bug/1414895,Ie78ab0e26d64990409193b5428ba496798171205,Cleanup local files in libvirt when using shared block storage,ABANDONED,2017-06-27 06:50:43.000000000,2019-07-02 06:42:19.000000000,,2,1,2,477780,41a1f220bf78d49efd4db7ede3fdcbb68950339b,28,15,2,1,7488,Jeffrey Zhang,Jeffrey4l,"Cleanup local files in libvirt when using shared block storage

When evacuated the host first, then bring the node back alive,
nova-compute will clean up local files which already moved to other
nodes.  Whereas `destroy_disks` is False and migrate_data is None,
local instance files are not removed. This will cause following
live migration to this node failures.

So local instance files should be removed when using shared block
storage in the cleanup process.

Change-Id: Ie78ab0e26d64990409193b5428ba496798171205
Closes-Bug: #1414895
"
openstack%2Fkolla~master~Ic01b13c69f312342948882ba64efd82c5e085fad,openstack/kolla,master,,Ic01b13c69f312342948882ba64efd82c5e085fad,Use tini instead of dumb-init,ABANDONED,2017-02-07 07:36:49.000000000,2019-07-02 06:42:02.000000000,,11,4,7,430108,a3b034b4aebe5d0bea6202118a0c957fe125e4d5,32,4,4,3,7488,Jeffrey Zhang,Jeffrey4l,"Use tini instead of dumb-init

Docker 1.13 provide init process now, which is using tini[0]. So we
should move to tini for being coincident.

[0] https://github.com/krallin/tini

Change-Id: Ic01b13c69f312342948882ba64efd82c5e085fad
"
openstack%2Fplacement~master~I9c57125e818cc583a977c8155fcefcac2e3b59df,openstack/placement,master,cd/perfload-minor-tidies,I9c57125e818cc583a977c8155fcefcac2e3b59df,Fix up some inaccuracies in perfload comments and logs,MERGED,2019-07-01 11:55:18.000000000,2019-07-02 06:36:39.000000000,2019-07-02 06:36:39.000000000,12,10,0,668449,ed0af2e4aa8352bfe79a5f3fe8ce26b06881fedb,10,3,2,3,11564,Chris Dent,chdent,"Fix up some inaccuracies in perfload comments and logs

The review of the addition of nested perfload (in
I617161fde5b844d7f52dc766f85c1b9f1b139e4a ) identified some
inaccuracies in the comments and logs. This fixes some of
those.

It does not, however, fix some of the duplication between the
two runner scripts. This will be done later.

Change-Id: I9c57125e818cc583a977c8155fcefcac2e3b59df
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Idc3328658a4c5c21fd011c6c4f791e7993559f1a,openstack/tripleo-heat-templates,stable/rocky,bug/1822571-stable/rocky,Idc3328658a4c5c21fd011c6c4f791e7993559f1a,OVS Revalidator and handler threads,MERGED,2019-05-28 14:10:57.000000000,2019-07-02 06:36:36.000000000,2019-07-02 06:36:36.000000000,21,0,0,661763,27de28a2c3faaa366ef23670679cc35067e57c0d,20,4,3,2,30229,Haresh,hakhande,"OVS Revalidator and handler threads

Revalidator and handler threads are not coherent with lcore
Configure these threads accoding to confgiure lcores

Change-Id: Idc3328658a4c5c21fd011c6c4f791e7993559f1a
Closes-Bug: #1822571
Depends-On: https://review.openstack.org/661764
(cherry picked from commit 3c5ad2aab98fa9a1ab26cc6c348a64806276e8b9)
"
openstack%2Fkuryr-kubernetes~master~I4ce376956b66047069b6544d36f5c3d47fa38b01,openstack/kuryr-kubernetes,master,bug/1834605,I4ce376956b66047069b6544d36f5c3d47fa38b01,Fix adding pods with host networking to svc in L2 mode,MERGED,2019-06-28 12:02:21.000000000,2019-07-02 06:29:35.000000000,2019-07-01 18:02:50.000000000,10,4,0,668156,0345cd86c801f635e7dcaccc3768b28e3b3e8439,17,6,1,1,23567,Luis Tomas Bolivar,ltomasbo,"Fix adding pods with host networking to svc in L2 mode

If L2 mode is used for services, there is a need for stating the
subnet the pods belong to when adding them as members of the load
balancer. If these pods have host networking, then their IPs will
not be neither in the subnet CIDR range for the default pod subnet,
nor on the namespace subnet CIDR if namespace subnet driver is used.

To overcome this, we assume that in case the pod IP is not within
those ranges it means it is running on host networking mode. And
thus the worker_node_subnet CIDR range should be used instead.

Change-Id: I4ce376956b66047069b6544d36f5c3d47fa38b01
Closes-Bug: 1834605
"
openstack%2Foperations-guide~master~I6a53f05ca4f0b81e110ff11df28e0e9cfe061b9c,openstack/operations-guide,master,,I6a53f05ca4f0b81e110ff11df28e0e9cfe061b9c,Remove the deprecate the Glance Registry,ABANDONED,2019-05-05 03:28:27.000000000,2019-07-02 06:15:26.000000000,,6,10,0,657191,a426c8f6f0cd59ad28f002d1b0a476c58a458a3f,6,3,2,4,30356,gugug,gujin,"Remove the deprecate the Glance Registry

A spec to Deprecate the Glance Registry Service[0] was accepted in Newton,
but it contained the ambiguous statement, ""Mark the service as deprecated
and ready for removal in the Q release."" Itâ€™s now the T release, so we
need to actually deprecate it by announcing officially that the Registry
Service is deprecated in Queens and subject to removal in the S release.

[0]: http://specs.openstack.org/openstack/glance-specs/specs/newton/approved/glance/deprecate-registry.html
[1]: https://blueprints.launchpad.net/glance/+spec/deprecate-registry
[2]: https://review.openstack.org/#/c/509154/

Change-Id: I6a53f05ca4f0b81e110ff11df28e0e9cfe061b9c
"
openstack%2Foperations-guide~master~If209d537e26836d2f9d7e5a7689898d73516f905,openstack/operations-guide,master,,If209d537e26836d2f9d7e5a7689898d73516f905,Cap sphinx for py2 to match global requirements,ABANDONED,2019-06-06 08:56:54.000000000,2019-07-02 06:14:36.000000000,,2,1,0,663548,c6c37e37acbe6d2d4255e7d064a1ffbf20f695c5,4,2,1,1,30384,zhangboye,zhangboye,"Cap sphinx for py2 to match global requirements

Change-Id: If209d537e26836d2f9d7e5a7689898d73516f905
"
openstack%2Fproject-config~master~I805c7f1914ea2f900c86c4407f7dc5062d50b083,openstack/project-config,master,,I805c7f1914ea2f900c86c4407f7dc5062d50b083,Add Project Configs for ranger and ranger-agent,ABANDONED,2019-04-26 19:15:28.000000000,2019-07-02 06:14:19.000000000,,58,0,0,656000,1bae5eb78a205cb917a7d9d78745269d747b7e38,9,3,2,2,21111,STEW TY,stewie925,"Add Project Configs for ranger and ranger-agent

Created for x/ranger and x/ranger-agent projects to fix the ""not allowed
to upload merges"" when trying to do git merge commits. 


Change-Id: I805c7f1914ea2f900c86c4407f7dc5062d50b083
"
openstack%2Ftempest~master~I7dc06929ac2f3f22883435624752b7bbabf1dc82,openstack/tempest,master,target_host,I7dc06929ac2f3f22883435624752b7bbabf1dc82,Support to specify the target host for tempest cold/live migration tests,ABANDONED,2019-06-15 13:00:21.000000000,2019-07-02 05:53:36.000000000,,21,2,11,665510,c089737d9e0303dbd8d3902d68d83498e7ceb479,30,5,5,4,26721,Rocky,Rocky,"Support to specify the target host for tempest cold/live migration tests

The motivation behind such change is in live network, when we
upgrade/change compute nodes, we would like to do changes on a small portion
of nodes then verify with a bunch of tests and after that roll out to a large
scale. So it is important for us to specify src/dest host in tempest
test for this scenario.

The target_host could be left blank or once it is used, the src host should
also be specified in tempest configuration in order to avoid the src and dest
to be the same, which could fail some test cases.

Change-Id: I7dc06929ac2f3f22883435624752b7bbabf1dc82
"
openstack%2Fpython-tripleoclient~master~Ifd4229b68571fd6b91574675c1f04d7b5c755eab,openstack/python-tripleoclient,master,bug/1834307,Ifd4229b68571fd6b91574675c1f04d7b5c755eab,Ensure files exist before building/uploading plan,MERGED,2019-06-26 09:26:46.000000000,2019-07-02 05:37:07.000000000,2019-07-01 21:53:13.000000000,16,0,9,667562,bd354f1fc8ae7a36898a22e01e52815d85d8378d,37,11,6,1,28223,Cedric Jeanneret,cjeanner,"Ensure files exist before building/uploading plan

Until now, only environment files were tested for their eXistenZ. This
patch corrects this issue, allowing to get a graceful failure before
plan is compiled and uploaded.

The following files are now checked, and deploy will gracefully fail in
case of non-existing file:
- plan-environment-file
- answers-file
- networks-file

No Bioport nor Pod was harmed for this patch.

Change-Id: Ifd4229b68571fd6b91574675c1f04d7b5c755eab
Closes-Bug: #1834307
"
openstack%2Fneutron~master~I96d69bc7a1489377b5e95965e95dc3d3f2f3a933,openstack/neutron,master,bug/1834849,I96d69bc7a1489377b5e95965e95dc3d3f2f3a933,Switch to use configure_keystone_authtoken_middleware in devstack plugin,MERGED,2019-07-01 11:52:58.000000000,2019-07-02 05:35:47.000000000,2019-07-02 05:35:46.000000000,1,1,0,668447,538e663f0da6f0d630fc47a7cf738b188caa660b,15,9,1,1,11975,Slawek Kaplonski,slaweq,"Switch to use configure_keystone_authtoken_middleware in devstack plugin

Function ""configure_auth_token_middleware"" was deprecated in devstack
in [1].
Patch [1] also introduced regression which cause failures in neutron's
neutron-tempest-plugin-designate-scenario job.

New function configure_keystone_authtoken_middleware should be used
instead.
This patch switches to use this new function to solve problem
caused by patch [1] when old function is used.

[1] https://review.opendev.org/#/c/628651/

Change-Id: I96d69bc7a1489377b5e95965e95dc3d3f2f3a933
Closes-Bug: #1834849
"
openstack%2Fpython-novaclient~master~I691d7994070012af62d20d15809b7c4f143909a8,openstack/python-novaclient,master,python3-train,I691d7994070012af62d20d15809b7c4f143909a8,Add Python 3 Train unit tests,MERGED,2019-07-01 09:18:51.000000000,2019-07-02 05:26:44.000000000,2019-07-02 05:26:44.000000000,3,3,1,668395,77ad81bde80f728fe0f13809481ae5117ab8fec3,10,3,2,3,27822,pengyuesheng,pengyuesheng,"Add Python 3 Train unit tests

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I691d7994070012af62d20d15809b7c4f143909a8
"
openstack%2Fdesignate~stable%2Fstein~I0c7b45d3125ff1e007d44064a7653c1b2b07c770,openstack/designate,stable/stein,660171,I0c7b45d3125ff1e007d44064a7653c1b2b07c770,Clean up zone locking,MERGED,2019-05-20 16:49:56.000000000,2019-07-02 05:23:17.000000000,2019-07-02 05:23:17.000000000,13,18,0,660171,82e2d0725d4e55b659fb788d6646f6ebd504fc9c,26,4,2,1,8099,Graham Hayes,graham,"Clean up zone locking

Updated the decorator to log something more appropriate when locking during
zone creation. The existing implementation would log 'zone-None', this
changes it to 'create-new-zone'.

We also add a try/finally catch statement to make sure the lock is always
released when done.

* Changed lock name to be more appropriate when creating new zones.
* Implement try/finally pattern to make sure lock is always released.

Change-Id: I0c7b45d3125ff1e007d44064a7653c1b2b07c770
(cherry picked from commit 6f13191a6c939d4f38955f8cb0a67f305b463bd1)
"
openstack%2Fnova-specs~master~Ie15fded064f74411ee00381eb900c61ede06cba4,openstack/nova-specs,master,,Ie15fded064f74411ee00381eb900c61ede06cba4,fix the spelling mistakes,MERGED,2019-06-19 08:24:17.000000000,2019-07-02 05:23:00.000000000,2019-07-02 05:23:00.000000000,2,2,0,666244,71ff5e10fba8574bab5cae7fdc128a87dfae2a53,7,3,1,2,30455,jiasirui,JiaSiRui,"fix the spelling mistakes

Change-Id: Ie15fded064f74411ee00381eb900c61ede06cba4
"
openstack%2Fdesignate~master~I9af77adb8a0b5c2ee076eeffe993100d8c65196c,openstack/designate,master,improved_tests,I9af77adb8a0b5c2ee076eeffe993100d8c65196c,Remove unused code in utils and improved utils testing,MERGED,2019-06-09 23:41:26.000000000,2019-07-02 04:25:51.000000000,2019-07-02 04:25:51.000000000,495,292,0,664173,ee04eaf2af1f0a39df2feadac8b882b26414a714,31,4,14,5,22623,Erik Olof Gunnar Andersson,eoandersson,"Remove unused code in utils and improved utils testing

* Added some additional tests on previously untested code.
* Cleaned up existing tests.
* Moved existing utils tests to designate.tests.unit.
* Moved test utility code into a separate utility file.
* Removed utility code no longer referenced anywhere.

Change-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c
"
openstack%2Fzun~master~I2be897e95011202a142687ea6669966e8a157694,openstack/zun,master,assertIsNone,I2be897e95011202a142687ea6669966e8a157694,Fix invalid assertIsNone state,MERGED,2019-06-28 09:45:33.000000000,2019-07-02 03:23:09.000000000,2019-07-02 03:23:09.000000000,1,1,3,668133,2c81fc2aeccfd30700b4bf87f6259f411983d8cc,10,3,2,1,20190,zhufl,zhufl,"Fix invalid assertIsNone state

This is to fix invalid assertIsNone state of
""self.assertIsNone(None, c.get('command'))"".

Change-Id: I2be897e95011202a142687ea6669966e8a157694
"
openstack%2Fadjutant~master~Icf04f5d8dcb4a04f567e6a3bc10760831e6b43cc,openstack/adjutant,master,new/reno,Icf04f5d8dcb4a04f567e6a3bc10760831e6b43cc,Added support for reno release notes,MERGED,2019-07-02 02:43:16.000000000,2019-07-02 03:20:35.000000000,2019-07-02 03:20:35.000000000,412,2,0,668571,470f253003406d250e00a3b9d8f6e454ddf9cec7,9,2,3,8,10420,Adrian Turjak,adriant,"Added support for reno release notes

Change-Id: Icf04f5d8dcb4a04f567e6a3bc10760831e6b43cc
"
openstack%2Ftripleo-heat-templates~master~I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,openstack/tripleo-heat-templates,master,bug/1834557,I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,Add missing tag 'role_specific' for NovaPciPassthrough parameter,MERGED,2019-06-28 03:44:47.000000000,2019-07-02 03:03:43.000000000,2019-07-01 16:15:19.000000000,2,0,0,668087,8860eee23138f48756a684f2954352004ba766d4,15,9,1,1,18575,Saravanan KR,saravanankr,"Add missing tag 'role_specific' for NovaPciPassthrough parameter

Change-Id: I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34
Closes-Bug: #1834557
"
openstack%2Fswift~master~Ic61153948e35f1c09b05bfc97dfac3fb487b0898,openstack/swift,master,bug/1780204,Ic61153948e35f1c09b05bfc97dfac3fb487b0898,Use get_container_info to check existence before container PUT,MERGED,2018-07-05 10:04:27.000000000,2019-07-02 02:50:41.000000000,2019-07-01 21:24:04.000000000,103,22,9,580333,e02b9b798007b9f8c70e33c22fa6189d81a41ca3,19,5,3,2,28111,Yuxin Wang,wangyx,"Use get_container_info to check existence before container PUT

PUT request on an existing container will trigger an update on
container db. When disks where container db landed are under
heavy loads, update on the container db may fail due to LockTimout.

Hence, we first check existence, if it's not there, we PUT.

Change-Id: Ic61153948e35f1c09b05bfc97dfac3fb487b0898
Closes-Bug: 1780204
"
openstack%2Fkeystone~master~I867fc8783fbb8dca8b6500e6e3944bd56062a6bd,openstack/keystone,master,python3-train,I867fc8783fbb8dca8b6500e6e3944bd56062a6bd,Add Python 3 Train unit tests,MERGED,2019-06-26 22:43:54.000000000,2019-07-02 02:30:02.000000000,2019-07-02 02:30:02.000000000,1,1,0,667746,956bcd735fb9069bc39b20e0e7ee5c1ea1b461ff,12,4,1,1,11805,Corey Bryant,coreycb,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I867fc8783fbb8dca8b6500e6e3944bd56062a6bd
Story: #2005924
Task: #34215
"
openstack%2Fzun~master~I87958c59afea04a3687481ca3a19021db9c37877,openstack/zun,master,,I87958c59afea04a3687481ca3a19021db9c37877,Add 'region_name' to cinder client config,MERGED,2019-06-08 20:22:41.000000000,2019-07-02 02:30:01.000000000,2019-07-02 02:30:00.000000000,5,0,0,664141,aee32d94064cc988fe797020d800dcfbeca80948,6,2,1,2,11536,hongbin,hongbin,"Add 'region_name' to cinder client config

This commit add 'region_name' to cinder_client config. It allows
operators to choose the region of the cinder endpoint to use.

Change-Id: I87958c59afea04a3687481ca3a19021db9c37877
"
openstack%2Fzun~master~I7fe14c9621d3a40ee27c9f06855d466a6d3789d3,openstack/zun,master,bug/1831683,I7fe14c9621d3a40ee27c9f06855d466a6d3789d3,Add 'region_name' to neutron client config,MERGED,2019-06-08 19:59:11.000000000,2019-07-02 02:29:59.000000000,2019-07-02 02:29:59.000000000,6,1,0,664140,d3d4b169a9e2e652b692411f89d96bdc5854c824,7,2,1,2,11536,hongbin,hongbin,"Add 'region_name' to neutron client config

This commit add 'region_name' to neutron_client config. It allows
operators to choose the region of the neutron endpoint to use.

Change-Id: I7fe14c9621d3a40ee27c9f06855d466a6d3789d3
Closes-Bug: #1831683
"
openstack%2Fzun~master~I6d041fef679caf5ac2546ca1a8fdbf31e5322dec,openstack/zun,master,,I6d041fef679caf5ac2546ca1a8fdbf31e5322dec,Allow force delete a 'DELETING' container,MERGED,2019-06-08 20:26:13.000000000,2019-07-02 02:29:58.000000000,2019-07-02 02:29:58.000000000,1,1,0,664142,4cc1098c13d682f391ddcda6c86ed23ee60a031c,6,2,1,1,11536,hongbin,hongbin,"Allow force delete a 'DELETING' container

Change-Id: I6d041fef679caf5ac2546ca1a8fdbf31e5322dec
"
openstack%2Fzun~master~Iee1a3b6b90366e85c4b160391106eedae89a0814,openstack/zun,master,,Iee1a3b6b90366e85c4b160391106eedae89a0814,Ping api version for fullstack test,MERGED,2019-06-30 15:50:59.000000000,2019-07-02 02:05:11.000000000,2019-07-02 02:05:11.000000000,5,2,0,668333,4260d21b8f000b50535ab3bc513fad6f3648c071,8,2,2,1,11536,hongbin,hongbin,"Ping api version for fullstack test

Change-Id: Iee1a3b6b90366e85c4b160391106eedae89a0814
"
openstack%2Fpython-zunclient~master~I9effc8d8ec01736171c76ed82a2d83bdde385757,openstack/python-zunclient,master,python3-train,I9effc8d8ec01736171c76ed82a2d83bdde385757,Add Python 3 Train unit tests,MERGED,2019-07-01 09:08:40.000000000,2019-07-02 01:56:39.000000000,2019-07-02 01:56:39.000000000,3,3,0,668393,0ecb09fe306e552f6f7ee6d2f238b9bf5048adf4,6,2,1,3,27822,pengyuesheng,pengyuesheng,"Add Python 3 Train unit tests

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I9effc8d8ec01736171c76ed82a2d83bdde385757
"
openstack%2Fnova~master~Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3,openstack/nova,master,bp/mox-removal-train,Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3,Remove mox in virt/test_block_device.py,MERGED,2018-05-03 20:17:03.000000000,2019-07-02 01:20:18.000000000,2019-07-02 01:20:17.000000000,273,287,15,566153,1eb7b17a181902e83f6051881231411f931eae25,412,13,46,1,7634,Takashi Natsume,natsumet,"Remove mox in virt/test_block_device.py

Replace mox with mock in
nova/tests/unit/virt/test_block_device.py.

Change-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3
Implements: blueprint mox-removal-train
"
openstack%2Fadjutant~master~I99c1625f27c4cf75cb8dedce6fdb46e70bb9c2ef,openstack/adjutant,master,new/refactor_tasks,I99c1625f27c4cf75cb8dedce6fdb46e70bb9c2ef,Fix old py2 default value for action model,MERGED,2019-06-10 02:06:18.000000000,2019-07-02 01:03:44.000000000,2019-07-02 01:03:44.000000000,20,0,0,664183,090e0af734552e64f8caac0bb58b68694e8a1213,9,4,3,1,10420,Adrian Turjak,adriant,"Fix old py2 default value for action model

This just gets rid of the byte part from:
default=b'default'
which exists in the initial migration file

Change-Id: I99c1625f27c4cf75cb8dedce6fdb46e70bb9c2ef
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ia71e80c84449209653609c911fef4cb3cdce5b5c,openstack/tripleo-heat-templates,stable/stein,bug/1824840,Ia71e80c84449209653609c911fef4cb3cdce5b5c,ceilometer_agent_notification: disable-panko.yaml,MERGED,2019-07-01 15:41:39.000000000,2019-07-02 00:56:35.000000000,2019-07-02 00:56:35.000000000,10,8,0,668495,9a1491a42fd6679b9222eb22af5844ce3edf5067,8,3,1,1,28504,Vinay Kapalavai,vkapalav,"ceilometer_agent_notification: disable-panko.yaml

ceilometer-agent-notification.yaml updated the
kolla_config section in template file to include
nothing related to panko when disable-panko env file is passed.

Closes-Bug: #1824840

Change-Id: Ia71e80c84449209653609c911fef4cb3cdce5b5c
(cherry picked from commit 8fac4c4334ad2b2ef67040d053a58a9ba8857425)
"
openstack%2Fpython-freezerclient~master~Iab881a91692a886f67cc4a81720deda717695d23,openstack/python-freezerclient,master,openstackdocstheme,Iab881a91692a886f67cc4a81720deda717695d23,Bump the openstackdocstheme extension to 1.20,MERGED,2019-06-27 09:04:43.000000000,2019-07-02 00:38:16.000000000,2019-07-02 00:38:16.000000000,3,30,2,667819,db341f8d0ad37d0187dbfc3fe78b32487117228f,20,15,4,4,27822,pengyuesheng,pengyuesheng,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

This will show other versions of the doc, too.

Change-Id: Iab881a91692a886f67cc4a81720deda717695d23
"
openstack%2Fswift~master~I41867290a63b329781dc7030f9f3ce0118e2032b,openstack/swift,master,s3api-acl,I41867290a63b329781dc7030f9f3ce0118e2032b,s3api: add unit test case for s3acl,MERGED,2019-07-01 08:44:53.000000000,2019-07-02 00:27:13.000000000,2019-07-02 00:25:53.000000000,33,0,4,668389,072b4045130c31dcc6f31f9618f3647a9c735a5f,14,3,3,1,4608,Kota Tsuyuzaki,tsuyuzaki-kota,"s3api: add unit test case for s3acl

To clarify the corner case when Swift is over-loaded, or user-errors.

Change-Id: I41867290a63b329781dc7030f9f3ce0118e2032b
"
openstack%2Fnova~stable%2Fqueens~Id0f05bb1275cc816d98b662820e02eae25dc57a3,openstack/nova,stable/queens,bug/1829000,Id0f05bb1275cc816d98b662820e02eae25dc57a3,Fix live-migration when glance image deleted,MERGED,2019-05-30 07:50:41.000000000,2019-07-02 00:25:49.000000000,2019-07-02 00:25:49.000000000,22,6,0,662154,55deddf65de824ca6287537ec6947b73021557ee,22,10,1,2,10135,Lee Yarwood,lyarwood,"Fix live-migration when glance image deleted

When block live-migration is run on instance with
a deleted glance image, image.cache() is called
without specyfing instance disk size parameter,
preventing the resize of disk on the target host.

Change-Id: Id0f05bb1275cc816d98b662820e02eae25dc57a3
Closes-Bug: #1829000
(cherry picked from commit c1782bacd8461bdd8c833792864e61228fa451f1)
(cherry picked from commit b45f47c7577f7b9694ba0a6060312f1a0ec06abd)
(cherry picked from commit e06a66fe9f9cb05c2d05cae336e2676fb5e5f3d2)
"
openstack%2Foctavia~master~I61fe9502665e325ee39b6ef51e703f36f9a360f2,openstack/octavia,master,,I61fe9502665e325ee39b6ef51e703f36f9a360f2,Use ubuntu-minimal for periodic image build jobs,ABANDONED,2019-06-28 00:14:24.000000000,2019-07-01 23:44:55.000000000,,2,2,0,668069,cf7da0c7e66c8f01ac5edae6de92dd0f3defd7ef,4,2,1,1,11628,Michael Johnson,johnsom,"Use ubuntu-minimal for periodic image build jobs

Previously the periodic jobs that build Ubuntu images for
tarballs.openstack.org was using the ""ubuntu"" base element even though
we had changed the default to be ubuntu-minimal.
This patch updates the Ubuntu image build jobs to use the
ubuntu-minimal base element.

Change-Id: I61fe9502665e325ee39b6ef51e703f36f9a360f2
"
openstack%2Fopenstack-helm-infra~master~I128266fd374426f75928332690e275b7f0175318,openstack/openstack-helm-infra,master,,I128266fd374426f75928332690e275b7f0175318,Ceph-Client: allow helm test to proceed with 80% of osds avialble,MERGED,2019-06-26 15:46:24.000000000,2019-07-01 23:28:38.000000000,2019-07-01 23:28:38.000000000,14,4,14,667660,961a58dada14be66f70e35b33d2d899259f71665,29,6,10,3,28372,chinasubbareddy mallavarapu,chinasubbareddy,"Ceph-Client: allow helm test to proceed with 80% of osds avialble

This is to adjust helm test logic to  proceed the deployment if 80% of
osds are up  and running in the cluster .

Change-Id: I128266fd374426f75928332690e275b7f0175318
"
openstack%2Fopenstack-helm-infra~master~I36d08b1b7aa5925831a64c03259098f6c4753c3e,openstack/openstack-helm-infra,master,,I36d08b1b7aa5925831a64c03259098f6c4753c3e,Ceph-osd: Fix static osd id  to variable,MERGED,2019-07-01 17:44:10.000000000,2019-07-01 23:20:06.000000000,2019-07-01 23:20:06.000000000,1,1,0,668532,a20e7177c63107998446903bc10c53b5ffb390c5,10,6,1,1,28372,chinasubbareddy mallavarapu,chinasubbareddy,"Ceph-osd: Fix static osd id  to variable

This is to fix static osd id logic to variable as we have an issue
in our current logic.
this is happening only when we have file backed journals and
block backed data as shown below.

ex:

 storage:
    osd:
      - data:
          type: block-logical
          location: /dev/vdb
        journal:
          type: directory
          location: /var/lib/openstack-helm/ceph/osd/journal-one
      - data:
          type: block-logical
          location: /dev/vdc
        journal:
          type: directory
          location: /var/lib/openstack-helm/ceph/osd/journal-two

Change-Id: I36d08b1b7aa5925831a64c03259098f6c4753c3e
"
openstack%2Fneutron-lib~master~I5e9497d650176201407f0823f0fce46e009fb89c,openstack/neutron-lib,master,bp/neutronlib-decouple-db,I5e9497d650176201407f0823f0fce46e009fb89c,make sql fixtures public,MERGED,2019-06-28 15:39:46.000000000,2019-07-01 22:09:30.000000000,2019-07-01 22:09:30.000000000,8,4,0,668196,7a58374fde64fdc14e327940dde6bea4a8a39345,7,3,1,4,5367,boden,boden,"make sql fixtures public

This patch makes the _StaticSqlFixture and _SqlFixture fixture classes
public by removing the leading underscore in the name. Based on
recent testing [1][2] the current versions of these fixtures seems to
work for consumers.

[1] https://review.opendev.org/#/c/657887/
[2] https://review.opendev.org/#/c/668000/

Change-Id: I5e9497d650176201407f0823f0fce46e009fb89c
"
openstack%2Fcharm-neutron-openvswitch~master~I2fb8ccf48ffd1a3ab227b883ceacac89ff57ea02,openstack/charm-neutron-openvswitch,master,bug/1832918,I2fb8ccf48ffd1a3ab227b883ceacac89ff57ea02,Set MTU on dpdk devices when using a bond,MERGED,2019-06-21 09:08:41.000000000,2019-07-01 21:54:11.000000000,2019-07-01 21:54:11.000000000,29,0,2,666794,38452772a95e4a10a34147bd7f50ae583f27aef7,22,4,4,2,12549,gnuoy,gnuoy,"Set MTU on dpdk devices when using a bond

MTU is not being set on the dpdk devices when a dpdk bond is
being requested. Currently the mtu is being set in
neutron_ovs_utils.configure_ovs by iterating over the dictionary
returned by neutron_ovs_context.resolve_dpdk_bridges. But this
context is expecting the data-port config option to be a list of
bridge:mac mappings. In the case of a dpdk bond however,
data-port is set of bridge:bond-name mappings. The context then uses
the bond name as if it were a mac address to find the
underlying pci device which naturally fails and then returns
an empty context. This is fine as configure_ovs then moves on
to setup the dpdk bonds correctly. Unfortunately the code
to apply mtus to the devices in the case of a bond was missing
and this change adds it in.

Change-Id: I2fb8ccf48ffd1a3ab227b883ceacac89ff57ea02
"
openstack%2Fopenstacksdk~stable%2Fstein~I3b88debef5e92b2d2469952a5d12be8bf569102e,openstack/openstacksdk,stable/stein,nodepool-func,I3b88debef5e92b2d2469952a5d12be8bf569102e,Replace nodepool func jobs,MERGED,2019-06-27 17:21:27.000000000,2019-07-01 21:47:55.000000000,2019-07-01 21:47:55.000000000,2,2,0,667993,5f3954793ef338685e521f56b4f250be8f15507f,6,2,1,1,1,James E. Blair,corvus,"Replace nodepool func jobs

These are new nodepool functional jobs designed to give more
flexibility to the DIB/clean projects to define what they need
to test.  Otherwise, they behave very similarly to the current
nodepool functional jobs.

Depends-On: https://review.opendev.org/665023
Change-Id: I3b88debef5e92b2d2469952a5d12be8bf569102e
"
openstack%2Ftripleo-quickstart~master~I5b827d8e2011fb39e1df7786f012e5551cc4e0d9,openstack/tripleo-quickstart,master,bug/1834655,I5b827d8e2011fb39e1df7786f012e5551cc4e0d9,Fix failure in featureset039,MERGED,2019-07-01 09:48:48.000000000,2019-07-01 21:47:35.000000000,2019-07-01 21:47:35.000000000,2,6,0,668402,9df739dd2a569a92545072c86cf9c4a8efdce796,13,8,1,3,8367,Arx Cruz,arxcruz,"Fix failure in featureset039

With the upgrade to ansible 2.7 this role started to fail on
featureset039 due the miss of python3.
This patch fix it removing the args from shell module and updating the
python script to use /usr/bin/env.

Change-Id: I5b827d8e2011fb39e1df7786f012e5551cc4e0d9
Closes-Bug: #1834655
"
openstack%2Ftripleo-heat-templates~master~I7fa26a8d9d3b4029bdd518409013246720b057e3,openstack/tripleo-heat-templates,master,bug/1762455,I7fa26a8d9d3b4029bdd518409013246720b057e3,Add ContainerNovaLibvirtUlimit to tweak Ulimits,MERGED,2019-07-01 10:47:42.000000000,2019-07-01 21:33:06.000000000,2019-07-01 21:33:06.000000000,11,0,4,668416,8ef4f3cac8ad2ded4214a3ee26cd919ace0af9be,17,9,4,2,6926,Bogdan Dobrelya,bogdando,"Add ContainerNovaLibvirtUlimit to tweak Ulimits

Ulimit defaults in Kolla for libvirt container provide sub-uptimal
performance. Allow to override those and also provide opinionated
defaults for TripleO. Keep those defaults in sync with that we need
in the nova-compute & cinder-volume containers to avoid potential
issues with ceph.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1721434

Related-bug: #1762455

Change-Id: I7fa26a8d9d3b4029bdd518409013246720b057e3
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fswift~master~I08e9f7c0643ae0469bd1937a30c1c4477b67c31f,openstack/swift,master,,I08e9f7c0643ae0469bd1937a30c1c4477b67c31f,s3api: Put more information in the str() for InternalError,MERGED,2019-06-27 19:32:24.000000000,2019-07-01 21:26:23.000000000,2019-07-01 21:24:05.000000000,4,0,0,668031,88cec2c3966080fa79e5e623c7603c0eed4b94e3,7,2,1,1,15343,Tim Burke,tburke,"s3api: Put more information in the str() for InternalError

There are few things more frustrating when digging through a log than
finding a traceback that ends with

    raise InternalError('unexpected status code %d' % status)

while having no indication of what the status code was.

Change-Id: I08e9f7c0643ae0469bd1937a30c1c4477b67c31f
"
openstack%2Fneutron~master~I094854a51d0bd3c0fb1893e1ebd806b737a0a16b,openstack/neutron,master,sphinx,I094854a51d0bd3c0fb1893e1ebd806b737a0a16b,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-01 06:51:21.000000000,2019-07-01 21:24:02.000000000,2019-07-01 21:24:01.000000000,1,1,0,668360,5be70fae0110ed63d540973e20756e7a26cb8b29,8,4,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I094854a51d0bd3c0fb1893e1ebd806b737a0a16b
"
openstack%2Fkeystone~master~I0ad6a847ad89a7b5ae7d12b6dd90433e4a617778,openstack/keystone,master,fix-oslo.db-tests,I0ad6a847ad89a7b5ae7d12b6dd90433e4a617778,Switch order of precedence for unit test deps,MERGED,2019-06-11 22:07:59.000000000,2019-07-01 21:23:59.000000000,2019-07-01 21:23:59.000000000,1,1,0,664712,374f56580a361a55def4de25713dc632877275eb,12,5,2,1,8482,Colleen Murphy,krinkle,"Switch order of precedence for unit test deps

Without this patch, oslo.db is listed both in requirements.txt and
test-requirements.txt. Since it is listed without extras in
requirements.txt, those extras (like the mysql driver) aren't installed,
which means opportunistic database tests are not run. This change fixes
the issue by ensuring the oslo.db listed in test-requirements.txt takes
precedence.

Change-Id: I0ad6a847ad89a7b5ae7d12b6dd90433e4a617778
"
openstack%2Fdevstack~stable%2Fstein~Ied9d50b07c368d5c2be658c744f340a8d1ee41e0,openstack/devstack,stable/stein,bug/1831917,Ied9d50b07c368d5c2be658c744f340a8d1ee41e0,Add NOVA_NOTIFICATION_FORMAT variable,MERGED,2019-06-15 13:49:57.000000000,2019-07-01 21:19:54.000000000,2019-07-01 21:19:54.000000000,5,0,3,665512,a6d3f0f58db7dd0aeecd5387838f105d4c7bdaea,17,5,3,1,6873,Matt Riedemann,mriedem,"Add NOVA_NOTIFICATION_FORMAT variable

Nova change https://review.opendev.org/603079/ changed the
default configuration to send only unversioned notfications rather
than both versioned and unversioned notifications. This could break
unsuspecting downstream projects (like Watcher) whose CI jobs are
not explicitly configuring nova for the types of notifications
they need but are just relying on getting both per the previous
default of the config option.

This adds a variable which defaults to ""both"" to match the
nova default (in Stein) but allows downstream CI jobs to easily
configure another value.

Needed by https://review.opendev.org/667161/

NOTE(mriedem): The nova default changed from ""both"" to
""unversioned"" in Train. This stable/stein backport changes the
default in devstack to ""both"" to match the nova default in Stein.
The goal of the patch is to provide a way to override the config
which this still does and is necessary for the linked Watcher
patch.

Change-Id: Ied9d50b07c368d5c2be658c744f340a8d1ee41e0
(cherry picked from commit b57757ae14a54e78ebd533198564d24af77c51da)
"
openstack%2Fplacement~master~I79ce8f1b20c60b89fc1ed0ece8bcc321e9435bad,openstack/placement,master,bp/support-consumer-types,I79ce8f1b20c60b89fc1ed0ece8bcc321e9435bad,Spec: Support Consumer Types,MERGED,2019-04-23 06:15:32.000000000,2019-07-01 21:19:50.000000000,2019-07-01 21:19:50.000000000,357,0,68,654799,ed4a9a1d7847e7f4661ce4cc531141efeab48972,39,8,7,1,26936,Surya Seetharaman,tssurya,"Spec: Support Consumer Types

This spec aims at providing support for services to model
``consumer types`` in placement. While placement defines a
consumer to be an entity consuming resources from a provider
it does not provide a way to identify similar ""types"" of
consumers and henceforth allow services to group/query them
based on their types. This spec proposes to associate each
consumer to a particular type defined by the service owning
the consumer.

Change-Id: I79ce8f1b20c60b89fc1ed0ece8bcc321e9435bad
Story: 2005473
Task: 30554
"
openstack%2Fnova~stable%2Fqueens~I20981c987549eec40ad9762e74b0db16e54f4e63,openstack/nova,stable/queens,bug/1830747,I20981c987549eec40ad9762e74b0db16e54f4e63,Workaround missing RequestSpec.instance_group.uuid,MERGED,2019-06-04 18:04:46.000000000,2019-07-01 21:19:46.000000000,2019-07-01 21:19:46.000000000,13,14,0,663110,20b90f2e26e6a46a12c2fd943b4472c3147528fa,14,7,1,2,6873,Matt Riedemann,mriedem,"Workaround missing RequestSpec.instance_group.uuid

It's clear that we could have a RequestSpec.instance_group
without a uuid field if the InstanceGroup is set from the
_populate_group_info method which should only be used for
legacy translation of request specs using legacy filter
properties dicts.

To workaround the issue, we look for the group scheduler hint
to get the group uuid before loading it from the DB.

The related functional regression recreate test is updated
to show this solves the issue.

Conflicts:
      nova/objects/request_spec.py

NOTE(mriedem): The conflict is due to not having change
Ib33719a4b9599d86848c618a6e142c71ece79ca5 in Queens.

Change-Id: I20981c987549eec40ad9762e74b0db16e54f4e63
Closes-Bug: #1830747
(cherry picked from commit da453c2bfe86ab7a825f0aa7ebced15886f7a5fd)
(cherry picked from commit 8569eb9b4fb905cb92041b84c293dc4e7af27fa8)
(cherry picked from commit 9fed1803b4d6b2778c47add9c327f0610edc5952)
"
openstack%2Ftripleo-common~master~Ie543782569de14d56bc41740611f7512e8357a22,openstack/tripleo-common,master,bp/reduce-deployment-resources,Ie543782569de14d56bc41740611f7512e8357a22,Render NetworkConfig into config-download dir,MERGED,2019-06-06 15:48:11.000000000,2019-07-01 21:06:52.000000000,2019-06-16 06:24:52.000000000,30,2,8,663706,85b7a4eea5c9a36f5a4d2bc4bef5836e2338ab8d,52,7,8,4,7144,James Slagle,slagle,"Render NetworkConfig into config-download dir

Use the HostnameNetworkConfigMap stack output so that the full
NetworkConfig script can be saved per server into the config-download
directory.

Change-Id: Ie543782569de14d56bc41740611f7512e8357a22
Depends-On: I315f2e2eb880e9f3cb67d9f4cdc789f08c6c4021
implements: blueprint reduce-deployment-resources
"
openstack%2Fopenstack-ansible~master~Ia3495c29872ee4e8deeb99c265fd28e3bc4dbd39,openstack/openstack-ansible,master,zanata/translations,Ia3495c29872ee4e8deeb99c265fd28e3bc4dbd39,Imported Translations from Zanata,MERGED,2019-06-17 07:29:58.000000000,2019-07-01 20:50:26.000000000,2019-07-01 20:50:26.000000000,168,121,0,665600,5c3881af234e6451641b22967483f2135cbdbbd0,21,3,5,3,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia3495c29872ee4e8deeb99c265fd28e3bc4dbd39
"
openstack%2Fnova~stable%2Fqueens~I05700c97f756edb7470be7273d5c9c3d76d63e29,openstack/nova,stable/queens,bug/1830747,I05700c97f756edb7470be7273d5c9c3d76d63e29,Add regression recreate test for bug 1830747,MERGED,2019-06-03 14:39:12.000000000,2019-07-01 20:34:29.000000000,2019-07-01 20:34:29.000000000,140,0,0,662774,581df2c98676b6734e8195ab56c9e0dba74789a5,13,4,2,1,6873,Matt Riedemann,mriedem,"Add regression recreate test for bug 1830747

Before change I4244f7dd8fe74565180f73684678027067b4506e in Stein, when
a cold migration would reschedule to conductor it would not send the
RequestSpec, only the filter_properties. The filter_properties contain
a primitive version of the instance group information from the RequestSpec
for things like the group members, hosts and policies, but not the uuid.
When conductor is trying to reschedule the cold migration without a
RequestSpec, it builds a RequestSpec from the components it has, like the
filter_properties. This results in a RequestSpec with an instance_group
field set but with no uuid field in the RequestSpec.instance_group.
That RequestSpec gets persisted and then because of change
Ie70c77db753711e1449e99534d3b83669871943f, later attempts to load the
RequestSpec from the database will fail because of the missing
RequestSpec.instance_group.uuid.

The test added here recreates the pre-Stein scenario which could still
be a problem (on master) for any corrupted RequestSpecs for older
instances.

NOTE(mriedem): In this version we have to request a specific port
to avoid a NetworkAmbiguous failure when creating the server.

Change-Id: I05700c97f756edb7470be7273d5c9c3d76d63e29
Related-Bug: #1830747
(cherry picked from commit c96c7c5e13bde39944a9dde7da7fe418b311ca2d)
(cherry picked from commit 8478a754802e29dffbb65ef363ee189162f0adea)
(cherry picked from commit a0a187c9bb9bef149e193027a6eedc09ba10ce1f)
"
openstack%2Fnova~stable%2Fqueens~I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5,openstack/nova,stable/queens,bug/1821798,I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5,Include all network devices in nova diagnostics,MERGED,2019-06-18 19:36:36.000000000,2019-07-01 20:34:22.000000000,2019-07-01 20:34:22.000000000,34,18,0,666152,2009859b5225541d8560e5ca1efb91de644d12be,26,8,2,2,30009,FranÃ§ois Palin,FrancoisPalin,"Include all network devices in nova diagnostics

get_instance_diagnostics expected all interfaces
to have a <target> element with a ""dev"" attribute in
the instance XML. This is not the case for VFIO
interfaces (<interface type=""hostdev"">).
This caused an IndexError when looping over
the interfaces.

This patch fixes this issue by retrieving interfaces
data directly from the guest XML and adding nics
appropriately to the diagnostics object.

The new functional test has been left out of this
cherry-pick, since a lot of the test code that
supports the test is missing and would have to be
back-ported just for that one test, including a
ramification of other commit dependencies.
The functional code change itself is rather simple,
and not having this functional test present in
Queens is considered to be low risk.

Change-Id: I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5
Closes-Bug: #1821798
(cherry picked from commit ab7c968b6f66404c032f62a952e353f94d3be165)
(cherry picked from commit 1d4f64b190afc60b0c2a56de718209869c41cfb3)
(cherry picked from commit 19ca8bcc2232e1d81efc349948a21cc1c3fc811d)
"
openstack%2Fnova~stable%2Fqueens~Ia167cf1a08281932b9f4ae40aae6885e65cfc538,openstack/nova,stable/queens,bug/1780973,Ia167cf1a08281932b9f4ae40aae6885e65cfc538,DRY up test_rollback_live_migration_set_migration_status,MERGED,2019-05-31 13:55:17.000000000,2019-07-01 20:34:15.000000000,2019-07-01 20:34:15.000000000,13,47,0,662470,88fd40fe5dddc695b59c4612b822625ffc616c96,8,4,1,1,10135,Lee Yarwood,lyarwood,"DRY up test_rollback_live_migration_set_migration_status

This test was 99% redundant with test_rollback_live_migration()
except for the migration_status override, so it's refactored into
a common method.

Change-Id: Ia167cf1a08281932b9f4ae40aae6885e65cfc538
(cherry picked from commit 32b7f48c00905bd9e1feb121504fb79fae77b9ea)
"
openstack%2Fnova~stable%2Fqueens~I01c63e685113bf30e687ccb14a4d18e344b306f6,openstack/nova,stable/queens,bug1821373,I01c63e685113bf30e687ccb14a4d18e344b306f6,Fix retry of instance_update_and_get_original,MERGED,2019-05-15 15:33:01.000000000,2019-07-01 20:34:09.000000000,2019-07-01 20:34:08.000000000,56,21,0,659320,f9c2503609bfad0b871d9e87227aa2bb5c137467,25,10,2,2,9555,Matthew Booth,MatthewBooth,"Fix retry of instance_update_and_get_original

_instance_update modifies its 'values' argument. Consequently if it is
retried due to an update conflict, the second invocation has the wrong
arguments.

A specific issue this causes is that if we called it with
expected_task_state a concurrent modification to task_state will cause
us to fail and retry. However, expected_task_state will have been popped
from values on the first invocation and will not be present for the
second. Consequently the second invocation will fail to perform the
task_state check and therefore succeed, resulting in a race.

We rewrite the old race unit test which wasn't testing the correct
thing for 2 reasons:

1. Due to the bug fixed in this patch, although we were calling
   update_on_match() twice, the second call didn't check the task state.
2. side_effect=iterable returns function items without executing them,
   but we weren't hitting this due to the bug fixed in this patch.

Closes-Bug: #1821373
Change-Id: I01c63e685113bf30e687ccb14a4d18e344b306f6
(cherry picked from commit aae5c7aa3819ad9161fd2effed3872d540099230)
(cherry picked from commit 61fef49b1555c6509398fc47c21319c1b5e50505)
(cherry picked from commit 4540cd6ef9731837cf4ed1e56850bcfa3512ae1c)
"
openstack%2Fnova~stable%2Fqueens~I34a3f8d4a496217eb01790e2d124111625bf5f85,openstack/nova,stable/queens,bug/1825583,I34a3f8d4a496217eb01790e2d124111625bf5f85,Fix {min|max}_version in ironic Adapter setup,MERGED,2019-04-30 14:49:59.000000000,2019-07-01 20:34:02.000000000,2019-07-01 20:34:01.000000000,9,3,3,656523,ba3ad2d65af20332e768a6df0e2c2d64292f9e2c,18,9,2,2,14070,Eric Fried,efried,"Fix {min|max}_version in ironic Adapter setup

Change If625411f40be0ba642baeb02950f568f43673655 introduced
nova.utils.get_ksa_adapter, which accepts min_version and max_version
kwargs to be passed through to the ksa Adapter constructor. These are
supposed to represent minimum and maximum *major* API versions,
min_version was erroneously set to *microversions* when setting up the
Adapter for ironicclient. This commit changes it to a major version.
(Microversion negotiation is done within ironicclient itself.)

Also, this bug went latent for several releases because a) it only seems
to be triggered when region_name is given in the conf; but also b)
ironicclient has code to discover a reasonable endpoint if passed None.
So this change also adds a warning log if we try and fail to discover
the endpoint via ksa.

Conflicts:
	nova/tests/unit/virt/ironic/test_client_wrapper.py
This was just because the old microversion was 1.37 instead of 1.38. The
patch still changes it to 1.0.

Change-Id: I34a3f8d4a496217eb01790e2d124111625bf5f85
Closes-Bug: #1825583
(cherry picked from commit 13278be9f265e237fc68ee60acfacaa1df68522e)
(cherry picked from commit 35bda4ec385e4c2b3d4cee07467f5077b13b1dd9)
"
openstack%2Fnova~stable%2Fqueens~I212ac2b5ccd93e00adb7b9fe102fcb70857c6073,openstack/nova,stable/queens,bug/1771506,I212ac2b5ccd93e00adb7b9fe102fcb70857c6073,xenapi/agent: Change openssl error handling,MERGED,2019-04-29 12:53:53.000000000,2019-07-01 20:33:55.000000000,2019-07-01 20:33:55.000000000,27,5,1,656308,5b0adaa0ca5f757bb224d1ffac0c6705b03ee2ed,19,8,4,2,11805,Corey Bryant,coreycb,"xenapi/agent: Change openssl error handling

Prior to this patch, if the openssl command returned a zero exit code
and wrote details to stderr, nova would raise a RuntimeError exception.
This patch changes the behavior to only raise a RuntimeError exception
when openssl returns a non-zero exit code. Regardless of the exit code
a warning will always be logged with stderr details if stderr is not
None. Note that processutils.execute will now raise a
processutils.ProcessExecutionError exception for any non-zero exit code
since we are passing check_exit_code=True, which we convert to a
Runtime error.

Thanks to Dimitri John Ledkov <xnox@ubuntu.com> and Eric Fried
<openstack@fried.cc> for helping with this patch.

Conflicts:
    nova/virt/xenapi/agent.py

NOTE(coreycb): The conflict is due to
Ibe2f478288db42f8168b52dfc14d85ab92ace74b not being in stable/queens.

Change-Id: I212ac2b5ccd93e00adb7b9fe102fcb70857c6073
Partial-Bug: #1771506
(cherry picked from commit 1da71fa4ab1d7d0f580cd5cbc97f2dfd2e1c378a)
(cherry picked from commit 64793cf6f77c5ba7c9ea51662d936c7545ffce8c)
(cherry picked from commit 82de38ad4ce86c5398538a8635713a86407216d0)
"
openstack%2Fnova~stable%2Fqueens~Ibfedcb8814437c53081f5a2993ab84b25d73e557,openstack/nova,stable/queens,bug/1824315,Ibfedcb8814437c53081f5a2993ab84b25d73e557,Stop logging traceback when skipping quiesce,MERGED,2019-05-21 09:54:39.000000000,2019-07-01 20:27:48.000000000,2019-07-01 20:27:48.000000000,7,2,0,660328,0cad3089d3e84e8e3436e171d00c8cce8717fd6d,10,7,1,1,10135,Lee Yarwood,lyarwood,"Stop logging traceback when skipping quiesce

During snapshot of a volume-backed instance, we attempt to quiesce the
instance before doing the snapshot. If quiesce is not supported or the
qemu guest agent is not enabled, we will skip the quiesce and move on
to the snapshot.

Because quiesce is a call to nova-compute over RPC, when the libvirt
driver raises QemuGuestAgentNotEnabled, oslo.messaging will append the
full traceback to the exception message [1] for the remote caller. So,
a LOG.info(..., exp) log of the exception object will result in a log
of the full traceback. Logging of the full traceback causes confusion
for those debugging CI failures.

We would rather not log the full traceback in this case where we are
catching the exception and emitting an INFO message, so we should use
exp.format_message() instead of oslo.messaging's __str__ override.

[1] https://github.com/openstack/oslo.messaging/blob/40c25c2/oslo_messaging/_drivers/common.py#L212

Related-Bug: #1824315

Change-Id: Ibfedcb8814437c53081f5a2993ab84b25d73e557
(cherry picked from commit 66070416ab670daf4734f2c30ad2df5d96e615e6)
(cherry picked from commit 2f7b1031a9b80d15052fcd9b22831f1db0486a4a)
(cherry picked from commit b9caf7d9c7423a658c837aaedb7c4fb3580bda47)
"
openstack%2Fkeystoneauth~master~I0e4ec9d2b2e283beae6332923f44806ad7add9f8,openstack/keystoneauth,master,python3-train,I0e4ec9d2b2e283beae6332923f44806ad7add9f8,Add Python 3 Train unit tests,MERGED,2019-06-26 22:44:24.000000000,2019-07-01 20:12:21.000000000,2019-07-01 20:12:21.000000000,2,3,0,667747,92ec14c66b5aa0762ecf0b313b53def4a17d45b1,8,4,1,2,11805,Corey Bryant,coreycb,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I0e4ec9d2b2e283beae6332923f44806ad7add9f8
Story: #2005924
Task: #34215
"
openstack%2Fpython-keystoneclient~master~I88c28ddf9601bb7b69b663a44562ab2c118050de,openstack/python-keystoneclient,master,python3-train,I88c28ddf9601bb7b69b663a44562ab2c118050de,Add Python 3 Train unit tests,MERGED,2019-06-26 23:31:58.000000000,2019-07-01 20:02:55.000000000,2019-07-01 20:02:55.000000000,3,4,0,667758,890d3a10ad1b8ad822c975bb1366fc8f98eafc00,10,4,2,2,11805,Corey Bryant,coreycb,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I88c28ddf9601bb7b69b663a44562ab2c118050de
Story: #2005924
Task: #34215
"
openstack%2Fpython-keystoneclient~master~I822e1195532df2b701f10087cabceda458211986,openstack/python-keystoneclient,master,667304,I822e1195532df2b701f10087cabceda458211986,Follow bandit B105: hardcoded_password_string,MERGED,2019-06-25 09:39:36.000000000,2019-07-01 20:02:54.000000000,2019-07-01 20:02:54.000000000,2,1,0,667304,7b7d81d09e4168a901cf14eb78f33d5725a75875,11,4,2,1,27621,Vishakha Agarwal,Vishakha,"Follow bandit B105: hardcoded_password_string

tox -e bandit failing due to the string 'token'
in [1]. According to the bandit 105 any password
assigned to a string should not contain any of the
variables in [2]

[1]https://github.com/openstack/python-keystoneclient/blob/master/keystoneclient/common/cms.py#L41
[2]https://bandit.readthedocs.io/en/latest/plugins/b105_hardcoded_password_string.html

Change-Id: I822e1195532df2b701f10087cabceda458211986
"
openstack%2Fnetworking-ovn~master~I7959704e9400c173139f47f2c8e9150e629560b9,openstack/networking-ovn,master,ovsdbapp-adoption,I7959704e9400c173139f47f2c8e9150e629560b9,Adapt WaitForMACBindingDeleteEvent to use WaitEvent,MERGED,2019-05-29 15:39:16.000000000,2019-07-01 20:02:17.000000000,2019-07-01 20:02:17.000000000,2,15,4,662023,5fae1c3b1a19470616ae3e9e43a6a1c50c25d64b,23,6,2,1,8655,Jakub Libosvar,jlibosva,"Adapt WaitForMACBindingDeleteEvent to use WaitEvent

WaitForMACBindingDeleteEvent is also a copy and can adopt from ovsdbapp

Change-Id: I7959704e9400c173139f47f2c8e9150e629560b9
"
openstack%2Fdesignate~master~Id802d981de5577a54ff1b5b71e9e134d1175bbf4,openstack/designate,master,config_improvements,Id802d981de5577a54ff1b5b71e9e134d1175bbf4,Change configuration to be consistent with underlines,MERGED,2019-06-10 02:03:53.000000000,2019-07-01 19:27:06.000000000,2019-07-01 19:27:06.000000000,97,97,0,664182,c5bc8947814b57de9b9bae9c67a201bb59d30ae8,25,4,8,13,22623,Erik Olof Gunnar Andersson,eoandersson,"Change configuration to be consistent with underlines

This patch simply changes all configuration names to
consitently use underlines over dashes to make it
easier to search the code.

Change-Id: Id802d981de5577a54ff1b5b71e9e134d1175bbf4
"
openstack%2Fansible-role-redhat-subscription~master~Ide4d3679cbf1ec4de1200db32083ba6115678f0d,openstack/ansible-role-redhat-subscription,master,format-markdown,Ide4d3679cbf1ec4de1200db32083ba6115678f0d,Force to use markdown to prevent pypi issue,ABANDONED,2019-07-01 18:42:41.000000000,2019-07-01 18:44:11.000000000,,1,0,0,668541,c969bdad142b13f88834d152c1fc7aeb4732ef10,2,0,1,1,28522,HervÃ© Beraud,hberaud,"Force to use markdown to prevent pypi issue

Recently the pypi team have reintroduce some deactivated tests
on package deployment and especially tests concerning long_description
syntaxe.

If projects don't specify that they use the markdown format the
package deployment will fail if something went wrong in the markdown format.

By example if a project use inline literal this can be an issue due to
the fact that if `long_description_content_type` is missing [1]. The
default format will be `text/x-rst` where code block is different from
markdown.

These changes force to use the markdown format to avoid this kind of issue
on project who use `README` at markdown format.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007459.html

For more details:
https://github.com/pypa/warehouse/issues/5890#issuecomment-494868157

Change-Id: Ide4d3679cbf1ec4de1200db32083ba6115678f0d
"
openstack%2Fopenstack-helm-addons~master~I731b7d03c9699db0fcab61439479796617ebff2a,openstack/openstack-helm-addons,master,,I731b7d03c9699db0fcab61439479796617ebff2a,fix(sonobuoy): only add apparmor for results-publisher when publishing,MERGED,2019-06-19 21:31:02.000000000,2019-07-01 18:40:56.000000000,2019-07-01 18:40:56.000000000,7,2,0,666451,d0100055af201e9c61f160686bd76aebe9132646,8,4,1,2,28701,Dustin Specker,dustinspecker,"fix(sonobuoy): only add apparmor for results-publisher when publishing

Before, if conf.publish_results was false then Helm would fail to
install the Sonobuoy chart because the apparmor annotation was being
added for the results-publisher container, but the container didn't
actually exist because it was disabled.

Now, the apparmor annotation is only included for the results-publisher
container when conf.publish_results is true.

Change-Id: I731b7d03c9699db0fcab61439479796617ebff2a
"
openstack%2Fkuryr-kubernetes~master~Ibebf62a3b49f40b148b35cc6ef8c90789daa46f5,openstack/kuryr-kubernetes,master,fix-wrong-exception-handled,Ibebf62a3b49f40b148b35cc6ef8c90789daa46f5,Ensure correct exception is catched in case of not found exception,MERGED,2019-06-28 12:37:27.000000000,2019-07-01 18:38:16.000000000,2019-07-01 18:38:16.000000000,3,3,0,668165,3e3c9b8dd5929403f13753673e98a688975ee2d4,20,5,1,1,27032,Maysa de Macedo Souza,maysa,"Ensure correct exception is catched in case of not found exception

We are trying to catch a Neutron exception for a Kubernetes call.
This patch adds the correct handling in case a Kubernetes exception
is raised.

Change-Id: Ibebf62a3b49f40b148b35cc6ef8c90789daa46f5
"
openstack%2Fnova~master~Id6c0a0ee41520dd974052d7cdd17ca35d688f6b0,openstack/nova,master,neutronapi-migrate-instance-finish,Id6c0a0ee41520dd974052d7cdd17ca35d688f6b0,Use errors_out_migration decorator on finish_resize,MERGED,2019-03-05 21:59:09.000000000,2019-07-01 18:34:24.000000000,2019-03-29 00:14:55.000000000,4,4,7,641138,08eaba7db861fb427b2ce7c3a7ac3c97887eeef3,32,15,1,2,6873,Matt Riedemann,mriedem,"Use errors_out_migration decorator on finish_resize

This replaces the errors_out_migration_ctxt usage with the
errors_out_migration decorator which does the same thing. Note
that I9bcc1605945ddc35df2288be72e194c050b8ddd9 originally changed
how migration status error handling worked but at this point they
are the same and if *anything* fails in finish_resize then the
migration status should be 'error' rather than just if part of it
fails.

Change-Id: Id6c0a0ee41520dd974052d7cdd17ca35d688f6b0
"
openstack%2Fpuppet-nova~stable%2Fstein~I1d8fff0a90a2f35687ede46aef9886abf75b1f1f,openstack/puppet-nova,stable/stein,escape_date_arg,I1d8fff0a90a2f35687ede46aef9886abf75b1f1f,Escape date command parameter,MERGED,2019-07-01 12:40:55.000000000,2019-07-01 18:32:06.000000000,2019-07-01 18:32:06.000000000,4,4,0,668453,e0cfbc5c11a33199e4e3d3491f7fa354e5520f29,10,6,1,2,20733,Rajesh Tailor,rajesht,"Escape date command parameter

Fixed `date` command parameter by escaping %
in `nova-manage db purge` command.

Change-Id: I1d8fff0a90a2f35687ede46aef9886abf75b1f1f
(cherry picked from commit 1eb5ee747d45128220edf1d1446819fa324402b8)
"
openstack%2Ftripleo-common~master~Ia20e7907c3a60727d9402bbec1456eedc7970a51,openstack/tripleo-common,master,fix/reqs-check,Ia20e7907c3a60727d9402bbec1456eedc7970a51,Adds tox environment to test requirements conflicts,MERGED,2019-07-01 13:24:03.000000000,2019-07-01 18:26:56.000000000,2019-07-01 18:26:56.000000000,10,1,0,668460,1111d4ad0dc935f5524394a2a3b2b3a3e0ccf538,9,9,1,2,24162,Sorin SbÃ¢rnea,ssbarnea,"Adds tox environment to test requirements conflicts

Enables developer to check requirements for conflicts instead of letting
him wondering clueless about a Zuul job failure.

Also fixes broken requirements-check job due to sphinx conflict:

ERROR: Could not find a global requirements entry to match package sphinx. If the package is already included in the global list, the name or platform markers there may not match the local settings.

Change-Id: Ia20e7907c3a60727d9402bbec1456eedc7970a51
"
openstack%2Fnetworking-ovn~master~If06d8580e8e2637b19ff5d76e16f635a5c1d328e,openstack/networking-ovn,master,bug/1834498,If06d8580e8e2637b19ff5d76e16f635a5c1d328e,Hash Ring: Make workers health check more reliable,MERGED,2019-06-27 14:56:33.000000000,2019-07-01 18:23:14.000000000,2019-07-01 18:23:14.000000000,140,6,17,667953,f93638b04233b2baf7590398ae384ccd0f51985e,39,5,11,6,6773,Lucas Alvares Gomes,lucasagomes,"Hash Ring: Make workers health check more reliable

When under pressure the maintenance thread may not honor the time interval
that it should run its tasks. For something more sensitive like the task
that health checks the nodes from the Hash Ring this can be problematic
because it may cause it to appear that the workers have died and the
ring will get rebalanced; we do not want to have a long interval for it
because in case of a real failure we do want the ring to rebalance fast.

This patch implements a new approach to enhance the health check of the
Hash Ring workers by allowing the worker to ""touch"" the ring to say that
its alive.

The patch also includes unittests for the OvnIdlDistributedLock class
that was missing before.

Closes-Bug: #1834498
Change-Id: If06d8580e8e2637b19ff5d76e16f635a5c1d328e
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fproject-config~master~Idc5264b3ed54f49471ce8c35d6622fe472d6f002,openstack/project-config,master,forge-publish,Idc5264b3ed54f49471ce8c35d6622fe472d6f002,Add testing job to zuul-jobs,MERGED,2019-07-01 14:45:59.000000000,2019-07-01 18:14:51.000000000,2019-07-01 18:14:51.000000000,2,0,0,668483,26e8124a6f5e99eb83f8599338df07b8c68d9f29,7,3,1,1,6547,Andreas Jaeger,jaegerandi,"Add testing job to zuul-jobs

Add a test for the new role install-pdk-dependencies in zuul-jobs.

Depends-On: https://review.opendev.org/668337
Change-Id: Idc5264b3ed54f49471ce8c35d6622fe472d6f002
"
openstack%2Fcharm-ceph-radosgw~master~Ie0202b05319c1bcab8334f8c8356acca4c96eaf5,openstack/charm-ceph-radosgw,master,bug/unreliable-volumes,Ie0202b05319c1bcab8334f8c8356acca4c96eaf5,Shift ceph-radosgw to constrained instance size,MERGED,2019-07-01 15:21:10.000000000,2019-07-01 18:10:16.000000000,2019-07-01 18:10:16.000000000,12,0,0,668489,c6ac5946ba70bd7c1338a98ad462deb6347772cb,10,4,2,10,20634,Chris MacNaughton,Chris.MacNaughton,"Shift ceph-radosgw to constrained instance size

This tries to resolve an issue where the CI environment
places instances on machines with swap volumes and
Juju storage hands off bad information

Change-Id: Ie0202b05319c1bcab8334f8c8356acca4c96eaf5
"
openstack%2Fadjutant~master~Ibd9d93366ad66c5818e47045a903c97a64daece7,openstack/adjutant,master,format-markdown,Ibd9d93366ad66c5818e47045a903c97a64daece7,Force to use markdown to prevent pypi issue,ABANDONED,2019-07-01 18:06:12.000000000,2019-07-01 18:08:22.000000000,,1,0,0,668535,097df6f09ea6e8235a5e62401416016d78efe7de,2,0,1,1,28522,HervÃ© Beraud,hberaud,"Force to use markdown to prevent pypi issue

Recently the pypi team have reintroduce some deactivated tests
on package deployment and especially tests concerning long_description
syntaxe.

If projects don't specify that they use the markdown format the
package deployment will fail if something went wrong in the markdown format.

By example if a project use inline literal this can be an issue due to
the fact that if `long_description_content_type` is missing [1]. The
default format will be `text/x-rst` where code block is different from
markdown.

These changes force to use the markdown format to avoid this kind of issue
on project who use `README` at markdown format.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007459.html

For more details:
https://github.com/pypa/warehouse/issues/5890#issuecomment-494868157

Change-Id: Ibd9d93366ad66c5818e47045a903c97a64daece7
"
openstack%2Fproject-config~master~I83c73a8cff9728336b6208cab04e7c97c4c4ad86,openstack/project-config,master,gra1-kafs,I83c73a8cff9728336b6208cab04e7c97c4c4ad86,Switch ovh/GRA1 to opendev.org mirror,MERGED,2019-07-01 06:57:07.000000000,2019-07-01 17:30:33.000000000,2019-07-01 17:30:33.000000000,1,1,0,668361,45f3b85860123129630b612ef1f28c5456875892,11,4,2,1,7118,Ian Wienand,iwienand,"Switch ovh/GRA1 to opendev.org mirror

This is our second kafs based mirror (rax.IAD being the first), chosen
to be geographically remote to the AFS servers.  It is currently
manually configured with 5.2-rc7 kernel, which has all the current
kAFS fixes incorporated.

Switch it in for initial testing

Change-Id: I83c73a8cff9728336b6208cab04e7c97c4c4ad86
"
openstack%2Fproject-config~master~I5d9d9d5f2d54c6023e3d08988579d667714affb5,openstack/project-config,master,gra1-kafs,I5d9d9d5f2d54c6023e3d08988579d667714affb5,Switch RAX ORD mirrors to new opendev.org mirrors,MERGED,2019-06-07 07:40:02.000000000,2019-07-01 17:29:51.000000000,2019-07-01 17:29:51.000000000,1,1,0,663854,0e0dc2e8fd6ad77b03e34a3d8fc15231d8330ea3,13,5,2,1,7118,Ian Wienand,iwienand,"Switch RAX ORD mirrors to new opendev.org mirrors

The mirror.ord.rax.opendev.org host is running, with OpenAFS 1.8.3.
This is similar to rax.dfw which has been running without issue since
I78d938eaaec993ac64c7e701a506a108f5c7fb07.

Switch it in.

Depends-On: https://review.opendev.org/663852
Change-Id: I5d9d9d5f2d54c6023e3d08988579d667714affb5
"
openstack%2Fpaunch~stable%2Fstein~I04d2f141370cd88787422d6adf4b22cc54ecf028,openstack/paunch,stable/stein,666891,I04d2f141370cd88787422d6adf4b22cc54ecf028,Quote the health check command argument during a debug with print-cmd.,MERGED,2019-06-27 12:54:35.000000000,2019-07-01 17:26:18.000000000,2019-07-01 17:26:17.000000000,16,2,0,667922,210c0d662ec9c748629cfaf7a1e1d451f84bc894,7,6,1,3,8655,Jakub Libosvar,jlibosva,"Quote the health check command argument during a debug with print-cmd.

This is one of the few arguments that sometimes requires the use of
spaces. `paunch debug --action print-cmd` will now display a command
to stdout that can be copied, pasted, and executed reliability.

Change-Id: I04d2f141370cd88787422d6adf4b22cc54ecf028
Resolves: rhbz#1694572
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit a3041539488254ae7743d7f36f743a6ea1bae97e)
"
openstack%2Fcyborg-specs~master~If3d62c3d0f05166d6a8813d152e16c145c47ff39,openstack/cyborg-specs,master,bp/device-profiles,If3d62c3d0f05166d6a8813d152e16c145c47ff39,Specification for device profiles.,MERGED,2018-09-16 16:39:19.000000000,2019-07-01 17:25:35.000000000,2019-07-01 03:54:27.000000000,399,0,8,602978,c25a24fafcf26357799d2794a6289d3f3a3fdd69,29,8,7,1,21672,Sundar Nadathur,nsundar,"Specification for device profiles.

Introduces the notion of device profiles, explains why they are needed
and describes how they are used.

APIImpact
DocImpact

Spec for blueprint device-profiles

Change-Id: If3d62c3d0f05166d6a8813d152e16c145c47ff39
"
openstack%2Ftripleo-ansible~master~Ic8307b1ede9fab24eb38528b6e0730aa4dee5b09,openstack/tripleo-ansible,master,localTesting,Ic8307b1ede9fab24eb38528b6e0730aa4dee5b09,Add connection type to localhost inventory,MERGED,2019-06-28 18:40:39.000000000,2019-07-01 17:12:18.000000000,2019-07-01 17:12:18.000000000,1,1,0,668230,ec6f0dd4b5a26f9049c82ca3b81370d9831b8b31,15,5,4,1,7353,Kevin Carter,cloudnull,"Add connection type to localhost inventory

The localhost inventory has been updated to set the connection
type to ""local"" this will speed up test deployments as Ansible
will no longer need to broker an ssh connection to the underlying
machine.

Change-Id: Ic8307b1ede9fab24eb38528b6e0730aa4dee5b09
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-ansible~master~I237f743aa85fac9eb56a4c7aac54a7545cc125db,openstack/tripleo-ansible,master,localTesting,I237f743aa85fac9eb56a4c7aac54a7545cc125db,Add local testing aids and documentation,MERGED,2019-06-28 18:38:27.000000000,2019-07-01 17:12:18.000000000,2019-07-01 17:12:17.000000000,82,0,6,668229,abcf3726aa99bc49b17b755973a93a566307cf3b,17,6,4,2,7353,Kevin Carter,cloudnull,"Add local testing aids and documentation

This change adds contributing documentation to illustrate how
developers can test roles using molecule on local machines.
To assist in local testing an rc environment file has been
added to the project root which will ensure ansible is
configured to use resources out of this project.

Change-Id: I237f743aa85fac9eb56a4c7aac54a7545cc125db
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
"
openstack%2Ftripleo-ansible~master~I68e978c9414119a743431eb59be4771db4b96cd0,openstack/tripleo-ansible,master,localTesting,I68e978c9414119a743431eb59be4771db4b96cd0,Add bindep to the repository,MERGED,2019-06-28 18:19:00.000000000,2019-07-01 17:12:17.000000000,2019-07-01 17:12:17.000000000,80,0,6,668227,db2486e74fd2281e282798c088981177387244c9,20,5,4,2,7353,Kevin Carter,cloudnull,"Add bindep to the repository

This change adds a bindep file and install script which will allow
developers to quickly identify and install system requirements on
test machines.

Change-Id: I68e978c9414119a743431eb59be4771db4b96cd0
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
"
openstack%2Fsenlin-tempest-plugin~master~I13a31b3dab9667d9ac68da0c2dacfde338a80b42,openstack/senlin-tempest-plugin,master,,I13a31b3dab9667d9ac68da0c2dacfde338a80b42,Switch to the new canonical constraints URL on master,MERGED,2019-06-22 07:25:19.000000000,2019-07-01 17:08:02.000000000,2019-07-01 17:08:02.000000000,1,1,0,666950,e8c68ffb745c241edfe345471b206706eb4914cb,7,3,1,1,28748,chenker,chenke,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://github.com/openstack/nova/blob/master/tox.ini#L17

Change-Id: I13a31b3dab9667d9ac68da0c2dacfde338a80b42
"
openstack%2Fkolla-ansible~stable%2Fstein~I2c0c0377157b0680ec49b591225b75fe23b0878a,openstack/kolla-ansible,stable/stein,ci-remove-redundant-logic-stable/stein,I2c0c0377157b0680ec49b591225b75fe23b0878a,"Revert ""CI - remove unnecessary logic when building images for upgrade""",MERGED,2019-07-01 11:13:33.000000000,2019-07-01 17:05:17.000000000,2019-07-01 15:50:32.000000000,5,0,0,668432,5c91b8a99efb3019fa58800e3e56bd3a986a3c90,8,4,1,1,14826,Mark Goddard,mgoddard,"Revert ""CI - remove unnecessary logic when building images for upgrade""

This reverts commit 08cf94546730321fa87eee04311aa2c2445b7d98.

Change-Id: I2c0c0377157b0680ec49b591225b75fe23b0878a
"
openstack%2Fkolla-ansible~master~I81ce7c007ff267ebbbb721bcdb7eebc0dd575bf8,openstack/kolla-ansible,master,ci-remove-redundant-logic,I81ce7c007ff267ebbbb721bcdb7eebc0dd575bf8,"Revert ""CI - remove unnecessary logic when building images for upgrade""",MERGED,2019-07-01 11:12:58.000000000,2019-07-01 17:05:00.000000000,2019-07-01 15:48:47.000000000,5,0,0,668431,acac12798c29ac9a1488a5ad1dc977dc8e0aab34,8,4,1,1,14826,Mark Goddard,mgoddard,"Revert ""CI - remove unnecessary logic when building images for upgrade""

This reverts commit 8ce5ffd0c21c221d88bacca5fec03ca042dfed85.

Change-Id: I81ce7c007ff267ebbbb721bcdb7eebc0dd575bf8
"
openstack%2Foslo.config~master~Ic2b36fe8be872d298a106c3f64905a5b935ced61,openstack/oslo.config,master,config-validation,Ic2b36fe8be872d298a106c3f64905a5b935ced61,Add special handling for keystone_authtoken group,MERGED,2019-03-27 15:58:51.000000000,2019-07-01 17:04:13.000000000,2019-07-01 17:04:13.000000000,33,15,0,648165,0c734acf17c8382f0c0c360aa318f25f0d8c75f4,15,4,2,2,6928,Ben Nemec,bnemec,"Add special handling for keystone_authtoken group

The keystone_authtoken options are created (not just registered)
dynamically at runtime because of a need to not have a dependency on
oslo.config in that library. As a result, there is no sane way to
validate those options.

This change adds a list of known problematic groups that we should
ignore missing opts from. It also adds an info level log message that
we are ignoring them so users know we can't confirm or deny the
correctness of that piece of config.

Change-Id: Ic2b36fe8be872d298a106c3f64905a5b935ced61
"
openstack%2Fpuppet-nova~stable%2Frocky~I1d8fff0a90a2f35687ede46aef9886abf75b1f1f,openstack/puppet-nova,stable/rocky,escape_date_arg,I1d8fff0a90a2f35687ede46aef9886abf75b1f1f,Escape date command parameter,MERGED,2019-07-01 12:41:40.000000000,2019-07-01 16:43:46.000000000,2019-07-01 16:43:46.000000000,4,4,0,668454,37ea7eb11cf128db8e9cb62bb436e19c8d85a319,9,6,1,2,20733,Rajesh Tailor,rajesht,"Escape date command parameter

Fixed `date` command parameter by escaping %
in `nova-manage db purge` command.

Change-Id: I1d8fff0a90a2f35687ede46aef9886abf75b1f1f
(cherry picked from commit 1eb5ee747d45128220edf1d1446819fa324402b8)
(cherry picked from commit e0cfbc5c11a33199e4e3d3491f7fa354e5520f29)
"
openstack%2Fdesignate~master~I99d228f850e03045febf196f12eef5927f7605b9,openstack/designate,master,vagrant-updates,I99d228f850e03045febf196f12eef5927f7605b9,Update vagrant config,MERGED,2019-04-01 13:50:23.000000000,2019-07-01 16:33:42.000000000,2019-07-01 16:33:42.000000000,21,12,0,649031,3734f2a13f094fe86c354c87e102543f9b1fa006,13,3,3,2,8099,Graham Hayes,graham,"Update vagrant config

* Move to bionic
* Add openSUSE Leap 15
* * Update Bind devstack backend plugin to work on Leap
* Remove port mapping
* Rmove the .gitconfig copy into the VM

Change-Id: I99d228f850e03045febf196f12eef5927f7605b9
Signed-off-by: Graham Hayes <gr@ham.ie>
"
openstack%2Fneutron-fwaas~master~If177e682e00e38eeb75a7ad77cf5796a04fe831b,openstack/neutron-fwaas,master,switch-to-py3,If177e682e00e38eeb75a7ad77cf5796a04fe831b,Switch neutron-fwaas-v2-dsvm-tempest job to python 3,MERGED,2019-06-21 15:38:29.000000000,2019-07-01 16:26:48.000000000,2019-07-01 16:26:48.000000000,2,1,0,666871,1569b84aa932626d5f1a83dbb23a0bbe28347745,18,4,3,2,11975,Slawek Kaplonski,slaweq,"Switch neutron-fwaas-v2-dsvm-tempest job to python 3

It also changes devstack plugin to set fwaas L3 agent extension in
""agent"" section of config file. Previously it was set in ""AGENT""
section and it looks that it makes the difference when running on
Python 3.

Change-Id: If177e682e00e38eeb75a7ad77cf5796a04fe831b
"
openstack%2Fnova~stable%2Fstein~I9e852e25ea89f32bf19cdaeb1f5dac8f749f5dbc,openstack/nova,stable/stein,bug/1811726,I9e852e25ea89f32bf19cdaeb1f5dac8f749f5dbc,Delete resource providers for all nodes when deleting compute service,MERGED,2019-06-21 13:52:21.000000000,2019-07-01 16:25:12.000000000,2019-07-01 16:25:12.000000000,32,9,0,666840,e9889be94ee58a6da78ef96d09d8f5282b86f648,15,7,1,3,6873,Matt Riedemann,mriedem,"Delete resource providers for all nodes when deleting compute service

Change I7b8622b178d5043ed1556d7bdceaf60f47e5ac80 started deleting the
compute node resource provider associated with a compute node when
deleting a nova-compute service. However, it would only delete the
first compute node associated with the service which means for an
ironic compute service that is managing multiple nodes, the resource
providers were not cleaned up in placement. This fixes the issue by
iterating all the compute nodes and cleaning up their providers.
Note this could be potentially a lot of nodes, but we don't really
have many good options here but to iterate them and clean them up
one at a time.

Note that this is best-effort but because of how the
SchedulerReportClient.delete_resource_provider method ignores
ResourceProviderInUse errors, and we could have stale allocations
on the host for which delete_resource_provider is not accounting,
namely allocations from evacuated instances (or incomplete migrations
though you can't migrate baremetal instances today), we could still
delete the compute service and orphan those in-use providers. That,
however, is no worse than before this change where we did not try
to cleanup all providers. The issue described above is being tracked
with bug 1829479 and will be dealt with separately.

Change-Id: I9e852e25ea89f32bf19cdaeb1f5dac8f749f5dbc
Closes-Bug: #1811726
(cherry picked from commit 650fe118d128f09f78552b82abc114bb4b84930e)
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Fstein~Ifec88251712a99ad7afbb51e386adf15bc4841eb,openstack/openstack-ansible-os_keystone,stable/stein,bug/1830397,Ifec88251712a99ad7afbb51e386adf15bc4841eb,Prevent autoremoval of packages on bare metal,MERGED,2019-06-12 00:41:40.000000000,2019-07-01 16:25:08.000000000,2019-07-01 16:25:08.000000000,2,0,0,664753,aee98634496f457177652307a9f4613cdd290c36,9,5,1,1,14552,Bjoern Teipel,bjoern,"Prevent autoremoval of packages on bare metal

When deploying OSA on bare metal (no container tech),
the os keystone role interferes with os horizon as the
package apache2 is automatically uninstalled.

Change-Id: Ifec88251712a99ad7afbb51e386adf15bc4841eb
Closes-Bug: #1830397
(cherry picked from commit ae6c1982ec2101547b6744cf157aae4ce5bbb49e)
"
openstack%2Fdesignate~master~If81186c42f522a4d429b492e22ad66388fc25a5f,openstack/designate,master,improved_tests,If81186c42f522a4d429b492e22ad66388fc25a5f,Add some additional logging for failing task test,MERGED,2019-06-28 18:03:49.000000000,2019-07-01 16:25:07.000000000,2019-07-01 16:25:06.000000000,17,6,0,668221,1f97fab5de52667a17f41fe144e241449e853bda,15,3,1,2,22623,Erik Olof Gunnar Andersson,eoandersson,"Add some additional logging for failing task test

Change-Id: If81186c42f522a4d429b492e22ad66388fc25a5f
"
openstack%2Fneutron-fwaas~master~I864af53231b9a28e30b901c1989c49fed22f4d46,openstack/neutron-fwaas,master,switch-to-py3,I864af53231b9a28e30b901c1989c49fed22f4d46,Convert legacy-neutron-fwaas-v2-dsvm-tempest job to zuulv3,MERGED,2019-06-18 20:27:48.000000000,2019-07-01 16:23:27.000000000,2019-07-01 16:23:27.000000000,24,2,10,666165,f81def6e30bfa94a563ecaf4866780215bf0a317,43,9,11,1,11975,Slawek Kaplonski,slaweq,"Convert legacy-neutron-fwaas-v2-dsvm-tempest job to zuulv3

This patch renames job ""legacy-neutron-fwaas-v2-dsvm-tempest"" to
""neutron-fwaas-v2-dsvm-tempest"" and converts it zuulv3 syntax.

Change-Id: I864af53231b9a28e30b901c1989c49fed22f4d46
"
openstack%2Fkolla~stable%2Fstein~Ia8bbdeac3416bd3d489d52e21c82a847b6e212e0,openstack/kolla,stable/stein,stub/neutron-14.0.2,Ia8bbdeac3416bd3d489d52e21c82a847b6e212e0,Update neutron to 14.0.2. https://review.opendev.org/#/c/663122/,ABANDONED,2019-07-01 15:01:19.000000000,2019-07-01 16:21:01.000000000,,1,1,0,668486,df58d2431109c1a4a3e1a0310f63019dc1d538f1,4,2,1,1,30484,Michael,mabarkdoll,"Update neutron to 14.0.2.
https://review.opendev.org/#/c/663122/

Fixes:
https://launchpad.net/bugs/1234750
https://launchpad.net/bugs/1194350
https://launchpad.net/bugs/1826419

Change-Id: Ia8bbdeac3416bd3d489d52e21c82a847b6e212e0
"
openstack%2Ftripleo-common~master~I3fa0717203f3f6eae852d019bec71e97eb485aa2,openstack/tripleo-common,master,bug/1832827,I3fa0717203f3f6eae852d019bec71e97eb485aa2,Fix tripleo-upgrade-hiera key deleting,MERGED,2019-06-14 09:33:46.000000000,2019-07-01 16:20:33.000000000,2019-06-18 10:38:20.000000000,9,3,0,665338,6cfc204630c6771e27f946d64befa5d4107785ba,20,7,2,1,8042,JiÅ™Ã­ StrÃ¡nskÃ½,jistr,"Fix tripleo-upgrade-hiera key deleting

The commit fixes these issues:

* When tripleo-upgrade-hiera key deleting was used multiple times in a
  playbook, the fact tripleo_upgrade_hiera_data_del persisted from the
  previous invocation instead of getting gradually filled from empty
  dict. This resulted in never deleting the keys except on the first
  run of the task.

* When the key deleting was called in an Ansible `loop`, the external
  `item` variable and the internal `item` in the deleting code
  conflicted on naming, breaking the removal of the key. We now use
  `loop_var: upgrade_hiera_item` to avoid naming collisions.

Closes-Bug: #1832827
Change-Id: I3fa0717203f3f6eae852d019bec71e97eb485aa2
"
openstack%2Ftripleo-upgrade~master~Ia108af3799dfd1be24c6ea738e42f0cde19c90c3,openstack/tripleo-upgrade,master,leapp,Ia108af3799dfd1be24c6ea738e42f0cde19c90c3,Disable Leapp when using OOOQ,MERGED,2019-06-13 11:16:33.000000000,2019-07-01 16:19:57.000000000,2019-06-19 19:27:27.000000000,13,0,3,665113,181111e62de7f0f3fd0d6fd8cd62834f1783f148,25,6,4,3,8042,JiÅ™Ã­ StrÃ¡nskÃ½,jistr,"Disable Leapp when using OOOQ

When using OOOQ, don't enable the Leapp chunks of upgrade workflow yet.

Change-Id: Ia108af3799dfd1be24c6ea738e42f0cde19c90c3
"
openstack%2Frpm-packaging~master~Idd25d03787345ca3cef6f083d37d13bde43928d5,openstack/rpm-packaging,master,openstackdocstheme,Idd25d03787345ca3cef6f083d37d13bde43928d5,update openstackdocstheme to 1.30.0,ABANDONED,2019-05-31 01:25:11.000000000,2019-07-01 16:18:13.000000000,,0,0,0,662368,f54c2539449e530864b6d0e502786a65cd403d40,8,4,2,0,30298,liuwei,ivy123,"update openstackdocstheme to 1.30.0

Change-Id: Idd25d03787345ca3cef6f083d37d13bde43928d5
"
openstack%2Fkolla~stable%2Fstein~I3c057e92c501bca358b164997d02b74e029ddbff,openstack/kolla,stable/stein,stub/neutron-14.0.2,I3c057e92c501bca358b164997d02b74e029ddbff,Update Neutron to 14.0.2 Update ironic-inspector to 8.2.2,ABANDONED,2019-07-01 15:41:44.000000000,2019-07-01 16:16:56.000000000,,1,1,0,668496,f3bf47591fc27206deaf4799759208af454a47c4,3,0,2,1,30484,Michael,mabarkdoll,"Update Neutron to 14.0.2
Update ironic-inspector to 8.2.2

Change-Id: I3c057e92c501bca358b164997d02b74e029ddbff
"
openstack%2Ftripleo-validations~stable%2Fstein~Ica0d4af5faa1693baa8f336db71143e0457401f0,openstack/tripleo-validations,stable/stein,chrony_support-stable/stein,Ica0d4af5faa1693baa8f336db71143e0457401f0,Add support for the chrony implementation,MERGED,2019-06-26 08:42:51.000000000,2019-07-01 16:15:17.000000000,2019-07-01 16:15:17.000000000,39,18,0,667552,367fbf3ab6878702019709471e1e9c122d323c11,10,5,1,6,11491,Gael Chamoulaud,gchamoul,"Add support for the chrony implementation

Chronyd is installed and configured by default since the Stein
Cycle. This patch adds the support of the latter.

This patch also renames the 'ntpstat' playbook and role by 'ntp' which
is more generic.

Change-Id: Ica0d4af5faa1693baa8f336db71143e0457401f0
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit d4db54cbfd005c7b8b2ad046ae3240d03a87d185)
"
openstack%2Ftripleo-common~master~I1809400d798d4350f9642a348ecbe81714e6af47,openstack/tripleo-common,master,lp1834456,I1809400d798d4350f9642a348ecbe81714e6af47,Check third-party container image metadata.,MERGED,2019-06-27 10:18:42.000000000,2019-07-01 16:11:43.000000000,2019-07-01 15:19:03.000000000,7,2,10,667837,67440277926e73ea0f8f913170c0013b068a99e6,28,6,5,1,25402,Francesco Pantano,fmount,"Check third-party container image metadata.

During the evaluation of a third parties image that doesn't
contain the expected metadata json, the image_uploader section
fails.
This commit adds the check on the returned dict and adds the
ability to use the fallback_tag.

Change-Id: I1809400d798d4350f9642a348ecbe81714e6af47
Closes-Bug: #1834456
"
openstack%2Fpuppet-nova~master~I7a7a3519faa656654dcaee1dee7705101abd5136,openstack/puppet-nova,master,dnm,I7a7a3519faa656654dcaee1dee7705101abd5136,DNM: Test build job,ABANDONED,2019-07-01 15:46:07.000000000,2019-07-01 15:59:33.000000000,,1,1,0,668499,b24be63febdfb5945fe17617c780eae646ea2343,3,1,1,1,6547,Andreas Jaeger,jaegerandi,"DNM: Test build job

Testing that change Id40ff665e92606455ef6b544f11394db2201c8b9
works as desired.

Change-Id: I7a7a3519faa656654dcaee1dee7705101abd5136
"
openstack%2Fplacement~master~I4e10168014ac83a0c49375ec547980a70bc61541,openstack/placement,master,nested-magic,I4e10168014ac83a0c49375ec547980a70bc61541,DNM: Allow RequestGroups without resources,ABANDONED,2019-05-07 01:28:44.000000000,2019-07-01 15:56:49.000000000,,267,3,9,657510,ff4776aee77343d75985607ebbd6cfc166b04046,26,3,7,8,11564,Chris Dent,chdent,"DNM: Allow RequestGroups without resources

This change adjusts RequestGroup parsing to allow individual
groups that do not have a resources entry, _as long as there
is at least one resources somewhere in the entire query_.

This is done in microversion 1.34

A WIP for your consideration on the implementation. It is WIP
because:

* Docs are still needed
* This is not just 'required*' without 'resources*', it is
  anything* without resources* as long as the request has
  resources somewhere.
* There are no tests which exercise this in the actual data
  handling.

Two gabbi files are added, granular-resourceless.yaml demonstrates
some confusion on how this ought to work. Input appreciated on
how we should order (and test) the probably several ways in which
this will need to be adjusted.

The other, traits-flow-down-experiment.yaml, gives a simple model
to explore how in-tree traits might work.

There is a hacked up experiment that shows how things could be
forced to work with a non-granular request.

The most recent patchset extends things to explore traits-flow-down
in more detail, including removing the early trait filtering in
get_trees_matching_all in research_context. Interestingly this
leads to only one test failure, which might give us some clues
on how to proceed if we choose a direction like this. There
are likely some performance implications with that change.

Change-Id: I4e10168014ac83a0c49375ec547980a70bc61541
Story: 2005575
Task: 30784
"
openstack%2Fopenstack-zuul-jobs~master~Id541bb066b553ea1d75c2832a4f18ef695bb8cc4,openstack/openstack-zuul-jobs,master,forge-publish,Id541bb066b553ea1d75c2832a4f18ef695bb8cc4,Remove bindep role for Puppet build job,MERGED,2018-12-27 19:56:10.000000000,2019-07-01 15:40:21.000000000,2019-07-01 14:40:16.000000000,0,4,0,627554,5c6d6d639f4f8de89b7de8b8cb2ca55698fd99c0,20,7,3,1,16137,Tobias Urdin,tobasco,"Remove bindep role for Puppet build job

When [1] is merged we no longer have to rely
on the bindep file when puppet modules are built
since it doesn't need the puppet binary.

[1] https://review.openstack.org/#/c/627534/

Depends-On: https://review.openstack.org/627534
Change-Id: Id541bb066b553ea1d75c2832a4f18ef695bb8cc4
"
openstack%2Foslo.messaging~master~I0b7bad13c698d49743a630011b2b00c79f205390,openstack/oslo.messaging,master,force-md-format,I0b7bad13c698d49743a630011b2b00c79f205390,Force to use markdown to prevent pypi issue,ABANDONED,2019-07-01 13:48:36.000000000,2019-07-01 15:40:13.000000000,,2,1,0,668467,791291e7e04fb3d0748696941d1dac0a869acdd9,2,0,1,1,28522,HervÃ© Beraud,hberaud,"Force to use markdown to prevent pypi issue

https://github.com/pypa/warehouse/issues/5890#issuecomment-494868157

Change-Id: I0b7bad13c698d49743a630011b2b00c79f205390
"
openstack%2Fpuppet-tripleo~stable%2Fstein~I82f62df0a95f03afbda1b6a4ddaa67ef908030a9,openstack/puppet-tripleo,stable/stein,bug/1831938-stable/stein,I82f62df0a95f03afbda1b6a4ddaa67ef908030a9,Allow enabling custom backends with manila,MERGED,2019-06-25 13:34:13.000000000,2019-07-01 15:39:35.000000000,2019-07-01 15:38:33.000000000,22,18,0,667366,ecbec17a339f0965c65ba29a182e571fd6a625cb,12,6,2,1,16643,Goutham Pacha Ravi,gouthamr,"Allow enabling custom backends with manila

It is possible to provide the config settings
to add an arbitrary and unmanaged backend to Manila
at deployment time via Heat environment files. However,
puppet-tripleo doesn't support extending the
list of enabled backends. Add this capability.

Change-Id: I82f62df0a95f03afbda1b6a4ddaa67ef908030a9
Closes-Bug: #1831938
(cherry picked from commit 914cf1f124fa5617373ce2f779b1eff202da2e87)
"
openstack%2Fpython-tripleoclient~master~Ibaf24f89d15e8423679eef45f1691a1a660c71a3,openstack/python-tripleoclient,master,,Ibaf24f89d15e8423679eef45f1691a1a660c71a3,mock kernel_arch() in tests.,MERGED,2019-06-27 03:05:39.000000000,2019-07-01 15:36:25.000000000,2019-07-01 15:36:25.000000000,7,2,0,667778,f05cbe322b358195744e43db1be29cc69894cde1,8,4,1,1,12898,Tony Breeds,tonyb,"mock kernel_arch() in tests.

When running unit tests on non x86_64 systems (for example s390x) the
unit tests fail with:

tripleoclient.tests.v1.overcloud_image.test_overcloud_image.TestUploadOvercloudImageFullMultiArch.test_overcloud_create_images_with_arch
----------------------------------------------------------------------------------------------------------------------------------------
Captured traceback:
~~~~~~~~~~~~~~~~~~~
    b'Traceback (most recent call last):'
    b'  File ""/usr/lib/python3.6/site-packages/mock/mock.py"", line 1305, in patched'
    b'    return func(*args, **keywargs)'
    b'  File ""/builddir/build/BUILD/python-tripleoclient-12.0.1.dev32/tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py"", line 671, in test_overcloud_create_images_with_arch'
    b""    mock.call(11, hw_architecture='ppc64le'),""
    b'  File ""/usr/lib/python3.6/site-packages/mock/mock.py"", line 969, in assert_has_calls'
    b'    ), cause)'
    b'  File ""<string>"", line 3, in raise_from'
    b'AssertionError: Calls not found.'
    b""Expected: [call(10, hw_architecture='x86_64'), call(11, hw_architecture='ppc64le')]""
    b""Actual: [call(10, hw_architecture='s390x'), call(11, hw_architecture='ppc64le')]""
    b''

So we need to mock the call to kernel_arch() so that regardless of where
we're running the unit tests we always appear to be x86_64.

Change-Id: Ibaf24f89d15e8423679eef45f1691a1a660c71a3
"
openstack%2Ftripleo-heat-templates~master~I43875eee401bb75e14874c776339a7c2a02d300f,openstack/tripleo-heat-templates,master,feature/firewall,I43875eee401bb75e14874c776339a7c2a02d300f,Allow ssh from all ctlplane network subnets,MERGED,2019-06-24 18:10:27.000000000,2019-07-01 15:36:23.000000000,2019-07-01 15:36:23.000000000,9,4,0,667172,a89d46e0380431abed7c21a127c3bcb0d5dceb81,15,10,2,1,24245,Harald JensÃ¥s,harald.jensas,"Allow ssh from all ctlplane network subnets

In change I89cff59947dda3f51482486c41a3d67c4aa36a3e
the default firewall rules where changed so that
only the %{hiera('ctlplane_subnet')} is allowed. In
DCN (spine-and-leaf) the result is that SSH to
nodes in remote subnets is not possible.

This change replaces the use of hiera, and instead
use the 'net_cidr_map' to create firewall rules for
each subnet on the ctlplane network. By creating a
rule for each subnet on the ctlplane SSH will be
allowed within the L3 ctlplane network.

Closes-Bug: #1834161
Change-Id: I43875eee401bb75e14874c776339a7c2a02d300f
"
openstack%2Fneutron-fwaas~master~I53c5abd7c60c6925cc9dc9ee95a210fcc7e98a6c,openstack/neutron-fwaas,master,bug/1834298,I53c5abd7c60c6925cc9dc9ee95a210fcc7e98a6c,Add bindep.txt file to neutron-fwaas repo,MERGED,2019-06-26 21:56:36.000000000,2019-07-01 15:34:38.000000000,2019-07-01 15:34:38.000000000,6,0,1,667736,ad1f5471b2447d1c31156a2adb66ac7a95b603f9,9,5,1,1,11975,Slawek Kaplonski,slaweq,"Add bindep.txt file to neutron-fwaas repo

It is needed to put there libpq-dev package which is required
at least in py37 job.

Change-Id: I53c5abd7c60c6925cc9dc9ee95a210fcc7e98a6c
Closes-Bug: #1834298
"
openstack%2Fpython-novaclient~master~I3594f05a2eb189395d4b691c47e1e0764fa0fe44,openstack/python-novaclient,master,sphinx,I3594f05a2eb189395d4b691c47e1e0764fa0fe44,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-01 09:20:41.000000000,2019-07-01 15:32:37.000000000,2019-07-01 15:32:37.000000000,1,1,0,668398,12193fc56b7524d12b208941101d83b019c8b87b,7,3,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I3594f05a2eb189395d4b691c47e1e0764fa0fe44
"
openstack%2Fopenstack-helm-infra~master~Icc221a3a73475655cbf061caeb178b89a15218e5,openstack/openstack-helm-infra,master,,Icc221a3a73475655cbf061caeb178b89a15218e5,I abandoned older very similar PS for this one.,ABANDONED,2019-07-01 15:25:55.000000000,2019-07-01 15:27:42.000000000,,0,0,0,668492,dae4b30e5edc5d40d1e1ed457e6ab85ccb21bc7b,2,0,1,0,30120,Colbert Philippe,cp0396,"I abandoned older very similar PS for this one.

Change-Id: Icc221a3a73475655cbf061caeb178b89a15218e5
"
openstack%2Frequirements~master~Ieaf517f5b244a70821bce2a09e72e9964ff662c4,openstack/requirements,master,bug/1811515,Ieaf517f5b244a70821bce2a09e72e9964ff662c4,Bump Pyroute2 to 0.5.5,ABANDONED,2019-05-16 07:47:19.000000000,2019-07-01 15:26:34.000000000,,1,1,0,659480,d0c3329d09ad53bae22106183594e987203af16f,6,7,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Bump Pyroute2 to 0.5.5

Change-Id: Ieaf517f5b244a70821bce2a09e72e9964ff662c4
Related-Bug: #1811515
"
openstack%2Fpython-swiftclient~master~Ibcbed3df4febe81cdf13855656e2daaca8d521b4,openstack/python-swiftclient,master,,Ibcbed3df4febe81cdf13855656e2daaca8d521b4,Fix SLO re-upload,MERGED,2019-04-10 23:22:54.000000000,2019-07-01 15:25:25.000000000,2019-06-28 08:04:12.000000000,64,18,3,651666,9021a58c240e156f54ffafdc4609868f348d3ebc,22,5,3,3,15343,Tim Burke,tburke,"Fix SLO re-upload

Previously, if you uploaded a file as an SLO then re-uploaded it
with the same segment size and mtime, the second upload would
go delete the segments it just (re)uploaded. This was due to
us tracking old_slo_manifest_paths and new_slo_manifest_paths
in different formats; one would have a leading slash while the
other would not.

Now, normalize to the stripped-slash version so we stop deleting
segments we just uploaded.

Change-Id: Ibcbed3df4febe81cdf13855656e2daaca8d521b4
"
openstack%2Fpuppet-keystone~master~Ic141bd796e58b26eb77dd81f4a3a8e0d6bf388ca,openstack/puppet-keystone,master,fix_ubuntu_apache_error_from_crap_packaging,Ic141bd796e58b26eb77dd81f4a3a8e0d6bf388ca,Remove package apache2 keystone.conf,ABANDONED,2019-04-24 16:13:52.000000000,2019-07-01 15:21:29.000000000,,13,0,1,655489,e5ef34fd8deacf4e0f07c1ef257ea7b2be588a8d,11,3,2,2,8318,Matthew J Black,mjblack,"Remove package apache2 keystone.conf

As part of the Ubuntu packaging the keystone
install a keystone.conf in the apache2 sites-available
and create a symlink. The apache2 puppet module
is suppose to remove it but there is no resource
dependency to have this occur before the service
is restarted. This fix ensures the unmanaged files
are purge before puppet adds vhosts managed by it.

Change-Id: Ic141bd796e58b26eb77dd81f4a3a8e0d6bf388ca
"
openstack%2Fcinder~master~Iab720028d3c60c09420e06658c7137d66d376e31,openstack/cinder,master,zadara_force_vol_detach,Iab720028d3c60c09420e06658c7137d66d376e31,Add a Zadara driver force detach volume option,ABANDONED,2019-07-01 08:05:32.000000000,2019-07-01 15:16:01.000000000,,9,3,1,668381,63812d080b3de75b45425c65e6985d8484e76b53,26,17,2,2,30629,Bhaa Shakur,bshakur,"Add a Zadara driver force detach volume option

Zadara driver is missing force detach volume option in order to supress all
warning messages that are returned from the VPSA

Change-Id: Iab720028d3c60c09420e06658c7137d66d376e31
"
openstack%2Fopenstack-helm-infra~master~I54136566b1b0f4df8cc944d0ad44d16d6ea41dcf,openstack/openstack-helm-infra,master,,I54136566b1b0f4df8cc944d0ad44d16d6ea41dcf,Commented out the lines that install node_exporter.  Not necessary because it's already done here!,ABANDONED,2019-04-18 16:14:55.000000000,2019-07-01 15:11:04.000000000,,4,4,3,653805,5dc61af0e3721f1907f538664d0c9172ec364bab,5,4,1,1,30120,Colbert Philippe,cp0396,"Commented out the lines that install node_exporter.  Not necessary because it's already done here!

Change-Id: I54136566b1b0f4df8cc944d0ad44d16d6ea41dcf
"
openstack%2Fmonasca-log-api~master~I4edf3307be5a2d668306efa33c0ab55f6867d8a6,openstack/monasca-log-api,master,,I4edf3307be5a2d668306efa33c0ab55f6867d8a6,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 08:41:29.000000000,2019-07-01 15:10:53.000000000,2019-07-01 15:10:53.000000000,13,13,5,654843,55e7a787a727b5aee4cb613905df7b65ccdec10a,25,6,4,5,27781,zhulingjie,zhulingjie,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I4edf3307be5a2d668306efa33c0ab55f6867d8a6
"
openstack%2Fopenstack-helm-infra~master~I6a6b3a53be135b0543c5798cbc0a2a4bf0be4fb2,openstack/openstack-helm-infra,master,,I6a6b3a53be135b0543c5798cbc0a2a4bf0be4fb2,Files added to implement the lasermetrics node_exporter,ABANDONED,2019-04-18 15:55:40.000000000,2019-07-01 15:09:02.000000000,,163,0,4,653801,6683c7ea3a3a8e15e71e0c67e0eef7b27945c594,6,5,1,5,30120,Colbert Philippe,cp0396,"Files added to implement the lasermetrics node_exporter

Change-Id: I6a6b3a53be135b0543c5798cbc0a2a4bf0be4fb2
"
openstack%2Fzun~master~I0750abba7989774553ff1027579ea4e96e7d5ff6,openstack/zun,master,python3-train,I0750abba7989774553ff1027579ea4e96e7d5ff6,Add Python 3 Train unit tests,MERGED,2019-07-01 08:00:46.000000000,2019-07-01 15:06:05.000000000,2019-07-01 15:06:05.000000000,3,3,0,668380,607a2a2bd6657d0c05ef73d6a008e2cf005228ac,6,2,1,3,27822,pengyuesheng,pengyuesheng,"Add Python 3 Train unit tests

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I0750abba7989774553ff1027579ea4e96e7d5ff6
"
openstack%2Fpuppet-nova~master~I58016bce92b29414808b5f06a0a85ae78edff26b,openstack/puppet-nova,master,dnm,I58016bce92b29414808b5f06a0a85ae78edff26b,DNM: Test using new zuul base,ABANDONED,2019-06-28 09:19:20.000000000,2019-07-01 15:03:42.000000000,,1,1,0,668121,7a2a05892c9b46e752783d3dd875488ba35c6a8a,4,2,1,1,16137,Tobias Urdin,tobasco,"DNM: Test using new zuul base

Tests the revert from legacy-base to base [1]

[1] https://review.opendev.org/#/c/668105/

Depends-On: https://review.opendev.org/#/c/668105/
Change-Id: I58016bce92b29414808b5f06a0a85ae78edff26b
"
openstack%2Fopenstack-ansible-os_octavia~master~Ib945aa3720019893f1f2653484c8374d932daa0d,openstack/openstack-ansible-os_octavia,master,fix-octavia,Ib945aa3720019893f1f2653484c8374d932daa0d,Update default test amphora image from xenial to bionic,MERGED,2019-06-24 13:15:03.000000000,2019-07-01 15:02:05.000000000,2019-07-01 15:02:05.000000000,1,1,0,667085,737e6d165f342b9e8b926cac73cc3ed75dfcfc52,14,4,3,1,25023,Jonathan Rosser,jrosser,"Update default test amphora image from xenial to bionic

Depends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87
Depends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
Change-Id: Ib945aa3720019893f1f2653484c8374d932daa0d
"
openstack%2Fsahara~master~Id73bbf0a844dee39f9c72df72b1bdb49fa094806,openstack/sahara,master,openstackdocstheme,Id73bbf0a844dee39f9c72df72b1bdb49fa094806,Bump the openstackdocstheme extension to 1.20,MERGED,2019-06-28 03:23:26.000000000,2019-07-01 15:01:42.000000000,2019-07-01 15:01:42.000000000,3,40,4,668081,9f0f1b947223456fcd90cf053bd1329e2183e775,31,7,4,5,27822,pengyuesheng,pengyuesheng,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

This will show other versions of the doc, too.

Change-Id: Id73bbf0a844dee39f9c72df72b1bdb49fa094806
"
openstack%2Fmonasca-notification~master~I579754a0e093e192366ad2783bd766473227e761,openstack/monasca-notification,master,,I579754a0e093e192366ad2783bd766473227e761,[GateFix] Ignore false positive bandit B105 test failure,MERGED,2019-06-26 11:39:30.000000000,2019-07-01 14:52:41.000000000,2019-06-28 11:00:18.000000000,17,1,0,667585,0e502cc463252ba9affe7e2cf059f2ddbc610f97,17,4,3,3,25553,Akhil jain,akhil,"[GateFix] Ignore false positive bandit B105 test failure

Bandit B105 hardcoded_password_string[1] is causing gate failure,
which is false positive.
Added a # nosec comment to skip Bandit testing of that line.

[1] https://bandit.readthedocs.io/en/latest/plugins/b105_hardcoded_password_string.html

Add local bindep.txt to include PostgreSQL dependendencies for testing.

Story: 2006058
Task: 34771

Change-Id: I579754a0e093e192366ad2783bd766473227e761
"
openstack%2Ftripleo-heat-templates~master~Iaac90d40adaf519be25c2de25ee27e17bfc8ce80,openstack/tripleo-heat-templates,master,bug/1832441,Iaac90d40adaf519be25c2de25ee27e17bfc8ce80,Remove os-collect-config related poperties and attributes,MERGED,2019-06-12 06:14:54.000000000,2019-07-01 14:43:20.000000000,2019-06-20 16:14:42.000000000,0,55,0,664790,89e9fe53b20ee87a6a7ebe41af48f7ab206ebf05,15,8,1,2,8833,Rabi Mishra,rabi,"Remove os-collect-config related poperties and attributes

Change-Id: Iaac90d40adaf519be25c2de25ee27e17bfc8ce80
Partial-Bug: #1832441
"
openstack%2Fproject-config~master~Ia939bb4d3bafa83cd3dd8fd71b0fc6ddff71dcbf,openstack/project-config,master,forge-publish,Ia939bb4d3bafa83cd3dd8fd71b0fc6ddff71dcbf,Remove bindep role for Puppet build job,MERGED,2018-12-27 20:50:48.000000000,2019-07-01 14:42:32.000000000,2019-07-01 14:42:31.000000000,0,4,0,627566,d693bcf95de66825fbf857c07a9f31e471d742ff,21,7,3,1,16137,Tobias Urdin,tobasco,"Remove bindep role for Puppet build job

When [1] is merged we no longer have to rely
on the bindep file when puppet modules are built
since it doesn't need the puppet binary.

[1] https://review.openstack.org/627534

Depends-On: https://review.openstack.org/627534
Change-Id: Ia939bb4d3bafa83cd3dd8fd71b0fc6ddff71dcbf
"
openstack%2Fnova~stable%2Fqueens~Ia39402a045ffb1943463b5741655d84071613e8c,openstack/nova,stable/queens,Update-default-for-rng_dev_path,Ia39402a045ffb1943463b5741655d84071613e8c,conf: libvirt: Make `/dev/urandom` the default for 'rng_dev_path',ABANDONED,2019-04-05 13:31:44.000000000,2019-07-01 14:28:31.000000000,,23,7,0,650279,5080076f6056e98dd492894c7f976b1b58aaf44a,12,9,1,4,6962,Kashyap Chamarthy,kashyapc,"conf: libvirt: Make `/dev/urandom` the default for 'rng_dev_path'

Since libvirt 1.3.4, any RNG (Random Number Generator) device path (that
returns random numbers when read!) is accepted.  However, the
recommended source of entropy is `/dev/urandom` (it is non-blocking; and
doesn't have the same limitations of `dev/random`, which is a legacy
interface).

Therefore, make `/dev/urandom` the default RNG for 'rng_dev_path' config
attribute; adjust the relevant tests.  Also update the documention to
reflect this change.

Change-Id: Ia39402a045ffb1943463b5741655d84071613e8c
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
Reported-by: Daniel P. BerrangÃ© <berrange@redhat.com>
(cherry picked from commit 814bfd937238cbd211ea30805c36ae682cfd7b48)
"
openstack%2Fnova~stable%2Fqueens~I75e85b34f0cdee9276f236f371ef49b0e583e7c2,openstack/nova,stable/queens,bug/1824048,I75e85b34f0cdee9276f236f371ef49b0e583e7c2,SRIOV pci_numa_policy dosen't working when create instance with 'cpu_policy' and 'numa_nodes,ABANDONED,2019-04-10 02:45:17.000000000,2019-07-01 14:24:29.000000000,,32,0,0,651429,4610b4ac438abc9d64afc3e8692dc7e36e31bf03,7,5,1,1,27295,Li Zhouzhou,LiZhouzhou,"SRIOV pci_numa_policy dosen't working when create instance with
'cpu_policy' and 'numa_nodes

Description: When we create a sriov instance, which flavor has
'cpu_policy', 'numa_nodes' property, it's also has
'pci_numa_policy=preferred' property that indicate we are able
to allocate pci devices and vcpu in different numa node. However,
in some cases, it didn't work, because the fake pci request,
which produced by nova flavor and [pci] alias in nova.conf hasn't
write related information (such as pci_numa_policy, alias_name
and some spec info) into real pci_requests (which contain port_id).
So, in nova/pci/stats.py function
'def _filter_pools_for_numa_cells', there will filter all pci
devices.

Change-Id: I75e85b34f0cdee9276f236f371ef49b0e583e7c2
CLoses-Bug: #1824048
"
openstack%2Fmonasca-persister~master~I2e4135c928c50c6b3b331e385fccd0e0758fbf76,openstack/monasca-persister,master,support-docker-num-processors-option,I2e4135c928c50c6b3b331e385fccd0e0758fbf76,Support kafka num_processors option,MERGED,2019-07-01 01:41:43.000000000,2019-07-01 14:09:45.000000000,2019-07-01 14:09:45.000000000,6,2,0,668340,1d58e986baa1b7b181288f0984d591e28ab74657,12,5,1,3,29970,jianweizhang,zhangjianwei,"Support kafka num_processors option

Support kafka num_processors option in docker env.

Change-Id: I2e4135c928c50c6b3b331e385fccd0e0758fbf76
"
openstack%2Fproject-config~master~Ib1119ba109ab8676c0dd42fdd4f35094b7574a24,openstack/project-config,master,forge-publish,Ib1119ba109ab8676c0dd42fdd4f35094b7574a24,Install PDK dependencies for puppet building,MERGED,2019-06-26 12:15:10.000000000,2019-07-01 14:07:47.000000000,2019-07-01 14:07:47.000000000,1,0,0,667595,11b456653635474c45aeff3daf6b8971df20b6b3,13,5,1,1,6547,Andreas Jaeger,jaegerandi,"Install PDK dependencies for puppet building

Install all PDK dependencies so that we can
switch the job to use PDK instead of puppet build
which is deprecated.

Depends-On: https://review.opendev.org/667590
Change-Id: Ib1119ba109ab8676c0dd42fdd4f35094b7574a24
Needed-By: https://review.opendev.org/627534
"
openstack%2Fopenstack-zuul-jobs~master~I8335f7355ecb259435c97ac39bcca67ed0365e66,openstack/openstack-zuul-jobs,master,forge-publish,I8335f7355ecb259435c97ac39bcca67ed0365e66,Install PDK dependencies for puppet building,MERGED,2019-06-26 12:06:31.000000000,2019-07-01 14:06:27.000000000,2019-07-01 14:06:27.000000000,1,0,0,667589,5f3f86d40849240bc1d01d513f96e9af0960fbd0,10,4,2,1,6547,Andreas Jaeger,jaegerandi,"Install PDK dependencies for puppet building

Install all PDK dependencies so that we can switch the job to use PDK
instead of puppet build which is deprecated.

Change-Id: I8335f7355ecb259435c97ac39bcca67ed0365e66
Needed-By: https://review.opendev.org/627534
Depends-On: https://review.opendev.org/667590
"
openstack%2Fnova~stable%2Fstein~I8bca5d84c37d02331d2f9968a674f3398c1a8f5b,openstack/nova,stable/stein,bug/1832720,I8bca5d84c37d02331d2f9968a674f3398c1a8f5b,Grab fresh power state info from the driver,MERGED,2019-06-27 14:50:10.000000000,2019-07-01 14:03:46.000000000,2019-07-01 13:48:53.000000000,18,3,0,667948,16449cbfe97eef1500f5a73a9d30e7abf4249b99,13,8,1,2,26936,Surya Seetharaman,tssurya,"Grab fresh power state info from the driver

In drivers that use a cache to store the node info (presently only
ironic since [1]), the ""_get_power_state"" function called during
instance actions like start or stop grabs the information from the node
cache and saves it in the nova database instead of getting fresh
information from the driver. This leads to inconsistency between
the vm_state and power_state for an instance in the nova database
(which remains until a power_sync happens between nova and ironic).
This can be confusing for a user when doing ""nova list"" where the
power_state might still be shutdown when the vm_state has already
become active. On a default environment this inconsistency lasts
for about ten minutes which is the default value for the
sync_power_state_interval interval.

This patch changes the ""use_cache"" to False in the compute manager
when triggering an action on an instance like start/stop/reboot.

[1] I0069cbc327d952d42dbb8fe54949faab89995a7e

Change-Id: I8bca5d84c37d02331d2f9968a674f3398c1a8f5b
Closes-Bug: #1832720
(cherry picked from commit 5b1c9dd05ccc0488e4d47bfc2442e46adb82b765)
"
openstack%2Fmanila~master~I2f8e4fec3aa48b91d6ab636504ecc90553a4b802,openstack/manila,master,openstackdocstheme,I2f8e4fec3aa48b91d6ab636504ecc90553a4b802,Bump the openstackdocstheme extension to 1.20,MERGED,2019-06-28 01:56:41.000000000,2019-07-01 14:03:38.000000000,2019-07-01 14:03:37.000000000,5,47,0,668077,5c1f27f69f3dfff7266eb369f2db0100f69babab,45,16,4,4,27822,pengyuesheng,pengyuesheng,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

This will show other versions of the doc, too.

Change-Id: I2f8e4fec3aa48b91d6ab636504ecc90553a4b802
"
openstack%2Fmonasca-log-api~master~I4c00809fd91de8266284dfb843c5af17c786373e,openstack/monasca-log-api,master,endpoints,I4c00809fd91de8266284dfb843c5af17c786373e,Remove unused log v2 endpoints,MERGED,2019-06-27 12:17:41.000000000,2019-07-01 14:02:17.000000000,2019-07-01 14:02:17.000000000,0,8,0,667909,5b73565afadfb0737992d8d9080cab2f9f891731,7,3,1,1,26141,Adrian Czarnecki,czarneckia,"Remove unused log v2 endpoints

Log v2 api is deprecated and should not be used.

Change-Id: I4c00809fd91de8266284dfb843c5af17c786373e
"
openstack%2Fcinder~stable%2Fpike~Ib5947e2c7300730adb851ad58e898a29f2b88525,openstack/cinder,stable/pike,bug/1801595-stable/pike,Ib5947e2c7300730adb851ad58e898a29f2b88525,Create new image volume cache entry when cloning fails,ABANDONED,2019-06-26 21:55:58.000000000,2019-07-01 13:59:11.000000000,,64,27,1,667735,71aed9558c05ef5f00b233827ad54518f5e929e9,15,12,1,2,14892,Keith Berger,kberger,"Create new image volume cache entry when cloning fails

This patch fixes the image volume cache so that a new cache entry is
created whenever cloning an existing entry fails (which can happen, for
example, when a cached volume reaches its snapshot limit). This restores
the original behavior, which was broken by [1].

[1] I547fb4bcdd4783225b8ca96d157c61ca3bcf4ef4

Closes-Bug: #1801595
Change-Id: Ib5947e2c7300730adb851ad58e898a29f2b88525
(cherry picked from commit 93519a02c0c9b5dcb9d5139761780bcbdceef982)
"
openstack%2Fplacement~master~Ie94ab144005a5846fc951f4f387703bd241181c8,openstack/placement,master,story/2005950,Ie94ab144005a5846fc951f4f387703bd241181c8,Centralize and clarify pip in the docs,MERGED,2019-06-25 15:08:50.000000000,2019-07-01 13:48:57.000000000,2019-07-01 13:48:57.000000000,20,10,3,667383,180c83b52bbf290d88f088752b0a2c29a31da730,13,5,2,2,14070,Eric Fried,efried,"Centralize and clarify pip in the docs

Add a clarifying note about running pip (e.g. you might have to spell it
pip3) in a centralized place and link it from elsewhere. We should link
to this whenever we mention pip so we don't duplicate information.

Change-Id: Ie94ab144005a5846fc951f4f387703bd241181c8
Story: #2005950
Task: #34315
"
openstack%2Freleases~master~Icbe88daf7a6a86f16462b737cdb102fa517433df,openstack/releases,master,os-traits-0.15.0,Icbe88daf7a6a86f16462b737cdb102fa517433df,Release os-traits 0.15.0,MERGED,2019-06-24 14:18:41.000000000,2019-07-01 13:48:25.000000000,2019-06-28 20:10:40.000000000,4,0,0,667111,6f21aff290681adcd67e4f2c1814361d9b6e64b6,17,6,2,1,14070,Eric Fried,efried,"Release os-traits 0.15.0

Picks up traits for image metadata [1] [2] and disabled computes [3].

[1] https://review.opendev.org/652996
[2] https://review.opendev.org/665830
[3] https://review.opendev.org/667209

Change-Id: Icbe88daf7a6a86f16462b737cdb102fa517433df
"
openstack%2Fproject-config~master~I610dae5d6d7fe01e15f66970b59d3b999bebb766,openstack/project-config,master,stop-control-plane-nodepool,I610dae5d6d7fe01e15f66970b59d3b999bebb766,Remove nodepool builder config for control plane images,MERGED,2019-06-12 20:42:48.000000000,2019-07-01 13:47:57.000000000,2019-07-01 13:47:57.000000000,0,12,0,665012,9b0f75df253073705f23f2a6bf41ed1c72d17151,8,3,2,1,4146,Clark Boylan,cboylan,"Remove nodepool builder config for control plane images

Nodepool wants to build a new image every day then delete the N+2'th
image. This is great for dynamic test nodes which never live for longer
than a few hours. Unfortunately, with boot from volume servers you
cannot delete their base image if the server is still running. This
means as soon as we use these images for control plane servers, which do
not go away after a few hours, we'll no longer be able to delete that
image a couple days later.

This will make our current nodepool install unhappy so lets avoid doing
that for now.

We can probably make improvements to nodepool to better support this use
case. At that time we can start trying this again. We will probably also
want to use a dedicated builder for that.

Note this isn't a revert because the control-plane-minimal element is
useful if we want to build these types of images in the future. We just
shouldn't use nodepool to do it in its current state.

Change-Id: I610dae5d6d7fe01e15f66970b59d3b999bebb766
"
openstack%2Fansible-role-redhat-subscription~master~Id74d08c36b421f1b11f7cfeece1a77306ec138c0,openstack/ansible-role-redhat-subscription,master,readme-markdown-format,Id74d08c36b421f1b11f7cfeece1a77306ec138c0,Fix issue with long description by using markdown format,MERGED,2019-07-01 13:16:53.000000000,2019-07-01 13:45:41.000000000,2019-07-01 13:45:41.000000000,2,1,0,668459,fceb51c66eb343a7cd20891da8728c65ff703ce7,9,4,1,1,28522,HervÃ© Beraud,hberaud,"Fix issue with long description by using markdown format

Tell to pypi to convert long_description to markdown format.

https://github.com/pypa/warehouse/issues/5890#issuecomment-494868157

Change-Id: Id74d08c36b421f1b11f7cfeece1a77306ec138c0
"
openstack%2Fopenstack-zuul-jobs~master~Iae3c4622cba68f8d65162457449ec2ddbfb1dbd8,openstack/openstack-zuul-jobs,master,python3-train,Iae3c4622cba68f8d65162457449ec2ddbfb1dbd8,Add openstack-tox-functional-py37 job,MERGED,2019-06-24 14:36:33.000000000,2019-07-01 13:44:38.000000000,2019-07-01 13:44:38.000000000,13,0,0,667119,1d83efd96cb9c0c48b9b863b46f70e5d55465b28,9,5,1,1,11904,Sean McGinnis,SeanM,"Add openstack-tox-functional-py37 job

This adds a job to run a tox functional job using Python 3.7 to match
the ones used for 35 and 36.

Change-Id: Iae3c4622cba68f8d65162457449ec2ddbfb1dbd8
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fplacement~master~I9a379e0e60ae8eb53280b8296229d2f0412eae4a,openstack/placement,master,story/2005842,I9a379e0e60ae8eb53280b8296229d2f0412eae4a,Add OsProfiler config options to generated reference,MERGED,2019-06-27 07:39:08.000000000,2019-07-01 13:44:21.000000000,2019-06-27 16:14:44.000000000,4,0,2,667800,663780060461177a3c88c2c2d252224511287fa8,8,3,1,2,9708,Balazs Gibizer,gibi,"Add OsProfiler config options to generated reference

OsProfiler is optional, but if it's installed we'll load up the configuration
options from the library, but they weren't in the generated config sample so
people would have to find the osprofiler docs, or worse the code, to figure
out how to configure it.

This simply adds the OsProfiler config options to the config sample, which
will also show up in the config reference docs.

Change-Id: I9a379e0e60ae8eb53280b8296229d2f0412eae4a
Story: 2005842
Task: 34191
"
openstack%2Fplacement~master~I92ca8e73016c1d3a73aa1084013e4cec2382dec2,openstack/placement,master,trivial,I92ca8e73016c1d3a73aa1084013e4cec2382dec2,Trivial: Update document for Request IDs,MERGED,2019-06-26 08:20:09.000000000,2019-07-01 13:41:17.000000000,2019-06-26 20:58:12.000000000,1,1,0,667546,0d9c510df78e34dd205324af174e943624a3dc06,7,2,1,1,25625,Tetsuro Nakamura,tetsuro0907,"Trivial: Update document for Request IDs

The Request IDs doc had an small error describing that in response
header the value of X-Openstack-Request-Id is generated automatically
for tracking each request to nova, but it is for tracking each request
to placement so this patch updates it.

Change-Id: I92ca8e73016c1d3a73aa1084013e4cec2382dec2
"
openstack%2Fneutron-fwaas~stable%2Frocky~I9742207e98c07f0a4632631631288d9ada8cf8c7,openstack/neutron-fwaas,stable/rocky,bug/1832210,I9742207e98c07f0a4632631631288d9ada8cf8c7,netfilter_log: Correctly decode binary type prefix,MERGED,2019-06-11 07:40:08.000000000,2019-07-01 13:39:45.000000000,2019-07-01 13:39:45.000000000,3,1,0,664514,ea7590e4e19e5ef0bb8731d6ed1374084feeddad,18,8,3,1,935,James Page,james-page,"netfilter_log: Correctly decode binary type prefix

Under Python 3, firewall log prefixes are incorrectly decoded
resulting in a mismatch between the stringy-fied 'prefix' value
and the information available in the prefixes data.

Use oslo.utils safe_decode function to ensure that data is
correctly decoded.

Change-Id: I9742207e98c07f0a4632631631288d9ada8cf8c7
Closes-Bug: 1832210
(cherry picked from commit 652f532d840c583a6997f5de3f988daf803122e8)
"
openstack%2Fopenstacksdk~master~I3b88debef5e92b2d2469952a5d12be8bf569102e,openstack/openstacksdk,master,nodepool-func,I3b88debef5e92b2d2469952a5d12be8bf569102e,Replace nodepool func jobs,MERGED,2019-06-27 17:18:59.000000000,2019-07-01 13:22:18.000000000,2019-07-01 13:22:18.000000000,2,2,0,667992,3f6043796defb5769aa77ec063fa8f7a06197a3f,7,3,1,1,1,James E. Blair,corvus,"Replace nodepool func jobs

These are new nodepool functional jobs designed to give more
flexibility to the DIB/clean projects to define what they need
to test.  Otherwise, they behave very similarly to the current
nodepool functional jobs.

Depends-On: https://review.opendev.org/665023
Change-Id: I3b88debef5e92b2d2469952a5d12be8bf569102e
"
openstack%2Fplacement~master~Id64c55f7c5ce730b8f1fa7cf17ff083d65e6bf78,openstack/placement,master,rm-post-test-hook,Id64c55f7c5ce730b8f1fa7cf17ff083d65e6bf78,Remove gate/post_test_hook.sh,MERGED,2019-06-27 17:29:54.000000000,2019-07-01 13:10:56.000000000,2019-07-01 13:10:56.000000000,0,75,1,667996,41287a7464bc87bf571a79e438b02d5097dbf6a6,11,4,2,1,6873,Matt Riedemann,mriedem,"Remove gate/post_test_hook.sh

The post_test_hook script in the gate/ directory is a carry-over
from the split from the nova repo and is not used in placement
so we can delete it.

Change-Id: Id64c55f7c5ce730b8f1fa7cf17ff083d65e6bf78
"
openstack%2Fplacement~master~Ia3b7387192856b812cb7f0689cfe329ebf51b6bd,openstack/placement,master,os-traits_0.15.0,Ia3b7387192856b812cb7f0689cfe329ebf51b6bd,Bump os-traits minimum to 0.15.0,MERGED,2019-06-29 01:56:42.000000000,2019-07-01 13:10:55.000000000,2019-07-01 13:10:55.000000000,3,3,0,668278,2772dafc9dc7fbae58486adf76b1c68016e9e7c4,7,3,1,3,14070,Eric Fried,efried,"Bump os-traits minimum to 0.15.0

os-traits 0.15.0 was just released. Require it.

Change-Id: Ia3b7387192856b812cb7f0689cfe329ebf51b6bd
"
openstack%2Fsushy~master~I76c99da2aac8e0629bb468e22abd104cb29bc4ab,openstack/sushy,master,fabric-endpoint-subresource,I76c99da2aac8e0629bb468e22abd104cb29bc4ab,Add ``Endpoint`` sub-resource to ``Fabric``,MERGED,2019-04-23 20:44:22.000000000,2019-07-01 12:44:38.000000000,2019-07-01 12:44:38.000000000,522,56,11,655247,ca8471196ea86e8f32e0676c5bfaf979c749479c,23,4,4,9,30013,Varsha Verma,verma-varsha,"Add ``Endpoint`` sub-resource to ``Fabric``

Add representation of the Endpoint sub-resource to Fabric resource
in sushy. A fabric endpoint represents the properties of an entity
that sends or receives protocol defined messages over a transport.

Story: #2003853
Task: #26648

Change-Id: I76c99da2aac8e0629bb468e22abd104cb29bc4ab
"
openstack%2Fpuppet-nova~master~I1d8fff0a90a2f35687ede46aef9886abf75b1f1f,openstack/puppet-nova,master,escape_date_arg,I1d8fff0a90a2f35687ede46aef9886abf75b1f1f,Escape date command parameter,MERGED,2019-06-28 08:56:48.000000000,2019-07-01 12:40:55.000000000,2019-06-28 16:23:04.000000000,4,4,0,668116,1eb5ee747d45128220edf1d1446819fa324402b8,11,6,2,2,20733,Rajesh Tailor,rajesht,"Escape date command parameter

Fixed `date` command parameter by escaping %
in `nova-manage db purge` command.

Change-Id: I1d8fff0a90a2f35687ede46aef9886abf75b1f1f
"
openstack%2Ftacker~master~I628752ee932257a2bf048668b6c3b2d9c41f6aab,openstack/tacker,master,bugfix_doc,I628752ee932257a2bf048668b6c3b2d9c41f6aab,Correct tosca-vnfd-containerized.yaml format,MERGED,2019-06-28 10:01:32.000000000,2019-07-01 12:39:35.000000000,2019-07-01 12:39:35.000000000,1,2,0,668135,4c5ceeaff6621eae16f4ead356de44ae1cf4e1ae,10,4,2,1,29165,"YI-JIE,SYU",tw0927041027,"Correct tosca-vnfd-containerized.yaml format

Data value of type ""tosca.datatypes.nfv.VnfcConfigurableProperties""
contains unknown field ""properties"".
""8080"" is not a string.

Change-Id: I628752ee932257a2bf048668b6c3b2d9c41f6aab
"
openstack%2Ftacker~master~I9c1b5fe2e4efb41368d53cdac8dbbd49eea4b60a,openstack/tacker,master,code_coverage_openstack_module,I9c1b5fe2e4efb41368d53cdac8dbbd49eea4b60a,Improve code coverage of openstack module,MERGED,2019-05-10 07:24:17.000000000,2019-07-01 12:39:06.000000000,2019-07-01 12:39:06.000000000,462,24,4,658282,0bb6a6bf80002e4d3f2d385fd1d51f05c86df446,23,5,8,10,29236,Shubham Potale,shubham.potale,"Improve code coverage of openstack module

Added new unit tests to cover create_wait, update_wait, delete_wait,
scale and scale_wait methods. Added heat-client fixture for writing
test cases. Also removed unreachable code in openstack module.

Change-Id: I9c1b5fe2e4efb41368d53cdac8dbbd49eea4b60a
"
openstack%2Fneutron-lib~master~Ied14a444723075839ac537967e289e7d06f4123d,openstack/neutron-lib,master,,Ied14a444723075839ac537967e289e7d06f4123d,Add .idea/* in .gitignore,ABANDONED,2019-07-01 03:42:27.000000000,2019-07-01 12:34:48.000000000,,2,0,4,668346,5f58d8cebc03f10b861edde45e8572452a718bfd,6,3,1,1,30396,qian wang,wang.qian,"Add .idea/* in .gitignore

Issue:33412
Change-Id: Ied14a444723075839ac537967e289e7d06f4123d
"
openstack%2Fnetworking-odl~master~I5774af0fd238c6aaadc62bfbb7fe53487944a59a,openstack/networking-odl,master,bandit-blacklist,I5774af0fd238c6aaadc62bfbb7fe53487944a59a,Update master for stable/stein,MERGED,2019-03-21 23:41:23.000000000,2019-07-01 12:10:52.000000000,2019-07-01 12:10:52.000000000,7,0,0,645403,a66aa842da4dc73804f79b9eb5ace6387e3a0d06,20,6,3,2,22816,OpenStack Release Bot,release,"Update master for stable/stein

Add file to the reno documentation build to show release notes for
stable/stein.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/stein.

Change-Id: I5774af0fd238c6aaadc62bfbb7fe53487944a59a
Sem-Ver: feature
"
openstack%2Fsushy-tools~master~I1410b833170ced6f53694d431f721ecba19eb596,openstack/sushy-tools,master,07-add-chassis-resource,I1410b833170ced6f53694d431f721ecba19eb596,Add Chassis resource support,MERGED,2019-04-18 16:03:09.000000000,2019-07-01 12:03:38.000000000,2019-07-01 12:03:38.000000000,567,5,10,653802,248e3d1353d76e3a2f3f201f8d937c5f518f0036,45,4,16,14,26340,Ilya Etingof,etingof,"Add Chassis resource support

This change adds basic Redfish Chassis resource support based
on the newly introduces ""chassis"" driver infrastructure. As of
this patch, the only backend for the Redfish chassis implemented
is static config (Flask) file.

Story: 2005149
Task: 29856
Change-Id: I1410b833170ced6f53694d431f721ecba19eb596
"
openstack%2Fsushy-tools~master~I95e957ad02b602410049c5f078c0703e2f0a4962,openstack/sushy-tools,master,06-add-managers-resource,I95e957ad02b602410049c5f078c0703e2f0a4962,Add Managers resource support,MERGED,2019-02-22 15:03:19.000000000,2019-07-01 11:59:30.000000000,2019-07-01 11:59:30.000000000,542,11,19,638682,f1ae2365a831e674bda03b64ae33b95e721b32ad,87,5,29,15,26340,Ilya Etingof,etingof,"Add Managers resource support

This change adds basic Redfish Managers resource support based
on the newly introduces ""manager"" driver infrastructure. As of
this patch, the only backend for the Redfish manager implemented
is static config (Flask) file.

Story: 2005149
Task: 29856
Change-Id: I95e957ad02b602410049c5f078c0703e2f0a4962
"
openstack%2Fplacement~master~I617161fde5b844d7f52dc766f85c1b9f1b139e4a,openstack/placement,master,story/2005443,I617161fde5b844d7f52dc766f85c1b9f1b139e4a,Nested provider performance testing,MERGED,2019-06-17 14:56:00.000000000,2019-07-01 11:55:48.000000000,2019-06-28 09:05:17.000000000,271,4,54,665695,8723bd7772f2b90deceaf0887951f90d0dc0346d,33,4,9,7,11564,Chris Dent,chdent,"Nested provider performance testing

This change duplicates the ideas started in with the placement-perfload
job and builds on it to create a set of nested trees that can be
exercised.

In placement-perfload, placeload is used to create the providers. This
proves to be cumbersome for nested topologies so this change starts
a new model: Using parallel [1] plus instrumented gabbi to create
nested topologies in a declarative fashion.

gate/perfload-server.sh sets up placement db and starts a uwsgi server.

gate/perfload-nested-loader.sh is called in the playbook to cause gabbi
to create the nested topology described in
gate/gabbits/nested-perfload.yaml. That topology is intentionally very
naive right now but should be made more realisitc as we continue to
develop nested features.

There's some duplication between perfload.yaml and
nested-perfload.yaml that will be cleared up in a followup.

[1] https://www.gnu.org/software/parallel/ (although the version on
ubuntu is a non-GPL clone)

Story: 2005443
Task: 30487
Change-Id: I617161fde5b844d7f52dc766f85c1b9f1b139e4a
"
openstack%2Fironic-python-agent~master~I092d686ba38723d7951e8f06415f28cc809ad365,openstack/ironic-python-agent,master,bandit,I092d686ba38723d7951e8f06415f28cc809ad365,Adds bandit template and exclude some of tests,MERGED,2019-06-20 04:13:34.000000000,2019-07-01 11:42:52.000000000,2019-07-01 11:42:52.000000000,411,4,0,666486,6f634c358b843bc30b0dc0b56e46a18f71fd226a,10,3,2,5,24828,Kaifeng Wang,wangkf,"Adds bandit template and exclude some of tests

Adds bandit configuration template and exclude some of
tests that we don't want to fix for the moment.

Keeping job unvoted so that we can keep an eye on possible
issues while not breaking gate.

Change-Id: I092d686ba38723d7951e8f06415f28cc809ad365
Story: 2005791
Task: 33563
"
openstack%2Fproject-team-guide~master~I92e8ecd480937d55b968880c6c3d18885c3b12bf,openstack/project-team-guide,master,doc8,I92e8ecd480937d55b968880c6c3d18885c3b12bf,Enable doc8 linting,MERGED,2019-06-27 19:13:47.000000000,2019-07-01 11:33:40.000000000,2019-07-01 11:33:40.000000000,134,113,0,668027,ef08132d5f1e37e17d38cb9fd0e708c6005fc153,9,3,2,9,11904,Sean McGinnis,SeanM,"Enable doc8 linting

Keep our docs clean and try to avoid those cases where things are fine
until a sphinx or other dependency gets updated and suddenly starts
breaking.

Change-Id: I92e8ecd480937d55b968880c6c3d18885c3b12bf
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fcharm-neutron-gateway~master~If1b332eb0f581e9acba111f79ba578a0b7081dd2,openstack/charm-neutron-gateway,master,bug/1831972,If1b332eb0f581e9acba111f79ba578a0b7081dd2,Add support for FWaaS v2 logging,MERGED,2019-06-07 12:37:59.000000000,2019-07-01 11:13:34.000000000,2019-07-01 10:28:37.000000000,163,15,5,663923,0a809a1a192401bfabc4215311302dec93feaf4b,29,5,7,10,935,James Page,james-page,"Add support for FWaaS v2 logging

Enable support for configuration of FWaaS v2 firewall group
logging.

Configuration options mirror those for neutron-openvswitch
for security group logging.

This feature is currently only enabled for FWaaS v2 at Stein
for the charms (but is supported back to Queens in Neutron).

Change-Id: If1b332eb0f581e9acba111f79ba578a0b7081dd2
Partial-Bug: 1831972
"
openstack%2Fkolla-ansible~stable%2Fstein~I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f,openstack/kolla-ansible,stable/stein,ci-remove-redundant-logic-stable/stein,I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f,CI - remove unnecessary logic when building images for upgrade,MERGED,2019-06-24 13:25:29.000000000,2019-07-01 11:13:33.000000000,2019-06-28 15:29:47.000000000,0,5,0,667096,08cf94546730321fa87eee04311aa2c2445b7d98,10,4,1,1,30491,RadosÅ‚aw Piliszek,yoctozepto,"CI - remove unnecessary logic when building images for upgrade

Docker registry being insecure is handled by docker_registry_insecure
which is set to true by default when docker_registry is set.
The removed code had no effect because docker_registry is not changed
anyway for base (pre-upgrade) install.

This change makes config more readable and also prevents a potential
conflict with the zun profile if ever used in upgrade mode.

Change-Id: I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f
Signed-off-by: RadosÅ‚aw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 8ce5ffd0c21c221d88bacca5fec03ca042dfed85)
"
openstack%2Fkolla-ansible~master~I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f,openstack/kolla-ansible,master,ci-remove-redundant-logic,I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f,CI - remove unnecessary logic when building images for upgrade,MERGED,2019-06-21 06:53:48.000000000,2019-07-01 11:12:58.000000000,2019-06-24 13:08:18.000000000,0,5,2,666780,8ce5ffd0c21c221d88bacca5fec03ca042dfed85,17,4,3,1,30491,RadosÅ‚aw Piliszek,yoctozepto,"CI - remove unnecessary logic when building images for upgrade

Docker registry being insecure is handled by docker_registry_insecure
which is set to true by default when docker_registry is set.
The removed code had no effect because docker_registry is not changed
anyway for base (pre-upgrade) install.

This change makes config more readable and also prevents a potential
conflict with the zun profile if ever used in upgrade mode.

Change-Id: I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f
Signed-off-by: RadosÅ‚aw Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fneutron~master~Ide78b0b90cf6d6069ce3787fc60766be52062da0,openstack/neutron,master,custom_ethertypes,Ide78b0b90cf6d6069ce3787fc60766be52062da0,Add custom ethertype processing,MERGED,2019-06-28 18:07:17.000000000,2019-07-01 11:01:34.000000000,2019-07-01 11:00:55.000000000,38,1,0,668224,9ea6a616658268b833ccb787c181962898863058,15,6,1,3,13995,Nate Johnston,natejohnston,"Add custom ethertype processing

The OVS Firewall blocks traffic that does not have either the IPv4 or
IPv6 ethertypes at present.  This is a behavior change compared to the
iptables_hybrid firewall, which only operates on IP packets and thus
does not address other ethertypes.

This is a lightweight change that sets a configuration option in the
neutron openvswitch agent configuration file for permitted ethertypes
and then ensures that the requested ethertypes are permitted on
initialization.  This addresses the security and usability concerns on
both master and stable branches while a full-fledged extension to the
security groups API is considered.

Change-Id: Ide78b0b90cf6d6069ce3787fc60766be52062da0
Related-Bug: #1832758
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I36e003c09d7f7768da475d166a20f01347a2934c,openstack/tripleo-heat-templates,stable/stein,bug/1831690,I36e003c09d7f7768da475d166a20f01347a2934c,Configure insecure registries before Pacemaker-managed image pulls,MERGED,2019-06-24 15:28:48.000000000,2019-07-01 10:59:29.000000000,2019-07-01 10:59:29.000000000,7,13,0,667144,273f9a32a787198904cdb8ca4971764ba2d53382,8,4,1,1,8042,JiÅ™Ã­ StrÃ¡nskÃ½,jistr,"Configure insecure registries before Pacemaker-managed image pulls

Service templates like mysql-pacemaker-puppet.yaml pull fresh
container images in step 2 of the upgrade tasks. In case they come
from an allowed insecure registry, the insecure registries setting
must be in place by step 1. We do just that by reusing the ""install
and configure Podman"" part of host_prep_tasks.

Change-Id: I36e003c09d7f7768da475d166a20f01347a2934c
Partial-Bug: #1831690
(cherry picked from commit df3b4b3c5724d0736227e3dc136dd6f797b02678)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I7381423b9834d6ebe6e29a07fb3996ca79398187,openstack/tripleo-heat-templates,stable/stein,bug/1831690,I7381423b9834d6ebe6e29a07fb3996ca79398187,Change package installs for Stein and OS upgrade,MERGED,2019-06-24 15:28:48.000000000,2019-07-01 10:59:27.000000000,2019-07-01 10:59:27.000000000,14,12,0,667143,1cedab103b9b90fdf795f32e4972bd9db23bc5e2,8,4,1,2,8042,JiÅ™Ã­ StrÃ¡nskÃ½,jistr,"Change package installs for Stein and OS upgrade

After upgrading to a new OS we might not have all the necessary
packages, so install them. The list was taken from deployed-server
preparation script. Also change the UpgradeInitCommonCommand for
Stein. e.g. we no longer require Ansible and Ansible-Pacemaker on the
overcloud, as Ansible is now being executed from undercloud only.

Change-Id: I7381423b9834d6ebe6e29a07fb3996ca79398187
Closes-Bug: #1830882
(cherry picked from commit 7b3d8f786ef525c30d09e422867e8280c96b4034)
"
openstack%2Fpython-tackerclient~master~Icf9a7857be01056c0967fed0c777f2f46a993b6c,openstack/python-tackerclient,master,,Icf9a7857be01056c0967fed0c777f2f46a993b6c,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:45:08.000000000,2019-07-01 10:54:06.000000000,2019-07-01 10:54:06.000000000,7,7,3,654774,47996394b37cc1ea9ac986e2a7520868644dc237,22,7,4,3,28614,jacky06,jacky06,"Replace git.openstack.org URLs with opendev.org URLs

1. Replace git.openstack.org URLs with opendev.org URLs
2. Update some urls

Change-Id: Icf9a7857be01056c0967fed0c777f2f46a993b6c
"
openstack%2Ftripleo-heat-templates~master~I463db3ae5c0f1ff9d69e6b902568eb8358ccb9f2,openstack/tripleo-heat-templates,master,cell_export,I463db3ae5c0f1ff9d69e6b902568eb8358ccb9f2,Add script to help export cellv2 multicell information,ABANDONED,2019-05-15 08:46:27.000000000,2019-07-01 10:43:03.000000000,,364,0,15,659238,67f1f1f5d3f9dc4edbf67c32397577efd70c0615,26,10,4,2,17216,Martin Schuppert,mcschupp,"Add script to help export cellv2 multicell information

[1] provided steps on how to setup multiple cells using tripleo.
This requires to extract deployment information from the overcloud
/main heat stack which then is used as input for the cell deployment.

With this patch we provide a script to help automate the export
steps from [1] and automates the steps:
* Export the default cell EndpointMap
* Export the default cell HostsEntry
* Export AllNodesConfig and GlobalConfig information
* Export passwords

We also add a basic environment file which can be used as base for an
additional cell.

[1] https://docs.openstack.org/tripleo-docs/latest/install/advanced_deployment/deploy_cellv2.html#deploy-an-additional-nova-cell-v2

Change-Id: I463db3ae5c0f1ff9d69e6b902568eb8358ccb9f2
"
openstack%2Fgovernance~master~Icf454704a1503d27c0c526863bfaf103a7d7f8e1,openstack/governance,master,DMN-test-display-of-liasons,Icf454704a1503d27c0c526863bfaf103a7d7f8e1,DNM: Display table of TC Liasons and projects,ABANDONED,2019-06-28 15:00:34.000000000,2019-07-01 10:40:22.000000000,,153,0,0,668188,9261e2477742f3bd2a7d93fff589852f75051be5,3,1,1,4,8099,Graham Hayes,graham,"DNM: Display table of TC Liasons and projects

Change-Id: Icf454704a1503d27c0c526863bfaf103a7d7f8e1
Signed-off-by: Graham Hayes <gr@ham.ie>
"
openstack%2Fansible-role-openstack-operations~master~I1da16dfc8222f85d8dd5aa76a75362bdd62ba79f,openstack/ansible-role-openstack-operations,master,,I1da16dfc8222f85d8dd5aa76a75362bdd62ba79f,Change openstack-dev to openstack-discuss\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.,ABANDONED,2019-07-01 10:16:39.000000000,2019-07-01 10:19:08.000000000,,1,1,0,668408,6afb387740821c6b3693c094c0d132346917ef4b,2,0,1,1,27565,inspurericzhang,inspurericzhang,"Change openstack-dev to openstack-discuss\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I1da16dfc8222f85d8dd5aa76a75362bdd62ba79f
"
openstack%2Fironic~master~I8accdcc73c7e0261579d753633f9dfc02a868115,openstack/ironic,master,add-redfish-sensor-data,I8accdcc73c7e0261579d753633f9dfc02a868115,Collect sensor data in ``redfish`` hardware type,MERGED,2019-06-17 11:41:39.000000000,2019-07-01 10:03:43.000000000,2019-07-01 10:03:43.000000000,348,8,6,665646,82abc0beacd3f8b4626ee1fab6634204af65a07b,37,9,5,4,26340,Ilya Etingof,etingof,"Collect sensor data in ``redfish`` hardware type

Adds sensor data collector to ``redfish`` management interface.
Temperature, power, cooling and drive health metrics are collected.

Change-Id: I8accdcc73c7e0261579d753633f9dfc02a868115
Story: 2005878
Task: 33692
"
openstack%2Fneutron-specs~master~I82d05501d22f9541ba68eb7e84716abe8dd1b210,openstack/neutron-specs,master,bug/1505627,I82d05501d22f9541ba68eb7e84716abe8dd1b210,Spec for Explicit Congestion Notification,ABANDONED,2017-03-15 05:22:01.000000000,2019-07-01 10:03:03.000000000,,165,0,231,445762,77d19f77b791ecbab772cdd259c56d1ad516939d,120,18,29,1,17776,Reedip,Reedip,"Spec for Explicit Congestion Notification

The following specification introduces the implimentation
of Explicit Congestion Notification in Openstack.

Change-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210
Related-Bug: #1505627
"
openstack%2Fnetworking-ovn~master~Ie3e0904436536076b045a2d663f5afb5bfc9dc0c,openstack/networking-ovn,master,bug/1834453,Ie3e0904436536076b045a2d663f5afb5bfc9dc0c,Add a new Event Handler for Octavia,ABANDONED,2018-10-09 07:30:51.000000000,2019-07-01 10:00:20.000000000,,1180,205,501,608862,62fd6655cb85871b27347fa228dc03bfb7e309f8,362,15,84,9,17776,Reedip,Reedip,"Add a new Event Handler for Octavia

This patch adds a new event handler for Octavia so that in
the event that a network is added to a router, the loadbalancer
on the network are also applied to the router and vice versa.

The process involves:
- Adding a new connection class for Octavia to communicate with
  OVN NB DB, setting up the connection and communicating with
  the IDL.
- Setting up events for Router interface addition and deletion
- Updating Loadbalancer tables and Router/Switch tables based
  upon the generated events.
- Add network UUID to LRP external_ids

Co-Authored-By: Terry Wilson <twilson@redhat.com>
Co-Authored-By: Maciej JÃ³zefczyk <mjozefcz@redhat.com>

Closes-Bug: #1794260
Change-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c
"
openstack%2Fnetworking-ovn~master~I60fab3fa2c93457f9866db806617b17ae785e598,openstack/networking-ovn,master,bug/1794260,I60fab3fa2c93457f9866db806617b17ae785e598,Add Octavia OVN Driver's UT and enable cover job,ABANDONED,2018-09-12 08:21:36.000000000,2019-07-01 09:58:52.000000000,,537,0,92,601948,a48210c1c876c1b84e14fab92e4d78c6c5986e1c,178,12,61,2,17776,Reedip,Reedip,"Add Octavia OVN Driver's UT and enable cover job

a)This patch adds basic Unit Testing for Octavia OVN Driver which
improves the test coverage for Networking-OVN

b) This patch also enables the tox-cover job for networking-ovn

Closes-Bug: #1789885

Change-Id: I60fab3fa2c93457f9866db806617b17ae785e598
"
openstack%2Fsushy-tools~master~Ib14fa37ffab1043a73220e1a31a49954fc968e5a,openstack/sushy-tools,master,bindep-fallback,Ib14fa37ffab1043a73220e1a31a49954fc968e5a,add local bindep.txt,MERGED,2019-06-29 17:29:16.000000000,2019-07-01 09:57:25.000000000,2019-07-01 09:57:25.000000000,2,0,0,668301,e034afced2a59f6ae48fb6fde69e510683415e75,9,4,2,1,23851,Riccardo Pittau,elfosardo,"add local bindep.txt

Global bindep-fallback.txt was removed [1] and now projects need
to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ib14fa37ffab1043a73220e1a31a49954fc968e5a
"
openstack%2Fnetworking-odl~master~I698caa93a188f7be206c18d79152dd81eb4029d3,openstack/networking-odl,master,bandit-blacklist,I698caa93a188f7be206c18d79152dd81eb4029d3,"Blacklist bandit, bump neutron-lib and retire neutron-lbaas",MERGED,2019-05-10 12:59:28.000000000,2019-07-01 09:42:22.000000000,2019-07-01 09:42:22.000000000,18,399,10,658352,2db2cab66c27019ab8e11cad951a172d40eecd1b,46,9,3,16,8313,Lajos Katona,elajkat,"Blacklist bandit, bump neutron-lib and retire neutron-lbaas

Bandit 1.6.0 introduces a regression[0] with the -x option,
a fix is expected to be included in 1.6.1 soon. (Original commit is
based on Id944054deedd545c34fc28ccf043dd72e5f31220)

neutron-lbaas is retired [2], so networking-odl dependencies must be
removed.
Trunk constants were moved to neutron-lib from neutron with [3] from
1.25.0, and were removed from neutron with [4], thus lower-constraints
must point to at least 1.25.0.
To pass the gate fix sphinx requirements for python>3.4
(Original Change-Id: I6e709385fefe12123ecab150237956297cc7e09f)

[0] https://github.com/PyCQA/bandit/issues/488
[1] https://github.com/PyCQA/bandit/pull/489
[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html
[3] https://review.opendev.org/636989
[4] https://review.opendev.org/649672

Change-Id: I698caa93a188f7be206c18d79152dd81eb4029d3
"
openstack%2Ftripleo-validations~master~If7a946b199477cd866d9fef6b53096a0aed635b5,openstack/tripleo-validations,master,remove_role_meta_dir,If7a946b199477cd866d9fef6b53096a0aed635b5,Remove useless roles meta directory,MERGED,2019-06-25 15:16:25.000000000,2019-07-01 09:28:03.000000000,2019-06-27 19:21:28.000000000,0,1259,0,667384,0f66b7dd8c19361c1b5281ce0201685eb612a7a2,9,4,1,46,11491,Gael Chamoulaud,gchamoul,"Remove useless roles meta directory

Change-Id: If7a946b199477cd866d9fef6b53096a0aed635b5
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fkolla-ansible~stable%2Frocky~I6db9f8276a8c00034bc71857b0521067848ac3cd,openstack/kolla-ansible,stable/rocky,,I6db9f8276a8c00034bc71857b0521067848ac3cd,Updating Jinja filters to conform to Ansible 2.5+,ABANDONED,2019-06-28 12:06:22.000000000,2019-07-01 09:17:36.000000000,,116,118,5,668158,a1c3311712fc7866fc12e8ab41bb78faf2e08e01,13,3,3,15,30322,Raimund Hook,stingrayza,"Updating Jinja filters to conform to Ansible 2.5+

Since Ansible 2.5, the use of jinja tests as filters has been deprecated.
I've run the script provided by the ansible team to 'fix' the jinja filters
to conform to the newer syntax.
This fixes the deprecation warnings.

This is a specific run of the script against active rocky files, rather
than a cherry pick of 656767.

For rocky, the change of version_compare to version has been skipped.

Change-Id: I6db9f8276a8c00034bc71857b0521067848ac3cd
"
openstack%2Fkolla-ansible~stable%2Fqueens~Ib6f566f5bcf2038724c2c910ae73ba2ba183abdf,openstack/kolla-ansible,stable/queens,,Ib6f566f5bcf2038724c2c910ae73ba2ba183abdf,Updating Jinja filters to conform to Ansible 2.5+,ABANDONED,2019-06-28 12:20:12.000000000,2019-07-01 09:17:30.000000000,,123,124,2,668160,2228c1bb7f2d03cb5b2731e9e721067cd3a47dff,13,3,3,25,30322,Raimund Hook,stingrayza,"Updating Jinja filters to conform to Ansible 2.5+

Since Ansible 2.5, the use of jinja tests as filters has been deprecated.
I've run the script provided by the ansible team to 'fix' the jinja filters
to conform to the newer syntax.

This fixes the deprecation warnings.

This is a specific run of the script against active queens files, rather
than a cherry pick of 656767.

For queens, the change of version_compare to version has been skipped,
also the condition ""success"" has been kept as such, not changed to
""successful"".

Change-Id: Ib6f566f5bcf2038724c2c910ae73ba2ba183abdf
"
openstack%2Fmonasca-persister~master~I7049504937ebeec5caf14393c4bcd0e06acd0e89,openstack/monasca-persister,master,influxdb-1.7.6-version-change,I7049504937ebeec5caf14393c4bcd0e06acd0e89,Adds release note warning of InfluxDB recommended version change,MERGED,2019-06-06 10:50:06.000000000,2019-07-01 09:13:32.000000000,2019-07-01 09:13:32.000000000,14,0,1,663597,96b916bed1112a77de63de136b662910566ca999,16,3,3,1,30438,Isaac Prior,Wasaac,"Adds release note warning of InfluxDB recommended version change

Default/recommended version changed in monasca-api DevStack plugin.

Change-Id: I7049504937ebeec5caf14393c4bcd0e06acd0e89
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Iac95e4eff314db7aa3c17c10315359bb5abadb80,openstack/tripleo-heat-templates,stable/stein,bug/1833426-stable/stein,Iac95e4eff314db7aa3c17c10315359bb5abadb80,Fix Ceph RGW listener port configuration,MERGED,2019-06-26 09:31:54.000000000,2019-07-01 09:13:24.000000000,2019-07-01 09:13:24.000000000,1,1,0,667565,80c40e03d66ae5d2128d1d85139f3e757a4cf380,15,6,1,1,6796,Giulio Fidente,gfidente,"Fix Ceph RGW listener port configuration

From the Ceph Nautilus release beast is the preferred listener for
RGW.

Closes-Bug: 1833426
Change-Id: Iac95e4eff314db7aa3c17c10315359bb5abadb80
(cherry picked from commit 3791bf36c4ed85d4881f48c8f2c62745a880c030)
"
openstack%2Fneutron-lib~master~Ifa545242224bdc80a934b529e44b25b4492d4e0b,openstack/neutron-lib,master,bug/1834012,Ifa545242224bdc80a934b529e44b25b4492d4e0b,Loopback address routing should be invalid,MERGED,2019-06-24 11:53:51.000000000,2019-07-01 08:49:31.000000000,2019-06-26 22:59:13.000000000,15,0,2,667070,8417717411894c2a2b315e21495245a83c23dc87,21,7,3,3,13438,Kobi Samoray,ksamoray,"Loopback address routing should be invalid

Host route validators should reject loopback CIDRs.

Change-Id: Ifa545242224bdc80a934b529e44b25b4492d4e0b
CLoses-bug: 1834012
"
openstack%2Fkuryr-kubernetes~master~I1909cf75595fd9da7dfb1481478756711e9bb06c,openstack/kuryr-kubernetes,master,opendev.org,I1909cf75595fd9da7dfb1481478756711e9bb06c,Replace git.openstack.org with opendev.org in URLs,MERGED,2019-06-26 15:57:30.000000000,2019-07-01 08:48:58.000000000,2019-07-01 08:48:58.000000000,58,58,0,667662,6b58a1b58ee36db180254de0d48f8747596769ef,8,6,1,21,11600,MichaÅ‚ Dulko,dulek,"Replace git.openstack.org with opendev.org in URLs

Change-Id: I1909cf75595fd9da7dfb1481478756711e9bb06c
"
openstack%2Fkuryr-kubernetes~master~I2aaadab4ffec6e0ad744e82fc9145cd86e14a224,openstack/kuryr-kubernetes,master,shrink-containers,I2aaadab4ffec6e0ad744e82fc9145cd86e14a224,Add `yum/dnf clean all` to dockerfiles,MERGED,2019-04-16 17:52:13.000000000,2019-07-01 08:44:12.000000000,2019-07-01 08:44:12.000000000,4,0,0,653062,e685d72800cb2a53a637200706eb876fda210976,44,6,6,4,11600,MichaÅ‚ Dulko,dulek,"Add `yum/dnf clean all` to dockerfiles

In a rather desperate try to shrink our container images this commit
adds `yum/dnf clean all` as part of the building process. This helps to
save around 100 MB in case of centos-based images.

Change-Id: I2aaadab4ffec6e0ad744e82fc9145cd86e14a224
"
openstack%2Fironic~stable%2Focata~I42239e0ec960507b7345866d768b3ee06738799b,openstack/ironic,stable/ocata,bindep-fallback,I42239e0ec960507b7345866d768b3ee06738799b,Add bindep.txt,MERGED,2019-06-28 11:33:57.000000000,2019-07-01 08:37:25.000000000,2019-07-01 08:37:25.000000000,89,0,0,668148,401e5653d98dc6e3e91bc4b7124f4f80a20ca51f,15,6,1,1,17685,Elod Illes,elod.illes,"Add bindep.txt

This is a combination of 2 commits to solve the dependency issue, which
came up after the announced removal of global bindep-fallback.txt

1. Add bindep.txt file

This is used by `bindep` [0] to assess if needed system packages are
installed.
It should allow easier installation of Python packages on a clean
system from source and help packagers too.
For now it is just a copy/merge of `devstack/files/[debs|rpms]/ironic`
files with added platform specifiers.

Packages have been tagged with certain bindep profiles:
- default - needed to run ironic service in production
- test - needed to compile Python dependencies and for other tox targets,
  profile of this name is used by various gate jobs
- devstack - needed to setup VMs posing as HW nodes by the devstack
  plugin
- imagebuild - only needed to build various types of deploy ramdisk

Note that DevStack install procedure currently does not use 'bindep',
and still relies on files in `devstack/files/...` folder.

[0] http://docs.openstack.org/infra/bindep/index.html

(cherry picked from commit b2fcf4804f61a0c2ca8f3adfacfe32e191c1b214)

2. Update bindep.txt for doc builds

https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation
specifies that doc dependencies need the doc tag in bindep, use it.

Leave test environment in for transition period until we use the new
scripts.

(cherry picked from commit 6a48eba4a7cbc9d82740ea579e6f7188ab2e8f2c)

Change-Id: I42239e0ec960507b7345866d768b3ee06738799b
(cherry picked from commit 43c54ec5cac82777e95c709e8c5b5366bccd6326)
"
openstack%2Fneutron-vpnaas~master~I67351284f0556680c61e78b92d2b7ffcd778103c,openstack/neutron-vpnaas,master,,I67351284f0556680c61e78b92d2b7ffcd778103c,Fix comment error in sync method,MERGED,2019-06-21 09:21:29.000000000,2019-07-01 08:32:31.000000000,2019-07-01 08:32:31.000000000,1,1,0,666799,c305ff2a7f701bdb78bcaaa1c7ace309ccb10355,12,10,1,1,29157,zhanghao,zhanghao2,"Fix comment error in sync method

Change-Id: I67351284f0556680c61e78b92d2b7ffcd778103c
"
openstack%2Fmonasca-notification~master~Id8d5fb1bf4cdd66c5f6ce0df513c38c877cca302,openstack/monasca-notification,master,665322,Id8d5fb1bf4cdd66c5f6ce0df513c38c877cca302,Document missing Grafana url env var in Docker,MERGED,2019-06-14 07:57:02.000000000,2019-07-01 08:32:00.000000000,2019-07-01 08:32:00.000000000,1,0,0,665322,07da3274dcde1fcc54f9216e646dd9c2896d0971,14,4,4,1,30571,Li Ke,likerj,"Document missing Grafana url env var in Docker

""NF_EMAIL_GRAFANA_URL"" is required when email plugin is configured for
notification so add it to README.

Change-Id: Id8d5fb1bf4cdd66c5f6ce0df513c38c877cca302
"
openstack%2Frpm-packaging~master~I5ab6eac7d0780e9a1d48917730a3c3d417980659,openstack/rpm-packaging,master,masakari_fixup,I5ab6eac7d0780e9a1d48917730a3c3d417980659,Fix build for masakari-monitors,MERGED,2019-06-28 17:17:28.000000000,2019-07-01 08:29:54.000000000,2019-07-01 08:29:54.000000000,4,12,0,668211,a88f475cb912066a8ebbf80faeeb71576ce3eead,9,5,1,1,6593,Dirk Mueller,dmllr,"Fix build for masakari-monitors

the unusuable wrapper shellscripts were removed, so the
rm(1) in %install was now failing. remove and clean this
up a little.

Change-Id: I5ab6eac7d0780e9a1d48917730a3c3d417980659
"
openstack%2Foslo.limit~master~I271c861b0579c7132b63bf90b1470d048adecff2,openstack/oslo.limit,master,bug/1790954,I271c861b0579c7132b63bf90b1470d048adecff2,Make callback required,ABANDONED,2018-09-06 07:25:19.000000000,2019-07-01 08:28:18.000000000,,16,14,1,600357,f35a68c806af5ca43debfdfa769ed4f8e93c2297,7,3,2,2,15054,wangxiyuan,wangxiyuan,"Make callback required

callback is the function provided by service to get the resource
usage. So it must be required.

Change-Id: I271c861b0579c7132b63bf90b1470d048adecff2
Closes-bug: #1790954
"
openstack%2Foslo.limit~master~Ibc35360dd4a952bbe63ee68ddafd5def0608949d,openstack/oslo.limit,master,limit_init,Ibc35360dd4a952bbe63ee68ddafd5def0608949d,Add basic enforce func,ABANDONED,2018-08-25 07:15:10.000000000,2019-07-01 08:28:00.000000000,,343,70,65,596520,527726576c39f16f05704fc7a84ff576346c680e,79,9,21,6,15054,wangxiyuan,wangxiyuan,"Add basic enforce func

Add the basic enforce func for Enforcer.

Co-Authored-By: Lance Bragstad<lbragstad@gmail.com>
Change-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~Ib4884078d54c25da998495ba3e8d47b5e17010ce,openstack/puppet-tripleo,stable/queens,iha_fix-stable/queens,Ib4884078d54c25da998495ba3e8d47b5e17010ce,IHA robustness improvements,MERGED,2019-06-28 21:39:40.000000000,2019-07-01 08:09:13.000000000,2019-07-01 08:09:13.000000000,1,0,0,668254,d64f7bfbb422da62306be9d7fa60d03db29754e1,7,3,1,1,20778,Damien Ciabrini,dciabrin,"IHA robustness improvements

This will avoid useless fencing events in case of stonith problems.  The
'compute-unfence-trigger' resource is simply a dummy resource that is
only used to trigger unfence events. If for whatever reason this
resource is having issues on stop (pcmk bug, node overloaded, etc.) it
makes zero sense to have pacemaker do a fencing action against the node.
Let's just block and show the operator the status and be less harsh in
general.

Tested this and I correctly get the following:
[root@controller-0 ~]# pcs resource show compute-unfence-trigger-clone
 Clone: compute-unfence-trigger-clone
  Resource: compute-unfence-trigger (class=ocf provider=pacemaker type=Dummy)
   Meta Attrs: requires=unfencing
   Operations: migrate_from interval=0s timeout=20 (compute-unfence-trigger-migrate_from-interval-0s)
               migrate_to interval=0s timeout=20 (compute-unfence-trigger-migrate_to-interval-0s)
               monitor interval=10 timeout=20 (compute-unfence-trigger-monitor-interval-10)
               reload interval=0s timeout=20 (compute-unfence-trigger-reload-interval-0s)
               start interval=0s timeout=20 (compute-unfence-trigger-start-interval-0s)
               stop interval=0s on-fail=block timeout=20 (compute-unfence-trigger-stop-interval-0s)

Closes-Bug: #1831234

Change-Id: Ib4884078d54c25da998495ba3e8d47b5e17010ce
(cherry picked from commit 8d2c3a0e6e392e2f358bf29a3b900afcd5bbe56a)
"
openstack%2Fautomaton~master~Ib9a720379ca997f848212eeca68ed9f32e4ed349,openstack/automaton,master,bindep-fallback,Ib9a720379ca997f848212eeca68ed9f32e4ed349,Add local bindep.txt,MERGED,2019-06-26 16:37:36.000000000,2019-07-01 07:43:43.000000000,2019-07-01 07:43:43.000000000,18,0,0,667679,50f3de69ae2b00f9b6f95756eb072b44fae548d3,7,3,1,2,17685,Elod Illes,elod.illes,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In documentation zuul job graphviz package ('dot' command) is needed.
Without that the job fails with:
    dot command 'dot' cannot be run (needed for graphviz output),
    check the graphviz_dot setting

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ib9a720379ca997f848212eeca68ed9f32e4ed349
"
openstack%2Fopenstack-ansible~master~I02d4fcd10dd8f1d0f310e4bbf000c25c396d0b4e,openstack/openstack-ansible,master,deploy-host-etc-hosts,I02d4fcd10dd8f1d0f310e4bbf000c25c396d0b4e,Populate /etc/hosts on deployment host,ABANDONED,2019-06-11 09:00:02.000000000,2019-07-01 07:42:04.000000000,,12,0,0,664527,c6beb0939f3924f4be885a0c23e307a73580fe94,7,5,2,1,4128,Francois Deppierraz,francois-ctrlaltdel,"Populate /etc/hosts on deployment host

This is pretty useful for sshing directly to containers from the deployment
host when unbound is not deployed.

Change-Id: I02d4fcd10dd8f1d0f310e4bbf000c25c396d0b4e
"
openstack%2Fpython-novaclient~master~I59c62ad129462c94bc4cc815101fb31ff062d2e3,openstack/python-novaclient,master,bug#openstackdocstheme,I59c62ad129462c94bc4cc815101fb31ff062d2e3,Bump openstackdocstheme to 1.30.0,MERGED,2019-06-04 02:10:03.000000000,2019-07-01 07:39:17.000000000,2019-06-04 14:52:47.000000000,1,1,0,662905,3df454525172bad47ae69626e92fd6c4020eaa91,8,3,1,1,28239,zhaixiaojun,zhaixiaojun,"Bump openstackdocstheme to 1.30.0

...to pick up many improvements, including the return of table borders.

Change-Id: I59c62ad129462c94bc4cc815101fb31ff062d2e3
"
openstack%2Fswift~master~I166211b690b08521171b489582fa419d756b1972,openstack/swift,master,bug#openstackdocstheme,I166211b690b08521171b489582fa419d756b1972,Bump openstackdocstheme to 1.30.0,MERGED,2019-06-05 04:39:00.000000000,2019-07-01 07:39:12.000000000,2019-06-05 15:18:29.000000000,2,2,0,663230,98637dc1e7a6ef5641079a6226d12bf106436b35,8,2,1,2,28239,zhaixiaojun,zhaixiaojun,"Bump openstackdocstheme to 1.30.0

...to pick up many improvements, including the return of table borders.

Change-Id: I166211b690b08521171b489582fa419d756b1972
"
openstack%2Fmistral~master~I22b652e1eb007616e697cb238fcd9e5f010cd693,openstack/mistral,master,bug#openstackdocstheme,I22b652e1eb007616e697cb238fcd9e5f010cd693,Bump openstackdocstheme to 1.30.0,MERGED,2019-06-06 01:40:12.000000000,2019-07-01 07:39:08.000000000,2019-06-06 10:09:43.000000000,2,2,0,663469,6dc981d81471e05eb2e2d1bc2e891e470dbe7125,12,3,2,2,28239,zhaixiaojun,zhaixiaojun,"Bump openstackdocstheme to 1.30.0

Some minor updates including fixing issues with the HTML5 output
generated by Sphinx 2.0, inlining the OpenStack logo rather than
referencing it from elsewhere, and adding a new SOURCE_DATE_EPOCH option
for use in reproducible builds in new release openstackdocstheme 1.30.0.
...to pick up many improvements, including the return of table borders.

Change-Id: I22b652e1eb007616e697cb238fcd9e5f010cd693
"
openstack%2Fpython-mistralclient~master~I5809b18186ae9779d44f3dd24fa25d45ad0ecff3,openstack/python-mistralclient,master,bug#openstackdocstheme,I5809b18186ae9779d44f3dd24fa25d45ad0ecff3,Bump openstackdocstheme to 1.30.0,MERGED,2019-06-06 02:54:34.000000000,2019-07-01 07:39:05.000000000,2019-06-06 11:34:16.000000000,2,2,0,663485,1ddb67828198dd390ac6293b21d2d5fc00281832,12,3,2,2,28239,zhaixiaojun,zhaixiaojun,"Bump openstackdocstheme to 1.30.0

Some minor updates including fixing issues with the HTML5 output
generated by Sphinx 2.0, inlining the OpenStack logo rather than
referencing it from elsewhere, and adding a new SOURCE_DATE_EPOCH option
for use in reproducible builds in new release openstackdocstheme 1.30.0
...to pick up many improvements, including the return of table borders.

Change-Id: I5809b18186ae9779d44f3dd24fa25d45ad0ecff3
"
openstack%2Fneutron~master~I8853ce602dfaf9e163b77db7cfa0c9d3f2d3fbd7,openstack/neutron,master,bug#openstackdocstheme,I8853ce602dfaf9e163b77db7cfa0c9d3f2d3fbd7,Bump openstackdocstheme to 1.30.0,MERGED,2019-06-06 01:37:07.000000000,2019-07-01 07:39:00.000000000,2019-06-06 09:15:56.000000000,2,2,0,663467,43d55304053f6569562a6d711301cb2759179288,11,6,1,2,28239,zhaixiaojun,zhaixiaojun,"Bump openstackdocstheme to 1.30.0

...to pick up many improvements, including the return of table borders.

Change-Id: I8853ce602dfaf9e163b77db7cfa0c9d3f2d3fbd7
"
openstack%2Fopenstack-ansible-os_octavia~master~Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa,openstack/openstack-ansible-os_octavia,master,fix-octavia,Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa,Use the admin endpoint to upload glance images,MERGED,2019-06-27 06:27:36.000000000,2019-07-01 07:35:39.000000000,2019-06-29 09:00:45.000000000,1,0,0,667791,a4d2a2aa64a3076fc5e7a2b1f6b3fea3fd2dd711,17,4,4,1,25023,Jonathan Rosser,jrosser,"Use the admin endpoint to upload glance images

The deploy host may not have access to the public endpoint. The
public endpoint SSL certificate may not be trusted. Both of
these things will cause a failure to upload the image.

Depends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87
Depends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
Depends-On: Ia5fda5d417b79189d048c8891b84d57331df1404
Change-Id: Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa
Closes-Bug: 1831183
"
openstack%2Fopenstack-ansible-os_octavia~master~I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d,openstack/openstack-ansible-os_octavia,master,fix-octavia,I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d,Ensure that admin endpoint is used to configure octavia quota,MERGED,2019-06-11 10:30:45.000000000,2019-07-01 07:26:47.000000000,2019-06-29 09:00:45.000000000,1,0,0,664551,2b39df7d8de3856185ebef0b24382cd0d8b18cca,27,4,7,1,25023,Jonathan Rosser,jrosser,"Ensure that admin endpoint is used to configure octavia quota

The default is the public endpoint which will fail with an SSL error
for AIO or other non-trusted certificates.

Depends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87
Depends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
Change-Id: I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d
Closes-Bug: 1831160
Closes-Bug: 1828599
"
openstack%2Fdevstack-tools~master~I67c3ee446195455e588e72aeebc54d54d8556d28,openstack/devstack-tools,master,py37-job,I67c3ee446195455e588e72aeebc54d54d8556d28,Update python 3 unit test job,MERGED,2019-02-19 09:06:10.000000000,2019-07-01 07:22:46.000000000,2019-07-01 07:22:46.000000000,3,2,1,637762,ae6fb0ab2cb68459795359c4033ae6b45129e6c3,21,4,5,3,9414,zhongshengping,ZhongShengping,"Update python 3 unit test job

This is a mechanically generated patch to update unit test job running
under Python 3.

See ML discussion here [1] for context.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html

Change-Id: I67c3ee446195455e588e72aeebc54d54d8556d28
Story: #2004073
Task: #27445
"
openstack%2Ftripleo-quickstart~master~I78e7357eba00baccc6e940c56c8dbaebe85bc8b3,openstack/tripleo-quickstart,master,add-ipv6-config,I78e7357eba00baccc6e940c56c8dbaebe85bc8b3,New config in order to get IPv6 with pacemaker on a single-nic isolated net,ABANDONED,2018-05-23 14:41:45.000000000,2019-07-01 06:48:58.000000000,,102,0,2,570209,f9cba5bafc3cb9b877a93f0ec9049b5a0dd42dd1,14,8,2,1,28223,Cedric Jeanneret,cjeanner,"New config in order to get IPv6 with pacemaker on a single-nic isolated net

There are currently a couple of configurations for IPv6, but they are all with
multiple-nic.

Change-Id: I78e7357eba00baccc6e940c56c8dbaebe85bc8b3
"
openstack%2Fwatcher~master~I8e28d651938ca6ed8d12e8a6f5ecf775cf01a39c,openstack/watcher,master,assertTrue,I8e28d651938ca6ed8d12e8a6f5ecf775cf01a39c,Fix invalid assert states,MERGED,2019-06-28 09:25:15.000000000,2019-07-01 06:24:53.000000000,2019-07-01 06:24:53.000000000,8,4,0,668124,8fc4a9cbeec561b5dd4756d335423a721bbc5ef0,13,3,5,1,20190,zhufl,zhufl,"Fix invalid assert states

""self.assertTrue(action.state, objects.action.State.SUCCEEDED)""
and ""self.assertTrue(action.state, objects.action.State.FAILED)""
should use assertEqual.

Co-Authored-By: Canwei Li <li.canwei2@zte.com.cn>
Change-Id: I8e28d651938ca6ed8d12e8a6f5ecf775cf01a39c
"
openstack%2Fwatcher-tempest-plugin~master~I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2,openstack/watcher-tempest-plugin,master,refactor_strategy_tempest,I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2,Refactor strategy tempest,MERGED,2019-05-31 09:25:47.000000000,2019-07-01 06:20:59.000000000,2019-07-01 06:20:59.000000000,176,1,0,662416,d985b042f922574011c0ab1baf243621dc06fb54,40,5,18,3,21692,licanwei,licanwei,"Refactor strategy tempest

Depends-on: I950eec50d2cee38bd22c47a70ae6f88bbf049080
Depends-on: I6f39e8d935195c611f668f71590e1d9ff52ced0d
Depends-on: I7e441608b38338eecd80e663ed3abe66a89e504f
Depends-on: Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba
Change-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2
"
openstack%2Foslo.log~master~I4757f93c4194bd821232a2f6cc9abf3be00f15d0,openstack/oslo.log,master,rm-incubator,I4757f93c4194bd821232a2f6cc9abf3be00f15d0,Remove incubator migration docs,MERGED,2019-06-13 18:20:17.000000000,2019-07-01 06:00:34.000000000,2019-07-01 06:00:34.000000000,0,120,0,665204,e7a680e4d0542d21cc4272501f95572f8cd6c01e,9,3,2,2,6928,Ben Nemec,bnemec,"Remove incubator migration docs

Incubator logging has been gone for years. Nobody still needs these
docs, and on the off chance that I'm wrong they're still available
in git.

Change-Id: I4757f93c4194bd821232a2f6cc9abf3be00f15d0
"
openstack%2Fcinder~stable%2Frocky~Ia95936f3cea611f9fb7517d3b6849f511be2450b,openstack/cinder,stable/rocky,,Ia95936f3cea611f9fb7517d3b6849f511be2450b,[VNX] Fix test case issue,MERGED,2019-06-13 02:34:52.000000000,2019-07-01 05:52:59.000000000,2019-06-18 16:05:39.000000000,15,10,0,665046,4fd1cdcf62bf83b57d7685d19fa06daa522c9a98,30,13,1,2,26114,Yong Huang,yong.huang,"[VNX] Fix test case issue

Major changes:
1. Fix mock file issue
2. Fix cg test case issue

Change-Id: Ia95936f3cea611f9fb7517d3b6849f511be2450b
Closes-bug: #1795957
(cherry picked from commit 18fbbd1afe2b9151fe521d200b280ae4a0ef6202)
(cherry picked from commit 053c33cbfc2b4b72d9ca20f617e542452f98944f)
"
openstack%2Fwatcher~master~Ic721ca1ec0e8129619bd31db14e78bb87e24f532,openstack/watcher,master,just_test,Ic721ca1ec0e8129619bd31db14e78bb87e24f532,[DNM] just test,ABANDONED,2019-06-27 09:07:13.000000000,2019-07-01 05:24:53.000000000,,7,0,0,667822,4c5a53d6418cf0f274536b3461e39936090eaa82,3,1,1,1,21692,licanwei,licanwei,"[DNM] just test

Change-Id: Ic721ca1ec0e8129619bd31db14e78bb87e24f532
"
openstack%2Fwatcher~stable%2Fstein~I2518bdb1a571e2b0361a4389449d574619474479,openstack/watcher,stable/stein,just_test,I2518bdb1a571e2b0361a4389449d574619474479,[DNM] just test,ABANDONED,2019-06-27 11:17:25.000000000,2019-07-01 05:24:39.000000000,,7,0,0,667901,f88e858e03af8896393a2b2802c86809ab8452b7,3,1,1,1,21692,licanwei,licanwei,"[DNM] just test

Change-Id: I2518bdb1a571e2b0361a4389449d574619474479
"
openstack%2Fironic-python-agent~master~I1b265dcb970fc4578f750090fd120451294c2bc2,openstack/ironic-python-agent,master,,I1b265dcb970fc4578f750090fd120451294c2bc2,Adds UEFI support for building coreos image,ABANDONED,2017-05-25 05:37:29.000000000,2019-07-01 05:18:33.000000000,,60,3,11,467894,30db0c68c03c692c1b22b96a56ad881043e9587b,10,3,2,1,22271,paresh,kesper,"Adds UEFI support for building coreos image

This commit enable coreos to build UEFI supported
iso deployimage.

Change-Id: I1b265dcb970fc4578f750090fd120451294c2bc2
"
openstack%2Fproject-config~master~If90ed8480eeb1768d89bf2d1af5f464ff6326884,openstack/project-config,master,retire-role,If90ed8480eeb1768d89bf2d1af5f464ff6326884,Removed unused ACL,MERGED,2019-06-25 18:42:26.000000000,2019-07-01 04:50:24.000000000,2019-07-01 04:50:24.000000000,0,11,0,667437,c3ef766d425922d548872c54bf9d85919daa30af,7,3,1,1,7353,Kevin Carter,cloudnull,"Removed unused ACL

This ACL file is not used anywhere, so it is being removed.

Change-Id: If90ed8480eeb1768d89bf2d1af5f464ff6326884
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fproject-config~master~I769834c67b3e4948093cfa5782b83d71c64d1f63,openstack/project-config,master,tripleo-cookie,I769834c67b3e4948093cfa5782b83d71c64d1f63,Fix ACLs for retired ansible-role-tripleo-cookiecutter,MERGED,2019-06-27 11:13:40.000000000,2019-07-01 04:50:22.000000000,2019-07-01 04:50:22.000000000,1,1,0,667900,6214894c8ad7f46545bdb545125c27440120d8fe,9,5,1,1,6547,Andreas Jaeger,jaegerandi,"Fix ACLs for retired ansible-role-tripleo-cookiecutter

Change https://review.opendev.org/667418 retired
ansible-role-tripleo-cookiecutter but forgot to update the ACL line, do
this now.

Change-Id: I769834c67b3e4948093cfa5782b83d71c64d1f63
"
openstack%2Fzun-ui~master~Ib959ad72941e12a19e68549e2b397cf1c396508f,openstack/zun-ui,master,Bug#1,Ib959ad72941e12a19e68549e2b397cf1c396508f,Add python37 job,MERGED,2019-06-21 03:37:40.000000000,2019-07-01 04:00:12.000000000,2019-07-01 04:00:12.000000000,3,2,3,666764,a6972f44ca0094501bdd69fd2cb486fbcb14ebad,14,12,3,3,27822,pengyuesheng,pengyuesheng,"Add python37 job

Since we've entered Train and the runtime proposed include py37[1],
we need to include it in gate as well as local env.
This patch adds the support for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ib959ad72941e12a19e68549e2b397cf1c396508f
"
openstack%2Fswift~master~I7b07f0833d675d2939c910f679b54da2b8cda482,openstack/swift,master,assertTrue,I7b07f0833d675d2939c910f679b54da2b8cda482,Fix invalid assert states,MERGED,2019-06-28 09:00:42.000000000,2019-07-01 03:47:03.000000000,2019-07-01 03:45:55.000000000,2,2,1,668117,c46b88ab742761c8918013fa9cc40a169e015474,10,2,2,2,20190,zhufl,zhufl,"Fix invalid assert states

""self.assertTrue(policies[1].is_deprecated, True)"" and
""self.assertTrue(crashy_calls[0], 1)"" are not correct, this is
to fix them.

Change-Id: I7b07f0833d675d2939c910f679b54da2b8cda482
"
openstack%2Fosprofiler~master~I50f5f369ec41ddc82f9b66f5910b7805940fb387,openstack/osprofiler,master,cmd-args-check,I50f5f369ec41ddc82f9b66f5910b7805940fb387,Bring env OSPROFILER_CONNECTION_STRING into effect,MERGED,2019-06-28 06:50:34.000000000,2019-07-01 03:43:02.000000000,2019-06-29 03:44:39.000000000,11,2,0,668098,ede0ec402eee45e107c1fde429c3332b3e49f60e,10,4,1,1,30170,francotseng,francotseng,"Bring env OSPROFILER_CONNECTION_STRING into effect

The --connection-string is marked required, and parse_args()
assumes the flag invalid if it's not supplied as command line
argument, even if env OSPROFILER_CONNECTION_STRING is setted.

We should not rely on the required=True of argparse module,
but check the required args on our own to take env arguments
into consideration.

Change-Id: I50f5f369ec41ddc82f9b66f5910b7805940fb387
"
openstack%2Ftrove-dashboard~master~I6eda6bb0ec36402f3d3be632b96e9104a1fe305a,openstack/trove-dashboard,master,,I6eda6bb0ec36402f3d3be632b96e9104a1fe305a,Update the constraints url,ABANDONED,2019-06-20 16:20:34.000000000,2019-07-01 03:35:15.000000000,,1,1,0,666632,74b8274f77e668f96460d84be6836d19f55f313e,3,3,1,1,29313,Vishal Manchanda,vishalmanchanda,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I6eda6bb0ec36402f3d3be632b96e9104a1fe305a
"
openstack%2Fhorizon~master~Ia70dcd1c320861378e9b48be8cbd630bf1a25f2c,openstack/horizon,master,bug/1533910,Ia70dcd1c320861378e9b48be8cbd630bf1a25f2c,Horizon template loader to index by actual panel directory,ABANDONED,2019-06-21 09:46:29.000000000,2019-07-01 03:25:36.000000000,,28,8,0,666805,d82478a355e7d67cb7766a5d5023200a700279e3,4,2,1,2,29313,Vishal Manchanda,vishalmanchanda,"Horizon template loader to index by actual panel directory

Since the introduction of Pluggable Settings, specifically
PANEL_DASHBOARD, panel can now be reassigned to a different dashboard
than the directory structure would suggest. This extends the indexing
logic to maintain a lookup dict with keys derived from the actual
panel directory as well.

Change-Id: Ia70dcd1c320861378e9b48be8cbd630bf1a25f2c
Closes-Bug: #1533910
"
openstack%2Fcyborg~master~Id30a75c83c91b3a01ce12010abd9314630e8f284,openstack/cyborg,master,,Id30a75c83c91b3a01ce12010abd9314630e8f284,Update json module to jsonutils,MERGED,2019-06-25 13:10:37.000000000,2019-07-01 03:07:51.000000000,2019-07-01 03:07:51.000000000,12,13,0,667362,75ecc3ab85f49faad74bb8d3be1f0a9aa6d752c6,8,7,1,5,28748,chenker,chenke,"Update json module to jsonutils

oslo project provide jsonutils, and cyborg use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

Reference link:
[1]. https://github.com/openstack/cyborg/search?q=jsonutils&unscoped_q=jsonutils

Change-Id: Id30a75c83c91b3a01ce12010abd9314630e8f284
"
openstack%2Freleases~master~Ic8711e68bea957e02be805523beac27daf3e70a8,openstack/releases,master,tripleo/ansible/roles,Ic8711e68bea957e02be805523beac27daf3e70a8,Updating tags for TripleO Ansible roles,MERGED,2019-06-28 15:22:36.000000000,2019-07-01 02:49:10.000000000,2019-07-01 02:49:10.000000000,27,26,0,668191,4be7fcc360c485a2a5776ee07e3eff6f4c1f5b02,8,4,1,6,3153,Emilien Macchi,emilienm,"Updating tags for TripleO Ansible roles

1. Cleanup

ansible-role-tripleo-modify-image and ansible-role-container-registry
are indepenpent, we don't want branch them and only produce tags at this
point.

2. New tags

ansible-role-chrony: Release 1.0.0, the role is now used by default in
Stein and proved to work fine.

ansible-role-container-registry: release 1.1.0

ansible-role-redhat-subscription: release 1.0.3

Change-Id: Ic8711e68bea957e02be805523beac27daf3e70a8
ansible-role-tripleo-modify-image: release 1.1.0
"
openstack%2Fpuppet-openstack-integration~stable%2Frocky~Ibcaaf78f8f11e5fb57974451376d12e29ef33db8,openstack/puppet-openstack-integration,stable/rocky,fix-mimic-ci,Ibcaaf78f8f11e5fb57974451376d12e29ef33db8,Add implied branch config for pacemaker and ceph,MERGED,2019-06-25 15:34:35.000000000,2019-07-01 02:48:03.000000000,2019-07-01 02:48:03.000000000,11,0,0,667387,b542a9ffb894a42ae8f3c2ce3a0e33167ddea5ae,14,4,6,2,14985,Alex Schultz,mwhahaha,"Add implied branch config for pacemaker and ceph

Currently jobs aren't running because ceph uses different naming
conventions than openstack.  Also we branched pacemaker for 0.7.x which
will also need jobs running.

Change-Id: Ibcaaf78f8f11e5fb57974451376d12e29ef33db8
"
openstack%2Freleases~master~I592d33f4f7a4a9a6fdd92f6900b9bf143a35a148,openstack/releases,master,,I592d33f4f7a4a9a6fdd92f6900b9bf143a35a148,Release octavia-tempest-plugin 1.1.0,MERGED,2019-06-18 16:08:36.000000000,2019-07-01 02:41:51.000000000,2019-07-01 02:41:51.000000000,5,0,0,666037,c3284b99dc5361db6a786829d8427b8586d1bc53,11,6,1,1,6469,Carlos GonÃ§alves,cgoncalves,"Release octavia-tempest-plugin 1.1.0

Change-Id: I592d33f4f7a4a9a6fdd92f6900b9bf143a35a148
"
openstack%2Freleases~master~Ibcc6427016c91e701c7cf7fc19dce15438c17b1c,openstack/releases,master,neutron-rocky-13.0.4,Ibcc6427016c91e701c7cf7fc19dce15438c17b1c,Neutron Rocky 13.0.4,MERGED,2019-06-24 15:06:57.000000000,2019-07-01 02:41:50.000000000,2019-07-01 02:41:50.000000000,4,0,0,667122,cfc5a179d5c340d4de548a17d15ce965e192674a,11,7,1,1,1131,Brian Haley,brian-haley,"Neutron Rocky 13.0.4

Change-Id: Ibcc6427016c91e701c7cf7fc19dce15438c17b1c
"
openstack%2Freleases~master~I3d8b5fdec5c9f324978f0d2ed05d4edb01a85054,openstack/releases,master,neutron-stein-14.0.2,I3d8b5fdec5c9f324978f0d2ed05d4edb01a85054,Neutron Stein 14.0.2,MERGED,2019-06-04 18:51:21.000000000,2019-07-01 02:41:49.000000000,2019-07-01 02:41:49.000000000,4,0,0,663122,d249dea8cfdfeb9a4d789e9bfcbfaec3d0d65c94,29,12,3,1,1131,Brian Haley,brian-haley,"Neutron Stein 14.0.2

Change-Id: I3d8b5fdec5c9f324978f0d2ed05d4edb01a85054
"
openstack%2Freleases~master~If9a51393fb37e8d698856eb06fff4d9d36888074,openstack/releases,master,cycle-automatic,If9a51393fb37e8d698856eb06fff4d9d36888074,Switch all tempest plugins to cycle-automatic,MERGED,2019-06-20 11:51:25.000000000,2019-07-01 02:26:18.000000000,2019-07-01 02:26:17.000000000,29,29,2,666547,a25f7068623d743d3866c4959b366d98c9f22473,12,6,3,29,308,Thierry Carrez,ttx,"Switch all tempest plugins to cycle-automatic

Switch all Train deliverables with type tempest-plugin to the
new cycle-automatic model, ensuring their automatic release
once (and only once) at the end of the release cycle.

This is a default setting. Projects that want to do multiple
tempest plugin releases this cycle can switch back to the
cycle-with-intermediary model when they push their release
request.

Task: 34190
Change-Id: If9a51393fb37e8d698856eb06fff4d9d36888074
"
openstack%2Freleases~master~I83ff63cef18ae297013c3761a373078e580cf58b,openstack/releases,master,cycle-automatic,I83ff63cef18ae297013c3761a373078e580cf58b,Introduce cycle-automatic release model,MERGED,2019-06-20 11:51:25.000000000,2019-07-01 02:26:13.000000000,2019-07-01 02:26:13.000000000,20,1,1,666546,b0f8d79dc07f60aab6832b47cb09a6ce128fbd64,12,4,3,3,308,Thierry Carrez,ttx,"Introduce cycle-automatic release model

For things like tempest-plugins, the cycle-with-intermediary model
is a bit overkill, especially now that we encourage multiple
intermediary releases to qualify.

Introduce a new 'cycle-automatic' model for deliverables that only
need to be released once, automatically at the end of the cycle.
This is limited to ""other"" or ""tempest-plugin"" deliverables.

Task: 31025
Change-Id: I83ff63cef18ae297013c3761a373078e580cf58b
"
openstack%2Fmonasca-persister~master~I43617c8ff4c2112850671c4841c47f718ace2146,openstack/monasca-persister,master,process_num_metrics_alarms,I43617c8ff4c2112850671c4841c47f718ace2146,Support set kafka processors option,ABANDONED,2019-06-12 10:07:48.000000000,2019-07-01 01:42:19.000000000,,13,6,2,664848,c44fa98d0bc96f72b1caf1db272c2fc3b3738795,11,3,3,6,29970,jianweizhang,zhangjianwei,"Support set kafka processors option

Add options for kafka_metrics and kafka_events.users can set
processors for metrics and alarm history.

Change-Id: I43617c8ff4c2112850671c4841c47f718ace2146
"
openstack%2Fdevstack~master~Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610,openstack/devstack,master,628651,Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610,Drop signing_dir option from configure_auth_token_middleware,MERGED,2019-01-04 17:53:03.000000000,2019-07-01 01:30:06.000000000,2019-07-01 01:30:06.000000000,25,92,3,628651,8ab64b3236c93c8449edf80165017898b83f1269,49,10,6,8,6593,Dirk Mueller,dmllr,"Drop signing_dir option from configure_auth_token_middleware

This is no longer being used due to Keystone PKI tokens no longer
being implemented.

In order to not break backward compatibility we create a new function
that is to be used instead and deprecate the old one. Modify the old
function to ignore the 3rd argument and display a deprecation warning.
Adjust callers to no longer create and set that directory, calling the
new function instead.

Change-Id: Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610
"
openstack%2Ftempest~master~If04005a3ff5ef4b1faa4d2179ba2987abdd5ef04,openstack/tempest,master,flavor_check,If04005a3ff5ef4b1faa4d2179ba2987abdd5ef04,Use assert_flavor_equal to check flavor before and after microversion 2.46,MERGED,2019-06-26 09:43:16.000000000,2019-07-01 00:29:40.000000000,2019-07-01 00:29:39.000000000,1,4,0,667567,83f524af28cc0e2de76eb3d85ba35986153eabb9,7,3,1,1,20190,zhufl,zhufl,"Use assert_flavor_equal to check flavor before and after microversion 2.46

Flavor id is not returned in the server response after microversion 2.46,
but we can use base.assert_flavor_equal to check flavor before and after
microversion 2.46.

Change-Id: If04005a3ff5ef4b1faa4d2179ba2987abdd5ef04
"
openstack%2Ftempest~master~I4878632cabc75097b6e975a5a2dcce6945d30958,openstack/tempest,master,assertIsNone,I4878632cabc75097b6e975a5a2dcce6945d30958,Fix invalid assertIsNone state,MERGED,2019-06-28 09:47:47.000000000,2019-06-30 23:46:15.000000000,2019-06-30 23:46:15.000000000,1,1,1,668134,e1afe4e75af59fcbadb8e29b968747a46073d165,7,3,1,1,20190,zhufl,zhufl,"Fix invalid assertIsNone state

This is to fix invalid assertIsNone state of
""self.assertIsNone(None, self.run_cmd._build_regex(args))"".

Change-Id: I4878632cabc75097b6e975a5a2dcce6945d30958
"
openstack%2Fmagnum~master~If42873cd6668c07e4e911e4eef5e4ae2232be66f,openstack/magnum,master,story/2005588,If42873cd6668c07e4e911e4eef5e4ae2232be66f,[k8s] Update prometheus monitoring helm based configuration,MERGED,2019-05-06 16:15:05.000000000,2019-06-30 21:58:40.000000000,2019-06-30 21:58:40.000000000,93,24,4,657403,41b83cef43c21ce3bb68ce0cd76867fd111abf36,28,4,11,8,29425,Diogo Guerra,dioguerra,"[k8s] Update prometheus monitoring helm based configuration

* prometheus-operator chart version upgraded from 0.1.31. to 5.12.3
* Fix an issue where when using Feature Gate Priority the scheduler
would evict the prometheus monitoring node-exporter pods
* Fix an issue where intensive CPU utilization would make the
metrics fail intermitently or completly fail
* Prometheus resources are now calculated based on the MAX_NODE_COUNT
requested
* Change the sampling rate from the standard 30s to 1 minute (Rollback)
* Add the missing tiller CONTAINER_INFRA_PREFIX variable to the ConfigMap
* Add label prometheus_operator_chart_tag to enable the user to
specify the stable/prometheus-operator chart to use
* Fix breaking changes on CoreDNS metrics introduced by
https://github.com/openstack/magnum/commit/8fb27da2fc39c8be32ec756c1cc3779ae07d30a4
* Fix Graphana dashboard not showing data.


Change-Id: If42873cd6668c07e4e911e4eef5e4ae2232be66f
Task: 30777
Task: 30779
Story: 2005588
Signed-off-by: Diogo Guerra <dy090.guerra@gmail.com>
"
openstack%2Fmagnum~master~Ia443e3a129418048270487bf46af2cff488731f3,openstack/magnum,master,,Ia443e3a129418048270487bf46af2cff488731f3,k8s_fedora: Update to kubernetes v1.14.3,MERGED,2019-06-18 20:33:52.000000000,2019-06-30 21:55:38.000000000,2019-06-30 21:55:38.000000000,3,3,0,666166,2ad3fd8756e66b4870711ce6d2c43b2a772bce0f,10,8,1,1,1004,Mohammed Naser,mnaser,"k8s_fedora: Update to kubernetes v1.14.3

The previous patch I7ac0cffcdc8712503e2ea584b12d28ed3a7748b7
seems to have missed a few other variables so we're still
deploying 1.11 clusters by default.

Change-Id: Ia443e3a129418048270487bf46af2cff488731f3
story: 2005380
task: 30362
"
openstack%2Fpython-magnumclient~master~Ib2c17cc0c244a89c700f309dc7dd971596fb0957,openstack/python-magnumclient,master,659298,Ib2c17cc0c244a89c700f309dc7dd971596fb0957,Conditional hidden arg for backward compatibility,MERGED,2019-05-15 14:20:50.000000000,2019-06-30 21:52:24.000000000,2019-06-30 21:52:24.000000000,6,2,0,659298,c72512d41aee76ff849c600aae854ee55a80cb12,22,5,7,2,28022,Bharat Kunwar,brtknr,"Conditional hidden arg for backward compatibility

At the moment, the python-magnumclient supplies the ""hidden"" arg when
creating cluster/cluster templates which is not backward compatible with
pre-Stein Magnum. This patch addresses the issue.

Story: 2005539
Task: 30678

Change-Id: Ib2c17cc0c244a89c700f309dc7dd971596fb0957
"
openstack%2Fpython-magnumclient~master~I3090e9d9b31dc668d177771de3cf1a8f3ea91ae8,openstack/python-magnumclient,master,cover,I3090e9d9b31dc668d177771de3cf1a8f3ea91ae8,Fix coverage test,MERGED,2019-06-03 07:55:57.000000000,2019-06-30 21:52:23.000000000,2019-06-30 21:52:23.000000000,8,80,0,662701,440f4b12fc67e8dd615319714bfefcf39dfa57a8,10,3,2,2,8064,Jake Yip,jake,"Fix coverage test

The coverage test has been broken since forever [1].

Fix it by updating coverage test to how other projects do it [2][3].

[1] https://zuul.openstack.org/builds?job_name=openstack-tox-cover&project=openstack%2Fpython-magnumclient
[2] https://github.com/openstack/nova/blob/stable/stein/tox.ini#L152-L167
[3] https://github.com/openstack/cinder/blob/stable/stein/tox.ini#L99-L110

Change-Id: I3090e9d9b31dc668d177771de3cf1a8f3ea91ae8
"
openstack%2Fpython-magnumclient~master~I5d1f67cbf3295af13fa058c301c4a2eec6e0c3b4,openstack/python-magnumclient,master,bandit,I5d1f67cbf3295af13fa058c301c4a2eec6e0c3b4,Blacklist bandit 1.6.0 and cap Sphinx on Python2,MERGED,2019-06-03 07:55:57.000000000,2019-06-30 21:52:22.000000000,2019-06-30 21:52:22.000000000,3,2,0,662700,3d6e9bdcd0ce13a41359b8837d975b0af284a28d,10,3,2,2,8064,Jake Yip,jake,"Blacklist bandit 1.6.0 and cap Sphinx on Python2

Change-Id: I5d1f67cbf3295af13fa058c301c4a2eec6e0c3b4
"
openstack%2Fopenstack-zuul-jobs~master~Ie6dd47255995387d143eaa2efe8b1592094415d9,openstack/openstack-zuul-jobs,master,,Ie6dd47255995387d143eaa2efe8b1592094415d9,Remove upload-git-mirror test job,MERGED,2019-06-28 20:39:57.000000000,2019-06-30 20:08:42.000000000,2019-06-30 20:08:42.000000000,0,104,0,668249,466436ccccb933ef3a50ecd3beb6ecd966451386,13,3,1,2,1,James E. Blair,corvus,"Remove upload-git-mirror test job

This has been moved to the zuul-jobs repo.

Depends-On: https://review.opendev.org/668248
Change-Id: Ie6dd47255995387d143eaa2efe8b1592094415d9
"
openstack%2Fcharm-swift-storage~master~Ib1c419a0c9710b4489777471226ccd680408f8fe,openstack/charm-swift-storage,master,bug/1826552,Ib1c419a0c9710b4489777471226ccd680408f8fe,Sync charm-helpers for lp1826552,MERGED,2019-06-17 12:13:46.000000000,2019-06-30 20:02:08.000000000,2019-06-30 20:02:08.000000000,5047,143,0,665652,04a0fc47b0a66adcaba34df0c50ccc956cd95922,11,4,1,45,24504,Tytus Kurek,tkurek,"Sync charm-helpers for lp1826552

Ensure that charmhelpers directory is up to date.

Change-Id: Ib1c419a0c9710b4489777471226ccd680408f8fe
Needed-By: If621587a02746876ee6c35d7af2e878dbc2ac8ef
Partial-Bug: 1826552
"
openstack%2Fpython-zunclient~master~Iaad3a772d216987273337f829bb49c6167bf298c,openstack/python-zunclient,master,,Iaad3a772d216987273337f829bb49c6167bf298c,Switch to the new canonical constraints URL on master,MERGED,2019-06-20 12:47:07.000000000,2019-06-30 19:22:50.000000000,2019-06-30 19:22:50.000000000,2,2,0,666557,5ab28a43c36516ab645b08907ebecdc88a50a6a0,6,3,1,1,28748,chenker,chenke,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Iaad3a772d216987273337f829bb49c6167bf298c
"
openstack%2Fopenstack-zuul-jobs~master~I960ab96cf370c4305826e0f5c55f49a8d8934406,openstack/openstack-zuul-jobs,master,fix-ovs-install-on-gentoo,I960ab96cf370c4305826e0f5c55f49a8d8934406,set package.use values for ovs on Gentoo,ABANDONED,2019-06-29 18:02:30.000000000,2019-06-30 19:04:28.000000000,,12,0,2,668303,82855cf5b0ea1640de8acc7374b0ddc74dd99247,6,3,1,1,14288,Matthew Thode,prometheanfire,"set package.use values for ovs on Gentoo

Change-Id: I960ab96cf370c4305826e0f5c55f49a8d8934406
"
openstack%2Fopenstack-zuul-jobs~master~I86cc3b3ace21e0a3424a2f7d7a06842bc591ea01,openstack/openstack-zuul-jobs,master,fix-ovs-install-on-gentoo,I86cc3b3ace21e0a3424a2f7d7a06842bc591ea01,DNM: Fix Gentoo ovs install,ABANDONED,2019-06-30 07:21:29.000000000,2019-06-30 19:04:12.000000000,,1,1,0,668316,de26ec665cb6f32f787975e6c841d5b8baaccbde,9,2,3,1,6547,Andreas Jaeger,jaegerandi,"DNM: Fix Gentoo ovs install

Do not merge, this is for testing 668319 - to fix the failure
in https://review.opendev.org/668249.

Depends-On: https://review.opendev.org/668319
Change-Id: I86cc3b3ace21e0a3424a2f7d7a06842bc591ea01
"
openstack%2Fcinder~stable%2Focata~I8c581225eada929bc947b13f851bb228000f32fe,openstack/cinder,stable/ocata,bindep-fallback,I8c581225eada929bc947b13f851bb228000f32fe,Add bindep.txt,MERGED,2019-06-25 14:32:48.000000000,2019-06-30 18:40:18.000000000,2019-06-30 18:40:18.000000000,38,0,0,667375,73e5a7bbd54a5fa0462e08842aa9b5fe3ea4d373,23,16,2,2,17685,Elod Illes,elod.illes,"Add bindep.txt

This is a combination of 4 commits to solve the issue created by the
removal of global bindep-fallback.txt.

1. Add a local bindep.txt override

This avoids falling back to the global bindep-fallback.txt which
installs a pretty big environment. Without this change, a lot
of additional but unnecessary packages are installed on the nodepool
workers.

Conflicts:
    tox.ini
Note(elod.illes): Due to not having patch
If247add30d8dc4761dacb82c8d02ea4bd71546f0 on stable/ocata

(cherry picked from commit 2db0497fde2e26f09f23a4af4c8a253fc3190227)

2. Add libssl to bindep

Source builds using cryptography need libssl-dev (and assorted other
platform package names) to compile. Adding package declaration for
dpkg, rpm, and suse.

Closes-bug: #1696262
(cherry picked from commit 9151ea2719deb28930084c562ed08c404367ed74)

3. Add thin-provisioning-tools to bindep

If we're going to use auto we should make sure we add
thin-provisioning-tools to bindep.  I think RHEL/CentOS
variants include this by default.

(cherry picked from commit c6a4a6b2f27d1031a6e2398e9f0674ff8dd01d6d)

4. Add thin provisioning package to install guide

Our installation guide walks through configuring storage nodes
using the LVM driver. LVM now defaults to thinly provisioned,
which requires thing-provisioning-tools to be installed on the
host. So by default, our instructions will result in failure
when we attempt to perform thin provision operations.

This adds mention of installing the required package for each
platform's instructions to get the necessary tools installed.

It also adds device-mapper-persistent-data to bindep for Red
Hat based platforms to get those thin provisioning tools that
were previously missing for these platforms.

Tools appear to be installed by default on Suse platforms.

Closes-bug: #1738409
Closes-bug: #1740262
(cherry picked from commit 78fa04624d8ab07203a028b256e7001c1ce18679)
(cherry picked from commit 8518fe30685fd3a47c3f4372b67bd27d28ee19b2)

Conflicts:
    doc/source/install/cinder-storage-install-rdo.rst
    doc/source/install/cinder-storage-install-ubuntu.rst
Note(elod.illes): conflict is caused by not having these documentation
files on ocata.

Change-Id: I8c581225eada929bc947b13f851bb228000f32fe
"
openstack%2Fglance~stable%2Focata~Id6c17f9a53ad8ad5f0bb9d308ccf5d33a6f59f7f,openstack/glance,stable/ocata,bindep-fallback,Id6c17f9a53ad8ad5f0bb9d308ccf5d33a6f59f7f,Add a local bindep.txt override,MERGED,2019-06-27 14:58:08.000000000,2019-06-30 18:40:16.000000000,2019-06-30 18:40:16.000000000,33,0,0,667954,1fbcf0960b1e3727789e3c837e2679e8db202e8b,8,4,1,2,17685,Elod Illes,elod.illes,"Add a local bindep.txt override

This avoids falling back to the global bindep-fallback.txt which
installs a pretty big environment. Without this change, a lot
of additional but unnecessary packages are installed on the nodepool
workers.

Change-Id: Id6c17f9a53ad8ad5f0bb9d308ccf5d33a6f59f7f
(cherry picked from commit 8db99e2213e6d597e9e8ac6cd9c00843e1b28eda)
(cherry picked from commit 5ed509804980dd3013d0e9e4fe7a498b6c90d2e2)
"
openstack%2Fmanila-specs~master~I306dc02e4bd3d507dfee18fca77b43dfba6c3ccd,openstack/manila-specs,master,bp/update-share-type-name-or-description,I306dc02e4bd3d507dfee18fca77b43dfba6c3ccd,Add update share-type API to Share Types,MERGED,2019-05-24 06:43:02.000000000,2019-06-30 18:37:00.000000000,2019-06-30 18:37:00.000000000,169,0,50,661209,2bef7387badbb1149770db693a1b70054654d728,32,14,4,1,30407,haixin,haixin,"Add update share-type API to Share Types

Currently, only the name and description and public access of share-type
is set when the share-type is created, and not allowed to be edited after
the share-type is created. We can only set extra spec for share-type. But
not name or description or public access for share-type.

APIImpact
DOCImpact

Co-Authored-By: Brin Zhang <zhangbailin@inspur.com>

Implements: blueprint update-share-type-name-or-description
Change-Id: I306dc02e4bd3d507dfee18fca77b43dfba6c3ccd
"
openstack%2Fdevstack-plugin-ceph~master~I1aa87fc16a37b6051e55c35ae69ef911a87d4c11,openstack/devstack-plugin-ceph,master,bug/1653953,I1aa87fc16a37b6051e55c35ae69ef911a87d4c11,tempest: re-enable shelve tests for stable rocky,MERGED,2019-06-28 09:31:30.000000000,2019-06-30 17:06:24.000000000,2019-06-30 17:06:24.000000000,1,1,0,668128,ffcba4bb55b897fb521f3fc8cf7806de95f49aac,13,4,1,1,10135,Lee Yarwood,lyarwood,"tempest: re-enable shelve tests for stable rocky

Related-Bug: #1653953
Depends-On: https://review.opendev.org/#/c/668119/
Change-Id: I1aa87fc16a37b6051e55c35ae69ef911a87d4c11
"
openstack%2Fdevstack-plugin-ceph~master~I132e26486782918d31a9ac10332f2802342883a9,openstack/devstack-plugin-ceph,master,bug/1653953,I132e26486782918d31a9ac10332f2802342883a9,tempest: re-enable shelve tests for stable stein,MERGED,2019-06-28 09:28:25.000000000,2019-06-30 11:23:06.000000000,2019-06-30 11:23:06.000000000,1,1,0,668125,2590c305f164012dca427e54f74eb3d50f72b854,10,5,1,1,10135,Lee Yarwood,lyarwood,"tempest: re-enable shelve tests for stable stein

Related-Bug: #1653953
Depends-On: https://review.opendev.org/668118/
Change-Id: I132e26486782918d31a9ac10332f2802342883a9
"
openstack%2Fnova~master~Ic9d708e2c5559fa1adccc0e6bdb22f1143ca1fc0,openstack/nova,master,bp/api-consistency-cleanup,Ic9d708e2c5559fa1adccc0e6bdb22f1143ca1fc0,Fix test_flavors to run with correct microversion,MERGED,2019-06-20 10:51:20.000000000,2019-06-30 09:14:08.000000000,2019-06-28 05:39:51.000000000,20,5,2,666536,1339b2f1275a0c675d01931415021ad9092f3e6e,24,12,2,1,8556,Ghanshyam,ghanshyam,"Fix test_flavors to run with correct microversion

test_flavors has microversion tests FlavorsTestV2_55 and
FlavorsTestV2_61 which are suppose to run all the base class
test with respective microversion. But few tests in base class
does not set the microversion in request so they are always being
run with 2.1 version even running under FlavorsTestV2_61.

Fixing those tests by using the self._build_request() which
set the microversion on request.

Change-Id: Ic9d708e2c5559fa1adccc0e6bdb22f1143ca1fc0
"
openstack%2Fcharm-specs~master~Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b,openstack/charm-specs,master,cinder-backend-swift,Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b,Add cinder-backup-swift spec,MERGED,2018-10-31 15:28:35.000000000,2019-06-30 08:17:26.000000000,2019-06-30 08:17:26.000000000,153,0,15,614552,80e70dc1506439446467a7446e37fe786362c7f6,28,7,8,1,24824,Dmitrii Shcherbakov,dmitriis,"Add cinder-backup-swift spec

Change-Id: Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b
"
openstack%2Fironic~master~Id9461015f7352a3cc6278d0eaf2970764cafedb9,openstack/ironic,master,,Id9461015f7352a3cc6278d0eaf2970764cafedb9,DRAC: Upgraded RAID delete_config cleaning step,MERGED,2019-06-11 16:45:15.000000000,2019-06-30 07:39:16.000000000,2019-06-29 13:05:09.000000000,363,72,80,664633,4724d55e962cb08d048a223e73971106da5c3cb6,99,13,13,5,29405,Rachit Kapadia,rachit7194,"DRAC: Upgraded RAID delete_config cleaning step

This upgrades Delete_configuration by cleaning step by
replacing delete_virtual_disk with reset_raid_config
which is not only responsible for removing Virtual Disks
but also removes Global and Dedicated Hot-Spares.
It also removes any foreign drives.

Change-Id: Id9461015f7352a3cc6278d0eaf2970764cafedb9
Story: 2005884
Task: 33732
"
openstack%2Fos-testr~master~I67c57d65accb3822f7f6a03fea96356fae9025b9,openstack/os-testr,master,,I67c57d65accb3822f7f6a03fea96356fae9025b9,Update hacking version,MERGED,2019-03-06 14:22:28.000000000,2019-06-30 06:30:52.000000000,2019-06-30 06:30:51.000000000,26,17,0,641384,414bbf6d85550d0146f0885c1f5242e753471a81,20,7,5,4,28614,jacky06,jacky06,"Update hacking version

Use latest release 1.1.0 and compatible changes w.r.t pep8

Change-Id: I67c57d65accb3822f7f6a03fea96356fae9025b9
"
openstack%2Fos-testr~master~I1292c179725fcbba4110c05bb836d6074748a481,openstack/os-testr,master,fix-urls,I1292c179725fcbba4110c05bb836d6074748a481,Update the documentation urls,ABANDONED,2017-08-29 08:57:16.000000000,2019-06-30 05:35:15.000000000,,8,8,0,498714,92ab6e3df47d5f02ae31462c17fa98a49f630fda,10,4,1,5,17954,Gao Zexu,gaozx,"Update the documentation urls

Change-Id: I1292c179725fcbba4110c05bb836d6074748a481
"
openstack%2Fos-testr~master~Ifcb01ece24fb28d4dc28daa0a638787280fe8eb5,openstack/os-testr,master,bug/1826529,Ifcb01ece24fb28d4dc28daa0a638787280fe8eb5,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:39:54.000000000,2019-06-30 05:33:35.000000000,2019-06-30 05:33:35.000000000,5,5,2,655062,ad00e6d41b441e10f0b4ed81511e66660a9eeaa0,30,8,7,4,22165,caoyuan,caoyuan,"Replace git.openstack.org URLs with opendev.org URLs

1. Replace git.openstack.org URLs with opendev.org URLs
2. Update some URLs to latest

Change-Id: Ifcb01ece24fb28d4dc28daa0a638787280fe8eb5
Closes-Bug: #1826529
"
openstack%2Fcinder~master~Id91996545f7f75c1c62cea34e240b9655b8ff3af,openstack/cinder,master,,Id91996545f7f75c1c62cea34e240b9655b8ff3af,Launch driver list generation with the same python interpreter,MERGED,2019-06-28 17:07:53.000000000,2019-06-30 03:51:24.000000000,2019-06-28 22:00:08.000000000,2,1,0,668207,9dd5232ea5ee36beda56946647fda9002fa0a608,25,21,1,1,6593,Dirk Mueller,dmllr,"Launch driver list generation with the same python interpreter

In package building process, there might be build environments
becoming more popular without Python 2.x being installed, with
other words /usr/bin/python does not exist. The existing script
uses a shebang of ""env python"", which works fine inside a virtualenv
but not outside. The easy solution is to just call the script
with the same python interpreter we're being called with.

Change-Id: Id91996545f7f75c1c62cea34e240b9655b8ff3af
"
openstack%2Fzun~master~Ibfa5cd8a48502c3dec357437fef0094ab8960a77,openstack/zun,master,glance_endpoint_type,Ibfa5cd8a48502c3dec357437fef0094ab8960a77,Endpoint type for glanceclient,MERGED,2019-06-28 20:07:03.000000000,2019-06-30 02:39:25.000000000,2019-06-30 02:39:25.000000000,24,3,1,668241,bcd102c97e7aa6cff77273aa487c7dd70704d8d0,16,4,3,2,30609,Stanislav Dmitriev,sdmitriev,"Endpoint type for glanceclient

At this moment nevertheless of 'endpoint_type' parameter from
'glance_client' section Zun always tries to interact with Glance
public API endpoint. If public API endpoint unaccessible from
compute nodes zun-compute service is unable to run new container
from image stored in the glance repository.

This patch intended to make Zun use 'endpoint_type' parameter
from 'glance_client' section of zun.conf file and pass the same
type of endpoint to the glanceclient.

Change-Id: Ibfa5cd8a48502c3dec357437fef0094ab8960a77
"
openstack%2Fzun-tempest-plugin~master~I5eb04993f39a4098cde4293fccd07f8458a1cd5d,openstack/zun-tempest-plugin,master,,I5eb04993f39a4098cde4293fccd07f8458a1cd5d,Remove tests for docker container,MERGED,2019-06-08 21:56:59.000000000,2019-06-30 00:09:26.000000000,2019-06-30 00:09:26.000000000,17,148,0,664145,552948142d4f4fb1f0f47e54a7e9fca31d353a6c,9,2,3,3,11536,hongbin,hongbin,"Remove tests for docker container

Tests for verifying docker containers is removed from tempest
test suite and re-introduce in fullstack tests.
This is because tempest tests are supposed to be a pure API tests.
Touching docker containers are beyond the scope of tempest tests
so we split them out.

Depends-On: https://review.opendev.org/#/c/658702/
Change-Id: I5eb04993f39a4098cde4293fccd07f8458a1cd5d
"
openstack%2Frequirements~master~I9755f608e2f82191005a24910f95258586e91ed4,openstack/requirements,master,openstack/requirements/constraints/noclob,I9755f608e2f82191005a24910f95258586e91ed4,Updated from generate-constraints,MERGED,2019-06-28 06:17:36.000000000,2019-06-30 00:08:30.000000000,2019-06-30 00:08:30.000000000,9,5,0,668092,d4c1f4dd82ddffa0a0eebeb30e37220a7d4c2044,13,3,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I9755f608e2f82191005a24910f95258586e91ed4
"
openstack%2Fzun~master~I4bd1851f608ee657a4f391961e4cff0fac9a1fe4,openstack/zun,master,,I4bd1851f608ee657a4f391961e4cff0fac9a1fe4,Introduce fullstack tests,MERGED,2019-05-12 21:45:46.000000000,2019-06-29 23:13:54.000000000,2019-06-29 23:13:54.000000000,365,0,2,658702,9dcdbecbdd0b9f247e53d887e3c9712250b8174e,46,2,18,9,11536,hongbin,hongbin,"Introduce fullstack tests

Change-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4
"
openstack%2Fzun-ui~master~I09293106f3f0a8c6d0de15e02b1b825d969a3a01,openstack/zun-ui,master,,I09293106f3f0a8c6d0de15e02b1b825d969a3a01,Switch to the new canonical constraints URL on master,MERGED,2019-06-20 12:59:07.000000000,2019-06-29 22:11:55.000000000,2019-06-29 22:11:55.000000000,2,2,0,666561,f17ab2ff7834d0404ea02b0db3204a5f7a932b82,6,3,1,1,28748,chenker,chenke,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I09293106f3f0a8c6d0de15e02b1b825d969a3a01
"
openstack%2Fmanila~stable%2Fqueens~Iac5fe867d396d02285b01e7ec2b09f1f3f02df2d,openstack/manila,stable/queens,bindep-fallback-stable/queens,Iac5fe867d396d02285b01e7ec2b09f1f3f02df2d,DNM: Test devstack fixes to rdo-release,ABANDONED,2019-06-29 00:09:51.000000000,2019-06-29 19:32:00.000000000,,0,35,0,668275,45b2d311361b28679f0b3aee51081ac50170f7dc,14,5,3,1,16643,Goutham Pacha Ravi,gouthamr,"DNM: Test devstack fixes to rdo-release

Change-Id: Iac5fe867d396d02285b01e7ec2b09f1f3f02df2d
Depends-On: https://review.opendev.org/#/c/668276/
"
openstack%2Ftripleo-heat-templates~master~Id6a7b10acc65ca6cd2135796a80fad0723078871,openstack/tripleo-heat-templates,master,bp/reduce-deployment-resources,Id6a7b10acc65ca6cd2135796a80fad0723078871,Use Ansible for bootstrap_node hieradata,MERGED,2019-06-13 16:50:07.000000000,2019-06-29 17:41:03.000000000,2019-06-29 17:41:03.000000000,37,9,2,665176,f44f3393990188f05257bc0417c6ac46f696a905,75,5,18,3,7144,James Slagle,slagle,"Use Ansible for bootstrap_node hieradata

Instead of generating and saving the hieradata in the bootstrap_node
hieradata file in Heat, use the tripleo-hieradata role instead.

Change-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871
Depends-On: I9ccccbfee44fc7c1375dec7357ccad6cba909c16
"
openstack%2Fplacement~master~I3fdd46a0a92bf9666696a1c5f98afc402cf43b33,openstack/placement,master,story/2005575,I3fdd46a0a92bf9666696a1c5f98afc402cf43b33,Prepare objects for allocation request mappings,MERGED,2019-06-03 15:08:42.000000000,2019-06-29 17:01:39.000000000,2019-06-14 11:13:18.000000000,83,26,7,662785,eb07913442974102b36b8127db8491a742f5eee1,29,5,7,3,11564,Chris Dent,chdent,"Prepare objects for allocation request mappings

We need to carry a 'suffix' through the process of generating
allocation requests in order to be able to present those suffixes
as a 'mappings' key in a forthcoming microversion.

In this patch, the suffix is tracked, but the data is not used
when presenting results.

A test is added to validate results. Existing tests which
check the count of results are adjusted to reflect new results:
The possible combinations is now increased because we are
accounting for the suffix as a differentiator.

Change-Id: I3fdd46a0a92bf9666696a1c5f98afc402cf43b33
Story: 2005575
Task: 33536
"
openstack%2Fironic~master~I003c71302401928e2bd5a3f571e8cd17b96ef78d,openstack/ironic,master,assertTrue,I003c71302401928e2bd5a3f571e8cd17b96ef78d,Fix invalid assert state,MERGED,2019-06-28 09:32:31.000000000,2019-06-29 16:47:12.000000000,2019-06-29 16:47:11.000000000,1,1,0,668129,7adc6c21de4353eeb93e47fa548ea0c9122e7c4d,8,4,1,1,20190,zhufl,zhufl,"Fix invalid assert state

""self.assertTrue(pg1.id, mock_upd.call_args[0][2].portgroup_id)""
should use assertEqual.

Change-Id: I003c71302401928e2bd5a3f571e8cd17b96ef78d
"
openstack%2Fopenstack-helm-infra~master~I558c100cbb70475d55122b194ef18287c76a68b3,openstack/openstack-helm-infra,master,,I558c100cbb70475d55122b194ef18287c76a68b3,Adding hostname to the node details,MERGED,2019-06-27 13:52:15.000000000,2019-06-29 16:39:09.000000000,2019-06-29 16:39:08.000000000,20,2,0,667930,27ef45017ba29d7b21fede9f1756830cb59e6115,13,10,2,1,18295,John Lawrence,jl401j,"Adding hostname to the node details

Change-Id: I558c100cbb70475d55122b194ef18287c76a68b3
"
openstack%2Fneutron~master~Ia2eba8d19fcc4d744b7b93623c0f1faf0457bd91,openstack/neutron,master,test_ha_router_restart_agents_no_packet_lost,Ia2eba8d19fcc4d744b7b93623c0f1faf0457bd91,Assert HA router has one active hosting agent,MERGED,2019-06-11 16:11:54.000000000,2019-06-29 16:03:24.000000000,2019-06-29 16:03:24.000000000,5,5,0,664629,f5b2c7eed8c2c5c2b3b4bb930551525551e46fbe,91,9,2,1,9531,liuyulong,LIU-Yulong,"Assert HA router has one active hosting agent

Check HA router binding state before restart the agent
for test case:
test_ha_router_restart_agents_no_packet_lost

And move the ping check more nearly to the restart action.

This reverts commit bc073849b6aba62a39846b8be98b0da744caab84.

Change-Id: Ia2eba8d19fcc4d744b7b93623c0f1faf0457bd91
"
openstack%2Fopenstack-helm-images~master~Ife2cdf2112db3798dbde73bafe436ef3c0c8a870,openstack/openstack-helm-images,master,remove-nagios-reload,Ife2cdf2112db3798dbde73bafe436ef3c0c8a870,Nagios: Update plugin for defining hosts and host groups,MERGED,2019-06-28 16:06:03.000000000,2019-06-29 15:56:52.000000000,2019-06-29 15:55:36.000000000,0,14,0,668197,381737ee61af9715cbf8b12c4bf5d43ef6f68dd0,8,3,1,1,17591,Steve Wilkerson,srwilkers,"Nagios: Update plugin for defining hosts and host groups

This renames the check_update_prometheus_hosts plugin to be more
representative of what the current functionality does, which is
to simply define nagios hosts. This also updates the behavior of
the plugin to no longer force a reload of nagios via a hangup
signal when attempting to update the hosts file. The result is a
significant reduction in the logs output by the Nagios service,
which will better enable tracking history of service checks and
hosts.

Instead of this plugin being run as a recurring check, it can now
be run as an init container for the Nagios pod so Nagios has a
comprehensive list of its hosts and host groups before starting
the service

Change-Id: Ife2cdf2112db3798dbde73bafe436ef3c0c8a870
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fkolla-ansible~master~I364c8a71633fac846dbaac8eaa0b78191e6d7d0e,openstack/kolla-ansible,master,,I364c8a71633fac846dbaac8eaa0b78191e6d7d0e,Enable deflate when using tls for horizon,MERGED,2019-05-07 03:32:22.000000000,2019-06-29 13:51:04.000000000,2019-05-07 19:34:21.000000000,4,6,0,657520,06a8161a18df142be19b5030a970e7e002c68d81,11,4,1,1,7488,Jeffrey Zhang,Jeffrey4l,"Enable deflate when using tls for horizon

deflate is disable because of breach attach[0] issue. But it has be
fixed on horizon size through[1], so we cloud enable deflate all the
time.

compress application/json too in default.

[0] https://wiki.openstack.org/wiki/OSSN/OSSN-0037
[1] https://review.openstack.org/#/c/596549/

Change-Id: I364c8a71633fac846dbaac8eaa0b78191e6d7d0e
Closes-Bug: #1827976
"
openstack%2Fos-performance-tools~master~Ib8498d9a06c511cc1bce3d4ab5db520b992d8cd7,openstack/os-performance-tools,master,py37-job,Ib8498d9a06c511cc1bce3d4ab5db520b992d8cd7,Update python 3 unit test job,MERGED,2019-02-19 09:06:07.000000000,2019-06-29 13:13:35.000000000,2019-06-29 13:13:35.000000000,3,2,0,637759,d3680e477d5341356cff2dde29e30738aeabf796,17,4,5,3,9414,zhongshengping,ZhongShengping,"Update python 3 unit test job

This is a mechanically generated patch to update a unit test job running
under Python 3

See ML discussion here [1] for context.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html

Change-Id: Ib8498d9a06c511cc1bce3d4ab5db520b992d8cd7
Story: #2004073
Task: #27445
"
openstack%2Fos-performance-tools~master~Ia23cc695382bb382a088d4c6e8b2c5f4ff0b39d7,openstack/os-performance-tools,master,,Ia23cc695382bb382a088d4c6e8b2c5f4ff0b39d7,Removed older version of python added 3.5,ABANDONED,2018-09-29 09:44:05.000000000,2019-06-29 13:01:21.000000000,,0,2,0,606367,1c30dde6fdb670a245fb9a58a5eb5c098a288c09,18,9,2,1,17499,Filippo Inzaghi,qingszhao,"Removed older version of python added 3.5

In setup.cfg file the python 3.5 is added

Change-Id: Ia23cc695382bb382a088d4c6e8b2c5f4ff0b39d7
"
openstack%2Fos-performance-tools~master~I9c66f7be2b28cab6259483a3cbf71a187d2dc35a,openstack/os-performance-tools,master,,I9c66f7be2b28cab6259483a3cbf71a187d2dc35a,Update url in HACKING.rst,ABANDONED,2018-11-16 03:55:34.000000000,2019-06-29 12:50:27.000000000,,1,1,1,618434,8963de44b929a739f380bceb0f86055112041ede,6,3,1,1,29423,zhouxinyong,zhouxinyong,"Update url in HACKING.rst

Change-Id: I9c66f7be2b28cab6259483a3cbf71a187d2dc35a
"
openstack%2Fopenstack-ansible-os_tempest~master~I90a88be5df5d70ff51290a7825f6dae8bf045e56,openstack/openstack-ansible-os_tempest,master,add_barbican_tempest_plugin_for_distro_installs,I90a88be5df5d70ff51290a7825f6dae8bf045e56,Add tempest plugin for distro installs,MERGED,2019-06-28 11:59:13.000000000,2019-06-29 11:22:51.000000000,2019-06-29 11:22:51.000000000,7,1,0,668155,c5c1f278d55b987b9546e7324debf6fb051be465,13,4,3,1,17068,Jean-Philippe Evrard,evrardjp,"Add tempest plugin for distro installs

Without this patch, testing barbican (and other projects
which weren't in the integrated historically)
in the integrated won't find the barbican tempest plugin,
which will cause a failure of the _distro_ jobs.

Change-Id: I90a88be5df5d70ff51290a7825f6dae8bf045e56
"
openstack%2Fopenstack-ansible-os_octavia~stable%2Frocky~If2a8e276c9c82d0f2ab743ddfd2f36e86cba9088,openstack/openstack-ansible-os_octavia,stable/rocky,openstack/openstack-ansible-tests/sync-tests,If2a8e276c9c82d0f2ab743ddfd2f36e86cba9088,Updated from OpenStack Ansible Tests,MERGED,2019-06-20 20:02:22.000000000,2019-06-29 09:57:47.000000000,2019-06-29 09:57:46.000000000,14,1,0,666690,376be585f09dcd12e4f7801a8a0ab9d2cc0b4f87,13,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: If2a8e276c9c82d0f2ab743ddfd2f36e86cba9088
"
openstack%2Fpython-senlinclient~master~I4f0267e74b90ffbe45a258219bbce927fbc28719,openstack/python-senlinclient,master,,I4f0267e74b90ffbe45a258219bbce927fbc28719,Switch to the new canonical constraints URL on master,MERGED,2019-06-22 07:15:07.000000000,2019-06-29 08:50:36.000000000,2019-06-29 08:50:36.000000000,3,3,0,666947,dc5f4f8b5d37447829837f21bd0abbbca31adfce,25,5,4,1,28748,chenker,chenke,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://github.com/openstack/nova/blob/master/tox.ini#L17

Change-Id: I4f0267e74b90ffbe45a258219bbce927fbc28719
"
openstack%2Ftripleo-heat-templates~master~I0f522b848c586506d9556b6821d03f9c0c302cd8,openstack/tripleo-heat-templates,master,,I0f522b848c586506d9556b6821d03f9c0c302cd8,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:05:26.000000000,2019-06-29 08:21:21.000000000,2019-06-29 08:21:21.000000000,20,20,3,654713,8d85e61c36e63860e5a1742b40fa0f9c8e5a84da,34,9,6,19,28614,jacky06,jacky06,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I0f522b848c586506d9556b6821d03f9c0c302cd8
"
openstack%2Fnova~stable%2Frocky~I1ea60a6786773f7f61201a6537087718365e94b3,openstack/nova,stable/rocky,bug/1653953,I1ea60a6786773f7f61201a6537087718365e94b3,DNM - Test rbd unshelve fix on stable rocky,ABANDONED,2019-06-28 11:03:18.000000000,2019-06-29 08:10:05.000000000,,0,0,0,668141,93ba6f2d621e19a16880c065783c56817a812e7e,7,4,1,1,10135,Lee Yarwood,lyarwood,"DNM - Test rbd unshelve fix on stable rocky

Depends-On: https://review.opendev.org/#/c/668128/
Change-Id: I1ea60a6786773f7f61201a6537087718365e94b3
"
openstack%2Fsolum~master~Icc354ec48078f126ea6b31fe9c99da33deecadcb,openstack/solum,master,,Icc354ec48078f126ea6b31fe9c99da33deecadcb,TEST,ABANDONED,2019-06-28 03:31:48.000000000,2019-06-29 07:57:10.000000000,,1,0,0,668083,26a12bba41bdb0ca04a7ef5b175bc0a896198af4,3,1,1,1,14107,zhurong,zhurong,"TEST

Change-Id: Icc354ec48078f126ea6b31fe9c99da33deecadcb
"
openstack%2Fironic~master~I087c8172b67e83b36344c30cf52812645148d9e4,openstack/ironic,master,temp,I087c8172b67e83b36344c30cf52812645148d9e4,Remove elilo support,MERGED,2018-01-12 11:01:45.000000000,2019-06-29 07:48:49.000000000,2019-06-28 07:51:28.000000000,26,126,2,533153,0f6639d4eba9a3611bba6e7059dd7cdc44edb2a6,79,14,5,4,10239,Dmitry Tantsur,dtantsur,"Remove elilo support

Story: #1691454
Task: #9754
Change-Id: I087c8172b67e83b36344c30cf52812645148d9e4
"
openstack%2Fopenstack-ansible~stable%2Frocky~Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89,openstack/openstack-ansible,stable/rocky,,Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89,Restrict the number of octavia processes and threads in AIO,MERGED,2019-06-28 19:53:11.000000000,2019-06-29 07:07:43.000000000,2019-06-29 00:13:47.000000000,6,0,0,668239,bf8ce46692fbb0361785ebea678d0e4d01a5842d,11,3,1,1,25023,Jonathan Rosser,jrosser,"Restrict the number of octavia processes and threads in AIO

Change-Id: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
(cherry-picked from commit 856f8042d90663a09f96a9ca699fc42e342f81ed)
"
openstack%2Fironic~master~Ie12eaf7572ce4d66f6a68025b7fe2d294185ce28,openstack/ironic,master,653282,Ie12eaf7572ce4d66f6a68025b7fe2d294185ce28,Remove CIMC/UCS drivers,MERGED,2019-04-17 05:09:33.000000000,2019-06-29 06:46:59.000000000,2019-06-28 07:45:26.000000000,0,2704,4,653282,5f18e52b6443e0f624aaaa6f0b096e91bc34f796,40,11,4,30,11655,Julia Kreger,jkreger,"Remove CIMC/UCS drivers

Cisco's Third-Party CI was taken down as a result of the
CTO's office being restructured. Numerous attempts to
re-engage with Cisco directly and address the various
known issues in their drivers have not proven to be
fruitful.

Additionally, the drivers are not Python3 compatible,
and some reports have indicated that the CIMC driver is
no longer compatible with newer versions.

As such, the ironic community has little choice but to
to remove the Cisco UCS/CIMC hardware types and driver
interface code.

Story: 2005033
Task: 29522
Change-Id: Ie12eaf7572ce4d66f6a68025b7fe2d294185ce28
"
openstack%2Fpython-senlinclient~master~Ifb2d2bb3a1043ab1a4c94d30029bb920b4627a31,openstack/python-senlinclient,master,new_master,Ifb2d2bb3a1043ab1a4c94d30029bb920b4627a31,Fix uint test test_json_format and Solve pep8 msgfmt error,MERGED,2019-06-23 17:09:05.000000000,2019-06-29 06:36:34.000000000,2019-06-29 06:36:34.000000000,7,1,0,666992,84beed0efc884d7d83f9f1918da33b5023490886,20,6,3,2,22998,XueFengLiu,sgfeng,"Fix uint test test_json_format and Solve pep8 msgfmt error

For json format we only need check the json result.

For pep8 error:
xargs: msgfmt: No such file or directory
ERROR: InvocationError for command /bin/bash -c 'find senlinclient..'
http://logs.openstack.org/92/666992/2/gate/openstack-tox-pep8/fdbc082/job-output.txt.gz

We need to add bindep.txt, like neutron:
https://github.com/openstack/neutron/blob/master/bindep.txt#L5

Co-Authored-By: chenker <chen.ke14@zte.com.cn>

Change-Id: Ifb2d2bb3a1043ab1a4c94d30029bb920b4627a31
"
openstack%2Fpuppet-tripleo~master~I82f62df0a95f03afbda1b6a4ddaa67ef908030a9,openstack/puppet-tripleo,master,bug/1831938,I82f62df0a95f03afbda1b6a4ddaa67ef908030a9,Allow enabling custom backends with manila,MERGED,2019-06-18 18:03:44.000000000,2019-06-29 05:21:36.000000000,2019-06-29 05:21:36.000000000,22,18,0,666089,914cf1f124fa5617373ce2f779b1eff202da2e87,24,5,2,1,16643,Goutham Pacha Ravi,gouthamr,"Allow enabling custom backends with manila

It is possible to provide the config settings
to add an arbitrary and unmanaged backend to Manila
at deployment time via Heat environment files. However,
puppet-tripleo doesn't support extending the
list of enabled backends. Add this capability.

Change-Id: I82f62df0a95f03afbda1b6a4ddaa67ef908030a9
Closes-Bug: #1831938
"
openstack%2Fpython-senlinclient~master~I4af359abcfd06ffc51bd71fd2106f89ea3c416d4,openstack/python-senlinclient,master,solve_pep8_msgfmt_error,I4af359abcfd06ffc51bd71fd2106f89ea3c416d4,Solve pep8 msgfmt error,ABANDONED,2019-06-29 03:30:26.000000000,2019-06-29 04:32:29.000000000,,5,0,0,668283,e0c82cc6cc15cc15da57496088383a1709b31860,3,1,1,1,28748,chenker,chenke,"Solve pep8 msgfmt error

Change-Id: I4af359abcfd06ffc51bd71fd2106f89ea3c416d4
xargs: msgfmt: No such file or directory
ERROR: InvocationError for command /bin/bash -c 'find senlinclient..'
"
openstack%2Frequirements~stable%2Fstein~Icad9a8cbd0a59af32777f176d14bd7a3f4080c78,openstack/requirements,stable/stein,new-release,Icad9a8cbd0a59af32777f176d14bd7a3f4080c78,update constraint for python-saharaclient to new release 2.2.1,MERGED,2019-06-27 09:59:04.000000000,2019-06-29 04:22:39.000000000,2019-06-29 04:22:39.000000000,1,1,0,667835,72a83df4edd56fb45d8d66c71e4df56442cc4940,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-saharaclient to new release 2.2.1

Change-Id: Icad9a8cbd0a59af32777f176d14bd7a3f4080c78
meta:version: 2.2.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Luigi Toscano <ltoscano@redhat.com>
meta:release:Commit: Luigi Toscano <ltoscano@redhat.com>
meta:release:Change-Id: If2e10b2c24586a68c3711bfe1e649e82c39e140a
meta:release:Code-Review+1: Jeremy Freudberg <jeremyfreudberg@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fmurano~stable%2Frocky~I37d64aca485eb81ac16d7d85d5b695e573c8793c,openstack/murano,stable/rocky,bindep-fallback,I37d64aca485eb81ac16d7d85d5b695e573c8793c,Add local bindep.txt,MERGED,2019-06-28 13:59:07.000000000,2019-06-29 04:01:40.000000000,2019-06-29 04:01:40.000000000,21,0,0,668180,9773d2cc3652dc386a3ee076a8ff9452ef8e39fc,6,2,1,2,17685,Elod Illes,elod.illes,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c
(cherry picked from commit ddd5378ac8535b48e5ae2885b3187a5b1b88b766)
(cherry picked from commit 61f8206c45d18872782dbcedbc99bd26ecfbeaba)
"
openstack%2Fmurano~stable%2Fpike~I37d64aca485eb81ac16d7d85d5b695e573c8793c,openstack/murano,stable/pike,bindep-fallback,I37d64aca485eb81ac16d7d85d5b695e573c8793c,Add local bindep.txt,MERGED,2019-06-28 13:56:45.000000000,2019-06-29 04:01:39.000000000,2019-06-29 04:01:39.000000000,21,0,0,668179,1f2d572cfa82a426360b1611040d7330ecc48634,6,2,1,2,17685,Elod Illes,elod.illes,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

Conflicts:
      tox.ini

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c
(cherry picked from commit ddd5378ac8535b48e5ae2885b3187a5b1b88b766)
(cherry picked from commit 61f8206c45d18872782dbcedbc99bd26ecfbeaba)
(cherry picked from commit 83cbcc50f5d10aa52ea1762a196f214f80bbb058)
"
openstack%2Fmurano~stable%2Fqueens~I37d64aca485eb81ac16d7d85d5b695e573c8793c,openstack/murano,stable/queens,bindep-fallback,I37d64aca485eb81ac16d7d85d5b695e573c8793c,Add local bindep.txt,MERGED,2019-06-28 13:10:00.000000000,2019-06-29 04:01:39.000000000,2019-06-29 04:01:38.000000000,21,0,0,668171,83cbcc50f5d10aa52ea1762a196f214f80bbb058,6,2,1,2,17685,Elod Illes,elod.illes,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

Conflicts:
      tox.ini

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c
(cherry picked from commit ddd5378ac8535b48e5ae2885b3187a5b1b88b766)
(cherry picked from commit 61f8206c45d18872782dbcedbc99bd26ecfbeaba)
"
openstack%2Fmurano~stable%2Fstein~I37d64aca485eb81ac16d7d85d5b695e573c8793c,openstack/murano,stable/stein,bindep-fallback,I37d64aca485eb81ac16d7d85d5b695e573c8793c,Add local bindep.txt,MERGED,2019-06-28 11:47:49.000000000,2019-06-29 04:00:21.000000000,2019-06-29 04:00:20.000000000,21,0,0,668152,61f8206c45d18872782dbcedbc99bd26ecfbeaba,6,2,1,2,17685,Elod Illes,elod.illes,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c
(cherry picked from commit ddd5378ac8535b48e5ae2885b3187a5b1b88b766)
"
openstack%2Foctavia~master~I4cf0ad5d14c4378e33423a4d639ec4d0fcc2a614,openstack/octavia,master,constraints-updates,I4cf0ad5d14c4378e33423a4d639ec4d0fcc2a614,Update tox.ini for new upper constraints strategy,MERGED,2019-06-11 05:50:26.000000000,2019-06-29 03:36:51.000000000,2019-06-29 03:36:51.000000000,8,7,0,664499,de30dbb62f98e89219231fbc282083f45417774c,13,4,4,3,28613,tony_zhang,tonybrad,"Update tox.ini for new upper constraints strategy

The requirements team has defined a new strategy for handling
upper constraints[1]. This patch applies those strategies to
Octavia.
This also corrects a lower constraint for oslo.messaging.

[1] http://lists.openstack.org/pipermail/openstack-discuss/ \
    2019-May/006478.html

Change-Id: I4cf0ad5d14c4378e33423a4d639ec4d0fcc2a614
"
openstack%2Fneutron-tempest-plugin~master~Ieca8567965789f8d7763a77cecc82059c30b5ced,openstack/neutron-tempest-plugin,master,bug/1830763,Ieca8567965789f8d7763a77cecc82059c30b5ced,Change order of creating vms and plug routers in scenario test,MERGED,2019-06-26 08:26:32.000000000,2019-06-29 03:05:27.000000000,2019-06-29 03:05:27.000000000,13,7,2,667547,6aae0d4b0e7e058e4da992b0cb74be84cedad433,15,6,3,1,11975,Slawek Kaplonski,slaweq,"Change order of creating vms and plug routers in scenario test

In scenario tests in module
test_connectivity there was an issue that first 2 vms
were created and after that subnets were plugged into
router. That caused race condition between spawning vms
and cloud-init script during boot process and configuring
metadata service in routers. Because of that often
instance was booted without SSH key configured properly
thus there was no possibility to ssh to this VM and test
was failing.

As we don't have any way to ensure that metadata is already
configured inside router, this patch just change order of
operations that subnets are first plugged into router and
than VMs are created. Thanks to this change it should be
at least much more reliable and test should be working better.

Change-Id: Ieca8567965789f8d7763a77cecc82059c30b5ced
Related-Bug: #1830763
"
openstack%2Fneutron~stable%2Frocky~I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6,openstack/neutron,stable/rocky,bug/1831811-stable/rocky,I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6,Turn CIDR in query filter into proper subnet,MERGED,2019-06-26 08:11:12.000000000,2019-06-29 03:05:25.000000000,2019-06-29 03:05:25.000000000,19,0,0,667542,efd09e6295db0a890ad45f894e649afa31f36522,12,5,2,2,24245,Harald JensÃ¥s,harald.jensas,"Turn CIDR in query filter into proper subnet

Use netaddr.IPNetwork to convert CIDRs in a query
into proper subnets.

When creating subnets the CIDR is converted into
a proper subnet. i.e a subnet can be created with
cidr=10.0.0.11/24 in the create request. On create
the cidr is turned into a proper subnet resulting
in a subnet with cidr=10.0.0.0/24.

This change does the same to CIDRs when used as
query filters during a list subnet request, so
that the same value that was used to create the
subnet can be used to find the subnet.

Conflicts:
    neutron/db/db_base_plugin_common.py

Closes-Bug: #1831811
Change-Id: I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6
(cherry picked from commit af773557323580c7b07bd41dd1f524e81530c939)
"
openstack%2Fneutron~stable%2Fqueens~I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6,openstack/neutron,stable/queens,bug/1831811-stable/queens,I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6,Turn CIDR in query filter into proper subnet,MERGED,2019-06-26 09:09:08.000000000,2019-06-29 03:05:22.000000000,2019-06-29 03:05:22.000000000,19,0,0,667560,4ecfdb6fd0e89f3b0ff6ca345d18c0db66e2eaeb,8,4,1,2,24245,Harald JensÃ¥s,harald.jensas,"Turn CIDR in query filter into proper subnet

Use netaddr.IPNetwork to convert CIDRs in a query
into proper subnets.

When creating subnets the CIDR is converted into
a proper subnet. i.e a subnet can be created with
cidr=10.0.0.11/24 in the create request. On create
the cidr is turned into a proper subnet resulting
in a subnet with cidr=10.0.0.0/24.

This change does the same to CIDRs when used as
query filters during a list subnet request, so
that the same value that was used to create the
subnet can be used to find the subnet.

Conflicts:
    neutron/db/db_base_plugin_common.py

Closes-Bug: #1831811
Change-Id: I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6
(cherry picked from commit af773557323580c7b07bd41dd1f524e81530c939)
"
openstack%2Fneutron~stable%2Frocky~I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,openstack/neutron,stable/rocky,bug/1833455-stable/rocky,I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,Treat networks shared by RBAC in same way as shared with all tenants,MERGED,2019-06-28 06:05:33.000000000,2019-06-29 03:05:19.000000000,2019-06-29 03:05:19.000000000,4,2,0,668090,9b7ba672d2d952f166c872e2acf609ff2006666b,8,4,1,1,11975,Slawek Kaplonski,slaweq,"Treat networks shared by RBAC in same way as shared with all tenants

In patch [1] handle of networks with ""shared"" flag set to True was
fixed and it is now possible to use ""rule:shared"" in API policy in
actions related e.g. to ports or subnets.
But network can be shared with some specific tenant only by doing it
with RBAC mechanism and in such case it didn't work with [1] only.
It was like that because context.get_admin_context() was used to get
network so this returned network had got shared=False set even if
request comes from tenant for which network was shared through RBAC.

Now network will be always get with context which have got set proper
tenant_id so ""shared"" flag will be set properly even in case if it's
shared through RBAC.

[1] https://review.opendev.org/#/c/652636/

Change-Id: I38615c0d18bb5a1f22f3e7865ce24615a540aa9a
Closes-Bug: #1833455
(cherry picked from commit d5edb080b080bc5d5221f8586fc6ffdca7ab8b67)
"
openstack%2Fneutron~stable%2Fstein~I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,openstack/neutron,stable/stein,bug/1833455-stable/stein,I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,Treat networks shared by RBAC in same way as shared with all tenants,MERGED,2019-06-28 06:05:17.000000000,2019-06-29 03:05:16.000000000,2019-06-29 03:05:16.000000000,4,2,0,668089,fc278a925129d19ca1ce0bd0c39523a6c3288363,8,4,1,1,11975,Slawek Kaplonski,slaweq,"Treat networks shared by RBAC in same way as shared with all tenants

In patch [1] handle of networks with ""shared"" flag set to True was
fixed and it is now possible to use ""rule:shared"" in API policy in
actions related e.g. to ports or subnets.
But network can be shared with some specific tenant only by doing it
with RBAC mechanism and in such case it didn't work with [1] only.
It was like that because context.get_admin_context() was used to get
network so this returned network had got shared=False set even if
request comes from tenant for which network was shared through RBAC.

Now network will be always get with context which have got set proper
tenant_id so ""shared"" flag will be set properly even in case if it's
shared through RBAC.

[1] https://review.opendev.org/#/c/652636/

Change-Id: I38615c0d18bb5a1f22f3e7865ce24615a540aa9a
Closes-Bug: #1833455
(cherry picked from commit d5edb080b080bc5d5221f8586fc6ffdca7ab8b67)
"
openstack%2Fswift~master~Ib7e065c47871876786bcc9ff39737f5d1bb3c12c,openstack/swift,master,py3-devstack,Ib7e065c47871876786bcc9ff39737f5d1bb3c12c,Move call to global_conf_callback after loadapp(),MERGED,2019-06-14 23:20:19.000000000,2019-06-29 01:30:55.000000000,2019-06-29 01:29:51.000000000,15,6,0,665494,ff4459ed6bcaa26bc4df9873577ccad9578a89fc,13,3,4,2,15343,Tim Burke,tburke,"Move call to global_conf_callback after loadapp()

Otherwise, paste complains about not being able to interpolate values
into the replication_semaphore. As long as it gets dropped in before we
fork(), I think it's OK?

Closes-Bug: 1691075
Change-Id: Ib7e065c47871876786bcc9ff39737f5d1bb3c12c
"
openstack%2Ftrove-dashboard~master~I8c512c95322cde5e1163ee35154a48826871cb36,openstack/trove-dashboard,master,Bug#1,I8c512c95322cde5e1163ee35154a48826871cb36,Add python37 job,MERGED,2019-06-21 08:26:55.000000000,2019-06-29 01:27:14.000000000,2019-06-29 01:27:14.000000000,4,3,5,666784,e53d44782f89505d33627d023b83825ec77fc289,15,7,3,3,27822,pengyuesheng,pengyuesheng,"Add python37 job

Since we've entered Train and the runtime proposed include py37[1],
we need to include it in gate as well as local env.
This patch adds the support for the same.

Update the constraints url For more detail, see [2]

[1] https://governance.openstack.org/tc/reference/runtimes/train.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I8c512c95322cde5e1163ee35154a48826871cb36
"
openstack%2Fdevstack~stable%2Fqueens~I43e9186fe344c8d2b7167da48dcfdf00835f8ee7,openstack/devstack,stable/queens,,I43e9186fe344c8d2b7167da48dcfdf00835f8ee7,DNM: Testing rdo-release fixes,ABANDONED,2019-06-29 00:49:26.000000000,2019-06-29 00:50:21.000000000,,8,1,0,668277,e0b343aed4675cb2f1947043fffbf2ba859c0c26,2,0,1,1,16643,Goutham Pacha Ravi,gouthamr,"DNM: Testing rdo-release fixes

Change-Id: I43e9186fe344c8d2b7167da48dcfdf00835f8ee7
"
openstack%2Fdevstack~master~I9eeb19d84212686961f540ef3fee58c756d349e0,openstack/devstack,master,bug/1833696,I9eeb19d84212686961f540ef3fee58c756d349e0,DNM: Testing rdo-release fixes,ABANDONED,2019-06-29 00:08:12.000000000,2019-06-29 00:49:09.000000000,,2,2,0,668274,31f7aaf8d74491d024e4793891da77ee18538ee6,4,0,2,1,16643,Goutham Pacha Ravi,gouthamr,"DNM: Testing rdo-release fixes

Change-Id: I9eeb19d84212686961f540ef3fee58c756d349e0
"
openstack%2Fopenstack-ansible~stable%2Fstein~Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89,openstack/openstack-ansible,stable/stein,,Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89,Restrict the number of octavia processes and threads in AIO,MERGED,2019-06-28 19:56:37.000000000,2019-06-29 00:20:03.000000000,2019-06-29 00:13:46.000000000,4,0,0,668240,24728a69a95b4fd007bd8dfb620dc81f5ab9d0f0,8,3,1,1,25023,Jonathan Rosser,jrosser,"Restrict the number of octavia processes and threads in AIO

Change-Id: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
(cherry-picked from commit 856f8042d90663a09f96a9ca699fc42e342f81ed)
"
openstack%2Frequirements~master~I1e8e0c953cc5d3e17428d7d1edfab4e56cd3b928,openstack/requirements,master,new-release,I1e8e0c953cc5d3e17428d7d1edfab4e56cd3b928,update constraint for os-traits to new release 0.15.0,MERGED,2019-06-28 20:29:12.000000000,2019-06-29 00:12:50.000000000,2019-06-29 00:12:50.000000000,1,1,0,668245,fef2c0a961de86bc04755fd88fbd1a9b279b1d3c,9,5,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-traits to new release 0.15.0

Change-Id: I1e8e0c953cc5d3e17428d7d1edfab4e56cd3b928
meta:version: 0.15.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Eric Fried <openstack@fried.cc>
meta:release:Commit: Eric Fried <openstack@fried.cc>
meta:release:Change-Id: Icbe88daf7a6a86f16462b737cdb102fa517433df
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Foctavia~stable%2Frocky~I2cbfc4f9a5a88ce9f92a31f8706eb687506e267d,openstack/octavia,stable/rocky,constraints-updates,I2cbfc4f9a5a88ce9f92a31f8706eb687506e267d,Update tox.ini for new upper constraints strategy,ABANDONED,2019-06-28 22:43:11.000000000,2019-06-28 23:54:37.000000000,,7,6,0,668256,b9d580a7e5c3fc03dc3404393447535acd023d2f,4,0,3,2,11628,Michael Johnson,johnsom,"Update tox.ini for new upper constraints strategy

The requirements team has defined a new strategy for handling
upper constraints[1]. This patch applies those strategies to
Octavia.

[1] http://lists.openstack.org/pipermail/openstack-discuss/ \
    2019-May/006478.html

Change-Id: I2cbfc4f9a5a88ce9f92a31f8706eb687506e267d
"
openstack%2Fopenstack-helm~master~Ifb50b932155c166634bb8a88363f6c02fbde8389,openstack/openstack-helm,master,nova-no-db-in-computes,Ifb50b932155c166634bb8a88363f6c02fbde8389,Nova: Provide method for removing sections from nova compute conf,MERGED,2019-06-28 12:51:15.000000000,2019-06-28 23:31:17.000000000,2019-06-28 23:31:17.000000000,13,1,0,668168,fd37d61b12a9bc706f1a7a3ef2e7011353c7a7b0,13,3,5,3,23928,Pete Birley,portdirect,"Nova: Provide method for removing sections from nova compute conf

This PS provides a method to redact sectionf from the nova compute
configuration file. By default this is configured to redact the
db connection strings, and sections.

Change-Id: Ifb50b932155c166634bb8a88363f6c02fbde8389
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Ftempest~master~I740a9650796c81b289635045e319a09ec5fdf27f,openstack/tempest,master,retry-filter,I740a9650796c81b289635045e319a09ec5fdf27f,Remove RetryFilter from defaults,MERGED,2019-06-17 19:31:29.000000000,2019-06-28 23:15:44.000000000,2019-06-28 23:15:44.000000000,2,3,0,665752,1c976a93de84407642caeffa4661094acbe349e5,16,5,1,1,8864,Artom Lifshitz,artom,"Remove RetryFilter from defaults

As of Ic0a03e89903bf925638fa26cca3dac7db710dca3, the RetryFilter is
deprecated in Nova and removed from the defaults. Remove it form the
list of Tempest defaults as well.

Change-Id: I740a9650796c81b289635045e319a09ec5fdf27f
Depends-on: https://review.opendev.org/#/c/663953/
"
openstack%2Ftempest~master~I95d0381845fc206732e2a33363f0064046b8c949,openstack/tempest,master,bug/1815476,I95d0381845fc206732e2a33363f0064046b8c949,Return the value of 0 instead of '' with flavor's swap attribute,ABANDONED,2019-03-04 08:30:24.000000000,2019-06-28 22:26:12.000000000,,1,1,0,640693,c4ef7b6f49e32e5a67bd83c4bcc0b00f937ff941,15,6,3,1,26458,Brin Zhang,zhangbailin,"Return the value of 0 instead of '' with flavor's swap attribute

This affects a bug fix code for nova.

Partial-Bug: #1815476
Depends-On: https://review.openstack.org/#/c/639012/
Change-Id: I95d0381845fc206732e2a33363f0064046b8c949
"
openstack%2Fnova~master~I1aa8758b1d08011da9e933f9815b0fde7b792797,openstack/nova,master,bp/api-consistency-cleanup,I1aa8758b1d08011da9e933f9815b0fde7b792797,Remove the string check of the flavor attribute 'swap',ABANDONED,2019-02-25 05:38:36.000000000,2019-06-28 22:26:00.000000000,,52,1,6,639012,bf04be9a63a8af81b6039d0236e6be43b183a806,118,19,8,4,26458,Brin Zhang,zhangbailin,"Remove the string check of the flavor attribute 'swap'

The ``swap`` attribute limit of the flavor in the object is ""'swap':
fields.IntegerField()"", so after creating the flavor, the return value
of ``swap`` should be of type 'integer'(default 0) instead of 'string'.

Closes-Bug: #1815476
Change-Id: I1aa8758b1d08011da9e933f9815b0fde7b792797
"
openstack%2Foslo.config~master~I00bdd963e0d4f270c0d4b50c05f420317a137fd5,openstack/oslo.config,master,apidoc,I00bdd963e0d4f270c0d4b50c05f420317a137fd5,Switch to sphinxcontrib-apidoc,MERGED,2019-06-18 16:34:42.000000000,2019-06-28 22:23:43.000000000,2019-06-28 22:23:43.000000000,17,103,0,666045,2610dff995e78fdaa0187b8a3aea17c4b46c7b18,13,4,1,14,6928,Ben Nemec,bnemec,"Switch to sphinxcontrib-apidoc

Rather than have the API docs hand-curated and scattered throughout
the documentation, let's use the apidoc module like all of the other
Oslo projects so our API docs are consistent and easy to find.

The documents that were exclusively API docs are removed entirely,
and the ones where API docs were included with other content have
been changed to reference the generated API docs rather than include
them inline. The one exception is the drivers because they are in
private modules that don't show up in the API docs. Those are still
explicitly documented.

Change-Id: I00bdd963e0d4f270c0d4b50c05f420317a137fd5
"
openstack%2Fopenstack-ansible-os_octavia~master~I3f277ce4c785b379dbfc76a11759b6d35c1dccea,openstack/openstack-ansible-os_octavia,master,drop_private,I3f277ce4c785b379dbfc76a11759b6d35c1dccea,Drop private argument for include/import role,MERGED,2019-05-17 08:55:57.000000000,2019-06-28 22:21:14.000000000,2019-06-28 22:21:14.000000000,0,1,0,659754,39343f0576cca7d31c90331084aed0e34bae17fc,32,5,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Drop private argument for include/import role

Since ansible 2.8 dropped private argument is not supported anymore:
https://github.com/ansible/ansible/issues/45038

Change-Id: I3f277ce4c785b379dbfc76a11759b6d35c1dccea
"
openstack%2Fpuppet-tripleo~master~Ib4884078d54c25da998495ba3e8d47b5e17010ce,openstack/puppet-tripleo,master,iha_fix,Ib4884078d54c25da998495ba3e8d47b5e17010ce,IHA robustness improvements,MERGED,2019-05-28 08:51:01.000000000,2019-06-28 21:39:40.000000000,2019-06-14 22:11:43.000000000,1,0,0,661702,8d2c3a0e6e392e2f358bf29a3b900afcd5bbe56a,21,8,2,1,20172,Michele Baldessari,michele,"IHA robustness improvements

This will avoid useless fencing events in case of stonith problems.  The
'compute-unfence-trigger' resource is simply a dummy resource that is
only used to trigger unfence events. If for whatever reason this
resource is having issues on stop (pcmk bug, node overloaded, etc.) it
makes zero sense to have pacemaker do a fencing action against the node.
Let's just block and show the operator the status and be less harsh in
general.

Tested this and I correctly get the following:
[root@controller-0 ~]# pcs resource show compute-unfence-trigger-clone
 Clone: compute-unfence-trigger-clone
  Resource: compute-unfence-trigger (class=ocf provider=pacemaker type=Dummy)
   Meta Attrs: requires=unfencing
   Operations: migrate_from interval=0s timeout=20 (compute-unfence-trigger-migrate_from-interval-0s)
               migrate_to interval=0s timeout=20 (compute-unfence-trigger-migrate_to-interval-0s)
               monitor interval=10 timeout=20 (compute-unfence-trigger-monitor-interval-10)
               reload interval=0s timeout=20 (compute-unfence-trigger-reload-interval-0s)
               start interval=0s timeout=20 (compute-unfence-trigger-start-interval-0s)
               stop interval=0s on-fail=block timeout=20 (compute-unfence-trigger-stop-interval-0s)

Closes-Bug: #1831234

Change-Id: Ib4884078d54c25da998495ba3e8d47b5e17010ce
"
openstack%2Fproject-config~master~Iebc496e8d62e2492ce7518d69cdc1a0031cef2a1,openstack/project-config,master,,Iebc496e8d62e2492ce7518d69cdc1a0031cef2a1,Adjust jobs running on zuul-jobs,MERGED,2019-06-28 20:38:31.000000000,2019-06-28 21:04:54.000000000,2019-06-28 21:04:54.000000000,4,2,0,668248,46d747216b7db48c05c08e67040936faf4dd0900,10,4,1,1,1,James E. Blair,corvus,"Adjust jobs running on zuul-jobs

We've added a job and renamed another; make sure both run on
changes to zuul-jobs.

Change-Id: Iebc496e8d62e2492ce7518d69cdc1a0031cef2a1
Depends-On: https://review.opendev.org/668050
"
openstack%2Fnetworking-ovn~stable%2Frocky~If157e9d4660cc6c566ecad44aa6734af2bd14db1,openstack/networking-ovn,stable/rocky,bug/1833445,If157e9d4660cc6c566ecad44aa6734af2bd14db1,Maintenance task: Fix race condition at resource creation,MERGED,2019-06-21 12:50:35.000000000,2019-06-28 20:44:10.000000000,2019-06-28 20:44:10.000000000,52,9,2,666826,72c57893f3f7b382d10c20b0db7a030bfa11be3b,32,4,1,3,6773,Lucas Alvares Gomes,lucasagomes,"Maintenance task: Fix race condition at resource creation

When the maintenance task runs (every 5 minutes) it should take in
consideration how old is the resource before considering it to be an
inconsitency.

Prior to this patch, what could happen is that a resource being created
was committed to the neutron database but not yet to the OVN database and
ovn_revision_numbers cache table. In the meantime, the maintenance
task could run and create that resource before the create_*_postcommit()
completed resulting in a race condition.

Using a port as an example, the following error would be seeing when
that happens (more detailed example in the LP ticket):

ovsdbapp.backend.ovs_idl.transaction [-] OVSDB Error:
{""details"":""Transaction causes multiple rows in \""Logical_Switch_Port\""
table to have identical values (\""89ebd403-68af-43a2-a4e4-5fa86d57d2a2\"")
for index on column \""name\"".

This patch adds a new filter to the get_inconsistent_resources() method
which checks the ""created_at"" column of the resource to see if it's older
than 60 seconds and ignore if it's newer.

Closes-Bug: #1833445
Change-Id: If157e9d4660cc6c566ecad44aa6734af2bd14db1
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 1e0c9370b23315d7e734cf5ebc960e76c454bb61)
"
openstack%2Fnetworking-ovn~master~I3faa2ace51b0ab83d148bed705268a782076fbfe,openstack/networking-ovn,master,make-slow-job-multinode,I3faa2ace51b0ab83d148bed705268a782076fbfe,Switch networking-ovn-tempest-slow to multinode job,MERGED,2019-05-10 10:24:25.000000000,2019-06-28 20:44:09.000000000,2019-06-28 20:44:09.000000000,102,2,8,658326,3b635cb6f6056ff658a2b3be59a65e9034e296df,116,9,30,2,11975,Slawek Kaplonski,slaweq,"Switch networking-ovn-tempest-slow to multinode job

It is now running on 2 nodes: all-in-one and compute.
This patch introduce also new abstract job
""networking-ovn-multinode-base"" which can be used for other
multinode jobs in the future.

Change-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe
"
openstack%2Fnova~master~I90ee8a2081c2a0465441a8d81d161f4887b4e1fb,openstack/nova,master,bp/vcpu-weighter,I90ee8a2081c2a0465441a8d81d161f4887b4e1fb,Add CPUWeigher,MERGED,2016-09-29 14:58:52.000000000,2019-06-28 20:38:15.000000000,2018-04-24 01:09:31.000000000,208,2,39,379525,67f52ab36df0f029d745851fc45607736c03e474,172,29,11,5,15334,Stephen Finucane,sfinucan,"Add CPUWeigher

nova provides many different types of filter, providing both resource
stacking/spreading and affinity/anti-affinity patterns. Curiously
enough, however, there is no way to configure a stack or spread policy
of CPUs. Add one.

Change-Id: I90ee8a2081c2a0465441a8d81d161f4887b4e1fb
Implements: bp vcpu-weighter
"
openstack%2Fnetworking-bagpipe~master~I2187f0e63d366fe7d174d0f86bb548535e9eef49,openstack/networking-bagpipe,master,bindep-fallback,I2187f0e63d366fe7d174d0f86bb548535e9eef49,Add local bindep.txt,MERGED,2019-06-26 06:29:43.000000000,2019-06-28 20:28:05.000000000,2019-06-28 20:28:05.000000000,8,0,0,667520,3f1a317df0aa09c8f66dfc2f8487f79e43ae33aa,11,4,2,1,17685,Elod Illes,elod.illes,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I2187f0e63d366fe7d174d0f86bb548535e9eef49
"
openstack%2Ftempest~master~Ic913176b429b3465dcdbc2e4f44eea32f0b17dfa,openstack/tempest,master,bug/1834461,Ic913176b429b3465dcdbc2e4f44eea32f0b17dfa,compute: Correctly pass certified_image_ref as image_id,MERGED,2019-06-27 10:42:45.000000000,2019-06-28 20:11:27.000000000,2019-06-28 20:11:27.000000000,1,1,0,667893,cff4ed761da330db1c3611312687f034d812ac98,10,5,1,1,10135,Lee Yarwood,lyarwood,"compute: Correctly pass certified_image_ref as image_id

Ib346d383c430d5151d9aafa6e856dd0a7cae8a23 incorrectly attempted to pass
this as imageRef leading to duplicate arguments being used when calling
the servers client to create the server.

Closes-Bug: #1834461
Change-Id: Ic913176b429b3465dcdbc2e4f44eea32f0b17dfa
"
openstack%2Ftripleo-ansible~master~I11b818e264d89e937072458f00eed19176279b5f,openstack/tripleo-ansible,master,selinux/py3,I11b818e264d89e937072458f00eed19176279b5f,bootstrap: update SElinux python binding rpm for EL8,MERGED,2019-06-28 12:48:53.000000000,2019-06-28 19:48:26.000000000,2019-06-28 19:48:26.000000000,1,1,2,668166,87e94e7ebba0fca63481af40ee5353ea3a4fab5a,15,4,3,1,3153,Emilien Macchi,emilienm,"bootstrap: update SElinux python binding rpm for EL8

It's python3-libselinux for RHEL8 (Python3).

Change-Id: I11b818e264d89e937072458f00eed19176279b5f
"
openstack%2Ftempest-stress~master~I5a4ccdd7c0cfa967c38287fe6ec5c75351cdffcf,openstack/tempest-stress,master,,I5a4ccdd7c0cfa967c38287fe6ec5c75351cdffcf,Update home-page,MERGED,2019-01-11 10:03:13.000000000,2019-06-28 19:44:35.000000000,2019-06-28 19:44:35.000000000,1,1,2,630111,3d0724349a00adda00c8e91609a9078cd54a1986,17,8,3,1,26297,pippo,huang.zhiping,"Update home-page

Change-Id: I5a4ccdd7c0cfa967c38287fe6ec5c75351cdffcf
"
openstack%2Fdevstack-tools~master~Ief10c73009cc715a4bd9c92abde829ac54a75b61,openstack/devstack-tools,master,,Ief10c73009cc715a4bd9c92abde829ac54a75b61,Update home-page,MERGED,2019-01-11 11:44:34.000000000,2019-06-28 19:39:14.000000000,2019-06-28 19:39:13.000000000,1,1,2,630170,7f1d7155a3292362f1dec5fdd9b6789daa9d0837,16,6,3,1,26297,pippo,huang.zhiping,"Update home-page

Change-Id: Ief10c73009cc715a4bd9c92abde829ac54a75b61
"
openstack%2Fbashate~master~Ie4fd21a686b1a5b9d9546dd286cfeee7dddb96bf,openstack/bashate,master,pep8-compatible-report,Ie4fd21a686b1a5b9d9546dd286cfeee7dddb96bf,extract report object,ABANDONED,2016-06-29 14:12:21.000000000,2019-06-28 19:21:49.000000000,,70,63,0,335519,7987d233c03258a696f1414a90ae6a4659467202,8,1,2,2,22499,Martin Sander,0x89,"extract report object

Implementing:
        # NOTE(mrodden): magic; replace with proper
        # report class when necessary
        report = self

Change-Id: Ie4fd21a686b1a5b9d9546dd286cfeee7dddb96bf
"
openstack%2Fbashate~master~Ibe417c817ab63a45d8f3cb26e2449792cc2773e0,openstack/bashate,master,find_files_recursively,Ibe417c817ab63a45d8f3cb26e2449792cc2773e0,Adds directory recursive lookup.,ABANDONED,2016-08-23 09:55:33.000000000,2019-06-28 19:20:58.000000000,,25,2,0,359079,dc4acec7ec466665960dc068c5005e172938f06c,6,1,1,2,9440,Pablo Orviz,orviz,"Adds directory recursive lookup.

bashate only accepts files as arguments. This change adds support
for directory lookup, so every bash script file found in the given
directory is analyzed.

Change-Id: Ibe417c817ab63a45d8f3cb26e2449792cc2773e0
Signed-off-by: Pablo Orviz <orviz@ifca.unican.es>
"
openstack%2Fkeystone~master~I97909ac566ab6e34f5a44204b6a5ccba2868285e,openstack/keystone,master,assertTrue,I97909ac566ab6e34f5a44204b6a5ccba2868285e,Remove redundant parameter passed to assertTrue,MERGED,2019-06-28 09:22:07.000000000,2019-06-28 19:17:23.000000000,2019-06-28 19:17:23.000000000,2,2,0,668122,9b0e5c115442657eeaa6adbed41888b453ea5eea,6,2,1,1,20190,zhufl,zhufl,"Remove redundant parameter passed to assertTrue

True should not be passed to assertTrue, so this is to move it.

Change-Id: I97909ac566ab6e34f5a44204b6a5ccba2868285e
"
openstack%2Fnova~stable%2Frocky~If53bc8fa8ab4a8a9072061af7afed53fc12c97a5,openstack/nova,stable/rocky,bug/1675791,If53bc8fa8ab4a8a9072061af7afed53fc12c97a5,Share snapshot image membership with instance owner,MERGED,2019-03-18 05:32:22.000000000,2019-06-28 19:17:18.000000000,2019-06-28 19:17:18.000000000,199,26,3,643853,6ca6f6fce691863901b01d37b8f6e3eadb2bcec4,69,11,9,16,5112,Seyeong Kim,xtrusia,"Share snapshot image membership with instance owner

When an admin creates a snapshot of another project owners
instance, either via the createImage API directly, or via the
shelve or createBackup APIs, the admin project is the owner
of the image and the owner of the instance (in another project)
cannot ""see"" the image. This is a problem, for example, if an
admin shelves a tenant user's server and then the user tries to
unshelve the server because the user will not have access to
get the shelved snapshot image.

This change fixes the problem by leveraging the sharing feature [1]
in the v2 image API. When a snapshot is created where the request
context project_id does not match the owner of the instance project_id,
the instance owner project_id is granted sharing access to the image.
By default, this means the instance owner (tenant user) can get the
image directly via the image ID if they know it, but otherwise the image
is not listed for the user to avoid spamming their image listing. In the
case of unshelve, the end user does not need to know the image ID since
it is stored in the instance system_metadata. Regardless, the user could
accept the pending image membership if they want to see the snapshot
show up when listing available images.

Note that while the non-admin project has access to the snapshot
image, they cannot delete it. For example, if the user tries to
delete or unshelve a shelved offloaded server, nova will try to
delete the snapshot image which will fail and log a warning since
the user does not own the image (the admin does). However, the
delete/unshelve operations will not fail because the image cannot
be deleted, which is an acceptable trade-off.

Due to some very old legacy virt driver code which started in the
libvirt driver and was copied to several other drivers, several virt
drivers had to be modified to not overwrite the ""visibility=shared""
image property by passing ""is_public=False"" when uploading the image
data. There was no point in the virt drivers setting is_public=False
since the API already controls that. It does mean, however, that
the bug fix is not really in effect until both the API and compute
service code has this fix.

A functional test is added which depends on tracking the owner/member
values in the _FakeImageService fixture. Impacted unit tests are
updated accordingly.

[1] https://developer.openstack.org/api-ref/image/v2/index.html#sharing

Conflicts:
        nova/compute/api.py
        nova/compute/utils.py

NOTE(seyeongkim): The conflict is due to not having change
7e229ba40df60b963e0e9450af276c62d4b6bf60 in Rocky.

        nova/tests/functional/test_images.py

NOTE(seyeongkim) The conflict is due to not having correct uuidsentiel
position.

Change-Id: If53bc8fa8ab4a8a9072061af7afed53fc12c97a5
Closes-Bug: #1675791
(cherry picked from commit 35cc0f5e943642dd8d9dacbf0dac6e260f708d7d)
"
openstack%2Fnova~stable%2Fstein~I5687480a22542eea31d299442837bd64bf731285,openstack/nova,stable/stein,bug/1823203,I5687480a22542eea31d299442837bd64bf731285,Handle PortLimitExceeded in POST /servers/{server_id}/os-interface,MERGED,2019-06-15 13:53:53.000000000,2019-06-28 19:17:12.000000000,2019-06-28 19:17:12.000000000,18,1,0,665513,43926ebca0f9a7f59be96e965e5be70b84501fa3,13,8,1,2,6873,Matt Riedemann,mriedem,"Handle PortLimitExceeded in POST /servers/{server_id}/os-interface

When attaching an interface to a server, if an existing port is not
specified, nova-compute will attempt to create a port on either the
user-specified network or the network that is available to the tenant.

If the tenant exceeds their port quota in neutron, a PortLimitExceeded
exception is raised up from nova-compute [1] which is not being handled
in the API controller code - which is fixed in this change.

Note that this is one of the few synchronous RPC call operations [2]
in the compute API so exceptions from the compute service will leak
back to the API like in this case and need to be handled to avoid a
500 response to the user.

The 403 response used here matches how PortLimitExceeded is handled in
the server create API [3].

[1] https://github.com/openstack/nova/blob/6ebb2c4ca/nova/network/neutronv2/api.py#L565
[2] https://github.com/openstack/nova/blob/6ebb2c4ca/nova/compute/rpcapi.py#L489
[3] https://github.com/openstack/nova/blob/6ebb2c4ca/nova/api/openstack/compute/servers.py#L688

Change-Id: I5687480a22542eea31d299442837bd64bf731285
Closes-Bug: #1823203
(cherry picked from commit 8ff0fae42bce9f98fd5897888c3c4c739b4b5f45)
"
openstack%2Fnova~stable%2Fstein~I53d4b38d12404a1641f667c537404effa837a83d,openstack/nova,stable/stein,bug/1830234,I53d4b38d12404a1641f667c537404effa837a83d,Avoid unnecessary joins in InstanceGroup.get_hosts,MERGED,2019-06-10 15:15:23.000000000,2019-06-28 19:17:05.000000000,2019-06-28 19:17:05.000000000,12,3,0,664271,74e66fe8d4353be95868a68d21d882020cb40f4b,16,8,1,2,6873,Matt Riedemann,mriedem,"Avoid unnecessary joins in InstanceGroup.get_hosts

The InstanceList.get_by_filters query is joining on
info_cache, security_groups, metadata and system_metadata
because of how instance_get_all_by_filters_sort in the DB API
works if columns_to_join (expected_attrs) is None. The get_hosts
method only cares about the instance.host value of its members
so those joins are unnecessarily expensive.

This change simply passes expected_attrs=[] to get_by_filters
to avoid the joins. A follow up change can further optimize this
code by adding a new query method to just get the host values
for a list of instance uuids, so a TODO is left in place for that.
Note that a new query method would need to be remotable and thus
not something we can backport.

Change-Id: I53d4b38d12404a1641f667c537404effa837a83d
Partial-Bug: #1830234
(cherry picked from commit 15ccf2ddfbf857186fc05f77a7881243c6311062)
"
openstack%2Fnova~stable%2Fstein~I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc,openstack/nova,stable/stein,bug/1811235,I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc,Raise InstanceFaultRollback for UnableToMigrateToSelf from _prep_resize,MERGED,2019-06-20 16:44:25.000000000,2019-06-28 19:16:58.000000000,2019-06-28 19:16:58.000000000,78,4,0,666639,1a11d5c7f35c17cfafc6b8ba57da88995c35b595,10,6,1,3,6873,Matt Riedemann,mriedem,"Raise InstanceFaultRollback for UnableToMigrateToSelf from _prep_resize

It is possible to cold migrate a stopped server. If, however, the
cold migrate is scheduled to the instance's current host and the
compute driver does not support cold migrating to the same host,
then UnableToMigrateToSelf was being raised from _prep_resize. If
_reschedule_resize_or_reraise re-raises that exception, then
_error_out_instance_on_exception in prep_resize handles it and
sets the instance vm_state to ACTIVE. This is wrong since the
instance power state is unchanged at this point and the instance
is actually stopped.

This fixes the problem by wrapping UnableToMigrateToSelf in
InstanceFaultRollback and raises that from _prep_resize, and
_error_out_instance_on_exception is called with the initial
vm_state (STOPPED in this case) so when _error_out_instance_on_exception
handles the InstanceFaultRollback exception it sets the instance
vm_state to STOPPED (what it already was) rather than ACTIVE.

There were no existing unit tests for the UnableToMigrateToSelf
case in _prep_resize so those are added here.

Conflicts:
      nova/tests/unit/compute/test_compute_mgr.py

NOTE(mriedem): The conflict is due to some unit tests from change
I734cc01dce13f9e75a16639faf890ddb1661b7eb not being in Stein.

Change-Id: I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc
Closes-Bug: #1811235
(cherry picked from commit d1931ac0630415519f9c3d906caba9c83cc8162a)
"
openstack%2Fnova~stable%2Fstein~Ie4f9177f4d54cbc7dbcf58bd107fd5f24c60d8bb,openstack/nova,stable/stein,bug/1811235,Ie4f9177f4d54cbc7dbcf58bd107fd5f24c60d8bb,Change InstanceFaultRollback handling in _error_out_instance_on_exception,MERGED,2019-06-20 16:44:25.000000000,2019-06-28 19:16:52.000000000,2019-06-28 19:16:52.000000000,46,14,0,666638,cdaa80078491517af3143690d40d30a5b7591edf,10,6,1,2,6873,Matt Riedemann,mriedem,"Change InstanceFaultRollback handling in _error_out_instance_on_exception

For some reason, only NotImplementedError in _error_out_instance_on_exception
would use the $instance_state parameter which can be controlled by the
caller of the context manager to determine the rollback vm_state. But in the
case of InstanceFaultRollback, the caller may want to reset the vm_state
back to something other than ACTIVE, like if the instance is actually
STOPPED and something like prep_resize fails (you can resize a STOPPED
instance).

This change makes _error_out_instance_on_exception handle InstanceFaultRollback
like NotImplementedError in that the instance_state parameter is used to reset
the instance.vm_state. It also adds a docstring explaining how this context
manager works along with some notes/questions about ways to improve it.

Change-Id: Ie4f9177f4d54cbc7dbcf58bd107fd5f24c60d8bb
Related-Bug: #1811235
(cherry picked from commit 46cb2fdfe2df333d870aca8e6afc521172b8e061)
"
openstack%2Fopenstack-ansible-os_octavia~master~I2d778b43e884139636354d0559ca4462749aa6a3,openstack/openstack-ansible-os_octavia,master,openstack/openstack-ansible-tests/sync-tests,I2d778b43e884139636354d0559ca4462749aa6a3,Updated from OpenStack Ansible Tests,MERGED,2019-06-11 22:19:01.000000000,2019-06-28 19:04:45.000000000,2019-06-28 19:04:45.000000000,11,8,0,664731,9df98e87bb21257adde5a7268fe9db98d67940ad,15,3,4,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I2d778b43e884139636354d0559ca4462749aa6a3
"
openstack%2Fgovernance~master~Icf454704a1503d27c0c526863bfaf103a7d7f8e0,openstack/governance,master,documentation-change,Icf454704a1503d27c0c526863bfaf103a7d7f8e0,Display table of TC Liasons and projects,MERGED,2019-06-28 14:54:03.000000000,2019-06-28 19:01:06.000000000,2019-06-28 19:01:06.000000000,153,0,0,668187,db6a6b614afbc3d647082d26a7b36e83b8afe217,14,4,1,4,8099,Graham Hayes,graham,"Display table of TC Liasons and projects

Change-Id: Icf454704a1503d27c0c526863bfaf103a7d7f8e0
Signed-off-by: Graham Hayes <gr@ham.ie>
"
openstack%2Fgovernance~master~I261d5bbb7d36308b7e460533dc2f20b2feeb19eb,openstack/governance,master,code-change,I261d5bbb7d36308b7e460533dc2f20b2feeb19eb,Update assignment script to output to projects.yaml file,MERGED,2019-06-28 11:38:09.000000000,2019-06-28 19:01:05.000000000,2019-06-28 19:01:05.000000000,37,37,0,668150,69dcd778174194a289f24fd819903f821a872e26,12,3,1,3,8099,Graham Hayes,graham,"Update assignment script to output to projects.yaml file

Change-Id: I261d5bbb7d36308b7e460533dc2f20b2feeb19eb
Signed-off-by: Graham Hayes <gr@ham.ie>
"
openstack%2Fgovernance~master~I37cdcef4b46d5eaa621dc1626853e53b87329d00,openstack/governance,master,code-change,I37cdcef4b46d5eaa621dc1626853e53b87329d00,Add support for liasons to project pages,MERGED,2019-06-27 17:49:36.000000000,2019-06-28 19:01:05.000000000,2019-06-28 19:01:05.000000000,7,0,0,668003,5c853172f514110f63b8351cf7da1806280a8821,15,3,2,3,8099,Graham Hayes,graham,"Add support for liasons to project pages

Change-Id: I37cdcef4b46d5eaa621dc1626853e53b87329d00
Signed-off-by: Graham Hayes <gr@ham.ie>
"
openstack%2Fpython-tripleoclient~stable%2Fstein~Ibb74bfebfaab2cd122abe1bc3cd5bbd2562ccfc5,openstack/python-tripleoclient,stable/stein,bug/1833302,Ibb74bfebfaab2cd122abe1bc3cd5bbd2562ccfc5,Send terminal erase sequence on tripleo deploy,MERGED,2019-06-28 13:22:21.000000000,2019-06-28 18:54:38.000000000,2019-06-28 18:54:38.000000000,28,10,0,668174,7d41f81ecad3d4692a5ca97d3ad7760d6287ca82,7,3,1,3,14985,Alex Schultz,mwhahaha,"Send terminal erase sequence on tripleo deploy

We're seeing some escape sequences being dropped when we run the
deployment via the undercloud. This causes a user to have to run a reset
after the undercloud installation in order to be able to use their shell
command line again.  We can avoid this if we send an terminal erase line
sequence to trim the rest of the line at the end of the deploy.

Conflicts:
	tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py

Change-Id: Ibb74bfebfaab2cd122abe1bc3cd5bbd2562ccfc5
Closes-Bug: #1833302
(cherry picked from commit e1a051d6ac890cd68f5bf5fff251fa445d7ad8f9)
"
openstack%2Fsahara~master~I6288c796a1e9a69be6722bf6f3c4ec0a86a6ae4f,openstack/sahara,master,fix-buildimages-centos,I6288c796a1e9a69be6722bf6f3c4ec0a86a6ae4f,Add a required dep to fix the buildimages jobs,MERGED,2019-05-06 10:35:28.000000000,2019-06-28 18:48:19.000000000,2019-06-28 18:48:19.000000000,1,0,0,657369,6979406464cab58877f38361d3ef70d4871b272e,17,4,1,1,10459,Luigi Toscano,ltoscano,"Add a required dep to fix the buildimages jobs

The buildimages jobs use CentOS. A change somewhere introduced a
new dependency on the devel package of PostgreSQL (namely libpq-fe.h).
The issues was fixed by If4ecc6a80bed338a0117adee0e6d361c135d9123
for Debian-based distribution; this change fixes it also for RPM-based
distributions, where postgresql-devel exists as a package or as alias.

Change-Id: I6288c796a1e9a69be6722bf6f3c4ec0a86a6ae4f
"
openstack%2Fvitrage~master~Iac3770f6d833340579056998b5fa9c71df5b8660,openstack/vitrage,master,python3-train,Iac3770f6d833340579056998b5fa9c71df5b8660,Switch python3 versions of test jobs to match Train PTI,MERGED,2019-06-24 06:25:12.000000000,2019-06-28 18:45:05.000000000,2019-06-28 18:45:05.000000000,3,3,0,667018,e5998619ed9315304aeeeae9b6f56373b54569b4,18,4,3,3,11278,Anusha Ramineni,anusha08,"Switch python3 versions of test jobs to match Train PTI

In Train, we will use python 3.6 and 3.7 for python3 runtime
in our gate jobs [1]. This commit also adds python 3.7.

[1] https://governance.openstack.org/tc/reference/runtimes/train.html

Depends-On: https://review.opendev.org/#/c/667039/
Change-Id: Iac3770f6d833340579056998b5fa9c71df5b8660
"
openstack%2Fproject-config~master~I1960825a302c3f9a1701d9a7bad52ff163a658bb,openstack/project-config,master,publish-everything-to-pypi,I1960825a302c3f9a1701d9a7bad52ff163a658bb,Remove release-openstack-python-without-pypi,MERGED,2018-01-08 15:50:27.000000000,2019-06-28 18:41:10.000000000,2019-06-28 18:41:10.000000000,3,24,0,531829,a4940567dd6e97fa88a2cf9be6a1469ce04474db,25,10,4,2,2,Monty Taylor,mordred,"Remove release-openstack-python-without-pypi

With the project template gone, we can get rid of the job.

The two repos (packstack and swift3) using the job can
publish to pypi instead.

Depends-On: I77d2ed3a3f1718b22e751aba113c2a3deb36f315
Change-Id: I1960825a302c3f9a1701d9a7bad52ff163a658bb
"
openstack%2Ftripleo-quickstart~master~I3bdad608d5dd5585c7f12c36da69db6d4421b9fa,openstack/tripleo-quickstart,master,retire-tempest-tripleo-ui,I3bdad608d5dd5585c7f12c36da69db6d4421b9fa,Remove featureset057,MERGED,2019-06-27 17:32:06.000000000,2019-06-28 18:35:54.000000000,2019-06-28 18:35:54.000000000,0,87,0,667997,34512de6dae0d5fe412b795a37dc62ed9500aef5,12,4,1,1,14985,Alex Schultz,mwhahaha,"Remove featureset057

We are retiring tripleo-ui and this unused featureset references
tempest-tripleo-ui which is going away.

Change-Id: I3bdad608d5dd5585c7f12c36da69db6d4421b9fa
"
openstack%2Ftripleo-heat-templates~master~Ib3ce0a753f7220c3ee2556425e9798b0c4a906f3,openstack/tripleo-heat-templates,master,bug/1834042,Ib3ce0a753f7220c3ee2556425e9798b0c4a906f3,Configure the Multipathd service,MERGED,2019-06-14 18:47:52.000000000,2019-06-28 18:35:33.000000000,2019-06-28 18:35:33.000000000,124,2,4,665456,906d03ea19a4446ed198c321f68791b7fa6e0c47,25,7,4,7,21129,Alan Bishop,ASBishop,"Configure the Multipathd service

This is part 2 of a series of patches to properly deploy multipathd.

This patch configures /etc/multipath.conf, which is required by the
multipath daemon. The config file contents are managed using the
'mpathconf' tool instead of a puppet module, but a tiny puppet wrapper
is employed to take advantage of the tripleo tooling (e.g. restarting
the multipathd container whenever the config file changes).

Other changes include:
- Ensuring the multipath daemon isn't running on the host
- Preparing the /etc/multipath directory that must be shared by all
  containers that use the service
- Adding a volume mount to services that need access to /etc/multipath

Closes-Bug: #1834042
Change-Id: Ib3ce0a753f7220c3ee2556425e9798b0c4a906f3
"
openstack%2Ftripleo-heat-templates~master~I0fb688bfe03cd0459f6f74ca37e3e6c913b0cbcb,openstack/tripleo-heat-templates,master,,I0fb688bfe03cd0459f6f74ca37e3e6c913b0cbcb,Add DockerNovaComputeUlimit to nova_cell_v2_discover_hosts,MERGED,2019-06-20 06:44:00.000000000,2019-06-28 18:35:31.000000000,2019-06-28 18:35:31.000000000,1,0,0,666497,5f9c0d6675d7aab443c318d565ee9ccf66d674ba,14,6,1,1,12898,Tony Breeds,tonyb,"Add DockerNovaComputeUlimit to nova_cell_v2_discover_hosts

One ppc64le this the nova_cell_v2_discover_hosts step fails with
permission denied due to the maximum locked memory (see[1]).

This change paves the way to allow us to tweak this via a
parameter_default

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1709564

Change-Id: I0fb688bfe03cd0459f6f74ca37e3e6c913b0cbcb
"
openstack%2Fkolla-ansible~stable%2Frocky~I3128472f028a2dbd7ace02abc179a9629ad74ceb,openstack/kolla-ansible,stable/rocky,bug/1832987-stable/rocky,I3128472f028a2dbd7ace02abc179a9629ad74ceb,Avoid parallel discover_hosts (nova-related race condition),MERGED,2019-06-27 19:36:14.000000000,2019-06-28 18:32:30.000000000,2019-06-28 18:32:30.000000000,7,3,0,668033,d8c6e54667f6fb127664a9d5c41d25b78f9ac893,9,4,1,2,30491,RadosÅ‚aw Piliszek,yoctozepto,"Avoid parallel discover_hosts (nova-related race condition)

In a rare event both kolla-ansible and nova-scheduler try to do
the mapping at the same time and one of them fails.
Since kolla-ansible runs host discovery on each deployment,
there is no need to change the default of no periodic host discovery.

I added some notes for future. They are not critical.
I made the decision explicit in the comments.
I changed the task name to satisfy recommendations.
I removed the variable because it is not used (to avoid future doubts).

Closes-Bug: #1832987
Change-Id: I3128472f028a2dbd7ace02abc179a9629ad74ceb
Signed-off-by: RadosÅ‚aw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit ce680bcfe2208f19a23630ee3feff4b9bd40c595)
"
openstack%2Fopenstack-helm~master~I2865c2b52fd0b6991fe32bae0c7984db2ac437ef,openstack/openstack-helm,master,,I2865c2b52fd0b6991fe32bae0c7984db2ac437ef,Please review,ABANDONED,2019-06-28 18:31:48.000000000,2019-06-28 18:32:11.000000000,,0,0,0,668228,38a51a2c239bffe378d78b2e0ef2b50515117362,2,0,1,0,29298,Jagan Mohan Kavva,jk330k,"Please review

Change-Id: I2865c2b52fd0b6991fe32bae0c7984db2ac437ef
"
openstack%2Ftripleo-quickstart-extras~master~Idaacf0eb69a8ae6a080c8ff189a81f60357f8aba,openstack/tripleo-quickstart-extras,master,,Idaacf0eb69a8ae6a080c8ff189a81f60357f8aba,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-05-10 08:45:22.000000000,2019-06-28 18:27:10.000000000,2019-06-28 18:27:09.000000000,4,4,0,658303,c49afcb85cf25492bbd0c7d0aa7bc7f723e8eb30,17,11,2,3,17130,melissaml,malei,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Idaacf0eb69a8ae6a080c8ff189a81f60357f8aba
"
openstack%2Fgovernance~master~I960c680f1e2bae93fea047a4ef805e6e748dc5b9,openstack/governance,master,code-change,I960c680f1e2bae93fea047a4ef805e6e748dc5b9,Allow yaml checks to work with mktemp in a different path,MERGED,2019-06-28 11:38:09.000000000,2019-06-28 18:22:56.000000000,2019-06-28 18:22:56.000000000,5,2,0,668151,aaef9cc8f099111fcbc831c2cc62c64cd33924e6,9,3,2,1,8099,Graham Hayes,graham,"Allow yaml checks to work with mktemp in a different path

Change-Id: I960c680f1e2bae93fea047a4ef805e6e748dc5b9
Signed-off-by: Graham Hayes <gr@ham.ie>
"
openstack%2Fcinder~master~I35dcc5d61237fa65488eb9b2c8cbd26ee7b2adc1,openstack/cinder,master,bug/1813851,I35dcc5d61237fa65488eb9b2c8cbd26ee7b2adc1,NFS: Retry on intermittent mount failure,MERGED,2019-01-30 02:36:27.000000000,2019-06-28 18:18:36.000000000,2019-06-27 07:43:39.000000000,39,1,9,633861,d960cb0477c3e782463632c94d888bcd121083da,210,53,5,3,9171,Vipin Balachandran,vbala,"NFS: Retry on intermittent mount failure

Concurrent backup operations using NFS driver may fail with
error 'busy or already mounted' when trying to mount the
share. Adding a config option 'backup_mount_attempts' to
specify the number of times to retry the mount operation
before raising the exception.

Closes-bug: 1813851
Change-Id: I35dcc5d61237fa65488eb9b2c8cbd26ee7b2adc1
"
openstack%2Fneutron~stable%2Fstein~Ib69540b38a3a8a86183ce570b259fba35d9efc30,openstack/neutron,stable/stein,custom_ethertypes_stable_branch,Ib69540b38a3a8a86183ce570b259fba35d9efc30,Add custom ethertype processing,ABANDONED,2019-06-24 19:52:42.000000000,2019-06-28 18:09:00.000000000,,28,1,25,667207,af8d9f2259e43e833f65258303816cb58489d2a2,31,11,5,2,13995,Nate Johnston,natejohnston,"Add custom ethertype processing

The OVS Firewall blocks traffic that does not have either the IPv4 or
IPv6 ethertypes at present.  This is a behavior change compared to the
iptables_hybrid firewall, which only operates on IP packets and thus
does not address other ethertypes.

A new RFE has been proposed [1] that describes an API to complement
security groups that would allow fine grained control by ethertype.  As
a new API this is almost certainly not backportable.  But there are
OpenStack users that are experiencing issues with this right now on
clouds as old as Queens.  From the perspective of an operator that may
depend on this behavior that is migrating to OVS firewall this looks
like a significant regression.

This is a lightweight change, designed to be acceptable for backports,
that sets a configuration option in the neutron openvswitch agent
configuration file for permitted ethertypes and then ensures that the
requested ethertypes are permitted on initialization.

[1] https://bugs.launchpad.net/bugs/1832758

Change-Id: Ib69540b38a3a8a86183ce570b259fba35d9efc30
"
openstack%2Fnetworking-ovn~stable%2Fqueens~If157e9d4660cc6c566ecad44aa6734af2bd14db1,openstack/networking-ovn,stable/queens,bug/1833445,If157e9d4660cc6c566ecad44aa6734af2bd14db1,Maintenance task: Fix race condition at resource creation,MERGED,2019-06-21 12:50:48.000000000,2019-06-28 17:41:50.000000000,2019-06-28 17:41:50.000000000,52,9,0,666827,ef5a81d1274d46bd77c2ac4639e47a706dbe33b3,16,4,1,3,6773,Lucas Alvares Gomes,lucasagomes,"Maintenance task: Fix race condition at resource creation

When the maintenance task runs (every 5 minutes) it should take in
consideration how old is the resource before considering it to be an
inconsitency.

Prior to this patch, what could happen is that a resource being created
was committed to the neutron database but not yet to the OVN database and
ovn_revision_numbers cache table. In the meantime, the maintenance
task could run and create that resource before the create_*_postcommit()
completed resulting in a race condition.

Using a port as an example, the following error would be seeing when
that happens (more detailed example in the LP ticket):

ovsdbapp.backend.ovs_idl.transaction [-] OVSDB Error:
{""details"":""Transaction causes multiple rows in \""Logical_Switch_Port\""
table to have identical values (\""89ebd403-68af-43a2-a4e4-5fa86d57d2a2\"")
for index on column \""name\"".

This patch adds a new filter to the get_inconsistent_resources() method
which checks the ""created_at"" column of the resource to see if it's older
than 60 seconds and ignore if it's newer.

Closes-Bug: #1833445
Change-Id: If157e9d4660cc6c566ecad44aa6734af2bd14db1
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 1e0c9370b23315d7e734cf5ebc960e76c454bb61)
"
openstack%2Ftripleo-heat-templates~master~Ie4c122e5fbb77f6e03e384a58745c1a46d91acb2,openstack/tripleo-heat-templates,master,,Ie4c122e5fbb77f6e03e384a58745c1a46d91acb2,Update min tox version to 2.0,MERGED,2018-11-09 04:32:09.000000000,2019-06-28 17:30:20.000000000,2019-06-28 17:30:20.000000000,1,1,0,616768,1b46f36c8ae9a78b12f3eeb7d1eee2ca78e5f670,11,7,1,1,28935,98k,98k,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: Ie4c122e5fbb77f6e03e384a58745c1a46d91acb2
"
openstack%2Ftripleo-heat-templates~master~I630a4a65c30928a8dd8cca59c39792afd7302ca6,openstack/tripleo-heat-templates,master,,I630a4a65c30928a8dd8cca59c39792afd7302ca6,Prefer CephPoolDefaultPgNum over counterintuitive Manila specific params,MERGED,2019-06-26 11:46:34.000000000,2019-06-28 17:30:17.000000000,2019-06-28 17:30:17.000000000,34,9,1,667586,634be405da07195dc7e107c575e715cf3960a250,9,5,1,1,6796,Giulio Fidente,gfidente,"Prefer CephPoolDefaultPgNum over counterintuitive Manila specific params

We used to look at CephPoolDefaultPgNum to set the pg_num of all but
the Manila pools. This seems counterintuitive, especially because specific
pools pg_num can be overridden using the CephPools parameter. This
change deprecates the old Manila specific parameters.

Change-Id: I630a4a65c30928a8dd8cca59c39792afd7302ca6
"
openstack%2Ftripleo-common~master~Iaf91f36a189d8e00627c21f14ca992a4d60fa10f,openstack/tripleo-common,master,,Iaf91f36a189d8e00627c21f14ca992a4d60fa10f,Don't calculate vips for some services,MERGED,2019-06-27 18:17:35.000000000,2019-06-28 17:30:16.000000000,2019-06-28 17:30:15.000000000,3,0,4,668009,372be6468e1dabc5fca2095d963dfbf4b055d7f2,15,7,2,1,7144,James Slagle,slagle,"Don't calculate vips for some services

As we use explicit vips for these services, we should not calculate the
vip based on the assigned network because in some cases they will be
different values.

Change-Id: Iaf91f36a189d8e00627c21f14ca992a4d60fa10f
"
openstack%2Fkolla~master~Ib82810a8d33dd91d28537058e873724a22067103,openstack/kolla,master,fix-openstack-exporter,Ib82810a8d33dd91d28537058e873724a22067103,[prometheus/openstack-exporter] Changed repository location and version.,MERGED,2019-06-24 16:29:51.000000000,2019-06-28 17:27:47.000000000,2019-06-28 17:27:47.000000000,2,2,1,667153,b692e8215b02648dbfd33af3e586a81da7695ea2,16,6,2,1,2276,Jorge Niedbalski,niedbalski,"[prometheus/openstack-exporter] Changed repository location and version.

Version 0.0.9 has been released, also the default organization
has been changed to its own org[0].

[0] https://github.com/openstack-exporter/openstack-exporter

Change-Id: Ib82810a8d33dd91d28537058e873724a22067103
Signed-off-by: Jorge Niedbalski <niedbalski@gmail.com>
"
openstack%2Fkolla-ansible~master~I623cdd49d2c1ad39db223994904dd2b556c1a5e4,openstack/kolla-ansible,master,dnm-ci-test,I623cdd49d2c1ad39db223994904dd2b556c1a5e4,DNM: kolla-ansible CI test (host: CentOS 7 -> Ubuntu Bionic),ABANDONED,2019-06-26 06:20:09.000000000,2019-06-28 17:27:47.000000000,,13,13,0,667518,857aa9663ba442ecc8a7f859c3266ebc76f04db7,5,1,2,1,30491,RadosÅ‚aw Piliszek,yoctozepto,"DNM: kolla-ansible CI test (host: CentOS 7 -> Ubuntu Bionic)

Change-Id: I623cdd49d2c1ad39db223994904dd2b556c1a5e4
Signed-off-by: RadosÅ‚aw Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fkolla~master~I4cd87ffad39dddc4d34c17f5dd7f536440090944,openstack/kolla,master,dnm-ci-test,I4cd87ffad39dddc4d34c17f5dd7f536440090944,DNM: kolla CI test (host: CentOS 7 -> Ubuntu Bionic),ABANDONED,2019-06-26 06:22:33.000000000,2019-06-28 17:27:37.000000000,,2,2,0,667519,5a1993d57027750174edcd20ec08777c2e8b9dca,5,1,2,1,30491,RadosÅ‚aw Piliszek,yoctozepto,"DNM: kolla CI test (host: CentOS 7 -> Ubuntu Bionic)

Depends-On: https://review.opendev.org/667518
Change-Id: I4cd87ffad39dddc4d34c17f5dd7f536440090944
Signed-off-by: RadosÅ‚aw Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Ftripleo-common~stable%2Fpike~I92c9d0bb5ddac5b8a887a3acf3fc3314aab5867b,openstack/tripleo-common,stable/pike,bug/1834054-stable/pike,I92c9d0bb5ddac5b8a887a3acf3fc3314aab5867b,Fix regression in validation action,MERGED,2019-06-26 03:50:11.000000000,2019-06-28 17:24:25.000000000,2019-06-28 17:24:25.000000000,7,9,0,667502,eca1924ec3bde5cad4f6f8545669cc23f14b1997,7,3,1,2,8833,Rabi Mishra,rabi,"Fix regression in validation action

Regression with https://review.opendev.org/#/c/656379/

self.stack is dict rather than a python object from action
heat.stacks_get  and is an input to this action.

Change-Id: I92c9d0bb5ddac5b8a887a3acf3fc3314aab5867b
Closes-Bug: #1834054
Related-Bug: #1826925
(cherry picked from commit 19148898aabc58afb7c93957676c6cf408d0f962)
"
openstack%2Fsahara-plugin-mapr~master~I7a378c69f3ac35ec398400ff8be8421b619a8e6b,openstack/sahara-plugin-mapr,master,sphinx-reqs,I7a378c69f3ac35ec398400ff8be8421b619a8e6b,Update sphinx from current requirements,MERGED,2019-06-25 09:47:15.000000000,2019-06-28 17:17:48.000000000,2019-06-28 17:17:48.000000000,2,1,0,667307,495691b42d620f3fb33b087b026886ff3ef04410,9,3,1,1,10459,Luigi Toscano,ltoscano,"Update sphinx from current requirements

Otherwise the requirements-check job fails.

Change-Id: I7a378c69f3ac35ec398400ff8be8421b619a8e6b
"
openstack%2Ftripleo-common~master~Ib7413eff36ba5c93530e2c784de76876aa2c9716,openstack/tripleo-common,master,virtainer,Ib7413eff36ba5c93530e2c784de76876aa2c9716,DNM: use virtainers for molecule testing,ABANDONED,2019-06-26 19:30:18.000000000,2019-06-28 17:17:44.000000000,,414,76,0,667713,8c508b3eeeb0c9f0a5aed805aefe3325a1ffa5e1,20,6,6,10,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: use virtainers for molecule testing

testing...

Change-Id: Ib7413eff36ba5c93530e2c784de76876aa2c9716
"
openstack%2Fopenstack-ansible-os_sahara~master~Ic8f7f2dc97cb8160bab123a87a2673675cff4c15,openstack/openstack-ansible-os_sahara,master,osa/db-refactor,Ic8f7f2dc97cb8160bab123a87a2673675cff4c15,db_setup: refactor database setup to a common file,MERGED,2019-06-17 17:58:25.000000000,2019-06-28 17:01:25.000000000,2019-06-28 17:01:25.000000000,94,65,0,665738,0d4cf84f1edd2ebae3c6d203cd186da4a5b8e163,15,5,2,4,28008,Guilherme,guilhermesp,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Depends-On: https://review.opendev.org/668019

Change-Id: Ic8f7f2dc97cb8160bab123a87a2673675cff4c15
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I43875eee401bb75e14874c776339a7c2a02d300f,openstack/tripleo-heat-templates,stable/stein,feature/firewall,I43875eee401bb75e14874c776339a7c2a02d300f,Allow ssh from all ctlplane network subnets,MERGED,2019-06-25 09:14:50.000000000,2019-06-28 16:59:41.000000000,2019-06-28 16:59:41.000000000,9,4,0,667295,dcd135f99b82a9430abf908be30f730f264ae153,14,10,1,1,24245,Harald JensÃ¥s,harald.jensas,"Allow ssh from all ctlplane network subnets

In change I89cff59947dda3f51482486c41a3d67c4aa36a3e
the default firewall rules where changed so that
only the %{hiera('ctlplane_subnet')} is allowed. In
DCN (spine-and-leaf) the result is that SSH to
nodes in remote subnets is not possible.

This change replaces the use of hiera, and instead
use the 'net_cidr_map' to create firewall rules for
each subnet on the ctlplane network. By creating a
rule for each subnet on the ctlplane SSH will be
allowed within the L3 ctlplane network.

Closes-Bug: #1834161
Change-Id: I43875eee401bb75e14874c776339a7c2a02d300f
(cherry picked from commit a89d46e0380431abed7c21a127c3bcb0d5dceb81)
"
openstack%2Frequirements~master~I7487f80fe1f93c65565d49429bcaa4d763dea167,openstack/requirements,master,new-release,I7487f80fe1f93c65565d49429bcaa4d763dea167,update constraint for python-ironic-inspector-client to new release 3.6.1,MERGED,2019-06-28 03:37:49.000000000,2019-06-28 16:58:36.000000000,2019-06-28 16:58:35.000000000,1,1,0,668086,dbb1315163884cd246567ea75f868ea66fe592e7,8,5,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-ironic-inspector-client to new release 3.6.1

Change-Id: I7487f80fe1f93c65565d49429bcaa4d763dea167
meta:version: 3.6.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Change-Id: If34deae6a6290be40f3d3b286b0af0d902716ce2
meta:release:Code-Review+1: yatin <ykarel@redhat.com>
meta:release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>
meta:release:Code-Review+2: Kendall Nelson <kennelson11@gmail.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ia08ec74917b6d80376f59ce04613432ad0b041ea,openstack/tripleo-heat-templates,stable/stein,bug/1831690,Ia08ec74917b6d80376f59ce04613432ad0b041ea,Do not assume the CNI config directory exists,MERGED,2019-06-24 15:28:48.000000000,2019-06-28 16:40:45.000000000,2019-06-28 16:40:45.000000000,4,2,0,667142,aaf25b8decca6f363337a22a51f9b46776c41eb6,8,4,1,1,8042,JiÅ™Ã­ StrÃ¡nskÃ½,jistr,"Do not assume the CNI config directory exists

The upgrade to Stein can fail on task ""Remove default cni config for
cni0"" with error ""Destination directory /etc/cni/net.d does not
exist"". Don't fail if the directory doesn't exist.

Change-Id: Ia08ec74917b6d80376f59ce04613432ad0b041ea
Closes-Bug: #1831238
(cherry picked from commit c0860d58a4f49cc5728bb09f540c54e693dcfbae)
"
openstack%2Fkolla-ansible~stable%2Fstein~I33f486c4cc2990d270821d70c73e9654004e90e0,openstack/kolla-ansible,stable/stein,,I33f486c4cc2990d270821d70c73e9654004e90e0,Updating Jinja filters to conform to Ansible 2.5+,MERGED,2019-06-28 11:54:56.000000000,2019-06-28 16:37:54.000000000,2019-06-28 16:09:12.000000000,117,118,0,668153,3f4d10614d8a8a869286e4b8f956c9ac3e1bae6f,9,3,1,13,30322,Raimund Hook,stingrayza,"Updating Jinja filters to conform to Ansible 2.5+

Since Ansible 2.5, the use of jinja tests as filters has been deprecated.
I've run the script provided by the ansible team to 'fix' the jinja filters
to conform to the newer syntax.

This fixes the deprecation warnings.

This is a specific run of the script against active stein files, rather
than a cherry pick of 656767.

Change-Id: I33f486c4cc2990d270821d70c73e9654004e90e0
"
openstack%2Fopenstack-ansible-os_barbican~master~I165acd8c7568a80f463b32c73dd47102e10fdd07,openstack/openstack-ansible-os_barbican,master,,I165acd8c7568a80f463b32c73dd47102e10fdd07,Use secure persmissions for barbican configuration,MERGED,2019-06-28 12:10:26.000000000,2019-06-28 16:37:04.000000000,2019-06-28 16:37:03.000000000,2,2,0,668159,d8eeb07880389599375d4331046114af95cfeb42,8,4,1,1,6593,Dirk Mueller,dmllr,"Use secure persmissions for barbican configuration

This contains credentials, it shouldn't be world readable,
and certainly not writeable by the service user.

Change-Id: I165acd8c7568a80f463b32c73dd47102e10fdd07
"
openstack%2Ftrove-tempest-plugin~master~I10544beb28cdf7d8e5b9c3b6a0c69c9a5004319d,openstack/trove-tempest-plugin,master,,I10544beb28cdf7d8e5b9c3b6a0c69c9a5004319d,Update hacking version to latest,NEW,2019-01-26 04:04:24.000000000,2019-06-28 16:07:05.000000000,,1,1,0,633326,fead6e77bfacdc1b7349a9b6689eeb6bcbf78113,4,3,1,1,29423,zhouxinyong,zhouxinyong,"Update hacking version to latest

Change-Id: I10544beb28cdf7d8e5b9c3b6a0c69c9a5004319d
"
openstack%2Fpuppet-tripleo~stable%2Frocky~Ib4884078d54c25da998495ba3e8d47b5e17010ce,openstack/puppet-tripleo,stable/rocky,iha_fix-stable/rocky,Ib4884078d54c25da998495ba3e8d47b5e17010ce,IHA robustness improvements,MERGED,2019-06-19 17:09:27.000000000,2019-06-28 16:03:32.000000000,2019-06-28 16:03:32.000000000,1,0,0,666405,275d219b0d9183f4a027dbf418ffaf368dd652c8,14,7,1,1,20778,Damien Ciabrini,dciabrin,"IHA robustness improvements

This will avoid useless fencing events in case of stonith problems.  The
'compute-unfence-trigger' resource is simply a dummy resource that is
only used to trigger unfence events. If for whatever reason this
resource is having issues on stop (pcmk bug, node overloaded, etc.) it
makes zero sense to have pacemaker do a fencing action against the node.
Let's just block and show the operator the status and be less harsh in
general.

Tested this and I correctly get the following:
[root@controller-0 ~]# pcs resource show compute-unfence-trigger-clone
 Clone: compute-unfence-trigger-clone
  Resource: compute-unfence-trigger (class=ocf provider=pacemaker type=Dummy)
   Meta Attrs: requires=unfencing
   Operations: migrate_from interval=0s timeout=20 (compute-unfence-trigger-migrate_from-interval-0s)
               migrate_to interval=0s timeout=20 (compute-unfence-trigger-migrate_to-interval-0s)
               monitor interval=10 timeout=20 (compute-unfence-trigger-monitor-interval-10)
               reload interval=0s timeout=20 (compute-unfence-trigger-reload-interval-0s)
               start interval=0s timeout=20 (compute-unfence-trigger-start-interval-0s)
               stop interval=0s on-fail=block timeout=20 (compute-unfence-trigger-stop-interval-0s)

Closes-Bug: #1831234

Change-Id: Ib4884078d54c25da998495ba3e8d47b5e17010ce
(cherry picked from commit 8d2c3a0e6e392e2f358bf29a3b900afcd5bbe56a)
"
openstack%2Fmistral~master~I683c79fa0a3ab23a16c493ce2314a506dfee9749,openstack/mistral,master,init_lazy_loaded_execution_input_field_in_api,I683c79fa0a3ab23a16c493ce2314a506dfee9749,"Initialize the lazily loaded execution ""input"" field in API",MERGED,2019-06-24 08:13:57.000000000,2019-06-28 15:52:49.000000000,2019-06-28 15:52:48.000000000,3,3,0,667039,dfc3277ffd3b2217cbc45f8635e4008e0f9d1100,31,8,2,1,8731,Renat Akhmerov,rakhmerov,"Initialize the lazily loaded execution ""input"" field in API

* After the recent change that made all potentially heavy fields
  of execution objects lazily loaded, some clients using Mistral
  APIs started crashing because they expect to get ""input"" field
  in JSON of execution objects that Mistral API returns. It wasn't
  present though because we did not initialize it explicitly in
  the API controller.
* Unfortunately, there's no easy way now to cover this change in
  the API tests just for how they are organized: they mock all
  DB calls and return all fields already initialized. We may want
  to refactor these tests moving forward.

Change-Id: I683c79fa0a3ab23a16c493ce2314a506dfee9749
"
openstack%2Fpuppet-tripleo~stable%2Frocky~Ic11e0330010f51c39a8a27700cd7d96b466bd532,openstack/puppet-tripleo,stable/rocky,saf_client_side_puppet,Ic11e0330010f51c39a8a27700cd7d96b466bd532,Switch metrics qdrs to edge mode,MERGED,2019-05-31 19:57:54.000000000,2019-06-28 15:40:26.000000000,2019-06-28 15:40:26.000000000,6,5,0,662564,830047b5478c0032ab7c3ad1d1a2df44b0fa879c,18,6,2,1,28504,Vinay Kapalavai,vkapalav,"Switch metrics qdrs to edge mode

We have proper qdrouterd version available now, so we can do the switch.

Change-Id: Ic11e0330010f51c39a8a27700cd7d96b466bd532
(cherry picked from commit ccbaeac737c845237b7f8f91e2e392fd3a204175)
"
openstack%2Fpuppet-tripleo~stable%2Frocky~I30142db8bfa55412b8c8224aeb05916184117a86,openstack/puppet-tripleo,stable/rocky,saf_client_side_puppet,I30142db8bfa55412b8c8224aeb05916184117a86,Qdr: InternalTLS support.,MERGED,2019-05-31 19:33:56.000000000,2019-06-28 15:40:26.000000000,2019-06-28 15:40:25.000000000,136,1,0,662553,6192a54b6c882c8b27e72559bdc6582269d11174,21,5,2,4,28504,Vinay Kapalavai,vkapalav,"Qdr: InternalTLS support.

Configuration changes to provide Internal TLS support
for Qdr.

Change-Id: I30142db8bfa55412b8c8224aeb05916184117a86
(cherry picked from commit be82c8690678e199e5fe95242c884f943531597b)
"
openstack%2Fnova~stable%2Fstein~I804dbe7a6d43a670471c773c12cf3da7664a2c19,openstack/nova,stable/stein,bug/1653953,I804dbe7a6d43a670471c773c12cf3da7664a2c19,DNM - Test rbd unshelve fix on stable stein,ABANDONED,2019-06-28 09:30:24.000000000,2019-06-28 15:38:25.000000000,,0,0,0,668126,1c77c85eb42ce8ef23dd6a2739e50fa55926a82b,5,2,1,1,10135,Lee Yarwood,lyarwood,"DNM - Test rbd unshelve fix on stable stein

Depends-On: https://review.opendev.org/#/c/668125/
Change-Id: I804dbe7a6d43a670471c773c12cf3da7664a2c19
"
openstack%2Fnetworking-ovn~stable%2Fstein~I1251f33a2a93b0d99574dc94ca000b1f4eb9be99,openstack/networking-ovn,stable/stein,bug/1827834,I1251f33a2a93b0d99574dc94ca000b1f4eb9be99,Set ostestr concurrency to 0 to fix networking-ovn gate,MERGED,2019-06-27 12:18:28.000000000,2019-06-28 15:38:21.000000000,2019-06-28 15:38:21.000000000,4,4,0,667910,c243b5b68a4b3a1314f134cb8fc71129f5d3bc6f,8,3,1,1,6773,Lucas Alvares Gomes,lucasagomes,"Set ostestr concurrency to 0 to fix networking-ovn gate

Currently due to an incompatibility between stestr-2.3.1 and os-testr,
gate jobs are failing in networking-ovn. This is because ostestr passes
--concurrency None to stestr and after [1] merged, stestr
is expecting only integer values. Till [2] is not released in the
updated stestr version, run stestr with --concurrency 0.
--concurrency 0 allows to run as many jobs as there are CPUs in the
system, allowing parallel execution in stestr.
This temporarily fixes the issue with tox and the gate failures
resulting because of this inconsistency. Once [2] is released, this
change can be reverted.

[1]: https://github.com/mtreinish/stestr/commit/c93bc81
[2]: https://github.com/mtreinish/stestr/commit/ac8dac0

Related-Bug: #1827834
Change-Id: I1251f33a2a93b0d99574dc94ca000b1f4eb9be99
(cherry picked from commit b04a2341126becbd7b449be6950cfaae4b01a2e5)
"
openstack%2Fkolla-ansible~stable%2Fstein~I2fac22af4710b70e4df8e3a272bcfb6cc8b8532e,openstack/kolla-ansible,stable/stein,more-idempotency-stable/stein,I2fac22af4710b70e4df8e3a272bcfb6cc8b8532e,Make nova external ceph key extraction tasks non-changing,MERGED,2019-06-27 11:34:29.000000000,2019-06-28 15:35:07.000000000,2019-06-28 15:35:07.000000000,2,0,0,667905,282ff67c76a55cbacaeea2755c652ef716c67828,7,3,1,1,30491,RadosÅ‚aw Piliszek,yoctozepto,"Make nova external ceph key extraction tasks non-changing

They are used only to obtain keys for the next task.

Change-Id: I2fac22af4710b70e4df8e3a272bcfb6cc8b8532e
Signed-off-by: RadosÅ‚aw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit cc058f45862d87675ddf02d50bea6c557f4c4ce1)
"
openstack%2Fkolla-ansible~stable%2Fstein~I79f6ec98383b1f59b8317a3720f6f9923d6bb21d,openstack/kolla-ansible,stable/stein,disable-oracle-linux-jobs-stable/stein,I79f6ec98383b1f59b8317a3720f6f9923d6bb21d,Disable and remove OracleLinux CI jobs,MERGED,2019-06-28 06:33:30.000000000,2019-06-28 15:35:06.000000000,2019-06-28 15:35:06.000000000,0,38,0,668096,ff8dff6558373b2e6be71912d1ed075bf2a19682,7,3,1,2,24072,Marcin Juszkiewicz,hrw,"Disable and remove OracleLinux CI jobs

We have agreed to remove support for Oracle Linux, starting by
disabling
the CI jobs.

http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006896.html

Change-Id: I79f6ec98383b1f59b8317a3720f6f9923d6bb21d
(cherry picked from commit 6b87514b146cc86226be478223838e28925dc63b)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I8fe302607544653032a011f1c932647adec5bfa0,openstack/tripleo-heat-templates,stable/stein,bug/1831690,I8fe302607544653032a011f1c932647adec5bfa0,Refactor ovn_dbs upgrade_tasks.,MERGED,2019-06-24 15:28:48.000000000,2019-06-28 15:24:57.000000000,2019-06-28 15:24:56.000000000,48,45,0,667141,2accf4d25d87d3be6b1aaf3772d00252a2364f60,8,4,1,1,8042,JiÅ™Ã­ StrÃ¡nskÃ½,jistr,"Refactor ovn_dbs upgrade_tasks.

Reorder the upgrade_tasks for the ovn_dbs service in a similar way
it's being done for the rest of pacemaker managed services. Also,
ensure indempotency in the case the cluster is down as it will occur
for the S to R upgrades workflow.

Partial-Bug: #1831690
Change-Id: I8fe302607544653032a011f1c932647adec5bfa0
(cherry picked from commit 05f4b253b84526850959f1b827a261b7573c006c)
"
openstack%2Fcloudkitty~master~Icfa6f07857d8afba91a2825c051b1d4b3449040e,openstack/cloudkitty,master,openstackdocstheme,Icfa6f07857d8afba91a2825c051b1d4b3449040e,Bump openstackdocstheme to 1.30.0,MERGED,2019-06-27 02:13:23.000000000,2019-06-28 15:23:00.000000000,2019-06-27 08:03:07.000000000,2,2,0,667770,22e8c9337ef908886dc0a6f0bfed570a15101480,8,9,1,2,27822,pengyuesheng,pengyuesheng,"Bump openstackdocstheme to 1.30.0

...to pick up many improvements, including the return of table borders.

Change-Id: Icfa6f07857d8afba91a2825c051b1d4b3449040e
"
openstack%2Fcloudkitty-dashboard~master~I5abdccda5c90b89362d7c16f11cd6a328c71d43f,openstack/cloudkitty-dashboard,master,openstackdocstheme,I5abdccda5c90b89362d7c16f11cd6a328c71d43f,Bump openstackdocstheme to 1.30.0,MERGED,2019-06-27 09:00:40.000000000,2019-06-28 15:22:17.000000000,2019-06-28 07:42:54.000000000,1,1,0,667817,81cec204207643518a30a74ae0f78bdfa95b2aa4,8,9,1,1,27822,pengyuesheng,pengyuesheng,"Bump openstackdocstheme to 1.30.0

...to pick up many improvements, including the return of table borders.

Change-Id: I5abdccda5c90b89362d7c16f11cd6a328c71d43f
"
openstack%2Fheat~master~I76c6427b7bbdac2af3b7f01aff1b0541e56b3653,openstack/heat,master,bp/multiple-cloud-support,I76c6427b7bbdac2af3b7f01aff1b0541e56b3653,Add doc for multi-clouds support,MERGED,2019-04-02 04:57:55.000000000,2019-06-28 15:16:02.000000000,2019-06-28 15:16:02.000000000,207,1,6,649220,fdb5e892bf1004dcee28537fe429ea90b9152807,30,6,7,5,12404,Rico Lin,rico.lin,"Add doc for multi-clouds support

Add doc for multi-clouds support in template guide.

Also remove redundant credential information in multi-clouds
integration test.

Change-Id: I76c6427b7bbdac2af3b7f01aff1b0541e56b3653
Story: #2002126
Task: #19808
"
openstack%2Fneutron~master~Id27326d5deae78ebfad1012efb507fde9e6c1453,openstack/neutron,master,bug/1833386,Id27326d5deae78ebfad1012efb507fde9e6c1453,"Disable ""of_inactivity_probe"" in fullstack tests",MERGED,2019-06-24 10:48:12.000000000,2019-06-28 15:15:58.000000000,2019-06-28 15:15:58.000000000,2,1,0,667064,d8078469a8693bfa637e607ed848b918e3048ec9,30,5,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Disable ""of_inactivity_probe"" in fullstack tests

Disable the inactivity probe during the fullstack tests. This probe
is not tracked nor controller during these tests and usually make
them more unstable. As seen in the bug report, in loaded CI nodes,
sometimes the probe raises an error, stopping the current test:

  reconnect|ERR|tcp:127.0.0.1:56401: no response to inactivity probe
    after 5 seconds, disconnecting

Change-Id: Id27326d5deae78ebfad1012efb507fde9e6c1453
Closes-Bug: #1833386
"
openstack%2Fkolla~stable%2Fqueens~I1d69ec0ca97dbbacccfe737fca03c9739244b900,openstack/kolla,stable/queens,fix-ceph-nfs-deploy-stable/queens,I1d69ec0ca97dbbacccfe737fca03c9739244b900,Fix deployment of ceph-nfs container failing due to wrong USER,MERGED,2019-06-27 09:11:04.000000000,2019-06-28 15:10:27.000000000,2019-06-28 15:10:27.000000000,0,3,0,667826,69a7cb5e9061abb474e9ffb9202cbf67c6114f6f,14,5,1,1,14826,Mark Goddard,mgoddard,"Fix deployment of ceph-nfs container failing due to wrong USER

The startup script requires to be run as root, not ceph.
All other ceph images follow this rule.

Also removed redundant blank line.

Change-Id: I1d69ec0ca97dbbacccfe737fca03c9739244b900
Signed-off-by: RadosÅ‚aw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit dc879dff3bf5cea9d64469395fe140b2ac7e4a3d)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I7e236b838328a7a140a0aba0745bd8ac1db00015,openstack/tripleo-heat-templates,stable/stein,bug/1834330,I7e236b838328a7a140a0aba0745bd8ac1db00015,Add /run/libvirt to nova_migration_target container,MERGED,2019-06-27 08:09:53.000000000,2019-06-28 15:09:13.000000000,2019-06-28 15:09:13.000000000,10,0,0,667804,1425671a384f1634a8057c5ef6fbbe954f1ba4e0,16,10,1,2,17216,Martin Schuppert,mcschupp,"Add /run/libvirt to nova_migration_target container

[1] removed the bind mount from /run inside the nova_migration_target
container. But the nova-migration-wrapper inside the container needs
access to the libvirt socket [2].

This adds the bind mount of /run/libvirt to the nova_migration_target
container to fix live migration issues.

[1] https://review.opendev.org/#/c/662109/
[2] https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31

Change-Id: I7e236b838328a7a140a0aba0745bd8ac1db00015
Closes-Bug: #1834330
(cherry picked from commit 537822d47c455cb9e4184744a91d083f2c89609c)
"
openstack%2Fopenstack-helm-images~master~I9eba37a10b815b83f09560ec678805fe17bda788,openstack/openstack-helm-images,master,,I9eba37a10b815b83f09560ec678805fe17bda788,Add Dockerfile and make file for etcdctl-Utility container,ABANDONED,2019-05-15 16:21:53.000000000,2019-06-28 15:01:14.000000000,,94,0,9,659336,52b9230ba8cd8579c9070b55c17cf748b23d75d5,35,11,11,3,29298,Jagan Mohan Kavva,jk330k,"Add Dockerfile and make file for etcdctl-Utility container

This etcdctl utility container will help the Operation user
to check the state/stats of etcdctl resources in the K8s Cluster

Change-Id: I9eba37a10b815b83f09560ec678805fe17bda788
"
openstack%2Fneutron~stable%2Fstein~I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6,openstack/neutron,stable/stein,bug/1831811-stable/stein,I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6,Turn CIDR in query filter into proper subnet,MERGED,2019-06-26 08:10:43.000000000,2019-06-28 14:59:57.000000000,2019-06-28 14:59:57.000000000,17,0,0,667541,350436991874bbec9cb9c846f6314c3a13098060,16,6,1,2,24245,Harald JensÃ¥s,harald.jensas,"Turn CIDR in query filter into proper subnet

Use netaddr.IPNetwork to convert CIDRs in a query
into proper subnets.

When creating subnets the CIDR is converted into
a proper subnet. i.e a subnet can be created with
cidr=10.0.0.11/24 in the create request. On create
the cidr is turned into a proper subnet resulting
in a subnet with cidr=10.0.0.0/24.

This change does the same to CIDRs when used as
query filters during a list subnet request, so
that the same value that was used to create the
subnet can be used to find the subnet.

Closes-Bug: #1831811
Change-Id: I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6
(cherry picked from commit af773557323580c7b07bd41dd1f524e81530c939)
"
openstack%2Fopenstack-helm-images~master~Ifef229b2ce83e9ac62e5676aed87c6c1b495618a,openstack/openstack-helm-images,master,,Ifef229b2ce83e9ac62e5676aed87c6c1b495618a,Build Script and Docker file for openstack-utility containers,ABANDONED,2019-04-29 21:33:16.000000000,2019-06-28 14:44:52.000000000,,94,0,4,656407,0cc229381cdeabacc3604ae11b78684c833aa2b7,43,11,6,3,29131,diwakar thyagaraj,dt241s@att.com,"Build Script and Docker file for openstack-utility containers

Change-Id: Ifef229b2ce83e9ac62e5676aed87c6c1b495618a
"
openstack%2Fcloudkitty~stable%2Frocky~Ia253175b45b8222aaee415ea535fa4102312be5a,openstack/cloudkitty,stable/rocky,fix-sqlalchemy-erros-v1-storage-stable/rocky,Ia253175b45b8222aaee415ea535fa4102312be5a,Fix sqlalchemy grouping on v1 storage,MERGED,2019-06-28 09:18:44.000000000,2019-06-28 14:34:36.000000000,2019-06-28 12:52:06.000000000,7,1,2,668120,df869e4588c937dc0e78680a3b9fe9d0fc937e57,9,3,1,2,23060,Luka Peschke,lukapeschke,"Fix sqlalchemy grouping on v1 storage

This fixes ""CompileError: Can't resolve label reference for
ORDER BY / GROUP BY."" error messages raised by sqlalchemy when the groupby
expression includes a comma.

Change-Id: Ia253175b45b8222aaee415ea535fa4102312be5a
(cherry picked from commit 5fef2d68f35577a62120ab64a2f67edf2522c259)
"
openstack%2Fopenstack-ansible-os_octavia~master~If75b7c3c9367988734b464196fc119e89c65a573,openstack/openstack-ansible-os_octavia,master,osa/db-refactor,If75b7c3c9367988734b464196fc119e89c65a573,db_setup: refactor database setup to a common file,MERGED,2019-06-12 13:17:18.000000000,2019-06-28 14:18:49.000000000,2019-06-28 14:18:49.000000000,94,65,0,664888,a4fa0be21bc4e3c75100c1a3bdfed3e934a6d531,19,5,3,4,28008,Guilherme,guilhermesp,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Depends-On: https://review.opendev.org/667941

Change-Id: If75b7c3c9367988734b464196fc119e89c65a573
"
openstack%2Fopenstack-ansible-os_octavia~master~I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415,openstack/openstack-ansible-os_octavia,master,bp/openstack-distribution-packages,I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415,Add support for using distribution packages for OpenStack services,MERGED,2019-04-12 11:59:00.000000000,2019-06-28 14:18:48.000000000,2019-06-28 14:18:48.000000000,151,19,0,652049,6aa925e792e6dc8f303d99595fb6406d22e95952,53,6,17,12,26647,Vadim Kuznetsov,vakuznet,"Add support for using distribution packages for OpenStack services

Distributions provide packages for the OpenStack services so we add
support for using these instead of the pip ones.

Change-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415
Depends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
Depends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87
Depends-On: Ia5fda5d417b79189d048c8891b84d57331df1404
Implements: blueprint openstack-distribution-packages
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I6531563b4da8cf9a9c93a99243720def182f332b,openstack/tripleo-heat-templates,stable/stein,bug/1831690,I6531563b4da8cf9a9c93a99243720def182f332b,Remove baremetal to containerized pacemaker upgrade_tasks.,MERGED,2019-06-24 15:28:48.000000000,2019-06-28 13:57:48.000000000,2019-06-28 13:57:48.000000000,1,412,0,667140,0af8eb1c64a3079717c361b04523b0be228d3c1a,8,5,1,10,8042,JiÅ™Ã­ StrÃ¡nskÃ½,jistr,"Remove baremetal to containerized pacemaker upgrade_tasks.

Now that all pacemaker managed services are containerized
there is no need to keep these upgrade_tasks.

Partial-Bug: #1831690
Change-Id: I6531563b4da8cf9a9c93a99243720def182f332b
(cherry picked from commit 0e6769b4b8225b780367e323b864e33571e21706)
"
openstack%2Fopenstack-ansible-os_cinder~master~I4755fb3cfed4707cd06299c2ff97a5011c62f147,openstack/openstack-ansible-os_cinder,master,static_imports,I4755fb3cfed4707cd06299c2ff97a5011c62f147,Convert dynamic includes to static imports,MERGED,2019-06-17 08:48:43.000000000,2019-06-28 13:49:18.000000000,2019-06-28 13:49:18.000000000,15,15,0,665612,bb98ba104e5b28ae6a4a3c3ef2ea5053fc71ce6d,7,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Convert dynamic includes to static imports

When task/role files are included using include_tasks, tags are not
passed to the included tasks. As a result, tags like neutron-config
do not have the intended effect. This patch changes include_tasks
to import_tasks for all cases where dynamic vars or loops are not used
so that tags are properly handled.

Reference -
https://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse.html
https://bugs.launchpad.net/openstack-ansible/+bug/1815043

Change-Id: I4755fb3cfed4707cd06299c2ff97a5011c62f147
"
openstack%2Fkolla-ansible~stable%2Fstein~I844ecb7bec94e561afb09580f58b1bf83a6d00bd,openstack/kolla-ansible,stable/stein,bug/1827370-stable/stein,I844ecb7bec94e561afb09580f58b1bf83a6d00bd,Updating Jinja filters to conform to Ansible 2.5+,ABANDONED,2019-06-28 10:26:39.000000000,2019-06-28 13:48:19.000000000,,117,118,0,668140,e8c1cad7b6115bb03b2317ffe71044e3fe5521c4,7,4,1,13,30491,RadosÅ‚aw Piliszek,yoctozepto,"Updating Jinja filters to conform to Ansible 2.5+

Since Ansible 2.5, the use of jinja tests as filters has been
deprecated.

I've run the script provided by the ansible team to 'fix' the
jinja filters to conform to the newer syntax.

This fixes the deprecation warnings.

Change-Id: I844ecb7bec94e561afb09580f58b1bf83a6d00bd
Closes-bug: #1827370
(cherry picked from commit 84ea42bd7cf3c9931bab4729d6d7ef13940108ac)
"
openstack%2Fopenstack-ansible-os_keystone~master~I99cf83ef6bf99f23cdbe9d141c6bcf921e81265f,openstack/openstack-ansible-os_keystone,master,static_imports,I99cf83ef6bf99f23cdbe9d141c6bcf921e81265f,Convert dynamic includes to static imports,MERGED,2019-06-13 13:47:04.000000000,2019-06-28 13:44:43.000000000,2019-06-28 13:44:43.000000000,17,17,0,665139,a2783e4e3f84c2681093c90d5fd2daa0f91dac77,19,5,3,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Convert dynamic includes to static imports

When task/role files are included using include_tasks, tags are not
passed to the included tasks. As a result, tags like neutron-config
do not have the intended effect. This patch changes include_tasks
to import_tasks for all cases where dynamic vars or loops are not used
so that tags are properly handled.

Reference -
https://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse.html
https://bugs.launchpad.net/openstack-ansible/+bug/1815043

Depends-On: https://review.opendev.org/665244/
Change-Id: I99cf83ef6bf99f23cdbe9d141c6bcf921e81265f
"
openstack%2Freleases~master~Idc14c85487f1c7185885de8c3bb7d06b9504df58,openstack/releases,master,labs_stein,Idc14c85487f1c7185885de8c3bb7d06b9504df58,training-labs stable/stein,MERGED,2019-06-22 16:16:43.000000000,2019-06-28 13:43:13.000000000,2019-06-28 13:43:13.000000000,3,0,0,666961,ceec008503948023bd03e03feda02454ff77ab02,9,5,1,1,11109,Roger Luethi,rluethi,"training-labs stable/stein

Change-Id: Idc14c85487f1c7185885de8c3bb7d06b9504df58
"
openstack%2Freleases~master~Id06794f165f0c852fb62dcacd53058bdc756899e,openstack/releases,master,final-without-rc,Id06794f165f0c852fb62dcacd53058bdc756899e,Do not allow final without RC in cycle-with-rc,MERGED,2019-06-20 12:59:49.000000000,2019-06-28 13:43:09.000000000,2019-06-28 13:43:08.000000000,8,8,0,666562,1bcdeaaa9f90b4276b0d3a73bbc785e66814450b,8,4,1,2,308,Thierry Carrez,ttx,"Do not allow final without RC in cycle-with-rc

Currently validation considers it valid to propose final versions
on a cycle-with-rc model without RC first:

https://review.opendev.org/#/c/613444/2

Relying on human review to catch that sounds risky. Let's fix it.

Change-Id: Id06794f165f0c852fb62dcacd53058bdc756899e
Task: 27762
"
openstack%2Fcloudkitty~stable%2Fstein~Ia253175b45b8222aaee415ea535fa4102312be5a,openstack/cloudkitty,stable/stein,fix-sqlalchemy-erros-v1-storage-stable/stein,Ia253175b45b8222aaee415ea535fa4102312be5a,Fix sqlalchemy grouping on v1 storage,MERGED,2019-06-28 09:31:04.000000000,2019-06-28 13:39:45.000000000,2019-06-28 13:39:45.000000000,7,1,0,668127,5e16701f4787336dae9732f42399ed64192ec3e4,13,3,1,2,23060,Luka Peschke,lukapeschke,"Fix sqlalchemy grouping on v1 storage

This fixes ""CompileError: Can't resolve label reference for
ORDER BY / GROUP BY."" error messages raised by sqlalchemy when the groupby
expression includes a comma.

Change-Id: Ia253175b45b8222aaee415ea535fa4102312be5a
(cherry picked from commit 5fef2d68f35577a62120ab64a2f67edf2522c259)
"
openstack%2Fdiskimage-builder~master~Icb6d998756ce5221e017959dcb59b21f0f023454,openstack/diskimage-builder,master,nodepool-func,Icb6d998756ce5221e017959dcb59b21f0f023454,Enable nodepool testing for opensuse 15.1,MERGED,2019-06-26 07:51:27.000000000,2019-06-28 13:28:35.000000000,2019-06-28 06:26:58.000000000,24,3,2,667537,97444ad92edd1103e76bca65ceb7e40b23344abc,59,6,16,3,6593,Dirk Mueller,dmllr,"Enable nodepool testing for opensuse 15.1

There are several jobs depending on working opensuse 15.1
images in nodepool, so it makes sense to ensure its working.
Also upgrade the previously marked experimental opensuse-15.0
job as it tests the xenial->opensuse combination, which is
particularly difficult to keep working and we'll need it in
the CI.

Change-Id: Icb6d998756ce5221e017959dcb59b21f0f023454
"
openstack%2Fopenstack-ansible-galera_server~master~I0e46377f58118a6bf18ea3c7140167dec8a681c6,openstack/openstack-ansible-galera_server,master,make_bind_address_configurable,I0e46377f58118a6bf18ea3c7140167dec8a681c6,Make mariadb bind address configurable,ABANDONED,2019-06-28 12:36:23.000000000,2019-06-28 13:08:27.000000000,,2,1,1,668164,054f6401ba0204f55c7d3dc1f697dfb92f9cb542,4,2,1,2,17068,Jean-Philippe Evrard,evrardjp,"Make mariadb bind address configurable

This will make it possible to restrict the address mariadb
listens to, defaulting to everything.

Change-Id: I0e46377f58118a6bf18ea3c7140167dec8a681c6
"
openstack%2Ftempest~master~I090dd235dd7911aa9bb0eb13d8e65b501dc206fe,openstack/tempest,master,fix-blacklist,I090dd235dd7911aa9bb0eb13d8e65b501dc206fe,Add project prefix to blacklist,MERGED,2019-06-20 05:58:04.000000000,2019-06-28 13:04:25.000000000,2019-06-28 13:04:25.000000000,18,13,1,666492,6617b834ff3066bb99785f9fb433ff8973c8f745,17,5,2,1,5689,Masayuki Igawa,igawa,"Add project prefix to blacklist

This commit fixes to add prefixes to the blacklist. The blacklist was
moved to generate-tempest-plugins-list.py by the recent patch[0].
However, the blacklist was updated by the other patch[1] before that.
So, it should have been updated correctly when the conflict was
occurred.

[0] I707aba930037e86f5f94dac73da957f5afacf935
[1] Ieecb8989ff8959f1b2c0e5f2f6b8ea2c3ebbcaa9

Change-Id: I090dd235dd7911aa9bb0eb13d8e65b501dc206fe
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Iddf30278f0cb4eb93fcbd8dc829e247bfb534562,openstack/tripleo-heat-templates,stable/stein,bug/1831690,Iddf30278f0cb4eb93fcbd8dc829e247bfb534562,Remove OpenStack packages right before upgrading the operating system,MERGED,2019-06-24 15:28:48.000000000,2019-06-28 13:01:27.000000000,2019-06-28 13:01:27.000000000,16,2,0,667139,34450cc635e8dfc7e6f1bb406cb9e7fd978a2db5,8,4,1,1,8042,JiÅ™Ã­ StrÃ¡nskÃ½,jistr,"Remove OpenStack packages right before upgrading the operating system

This could make the upgrade faster, but mainly it's less likely that
something will go wrong when the node goes down for the offline
upgrade. We want to minimize the chances of that happening, because
such error is extremely unpleasant to deal with (restore from backup
might be the only solution at that point).

Partial-Bug: #1831690
Change-Id: Iddf30278f0cb4eb93fcbd8dc829e247bfb534562
(cherry picked from commit bf8cde549b60a0621b9188a3d99f1610ba062009)
"
openstack%2Fmonasca-notification~master~If04a02179d37f5d088881d5d960b3e44b90e1023,openstack/monasca-notification,master,python3-train,If04a02179d37f5d088881d5d960b3e44b90e1023,Switch python3 versions of test jobs to match Train PTI,MERGED,2019-06-24 06:40:38.000000000,2019-06-28 12:50:10.000000000,2019-06-28 12:50:10.000000000,3,3,0,667021,99ee50666587a4a75269ef65b708de4869f92051,12,4,2,3,29360,Prankul Mahajan,prankul,"Switch python3 versions of test jobs to match Train PTI

In Train, we will use python 3.6 and 3.7 for python3 runtime
in our gate jobs [1]. This commit also adds python 3.7.

[1] https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: If04a02179d37f5d088881d5d960b3e44b90e1023
"
openstack%2Fkuryr-kubernetes~master~I1cda59f96a939c3c5ebce6c93ba9ed505f89f889,openstack/kuryr-kubernetes,master,,I1cda59f96a939c3c5ebce6c93ba9ed505f89f889,Ensure correct exception is catched in case of not found exception,ABANDONED,2019-06-28 12:29:50.000000000,2019-06-28 12:37:45.000000000,,3,3,0,668162,5601a62dc6112fbf865fc6435e22231881ad77cc,2,0,1,1,27032,Maysa de Macedo Souza,maysa,"Ensure correct exception is catched in case of not found exception

We are trying to catch a Neutron exception for a Kubernetes call.
This patch adds the correct handling in case a Kubernetes exception
is raised.

Change-Id: I1cda59f96a939c3c5ebce6c93ba9ed505f89f889
"
openstack%2Fopenstack-helm~master~Ia21be3c76322d4a312a5ae349c19a7ecd3ee112b,openstack/openstack-helm,master,stein,Ia21be3c76322d4a312a5ae349c19a7ecd3ee112b,WIP: Nova: Break out db config,ABANDONED,2019-06-27 20:48:23.000000000,2019-06-28 12:28:44.000000000,,26,17,0,668046,dcd120988a5407e68afa3212b05e8182658671e5,4,1,2,8,23928,Pete Birley,portdirect,"WIP: Nova: Break out db config

Change-Id: Ia21be3c76322d4a312a5ae349c19a7ecd3ee112b
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fopenstack-ansible~master~I8de48eb1fb4c8d321098ca54b9e21270edc7ac87,openstack/openstack-ansible,master,fix-octavia,I8de48eb1fb4c8d321098ca54b9e21270edc7ac87,Restrict the number of placement processes and threads in AIO,MERGED,2019-06-27 11:10:30.000000000,2019-06-28 12:06:57.000000000,2019-06-28 12:06:57.000000000,6,0,0,667898,ace885331c5eb15ae68e2a73affd9706d91c6938,18,5,1,1,25023,Jonathan Rosser,jrosser,"Restrict the number of placement processes and threads in AIO

Change-Id: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87
"
openstack%2Fopenstack-ansible~master~Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89,openstack/openstack-ansible,master,fix-octavia,Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89,Restrict the number of octavia processes and threads in AIO,MERGED,2019-06-27 14:37:29.000000000,2019-06-28 11:50:41.000000000,2019-06-28 11:50:41.000000000,4,0,0,667941,856f8042d90663a09f96a9ca699fc42e342f81ed,16,6,2,1,25023,Jonathan Rosser,jrosser,"Restrict the number of octavia processes and threads in AIO

Change-Id: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
"
openstack%2Fkolla~stable%2Frocky~I0514c02aaee1a413a7979c3a426e0484df839861,openstack/kolla,stable/rocky,bug/1832860-stable/rocky,I0514c02aaee1a413a7979c3a426e0484df839861,Run nova api_db sync before db sync,MERGED,2019-06-27 14:25:07.000000000,2019-06-28 11:34:59.000000000,2019-06-28 11:34:59.000000000,2,2,0,667939,b68632ff7e1e782712d94af6005c6348f6b1c640,16,6,1,1,14826,Mark Goddard,mgoddard,"Run nova api_db sync before db sync

Backport: Stein, Rocky

Since cells v2 was introduced, nova operators must run two commands to
migrate the database schemas of nova's databases - nova-manage api_db
sync and nova-manage db sync. It is necessary to run them in this order,
since the db sync may depend on schema changes made to the api
database in the api_db sync. Executing the db sync first may fail,
for example with the following seen in a Queens to Rocky upgrade:

    nova-manage db sync
    ERROR: Could not access cell0.
    Has the nova_api database been created?
    Has the nova_cell0 database been created?
    Has ""nova-manage api_db sync"" been run?
    Has ""nova-manage cell_v2 map_cell0"" been run?
    Is [api_database]/connection set in nova.conf?
    Is the cell0 database connection URL correct?
    Error: (pymysql.err.InternalError) (1054, u""Unknown column
            'cell_mappings.disabled' in 'field list'"") [SQL: u'SELECT
    cell_mappings.created_at AS cell_mappings_created_at,
    cell_mappings.updated_at AS cell_mappings_updated_at,
    cell_mappings.id AS cell_mappings_id, cell_mappings.uuid AS
    cell_mappings_uuid, cell_mappings.name AS cell_mappings_name,
    cell_mappings.transport_url AS cell_mappings_transport_url,
    cell_mappings.database_connection AS
    cell_mappings_database_connection, cell_mappings.disabled AS
    cell_mappings_disabled \nFROM cell_mappings \nWHERE
    cell_mappings.uuid = %(uuid_1)s \n LIMIT %(param_1)s'] [parameters:
    {u'uuid_1': '00000000-0000-0000-0000-000000000000', u'param_1': 1}]
    (Background on this error at: http://sqlalche.me/e/2j85)

Despite this error, the command actually exits zero, so kolla does not notice
the failure.

This change reorders these two commands to run the api_db sync before the db
sync.

Change-Id: I0514c02aaee1a413a7979c3a426e0484df839861
Closes-Bug: #1832860
(cherry picked from commit 84a07102e2db92333ce416a520151f1a1856f162)
"
openstack%2Fnetworking-ovn~stable%2Frocky~If53d316d0837c989d1153bef97b5de93d7bf85a6,openstack/networking-ovn,stable/rocky,dnm,If53d316d0837c989d1153bef97b5de93d7bf85a6,DNM: Test requirements job,ABANDONED,2019-06-14 10:02:24.000000000,2019-06-28 11:33:45.000000000,,2,0,0,665346,e5ab30baf5bf762a1892f30e5aa450d2e5ff4cb4,3,1,1,2,8655,Jakub Libosvar,jlibosva,"DNM: Test requirements job

Change-Id: If53d316d0837c989d1153bef97b5de93d7bf85a6
"
openstack%2Ftacker~master~I469a04220ad36451d155a5256926d992aa56b5c3,openstack/tacker,master,,I469a04220ad36451d155a5256926d992aa56b5c3,"Fix gate error ""mysqladmin: command not found""",MERGED,2019-06-28 07:23:43.000000000,2019-06-28 11:30:02.000000000,2019-06-28 11:30:02.000000000,21,0,0,668102,047f3a7409d0fc99c352871e0bd36df53c36fffb,8,2,3,2,8556,Ghanshyam,ghanshyam,"Fix gate error ""mysqladmin: command not found""

mysqladmin package is required in tools/test-setup.sh
so adding bindep.txt file for this binary dependencies

- http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I469a04220ad36451d155a5256926d992aa56b5c3
"
openstack%2Fnetworking-odl~master~I09a3f79c5aba21bf73cd13215b7418cfab7bd659,openstack/networking-odl,master,mymaster,I09a3f79c5aba21bf73cd13215b7418cfab7bd659,Fix tempest failures.,ABANDONED,2019-06-28 11:22:52.000000000,2019-06-28 11:23:34.000000000,,0,0,0,668145,c659cc397fa423298c626c3eca2575744ac885fc,2,0,1,1,25550,Achuth Maniyedath,achuthm,"Fix tempest failures.

Change-Id: I09a3f79c5aba21bf73cd13215b7418cfab7bd659
Signed-off-by: achuthm <achuth.m@altencalsoftlabs.com>
"
openstack%2Fopenstack-ansible-tests~stable%2Fstein~I41c504823277b8c5ee1b14540cdfbb693fc25a8c,openstack/openstack-ansible-tests,stable/stein,,I41c504823277b8c5ee1b14540cdfbb693fc25a8c,Revert defining tempest_install_method for tests,MERGED,2019-06-20 16:51:17.000000000,2019-06-28 11:16:30.000000000,2019-06-28 11:16:29.000000000,0,1,0,666641,50f38839d845d9094afef362dc84102cac8961e4,8,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Revert defining tempest_install_method for tests

Since [1] is merged, we don't need defining this variable for containers

[1] https://review.opendev.org/665244/

This reverts commit 1084ff6d5acab882de1a361fc4144ec0630f520d.

Change-Id: I41c504823277b8c5ee1b14540cdfbb693fc25a8c
(cherry picked from commit 0666b18821ea74cbb2d41228180a2f60a74fa9e7)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ic8001d4fd8c489f10c565d05ae82060fa3fb6ce8,openstack/tripleo-heat-templates,stable/stein,bug/1834409-stable/stein,Ic8001d4fd8c489f10c565d05ae82060fa3fb6ce8,Avoid checking rc if we're in dry-run mode,MERGED,2019-06-27 18:54:08.000000000,2019-06-28 10:57:26.000000000,2019-06-28 10:57:26.000000000,3,1,0,668023,93ead16ca213db8f3ef18a40c55437e324c50740,12,5,2,1,14985,Alex Schultz,mwhahaha,"Avoid checking rc if we're in dry-run mode

Currently running `ansible --check' against generated playbook fails
because the ""exec"" won't be done, hence the registered resource won't
get the ""rc"" entry.

Change-Id: Ic8001d4fd8c489f10c565d05ae82060fa3fb6ce8
Closes-Bug: #1834409
(cherry picked from commit 2d4430bd7188a7ae49a8cdb15b1dd546b46c7de5)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I7e236b838328a7a140a0aba0745bd8ac1db00015,openstack/tripleo-heat-templates,stable/queens,bug/1834330,I7e236b838328a7a140a0aba0745bd8ac1db00015,Add /run/libvirt to nova_migration_target container,MERGED,2019-06-27 08:12:02.000000000,2019-06-28 10:57:25.000000000,2019-06-28 10:57:25.000000000,10,0,0,667807,ad6effc40d91aa157bec9a5c74ef31fb4cee427f,8,7,1,2,17216,Martin Schuppert,mcschupp,"Add /run/libvirt to nova_migration_target container

[1] removed the bind mount from /run inside the nova_migration_target
container. But the nova-migration-wrapper inside the container needs
access to the libvirt socket [2].

This adds the bind mount of /run/libvirt to the nova_migration_target
container to fix live migration issues.

[1] https://review.opendev.org/#/c/662109/
[2] https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31

Change-Id: I7e236b838328a7a140a0aba0745bd8ac1db00015
Closes-Bug: #1834330
(cherry picked from commit 537822d47c455cb9e4184744a91d083f2c89609c)
(cherry picked from commit 1425671a384f1634a8057c5ef6fbbe954f1ba4e0)
(cherry picked from commit 95347b3aa94bb4324d8e4aa2c1554fbce6f9beaa)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I7e236b838328a7a140a0aba0745bd8ac1db00015,openstack/tripleo-heat-templates,stable/rocky,bug/1834330,I7e236b838328a7a140a0aba0745bd8ac1db00015,Add /run/libvirt to nova_migration_target container,MERGED,2019-06-27 08:11:02.000000000,2019-06-28 10:57:23.000000000,2019-06-28 10:57:23.000000000,10,0,0,667806,95347b3aa94bb4324d8e4aa2c1554fbce6f9beaa,8,7,1,2,17216,Martin Schuppert,mcschupp,"Add /run/libvirt to nova_migration_target container

[1] removed the bind mount from /run inside the nova_migration_target
container. But the nova-migration-wrapper inside the container needs
access to the libvirt socket [2].

This adds the bind mount of /run/libvirt to the nova_migration_target
container to fix live migration issues.

[1] https://review.opendev.org/#/c/662109/
[2] https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31

Change-Id: I7e236b838328a7a140a0aba0745bd8ac1db00015
Closes-Bug: #1834330
(cherry picked from commit 537822d47c455cb9e4184744a91d083f2c89609c)
(cherry picked from commit 1425671a384f1634a8057c5ef6fbbe954f1ba4e0)
"
openstack%2Fpython-tripleoclient~master~Ibb74bfebfaab2cd122abe1bc3cd5bbd2562ccfc5,openstack/python-tripleoclient,master,bug/1833302,Ibb74bfebfaab2cd122abe1bc3cd5bbd2562ccfc5,Send terminal erase sequence on tripleo deploy,MERGED,2019-06-18 21:23:53.000000000,2019-06-28 10:57:20.000000000,2019-06-28 10:57:20.000000000,29,10,2,666172,e1a051d6ac890cd68f5bf5fff251fa445d7ad8f9,20,6,2,3,14985,Alex Schultz,mwhahaha,"Send terminal erase sequence on tripleo deploy

We're seeing some escape sequences being dropped when we run the
deployment via the undercloud. This causes a user to have to run a reset
after the undercloud installation in order to be able to use their shell
command line again.  We can avoid this if we send an terminal erase line
sequence to trim the rest of the line at the end of the deploy.

Change-Id: Ibb74bfebfaab2cd122abe1bc3cd5bbd2562ccfc5
Closes-Bug: #1833302
"
openstack%2Fpython-novaclient~stable%2Frocky~Ia8750bc27aa9a2cfafb6f4f49252f5bd81bc1a40,openstack/python-novaclient,stable/rocky,,Ia8750bc27aa9a2cfafb6f4f49252f5bd81bc1a40,Use SHA256 instead of MD5 in completion cache,MERGED,2019-06-07 18:32:35.000000000,2019-06-28 10:38:00.000000000,2019-06-28 10:37:59.000000000,2,2,2,664025,92002c8046ea5f575bb8a7ed6f4e6a8a29fad22d,13,5,2,1,8864,Artom Lifshitz,artom,"Use SHA256 instead of MD5 in completion cache

FIPS 140 are U.S. government computer security standards that specify
requirements for cryptography modules. MD5 is not FIPS compliant [1].
Previously, MD5 was used as the hash algorithm for the bash completion
cache. Hosts running in FIPS mode [2] block execution of the MD5 hash.
This makes python-novaclient unusable on FIPS-enabled machines. This
patch replaces MD5 with SHA256, which is FIPS compliant.

[1] https://csrc.nist.gov/projects/hash-functions
[2] https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/chap-federal_standards_and_regulations

Change-Id: Ia8750bc27aa9a2cfafb6f4f49252f5bd81bc1a40
(cherry picked from commit 2595bac2294ce05e389eaab6636977963d5fc66c)
(cherry picked from commit e15cc789d9428cd03c2c5fbd6f5023522f2290cc)
"
openstack%2Fkolla-ansible~master~I844ecb7bec94e561afb09580f58b1bf83a6d00bd,openstack/kolla-ansible,master,bug/1827370,I844ecb7bec94e561afb09580f58b1bf83a6d00bd,Updating Jinja filters to conform to Ansible 2.5+,MERGED,2019-05-02 12:15:17.000000000,2019-06-28 10:26:39.000000000,2019-05-07 19:32:06.000000000,117,118,0,656767,84ea42bd7cf3c9931bab4729d6d7ef13940108ac,13,5,3,13,30322,Raimund Hook,stingrayza,"Updating Jinja filters to conform to Ansible 2.5+

Since Ansible 2.5, the use of jinja tests as filters has been
deprecated.

I've run the script provided by the ansible team to 'fix' the
jinja filters to conform to the newer syntax.

This fixes the deprecation warnings.

Change-Id: I844ecb7bec94e561afb09580f58b1bf83a6d00bd
Closes-bug: #1827370
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I8cf3e4cf294fee3b71473e2343ad16b184fac665,openstack/tripleo-heat-templates,stable/stein,bug/1831690,I8cf3e4cf294fee3b71473e2343ad16b184fac665,Add operating system upgrade preparation via Leapp,MERGED,2019-06-24 15:28:48.000000000,2019-06-28 10:19:38.000000000,2019-06-28 10:19:38.000000000,45,0,0,667138,7f393a3d40b402e1ce412dcff487052763cf470f,10,4,1,2,8042,JiÅ™Ã­ StrÃ¡nskÃ½,jistr,"Add operating system upgrade preparation via Leapp

Also make sure pacemaker cluster is not only stopped but also
destroyed on the node being upgraded. This is a prerequisite for
upgrades via Leapp, otherwise Leapp would assume we expect it to
upgrade the cluster, and it would fail on validation.

Partial-Bug: #1831690
Change-Id: I8cf3e4cf294fee3b71473e2343ad16b184fac665
(cherry picked from commit b0519479c19766e23c82a21a4b476b350f096941)
"
openstack%2Fkolla~stable%2Fstein~Iae9d37cb76997ba8389e21c7e2a3bf5905abe029,openstack/kolla,stable/stein,clean-up-test-process-stable/stein,Iae9d37cb76997ba8389e21c7e2a3bf5905abe029,Clean up test process,MERGED,2019-06-27 16:02:13.000000000,2019-06-28 09:59:25.000000000,2019-06-28 09:59:25.000000000,62,133,0,667970,cce6d68047b430180fe3225c044af04a38722e9e,8,4,1,10,30491,RadosÅ‚aw Piliszek,yoctozepto,"Clean up test process

If stestr failed, then no node info was logged.
Logging node info is now handled in pre and post stages of Zuul.
Additionally Zuul v3 migration recommendations were applied
and some unused code removed improving general readability.

Change-Id: Iae9d37cb76997ba8389e21c7e2a3bf5905abe029
Signed-off-by: RadosÅ‚aw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit c7ac0f0de0c65afe54974a7ea727feb27c0f60eb)
"
openstack%2Ftripleo-quickstart~master~I164061b6227e8af435b3a8b5d24647b2f0394967,openstack/tripleo-quickstart,master,oooq/brief-repolist,I164061b6227e8af435b3a8b5d24647b2f0394967,Minimize yum-config-manager console output,ABANDONED,2019-03-21 21:06:25.000000000,2019-06-28 09:47:11.000000000,,88,66,0,645351,3659a0213ed1111dab177a7351469399ab0db55d,21,11,4,45,24162,Sorin SbÃ¢rnea,ssbarnea,"Minimize yum-config-manager console output

We do not need to see a dump of repository config when we disable all
of them.

We do want to know only the repository names and their urls when
we reconfigure them.

This lowers considerably the size of builder-undercloud.log file from
>5000 lines to about 1/3 of that, making it much easier to read and
also lowering our logging footprint.

Other callsof yum-config-manager to not have the habit of dumping
the repository configuration, so we do not need to touch them. So
far, it seems that only --save and --disable ""*"" seem to be extra
verbose.

Change-Id: I164061b6227e8af435b3a8b5d24647b2f0394967
Related-Bug: #1787912
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I52a74c7b5473340e2afd240d7d6af9ad5bc97544,openstack/tripleo-heat-templates,stable/rocky,bug/1833690,I52a74c7b5473340e2afd240d7d6af9ad5bc97544,Don't create symlink for swift container logs,MERGED,2019-06-26 07:09:02.000000000,2019-06-28 09:41:43.000000000,2019-06-28 09:41:43.000000000,38,20,0,667526,b1486301f2c36838774fc5554637d93de9ab78e6,10,4,1,2,8833,Rabi Mishra,rabi,"Don't create symlink for swift container logs

logrotate 3.14.0 silently ignores all files when
there is a broken symlink in the container.

Replaces /var/log/containers/swift symlink with directories

Once we remove the symlinks in update_staks, host_prep_tasks
would create those directories.

Assuming that minor update runs before upgrades, this should
take care of upgrades too.

Conflicts:
	docker/services/swift-proxy.yaml
	docker/services/swift-storage.yaml

Change-Id: I52a74c7b5473340e2afd240d7d6af9ad5bc97544
Closes-Bug: #1833690
(cherry picked from commit d3a9614d8a631c1d29683d6426f501b88ecc2f85
 and 90d05216b96adaf93dcf36680954328ed1cb053d)
"
openstack%2Ftripleo-ci~master~Ic46a4c710327074167923731b6da502e216d610d,openstack/tripleo-ci,master,capture-clouds.yaml,Ic46a4c710327074167923731b6da502e216d610d,Capture /home/{{ undercloud_user }}/.config/openstack/,MERGED,2019-06-17 11:20:36.000000000,2019-06-28 09:40:39.000000000,2019-06-28 09:40:39.000000000,1,0,0,665644,49be21e7341edfb950358cd4179fbdedf4c537e4,23,6,4,1,24245,Harald JensÃ¥s,harald.jensas,"Capture /home/{{ undercloud_user }}/.config/openstack/

The clouds.yaml is located here, capture the content
of the .config/openstack/ directory.

Change-Id: Ic46a4c710327074167923731b6da502e216d610d
"
openstack%2Fcloudkitty~master~Ia253175b45b8222aaee415ea535fa4102312be5a,openstack/cloudkitty,master,fix-sqlalchemy-erros-v1-storage,Ia253175b45b8222aaee415ea535fa4102312be5a,Fix sqlalchemy grouping on v1 storage,MERGED,2019-06-04 13:28:42.000000000,2019-06-28 09:31:04.000000000,2019-06-05 12:47:32.000000000,7,1,0,663029,5fef2d68f35577a62120ab64a2f67edf2522c259,9,3,1,2,23060,Luka Peschke,lukapeschke,"Fix sqlalchemy grouping on v1 storage

This fixes ""CompileError: Can't resolve label reference for
ORDER BY / GROUP BY."" error messages raised by sqlalchemy when the groupby
expression includes a comma.

Change-Id: Ia253175b45b8222aaee415ea535fa4102312be5a
"
openstack%2Fkolla-ansible~stable%2Fpike~I6d3a92e7398601723cf43b48d10fccd740cf664c,openstack/kolla-ansible,stable/pike,remove-zuul-cloner-in-pike,I6d3a92e7398601723cf43b48d10fccd740cf664c,Remove zuul-cloner usage,MERGED,2019-06-27 14:46:36.000000000,2019-06-28 09:26:12.000000000,2019-06-28 09:26:11.000000000,0,15,0,667947,dd69cc96de9e35755b2752a286ea30301e31caed,6,2,1,1,30491,RadosÅ‚aw Piliszek,yoctozepto,"Remove zuul-cloner usage

Due to zuul-cloner being finally removed from Zuul v3, we have to
remove zuul-cloner usage from supported branches to use CI.
Stein and up have it removed by an unrelated change.
This simple patch is to go to rocky and below.

See [1] for Zuul change.

[1] https://review.opendev.org/663151

Change-Id: I6d3a92e7398601723cf43b48d10fccd740cf664c
Signed-off-by: RadosÅ‚aw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 924226df1f227fed8e9acdee7cd1de2b11e96a1b)
"
openstack%2Fkolla-ansible~stable%2Fqueens~Id4ac65148daf09cb192789a1d73871811cdea342,openstack/kolla-ansible,stable/queens,remove-zuul-cloner-in-queens,Id4ac65148daf09cb192789a1d73871811cdea342,Remove zuul-cloner usage,MERGED,2019-06-27 14:43:09.000000000,2019-06-28 09:18:19.000000000,2019-06-28 09:18:19.000000000,0,15,0,667945,20782235c5f5fa16e656f8cf266bc4c83e4347ff,6,2,1,1,30491,RadosÅ‚aw Piliszek,yoctozepto,"Remove zuul-cloner usage

Due to zuul-cloner being finally removed from Zuul v3, we have to
remove zuul-cloner usage from supported branches to use CI.
Stein and up have it removed by an unrelated change.
This simple patch is to go to rocky and below.

See [1] for Zuul change.

[1] https://review.opendev.org/663151

Change-Id: Id4ac65148daf09cb192789a1d73871811cdea342
Signed-off-by: RadosÅ‚aw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 924226df1f227fed8e9acdee7cd1de2b11e96a1b)
"
openstack%2Fkolla-ansible~stable%2Fstein~I3128472f028a2dbd7ace02abc179a9629ad74ceb,openstack/kolla-ansible,stable/stein,bug/1832987,I3128472f028a2dbd7ace02abc179a9629ad74ceb,Avoid parallel discover_hosts (nova-related race condition),MERGED,2019-06-27 16:28:47.000000000,2019-06-28 09:14:54.000000000,2019-06-28 09:14:54.000000000,7,3,0,667984,ed3d1e37ffa3c513957e184693d5ae7e451e92d8,11,6,1,2,30491,RadosÅ‚aw Piliszek,yoctozepto,"Avoid parallel discover_hosts (nova-related race condition)

In a rare event both kolla-ansible and nova-scheduler try to do
the mapping at the same time and one of them fails.
Since kolla-ansible runs host discovery on each deployment,
there is no need to change the default of no periodic host discovery.

I added some notes for future. They are not critical.
I made the decision explicit in the comments.
I changed the task name to satisfy recommendations.
I removed the variable because it is not used (to avoid future doubts).

Closes-Bug: #1832987
Change-Id: I3128472f028a2dbd7ace02abc179a9629ad74ceb
Signed-off-by: RadosÅ‚aw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit ce680bcfe2208f19a23630ee3feff4b9bd40c595)
"
openstack%2Fneutron-tempest-plugin~master~I9809f9f93e5c9dc4b654e2a50b35ed8cf3428987,openstack/neutron-tempest-plugin,master,,I9809f9f93e5c9dc4b654e2a50b35ed8cf3428987,Update flake8 style enforcement,MERGED,2019-06-27 15:33:36.000000000,2019-06-28 09:09:34.000000000,2019-06-28 09:09:34.000000000,3,1,0,667965,d4fa6dc0f600fd1184c25e946c99735c04451003,7,3,1,1,1131,Brian Haley,brian-haley,"Update flake8 style enforcement

Added enforcement of H204 and H205 extensions to match
neutron repo, there were no few failures.

Change-Id: I9809f9f93e5c9dc4b654e2a50b35ed8cf3428987
"
openstack%2Fneutron~master~I5af8b5e76ca8fd2fba58d0dd987be37530836480,openstack/neutron,master,bug/1832603,I5af8b5e76ca8fd2fba58d0dd987be37530836480,BGP Documentation Updates,MERGED,2019-06-20 03:36:06.000000000,2019-06-28 09:09:32.000000000,2019-06-28 09:09:32.000000000,63,71,15,666481,6fd1cf35a821ed0d0ef52bed812c401ebd19b563,24,9,3,1,4187,Ryan Tidwell,ryan-tidwell,"BGP Documentation Updates

This change updates the documentation for neutron-dynamic-routing
to reflect recent enhancements in DVR compatibility and use of the
openstack CLI instead of the neutron CLI.

Change-Id: I5af8b5e76ca8fd2fba58d0dd987be37530836480
Closes-Bug: #1832603
"
openstack%2Fplacement~master~Ia6795ef15a03429c19e66ed6d297f62da72cc052,openstack/placement,master,story/2005443,Ia6795ef15a03429c19e66ed6d297f62da72cc052,Move non-nested perfload shell commands to script,MERGED,2019-06-20 11:39:10.000000000,2019-06-28 09:05:20.000000000,2019-06-28 09:05:20.000000000,111,135,1,666544,3b040f58f72cf0f92475e0eb194fed545955cf0d,9,4,1,2,11564,Chris Dent,chdent,"Move non-nested perfload shell commands to script

The script was embedded in the playbook, which leads to some
pain with regard to editing and reviewing as well as manual
testing.

The disadvantage of doing this is that it can make jobs
somewhat less portable between projects, but in this case
that's not really an issue.

There are further improvements that can made to remove duplication
between the nested and non-nested versions of these jobs. This
change will make it easier for those changes to be made as
people have time.

Change-Id: Ia6795ef15a03429c19e66ed6d297f62da72cc052
"
openstack%2Fdevstack~master~Ifa196bd33959f1425df9a34cdab4acf4c3b8071b,openstack/devstack,master,,Ifa196bd33959f1425df9a34cdab4acf4c3b8071b,Use L3RouterPlugin alias,MERGED,2019-03-21 18:13:27.000000000,2019-06-28 09:05:16.000000000,2019-06-28 09:05:15.000000000,1,1,0,645289,245445b1bd35e580259f4decd9b0b047fe728794,12,8,1,1,1131,Brian Haley,brian-haley,"Use L3RouterPlugin alias

The 'router' alias for the L3RouterPlugin has been in
setup.cfg for a while, let's use it.

Change-Id: Ifa196bd33959f1425df9a34cdab4acf4c3b8071b
"
openstack%2Fnova~master~I0e9f9a488141da599c10af8cabb4f6a5d111104f,openstack/nova,master,bug/1819923,I0e9f9a488141da599c10af8cabb4f6a5d111104f,pull out put_allocation call from _heal_*,MERGED,2019-04-24 14:24:31.000000000,2019-06-28 09:03:18.000000000,2019-06-27 21:36:37.000000000,49,55,7,655459,e2866609bbb4e70e2b781a80ecc1ad0bccf93813,102,17,8,3,9708,Balazs Gibizer,gibi,"pull out put_allocation call from _heal_*

Both allocation healing steps calls the placement API. This patch pulls
out the placement updating code to a single place. To do that it change
the healing steps to only generate / update the allocation individually
and then at the end of the healing there will be a single placement
update with this allocation.

This will help us to include the port related allocation into the instance
allocation by modifying a single place in the code.

Related-Bug: #1819923

Change-Id: I0e9f9a488141da599c10af8cabb4f6a5d111104f
"
openstack%2Ftricircle~master~I535a62712b915cfc6a1e759301ea0fa28ffb9389,openstack/tricircle,master,s31,I535a62712b915cfc6a1e759301ea0fa28ffb9389,Add the penstack-python3-train-jobs template,MERGED,2019-06-28 06:55:51.000000000,2019-06-28 08:57:45.000000000,2019-06-28 08:57:44.000000000,3,2,0,668099,7b62f9363a00ed4b12badf8113b829801ff4d870,6,2,1,3,27215,baisen,songbaisen,"Add the penstack-python3-train-jobs template

[1]https://governance.openstack.org/tc/resolutions/20181024-python-update-process.html
[2]https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I535a62712b915cfc6a1e759301ea0fa28ffb9389
Signed-off-by: song baisen <songbaisen@szzt.com.cn>
Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5,openstack/tripleo-heat-templates,stable/queens,bug/1831617,I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5,Force ansible serial to 1 for the Controller,MERGED,2019-06-11 12:30:06.000000000,2019-06-28 08:48:39.000000000,2019-06-28 08:48:39.000000000,63,4,0,664567,cfbf68bdacd5c2af69cde6602da038621b3cca28,42,6,12,38,16515,mbu,matbu,"Force ansible serial to 1 for the Controller

By introducing update_serial variable we parallelize update
execution on non-pacemaker enabled nodes. Custom role data users
need to update their role files. By default we do serial 1 making
sure nothing changes for users who didn't update their role data.

Resolves: rhbz#1652057
Closes-Bug: #1831617

Change-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5
(cherry picked from commit a59a188a6b6ef7275d318d95b17d3a692065e16a)
"
openstack%2Fpython-cloudkittyclient~master~Id63f2419fe3a1eb518a0ffa7ea5fa572b18df651,openstack/python-cloudkittyclient,master,,Id63f2419fe3a1eb518a0ffa7ea5fa572b18df651,Add support for /v2/summary to the client,MERGED,2019-06-03 10:58:46.000000000,2019-06-28 08:39:30.000000000,2019-06-28 08:39:30.000000000,397,20,3,662730,c138f409b1f54bb2ea4528b4e61757ab19a989b9,17,3,5,23,23060,Luka Peschke,lukapeschke,"Add support for /v2/summary to the client

This allows to get a summary through the v2 API endpoint via the client
library and cli tool.

Depends-On: https://review.opendev.org/#/c/660608/
Change-Id: Id63f2419fe3a1eb518a0ffa7ea5fa572b18df651
Story: 2005664
Task: 30960
"
openstack%2Fneutron-lib~master~Ibd9cff863eaff940755ccb9c20f39e29e2001cde,openstack/neutron-lib,master,new-flake8,Ibd9cff863eaff940755ccb9c20f39e29e2001cde,Update flake8 style enforcement,MERGED,2019-06-26 20:31:36.000000000,2019-06-28 08:25:08.000000000,2019-06-27 14:00:06.000000000,13,9,0,667723,bf810d24ed715910cf6b10e4fe995315a8c3bb5a,10,4,1,5,1131,Brian Haley,brian-haley,"Update flake8 style enforcement

Added enforcement of H106, H203, H204 and H205 extensions to
match neutron repo, fixing a few failures in the process.

Also updated to support hacking 1.1.0, bringing in flake8
2.6.2 and pycodestyle 2.4.0 in the process.  This ensures
future python3 compatibility and a bit better code styling.

Change-Id: Ibd9cff863eaff940755ccb9c20f39e29e2001cde
"
openstack%2Fkolla-ansible~stable%2Frocky~I4b98c2cf207e3511e00ae69e88a9b5b126daa6c9,openstack/kolla-ansible,stable/rocky,remove-zuul-cloner,I4b98c2cf207e3511e00ae69e88a9b5b126daa6c9,Remove zuul-cloner usage,MERGED,2019-06-27 14:40:15.000000000,2019-06-28 08:16:03.000000000,2019-06-28 08:16:03.000000000,0,15,0,667944,924226df1f227fed8e9acdee7cd1de2b11e96a1b,7,3,1,1,30491,RadosÅ‚aw Piliszek,yoctozepto,"Remove zuul-cloner usage

Due to zuul-cloner being finally removed from Zuul v3, we have to
remove zuul-cloner usage from supported branches to use CI.
Stein and up have it removed by an unrelated change.
This simple patch is to go to rocky and below.

See [1] for Zuul change.

[1] https://review.opendev.org/663151

Change-Id: I4b98c2cf207e3511e00ae69e88a9b5b126daa6c9
Signed-off-by: RadosÅ‚aw Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fpython-swiftclient~master~I18a6327b3acdd4db5ae80097080c043f7c20c353,openstack/python-swiftclient,master,,I18a6327b3acdd4db5ae80097080c043f7c20c353,Clean up warnings from newer flake8,MERGED,2019-06-25 22:44:01.000000000,2019-06-28 08:13:46.000000000,2019-06-28 08:13:46.000000000,7,4,0,667478,3b21157a844be5b71fba2216486c3ef412e7ae1a,9,3,2,5,15343,Tim Burke,tburke,"Clean up warnings from newer flake8

Change-Id: I18a6327b3acdd4db5ae80097080c043f7c20c353
"
openstack%2Fkolla~stable%2Fstein~I0514c02aaee1a413a7979c3a426e0484df839861,openstack/kolla,stable/stein,bug/1832860-stable/stein,I0514c02aaee1a413a7979c3a426e0484df839861,Run nova api_db sync before db sync,MERGED,2019-06-27 14:24:57.000000000,2019-06-28 08:11:31.000000000,2019-06-28 08:11:31.000000000,2,2,0,667938,09226a59866e5ace7d573bac2e0772109a2554a0,11,5,1,1,14826,Mark Goddard,mgoddard,"Run nova api_db sync before db sync

Backport: Stein, Rocky

Since cells v2 was introduced, nova operators must run two commands to
migrate the database schemas of nova's databases - nova-manage api_db
sync and nova-manage db sync. It is necessary to run them in this order,
since the db sync may depend on schema changes made to the api
database in the api_db sync. Executing the db sync first may fail,
for example with the following seen in a Queens to Rocky upgrade:

    nova-manage db sync
    ERROR: Could not access cell0.
    Has the nova_api database been created?
    Has the nova_cell0 database been created?
    Has ""nova-manage api_db sync"" been run?
    Has ""nova-manage cell_v2 map_cell0"" been run?
    Is [api_database]/connection set in nova.conf?
    Is the cell0 database connection URL correct?
    Error: (pymysql.err.InternalError) (1054, u""Unknown column
            'cell_mappings.disabled' in 'field list'"") [SQL: u'SELECT
    cell_mappings.created_at AS cell_mappings_created_at,
    cell_mappings.updated_at AS cell_mappings_updated_at,
    cell_mappings.id AS cell_mappings_id, cell_mappings.uuid AS
    cell_mappings_uuid, cell_mappings.name AS cell_mappings_name,
    cell_mappings.transport_url AS cell_mappings_transport_url,
    cell_mappings.database_connection AS
    cell_mappings_database_connection, cell_mappings.disabled AS
    cell_mappings_disabled \nFROM cell_mappings \nWHERE
    cell_mappings.uuid = %(uuid_1)s \n LIMIT %(param_1)s'] [parameters:
    {u'uuid_1': '00000000-0000-0000-0000-000000000000', u'param_1': 1}]
    (Background on this error at: http://sqlalche.me/e/2j85)

Despite this error, the command actually exits zero, so kolla does not notice
the failure.

This change reorders these two commands to run the api_db sync before the db
sync.

Change-Id: I0514c02aaee1a413a7979c3a426e0484df839861
Closes-Bug: #1832860
(cherry picked from commit 84a07102e2db92333ce416a520151f1a1856f162)
"
openstack%2Fopenstack-ansible-os_keystone~master~Idb5ea861a87fe077f7c716f1157acd8e39257c5b,openstack/openstack-ansible-os_keystone,master,osa/db-refactor,Idb5ea861a87fe077f7c716f1157acd8e39257c5b,db_setup: refactor database setup to a common file,MERGED,2019-05-03 20:38:07.000000000,2019-06-28 08:04:55.000000000,2019-06-28 08:04:55.000000000,77,46,2,657036,4ea410ffcd199229415d7be392ee1b261da36c1c,50,7,11,4,1004,Mohammed Naser,mnaser,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

We have been using run_once only for keystone role. As we have a
keystone group in the inventory, we re replacing run_once for the
conditionals to match the pattern across all the other roles.

Change-Id: Idb5ea861a87fe077f7c716f1157acd8e39257c5b
"
openstack%2Fnova~master~Ide343c1c922dac576b1944827dc24caefab59b74,openstack/nova,master,bug/1819923,Ide343c1c922dac576b1944827dc24caefab59b74,Prepare _heal_allocations_for_instance for nested allocations,MERGED,2019-02-19 17:54:27.000000000,2019-06-28 07:52:40.000000000,2019-06-27 21:33:43.000000000,119,120,17,637954,307999c58101a5920e23ef181643d3b46bbf987c,216,18,20,5,9708,Balazs Gibizer,gibi,"Prepare _heal_allocations_for_instance for nested allocations

When no allocations exist for an instance the current heal code uses a
report client call that can only handle allocations from a single RP.
This call is now replaced with a more generic one so in a later patch
port allocations can be added to this code path too.

Related-Bug: #1819923
Change-Id: Ide343c1c922dac576b1944827dc24caefab59b74
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Idc3328658a4c5c21fd011c6c4f791e7993559f1a,openstack/tripleo-heat-templates,stable/stein,bug/1822571-stable/stein,Idc3328658a4c5c21fd011c6c4f791e7993559f1a,OVS Revalidator and handler threads,MERGED,2019-05-27 08:52:23.000000000,2019-06-28 07:47:40.000000000,2019-06-28 07:47:39.000000000,21,0,0,661566,1797d56cc59c2db92b87b8fe2db7b3f80e4279f6,14,5,2,2,30229,Haresh,hakhande,"OVS Revalidator and handler threads

Revalidator and handler threads are not coherent with lcore
Configure these threads according to configure lcores

Change-Id: Idc3328658a4c5c21fd011c6c4f791e7993559f1a
Closes-Bug: #1822571
Depends-On: https://review.openstack.org/661762
(cherry picked from commit 3c5ad2aab98fa9a1ab26cc6c348a64806276e8b9)
"
openstack%2Fpuppet-openstack-integration~master~Iba69f72b05e70806fc425b72a919d52fd368914d,openstack/puppet-openstack-integration,master,fix-zuul-cloner,Iba69f72b05e70806fc425b72a919d52fd368914d,Reparent puppet-openstack-base to legacy-base,MERGED,2019-06-25 18:46:54.000000000,2019-06-28 07:29:55.000000000,2019-06-26 15:33:31.000000000,2,0,0,667439,2bb40bb6fea5978c24a6e98149176567c4ce9dd1,21,5,1,1,14985,Alex Schultz,mwhahaha,"Reparent puppet-openstack-base to legacy-base

Base has been updated to not include thigns like zuul-cloner (which we
depend on). So we need to either remove the usage of this  by using the
repos in /home/zuul/src or set the base to legacy-base so zuul-cloner is
still included. For now let's just reparent the jobs and work on
removing zuul-cloner later.

http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html

Change-Id: Iba69f72b05e70806fc425b72a919d52fd368914d
"
openstack%2Fsenlin~master~I3b76f1cb529a675da6ad9ba9bec3b72a66b460a1,openstack/senlin,master,fix-api-ref,I3b76f1cb529a675da6ad9ba9bec3b72a66b460a1,Fix api-ref and docs building,MERGED,2019-06-24 20:22:35.000000000,2019-06-28 07:09:30.000000000,2019-06-28 07:09:30.000000000,3,0,0,667215,bc12179412dd2ff7dcd6aef30f9e625eab020247,13,4,2,2,6547,Andreas Jaeger,jaegerandi,"Fix api-ref and docs building

The api-ref tox env is currently failing, see
http://zuul.openstack.org/build/fd7de0dbca1940b08878dd62ea750fe7 for one
example.

Fix it by using the proper requirements file.

Also, add bindep.txt file so that graphviz is available. The recent
change to not install the global fallback broke the docs building.

Change-Id: I3b76f1cb529a675da6ad9ba9bec3b72a66b460a1
"
openstack%2Fkolla~master~I7c979dacd89ebead404b751d596ba120b38f00f3,openstack/kolla,master,no_versioned,I7c979dacd89ebead404b751d596ba120b38f00f3,doc: Start using openstackdoctheme's extlink extension,MERGED,2019-06-14 11:11:09.000000000,2019-06-28 06:46:23.000000000,2019-06-28 06:46:23.000000000,17,18,0,665361,ae1e2e680867559fb97da869086ccfcfc4cbd62d,11,4,3,7,19779,Chason Chan,chenxing,"doc: Start using openstackdoctheme's extlink extension

This ensures we have version-specific references to other projects [1].
Note that this doesn't mean the URLs are actually valid - we need to do
more work (linkcheck?) here, but it's an improvement nonetheless.

[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper

Change-Id: I7c979dacd89ebead404b751d596ba120b38f00f3
"
openstack%2Fneutron~master~Ib245d1f916bc00ec6dceab7fa9489533992e1dfd,openstack/neutron,master,bug/1832278,Ib245d1f916bc00ec6dceab7fa9489533992e1dfd,Fix default policies for port update,NEW,2019-06-10 23:47:18.000000000,2019-06-28 06:41:57.000000000,,43,5,15,664470,e5c6ca97619fda055f3ce54f2b002189d49e175e,58,11,7,4,28159,Hang Yang,hangyang,"Fix default policies for port update

When a non-admin port owner updates port in a shared network with fixed_ips,
Neutron will check polices that match with update_port:fixed_ips,
update_port:fixed_ips:subnet_id and update_port:fixed_ips:ip_address if the
port is already associated with some ip addresses. So all policy rules should
allow for shared network.

Change-Id: Ib245d1f916bc00ec6dceab7fa9489533992e1dfd
Related-Bug: 1832278
"
openstack%2Fkolla-ansible~master~I79f6ec98383b1f59b8317a3720f6f9923d6bb21d,openstack/kolla-ansible,master,disable-oracle-linux-jobs,I79f6ec98383b1f59b8317a3720f6f9923d6bb21d,Disable and remove OracleLinux CI jobs,MERGED,2019-06-10 07:51:39.000000000,2019-06-28 06:33:30.000000000,2019-06-27 14:14:37.000000000,0,38,0,664216,6b87514b146cc86226be478223838e28925dc63b,14,6,1,2,14826,Mark Goddard,mgoddard,"Disable and remove OracleLinux CI jobs

We have agreed to remove support for Oracle Linux, starting by
disabling
the CI jobs.

http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006896.html

Change-Id: I79f6ec98383b1f59b8317a3720f6f9923d6bb21d
"
openstack%2Fkolla~master~I527aba3635ef82e2d2a88ee7f5250bf03e420800,openstack/kolla,master,ci-remove-ol-overrides,I527aba3635ef82e2d2a88ee7f5250bf03e420800,Remove Oracle Linux stuff in CI code,MERGED,2019-06-25 17:42:25.000000000,2019-06-28 06:32:44.000000000,2019-06-27 14:05:58.000000000,0,24,0,667420,ccabadc342477b3c16b11ae52e0194c7916966c2,18,4,1,2,30491,RadosÅ‚aw Piliszek,yoctozepto,"Remove Oracle Linux stuff in CI code

Oracle Linux is no longer tested via CI after [1].
This patch removes OL support from Zuul files.

[1] https://review.opendev.org/664217

Change-Id: I527aba3635ef82e2d2a88ee7f5250bf03e420800
Signed-off-by: RadosÅ‚aw Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fdiskimage-builder~master~I04cc2ee710f0389a8085b1c91d9329784cb28048,openstack/diskimage-builder,master,debian-config-nw-names,I04cc2ee710f0389a8085b1c91d9329784cb28048,debootstrap: make default network interface names configurable,MERGED,2019-06-12 14:09:43.000000000,2019-06-28 06:30:45.000000000,2019-06-28 06:30:45.000000000,10,2,0,664936,05af0fc8635153dc69c1754592db665d3f064a14,10,6,1,3,21741,Andreas Florath,florath,"debootstrap: make default network interface names configurable

Nowadays, in the time of Predictable Network Interface Names, the
network interface names 'ethX' are not used that often any more.
Depending on the virtualization layer and the guest OS names like
'ens3', 'enp1s0' or 'enp0s31f6' are used.
This patch enables the user to set DIB_NETWORK_INTERFACE_NAMES to a
list of network interfaces which are brought up using DHCP during
(first) boot.

Change-Id: I04cc2ee710f0389a8085b1c91d9329784cb28048
Signed-off-by: Andreas Florath <Andreas.Florath@telekom.de>
"
openstack%2Fkolla~master~I5090eeb20c701a19f0b3f78cfbb44dc87df45948,openstack/kolla,master,,I5090eeb20c701a19f0b3f78cfbb44dc87df45948,setup-gate: do not error if directory exists (CI can have it),ABANDONED,2019-06-25 12:31:10.000000000,2019-06-28 06:30:29.000000000,,1,1,0,667349,cf728a100a9d4137eab5c64f4134c04723627eac,11,4,1,1,24072,Marcin Juszkiewicz,hrw,"setup-gate: do not error if directory exists (CI can have it)

Change-Id: I5090eeb20c701a19f0b3f78cfbb44dc87df45948
"
openstack%2Fopenstack-ansible-os_nova~master~I0ac8593477cd127c33594fd8f1c209f08b138794,openstack/openstack-ansible-os_nova,master,,I0ac8593477cd127c33594fd8f1c209f08b138794,Switch to openSUSE Leap 15.1,MERGED,2019-06-18 17:05:07.000000000,2019-06-28 06:22:40.000000000,2019-06-28 06:22:40.000000000,1,3,0,666062,21da07ff19491b64c0641e0200084a4839959fbd,33,4,8,1,6593,Dirk Mueller,dmllr,"Switch to openSUSE Leap 15.1

Depends-On: https://review.opendev.org/666058
Depends-On: https://review.opendev.org/666298

Change-Id: I0ac8593477cd127c33594fd8f1c209f08b138794
"
openstack%2Fcinder~master~I8fa2b3854c083c41987e2c130a1e562a65c65300,openstack/cinder,master,bp/macrosan-cinder-driver,I8fa2b3854c083c41987e2c130a1e562a65c65300,Add MacroSAN cinder driver,ABANDONED,2019-03-15 07:40:29.000000000,2019-06-28 06:10:52.000000000,,3320,0,5,643519,eeda0f69d7e1fdb71cda013fca662124fe800207,892,32,23,10,29620,hjy,lol,"Add MacroSAN cinder driver

This driver supports below features:
* Volume Create/Delete
* Volume Attach/Detach
* Snapshot Create/Delete
* Create Volume from Snapshot
* Copy Image to Volume
* Copy Volume to Image
* Clone Volume
* Extend volume
* Volume Migration

This patchset includes the unit tests.

DocImpact
Implements: blueprint macrosan-cinder-driver

Change-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300
"
openstack%2Fneutron~master~I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,openstack/neutron,master,bug/1833455,I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,Treat networks shared by RBAC in same way as shared with all tenants,MERGED,2019-06-21 11:14:54.000000000,2019-06-28 06:05:44.000000000,2019-06-28 00:08:38.000000000,4,2,0,666816,d5edb080b080bc5d5221f8586fc6ffdca7ab8b67,47,11,2,1,11975,Slawek Kaplonski,slaweq,"Treat networks shared by RBAC in same way as shared with all tenants

In patch [1] handle of networks with ""shared"" flag set to True was
fixed and it is now possible to use ""rule:shared"" in API policy in
actions related e.g. to ports or subnets.
But network can be shared with some specific tenant only by doing it
with RBAC mechanism and in such case it didn't work with [1] only.
It was like that because context.get_admin_context() was used to get
network so this returned network had got shared=False set even if
request comes from tenant for which network was shared through RBAC.

Now network will be always get with context which have got set proper
tenant_id so ""shared"" flag will be set properly even in case if it's
shared through RBAC.

[1] https://review.opendev.org/#/c/652636/

Change-Id: I38615c0d18bb5a1f22f3e7865ce24615a540aa9a
Closes-Bug: #1833455
"
openstack%2Ftripleo-validations~master~Ibf87819d9db72fa5d1bbaeb2019ca94de97f9dd1,openstack/tripleo-validations,master,remove-lbaas,Ibf87819d9db72fa5d1bbaeb2019ca94de97f9dd1,Remove Neutron LBaaS,MERGED,2019-06-04 14:14:04.000000000,2019-06-28 05:49:47.000000000,2019-06-28 05:49:47.000000000,11,6,0,663045,33a8cc8492ab5f54b9707811ec11fd04fd1513c5,41,7,4,4,6469,Carlos GonÃ§alves,cgoncalves,"Remove Neutron LBaaS

The project has been retired and there will be no Train release [1].
This patch removes Neutron LBaaS support in tripleo-heat-templates.

[1] https://review.opendev.org/#/c/658494/

Related-Bug: #1831618
Change-Id: Ibf87819d9db72fa5d1bbaeb2019ca94de97f9dd1
"
openstack%2Fironic-python-agent~master~I409d9e3db05eaf11ccaaaef8784d693f40687328,openstack/ironic-python-agent,master,python3-train,I409d9e3db05eaf11ccaaaef8784d693f40687328,Add Python 3 Train unit tests,MERGED,2019-06-13 03:34:05.000000000,2019-06-28 05:44:56.000000000,2019-06-28 05:44:56.000000000,12,6,1,665052,dc3e26ac19b927c50c10362a2fd6d07779d26984,14,7,3,2,24828,Kaifeng Wang,wangkf,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I409d9e3db05eaf11ccaaaef8784d693f40687328
Story: #2005924
Task: #34213
"
openstack%2Fpython-swiftclient~master~I3718f69610545b0dbcb0a2ab45b400da3a45682c,openstack/python-swiftclient,master,,I3718f69610545b0dbcb0a2ab45b400da3a45682c,Isolate docs requirements,MERGED,2019-06-25 22:44:01.000000000,2019-06-28 05:39:48.000000000,2019-06-28 05:39:48.000000000,47,19,0,667477,113eacf3b80f61d366b3e95b558b40f82ff728a4,10,2,3,7,15343,Tim Burke,tburke,"Isolate docs requirements

...since modern sphinx won't install on py27.

While we're at it, clean up some warnings and treat warnings as errors.

Also, fix up how we parse test configs so we can run func tests.

Related-Change: Id3c2ed87230c5918c18e2c01d086df8157f036b1
Change-Id: I3718f69610545b0dbcb0a2ab45b400da3a45682c
"
openstack%2Fneutron~master~I190f7272ae468a8f6cd9d68f33103490f0bacf62,openstack/neutron,master,ovn_job_voting,I190f7272ae468a8f6cd9d68f33103490f0bacf62,Make networking-ovn-tempest-dsvm-ovs-release job voting,MERGED,2019-03-04 16:49:25.000000000,2019-06-28 05:38:45.000000000,2019-06-28 05:38:45.000000000,0,1,0,640812,9f2b08c55991d26b901884ca5cd558e72ee848af,91,16,2,1,13995,Nate Johnston,natejohnston,"Make networking-ovn-tempest-dsvm-ovs-release job voting

Now that tripleo has shifted to use OVN by default, introducing bugs
that break OVN will have a side-effect of breaking tripleo.  Make the
crosscheck job for OVN voting to avoid those kinds of issues.

Change-Id: I190f7272ae468a8f6cd9d68f33103490f0bacf62
"
openstack%2Ftripleo-heat-templates~master~I7e236b838328a7a140a0aba0745bd8ac1db00015,openstack/tripleo-heat-templates,master,bug/1834330,I7e236b838328a7a140a0aba0745bd8ac1db00015,Add /run/libvirt to nova_migration_target container,MERGED,2019-06-26 12:59:46.000000000,2019-06-28 05:26:22.000000000,2019-06-28 05:26:22.000000000,10,0,0,667605,537822d47c455cb9e4184744a91d083f2c89609c,25,15,1,2,17216,Martin Schuppert,mcschupp,"Add /run/libvirt to nova_migration_target container

[1] removed the bind mount from /run inside the nova_migration_target
container. But the nova-migration-wrapper inside the container needs
access to the libvirt socket [2].

This adds the bind mount of /run/libvirt to the nova_migration_target
container to fix live migration issues.

[1] https://review.opendev.org/#/c/662109/
[2] https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31

Change-Id: I7e236b838328a7a140a0aba0745bd8ac1db00015
Closes-Bug: #1834330
"
openstack%2Faodh~master~Idee3216c7c1b4f6391d08649637e619ba1a0ac13,openstack/aodh,master,bug_resolve,Idee3216c7c1b4f6391d08649637e619ba1a0ac13,Byte encoding of member Id,MERGED,2019-06-12 21:41:42.000000000,2019-06-28 05:23:28.000000000,2019-06-28 05:23:28.000000000,8,1,2,665022,9c9112ad1f07fad457cb76612a43394ece840e06,29,5,8,2,28504,Vinay Kapalavai,vkapalav,"Byte encoding of member Id

From stein we will be porting to python3.
To deal with that, when calling for class PartitionCoordinator
the member id need to be encoded in byte format
otherwise it raises MemberNotInGroupError exception.

Closes-Bug: https://storyboard.openstack.org/#!/story/2005894
Change-Id: Idee3216c7c1b4f6391d08649637e619ba1a0ac13
"
openstack%2Fwatcher~master~Ie9e2d4f5b32ee7a5b52bbcd50abfa81dcabab7bb,openstack/watcher,master,instance_create,Ie9e2d4f5b32ee7a5b52bbcd50abfa81dcabab7bb,improve the process of instance_created.end,MERGED,2019-06-21 09:14:53.000000000,2019-06-28 05:15:45.000000000,2019-06-28 02:29:11.000000000,31,1,0,666795,dd321e9f2179e6067b971128b940b4972ae2d34f,9,5,1,2,21692,licanwei,licanwei,"improve the process of instance_created.end

In the process of handling instance_created.end,
there is a KeyError exception output log. This is because
invoking get_instance_by_uuid before creating the instance
in the data model.
During the review of https://review.opendev.org/#/c/663489/,
reviewers think that it's better to remove the KeyError exception.
This patche seperates the process of instance_created.end from
other Nova notifications and removes the call of get_instance_by_uuid.

Change-Id: Ie9e2d4f5b32ee7a5b52bbcd50abfa81dcabab7bb
"
openstack%2Ftricircle~master~I661918c66aca69d9e99732d0f5910687e39b8787,openstack/tricircle,master,s30,I661918c66aca69d9e99732d0f5910687e39b8787,update our tox version,MERGED,2019-06-28 02:28:42.000000000,2019-06-28 04:46:28.000000000,2019-06-28 04:46:28.000000000,1,1,0,668079,c7f79f8149c9041b311c7d62f62d5e41a2359d1c,6,2,1,1,27215,baisen,songbaisen,"update our tox version

the tox version we used are too old.

Change-Id: I661918c66aca69d9e99732d0f5910687e39b8787
Signed-off-by: song baisen <songbaisen@szzt.com.cn>
Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>
"
openstack%2Fceilometer~master~I766163d2d9c5483a40169b74fd5b3a65d84829aa,openstack/ceilometer,master,bug/1808269,I766163d2d9c5483a40169b74fd5b3a65d84829aa,Change in Ceilometer release notes:,ABANDONED,2018-12-13 04:58:02.000000000,2019-06-28 04:45:54.000000000,,3,3,1,624857,461bd1522342223dc39a917323db3b572fcc615b,16,7,2,2,29360,Prankul Mahajan,prankul,"Change in Ceilometer release notes:

Grammatical error in docs.
""The deprecated meter for compute where removed:""
is replaced by
""These deprecated meters for compute were removed:""

Change-Id: I766163d2d9c5483a40169b74fd5b3a65d84829aa
Closes-bug: #1808269
"
openstack%2Fceilometer~master~I1020cdaafbeba1320a289808bf73cee86ccadbc3,openstack/ceilometer,master,py36-first,I1020cdaafbeba1320a289808bf73cee86ccadbc3,Add python 3.6 unit test job,ABANDONED,2018-11-08 02:53:51.000000000,2019-06-28 04:45:30.000000000,,1,1,0,616399,de567e311a7da42edb611581a2d6792f5e58f9c3,10,6,1,1,28956,Nguyen Hai Truong,truongnh,"Add python 3.6 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.6 as part of the python3-first goal.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I1020cdaafbeba1320a289808bf73cee86ccadbc3
"
openstack%2Fmurano~master~Id506aad04b878ba516872ef0169664f47f6eaab0,openstack/murano,master,,Id506aad04b878ba516872ef0169664f47f6eaab0,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 08:15:34.000000000,2019-06-28 04:25:17.000000000,2019-06-28 04:25:17.000000000,66,66,4,654827,ecf8effdfae208e86133e329f5c6a514cf346bc4,33,4,7,26,27781,zhulingjie,zhulingjie,"Replace git.openstack.org URLs with opendev.org URLs

Thorough replacement of git.openstack.org URLs with their opendev.org counterparts.

Change-Id: Id506aad04b878ba516872ef0169664f47f6eaab0
"
openstack%2Freleases~master~If34deae6a6290be40f3d3b286b0af0d902716ce2,openstack/releases,master,ironic-inspector-client,If34deae6a6290be40f3d3b286b0af0d902716ce2,Release python-ironic-inspector-client 3.6.1 for Train,MERGED,2019-06-27 15:32:52.000000000,2019-06-28 03:15:04.000000000,2019-06-28 03:15:04.000000000,4,0,0,667964,a7ee2e510a9e986bda857299fd81866dddace480,9,6,1,1,10239,Dmitry Tantsur,dtantsur,"Release python-ironic-inspector-client 3.6.1 for Train

This release fixes a regression in 3.6.0 that broke TripleO.

Change-Id: If34deae6a6290be40f3d3b286b0af0d902716ce2
"
openstack%2Ftricircle~master~I8c74f4fec5bce2762bab51b1aff52b090719e433,openstack/tricircle,master,s29,I8c74f4fec5bce2762bab51b1aff52b090719e433,Switch DB _utils to new engine facade,MERGED,2019-06-28 01:16:13.000000000,2019-06-28 03:08:43.000000000,2019-06-28 03:08:43.000000000,2,1,0,668075,496d152ceb7ed42eac76e123f3a282d554e9dae8,6,2,1,1,27215,baisen,songbaisen,"Switch DB _utils to new engine facade

Change-Id: I8c74f4fec5bce2762bab51b1aff52b090719e433
Signed-off-by: song baisen <songbaisen@szzt.com.cn>
Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>
"
openstack%2Fplacement~master~I33a4f529660057e00e6da25fa4fb4263854819d1,openstack/placement,master,story/2005842,I33a4f529660057e00e6da25fa4fb4263854819d1,Mention OsProfiler in the testing doc,MERGED,2019-06-26 12:52:39.000000000,2019-06-28 02:38:40.000000000,2019-06-28 02:38:40.000000000,34,0,7,667604,243757dde63839bd1aa6e415223d934402355a57,17,4,3,1,9708,Balazs Gibizer,gibi,"Mention OsProfiler in the testing doc

Since I5a0e805fe04c00c5e7cf316f0ea8d432b940e560 OsProfiler can be used
with extracted placement service to trace the wsgi endpoint. This patch
adds documentations to help using the OsProfiler.

Story: 2005842
Task: 34191
Change-Id: I33a4f529660057e00e6da25fa4fb4263854819d1
"
openstack%2Frequirements~master~I1b570061f2d23889a2bbcab4dfa2725b99cea1dd,openstack/requirements,master,openstack/requirements/constraints/noclob,I1b570061f2d23889a2bbcab4dfa2725b99cea1dd,Updated from generate-constraints,MERGED,2019-06-27 06:20:55.000000000,2019-06-28 02:38:38.000000000,2019-06-28 02:38:37.000000000,9,9,0,667790,c468983657ce53328a22c5beb550ea992d4b96dc,9,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I1b570061f2d23889a2bbcab4dfa2725b99cea1dd
"
openstack%2Fneutron~master~If36b56e508fb8ac941ad2f37e483465acb1292a1,openstack/neutron,master,bluefield,If36b56e508fb8ac941ad2f37e483465acb1292a1,[Follow Up] Add Smart NIC representor port to integration bridge,MERGED,2019-05-29 10:22:06.000000000,2019-06-28 02:38:33.000000000,2019-06-28 02:38:33.000000000,110,0,10,661932,bddad0e1aeace0a426b144d625179a398d477726,76,12,4,1,22948,Hamdy Khader,hamdyk,"[Follow Up] Add Smart NIC representor port to integration bridge

Added fulstack tests for L2 OVS agent's ability to bind SmartNIC ports

Change-Id: If36b56e508fb8ac941ad2f37e483465acb1292a1
"
openstack%2Fcyborg-tempest-plugin~master~I116c662f1a6f5489fe06841b6a3c7a7ecccfc848,openstack/cyborg-tempest-plugin,master,tempest-sanity-gate,I116c662f1a6f5489fe06841b6a3c7a7ecccfc848,Enable plugin list feature and add gate job to merge patches,MERGED,2019-05-16 23:16:55.000000000,2019-06-28 02:30:40.000000000,2019-06-28 02:30:40.000000000,38,9,0,659687,6f6d3ee3610a49d91de3b04da575b72cbc010160,17,8,5,8,5689,Masayuki Igawa,igawa,"Enable plugin list feature and add gate job to merge patches

This commit enables to run `tempest list-plugins` and `tox -e py37`
successfully. This makes the tempest plugin sanity job pass, too. And
this commit also fixes README.rst tiny errors to pass the gate check.

Also add the gate job, this can make merge patches.

Co-Authored-By: zhurong <aaronzhu1121@gmail.com>
Change-Id: I116c662f1a6f5489fe06841b6a3c7a7ecccfc848
"
openstack%2Fwatcher~master~I3fad8d30a15aba493fb91da9337c2515ddea5167,openstack/watcher,master,bug/1834392,I3fad8d30a15aba493fb91da9337c2515ddea5167,Add uWSGI support,MERGED,2019-06-21 06:50:29.000000000,2019-06-28 02:29:16.000000000,2019-06-28 02:29:16.000000000,120,47,6,666779,c1a5e443fee632192af0b4f8488d900bbbba6149,39,4,15,7,21692,licanwei,licanwei,"Add uWSGI support

This patch implements uWSGI support for Watcher API service.
Because mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.
Most of Openstack projects have finished it.

Closes-Bug: #1834392
Change-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167
"
openstack%2Fwatcher~master~I7e441608b38338eecd80e663ed3abe66a89e504f,openstack/watcher,master,bug/1831917,I7e441608b38338eecd80e663ed3abe66a89e504f,Configure nova notification format in non-grenade CI jobs,MERGED,2019-06-05 13:34:38.000000000,2019-06-28 02:29:14.000000000,2019-06-28 02:29:14.000000000,21,0,17,663332,966a4dfa5f030d4b88e4902c9f762a2d6213a670,59,6,12,3,6873,Matt Riedemann,mriedem,"Configure nova notification format in non-grenade CI jobs

Nova used to emit versioned and unversioned notiifcations
by default but that changed in https://review.opendev.org/603079/
so now nova emits only unversioned notifications by default.
Watcher listens for versioned notifications so we need to configure
nova to emit both versioned (for Watcher) and unversioned
(for Ceilometer) notifications explicitly.

This adds an override-defaults file so devstack will load up
the nova devstack variable to set the notification_format before
importing and stacking the nova lib script.

Note that this only fixes the non-grenade CI jobs since grenade
requires separate handling for overriding defaults which is proving
hard to do and will be addressed in a separate change.

Partial-Bug: #1831917

Change-Id: I7e441608b38338eecd80e663ed3abe66a89e504f
"
openstack%2Fwatcher-dashboard~master~I4de2134c2505f8c6c4255e489f18fa31c915ef25,openstack/watcher-dashboard,master,Bug#1,I4de2134c2505f8c6c4255e489f18fa31c915ef25,Add py37 in tox.ini and setup.cfg file,MERGED,2019-06-26 06:10:08.000000000,2019-06-28 02:29:13.000000000,2019-06-28 02:29:12.000000000,2,1,1,667515,31ee1007cdd30dfcdfefe81e891ed5d133a9a50b,10,13,2,2,27822,pengyuesheng,pengyuesheng,"Add py37 in tox.ini and setup.cfg file

Change-Id: I4de2134c2505f8c6c4255e489f18fa31c915ef25
"
openstack%2Ftripleo-quickstart-extras~master~Id8e90da9e0cc0d3efd17022ac3d5f1258f9467b3,openstack/tripleo-quickstart-extras,master,retire-tempest-tripleo-ui,Id8e90da9e0cc0d3efd17022ac3d5f1258f9467b3,Remove reference to tempest-tripleo-ui,MERGED,2019-06-27 17:33:37.000000000,2019-06-28 02:24:06.000000000,2019-06-28 02:24:05.000000000,1,2,0,667999,4cd07f0a6cb962b06e5f07b8ee0da02e6ba9348d,8,4,1,1,14985,Alex Schultz,mwhahaha,"Remove reference to tempest-tripleo-ui

The repository is being retired.

Change-Id: Id8e90da9e0cc0d3efd17022ac3d5f1258f9467b3
"
openstack%2Ftripleo-heat-templates~master~I17d7f3c1a48f6f8d4f52e01cd26af825450c099a,openstack/tripleo-heat-templates,master,fix-zuul-deps,I17d7f3c1a48f6f8d4f52e01cd26af825450c099a,Skip standalone deploys if tox jobs fail,MERGED,2019-06-21 02:53:12.000000000,2019-06-28 02:24:04.000000000,2019-06-28 02:24:04.000000000,8,0,0,666755,45fa045942485a5702596a3c9fc6334db8ea2de0,27,5,1,1,14985,Alex Schultz,mwhahaha,"Skip standalone deploys if tox jobs fail

We've excluded most jobs from running if the tox jobs fail but we were
still running the standalone jobs. Let's skip those too if pep8 or the
unit tests fail.

Change-Id: I17d7f3c1a48f6f8d4f52e01cd26af825450c099a
"
openstack%2Fwatcher~master~I6976759629a4feedee09261cc1dac935e050202a,openstack/watcher,master,bug/1833665,I6976759629a4feedee09261cc1dac935e050202a,Add name for instance in Watcher datamodel,MERGED,2019-05-21 08:48:26.000000000,2019-06-28 02:20:27.000000000,2019-06-28 02:20:27.000000000,9,0,43,660295,b62965c2bf2706eb1ec5dd3e12bc8c339a98364e,33,7,5,3,28748,chenker,chenke,"Add name for instance in Watcher datamodel

Now Watcher's datamodel uses human_id to store the display_name
of the intance. But the value of human_id is not reliable. About
the reason, please see[1].

The solution is to add a 'name' field to save the display_name of
the instance, and ensure that the value of this field is the same
when the datamodel is created and when the datamodel is updated.

About the 'human_id', We will remove it in the future.

References:
[1]. https://bugs.launchpad.net/watcher/+bug/1833665

20190619 Watcher meeting IRC Log:
[1]. http://eavesdrop.openstack.org/irclogs/%23openstack-watcher/%23openstack-watcher.2019-06-19.log.html
[2]. http://eavesdrop.openstack.org/meetings/watcher/2019/watcher.2019-06-19-08.00.log.html#l-47

Change-Id: I6976759629a4feedee09261cc1dac935e050202a
Closes-Bug: #1833665
"
openstack%2Fmanila~master~I7cdbc9bc5645ddf5ef9d42af1a6bb5f8604cb0ef,openstack/manila,master,assert,I7cdbc9bc5645ddf5ef9d42af1a6bb5f8604cb0ef,Fix an invalid assert state,MERGED,2019-06-27 09:15:36.000000000,2019-06-28 01:45:40.000000000,2019-06-28 01:45:40.000000000,1,1,0,667828,10bb9e8efc3b2c8c8c2d6168d1e215fb354b355e,14,10,1,1,20190,zhufl,zhufl,"Fix an invalid assert state

in self.assertTrue(2, mock_db_delete_call.call_count), assertEqual
should be used.

Change-Id: I7cdbc9bc5645ddf5ef9d42af1a6bb5f8604cb0ef
"
openstack%2Fnova~stable%2Fstein~I79b40ca40400c67b0805926096317afd875ffabb,openstack/nova,stable/stein,bug/1816468,I79b40ca40400c67b0805926096317afd875ffabb,Fix python3 compatibility of rbd get_fsid,MERGED,2019-06-11 07:39:24.000000000,2019-06-28 01:44:56.000000000,2019-06-28 01:44:55.000000000,10,1,0,664512,b4b47a59c7ff1d60e69dbdea07de9163948cb680,35,12,3,2,6737,Edward Hope-Morley,hopem,"Fix python3 compatibility of rbd get_fsid

In py3 librados's get_fsid() function returns a binary string
which breaks comparison when compared with the same value as a
string. This is currently breakin the logic that compares ceph
cluster fsids when deciding whether the image used to boot an
instance is cow-clonable.

Change-Id: I79b40ca40400c67b0805926096317afd875ffabb
Closes-Bug: #1816468
(cherry picked from commit e8b6b0bc78ec229803d1d27f8a4706e2c425bd77)
"
openstack%2Fnova~stable%2Fstein~I0a413eb4f8a94500941e53b9a294d7cdb45d2a1c,openstack/nova,stable/stein,bug/1781300,I0a413eb4f8a94500941e53b9a294d7cdb45d2a1c,Noop CantStartEngineError in targets_cell if API DB not configured,MERGED,2019-06-04 13:32:51.000000000,2019-06-28 01:44:49.000000000,2019-06-28 01:44:49.000000000,43,1,0,663030,d4bc147c38c5fe7c4adb5925225ced16d2ff4757,40,10,1,2,6873,Matt Riedemann,mriedem,"Noop CantStartEngineError in targets_cell if API DB not configured

For reschedules during resize (migrate_server method),
the InstanceMapping query in targets_cell is an ""up call""
to the API DB which will fail with a CantStartEngineError
if the cell conductor is not configured for the API DB.

This changes the targets_cell decorator to handle the
CantStartEngineError and if the API DB is not configured,
we assume we're in the cell conductor and just ignore the
error, otherwise if the API DB is configured we assume
we're in the super-conductor and reraise as before.

Change-Id: I0a413eb4f8a94500941e53b9a294d7cdb45d2a1c
Closes-Bug: #1781300
(cherry picked from commit 22dd4fca3837d6cea3f983b021aa6907695a540b)
"
openstack%2Fpython-cinderclient~master~I84f590e25c08327461b92164db6bea2aa43e0091,openstack/python-cinderclient,master,openstackdocstheme,I84f590e25c08327461b92164db6bea2aa43e0091,Bump openstackdocstheme to 1.30.0,ABANDONED,2019-06-27 02:53:07.000000000,2019-06-28 01:41:53.000000000,,1,1,0,667776,d2b6598dbee5889d4a521e14b2d10f217600adc2,4,13,1,1,27822,pengyuesheng,pengyuesheng,"Bump openstackdocstheme to 1.30.0

...to pick up many improvements, including the return of table borders.

Change-Id: I84f590e25c08327461b92164db6bea2aa43e0091
"
openstack%2Fmurano~master~I37d64aca485eb81ac16d7d85d5b695e573c8793c,openstack/murano,master,bindep-fallback,I37d64aca485eb81ac16d7d85d5b695e573c8793c,Add local bindep.txt,MERGED,2019-06-25 16:56:22.000000000,2019-06-28 01:41:20.000000000,2019-06-28 01:41:20.000000000,21,0,2,667410,ddd5378ac8535b48e5ae2885b3187a5b1b88b766,18,4,4,2,17685,Elod Illes,elod.illes,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c
"
openstack%2Fdevstack-plugin-ceph~master~Id82af708240bf818e4afa961cdbeb3a7c0d4c22a,openstack/devstack-plugin-ceph,master,bug/1653953,Id82af708240bf818e4afa961cdbeb3a7c0d4c22a,Remove test_shelve_instance scenario blacklist from .zuul.yaml,ABANDONED,2019-06-28 01:37:38.000000000,2019-06-28 01:40:47.000000000,,2,2,1,668076,1cb5aec643952f9f8856c0b3312cb226586d01cf,3,1,1,1,6873,Matt Riedemann,mriedem,"Remove test_shelve_instance scenario blacklist from .zuul.yaml

We don't need the test_shelve_instance scenario test in the
blacklist regex because the plugin.sh script already configures
tempest with [compute_feature_enabled]shelve=False so the scenario
tests will already be skipped so the blacklist regex entry is
redundant.

Change-Id: Id82af708240bf818e4afa961cdbeb3a7c0d4c22a
Related-Bug: #1653953
"
openstack%2Fnova-specs~master~I86ff95a3de63979c453af271c4dcd8bd0e80ca3b,openstack/nova-specs,master,bp/enable-rebuild-for-instances-in-cell0,I86ff95a3de63979c453af271c4dcd8bd0e80ca3b,Enable rebuild for instances in cell0,MERGED,2019-03-29 13:35:38.000000000,2019-06-28 01:26:56.000000000,2019-06-28 01:26:56.000000000,278,0,46,648686,fecd4635c343b03ac64dd2bd714a506c8134ef32,31,5,4,1,27057,Theodoros Tsioutsias,ttsiouts,"Enable rebuild for instances in cell0

Presently, it is allowed to rebuild servers in ERROR state, as long
as they have successfully started up before.

If a user tries to rebuild an instance in cell0, the request fails
with an exception of type InstanceInvalidState.

This spec summarizes the changes needed to enable the rebuilding of
instances that failed during creation.

Previously-approved: Stein
Change-Id: I86ff95a3de63979c453af271c4dcd8bd0e80ca3b
Implements: blueprint enable-rebuild-for-instances-in-cell0
"
openstack%2Fneutron~master~Ia3c261b4fccd637691ad442038fb301b0eeb8258,openstack/neutron,master,fix-of-config-options-help,Ia3c261b4fccd637691ad442038fb301b0eeb8258,Fix of_* config options help messages,MERGED,2019-06-26 10:35:49.000000000,2019-06-28 01:23:27.000000000,2019-06-28 01:23:27.000000000,5,10,0,667575,547d694fa160033a642ccf3f060630de57a9f04d,17,8,1,1,11975,Slawek Kaplonski,slaweq,"Fix of_* config options help messages

In patch [1] of_interface config option was removed and now
there is only ""native"" driver available.
So there is no need to mention in description of of_* config
options that option is used only for 'native' driver. It is
used always now.

TrivialFix

[1] https://review.opendev.org/#/c/599496/

Change-Id: Ia3c261b4fccd637691ad442038fb301b0eeb8258
"
openstack%2Fneutron~master~I2d17f8eaf4d74ae2081f82e3c1a09bdc80b1d701,openstack/neutron,master,bug/1833589,I2d17f8eaf4d74ae2081f82e3c1a09bdc80b1d701,Add default value to agent create_or_update_agent new param,MERGED,2019-06-19 05:36:25.000000000,2019-06-28 01:23:24.000000000,2019-06-28 01:23:24.000000000,2,1,0,666224,0963ce94e01028f8aec3b3af607a2c4d322ec62a,82,16,5,1,20363,Adit Sarfaty,asarfaty,"Add default value to agent create_or_update_agent new param

Commit Ifc88dfb3041aa07b197f395172b69399796ba46a recently added a
new agent_timestamp parameter to create_or_update_agent.
As some other projects use this api, the change should have been
backwards compatible.
Adding default to None will solve this issue.

Closes-Bug: #1833589
Change-Id: I2d17f8eaf4d74ae2081f82e3c1a09bdc80b1d701
"
openstack%2Fmistral~master~I9d8e99e7174f2d643ec319b946a6ba3364329112,openstack/mistral,master,Bug#5,I9d8e99e7174f2d643ec319b946a6ba3364329112,Add the deps to testenv of releasenotes,ABANDONED,2019-06-27 02:35:56.000000000,2019-06-28 01:11:16.000000000,,1,0,0,667772,d0ccc5e7c06ea3d019d7e81aff963bebac71d8d9,9,2,2,1,27822,pengyuesheng,pengyuesheng,"Add the deps to testenv of releasenotes

Change-Id: I9d8e99e7174f2d643ec319b946a6ba3364329112
"
openstack%2Fcloudkitty~master~I88053b68f048839dec23cd5db10ce42a6d98732f,openstack/cloudkitty,master,Bug#1,I88053b68f048839dec23cd5db10ce42a6d98732f,Follow the new PTI for document build,ABANDONED,2019-06-27 03:15:36.000000000,2019-06-28 01:10:42.000000000,,10,7,0,667780,fb2f94cd82e1b526de61e9cb3d98bf5c41a4c687,3,1,1,3,27822,pengyuesheng,pengyuesheng,"Follow the new PTI for document build

The detail is described in the following links:
https://governance.openstack.org/tc/reference/project-testing-interface.html
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

doc8 command is dropped from docs and releasenotes tox envs.
We run doc8 in pep8 tox env, so this hurts nothing.

Change-Id: I88053b68f048839dec23cd5db10ce42a6d98732f
"
openstack%2Fopenstack-ansible~master~Id6c2ebd945bb2748facd33421f2cf64ef846185c,openstack/openstack-ansible,master,fix-octavia,Id6c2ebd945bb2748facd33421f2cf64ef846185c,Restrict the number of sahara processes and threads in AIO,MERGED,2019-06-27 18:44:44.000000000,2019-06-28 00:59:30.000000000,2019-06-28 00:59:30.000000000,4,0,0,668019,85b91bcaabd461d40ca12eb861bd5a43ecc9c4db,7,3,1,1,28008,Guilherme,guilhermesp,"Restrict the number of sahara processes and threads in AIO

Change-Id: Id6c2ebd945bb2748facd33421f2cf64ef846185c
"
openstack%2Fopenstack-ansible~master~Ia5fda5d417b79189d048c8891b84d57331df1404,openstack/openstack-ansible,master,fix-octavia,Ia5fda5d417b79189d048c8891b84d57331df1404,Fix octaiva amphora ram variable name,MERGED,2019-06-27 08:51:01.000000000,2019-06-28 00:59:29.000000000,2019-06-28 00:59:29.000000000,1,1,0,667809,2b065260db6bcbfa44c43d3d118e938a3d8f6113,13,4,1,1,25023,Jonathan Rosser,jrosser,"Fix octaiva amphora ram variable name

Change-Id: Ia5fda5d417b79189d048c8891b84d57331df1404
"
openstack%2Faodh~master~I1e38cfb4cd4e38be49f4c3adc1dcb447c8e01552,openstack/aodh,master,,I1e38cfb4cd4e38be49f4c3adc1dcb447c8e01552,TEST,ABANDONED,2019-06-27 02:24:41.000000000,2019-06-28 00:53:01.000000000,,8,1,0,667771,a2ab4fc24b4dcfc9293a40fe9524b059d9ab7156,3,2,1,2,14107,zhurong,zhurong,"TEST

Change-Id: I1e38cfb4cd4e38be49f4c3adc1dcb447c8e01552
"
openstack%2Fmistral~master~I9ab552dd4bf3826f358d73a4bddaf1885b1be130,openstack/mistral,master,add_bindep_txt_file,I9ab552dd4bf3826f358d73a4bddaf1885b1be130,Add bindep.txt file for binary dependencies used in unit tests,MERGED,2019-06-27 09:55:26.000000000,2019-06-28 00:07:24.000000000,2019-06-28 00:07:23.000000000,8,0,0,667834,26f6e19299e43c443db4002fe1d3a98084adf4fb,11,3,4,1,8731,Renat Akhmerov,rakhmerov,"Add bindep.txt file for binary dependencies used in unit tests

Depends-On: I58f1943d427c83c72e9bf17f99f3f870ba7d008b
Change-Id: I9ab552dd4bf3826f358d73a4bddaf1885b1be130
"
openstack%2Fopenstack-ansible~master~Ided0d56d2bd491142e9c098252ed5c0f8d04f831,openstack/openstack-ansible,master,,Ided0d56d2bd491142e9c098252ed5c0f8d04f831,Add aio_metal and aio_distro_metal openSUSE 15 jobs,MERGED,2019-06-18 17:02:42.000000000,2019-06-27 23:43:16.000000000,2019-06-27 23:43:16.000000000,20,3,2,666058,f7413bdc10acf2120b4d326208fd4265bd44a086,18,5,4,2,6593,Dirk Mueller,dmllr,"Add aio_metal and aio_distro_metal openSUSE 15 jobs

opensuse-15 is a nodepool image set referring to the latest
enabled openSUSE 15.x release, currently pointing to openSUSE 15.1.

We'd like to transition away from 15.0 as soon as possible. As
part of the rename to 15 we can actually now test against the
latest minor leap 15.x release without continuous job maintenance
effort.

In order to find problems and test stability of the opensuse-15
distro_metal job we add a periodic job to monitor it for the next ~ 1
month and then redecide.

Change-Id: Ided0d56d2bd491142e9c098252ed5c0f8d04f831
"
openstack%2Fopenstack-ansible-os_ironic~master~Ib8f67b195d1d74cc7997822fa1f5f0ac2176393d,openstack/openstack-ansible-os_ironic,master,remove_old_vars,Ib8f67b195d1d74cc7997822fa1f5f0ac2176393d,Use ironic credentials when connecting to other APIs.,MERGED,2019-06-27 15:14:45.000000000,2019-06-27 23:32:56.000000000,2019-06-27 23:32:56.000000000,6,10,0,667957,9f0d4d3b33d4d45163d09dcac2ca26d48b5fe8ce,7,3,1,1,17068,Jean-Philippe Evrard,evrardjp,"Use ironic credentials when connecting to other APIs.

When ironic is connecting to another service's API, it should use
its own credentials to obtain an authtoken with keystone.

Without this patch, ironic deployment would fail with an undefined
variable ""neutron_service_adminurl"", which is not required.

It is not defined since a patch removed it from the group vars.

[1]: https://review.opendev.org/#/c/658178/

Change-Id: Ib8f67b195d1d74cc7997822fa1f5f0ac2176393d
"
openstack%2Ftripleo-heat-templates~master~I947f6a4c65a9ef6a9220a07098f4c91507711cf6,openstack/tripleo-heat-templates,master,bug/1824840,I947f6a4c65a9ef6a9220a07098f4c91507711cf6,ceilometer_agent_notification: disable-panko.yaml,MERGED,2019-04-15 15:36:46.000000000,2019-06-27 23:09:01.000000000,2019-06-27 23:09:00.000000000,10,8,4,652699,8fac4c4334ad2b2ef67040d053a58a9ba8857425,43,7,7,1,28504,Vinay Kapalavai,vkapalav,"ceilometer_agent_notification: disable-panko.yaml

ceilometer-agent-notification.yaml updated the
kolla_config section in template file to include
nothing related to panko when disable-panko env file is passed.

Closes-Bug: #1824840

Change-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6
"
openstack%2Fdiskimage-builder~master~Id73e913300cf3f0aaea05f7c2e8fdcb753421d04,openstack/diskimage-builder,master,nodepool-func,Id73e913300cf3f0aaea05f7c2e8fdcb753421d04,Replace nodepool func jobs,MERGED,2019-06-24 20:41:02.000000000,2019-06-27 23:00:33.000000000,2019-06-27 23:00:33.000000000,177,7,12,667221,d32329f596ee881d9ebd4278c26ee817a946d937,65,7,11,3,1,James E. Blair,corvus,"Replace nodepool func jobs

These are new nodepool functional jobs designed to give more
flexibility to the DIB/clean projects to define what they need
to test.  Otherwise, they behave very similarly to the current
nodepool functional jobs

Depends-On: https://review.opendev.org/665023
Change-Id: Id73e913300cf3f0aaea05f7c2e8fdcb753421d04
"
openstack%2Fopenstack-ansible-os_zun~master~Ib975a6d7e81bad87bc7025b0e682081ceeff8da1,openstack/openstack-ansible-os_zun,master,,Ib975a6d7e81bad87bc7025b0e682081ceeff8da1,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-05-05 13:21:22.000000000,2019-06-27 22:54:03.000000000,2019-06-27 22:54:03.000000000,18,18,0,657270,5123fcda0f698e03a432ab46b7cc71475f6465fe,17,3,3,3,17130,melissaml,malei,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ib975a6d7e81bad87bc7025b0e682081ceeff8da1
"
openstack%2Fkolla~stable%2Fstein~I1d69ec0ca97dbbacccfe737fca03c9739244b900,openstack/kolla,stable/stein,fix-ceph-nfs-deploy-stable/stein,I1d69ec0ca97dbbacccfe737fca03c9739244b900,Fix deployment of ceph-nfs container failing due to wrong USER,MERGED,2019-06-27 09:10:34.000000000,2019-06-27 22:25:07.000000000,2019-06-27 22:25:07.000000000,0,3,0,667824,f13852289da0ba996cf03b5773facacb9ab2085b,9,5,1,1,14826,Mark Goddard,mgoddard,"Fix deployment of ceph-nfs container failing due to wrong USER

The startup script requires to be run as root, not ceph.
All other ceph images follow this rule.

Also removed redundant blank line.

Change-Id: I1d69ec0ca97dbbacccfe737fca03c9739244b900
Signed-off-by: RadosÅ‚aw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit dc879dff3bf5cea9d64469395fe140b2ac7e4a3d)
"
openstack%2Fdevstack-plugin-ceph~master~Idfac4883b9d31e80124b8f2f1cc60dd9ce18c594,openstack/devstack-plugin-ceph,master,,Idfac4883b9d31e80124b8f2f1cc60dd9ce18c594,Add ceph-iscsi support,MERGED,2019-06-24 21:39:24.000000000,2019-06-27 21:44:37.000000000,2019-06-27 21:44:37.000000000,180,0,0,667232,ff1b4231783e2935d7ce1dc07f7af4adc6f05c96,16,3,7,1,5997,Walt,walter-boring,"Add ceph-iscsi support

This patch adds support for installing, configuring all required
ceph-iscsi related packages and daemons. ceph-iscsi requires kernel
version 4.16 or greater.

To enable set
ENABLE_CEPH_ISCSI=True

Adds new config options
CEPH_ISCSI_TARGET_IQN - the rbd-target-gw iqn to use to export volumes
CEPH_ISCSI_API_HOST - the rbd-target-api ip to use to listen on
CEPH_ISCSI_API_PORT - the rbd-target-api port
CEPH_ISCSI_API_USER - the rbd-target-api user for auth against the api
CEPH_ISCSI_API_PASSWORD - the rbd-target-api password for auth against the api

The following packages are required and their deps
tcmu-runner - this requires kernel version 4.16 and > to work.  Ubuntu
doesn't have a prebuilt package for this, so we pull it down and compile it.
rtslib-fb - has a pypi package
configshell-fb - has a pypi package
targetcli-fb - doesn't have a pypi package.
ceph-iscsi - doesn't have a pypi package.

The reference documentaion to setup ceph-iscsi targets and daemons:
http://docs.ceph.com/docs/master/rbd/iscsi-target-cli-manual-install

Change-Id: Idfac4883b9d31e80124b8f2f1cc60dd9ce18c594
"
openstack%2Fdiskimage-builder~master~I4209c6d81e4cd9198554028ef50f1e1d7a14b67e,openstack/diskimage-builder,master,cloud-init,I4209c6d81e4cd9198554028ef50f1e1d7a14b67e,Fix cloud-init element for Fedora,NEW,2019-02-25 15:42:44.000000000,2019-06-27 21:08:08.000000000,,11,0,3,639136,1d6f3c539c16a42d0f78102eb81d14ac00a67c9e,8,6,1,1,17799,Logan V,Logan2211,"Fix cloud-init element for Fedora

The cloud-init element had 2 problems on Fedora 29 builds:
1) The cloud-init systemd units are not enabled upon installation,
   so cloud-init never runs after booting the image.

2) dbus-daemon must also be enabled or else cloud-init will fail
   to set the system hostname with hostnamectl.

Change-Id: I4209c6d81e4cd9198554028ef50f1e1d7a14b67e
"
openstack%2Ftripleo-quickstart~master~I16fab1835a0a40b690f1cc62afae01e4c812db2d,openstack/tripleo-quickstart,master,ta-repo,I16fab1835a0a40b690f1cc62afae01e4c812db2d,Add tripleo-ansible to tripleo packages in current,MERGED,2019-06-20 16:15:08.000000000,2019-06-27 20:59:05.000000000,2019-06-27 20:59:05.000000000,2,0,3,666627,ca88f618588c04d6c0cf88a78bb97aebac6f95ad,26,8,2,2,10969,Shnaidman Sagi (Sergey),sergsh,"Add tripleo-ansible to tripleo packages in current

We need to use in jobs the newest tripleo-ansible packages as it's
done for all other tripleo related packages.

Change-Id: I16fab1835a0a40b690f1cc62afae01e4c812db2d
"
openstack%2Frelease-schedule-generator~master~Ife4723a8dd2178de5d786c0e7f918d2fcc988230,openstack/release-schedule-generator,master,,Ife4723a8dd2178de5d786c0e7f918d2fcc988230,Update home-page,ABANDONED,2019-01-11 11:10:37.000000000,2019-06-27 20:49:31.000000000,,1,1,1,630149,93edab4a69cd9f0f110680df99f941ac300c4581,9,5,2,1,26297,pippo,huang.zhiping,"Update home-page

Change-Id: Ife4723a8dd2178de5d786c0e7f918d2fcc988230
"
openstack%2Fopenstack-ansible-os_tempest~master~Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5,openstack/openstack-ansible-os_tempest,master,py3,Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5,Update the list of python3 packages,MERGED,2019-05-29 14:12:02.000000000,2019-06-27 20:37:37.000000000,2019-06-27 20:37:37.000000000,47,0,25,661994,a0bc2dd8ee84d6929c68a82784c69e61d3c5c78c,69,16,16,2,24162,Sorin SbÃ¢rnea,ssbarnea,"Update the list of python3 packages

Change-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5
Co-authored-by: Sorin Sbarnea <ssbarnea@redhat.com>
Co-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fneutron~master~Ib14bb31af0e78378123cc64084c613f0caced912,openstack/neutron,master,bug/1719494,Ib14bb31af0e78378123cc64084c613f0caced912,Fix compatibility for ip/subnet when create fip,ABANDONED,2017-09-22 06:10:28.000000000,2019-06-27 19:58:06.000000000,,29,7,10,506532,1757c654cf10d692547ca6fd8b41031bf4226cae,32,10,3,2,19956,Yang Li,leonstack,"Fix compatibility for ip/subnet when create fip

When create a fip with subnet_id and ip option specified,
the created fip won't be the ip specified, in the original
code, it will be replaced with subnet_id, and it will confuse
users

Closes-Bug: 1719494
Change-Id: Ib14bb31af0e78378123cc64084c613f0caced912
"
openstack%2Fdevstack~stable%2Frocky~I0d7f9f2baaee2836a719f199939156bd4f53f778,openstack/devstack,stable/rocky,neutron-legacy,I0d7f9f2baaee2836a719f199939156bd4f53f778,Use neutron-legacy on subnodes in devstack zuul job,MERGED,2019-06-24 20:26:57.000000000,2019-06-27 19:48:00.000000000,2019-06-27 19:48:00.000000000,4,1,0,667218,9ffa9aa53b6b7996b082a67e35c283c3ead3bb37,16,6,3,1,11975,Slawek Kaplonski,slaweq,"Use neutron-legacy on subnodes in devstack zuul job

There are still some issues with lib/neutron thus neutron-legacy is used
on controller node in multinode jobs and in single node jobs.
But in ""group-vars"" in devstack job it was configured to use
lib/neutron which can cause some problems in multinode jobs.

So lets switch to neutron-legacy on subnodes also until lib/neutron
will be ready to use everywhere.

Closes-Bug: #1834079

Change-Id: I0d7f9f2baaee2836a719f199939156bd4f53f778
(cherry picked from commit 1b15176b0598f00c442c3b40985df30204dc6963)
(cherry picked from commit 7a6b3c8a97c8d5e423e2df1a734d073d30442dcf)
"
openstack%2Fkolla~master~I6bf0cbfaffc22147c5bec03b5897719de53366ed,openstack/kolla,master,,I6bf0cbfaffc22147c5bec03b5897719de53366ed,Move back to CentOS StorageSIG repos for Ceph and Ganesha,MERGED,2019-06-18 15:09:52.000000000,2019-06-27 19:02:35.000000000,2019-06-27 19:02:34.000000000,4,23,4,666015,cf47864ab1e4fa6192ea96727d01b3e935b7a1fc,62,11,5,2,6796,Giulio Fidente,gfidente,"Move back to CentOS StorageSIG repos for Ceph and Ganesha

Recently a new repo was created in CentOS to distribute Ganesha,
and the repo made a dependency of the Ceph Nautilus repo package [1]

When centos-release-ceph-nautilus 1.2-1 will go out, it should not
be necessary to disable the CentOS Ceph repos pulled in by
dependency of the RDO repositories, as done in [2]

1. https://github.com/CentOS-Storage-SIG/centos-release-ceph/commit/f1a17c9d145cabfa1dfd3102fe7e2fc584f6a907
2. https://review.opendev.org/#/c/651601/

Change-Id: I6bf0cbfaffc22147c5bec03b5897719de53366ed
"
openstack%2Ftripleo-heat-templates~master~Ic8001d4fd8c489f10c565d05ae82060fa3fb6ce8,openstack/tripleo-heat-templates,master,bug/1834409,Ic8001d4fd8c489f10c565d05ae82060fa3fb6ce8,Avoid checking rc if we're in dry-run mode,MERGED,2019-06-27 05:25:09.000000000,2019-06-27 18:54:08.000000000,2019-06-27 18:51:14.000000000,3,1,0,667783,2d4430bd7188a7ae49a8cdb15b1dd546b46c7de5,10,6,1,1,28223,Cedric Jeanneret,cjeanner,"Avoid checking rc if we're in dry-run mode

Currently running `ansible --check' against generated playbook fails
because the ""exec"" won't be done, hence the registered resource won't
get the ""rc"" entry.

Change-Id: Ic8001d4fd8c489f10c565d05ae82060fa3fb6ce8
Closes-Bug: #1834409
"
openstack%2Ftripleo-heat-templates~master~Iafa57b462f5ee205345a8d6e6d460ab68f312099,openstack/tripleo-heat-templates,master,neutron-agents/kill-container,Iafa57b462f5ee205345a8d6e6d460ab68f312099,Enable kill script for Neutron agents,MERGED,2019-06-06 07:18:20.000000000,2019-06-27 18:51:18.000000000,2019-06-27 18:51:17.000000000,177,0,19,663528,e4c4fcb2a6571c3c6c0969c092187e1f83c6c427,88,11,19,5,28223,Cedric Jeanneret,cjeanner,"Enable kill script for Neutron agents

Neutron introduced ""kill script"" support for its agents, allowing to do
more than a simple ""kill <pid>"".

This patch intends to activate this new feature, allowing to avoid
dangling containers with failed exit state.

It supports the ""HUP"" and ""9"" signal - first one invokes the ""kill
--signal HUP"" commande from the container_cli, while the second one will
stop and delete the container.
Other signals will return an error, since they aren't known.

The kill-script also supports the global Debug flag for a more verbose
output.

This patch also adds a soon to be deprecated parameter
DockerAdditionalSockets in order to make the change compatible with
setups still using Docker (HA deploy on Centos-7 and RHEL-7 for
example).

For more information about Neutron new kill script feature, please have
a look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db

Depends-On: https://review.opendev.org/661760
Change-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099
"
openstack%2Ftripleo-common~stable%2Fstein~Ida6c18a983f6330f54a8eb95b40b56b19dd005cf,openstack/tripleo-common,stable/stein,,Ida6c18a983f6330f54a8eb95b40b56b19dd005cf,remove plotnetcfg from overcloud image yaml,MERGED,2019-06-26 16:08:55.000000000,2019-06-27 18:51:11.000000000,2019-06-27 18:51:11.000000000,0,5,0,667668,783a692477a4ff953df79661d9d284d84690fc0e,12,4,1,5,14985,Alex Schultz,mwhahaha,"remove plotnetcfg from overcloud image yaml

plotnetcfg is no longer required and is
failing silently in el7 builds.  Remove it.

Closes-Bug: #1834043
Change-Id: Ida6c18a983f6330f54a8eb95b40b56b19dd005cf
(cherry picked from commit 73f27fe37538b9df60ef15c1d31d392ab6c85ef4)
"
openstack%2Ftripleo-common~stable%2Fstein~I46375348b2885d19290ab4334624910a86e215b9,openstack/tripleo-common,stable/stein,,I46375348b2885d19290ab4334624910a86e215b9,Overcloud-full image templates for RHEL8,MERGED,2019-06-26 16:08:39.000000000,2019-06-27 18:51:09.000000000,2019-06-27 18:51:09.000000000,23,4,0,667667,6763c998bebd42f39999d341d731836797edfd0a,7,4,1,2,14985,Alex Schultz,mwhahaha,"Overcloud-full image templates for RHEL8

Change-Id: I46375348b2885d19290ab4334624910a86e215b9
Signed-off-by: Lon Hohberger <lhh@redhat.com>
(cherry picked from commit f15e6ac387bbc49afa49a5bde35cf3349051ce16)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556,openstack/tripleo-heat-templates,stable/queens,fix_ipaclient_service-stable/stein-stable/rocky-stable/queens,Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556,Fix ipaclient script,MERGED,2019-06-26 15:21:40.000000000,2019-06-27 18:50:02.000000000,2019-06-27 18:50:02.000000000,4,0,0,667649,c3e215683b9fcf98e6ae9907df361cbd27d08362,10,9,1,1,14250,Grzegorz Grasza,xek,"Fix ipaclient script

The parameters for no_ntp_setup, ipa_domain and makehomedir
need to be set to whatever is coming in from heat.

Change-Id: Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556
(cherry picked from commit 1a12568b7317fba5b2ea46694c2536b0cdf5f33b)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556,openstack/tripleo-heat-templates,stable/rocky,fix_ipaclient_service-stable/stein-stable/rocky,Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556,Fix ipaclient script,MERGED,2019-06-26 15:21:24.000000000,2019-06-27 18:50:00.000000000,2019-06-27 18:50:00.000000000,4,0,0,667648,5f19ff99a78f2ec925661b85a54679e0778ce7c9,11,9,1,1,14250,Grzegorz Grasza,xek,"Fix ipaclient script

The parameters for no_ntp_setup, ipa_domain and makehomedir
need to be set to whatever is coming in from heat.

Change-Id: Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556
(cherry picked from commit 1a12568b7317fba5b2ea46694c2536b0cdf5f33b)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ic45b74c83b99dc58cd6e0f0f45d421b88c7e97a1,openstack/tripleo-heat-templates,stable/stein,bug/1831690,Ic45b74c83b99dc58cd6e0f0f45d421b88c7e97a1,Reintroduce upgrade tasks for stopping pacemaker cluster,MERGED,2019-06-24 15:28:48.000000000,2019-06-27 18:46:24.000000000,2019-06-27 18:46:24.000000000,8,3,0,667137,6c60a77c1b16d848ed9e616ec5351925193c2aa3,20,6,1,1,8042,JiÅ™Ã­ StrÃ¡nskÃ½,jistr,"Reintroduce upgrade tasks for stopping pacemaker cluster

It is likely that change I50a1289a864f804d02a2e2bc0ca8738a186beff0
broke upgrade CI, even though the job somehow passed on it. MariaDB
upgrade tasks now cannot remove the container image, because it's
being used by a running container. Let's keep all tasks for stopping
Pacemaker cluster for now, both untagged ones and the ones tagged for
system_upgrade_prepare step.

Change-Id: Ic45b74c83b99dc58cd6e0f0f45d421b88c7e97a1
Closes-Bug: #1831022
(cherry picked from commit f8ca0d41add4254401654c89f146d8c38a3d9ac3)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9f288ee2771c0a954beee085b6df650419978422,openstack/tripleo-heat-templates,stable/queens,bug/1833441,I9f288ee2771c0a954beee085b6df650419978422,Make comparisons case insensitive,MERGED,2019-06-26 14:08:02.000000000,2019-06-27 18:46:21.000000000,2019-06-27 18:46:20.000000000,5,5,0,667626,daa050438a0a379bac52e8e66055dd9bed59cd21,8,3,1,1,14985,Alex Schultz,mwhahaha,"Make comparisons case insensitive

If the values for the conditional checks are ""true"" rather than ""True"",
they would be skipped. Let's force the variable contents to lowercase to
remove the possibility of skipping the check when the value is ""true""

Change-Id: I9f288ee2771c0a954beee085b6df650419978422
Closes-Bug: #1833441
(cherry picked from commit 7ac8cf9c281f97b320192ca088c72a1bdf8de9f3)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I9f288ee2771c0a954beee085b6df650419978422,openstack/tripleo-heat-templates,stable/rocky,bug/1833441,I9f288ee2771c0a954beee085b6df650419978422,Make comparisons case insensitive,MERGED,2019-06-26 14:07:01.000000000,2019-06-27 18:46:18.000000000,2019-06-27 18:46:18.000000000,5,5,0,667625,5d35daee0d3e7e6b8f00a07c5f164622a75cb101,9,4,1,1,14985,Alex Schultz,mwhahaha,"Make comparisons case insensitive

If the values for the conditional checks are ""true"" rather than ""True"",
they would be skipped. Let's force the variable contents to lowercase to
remove the possibility of skipping the check when the value is ""true""

Change-Id: I9f288ee2771c0a954beee085b6df650419978422
Closes-Bug: #1833441
(cherry picked from commit 7ac8cf9c281f97b320192ca088c72a1bdf8de9f3)
"
openstack%2Fsahara-tests~master~I1b23c2e457ceb6cf396addd5daa6d7bd36989167,openstack/sahara-tests,master,boot-from-volume,I1b23c2e457ceb6cf396addd5daa6d7bd36989167,scenario tests: allow to use boot_from_volume on NGT,MERGED,2019-04-10 10:07:24.000000000,2019-06-27 18:45:34.000000000,2019-06-27 18:45:34.000000000,24,0,0,651487,4ed9f32b3c12ba45d097c8993e63551e6dfff273,21,4,4,4,10459,Luigi Toscano,ltoscano,"scenario tests: allow to use boot_from_volume on NGT

The key boot_from_volume can now be configured when defining
node group templates.
Thi change works only when API v2 is enabled.

Change-Id: I1b23c2e457ceb6cf396addd5daa6d7bd36989167
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I9f288ee2771c0a954beee085b6df650419978422,openstack/tripleo-heat-templates,stable/stein,bug/1833441,I9f288ee2771c0a954beee085b6df650419978422,Make comparisons case insensitive,MERGED,2019-06-26 14:03:35.000000000,2019-06-27 18:43:32.000000000,2019-06-27 18:43:32.000000000,5,5,0,667622,f736d4471eee45492fe8d1fc06c54dd91d384a62,9,4,1,1,14985,Alex Schultz,mwhahaha,"Make comparisons case insensitive

If the values for the conditional checks are ""true"" rather than ""True"",
they would be skipped. Let's force the variable contents to lowercase to
remove the possibility of skipping the check when the value is ""true""

Change-Id: I9f288ee2771c0a954beee085b6df650419978422
Closes-Bug: #1833441
(cherry picked from commit 7ac8cf9c281f97b320192ca088c72a1bdf8de9f3)
"
openstack%2Fpython-openstackclient~master~Ie938f2c9894bb39b4c0ed1f7aa3a6a751a303058,openstack/python-openstackclient,master,fix_endpoint_group,Ie938f2c9894bb39b4c0ed1f7aa3a6a751a303058,Fix bug in endpoint group deletion,MERGED,2019-04-26 12:11:01.000000000,2019-06-27 18:36:30.000000000,2019-05-17 21:33:34.000000000,565,3,0,655889,04e03b2a1fe34046e2148d3c1d17b9053010c8af,19,5,3,4,5575,Jose Castro Leon,jose-castro-leon,"Fix bug in endpoint group deletion

There is a typo in the endpoint group deletion, due to this you
can't remove endpoint groups once assigned. I am adding also the
unit tests to avoid this kind of issues in the future

Task: 30640
Story: 2005521
Change-Id: Ie938f2c9894bb39b4c0ed1f7aa3a6a751a303058
"
openstack%2Fsahara-tests~master~I9b97c0241cdd99d5def8831de42be49e04a50465,openstack/sahara-tests,master,scenario-stein-support,I9b97c0241cdd99d5def8831de42be49e04a50465,Scenario tests: add the test templates for Stein,MERGED,2019-04-10 10:40:34.000000000,2019-06-27 18:22:10.000000000,2019-06-27 18:22:10.000000000,232,126,9,651493,4680504fd4760a58133d33a29ba669f8d8b1e3c1,11,4,2,22,10459,Luigi Toscano,ltoscano,"Scenario tests: add the test templates for Stein

- add the needed new templates for Stein (basically a copy of the Rocky
  ones).
- remove the Ocata test templates.
- fix the name of the storm 1.2 image variable for stein and master.
- (minor change) fix a comments for CDH 5.11 on all supported versions.

Change-Id: I9b97c0241cdd99d5def8831de42be49e04a50465
"
openstack%2Ftripleo-common~master~I92ac45255bef5186dccbcd3ca0f8aa149e59de54,openstack/tripleo-common,master,bp/reduce-deployment-resources,I92ac45255bef5186dccbcd3ca0f8aa149e59de54,Add vip_data template to tripleo-hieradata,MERGED,2019-06-19 21:09:09.000000000,2019-06-27 18:03:13.000000000,2019-06-27 18:03:13.000000000,52,0,0,666445,a0100c43a823a28560ebb9b6c3256582596cc855,28,6,8,2,7144,James Slagle,slagle,"Add vip_data template to tripleo-hieradata

Adds a jinja2 template for the vip_data hieradata file.

Change-Id: I92ac45255bef5186dccbcd3ca0f8aa149e59de54
"
openstack%2Fdesignate~master~I20c297bd3f802779b53613f1b705d835cfdedfa0,openstack/designate,master,improved_tests,I20c297bd3f802779b53613f1b705d835cfdedfa0,Rewrote bind9 backend unit tests,MERGED,2019-06-18 05:46:58.000000000,2019-06-27 17:51:58.000000000,2019-06-27 17:51:58.000000000,233,166,0,665865,08684a2c8e1f33362e142ae6e50f5067e9424860,16,4,6,6,22623,Erik Olof Gunnar Andersson,eoandersson,"Rewrote bind9 backend unit tests

* Re-wrote bind9 tests.
* Removed functional test, as this is already covered.
* Minor updates to other tests for consistency.

Change-Id: I20c297bd3f802779b53613f1b705d835cfdedfa0
"
openstack%2Fnova~master~I9d6cd6259659a35383c0c9c21db72a9434ba86b1,openstack/nova,master,bug/1724172,I9d6cd6259659a35383c0c9c21db72a9434ba86b1,Enhance service restart in functional env,MERGED,2017-10-17 09:09:53.000000000,2019-06-27 17:50:19.000000000,2019-06-27 17:50:19.000000000,54,23,21,512552,2794748d9c58623045023f34c7793c58ce41447c,266,25,18,5,9708,Balazs Gibizer,gibi,"Enhance service restart in functional env

Bugfix Icaf1bae8cb040b939f916a19ce026031ddb84af7 showed that restarting
a compute service in the functional env is unrealistic causing faults
to slip through. During that bug fix only the minimal change was done
in the functional env regarding compute service restart to reproduce
the reported fault. However the restart of the compute service could
be made even more realistic.

This patch simulates a compute service restart in the functional env
by stopping the original compute service and starting a totally new
compute service for the same host and node. This way we can make sure
that we get a brand new ComputeManager in the new service and no
state can leak between the old and the new service.

This change revealed another shortcoming of the functional env.
In the real world the nova-compute service could be restarted without
loosing any running servers on the compute host. But with the naive
implementation of this change the compute service is re-created. This
means that a new ComputeManager is instantiated that loads a new
FakeDriver instance as well. That new FakeDriver instance then reports
an empty hypervisor. This behavior is not totally unrealistic as it
simulates such a compute host restart that cleans the hypervisor state
as well (e.g. compute host redeployment). However this type of restart
shows another bug in the code path that destroys and deallocates
evacuated instance from the source host. Therefore this patch
implements the compute service restart in a way that simulates only a
service restart and not a full compute restart. A subsequent patch will
add a test that uses the clean hypervisor case to reproduces the
revealed bug.

Related-Bug: #1724172
Change-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1
"
openstack%2Fnova~master~I2cf2fcbaebc706f897ce5dfbff47d32117064f9c,openstack/nova,master,bug/1724172,I2cf2fcbaebc706f897ce5dfbff47d32117064f9c,Remove global state from the FakeDriver,MERGED,2019-05-01 21:17:29.000000000,2019-06-27 17:50:11.000000000,2019-06-27 17:50:11.000000000,27,161,10,656709,b5666fb49239dbed6777481be63276db35ed8118,122,23,8,30,9708,Balazs Gibizer,gibi,"Remove global state from the FakeDriver

The virt driver FakeDriver used in both the functional and in the unit
test used a global state to configure the host and node names the driver
reports. This was hard to use when more then one compute service is started.
Also global state is dangerous.

It turned out that only a set of unit tests are using multiple nodes per
compute the rest of the tests can simply use host=<hostname>,
nodes=[<hostname>] setup.

So this removes the global state.

Change-Id: I2cf2fcbaebc706f897ce5dfbff47d32117064f9c
"
openstack%2Ftripleo-common~master~I6e1e1c28dc09c9e04119db910068d62409a5afc8,openstack/tripleo-common,master,bp/reduce-deployment-resources,I6e1e1c28dc09c9e04119db910068d62409a5afc8,Add all_nodes template to tripleo-hieradata.,MERGED,2019-06-13 16:40:57.000000000,2019-06-27 17:46:58.000000000,2019-06-27 17:46:58.000000000,68,5,0,665173,008af910e7d95aa523c85e3a912f90aa01d7cb1a,42,7,13,4,7144,James Slagle,slagle,"Add all_nodes template to tripleo-hieradata.

Add a template for the all_nodes hieradata to tripleo-hieradata.

The network hostnames are also added to the inventory as these vars are
needed by the template. The network IP's are already present in the
inventory. These variables will be used by various tasks that render
hiera data dynamically based on the Ansible inventory only.

Change-Id: I6e1e1c28dc09c9e04119db910068d62409a5afc8
"
openstack%2Fironic~stable%2Fpike~I42239e0ec960507b7345866d768b3ee06738799b,openstack/ironic,stable/pike,bindep-fallback,I42239e0ec960507b7345866d768b3ee06738799b,Add bindep.txt,MERGED,2019-06-25 16:35:56.000000000,2019-06-27 17:45:15.000000000,2019-06-27 17:45:15.000000000,89,0,0,667403,43c54ec5cac82777e95c709e8c5b5366bccd6326,10,6,1,1,17685,Elod Illes,elod.illes,"Add bindep.txt

This is a combination of 2 commits to solve the dependency issue, which
came up after the announced removal of global bindep-fallback.txt

1. Add bindep.txt file

This is used by `bindep` [0] to assess if needed system packages are
installed.
It should allow easier installation of Python packages on a clean
system from source and help packagers too.
For now it is just a copy/merge of `devstack/files/[debs|rpms]/ironic`
files with added platform specifiers.

Packages have been tagged with certain bindep profiles:
- default - needed to run ironic service in production
- test - needed to compile Python dependencies and for other tox targets,
  profile of this name is used by various gate jobs
- devstack - needed to setup VMs posing as HW nodes by the devstack
  plugin
- imagebuild - only needed to build various types of deploy ramdisk

Note that DevStack install procedure currently does not use 'bindep',
and still relies on files in `devstack/files/...` folder.

[0] http://docs.openstack.org/infra/bindep/index.html

(cherry picked from commit b2fcf4804f61a0c2ca8f3adfacfe32e191c1b214)

2. Update bindep.txt for doc builds

https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation
specifies that doc dependencies need the doc tag in bindep, use it.

Leave test environment in for transition period until we use the new
scripts.

(cherry picked from commit 6a48eba4a7cbc9d82740ea579e6f7188ab2e8f2c)

Change-Id: I42239e0ec960507b7345866d768b3ee06738799b
"
openstack%2Fheat~master~I43c93df9c0f7bc4f1c7a52907d58a82bf1393512,openstack/heat,master,,I43c93df9c0f7bc4f1c7a52907d58a82bf1393512,Update tools/README.rst with bindep info,MERGED,2019-06-27 16:26:24.000000000,2019-06-27 17:19:11.000000000,2019-06-27 17:19:10.000000000,4,8,0,667983,c49e0cbc3e806a578ba8cb46100f7f5330df4e4d,6,2,1,1,17685,Elod Illes,elod.illes,"Update tools/README.rst with bindep info

During local bindep.txt add [1] the old test-requires-* files were
removed, but the README was not updated.

[1] If9befe4115c64c2fda52321002ba5fe1124eaf7c

Change-Id: I43c93df9c0f7bc4f1c7a52907d58a82bf1393512
"
openstack%2Fcloudkitty~master~I99bff44b24d3dcec2da97281f0b491ac333ed395,openstack/cloudkitty,master,,I99bff44b24d3dcec2da97281f0b491ac333ed395,Add a v2 summary endpoint,MERGED,2019-05-22 08:51:59.000000000,2019-06-27 17:19:06.000000000,2019-06-27 17:19:06.000000000,566,0,0,660608,acd2fec6a13a805e1de405efca40795c3d0b0fc6,22,3,6,15,23060,Luka Peschke,lukapeschke,"Add a v2 summary endpoint

This adds an endpoint on /v2/summary, as a replacement for /v1/summary.
It allows to retrieve a summary from the cloudkitty, which can be grouped on
custom attributes and filters.

Change-Id: I99bff44b24d3dcec2da97281f0b491ac333ed395
Story: 2005664
Task: 30961
"
openstack%2Fcinder~master~I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422,openstack/cinder,master,scaleio_vxflexos_rebrand,I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422,rename ScaleIO driver to VxFlex OS,MERGED,2019-02-01 11:15:09.000000000,2019-06-27 17:09:39.000000000,2019-06-27 17:09:39.000000000,462,314,25,634397,0eaca453bc1e8a45d8883d95080d0cab01dadcd7,423,54,11,26,29675,Yury Kulazhenkov,yury-kulaz,"rename ScaleIO driver to VxFlex OS

Rename ScaleIO driver to VxFlex OS and move it to
another location. Change configuration options names.

Change-Id: I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422
Implements: blueprint scaleio-vxflexos-rebrand
"
