id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fpuppet-magnum~master~I7557d7f86c04a4a1e5d435afa574d0725f123dc0,openstack/puppet-magnum,master,,I7557d7f86c04a4a1e5d435afa574d0725f123dc0,Update links in README,ABANDONED,2018-04-28 08:49:55.000000000,2018-04-29 01:00:04.000000000,,1,1,0,564996,10464f54e16c3a6e633fc67dc4892f6b8bafc69e,5,2,1,1,26297,pippo,huang.zhiping,"Update links in README

Change-Id: I7557d7f86c04a4a1e5d435afa574d0725f123dc0
"
openstack%2Fpuppet-mistral~master~I377f8d00866744cbb4b8150289e6ab11c13ba31e,openstack/puppet-mistral,master,,I377f8d00866744cbb4b8150289e6ab11c13ba31e,Update links in README,ABANDONED,2018-04-28 08:57:30.000000000,2018-04-29 00:59:48.000000000,,1,1,0,564997,b5288afc625263b1f70987514b1e44fc1391257a,5,2,1,1,26297,pippo,huang.zhiping,"Update links in README

Change-Id: I377f8d00866744cbb4b8150289e6ab11c13ba31e
"
openstack%2Fpuppet-keystone~master~I242927e1b0fbbad006606846205663d1059c41ee,openstack/puppet-keystone,master,,I242927e1b0fbbad006606846205663d1059c41ee,Update links in README,ABANDONED,2018-04-28 08:46:22.000000000,2018-04-29 00:59:32.000000000,,1,1,0,564995,73ce04e4b69e15870d7216f918a709650f896293,5,2,1,1,26297,pippo,huang.zhiping,"Update links in README

Change-Id: I242927e1b0fbbad006606846205663d1059c41ee
"
openstack%2Fpuppet-horizon~master~I11a3fbc69b2cf17b5608d5bdb0a20ad46b6378ef,openstack/puppet-horizon,master,,I11a3fbc69b2cf17b5608d5bdb0a20ad46b6378ef,Update links in README,ABANDONED,2018-04-28 08:35:03.000000000,2018-04-29 00:58:33.000000000,,1,1,0,564992,9cfdab09426b6ece98f83af9b932cf03b7c744f5,4,2,1,1,26297,pippo,huang.zhiping,"Update links in README

Change-Id: I11a3fbc69b2cf17b5608d5bdb0a20ad46b6378ef
"
openstack%2Fpuppet-heat~master~I89fecce1b03a8b7bb8af1310be0e45d9da68e3ee,openstack/puppet-heat,master,,I89fecce1b03a8b7bb8af1310be0e45d9da68e3ee,Update links in README,ABANDONED,2018-04-28 08:32:15.000000000,2018-04-29 00:58:07.000000000,,1,1,0,564991,063f0cde95ccf095f7bda40b7b0b319d3cddade4,5,2,1,1,26297,pippo,huang.zhiping,"Update links in README

Change-Id: I89fecce1b03a8b7bb8af1310be0e45d9da68e3ee
"
openstack%2Fpuppet-glance~master~I426ebb8f73ac266bb114ba81fd10e881197cb90f,openstack/puppet-glance,master,,I426ebb8f73ac266bb114ba81fd10e881197cb90f,Update links in README,ABANDONED,2018-04-28 08:13:50.000000000,2018-04-29 00:57:16.000000000,,1,1,0,564988,654c1146ed615e8969b529b4ed7e8da360ae5758,5,2,1,1,26297,pippo,huang.zhiping,"Update links in README

Change-Id: I426ebb8f73ac266bb114ba81fd10e881197cb90f
"
openstack%2Fpuppet-cinder~master~Idd8744ee38d08bf8cab5d5c1138401788334fe4a,openstack/puppet-cinder,master,,Idd8744ee38d08bf8cab5d5c1138401788334fe4a,Update links in README,ABANDONED,2018-04-28 07:57:00.000000000,2018-04-29 00:56:46.000000000,,1,1,0,564986,7a3d206d3e8d7d6730f3291339b2c5c4caef1795,4,2,1,1,26297,pippo,huang.zhiping,"Update links in README

Change-Id: Idd8744ee38d08bf8cab5d5c1138401788334fe4a
"
openstack%2Fpuppet-ceilometer~master~I4e2aca2f8f6b6e7b33e2c9796549b07b3e688ff7,openstack/puppet-ceilometer,master,,I4e2aca2f8f6b6e7b33e2c9796549b07b3e688ff7,Update links in README,ABANDONED,2018-04-28 07:51:18.000000000,2018-04-29 00:56:08.000000000,,2,2,0,564983,3076e548e3d84ecdca95483df8dab90b624175b4,4,2,1,1,26297,pippo,huang.zhiping,"Update links in README

Change-Id: I4e2aca2f8f6b6e7b33e2c9796549b07b3e688ff7
"
openstack%2Fpuppet-aodh~master~Ib881f29b47a84bae935a94a8a57c416f83e803fb,openstack/puppet-aodh,master,,Ib881f29b47a84bae935a94a8a57c416f83e803fb,Update links in README,ABANDONED,2018-04-28 07:31:56.000000000,2018-04-29 00:55:40.000000000,,1,1,0,564980,2983ea850e0b79f6807230826310976886cb0bfd,4,2,1,1,26297,pippo,huang.zhiping,"Update links in README

Change-Id: Ib881f29b47a84bae935a94a8a57c416f83e803fb
"
openstack%2Foctavia~master~I2037af21772578f509c3cf73082863a758a74214,openstack/octavia,master,,I2037af21772578f509c3cf73082863a758a74214,Trivial: Update pypi url to new url,ABANDONED,2018-04-23 09:54:19.000000000,2018-04-29 00:54:54.000000000,,2,2,0,563553,3cd949ab9de73658b86556c736e9ba8f31499b66,6,4,1,2,26297,pippo,huang.zhiping,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I2037af21772578f509c3cf73082863a758a74214
"
openstack%2Ftrove~master~Ifc4e75291d44f32ce10528d9f46d2d6cbaa10009,openstack/trove,master,,Ifc4e75291d44f32ce10528d9f46d2d6cbaa10009,Trivial: Update pypi url to new url,ABANDONED,2018-04-23 09:44:25.000000000,2018-04-29 00:54:33.000000000,,5,5,0,563551,7f5856a638da30c8559a940a618d3d13e88defa1,5,3,1,2,26297,pippo,huang.zhiping,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ifc4e75291d44f32ce10528d9f46d2d6cbaa10009
"
openstack%2Ftripleo-quickstart-extras~master~I1c543a9669d6cbfba4cb852e2c4257d6c44db1b8,openstack/tripleo-quickstart-extras,master,reproducer-libvirt,I1c543a9669d6cbfba4cb852e2c4257d6c44db1b8,Add a libvirt option to the reproducer script,MERGED,2018-04-20 21:25:36.000000000,2018-04-28 23:51:22.000000000,2018-04-28 23:51:22.000000000,77,25,7,563319,5338db0ffaca130e5f8efa088ce5337859966d8b,42,7,5,1,9976,Ronelle Landy,rlandy,"Add a libvirt option to the reproducer script

The libvirt option should be valid for multinode jobs
that can run with 2 nodes - and singlenode jobs.
Documentation is added to the libvirt option.

Change-Id: I1c543a9669d6cbfba4cb852e2c4257d6c44db1b8
"
openstack%2Fcinder~master~I625fb96229001c326ed2400155e2d067279a400e,openstack/cinder,master,config-table,I625fb96229001c326ed2400155e2d067279a400e,Add config table sphinx directive,MERGED,2018-04-24 21:33:40.000000000,2018-04-28 21:11:46.000000000,2018-04-27 00:06:21.000000000,143,114,5,564068,c87da917571aa2795863f78486ba5d1d6c19fce1,139,38,6,9,11904,Sean McGinnis,SeanM,"Add config table sphinx directive

In the past we had used an openstack-manuals tool to manually generate
config option tables that would then be included into driver config
documentation.

With the move of documentation in-tree and the deprecation and removal
of that tool, we have ended up with options that are no longer being
updated when drivers change, or maintainers are left manually updating
the existing tables.

This addes a sphinx extension to use a new config-table directive to
automatically pull in config options from the source so we no longer
need to perform any manual action to pick up changes.

Change-Id: I625fb96229001c326ed2400155e2d067279a400e
"
openstack%2Fopenstack-zuul-jobs~master~Ib66f16e7e498fe199c4005b7de96dd01ca577365,openstack/openstack-zuul-jobs,master,fix-hacking-nova,Ib66f16e7e498fe199c4005b7de96dd01ca577365,Fix nova hacking integration job,ABANDONED,2018-04-27 07:49:34.000000000,2018-04-28 21:09:38.000000000,,2,0,0,564691,2ad24d25f908b9b95548f7afdccc1ce933ebc4b3,5,3,1,1,13252,Dr. Jens Harbott,jrosenboom,"Fix nova hacking integration job

This legacy job needs nova as required project, see

http://logs.openstack.org/29/561129/5/check/legacy-hacking-integration-nova/c89e8a5/job-output.txt.gz#_2018-04-27_02_34_21_114629

Change-Id: Ib66f16e7e498fe199c4005b7de96dd01ca577365
"
openstack%2Fcinder~master~I1e873d66138b88745bdb325f124b6bd781c7d621,openstack/cinder,master,bp/cinder-object-fields,I1e873d66138b88745bdb325f124b6bd781c7d621,Add missing VolumeAttachStatus enum field,MERGED,2018-04-22 04:05:47.000000000,2018-04-28 19:04:38.000000000,2018-04-25 07:43:36.000000000,6,4,2,563444,f01ae575da949af53734645839c9fda2f67a10b2,128,37,3,4,25456,junboli,junboli,"Add missing VolumeAttachStatus enum field

VolumeAttachStatus has been defined already, This change
just replace the missing string volume attach status with
volume attach enum field.

Change-Id: I1e873d66138b88745bdb325f124b6bd781c7d621
Partial-Implements: bp cinder-object-fields
"
openstack%2Fcinder~master~I7d3d006b023ca4b7963c4c684e4c036399d1295c,openstack/cinder,master,bug/1765845,I7d3d006b023ca4b7963c4c684e4c036399d1295c,RBD: Handle ImageNotFound exception in _get_usage_info correctly,MERGED,2018-04-20 21:08:16.000000000,2018-04-28 19:04:37.000000000,2018-04-25 20:24:57.000000000,26,31,7,563313,3cc8cbdee7c98e1fcf41bb27d81e34fef3a2d032,164,42,7,2,1736,Ivan Kolodyazhny,e0ne,"RBD: Handle ImageNotFound exception in _get_usage_info correctly

Change https://review.openstack.org/#/c/486734 moved try-except
statement to the wrong place. We need to open image in Ceph inside
try-except block.

This patch also fixes race condition between volume deletion and
_get_usage_info calls.

Closed-Bug: #1765845
Change-Id: I7d3d006b023ca4b7963c4c684e4c036399d1295c
Co-Authored-By: Melanie Witt <melwittt@gmail.com>
"
openstack%2Fcinder~stable%2Focata~I0e21cbcb6effa1e72999580564099976511ca4a9,openstack/cinder,stable/ocata,bug/1731474,I0e21cbcb6effa1e72999580564099976511ca4a9,NetApp: Add use-exact-size parameter when creating a LUN on ONTAP iSCSI,MERGED,2018-04-19 15:08:14.000000000,2018-04-28 19:03:58.000000000,2018-04-26 16:11:07.000000000,36,4,0,562669,013d6183c434ec05a11115e603f02cf6e57a85b1,56,19,2,3,25186,Luiz Benedito Aidar Gavioli,luizbag,"NetApp: Add use-exact-size parameter when creating a LUN on ONTAP iSCSI

When a cinder volume is created the ontap backend fits the LUN to the
best geometry. It makes the image uploaded from a volume larger than
expected and a volume of larger size must be created from that image.
Using the use-exact-size parameter the backend does not fit to best
geometry, the image uploaded from that volume has the same size and a
volume of the same size may be created from that image.

Nevertheless this parameter is available only in Data ONTAP 9.1 (ontapi
version 1.110) and later.

Closes-Bug: #1731474
Change-Id: I0e21cbcb6effa1e72999580564099976511ca4a9
(cherry picked from commit 67391f1f0f30172190882e7d3f4a4ddc271dfa00)
"
openstack%2Fcinder~stable%2Fqueens~If389788f06a3cee75b30485e90e05745d559e2ed,openstack/cinder,stable/queens,bug/1765766-stable/queens,If389788f06a3cee75b30485e90e05745d559e2ed,Add Keystone v3 domain information to context,MERGED,2018-04-25 18:12:14.000000000,2018-04-28 19:03:39.000000000,2018-04-27 01:04:26.000000000,49,2,0,564307,76a6fd098783489ab87343fe8eba49c7f12fca20,26,18,1,3,4523,Eric Harney,eharney,"Add Keystone v3 domain information to context

Keystone v3 requires domain info to be supplied when
making calls to Keystone.  Not providing this means
that Cinder can't work with deployments that only
support Keystone v3.

(Specifically, this fails when trying to communicate
with Keystone/Barbican from Cinder.)

The domain information is retrieved from HTTP headers
provided by Keystone and stored in our context object.

This includes both ""<x>_domain"" and ""<x>_domain_id""
in our context object, since castellan depends on
project_domain_id, but oslo.context has deprecated
project_domain and user_domain.

Closes-Bug: #1765766
Change-Id: If389788f06a3cee75b30485e90e05745d559e2ed
(cherry picked from commit 6ddd7d8b75307f89e4dd870a6122ccfd98a65c25)
"
openstack%2Fcinder~stable%2Focata~I6407c4b056922227b66f2231d1e1506cd6b7a36f,openstack/cinder,stable/ocata,bug/1693090-stable/ocata,I6407c4b056922227b66f2231d1e1506cd6b7a36f,OVO: Fix VolumeType create not bound to a Session,MERGED,2018-04-23 13:51:54.000000000,2018-04-28 19:03:36.000000000,2018-04-26 00:06:56.000000000,4,1,0,563628,72d12fe1fb11f2d824d8d9f257d638e8080ae26f,39,22,1,1,11904,Sean McGinnis,SeanM,"OVO: Fix VolumeType create not bound to a Session

We have detected a spurious failure on unittest
QuotaIntegrationTestCase.test_too_many_volumes_of_type that presented as
a ""not bound to a Session; lazy load operation"" error for the ""projects""
attribute of a Volume Type.

This is not an error on the tests but an error on the OVO-ORM mechanism
we have to create a VolumeType instance.

When we create a VolumeType we return created volume type as we have
sent it to the DB (not actually reading from the DB the current values)
so we don't have the ""projects"" field loaded in the ORM instance, which
means that SQLAlchemy will try to lazy load it when we get the project
value on the ""_from_db_object"".

There are 3 possible solutions to the problem:

- Read from the DB the VolumeType with the project list

- Change the way we do the db_type.get so we check against the
dictionary instead of the ORM object so we don't trigger the lazy
loading: `vars(db_type).get('projects', [])`

- On the ""volume_type_create"" method in the DB return the projects field
with the right values.

This patch implements the last approach which fixes the VolumeType
creation issue.

In another patch we could address other potential cases where we could
be missing the project field as well, as mentioned in the second
approach, and that would require changing our fakes to use actual ORM
instances instead of dictionaries, and probably also adapting some
cinder code and additional tests.

Change-Id: I6407c4b056922227b66f2231d1e1506cd6b7a36f
Closes-Bug: #1693090
(cherry picked from commit d4496c807279a310bd149256c467de73eb25fe34)
"
openstack%2Fcinder~master~I7581b7eeb3508a12342d42cdd955b55a440483b6,openstack/cinder,master,dellemc/spacebad,I7581b7eeb3508a12342d42cdd955b55a440483b6,Dell EMC SC: Removed space from debug statement,MERGED,2018-04-23 15:48:57.000000000,2018-04-28 19:03:32.000000000,2018-04-23 19:52:10.000000000,1,1,0,563678,5183a2ac95c039063d33c0b9d2e4a959c48c1c1a,35,31,1,1,12112,Tom Swanson,tomswanson,"Dell EMC SC: Removed space from debug statement

A space didn't belong where it was found. I killed it and I'm glad.

Change-Id: I7581b7eeb3508a12342d42cdd955b55a440483b6
"
openstack%2Fcinder~master~I06102ca7cfd8bbf887f8778aa8963aba233f530c,openstack/cinder,master,zanata/translations,I06102ca7cfd8bbf887f8778aa8963aba233f530c,Imported Translations from Zanata,MERGED,2018-04-26 06:21:01.000000000,2018-04-28 19:03:16.000000000,2018-04-26 13:58:58.000000000,43,8,0,564395,0464a26bc1c3d4fee300f3bfcddf6b3c3769b75b,35,26,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I06102ca7cfd8bbf887f8778aa8963aba233f530c
"
openstack%2Fcinder~master~Ia7ecfe975f0ecf13875e8f3dea222f7f8563d274,openstack/cinder,master,mova_import,Ia7ecfe975f0ecf13875e8f3dea222f7f8563d274,TrivialFix: Move the location of import in get_volume_type_reservation(),ABANDONED,2018-04-26 06:35:39.000000000,2018-04-28 19:03:14.000000000,,1,1,2,564399,41810a9ed631da566b904a2ee3ecd59fe05d444b,22,18,1,1,25388,liuyamin,liuyamin,"TrivialFix: Move the location of import in get_volume_type_reservation()

Change-Id: Ia7ecfe975f0ecf13875e8f3dea222f7f8563d274
"
openstack%2Fcinder~master~I516fc5ef4b174bda54da306a2135aa4eb30e5ea1,openstack/cinder,master,bp/json-schema-validation,I516fc5ef4b174bda54da306a2135aa4eb30e5ea1,V3 json schema validation: volume manage,MERGED,2018-03-23 09:39:45.000000000,2018-04-28 19:03:04.000000000,2018-04-26 15:16:48.000000000,76,40,1,555717,1201515997002c3472f0cc74a0a92736414f3633,187,47,4,4,26541,Neha Alhat,nehaalhat,"V3 json schema validation: volume manage

This patch adds jsonschema validation for below volume_manage API
* POST /v3/{project_id}/manageable_volumes

Change-Id: I516fc5ef4b174bda54da306a2135aa4eb30e5ea1
Partial-Implements: bp json-schema-validation
"
openstack%2Fcinder~master~I4eab4d0aa254d9ce7dcb9e15077779fa508cad41,openstack/cinder,master,bp/json-schema-validation,I4eab4d0aa254d9ce7dcb9e15077779fa508cad41,V3 json schema validation: workers,MERGED,2017-12-18 05:47:17.000000000,2018-04-28 19:03:03.000000000,2018-04-26 10:33:11.000000000,109,53,6,528633,9ae5811625cb50af6d60249244eaaa64a38671b0,271,50,6,4,26541,Neha Alhat,nehaalhat,"V3 json schema validation: workers

This patch adds jsonschema validation for below workers API
* POST v3/{project_id}/workers/cleanup

Change-Id: I4eab4d0aa254d9ce7dcb9e15077779fa508cad41
Partial-Implements: bp json-schema-validation
"
openstack%2Fcinder~stable%2Focata~Id5122dd9be973000831598fddc9e6f084ec2b7db,openstack/cinder,stable/ocata,driverfixes_sync,Id5122dd9be973000831598fddc9e6f084ec2b7db,Fix a compatibility issue after Huawei driver upgrade,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 19:02:47.000000000,2018-04-26 18:30:25.000000000,3,3,0,560603,ed7527145adbf598dfaadc987df79e599003ab93,40,18,1,1,11904,Sean McGinnis,SeanM,"Fix a compatibility issue after Huawei driver upgrade

Previously Huawei driver changed the storing place for it's private
data, if upgrade to this new version driver, and there's already an
existing volume created by old driver, there's a compatibility issue
of getting hypermetro_id property, which will result deleting volume
failed while there's no hypermetro configuration exist.

This patch fixes this issue.

Change-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db
(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)
(cherry picked from commit 96d6dae34f7f4696553928ac30b50f9d44e944f3)
"
openstack%2Fcinder~stable%2Focata~I1f0adaa8e25cd3ec74084b22bbe1573b92713959,openstack/cinder,stable/ocata,driverfixes_sync,I1f0adaa8e25cd3ec74084b22bbe1573b92713959,Dell EMC PS: Optimize parsing of capacity info from backend,MERGED,2017-10-17 16:20:26.000000000,2018-04-28 19:02:05.000000000,2018-04-26 19:00:41.000000000,14,5,0,512684,047c3f87b590ea2d627692d05347fcb49c060bab,53,23,3,2,10379,Rajini Karthik,rajinir,"Dell EMC PS: Optimize parsing of capacity info from backend

The backend api returns large amounts of information and
times out when there are lots of volumes. Accelerated the
process by terminating the parsing after the capacity info
is retrieved.

Closes Bug: #1661154

Change-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959
(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)
"
openstack%2Fcinder~stable%2Focata~I48398331fe086760a88bd5ca4c0f28f90e22bd0b,openstack/cinder,stable/ocata,driverfixes_sync,I48398331fe086760a88bd5ca4c0f28f90e22bd0b,Dell EMC PS: Fix extend volume creating unmanaged snapsots,MERGED,2017-10-17 16:25:22.000000000,2018-04-28 19:02:03.000000000,2018-04-26 19:00:43.000000000,8,2,0,512698,09b1b1351901b5cf042b2a59624751451707c87a,56,24,3,2,10379,Rajini Karthik,rajinir,"Dell EMC PS: Fix extend volume creating unmanaged snapsots

The Dell EMC PS driver's extend volume code is missing the
no-snap option and creates unmanaged snapshots in the background.
Added that option to fix it.

Closes Bug: #1720454

Change-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b
(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)
"
openstack%2Fcinder~stable%2Focata~I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,openstack/cinder,stable/ocata,driverfixes_sync,I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,Fix backup compression unit tests,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 19:02:01.000000000,2018-04-27 01:04:28.000000000,3,3,0,560604,b1232cdde8a8c15070215f9377d97a5e5afd185c,46,19,1,3,11904,Sean McGinnis,SeanM,"Fix backup compression unit tests

Cinder backup tests for compression were incorrectly testing the size of
the compression data, instead of testing against the compressed data
they were checking the tuple (algorithm, compressed_data).

This patches fixes those tests.

Change-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae
(cherry picked from commit fd671c77cd93e8a5a5bafbee7f24564fb780a044)
(cherry picked from commit 9d0658febea9a81e54afd62f37a6a9dfe3135797)
"
openstack%2Fcinder~stable%2Focata~I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,openstack/cinder,stable/ocata,driverfixes_sync,I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,Run backup compression on native thread,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 19:01:59.000000000,2018-04-27 01:04:30.000000000,49,4,0,560605,173d4d0a4686a409f9578538018aa808bb437ca9,43,20,1,4,11904,Sean McGinnis,SeanM,"Run backup compression on native thread

Backup data compression is a CPU bound operation that will not yield to
other greenthreads, so given enough simultaneous backup operations they
will lead to other threads' starvation.

This is really problematic for DB connections, since starvation will
lead to connections getting dropped with errors such as ""Lost connection
to MySQL server during query"".

Detailed information on why these connections get dropped can be found
in comment ""[31 Aug 2007 9:21] Magnus Blåudd"" on this MySQL bug [1].

These DB issues may result in backups unnecessary ending in an ""error""
state.

This patch fixes this by moving the compression to a native thread so
the cooperative multitasking in Cinder Backup can continue switching
threads.

[1] https://bugs.mysql.com/bug.php?id=28359

Closes-Bug: #1692775
Closes-Bug: #1719580
Change-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5
(cherry picked from commit af0f00bc52f79d9395adfe0575b0dbe353e18bbe)
(cherry picked from commit 439f90da8e4c1cfa1acfe36b5ea8a6c5bae6139f)
"
openstack%2Fcinder~stable%2Focata~Ib78293efa626c098a572f4c64119ee2ff296bd40,openstack/cinder,stable/ocata,driverfixes_sync,Ib78293efa626c098a572f4c64119ee2ff296bd40,Dell EMC PS: Fix Duplicate ACL records Issue,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 19:01:57.000000000,2018-04-27 02:24:42.000000000,45,10,0,560606,c96512aab0ee00201e26b0efa9c87c7f62fd463e,55,19,1,3,11904,Sean McGinnis,SeanM,"Dell EMC PS: Fix Duplicate ACL records Issue

Live migration was creating duplicate ACL records for the compute
nodes. Fixed it by not creating one when an ACL exists during
initialization of the volume.

Closes Bug: #1726591

Change-Id: Ib78293efa626c098a572f4c64119ee2ff296bd40
(cherry picked from commit 22c09d57687b98faf4193cb1be3d738ddf3bbd28)
"
openstack%2Fcinder~stable%2Fqueens~I7d3d006b023ca4b7963c4c684e4c036399d1295c,openstack/cinder,stable/queens,bug/1765845,I7d3d006b023ca4b7963c4c684e4c036399d1295c,RBD: Handle ImageNotFound exception in _get_usage_info correctly,MERGED,2018-04-26 20:12:59.000000000,2018-04-28 19:01:49.000000000,2018-04-27 22:31:48.000000000,26,31,0,564615,c935eb8305f21745480abb49e1e380f1c9053d9a,23,16,1,2,4690,melanie witt,melwitt,"RBD: Handle ImageNotFound exception in _get_usage_info correctly

Change https://review.openstack.org/#/c/486734 moved try-except
statement to the wrong place. We need to open image in Ceph inside
try-except block.

This patch also fixes race condition between volume deletion and
_get_usage_info calls.

Closed-Bug: #1765845
Change-Id: I7d3d006b023ca4b7963c4c684e4c036399d1295c
Co-Authored-By: Melanie Witt <melwittt@gmail.com>
(cherry picked from commit 3cc8cbdee7c98e1fcf41bb27d81e34fef3a2d032)
"
openstack%2Fcinder~driverfixes%2Fnewton~I0e21cbcb6effa1e72999580564099976511ca4a9,openstack/cinder,driverfixes/newton,bug/1731474,I0e21cbcb6effa1e72999580564099976511ca4a9,NetApp: Add use-exact-size parameter when creating a LUN on ONTAP iSCSI,MERGED,2018-04-17 14:13:43.000000000,2018-04-28 19:01:28.000000000,2018-04-26 20:42:13.000000000,36,4,0,561955,8ec5908c39d3c2453a219a457930651dde91349d,31,12,2,3,18058,Lucio Seki,lseki,"NetApp: Add use-exact-size parameter when creating a LUN on ONTAP iSCSI

When a cinder volume is created the ontap backend fits the LUN to the
best geometry. It makes the image uploaded from a volume larger than
expected and a volume of larger size must be created from that image.
Using the use-exact-size parameter the backend does not fit to best
geometry, the image uploaded from that volume has the same size and a
volume of the same size may be created from that image.

Nevertheless this parameter is available only in Data ONTAP 9.1 (ontapi
version 1.110) and later.

Closes-Bug: #1731474
Change-Id: I0e21cbcb6effa1e72999580564099976511ca4a9
(cherry picked from commit 67391f1f0f30172190882e7d3f4a4ddc271dfa00)
"
openstack%2Fcinder~master~I344da50112af8e559408b5b7c8532c659a97c7c2,openstack/cinder,master,bp/nvme-target-cli,I344da50112af8e559408b5b7c8532c659a97c7c2,Adding abstract class NVMeOF,MERGED,2017-09-18 13:39:13.000000000,2018-04-28 19:01:26.000000000,2018-04-26 20:42:15.000000000,322,5,62,504944,10c801c1d588ef49a9f30c4edfd5ba248a84fef1,630,67,27,5,22948,Hamdy Khader,hamdyk,"Adding abstract class NVMeOF

A new driver is added, and allows Targets to implement
create_nvmeof_target, delete_nvmeof_target methods.

NVMeOF is an abstract class to be implemented by NVMeOF
helpers.

Implements: blueprint nvme-target-cli
Change-Id: I344da50112af8e559408b5b7c8532c659a97c7c2
"
openstack%2Fcinder~master~Ieb524d9b192e2a222f7d25a0df80cf52f1423e81,openstack/cinder,master,bug/1765610,Ieb524d9b192e2a222f7d25a0df80cf52f1423e81,QNAP: driver fails to create volume and snapshot in some case,MERGED,2018-04-23 06:47:49.000000000,2018-04-28 19:01:18.000000000,2018-04-24 19:50:02.000000000,18,8,4,563497,880ff557ca3d6569464b9667ac25825cf5e3c7fd,93,35,3,2,26134,Chris Yang,chrisyang,"QNAP: driver fails to create volume and snapshot in some case

When NAS is busy or network delay, the volume or snapshot would
fail to created. We fixed the logic of waiting NAS to creating
LUN or snapshot.

Change-Id: Ieb524d9b192e2a222f7d25a0df80cf52f1423e81
Closes-Bug: #1765610
"
openstack%2Fcinder~stable%2Focata~Id3576a52e253ed242685999e96d638e98ce605bf,openstack/cinder,stable/ocata,bug/1681895-stable/ocata,Id3576a52e253ed242685999e96d638e98ce605bf,Fix wrong usage of rbd.list_snaps return value,MERGED,2017-10-11 13:06:12.000000000,2018-04-28 19:01:06.000000000,2018-04-27 03:03:33.000000000,16,1,0,511230,197f33bcd09821d5bfa38b8e9837675bc48a29b5,83,30,2,2,27056,Sven Wegener,swegener,"Fix wrong usage of rbd.list_snaps return value

the return value of rbd.list_snaps is a generator with dict.

Co-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>
Change-Id: Id3576a52e253ed242685999e96d638e98ce605bf
Closes-Bug: #1681895
(cherry picked from commit 3e2a593ae9eb80d9753cd118e59008a77a315c11)
"
openstack%2Fcinder~stable%2Focata~I894f7c48129ba503e01e8216ebb90a50fad97e98,openstack/cinder,stable/ocata,driverfixes_sync,I894f7c48129ba503e01e8216ebb90a50fad97e98,Tests: Fix unit test failures due to space check,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 19:00:04.000000000,2018-04-27 05:11:27.000000000,14,4,0,560608,9cc454f9ba45546abd00ea7b6978774fb3b32d2f,43,20,2,1,11904,Sean McGinnis,SeanM,"Tests: Fix unit test failures due to space check

These tests can fail depending on the available space
where the unit tests are run.

This was fixed by bc52ae4219 in Pike.

Change-Id: I894f7c48129ba503e01e8216ebb90a50fad97e98
"
openstack%2Fcinder~stable%2Focata~Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769,openstack/cinder,stable/ocata,driverfixes_sync,Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769,nimble: handle unicode strings in volume create,MERGED,2017-12-06 18:41:17.000000000,2018-04-28 19:00:02.000000000,2018-04-27 05:34:42.000000000,57,3,0,526146,de0a6be2ab765af0035d225df2c9d4880fdf2d75,73,24,3,2,16668,Raunak Kumar,rkumar,"nimble: handle unicode strings in volume create

currently nimble cinder driver doesn't handle unicode strings
for display_name and display_description

Change-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769
Closes-Bug: 1732812
(cherry picked from commit 23ac0ab4edd38b91b0c21d5c9e81cd1a7bdddc55)
"
openstack%2Fcinder~stable%2Focata~I21511e5c4db62563c61815c1671e8bb44ad3f427,openstack/cinder,stable/ocata,driverfixes_sync,I21511e5c4db62563c61815c1671e8bb44ad3f427,FlashSystems: permit snapshot/clone volumes larger than source,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 19:00:00.000000000,2018-04-27 05:34:44.000000000,36,24,0,560609,06d77dbc1e8326124fa5a0607a006055c6c874c9,50,22,2,2,11904,Sean McGinnis,SeanM,"FlashSystems: permit snapshot/clone volumes larger than source

Permit clone volumes and volumes created from snapshots to
be larger than their source volumes; implemented in response
to failures in the following CI tests:
  * VolumesSnapshotTestJSON.test_volume_from_snapshot
  * VolumesCloneTest.test_create_from_volume

Change-Id: I21511e5c4db62563c61815c1671e8bb44ad3f427
Closes-Bug: #1560655
(cherry picked from commit 927367cd9af6adf260bea4da4dcc5cc94eaa7b13)
"
openstack%2Fcinder~stable%2Focata~I2099b804a2043078e50a5a9e14c1497861576f61,openstack/cinder,stable/ocata,driverfixes_sync,I2099b804a2043078e50a5a9e14c1497861576f61,Kaminario K2: Support duplicated FQDN in network,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 18:59:58.000000000,2018-04-27 05:38:42.000000000,46,3,0,560610,caceaa52a7070548b7b42df877e23bc4d3845def,48,21,2,3,11904,Sean McGinnis,SeanM,"Kaminario K2: Support duplicated FQDN in network

The Kaminario K2 driver uses the FQDN of the node that is doing the
attach as an unique identifier to map the volume.

The problem is that the FQDN is not always unique, there are
environments where the same FQDN can be found in different systems, and
in those cases if both try to attach volumes the second system will
fail.

One example of this happening would be on a QA environment where you are
creating VMs and they all have names like controller-0.localdomain and
compute-0.localdomain.

This patch adds a configuration option to the K2 driver called
`unique_fqdn_network` to support these kind of environments.

Closes-Bug: #1720147
Change-Id: I2099b804a2043078e50a5a9e14c1497861576f61
(cherry picked from commit baa8626eac9c975b719c03274d42b54ce3de74fe)
"
openstack%2Fcinder~stable%2Focata~I4b8d99966f387f51c1125ba72c1ce149229a8bc0,openstack/cinder,stable/ocata,driverfixes_sync,I4b8d99966f387f51c1125ba72c1ce149229a8bc0,FlashSystem: Add CMMVC6045E CLI error for multi-host mapping,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 18:59:57.000000000,2018-04-27 16:15:05.000000000,72,13,0,560611,5503c0f4d204efb141cf39a183d0bcadf7892505,57,21,2,2,11904,Sean McGinnis,SeanM,"FlashSystem: Add CMMVC6045E CLI error for multi-host mapping

Add CMMVC6045E to list of CLI error codes indicating a multi-host
map was attempted without the '-force' parameter. Re-raise on
match failure to avert spurious success when an unexcepted CLI
error is emitted. Add good and bad-path testing for multi-host
map to test_flashsystem_map_vdisk_to_host

Change-Id: I4b8d99966f387f51c1125ba72c1ce149229a8bc0
Closes-Bug: #1723188
(cherry picked from commit 421837ab4a3244022ad8292ad1ef0de37e9de532)
"
openstack%2Fcinder~stable%2Focata~I623d6114db866a465955f8a5ae7f40b69c781622,openstack/cinder,stable/ocata,driverfixes_sync,I623d6114db866a465955f8a5ae7f40b69c781622,HPE3PAR: Create FC vlun as host sees,MERGED,2017-11-29 18:20:39.000000000,2018-04-28 18:52:03.000000000,2018-04-27 05:38:44.000000000,17,92,0,523954,e9a4c2110c63d3ccfad75cd863fd85f62be11026,118,30,4,2,24952,Vivek Soni,sonivi,"HPE3PAR: Create FC vlun as host sees

Host sees VLUN template allows host connected
to any port to see a vv. so, only one vlun
template will be created per host irrespective
of number of FC ports available.

Change-Id: I623d6114db866a465955f8a5ae7f40b69c781622
Closes-Bug: #1734505
(cherry picked from commit cd18537fd631ba08a342bcfd328d765ea4d8c129)
"
openstack%2Fswift~feature%2Fdeep~I6221228acc1b60cc96a5b33541083fd7b1e39d05,openstack/swift,feature/deep,p-sharding-utf8,I6221228acc1b60cc96a5b33541083fd7b1e39d05,Fix unicode errors with non-ascii object names,MERGED,2018-04-20 11:06:18.000000000,2018-04-28 18:21:51.000000000,2018-04-28 18:21:51.000000000,176,63,9,563076,dca5dfed2203a25b54d35677c59136bd07f68f0e,16,3,2,7,7847,Alistair Coles,acoles,"Fix unicode errors with non-ascii object names

Encode ShardRange upper and lower bound values as they are set.

Encode CleavingContext cursor value as it is set.

Also refactor probe tests to allow selected tests to be run with and
without non-ascii container and object names.

Change-Id: I6221228acc1b60cc96a5b33541083fd7b1e39d05
"
openstack%2Ftripleo-upgrade~master~Iedf1d67748115c05c210c9e4fcd5dc4f52575a55,openstack/tripleo-upgrade,master,revert,Iedf1d67748115c05c210c9e4fcd5dc4f52575a55,"Revert ""undercloud: workaround for containers""",MERGED,2018-04-27 14:55:08.000000000,2018-04-28 17:51:13.000000000,2018-04-28 17:51:13.000000000,0,2,0,564791,9f6dbb04db7dd2d578c075422f070ed7a6e59578,9,4,1,1,3153,Emilien Macchi,emilienm,"Revert ""undercloud: workaround for containers""

We had a promotion on master, we shouldn't need this revert anymore.
This reverts commit 0fa75583aeaf11414675fb3bd9f4c15c4702ce25.

Change-Id: Iedf1d67748115c05c210c9e4fcd5dc4f52575a55
"
openstack%2Fos-net-config~stable%2Fpike~Ia5a6d04eb26cc3a6e10caacb8256d6e2d183239e,openstack/os-net-config,stable/pike,bug/1751955,Ia5a6d04eb26cc3a6e10caacb8256d6e2d183239e,ifcfg: don't restart ovs if --no-activate is specified,MERGED,2018-04-27 02:58:49.000000000,2018-04-28 17:45:13.000000000,2018-04-28 17:45:13.000000000,9,9,0,564662,e401e784c8f9523a9b2ee3e47e5676e976bd43c5,10,5,1,1,21151,zenghui.shi,zshi,"ifcfg: don't restart ovs if --no-activate is specified

When --no-activate is specified, there is a chance that
openvswitch service will still be restarted if dpdk port
configuration file is changed. This adds a condition to
check activate and restart openvswitch only if activate
is true.

Change-Id: Ia5a6d04eb26cc3a6e10caacb8256d6e2d183239e
Closes-Bug: #1751955
(cherry picked from commit 9e3436262d14fd90c19c271ae66474ea5eef4ec1)
"
openstack%2Ftripleo-common~stable%2Fqueens~Ib2d2ad4960ea34ec9e3fca1eeb322742341f7eb7,openstack/tripleo-common,stable/queens,bug/1749209,Ib2d2ad4960ea34ec9e3fca1eeb322742341f7eb7,Fix missing docker package in neutron L3 agent container,MERGED,2018-04-26 12:32:58.000000000,2018-04-28 17:45:12.000000000,2018-04-28 17:45:11.000000000,3,1,0,564483,c5d3a943bc8f7b5ea95d5ef8e3ecfd4765563c05,8,3,1,1,6681,Brent Eagles,beagles,"Fix missing docker package in neutron L3 agent container

We need to use the append macro to add the docker package to the L3 agent
container.

Note: the dhcp image should really be doing the same thing, but requires
a change to the kolla repo and will be addressed in follow-up patches.
(See https://bugs.launchpad.net/kolla/+bug/1766863)

Change-Id: Ib2d2ad4960ea34ec9e3fca1eeb322742341f7eb7
Related-Bug: #1749209
(cherry picked from commit 86117a7ce86ac2a2f0ae74bd907abac292d4d751)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I5c5786aa8bca96257a752714ecf870ba9066a0d7,openstack/tripleo-heat-templates,stable/queens,,I5c5786aa8bca96257a752714ecf870ba9066a0d7,Removing the deprecated environment files for hw offloading in queens,MERGED,2018-04-26 08:46:51.000000000,2018-04-28 17:45:12.000000000,2018-04-28 17:45:12.000000000,0,170,0,564426,5b52e6121c87c53b8b86afe1a0103485b8077287,13,6,2,6,25241,waleed mousa,waleedm,"Removing the deprecated environment files for hw offloading in queens

For deploying with hw offloading, we should use the
""environments/ovs-hw-offload.yaml"" file beside neutron, opendaylight
or ovn environments files.

Change-Id: I5c5786aa8bca96257a752714ecf870ba9066a0d7
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I723237ae7285f3babd6eceb1ce7da4e2734d1e4f,openstack/tripleo-heat-templates,stable/pike,bug/1755602,I723237ae7285f3babd6eceb1ce7da4e2734d1e4f,Improve nova-ironic cellv2 discovery,MERGED,2018-04-26 13:09:28.000000000,2018-04-28 17:45:10.000000000,2018-04-28 17:45:10.000000000,3,3,0,564497,56491c13b6da425f70d23f77cae2cf80630c2f4e,10,5,1,3,10239,Dmitry Tantsur,dtantsur,"Improve nova-ironic cellv2 discovery

Use the existing nova-compute cellv2 discovery logic for nova-ironic too, now
that we have the --by-service flag.
The nova_api_discover_hosts.sh script will now wait (up to 10 minutes) for all
nova-compute and nova-ironic services to register, then run host discovery
with --by-service to create host mappings for all services. We no longer need
ironic nodes to be deployed on the nova-ironic services for discovery to work.
We also no longer need to enable the priodic job.

Related nova change Ie9f064cb9caf6dcba2414acb24d12b825df45fab

Conflicts:
	environments/services/ironic.yaml

Related-Bug: #1755602
Change-Id: I723237ae7285f3babd6eceb1ce7da4e2734d1e4f
(cherry picked from commit 9d61779a231924588d5a67d85d006fa4111215a8)
"
openstack%2Fopenstack-helm-infra~master~I4e58e1626c059247928167c9e45c44a49e26bd8d,openstack/openstack-helm-infra,master,yaml-fix-calico,I4e58e1626c059247928167c9e45c44a49e26bd8d,calico: yaml indentation fixes,MERGED,2018-04-11 21:48:37.000000000,2018-04-28 17:41:38.000000000,2018-04-28 17:41:38.000000000,32,32,0,560665,aa916870bd4ba5f72b67f3cc90ec72957bcc7599,8,6,1,1,8898,Chris Wedgwood,anticw,"calico: yaml indentation fixes

Change-Id: I4e58e1626c059247928167c9e45c44a49e26bd8d
"
openstack%2Fopenstack-helm-infra~master~I2bed45c554b19e6cd8373d88325e33ef4777b0c7,openstack/openstack-helm-infra,master,yaml-fix-prom-alert,I2bed45c554b19e6cd8373d88325e33ef4777b0c7,prometheus-alertmanager: yaml indentation fixes,MERGED,2018-04-11 21:48:50.000000000,2018-04-28 17:41:30.000000000,2018-04-28 17:41:30.000000000,68,67,0,560669,fb73a54b94751416767c0b70ed051bb7522c8985,9,5,2,1,8898,Chris Wedgwood,anticw,"prometheus-alertmanager: yaml indentation fixes

Change-Id: I2bed45c554b19e6cd8373d88325e33ef4777b0c7
"
openstack%2Fneutron-tempest-plugin~master~I1523ecec61110a4398a2c32e08116610e485a47f,openstack/neutron-tempest-plugin,master,bug/1723026,I1523ecec61110a4398a2c32e08116610e485a47f,Add tests for floatingip port_details,MERGED,2018-04-16 20:50:54.000000000,2018-04-28 17:07:08.000000000,2018-04-28 17:07:08.000000000,35,0,5,561710,658a81f99353634081b6811a9efb4941ae3a78b0,18,5,3,1,27654,Hongbin Lu,hongbin.lu,"Add tests for floatingip port_details

Depends-On: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa
Change-Id: I1523ecec61110a4398a2c32e08116610e485a47f
Related-Bug: #1723026
"
openstack%2Fneutron~master~I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa,openstack/neutron,master,bug/1723026,I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa,Add port_details to Floating IP,MERGED,2018-01-12 23:53:20.000000000,2018-04-28 17:07:07.000000000,2018-04-28 17:07:07.000000000,257,2,19,533327,c760d4f26f4b4753c80269437d2cd0b8f63dbc7c,90,12,15,8,11536,hongbin,hongbin,"Add port_details to Floating IP

If the floating IP is associated with a port, this attribute
will contain detailed information of the associated port. This allows
users to retrieve the floating IPs with information of its associated
port (if any) in one API call.

Other related patches:
* neutron-lib: https://review.openstack.org/#/c/534882/
* osc: https://review.openstack.org/#/c/533809/
* sdk: https://review.openstack.org/#/c/533811/
* tempest-plugin: https://review.openstack.org/#/c/561710/

APIImpact the API reference needs to be updated

Change-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa
Partial-Bug: #1723026
"
openstack%2Foctavia-tempest-plugin~master~I524c5a3534914e6c130dd4c5bed2be77d7e38c74,openstack/octavia-tempest-plugin,master,,I524c5a3534914e6c130dd4c5bed2be77d7e38c74,Fix tests for Octavia API compat changes,MERGED,2018-04-23 19:11:54.000000000,2018-04-28 16:43:46.000000000,2018-04-28 16:43:46.000000000,13,3,0,563737,a795ae6ffcf2c95b58dfb43d8cf51d97d570f0f1,12,4,3,3,10273,Adam Harwell,rm_you,"Fix tests for Octavia API compat changes

Change-Id: I524c5a3534914e6c130dd4c5bed2be77d7e38c74
Depends-On: https://review.openstack.org/#/c/563341/
"
openstack%2Fopenstack-ansible-ops~master~I63e59e249329ececf0598552b95329b38b4ed32c,openstack/openstack-ansible-ops,master,graylog2,I63e59e249329ececf0598552b95329b38b4ed32c,Add Graylog Central Logging,MERGED,2018-04-24 21:36:36.000000000,2018-04-28 16:28:09.000000000,2018-04-28 16:28:09.000000000,257,0,1,564070,afca2222b295326cd758f9e3cb31f241b6cc2e46,10,4,2,5,17068,Jean-Philippe Evrard,evrardjp,"Add Graylog Central Logging

This adds a central logging using graylog2 with little to no
code.

Change-Id: I63e59e249329ececf0598552b95329b38b4ed32c
"
openstack%2Fopenstacksdk~master~I882eb9a6fde2e687f687a55aa450ea4b34fa5ab3,openstack/openstacksdk,master,flavor-params,I882eb9a6fde2e687f687a55aa450ea4b34fa5ab3,Flavor: added is_public query parameter and description property,MERGED,2018-04-27 15:57:54.000000000,2018-04-28 16:04:20.000000000,2018-04-28 16:04:20.000000000,7,2,0,564817,b17faa7b73c3630ae2dc14421b6339a9b2ff6c41,8,3,1,2,10338,Daniel Speichert,daniel,"Flavor: added is_public query parameter and description property

Change-Id: I882eb9a6fde2e687f687a55aa450ea4b34fa5ab3
"
openstack%2Fqinling~master~If2186013c3c49f1d99ab0ca9b623a339f01680f6,openstack/qinling,master,test-function-version-execution,If2186013c3c49f1d99ab0ca9b623a339f01680f6,Functional test for creating execution with function version,MERGED,2018-04-27 10:51:23.000000000,2018-04-28 15:02:25.000000000,2018-04-28 15:02:25.000000000,50,5,0,564730,6ee16cee269a3bf33b5687c76785106b8ae15ea2,11,2,3,5,6732,Lingxian Kong,kong,"Functional test for creating execution with function version

Other changes in order to make this patch pass CI jobs:
- Incease default runtime replicas to 5
- Decrease tempest concurrency number to 2

Change-Id: If2186013c3c49f1d99ab0ca9b623a339f01680f6
Story: 2001829
Task: 14456
"
openstack%2Fnova~master~I762dc4a70613056f1bd9ba7bf11c3a4588bdac70,openstack/nova,master,bp/alloc-candidates-member-of,I762dc4a70613056f1bd9ba7bf11c3a4588bdac70,Address issues raised in adding member_of to GET /a-c,MERGED,2018-03-19 20:51:55.000000000,2018-04-28 14:44:08.000000000,2018-04-25 17:43:38.000000000,65,48,24,554357,77d3fc3838dcd8efcb41a1e30c879f7bf12d4d20,102,20,7,9,1063,Ed Leafe,ed-leafe,"Address issues raised in adding member_of to GET /a-c

In an earlier patch [0], there were some valid criticisms noted. They
were not critical enough to require holding off on that patch, so they
are being addressed here in a follow-up patch.

[0] I5857e927a830914c96e040936804e322baccc24c

Blueprint: alloc-candidates-member-of

Change-Id: I762dc4a70613056f1bd9ba7bf11c3a4588bdac70
"
openstack%2Fmistral~stable%2Fpike~Id8f5e917b45fedf09ecf2d28798a6949cf5f5c99,openstack/mistral,stable/pike,bug/1757966,Id8f5e917b45fedf09ecf2d28798a6949cf5f5c99,Do not copy workflow environment into subworkflows,MERGED,2018-04-28 10:08:51.000000000,2018-04-28 14:16:43.000000000,2018-04-28 14:16:43.000000000,13,16,0,565004,7ec98b457cb83087241fbe5153467946c90af099,6,2,1,4,8731,Renat Akhmerov,rakhmerov,"Do not copy workflow environment into subworkflows

* We previously always copied a workflow environment of a parent
  workflow into a subworkflow when starting it. However, this is
  redundant because we now have 'root_execution_id' field in the
  the workflow execution model so that we can always get an
  environment of a subworkflow just by accessing the root execution.
  It saves a lot of space in DB and increases performance in cases
  when we have a large workflow environment and many subworkflows.

Change-Id: Id8f5e917b45fedf09ecf2d28798a6949cf5f5c99
Related-Bug: #1757966
"
openstack%2Ftripleo-quickstart~master~Ia0c70b49bfcabea49b673d605c1bf1775ce007e5,openstack/tripleo-quickstart,master,bug/1766326,Ia0c70b49bfcabea49b673d605c1bf1775ce007e5,"Tag ""Add the virthost to the inventory"" as teardown-",MERGED,2018-04-27 09:28:44.000000000,2018-04-28 13:54:22.000000000,2018-04-28 13:54:22.000000000,4,0,7,564712,69e473985a720d06ca924ceef09dd065bfa3f086,28,14,6,1,27898,Quique Llorente,quiquell,"Tag ""Add the virthost to the inventory"" as teardown-

To run only the teardown-all with -t teardown-all doesn't work, 
virthost is missing in the ansible memory inventory.

Closes-Bug: 1766326

Change-Id: Ia0c70b49bfcabea49b673d605c1bf1775ce007e5
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ibfc9baf3aca55b49cc197758cbf5a0df9daa8b9b,openstack/tripleo-heat-templates,stable/queens,bug/1766183,Ibfc9baf3aca55b49cc197758cbf5a0df9daa8b9b,Add OVNCMSOptions in dvr environment files,MERGED,2018-04-27 10:13:03.000000000,2018-04-28 13:54:21.000000000,2018-04-28 13:54:21.000000000,4,0,0,564720,052b3330a07a6b5c35ec2b8d9488e74270e3a41b,11,10,1,2,10267,venkata anil,anil,"Add OVNCMSOptions in dvr environment files

This option must be enabled in a controller to be selected for hosting
a gateway router. But it is missing in DVR environment files. So when
these files are used for the deployment, vms were not able to reach
external network. So adding this option for DVR files.

Change-Id: Ibfc9baf3aca55b49cc197758cbf5a0df9daa8b9b
Closes-Bug: 1766183
(cherry picked from commit 39ef030553e65ed80326afcf339029ed0f2ae8e4)
"
openstack%2Ftripleo-heat-templates~master~I683bb9e96eef73a014d5967a5930ef519ac34430,openstack/tripleo-heat-templates,master,bug/1767395,I683bb9e96eef73a014d5967a5930ef519ac34430,Add DeployIdentifier to Swift set_swift_secret container,MERGED,2018-04-27 15:03:29.000000000,2018-04-28 13:54:19.000000000,2018-04-28 13:54:19.000000000,13,0,0,564798,5fd8757c5f01dfc6b7449edd845ade625ffb0b6e,11,5,1,1,6968,Christian Schwede,cschwede,"Add DeployIdentifier to Swift set_swift_secret container

Resolves an issue during scale out where the Swift set_swift_secret
container that sets the required Barbican key ID wasn't executing on a
Heat stack update if the container name and configs all stayed the same.

Closes-bug: 1767395
Change-Id: I683bb9e96eef73a014d5967a5930ef519ac34430
"
openstack%2Ftripleo-heat-templates~master~If76475f359a020bf8eab55df7e3f5f674ea2e85d,openstack/tripleo-heat-templates,master,bug/1760118,If76475f359a020bf8eab55df7e3f5f674ea2e85d,Make novajoin vendordata timeout configurable,MERGED,2018-04-27 15:15:53.000000000,2018-04-28 13:54:18.000000000,2018-04-28 13:54:18.000000000,7,0,0,564803,52d4eb503dfe667f1393e1c8dd5aecfd9723f386,11,6,1,1,10873,Juan Antonio Osorio Robles,ejuaoso,"Make novajoin vendordata timeout configurable

It exposes the timeout as a parameter, sets the default to 30, and
makes it configurable.

Change-Id: If76475f359a020bf8eab55df7e3f5f674ea2e85d
Related-Bug: #1760118
"
openstack%2Fnova~master~I6b19da4fef46eb8c81d8f14a8be25093f4feb745,openstack/nova,master,,I6b19da4fef46eb8c81d8f14a8be25093f4feb745,Update eventlet,ABANDONED,2018-04-12 12:11:40.000000000,2018-04-28 12:23:45.000000000,,1,1,0,560876,daefb6e438b33905194ab8e0dc5886a758f2ff1d,14,12,1,1,26297,pippo,huang.zhiping,"Update eventlet

We will manage the eventlet version using constraints now. See the
thread starting at
http://lists.openstack.org/pipermail/openstack-dev/2018-April/129096.html
for more details.

Change-Id: I6b19da4fef46eb8c81d8f14a8be25093f4feb745
"
openstack%2Fironic~master~I355f531d2aab94ef92dd15904d57599b251c4279,openstack/ironic,master,,I355f531d2aab94ef92dd15904d57599b251c4279,uncap eventlet,ABANDONED,2018-04-12 11:43:38.000000000,2018-04-28 12:23:33.000000000,,1,1,0,560871,b58de18ce7db11ced1b2086262195cff3b6be598,9,7,1,1,26297,pippo,huang.zhiping,"uncap eventlet

We will manage the eventlet version using constraints now. See the
thread starting at
http://lists.openstack.org/pipermail/openstack-dev/2018-April/129096.html
for more details.

Change-Id: I355f531d2aab94ef92dd15904d57599b251c4279
"
openstack%2Fironic~master~I25a7a569654e528fe6e4c15aea7d10c26a0422f0,openstack/ironic,master,,I25a7a569654e528fe6e4c15aea7d10c26a0422f0,Trivial: Update pypi url to new url,ABANDONED,2018-04-23 09:29:30.000000000,2018-04-28 12:23:23.000000000,,16,16,0,563545,1b71b868928fcc3db6bb5c2f3329627166a1e466,10,8,1,8,26297,pippo,huang.zhiping,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I25a7a569654e528fe6e4c15aea7d10c26a0422f0
"
openstack%2Frally~master~Ia8c4dc66a6fe00233b53c5cc018720f43e591d1c,openstack/rally,master,,Ia8c4dc66a6fe00233b53c5cc018720f43e591d1c,Updated from global requirements,ABANDONED,2018-03-23 13:38:39.000000000,2018-04-28 12:23:09.000000000,,1,1,0,555777,32c02659f25b6b45d423e79cefc04889a4cf6c89,4,2,1,1,26297,pippo,huang.zhiping,"Updated from global requirements

Change-Id: Ia8c4dc66a6fe00233b53c5cc018720f43e591d1c
"
openstack%2Frally~master~I5250c219200d218087865e10dc73f79de715862f,openstack/rally,master,,I5250c219200d218087865e10dc73f79de715862f,Updated from global requirements,ABANDONED,2018-03-23 09:55:57.000000000,2018-04-28 12:23:00.000000000,,3,3,0,555721,d20f3045f6744ca8f0262493ad87458bceff0b69,4,2,1,1,26297,pippo,huang.zhiping,"Updated from global requirements

Change-Id: I5250c219200d218087865e10dc73f79de715862f
"
openstack%2Fopenstack-ansible-os_tempest~master~I05f88153e522b55e619b4d2e2cdfd311ab8228d8,openstack/openstack-ansible-os_tempest,master,do_not_build_from_sha,I05f88153e522b55e619b4d2e2cdfd311ab8228d8,Comment tempest_git_repo role default,MERGED,2018-04-27 13:50:48.000000000,2018-04-28 12:22:26.000000000,2018-04-28 12:22:26.000000000,4,1,0,564764,db6a3e0af6748951a47faacdd976bcf09c058ce6,13,3,3,1,7307,Matt Thompson,mattt416,"Comment tempest_git_repo role default

This commit comments out the default for tempest_git_repo so that we
can install tempest from PyPi, but with constraints applied. This was
attempted in [1] but wasn't enough to achieve this outcome. Note that
this change also requires an update to the repo_build role [2] for it
to fully work.

[1] I014201129b4d6b47ec45ff6239287623123a1595
[2] I4468092eb5c86d6346a793ba1e2bfc6e772de3bb

Change-Id: I05f88153e522b55e619b4d2e2cdfd311ab8228d8
"
openstack%2Frpm-packaging~master~I2f99904dad28d075b1d74612b7c81a850239098b,openstack/rpm-packaging,master,tripleo-common,I2f99904dad28d075b1d74612b7c81a850239098b,Updated tripleo-common to 8.5.0,ABANDONED,2018-03-03 14:06:04.000000000,2018-04-28 11:44:52.000000000,,2,2,0,549468,26b6196f630b71f3153a179701e1af41fe0f7eb7,8,6,1,1,26297,pippo,huang.zhiping,"Updated tripleo-common to 8.5.0

Change-Id: I2f99904dad28d075b1d74612b7c81a850239098b
"
openstack%2Fmanila-specs~master~Ibcdba4fe820193b1594f36cef6c31c24005bd464,openstack/manila-specs,master,,Ibcdba4fe820193b1594f36cef6c31c24005bd464,Switch to openstackdocstheme,MERGED,2018-04-27 20:27:41.000000000,2018-04-28 11:21:29.000000000,2018-04-28 11:21:29.000000000,12,4,0,564877,d3e3d1b8a92dfdc4517942b7addaefdac45a63c2,7,3,1,3,16643,Goutham Pacha Ravi,gouthamr,"Switch to openstackdocstheme

Provides consistency across other specifications
on specs.openstack.org.

Change-Id: Ibcdba4fe820193b1594f36cef6c31c24005bd464
"
openstack%2Ftripleo-heat-templates~master~I99ccea35edb39ed98b537eb7f7947f1c957d79f9,openstack/tripleo-heat-templates,master,bug/1759049,I99ccea35edb39ed98b537eb7f7947f1c957d79f9,Fixes chowning neutron cert/key perms,MERGED,2018-04-26 20:04:50.000000000,2018-04-28 11:20:39.000000000,2018-04-28 10:23:12.000000000,2,2,1,564614,542ec3590fb8e5dac44c3efb05f40706cedd0079,14,7,1,1,17280,Tim Rozet,trozet,"Fixes chowning neutron cert/key perms

Modifyign the certificate and key permissions for neutron was failing
during kolla start because the files were mounted as read only in the
container.

Related-Bug: 1759049

Change-Id: I99ccea35edb39ed98b537eb7f7947f1c957d79f9
Signed-off-by: Tim Rozet <trozet@redhat.com>
"
openstack%2Fmanila-specs~master~I5757dd63ef03ae01b643069b0018821ae7f2752f,openstack/manila-specs,master,,I5757dd63ef03ae01b643069b0018821ae7f2752f,Remove non-spec file,MERGED,2018-04-27 19:36:34.000000000,2018-04-28 11:18:55.000000000,2018-04-28 11:18:55.000000000,0,2,0,564869,9a4908a4cfe022116f2174db80d48ac836eb863d,7,3,1,1,16643,Goutham Pacha Ravi,gouthamr,"Remove non-spec file

TrivialFix

Change-Id: I5757dd63ef03ae01b643069b0018821ae7f2752f
"
openstack%2Fsahara~master~If776be271bec56b9934459bc70c998376705ecb2,openstack/sahara,master,fix_punctuation,If776be271bec56b9934459bc70c998376705ecb2,Replace Chinese punctuation with English punctuation,ABANDONED,2018-04-28 11:04:22.000000000,2018-04-28 11:07:06.000000000,,4,4,0,565007,bb9c7e3be142aa233b9a1393c1ef02e2b4678ac4,2,0,1,1,27565,inspurericzhang,inspurericzhang,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input method.
When read from english context, it makes some confusion.

Change-Id: If776be271bec56b9934459bc70c998376705ecb2
"
openstack%2Fironic-inspector~master~I38955fe9dbfd339df2a10dcbb55e996bf515034a,openstack/ironic-inspector,master,sighup-manual,I38955fe9dbfd339df2a10dcbb55e996bf515034a,Support reload configuration on SIGHUP,MERGED,2018-04-11 02:39:51.000000000,2018-04-28 10:51:18.000000000,2018-04-28 10:51:18.000000000,37,0,0,560243,76898b73824104486c243a8a6ac61c43a463184e,26,6,2,3,24828,Kaifeng Wang,wangkf,"Support reload configuration on SIGHUP

This adds signal handler to reload mutable configuration options
on SIGHUP.

It has to be done manually, because ironic-inspector doesn't use
oslo.service.

Change-Id: I38955fe9dbfd339df2a10dcbb55e996bf515034a
Story: #1585595
Task: #12543
"
openstack%2Fheat~master~If7e0e8fd46b1b06a29cdd89743635ed32a9392e7,openstack/heat,master,bug/1708209,If7e0e8fd46b1b06a29cdd89743635ed32a9392e7,Ignore property errors in implicit dependencies,MERGED,2017-08-02 18:57:09.000000000,2018-04-28 10:27:31.000000000,2018-04-28 10:27:31.000000000,113,34,0,490149,b50df6b1fc460c7427dacb13ee9e6e41ec63eb22,16,8,2,6,4257,Zane Bitter,zaneb,"Ignore property errors in implicit dependencies

Implicit dependencies are calculated before resources are validated.
Therefore, any error getting a property that occurs during processing on
implicit dependencies will be raised without any of the context of which
resource is in error. By ignoring such property errors in implicit
dependency calculations, we can defer the error handling until the
actual resource validation and thus give the user an error message they
can actually use.

Change-Id: If7e0e8fd46b1b06a29cdd89743635ed32a9392e7
Closes-Bug: #1708209
"
openstack%2Fcyborg~master~I130bad097ffa2ef6594c5979f536b76a9350939f,openstack/cyborg,master,bug/14457,I130bad097ffa2ef6594c5979f536b76a9350939f,Fix remote call conductor error,MERGED,2018-04-28 02:28:57.000000000,2018-04-28 10:27:17.000000000,2018-04-28 10:27:17.000000000,11,11,0,564962,801aad10a488ff79a56e31a73d9df12cd44b983d,11,7,2,1,17813,wangzhh,wangzhh,"Fix remote call conductor error

Change-Id: I130bad097ffa2ef6594c5979f536b76a9350939f
Story: 2001928
Task: 14457
"
openstack%2Ftripleo-common~stable%2Fqueens~I80163c8df15377dd3b5a44b5439a23223d8cccee,openstack/tripleo-common,stable/queens,bug/1761412,I80163c8df15377dd3b5a44b5439a23223d8cccee,Allow uploading big files to swift (5GB),MERGED,2018-04-24 14:17:31.000000000,2018-04-28 10:15:19.000000000,2018-04-28 10:15:19.000000000,183,29,0,563977,ba013510b25eef75776cf453cd31d5a1da3a0f80,24,5,2,9,20775,Carlos Camacho,ccamacho,"Allow uploading big files to swift (5GB)

This patch enables the swift upload for big files (+5GB)
in TripleO.
Also, adds support to the undercloud backup CLI to upload
big backups to swift.

Change-Id: I80163c8df15377dd3b5a44b5439a23223d8cccee
Depends-On: Iff73833f1d470750862873f70a4a9aaba50bd164
Closes-Bug: 1761412
(cherry picked from commit: I80163c8df15377dd3b5a44b5439a23223d8cccee)
"
openstack%2Fapi-site~master~I76ce6f08d4e7b1ed45202e4849bcf5590fde0c96,openstack/api-site,master,fix_misspelling,I76ce6f08d4e7b1ed45202e4849bcf5590fde0c96,fix misspelling,ABANDONED,2018-04-28 08:19:45.000000000,2018-04-28 10:05:03.000000000,,2,2,0,564989,05dd50e68365b827b4aad58e8994e18fccada85e,4,2,1,1,27565,inspurericzhang,inspurericzhang,"fix misspelling

Change-Id: I76ce6f08d4e7b1ed45202e4849bcf5590fde0c96
"
openstack%2Fneutron-lib~master~I2acf7fd11acd25b94cdeaf185a2be4ef5d51916a,openstack/neutron-lib,master,bug/1749024,I2acf7fd11acd25b94cdeaf185a2be4ef5d51916a,api-ref: document sorting for resource management,MERGED,2018-04-16 17:54:59.000000000,2018-04-28 10:03:04.000000000,2018-04-28 10:03:04.000000000,63,0,0,561682,341f8a18c93c0157b933e53d9ec309b62ae0c0fa,12,5,2,3,27654,Hongbin Lu,hongbin.lu,"api-ref: document sorting for resource management

API users can use the 'sort_key' and 'sort_dir' to do the sorting
on list result. This patch add documentation of these two parameters
for resource management endpoints, including flavor, service_profile,
metering label and metering label rule.

Partial-Bug: #1749024
Change-Id: I2acf7fd11acd25b94cdeaf185a2be4ef5d51916a
"
openstack%2Fmistral~stable%2Fpike~Ieff4887384a4f8fa0eb52a6255f3e4402dbf1d8e,openstack/mistral,stable/pike,bug/1757966-stable/pike,Ieff4887384a4f8fa0eb52a6255f3e4402dbf1d8e,Release note for workflow environment optimizations,MERGED,2018-04-28 07:54:26.000000000,2018-04-28 09:53:14.000000000,2018-04-28 09:53:14.000000000,16,0,0,564985,3eeb561c1ccc5e0ff0f6f225a7f0388b40ca1f74,6,2,1,1,8731,Renat Akhmerov,rakhmerov,"Release note for workflow environment optimizations

Change-Id: Ieff4887384a4f8fa0eb52a6255f3e4402dbf1d8e
Related-Bug: #1757966
"
openstack%2Fmistral~stable%2Fqueens~Ieff4887384a4f8fa0eb52a6255f3e4402dbf1d8e,openstack/mistral,stable/queens,bug/1757966-stable/queens,Ieff4887384a4f8fa0eb52a6255f3e4402dbf1d8e,Release note for workflow environment optimizations,MERGED,2018-04-28 07:53:51.000000000,2018-04-28 09:53:13.000000000,2018-04-28 09:53:13.000000000,16,0,0,564984,6c5d56cc781dbd1f5e7c6d5d73c4f42ba26d35a5,6,2,1,1,8731,Renat Akhmerov,rakhmerov,"Release note for workflow environment optimizations

Change-Id: Ieff4887384a4f8fa0eb52a6255f3e4402dbf1d8e
Related-Bug: #1757966
"
openstack%2Fmistral~stable%2Fpike~I1204b082794b376787d126136a79dd204ec3af07,openstack/mistral,stable/pike,bug/1757966-stable/pike,I1204b082794b376787d126136a79dd204ec3af07,Get rid of a extra copy of workflow environment,MERGED,2018-04-28 02:54:25.000000000,2018-04-28 09:53:13.000000000,2018-04-28 09:53:13.000000000,199,76,0,564966,5e56a28608d9b3a37a26a89c4d4bf2a78cfb1683,6,2,1,18,8731,Renat Akhmerov,rakhmerov,"Get rid of a extra copy of workflow environment

* Previously, we had two copies of the workflow environment
  passed by a user: one was in the 'params' fields under ke 'env'
  key and another one was copied into the 'context' field under
  the '__env' key so that we can evaluate expressions involving
  the env() function (YAQL or Jinja).
  This patch removes the copy from the 'context' field in favor
  of using an ad-hoc ContextView structure where we now also
  weave in the environment dictionary under the same key '__env'.

Related-Bug: #1757966
Change-Id: I1204b082794b376787d126136a79dd204ec3af07
"
openstack%2Fmonasca-api~master~Ib85c477e17b5bbb181f53384165cddc79bee1f20,openstack/monasca-api,master,modify_pom_link,Ib85c477e17b5bbb181f53384165cddc79bee1f20,Update github links in pom.xml,ABANDONED,2018-01-16 07:13:22.000000000,2018-04-28 09:22:57.000000000,,1,1,0,534136,97edfb7c3fce567e81961806d789bcb6a9d46b4a,3,1,1,1,27565,inspurericzhang,inspurericzhang,"Update github links in pom.xml

Use https instead of http for github links

Change-Id: Ib85c477e17b5bbb181f53384165cddc79bee1f20
"
openstack%2Fmonasca-persister~master~Idae0236be7b9b6bfda1d1390844c0540b6fe745a,openstack/monasca-persister,master,modify_http,Idae0236be7b9b6bfda1d1390844c0540b6fe745a,Update github links in pom.xml,ABANDONED,2018-01-16 07:05:14.000000000,2018-04-28 09:22:37.000000000,,3,3,0,534133,f21faa991f086d1abb50d9d201b12395260471d1,4,2,1,3,27565,inspurericzhang,inspurericzhang,"Update github links in pom.xml

Use https instead of http for github links

Change-Id: Idae0236be7b9b6bfda1d1390844c0540b6fe745a
"
openstack%2Fopenstack-ansible-os_heat~stable%2Fqueens~I9f5923e22a55f01067dcb53eaa86ad068a1ba215,openstack/openstack-ansible-os_heat,stable/queens,sha-update,I9f5923e22a55f01067dcb53eaa86ad068a1ba215,"[New files - needs update] Update paste, policy and rootwrap configurations 2018-03-31",ABANDONED,2018-03-31 21:18:13.000000000,2018-04-28 08:53:08.000000000,,3,0,0,558085,060cbfb64a35742f3ac22d8c10dd728829afc559,6,3,1,1,17068,Jean-Philippe Evrard,evrardjp,"[New files - needs update] Update paste, policy and rootwrap configurations 2018-03-31

Change-Id: I9f5923e22a55f01067dcb53eaa86ad068a1ba215
"
openstack%2Fpython-tripleoclient~master~I10ba861ce7bbb4206a9bc8b75a2144b4b301046b,openstack/python-tripleoclient,master,bp/containerized-undercloud,I10ba861ce7bbb4206a9bc8b75a2144b4b301046b,Containerized undercloud completion messages,MERGED,2018-04-12 16:58:04.000000000,2018-04-28 08:45:34.000000000,2018-04-28 08:45:34.000000000,32,2,7,560973,525871e28c19b8e2d8ce97090868f1d8417b4771,67,8,14,1,27427,David Peacock,davidjpeacock,"Containerized undercloud completion messages

This patch adds failure or success completion messages to the end of the
containerized undercloud deployment as per LP1761836

Change-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b
Related-Bug: 1761836
"
openstack%2Fpuppet-nova~stable%2Fnewton~I50cc58f8039377362e3ec24a1eef16af6ff2f0f6,openstack/puppet-nova,stable/newton,,I50cc58f8039377362e3ec24a1eef16af6ff2f0f6,Expose reserved_huge_pages param,MERGED,2018-04-25 13:37:25.000000000,2018-04-28 08:23:17.000000000,2018-04-28 08:23:17.000000000,50,0,0,564218,c6c86b0c6df9e182b6e524ac908780f7d7047450,7,3,1,3,23811,Oliver Walsh,owalsh,"Expose reserved_huge_pages param

Adds the ability to set reserved_huge_pages on nova-computes via a string or
a list of strings.

Change-Id: I50cc58f8039377362e3ec24a1eef16af6ff2f0f6
(cherry picked from commit d7a6b423097d27e74430d2021e3b9cc64f3197ba)
(cherry picked from commit 33bb6cca3921aea3ae8d42af5b2c65550b690d98)
(cherry picked from commit 40eb56cbb777ba1eb11610fa15fefc442ef36a75)
(cherry picked from commit 55dee4d1d5378fe6f0182620494bf7d656ffdd5d)
"
openstack%2Fpuppet-nova~stable%2Focata~I50cc58f8039377362e3ec24a1eef16af6ff2f0f6,openstack/puppet-nova,stable/ocata,,I50cc58f8039377362e3ec24a1eef16af6ff2f0f6,Expose reserved_huge_pages param,MERGED,2018-04-25 13:32:12.000000000,2018-04-28 08:23:16.000000000,2018-04-28 08:23:16.000000000,50,0,0,564216,55dee4d1d5378fe6f0182620494bf7d656ffdd5d,7,3,1,3,23811,Oliver Walsh,owalsh,"Expose reserved_huge_pages param

Adds the ability to set reserved_huge_pages on nova-computes via a string or
a list of strings.

Change-Id: I50cc58f8039377362e3ec24a1eef16af6ff2f0f6
(cherry picked from commit d7a6b423097d27e74430d2021e3b9cc64f3197ba)
(cherry picked from commit 33bb6cca3921aea3ae8d42af5b2c65550b690d98)
(cherry picked from commit 40eb56cbb777ba1eb11610fa15fefc442ef36a75)
"
openstack%2Fpuppet-nova~stable%2Fpike~I50cc58f8039377362e3ec24a1eef16af6ff2f0f6,openstack/puppet-nova,stable/pike,,I50cc58f8039377362e3ec24a1eef16af6ff2f0f6,Expose reserved_huge_pages param,MERGED,2018-04-25 13:26:34.000000000,2018-04-28 08:23:16.000000000,2018-04-28 08:23:16.000000000,50,0,0,564210,40eb56cbb777ba1eb11610fa15fefc442ef36a75,7,3,1,3,23811,Oliver Walsh,owalsh,"Expose reserved_huge_pages param

Adds the ability to set reserved_huge_pages on nova-computes via a string or
a list of strings.

Change-Id: I50cc58f8039377362e3ec24a1eef16af6ff2f0f6
(cherry picked from commit d7a6b423097d27e74430d2021e3b9cc64f3197ba)
(cherry picked from commit 33bb6cca3921aea3ae8d42af5b2c65550b690d98)
"
openstack%2Fcyborg~master~I7bf2799592be2551853e5327e433f83ba25598da,openstack/cyborg,master,story/2001887,I7bf2799592be2551853e5327e433f83ba25598da,Fix package import error,ABANDONED,2018-04-20 07:03:01.000000000,2018-04-28 07:35:13.000000000,,1,1,0,562954,b1e26f618f4386a4ed2a62ce74fe4a580c7f3078,4,2,1,1,25547,jiapei,jeremy.jia,"Fix package import error

Add full path to import module, so that the reference can be
resolved.

Change-Id: I7bf2799592be2551853e5327e433f83ba25598da
Story: 2001887
Task: 14368
"
openstack%2Freno~master~I07d73e2e0c2f8bb2fd66f26fcbc088ef9a2a23a5,openstack/reno,master,story/2001934,I07d73e2e0c2f8bb2fd66f26fcbc088ef9a2a23a5,preserve the order of tags when reading the cache file,MERGED,2018-04-27 19:49:38.000000000,2018-04-28 07:15:01.000000000,2018-04-28 07:15:01.000000000,10,3,0,564873,c18078355b0d0817d86762b0ee6f7f948b536f14,18,6,3,2,2472,Doug Hellmann,doug-hellmann,"preserve the order of tags when reading the cache file

Use an OrderedDict to preserve the order of tags when reading the
cache file because the Loader assumes the scanner and cache manage the
order of values. Without this change building the release notes with
the cache in place results in random ordering of the output.

Story: #2001934
Task: #14464
Change-Id: I07d73e2e0c2f8bb2fd66f26fcbc088ef9a2a23a5
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fproject-config~master~Id4840b0d0e6432e70b6af72a7d572bf11e694883,openstack/project-config,master,project-yaml-normalization,Id4840b0d0e6432e70b6af72a7d572bf11e694883,Normalize projects.yaml,MERGED,2018-04-28 06:14:17.000000000,2018-04-28 07:13:52.000000000,2018-04-28 07:13:52.000000000,2,3,0,564974,a23e1acf05362d9b6618228b4b99c5e26776fc6d,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Normalize projects.yaml

Change-Id: Id4840b0d0e6432e70b6af72a7d572bf11e694883
"
openstack%2Ftripleo-common~master~I63f3a579af5aa70080f8c9cdd5eb0e8f5b3d17da,openstack/tripleo-common,master,bug/1640436,I63f3a579af5aa70080f8c9cdd5eb0e8f5b3d17da,Add workflow to generate fencing parameters,MERGED,2018-02-27 14:00:10.000000000,2018-04-28 06:52:08.000000000,2018-04-28 06:52:08.000000000,66,0,6,548283,2c7fb29c163d4db111becc086b9e9d09ae99d0f5,25,8,3,2,7065,Brad P. Crochet,bcrochet,"Add workflow to generate fencing parameters

Create a workflow to supplant the need for a direct action call to
generate fencing parameters.

Change-Id: I63f3a579af5aa70080f8c9cdd5eb0e8f5b3d17da
Partial-Bug: #1640436
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~I4846fb4f4bda29d991e4e36de38dc10f02bcd4ed,openstack/tripleo-upgrade,stable/queens,bug/1764454-stable/queens,I4846fb4f4bda29d991e4e36de38dc10f02bcd4ed,Lint directory instead of files and match exclude from oooq-extra.,MERGED,2018-04-23 11:18:48.000000000,2018-04-28 04:55:12.000000000,2018-04-28 04:55:12.000000000,10,22,1,563574,012c222182f8c3dcfebd6d24fe2e9c1942439405,22,6,4,1,8297,Sofer Athlan-Guyot,chem,"Lint directory instead of files and match exclude from oooq-extra.

Linting the directory leads to different result, with a lot more
errors caught.

As a corollary adjust the lint exclude list to match the oooq extra
exclude list.

Change-Id: I4846fb4f4bda29d991e4e36de38dc10f02bcd4ed
Related-Bug: #1764454
(cherry picked from commit 3693144631a4a29f252ec2e4a82ebc6ad3c2009f)
"
openstack%2Ftripleo-heat-templates~master~I60feb19bf65aef82cfa56822e8ef79f13f70913d,openstack/tripleo-heat-templates,master,557598,I60feb19bf65aef82cfa56822e8ef79f13f70913d,Parameterizing Puppet Tags,MERGED,2018-03-29 05:30:28.000000000,2018-04-28 04:55:10.000000000,2018-04-28 04:55:10.000000000,7,2,0,557598,fa3c8222f42728eb68647762e2735365ae39474b,50,8,4,2,27069,Sai Ram Peesapati,sairamp,"Parameterizing Puppet Tags

This commit will also provide third party vendors an option
to pass all the puppet tags that will configure the files needed
to enable their plugin.

Change-Id: I60feb19bf65aef82cfa56822e8ef79f13f70913d
"
openstack%2Ftripleo-quickstart-extras~master~Iaf47568d3106979942cffebe5b62a866035b8711,openstack/tripleo-quickstart-extras,master,nodepoolrole,Iaf47568d3106979942cffebe5b62a866035b8711,Add configurable cloud and update to nodepool role,MERGED,2018-04-22 07:45:23.000000000,2018-04-28 04:55:09.000000000,2018-04-28 04:55:08.000000000,29,24,0,563455,f535c3f590453766710a333c7841173d4bc1e233,33,10,2,3,10969,Shnaidman Sagi (Sergey),sergsh,"Add configurable cloud and update to nodepool role

For reproducing jobs we use nodepool-setup role to mimic nodepool
image on bare CentOS. Let's make cloud configurable instead of
hardcoding it to rdo-cloud. Also add configurable option to update
VMs after deploy or not.
Use list of packages for faster installation.

Change-Id: Iaf47568d3106979942cffebe5b62a866035b8711
"
openstack%2Ftripleo-quickstart-extras~master~If0af2608d1d07eb3931ce480501d0fa789ca4248,openstack/tripleo-quickstart-extras,master,nodepoolrole,If0af2608d1d07eb3931ce480501d0fa789ca4248,Setup iptables in nodepool-setup,MERGED,2018-04-24 19:03:49.000000000,2018-04-28 04:55:08.000000000,2018-04-28 04:55:08.000000000,24,1,0,564050,da6810a2d9479f98c9d679b99c1b92150a8b2d05,34,9,2,1,12715,John Trowbridge,trown,"Setup iptables in nodepool-setup

The keystone-only deployment does not complete on our reproducer
environments setup using the nodepool-setup role. This is because
there is no default rule allowing the subnodes to communicate.
When iptables i brought up during deploy, we lose all network
connectivity on the vxlan tunnel as a result.

This patch resolves this issue by adding rules to the iptables
configuration which allow all traffic on the nodes private IPs.
The iptables setup during the deploy does not overwrite these rules,
so this allows the keystone-only deployment to succeed in our
reproducer environments.

Change-Id: If0af2608d1d07eb3931ce480501d0fa789ca4248
"
openstack%2Foctavia~master~Ida424233a3a7fbb372a837ba3f484abd089d38aa,openstack/octavia,master,remove-unused-exception,Ida424233a3a7fbb372a837ba3f484abd089d38aa,Remove PluggedVIPNotFound references,MERGED,2018-04-26 20:16:16.000000000,2018-04-28 04:28:14.000000000,2018-04-28 04:28:14.000000000,1,6,0,564616,b4632d7fe9595f8f65d84ef5d6d9f40fa9261d5e,7,3,1,2,1004,Mohammed Naser,mnaser,"Remove PluggedVIPNotFound references

The PluggedVIPNotFound exception is no longer being raised anywhere
so we can drop any references to it.

Change-Id: Ida424233a3a7fbb372a837ba3f484abd089d38aa
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~I8dc672d3b909afc781c3f62a77c16aa1445bec40,openstack/tripleo-upgrade,stable/queens,bug/1708680,I8dc672d3b909afc781c3f62a77c16aa1445bec40,Adjust roles-data file for P->Q upgrade.,MERGED,2018-04-12 08:59:12.000000000,2018-04-28 03:47:58.000000000,2018-04-17 17:33:52.000000000,22,1,6,560835,67aa778890f5f3e203f9278f5bf71172c2931ca0,26,8,3,4,21537,Yurii Prokulevych,yprokule,"Adjust roles-data file for P->Q upgrade.

As described in rhbz-1540546 and rhbz-1541382 services available
 during P deployment got renamed/removed in Q.
This change modifies custom roles-data file wrt aforementioned
 changes.

Partial-Bug: 1708680
Partial-Bug: 1746493

Depends-On: I9b488d84fa6e86ed9ce03c7b5fda5d42f713724d
Change-Id: I8dc672d3b909afc781c3f62a77c16aa1445bec40
"
openstack%2Fsenlin~master~I7e762ee55d77459ad99186bde0916068ea657029,openstack/senlin,master,separate-delete-nodes,I7e762ee55d77459ad99186bde0916068ea657029,separate '_delete_nodes' to different functionalities,MERGED,2018-04-23 17:54:36.000000000,2018-04-28 03:07:02.000000000,2018-04-28 03:07:02.000000000,168,65,2,563723,b1b5460925bb0ce47f9368d916fd1c27636644f7,29,5,6,2,23401,RUIJIE YUAN,ruijie,"separate '_delete_nodes' to different functionalities

separate the '_delete_nodes' functionality so that will be
easier to manage and improve it later.

Change-Id: I7e762ee55d77459ad99186bde0916068ea657029
"
openstack%2Fzun~master~I2d6da4739e409f99db33395f0bb5c15bf78f87d9,openstack/zun,master,bug/1763625,I2d6da4739e409f99db33395f0bb5c15bf78f87d9,Handle exception when rebuild container without port,MERGED,2018-04-09 12:35:10.000000000,2018-04-28 03:04:04.000000000,2018-04-28 03:04:04.000000000,19,17,14,559720,9e3b97ff7ecdc65ea4efd31c39742f1c60690023,33,9,5,2,23829,weikeyou,weikeyou,"Handle exception when rebuild container without port

When rebuild a container, if we can't get the container's port,
the container's status is always Rebuilding.

Closes-bug: #1763625

Change-Id: I2d6da4739e409f99db33395f0bb5c15bf78f87d9
"
openstack%2Fmasakari~master~I7c7046e9e52a2c7af0400986e705ac842b4efc89,openstack/masakari,master,bug/1751832,I7c7046e9e52a2c7af0400986e705ac842b4efc89,Changed default value of 'wait_period_after_power_off',MERGED,2018-02-26 17:16:43.000000000,2018-04-28 02:42:33.000000000,2018-04-28 02:42:33.000000000,1,1,3,548072,02bf0d3ed792c27b60b9a559366fba95547bf6da,20,13,3,1,26991,Louie Kwan,lkwan,"Changed default value of 'wait_period_after_power_off'

In instance recovery task, periodic call,
loopingcall.FixedIntervalLoopingCall, is used to confirm instance
is stopped during recovery.

In a constrained VM or stressed situation, VM could frequently take
longer than 60 seconds to be stopped.

Increased the default value to 3 minutes, same as
wait_period_after_service_update or
duplicate_notification_detection_interval.

Change-Id: I7c7046e9e52a2c7af0400986e705ac842b4efc89
Closes-Bug: #1751832
"
openstack%2Fmasakari~master~I961933cd15faf000437a434e08de2a10b2875eec,openstack/masakari,master,bug/1762962,I961933cd15faf000437a434e08de2a10b2875eec,Fix stable branch releasenotes,MERGED,2018-04-17 03:56:19.000000000,2018-04-28 02:42:32.000000000,2018-04-28 02:42:32.000000000,30,3,0,561779,b173adca1bea76a8d6515dd80f9038786956a2d4,10,7,1,4,20191,Dinesh Bhor,dineshbhor,"Fix stable branch releasenotes

This patch fixes stable branch releasenotes by adding respective source
files.

Change-Id: I961933cd15faf000437a434e08de2a10b2875eec
Closes-Bug: #1762962
"
openstack%2Fneutron-lib~master~Id5aea04553b78dd17fca85de88cf076b42d24140,openstack/neutron-lib,master,neutron-lib-sfc-api,Id5aea04553b78dd17fca85de88cf076b42d24140,'sfc' and 'flowclassifier' API extension definitions (networking-sfc),MERGED,2016-12-15 16:44:47.000000000,2018-04-28 02:12:48.000000000,2018-04-28 02:12:48.000000000,645,1,107,411409,a508fa127c070b25070535e8c26a18f14165f611,136,14,32,12,7776,Paul Carver,pcarver,"'sfc' and 'flowclassifier' API extension definitions (networking-sfc)

Adds the API definitions for the 'sfc' and 'flow_classifier' API
extensions from networking-sfc.

Co-Authored-By: Thomas Morin <thomas.morin@orange.com>

Needed-By: I4958fb7b47050a76618183ab4f938622d95c8a0c
Change-Id: Id5aea04553b78dd17fca85de88cf076b42d24140
"
openstack%2Foslo.i18n~stable%2Fpike~If8e078e69ce74b4da020702c8ed790dd2318d155,openstack/oslo.i18n,stable/pike,pip10-stable-fix,If8e078e69ce74b4da020702c8ed790dd2318d155,Fix sphinx-docs job for stable branch,MERGED,2018-04-27 16:50:38.000000000,2018-04-28 02:05:18.000000000,2018-04-28 02:05:18.000000000,5,0,0,564840,c4b6104b84879f93ae99dfd8b1f788b7deae87f7,8,3,1,1,17685,Elod Illes,elod.illes,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: If8e078e69ce74b4da020702c8ed790dd2318d155
"
openstack%2Fpython-tripleoclient~master~Ibb04145905c0103f271f85282df161cc43e6c9ee,openstack/python-tripleoclient,master,bp/containerized-undercloud,Ibb04145905c0103f271f85282df161cc43e6c9ee,Capture external process output,MERGED,2018-04-25 04:02:56.000000000,2018-04-28 01:58:07.000000000,2018-04-28 01:58:07.000000000,49,26,9,564094,50d52c3d23f0dddd38dc5973f25a6ed3be5c8a4a,26,6,3,2,14985,Alex Schultz,mwhahaha,"Capture external process output

This change implements a function that can be used to run external
command and log their out. It also switches out the execvp that we used
for running ansible for a subprocess call so that we can properly
capture the output from the ansible run. Additionally because
the execvp never returned, we were unable to do any cleanup actions
after ansible ran. This change switches out the output to use the logger
rather than print statements so that in the future we can properly
leverage the logger for writing out installation logs.

Change-Id: Ibb04145905c0103f271f85282df161cc43e6c9ee
Related-Blueprint: containerized-undercloud
"
openstack%2Fopenstack-manuals~master~I75f2fc210b1568d1b200fd940b6c4807f6cc479b,openstack/openstack-manuals,master,bug/1744647,I75f2fc210b1568d1b200fd940b6c4807f6cc479b,Update the rabbitmq cluster configuration,MERGED,2018-04-27 12:34:17.000000000,2018-04-28 01:38:14.000000000,2018-04-28 01:38:14.000000000,4,2,2,564744,8ac0164516dcd9587801a884b1352a792bf125c0,12,4,2,1,16523,ZhangLei,zhang.lei,"Update the rabbitmq cluster configuration

Change-Id: I75f2fc210b1568d1b200fd940b6c4807f6cc479b
Closes-Bug: 1744647
"
openstack%2Fheat~master~Ic7c567b6f949bdec9b3cface4fa07748fbe585eb,openstack/heat,master,,Ic7c567b6f949bdec9b3cface4fa07748fbe585eb,Log traversal ID when beginning,MERGED,2018-04-18 00:39:12.000000000,2018-04-28 01:33:06.000000000,2018-04-28 01:33:06.000000000,2,2,0,562085,6f1e6458cf535ced9f1966b25c09a5ce30109a72,16,3,1,1,4257,Zane Bitter,zaneb,"Log traversal ID when beginning

At the beginning of a convergence traversal, log the traversal ID along
with the dependency graph for the traversal. This could be useful in
debugging. Also, log it at the DEBUG, not INFO level.

Change-Id: Ic7c567b6f949bdec9b3cface4fa07748fbe585eb
"
openstack%2Ftripleo-ci~master~Iaa5a85e8d15e0ea9ff9d53dd60bbd08a400d71b5,openstack/tripleo-ci,master,jobname,Iaa5a85e8d15e0ea9ff9d53dd60bbd08a400d71b5,Properly export zuul variables,MERGED,2018-04-26 09:24:56.000000000,2018-04-28 01:25:35.000000000,2018-04-28 01:25:35.000000000,4,0,1,564429,e60a6bc2b010f68ace891991e872803ced7d742d,18,11,3,1,8367,Arx Cruz,arxcruz,"Properly export zuul variables

The JOB_NAME variable is being exported as 'workspace' and
LOT_PATH isn't being exported at all, and these variables are required
for tempest-sendmail tool work properly

Change-Id: Iaa5a85e8d15e0ea9ff9d53dd60bbd08a400d71b5
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ibcd9d716351f4dc6f2c720f132a124536a01f8dd,openstack/tripleo-heat-templates,stable/queens,remove_redundant_nic_config-stable/queens,Ibcd9d716351f4dc6f2c720f132a124536a01f8dd,Remove redundant config bond-with-vlans/compute-dpdk.j2.yaml,ABANDONED,2018-04-28 01:12:53.000000000,2018-04-28 01:20:09.000000000,,0,162,0,564958,1a1113025fac6e5d86308a6ec1d3e23a1ff657cf,3,0,2,1,12398,Dan Sneddon,dsneddon,"Remove redundant config bond-with-vlans/compute-dpdk.j2.yaml

The compute-dpdk.j2.yaml template was originally present because
the NIC config file name generated was compute-ovs-dpdk.yaml.
We added deprecated_nic_config_name to network_data.yaml so
this file is automatically generated by role.role.j2.yaml, but
never removed this file.

Depends-On: I68b6e674d6aa86aa7d60efa3eb7b3cb874171e63
Change-Id: Ibcd9d716351f4dc6f2c720f132a124536a01f8dc
"
openstack%2Fpython-tripleoclient~master~I9de6ad9e93508b2f506b623022967127616edaa5,openstack/python-tripleoclient,master,install-log,I9de6ad9e93508b2f506b623022967127616edaa5,Add installation log for containerized undercloud,MERGED,2018-04-25 23:48:50.000000000,2018-04-28 01:15:02.000000000,2018-04-28 01:15:02.000000000,21,10,0,564370,f17e6e76407da00cd3ce9a371582c77f7d997aab,17,6,2,2,27427,David Peacock,davidjpeacock,"Add installation log for containerized undercloud

Adding 'install-undercloud.log' in current working directory
for containerized undercloud install.

Working directory is obtained through the traditiona os.getcwd() call;
it is assumed at this point the logfile will be useful there.

Change-Id: I9de6ad9e93508b2f506b623022967127616edaa5
"
openstack%2Fnova~master~Ie9731d0df8cf52acdc7a442316a35798a4fed4cb,openstack/nova,master,bug/1760322,Ie9731d0df8cf52acdc7a442316a35798a4fed4cb,Use an independent transaction for _trait_sync,MERGED,2018-03-31 16:48:22.000000000,2018-04-28 00:53:00.000000000,2018-04-25 02:17:35.000000000,9,10,5,558068,e2924ba2379adc19e7ebd07ead8efd5e9c8e367d,64,24,3,2,14070,Eric Fried,efried,"Use an independent transaction for _trait_sync

Provides a fix for the referenced bug by using an independent
transaction for the _trait_sync method, meaning it gets committed right
away regardless of what happens in the calling scope.

Change-Id: Ie9731d0df8cf52acdc7a442316a35798a4fed4cb
Closes-Bug: 1760322
"
openstack%2Foslo.concurrency~stable%2Fpike~Ic011be44d4852a293d7adc0ef25b7e498e4b5d20,openstack/oslo.concurrency,stable/pike,pip10-stable-fix,Ic011be44d4852a293d7adc0ef25b7e498e4b5d20,Fix sphinx-docs job for stable branch,MERGED,2018-04-27 13:18:26.000000000,2018-04-28 00:29:56.000000000,2018-04-28 00:29:56.000000000,5,0,0,564756,a009e7c86901473ac2273cb9ba604dc2a6b579d3,11,3,1,1,17685,Elod Illes,elod.illes,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: Ic011be44d4852a293d7adc0ef25b7e498e4b5d20
"
openstack%2Fswift~master~Ib8cc7cd42b230197844f275d7caf9eb7b3c204f8,openstack/swift,master,,Ib8cc7cd42b230197844f275d7caf9eb7b3c204f8,Handful of formpost cleanups,MERGED,2018-04-12 21:29:54.000000000,2018-04-28 00:16:33.000000000,2018-04-28 00:16:33.000000000,7,11,6,561051,83ca4f1bb0a4ada06353b0ac16ff654c49441fe3,9,4,1,1,15343,Tim Burke,tburke,"Handful of formpost cleanups

- Drop an unnecessary return value from _perform_subrequest
- Stop checking for a CONTENT_TYPE that will never be set
- Use reiterate
- Close the response iter when we're done with it

Change-Id: Ib8cc7cd42b230197844f275d7caf9eb7b3c204f8
"
openstack%2Foslo.tools~master~I40e2ea3dbe6f2ce507e9aaa7a563054d009f9c0b,openstack/oslo.tools,master,fix-cmd-error,I40e2ea3dbe6f2ce507e9aaa7a563054d009f9c0b,Fix command error in filter,MERGED,2018-04-27 22:25:49.000000000,2018-04-28 00:08:32.000000000,2018-04-28 00:08:32.000000000,1,1,0,564902,5c0df7ef136732ba7051d0fb7af92f097c482796,6,2,1,1,970,Dean Troyer,dtroyer,"Fix command error in filter

An apparently missing space in an if condition causes a command not
found error.

Change-Id: I40e2ea3dbe6f2ce507e9aaa7a563054d009f9c0b
"
openstack%2Fcinder~stable%2Fqueens~Ice78889573a36ff5e8873a0d316ddcf180d0263f,openstack/cinder,stable/queens,bug/1690954,Ice78889573a36ff5e8873a0d316ddcf180d0263f,NetApp ONTAP: Fix export path used as volume name,MERGED,2018-04-20 15:08:55.000000000,2018-04-27 23:23:07.000000000,2018-04-26 16:11:05.000000000,20,3,0,563150,64df0693991bd3815acc8e445da912a499198f7e,31,20,1,3,17097,Tiago Pasqualini da Silva,tiago.pasqualini,"NetApp ONTAP: Fix export path used as volume name

On ONTAP NFS driver, the export path was being used as the volume
name. If the export path is different than the volume name, the
API call to delete files would fail and the driver would invoke
a fallback method that deletes the files manually. This patch fixes
that by finding the correct volume name.

(cherry-picked from commit 4d75cbf3c35a8aa917d3970beac99d612f13eed3)
Change-Id: Ice78889573a36ff5e8873a0d316ddcf180d0263f
Closes-bug: #1690954
"
openstack%2Ftripleo-upgrade~master~Id87a40c3f41ca6da2d449e891b1f05d2705d3909,openstack/tripleo-upgrade,master,,Id87a40c3f41ca6da2d449e891b1f05d2705d3909,FFU: We need to be root to install ansible-pacemaker package.,MERGED,2018-03-21 12:10:26.000000000,2018-04-27 23:21:46.000000000,2018-03-21 15:31:41.000000000,1,0,0,554887,22dcdf654fc66be9d25404d11fe398eac26edbc8,9,3,2,1,8297,Sofer Athlan-Guyot,chem,"FFU: We need to be root to install ansible-pacemaker package.

The ansible-pacemaker installation fails because we are not root when
running that playbook.

That change was made only on the queens branch (and was lost by last
check pick)[1]

So make sure it's on master as well.

[1] https://review.openstack.org/#/c/554236/3..4/tasks/fast-forward-upgrade/main.yml

Change-Id: Id87a40c3f41ca6da2d449e891b1f05d2705d3909
"
openstack%2Fcinder~stable%2Fqueens~I1b58c637f6b2187a78c9c00a6c4933335439ad6f,openstack/cinder,stable/queens,bug/1756321,I1b58c637f6b2187a78c9c00a6c4933335439ad6f,Avoid second restart on offline upgrades,MERGED,2018-04-11 09:45:14.000000000,2018-04-27 23:20:57.000000000,2018-04-24 18:05:04.000000000,89,4,2,560335,25c737d6b8e19a1932696554e47dd262ae651592,47,27,2,4,9535,Gorka Eguileor,Gorka,"Avoid second restart on offline upgrades

On offline upgrades, due to the rolling upgrade mechanism we need to
restart the cinder services twice to complete the upgrade, just like in
the rolling upgrade case.

The current offline upgrade process is:

- Stop cinder services
- Upgrade the cinder nodes
- Sync your DB
- Start the cinder services
- Restart all the cinder services

This second restart creates a bad user experience and it should not be
necessary on an offline upgrade, so this patch adds a new optional
parameter -called ""--bump-versions""- to the cinder-manage db sync
command that allows us to skip the restart of the services.

Closes-Bug: #1756321
Change-Id: I1b58c637f6b2187a78c9c00a6c4933335439ad6f
(cherry picked from commit 3cd2ebd3759c76fdf5a292e612127094c7aa2b17)
"
openstack%2Fcinder~master~Ib3d1b29dbfe20afeab4756673e772b597fd63fdc,openstack/cinder,master,update-pypi-url,Ib3d1b29dbfe20afeab4756673e772b597fd63fdc,Trivial: Update pypi url to new url,MERGED,2018-04-20 09:50:40.000000000,2018-04-27 23:20:07.000000000,2018-04-25 02:17:39.000000000,1,1,0,563013,12b4432cb6f16b7c2f2ec51079971e29a9b9e0b1,35,27,1,1,23630,Tovin Seven,tovin07,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ib3d1b29dbfe20afeab4756673e772b597fd63fdc
"
openstack%2Fneutron-specs~master~I5f94b89d2e11734385b58e5e5edf55d149b9f38a,openstack/neutron-specs,master,bug/1727578,I5f94b89d2e11734385b58e5e5edf55d149b9f38a,Spec for VPN service support Qos,MERGED,2018-01-04 05:05:03.000000000,2018-04-27 23:19:34.000000000,2018-04-27 22:45:02.000000000,311,0,165,531074,cc8b3ec9eeb2f76c5fd4f6cc8ec5f480fabee098,29,10,4,1,15309,zhaobo,ZhaoBo,"Spec for VPN service support Qos

This is the spec for the VPN Qos.

Paritial-Bug: #1727578
Change-Id: I5f94b89d2e11734385b58e5e5edf55d149b9f38a
Depends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372
"
openstack%2Fswift~feature%2Fdeep~Ic9a5e525afcbc265b06d30c8897f7ffa5b3f95a7,openstack/swift,feature/deep,p-sharding-repeat-cleave,Ic9a5e525afcbc265b06d30c8897f7ffa5b3f95a7,Don't repeat merges when re-cleaving to existing shard db,MERGED,2018-04-27 14:56:24.000000000,2018-04-27 22:31:47.000000000,2018-04-27 22:31:47.000000000,263,96,1,564792,a6ad703406b3eb5ffbf801f29eb574c4a0bbea26,11,2,2,2,7847,Alistair Coles,acoles,"Don't repeat merges when re-cleaving to existing shard db

Previously, if a shard db was cleaved but failed to replicate, the
cleaving would be repeated i.e. all rows in the shard range would be
merged from the retiring source db to the shard db. This is
unnecessary, and inefficient, if the shard db is still intact from the
previous attempt to cleave and replicate.

Now, once rows have been cleaved, a sync point is stored in the shard
db under the retiring source db id. This sync point is checked before
rows are merged. If the shard db was re-created or replaced by another
out-of-sync copy, the sync point will not be found and all rows will
be merged. If the shard db is unchanged, or is a copy to which the
original shard db has been replicated, the sync point will be found
and no rows will be merged.

Change-Id: Ic9a5e525afcbc265b06d30c8897f7ffa5b3f95a7
"
openstack%2Fpython-mistralclient~master~I3408d758bd94038acf2bb9601d4bf2895040f931,openstack/python-mistralclient,master,bug/1598135,I3408d758bd94038acf2bb9601d4bf2895040f931,Add the force parameter to delete executions,MERGED,2018-04-13 08:40:57.000000000,2018-04-27 22:30:17.000000000,2018-04-27 22:30:17.000000000,44,6,3,561159,e400bed6b0888247eafc90ff338165cfe01e037f,18,5,3,5,15895,Adriano Petrich,apetrich,"Add the force parameter to delete executions

On a related mistral change the force parameter was included to delete
non finished executions, this change add that option to the cli

Change-Id: I3408d758bd94038acf2bb9601d4bf2895040f931
Depends-On: I19d822800a1ee056682daeaa7ddf0f400392525d
Related-Bug: #1598135
"
openstack%2Fproject-config~master~Iad0da92c64b35c00bcf66d6d0e617575d5467825,openstack/project-config,master,new-project,Iad0da92c64b35c00bcf66d6d0e617575d5467825,Add new project pbrx,MERGED,2018-04-27 21:42:26.000000000,2018-04-27 22:22:35.000000000,2018-04-27 22:22:35.000000000,16,0,0,564896,1c8fe8ee69013c2d8d55138545339c2e46099eca,9,4,2,3,2,Monty Taylor,mordred,"Add new project pbrx

There keep being helper utilities that would be useful to put into pbr,
but we (rightly) want to keep pbr small.

Make a new repo called pbrx that provides a new CLI tool that can do
useful things with pbr repos.

This is not attached to governance anywhere yet on purpose. We can
figure out if it's a good idea before doing that.

Change-Id: Iad0da92c64b35c00bcf66d6d0e617575d5467825
"
openstack%2Fnetworking-odl~master~Iefb78907db87300b7da1354f659b235f99fa95a5,openstack/networking-odl,master,fix/loopingcall_intervals_in_tests,Iefb78907db87300b7da1354f659b235f99fa95a5,DNM test neutron fix,ABANDONED,2018-04-23 22:32:35.000000000,2018-04-27 21:48:17.000000000,,1,0,0,563786,f9e767c8da44e91b18d6891ab229e3d6bdce733b,13,3,6,1,9656,Ihar Hrachyshka,ihrachys,"DNM test neutron fix

Depends-On: https://review.openstack.org/#/c/563736/
Change-Id: Iefb78907db87300b7da1354f659b235f99fa95a5
"
openstack%2Fopenstack-helm~master~Ie87bd393612fdfff5d27fe588a75aed1528df76c,openstack/openstack-helm,master,558622,Ie87bd393612fdfff5d27fe588a75aed1528df76c,Add image build for kubernetes-entrypoint,MERGED,2018-04-03 20:46:29.000000000,2018-04-27 21:44:27.000000000,2018-04-27 21:44:27.000000000,113,0,15,558622,e55fafa1b01aacd692e1136c576880b7237e86c3,43,7,7,4,27715,Sean Eagan,seaneagan,"Add image build for kubernetes-entrypoint

This adds a Dockerfile and Makefile for building an image for
kubernetes-entrypoint. Exposed configuration includes where to get the
source code from and where to push the built image to.

Change-Id: Ie87bd393612fdfff5d27fe588a75aed1528df76c
"
openstack%2Ftripleo-quickstart-extras~master~Iaa4313d9f476b9b5481245e8556db2244789ca1f,openstack/tripleo-quickstart-extras,master,increase-nodepool-setup-timeout,Iaa4313d9f476b9b5481245e8556db2244789ca1f,Increase ssh timeout after reboot in nodepool setup,ABANDONED,2018-04-20 12:59:21.000000000,2018-04-27 20:39:00.000000000,,1,1,0,563102,c61676f498b10fcd287aee53822592e2df268076,11,6,2,1,9976,Ronelle Landy,rlandy,"Increase ssh timeout after reboot in nodepool setup

For libvirt VMs, the reboot and restart time after reboot
takes longer than than the originally specified 180s.
Watching the VMM console for these VMs, they do reboot
successfully and are available for ssh connection
after a longer wait time.

Change-Id: Iaa4313d9f476b9b5481245e8556db2244789ca1f
"
openstack%2Fbarbican~master~I216f887875b1306604dd370301ac463cccbb2fa9,openstack/barbican,master,fix-dogtag-mode,I216f887875b1306604dd370301ac463cccbb2fa9,Fix Dogtag mode on key generation,MERGED,2017-10-17 15:23:34.000000000,2018-04-27 20:37:20.000000000,2017-11-30 09:28:24.000000000,10,1,0,512668,0861657fc1ea2d04faad2b7180fae0d0e59fb09c,18,4,5,2,9914,Ade Lee,alee,"Fix Dogtag mode on key generation

Dogtag doesn't actually need the mode parameter to be
stored in metadata.  We remove it from the generation case
because passing back a None value for the metadata breaks
metadata validation.

Added a functional test for no value passed in for the mode
in the order request.

Change-Id: I216f887875b1306604dd370301ac463cccbb2fa9
"
openstack%2Fnova~master~I5136564475177b038227f799f0286887ed8ae545,openstack/nova,master,bug/1766301,I5136564475177b038227f799f0286887ed8ae545,Ironic: Lock the instance if early vif plug,ABANDONED,2018-04-23 17:42:30.000000000,2018-04-27 20:15:09.000000000,,75,16,2,563714,d2fe215bc63ac50f8b59d573d084f447e98bc050,41,12,4,2,11655,Julia Kreger,jkreger,"Ironic: Lock the instance if early vif plug

In the baremetal use case, it is necessary to allow a remote
source of truth assert information about a physical node,
as opposed to a client asserting desired configuration.

This is prevelent with the need for block device mapping when
booting from a remote volume, to have actual initiator information
which also means attaching VIFs upfront, which now takes place as
a separate step before the baremetal node is ""reserved"" by the act
of adding an ""instance_uuid"" field.

It makes sense, due to the way ironic API interaction is across
multiple steps, to assert an ""instance_uuid"" field to the ironic API
when performing a VIF pluggin action to indicate that the node is
now in use, if one is not presently set.

Outside of initial deployment, the instance_uuid should already be
set due to where the node is in the ironic state machine.

Change-Id: I5136564475177b038227f799f0286887ed8ae545
Closes-Bug: #1766301
"
openstack%2Fpuppet-openstack_extras~master~Ie687a1386e09a2db86caab57cde938224f79777e,openstack/puppet-openstack_extras,master,,Ie687a1386e09a2db86caab57cde938224f79777e,Prepare repos to rocky,MERGED,2018-04-09 09:40:06.000000000,2018-04-27 20:00:18.000000000,2018-04-27 20:00:18.000000000,16,16,0,559677,64706978394eac4459019e66b30e605b65120302,7,4,1,6,16137,Tobias Urdin,tobasco,"Prepare repos to rocky

Make default use rocky, just a preparation
to so it's not forgotten when its released.

We still pin version in p-o-i so we should be fine.

Change-Id: Ie687a1386e09a2db86caab57cde938224f79777e
"
openstack%2Fopenstack-helm~master~I76815685f31627dadd7d7b45f1527e051d9cbb89,openstack/openstack-helm,master,rfc-ovs-firewall,I76815685f31627dadd7d7b45f1527e051d9cbb89,neutron: default to OVSHybridIptablesFirewallDriver firewall driver,MERGED,2018-04-26 19:03:01.000000000,2018-04-27 20:00:17.000000000,2018-04-27 20:00:17.000000000,1,1,0,564588,2f0383eed135a3fc2f4b239367da16ec629ff318,15,6,2,1,8898,Chris Wedgwood,anticw,"neutron: default to OVSHybridIptablesFirewallDriver firewall driver

Default to using the hybrid iptables driver as the openvswitch
firewall driver is considered experimental and less well tested.

https://docs.openstack.org/neutron/pike/admin/config-ovsfwdriver.html

Change-Id: I76815685f31627dadd7d7b45f1527e051d9cbb89
"
openstack%2Frally~master~If1afba72527deef0fc4c8577478d306141e0ac52,openstack/rally,master,db_version,If1afba72527deef0fc4c8577478d306141e0ac52,[version] Import rally.common.db.schema when necessary,MERGED,2018-04-27 17:32:26.000000000,2018-04-27 19:52:43.000000000,2018-04-27 19:52:43.000000000,2,2,0,564851,0d0e06ed9da80a48f27e74933f092f86ffa0ab84,6,2,1,1,9545,Andrey Kurilin,akurilin,"[version] Import rally.common.db.schema when necessary

Rally version is quite important thing which can be used from CLI
or from python. It can be pretty useful while writting externatl plugins
which want to be compatible with several rally versions.

rally.common.version module should not import db stuff in the root
level, since it requires importing sqlalchemy, alembic and other heavy
libraries.

Change-Id: If1afba72527deef0fc4c8577478d306141e0ac52
"
openstack%2Foslo.log~master~I400d4acf93ab634683cd9c4b05db7c79a51810be,openstack/oslo.log,master,pip10-stable-fix,I400d4acf93ab634683cd9c4b05db7c79a51810be,Fix sphinx-docs job,MERGED,2018-04-27 17:01:52.000000000,2018-04-27 19:46:42.000000000,2018-04-27 19:46:42.000000000,5,0,0,564843,74277db9aaadeb7cde1ded0b097bbaace193c1cd,6,2,1,1,17685,Elod Illes,elod.illes,"Fix sphinx-docs job

build-openstack-sphinx-docs jobs fail on all branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: I400d4acf93ab634683cd9c4b05db7c79a51810be
"
openstack%2Fproject-config~master~Ib7c331af7ca588998080a67d631b59464c4d6e11,openstack/project-config,master,Barbican_SB,Ib7c331af7ca588998080a67d631b59464c4d6e11,Add Barbican to StoryBoard,MERGED,2018-04-24 18:51:31.000000000,2018-04-27 19:46:31.000000000,2018-04-27 19:46:31.000000000,15,0,6,564047,e913f4802fc416f86f1bb223004463434b46912a,18,6,4,1,16708,Kendall Nelson,kjnelson,"Add Barbican to StoryBoard

This patch adds all the barbican repos to the group: 'barbican'
and enables use-storyboard: true for all of the repos as well.

Change-Id: Ib7c331af7ca588998080a67d631b59464c4d6e11
"
openstack%2Fautomaton~stable%2Fpike~I5febb87f90a309db2131a2d169e29281afad81c2,openstack/automaton,stable/pike,pip10-stable-fix,I5febb87f90a309db2131a2d169e29281afad81c2,Fix sphinx-docs job for stable branch,MERGED,2018-04-24 17:44:23.000000000,2018-04-27 19:42:06.000000000,2018-04-27 19:42:06.000000000,5,0,2,564036,de81692f305591d01002ec3c75f8ad6f73ec7b32,13,3,4,1,17685,Elod Illes,elod.illes,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: I5febb87f90a309db2131a2d169e29281afad81c2
"
openstack%2Fneutron~master~Idef80c76c1b82be9f1007f17ea661c9ccdc2b1ae,openstack/neutron,master,fullstack-firewall-migration-test,Idef80c76c1b82be9f1007f17ea661c9ccdc2b1ae,fullstack: Migration from iptables_hybrid to openvswitch,MERGED,2018-04-20 15:43:48.000000000,2018-04-27 19:28:28.000000000,2018-04-27 19:28:28.000000000,165,6,14,563159,75d28cbc737c136c84fb24962e56931f7a51eb7e,44,9,4,4,8655,Jakub Libosvar,jlibosva,"fullstack: Migration from iptables_hybrid to openvswitch

Add test validating migration from iptables_hybrid firewall driver to
openvswitch. The test creates simple environment with a single node then
spawns two vms, each has its own security group. Then firewall is
switched and OVS agent is restarted. Connectivity is then validated
again, security groups are removed, tested no traffic is allowed and
then security groups are added back to make sure new firewall driver
works with updates.

Change-Id: Idef80c76c1b82be9f1007f17ea661c9ccdc2b1ae
"
openstack%2Foslo.db~stable%2Fqueens~Idf418fb327475ddf167db8a85d6eff6456ca8c9b,openstack/oslo.db,stable/queens,pip10-stable-fix,Idf418fb327475ddf167db8a85d6eff6456ca8c9b,Fix sphinx-docs job for stable branch,MERGED,2018-04-27 16:30:41.000000000,2018-04-27 19:15:38.000000000,2018-04-27 19:15:38.000000000,5,0,0,564834,9c0e9dc315b1b3a56222d613d60593403865ee26,6,2,1,1,17685,Elod Illes,elod.illes,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: Idf418fb327475ddf167db8a85d6eff6456ca8c9b
"
openstack%2Fpython-tripleoclient~stable%2Fqueens~Idf17e3f817708d9e7dd7241063434ce56b6be052,openstack/python-tripleoclient,stable/queens,bug/1743575-stable/queens,Idf17e3f817708d9e7dd7241063434ce56b6be052,Composable role and service fails workflow,MERGED,2018-04-27 07:49:54.000000000,2018-04-27 19:05:31.000000000,2018-04-27 19:05:31.000000000,15,8,0,564692,0b1565d88c1d3dc2ca3f718bb3f40dbb5ef8ad5a,7,8,1,2,22865,Jaganathan Palanisamy,jaganathancse,"Composable role and service fails workflow

When defining a resource_registry for a composable service, the workflow fails
because it validates before the user-environment is added.
This patch moves the workflow invocation after the creation of the user-
environment.
This is caused by https://review.openstack.org/#/c/511249/ which changes the
behaviour of the action in tripleo-common.

Change-Id: Idf17e3f817708d9e7dd7241063434ce56b6be052
Closes-Bug: 1743575
(cherry picked from commit 7c0ad1df5e49358299cea3cd15ccdd6d2c54271d)
"
openstack%2Ftripleo-common~master~I1ffb9e058ab1dbab8718a75ce1bc015633c69327,openstack/tripleo-common,master,,I1ffb9e058ab1dbab8718a75ce1bc015633c69327,Bump Ceph container image from 3.0.1 to 3.0.3,MERGED,2018-04-20 09:49:40.000000000,2018-04-27 19:05:30.000000000,2018-04-27 19:05:30.000000000,3,3,0,563012,074d4d780750242bbb7c3e7350ea51f847bf200f,23,4,1,3,6796,Giulio Fidente,gfidente,"Bump Ceph container image from 3.0.1 to 3.0.3

Ceph contaimer image version 3.0.3 added support for RHEL. This change
bumps the version we're testing in CI (CentOS) from 3.0.1 to 3.0.3.

The new image was tested via I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c

Change-Id: I1ffb9e058ab1dbab8718a75ce1bc015633c69327
"
openstack%2Fpuppet-keystone~master~I337249e64bb5c3379db60f71608fb2d39b600294,openstack/puppet-keystone,master,deprecate,I337249e64bb5c3379db60f71608fb2d39b600294,Remove deprecated rabbit params,MERGED,2018-04-27 07:53:22.000000000,2018-04-27 19:04:44.000000000,2018-04-27 19:04:44.000000000,6,57,0,564693,a0b03c521dcb2ea8944600ed83eabfec83f4858b,7,3,1,3,16137,Tobias Urdin,tobasco,"Remove deprecated rabbit params

Remove the deprecated rabbit params which has
been deprecated for two years. The default_transport_url
has been present for a while now and should be used.

Change-Id: I337249e64bb5c3379db60f71608fb2d39b600294
"
openstack%2Fcinder~stable%2Focata~I0edda1fa23aed0b3d25691d5f4440a7234decc9a,openstack/cinder,stable/ocata,bug/1681895-stable/ocata,I0edda1fa23aed0b3d25691d5f4440a7234decc9a,Cinder Tempest plugin tests: Switch to stable interface,MERGED,2018-04-20 18:08:48.000000000,2018-04-27 19:01:21.000000000,2018-04-27 17:12:31.000000000,198,19,0,563209,9ca58419dfa565f8cd26080e864edcb47a2bb701,53,22,1,4,4690,melanie witt,melwitt,"Cinder Tempest plugin tests: Switch to stable interface

All the cinder tempest plugin tests are inherited from tempest/api/volume/base.py
which is not stable class and can be changed anytime by tempest.

One recent case where some changes in base class on tempest side could
have break the cinder tests-
 http://logs.openstack.org/07/522707/3/check/legacy-tempest-dsvm-full-devstack-plugin-ceph/a92cd60/logs/testr_results.html.gz

This commit switch cinder tests to use test.py which is stable interface
for plugin and create a base class with commonly used function & variable.

Closes-Bug: #1734821

 Conflicts:
	cinder/tests/tempest/api/volume/test_volume_backup.py
	cinder/tests/tempest/api/volume/test_volume_revert.py

NOTE(melwitt): The conflicts are because test_volume_revert.py does not
exist in Ocata and test_volume_backup.py has a snapshot_backup_opt
config option that does not exist in Pike.

Change-Id: I0edda1fa23aed0b3d25691d5f4440a7234decc9a
(cherry picked from commit dae4b6df5f354355cf56eee2547314b2282670f4)
(cherry picked from commit b52b4533c802e5143588d37cf2e854a31f5fbc13)
"
openstack%2Fswift~feature%2Fdeep~I7a473e164c8c14b26b195db9a91fea1d2cd5b267,openstack/swift,feature/deep,564540,I7a473e164c8c14b26b195db9a91fea1d2cd5b267,Improve test coverage for metadata reclaim,MERGED,2018-04-27 09:20:45.000000000,2018-04-27 18:49:37.000000000,2018-04-27 18:49:37.000000000,13,10,0,564710,0d967c31cb1d21feb17aee3d506b8851d8e8dcb9,6,2,1,3,7847,Alistair Coles,acoles,"Improve test coverage for metadata reclaim

Actually test that the reclaim method does reclaim metadata.

Replace class invocation of _reclaim_metadata() with instance
invocation.

Fix reclaim() docstring.

Change-Id: I7a473e164c8c14b26b195db9a91fea1d2cd5b267
Related-Change: Ied1373362c38bbe7bab84fe4958888b0145e68ba
"
openstack%2Fneutron-fwaas-dashboard~stable%2Fqueens~I4f46a5fcec93de71fed35451e2d1dec9cc3015cb,openstack/neutron-fwaas-dashboard,stable/queens,zanata/translations,I4f46a5fcec93de71fed35451e2d1dec9cc3015cb,Imported Translations from Zanata,MERGED,2018-04-26 06:15:38.000000000,2018-04-27 18:48:48.000000000,2018-04-27 18:48:48.000000000,73,3,0,564394,80a23ecf0523d99595a1dd652554d63e8469bad1,8,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4f46a5fcec93de71fed35451e2d1dec9cc3015cb
"
openstack%2Fdebtcollector~stable%2Fpike~I880b39b88dfb0a22c77c6cc3fcbdf8096e50b39a,openstack/debtcollector,stable/pike,pip10-stable-fix,I880b39b88dfb0a22c77c6cc3fcbdf8096e50b39a,Fix sphinx-docs job for stable branch,MERGED,2018-04-26 12:30:29.000000000,2018-04-27 18:47:27.000000000,2018-04-27 18:47:27.000000000,5,0,0,564481,c67ad6c39ea10c6a06d44964cf3f39f7e44a0ece,7,2,1,1,17685,Elod Illes,elod.illes,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: I880b39b88dfb0a22c77c6cc3fcbdf8096e50b39a
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I2acdab13ba2afe18656cdc66037af6b731058836,openstack/openstack-ansible-openstack_hosts,master,bp/openstack-distribution-packages,I2acdab13ba2afe18656cdc66037af6b731058836,Adjust how pip distro packages are implemented,MERGED,2018-04-27 16:28:11.000000000,2018-04-27 18:31:57.000000000,2018-04-27 17:22:23.000000000,29,25,0,564832,d99cf0f0b19668bee57fe118b788b4432ac38749,14,4,4,5,6816,Jesse Pretorius,jesse-pretorius,"Adjust how pip distro packages are implemented

Unfortunately the change in [1] broke the integrated build.
The py_pkgs lookup is incapable of interpreting jinja. It
also assumes that any variable named _pip_packages has
python packages in it, and processes them.

This renames the variable so that it conforms with other distro
package lists using _distro_packages instead.

It also adjusts the way the packages are installed a little so
that the var name is overridable, and the variables are nearer
their physical host siblings.

[1] https://review.openstack.org/563684
Change-Id: I2acdab13ba2afe18656cdc66037af6b731058836
"
openstack%2Fneutron~master~I77fa59ae1819e87ab8ccc1fa5f0db86de3b90e2e,openstack/neutron,master,remove-ivs-interface-driver,I77fa59ae1819e87ab8ccc1fa5f0db86de3b90e2e,Remove deprecated IVS interface driver,MERGED,2018-04-25 19:47:09.000000000,2018-04-27 18:28:58.000000000,2018-04-27 18:28:58.000000000,7,141,0,564330,3ad91f61f2d40d788764d64b1870d509069aad0a,25,8,3,6,1131,Brian Haley,brian-haley,"Remove deprecated IVS interface driver

This was marked deprecated in Queens for removal in Rocky,
https://review.openstack.org/#/c/505401/

Change-Id: I77fa59ae1819e87ab8ccc1fa5f0db86de3b90e2e
"
openstack%2Fopenstack-ansible-os_swift~master~Icb7ca523cb19c560de5c84b0d60a06305029192c,openstack/openstack-ansible-os_swift,master,common-systemd-service,Icb7ca523cb19c560de5c84b0d60a06305029192c,Convert role to use a common systemd service role,MERGED,2018-03-31 02:46:37.000000000,2018-04-27 18:26:42.000000000,2018-04-27 18:26:42.000000000,159,209,0,558020,8f1cb4dde58c2d09061d3d7fb29b9f54ccaff450,38,4,4,7,7353,Kevin Carter,cloudnull,"Convert role to use a common systemd service role

This removes the systemd service templates and tasks from this role and
leverages a common systemd service role instead. This change removes a
lot of code duplication across all roles all without sacrificing features
or functionality. The intention of this change is to ensure uniformity and
reduce the maintenance burden on the community when sweeping changes are
needed. The exterior role is built to be OSA compatible and may be pulled
into tree should we deem it necessary.

Change-Id: Icb7ca523cb19c560de5c84b0d60a06305029192c
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fhorizon~master~I6370b54225dc0746a4676c8b5af6b8dc6e6fce9e,openstack/horizon,master,bug/1605054,I6370b54225dc0746a4676c8b5af6b8dc6e6fce9e,Correct the wrong set network quota behavior,ABANDONED,2016-07-21 04:55:38.000000000,2018-04-27 18:25:58.000000000,,9,9,1,345163,a182d85315335a11d9f1c1354abf8c883c8bf68b,36,9,7,3,14151,ziyu032,ziyu032,"Correct the wrong set network quota behavior

Reproduce:
Precondition: There have two networks under the ""demo"" user,
the 'demo' user belong to ""demo"" project.

1, Open 'Identity/Project/' page, click ""Modify Quotas"" in the tables actions
2, Set the ""Networks"" quota field value 1.

Expected result:
    Cast error: Quota value(s) cannot be less than the current usage
    value(s): 2 Networks used.
Actual result:
    Update ""Network"" quota success

The reason is the key for usages and workflow field is not consistent.

Co-Authored-By: zhurong <aaronzhu1121@gmail.com>
Change-Id: I6370b54225dc0746a4676c8b5af6b8dc6e6fce9e
Closes-Bug: #1605054
"
openstack%2Fneutron-fwaas-dashboard~stable%2Fqueens~Ie2d9520800dbf06459a0628524146b12bc33fb92,openstack/neutron-fwaas-dashboard,stable/queens,fixes,Ie2d9520800dbf06459a0628524146b12bc33fb92,Fix gate errors,MERGED,2018-04-26 14:45:52.000000000,2018-04-27 18:25:13.000000000,2018-04-27 18:25:13.000000000,14,11,1,564523,e6e9f24d31d09aaf48100e537da5e131de44618a,9,2,2,5,841,Akihiro Motoki,amotoki,"Fix gate errors

- Fix pep8 errors caused by recent pycodestyle upgrade
- Skip pip install if no requirements is specified

Change-Id: Ie2d9520800dbf06459a0628524146b12bc33fb92
"
openstack%2Frequirements~master~I7cafbccf8e128558e51aa199c5a6df5f96c2db48,openstack/requirements,master,new-release,I7cafbccf8e128558e51aa199c5a6df5f96c2db48,update constraint for reno to new release 2.9.1,MERGED,2018-04-27 14:59:00.000000000,2018-04-27 18:05:25.000000000,2018-04-27 18:05:25.000000000,1,1,0,564794,b8eb3f6e8cc73b64c868998bdd05d9b4c5133434,8,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for reno to new release 2.9.1

Change-Id: I7cafbccf8e128558e51aa199c5a6df5f96c2db48
meta:version: 2.9.1
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Doug Hellmann <doug@doughellmann.com>
meta:release:Commit: Doug Hellmann <doug@doughellmann.com>
meta:release:Change-Id: I7c17d739309297464d55ad5fef80cdf014bd5be7
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Frally-openstack~master~Ia0246114a51f9e4a4ad6c998a50ad13483be9f51,openstack/rally-openstack,master,version,Ia0246114a51f9e4a4ad6c998a50ad13483be9f51,Add __version__ and __version_tuple__ properties,MERGED,2018-04-27 11:08:59.000000000,2018-04-27 17:56:23.000000000,2018-04-27 17:56:23.000000000,14,3,0,564732,77e207e90d19a7cfe0a317c4acacee055a9838dd,9,2,3,2,9545,Andrey Kurilin,akurilin,"Add __version__ and __version_tuple__ properties

These properties should simplify integration with other plugins

Change-Id: Ia0246114a51f9e4a4ad6c998a50ad13483be9f51
"
openstack%2Fopenstack-helm~master~I5177c9a3b3feb54268865a6dfffff406a7595c86,openstack/openstack-helm,master,add-example-certs,I5177c9a3b3feb54268865a6dfffff406a7595c86,Add sample development certs,ABANDONED,2018-04-27 14:38:22.000000000,2018-04-27 17:50:29.000000000,,79,0,0,564788,b8f1ac937c858deb506ee775f96afd0f8c05c1e8,4,2,1,7,20466,Tin Lam,tinlam,"Add sample development certs

This patch set puts in some sample development certificates using cfssl
for future development.

Change-Id: I5177c9a3b3feb54268865a6dfffff406a7595c86
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fvitrage~master~I3e49b80214dd705f65e0908beb876cd2c609763c,openstack/vitrage,master,,I3e49b80214dd705f65e0908beb876cd2c609763c,create rpc server fix.,MERGED,2018-04-26 11:53:48.000000000,2018-04-27 17:48:01.000000000,2018-04-27 17:48:01.000000000,2,1,0,564471,5455510192252b69ae172e62e854e64f8cb7edaa,18,4,1,1,19184,Idan Hefetz,idan-hefetz,"create rpc server fix.

Create rpc server may not work if ran before get_rpc_transport, as it changes the conf.

Change-Id: I3e49b80214dd705f65e0908beb876cd2c609763c
"
openstack%2Fpython-novaclient~master~Iee7e1a3a22249c98873aa96694fd4885916cd097,openstack/python-novaclient,master,bp/add-host-to-instance-action-events,Iee7e1a3a22249c98873aa96694fd4885916cd097,Microversion 2.62 - Add host/hostId to instance action event,MERGED,2018-04-27 04:15:40.000000000,2018-04-27 17:41:58.000000000,2018-04-27 17:41:58.000000000,41,1,7,564667,5483be7fe74a90e3a38428cfb436864ffeee4c54,15,6,3,4,20722,Yikun Jiang,yikunkero,"Microversion 2.62 - Add host/hostId to instance action event

Adds support for microversion 2.62 which adds ``host``
(hostname) and ``hostId`` (an obfuscated hashed host id string)
fields to the instance action
``GET /servers/{server_id}/os-instance-actions/{req_id}`` API.

The event column is already included in the result of
""nova instance-action <server> <request-id>"" command, therefore
does not have any CLI or python API binding impacts in the
client.

Related nova API change: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5

Part of blueprint: add-host-to-instance-action-events

Change-Id: Iee7e1a3a22249c98873aa96694fd4885916cd097
"
openstack%2Fopenstack-helm~master~Id4bb3447345719133e5862514dfd5bc5bac5677d,openstack/openstack-helm,master,tempest,Id4bb3447345719133e5862514dfd5bc5bac5677d,Add Tempest Chart,MERGED,2017-08-29 20:19:44.000000000,2018-04-27 17:38:15.000000000,2018-04-27 17:38:15.000000000,876,0,42,498929,bdfd78b4e79f6a5604f9bd0a7c7beb5f37ad3d6e,367,15,82,19,17589,Darla Ahlert,darla.ahlert,"Add Tempest Chart

Add basic functioning tempest chart for testing of
OpenStack services.  This also adds an experimental
gate for running a multinode deployment with tempest

Change-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d
"
openstack%2Fopenstack-helm~master~I49d2cea11fbe5c5919ae22a020b877ebbb285992,openstack/openstack-helm,master,job_dependency_labels,I49d2cea11fbe5c5919ae22a020b877ebbb285992,Move to v0.3.1 of kubernetes-entrypoint,MERGED,2018-03-28 20:00:09.000000000,2018-04-27 17:13:46.000000000,2018-04-27 17:13:46.000000000,84,55,3,557499,97ac197a6e1f319de47b4e4899701a8f35a9010b,26,8,6,31,27715,Sean Eagan,seaneagan,"Move to v0.3.1 of kubernetes-entrypoint

Move to v0.3.1 of kubernetes-entrypoint which has 2
breaking changes to pod dependencies, and also adds support for
depending on jobs via labels.

Change-Id: I49d2cea11fbe5c5919ae22a020b877ebbb285992
"
openstack%2Fopenstack-ansible-openstack_hosts~master~Ie651426241c0185afefa72e7c3f69e86c5244e78,openstack/openstack-ansible-openstack_hosts,master,bp/openstack-distribution-packages,Ie651426241c0185afefa72e7c3f69e86c5244e78,"Revert ""tasks: Use PIP distribution packages for openSUSE and Ubuntu""",ABANDONED,2018-04-27 15:34:07.000000000,2018-04-27 17:08:21.000000000,,0,40,0,564812,46d492823fcaa1d3d12109da2501868df0022513,7,6,1,6,6816,Jesse Pretorius,jesse-pretorius,"Revert ""tasks: Use PIP distribution packages for openSUSE and Ubuntu""

This reverts commit 899e838419b9377f24e9f282ebd8fca889f24fe1.

Unfortunately the py_pkgs lookup is incapable of interpreting
jinja, and thus causes a failure in the repo build process due to
the jinja used in the pip_packages variable here.

We're going to have to figure out a better way of doing this, or
a way of making sure that the lookup/repo_build can handle this
change.

Change-Id: Ie651426241c0185afefa72e7c3f69e86c5244e78
"
openstack%2Fironic-inspector~stable%2Fqueens~Ife51165742a8b762e84d5ac7ad807480669bfedb,openstack/ironic-inspector,stable/queens,hw-types-stable/queens,Ife51165742a8b762e84d5ac7ad807480669bfedb,Switch documentation to hardware types,MERGED,2018-03-20 15:21:56.000000000,2018-04-27 17:04:32.000000000,2018-04-27 17:04:32.000000000,27,19,0,554586,f01c6f39eea05214047e140be3ee7067c7673dd6,15,4,2,3,10239,Dmitry Tantsur,dtantsur,"Switch documentation to hardware types

The devstack example configuration is synchronized with
https://docs.openstack.org/ironic/latest/contributor/dev-quickstart.html

Also remove setting IRONIC_VM_LOGS_DIR from the example local.conf,
as it does not work, at least not on CentOS.

Change-Id: Ife51165742a8b762e84d5ac7ad807480669bfedb
(cherry picked from commit faf9d3508b20a26e6df90ce818491500bc603f1e)
"
openstack%2Fopenstack-zuul-jobs~master~I22743c78e286c51067d38efe8c646021e68ca09b,openstack/openstack-zuul-jobs,master,563645,I22743c78e286c51067d38efe8c646021e68ca09b,Further fix laravel branch/master publish jobs,MERGED,2018-04-27 16:14:43.000000000,2018-04-27 16:44:43.000000000,2018-04-27 16:44:43.000000000,2,14,0,564828,389f5c470fe7b4777966d44d9d5bc5751c998080,7,3,1,2,5263,Jeremy Stanley,fungi,"Further fix laravel branch/master publish jobs

The publish-artifacts-to-fileserver role includes the tree structure
of under the artifacts dir, which we don't wish to preserve for the
tarballs directory our legacy-laravel-openstackid-release-branch and
legacy-laravel-openstackid-release-master jobs create. Instead just
copy the contents of the tarballs directory to the artifacts
directory (this also allows us to drop fancy filename pattern
matching and symlink preservation from our rsync options).

Change-Id: I22743c78e286c51067d38efe8c646021e68ca09b
"
openstack%2Fcinder~master~I86f14aeeb198b0a89faf5b2d89449a8394edff1d,openstack/cinder,master,uncap-eventlet,I86f14aeeb198b0a89faf5b2d89449a8394edff1d,Uncap eventlet,MERGED,2018-04-05 16:38:27.000000000,2018-04-27 16:34:20.000000000,2018-04-27 16:34:20.000000000,1,1,0,559124,24caebd28d715fb891b315f2d539843503103e38,89,36,4,1,11904,Sean McGinnis,SeanM,"Uncap eventlet

Change-Id: I86f14aeeb198b0a89faf5b2d89449a8394edff1d
"
openstack%2Fswift~feature%2Fdeep~I3f3d13cf1caa684260f2ddfdb731ca941336f319,openstack/swift,feature/deep,p-sharding-parent-range,I3f3d13cf1caa684260f2ddfdb731ca941336f319,Always update shard brokers with their own range and sharding metadata,MERGED,2018-04-27 10:01:40.000000000,2018-04-27 16:17:32.000000000,2018-04-27 16:17:31.000000000,15,16,0,564716,55bc15b873aab881c0940bc058408054e668cf84,7,2,2,1,7847,Alistair Coles,acoles,"Always update shard brokers with their own range and sharding metadata

There is no need to conditionally update shard brokers when they are
created. The 'force' flag was a leftover from when own shard range
state was stored in sysmeta and the most recent writer of state would
take precedence.  We consequently needed to avoid updating the
sharding meta-timestamp in sysmeta as a side-effect of getting the
shard broker.

Since [1] the meta-timestamp is managed by the shard range merging
logic so that the most recent time takes precedence rather than the
most recent writer.

[1] Related-Change: Ie65cd4ce0abc98452163f6acdfad3cce5cdd216f

Change-Id: I3f3d13cf1caa684260f2ddfdb731ca941336f319
"
openstack%2Fnova~master~I5fa5128bd05059bb75f38bd651e03b1cb074ebf6,openstack/nova,master,bug/1764390,I5fa5128bd05059bb75f38bd651e03b1cb074ebf6,Remove explicit instance.info_cache.delete(),MERGED,2018-04-23 16:11:45.000000000,2018-04-27 16:15:01.000000000,2018-04-27 16:15:00.000000000,1,48,0,563689,24706c4ace357423c089e928ded8e7a58f0d9352,42,19,2,2,6873,Matt Riedemann,mriedem,"Remove explicit instance.info_cache.delete()

This removes the code from ComputeManager._delete_instance
added in change Ie0bba032615d3da06cdd95b221beb37a9b8a377d.
That change was really working around a problem where the
instance failed to lazy-load the info_cache field. However,
there is no reason that we need to explicitly delete the
info_cache here, since the instance_destroy() method in the
DB API already does it implicitly, which has been around since
change I0f0f4ba3de1310e1ff89239dab6ea8e24c85f2c8.

Note that the related changes in the ""local delete"" API path
from Ie0bba032615d3da06cdd95b221beb37a9b8a377d have already
been removed, presumably because someone realized they were
unnecessary for the same reasons.

The implicit instance.info_cache delete in instance_destroy()
is already tested in
nova.tests.unit.db.test_db_api.InstanceTestCase.test_instance_destroy.

Change-Id: I5fa5128bd05059bb75f38bd651e03b1cb074ebf6
"
openstack%2Fmagnum~stable%2Fqueens~Ic0996ba36e335e970f3d2255840b24a8b4f738b8,openstack/magnum,stable/queens,bug/1757936-stable/queens,Ic0996ba36e335e970f3d2255840b24a8b4f738b8,k8s_fedora: Add flannel to master nodes,MERGED,2018-04-25 12:59:09.000000000,2018-04-27 16:09:32.000000000,2018-04-27 16:09:32.000000000,15,0,0,564199,1382e6f378eba6770588e331fb2b13ece4997e8d,8,4,1,5,20498,Spyros Trigazis,strigazi,"k8s_fedora: Add flannel to master nodes

To allow ther api server access pods, we need
flannel to be running on the master node.
* Run flannel on the master node in a system
  container.

Change-Id: Ic0996ba36e335e970f3d2255840b24a8b4f738b8
Closes-Bug: #1757936
(cherry picked from commit 405b0c20288c170fd8e4dac8a3296602564db1c8)
"
openstack%2Fproject-config~master~I371fb39cd5dcc3842cb55f5139151cb13af3e808,openstack/project-config,master,import-git-nit,I371fb39cd5dcc3842cb55f5139151cb13af3e808,add test jobs for openstack/git-nit repository,MERGED,2018-04-26 20:48:56.000000000,2018-04-27 15:55:17.000000000,2018-04-27 15:55:17.000000000,8,0,0,564625,44d8f615046c814abad9ffc91b356d620c1ae74f,13,4,2,1,2472,Doug Hellmann,doug-hellmann,"add test jobs for openstack/git-nit repository

Change-Id: I371fb39cd5dcc3842cb55f5139151cb13af3e808
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fopenstack-helm~master~I15d6b6d93811bb560e4db26490b05024617ec665,openstack/openstack-helm,master,fix-example,I15d6b6d93811bb560e4db26490b05024617ec665,Add LDAP pool options,MERGED,2018-04-10 21:06:53.000000000,2018-04-27 15:53:47.000000000,2018-04-27 15:53:47.000000000,9,0,0,560151,7cba1878846d46a74a4d6c0b819c7e9b1bc510d6,22,5,6,1,20466,Tin Lam,tinlam,"Add LDAP pool options

This patch set adds the pool timeout to the LDAP configuration sample.
Also, puts the LDAP pool timeout to a sensible 15 seconds rather than
-1 which can cause keystone to hang due to potential LDAP instability
or unavailability.

Change-Id: I15d6b6d93811bb560e4db26490b05024617ec665
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fsahara~master~Icb3b44b93d7af0783991a67ff78225d5828a6a16,openstack/sahara,master,,Icb3b44b93d7af0783991a67ff78225d5828a6a16,Fix the openstack endpoint create failed,ABANDONED,2018-04-27 15:27:01.000000000,2018-04-27 15:51:31.000000000,,15,8,1,564810,3839697ed0629e88f81574057abcbf6e8bbeb590,4,2,1,2,22165,caoyuan,caoyuan,"Fix the openstack endpoint create failed

1. Update the openstack command

Change-Id: Icb3b44b93d7af0783991a67ff78225d5828a6a16
"
openstack%2Fopenstack-helm~master~I5804eb730a55a192f3cd1518fbccf2416dddcefa,openstack/openstack-helm,master,mongodb-fixup,I5804eb730a55a192f3cd1518fbccf2416dddcefa,Sync mongodb chart,MERGED,2018-04-26 16:22:57.000000000,2018-04-27 15:46:28.000000000,2018-04-27 15:46:28.000000000,74,56,0,564548,5486403e04bc81742ce17b63f0d7462de06657ef,7,3,1,2,20466,Tin Lam,tinlam,"Sync mongodb chart

This patch set polishes and fixes the mongodb chart.

* key and naming convention matches mariadb's convention;
* fix indentation;
* add in the ability to handle chown_on_start.

Change-Id: I5804eb730a55a192f3cd1518fbccf2416dddcefa
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fmonasca-tempest-plugin~master~Ifdca09ca430415614956befc0744c52ad6b3a0a6,openstack/monasca-tempest-plugin,master,v2_test,Ifdca09ca430415614956befc0744c52ad6b3a0a6,Remove test for log_api/v2 version,MERGED,2018-04-20 11:29:08.000000000,2018-04-27 15:45:13.000000000,2018-04-27 15:45:13.000000000,67,163,1,563087,f5ef89e62a6f4fdecca4dc57a0feac2626d4ae40,31,4,9,6,26141,Adrian Czarnecki,czarneckia,"Remove test for log_api/v2 version

Log api v2 is no longer supported.
Fix failing 'should_reject_if_body_is_empty' test.

Story: 2001400
Task: 14427
Change-Id: Ifdca09ca430415614956befc0744c52ad6b3a0a6
"
openstack%2Fopenstack-zuul-jobs~master~Iece862a4a66835e362cc1d67b7add8105fe61e6c,openstack/openstack-zuul-jobs,master,563645,Iece862a4a66835e362cc1d67b7add8105fe61e6c,Yet more fix laravel branch/master publish jobs,MERGED,2018-04-27 15:09:33.000000000,2018-04-27 15:36:12.000000000,2018-04-27 15:36:12.000000000,4,4,0,564799,2d6221e052ed71197d87a78849ebcbc12d50fc31,8,4,1,2,5263,Jeremy Stanley,fungi,"Yet more fix laravel branch/master publish jobs

The publish-artifacts-to-fileserver role expects to find artifacts
in zuul.executor.work_root instead of zuul.executor.log_root, so
create that directory and put tarballs there in the
legacy-laravel-openstackid-release-branch and
legacy-laravel-openstackid-release-master jobs.

Change-Id: Iece862a4a66835e362cc1d67b7add8105fe61e6c
"
openstack%2Foslo.config~stable%2Focata~I646fcc181d1129ca96d02a90036ee32b80d8f778,openstack/oslo.config,stable/ocata,pip10-stable-fix,I646fcc181d1129ca96d02a90036ee32b80d8f778,Fix sphinx-docs job for stable branch,MERGED,2018-04-27 12:05:02.000000000,2018-04-27 15:34:36.000000000,2018-04-27 15:34:36.000000000,5,0,0,564741,63ec59ebe54a1d6b6d09c742084f476551cc6a33,6,2,1,1,17685,Elod Illes,elod.illes,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fails on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: I646fcc181d1129ca96d02a90036ee32b80d8f778
"
openstack%2Fopenstack-helm-infra~master~I2bafc2153ddd46b3833b253a2e7950bccbccf8ed,openstack/openstack-helm-infra,master,entrypoint_v031,I2bafc2153ddd46b3833b253a2e7950bccbccf8ed,Move to v0.3.1 of kubernetes-entrypoint,MERGED,2018-04-10 14:35:11.000000000,2018-04-27 15:34:18.000000000,2018-04-27 15:34:18.000000000,25,18,0,560041,f402171e42356bc1e805782f1d7f090ce1f6ab17,11,7,2,17,27715,Sean Eagan,seaneagan,"Move to v0.3.1 of kubernetes-entrypoint

Move to v0.3.1 of kubernetes-entrypoint which has 2 breaking changes to
pod dependencies, and also adds support for depending on jobs via
labels.

Change-Id: I2bafc2153ddd46b3833b253a2e7950bccbccf8ed
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I424ca9ca71253cc4e673065f35c9b939942eeda3,openstack/openstack-ansible-openstack_hosts,master,bp/openstack-distribution-packages,I424ca9ca71253cc4e673065f35c9b939942eeda3,tasks: Use PIP distribution packages for openSUSE and Ubuntu,MERGED,2018-04-23 15:55:33.000000000,2018-04-27 15:34:07.000000000,2018-04-27 10:18:43.000000000,40,0,0,563684,899e838419b9377f24e9f282ebd8fca889f24fe1,10,3,2,6,23163,Markos Chandras (hwoarang),mchandras,"tasks: Use PIP distribution packages for openSUSE and Ubuntu

Supported openSUSE and Ubuntu distributions ship with relatively new
pip, setuptools, virtualenv and wheel packages so we can use that in
favor of the PIP ones. This also avoids running the pip_install role
on these hosts making the deployment somewhat faster.

Implements: blueprint openstack-distribution-packages
Change-Id: I424ca9ca71253cc4e673065f35c9b939942eeda3
"
openstack%2Fkolla~stable%2Fpike~Ie69fad3025b8d295e025b459d87237c52550633a,openstack/kolla,stable/pike,bug/1750757,Ie69fad3025b8d295e025b459d87237c52550633a,Add designate-ui for horizon centos,MERGED,2018-04-18 11:09:14.000000000,2018-04-27 15:30:37.000000000,2018-04-27 15:30:37.000000000,1,0,0,562242,5111a81b46da359401231a36d0a451bb3fe371c8,24,5,1,1,18368,Kevin Tibi,kodokuu,"Add designate-ui for horizon centos

Designate-dashboard has been release for RDO.

Change-Id: Ie69fad3025b8d295e025b459d87237c52550633a
Closes-bug: #1750757
(cherry picked from commit b298c8d8d67e0026ccfaede251c82c904ec2295f)
"
openstack%2Ftripleo-heat-templates~stable%2Fnewton~I14d5c72cf86423808e81f1d8406098d5fd635e66,openstack/tripleo-heat-templates,stable/newton,bug/1709916-stable/newton,I14d5c72cf86423808e81f1d8406098d5fd635e66,Fix Heat condition for RHEL registration yum update,MERGED,2018-02-20 13:29:53.000000000,2018-04-27 15:27:37.000000000,2018-03-07 03:57:03.000000000,16,2,0,546144,2735cfc17f3f31776b73f31f817b752b2c5dbb81,12,4,1,2,7144,James Slagle,slagle,"Fix Heat condition for RHEL registration yum update

There were 2 problems with this condition making the
rhel-registration.yal template broken:

""conditions"" should be ""condition""

The condition should refer to just a condition name defined in the
""conditions:"" section of the template.

When Id84d156cd28413309981d5943242292a3a6fa807 was backported to ocata
and newton, it broke RHEL registration on those branches, and fails
with:

===
ERROR: Failed to validate: Failed to validate: resources[0]: Failed to
validate: resources.NodeExtraConfig: ""conditions"" is not a valid keyword
inside a resource definition'
===

I14d5c72cf86423808e81f1d8406098d5fd635e66 also needs to be backported to
resolve the issue.

Change-Id: I14d5c72cf86423808e81f1d8406098d5fd635e66
Closes-Bug: #1709916
(cherry picked from commit 589b18dafc5f9a79d39bfb0a1d8ecbc0d3d34627)
"
openstack%2Fopenstackdocstheme~master~I62ce0a93ca963fe412f17e56aab743ac9c3deb98,openstack/openstackdocstheme,master,bug/1766705,I62ce0a93ca963fe412f17e56aab743ac9c3deb98,Relocate bug_tag in logABug generated URL,MERGED,2018-04-24 20:41:09.000000000,2018-04-27 15:24:20.000000000,2018-04-27 15:24:20.000000000,2,2,0,564059,26553fa96a7b35d44f133087cfb0dc2bef146662,7,3,1,1,5314,Brian Rosmaita,brian-rosmaita,"Relocate bug_tag in logABug generated URL

The content of field.comment may contain characters that confuse
Launchpad and block it from recognizing field.tags, so move the
location of the tags specification to earlier in the URL.

Change-Id: I62ce0a93ca963fe412f17e56aab743ac9c3deb98
Closes-bug: #1766705
"
openstack%2Ftooz~master~I8acb2f617f6044449fb3a91a9c3de73ef0061d36,openstack/tooz,master,etcd3gw-group,I8acb2f617f6044449fb3a91a9c3de73ef0061d36,Implement group support for etcd3gw,MERGED,2018-02-28 21:08:59.000000000,2018-04-27 15:11:08.000000000,2018-04-27 15:11:08.000000000,210,3,6,548708,6ab8c380c8d6a2e15611b225da7594e820cc773e,10,3,1,2,7385,Thomas Herve,therve,"Implement group support for etcd3gw

This adds the various methods to support groups operations on the etc3gw
driver.

Change-Id: I8acb2f617f6044449fb3a91a9c3de73ef0061d36
"
openstack%2Fkuryr-kubernetes~master~I97303b54b900bc40f791309bd2589e617b61177a,openstack/kuryr-kubernetes,master,bug/1767074,I97303b54b900bc40f791309bd2589e617b61177a,Fix octavia lb deleting_race with cascading,MERGED,2018-04-26 13:30:35.000000000,2018-04-27 15:09:30.000000000,2018-04-27 15:09:30.000000000,79,12,4,564504,55973f25053727f747996c4308d9e7bf65f94b06,19,6,3,5,14352,Antoni Segura Puimedon,toni,"Fix octavia lb deleting_race with cascading

Octavia can cascade resource deletion by passing &cascade=True as a
parameter to the HTTP request. This patch enables us to do that, fixing
the children deletion race and greatly simplifying the callstack of
service deletion

Closes-Bug: #1767074
Change-Id: I97303b54b900bc40f791309bd2589e617b61177a
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
"
openstack%2Fopenstacksdk~master~Id10cbed6eaa02cafaf5d220032014b2a3f58ad82,openstack/openstacksdk,master,cherry-pick,Id10cbed6eaa02cafaf5d220032014b2a3f58ad82,Remove DataCentred from list of vendors,MERGED,2018-04-27 10:49:42.000000000,2018-04-27 15:07:03.000000000,2018-04-27 15:07:03.000000000,0,24,0,564727,5c5cadfb375a51c7c0fefce59d5464679bde5454,7,3,1,2,2,Monty Taylor,mordred,"Remove DataCentred from list of vendors

DataCentred's cloud service was shut down late 2017, and so this vendor
should be removed from the list.

Change-Id: Id10cbed6eaa02cafaf5d220032014b2a3f58ad82
Signed-off-by: Nick Jones <nick@stackhpc.com>
"
openstack%2Fopenstack-ansible-repo_build~stable%2Focata~I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,openstack/openstack-ansible-repo_build,stable/ocata,,I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,Do not use an index for a venv with no git sources,MERGED,2018-04-27 09:14:42.000000000,2018-04-27 15:06:19.000000000,2018-04-27 15:06:19.000000000,35,22,0,564709,78991fc37a4ba2ec3cf2991955898420bd0e822d,8,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Do not use an index for a venv with no git sources

When building a venv with no git sources, currently the venv build
executes without constraints as it uses the default pypi index.

This patch ensures that if there is no git source, then the --no-index
setting will still be applied.

Change-Id: I4468092eb5c86d6346a793ba1e2bfc6e772de3bb
(cherry picked from commit 040ee2e1284586dcdf27538129ef3d3d1a4907b4)
"
openstack%2Fopenstack-ansible-repo_build~stable%2Fqueens~I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,openstack/openstack-ansible-repo_build,stable/queens,,I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,Do not use an index for a venv with no git sources,MERGED,2018-04-27 08:51:31.000000000,2018-04-27 15:06:18.000000000,2018-04-27 15:06:18.000000000,33,20,0,564704,f84c5e7b5b2a421784c7b8eaeded421a592ce800,11,5,1,1,6816,Jesse Pretorius,jesse-pretorius,"Do not use an index for a venv with no git sources

When building a venv with no git sources, currently the venv build
executes without constraints as it uses the default pypi index.

This patch ensures that if there is no git source, then the --no-index
setting will still be applied.

Change-Id: I4468092eb5c86d6346a793ba1e2bfc6e772de3bb
(cherry picked from commit 040ee2e1284586dcdf27538129ef3d3d1a4907b4)
"
openstack%2Fopenstack-ansible-os_tempest~stable%2Fpike~I2496fccff1f51c586e999538232a4bcf0addbee5,openstack/openstack-ansible-os_tempest,stable/pike,stestr-stable/pike,I2496fccff1f51c586e999538232a4bcf0addbee5,Switch from testrepository to stestr,ABANDONED,2018-04-05 13:09:04.000000000,2018-04-27 15:05:18.000000000,,17,11,0,559074,3723a43118e4bc280ce2b301209ef7d632730596,5,3,1,2,7307,Matt Thompson,mattt416,"Switch from testrepository to stestr

This commit replaces the call to testr with stestr, and updates the
output files accordingly. This is necessary because tempest has moved
away from testrepository [1], which is resulting in empty files being
created.

Lastly, we update the functional tests to ensure the subunit results
files exist and are not empty.

[1] https://review.openstack.org/#/c/504345/

Depends-On: https://review.openstack.org/#/c/557989/
Change-Id: I2496fccff1f51c586e999538232a4bcf0addbee5
(cherry picked from commit f8404f5eeb2a07382782d63e126fae54b9383439)
"
openstack%2Fproject-config~master~Ib131244c8390d6768c848639e76ec63f9a86e74f,openstack/project-config,master,import-git-nit,Ib131244c8390d6768c848639e76ec63f9a86e74f,import the git-nit repository,MERGED,2018-04-26 20:40:21.000000000,2018-04-27 14:59:37.000000000,2018-04-27 14:49:17.000000000,18,0,5,564622,5d0b92633c135931c0037b305b93dd1f4b2acf77,19,5,3,3,2472,Doug Hellmann,doug-hellmann,"import the git-nit repository

Change-Id: Ib131244c8390d6768c848639e76ec63f9a86e74f
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fopenstack-ansible-repo_build~stable%2Fpike~I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,openstack/openstack-ansible-repo_build,stable/pike,,I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,Do not use an index for a venv with no git sources,MERGED,2018-04-27 08:51:38.000000000,2018-04-27 14:57:45.000000000,2018-04-27 14:57:45.000000000,33,20,0,564705,14b723ba4e89c65511f95ece030d9aef77844a20,8,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Do not use an index for a venv with no git sources

When building a venv with no git sources, currently the venv build
executes without constraints as it uses the default pypi index.

This patch ensures that if there is no git source, then the --no-index
setting will still be applied.

Change-Id: I4468092eb5c86d6346a793ba1e2bfc6e772de3bb
(cherry picked from commit 040ee2e1284586dcdf27538129ef3d3d1a4907b4)
"
openstack%2Ffuturist~stable%2Fpike~I7358d1d2c911390f07ec17cca15be6fe03e84bbe,openstack/futurist,stable/pike,pip10-stable-fix,I7358d1d2c911390f07ec17cca15be6fe03e84bbe,Fix sphinx-docs job for stable branch,MERGED,2018-04-26 12:40:08.000000000,2018-04-27 14:54:10.000000000,2018-04-27 14:54:10.000000000,5,0,0,564486,00d3645c69b2f0f7ccab20a031226047c9fafd45,11,4,1,1,17685,Elod Illes,elod.illes,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: I7358d1d2c911390f07ec17cca15be6fe03e84bbe
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ic160669eed32bdd74c273c61c6a4152a9c5d3e67,openstack/tripleo-upgrade,stable/queens,,Ic160669eed32bdd74c273c61c6a4152a9c5d3e67,DNM - removed replace.,ABANDONED,2018-04-26 11:13:14.000000000,2018-04-27 14:48:15.000000000,,0,8,0,564465,f11ed216287b7b58a35651fdfd3a5f4d0c1af177,7,3,1,2,20775,Carlos Camacho,ccamacho,"DNM - removed replace.

Depends-On: I7c92f1ee2e416015a0426c5d4485b038d308b851
Change-Id: Ic160669eed32bdd74c273c61c6a4152a9c5d3e67
"
openstack%2Ftripleo-quickstart-extras~master~I7c92f1ee2e416015a0426c5d4485b038d308b851,openstack/tripleo-quickstart-extras,master,,I7c92f1ee2e416015a0426c5d4485b038d308b851,DNM - Test,ABANDONED,2018-04-26 11:03:42.000000000,2018-04-27 14:48:01.000000000,,1,1,0,564460,ca3334c0d289becd4a23f432692b24bba2f8c73a,7,4,1,1,20775,Carlos Camacho,ccamacho,"DNM - Test

Change-Id: I7c92f1ee2e416015a0426c5d4485b038d308b851
"
openstack%2Fheat~master~If1bb64f042f38fadfb71dfd58aa854211ffe3d8a,openstack/heat,master,docs,If1bb64f042f38fadfb71dfd58aa854211ffe3d8a,Docs: Make stack domain users docs visible,MERGED,2018-03-16 00:17:19.000000000,2018-04-27 14:47:46.000000000,2018-04-27 14:47:46.000000000,3,3,0,553638,2361bd5a48ec1ac8c50bbad2b3146a7844aef571,8,3,1,1,4257,Zane Bitter,zaneb,"Docs: Make stack domain users docs visible

This document was effectively hidden because of a misspelling in the
index.

Change-Id: If1bb64f042f38fadfb71dfd58aa854211ffe3d8a
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~I41099391dcf9b0d5d1938afe1ca8154faba08b06,openstack/tripleo-upgrade,stable/queens,,I41099391dcf9b0d5d1938afe1ca8154faba08b06,"DNM - Test, regexp",ABANDONED,2018-04-26 11:11:53.000000000,2018-04-27 14:47:42.000000000,,0,13,0,564464,13aa85a2bdc5433bad1c0b5638e24b977d8d70fe,14,3,1,2,20775,Carlos Camacho,ccamacho,"DNM - Test, regexp

Do not merge

Depends-On: Idc7e825b6c25f5cca75c55296e9b26ed27b40de8
Change-Id: I41099391dcf9b0d5d1938afe1ca8154faba08b06
"
openstack%2Fansible-role-container-registry~master~Iee045b0140522b5cbf168e24b6272a051a4996aa,openstack/ansible-role-container-registry,master,package,Iee045b0140522b5cbf168e24b6272a051a4996aa,Fix role path in setup.cfg,MERGED,2018-04-27 14:18:48.000000000,2018-04-27 14:46:43.000000000,2018-04-27 14:46:43.000000000,8,9,1,564780,64371928c2cbee0e9e43851c0da5a361ac91653b,12,3,3,1,3153,Emilien Macchi,emilienm,"Fix role path in setup.cfg

Change-Id: Iee045b0140522b5cbf168e24b6272a051a4996aa
"
openstack%2Fmonasca-ui~stable%2Fqueens~I937507e9a65dbf4cd3962c0910180464378aed00,openstack/monasca-ui,stable/queens,,I937507e9a65dbf4cd3962c0910180464378aed00,Change IntegerField to ChoiceField for notification period,MERGED,2018-04-26 06:29:31.000000000,2018-04-27 14:43:59.000000000,2018-04-27 14:43:59.000000000,10,12,0,564396,8c45c6e960c75e18c686cb93dd4c51a216054eaf,8,3,1,1,16171,Lukasz Zajaczkowski,lukasz.zajaczkowski,"Change IntegerField to ChoiceField for notification period

Story: 2001506
Task: 6297

Change-Id: I937507e9a65dbf4cd3962c0910180464378aed00
(cherry picked from commit 37ecb3ca6619f73541fb63b800315563bdb43624)
"
openstack%2Fnetworking-ovn~master~I511da89787cdfd3f17401b1ac20ce282cc4a8f49,openstack/networking-ovn,master,bug/1689510,I511da89787cdfd3f17401b1ac20ce282cc4a8f49,Make L3 plugin return the ha and distributed flags,ABANDONED,2018-04-20 13:41:05.000000000,2018-04-27 14:40:40.000000000,,41,3,2,563115,78c8dff9e61a47cd7dfaf98268815842abe55ff6,10,2,2,3,8788,Miguel Angel Ajo,mangelajo,"Make L3 plugin return the ha and distributed flags

When an admin executes openstack router show or openstack router list
he will get the distributed and HA flags as ""False"" because
those fields are not provided in the dictionary.

Change-Id: I511da89787cdfd3f17401b1ac20ce282cc4a8f49
Related-Bug: 1689510
Related-Bug: 1721010
"
openstack%2Fkolla-ansible~stable%2Focata~I63e2b381c260265e5901ee88ca0a649d96952bda,openstack/kolla-ansible,stable/ocata,bug/1699014,I63e2b381c260265e5901ee88ca0a649d96952bda,Barbican simple_crypto plugin broken - invalid key,MERGED,2017-08-06 15:45:02.000000000,2018-04-27 14:40:30.000000000,2018-04-27 14:40:30.000000000,22,2,0,491251,24b49ed83eb232f43de5a455a83f35f4cd67e443,15,9,1,3,3185,Alessandro Pilotti,alexpilotti,"Barbican simple_crypto plugin broken - invalid key

When using the simple_crypto plugin, barbican expects the
[simple_crypto_plugin] kek config value to be a base64-encoded 32 byte
value. However, kolla-ansible is providing a standard autogenerated
password.

There are two relevant variables in kolla-ansible -
barbican_crypto_password (a standard password) and barbican_crypto_key
(a HMAC-SHA256 key). There is no use of barbican_crypto_key other than
when it is generated. barbican_crypto_password is used to set the
[simple_crypto_plugin] kek config value but causes an error when the
simple_crypto plugin is used as the value is not in the expected format.
Using barbican_crypto_key instead resolves the error. Clearly there is a
naming issue here and we should be using barbican_crypto_key instead of
barbican_crypto_password.

This change removes the barbican_crypto_password variable and uses
barbican_crypto_key instead.

Change-Id: I63e2b381c260265e5901ee88ca0a649d96952bda
Closes-Bug: #1699014
Related-Bug: #1683216
Co-Authored-By: Stig Telfer <stig@stackhpc.com>
(cherry picked from commit 2e4359069e8a50f83fe0dca1103d935212dd2703)
"
openstack%2Frpm-packaging~master~I30fbc61f119c67985b2351f22dba17f29dd09c03,openstack/rpm-packaging,master,karbor,I30fbc61f119c67985b2351f22dba17f29dd09c03,Updated karbor to 1.0.0,ABANDONED,2018-02-07 11:09:50.000000000,2018-04-27 14:39:23.000000000,,1,1,0,541667,3ebfd0f3c2046b3a19f9fe73faf303adf33634f2,20,8,2,1,21691,weizj,ZhijunWei,"Updated karbor to 1.0.0

Change-Id: I30fbc61f119c67985b2351f22dba17f29dd09c03
"
openstack%2Frpm-packaging~master~Ie9d421c644ec48895a509973824f4311926bf612,openstack/rpm-packaging,master,python-tackerclient,Ie9d421c644ec48895a509973824f4311926bf612,Updated python-tackerclient to 0.11.0,ABANDONED,2018-02-01 10:26:07.000000000,2018-04-27 14:39:10.000000000,,1,1,0,539889,d9742ad9684e52f883f84298fd191fbce22df291,11,5,2,1,21691,weizj,ZhijunWei,"Updated python-tackerclient to 0.11.0

Change-Id: Ie9d421c644ec48895a509973824f4311926bf612
"
openstack%2Frpm-packaging~master~I37d2fb7356890c3212bcb714f32a801f4522970c,openstack/rpm-packaging,master,singlespec,I37d2fb7356890c3212bcb714f32a801f4522970c,Updated os-apply-config to 8.2.0 and convert to singlespec,ABANDONED,2018-01-25 07:11:13.000000000,2018-04-27 14:38:49.000000000,,49,52,1,537773,1ae224c49872b8943a064834435fd81d7b4dbdb0,23,7,4,1,21691,weizj,ZhijunWei,"Updated os-apply-config to 8.2.0 and convert to singlespec

- Also drop -doc package. No doc provided in sdist tarball

Co-Authored-By: Thomas Bechtold <tbechtold@suse.com>
Change-Id: I37d2fb7356890c3212bcb714f32a801f4522970c
"
openstack%2Frpm-packaging~master~Id3f0182c37fb6084e68de73040db144a4dcd7d0c,openstack/rpm-packaging,master,python-tripleoclient,Id3f0182c37fb6084e68de73040db144a4dcd7d0c,Updated python-tripleoclient to 9.1.0,ABANDONED,2018-01-25 07:10:12.000000000,2018-04-27 14:38:38.000000000,,1,1,0,537771,c1c9599ab04bd18753bfed7133d883f67f5429cc,6,4,1,1,21691,weizj,ZhijunWei,"Updated python-tripleoclient to 9.1.0

Change-Id: Id3f0182c37fb6084e68de73040db144a4dcd7d0c
"
openstack%2Freleases~master~I7c17d739309297464d55ad5fef80cdf014bd5be7,openstack/releases,master,reno-2-9-1,I7c17d739309297464d55ad5fef80cdf014bd5be7,reno 2.9.1,MERGED,2018-04-27 14:18:56.000000000,2018-04-27 14:37:34.000000000,2018-04-27 14:37:34.000000000,4,0,0,564781,ef97862d4337b767e10630e3e761508c950dbea9,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"reno 2.9.1

Change-Id: I7c17d739309297464d55ad5fef80cdf014bd5be7
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fcastellan~stable%2Focata~I784bb4fbe3e33722f76e9ff063c456b84f1d8c97,openstack/castellan,stable/ocata,pip10-stable-fix-stable/ocata,I784bb4fbe3e33722f76e9ff063c456b84f1d8c97,Fix sphinx-docs job for stable branch,MERGED,2018-04-27 05:17:32.000000000,2018-04-27 14:32:34.000000000,2018-04-27 14:32:34.000000000,5,0,0,564676,77e56e2b541803b6745cf66d8694ce95a5f07ed6,6,2,1,1,17685,Elod Illes,elod.illes,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: I784bb4fbe3e33722f76e9ff063c456b84f1d8c97
(cherry picked from commit b0ede4059ab7d3df138a462816b60a3922d3a2f0)
"
openstack%2Fnetworking-baremetal~master~I2550b6ff553738507e3dd51942783e5c8e029f89,openstack/networking-baremetal,master,story/1585595,I2550b6ff553738507e3dd51942783e5c8e029f89,ML2 Agent: Handle SIGHUP mutable config options,MERGED,2018-04-13 15:26:21.000000000,2018-04-27 14:26:36.000000000,2018-04-27 14:26:36.000000000,31,8,5,561257,8554146d7147c2f7fd064ac77112e75d729106db,14,5,1,2,24245,Harald Jensås,harald.jensas,"ML2 Agent: Handle SIGHUP mutable config options

This changes the networking-baremetal service to use
oslo_service.service to enable support for mutable
configuration options. When a SIGHUP signal is issued, the
service is reloaded using the values of mutable configuration
options.

The mutable configuration options are indicated as such in the
sample config by: ""# Note: This option can be changed without
restarting.""
https://docs.openstack.org/networking-baremetal/latest/configuration/sample-config.html

Configuration options are mutable if their oslo.config Opt's
mutable=True is set. This mutable setting is respected when
the oslo method mutate_config_files is called instead of
reload_config_files. Icec3e664f3fe72614e373b2938e8dee53cf8bc5e
allows services to tell oslo.service they want
mutate_config_files to be called by specifying the
'restart_method=mutate' parameter, which this patch does.

Story: 1585595
Task: 12612
Change-Id: I2550b6ff553738507e3dd51942783e5c8e029f89
"
openstack%2Fhacking~master~Iffaae6a3acb890051fbe4768eef9f0b82428e81c,openstack/hacking,master,native-integration,Iffaae6a3acb890051fbe4768eef9f0b82428e81c,Import integration test,MERGED,2018-02-24 16:34:58.000000000,2018-04-27 14:24:09.000000000,2018-04-27 14:24:09.000000000,25,0,2,547765,19e5463e632d1ca786c1287b3bab2b74812a5325,48,11,22,2,6547,Andreas Jaeger,jaegerandi,"Import integration test

Add the hacking-integration-nova test as Zuul v3 native test.

Note that the legacy tests always fails due to missing
required-projects with Zuul v3.

Fix also the following problems so that the test works:
* Give proper exit code, so that tox does not always succeed
* Import nova to avoid the error:
  ""ImportError nova.hacking.checks.factory""

Change-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c
"
openstack%2Fmistral~master~I19d822800a1ee056682daeaa7ddf0f400392525d,openstack/mistral,master,bug/1598135,I19d822800a1ee056682daeaa7ddf0f400392525d,Only allow for deleting completed executions,MERGED,2018-04-12 07:06:00.000000000,2018-04-27 14:22:51.000000000,2018-04-27 14:22:51.000000000,65,4,9,560802,af84fa9181ecfce9386387300a564b63f37211f4,34,7,6,3,15895,Adriano Petrich,apetrich,"Only allow for deleting completed executions

A force parameter was added in case deleting a running execution is
needed but that will spew all kinds of errors afterwards
The default is force = False

Change-Id: I19d822800a1ee056682daeaa7ddf0f400392525d
Closes-bug: 1598135
Depends-On: Id935265fcbe0a3072ba2d693edf54b892173fbdf
"
openstack%2Freno~master~I0b02e7eb319c95f885fc494977b356af71370970,openstack/reno,master,branch-name-in-tags,I0b02e7eb319c95f885fc494977b356af71370970,include the branch name in anchors to make them more unique,MERGED,2018-04-27 13:49:41.000000000,2018-04-27 14:17:43.000000000,2018-04-27 14:17:43.000000000,44,10,0,564763,451d1ebcb9c9b3744c62f97bd4b63959e793de1b,8,4,1,4,2472,Doug Hellmann,doug-hellmann,"include the branch name in anchors to make them more unique

If the same version number appears in multiple output pages, sphinx
reports a warning because the anchors generated by the formatter are
the same. This patch adds the branch name to the anchor to make it
more unique, since we should only be scanning a given branch one time
in each release notes build.

See
http://logs.openstack.org/05/564405/1/check/build-openstack-releasenotes/b5fad95/job-output.txt.gz#_2018-04-27_06_02_12_077967
for an example of a failed build.

Change-Id: I0b02e7eb319c95f885fc494977b356af71370970
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fnova~master~Ic8ec0c54a7c6502a0a4ea91d034fa9c1ae5e59d4,openstack/nova,master,bug/1767192,Ic8ec0c54a7c6502a0a4ea91d034fa9c1ae5e59d4,Fix tox -e docs,MERGED,2018-04-26 21:31:43.000000000,2018-04-27 14:10:09.000000000,2018-04-27 14:10:09.000000000,2,2,2,564631,3c95254b1cd0f41e1a1efaf125de1749cc19310c,15,11,1,1,6873,Matt Riedemann,mriedem,"Fix tox -e docs

This was missed in I90ee8a2081c2a0465441a8d81d161f4887b4e1fb
presumably because we no longer get warnings as errors, or
some such wickedness. Anyway, this fixes docs build using tox.

Change-Id: Ic8ec0c54a7c6502a0a4ea91d034fa9c1ae5e59d4
Closes-Bug: #1767192
"
openstack%2Fnova~master~I343a0cb19f4037ddde5c5fc96d0a053f699f5257,openstack/nova,master,bp/nested-resource-providers-allocation-candidates,I343a0cb19f4037ddde5c5fc96d0a053f699f5257,placement: resource requests for nested providers,MERGED,2018-03-20 13:05:39.000000000,2018-04-27 14:09:55.000000000,2018-04-27 14:09:55.000000000,324,136,97,554529,2f70faffc9821ef824c014a2a4c5e805827203de,149,20,9,2,7,Jay Pipes,jaypipes,"placement: resource requests for nested providers

Reworks the way that we solve requests for resource when nested resource
providers are present. When a granular request group is *not* sent, we
ensure that each separate resource class in the request is met by a
single provider (not summing inventories across the tree). For each
separate resource class in the request, we make a separate query to
determine the provider and root provider IDs of those resource providers
which can satisfy that request for a particular resource.

We then filter out providers that are in trees that did *not* have all
resources met by some provider in the tree. After that, we further
filter for the providers that are in trees that contain all required
traits and that the provider of those traits were the providers giving
inventory to the request.

Co-Authored-By: Balazs Gibizer <balazs.gibizer@ericsson.com>
Change-Id: I343a0cb19f4037ddde5c5fc96d0a053f699f5257
blueprint: nested-resource-providers-allocation-candidates
"
openstack%2Ftripleo-heat-templates~master~Iade84cc85f61d73d4c3d53473cdc235f912187ad,openstack/tripleo-heat-templates,master,bug/1766908,Iade84cc85f61d73d4c3d53473cdc235f912187ad,Add defaults into name property for config-download.,MERGED,2018-04-25 15:26:54.000000000,2018-04-27 14:05:23.000000000,2018-04-27 12:16:10.000000000,2,0,0,564253,57c2c3d69849e73578c016d0a6fb5bb56f80b40a,9,8,1,2,26343,Jose Luis Franco,jfrancoa,"Add defaults into name property for config-download.

As in FFU the SoftwareDeployment and StructuredDeployment
resources are being overwritten by the
config-download-software/structured resources, if the
name property is not defined when using one of these
resources a 'Property name not assigned' error will
be displayed.

Change-Id: Iade84cc85f61d73d4c3d53473cdc235f912187ad
Closes-Bug: #1766908
"
openstack%2Fneutron-vpnaas~master~Ifa5678c2dace916c5fa0937a1c3d541c537c3cf3,openstack/neutron-vpnaas,master,tempest-zuulv3,Ifa5678c2dace916c5fa0937a1c3d541c537c3cf3,Switch tempest zuul job to zuul v3 native,MERGED,2018-03-20 08:11:12.000000000,2018-04-27 14:03:38.000000000,2018-04-27 14:03:38.000000000,12,154,0,554445,d8025671986c09d655eb0f79fdcf89110605be1b,28,5,8,3,21781,Hunt Xu,huntxu,"Switch tempest zuul job to zuul v3 native

Change-Id: Ifa5678c2dace916c5fa0937a1c3d541c537c3cf3
"
openstack%2Fopenstack-zuul-jobs~master~I941b986ee7bf200e2d5a810ab8cefc62567a5b6a,openstack/openstack-zuul-jobs,master,563645,I941b986ee7bf200e2d5a810ab8cefc62567a5b6a,More fix laravel branch and master publish jobs,MERGED,2018-04-26 19:48:19.000000000,2018-04-27 13:52:54.000000000,2018-04-27 13:52:54.000000000,6,6,0,564608,5cb12a5d65a1aa1068868467a68f7a937f612825,9,3,2,3,5263,Jeremy Stanley,fungi,"More fix laravel branch and master publish jobs

The tarballs are now building and being copied to the executor
correctly, but need to be published to the tarballs site. Reparent
the legacy-laravel-openstackid-release-branch and
legacy-laravel-openstackid-release-master jobs to
legacy-publish-openstack-artifacts instead of legacy-base so the
additional missing publication tasks will be added. Also update the
artifact transit directory name on the executor to match what the
uploader role will expect.

Change-Id: I941b986ee7bf200e2d5a810ab8cefc62567a5b6a
"
openstack%2Ftripleo-quickstart-extras~master~I37c96d8446cb222efbc6454934fa3eddfefe2d25,openstack/tripleo-quickstart-extras,master,bug/1765008,I37c96d8446cb222efbc6454934fa3eddfefe2d25,Add test_segment_with_timestamp to skip list,MERGED,2018-04-20 02:22:49.000000000,2018-04-27 13:48:27.000000000,2018-04-20 17:40:08.000000000,6,0,0,562902,d90770fcabcabb14aef92980aae0ea5cfa4f0b68,15,17,2,2,13861,yatin,yatinkarel,"Add test_segment_with_timestamp to skip list

[1] Added the test in neutron-tempest-plugin,
looks like it needs ""segments"" plugin and we don't
have it enabled in tripleo, so until it's fixed skip
the affected test.

[1] https://review.openstack.org/#/c/558609/

Related-Bug: #1765008
Change-Id: I37c96d8446cb222efbc6454934fa3eddfefe2d25
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I00e1b257067bb4bff955f65ca8256092470a5cdc,openstack/tripleo-heat-templates,stable/pike,bug/1761749-stable/queens-stable/pike,I00e1b257067bb4bff955f65ca8256092470a5cdc,Fix Cinder's default db purge cron settings,MERGED,2018-04-24 16:48:00.000000000,2018-04-27 13:39:20.000000000,2018-04-27 08:14:39.000000000,1,1,0,564029,a36a7dd8eede33cba6d25d91ce3ef98b401fdf2c,9,4,1,1,21129,Alan Bishop,ASBishop,"Fix Cinder's default db purge cron settings

Change the CinderCronDbPurgeAge default value to 30 so that it matches
the default value in puppet-cinder.

Closes-Bug: #1761749
Change-Id: I00e1b257067bb4bff955f65ca8256092470a5cdc
(cherry picked from commit d3bbadd012b33f937c1cc8155c13553f28614187)
(cherry picked from commit f90134d886f3c416cc704c888e3fa0902ab9de7d)
"
openstack%2Fneutron~master~Ia5ff1b57ef63c98b4ada4f2d46c45336e413be3d,openstack/neutron,master,bug/1737917,Ia5ff1b57ef63c98b4ada4f2d46c45336e413be3d,Handle AgentNotFoundByTypeHost exception properly,MERGED,2018-03-30 08:32:43.000000000,2018-04-27 13:14:48.000000000,2018-04-09 20:57:07.000000000,12,2,2,557908,7b0f6330d6f877f3d2093a64c2bca4c14334574c,32,9,2,2,11975,Slawek Kaplonski,slaweq,"Handle AgentNotFoundByTypeHost exception properly

During listing router_ids on host it is possible that on some hosts
there are no L3 agents.
In such case AgentNotFoundByTypeHost exception is raised in
neutron.db.agents_db module in _get_agent_by_type_and_host() method.
Now this exception is properly handled during listing routers on host.

Change-Id: Ia5ff1b57ef63c98b4ada4f2d46c45336e413be3d
Closes-Bug: #1737917
"
openstack%2Fshade~master~I8740a80c64e24c8339ee9b0992c2f81b1784e672,openstack/shade,master,requirements-stop-syncing,I8740a80c64e24c8339ee9b0992c2f81b1784e672,add lower-constraints job,MERGED,2018-03-22 13:07:29.000000000,2018-04-27 13:14:04.000000000,2018-04-27 13:14:03.000000000,52,0,0,555299,8f99e6e3e9c5d5167e8424bc9f339d83fd2cd021,31,5,6,3,2472,Doug Hellmann,doug-hellmann,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Fix the lower-bound for requests-mock, since 1.1.0 does not actually
work.

Change-Id: I8740a80c64e24c8339ee9b0992c2f81b1784e672
Depends-On: https://review.openstack.org/555034
Depends-On: https://review.openstack.org/555402
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fshade~master~I54593bd8f6dd2124df854e923456c390e0d6a147,openstack/shade,master,,I54593bd8f6dd2124df854e923456c390e0d6a147,Backport connect_as fix from openstacksdk,MERGED,2018-04-26 19:43:37.000000000,2018-04-27 12:56:11.000000000,2018-04-27 12:56:11.000000000,7,6,0,564604,94c1ac842d0a868bca255097d8bd16361c337794,12,3,3,1,2,Monty Taylor,mordred,"Backport connect_as fix from openstacksdk

The connect_as method tried overlaying things directly on top of the
'defaults' cloud config, but things get all messed up and it's actually
never what you want.

Instead, pull the existing CloudRegion from the local config object and
pass it in.

Change-Id: I54593bd8f6dd2124df854e923456c390e0d6a147
"
openstack%2Ftripleo-quickstart~master~I6f3a0f84fa0d802fa401e45066bdbb06330a6903,openstack/tripleo-quickstart,master,remove-cloud-init,I6f3a0f84fa0d802fa401e45066bdbb06330a6903,Disable cloud-init for VMs in libvirt-fake-nodepool,MERGED,2018-04-23 21:07:37.000000000,2018-04-27 12:54:41.000000000,2018-04-27 12:54:40.000000000,8,0,0,563763,4d1581ccfad6bb9645622bdba219bec3b6f6e771,15,5,2,1,9976,Ronelle Landy,rlandy,"Disable cloud-init for VMs in libvirt-fake-nodepool

Removing cloud-init on the images results in the
VMs rebooting quicker and not failing the
last step of nodepool-setup.

Change-Id: I6f3a0f84fa0d802fa401e45066bdbb06330a6903
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~I4598d965f6f8d19344be041d71b2cf1637c9ebae,openstack/tripleo-upgrade,stable/queens,release_var-stable/queens,I4598d965f6f8d19344be041d71b2cf1637c9ebae,Fix release var in undercloud upgrade script,MERGED,2018-04-26 22:13:14.000000000,2018-04-27 12:54:39.000000000,2018-04-27 12:54:39.000000000,1,1,0,564635,e44a5ae1ceb9e1eb76d42aa86f5795405c01aba1,7,3,1,1,18851,Marius Cornea,mcornea,"Fix release var in undercloud upgrade script

Set the correct current_release var in the undercloud upgrade steps.

Change-Id: I4598d965f6f8d19344be041d71b2cf1637c9ebae
(cherry picked from commit 71c16f2aac49eb38c1b1b32e3dfe5694477702b1)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I1bc36c4533dcaadd81d7c93a194e9319217c69cd,openstack/tripleo-heat-templates,stable/queens,bug/1765008-stable/queens,I1bc36c4533dcaadd81d7c93a194e9319217c69cd,"Add neutron ""segments"" plugin to the default list",MERGED,2018-04-26 00:59:13.000000000,2018-04-27 12:54:38.000000000,2018-04-27 12:54:38.000000000,6,1,0,564378,9d746aa49f1eb17d6d709c6f350fa08507b1aaaf,12,8,1,2,13861,yatin,yatinkarel,"Add neutron ""segments"" plugin to the default list

[1] Added a tests which requires ""segments"" plugin but
we don't have it enabled in overcloud. It is enabled in
neutron jobs from long[2]. This patch adds this plugin
to the default enabled plugins.

[1] https://review.openstack.org/#/c/558609/
[2] https://review.openstack.org/#/c/459439/

Related-Bug: #1765008
Change-Id: I1bc36c4533dcaadd81d7c93a194e9319217c69cd
(cherry picked from commit bc3600b3628605436834d4712a745dfe9c43ddf4)
"
openstack%2Ftripleo-heat-templates~master~I10d4dffcd3802f62fc824c808728c0b5b4f1002c,openstack/tripleo-heat-templates,master,bug/1762403,I10d4dffcd3802f62fc824c808728c0b5b4f1002c,Add dry-run mode for process templates,MERGED,2018-04-18 14:41:59.000000000,2018-04-27 12:54:36.000000000,2018-04-27 12:54:36.000000000,20,11,0,562299,7226efce608507f535f173761bc1f1247f4b89b1,14,5,1,1,6926,Bogdan Dobrelya,bogdando,"Add dry-run mode for process templates

Sometimes it is nice to know which templates
should be rendered into which files. For example,
if we need to define additional checks in the client.

Change-Id: I10d4dffcd3802f62fc824c808728c0b5b4f1002c
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-quickstart-extras~master~I8532aeca39f5f43c659bf2648c2ae3ca5743acd5,openstack/tripleo-quickstart-extras,master,containers-default,I8532aeca39f5f43c659bf2648c2ae3ca5743acd5,Fix services docker tht path for tempest container,MERGED,2018-04-23 12:00:38.000000000,2018-04-27 12:54:35.000000000,2018-04-27 12:54:35.000000000,2,2,0,563589,fab9704db4f69fbccf7b39bd8ebdb7b5ad729b61,23,9,2,2,6926,Bogdan Dobrelya,bogdando,"Fix services docker tht path for tempest container

Change-Id: I8532aeca39f5f43c659bf2648c2ae3ca5743acd5
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Frally~master~Ie43206317bbc9a9e7235e7a0e5220847c310b589,openstack/rally,master,loading_plugins,Ie43206317bbc9a9e7235e7a0e5220847c310b589,[plugins] load config options from external plugins,MERGED,2018-04-25 14:04:41.000000000,2018-04-27 12:47:00.000000000,2018-04-27 12:47:00.000000000,172,39,2,564230,6e146f7d7051d902f54da0a9534649918fe356ae,15,3,3,6,9545,Andrey Kurilin,akurilin,"[plugins] load config options from external plugins

Extend rally-plugins as python packages with a new feature: config
options. It is obvious that plugins can have some configurable options
like special timeouts and so on.
As for now, such plugins need to register their options by themselves
which adds code-duplication and leads to possible overhead when we will
try to switch from oslo_config.
Let's put all the requried code in rally framework.
The plugins itselves should extend entry-points of their packages to
look like:

   rally_plugins:
       path: <path_to_plugins_to_import>
       options: <pythonic.path.to.method.which.list:all_options>

Change-Id: Ie43206317bbc9a9e7235e7a0e5220847c310b589
"
openstack%2Ftripleo-common~stable%2Fqueens~Idf6bd2446865df172ed8852ab5297fe671cebd07,openstack/tripleo-common,stable/queens,nova-metadata-healthcheck-stable/queens,Idf6bd2446865df172ed8852ab5297fe671cebd07,Add healthcheck script for nova-metadata service,MERGED,2018-04-24 05:43:54.000000000,2018-04-27 12:43:15.000000000,2018-04-27 12:43:15.000000000,12,0,0,563828,e243152f3e53b81be8d9b903105278f7c7a65bb3,18,9,1,2,20733,Rajesh Tailor,rajesht,"Add healthcheck script for nova-metadata service

This patch adds script for docker health check of nova-metadata
service. The script checks API service using curl.

Change-Id: Idf6bd2446865df172ed8852ab5297fe671cebd07
(cherry picked from commit 4563a68caf7b0ae46a33123ea42daf37b85b737a)
"
openstack%2Fmonasca-agent~stable%2Fpike~If52b52efab6cc14a7df583b1dc2596b04e6813bc,openstack/monasca-agent,stable/pike,key_config,If52b52efab6cc14a7df583b1dc2596b04e6813bc,Allow Keystone config in init_config for http check,MERGED,2018-04-25 09:37:39.000000000,2018-04-27 12:28:40.000000000,2018-04-27 12:28:40.000000000,45,18,0,564149,4aa85ad362a804a5b890e1aca57ea64986313fb4,7,3,1,3,21922,Dobroslaw Zybort,dobrolaw.zybort,"Allow Keystone config in init_config for http check

Now the user will be able to configure one, default Keystone for all
services in `http_check.yml` instead of providing them one by one for
every instance.

Setting Keystone config in every instance is marked as depreciated.

Story: 2001843
Task: 12610

Change-Id: If52b52efab6cc14a7df583b1dc2596b04e6813bc
(cherry picked from commit e13de8083e90170b9a90000b534bfd1c1cc88551)
"
openstack%2Ftripleo-ui~master~Ia89f5741b3852a7a17e33fa5347242708bf2246c,openstack/tripleo-ui,master,enable-undercloud-jobs,Ia89f5741b3852a7a17e33fa5347242708bf2246c,(Do not merge) Testing undercloud job,ABANDONED,2018-01-18 10:53:07.000000000,2018-04-27 12:21:00.000000000,,1,1,0,535285,7e677fa43fb3a9035ed2ef3f4bbfe65a2f9690a3,19,4,6,1,4978,Julie Pichon,jpichon,"(Do not merge) Testing undercloud job

Change-Id: Ia89f5741b3852a7a17e33fa5347242708bf2246c
"
openstack%2Ftempest~master~I95badeda522f855242c4eff0dbc01fb84c3d4b21,openstack/tempest,master,bp/clear-deprecated-api,I95badeda522f855242c4eff0dbc01fb84c3d4b21,Fix listing servers by invalid status after V2.38,MERGED,2018-03-29 09:03:06.000000000,2018-04-27 12:16:10.000000000,2018-04-27 11:12:19.000000000,18,7,3,557654,34b5503592ae2e94bad656324d656335953c563f,25,8,4,2,20190,zhufl,zhufl,"Fix listing servers by invalid status after V2.38

When using list_servers with status as filter, up to microversion
2.37, an empty list is returnd if an invalid status is specified,
and starting from microversion 2.38, a 400 error is returned in
that case.

Ref: https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#maximum-in-newton
     https://developer.openstack.org/api-ref/compute/#list-servers-detailed

Implements blueprint: clear-deprecated-api

Change-Id: I95badeda522f855242c4eff0dbc01fb84c3d4b21
"
openstack%2Fnetworking-ovn~stable%2Fqueens~I1ce87173731146e3f0078df99b7ba56f44b14497,openstack/networking-ovn,stable/queens,bug/1757438-stable/queens,I1ce87173731146e3f0078df99b7ba56f44b14497,Fix UpdateLRouterPortCommand to work with OVS 2.8,MERGED,2018-03-27 13:54:13.000000000,2018-04-27 12:16:01.000000000,2018-04-27 12:16:01.000000000,12,7,0,556859,136d1e2e6250528642f0f92611c0687b67d09352,15,5,1,1,8788,Miguel Angel Ajo,mangelajo,"Fix UpdateLRouterPortCommand to work with OVS 2.8

The UpdateLRouterPortCommand was broken when used with OVS <= 2.8 due
to the ipv6_ra_configs column not existing in the OVNDB schema.

This patch is adding a check on that command to ignore that column if
it's not present. A TODO was left as a comment so we don't forget to
remove this check once the support for older OVS versions are dropped.

(cherry picked from 5ecaa0043bef240ede2c2184fce13923c782f56a)
Change-Id: I1ce87173731146e3f0078df99b7ba56f44b14497
Closes-Bug: #1757438
"
openstack%2Fshade~master~Id568d3ad408dd8976211c0576c45e8c9471d1849,openstack/shade,master,,Id568d3ad408dd8976211c0576c45e8c9471d1849,Add get_volume_limits() support,MERGED,2018-04-25 15:11:52.000000000,2018-04-27 12:08:45.000000000,2018-04-27 12:08:45.000000000,39,2,0,564247,f5e8ac20c72b395db091d51dd45d0db4e0bdefe3,12,3,2,2,4162,Paul Belanger,pabelanger,"Add get_volume_limits() support

Add the ability for a user (nodepool) to get the volume limits of a
cloud.

Change-Id: Id568d3ad408dd8976211c0576c45e8c9471d1849
Depends-On: https://review.openstack.org/564279
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Fopenstack-ansible~stable%2Fqueens~I5552fe62a9567f43c9f7c958cc30fe7ddfc16d92,openstack/openstack-ansible,stable/queens,bug/1764470,I5552fe62a9567f43c9f7c958cc30fe7ddfc16d92,Update role SHA's to resolve pip/python venv issues,MERGED,2018-04-26 12:50:07.000000000,2018-04-27 12:05:15.000000000,2018-04-27 12:05:15.000000000,55,31,0,564489,72c8be49071ae7ff09d0a5c0315429df2ecfde87,9,4,1,3,6816,Jesse Pretorius,jesse-pretorius,"Update role SHA's to resolve pip/python venv issues

With the release of pip10 and the use of python3 as the
default for the deploy host there were a bunch of patches
needed across all roles to ensure that the pinned versions
of pip/setuptools/wheel were actually being used for hosts,
containers and virtualenvs.

This patch updates the role SHA's to ensure that all these
fixes are brought in for the next release.

Closes-Bug: #1764470
Change-Id: I5552fe62a9567f43c9f7c958cc30fe7ddfc16d92
"
openstack%2Frequirements~master~Ib9bc7889add4652eb84a3a6e7c1b6118294a4515,openstack/requirements,master,update_skydive_uc,Ib9bc7889add4652eb84a3a6e7c1b6118294a4515,Update Skydive uc to 0.4.5,MERGED,2018-04-25 08:01:21.000000000,2018-04-27 12:03:30.000000000,2018-04-27 12:03:30.000000000,1,1,0,564125,ba6ff6dfb07c74c5c418e5c18c48c8851de075d3,9,5,1,1,17880,Shachar Snapiri,snapiri,"Update Skydive uc to 0.4.5

This fixes the issue in patch https://review.openstack.org/560305/ that
though stated the update is to version 0.4.5, updated it only to 0.4.4

Change-Id: Ib9bc7889add4652eb84a3a6e7c1b6118294a4515
"
openstack%2Fnetworking-ovn~stable%2Fqueens~Ie631cfebee98a2d2656c9e7f4430792c115ceda8,openstack/networking-ovn,stable/queens,bug/1750599,Ie631cfebee98a2d2656c9e7f4430792c115ceda8,Run tempest release job and functional tests against OVS 2.9,MERGED,2018-02-22 15:53:15.000000000,2018-04-27 12:02:31.000000000,2018-04-27 12:02:31.000000000,2,1,0,547039,b57c59ea482b2605ab6b6c9ba36e3032d94cf897,17,5,1,2,23804,Daniel Alvarez,dalvarez,"Run tempest release job and functional tests against OVS 2.9

This patch makes both the functional tests and tempest release
job to run against OVS 2.9 which is the latest release at the
time that stable/queens is going to be released.

This is also fixing the functional tests that currently run
against OVS master branch and currently breaks those.

Closes-bug: #1750599

Change-Id: Ie631cfebee98a2d2656c9e7f4430792c115ceda8
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
"
openstack%2Fneutron-vpnaas-dashboard~stable%2Fqueens~I66bd33f915fed94236d5ca10487e61f3fb695c42,openstack/neutron-vpnaas-dashboard,stable/queens,zanata/translations,I66bd33f915fed94236d5ca10487e61f3fb695c42,Imported Translations from Zanata,MERGED,2018-04-26 07:19:36.000000000,2018-04-27 11:47:31.000000000,2018-04-27 11:47:31.000000000,45,2,0,564407,32799994fc4a2a5226333e122f52d106473d3718,10,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I66bd33f915fed94236d5ca10487e61f3fb695c42
"
openstack%2Fheat~master~I9e2f1e27ce2c119647c9fe228484228d2c15d943,openstack/heat,master,,I9e2f1e27ce2c119647c9fe228484228d2c15d943,Avoid double-write when updating FAILED rsrc with no change,MERGED,2018-04-11 13:51:28.000000000,2018-04-27 11:36:20.000000000,2018-04-27 11:36:20.000000000,3,2,0,560427,4fc271da8e056e15d695a5331a1a1b091b6407c4,9,4,2,1,4257,Zane Bitter,zaneb,"Avoid double-write when updating FAILED rsrc with no change

In convergence, when a resource is traversed and left unchanged, we must
still update the current template for it in the database. In addition,
if the resource was unchanged in the template but already in a FAILED
state and we elected not to replace it by returning False from
needs_replace_failed(), we must also update the status to COMPLETE.

Currently, we do those in two separate writes. This is an unnecessary
overhead (albeit for a fairly rare case), and the two writes can be
combined into one in the case where both changes are required.

Change-Id: I9e2f1e27ce2c119647c9fe228484228d2c15d943
Related-Bug: #1763021
"
openstack%2Fheat~master~I7c474dbf0b21f922b6625e31d6ae7df1e198b8de,openstack/heat,master,docs,I7c474dbf0b21f922b6625e31d6ae7df1e198b8de,Docs: modernise links,MERGED,2017-08-18 08:53:15.000000000,2018-04-27 11:36:18.000000000,2018-04-27 11:36:18.000000000,57,56,0,495124,3f98c3d6fbe23999d34ad2eef0315a2f2b0a6637,45,12,9,20,23874,Chenghui Yu,chenghuiyu,"Docs: modernise links

Switch to https, replace outdated URLs with canonical ones.

Change-Id: I7c474dbf0b21f922b6625e31d6ae7df1e198b8de
Co-Authored-By: chenghuiyu <yuchenghui@unionpay.com>
Co-Authored-By: Max Pavlukhin <pavlukhinm@gmail.com>
Co-Authored-By: yfzhao <dsware@126.com>
Co-Authored-By: ricolin <rico.lin@easystack.cn>
"
openstack%2Fironic-tempest-plugin~master~Ia0e95cbc1bb4dbd32793705b876ab8b474b753ad,openstack/ironic-tempest-plugin,master,hw-types,Ia0e95cbc1bb4dbd32793705b876ab8b474b753ad,Rework the ironic-inspector auto-discovery test,MERGED,2018-03-28 10:52:32.000000000,2018-04-27 11:34:27.000000000,2018-04-27 11:34:27.000000000,34,31,0,557295,39579c63af1b9ab13d4434ee1d9dd196b3c28257,21,4,3,2,10239,Dmitry Tantsur,dtantsur,"Rework the ironic-inspector auto-discovery test

Currently this test relies on changing the driver in introspection rules.
This is quite fragile, since for hardware types changing the driver may
involve changing some or all of the interface fields. It's also absolutely
unnecessary to verify the functioning of the discovery process.
This change removes it.

Instead, the change starts verifying the ""auto_discovered"" flag in
the introspection data, as well as uses introspection rules to verify
it indirectly.

Finally, the discovery driver is checked. The expected value is provided
by the new configuration option auto_discovery_default_driver.

Change-Id: Ia0e95cbc1bb4dbd32793705b876ab8b474b753ad
"
openstack%2Fopenstack-zuul-jobs~master~I088d2a1e9e55a73b628bc6fc77e153734ec6f780,openstack/openstack-zuul-jobs,master,pip10,I088d2a1e9e55a73b628bc6fc77e153734ec6f780,Ignore errors from pip 10 in neutron-horizon-hack,ABANDONED,2018-04-16 11:52:56.000000000,2018-04-27 11:32:30.000000000,,1,0,1,561593,8dd7f86525fdb244e55ddeaca3905ee243a79f43,4,3,1,1,13252,Dr. Jens Harbott,jrosenboom,"Ignore errors from pip 10 in neutron-horizon-hack

We are calling tools/tox_install.sh with only a single argument, which
causes most versions of that script to generate a warning

You must give at least one requirement to install (see ""pip help
install"")

With pip 10, this warning has been promoted to an error, causing jobs to
fail in the pre-run phase.

Change-Id: I088d2a1e9e55a73b628bc6fc77e153734ec6f780
"
openstack%2Ftripleo-heat-templates~master~Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9,openstack/tripleo-heat-templates,master,containers-default,Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9,Switch remaining env files to containers defaults,MERGED,2018-04-11 16:24:02.000000000,2018-04-27 11:22:23.000000000,2018-04-27 11:22:22.000000000,107,71,16,560559,041251d473a55567992adb463174103f9c6200c2,59,15,11,49,6926,Bogdan Dobrelya,bogdando,"Switch remaining env files to containers defaults

Mark regular non-containerized services with FIXME
to be switched, once it is containerized

Do not mark yet an external/backend/plugin/host-config
related puppet services templates with that FIXME

Mark puppet/services/ceph- related templates as TODO
switch it to containerized ceph-ansible eventually, maybe.

Change-Id: Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fpython-tripleoclient~master~Ib84fafa2efc22148c06a7b9ab3484d87197cab27,openstack/python-tripleoclient,master,bp/config-download-default,Ib84fafa2efc22148c06a7b9ab3484d87197cab27,Remove adding config-download-environment.yaml,MERGED,2018-04-04 21:05:52.000000000,2018-04-27 11:13:03.000000000,2018-04-27 11:13:03.000000000,1,47,0,558931,1fe508e30b97e12b1bfb577b8368b18c07831bb0,32,6,4,2,7144,James Slagle,slagle,"Remove adding config-download-environment.yaml

Once https://review.openstack.org/#/c/558927/ lands, we can remove this
code that was forcibly adding the environment.

Change-Id: Ib84fafa2efc22148c06a7b9ab3484d87197cab27
implements: blueprint config-download-default
Depends-On: I8389a0c48e1aa610fdc6a8580516889340883034
"
openstack%2Fheat~master~Iad15069ccee42c1d409915f79e0d8af8e124fe48,openstack/heat,master,docs,Iad15069ccee42c1d409915f79e0d8af8e124fe48,Docs: Fix broken external links,MERGED,2018-03-12 19:26:46.000000000,2018-04-27 11:09:57.000000000,2018-04-27 11:09:57.000000000,18,20,0,552126,9e5d6b56c0b962473f18deb8fe4d1eca6e9646f4,10,4,2,9,4257,Zane Bitter,zaneb,"Docs: Fix broken external links

Change-Id: Iad15069ccee42c1d409915f79e0d8af8e124fe48
Closes-Bug: #1710084
"
openstack%2Fheat~master~I107f40e23a757052da7f5179338f88369a4a72cb,openstack/heat,master,docs,I107f40e23a757052da7f5179338f88369a4a72cb,Docs: use local references for internal links,MERGED,2018-03-12 19:26:46.000000000,2018-04-27 11:09:56.000000000,2018-04-27 11:09:56.000000000,18,21,0,552125,b78e78d8bba0a30fd36de154dcf74c8ed96274a9,10,4,2,6,4257,Zane Bitter,zaneb,"Docs: use local references for internal links

Some internal links in the documentation are broken after the
re-organisation because they used absolute URLs. Use :ref:, or at least
:doc: instead and let Sphinx take care of keeping the links up to date.

Also add a redirect for docs we know to have moved, since they may be
linked from other places externally.

Change-Id: I107f40e23a757052da7f5179338f88369a4a72cb
Partial-Bug: #1710084
"
openstack%2Fheat-tempest-plugin~master~If901077adee61df2273786283dcbdaef02dbe30a,openstack/heat-tempest-plugin,master,,If901077adee61df2273786283dcbdaef02dbe30a,API tests: Don't depend on template versions >mitaka,MERGED,2018-03-08 02:24:19.000000000,2018-04-27 11:09:55.000000000,2018-04-27 11:09:55.000000000,3,3,0,550667,4b9e2270341df3478878c130c2c269b30a11ad2f,7,4,1,2,4257,Zane Bitter,zaneb,"API tests: Don't depend on template versions >mitaka

The trademark program interop tests run against clouds as old as the
Mitaka release, so don't depend on the presence of template plugin
versions that are newer than that.

Change-Id: If901077adee61df2273786283dcbdaef02dbe30a
"
openstack%2Fos-client-config~master~Ic02eb10bf4b7a275c8e2e307e2ae651b03acdbf3,openstack/os-client-config,master,defer-auth-loading,Ic02eb10bf4b7a275c8e2e307e2ae651b03acdbf3,Defer plugin loading until it's needed,ABANDONED,2016-09-12 11:51:22.000000000,2018-04-27 10:57:13.000000000,,35,17,2,368779,6ebdbca326c6254ff3b8cce94a5164c6fd54528a,12,2,3,4,2,Monty Taylor,mordred,"Defer plugin loading until it's needed

We were always loaing the auth plugins so that we could know what
parameters they needed so that we could copy the appropriate parameters
into the auth dict. However, that means a very early loading of auth
parameters and has cause OSC to go through all sorts of contortions.

We know the 'main' auth parameters that need to be copied for the usual
use case, which is password - so special case them and then move calling
load_auth_plugin to when an auth plugin is actually requested.

Change-Id: Ic02eb10bf4b7a275c8e2e307e2ae651b03acdbf3
"
openstack%2Fos-client-config~master~I7587540b82b9befaf3a3fd6b22d3f7d704e9b848,openstack/os-client-config,master,unwind-osc-occ,I7587540b82b9befaf3a3fd6b22d3f7d704e9b848,Add support for k2k service provider auth,ABANDONED,2017-02-26 15:41:13.000000000,2018-04-27 10:57:04.000000000,,13,0,0,438270,b3bff9c38a3c3bed52e2c430250d3404ed6a4153,4,0,1,1,2,Monty Taylor,mordred,"Add support for k2k service provider auth

osc_lib returns a Keystone2Keystone auth wrapper around the auth plugin
if one is configured. There is nothing OSC specific about this, so add
the logic here. This will allow removing it from osc_lib and shrinking
divergence.

Change-Id: I7587540b82b9befaf3a3fd6b22d3f7d704e9b848
"
openstack%2Fos-client-config~master~Icdbf28abe7eabcef522a34bff14b06311118fa3f,openstack/os-client-config,master,unwind-osc-occ,Icdbf28abe7eabcef522a34bff14b06311118fa3f,Remove now-unnecessary validate=False settings,ABANDONED,2017-02-25 18:17:06.000000000,2018-04-27 10:56:55.000000000,,16,18,0,438198,11f626e4451c73f7bc64a2dafac394c2ca70a67f,9,1,3,2,2,Monty Taylor,mordred,"Remove now-unnecessary validate=False settings

validate=False was a hack to allow the unit tests to work without a
fully accurate config in places where we didn't actually need such a
thing. However, we do plugin loading late now, so it's a complete no-op.

Change-Id: Icdbf28abe7eabcef522a34bff14b06311118fa3f
"
openstack%2Fos-client-config~master~I114622d759dee6e4e3490c6d16b342e000621979,openstack/os-client-config,master,unwind-osc-occ,I114622d759dee6e4e3490c6d16b342e000621979,Don't create auth plugin until get_session,ABANDONED,2017-02-25 18:10:40.000000000,2018-04-27 10:56:46.000000000,,72,67,0,438196,c7b14a175179ebdf3bf99f85d944012d40e7b864,10,0,4,3,2,Monty Taylor,mordred,"Don't create auth plugin until get_session

The reason we were loading the auth plugin at config read time was to
get a list of plugin options so that we could pull them from the top
level config and insert them into the auth dict. However, it's not
actually reasonable to expect to do that for any options other than
those for password and token.

Hardcode the list of options we allow on the top level and then move
auth plugin loading to be on-demand when someone requests an auth plugin
or a session.

Change-Id: I114622d759dee6e4e3490c6d16b342e000621979
Depends-On: I8d4dd9df0ea7364dec1a8de25d31e09d93dfa116
"
openstack%2Fos-client-config~master~I5ba8c1738aee3adaded404c265a26544493d6a33,openstack/os-client-config,master,occ-service-client,I5ba8c1738aee3adaded404c265a26544493d6a33,Add helper factory functions for use in OpenStack services,ABANDONED,2017-02-28 19:18:52.000000000,2018-04-27 10:56:37.000000000,,476,0,0,439120,6d50c50b0862c523555d452154521e222062a4b7,9,2,3,5,2,Monty Taylor,mordred,"Add helper factory functions for use in OpenStack services

We handle creating things correctly for end users, but for folks working
on intra-service communication inside of OpenStack, most of the logic in
os_client_config.config - including reading env vars and clouds.yaml is
negatively useful.

Make some simple one-hit factory functions similar to the ones in
os_client_config/__init__.py that will just do the right thing, but
taking advantage of as much of the logic in CloudConfig as makes sense.

Change-Id: I5ba8c1738aee3adaded404c265a26544493d6a33
"
openstack%2Fnova~master~Iaeead2ee7747eb8612fa630553a5eaf63e392693,openstack/nova,master,564541,Iaeead2ee7747eb8612fa630553a5eaf63e392693,DNM: Showing some strange behavior,ABANDONED,2018-04-26 15:57:36.000000000,2018-04-27 10:54:55.000000000,,6,2,0,564541,9a21e14963bf07583f453760ec79fec376398efd,17,12,2,2,9708,Balazs Gibizer,gibi,"DNM: Showing some strange behavior

I think if a requested trait matches more than once in a selected
RP tree then SQL using the match count to see if every trait is match
breaks.

    #   WHERE rp.id IN ($RP_IDS_WITH_INV)
    #   AND rptt.trait_id IN ($REQUIRED_TRAIT_IDS)
    #   GROUP BY rp.root_provider_id
    #   HAVING COUNT(*) == $NUM_REQUIRED_TRAITS

...now with fix:

    #   HAVING COUNT(DISTINCT(rptt.trait_id)) == $NUM_REQUIRED_TRAITS

Change-Id: Iaeead2ee7747eb8612fa630553a5eaf63e392693
"
openstack%2Fcinder~master~If389788f06a3cee75b30485e90e05745d559e2ed,openstack/cinder,master,bug/1765766,If389788f06a3cee75b30485e90e05745d559e2ed,Add Keystone v3 domain information to context,MERGED,2018-04-20 16:26:03.000000000,2018-04-27 10:50:18.000000000,2018-04-25 18:06:08.000000000,49,2,4,563181,6ddd7d8b75307f89e4dd870a6122ccfd98a65c25,69,38,3,3,4523,Eric Harney,eharney,"Add Keystone v3 domain information to context

Keystone v3 requires domain info to be supplied when
making calls to Keystone.  Not providing this means
that Cinder can't work with deployments that only
support Keystone v3.

(Specifically, this fails when trying to communicate
with Keystone/Barbican from Cinder.)

The domain information is retrieved from HTTP headers
provided by Keystone and stored in our context object.

This includes both ""<x>_domain"" and ""<x>_domain_id""
in our context object, since castellan depends on
project_domain_id, but oslo.context has deprecated
project_domain and user_domain.

Closes-Bug: #1765766
Change-Id: If389788f06a3cee75b30485e90e05745d559e2ed
"
openstack%2Fnetworking-ovn~master~I05c5775d1d8bc9f264ed234dbdb84ab3c428c356,openstack/networking-ovn,master,merge-tempest,I05c5775d1d8bc9f264ed234dbdb84ab3c428c356,Merge tempest tests on a single run,MERGED,2018-04-25 12:49:48.000000000,2018-04-27 10:35:20.000000000,2018-04-27 10:35:20.000000000,17,110,0,564196,976d3d3cdb92abc06cab6c88c26a0d16dfc85f1d,17,4,5,9,6773,Lucas Alvares Gomes,lucasagomes,"Merge tempest tests on a single run

Prior to this patch in gate we had 3 tempest tests runs:

* networking-ovn-tempest-dsvm-ovs-master
* networking-ovn-tempest-dsvm-ovs-release
* tempest-dsvm-networking-ovn-neutron-api-scenario-ovs-release

The last one from the list was created as a separated job because many
of it's tests were failing. Now, that job is voting already so I think
we could merge the API and Scenario tests into the normal tempest tests
that already existed in the gate.

This will minimize the use of resources from infra and also expand the
coverage of the API and Scenario tests by also running against master OVS
(before it only ran against the released version of OVS).

Change-Id: I05c5775d1d8bc9f264ed234dbdb84ab3c428c356
"
openstack%2Fneutron~master~I5becda7dd3d2a2ff4883fc4265eb35882173b1c0,openstack/neutron,master,lower-constraints-timeout,I5becda7dd3d2a2ff4883fc4265eb35882173b1c0,Increase lower-constraints job timeout to 60 minutes,MERGED,2018-04-26 15:46:22.000000000,2018-04-27 10:33:01.000000000,2018-04-27 10:33:01.000000000,1,0,0,564536,a8ab93b846c5c5c1c0cd44cd95653bb76f271fce,14,5,1,1,1131,Brian Haley,brian-haley,"Increase lower-constraints job timeout to 60 minutes

The openstack-tox-lower-constraints job is timing out
a lot at the 40 minute mark, increase to 60 minutes
to try and stabilize it.

Change-Id: I5becda7dd3d2a2ff4883fc4265eb35882173b1c0
"
openstack%2Fopenstack-ansible-specs~master~Id5b991c6982609931a7befb1a2a3e74363a3024c,openstack/openstack-ansible-specs,master,bp/openstack-distribution-packages,Id5b991c6982609931a7befb1a2a3e74363a3024c,specs: rocky: Add new openstack-distribution-packages specification,MERGED,2018-03-27 12:01:55.000000000,2018-04-27 10:12:18.000000000,2018-04-27 10:12:18.000000000,133,0,24,556832,bc4dbd855ebc3424a6793a0e3af30c41c7c33339,35,10,6,1,23163,Markos Chandras (hwoarang),mchandras,"specs: rocky: Add new openstack-distribution-packages specification

Add new Rocky specification for installing OpenStack services using the
distribution packages.

Implements blueprint: openstack-distribution-packages
Change-Id: Id5b991c6982609931a7befb1a2a3e74363a3024c
"
openstack%2Fqinling~master~Ia7a44943ba439425f81da1b6727c129a31590a72,openstack/qinling,master,functional-test-function-version,Ia7a44943ba439425f81da1b6727c129a31590a72,Functional test for creating function version,MERGED,2018-04-27 04:44:52.000000000,2018-04-27 10:10:30.000000000,2018-04-27 10:10:30.000000000,148,0,2,564673,2be2b431524a73a3d4ef28a623b3b4c2c4f3e0be,11,4,2,3,6732,Lingxian Kong,kong,"Functional test for creating function version

Change-Id: Ia7a44943ba439425f81da1b6727c129a31590a72
Story: 2001829
Task: 14456
"
openstack%2Fqinling~master~Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b,openstack/qinling,master,version-other-operations,Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b,Function version API: scale_up/scale_down/detach/get_workers,MERGED,2018-04-25 13:14:18.000000000,2018-04-27 10:10:28.000000000,2018-04-27 10:10:28.000000000,291,86,1,564203,08ded02123cb46e48d4fcbe8d4254b13cd4a8802,35,3,13,10,6732,Lingxian Kong,kong,"Function version API: scale_up/scale_down/detach/get_workers

This patch adds some other API for function version:

- scale_up function version workers
- scale_down function version workers
- detach function version from workers
- get all workers for function version

This patch also fixes a unit test bug that job handler should be
disabled for api tests.

Change-Id: Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b
Story: 2001829
Task: 14438
"
openstack%2Fkolla-ansible~master~I4f863750a7806a7b6eaf13900d44e5f063afe3de,openstack/kolla-ansible,master,bp/neutron-ipam-driver-infoblox,I4f863750a7806a7b6eaf13900d44e5f063afe3de,Configure Infoblox as an IPAM driver for neutron,MERGED,2018-03-21 19:49:26.000000000,2018-04-27 10:07:46.000000000,2018-04-27 10:07:46.000000000,133,3,3,555032,2f69b3cbc66eafaaec1920ceb85255d0f84aa6a4,35,12,6,14,26089,Gerry Buteau,gbuteau,"Configure Infoblox as an IPAM driver for neutron

This patch allows configuration of the Infoblox
pluggable IPAM driver in neutron [0].

When 'infoblox' is chosen as the driver, an Infoblox
IPAM agent can be started as well.  The agent
allows for enhanced DNS capabilities by listening
for neutron and nova notifications.

[0] https://github.com/openstack/networking-infoblox/blob/master/README.rst

Change-Id: I4f863750a7806a7b6eaf13900d44e5f063afe3de
Depends-On: Ia44f0e0d7a0d60cebf0857ad51700e02eba5099b
Partially-Implements: blueprint neutron-ipam-driver-infoblox
"
openstack%2Fswift~feature%2Fdeep~I4e1961c13be301381907885579d4137cd0a9b16a,openstack/swift,feature/deep,564488,I4e1961c13be301381907885579d4137cd0a9b16a,Stop internal client txn_id bleeding into sharder logs,MERGED,2018-04-26 12:47:23.000000000,2018-04-27 10:03:45.000000000,2018-04-27 10:03:45.000000000,50,45,0,564488,069733c86ba9f8e4eeeff3d2e15f45a6847eaca2,9,3,2,2,7847,Alistair Coles,acoles,"Stop internal client txn_id bleeding into sharder logs

The LogAdapter txn_id is stored in a threading.local object that is a
class attribute, so all instances of the LogAdapter in same thread
will pick up the txn_id set in another instance. That means that after
the internal client has been used to make a request, all subsequent
sharder logs include the request txn_id.

The txn_id might be useful if an error occurs in _fetch_shard_ranges
but is annoying elsewhere.

Change-Id: I4e1961c13be301381907885579d4137cd0a9b16a
"
openstack%2Fcharm-vault~master~Id8fa1cbe33feccc9c2f06a61db22453d7830730d,openstack/charm-vault,master,key-manager-vault,Id8fa1cbe33feccc9c2f06a61db22453d7830730d,Add support for new secrets:vault-kv interface,MERGED,2018-04-20 11:51:48.000000000,2018-04-27 09:57:31.000000000,2018-04-27 09:57:31.000000000,355,13,0,563091,28fb89a44b0c32a9a7425ac498a20f1c55810720,28,4,8,8,935,James Page,james-page,"Add support for new secrets:vault-kv interface

Provide implementation for the provides endpoint of the vault-kv
typed interface.

This interface type will setup a KV secret backend and create an
approle and policy to allow remote services to access the backend
using the Vault API.

Backends may be shared between remote units, allowing any unit to
access any value in the backend, or may be isolated between units
based on path suffixing using the units hostname so that stored
secrets are not visible between units of a deployment.

Change-Id: Id8fa1cbe33feccc9c2f06a61db22453d7830730d
"
openstack%2Foslo.privsep~master~I29dba7a80c3a9f0877a2ee33b7ca32cd112aeff8,openstack/oslo.privsep,master,bug/1673832,I29dba7a80c3a9f0877a2ee33b7ca32cd112aeff8,Make method configurable,ABANDONED,2017-06-22 12:17:23.000000000,2018-04-27 09:53:07.000000000,,7,1,1,476489,c467f3db7782f4d5b6e538640c641113a83d6441,14,5,2,1,14352,Antoni Segura Puimedon,toni,"Make method configurable

With this change, it is possible to have the privsep config section for
the privcontext specify which privsep method should be used.

Related-Bug: 1673832
Change-Id: I29dba7a80c3a9f0877a2ee33b7ca32cd112aeff8
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
"
openstack%2Fswift~feature%2Fdeep~I18f84caf2eb4fe17fbe28d7cb5d65cec4da7474d,openstack/swift,feature/deep,,I18f84caf2eb4fe17fbe28d7cb5d65cec4da7474d,Parameterize SQL args,MERGED,2018-04-26 23:57:15.000000000,2018-04-27 09:50:32.000000000,2018-04-27 09:50:32.000000000,12,7,0,564651,bef2a855d2b3192647663fcea0731c4fb41620e7,6,2,1,1,15343,Tim Burke,tburke,"Parameterize SQL args

'Cause I want to have shard ranges with quotes in them LIKE A CRAZY PERSON.

Change-Id: I18f84caf2eb4fe17fbe28d7cb5d65cec4da7474d
"
openstack%2Fcharm-vault~master~Ia335c3a711cf371c42483ae86980b256a07ad21d,openstack/charm-vault,master,misc-tidy,Ia335c3a711cf371c42483ae86980b256a07ad21d,Misc tidy post major changes,MERGED,2018-04-26 16:17:45.000000000,2018-04-27 09:45:26.000000000,2018-04-27 09:45:26.000000000,2,22,0,564544,34714a92ae11c3f0ed439db082d5e59280e8544a,9,4,1,2,935,James Page,james-page,"Misc tidy post major changes

Restore setting of flag 'configured' once vault has had an initial
configuration set.

Drop @when_not('configured') as we always want to rewrite the
vault configuration file - but we only restart it when its changed
now!

Drop handlers for etcd states - really not needed as configuration
is not longer guarded with @when_not('configured').

Add missing patch for service enable call in configure function.

Change-Id: Ia335c3a711cf371c42483ae86980b256a07ad21d
"
openstack%2Fzun~master~I388548a1c15e61b62e802da634c7be8697ff05b9,openstack/zun,master,,I388548a1c15e61b62e802da634c7be8697ff05b9,Unify the format of list response,MERGED,2018-03-07 04:00:25.000000000,2018-04-27 09:45:07.000000000,2018-04-27 09:45:07.000000000,26,24,0,550320,d99faddc5ab6f1858cb9cf716ea1a8e602bb4ce9,10,4,2,3,11536,hongbin,hongbin,"Unify the format of list response

Change the format of container_actions response for consistency
with other APIs. Right now, all the list response is of the
following format:

  {""xxx"" [{...}, ...]}

Change-Id: I388548a1c15e61b62e802da634c7be8697ff05b9
"
openstack%2Fproject-config~master~I661c5a10b0497fd9112daea6d4737a5d15dc8b79,openstack/project-config,master,ignore-series-status,I661c5a10b0497fd9112daea6d4737a5d15dc8b79,ignore the series_status.yaml when processing release requests,MERGED,2018-04-25 20:59:27.000000000,2018-04-27 09:41:46.000000000,2018-04-27 09:41:46.000000000,2,1,0,564342,394cf0c4e34d980be76c7dbac1345251d16962a3,11,5,2,1,2472,Doug Hellmann,doug-hellmann,"ignore the series_status.yaml when processing release requests

The series_status.yaml file does not contain release data so
process_release_requests.py should ignore it.

Change-Id: I661c5a10b0497fd9112daea6d4737a5d15dc8b79
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Ftripleo-heat-templates~stable%2Focata~I5beb00c28d72a6c28d62b915b5285d3b543910f0,openstack/tripleo-heat-templates,stable/ocata,bug/1764971,I5beb00c28d72a6c28d62b915b5285d3b543910f0,Change ovs RuntimeDirectory Mode,ABANDONED,2018-04-18 08:43:51.000000000,2018-04-27 09:35:26.000000000,,16,0,2,562148,a4d16690c83d2835dc8ceab4ca9ea74fb02855ed,11,5,2,1,21151,zenghui.shi,zshi,"Change ovs RuntimeDirectory Mode

when updating ovs to 2.8+, ovs and qemu share the
same group hugetlbfs, but for existing vhostusermode
interfaces located at /var/run/openvswitch dir, qemu
can't access them after ovs update, because the dir
has default 0755 mode instead of a group write
permission. This change is going to add g+w mode to
/var/run/openvswitch.

Related-Bug: #1764971
Change-Id: I5beb00c28d72a6c28d62b915b5285d3b543910f0
"
openstack%2Fpython-zunclient~master~Ic7e643727631c737a16549903cf9bebcb7ebffcd,openstack/python-zunclient,master,update-pypi-url,Ic7e643727631c737a16549903cf9bebcb7ebffcd,Trivial: Update pypi url to new url,MERGED,2018-04-20 10:26:43.000000000,2018-04-27 09:33:12.000000000,2018-04-27 09:33:12.000000000,2,2,0,563066,fa9caa063aa4d076375ab9ff907bc1737a3215d4,7,3,1,1,23630,Tovin Seven,tovin07,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ic7e643727631c737a16549903cf9bebcb7ebffcd
"
openstack%2Fhorizon~master~I9e3261b1f9a19be318e5b4bfc2611af73b0fe5b4,openstack/horizon,master,zanata/translations,I9e3261b1f9a19be318e5b4bfc2611af73b0fe5b4,Imported Translations from Zanata,MERGED,2018-04-27 07:33:20.000000000,2018-04-27 09:32:46.000000000,2018-04-27 09:32:46.000000000,152,6,0,564690,96e7c33c1ca174cee4a31bd91a205bfcee9ce27f,6,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9e3261b1f9a19be318e5b4bfc2611af73b0fe5b4
"
openstack%2Fpython-zunclient~master~Ibb63e1e27c7568952bfc2b9780471bb2b39cc956,openstack/python-zunclient,master,bug/1760215,Ibb63e1e27c7568952bfc2b9780471bb2b39cc956,Rename `appcontainer update` to `appcontainer set`,MERGED,2018-04-02 05:25:50.000000000,2018-04-27 09:32:03.000000000,2018-04-27 09:32:03.000000000,1,1,0,558159,0957ab3593a5517e7f14511967a2c9d81acbe2aa,7,4,1,1,10206,Madhuri Kumari,Madhuri,"Rename `appcontainer update` to `appcontainer set`

Change-Id: Ibb63e1e27c7568952bfc2b9780471bb2b39cc956
Closes-bug: #1760215
"
openstack%2Fopenstack-ansible-os_keystone~master~I8621614a9b9e747dde3ff0e8cea1ac2494dadbac,openstack/openstack-ansible-os_keystone,master,bp/openstack-distribution-packages,I8621614a9b9e747dde3ff0e8cea1ac2494dadbac,templates: keystone-uwsgi: Allow uwsgi to autoload required plugins.,MERGED,2018-04-11 08:25:23.000000000,2018-04-27 09:30:16.000000000,2018-04-27 09:30:16.000000000,2,2,0,560307,1fb579d05ebc0c5e6f32784f0a8cd5836cf162a7,34,5,4,1,23163,Markos Chandras (hwoarang),mchandras,"templates: keystone-uwsgi: Allow uwsgi to autoload required plugins.

Distributions normally package uwsgi in a modular fashion so we need
to be use the 'autoload' option to allow it to load all the required
plugins.

Change-Id: I8621614a9b9e747dde3ff0e8cea1ac2494dadbac
Implements: blueprint openstack-distribution-packages
"
openstack%2Fnova~master~Ie832b2bbd3e1b057bfd2bca33b960eb857d4820c,openstack/nova,master,bp/add-host-to-instance-action-events,Ie832b2bbd3e1b057bfd2bca33b960eb857d4820c,Address nits in I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f,MERGED,2018-04-16 02:03:25.000000000,2018-04-27 09:25:04.000000000,2018-04-24 17:58:27.000000000,3,4,0,561493,b33f24b4995dca2a0b4b8405af0fb13ff50f9ab4,34,15,1,2,20722,Yikun Jiang,yikunkero,"Address nits in I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f

Change-Id: Ie832b2bbd3e1b057bfd2bca33b960eb857d4820c
"
openstack%2Fmistral-tempest-plugin~master~Id935265fcbe0a3072ba2d693edf54b892173fbdf,openstack/mistral-tempest-plugin,master,bug/1598135,Id935265fcbe0a3072ba2d693edf54b892173fbdf,Adds the force parameter to delete executions,MERGED,2018-04-25 14:29:27.000000000,2018-04-27 09:22:46.000000000,2018-04-27 09:22:46.000000000,21,5,0,564237,3a1b40ff15b73ca05ab2565e7217f281dbadad9e,16,4,3,4,15895,Adriano Petrich,apetrich,"Adds the force parameter to delete executions

This is an intermediary step so the tests can work with or without
the force parameter. Once the force parameter has landed in mistral
I will remove the try except from this implementation.

Change-Id: Id935265fcbe0a3072ba2d693edf54b892173fbdf
"
openstack%2Fgovernance~master~Ife3934bbb2686fca94eb28b5591c36567b90b58c,openstack/governance,master,ansible-docker-gerrit,Ife3934bbb2686fca94eb28b5591c36567b90b58c,Import ansible-role-container-registry in tripleo,MERGED,2018-04-20 17:32:02.000000000,2018-04-27 09:12:59.000000000,2018-04-27 09:12:59.000000000,3,0,0,563198,c0fac0c0d41e073cf1f2e15473553201f116b5e0,11,14,1,1,3153,Emilien Macchi,emilienm,"Import ansible-role-container-registry in tripleo

This role has to replace the puppet code that used to deploy and
configure Docker and Docker Registry.
We aim to make a generic role that can be re-used by the community.

Depends-On: Ie23e36bfa8451275e460100ab4776bf5aa8efa54
Change-Id: Ife3934bbb2686fca94eb28b5591c36567b90b58c
"
openstack%2Fkolla-ansible~master~I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4,openstack/kolla-ansible,master,bug/1749155,I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4,Fix SSL api for multiple services,MERGED,2018-02-12 15:24:04.000000000,2018-04-27 08:55:48.000000000,2018-04-27 08:55:48.000000000,126,33,52,543488,a81a5d5d5d0f6f84d17850b50dc35585738853d6,61,11,19,19,18368,Kevin Tibi,kodokuu,"Fix SSL api for multiple services

If SSL is enabled, api of multiple services returns
wrong external URL without https prefix.

Removal of condition for deletion of http  header.

Change-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4
Closes-Bug: #1749155
Closes-Bug: #1717491
"
openstack%2Fopenstack-ansible-os_tacker~master~Icd8165fdcfd802b4d0b73fc6074975b90a993ccd,openstack/openstack-ansible-os_tacker,master,do_not_log_passwords,Icd8165fdcfd802b4d0b73fc6074975b90a993ccd,Do not log passwords,MERGED,2018-04-23 09:33:36.000000000,2018-04-27 08:54:34.000000000,2018-04-27 01:50:30.000000000,4,0,0,563548,aaba56e52dde82420bd9553f75fab2f9cbebaccb,24,6,1,1,25284,fupingxie,fpxie,"Do not log passwords

This prevents data to be leaked into the callback plugin.

Change-Id: Icd8165fdcfd802b4d0b73fc6074975b90a993ccd
"
openstack%2Ftripleo-docs~master~Ib44e7e501dc91fb3bcca7d36db1f73a4f1147531,openstack/tripleo-docs,master,bp/enrich-ironic-networking-integration,Ib44e7e501dc91fb3bcca7d36db1f73a4f1147531,Docs: Enrich integration with ironic networking features,MERGED,2018-04-12 11:36:27.000000000,2018-04-27 08:53:02.000000000,2018-04-27 08:53:02.000000000,74,50,0,560868,0ff50693bdcb729d7744ced48f87a37203169246,7,4,1,1,24245,Harald Jensås,harald.jensas,"Docs: Enrich integration with ironic networking features

Update instackenv.json documentation to reflect changes in:
https://review.openstack.org/556490

Change-Id: Ib44e7e501dc91fb3bcca7d36db1f73a4f1147531
Implements: blueprint enrich-ironic-networking-integration
Depends-On: I74d4178dbb0cfe8c934ce15e3e7c9bb1c469de10
"
openstack%2Fopenstack-ansible-repo_build~master~I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,openstack/openstack-ansible-repo_build,master,,I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,Do not use an index for a venv with no git sources,MERGED,2018-04-26 16:23:26.000000000,2018-04-27 08:51:38.000000000,2018-04-27 08:18:30.000000000,33,20,2,564549,040ee2e1284586dcdf27538129ef3d3d1a4907b4,15,5,2,1,6816,Jesse Pretorius,jesse-pretorius,"Do not use an index for a venv with no git sources

When building a venv with no git sources, currently the venv build
executes without constraints as it uses the default pypi index.

This patch ensures that if there is no git source, then the --no-index
setting will still be applied.

Change-Id: I4468092eb5c86d6346a793ba1e2bfc6e772de3bb
"
openstack%2Fmonasca-agent~stable%2Fqueens~If52b52efab6cc14a7df583b1dc2596b04e6813bc,openstack/monasca-agent,stable/queens,key_config-stable/queens,If52b52efab6cc14a7df583b1dc2596b04e6813bc,Allow Keystone config in init_config for http check,MERGED,2018-04-25 05:47:28.000000000,2018-04-27 08:46:26.000000000,2018-04-27 08:46:26.000000000,45,19,0,564106,89d31cc2664fe4ec5315cd8940d932ece93cf106,9,2,1,3,21922,Dobroslaw Zybort,dobrolaw.zybort,"Allow Keystone config in init_config for http check

Now the user will be able to configure one, default Keystone for all
services in `http_check.yml` instead of providing them one by one for
every instance.

Setting Keystone config in every instance is marked as depreciated.

Story: 2001843
Task: 12610

Change-Id: If52b52efab6cc14a7df583b1dc2596b04e6813bc
(cherry picked from commit e13de8083e90170b9a90000b534bfd1c1cc88551)
"
openstack%2Fswift~feature%2Fdeep~Ia5867b163eb4e9b516a0306a505cd2bc3dd49d43,openstack/swift,feature/deep,564570,Ia5867b163eb4e9b516a0306a505cd2bc3dd49d43,Commit from pending file less often,MERGED,2018-04-26 21:27:22.000000000,2018-04-27 08:32:05.000000000,2018-04-27 02:08:28.000000000,0,2,3,564630,843e845ddeb0b6f37f72fc75b30094904831e6f2,9,3,1,1,15343,Tim Burke,tburke,"Commit from pending file less often

Shard ranges *can't* be in the pending file, so no need to try to clear it
when fetching shard ranges. And we already try to commit down in _empty, so
is_reclaimable was previously trying to do it *twice*.

Change-Id: Ia5867b163eb4e9b516a0306a505cd2bc3dd49d43
"
openstack%2Ftripleo-puppet-elements~master~I81b5b5bfd945ca74aec7ce8d9036c2680a5a4d1a,openstack/tripleo-puppet-elements,master,bug/1767135,I81b5b5bfd945ca74aec7ce8d9036c2680a5a4d1a,Add keepalived back,MERGED,2018-04-26 15:14:42.000000000,2018-04-27 08:21:21.000000000,2018-04-27 08:21:21.000000000,2,0,0,564531,fae89441a07189f48dda600f6bb245720f19587e,11,5,1,2,14985,Alex Schultz,mwhahaha,"Add keepalived back

I5ceb329e18024040697ad5eab892d13c51ad276f removed the OpenStack and Ceph
packages which also removed keepalived from the images. We still need
keepalived for the controllers so adding it back in as an explicit
package to install.

Change-Id: I81b5b5bfd945ca74aec7ce8d9036c2680a5a4d1a
Closes-Bug: #1767135
"
openstack%2Ftripleo-validations~stable%2Fqueens~I895fc83d148523c283664080b7b1bf75d53d9edb,openstack/tripleo-validations,stable/queens,bug/1765121-stable/queens,I895fc83d148523c283664080b7b1bf75d53d9edb,Validate that there should not be XFS volumes with ftype=0,MERGED,2018-04-25 06:25:43.000000000,2018-04-27 08:19:30.000000000,2018-04-26 16:43:45.000000000,47,0,0,564109,d54ae2d1e21245f7033107e1bae327621f54f82f,13,5,2,2,20775,Carlos Camacho,ccamacho,"Validate that there should not be XFS volumes with ftype=0

If  we have XFS partitions formatted with ftype=0,
the upgrades will fail because ftype=0 is incompatible
with the docker overlayfs driver.

Related-Bug: 1765121
Change-Id: I895fc83d148523c283664080b7b1bf75d53d9edb
(cherry picked from commit a5e63ee72531c85ee527ce721022fffce3cfcf75)
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I7ed52727d1515ee7f191a82b0b1d645a9d597cd3,openstack/tripleo-heat-templates,stable/pike,bug/1758034,I7ed52727d1515ee7f191a82b0b1d645a9d597cd3,Explicitly set nova/neutron/ceilometer host to expected fqdn,MERGED,2018-03-22 14:14:18.000000000,2018-04-27 08:14:38.000000000,2018-04-27 08:14:37.000000000,12,3,2,555317,c48ae0b42f06dacd8615ef52f718674ec95c12af,16,7,2,4,23811,Oliver Walsh,owalsh,"Explicitly set nova/neutron/ceilometer host to expected fqdn

This avoids any issues where the host/domainname is altered by a DHCP lease.
Also the puppet/facter fqdn can be unpredictable when there are multiple NICs.

Change-Id: I7ed52727d1515ee7f191a82b0b1d645a9d597cd3
Closes-bug: 1758034
(cherry picked from commit 31e4c0194dd1d6e049a728c876347df93ce89908)
(cherry picked from commit 3381d59f0a6bafac47c98ed8754ee4170e749354)
"
openstack%2Ftripleo-heat-templates~master~I8389a0c48e1aa610fdc6a8580516889340883034,openstack/tripleo-heat-templates,master,bp/config-download-default,I8389a0c48e1aa610fdc6a8580516889340883034,Switch to config-download by default,MERGED,2018-04-04 21:01:55.000000000,2018-04-27 08:14:36.000000000,2018-04-27 08:14:36.000000000,25,4,0,558927,f44e8d7bd2615dfdb0ed15b3bbd45a4475ae0152,60,9,7,4,7144,James Slagle,slagle,"Switch to config-download by default

Updates overcloud-resource-registry.j2.yaml to include the mappings from
enviornments/config-download-environment.yaml. This enables
config-download by default. The environment to explicitly enable
config-download is deprecated.

An environment at environments/disable-config-download.yaml is added
which can be used to disable config-download but is marked as
deprecated.

Change-Id: I8389a0c48e1aa610fdc6a8580516889340883034
implements: blueprint config-download-default
"
openstack%2Fmonasca-agent~master~Ibaf148ca6cf7b9cb73ceabacccf7aa519897af72,openstack/monasca-agent,master,,Ibaf148ca6cf7b9cb73ceabacccf7aa519897af72,Fix type error in monasca agent,MERGED,2018-04-26 13:16:32.000000000,2018-04-27 08:12:21.000000000,2018-04-27 08:12:21.000000000,4,4,2,564501,2b2b5719c75076132b251aa811796feffed82880,14,7,2,1,28075,Jui Chandwaskar,jchandwaskar,"Fix type error in monasca agent

Observed TypeError in forwarder and collector logs while
executing monasca agent. Due to which monasca agent failed
to start.

Added line continuation character to fix the error.

Change-Id: Ibaf148ca6cf7b9cb73ceabacccf7aa519897af72
Task: 14449
Story: 2001922
"
openstack%2Fmonasca-specs~master~Id73d56a3e4c6b3a84f73554b3d844856ec035b7e,openstack/monasca-specs,master,552030,Id73d56a3e4c6b3a84f73554b3d844856ec035b7e,Add `Kafka upgrade` goal description,MERGED,2018-04-13 14:10:50.000000000,2018-04-27 08:10:04.000000000,2018-04-27 08:10:04.000000000,9,1,0,561233,05c88fe5db0000e3bbf963046ad6517905473bb4,9,6,1,1,16222,witek,witek,"Add `Kafka upgrade` goal description

Change-Id: Id73d56a3e4c6b3a84f73554b3d844856ec035b7e
"
openstack%2Fcloudkitty~master~I92f8184137e77b9d149b9d7e6425274c99b050d1,openstack/cloudkitty,master,bp/rating-for-second-level,I92f8184137e77b9d149b9d7e6425274c99b050d1,[WIP] Add event analysis to cloudkitty for rating second level,ABANDONED,2016-10-05 01:42:01.000000000,2018-04-27 08:09:20.000000000,,2309,1,2,382127,b55a2a750250ac6cb7ecb5990d086efaded9a8bf,12,3,3,16,8358,zhangguoqing,zhangguoqing,"[WIP] Add event analysis to cloudkitty for rating second level

The event analysis module include noop, ceilometer and panko.
1) The noop means NoopEventAnalysis is a fake, just for testing.
2) The ceilometer means CeilometerEventAnalysis, what cloudkitty
   get event form ceilometer API.
3) The panko means PankoEventAnalysis, what cloudkitty get events
   from panko API.

Change-Id: I92f8184137e77b9d149b9d7e6425274c99b050d1
Implements: blueprint rating-for-second-level
"
openstack%2Fneutron-vpnaas-dashboard~stable%2Fqueens~I044a52f78d8eec86f0ad615bedfc517258ba1894,openstack/neutron-vpnaas-dashboard,stable/queens,gate-fix,I044a52f78d8eec86f0ad615bedfc517258ba1894,Fix gate errors,MERGED,2018-04-26 15:45:15.000000000,2018-04-27 08:04:24.000000000,2018-04-27 08:04:24.000000000,10,8,0,564534,c8d4de9ad3c9f65b52992558bebdbe6cf0a93dde,10,2,3,3,841,Akihiro Motoki,amotoki,"Fix gate errors

- Fix pep8 errors caused by recent pycodestyle upgrade
- Skip pip install if no requirements is specified

Change-Id: I044a52f78d8eec86f0ad615bedfc517258ba1894
"
openstack%2Fpython-tripleoclient~master~I0a6f99f0b886a2583d47e7abeee6e0c222f708d8,openstack/python-tripleoclient,master,remove-commented-nat-rules,I0a6f99f0b886a2583d47e7abeee6e0c222f708d8,Remove commented cidr nat rules code,MERGED,2018-04-26 14:23:07.000000000,2018-04-27 08:04:22.000000000,2018-04-27 08:04:22.000000000,0,14,0,564521,5c2dbec0f8002de03fad0355c4b4ecc13e4319e9,12,8,2,1,24245,Harald Jensås,harald.jensas,"Remove commented cidr nat rules code

Since change I48aa95b96c762a72273b5b0b714a04da7ee69a40
in puppet-tripleo the forwarding rules is created when
masquerading is used.

If masquerading is not enabled, we do not need to allow
forwarding.

Change-Id: I0a6f99f0b886a2583d47e7abeee6e0c222f708d8
"
openstack%2Ftripleo-image-elements~master~I4b1230dce03ad8c9fa0d1ae001d368f7531dc0d8,openstack/tripleo-image-elements,master,remove-os-apply-config,I4b1230dce03ad8c9fa0d1ae001d368f7531dc0d8,Remove os-net-config element,ABANDONED,2018-04-20 06:45:10.000000000,2018-04-27 08:00:48.000000000,,4,208,0,562950,4dd95f0f811cff62c1d082c10a8a393e56c49dc8,6,7,1,9,10873,Juan Antonio Osorio Robles,ejuaoso,"Remove os-net-config element

It's not used anymore.

Change-Id: I4b1230dce03ad8c9fa0d1ae001d368f7531dc0d8
"
openstack%2Fneutron-vpnaas-dashboard~master~I3c496c5fe90780df8dbb512523e47cbffa08e833,openstack/neutron-vpnaas-dashboard,master,zanata/translations,I3c496c5fe90780df8dbb512523e47cbffa08e833,Imported Translations from Zanata,MERGED,2018-04-27 07:20:04.000000000,2018-04-27 07:52:23.000000000,2018-04-27 07:52:22.000000000,18,82,0,564689,d03ff320eebc18dfea14833b34663607c29027d0,6,2,1,4,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3c496c5fe90780df8dbb512523e47cbffa08e833
"
openstack%2Fpython-tripleoclient~master~Idf17e3f817708d9e7dd7241063434ce56b6be052,openstack/python-tripleoclient,master,bug/1743575,Idf17e3f817708d9e7dd7241063434ce56b6be052,Composable role and service fails workflow,MERGED,2018-01-16 14:54:51.000000000,2018-04-27 07:49:54.000000000,2018-02-08 07:31:16.000000000,15,8,3,534337,7c0ad1df5e49358299cea3cd15ccdd6d2c54271d,17,6,4,2,22323,Michael  Henkel,mhenkel,"Composable role and service fails workflow

When defining a resource_registry for a composable service, the workflow fails
because it validates before the user-environment is added.
This patch moves the workflow invocation after the creation of the user-
environment.
This is caused by https://review.openstack.org/#/c/511249/ which changes the
behaviour of the action in tripleo-common.

Change-Id: Idf17e3f817708d9e7dd7241063434ce56b6be052
Closes-Bug: 1743575
"
openstack%2Fneutron~master~I6153d5973feda300fa81b275269bc2cbc9019193,openstack/neutron,master,,I6153d5973feda300fa81b275269bc2cbc9019193,No need for www_authenticate_uri in [designate],MERGED,2018-04-25 10:52:12.000000000,2018-04-27 07:23:13.000000000,2018-04-27 07:23:13.000000000,0,2,0,564159,d8a94b2412f42f4b918501bb088a75cfea1636bc,10,6,1,1,18940,Gyorgy Szombathelyi,gyurco78,"No need for www_authenticate_uri in [designate]

The www_authenticate_uri is a keystonemiddleware option, it is not
needed for the Designate client.

Change-Id: I6153d5973feda300fa81b275269bc2cbc9019193
"
openstack%2Ftempest~master~Ib54777e5ce101bab6c2980ae69ef2c5d978ff064,openstack/tempest,master,bp/clear-deprecated-api,Ib54777e5ce101bab6c2980ae69ef2c5d978ff064,Add common method to check the microversion compatibility,MERGED,2018-03-30 08:19:14.000000000,2018-04-27 07:14:48.000000000,2018-04-27 07:14:47.000000000,47,0,12,557907,66b9aed5cfd6fa94946bfff4987eb3645140f850,49,10,7,2,8556,Ghanshyam,ghanshyam,"Add common method to check the microversion compatibility

As there are lot of API microversion with behavior change,
tests internal checks needs to be adjusted according to
requested microversion.
Example: https://review.openstack.org/#/c/557280/

That need to compare the requested microversion with max supported
microversion. Same comparison is needed multiple places in multiple
files.

This commit adds a common method to do the microversion comparison
which can be used in many place.

Change-Id: Ib54777e5ce101bab6c2980ae69ef2c5d978ff064
"
openstack%2Fproject-config~master~I353a97ae963718222dc2e8b5d50921a887fc1650,openstack/project-config,master,mark-ovsfw-scenario-job-voting,I353a97ae963718222dc2e8b5d50921a887fc1650,"Change label for neutron-tempest-ovsfw to ""voting""",MERGED,2018-04-17 12:44:00.000000000,2018-04-27 06:58:09.000000000,2018-04-27 06:58:09.000000000,1,1,2,561930,8d04aa82d991b88e061564282e7438c8d3b6fd9c,13,6,1,1,11975,Slawek Kaplonski,slaweq,"Change label for neutron-tempest-ovsfw to ""voting""

Job was switched to be voting in [1] so it shouldn't be marked as
""non-voting"" in dashboard.

[1] https://review.openstack.org/#/c/560097/

Change-Id: I353a97ae963718222dc2e8b5d50921a887fc1650
"
openstack%2Fheat~master~Ie55ee1e692053b438251b9aacb85db290edd308e,openstack/heat,master,mox-removal,Ie55ee1e692053b438251b9aacb85db290edd308e,Remove mox usage from test_resource,MERGED,2018-03-31 03:11:02.000000000,2018-04-27 06:30:17.000000000,2018-04-27 06:30:17.000000000,151,208,29,558021,344246ca2a82fc833a88bf22c5a8581e1ef8ade9,14,4,3,1,12404,Rico Lin,rico.lin,"Remove mox usage from test_resource

Change-Id: Ie55ee1e692053b438251b9aacb85db290edd308e
goal: mox-removal
"
openstack%2Fheat~master~Ie89ccc7fff15a2b1d7c5a2b3655d5bffd0279720,openstack/heat,master,mox-removal,Ie89ccc7fff15a2b1d7c5a2b3655d5bffd0279720,Remove mox from test_instance,MERGED,2018-03-29 01:26:44.000000000,2018-04-27 06:26:17.000000000,2018-04-27 06:26:17.000000000,240,331,0,557566,b3f0a7e2e5bd11bd1909d28344c74ae7e2aa4b25,8,4,1,1,4257,Zane Bitter,zaneb,"Remove mox from test_instance

Change-Id: Ie89ccc7fff15a2b1d7c5a2b3655d5bffd0279720
"
openstack%2Fzun~master~I891f5b761b80a79002a6520b1569f3c3e9276cc4,openstack/zun,master,,I891f5b761b80a79002a6520b1569f3c3e9276cc4,Consolidate the essential fields in Capsule,ABANDONED,2018-04-26 08:15:13.000000000,2018-04-27 06:13:08.000000000,,8,8,0,564420,a2abff272c8293b447b7299f602f97301af8aab5,3,1,1,1,22076,Kevin Zhao,KevinZhao,"Consolidate the essential fields in Capsule

Change-Id: I891f5b761b80a79002a6520b1569f3c3e9276cc4
Signed-off-by: Kevin Zhao <kevin.zhao@arm.com>
"
openstack%2Fproject-config~master~I121809c5fa2f1532041c774425ecb02b560ce272,openstack/project-config,master,,I121809c5fa2f1532041c774425ecb02b560ce272,Allows networking-onos-core group to create a new branch,ABANDONED,2018-04-27 04:24:25.000000000,2018-04-27 05:39:13.000000000,,2,1,0,564669,140bad7ab7edcd3ba33ce940b586e72219a3a308,3,1,1,1,25575,Sangho Shin,sanghoshin,"Allows networking-onos-core group to create a new branch

Change-Id: I121809c5fa2f1532041c774425ecb02b560ce272
"
openstack%2Fironic~master~I3be46cf4fe46a981caa6711a962324a6a1a67cfa,openstack/ironic,master,glance_unit_test,I3be46cf4fe46a981caa6711a962324a6a1a67cfa,Add unit test for check of glance image status,MERGED,2018-04-27 00:29:00.000000000,2018-04-27 05:34:07.000000000,2018-04-27 05:34:07.000000000,9,0,0,564652,d741556f0f0a012ec82d08ae30eacd7d07b8a439,11,5,2,1,21909,Bob Fournier,bfournie,"Add unit test for check of glance image status

Add a unit test for glance image status check added in
https://review.openstack.org/#/c/559500/.

Change-Id: I3be46cf4fe46a981caa6711a962324a6a1a67cfa
"
openstack%2Fcastellan~stable%2Fpike~I784bb4fbe3e33722f76e9ff063c456b84f1d8c97,openstack/castellan,stable/pike,pip10-stable-fix,I784bb4fbe3e33722f76e9ff063c456b84f1d8c97,Fix sphinx-docs job for stable branch,MERGED,2018-04-26 12:11:04.000000000,2018-04-27 05:17:32.000000000,2018-04-26 13:41:16.000000000,5,0,0,564474,b0ede4059ab7d3df138a462816b60a3922d3a2f0,7,2,1,1,17685,Elod Illes,elod.illes,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: I784bb4fbe3e33722f76e9ff063c456b84f1d8c97
"
openstack%2Fironic~stable%2Fpike~I83cf3e02622fc3ed8f5b5389f533e374c1b985f3,openstack/ironic,stable/pike,bug/1745630-stable/queens-stable/pike,I83cf3e02622fc3ed8f5b5389f533e374c1b985f3,Remove too large configdrive for handling error,MERGED,2018-04-12 09:44:27.000000000,2018-04-27 04:40:17.000000000,2018-04-27 04:40:17.000000000,89,5,12,560845,a55331cf084f0dd12796581605585d5bdfb22ecb,50,12,5,3,7102,Thomas Bechtold,toabctl,"Remove too large configdrive for handling error

When configdrive is too large, a node object cannot be saved to DB. If
it happens, the node cannot moved to DEPLOYFAIL because saving the node
is prevented again by the large configdrive in the object. In this
case, the node gets stuck in DEPLOYING, which doesn't allow any state
transition.

This patch removes the configdrive from a node object when storing the
configdrive fails. This also catches ConfigInvalid exception, which is
mentioned in the docsting, and any unexpected exception from
_store_configdrive() to avoid getting a node stuck in DEPLOYING.

(cherry picked from commit 927c487a0f822ab789f38be5f895fe061e5e71cb)
Change-Id: I83cf3e02622fc3ed8f5b5389f533e374c1b985f3
Closes-Bug: 1745630
"
openstack%2Fironic~stable%2Fqueens~Ibd49d65f4512f2fa417794b66f4007d82f02e2ac,openstack/ironic,stable/queens,cr_1713916-stable/queens,Ibd49d65f4512f2fa417794b66f4007d82f02e2ac,Fix ``agent`` deploy interface to call ``boot.prepare_instance``,MERGED,2018-04-23 13:28:29.000000000,2018-04-27 04:40:15.000000000,2018-04-27 04:40:14.000000000,506,127,0,563621,0a3506f4788bb25fee0b233c71d266f72112b388,15,7,1,7,10239,Dmitry Tantsur,dtantsur,"Fix ``agent`` deploy interface to call ``boot.prepare_instance``

``agent`` deploy interface do not call ``boot.prepare_instance``
if image being provisioned is whole disk image. This commit fixes
that issue.
It also updates ``validate`` method of neutron network interface
module to validate if it can support boot options requested for
instance image.

Change-Id: Ibd49d65f4512f2fa417794b66f4007d82f02e2ac
Story: 1713916
Task: 9259
Story: 1750958
Task: 9288
(cherry picked from commit 4fa1075b95e2e5262f98395275590dcd3833ab74)
"
openstack%2Fironic~stable%2Fqueens~I3445d6c33660be535babcf3e300ac4ba1b86ae4f,openstack/ironic,stable/queens,bug/2001832-stable/queens,I3445d6c33660be535babcf3e300ac4ba1b86ae4f,Stop verifying updated driver in creating task,MERGED,2018-04-24 13:42:05.000000000,2018-04-27 04:40:12.000000000,2018-04-27 04:40:12.000000000,34,83,0,563961,8bd1d7c9f121a3b50fb6de254417466645328656,10,7,1,6,10239,Dmitry Tantsur,dtantsur,"Stop verifying updated driver in creating task

When a driver of a node is updated, the new driver is passed for
creating a task. If a new driver is a hardware type, the new hardware
type is validated with existing interfaces stored in database even
if requesting to update interfaces together. This causes an error if
the new hardware type doesn't support an existing interface.

Now that a hardware type and interfaces are validated before creating a
task for locking a node when the node is updated, it is not necessary
to verify an updated driver in the task creation.

Change-Id: I3445d6c33660be535babcf3e300ac4ba1b86ae4f
Story: #2001832
Task: #12595
(cherry picked from commit acdc372b5dd2abfeaf12ca657c3edbf6d0f5df3a)
"
openstack%2Fironic~stable%2Fqueens~Ib261401ab5681fd8ba1a91252a5bed51ec73c757,openstack/ironic,stable/queens,story/2001797-stable/queens,Ib261401ab5681fd8ba1a91252a5bed51ec73c757,Implement a function to check the image status,MERGED,2018-04-26 13:58:24.000000000,2018-04-27 04:21:30.000000000,2018-04-27 04:21:30.000000000,17,2,0,564515,7ee202e42f404da8e756c1e0f79631dc5ee1866f,11,8,1,3,21909,Bob Fournier,bfournie,"Implement a function to check the image status

Using new function is_image_active to confirm if the image is active

Change-Id: Ib261401ab5681fd8ba1a91252a5bed51ec73c757
Story: 2001797
Task: 12519
(cherry picked from commit 8aa46de0ec8321616284b888875424d964efc5e6)
"
openstack%2Fnova~master~I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5,openstack/nova,master,bp/add-host-to-instance-action-events,I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5,Add host/hostId to instance action events API,MERGED,2018-03-28 04:09:29.000000000,2018-04-27 03:52:44.000000000,2018-04-26 20:42:06.000000000,366,22,122,557145,c2f7d6585818c04e626aa4b6c292e5c2660cb8b3,233,25,16,24,20722,Yikun Jiang,yikunkero,"Add host/hostId to instance action events API

This patch adds a new microversion to
``GET /servers/{server_id}/os-instance-actions/{req_id}`` API to
include the ``host`` field for admin and an ``hostId`` for all users
by default. And the display of newly added ``host`` field will be
controlled by the same policy as the ``traceback`` field.

The newly added fields can be used to determine on which host a
given action event occurred.

Part of blueprint: add-host-to-instance-action-events

Change-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5
"
openstack%2Ftripleo-quickstart~master~I37a6c86870c22597267e1923dfd945377a3e2251,openstack/tripleo-quickstart,master,bp/config-download-default,I37a6c86870c22597267e1923dfd945377a3e2251,Convert featureset020 experimental ovb job to config-download,MERGED,2018-04-10 13:50:26.000000000,2018-04-27 03:46:00.000000000,2018-04-26 23:03:31.000000000,14,1,1,560030,4b2636986f68327c8f8c8b2efc826185172989eb,27,8,2,2,7144,James Slagle,slagle,"Convert featureset020 experimental ovb job to config-download

This converts featureset020 ovb jobs in the experimental queue that run against
master changes to use config-download.

Change-Id: I37a6c86870c22597267e1923dfd945377a3e2251
implements: blueprint config-download-default
"
openstack%2Fswift~feature%2Fdeep~Ied1373362c38bbe7bab84fe4958888b0145e68ba,openstack/swift,feature/deep,564540,Ied1373362c38bbe7bab84fe4958888b0145e68ba,Reclaim deleted shard range rows after 2 * reclaim_age,MERGED,2018-04-26 15:55:38.000000000,2018-04-27 02:24:41.000000000,2018-04-27 02:24:40.000000000,105,36,5,564540,20fda6673dcb566b1f915311e692baa4eda6cff3,9,3,2,4,7847,Alistair Coles,acoles,"Reclaim deleted shard range rows after 2 * reclaim_age

...but never reclaim own_shard_range because we always want to know
what own_shard_range state is up until the db is unlinked.

The sharder audit process will delete a shard container if its own
shard range has been deleted for > reclaim_age.

The replicator will unlink the db if the shard container has been
deleted for > reclaim_age.

So there is potentially a window of time which is more than 2 *
reclaim_age after the own_shard_range was deleted but before the db
gets unlinked.

Change-Id: Ied1373362c38bbe7bab84fe4958888b0145e68ba
"
openstack%2Ftripleo-upgrade~master~I6ca773c03ef31b5b2fad72ac2671bbc209a47af2,openstack/tripleo-upgrade,master,add_post_nova_actions,I6ca773c03ef31b5b2fad72ac2671bbc209a47af2,Add post upgrade Nova operation check,MERGED,2018-04-19 16:32:31.000000000,2018-04-27 02:17:14.000000000,2018-04-27 02:09:04.000000000,79,0,14,562738,85507aeff290c995e8d51cc3226562e72c2e2b2f,28,7,8,9,18851,Marius Cornea,mcornea,"Add post upgrade Nova operation check

Add check that validates that Nova operations can be performed
against an instance already created before the upgrade/update.
This check reboots the instance via Nova API call and validates
the reboot by checking the uptime via SSH.

Change-Id: I6ca773c03ef31b5b2fad72ac2671bbc209a47af2
"
openstack%2Fvirtualbmc~master~I6e5496540efbe8727aa531b3771371c6a85a11bd,openstack/virtualbmc,master,,I6e5496540efbe8727aa531b3771371c6a85a11bd,Testing CI,ABANDONED,2018-04-23 14:58:57.000000000,2018-04-27 02:17:07.000000000,,2,1,0,563654,736c24f152faf1c4e97c6c6c5fcabcc852fa40d3,3,1,1,1,11655,Julia Kreger,jkreger,"Testing CI

Change-Id: I6e5496540efbe8727aa531b3771371c6a85a11bd
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~Idfe041fba9120964a5af06b3a25c55b87b611960,openstack/tripleo-upgrade,stable/queens,bug/1764454-stable/queens,Idfe041fba9120964a5af06b3a25c55b87b611960,Adhere to ANSIBLE0011 All tasks should be named.,MERGED,2018-04-26 10:22:03.000000000,2018-04-27 02:09:03.000000000,2018-04-27 02:09:03.000000000,36,18,0,564438,9e67560f9017409aba9f205045843933f2316990,7,3,1,10,8297,Sofer Athlan-Guyot,chem,"Adhere to ANSIBLE0011 All tasks should be named.

Change-Id: Idfe041fba9120964a5af06b3a25c55b87b611960
Closes-Bug: #1764454
(cherry picked from commit 2bead7f8be288c1e3ad67026e4576108e5696d03)
"
openstack%2Ftripleo-heat-templates~stable%2Focata~I2039eca87c11638faf6262259b7bcface982f5c6,openstack/tripleo-heat-templates,stable/ocata,live-migration-port-range-ocata,I2039eca87c11638faf6262259b7bcface982f5c6,Modify libvirt port range for live-migration,MERGED,2018-04-25 11:43:36.000000000,2018-04-27 02:09:02.000000000,2018-04-27 02:09:02.000000000,14,0,0,564175,832455031baf5e8eb094c208f667cc3ee0ebb23f,9,4,2,2,20733,Rajesh Tailor,rajesht,"Modify libvirt port range for live-migration

By default, libvirtd uses ports 49152 to 49215 for live-migration,
as specified in qemu.conf

Since these ports is subset to ephemeral port range, which is from
32768 to 61000 for linux, it can be consumed by any other service
as well. It causes live-migration to fail, with below error:

Live Migration failure: internal error: Unable to find an unused
port in range 'migration' (49152-49215)

Using port range out of ephemeral port range.

Change-Id: I2039eca87c11638faf6262259b7bcface982f5c6
(cherry picked from commit 3da3f5d8de91181fa6c65ecfcf8d4733e000ace4)
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I2039eca87c11638faf6262259b7bcface982f5c6,openstack/tripleo-heat-templates,stable/pike,live-migration-port-range-queens-stable/pike,I2039eca87c11638faf6262259b7bcface982f5c6,Modify libvirt port range for live-migration,MERGED,2018-04-25 11:40:14.000000000,2018-04-27 02:09:01.000000000,2018-04-27 02:09:01.000000000,14,1,0,564172,753a11a712ffdb7bd28d6f2f280fd59363eb8151,10,7,2,2,20733,Rajesh Tailor,rajesht,"Modify libvirt port range for live-migration

By default, libvirtd uses ports 49152 to 49215 for live-migration,
as specified in qemu.conf

Since these ports is subset to ephemeral port range, which is from
32768 to 61000 for linux, it can be consumed by any other service
as well. It causes live-migration to fail, with below error:

Live Migration failure: internal error: Unable to find an unused
port in range 'migration' (49152-49215)

Using port range out of ephemeral port range.

Change-Id: I2039eca87c11638faf6262259b7bcface982f5c6
(cherry picked from commit 3da3f5d8de91181fa6c65ecfcf8d4733e000ace4)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I2039eca87c11638faf6262259b7bcface982f5c6,openstack/tripleo-heat-templates,stable/queens,live-migration-port-range-queens,I2039eca87c11638faf6262259b7bcface982f5c6,Modify libvirt port range for live-migration,MERGED,2018-04-25 11:40:02.000000000,2018-04-27 02:09:00.000000000,2018-04-27 02:09:00.000000000,14,1,0,564171,f868924553d87e1549aae1f71d9941ee45662f45,10,6,2,2,20733,Rajesh Tailor,rajesht,"Modify libvirt port range for live-migration

By default, libvirtd uses ports 49152 to 49215 for live-migration,
as specified in qemu.conf

Since these ports is subset to ephemeral port range, which is from
32768 to 61000 for linux, it can be consumed by any other service
as well. It causes live-migration to fail, with below error:

Live Migration failure: internal error: Unable to find an unused
port in range 'migration' (49152-49215)

Using port range out of ephemeral port range.

Change-Id: I2039eca87c11638faf6262259b7bcface982f5c6
(cherry picked from commit 3da3f5d8de91181fa6c65ecfcf8d4733e000ace4)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I70972ad2fc339c9316befd74dda8555982f23316,openstack/tripleo-heat-templates,stable/queens,bug/1766759,I70972ad2fc339c9316befd74dda8555982f23316,Add volumes list of docker-puppet container when merging config volumes,MERGED,2018-04-26 04:20:26.000000000,2018-04-27 02:08:58.000000000,2018-04-27 02:08:58.000000000,3,0,0,564384,db6f0d3b60264fac13100eca951e6d11cac5205f,9,4,1,1,18575,Saravanan KR,saravanankr,"Add volumes list of docker-puppet container when merging config volumes

When config volumes of same types are merged, the volumes to be mounted
for the continer is not merged. In order to run neutron container with
ovs agent, '/run/openvswitch' directory mount is required to execute
ovs-vsctl commands. This patch merges the volumes list of the same
config volumes instead of taking only the first one.

Closes-Bug: #1766759
Change-Id: I70972ad2fc339c9316befd74dda8555982f23316
(cherry picked from commit ec3e34709231b3dd0b166db9c011c5ef4d66cd80)
"
openstack%2Frequirements~master~I41b78c060bf2d436e561a9ce0981e27f64c0191c,openstack/requirements,master,new-release,I41b78c060bf2d436e561a9ce0981e27f64c0191c,update constraint for neutron-lib to new release 1.14.0,MERGED,2018-04-26 19:50:23.000000000,2018-04-27 02:04:21.000000000,2018-04-27 02:04:21.000000000,1,1,0,564611,b849492d3dae2be43b5371e3e5005b9772b84592,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for neutron-lib to new release 1.14.0

Change-Id: I41b78c060bf2d436e561a9ce0981e27f64c0191c
meta:version: 1.14.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Boden R <bodenvmw@gmail.com>
meta:release:Commit: Boden R <bodenvmw@gmail.com>
meta:release:Change-Id: Ic6b1a46fa99fd3aa4fd96ea0fce172c9b273a583
meta:release:Code-Review+1: Miguel Lavalle <miguel.lavalle@huawei.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fzun~master~I0f06ae7775033d397d4e116817f92798a842405d,openstack/zun,master,,I0f06ae7775033d397d4e116817f92798a842405d,Validate filters when listing containers,MERGED,2018-04-14 23:09:20.000000000,2018-04-27 01:54:12.000000000,2018-04-27 01:54:12.000000000,49,21,2,561438,ce663938f81c9771b040f70b13befef9d8601d43,20,5,4,2,11536,hongbin,hongbin,"Validate filters when listing containers

According to the OpenStack API guidelines [1], if the API supports
query parameters and a request contains an unknown or unsupported
parameter, the server should return a 400 Bad Request response.
However, this is not the case when listing containers (listing
containers with unknown parameter returns 200). This patch
fixes it.

[1] http://specs.openstack.org/openstack/api-wg/guidelines/http/
    response-codes.html#failure-code-clarifications

Change-Id: I0f06ae7775033d397d4e116817f92798a842405d
"
openstack%2Fzun~master~I761142fcf095b7814c7152fa41fb019d918b3e06,openstack/zun,master,,I761142fcf095b7814c7152fa41fb019d918b3e06,Improve the testing of 'kuryr_network' module,MERGED,2018-04-08 21:21:28.000000000,2018-04-27 01:54:11.000000000,2018-04-27 01:54:11.000000000,178,90,0,559598,aa3203bfc5413d06da659f6cc31ad3b1d568eef2,13,3,4,1,11536,hongbin,hongbin,"Improve the testing of 'kuryr_network' module

* The class FakeNeutronClient is for emulating the real neutron
  API behavior for testing. This patch improves this class to make
  it similar with what neutron server behaved.
* Add more assertion on the called methods and the called
  parameters.

Change-Id: I761142fcf095b7814c7152fa41fb019d918b3e06
"
openstack%2Fpuppet-tripleo~stable%2Fnewton~I98a00a9ae265d3e5854632e749cc8c3a1647298c,openstack/puppet-tripleo,stable/newton,bug/1654050-stable/newton,I98a00a9ae265d3e5854632e749cc8c3a1647298c,firewall: add IPv6 support,MERGED,2018-04-25 15:15:05.000000000,2018-04-27 01:16:42.000000000,2018-04-27 01:16:42.000000000,84,18,0,564250,f6d398a7daf777d6854d05f58b88c6309c0e557a,13,6,4,2,3153,Emilien Macchi,emilienm,"firewall: add IPv6 support

This patch adds support for ip6tables rules in TripleO, in a intuitive
and flexible fashion.

1) Default firewal rules 'source' parameter to undef.
   It was 0.0.0.0/0 before but now undef, so we don't need complex logic to
   support ipv6 rules. undef will create empty source, which is the same as
   0.0.0.0/0 or ::/0.

2) Automatically convert icmp rules to ipv6-icmp for ipv6 rules.

3) Automatically create IPv6 rules like it's for IPv4.

4) Only create rules that can be created, depending on
   source/destination ip version.

This patch should be backward compatible and adds a layer of security
for IPv6 deployments. If previous deployments were manually creating
Ipv6 rules, it's possible that this patch will override them. Our
framework is able to configure any rule, so it shouldn't be a problem
for upgrades.

Note: the code had to be partially rewritten because of Puppet3 vs
Puppet4.

Co-Authored-By: Ben Nemec <bnemec@redhat.com>
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Closes-Bug: #1654050
Change-Id: I98a00a9ae265d3e5854632e749cc8c3a1647298c
(cherry picked from commit 8c990738900cd74c2c5c046435517393d1afb92e)
"
openstack%2Frequirements~master~I31f1c0b76ad6b6b9c28780568404391b4806935a,openstack/requirements,master,new-release,I31f1c0b76ad6b6b9c28780568404391b4806935a,update constraint for openstacksdk to new release 0.13.0,MERGED,2018-04-26 19:53:10.000000000,2018-04-27 01:04:26.000000000,2018-04-27 01:04:25.000000000,1,1,0,564612,bdb6717e38ae15ace1a28c1f28d511627c929840,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for openstacksdk to new release 0.13.0

Change-Id: I31f1c0b76ad6b6b9c28780568404391b4806935a
meta:version: 0.13.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: Ib8106e25ec9484dfeeab67ed0199a996b383e7dc
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fkolla-ansible~master~I0391715b16cf86d6c27fecf8a666de64f2735a7d,openstack/kolla-ansible,master,bug/1767136,I0391715b16cf86d6c27fecf8a666de64f2735a7d,Increase timeout for kolla_toolbox module.,MERGED,2018-04-26 16:02:42.000000000,2018-04-27 00:48:31.000000000,2018-04-27 00:48:30.000000000,10,2,0,564542,044e82ccfe786a5f388800634e7869b464648cfc,7,4,1,1,2276,Jorge Niedbalski,niedbalski,"Increase timeout for kolla_toolbox module.

This patch increases the default timeout for
the kolla_toolbox ansible module when talking
with the docker API from the default 60 to 180 secs.

This is required on slower deployments,
specially when bootstraping an environment and fernet
tokes are in usage. For faster deployments this will
be harmless, but for slower deployments this would be
beneficial.

Bug: #1767136
Change-Id: I0391715b16cf86d6c27fecf8a666de64f2735a7d
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@linaro.org>
"
openstack%2Fhorizon~master~I6f87a221c297e2f5d657f9b51e74b36a7e4d1f12,openstack/horizon,master,bug/1715542,I6f87a221c297e2f5d657f9b51e74b36a7e4d1f12,Fix up remote consoles to use correct key,ABANDONED,2017-09-07 04:44:46.000000000,2018-04-27 00:28:30.000000000,,29,13,5,501564,a95cca80d967ec7dcb6fcda0e028f76afc3fa5fc,31,10,4,4,3031,Sam Morrison,sorrison,"Fix up remote consoles to use correct key

This was changed from console to remote_console when switching
to the new server-remote-consoles API

Change-Id: I6f87a221c297e2f5d657f9b51e74b36a7e4d1f12
Closes-bug: 1715542
"
openstack%2Fironic-inspector~master~Ife3fea3b4daa563182d95f0895c798f361410261,openstack/ironic-inspector,master,hw-types,Ife3fea3b4daa563182d95f0895c798f361410261,Switch the grenade job to hardware types and clean up its playbook,MERGED,2018-04-04 11:47:05.000000000,2018-04-27 00:26:29.000000000,2018-04-27 00:26:29.000000000,7,55,0,558789,1b0adcbf123d0464f5dc4077ecd41d5b1bb02f04,7,3,1,1,10239,Dmitry Tantsur,dtantsur,"Switch the grenade job to hardware types and clean up its playbook

Change-Id: Ife3fea3b4daa563182d95f0895c798f361410261
"
openstack%2Fnova~master~I4436f5c1cc819c55ca9186bda0362bb74555c95a,openstack/nova,master,bp/add-host-to-instance-action-events,I4436f5c1cc819c55ca9186bda0362bb74555c95a,Record the host info in EventReporter,MERGED,2018-03-27 04:11:43.000000000,2018-04-27 00:08:20.000000000,2018-04-24 06:30:49.000000000,48,18,9,556746,cbf02e050e4071565d549856ef878f3f36c0455c,88,23,5,7,20722,Yikun Jiang,yikunkero,"Record the host info in EventReporter

The instance action event is recorded in API/Conductor/Compute using
EventReporter. We already had self.host in API/Conductor/Compute
(where the EventReporter would be used) in change
Idf57fb5fbc611abb83943bd7e36d3cebf03b3977.

In this patch, the self.host param would be passed in EventReporter,
and then the host would be recorded in instance action event.

Part of blueprint: add-host-to-instance-action-events

Change-Id: I4436f5c1cc819c55ca9186bda0362bb74555c95a
"
openstack%2Fswift~feature%2Fdeep~Idcca56ab2f42dcadb5b3a2194bda16c8dc451f71,openstack/swift,feature/deep,,Idcca56ab2f42dcadb5b3a2194bda16c8dc451f71,Catch more exceptions when recording progress,MERGED,2018-04-26 19:44:59.000000000,2018-04-27 00:06:25.000000000,2018-04-27 00:06:25.000000000,1,1,0,564605,7abc6ed4fa2da3207c8fe660186aa3ed01d271d4,6,2,1,1,15343,Tim Burke,tburke,"Catch more exceptions when recording progress

Change-Id: Idcca56ab2f42dcadb5b3a2194bda16c8dc451f71
"
openstack%2Fneutron~stable%2Fqueens~I25d9c87225feda1b5ddd442dd01529424186e05b,openstack/neutron,stable/queens,bug/1708731-stable/queens,I25d9c87225feda1b5ddd442dd01529424186e05b,ovs-fw: Apply openflow rules immediately during update,MERGED,2018-04-24 14:55:30.000000000,2018-04-27 00:06:19.000000000,2018-04-27 00:06:19.000000000,24,2,0,563990,f68e7822f46ec9577e5a866a67cc54b777240486,22,6,1,4,8655,Jakub Libosvar,jlibosva,"ovs-fw: Apply openflow rules immediately during update

Because update operation updates openflow rules three times:
 1) New rules with new cookie
 2) Delete old rules with old cookie
 3) Change new cookie back to old cookie

and the step 2) uses --strict parameter, it's needed to apply rules
before deleting the old rules because --strict parameter cannot be
combined with non-strict. This patch applies openflow rules after
step 1), then --strict rules in step 2 are applied right away and then
rest of delete part from 2) and all new rules from 3) are applied
together.

This patch adds optional interval parameter to Pinger class which sends
more ICMP packets per second in the firewall blink tests to increase a
chance of sending a packet while firewall is in inconsistent state.

Change-Id: I25d9c87225feda1b5ddd442dd01529424186e05b
Closes-bug: #1708731
"
openstack%2Fswift~feature%2Fdeep~I2b2b8a6b8801082f3068ec0f264ab5d4086aa2c8,openstack/swift,feature/deep,,I2b2b8a6b8801082f3068ec0f264ab5d4086aa2c8,Clean up logs a bit,MERGED,2018-04-26 20:01:51.000000000,2018-04-27 00:06:17.000000000,2018-04-27 00:06:17.000000000,17,15,0,564613,f635d78a2d670f407a9bfc7be81308ee9cbe9f91,6,2,1,1,15343,Tim Burke,tburke,"Clean up logs a bit

We don't need to log the fact that we created zero ranges, and we don't need
to log at info for *every* container we find.

It *is* handy to write down the time elapsed when we finish cleaving a shard,
though, so I don't have to correlate log lines, parse and diff dates, etc.

Change-Id: I2b2b8a6b8801082f3068ec0f264ab5d4086aa2c8
"
openstack%2Fneutron~master~I5b0a6bafd1e3f4552e32809a449868d7a5868739,openstack/neutron,master,bug/1765008,I5b0a6bafd1e3f4552e32809a449868d7a5868739,Move standard-attr-segment to service plugin,MERGED,2018-04-24 15:08:28.000000000,2018-04-27 00:06:15.000000000,2018-04-27 00:06:15.000000000,3,3,0,563995,e36a2bd65c65d7dad15579aa86bb5fe6614a40ab,26,8,1,2,27654,Hongbin Lu,hongbin.lu,"Move standard-attr-segment to service plugin

Standard attributes was added to segment resource at [1].
In [2], a shim extension standard-attr-segment was added to ml2
plugin to indicate this change, but this extension should be
placed to segment service plugin instead. This commit fixes it.

[1] https://review.openstack.org/#/c/558318/
[2] https://review.openstack.org/#/c/562320/

Change-Id: I5b0a6bafd1e3f4552e32809a449868d7a5868739
Closes-Bug: #1765008
"
openstack%2Foslo.config~stable%2Fpike~I646fcc181d1129ca96d02a90036ee32b80d8f778,openstack/oslo.config,stable/pike,pip10-stable-pike-fix,I646fcc181d1129ca96d02a90036ee32b80d8f778,Fix sphinx-docs job for stable/pike,MERGED,2018-04-23 15:14:24.000000000,2018-04-26 23:49:44.000000000,2018-04-26 23:49:44.000000000,6,0,1,563664,4d372b7de147364093d973ca3cc0f6e0b4089bff,16,5,3,1,17685,Elod Illes,elod.illes,"Fix sphinx-docs job for stable/pike

build-openstack-sphinx-docs jobs fails on stable/pike due to the new pip
version 10 introduces some previously Warning as Error: in case of calling
""pip install"" without any package name, the command fails. tox_install.sh
is called during docs job without any package passed to pip.

Change-Id: I646fcc181d1129ca96d02a90036ee32b80d8f778
"
openstack%2Frequirements~stable%2Fpike~Id0ddeb1d120e6ad77fedf26bb5aa3808f6be759a,openstack/requirements,stable/pike,new-release,Id0ddeb1d120e6ad77fedf26bb5aa3808f6be759a,update constraint for python-novaclient to new release 9.1.2,MERGED,2018-04-25 09:41:31.000000000,2018-04-26 23:44:07.000000000,2018-04-26 23:44:07.000000000,1,1,0,564151,ccf4264a00328091af01712ce535e2887a95c24d,15,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-novaclient to new release 9.1.2

Change-Id: Id0ddeb1d120e6ad77fedf26bb5aa3808f6be759a
meta:version: 9.1.2
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: melanie witt <melwittt@gmail.com>
meta:release:Commit: melanie witt <melwittt@gmail.com>
meta:release:Change-Id: Ice3ebaabf39f63bbd8c5a104f70570a12b1e7b08
meta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fswift~feature%2Fdeep~I3e48850a0afbab0725859b4bd0c5b70bd78a16ff,openstack/swift,feature/deep,,I3e48850a0afbab0725859b4bd0c5b70bd78a16ff,Remove unused code for passing shard ranges via the pending file,MERGED,2018-04-26 17:41:44.000000000,2018-04-26 23:44:06.000000000,2018-04-26 23:44:06.000000000,41,58,0,564570,5eb65e4b895a6d513d371418a0e7f1f241c81b34,6,2,1,4,7847,Alistair Coles,acoles,"Remove unused code for passing shard ranges via the pending file

Remove/revert to master leftover code from when shard ranges were
written to the pending file.

Change-Id: I3e48850a0afbab0725859b4bd0c5b70bd78a16ff
"
openstack%2Frequirements~master~Ib8bc0f837c55839dc85df1d1f0c76b320b9d97b8,openstack/requirements,master,os-xenapi-0.3.3,Ib8bc0f837c55839dc85df1d1f0c76b320b9d97b8,Bump os-xenapi to 0.3.3,MERGED,2018-04-26 07:36:20.000000000,2018-04-26 23:44:04.000000000,2018-04-26 23:44:04.000000000,1,1,0,564413,8eb9ad8b60973e7f5d53fe9ad4d1c07dc3de5cf6,13,6,2,1,17920,Jianghua Wang,wjhfresh,"Bump os-xenapi to 0.3.3

Change-Id: Ib8bc0f837c55839dc85df1d1f0c76b320b9d97b8
"
openstack%2Fneutron~master~I6e9bc70ba2bcd5432bee1ddcf16f449421befd90,openstack/neutron,master,mixing-ovs-lb-vxlan-tunnels,I6e9bc70ba2bcd5432bee1ddcf16f449421befd90,Document mixed scenario with LB and OVS over VXLAN,MERGED,2018-04-17 22:14:32.000000000,2018-04-26 23:44:02.000000000,2018-04-26 23:44:02.000000000,30,0,0,562064,3a17b61eecb10b48f8a404dd24eaaf25f25b0d00,13,5,2,2,4694,Miguel Lavalle,minsel,"Document mixed scenario with LB and OVS over VXLAN

This patch adds a recommendation to the deployment examples in the docs
on how to configure the udp_dstport option of the Linux bridge agent to
support mixed environments, where nodes with the Linuxbridge agent must
communicate over VXLAN tunnels with nodes with the OVS agent

Change-Id: I6e9bc70ba2bcd5432bee1ddcf16f449421befd90
"
openstack%2Fneutron~master~I6fa885653ee6eafe68c2135064ddb9fedf3f33d1,openstack/neutron,master,,I6fa885653ee6eafe68c2135064ddb9fedf3f33d1,Fix the supported_extension_aliases in unit test,MERGED,2018-04-24 19:50:22.000000000,2018-04-26 23:43:59.000000000,2018-04-26 23:43:59.000000000,1,1,0,564055,69d5f40c57eef25625ec50ce60c4c85b97666540,16,7,1,1,27654,Hongbin Lu,hongbin.lu,"Fix the supported_extension_aliases in unit test

The supported_extension_aliases should be a list but the flavor
extension test assigns a string to it. For some reasons, this issue
is not captured by the gate but it should be fixed.

Change-Id: I6fa885653ee6eafe68c2135064ddb9fedf3f33d1
"
openstack%2Ftaskflow~stable%2Fqueens~I691bc219e608bce832462a51583911751a7eecdc,openstack/taskflow,stable/queens,openstack/requirements,I691bc219e608bce832462a51583911751a7eecdc,Updated from global requirements,MERGED,2018-02-13 02:02:36.000000000,2018-04-26 23:27:12.000000000,2018-04-26 23:27:12.000000000,4,4,0,543756,208af18ab8996dde2b9e479480a94251e28e01ff,8,3,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I691bc219e608bce832462a51583911751a7eecdc
"
openstack%2Frally~master~Iea95450892f229886c86697d632013e868b6cb31,openstack/rally,master,types,Iea95450892f229886c86697d632013e868b6cb31,Redesign ResourceTypes,MERGED,2018-04-23 13:47:05.000000000,2018-04-26 23:18:13.000000000,2018-04-26 23:18:13.000000000,667,544,1,563625,14bb668e42f324dd9c5389efc92ee15b8ad00a4e,32,3,16,16,9545,Andrey Kurilin,akurilin,"Redesign ResourceTypes

This patch redesigns base class of ResourceType's so it can handle:
* non-openstack related resources
* cache mechanism

Plugins of `ResourceType` type look like the last place hardcoded for
OpenStack. It's base method ""transform"" expects ""clients"" argument with
rally.plugins.openstack.osclients.Clients instance. This instance is
initialized in our base code at rally.task.types.

To solve this issue, the new instance method ""pre_process"" is
introduced. It expects the resource specification which can be used for
searching/filtering + a configuration for ResourceType from the plugin.

Using instancemethod instead of classmethods allows to share utils and
simplify introducing cache-feature which can decrease number of equal
calls.

Despite the fact, that the design of ResourceType class is complitely
changed, everything is done in a backward compatible way.

Change-Id: Iea95450892f229886c86697d632013e868b6cb31
"
openstack%2Ftripleo-heat-templates~master~I44517d2fda0f6252634aa76d41e7a5bb3622456b,openstack/tripleo-heat-templates,master,fix-dispatcher,I44517d2fda0f6252634aa76d41e7a5bb3622456b,Run the dispatch script for vlans as well,MERGED,2018-04-09 11:29:47.000000000,2018-04-26 23:12:08.000000000,2018-04-26 23:12:08.000000000,7,1,0,559712,b7fe99e172b561a6c02b4cf66fde62b38c2b5349,13,6,2,1,6159,Flavio Percoco Premoli,flaper87,"Run the dispatch script for vlans as well

The dispatch script is only executed for interfaces managed by
os-net-config but not for their vlans. This patch gets the vlans
that belong to every interface and adds them to the list of interfaces
to scan.

Change-Id: I44517d2fda0f6252634aa76d41e7a5bb3622456b
"
openstack%2Ftripleo-heat-templates~master~Ibfc9baf3aca55b49cc197758cbf5a0df9daa8b9b,openstack/tripleo-heat-templates,master,bug/1766183,Ibfc9baf3aca55b49cc197758cbf5a0df9daa8b9b,Add OVNCMSOptions in dvr environment files,MERGED,2018-04-23 07:34:59.000000000,2018-04-26 23:12:06.000000000,2018-04-26 23:12:06.000000000,4,0,9,563503,39ef030553e65ed80326afcf339029ed0f2ae8e4,32,13,2,2,10267,venkata anil,anil,"Add OVNCMSOptions in dvr environment files

This option must be enabled in a controller to be selected for hosting
a gateway router. But it is missing in DVR environment files. So when
these files are used for the deployment, vms were not able to reach
external network. So adding this option for DVR files.

Change-Id: Ibfc9baf3aca55b49cc197758cbf5a0df9daa8b9b
Closes-Bug: 1766183
"
openstack%2Fnova~master~I154b1ef14dbace803841cb3eed3ff02dd0020588,openstack/nova,master,getargspec,I154b1ef14dbace803841cb3eed3ff02dd0020588,Handle deprecation of inspect.getargspec,MERGED,2018-01-02 17:20:32.000000000,2018-04-26 22:55:07.000000000,2018-04-26 20:42:00.000000000,20,15,4,530777,35b304661d17e1b64460101ae30273a4c5672a14,66,18,4,6,15334,Stephen Finucane,sfinucan,"Handle deprecation of inspect.getargspec

getargspec has been deprecated in py3 with plans to remove it in py3.6.
The recommendation is to move to inspect.signature, but the results of
that call are different than the existing one.

There is also getfullargspec available under py3 that was originally
deprecated, but for the sake of handling 2/3 code, it has been
un-deprecated. This call uses inspect internally, but returns a mostly
compatible result with what getargspec did. This handles getargspec
deprecation by just using getfullargspec instead if it is available

Closes-Bug: #1766919

Change-Id: I154b1ef14dbace803841cb3eed3ff02dd0020588
"
openstack%2Fnova~master~I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f,openstack/nova,master,bp/add-host-to-instance-action-events,I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f,Extract generate_hostid method into utils.py,MERGED,2018-03-22 12:30:32.000000000,2018-04-26 22:34:40.000000000,2018-04-24 17:45:44.000000000,30,7,15,555282,7500462bc3434e485d3d1f0fa6de7a085521582b,119,22,5,3,20722,Yikun Jiang,yikunkero,"Extract generate_hostid method into utils.py

This would be used in instance action API to show the hostId
to non-admin user.

This patch propose to extract the generate_hostid method
into utils.

trivial fix

Change-Id: I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f
"
openstack%2Fneutron~master~I1b5683129d3e5564eb6712521a91a002b5b8622f,openstack/neutron,master,iptables-manager-test-refactor,I1b5683129d3e5564eb6712521a91a002b5b8622f,Re-factor the iptables_manager tests,MERGED,2017-12-14 14:35:16.000000000,2018-04-26 22:29:07.000000000,2018-04-26 22:29:07.000000000,269,277,13,527975,54bbf6256111e295426341d12fffd0227c7fce1e,25,8,3,1,1131,Brian Haley,brian-haley,"Re-factor the iptables_manager tests

There were a few issues I noticed in the iptables_manager tests:

1. Some tests over-rode the iptables manager created in setUp()
2. Some tests over-rode the execute mock created in setUp()
3. Not all tests were run with both IPv4-only and IPv4/IPv6

Re-factored things to fix all these issues by breaking the class
up and creating sub-classes that enabled ""use_ipv6"" so that all
tests were run twice - once with IPv4-only and another using
IPv4/IPv6.

Change-Id: I1b5683129d3e5564eb6712521a91a002b5b8622f
"
openstack%2Fbifrost~master~Iee9844206a8b7ccb11f5480da3a992fda7c567f6,openstack/bifrost,master,,Iee9844206a8b7ccb11f5480da3a992fda7c567f6,Fix cross project jobs,MERGED,2018-04-25 16:38:21.000000000,2018-04-26 22:23:37.000000000,2018-04-26 22:23:37.000000000,18,9,0,564279,1c3b45bc57cc88e31c8c4250b5043bde0fa038b9,9,5,1,9,4162,Paul Belanger,pabelanger,"Fix cross project jobs

In Idd9ea75ad31d46093e85a05619fe33c85f4c9ed9 we removed the usage of
install-distro-packages.sh, however I didn't realize these jobs were
shared with shade. As a results, when shade patches ran these jobs, we
didn't properly install the OS packages in bifrost bindep.txt file.
This fixes that.

Change-Id: Iee9844206a8b7ccb11f5480da3a992fda7c567f6
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Fneutron-lib~master~Ie3a14e5461d2d14ee77e1bd101943b7c28cf86f1,openstack/neutron-lib,master,bug/1578989,Ie3a14e5461d2d14ee77e1bd101943b7c28cf86f1,Add placement calls for bandwith resource provider,MERGED,2018-03-14 15:59:08.000000000,2018-04-26 22:22:21.000000000,2018-04-26 22:22:21.000000000,379,25,64,552938,a24bf9841d1c3717c0f38778c0c63acd7028dbcd,37,9,9,3,8313,Lajos Katona,elajkat,"Add placement calls for bandwith resource provider

Add placement calls that are necessary to report the necessary resource
providers, traits, resource classes and inventories for bandwidth
allocation in placement.

Related-Bug: #1578989
Change-Id: Ie3a14e5461d2d14ee77e1bd101943b7c28cf86f1
"
openstack%2Fkolla~stable%2Fqueens~I232dcf44c8a56c268610053cf362714d52e6cb93,openstack/kolla,stable/queens,networking-baremetal,I232dcf44c8a56c268610053cf362714d52e6cb93,Add networking-baremetal,MERGED,2018-03-29 14:51:20.000000000,2018-04-26 22:20:05.000000000,2018-04-26 22:20:05.000000000,55,0,6,557729,980033e0a55b41d78c35910e3b3c2039e0cd5e5c,39,9,5,4,24245,Harald Jensås,harald.jensas,"Add networking-baremetal

* Adding Dockerfile to build image with ironic-neutron-agent.
* Add ``neutron-base-plugin-networking-baremetal`` in
  kolla/common/config.py to enable building neutron with baremetal
  plugin.

Since the ML2 mechanism driver and L2 Agent is in the same
python package, the source install will include the
ironic-neutron-agent as part of neutron-base.

Change-Id: I232dcf44c8a56c268610053cf362714d52e6cb93
(cherry picked from commit d0546485f6d16418eb645e7474965eaefc376953)
"
openstack%2Frequirements~master~I74fa021e85aae83fa0ee3cf1192b08e931a0a44c,openstack/requirements,master,rm_bandit,I74fa021e85aae83fa0ee3cf1192b08e931a0a44c,Remove bandit as an openstack project,MERGED,2018-04-26 15:42:03.000000000,2018-04-26 22:20:00.000000000,2018-04-26 22:20:00.000000000,0,1,0,564532,7bdc9a06abc1da932f93782d3c71e540c514200b,9,5,1,1,8119,Eric Brown,ericwb,"Remove bandit as an openstack project

Bandit is being migrated to PyCQA according to [1].

Following the instructions [2], we need to remove bandit from the
projects list in openstack.

[1] https://etherpad.openstack.org/p/bandit-migration
[2] https://docs.openstack.org/infra/manual/drivers.html#retiring-a-project

Change-Id: I74fa021e85aae83fa0ee3cf1192b08e931a0a44c
"
openstack%2Fansible-role-container-registry~master~I59d81aaffb6813a62c7ffe7df60867b9c71b6b46,openstack/ansible-role-container-registry,master,package,I59d81aaffb6813a62c7ffe7df60867b9c71b6b46,Fix ansible role name in cfg files,MERGED,2018-04-26 19:33:31.000000000,2018-04-26 22:19:00.000000000,2018-04-26 22:19:00.000000000,14,2,0,564599,ae199140eb3780b50f49c97f3e02319c91642ac8,8,3,1,2,3153,Emilien Macchi,emilienm,"Fix ansible role name in cfg files

Change-Id: I59d81aaffb6813a62c7ffe7df60867b9c71b6b46
"
openstack%2Frequirements~master~I98fdb1af7fd85aa9b9645b33916bdfbfe500c882,openstack/requirements,master,564321,I98fdb1af7fd85aa9b9645b33916bdfbfe500c882,Bump keyring to 12.1.0 in order to cap secretstorage,MERGED,2018-04-25 19:18:51.000000000,2018-04-26 22:15:48.000000000,2018-04-26 22:15:48.000000000,1,1,1,564321,fff0b6a89f21ae7afbc12c8e3ddd0ae9223b9413,11,4,2,1,6593,Dirk Mueller,dmllr,"Bump keyring to 12.1.0 in order to cap secretstorage

Recently a new secretstorage was released, which was requiring
python 3. this dependency was pulled in via keyring. keyring 12.1
was relasing with those dependencies corrected:

                   'secretstorage; sys_platform==""linux"" and '
                   'python_version>=""3.5""',
                   'secretstorage (<3); (sys_platform==""linux2"" or '
                   'sys_platform==""linux"") and python_version<""3.5""'

This excludes the incompatible versions for python2 and requires
the newer release for python3.

Change-Id: I98fdb1af7fd85aa9b9645b33916bdfbfe500c882
"
openstack%2Ftripleo-upgrade~master~I4598d965f6f8d19344be041d71b2cf1637c9ebae,openstack/tripleo-upgrade,master,release_var,I4598d965f6f8d19344be041d71b2cf1637c9ebae,Fix release var in undercloud upgrade script,MERGED,2018-04-20 00:18:08.000000000,2018-04-26 22:13:14.000000000,2018-04-21 05:17:20.000000000,1,1,0,562878,71c16f2aac49eb38c1b1b32e3dfe5694477702b1,9,5,1,1,18851,Marius Cornea,mcornea,"Fix release var in undercloud upgrade script

Set the correct current_release var in the undercloud upgrade steps.

Change-Id: I4598d965f6f8d19344be041d71b2cf1637c9ebae
"
openstack%2Fdebtcollector~master~I94e055577a01add4676042f1e454c37b17c1b13b,openstack/debtcollector,master,pypi-url,I94e055577a01add4676042f1e454c37b17c1b13b,Trivial: Update pypi url to new url,MERGED,2018-04-20 21:21:28.000000000,2018-04-26 21:58:22.000000000,2018-04-26 21:58:22.000000000,2,2,0,563318,2ee856f9d7575cf88ddb0b87b0151c547d883836,6,2,1,1,17130,melissaml,malei,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I94e055577a01add4676042f1e454c37b17c1b13b
"
openstack%2Fopenstack-helm~master~I2b56709156e790644a76b2c14012e6e3042fa17c,openstack/openstack-helm,master,,I2b56709156e790644a76b2c14012e6e3042fa17c,Deployments: Move all deployment to be HA by default,ABANDONED,2018-04-26 18:52:09.000000000,2018-04-26 21:58:22.000000000,,37,37,0,564584,b231a3e5243813bb414d4500b3f1ddd61753ca09,3,1,1,15,23928,Pete Birley,portdirect,"Deployments: Move all deployment to be HA by default

This PS moves all openstack services to be HA by default, even on
single node deployments - to both allow testing/dev of HA operation
more simply, and ensure that rolling updates have minimal operation
on OpenStack services.

Change-Id: I2b56709156e790644a76b2c14012e6e3042fa17c
"
openstack%2Foslo.vmware~master~Ia9c7ceb087303a73556f72a790ace3eac41f6a86,openstack/oslo.vmware,master,pypi-url,Ia9c7ceb087303a73556f72a790ace3eac41f6a86,Trivial: Update pypi url to new url,MERGED,2018-04-20 21:27:59.000000000,2018-04-26 21:56:39.000000000,2018-04-26 21:56:39.000000000,2,2,0,563320,6251b6c46e820bba6d3ee075c793b04652798dba,7,3,1,1,17130,melissaml,malei,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ia9c7ceb087303a73556f72a790ace3eac41f6a86
"
openstack%2Fstevedore~master~Ifc9114fd4b4d95f2ae0acd7e0a19d217786b1168,openstack/stevedore,master,pypi-url,Ifc9114fd4b4d95f2ae0acd7e0a19d217786b1168,Trivial: Update pypi url to new url,MERGED,2018-04-21 01:21:34.000000000,2018-04-26 21:56:13.000000000,2018-04-26 21:56:13.000000000,3,3,0,563358,68a9a4f8851cc7c5710ff1b5468bfb65974e3e9a,6,2,1,2,17130,melissaml,malei,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ifc9114fd4b4d95f2ae0acd7e0a19d217786b1168
"
openstack%2Foslo.serialization~master~Ib3d10ec830d3e79194629d63d9bb4570daad0689,openstack/oslo.serialization,master,pypi-url,Ib3d10ec830d3e79194629d63d9bb4570daad0689,Trivial: Update pypi url to new url,MERGED,2018-04-21 02:46:02.000000000,2018-04-26 21:55:05.000000000,2018-04-26 21:55:05.000000000,2,2,0,563364,0838bb635bd59d7f5d94f609af3c2f13e855d60a,6,2,1,1,17130,melissaml,malei,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ib3d10ec830d3e79194629d63d9bb4570daad0689
"
openstack%2Foslo.service~master~Ic21062c68868aabe070686438f616d8c2cbd6859,openstack/oslo.service,master,pypi-url,Ic21062c68868aabe070686438f616d8c2cbd6859,Trivial: Update pypi url to new url,MERGED,2018-04-21 02:43:18.000000000,2018-04-26 21:53:28.000000000,2018-04-26 21:53:28.000000000,2,2,0,563363,c1df0a22b21dcec9fdf4c9024d96c32dc5e06820,6,2,1,1,17130,melissaml,malei,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ic21062c68868aabe070686438f616d8c2cbd6859
"
openstack%2Fos-net-config~master~I96e38053a6cb4bab7a196fb4ccb14545b6ac9c22,openstack/os-net-config,master,change_without_restart_new,I96e38053a6cb4bab7a196fb4ccb14545b6ac9c22,Modify os-net-config to make changes without bouncing interfaces.,ABANDONED,2015-02-03 23:40:56.000000000,2018-04-26 21:46:42.000000000,,457,11,4,152732,3b1277359a962095fd0e7b53d6edd2e5d7bde28d,27,4,8,4,12398,Dan Sneddon,dsneddon,"Modify os-net-config to make changes without bouncing interfaces.

Modifications to impl_ifcfg.py to support making changes to IP
address, MTU, and routes live, rather than running ifdown/ifup on the
interface. Bouncing the interface is very disruptive, especially with
bridges where all the child interfaces are also bounced.

These changes only affect the code path on systems where network
configuration is stored in /etc/sysconfig/network-scripts (RHEL,
CENTOS, Fedora, etc.). Functions were added to impl_ifcfg to
support enumerating the change as added/modified/removed and
determining which changes require restarting the interfaces.

The changes are determined by comparing the system device
configuration (in /etc/sysconfig/network-scripts) to the new device
configuration that would be written to disk. If the only changes are
to the interface or bridge IP/Netmask/route/MTU then the changes are
written to disk and the proper /sbin/ip commands are run to modify
the interface or bridge. Other changes still require bouncing the
interface or bridge.

Unit tests were added for the changes to both utils.py and
impl_ifcfg.py.

Change-Id: I96e38053a6cb4bab7a196fb4ccb14545b6ac9c22
"
openstack%2Fmox3~stable%2Fqueens~I98972caf0b1dda5106a656f07949be6d2709cad5,openstack/mox3,stable/queens,test,I98972caf0b1dda5106a656f07949be6d2709cad5,Test docs build on stable/queens,ABANDONED,2018-04-26 20:16:32.000000000,2018-04-26 21:43:37.000000000,,1,1,0,564617,fcc75df89800ee26d0d6e8ba306cebd511f407d8,3,1,1,1,6928,Ben Nemec,bnemec,"Test docs build on stable/queens

I want to see if the docs job on queens is working.  Some patches
were pushed for the pike branches of Oslo projects and I'm wondering
if we need them for queens too.

Change-Id: I98972caf0b1dda5106a656f07949be6d2709cad5
"
openstack%2Foslo.messaging~master~Ib0b12cdc8b59c77b06d527268194d4599b24e71a,openstack/oslo.messaging,master,,Ib0b12cdc8b59c77b06d527268194d4599b24e71a,Add a skeleton for a v3-native devstack job,MERGED,2018-02-27 15:59:55.000000000,2018-04-26 21:16:51.000000000,2018-04-26 21:16:51.000000000,28,0,3,548331,2b55d6c1609ff7b5dfe44e7fce4c5e507ef4915e,25,5,4,1,1,James E. Blair,corvus,"Add a skeleton for a v3-native devstack job

Change-Id: Ib0b12cdc8b59c77b06d527268194d4599b24e71a
Depends-On: https://review.openstack.org/549252
"
openstack%2Fpuppet-keystone~master~Ic11a0aea68a04d370453a7e81218642e0e150a9f,openstack/puppet-keystone,master,bug/1657582,Ic11a0aea68a04d370453a7e81218642e0e150a9f,Use openstacklib::wsgi::apache for keystone wsgi,MERGED,2018-04-04 18:16:31.000000000,2018-04-26 21:11:44.000000000,2018-04-26 21:11:44.000000000,442,494,0,558887,15c06a78aee924da9fb622955506e0302d25ddda,41,4,11,3,16137,Tobias Urdin,tobasco,"Use openstacklib::wsgi::apache for keystone wsgi

This patch changes the usage of the of
apache::vhost to openstacklib::wsgi::apache.

Also removes the wsgi_script_source param
that was deprecated in Mitaka.

Fixes and cleans up spec testing, cleans up
documentation in the manifest to conform
with the overall standard.

Depends-On: I31096140a6f355ec99496053fb06ce6c73094180
Change-Id: Ic11a0aea68a04d370453a7e81218642e0e150a9f
Closes-Bug: 1657582
"
openstack%2Fcongress-specs~master~I9fd206dde36ba291d405ff7c9668c2443be4aa66,openstack/congress-specs,master,explicit-types,I9fd206dde36ba291d405ff7c9668c2443be4aa66,Add Rocky specs to index,MERGED,2018-04-24 01:04:45.000000000,2018-04-26 20:57:01.000000000,2018-04-26 20:57:01.000000000,8,0,0,563798,9b59c4eeada12b9e730dda5029cc4087d0e785a7,6,2,1,1,18591,Eric Kao,ekcs,"Add Rocky specs to index

Change-Id: I9fd206dde36ba291d405ff7c9668c2443be4aa66
"
openstack%2Fpuppet-cinder~master~I74cfa67801c4cd09fe2aca7a713c74308a806c0f,openstack/puppet-cinder,master,,I74cfa67801c4cd09fe2aca7a713c74308a806c0f,fix a typo: s/allowd/allowed/,MERGED,2018-04-19 10:51:24.000000000,2018-04-26 20:51:43.000000000,2018-04-26 20:51:42.000000000,1,1,0,562548,d56e0343cb219725afaef7229c3e3014160e9c90,11,6,1,1,21486,wangqi,wangqi,"fix a typo: s/allowd/allowed/

Change-Id: I74cfa67801c4cd09fe2aca7a713c74308a806c0f
"
openstack%2Fpuppet-neutron~master~I906fe54e376270237658bcd142224e8a5551ba91,openstack/puppet-neutron,master,,I906fe54e376270237658bcd142224e8a5551ba91,fix a typo: s/allowd/allowed/,MERGED,2018-04-19 10:53:33.000000000,2018-04-26 20:50:44.000000000,2018-04-26 20:50:44.000000000,1,1,0,562550,3a376e55e55226ce626e892a73e9b517eec6c0bf,11,6,1,1,21486,wangqi,wangqi,"fix a typo: s/allowd/allowed/

Change-Id: I906fe54e376270237658bcd142224e8a5551ba91
"
openstack%2Foslo.middleware~master~I1d9424b280623d3de16ff239872bfeb8ebe60fc3,openstack/oslo.middleware,master,pypi-url,I1d9424b280623d3de16ff239872bfeb8ebe60fc3,Trivial: Update pypi url to new url,MERGED,2018-04-21 02:58:00.000000000,2018-04-26 20:33:43.000000000,2018-04-26 20:33:43.000000000,2,2,0,563367,0d02cb75f5895f9fa2b188d5890b6c27361e1a86,6,2,1,1,17130,melissaml,malei,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I1d9424b280623d3de16ff239872bfeb8ebe60fc3
"
openstack%2Foslo.concurrency~master~Ic0f44cb759a0ce0eb4e845656517771cf25aac3a,openstack/oslo.concurrency,master,pypi-url,Ic0f44cb759a0ce0eb4e845656517771cf25aac3a,Trivial: Update pypi url to new url,MERGED,2018-04-21 03:15:14.000000000,2018-04-26 20:33:42.000000000,2018-04-26 20:33:41.000000000,2,2,0,563372,db5377e692c48867720e2816cb52c4542258534f,6,2,1,1,17130,melissaml,malei,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ic0f44cb759a0ce0eb4e845656517771cf25aac3a
"
openstack%2Foslo.reports~master~I518602e5042a1910e5de58105a9982232fde8c7e,openstack/oslo.reports,master,pypi-url,I518602e5042a1910e5de58105a9982232fde8c7e,Trivial: Update pypi url to new url,MERGED,2018-04-21 03:07:19.000000000,2018-04-26 20:31:28.000000000,2018-04-26 20:31:28.000000000,2,2,0,563369,5fee38d1241aa5c803f95d10ee35e4e6295e1441,6,2,1,1,17130,melissaml,malei,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I518602e5042a1910e5de58105a9982232fde8c7e
"
openstack%2Foslo.policy~master~I2abba3a89f3f89d45b97e5cc050f616136809b1d,openstack/oslo.policy,master,pypi-url,I2abba3a89f3f89d45b97e5cc050f616136809b1d,Trivial: Update pypi url to new url,MERGED,2018-04-21 03:02:33.000000000,2018-04-26 20:29:06.000000000,2018-04-26 20:29:06.000000000,4,4,0,563368,90d2eeac6c8b420e221395e4f3d08e3aa6714e4b,6,2,1,1,17130,melissaml,malei,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I2abba3a89f3f89d45b97e5cc050f616136809b1d
"
openstack%2Fnetworking-ovn~stable%2Fqueens~I2df35cc31e856b9b574b77dc6b5ab5be262a12b7,openstack/networking-ovn,stable/queens,bug/1762691,I2df35cc31e856b9b574b77dc6b5ab5be262a12b7,L3HA: Take priorities into account in least loaded scheduling,MERGED,2018-04-16 12:12:42.000000000,2018-04-26 20:09:25.000000000,2018-04-26 20:09:25.000000000,107,21,0,561598,a5d6044187193db3db93b7cdca29512cab20f7fb,14,7,3,5,23804,Daniel Alvarez,dalvarez,"L3HA: Take priorities into account in least loaded scheduling

This patch is implementing an algorithm to take the priorities of
the gateway ports into account when choosing a chassis using the
Least Loaded policy (default). Prior to this patch, the same chassis
would always be selected leading to an unbalanced distribution
of the gateway nodes.

Now, when a new gateway is being scheduled, it will take into
account the current priorities and will select the nodes and their
priorities accordingly so that the system remains balanced even
in the event that one of the nodes go down.

Also, I'm adding a new functional test which will check that the
ports have been scheduled as expected by looking directly into the
Southbound database.

Please, note that bug 1762691 could still make routers to not
be in HA mode and we need to address this issue separately.

Closes-Bug: 1762694
Change-Id: I2df35cc31e856b9b574b77dc6b5ab5be262a12b7
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit bbf0260496bf2e08db3c341b88e124fa6d0c7156)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I7ed52727d1515ee7f191a82b0b1d645a9d597cd3,openstack/tripleo-heat-templates,stable/queens,bug/1758034,I7ed52727d1515ee7f191a82b0b1d645a9d597cd3,Explicitly set nova/neutron/ceilometer host to expected fqdn,MERGED,2018-03-22 14:11:07.000000000,2018-04-26 20:08:26.000000000,2018-04-26 20:08:25.000000000,12,3,0,555313,3381d59f0a6bafac47c98ed8754ee4170e749354,21,6,2,4,23811,Oliver Walsh,owalsh,"Explicitly set nova/neutron/ceilometer host to expected fqdn

This avoids any issues where the host/domainname is altered by a DHCP lease.
Also the puppet/facter fqdn can be unpredictable when there are multiple NICs.

Change-Id: I7ed52727d1515ee7f191a82b0b1d645a9d597cd3
Closes-bug: 1758034
(cherry picked from commit 31e4c0194dd1d6e049a728c876347df93ce89908)
"
openstack%2Fneutron~master~I1e61101bda8f133abe1b924f2d66fd1e7dd457e9,openstack/neutron,master,ivs-deprecation,I1e61101bda8f133abe1b924f2d66fd1e7dd457e9,Remove IVSInterfaceDriver class,ABANDONED,2018-04-26 19:23:15.000000000,2018-04-26 19:51:02.000000000,,6,137,0,564593,7cc1df6376dcf8af17f9fba90bd53e44e7d8ea5f,6,2,2,5,8655,Jakub Libosvar,jlibosva,"Remove IVSInterfaceDriver class

It's been deprecated in Queens and should be removed in Rocky.

Change-Id: I1e61101bda8f133abe1b924f2d66fd1e7dd457e9
"
openstack%2Fnetworking-ovn~stable%2Fqueens~Iea31cb3dd418e086c43a797236c4b71d432422f7,openstack/networking-ovn,stable/queens,bug/1761194,Iea31cb3dd418e086c43a797236c4b71d432422f7,Clear binding:host_id when a subport is removed from a trunk,MERGED,2018-04-23 08:49:00.000000000,2018-04-26 19:35:46.000000000,2018-04-26 19:35:46.000000000,6,1,0,563529,e69c768a3d2f38c140bf3d9228741cba7b08a6c5,7,6,1,2,23804,Daniel Alvarez,dalvarez,"Clear binding:host_id when a subport is removed from a trunk

In networking-ovn we set the binding:host_id of a subport to its
parent's. However, when we remove the subport, that info remains there
so if that port would be reused on a trunk which is on a different host,
it will not get bound to the Chassis by ovn-controller, thus it won't
transition to 'up' and never become ACTIVE in Neutron. Tempest test
test_trunk_subport_lifecycle exercises this but the failure doesn't show
up in the gate since both servers are spawned in the same host (we don't
have multinode jobs in the gate).

This patch clears up the host_id when the subport is removed from its
trunk.

Closes-Bug: #1761194
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
Change-Id: Iea31cb3dd418e086c43a797236c4b71d432422f7
(cherry picked from commit 011dfac87f290948963f7049d8b24a2fd9dfcaf4)
"
openstack%2Freleases~master~Ib8106e25ec9484dfeeab67ed0199a996b383e7dc,openstack/releases,master,,Ib8106e25ec9484dfeeab67ed0199a996b383e7dc,Release openstacksdk 0.13.0,MERGED,2018-04-26 14:58:17.000000000,2018-04-26 19:35:42.000000000,2018-04-26 19:35:42.000000000,4,0,0,564527,da432f370382ccd525be5376a8900e6a034e327e,6,2,1,1,2,Monty Taylor,mordred,"Release openstacksdk 0.13.0

Change-Id: Ib8106e25ec9484dfeeab67ed0199a996b383e7dc
"
openstack%2Freleases~master~Ie2db74ddb9edc72c5f62f0015a2e109204281af3,openstack/releases,master,,Ie2db74ddb9edc72c5f62f0015a2e109204281af3,Update openstacksdk info after rename,MERGED,2018-04-26 14:58:17.000000000,2018-04-26 19:31:39.000000000,2018-04-26 19:31:39.000000000,10,16,0,564526,f38f0cccb797f2e4f498414ef57bcf48b91b3e45,6,2,1,2,2,Monty Taylor,mordred,"Update openstacksdk info after rename

openstacksdk was renamed from python-openstacksdk and was migrated to
storyboard. Update the deliverables files to reflect this. Also, remove
tarball-base settings, since the repo now produces expected tarballs.

Change-Id: Ie2db74ddb9edc72c5f62f0015a2e109204281af3
"
openstack%2Freleases~master~Ic6b1a46fa99fd3aa4fd96ea0fce172c9b273a583,openstack/releases,master,neutron-lib-1.14.0,Ic6b1a46fa99fd3aa4fd96ea0fce172c9b273a583,release neutron-lib 1.14.0,MERGED,2018-04-26 17:47:35.000000000,2018-04-26 19:31:38.000000000,2018-04-26 19:31:38.000000000,5,0,0,564571,eb023d6e1ecf057157709044cb311a40ad9069a6,7,3,1,1,5367,boden,boden,"release neutron-lib 1.14.0

Numerous commits have landed since we released 1.13.0 and we're now
ready to consume them with a new neutron-lib release.

This patch proposes we release neutron-lib 1.14.0.

Change-Id: Ic6b1a46fa99fd3aa4fd96ea0fce172c9b273a583
"
openstack%2Frequirements~master~I6f384bd2a213710376a5218062c99216024ec479,openstack/requirements,master,new-release,I6f384bd2a213710376a5218062c99216024ec479,update constraint for openstack-release-test to new release 0.14.1,ABANDONED,2018-04-26 18:07:53.000000000,2018-04-26 18:08:53.000000000,,1,1,0,564573,e7d9b50ef2c1dc3f84d17b1c2c570c3655d16959,2,0,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for openstack-release-test to new release 0.14.1

Change-Id: I6f384bd2a213710376a5218062c99216024ec479
meta:version: 0.14.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Doug Hellmann <doug@doughellmann.com>
meta:release:Commit: Doug Hellmann <doug@doughellmann.com>
meta:release:Change-Id: Id38a4f14181e48d30aecc037892e3e4b8797b870
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fironic-python-agent~master~I511252b535ed333a7ea7271801fda47d84754681,openstack/ironic-python-agent,master,,I511252b535ed333a7ea7271801fda47d84754681,WIP: Validate disk size according to image.min_disk(if provided),NEW,2018-04-26 16:29:44.000000000,2018-04-26 17:56:34.000000000,,7,1,0,564553,c000de643269ff95d6a3fe4893f2445b43fe700e,2,1,1,1,28032,Oleksiy Petrenko,enacero,"WIP: Validate disk size according to image.min_disk(if provided)

Story: 1751158

Depends-on: https://review.openstack.org/564551
Change-Id: I511252b535ed333a7ea7271801fda47d84754681
"
openstack%2Freleases~master~Id38a4f14181e48d30aecc037892e3e4b8797b870,openstack/releases,master,release-test-0-14-1,Id38a4f14181e48d30aecc037892e3e4b8797b870,release-test 0.14.1,MERGED,2018-04-26 17:39:11.000000000,2018-04-26 17:52:46.000000000,2018-04-26 17:52:46.000000000,5,0,0,564568,60d6317d21b62761180637627c806567bc970684,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"release-test 0.14.1

Change-Id: Id38a4f14181e48d30aecc037892e3e4b8797b870
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fnetworking-calico~master~I3fe99cdd21f9aeeeef27b124c950560523fb81d1,openstack/networking-calico,master,fix-rebuild-vm,I3fe99cdd21f9aeeeef27b124c950560523fb81d1,Always send high-priority port statuses to Neutron,MERGED,2018-04-26 09:42:49.000000000,2018-04-26 17:45:19.000000000,2018-04-26 17:45:19.000000000,48,4,1,564431,7bfe655fba008e57971ee7ebde14bcd0c236ea53,14,2,3,2,19461,Shaun Crampton,fasaxc,"Always send high-priority port statuses to Neutron

High priority port status updates happen because Felix
made an update to the status in etcd and Felix only does
that if it saw the port change state.

Since a port may change state outside of our plugin (for
example due to a VM rebuild), assume that any change Felix
spots needs to be reported to Neutron.

Change-Id: I3fe99cdd21f9aeeeef27b124c950560523fb81d1
"
openstack%2Foslotest~master~I5e106592e0df1d8cdb058e578cc423123f6a5b47,openstack/oslotest,master,pypi-url,I5e106592e0df1d8cdb058e578cc423123f6a5b47,Trivial: Update pypi url to new url,MERGED,2018-04-21 04:12:59.000000000,2018-04-26 17:37:22.000000000,2018-04-26 17:37:22.000000000,2,2,0,563381,93d87e25ec79ffd81a9eaca1d1aa4dc8691de94c,6,2,1,2,17130,melissaml,malei,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I5e106592e0df1d8cdb058e578cc423123f6a5b47
"
openstack%2Frelease-test~master~I4eac8b6ff83ed99cc9009ff511114a20bc90328f,openstack/release-test,master,python3,I4eac8b6ff83ed99cc9009ff511114a20bc90328f,use python 3 by default,MERGED,2018-04-26 17:36:08.000000000,2018-04-26 17:36:30.000000000,2018-04-26 17:36:29.000000000,4,0,0,564567,59b47a6d8e73f9bb11c666492b73bf07bfd124a5,7,2,1,1,2472,Doug Hellmann,doug-hellmann,"use python 3 by default

Change-Id: I4eac8b6ff83ed99cc9009ff511114a20bc90328f
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Foslo.i18n~master~Ic3dd7d69451fe7f3dee0f65ed71f55c330722065,openstack/oslo.i18n,master,pypi-url,Ic3dd7d69451fe7f3dee0f65ed71f55c330722065,Trivial: Update pypi url to new url,MERGED,2018-04-21 04:18:04.000000000,2018-04-26 17:35:58.000000000,2018-04-26 17:35:58.000000000,3,3,0,563382,2a12533a0276699c160764562a5a28f8c9084dee,6,2,1,2,17130,melissaml,malei,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ic3dd7d69451fe7f3dee0f65ed71f55c330722065
"
openstack%2Foslo.tools~master~I2c0bf3844e9c56f78269ac1746c780b640dd1e9c,openstack/oslo.tools,master,pypi-url,I2c0bf3844e9c56f78269ac1746c780b640dd1e9c,Trivial: Update pypi url to new url,MERGED,2018-04-21 05:27:43.000000000,2018-04-26 17:27:04.000000000,2018-04-26 17:27:03.000000000,2,2,0,563389,a770c21c06471e4726e20e5ca126e34184e42eaa,6,2,1,2,17130,melissaml,malei,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I2c0bf3844e9c56f78269ac1746c780b640dd1e9c
"
openstack%2Ftripleo-ui~master~I8fcb7c7d96c13101c00c5427092ae2d7503f65ca,openstack/tripleo-ui,master,enable-undercloud-jobs,I8fcb7c7d96c13101c00c5427092ae2d7503f65ca,Reenable the undercloud jobs,MERGED,2017-12-07 15:25:07.000000000,2018-04-26 17:13:18.000000000,2018-04-26 17:13:18.000000000,20,0,4,526430,6e3af1d1ecd2b35b84557a8c08f0295f551b1a75,56,8,17,1,4978,Julie Pichon,jpichon,"Reenable the undercloud jobs

The undercloud jobs do a sanity check that the UI does work after
installing it via puppet and RPMs, during a regular undercloud
install. The test was set up as part of the basic-ci-check blueprint
[1] (although nowadays the check is probably directly run as part of
quickstart [2]).

This also lets us test that the tripleo-ui RPM gets created correctly.

This job used to run on tripleo-ui but was likely lost during the
migration to zuulv3 once the legacy jobs went away.

[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check
[2] https://review.openstack.org/#/c/514795/

Change-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca
"
openstack%2Freleases~master~I9ce968eb244f1e84c90702a0c554b97bb572ac71,openstack/releases,master,re2-bindep,I9ce968eb244f1e84c90702a0c554b97bb572ac71,add libre2-dev to bindep for fb-re2 module used by zuul,MERGED,2018-04-26 16:47:55.000000000,2018-04-26 17:09:02.000000000,2018-04-26 17:09:02.000000000,1,0,0,564558,0b5672ebeff73a25108bd97458074870acb29752,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"add libre2-dev to bindep for fb-re2 module used by zuul

We only add this to the releases repo because we're moving the announce
script here.

See
http://logs.openstack.org/78/781365248a70e729a0c58281e664bd3457801858/release/announce-release/71e06b3/job-output.txt.gz#_2018-04-26_13_34_07_509597

Needed-By: https://review.openstack.org/#/c/564329/
Change-Id: I9ce968eb244f1e84c90702a0c554b97bb572ac71
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fansible-role-container-registry~master~I333f3701beee0d36854bcbd6b05d367941d68723,openstack/ansible-role-container-registry,master,first,I333f3701beee0d36854bcbd6b05d367941d68723,First commit in Gerrit,MERGED,2018-04-26 13:50:52.000000000,2018-04-26 16:51:45.000000000,2018-04-26 16:51:45.000000000,221,0,0,564510,832ffd9c279a7967913c3eef54aaecc3c614a714,8,2,2,9,3153,Emilien Macchi,emilienm,"First commit in Gerrit

- Add .gitreview
- Add tox configuration
- Add .gitignore
- Add requirements and test-requirements.txt
- Ass setup files
- Add ci-scripts for ansible-lint

Change-Id: I333f3701beee0d36854bcbd6b05d367941d68723
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ifc6f78d73bc71a5b5edfadfbfacaa3560fe7c2df,openstack/tripleo-heat-templates,stable/queens,bug/1763001-stable/queens,Ifc6f78d73bc71a5b5edfadfbfacaa3560fe7c2df,Make pcs resource bundle image name update tolerant of rerun,MERGED,2018-04-23 12:00:05.000000000,2018-04-26 16:43:44.000000000,2018-04-26 16:43:44.000000000,239,237,0,563588,12a10617ad53830ea5e390fbbcbf96e0bd1e6a9d,13,4,2,7,8297,Sofer Athlan-Guyot,chem,"Make pcs resource bundle image name update tolerant of rerun

The parent review at Ic87a66753b104b9f15db70fdccbd66d88cef94df
allows us to update the name for pcs resource bundle resources
if this is changed as part of the upgrade configuration.

If the upgrade is interrupted the target pacemaker resource bundle
may not even have been created yet. This groups stop/update/start
the bundle resource and adds a new conditional to check if the
cluster resource exists before trying to update the container
image being used. Otherwise a re-run of the upgrade tasks may
fail if the cluster resource doesn't exist.

Related-Bug: 1763001
(cherry picked from commit 8530dd9ddca1b15de6be9343e63fd1e96493cd44)
Change-Id: Ifc6f78d73bc71a5b5edfadfbfacaa3560fe7c2df
"
openstack%2Fmox3~master~Ib7db8c3e75eee9651acce471cdc5eb7b05b3afd9,openstack/mox3,master,trivialfix,Ib7db8c3e75eee9651acce471cdc5eb7b05b3afd9,fix a typo in documentation,MERGED,2018-03-23 00:17:18.000000000,2018-04-26 16:41:24.000000000,2018-04-26 16:41:24.000000000,1,1,1,555528,6dc7c79edb4d2b4e894423b98af1a73941e01b3b,12,3,2,1,17130,melissaml,malei,"fix a typo in documentation

Change-Id: Ib7db8c3e75eee9651acce471cdc5eb7b05b3afd9
"
openstack%2Fironic-tempest-plugin~master~If1788fc1edd98c3d909f39d50a85c598594e6fc8,openstack/ironic-tempest-plugin,master,discovery,If1788fc1edd98c3d909f39d50a85c598594e6fc8,Run ironic-inspector discovery jobs in the CI,MERGED,2018-03-28 10:32:00.000000000,2018-04-26 16:35:57.000000000,2018-04-26 16:35:57.000000000,23,0,0,557292,fe0819a019a30ea958a89a259179537192c9c18c,11,4,1,2,10239,Dmitry Tantsur,dtantsur,"Run ironic-inspector discovery jobs in the CI

These jobs have a separate set of scenario tests.

Depends-On: I69d91ac4b00dabfd917f097d70f0b38e0a4fc4c6
Change-Id: If1788fc1edd98c3d909f39d50a85c598594e6fc8
"
openstack%2Fopenstack-zuul-jobs~master~Ibbee039fd1b784d2c4135120793378acb3193814,openstack/openstack-zuul-jobs,master,move-announce-script,Ibbee039fd1b784d2c4135120793378acb3193814,update the announce-release job to look in releases repo for tools,MERGED,2018-04-25 19:41:00.000000000,2018-04-26 16:25:59.000000000,2018-04-26 16:25:59.000000000,3,3,0,564329,f36e1c67768a77868ecd186c42a7db2c02cf6ec6,12,5,2,3,2472,Doug Hellmann,doug-hellmann,"update the announce-release job to look in releases repo for tools

We are consolidating the release tools into the releases repo to
simplify things and make it possible to test some of the tools against
proposed releases. This change updates the playbook to use the version
of the announce.sh script that is moving into openstack/releases and
to look at the bindep.txt file already in the releases repo.

Change-Id: Ibbee039fd1b784d2c4135120793378acb3193814
Story: #2001816
Task: #14442
Depends-On: https://review.openstack.org/564327
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fapi-sig~master~If13a5a19ff077cd9a2c9c400c24af70ea6f818d9,openstack/api-sig,master,bug/1747935,If13a5a19ff077cd9a2c9c400c24af70ea6f818d9,Add guidance on needing cache-control headers,MERGED,2018-03-07 13:11:04.000000000,2018-04-26 16:24:24.000000000,2018-04-26 16:24:24.000000000,36,0,0,550468,b585c8485d86c2ec9bc19d9f99ab442f9b375374,22,25,4,1,11564,Chris Dent,chdent,"Add guidance on needing cache-control headers

This adds some practical guidance to the existing section on caching
to make it clear that where responses are not making explicit
assertions about controlling cache, they MUST ""cache-control: no-cache""

Change-Id: If13a5a19ff077cd9a2c9c400c24af70ea6f818d9
Closes-Bug: #1747935
"
openstack%2Foslotest~master~Icd96beba5a32001cf33f075b801471c6e7c75898,openstack/oslotest,master,bug/1735588,Icd96beba5a32001cf33f075b801471c6e7c75898,mock: Apply autospec to a mock's return_value,MERGED,2018-03-30 10:48:29.000000000,2018-04-26 16:11:08.000000000,2018-04-26 16:11:08.000000000,8,1,0,557923,6baff0eda4edbd8163426a2ac774514cabf99a3a,11,5,1,2,8213,Claudiu Belu,claudiub,"mock: Apply autospec to a mock's return_value

When creating a mock with a class as an autospec:

mock_foo = mock.Mock(autospec=FooClass)

The autospec is only applied to mock_foo itself, and it will
behave as expected. However, the autospec is not applied to its
return_value and thus, the method validation is not enforced:

mock_foo().lish(some_argument_which_doesnt_exist=42)

This patch addresses this issue, and adds necessary unit tests to
test this behaviour.

Change-Id: Icd96beba5a32001cf33f075b801471c6e7c75898
Related-Bug: #1735588
"
openstack%2Fcharm-nova-cloud-controller~master~I4234326156ef62be19e3766e5ca60043a9132e20,openstack/charm-nova-cloud-controller,master,bug/1705514,I4234326156ef62be19e3766e5ca60043a9132e20,Re-enable nova-consoleauth service if single-nova-consoleauth set to False.,ABANDONED,2017-07-21 17:41:40.000000000,2018-04-26 16:03:22.000000000,,88,5,2,486186,a99188c8c927fcf4eb963d66b72427775124aab8,18,4,4,3,2276,Jorge Niedbalski,niedbalski,"Re-enable nova-consoleauth service if single-nova-consoleauth set to False.

If the configuration directive 'single-nova-consoleauth' is set
to False after being declared as True (default) and the HA relation
is made, we restore (resume) the service to make it available at
boot time again.

Change-Id: I4234326156ef62be19e3766e5ca60043a9132e20
Closes-Bug: #1705514
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>
"
openstack%2Fcharm-neutron-gateway~master~I2e08a2de9e4ae8139ab8e4be131631883652d029,openstack/charm-neutron-gateway,master,bug/1761536,I2e08a2de9e4ae8139ab8e4be131631883652d029,Apparmor profiles for Queens,MERGED,2018-04-25 21:38:20.000000000,2018-04-26 15:49:39.000000000,2018-04-26 15:06:50.000000000,31,0,0,564347,a59b4d606fcdf647b89906b437fb4e79d74481ee,13,4,1,7,20805,David Ames,thedac,"Apparmor profiles for Queens

Apparmor profiles were limiting queens deployments of neutron-gateway
when aa-profile-mode was set to enforce. It led to failed instance
deployments due to neutron agents failing to execute their necessary
functions.

This change updates the profiles to be Queens ready.

Closes-Bug: #1761536

Change-Id: I2e08a2de9e4ae8139ab8e4be131631883652d029
"
openstack%2Fnova~master~Ibf6e41b4ebb8a516aa06c28d63c4fc4f342b8314,openstack/nova,master,bump_min_libvirt_and_qemu,Ibf6e41b4ebb8a516aa06c28d63c4fc4f342b8314,libvirt: Drop MIN_LIBVIRT_PARALLELS_SET_ADMIN_PASSWD,ABANDONED,2018-04-24 15:48:18.000000000,2018-04-26 15:40:07.000000000,,1,23,4,564013,429831b48574db6ac62e6ee6346d93c2288c409e,26,14,3,2,6962,Kashyap Chamarthy,kashyapc,"libvirt: Drop MIN_LIBVIRT_PARALLELS_SET_ADMIN_PASSWD

The updated minimum required libvirt (1.3.1) and QEMU (2.5.0) for
""Rocky"" matches this now, so we can drop the compatibility code.

Also remove / fix relevant unit tests.

Change-Id: Ibf6e41b4ebb8a516aa06c28d63c4fc4f342b8314
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
"
openstack%2Fkolla-ansible~stable%2Fqueens~If85e98097a0d0e0b55d0b2993185c8591e6dd10e,openstack/kolla-ansible,stable/queens,553070-stable/queens,If85e98097a0d0e0b55d0b2993185c8591e6dd10e,Glance policy copy is not using correct name,MERGED,2018-04-25 09:21:45.000000000,2018-04-26 15:28:17.000000000,2018-04-26 15:28:17.000000000,1,1,0,564142,38be0d341bde4424b20133af551fd39269c51112,7,4,1,1,23913,David Rabel,rabel,"Glance policy copy is not using correct name

This is currently using the full path for the destination
which doesn't appear to be what is wanted; instead the
actual file name should be used.

Closes-Bug: #1757532
Closes-Bug: #1766646

Change-Id: If85e98097a0d0e0b55d0b2993185c8591e6dd10e
(cherry picked from commit 39cb42ecf597cb9038a7d2d356362fea631f5773)
"
openstack%2Fkeystone~master~Ie4f5b992e277eb79041fd6211a171ca90057fd69,openstack/keystone,master,docs_remove-policy-from-architecture,Ie4f5b992e277eb79041fd6211a171ca90057fd69,Remove policy service from architecture.rst,MERGED,2018-04-25 14:38:41.000000000,2018-04-26 15:16:50.000000000,2018-04-26 15:16:50.000000000,0,7,3,564239,03c06a81258681043b2a3274be40f7a5a9afb3f8,14,4,3,1,23913,David Rabel,rabel,"Remove policy service from architecture.rst

- the policy service was never finished
- it's overall design doesn't contribute to the architecture of keystone
- it's mostly boilerplate code
- it's marked as deprecated in the API reference
- people trying to understand the architecture document don't need to
 fill a register with this information when there are other more
 meaningful things to parse

Change-Id: Ie4f5b992e277eb79041fd6211a171ca90057fd69
"
openstack%2Fzun~master~Idb1dec95d026744e6a34d2082945bf2e580862c0,openstack/zun,master,Ia8e6c9d8868fde1f650f9c56cade5e4b7dde507b,Idb1dec95d026744e6a34d2082945bf2e580862c0,Optimize the loading of the volume driver,MERGED,2018-03-30 20:51:37.000000000,2018-04-26 15:11:32.000000000,2018-04-26 15:11:32.000000000,58,54,0,557996,3029a5b5467248d4b2e9ae3a7b765a2038031cdd,9,5,2,3,11536,hongbin,hongbin,"Optimize the loading of the volume driver

In before, we load the volume driver on demand. This is undesirable
because the volume driver will be loaded per request which is
unnecessary. After this patch, the volume drivers will be loaded
once on initialization. Each request will retrieve the pre-loaded
driver instead.

Change-Id: Idb1dec95d026744e6a34d2082945bf2e580862c0
"
openstack%2Fcharm-vault~master~I10ec2f009920acf47f5353f6f947520514350bc0,openstack/charm-vault,master,feature/auto-unlock,I10ec2f009920acf47f5353f6f947520514350bc0,Add auto-unlock option,MERGED,2018-04-20 12:38:04.000000000,2018-04-26 15:10:57.000000000,2018-04-26 15:10:57.000000000,380,99,13,563098,cb5c24366ca9c3b7228e31eb0470d2d6c01b35c8,48,4,10,6,12549,gnuoy,gnuoy,"Add auto-unlock option

The auto-unlock option intialises vault and stores the keys and
root token in the leadership database. This option should
only be used in testing as it is probably undesirable to
store the vault keys in the leader db from a security pov.

Change-Id: I10ec2f009920acf47f5353f6f947520514350bc0
"
openstack%2Fnetworking-ovn~stable%2Fqueens~I8cdc48065acdac9dcc5955c223824714ecd92437,openstack/networking-ovn,stable/queens,bug/1757074-stable/queens,I8cdc48065acdac9dcc5955c223824714ecd92437,Strip the trailing '.' from the fqdn dns record stored in OVN NB DB,MERGED,2018-03-27 11:49:19.000000000,2018-04-26 15:08:52.000000000,2018-04-26 15:08:52.000000000,10,9,0,556828,49b2ddd1115eaae498053d593e06ce681b57ec19,9,6,2,3,8788,Miguel Angel Ajo,mangelajo,"Strip the trailing '.' from the fqdn dns record stored in OVN NB DB

Presently the dns fqdn record for a port is stored with trailing '.'
character. Eg. vm1.ovn.test.""=""10.0.0.4""

Fix this to store it as ""vm1.ovn.test""=""10.0.0.4""

Closes-bug: #1757074

(cherry picked from b6613f8560611a2ab5f3622bd9e7a379a807868e)
Change-Id: I8cdc48065acdac9dcc5955c223824714ecd92437
"
openstack%2Fnetworking-ovn~master~Ibcc3506975ce23eaef1d540b25d50aee1208e533,openstack/networking-ovn,master,functional-ovs-commit,Ibcc3506975ce23eaef1d540b25d50aee1208e533,Use OVS master for functional tests,MERGED,2018-04-24 12:59:57.000000000,2018-04-26 15:08:04.000000000,2018-04-26 15:08:04.000000000,0,7,0,563936,780678f034b2f54093b3c0081de15e2a1a4122ef,13,5,1,1,6773,Lucas Alvares Gomes,lucasagomes,"Use OVS master for functional tests

The commit 5d19dad877a5589e026ab4af7b09e6c8ee97fc22 was pinning OVS to
a specific commit due to a regression. This is not needed anymore.

Change-Id: Ibcc3506975ce23eaef1d540b25d50aee1208e533
"
openstack%2Fbandit~master~I1d3ec2dbf3a04c72dac49325afed9f855d5bb17a,openstack/bandit,master,bug/1765441,I1d3ec2dbf3a04c72dac49325afed9f855d5bb17a,Add bandit functional testing to tox and zuul,ABANDONED,2018-04-19 19:36:04.000000000,2018-04-26 14:53:42.000000000,,29,0,1,562808,e691cb30b019884a7e1cf27bf8c8954b9e63f8cf,10,4,2,3,21420,Gage Hugo,ghugo,"Add bandit functional testing to tox and zuul

This change adds a testenv for running bandit's functional tests via tox
as well as running a check/gate job through zuul.

Change-Id: I1d3ec2dbf3a04c72dac49325afed9f855d5bb17a
Closes-Bug: #1765441
"
openstack%2Fnova~stable%2Fqueens~Iff30e59ced63a94c5c3377317a2e2a502f96eb91,openstack/nova,stable/queens,bug/1764460-stable/queens,Iff30e59ced63a94c5c3377317a2e2a502f96eb91,libvirt: fix hard reboot issue with mdevs,MERGED,2018-04-26 10:30:38.000000000,2018-04-26 14:51:32.000000000,2018-04-26 13:58:55.000000000,21,1,0,564454,a5aa8e2eb8d5a90780211ef67b8f2dcc76af64de,10,7,1,2,10135,Lee Yarwood,lyarwood,"libvirt: fix hard reboot issue with mdevs

Sometimes, a Nova instance may not have an associated libvirt guest,
like if a live migration fails and the hypervisor on the source node
is in an inconsistent state.
The usual way to fix that is to hard reboot the instance, so the
virt driver recreates the guest.
Unfortunately, we introduced a regression in Queens with
Ie6c9108808a461359d717d8a9e9399c8a407bfe9 because we weren't
checking whether the guest was there or not.

This fix aims to catch the InstanceNotFound exception that's
raised and just tell there are no mediated devices attached to that
instance (given we can no longer know them).

Change-Id: Iff30e59ced63a94c5c3377317a2e2a502f96eb91
Closes-Bug: #1764460
(cherry picked from commit 8941c79f0924413822b15824a298e081e345e616)
"
openstack%2Fopenstacksdk~master~I60ac37605c9e0ff8ad4d9c4457882ee5de64a5b4,openstack/openstacksdk,master,fix-openstack-inventory,I60ac37605c9e0ff8ad4d9c4457882ee5de64a5b4,Fix openstack-inventory,MERGED,2018-04-23 20:19:48.000000000,2018-04-26 14:50:08.000000000,2018-04-26 14:50:08.000000000,1,1,0,563754,48aac40bf6af220a8ef51921cf7b8fe55fc6168b,12,3,2,1,28143,Ilya Margolin,fungusakafungus,"Fix openstack-inventory

which still uses openstack.cloud.simple_logging
which was removed some time ago

Change-Id: I60ac37605c9e0ff8ad4d9c4457882ee5de64a5b4
Story: 2001899
"
openstack%2Fopenstack-ansible-repo_build~stable%2Fqueens~Iba7e9939250b24dc64fdd1883f963d0253ddad7e,openstack/openstack-ansible-repo_build,stable/queens,bp/python-build-install-simplification-stable/queens,Iba7e9939250b24dc64fdd1883f963d0253ddad7e,Allow repo host packages to be upgraded before repo build,MERGED,2018-04-24 13:42:25.000000000,2018-04-26 14:47:33.000000000,2018-04-26 14:47:33.000000000,32,9,0,563962,bd9f89a5ec67df85046cca90142702b5110e382c,7,3,1,1,6816,Jesse Pretorius,jesse-pretorius,"Allow repo host packages to be upgraded before repo build

To cater for a situation where the repo build packages are changing,
but the repo does not yet have the package built, we need to ensure
that the install task for it can fetch from pypi (or the designated
pypi mirror). To do this we try the local repo first, then fall back
to using the designated default index which defaults to pypi.

Change-Id: Iba7e9939250b24dc64fdd1883f963d0253ddad7e
(cherry picked from commit de46da9d144156d486367218204f8a2be1a31381)
"
openstack%2Fbandit~master~Ic42e41f59ab840140281659d30bc178d027653a1,openstack/bandit,master,pypi,Ic42e41f59ab840140281659d30bc178d027653a1,Migrate to new PyPI website,ABANDONED,2018-04-19 04:05:28.000000000,2018-04-26 14:42:44.000000000,,7,7,0,562459,b6f965ec8e39e334688e63a2e51ce75e6d5ca5fa,15,5,2,3,8119,Eric Brown,ericwb,"Migrate to new PyPI website

According to [1], the PyPI website of pypi.python.org has changed to
https://pypi.org. This patch updates all references to the legacy
site.

[1] https://pythoninsider.blogspot.ca/2018/04/new-pypi-launched-legacy-pypi-shutting.html

Depends-On: https://review.openstack.org/563717
Change-Id: Ic42e41f59ab840140281659d30bc178d027653a1
"
openstack%2Fnova-powervm~master~I105e4b7001236d262998322273dcdd8e90d0b8c5,openstack/nova-powervm,master,pypowervm-1.1.15,I105e4b7001236d262998322273dcdd8e90d0b8c5,Bump pypowervm minimum to 1.1.15,MERGED,2018-04-25 16:36:58.000000000,2018-04-26 14:41:08.000000000,2018-04-26 14:41:07.000000000,1,1,3,564278,af0e814d628289c07c8e88629539a3e42c3d3daa,18,6,2,1,14070,Eric Fried,efried,"Bump pypowervm minimum to 1.1.15

The referenced bug is fixed in pypowervm 1.1.15.  Without the fix,
PowerVM device detach during destroy (and therefore PowerVM CI) is
broken.

Change-Id: I105e4b7001236d262998322273dcdd8e90d0b8c5
Depends-On: https://review.openstack.org/564275
Closes-Bug: #1766692
"
openstack%2Fsahara-extra~master~I4eb9906a4cd4e1c41ff01a4b88fdb5a7199ecf5a,openstack/sahara-extra,master,hadoop-2.7.5-native-libs,I4eb9906a4cd4e1c41ff01a4b88fdb5a7199ecf5a,Add Hadoop 2.7.5 native libs to common artifacts,MERGED,2018-04-26 08:06:04.000000000,2018-04-26 14:31:22.000000000,2018-04-26 14:31:22.000000000,0,0,0,564417,af6cac8e361ff2e46eb07be1c76b4b9fcb83c813,10,4,1,1,27576,Zhuang Changkun,zchkun,"Add Hadoop 2.7.5 native libs to common artifacts

Download the binary format package of hadoop 2.7.5, and create
tarball with hadoop native libs (hadoop-2.7.5/lib/native)

Change-Id: I4eb9906a4cd4e1c41ff01a4b88fdb5a7199ecf5a
"
openstack%2Fmistral~stable%2Fqueens~I1b89ef4bdd081e0a32c6442b4d142fa23dceb43c,openstack/mistral,stable/queens,release_note_for_jinja_exception-stable/queens,I1b89ef4bdd081e0a32c6442b4d142fa23dceb43c,Add release note for jinja expression bug,MERGED,2018-04-26 11:15:03.000000000,2018-04-26 14:25:40.000000000,2018-04-26 14:25:40.000000000,5,0,0,564467,3993a078002ce262f35842ceca098877bc9cb928,10,4,2,1,9712,Dougal Matthews,dougal,"Add release note for jinja expression bug

Change-Id: I1b89ef4bdd081e0a32c6442b4d142fa23dceb43c
(cherry picked from commit a70df9e99140413a76564cb7f0f0f8acfcf95b31)
"
openstack%2Fmistral~stable%2Fqueens~Ib020550d0ec989ca382b738844a752ec9d02919a,openstack/mistral,stable/queens,fix/jinja_exception-stable/queens,Ib020550d0ec989ca382b738844a752ec9d02919a,Fixed Jinja error handling,MERGED,2018-04-26 10:00:31.000000000,2018-04-26 14:25:40.000000000,2018-04-26 14:25:39.000000000,173,61,0,564435,08d367e6b10a1cd03ffa79bc972dc5ed50574a02,7,5,1,3,27008,Vitalii Solodilov,mcdoker18,"Fixed Jinja error handling

Before changes `cls._env.from_string(expression).render(**ctx)` can
raise exception, for example the variable doesn't exist. And this
exception is not handled.
Jinja error handling was moved to cover this case.

Change-Id: Ib020550d0ec989ca382b738844a752ec9d02919a
Closes-bug: #1743649
Signed-off-by: Vitalii Solodilov <mcdkr@yandex.ru>
(cherry picked from commit e1f105685a78e6397b63658fd41546a670b95f86)
"
openstack%2Fneutron~master~If72bd2e8d742285e15f49e8026b9ce5c3426cd65,openstack/neutron,master,neutron-lib-update,If72bd2e8d742285e15f49e8026b9ce5c3426cd65,do not merge: test pecan 1.3.1 and neutron-lib,ABANDONED,2018-04-17 17:05:10.000000000,2018-04-26 14:03:10.000000000,,512,3,0,562008,da2c73c5746f7650d5120cb7bdc370b66f46003a,74,6,16,4,333,Isaku Yamahata,yamahata,"do not merge: test pecan 1.3.1 and neutron-lib

Change-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65
Depends-On: https://review.openstack.org/#/c/563359/
"
openstack%2Fironic~master~Ib261401ab5681fd8ba1a91252a5bed51ec73c757,openstack/ironic,master,story/2001797,Ib261401ab5681fd8ba1a91252a5bed51ec73c757,Implement a function to check the image status,MERGED,2018-04-07 18:02:42.000000000,2018-04-26 13:58:24.000000000,2018-04-11 06:15:22.000000000,17,2,3,559500,8aa46de0ec8321616284b888875424d964efc5e6,37,9,3,3,25820,Marc,mmethot,"Implement a function to check the image status

Using new function is_image_active to confirm if the image is active

Change-Id: Ib261401ab5681fd8ba1a91252a5bed51ec73c757
Story: 2001797
Task: 12519
"
openstack%2Fopenstack-ansible~stable%2Fpike~I9e6c209bafa21afe22e0c4f67da584d553a50e00,openstack/openstack-ansible,stable/pike,,I9e6c209bafa21afe22e0c4f67da584d553a50e00,bootstrap-host: Set repo build pip default mirror when in openstack-ci,MERGED,2018-04-23 10:40:53.000000000,2018-04-26 13:57:47.000000000,2018-04-26 13:57:47.000000000,1,0,0,563565,61139906de1be0a3840a549fb5b94f7bc5267a3d,8,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"bootstrap-host: Set repo build pip default mirror when in openstack-ci

When in openstack-ci we should use the most local pypi mirror
available for the repo build process to speed things up.

Change-Id: I9e6c209bafa21afe22e0c4f67da584d553a50e00
(cherry picked from commit aac7e8ce1864dd1db0d8fb6008d20e62f2b5a38a)
"
openstack%2Fnova~master~Iac23a574a05e62a99aab20ffce4265f4fb5a44d9,openstack/nova,master,bp/add-host-to-instance-action-events,Iac23a574a05e62a99aab20ffce4265f4fb5a44d9,ServerActionsSampleJsonTest refactor,MERGED,2018-04-17 07:45:30.000000000,2018-04-26 13:55:56.000000000,2018-04-26 13:55:56.000000000,236,368,7,561819,577cb4b2f4a2c5c7b825e28cdb4057740c09f0fa,37,15,3,27,20722,Yikun Jiang,yikunkero,"ServerActionsSampleJsonTest refactor

Change the instance action sample to a real world action.

In Setup, we create an instance and then stop it. That would
be 2 actions(create and stop), and the stop action should have
a ""compute_stop_instance"" event. And then we do 2.1/2.21/2.51
test case based on these actions, like we have done in 2.58.

Change-Id: Iac23a574a05e62a99aab20ffce4265f4fb5a44d9
"
openstack%2Fheat-tempest-plugin~master~I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8,openstack/heat-tempest-plugin,master,bug/1695144,I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8,Use keystone session with heatclient in integration tests,MERGED,2017-11-20 05:55:16.000000000,2018-04-26 13:52:43.000000000,2018-04-26 13:52:43.000000000,12,17,0,521420,ff3fbd546715ef21a2b31862f36a3e8d05e0d0e1,18,5,3,1,8833,Rabi Mishra,rabi,"Use keystone session with heatclient in integration tests

Change-Id: I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8
Related-Bug: #1695144
"
openstack%2Fkuryr-kubernetes~master~I226870fbb147e1d7455842e531f5515b11acba80,openstack/kuryr-kubernetes,master,playbook_cleanup,I226870fbb147e1d7455842e531f5515b11acba80,Clean up legacy playbooks,MERGED,2018-04-26 07:40:13.000000000,2018-04-26 13:52:15.000000000,2018-04-26 13:52:15.000000000,0,250,0,564414,612b1a6023411e2e1d56a5adc5c64d1d87ef97bf,10,4,1,4,14885,Daniel Mellado,daniel-mellado,"Clean up legacy playbooks

After finishing the migration to Zuulv3, there were some legacy
leftovers inside the playbooks directory. This commit fixes it by
deleting non-used playbooks from it.

Change-Id: I226870fbb147e1d7455842e531f5515b11acba80
"
openstack%2Ftripleo-upgrade~master~Idfe041fba9120964a5af06b3a25c55b87b611960,openstack/tripleo-upgrade,master,bug/1764454,Idfe041fba9120964a5af06b3a25c55b87b611960,Adhere to ANSIBLE0011 All tasks should be named.,MERGED,2018-04-16 17:32:18.000000000,2018-04-26 13:44:11.000000000,2018-04-16 22:40:27.000000000,36,18,0,561678,2bead7f8be288c1e3ad67026e4576108e5696d03,13,4,2,10,8297,Sofer Athlan-Guyot,chem,"Adhere to ANSIBLE0011 All tasks should be named.

Change-Id: Idfe041fba9120964a5af06b3a25c55b87b611960
Closes-Bug: #1764454
"
openstack%2Fansible-config_template~master~Ifda972caada27ade2d80f77b3df70568406226ff,openstack/ansible-config_template,master,bug/1763422,Ifda972caada27ade2d80f77b3df70568406226ff,Fix py3 unicode issue,MERGED,2018-04-23 11:46:45.000000000,2018-04-26 13:40:04.000000000,2018-04-26 13:40:04.000000000,39,24,1,563585,fc1c9311a8e25fce011815f7d4a2dc7d41c99815,21,3,8,5,2799,Andy McCrae,andrew-mccrae,"Fix py3 unicode issue

unicode is nolonger a type in py3 - instead the str type is used for
unicode, and the bytes type would cover the str type from py2.

To avoid having to version the code, we should try to use unicode,
except the NameError and continue as though it is py3 if that fails.

Additionally, this patch adds a test that will fail if you revert the
config_template.py back to it's original in py3.

Closes-bug: 1763422
Change-Id: Ifda972caada27ade2d80f77b3df70568406226ff
"
openstack%2Fdesignate-dashboard~master~I5e6cedf27f06692f7a6c7b75e21b7cff22e061f0,openstack/designate-dashboard,master,,I5e6cedf27f06692f7a6c7b75e21b7cff22e061f0,Fix horizon install for tox,MERGED,2018-04-08 16:15:57.000000000,2018-04-26 13:26:11.000000000,2018-04-26 13:26:11.000000000,6,2,0,559578,5055fd3d2542c514597a1800497f1873fd2bd0ed,11,4,2,2,24,Chuck Short,zulcss,"Fix horizon install for tox

Install horizon from git in Openstack CI.
Update the tox.ini for this.

Change-Id: I5e6cedf27f06692f7a6c7b75e21b7cff22e061f0
Signed-off-by: Charles Short <zulcss@gmail.com>
"
openstack%2Fkolla~master~I11b50b93fc02fffc5d9b377c638129d2ac102b2f,openstack/kolla,master,collectd_addons,I11b50b93fc02fffc5d9b377c638129d2ac102b2f,Additional collectd plugins and template interval,ABANDONED,2018-04-19 19:53:15.000000000,2018-04-26 13:21:37.000000000,,10,2,3,562813,c11287d6bf21400600c285b9045c0461d5873d15,22,7,3,2,10061,Joe Talerico,rook,"Additional collectd plugins and template interval

This is to reduce the overlap between Browbeat performance metric
collection. We depend on these packages to be present on some of our
collectd templates. I don't see a way to determine if the container is
running on a controller/compute/ceph/hci node. Right now Browbeat will
use the hosts file, which has things broken out.

Removing the hardset 5 second interval. Also switching to default to 10.
Not sure where the 5 second interval came from? Historcal?

Change-Id: I11b50b93fc02fffc5d9b377c638129d2ac102b2f
"
openstack%2Ffreezer~master~I636286bd3e94d1b908335a162eb3c6f86e5a6210,openstack/freezer,master,bug/1750776,I636286bd3e94d1b908335a162eb3c6f86e5a6210,Add note about installing dependencies,MERGED,2018-04-25 15:35:27.000000000,2018-04-26 13:15:12.000000000,2018-04-26 13:15:12.000000000,5,0,0,564256,1ebd6d12efb78bbaac0ba454ab03d52659dddfde,7,3,1,1,28032,Oleksiy Petrenko,enacero,"Add note about installing dependencies

Change-Id: I636286bd3e94d1b908335a162eb3c6f86e5a6210
Closes-Bug: #1750776
"
openstack%2Fcongress~master~I4747ffe5ade2b3ea764f2f65a7e3b9b34c51e004,openstack/congress,master,pypi-url,I4747ffe5ade2b3ea764f2f65a7e3b9b34c51e004,Trivial: Update pypi url to new url,MERGED,2018-04-20 18:59:01.000000000,2018-04-26 13:14:45.000000000,2018-04-26 13:14:45.000000000,1,1,0,563235,245c499fd1563fc2a5064abf334baaca032c5b23,8,4,1,1,17130,melissaml,malei,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I4747ffe5ade2b3ea764f2f65a7e3b9b34c51e004
"
openstack%2Freleases~master~I324e9149734009257e06fb0cd6db692268d8efbd,openstack/releases,master,xstatic-release-filesaver,I324e9149734009257e06fb0cd6db692268d8efbd,Release xstatic-filesaver 1.3.2.0,MERGED,2018-04-05 07:00:11.000000000,2018-04-26 13:13:18.000000000,2018-04-26 13:13:18.000000000,14,0,0,559007,faeefdb05566c83e0e594ff8f7e675be5249942e,11,5,2,1,19224,Xinni Ge,irisayame,"Release xstatic-filesaver 1.3.2.0

Change-Id: I324e9149734009257e06fb0cd6db692268d8efbd
"
openstack%2Fproject-config~master~I5de04f1bbea61b00fda4d312aea77b1ea4efaa7e,openstack/project-config,master,mark-newton-as-closed,I5de04f1bbea61b00fda4d312aea77b1ea4efaa7e,update the release tools to mark newton as closed,MERGED,2018-04-19 20:36:46.000000000,2018-04-26 13:11:50.000000000,2018-04-26 13:11:50.000000000,1,0,0,562826,c83de06ad1ba57fcc9bc85cb8cf83b90100e5d5a,9,4,2,1,2472,Doug Hellmann,doug-hellmann,"update the release tools to mark newton as closed

This prevents the release tools from processing changes in the newton
branch, including re-creating newton branches that have been deleted.

Story: #2001852
Task: #14346
Change-Id: I5de04f1bbea61b00fda4d312aea77b1ea4efaa7e
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fpython-tripleoclient~master~Idf595498e46eeb88acfd4c3a21094d22197a6d7b,openstack/python-tripleoclient,master,bug/1766579,Idf595498e46eeb88acfd4c3a21094d22197a6d7b,Wire-in hieradata_override for UC heat-install,MERGED,2018-04-24 14:31:52.000000000,2018-04-26 13:10:11.000000000,2018-04-26 13:10:11.000000000,80,7,2,563986,e5b351cec41b8208caa3ab977d14de621e9bf17d,13,7,2,3,6926,Bogdan Dobrelya,bogdando,"Wire-in hieradata_override for UC heat-install

Maintain undercloud.conf feature parity with instack.

Allow to override hiera data for UndercloudExtraConfig in tht.
Ensure higher data precedence over anything that comes from
custom_env_files.

Partial-bug: #1766579
Change-Id: Idf595498e46eeb88acfd4c3a21094d22197a6d7b
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Finstack-undercloud~master~Iada099a6bddc7927d26b19776e705b1ac231b2e5,openstack/instack-undercloud,master,bug/1764507,Iada099a6bddc7927d26b19776e705b1ac231b2e5,Fix net_config_override validations,MERGED,2018-04-24 13:00:09.000000000,2018-04-26 13:10:10.000000000,2018-04-26 13:10:10.000000000,20,6,0,563937,c64a1c823e021b050c7eccaee1c42f4040b6b4e8,9,4,1,3,360,Dan Prince,dan-prince,"Fix net_config_override validations

There is an issue with the _validate_no_ip_change function
where it doesn't work correctly with a custom net_config_override
file.

This patch resolves validation issue so that custom os-net-config
templates are taken into account. Additionally it makes it so
that the net_config_override can be empty, thus providing the
user a means of disabling os-net-config if they choose to do so.

Change-Id: Iada099a6bddc7927d26b19776e705b1ac231b2e5
Depends-On: I69eb812af2d653cb3eb29694ae29b57ebb2de53d
Closes-bug: #1764507
"
openstack%2Ftripleo-quickstart-extras~master~If134720ad00925b25cea0fb0d98e7833fe8e24ac,openstack/tripleo-quickstart-extras,master,stestr,If134720ad00925b25cea0fb0d98e7833fe8e24ac,Install stestr only when release is pike or newer,MERGED,2018-04-24 07:09:30.000000000,2018-04-26 13:10:09.000000000,2018-04-26 13:10:09.000000000,5,1,2,563843,f898aa28a2283f89be0a25282b5df85780ccd943,38,19,3,1,8367,Arx Cruz,arxcruz,"Install stestr only when release is pike or newer

The stestr package was introduced on pike, so in order to not break the
ocata jobs, adding a conditional to not install if it's ocata release.
Also added conditional for newton just for compatibility

Change-Id: If134720ad00925b25cea0fb0d98e7833fe8e24ac
"
openstack%2Fcharm-percona-cluster~stable%2F18.02~If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe,openstack/charm-percona-cluster,stable/18.02,bug/1767060-stable/18.02,If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe,Ensure we call application_version_set with valid argument,MERGED,2018-04-26 11:00:17.000000000,2018-04-26 13:08:00.000000000,2018-04-26 13:08:00.000000000,65,1,0,564458,229fbad0a46d91dedc1357bc2019445dfc2d6266,11,4,3,2,13686,Frode Nordahl,fnordahl,"Ensure we call application_version_set with valid argument

Change-Id: If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe
Closes-Bug: #1767060
(cherry picked from commit fce8db8756687d2846dc3eafca1f255a89c1e09f)
"
openstack%2Fnova~master~I9428be0e6e5b640fdda00410817925001361fd2c,openstack/nova,master,bug/1759979,I9428be0e6e5b640fdda00410817925001361fd2c,xenapi: handle InstanceNotFound in detach_interface(),MERGED,2018-04-19 21:43:53.000000000,2018-04-26 13:01:45.000000000,2018-04-26 01:00:17.000000000,19,1,6,562838,5a42701f89a5139acdc38f8572b1083ba528264c,26,15,1,2,6873,Matt Riedemann,mriedem,"xenapi: handle InstanceNotFound in detach_interface()

CI tests frequently teardown by rolling back interface
attachments and then deleting the server, both of which
are asynchronous. If we're trying to detach an interface
on a guest that is gone, we don't need to log a traceback
exception in the logs, just let the InstanceNotFound
raise up to the ComputeManager which will handle the
error and log it appropriately.

Change-Id: I9428be0e6e5b640fdda00410817925001361fd2c
Closes-Bug: #1759979
"
openstack%2Fdesignate-dashboard~stable%2Fpike~I587054ebf711df79e9d46efe83cf2b1d3973efe5,openstack/designate-dashboard,stable/pike,zanata/translations,I587054ebf711df79e9d46efe83cf2b1d3973efe5,Imported Translations from Zanata,MERGED,2018-04-26 07:28:19.000000000,2018-04-26 12:41:28.000000000,2018-04-26 12:41:27.000000000,18,2,0,564409,c5f20d069738d91d34a36e9c99938b282ed9646e,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I587054ebf711df79e9d46efe83cf2b1d3973efe5
"
openstack%2Fhorizon~master~I56e89bc92d45cbcab32563ca03a3bc6516d5c6f2,openstack/horizon,master,zanata/translations,I56e89bc92d45cbcab32563ca03a3bc6516d5c6f2,Imported Translations from Zanata,MERGED,2018-04-26 07:32:56.000000000,2018-04-26 12:40:13.000000000,2018-04-26 12:40:13.000000000,82,9,0,564412,850288b24cd6af782ac8e15c0abe95f31c974bd0,6,2,1,4,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I56e89bc92d45cbcab32563ca03a3bc6516d5c6f2
"
openstack%2Fhorizon~master~Ida2e836cf81d2b96e0b66afed29a900c312223a4,openstack/horizon,master,bp/application-credentials,Ida2e836cf81d2b96e0b66afed29a900c312223a4,Add support for application credentials,MERGED,2018-03-12 21:31:25.000000000,2018-04-26 12:40:11.000000000,2018-04-26 12:40:11.000000000,910,2,105,552145,2d69444badeedb59c1496fd77831b795f22469ff,87,6,24,23,8482,Colleen Murphy,krinkle,"Add support for application credentials

This patch adds support for creating application credentials in
keystone[1]. Application credentials can be created by any user for
themselves. An application credential is created for the currently
selected project. A user may provide their own secret for the application
credential, or may allow keystone to generate a secret for them. After
the application credential is created, the secret is revealed once to
the user. At that point they may download a clouds.yaml or openrc file
that contains the application credential secret and will enable them to
use it to authenticate. The secret is not revealed again.

[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html

bp application-credentials

Depends-On: https://review.openstack.org/557927
Depends-On: https://review.openstack.org/557932
Change-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4
"
openstack%2Fcharm-percona-cluster~master~If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe,openstack/charm-percona-cluster,master,bug/1767060,If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe,Ensure we call application_version_set with valid argument,MERGED,2018-04-26 09:43:24.000000000,2018-04-26 12:26:15.000000000,2018-04-26 12:26:15.000000000,65,1,0,564432,fce8db8756687d2846dc3eafca1f255a89c1e09f,10,4,1,2,13686,Frode Nordahl,fnordahl,"Ensure we call application_version_set with valid argument

Change-Id: If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe
Closes-Bug: #1767060
"
openstack%2Fmanila~master~Ibc3e0e5e18d0a587c75b2b5cb4d6760d481a7807,openstack/manila,master,,Ibc3e0e5e18d0a587c75b2b5cb4d6760d481a7807,Fix doc build warnings,MERGED,2018-04-25 16:49:25.000000000,2018-04-26 12:14:44.000000000,2018-04-26 12:14:43.000000000,2,2,0,564283,1089ada7cf10d859c0ced44e862daf662ea81a36,18,12,1,2,9003,Tom Barron,tbarron,"Fix doc build warnings

Building locally produces warnings that upstream
gate lets pass.  Fix these because upstream is
changing [1].

[1] https://review.openstack.org/#/c/564232

Change-Id: Ibc3e0e5e18d0a587c75b2b5cb4d6760d481a7807
"
openstack%2Fnova~master~Ia9f1fa5f3c1a8d2405a0b21ce0989c65fae2d246,openstack/nova,master,bug/1766919,Ia9f1fa5f3c1a8d2405a0b21ce0989c65fae2d246,Use inspect.signature in nova.network.base_api.refresh_cache,ABANDONED,2018-04-25 20:14:03.000000000,2018-04-26 11:50:41.000000000,,19,11,1,564334,8b6ac372bc149f9d03a8b84acea810887b10fb6f,17,14,1,1,6873,Matt Riedemann,mriedem,"Use inspect.signature in nova.network.base_api.refresh_cache

inspect.getargspec is deprecated in py2 and replaced with
inspect.signature in py3, so this adds the py3 handling in
the refresh_cache decorator code.

Change-Id: Ia9f1fa5f3c1a8d2405a0b21ce0989c65fae2d246
Partial-Bug: #1766919
"
openstack%2Fnova~master~I57e78483a94036d3e6a5a1332892e90686b8e53b,openstack/nova,master,bug/1766919,I57e78483a94036d3e6a5a1332892e90686b8e53b,Use inspect.signature in nova.utils.expects_func_args,ABANDONED,2018-04-25 20:14:03.000000000,2018-04-26 11:48:57.000000000,,26,11,0,564333,05e0d2f9493a62f7bcea80f7a7a88b6c2be8ed05,30,16,1,1,6873,Matt Riedemann,mriedem,"Use inspect.signature in nova.utils.expects_func_args

inspect.getargspec is deprecated in py2 and replaced with
inspect.signature in py3, so this change adds the py3
handling.

Change-Id: I57e78483a94036d3e6a5a1332892e90686b8e53b
Partial-Bug: #1766919
"
openstack%2Fqinling~master~Ic0132619b0aa513cd84abc278006623b42ef15b1,openstack/qinling,master,delete-function-with-versions,Ic0132619b0aa513cd84abc278006623b42ef15b1,Delete all its versions when deleting function,MERGED,2018-04-25 08:05:27.000000000,2018-04-26 11:45:13.000000000,2018-04-26 11:45:13.000000000,160,70,5,564126,3f303eb60c8119fb0bf0a4b20f093b0664b13765,31,3,8,6,6732,Lingxian Kong,kong,"Delete all its versions when deleting function

Change-Id: Ic0132619b0aa513cd84abc278006623b42ef15b1
Story: 2001829
Task: 14423
"
openstack%2Fnetworking-ovn~master~I0df72a17f78c011d68ae5662e8550ce7714c1680,openstack/networking-ovn,master,bug/1766639,I0df72a17f78c011d68ae5662e8550ce7714c1680,Properly configure the environment for functional tests,MERGED,2018-04-25 09:44:05.000000000,2018-04-26 11:39:22.000000000,2018-04-26 11:39:22.000000000,195,0,0,564152,77a38a1ce7d85e872ef1967831cb24863dbdfc0a,10,5,3,2,6773,Lucas Alvares Gomes,lucasagomes,"Properly configure the environment for functional tests

This patch is configuring the functional tests environment so we can
also run the database migration tests.

The patch includes a new script at tools/configure_for_func_testing.sh
which runs as part of the gate_hook.sh for the dsvm-functional tests and
is responsible for installing and configuring the environment.

Closes-Bug: #1766639
Change-Id: I0df72a17f78c011d68ae5662e8550ce7714c1680
"
openstack%2Fneutron~master~I25d9c87225feda1b5ddd442dd01529424186e05b,openstack/neutron,master,bug/1708731,I25d9c87225feda1b5ddd442dd01529424186e05b,ovs-fw: Apply openflow rules immediately during update,MERGED,2018-04-18 10:38:37.000000000,2018-04-26 11:38:18.000000000,2018-04-26 11:38:18.000000000,24,2,10,562220,8b2c40366b3b65876e5465efae05b171be1bc473,44,12,3,4,8655,Jakub Libosvar,jlibosva,"ovs-fw: Apply openflow rules immediately during update

Because update operation updates openflow rules three times:
 1) New rules with new cookie
 2) Delete old rules with old cookie
 3) Change new cookie back to old cookie

and the step 2) uses --strict parameter, it's needed to apply rules
before deleting the old rules because --strict parameter cannot be
combined with non-strict. This patch applies openflow rules after
step 1), then --strict rules in step 2 are applied right away and then
rest of delete part from 2) and all new rules from 3) are applied
together.

This patch adds optional interval parameter to Pinger class which sends
more ICMP packets per second in the firewall blink tests to increase a
chance of sending a packet while firewall is in inconsistent state.

Change-Id: I25d9c87225feda1b5ddd442dd01529424186e05b
Closes-bug: #1708731
"
openstack%2Fkuryr-kubernetes~master~I0a10a408a6ae6e015ce5f5243d61cfcff230df44,openstack/kuryr-kubernetes,master,bug/1766898,I0a10a408a6ae6e015ce5f5243d61cfcff230df44,Update lower-constraints to match requirements.txt,MERGED,2018-04-25 14:54:16.000000000,2018-04-26 11:34:37.000000000,2018-04-26 11:34:36.000000000,28,28,0,564241,5b9bb03e772752a86c80cdd4c9d7683404319383,17,5,3,2,11600,Michał Dulko,dulek,"Update lower-constraints to match requirements.txt

Seems like we've did something wrong when applying initial
lower-constraints.txt and now the job fails with errors about that file
being incompatible with requirements.txt and test-requirements.txt.

This commit attempts to fix that by updating lower-constraints.txt to
match requirements.

Change-Id: I0a10a408a6ae6e015ce5f5243d61cfcff230df44
Closes-Bug: 1766898
"
openstack%2Fnetworking-ovn~master~Ie3b600d4f3d7a3d594685848f35868c438f20976,openstack/networking-ovn,master,bug/1766639,Ie3b600d4f3d7a3d594685848f35868c438f20976,Fix test_models_sync() functional test,MERGED,2018-04-24 15:06:30.000000000,2018-04-26 11:34:07.000000000,2018-04-26 11:34:07.000000000,6,6,0,563994,b892650a6e62ac71679409cac767b58d867021bf,18,4,2,2,6773,Lucas Alvares Gomes,lucasagomes,"Fix test_models_sync() functional test

This patch is fixing the test_models_sync() test from oslo.db by removing
the inconsistencies from the models.py module and the migration script
for the ovn_revision_numbers table.

Note that this test doesn't current run in our gate, it gets skipped
because the databases are not properly configured when setting up the
functional tests. For now, it's possible to configure mysql by hand to
test this patch by doing the following:

1. Stack DevStack as per our documentation

2. Configure Mysql:

  $ cat << EOF > /tmp/mysql.sql
  CREATE DATABASE openstack_citest;
  CREATE USER 'openstack_citest'@'localhost' IDENTIFIED BY
  'openstack_citest';
  CREATE USER 'openstack_citest' IDENTIFIED BY 'openstack_citest';
  GRANT ALL PRIVILEGES ON *.* TO 'openstack_citest'@'localhost';
  GRANT ALL PRIVILEGES ON *.* TO 'openstack_citest';
  FLUSH PRIVILEGES;
  EOF

  $ /usr/bin/mysql -u root < /tmp/mysql.sql

3. Change to the networking-ovn directory

  $ cd ~/networking-ovn

4. Run the test_models_sync() functional test:

  $ tox -edsvm-functional TestModelsMigrationsMysql.test_models_sync

Partial-Bug: #1766639
Change-Id: Ie3b600d4f3d7a3d594685848f35868c438f20976
"
openstack%2Fopenstack-ansible~stable%2Fqueens~I928d7eda5abe5c88246323ded971d312284c2c2b,openstack/openstack-ansible,stable/queens,horizon-fwaas-panels-stable/queens,I928d7eda5abe5c88246323ded971d312284c2c2b,Enable horizon fwaas panels when firewall_v2 driver is enabled,MERGED,2018-04-25 11:11:54.000000000,2018-04-26 11:30:27.000000000,2018-04-26 11:30:27.000000000,1,1,0,564164,9ebb91bb09a21db42378aacc4c04e91823ed979f,8,5,1,1,6816,Jesse Pretorius,jesse-pretorius,"Enable horizon fwaas panels when firewall_v2 driver is enabled

Change-Id: I928d7eda5abe5c88246323ded971d312284c2c2b
(cherry picked from commit c5140903baa7773e7f41e0d00a90bcbf256fd183)
"
openstack%2Fmistral~master~I1b89ef4bdd081e0a32c6442b4d142fa23dceb43c,openstack/mistral,master,release_note_for_jinja_exception,I1b89ef4bdd081e0a32c6442b4d142fa23dceb43c,Add release note for jinja expression bug,MERGED,2018-04-26 09:58:58.000000000,2018-04-26 11:23:58.000000000,2018-04-26 11:23:58.000000000,5,0,0,564434,a70df9e99140413a76564cb7f0f0f8acfcf95b31,10,4,1,1,27349,Hardik Jasani,hardikj,"Add release note for jinja expression bug

Change-Id: I1b89ef4bdd081e0a32c6442b4d142fa23dceb43c
"
openstack%2Fmistral~master~I36f1e3e6cfe0c0d94667c5f7f4c58297c10833a9,openstack/mistral,master,fix-doc,I36f1e3e6cfe0c0d94667c5f7f4c58297c10833a9,Update mistral upgrade guide,MERGED,2018-04-23 03:10:17.000000000,2018-04-26 11:23:57.000000000,2018-04-26 11:23:57.000000000,1,1,0,563491,d2be248bd31895d510ce8a6fa677de357f47b206,7,3,1,1,25167,Qi Peng,pengdake,"Update mistral upgrade guide

Mistral-db-manage replaces check_migration with branches now.

Change-Id: I36f1e3e6cfe0c0d94667c5f7f4c58297c10833a9
Signed-off-by: pengdake <19921207pq@gmail.com>
"
openstack%2Fmistral~master~I7a80c8d8325d3c4446e6a0082a354552bc1adfa7,openstack/mistral,master,bug/1756252,I7a80c8d8325d3c4446e6a0082a354552bc1adfa7,Fix error about SenlinAction,MERGED,2018-03-05 10:25:25.000000000,2018-04-26 11:23:57.000000000,2018-04-26 11:23:57.000000000,4,3,0,549729,92b6016e3d4227f9c1bc739e1963d95938968c0a,41,6,8,3,25167,Qi Peng,pengdake,"Fix error about SenlinAction

The senlin action is not found after populating database.

Closes-Bug: 1756252

Change-Id: I7a80c8d8325d3c4446e6a0082a354552bc1adfa7
"
openstack%2Fkolla~master~I75981c9691bddcccda6126aa9f4a7fa7257e196e,openstack/kolla,master,collectd_packages,I75981c9691bddcccda6126aa9f4a7fa7257e196e,Additional packages to Dockefile,MERGED,2018-04-19 20:23:06.000000000,2018-04-26 11:15:37.000000000,2018-04-26 11:15:37.000000000,3,0,1,562821,9bde747dab92e04e4be37d1104446f2573a06ba5,15,6,2,1,10061,Joe Talerico,rook,"Additional packages to Dockefile

Adding the missing packages to the dockerfile

Change-Id: I75981c9691bddcccda6126aa9f4a7fa7257e196e
"
openstack%2Fsyntribos~master~Ibe9808fb50310d9bacdcce1f17146de73fcc5cf0,openstack/syntribos,master,,Ibe9808fb50310d9bacdcce1f17146de73fcc5cf0,TrivialFix: remove redundant import aliases,ABANDONED,2018-01-24 02:22:02.000000000,2018-04-26 11:12:24.000000000,,21,21,0,537217,2173f4daad1f7b4e67d72068985920e93b575aac,3,1,1,14,18320,Dao Cong Tien,TienDC,"TrivialFix: remove redundant import aliases

Change-Id: Ibe9808fb50310d9bacdcce1f17146de73fcc5cf0
"
openstack%2Fpython-glanceclient~master~I370e1fa12d6372d136f9aa9ffd708a8bb7d9797a,openstack/python-glanceclient,master,,I370e1fa12d6372d136f9aa9ffd708a8bb7d9797a,TrivialFix: remove redundant import alias,ABANDONED,2017-12-22 08:03:19.000000000,2018-04-26 11:12:15.000000000,,1,1,0,529805,2ccfeef5760c379786ffe0f383cc49a20f213426,4,2,1,1,18320,Dao Cong Tien,TienDC,"TrivialFix: remove redundant import alias

Change-Id: I370e1fa12d6372d136f9aa9ffd708a8bb7d9797a
"
openstack%2Fnova~master~I299bf846b658f2bb6903c898d7deac748f8d90e4,openstack/nova,master,bug/1766306,I299bf846b658f2bb6903c898d7deac748f8d90e4,Fix dropped check for boot_index 0 in _validate_bdm,MERGED,2018-04-23 18:35:49.000000000,2018-04-26 11:11:01.000000000,2018-04-26 01:53:04.000000000,18,3,3,563732,b9815c2331904a3749269289b861229796aa6c91,50,18,3,2,6873,Matt Riedemann,mriedem,"Fix dropped check for boot_index 0 in _validate_bdm

This reverts commit 7f4b49c9c97e06babf82f6846c804ad176cd4cde.

During refactor change I8a3e7e6c4b72eb1c3707d54049d18dc29f606fe5
the conditional that at least one BDM had to be the boot
device was inadvertantly dropped, presumably because there was
no test for that case.

The validation is added back here along with a test.

Change-Id: I299bf846b658f2bb6903c898d7deac748f8d90e4
Related-Bug: #1766306
"
openstack%2Fnova~master~I14d44dbc0b6a8fb25932c333e695cad9edaefbed,openstack/nova,master,bug/1766306,I14d44dbc0b6a8fb25932c333e695cad9edaefbed,api-ref: mark block_device_mapping_v2.boot_index as required,MERGED,2018-04-23 18:06:59.000000000,2018-04-26 11:10:50.000000000,2018-04-26 00:07:01.000000000,1,1,5,563728,048fa2310014e6282e183da0abee87c73b6d71b9,26,17,1,1,6873,Matt Riedemann,mriedem,"api-ref: mark block_device_mapping_v2.boot_index as required

This was marked optional in change If57aa3e37 but it has
only been optional since Queens due to change I8a3e7e6c4,
before that you will get a 400 error if you do not provide
boot_index in the BDMs, e.g.:

2018-04-23 12:34:13,308 INFO [nova.api.openstack.wsgi] \
   HTTP exception thrown: Block Device Mapping is Invalid: \
   Boot sequence for the instance and image/block device \
   mapping combination is not valid.
2018-04-23 12:34:13,310 INFO [nova.api.openstack.requestlog] \
   127.0.0.1 ""POST /v2.1/6f70656e737461636b20342065766572/servers""
   status: 400 len: 164 microversion: 2.1 time: 0.129485

One could argue that I8a3e7e6c4b72eb1c3707d54049d18dc29f606fe5
is a behavior change that should have gone with a microversion,
which if people agree with that, could be reverted separately.

Change-Id: I14d44dbc0b6a8fb25932c333e695cad9edaefbed
Closes-Bug: #1766306
"
openstack%2Fkolla~master~I8a3d212314891635509aeeb346998ace713feefa,openstack/kolla,master,564100,I8a3d212314891635509aeeb346998ace713feefa,Collapse down multiple yum install in openstack-base,MERGED,2018-04-25 05:09:49.000000000,2018-04-26 10:59:10.000000000,2018-04-26 10:59:10.000000000,6,10,7,564100,eb24764e73d7d7f00848e0784785430c110633fa,15,6,2,1,16282,YaZug,yazug,"Collapse down multiple yum install in openstack-base

For rhel/centos/oraclelinux there were 2 yum install
sections, collapse/folded the 3 packages from that section
into the other blocks in sorted order

Change-Id: I8a3d212314891635509aeeb346998ace713feefa
"
openstack%2Fneutron-lbaas~master~Ib0b837058c62cc2cc31f7833e3817a4d49886fa9,openstack/neutron-lbaas,master,rm-rpc-createconn,Ib0b837058c62cc2cc31f7833e3817a4d49886fa9,use rpc Connection rather than create_connection,MERGED,2018-04-12 20:04:34.000000000,2018-04-26 10:42:41.000000000,2018-04-26 10:42:41.000000000,1,1,0,561028,89aa592207b733839b1ed79b8d74437bf5252eb5,17,6,3,1,5367,boden,boden,"use rpc Connection rather than create_connection

The create_connection function in neutron.common.rpc is just an alias to
Connection. This patch switches to the later so we can remove the former
in: https://review.openstack.org/#/c/560130

Change-Id: Ib0b837058c62cc2cc31f7833e3817a4d49886fa9
"
openstack%2Fnova~master~Iff30e59ced63a94c5c3377317a2e2a502f96eb91,openstack/nova,master,bug/1764460,Iff30e59ced63a94c5c3377317a2e2a502f96eb91,libvirt: fix hard reboot issue with mdevs,MERGED,2018-04-25 15:37:04.000000000,2018-04-26 10:30:38.000000000,2018-04-26 10:08:29.000000000,21,1,7,564257,8941c79f0924413822b15824a298e081e345e616,26,14,3,2,7166,Sylvain Bauza,sbauza,"libvirt: fix hard reboot issue with mdevs

Sometimes, a Nova instance may not have an associated libvirt guest,
like if a live migration fails and the hypervisor on the source node
is in an inconsistent state.
The usual way to fix that is to hard reboot the instance, so the
virt driver recreates the guest.
Unfortunately, we introduced a regression in Queens with
Ie6c9108808a461359d717d8a9e9399c8a407bfe9 because we weren't
checking whether the guest was there or not.

This fix aims to catch the InstanceNotFound exception that's
raised and just tell there are no mediated devices attached to that
instance (given we can no longer know them).

Change-Id: Iff30e59ced63a94c5c3377317a2e2a502f96eb91
Closes-Bug: #1764460
"
openstack%2Fmonasca-log-api~master~I888cd07962ee2689143026aaf7dfce2196a65c8d,openstack/monasca-log-api,master,fixtest,I888cd07962ee2689143026aaf7dfce2196a65c8d,[WIP]Improve error handling when body is empty,ABANDONED,2018-04-20 13:47:12.000000000,2018-04-26 10:20:22.000000000,,7,0,3,563123,6dd2615fccf9f0c118518ef1662ba2226a963296,8,3,1,2,26141,Adrian Czarnecki,czarneckia,"[WIP]Improve error handling when body is empty

Change-Id: I888cd07962ee2689143026aaf7dfce2196a65c8d
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~I4ec165742b8667ffa8ee92f572bec7fe74bef1ed,openstack/tripleo-upgrade,stable/queens,552080,I4ec165742b8667ffa8ee92f572bec7fe74bef1ed,Add roles-data into overcloud upgrade prepare.,ABANDONED,2018-03-22 17:50:32.000000000,2018-04-26 10:14:50.000000000,,17,1,0,555389,555ee085c4cd380418db2e958280c9330ae2a10a,29,5,9,3,8297,Sofer Athlan-Guyot,chem,"Add roles-data into overcloud upgrade prepare.

The major upgrade command 'overcloud upgrade
prepare needs the roles data to be passed,
as otherwise it will try to obtain the
one from the swift container which is not
updated.

This patchs adds the option of passing it
as role variable, or look for it withing
oooq overcloud-deploy.sh script.

Change-Id: I4ec165742b8667ffa8ee92f572bec7fe74bef1ed
"
openstack%2Ftripleo-ui~master~Ic211ea8069ee1fd9582bc403b244dabb46818a54,openstack/tripleo-ui,master,docs-update-for-deps,Ic211ea8069ee1fd9582bc403b244dabb46818a54,Update docs with the new dependencies update process,MERGED,2018-04-12 09:51:59.000000000,2018-04-26 10:09:30.000000000,2018-04-26 10:09:30.000000000,21,19,2,560846,8718770dd70588626374af6da2e6cfa572d6ce9c,14,6,2,1,4978,Julie Pichon,jpichon,"Update docs with the new dependencies update process

Based on the thread at [1].

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-January/126412.html

Change-Id: Ic211ea8069ee1fd9582bc403b244dabb46818a54
"
openstack%2Fswift~feature%2Fdeep~Iada00e63f14238b67aaa818314fa6601eeec624e,openstack/swift,feature/deep,p-sharding-candidates-refactor,Iada00e63f14238b67aaa818314fa6601eeec624e,Refactor finding sharding and shrinking candidates,MERGED,2018-04-25 16:36:47.000000000,2018-04-26 10:08:27.000000000,2018-04-26 10:08:27.000000000,322,121,0,564277,fc58926e5eb2f08299a56968e4914b832bba6c7d,6,2,1,2,7847,Alistair Coles,acoles,"Refactor finding sharding and shrinking candidates

Refactor to provide module level functions for the finding
of sharding and shrinking candidates, so that these can be
used by other callers.

Add unit tests.

Change-Id: Iada00e63f14238b67aaa818314fa6601eeec624e
"
openstack%2Fmistral~master~Ib020550d0ec989ca382b738844a752ec9d02919a,openstack/mistral,master,fix/jinja_exception,Ib020550d0ec989ca382b738844a752ec9d02919a,Fixed Jinja error handling,MERGED,2018-04-21 13:26:39.000000000,2018-04-26 10:00:31.000000000,2018-04-25 12:51:53.000000000,173,61,7,563422,e1f105685a78e6397b63658fd41546a670b95f86,25,6,5,3,27008,Vitalii Solodilov,mcdoker18,"Fixed Jinja error handling

Before changes `cls._env.from_string(expression).render(**ctx)` can
raise exception, for example the variable doesn't exist. And this
exception is not handled.
Jinja error handling was moved to cover this case.

Change-Id: Ib020550d0ec989ca382b738844a752ec9d02919a
Closes-bug: #1743649
Signed-off-by: Vitalii Solodilov <mcdkr@yandex.ru>
"
openstack%2Fpuppet-tripleo~master~Iee1f3f8ca406005b2086a852d2432e569a6b296d,openstack/puppet-tripleo,master,,Iee1f3f8ca406005b2086a852d2432e569a6b296d,Removing conditions to enable Nuage VRS and Metadata Agent,MERGED,2018-04-10 02:53:40.000000000,2018-04-26 09:58:54.000000000,2018-04-26 09:58:54.000000000,6,20,0,559882,c31a624c667e9b6f50254ac01d679710aa361918,8,4,1,1,27069,Sai Ram Peesapati,sairamp,"Removing conditions to enable Nuage VRS and Metadata Agent

Removing the condtions for enabling Nuage VRS and
Metadata Agent on Overcloud nodes

Change-Id: Iee1f3f8ca406005b2086a852d2432e569a6b296d
"
openstack%2Ftripleo-image-elements~master~I429c0013802af3bcb80f9a623b8fce0a2e52bb64,openstack/tripleo-image-elements,master,remove-os-cloud-config,I429c0013802af3bcb80f9a623b8fce0a2e52bb64,remove os-cloud-config element,MERGED,2018-04-20 06:38:16.000000000,2018-04-26 09:58:52.000000000,2018-04-26 09:58:52.000000000,4,109,0,562947,08096ad00f98e286e7ecadba7e7e41d003217b82,18,9,2,12,10873,Juan Antonio Osorio Robles,ejuaoso,"remove os-cloud-config element

It's not being used anymore.

Change-Id: I429c0013802af3bcb80f9a623b8fce0a2e52bb64
"
openstack%2Ftripleo-heat-templates~master~I387386a0d7cf47fe11f24a68b9f2bb2ee2f0b7bd,openstack/tripleo-heat-templates,master,bug/1756346,I387386a0d7cf47fe11f24a68b9f2bb2ee2f0b7bd,Add validation on role names,MERGED,2018-03-16 14:13:44.000000000,2018-04-26 09:58:52.000000000,2018-04-26 09:58:52.000000000,16,4,4,553798,3b56c9e501def2e9690ddf722998409a4e1526c3,22,5,3,3,360,Dan Prince,dan-prince,"Add validation on role names

Also, fixes role templates that weren't passing this new validation.

Closes-bug: #1756346

Change-Id: I387386a0d7cf47fe11f24a68b9f2bb2ee2f0b7bd
"
openstack%2Fkolla-ansible~master~I8d3e56f2053c939ea313c60cc04c0ff79dd27d25,openstack/kolla-ansible,master,559333,I8d3e56f2053c939ea313c60cc04c0ff79dd27d25,Reduce the default values for Ceph pgs,MERGED,2018-04-25 11:36:23.000000000,2018-04-26 09:47:29.000000000,2018-04-26 09:47:29.000000000,35,4,0,564169,36f33f089bbda9bcc7e451b69413907cce8e3bb6,10,4,2,4,1390,Paul Bourke,pauldbourke,"Reduce the default values for Ceph pgs

Required to keep Ceph working once we move to Luminous 12.2.1

Change-Id: I8d3e56f2053c939ea313c60cc04c0ff79dd27d25
Closes-Bug: 1763356
"
openstack%2Fpython-tripleoclient~master~I412357bdc102cfe28cb1d4fe514a719bd8db5a15,openstack/python-tripleoclient,master,cloud/prepare,I412357bdc102cfe28cb1d4fe514a719bd8db5a15,Move test_container_image.py,MERGED,2018-04-24 00:10:48.000000000,2018-04-26 09:42:17.000000000,2018-04-26 09:42:17.000000000,0,0,0,563793,e0ed50885cbe3c695a0d6beccc1444bd0e7ad3e9,15,5,2,1,3153,Emilien Macchi,emilienm,"Move test_container_image.py

We would like to make container image code re-usable for any cloud:
undercloud, overcloud, or any cloud so this patch just move
test_container_image.py file from tests/v1/overcloud_image directory to
tripleoclient/tests/v1.

Depends-On: I0cf206e8ceeecfca17dd99a83b8c2eaa50e66712
Change-Id: I412357bdc102cfe28cb1d4fe514a719bd8db5a15
"
openstack%2Ftripleo-heat-templates~master~I03b8b5ee7a8bcb583a5e64f19ec6a5ab9a9bb771,openstack/tripleo-heat-templates,master,deployed-server-env,I03b8b5ee7a8bcb583a5e64f19ec6a5ab9a9bb771,Fix path to deployed-server-environment.yaml,MERGED,2018-04-24 20:39:49.000000000,2018-04-26 09:41:51.000000000,2018-04-26 09:41:51.000000000,1,1,0,564058,955d1da63d7e3cad5ab4689c5f7729afc6a4ca98,8,4,1,1,6928,Ben Nemec,bnemec,"Fix path to deployed-server-environment.yaml

It's in environments/ not deployed-server/

Change-Id: I03b8b5ee7a8bcb583a5e64f19ec6a5ab9a9bb771
"
openstack%2Ftripleo-ci~master~I70ac9bbe57d7078a1aa2eb8b07503efb8ba5bbfe,openstack/tripleo-ci,master,bug/1761810,I70ac9bbe57d7078a1aa2eb8b07503efb8ba5bbfe,Don't cleanup undercloud,MERGED,2018-04-23 21:42:50.000000000,2018-04-26 09:41:50.000000000,2018-04-26 09:41:50.000000000,2,0,1,563777,632cd8ee05d9218813a97c411ab7aaab7e5c0a12,25,6,5,2,14985,Alex Schultz,mwhahaha,"Don't cleanup undercloud

We'll be switching this to true by default, so we need to set the
undercloud clean option to False for CI.

Change-Id: I70ac9bbe57d7078a1aa2eb8b07503efb8ba5bbfe
Needed-By: I027a76d2f37a5af5bd0a599783287632298acf3f
Related-Bug: #1761810
"
openstack%2Foctavia~master~Iaf150240b0de32f75ba8cfe605293e3af086cc78,openstack/octavia,master,deleted-404,Iaf150240b0de32f75ba8cfe605293e3af086cc78,"Fix calls to ""DELETED"" items",MERGED,2018-02-17 00:11:18.000000000,2018-04-26 09:25:03.000000000,2018-04-26 01:50:55.000000000,426,174,0,545493,97c0eab91850701009e01693969e2a79de42201c,32,6,10,22,11628,Michael Johnson,johnsom,"Fix calls to ""DELETED"" items

Fixes the v2 API returning ""DELETED"" records until the amphora_expiry_age
timeout expired. The API will now immediately return a 404 HTTP status
code when deleted objects are requested. The API version has been raised
to v2.1 to reflect this change.

Change-Id: Iaf150240b0de32f75ba8cfe605293e3af086cc78
Story: 2001557
Task: 6501
"
openstack%2Fneutron~master~I2e024f04ceab10afb20b5a402f8ba8dfd50e753d,openstack/neutron,master,neutron-lib-update,I2e024f04ceab10afb20b5a402f8ba8dfd50e753d,eventlet v0.22 changed HttpProtocol.__init__,MERGED,2018-04-17 14:08:30.000000000,2018-04-26 09:07:04.000000000,2018-04-26 09:07:04.000000000,15,3,2,561953,2c31f7f35129cb2160592633e52083b412d6c2cd,36,8,6,1,333,Isaku Yamahata,yamahata,"eventlet v0.22 changed HttpProtocol.__init__

From eventlet v0.22, HttpProtocol.__init__ signature was changed
to take 4 argument to 3 argument.
The changeset of eventlet, 7f53465578543156e7251e243c0636e087a8445f,
https://github.com/eventlet/eventlet/issues/188
changed it.
So try the new signature for HttpProtocol.__init__ first, and then
fallback to the old signature for compatibility.

Change-Id: I2e024f04ceab10afb20b5a402f8ba8dfd50e753d
"
openstack%2Fceilometer~master~I55782951a4db49e544bfcf2d5db15c495e8bbf0b,openstack/ceilometer,master,zanata/translations,I55782951a4db49e544bfcf2d5db15c495e8bbf0b,Imported Translations from Zanata,MERGED,2018-04-26 07:21:30.000000000,2018-04-26 09:00:06.000000000,2018-04-26 09:00:06.000000000,25,2,0,564408,b83b8182afa71fb68c2e627b41669502ec3b5dff,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I55782951a4db49e544bfcf2d5db15c495e8bbf0b
"
openstack%2Fpython-mistralclient~master~I2573cb093e97ce378fc1d255d8b38e2ce818c8e5,openstack/python-mistralclient,master,bug/1754093,I2573cb093e97ce378fc1d255d8b38e2ce818c8e5,Do not let keystoneauth mask the errors,MERGED,2018-04-16 21:35:57.000000000,2018-04-26 08:59:31.000000000,2018-04-26 08:59:31.000000000,86,52,0,561732,3f0255f4162f7e049c2d67003b8c579e412ca512,26,6,5,5,15895,Adriano Petrich,apetrich,"Do not let keystoneauth mask the errors

Currently some mistral errors are masked in the cli with non helpful messages
like:
ERROR (app) Bad Request (HTTP 400)

That is due to ResourceManagers not using the standard underscore
methods defined in the base class. Those underscore methods have the
appropriate try catch to parse the unfriendly keystoneauth errors into
more cli friendly errors like:
ERROR (app) Invalid input [name=std.echo, class=mistral.actions.std_actions.EchoAction, missing=['output']]

This adds the try catch to the non standard methods and change the
action_execution.create to use the standard method

Change-Id: I2573cb093e97ce378fc1d255d8b38e2ce818c8e5
Closes-bug: #1754093
"
openstack%2Fkolla~master~I0fc119d5fd47c61648f936936337403554a9103e,openstack/kolla,master,,I0fc119d5fd47c61648f936936337403554a9103e,Add missing roles and role assignment to admin.,ABANDONED,2018-04-04 11:18:10.000000000,2018-04-26 08:48:30.000000000,,3,0,2,558781,5b8118aa19b4567a3a49b4ac8961bfe8e5083607,10,5,1,1,28014,Stamatis Katsaounis,skatsaounis,"Add missing roles and role assignment to admin.

Change-Id: I0fc119d5fd47c61648f936936337403554a9103e
Signed-off-by: Stamatis Katsaounis <mokats@intracom-telecom.com>
"
openstack%2Fmistral~master~Ic420aa0a90337378206332604facdcb898bf9619,openstack/mistral,master,bug/1757966,Ic420aa0a90337378206332604facdcb898bf9619,Make sure there are no duplicates in the spec cache w/o restarts,MERGED,2018-04-25 11:41:09.000000000,2018-04-26 08:45:14.000000000,2018-04-26 08:45:14.000000000,67,3,4,564173,56adb2ed65503377a20d44ea5a8ad18014d94751,15,6,4,2,8731,Renat Akhmerov,rakhmerov,"Make sure there are no duplicates in the spec cache w/o restarts

* In case if the same workflow definition is used multiple times
  for many executions (e.g. on-success clause has many tasks where
  each one of them calls the same subworkflow) then the corresponding
  cache entries for those executions should refer to the same
  workflow specification. Mistral shouldn't create a new spec and
  reuse the existing one that's already cached. Note this behavior
  is expected only when there aren't any workflow definition updates
  while creating executions and the engine hasn't restarted.
* Completing a docstring for one of the methods in parser.py

Change-Id: Ic420aa0a90337378206332604facdcb898bf9619
"
openstack%2Fneutron-vpnaas-dashboard~master~I4953f8ad8ee1d2fb83ab7491d1bf04f6ee64eec8,openstack/neutron-vpnaas-dashboard,master,zanata/translations,I4953f8ad8ee1d2fb83ab7491d1bf04f6ee64eec8,Imported Translations from Zanata,MERGED,2018-04-26 07:19:11.000000000,2018-04-26 08:39:47.000000000,2018-04-26 08:39:47.000000000,4,4,0,564406,6025f05296ccc70f6c09e52e85e6e465468fe652,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4953f8ad8ee1d2fb83ab7491d1bf04f6ee64eec8
"
openstack%2Fneutron-vpnaas-dashboard~master~Ieb4364d9c46f126d4fa797b42f7602fb73f33a0f,openstack/neutron-vpnaas-dashboard,master,django2-support,Ieb4364d9c46f126d4fa797b42f7602fb73f33a0f,Django 2.0 support,MERGED,2018-04-02 02:32:05.000000000,2018-04-26 08:39:47.000000000,2018-04-26 08:39:47.000000000,20,8,0,558145,d9fd377e29d3d59501e28c06ff76c9afb43d76de,7,2,1,7,841,Akihiro Motoki,amotoki,"Django 2.0 support

Replace django.core.urlresolves with django.urls

(In Django 2.0) The django.core.urlresolvers module is removed
in favor of its new location, django.urls.
It was depreacted in Django 1.10:
https://docs.djangoproject.com/en/2.0/releases/1.10/#id3

Add py35dj20 job to test Django 2.0 integration.
Also drops py27dj110 from tox.ini as horizon droped
Django 1.10 support in Rocky.

Change-Id: Ieb4364d9c46f126d4fa797b42f7602fb73f33a0f
"
openstack%2Ftripleo-ui~stable%2Fpike~I74e16fbef6d9fca1c79931676c07decb8c4f4378,openstack/tripleo-ui,stable/pike,zanata/translations,I74e16fbef6d9fca1c79931676c07decb8c4f4378,Imported Translations from Zanata,MERGED,2018-04-26 06:42:31.000000000,2018-04-26 08:30:36.000000000,2018-04-26 08:30:35.000000000,1,0,0,564400,0630617fc88f38fa4ab0a05bd9ae8c34cf8f3eee,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I74e16fbef6d9fca1c79931676c07decb8c4f4378
"
openstack%2Fheat-tempest-plugin~master~I05b309cd7dccac62183976290217cfe78edd4d48,openstack/heat-tempest-plugin,master,refactor_cooldown,I05b309cd7dccac62183976290217cfe78edd4d48,Check group metadata for autoscaling completion,MERGED,2018-02-07 03:55:51.000000000,2018-04-26 08:26:31.000000000,2018-04-26 08:26:31.000000000,4,4,0,541537,55c0f754c00be398033190a4128cf14fd4aa3c41,7,3,1,3,8833,Rabi Mishra,rabi,"Check group metadata for autoscaling completion

In f3eec740a8820ecf96561c9491672787c449469d we changed to set
group resource metadata rather than policy. Therefore we should
check that instead.

Change-Id: I05b309cd7dccac62183976290217cfe78edd4d48
"
openstack%2Fnetworking-ovn~master~I044ff699a2d198c4e582428a66476f64e756ba89,openstack/networking-ovn,master,centos,I044ff699a2d198c4e582428a66476f64e756ba89,Use CentOS 7 for the tempest ovs release job,MERGED,2018-04-12 09:00:55.000000000,2018-04-26 08:18:37.000000000,2018-04-26 08:18:37.000000000,8,7,3,560837,cb614a63aaf9a8ae586633dca5b5e048326f24d2,21,5,4,4,6773,Lucas Alvares Gomes,lucasagomes,"Use CentOS 7 for the tempest ovs release job

Right now all our tests are run on Ubuntu, this patch is changing the
current tempest ovs release job to use CentOS so we can diversify a
little and increase the covered of tests to other OSs as well.

Change-Id: I044ff699a2d198c4e582428a66476f64e756ba89
"
openstack%2Frally-openstack~master~Ib19c58b15229874a27187ab036dc982a1fd9d803,openstack/rally-openstack,master,cfg,Ib19c58b15229874a27187ab036dc982a1fd9d803,Load config options,MERGED,2018-04-25 13:02:56.000000000,2018-04-26 08:16:09.000000000,2018-04-26 08:16:09.000000000,32,6,0,564202,75ab0a28ea15354dbf9573e28e6a035e9f17efac,13,2,4,3,9545,Andrey Kurilin,akurilin,"Load config options

Rally < 0.12 loads only inner config options, so we need to load
rally-openstack options manually.
Hope, Rally 0.12 will fix the issue.

Change-Id: Ib19c58b15229874a27187ab036dc982a1fd9d803
"
openstack%2Fpython-neutronclient~master~I198e745fccff76184d9813805d1c1915aff5a273,openstack/python-neutronclient,master,bug/1762884,I198e745fccff76184d9813805d1c1915aff5a273,Set or unset port pair group failed,MERGED,2018-04-09 12:00:15.000000000,2018-04-26 08:12:04.000000000,2018-04-26 08:12:04.000000000,9,9,11,559716,2bff68649b4adcfb4a1b8bede5b0e312c846b4db,23,6,3,2,26972,chenyaguang,Cyg,"Set or unset port pair group failed

Set or unset port pair for port pair group failed
because the type of 'existing' is wrong

Change-Id: I198e745fccff76184d9813805d1c1915aff5a273
Closes-Bug: #1762884
"
openstack%2Ftripleo-heat-templates~master~Ia99b23f3ece61830954f73704e85a6efaa5f7428,openstack/tripleo-heat-templates,master,enable-heat,Ia99b23f3ece61830954f73704e85a6efaa5f7428,Enable heat-ui plugin for horizon by default,MERGED,2018-04-24 10:34:46.000000000,2018-04-26 08:10:34.000000000,2018-04-26 03:55:21.000000000,1,0,0,563880,e792b9972a92bf99df40d3d4469d9368fdc790bb,13,7,1,1,8648,Radomir Dopieralski,thesheep,"Enable heat-ui plugin for horizon by default

Since the orchestration tab was moved in Horizon into a plugin,
we have a regression if we don't enable that plugin by default.

Change-Id: Ia99b23f3ece61830954f73704e85a6efaa5f7428
"
openstack%2Fnetworking-ovn~master~I06b9c1ace5d9d28d0f00d23719e29a9197b74230,openstack/networking-ovn,master,enable-tempest-sample,I06b9c1ace5d9d28d0f00d23719e29a9197b74230,Enable neutron-tempest-plugin by default in the local.conf.sample,MERGED,2018-04-23 10:01:48.000000000,2018-04-26 08:07:53.000000000,2018-04-26 08:07:53.000000000,3,0,2,563558,b7548d21a95c523d5201b451f329212bb5b8dc39,13,5,1,1,6773,Lucas Alvares Gomes,lucasagomes,"Enable neutron-tempest-plugin by default in the local.conf.sample

One of the nicest things about running with DevStack is that tempest
gets automatically configured. Currently we do run tests from
neutron-tempest-plugin in gate but our .sample file was not enabling
those by default.

Change-Id: I06b9c1ace5d9d28d0f00d23719e29a9197b74230
"
openstack%2Fmagnum~stable%2Fqueens~Iacd964806a28b3ca6ba3e037c60060f0957d44aa,openstack/magnum,stable/queens,bug/1751978-stable/queens,Iacd964806a28b3ca6ba3e037c60060f0957d44aa,Add calico-node on k8s master node,MERGED,2018-04-25 20:26:44.000000000,2018-04-26 08:00:11.000000000,2018-04-26 08:00:11.000000000,156,36,0,564337,1e2774fc168b843c397380c412700ef545bd50cc,6,2,1,6,6484,Feilong Wang,flwang,"Add calico-node on k8s master node

By current design, pods under kube-system will run on minion nodes. And
given now we're not running kubelet on master node, so calico-node is
not running on k8s master node. As a result, kubectl proxy is not
working to access dashboard. And it's confirmed with calico team that
the calico-node container must be running on master node if user want
to use kubectl proxy, see [1]. So, the solution is enabling kubelet
on master but disallow the other pods scheduled on master with
taint/tolerations.

Besides, this patch includes another fix about running calico on
Fedora Atomic. Because Fedora Atomic is using NetworkManager, it
manipulates the routing table for interfaces in the default network
namespace where Calico veth pairs are anchored for connections to
containers. This can interfere with the Calico agent’s ability to
route correctly. Please see more information about this at [2].

[1] https://docs.projectcalico.org/v3.0/getting-started/kubernetes/
    installation/integration#about-the-calico-components
[2] https://docs.projectcalico.org/master/usage/troubleshooting/
    #configure-networkmanager

Closes-Bug: #1751978

Change-Id: Iacd964806a28b3ca6ba3e037c60060f0957d44aa
(cherry picked from commit 79c002ce7ac97c051c52d4e5aaf83353edd293fb)
"
openstack%2Fmagnum-ui~master~If64e991e7907ce9c404f9262a66dab9323501ca0,openstack/magnum-ui,master,zanata/translations,If64e991e7907ce9c404f9262a66dab9323501ca0,Imported Translations from Zanata,MERGED,2018-04-26 06:10:56.000000000,2018-04-26 07:54:26.000000000,2018-04-26 07:54:26.000000000,116,9,0,564392,b0deecc17659c83dee1ca50a94ab3e4723678a0f,6,2,1,3,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If64e991e7907ce9c404f9262a66dab9323501ca0
"
openstack%2Fsenlin-dashboard~master~I98cc65dc11ba6e5951fd7c9a1b18667c00a4f052,openstack/senlin-dashboard,master,zanata/translations,I98cc65dc11ba6e5951fd7c9a1b18667c00a4f052,Imported Translations from Zanata,MERGED,2018-04-26 06:11:05.000000000,2018-04-26 07:50:00.000000000,2018-04-26 07:50:00.000000000,4,4,0,564393,5f2d73ff53179a04def6f345852742fd35c8b5d1,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I98cc65dc11ba6e5951fd7c9a1b18667c00a4f052
"
openstack%2Fheat-agents~master~Ifeed1a8449dba7de6b853f02e832499f622d0faf,openstack/heat-agents,master,,Ifeed1a8449dba7de6b853f02e832499f622d0faf,Add new line between snippets.,ABANDONED,2018-04-25 07:38:51.000000000,2018-04-26 07:35:59.000000000,,1,1,0,564121,d1f02fb54f0120988092951bccd0d28f6cfaa89c,5,1,2,1,11090,Sergii Golovatiuk,holser,"Add new line between snippets.

This patch adds \n explicitely to merge them correcly instead of having '\n' in
every snippet.

Change-Id: Ifeed1a8449dba7de6b853f02e832499f622d0faf
"
openstack%2Fkuryr-kubernetes~master~If7862d537d5cd41f2d9700bd8cf849df33563466,openstack/kuryr-kubernetes,master,tls-proxy-secrets,If7862d537d5cd41f2d9700bd8cf849df33563466,Make secrets dependant on tls-proxy,ABANDONED,2018-04-02 15:17:31.000000000,2018-04-26 07:27:30.000000000,,11,5,2,558220,fa3f32ff20c4c869e3433543754ba201a8b3126e,15,4,4,2,14885,Daniel Mellado,daniel-mellado,"Make secrets dependant on tls-proxy

This commit makes the generation of the secrets dependant on tls-proxy
service being active. Otherwise, devstack deployment may fail due to the
lack of the proxy CA authority.

Change-Id: If7862d537d5cd41f2d9700bd8cf849df33563466
"
openstack%2Fkuryr-kubernetes~master~I0baf98c9186bd4e2e123d5098c994456c8e09be8,openstack/kuryr-kubernetes,master,enable_neutron_trunk,I0baf98c9186bd4e2e123d5098c994456c8e09be8,Add a flag for enabling trunk in neutron,ABANDONED,2017-07-17 13:00:29.000000000,2018-04-26 07:26:58.000000000,,10,0,0,484363,083687cc9504bd57dad90119daf07837ec6b782c,6,0,2,2,14885,Daniel Mellado,daniel-mellado,"Add a flag for enabling trunk in neutron

This commits adds a new flag in the kuryr kubernetes devstack plugin to enable
trunk port service plugin in neutron.

Change-Id: I0baf98c9186bd4e2e123d5098c994456c8e09be8
Partially-Implements: bp/functional-testing-catch-up
Signed-off-by: Daniel Mellado <dmellado@redhat.com>
"
openstack%2Fblazar~master~I7191b57faeb8961b5937630eacc0ef852cdd0850,openstack/blazar,master,bp/multi-freepools,I7191b57faeb8961b5937630eacc0ef852cdd0850,Handle availability zone info in compute host APIs,ABANDONED,2018-04-25 08:58:32.000000000,2018-04-26 07:11:20.000000000,,66,1,0,564139,d046376625f46542182ae26bc3ae169a3a7fa223,3,1,1,3,8878,Masahito Muroi,masa,"Handle availability zone info in compute host APIs

The create host API stores availability zone information into the
computehosts tables. The information comes from Nova's availability
zone API.

Cloud users can specify the availability zone information by following
query in the host reservation and the instance reservation.

- The host reservation
  hypervisor_properties=[""=="", ""$availability_zone"", ""zone1""]

- The instance reservation
  resource_properties=[""=="", ""$availability_zone"", ""zone1""]

The az_aware config is a flag to store the infomation or not.
If a cloud operator doesn't prefer to store the information, set the
flag to False.

Implements: blueprint multi-freepools
Change-Id: I7191b57faeb8961b5937630eacc0ef852cdd0850
"
openstack%2Foslo.privsep~master~I9b42f658d0d860483e90ae0a21876d552bf741b2,openstack/oslo.privsep,master,,I9b42f658d0d860483e90ae0a21876d552bf741b2,Replace assertRaisesRegexp with assertRaisesRegex,ABANDONED,2018-04-24 06:41:48.000000000,2018-04-26 07:06:34.000000000,,2,2,0,563836,99416b8ed4016e54ce83e39ebb79721257e7e91d,3,1,1,2,21486,wangqi,wangqi,"Replace assertRaisesRegexp with assertRaisesRegex

assertRaisesRegexp was renamed to assertRaisesRegex in Py3.2
For more details, please check:
https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaisesRegex

Change-Id: I9b42f658d0d860483e90ae0a21876d552bf741b2
"
openstack%2Fproject-config~master~I79320c4614a1896bc263c1e7582c50147024f986,openstack/project-config,master,ansible-docker-zuul,I79320c4614a1896bc263c1e7582c50147024f986,Configure ansible-role-container-registry zuul jobs,MERGED,2018-04-20 17:34:42.000000000,2018-04-26 06:39:15.000000000,2018-04-26 06:39:15.000000000,15,0,0,563200,ba9b263ae2fe87b02b4aa4e02fa8735d11a96cbe,13,5,3,1,3153,Emilien Macchi,emilienm,"Configure ansible-role-container-registry zuul jobs

Change-Id: I79320c4614a1896bc263c1e7582c50147024f986
"
openstack%2Fmonasca-ui~master~I937507e9a65dbf4cd3962c0910180464378aed00,openstack/monasca-ui,master,,I937507e9a65dbf4cd3962c0910180464378aed00,Change IntegerField to ChoiceField for notification period,MERGED,2018-04-17 11:24:46.000000000,2018-04-26 06:30:04.000000000,2018-04-24 12:41:00.000000000,10,12,0,561907,37ecb3ca6619f73541fb63b800315563bdb43624,10,4,1,1,16171,Lukasz Zajaczkowski,lukasz.zajaczkowski,"Change IntegerField to ChoiceField for notification period

Story: 2001506
Task: 6297

Change-Id: I937507e9a65dbf4cd3962c0910180464378aed00
"
openstack%2Fpython-dracclient~master~Icc0bd1f3ff6fcce44f14f031b6780f51e487c888,openstack/python-dracclient,master,,Icc0bd1f3ff6fcce44f14f031b6780f51e487c888,Replace assertRaisesRegexp with assertRaisesRegex,ABANDONED,2018-04-23 02:26:49.000000000,2018-04-26 06:25:36.000000000,,7,7,0,563487,02d713d765c5dc0671ab9c61a85c98d4a11fb433,8,3,2,3,21486,wangqi,wangqi,"Replace assertRaisesRegexp with assertRaisesRegex

assertRaisesRegexp was renamed to assertRaisesRegex in Py3.2
For more details, please check:
https://docs.python.org/3/library/
unittest.html#unittest.TestCase.assertRaisesRegex

Change-Id: Icc0bd1f3ff6fcce44f14f031b6780f51e487c888
"
openstack%2Fproject-config~master~Ie353a1e43c757c603d7eb72f7d139a71e8d787f3,openstack/project-config,master,project-yaml-normalization,Ie353a1e43c757c603d7eb72f7d139a71e8d787f3,Normalize projects.yaml,MERGED,2018-04-26 06:03:10.000000000,2018-04-26 06:19:05.000000000,2018-04-26 06:19:05.000000000,0,1,0,564389,c17cfd2d87422005049ad87254b8738feffc7884,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Normalize projects.yaml

Change-Id: Ie353a1e43c757c603d7eb72f7d139a71e8d787f3
"
openstack%2Fmistral~master~Idc0f0b054ef4eafe77b508f342343caffe43f432,openstack/mistral,master,remove-unused-param,Idc0f0b054ef4eafe77b508f342343caffe43f432,Remove unnecessary decorator and unused params.,ABANDONED,2018-04-25 07:28:01.000000000,2018-04-26 06:17:14.000000000,,83,164,0,564117,77955b8a0c9006ee9d5acb56d8837f99e3dc2de6,4,1,2,2,25167,Qi Peng,pengdake,"Remove unnecessary decorator and unused params.

Change-Id: Idc0f0b054ef4eafe77b508f342343caffe43f432
Signed-off-by: pengdake <19921207pq@gmail.com>
"
openstack%2Fheat~master~I97e1cf983db411c9c1cf8f507d92eead03067a93,openstack/heat,master,mox-removal,I97e1cf983db411c9c1cf8f507d92eead03067a93,Remove mox usage from test_stack_resources and tools,MERGED,2018-03-30 18:50:39.000000000,2018-04-26 06:14:40.000000000,2018-04-26 06:14:40.000000000,20,82,2,557984,1aef5da111159db36285e03f6c292de84a092f0a,17,4,4,2,12404,Rico Lin,rico.lin,"Remove mox usage from test_stack_resources and tools

Remove mox usage from test_stack_resources.
Also remove mox usage from `heat/tests/engine/tools.py`

goal: mox-removal

Change-Id: I97e1cf983db411c9c1cf8f507d92eead03067a93
"
openstack%2Fheat~master~I122ab7cdfad43ab792b69086ed41733b868a9b32,openstack/heat,master,mox-removal,I122ab7cdfad43ab792b69086ed41733b868a9b32,Remove mox usage from test_software_config,MERGED,2018-03-30 16:15:30.000000000,2018-04-26 06:14:15.000000000,2018-04-26 06:14:14.000000000,4,4,0,557957,0eb22d5c3b43515b14dfa006ad15938869cfbd91,14,4,3,1,12404,Rico Lin,rico.lin,"Remove mox usage from test_software_config

Change-Id: I122ab7cdfad43ab792b69086ed41733b868a9b32
goal: mox-removal
"
openstack%2Fheat~master~I53cc8591b8bc74fed2c609796421ef80b3c0ef56,openstack/heat,master,mox-removal,I53cc8591b8bc74fed2c609796421ef80b3c0ef56,Remove mox usage from test_engine_service,MERGED,2018-03-29 18:27:00.000000000,2018-04-26 06:12:41.000000000,2018-04-26 06:12:41.000000000,137,108,23,557793,1938ab02d8dbb9167f2243428bd7eac933868684,20,4,5,2,12404,Rico Lin,rico.lin,"Remove mox usage from test_engine_service

goal: remove_mox

Change-Id: I53cc8591b8bc74fed2c609796421ef80b3c0ef56
"
openstack%2Fnova~master~I6e0e243dbb1e1203dd31e820ea12dc7aaa227b64,openstack/nova,master,,I6e0e243dbb1e1203dd31e820ea12dc7aaa227b64,docs: link to volume multi-attach demo recording,MERGED,2018-04-23 18:49:44.000000000,2018-04-26 05:38:15.000000000,2018-04-24 19:50:11.000000000,3,0,0,563734,ef15a2dd15bf998ef2ee9f04f9d8987fc9aab898,16,12,1,1,6873,Matt Riedemann,mriedem,"docs: link to volume multi-attach demo recording

Since we have a recorded overview and demo for
volume multi-attach we should link to it from our
docs.

Change-Id: I6e0e243dbb1e1203dd31e820ea12dc7aaa227b64
"
openstack%2Fcinder~stable%2Focata~I547fb4bcdd4783225b8ca96d157c61ca3bcf4ef4,openstack/cinder,stable/ocata,bug/1758414,I547fb4bcdd4783225b8ca96d157c61ca3bcf4ef4,Reduce scope of the lock for image volume cache,MERGED,2018-04-12 12:51:09.000000000,2018-04-26 05:25:32.000000000,2018-04-25 17:43:43.000000000,114,4,0,560891,11697ddde34c613dd91203f45090750d481a18d4,28,17,1,2,21129,Alan Bishop,ASBishop,"Reduce scope of the lock for image volume cache

Refactor the code that creates a volume from a downloaded glance image
to minimize the scope of the lock that prevents multiple entries in the
volume image cache. Now the lock serializes only the portion of the
code that causes the cache entry to be created. Locking is minimized
when the volume is already cached, or when the volume won't be cached.

Closes-Bug: #1758414
Change-Id: I547fb4bcdd4783225b8ca96d157c61ca3bcf4ef4
(cherry picked from commit a351cd01c0bf937e82efc3e1256da479be24cfcf)
(cherry picked from commit bc05efc79aaedd06308f7f173df09fd6a23aa2b3)
(cherry picked from commit a98afbc53a6074e07eb476c8f113418be8a189a4)
Conflicts:
	cinder/tests/unit/volume/flows/test_create_volume_flow.py
	cinder/volume/flows/manager/create_volume.py
"
openstack%2Fvitrage-specs~master~I898e6d234f683ee90cc05687c0d893534cddb784,openstack/vitrage-specs,master,bp/add-check-component-for-real-time-inspection,I898e6d234f683ee90cc05687c0d893534cddb784,Add check component for real-time inspection,NEW,2018-04-16 05:02:15.000000000,2018-04-26 04:53:15.000000000,,251,0,50,561508,0aba38684e2ac12247e77464db6f1ca60d9383a3,20,4,7,1,26171,MinWookKim,MinWookKim,"Add check component for real-time inspection

We can add a check action to the action list panel and perform the
check action through the UI. This task allows us to check the
actual state of multiple entities (VM, Host) and perform multiple
checks through system commands, script execution. To do this,
Vitrage needs a component with a separate flow and Vitrage-API may
need to execute the request.

Change-Id: I898e6d234f683ee90cc05687c0d893534cddb784
Implements: blueprint add-check-component-for-real-time-inspection
"
openstack%2Foctavia~master~Idd65ff22c9ab1a0fee1e47c7b37f07174481a243,openstack/octavia,master,,Idd65ff22c9ab1a0fee1e47c7b37f07174481a243,Fix lower-constraints to actually match our reqs,MERGED,2018-04-21 07:29:04.000000000,2018-04-26 04:49:39.000000000,2018-04-26 04:49:39.000000000,51,49,0,563396,7293dd946064f0ecf7adec4da52b2d28a4949876,12,4,3,1,10273,Adam Harwell,rm_you,"Fix lower-constraints to actually match our reqs

Change-Id: Idd65ff22c9ab1a0fee1e47c7b37f07174481a243
"
openstack%2Ftripleo-common~master~Ib2d2ad4960ea34ec9e3fca1eeb322742341f7eb7,openstack/tripleo-common,master,bug/1749209,Ib2d2ad4960ea34ec9e3fca1eeb322742341f7eb7,Fix missing docker package in neutron L3 agent container,MERGED,2018-04-25 12:37:52.000000000,2018-04-26 03:55:20.000000000,2018-04-26 03:55:20.000000000,3,1,0,564191,86117a7ce86ac2a2f0ae74bd907abac292d4d751,9,6,1,1,6681,Brent Eagles,beagles,"Fix missing docker package in neutron L3 agent container

We need to use the append macro to add the docker package to the L3 agent
container.

Note: the dhcp image should really be doing the same thing, but requires
a change to the kolla repo and will be addressed in follow-up patches.
(See https://bugs.launchpad.net/kolla/+bug/1766863)

Change-Id: Ib2d2ad4960ea34ec9e3fca1eeb322742341f7eb7
Related-Bug: #1749209
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I5cf028d9424a253f8b5d66d818a091508b9486d7,openstack/tripleo-heat-templates,stable/pike,bug/1766178-stable/pike,I5cf028d9424a253f8b5d66d818a091508b9486d7,Added missing pki volume for custom CA.,MERGED,2018-04-25 05:54:20.000000000,2018-04-26 03:55:19.000000000,2018-04-26 03:55:19.000000000,1,0,0,564107,637f9972a70b9fed3dd6cf15f120340f450bf59f,11,6,1,1,26828,cjeanneret - deactivated,Tengu,"Added missing pki volume for custom CA.

Some services want the CA to be in the anchors directory. Just mount it
everywhere.

Change-Id: I5cf028d9424a253f8b5d66d818a091508b9486d7
Closes-Bug: #1766178
(cherry picked from commit 3637f0325fa9aea4a511d8f73ece4cb88a30f9f7)
"
openstack%2Ftripleo-common~stable%2Fqueens~I31db903787feded6acecd67dc98ef10b6bf26ea8,openstack/tripleo-common,stable/queens,510884-stable/queens,I31db903787feded6acecd67dc98ef10b6bf26ea8,Fix parameter indentation on Swift rebalance playbook,MERGED,2018-04-11 09:47:17.000000000,2018-04-26 03:55:18.000000000,2018-04-26 03:55:18.000000000,2,2,0,560337,c7d57df3bcb3b6e1277f2a3f6eb96f8acc1ea312,17,7,1,1,6968,Christian Schwede,cschwede,"Fix parameter indentation on Swift rebalance playbook

Unfortunately I messed up the indentation during a rebase.

Related-Bug: 1759311
Change-Id: I31db903787feded6acecd67dc98ef10b6bf26ea8
(cherry picked from commit 1787014691a97e9937977ba373fe0e1e4e2ab3fb)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I20bfd46c1db41e2d2ebd3f810591cabf27f2e664,openstack/tripleo-heat-templates,stable/queens,bug/1766502,I20bfd46c1db41e2d2ebd3f810591cabf27f2e664,Do not pass ceph_release to ceph-ansible,MERGED,2018-04-25 05:25:14.000000000,2018-04-26 03:55:17.000000000,2018-04-26 03:55:17.000000000,0,1,0,564101,5f60a0e5a16f47dcd52b0b894a20cbac63e786dc,8,4,1,1,6796,Giulio Fidente,gfidente,"Do not pass ceph_release to ceph-ansible

Hardcoding the Ceph version to use in the templates causes issues in
some generic tasks during upgrade, when the cluster has nodes in
mixed state.

Closes-Bug: 1766502
Change-Id: I20bfd46c1db41e2d2ebd3f810591cabf27f2e664
(cherry picked from commit 29052930974e0947ee7551ac00bf65c00ac80a20)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I5cf028d9424a253f8b5d66d818a091508b9486d7,openstack/tripleo-heat-templates,stable/queens,bug/1766178-stable/queens,I5cf028d9424a253f8b5d66d818a091508b9486d7,Added missing pki volume for custom CA.,MERGED,2018-04-25 05:44:18.000000000,2018-04-26 03:55:16.000000000,2018-04-26 03:55:16.000000000,1,0,0,564105,a4db817ab6cb3b3ec96daa81af0a3f1d14da7a3b,12,6,1,1,26828,cjeanneret - deactivated,Tengu,"Added missing pki volume for custom CA.

Some services want the CA to be in the anchors directory. Just mount it
everywhere.

Change-Id: I5cf028d9424a253f8b5d66d818a091508b9486d7
Closes-Bug: #1766178
(cherry picked from commit 3637f0325fa9aea4a511d8f73ece4cb88a30f9f7)
"
openstack%2Ftripleo-quickstart-extras~master~I891b85bea7db931f9924a124b07bd340f1e4bdb8,openstack/tripleo-quickstart-extras,master,fix_newton,I891b85bea7db931f9924a124b07bd340f1e4bdb8,Fix config_tempest.py args for Newton,MERGED,2018-04-25 11:31:51.000000000,2018-04-26 03:55:15.000000000,2018-04-26 03:55:15.000000000,1,1,0,564167,e754119d3a36aa110cc9d140f26513472a8c5c87,12,10,1,1,12393,chandan kumar,chkumar246,"Fix config_tempest.py args for Newton

* For newton, we need to pass identity.uri admin password and
  username. It got removed somehow while refactoring, We need
  to fix by fixing the condition.

Change-Id: I891b85bea7db931f9924a124b07bd340f1e4bdb8
"
openstack%2Ftripleo-common~master~I5e0318e1da9a48a2dc6dcd6d8eb726c6f85e7d45,openstack/tripleo-common,master,bug/1766375,I5e0318e1da9a48a2dc6dcd6d8eb726c6f85e7d45,Fix nova-placement healthcheck,MERGED,2018-04-23 23:25:14.000000000,2018-04-26 03:55:14.000000000,2018-04-26 03:55:14.000000000,1,1,0,563791,94886c3b1f4a95798b2ce2a4e0035be902137e89,17,5,2,1,14985,Alex Schultz,mwhahaha,"Fix nova-placement healthcheck

The correct url to check for the placement api service includes
/placement/.

Depends-On: I0cf206e8ceeecfca17dd99a83b8c2eaa50e66712
Change-Id: I5e0318e1da9a48a2dc6dcd6d8eb726c6f85e7d45
Closes-Bug: #1766375
"
openstack%2Ftripleo-quickstart~master~Icdf6f33669400098408a705f39d219c680aa7456,openstack/tripleo-quickstart,master,secret-management,Icdf6f33669400098408a705f39d219c680aa7456,Enable Swift encryption for the undercloud-containers job,MERGED,2018-04-17 13:29:06.000000000,2018-04-26 03:55:13.000000000,2018-04-26 03:55:13.000000000,1,0,0,561942,9a6ef3c27ca5a189cdb62ef2459907002c303ab4,24,11,1,1,10873,Juan Antonio Osorio Robles,ejuaoso,"Enable Swift encryption for the undercloud-containers job

This enables Swift encryption in the containerized undercloud, which
should in turn encrypt the overcloud plan (or anything that's stored in
swift for that matter).

Change-Id: Icdf6f33669400098408a705f39d219c680aa7456
Depends-On: I16902b7a96cc1f0fb8c4fea893d9e3fa8cc171c4
"
openstack%2Ftripleo-quickstart-extras~master~I16902b7a96cc1f0fb8c4fea893d9e3fa8cc171c4,openstack/tripleo-quickstart-extras,master,secret-management,I16902b7a96cc1f0fb8c4fea893d9e3fa8cc171c4,Expose the undercloud's enable_swift_encryption option,MERGED,2018-04-17 13:28:54.000000000,2018-04-26 03:55:12.000000000,2018-04-26 03:55:12.000000000,4,0,0,561941,52f1e7609fd3465cbd43340110aca09e05094d94,76,12,2,2,10873,Juan Antonio Osorio Robles,ejuaoso,"Expose the undercloud's enable_swift_encryption option

This option enables Swift encryption for the containerized undercloud
and is disabled by default, such as in the option's default.

Change-Id: I16902b7a96cc1f0fb8c4fea893d9e3fa8cc171c4
Depends-On: I7826cc00023e2d24865d752d4c9bbb3cc4c8614f
"
openstack%2Fswift~feature%2Fdeep~Ifc358672ebd82b93ac6f5afa3f1f5dce9af9706e,openstack/swift,feature/deep,,Ifc358672ebd82b93ac6f5afa3f1f5dce9af9706e,make sharding 100x faster,MERGED,2018-04-26 00:36:54.000000000,2018-04-26 03:54:07.000000000,2018-04-26 03:54:07.000000000,2,0,0,564374,867757aaa0e0384fe24d7805e89a6f1ec3bb1fb4,8,4,1,1,1179,Clay Gerrard,clay-gerrard,"make sharding 100x faster

... by *using* the (name, deleted) index

Change-Id: Ifc358672ebd82b93ac6f5afa3f1f5dce9af9706e
"
openstack%2Fxstatic-json2yaml~master~Ib49a63b7aa73970dfb2dfe82c9892693a4f77181,openstack/xstatic-json2yaml,master,,Ib49a63b7aa73970dfb2dfe82c9892693a4f77181,Update contents same as upstream,MERGED,2018-04-09 07:33:41.000000000,2018-04-26 03:26:19.000000000,2018-04-26 03:26:19.000000000,14,7,0,559650,84f91b0bcf9621eba0abdbd4f2031a52616233b4,11,3,3,3,19224,Xinni Ge,irisayame,"Update contents same as upstream

1. update file contents
2. update to version 0.1.1
3. correct license info as MIT

Change-Id: Ib49a63b7aa73970dfb2dfe82c9892693a4f77181
"
openstack%2Fxstatic-filesaver~master~Ic269113b135db0739be72fa6857eae7c37f0159b,openstack/xstatic-filesaver,master,update-to-upstream,Ic269113b135db0739be72fa6857eae7c37f0159b,Update to upstream,MERGED,2018-04-09 07:16:56.000000000,2018-04-26 03:25:28.000000000,2018-04-26 03:25:28.000000000,3,3,0,559645,d767a5148683dd9c8be9b1576d36c0b593054b3a,8,3,1,1,19224,Xinni Ge,irisayame,"Update to upstream

Update current file content to keep consistency
with upstream file.

Change-Id: Ic269113b135db0739be72fa6857eae7c37f0159b
"
openstack%2Fblazar-dashboard~master~I9961a5fffbb2078f233475cca9a48e2656285588,openstack/blazar-dashboard,master,bp/mox-removal,I9961a5fffbb2078f233475cca9a48e2656285588,Remove mox usage from hosts panel tests,ABANDONED,2018-03-22 08:42:12.000000000,2018-04-26 02:58:20.000000000,,94,90,2,555198,f55bb348fa88c8429174b6dca8ae2c421cb56d3b,15,4,5,1,23840,Hiroaki Kobayashi,hiro-kobayashi,"Remove mox usage from hosts panel tests

Partially Implements: blueprint mox-removal

Change-Id: I9961a5fffbb2078f233475cca9a48e2656285588
"
openstack%2Foctavia~master~I66a5df575583b0545fb00bc1170ad8064d2963aa,openstack/octavia,master,,I66a5df575583b0545fb00bc1170ad8064d2963aa,Fix keepalived vrrp check script to be in PATH,MERGED,2018-04-25 23:49:45.000000000,2018-04-26 02:52:07.000000000,2018-04-26 02:52:07.000000000,3,0,0,564371,aa1b32df541b8f478754f14dce04246c1d25e934,7,3,1,1,10273,Adam Harwell,rm_you,"Fix keepalived vrrp check script to be in PATH

ACTIVE_STANDBY is currently broken because keepalived can't access the
main check script.

Change-Id: I66a5df575583b0545fb00bc1170ad8064d2963aa
"
