id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fpython-tripleoclient~master~If922ae27db427e79a26964267945f5518fe8f120,openstack/python-tripleoclient,master,ansible-facts,If922ae27db427e79a26964267945f5518fe8f120,Add environment variables for better var handling,MERGED,2021-02-18 23:31:38.000000000,2021-03-03 14:17:13.000000000,2021-03-03 05:36:33.000000000,5,0,1,776558,5dad0c3576ecf3ac36674bd84a83094e55795c5c,35,4,6,1,7353,Kevin Carter,cloudnull,"Add environment variables for better var handling

This change introduces two new environment variables into the tripleoclient
ansible runner funtion. These variables will ensure that var handling is
done in the most performant way possible without requiring the user to
make changes to their host level configuration.

Assosiated bug: https://github.com/ansible/ansible/issues/73653
Depends-On: https://review.opendev.org/c/openstack/ansible-role-chrony/+/776808
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708
Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/776971
Related-Bug: #1915761
Signed-off-by: Kevin Carter <kecarter@redhat.com>
Change-Id: If922ae27db427e79a26964267945f5518fe8f120
"
openstack%2Freleases~master~I59e4adaf19095ec0569bf86ddf1e4b99f440dda2,openstack/releases,master,fix-doc,I59e4adaf19095ec0569bf86ddf1e4b99f440dda2,Adapt the documentation to use process_auto_release,MERGED,2021-03-01 10:22:17.000000000,2021-03-03 13:54:55.000000000,2021-03-03 13:54:55.000000000,7,1,1,777973,fc503ba631d44914f58940a93620f68587f15485,7,3,1,1,28522,Hervé Beraud,hberaud,"Adapt the documentation to use process_auto_release

The doc is outdated and `list_library_unreleased_changes.sh` produce a
list of changes that can't be consumed directly by `process_auto_release`.

`list_library_unreleased_changes` should be updated to only provide
pojects name. `process_auto_release` already provide list of diff so we
don't need to duplicate that.

Also fixing a wrong command name.

Change-Id: I59e4adaf19095ec0569bf86ddf1e4b99f440dda2
"
openstack%2Fpuppet-openstack-integration~master~I7ee221be2a01b0e8b22b51902a81fe29bb624db3,openstack/puppet-openstack-integration,master,,I7ee221be2a01b0e8b22b51902a81fe29bb624db3,Update the cirros version to 0.5.1,MERGED,2021-03-02 10:55:33.000000000,2021-03-03 13:54:25.000000000,2021-03-03 13:54:25.000000000,7,7,0,778164,90671b2e0b05ea908a375c5bdb271afb55014870,11,7,2,3,16312,Alfredo Moralejo,amoralej,"Update the cirros version to 0.5.1

We are hitting random timeout issues when intances trying to get
metadata. This version includes a fix for this [1].

[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129

Change-Id: I7ee221be2a01b0e8b22b51902a81fe29bb624db3
"
openstack%2Fkuryr-kubernetes~master~I3288d849d1ad427b837cda2e07a8c971237cb303,openstack/kuryr-kubernetes,master,bug/1917557,I3288d849d1ad427b837cda2e07a8c971237cb303,Fix Subnet retrival when creating Service without Selector,MERGED,2021-03-03 03:18:48.000000000,2021-03-03 13:47:42.000000000,2021-03-03 13:44:54.000000000,1,1,0,778355,cc800ae1fc35d4de7dfea1a8aa7e1986d8cf9a51,9,4,1,1,27032,Maysa de Macedo Souza,maysa,"Fix Subnet retrival when creating Service without Selector

When retrieving a Subnet for creating the LB member with OVN
for a SVC without selector, only the subnet is retrieved
when it should be the subnet and the cidr, as it's needed
to verify whether the member ip is present on the cidr.
This commit fixes the issue by calling the correct method.

Change-Id: I3288d849d1ad427b837cda2e07a8c971237cb303
Closes-bug: 1917557
"
openstack%2Fcharm-keystone~master~Ie59209ea8be926c6ddf89fb87e24f938709e44ff,openstack/charm-keystone,master,hirsute-metadata,Ie59209ea8be926c6ddf89fb87e24f938709e44ff,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:57:01.000000000,2021-03-03 13:44:50.000000000,2021-03-03 10:51:18.000000000,1,1,0,778291,2e8d6abcef7335592ab51cb92a083c70a87399f7,8,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ie59209ea8be926c6ddf89fb87e24f938709e44ff
"
openstack%2Fironic~master~I29c2ea987464b5b210808d9ca806292b8ab2ddf4,openstack/ironic,master,secure-rbac,I29c2ea987464b5b210808d9ca806292b8ab2ddf4,Initial Project scoped tests,MERGED,2021-01-25 22:56:52.000000000,2021-03-03 13:41:58.000000000,2021-03-01 16:17:23.000000000,2436,0,5,772451,df69b7d147dc9d69d36c392c5df89760ec4897e3,41,3,11,2,11655,Julia Kreger,jkreger,"Initial Project scoped tests

This patch proposes initial tests to perform validations in relation
to supporting project scope access in a deployment where system scope
is also delineated.

For now, these tests have been disabled with the exception of tests
whose scopes are unexpected to see project scope support.

* conductors
* drivers
* chassis
* deploy_templates

Change-Id: I29c2ea987464b5b210808d9ca806292b8ab2ddf4
"
openstack%2Felection~master~I78b7873a11824e6110f022d40d3b5e7d336a520f,openstack/election,master,,I78b7873a11824e6110f022d40d3b5e7d336a520f,Add Artem Goncharov candidacy for OpenStackSDK PTL for X,MERGED,2021-03-03 10:36:44.000000000,2021-03-03 13:35:22.000000000,2021-03-03 13:33:10.000000000,14,0,0,778405,019aed1ba2427f197afda541cb3944610564d2d2,8,3,1,1,27900,Artem Goncharov,gtema,"Add Artem Goncharov candidacy for OpenStackSDK PTL for X

Change-Id: I78b7873a11824e6110f022d40d3b5e7d336a520f
"
openstack%2Freleases~master~Id73da4b9db2ed57c06ebf9d541f8baee5b5003d4,openstack/releases,master,wallaby-lib-freeze,Id73da4b9db2ed57c06ebf9d541f8baee5b5003d4,Release final castellan for Wallaby,MERGED,2021-03-01 09:33:15.000000000,2021-03-03 13:29:07.000000000,2021-03-03 13:29:07.000000000,4,0,0,777944,8a463237edf14978dd1a6c9d52ad9cfe5089d64a,8,3,1,1,28522,Hervé Beraud,hberaud,"Release final castellan for Wallaby

This proposed a release for castellan to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 3.7.0..35f1a20
35f1a20 Fix assertion typo in barbican key manager unit test
f638cdf Dropping lower constraints testing
4a4544b Don't expect barbican service name to be barbican.
47b1733 Use py3 as the default runtime for tox

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Id73da4b9db2ed57c06ebf9d541f8baee5b5003d4
"
openstack%2Freleases~master~Idbec8dc7663db40f3cda029e5b588071edc83f3b,openstack/releases,master,wallaby-lib-freeze,Idbec8dc7663db40f3cda029e5b588071edc83f3b,Release final oslo.config for Wallaby,MERGED,2021-03-01 09:45:26.000000000,2021-03-03 13:28:53.000000000,2021-03-03 13:28:53.000000000,4,0,0,777956,2bff8c76a792e77fe75da898fa5eef6bcdf7c4c3,8,3,1,1,28522,Hervé Beraud,hberaud,"Release final oslo.config for Wallaby

This proposed a release for oslo.config to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 8.4.0..cfa2564
cfa2564 Bump minimum version for PyYAML to 5.1
50723fa remove lower-constraints.txt
05b6a33 inherit from object is not required for py3
401dcd9 Move zuul config file to root folder
cefa4d4 Dropping lower constraints testing
f1f8730 Remove Babel from lower-constraints.txt

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Idbec8dc7663db40f3cda029e5b588071edc83f3b
"
openstack%2Freleases~master~I4bca5c0ae21428d83dcd156d05bcd49b22f2f631,openstack/releases,master,wallaby-lib-freeze,I4bca5c0ae21428d83dcd156d05bcd49b22f2f631,Release final oslo.context for Wallaby,MERGED,2021-03-01 09:46:14.000000000,2021-03-03 13:28:49.000000000,2021-03-03 13:28:49.000000000,5,0,0,777957,7c596e20c9b36849e6cb26da9413c5c42ba707a3,8,3,1,1,28522,Hervé Beraud,hberaud,"Release final oslo.context for Wallaby

This proposed a release for oslo.context to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 3.1.1..0d02866
0d02866 Switch to collections.abc.MutableMapping
3542bea Dropping lower constraints testing
b6a92c9 Add Python3 wallaby unit tests
747e723 Update master for stable/victoria
3b6da99 Adding pre-commit

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I4bca5c0ae21428d83dcd156d05bcd49b22f2f631
"
openstack%2Freleases~master~Ie8f69661863e9d42aa0f386cff751806b653f70e,openstack/releases,master,wallaby-lib-freeze,Ie8f69661863e9d42aa0f386cff751806b653f70e,Release final oslo.policy for Wallaby,MERGED,2021-03-01 09:47:00.000000000,2021-03-03 13:28:44.000000000,2021-03-03 13:28:44.000000000,4,0,0,777958,ea0f71600d4034b0439638f42d84a1a2a4a092f9,8,3,1,1,28522,Hervé Beraud,hberaud,"Release final oslo.policy for Wallaby

This proposed a release for oslo.policy to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 3.6.2..d853485
d853485 trivial: Tweak docstrings
45249db Make 'Rule' attributes read-only
d933ca8 Don't modify 'Rule.check'
d57dd1a Add nova/neutron project unit/functional tests job in gate
16840b6 Add documentation parameters for DeprecatedRule
3e2025b tests: Unset requests-related environment variables
ca3e551 remove unicode from code

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ie8f69661863e9d42aa0f386cff751806b653f70e
"
openstack%2Fos-brick~stable%2Ftrain~I9a1746658474c0f1be7ec29a36767085aaf2ab7f,openstack/os-brick,stable/train,,I9a1746658474c0f1be7ec29a36767085aaf2ab7f,Improve error handling on target query,MERGED,2021-02-24 15:34:30.000000000,2021-03-03 13:23:43.000000000,2021-03-03 12:15:07.000000000,19,1,0,777406,49e4b2146e2eb866ec17b578db44cf3ea9285090,34,4,1,2,10459,Luigi Toscano,ltoscano,"Improve error handling on target query

The command 'iscsiadm -m node' will return entries for corrupt targets
in the form '[]:port,-1' instead of the expected format.  This causes an
IndexError exception during parsing.  This patch skips invalid entries.

Closes-bug: #1886855
Change-Id: I9a1746658474c0f1be7ec29a36767085aaf2ab7f
(cherry picked from commit 4fabe1b33d497b5f017f07b4b5d7fce0c0eabd00)
(cherry picked from commit 958e4f5fb8ec788fe92eff67eeb3adf0ab7b06a8)
(cherry picked from commit 897dbdb9a1b0e87fe6c81219c4bee4ffd2585e7b)
"
openstack%2Freleases~master~I58200d7b12c3a3cda7166da965619016d97f71ea,openstack/releases,master,,I58200d7b12c3a3cda7166da965619016d97f71ea,[manila][xena] Add project tracking schedule,MERGED,2021-03-01 22:18:55.000000000,2021-03-03 13:23:17.000000000,2021-03-03 13:23:17.000000000,33,0,0,778082,1dbd165d632dfae1f85939fcc6e188a7adba19ad,8,4,1,2,30002,Douglas Viroel,dviroel,"[manila][xena] Add project tracking schedule

Add code and spec submission deadlines that the manila
project maintainers adhere to.

Change-Id: I58200d7b12c3a3cda7166da965619016d97f71ea
Signed-off-by: Douglas Viroel <viroel@gmail.com>
"
openstack%2Ftripleo-ansible~master~Ieac6b0603303db3889a242f7f568a591714a9b49,openstack/tripleo-ansible,master,,Ieac6b0603303db3889a242f7f568a591714a9b49,Allow Ansible 2.10 to be used in test,ABANDONED,2020-11-03 20:51:41.000000000,2021-03-03 13:10:09.000000000,,253,127,3,761225,542f1e192d9a9f293b4dc6bac2830128215c7bf3,25,5,5,38,7353,Kevin Carter,cloudnull,"Allow Ansible 2.10 to be used in test

The following changes allow us to use ansible 2.10 in test for all
roles, modules, and automation.

Change-Id: Ieac6b0603303db3889a242f7f568a591714a9b49
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fmonasca-api~stable%2Fussuri~I002d936941e4784566d83173d55023dfd5fba282,openstack/monasca-api,stable/ussuri,update-lower-constraints-stable/victoria-stable/ussuri,I002d936941e4784566d83173d55023dfd5fba282,Align lower-constraints for new pip,MERGED,2021-03-01 23:34:36.000000000,2021-03-03 12:57:27.000000000,2021-03-03 12:55:23.000000000,7,7,0,778097,ba45906ee8f43cd89d03abdd8a6f6c1ff116700c,14,3,3,2,26141,Adrian Czarnecki,czarneckia,"Align lower-constraints for new pip

Bump a series of lower-constraints and requirements to work with new pip
resolver, testing with steps outlined at [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html

Change-Id: I002d936941e4784566d83173d55023dfd5fba282
(cherry picked from commit ceac157b626c7896dab94626ac4cd94cc0772468)
"
openstack%2Fvalidations-common~master~Ide2db5e6bc0443ed52a884024753e4123090947f,openstack/validations-common,master,unittests/validationstdout,Ide2db5e6bc0443ed52a884024753e4123090947f,Simple tests for validation_stdout callback.,MERGED,2021-02-03 16:40:27.000000000,2021-03-03 12:49:02.000000000,2021-03-03 12:49:02.000000000,162,1,1,773945,8ad5cf356a6f98835c6e1f046d6e04f5c5ec43f6,10,6,1,1,32926,Jiri Podivin,jpodivin,"Simple tests for validation_stdout callback.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ide2db5e6bc0443ed52a884024753e4123090947f
"
openstack%2Fvalidations-common~master~I20168a995086568c784b8d5437c29dd3ebfef498,openstack/validations-common,master,unittests/failifnohosts,I20168a995086568c784b8d5437c29dd3ebfef498,Simple tests for fail_if_no_hosts callback.,MERGED,2021-02-02 16:03:01.000000000,2021-03-03 12:48:46.000000000,2021-03-03 12:48:46.000000000,60,1,6,773717,273f41f4719632ca5e52c71c6da6b4c24fdd7a5e,16,6,4,1,32926,Jiri Podivin,jpodivin,"Simple tests for fail_if_no_hosts callback.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I20168a995086568c784b8d5437c29dd3ebfef498
"
openstack%2Fvalidations-common~master~Ie7b8389d386ff1a2533418a63888f43a899bb31c,openstack/validations-common,master,callbacks/unittests,Ie7b8389d386ff1a2533418a63888f43a899bb31c,Infrastructure for callback unit tests,MERGED,2021-02-02 10:44:30.000000000,2021-03-03 12:48:42.000000000,2021-03-03 12:48:42.000000000,132,0,0,773632,88751f338955b0e82541835b48ad930be70b2816,7,6,1,5,32926,Jiri Podivin,jpodivin,"Infrastructure for callback unit tests

Eventually all of these are going to fill up with test cases.
Right now they merely demarcate boundaries of future testing.

Under ideal circumstances, every new callback review should be accompanied
by a tied review for test coverage.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie7b8389d386ff1a2533418a63888f43a899bb31c
"
openstack%2Fos-refresh-config~stable%2Fstein~Ic267a3553957e5d8226ecd069f18215852912298,openstack/os-refresh-config,stable/stein,tripleo-ci-reduce,Ic267a3553957e5d8226ecd069f18215852912298,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-25 16:52:45.000000000,2021-03-03 12:48:38.000000000,2021-03-03 12:48:38.000000000,0,1,0,777622,81ef3b5fd6faa445c97f5c26abeaef24f016916e,19,6,3,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Ic267a3553957e5d8226ecd069f18215852912298
"
openstack%2Fvalidations-common~master~I0182127fb11cdc49cc82e05367f272ee813d2647,openstack/validations-common,master,cli/helpimprovement,I0182127fb11cdc49cc82e05367f272ee813d2647,cli help rework and cleanup,MERGED,2021-02-23 16:03:23.000000000,2021-03-03 12:47:47.000000000,2021-03-03 12:47:47.000000000,42,19,5,777156,3b06d8868aed7204a0917f4ed0021bdb5f9488e4,16,6,3,1,32926,Jiri Podivin,jpodivin,"cli help rework and cleanup

Fixes several typos, expands help for positional arguments,
prints out default values of optional arguments
and changes help formatter to allow more control over output.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I0182127fb11cdc49cc82e05367f272ee813d2647
"
openstack%2Ftripleo-validations~master~I7b5da62a564c22738427632ea03b1e33cdf2f89a,openstack/tripleo-validations,master,fix_get_deployment_status_arg,I7b5da62a564c22738427632ea03b1e33cdf2f89a,Fix api call to get_deployment_status,MERGED,2021-02-24 21:16:32.000000000,2021-03-03 12:47:21.000000000,2021-03-03 12:47:21.000000000,1,1,0,777468,df0ae71422dc7e6100f91f7b6ce6fc8815c2f373,9,7,1,1,32432,Owen McGonagle,omcgonag,"Fix api call to get_deployment_status

Function get_deployment_status requires the stack_name parameter, cannot pass plan=plan

Without fix, getting this error:

openstack tripleo validator run --group pre-update-prepare --plan overcloud
get_deployment_status() got an unexpected keyword argument 'plan'

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I7b5da62a564c22738427632ea03b1e33cdf2f89a
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ibe7925e4ee568d3d45e138d543b6d7064a8503a3,openstack/tripleo-heat-templates,stable/train,,Ibe7925e4ee568d3d45e138d543b6d7064a8503a3,Always set NetworkDeploymentActions to its default,MERGED,2021-02-16 09:22:49.000000000,2021-03-03 12:47:14.000000000,2021-03-03 12:47:14.000000000,2,0,0,775765,b894347cb91ad34d09288935fbdc1d8390eb1683,13,4,1,1,8833,Rabi Mishra,rabi,"Always set NetworkDeploymentActions to its default

There are instances users use ``NetworkDeploymentActions`` to
do network configuration during update, but just drop the
parameter for subsequent updates. This sometimes results in
network configuration changes in existing nodes and disruptions.
Let's always set them to defaults unless overridden explicitly.

Change-Id: Ibe7925e4ee568d3d45e138d543b6d7064a8503a3
Related: https://bugzilla.redhat.com/1928055
(cherry picked from commit 92dcffc714bc92a28f610bf0322f04551aade758)
"
openstack%2Fkayobe~master~Ie1d7753d9061b587caa5e150f72b51658a887318,openstack/kayobe,master,,Ie1d7753d9061b587caa5e150f72b51658a887318,Fix documentation of control host bootstrap,MERGED,2021-03-03 11:55:56.000000000,2021-03-03 12:33:52.000000000,2021-03-03 12:31:36.000000000,1,1,0,778442,aafed5811d82c948dc6213fdd8931c9100993942,8,3,1,1,15197,Pierre Riteau,priteau,"Fix documentation of control host bootstrap

Change-Id: Ie1d7753d9061b587caa5e150f72b51658a887318
"
openstack%2Fcharm-heat~master~I9c48ece92d87bce80404d696c87a2c160ffd5277,openstack/charm-heat,master,hirsute-metadata,I9c48ece92d87bce80404d696c87a2c160ffd5277,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:56:22.000000000,2021-03-03 12:31:26.000000000,2021-03-03 10:29:22.000000000,1,1,0,778288,a7b930c928a323d06297532e7f29bb81b0c9585a,8,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I9c48ece92d87bce80404d696c87a2c160ffd5277
"
openstack%2Fmagnum~master~I844d7b154968b8960954b4be7165a70b46362dc3,openstack/magnum,master,fix-publish,I844d7b154968b8960954b4be7165a70b46362dc3,DNM,ABANDONED,2020-08-24 09:38:47.000000000,2021-03-03 12:29:25.000000000,,1,4,0,747667,2a65fccf9bac38168a3ca8bd981adb640769e978,5,1,2,1,28022,Bharat Kunwar,brtknr,"DNM

Change-Id: I844d7b154968b8960954b4be7165a70b46362dc3
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I9751aa9b6739e8083103791579c1d5a71b938b0b,openstack/tripleo-ansible,stable/victoria,fix11-stable/victoria,I9751aa9b6739e8083103791579c1d5a71b938b0b,Fix triple molecule modules job,MERGED,2021-03-03 03:36:39.000000000,2021-03-03 12:20:51.000000000,2021-03-03 12:20:51.000000000,55,6,0,778242,26b3f331cc6c3d73a4202bec28050f1bdb78a514,7,3,1,2,10969,Shnaidman Sagi (Sergey),sergsh,"Fix triple molecule modules job

Remove --detach when not starting container.
Change-Id: I9751aa9b6739e8083103791579c1d5a71b938b0b
(cherry picked from commit 4eee228dc572a4365dc950ef4e30667f0d807338)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I0b1a288fb3b1ae8d748690e4415a5c58ce793595,openstack/tripleo-ansible,stable/train,train-ci,I0b1a288fb3b1ae8d748690e4415a5c58ce793595,Train-only make tripleo_diff_exec py2-compatible,MERGED,2021-03-02 07:49:45.000000000,2021-03-03 12:13:37.000000000,2021-03-03 12:13:37.000000000,14,10,3,778146,2c9575d4e80d2ba282bff963bc572875fefc18ae,33,10,4,2,20172,Michele Baldessari,michele,"Train-only make tripleo_diff_exec py2-compatible

Train still supports centos-7 and subprocess.run() did not exist
there.

Tested on train on both cents 8 and 7.

Change-Id: I0b1a288fb3b1ae8d748690e4415a5c58ce793595
Closes-Bug: #1917422
"
openstack%2Fironic~stable%2Fvictoria~Ia169640b7084d17d26f22e457c7af512db6d21d6,openstack/ironic,stable/victoria,,Ia169640b7084d17d26f22e457c7af512db6d21d6,Handle agent still doing the prior command,MERGED,2021-03-02 19:37:05.000000000,2021-03-03 11:58:59.000000000,2021-03-03 11:56:51.000000000,188,8,0,778237,d1ffc6a557c6b3f3641bee2cfc9ec3be4649bdbe,11,2,1,10,11655,Julia Kreger,jkreger,"Handle agent still doing the prior command

The agent command exec model is based upon an incoming
heartbeat, however heartbeats are independent and
commands can take a long time. For example, software RAID
setup in CI can encounter this.

From an IPA log:

[-] Picked root device /dev/md0 for node c6ca0af2-baec-40d6-879d-cbb5c751aafb
    based on root device hints {'name': '/dev/md0'}
[-] Attempting to download image from http://199.204.45.248:3928/agent_images/
    c6ca0af2-baec-40d6-879d-cbb5c751aafb
[-] Executing command: standby.get_partition_uuids with args: {} execute_command
    /usr/local/lib/python3.6/site-packages/ironic_python_agent/extensions/base.py:255
[-] Tried to execute standby.get_partition_uuids, agent is still executing Command name:
    execute_deploy_step, params: {'step': {'interface': 'deploy', 'step': 'write_image',
    'args': {'image_info': {'id': 'cb9e199a-af1b-4a6f-b00e-f284008b8046',
    'urls': ['http://199.204.45.248:3928/agent_images/c6ca0af2-baec-40d6-879d-cbb5c751aafb'],
    'disk_format': 'raw', 'container_format': 'bare', 'stream_raw_images': True, 'os_hash_algo':
    'sha512', 'os_hash_value':<trimed>

This was with code built on master, using master images.
Inside the conductor log, it notes that it is likely an out
of date agent because only AgentAPIError is evaluated,
however any API error is evaluated this way. In reality, we need
to explicitly flag *when* we have an error that is because
we've tried to soon as something is already being worked upon.

The result, is to evaluate and return an exception indicating work
is already in flight.

Update - It looks like, the original fix to prevent busy agent
recognition did not fully detect all cases as getting steps is a
command which can
get skipped by accident with a busy agent, under certain circumstances.
Change I5d86878b5ed6142ed2630adee78c0867c49b663f in ironic-python-agent
also changed the string that was being checked for the previous
handling, where we really should have just made the string we were
checking lower case in ironic. Oh well! This should fix things
right up.

Story: 2008167
Task: 41175
Change-Id: Ia169640b7084d17d26f22e457c7af512db6d21d6
(cherry picked from commit 545dc2106b757e69d473c2997bbb2ac34fc131d3)
"
openstack%2Fcharm-hacluster~master~I6a2826378462a0742a9db638cf3b4c7438f42e13,openstack/charm-hacluster,master,hirsute-metadata,I6a2826378462a0742a9db638cf3b4c7438f42e13,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:56:09.000000000,2021-03-03 11:46:52.000000000,2021-03-03 10:52:18.000000000,1,1,0,778287,3ffb894093d7c76cacb1f20ebb290b39a52ac0ab,8,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I6a2826378462a0742a9db638cf3b4c7438f42e13
"
openstack%2Fkayobe~master~I0c37ba259d96c351e03dba1c8343fce8a84eb53e,openstack/kayobe,master,,I0c37ba259d96c351e03dba1c8343fce8a84eb53e,Report available entropy,MERGED,2021-02-24 11:15:45.000000000,2021-03-03 11:27:01.000000000,2021-03-03 11:25:15.000000000,3,0,209,777365,e23e47dd630498848af4c4b58e558897f26b2b8e,27,2,2,1,15197,Pierre Riteau,priteau,"Report available entropy

Change-Id: I0c37ba259d96c351e03dba1c8343fce8a84eb53e
Depends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/777076
"
openstack%2Fcharm-gnocchi~master~Ia7ef1f933d765981ab8075223728471c51751576,openstack/charm-gnocchi,master,hirsute-metadata,Ia7ef1f933d765981ab8075223728471c51751576,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:55:56.000000000,2021-03-03 11:26:22.000000000,2021-03-03 11:26:22.000000000,2,1,2,778286,7c81be97b23c29cef27637ceaf91f970f9c09518,10,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ia7ef1f933d765981ab8075223728471c51751576
"
openstack%2Fcinder~master~Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79,openstack/cinder,master,Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79,Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79,3PAR: Allow iSCSI driver to be enabled for Primera 4.2 onwards.,MERGED,2020-09-21 12:42:35.000000000,2021-03-03 11:18:04.000000000,2021-02-09 08:08:36.000000000,65,11,6,752934,6cabe11c9207376f905db3a0bcadf6d43e2c2af1,206,38,6,4,29122,Raghavendra Tilay,raghavendrat,"3PAR: Allow iSCSI driver to be enabled for Primera 4.2 onwards.

For HPE Primera 4.2 or higher versions, now iSCSI driver is
supported along with existing FC driver.
Accordingly updated code and documentation.

Change-Id: Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79
"
openstack%2Fcharm-glance-simplestreams-sync~master~I6121fe56f684d7738ef19ce04275d3165e1df506,openstack/charm-glance-simplestreams-sync,master,hirsute-metadata,I6121fe56f684d7738ef19ce04275d3165e1df506,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:55:43.000000000,2021-03-03 11:08:02.000000000,2021-03-03 11:08:02.000000000,1,0,0,778285,36873ab84af444eab0fdf8b3ec4dd47d8f895c26,8,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I6121fe56f684d7738ef19ce04275d3165e1df506
"
openstack%2Ftrove-dashboard~master~I38d53ee370e52ead7e415f8ceaca246696b18e10,openstack/trove-dashboard,master,zanata/translations,I38d53ee370e52ead7e415f8ceaca246696b18e10,Imported Translations from Zanata,MERGED,2021-03-03 08:32:55.000000000,2021-03-03 11:04:59.000000000,2021-03-03 11:01:52.000000000,14,64,0,778384,e8d81f17d33ae3e123a272ba871523994c989b3d,7,2,1,13,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I38d53ee370e52ead7e415f8ceaca246696b18e10
"
openstack%2Fcharm-rabbitmq-server~master~Ibc3597cd9aadb9662b56cacf40c5ac6ee0650b42,openstack/charm-rabbitmq-server,master,hirsute-metadata,Ibc3597cd9aadb9662b56cacf40c5ac6ee0650b42,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:04:35.000000000,2021-03-03 11:04:53.000000000,2021-03-03 11:04:53.000000000,1,1,0,778325,80476374b9b9564e6ff8bd9347fdf18913bd0960,8,4,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ibc3597cd9aadb9662b56cacf40c5ac6ee0650b42
"
openstack%2Fcharm-placement~master~I7e7ade5b85fbc379f49877227ac4288f2725d998,openstack/charm-placement,master,hirsute-metadata,I7e7ade5b85fbc379f49877227ac4288f2725d998,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:04:21.000000000,2021-03-03 11:04:03.000000000,2021-03-03 11:04:03.000000000,1,0,0,778324,8cadc00efec35a6dfa2f4747105db56a36cdb414,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I7e7ade5b85fbc379f49877227ac4288f2725d998
"
openstack%2Fcharm-swift-proxy~master~I5a1053d6da7284b8edc98c76ca7fe1cdfa720b8f,openstack/charm-swift-proxy,master,hirsute-metadata,I5a1053d6da7284b8edc98c76ca7fe1cdfa720b8f,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:04:48.000000000,2021-03-03 11:03:08.000000000,2021-03-03 11:03:08.000000000,1,1,0,778326,fb6bdd4d0fcc103d66c03c97210cfb1f854436ac,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I5a1053d6da7284b8edc98c76ca7fe1cdfa720b8f
"
openstack%2Fcharm-designate-bind~master~I61f14b54f8c9208b072d7e998103fa63fcf806ca,openstack/charm-designate-bind,master,hirsute-metadata,I61f14b54f8c9208b072d7e998103fa63fcf806ca,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:55:17.000000000,2021-03-03 11:00:44.000000000,2021-03-03 11:00:44.000000000,1,1,0,778283,641b271791d0db7a9a33026ea0d96e30c3fec6d1,9,4,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I61f14b54f8c9208b072d7e998103fa63fcf806ca
"
openstack%2Fpython-swiftclient~stable%2Fussuri~Icb289d3fe5b01e08e5636371175cce55a61d2d98,openstack/python-swiftclient,stable/ussuri,,Icb289d3fe5b01e08e5636371175cce55a61d2d98,Add release note for 3.9.1,MERGED,2021-01-06 15:12:33.000000000,2021-03-03 10:58:28.000000000,2021-03-03 10:55:05.000000000,16,0,0,769551,1cf6dcd5fe9a4fea3b02ee80316d7447130f8e14,14,2,2,3,15197,Pierre Riteau,priteau,"Add release note for 3.9.1

Change-Id: Icb289d3fe5b01e08e5636371175cce55a61d2d98
"
openstack%2Fcharm-pacemaker-remote~master~I1eacb367460bc9a355c34249ee726390b72b9979,openstack/charm-pacemaker-remote,master,hirsute-metadata,I1eacb367460bc9a355c34249ee726390b72b9979,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:03:55.000000000,2021-03-03 10:57:58.000000000,2021-03-03 10:57:58.000000000,1,0,0,778323,ebefd575c872058f36cc714e90d0e29c5e6f7af5,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I1eacb367460bc9a355c34249ee726390b72b9979
"
openstack%2Fcharm-designate~master~I5bf5f91ce065e54bcca4333527a5fe497d8ebf70,openstack/charm-designate,master,hirsute-metadata,I5bf5f91ce065e54bcca4333527a5fe497d8ebf70,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:55:04.000000000,2021-03-03 10:57:24.000000000,2021-03-03 10:57:24.000000000,1,1,0,778282,2cbaedab44293351192e9ac2eb9982dc4d902f08,9,4,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I5bf5f91ce065e54bcca4333527a5fe497d8ebf70
"
openstack%2Fcharm-octavia-diskimage-retrofit~master~Id692696777cd14edd84e0ff10c9061419409b2f0,openstack/charm-octavia-diskimage-retrofit,master,hirsute-metadata,Id692696777cd14edd84e0ff10c9061419409b2f0,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:02:48.000000000,2021-03-03 10:56:58.000000000,2021-03-03 10:56:58.000000000,1,0,0,778318,2674b7ad02ba3bf347f11372e5a13456a74cf231,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Id692696777cd14edd84e0ff10c9061419409b2f0
"
openstack%2Fcharm-neutron-api-plugin-ovn~master~I28a12f26e11bcd619318df176c9279c4326026e9,openstack/charm-neutron-api-plugin-ovn,master,hirsute-metadata,I28a12f26e11bcd619318df176c9279c4326026e9,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:00:40.000000000,2021-03-03 10:56:02.000000000,2021-03-03 10:56:02.000000000,1,0,0,778309,42c75d44c5e304c0a0f5957a0af9d2f805f84b7f,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I28a12f26e11bcd619318df176c9279c4326026e9
"
openstack%2Fcharm-cinder-purestorage~master~I130a84bd38403c1c9bf1bc82094fb4e920033008,openstack/charm-cinder-purestorage,master,hirsute-metadata,I130a84bd38403c1c9bf1bc82094fb4e920033008,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:54:50.000000000,2021-03-03 10:55:44.000000000,2021-03-03 10:55:44.000000000,1,0,0,778281,e25b8e0394213c5a139e15251f4cc631ee0fb00c,8,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I130a84bd38403c1c9bf1bc82094fb4e920033008
"
openstack%2Fcharm-nova-compute~master~I59840b672673aa4a8e253659300d9333c1b20a4b,openstack/charm-nova-compute,master,hirsute-metadata,I59840b672673aa4a8e253659300d9333c1b20a4b,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:02:08.000000000,2021-03-03 10:54:58.000000000,2021-03-03 10:54:58.000000000,1,1,0,778315,b49dbc252c3b0a1ecf8e29b6cfc3a1eb52d97eab,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I59840b672673aa4a8e253659300d9333c1b20a4b
"
openstack%2Fcharm-nova-cloud-controller~master~I182a45e5be41f8afcc87ef6e062a8ac2dd64c2e5,openstack/charm-nova-cloud-controller,master,hirsute-metadata,I182a45e5be41f8afcc87ef6e062a8ac2dd64c2e5,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:01:54.000000000,2021-03-03 10:54:30.000000000,2021-03-03 10:54:30.000000000,1,1,0,778314,5fcf939fab7b9391ea7f95ad73a9b3545f5b6482,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I182a45e5be41f8afcc87ef6e062a8ac2dd64c2e5
"
openstack%2Fcharm-cinder-backup~master~Iacafa8ba725130abbae33d8efbeb12c007c6a3fc,openstack/charm-cinder-backup,master,hirsute-metadata,Iacafa8ba725130abbae33d8efbeb12c007c6a3fc,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:54:11.000000000,2021-03-03 10:52:08.000000000,2021-03-03 10:52:08.000000000,1,1,0,778278,c1d7169ed08ecceef1064893018e383e19dd0924,8,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Iacafa8ba725130abbae33d8efbeb12c007c6a3fc
"
openstack%2Fcharm-neutron-dynamic-routing~master~I35feba77b5fe2b0bb5b23d5bff02b3ea5d6c357f,openstack/charm-neutron-dynamic-routing,master,hirsute-metadata,I35feba77b5fe2b0bb5b23d5bff02b3ea5d6c357f,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:00:55.000000000,2021-03-03 10:51:33.000000000,2021-03-03 10:51:33.000000000,1,0,0,778310,5e68058fafae1bd7fa5ace16686ab759578313a3,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I35feba77b5fe2b0bb5b23d5bff02b3ea5d6c357f
"
openstack%2Fcharm-ceph-proxy~master~I744188799db42ea9960ea35c1e83e773c6a2ee36,openstack/charm-ceph-proxy,master,hirsute-metadata,I744188799db42ea9960ea35c1e83e773c6a2ee36,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:53:13.000000000,2021-03-03 10:50:57.000000000,2021-03-03 10:50:57.000000000,1,1,0,778273,acd6eedfa99db524cd639e391b340e350eb3173d,8,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I744188799db42ea9960ea35c1e83e773c6a2ee36
"
openstack%2Fcharm-neutron-api-plugin-ironic~master~Id18bd920122723bef80ecb53fa3b0cff6eee0eea,openstack/charm-neutron-api-plugin-ironic,master,hirsute-metadata,Id18bd920122723bef80ecb53fa3b0cff6eee0eea,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:00:26.000000000,2021-03-03 10:48:53.000000000,2021-03-03 10:48:53.000000000,6,5,0,778307,2a9cc0edb369b4b4ecd1eaaac27dd36695277d4b,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Id18bd920122723bef80ecb53fa3b0cff6eee0eea
"
openstack%2Fcharm-manila~master~I623bdfe6496404b4c10d51d398fdd6564078115d,openstack/charm-manila,master,hirsute-metadata,I623bdfe6496404b4c10d51d398fdd6564078115d,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:58:06.000000000,2021-03-03 10:44:43.000000000,2021-03-03 10:44:43.000000000,1,0,0,778296,405519c9f409edc3e45486d366a064e0e1b1abc2,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I623bdfe6496404b4c10d51d398fdd6564078115d
"
openstack%2Ftripleo-validations~master~Ic9a6be649d6f4185f01106fde258a723e305a822,openstack/tripleo-validations,master,cli/removal,Ic9a6be649d6f4185f01106fde258a723e305a822,CLI removed in preparation for repo merger.,ABANDONED,2021-02-25 14:50:49.000000000,2021-03-03 10:41:13.000000000,,0,562,0,777603,d33947b81b82b303a2d12233693467480c430074,8,5,1,3,32926,Jiri Podivin,jpodivin,"CLI removed in preparation for repo merger.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic9a6be649d6f4185f01106fde258a723e305a822
"
openstack%2Fcharm-ceph-fs~master~Ide508d37e11b37d2c4d19942fbeef9655390fae9,openstack/charm-ceph-fs,master,hirsute-metadata,Ide508d37e11b37d2c4d19942fbeef9655390fae9,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:52:33.000000000,2021-03-03 10:39:52.000000000,2021-03-03 10:39:52.000000000,1,0,0,778270,c8feba48a592445f20ed247e45866077c01a114d,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ide508d37e11b37d2c4d19942fbeef9655390fae9
"
openstack%2Ftripleo-validations~master~I639bbd5ef5b80777ee18c2dce0b16ab6f5066476,openstack/tripleo-validations,master,pre-commit/ansiblecolors,I639bbd5ef5b80777ee18c2dce0b16ab6f5066476,ansible-lint will no longer colorize its output,ABANDONED,2021-03-03 09:53:31.000000000,2021-03-03 10:37:46.000000000,,2,0,0,778397,0cfe7171d7ff3897965aea635ddd8ba902581b2e,5,6,1,1,32926,Jiri Podivin,jpodivin,"ansible-lint will no longer colorize its output

The result was needlesly confusing when appearing in zuul
reports as it inserted ascii strings for color encoding
and added little in readability on personal terminals.

For example, with coloring enabled:
[34mroles/switch_vlans/tasks/main.yml[0m:2:3: [91msyntax-check[0m

Without coloring:
roles/switch_vlans/tasks/main.yml:2:3: syntax-check

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I639bbd5ef5b80777ee18c2dce0b16ab6f5066476
"
openstack%2Fcharm-ceilometer-agent~master~Id3a5027d4165da8be59f37b9b9a96c34280c78ce,openstack/charm-ceilometer-agent,master,hirsute-metadata,Id3a5027d4165da8be59f37b9b9a96c34280c78ce,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:52:19.000000000,2021-03-03 10:33:36.000000000,2021-03-03 10:33:36.000000000,1,1,0,778269,442e6580e7d8b7a575c6038a47e500572c56ebdf,8,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Id3a5027d4165da8be59f37b9b9a96c34280c78ce
"
openstack%2Fcharm-ironic-api~master~I998769f4a02f9a2a3ece0ed20e2a478703d566c3,openstack/charm-ironic-api,master,hirsute-metadata,I998769f4a02f9a2a3ece0ed20e2a478703d566c3,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:56:35.000000000,2021-03-03 10:32:29.000000000,2021-03-03 10:32:29.000000000,6,5,0,778289,971d24232e4563892543ca9ba8eb04ddca123a1d,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I998769f4a02f9a2a3ece0ed20e2a478703d566c3
"
openstack%2Fcharm-barbican-vault~master~I7491d754ed327f3b8604f04db7847541f2d56251,openstack/charm-barbican-vault,master,hirsute-metadata,I7491d754ed327f3b8604f04db7847541f2d56251,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:51:52.000000000,2021-03-03 10:32:02.000000000,2021-03-03 10:32:02.000000000,1,0,0,778267,e0e4ab4c052a39943c6310b5797bc329e0351c5f,8,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I7491d754ed327f3b8604f04db7847541f2d56251
"
openstack%2Fcharm-barbican-softhsm~master~Iac0486c6d978a34b9e7873bd00627d5c55d32e25,openstack/charm-barbican-softhsm,master,hirsute-metadata,Iac0486c6d978a34b9e7873bd00627d5c55d32e25,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:51:33.000000000,2021-03-03 10:31:17.000000000,2021-03-03 10:31:17.000000000,5,4,0,778266,c6dcfbbdf414176f55668460ddc1af83b4ab5a6b,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Iac0486c6d978a34b9e7873bd00627d5c55d32e25
"
openstack%2Fcharm-barbican~master~Ied3c4d70fb5a7cf2556a4ca7d9c0aec551b63939,openstack/charm-barbican,master,hirsute-metadata,Ied3c4d70fb5a7cf2556a4ca7d9c0aec551b63939,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:51:20.000000000,2021-03-03 10:30:19.000000000,2021-03-03 10:30:19.000000000,1,0,0,778265,45d9d9b19d4d47fcb92df8f0d108789f981f1e93,8,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ied3c4d70fb5a7cf2556a4ca7d9c0aec551b63939
"
openstack%2Fcharm-ceph-mon~master~Ib160d6ff913702486c9a9d81252d0129e8da79a9,openstack/charm-ceph-mon,master,hirsute-metadata,Ib160d6ff913702486c9a9d81252d0129e8da79a9,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:52:46.000000000,2021-03-03 10:29:17.000000000,2021-03-03 10:29:17.000000000,1,1,0,778271,97c423b8a71c95e31e6ab1ebf930241332cbffd5,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ib160d6ff913702486c9a9d81252d0129e8da79a9
"
openstack%2Fcharm-ceph-rbd-mirror~master~I7fce00f968b540d0a5824a2df262f0195bae8739,openstack/charm-ceph-rbd-mirror,master,hirsute-metadata,I7fce00f968b540d0a5824a2df262f0195bae8739,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:53:43.000000000,2021-03-03 10:25:39.000000000,2021-03-03 10:25:39.000000000,1,0,0,778276,8c7e471615e22caf341a92f47d269f55b4a1d317,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I7fce00f968b540d0a5824a2df262f0195bae8739
"
openstack%2Fcharm-ceilometer~master~Ia68a287eabffa14e5675e1895bfe54fddc2615e0,openstack/charm-ceilometer,master,hirsute-metadata,Ia68a287eabffa14e5675e1895bfe54fddc2615e0,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:52:06.000000000,2021-03-03 10:25:19.000000000,2021-03-03 10:25:19.000000000,1,1,0,778268,5ff31b10a24f800a3e582721b388eeac5211fffc,7,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ia68a287eabffa14e5675e1895bfe54fddc2615e0
"
openstack%2Fcharm-aodh~master~Ie57eb5b9fffddf61a39f23b193b4fb823c5cd1a2,openstack/charm-aodh,master,hirsute-metadata,Ie57eb5b9fffddf61a39f23b193b4fb823c5cd1a2,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:51:07.000000000,2021-03-03 10:24:13.000000000,2021-03-03 10:24:13.000000000,1,1,0,778264,729c46410c69011a86529f1336cb201b8b58a2f6,8,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ie57eb5b9fffddf61a39f23b193b4fb823c5cd1a2
"
openstack%2Frequirements~master~Ibb02c3946c1b03a56216b555c092b209a45890c3,openstack/requirements,master,openstack/requirements/constraints/noclob,Ibb02c3946c1b03a56216b555c092b209a45890c3,Updated from generate-constraints,MERGED,2021-03-03 06:17:41.000000000,2021-03-03 10:18:20.000000000,2021-03-03 10:15:21.000000000,7,7,0,778361,32ced57cbac8c2713f982bb094b9b2ab997ddea3,10,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ibb02c3946c1b03a56216b555c092b209a45890c3
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fneutron~master~Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,openstack/neutron,master,bug/1917448,Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,Fix wrong packet_type set for IPv6 GRE tunnels in OVS,MERGED,2021-03-02 12:05:32.000000000,2021-03-03 10:17:47.000000000,2021-03-03 10:15:04.000000000,3,2,0,778178,1dbe389392bbfadebe8c12b06171cf04a24d32ff,14,7,1,3,11975,Slawek Kaplonski,slaweq,"Fix wrong packet_type set for IPv6 GRE tunnels in OVS

In patch [1] it was by mistake set to ""legacy"" but it should be
""legacy_l2"".
This patch fixes that mistake.

Closes-bug: #1917448

[1] https://review.opendev.org/c/openstack/neutron/+/763204

Change-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238
"
openstack%2Fcharm-pacemaker-remote~master~Id44d2037d5743bc882388141d726194c51d82fbf,openstack/charm-pacemaker-remote,master,feature/new-zuul,Id44d2037d5743bc882388141d726194c51d82fbf,Add new osci.yaml,MERGED,2021-02-18 07:49:23.000000000,2021-03-03 10:14:50.000000000,2021-03-03 10:14:50.000000000,36,0,0,776387,54a7e52c96a4d72b23898e61023efd33742ae6a2,11,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: Id44d2037d5743bc882388141d726194c51d82fbf
"
openstack%2Fcharm-openstack-dashboard~master~I996496c12e189257a27fdb39dd094ccb0a6df929,openstack/charm-openstack-dashboard,master,feature/new-zuul,I996496c12e189257a27fdb39dd094ccb0a6df929,Add new osci.yaml,MERGED,2021-02-18 07:48:33.000000000,2021-03-03 10:14:32.000000000,2021-03-03 10:14:32.000000000,35,0,0,776383,0a53c05de50cc47a6b466d8349f6ad10b3d0f2f2,28,4,4,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I996496c12e189257a27fdb39dd094ccb0a6df929
"
openstack%2Fopenstacksdk~master~I597407fcf9eb6b41e448d4b2d70eba2670deef95,openstack/openstacksdk,master,add_dns_extension_parameters,I597407fcf9eb6b41e448d4b2d70eba2670deef95,"Add dns_name, dns_domain parameters to create/update port.",NEW,2021-03-01 19:25:05.000000000,2021-03-03 10:14:07.000000000,,12,2,1,778055,f0ed4c63a15db6fde5e1ab79e52684e375a1568f,3,2,1,2,27775,Dario Zanzico,dariko,"Add dns_name, dns_domain parameters to create/update port.

The Port class supports the dns_name and dns_domain parameters.
This commit allows specifying these attributes whe creating/updating ports.

Change-Id: I597407fcf9eb6b41e448d4b2d70eba2670deef95
Signed-off-by: dariko <git@dariozanzico.com>
"
openstack%2Fopenstack-ansible-lxc_hosts~master~Ibf405ab9334892705c9bf519e180e608c9d3adad,openstack/openstack-ansible-lxc_hosts,master,,Ibf405ab9334892705c9bf519e180e608c9d3adad,DNM - test log collection,ABANDONED,2021-03-02 06:54:05.000000000,2021-03-03 10:08:54.000000000,,0,0,0,778141,770e5e101d96949241e6b45a793a477c236370cf,9,1,1,1,25023,Jonathan Rosser,jrosser,"DNM - test log collection

Depends-On: Ia7ccd5da55119273cf1fac26316ce37aa484d95a
Change-Id: Ibf405ab9334892705c9bf519e180e608c9d3adad
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I68cade8290dba73a9645f7daf1982b9a2601d499,openstack/openstack-ansible-openstack_hosts,master,,I68cade8290dba73a9645f7daf1982b9a2601d499,DNM: test log collection,ABANDONED,2021-03-02 06:56:48.000000000,2021-03-03 10:08:43.000000000,,0,0,0,778142,9becfb9223530310402f70ad489d9a623d9b2fb3,9,1,1,1,25023,Jonathan Rosser,jrosser,"DNM: test log collection

Depends-On: Ia7ccd5da55119273cf1fac26316ce37aa484d95a
Change-Id: I68cade8290dba73a9645f7daf1982b9a2601d499
"
openstack%2Fmagnum~stable%2Fussuri~Ifc212478ae09c658adeb6ba4c8e8afc8943e3977,openstack/magnum,stable/ussuri,ussuri-fixes,Ifc212478ae09c658adeb6ba4c8e8afc8943e3977,Remove shebang from scripts,MERGED,2021-02-11 14:59:10.000000000,2021-03-03 09:42:44.000000000,2021-03-03 09:37:14.000000000,26,73,0,775166,5c47db106a895da35caa96f92815e72d0bd05762,12,3,3,41,28022,Bharat Kunwar,brtknr,"Remove shebang from scripts

Without this, heat container agents using  kubectl version
1.18.x (e.g. ussuri-dev) fail because they do not have the correct
KUBECONFIG in the environment.

Task: 39938
Story: 2007591

Change-Id: Ifc212478ae09c658adeb6ba4c8e8afc8943e3977
(cherry picked from commit 799563eb613855c340727c6b87c2e1ddd490aae3)
"
openstack%2Fpython-glanceclient~master~I11d4eb88594608fdf21e1219b4aafcef606bf6f1,openstack/python-glanceclient,master,add-wallaby-python-jobtemplates,I11d4eb88594608fdf21e1219b4aafcef606bf6f1,Add Python3 wallaby unit tests,MERGED,2020-09-09 15:57:39.000000000,2021-03-03 09:42:39.000000000,2021-03-03 09:37:37.000000000,1,1,0,750701,23d389f15a75287fb9e0cb1e20196a0911e5debb,13,4,1,1,22816,OpenStack Release Bot,release,"Add Python3 wallaby unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for wallaby.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I11d4eb88594608fdf21e1219b4aafcef606bf6f1
"
openstack%2Fmanila~master~I99af5f4f9bfc7e0718c618c95206b7051b724c73,openstack/manila,master,secure-rbac,I99af5f4f9bfc7e0718c618c95206b7051b724c73,Implement secure RBAC for storage pool statistics,MERGED,2020-11-19 21:17:02.000000000,2021-03-03 09:37:53.000000000,2021-03-03 07:17:29.000000000,28,4,0,763445,7f72147f17303519e185c138addd4d9b79af4f1e,27,6,3,1,5046,Lance Bragstad,ldbragst,"Implement secure RBAC for storage pool statistics

This commit updates the policies for storage pool statistics to understand
scope checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC experience and
improve security.

Change-Id: I99af5f4f9bfc7e0718c618c95206b7051b724c73
"
openstack%2Fmagnum~stable%2Fussuri~I8982bd4ec2ab69f35938970d604c16ac5e62e1fa,openstack/magnum,stable/ussuri,ussuri-fixes,I8982bd4ec2ab69f35938970d604c16ac5e62e1fa,Deploy traefik from the heat-agent,MERGED,2021-02-11 14:55:35.000000000,2021-03-03 09:30:04.000000000,2021-03-03 09:24:23.000000000,19,45,0,775164,1055bf2d4cbe0f9253b6ca1dadd7e52aba1bdd7a,13,2,3,2,28022,Bharat Kunwar,brtknr,"Deploy traefik from the heat-agent

Use kubectl from the heat agent to apply the
traefik deployment. Current behaviour was to
create a systemd unit to send the manifests
to the API.

This way we will have only one way for applying
manifests to the API.

This change is triggered to adddress the kubectl
change [0] that is not using 127.0.0.1:8080 as
the default kubernetes API.

[0] https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.18.md#kubectl

story: 2005286
task: 39522

Change-Id: I8982bd4ec2ab69f35938970d604c16ac5e62e1fa
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 3e7924ffda45a1d750700ff1e86019359f90870c)
"
openstack%2Foctavia~master~Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88,openstack/octavia,master,,Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88,Fix overriding default listener timeout values in config file,MERGED,2021-03-01 08:08:12.000000000,2021-03-03 09:26:12.000000000,2021-03-03 09:22:36.000000000,99,21,0,777938,b95fbe9ed4d8585e72bfc4f93aefb3d3ca1ab932,11,5,1,5,29244,Gregory Thiemonge,gthiemonge,"Fix overriding default listener timeout values in config file

The default value for timeout parameters in the BaseListenerType was
not correctly set because the class was defined before reading the
config file.

Story 2008666
Task 41953

Change-Id: Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88
"
openstack%2Fvalidations-libs~master~Ieddc2cabd2612fa406a9660daa17a836ea1ee4cf,openstack/validations-libs,master,style/constantminuscule1,Ieddc2cabd2612fa406a9660daa17a836ea1ee4cf,Style adjustment of a constant.,MERGED,2021-01-22 12:56:43.000000000,2021-03-03 08:53:37.000000000,2021-03-03 08:52:20.000000000,4,4,0,771973,172a49584a3e55f6eaea7aff2f9f04ef54f9ed02,9,5,1,1,32926,Jiri Podivin,jpodivin,"Style adjustment of a constant.

Perhaps slight exaggeration. The value is set just after imports,
depending on a single condition, but before declaring anything else.

Thus making it quasi-constant.
Still, it is beneficial from readability perspective.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ieddc2cabd2612fa406a9660daa17a836ea1ee4cf
"
openstack%2Fproject-config~master~I2532669211194efb247b0f757deebc6c17820ce8,openstack/project-config,master,project-yaml-normalization,I2532669211194efb247b0f757deebc6c17820ce8,Normalize projects.yaml,MERGED,2021-03-03 06:07:29.000000000,2021-03-03 08:43:24.000000000,2021-03-03 06:54:29.000000000,0,1,0,778358,bda55de10bd0a1fe9811404cd62a6b287d8339cf,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Normalize projects.yaml

Change-Id: I2532669211194efb247b0f757deebc6c17820ce8
"
openstack%2Fmanila-ui~master~I9f10880eb870ecc0cd13b014d32d38cc7673644c,openstack/manila-ui,master,zanata/translations,I9f10880eb870ecc0cd13b014d32d38cc7673644c,Imported Translations from Zanata,MERGED,2021-03-03 07:00:16.000000000,2021-03-03 08:37:15.000000000,2021-03-03 08:36:03.000000000,10,40,0,778370,44437c364d1c8c409ae457d97bb9ce24c654d7a8,7,2,1,10,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9f10880eb870ecc0cd13b014d32d38cc7673644c
"
openstack%2Ftripleo-ansible~master~I9751aa9b6739e8083103791579c1d5a71b938b0b,openstack/tripleo-ansible,master,fix11,I9751aa9b6739e8083103791579c1d5a71b938b0b,Fix triple molecule modules job,MERGED,2021-03-02 10:30:40.000000000,2021-03-03 08:35:37.000000000,2021-03-02 19:31:19.000000000,55,6,0,778161,4eee228dc572a4365dc950ef4e30667f0d807338,12,4,2,2,10969,Shnaidman Sagi (Sergey),sergsh,"Fix triple molecule modules job

Remove --detach when not starting container.
Change-Id: I9751aa9b6739e8083103791579c1d5a71b938b0b
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Fvictoria~Ibafcb3b994db361df3427ca2afe4dd3d08028add,openstack/puppet-openstack_spec_helper,stable/victoria,bug/1917457-stable/victoria,Ibafcb3b994db361df3427ca2afe4dd3d08028add,pin bundler to 2.2.11,MERGED,2021-03-02 16:10:13.000000000,2021-03-03 08:23:28.000000000,2021-03-03 08:23:28.000000000,1,3,0,778114,2a0681f773ba01bbbd30a5bfcc356e369b14fe21,7,3,1,1,9816,Takashi Kajinami,kajinamit,"pin bundler to 2.2.11

It seems the latest 2.2.12 requires rake>13.0 installed and that
requirement doesn't work well in current our CI jobs.
Let's pin it to the previous version until we resolve the issue

Note that this change only covers library jobs and we also need the
same fix for puppet-openstack-integration later.

This change also removes the pin for the very old Ruby version.

Closes-Bug: #1917457
Change-Id: Ibafcb3b994db361df3427ca2afe4dd3d08028add
(cherry picked from commit a75cf9b6b18134cd6b1285740e2941bb228e053b)
"
openstack%2Fironic-ui~master~I32462c01dab50d7032bb4d3563a822eb98ed51b9,openstack/ironic-ui,master,zanata/translations,I32462c01dab50d7032bb4d3563a822eb98ed51b9,Imported Translations from Zanata,MERGED,2021-03-03 06:53:46.000000000,2021-03-03 08:15:52.000000000,2021-03-03 08:14:17.000000000,2,2,0,778368,b12bbeb8fbb56e80f616183b0ffd704c18712a15,7,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I32462c01dab50d7032bb4d3563a822eb98ed51b9
"
openstack%2Fneutron~stable%2Fvictoria~Iea5ff76fe652ab1c04e23850b9259547c1d54365,openstack/neutron,stable/victoria,bug/1898842-stable/victoria,Iea5ff76fe652ab1c04e23850b9259547c1d54365,"Do not load ""qos-fip"" if ""qos"" plugin is not loaded",ABANDONED,2021-03-03 06:31:17.000000000,2021-03-03 07:56:03.000000000,,7,0,0,778245,7beb0494d712264c1ad2c2c4c65d2f99460b0e98,5,1,2,1,33178,Shawn.Lu,Shawn.Lu,"Do not load ""qos-fip"" if ""qos"" plugin is not loaded

If QoS service plugin is not loaded, the L3 QoS extension in the OVN
L3 plugin should not be loaded neither.

Prior to this patch, the extension drivers were checked to find the
QoS extension. Although it is a misconfiguration to have the QoS
extension without loading the QoS driver, that is handled correctly
by the Neutron server, disabling the extension silently.

Closes-Bug: #1898842
Related-Bug: #1877408

Change-Id: Iea5ff76fe652ab1c04e23850b9259547c1d54365
(cherry picked from commit 7e31f2ae41b4512afd2b3dd4fb72fcd16ef0a373)
"
openstack%2Fnetworking-sfc~master~I323196463b26f7a79a125d2001a42fd7ed2ea6c8,openstack/networking-sfc,master,769658,I323196463b26f7a79a125d2001a42fd7ed2ea6c8,Update lower-constraints,ABANDONED,2021-01-07 03:42:51.000000000,2021-03-03 07:44:51.000000000,,30,30,0,769658,d962025e6b91e1d5ad7d10403a53995c67f8bd4f,52,2,24,3,32238,wdd,wangzihao,"Update lower-constraints

Change-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8
"
openstack%2Fneutron~master~I1e9fe661f55e99ca509dfbc3c1334b358ddb7212,openstack/neutron,master,ovn,I1e9fe661f55e99ca509dfbc3c1334b358ddb7212,ovn: Collect OVN logs,MERGED,2021-01-20 15:12:57.000000000,2021-03-03 07:31:51.000000000,2021-03-03 07:24:53.000000000,6,8,16,771658,929a6a70076191c4678e44e071672f8ab0b1d5b0,66,6,3,2,8655,Jakub Libosvar,jlibosva,"ovn: Collect OVN logs

OVN logs have moved from /var/log/openvswitch that is collected by the
base job to /var/log/ovn

Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>

Change-Id: I1e9fe661f55e99ca509dfbc3c1334b358ddb7212
"
openstack%2Fneutron-tempest-plugin~master~I2e3f6502f658e96594422abf82d44d8132da993b,openstack/neutron-tempest-plugin,master,bp/address-groups-in-sg-rules,I2e3f6502f658e96594422abf82d44d8132da993b,Add tempest API tests for address groups RBAC,MERGED,2021-02-01 01:06:44.000000000,2021-03-03 07:25:03.000000000,2021-03-03 07:25:03.000000000,202,0,5,773274,b1c7a3d7316eec8a10f3fb7cff3e875d4241674a,16,5,4,3,4694,Miguel Lavalle,minsel,"Add tempest API tests for address groups RBAC

Add tempest API tests for address groups RBAC

Change-Id: I2e3f6502f658e96594422abf82d44d8132da993b
Depends-On: https://review.opendev.org/c/openstack/neutron/+/772460
"
openstack%2Ftacker~master~If5476d4fe96cb7259e137ba241431e42ef65dfb4,openstack/tacker,master,dnmpatch2,If5476d4fe96cb7259e137ba241431e42ef65dfb4,[DNM] Check for MySQL related issues in this patchi (2nd retry),ABANDONED,2021-03-01 07:48:15.000000000,2021-03-03 07:16:42.000000000,,774,20,0,777935,ce0af88f129f1b878b70572643ebb87ba63cf916,5,1,2,18,32219,Aldinson C. Esto,esto-aln,"[DNM] Check for MySQL related issues in this patchi (2nd retry)

Change-Id: If5476d4fe96cb7259e137ba241431e42ef65dfb4
"
openstack%2Fironic-python-agent~master~Iedff5325e0737556d5eb3da601c984ddfc633873,openstack/ironic-python-agent,master,default-execute,Iedff5325e0737556d5eb3da601c984ddfc633873,Remove default parameter from execute,MERGED,2021-03-02 15:19:57.000000000,2021-03-03 07:15:59.000000000,2021-03-03 07:14:44.000000000,18,31,0,778201,bff252c7263c70edb52644f7ac64d39b9f6b0bd0,8,3,1,4,23851,Riccardo Pittau,elfosardo,"Remove default parameter from execute

The param check_exit_code from the processutils extension execute has
default already at [0]
See:
https://opendev.org/openstack/oslo.concurrency/src/branch/master/oslo_concurrency/processutils.py#L214

Change-Id: Iedff5325e0737556d5eb3da601c984ddfc633873
"
openstack%2Fdiskimage-builder~master~If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45,openstack/diskimage-builder,master,dib_uefi_master,If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45,Add support for building images capable of UEFI,ABANDONED,2016-03-03 13:03:10.000000000,2021-03-03 06:59:03.000000000,,214,9,128,287784,d9b2abaa73f9d9c68dc028038ea8513ad31b9dd5,216,26,39,7,16347,Purandhar Sairam Mannidi,mpsairam,"Add support for building images capable of UEFI

This change adds support for to build images using diskimage-builder
which are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,
Ubuntu, Debian and Fedora images have been tested and verified for
x86_64/amd64 architectures.

To build an UEFI capable image,

1. Two Partions were created with GPT partition table. First partition
   contains the EFI System Partition(ESP), while the second partition is
   the root file system. parted is used for creating the partitions.

2. Bootloader element pkg-map has been added with grub-efi which
   installs dependent packages for default and redhat distributions.

3. As part of installing grub boot loader, the ESP partition is mounted
   to /boot/efi directory of the root file system so that grub will
   install required grubx64.efi and other dependent packages in ESP
   partition.

4. Grub configuration files are modified to work with respective
   distributions.

Change-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45
Signed-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>

Conflicts:
	doc/source/user_guide/supported_distros.rst

Change-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45
"
openstack%2Fneutron~master~I9bf55fe4521559063090608bf2c206ea633296ba,openstack/neutron,master,fix-rdns,I9bf55fe4521559063090608bf2c206ea633296ba,Fix designate driver: allow_reverse_dns_lookup doesn't works if dns_domain zone wasn't created.,NEW,2020-12-28 08:21:12.000000000,2021-03-03 06:57:26.000000000,,18,11,5,768594,e7196ad090c7c1bc4e0220fd5b4b3d43d168e515,17,3,3,1,32690,Sergey Chekanov,s-chekanov,"Fix designate driver: allow_reverse_dns_lookup doesn't works if dns_domain zone wasn't created.

Fixes LP Bug #1904559.

Change-Id: I9bf55fe4521559063090608bf2c206ea633296ba
"
openstack%2Freleases~master~I1e6ee139d84ec49ea331028818995f63513fa599,openstack/releases,master,wallaby-lib-freeze,I1e6ee139d84ec49ea331028818995f63513fa599,Release final sushy for Wallaby,MERGED,2021-03-01 09:48:37.000000000,2021-03-03 06:33:38.000000000,2021-03-03 06:33:38.000000000,4,0,0,777960,6556645151e767de9dd0c088734a58c2504e346b,20,9,3,1,28522,Hervé Beraud,hberaud,"Release final sushy for Wallaby

This proposed a release for sushy to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 3.6.1..d4c7e03
375b29b Follow up TaskMonitor refactor
7a9a2b6 Refactor TaskMonitor and update Volume methods
07ca7f4 Don't log ERROR if GET of /redfish/v1/SessionService fails
d9004ec Fix deprecation on collections.MutableMapping
09cee5c Automatically retry HTTP 5xx on GET requests
4abea18 Initial support for secure boot databases

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I1e6ee139d84ec49ea331028818995f63513fa599
"
openstack%2Fos-refresh-config~stable%2Frocky~I05e5e65eecf5f0b497b1bf4fc2aafe076dc27c76,openstack/os-refresh-config,stable/rocky,tripleo-ci-reduce,I05e5e65eecf5f0b497b1bf4fc2aafe076dc27c76,Remove tripleo-multinode-container|baremetal-minimal from layout,MERGED,2021-02-25 16:53:39.000000000,2021-03-03 06:30:24.000000000,2021-03-03 06:30:24.000000000,0,2,0,777624,335eac106e7bc243dc1c5576e5ef9e145cb8f7a7,8,3,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container|baremetal-minimal from layout

The tripleo-multinode-container-minimal and -baremetal-minimal
templates are being deprecated [1] as part of wider tripleo CI
optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I05e5e65eecf5f0b497b1bf4fc2aafe076dc27c76
"
openstack%2Fglance~master~I591e2637bdef9c7bf01b021b3eec2a81aa45c21d,openstack/glance,master,bp/cluster-awareness,I591e2637bdef9c7bf01b021b3eec2a81aa45c21d,Cluster aware Glance with RabbitMQ,ABANDONED,2019-07-08 13:00:15.000000000,2021-03-03 06:19:43.000000000,,277,1,8,669655,5053386488339e7c9552309361e8b6a14d5777fb,41,7,5,5,5202,Erno Kuvaja,jokke,"Cluster aware Glance with RabbitMQ

This change provides the basic functionality of cluster
messaging for glance-api services.

Initial usecase the 'glance-direct' image import is
addressed where the nodes can redistribute the import
request to other glance-api nodes for processing avoiding
the need of shared filesystem between the nodes for staging.

As rabbitMQ requires x509 auth for TLS communication it's
out of the scope of this change and should be addressed on
follow-up patch.

Suitable test cases should be added once identified.

related-bp: cluster-awareness

Change-Id: I591e2637bdef9c7bf01b021b3eec2a81aa45c21d
"
openstack%2Ftripleo-common~stable%2Ftrain~I776192717798c9fc3f02c4d358bebed2bada3593,openstack/tripleo-common,stable/train,bug/1915761-stable/train,I776192717798c9fc3f02c4d358bebed2bada3593,Fix fact definition for deployments,MERGED,2021-02-24 16:07:10.000000000,2021-03-03 05:38:52.000000000,2021-03-03 05:35:54.000000000,4,4,0,777423,066e861391011ac25e26a3e8abdbc92afbf53dcd,15,3,1,1,14985,Alex Schultz,mwhahaha,"Fix fact definition for deployments

For legacy deployment tasks we construct them here in tripleo-common. In
order to disable inject facts, we need to fix this here too.

Change-Id: I776192717798c9fc3f02c4d358bebed2bada3593
Related-Bug: #1915761
(cherry picked from commit 6af709a65e7814209e5e44f8de14f28c3badc81d)
"
openstack%2Ftripleo-common~stable%2Ftrain~I61affe32dfc9eacbe514893168397c9b291b8713,openstack/tripleo-common,stable/train,bug/1915761-stable/train,I61affe32dfc9eacbe514893168397c9b291b8713,Reduce fact gathering,MERGED,2021-02-24 16:07:10.000000000,2021-03-03 05:37:50.000000000,2021-03-03 05:35:49.000000000,3,0,0,777422,9cc6007ecc9831d6b0232d3dc3b09541d474bc90,11,3,1,1,14985,Alex Schultz,mwhahaha,"Reduce fact gathering

This change updates the default subset to only be the minimum list of
facts for ansible.  In the deployment we need to make sure that we only
collect the minimum amount of facts to perform the tasks at hand rather
than assume we have all the facts.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708
Related-Bug: #1915761
Change-Id: I61affe32dfc9eacbe514893168397c9b291b8713
(cherry picked from commit 0e81eb420e8974d7815b98e084a94885a1ff1b8b)
"
openstack%2Ftripleo-common~stable%2Fvictoria~I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad,openstack/tripleo-common,stable/victoria,bug/1913782-stable/victoria,I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad,Handle containers without a namespace,MERGED,2021-02-04 15:15:49.000000000,2021-03-03 05:37:41.000000000,2021-03-03 05:35:58.000000000,6,1,0,773969,79474a444353d0f2afff6090274607924c7139d0,23,4,3,1,14985,Alex Schultz,mwhahaha,"Handle containers without a namespace

Satellite server does not include a namespace when exposing containers.
This change fixes our image-serve metadata creation to understand this
concept and build the _catalog we provide correctly. We will only handle
two types of containers path structures with the image-serve.

   * host:port/namespace/container:tag
   * host:port/container:tag

Change-Id: I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/773967
Closes-Bug: #1913782
(cherry picked from commit 7e797317a33a5c5881a1e24b9666ae774ca224c0)
"
openstack%2Fswift~master~I1456faf4de3b787e3104985feb61614492316c90,openstack/swift,master,add_config_to_manage_shard_ranges,I1456faf4de3b787e3104985feb61614492316c90,Fixups and test for manage_shard_ranges conf file loading,ABANDONED,2021-03-02 21:27:02.000000000,2021-03-03 05:37:21.000000000,,120,8,0,778331,6fbed2243dbf724882a56967372963b919c901f3,3,1,1,2,7847,Alistair Coles,acoles,"Fixups and test for manage_shard_ranges conf file loading

Change-Id: I1456faf4de3b787e3104985feb61614492316c90
"
openstack%2Ftripleo-quickstart-extras~master~I41d98002fdd578cdd82adb48cabfc937370d5ba5,openstack/tripleo-quickstart-extras,master,reproducer-fix,I41d98002fdd578cdd82adb48cabfc937370d5ba5,allow users to override nodepool settings for libvirt reproducer,MERGED,2021-02-19 20:34:06.000000000,2021-03-03 05:36:26.000000000,2021-03-03 05:36:26.000000000,13,0,1,776707,82ea5a85c5aa39edb571d0979fa96460691b9221,18,5,3,1,9592,wes hayutin,weshayutin,"allow users to override nodepool settings for libvirt reproducer

copy the libvirt nodepool defaults from their hiding space
directly to the workspace of where users launch the reproducer.

This will allow users to customize the image, memory etc easily.

Change-Id: I41d98002fdd578cdd82adb48cabfc937370d5ba5
"
openstack%2Fos-brick~stable%2Fussuri~Ie3266c81b3c6bb5a2c213a12410539d404d1febe,openstack/os-brick,stable/ussuri,fix-fc-returning-real-path,Ie3266c81b3c6bb5a2c213a12410539d404d1febe,FC: Fix not flushing on detach,MERGED,2021-02-24 15:38:42.000000000,2021-03-03 04:57:44.000000000,2021-03-03 04:56:33.000000000,49,13,0,777408,1e7ad8b7a44c88b484b034d8933b8a2f3bbc9d52,24,4,1,5,10459,Luigi Toscano,ltoscano,"FC: Fix not flushing on detach

When doing multipathed Fibre Channel we may end up not flushing the
volume when disconnecting it if didn't find a multipath when doing
the connection.

The issue is caused by the `connect_volume` call returning a real path
instead of a symlink and us passing the wrong device_info to the
_remove_devices method, which makes the disconnect code incorrectly
identify when a multipath was used to decide whether to do a flush or
not.

This patch fixes these things in order to flush the individual path when
necessary.

Closes-Bug: #1897787
Change-Id: Ie3266c81b3c6bb5a2c213a12410539d404d1febe
(cherry picked from commit 1432c369fb49b7359bd9d48af24133f5c4019402)
(cherry picked from commit 3adcb40678ee771d6701e798f1f50ebce8b63aa3)
"
openstack%2Fopenstack-ansible-os_gnocchi~master~Ia0ee853b14cffd3082346e20bb021da24e3f2c40,openstack/openstack-ansible-os_gnocchi,master,,Ia0ee853b14cffd3082346e20bb021da24e3f2c40,Delete gnocchi_identity_setup,MERGED,2021-02-16 19:37:44.000000000,2021-03-03 04:07:03.000000000,2021-03-03 04:02:32.000000000,7,75,0,775918,503b4d25cf0ef9e28b6f35d0b2569ebbe5fca729,20,3,3,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Delete gnocchi_identity_setup

This file duplicates the purpose of the service_setup.yml
so we're running same set of tasks twice.

Change-Id: Ia0ee853b14cffd3082346e20bb021da24e3f2c40
"
openstack%2Fopenstack-ansible-os_gnocchi~master~Ibf24046371128a693de88c5dab78878aa78b044e,openstack/openstack-ansible-os_gnocchi,master,,Ibf24046371128a693de88c5dab78878aa78b044e,Drop distro tests,MERGED,2021-02-18 12:30:17.000000000,2021-03-03 04:05:56.000000000,2021-03-03 04:02:29.000000000,0,1,0,776425,bf17cc3d699bf711926563d80879ddc26ac87f54,16,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Drop distro tests

Gnocchi does not have distro path so there's no sense in testing it.

Change-Id: Ibf24046371128a693de88c5dab78878aa78b044e
"
openstack%2Ftripleo-ansible~master~I6234b9e9bf6918761ddfa3b0ed24a5304088d185,openstack/tripleo-ansible,master,,I6234b9e9bf6918761ddfa3b0ed24a5304088d185,Remove detach from podman create arguments,ABANDONED,2021-03-02 05:45:11.000000000,2021-03-03 03:47:18.000000000,,4,1,0,778137,2d5b3859e462bf8da6f125d57bf134af8300eeb8,13,4,1,1,8833,Rabi Mishra,rabi,"Remove detach from podman create arguments

This is not supported by new podman.

Change-Id: I6234b9e9bf6918761ddfa3b0ed24a5304088d185
Closes-Bug:#1917366
"
openstack%2Fneutron~master~I9d9e2bd4add5bb6fa4105352bfda739340932571,openstack/neutron,master,bp/address-groups-in-sg-rules,I9d9e2bd4add5bb6fa4105352bfda739340932571,Allow sharing of address groups via RBAC mechanism,MERGED,2021-01-26 01:09:05.000000000,2021-03-03 03:17:05.000000000,2021-03-03 03:15:38.000000000,281,9,19,772460,8094b524f693180fe9f435ef0d1f23b6a44259ae,104,6,13,16,4694,Miguel Lavalle,minsel,"Allow sharing of address groups via RBAC mechanism

Client: https://review.opendev.org/c/openstack/python-openstackclient/+/775045
Tempest tests: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/773274

Allow sharing of address groups via RBAC mechanism

Change-Id: I9d9e2bd4add5bb6fa4105352bfda739340932571
"
openstack%2Fopenstack-ansible-galera_server~master~I88edfe87fd134bdbcf199a48443fc063740a8604,openstack/openstack-ansible-galera_server,master,,I88edfe87fd134bdbcf199a48443fc063740a8604,Configure my.cnf for server when galera_root_user is not root,MERGED,2021-02-16 19:15:21.000000000,2021-03-03 03:08:04.000000000,2021-03-03 03:06:58.000000000,2,1,0,775893,931f3c74a78774f319acfb6867ff9742b9b46e3d,22,4,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Configure my.cnf for server when galera_root_user is not root

When galera_root_user is set to non-root user current behaviour is
to place my.cnf file as a part of the server setup, however
this non-root user is not created yet. User creation is handled
after server proper bootstrap and handlers flush. Having my.cnf
file in place makes bootstrap script fail, since it tries to use
credentials from this file which are not valid yet.

Instead we allow client part of the role to configure my.cnf
on metal deployments and set galera_root_user credentials
in it once user is properly created

Change-Id: I88edfe87fd134bdbcf199a48443fc063740a8604
"
openstack%2Fpython-manilaclient~master~I57111b676487fef0c82f749e90b165465151f0c1,openstack/python-manilaclient,master,secure-rbac,I57111b676487fef0c82f749e90b165465151f0c1,Change public share tests,MERGED,2021-02-23 22:03:52.000000000,2021-03-03 03:04:51.000000000,2021-03-03 03:03:40.000000000,12,6,0,777249,9bc7cec01621080e1403b68c1e1838ad02a6c9e6,13,5,2,3,16643,Goutham Pacha Ravi,gouthamr,"Change public share tests

Manila changed the default RBAC policy
for public shares in the Stein release
but maintained compatibility to the older
expectation that regular/unprivileged
users could create public shares, or
modify private shares to become public [1].

This compatibility is being dropped [2]
So we must adjust the functional test
expectations here.

[1] https://review.opendev.org/634864
[2] https://review.opendev.org/776869

Depends-On: I6e7608be57de8987117f3f4ace018a7eb91c8bd2
Change-Id: I57111b676487fef0c82f749e90b165465151f0c1
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fmasakari~master~I38896adf7ba6ea698053a5deb616135b38f4ca24,openstack/masakari,master,change-769715-1,I38896adf7ba6ea698053a5deb616135b38f4ca24,releasenote for enabled-to-segment,ABANDONED,2021-01-07 12:09:01.000000000,2021-03-03 02:44:44.000000000,,8,0,7,769715,e8f3f003edad95a18b58ee2cae075476a075a965,11,5,2,1,24501,sue,suzhengwei,"releasenote for enabled-to-segment

Change-Id: I38896adf7ba6ea698053a5deb616135b38f4ca24
"
openstack%2Fopenstack-ansible~master~Ib86130d849454f04f5bb8cda5f773b4114d6f05f,openstack/openstack-ansible,master,,Ib86130d849454f04f5bb8cda5f773b4114d6f05f,Bump ansible-base version and collections,MERGED,2021-02-19 07:46:29.000000000,2021-03-03 02:31:19.000000000,2021-03-03 02:28:58.000000000,8,5,0,776581,387a14809a6db1ab99b153908ffbff91bc8f6bd5,20,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump ansible-base version and collections

Change-Id: Ib86130d849454f04f5bb8cda5f773b4114d6f05f
"
openstack%2Fmasakari~master~I1a49a745e26acdfbc48b413ab18dd755e4ad5839,openstack/masakari,master,,I1a49a745e26acdfbc48b413ab18dd755e4ad5839,add enabled to segment,ABANDONED,2021-03-03 02:27:14.000000000,2021-03-03 02:28:50.000000000,,183,62,0,778351,afce6fdb2223d970c6af2bff7f8b76444a0916d0,2,0,1,19,24501,sue,suzhengwei,"add enabled to segment

Sometimes, operators want to temporarily close instance-ha function.
This patch add 'enabled' to segment. If the segment 'enabled' value
is set False, all notifications of this segment will be ignored
and no recovery methods will execuate.

Implements: BP enable-to-segment
Change-Id: I1a49a745e26acdfbc48b413ab18dd755e4ad5839
"
openstack%2Fopenstack-helm~master~If37ec26443feb5328d49e6b3c419305832bdae9e,openstack/openstack-helm,master,Keystone_rbac,If37ec26443feb5328d49e6b3c419305832bdae9e,Update rbac api version for keystone,MERGED,2021-01-30 08:46:02.000000000,2021-03-03 02:26:08.000000000,2021-03-03 02:24:22.000000000,11,9,0,773235,da9f28cefa7e7afb262ab0b0b7f4193b9f98c7fc,47,8,7,6,30449,jinyuanliu,jinyuanliu,"Update rbac api version for keystone

When using a helm3 to deploy , it fails. Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.

Change-Id: If37ec26443feb5328d49e6b3c419305832bdae9e
"
openstack%2Fkolla~master~I80fcc8a9ebcf1475c25c1a0632140214171ef53a,openstack/kolla,master,,I80fcc8a9ebcf1475c25c1a0632140214171ef53a,DNM: test2,ABANDONED,2021-03-03 02:04:52.000000000,2021-03-03 02:05:27.000000000,,0,0,0,778349,1f97455918012c98ef7af118bb4aa5eb3846b08e,2,0,1,1,26285,wu.chunyang,wu.chunyang,"DNM: test2

Change-Id: I80fcc8a9ebcf1475c25c1a0632140214171ef53a
"
openstack%2Fkolla~master~I7123c14b240b95364c95b88de48558f01c21bd24,openstack/kolla,master,,I7123c14b240b95364c95b88de48558f01c21bd24,DNM: test1,ABANDONED,2021-03-03 02:04:52.000000000,2021-03-03 02:05:14.000000000,,0,0,0,778348,315245fa3c996abcd0a2d3b2a9d84107f4f102f6,2,0,1,1,26285,wu.chunyang,wu.chunyang,"DNM: test1

Change-Id: I7123c14b240b95364c95b88de48558f01c21bd24
"
openstack%2Foctavia~master~I11083f3917b0f3694d7d7a7f87a47ce612fccfd8,openstack/octavia,master,task/41953,I11083f3917b0f3694d7d7a7f87a47ce612fccfd8,Defer import of octavia.api.config,ABANDONED,2021-03-01 10:28:59.000000000,2021-03-03 01:20:03.000000000,,2,1,3,777974,e56998c16be8d86dd315482179f02e39301436d2,17,2,7,1,9816,Takashi Kajinami,kajinamit,"Defer import of octavia.api.config

When octavia.api.config is imported, it also triggers import of
octavia.api.v2.types.* which were included by octavia.db.models.
Because this import is called in a very early stage before config files
are loaded, some modules are initialized with the default config value
instead of the actual value written in octavia.conf.

This change defers import of the octavia.api.config modules so that
it is included only after config files are actually loaded.

Story 2008666
Task 41953

Change-Id: I11083f3917b0f3694d7d7a7f87a47ce612fccfd8
"
openstack%2Fneutron~stable%2Fstein~I0aca489715ddd0da97036e75c5c4265b713c19b8,openstack/neutron,stable/stein,bug/1916041,I0aca489715ddd0da97036e75c5c4265b713c19b8,Fix IPv6 cidr used by public network in tempest-slow job,MERGED,2021-02-24 14:51:33.000000000,2021-03-03 01:15:18.000000000,2021-03-03 01:11:11.000000000,14,0,1,777389,3bec05e90ffe6c56aab2923876192c9f10435bdc,39,8,3,1,11975,Slawek Kaplonski,slaweq,"Fix IPv6 cidr used by public network in tempest-slow job

Same issue was fixed in tempest in [1] but it isn't in tempest 26.0.0
so when tempest was pinned to that version in stable/stein jobs, it
started failing with the error like described in [2].

This patch makes the same fix as was done in Tempest but in Neutron repo
for stable/stein job only.

[1] https://review.opendev.org/c/openstack/tempest/+/774764
[2] https://bugs.launchpad.net/neutron/+bug/1914037

Change-Id: I0aca489715ddd0da97036e75c5c4265b713c19b8
"
openstack%2Fneutron~master~Ie91a6a50fbda806f0c6ccafa9d3b38083715df65,openstack/neutron,master,bug/1917370,Ie91a6a50fbda806f0c6ccafa9d3b38083715df65,[Functional] Mock classes from the ovn maintenance module,MERGED,2021-03-01 22:04:03.000000000,2021-03-03 01:04:40.000000000,2021-03-03 01:02:35.000000000,6,0,0,778080,952c84779571a27777348aea80532b471e8ad01a,28,6,2,1,11975,Slawek Kaplonski,slaweq,"[Functional] Mock classes from the ovn maintenance module

Classes MaintenanceThread and HashRingHealthCheckPeriodics
are now mocked in the TestOVNFunctionalBase.

Closes-Bug: #1917370
Change-Id: Ie91a6a50fbda806f0c6ccafa9d3b38083715df65
"
openstack%2Fos-vif~master~Ia548cd56edac17ffb73624868ef8ad46488915f1,openstack/os-vif,master,,Ia548cd56edac17ffb73624868ef8ad46488915f1,Remove the unused coding style modules,ABANDONED,2020-10-30 03:52:23.000000000,2021-03-03 01:00:39.000000000,,0,5,2,760491,40f1c240c92dbd72a38f4222118f705ea709ffa3,24,7,2,1,32291,wushiming,wushiming,"Remove the unused coding style modules

Python modules related to coding style checks (listed in blacklist.txt
in openstack/requirements repo) are dropped from lower-constraints.txt
as they are not actually used in tests

Change-Id: Ia548cd56edac17ffb73624868ef8ad46488915f1
"
openstack%2Fnetworking-sfc~master~I83a070211939f9eeaffa95d1b4b6d9c3b0655960,openstack/networking-sfc,master,babel,I83a070211939f9eeaffa95d1b4b6d9c3b0655960,remove babel.cfg,MERGED,2020-11-10 07:35:03.000000000,2021-03-03 00:30:48.000000000,2021-03-03 00:28:02.000000000,0,15,0,762085,4daafc6a8020623dea698422ec717d6c0a678a94,11,6,1,2,32029,likui,likui,"remove babel.cfg

Remove babel.cfg and the translation bits from setup.cfg, those are not
needed anymore.

Change-Id: I83a070211939f9eeaffa95d1b4b6d9c3b0655960
"
openstack%2Fnetworking-sfc~master~I10ac6bc34327766f81918f3a73158866173e7f29,openstack/networking-sfc,master,,I10ac6bc34327766f81918f3a73158866173e7f29,bump py37 to py38 in tox.ini,MERGED,2020-11-04 03:16:44.000000000,2021-03-03 00:29:30.000000000,2021-03-03 00:27:58.000000000,2,1,0,761267,a76ba80abcd64529ca0dac9ae4c80641d5393fe3,10,5,1,2,32238,wdd,wangzihao,"bump py37 to py38 in tox.ini

since 'victoria' cycle, we should test py38 by default.

[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html

Change-Id: I10ac6bc34327766f81918f3a73158866173e7f29
"
openstack%2Fopenstack-zuul-jobs~master~I1420508f0513c52866aa637784a51f7c22f6d204,openstack/openstack-zuul-jobs,master,rename-chinese-locales,I1420508f0513c52866aa637784a51f7c22f6d204,translation: Handle renaming of Chinese locales in Django,MERGED,2021-02-02 14:21:14.000000000,2021-03-03 00:05:30.000000000,2021-03-03 00:04:15.000000000,44,0,6,773689,b515ef9819832a1ac3936a59234077ce3dd8e94a,18,5,3,2,841,Akihiro Motoki,amotoki,"translation: Handle renaming of Chinese locales in Django

Horizon is switching Chinese locales from zh-cn/zh-tw to zh-hans/zh-hant
in horizon and horizon plugins.
This change follows Django change which happend more than five years ago
and the new language code form is commonly used.

Language codes in Zanata are not changed, so we need to covert the
relevant language codes in propose_translation_update.sh.
It allows us to avoid doing it manually and also allows us to
switch these language codes almost once across horizon and plugins.

The detail is explained in the mailing list post.
http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020169.html

Change-Id: I1420508f0513c52866aa637784a51f7c22f6d204
"
openstack%2Ftrove-dashboard~master~I26e3ca1746d7898334699192ad0581744c613248,openstack/trove-dashboard,master,fix-backup-status,I26e3ca1746d7898334699192ad0581744c613248,Support Restored status for backup,MERGED,2021-03-02 22:54:25.000000000,2021-03-03 00:00:06.000000000,2021-03-03 00:00:06.000000000,6,3,1,778337,25347e64fcb752c1105ede076f26e66da7582149,8,2,2,3,6732,Lingxian Kong,kong,"Support Restored status for backup

Change-Id: I26e3ca1746d7898334699192ad0581744c613248
"
openstack%2Fopenstack-ansible-ceph_client~master~I46311bb1fafb9d5c401c4899aab64d562117d658,openstack/openstack-ansible-ceph_client,master,osa-facts,I46311bb1fafb9d5c401c4899aab64d562117d658,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 18:03:32.000000000,2021-03-02 23:56:47.000000000,2021-03-02 23:55:25.000000000,22,22,0,777177,8e7d64641cbad47df51af3a38555bef0f5e01768,11,3,2,7,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I46311bb1fafb9d5c401c4899aab64d562117d658
"
openstack%2Fopenstack-ansible-os_tempest~master~Ic75eac3e27fd542370a04f9bd946d907f0756061,openstack/openstack-ansible-os_tempest,master,osa-facts,Ic75eac3e27fd542370a04f9bd946d907f0756061,Use ansible_facts[] instead of fact variables,MERGED,2021-03-01 10:29:59.000000000,2021-03-02 23:47:43.000000000,2021-03-02 23:46:29.000000000,14,14,0,777975,049a1aed1e5e14e39b1645d05e7e642aadbfdf50,11,4,1,4,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Ic75eac3e27fd542370a04f9bd946d907f0756061
"
openstack%2Fkayobe~stable%2Ftrain~Ia885a226de30d72610dca2eb2f194cef10193095,openstack/kayobe,stable/train,story/2008546-stable/train,Ia885a226de30d72610dca2eb2f194cef10193095,Quote kolla limit when calling kolla-ansible,MERGED,2021-03-02 10:51:16.000000000,2021-03-02 23:41:20.000000000,2021-03-02 23:40:04.000000000,8,3,0,778109,a3557353aa75b0a27e7a199d842a3961a405d2ea,8,3,1,3,14826,Mark Goddard,mgoddard,"Quote kolla limit when calling kolla-ansible

This is necessary for correctly passing limits containing special
characters such as ~ or &.

Change-Id: Ia885a226de30d72610dca2eb2f194cef10193095
Story: 2008546
Task: 41651
(cherry picked from commit a1c9a8152508785d5babe4ed98eb6a743932a229)
"
openstack%2Ftrove-dashboard~master~Idea67ecf7205e0b0544c2a22e7b85b2642021021,openstack/trove-dashboard,master,create-backup-strategy,Idea67ecf7205e0b0544c2a22e7b85b2642021021,Create Backup Strategy,MERGED,2021-01-19 21:09:33.000000000,2021-03-02 23:09:14.000000000,2021-03-02 23:09:14.000000000,119,5,1,771517,b4f8eeb094c68bfe1fa13f922a2e88f33e0b602a,14,3,5,7,1736,Ivan Kolodyazhny,e0ne,"Create Backup Strategy

Change-Id: Idea67ecf7205e0b0544c2a22e7b85b2642021021
"
openstack%2Fneutron-vpnaas-dashboard~master~I49f66cb09c3fc1dbcbea9085611574f9caac1389,openstack/neutron-vpnaas-dashboard,master,l-c-fix,I49f66cb09c3fc1dbcbea9085611574f9caac1389,Fix lower-constraints,MERGED,2021-02-16 06:34:47.000000000,2021-03-02 22:56:34.000000000,2021-03-02 22:55:20.000000000,0,7,0,775744,ac9bb60797ce860a8721b7114e4f2f5e89d21f00,8,3,1,1,841,Akihiro Motoki,amotoki,"Fix lower-constraints

hacking min version does not match test-requirements, so lower-constraints
job fails. lower-constraints job does not need linters, so we can drop
linters from lower-constraints.txt.

Change-Id: I49f66cb09c3fc1dbcbea9085611574f9caac1389
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I51b71a2c74f954e9a50fb7008f460aee6a74734f,openstack/tripleo-ansible,stable/ussuri,bug/1915761-stable/ussuri,I51b71a2c74f954e9a50fb7008f460aee6a74734f,Fix bootstrap ansible_fact,MERGED,2021-02-23 21:30:34.000000000,2021-03-02 22:56:26.000000000,2021-03-02 22:56:26.000000000,1,1,0,777237,2dcc4f1fd99e0730b78efa4688bf98b480eb908b,14,4,3,1,14985,Alex Schultz,mwhahaha,"Fix bootstrap ansible_fact

Missed the distribution_major_version switch.

Change-Id: I51b71a2c74f954e9a50fb7008f460aee6a74734f
(cherry picked from commit 20a1a4c39e6926ca6a649d5fe96124f26e97ef5d)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1,openstack/tripleo-ansible,stable/ussuri,bug/1915761-stable/ussuri,Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1,Use ansible_facts instead,MERGED,2021-02-23 21:30:34.000000000,2021-03-02 22:56:23.000000000,2021-03-02 22:56:23.000000000,195,177,1,777236,523c95e8626ac8aa9c87f9005b70871e356767c0,16,5,3,39,14985,Alex Schultz,mwhahaha,"Use ansible_facts instead

In order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts
instead of ansible_* vars. This change switches our distribution and
hostname related items to use ansible_facts instead.

Change-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1
Related-Bug: #1915761
(cherry picked from commit e7bc62c20e6017704fbdd476ce9143e23f8504ec)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I51b71a2c74f954e9a50fb7008f460aee6a74734f,openstack/tripleo-ansible,stable/train,bug/1915761-stable/train,I51b71a2c74f954e9a50fb7008f460aee6a74734f,Fix bootstrap ansible_fact,MERGED,2021-02-24 16:01:43.000000000,2021-03-02 22:56:19.000000000,2021-03-02 22:56:19.000000000,1,1,0,777419,85f9debb7e0b579014a18b2ae70996602ad18fb9,12,3,2,1,14985,Alex Schultz,mwhahaha,"Fix bootstrap ansible_fact

Missed the distribution_major_version switch.

Change-Id: I51b71a2c74f954e9a50fb7008f460aee6a74734f
(cherry picked from commit 20a1a4c39e6926ca6a649d5fe96124f26e97ef5d)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1,openstack/tripleo-ansible,stable/train,bug/1915761-stable/train,Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1,Use ansible_facts instead,MERGED,2021-02-24 16:01:43.000000000,2021-03-02 22:50:52.000000000,2021-03-02 22:50:52.000000000,201,183,0,777418,b57811fe1389b6d8fc95803dc1b8e6cf6daf6af1,9,3,2,40,14985,Alex Schultz,mwhahaha,"Use ansible_facts instead

In order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts
instead of ansible_* vars. This change switches our distribution and
hostname related items to use ansible_facts instead.

Change-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1
Related-Bug: #1915761
(cherry picked from commit e7bc62c20e6017704fbdd476ce9143e23f8504ec)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676,openstack/tripleo-ansible,stable/train,bug/1915761-stable/train,I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676,Update skeleton role to use ansible_facts,MERGED,2021-02-24 16:01:43.000000000,2021-03-02 22:50:49.000000000,2021-03-02 22:50:49.000000000,6,6,0,777417,c574469fbd5a18e47637c9388ace19d5c03c0010,8,2,2,1,14985,Alex Schultz,mwhahaha,"Update skeleton role to use ansible_facts

Change-Id: I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676
(cherry picked from commit c0876630bdcdcf0dc297ff99c9de793f4e1573a5)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e,openstack/tripleo-ansible,stable/train,bug/1915761-stable/train,I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e,Reduce fact gathering,MERGED,2021-02-24 16:01:43.000000000,2021-03-02 22:50:43.000000000,2021-03-02 22:50:43.000000000,35,8,0,777416,684f87c8e13c2af44780f9efb1e2ab1e1f381178,9,3,2,4,14985,Alex Schultz,mwhahaha,"Reduce fact gathering

We've seen that large amount of facts for hosts have a direct impact on
task execution as part of the deployment.  This change reduces the
amount of data that we are collecting when we use facts and leverages
more targeted methods to collect the required information.

Change-Id: I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e
Related-Bug: #1915761
(cherry picked from commit f6c0acc7fe7e4571fc923d85422d7781b6d35151)
"
openstack%2Fglance~master~Ic2ac2a528206c50c38e948a096daf9eb8e5eb715,openstack/glance,master,bug/1913625,Ic2ac2a528206c50c38e948a096daf9eb8e5eb715,Make functional tests set node_staging_uri,MERGED,2021-02-24 03:06:11.000000000,2021-03-02 22:42:51.000000000,2021-03-02 22:41:17.000000000,4,5,0,777277,e9852fb6251c655f0e384c6b0b8677bd556f17a1,15,3,3,2,4393,Dan Smith,danms,"Make functional tests set node_staging_uri

Currently it is not possible to configure the staging directory
URI of the functional workers. We need to be able to do that in order
to enable the stage cleaning behavior. Right now, they're all sharing
/tmp/staging, which will cause workers to conflict while running in
parallel. This causes them to use their private test directory,
which may also help some other spurious failures due to interaction.

Related-Bug: #1913625
Change-Id: Ic2ac2a528206c50c38e948a096daf9eb8e5eb715
"
openstack%2Frequirements~master~I3c6922dc33f2a9f565659dab1825fe6890dd932c,openstack/requirements,master,openstack/requirements/constraints/noclob,I3c6922dc33f2a9f565659dab1825fe6890dd932c,Updated from generate-constraints,MERGED,2021-03-02 06:38:10.000000000,2021-03-02 22:42:44.000000000,2021-03-02 22:41:11.000000000,6,10,0,778140,3393580756a6cb13303edbda15b3de4931f89665,16,2,3,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I3c6922dc33f2a9f565659dab1825fe6890dd932c
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Ftrove-dashboard~master~Id53e74cf5a4b96b8960bec385f00b978f9d1520d,openstack/trove-dashboard,master,,Id53e74cf5a4b96b8960bec385f00b978f9d1520d,Fix up broken instance_detach_replica api call,MERGED,2021-02-23 21:49:49.000000000,2021-03-02 22:37:56.000000000,2021-03-02 22:37:56.000000000,2,2,0,777246,bb387dcbcc254ecb0979f0847704ac58a2d33c73,6,2,1,1,3031,Sam Morrison,sorrison,"Fix up broken instance_detach_replica api call

Due to a backwards incompatible change in troveclient the api call edit
has been replaced with update.

Change-Id: Id53e74cf5a4b96b8960bec385f00b978f9d1520d
"
openstack%2Fkayobe~stable%2Fussuri~Ia885a226de30d72610dca2eb2f194cef10193095,openstack/kayobe,stable/ussuri,story/2008546-stable/ussuri,Ia885a226de30d72610dca2eb2f194cef10193095,Quote kolla limit when calling kolla-ansible,MERGED,2021-03-02 10:50:50.000000000,2021-03-02 22:25:22.000000000,2021-03-02 22:24:08.000000000,8,3,0,778108,d2c5f8e3f09a5027d80d689966e9d01fe9409774,12,4,1,3,14826,Mark Goddard,mgoddard,"Quote kolla limit when calling kolla-ansible

This is necessary for correctly passing limits containing special
characters such as ~ or &.

Change-Id: Ia885a226de30d72610dca2eb2f194cef10193095
Story: 2008546
Task: 41651
(cherry picked from commit a1c9a8152508785d5babe4ed98eb6a743932a229)
"
openstack%2Ftripleo-common~stable%2Ftrain~Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410,openstack/tripleo-common,stable/train,quay,Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410,Switch defaults to quay.io,MERGED,2021-02-10 21:38:46.000000000,2021-03-02 22:22:24.000000000,2021-03-02 22:21:14.000000000,226,225,3,775026,65e760432d9aff156b66b3d22e104053e98fa30b,16,5,3,5,14985,Alex Schultz,mwhahaha,"Switch defaults to quay.io

updated for train

Change-Id: Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410
(cherry picked from commit 38392c009022dc76a5ea4413c4b25da3895bd9ff)
"
openstack%2Ftrove-dashboard~master~I0ed17a7761837623c21cd1a0992a71ab0342c791,openstack/trove-dashboard,master,,I0ed17a7761837623c21cd1a0992a71ab0342c791,Fix up get access method in create_instance workflow,MERGED,2021-02-23 21:22:57.000000000,2021-03-02 21:59:33.000000000,2021-03-02 21:59:33.000000000,1,1,0,777231,c3c95258004fa72924f3066d920e4a9c424f2375,8,2,2,1,3031,Sam Morrison,sorrison,"Fix up get access method in create_instance workflow

This would never work and would result in a key error.

Story: 2008627
Task: 41831
Change-Id: I0ed17a7761837623c21cd1a0992a71ab0342c791
"
openstack%2Ftrove-dashboard~master~I5e9a7e70e4942725ee7804bbe886d236aeb6a673,openstack/trove-dashboard,master,,I5e9a7e70e4942725ee7804bbe886d236aeb6a673,Rename the 'rename instance' function to 'update instance',MERGED,2021-02-23 00:22:40.000000000,2021-03-02 21:51:14.000000000,2021-03-02 21:51:14.000000000,21,21,0,777028,37e0ef5c3c23438afcd05be5b1344772eb8d2317,6,3,1,8,3031,Sam Morrison,sorrison,"Rename the 'rename instance' function to 'update instance'

Change-Id: I5e9a7e70e4942725ee7804bbe886d236aeb6a673
"
openstack%2Fopenstack-helm-infra~master~Ia9b4b9ea1070e74172f10505709e68063054810a,openstack/openstack-helm-infra,master,,Ia9b4b9ea1070e74172f10505709e68063054810a,Remove kafka residue,MERGED,2021-03-02 08:45:36.000000000,2021-03-02 21:50:48.000000000,2021-03-02 21:49:25.000000000,2,4,0,778148,d3d16964da8258e9a2cee5995d8433d956e5e820,14,4,1,3,30449,jinyuanliu,jinyuanliu,"Remove kafka residue

About kafka chart,It's been removed,Remove kafka residue now.

Change-Id: Ia9b4b9ea1070e74172f10505709e68063054810a
"
openstack%2Fovn-octavia-provider~master~Iad5c348d034ef7b83184ba15bacd2fb618d9f951,openstack/ovn-octavia-provider,master,fix-oslo.db-constraint,Iad5c348d034ef7b83184ba15bacd2fb618d9f951,Fix oslo.db constraint,ABANDONED,2020-12-15 19:34:55.000000000,2021-03-02 21:47:55.000000000,,1,1,0,767209,e16a2703c6a4fc5f6c9a1b5df71313c84613a9ea,3,1,1,1,1131,Brian Haley,brian-haley,"Fix oslo.db constraint

Should be 8.4.0 as there is no 8.5.0 yet.

Change-Id: Iad5c348d034ef7b83184ba15bacd2fb618d9f951
"
openstack%2Fnova~master~I944a0ed33d9ac8bda81a4e09a33e8fd768b6f95d,openstack/nova,master,bp/compact-db-migrations-wallaby,I944a0ed33d9ac8bda81a4e09a33e8fd768b6f95d,apidb: Compact Newton database migrations,MERGED,2020-10-23 11:42:17.000000000,2021-03-02 21:46:24.000000000,2021-03-02 21:43:04.000000000,392,900,1,759401,302f2bc4f775a13a8931f9a05d78452c37a04703,45,12,3,17,15334,Stephen Finucane,sfinucan,"apidb: Compact Newton database migrations

Specific changes include:

- Add 'instance_uuid' and 'instance' columns to 'build_requests' table
  (013)
- Add index covering 'instance_uuid' column of 'build_requests' table
  (013)
- Add unique constraint covering 'instance_uuid' column of
  'build_requests' table (013)
- Add 'keypairs' table (014)
- Drop foreign key constraint covering 'request_spec_id' of
  'build_requests' table (015)
- Drop unique constraint covering 'request_spec_id' of 'build_requests'
  table (015)
- Alter 'request_spec_id', 'user_id', 'security_groups' and
  'config_drive' columns of 'build_requests' table to be nullable (015)
- Add 'resource_providers', 'inventories', 'allocations', and
  'resource_provider_aggregates' tables (016)
- Add 'aggregate', 'aggregate_hosts' and 'aggregate_metadata' tables
  (017)
- Add 'groups', 'group_policy' and 'group_member' tables (018)
- Add 'block_device_mappings' column to 'build_requests' table (019)
- Alter 'block_device_mappings' column of 'build_requests' table to be
  'MediumText' (020)

Change-Id: I944a0ed33d9ac8bda81a4e09a33e8fd768b6f95d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstacksdk~master~Ide4125caa6c45e8d7d985b3e6a227a619ac94c40,openstack/openstacksdk,master,,Ide4125caa6c45e8d7d985b3e6a227a619ac94c40,Switch cloud.networking.qos* operations to rely on proxy layer,MERGED,2021-01-15 14:41:24.000000000,2021-03-02 21:46:15.000000000,2021-03-02 21:44:06.000000000,284,355,14,770945,330edbb208abef40da58693d7ebe39d32f5913d8,26,3,6,12,27900,Artem Goncharov,gtema,"Switch cloud.networking.qos* operations to rely on proxy layer

This change switches Neutron Qos* operations in the cloud layer to use
the proxy layer instead of reimplementing direct requests.

Change-Id: Ide4125caa6c45e8d7d985b3e6a227a619ac94c40
"
openstack%2Fneutron~master~Iec949922be0779a00bf405c2f1d5646c588d323c,openstack/neutron,master,improve-neutron-ci,Iec949922be0779a00bf405c2f1d5646c588d323c,Reduce number of the workers in fullstack gate job,MERGED,2021-03-02 08:50:28.000000000,2021-03-02 21:46:10.000000000,2021-03-02 21:43:40.000000000,1,1,0,778149,d9542b6a0164cbe0c0fd32b15d0d5db652d47a2f,10,4,1,1,11975,Slawek Kaplonski,slaweq,"Reduce number of the workers in fullstack gate job

Fullstack job is using different tox env in the gate
(dsvm-fullstack-gate). To reduce memory usage in that job, some
time ago, in patch [1] we reduced number of test workers from 4
to 3. But it was done for ""dsvm-fullstack"" tox env, not for
""dsvm-fullstack-gate"" thus it had no effect on our CI runs.
Now it is changed also in the CI job's tox env.

[1] https://review.opendev.org/c/openstack/neutron/+/764907

Change-Id: Iec949922be0779a00bf405c2f1d5646c588d323c
Related-Bug: #1906366
"
openstack%2Ftripleo-heat-templates~master~I529f91d5391d24bb5a6af37d3486f6ddf6cabac7,openstack/tripleo-heat-templates,master,bug/1917195,I529f91d5391d24bb5a6af37d3486f6ddf6cabac7,Fix logging_sources map_merge issues,MERGED,2021-02-28 04:06:49.000000000,2021-03-02 21:46:01.000000000,2021-03-02 21:46:01.000000000,17,34,0,777877,843713d06e8323c8bdd3aa2ca158d0b4dfe22b5f,22,5,4,7,24245,Harald Jensås,harald.jensas,"Fix logging_sources map_merge issues

Fixes an issue where map_merge was used incorrectly,
trying to merge dict with null and passing a list of
only one map.

This caused the map merge not to happen, and the
$RoleServiceChain output to carry the actual map_merge
in service_config_settings instead of the intended
merged map of rsyslog logging_sources.

Closes-Bug: #1917195
Change-Id: I529f91d5391d24bb5a6af37d3486f6ddf6cabac7
"
openstack%2Fcinder~stable%2Fussuri~I00f1bd46bc8715591016f59c32651fc2c9cddf35,openstack/cinder,stable/ussuri,bug/1890591,I00f1bd46bc8715591016f59c32651fc2c9cddf35,[SVF]:Reduce slowness by caching pool information,MERGED,2020-12-17 08:30:23.000000000,2021-03-02 21:26:03.000000000,2021-03-02 21:18:04.000000000,96,1,65,767478,8426a5bdc0c2becdab87920740bee8e1bf983992,65,5,4,3,32171,Girish Chilukuri,GirishChilukuri,"[SVF]:Reduce slowness by caching pool information

[Spectrum Virtualize Family] Data_reduction is a pool specific property,
this property should be saved for a specific pool during initialisation.

With this, calls to get_pool_attrs can be reduced everytime create_vdisk
is called, in order to check if pool is a data_reduction_pool.

closes bug: #1890591

Change-Id: I00f1bd46bc8715591016f59c32651fc2c9cddf35
(cherry picked from commit 7d89890704ef2ed9265a5dec9cbe47cb1ffc5aaa)
(cherry picked from commit e2cddc108b174895b3575e9a2640d3cd8afc21ab)
"
openstack%2Fcinder~stable%2Fussuri~I510b5b4a2fd4b62ecfcfa7d8604a716513cbc6e8,openstack/cinder,stable/ussuri,,I510b5b4a2fd4b62ecfcfa7d8604a716513cbc6e8,Require oslo.serialization 3.1.2,MERGED,2021-02-09 15:28:14.000000000,2021-03-02 21:24:27.000000000,2021-03-02 21:17:31.000000000,2,2,0,774680,f4359c523f4cf47eabad7fdcfa3f35c22ebc619e,54,4,1,2,4523,Eric Harney,eharney,"Require oslo.serialization 3.1.2

Older versions cause the RBD driver to break
when using JSON logging.  (bug #1908607)

Change-Id: I510b5b4a2fd4b62ecfcfa7d8604a716513cbc6e8
"
openstack%2Fpython-swiftclient~stable%2Fussuri~Ibf0c891782afe014cc453b713a94c187340d172e,openstack/python-swiftclient,stable/ussuri,drop-lc,Ibf0c891782afe014cc453b713a94c187340d172e,Drop lower-constraints testing,MERGED,2021-03-01 21:04:49.000000000,2021-03-02 21:23:57.000000000,2021-03-02 21:17:26.000000000,2,54,0,778071,c169bfd50557ea772335fbd20948ff6308a2899f,9,3,1,3,15197,Pierre Riteau,priteau,"Drop lower-constraints testing

The OpenStack community consensus seems to be that it's not worth the
hassle of fixing. *Maybe* we can revisit this if we ever drop py2
support?

Reasonable spot to start on ML threads:
http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

Change-Id: Ibf0c891782afe014cc453b713a94c187340d172e
Depends-On: https://review.opendev.org/c/openstack/requirements/+/777025
(cherry picked from commit 06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5)
"
openstack%2Fcinder~master~I85855921894dddee3d3a4381129417a960796749,openstack/cinder,master,CI_WIKI_NAME,I85855921894dddee3d3a4381129417a960796749,Fix CI_WIKI_NAME entries,MERGED,2021-02-18 13:57:34.000000000,2021-03-02 21:23:08.000000000,2021-03-02 21:17:04.000000000,17,17,2,776458,868646d28e4c64edf8ec327d63c16ac2cbab6d4c,75,4,2,16,11904,Sean McGinnis,SeanM,"Fix CI_WIKI_NAME entries

A lot of drivers had CI_WIKI_NAME entries pointing to invalid third
party driver pages [0]. This updates them so we can automate pulling
CI account information when generating the CI status report.

[0] https://wiki.openstack.org/wiki/ThirdPartySystems

Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I85855921894dddee3d3a4381129417a960796749
"
openstack%2Fopenstack-helm-infra~master~I5bf096a87e1956c943c45d083e2ab1afc391fd92,openstack/openstack-helm-infra,master,rgw-tls-3,I5bf096a87e1956c943c45d083e2ab1afc391fd92,[CPCEPH-74] Enable tls for radosgw ingress,ABANDONED,2021-01-26 15:51:00.000000000,2021-03-02 21:18:43.000000000,,43,3,2,772565,4a3b65a2896419e89cf4eb4f36220e65b51d491b,22,2,10,6,32190,Frank Ritchie,fr801x,"[CPCEPH-74] Enable tls for radosgw ingress

Change-Id: I5bf096a87e1956c943c45d083e2ab1afc391fd92
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I92353622994b28c895d95bdcbe348a73b6c6bb99,openstack/tripleo-heat-templates,stable/victoria,ffu-mariadb-upgrade-stable/victoria,I92353622994b28c895d95bdcbe348a73b6c6bb99,Upgrade mariadb storage during upgrade tasks,MERGED,2021-03-01 13:19:24.000000000,2021-03-02 20:58:10.000000000,2021-03-02 20:58:10.000000000,83,39,0,777911,724d65804d5e22693c3a706959f3a46b328d4521,8,4,1,4,20778,Damien Ciabrini,dciabrin,"Upgrade mariadb storage during upgrade tasks

When a tripleo major upgrade or FFU causes an update or mariadb
to a new major version (e.g. 10.1 -> 10.3), some internal DB
tables must be upgraded (myisam tables), and sometimes the
existing user tables may be migrated to new mariadb defaults.

Move the db-specific upgrade steps into a dedicated script and
make sure that it is called at the right time while upgrading
the undercloud and/or the overcloud.

Closes-Bug: #1913438

Change-Id: I92353622994b28c895d95bdcbe348a73b6c6bb99
(cherry picked from commit 712cfcc71bb9061082154460a6e04a619055f0a0)
"
openstack%2Fmanila~master~Id3f3192fb9948f71b0b9cb03d2ef8ffd0b770620,openstack/manila,master,secure-rbac,Id3f3192fb9948f71b0b9cb03d2ef8ffd0b770620,Implement secure RBAC for quotas,MERGED,2020-11-19 21:17:02.000000000,2021-03-02 20:52:38.000000000,2021-03-02 20:47:11.000000000,39,6,0,763444,46f65eafa9fd4beb9ec1b3f196cdb9fedb6b2528,21,6,3,1,5046,Lance Bragstad,ldbragst,"Implement secure RBAC for quotas

This commit updates the policies for quotas to understand scope checking and
account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: Id3f3192fb9948f71b0b9cb03d2ef8ffd0b770620
"
openstack%2Fpython-tripleoclient~master~Icfa40c7e92b5adeb57017c037aeb3409e840f425,openstack/python-tripleoclient,master,,Icfa40c7e92b5adeb57017c037aeb3409e840f425,Remove default plan-environment.yaml references,MERGED,2021-02-24 04:03:24.000000000,2021-03-02 20:51:30.000000000,2021-03-02 20:46:47.000000000,19,184,0,777293,4a8ab942ce24a535067dc399f63fde960042c5fd,12,5,1,7,8833,Rabi Mishra,rabi,"Remove default plan-environment.yaml references

Now, we only use it to specify the derive parameter
playbooks.

Change-Id: Icfa40c7e92b5adeb57017c037aeb3409e840f425
"
openstack%2Fmanila~master~I5c8ebcf72ab158021deab772693b869c35962a2b,openstack/manila,master,secure-rbac,I5c8ebcf72ab158021deab772693b869c35962a2b,Implement secure RBAC for quota classes,MERGED,2020-11-19 21:17:02.000000000,2021-03-02 20:51:23.000000000,2021-03-02 20:47:05.000000000,28,4,0,763443,5011b6719c50a31d435ca8bd2f9f5c97e1daa6df,27,7,3,1,5046,Lance Bragstad,ldbragst,"Implement secure RBAC for quota classes

This commit updates the policies for quota classes to understand scope checking
and account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: I5c8ebcf72ab158021deab772693b869c35962a2b
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I567d6b2cd66d5eb98971cd54987c1fbea3c1da78,openstack/puppet-tripleo,stable/ussuri,memcached-cert-stable/ussuri,I567d6b2cd66d5eb98971cd54987c1fbea3c1da78,Add ability to specify memcached port,MERGED,2021-02-15 11:18:18.000000000,2021-03-02 20:51:19.000000000,2021-03-02 20:45:54.000000000,63,42,0,775601,f7d0ff5f5b435afafea957f3393b8af052e57061,12,6,2,22,14250,Grzegorz Grasza,xek,"Add ability to specify memcached port

The port defaults to hiera('memcached_authtoken_port', 11211)
for authtoken middleware and hiera('memcached_port', 11211)
for other uses. Different ports might be set for security
and performance tuning.

Change-Id: I567d6b2cd66d5eb98971cd54987c1fbea3c1da78
(cherry picked from commit f460e659ba72a99d21b5aa69d9099c42cc868cfc)
"
openstack%2Ftripleo-common-tempest-plugin~master~Iea4ca397dfc5911f6221a4326e50f32ee2d51580,openstack/tripleo-common-tempest-plugin,master,rm-testrconf,Iea4ca397dfc5911f6221a4326e50f32ee2d51580,Remove .testr.conf,MERGED,2020-05-19 07:11:35.000000000,2021-03-02 20:46:53.000000000,2021-03-02 20:46:53.000000000,0,7,0,729161,15a38939392daa0d38ed58c20aba2d95dbb91c41,9,4,1,1,5689,Masayuki Igawa,igawa,"Remove .testr.conf

This commit removes .testr.conf since this repo already has
.stestr.conf. We just need .stestr.conf instead of .testr.conf.

Change-Id: Iea4ca397dfc5911f6221a4326e50f32ee2d51580
"
openstack%2Fos-refresh-config~stable%2Fvictoria~Ic6e43277b123e9f9e5a917c039e4127d02a83e23,openstack/os-refresh-config,stable/victoria,tripleo-ci-reduce,Ic6e43277b123e9f9e5a917c039e4127d02a83e23,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-25 16:49:17.000000000,2021-03-02 20:46:27.000000000,2021-03-02 20:46:27.000000000,4,6,0,777620,312f7a3a3088e0d3027da5f22483012b1f355bc4,10,3,2,4,8449,Marios Andreou,marios,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

Also updates .gitreview for victoria so I can post to that branch,
fixes test-requirements for issue seen at [3] and fixes pep8 issue
W504 line break after binary operator

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce
[3] https://zuul.opendev.org/t/openstack/build/fa2946b4f5f043558b43b1c61ea53a07

Change-Id: Ic6e43277b123e9f9e5a917c039e4127d02a83e23
"
openstack%2Fos-refresh-config~master~I6df7ef9eacc25435e797005ad8f764c3e0913d46,openstack/os-refresh-config,master,tripleo-ci-reduce,I6df7ef9eacc25435e797005ad8f764c3e0913d46,Remove tripleo-multinode-container-minimal from layout + fix test,MERGED,2021-02-23 12:26:12.000000000,2021-03-02 20:46:18.000000000,2021-03-02 20:46:18.000000000,3,6,0,777098,a0322979f9de133e76464b9b0c28244476a7a9e0,13,4,3,3,8449,Marios Andreou,marios,"Remove tripleo-multinode-container-minimal from layout + fix test

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

This updates test-requirements to fix issue seen in [3] and also
fixes a failing pep8 test seen after test-requirements was fixed.

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce
[3] https://a28720641abd1053931d-69746c322fe5e3cf8e2976f654b96d92.ssl.cf5.rackcdn.com/777098/1/check/openstack-tox-py38/9e6a3c0/tox/py38-1.log

Change-Id: I6df7ef9eacc25435e797005ad8f764c3e0913d46
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ibe7925e4ee568d3d45e138d543b6d7064a8503a3,openstack/tripleo-heat-templates,stable/ussuri,,Ibe7925e4ee568d3d45e138d543b6d7064a8503a3,Always set NetworkDeploymentActions to its default,MERGED,2021-02-16 09:22:29.000000000,2021-03-02 20:45:49.000000000,2021-03-02 20:45:49.000000000,2,0,0,775764,341fbc46e35ad05d272e98eb47a85cd3534d9fc9,8,4,1,1,8833,Rabi Mishra,rabi,"Always set NetworkDeploymentActions to its default

There are instances users use ``NetworkDeploymentActions`` to
do network configuration during update, but just drop the
parameter for subsequent updates. This sometimes results in
network configuration changes in existing nodes and disruptions.
Let's always set them to defaults unless overridden explicitly.

Change-Id: Ibe7925e4ee568d3d45e138d543b6d7064a8503a3
Related: https://bugzilla.redhat.com/1928055
(cherry picked from commit 92dcffc714bc92a28f610bf0322f04551aade758)
"
openstack%2Fopenstack-ansible~master~Ia8ab3a9c390368c4226224b7044f4622deec063d,openstack/openstack-ansible,master,osa-ci-fixes,Ia8ab3a9c390368c4226224b7044f4622deec063d,Use infra mirror for ceph_client role in CI,MERGED,2021-02-15 18:42:12.000000000,2021-03-02 20:44:47.000000000,2021-03-02 20:41:31.000000000,5,0,0,775695,e26a071faeb86eb0ce8086d98123efe0b66c481a,29,4,4,1,25023,Jonathan Rosser,jrosser,"Use infra mirror for ceph_client role in CI

Change-Id: Ia8ab3a9c390368c4226224b7044f4622deec063d
"
openstack%2Fkeystone-tempest-plugin~master~Icb5317b9297230490bd783fe9b07c8db244c06f8,openstack/keystone-tempest-plugin,master,secure-rbac,Icb5317b9297230490bd783fe9b07c8db244c06f8,Add RBAC tests,MERGED,2019-10-02 21:37:12.000000000,2021-03-02 20:42:04.000000000,2021-03-02 20:42:04.000000000,16024,4,28,686305,a6d4ceaf57f3a86be8318b4e84111d71104c28f5,134,7,48,37,8482,Colleen Murphy,krinkle,"Add RBAC tests

This change leverages the nine default personas available in tempest[1]
to demonstrate a potential framework for testing default policies. An
abstract base class is created that helps set up credentials and
outlines every policy that needs to be tested, then nine subclasses are
created to test every persona. Each test represents one policy rule, and
some tests make multiple requests in order to test the policy from
different approaches, for example, to check what happens if a different
domain is specified, or what happens if the resource does not exist.

The idea here is to be very verbose and explicit about what is being
tested: every policy gets one test in the base class, and each persona
is tested in a subclass. The layout should be easy to understand and
someone reading the code should not be left guessing whether a case is
missing or if there is magic happening in the background that is causing
a false positive or false negative.

This is intended to replace the unittest protection tests currently
in place.

[1] https://review.opendev.org/686306 (this will require additional
devstack and keystone configuration to work properly in CI)

Depends-on: https://review.opendev.org/686306
Depends-on: https://review.opendev.org/699051
Depends-on: https://review.opendev.org/699519
Depends-on: https://review.opendev.org/700826
Depends-on: https://review.opendev.org/743853
Depends-on: https://review.opendev.org/744087
Depends-on: https://review.opendev.org/744268
Depends-on: https://review.opendev.org/731087

Change-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8
"
openstack%2Fmanila~master~I30ae2a1d34fb1dcb438880b1a5b46afea7db8d0d,openstack/manila,master,secure-rbac,I30ae2a1d34fb1dcb438880b1a5b46afea7db8d0d,Implement secure RBAC for messages,MERGED,2020-11-19 21:17:02.000000000,2021-03-02 20:19:29.000000000,2021-03-02 20:17:58.000000000,39,6,0,763442,9ef2156c0496735176b45bf88408cb2b653435b0,22,7,3,1,5046,Lance Bragstad,ldbragst,"Implement secure RBAC for messages

This commit updates the policies for messages to understand scope checking and
account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: I30ae2a1d34fb1dcb438880b1a5b46afea7db8d0d
"
openstack%2Ftempest~master~I855d07272293d209145598e27e82c7837bf0aecb,openstack/tempest,master,bp/tempest-scenario-manager-stable,I855d07272293d209145598e27e82c7837bf0aecb,Implementation of create_subnet() varies in manila-tempest-plugin,MERGED,2020-12-10 14:01:18.000000000,2021-03-02 20:13:24.000000000,2021-03-02 20:11:37.000000000,49,24,21,766472,795ef25b728964e37acb5e12761dfc0873fd2959,45,7,10,1,30742,Soniya Murlidhar Vyas,svyas,"Implementation of create_subnet() varies in manila-tempest-plugin

There is need of stable implementation of create_subnet().

For the stable implementation of create_subnet() following parameters have
been added:

1. Condition to check empty str_cidr
2. More attributes in case of ipv6
3. Usage of default_subnet_pool

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: I855d07272293d209145598e27e82c7837bf0aecb
"
openstack%2Fhorizon~master~I969ad70065c580ba90bb0a050c7a9cf242d805ec,openstack/horizon,master,matherial-fix,I969ad70065c580ba90bb0a050c7a9cf242d805ec,Fix Material theme to work with any combination of pyScss and MDI icons,MERGED,2020-05-22 10:03:10.000000000,2021-03-02 20:10:24.000000000,2021-03-02 20:08:39.000000000,27,2,1,730288,f3bfa383417b270fce384fee18c5cb470cec15f7,40,5,6,7,1736,Ivan Kolodyazhny,e0ne,"Fix Material theme to work with any combination of pyScss and MDI icons

':before' class doesn't work as expected with current versions of
xstatic-mdi and PyScss. It's a temporary workaround with copy ':before'
styles from MDI directly into the Material theme.

Closes-Bug: #1771559
Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Change-Id: I969ad70065c580ba90bb0a050c7a9cf242d805ec
"
openstack%2Fglance~master~I71ed8c80939b4cfab6a081c2f8cde63299fc7893,openstack/glance,master,bp/distributed-image-import,I71ed8c80939b4cfab6a081c2f8cde63299fc7893,Add get_ksa_client() helper,MERGED,2021-01-14 00:28:41.000000000,2021-03-02 19:44:21.000000000,2021-03-02 19:41:57.000000000,45,0,0,770682,782ff60cbf5857493eda19be8e0592ddc2e0f6d5,28,4,5,2,4393,Dan Smith,danms,"Add get_ksa_client() helper

This adds a method in glance.context that will give us a
keystoneauth1 client, authorized with the user's token, suitable for
calling directly to other services.

Related to blueprint distributed-image-import

Change-Id: I71ed8c80939b4cfab6a081c2f8cde63299fc7893
"
openstack%2Fnova~master~I86153d31b02e6b74b42d53a6800297cbd0e5cbb4,openstack/nova,master,bug/1882521,I86153d31b02e6b74b42d53a6800297cbd0e5cbb4,libvirt: allow querying devices from the persistent domain,MERGED,2021-01-25 17:21:29.000000000,2021-03-02 19:44:03.000000000,2021-03-02 19:41:12.000000000,97,7,19,772383,a634103b15763d038030f9e213eea844e39553c9,58,4,6,3,9708,Balazs Gibizer,gibi,"libvirt: allow querying devices from the persistent domain

This patch adds from_persistent_config kwargs to get_interface_by_cfg()
and get_disk() so that the caller can specify which domain config the
devices is read from. Currently, if there was both a live domain and a
persistent domain then nova only reads from the live domain. In a later
patch during device detach these calls will be used to detach from the
persistent domain separately from the live domain.

Change-Id: I86153d31b02e6b74b42d53a6800297cbd0e5cbb4
Related-Bug: #1882521
"
openstack%2Fopenstack-helm-infra~master~If41dae31763abac8c9c65b1650556438a9b6b0df,openstack/openstack-helm-infra,master,change-774738-13,If41dae31763abac8c9c65b1650556438a9b6b0df,TLS gates from infra monitoring,MERGED,2021-02-09 21:46:41.000000000,2021-03-02 19:14:56.000000000,2021-03-02 19:10:12.000000000,953,0,8,774738,d64c5fea64499bdd7043641e1b7420afbd7dac73,88,13,21,36,24780,Sangeet Gupta,sgupta,"TLS gates from infra monitoring

Change-Id: If41dae31763abac8c9c65b1650556438a9b6b0df
"
openstack%2Fpuppet-openstack-integration~master~I3ee9d1acedcf87fde404fe9134a46a923114bdcf,openstack/puppet-openstack-integration,master,c8s-litmus,I3ee9d1acedcf87fde404fe9134a46a923114bdcf,Add non-voting litmus jobs on CentOS8 Stream,MERGED,2021-02-28 06:50:58.000000000,2021-03-02 19:05:42.000000000,2021-03-02 19:05:42.000000000,21,0,70,777881,f2c60bc1d3a55945aee90ef559c227cb79e9e9a1,9,3,2,2,9816,Takashi Kajinami,kajinamit,"Add non-voting litmus jobs on CentOS8 Stream

Change-Id: I3ee9d1acedcf87fde404fe9134a46a923114bdcf
"
openstack%2Felection~master~I93662e0f9904c78c19fb355e2ad47e53a0dd3bd8,openstack/election,master,setup-xena-election,I93662e0f9904c78c19fb355e2ad47e53a0dd3bd8,Setup Xena Directories,MERGED,2021-02-26 18:47:18.000000000,2021-03-02 18:58:45.000000000,2021-03-02 18:57:23.000000000,0,0,0,777810,fe70c27ca7e156efb521cd7845d5adb637b07c0e,15,3,3,50,16708,Kendall Nelson,kjnelson,"Setup Xena Directories

Change-Id: I93662e0f9904c78c19fb355e2ad47e53a0dd3bd8
"
openstack%2Fkayobe~stable%2Fvictoria~Ia885a226de30d72610dca2eb2f194cef10193095,openstack/kayobe,stable/victoria,story/2008546-stable/victoria,Ia885a226de30d72610dca2eb2f194cef10193095,Quote kolla limit when calling kolla-ansible,MERGED,2021-03-02 10:50:40.000000000,2021-03-02 18:46:44.000000000,2021-03-02 18:44:04.000000000,8,3,0,778107,cbb00dd88d0ed98f24d0450b1ddd0a0ac2429b69,10,3,1,3,14826,Mark Goddard,mgoddard,"Quote kolla limit when calling kolla-ansible

This is necessary for correctly passing limits containing special
characters such as ~ or &.

Change-Id: Ia885a226de30d72610dca2eb2f194cef10193095
Story: 2008546
Task: 41651
(cherry picked from commit a1c9a8152508785d5babe4ed98eb6a743932a229)
"
openstack%2Fcharm-percona-cluster~master~Ifd73f20c2523de164fb23e8f5a5e757393d489e3,openstack/charm-percona-cluster,master,bug/1916672,Ifd73f20c2523de164fb23e8f5a5e757393d489e3,Ensure that correct password update is used for mysql version,MERGED,2021-02-25 14:10:45.000000000,2021-03-02 18:45:41.000000000,2021-03-02 18:45:41.000000000,7,5,0,777598,d55dcdebc9049c509e2f5ab40c8d497dc0a3236d,27,4,3,2,20870,Alex Kavanagh,ajkavanagh,"Ensure that correct password update is used for mysql version

On mysql pre 5.7.5 and older (e.g. xenial) a different password update
SQL statement is needed.  Detect the ubuntu version (assuming the
packages are used) and use the version for that password.

Change-Id: Ifd73f20c2523de164fb23e8f5a5e757393d489e3
Closes-Bug: #1916672
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I4b21118ec8b5f5ab4f02899bd6219ef321da7d11,openstack/openstack-ansible-openstack_hosts,master,reno_build,I4b21118ec8b5f5ab4f02899bd6219ef321da7d11,[reno] Stop publishing release notes,MERGED,2021-01-22 16:24:08.000000000,2021-03-02 18:31:27.000000000,2021-03-02 18:25:28.000000000,1,1,0,772018,ad16d023a314c0a96408b5a208c82f30d9f7b433,15,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I4b21118ec8b5f5ab4f02899bd6219ef321da7d11"
openstack%2Fcinder~stable%2Fussuri~Idc2fa152b18adc0518b0d91e24b8147696537444,openstack/cinder,stable/ussuri,resource-conservation,Idc2fa152b18adc0518b0d91e24b8147696537444,Move non-voting jobs to experimental,ABANDONED,2020-07-15 15:41:33.000000000,2021-03-02 18:18:27.000000000,,6,10,3,741255,26410a02b92b45a3ab8c04aa28c36445bfce42e2,14,12,1,1,5314,Brian Rosmaita,brian-rosmaita,"Move non-voting jobs to experimental

Conserve resources on stable branch changes by moving nonvoting
jobs (except for pylint) from check to experimental, where they
can still be easily run if someone wants to see the results.

Change-Id: Idc2fa152b18adc0518b0d91e24b8147696537444
"
openstack%2Fopenstack-ansible~stable%2Fussuri~Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1,openstack/openstack-ansible,stable/ussuri,,Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1,Workaround nova bug,MERGED,2021-03-02 10:11:53.000000000,2021-03-02 18:14:04.000000000,2021-03-02 18:11:38.000000000,2,0,0,778105,f339400d30becab40f195221a20d86727753d950,10,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Workaround nova bug

For some reason libvirt of version 5.1 fails to attach
second port to instances with single vcpu and pc-i440fx
machine type.
So we applying workaround with extending amount of cores
for amphora flavor

Related-Bug: #1916879
Change-Id: Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1
(cherry picked from commit 07f7243bf90611e31cd8c94b5ea2883f0ee65bb4)
"
openstack%2Fopenstacksdk~master~I95cb50a691d095764df30f46c204ea5ee80dacca,openstack/openstacksdk,master,,I95cb50a691d095764df30f46c204ea5ee80dacca,Set resource URI properties in listing method,MERGED,2021-02-17 14:25:51.000000000,2021-03-02 18:11:11.000000000,2021-03-02 18:04:02.000000000,13,0,0,776205,1219655ca684e04898e447ab2e57650ecee627c8,14,3,2,2,27900,Artem Goncharov,gtema,"Set resource URI properties in listing method

When resource listing is invoked the URI based properties are not saved
on the resource, as opposed to all other methods. Fix this by injecting
them into each fetched resource.

Change-Id: I95cb50a691d095764df30f46c204ea5ee80dacca
"
openstack%2Fglance~master~I06293de08dd3fdfbd60b9a65501d1198f40ff434,openstack/glance,master,secure-rbac,I06293de08dd3fdfbd60b9a65501d1198f40ff434,Fail to start if authorization and policy is misconfigured,MERGED,2021-02-19 08:34:51.000000000,2021-03-02 18:10:38.000000000,2021-03-02 18:05:09.000000000,112,1,26,776588,bf838242ac4ccca4d7341e2d1ee8187e3101d425,47,4,8,7,9303,Abhishek Kekane,abhishekkekane,"Fail to start if authorization and policy is misconfigured

This informs operators of glance's support status for secure RBAC as of
the Wallaby release. Eventually, this message will be removed when
glance adopts more support for secure RBAC personas.

This also forces glance to fail if it's configured improperly. This is
done to explicitly prevent ambiguity with authoritative decisions.

Related: blueprint secure-rbac
Change-Id: I06293de08dd3fdfbd60b9a65501d1198f40ff434
"
openstack%2Fcinder~master~I57b708d074a8ed3904093ea82d818d23c1e1bff1,openstack/cinder,master,port_check,I57b708d074a8ed3904093ea82d818d23c1e1bff1,PowerMax Driver - Port status check,MERGED,2020-11-05 17:28:51.000000000,2021-03-02 18:09:56.000000000,2021-03-02 18:04:08.000000000,153,7,11,761643,b62f250bc327e5444c6bed9963c815c647de9193,116,29,4,6,12670,Helen Walsh,walshh2,"PowerMax Driver - Port status check

Early in initialize_connection, check the status of the ports in the
port group you are using.  This early check is time saving and highlights
a specific problem that may otherwise be difficult to determine once
handed to os-brick.

Change-Id: I57b708d074a8ed3904093ea82d818d23c1e1bff1
"
openstack%2Fnova~master~I3007e1f157e329f121b99ceaddd59625c86f428c,openstack/nova,master,,I3007e1f157e329f121b99ceaddd59625c86f428c,Docs: Correct ``Password injection using the dashboard`` Explanation,MERGED,2021-02-11 09:32:10.000000000,2021-03-02 18:09:13.000000000,2021-03-02 18:04:36.000000000,3,12,6,775084,5d3fb6cdbdc526e2da7d03df8d876fa01d267aa4,37,6,5,1,29313,Vishal Manchanda,vishalmanchanda,"Docs: Correct ``Password injection using the dashboard`` Explanation

During Icehouse release default value of 'can_set_password' sets
to False for horizon(dashboard) but nova document is not updated
yet and acc. to nova doc default value for above setting is True.
So this patch correct the doc. For more info. please refer [1].

[1] https://docs.openstack.org/releasenotes/horizon/icehouse.html#default-hypervisor-settings-changes

Change-Id: I3007e1f157e329f121b99ceaddd59625c86f428c
"
openstack%2Fironic~master~I80cd0ed783d68fff13d4b04faec7c9a0ed30b502,openstack/ironic,master,bug/1531229,I80cd0ed783d68fff13d4b04faec7c9a0ed30b502,Make agent driver always PXE before cleaning,ABANDONED,2016-01-05 18:40:24.000000000,2021-03-02 18:06:02.000000000,,217,227,132,263842,287509edcfc609f0744222ebbb8d37f2012c172f,171,21,22,12,13295,Mario Villaplana,mariojv,"Make agent driver always PXE before cleaning

ironic doesn't always try to set a node to PXE boot before cleaning
when using the agent driver with PXE boot interface when calling
prepare_inband_cleaning.

This was a change in behavior when the manage_tftp option was renamed
to manage_agent_boot. manage_agent_boot is supposed to control whether
ironic hosts the agent image or not, but it now also controls whether
ironic sets nodes to PXE boot when preparing them for inband cleaning.

This causes cleaning to fail when using the agent driver with
manage_agent_boot=False which is used when the agent image is hosted
outside of ironic.

An additional side effect of this bug was not running validate() against
the boot interface on ramdisk boot if manage_agent_boot was false. This
was also fixed as part of moving this configuration option.

To rectify this, we move and rename the option from
agent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this
only toggles behaviors around TFTP and PXE configurations, ensuring
the boot device change happens as expected when cleaning, or anytime
a ramdisk is booted.

Co-Authored-By: Jay Faulkner <jay@jvf.cc>
Change-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502
Closes-Bug: 1531229
"
openstack%2Fpython-tripleoclient~master~I16c53281e6fbfc497730bebb166acc21c5dbf947,openstack/python-tripleoclient,master,ephemeral-heat,I16c53281e6fbfc497730bebb166acc21c5dbf947,Predictable dir for heat launcher,MERGED,2021-02-09 02:21:25.000000000,2021-03-02 17:37:11.000000000,2021-03-02 17:31:12.000000000,30,23,7,774572,051e80d0246b6cd6977ba7dad4829fb931a94e6d,28,3,11,1,7144,James Slagle,slagle,"Predictable dir for heat launcher

Adds an option to use the top level directory passed to the Heat
launcher class as the working directory for the ephemeral Heat process.
The default behavior remains, which is to create a tmp directory under
the top level specified dir.

The option to use a predictable directory will allow for (re)specifying
the same directory to restart the ephemeral Heat process with the same
configuration, logs, and db.

Change-Id: I16c53281e6fbfc497730bebb166acc21c5dbf947
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fos-apply-config~stable%2Focata~Iefe3eed322f1102344c6b54531c61a41ce4d227b,openstack/os-apply-config,stable/ocata,tripleo-ci-reduce,Iefe3eed322f1102344c6b54531c61a41ce4d227b,Remove tripleo-multinode-container|baremetal-minimal from layout,MERGED,2021-02-25 09:54:26.000000000,2021-03-02 17:31:15.000000000,2021-03-02 17:31:15.000000000,7,2,1,777533,31768f04a30023a0d54099c1aeb80134ffe5dd64,12,3,2,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container|baremetal-minimal from layout

The tripleo-multinode-container-minimal and -baremetal-minimal
templates are being deprecated [1] as part of wider tripleo CI
optimization at [2].

This sets the linters/pep8 job to non voting as it is broken
with issue seen at [3].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce
[3] https://zuul.opendev.org/t/openstack/build/ac8966befe634bd282c5dcad4ec53c2d

Change-Id: Iefe3eed322f1102344c6b54531c61a41ce4d227b
"
openstack%2Fopenstack-ansible-os_cinder~master~I3d0d401c2024c6051b7fb61a929dd4e6975b0a30,openstack/openstack-ansible-os_cinder,master,,I3d0d401c2024c6051b7fb61a929dd4e6975b0a30,Replace deprecated key_manager,MERGED,2021-02-22 15:08:29.000000000,2021-03-02 17:30:56.000000000,2021-03-02 17:28:47.000000000,2,1,0,776943,3c0106b97c7312f17939b453b9c5ff0cedf5ffa4,13,3,3,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Replace deprecated key_manager

Usage of module path is a deprecated behaviour. All cinder docs
suggest using just `barbican` for [key_manager]/backend value.

We also explicitly specify for barbican to talk over internal
interface instead of public which is default behaviour.

Change-Id: I3d0d401c2024c6051b7fb61a929dd4e6975b0a30
"
openstack%2Fos-brick~stable%2Fvictoria~I9b2a9cd2839a4efec824fc68cb2163ad70f4ebdc,openstack/os-brick,stable/victoria,scaleio-connector,I9b2a9cd2839a4efec824fc68cb2163ad70f4ebdc,ScaleIO: More connection info backward compatibility,MERGED,2021-02-17 15:23:27.000000000,2021-03-02 17:30:54.000000000,2021-03-02 17:28:30.000000000,12,1,0,776216,9317f9facbdce47a7974e39e29c898a96b3434e8,15,4,1,2,21129,Alan Bishop,ASBishop,"ScaleIO: More connection info backward compatibility

Similar to I6f01a178616b74ed9a86876ca46e7e46eb360518, this patch
fixes a compatibility issue when the new connection properties
dictionary exists, but is missing the 'failed_over' field. This
situation may arise when booting a shelved instance whose connection
properties were created prior to when the ScaleIO driver was enhanced
to support replication failover.

Related-Bug: #1823200
Change-Id: I9b2a9cd2839a4efec824fc68cb2163ad70f4ebdc
(cherry picked from commit f8de43834b7fc930ed317823c98551092ee04774)
"
openstack%2Fpython-tripleoclient~master~I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf,openstack/python-tripleoclient,master,ephemeral-heat,I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf,Add faultwrap filter to paste pipeline for heat-all,MERGED,2021-01-28 22:50:43.000000000,2021-03-02 17:30:11.000000000,2021-03-02 17:25:44.000000000,4,1,1,772952,54d7271c669ac998a2e9c6896d1af201ce0cb2ae,32,4,13,1,7144,James Slagle,slagle,"Add faultwrap filter to paste pipeline for heat-all

Without using the faultwrap filter, exceptions raised by heat-engine are
not translated into HTTPException subclasses that are understood by
webob.

This causes the exceptions to not be appropriately handled and the
correct HTTP codes are not returned to the client. Instead the exception
is assumed to be a 500 Internal Server Error instead of an informative
HTTP code (such as 404 for stack not found). Several spots in
tripleoclient/tripleo-common rely on known HTTP codes (such as 404)
being returned, so this commit adds the faultwrap filter to do the
translation.

Change-Id: I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fpuppet-openstack-integration~master~I62f35dce338ae186a217dd1d0a141d3a737243a0,openstack/puppet-openstack-integration,master,bug/1917457,I62f35dce338ae186a217dd1d0a141d3a737243a0,pin bundler to 2.2.11,MERGED,2021-03-02 12:37:00.000000000,2021-03-02 17:26:23.000000000,2021-03-02 17:26:23.000000000,5,15,0,778184,4d2d86e0df434ee25a508aceb1ea209a0c64f80b,10,5,3,5,9816,Takashi Kajinami,kajinamit,"pin bundler to 2.2.11

It seems the latest 2.2.12 requires rake>13.0 installed and that
requirement doesn't work well in current our CI jobs.
Let's pin it to the previous version until we resolve the issue.

This change also removes the pin for the very old Ruby version.

Closes-Bug: #1917457
Change-Id: I62f35dce338ae186a217dd1d0a141d3a737243a0
"
openstack%2Fopenstack-ansible-os_magnum~master~Ia72bb3dfb405599595fad1d26a4e360db22d8362,openstack/openstack-ansible-os_magnum,master,add-magnum-plugin,Ia72bb3dfb405599595fad1d26a4e360db22d8362,Adding Functional Tests for Ansible Magnum plugin,ABANDONED,2016-09-27 20:56:11.000000000,2021-03-02 17:12:46.000000000,,61,0,0,378030,5521dba486b62db6e99ad90f0bd702964a884bfc,11,1,4,1,20446,Christopher Hultin,chris.hultin,"Adding Functional Tests for Ansible Magnum plugin

This patch adds functional testing for creation and deletion
of Cluster Templates via the Magnum plugin for Ansible.

Change-Id: Ia72bb3dfb405599595fad1d26a4e360db22d8362
Depends-On: Ib9c986b5abe3f42b663af9981bed43c9aae8036d
Depends-On: I6e158001acf9b6d6f924a5459142ee87eba09ff2
"
openstack%2Fopenstack-helm~master~I2793d1f51c18e81a4271b8b0c50bfe1a2dab8a09,openstack/openstack-helm,master,,I2793d1f51c18e81a4271b8b0c50bfe1a2dab8a09,Mount /dev/pts in nova-compute container,MERGED,2021-02-18 03:16:48.000000000,2021-03-02 16:57:25.000000000,2021-03-02 16:53:44.000000000,7,2,0,776305,04d600c5b0f6f46e85c2a9b05f514a141f56fb31,30,5,7,3,31746,Oleksandr Kozachenko,okozachenko,"Mount /dev/pts in nova-compute container

Nova will check if pty device exist or not under /dev/pts
when get console log.
If it does not exist, cannot get console log.
ref: https://review.opendev.org/c/starlingx/config/+/660268

Change-Id: I2793d1f51c18e81a4271b8b0c50bfe1a2dab8a09
"
openstack%2Fcinder~master~Ib1c55ccb05c64566c687ec0722ae1cf245e19b81,openstack/cinder,master,bug/1877164,Ib1c55ccb05c64566c687ec0722ae1cf245e19b81,Fix quota usage wrong when delete snapshot with volume retype,NEW,2020-05-06 17:57:46.000000000,2021-03-02 16:45:39.000000000,,36,2,3,725951,822d15571bfd4888beb88d4b161eda83c3834114,77,41,2,2,31662,Cong Nguyen Thanh,congnt95,"Fix quota usage wrong when delete snapshot with volume retype

When delete snapshot, use volume_type_id of itself to calculate quota usage

Change-Id: Ib1c55ccb05c64566c687ec0722ae1cf245e19b81
Closes-Bug: #1877164
"
openstack%2Fkolla-ansible~master~I97eb8441466f8c6abdbd66068257765bdbe32d4d,openstack/kolla-ansible,master,,I97eb8441466f8c6abdbd66068257765bdbe32d4d,Add Monasca Grafana security note,MERGED,2021-02-16 10:44:43.000000000,2021-03-02 16:40:12.000000000,2021-03-02 16:35:57.000000000,19,2,2,775800,6af802d163b372078e205419e86ee3fa9fac51cb,17,4,2,2,17669,Doug Szumski,DougSzumski,"Add Monasca Grafana security note

Update the Monasca docs to improve security considerations.

Trivial-Fix
Change-Id: I97eb8441466f8c6abdbd66068257765bdbe32d4d
"
openstack%2Fopenstack-ansible-ops~stable%2Fvictoria~Ifbc8fda9c0db51dc09c50629f34682f5d8373bed,openstack/openstack-ansible-ops,stable/victoria,,Ifbc8fda9c0db51dc09c50629f34682f5d8373bed,"Fixes for tests and gates, stable/victoria",MERGED,2021-03-01 22:25:08.000000000,2021-03-02 16:40:08.000000000,2021-03-02 16:29:25.000000000,159,184,0,778084,52991a58c771c1881dcba9e7776825f292d39398,20,3,7,19,25600,Ebbex,ebbex,"Fixes for tests and gates, stable/victoria

Use stable/victoria for requirements.
Stop using forked galera_server role, now that 633321 is merged
Bump ansible to the version used in stable/victoria.
Prefer python3 over python2
Pin elastic_curator to <=5.7.0
ILM doesn't like bodies from GET requests
Fix ansible str vs int comparison
Print a message if setting defaultIndex in kibana 6 fails
Use saved_objects API for setting defaultIndex in kibana 7
Force osquery inventory to use python3
Install galera_{client,server} for osquery
Clean up zuul config

Change-Id: Ifbc8fda9c0db51dc09c50629f34682f5d8373bed
"
openstack%2Fopenstack-ansible~master~I8b923ad5bf4d67e1d41bb3a5ba5b00f93aac8abf,openstack/openstack-ansible,master,,I8b923ad5bf4d67e1d41bb3a5ba5b00f93aac8abf,[doc] Fix Docker latest_tag parser,MERGED,2021-02-15 15:47:18.000000000,2021-03-02 16:19:33.000000000,2021-03-02 16:15:28.000000000,3,3,0,775670,a174d5d7227def4fcd621e0ac9449bdb2fd35a4a,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[doc] Fix Docker latest_tag parser

Change-Id: I8b923ad5bf4d67e1d41bb3a5ba5b00f93aac8abf
"
openstack%2Ftempest~master~Ia102acea773bd80d933a7e0a19b447f91134f81f,openstack/tempest,master,bp/tempest-scenario-manager-stable,Ia102acea773bd80d933a7e0a19b447f91134f81f,Make _get_network_by_name() non-private,MERGED,2021-02-24 10:18:38.000000000,2021-03-02 16:15:13.000000000,2021-03-02 16:12:32.000000000,2,2,1,777351,c37410fc14477a9d63eb2314a6d994cb0def764a,12,7,2,1,30742,Soniya Murlidhar Vyas,svyas,"Make _get_network_by_name() non-private

_get_network_by_name() is made public by this commit as
the tempest.scenario.manager interface is meant to be
consumed by tempest plugins.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: Ia102acea773bd80d933a7e0a19b447f91134f81f
"
openstack%2Fironic-python-agent~master~I9405995915a874b00b7177c9642c5469d05d66a8,openstack/ironic-python-agent,master,,I9405995915a874b00b7177c9642c5469d05d66a8,Increase the memory limit for qemu-img,MERGED,2021-03-01 17:10:12.000000000,2021-03-02 16:07:05.000000000,2021-03-02 16:03:45.000000000,9,2,1,778035,5492ad7da59571581e9f70fd054efafb39e12593,14,3,3,2,1926,Derek Higgins,derekh,"Increase the memory limit for qemu-img

We appear to be bumping up against this limit when deploying
RHCOS images(currently 977MB). Curiously the problem isn't
happening all the time but increasing the limit eliminates it.

This limit was intruduced to guard against a malicious image
allocating an arbitrary amount of memory. Nothing else runs
on hosts when IPA is running so we should be ok bumping up
the limit.

Story: #2008667
Task: #41955
Change-Id: I9405995915a874b00b7177c9642c5469d05d66a8
"
openstack%2Finstack-undercloud~stable%2Focata~Ifd8bbdc99e2f4c9ec9a1248a56056d42ec800a0d,openstack/instack-undercloud,stable/ocata,,Ifd8bbdc99e2f4c9ec9a1248a56056d42ec800a0d,Remove tripleo multinode baremetal and undercloud templates,ABANDONED,2021-02-24 11:46:58.000000000,2021-03-02 15:55:37.000000000,,2,6,0,777368,062a49a2a4d1d82a8d611eea8cd32d8a441fa14e,17,2,3,2,8449,Marios Andreou,marios,"Remove tripleo multinode baremetal and undercloud templates

The tripleo-multinode-container-minimal is being removed at [1]
as part of wider tripleo CI optimization at [2]. Also removes
sphinx and sphinx_rtd_theme restriction in test-requirements to
deal with issue seen at [3] and [4]

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce
[3] https://zuul.opendev.org/t/openstack/build/51cc8799ead0404fa5c0a5aafd009c15
[4] https://zuul.opendev.org/t/openstack/build/50764f88c10d45248096e430cd2789af

Change-Id: Ifd8bbdc99e2f4c9ec9a1248a56056d42ec800a0d
"
openstack%2Finstack-undercloud~stable%2Fpike~I44c5223348a0e73bd7c31eb753a6cf733d254a71,openstack/instack-undercloud,stable/pike,,I44c5223348a0e73bd7c31eb753a6cf733d254a71,Remove tripleo multinode baremetal and undercloud templates,ABANDONED,2021-02-24 11:49:17.000000000,2021-03-02 15:55:23.000000000,,0,3,0,777370,4650b80fffb061f19339789203ff3f276542427c,10,2,1,1,8449,Marios Andreou,marios,"Remove tripleo multinode baremetal and undercloud templates

The tripleo-multinode-container-minimal is being removed at [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I44c5223348a0e73bd7c31eb753a6cf733d254a71
"
openstack%2Fkuryr-tempest-plugin~master~Ic08d76f6c3cebdebd7fe13a254c8e22eb186648f,openstack/kuryr-tempest-plugin,master,namespace-fixes,Ic08d76f6c3cebdebd7fe13a254c8e22eb186648f,Refactor test_namespace,ABANDONED,2019-11-28 13:51:04.000000000,2021-03-02 15:37:17.000000000,,41,46,4,696576,5502b4a5dd95774eb8771d1134bc5a207ede383c,10,3,2,2,11600,Michał Dulko,dulek,"Refactor test_namespace

This commit refactors and fixes some issues with test_namespace. In
particular:

* Take care of namespace deletions after test is done.
* Rewrite waiting code to use test_utils.call_until_true().

Change-Id: Ic08d76f6c3cebdebd7fe13a254c8e22eb186648f
"
openstack%2Fkuryr-tempest-plugin~master~Ib223e968cf8fbe067155d2b50265b122fed38cfa,openstack/kuryr-tempest-plugin,master,refactor-tests,Ib223e968cf8fbe067155d2b50265b122fed38cfa,Remove raising exceptions to indicate failure,ABANDONED,2018-10-03 16:46:48.000000000,2021-03-02 15:37:16.000000000,,64,69,0,607648,252451bb6f070135821999cd834c0d351135eac1,14,3,2,3,11600,Michał Dulko,dulek,"Remove raising exceptions to indicate failure

This commit aims to remove raising various Tempest exceptions instead of
doing assertions with error messages. This should make debugging of
Tempest failures in the gate much easier. Some of the loops waiting for
resources are rewritten to use test_utils.call_until_true() to remove
some repeated code patterns.

Also, where possible, methods are converted from @classmethod to regular
method. Motivation here is that we've switched to @classmethod to be
able to use those methods in resourceSetup(). Unfortunately that blocks
those methods from using convenient self.assert* methods, which is
terrible for the code flow.

Follow up patches should include switching other occurences of waiting
patterns to test_utils.call_until_true() to make sure there's always a
timeout and removal of excessive number of log messages that that code
generates.

Change-Id: Ib223e968cf8fbe067155d2b50265b122fed38cfa
"
openstack%2Fkuryr-tempest-plugin~master~I86d9b78c427e8ae0e3e0962edf16d85258173265,openstack/kuryr-tempest-plugin,master,refactor-tests,I86d9b78c427e8ae0e3e0962edf16d85258173265,Use _run_threaded_and_assert in test_vm_service_http,ABANDONED,2018-10-16 10:00:47.000000000,2021-03-02 15:37:13.000000000,,20,15,0,610925,467e139c9ee50bd83e1ea880bb7b4a94703603bf,11,2,1,2,11600,Michał Dulko,dulek,"Use _run_threaded_and_assert in test_vm_service_http

Also adjust timeouts a bit as I've seen issues with that in the gate.

Change-Id: I86d9b78c427e8ae0e3e0962edf16d85258173265
"
openstack%2Fdevstack-plugin-container~master~I17588b033aa4701494d5c27b5ba94ad4a31da887,openstack/devstack-plugin-container,master,fix-ubuntu-crio,I17588b033aa4701494d5c27b5ba94ad4a31da887,Fix cri-o installation on Ubuntu,ABANDONED,2019-03-20 13:45:34.000000000,2021-03-02 15:37:10.000000000,,11,9,0,644863,81c776b71cebe328b223f75575a8a3a80372f4f8,12,3,5,1,11600,Michał Dulko,dulek,"Fix cri-o installation on Ubuntu

Seems like the PPA doesn't install compatible cri-o along with podman
and buildah. Let's install it explicitly.

Also it seems that new version does fill /etc/containers/registries.conf
with some initial content. Let's make sure plugin will edit it instead
of leaving it as is.

To be able to debug crio better, a service called container will be
started, which will simply rewrite crio logs for them to be available in
the gate.

Change-Id: I17588b033aa4701494d5c27b5ba94ad4a31da887
"
openstack%2Fdevstack-plugin-container~master~I59d8c1ca6468b270f10ce84e0f6d579571739727,openstack/devstack-plugin-container,master,fix-centos-crio,I59d8c1ca6468b270f10ce84e0f6d579571739727,Fix cri-o installation on CentOS,ABANDONED,2019-03-26 17:29:51.000000000,2021-03-02 15:37:09.000000000,,6,3,0,647834,36587252bb84ed78ce8946afd5e9513d0a5f43bc,5,3,1,1,11600,Michał Dulko,dulek,"Fix cri-o installation on CentOS

This combines several fixes:
* Adds --nogpgcheck to `yum install` command as for some reason official
  CentOS packages are not signed.
* Ignores the error when adding yum repo to make sure we don't fail if
  repo is already defined.
* Updates installed cri-o version to 3.11 and makes it configurable.

Change-Id: I59d8c1ca6468b270f10ce84e0f6d579571739727
"
openstack%2Foslo.middleware~stable%2Frocky~I787a0276ec0a62bc9e2f068e4e4ee1219a306474,openstack/oslo.middleware,stable/rocky,cap-bandit-1.6.2,I787a0276ec0a62bc9e2f068e4e4ee1219a306474,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-25 13:54:29.000000000,2021-03-02 15:14:24.000000000,2021-03-02 15:13:03.000000000,3,2,0,777593,9ba4498c475fb42b7f4074eaeebd587c8bc7eda6,12,2,1,2,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement needed to be updated to make requirements-check job
pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I787a0276ec0a62bc9e2f068e4e4ee1219a306474
(cherry picked from commit fba3b78fad2356f2715270a6f7d1ffbc27f63fd5)
"
openstack%2Fopenstack-ansible-os_octavia~stable%2Fvictoria~Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7,openstack/openstack-ansible-os_octavia,stable/victoria,,Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7,Add variable to override keypair setup python interpreter,MERGED,2021-02-04 10:45:31.000000000,2021-03-02 15:02:35.000000000,2021-03-02 15:00:56.000000000,3,3,0,773962,1a5e9d67f924f931429d5c2ee05576c54538fc46,14,4,3,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add variable to override keypair setup python interpreter

When using a non-standard host for keypair setup (such as a utility
container) it is necessary to set a custom python interpreter
which has access to openstacksdk.

This commit provides a variable to do this in the same style as
used for service setup hosts.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777779
Change-Id: Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7
"
openstack%2Ftripleo-quickstart-extras~master~I3a913db5f920282ea13f66b537b0e506ec037654,openstack/tripleo-quickstart-extras,master,toci-local-env-file,I3a913db5f920282ea13f66b537b0e506ec037654,PoC: Allow CI jobs to provide their own environment file,ABANDONED,2021-03-01 20:55:03.000000000,2021-03-02 15:01:56.000000000,,3,0,0,778067,713ac2f4f7fb6666c141c9a1e43f13ab4a9ff6d2,10,2,4,1,8864,Artom Lifshitz,artom,"PoC: Allow CI jobs to provide their own environment file

This is a proof of concept to allow CI jobs to provide their own
custom configuration. The use case is a job that needs to provide
parameters whose value depend on the job execution environment (things
like IP addresses). We could keep adding
`<parameter>: {{ variable }}` lines, but the use case feels niche
enough that it's probably better to allow jobs to just include
template snippets if they feel like it.

Change-Id: I3a913db5f920282ea13f66b537b0e506ec037654
Needed-by: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/762866
"
openstack%2Fpuppet-openstack_spec_helper~master~Ibafcb3b994db361df3427ca2afe4dd3d08028add,openstack/puppet-openstack_spec_helper,master,bug/1917457,Ibafcb3b994db361df3427ca2afe4dd3d08028add,pin bundler to 2.2.11,MERGED,2021-03-02 12:48:08.000000000,2021-03-02 14:57:24.000000000,2021-03-02 14:57:24.000000000,1,3,0,778185,a75cf9b6b18134cd6b1285740e2941bb228e053b,11,5,3,1,9816,Takashi Kajinami,kajinamit,"pin bundler to 2.2.11

It seems the latest 2.2.12 requires rake>13.0 installed and that
requirement doesn't work well in current our CI jobs.
Let's pin it to the previous version until we resolve the issue

Note that this change only covers library jobs and we also need the
same fix for puppet-openstack-integration later.

This change also removes the pin for the very old Ruby version.

Closes-Bug: #1917457
Change-Id: Ibafcb3b994db361df3427ca2afe4dd3d08028add
"
openstack%2Fbarbican-tempest-plugin~master~I92098c7d994dc7d85643da29380866a805f4e869,openstack/barbican-tempest-plugin,master,,I92098c7d994dc7d85643da29380866a805f4e869,Update attach logic in VolumeEncryptionTest,NEW,2020-03-02 12:32:09.000000000,2021-03-02 14:54:05.000000000,,31,1,0,710759,aa6478442b4bc41acaae0ba34c14ba48c8bd896b,6,4,3,1,28032,Oleksiy Petrenko,enacero,"Update attach logic in VolumeEncryptionTest

Pick the same logic as volume attach tests have, when after
volume attach server is rebooted to make sure guest OS
recognize new device.

Change-Id: I92098c7d994dc7d85643da29380866a805f4e869
"
openstack%2Fos-collect-config~stable%2Focata~I88182a9a9af74e9760b2ec9b500971f06293f0b8,openstack/os-collect-config,stable/ocata,story/2002781-stable/queens-stable/pike-stable/ocata,I88182a9a9af74e9760b2ec9b500971f06293f0b8,Add region support,ABANDONED,2018-11-13 11:19:41.000000000,2021-03-02 14:45:03.000000000,,27,13,0,617594,368f7f9df11f2071444c8f1561db64e191415aaf,6,5,1,2,12404,Rico Lin,rico.lin,"Add region support

Now Heat is missing the region support for software deployment
and so did os-collect-config. This patch fixes it but keeps the
backward compatibility.

For changes in Heat pls refer Iec6f3606c9fdf8474f393b0990356f34d38bcf75
and https://review.openstack.org/580470

For changes in Heat agents please refer
I8e0518fa61e237ec055834dd4bebe0fc87cd6627

Story: 2002781

Change-Id: I88182a9a9af74e9760b2ec9b500971f06293f0b8
(cherry picked from commit 5bebbf1654f8eea8d74a4e403ac6bd3331a7fedf)
(cherry picked from commit cad9d0fead222037c947479fdf4e053afb7a21e2)
"
openstack%2Fos-collect-config~stable%2Fpike~I88182a9a9af74e9760b2ec9b500971f06293f0b8,openstack/os-collect-config,stable/pike,story/2002781-stable/queens-stable/pike,I88182a9a9af74e9760b2ec9b500971f06293f0b8,Add region support,ABANDONED,2018-11-13 11:19:33.000000000,2021-03-02 14:44:03.000000000,,27,13,0,617593,6161036c9b1259d65f063f883d431feb1c82ae7e,21,8,2,2,12404,Rico Lin,rico.lin,"Add region support

Now Heat is missing the region support for software deployment
and so did os-collect-config. This patch fixes it but keeps the
backward compatibility.

For changes in Heat pls refer Iec6f3606c9fdf8474f393b0990356f34d38bcf75
and https://review.openstack.org/580470

For changes in Heat agents please refer
I8e0518fa61e237ec055834dd4bebe0fc87cd6627

Story: 2002781

Change-Id: I88182a9a9af74e9760b2ec9b500971f06293f0b8
(cherry picked from commit 5bebbf1654f8eea8d74a4e403ac6bd3331a7fedf)
(cherry picked from commit cad9d0fead222037c947479fdf4e053afb7a21e2)
Depends-On: https://review.openstack.org/#/c/634588/
Depends-On: https://review.openstack.org/#/c/634589/
"
openstack%2Fmetalsmith~master~I54262785ba88a3fc63982931f7888dd90de1f219,openstack/metalsmith,master,fix-release-versions,I54262785ba88a3fc63982931f7888dd90de1f219,Fix release versions,MERGED,2021-03-02 14:19:53.000000000,2021-03-02 14:41:40.000000000,2021-03-02 14:39:41.000000000,10,10,0,778194,347e756dfe1f167501dacae31eceae96e46c450a,7,2,1,4,23851,Riccardo Pittau,elfosardo,"Fix release versions

Change-Id: I54262785ba88a3fc63982931f7888dd90de1f219
"
openstack%2Fironic-python-agent~master~I7b7b8b7d4f643b07d5c9dcf7ec35cf7ebedf44d1,openstack/ironic-python-agent,master,story-2008290-lite,I7b7b8b7d4f643b07d5c9dcf7ec35cf7ebedf44d1,Remove nvme-cli warning and delay on nvme-format,MERGED,2021-03-02 05:41:56.000000000,2021-03-02 14:38:34.000000000,2021-03-02 14:36:51.000000000,3,3,1,778136,d2127e7ef44260dec2fe07c12d0901db087d7932,9,4,1,2,32177,Jacob Anders,janders,"Remove nvme-cli warning and delay on nvme-format

This change adds '-f' flag to nvme-cli calls during NVMe Secure Erase.
This removes nvme-cli output warning that the device is about to be
irreversibly deleted as well as the related 10 second delay which is
pointlessly increasing NVMe cleaning time.

Story: 2008290
Change-Id: I7b7b8b7d4f643b07d5c9dcf7ec35cf7ebedf44d1
"
openstack%2Fbarbican-tempest-plugin~master~Ib13d960a2f6196afde0e14fe196ac68daded7e61,openstack/barbican-tempest-plugin,master,stable-testing-tempest-plugins,Ib13d960a2f6196afde0e14fe196ac68daded7e61,Add stable branch jobs on the plugins master gate,ABANDONED,2020-05-05 22:16:22.000000000,2021-03-02 14:37:48.000000000,,24,0,0,725696,203bc8907e286d5f46fdae1a0e55544932e2a1f4,4,2,1,1,8556,Ghanshyam,ghanshyam,"Add stable branch jobs on the plugins master gate

Supported stable branches in maintenance state
(stein, train, ussuri) use the Tempest and plugins master
version for their testing. To make sure master version (new
tests or any changes) is compatible with stable branch testing,
we need to add the stable branches job on the plugins master gate.
Tempest and many other plugins are already testing the stable
branches in same way[1].

Ussuri onwards, Tempest or plugins are py3 only, so we are
running only python3 version of stable jobs

Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

 [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646

Change-Id: Ib13d960a2f6196afde0e14fe196ac68daded7e61
"
openstack%2Fbarbican-tempest-plugin~master~I9785be9eefc09bd6b312cf4abdad759464b65622,openstack/barbican-tempest-plugin,master,,I9785be9eefc09bd6b312cf4abdad759464b65622,Add Python 3 Train unit tests,ABANDONED,2019-08-13 03:23:56.000000000,2021-03-02 14:37:07.000000000,,3,3,0,676044,70c96ae60e1c17c3d8383678c4f6ae97ff952b72,6,4,1,2,17499,Filippo Inzaghi,qingszhao,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I9785be9eefc09bd6b312cf4abdad759464b65622
"
openstack%2Ftripleo-common~master~I24615a067a56ac226b07c2ebcf477b3682dfed2f,openstack/tripleo-common,master,tripleo-ci-reduce,I24615a067a56ac226b07c2ebcf477b3682dfed2f,Remove layout override and wire up buildimage template instead,MERGED,2021-02-25 11:46:37.000000000,2021-03-02 14:20:12.000000000,2021-03-02 14:14:06.000000000,3,15,2,777577,ca603f39b6d612fd2950cd7d7eb84ae3e2cecff9,18,5,2,1,8449,Marios Andreou,marios,"Remove layout override and wire up buildimage template instead

This wires up the tripleo-buildimage-jobs and updates buildimage
job overrides in the check layout. The depends-on adds the
files: matches in the template layout so no need to override here.
The gate layout overrides are removed altogether as we don't want
the dependencies: optimization in the gate. Part of wider tripleo-ci
optimization [1].

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/777083

Change-Id: I24615a067a56ac226b07c2ebcf477b3682dfed2f
"
openstack%2Freleases~master~I2714bd517e61c57839378c4605951984511e1ae4,openstack/releases,master,,I2714bd517e61c57839378c4605951984511e1ae4,Release sushy-tools 0.15.0,MERGED,2021-03-01 16:07:41.000000000,2021-03-02 14:13:42.000000000,2021-03-02 14:13:42.000000000,4,0,0,778023,402eb504c6258c5b83b47603d05822cd3a3852d6,9,6,1,1,1926,Derek Higgins,derekh,"Release sushy-tools 0.15.0

Change-Id: I2714bd517e61c57839378c4605951984511e1ae4
"
openstack%2Fopenstack-helm~master~I4388eda429f3093fed214633e5cebf3105bcebd3,openstack/openstack-helm,master,,I4388eda429f3093fed214633e5cebf3105bcebd3,Add helm.sh/hook related annotations in keystone chart,MERGED,2021-03-01 11:08:42.000000000,2021-03-02 14:10:44.000000000,2021-03-02 14:09:00.000000000,40,6,0,777983,909f967920592e7efe3e29b3cc1871f655906324,25,5,5,10,31746,Oleksandr Kozachenko,okozachenko,"Add helm.sh/hook related annotations in keystone chart

Same motivation with openstack/openstack-helm-infra/776466

Depends-On: https://review.opendev.org/openstack/openstack-helm-infra/777980
Change-Id: I4388eda429f3093fed214633e5cebf3105bcebd3
"
openstack%2Fmagnum~stable%2Fussuri~I2cd53bc9c59a60b90f708b1434381f120ace8c49,openstack/magnum,stable/ussuri,ussuri-fixes,I2cd53bc9c59a60b90f708b1434381f120ace8c49,[k8s] Fix default admission controller,MERGED,2021-02-11 15:05:25.000000000,2021-03-02 14:07:55.000000000,2021-03-02 14:06:00.000000000,6,1,0,775180,2b353f58cafdf6e1d8147f71ced8baf00126adfb,13,3,3,2,28022,Bharat Kunwar,brtknr,"[k8s] Fix default admission controller

The default admission controller list of k8s is being updated in
this patch by removing the SecurityContextDeny controller, which
will fix the k8s dashboard and metrics/prometheus creating issue.

Story: 2008426

Change-Id: I2cd53bc9c59a60b90f708b1434381f120ace8c49
(cherry picked from commit fade2451705b915c2625ae006d28d92eddbba27e)
"
openstack%2Fbarbican-tempest-plugin~master~Ie4fcfc00b0152755e2c82dfd13c6b7e473242871,openstack/barbican-tempest-plugin,master,,Ie4fcfc00b0152755e2c82dfd13c6b7e473242871,Add skip for tests test_signed_image_upload_*,NEW,2020-03-02 12:40:39.000000000,2021-03-02 13:56:24.000000000,,8,0,2,710760,e3580346a819deda357b256ed55210e660b65666,5,3,2,1,28032,Oleksiy Petrenko,enacero,"Add skip for tests test_signed_image_upload_*

Skip tests if barbican_intagration_enabled = False

Change-Id: Ie4fcfc00b0152755e2c82dfd13c6b7e473242871
"
openstack%2Fbarbican-tempest-plugin~master~I426e0eb9e94386578d5ee2e756edd128a2dd9f0a,openstack/barbican-tempest-plugin,master,,I426e0eb9e94386578d5ee2e756edd128a2dd9f0a,Add skip to test_signed_image_upload_boot_snapshot,NEW,2020-03-02 12:46:52.000000000,2021-03-02 13:54:58.000000000,,5,0,1,710761,960f83e0d59d2bf5813f0c5350e4157ebe1abf21,5,4,2,1,28032,Oleksiy Petrenko,enacero,"Add skip to test_signed_image_upload_boot_snapshot

Add test skip condition for situation, when environment can't sign image
and therefore fails the test.

Change-Id: I426e0eb9e94386578d5ee2e756edd128a2dd9f0a
"
openstack%2Fpuppet-openstack_spec_helper~master~I13bd6f4c628ac03f426a4fb617a9a11d597f6ed0,openstack/puppet-openstack_spec_helper,master,dnm,I13bd6f4c628ac03f426a4fb617a9a11d597f6ed0,DNM: Testing gate,ABANDONED,2021-03-02 13:21:48.000000000,2021-03-02 13:45:55.000000000,,0,0,0,778190,c9a0bbbb27689b7015bb8b39c1d5cb23bc39796c,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Testing gate

Change-Id: I13bd6f4c628ac03f426a4fb617a9a11d597f6ed0
"
openstack%2Fcinder-tempest-plugin~master~I67eb5a97dc6cc96db5d4283f4d577de9f12653eb,openstack/cinder-tempest-plugin,master,,I67eb5a97dc6cc96db5d4283f4d577de9f12653eb,Remove duplicate code - base inherited from tempest,ABANDONED,2019-11-25 18:53:11.000000000,2021-03-02 13:33:36.000000000,,5,151,0,695970,1faa72591d9bf53b9809eb467160f2f6cdb4d709,17,10,1,1,11075,Benny Kopilov,bkopilov,"Remove duplicate code - base inherited from tempest

There is no reason to re-write the code.
Need to inherit from tempest and local base will be for adding
capabilities

Change-Id: I67eb5a97dc6cc96db5d4283f4d577de9f12653eb
"
openstack%2Felection~master~Ifb37a00ca800e99699de2cf68e12533a4545f750,openstack/election,master,setup-xena-election,Ifb37a00ca800e99699de2cf68e12533a4545f750,Setup X Election,MERGED,2021-01-15 20:26:54.000000000,2021-03-02 13:20:28.000000000,2021-03-02 04:33:55.000000000,17,16,14,771077,2b614dada6b0f622088fbb169776630db8b065dc,39,6,7,2,16708,Kendall Nelson,kjnelson,"Setup X Election

Honestly, running the elections in parallel is so much easier than running
them separately. Since we have the precendence for running them together, I
figured I would propose we do it again.

Change-Id: Ifb37a00ca800e99699de2cf68e12533a4545f750
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1,openstack/openstack-ansible,stable/victoria,,Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1,Workaround nova bug,MERGED,2021-02-27 17:29:16.000000000,2021-03-02 13:19:02.000000000,2021-03-02 13:17:12.000000000,1,0,0,777779,ad8ba55bdb1ffe47088afef54e212655a5811104,15,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Workaround nova bug

For some reason libvirt of version 5.1 fails to attach
second port to instances with single vcpu and pc-i440fx
machine type.
So we applying workaround with extending amount of cores
for amphora flavor

Related-Bug: #1916879
Change-Id: Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1
(cherry picked from commit 07f7243bf90611e31cd8c94b5ea2883f0ee65bb4)
"
openstack%2Fneutron~master~Ib1d1f591c4d0f59ebff3ddcb3be7b10b0b5e67dc,openstack/neutron,master,bug/1904436,Ib1d1f591c4d0f59ebff3ddcb3be7b10b0b5e67dc,Allow to manually define the gateway IP when using subnet pools,MERGED,2021-01-20 12:00:15.000000000,2021-03-02 13:18:14.000000000,2021-03-02 13:10:53.000000000,151,15,14,771621,303d24ab8a9f4e337cc76a837082888a976f99be,61,4,8,6,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Allow to manually define the gateway IP when using subnet pools

Now is possible to define a gateway IP when creating a subnet using a
subnet pool. The IPAM subnet generator retrieves the available IP
ranges in the subnet pool and generates a list of candidate subnets
with the prefix lenght defined. If the gateway IP can be allocated in
one of those candidate subnets, the IPAM returns a valid IpamSubnet
that will be used to create a Neutron subnet.

Closes-Bug: #1904436

Change-Id: Ib1d1f591c4d0f59ebff3ddcb3be7b10b0b5e67dc
"
openstack%2Fmagnum~stable%2Fvictoria~I3fdd186b73950b4b3e5790752eaafc47ff7da8f3,openstack/magnum,stable/victoria,victoria-fixes,I3fdd186b73950b4b3e5790752eaafc47ff7da8f3,Fix misquoted comment,MERGED,2021-02-11 15:42:13.000000000,2021-03-02 13:17:58.000000000,2021-03-02 13:10:05.000000000,2,2,0,775114,aed84462a3d78f56af65dfe652f09e4e161c416a,12,5,2,1,28022,Bharat Kunwar,brtknr,"Fix misquoted comment

Seen while validating release, in the heat container agent journal:

```
/var/lib/heat-config/heat-config-script/0c399610-30a6-4728-80f2-702b0630400f:
    line 776: --cluster-cidr: command not found
error: expected 'logs [-f] [-p] (POD | TYPE/NAME) [-c CONTAINER]'.
```

Task: 41231
Story: 2008330
Change-Id: I3fdd186b73950b4b3e5790752eaafc47ff7da8f3
(cherry picked from commit 9adfc4430919b0d7ad7a8a27175bc3357b881d4e)
"
openstack%2Fnova~master~I7fc1ba2d2cbdb3f46f3649b1279b0c1a40457647,openstack/nova,master,bug/1882521,I7fc1ba2d2cbdb3f46f3649b1279b0c1a40457647,libvirt: add AsyncDeviceEventsHandler,MERGED,2021-01-25 17:18:23.000000000,2021-03-02 13:16:22.000000000,2021-03-02 13:11:22.000000000,278,0,35,772381,f5cd6e2deae6209505b1b2d1a55d0f9fe6a444d0,79,4,6,2,9708,Balazs Gibizer,gibi,"libvirt: add AsyncDeviceEventsHandler

This class will be used as synchronization point between the device
detach implementation and the generic libvirt event handling in the
libvirt driver. This later makes it possible to wait for libvirt device
removal events during device detach in a thread / greenlet safe way.

The basic usage pattern is the following:

setup:
  handler = AsyncDeviceEventsHandler()

thread1:

  waiter = handler.create_waiter(<instance>, <device>, <event types>)
  # initiate detach in libvirt
  detach()
  # block until the event is received
  event = handler.wait(waiter, timeout=20)

thread2:

  # at some point after detach() in thread1
  handler.notify_waiters(event)

This is part of the longer series trying to transform the existing
device detach handling to use libvirt events.

Change-Id: I7fc1ba2d2cbdb3f46f3649b1279b0c1a40457647
Related-Bug: #1882521
"
openstack%2Fneutron~master~Ib7d30b954bef3bc3551f1ca206873df354d1ab23,openstack/neutron,master,task/41558,Ib7d30b954bef3bc3551f1ca206873df354d1ab23,"Remove ""IpCommandBase"" base class",MERGED,2021-02-18 17:15:23.000000000,2021-03-02 13:15:56.000000000,2021-03-02 13:10:22.000000000,5,60,3,776501,0a4dcb18bbc96b347f14d98a959a238c008bf5fe,36,4,5,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Remove ""IpCommandBase"" base class

""IpCommandBase"" class was implemented to provide a common interface
for all ""ip"" command subclasses. This base class provided a COMMAND
class variable, to define the ""ip"" shell command subparameter and
a two execution methods, ""_run"" and ""_as_root"".

Now all ""ip"" command classes have been migrated to Pyroute2, this
basic interface is not needed anymore.

Story: #2007686
Task: #41558

Change-Id: Ib7d30b954bef3bc3551f1ca206873df354d1ab23
"
openstack%2Fmagnum~stable%2Fvictoria~I2cd53bc9c59a60b90f708b1434381f120ace8c49,openstack/magnum,stable/victoria,fix-default-admission-controller-story/2008426-stable/victoria,I2cd53bc9c59a60b90f708b1434381f120ace8c49,[k8s] Fix default admission controller,MERGED,2021-02-11 15:35:20.000000000,2021-03-02 13:15:41.000000000,2021-03-02 13:09:10.000000000,6,1,0,775112,3360b8d82f497650b644756d9a75191046f8958f,14,4,3,2,28022,Bharat Kunwar,brtknr,"[k8s] Fix default admission controller

The default admission controller list of k8s is being updated in
this patch by removing the SecurityContextDeny controller, which
will fix the k8s dashboard and metrics/prometheus creating issue.

Story: 2008426

Change-Id: I2cd53bc9c59a60b90f708b1434381f120ace8c49
(cherry picked from commit fade2451705b915c2625ae006d28d92eddbba27e)
"
openstack%2Fcharm-nova-compute~master~I4283f12e4346b64f89dbc13bb64e5fb7edca2f62,openstack/charm-nova-compute,master,bug/1895530,I4283f12e4346b64f89dbc13bb64e5fb7edca2f62,apparmor: update profile for hardware offload,MERGED,2021-01-11 10:55:12.000000000,2021-03-02 13:13:32.000000000,2021-03-02 12:48:43.000000000,2,1,0,770100,08728a3adf9371761556f97e45b751c076d9ce75,15,6,2,1,935,James Page,james-page,"apparmor: update profile for hardware offload

The nova-compute daemon requires access to a couple of additional
paths to support querying the underlying hardware in hardware
offload enabled scenarios.

Update apparmor profile to reflect these additional requirements.

Change-Id: I4283f12e4346b64f89dbc13bb64e5fb7edca2f62
Closes-Bug: 1895530
"
openstack%2Fmagnum~stable%2Fvictoria~Ibeb32a24ca25914cab32c63a9ccafaf711148a84,openstack/magnum,stable/victoria,story/2008524/insecure-port-stable/victoria,Ibeb32a24ca25914cab32c63a9ccafaf711148a84,Make kubelet and kube-proxy use the secure port,MERGED,2021-03-02 10:37:48.000000000,2021-03-02 13:09:53.000000000,2021-03-02 13:09:53.000000000,15,10,0,778106,7f5c6354a54abb7322d1628cb357efc59a9067b6,8,3,2,3,20498,Spyros Trigazis,strigazi,"Make kubelet and kube-proxy use the secure port

Create certificates for kubelet and kube-proxy on control-plane
nodes similar to worker nodes.  Use the secure kube-apiserver
port on control-plane nodes.

story: 2008524
task: 41602

Change-Id: Ibeb32a24ca25914cab32c63a9ccafaf711148a84
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit d11f4e8393ee5fd6bb2872af035352f7df2baa03)
"
openstack%2Fmagnum~stable%2Fvictoria~I93eecacbe45d19c4f73e9a974d60e642e87bbdf0,openstack/magnum,stable/victoria,victoria-fixes,I93eecacbe45d19c4f73e9a974d60e642e87bbdf0,Re-use transport for rpc server,MERGED,2021-02-11 16:44:01.000000000,2021-03-02 13:09:44.000000000,2021-03-02 13:09:44.000000000,5,36,0,775217,2f623e2dcc5f69d7e3e0ea4b93502652cd6478aa,22,5,3,3,22623,Erik Olof Gunnar Andersson,eoandersson,"Re-use transport for rpc server

This patch changes the rpc server to re-use
the transport in the same manner as the rpc client.

Story: 2008494
Task: 41752

Change-Id: I93eecacbe45d19c4f73e9a974d60e642e87bbdf0
(cherry picked from commit 672b11950754502d3c724bab0b7e1c5ee3436fd2)
"
openstack%2Fmagnum~stable%2Fvictoria~I05cbd1ec62e9a68c68a1666ff62f20138bf8c731,openstack/magnum,stable/victoria,victoria-fixes,I05cbd1ec62e9a68c68a1666ff62f20138bf8c731,Update containerd version and tarball URL,MERGED,2021-02-11 15:33:33.000000000,2021-03-02 13:09:37.000000000,2021-03-02 13:09:37.000000000,8,4,0,775111,90f89276a071cf363c9623305d2e78483e168ebf,11,3,2,3,28022,Bharat Kunwar,brtknr,"Update containerd version and tarball URL

1. Update default containerd version to 1.4.3
2. Fix the redirect issue of containerd tarball download

story: 2008451

Change-Id: I05cbd1ec62e9a68c68a1666ff62f20138bf8c731
(cherry picked from commit 8bdf0e76c63c4aa44394f7bd71483d843bccb22c)
"
openstack%2Fmagnum~stable%2Fvictoria~Ibaf1840214016d2dd6ac15e2137eb3cd3d767889,openstack/magnum,stable/victoria,victoria-fixes,Ibaf1840214016d2dd6ac15e2137eb3cd3d767889,k8s: Do not use insecure api port,MERGED,2021-02-15 03:55:18.000000000,2021-03-02 13:09:27.000000000,2021-03-02 13:09:27.000000000,36,44,0,775488,7f46d69031a51dd9182c9952ee19106df20a4a5f,12,3,2,19,6484,Feilong Wang,flwang,"k8s: Do not use insecure api port

* in 1.20 8080 is not supported anymore
** use only 6443
** change all probes for health to use kubectl and 6443
* configure the signing key in API

story: 2008524
task: 41731

Change-Id: Ibaf1840214016d2dd6ac15e2137eb3cd3d767889
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 1b72456e120c28526ef61aae9d176d613ee3ac82)
"
openstack%2Fmagnum~stable%2Fvictoria~I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288,openstack/magnum,stable/victoria,2007591-39938-stable/victoria,I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288,k8s-fcos: Source bashrc for clusterconfig,MERGED,2021-02-15 21:30:17.000000000,2021-03-02 13:09:14.000000000,2021-03-02 13:09:14.000000000,3,1,0,775650,4b134688c043fa4cc6a8367b0733577d29df59ac,10,3,2,2,6484,Feilong Wang,flwang,"k8s-fcos: Source bashrc for clusterconfig

During the reshuffling of bash fragments,
we missed sourcing bashrc which contains the
location of kubeconfig.

Fix addition of /srv/magnum/bin to PATH.

story: 2007591
task: 39938

Change-Id: I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 2c93427d4956ae3e7844d9ece3802f3e3dfe25b2)
"
openstack%2Fansible-role-python_venv_build~master~I9867bcefbbfe52db2ce14232fabd4f549499a4ae,openstack/ansible-role-python_venv_build,master,,I9867bcefbbfe52db2ce14232fabd4f549499a4ae,Import_tasks instead of include_tasks,ABANDONED,2021-02-26 17:53:37.000000000,2021-03-02 13:04:19.000000000,,1,6,0,777798,4e8224c49b2d889b438778b62db46897c92f1883,6,2,2,1,13095,Marc Gariépy,mgariepy,"Import_tasks instead of include_tasks

When using the include_tasks not all host will get the facts and these
are needed to have the correct constraints.txt set when installing.

Change-Id: I9867bcefbbfe52db2ce14232fabd4f549499a4ae
"
openstack%2Fos-brick~stable%2Fvictoria~Ie3266c81b3c6bb5a2c213a12410539d404d1febe,openstack/os-brick,stable/victoria,fix-fc-returning-real-path,Ie3266c81b3c6bb5a2c213a12410539d404d1febe,FC: Fix not flushing on detach,MERGED,2021-02-23 11:14:31.000000000,2021-03-02 12:33:50.000000000,2021-03-02 12:32:24.000000000,49,13,0,777092,3adcb40678ee771d6701e798f1f50ebce8b63aa3,47,6,1,5,10459,Luigi Toscano,ltoscano,"FC: Fix not flushing on detach

When doing multipathed Fibre Channel we may end up not flushing the
volume when disconnecting it if didn't find a multipath when doing
the connection.

The issue is caused by the `connect_volume` call returning a real path
instead of a symlink and us passing the wrong device_info to the
_remove_devices method, which makes the disconnect code incorrectly
identify when a multipath was used to decide whether to do a flush or
not.

This patch fixes these things in order to flush the individual path when
necessary.

Closes-Bug: #1897787
Change-Id: Ie3266c81b3c6bb5a2c213a12410539d404d1febe
(cherry picked from commit 1432c369fb49b7359bd9d48af24133f5c4019402)
"
openstack%2Fmagnum~stable%2Fvictoria~Icf32de2b803aa160dc3b7993e128deff11d02fcb,openstack/magnum,stable/victoria,,Icf32de2b803aa160dc3b7993e128deff11d02fcb,Fix validation for master_lb_enabled,MERGED,2021-01-05 20:20:32.000000000,2021-03-02 12:32:38.000000000,2021-03-02 12:30:01.000000000,5,4,0,769362,b4a5008ade0162a98c5693093d65e238e82dcb40,18,5,4,4,22018,Ionuț Bîru,ionutbiru,"Fix validation for master_lb_enabled

Currently master_lb_enabled can be enabled at cluster creation
but validation is only done for cluster_template.

We need to validate in cluster.

Fix testing

task: 41535
story: 2007634
story: 2008487
Change-Id: Icf32de2b803aa160dc3b7993e128deff11d02fcb
(cherry picked from commit acc7084889dd1f497081d14a688472550e6913e9)
"
openstack%2Fmagnum~stable%2Fvictoria~I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0,openstack/magnum,stable/victoria,victoria-fixes,I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0,Add image prefix for grafana images,MERGED,2021-02-11 15:38:29.000000000,2021-03-02 12:31:22.000000000,2021-03-02 12:28:24.000000000,4,1,0,775113,c6782e63fed1dc69745f9170a89795d5734cd8c1,13,5,2,1,28022,Bharat Kunwar,brtknr,"Add image prefix for grafana images

- grafana image
- k8s-sidecar image

Change-Id: I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0
(cherry picked from commit 327c12fc8400c6cb6e29230f81a1735ba5f6d45b)
"
openstack%2Fmagnum~master~Ib5c50a4aadc3ad0c0340fd7497a368c43b6e8ac1,openstack/magnum,master,autoscaler-1.20,Ib5c50a4aadc3ad0c0340fd7497a368c43b6e8ac1,Build autoscaler 1.20,MERGED,2021-03-01 10:39:35.000000000,2021-03-02 12:30:10.000000000,2021-03-02 12:28:15.000000000,1,0,0,777981,1f33b6c1faaf26dfbfa916d3f24ce098005b92cc,9,3,1,1,20498,Spyros Trigazis,strigazi,"Build autoscaler 1.20

Change-Id: Ib5c50a4aadc3ad0c0340fd7497a368c43b6e8ac1
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
"
openstack%2Fmagnum~stable%2Fussuri~Icf32de2b803aa160dc3b7993e128deff11d02fcb,openstack/magnum,stable/ussuri,ussuri-fixes,Icf32de2b803aa160dc3b7993e128deff11d02fcb,Fix validation for master_lb_enabled,MERGED,2021-02-11 15:05:52.000000000,2021-03-02 12:15:05.000000000,2021-03-02 12:10:20.000000000,5,4,0,775183,344f5059fddb143d90b5cbbed1d8782051d6eb71,9,3,2,4,28022,Bharat Kunwar,brtknr,"Fix validation for master_lb_enabled

Currently master_lb_enabled can be enabled at cluster creation but validation
is only done for cluster_template.

We need to validate in cluster.

Fix testing

task: 41535
story: 2007634
story: 2008487
Change-Id: Icf32de2b803aa160dc3b7993e128deff11d02fcb
(cherry picked from commit acc7084889dd1f497081d14a688472550e6913e9)
"
openstack%2Fmagnum~stable%2Fussuri~I72e418491cbd19291527bbe4b504d599c740fea9,openstack/magnum,stable/ussuri,ussuri-fixes,I72e418491cbd19291527bbe4b504d599c740fea9,Remove cloud-config from k8s worker node,MERGED,2020-09-23 22:43:16.000000000,2021-03-02 12:13:10.000000000,2021-03-02 12:06:03.000000000,0,1,0,753860,5ce4ca0595923c1e1d47236f0c53daac584da8a6,20,4,3,1,6484,Feilong Wang,flwang,"Remove cloud-config from k8s worker node

Now Magnum is not deploying any service or workload on k8s
worker nodes which need to get credentials from local to talk
to Magnum control plane. So the cloud-config file should be
removed from worker nodes to reduce the attach surface from
a security point of view.

Task: 40791
Story: 2008090

Change-Id: I72e418491cbd19291527bbe4b504d599c740fea9
(cherry picked from commit c84653cd74d4981430096d4a9494ba8827a34caa)
"
openstack%2Fkayobe-config-dev~stable%2Ftrain~I02be84d079f3effe559bd501622642f1c9601b45,openstack/kayobe-config-dev,stable/train,,I02be84d079f3effe559bd501622642f1c9601b45,Reduce neutron RPC workers to 1,MERGED,2021-02-24 08:41:48.000000000,2021-03-02 12:11:08.000000000,2021-03-02 12:11:08.000000000,1,0,0,777132,6d10ed86e09b24057978b5836fd8f546a24cf8fd,7,3,1,1,14826,Mark Goddard,mgoddard,"Reduce neutron RPC workers to 1

This should reduce the memory overhead of these processes

Change-Id: I02be84d079f3effe559bd501622642f1c9601b45
(cherry picked from commit 6e7e3ae18c92df78bab79d572cf60a954e80da19)
"
openstack%2Fkayobe-config-dev~stable%2Fussuri~I02be84d079f3effe559bd501622642f1c9601b45,openstack/kayobe-config-dev,stable/ussuri,,I02be84d079f3effe559bd501622642f1c9601b45,Reduce neutron RPC workers to 1,MERGED,2021-02-24 08:41:30.000000000,2021-03-02 12:11:05.000000000,2021-03-02 12:11:05.000000000,1,0,0,777131,95360650fe05b1c58692165ef86752c7fee1d53d,7,3,1,1,14826,Mark Goddard,mgoddard,"Reduce neutron RPC workers to 1

This should reduce the memory overhead of these processes

Change-Id: I02be84d079f3effe559bd501622642f1c9601b45
(cherry picked from commit 6e7e3ae18c92df78bab79d572cf60a954e80da19)
"
openstack%2Fmagnum~stable%2Fussuri~I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e,openstack/magnum,stable/ussuri,ussuri-fixes,I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e,[k8s-fcos] Fix insecure registry,MERGED,2021-02-11 15:07:18.000000000,2021-03-02 12:10:11.000000000,2021-03-02 12:10:11.000000000,52,9,2,775185,92260bf0c941cf87095e634e71c3d951a8446686,16,3,3,6,28022,Bharat Kunwar,brtknr,"[k8s-fcos] Fix insecure registry

At present, insecure registry doesn't work as expected when Podman is
used. This patch addresses the issue by fixing the ignition user data so
that Podman is configured correctly. Then it ensures that
--insecure-registry flag is provided to Docker in /etc/sysconfig/docker.

Story: 2008479
Task: 41519

Change-Id: I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e
(cherry picked from commit 7bfd7519af9c95044917ad443ea26708c49c1d13)
"
openstack%2Fmagnum~stable%2Fussuri~I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0,openstack/magnum,stable/ussuri,ussuri-fixes,I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0,Add image prefix for grafana images,MERGED,2021-02-11 15:04:42.000000000,2021-03-02 12:10:04.000000000,2021-03-02 12:10:04.000000000,4,1,0,775179,4393147b40cfe554d6bf8a47d93d5b36a55630bb,8,3,2,1,28022,Bharat Kunwar,brtknr,"Add image prefix for grafana images

- grafana image
- k8s-sidecar image

Change-Id: I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0
(cherry picked from commit 327c12fc8400c6cb6e29230f81a1735ba5f6d45b)
"
openstack%2Fmagnum~stable%2Fussuri~I11a24f035a9d66a536e5e58328084ee08f0c6285,openstack/magnum,stable/ussuri,ussuri-fixes,I11a24f035a9d66a536e5e58328084ee08f0c6285,Re-use transport for rpc calls,MERGED,2021-02-03 19:52:33.000000000,2021-03-02 12:09:54.000000000,2021-03-02 12:09:54.000000000,8,40,0,773989,2473f22665b429c9d7fb4ef60a279c234db58615,14,3,5,4,22623,Erik Olof Gunnar Andersson,eoandersson,"Re-use transport for rpc calls

We are currently creating a new transport for each api
call. This patch changes that so that each worker
can re-use the same transport for multiple requests.

Story: 2008494
Task: 41544
Change-Id: I11a24f035a9d66a536e5e58328084ee08f0c6285
(cherry picked from commit 987c9d809eb393d5d644e4f85650d3d396d2319d)
"
openstack%2Fmagnum~stable%2Fussuri~I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288,openstack/magnum,stable/ussuri,2007591-39938-stable/victoria-stable/ussuri,I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288,k8s-fcos: Source bashrc for clusterconfig,MERGED,2021-02-11 15:03:57.000000000,2021-03-02 12:09:45.000000000,2021-03-02 12:09:45.000000000,4,1,0,775177,92f518dfab6ffc509603eba92bebbc833bfad106,10,2,4,2,28022,Bharat Kunwar,brtknr,"k8s-fcos: Source bashrc for clusterconfig

During the reshuffling of bash fragments,
we missed sourcing bashrc which contains the
location of kubeconfig.

Fix addition of /srv/magnum/bin to PATH.

story: 2007591
task: 39938

Change-Id: I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 2c93427d4956ae3e7844d9ece3802f3e3dfe25b2)
"
openstack%2Fmagnum~stable%2Fussuri~I455ed0106dd257acbde58af408de0bf6e6abe7d3,openstack/magnum,stable/ussuri,ussuri-fixes,I455ed0106dd257acbde58af408de0bf6e6abe7d3,Fix syntax error in default rolesync configmap,MERGED,2021-02-11 15:00:40.000000000,2021-03-02 12:09:41.000000000,2021-03-02 12:09:41.000000000,5,5,0,775170,8744130ee5697d4c1ca683cad780381c17919210,10,4,2,2,28022,Bharat Kunwar,brtknr,"Fix syntax error in default rolesync configmap

Change-Id: I455ed0106dd257acbde58af408de0bf6e6abe7d3
(cherry picked from commit f3e88ddba706c406579b91c837c7eb7ceb5dc841)
"
openstack%2Fmagnum~stable%2Fussuri~I0afc19c630e077c079f7f6a52439f4aee8bf5eb8,openstack/magnum,stable/ussuri,ussuri-fixes,I0afc19c630e077c079f7f6a52439f4aee8bf5eb8,Configure placeholder role-mapping Sync,MERGED,2021-02-11 15:00:07.000000000,2021-03-02 12:08:53.000000000,2021-03-02 12:08:53.000000000,85,21,0,775167,a9bdf93dfc6daf2976a01f4afb17c7b82e5f7aa1,9,4,2,2,28022,Bharat Kunwar,brtknr,"Configure placeholder role-mapping Sync

 + Adds placeholder ConfigMap and with a template
   keystone-sync-policy that can be edited by the cluster
   admin
 + Docs for sync policy added
 + Docs for auth policy edited for grammar, spelling
   and clarity.

Task: 39136
Story: 1755770

Change-Id: I0afc19c630e077c079f7f6a52439f4aee8bf5eb8
(cherry picked from commit 31623a13ad2d37bcae707550d96815c7f9ddf9d8)
"
openstack%2Fmagnum~stable%2Fussuri~Ibaf1840214016d2dd6ac15e2137eb3cd3d767889,openstack/magnum,stable/ussuri,ussuri-fixes,Ibaf1840214016d2dd6ac15e2137eb3cd3d767889,k8s: Do not use insecure api port,MERGED,2021-02-11 15:08:23.000000000,2021-03-02 12:08:05.000000000,2021-03-02 12:08:05.000000000,36,44,0,775186,caedd83883bd341c2729f1a016d832e23e768293,9,4,3,19,28022,Bharat Kunwar,brtknr,"k8s: Do not use insecure api port

* in 1.20 8080 is not supported anymore
** use only 6443
** change all probes for health to use kubectl and 6443
* configure the signing key in API

story: 2008524
task: 41731

Change-Id: Ibaf1840214016d2dd6ac15e2137eb3cd3d767889
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 1b72456e120c28526ef61aae9d176d613ee3ac82)
"
openstack%2Fmagnum~stable%2Fussuri~I789fac4a3e273d10c58963aa92b8490f5c67bfe0,openstack/magnum,stable/ussuri,ussuri-fixes,I789fac4a3e273d10c58963aa92b8490f5c67bfe0,Update helm charts origin repository,MERGED,2021-01-27 15:54:01.000000000,2021-03-02 12:07:27.000000000,2021-03-02 12:07:27.000000000,4,4,0,772716,09d1fefb43a307e1e71db4e0b9fd396d36ff97c4,11,4,3,4,23084,Bartosz Bezak,b.bezak,"Update helm charts origin repository

Updated helm chart origins for:
nginx, prometheus-operator, metrics-server, prometheus-adapter
Triggered by:
https://helm.sh/blog/2019-10-22-helm-2150-released/#helm-2-support-plan
https://github.com/helm/charts#status-of-the-project

Task: 41233
Story: 2008332
Change-Id: I789fac4a3e273d10c58963aa92b8490f5c67bfe0
Signed-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>
(cherry picked from commit 333331b743c5ee8fba9d3530af7ef641c3219643)
"
openstack%2Fmagnum~stable%2Fussuri~Ibeb32a24ca25914cab32c63a9ccafaf711148a84,openstack/magnum,stable/ussuri,ussuri-fixes,Ibeb32a24ca25914cab32c63a9ccafaf711148a84,Make kubelet and kube-proxy use the secure port,MERGED,2021-02-11 15:06:14.000000000,2021-03-02 12:07:13.000000000,2021-03-02 12:07:13.000000000,15,10,0,775184,d3f7445e5a79efe4420cff27d297907f3900c410,7,2,2,3,28022,Bharat Kunwar,brtknr,"Make kubelet and kube-proxy use the secure port

Create certificates for kubelet and kube-proxy on control-plane
nodes similar to worker nodes.  Use the secure kube-apiserver
port on control-plane nodes.

story: 2008524
task: 41602

Change-Id: Ibeb32a24ca25914cab32c63a9ccafaf711148a84
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit d11f4e8393ee5fd6bb2872af035352f7df2baa03)
"
openstack%2Fmagnum~stable%2Fussuri~I3fdd186b73950b4b3e5790752eaafc47ff7da8f3,openstack/magnum,stable/ussuri,ussuri-fixes,I3fdd186b73950b4b3e5790752eaafc47ff7da8f3,Fix misquoted comment,MERGED,2021-02-11 15:03:41.000000000,2021-03-02 12:06:41.000000000,2021-03-02 12:06:41.000000000,2,2,0,775176,15b5f9702bba7512bd94c96c727775c057ee71de,7,3,2,1,28022,Bharat Kunwar,brtknr,"Fix misquoted comment

Seen while validating release, in the heat container agent journal:

```
/var/lib/heat-config/heat-config-script/0c399610-30a6-4728-80f2-702b0630400f:
    line 776: --cluster-cidr: command not found
error: expected 'logs [-f] [-p] (POD | TYPE/NAME) [-c CONTAINER]'.
```

Task: 41231
Story: 2008330
Change-Id: I3fdd186b73950b4b3e5790752eaafc47ff7da8f3
(cherry picked from commit 9adfc4430919b0d7ad7a8a27175bc3357b881d4e)
"
openstack%2Fmagnum~stable%2Fussuri~I0fb4b2604f38bd3a325f82b1364b78ff17792c65,openstack/magnum,stable/ussuri,ussuri-fixes,I0fb4b2604f38bd3a325f82b1364b78ff17792c65,Use kube_master_ip for monitoring when no floating ip is used,MERGED,2021-02-10 13:53:27.000000000,2021-03-02 12:06:26.000000000,2021-03-02 12:06:26.000000000,1,1,0,774802,63ab64ba28f27bc15ab2585b78d046f0fbfe57c8,11,4,3,1,28022,Bharat Kunwar,brtknr,"Use kube_master_ip for monitoring when no floating ip is used

This patch aims to fix clusters that uses only private network
and monitoring_enabled.

It was observed that:

- no floating ip, so the kube_master_external_ip is null
- because of that, the value that gets sent to the shell
for KUBE_MASTERS_PRIVATE is actually [null]
- this happens when deploying prometheus-operator
( label monitoring_enable=true )

Those topics above results in a cluster taking around 30
minutes to be completed until monitoring gives up configuring
endpoints.

Change-Id: I0fb4b2604f38bd3a325f82b1364b78ff17792c65
(cherry picked from commit 34f65582eb3cb8fee91838e9f02e5310bd12ada0)
"
openstack%2Fmagnum~stable%2Fussuri~I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b,openstack/magnum,stable/ussuri,ussuri-fixes,I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b,Fix database migrations,MERGED,2021-02-11 15:03:32.000000000,2021-03-02 12:06:19.000000000,2021-03-02 12:06:19.000000000,6,1,0,775175,93a47e762e320155529f9f66ea400e5f5b60009c,7,3,2,2,28022,Bharat Kunwar,brtknr,"Fix database migrations

The pattern of adding a column and then reading a table with it
no longer works in SQLAlchemy 1.3.20. This has been reported
upstream [1].

[1] https://github.com/sqlalchemy/sqlalchemy/issues/5669

Change-Id: I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b
(cherry picked from commit f5cf6b958c20e560d2baff3fb21adcb4ce4a3aa4)
"
openstack%2Fmagnum~stable%2Fussuri~I12a0bb3441d18c3b68a8db4ab3234e04e5218cd2,openstack/magnum,stable/ussuri,ussuri-fixes,I12a0bb3441d18c3b68a8db4ab3234e04e5218cd2,Drop KUBE_API_PORT for kube-apiserver,MERGED,2021-02-11 15:03:03.000000000,2021-03-02 12:06:11.000000000,2021-03-02 12:06:11.000000000,1,1,0,775173,54b36190f678b05e022379157b258fca34f80ab2,7,3,2,1,28022,Bharat Kunwar,brtknr,"Drop KUBE_API_PORT for kube-apiserver

From k8s v1.19.x, kube-apiserver binary can't accept any parameter,
and actually we're not using the pass-in KUBE_API_PORT. So it's
safe to drop it.

Change-Id: I12a0bb3441d18c3b68a8db4ab3234e04e5218cd2
(cherry picked from commit 662b831fc7f1e81e340facdafefdb6639a16a267)
"
openstack%2Fosprofiler~stable%2Fqueens~I95461280d11b14199ba64a2da5709a1e2f4531df,openstack/osprofiler,stable/queens,cap-bandit-1.6.2,I95461280d11b14199ba64a2da5709a1e2f4531df,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 18:18:42.000000000,2021-03-02 12:04:55.000000000,2021-03-02 12:02:58.000000000,3,2,0,777803,c3f9d3dc91cfffa86e0fc921da82c261ca0f6b21,11,3,3,1,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement updated to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I95461280d11b14199ba64a2da5709a1e2f4531df
"
openstack%2Fmagnum~stable%2Fussuri~If9dd67672becb6def9f97afa7e60b2660cf5b27e,openstack/magnum,stable/ussuri,ussuri-fixes,If9dd67672becb6def9f97afa7e60b2660cf5b27e,Fix Cinder CSI,MERGED,2021-02-11 15:04:13.000000000,2021-03-02 12:04:22.000000000,2021-03-02 12:00:43.000000000,19,25,0,775178,33e96f50e8b458d4f45a0cbc62207a24edbfa4cb,8,3,2,4,28022,Bharat Kunwar,brtknr,"Fix Cinder CSI

A regression issue introduced by [1], which is causing Cinder CSI pods
failed to start. This patch will fixed it.

[1] https://review.opendev.org/#/c/749101/

Change-Id: If9dd67672becb6def9f97afa7e60b2660cf5b27e
Task: 41097
Story: 2008250
(cherry picked from commit 56583ac8fe0dffe932808afc81a57279469b9d56)
"
openstack%2Fosprofiler~stable%2Fpike~I95461280d11b14199ba64a2da5709a1e2f4531df,openstack/osprofiler,stable/pike,cap-bandit-1.6.2,I95461280d11b14199ba64a2da5709a1e2f4531df,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 21:13:08.000000000,2021-03-02 12:04:16.000000000,2021-03-02 12:02:55.000000000,3,2,0,777832,65df9fc03a17dbe1e95eaae1a4b32896779740e6,9,3,1,1,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement updated to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I95461280d11b14199ba64a2da5709a1e2f4531df
"
openstack%2Fmagnum~stable%2Fussuri~Ie5b89b97710d2e2d41c9ce4f3ec30046390acbeb,openstack/magnum,stable/ussuri,ussuri-fixes,Ie5b89b97710d2e2d41c9ce4f3ec30046390acbeb,Update default k8s admission controller list,MERGED,2021-02-11 15:03:13.000000000,2021-03-02 12:02:50.000000000,2021-03-02 11:59:32.000000000,2,2,0,775174,0c95ef1a5276501e9bc165691d45453cb5116895,8,3,2,2,28022,Bharat Kunwar,brtknr,"Update default k8s admission controller list

There are two issues with current k8s admission controller list:

1. The default existing list is not consistent when user passes
in extra controller or not
2. The existing list is out of date.

The new list are based on below consideration:
1. Get the default list based on k8s v1.16.x[1] because it's the
supported oldest version.
2. Keep it consistent when user passes in extra controllers or not
3. Keep all the admission controllers we has used in the code

[1] https://v1-16.docs.kubernetes.io/docs/reference/access-authn-authz/admission-controllers/#which-plugins-are-enabled-by-default

Task: 40767
Story: 2008076

Change-Id: Ie5b89b97710d2e2d41c9ce4f3ec30046390acbeb
(cherry picked from commit a837b5c03d9aaed7861ea78eae60b7eafdd855ee)
"
openstack%2Fmagnum~stable%2Fussuri~I161b0af3ef7fbf3f81ece9a4a5689ec84d8b715d,openstack/magnum,stable/ussuri,ussuri-fixes,I161b0af3ef7fbf3f81ece9a4a5689ec84d8b715d,Remove duplicated etcd_volume_size param in coreos template,MERGED,2021-02-11 15:00:20.000000000,2021-03-02 12:00:03.000000000,2021-03-02 12:00:03.000000000,0,6,0,775168,06635a3fb9616d7cb22a248802bbdb6af5b3ae6f,8,3,2,1,28022,Bharat Kunwar,brtknr,"Remove duplicated etcd_volume_size param in coreos template

Change-Id: I161b0af3ef7fbf3f81ece9a4a5689ec84d8b715d
(cherry picked from commit 0e964f8f7db23ae775a554d8f75bb7bb797ce490)
"
openstack%2Fmagnum~stable%2Fussuri~I362cea7bf57825035d13d234d0181a2b1fca5743,openstack/magnum,stable/ussuri,ussuri-fixes,I362cea7bf57825035d13d234d0181a2b1fca5743,Stop using delete_on_termination for BFV instances,MERGED,2021-02-11 15:00:30.000000000,2021-03-02 11:59:56.000000000,2021-03-02 11:59:56.000000000,0,4,0,775169,74b676984a7208d3a554fbce5a8ef397604d9652,8,3,2,4,28022,Bharat Kunwar,brtknr,"Stop using delete_on_termination for BFV instances

When using delete_on_termination and the booting of the instance fails
on the first attempt, the second attempt will fail with Heat.  The
reason is that with delete_on_termination set to True, Nova will delete
the volume when Heat deletes the ERROR'd instance and it will then
result in the follow-up boot to fail with an error along the line of
unable to find volume, which masks the real failure from the user (which
could potentialy be aquota issue).

With this patch, we no longer set this and instead use the default of
false.  This will not mean we will leak volumes because when we delete
the stack, Heat will do all the right things and delete them in order,
making sure the volume disappears eventually.

Change-Id: I362cea7bf57825035d13d234d0181a2b1fca5743
(cherry picked from commit 2c63aca8c6afbcc2e32a09cc7f3ad2f18265698f)
"
openstack%2Foslo.rootwrap~stable%2Fstein~Ib53ba3d18179fd773ace2fc26479b60ecd4c820c,openstack/oslo.rootwrap,stable/stein,cap-bandit-1.6.2,Ib53ba3d18179fd773ace2fc26479b60ecd4c820c,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-03-01 16:29:13.000000000,2021-03-02 11:59:15.000000000,2021-03-02 11:56:47.000000000,6,3,0,778029,b38b0cae1f95461e128b5ca6c6f7a2a447843e0e,8,3,1,2,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ib53ba3d18179fd773ace2fc26479b60ecd4c820c
"
openstack%2Fansible-collections-openstack~master~I7a36fb05065cbd559cd7a00842070f97e7afbc13,openstack/ansible-collections-openstack,master,add_binding_profile_to_port,I7a36fb05065cbd559cd7a00842070f97e7afbc13,Add binding profile to port module,MERGED,2021-03-01 07:59:09.000000000,2021-03-02 11:56:26.000000000,2021-03-02 11:56:26.000000000,58,3,4,777936,50deae71f4d5ac1bc14b0105b6a00b2b939dbba1,13,4,4,3,28094,Maxim Babushkin,mbabushk,"Add binding profile to port module

Neutron port is able to configure binding profile during creation.
Add support of the binding profile to module

Change-Id: I7a36fb05065cbd559cd7a00842070f97e7afbc13
"
openstack%2Fkolla-ansible~stable%2Fstein~I6d03fa8c81c52b6f061514a836bbd15bb6639aaf,openstack/kolla-ansible,stable/stein,bug/1891343,I6d03fa8c81c52b6f061514a836bbd15bb6639aaf,Fix Barbican API log config,MERGED,2021-03-01 23:46:14.000000000,2021-03-02 11:55:52.000000000,2021-03-02 11:54:05.000000000,14,5,0,778098,3ba9c1f4e1540b98223d087bf99836137d75b7ee,11,3,2,6,30523,Dincer Celik,osmanlicilegi,"Fix Barbican API log config

There are a few issues fixed here:

- The Barbican API service doesn't set a log file, so all the Barbican API
  service logs go to loadwsgi.py.log by default.
- The logs in loadwsgi.py.log are not ingested properly by Fluentd.
- uWSGI logs go to barbican-api.log. This would normally be used as the log
  file for the Barbican API service logs.

This patch makes the following changes to address the above issues:

- All uWSGI logs (from the Emperor and Vassals) go to barbican_api_uwsgi_access.log
  Although these logs aren't strictly all access logs, this follows the existing
  pattern for WSGI logs.
- The Barbican API service logs are written to barbican-api.log instead of
  loadwsgi.py.log. This follows the pattern used by other OpenStack services.
- Fluentd is configured to parse the Barbican API service logs as it would with
  other OpenStack Python services.

Change-Id: I6d03fa8c81c52b6f061514a836bbd15bb6639aaf
Closes-Bug: #1891343
(cherry picked from commit 1ff4e58d70197263f5e0fd40f727ceb5ecf00e65)
"
openstack%2Foslo.middleware~stable%2Fqueens~Id39cd1f6ed61a3fa457f461fc8d399b550f3bb57,openstack/oslo.middleware,stable/queens,cap-bandit-1.6.2,Id39cd1f6ed61a3fa457f461fc8d399b550f3bb57,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 20:30:18.000000000,2021-03-02 11:54:13.000000000,2021-03-02 11:51:04.000000000,3,2,0,777820,26621ecfc60fd624a93eb19c2c6d3e378266901e,9,3,1,1,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement needed to be updated to make requirements-check job
pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Id39cd1f6ed61a3fa457f461fc8d399b550f3bb57
"
openstack%2Fkayobe-config-dev~stable%2Fvictoria~I02be84d079f3effe559bd501622642f1c9601b45,openstack/kayobe-config-dev,stable/victoria,,I02be84d079f3effe559bd501622642f1c9601b45,Reduce neutron RPC workers to 1,MERGED,2021-02-24 08:41:14.000000000,2021-03-02 11:53:18.000000000,2021-03-02 11:53:18.000000000,1,0,0,777130,e289b3360d10cd995e002f485029c2daad3444b9,15,3,1,1,14826,Mark Goddard,mgoddard,"Reduce neutron RPC workers to 1

This should reduce the memory overhead of these processes

Change-Id: I02be84d079f3effe559bd501622642f1c9601b45
(cherry picked from commit 6e7e3ae18c92df78bab79d572cf60a954e80da19)
"
openstack%2Fansible-role-python_venv_build~stable%2Fvictoria~I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b,openstack/ansible-role-python_venv_build,stable/victoria,,I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b,Slurp constraints for all hosts,MERGED,2021-03-02 08:05:42.000000000,2021-03-02 11:49:40.000000000,2021-03-02 11:47:49.000000000,9,7,0,778104,1f1e6c614e4034832d68f90310f07821cb2737d3,8,3,1,2,25023,Jonathan Rosser,jrosser,"Slurp constraints for all hosts

This fixes bug when content slurp has been performed only for single
host. Others were having invalid contstraints file with single record
in it.

Change-Id: I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b
(cherry picked from commit 20f8ad42ce3a7cf9cc9139c48bd11872af2fb10c)
"
openstack%2Foslo.privsep~stable%2Frocky~I12478b0b85aad91bcf71500e0cef59698c528417,openstack/oslo.privsep,stable/rocky,cap-bandit-1.6.2,I12478b0b85aad91bcf71500e0cef59698c528417,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-02-25 13:43:18.000000000,2021-03-02 11:48:58.000000000,2021-03-02 11:45:40.000000000,4,2,0,777589,af755f3210088ab05897fed39722795a3647ee95,8,2,1,1,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I12478b0b85aad91bcf71500e0cef59698c528417
"
openstack%2Foslo.privsep~stable%2Fqueens~I3ee4f975ed968e73c553e12fdc53c03c1e4f8064,openstack/oslo.privsep,stable/queens,cap-bandit-1.6.2,I3ee4f975ed968e73c553e12fdc53c03c1e4f8064,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 20:43:39.000000000,2021-03-02 11:48:32.000000000,2021-03-02 11:45:43.000000000,3,2,0,777824,84ac9dd8a85880a329dbe025a6ee59186ecc17c4,9,3,1,1,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement needed to be updated to make requirements-check job
pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I3ee4f975ed968e73c553e12fdc53c03c1e4f8064
"
openstack%2Foslo.service~stable%2Fqueens~Ia4a143d0c17e5471868d1508be1ec391d8c21090,openstack/oslo.service,stable/queens,cap-bandit-1.6.2,Ia4a143d0c17e5471868d1508be1ec391d8c21090,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 21:01:03.000000000,2021-03-02 11:46:22.000000000,2021-03-02 11:44:15.000000000,3,2,0,777829,50e005a2f525fc3175e81abf3f5b09ff58222939,9,3,1,1,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement needed to be updated to make requirements-check job
pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ia4a143d0c17e5471868d1508be1ec391d8c21090
"
openstack%2Foslo.service~stable%2Frocky~Ifde30bc88e77c027c3dce12417c0718f5ae56f23,openstack/oslo.service,stable/rocky,cap-bandit-1.6.2,Ifde30bc88e77c027c3dce12417c0718f5ae56f23,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-02-25 10:08:48.000000000,2021-03-02 11:46:16.000000000,2021-03-02 11:44:18.000000000,3,2,0,777556,5625fd792402c722a43adf434cd8efa04ebacd22,11,3,1,1,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ifde30bc88e77c027c3dce12417c0718f5ae56f23
"
openstack%2Fosprofiler~stable%2Frocky~Id412a175c8b2a9c8c62105f5a6205b1330a9883f,openstack/osprofiler,stable/rocky,cap-bandit-1.6.2,Id412a175c8b2a9c8c62105f5a6205b1330a9883f,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-25 09:53:35.000000000,2021-03-02 11:46:11.000000000,2021-03-02 11:43:53.000000000,3,2,0,777531,72958e606016a951ee7002d8da2baa5814b00e4f,8,2,1,1,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement updated to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Id412a175c8b2a9c8c62105f5a6205b1330a9883f
"
openstack%2Foslo.service~stable%2Fpike~I4cdc6d038911283f3eeedbdf70fc6c24933f4d28,openstack/oslo.service,stable/pike,cap-bandit-1.6.2,I4cdc6d038911283f3eeedbdf70fc6c24933f4d28,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 21:36:38.000000000,2021-03-02 11:45:56.000000000,2021-03-02 11:43:40.000000000,3,2,0,777836,cae223bb310aa3c5e44756b06f7ec043fda2c506,9,3,1,1,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement needed to be updated to make requirements-check job
pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I4cdc6d038911283f3eeedbdf70fc6c24933f4d28
"
openstack%2Ftripleo-ansible~master~I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913,openstack/tripleo-ansible,master,bz/1916162,I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913,[tripleo_transfer] Restructure role to avoid duplication,ABANDONED,2021-02-18 22:50:02.000000000,2021-03-02 11:45:32.000000000,,117,73,0,776552,ad3abd38810054302e7133357274931522e6e466,26,4,11,5,6816,Jesse Pretorius,jesse-pretorius,"[tripleo_transfer] Restructure role to avoid duplication

The use of delegation and become in this role is duplicated
heavily. Due to the way that the role is run, delegation is
required to ensure that the correct hosts are targeted in
the correct order, but there is no need to run everything
for every host.

In this patch we restructure the role to deduplicate the
delegation and become arguments, and we use run_once to ensure
that the tasks are only executed once no matter how many hosts
are targeted in the playbook.

We also add a task to verify that we have the required variables
before executing the whole role.

Lastly, we move the facts for the safe paths to vars/main.yml
so that they are lazy-loaded automatically, saving a little more
time by not having to execute two more set_fact tasks.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162

Change-Id: I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913
"
openstack%2Foslo.reports~stable%2Frocky~Id83f06c2f7a120960083b05d01b311e733bd0369,openstack/oslo.reports,stable/rocky,cap-bandit-1.6.2,Id83f06c2f7a120960083b05d01b311e733bd0369,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-02-25 14:22:24.000000000,2021-03-02 11:45:20.000000000,2021-03-02 11:43:57.000000000,3,2,0,777600,3d7d336da64fdea67de9565b95f676996ddaffe6,9,3,1,1,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Id83f06c2f7a120960083b05d01b311e733bd0369
"
openstack%2Fironic~master~I01701c6908aebbb2e78527087a4f8f2f7a016e1b,openstack/ironic,master,secure-rbac,I01701c6908aebbb2e78527087a4f8f2f7a016e1b,secure-rbac - minor follow-up for project scoped tests,MERGED,2021-03-01 17:04:32.000000000,2021-03-02 11:39:46.000000000,2021-03-02 11:38:01.000000000,1,4,0,778033,20acfc26e160dc22f884bb35f9a2996cc3fb93e3,10,2,1,1,11655,Julia Kreger,jkreger,"secure-rbac - minor follow-up for project scoped tests

Just a couple quick items needed to be fixed that were identified in
review of the original change.

https://review.opendev.org/c/openstack/ironic/+/772451/11/ironic/tests/unit/api/test_rbac_project_scoped.yaml

Change-Id: I01701c6908aebbb2e78527087a4f8f2f7a016e1b
"
openstack%2Fironic-python-agent~master~I983ad3bd6fff539e877844e54788f63689ce8a84,openstack/ironic-python-agent,master,,I983ad3bd6fff539e877844e54788f63689ce8a84,Added comment about IPA logs being uploaded to Ironic,MERGED,2021-03-01 16:38:12.000000000,2021-03-02 11:39:43.000000000,2021-03-02 11:38:10.000000000,3,1,0,778031,2220aaae57ef7b9f636dfe3175a48c4d89c4fe59,9,3,2,1,1004,Mohammed Naser,mnaser,"Added comment about IPA logs being uploaded to Ironic

Change-Id: I983ad3bd6fff539e877844e54788f63689ce8a84
"
openstack%2Fmagnum~stable%2Fussuri~I85f0c89081007fbbbfe00c7cbeebf0ad837cedf5,openstack/magnum,stable/ussuri,ussuri-fixes,I85f0c89081007fbbbfe00c7cbeebf0ad837cedf5,Remove warning for scale_manager,MERGED,2021-02-11 14:59:10.000000000,2021-03-02 11:39:31.000000000,2021-03-02 11:37:46.000000000,2,4,0,775165,9faa4b3df5d1bfb04dc41b5f595095a8b215f88c,9,2,2,1,28022,Bharat Kunwar,brtknr,"Remove warning for scale_manager

The removed warning was meant as suggestion to
developers to implement a scale_manager. However,
returning None for not implemented classes is a
deliberate choice. Remove this log line from
production sites and developers can always decide
to not return None.

story: 2007803
task: 40064

Change-Id: I85f0c89081007fbbbfe00c7cbeebf0ad837cedf5
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 9513b91ccf5a62e3984459313e98bef645dfaf4a)
"
openstack%2Foslo.reports~stable%2Fqueens~Ic49c9bffc970b34ffa85696e9f8abbd8e8a1a776,openstack/oslo.reports,stable/queens,cap-bandit-1.6.2,Ic49c9bffc970b34ffa85696e9f8abbd8e8a1a776,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 20:53:53.000000000,2021-03-02 11:33:13.000000000,2021-03-02 11:31:52.000000000,3,2,0,777827,e279ddfb25454516bdfb09c5b4ee5a0204536ffa,9,3,1,1,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement needed to be updated to make requirements-check job
pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ic49c9bffc970b34ffa85696e9f8abbd8e8a1a776
"
openstack%2Fcyborg~master~Ic474814b780e9beca6f19df50c9ce4c5553850a1,openstack/cyborg,master,bp/inspur-nvme-ssd,Ic474814b780e9beca6f19df50c9ce4c5553850a1,Add NVMe SSD driver,MERGED,2020-04-27 05:06:41.000000000,2021-03-02 11:24:48.000000000,2021-03-02 11:22:52.000000000,516,5,40,723310,19b7d147ea14e87124ced4ad33e364affd8cced7,43,11,14,17,30395,Arthur Dayne,acewit,"Add NVMe SSD driver

This patch implemented NVMe SSD driver in Cyborg.
The Inspur NVMe SSD driver provides the discover and report proposal of
Inspur NVMe SSD disks, then we can use these disks binding and unbinding
with VM like PGPU to accelerator the io rate for the VM. The Inspur NVMe
SSD doesnot support virtualization, one disk can be only bind to one VM.

The spec is already commit. Please see:
https://specs.openstack.org/openstack/cyborg-specs/specs/wallaby/approved/nvme-ssd-driver-proposal.html

Please check the test report in the following link:
https://wiki.openstack.org/wiki/Cyborg/TestReport/InspurNVMeSSD

Co-Authored-By: Wenping Song <songwenping@inspur.com>

Change-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1
"
openstack%2Fopenstack-ansible-os_nova~master~I3cf2a30e0929835a84f0502bc4e87522b688b538,openstack/openstack-ansible-os_nova,master,osa-facts,I3cf2a30e0929835a84f0502bc4e87522b688b538,Use ansible_facts[] instead of fact variables,MERGED,2021-02-25 16:58:43.000000000,2021-03-02 11:24:26.000000000,2021-03-02 11:22:46.000000000,45,45,0,777627,b6f03470c4691d31bfc1f0288c68537857805f88,9,3,1,10,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I3cf2a30e0929835a84f0502bc4e87522b688b538
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I4e154d22e8f9438da9cd277370c5be67a0826b4a,openstack/openstack-ansible-openstack_hosts,master,,I4e154d22e8f9438da9cd277370c5be67a0826b4a,Correct the UCA repo location variable for ubuntu focal,MERGED,2021-02-26 09:57:31.000000000,2021-03-02 11:24:00.000000000,2021-03-02 11:21:40.000000000,1,1,0,777734,dfdbc77c6deb0ce59b9f6cbf50114b0b0c16436a,10,3,2,1,25023,Jonathan Rosser,jrosser,"Correct the UCA repo location variable for ubuntu focal

The name of this variable was previously updated and documented
in a release note in [1]. but the old name is used for focal.

[1] https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/706285

Change-Id: I4e154d22e8f9438da9cd277370c5be67a0826b4a
"
openstack%2Fovn-octavia-provider~master~I189ec79def12e8fd4d089b895926b5f3c08c6ef0,openstack/ovn-octavia-provider,master,,I189ec79def12e8fd4d089b895926b5f3c08c6ef0,[DNM] [WIP] Steps for reproducing in-memory db issue,ABANDONED,2020-12-03 16:41:29.000000000,2021-03-02 11:07:51.000000000,,11,1,12,765350,1e550f54a0c4d79442a0da660863228b5c1e7c5d,5,2,2,2,11952,Flavio Fernandes,ffernand,"[DNM] [WIP] Steps for reproducing in-memory db issue

cd /opt/stack/ovn-octavia-provider && \
tox -e dsvm-functional -- TestOvnOctaviaProviderIntegration

source .tox/dsvm-functional/bin/activate

echo HIDE_BUG

OS_TEST_DBAPI_ADMIN_CONNECTION=sqlite:///sqlite.db    python -m testtools.run -- ovn_octavia_provider.tests.functional.test_integration.TestOvnOctaviaProviderIntegration

echo SEE_BUG

unset OS_TEST_DBAPI_ADMIN_CONNECTION ; \
  python -m testtools.run -- ovn_octavia_provider.tests.functional.test_integration.TestOvnOctaviaProviderIntegration

 ======================================================================
 ERROR: ovn_octavia_provider.tests.functional.test_integration.TestOvnOctaviaProviderIntegration.test_port_forwarding
 ----------------------------------------------------------------------
 Traceback (most recent call last):
   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/tests/base.py"", line 182, in func
     return f(self, *args, **kwargs)
   File ""/opt/stack/ovn-octavia-provider/ovn_octavia_provider/tests/functional/test_integration.py"", line 136, in test_port_forwarding
     pf_obj2 = self.pf_plugin.get_floatingip_port_forwarding(self.context, pf_obj['id'], fip_id)
   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/db/db_base_plugin_common.py"", line 83, in inner
     result = f(*args, **kwargs)
   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/db/db_base_plugin_common.py"", line 48, in inner
     result = f(*args, **kwargs)
   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/services/portforwarding/pf_plugin.py"", line 548, in get_floatingip_port_forwarding
     raise pf_exc.PortForwardingNotFound(id=id)
 neutron.services.portforwarding.common.exceptions.PortForwardingNotFound: Port Forwarding b4b25359-2402-4463-879e-725ffb9645e1 could not be found.

 Ran 1 test in 4.940s
 FAILED (failures=1)

Change-Id: I189ec79def12e8fd4d089b895926b5f3c08c6ef0
"
openstack%2Fovsdbapp~stable%2Ftrain~I076269d3d666caa5ebe3d70111136c78393c7c5f,openstack/ovsdbapp,stable/train,sglog/ovn,I076269d3d666caa5ebe3d70111136c78393c7c5f,[DNM] [WIP] [ovn nb] Add northbound API support for meters,ABANDONED,2021-02-09 22:43:12.000000000,2021-03-02 11:05:35.000000000,,278,16,1,774741,9a48d3017c920dc3ab2166b1179795e4aa6f6066,17,3,9,5,11952,Flavio Fernandes,ffernand,"[DNM] [WIP] [ovn nb] Add northbound API support for meters

Do not merge: This is actually a new feature, so it will not be backported
to stable branches. This gerrit is mostly a placeholder, to be soon abandoned.

Add meter (name) attribute to the ACL row, via sg_acl_add().

Add helpers for adding, removing, getting and listing rows of the
Meter table.

Conflicts:
ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py
ovsdbapp/schema/ovn_northbound/commands.py : ""raise from"" not compatible
ovsdbapp/tests/functional/schema/ovn_northbound/fixtures.py : init api

Change-Id: I076269d3d666caa5ebe3d70111136c78393c7c5f
(cherry picked from commit e2f782cd727506de3dbc2a32cc49920b0c792c0f)
"
openstack%2Fneutron~master~Ib3de00924bfc5b0327340fc197a7bf832911cac6,openstack/neutron,master,ovn_sg_log,Ib3de00924bfc5b0327340fc197a7bf832911cac6,[DNM] PLEASE IGNORE: [OVN] sg meter support,ABANDONED,2020-12-09 10:40:47.000000000,2021-03-02 11:04:55.000000000,,34,5,6,766197,32a59f121b977818041d7fad0ad616d3f149bfb9,21,2,4,2,11952,Flavio Fernandes,ffernand,"[DNM] PLEASE IGNORE: [OVN] sg meter support

This change is a very simple exercise for using meters in security group rules

In order to rate limit logs, create a row in ovn nb meter table like this:

    ovn-nbctl --fair meter-add sgr_meter drop 1 pktps

Change-Id: Ib3de00924bfc5b0327340fc197a7bf832911cac6
"
openstack%2Fovsdbapp~stable%2Ftrain~I6e39d2059c1c8ba1960b49c7be5e6a4dc5516d69,openstack/ovsdbapp,stable/train,sglog/ovn,I6e39d2059c1c8ba1960b49c7be5e6a4dc5516d69,[DNM] [WIP] [ovn nb] Acl add: Avoid setting columns that have no values,ABANDONED,2021-02-09 22:44:06.000000000,2021-03-02 11:03:30.000000000,,6,3,1,774742,950985afa070b0ebbaa23c3a3e32f0488091f1af,18,4,8,1,11952,Flavio Fernandes,ffernand,"[DNM] [WIP] [ovn nb] Acl add: Avoid setting columns that have no values

Do not merge: This is actually a new feature, so it will not be backported
to stable branches. This gerrit is mostly a placeholder, to be soon abandoned.

While creating ACL rows, avoid setting the name, severity, or meter
columns when no values were provided.

This issue was introduced in
https://review.opendev.org/c/openstack/ovsdbapp/+/767574

Closes-Bug: #1911671
Change-Id: I6e39d2059c1c8ba1960b49c7be5e6a4dc5516d69
(cherry picked from commit aac2da8f0cb5adc006613e49d8d4fcf08531ef37)
"
openstack%2Fcharm-neutron-api~master~I1eb9a89d875539371357681d2b2b0ec7d8b8c3cf,openstack/charm-neutron-api,master,feature/new-zuul,I1eb9a89d875539371357681d2b2b0ec7d8b8c3cf,Add new osci.yaml,MERGED,2021-02-18 07:46:25.000000000,2021-03-02 10:45:03.000000000,2021-03-02 10:45:03.000000000,4,0,0,776370,17df071cb2ccf925bda7290f614006ddff121ee6,11,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I1eb9a89d875539371357681d2b2b0ec7d8b8c3cf
"
openstack%2Fnova~master~I89e1c13e8a0df18594593b1e80c60d177e0d9c4c,openstack/nova,master,mypy-integration,I89e1c13e8a0df18594593b1e80c60d177e0d9c4c,"rpc: Rework 'get_notifier', 'wrap_exception'",MERGED,2020-07-17 15:42:12.000000000,2021-03-02 10:37:30.000000000,2021-03-02 02:17:21.000000000,183,190,4,741663,e64744b92f3871efbad48a0ca251609a0ecfe54a,59,12,7,10,15334,Stephen Finucane,sfinucan,"rpc: Rework 'get_notifier', 'wrap_exception'

The 'nova.exception_wrapper.wrap_exception' decorator accepted either a
pre-configured notifier or a 'get_notifier' function, but the forget was
never provided and the latter was consistently a notifier created via a
call to 'nova.rpc.get_notifier'. Simplify things by passing the
arguments relied by 'get_notifier' into 'wrap_exception', allowing the
latter to create the former for us.

While doing this rework, it became obvious that 'get_notifier' accepted
a 'published_id' that is never provided nowadays, so that is dropped. In
addition, a number of calls to 'get_notifier' were passing in
'host=CONF.host', which duplicated the default value for this parameter
and is therefore unnecessary. Finally, the unit tests are split up by
file, as they should be.

Change-Id: I89e1c13e8a0df18594593b1e80c60d177e0d9c4c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcharm-magpie~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-magpie,master,feature/new-zuul,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:44:43.000000000,2021-03-02 10:37:00.000000000,2021-03-02 10:37:00.000000000,11,0,0,776361,5e4d889e6199860fadae00ff1da1d3f1742e06ce,11,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fmagnum~stable%2Fussuri~I8b311307cac656db193a6f229f0ffdebc462fbd2,openstack/magnum,stable/ussuri,,I8b311307cac656db193a6f229f0ffdebc462fbd2,Update chart repository in ussuri branch,ABANDONED,2021-02-20 05:13:10.000000000,2021-03-02 10:31:53.000000000,,4,4,0,776790,4d9b68204e5c544dda6df071609d53126a6bf0ed,3,1,1,4,33141,Jamescarl,jamescarl,"Update chart repository in ussuri branch

Replace https://kubernetes-charts.storage.googleapis.com/
with https://charts.helm.sh/stable

Change-Id: I8b311307cac656db193a6f229f0ffdebc462fbd2
"
openstack%2Fkolla~master~I6ef344d463333e5cdc3a0850c8e068218779fdbd,openstack/kolla,master,,I6ef344d463333e5cdc3a0850c8e068218779fdbd,neutron-server: make it build again,MERGED,2021-03-01 13:14:05.000000000,2021-03-02 10:31:04.000000000,2021-03-02 10:27:12.000000000,1,5,2,777992,8d70e3f0cc3681c6f786ccbe076cd6a028998857,16,5,2,2,24072,Marcin Juszkiewicz,hrw,"neutron-server: make it build again

1. stop pinning networking-hyperv

Pike release was long time ago so maybe it is time to unpin it?

commit 6dc8e978462fd08122133e273ae956721997d3af
Author: Dan Ardelean <dardelean@cloudbasesolutions.com>
Date:   Mon Aug 28 12:56:25 2017 +0300

    Change networking-hyperv version for Pike

2. stop install vmware-nsxlib as a plugin

vmware-nsx is a plugin and we install it already
vmware-nsxlib can be fetched from Pypi

Solves:

INFO:kolla.common.utils.neutron-server:The conflict is caused by:
INFO:kolla.common.utils.neutron-server:    The user requested vmware-nsxlib 15.0.8.dev129 (from /plugins/vmware-nsxlib-15.0.8.dev129)
INFO:kolla.common.utils.neutron-server:    vmware-nsx 15.0.1.dev424 depends on vmware-nsxlib>=17.0.0

Change-Id: I6ef344d463333e5cdc3a0850c8e068218779fdbd
"
openstack%2Fansible-role-python_venv_build~master~I69b94aab0d94cc4cc72ad4ae1d688dc65b378abe,openstack/ansible-role-python_venv_build,master,reno_build,I69b94aab0d94cc4cc72ad4ae1d688dc65b378abe,[reno] Stop publishing release notes,MERGED,2021-01-22 16:23:06.000000000,2021-03-02 10:29:26.000000000,2021-03-02 10:23:33.000000000,1,1,0,772006,eaaeb6c00957d01bf27db58d54bf2f5a5d4eb4fe,12,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I69b94aab0d94cc4cc72ad4ae1d688dc65b378abe"
openstack%2Fcharm-swift-storage~master~Id44d2037d5743bc882388141d726194c51d82fbf,openstack/charm-swift-storage,master,feature/new-zuul,Id44d2037d5743bc882388141d726194c51d82fbf,Add new osci.yaml,MERGED,2021-02-18 07:50:22.000000000,2021-03-02 10:29:08.000000000,2021-03-02 10:29:08.000000000,22,0,0,776393,3028939d8420d48eee735ba0cf45d67907750f66,25,3,2,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: Id44d2037d5743bc882388141d726194c51d82fbf
"
openstack%2Fansible-role-python_venv_build~stable%2Fvictoria~I79a10a3f774246ab9c57313f19f3804f9422e08c,openstack/ansible-role-python_venv_build,stable/victoria,,I79a10a3f774246ab9c57313f19f3804f9422e08c,Gather facts for repo containers,MERGED,2021-03-01 10:42:16.000000000,2021-03-02 10:26:16.000000000,2021-03-02 10:23:31.000000000,7,7,0,777908,b2a006d630784b1fd037a3dd59f727d6559020dd,8,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Gather facts for repo containers

We can't evaluate `venv_wheel_build_enable` without gathered facts about
repo containers. And default facts cache is 1day. After that time role
will fail to evaluate the variable.

Change-Id: I79a10a3f774246ab9c57313f19f3804f9422e08c
(cherry picked from commit f487ab46ba23b8d3f729900bd8bcbe7ef4d2d632)
"
openstack%2Fopenstack-ansible-os_tempest~master~I07ce57709248dcaf1c40e02f5def47c24f5c75a7,openstack/openstack-ansible-os_tempest,master,update_doc,I07ce57709248dcaf1c40e02f5def47c24f5c75a7,add bug url to readme,MERGED,2018-10-25 11:20:24.000000000,2021-03-02 10:20:15.000000000,2021-03-02 10:18:12.000000000,3,0,4,613276,22aec045ef9d82eec4c44b2a839f175206b1e9e7,17,6,2,1,27385,lvxianguo,lvxianguo,"add bug url to readme

Change-Id: I07ce57709248dcaf1c40e02f5def47c24f5c75a7
"
openstack%2Frpm-packaging~master~Idfcdac73dc2fcf08417e20671ccdb4439c549fe9,openstack/rpm-packaging,master,,Idfcdac73dc2fcf08417e20671ccdb4439c549fe9,ironic-inspector: update filelist,MERGED,2021-03-01 21:33:29.000000000,2021-03-02 10:18:20.000000000,2021-03-02 10:18:20.000000000,1,0,0,778078,b78da0618c6319b2909319784102cd7ea0da94ff,13,5,2,1,6593,Dirk Mueller,dmllr,"ironic-inspector: update filelist

Change-Id: Idfcdac73dc2fcf08417e20671ccdb4439c549fe9
"
openstack%2Fopenstack-ansible-os_glance~master~I03b51e2cf342b8b1434503f2bd0f4b30dcd5258e,openstack/openstack-ansible-os_glance,master,osa-facts,I03b51e2cf342b8b1434503f2bd0f4b30dcd5258e,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 18:05:25.000000000,2021-03-02 10:17:28.000000000,2021-03-02 10:14:29.000000000,15,15,4,777179,ae6c72997c832852184f490d0e60a483294f7372,10,3,1,7,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I03b51e2cf342b8b1434503f2bd0f4b30dcd5258e
"
openstack%2Fopenstack-ansible-os_octavia~master~Icbfc123d938feed34cef79fea4e6f3700be2ac7b,openstack/openstack-ansible-os_octavia,master,osa-new-pip,Icbfc123d938feed34cef79fea4e6f3700be2ac7b,Move octaiva pip packages from constraints to requirements,MERGED,2021-01-25 10:17:32.000000000,2021-03-02 10:16:31.000000000,2021-03-02 10:11:40.000000000,1,2,0,772293,224ba7e2e9ae51b53f705521136f9262c4c0d612,16,3,3,1,25023,Jonathan Rosser,jrosser,"Move octaiva pip packages from constraints to requirements

This is necessary to use the new pip resolver

Depends-On: Ie0a2ded1c088668395ff143c60bdffdf68b6a5a1
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_octavia/+/772559
Change-Id: Icbfc123d938feed34cef79fea4e6f3700be2ac7b
"
openstack%2Fopenstack-ansible-os_octavia~master~Ie319fd02cdd60f8a8ac65f0508e9075f40839ae9,openstack/openstack-ansible-os_octavia,master,osa/octavia_barbican,Ie319fd02cdd60f8a8ac65f0508e9075f40839ae9,Use barbican for certificates storage,MERGED,2020-12-25 16:09:38.000000000,2021-03-02 10:14:14.000000000,2021-03-02 10:11:35.000000000,7,3,0,768514,78d204afb8760915bb32d15a318b20e02176473d,23,3,3,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use barbican for certificates storage

Octavia can do SSL termination only in case when barbican is available.
We should be able to add required configuration section only when barbican
is also present in inventory

Change-Id: Ie319fd02cdd60f8a8ac65f0508e9075f40839ae9
"
openstack%2Fopenstack-ansible-os_octavia~master~I4574846b71fd9a084df0876cde4bc3277743fe86,openstack/openstack-ansible-os_octavia,master,osa/service_variables,I4574846b71fd9a084df0876cde4bc3277743fe86,Use global service variables,MERGED,2021-01-08 16:07:13.000000000,2021-03-02 10:07:58.000000000,2021-03-02 10:06:32.000000000,7,8,0,769952,f3194038ae82aa06748bda47a451a19ba5bb2980,14,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: I4574846b71fd9a084df0876cde4bc3277743fe86
"
openstack%2Fopenstack-ansible~master~I329afcf37ede01374f7bf325ee87154826deffd3,openstack/openstack-ansible,master,use-ara-requirements,I329afcf37ede01374f7bf325ee87154826deffd3,Use requirements from ara to install ara,ABANDONED,2018-07-02 21:52:08.000000000,2021-03-02 09:52:42.000000000,,4,2,4,579699,fc6a134bea6cc40598733cdaebb63997074f29c6,27,5,4,1,14288,Matthew Thode,prometheanfire,"Use requirements from ara to install ara

Without requirements defined Flask 1.0.2 will be installed (currently).
The logging method from that version of flask does not have
DEBUG_LOG_FORMAT defined.  This breaks ara.  Use the ara provided
requirements file to install ara.

ERROR! Unexpected Exception: 'module' object has no attribute 'DEBUG_LOG_FORMAT'

Change-Id: I329afcf37ede01374f7bf325ee87154826deffd3
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I22bf662693cb466a543343081a159280c8c65194,openstack/openstack-ansible-lxc_hosts,master,openstack/openstack-ansible-tests/sync-tests,I22bf662693cb466a543343081a159280c8c65194,Updated from OpenStack Ansible Tests,MERGED,2021-03-01 13:25:02.000000000,2021-03-02 09:49:15.000000000,2021-03-02 09:45:25.000000000,3,0,0,777995,0dee4a39936830ed1357709a9997f37649e42bf5,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I22bf662693cb466a543343081a159280c8c65194
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1e1829144ba2b7f40d1faedc9ac6729601da0964,openstack/tripleo-heat-templates,stable/train,train-pcshost,I1e1829144ba2b7f40d1faedc9ac6729601da0964,"[DNM] Revert ""pcs commands on host: haproxy bundle""",ABANDONED,2021-03-02 07:04:36.000000000,2021-03-02 09:45:38.000000000,,49,22,0,778103,cb6562fb95958b359b05128ff38f4cce9e893875,2,4,1,1,20182,Bhagyashri Shewale,bhagyashris,"[DNM] Revert ""pcs commands on host: haproxy bundle""

This reverts commit a7cceb0f9a5c177868969a8681ed294707fe3f09.

Reason for revert: <INSERT REASONING HERE>

Change-Id: I1e1829144ba2b7f40d1faedc9ac6729601da0964
"
openstack%2Fopenstack-helm-infra~master~I32aeb17fa6d52e18245a2ce0404a2243b64f47da,openstack/openstack-helm-infra,master,jobs-annotations-patch5-patch8,I32aeb17fa6d52e18245a2ce0404a2243b64f47da,Added helm hooks post-install and post-upgrade for jobs,ABANDONED,2021-02-18 14:17:41.000000000,2021-03-02 09:26:21.000000000,,59,1,2,776466,84cd421e0e8efa3c7a66ab22d289c1c873b87c7a,24,3,9,13,33130,Susanta gautam,sgautam,"Added helm hooks post-install and post-upgrade for jobs

Chart upgrade is failing because some immutable fields in jobs are
needed to upgrade.
On the other side, although the jobs are completed and deployments are
succeeded, we cannot delete the completed jobs because some deployments
 are watching the job status every restart.

To figure it out, enabled helm hooks for post-install and post-upgrade.
It also has some side-effects because there are also run order between
jobs. By using hook-weight, prioritized jobs order.

Plus, added application name in the label to filter jobs.

Change-Id: I32aeb17fa6d52e18245a2ce0404a2243b64f47da
"
openstack%2Fopenstack-helm~master~Ibc7eabdb940a2756af8cf4be782b7997b556cba1,openstack/openstack-helm,master,job-annotations-patch4-patch6,Ibc7eabdb940a2756af8cf4be782b7997b556cba1,Added post-install and post-upgrade annotations on job templates,ABANDONED,2021-02-19 15:22:57.000000000,2021-03-02 09:23:47.000000000,,12,1,0,776657,886adeb7d13b303cf9648dbd995ad981e5c0cb82,18,2,8,5,33130,Susanta gautam,sgautam,"Added post-install and post-upgrade annotations on job templates

It includes only for keystone now to discuss.
Once agree on this way, we will update all charts.

Depends-On: https://review.opendev.org/openstack/openstack-helm-infra/776466

Change-Id: Ibc7eabdb940a2756af8cf4be782b7997b556cba1
"
openstack%2Ftacker~master~I4b4e4dd0a4246a97d4bd0329e8a387f3d8b51700,openstack/tacker,master,dnmpatch,I4b4e4dd0a4246a97d4bd0329e8a387f3d8b51700,[DNM] Fix the incompatible query statement for mysql,ABANDONED,2021-02-10 16:33:17.000000000,2021-03-02 09:18:02.000000000,,23,10,0,774893,2f1fc2a6b8077a7a2534d75ab75ce0af74088be2,10,1,3,3,32219,Aldinson C. Esto,esto-aln,"[DNM] Fix the incompatible query statement for mysql

Change-Id: I4b4e4dd0a4246a97d4bd0329e8a387f3d8b51700
"
openstack%2Ftacker~master~I5e74407ed76f1eb6fe51ae6c3d4082bbef0a9cea,openstack/tacker,master,dnmpatch,I5e74407ed76f1eb6fe51ae6c3d4082bbef0a9cea,[DNM] Added log to check what the kind of error is in the query,ABANDONED,2021-02-10 14:36:44.000000000,2021-03-02 09:17:40.000000000,,2,0,0,774870,37f09e0d96be8517bf650b1ed2a13ba3b1ea323d,5,1,2,1,32219,Aldinson C. Esto,esto-aln,"[DNM] Added log to check what the kind of error is in the query

Change-Id: I5e74407ed76f1eb6fe51ae6c3d4082bbef0a9cea
"
openstack%2Fironic-lib~master~Icd7bb4b1080163ee076f406170b610d99590415a,openstack/ironic-lib,master,privsep-migration,Icd7bb4b1080163ee076f406170b610d99590415a,[DNM] test unprivileged qemu convert,ABANDONED,2021-02-24 08:21:52.000000000,2021-03-02 09:17:18.000000000,,5,5,0,777312,088c12d7b90fe37deb3c916078366e620a24b694,14,1,5,1,23851,Riccardo Pittau,elfosardo,"[DNM] test unprivileged qemu convert

Depends-On: https://review.opendev.org/c/openstack/ironic/+/777529

Change-Id: Icd7bb4b1080163ee076f406170b610d99590415a
"
openstack%2Ftripleo-validations~stable%2Fstein~I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,openstack/tripleo-validations,stable/stein,755390-stable/victoria-stable/ussuri-stable/train-stable/stein,I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,Add tripleo-validations role for component testing,ABANDONED,2021-02-08 10:07:07.000000000,2021-03-02 08:50:30.000000000,,263,0,0,774403,663c1a26b8120d0414df4803f8d4850646fa57f4,3,1,1,6,16515,mbu,matbu,"Add tripleo-validations role for component testing

This role used component vars dictionary.
The list of components and associated validations
is not exhautive yet, but will be add in a follow up
review, when the role will be experienced in the pipeline

Depends-On: https://review.rdoproject.org/r/#/c/31281/
Change-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98
(cherry picked from commit 02b1fcfdbef8bd685036833fc9d28451bd8b880f)
(cherry picked from commit fc10280e4e349b6e3115423716cd388d91bdd6eb)
"
openstack%2Fcyborg~master~Ida8f8d519792fe5e2748a67be5c502415dd4fe41,openstack/cyborg,master,,Ida8f8d519792fe5e2748a67be5c502415dd4fe41,Update server operations support in matrix,MERGED,2021-03-01 08:34:34.000000000,2021-03-02 08:48:10.000000000,2021-03-02 08:46:39.000000000,4,0,0,777939,7b1b9fb020a015cad39a56a6d86b7dbe8930d456,8,3,1,1,26458,Brin Zhang,zhangbailin,"Update server operations support in matrix

We have already supported rebuild/evacuate[1] and shelve/unshelve[2]
a server with binding an accelerator. The evacuate and rebuild a server
has the same openstack command, so we just need to use ``openstack
server rebuild``.

[1]https://review.opendev.org/c/openstack/nova/+/715326
[2]https://review.opendev.org/c/openstack/nova/+/729563

Change-Id: Ida8f8d519792fe5e2748a67be5c502415dd4fe41
"
openstack%2Fopenstack-ansible-os_ironic~stable%2Fussuri~I5081b0805ec73248617ca28f0bb1bfbd1656cd80,openstack/openstack-ansible-os_ironic,stable/ussuri,,I5081b0805ec73248617ca28f0bb1bfbd1656cd80,Fixing minor issue when no inspector is deployed,NEW,2021-02-24 22:13:26.000000000,2021-03-02 08:24:48.000000000,,1,1,0,777475,3eea3731f4e98352bc4a7bfc09b0db42c966eda8,5,2,2,1,14552,Bjoern Teipel,bjoern,"Fixing minor issue when no inspector is deployed

The playbooks stop to execute in cases no ironic inspector
is configured/deployed. This fixes a condition inside the
``os_ironic`` module.

Change-Id: I5081b0805ec73248617ca28f0bb1bfbd1656cd80
"
openstack%2Fopenstack-ansible-os_nova~master~I3fd8ff71ed628cdd2dc3883c160d2040542bbbff,openstack/openstack-ansible-os_nova,master,,I3fd8ff71ed628cdd2dc3883c160d2040542bbbff,format rst code and add bug link,ABANDONED,2018-09-06 02:57:49.000000000,2021-03-02 08:01:58.000000000,,6,3,0,600315,93f76eff573ec64e50c48b244a6e031e08a44f6e,7,3,1,1,21486,wangqi,wangqi,"format rst code and add bug link

Change-Id: I3fd8ff71ed628cdd2dc3883c160d2040542bbbff
"
openstack%2Fopenstack-ansible-haproxy_server~master~I4284391583566fc44f3501750c5893056c31385f,openstack/openstack-ansible-haproxy_server,master,,I4284391583566fc44f3501750c5893056c31385f,add bug link,ABANDONED,2018-09-06 03:11:25.000000000,2021-03-02 08:00:59.000000000,,3,0,1,600317,46381d86948867ae69a023a7ddd5daeaa22e0927,9,3,1,1,21486,wangqi,wangqi,"add bug link

Change-Id: I4284391583566fc44f3501750c5893056c31385f
"
openstack%2Fcinder~master~I353a80ed314214ea9b9313cffa464e873b848cbb,openstack/cinder,master,bug/1882603,I353a80ed314214ea9b9313cffa464e873b848cbb,Sets vol perms to match nas_secure_file_permissions,NEW,2020-06-08 22:53:41.000000000,2021-03-02 07:53:29.000000000,,2,2,2,734343,42b85f0e4527c33699a03ee72f782ca2d79e1c55,85,28,4,2,25820,Marc,mmethot,"Sets vol perms to match nas_secure_file_permissions

When creating new instance from snap it sets volume permissions
to match nas_secure_file_permissions

Change-Id: I353a80ed314214ea9b9313cffa464e873b848cbb
Closes-Bug: #1882603
"
openstack%2Fcharm-ceph-mon~master~Iefd8d305409ba97804795eef9a5add81103d05a2,openstack/charm-ceph-mon,master,bug/1773910,Iefd8d305409ba97804795eef9a5add81103d05a2,Block same broker_req from running twice,MERGED,2018-07-20 20:27:10.000000000,2021-03-02 07:50:33.000000000,2021-03-02 07:50:33.000000000,151,26,21,584506,490bba84975b4f38220ad458d10ca7ad18e85cf3,69,23,10,2,28510,Pedro Guimarães,pguimaraes,"Block same broker_req from running twice

Goal is to avoid broker request retrials for every hook called
on ceph-mon

Change-Id: Iefd8d305409ba97804795eef9a5add81103d05a2
Closes-Bug: #1773910
Partial-Bug: #1913992
"
openstack%2Fmasakari~stable%2Ftrain~I25afb76aec10a507312b8d99b0c882ca9f6bcd81,openstack/masakari,stable/train,bug/1776385-stable/victoria-stable/ussuri-stable/train,I25afb76aec10a507312b8d99b0c882ca9f6bcd81,Allow segment description to be multiline,MERGED,2021-02-25 07:08:18.000000000,2021-03-02 07:31:14.000000000,2021-03-02 07:29:30.000000000,21,1,0,777331,9280560731c91cfbf52c0afd546534ba113e83e5,9,4,1,3,30491,Radosław Piliszek,yoctozepto,"Allow segment description to be multiline

This patch allows user to pass a multiline description for
a failover segment.

Closes-Bug: #1776385
Change-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81
(cherry picked from commit d7f47f262799b285080cb08830560891c532a5a1)
"
openstack%2Fmasakari~stable%2Fussuri~I25afb76aec10a507312b8d99b0c882ca9f6bcd81,openstack/masakari,stable/ussuri,bug/1776385-stable/victoria-stable/ussuri,I25afb76aec10a507312b8d99b0c882ca9f6bcd81,Allow segment description to be multiline,MERGED,2021-02-25 07:07:31.000000000,2021-03-02 07:26:27.000000000,2021-03-02 07:24:43.000000000,21,1,0,777330,b5ecfde6d2bd043188e220cdc88fd96fe8e93a7f,9,4,1,3,30491,Radosław Piliszek,yoctozepto,"Allow segment description to be multiline

This patch allows user to pass a multiline description for
a failover segment.

Closes-Bug: #1776385
Change-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81
(cherry picked from commit d7f47f262799b285080cb08830560891c532a5a1)
"
openstack%2Fmasakari~stable%2Fvictoria~I25afb76aec10a507312b8d99b0c882ca9f6bcd81,openstack/masakari,stable/victoria,bug/1776385-stable/victoria,I25afb76aec10a507312b8d99b0c882ca9f6bcd81,Allow segment description to be multiline,MERGED,2021-02-25 07:07:13.000000000,2021-03-02 07:26:00.000000000,2021-03-02 07:24:39.000000000,21,1,0,777329,9af584c5c92adaf9b172351ada9bfaed24d4ef36,9,4,1,3,30491,Radosław Piliszek,yoctozepto,"Allow segment description to be multiline

This patch allows user to pass a multiline description for
a failover segment.

Closes-Bug: #1776385
Change-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81
(cherry picked from commit d7f47f262799b285080cb08830560891c532a5a1)
"
openstack%2Fcompute-hyperv~master~I62a25676267b54bf2b4b215d1bfe9b39031e4c83,openstack/compute-hyperv,master,port_provider,I62a25676267b54bf2b4b215d1bfe9b39031e4c83,wip: Update port provider mappings when handling failovers,ABANDONED,2020-02-11 09:57:45.000000000,2021-03-02 07:20:26.000000000,,30,2,0,707089,0c902c4c084c4ab6a3abe93324c634ff6097f904,7,2,2,2,8543,Lucian Petrut,plucian,"wip: Update port provider mappings when handling failovers

network_api.migrate_instance_finish now requires an argument
called ""provider_mappings"". As the name suggests, it's a dict
providing mappings between port ids and the resource provider ids.

This is used as part of the Neutron QoS feature, which counts allocated
bandwidth using the placement service in order to provide minimum
IOPS levels.

Change-Id: I62a25676267b54bf2b4b215d1bfe9b39031e4c83
"
openstack%2Fglance_store~master~I6b082730619d05ec386eb7454564b60c78f91366,openstack/glance_store,master,rbd,I6b082730619d05ec386eb7454564b60c78f91366,rbd: ensure the client is installed,ABANDONED,2019-09-05 12:13:04.000000000,2021-03-02 07:19:08.000000000,,11,0,1,680388,833b6a8f2c8268bdeb87c57617a3bf882f0ef55d,16,6,3,2,8543,Lucian Petrut,plucian,"rbd: ensure the client is installed

This patch will check that the ceph client is available when
initializing the rbd store configuration, throwing
BadStoreConfiguration otherwise, in which case the store will be
skipped.

This will also allow the Glance tests to run when the ceph client
is missing.

Change-Id: I6b082730619d05ec386eb7454564b60c78f91366
"
openstack%2Frequirements~master~I78db12410381908335b86d27d34ec8e7fe594853,openstack/requirements,master,cross-masakari,I78db12410381908335b86d27d34ec8e7fe594853,Cross-check with Masakari,MERGED,2021-02-02 14:38:16.000000000,2021-03-02 07:05:44.000000000,2021-02-26 23:35:14.000000000,10,0,0,773695,51c36c8353c21e2434961ad33a5bfdb8647625b6,25,4,3,2,30491,Radosław Piliszek,yoctozepto,"Cross-check with Masakari

Change-Id: I78db12410381908335b86d27d34ec8e7fe594853
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I20dc57a02a315ca361883b73e4fb1cb98cf438cb,openstack/tripleo-heat-templates,stable/train,train-pcshost,I20dc57a02a315ca361883b73e4fb1cb98cf438cb,pcs commands on host: haproxy bundle,MERGED,2021-02-18 13:14:19.000000000,2021-03-02 07:04:36.000000000,2021-02-23 22:21:04.000000000,22,49,0,776430,a7cceb0f9a5c177868969a8681ed294707fe3f09,16,4,1,1,20172,Michele Baldessari,michele,"pcs commands on host: haproxy bundle

This implements the creation of the haproxy bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

NB: We had to remove a few tags that were present befaure because we want
to avoid that puppet checks for /etc/haproxy/haproxy.cfg existence
on the host.

NB: Some conflicts, mainly around context changes

Related-Bug: #1863442

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696

Change-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb
(cherry picked from commit a11622359002597c7f32c6efeda745b8500a34e6)
(cherry picked from commit 3f8c22b5614253d201b834f4d1586da4a386391d)
"
openstack%2Fheat~master~Iff1e39481ea3b1f00bd89dba4a00aed30334ecec,openstack/heat,master,secure-rbac,Iff1e39481ea3b1f00bd89dba4a00aed30334ecec,Implement secure RBAC,MERGED,2020-12-15 14:19:05.000000000,2021-03-02 07:03:17.000000000,2021-03-02 07:01:28.000000000,1214,213,91,767161,93594c30eca3a52366e8138a583a00dbe5927d7d,127,6,27,24,15895,Adriano Petrich,apetrich,"Implement secure RBAC

This commit updates default policies to account for system scope
and default roles. This is part of a broader change to provide a
consistent and secure authorization experience across OpenStack
projects.

- Introduces basic/reusable check strings in base.py
- Implements secure RBAC for build info API
- Implements secure RBAC for the action API
- Implements secure RBAC for cloud formations
- Implements secure RBAC for events
- Implements secure RBAC for the resource API
- Implements secure RBAC for the service API
- Implements secure RBAC for software configs
- Implements secure RBAC for software deployments
- Implements secure RBAC for stacks
- Adds unit tests for legacy and new secure-rbac policies.

Change-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec
"
openstack%2Fopenstack-helm-infra~master~I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2,openstack/openstack-helm-infra,master,reno-update,I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2,Enforce release notes updates,MERGED,2021-02-16 20:19:57.000000000,2021-03-02 06:36:32.000000000,2021-03-02 06:32:56.000000000,3,3,0,775927,00334a7f8aa2704b2ed167063f91836fc4553d75,40,5,13,1,21420,Gage Hugo,ghugo,"Enforce release notes updates

This change removes the ignore-errors parameter for the
linter in order to enforce release note updates per chart
change.

Change-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2
"
openstack%2Fnova~master~Ie7dc3247a0d6526224bed1af429234cc2403a70a,openstack/nova,master,mypy-integration,Ie7dc3247a0d6526224bed1af429234cc2403a70a,libvirt: Remove dead code,MERGED,2021-01-28 17:27:44.000000000,2021-03-02 06:15:55.000000000,2021-03-02 02:06:17.000000000,0,32,0,772928,c23bda400a41adf206eaa7a269644928fd84cfc1,54,8,3,1,15334,Stephen Finucane,sfinucan,"libvirt: Remove dead code

The '_prepare_pci_devices_for_use' function is Xen-specific and should
have been removed in change I73305e82da5d8da548961b801a8e75fb0e8c4cf1
(""libvirt: Drop support for Xen""). Remove it now.

Change-Id: Ie7dc3247a0d6526224bed1af429234cc2403a70a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpython-swiftclient~stable%2Fussuri~I5a6ba8e65c23ada7297f6684dcbdd886591d0af5,openstack/python-swiftclient,stable/ussuri,,I5a6ba8e65c23ada7297f6684dcbdd886591d0af5,Fix multiple CI failures,ABANDONED,2021-03-01 21:01:55.000000000,2021-03-02 05:25:51.000000000,,6,58,0,778070,49f7cb6d814ccf5b9f2abdda56b784a9b185aa80,3,2,1,6,15197,Pierre Riteau,priteau,"Fix multiple CI failures

1. Clean up some requirements

* Drop the py26 marker for futures; we don't support 2.6 anymore.
* Split hacking version used based on python version.
* Clean up sphinx split -- 2.0+ aren't available to install on py2,
  anyway.

Depends-On: https://review.opendev.org/#/c/752340/
Depends-On: https://review.opendev.org/#/c/752736/
(cherry picked from commit 5cb906148709ccc74ca96463fd69a5cae2381edb)

2. Drop lower-constraints testing

The OpenStack community consensus seems to be that it's not worth the
hassle of fixing. *Maybe* we can revisit this if we ever drop py2
support?

Reasonable spot to start on ML threads:
http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

Depends-On: https://review.opendev.org/c/openstack/requirements/+/777025
(cherry picked from commit 06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5)

Change-Id: I5a6ba8e65c23ada7297f6684dcbdd886591d0af5
"
openstack%2Fopenstack-helm~master~Ib7bc455631f288919296c3592e1cb891539e129d,openstack/openstack-helm,master,reno-check,Ib7bc455631f288919296c3592e1cb891539e129d,DNM - Testing reno check,ABANDONED,2021-03-01 22:43:38.000000000,2021-03-02 04:20:39.000000000,,0,11,0,778087,780cc35675c83395012764cd972a9052f8c30dd3,4,2,1,1,21420,Gage Hugo,ghugo,"DNM - Testing reno check

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/775927
Change-Id: Ib7bc455631f288919296c3592e1cb891539e129d
"
openstack%2Fswift~master~I97f7aa790c225ffd72b77a3fc1a6ef41f72df13e,openstack/swift,master,p-sharder-no-containers,I97f7aa790c225ffd72b77a3fc1a6ef41f72df13e,sharder: downgrade 'no data dirs' warning to info,MERGED,2021-02-19 11:43:18.000000000,2021-03-02 02:30:45.000000000,2021-03-02 02:29:16.000000000,24,1,0,776608,87c7684fb09ebb80b08039cc4153f339cb2bdb14,12,3,2,2,7847,Alistair Coles,acoles,"sharder: downgrade 'no data dirs' warning to info

Previously if the sharder found no 'containers' directory on any
device then it would emit a warning. This can be a distraction when in
normal operation the sharder daemon is run on all nodes including
those not in the container ring. This patch clarifies the log message
and downgrades it to info level:

  INFO: Found no containers directories

The change also fixes the intermittent failure of the probe test
test_delete_root_reclaim in test/probe/test_sharder.pr. The test
asserts that no warning logs are emitted, but would previously fail if
no containers were created on one of the devices, since the 'Found no
data dirs' warning would be emitted.

Change-Id: I97f7aa790c225ffd72b77a3fc1a6ef41f72df13e
"
openstack%2Fopenstack-helm-infra~master~Iae20717482ad6c7a40f54174eef120d094abbd59,openstack/openstack-helm-infra,master,Remove_zookeeper_residue,Iae20717482ad6c7a40f54174eef120d094abbd59,Remove zookeeper residue,MERGED,2021-03-01 01:54:44.000000000,2021-03-02 02:26:29.000000000,2021-03-02 02:23:04.000000000,2,918,1,777916,5c6d281b621024382f04928651eeae61fb90031c,22,4,3,23,30449,jinyuanliu,jinyuanliu,"Remove zookeeper residue

About zookeeper chart,It's been removed,But there are still some related scripts that have not been completely deleted,we should remove them.

Change-Id: Iae20717482ad6c7a40f54174eef120d094abbd59
"
openstack%2Fironic-python-agent~stable%2Fussuri~I60682d7e1d83793fb9dc3df4398e8e6f17438f98,openstack/ironic-python-agent,stable/ussuri,pin-ipa-builder,I60682d7e1d83793fb9dc3df4398e8e6f17438f98,Pin version of ipa-builder when publishing image,MERGED,2021-03-01 16:04:37.000000000,2021-03-02 02:21:33.000000000,2021-03-02 02:18:05.000000000,8,1,0,778021,90b79c2f3cd556c9d934c8da8e5a0f8a005b6886,8,2,2,2,23851,Riccardo Pittau,elfosardo,"Pin version of ipa-builder when publishing image

The ironic-python-agent-build-image-tinyipa job from ipa-builder comes
from master branch and it will use that branch to build all the tinyipa
ramdisks.
For compatibility reasons with the base version of tinycore used to
build tinyipa, we need to pin the ipa-builder code to tag 2.2.0 as
ussuri CI is based on bionic and it won't support the new kernel used in
tinycore 11.x when we need to chroot to modify the image during CI jobs
like ironic-standalone.

Change-Id: I60682d7e1d83793fb9dc3df4398e8e6f17438f98
"
openstack%2Fmanila~master~I6e7608be57de8987117f3f4ace018a7eb91c8bd2,openstack/manila,master,secure-rbac,I6e7608be57de8987117f3f4ace018a7eb91c8bd2,Remove deprecated public share policies,MERGED,2020-11-19 21:17:02.000000000,2021-03-02 02:19:47.000000000,2021-03-02 01:42:30.000000000,13,30,0,763468,e3e0486de9ccdfbd5c82a31b702b87bd1e7f890f,62,6,5,2,5046,Lance Bragstad,ldbragst,"Remove deprecated public share policies

These policies were deprecated in Stein and flagged
for removal in Train. Now that we're in the Wallaby
development cycle let's remove them.

Depends-On: I2a647fd5871ef6bb7d1ab45db893a44a560bed72
Change-Id: I6e7608be57de8987117f3f4ace018a7eb91c8bd2
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fswift~master~Ia87ab6feaf5172d91f1c60c2e0f72e03182e3c9b,openstack/swift,master,p-sharder-compact-to-root,Ia87ab6feaf5172d91f1c60c2e0f72e03182e3c9b,sharder: fix loop in find_compactible_shard_sequences,MERGED,2021-02-26 20:29:34.000000000,2021-03-02 01:52:27.000000000,2021-03-02 01:50:58.000000000,171,51,10,777819,41f85f3969d854dceb1a0f6f22c377d62e7e6477,13,3,2,3,7847,Alistair Coles,acoles,"sharder: fix loop in find_compactible_shard_sequences

The sharder find_compactible_shard_sequences function was vulnerable
to looping with some combinations of shrink_threshold and merge_size
parameters. The inner loop might not consume a shard range, resulting
in the same shard range being submitted to the inner loop again.

This patch simplifies the function in an attempt to make it more
obvious that the loops are always making progress towards termination
by consuming shard ranges from the list.

Change-Id: Ia87ab6feaf5172d91f1c60c2e0f72e03182e3c9b
"
openstack%2Fironic~master~I63a3a8217e4e3f1c78fe8e90f4e711d9a6a61423,openstack/ironic,master,,I63a3a8217e4e3f1c78fe8e90f4e711d9a6a61423,remove unicode from code,ABANDONED,2021-03-01 10:06:48.000000000,2021-03-02 01:49:00.000000000,,107,107,0,777969,77340bd07911cf1d224b8c35558b8cdb2fcbe688,6,1,1,26,32291,wushiming,wushiming,"remove unicode from code

In Python 3, all strings are represented in Unicode.In Python 2 are
stored internally as 8-bit ASCII, hence it is required to attach 'u'
to make it Unicode. It is no longer necessary now.

Change-Id: I63a3a8217e4e3f1c78fe8e90f4e711d9a6a61423
"
openstack%2Fneutron~master~I44b587b8da641536593eadcb5919689278dda494,openstack/neutron,master,zzs,I44b587b8da641536593eadcb5919689278dda494,first commit test,ABANDONED,2021-03-02 01:31:49.000000000,2021-03-02 01:38:14.000000000,,5,0,0,778121,b79b9263fa448b4449d6472058943d1231f768fa,3,0,1,2,31842,Zhanshuai Zhang,ZhanshuaiZhang,"first commit test

zzs

Change-Id: I44b587b8da641536593eadcb5919689278dda494
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I567d6b2cd66d5eb98971cd54987c1fbea3c1da78,openstack/puppet-tripleo,stable/train,memcached-cert-stable/train,I567d6b2cd66d5eb98971cd54987c1fbea3c1da78,Add ability to specify memcached port,MERGED,2021-02-15 12:17:19.000000000,2021-03-02 01:36:10.000000000,2021-03-02 01:34:49.000000000,54,37,0,775605,8d5bb4b8948ecdef0a0659e4b6bb10756b7cc1bc,18,7,3,19,14250,Grzegorz Grasza,xek,"Add ability to specify memcached port

The port defaults to hiera('memcached_authtoken_port', 11211)
for authtoken middleware and hiera('memcached_port', 11211)
for other uses. Different ports might be set for security
and performance tuning.

Change-Id: I567d6b2cd66d5eb98971cd54987c1fbea3c1da78
(cherry picked from commit f460e659ba72a99d21b5aa69d9099c42cc868cfc)
"
openstack%2Fkolla-ansible~master~I7f3f0e01e504e806235d467db90294fdc14216e1,openstack/kolla-ansible,master,,I7f3f0e01e504e806235d467db90294fdc14216e1,Update manila-share.conf,ABANDONED,2021-02-26 09:01:59.000000000,2021-03-02 01:23:45.000000000,,13,0,0,777728,ab4f75575165b698bff210a911f19b1a0d1d3652,11,2,3,2,31506,Lin PeiWen,LinPeiWen,"Update manila-share.conf

manila glusterfs nfs backend does not require the configuration of
[nova] [cinder] [neutron], add the judgment condition and filter it

Change-Id: I7f3f0e01e504e806235d467db90294fdc14216e1
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I5e5ea241308a11b79864885584944037dfecc6bc,openstack/openstack-ansible-lxc_hosts,master,lxc-hosts-cleanup,I5e5ea241308a11b79864885584944037dfecc6bc,Remove duplicate lxc volume tasks,MERGED,2021-02-17 13:50:21.000000000,2021-03-02 01:01:46.000000000,2021-03-02 01:00:37.000000000,0,54,0,776200,608254f0a136eb0de4abab904716ae84418b48d8,15,3,1,2,25023,Jonathan Rosser,jrosser,"Remove duplicate lxc volume tasks

These tasks are duplicated in both lxc_cache_preparation_simple.yml
and lxc_volume.yml, so we remove one of the duplicate set of tasks.

Change-Id: I5e5ea241308a11b79864885584944037dfecc6bc
"
openstack%2Fopenstack-ansible-lxc_hosts~master~Ie0bcf56f0ac12f5a5472f539824221f2d8f3c769,openstack/openstack-ansible-lxc_hosts,master,lxc-hosts-cleanup,Ie0bcf56f0ac12f5a5472f539824221f2d8f3c769,Move lxc cache facts setting to where those facts are used.,MERGED,2021-02-17 13:50:21.000000000,2021-03-02 00:59:23.000000000,2021-03-02 00:58:17.000000000,5,5,0,776199,369c807b90e0be7b604c3e336811ac5decf9ead8,13,3,1,2,25023,Jonathan Rosser,jrosser,"Move lxc cache facts setting to where those facts are used.

If we build a local chroot then the lxc_cache_prestage.yml tasks
are no longer required, but the cache facts are still used later in
the role. Move the settings of the facts closer to where the facts
are used.

Change-Id: Ie0bcf56f0ac12f5a5472f539824221f2d8f3c769
"
openstack%2Fnova~master~I92eb27b710f16d69cf003712431fe225a014c3a8,openstack/nova,master,bug/1882521,I92eb27b710f16d69cf003712431fe225a014c3a8,libvirt: Define and emit DeviceRemovedEvent and DeviceRemovalFailedEvent,MERGED,2020-09-04 12:06:35.000000000,2021-03-02 00:56:54.000000000,2021-03-02 00:53:33.000000000,165,5,23,749929,4a70fc9cfb1d4354969c75e12fb94e1681e28ab7,124,9,13,6,10135,Lee Yarwood,lyarwood,"libvirt: Define and emit DeviceRemovedEvent and DeviceRemovalFailedEvent

This patch registers for VIR_DOMAIN_EVENT_ID_DEVICE_REMOVED and
VIR_DOMAIN_EVENT_ID_DEVICE_REMOVAL_FAILED libvirt events and transforms
them to nova virt events.

This patch also extends the libvirt driver to have a driver specific
event handling function for these events instead of using the generic
virt driver event handler that passes all the existing lifecycle events
up to the compute manager.

This is part of the longer series trying to transform the existing
device detach handling to use libvirt events.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1882521
Change-Id: I92eb27b710f16d69cf003712431fe225a014c3a8
"
openstack%2Fmanila~master~I1bbb6dc900ef413189c20d41fe08d9263a0038c2,openstack/manila,master,secure-rbac,I1bbb6dc900ef413189c20d41fe08d9263a0038c2,Implement secure RBAC for storage availability zones,MERGED,2020-11-19 21:17:02.000000000,2021-03-02 00:56:47.000000000,2021-03-02 00:54:45.000000000,17,2,0,763441,a43911d7de968e9e4172a386247f639f9536cc6a,36,7,3,1,5046,Lance Bragstad,ldbragst,"Implement secure RBAC for storage availability zones

This commit updates the policies for availability zones to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: I1bbb6dc900ef413189c20d41fe08d9263a0038c2
"
openstack%2Fopenstack-ansible~master~Idfdb34e53d7e0a54dd35b95e7b9f51eece405238,openstack/openstack-ansible,master,,Idfdb34e53d7e0a54dd35b95e7b9f51eece405238,Switch gnocchi release to 4.4,MERGED,2021-01-26 09:43:59.000000000,2021-03-02 00:42:35.000000000,2021-03-02 00:40:21.000000000,2,3,1,772485,e6d353649e95538fd5623078d6a9b1165208bffd,22,4,3,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Switch gnocchi release to 4.4

Gnocchi has released version 4.4 and there is no reason why we should
not use it.

Change-Id: Idfdb34e53d7e0a54dd35b95e7b9f51eece405238
"
openstack%2Fdevstack-plugin-ceph~master~Ib107d20075ef92611840b3635bbe15f8805ccb52,openstack/devstack-plugin-ceph,master,,Ib107d20075ef92611840b3635bbe15f8805ccb52,Added missing libvirt keyring for Cinder,NEW,2019-11-19 12:58:14.000000000,2021-03-02 00:22:03.000000000,,1,0,0,694997,5b01ec5001776cca5e3ca3b1982b560c61023ad7,10,19,3,1,20676,daniel.pawlik,daniel.pawlik,"Added missing libvirt keyring for Cinder

On executing tempest tests like:
tempest.api.compute.servers.test_create_server.ServersTestBootFromVolume.test_host_name_is_same_as_server_name

nova-compute service was raising an error:
""libvirtError: Secret not found: no secret with matching uuid"".
This patch set will add secret in virsh for Cinder.

Change-Id: Ib107d20075ef92611840b3635bbe15f8805ccb52
"
openstack%2Fansible-role-python_venv_build~master~I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b,openstack/ansible-role-python_venv_build,master,,I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b,Slurp constraints for all hosts,MERGED,2021-03-01 13:23:37.000000000,2021-03-01 23:41:51.000000000,2021-03-01 23:40:40.000000000,9,7,0,777994,20f8ad42ce3a7cf9cc9139c48bd11872af2fb10c,9,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Slurp constraints for all hosts

This fixes bug when content slurp has been performed only for single
host. Others were having invalid contstraints file with single record
in it.

Change-Id: I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b
"
openstack%2Fopenstack-helm-infra~master~Ic01e7c012ab2167d59b2117eb985386666f2bb2a,openstack/openstack-helm-infra,master,change-774346-20,Ic01e7c012ab2167d59b2117eb985386666f2bb2a,Enable TLS for grafana,MERGED,2021-02-06 04:49:10.000000000,2021-03-01 23:34:06.000000000,2021-03-01 23:32:41.000000000,87,4,13,774346,87e3a02dd558dfca6a9a8f49feb34f47d516cbf7,96,13,21,12,19391,Chi Lo,cl566n,"Enable TLS for grafana

This patchset updates grafana chart manifests to enable TLS with
osh-infra mariadb.  TLS for osh-infra mariadb is completed as part
of TLS phase 1, no additional mariadb chart work is required to
work with this patch.

Change-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a
"
openstack%2Fnetworking-sfc~master~Ic5c1d1bceff3e995d40ee49218e3627d26be1bed,openstack/networking-sfc,master,unittest.mock,Ic5c1d1bceff3e995d40ee49218e3627d26be1bed,Use unittest.mock instead of mock,MERGED,2020-12-03 17:50:03.000000000,2021-03-01 23:30:29.000000000,2021-03-01 23:29:00.000000000,4,4,0,765355,3f759390dd48d3b21a293912ec700a2214271ff5,19,7,2,4,32102,Manpreet Kaur,manpreet,"Use unittest.mock instead of mock

Few files were still using third party mock library, this patch removes
them and use the standard library mock module instead.

Change-Id: Ic5c1d1bceff3e995d40ee49218e3627d26be1bed
"
openstack%2Fproject-config~master~Ief16de137553c13df9d6037300efb80feb38f3db,openstack/project-config,master,in-repo,Ief16de137553c13df9d6037300efb80feb38f3db,intel-nfv-ci-tests: move zuul definition into repo,MERGED,2021-02-25 08:47:38.000000000,2021-03-01 23:24:22.000000000,2021-03-01 23:24:22.000000000,0,9,0,777511,563b8c27038a65ba3cfc5e0477ec9ba4a7d1e650,12,5,1,1,4491,Lianhao Lu,lianhao-lu,"intel-nfv-ci-tests: move zuul definition into repo

Move zuul related definition into intel-nfv-ci-tests own repo.

Depends-On: Idc727e5232c6b1697e65cbda8b955d9f4f1490d3
Change-Id: Ief16de137553c13df9d6037300efb80feb38f3db
"
openstack%2Ftripleo-operator-ansible~master~I0bdb9ce1e434f7ffd75d1931a70a451cdc48bc90,openstack/tripleo-operator-ansible,master,cli/backup/overcloud,I0bdb9ce1e434f7ffd75d1931a70a451cdc48bc90,Create tripleo_overcloud_backup role,MERGED,2021-02-08 16:03:26.000000000,2021-03-01 23:21:37.000000000,2021-03-01 23:21:37.000000000,323,0,0,774508,f90c7a44b664bde887be9a21fabd75a3c89b585d,10,5,2,10,32728,Juan Pablo Lopez,jplopezgu,"Create tripleo_overcloud_backup role

- tripleo_overcloud_backup role was added to match python-tripleoclient
  interface for B&R overcloud command. It follows the same structure
  as tripleo_undercloud_backup role.
- 'tripleo_overcloud_backup_init' string variable was added for
  the flag '--init' for installing and configure 'rear' and 'nfs'.
  Depending on the value. WARNING: this flag will be deprecated
  in favor of '--setup-nfs' and '--setup-rear'.
- 'tripleo_overcloud_backup_setup_nfs' boolean variable was added
  for the flag '--setup-nfs' which will install and configure NFS
  server. Default to: false.
- 'tripleo_overcloud_backup_setup_rear' boolean variable was added
  for the flag '--setup-rear' which will install and configure ReaR
  on the overcloud controllers. Default to: false.
- 'tripleo_overcloud_backup_storage_ip' string variable was added
  for the flag '--storage-ip' which will allows to specify an ip for
  NFS / Backup server. It has precedence over '--extra-vars'. WARNING:
  this flag will be deprecated in favor of '--extra-vars'.
- 'tripleo_overcloud_backup_extra_vars' string variable was added
  for '--extra-vars' variable for passing variables as JSON string
  or JSON / YAML path.
- zuul.d updated to include molecule tests

Depends on: https://review.opendev.org/c/openstack/python-tripleoclient/+/771589

Change-Id: I0bdb9ce1e434f7ffd75d1931a70a451cdc48bc90
"
openstack%2Ftripleo-operator-ansible~master~I5c22ab09f98ceff0b6c3e036a37fb76a2a744e79,openstack/tripleo-operator-ansible,master,cli/backup/undercloud,I5c22ab09f98ceff0b6c3e036a37fb76a2a744e79,Update tripleo_undercloud_backup role,MERGED,2021-02-04 15:13:56.000000000,2021-03-01 23:21:30.000000000,2021-03-01 23:21:30.000000000,83,0,8,774087,b3265b80053b7faee215497cbc2e52ed01d5963a,15,9,3,4,32728,Juan Pablo Lopez,jplopezgu,"Update tripleo_undercloud_backup role

- 'tripleo_undercloud_backup_init' string variable was added for
  the flag '--init' for installing and configure 'rear' and 'nfs'.
  Depending on the value.
  Though it is advised that this flag will be deprecated.
- 'tripleo_undercloud_backup_setup_nfs' boolean variable was added
  for the flag '--setup-nfs' which will install and configure NFS
  server. Default to: false.
- 'tripleo_undercloud_backup_setup_rear' boolean variable was added
  for the flag '--setup-rear' which will install and configure ReaR
  on the undercloud. Default to: false.
- 'tripleo_undercloud_backup_extra_vars' string variable was added
  for '--extra-vars' variable for passing variables as JSON string
  or JSON / YAML path.

Depends on: https://review.opendev.org/c/openstack/python-tripleoclient/+/771589

Change-Id: I5c22ab09f98ceff0b6c3e036a37fb76a2a744e79
"
openstack%2Fopenstack-ansible-ops~master~Iad12c5f7191f7f273a174c5dfbddae9447a78e03,openstack/openstack-ansible-ops,master,elk_adjustments,Iad12c5f7191f7f273a174c5dfbddae9447a78e03,Make focal jobs voting,MERGED,2021-03-01 08:51:58.000000000,2021-03-01 22:51:30.000000000,2021-03-01 22:46:35.000000000,1,1,0,777940,5c895cb2a82f2ff6ec257c5ad793ea3e31c253c7,8,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Make focal jobs voting

Change-Id: Iad12c5f7191f7f273a174c5dfbddae9447a78e03
"
openstack%2Frpm-packaging~master~Id3e71044b9e97c88595bad3874228ae07e68448e,openstack/rpm-packaging,master,,Id3e71044b9e97c88595bad3874228ae07e68448e,octavia: update filelist for amphora driver,MERGED,2021-02-24 08:24:10.000000000,2021-03-01 21:41:18.000000000,2021-03-01 21:41:18.000000000,1,0,0,777313,6223b9af12f49c3ca69ed4194bffecb42b59d3f5,9,5,1,1,6593,Dirk Mueller,dmllr,"octavia: update filelist for amphora driver

From the release notes:

  Support for SCTP health monitors is provided by the
  amphora-health-checker script and relies on an INIT/INIT-ACK/ABORT
  sequence of packets.

Change-Id: Id3e71044b9e97c88595bad3874228ae07e68448e
"
openstack%2Fswift~stable%2Ftrain~I3a197fecfd68359a325efdfd4590b7bd48598da8,openstack/swift,stable/train,train-sharding,I3a197fecfd68359a325efdfd4590b7bd48598da8,Avoid loops when gathering container listings from shards,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 21:32:53.000000000,2021-03-01 21:30:17.000000000,178,5,0,774343,96e24bb1dbbac0313cea1f233f8cd918c6d820ac,16,3,3,3,597,Pete Zaitcev,zaitcev,"Avoid loops when gathering container listings from shards

Previously the proxy container controller could, in corner cases, get
into a loop while building a listing for a sharded container. For
example, if a root has a single shard then the proxy will be
redirected to that shard, but if that shard has shrunk into the root
then it will redirect the proxy back to the root, and so on until the
root is updated with the shard's shrunken status.

There is already a guard to prevent the proxy fetching shard ranges
again from the same container that it is *currently* querying for
listing parts. That deals with the case when a container fills in gaps
in its listing shard ranges with a reference to itself. This patch
extends that guard to prevent the proxy fetching shard ranges again
from any container that has previously been queried for listing parts.

Cherry-Picked-From: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b
Change-Id: I3a197fecfd68359a325efdfd4590b7bd48598da8
"
openstack%2Fnova~master~I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9,openstack/nova,master,bp/pci-socket-affinity,I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9,scheduler: Add 'socket' PCI NUMA affinity policy trait,MERGED,2021-01-27 16:58:06.000000000,2021-03-01 21:31:55.000000000,2021-03-01 21:28:57.000000000,33,2,15,772749,db7517d5a8aaa5a24be12d9c3453dcd98d9a887e,81,3,13,4,8864,Artom Lifshitz,artom,"scheduler: Add 'socket' PCI NUMA affinity policy trait

Since only Wallaby compute nodes will support the 'socket' PCI NUMA
affinity policy, this patch adds a ResourceRequest translator that adds
a required trait if the value of '(hw_|hw:)pci_numa_affinity_policy' is
'socket'.

The actual trait reporting by the libvirt driver will be added in a
future patch. Until then the 'socket' value remains a hidden no-op.

Implements: blueprint pci-socket-affinity
Change-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9
"
openstack%2Fswift~stable%2Ftrain~I83441cb0ba600e7c26aa24a80bc3fb85803c90f3,openstack/swift,stable/train,train-sharding,I83441cb0ba600e7c26aa24a80bc3fb85803c90f3,Populate shrinking shards with shard ranges learnt from root,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 21:31:42.000000000,2021-03-01 21:30:01.000000000,621,175,0,774342,80b7892266389d04f122dd7b870fd64c98c0fe29,15,3,3,6,597,Pete Zaitcev,zaitcev,"Populate shrinking shards with shard ranges learnt from root

Shard shrinking can be instigated by a third party modifying shard
ranges, moving one shard to shrinking state and expanding the
namespace of one or more other shard(s) to act as acceptors. These
state and namespace changes must propagate to the shrinking and
acceptor shards. The shrinking shard must also discover the acceptor
shard(s) into which it will shard itself.

The sharder audit function already updates shards with their own state
and namespace changes from the root. However, there is currently no
mechanism for the shrinking shard to learn about the acceptor(s) other
than by a PUT request being made to the shrinking shard container.

This patch modifies the shard container audit function so that other
overlapping shards discovered from the root are merged into the
audited shard's db. In this way, the audited shard will have acceptor
shards to cleave to if shrinking.

This new behavior is restricted to when the shard is shrinking. In
general, a shard is responsible for processing its own sub-shard
ranges (if any) and reporting them to root. Replicas of a shard
container synchronise their sub-shard ranges via replication, and do
not rely on the root to propagate sub-shard ranges between shard
replicas. The exception to this is when a third party (or
auto-sharding) wishes to instigate shrinking by modifying the shard
and other acceptor shards in the root container.  In other
circumstances, merging overlapping shard ranges discovered from the
root is undesirable because it risks shards inheriting other unrelated
shard ranges. For example, if the root has become polluted by
split-brain shard range management, a sharding shard may have its
sub-shards polluted by an undesired shard from the root.

During the shrinking process a shard range's own shard range state may
be either shrinking or, prior to this patch, sharded. The sharded
state could occur when one replica of a shrinking shard completed
shrinking and moved the own shard range state to sharded before other
replica(s) had completed shrinking. This makes it impossible to
distinguish a shrinking shard (with sharded state), which we do want
to inherit shard ranges, from a sharding shard (with sharded state),
which we do not want to inherit shard ranges.

This patch therefore introduces a new shard range state, 'SHRUNK', and
applies this state to shard ranges that have completed shrinking.
Shards are now restricted to inherit shard ranges from the root only
when their own shard range state is either SHRINKING or SHRUNK.

This patch also:

 - Stops overlapping shrinking shards from generating audit warnings:
   overlaps are cured by shrinking and we therefore expect shrinking
   shards to sometimes overlap.

 - Extends an existing probe test to verify that overlapping shard
   ranges may be resolved by shrinking a subset of the shard ranges.

 - Adds a --no-auto-shard option to swift-container-sharder to enable the
   probe tests to disable auto-sharding.

 - Improves sharder logging, in particular by decrementing ranges_todo
   when a shrinking shard is skipped during cleaving.

 - Adds a ShardRange.sort_key class method to provide a single definition
   of ShardRange sort ordering.

 - Improves unit test coverage for sharder shard auditing.

Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Cherry-Picked-From: I9034a5715406b310c7282f1bec9625fe7acd57b6
Change-Id: I83441cb0ba600e7c26aa24a80bc3fb85803c90f3
"
openstack%2Frequirements~master~I398680e2f105d377790d9d7748d28e8e678375ad,openstack/requirements,master,openstack/requirements/constraints/noclob,I398680e2f105d377790d9d7748d28e8e678375ad,Updated from generate-constraints,MERGED,2021-03-01 06:34:35.000000000,2021-03-01 21:31:39.000000000,2021-03-01 21:29:30.000000000,7,7,0,777928,8fb0cabbea075eb9a61087c2a9ff11dd5475f641,16,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I398680e2f105d377790d9d7748d28e8e678375ad
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fproject-config~master~I5d4c579daffe9c7147e527e61f810eebf1ef3582,openstack/project-config,master,inap-mtl01,I5d4c579daffe9c7147e527e61f810eebf1ef3582,Enable inap-mtl01 region,MERGED,2021-03-01 20:49:50.000000000,2021-03-01 21:20:24.000000000,2021-03-01 21:12:07.000000000,1,1,0,778064,7167b379dc97c2b732cdce95b7680a9a82d83bd7,8,3,1,1,7156,Mathieu Gagné,mgagne,"Enable inap-mtl01 region

Change-Id: I5d4c579daffe9c7147e527e61f810eebf1ef3582
"
openstack%2Fswift~master~Ic765305da394a45e73ec17dcecb58da0c0b54a40,openstack/swift,master,cors,Ic765305da394a45e73ec17dcecb58da0c0b54a40,WIP: s3api: Allow MPUs via CORS requests,NEW,2020-04-14 23:01:06.000000000,2021-03-01 21:11:20.000000000,,143,10,1,720098,325cff580436b84cf73256825f5bd1ca4486e837,18,1,10,5,15343,Tim Burke,tburke,"WIP: s3api: Allow MPUs via CORS requests

Still need to:

* drop the `Access-Control-Expose-Headers: *` in favor of something more
  targetted
* at least *try* to respect the CORS settings on the container, and
* think about how best to deal with the `+segments` container so we
  don't need to configure CORS via swift.

Change-Id: Ic765305da394a45e73ec17dcecb58da0c0b54a40
"
openstack%2Ftripleo-heat-templates~master~Ib35f4346f94c2a6b172f6c6d64d45e24615f61c8,openstack/tripleo-heat-templates,master,,Ib35f4346f94c2a6b172f6c6d64d45e24615f61c8,WIP: Environment overrides for multinode standalone CI job,ABANDONED,2021-02-09 15:13:59.000000000,2021-03-01 21:09:06.000000000,,32,0,0,774677,9a66634f153f82982118ce2f0ca13428fb6f1dc7,8,2,3,1,8864,Artom Lifshitz,artom,"WIP: Environment overrides for multinode standalone CI job

This is intended as a sort of strawman to try and get a multinode
standalone job working. Based on zuul.d/README.rst in tripleo-ci,
`standalone_environment_files` is overridable, but only by files
already in tht, hence this patch.

I was told ComputeCount is not enough, and I might also need to
override HostnameMap and DeployedServerPortMap, but they're not as
trivial to figure out, so let's start with ComputeCount and see what
happens.

I'm sure there are better/smarter ways of doing the same thing, but
let's get the ball rolling with this patch.

Needed-by: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/762866
Change-Id: Ib35f4346f94c2a6b172f6c6d64d45e24615f61c8
"
openstack%2Fpython-swiftclient~stable%2Fvictoria~I5a6ba8e65c23ada7297f6684dcbdd886591d0af5,openstack/python-swiftclient,stable/victoria,requirements-stable/victoria,I5a6ba8e65c23ada7297f6684dcbdd886591d0af5,Fix multiple CI failures,MERGED,2020-09-21 18:27:44.000000000,2021-03-01 21:07:26.000000000,2021-03-01 21:02:23.000000000,8,59,0,753118,acd7091f605e2ca1b43461f566988436af3e76bc,18,3,4,7,15343,Tim Burke,tburke,"Fix multiple CI failures

1. Clean up some requirements

* Drop the py26 marker for futures; we don't support 2.6 anymore.
* Split hacking version used based on python version.
* Clean up sphinx split -- 2.0+ aren't available to install on py2,
  anyway.

Depends-On: https://review.opendev.org/#/c/752340/
Depends-On: https://review.opendev.org/#/c/752736/
(cherry picked from commit 5cb906148709ccc74ca96463fd69a5cae2381edb)

2. Drop lower-constraints testing

The OpenStack community consensus seems to be that it's not worth the
hassle of fixing. *Maybe* we can revisit this if we ever drop py2
support?

Reasonable spot to start on ML threads:
http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

(cherry picked from commit 06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5)

3. [goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

- Keep py2 functional job run on Bionic node

Story: #2007865
Task: #40221

(cherry picked from commit 9f69908f759daafc99a162b136b24570a2822ee2)

tests: Make test_delete_container_versions less flakey

Hammering that test in a tight loop, I'd often see failures due to
ordering issues. Make the delete single-threaded to avoid that.

(cherry picked from commit c73792c2e55e4fbdff78a192a991e064a317e840)

Change-Id: I5a6ba8e65c23ada7297f6684dcbdd886591d0af5
"
openstack%2Foslo.messaging~stable%2Ftrain~I01a38754a31c891f2b3b9c7f8135690693df5d13,openstack/oslo.messaging,stable/train,fix-option-train,I01a38754a31c891f2b3b9c7f8135690693df5d13,Fix type of direct_mandatory_flag opt,MERGED,2021-02-18 10:34:50.000000000,2021-03-01 21:00:02.000000000,2021-03-01 20:58:51.000000000,6,6,0,776416,56fc332608028ba4c671255e8bd9223a0bae762d,17,2,1,1,28522,Hervé Beraud,hberaud,"Fix type of direct_mandatory_flag opt

An IntOpt with a default of True is invalid. I'm a little surprised
this doesn't fail a defaults check somewhere, but it needs to be
fixed regardless.

Looking at where it is used, it appears the boolean type is correct.
This just changes the opt type to BoolOpt to match.

Conflicts:
  oslo_messaging/_drivers/impl_rabbit.py

NOTE(hberaud): Conflicts are due to a patch [1][2] not yet backported on
train and which added a new option on other branches.

[1] https://opendev.org/openstack/oslo.messaging/commit/196fa877a90d7eb0f82ec9e1c194eef3f98fc0b1
[2] https://review.opendev.org/c/openstack/oslo.messaging/+/747892

Change-Id: I01a38754a31c891f2b3b9c7f8135690693df5d13
Closes-Bug: 1909036
(cherry picked from commit b8f8b17030e93f6fe64e986ebae1de4011f007d5)
(cherry picked from commit a0329a3f86e8bf275dd4e16c1f354911a6ff2eb6)
(cherry picked from commit 3bf9ba550454719f1d56dbbf8bccbabab11a16f6)
"
openstack%2Fgovernance-sigs~master~Ie9cfc43a3d29858fbfa3fa6e7b3927821175c885,openstack/governance-sigs,master,formal-vote,Ie9cfc43a3d29858fbfa3fa6e7b3927821175c885,Update automation and multi-arch SIGs,MERGED,2021-01-26 09:19:55.000000000,2021-03-01 20:56:46.000000000,2021-02-04 16:02:39.000000000,2,2,0,772483,42401fb845fdba8da8079a4062d827cb985c06ec,12,4,1,1,12404,Rico Lin,rico.lin,"Update automation and multi-arch SIGs

Changes:
* Automation SIG to advisory
* Multi-arch SIG to active

Change-Id: Ie9cfc43a3d29858fbfa3fa6e7b3927821175c885
"
openstack%2Ftripleo-heat-templates~master~Ie84fa812c71ccff8328a0c43e023f98522dd80fb,openstack/tripleo-heat-templates,master,glance-cinder-mountpoint,Ie84fa812c71ccff8328a0c43e023f98522dd80fb,Allow configuring cinder mount point for glance cinder store,MERGED,2021-02-05 07:34:29.000000000,2021-03-01 20:50:05.000000000,2021-03-01 20:41:48.000000000,14,0,6,774201,365f16e21d25e6ffeed65a65c22df48a857935b0,21,12,3,2,19138,Pranali Deore,PranaliD,"Allow configuring cinder mount point for glance cinder store

The new parameter CinderMountPointBase has been added which will be used
for mounting NFS volumes on glance nodes.
When glance uses cinder as store and cinder backend is NFS, the mount
point would be required to be set with this parameter.

Depends-On: Ib724f6e895716847827be48ed08b01a7a312338f
Change-Id: Ie84fa812c71ccff8328a0c43e023f98522dd80fb
"
openstack%2Fopenstack-ansible-os_octavia~master~Ic0d72d232bc1d0cfc2f252d0550d1d4a08a32340,openstack/openstack-ansible-os_octavia,master,reno_build,Ic0d72d232bc1d0cfc2f252d0550d1d4a08a32340,[reno] Stop publishing release notes,MERGED,2021-01-22 16:27:16.000000000,2021-03-01 20:49:50.000000000,2021-03-01 20:37:23.000000000,1,1,0,772042,c8e9eeda0b4b54225c5fff293fc224a0dec657ce,19,4,4,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777601
Change-Id: Ic0d72d232bc1d0cfc2f252d0550d1d4a08a32340
"
openstack%2Fopenstack-ansible-os_designate~master~I5fb104e1ba18d8dd1349600b006be73f2e0f32fa,openstack/openstack-ansible-os_designate,master,reno_build,I5fb104e1ba18d8dd1349600b006be73f2e0f32fa,[reno] Stop publishing release notes,MERGED,2021-01-22 16:25:13.000000000,2021-03-01 20:49:33.000000000,2021-03-01 20:37:12.000000000,1,1,0,772027,d2f1b890fb8dd4edd8b8b5a3c6412c33f734cbef,15,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I5fb104e1ba18d8dd1349600b006be73f2e0f32fa"
openstack%2Ftripleo-common~stable%2Ftrain~I38fe6419a6e18693adad79083a589f3a417de02f,openstack/tripleo-common,stable/train,tripleoclient-t,I38fe6419a6e18693adad79083a589f3a417de02f,Add cloud-admin user to tripleoclient container,MERGED,2021-02-18 15:58:23.000000000,2021-03-01 20:49:29.000000000,2021-03-01 20:36:31.000000000,9,0,0,776485,db8ff0ae158edc549ac853687b1500325bb0f18b,10,6,1,3,17216,Martin Schuppert,mcschupp,"Add cloud-admin user to tripleoclient container

osp-director-operator use tripleoclient pod to render the ansible
playbooks in an ephemeral heat stack. The cloud-admin user is also
used as default deployment user to run the ansible playbooks to
deploy the overcloud.

This also adds osc-placement to the container image which allows
to query placment direct using osc.

Change-Id: I38fe6419a6e18693adad79083a589f3a417de02f
(cherry picked from commit 24c311aab02b8e50b817bff4e008a0d8b32443ca)
(cherry picked from commit 4bac1cb80b4f5c216b2cc0eaab6112f3294a0b24)
(cherry picked from commit 090ff9b8ecd0e90fcfeba64b4f6794be72d1ae2b)
"
openstack%2Ftripleo-common~stable%2Fussuri~Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,openstack/tripleo-common,stable/ussuri,memcached-cert-stable/victoria-stable/ussuri,Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,Add python3-pymemcache to tcib,MERGED,2021-02-25 09:10:12.000000000,2021-03-01 20:49:27.000000000,2021-03-01 20:36:27.000000000,1,0,0,777536,a6d2607f37b2cd8d8ac92305a9eddb61f5a58f6a,13,4,1,1,14250,Grzegorz Grasza,xek,"Add python3-pymemcache to tcib

pymemcache is required by services connecting to
Memcached with TLS. pymemcache will also likely replace
python-memcached alltogether, because of it's lack of
maintenance.

see: https://review.opendev.org/761612
Change-Id: Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5
(cherry picked from commit ab387b6a35dd18640bb9f4701097432b6959d03a)
"
openstack%2Ftripleo-common~stable%2Fvictoria~Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,openstack/tripleo-common,stable/victoria,memcached-cert-stable/victoria,Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,Add python3-pymemcache to tcib,MERGED,2021-02-25 09:09:42.000000000,2021-03-01 20:47:15.000000000,2021-03-01 20:32:26.000000000,1,0,0,777335,24b7ac1e6b6ea4fd46d8d39f93fd2f0824855d4c,14,4,1,1,14250,Grzegorz Grasza,xek,"Add python3-pymemcache to tcib

pymemcache is required by services connecting to
Memcached with TLS. pymemcache will also likely replace
python-memcached alltogether, because of it's lack of
maintenance.

see: https://review.opendev.org/761612
Change-Id: Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5
(cherry picked from commit ab387b6a35dd18640bb9f4701097432b6959d03a)
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7,openstack/puppet-tripleo,stable/ussuri,memcached-cert-stable/ussuri,I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7,Add authtoken security options,MERGED,2021-02-16 09:43:06.000000000,2021-03-01 20:46:58.000000000,2021-03-01 20:32:23.000000000,432,17,0,775783,17fdf05badae6f4ceb3b131e62232a97889973b0,19,3,1,18,14250,Grzegorz Grasza,xek,"Add authtoken security options

Add ability to specify the memcache_security_strategy and
memcache_secret_key for keystone authtoken middleware.
The keys for individual services are hashed with a salt,
to isolate them.

Change-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7
(cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I03e042b9684e6bdd8c277066776df23d2eb84ecd,openstack/tripleo-heat-templates,stable/victoria,cinder-multipath-stable/victoria,I03e042b9684e6bdd8c277066776df23d2eb84ecd,Enabling 'cinder_use_multipath' if cinder multipath is enabled,MERGED,2021-02-16 06:20:58.000000000,2021-03-01 20:41:40.000000000,2021-03-01 20:41:40.000000000,5,0,0,775655,853f4a15ce442d47bd2dbf4afa19cacc1d950430,10,3,1,1,19138,Pranali Deore,PranaliD,"Enabling 'cinder_use_multipath' if cinder multipath is enabled

Currently,'cinder_use_multipath' parameters' is disabled in glance-api.conf,
when cinder multipath is enabled.

Enabling 'cinder_use_multipath' when multipath is enabled.

Change-Id: I03e042b9684e6bdd8c277066776df23d2eb84ecd
(cherry picked from commit 4535e0f35630d718f5d5a25c91af629ffad95689)
"
openstack%2Fos-apply-config~stable%2Fqueens~Id10f028fda218d8a4fab0e391cbcd3aca6519253,openstack/os-apply-config,stable/queens,tripleo-ci-reduce,Id10f028fda218d8a4fab0e391cbcd3aca6519253,Remove tripleo-multinode-baremetal-minimal from zuul layout,MERGED,2021-02-25 09:53:08.000000000,2021-03-01 20:32:53.000000000,2021-03-01 20:32:53.000000000,0,1,0,777530,b8687b3a6b712bebfbd62452d6f27e0241f91b95,9,3,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-baremetal-minimal from zuul layout

The tripleo-multinode-baremetal-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Id10f028fda218d8a4fab0e391cbcd3aca6519253
"
openstack%2Fos-apply-config~stable%2Frocky~I9bd3b482492cb59d247193de71377611317b76b8,openstack/os-apply-config,stable/rocky,tripleo-ci-reduce,I9bd3b482492cb59d247193de71377611317b76b8,Remove tripleo-multinode-container|baremetal-minimal from layout,MERGED,2021-02-25 09:48:05.000000000,2021-03-01 20:32:49.000000000,2021-03-01 20:32:49.000000000,0,2,0,777525,c3da807b7c125a7386eb4c6c1a091bea25ceb581,8,3,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container|baremetal-minimal from layout

The tripleo-multinode-container-minimal and -baremetal-minimal
templates are being deprecated [1] as part of wider tripleo CI
optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I9bd3b482492cb59d247193de71377611317b76b8
"
openstack%2Fos-apply-config~stable%2Fpike~I6715edd673b45dad6fba7d1987eac8677f61eaa2,openstack/os-apply-config,stable/pike,tripleo-ci-reduce,I6715edd673b45dad6fba7d1987eac8677f61eaa2,Remove tripleo-multinode-container|baremetal-minimal from layout,MERGED,2021-02-25 09:50:29.000000000,2021-03-01 20:32:33.000000000,2021-03-01 20:32:33.000000000,0,2,0,777527,1fcccb880e30522d66238b205a48d553a050c562,8,3,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container|baremetal-minimal from layout

The tripleo-multinode-container-minimal and -baremetal-minimal
templates are being deprecated [1] as part of wider tripleo CI
optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I6715edd673b45dad6fba7d1987eac8677f61eaa2
"
openstack%2Fos-apply-config~stable%2Fstein~I10f106fb980acd04f6a220564c63494d8d84460d,openstack/os-apply-config,stable/stein,tripleo-ci-reduce,I10f106fb980acd04f6a220564c63494d8d84460d,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-25 09:45:32.000000000,2021-03-01 20:32:30.000000000,2021-03-01 20:32:30.000000000,0,1,0,777524,f76911c726483ed31b902ed02b49009dac14c5f5,8,3,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I10f106fb980acd04f6a220564c63494d8d84460d
"
openstack%2Fnova~master~I9135f37fe29a7f6ecf54a2c2c1019c17c9815404,openstack/nova,master,bp/allow-secure-boot-for-qemu-kvm-guests,I9135f37fe29a7f6ecf54a2c2c1019c17c9815404,tests: Remove unnecessary mock,MERGED,2021-02-10 17:15:36.000000000,2021-03-01 19:49:34.000000000,2021-03-01 19:44:26.000000000,0,10,0,774905,b367cf114cdf825c83ada213233133362a6e5acf,35,5,6,1,15334,Stephen Finucane,sfinucan,"tests: Remove unnecessary mock

This is already handled by the LibvirtFixture

Change-Id: I9135f37fe29a7f6ecf54a2c2c1019c17c9815404
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c,openstack/nova,master,bp/allow-secure-boot-for-qemu-kvm-guests,I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c,tests: Add 'nova.virt.libvirt.utils.get_arch' stub to fixture,MERGED,2021-02-10 17:15:36.000000000,2021-03-01 19:47:28.000000000,2021-03-01 19:43:58.000000000,114,64,4,774904,1053ae0b61a6c253b5684096b96ccad7a39343ac,37,4,6,4,15334,Stephen Finucane,sfinucan,"tests: Add 'nova.virt.libvirt.utils.get_arch' stub to fixture

By add this to the 'LibvirtFixture', we ensure virtually every test
that validates a libvirt thing will have this stubbed automatically.

Change-Id: I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstack-manuals~master~I10c45b4940491f795ab6c503bc0d2417310fd144,openstack/openstack-manuals,master,gitreview-2,I10c45b4940491f795ab6c503bc0d2417310fd144,Redirect git-review docs to opendev,MERGED,2021-02-26 21:00:23.000000000,2021-03-01 19:40:23.000000000,2021-03-01 19:17:26.000000000,10,0,0,777828,c7cc19b436f986b0974f0c2bb121313c98626fe1,10,2,1,2,5263,Jeremy Stanley,fungi,"Redirect git-review docs to opendev

The opendev/git-review projects has started publishing its
documentation on the docs.opendev.org site now, so install a
redirect from the former location for the sake of user continuity.

Change-Id: I10c45b4940491f795ab6c503bc0d2417310fd144
Depends-On: https://review.opendev.org/777799
"
openstack%2Fopenstack-helm-infra~master~I8c22fb3a7b0c6235e7179d96e32c1f160bf08ed2,openstack/openstack-helm-infra,master,,I8c22fb3a7b0c6235e7179d96e32c1f160bf08ed2,Update ldap chart releasenotes to latest,MERGED,2021-03-01 02:37:24.000000000,2021-03-01 19:29:54.000000000,2021-03-01 19:28:05.000000000,1,0,1,777920,5dd9a25b28314a4ea0c14e03dab3180156eff3d4,12,5,2,1,21420,Gage Hugo,ghugo,"Update ldap chart releasenotes to latest

This change updates the releasenotes for the ldap chart to the
latest version of the chart as of this patchset.

Change-Id: I8c22fb3a7b0c6235e7179d96e32c1f160bf08ed2
"
openstack%2Fswift~master~I57a8caa094c30d06fbedf0ef0eb0f070e6db5561,openstack/swift,master,cors,I57a8caa094c30d06fbedf0ef0eb0f070e6db5561,Fixups for cors tests README,ABANDONED,2021-03-01 15:29:10.000000000,2021-03-01 19:09:40.000000000,,5,1,2,778010,51df9d09335b6bce90763c259627afcd95739fde,6,2,2,1,7847,Alistair Coles,acoles,"Fixups for cors tests README

Change-Id: I57a8caa094c30d06fbedf0ef0eb0f070e6db5561
"
openstack%2Fswift~master~I8d6d6ada6c7a502b47060c0fecf9a13a81879baf,openstack/swift,master,p-s3-underscores,I8d6d6ada6c7a502b47060c0fecf9a13a81879baf,s3api: reinstate underscores in access-control-expose-headers,ABANDONED,2021-03-01 11:38:17.000000000,2021-03-01 19:07:42.000000000,,25,8,1,777985,aeb2fa64f9d298ed8b66bdabe0592b9715eeb825,7,2,3,3,7847,Alistair Coles,acoles,"s3api: reinstate underscores in access-control-expose-headers

s3api translate underscores in x-amz-meta- headers to '=5F' in
corresponding x-object-meta- headers for storage in swift. When
returning metadata headers the '=5F' is replaced with an
underscore. The same should be done when translating
access-control-expose-headers for an S3Response.

Change-Id: I8d6d6ada6c7a502b47060c0fecf9a13a81879baf
"
openstack%2Fkayobe~stable%2Fvictoria~I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28,openstack/kayobe,stable/victoria,story/2007297-stable/victoria,I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28,Fix copying Swift ring files,MERGED,2021-02-03 14:01:07.000000000,2021-03-01 19:01:36.000000000,2021-03-01 18:58:16.000000000,25,9,0,773898,ed498331a7b6187d01f861462ccd1590d5cc7bed,22,4,1,4,14826,Mark Goddard,mgoddard,"Fix copying Swift ring files

Ring files are binary formatted and should not be templated. Attempting
to template them causes an error such as the following:

    Template source files must be utf-8 encoded

This change fixes the issue by implementing support for configuration
files that are listed as 'untemplated'.

Change-Id: I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28
Story: 2007297
Task: 38774
(cherry picked from commit c847ef91572afa87a6d76b265c88db2d9e50ccb8)
"
openstack%2Fkayobe~master~Ia885a226de30d72610dca2eb2f194cef10193095,openstack/kayobe,master,story/2008546,Ia885a226de30d72610dca2eb2f194cef10193095,Quote kolla limit when calling kolla-ansible,MERGED,2021-01-21 15:54:58.000000000,2021-03-01 19:00:48.000000000,2021-03-01 18:58:44.000000000,8,3,0,771840,a1c9a8152508785d5babe4ed98eb6a743932a229,21,3,2,3,15197,Pierre Riteau,priteau,"Quote kolla limit when calling kolla-ansible

This is necessary for correctly passing limits containing special
characters such as ~ or &.

Change-Id: Ia885a226de30d72610dca2eb2f194cef10193095
Story: 2008546
Task: 41651
"
openstack%2Ftripleo-upgrade~master~I7fddac1876ea6b6f0043e9a9a76838f2db5ffff5,openstack/tripleo-upgrade,master,test_branch,I7fddac1876ea6b6f0043e9a9a76838f2db5ffff5,[WIP] Test patch,ABANDONED,2021-02-24 11:08:25.000000000,2021-03-01 18:26:39.000000000,,1,0,0,777362,1b6ae204acd012372530becb0f020d16ca5010b5,3,1,1,1,11090,Sergii Golovatiuk,holser,"[WIP] Test patch

Change-Id: I7fddac1876ea6b6f0043e9a9a76838f2db5ffff5
"
openstack%2Fcharm-deployment-guide~master~Ia30a9150c4b8182c098b2c41294aff5637659bb9,openstack/charm-deployment-guide,master,openstack-upgrades-and-packages,Ia30a9150c4b8182c098b2c41294aff5637659bb9,Add various improvements to OpenStack upgrades,MERGED,2021-02-27 02:26:33.000000000,2021-03-01 18:26:29.000000000,2021-03-01 18:24:50.000000000,24,19,0,777853,b076b6ddd965f52ba499c4113dc7d3b413cdee24,9,2,2,1,30561,Peter Matulis,pmatulis,"Add various improvements to OpenStack upgrades

Add some useful bits of information to the
upgrade-openstack page.

Refactor. Create a new section and reword a
little.

Change-Id: Ia30a9150c4b8182c098b2c41294aff5637659bb9
"
openstack%2Foslo.versionedobjects~stable%2Fussuri~I93ca2a3854dd521fbd199ac942653657d517468e,openstack/oslo.versionedobjects,stable/ussuri,native-zuulv3-migration,I93ca2a3854dd521fbd199ac942653657d517468e,[stable] Fix a few pep8 failures,ABANDONED,2021-02-17 23:49:28.000000000,2021-03-01 18:13:29.000000000,,12,12,0,776295,2af78695db552f7f368ed30d105415fb118f08a6,6,1,2,2,10459,Luigi Toscano,ltoscano,"[stable] Fix a few pep8 failures

Those errors have been workarounded in different commits in victoria
and later. Apply them here without bumping hacking&co
(i.e. implement the minimum required set of changes)

Change-Id: I93ca2a3854dd521fbd199ac942653657d517468e
"
openstack%2Fironic~master~Idc86d7b78854e0618f62c7e4c1a88670dc4561b0,openstack/ironic,master,tls_config_work,Idc86d7b78854e0618f62c7e4c1a88670dc4561b0,Add support to manage certificates in iLO,MERGED,2020-10-30 14:58:56.000000000,2021-03-01 17:49:52.000000000,2021-03-01 17:47:00.000000000,423,11,81,760573,7d4c1214ffca486aca56aa6602a3bedb41f95baf,71,9,13,5,18781,vinay50muddu,vmud213,"Add support to manage certificates in iLO

Adds methods to export and clear certificates on the node during node
provisioning. Also enables to implement clean/deploy steps for certificate
management through these APIs.

Change-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0
Story: #2008297
Task: #41182
"
openstack%2Fkayobe~master~I006d46954456cf30ce4e743fcbe9b2862d43dd01,openstack/kayobe,master,story/2004960,I006d46954456cf30ce4e743fcbe9b2862d43dd01,Ubuntu: support non-persistent veth configuration,MERGED,2021-01-07 13:45:40.000000000,2021-03-01 17:46:50.000000000,2021-03-01 17:44:04.000000000,86,42,0,769728,f9b02c8bf5d4cfe8ff29aac6181a38771f267037,15,3,1,3,14826,Mark Goddard,mgoddard,"Ubuntu: support non-persistent veth configuration

Adds support for veth patch pair configuration on Ubuntu. Currently this
is not persistent across reboots. This will need to be addressed once
the network configuration model is chosen for Ubuntu.

Change-Id: I006d46954456cf30ce4e743fcbe9b2862d43dd01
Story: 2004960
Task: 41545
"
openstack%2Fkayobe~master~Ib5462684fa5fd307068c67f9a13f73b80967beb4,openstack/kayobe,master,story/2004960,Ib5462684fa5fd307068c67f9a13f73b80967beb4,Ubuntu: fix pip configuration for kolla user,MERGED,2020-12-22 13:57:56.000000000,2021-03-01 17:45:40.000000000,2021-03-01 17:43:57.000000000,7,0,0,768206,50dddc3ace4c4c40e3d1680ddcceb789a47ae3fb,15,4,1,1,14826,Mark Goddard,mgoddard,"Ubuntu: fix pip configuration for kolla user

On Ubuntu, Kayobe can fail creating pip configuration for the kolla
user, with the following error:

    Failed to set permissions on the temporary files Ansible needs to
    create when becoming an unprivileged user

An earlier error seen with Ansible verbose mode shows that the setfacl
command is missing. It can be installed using the acl package, however
this is not always present in Ubuntu 20.04.

This change installs the acl package in the pip role.

Story: 2004960
Task: 41492

Change-Id: Ib5462684fa5fd307068c67f9a13f73b80967beb4
"
openstack%2Fproject-config~master~I2d8fa92c2e98481504709c08c319c8b5eb047460,openstack/project-config,master,,I2d8fa92c2e98481504709c08c319c8b5eb047460,Allow all registered users to edit hashtags on all Zuul projects,MERGED,2021-03-01 15:40:09.000000000,2021-03-01 17:40:18.000000000,2021-03-01 17:23:35.000000000,6,0,0,778012,240d932b906a0abe11f60faf4e0eb1deb485379c,15,5,2,6,1,James E. Blair,corvus,"Allow all registered users to edit hashtags on all Zuul projects

Hashtags are useful for organizing changes and facilitating searching.
Let's let any user set hashtags on changes to Zuul projects.

Change-Id: I2d8fa92c2e98481504709c08c319c8b5eb047460
"
openstack%2Foslo.rootwrap~stable%2Ftrain~Ibdc46d188a6025a42a6c7244cb0700563f56b3d1,openstack/oslo.rootwrap,stable/train,cap-bandit-1.6.2,Ibdc46d188a6025a42a6c7244cb0700563f56b3d1,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-02-26 22:34:58.000000000,2021-03-01 17:39:17.000000000,2021-03-01 17:37:26.000000000,8,5,0,777842,f3e5c7727cdd17b70e04603011433088b0af1b5c,9,3,1,3,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Contradicting hacking version replaced (in lower-constraints.txt to
match with test-requirements.txt), which pulls in newer flake8, too.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ibdc46d188a6025a42a6c7244cb0700563f56b3d1
"
openstack%2Fironic~master~I8d7a06558cbf073487707fc33219e43beb5fc043,openstack/ironic,master,,I8d7a06558cbf073487707fc33219e43beb5fc043,Update oslo.policy requirement to version 3.6.2,MERGED,2021-02-05 21:04:11.000000000,2021-03-01 17:28:16.000000000,2021-03-01 17:25:38.000000000,1,1,0,774307,94ba2641e338527f8b6f682540716fe883225fb9,18,3,1,1,5046,Lance Bragstad,ldbragst,"Update oslo.policy requirement to version 3.6.2

This version of oslo.policy includes fixes that ensure the Enforcer only
modifies copies of the rules, making it safer in environments that run
tests in parallel where the Enforcer is configured differently.

Change-Id: I8d7a06558cbf073487707fc33219e43beb5fc043
"
openstack%2Fglance-specs~master~Ic11be7628535f87b9002b69f845150bd02b9f0d7,openstack/glance-specs,master,bp/distributed-image-import,Ic11be7628535f87b9002b69f845150bd02b9f0d7,Distributed Image Import spec,MERGED,2021-02-04 16:02:14.000000000,2021-03-01 17:18:40.000000000,2021-03-01 17:16:51.000000000,245,0,13,774097,434abee27ecc8b5289701aa21d82bcb5195ad95d,25,5,3,1,4393,Dan Smith,danms,"Distributed Image Import spec

As planned in the glance meeting today, this adds a new spec for
distributed image import, in total isolation, with a proposal to
start with the simple case and moving to use image location
metadata when available.

Change-Id: Ic11be7628535f87b9002b69f845150bd02b9f0d7
"
openstack%2Fnetworking-sfc~master~I25a7e1d47c267631ebcb8ce34876ccfd38007e03,openstack/networking-sfc,master,l-c-fix,I25a7e1d47c267631ebcb8ce34876ccfd38007e03,Fix lower-constraints,MERGED,2021-02-15 12:53:41.000000000,2021-03-01 17:15:23.000000000,2021-03-01 17:13:36.000000000,50,45,1,775614,0eb06a29299264c7a5ca3c5ff0691715335d4385,15,5,3,4,841,Akihiro Motoki,amotoki,"Fix lower-constraints

The latest pip resolver started to check requirements strictly
and it detects many inconsistencies in lower-constraints.txt.

The summary of changes in lower-constraints.txt are as below.

* Address inconsistencies detected by the pip resolver accordingly.
* os-xenapi in l-c is bumped to 0.3.4. os-xenapi 0.3.1 is incompatible
  in eventlet versions which neutron and other projects require.
  Note that neutron 17.0.0 says os-xenapi>=0.3.1 but wallaby neutron
  already bumped it to >=0.3.4 to pass the check by the new pip.
* Bump the minimum neutron requirement to 17.0.0 (victoria release)
  as the previous min version 13.0.0.0b2 is too old.
  Wallaby and Victoria neutron are not different much, so I think
  it is no problem to use the latest released version here.
  (This is mainly to narrow down the space which the pip resolver
   searchs and speed up the fix effort.)
* Minimum versions in requirements.txt and test-requirements.txt
  are updated accordingly.
* Drop linter-specific entries from lower-constraints.txt.
* Move linter dependencies to tox.ini. It is out of the outcomes
  in [1] and its thread. Note that we don't need isort explicitly
  as pylint now set a proper version including the upper limit.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019415.html

Change-Id: I25a7e1d47c267631ebcb8ce34876ccfd38007e03
"
openstack%2Fbifrost~master~If40f044a86cdde6d653bbfb441de53fb4071e390,openstack/bifrost,master,inventory,If40f044a86cdde6d653bbfb441de53fb4071e390,Make DHCP inventory handling more flexible,MERGED,2020-12-18 18:31:46.000000000,2021-03-01 17:00:52.000000000,2021-03-01 16:58:19.000000000,41,12,1,767929,fc7d10a49be62808dfba887e33ddff2befaf41f2,11,3,2,4,10239,Dmitry Tantsur,dtantsur,"Make DHCP inventory handling more flexible

Configure a hostsdir even when inventory_dhcp is false, so that
a deployment can use a mixed approach.

Stop creating an unused additional DNS hostsdir by default since
we disable DNS by default. While we're here, rename
disable_dnsmasq_dns -> ! dnsmasq_enable_dns for consistency.

Change-Id: If40f044a86cdde6d653bbfb441de53fb4071e390
"
openstack%2Fmanila~master~I5fef50a17bc72ba66a3a9d6f786742bcb5745d7b,openstack/manila,master,fix_detachedinstance_error,I5fef50a17bc72ba66a3a9d6f786742bcb5745d7b,[NetApp] Fix deepcopy of sqlalchemy objects inside the driver,MERGED,2021-02-26 16:32:06.000000000,2021-03-01 16:59:36.000000000,2021-03-01 16:54:45.000000000,12,12,0,777770,1269a8669d96a8088b0b91821bd59a6291fe693b,17,3,1,3,30002,Douglas Viroel,dviroel,"[NetApp] Fix deepcopy of sqlalchemy objects inside the driver

This patch fix a sqlalchemy object copy made in the driver
that can raise a 'DetachedInstanceError' exception, depending on
changes made in the DB model. A simple copy is being made instead, to
have a new share object with share server information inside it.

Change-Id: I5fef50a17bc72ba66a3a9d6f786742bcb5745d7b
Signed-off-by: Douglas Viroel <viroel@gmail.com>
"
openstack%2Fcinder-tempest-plugin~master~Iac0aefff7a2277e1d3a36d8943e285a226a6830f,openstack/cinder-tempest-plugin,master,bug/1897532,Iac0aefff7a2277e1d3a36d8943e285a226a6830f,Wait for CG to be available before creating volume in the CG,MERGED,2020-09-28 09:11:09.000000000,2021-03-01 16:57:40.000000000,2021-03-01 16:57:40.000000000,32,32,0,754660,4f00e9f52b07b77f50aed1c6cfc59440da4f8294,20,8,2,1,14624,Sam Wan,samwan,"Wait for CG to be available before creating volume in the CG

The test cases should wait for CG to be available first before moving to
create volume in the CG.

Change-Id: Iac0aefff7a2277e1d3a36d8943e285a226a6830f
Closes-Bug: #1897532
"
openstack%2Fi18n~master~I83f38fd673456e0d1179c50d9df903e16b01bd5f,openstack/i18n,master,debug-job-scripts,I83f38fd673456e0d1179c50d9df903e16b01bd5f,Document tips on debugging translation job scripts,MERGED,2021-02-04 00:15:08.000000000,2021-03-01 16:56:28.000000000,2021-03-01 16:38:16.000000000,158,0,8,774017,78a21fa83087f39fe8deea00e872f0f2408c29a8,16,3,2,3,841,Akihiro Motoki,amotoki,"Document tips on debugging translation job scripts

The need for this information is rare but when I develop
the translation job scripts I always research the same thing
so it is useful at least for me.

Change-Id: I83f38fd673456e0d1179c50d9df903e16b01bd5f
"
openstack%2Fpython-blazarclient~master~I692abac2bf1fe118c27af043e71f315c8354c8a0,openstack/python-blazarclient,master,unittest.mock,I692abac2bf1fe118c27af043e71f315c8354c8a0,Use unittest.mock instead of third party mock,MERGED,2020-04-18 16:57:43.000000000,2021-03-01 16:56:20.000000000,2021-03-01 16:40:26.000000000,6,7,0,720976,d2503ab47633c8a4c3c229e3deaff0d95803a6fd,20,2,5,7,11904,Sean McGinnis,SeanM,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I692abac2bf1fe118c27af043e71f315c8354c8a0
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fpuppet-swift~master~I0dd121bf866fde715756a6c7c10e6153e17c5d2c,openstack/puppet-swift,master,proxy-pipeline,I0dd121bf866fde715756a6c7c10e6153e17c5d2c,Add support for the listing_formats middleware,MERGED,2021-02-21 09:50:50.000000000,2021-03-01 16:56:08.000000000,2021-03-01 16:39:22.000000000,51,0,1,776826,68a8d47cf7a9bd4918397c07731bc33423b235c0,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for the listing_formats middleware

Change-Id: I0dd121bf866fde715756a6c7c10e6153e17c5d2c
"
openstack%2Fbifrost~master~I300828d54af78ef4843094ff231652adc4566aa0,openstack/bifrost,master,upgrade,I300828d54af78ef4843094ff231652adc4566aa0,Add basic upgrade jobs,MERGED,2020-09-08 14:51:35.000000000,2021-03-01 16:55:51.000000000,2021-03-01 16:37:11.000000000,60,0,1,750376,abf7d3fcb360b5f16b33fb59d5be73878ca1c5ce,38,3,16,3,10239,Dmitry Tantsur,dtantsur,"Add basic upgrade jobs

The CI scripts install Bifrost on old stable, test it, then
do the same on master.

Change-Id: I300828d54af78ef4843094ff231652adc4566aa0
"
openstack%2Foslo.versionedobjects~stable%2Fussuri~Ia209311d57f607b2ddfcab8518264cd7f670dc8f,openstack/oslo.versionedobjects,stable/ussuri,native-zuulv3-migration,Ia209311d57f607b2ddfcab8518264cd7f670dc8f,zuul: port the legacy multinode grenade job,MERGED,2020-08-17 13:28:18.000000000,2021-03-01 16:55:37.000000000,2021-03-01 16:25:22.000000000,4,78,0,746506,0756920f742b4024869f9f359794d9ba82ec2a8f,19,5,4,3,10459,Luigi Toscano,ltoscano,"zuul: port the legacy multinode grenade job

Make it a native Zuul v3 job.
It is a simple variant of the base 'grenade-multinode' job
where oslo.versionedobjects is installed from source instead of pip.

Also use a slightly more common name by dropping the ""-devstack""
component from the name (all grenade jobs are also devstack jobs).

Finally, remove the hardcoded xenial nodeset, thus inheriting the
default testing definition for it, and probably unbreaking
the job which has been failing so far.

Change-Id: Ia209311d57f607b2ddfcab8518264cd7f670dc8f
(cherry picked from commit 9d67d0ff95d572d2a27cd50774b81b3eec4882df)
"
openstack%2Fglance~master~Idd1f3b84fa5af7d432411055c2a9641c3ce98abd,openstack/glance,master,feature_dist_import_func,Idd1f3b84fa5af7d432411055c2a9641c3ce98abd,Take new staging columns in use,ABANDONED,2021-02-26 14:27:48.000000000,2021-03-01 16:54:23.000000000,,140,27,0,777756,560f8abb8043d1b28a1b860928a78255e080d0e0,3,1,1,9,5202,Erno Kuvaja,jokke,"Take new staging columns in use

Change-Id: Idd1f3b84fa5af7d432411055c2a9641c3ce98abd
"
openstack%2Fglance~master~I5bd407de2ca7ec1f0a276c5f4e6f3da73f1d422f,openstack/glance,master,feature_dist_import_func,I5bd407de2ca7ec1f0a276c5f4e6f3da73f1d422f,Add get_ksa_client() helper,ABANDONED,2021-02-22 22:41:12.000000000,2021-03-01 16:53:13.000000000,,45,0,0,777017,7454e969323bc0b0c0bc07942fcddb184e7a0c63,10,2,2,2,5202,Erno Kuvaja,jokke,"Add get_ksa_client() helper

This adds a method in glance.context that will give us a
keystoneauth1 client, authorized with the user's token, suitable for
calling directly to other services.

This is copy of
https://review.opendev.org/c/openstack/glance/+/770682 for keeping
Dan's original chain intact as requested.

Related to blueprint distributed-image-import

Change-Id: I5bd407de2ca7ec1f0a276c5f4e6f3da73f1d422f
"
openstack%2Fglance~master~I50f88d0eeaa54d9857e8a7e30326bc4013928be6,openstack/glance,master,feature_dist_import_func,I50f88d0eeaa54d9857e8a7e30326bc4013928be6,WIP: Staging refactor,ABANDONED,2021-02-22 22:41:12.000000000,2021-03-01 16:52:55.000000000,,447,505,68,777018,c7bd3835992fd32985bf0236f3e4c00357c1284c,22,2,5,19,5202,Erno Kuvaja,jokke,"WIP: Staging refactor

This change is to address old technical debt by refactoring the
staging used related to Interoperable Image Import to utilize
locations mechanisms to track the user staging data through the
process.

Handling of ""staging_host"" location metadata as preparation for
Distributed Image Import that needs to track the host where user
image data is being staged to avoid the shared filesystem between
service nodes.

Hiding the ""staging_host"" from API user and never selecting
staging loction as direct_url provided by the API.

Hiding the staging_host details from the output is tested on the
folowing change that implements the actual value for it.

To be addressed before merging:
Removing or refactoring tests skipped as ""Irrelevant?"", likely
so due to the code they were testing been removed from said
modules.
Fixing tests skipped as ""BROKEN, needs eyes"" that are broken
relying the code they were testing being in the module and mocking
the rest.

Change-Id: I50f88d0eeaa54d9857e8a7e30326bc4013928be6
"
openstack%2Fglance~master~I1b694011a3a3bdd2698fcaac885b4cdf455d1049,openstack/glance,master,feature_dist_import_func,I1b694011a3a3bdd2698fcaac885b4cdf455d1049,Distributed image import,ABANDONED,2021-02-23 18:30:46.000000000,2021-03-01 16:52:28.000000000,,652,10,12,777183,ec9de83e4665a3dbdd75b4f89d642451fe431688,14,4,2,11,5202,Erno Kuvaja,jokke,"Distributed image import

This implements distributed image import support, which addresses
the problem when one API worker has staged the image and another
receives the import request.

The general approach is that when a worker stages the image, it's
direct_access_url gets recorded into the location metadata.  When
the import request comes in, any other host will proxy that HTTP
request direct to the original host instead of trying to do the import
itself.

This is refctored copy of
https://review.opendev.org/c/openstack/glance/+/769976 as requested to
keep Dan's original chain intact.

Co-Authored-by: Erno Kuvaja <jokke@usr.fi>
Change-Id: I1b694011a3a3bdd2698fcaac885b4cdf455d1049
Implements: blueprint distributed-image-import
"
openstack%2Fglance~master~Ie89838a87adfff846a284cc7582e50853f02c007,openstack/glance,master,feature_dist_import_func,Ie89838a87adfff846a284cc7582e50853f02c007,Add staging and staging_host columns into image_locations,ABANDONED,2021-02-26 14:27:48.000000000,2021-03-01 16:51:13.000000000,,146,2,8,777755,f71f4d4b9232adb8be3313afea35712c921b7cee,10,3,1,6,5202,Erno Kuvaja,jokke,"Add staging and staging_host columns into image_locations

Change-Id: Ie89838a87adfff846a284cc7582e50853f02c007
"
openstack%2Foslo.versionedobjects~stable%2Fussuri~Ied61e65006ad54803453776e763594e216be1353,openstack/oslo.versionedobjects,stable/ussuri,oslo_lc_drop,Ied61e65006ad54803453776e763594e216be1353,Dropping lower constraints testing,MERGED,2021-02-19 09:51:20.000000000,2021-03-01 16:46:26.000000000,2021-03-01 16:25:03.000000000,12,93,3,776594,3b51947c36bed64225ccbcf79738e610e19a9df3,13,3,2,5,10459,Luigi Toscano,ltoscano,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

This change includes a backport of I2baa6d318cdbbf86da86cc94171cc7714dbdba3a
which removes the lower-constraints.txt file and its references, and
which completes this change, as suggested by hberaud.

This change also includes a few PEP8 fixes which are branch-specific
and which have been workarounded from victoria onwards.
The fixes don't bump hacking&co (i.e. just a minimal set of changes).

Conflicts:
        .zuul.yaml
        lower-constraints.txt
They come from the change in the version-specific job template for unit tests,
and a few version-specific changes in lower-contraints.txt.

Change-Id: Ied61e65006ad54803453776e763594e216be1353
(cherry picked from commit e8062fc9e3e6b43c426bdba1d8425ee8635ba976)
(cherry picked from commit 8b3deb7b5adfed68b2f2d742743383f5f8503e82)
"
openstack%2Fnova~master~I1b6be3eb61f3e21da69a42ea32a19ce373b0a898,openstack/nova,master,bp/compact-db-migrations-wallaby,I1b6be3eb61f3e21da69a42ea32a19ce373b0a898,apidb: Compact Mitaka database migrations,MERGED,2020-10-23 11:42:17.000000000,2021-03-01 16:31:07.000000000,2021-03-01 16:23:32.000000000,192,379,0,759400,d2449232bd34f4f7a7cb3cb6a3523924624a0a31,71,11,3,8,15334,Stephen Finucane,sfinucan,"apidb: Compact Mitaka database migrations

Specific changes include:

- Add 'request_specs' table (004)
- Add 'flavors', 'flavor_extra_specs' and 'flavor_projects' tables (005)
- Add 'build_requests' table (006)
- Alter 'cell_id' column of 'instance_mappings' table to be nullable
  (007)

Change-Id: I1b6be3eb61f3e21da69a42ea32a19ce373b0a898
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpython-blazarclient~master~Ieb26af07da0c4084fb8c4ea2c4d461eb5595f583,openstack/python-blazarclient,master,,Ieb26af07da0c4084fb8c4ea2c4d461eb5595f583,Remove use of mock.seal(),MERGED,2021-02-23 14:11:38.000000000,2021-03-01 16:30:39.000000000,2021-03-01 16:30:39.000000000,0,4,0,777114,1db6cb37c6b32c6b3b664fedccd814bb79c1c044,7,3,1,1,15197,Pierre Riteau,priteau,"Remove use of mock.seal()

The seal function was introduced in unittest.mock in Python 3.7. It is
preventing us from using unittest.mock instead of mock.

We can restore it when the minimum runtime is Python 3.7 or later.

Change-Id: Ieb26af07da0c4084fb8c4ea2c4d461eb5595f583
"
openstack%2Fkolla~master~Ic8b427893b0d865bc3757598eb7a514854f898c2,openstack/kolla,master,,Ic8b427893b0d865bc3757598eb7a514854f898c2,neutron-server: stop pinning networking-hyperv,ABANDONED,2021-03-01 13:16:51.000000000,2021-03-01 16:27:30.000000000,,1,1,0,777993,412f15ccba07b3a1186526ae6db917d9724b0a3e,4,0,1,1,24072,Marcin Juszkiewicz,hrw,"neutron-server: stop pinning networking-hyperv

Pike release was long time ago so maybe it is time to unpin it?

commit 6dc8e978462fd08122133e273ae956721997d3af
Author: Dan Ardelean <dardelean@cloudbasesolutions.com>
Date:   Mon Aug 28 12:56:25 2017 +0300

    Change networking-hyperv version for Pike

Change-Id: Ic8b427893b0d865bc3757598eb7a514854f898c2
"
openstack%2Foslo.versionedobjects~stable%2Fvictoria~Ied61e65006ad54803453776e763594e216be1353,openstack/oslo.versionedobjects,stable/victoria,oslo_lc_drop,Ied61e65006ad54803453776e763594e216be1353,Dropping lower constraints testing,MERGED,2021-02-19 09:48:41.000000000,2021-03-01 16:22:22.000000000,2021-03-01 16:09:50.000000000,0,76,0,776593,8b3deb7b5adfed68b2f2d742743383f5f8503e82,12,3,2,3,10459,Luigi Toscano,ltoscano,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

This change includes a backport of I2baa6d318cdbbf86da86cc94171cc7714dbdba3a
which removes the lower-constraints.txt file and its references, and
which completes this change, as suggested by hberaud.

Conflicts:
        .zuul.yaml
        lower-constraints.txt
They come from the change in the version-specific job template for unit tests,
and a few version-specific changes in lower-contraints.txt.

Change-Id: Ied61e65006ad54803453776e763594e216be1353
(cherry picked from commit e8062fc9e3e6b43c426bdba1d8425ee8635ba976)
"
openstack%2Fsushy-tools~master~Ica78dab39639d7acb2168866b0035f9c3d865fa1,openstack/sushy-tools,master,,Ica78dab39639d7acb2168866b0035f9c3d865fa1,New option to prevent libvirt defining boot order,MERGED,2021-02-19 15:31:57.000000000,2021-03-01 16:09:08.000000000,2021-03-01 14:37:53.000000000,54,9,0,776660,02b451b500f19fbb3f9d3617f2e703974c054198,18,6,2,3,1926,Derek Higgins,derekh,"New option to prevent libvirt defining boot order

Add a new config option ""SUSHY_EMULATOR_IGNORE_BOOT_DEVICE"".
Instructs the libvirt driver to ignore any instructions to
set the boot device. Allowing the UEFI firmware to instead
rely on the EFI Boot Manager

Change-Id: Ica78dab39639d7acb2168866b0035f9c3d865fa1
"
openstack%2Fkolla-ansible~master~I9ce8c01ff7c62ed15d872038229013ec8e301b04,openstack/kolla-ansible,master,swift-s3api-test,I9ce8c01ff7c62ed15d872038229013ec8e301b04,[DNM] test swift deploy 1,ABANDONED,2021-02-25 19:25:26.000000000,2021-03-01 16:08:01.000000000,,2,2,0,777656,1c682c2b40c9e271fd82eca5ae0dd75216f78825,7,1,2,1,14200,Maksim Malchuk,mmalchuk,"[DNM] test swift deploy 1

Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
Change-Id: I9ce8c01ff7c62ed15d872038229013ec8e301b04
(cherry picked from commit 64e4d37dd0f490eabea41f0672c637604e797851)
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
"
openstack%2Fopenstack-helm-infra~master~Idd4180993775807ebcef3e7879afb2f8ab42148c,openstack/openstack-helm-infra,master,elasticsearch-reno,Idd4180993775807ebcef3e7879afb2f8ab42148c,Update elasticsearch chart releasenotes to latest,MERGED,2021-02-26 01:04:32.000000000,2021-03-01 16:07:38.000000000,2021-03-01 16:05:02.000000000,1,0,0,777703,ab4989fd176d0171eb86784b17fcd1d98ec81a3b,9,4,1,1,30449,jinyuanliu,jinyuanliu,"Update elasticsearch chart releasenotes to latest

This change updates the releasenotes for the elasticsearch chart to the latest version of the chart as of this patchset.

Change-Id: Idd4180993775807ebcef3e7879afb2f8ab42148c
"
openstack%2Foslo.messaging~stable%2Fvictoria~Id5cddbefbe24ef100f1cc522f44430df77d217cb,openstack/oslo.messaging,stable/victoria,backport-mandatory-to-victoria,Id5cddbefbe24ef100f1cc522f44430df77d217cb,Correctly handle missing RabbitMQ queues,MERGED,2021-02-18 10:47:17.000000000,2021-03-01 16:04:11.000000000,2021-03-01 16:01:27.000000000,60,23,0,776418,391ce7fc69adc8d713d8ca64e76d901eb3e65df1,10,3,1,4,28522,Hervé Beraud,hberaud,"Correctly handle missing RabbitMQ queues

Currently, setting the '[oslo_messaging] direct_mandatory_flag' config
option to 'True' (the default) will result in a 'MessageUndeliverable'
exception being raised when sending a reply if a RabbitMQ queue is
missing [1]. It was the responsibility of the application to handle
this exception, however, many applications are not doing so. This has
resulted in a number of bug reports.

Start handling this error condition, using a retry loop to attempt to
resend the message and work around any temporary glitches. Since
attempting to send a reply will will no longer raise an exception,
there is little benefit in retaining the '[oslo_messaging]
direct_mandatory_flag' config option: users setting this to False will
simply not benefit from the retry logic and improved logging added
here. This option is already deprecated though and will be fully
removed in a future release.

[1] https://www.rabbitmq.com/channels.html

Change-Id: Id5cddbefbe24ef100f1cc522f44430df77d217cb
Closes-Bug: #1905965
(cherry picked from commit 4937949dffecdf8863a7876e5a6b0b18e811c3ac)
"
openstack%2Fmagnum~stable%2Fvictoria~I51659c6e179d7e4e2cfc5be46348fac483d76e3b,openstack/magnum,stable/victoria,story/2008488,I51659c6e179d7e4e2cfc5be46348fac483d76e3b,Do not create constraints for boolean fields,MERGED,2021-03-01 11:54:42.000000000,2021-03-01 15:53:54.000000000,2021-03-01 15:52:06.000000000,38,15,2,777910,210984fa264af876201b0099a8b7153fa09c5856,13,4,4,13,28022,Bharat Kunwar,brtknr,"Do not create constraints for boolean fields

On mysql 8, Boolean fields create constraints which later
make it impossible to alter the name of the column.
See: https://github.com/sqlalchemy/alembic/issues/699

Per upstream alembic recommendation, do not create constraints
explicitly.
https://github.com/sqlalchemy/alembic/issues/699#issuecomment-760983057

story: 2008488
task: 41537

Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit bcf771bc6f165f8c364637b1055c6545d78c17bb)

Fix database migrations

The pattern of adding a column and then reading a table with it
no longer works in SQLAlchemy 1.3.20. This has been reported
upstream [1].

[1] https://github.com/sqlalchemy/sqlalchemy/issues/5669

squashed with: I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b
(cherry picked from commit f5cf6b958c20e560d2baff3fb21adcb4ce4a3aa4)

Change-Id: I51659c6e179d7e4e2cfc5be46348fac483d76e3b
"
openstack%2Fcharm-swift-storage~master~I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470,openstack/charm-swift-storage,master,bug/1903762,I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470,Fix swift replication errors,MERGED,2020-12-02 15:32:44.000000000,2021-03-01 15:51:27.000000000,2021-03-01 15:51:27.000000000,30,11,21,765158,4337b753f5899377b93258f2a631b394fde221cd,43,5,9,5,10058,Erlon R. Cruz,sombrafam,"Fix swift replication errors

There are several errors related to the swift replication service.
The swift storage charm is not properly restarting the services
after configuration changes, the correct object_lockup_timeout
value (that per the behaviour observerd in our environments must
be greater than object_rsync_timeout) and we also needed to fix
the object replicator config file to honor the
object-handoffs-first configuration.

This patch along with the swift proxy-change should fix the
currently known replication problems.

Closes-bug: #1903762
Depends-on: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0
Change-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470
"
openstack%2Fsushy~master~Id35d5b3c1d09718d05f6b2e470412d76d60b5198,openstack/sushy,master,secure-boot,Id35d5b3c1d09718d05f6b2e470412d76d60b5198,Initial support for secure boot databases,MERGED,2021-02-01 14:04:15.000000000,2021-03-01 15:45:54.000000000,2021-03-01 15:43:07.000000000,395,3,0,773397,4abea1879fb2296b42590b2235a219e5f0a81d76,9,3,1,9,10239,Dmitry Tantsur,dtantsur,"Initial support for secure boot databases

Change-Id: Id35d5b3c1d09718d05f6b2e470412d76d60b5198
"
openstack%2Fcharm-swift-proxy~master~I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0,openstack/charm-swift-proxy,master,bug/1903762,I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0,Fix swift port replication configuration,MERGED,2020-12-02 15:35:37.000000000,2021-03-01 15:42:38.000000000,2021-03-01 14:25:27.000000000,166,18,23,765161,498d3b0f1e8e3627de50ed44ab7793af595f4b0e,68,6,14,2,10058,Erlon R. Cruz,sombrafam,"Fix swift port replication configuration

Port replication configs are not being set into the ring files.
When replication port configs
(account|container|object)-server-port-rep, are changed in the
swift-storage charm, swift-storage changes the related configs in
the config files, but that does not update the rings.

This patch adds a function that runs in every config-change
triggered from the swift-storage nodes and make sure any replication
config is written to the ring and distributed to all nodes.

Partial-bug: #1903762
Change-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0
"
openstack%2Fpython-ironicclient~master~Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a,openstack/python-ironicclient,master,bug/1566329,Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a,Add tests for 'baremetal port create' command,MERGED,2016-06-22 15:45:14.000000000,2021-03-01 15:39:03.000000000,2021-03-01 15:35:15.000000000,75,0,9,332880,f8af1df9e6891d2a676378e433a1d8c363e072e2,73,8,25,1,14614,Kyrylo Romanenko,kromanenko,"Add tests for 'baremetal port create' command

Add tests for options:
    --extra
    --pxe-enabled
    --local-link-connection

Change-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a
Partial-Bug: #1566329
"
openstack%2Fironic-lib~master~I743ce53d5e5d82401173eb7189e90531f3ee138e,openstack/ironic-lib,master,explicit-execute-args,I743ce53d5e5d82401173eb7189e90531f3ee138e,Explicit execute arguments,MERGED,2021-02-25 14:00:44.000000000,2021-03-01 15:38:15.000000000,2021-03-01 15:34:49.000000000,3,9,0,777594,0ae0ca98dc605fb495bb1679a229ee1edad52bdf,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Explicit execute arguments

The use_standard_locale and log_stdout arguments are not passed to
processutils.execute, they should be keyword arguments of the execute
function.

Change-Id: I743ce53d5e5d82401173eb7189e90531f3ee138e
"
openstack%2Fvalidations-libs~master~I293d5971457d35bc192bc9c21920681130f39bcc,openstack/validations-libs,master,remove_group_condition,I293d5971457d35bc192bc9c21920681130f39bcc,Remove the condition to check the groups.,ABANDONED,2021-03-01 15:32:40.000000000,2021-03-01 15:35:09.000000000,,0,13,0,778011,a539defb00121cc6b01b8b72eab16a532eefb8f1,2,0,1,2,31245,Daniel Bengtsson,damani42,"Remove the condition to check the groups.

We added this condition because we met this error on osp 16:

Traceback (most recent call last):
  File ""/usr/lib/python3.6/site-packages/tripleoclient/command.py"", line 32, in run
    super(Command, self).run(parsed_args)
  File ""/usr/lib/python3.6/site-packages/osc_lib/command/command.py"", line 41, in run
    return super(Command, self).run(parsed_args)
  File ""/usr/lib/python3.6/site-packages/cliff/display.py"", line 116, in run
    column_names, data = self.take_action(parsed_args)
  File ""/usr/lib/python3.6/site-packages/tripleoclient/v1/tripleo_validator.py"", line 77, in take_action
    return actions.group_information(GROUP_FILE)
  File ""/usr/lib/python3.6/site-packages/validations_libs/validation_actions.py"", line 156, in group_information
    self.validation_path, gp[0])
  File ""/usr/lib/python3.6/site-packages/validations_libs/utils.py"", line 62, in parse_all_validations_on_disk
    if not groups or set(groups).intersection(val.groups):
TypeError: 'NoneType' object is not iterable

But it's not anymore necessary, because now the property groups return
an empty list by default if it's not defined. To fix this patch[1] in
the tripleo-upgrade

[1] https://review.opendev.org/c/openstack/tripleo-upgrade/+/773181
Change-Id: Ib11fd1b829bd56c19f82081d53440b4dd8237f3f

Change-Id: I293d5971457d35bc192bc9c21920681130f39bcc
"
openstack%2Fkayobe~master~I87b63966b55f04f80fd0255fbf2732d527732187,openstack/kayobe,master,,I87b63966b55f04f80fd0255fbf2732d527732187,Revert ironic custom configuration,MERGED,2021-02-26 08:58:01.000000000,2021-03-01 15:24:04.000000000,2021-03-01 15:22:12.000000000,0,13,0,777727,5af7cac17ea72ff46da85d4c8bcdf373db91c768,8,2,1,2,15197,Pierre Riteau,priteau,"Revert ironic custom configuration

This is now merged into kayobe-config-dev [1].

[1] https://review.opendev.org/c/openstack/kayobe-config-dev/+/777076

Change-Id: I87b63966b55f04f80fd0255fbf2732d527732187
"
openstack%2Fsushy~master~I1b14bb1eddbf6eff82b0bd06e36c667bcaaf217d,openstack/sushy,master,task-mon-fwu,I1b14bb1eddbf6eff82b0bd06e36c667bcaaf217d,Follow up TaskMonitor refactor,MERGED,2021-02-26 09:50:50.000000000,2021-03-01 15:24:03.000000000,2021-03-01 15:21:44.000000000,88,28,0,777733,375b29b87f0251aa43752c15855c929bd4e1b9ec,10,4,1,5,27909,Aija Jauntēva,ajya,"Follow up TaskMonitor refactor

Follow up to change Idd4158d87d27b6358c6d7a2a7183427a494ee384

Add wait method.
Rename TaskMonitor.get_task_monitor to TaskMonitor.from_response

Change-Id: I1b14bb1eddbf6eff82b0bd06e36c667bcaaf217d
"
openstack%2Fneutron~stable%2Fvictoria~Ie97cfe9fe0020929d9a1736d55ad92a5bd643072,openstack/neutron,stable/victoria,bug/1915495-stable/victoria,Ie97cfe9fe0020929d9a1736d55ad92a5bd643072,[L3HA] Bind metadata haproxy to IPv6 address if IPv6 is enabled,MERGED,2021-02-19 15:29:57.000000000,2021-03-01 15:09:25.000000000,2021-03-01 15:07:23.000000000,5,1,1,776618,3452b41bf034f84e8f53eb3e61df2eb81b58be34,28,6,1,1,11975,Slawek Kaplonski,slaweq,"[L3HA] Bind metadata haproxy to IPv6 address if IPv6 is enabled

Patch [1] added possibility that haproxy spawned as metadata proxy in
the router's namespace can be bound to IPv6 address.
We misssed to add the same for the HA router, so when router was
switched to be active on the node, L3 agent starts haproxy for that
router but it was always bound to IPv4 address only.
That patch fixes it by adding check if IPv6 is enabled on host, and if
yes, it adds same config to the haproxy like it is in non-ha mode.

[1] https://review.opendev.org/c/openstack/neutron/+/715483

Closes-Bug: #1915495
Change-Id: Ie97cfe9fe0020929d9a1736d55ad92a5bd643072
(cherry picked from commit ce8361a66744539bebdae6b750c4fa437f203ca0)
"
openstack%2Fcharm-neutron-gateway~master~I5f36d39a80598f8cbef1c5f621d838f27227a10a,openstack/charm-neutron-gateway,master,charms/gate-reduction,I5f36d39a80598f8cbef1c5f621d838f27227a10a,Prune gate tests,MERGED,2021-02-20 00:03:22.000000000,2021-03-01 15:08:13.000000000,2021-03-01 15:08:13.000000000,6,4,0,776753,6d3cb905ae077eb2bfaf69a11944e6e44effff94,15,3,2,1,8992,Billy Olsen,billy-olsen,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I5f36d39a80598f8cbef1c5f621d838f27227a10a
"
openstack%2Fopenstack-ansible~master~Ic628788e2f9b437a275b01d8721b75c76ed91acb,openstack/openstack-ansible,master,,Ic628788e2f9b437a275b01d8721b75c76ed91acb,scripts-library: simplify ara setup,MERGED,2021-02-25 22:26:57.000000000,2021-03-01 15:03:57.000000000,2021-03-01 15:02:02.000000000,3,12,0,777696,967c5d4e2ac59400f5494eba1704c430a163ed84,8,3,1,1,9061,David Moreau Simard,dmsimard,"scripts-library: simplify ara setup

The intent was to be able to test easily with Depends-On patches with a
repository prepared by Zuul but ara is being retired from
opendev.org/recordsansible/ara and will no longer be available at that location.

Change-Id: Ic628788e2f9b437a275b01d8721b75c76ed91acb
"
openstack%2Foctavia~stable%2Fussuri~If165e995a8b61d8a8ed6bc0c4dd036af0c55c6e0,openstack/octavia,stable/ussuri,,If165e995a8b61d8a8ed6bc0c4dd036af0c55c6e0,Fix AttributeError on TLS-enabled pool provisioning,MERGED,2020-09-24 14:11:25.000000000,2021-03-01 14:56:30.000000000,2021-03-01 14:54:14.000000000,24,14,2,754107,a053d7c3d9519d71b38492ddd09343efc03c6b1c,28,5,3,4,6469,Carlos Gonçalves,cgoncalves,"Fix AttributeError on TLS-enabled pool provisioning

This patch fixes an hidden AttributeError exception in the HAProxy
driver when adding TLS-enabled pools to listeners.

Task: 40895
Story: 2008150

Change-Id: If165e995a8b61d8a8ed6bc0c4dd036af0c55c6e0
(cherry picked from commit a6a4001f5739e124a0ea9abb0f064a89e4ba5aae)
"
openstack%2Fopenstack-ansible-os_horizon~master~Ia8eca0c54079f96f1160ac88670392794e7f747a,openstack/openstack-ansible-os_horizon,master,osa-facts,Ia8eca0c54079f96f1160ac88670392794e7f747a,Use ansible_facts[] instead of fact variables,MERGED,2021-02-25 18:59:32.000000000,2021-03-01 14:50:30.000000000,2021-03-01 14:48:48.000000000,22,22,0,777651,9c8062fb512bfb14eb5b0337086c6e42c4a7d53f,11,3,2,10,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Ia8eca0c54079f96f1160ac88670392794e7f747a
"
openstack%2Fglance_store~master~Ie278638466c3848c18cc353d966d2275370eaca0,openstack/glance_store,master,wallaby-releasenotes,Ie278638466c3848c18cc353d966d2275370eaca0,Wallaby cycle Release Notes,MERGED,2021-03-01 07:18:40.000000000,2021-03-01 14:41:19.000000000,2021-03-01 14:38:50.000000000,10,0,0,777933,bfbea18d8774cb99a9d0a8949b962190c74aa9ad,8,3,1,1,9303,Abhishek Kekane,abhishekkekane,"Wallaby cycle Release Notes

Change-Id: Ie278638466c3848c18cc353d966d2275370eaca0
"
openstack%2Fkayobe~stable%2Fvictoria~I6bc8da2b8da903e09b97df8cd95c68a562c11db9,openstack/kayobe,stable/victoria,,I6bc8da2b8da903e09b97df8cd95c68a562c11db9,CI: Fix overcloud and seed VM jobs on vexxhost clouds,MERGED,2021-02-28 20:36:20.000000000,2021-03-01 14:16:44.000000000,2021-03-01 14:13:30.000000000,8,0,0,777892,276115105bd72659f291f9b363ab466d48dab218,9,4,1,2,15197,Pierre Riteau,priteau,"CI: Fix overcloud and seed VM jobs on vexxhost clouds

The issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,
which applied some fixes for CentOS 8.3, and inadvertently removed
the Tenks variable that forces the use of qemu for 'bare metal' VMs.
This lead to autodetection of KVM, which does not work well when nested
in all CI cloud providers.

This change fixes the issue by forcing the use of qemu for the overcloud
once more. It also adds a similar option for the seed VM job.

Change-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9
(cherry picked from commit f9d9afcfba09ef73c6663a38fb60b703caeb56c7)
"
openstack%2Fovsdbapp~master~I38168888bc7b3b28a4526345225bdad99c050d47,openstack/ovsdbapp,master,,I38168888bc7b3b28a4526345225bdad99c050d47,Make it possible to just retrieve schema json,MERGED,2021-01-28 23:26:37.000000000,2021-03-01 14:14:34.000000000,2021-03-01 14:12:55.000000000,14,3,0,772955,f41003dec2637cea3f8fd9fae34dbb353f89e2b3,8,3,1,1,5756,Terry Wilson,otherwiseguy,"Make it possible to just retrieve schema json

This breaks out a fetch_schema_json() method to make it possible
to retrieve the schema without creating a SchemaHelper object
which only stores the schema json until the Idl calls the
get_idl_schema method on it.

Change-Id: I38168888bc7b3b28a4526345225bdad99c050d47
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I3c427bc670815ee5bac677925b56df644f460271,openstack/openstack-ansible-lxc_hosts,master,,I3c427bc670815ee5bac677925b56df644f460271,Remove workarounds for old systemd bugs,MERGED,2021-02-17 17:06:04.000000000,2021-03-01 14:07:10.000000000,2021-03-01 14:05:09.000000000,0,56,0,776241,3f8a5b4ca368d468446256992c456fc37fa2cf28,23,3,9,1,25023,Jonathan Rosser,jrosser,"Remove workarounds for old systemd bugs

These are now resolved:

Were are now later than systemd v231
https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1497420
https://github.com/lxc/lxc/issues/713

Change-Id: I3c427bc670815ee5bac677925b56df644f460271
"
openstack%2Fironic-python-agent~master~I37d050877daabc9dc0a5821cf20a689652b26f34,openstack/ironic-python-agent,master,try-execute-ironic-lib,I37d050877daabc9dc0a5821cf20a689652b26f34,Use try_execute from ironic-lib,MERGED,2021-02-25 13:46:27.000000000,2021-03-01 13:55:55.000000000,2021-03-01 13:54:15.000000000,47,62,0,777591,0459c61c8d24c3b7fe950a4d533ed4192448c52e,8,3,1,3,23851,Riccardo Pittau,elfosardo,"Use try_execute from ironic-lib

Also adapt unit tests

Change-Id: I37d050877daabc9dc0a5821cf20a689652b26f34
"
openstack%2Fmagnum-tempest-plugin~master~I6289066e4e2525dd8ac2cab16713cb2df265fddd,openstack/magnum-tempest-plugin,master,,I6289066e4e2525dd8ac2cab16713cb2df265fddd,"Revert ""Switch to using Focal for testing""",ABANDONED,2021-03-01 11:24:58.000000000,2021-03-01 13:34:25.000000000,,6,0,0,777909,273713bbdbb2d6240e3d8d8c3906e3ea0fbb35c2,3,4,1,1,28022,Bharat Kunwar,brtknr,"Revert ""Switch to using Focal for testing""

This reverts commit 83a43fdca4bca8e61d2bb76bfcca5e6d01f971e9.

Reason for revert: this is breaking CI jobs

Change-Id: I6289066e4e2525dd8ac2cab16713cb2df265fddd
"
openstack%2Fmagnum~stable%2Fvictoria~I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b,openstack/magnum,stable/victoria,fix-ci-sqlalchemy-stable/victoria,I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b,Fix database migrations,ABANDONED,2021-02-17 10:27:14.000000000,2021-03-01 13:33:16.000000000,,6,1,0,775912,512bf5c3209213f8244ce008ab4f8502b481ee9c,3,2,1,2,28022,Bharat Kunwar,brtknr,"Fix database migrations

The pattern of adding a column and then reading a table with it
no longer works in SQLAlchemy 1.3.20. This has been reported
upstream [1].

[1] https://github.com/sqlalchemy/sqlalchemy/issues/5669

Change-Id: I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b
(cherry picked from commit f5cf6b958c20e560d2baff3fb21adcb4ce4a3aa4)
"
openstack%2Fopenstack-ansible-tests~master~I961f58d5b24aa5e11e2a4db39f2daff3c8330063,openstack/openstack-ansible-tests,master,,I961f58d5b24aa5e11e2a4db39f2daff3c8330063,test-ansible-env-prep: simplify ara setup,MERGED,2021-02-25 22:27:02.000000000,2021-03-01 13:21:07.000000000,2021-03-01 13:19:30.000000000,2,7,0,777697,a8c775dfda2e31f2092ab4f8d1f51c8fe4f34b53,8,3,1,1,9061,David Moreau Simard,dmsimard,"test-ansible-env-prep: simplify ara setup

The intent was to be able to test easily with Depends-On patches with a
repository prepared by Zuul but ara is being retired from
opendev.org/recordsansible/ara and will no longer be available at that location.

Change-Id: I961f58d5b24aa5e11e2a4db39f2daff3c8330063
"
openstack%2Fneutron~master~Ibd8897ec04843a5d6eb8639cc0c6ef0e2b9d2a3b,openstack/neutron,master,bug/1914754,Ibd8897ec04843a5d6eb8639cc0c6ef0e2b9d2a3b,"[FT] Reset ""AgentCache"" singleton in functional tests",MERGED,2021-02-05 16:29:20.000000000,2021-03-01 13:18:52.000000000,2021-03-01 13:16:41.000000000,5,0,1,774284,27da92d634168960e15aa9faf3776bcf357d46dd,64,7,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[FT] Reset ""AgentCache"" singleton in functional tests

Reset ""AgentCache"" singleton instance after each functional test
execution. That will remove any stored information from the previous
tests.

Related-Bug: #1914754

Change-Id: Ibd8897ec04843a5d6eb8639cc0c6ef0e2b9d2a3b
"
openstack%2Fopenstack-ansible-ops~master~I4a87c3cc9562437ff7548bb523b9f94684bed05b,openstack/openstack-ansible-ops,master,c1122,I4a87c3cc9562437ff7548bb523b9f94684bed05b,Correct spelling mistakes,MERGED,2018-11-22 11:49:56.000000000,2021-03-01 12:40:18.000000000,2021-03-01 12:38:28.000000000,7,7,0,619530,f67e6b376e82053c1c0ea6d5db79ea5468e27ec9,26,5,4,3,27549,chenge,chenge,"Correct spelling mistakes

Change-Id: I4a87c3cc9562437ff7548bb523b9f94684bed05b
"
openstack%2Fpuppet-tripleo~master~I3f9004fd8abffefe8cfeee9011ed0e323652fdd1,openstack/puppet-tripleo,master,glance-cinder-mountpoint,I3f9004fd8abffefe8cfeee9011ed0e323652fdd1,Handle cinder_mount_point_base for cinder mounting needs,MERGED,2021-02-02 14:47:17.000000000,2021-03-01 12:27:42.000000000,2021-03-01 12:27:42.000000000,8,0,1,773699,a2dbbaedabf81ac8dd5438eee3857c4a29b95f1a,16,6,3,2,19138,Pranali Deore,PranaliD,"Handle cinder_mount_point_base for cinder mounting needs

Adding cinder_mount_point_base parameter, to provide the
mount point for *fs volumes.

Depends-On: Ib724f6e895716847827be48ed08b01a7a312338f
Change-Id: I3f9004fd8abffefe8cfeee9011ed0e323652fdd1
"
openstack%2Fopenstack-ansible-ops~master~I1a91b36a2b0d01a1c42ba21e735ba261201ac1a4,openstack/openstack-ansible-ops,master,,I1a91b36a2b0d01a1c42ba21e735ba261201ac1a4,"Switch deprecated options to ""modern"" equivalents",MERGED,2021-01-11 06:40:51.000000000,2021-03-01 12:24:53.000000000,2021-03-01 12:23:31.000000000,3,3,0,770064,0bb4435caab2891f3b17580d33ff25e95dd517b9,10,3,2,1,25600,Ebbex,ebbex,"Switch deprecated options to ""modern"" equivalents

Change-Id: I1a91b36a2b0d01a1c42ba21e735ba261201ac1a4
"
openstack%2Fkolla-ansible~master~I69b1931997cf38733093639e94abafa8031f0ac6,openstack/kolla-ansible,master,,I69b1931997cf38733093639e94abafa8031f0ac6,Avoid errors in apparmor chrony and libvirt profile removal in Debian,NEW,2021-02-17 18:37:49.000000000,2021-03-01 12:20:31.000000000,,26,0,12,776252,d1c9a18a489deb3a3d5fda3f6937a93f139a6cbe,17,2,4,2,33105,Ana Peric,anperic,"Avoid errors in apparmor chrony and libvirt profile removal in Debian

This patch should fix the issue described in Bug ID #1915549, where the second run of kolla deploy,
or better kolla bootstrap-servers will fail.
The failure is due to that fact that we can't remove already removed chronyd profile from apparmor.

This patch focuses on deeper check using apparmor_status to make sure that chronyd is not there,
before one even tries to do a removal.
Additionally the same logic has been applied to libvirtd profile removal for now for Ubuntu
only (as it did exist for Ubuntu only so far).
This can be changed to catch entire Debian os_family for libvirt.

Closes-Bug: #1915549
Change-Id: I69b1931997cf38733093639e94abafa8031f0ac6
"
openstack%2Fkayobe~stable%2Ftrain~I6bc8da2b8da903e09b97df8cd95c68a562c11db9,openstack/kayobe,stable/train,,I6bc8da2b8da903e09b97df8cd95c68a562c11db9,CI: Fix overcloud and seed VM jobs on vexxhost clouds,MERGED,2021-03-01 06:51:37.000000000,2021-03-01 12:18:17.000000000,2021-03-01 12:16:26.000000000,4,0,0,777932,38d0904fc82047fe6787c31c895e260c554a89f3,10,4,2,1,15197,Pierre Riteau,priteau,"CI: Fix overcloud and seed VM jobs on vexxhost clouds

The issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,
which applied some fixes for CentOS 8.3, and inadvertently removed
the Tenks variable that forces the use of qemu for 'bare metal' VMs.
This lead to autodetection of KVM, which does not work well when nested
in all CI cloud providers.

This change fixes the issue by forcing the use of qemu for the overcloud
once more.

Change-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9
(cherry picked from commit f9d9afcfba09ef73c6663a38fb60b703caeb56c7)
"
openstack%2Fkayobe~stable%2Fussuri~I6bc8da2b8da903e09b97df8cd95c68a562c11db9,openstack/kayobe,stable/ussuri,,I6bc8da2b8da903e09b97df8cd95c68a562c11db9,CI: Fix overcloud and seed VM jobs on vexxhost clouds,MERGED,2021-03-01 06:49:47.000000000,2021-03-01 12:17:49.000000000,2021-03-01 12:16:21.000000000,8,0,0,777931,8eadb255a7edbe5cd1483f510b8108eaf9e5dff8,9,4,1,2,15197,Pierre Riteau,priteau,"CI: Fix overcloud and seed VM jobs on vexxhost clouds

The issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,
which applied some fixes for CentOS 8.3, and inadvertently removed
the Tenks variable that forces the use of qemu for 'bare metal' VMs.
This lead to autodetection of KVM, which does not work well when nested
in all CI cloud providers.

This change fixes the issue by forcing the use of qemu for the overcloud
once more. It also adds a similar option for the seed VM job.

Change-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9
(cherry picked from commit f9d9afcfba09ef73c6663a38fb60b703caeb56c7)
"
openstack%2Foctavia~stable%2Ftrain~I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,openstack/octavia,stable/train,,I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,Support deletion of all tags,MERGED,2021-02-02 08:45:38.000000000,2021-03-01 12:03:10.000000000,2021-03-01 12:01:31.000000000,20,5,0,773610,a94e5af899936e3fb7e554cfccb4d66903f34c6b,11,4,1,2,29244,Gregory Thiemonge,gthiemonge,"Support deletion of all tags

Add support for removal of all tags by PUTing empty tags array.

Also moved assignment after initial session query for the
object in the listener update path.

Conflicts:
	octavia/db/repositories.py

Task: #41009
Story: #2008220

Change-Id: I7488f2fae61917f6d4a56cedd05bace7c5e2bc70
Signed-off-by: Andrew Karpow <andrew.karpow@sap.com>
(cherry picked from commit 7ad022379ff2e366d3dfd73113d4619b0137551c)
(cherry picked from commit adb4e78e4439181f57c17f277bad0cd325f219cf)
(cherry picked from commit 95a97cf1eba85222e4ff683b88878f0f030a2f11)
"
openstack%2Fmagnum-tempest-plugin~master~I6baad8e3bf640959ee9e34b8e5fdef1a0bf9295b,openstack/magnum-tempest-plugin,master,,I6baad8e3bf640959ee9e34b8e5fdef1a0bf9295b,Switch to using Focal for testing,MERGED,2021-01-06 07:21:37.000000000,2021-03-01 11:58:00.000000000,2021-02-17 09:45:22.000000000,0,6,0,769461,83a43fdca4bca8e61d2bb76bfcca5e6d01f971e9,21,4,4,1,22623,Erik Olof Gunnar Andersson,eoandersson,"Switch to using Focal for testing

Depends-On: https://review.opendev.org/c/openstack/magnum/+/774142
Change-Id: I6baad8e3bf640959ee9e34b8e5fdef1a0bf9295b
"
openstack%2Fcharm-rabbitmq-server~master~Ia819cb03d30f6b4e0a04cc388e7243849800455a,openstack/charm-rabbitmq-server,master,bug/1871442,Ia819cb03d30f6b4e0a04cc388e7243849800455a,Clarify TLS,MERGED,2021-02-24 20:46:22.000000000,2021-03-01 11:51:06.000000000,2021-03-01 11:51:06.000000000,27,29,3,777467,a00ecabe6728e7959e14a0871e1f493a3cca2d6d,17,4,3,2,30561,Peter Matulis,pmatulis,"Clarify TLS

* Make TLS simpler and more accurate.

* Apply README template.

* Adjust config.yaml re use of Vault.

Related-Bug: #1871442

Change-Id: Ia819cb03d30f6b4e0a04cc388e7243849800455a
"
openstack%2Fironic-inspector~master~I945a33a50caf1ceef3cf86a2a68fac77ceb53ee8,openstack/ironic-inspector,master,victoria-reno-versions,I945a33a50caf1ceef3cf86a2a68fac77ceb53ee8,Add release version to release notes,MERGED,2021-02-01 09:10:52.000000000,2021-03-01 11:47:52.000000000,2021-03-01 11:45:28.000000000,3,3,0,773316,f47fbd60a1afb188a91cb0a65521b589420891dc,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Add release version to release notes

Change-Id: I945a33a50caf1ceef3cf86a2a68fac77ceb53ee8
"
openstack%2Fironic-python-agent~master~I66b0990acaec45b1635795563987b99f9fa04ac7,openstack/ironic-python-agent,master,,I66b0990acaec45b1635795563987b99f9fa04ac7,Allow clean_configuration to run against full-device arrays,MERGED,2021-02-27 02:45:17.000000000,2021-03-01 11:44:14.000000000,2021-03-01 11:42:34.000000000,55,0,0,777854,ab267aabdd84e4cdf6496ec3a11fcb3580d542bd,15,5,3,4,1004,Mohammed Naser,mnaser,"Allow clean_configuration to run against full-device arrays

At the moment, it is not possible for Ironic to clean up a
RAID array that is built from an entire device.  This patch
allows it to do so by overriding the behaviour of attempting
to find the device name if the device names does not end with
a number and is a real block device.

Story: #2008663
Task: #41948
Change-Id: I66b0990acaec45b1635795563987b99f9fa04ac7
"
openstack%2Fpuppet-nova~master~I6c627855d6c90ae8ad18898fb8c2adb8d73477e1,openstack/puppet-nova,master,cleanup-neutron-opts,I6c627855d6c90ae8ad18898fb8c2adb8d73477e1,Clean up the deprecated neutron_* parameters,MERGED,2021-01-23 23:42:16.000000000,2021-03-01 11:42:42.000000000,2021-03-01 11:40:59.000000000,34,231,0,772175,d18ad5bcc7358db9c71f1326f8b6a83784fdf725,16,3,2,3,9816,Takashi Kajinami,kajinamit,"Clean up the deprecated neutron_* parameters

This change removes the deprecated neutorn_* parameters from
nova::network::neutron, which were deprecated during the previous
Victoria cycle.

Change-Id: I6c627855d6c90ae8ad18898fb8c2adb8d73477e1
"
openstack%2Fironic~master~Ife77ccc5e2aae696ffac14fa78f10125456f9b01,openstack/ironic,master,default-check-exit-code,Ife77ccc5e2aae696ffac14fa78f10125456f9b01,[trivial] Remove default parameter from execute,MERGED,2021-02-24 09:38:16.000000000,2021-03-01 11:29:10.000000000,2021-03-01 11:27:26.000000000,6,15,0,777348,f541d517c138184ae0c7d14601f3d34bbfe79de3,26,4,1,3,23851,Riccardo Pittau,elfosardo,"[trivial] Remove default parameter from execute

The param check_exit_code from the processutils extension execute has
default already at [0]
See:
https://opendev.org/openstack/oslo.concurrency/src/branch/master/oslo_concurrency/processutils.py#L214

Change-Id: Ife77ccc5e2aae696ffac14fa78f10125456f9b01
"
openstack%2Foctavia~stable%2Ftrain~Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,openstack/octavia,stable/train,,Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,Fix nf_conntrack_buckets sysctl in Amphora,MERGED,2021-02-02 08:14:43.000000000,2021-03-01 11:19:14.000000000,2021-03-01 11:17:37.000000000,9,1,0,773601,bd92b4bf414e0c7a34bcd295810b02128ab0d7c1,10,3,1,3,29244,Gregory Thiemonge,gthiemonge,"Fix nf_conntrack_buckets sysctl in Amphora

Setting nf_conntrack_buckets in the amphora namespace fails because this
sysctl can only be set in the initial namespace (cf kernel doc at
https://www.kernel.org/doc/Documentation/networking/nf_conntrack-sysctl.txt)

This commit allows to set nf_conntrack_buckets in the initial namespace,
the value is then inherited by other namespaces.

Conntrack is not enabled in the main namespace, the new default value
doesn't affect this namespace behavior.

Conflicts:
	elements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel

Story: 2008028
Task: 40682

Change-Id: Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615
(cherry picked from commit 64a301d4ec85a1bc9b208e60d7958a89e6972976)
(cherry picked from commit dd1580d332c2191e8d28bab692c1fa08e3e8ae80)
(cherry picked from commit 9f1307affc328e5ca58a2e814ed55885ed0710c7)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I0790830e1c21520df2534d2f3b1ea96010064355,openstack/kolla-ansible,stable/victoria,bug/1901768-stable/victoria,I0790830e1c21520df2534d2f3b1ea96010064355,docs: Improve multinode Docker registry setup,MERGED,2021-02-08 08:57:28.000000000,2021-03-01 11:13:20.000000000,2021-03-01 11:11:16.000000000,44,57,0,774398,9698fa1533ef707fc4c7afb3918709254ca207d7,9,4,1,1,14826,Mark Goddard,mgoddard,"docs: Improve multinode Docker registry setup

The multinode guide hints at how to setup the registry as a registry
mirror, however it does not provide all information necessary. This
change fixes that, and separates the local registry and registry mirror
cases.

Change-Id: I0790830e1c21520df2534d2f3b1ea96010064355
Closes-Bug: #1901768
(cherry picked from commit 34cce4c57e9a609899f2922db83878500495f825)
"
openstack%2Fkolla-ansible~stable%2Ftrain~I0790830e1c21520df2534d2f3b1ea96010064355,openstack/kolla-ansible,stable/train,bug/1901768-stable/train,I0790830e1c21520df2534d2f3b1ea96010064355,docs: Improve multinode Docker registry setup,MERGED,2021-02-08 08:57:46.000000000,2021-03-01 11:13:16.000000000,2021-03-01 11:11:27.000000000,44,57,0,774400,d55c82159bd55723b44e39331f70c70a53872a97,8,3,1,1,14826,Mark Goddard,mgoddard,"docs: Improve multinode Docker registry setup

The multinode guide hints at how to setup the registry as a registry
mirror, however it does not provide all information necessary. This
change fixes that, and separates the local registry and registry mirror
cases.

Change-Id: I0790830e1c21520df2534d2f3b1ea96010064355
Closes-Bug: #1901768
(cherry picked from commit 34cce4c57e9a609899f2922db83878500495f825)
"
openstack%2Fkolla-ansible~stable%2Fussuri~I0790830e1c21520df2534d2f3b1ea96010064355,openstack/kolla-ansible,stable/ussuri,bug/1901768-stable/ussuri,I0790830e1c21520df2534d2f3b1ea96010064355,docs: Improve multinode Docker registry setup,MERGED,2021-02-08 08:57:35.000000000,2021-03-01 11:13:15.000000000,2021-03-01 11:11:06.000000000,44,57,0,774399,150445c5bf565851cecb12b144a1edcaaccc553f,9,4,1,1,14826,Mark Goddard,mgoddard,"docs: Improve multinode Docker registry setup

The multinode guide hints at how to setup the registry as a registry
mirror, however it does not provide all information necessary. This
change fixes that, and separates the local registry and registry mirror
cases.

Change-Id: I0790830e1c21520df2534d2f3b1ea96010064355
Closes-Bug: #1901768
(cherry picked from commit 34cce4c57e9a609899f2922db83878500495f825)
"
openstack%2Fkolla~stable%2Fvictoria~Ic638516eb92d24ad247a7866fd1b5e2ac0400388,openstack/kolla,stable/victoria,bug/1913952-stable/victoria,Ic638516eb92d24ad247a7866fd1b5e2ac0400388,Make kolla_set_configs open files in binary mode,MERGED,2021-02-15 13:53:48.000000000,2021-03-01 11:13:10.000000000,2021-03-01 11:10:51.000000000,30,1,0,775593,f72a4b36e49cb4c6f86f2ad4069f77892124b9fd,13,3,1,3,30491,Radosław Piliszek,yoctozepto,"Make kolla_set_configs open files in binary mode

This fixes comparisons when files are not Unicode-encoded.

A relevant unit test is included.
It can be used as a base for other _cmp_file method unit tests
if the need arises.

Change-Id: Ic638516eb92d24ad247a7866fd1b5e2ac0400388
Closes-Bug: #1913952
(cherry picked from commit 8e3027c5427ecfb89fe48ad38eb8189b1608d0fc)
"
openstack%2Fopenstack-ansible-ops~master~I74a4788ff25c5ef45c064d1f8309002b1731ad7a,openstack/openstack-ansible-ops,master,elk_adjustments,I74a4788ff25c5ef45c064d1f8309002b1731ad7a,"Fix elk 7 {conf,env}.d sample",MERGED,2020-11-11 11:00:47.000000000,2021-03-01 11:04:20.000000000,2021-03-01 11:02:38.000000000,46,8,0,762331,7dd097344f6fbb88af9aa52113f85cb4ab7a3b05,24,4,6,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix elk 7 {conf,env}.d sample

Neither elastic nor logstash elements were present in container_skel
while they were referenced in component_skel which is not valid for
dynamic_inventory. So attempt to generate it resulted in:
KeyError: 'elastic-logstash' here [1]

Also elaborate more on conf.env sample as per the intents of
https://review.opendev.org/c/openstack/openstack-ansible-ops/+/707849

[1] https://opendev.org/openstack/openstack-ansible/src/branch/master/osa_toolkit/generate.py#L266

Change-Id: I74a4788ff25c5ef45c064d1f8309002b1731ad7a
"
openstack%2Fnova~master~I7239c7fc108b83decc728a01392640806ff32800,openstack/nova,master,bp/allow-secure-boot-for-qemu-kvm-guests,I7239c7fc108b83decc728a01392640806ff32800,WIP: Store UEFI'ness of guest as attribute,ABANDONED,2021-02-15 18:33:44.000000000,2021-03-01 11:03:40.000000000,,4,0,0,775692,c947fcaf642c86eeaab2c78d241e190732e354f2,6,1,1,1,15334,Stephen Finucane,sfinucan,"WIP: Store UEFI'ness of guest as attribute

This avoids the need to inspect the image metadata each and every time.

Change-Id: I7239c7fc108b83decc728a01392640806ff32800
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I5bc2a18a41b29628fd14359023db9bb5b6b2a335,openstack/nova,master,bp/allow-secure-boot-for-qemu-kvm-guests,I5bc2a18a41b29628fd14359023db9bb5b6b2a335,libvirt: Add secure boot loader config support,ABANDONED,2021-02-15 18:33:44.000000000,2021-03-01 11:03:38.000000000,,16,17,0,775687,d12ddeee31806b83eeb6a7d3a1eaf5376f37b067,7,1,1,2,15334,Stephen Finucane,sfinucan,"libvirt: Add secure boot loader config support

Add the knobs to our XML element generation code needed for secure boot
support, namely setting the 'secure' attribute of the
'/domain/os/loader' element.

Change-Id: I5bc2a18a41b29628fd14359023db9bb5b6b2a335
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~Ib18fcc8e5d5dd856cbfc21cc3d7a7d07115ce6b3,openstack/nova,master,bp/allow-secure-boot-for-qemu-kvm-guests,Ib18fcc8e5d5dd856cbfc21cc3d7a7d07115ce6b3,WIP: libvirt: Stop checking non-host architectures for SEV,ABANDONED,2021-02-15 18:33:44.000000000,2021-03-01 11:03:35.000000000,,17,15,0,775693,594d2aca47849a5a5420c6193ee9f19306e42cd3,8,1,1,1,15334,Stephen Finucane,sfinucan,"WIP: libvirt: Stop checking non-host architectures for SEV

nova does not currently support booting guests with non-host
architectures. There's no need to keep this code around until that is
resolved.

Change-Id: Ib18fcc8e5d5dd856cbfc21cc3d7a7d07115ce6b3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-common~stable%2Fussuri~I38fe6419a6e18693adad79083a589f3a417de02f,openstack/tripleo-common,stable/ussuri,tripleoclient-u,I38fe6419a6e18693adad79083a589f3a417de02f,Add cloud-admin user to tripleoclient container,MERGED,2021-02-18 15:57:00.000000000,2021-03-01 11:02:56.000000000,2021-03-01 11:01:34.000000000,9,0,0,776484,090ff9b8ecd0e90fcfeba64b4f6794be72d1ae2b,8,6,1,3,17216,Martin Schuppert,mcschupp,"Add cloud-admin user to tripleoclient container

osp-director-operator use tripleoclient pod to render the ansible
playbooks in an ephemeral heat stack. The cloud-admin user is also
used as default deployment user to run the ansible playbooks to
deploy the overcloud.

This also adds osc-placement to the container image which allows
to query placment direct using osc.

Change-Id: I38fe6419a6e18693adad79083a589f3a417de02f
(cherry picked from commit 24c311aab02b8e50b817bff4e008a0d8b32443ca)
(cherry picked from commit 4bac1cb80b4f5c216b2cc0eaab6112f3294a0b24)
"
openstack%2Fnova~master~I12990eaca3820e56047e4d0e526c436fd2cfcf31,openstack/nova,master,bug/1909120,I12990eaca3820e56047e4d0e526c436fd2cfcf31,Remove short call timeout from func test,MERGED,2021-02-24 18:20:15.000000000,2021-03-01 11:00:51.000000000,2021-03-01 10:59:08.000000000,0,3,9,777447,c8478e40bdb996d5e0a1f01ae0ae55e6926f318d,18,5,1,1,9708,Balazs Gibizer,gibi,"Remove short call timeout from func test

The bugfix I759aa36dc00a6c0612b9755dacd9aa414c408498 ensured that nova
rejectes a volume detach if the compute is down. But the func test still
has short rpc timeout set which sometimes causes that the server creates
times out on a slow node. Before the bugfix the short timeout was needed
to speed up the test but after the fix it is not needed any more so it
is removed to stabilize the test.

Change-Id: I12990eaca3820e56047e4d0e526c436fd2cfcf31
Related-Bug: #1909120
"
openstack%2Ftripleo-common~stable%2Fvictoria~I38fe6419a6e18693adad79083a589f3a417de02f,openstack/tripleo-common,stable/victoria,tripleoclient-v,I38fe6419a6e18693adad79083a589f3a417de02f,Add cloud-admin user to tripleoclient container,MERGED,2021-02-18 15:55:24.000000000,2021-03-01 10:56:33.000000000,2021-03-01 10:55:10.000000000,9,0,0,776482,4bac1cb80b4f5c216b2cc0eaab6112f3294a0b24,24,6,1,3,17216,Martin Schuppert,mcschupp,"Add cloud-admin user to tripleoclient container

osp-director-operator use tripleoclient pod to render the ansible
playbooks in an ephemeral heat stack. The cloud-admin user is also
used as default deployment user to run the ansible playbooks to
deploy the overcloud.

This also adds osc-placement to the container image which allows
to query placment direct using osc.

Change-Id: I38fe6419a6e18693adad79083a589f3a417de02f
(cherry picked from commit 24c311aab02b8e50b817bff4e008a0d8b32443ca)
"
openstack%2Fkolla~stable%2Fussuri~Ic638516eb92d24ad247a7866fd1b5e2ac0400388,openstack/kolla,stable/ussuri,bug/1913952-stable/victoria-stable/ussuri,Ic638516eb92d24ad247a7866fd1b5e2ac0400388,Make kolla_set_configs open files in binary mode,MERGED,2021-02-15 13:54:12.000000000,2021-03-01 10:56:10.000000000,2021-03-01 10:54:07.000000000,30,1,0,775594,dc5fe2f0eb19601236a54deeeee4ebc0ccd519d9,10,4,1,3,30491,Radosław Piliszek,yoctozepto,"Make kolla_set_configs open files in binary mode

This fixes comparisons when files are not Unicode-encoded.

A relevant unit test is included.
It can be used as a base for other _cmp_file method unit tests
if the need arises.

Change-Id: Ic638516eb92d24ad247a7866fd1b5e2ac0400388
Closes-Bug: #1913952
(cherry picked from commit 8e3027c5427ecfb89fe48ad38eb8189b1608d0fc)
"
openstack%2Fopenstack-ansible-os_zun~master~I4532d9975a2e68a12a7755ca3798a59f4928593c,openstack/openstack-ansible-os_zun,master,zun-prune,I4532d9975a2e68a12a7755ca3798a59f4928593c,Improve image and network cleanup procedure,MERGED,2021-01-18 13:03:44.000000000,2021-03-01 10:46:49.000000000,2021-03-01 10:45:08.000000000,29,10,6,771218,b5bd190e24d19f59dfe8e66bdee0b1298bcfd02f,26,4,3,4,31542,Andrew Bonney,andrewbonney,"Improve image and network cleanup procedure

This adds periodic cleanup of the directory which zun uses to
temporarily cache images loaded from Glance to avoid it becoming
too large.

Docker image cleanup is adjusted to make it less aggressive as
the 'until' filtering has been seen to clear images which were
created more recently than one hour.

The network pruning is removed as this causes zun to become out
of sync with Docker which can prevent creation of new containers
on pruned networks.

Finally, the default is to leave cleanup disabled so that it can
be enabled purely based upon user preference.

As Systemd timers cannot be disabled, this is achieved via a file
presence check with can be overridden for manual execution.

Change-Id: I4532d9975a2e68a12a7755ca3798a59f4928593c
"
openstack%2Fcharm-neutron-gateway~master~I4561d693034d6e0181def787a53e95232d05fca7,openstack/charm-neutron-gateway,master,rm-proposed,I4561d693034d6e0181def787a53e95232d05fca7,Remove -proposed from the focal-ussuri bundle,MERGED,2021-02-23 09:09:59.000000000,2021-03-01 10:44:09.000000000,2021-03-01 10:44:09.000000000,1,1,0,777066,528d858907280d59027a7231586667b0a244f5dd,13,3,1,1,31289,Aurelien Lourot,lourot,"Remove -proposed from the focal-ussuri bundle

The -proposed bucket contains a buggy pip version at
the moment which leads to `pip freeze` failures in
placement's install hook. A similar change has
already been made in another bundle:
https://review.opendev.org/c/openstack/charm-neutron-openvswitch/+/775801

Change-Id: I4561d693034d6e0181def787a53e95232d05fca7
"
openstack%2Fpython-monascaclient~master~Ieeb3770c5b378218c218d1bcd91b962c4978f1b8,openstack/python-monascaclient,master,bump_prettytable_version,Ieeb3770c5b378218c218d1bcd91b962c4978f1b8,Uncap PrettyTable,MERGED,2021-02-23 15:00:13.000000000,2021-03-01 10:41:54.000000000,2021-03-01 10:40:09.000000000,1,1,2,777144,75e44a1e5f9d0d673ed1a4a5adfbb8a2c6061b76,15,3,3,1,15197,Pierre Riteau,priteau,"Uncap PrettyTable

The requirements project uncapped PrettyTable [1] as it is now
maintained as a Jazzband project [2]. Keeping a local cap makes the
requirements-check job fail:

ERROR: Requirement for package PrettyTable excludes a version not excluded in the global list.
  Local settings : {'<0.8'}
  Global settings: set()
  Unexpected     : set()

[1] https://review.opendev.org/c/openstack/requirements/+/774917
[2] https://github.com/jazzband/prettytable

Change-Id: Ieeb3770c5b378218c218d1bcd91b962c4978f1b8
"
openstack%2Fansible-role-python_venv_build~master~I79a10a3f774246ab9c57313f19f3804f9422e08c,openstack/ansible-role-python_venv_build,master,,I79a10a3f774246ab9c57313f19f3804f9422e08c,Gather facts for repo containers,MERGED,2021-02-25 10:20:41.000000000,2021-03-01 10:39:42.000000000,2021-03-01 10:37:57.000000000,7,7,1,777559,f487ab46ba23b8d3f729900bd8bcbe7ef4d2d632,11,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Gather facts for repo containers

We can't evaluate `venv_wheel_build_enable` without gathered facts about
repo containers. And default facts cache is 1day. After that time role
will fail to evaluate the variable.

Change-Id: I79a10a3f774246ab9c57313f19f3804f9422e08c
"
openstack%2Fneutron~master~I1a5205303ebede533ffa6b3b85d4ec2f4b112426,openstack/neutron,master,get_alloc_routerports,I1a5205303ebede533ffa6b3b85d4ec2f4b112426,"Implement ""IPAllocation"" router ports allocated retrieval",MERGED,2021-02-19 13:59:28.000000000,2021-03-01 10:36:13.000000000,2021-03-01 10:33:42.000000000,20,8,0,776643,b7956d80ca481864502ba16a7c3a5f47891e11c4,38,5,3,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Implement ""IPAllocation"" router ports allocated retrieval

Implemented a method, in ""IPAllocation"" OVO class, to retrieve
the allocated router ports.

The new query used dispenses with one of the inner join queries
required in the former query, making it faster.

This method allows to filter by gateway IP address and can return the
whole query list or just the first register found.

Trivial-Fix

Change-Id: I1a5205303ebede533ffa6b3b85d4ec2f4b112426
"
openstack%2Fcharm-ceph-radosgw~master~I53ab9ece631bbaeed6e3cebba4ffbbcb1e32193d,openstack/charm-ceph-radosgw,master,bug/1915351,I53ab9ece631bbaeed6e3cebba4ffbbcb1e32193d,Remove reference to ntp package,MERGED,2021-02-25 09:31:29.000000000,2021-03-01 10:36:06.000000000,2021-03-01 10:36:06.000000000,0,5,0,777519,1e8e89e5826f2daeccaf0ff06442db9747151cc9,14,4,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Remove reference to ntp package

This is motivated by the fact that NTP will be managed by
operators through the NTP charm. In the other Ceph charms,
NTP / Chrony are removed by the charm if the charm is in a
container because the ceph-base package will install it;
however, this is unneceessary for the radosgw package
because it doesn't depend on the ceph-common package.

Change-Id: I53ab9ece631bbaeed6e3cebba4ffbbcb1e32193d
Closes-Bug: #1915351
"
openstack%2Fironic-python-agent-builder~master~I6f98d0afafa2acd746e67e23df2958a0ed3ac930,openstack/ironic-python-agent-builder,master,direct-rescue-pass,I6f98d0afafa2acd746e67e23df2958a0ed3ac930,Pass rescue user password during user creation,ABANDONED,2021-02-25 15:50:18.000000000,2021-03-01 10:34:20.000000000,,7,5,0,777611,b529609306f25c36848edd124f7185d88e1bb716,4,1,2,1,23851,Riccardo Pittau,elfosardo,"Pass rescue user password during user creation

This avoids issues that could happen with echo and pipe.
Hopefully.

Change-Id: I6f98d0afafa2acd746e67e23df2958a0ed3ac930
"
openstack%2Fswift~stable%2Ftrain~Icbe504fd1b7680ab45254fe9acb5010754222dd3,openstack/swift,stable/train,train-sharding,Icbe504fd1b7680ab45254fe9acb5010754222dd3,Use swiftclient Connections in sharding probe tests,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 10:30:55.000000000,2021-03-01 10:25:41.000000000,6,7,1,774341,1f8c16fcaa9a2fe95c325a1c8b526c09bbf227b6,15,2,3,1,597,Pete Zaitcev,zaitcev,"Use swiftclient Connections in sharding probe tests

This gets us retries ""for free"" and should reduce gate flakiness.

Cherry-Picked-From: Ia2e4c94f246230a3e25e4557b4b2c1a3a67df756
Change-Id: Icbe504fd1b7680ab45254fe9acb5010754222dd3
"
openstack%2Fswift~stable%2Fussuri~I6cff16a00e48c4d069000dd54c6f4cb9f02f773d,openstack/swift,stable/ussuri,ussuri-sharding,I6cff16a00e48c4d069000dd54c6f4cb9f02f773d,Avoid loops when gathering container listings from shards,MERGED,2021-02-24 03:15:09.000000000,2021-03-01 10:29:59.000000000,2021-03-01 10:25:49.000000000,178,5,0,777289,e69b3c60feb8c60cae5ec27508fd6f860d8c14e0,11,3,1,3,597,Pete Zaitcev,zaitcev,"Avoid loops when gathering container listings from shards

Previously the proxy container controller could, in corner cases, get
into a loop while building a listing for a sharded container. For
example, if a root has a single shard then the proxy will be
redirected to that shard, but if that shard has shrunk into the root
then it will redirect the proxy back to the root, and so on until the
root is updated with the shard's shrunken status.

There is already a guard to prevent the proxy fetching shard ranges
again from the same container that it is *currently* querying for
listing parts. That deals with the case when a container fills in gaps
in its listing shard ranges with a reference to itself. This patch
extends that guard to prevent the proxy fetching shard ranges again
from any container that has previously been queried for listing parts.

Cherry-Picked-From: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b
Change-Id: I6cff16a00e48c4d069000dd54c6f4cb9f02f773d
"
openstack%2Fneutron~master~I97ada62484023b9833ed12afd68eb4c8d337fd1f,openstack/neutron,master,bug/1896734,I97ada62484023b9833ed12afd68eb4c8d337fd1f,"Improve ""get_devices_with_ip"" performance",MERGED,2021-02-24 15:04:26.000000000,2021-03-01 10:29:56.000000000,2021-03-01 10:24:44.000000000,105,56,1,777401,a6cdf273c06a3bba713d7b8d0ef3a9b71b0ffc57,23,5,3,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Improve ""get_devices_with_ip"" performance

As reported in LP#1896734, there is a limit in the size of information
that can be transmitted in one single message between an application
and the privsep daemon. The read socket buffer is limited in size;
a message exceeding this size will generate an exception.

In order to limit the amount of information to be sent, this patch
improves the performance of ""get_devices_with_ip"". In the previous
implementation, the whole list of network devices from a namespace
was retrieved. In some environments, the list of devices could be
so big that the list returned by ""privileged.get_link_devices"" can
exceed the read buffer size (as reported in the LP bug when the
OVS agent tries to retrieve the list of IP addresses in the system).

Now the function calls ""privileged.get_ip_addresses"", that returns
a much smaller list. This patch is also reducing the number of system
calls to just one; the previous implementation was retrieving first
the devices link information list (that method was returning a much
bigger blob) and then, per device, retrieving the IP address
information.

Change-Id: I97ada62484023b9833ed12afd68eb4c8d337fd1f
Related-Bug: #1896734
"
openstack%2Fswift~stable%2Ftrain~Ia313663ae43d7041d710f4122d2537e5e601908d,openstack/swift,stable/train,train-sharding,Ia313663ae43d7041d710f4122d2537e5e601908d,Address a sharder/replicator race,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 10:29:13.000000000,2021-03-01 10:25:08.000000000,13,9,0,774338,87c1aa0e0701a35f7bd16913c7622f1445081423,21,2,3,2,597,Pete Zaitcev,zaitcev,"Address a sharder/replicator race

In the previous patch, we could clean up all container DBs, but only if
the daemons went in a specific order (which cannot be guaranteed in a
production system).

Once a reclaim age passes, there's a race: If the container-replicator
processes the root container before the container-sharder processes the
shards, the deleted shards would get reaped from the root so they won't
be available for the sharder. The shard containers then hang around
indefinitely.

Now, be willing to mark shard DBs as deleted even when we can't find our
own shard range in the root. Fortunately, the shard already knows that
its range has been deleted; we don't need to get that info from the root.

Cherry-Picked-From: If08bccf753490157f27c95b4038f3dd33d3d7f8c
Related-Change: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b
Change-Id: Ia313663ae43d7041d710f4122d2537e5e601908d
"
openstack%2Fnova~master~I0680d4e21f3e317ac702b55afef4c87e8acbfc3a,openstack/nova,master,bp/pci-socket-affinity,I0680d4e21f3e317ac702b55afef4c87e8acbfc3a,objects: Add 'socket' PCI NUMA affinity,MERGED,2021-01-27 16:58:06.000000000,2021-03-01 10:28:53.000000000,2021-03-01 10:26:14.000000000,41,15,9,772748,be80dfdc714d0f00c77d84d72703f7fea04d2f94,85,3,13,12,8864,Artom Lifshitz,artom,"objects: Add 'socket' PCI NUMA affinity

This patch adds the 'socket' value to the allowed PCI NUMA affinity
policies, both to the 'hw:pci_numa_affinity_policy' flavor extra spec,
and the 'hw_pci_numa_affinity_policy' image property.

For now the new value is a no-op and remains undocumented. It will be
wired-in in a subsequent patch.

Implements: blueprint pci-socket-affinity
Change-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a
"
openstack%2Fswift~stable%2Fussuri~Ifc5d1ae142f63520df49fe610c94b332dcea3180,openstack/swift,stable/ussuri,ussuri-sharding,Ifc5d1ae142f63520df49fe610c94b332dcea3180,Populate shrinking shards with shard ranges learnt from root,MERGED,2021-02-24 03:15:09.000000000,2021-03-01 10:28:35.000000000,2021-03-01 10:24:58.000000000,621,175,0,777288,18cdf9b5680b6d9a2201e9781771e3a5efac0355,11,3,1,6,597,Pete Zaitcev,zaitcev,"Populate shrinking shards with shard ranges learnt from root

Shard shrinking can be instigated by a third party modifying shard
ranges, moving one shard to shrinking state and expanding the
namespace of one or more other shard(s) to act as acceptors. These
state and namespace changes must propagate to the shrinking and
acceptor shards. The shrinking shard must also discover the acceptor
shard(s) into which it will shard itself.

The sharder audit function already updates shards with their own state
and namespace changes from the root. However, there is currently no
mechanism for the shrinking shard to learn about the acceptor(s) other
than by a PUT request being made to the shrinking shard container.

This patch modifies the shard container audit function so that other
overlapping shards discovered from the root are merged into the
audited shard's db. In this way, the audited shard will have acceptor
shards to cleave to if shrinking.

This new behavior is restricted to when the shard is shrinking. In
general, a shard is responsible for processing its own sub-shard
ranges (if any) and reporting them to root. Replicas of a shard
container synchronise their sub-shard ranges via replication, and do
not rely on the root to propagate sub-shard ranges between shard
replicas. The exception to this is when a third party (or
auto-sharding) wishes to instigate shrinking by modifying the shard
and other acceptor shards in the root container.  In other
circumstances, merging overlapping shard ranges discovered from the
root is undesirable because it risks shards inheriting other unrelated
shard ranges. For example, if the root has become polluted by
split-brain shard range management, a sharding shard may have its
sub-shards polluted by an undesired shard from the root.

During the shrinking process a shard range's own shard range state may
be either shrinking or, prior to this patch, sharded. The sharded
state could occur when one replica of a shrinking shard completed
shrinking and moved the own shard range state to sharded before other
replica(s) had completed shrinking. This makes it impossible to
distinguish a shrinking shard (with sharded state), which we do want
to inherit shard ranges, from a sharding shard (with sharded state),
which we do not want to inherit shard ranges.

This patch therefore introduces a new shard range state, 'SHRUNK', and
applies this state to shard ranges that have completed shrinking.
Shards are now restricted to inherit shard ranges from the root only
when their own shard range state is either SHRINKING or SHRUNK.

This patch also:

 - Stops overlapping shrinking shards from generating audit warnings:
   overlaps are cured by shrinking and we therefore expect shrinking
   shards to sometimes overlap.

 - Extends an existing probe test to verify that overlapping shard
   ranges may be resolved by shrinking a subset of the shard ranges.

 - Adds a --no-auto-shard option to swift-container-sharder to enable the
   probe tests to disable auto-sharding.

 - Improves sharder logging, in particular by decrementing ranges_todo
   when a shrinking shard is skipped during cleaving.

 - Adds a ShardRange.sort_key class method to provide a single definition
   of ShardRange sort ordering.

 - Improves unit test coverage for sharder shard auditing.

Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Cherry-Picked-From: I9034a5715406b310c7282f1bec9625fe7acd57b6
Change-Id: Ifc5d1ae142f63520df49fe610c94b332dcea3180
"
openstack%2Fswift~stable%2Ftrain~I23a91efd4b1ef909fff355ca18976b8da331f9bf,openstack/swift,stable/train,train-sharding,I23a91efd4b1ef909fff355ca18976b8da331f9bf,Refactor audit shard tests,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 10:25:31.000000000,2021-03-01 10:25:31.000000000,88,77,0,774340,3d8c9e8a3ec6b79b8634c116af5d20323eb1f43f,14,3,3,1,597,Pete Zaitcev,zaitcev,"Refactor audit shard tests

The existing tests cover a lot of behaviors and carry around a lot of
state that makes them hard to extend in a descriptive mannor to cover
new or changed behaviors.

Cherry-Picked-From: Ie52932d8d4a66b11c295d5568aa3a60895b84f3b
Change-Id: I23a91efd4b1ef909fff355ca18976b8da331f9bf
"
openstack%2Fswift~stable%2Ftrain~I9e3b6391b3ea85ecd147916a2bf0f002c35fe5e3,openstack/swift,stable/train,train-sharding,I9e3b6391b3ea85ecd147916a2bf0f002c35fe5e3,container-sharding: Stable overlap order,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 10:25:22.000000000,2021-03-01 10:25:22.000000000,42,1,0,774339,71921f8612e1de682f96962ac1a7094f789dcff1,14,3,3,2,597,Pete Zaitcev,zaitcev,"container-sharding: Stable overlap order

When you have overlapping active shard ranges updates will get sent to
""the first"" database; but when the proxy queries shards for listings
they get stitched together end-to-end with markers.

This means mostly the second shard range is ignored.  But since the
order of shard ranges is not stable (it seems to depend on the database
indexes; which can change when rows are added or removed) you could send
updates to ""the wrong"" shard.

Using a stable order leads to more correct and robust behavior under
failure; and is also better for cognitive overhead.

Cherry-Picked-From: Ia9d29822bf07757fc1cf58ded90b49f12b7b2c24
Change-Id: I9e3b6391b3ea85ecd147916a2bf0f002c35fe5e3
"
openstack%2Freleases~master~Ia019d4fca4b44c508680b599c4b929c0b2923e80,openstack/releases,master,ansible-role-bump,Ia019d4fca4b44c508680b599c4b929c0b2923e80,Release versions for ansible-roles,MERGED,2021-02-23 20:16:30.000000000,2021-03-01 10:18:03.000000000,2021-03-01 10:18:03.000000000,12,0,0,777211,07ba3192c1fe87c5cfaa06b2e2f7fb1fbfefce69,15,5,1,3,14985,Alex Schultz,mwhahaha,"Release versions for ansible-roles

We need to release ansible-role-chrony, ansible-role-container-registry,
ansible-role-redhat-subscription to get versions with ansible_facts
being used.

Change-Id: Ia019d4fca4b44c508680b599c4b929c0b2923e80
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ibe7925e4ee568d3d45e138d543b6d7064a8503a3,openstack/tripleo-heat-templates,stable/victoria,,Ibe7925e4ee568d3d45e138d543b6d7064a8503a3,Always set NetworkDeploymentActions to its default,MERGED,2021-02-16 09:21:58.000000000,2021-03-01 10:15:16.000000000,2021-03-01 10:15:16.000000000,2,0,0,775777,58825e47368a233be31baef254df7afc95c6aef7,24,3,1,1,8833,Rabi Mishra,rabi,"Always set NetworkDeploymentActions to its default

There are instances users use ``NetworkDeploymentActions`` to
do network configuration during update, but just drop the
parameter for subsequent updates. This sometimes results in
network configuration changes in existing nodes and disruptions.
Let's always set them to defaults unless overridden explicitly.

Change-Id: Ibe7925e4ee568d3d45e138d543b6d7064a8503a3
Related: https://bugzilla.redhat.com/1928055
(cherry picked from commit 92dcffc714bc92a28f610bf0322f04551aade758)
"
openstack%2Fansible-role-systemd_service~master~I7cba791c6d6d90390e5adaf63a4797cbc320cbc5,openstack/ansible-role-systemd_service,master,,I7cba791c6d6d90390e5adaf63a4797cbc320cbc5,Make systemd.service more consistent,MERGED,2021-01-21 17:52:53.000000000,2021-03-01 10:11:10.000000000,2021-03-01 10:08:32.000000000,1,1,0,771869,1cc15d7923d8936bc96b2f7e70c6b755df2f06da,10,3,1,1,25600,Ebbex,ebbex,"Make systemd.service more consistent

This file doesn't need to change based on the whims of which order
the after_targets decide to jumble themselves into. By sorting the
after_targets we get less changes.

Change-Id: I7cba791c6d6d90390e5adaf63a4797cbc320cbc5
"
openstack%2Foctavia~master~I55453a92ad8107bf19fc8dd20e5b5d90e2b6458b,openstack/octavia,master,http2,I55453a92ad8107bf19fc8dd20e5b5d90e2b6458b,Add HTTP/2 example to the load balancing cookbook,MERGED,2020-09-21 13:30:50.000000000,2021-03-01 10:09:23.000000000,2021-03-01 10:06:47.000000000,51,0,2,752952,c93a76b9f3d22bc131d899554c88ba1caf6dd249,14,4,2,1,6469,Carlos Gonçalves,cgoncalves,"Add HTTP/2 example to the load balancing cookbook

Change-Id: I55453a92ad8107bf19fc8dd20e5b5d90e2b6458b
"
openstack%2Foctavia-tempest-plugin~master~I0e719b5dc4fc2e62aefa282ac96647e02afd60bb,openstack/octavia-tempest-plugin,master,test_udp_update_pool_healthmonitor_listener,I0e719b5dc4fc2e62aefa282ac96647e02afd60bb,New test case: test_udp_update_pool_healthmonitor_listener,ABANDONED,2021-02-25 12:36:00.000000000,2021-03-01 09:46:56.000000000,,136,48,0,777582,6057c977099313f93301609f0a36bfc8781b07f5,4,2,1,1,28609,Arkady Shtempler,ashtempl,"New test case: test_udp_update_pool_healthmonitor_listener

Test scenario:
1) Create: UDP listener, pool, healtmonitor and validate UDP traffic
2) Update pool algorithm to: ""source_ip"" and validate UDP traffic
3) Update healtmonitor with: ""delay=20"" and validate UDP traffic
4) Update listener with: ""connection-limit=300"" and validate UDP traffic

Change-Id: I0e719b5dc4fc2e62aefa282ac96647e02afd60bb
"
openstack%2Fansible-role-python_venv_build~master~Iec4a2a8c5251ddccedc4310c26c8fd2ca8bdc913,openstack/ansible-role-python_venv_build,master,osa-facts,Iec4a2a8c5251ddccedc4310c26c8fd2ca8bdc913,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:20:19.000000000,2021-03-01 09:45:15.000000000,2021-03-01 09:42:46.000000000,24,23,1,777068,2a533ed185c693711cb1fbb11f588d84c973df90,19,4,3,6,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Iec4a2a8c5251ddccedc4310c26c8fd2ca8bdc913
"
openstack%2Fopenstack-ansible-ops~master~I22b6735ad211e60b61d74cea34c7987d74bc8596,openstack/openstack-ansible-ops,master,elk_adjustments,I22b6735ad211e60b61d74cea34c7987d74bc8596,Fix regex_replace mapping,MERGED,2020-11-12 13:33:50.000000000,2021-03-01 09:24:18.000000000,2021-03-01 09:21:34.000000000,6,6,0,762519,59edfb9b32f7aab4eaaf783d8cbfff86afc6e8dd,11,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix regex_replace mapping

With current mapping we result in elasticsearch_data_node_details being
172.29.236.126:9200:9200 instead of 172.29.236.126:9200 which
means that map is applied twice to the same item
Changing regexp helps to resolve it. It looks like related to what [1] have seen

Also we don't need to transform to list when doing another map, as
working with generator object is more resource efficient.

[1] https://gist.github.com/halberom/9bfe009c9a3df5d64c7bb505a7700430#gistcomment-2706901

Change-Id: I22b6735ad211e60b61d74cea34c7987d74bc8596
"
openstack%2Fopenstack-ansible-ops~master~I97b728484894e75ebc8c4e55b98b2e3eea42baf6,openstack/openstack-ansible-ops,master,,I97b728484894e75ebc8c4e55b98b2e3eea42baf6,Get elastic plugins via proxy,MERGED,2021-01-07 10:22:37.000000000,2021-03-01 09:22:59.000000000,2021-03-01 09:21:05.000000000,8,0,0,769701,c7e76e119f0ef418760ced39bd1ae77f44eb7bb9,10,3,2,1,25600,Ebbex,ebbex,"Get elastic plugins via proxy

Some environments don't have routed internet and can only get data
via proxies. If proxy_env_url is set, try getting files via that.

Change-Id: I97b728484894e75ebc8c4e55b98b2e3eea42baf6
"
openstack%2Fopenstack-ansible-ops~master~I486e12555113b9209d8563598ca63e9de4fd1dc7,openstack/openstack-ansible-ops,master,elk_adjustments,I486e12555113b9209d8563598ca63e9de4fd1dc7,Remove `elastic_lxc_template_config` mapping,MERGED,2020-11-12 11:01:12.000000000,2021-03-01 09:21:17.000000000,2021-03-01 09:21:17.000000000,2,10,0,762501,6565d14ae05b13f595d103525846f1a22ca8c5f0,10,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove `elastic_lxc_template_config` mapping

We don't have OS at this moment that have lxc2, so mapping can be dropped
This fil also bring ubuntu focal support, since it has only lxc4.

Change-Id: I486e12555113b9209d8563598ca63e9de4fd1dc7
"
openstack%2Fpython-monascaclient~master~I14b9983c3bc54932e60ad1a0cb87bc77f4abaee5,openstack/python-monascaclient,master,dnm,I14b9983c3bc54932e60ad1a0cb87bc77f4abaee5,[DNM] Test requirements-check job,ABANDONED,2021-03-01 09:13:05.000000000,2021-03-01 09:21:09.000000000,,1,1,0,777942,96c294e9fb3b27d2e62a2e90121659d7f8f71897,3,1,1,1,15197,Pierre Riteau,priteau,"[DNM] Test requirements-check job

Change-Id: I14b9983c3bc54932e60ad1a0cb87bc77f4abaee5
"
openstack%2Fopenstack-zuul-jobs~master~Icd86fb696f3c9fe383c28888acd914144ff3a1c4,openstack/openstack-zuul-jobs,master,,Icd86fb696f3c9fe383c28888acd914144ff3a1c4,Fix hacking min version to 4.0.0,ABANDONED,2020-11-02 06:04:09.000000000,2021-03-01 09:21:02.000000000,,1,1,4,760746,9b0c52ce51c9542301085f0561866ab9e77bbc2c,22,4,5,1,32291,wushiming,wushiming,"Fix hacking min version to 4.0.0

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, and hacking 4.0.0 is available,
we need to bump the hacking min version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: Icd86fb696f3c9fe383c28888acd914144ff3a1c4
"
openstack%2Fopenstack-ansible-ops~master~I0d611f7cf3f30d054452cd6f1e426f5d13c06ac4,openstack/openstack-ansible-ops,master,elk-journalbeat-seek,I0d611f7cf3f30d054452cd6f1e426f5d13c06ac4,Make ELK Journalbeat seek configuration a variable,MERGED,2020-07-31 14:15:14.000000000,2021-03-01 09:20:11.000000000,2021-03-01 09:18:38.000000000,4,1,0,744180,dd12e4d611ada48168502de06d40853f5664e68a,25,6,4,2,31749,James Gibson,jamesgibo,"Make ELK Journalbeat seek configuration a variable

Allow users to specifiy the journalbeat configuration for where to
start reading journals from.
https://www.elastic.co/guide/en/beats/journalbeat/current/configuration-journalbeat-options.html#seek

Depends-On: https://review.opendev.org/741997
Change-Id: I0d611f7cf3f30d054452cd6f1e426f5d13c06ac4
"
openstack%2Fkayobe~stable%2Fussuri~Ie5ca04428855cbaf505adc57de76ea0b2d404080,openstack/kayobe,stable/ussuri,,Ie5ca04428855cbaf505adc57de76ea0b2d404080,CI: retry overcloud jobs that land on vexxhost clouds,ABANDONED,2021-02-26 07:19:15.000000000,2021-03-01 09:17:56.000000000,,18,6,0,777723,6a15a595aa0dabf5640340f98eb26371fad100d6,5,2,1,4,15197,Pierre Riteau,priteau,"CI: retry overcloud jobs that land on vexxhost clouds

Jobs that test baremetal deployment are currently failing when run on
Vexxhost infrastructure. The seed VM job also has trouble on Vexxhost,
although does sometimes pass. It's not clear why yet, and we are still
investigating. Until we have a solution, fail in the pre phase when we
land on vexxhost clouds, in order to trigger the zuul retry mechanism.

Also use the normal number (5) of attempts for upgrade jobs, since these
no longer deploy the previous release in the pre phase.

Note: compared to the original commit, the custom configuration for
ironic is removed since it only applies to Wallaby.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html

Change-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080
(cherry picked from commit 47bbb96b29ab30764d6220cdd43e63a1d2072533)
"
openstack%2Fkayobe~stable%2Ftrain~Ie5ca04428855cbaf505adc57de76ea0b2d404080,openstack/kayobe,stable/train,,Ie5ca04428855cbaf505adc57de76ea0b2d404080,CI: retry overcloud jobs that land on vexxhost clouds,ABANDONED,2021-02-26 07:21:55.000000000,2021-03-01 09:17:42.000000000,,12,0,0,777724,36287d027c07537367f9407b041503352542d5f7,3,2,1,2,15197,Pierre Riteau,priteau,"CI: retry overcloud jobs that land on vexxhost clouds

Jobs that test baremetal deployment are currently failing when run on
Vexxhost infrastructure. The seed VM job also has trouble on Vexxhost,
although does sometimes pass. It's not clear why yet, and we are still
investigating. Until we have a solution, fail in the pre phase when we
land on vexxhost clouds, in order to trigger the zuul retry mechanism.

Also use the normal number (5) of attempts for upgrade jobs, since these
no longer deploy the previous release in the pre phase.

Note: compared to the original commit, the custom configuration for
ironic is removed since it only applies to Wallaby.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html

Change-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080
(cherry picked from commit 47bbb96b29ab30764d6220cdd43e63a1d2072533)
"
openstack%2Fdevstack~master~I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08,openstack/devstack,master,centos-8,I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08,Install 'httpd' package earlier on RedHat distros,ABANDONED,2020-12-14 08:45:14.000000000,2021-03-01 09:14:15.000000000,,3,7,4,766892,709f60627cf315c9b2ab5275ff13b29f09d5d91e,26,7,12,1,27329,Federico Ressi,fressi_redhat,"Install 'httpd' package earlier on RedHat distros

'httpd' package installation is required before
writing modules configuration files on folder
'/etc/httpd/conf.modules.d/'

Closes-Bug: #1908397
Change-Id: I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08
"
openstack%2Fdevstack~master~Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c,openstack/devstack,master,centos-8,Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c,Remove libyaml-devel package installation,ABANDONED,2020-12-14 15:14:14.000000000,2021-03-01 09:13:55.000000000,,1,3,1,766970,0104deca1f76ca729aed3a6850e8560d152da269,18,6,9,2,27329,Federico Ressi,fressi_redhat,"Remove libyaml-devel package installation

Closes-Bug: #1907213
Change-Id: Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c
"
openstack%2Fnetworking-bagpipe~master~I18dec37fa415cf4a3cb7c94153295eafa2ce3e77,openstack/networking-bagpipe,master,or_m,I18dec37fa415cf4a3cb7c94153295eafa2ce3e77,Set secure mode for mpls bridge,MERGED,2021-02-09 13:08:01.000000000,2021-03-01 09:05:21.000000000,2021-03-01 09:04:02.000000000,12,2,4,774640,144f243a081e65fc31c020e12a4340371e83e8f4,15,4,3,3,14525,Vasyl Saienko,vsaienko,"Set secure mode for mpls bridge

Closes-Bug: #1915499

Change-Id: I18dec37fa415cf4a3cb7c94153295eafa2ce3e77
"
openstack%2Fcinder~master~Ia08c252d747148e624f8d9e8b0e43f94773421e0,openstack/cinder,master,,Ia08c252d747148e624f8d9e8b0e43f94773421e0,[RBD] Fix snapshot backup name,MERGED,2020-12-17 16:08:41.000000000,2021-03-01 08:50:01.000000000,2021-02-20 13:34:51.000000000,4,1,0,767581,f04d905a63fe02f5a660e9852bdacbc2bc0f9233,71,5,2,1,1736,Ivan Kolodyazhny,e0ne,"[RBD] Fix snapshot backup name

We always create a full backup for snapshots. It means we have to
generate a correct buckup name for a base backup.

Closes-Bug: #1860739
Change-Id: Ia08c252d747148e624f8d9e8b0e43f94773421e0
"
openstack%2Ftacker~master~I4900d9a8abbc8fb42ebd6088654ec02379a15c80,openstack/tacker,master,dnmpatch,I4900d9a8abbc8fb42ebd6088654ec02379a15c80,[DNM] Check for MySQL related issues in this patch,ABANDONED,2021-02-26 04:32:59.000000000,2021-03-01 08:47:27.000000000,,749,115,0,777712,a82f912c0cc844e6164c362711642929ec0555e1,7,1,3,17,32219,Aldinson C. Esto,esto-aln,"[DNM] Check for MySQL related issues in this patch

Change-Id: I4900d9a8abbc8fb42ebd6088654ec02379a15c80
"
openstack%2Fopenstack-ansible-ops~master~Ibfc20b1605245927ad4de4a54e751a13defb1ee0,openstack/openstack-ansible-ops,master,fix-tests,Ibfc20b1605245927ad4de4a54e751a13defb1ee0,Fixes for tests/gates,MERGED,2020-07-20 17:50:58.000000000,2021-03-01 08:37:16.000000000,2021-03-01 08:33:00.000000000,98,121,1,741997,b05893ae39ee6de63aaafab76528234fde6a252d,57,5,20,12,29865,Georgina Shippey,gshippey,"Fixes for tests/gates

Bump ansible version to 2.10.5
Prefer python3 over python2
Fix ansible str vs int comparisons
Print a message if setting defaultIndex in kibana 6 fails
Use saved_objects API for setting defaultIndex in kibana 7
Update version in dashboard path for 7x
ILM doesn't like bodies from GET requests
Stop using forked galera_server role, now that 633321 is merged
Force osquery inventory to python3
Update zuul jobs

Change-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0
"
openstack%2Ftripleo-ci~master~Icd4c1dc4802f5130499cacfba615dc8ad1e0fefe,openstack/tripleo-ci,master,tripleo-ci-reduce,Icd4c1dc4802f5130499cacfba615dc8ad1e0fefe,Make overcloud-hardened-full build image jobs vote and gate,MERGED,2021-02-23 09:58:00.000000000,2021-03-01 08:30:11.000000000,2021-03-01 08:30:11.000000000,27,8,1,777083,d84af247a1b8bc42da088efc46065e0b46c2b757,18,9,2,1,8449,Marios Andreou,marios,"Make overcloud-hardened-full build image jobs vote and gate

This makes tripleo-buildimage-overcloud-hardened-full-centos-8 and
-victoria/-ussuri/-train voting and adds them to the gate layout.

Seen as part of [1] and in reviewing our non-voting and failing jobs
these have a very good pass rate so there is no reason to keep them
as non voting [2]. The patch at [3] depends-on this one.

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
[2] https://zuul.openstack.org/builds?job_name=tripleo-buildimage-overcloud-hardened-full-centos-8-victoria&job_name=tripleo-buildimage-overcloud-hardened-full-centos-8&job_name=tripleo-buildimage-overcloud-hardened-full-centos-8-ussuri&job_name=tripleo-buildimage-overcloud-hardened-full-centos-8-train
[3] I24615a067a56ac226b07c2ebcf477b3682dfed2f

Change-Id: Icd4c1dc4802f5130499cacfba615dc8ad1e0fefe
"
openstack%2Foctavia~master~I94005e79129abb187538f90d9042bbc9b4f7e3ac,openstack/octavia,master,delete_useless_row,I94005e79129abb187538f90d9042bbc9b4f7e3ac,Delete useless row,ABANDONED,2021-03-01 02:59:32.000000000,2021-03-01 08:24:29.000000000,,0,1,0,777921,5554e63f4276fff612dbf82c75f706a7599d060e,4,2,1,1,32644,zhangxingjun,zhangxingjun,"Delete useless row

This line is invalid definition in the function, there is a new definition in 'if'(is_spare = False)

Change-Id: I94005e79129abb187538f90d9042bbc9b4f7e3ac
"
openstack%2Fopenstack-ansible-ops~master~Ica6170056d597d1fd0a3e8c06ebb65c8fbab77c7,openstack/openstack-ansible-ops,master,osquery-updates,Ica6170056d597d1fd0a3e8c06ebb65c8fbab77c7,update to osquery,NEW,2018-10-24 18:23:00.000000000,2021-03-01 08:22:16.000000000,,139,77,5,613136,fce41ab3c85bd5821b0607f08ba286d12bc5d15d,15,2,6,11,11365,Victor Palma,devx,"update to osquery

  * update elk integration
  * update osquery config
  * update kolide fleet configuration

Change-Id: Ica6170056d597d1fd0a3e8c06ebb65c8fbab77c7
"
openstack%2Ftripleo-docs~master~I42913c36b634ad1fb1c1b4cc0c798fe98dc430c2,openstack/tripleo-docs,master,env_merging,I42913c36b634ad1fb1c1b4cc0c798fe98dc430c2,Remove references to DefaultPasswords,MERGED,2021-02-26 10:29:59.000000000,2021-03-01 08:16:22.000000000,2021-03-01 08:14:00.000000000,0,14,0,777738,e264e819359f35361cf602e10ce64b9fb12f9445,8,3,1,3,6469,Carlos Gonçalves,cgoncalves,"Remove references to DefaultPasswords

The DefaultPasswords interface was removed from tripleo-heat-templates
in Change-Id If83d0f3d72a229d737a45b2fd37507dc11a04649.

Change-Id: I42913c36b634ad1fb1c1b4cc0c798fe98dc430c2
"
openstack%2Fpython-manilaclient~master~Iae54779386eccce0fd338017ed18b9ad21e13b95,openstack/python-manilaclient,master,remove-six,Iae54779386eccce0fd338017ed18b9ad21e13b95,Remove all usage of six library,ABANDONED,2020-09-25 02:58:22.000000000,2021-03-01 07:46:00.000000000,,98,167,3,754253,01591607709605412a57beb2d7a46c69c82d9334,14,3,4,38,32211,kuang congxian,kuangcx,"Remove all usage of six library

Replace six with Python 3 style code.

Depends-On: https://review.opendev.org#/c/753570/
Change-Id: Iae54779386eccce0fd338017ed18b9ad21e13b95
"
openstack%2Fglance_store~master~I8f374eb1b26ec408c52c6279da79cfe470d59a1c,openstack/glance_store,master,bug/1915602,I8f374eb1b26ec408c52c6279da79cfe470d59a1c,Cinder store: Use v3 API by default,MERGED,2021-02-13 09:26:26.000000000,2021-03-01 05:52:35.000000000,2021-03-01 05:51:20.000000000,9,3,0,775497,77b61a952e9f62217a08548cef015bf6e5b953ac,11,4,3,4,9816,Takashi Kajinami,kajinamit,"Cinder store: Use v3 API by default

v2 API of cinder is already deprecated, and the cinder community is now
planning to remove it.
This change makes cinder store use v3 API instead, which is the current
latest version actively maintainced.

Closes-Bug: #1915602
Change-Id: I8f374eb1b26ec408c52c6279da79cfe470d59a1c
"
openstack%2Fswift~master~I4445f1ef8b296c52cfc77041fede466ace23971b,openstack/swift,master,add_config_to_manage_shard_ranges,I4445f1ef8b296c52cfc77041fede466ace23971b,Sharding: add mean and std dev to cli tools,NEW,2021-03-01 03:53:35.000000000,2021-03-01 05:09:29.000000000,,30,4,0,777922,a9bd7e8fd3d4003ff9cf7452e9452383d5fe3c5e,3,1,1,3,7233,Matthew Oliver,mattoliverau,"Sharding: add mean and std dev to cli tools

Just playing around with adding some variance or distribution numbers to
the tools that display shard ranges. Just to see if it might be a good
addition.

Variance is just (std deviation)^2 so mean and std deviation should
cover most most of what we need.

Change-Id: I4445f1ef8b296c52cfc77041fede466ace23971b
"
