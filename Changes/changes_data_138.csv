id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Ftacker~stable%2Fwallaby~Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac,openstack/tacker,stable/wallaby,bug/1922544,Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac,Fix display bugs of vnflcm show command,MERGED,2021-04-09 05:35:06.000000000,2021-04-09 08:47:01.000000000,2021-04-09 08:45:22.000000000,22,14,0,785557,ace232231fa6a4c47d72dea9dce97a5730053f6b,8,6,1,2,27880,Yoshito Ito,yoshito-ito,"Fix display bugs of vnflcm show command

When running openstack vnflcm show command in CLI,
some over intended bugs and ip version error will happen.

This patch fixes vnfm/infra_driver/openstack.py
in order to fix these bugs.

Closes-Bug: #1922544
Change-Id: Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac
"
openstack%2Freleases~master~I25c15fcfa426124e252eee6650d6a0f8d4425cb2,openstack/releases,master,wallaby-final-rc,I25c15fcfa426124e252eee6650d6a0f8d4425cb2,Proposing wallaby RC2 for Cyborg,ABANDONED,2021-04-09 07:08:05.000000000,2021-04-09 08:46:57.000000000,,4,0,0,785565,8299772ffe97ad3e70b703e4bc8d0208a2d55318,6,4,1,1,26458,Brin Zhang,zhangbailin,"Proposing wallaby RC2 for Cyborg

Release 6.0.0.0rc2

We merged some issue fixes as below:
root@ubuntu:/home/brinzhang/cyborg# git log --oneline --no-merges 6.0.0.0rc1..a8979b2
9fc6a30 Switch using Launchpad instead of Storyboard
abe9f40 Using pop method to avoid incompatible data type
d9233bc Switch using Launchpad instead of Storyboard
0e1bb83 Add backup and snapshot support matrix
008c366 Revert device_profile key to show device profile API
891c1de tools: Allow check-cherry-picks.sh to be disabled by an env var
4fac92a Add Python3 xena unit tests
851dcfc Update master for stable/wallaby
8cddcf8 (master1) Travil Change: Correct comment errors

Change-Id: I25c15fcfa426124e252eee6650d6a0f8d4425cb2
"
openstack%2Fcharm-manila-ganesha~master~Iaef45249094f68204f8c34c53c6a13e948d6dc8c,openstack/charm-manila-ganesha,master,libraries-sync-21-04,Iaef45249094f68204f8c34c53c6a13e948d6dc8c,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:28:13.000000000,2021-04-09 08:46:04.000000000,2021-04-09 08:46:04.000000000,247,6,0,784667,00cfc7c91d314ae46af29a9fade65018e18c5a77,15,4,2,5,20870,Alex Kavanagh,ajkavanagh,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: Iaef45249094f68204f8c34c53c6a13e948d6dc8c
"
openstack%2Ftacker~master~Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac,openstack/tacker,master,bug/1922544,Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac,Fix display bugs of vnflcm show command,MERGED,2021-04-05 09:21:17.000000000,2021-04-09 08:28:08.000000000,2021-04-09 08:24:04.000000000,22,14,26,784756,d47137777225a427daecd412b076bca5ae986698,36,7,10,2,31821,LiangLu,LiangLu,"Fix display bugs of vnflcm show command

When running openstack vnflcm show command in CLI,
some over intended bugs and ip version error will happen.

This patch fixes vnfm/infra_driver/openstack.py
in order to fix these bugs.

Closes-Bug: #1922544
Change-Id: Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac
"
openstack%2Freleases~master~I383d37b8f5a26d5b554ba14a3e00b85bd79dae41,openstack/releases,master,wallaby-final-rc,I383d37b8f5a26d5b554ba14a3e00b85bd79dae41,Final RC patch for trove,MERGED,2021-04-08 10:49:18.000000000,2021-04-09 08:26:24.000000000,2021-04-09 08:26:24.000000000,4,0,0,785370,1f7d657343d3346d7239f126f9e3407b1f599b63,11,5,1,1,28522,Hervé Beraud,hberaud,"Final RC patch for trove

This creates a new RC before the final release candidate deadline to
release the latest fixes and/or translations.

Please ack with a +1, or if there is some reason to hold off, leave a -1.

$ git log --oneline --no-merges 15.0.0.0rc1..579b6142
579b6142 Fix test_create_inactive_datastore_by_admin
87d681aa Update TOX_CONSTRAINTS_FILE for stable/wallaby
333364ce Update .gitreview for stable/wallaby

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I383d37b8f5a26d5b554ba14a3e00b85bd79dae41
"
openstack%2Freleases~master~I8cf657df324f588694efb2da41af98fb40376de3,openstack/releases,master,,I8cf657df324f588694efb2da41af98fb40376de3,Release devstack-tools 1.2.0,MERGED,2021-04-08 22:14:37.000000000,2021-04-09 08:24:34.000000000,2021-04-09 08:24:34.000000000,4,0,0,785521,a873f4d27114708b7b532ee6c4c3b954f7833466,9,5,1,1,8556,Ghanshyam,ghanshyam,"Release devstack-tools 1.2.0

There is one fix in devstack-tools setup file, doing a
release to reflect the same in tag.

Change-Id: I8cf657df324f588694efb2da41af98fb40376de3
"
openstack%2Frpm-packaging~master~I1baed8fdd4bdacbbc557a520c8f74fa9b560728c,openstack/rpm-packaging,master,,I1baed8fdd4bdacbbc557a520c8f74fa9b560728c,Update oslo.policy to 3.7.0,MERGED,2021-03-25 14:40:15.000000000,2021-04-09 08:23:21.000000000,2021-04-09 08:23:21.000000000,1,1,0,783015,5b253e56158cdd9e7299502a3f7e4b4ff312c504,9,5,1,1,13294,Javier Peña,jpena,"Update oslo.policy to 3.7.0

This is the latest version for Wallaby as of now.

Change-Id: I1baed8fdd4bdacbbc557a520c8f74fa9b560728c
"
openstack%2Fhorizon~master~I1de39e43d6efecf3e5f0ae179b6c5f8c3b5a1264,openstack/horizon,master,zanata/translations,I1de39e43d6efecf3e5f0ae179b6c5f8c3b5a1264,Imported Translations from Zanata,MERGED,2021-04-02 06:56:00.000000000,2021-04-09 08:18:43.000000000,2021-04-09 08:16:53.000000000,107,5,0,784538,473290f137c3302d9815415461b924a136c91be5,11,2,3,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I1de39e43d6efecf3e5f0ae179b6c5f8c3b5a1264
"
openstack%2Fcyborg~master~I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d,openstack/cyborg,master,bug/1923009,I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d,Remove personal name in the docs,MERGED,2021-04-08 07:12:36.000000000,2021-04-09 08:13:42.000000000,2021-04-09 08:12:11.000000000,2,2,0,785314,a8979b263424d7e9ad66a7a50182ee7d4e2decc5,11,4,2,2,26458,Brin Zhang,zhangbailin,"Remove personal name in the docs

Closes-Bug: #1923009

Change-Id: I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d
"
openstack%2Ftacker~stable%2Fwallaby~I9f918ceff9882da1bff4b1cc953602a3b84aec0c,openstack/tacker,stable/wallaby,bp/cnf-support-with-etsi-nfv-specs,I9f918ceff9882da1bff4b1cc953602a3b84aec0c,Fix methods of kubernetes_mgmt by change of abstract driver,MERGED,2021-04-08 23:03:45.000000000,2021-04-09 06:44:58.000000000,2021-04-09 06:42:00.000000000,12,0,0,785530,cfa7725b8bdc9ffe011ea5fc4e8acc8df92caa4b,10,6,2,1,27880,Yoshito Ito,yoshito-ito,"Fix methods of kubernetes_mgmt by change of abstract driver

2 methods were added in vnflcm_abstract_driver.py
in the patch [1].
  * change_external_connectivity_start()
  * change_external_connectivity_end()
(tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py#L88)

In kubernetes_mgmt.py,
(sample/mgmt_drivers/kubernetes_mgmt.py)
provided as sample in Tacker, is broken
due to the lack of two abstract methods.
This patch fix this issue.

[1] https://review.opendev.org/c/openstack/tacker/+/780213

Change-Id: I9f918ceff9882da1bff4b1cc953602a3b84aec0c
"
openstack%2Ftacker~stable%2Fwallaby~Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b,openstack/tacker,stable/wallaby,bug/1922102,Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b,Fix exception not raised while install script failed,MERGED,2021-04-08 23:10:51.000000000,2021-04-09 06:40:20.000000000,2021-04-09 06:36:59.000000000,6,12,0,785534,211ab69408d52d10902e39c32350787aef4b672a,12,6,2,3,27880,Yoshito Ito,yoshito-ito,"Fix exception not raised while install script failed

In kubernetes_mgmt, it will find 'Install Failed!\n' in stdout
to judge raise a exception of script install failed.

However in recent fix, we changed error message from script,
thus kubernetes_mgmt cannot catch error msg from stdout,
exception will not be raised.

This patch will fix matching error message in kuberntes_mgmt.

Closes-Bug: #1922192
Change-Id: Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b
"
openstack%2Fswift~master~Ibcea5760bc1c5a6e774e150d77fcf5c07c0c697c,openstack/swift,master,account-audit,Ibcea5760bc1c5a6e774e150d77fcf5c07c0c697c,swift-account-audit: Work with storage policies,NEW,2021-03-12 22:44:41.000000000,2021-04-09 06:31:32.000000000,,30,17,0,780392,c297ecc0f0efe480f92dd50d1dc0d8ef15a2a1ae,8,1,3,1,15343,Tim Burke,tburke,"swift-account-audit: Work with storage policies

As part of that, allow it to work with unencrypted EC data; previously,
it would complain about ETag mismatches.

Closes-Bug: #1631396
Change-Id: Ibcea5760bc1c5a6e774e150d77fcf5c07c0c697c
"
openstack%2Ftacker~stable%2Fwallaby~If14b95b2f9dfafe994a5ebf4f447a2bf7d27981c,openstack/tacker,stable/wallaby,bug/1920085,If14b95b2f9dfafe994a5ebf4f447a2bf7d27981c,Fix some bugs related legacy cnf operations,MERGED,2021-04-08 23:08:02.000000000,2021-04-09 06:25:05.000000000,2021-04-09 06:21:56.000000000,47,29,0,785532,d4ea13696cace4cc6a26202be42f0727fdb07d1c,9,6,1,7,27880,Yoshito Ito,yoshito-ito,"Fix some bugs related legacy cnf operations

This patch fixes some bugs related legacy cnf operations below:
* Delete the ""unsupported key check"" of policies in TOSCA template, to
  resolve `openstack vnf create` command failure due to property
  validation of policies.
* Change the branch condition of legacy/sol, to resolve the
  `openstack vnf scale` command failure due to keyError.
* Add interval to each retry loops of delete_wait_legacy, to resolve
  the `openstack vnf delete` command failure.

And this patch revises the documentation for legacy cnf operations to
work properly.

Closes-Bug: #1920085
Change-Id: If14b95b2f9dfafe994a5ebf4f447a2bf7d27981c
"
openstack%2Ftacker~stable%2Fwallaby~I19aedf0940d8b8d51fa5bd1d5c5092655d7970b0,openstack/tacker,stable/wallaby,bug/1922191,I19aedf0940d8b8d51fa5bd1d5c5092655d7970b0,Fix missing None judgement in rollback,MERGED,2021-04-08 23:09:00.000000000,2021-04-09 06:11:34.000000000,2021-04-09 06:09:09.000000000,15,15,0,785533,f44d0b65d875686180f4434daf2e39b986a13a78,10,6,1,1,27880,Yoshito Ito,yoshito-ito,"Fix missing None judgement in rollback

in vnflcm_drive._term_resource_update(),
it is checking if 'affected_vnfcs' is existing in
vnf_lcm_op_occs.resource_changes.

However, 'affected_vnfcs' may be None,
and cause an None type error in next line,
using len() for affect_vnfcs.
(same to other 2 variables below)

This patch is adding None judgement before
len()

Closes-Bug: #1922191
Change-Id: I19aedf0940d8b8d51fa5bd1d5c5092655d7970b0
"
openstack%2Freleases~master~I5c42c8e9eb809b4dd0c18f6344d828d8257158ce,openstack/releases,master,wallaby-final-rc,I5c42c8e9eb809b4dd0c18f6344d828d8257158ce,Release manila-ui rc2,MERGED,2021-04-08 22:30:44.000000000,2021-04-09 06:09:45.000000000,2021-04-09 06:09:45.000000000,4,0,0,785524,c1056dfbd7ed75657e96542ea12fb18c8166a060,7,3,1,1,16643,Goutham Pacha Ravi,gouthamr,"Release manila-ui rc2

New policy configuration enhancements have been
added to the UI. Since we have a week to release
this would be a good GA candidate per the team's
testing

Change-Id: I5c42c8e9eb809b4dd0c18f6344d828d8257158ce
"
openstack%2Ftacker~stable%2Fwallaby~Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb,openstack/tacker,stable/wallaby,bug/1922194,Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb,Fix parameters passing in kubernetes_mgmt,MERGED,2021-04-08 23:01:18.000000000,2021-04-09 06:08:14.000000000,2021-04-09 06:06:34.000000000,1,1,0,785527,a3de1d3da57addca65a75082d216c6c996d9c2a2,8,6,1,1,27880,Yoshito Ito,yoshito-ito,"Fix parameters passing in kubernetes_mgmt

While calling _get_by_name() in kubernetes_mgmt, it is passing
self + other 3 parameters.

However it is calling _get_by_name() by instance,
thus passing self is not needed and will cause an unmatch
parameters error during Terminate process

Closes-Bug: #1922194
Change-Id: Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb
"
openstack%2Fironic-python-agent~stable%2Fussuri~Iec28a8841cc01ec8b01a3f5cca070c934c7a2531,openstack/ironic-python-agent,stable/ussuri,fstab-ussuri,Iec28a8841cc01ec8b01a3f5cca070c934c7a2531,Add fstab pointer to EFI partition,MERGED,2021-03-23 02:20:29.000000000,2021-04-09 05:36:45.000000000,2021-04-09 05:35:35.000000000,271,7,0,782352,7007ea0906ff30189804b062008393459d6548f2,28,3,1,3,4571,Steve Baker,steve-stevebaker,"Add fstab pointer to EFI partition

Adds support for the EFI partition to be appended to fstab so the
filesystem can be automounted and EFI loader updated should the
deployed operating system need to do so.

This should enable bootloaders to be upgraded by linux based
operating systems after the instance has been deployed when
a partition image was utilized for the initial deployment.

Change-Id: Iec28a8841cc01ec8b01a3f5cca070c934c7a2531
Story: 2008070
Task: 40754
(cherry picked from commit a12a5744b66063816af17769f99ec3f03da0a2d5)
"
openstack%2Ftripleo-validations~master~I68be1dcaaf843adf7d562ca978bf837ad05b3ba9,openstack/tripleo-validations,master,swift/purge/pcount,I68be1dcaaf843adf7d562ca978bf837ad05b3ba9,Removes retired services from process count validation,MERGED,2021-03-23 10:06:55.000000000,2021-04-09 05:27:53.000000000,2021-04-09 05:21:56.000000000,6,9,2,782394,c4e7b83adad7392ae0af55725cc0e85c6025ecf7,19,8,2,2,32926,Jiri Podivin,jpodivin,"Removes retired services from process count validation

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I68be1dcaaf843adf7d562ca978bf837ad05b3ba9
"
openstack%2Ftripleo-validations~master~If8e31e72b215dcdb0db897b03403e8d28a2545b3,openstack/tripleo-validations,master,zuul/optimization,If8e31e72b215dcdb0db897b03403e8d28a2545b3,Zuul runs tests in py36 only,MERGED,2021-04-07 12:30:19.000000000,2021-04-09 05:26:55.000000000,2021-04-09 05:21:22.000000000,3,1,0,785168,c5cd9b7c9e491fe60a98b949541b12d83bca0e88,8,6,1,2,32926,Jiri Podivin,jpodivin,"Zuul runs tests in py36 only

Python 3.6 is the oldest version of python
supported by the package, and newer, supported,
minor versions do not break any substantial functionality
by design, while introducing new features.

Therefore we do not need to run unit tests for
each minor version. As all possible issues affecting
versions >3.6 would necessarily be related to features
introduced in versions >3.6.

Wallaby Zuul test template was removed from layout.yaml.
The pep8 test environment was folded into linters in tox.ini.
Zuul is now explicitly running tests only in one, oldest supported,
python environment, Python 3.6.

PEP387: https://www.python.org/dev/peps/pep-0387/
https://docs.python.org/3/whatsnew/3.7.html#porting-to-python-37
https://docs.python.org/3/whatsnew/3.8.html#porting-to-python-3-8

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If8e31e72b215dcdb0db897b03403e8d28a2545b3
"
openstack%2Ftripleo-heat-templates~master~I9694435d5c54568a1636195d73d53903c44d998b,openstack/tripleo-heat-templates,master,recoverable_node_timeout,I9694435d5c54568a1636195d73d53903c44d998b,Decrease Swift proxy timeouts for GET/HEAD requests,MERGED,2020-09-11 13:36:55.000000000,2021-04-09 05:26:48.000000000,2021-04-09 05:20:27.000000000,16,0,0,751279,f08905d7ff67ebcfee14ffe64ed4b7fb8c515cdf,20,8,1,2,6968,Christian Schwede,cschwede,"Decrease Swift proxy timeouts for GET/HEAD requests

Adds a new parameter named SwiftProxyRecoverableNodeTimeout. The default
node timeout is 10 seconds in Swift, however this has been set to 60
seconds in TripleO in case there are slow nodes. However, this affects
all requests - GET, HEAD and PUT. GET/HEAD requests are typically much
faster, thus it makes sense to use a lower timeout to recover earlier
from node failures.

This increases overall stability, because the proxy can select another
backend node to retry the request if an initial HEAD request already
returns a timeout, for example when uploading Glance images.

Depends-On: I2f56bc456427d5deb30d86ad70e890d0897ef0c9
Change-Id: I9694435d5c54568a1636195d73d53903c44d998b
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id92c13a591f64b1084cbe4c48f2879d791f66cfe,openstack/tripleo-heat-templates,stable/train,memcached-cert-stable/train,Id92c13a591f64b1084cbe4c48f2879d791f66cfe,Add EnableCache option to enable/disable usage of memcache,MERGED,2021-04-01 09:16:41.000000000,2021-04-09 05:22:23.000000000,2021-04-09 05:16:00.000000000,69,23,3,784242,b277ccf6bbe27d9502a289848731d77f33477776,13,9,2,4,14250,Grzegorz Grasza,xek,"Add EnableCache option to enable/disable usage of memcache

Change-Id: Id92c13a591f64b1084cbe4c48f2879d791f66cfe
"
openstack%2Ftripleo-validations~master~I756bc3a992baeab6effaf50178afcc79cc08f7ce,openstack/tripleo-validations,master,typo_in_documentation,I756bc3a992baeab6effaf50178afcc79cc08f7ce,Fix typo in readme file.,MERGED,2021-02-01 09:44:18.000000000,2021-04-09 05:21:38.000000000,2021-04-09 05:21:38.000000000,1,1,0,773331,0bb6c79845be5dcf735f196c76fae018aeb22dbd,11,5,3,1,31245,Daniel Bengtsson,damani42,"Fix typo in readme file.

Fix the typo bath by path.

Change-Id: I756bc3a992baeab6effaf50178afcc79cc08f7ce
Co-authored-by: Owen McGonagle <omcgonag@redhat.com>
"
openstack%2Fansible-role-tripleo-modify-image~master~I089ea79398f71bd841992eacfd088d831ce0d085,openstack/ansible-role-tripleo-modify-image,master,tox_constraints_file,I089ea79398f71bd841992eacfd088d831ce0d085,Replace deprecated UPPER_CONSTRAINTS_FILE variable,MERGED,2020-11-04 10:14:32.000000000,2021-04-09 05:21:04.000000000,2021-04-09 05:21:04.000000000,1,1,0,761388,12655c7e732c15ce9ab69d779086fa8afca59830,7,3,1,1,28522,Hervé Beraud,hberaud,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is deprecated and TOX_CONSTRAINTS_FILE is
the new environment variable name that replaces it [1].

This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
[2] https://review.opendev.org/#/c/722814/

Change-Id: I089ea79398f71bd841992eacfd088d831ce0d085
"
openstack%2Ftripleo-ci~master~Ie0aa4cca983d45c959611e0e93effb4b21a69488,openstack/tripleo-ci,master,,Ie0aa4cca983d45c959611e0e93effb4b21a69488,ensure molecule runs on centos8,MERGED,2020-12-16 02:25:53.000000000,2021-04-09 05:19:52.000000000,2021-04-09 05:19:52.000000000,7,4,0,767255,2d55b124e11c739d781208ec97eb82742bc943fe,19,6,4,3,9592,wes hayutin,weshayutin,"ensure molecule runs on centos8

define the nodeset for tox-molecule jobs

Closes-Bug: 1908328
Change-Id: Ie0aa4cca983d45c959611e0e93effb4b21a69488
"
openstack%2Fpuppet-tripleo~master~I2bf9ca64f8fcbec074e8242f4fe9e2ef5b7f924b,openstack/puppet-tripleo,master,host-sriov,I2bf9ca64f8fcbec074e8242f4fe9e2ef5b7f924b,Remove the unused tripleo::host::sriov class,MERGED,2021-01-02 02:39:02.000000000,2021-04-09 05:19:18.000000000,2021-04-09 05:19:18.000000000,0,665,0,768843,5ec22bbd979021da4c95dfaa5e971531c33de8df,17,6,4,9,9816,Takashi Kajinami,kajinamit,"Remove the unused tripleo::host::sriov class

The tripleo::host::sriov class is no longer used since we removed
the OS::TripleO::Services::NeutronSriovHostConfig service resource[1].

[1] 4f198c32cb7e23b07bb1d722383d81b8ffaf4241

Change-Id: I2bf9ca64f8fcbec074e8242f4fe9e2ef5b7f924b
"
openstack%2Ftripleo-heat-templates~master~I741cfef2ee02f7f4c90acd5627e6bc0eb966ea93,openstack/tripleo-heat-templates,master,ovn-vif_type,I741cfef2ee02f7f4c90acd5627e6bc0eb966ea93,Remove the OVNVifType parameter,MERGED,2021-01-03 08:22:08.000000000,2021-04-09 05:18:51.000000000,2021-04-09 05:18:51.000000000,5,14,0,769018,9d1e9179490aabe6e69fcf531a60293779dda0fd,19,5,2,7,9816,Takashi Kajinami,kajinamit,"Remove the OVNVifType parameter

The ovn/vif_type parameter was deprecated in networking-ovn a while ago
and has been ineffective since then[1].
This change removes the OVNVifType parameter from tht, which sets that
useless parameter in neutron.

[1] 5be7dfeb637984f75937a21b994c1375dfa77d87

Change-Id: I741cfef2ee02f7f4c90acd5627e6bc0eb966ea93
"
openstack%2Ftripleo-heat-templates~master~I788723aa45407735283dd7c52507d8b5c1ac8f7b,openstack/tripleo-heat-templates,master,ovn_l3_mode,I788723aa45407735283dd7c52507d8b5c1ac8f7b,Neutron: Do not set ovn_l3_mode,MERGED,2021-01-03 08:04:31.000000000,2021-04-09 05:18:09.000000000,2021-04-09 05:18:09.000000000,0,1,0,769000,06eb1d1679cc9a0fd513452331b260ee251aecbb,11,7,1,1,9816,Takashi Kajinami,kajinamit,"Neutron: Do not set ovn_l3_mode

... because this option was deprecated[1] and has no effect with native
L3 support.

[1] 92952f016562cb89d1fd0ac320baff0786850aff

Change-Id: I788723aa45407735283dd7c52507d8b5c1ac8f7b
"
openstack%2Ftripleo-heat-templates~master~I205e3c58f887a2ea9b4d293f938708f100e64036,openstack/tripleo-heat-templates,master,ec2-driver,I205e3c58f887a2ea9b4d293f938708f100e64036,Remove unused [ec2]driver parameter,MERGED,2020-12-23 23:46:41.000000000,2021-04-09 05:17:44.000000000,2021-04-09 05:17:44.000000000,0,3,0,768375,f04f9645a5499b1c512411676c27b568bbba42c1,9,5,1,1,9816,Takashi Kajinami,kajinamit,"Remove unused [ec2]driver parameter

... because this parameter no longer exists in keystone, and is not
loaded.

Change-Id: I205e3c58f887a2ea9b4d293f938708f100e64036
"
openstack%2Ftripleo-upgrade~stable%2Fvictoria~Ia898a08f96f10e7f9817108bf7161478fa3d354c,openstack/tripleo-upgrade,stable/victoria,,Ia898a08f96f10e7f9817108bf7161478fa3d354c,Add validations to updates.,MERGED,2021-03-29 11:04:14.000000000,2021-04-09 05:16:37.000000000,2021-04-09 05:16:37.000000000,78,2,3,783634,7af5df08a20ed0491d1c0c69b7431b4a21d9c0fc,17,4,3,5,31245,Daniel Bengtsson,damani42,"Add validations to updates.

Add a new variable updates_validations (default false) to run the
validations for update.

Add new command line options to run the validations for update.

Backport Inlcudes: https://review.opendev.org/c/openstack/tripleo-upgrade/+/783898
Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Co-authored-by: Sofer Athlan-Guyot <sathlang@redhat.com>

Change-Id: Ia898a08f96f10e7f9817108bf7161478fa3d354c
(cherry picked from commit aac7c99e6c04d2049e746c4d55e1660706a3e77d)
"
openstack%2Ftacker~master~I807cfdbc2f0a710fe2918fa376c51ba6aa406f1b,openstack/tacker,master,,I807cfdbc2f0a710fe2918fa376c51ba6aa406f1b,Remove log translations,ABANDONED,2017-03-21 06:35:36.000000000,2021-04-09 04:29:55.000000000,,11,27,0,447881,a6c7afed80883fc06547f63c8e3ac23ca93d5b3a,14,3,5,7,25165,lidaohan,daohanli,"Remove log translations

Log messages are no longer being translated. This removes all use of
the _LE, _LI, and _LW translation markers to simplify logging and to
avoid confusion with new contributions.

See:
http://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html
http://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html

Change-Id: I807cfdbc2f0a710fe2918fa376c51ba6aa406f1b
"
openstack%2Fdevstack~stable%2Frocky~I0ba1fd05c6391cd8bb978119ecfbb891def2d497,openstack/devstack,stable/rocky,move-stackviz-role,I0ba1fd05c6391cd8bb978119ecfbb891def2d497,Move process-stackviz role from Tempest to Devstack,NEW,2020-06-19 20:33:43.000000000,2021-04-09 03:16:09.000000000,,95,0,2,737078,9b2a4f3babbc29fa7d3d9c8fda83df03f5715a9f,16,3,4,3,8556,Ghanshyam,ghanshyam,"Move process-stackviz role from Tempest to Devstack

process-stackviz role currently defined in Tempest repo[1] and used
in tempest jobs. Issue with having it in branchless Tempest is that any
fix in that role cannot be backported to older Tempest. Also stackviz is
not Tempest things it is only used by Tempest jobs.

Stackviz can be considered as a service similar to Tempest so inatlling it in
Devstack side make sense. Also that will give us advantage to handle the
branch specific fixes or backpoting the fixes.

This can solve the current issues we are facing on rocky branch
- https://zuul.opendev.org/t/openstack/build/c1e2da80537448bfb24331fb4198a931/console#4/0/29/controller

[1] https://opendev.org/openstack/tempest/src/branch/master/roles/process-stackviz

Depends-On: https://review.opendev.org/#/c/737074/

Change-Id: I0ba1fd05c6391cd8bb978119ecfbb891def2d497
"
openstack%2Fdevstack-plugin-container~stable%2Fwallaby~Ic8accb7a18f769dfd0a6e43f212e8c4bc2fd4db4,openstack/devstack-plugin-container,stable/wallaby,create-wallaby,Ic8accb7a18f769dfd0a6e43f212e8c4bc2fd4db4,Update .gitreview for stable/wallaby,MERGED,2021-04-08 10:16:17.000000000,2021-04-09 02:48:31.000000000,2021-04-09 02:48:31.000000000,1,0,0,785366,22a0cf658f0d088d5fd66620027a9ec415b655fa,6,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/wallaby

Change-Id: Ic8accb7a18f769dfd0a6e43f212e8c4bc2fd4db4
"
openstack%2Fdevstack-plugin-container~stable%2Fvictoria~I235cb24940ebc25a1a8e1aa5ad941a0984183b6e,openstack/devstack-plugin-container,stable/victoria,create-victoria,I235cb24940ebc25a1a8e1aa5ad941a0984183b6e,Update .gitreview for stable/victoria,MERGED,2021-04-08 09:06:20.000000000,2021-04-09 02:48:28.000000000,2021-04-09 02:48:28.000000000,1,0,0,785345,a4c0ad5d223c908b2fdbcfea18d3c8b086a9bc1f,6,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/victoria

Change-Id: I235cb24940ebc25a1a8e1aa5ad941a0984183b6e
"
openstack%2Fcharm-keystone~master~Ia8cb1ad7417014fbc20178ccc598117c97a34188,openstack/charm-keystone,master,bug/1886630,Ia8cb1ad7417014fbc20178ccc598117c97a34188,Refresh cipher suites and protocols,MERGED,2021-03-29 02:47:28.000000000,2021-04-09 02:32:19.000000000,2021-04-09 02:32:19.000000000,8,2,0,783589,4c7c98ab90b8a36b25c82fd76c9c773546895a3f,15,3,1,1,8108,Nobuto Murata,nobuto-m,"Refresh cipher suites and protocols

The last update was 2016, and it's time to drop TLSv1 and TLSv1.1 as the
base configuration recommended by Mozilla.
https://wiki.mozilla.org/Security/Server_Side_TLS

This is equivalent to a charm-helper's change:
https://github.com/juju/charm-helpers/commit/27d6ceb385e44a0610c1a6aba8e225368c4af384

Closes-Bug: #1886630
Change-Id: Ia8cb1ad7417014fbc20178ccc598117c97a34188
"
openstack%2Fnova~master~I3878fb9f36bb05dbb949f137a5d5c6664a27b69f,openstack/nova,master,bug/1920256,I3878fb9f36bb05dbb949f137a5d5c6664a27b69f,trivial: fix word duplication in api ref,MERGED,2021-03-22 08:25:54.000000000,2021-04-09 01:58:33.000000000,2021-04-09 01:55:36.000000000,2,2,0,782028,559404c23b0109dd72b51d792f1921a1ee0a590e,12,6,1,1,9708,Balazs Gibizer,gibi,"trivial: fix word duplication in api ref

Change-Id: I3878fb9f36bb05dbb949f137a5d5c6664a27b69f
Closes-Bug: #1920256
"
openstack%2Fnova~master~Iba40c2df72228b461767d5734d5a62403d9f2cfa,openstack/nova,master,bug/1917619,Iba40c2df72228b461767d5734d5a62403d9f2cfa,libvirt: Simplify device_path check in _detach_encryptor,MERGED,2021-03-03 13:48:37.000000000,2021-04-09 01:57:20.000000000,2021-04-09 01:55:13.000000000,37,24,1,778463,4908daed96ddda492ced6cbb084abe8f33a8b1f7,20,3,3,2,10135,Lee Yarwood,lyarwood,"libvirt: Simplify device_path check in _detach_encryptor

Introduced by Id670f13a7f197e71c77dc91276fc2fba2fc5f314 to resolve bug
 #1821696 this check was put in place to ensure _detach_encryptor did not
attempt to use the os-brick encryptors with an unsupported volume type
after libvirt secrets had been removed outside the control of Nova.

With the introduction of the [workarounds]disable_native_luksv1 via
Ia500eb614cf575ab846f64f4b69c9068274c8c1f however the use of
_allow_native_luksv1 as part of this check is no longer valid. As this
helper was updated to return False when the workaround is enabled,
regardless of the underlying volume being attached natively or not.

If an admin had enabled the workaround after users had launched
instances with natively attached encrypted volumes *and* the libvirt
secrets had gone missing _detach_encryptor would attempt to use the
os-brick encryptors. This would fail when the underlying volume type is
unsupported, for example rbd. See bug #1917619 for an example.

This change resolves this corner case by dropping the use of
_allow_native_luksv1 from the check and just asserting that a
device_path is present for an encrypted volume before allowing the use
of the os-brick encryptors. As noted this is safe as calls to the
encryptors are idempotent, ignoring failures to detach when the
underlying volume type is supported.

Closes-Bug: #1917619
Change-Id: Iba40c2df72228b461767d5734d5a62403d9f2cfa
"
openstack%2Ftripleo-common~master~I4b0b90d196bed2025e2111a813d0c0dfa1c7fedc,openstack/tripleo-common,master,bug/1921713,I4b0b90d196bed2025e2111a813d0c0dfa1c7fedc,Don't use tripleo_hostname tag,MERGED,2021-03-29 16:19:23.000000000,2021-04-09 01:41:58.000000000,2021-04-09 01:40:13.000000000,20,26,2,783702,08addb94890693243909fd7cec99137a5c34331e,18,6,2,3,24245,Harald Jensås,harald.jensas,"Don't use tripleo_hostname tag

The tags field in neutron has a max length of
60 characters. A hostname can be longer, and in
the case it is longer adding the tag will cause
a ""Invalid input exceeds maximum length of 60""
error will be raised.

Use the 'dns_name' field instead of the custom tag.

Related-Bug: #1921713
Change-Id: I4b0b90d196bed2025e2111a813d0c0dfa1c7fedc
"
openstack%2Ftripleo-heat-templates~master~I8cb69256e57f20dd1050f99fa305c56f22435bc2,openstack/tripleo-heat-templates,master,,I8cb69256e57f20dd1050f99fa305c56f22435bc2,Move Ceph services to linux-system-roles.certificate,MERGED,2021-04-03 13:12:53.000000000,2021-04-09 01:40:34.000000000,2021-04-09 01:40:34.000000000,109,76,0,784626,1954c3b2514349296621e47a43dda0991f4722c7,18,9,2,3,25402,Francesco Pantano,fmount,"Move Ceph services to linux-system-roles.certificate

When Ceph is deployed by cephadm and tls-everywhere is enabled,
all the related certificates and keys should be created by TripleO.
For this reason, this change aligns these services to use the role [1]
for key and cert generation.

[1] https://github.com/linux-system-roles/certificate

Change-Id: I8cb69256e57f20dd1050f99fa305c56f22435bc2
"
openstack%2Ftripleo-heat-templates~master~I72fd4a9575482389900145a03a6142cccd1111ba,openstack/tripleo-heat-templates,master,bug/1921713,I72fd4a9575482389900145a03a6142cccd1111ba,Remove tripleo_hostname tag,MERGED,2021-03-29 16:20:31.000000000,2021-04-09 01:40:04.000000000,2021-04-09 01:40:04.000000000,0,4,3,783704,b40d5d70277f1cc499d413ee12564e310d12f8d5,17,7,2,1,24245,Harald Jensås,harald.jensas,"Remove tripleo_hostname tag

The tags field in neutron has a max length of
60 characters. A hostname can be longer, and in
the case it is longer adding the tag will cause
a ""Invalid input exceeds maximum length of 60""
error will be raised.

Related-Bug: #1921713
Change-Id: I72fd4a9575482389900145a03a6142cccd1111ba
"
openstack%2Ftripleo-heat-templates~master~I0ed0d6657622100480721f7e4ca14e39944ce292,openstack/tripleo-heat-templates,master,simplify_tht,I0ed0d6657622100480721f7e4ca14e39944ce292,Fix some template conditions,MERGED,2021-04-06 10:07:59.000000000,2021-04-09 01:39:43.000000000,2021-04-09 01:39:43.000000000,8,10,0,784911,95bc75aaf24e03de61157aa095ac81d9d85f31f1,13,4,3,4,8833,Rabi Mishra,rabi,"Fix some template conditions

Regressions from Ic77ed56c32c7071ce126a1528030094b97894653
and I685ec7d7c583c9f8d9f04b0f1027136ed042487c.
'if' can't be used for a key in a map. If specified for
a value the key would be ignored.

Change-Id: I0ed0d6657622100480721f7e4ca14e39944ce292
"
openstack%2Ftripleo-heat-templates~master~I520d32488f3300ebe895040c2cd5f0acc0c0d386,openstack/tripleo-heat-templates,master,simplify_tht,I520d32488f3300ebe895040c2cd5f0acc0c0d386,Simplify ceilometer service template conditions,MERGED,2021-03-19 10:49:55.000000000,2021-04-09 01:39:19.000000000,2021-04-09 01:39:19.000000000,24,42,10,781622,3ed29643b99ff99b7b4f4e1c96cd269d7c07f822,35,7,7,5,8833,Rabi Mishra,rabi,"Simplify ceilometer service template conditions

Also removes leftover ceilometer_qdr_publish condition.

Change-Id: I520d32488f3300ebe895040c2cd5f0acc0c0d386
"
openstack%2Ftripleo-heat-templates~master~I799c4d60a674af965971c763e437e4f7987b0dff,openstack/tripleo-heat-templates,master,simplify_tht,I799c4d60a674af965971c763e437e4f7987b0dff,Simplify conditions in barbican service templates,MERGED,2021-04-05 03:33:26.000000000,2021-04-09 01:39:10.000000000,2021-04-09 01:39:10.000000000,62,121,0,784725,06efcbbd1ff8987070cbf007b43b05b542549292,25,5,5,1,8833,Rabi Mishra,rabi,"Simplify conditions in barbican service templates

Change-Id: I799c4d60a674af965971c763e437e4f7987b0dff
"
openstack%2Fdevstack~stable%2Frocky~Ic0a7be9e91b78301b114687f6d6445207d2d9bb8,openstack/devstack,stable/rocky,,Ic0a7be9e91b78301b114687f6d6445207d2d9bb8,DNM: testing gate,ABANDONED,2021-04-08 16:15:56.000000000,2021-04-09 01:23:21.000000000,,1,0,0,785440,12ce39e7a78b26e755ce3d2e8355800d0f2011f5,3,1,1,1,8556,Ghanshyam,ghanshyam,"DNM: testing gate

Change-Id: Ic0a7be9e91b78301b114687f6d6445207d2d9bb8
"
openstack%2Fansible-collections-openstack~master~I8a10b36eef9a98fe1a4b43a7c6ce8986950154ad,openstack/ansible-collections-openstack,master,,I8a10b36eef9a98fe1a4b43a7c6ce8986950154ad,Bump to dev version,MERGED,2021-04-08 21:23:37.000000000,2021-04-09 01:16:31.000000000,2021-04-09 01:16:31.000000000,1,1,0,785516,f3e9c78c18a281259bd70526229fcd772ac78a59,6,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Bump to dev version

Change-Id: I8a10b36eef9a98fe1a4b43a7c6ce8986950154ad
"
openstack%2Ftempest~master~Ie641d053d41bac3df2b3bbc9b16f32e02b44a9fb,openstack/tempest,master,ssh-debugging,Ie641d053d41bac3df2b3bbc9b16f32e02b44a9fb,DNM debugging,ABANDONED,2021-01-13 21:34:08.000000000,2021-04-08 23:53:39.000000000,,2,2,0,770668,0b2637639c4cf626916ed4052511fcab0323c214,4,1,2,1,4690,melanie witt,melwitt,"DNM debugging

Change-Id: Ie641d053d41bac3df2b3bbc9b16f32e02b44a9fb
"
openstack%2Ftripleo-heat-templates~master~I987b5b2213827f2802e86c8ed55ff6380ff34f2d,openstack/tripleo-heat-templates,master,,I987b5b2213827f2802e86c8ed55ff6380ff34f2d,Set NeutronEnableDVR to False for OVN-HA,ABANDONED,2020-10-20 02:25:18.000000000,2021-04-08 23:37:00.000000000,,1,0,2,758897,d71b24549a2cf48c0373a68c7ba656a0bc474a7a,7,3,2,1,16347,Purandhar Sairam Mannidi,mpsairam,"Set NeutronEnableDVR to False for OVN-HA

deployment/neutron/neutron-plugin-ml2-ovn.yaml sets DVR by default.
We need to explicitly mark the environment variable NeutronEnableDVR
to False to disable DVR.

Fixed missed environmental file for baremetal service.

Change-Id: I987b5b2213827f2802e86c8ed55ff6380ff34f2d
"
openstack%2Ftripleo-heat-templates~master~I1c1a49fdae6fb3e3ba15030eb762128c76f2a391,openstack/tripleo-heat-templates,master,simplify_tht,I1c1a49fdae6fb3e3ba15030eb762128c76f2a391,Simplify apache service conditions,MERGED,2021-04-05 03:33:26.000000000,2021-04-08 23:05:59.000000000,2021-04-08 23:05:59.000000000,13,21,0,784724,cefbfe418c9ed01b6ed41524a73d66009eab7cbc,18,6,5,1,8833,Rabi Mishra,rabi,"Simplify apache service conditions

Change-Id: I1c1a49fdae6fb3e3ba15030eb762128c76f2a391
"
openstack%2Fswift~master~Ic2bc4efeba5ae5bc8881f0deaf4fd9e10213d3b7,openstack/swift,master,p-probe-use-assert-subprocess,Ic2bc4efeba5ae5bc8881f0deaf4fd9e10213d3b7,probe test: use helper functions more widely,MERGED,2021-04-08 12:45:30.000000000,2021-04-08 22:23:55.000000000,2021-04-08 22:22:25.000000000,40,42,0,785405,122840cc04cd71f0f0ae6a1fbd14d4fe5bf5596c,7,2,1,2,7847,Alistair Coles,acoles,"probe test: use helper functions more widely

Use the recently added assert_subprocess_success [1] helper function
more widely.

Add run_custom_sharder helper.

Add container-sharder key to the ProbeTest.configs dict.

[1] Related-Change: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3

Change-Id: Ic2bc4efeba5ae5bc8881f0deaf4fd9e10213d3b7
"
openstack%2Fdevstack-tools~master~I46af013b85753bfdb3a0a3c4cedf261a8f53ecb2,openstack/devstack-tools,master,dsconf-fix,I46af013b85753bfdb3a0a3c4cedf261a8f53ecb2,Add console_scripts entry point,MERGED,2021-04-08 19:27:33.000000000,2021-04-08 22:12:45.000000000,2021-04-08 22:11:33.000000000,4,0,0,785502,de912aef554f443b93aae2c5a76eacb40eef63ce,8,2,1,1,16643,Goutham Pacha Ravi,gouthamr,"Add console_scripts entry point

dsconf is a CLI utility, and it needs
to be exposed as a console_script during
installation.

Change-Id: I46af013b85753bfdb3a0a3c4cedf261a8f53ecb2
"
openstack%2Fnova~master~I212a2db8d71702d330b146dc6f871b402a309e74,openstack/nova,master,bug/1919487,I212a2db8d71702d330b146dc6f871b402a309e74,compute: Reject requests to commit intermediary snapshot of an inactive instance,MERGED,2021-03-17 18:00:16.000000000,2021-04-08 22:06:49.000000000,2021-04-08 22:04:19.000000000,66,9,8,781138,99409375a03e6f923a8b6b00a5dd653bab74caaf,43,4,5,2,10135,Lee Yarwood,lyarwood,"compute: Reject requests to commit intermediary snapshot of an inactive instance

Introduced by I76eb2e4da027a13525314bd58264f482374d270d the
os-assisted-volume-snapshots API is only implemented by the libvirt virt
driver and should only be called by c-vol as part of an orchestrated
remotefs based volume snapshot creation or deletion workflow.

While not documented clearly in the current api-ref there are code
comments within the compute API suggesting that this API can be called
against a volume attached to an instance that is in *any* vm_state.

This however is not correct when deleting and in turn committing an
intermediary volume snapshot of an instance that is not running given
the current implementation within the libvirt driver. With a request to
virDomainBlockCommit being made that fails if the instance and
underlying domain is not running.

Adding support for an offline commit isn't trivial and would be
considered a new feature and not something we could backport on the
stable branches. As such this change seeks to ensure requests to commit
an intermediary volume snapshot from an inactive instance are rejected
quickly and clearly by the compute API to the caller before we cast to
the compute.

Closes-Bug: #1919487
Change-Id: I212a2db8d71702d330b146dc6f871b402a309e74
"
openstack%2Fhorizon~stable%2Fwallaby~I590ce3a5cbaa0ebb470228a7114a60ff89467835,openstack/horizon,stable/wallaby,bug/1916958-stable/wallaby,I590ce3a5cbaa0ebb470228a7114a60ff89467835,"Move ""Domain"" field under ""User Name"" and ""Password""",MERGED,2021-04-07 10:16:39.000000000,2021-04-08 21:51:58.000000000,2021-04-08 21:50:45.000000000,2,4,0,785121,bb2a4bb3c4ef3eb7113388a06b9fd4f502db60bc,17,5,1,1,1736,Ivan Kolodyazhny,e0ne,"Move ""Domain"" field under ""User Name"" and ""Password""

Autofocus on the login screen now is on the first field. It's either
""User Name"" or ""Domain"" with multidomain support. However it appears
to be more convenient to keep the focus on ""User Name"" whether there
is multidomain support or not. Also ""Domain"" is pre-filled with the
last domain used, so often there's no need to change it.

This patch moves ""Domain"" field under ""User Name"" and ""Password"" and
keeps autofocus always on ""User Name"".

Closes-Bug: #1916958

Change-Id: I590ce3a5cbaa0ebb470228a7114a60ff89467835
(cherry picked from commit b09e5b303c8ba0e967e5178794a39fcee628e4e0)
"
openstack%2Fhorizon~stable%2Fwallaby~I02f88b6444d268253a3888e2ba56a33bb2f51e73,openstack/horizon,stable/wallaby,,I02f88b6444d268253a3888e2ba56a33bb2f51e73,Replace Delete Force Volume Backup with Force Delete Volume Backup,MERGED,2021-04-07 13:11:23.000000000,2021-04-08 21:50:50.000000000,2021-04-08 21:49:37.000000000,4,4,0,785134,0e47012a73d57379f39b525a2c03ae6d969b9390,18,4,1,1,841,Akihiro Motoki,amotoki,"Replace Delete Force Volume Backup with Force Delete Volume Backup

This patch replaces the Delete Force Volume Backup/Backups with
Force Delete Volume Backup/Backups as Delete Force Volume Backup
looks incorrect. It also drops the usage of unicode prefix from
``admin/backups/tables.py`` file.

Closes-bug: #1919120
Change-Id: I02f88b6444d268253a3888e2ba56a33bb2f51e73
(cherry picked from commit 893d0c026eaca47f6d2821100fb9cf3e2d2e6843)
"
openstack%2Fswift~master~Id4f16b06813e1fb4bc12456587044d983b63babc,openstack/swift,master,multi-increase,Id4f16b06813e1fb4bc12456587044d983b63babc,diskfile: Have _part_power_cleanup only cleanup during relink phase,NEW,2021-04-07 20:59:46.000000000,2021-04-08 21:48:37.000000000,,69,54,0,785280,4cef0ae670c10d5154a70166d2175cccc7bdca39,4,1,1,2,15343,Tim Burke,tburke,"diskfile: Have _part_power_cleanup only cleanup during relink phase

During cleanup, no new data is getting written to the old partition, so
there's no new information to allow us to clean up old data.

Change-Id: Id4f16b06813e1fb4bc12456587044d983b63babc
"
openstack%2Fcharm-keystone~master~I639b2b77d5db69744897b6798613a797d05fe23b,openstack/charm-keystone,master,bug/1899117,I639b2b77d5db69744897b6798613a797d05fe23b,Support configurable dogpile cache expiration,MERGED,2021-04-06 20:58:37.000000000,2021-04-08 21:43:47.000000000,2021-04-08 21:43:47.000000000,24,0,1,785046,152e5b6cfec7ff96761f5096adc7959ff8eef4f6,20,4,2,6,11805,Corey Bryant,coreycb,"Support configurable dogpile cache expiration

The [cache]/expiration_time currently caches items for the default
of 600s and is not configurable via the charm. This change adds a
dogpile-cache-expiration config option that will default to 600s
so as not to cause any behavior changes by default.

Closes-Bug: #1899117
Change-Id: I639b2b77d5db69744897b6798613a797d05fe23b
Co-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>
"
openstack%2Fdesignate~master~I9fd558cec85da87c8daea36f7a9e2666948e72f1,openstack/designate,master,,I9fd558cec85da87c8daea36f7a9e2666948e72f1,Move back to mod_wsgi for devstack,MERGED,2020-09-18 06:47:08.000000000,2021-04-08 21:28:39.000000000,2020-09-19 01:54:59.000000000,1,1,0,752628,185d92d230bdf8149b3ae3f6d1730ec23c0514d7,14,3,4,1,22623,Erik Olof Gunnar Andersson,eoandersson,"Move back to mod_wsgi for devstack

There is an issue with the unauthed tests
and uwsgi causing the CI to frequently fail.
Lets move back to mod_wsgi until we can figure
that out.

Change-Id: I9fd558cec85da87c8daea36f7a9e2666948e72f1
"
openstack%2Ftripleo-validations~master~I765218b61f761ce1df387abea33e35f2c96a1ec6,openstack/tripleo-validations,master,unittest/coverage-refinement,I765218b61f761ce1df387abea33e35f2c96a1ec6,"Coverage considers other all main source folders, omits tests",MERGED,2021-03-23 17:21:44.000000000,2021-04-08 21:21:01.000000000,2021-04-08 21:19:52.000000000,8,2,0,782571,a7b71520714082068e62e3ee50090baae37b671d,16,6,3,2,32926,Jiri Podivin,jpodivin,"Coverage considers other all main source folders, omits tests

This should have been in the initial patch, arguably.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I765218b61f761ce1df387abea33e35f2c96a1ec6
"
openstack%2Ftripleo-validations~master~I6bf27ffe88ff55b62e202678340a324058d30051,openstack/tripleo-validations,master,unittest/coverage,I6bf27ffe88ff55b62e202678340a324058d30051,Coverage now uses stestr.,MERGED,2021-03-08 14:27:39.000000000,2021-04-08 21:19:26.000000000,2021-04-08 21:17:21.000000000,10,5,0,779273,79955d174222c1eea9dc1bcb2549c7cf2e7edc8d,22,8,6,1,32926,Jiri Podivin,jpodivin,"Coverage now uses stestr.

This brings coverage measuring in line with
the standard tox testing process.

Closes-bug: #1922726

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6bf27ffe88ff55b62e202678340a324058d30051
"
openstack%2Ftripleo-ansible~master~Ie4a6787f98759792031666378a6044fe34ba9d51,openstack/tripleo-ansible,master,pc,Ie4a6787f98759792031666378a6044fe34ba9d51,Bump linters,MERGED,2021-04-07 14:41:05.000000000,2021-04-08 21:18:00.000000000,2021-04-08 21:18:00.000000000,4,11,0,785189,4290b7190574a226a3c8e71c14af52b8b9c20ad5,11,6,1,1,24162,Sorin Sbârnea,ssbarnea,"Bump linters

- bump all linters
- ansible-lint 5.0.7 included a retry feature for installing
  collections (we had one gate failure today due to a glitch in the
  galaxy, server.
- flake8 was moved to github
- remove yamllint as ansible-lint already runs it

Change-Id: Ie4a6787f98759792031666378a6044fe34ba9d51
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I1f88b982ecb9a94b45e194691d1ce629df3f9aa7,openstack/tripleo-ansible,stable/train,bug/1921069,I1f88b982ecb9a94b45e194691d1ce629df3f9aa7,Do not update podman during deployment,MERGED,2021-04-06 11:34:27.000000000,2021-04-08 21:17:16.000000000,2021-04-08 21:17:16.000000000,1,1,0,784928,fc0980442f46886568ac7675b011de2719a2e694,13,5,1,1,9816,Takashi Kajinami,kajinamit,"Do not update podman during deployment

Generally speaking we don't expect any package is updated during
deployment. What is worse, we have experienced several issues caused by
change in podman, thus we should be very careful about the timing
when we update it.

This change ensures that the podman package is not updated by
deployment so that it is updated only by proper minor update steps.

Closes-Bug: #1921069
Change-Id: I1f88b982ecb9a94b45e194691d1ce629df3f9aa7
(cherry picked from commit 0b156aae59849eb479158c98df0175ded108cb7c)
(cherry picked from commit 01b47a7bc15597be2f26db158fbda71af837a74e)
(cherry picked from commit 458e1b393ead12a189e08c087c66d99877086e04)
"
openstack%2Fdiskimage-builder~master~I9e29b99fcad39187d5bb7dfc4a69d248d92066d7,openstack/diskimage-builder,master,support-secure-boot-with-ubuntu,I9e29b99fcad39187d5bb7dfc4a69d248d92066d7,Support secure boot with Ubuntu if using efi,NEW,2021-04-08 19:34:44.000000000,2021-04-08 21:14:55.000000000,,15,2,0,785503,8d57e71c91a80cf3d1fb037584bf3814b090252a,5,1,1,1,4146,Clark Boylan,cboylan,"Support secure boot with Ubuntu if using efi

For more consistency between distros add secure boot support to efi
based Ubuntu images. This adds the shim-signed package to the grub-efi
install list when configuring Ubuntu. Note that on arm64 only >=20.04
supports this package so we have rules to ensure <=18.04 drop it.

Change-Id: I9e29b99fcad39187d5bb7dfc4a69d248d92066d7
"
openstack%2Fpuppet-tripleo~master~Id24897e8c9927ee196a4f8eeffc6b5a3a25d809f,openstack/puppet-tripleo,master,,Id24897e8c9927ee196a4f8eeffc6b5a3a25d809f,Clean up deprecated parameters for nova metadata eventlet service,MERGED,2020-10-26 12:31:58.000000000,2021-04-08 21:11:19.000000000,2021-04-08 21:10:06.000000000,10,24,0,759674,ee2f1b8fac3a63e823bbc7b12416a244be969c8d,10,4,2,2,9816,Takashi Kajinami,kajinamit,"Clean up deprecated parameters for nova metadata eventlet service

This changes removes the parameters for nova metadata eventlet service,
which were deprecated a while ago[1].

[1] 54c505f1967909505c09fbc11c4a969b1af65439

Change-Id: Id24897e8c9927ee196a4f8eeffc6b5a3a25d809f
"
openstack%2Freleases~master~I45909ea08f92fe219ee012a86cfe009ab06716d8,openstack/releases,master,wallaby-final-rc,I45909ea08f92fe219ee012a86cfe009ab06716d8,Proposing wallaby RC2 for cinder,MERGED,2021-04-08 08:55:29.000000000,2021-04-08 21:04:55.000000000,2021-04-08 21:04:55.000000000,4,0,0,785343,312c86ef8e89cbbd704b9ad24d0ddaa19d1c6081,12,4,2,1,28522,Hervé Beraud,hberaud,"Proposing wallaby RC2 for cinder

Release 18.0.0.0rc2

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I45909ea08f92fe219ee012a86cfe009ab06716d8
"
openstack%2Fvalidations-common~master~I1c7790e30cbfa7657069862b37e90b9f9a2c2f61,openstack/validations-common,master,,I1c7790e30cbfa7657069862b37e90b9f9a2c2f61,Add tripleo-standalone-scenarios-pipeline template,ABANDONED,2021-04-08 20:28:03.000000000,2021-04-08 20:54:57.000000000,,12,0,0,785509,411b19bdada7b5d6bbc891cb1d24a775b75711be,3,5,1,1,11491,Gael Chamoulaud,gchamoul,"Add tripleo-standalone-scenarios-pipeline template

This patch adds TripleO CI jobs which will able to catch at least
packaging issue in validations-common and avoid gate issues.

Closes-Bug: #1923091
Change-Id: I1c7790e30cbfa7657069862b37e90b9f9a2c2f61
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
"
openstack%2Fansible-collections-openstack~master~I64652090e65de8450ca907a57e23e09e562c17da,openstack/ansible-collections-openstack,master,release140,I64652090e65de8450ca907a57e23e09e562c17da,Release 1.4.0 version,MERGED,2021-04-08 17:01:55.000000000,2021-04-08 20:50:04.000000000,2021-04-08 20:50:04.000000000,43,1,0,785447,47382d52ed3d1787bbc1d8c0b4b17438219bea30,7,2,2,3,10969,Shnaidman Sagi (Sergey),sergsh,"Release 1.4.0 version

Change-Id: I64652090e65de8450ca907a57e23e09e562c17da
"
openstack%2Fbifrost~stable%2Fvictoria~I2a55c66817f0407157bbb54bec7c48c6cfe6774d,openstack/bifrost,stable/victoria,fix-which-alias-centos8,I2a55c66817f0407157bbb54bec7c48c6cfe6774d,Use explicit path for which,MERGED,2021-04-08 19:23:23.000000000,2021-04-08 20:48:43.000000000,2021-04-08 20:47:23.000000000,1,1,0,785501,c2a4f845befe36e2b76645060f7c71d1e62902a5,7,2,1,1,23851,Riccardo Pittau,elfosardo,"Use explicit path for which

Use the /usr/bin/which path for which in rpm-based distros to avoid
issues with any aliases.
We need to fix stable branches first because of the upgrade job.
yay

Change-Id: I2a55c66817f0407157bbb54bec7c48c6cfe6774d
"
openstack%2Fansible-collections-openstack~master~I13161b360addac2d2c1c507145b5be653d6dec17,openstack/ansible-collections-openstack,master,,I13161b360addac2d2c1c507145b5be653d6dec17,Container module for management Swift containers,MERGED,2021-03-10 10:58:58.000000000,2021-04-08 20:48:19.000000000,2021-04-08 20:48:19.000000000,274,0,17,779712,0e2058988e3ccaa144203db76a4b24c04753b12d,45,4,20,6,32787,Polina Gubina,pollinagubina,"Container module for management Swift containers

Change-Id: I13161b360addac2d2c1c507145b5be653d6dec17
"
openstack%2Ftripleo-ansible~master~I42231925962ec11d749852cea070f46b216870b8,openstack/tripleo-ansible,master,tripleo-deploy-multinode,I42231925962ec11d749852cea070f46b216870b8,Allow unsafe_writes for /etc/hosts,ABANDONED,2020-05-06 21:28:28.000000000,2021-04-08 20:31:30.000000000,,1,0,1,726002,d85b0d09ff65e04c229b951b01e0907bef1ed3ba,12,3,3,1,7144,James Slagle,slagle,"Allow unsafe_writes for /etc/hosts

This patch sets unsafe_writes: true in the tripleo_hosts_entries role
when updating the /etc/hosts file. Unsafe writes are needed when using
this role inside a container, such as when running tripleo deploy in a
container where /etc/hosts is a container mounted file.

Note that unsafe_writes does not imply that unsafe writes will be used.
It does mean that ansible will fallback to unsafe writes if the atomic
operation fails first. See:
https://docs.ansible.com/ansible/latest/modules/blockinfile_module.html

Change-Id: I42231925962ec11d749852cea070f46b216870b8
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fpython-tripleoclient~master~Ia21166a055e227de13897963b9da87f22be9a126,openstack/python-tripleoclient,master,tripleo-deploy-multinode,Ia21166a055e227de13897963b9da87f22be9a126,Use os.path.expanduser to get home dir,ABANDONED,2020-05-06 21:12:08.000000000,2021-04-08 20:29:00.000000000,,1,1,0,725996,6a78be20d6ee7fd27728bb80f3c641127c536598,15,5,3,1,7144,James Slagle,slagle,"Use os.path.expanduser to get home dir

Instead of assuming /home/$USER is the home dir of the running user, use
python's os.path.expanduser, which will return the actual home directory
for a given user.

While assuming /home is usually safe, it's not always the case, such as
running as root in a container.

blueprint tripleo-deploy-multinode
Change-Id: Ia21166a055e227de13897963b9da87f22be9a126
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fopenstack-ansible-os_senlin~master~Iff0e0eeb27f8f15e1029bb9ec3496e71ec0bf3cb,openstack/openstack-ansible-os_senlin,master,osa-default-python,Iff0e0eeb27f8f15e1029bb9ec3496e71ec0bf3cb,Switch default virtualenv to python3,MERGED,2021-03-10 09:20:52.000000000,2021-04-08 20:11:16.000000000,2021-04-08 20:09:59.000000000,1,1,0,779689,ccb6154cdebb31d48fc9da475013aa09900505fe,20,3,3,1,25023,Jonathan Rosser,jrosser,"Switch default virtualenv to python3

Change-Id: Iff0e0eeb27f8f15e1029bb9ec3496e71ec0bf3cb
"
openstack%2Fnova~master~I4a03561368b945e3aacbef8011b46933cc1fcfd7,openstack/nova,master,docs,I4a03561368b945e3aacbef8011b46933cc1fcfd7,docs: Add CPU models guide,MERGED,2021-03-18 12:30:48.000000000,2021-04-08 20:07:21.000000000,2021-04-08 20:04:28.000000000,190,161,6,781438,ee1443bb3f7ac91ad468455296f0aff5459f4df4,16,4,2,3,15334,Stephen Finucane,sfinucan,"docs: Add CPU models guide

More information taken out of the catchall KVM guide and put into its
own doc, where it belongs.

Change-Id: I4a03561368b945e3aacbef8011b46933cc1fcfd7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I75d7b2e1a6771ebdb05972e29033505391587512,openstack/nova,master,docs,I75d7b2e1a6771ebdb05972e29033505391587512,docs: Change 'add_stylesheet' to 'add_css_file',MERGED,2021-03-18 17:52:15.000000000,2021-04-08 20:06:16.000000000,2021-04-08 20:04:04.000000000,1,1,0,781529,4f1b879a68e4480e6a9c4d2b23cbbfb72e3517d0,9,3,1,1,15334,Stephen Finucane,sfinucan,"docs: Change 'add_stylesheet' to 'add_css_file'

We're seeing a warning in our docs build:

  nova/doc/ext/feature_matrix.py:578: RemovedInSphinx40Warning: The
  app.add_stylesheet() is deprecated. Please use app.add_css_file()
  instead.

Do as it says. This deprecation happened in Sphinx v1.8.0 [1] so there's
no need to bump our minimum version.

[1] https://github.com/sphinx-doc/sphinx/commit/3afc72fba4

Change-Id: I75d7b2e1a6771ebdb05972e29033505391587512
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstacksdk~master~I742fc6247bbecf0129026895607b895a420a538e,openstack/openstacksdk,master,improve-ironic-api-openstacksdk,I742fc6247bbecf0129026895607b895a420a538e,"Fix typo - _list lists, doesn't delete",MERGED,2021-04-08 16:27:58.000000000,2021-04-08 19:49:10.000000000,2021-04-08 19:47:46.000000000,1,1,0,785441,19a948047797fd424b9453c098ab1ed6f8a2e7d0,12,4,2,1,33344,cenne,cenne.d,"Fix typo - _list lists, doesn't delete

Change-Id: I742fc6247bbecf0129026895607b895a420a538e
"
openstack%2Fmanila-ui~stable%2Fwallaby~I408af56e6a54b135d38a486101b4bb3108d4f0d5,openstack/manila-ui,stable/wallaby,,I408af56e6a54b135d38a486101b4bb3108d4f0d5,Support policy-in-code and deprecated policy,MERGED,2021-04-08 01:29:38.000000000,2021-04-08 19:46:38.000000000,2021-04-08 19:45:05.000000000,4280,1,0,785210,1f48e83eae979cb6bca78a024d7023ae70102c1b,8,3,1,5,9816,Takashi Kajinami,kajinamit,"Support policy-in-code and deprecated policy

This change adds support for policy-in-code and deprecated policy
following the change in horizon.

Depends-on: https://review.opendev.org/750134
Change-Id: I408af56e6a54b135d38a486101b4bb3108d4f0d5
(cherry picked from commit 89a90ff9773b93062760df5e3deefb9750112633)
"
openstack%2Fvalidations-common~master~Ida25474d687fba690ab6a342ac61a484e6d939fa,openstack/validations-common,master,callback/default/path,Ida25474d687fba690ab6a342ac61a484e6d939fa,Fallback on PWD for the Validation json log instead of getcwd,MERGED,2021-04-06 21:25:31.000000000,2021-04-08 19:27:05.000000000,2021-04-08 19:27:05.000000000,1,1,3,785050,d67b2a0097dba876d609dfa9ad92968101d4b879,10,6,1,1,16515,mbu,matbu,"Fallback on PWD for the Validation json log instead of getcwd

fallback on getcwd is wrong because the current directory for
the ansible runtime is somewhere in the artifact dir..
We should fallback in the PWD of the current user instead, then
the user and the framework could find the log when
/var/log/validations does not exists

Change-Id: Ida25474d687fba690ab6a342ac61a484e6d939fa
"
openstack%2Ftripleo-heat-templates~master~I93fea9aa35c3c4207b22dc54542f8580e0444e72,openstack/tripleo-heat-templates,master,designate-mdns-ipv6,I93fea9aa35c3c4207b22dc54542f8580e0444e72,Set Designate mdns to listen on both ipv6 and ipv4,MERGED,2020-09-03 03:31:16.000000000,2021-04-08 19:26:50.000000000,2021-04-08 19:26:50.000000000,3,0,1,749629,5cfb038cf8980fcebc14447c409b82094d85c3f3,13,6,1,1,6994,Michael Chapman,michaeltchapman,"Set Designate mdns to listen on both ipv6 and ipv4

If using an ipv6 external network, mdns needs to be listening on
ipv6 so that bind instances outside the tripleo deployment
can pull their zone data.

Change-Id: I93fea9aa35c3c4207b22dc54542f8580e0444e72
"
openstack%2Fpuppet-tripleo~master~Ie24f82fcede4d2862f9e6a49734959499d9fd845,openstack/puppet-tripleo,master,keymgr,Ie24f82fcede4d2862f9e6a49734959499d9fd845,cinder: remove ineffective implementation about key_mgr_backend,MERGED,2021-04-05 11:37:49.000000000,2021-04-08 19:26:30.000000000,2021-04-08 19:26:30.000000000,6,25,0,784764,14528b26403e88bf7672b4b92ae7a71025d6ba5c,8,3,2,2,9816,Takashi Kajinami,kajinamit,"cinder: remove ineffective implementation about key_mgr_backend

Change c376d64e5f0b38165fa50feee04c2de0e1d851bc deprecated
the key_mgr_backend parameter of the cinder::api class, but the logic
to pick up the deprecatd parameter, which was implemented by this
change, was invalid because the cinder class is included before
the cinder::api class is included.
This change removes the invalid implementation and makes that parameter
just ineffective, because we use the cinder::* parameter from t-h-t
and it is unlikely that users would use that puppet-tripleo parameter
directly.

Change-Id: Ie24f82fcede4d2862f9e6a49734959499d9fd845
"
openstack%2Fproject-config~master~I3ab12c8186fe66f9f539941eb2fbec40d22b4354,openstack/project-config,master,arm-nodes,I3ab12c8186fe66f9f539941eb2fbec40d22b4354,Zero the min-ready for arm64 node labels,MERGED,2021-04-08 18:01:55.000000000,2021-04-08 19:23:52.000000000,2021-04-08 18:46:00.000000000,10,9,0,785453,93d20aee0e02ced6bcf5e0956f39cbb16994ed8d,7,2,1,1,5263,Jeremy Stanley,fungi,"Zero the min-ready for arm64 node labels

We presently have a very limited quota for arm64 nodes, so
particularly ones like the xxlarge type can occupy a significant
percentage for hours with just a single min-ready node waiting for a
build to request it. For now, keep no ready arm64 nodes and let them
be booted on demand instead. This does mean builds will spend longer
waiting on some node requests, but should also increase our overall
throughput at peak load by maximizing the available quota for
actually requested nodes.

Change-Id: I3ab12c8186fe66f9f539941eb2fbec40d22b4354
"
openstack%2Fcinder~stable%2Fwallaby~I181dc81812f3f20168dc71132a1a909d8d05d457,openstack/cinder,stable/wallaby,wallaby-rbd-note,I181dc81812f3f20168dc71132a1a909d8d05d457,Add known issue note about encrypted volumes,MERGED,2021-04-07 16:39:53.000000000,2021-04-08 18:54:09.000000000,2021-04-08 18:52:26.000000000,64,0,15,785235,4eb95de87bd2f6af3340f07f1af3a45e2463009e,40,8,5,1,5314,Brian Rosmaita,brian-rosmaita,"Add known issue note about encrypted volumes

Change-Id: I181dc81812f3f20168dc71132a1a909d8d05d457
"
openstack%2Fneutron~stable%2Fussuri~I485762b46567a99b9ebd6eb047c7088fed8071d1,openstack/neutron,stable/ussuri,,I485762b46567a99b9ebd6eb047c7088fed8071d1,[ovn]: Remove unwanted IP addresses from OVN ports,MERGED,2021-03-31 09:40:53.000000000,2021-04-08 18:53:50.000000000,2021-04-08 18:52:19.000000000,20,15,0,784058,d6b2cc99f682100d5f434b44019b12e37b3bc297,16,3,1,2,32586,Elvira García Ruiz,elvira,"[ovn]: Remove unwanted IP addresses from OVN ports

MAC learning has been added in OVN v21.03[0]. Now, if DHCP and port
security are disabled, then the addresses field of a port should not
include its MAC-IP address pairs. This allows the use of OVN MAC
learning capabilities. Existing tests now match this requirement too.

[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both

Change-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1
Closes-Bug: 1904412
Signed-off-by: Elvira García Ruiz <egarciar@redhat.com>
(cherry picked from commit 24fddc760edcf2004f4608a42ae75f82b3b72b76)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7a38a01f498d350d065a7c312a6654832fe24e6a,openstack/tripleo-heat-templates,stable/train,memcached-cert-stable/train,I7a38a01f498d350d065a7c312a6654832fe24e6a,Add non-tls listener to Memcached,MERGED,2021-03-10 09:10:12.000000000,2021-04-08 18:49:55.000000000,2021-04-08 18:49:55.000000000,74,3,0,779665,9f50fad9ab3b690cc3a8d05ebb7e67441223a47b,19,9,3,1,14250,Grzegorz Grasza,xek,"Add non-tls listener to Memcached

This step is required in order to migrate services to use TLS one by
one. This config should go away once all services support TLS.

NOTE(moguimar): Squashing two extra fixes here that were merged after
the first patch in master.

Squashes:
- Fix memcached firewall condition
  (cherry picked from commit 2ee68bf9a713d5f4b5b6b73c40633627fb905d6c)
- Fix parameters for puppet-memcached-6.0.0
  (cherry picked from commit 9be84a2fc268b2a8838f10d740d181e54ede6572)

Change-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a
Co-authored-By: Grzegorz Grasza <xek@redhat.com>
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
(cherry picked from commit 125ebd64f4cbd0685ae45f985ef29835edcf9e50)
"
openstack%2Ftripleo-common~master~Ic23fe980285bd737bc0a0d3fff607edf6b541aa3,openstack/tripleo-common,master,disable_http_filter,Ic23fe980285bd737bc0a0d3fff607edf6b541aa3,Disable disable_http_filter for newer rhev version,ABANDONED,2020-12-24 18:38:00.000000000,2021-04-08 18:35:06.000000000,,1,0,0,768483,422b34e3995d6ef843e74a8eea0ebf2a1eb40346,6,2,3,1,7130,David Hill,dhill,"Disable disable_http_filter for newer rhev version

With newer rhev/ovirt release, disable_http_filter is required for the
fencing call to succeed.   Without that setting, the following error
message is returned: ""ERROR: Failed: Unable to obtain correct plug
status or plug is not available"".

Change-Id: Ic23fe980285bd737bc0a0d3fff607edf6b541aa3
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id10f026c8b31cad7b7313ac9427a99b3e6744788,openstack/tripleo-heat-templates,stable/train,pcmk-shutdown-lock-stable/train,Id10f026c8b31cad7b7313ac9427a99b3e6744788,DNR test backport of Id10f026c8b31cad7b7313ac9427a99b3e6744788,ABANDONED,2020-11-25 21:50:55.000000000,2021-04-08 18:34:04.000000000,,346,0,0,764244,32fb5f42d0f8371ab3fb98eb5ab1a2a16866d8f6,7,3,2,6,20778,Damien Ciabrini,dciabrin,"DNR test backport of Id10f026c8b31cad7b7313ac9427a99b3e6744788

Rolling certificate update for HA services

There are certain HA clustered services (e.g. galera) that don't
have the ability natively to reload their TLS certificate without
being restarted. If too many replicas are restarted concurrently
this might result in full service disruption.

To ensure service availability, provide a means to ensure that
only one service replica is restarted at a time in the cluster.
This works by using pacemaker's CIB to implement a cluster-wide
restart lock for a service. The lock has a TTL so it's guaranteed
to be eventually released without requiring complex contingency
cleanup in case of failures.

Tested locally by running the following:
1. force recreate certificate on all nodes at once for galera
   (ipa-cert resubmit -i mysql), and verify that the resources
   restart one after the other

2. create a lock manually in pacemaker, recreate certificate for
   galera on all nodes, and verify that no resource is restarted
   before the manually created lock expires.

3. create a lock manually, let it expires, recreate a certificate,
   and verify that the resource is restarted appropriately and the
   lock gets cleaned up from pacemaker once the restart finished.

Closes-Bug: #1885113
Change-Id: Ib2b62e33b34cf72edfdae6299cf432259bf960a2
(cherry picked from commit 0f5488940899fec23ca7385fef200155dc3a71dd)

HA: reimplement resource locks with cibadmin

A resource lock is used as a synchronization point between
pacemaker cluster nodes. It is currently implemented
by adding an attribute in an offline copy of CIB, and merging
the update in the CIB only if no concurrent updates has
occurred in the mean time.

The problem with that approach is that - even if the concurrency
is enforced by pacemaker - the offline CIB contains a snapshot
of the cluster state; so pushing back the entire offline CIB
pushes old resources' state back into the cluster. This causes
additional burden on the cluster and sometimes caused unexpected
cluster state transition.

Reimplement the locking strategy with cibadmin; It's a much faster
approach, that provides the same concurrency guarantees, and only
changes one attribute rather than the entire CIB, so it doesn't
cause unexpected cluster state transition.

Closes-Bug: #1905585
Change-Id: Id10f026c8b31cad7b7313ac9427a99b3e6744788
"
openstack%2Ftripleo-heat-templates~master~I11c6557a323ef34e2593bfe3d17fdb80615a7955,openstack/tripleo-heat-templates,master,bug/1901626,I11c6557a323ef34e2593bfe3d17fdb80615a7955,"Revert ""Revert ""Use the appropriate name for horizon ssl ca parameter""""",ABANDONED,2020-11-03 07:38:41.000000000,2021-04-08 18:31:21.000000000,,1,1,0,761066,c375810696a44fa01cbaf2fea7898ab799f2a277,14,6,2,1,9816,Takashi Kajinami,kajinamit,"Revert ""Revert ""Use the appropriate name for horizon ssl ca parameter""""

The stable/victora branch has been created, so we are now ready to
merge changes for Wallaby.

This reverts commit 8d9621e2e3161484b24bb41e2183e25a9ee98f67.

Change-Id: I11c6557a323ef34e2593bfe3d17fdb80615a7955
"
openstack%2Ftripleo-common~master~I280c6ccb54a3c03733b3a8e4988515b6c3f862ac,openstack/tripleo-common,master,,I280c6ccb54a3c03733b3a8e4988515b6c3f862ac,Fix qdrouterd healthcheck script permission.,ABANDONED,2020-10-13 12:09:56.000000000,2021-04-08 18:31:03.000000000,,5,5,5,757845,e38cc6d2acbf9307e1567c03abf2fb0781e27cf5,15,6,3,1,8297,Sofer Athlan-Guyot,chem,"Fix qdrouterd healthcheck script permission.

Note, I had to modify indentation to pass the linter. It must be
stricter than when originally commited.

Change-Id: I280c6ccb54a3c03733b3a8e4988515b6c3f862ac
Closes-Bug: #1899625
"
openstack%2Ftripleo-validations~stable%2Ftrain~Ie6bcdaff1968ff94292a36fcc0c2a1157851a721,openstack/tripleo-validations,stable/train,rhbz#1877688-train-bp,Ie6bcdaff1968ff94292a36fcc0c2a1157851a721,WES - Add tripleo-validation.py as script in setup.cfg,ABANDONED,2020-11-20 14:00:04.000000000,2021-04-08 18:30:54.000000000,,43,15,0,763565,01d272b8da5c6b0a72ee4fd19460230ad0d767f7,6,2,3,3,9592,wes hayutin,weshayutin,"WES - Add tripleo-validation.py as script in setup.cfg

Change-Id: Ie6bcdaff1968ff94292a36fcc0c2a1157851a721
"
openstack%2Ftripleo-ci~master~Ib7dd936faca104315fe628b345d956912b29abf0,openstack/tripleo-ci,master,bug1904435,Ib7dd936faca104315fe628b345d956912b29abf0,Add file patterns from tripleo-common for image templates,ABANDONED,2020-11-16 17:25:56.000000000,2021-04-08 18:29:43.000000000,,1,0,0,762883,e2a1c04bbfd1f03aa8421f8bc3dbfd57e0077bfc,5,3,1,1,9976,Ronelle Landy,rlandy,"Add file patterns from tripleo-common for image templates

https://github.com/openstack/tripleo-common/blob/stable/victoria/zuul.d/layout.yaml#L117
defines the files to trigger image build jobs
when tripleo-common changes.

tripleo-common is being edited to run templates
for image build jobs. This review adds the file
patterns to trigger for tripleo-coomon.

Change-Id: Ib7dd936faca104315fe628b345d956912b29abf0
Related-Bug: #1904435
"
openstack%2Ftripleo-heat-templates~master~Icec721c2678e39a0fc72895ba75c70d4416215d6,openstack/tripleo-heat-templates,master,octavia-project,Icec721c2678e39a0fc72895ba75c70d4416215d6,Deprecate OctaviaUserName and OctaviaProjectName,ABANDONED,2020-02-23 14:29:41.000000000,2021-04-08 18:29:35.000000000,,15,0,0,709355,f3218a6a7e84ab6dcd8e4ce3d9a347b18a97cec8,52,8,7,2,9816,Takashi Kajinami,kajinamit,"Deprecate OctaviaUserName and OctaviaProjectName

In Octavia, we have OctaviaUserName and OctaviaProjectName, which can
be used to change user name/project name for Octavia keystone identity.

However, we don't expect users require to change this parameter, and
changing these values can cause some confusing situation. (where only
octavia user is missing in service project, for example)

So let's deprecate these parameters so that we expect that we have the
fixed user name and project name as we do for the other services.

Change-Id: Icec721c2678e39a0fc72895ba75c70d4416215d6
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ic95d84e611164dc5e28bc182b92991a317bae567,openstack/tripleo-heat-templates,stable/ussuri,net-config-stable/ussuri,Ic95d84e611164dc5e28bc182b92991a317bae567,Remove CI env for net-config-multinode-os-net-config.yaml,ABANDONED,2020-09-04 13:19:25.000000000,2021-04-08 18:29:26.000000000,,4,279,0,749951,2c27633191932be376107303d51450a361bab813,15,4,3,4,9592,wes hayutin,weshayutin,"Remove CI env for net-config-multinode-os-net-config.yaml

This should not be needed, other jobs use the net-config-multinode.yaml
file, let's get rid of net-config-multinode-os-net-config.yaml for
consistency and also in order to ger rid of the network_config_hook()
function that should not be needed anymore.

Change-Id: Ic95d84e611164dc5e28bc182b92991a317bae567
(cherry picked from commit 88ca5928edf160f3ce7aaf313ed7ff6eb8bef92f)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I6ea989ae546ef344a9b3d2dd6c86a49822efc6e2,openstack/tripleo-heat-templates,stable/train,memcached-cert-stable/train,I6ea989ae546ef344a9b3d2dd6c86a49822efc6e2,Make memcache also listen to localhost,MERGED,2021-03-25 08:54:28.000000000,2021-04-08 18:29:21.000000000,2021-04-08 18:29:21.000000000,22,10,0,782918,546d994d04c5b8c7b170339b816841ffa7bea6bf,18,4,1,1,14250,Grzegorz Grasza,xek,"Make memcache also listen to localhost

Currently memcache only listens to the internal_api IP. We want to
make it listen to both localhost and internal_api IP because in the
future some services on some roles may want to just use the localhost
memcached instance instead of the using multiple memcached servers
over the network as it is the case currently.

As suggested by Takashi we check the ip version in MemcachedNetwork
in order to decide if we should listen to ::1 or 127.0.0.1

Change-Id: I6ea989ae546ef344a9b3d2dd6c86a49822efc6e2
(cherry picked from commit acf08419bc4a4076ecb24b79c3c5ef52825eeb6b)
"
openstack%2Ftripleo-docs~master~I3d69ef4dcf5c6161a2db0d1d475483ec9ab47fce,openstack/tripleo-docs,master,nfv-derive-parameters,I3d69ef4dcf5c6161a2db0d1d475483ec9ab47fce,NFV derive parameters document changes,ABANDONED,2020-11-11 11:20:06.000000000,2021-04-08 18:28:05.000000000,,43,0,0,762334,f250c251cb8b0ac818f926c7f90a5acce7a911d8,4,1,2,1,22865,Jaganathan Palanisamy,jaganathancse,"NFV derive parameters document changes

This document changes for NFV OvS DPDK and SRIOV depeloyments.

Change-Id: I3d69ef4dcf5c6161a2db0d1d475483ec9ab47fce
"
openstack%2Ftripleo-heat-templates~master~I219ec37dd0cddc6d84e157d9151a90e9d3d1aeb9,openstack/tripleo-heat-templates,master,scoped_tokens,I219ec37dd0cddc6d84e157d9151a90e9d3d1aeb9,Implement EnforceScopedTokens to allow usage of scoped tokens,ABANDONED,2020-10-21 00:21:26.000000000,2021-04-08 18:27:58.000000000,,25,6,2,758903,4788de1a2731e4e7a4fcec6733d98f0a8e38b6bd,11,4,2,1,7130,David Hill,dhill,"Implement EnforceScopedTokens to allow usage of scoped tokens

Implement EnforceScopedTokens to allow usage of scoped tokens while
deploying.   At this point in time, we are able to configure the
following:
parameter_defaults:
  ControllerExtraConfig:
    keystone::config::keystone_config:
      oslo_policy/enforce_scope:
        value: true
but deployment fails due to admin credentiens being scoped on a
project instead of system-wide.

Change-Id: I219ec37dd0cddc6d84e157d9151a90e9d3d1aeb9
"
openstack%2Ftripleo-validations~master~I9cc63665e73ac9878c26b16aaed2c04583b1f107,openstack/tripleo-validations,master,restora_validation,I9cc63665e73ac9878c26b16aaed2c04583b1f107,Adding restore validation group,ABANDONED,2020-11-03 18:32:49.000000000,2021-04-08 18:27:18.000000000,,13,0,2,761215,193630bcb76f0096a4c5d60f266930b5b969250c,14,5,4,10,8932,Telles Mota Vidal Nóbrega,tellesnobrega,"Adding restore validation group

Creating a validation group to use by restore validation command line.

Change-Id: I9cc63665e73ac9878c26b16aaed2c04583b1f107
"
openstack%2Fpython-tripleoclient~master~If1574f8bec563fce9ced476b55f213a38d5b2ab1,openstack/python-tripleoclient,master,,If1574f8bec563fce9ced476b55f213a38d5b2ab1,Update TOX_CONSTRAINTS_FILE for stable/victoria,ABANDONED,2020-10-22 02:44:36.000000000,2021-04-08 18:26:18.000000000,,2,2,0,759170,bbed4ecf4e7b1e600d75ea61c619eddd5153f80e,8,2,2,1,28654,chenming,mmbbz,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Change-Id: If1574f8bec563fce9ced476b55f213a38d5b2ab1
"
openstack%2Fopenstack-ansible-os_mistral~master~I9c358f7d8bd655712748717b391cbf6a58b196c7,openstack/openstack-ansible-os_mistral,master,policy-json-to-yaml,I9c358f7d8bd655712748717b391cbf6a58b196c7,[goal] Deprecate the JSON formatted policy file,MERGED,2021-03-18 18:51:53.000000000,2021-04-08 18:25:59.000000000,2021-04-08 18:24:43.000000000,22,33,0,781542,f2cf31bf47f0536272f18c5844bb4c46ffb12eeb,24,3,3,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to replace policy.json to
policy.yaml and remove deprecated policy.json.

config_template has been choosen instead of the copy, since it can
properly handle content that has been lookuped.

We make a separate task not to restart service when it's not needed.

[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777384
Change-Id: I9c358f7d8bd655712748717b391cbf6a58b196c7
"
openstack%2Ftripleo-ci~master~Iba416f207a294ca477df94dda87f685fc08671bc,openstack/tripleo-ci,master,periodic-jobs,Iba416f207a294ca477df94dda87f685fc08671bc,Periodic multinode: add next minor release,ABANDONED,2020-05-01 14:41:26.000000000,2021-04-08 18:23:40.000000000,,165,1,0,724858,6c318230629573e8fda3af8e2500652bc2d60fd4,7,2,2,7,10022,Gabriele Cerami,panda,"Periodic multinode: add next minor release

This patch enables an update on the undercloud image to Centos CR repo,
which if present will contain the updates to the patches for the next
minor release before starting the workflow

Change-Id: Iba416f207a294ca477df94dda87f685fc08671bc
Depends-On: https://review.opendev.org/618832
"
openstack%2Ftripleo-heat-templates~master~I503061e8fe246c0c190a7e50a808c74799d38515,openstack/tripleo-heat-templates,master,octavia_certs,I503061e8fe246c0c190a7e50a808c74799d38515,Add support for Client CA in Octavia,ABANDONED,2020-04-27 13:52:25.000000000,2021-04-08 18:23:32.000000000,,20,0,0,723539,644c1885ee3d92b0008ff2e8ec62b138c586b644,9,3,1,2,29244,Gregory Thiemonge,gthiemonge,"Add support for Client CA in Octavia

Added default parameters for Client CA support in Octavia.
Those parameters are passed to tripleo-ansible playbook.

Depends-On: https://review.opendev.org/723536

Related-Bug: #1875358
Change-Id: I503061e8fe246c0c190a7e50a808c74799d38515
"
openstack%2Ftripleo-upgrade~master~I9b8f097c1d58d347ca9f5cd483d5566cff58c2b0,openstack/tripleo-upgrade,master,,I9b8f097c1d58d347ca9f5cd483d5566cff58c2b0,"[update] edge support, ie multi-overcloud.",ABANDONED,2020-03-19 13:39:01.000000000,2021-04-08 18:22:34.000000000,,32,19,0,713882,d8686a0011116c763485f842cb1f502f19f449c9,4,2,2,8,8297,Sofer Athlan-Guyot,chem,"[update] edge support, ie multi-overcloud.

It enables the creation of scripts for different clouds without being
overwritten.

It also take into account overcloud that doesn't have an Controller
role and avoid failure in that case.

A small refactor of tripleo-ansible-inventory path is also included,
as it's used more than once.

Change-Id: I9b8f097c1d58d347ca9f5cd483d5566cff58c2b0
"
openstack%2Ftripleo-heat-templates~master~Ie2f0d09db08956b7646e4d72bb190f04f8d2ea93,openstack/tripleo-heat-templates,master,jwt_verification,Ie2f0d09db08956b7646e4d72bb190f04f8d2ea93,Add support for JWKS based OAuth Token validation.,NEW,2020-03-09 14:22:55.000000000,2021-04-08 18:22:11.000000000,,17,0,0,711927,1aa7e9f923821a342a4a7e265cf8a10ee0fae5ef,8,4,2,1,14369,Mark Chappell,tremble,"Add support for JWKS based OAuth Token validation.

Keycloak only enables the introspection API when using a 'confidential'
client.  This means that for user initiated OAuth2 tokens the user would
need to know the secrets for a client (ie the confidential piece).

With Keycloak to use a 'public' client, where the user doesn't need to
know a client secret, you need to use a JWKS to validate the JWT tokens
instead of the introspection endpoint.

By setting KeystoneOpenIdcVerifyMethod to 'jwks' and
KeystoneOpenIdcVerifyJwksUri to the published URI for the JSON Web Key Set
you can switch over to 'local' verification of the token using signed data
in the JWT.

Change-Id: Ie2f0d09db08956b7646e4d72bb190f04f8d2ea93
Depends-On: https://review.opendev.org/711646
"
openstack%2Ftripleo-validations~master~I904573b478911dd4c1b4ddcda849ed065812c2a3,openstack/tripleo-validations,master,ffu-10-13-pkg-pre-check,I904573b478911dd4c1b4ddcda849ed065812c2a3,Add FFU10-13 pre-upgrade packages checks,ABANDONED,2020-02-27 22:58:26.000000000,2021-04-08 18:21:50.000000000,,198,0,0,710347,979b6df6d76fa226c6a26af306be270bec817196,3,2,1,9,16515,mbu,matbu,"Add FFU10-13 pre-upgrade packages checks

Add role for packages checks using yum ansible module
Add playbook to invoke the validation

Change-Id: I904573b478911dd4c1b4ddcda849ed065812c2a3
"
openstack%2Ftripleo-validations~master~I373d1460b13e66751c9851d1388dee9908bc7517,openstack/tripleo-validations,master,ffu-10-13-backup,I373d1460b13e66751c9851d1388dee9908bc7517,Add FFU validation to check for existence of a backup file,ABANDONED,2020-01-06 09:23:56.000000000,2021-04-08 18:21:43.000000000,,27,0,4,701179,1b863ce9c0d62641520944e525facd57760d9e58,17,4,6,4,17888,Florian Fuchs,flfuchs,"Add FFU validation to check for existence of a backup file

Change-Id: I373d1460b13e66751c9851d1388dee9908bc7517
"
openstack%2Ftripleo-ci~master~Ib67eeffa7f2d4fc24b56dc97443c62674843f294,openstack/tripleo-ci,master,uc/upgrade/validate/services,Ib67eeffa7f2d4fc24b56dc97443c62674843f294,Do not override featureset value for UC upgrade,ABANDONED,2019-12-13 08:42:51.000000000,2021-04-08 18:21:35.000000000,,0,2,3,698849,e51fa753cd8f86bc0c68d9d3b18f155b579bef8c,10,4,2,1,16515,mbu,matbu,"Do not override featureset value for UC upgrade

Remove the validate_services overrides, to be able to control
this variable in the featureset itself.
With a containerized to containerized Undercloud upgrade,
we don't need to run the validate_services checks

Change-Id: Ib67eeffa7f2d4fc24b56dc97443c62674843f294
"
openstack%2Fcinder~stable%2Fwallaby~Ibed5dae5232c5227e14f9956c8ae8166282c174f,openstack/cinder,stable/wallaby,,Ibed5dae5232c5227e14f9956c8ae8166282c174f,Add releasenote for glance mTLS fix,MERGED,2021-03-30 20:00:03.000000000,2021-04-08 18:14:46.000000000,2021-04-08 18:10:07.000000000,12,0,3,783964,4ceb0f14a5cdd63c32653c0d5a7d773f535ae965,34,6,3,1,10273,Adam Harwell,rm_you,"Add releasenote for glance mTLS fix

Follow for change: Ic9deaa001482c89cdc4361d4a8c7e0236a5a3885

Change-Id: Ibed5dae5232c5227e14f9956c8ae8166282c174f
"
openstack%2Fneutron~stable%2Fvictoria~Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,openstack/neutron,stable/victoria,bug/1907695-stable/victoria,Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,Stop metadata proxy gracefully,MERGED,2021-02-19 08:03:10.000000000,2021-04-08 18:13:34.000000000,2021-04-08 18:09:35.000000000,64,6,2,776582,b07afa7212a9df57bb123b83783c8c4c6bef379b,36,4,3,3,11975,Slawek Kaplonski,slaweq,"Stop metadata proxy gracefully

HAProxy supports hard stop [1] via SIGTERM signal. From the
documentation:

  """"""
  ... when the SIGTERM signal is sent to the haproxy process,
  it immediately quits and all established connections are
  closed.
  """"""

In case the process does not finish, the SIGKILL signal is sent.
The PID file created by the process is deleted.

[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4

Closes-Bug: #1910691

Conflicts:
    neutron/agent/metadata/driver.py

Change-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb
(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)
"
openstack%2Fcinder~stable%2Fwallaby~I4637557c90b1cee451ae7227f8024a9c7ee39c87,openstack/cinder,stable/wallaby,add-cgroup-relnote,I4637557c90b1cee451ae7227f8024a9c7ee39c87,Add release note about cgroups v1,MERGED,2021-03-31 22:37:27.000000000,2021-04-08 18:13:17.000000000,2021-04-08 18:09:58.000000000,30,0,11,784179,f87090b8641fae2d2749fea396be50b5dfd7d65b,28,9,2,1,5314,Brian Rosmaita,brian-rosmaita,"Add release note about cgroups v1

Change-Id: I4637557c90b1cee451ae7227f8024a9c7ee39c87
"
openstack%2Fdevstack~master~I83d56c9363d481bb6d5921f5e1f9b024f136044b,openstack/devstack,master,default-parallel,I83d56c9363d481bb6d5921f5e1f9b024f136044b,Default to parallel execution,MERGED,2021-03-26 14:18:50.000000000,2021-04-08 18:13:09.000000000,2021-04-08 18:10:36.000000000,1,1,0,783311,84b328c814fd5be8af53738128aa3f5ef75ca3c7,10,5,1,1,4393,Dan Smith,danms,"Default to parallel execution

Several jobs have been running in parallel since the late Wallaby
cycle, and other developers have had it enabled locally. I have heard
no async-related stability or debug-ability complaints thus far.
I think that we should convert the default to parallel early in the
Xena cycle in an attempt to spread the speed improvements across the
board, while also collecting data on a wider set of configurations.

Change-Id: I83d56c9363d481bb6d5921f5e1f9b024f136044b
"
openstack%2Ftacker~master~I8a75bac1659ceff2efbb5ae017b131506a689e29,openstack/tacker,master,bug/1921981,I8a75bac1659ceff2efbb5ae017b131506a689e29,Fix warnings for duplicated policy rules,MERGED,2021-03-31 03:27:23.000000000,2021-04-08 18:11:11.000000000,2021-04-08 18:08:06.000000000,0,2,0,783995,12ff2919b4b087b6591099e62ab8a907a1a1478b,14,8,2,1,25701,Yasufumi Ogawa,yasufum,"Fix warnings for duplicated policy rules

There are so many warning messages appear while running tests. It's
because of a change in `oslo.policy` for notifying that some policy
rules are the same as default. So, this change removes duplicated
policies from policy file.

Closes-Bug: #1921981

Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: I8a75bac1659ceff2efbb5ae017b131506a689e29
"
openstack%2Ftripleo-heat-templates~master~I5edd79d26248d322a568ec3441a84cb8154c1967,openstack/tripleo-heat-templates,master,bgpsupport,I5edd79d26248d322a568ec3441a84cb8154c1967,Add scenario014: FRR standalone,NEW,2021-01-21 18:16:17.000000000,2021-04-08 18:11:04.000000000,,24,0,0,771871,2faabf183cf138cabbc5161663d545770488d26c,12,3,4,1,6469,Carlos Gonçalves,cgoncalves,"Add scenario014: FRR standalone

This patch adds a new CI scenario to support testing of standalone
TripleO deployments with FRR.

Change-Id: I5edd79d26248d322a568ec3441a84cb8154c1967
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia738f6e8904a337f911cfdd58b09932c10397764,openstack/tripleo-heat-templates,stable/train,memcached-cert-stable/train,Ia738f6e8904a337f911cfdd58b09932c10397764,Add TLS capabilities to Memcached service,MERGED,2021-02-15 16:18:55.000000000,2021-04-08 18:08:36.000000000,2021-04-08 18:08:36.000000000,109,56,2,775676,8ecc24fcc13729a80da3a5f4c050efc33d961f91,21,8,2,1,14250,Grzegorz Grasza,xek,"Add TLS capabilities to Memcached service

Co-Authored-By: Grzegorz Grasza <xek@redhat.com>
Depends-On: https://review.opendev.org/775674
Change-Id: Ia738f6e8904a337f911cfdd58b09932c10397764
(cherry picked from commit 50c22d629c00339d8dd47b361af63b66987cd701)
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I8eb2b45e8868b99dfe402fee514afa8f8c42f086,openstack/puppet-tripleo,stable/train,memcached-cert-stable/train,I8eb2b45e8868b99dfe402fee514afa8f8c42f086,Add Memcached certificate generation,MERGED,2021-02-15 16:06:22.000000000,2021-04-08 18:02:17.000000000,2021-04-08 18:02:17.000000000,277,2,0,775674,623f44839295531403d627bedf5934d99a90955a,63,10,6,6,14250,Grzegorz Grasza,xek,"Add Memcached certificate generation

Adding certification generation and pass it down to puppet-memcached.

NOTE(moguimar): Squashing one extra fix that was merged after the first
patch made it into master.

Squashes:
- Fix memcached restart on cert renewal
  (cherry picked from commit 4586911ef793c6b28871963c0a1485d71dee48c6)

Conflicts:
	manifests/profile/base/memcached.pp

Note:
Relative names were replaced by absolute names to pass the lint tests
for stable/train.

Change-Id: I8eb2b45e8868b99dfe402fee514afa8f8c42f086
(cherry picked from commit b0b7b4069aa90080761edb83c65174b116ba5fbb)
(cherry picked from commit 91033038161c1c85d35a40e99e521140fe85e25a)
"
openstack%2Fkayobe~master~I11f0677681e51a59bcbb171d8da0e14c853d6c5c,openstack/kayobe,master,,I11f0677681e51a59bcbb171d8da0e14c853d6c5c,Add --nocache option to container image build,MERGED,2020-12-17 14:51:23.000000000,2021-04-08 17:59:16.000000000,2021-04-08 17:57:18.000000000,52,2,9,767566,0408e5388fe794691078188f7f3b3dbcb99b7580,24,4,6,4,22629,Michal Nasiadka,mnasiadka,"Add --nocache option to container image build

Change-Id: I11f0677681e51a59bcbb171d8da0e14c853d6c5c
"
openstack%2Ftripleo-common~stable%2Fvictoria~I64776992a7e457781aa8ddaba359ef085d4cb77d,openstack/tripleo-common,stable/victoria,drop-lsof,I64776992a7e457781aa8ddaba359ef085d4cb77d,healthcheck_port: drop lsof in favor of awk/find,MERGED,2021-04-08 06:48:35.000000000,2021-04-08 17:57:00.000000000,2021-04-08 17:55:26.000000000,29,11,0,785324,74f61f5297e40e4cc0611f3ffa73e8caa6bf8df7,11,6,1,1,28223,Cedric Jeanneret,cjeanner,"healthcheck_port: drop lsof in favor of awk/find

It seems lsof is a bit too heavy on the system when multiple
healthchecks are running in parallel.
So instead of calling a ""big"" process, let's split a bit things and get
to the filesystem directly in order to pick only the things we actually
need.

What changes:
- using /proc/net/{tcp,udp}, we get every socket matching the port
- using find with the right options, we can ensure at least one socket
  exists with the wanted inode(s)

The last part exits as soon as we have a match in order to make it
faster and less resource consuming.

Change-Id: I64776992a7e457781aa8ddaba359ef085d4cb77d
Partial-Bug: #1921714
(cherry picked from commit a072a7f07ea75933a2372b1a95ae960095a3250e)
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~Ieb53f2ac4cd6381f2a450bce6aaff22790c2a404,openstack/puppet-tripleo,stable/train,heat-cache-stable/train,Ieb53f2ac4cd6381f2a450bce6aaff22790c2a404,Set memcache_servers for heat::cache automatically,MERGED,2021-04-01 08:52:01.000000000,2021-04-08 17:55:29.000000000,2021-04-08 17:55:29.000000000,31,7,0,784208,5ceab69bd790a7a77534917f5b9303d10bd399c1,10,6,2,2,14250,Grzegorz Grasza,xek,"Set memcache_servers for heat::cache automatically

This patch makes puppet-tripleo set memcache_servers parameter in
heat::cache according to available memcache servers in deployment,
so that operators can easily enable caching feature.

Note that this patch doesn't enable caching. To actually enable
caching, the heat::cache::eanbled parameter in puppet-heat should be
set.

Conflicts:
	manifests/profile/base/heat.pp

Change-Id: Ieb53f2ac4cd6381f2a450bce6aaff22790c2a404
(cherry picked from commit 1a2c81d5166a7af6863c37754c0d3958d045cd6c)
"
openstack%2Ftripleo-ci~master~If248d145cdcaa448de601b24a80a11d567fb235f,openstack/tripleo-ci,master,tripleo-ci-reduce-rocky,If248d145cdcaa448de601b24a80a11d567fb235f,Remove stale bash scripts from tripleo-ci repo,MERGED,2021-04-05 10:11:08.000000000,2021-04-08 17:53:30.000000000,2021-04-08 17:53:30.000000000,0,833,3,784760,963ac72a0a2e60a5685578788eff6dd3c29f5158,22,14,3,6,8449,Marios Andreou,marios,"Remove stale bash scripts from tripleo-ci repo

As discussed in the parent patch [1] we should remove these stale file as
they are no longer used. The oooq_common_functions, toci_gate_test,
toci_quickstart have all been replaced by the templated versions in [2].

The heat-deploy-times.py is replaced by the script at [3] in the
ansible-role-collect-logs repo. The generate-kill-heat.sh has not been
touched in over 2 years and as far as I can see isn't being used
somewhere (code search).

Some of these especially the common_functions/toci_ files are updated
out of confusion and causing unnecessary maintenance burden.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/782549/5#message-f29d32c0c652d0929f680030e1a4c970fb111c2d
[2] https://opendev.org/openstack/tripleo-ci/src/branch/master/roles/run-test/templates
[3] https://opendev.org/openstack/ansible-role-collect-logs/src/branch/master/roles/collect_logs/files/heat-deploy-times.py

Change-Id: If248d145cdcaa448de601b24a80a11d567fb235f
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I61850fa01afca92aa78412e0277180596633f858,openstack/tripleo-heat-templates,stable/victoria,update-container-tools,I61850fa01afca92aa78412e0277180596633f858,[update][upgrade] Use container-tools:3.0,MERGED,2021-04-07 12:21:53.000000000,2021-04-08 17:53:12.000000000,2021-04-08 17:53:12.000000000,3,3,0,785129,1e137876a398ee54b49ae3379f866a274b58333e,9,7,1,3,6816,Jesse Pretorius,jesse-pretorius,"[update][upgrade] Use container-tools:3.0

We now need to move forward and pin the newer
container-tools:3.0 stream. This will be available
on RHEL 8.4 and CentOS 8.4+.

Related: rhbz#1866479

Change-Id: I61850fa01afca92aa78412e0277180596633f858
(cherry picked from commit 90984500766aaa3538dcd6dae282298aff5b043b)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib45d58d6cc5dada3eb609a94ac5ed80bdc19f988,openstack/tripleo-heat-templates,stable/train,,Ib45d58d6cc5dada3eb609a94ac5ed80bdc19f988,[ffwd][train-only] Copy /boot/grub2/grubenv to /boot/efi/EFI/redhat/grubenv,MERGED,2021-03-29 21:46:35.000000000,2021-04-08 17:53:01.000000000,2021-04-08 17:53:01.000000000,13,0,0,783751,53bf067fb5ca928cfeca87da5ed3afab89110dfc,10,6,1,1,11166,Lukas Bezdicka,xbezdick,"[ffwd][train-only] Copy /boot/grub2/grubenv to /boot/efi/EFI/redhat/grubenv

WA: some versions of grub2 fail to look for grubenv in /boot/grub2/grubenv
In this case we copy the file instead of creating simlink making sure if
this is the case than grubenv is still available for previous bootrecord.

Resolves: rhbz#1942446

Change-Id: Ib45d58d6cc5dada3eb609a94ac5ed80bdc19f988
"
openstack%2Fhorizon~stable%2Fwallaby~I0600086cc51cf5abcf1631565e75146114189667,openstack/horizon,stable/wallaby,bug/1822849-stable/wallaby,I0600086cc51cf5abcf1631565e75146114189667,Get the timezone offset for the current day instead of January 1st.,MERGED,2021-04-07 10:18:29.000000000,2021-04-08 17:44:23.000000000,2021-04-08 17:42:59.000000000,27,5,0,785122,cd16b4079e6bf222518893002b73396295b3101f,12,6,1,6,1736,Ivan Kolodyazhny,e0ne,"Get the timezone offset for the current day instead of January 1st.

This bug only appears to be a cosmetic one where the TZ offset
would be calculated on current_year/01/01 so would remain in
daylight saving offset when displaying the timezones list.

(Note by amotoki)
The minimum version of Babel is bumped to 2.6.0
as Babel 2.3.4 returns ""New Zealand Time"" instead of ""New Zealand
(Auckland) Time"" returned from the latest Babel (2.9.0).
It is not a good idea to handle such difference in Babel in our UT
and there is no reason to stick to Bump 2.3.4.
2.6.0 was chosen as it is available in Ubuntu Focal and there is
no more reason than this.

Change-Id: I0600086cc51cf5abcf1631565e75146114189667
Closes-bug: #1822849
(cherry picked from commit f60220329accd9c6492acfc25fe024c394e3eaea)
"
openstack%2Fpbr~master~I5007154caa7493652a424a4fad4918b7dbefcfb9,openstack/pbr,master,py27,I5007154caa7493652a424a4fad4918b7dbefcfb9,Update dependencies to avoid failure with old pip,MERGED,2021-04-06 11:50:14.000000000,2021-04-08 17:44:08.000000000,2021-04-08 17:42:44.000000000,3,2,0,784931,e0e2b8422a78b446c33ab3e5d1b38f8ad89b4bda,12,5,3,1,24162,Sorin Sbârnea,ssbarnea,"Update dependencies to avoid failure with old pip

We do perform linting via pep8 job which runs on modern python only.
This fixes an error that recently broke py27 job due to failure to
install hacking, where hacking is in fact not even needed by it.

We also need to add some extra conditions for mock to avoid possible
failure with older pip version.

Change-Id: I5007154caa7493652a424a4fad4918b7dbefcfb9
"
openstack%2Fkolla-ansible~master~I6960fd0f378aea5a14a73d9228edf86fb86cac6c,openstack/kolla-ansible,master,,I6960fd0f378aea5a14a73d9228edf86fb86cac6c,CI: Use 5G loop device for ceph,MERGED,2021-03-30 13:27:36.000000000,2021-04-08 17:39:33.000000000,2021-04-08 17:37:45.000000000,5,1,7,783855,6f38d7036c5e7905d4ecd949f812fcf651b02bef,24,4,6,2,22629,Michal Nasiadka,mnasiadka,"CI: Use 5G loop device for ceph

Often cephadm jobs fail with:
Mar 30 13:01:21 primary bash[75459]: debug 2021-03-30T13:01:21.844+0000 7fa30431f700 -1 error: monitor data filesystem reached concerning levels of available storage space (available: 4% 1.8 GiB)

Let's check if 5G OSD helps and also print df -h output for reference

Change-Id: I6960fd0f378aea5a14a73d9228edf86fb86cac6c
"
openstack%2Fhorizon~stable%2Fwallaby~I02e124d90f99d400d8c59bff2c563fdc85e624d4,openstack/horizon,stable/wallaby,bug/clean-access-rules-stable/wallaby,I02e124d90f99d400d8c59bff2c563fdc85e624d4,handle missing access_rules,MERGED,2021-04-07 13:12:15.000000000,2021-04-08 17:28:53.000000000,2021-04-08 17:26:59.000000000,9,6,0,785135,bd3fc0de1711177d982245b6409b4b9c6eaac58d,12,5,2,1,841,Akihiro Motoki,amotoki,"handle missing access_rules

we delete the ""access_rules"" field from the form if keystone API
version is less than 3.13, but we don't consider the case in
clean() method. We are in Wallaby development cycle and we support
N-4 release for upgrade [1]. This means horizon can run with Stein
keystone. Pre-3.13 keystone API (i.e., 3.12) is part of Stein
release [2], so it makes sense to consider this condition.

[1] https://docs.openstack.org/horizon/latest/contributor/policies/supported-software.html
[2] https://docs.openstack.org/api-ref/identity/

Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Change-Id: I02e124d90f99d400d8c59bff2c563fdc85e624d4
(cherry picked from commit dadd45addab8fe9ac582f16c3fbc19ff7d81c597)
"
openstack%2Fpaunch~stable%2Fussuri~Ie4f72308fdd81ac69fd198f484a781cc43b84a73,openstack/paunch,stable/ussuri,podman-exit/142,Ie4f72308fdd81ac69fd198f484a781cc43b84a73,Accept 142 as an exit code,MERGED,2021-04-01 06:06:58.000000000,2021-04-08 17:16:25.000000000,2021-04-08 17:14:51.000000000,1,1,4,784196,d89f5697b9be76a214b920452d7ef0bd6248a3ac,17,7,2,1,28223,Cedric Jeanneret,cjeanner,"Accept 142 as an exit code

In the same fashion we accepted 137 and 143 exit code status in
I8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.

It represents the SIGALRM exit status - it happens when podman reaches
the set timeout (currently 60s) when trying to cleanly stop a container.

Change-Id: Ie4f72308fdd81ac69fd198f484a781cc43b84a73
Closes-Bug: #1922179
Resolves: rhbz#1939910
"
openstack%2Ftripleo-quickstart~master~I9116b37128919e3c6c3114a7ce87c0982ff033ae,openstack/tripleo-quickstart,master,fix_octavia_kvm,I9116b37128919e3c6c3114a7ce87c0982ff033ae,Include nested_virt in default opt tags,MERGED,2021-04-01 09:34:56.000000000,2021-04-08 17:16:24.000000000,2021-04-08 17:14:46.000000000,2,2,0,784323,7cc521a93c9950504b86585e02f64fb72e781f69,13,6,2,1,12393,chandan kumar,chkumar246,"Include nested_virt in default opt tags

https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/782020
enables nested virt for standalone octavia jobs. In order to run it
via quickstart, it adds the nested_virt tag to default opt tags.

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/782020

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I9116b37128919e3c6c3114a7ce87c0982ff033ae
"
openstack%2Fdiskimage-builder~master~Idc0f277f97e92e4d003f059f01b59f1b5513da34,openstack/diskimage-builder,master,dib_stream,Idc0f277f97e92e4d003f059f01b59f1b5513da34,Make DIB_DNF_MODULE_STREAMS part of yum element,MERGED,2021-04-07 10:36:13.000000000,2021-04-08 17:09:13.000000000,2021-04-08 05:49:11.000000000,17,22,2,785138,ced54fea75c625e9e22791be16758bb89fad79f7,16,7,1,3,12393,chandan kumar,chkumar246,"Make DIB_DNF_MODULE_STREAMS part of yum element

While building cloud images, it is common to set modules
for CentOS and RHEL images. Earlier it was part of rhel-common
which was specific to RHEL OS not for CentOS. Moving it
under yum element as module/stream can be enabled or disabled
via dnf itself.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Idc0f277f97e92e4d003f059f01b59f1b5513da34
"
openstack%2Fopenstacksdk~master~Ib417783e61fa41c0ea2a8c0f0beb117c526e0335,openstack/openstacksdk,master,improve-ironic-api-openstacksdk,Ib417783e61fa41c0ea2a8c0f0beb117c526e0335,"Fix typo - _list lists, doesn't delete",ABANDONED,2021-04-08 15:07:10.000000000,2021-04-08 17:03:02.000000000,,1,1,0,785431,56d2feb85df2a2be878bd5ed52cf5ff74b9e938e,4,0,1,1,33344,cenne,cenne.d,"Fix typo - _list lists, doesn't delete

Story: 2008193
Task: 40960
Change-Id: Ib417783e61fa41c0ea2a8c0f0beb117c526e0335
"
openstack%2Ftripleo-ansible~master~I5074bd4a2e7c5c731183162095a52f18b357a702,openstack/tripleo-ansible,master,,I5074bd4a2e7c5c731183162095a52f18b357a702,Check name_lower string contains valid pattern,ABANDONED,2021-01-12 16:52:41.000000000,2021-04-08 17:02:51.000000000,,6,0,2,770453,55a72016b4822c464067868f8c3c43511620f8ea,9,3,1,2,29775,Sandeep Yadav,sandeepyadav93,"Check name_lower string contains valid pattern

The utils module provides the schema validator for the network data v2
format. Currently, if we pass capital letter string to name_lower
we don't get any errors. Name is descriptive but it will be good to
have some validation.

We are adding a check that string passed to name_lower is of pattern
(lower letters, numbers, underscore, period and dash only.) With
regex[1] pattern we can avoid string pattern with capital letters
and any other special character which can possibily cause an issue.

[1] https://rubular.com/r/dBiEIvZbqmJMOJ

Change-Id: I5074bd4a2e7c5c731183162095a52f18b357a702
"
openstack%2Ftripleo-ansible~master~I6b7116830ef72e297b887d34e98d6a256372ea66,openstack/tripleo-ansible,master,network-data-v2,I6b7116830ef72e297b887d34e98d6a256372ea66,Set tripleo_default_route neutron port tag,MERGED,2021-01-25 15:34:38.000000000,2021-04-08 16:56:29.000000000,2021-04-08 16:54:55.000000000,176,28,0,772360,5389d648fe3e75e77ba90a11e94fb3223ab70bdd,46,5,11,2,24245,Harald Jensås,harald.jensas,"Set tripleo_default_route neutron port tag

Set tag 'tripleo_default_route=true' on ports on
the networks defined as default route networks in
the instances network config.

Partial-Implements: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/772358
Change-Id: I6b7116830ef72e297b887d34e98d6a256372ea66
"
openstack%2Fansible-role-collect-logs~master~Ic1b3042650d213e32855750ed900eebbb4b683c8,openstack/ansible-role-collect-logs,master,2.10,Ic1b3042650d213e32855750ed900eebbb4b683c8,Use Ansible 2.10 in requirements,ABANDONED,2021-01-06 09:23:42.000000000,2021-04-08 16:46:10.000000000,,1,1,0,769481,4558294858e956ede17ae4c3a74c499daff28bbb,12,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Use Ansible 2.10 in requirements

Change-Id: Ic1b3042650d213e32855750ed900eebbb4b683c8
"
openstack%2Ftripleo-heat-templates~master~I865cc52eff45f27f644c7258d90a2333b08d65cb,openstack/tripleo-heat-templates,master,default-volume-type,I865cc52eff45f27f644c7258d90a2333b08d65cb,Cinder: Clean up volume type management by puppet,ABANDONED,2020-12-31 03:45:06.000000000,2021-04-08 16:45:33.000000000,,1,14,12,768799,625648085d2b58946ce04c0d9ea63cc89402f9b0,38,4,7,1,9816,Takashi Kajinami,kajinamit,"Cinder: Clean up volume type management by puppet

... because the implementation in puppet has been removed.

Depends-on: https://review.opendev.org/768380
Change-Id: I865cc52eff45f27f644c7258d90a2333b08d65cb
"
openstack%2Fpython-tripleoclient~master~I23403dc148ba74f03ef0bf8281645dd016a83002,openstack/python-tripleoclient,master,,I23403dc148ba74f03ef0bf8281645dd016a83002,Use unittest.mock instead of mock,ABANDONED,2021-01-02 06:23:27.000000000,2021-04-08 16:37:55.000000000,,48,48,31,768857,07537cb02d6066399d127f2ef249dc7139f17639,7,2,2,48,31027,MaAoyu,maaoyu,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I23403dc148ba74f03ef0bf8281645dd016a83002
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I23d6cb01a804ea94d19ee99f2aabf10aec914e8a,openstack/tripleo-ansible,stable/victoria,add_ca_update_role-stable/victoria,I23d6cb01a804ea94d19ee99f2aabf10aec914e8a,Add tripleo_update_trusted_cas role,ABANDONED,2020-12-08 19:47:35.000000000,2021-04-08 16:35:33.000000000,,350,0,0,765953,72901be2fa82f0666f9ded2d885dc386da4b2e79,16,2,1,9,9914,Ade Lee,alee,"Add tripleo_update_trusted_cas role

This role is used to add certificates to the system ca trust store.
This role is needed so that we can add certificates to the trust store
early in host_prep as part of a fix for BZ 1840886

Change-Id: I23d6cb01a804ea94d19ee99f2aabf10aec914e8a
(cherry picked from commit de98a36b353a5ca6eb5acc290dd941e4b222a110)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I23d6cb01a804ea94d19ee99f2aabf10aec914e8a,openstack/tripleo-ansible,stable/ussuri,add_ca_update_role-stable/victoria-stable/ussuri,I23d6cb01a804ea94d19ee99f2aabf10aec914e8a,Add tripleo_update_trusted_cas role,ABANDONED,2020-12-08 19:49:11.000000000,2021-04-08 16:35:24.000000000,,350,0,0,765954,aacf99dff0d19811a80cecc62989353c72145622,16,2,1,9,9914,Ade Lee,alee,"Add tripleo_update_trusted_cas role

This role is used to add certificates to the system ca trust store.
This role is needed so that we can add certificates to the trust store
early in host_prep as part of a fix for BZ 1840886

Change-Id: I23d6cb01a804ea94d19ee99f2aabf10aec914e8a
(cherry picked from commit de98a36b353a5ca6eb5acc290dd941e4b222a110)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I23d6cb01a804ea94d19ee99f2aabf10aec914e8a,openstack/tripleo-ansible,stable/train,add_ca_update_role-stable/train,I23d6cb01a804ea94d19ee99f2aabf10aec914e8a,Add tripleo_update_trusted_cas role,ABANDONED,2020-12-08 20:35:38.000000000,2021-04-08 16:35:11.000000000,,348,0,0,766090,0e515a27192ace8f7609a33ba4e5c5288e6ee9f2,16,2,1,9,9914,Ade Lee,alee,"Add tripleo_update_trusted_cas role

This role is used to add certificates to the system ca trust store.
This role is needed so that we can add certificates to the trust store
early in host_prep as part of a fix for BZ 1840886

Change-Id: I23d6cb01a804ea94d19ee99f2aabf10aec914e8a
(cherry picked from commit de98a36b353a5ca6eb5acc290dd941e4b222a110)
(cherry picked from commit aacf99dff0d19811a80cecc62989353c72145622)
"
openstack%2Ftripleo-docs~master~I781b0388839b1c9c674f44c029fa3c031bade62f,openstack/tripleo-docs,master,allnodes/edge,I781b0388839b1c9c674f44c029fa3c031bade62f,standalone/dcn: adjustments for latest versions (train+),MERGED,2021-03-22 19:47:54.000000000,2021-04-08 16:27:15.000000000,2021-04-08 16:25:19.000000000,12,5,8,782323,4619a1d6da563adb7b65a52a69a1e50e6180de5e,24,5,4,1,3153,Emilien Macchi,emilienm,"standalone/dcn: adjustments for latest versions (train+)

- AllNodesConfig is no longer in the Heat stack, we need to look for it
  in the config-download directory from the group vars.
- tripleo-undercloud-passwords.yaml was renamed to
  tripleo-standalone-passwords.yaml.

Change-Id: I781b0388839b1c9c674f44c029fa3c031bade62f
Signed-off-by: Emilien Macchi <emilien@redhat.com>
"
openstack%2Fironic~master~I11b92612d6686b7133ddef67068664c9b81df30e,openstack/ironic,master,fix-wsman-factory-reset,I11b92612d6686b7133ddef67068664c9b81df30e,Fix idrac-wsman BIOS factory_reset result finding,MERGED,2020-08-28 15:24:01.000000000,2021-04-08 16:23:46.000000000,2021-04-08 16:20:46.000000000,389,29,195,748696,82627acadc635f32b5d06ab4c97029e2a3551e35,182,15,24,6,32108,Yogesh,yogeshr20,"Fix idrac-wsman BIOS factory_reset result finding

This change fixes the idrac-wsman BIOS hardware interface
implementation's determination of the result of its factory_reset
cleaning/deploy step, and, on success, updating of the cached BIOS
settings to their defaults. It uses a deterministic means of identifying
when the reset has successfully completed and the default BIOS settings
are available to be read.

The time when the iDRAC last performed a system inventory is referred to
as Collect System Inventory on Restart (CSIOR). CSIOR updates the values
of BIOS settings that can be read from the iDRAC. The interface reads
the CSIOR and records it on the ironic bare metal node before requesting
the factory reset and rebooting the system to process the request.
Following the system reboot, the CSIOR is periodically read until its
value changes from its recorded value. If that occurs before the
configured amount of time has passed, the step succeeds and the cached
BIOS settings are updated. Otherwise, the step fails and the node is
placed in the failed state.

Story: 2008058
Task: 40739
Depends-On: https://review.opendev.org/c/openstack/python-dracclient/+/748571
Change-Id: I11b92612d6686b7133ddef67068664c9b81df30e
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I6db37576118cf5cff4ba7a63e179f0ab37467d22,openstack/kolla-ansible,stable/victoria,bug/1922721-stable/victoria,I6db37576118cf5cff4ba7a63e179f0ab37467d22,Drop the NTP service precheck,MERGED,2021-04-08 10:18:44.000000000,2021-04-08 15:41:12.000000000,2021-04-08 15:39:18.000000000,7,10,0,785376,1b40f0dc9e8d564234613d873e192832f6dcf2e8,16,5,2,2,30491,Radosław Piliszek,yoctozepto,"Drop the NTP service precheck

We can't check this with timedatectl as it is not aware
of any ""non-native"" NTP daemon.

This could be a warning-level message but we don't have
such messages from the prechecks.

Closes-Bug: #1922721
Change-Id: I6db37576118cf5cff4ba7a63e179f0ab37467d22
(cherry picked from commit 04315751a468d921acf529400f1af528770cd2da)
"
openstack%2Fdevstack~master~I356c224d938e1aa59c8589387a03682b3ec6e23d,openstack/devstack,master,feature/support-s3-backup-driver,I356c224d938e1aa59c8589387a03682b3ec6e23d,Configure Cinder backup driver,MERGED,2021-01-11 18:51:29.000000000,2021-04-08 15:36:28.000000000,2021-04-08 15:33:49.000000000,178,39,10,770171,01a84d2d03cd871fb8734d5fdc9d149b9487e3e4,43,9,6,5,13689,Hironori Shiina,shiina,"Configure Cinder backup driver

This patch adds a new environment variable, CINDER_BACKUP_DRIVER for
configuring cinder backup driver used when c-bak service is enabled.
This gets cinder backup driver configurable with a similar pattern to
cinder backends. Although the current configurable backup drivers don't
need cleanup functions, the interface for cleanup is prepared for the
future.

The following backup drivers can be configured:
  swift:
  This is the default backup driver.
  ceph:
  This already can be configured if ceph backend driver is enabled. For
  backward compatibility, ceph backup driver is used if ceph backend
  driver is enabled and no backup driver is specified.
  s3_swift:
  The s3 backup driver gets configurable with this patch. By specifying
  's3_swift', the driver is configured for swift s3api.

In the future, lib/cinder_backups/s3 should be created separatedly for
external S3 compatible storage. This file will just set given parameters
such as a URL and credentials.

Change-Id: I356c224d938e1aa59c8589387a03682b3ec6e23d
"
openstack%2Fvalidations-common~master~Iff2d0743a7068e67f69d264600fcb830251a088f,openstack/validations-common,master,unittests/validationoutput,Iff2d0743a7068e67f69d264600fcb830251a088f,Simple tests for validation_output callback.,MERGED,2021-02-08 10:54:22.000000000,2021-04-08 15:27:05.000000000,2021-04-08 15:27:05.000000000,710,1,0,774434,8d587ceb12845b4033c12af050e231de1dde0d01,10,6,1,1,32926,Jiri Podivin,jpodivin,"Simple tests for validation_output callback.

Change-Id: Iff2d0743a7068e67f69d264600fcb830251a088f
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
"
openstack%2Ftripleo-ansible~master~If5967a12e31033cc4f7c63565700450de78661df,openstack/tripleo-ansible,master,dnm,If5967a12e31033cc4f7c63565700450de78661df,Replace include: with include_tasks: in tripleo_container_manager,MERGED,2021-03-29 13:43:54.000000000,2021-04-08 15:26:58.000000000,2021-04-08 15:26:58.000000000,4,1,0,783651,aad5ed7f9d95fc0607b7d7beb660979ef576a9e4,23,4,4,1,20172,Michele Baldessari,michele,"Replace include: with include_tasks: in tripleo_container_manager

According to
https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_module.html
the include directive is supported but they are looking at its removal
(""This module will still be supported for some time but we are looking
at deprecating it in the near future."").

Let's switch this to include_tasks as this was the only user inside all
of tripleo-ansible anyways.

Change-Id: If5967a12e31033cc4f7c63565700450de78661df
"
openstack%2Ftripleo-docs~master~I40b87aad52e0eb538f8304917a22a0c3aad20a5e,openstack/tripleo-docs,master,split-stack,I40b87aad52e0eb538f8304917a22a0c3aad20a5e,Update split-stack documentation,MERGED,2021-04-05 03:06:53.000000000,2021-04-08 15:24:51.000000000,2021-04-08 15:22:57.000000000,4,15,0,784720,7f3d9c59f061ce79a32bf389b47bf90b637f98e2,9,3,1,1,8833,Rabi Mishra,rabi,"Update split-stack documentation

This updates the docs to remove unused environment files and
also noting that this feature is not relevant since victoria.

Change-Id: I40b87aad52e0eb538f8304917a22a0c3aad20a5e
"
openstack%2Freleases~master~I4a9723e4c55d1296b777dc72e08694d287cc0a35,openstack/releases,master,,I4a9723e4c55d1296b777dc72e08694d287cc0a35,Re-tag train puppet-tripleo 11.6.1 to fix 11.6.0 packaging issue,MERGED,2021-04-07 15:53:01.000000000,2021-04-08 15:19:28.000000000,2021-04-08 08:54:09.000000000,4,0,0,785228,54cd04814ca0f29f83e639195736dffa55bbd4b3,10,6,1,1,8449,Marios Andreou,marios,"Re-tag train puppet-tripleo 11.6.1 to fix 11.6.0 packaging issue

In [1] we tagged 11.6.0 however as discussed there the commit was
wrong. This tags 11.6.1 which points to the merged metadata
bump in puppet-tripleo at [2].

[1] https://review.opendev.org/c/openstack/releases/+/784445/1#message-98a8c2640e195c10da9d95faf42ce90f9a9b23b8
[2] https://review.opendev.org/plugins/gitiles/openstack/puppet-tripleo/+/12267939c2388b9b21e1e6758de98950e0190de1/metadata.json

Change-Id: I4a9723e4c55d1296b777dc72e08694d287cc0a35
"
openstack%2Freleases~master~Ic3b3f6734ddf2530379313e52d0cb6d2fe46ec8e,openstack/releases,master,,Ic3b3f6734ddf2530379313e52d0cb6d2fe46ec8e,Re-tag victoria puppet-tripleo 13.6.1 fix 13.6.0 packaging issue,MERGED,2021-04-07 16:02:25.000000000,2021-04-08 15:19:22.000000000,2021-04-08 08:54:57.000000000,4,0,0,785230,b1dbda3200736a22755a1c626cc9566627796f30,10,7,1,1,8449,Marios Andreou,marios,"Re-tag victoria puppet-tripleo 13.6.1 fix 13.6.0 packaging issue

In [1] we tagged 13.6.0 however as discussed there the commit was
wrong. This tags 13.6.1 which points to the merged metadata
bump in puppet-tripleo at [2].

[1] https://review.opendev.org/c/openstack/releases/+/783707/2#message-199b0388164638ebdb1ffa07d94702654086d759
[2] https://review.opendev.org/plugins/gitiles/openstack/puppet-tripleo/+/784948ec314186ab93af03f24e1418cea7610214/metadata.json

Change-Id: Ic3b3f6734ddf2530379313e52d0cb6d2fe46ec8e
"
openstack%2Ftripleo-heat-templates~master~I7312601d0d1c045bbc36fc2280b21557976d7a7c,openstack/tripleo-heat-templates,master,,I7312601d0d1c045bbc36fc2280b21557976d7a7c,Update AdminToken description,ABANDONED,2020-09-11 18:40:00.000000000,2021-04-08 14:53:55.000000000,,1,1,0,751380,35fe386ea12da31c3a80c3f5caee249b2a938358,7,4,1,1,5046,Lance Bragstad,ldbragst,"Update AdminToken description

A separate change removed the AdminToken from being set for
``keystone.conf [DEFAULT] admin_token`, which was deprecated in keystone
and also deprecated in puppet-keystone:

  Id810756819505df1b21a86798bce1761515a001a

We should update the description since AdminToken no longer has any
relationship to the legacy configuration option or behavior prior to
`keystone-manage bootstrap`.

Change-Id: I7312601d0d1c045bbc36fc2280b21557976d7a7c
"
openstack%2Ftripleo-operator-ansible~master~I42a3cdee698dd6132cd31bbc6d9d21fdcca2ae2c,openstack/tripleo-operator-ansible,master,scaling-nodes,I42a3cdee698dd6132cd31bbc6d9d21fdcca2ae2c,New playbook to scale nodes,ABANDONED,2020-10-06 14:05:05.000000000,2021-04-08 14:53:22.000000000,,84,0,3,756308,03060e47b0f9b4fbee742aa83589daedf7f6a8bb,7,4,2,1,32181,Grace Byers,gbyers,"New playbook to scale nodes

This playbook gathers the rpm package facts, copies the environment file
to the undercloud, runs node imports,runs node introspection, generates
parameters to adjust compute and controller count and runs overcloud
deployment.

Change-Id: I42a3cdee698dd6132cd31bbc6d9d21fdcca2ae2c
"
openstack%2Ftripleo-heat-templates~master~I0eaa48e003d1b95f51fe5f8bf1cc448836ff1f02,openstack/tripleo-heat-templates,master,bug/isntance_ha_tls-e,I0eaa48e003d1b95f51fe5f8bf1cc448836ff1f02,/etc/pki/qemu/ca-cert.pem is missing in nova_compute with tls-e,ABANDONED,2020-10-16 14:13:10.000000000,2021-04-08 14:53:04.000000000,,50,1,3,758572,4c79dcfbbb004030b35e312de616037731336b57,12,7,3,1,7130,David Hill,dhill,"/etc/pki/qemu/ca-cert.pem is missing in nova_compute with tls-e

/etc/pki/qemu/ca-cert.pem is missing in nova_compute with tls-e so
here we're only making sure we mount the certificate in nova_compute.

Change-Id: I0eaa48e003d1b95f51fe5f8bf1cc448836ff1f02
"
openstack%2Ftripleo-heat-templates~master~I62552e2dc65affb8b7690f9f2ca36fa3eff06548,openstack/tripleo-heat-templates,master,roleparams,I62552e2dc65affb8b7690f9f2ca36fa3eff06548,Distinguish hieradata and non-hieradata in role parameters,ABANDONED,2020-10-12 12:17:15.000000000,2021-04-08 14:51:48.000000000,,297,236,2,757549,56ade59fe2cb598a59bbcef9381003c9c1861cd4,19,3,8,12,9816,Takashi Kajinami,kajinamit,"Distinguish hieradata and non-hieradata in role parameters

This patch addes the new config_settings key to RoleParametersValue,
so that we only pass valid hieradata to puppet.

Change-Id: I62552e2dc65affb8b7690f9f2ca36fa3eff06548
"
openstack%2Fcharm-guide~master~I0331c7bac7f9327f070eb08582ea9802232a8a8b,openstack/charm-guide,master,2104-docs,I0331c7bac7f9327f070eb08582ea9802232a8a8b,Refactor release notes 2104,MERGED,2021-04-06 19:15:45.000000000,2021-04-08 14:51:42.000000000,2021-04-08 14:40:43.000000000,168,301,2,785034,00fb2b893da1a18d20f647cd9a9d1b21b02382f5,14,2,2,2,30561,Peter Matulis,pmatulis,"Refactor release notes 2104

* Refactor 21.04 Release Notes

* Move Issues to CDG

* Reword section on worker-multiplier option

* Re-populate template for Release Notes

Depends-On: I62164bd4ae939ec193ae4e47d79adb2ca7af2a85
Change-Id: I0331c7bac7f9327f070eb08582ea9802232a8a8b
"
openstack%2Fansible-role-collect-logs~master~I0fa2d746df482ba26cd70357898c9f518fe06d41,openstack/ansible-role-collect-logs,master,,I0fa2d746df482ba26cd70357898c9f518fe06d41,add build_id directly to the logs,ABANDONED,2020-08-07 18:31:57.000000000,2021-04-08 14:51:36.000000000,,8,0,5,745385,79b1ecc2a43b592c9859a9b9e98a8be94a5b982e,28,6,4,1,9592,wes hayutin,weshayutin,"add build_id directly to the logs

This makes it easier for users and monitoring
to determine the build id of the job log

Change-Id: I0fa2d746df482ba26cd70357898c9f518fe06d41
"
openstack%2Freleases~master~Ic3e4cc23dab6bb24da6efd938083b26582f5dfde,openstack/releases,master,devstack-plugin-wallaby,Ic3e4cc23dab6bb24da6efd938083b26582f5dfde,Making devstack-plugin-(amqp1|kafka) branchless,MERGED,2021-04-01 11:44:56.000000000,2021-04-08 14:47:23.000000000,2021-04-08 14:47:23.000000000,0,34,0,784376,4470b20ed8773c565d03b58fc3bf1c3e8be6d061,39,10,9,4,28522,Hervé Beraud,hberaud,"Making devstack-plugin-(amqp1|kafka) branchless

QA team pointed out to us that usually devstack plugins are
branchless [1] (and tagless but that's already the case here).

They haven't been branched since ussuri, we think that we simply
missed to retire them few series ago.

I think that's the right moment to do a little spring cleaning.
Let's drop these deliverables for Victoria/Wallaby.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html

Depends-On: https://review.opendev.org/c/openstack/governance/+/784544
Change-Id: Ic3e4cc23dab6bb24da6efd938083b26582f5dfde
"
openstack%2Ftripleo-common~master~I0e62d6d7632382772b62c30e1d373d9ab7b53a60,openstack/tripleo-common,master,octavia-backport,I0e62d6d7632382772b62c30e1d373d9ab7b53a60,Allow octavia container image version to be parameterized,ABANDONED,2020-07-14 14:35:18.000000000,2021-04-08 14:44:21.000000000,,24,0,3,740978,0218a2c4f27ec1099e3fc3c27b4971a8c9543dbb,11,3,3,1,6681,Brent Eagles,beagles,"Allow octavia container image version to be parameterized

Allow the octavia container namespace and tag to be overridden. This
enables support for deploying versions of octavia container images from
different locations or branches of OpenStack.

Change-Id: I0e62d6d7632382772b62c30e1d373d9ab7b53a60
"
openstack%2Fpython-glanceclient~master~I436ca081f2486de47c8cdf7c45843dbdebee8059,openstack/python-glanceclient,master,bug/1812525,I436ca081f2486de47c8cdf7c45843dbdebee8059,"Do not use socket._fileobject, which is not compatible with Python 3",NEW,2021-04-01 18:53:18.000000000,2021-04-08 14:42:47.000000000,,1,1,0,784465,58c27b9163e2f893094999d288f790afff05241d,7,3,1,1,8122,Cyril Roelandt,cyril.roelandt.enovance,"Do not use socket._fileobject, which is not compatible with Python 3

Change-Id: I436ca081f2486de47c8cdf7c45843dbdebee8059
Closes-Bug: #1812525
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id810756819505df1b21a86798bce1761515a001a,openstack/tripleo-heat-templates,stable/train,,Id810756819505df1b21a86798bce1761515a001a,Remove deprecated puppet-keystone modules related to admin auth,ABANDONED,2020-09-11 20:20:43.000000000,2021-04-08 14:41:25.000000000,,8,12,0,751423,2646e64d69c2ecb46415a6b2aa7492d814fbdc3a,4,4,1,1,5046,Lance Bragstad,ldbragst,"Remove deprecated puppet-keystone modules related to admin auth

The following classes and parameters were deprecated in puppet-keystone
when keystone::bootstrap was added, and we don't need to set them
anymore because now we use new parameters.

 - keystone::roles::admin
 - keystone::endpoint
 - keystone::admin_token
 - keystone::admin_password

[1] I683fcdd743bddf6d4e989dd7e7c553db745934db

(cherry picked from commit 1de0294ba8eb03172f4cd1588a73fa15103eaa16)

Change-Id: Id810756819505df1b21a86798bce1761515a001a
"
openstack%2Ftripleo-heat-templates~master~Ie8b07a3df6fc6e52d4e9182c60a4b9e5517577d6,openstack/tripleo-heat-templates,master,RFE-1822136,Ie8b07a3df6fc6e52d4e9182c60a4b9e5517577d6,Add user facing interface for sshd overrides,ABANDONED,2020-08-11 15:05:26.000000000,2021-04-08 14:40:05.000000000,,5,0,0,745694,072054e99b691da340cc3de4fcfdcda61511e000,9,4,1,1,7353,Kevin Carter,cloudnull,"Add user facing interface for sshd overrides

This change adds a new parameter which users can leverage to extend the
default SSHD configuration options. This parameter can be stored in
the users templates, and will easily extend the production ready
defaults we're already applying.

* User provided defaults will take precidence in the event of a collision.

Depends-On: I68e797d81b2c774c87b73b202158f1c89a384b18
Change-Id: Ie8b07a3df6fc6e52d4e9182c60a4b9e5517577d6
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-ci~master~I4eaeb9aface4748f7b4b7923e2a62200d998791c,openstack/tripleo-ci,master,,I4eaeb9aface4748f7b4b7923e2a62200d998791c,"dup standalone012 for master, make it non-voting",ABANDONED,2020-09-09 16:27:44.000000000,2021-04-08 14:39:24.000000000,,16,1,1,750716,23e5e83a61eeceee703a3f934c7ef8760c320543,5,2,2,1,9592,wes hayutin,weshayutin,"dup standalone012 for master, make it non-voting

Change-Id: I4eaeb9aface4748f7b4b7923e2a62200d998791c
"
openstack%2Ftripleo-ci~master~Ic961e3a85781ce00f1558420a094a77eca61a503,openstack/tripleo-ci,master,centos8_upstream_upgrade_periodics,Ic961e3a85781ce00f1558420a094a77eca61a503,Adds centos8 upgrade/update jobs to upstream tripleo-periodic,ABANDONED,2020-09-03 11:38:52.000000000,2021-04-08 14:39:20.000000000,,27,0,0,749710,60fabfabc21267d615855b18a1bc039762155140,7,2,2,1,8449,Marios Andreou,marios,"Adds centos8 upgrade/update jobs to upstream tripleo-periodic

These jobs have recently been added to the gate so let's also
run them as periodics for easier debug & root cause analysis.

Change-Id: Ic961e3a85781ce00f1558420a094a77eca61a503
"
openstack%2Ftripleo-ci~master~Iaddedbd468ce7db19d29526fd3b3c3a657168067,openstack/tripleo-ci,master,,Iaddedbd468ce7db19d29526fd3b3c3a657168067,Add debug to when listing containers,ABANDONED,2020-02-10 18:34:55.000000000,2021-04-08 14:39:14.000000000,,1,1,5,706952,34e2ace8666be419f7958f9f9d0c954286db183f,33,9,5,1,9592,wes hayutin,weshayutin,"Add debug to when listing containers

This will help uncover any issues with
the the openstack clients or tripleo-common

Related-Fix: #1862674
Depends-On: https://review.opendev.org/#/c/707330/
Change-Id: Iaddedbd468ce7db19d29526fd3b3c3a657168067
"
openstack%2Ftripleo-ansible~master~Ic596021843fd949d2fd6988ffe634466347e68a2,openstack/tripleo-ansible,master,,Ic596021843fd949d2fd6988ffe634466347e68a2,Clean up the deprecated imp module,ABANDONED,2020-08-30 11:19:58.000000000,2021-04-08 14:38:02.000000000,,32,41,4,748848,da1e82c80d751f24e0fcf0b446c678dada371a80,12,3,3,4,32067,Linhui Zhou,zhoulinhui,"Clean up the deprecated imp module

since we don't support python2 anymore, the deprecated imp module should
be clean up

Change-Id: Ic596021843fd949d2fd6988ffe634466347e68a2
"
openstack%2Ftripleo-ci~master~I9477402b21b3d32f27dc28b77220167954f82552,openstack/tripleo-ci,master,,I9477402b21b3d32f27dc28b77220167954f82552,move centos-8-standalone scenario010 to voting,ABANDONED,2020-08-04 20:20:49.000000000,2021-04-08 14:37:18.000000000,,3,2,0,744783,1a584ee20107e41a71ee4ed5d00da5f2e366eb4b,4,2,1,1,9592,wes hayutin,weshayutin,"move centos-8-standalone scenario010 to voting

centos-8 train
https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario010-standalone&branch=stable%2Ftrain
centos-8 ussuri
https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario010-standalone&branch=stable%2Fussuri
centos-8 master
https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario010-standalone&branch=master

It's up for debate whether or not this has hit the
level of stability we need at this time, please
vote.

centos-7 and centos-8 are defined in the gate
however centos-7 is only launched aginst
stable/stein at this time.

Change-Id: I9477402b21b3d32f27dc28b77220167954f82552
"
openstack%2Ftripleo-docs~master~I33762bbc4698da02ccf24b04ff61ab7a6a4ad34f,openstack/tripleo-docs,master,tls-documentation-rewrite,I33762bbc4698da02ccf24b04ff61ab7a6a4ad34f,Add a separate guide for public TLS,ABANDONED,2020-05-18 18:08:23.000000000,2021-04-08 14:37:13.000000000,,69,2,9,728972,de9770e6f212b7479b5bc5d68f12623d86389803,21,5,6,3,5046,Lance Bragstad,ldbragst,"Add a separate guide for public TLS

We want to document public TLS, but we want to make sure we keep it
separate from the TLS-everywhere guide.

This commit introduces a new feature document that describes exactly
what people have to do to implement TLS for public interfaces only.

Change-Id: I33762bbc4698da02ccf24b04ff61ab7a6a4ad34f
"
openstack%2Ftripleo-ci~master~I664d079aef1feb28d59ebe6fe13d49527f8793a7,openstack/tripleo-ci,master,octavia-ci-upgrade,I664d079aef1feb28d59ebe6fe13d49527f8793a7,Add Octavia standalone upgrade CI job,ABANDONED,2020-02-28 15:53:00.000000000,2021-04-08 14:37:07.000000000,,50,0,49,710473,502688b4ad0a190c7a530d7b2be97ce4c108a41a,118,8,20,1,6469,Carlos Gonçalves,cgoncalves,"Add Octavia standalone upgrade CI job

Depends-On: https://review.opendev.org/#/c/715137/
Change-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ie1509e6e8f4545e331db6ef49f096bb66662998b,openstack/tripleo-heat-templates,stable/queens,queens-backports,Ie1509e6e8f4545e331db6ef49f096bb66662998b,Add STF environment,ABANDONED,2020-04-23 14:59:34.000000000,2021-04-08 14:37:03.000000000,,134,38,0,722349,fa03c9a2c2109d5e07037c491409927fbc129a20,36,5,11,4,30357,Ryan McCabe,rmccabe,"Add STF environment

Backport of 3790c804a70081227f03f704bc160947a0b21fdb

Add yaml to enable the STF client side. The only manual configuration
necessary should be pointing the host to the STF server.

Remove tcpconns from the collectd default plugin list, as
there are no users of it, and it should not be in the default
plugin list when STF is enabled.

More discussion about settings at
https://github.com/infrawatch/telemetry-framework/pull/100

Note about the plugins:

- virt plugin is already automatically loaded on each role where
  nova-compute is deployed. The hieradata is always set in
  eployment/metrics/collectd-container-puppet but it's fine because the
  plugin isn't always enabled. No need to add extra complexity with
  parameters.
- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are
  automatically loaded if STF is enabled.

Depends-On: I1a1f619bc1de27a974dfd966e73a7a30128ac277
Change-Id: Ie1509e6e8f4545e331db6ef49f096bb66662998b
Signed-off-by: Ryan McCabe <rmccabe@redhat.com>
"
openstack%2Fpython-tripleoclient~master~I4942696db01e5ab8511e7e9e583a1317a86ba7ed,openstack/python-tripleoclient,master,py38,I4942696db01e5ab8511e7e9e583a1317a86ba7ed,Add support for python 3.8,ABANDONED,2020-05-26 10:14:40.000000000,2021-04-08 14:36:59.000000000,,3,2,3,730750,8231c0570cb70513a70e82163230809cc32c7f6b,24,7,6,3,28522,Hervé Beraud,hberaud,"Add support for python 3.8

Introduce support of python 3.8 [1] and move tox and jobs to py38.

jsonschema 3.2.0 [2] support python 3.8

[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria
[2] https://github.com/Julian/jsonschema/pull/627

Change-Id: I4942696db01e5ab8511e7e9e583a1317a86ba7ed
"
openstack%2Fpython-tripleoclient~master~Ic989eb9c93625595643c6c325fd751a7ea8143ce,openstack/python-tripleoclient,master,unittest.mock,Ic989eb9c93625595643c6c325fd751a7ea8143ce,Use unittest.mock instead of third party mock,ABANDONED,2020-04-18 16:59:52.000000000,2021-04-08 14:36:55.000000000,,54,47,0,721004,cdabd7d04805b423b473cfe7cdef135b6c1e6a7d,10,3,2,47,11904,Sean McGinnis,SeanM,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: Ic989eb9c93625595643c6c325fd751a7ea8143ce
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Ftripleo-heat-templates~master~I2c13dda52c0b478024d98714c4f5a9f8fde89dad,openstack/tripleo-heat-templates,master,bp/nova-less-deploy,I2c13dda52c0b478024d98714c4f5a9f8fde89dad,Undercloud upgrade steps to switch off nova and glance,ABANDONED,2020-06-10 21:39:11.000000000,2021-04-08 14:36:50.000000000,,53,0,0,734980,d96b375a07e26b2768841a10f2cd6e36f7f2e7de,6,2,2,2,4571,Steve Baker,steve-stevebaker,"Undercloud upgrade steps to switch off nova and glance

The following steps during undercloud upgrade are taken when undercloud.conf
enable_nova=false

Extract existing provisioned nodes:
This writes out a ~/<overcloud>-baremetal-deploy.yaml file for each overcloud
stack. When ""openstack overcloud node provision"" is run with this file, no nodes
will be added or removed, and a deployed server config will be generated which
can be used for subsequent overcloud upgrade/deploy calls

Stop nova and glance services:
This assumes that the undercloud is being upgraded from at least Train, where
containers are podman and managed by systemd, with units written by paunch or
ansible.

Delete nova and glance endpoint catalog entries:
These must be deleted because some tasks (image upload) will check for an
endpoint to decide what to do (upload or copy locally)

Remove nova/glance tripleo-config files:
Config files from previous undercloud install runs remain, so are executed
again even when a config change removes them. This should probably be improved
but in the meantime, explicitly delete the nova and glance configs so the
services don't get redeployed.

Change-Id: I2c13dda52c0b478024d98714c4f5a9f8fde89dad
Blueprint: nova-less-deploy
"
openstack%2Ftripleo-heat-templates~master~I4a25cae8ccc07f850f6d75f5ee3902ebfd2d9184,openstack/tripleo-heat-templates,master,unused-e,I4a25cae8ccc07f850f6d75f5ee3902ebfd2d9184,unused e,ABANDONED,2020-05-21 02:38:55.000000000,2021-04-08 14:36:44.000000000,,2,1,0,729827,ad48843638cbff797ae03c6f7b32ef7c28c0e341,4,2,1,1,30456,ada cui,cuiweibo,"unused e

Change-Id: I4a25cae8ccc07f850f6d75f5ee3902ebfd2d9184
"
openstack%2Ftripleo-heat-templates~master~I8482d380344ffde4f0b8b0c26813fa6fc91153db,openstack/tripleo-heat-templates,master,hacking-fix,I8482d380344ffde4f0b8b0c26813fa6fc91153db,Bump hacking min version to 3.1.0,ABANDONED,2020-05-19 21:41:31.000000000,2021-04-08 14:36:11.000000000,,3,3,0,729405,1e3e1ecc62b681af2412dd918e3e751248ef4ac2,15,1,7,2,30456,ada cui,cuiweibo,"Bump hacking min version to 3.1.0

Change-Id: I8482d380344ffde4f0b8b0c26813fa6fc91153db
"
openstack%2Fproject-config~master~I208646b1701fde8e743a645a77ab73dcdc0a55a1,openstack/project-config,master,fix-yarn-nodejs,I208646b1701fde8e743a645a77ab73dcdc0a55a1,Move away from nodejs4 in an Openstack context,MERGED,2021-04-08 09:34:03.000000000,2021-04-08 14:29:37.000000000,2021-04-08 14:29:37.000000000,4,4,0,785353,d8528d83a8986c1af708c9894b9e8afbf8acf102,9,5,1,1,28522,Hervé Beraud,hberaud,"Move away from nodejs4 in an Openstack context

First I voluntarely ignored 'x' projects. These changes are only against
openstack projects.

We recently experienced inconsistencies between yarn and the nodejs
version in use in some environments [1]. This problem have been fixed [2]
by Adding the nodejs10-publish-to-npm project template [3] and by using
it on the project that failed [4].

However today we started to experience the same issue again [5] on another
project (eslint-config-openstack).

These changes move this project under nodejs10.

Also these changes propose to move to nodejs10 all the projects under the
openstack umbrella.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021002.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021207.html
[3] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/781825/
[4] https://review.opendev.org/c/openstack/project-config/+/781826/
[5] http://lists.openstack.org/pipermail/release-job-failures/2021-April/001525.html

Change-Id: I208646b1701fde8e743a645a77ab73dcdc0a55a1
"
openstack%2Freleases~master~Ibd0b5538acc18584bfeb69ce5c395692f90058da,openstack/releases,master,wallaby-final-rc,Ibd0b5538acc18584bfeb69ce5c395692f90058da,Final RC patch for magnum,MERGED,2021-04-08 09:37:03.000000000,2021-04-08 14:23:08.000000000,2021-04-08 14:23:08.000000000,4,0,0,785356,78a21dcd2dccc095ef0492dd811d5dd78a0d3f5d,9,4,1,1,28522,Hervé Beraud,hberaud,"Final RC patch for magnum

This creates a new RC before the final release candidate deadline to
release the latest fixes and/or translations.

Please ack with a +1, or if there is some reason to hold off, leave a -1.

$ git log --oneline --no-merges 12.0.0.0rc1..c2a4a22a
c2a4a22a [K8S] Enable --use-service-account-credentials

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ibd0b5538acc18584bfeb69ce5c395692f90058da
"
openstack%2Fproject-team-guide~master~I4c89ce7b02f651b8b1eda34345463d374fa6829a,openstack/project-team-guide,master,update-project-deprecation-docs,I4c89ce7b02f651b8b1eda34345463d374fa6829a,Update project deprecation docs,MERGED,2021-03-31 06:25:20.000000000,2021-04-08 14:18:47.000000000,2021-04-08 14:17:15.000000000,4,0,8,784005,ca88ca946a7318f0e53b1de6376ed13b144b9160,21,5,2,1,11975,Slawek Kaplonski,slaweq,"Update project deprecation docs

As per Andreas comment in [1] it seems for me that during deprecation of
the project it should be also removed from the www/project-data/latest.yaml
which isn't mentioned in the ""Project deprecation"" document.
This patch adds that missing note.

[1] https://review.opendev.org/c/openstack/openstack-manuals/+/783798

Change-Id: I4c89ce7b02f651b8b1eda34345463d374fa6829a
"
openstack%2Fhorizon~stable%2Fwallaby~Ic8b723e6fd423b96a4f5eff54f9392cee534ed9e,openstack/horizon,stable/wallaby,,Ic8b723e6fd423b96a4f5eff54f9392cee534ed9e,Don't load user role assignment or groups tabs for non-admins,MERGED,2021-04-07 10:22:11.000000000,2021-04-08 14:12:31.000000000,2021-04-08 14:05:12.000000000,8,0,0,785125,33c5f63e22d95ca26e74a0ae2a56c40787e92015,12,5,1,1,1736,Ivan Kolodyazhny,e0ne,"Don't load user role assignment or groups tabs for non-admins

As a non admin user, navigate to Identity -> Users. Then click on the
username of your user to go to the detail page.

Only the allowed Overview tab is visible.

The view shows three tabs: Overview, Role assignments, Groups. Click on
either Role assignments or Groups. An error will appear, showing that
the API call is unauthorised, and the table content will fail to load.

This change fixes the issue by conditionally loading the tabs based on
policy.

Closes-Bug: #1920214
Change-Id: Ic8b723e6fd423b96a4f5eff54f9392cee534ed9e
(cherry picked from commit 60cf32031565ed8b4b2a4a39380a060997c9d9e4)
"
openstack%2Fhorizon~master~I2040201b533f1d16f1f629e31be8d7b9130b2e52,openstack/horizon,master,default-policy-update,I2040201b533f1d16f1f629e31be8d7b9130b2e52,Sync default policy rules,MERGED,2021-03-30 05:49:08.000000000,2021-04-08 13:58:48.000000000,2021-04-07 18:51:01.000000000,4368,982,4,783782,4e195570e5eadce049872a34ce5a91af554333a1,21,4,3,8,841,Akihiro Motoki,amotoki,"Sync default policy rules

Update default policy-in-code rules in horizon based on
nova/neutron/cinder/glance RC deliverables.
More precisely, they are based on the top of stable/wallaby
branch of these projects as of Apr 7 14UTC.

Change-Id: I2040201b533f1d16f1f629e31be8d7b9130b2e52
"
openstack%2Fpython-tripleoclient~master~Ia7b629011b6f5bf0071c7625efd6bd5bf1c185af,openstack/python-tripleoclient,master,,Ia7b629011b6f5bf0071c7625efd6bd5bf1c185af,Add release note for tripleo deploy working dir,ABANDONED,2021-04-08 00:22:35.000000000,2021-04-08 13:56:26.000000000,,8,0,0,785296,d82116eb220fa7a082b7d078c661c28d33c975ec,3,1,1,1,7144,James Slagle,slagle,"Add release note for tripleo deploy working dir

Change-Id: Ia7b629011b6f5bf0071c7625efd6bd5bf1c185af
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I22e11a994801447526ac26fc2815a1679876225e,openstack/kolla-ansible,stable/victoria,kolla-quay.io-stable/victoria,I22e11a994801447526ac26fc2815a1679876225e,[CI] Use images from quay.io,MERGED,2021-04-06 06:36:28.000000000,2021-04-08 13:43:22.000000000,2021-04-08 13:42:00.000000000,4,2,0,784845,366be65fd4d929f06074bd166fa3849d5fb32276,9,3,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Use images from quay.io

Based on the discussions from the past 3 Kolla meetings [1][2][3],
we established that, to avoid the DockerHub pull limit issues
in our CI, we will try using quay.io.

The images have already been published via Kolla CI
for master/Wallaby [4] and Victoria [5].

This change applies only to CI.
The user-facing move is yet to be discussed.

[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102
[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137
[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50
[4] https://review.opendev.org/c/openstack/kolla/+/781130
[5] https://review.opendev.org/c/openstack/kolla/+/781899

Change-Id: I22e11a994801447526ac26fc2815a1679876225e
(cherry picked from commit 9c045aee36997098b655c7d6b03c72f3409ab152)
"
openstack%2Fmonasca-thresh~master~I4c6e6f1dbacf093f94b566abc7251f4e33eff93f,openstack/monasca-thresh,master,,I4c6e6f1dbacf093f94b566abc7251f4e33eff93f,Use external Zookeeper in Local mode,MERGED,2021-03-27 18:40:28.000000000,2021-04-08 13:39:28.000000000,2021-04-08 13:39:28.000000000,4,1,0,783565,d156980a528caf1797df1a621719dd76668a18dd,13,2,4,1,28062,Martin Chacon Piza,martinchacon,"Use external Zookeeper in Local mode

By default Storm uses the in-process ZooKeeper when the local mode
is chosen.

The in-process ZooKeeper doesn't handle the trim of ZooKeeper
Transactional logs & snapshots.

There is a constructor which enables the possibility to use an
external ZooKeeper when the local mode is used. [1][2]

[1] https://issues.apache.org/jira/browse/STORM-213
[2] https://github.com/apache/storm/pull/137/files

Change-Id: I4c6e6f1dbacf093f94b566abc7251f4e33eff93f
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I973ea8c210db477b735a99755332346a646bea19,openstack/python-tripleoclient,stable/ussuri,vf/static/inv-stable/victoria-stable/ussuri,I973ea8c210db477b735a99755332346a646bea19,Move static-inventory option into parser group,MERGED,2021-04-01 14:46:58.000000000,2021-04-08 13:26:05.000000000,2021-04-08 13:19:03.000000000,12,11,0,784401,126406663bc6d8cfac4b8774c93db3b8800d72f9,16,3,1,1,16515,mbu,matbu,"Move static-inventory option into parser group

Static-inventory should not be in extra_vars_group, this
patch move this option into parser.
It's faling when we want to provide both:
--static-inventory and --extra-vars option since the
extra_vars_group is mutually exclusive.

Change-Id: I973ea8c210db477b735a99755332346a646bea19
(cherry picked from commit 986f9261119f64fcbfe1c3957ee1c721eed370df)
"
openstack%2Fopenstack-ansible-os_neutron~master~Ic0698494815f0f344cfd2ce826045f76c1e2b06a,openstack/openstack-ansible-os_neutron,master,,Ic0698494815f0f344cfd2ce826045f76c1e2b06a,Fix u-c filter regex,MERGED,2021-03-30 09:11:50.000000000,2021-04-08 13:23:23.000000000,2021-04-08 13:18:29.000000000,1,1,0,783811,a9ec915d809c38adf04c38dc622940cb7398a4c8,8,3,1,1,25023,Jonathan Rosser,jrosser,"Fix u-c filter regex

Change-Id: Ic0698494815f0f344cfd2ce826045f76c1e2b06a
"
openstack%2Ftripleo-ci~master~I18c7f243e7793c1dbd115d850a57a5ee079d965c,openstack/tripleo-ci,master,ovn-provider-tests,I18c7f243e7793c1dbd115d850a57a5ee079d965c,Enable some tests for the ovn-octavia-provider master job,MERGED,2021-04-06 18:48:44.000000000,2021-04-08 13:19:07.000000000,2021-04-08 13:19:07.000000000,4,1,5,785026,0d1f5312ee14c770bdc3315a64bfcba3b5abdf26,13,5,1,1,1131,Brian Haley,brian-haley,"Enable some tests for the ovn-octavia-provider master job

The parent class enables 'smoke' tests, which only runs HTTP
tests that the OVN provider does not support. Add some tests
it does support for a minimum sanity check.

Change-Id: I18c7f243e7793c1dbd115d850a57a5ee079d965c
"
openstack%2Fcharm-heat~master~Iffe53a0a9feb59e0d94f08ee152e6f5d7107192c,openstack/charm-heat,master,libraries-sync-21-04,Iffe53a0a9feb59e0d94f08ee152e6f5d7107192c,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:25:36.000000000,2021-04-08 13:13:02.000000000,2021-04-08 13:13:02.000000000,1395,91,0,784655,c93b67b11e8f65f556f3e0751fa75b6791d6f878,14,3,1,16,20870,Alex Kavanagh,ajkavanagh,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: Iffe53a0a9feb59e0d94f08ee152e6f5d7107192c
"
openstack%2Ftacker~master~Ibc67c97b389f707b67fa59c7e69e536faf88b40d,openstack/tacker,master,bug/1921994,Ibc67c97b389f707b67fa59c7e69e536faf88b40d,Improvement of FT cases for Retry LCM Operation,MERGED,2021-03-31 07:00:34.000000000,2021-04-08 13:03:26.000000000,2021-04-08 12:59:00.000000000,35,11,3,784012,f731f8853272d7a060960e28fd7204c1eaf1c13a,32,7,5,2,32219,Aldinson C. Esto,esto-aln,"Improvement of FT cases for Retry LCM Operation

Add Client Notification Endpoint Test assertion in the following
functional tests for Retry LCM Operation:

- test_retry_instantiate
- test_retry_scale_out
- test_retry_chgextconn
- test_inst_chgextconn_term

Closes-Bug: #1921994
Change-Id: Ibc67c97b389f707b67fa59c7e69e536faf88b40d
"
openstack%2Fkuryr-kubernetes~master~If0fe68deb7ef6262f4331f0c262e3c2678cd508f,openstack/kuryr-kubernetes,master,remove-kuryrport-deletion,If0fe68deb7ef6262f4331f0c262e3c2678cd508f,Stop deleting KuryrPorts of host-networking pods,MERGED,2021-03-25 15:27:00.000000000,2021-04-08 13:02:51.000000000,2021-04-08 13:01:10.000000000,1,28,2,783034,3a3d3c25c67ae85b6713bb01c1d3ab3b9210a741,32,5,3,2,11600,Michał Dulko,dulek,"Stop deleting KuryrPorts of host-networking pods

The code this patch removes was added in order to fix a problem of
additional KuryrPorts on upgrades. We shouldn't worry about it in
Wallaby as Victoria is free of the problem already.

Change-Id: If0fe68deb7ef6262f4331f0c262e3c2678cd508f
"
openstack%2Ftacker~master~If14b95b2f9dfafe994a5ebf4f447a2bf7d27981c,openstack/tacker,master,bug/1920085,If14b95b2f9dfafe994a5ebf4f447a2bf7d27981c,Fix some bugs related legacy cnf operations,MERGED,2021-03-29 10:21:25.000000000,2021-04-08 13:01:55.000000000,2021-04-08 12:56:45.000000000,47,29,0,783626,667377b849d40846dd750700d7aa40e2097393cc,12,6,1,7,31857,Ayumu Ueha,ueha,"Fix some bugs related legacy cnf operations

This patch fixes some bugs related legacy cnf operations below:
* Delete the ""unsupported key check"" of policies in TOSCA template, to
  resolve `openstack vnf create` command failure due to property
  validation of policies.
* Change the branch condition of legacy/sol, to resolve the
  `openstack vnf scale` command failure due to keyError.
* Add interval to each retry loops of delete_wait_legacy, to resolve
  the `openstack vnf delete` command failure.

And this patch revises the documentation for legacy cnf operations to
work properly.

Closes-Bug: #1920085
Change-Id: If14b95b2f9dfafe994a5ebf4f447a2bf7d27981c
"
openstack%2Fpython-tackerclient~master~Idfaf06953fac9f3549cea64e1697ffef630a1dc8,openstack/python-tackerclient,master,add-xena-python-jobtemplates,Idfaf06953fac9f3549cea64e1697ffef630a1dc8,Add Python3 xena unit tests,MERGED,2021-03-18 10:45:35.000000000,2021-04-08 12:59:41.000000000,2021-04-08 12:52:50.000000000,1,1,0,781314,a7ee00eac401c37256a22f41d04925a2124cb549,12,5,2,1,22816,OpenStack Release Bot,release,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Idfaf06953fac9f3549cea64e1697ffef630a1dc8
"
openstack%2Ftacker~master~Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b,openstack/tacker,master,bug/1922192,Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b,Fix exception not raised while install script failed,MERGED,2021-04-02 01:12:23.000000000,2021-04-08 12:58:15.000000000,2021-04-08 12:58:15.000000000,6,12,9,784519,206cc80e1f68699d95bd61bb9b2f258d428a9920,23,9,4,3,31821,LiangLu,LiangLu,"Fix exception not raised while install script failed

In kubernetes_mgmt, it will find 'Install Failed!\n' in stdout
to judge raise a exception of script install failed.

However in recent fix, we changed error message from script,
thus kubernetes_mgmt cannot catch error msg from stdout,
exception will not be raised.

This patch will fix matching error message in kuberntes_mgmt.

Closes-Bug: #1922192
Change-Id: Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b
"
openstack%2Ftacker~master~I19aedf0940d8b8d51fa5bd1d5c5092655d7970b0,openstack/tacker,master,bug/1922191,I19aedf0940d8b8d51fa5bd1d5c5092655d7970b0,Fix missing None judgement in rollback,MERGED,2021-04-02 02:32:59.000000000,2021-04-08 12:57:39.000000000,2021-04-08 12:57:39.000000000,15,15,2,784526,5100e31871a9bd1b88112b06475120f1dc0bd7c3,14,9,2,1,31821,LiangLu,LiangLu,"Fix missing None judgement in rollback

in vnflcm_drive._term_resource_update(),
it is checking if 'affected_vnfcs' is existing in
vnf_lcm_op_occs.resource_changes.

However, 'affected_vnfcs' may be None,
and cause an None type error in next line,
using len() for affect_vnfcs.
(same to other 2 variables below)

This patch is adding None judgement before
len()

Closes-Bug: #1922191
Change-Id: I19aedf0940d8b8d51fa5bd1d5c5092655d7970b0
"
openstack%2Fcharm-deployment-guide~master~I62164bd4ae939ec193ae4e47d79adb2ca7af2a85,openstack/charm-deployment-guide,master,add-new-issues-page,I62164bd4ae939ec193ae4e47d79adb2ca7af2a85,Add new issues page and refactor,MERGED,2021-04-02 01:06:24.000000000,2021-04-08 12:57:14.000000000,2021-04-08 12:52:15.000000000,278,128,0,784517,d4eb5ed7d7a18136c2a3614e60986de86f420273,9,2,2,7,30561,Peter Matulis,pmatulis,"Add new issues page and refactor

* Add a new 'Various issues' page.

    This page will contain the known issues that were
    previously inherited from release to release and
    placed in the Release Notes even though they had no
    connection with the current release. The Release Notes
    will now only contain issues that arose during the
    associated development cycle (upgrade notes will go
    directly to the upgrade issues page). Once a new Release
    Notes page is created issues will be moved to this new
    page.

    Populate the page with issues from the current 2104
    Release Notes.

* Add an upgrade note for the `worker-multiplier` option.

* Organise the 'Upgrade issues' page by upgrade type.

* Minor rewording of some of the issues pages.

Change-Id: I62164bd4ae939ec193ae4e47d79adb2ca7af2a85
"
openstack%2Ftacker~master~I9f918ceff9882da1bff4b1cc953602a3b84aec0c,openstack/tacker,master,bp/cnf-support-with-etsi-nfv-specs,I9f918ceff9882da1bff4b1cc953602a3b84aec0c,Add new inherited methods for kubernetes_mgmt,MERGED,2021-04-05 08:59:02.000000000,2021-04-08 12:53:02.000000000,2021-04-08 12:49:50.000000000,12,0,16,784752,44bf8f595b78730085f2e2d4e780c10971536cf3,19,7,4,1,31821,LiangLu,LiangLu,"Add new inherited methods for kubernetes_mgmt

2 new methods are added at last time merge of
Wallaby release in vnflcm_abstract_driver.py.
  * change_external_connectivity_start()
  * change_external_connectivity_end()
(tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py#L88)

In kubernetes_mgmt.py,
(sample/mgmt_drivers/kubernetes_mgmt.py)
we inherited VnflcmAbstractDriver thus we also
needed to implements these 2 methods here.

Due to we don't have these interfaces here, I updated
empty methods for clear runtime error.

Change-Id: I9f918ceff9882da1bff4b1cc953602a3b84aec0c
"
openstack%2Ftacker~master~Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb,openstack/tacker,master,bug/1922194,Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb,Fix parameters passing in kubernetes_mgmt,MERGED,2021-04-02 02:22:37.000000000,2021-04-08 12:51:47.000000000,2021-04-08 12:49:43.000000000,1,1,0,784525,d987f6190dc3744aa8ca424212596cabbe7bb99e,15,9,3,1,31821,LiangLu,LiangLu,"Fix parameters passing in kubernetes_mgmt

While calling _get_by_name() in kubernetes_mgmt, it is passing
self + other 3 parameters.

However it is calling _get_by_name() by instance,
thus passing self is not needed and will cause an unmatch
parameters error during Terminate process

Closes-Bug: #1922194
Change-Id: Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb
"
openstack%2Ftacker~master~I3a325634f88b9521d7fa2f524076934df315742d,openstack/tacker,master,bug/1915107,I3a325634f88b9521d7fa2f524076934df315742d,Addition of location header field in response,MERGED,2021-03-30 15:22:50.000000000,2021-04-08 12:40:52.000000000,2021-04-08 12:38:28.000000000,73,15,17,783896,5a9ae0c858629cb81a9c99b485e2bd720bb24ffa,31,7,10,2,33295,Shanu Pandit,spandit1511,"Addition of location header field in response

For below VNFInstance's operations ""Location header"" will be present
1) heal
2) instantiate
3) terminate

Response header will contain the ""Location"" HTTP header field.
And this ""Location"" HTTP header will contain ""vnfLcmOpOccId"".

This patch changes notification parameter based on
SOL013  7.1.4 Type: NotificationLink.

As per SOL003, 5.5.2.17, VnfLcmOperationOccurrenceNotification
represents a VNF lifecycle management operation occurrence
notification, which informs the receiver of changes in the
VNF lifecycle caused by a VNF LCM operation occurrence.

This notification shall be triggered by the VNFM,
when there is a change in the state of a VNF LCM operation
occurrence that changes the VNF lifecycle, including:
• Instantiation of the VNF
• Scaling of the VNF instance (including auto-scaling)
• Healing of the VNF
and others.

URI of a resource referenced from a notification
should be an absolute URI if APIRoot is known.

Co-Authored-By: Sheel Rana <ranasheel2000@gmail.com>

Closes-Bug: #1915107
Closes-Bug: #1911625
Change-Id: I3a325634f88b9521d7fa2f524076934df315742d
"
openstack%2Fcharm-vault~master~Icec9e399802e5e9f4c0d5e87c9a10a436eaa43a3,openstack/charm-vault,master,bug/1922520,Icec9e399802e5e9f4c0d5e87c9a10a436eaa43a3,Add supporting text for adding a CA,MERGED,2021-04-06 22:22:51.000000000,2021-04-08 12:33:48.000000000,2021-04-08 12:33:48.000000000,6,0,0,785063,d56f9c020a44638ac672e8f1fedc9ba6ea532915,9,4,1,1,30561,Peter Matulis,pmatulis,"Add supporting text for adding a CA

Add text and link to the CDG for adding a CA
certificate.

Related-Bug: #1922520
Change-Id: Icec9e399802e5e9f4c0d5e87c9a10a436eaa43a3
"
openstack%2Fopenstack-ansible-os_mistral~master~Id400c679e1ccc5cc10a92143321ec3e182f9ecdc,openstack/openstack-ansible-os_mistral,master,osa-cleanup,Id400c679e1ccc5cc10a92143321ec3e182f9ecdc,Remove references to unsupported operating systems,MERGED,2021-03-10 12:21:56.000000000,2021-04-08 12:32:18.000000000,2021-04-08 12:29:23.000000000,5,37,0,779741,736f80885d4a03f3655d041d70fcbc231087084e,10,3,1,4,25023,Jonathan Rosser,jrosser,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: Id400c679e1ccc5cc10a92143321ec3e182f9ecdc
"
openstack%2Fopenstack-ansible-os_mistral~master~I54431e16051227f075a501f597d8fed9f84480bc,openstack/openstack-ansible-os_mistral,master,osa-default-python,I54431e16051227f075a501f597d8fed9f84480bc,Switch default virtualenv to python3,MERGED,2021-03-10 09:18:30.000000000,2021-04-08 12:31:01.000000000,2021-04-08 12:29:04.000000000,1,1,0,779681,c090e774f7b3ace8e5e79151caadb8c805763bc5,12,3,1,1,25023,Jonathan Rosser,jrosser,"Switch default virtualenv to python3

Change-Id: I54431e16051227f075a501f597d8fed9f84480bc
"
openstack%2Fironic-python-agent~master~I334a9073d17cccec4c669fae82edc3e388debc5c,openstack/ironic-python-agent,master,,I334a9073d17cccec4c669fae82edc3e388debc5c,Capture the early logging,MERGED,2021-03-30 15:00:58.000000000,2021-04-08 12:26:26.000000000,2021-04-08 12:22:31.000000000,44,2,0,783888,df418984f037856813b6bc5e495ef602a6737ee3,13,4,3,4,11655,Julia Kreger,jkreger,"Capture the early logging

_early_log prints to stdout, which is fine in some cases,
however in other cases it gets lost in the shuffle of process
launch by things like systemd.

Lets try to save everything, and re-log it so it is easy to
debug early issues.

Change-Id: I334a9073d17cccec4c669fae82edc3e388debc5c
"
openstack%2Fcharm-mysql-innodb-cluster~master~Iaf0b66d97af315cc31da3fa8869c29b4b510b8d8,openstack/charm-mysql-innodb-cluster,master,libraries-sync-21-04,Iaf0b66d97af315cc31da3fa8869c29b4b510b8d8,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:29:06.000000000,2021-04-08 12:15:07.000000000,2021-04-08 12:15:07.000000000,235,6,0,784671,606cc5f8fff433bf8a566ee6107222d375e64047,24,3,3,5,20870,Alex Kavanagh,ajkavanagh,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: Iaf0b66d97af315cc31da3fa8869c29b4b510b8d8
"
openstack%2Ftripleo-heat-templates~master~I54531995fd180b3251901ff61296d6bd05fb85b2,openstack/tripleo-heat-templates,master,bgpsupport,I54531995fd180b3251901ff61296d6bd05fb85b2,Move frr setup steps to pre_deploy_step_tasks,MERGED,2021-03-20 19:29:12.000000000,2021-04-08 12:09:19.000000000,2021-04-07 10:11:47.000000000,30,33,5,781972,79ddf2f8799c1aef8eaf766516bc24996872e057,62,6,15,1,20172,Michele Baldessari,michele,"Move frr setup steps to pre_deploy_step_tasks

Previously we managed to get away with starting FRR during deployment
tasks at step1. This worked because puppet config tasks (which need
all nodes to be reachable due to pacemaker) ran after deployment step
task 1. In our testing also TLS-E setups worked okay, but that was
likely mainly due to coincidence because the IPA registration tasks
were also run at step1 of the deployment tasks and came after FRR.
FRR is needed to be up in order to reach nodes like freeipa in a BGP
based deployment.

https://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832
moved IPA role from deployment_step 1 to external_deployment_step 1 and
this broke TLS-E deployments with FRR, because FRR is not up already
during external deployment step 1 and so we fail to reach the freeipa
node.

We fix this by relying on newly introduced pre_deploy_step_tasks which
are run in a separate task after container_setup_task, which is where
podman gets configured and before any deployment task.

While we're at it we also remove the state: stopped line for kolla,
which makes no sense any longer. And we also remove the main block,
since a single bunch of tasks will do it and is a bit simpler.

Tested as follows:
- Deployed an FRR-enabled TLS-E environment from master (was previously
  failing 100%) a bunch of times.

Co-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>

Change-Id: I54531995fd180b3251901ff61296d6bd05fb85b2
"
openstack%2Fkolla~master~I8dd4c8cae0e9d4a06693f61ce317d16a064003e0,openstack/kolla,master,masakari-monitors-root,I8dd4c8cae0e9d4a06693f61ce317d16a064003e0,[WIP] Run Masakari Monitors as root,ABANDONED,2021-04-07 19:16:53.000000000,2021-04-08 12:06:21.000000000,,0,2,0,785255,e80b54ae511f1bfa6cff51664177aaff9d07cdd8,3,1,1,1,30491,Radosław Piliszek,yoctozepto,"[WIP] Run Masakari Monitors as root

Change-Id: I8dd4c8cae0e9d4a06693f61ce317d16a064003e0
"
openstack%2Fkolla~stable%2Ftrain~I95aa64f0b292cd020574dbedd320ef90529cc7a4,openstack/kolla,stable/train,,I95aa64f0b292cd020574dbedd320ef90529cc7a4,base: configure curl before first use,MERGED,2021-04-08 08:42:00.000000000,2021-04-08 12:01:54.000000000,2021-04-08 12:00:22.000000000,3,1,0,785330,56a570ddcdc287644e31c950f7591d355f61d6f4,8,3,1,1,30491,Radosław Piliszek,yoctozepto,"base: configure curl before first use

We want to have all uses of curl behave the same so we ship config file
for it in all images.

So do it at start of image so 'base' makes use of config too.

Change-Id: I95aa64f0b292cd020574dbedd320ef90529cc7a4
(cherry picked from commit 4328a5b3cc0e90e32952ecfeab2b63407ee8e22a)
"
openstack%2Foctavia~master~I5780ee09e47486fc617c2bf8bdf693e95c98d5bc,openstack/octavia,master,,I5780ee09e47486fc617c2bf8bdf693e95c98d5bc,Mark [health_manager]/heartbeat_key as a required config option,NEW,2021-04-01 12:31:13.000000000,2021-04-08 11:36:40.000000000,,6,1,0,784387,6ca3c1cb7040a6ce9c33ea555f6d747efde55f1d,5,2,1,2,29244,Gregory Thiemonge,gthiemonge,"Mark [health_manager]/heartbeat_key as a required config option

[health_manager]/heartbeat_key was not required and doesn't have any
default value. So in case that setting was missing from the
configuration file, the key was defaulted to None which triggers 2
issues: security issue because the key is weak, and functional issue
because a bug prevents using None as an encryption key for communication
between the amphora-agent and the health-manager.

Change-Id: I5780ee09e47486fc617c2bf8bdf693e95c98d5bc
"
openstack%2Fneutron~stable%2Fussuri~Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224,openstack/neutron,stable/ussuri,bug/1918702,Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224,[OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent,MERGED,2021-03-31 14:19:48.000000000,2021-04-08 11:35:03.000000000,2021-04-08 11:33:32.000000000,20,5,1,784106,4d83bf4ae273bc37935e021c5b2ec43643bceee0,34,3,2,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent

OVN QoS extension do not manage the external type ports (SR-IOV);
the port QoS policy of those ports is handled by the SR-IOV agent
QoS extension.

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py

Change-Id: Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224
Closes-Bug: #1918702
(cherry picked from commit f700660b6b11118fa80129a4ef20c3e091da988b)
"
openstack%2Fironic-python-agent-builder~master~I0a99d6313a38260973c1f725e2daed8d930da6c1,openstack/ironic-python-agent-builder,master,,I0a99d6313a38260973c1f725e2daed8d930da6c1,Fix: IPA image building with OpenSuse.,MERGED,2021-03-04 15:20:51.000000000,2021-04-08 11:33:50.000000000,2021-04-08 11:28:18.000000000,29,1,24,778726,853e3f73b223b03d7ea9b00d89fb1d99c021eb43,79,5,18,5,33185,Moshiur Rahman,smoshiur1237,"Fix: IPA image building with OpenSuse.

At this moment the IPA image building with OpenSuse is broken and missing compatible packages for installation. Also, setuptools upgrade, svc mapping and package mapping are necessary for openSuse specific task. This PR will solve those issues to build IPA image with OpenSuse base image. There is another PR opened in diskimage-builder, which is adds small change for opensuse specific settings.
Depends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/778723

Change-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1
"
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~Ia19de894492e1904957edff48de2fe3d0b5c50ec,openstack/puppet-openstack-integration,stable/wallaby,wallaby-stable/wallaby,Ia19de894492e1904957edff48de2fe3d0b5c50ec,Switch to RDO Wallaby,MERGED,2021-04-08 02:12:17.000000000,2021-04-08 11:32:05.000000000,2021-04-08 11:32:05.000000000,8,8,0,785317,bd9ab1cc5387bd0b3ba665b7cf77ea863ee264b6,14,2,1,2,9816,Takashi Kajinami,kajinamit,"Switch to RDO Wallaby

Change-Id: Ia19de894492e1904957edff48de2fe3d0b5c50ec
"
openstack%2Ftripleo-heat-templates~master~Ia0ad0ac6d7a09858b56dcb419a3bec17b63779a4,openstack/tripleo-heat-templates,master,fix_renewed_ca_cert,Ia0ad0ac6d7a09858b56dcb419a3bec17b63779a4,Always update the local certmonger ca cert,MERGED,2021-04-06 17:53:51.000000000,2021-04-08 11:27:15.000000000,2021-04-08 11:27:15.000000000,3,5,0,785020,a65df66fb66240bb292a8d0124465fa80034d1fe,11,10,1,1,9914,Ade Lee,alee,"Always update the local certmonger ca cert

The local certmonger cert will renew after half its lifetime, which will
be after 6 months by default.  The current code would extract the CA cert
to a PEM file (and trust it), only if the cert in the existing PEM file
was expired.

But this means that the certmonger local cert could be renewed after six
months and not be replaced in the PEM file until the existing cert
expired at the end of the year.  If certs are issued in this time, they
will not be trusted and the update will fail.

This patch removes this condition, so that the extracted and trusted cert
always matches what is in the PEM file, and what is trusted.

Note, this only place this occurs is on the undercloud - because this is
where we could use the certmonger local cert.  We assume that the haproxy
cert will be re-issued in an update.

This change has been added to puppet-tripleo for master and all previous
releases, but in master now, we do this directly in tht as we use
ansible to get the system certs.

Change-Id: Ia0ad0ac6d7a09858b56dcb419a3bec17b63779a4
"
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I1ee3796fb5a7fec69ac3e63e3683000b254d987c,openstack/puppet-openstack-integration,stable/wallaby,wallaby-stable/wallaby,I1ee3796fb5a7fec69ac3e63e3683000b254d987c,Switch to stable/wallaby,MERGED,2021-04-08 02:11:26.000000000,2021-04-08 11:23:40.000000000,2021-04-08 11:23:40.000000000,122,80,0,785316,42c29495e9202ac53935b78af155435169e35daa,14,2,1,3,9816,Takashi Kajinami,kajinamit,"Switch to stable/wallaby

Change-Id: I1ee3796fb5a7fec69ac3e63e3683000b254d987c
"
openstack%2Foctavia~stable%2Fwallaby~Ic63929d8864e5285baf70dd85e6362988bf2863f,openstack/octavia,stable/wallaby,task/41491-stable/wallaby,Ic63929d8864e5285baf70dd85e6362988bf2863f,Fix weighted round-robin about UDP and SCTP listener,MERGED,2021-04-06 10:14:25.000000000,2021-04-08 11:00:50.000000000,2021-04-08 10:59:14.000000000,25,19,0,784847,d9603b3d21723fce3b7380b14d537d847088246c,9,4,1,4,21757,Xing Zhang,angeiv,"Fix weighted round-robin about UDP and SCTP listener

'lb_algo rr' in keepalived won't work correctly with weight
for UDP and SCTP listeners, it should be 'lb_algo wrr'.

'wrr' is superset of 'rr' algorithm, as round-robin is
a specical instance of the weighted round-robin scheduling,
in which all the weights are equal. [1]

Algorithm in HAProxy is set to 'roundrobin', which also support
weights, but in keepalived must be set to 'wrr' to work with
the weighted round-robin scheduling, as it is different to 'rr'.

[1] https://www.keepalived.org/doc/scheduling_algorithms.html

Story 2008462
Task 41491

Change-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f
(cherry picked from commit 5352a10f62f1a4763aeee81e2e638a9896b6ce79)
"
openstack%2Fansible-collections-openstack~master~I3914db6e5c4f279f2aeae051fd6a1a4254f554c9,openstack/ansible-collections-openstack,master,newci,I3914db6e5c4f279f2aeae051fd6a1a4254f554c9,Prepare for Ansible 2.11 tests,MERGED,2021-04-07 08:17:28.000000000,2021-04-08 10:49:56.000000000,2021-04-08 10:49:56.000000000,52,63,1,785101,17a1d72b1cafb7645d0537f546a9bac7408f0fb8,16,2,6,5,10969,Shnaidman Sagi (Sergey),sergsh,"Prepare for Ansible 2.11 tests

Change-Id: I3914db6e5c4f279f2aeae051fd6a1a4254f554c9
"
openstack%2Freleases~master~Ib59fd198fe74cabcc13bde7464241855a1fbb997,openstack/releases,master,,Ib59fd198fe74cabcc13bde7464241855a1fbb997,Cinder team releases for stable/train,MERGED,2021-04-07 12:27:03.000000000,2021-04-08 10:40:30.000000000,2021-04-08 10:40:30.000000000,16,0,3,785166,c27fea6ffc5d667196e102da10f9f90142af9370,15,4,1,4,27615,Rajat Dhasmana,whoami-rajat,"Cinder team releases for stable/train

Not being released at this time:
- cinderlib (no functional changes in branch)

Change-Id: Ib59fd198fe74cabcc13bde7464241855a1fbb997
"
openstack%2Fdiskimage-builder~master~I29e726679c2b675b3c0cd95a3ff48fdad7cd5431,openstack/diskimage-builder,master,dib_stream,I29e726679c2b675b3c0cd95a3ff48fdad7cd5431,Improved the documentation for DIB_DNF_MODULE_STREAMS,MERGED,2021-04-08 05:54:08.000000000,2021-04-08 10:36:19.000000000,2021-04-08 10:34:30.000000000,5,4,0,785304,21a752ee4d48807d0a006469e35e44dfac93285f,8,3,1,1,12393,chandan kumar,chkumar246,"Improved the documentation for DIB_DNF_MODULE_STREAMS

https://review.opendev.org/c/openstack/diskimage-builder/+/785138
adds the support for DIB_DNF_MODULE_STREAMS which is now available
for all Yum based distros.

This patch enhances the docs for using it for all Yum
based distributions.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I29e726679c2b675b3c0cd95a3ff48fdad7cd5431
"
openstack%2Fgrenade~stable%2Fussuri~I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,openstack/grenade,stable/ussuri,standardize-tempest-tox-constraints,I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,Configure the Tempest venv upper constraints properly,MERGED,2021-04-05 22:03:44.000000000,2021-04-08 10:20:56.000000000,2021-04-08 10:15:29.000000000,16,0,0,784858,96dfc83c1cea5f6754a75d8b25a9c70bf25e4516,12,3,1,1,8556,Ghanshyam,ghanshyam,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

grenade run smoke test on old devstack and if old devstack does not
use the master constraints for Tempest then we need to take care of
the same while running the tests too otherwise, it will end up recreating
the Tempest venv and flush the already installed tempest plugins
and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f
(cherry picked from commit 8f7941259651e59320ffd29563e40c2d71b05a1e)
(cherry picked from commit 6919902f4cb6c26b48712da80c389041c5af7dd3)
(cherry picked from commit 4d787525ae0d48806f27fe0ef3db134c4cf033bf)
"
openstack%2Fgrenade~stable%2Fvictoria~I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,openstack/grenade,stable/victoria,standardize-tempest-tox-constraints,I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,Configure the Tempest venv upper constraints properly,MERGED,2021-04-05 22:02:13.000000000,2021-04-08 10:09:55.000000000,2021-04-08 10:08:02.000000000,16,0,0,784857,4d787525ae0d48806f27fe0ef3db134c4cf033bf,10,3,1,1,8556,Ghanshyam,ghanshyam,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

grenade run smoke test on old devstack and if old devstack does not
use the master constraints for Tempest then we need to take care of
the same while running the tests too otherwise, it will end up recreating
the Tempest venv and flush the already installed tempest plugins
and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f
(cherry picked from commit 8f7941259651e59320ffd29563e40c2d71b05a1e)
(cherry picked from commit 6919902f4cb6c26b48712da80c389041c5af7dd3)
"
openstack%2Fgrenade~stable%2Fwallaby~I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,openstack/grenade,stable/wallaby,standardize-tempest-tox-constraints,I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,Configure the Tempest venv upper constraints properly,MERGED,2021-04-05 22:00:14.000000000,2021-04-08 10:09:45.000000000,2021-04-08 10:07:59.000000000,16,0,0,784856,6919902f4cb6c26b48712da80c389041c5af7dd3,8,3,1,1,8556,Ghanshyam,ghanshyam,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

grenade run smoke test on old devstack and if old devstack does not
use the master constraints for Tempest then we need to take care of
the same while running the tests too otherwise, it will end up recreating
the Tempest venv and flush the already installed tempest plugins
and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f
(cherry picked from commit 8f7941259651e59320ffd29563e40c2d71b05a1e)
"
openstack%2Ftripleo-ci~master~I769a0986c3258372ed8a421d7c2bf02e2bf8073e,openstack/tripleo-ci,master,container-tools-update,I769a0986c3258372ed8a421d7c2bf02e2bf8073e,Use dib_dnf_module_streams for enabling modules,MERGED,2021-04-07 03:43:18.000000000,2021-04-08 10:08:25.000000000,2021-04-08 10:08:25.000000000,5,11,3,785087,4e04f93f72c51b04632ff0cdc06a8639ef4d85f1,29,9,5,3,12393,chandan kumar,chkumar246,"Use dib_dnf_module_streams for enabling modules

https://review.opendev.org/c/openstack/tripleo-ci/+/784887
enables container-tools during image build process but
it does not sets the proper modules so removing this
hack and switching to dib_dnf_module_streams var
to set it via DIB.

It also adds the same var for c7 with empty value for
not breaking the c7 image build flow.

It also adds -e in the build-images.sh.j2 script to catch
the errors early.

Depends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/785138

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I769a0986c3258372ed8a421d7c2bf02e2bf8073e
"
openstack%2Freleases~master~I0650ee199cfbd0139de1c597b45a8784000b9fe6,openstack/releases,master,qa-wallaby-release,I0650ee199cfbd0139de1c597b45a8784000b9fe6,Wallaby branch for devstack-plugin-container devstack plugins,MERGED,2021-04-07 14:20:17.000000000,2021-04-08 10:08:19.000000000,2021-04-08 10:08:19.000000000,4,1,0,785180,0fef0b695b2576bf70425f681e46d23a8b462859,11,5,1,1,8556,Ghanshyam,ghanshyam,"Wallaby branch for devstack-plugin-container devstack plugins

Change-Id: I0650ee199cfbd0139de1c597b45a8784000b9fe6
"
openstack%2Fkolla-ansible~master~I6db37576118cf5cff4ba7a63e179f0ab37467d22,openstack/kolla-ansible,master,bug/1922721,I6db37576118cf5cff4ba7a63e179f0ab37467d22,Drop the NTP service precheck,MERGED,2021-04-06 12:24:34.000000000,2021-04-08 09:55:44.000000000,2021-04-08 09:53:41.000000000,7,10,0,784940,04315751a468d921acf529400f1af528770cd2da,13,5,1,2,30491,Radosław Piliszek,yoctozepto,"Drop the NTP service precheck

We can't check this with timedatectl as it is not aware
of any ""non-native"" NTP daemon.

This could be a warning-level message but we don't have
such messages from the prechecks.

Closes-Bug: #1922721
Change-Id: I6db37576118cf5cff4ba7a63e179f0ab37467d22
"
openstack%2Fironic~master~Ic14ebc04f01bece1460f6244ec2dd88c8dd00b0e,openstack/ironic,master,fixup-docs,Ic14ebc04f01bece1460f6244ec2dd88c8dd00b0e,Fix typo in security docs around is_admin rule,MERGED,2021-03-30 19:57:39.000000000,2021-04-08 09:44:07.000000000,2021-04-08 07:52:16.000000000,1,1,1,783963,7813fe8888ccafe0a29a1247d9d72eb8d0a134b7,12,3,1,1,29100,Jason Anderson,jasonanderson,"Fix typo in security docs around is_admin rule

The security docs give an example of how to enable admins to show
passwords via the API, but the policy guidance is wrong. There is no
""is_admin"" _role_, it is instead a _rule_.

Change-Id: Ic14ebc04f01bece1460f6244ec2dd88c8dd00b0e
"
openstack%2Fcinder~master~I6855abe74958fe847760c3c37250b2624df4cf70,openstack/cinder,master,Revert_to_any_snapshot_support_for_allowed_driver,I6855abe74958fe847760c3c37250b2624df4cf70,Revert to any snapshot support for allowed driver.,NEW,2021-04-07 12:27:48.000000000,2021-04-08 09:33:51.000000000,,67,9,0,785167,543bc1ccd8051759fbd80c47ad9bb3337e0dba5d,24,2,1,7,30754,FengJiankui,FengJiankui,"Revert to any snapshot support for allowed driver.

Add support to revert to any snapshot for specified driver.
When revert_to_any_snapshot return false, the operation is
the same as before. If false, perform revert to snapshot
even if a non-latest snapshot_id is entered. For drivers
supported revert to any snapshot, they can enable the function
of restoring to any snapshot by returning true from its own
revert_to_any_snapshot.

Change-Id: I6855abe74958fe847760c3c37250b2624df4cf70
Implements: blueprint suport-revert-any-snapshot
"
openstack%2Fkayobe~master~I98428837153ef604af9a415f7139e07d8548fd46,openstack/kayobe,master,,I98428837153ef604af9a415f7139e07d8548fd46,Fix overcloud provision with fast track enabled,MERGED,2021-03-19 13:40:13.000000000,2021-04-08 09:27:44.000000000,2021-04-08 09:26:09.000000000,10,1,0,781720,53ec32d121a5248fcda521c7d85130e52487b1d3,13,3,2,1,14826,Mark Goddard,mgoddard,"Fix overcloud provision with fast track enabled

Change-Id: I98428837153ef604af9a415f7139e07d8548fd46
"
openstack%2Fheat~master~I7ea8db23df4c54c354c18b15a9546fa19838b2b7,openstack/heat,master,change-474953-2,I7ea8db23df4c54c354c18b15a9546fa19838b2b7,Add heat tutorial,NEW,2017-06-16 12:04:19.000000000,2021-04-08 09:13:28.000000000,,13152,0,30,474953,3dbf203c6215616a71c6dbb5bed8109fae98894b,16,7,4,243,25051,Lance Haig,lhaig,"Add heat tutorial

This tutorial was added to the documentation from the git repository
https://github.com/heat-extras/heat-tutorial

This tutorial is donated by Florin Stingaciu (stingaci)

Change-Id: I7ea8db23df4c54c354c18b15a9546fa19838b2b7
"
openstack%2Ftripleo-ci~master~Ied759d6ee4c752ae69ffbef54a6e92d4970ea033,openstack/tripleo-ci,master,ephemeral-heat,Ied759d6ee4c752ae69ffbef54a6e92d4970ea033,Add ~/overcloud-deploy to collect logs config,MERGED,2021-03-25 01:19:05.000000000,2021-04-08 09:09:45.000000000,2021-04-08 09:09:45.000000000,1,1,0,782888,e513456c82d1ee521d5d3c1cd8b882493736a7e5,8,4,1,1,7144,James Slagle,slagle,"Add ~/overcloud-deploy to collect logs config

We are moving the consistent working dir to be
~/overcloud-deploy/<stack> instead of ~/overcloud-deploy-<stack>, so
that all deploys will be under a single directory and easier to manage.

Signed-off-by: James Slagle <jslagle@redhat.com>
Depends-On: I189bd751066cfaebd951d92d8371250aac5b4e9b
Change-Id: Ied759d6ee4c752ae69ffbef54a6e92d4970ea033
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I55e6f1fa284ec58d862de2852f7393e5f1d0f873,openstack/tripleo-heat-templates,stable/queens,change-778748-15,I55e6f1fa284ec58d862de2852f7393e5f1d0f873,[DNM][Queens] Handle major upgrade of rabbitmq during update.,ABANDONED,2021-04-06 09:45:27.000000000,2021-04-08 09:02:22.000000000,,6,0,0,784904,87492a61b1a3284badf304ec455ae0c643609802,4,2,1,3,8297,Sofer Athlan-Guyot,chem,"[DNM][Queens] Handle major upgrade of rabbitmq during update.

DNM: testing without the ban/unban dance.

When upgrading rabbitmq to a new major version, the cluster cannot be
reform correctly as the old and the new version cannot talk to each
other.

The algorithm used here is to solve the problem is:

 0. if the current version is 3.6 we are going to upgrade it to 3.7,
    so save that an upgrade of rabbitmq is coming.

 1. if an upgrade of rabbitmq is coming: if no ban exists then I'm the
    first rabbitmq node to be updated to the next major version, ban the
    others at step 5 of the update of that node.

 2. if bans exists, then I'm not the first one and then I'm un-banning
    myself during the step 5 of the update as well. We ""by-pass"" paunch
    here. But given the image manipulations done to HA containers during
    update tasks we don't need paunch to pull the new images. Effectively
    we will start with the new rabbitmq that will happily rejoin the
    cluster ever-after. No new puppet configuration is necessary for this
    new rabbitmq version so we can skip it as well.

    Note that we un-ban without checking if a update of rabbitmq is
    coming. This is to cover the case of a restarted update or an updated
    used with --limit.

With this, the first rabbitmq node updated will be the only one
running and will start properly. After, only updated nodes will rejoin
the cluster avoiding any error.

There will be a short cut in the control plane as we need to modify
the rabbitmq bundle resource to add the UTF-8 support.

There will be also a degraded rabbitmq cluster state during which only
one, then two rabbitmq nodes will be available. It depends on many
things but we can says that there will be only one rabbitmq node
during ~30 minutes and then it will be running with two nodes only
during ~30 minutes more.

Rabbitmq 2.7 is sensitive to the locale used, so we need to make sure
that every puppet call is made in an UTF-8 environment.

What we have added here, is a adapted backport of:
 - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649299/
 - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649697/

With this, the rabbitmq containers and puppet are running in a UTF-8
environment, preventing any puppet error during common deploy step
phase of the update.

Those reviews need their counterpart in puppet-tripleo so that the
rabbitmq bundle resource get properly configured to use UTF-8.

We also need to tweak the puppet module as mnesia won't be necessarily
in a cluster state (as described above) when the rabbitmq bootstrap
node is updated.

The last two points will be handled in two reviews in
puppet-tripleo. See the ""Depends On"" which is the tip of the changes.

Change-Id: I55e6f1fa284ec58d862de2852f7393e5f1d0f873
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/782831
"
openstack%2Freleases~master~I8dd2b320db73e79aefd3b14d9ce423150bff8ee9,openstack/releases,master,,I8dd2b320db73e79aefd3b14d9ce423150bff8ee9,Release ironic 17.0.1 for Wallaby,MERGED,2021-04-08 02:40:48.000000000,2021-04-08 08:58:05.000000000,2021-04-08 08:58:05.000000000,4,0,0,785301,4c567fcef2ad674e26a08fa6da34ada24c574b4b,10,3,1,1,11655,Julia Kreger,jkreger,"Release ironic 17.0.1 for Wallaby

Release includes some minor updates on the stable/wallaby branch
for openstack/ironic which have merged since 17.0.0 was released
and the stable branch was cut.

Change-Id: I8dd2b320db73e79aefd3b14d9ce423150bff8ee9
"
openstack%2Freleases~master~I40573178cb6bcf275ad72f15d21adf067a880d64,openstack/releases,master,,I40573178cb6bcf275ad72f15d21adf067a880d64,Trival change: add cyborg accelerator support link and NVMe SSD,MERGED,2021-04-07 00:54:05.000000000,2021-04-08 08:56:22.000000000,2021-04-08 08:56:22.000000000,4,2,0,785080,16279657ac09d986b21171923c01ffb966794a6e,10,6,1,1,31412,Wenping Song,songwenping,"Trival change: add cyborg accelerator support link and NVMe SSD

Change-Id: I40573178cb6bcf275ad72f15d21adf067a880d64
"
openstack%2Freleases~master~I0d1d2a49043408c8256b3078e086af6c08937158,openstack/releases,master,,I0d1d2a49043408c8256b3078e086af6c08937158,Re-word Chinese locales changed highlight,MERGED,2021-04-06 11:10:34.000000000,2021-04-08 08:55:28.000000000,2021-04-08 08:55:28.000000000,1,1,0,784920,34e14876228c95fe6bf48a6e0c72fd3e3de107b4,9,4,1,1,26458,Brin Zhang,zhangbailin,"Re-word Chinese locales changed highlight

Change-Id: I0d1d2a49043408c8256b3078e086af6c08937158
"
openstack%2Freleases~master~I24505300aa97218427a2ab97faf7f0ae7644e522,openstack/releases,master,qa-victoria-release,I24505300aa97218427a2ab97faf7f0ae7644e522,Victoria branch for devstack-plugin-container devstack plugins,MERGED,2021-04-07 14:25:29.000000000,2021-04-08 08:54:42.000000000,2021-04-08 08:54:42.000000000,4,0,0,785183,ef87533538aaee58768421a737fd873fc3a80d37,9,5,1,1,8556,Ghanshyam,ghanshyam,"Victoria branch for devstack-plugin-container devstack plugins

This was missed during victoria release, I am using the hash
of I1a3ac070027805691fc1007458ac02567f847ae9 commit which is
of the time when victoria devstack branch was cut.

Change-Id: I24505300aa97218427a2ab97faf7f0ae7644e522
"
openstack%2Freleases~master~I44a2d35b4b78fdad68d64e5e4fd56066ea7735e7,openstack/releases,master,qa-wallaby-release,I44a2d35b4b78fdad68d64e5e4fd56066ea7735e7,Release devstack-tools 1.1.0,MERGED,2021-04-06 17:59:35.000000000,2021-04-08 08:34:14.000000000,2021-04-08 08:34:14.000000000,4,0,0,785022,83288738e192ea145249dd6c9b5cb6778938f7fa,10,4,1,1,22873,Martin Kopec,mkopec,"Release devstack-tools 1.1.0

Change-Id: I44a2d35b4b78fdad68d64e5e4fd56066ea7735e7
"
openstack%2Freleases~master~Ib596ee164e1234f38090c5fa46042d0ebed0d358,openstack/releases,master,qa-wallaby-release,Ib596ee164e1234f38090c5fa46042d0ebed0d358,Release eslint-config-openstack 4.1.0,MERGED,2021-04-06 18:01:49.000000000,2021-04-08 08:34:07.000000000,2021-04-08 08:34:07.000000000,4,0,0,785024,45ccc19d3cfc0cffe887f018207b18d5fe1d8f62,10,4,1,1,22873,Martin Kopec,mkopec,"Release eslint-config-openstack 4.1.0

Change-Id: Ib596ee164e1234f38090c5fa46042d0ebed0d358
"
openstack%2Fpython-magnumclient~master~I90db6d91dd3887fbec629ce5037d6a7e6f7c05e4,openstack/python-magnumclient,master,fix-master-lb-disabled,I90db6d91dd3887fbec629ce5037d6a7e6f7c05e4,Fix master_lb_enabled for cluster creation,MERGED,2021-02-24 01:42:15.000000000,2021-04-08 08:32:58.000000000,2021-04-08 08:30:56.000000000,43,4,0,777272,282753384de101a15058f96417b4c9efe47f524b,12,3,3,2,6484,Feilong Wang,flwang,"Fix master_lb_enabled for cluster creation

The master_lb_enabled is not really working for disabled case.
This patch fix it by introducing the --master-lb-disabled param.

Story: 2008655
Task: 41924
Change-Id: I90db6d91dd3887fbec629ce5037d6a7e6f7c05e4
"
openstack%2Fpython-tripleoclient~master~I4c4de1cf2a97c87da8ee83074a310656031b788c,openstack/python-tripleoclient,master,bug/1922790,I4c4de1cf2a97c87da8ee83074a310656031b788c,Set config_download_dir for each stack when exporting Ceph,MERGED,2021-04-07 20:37:13.000000000,2021-04-08 08:28:05.000000000,2021-04-08 08:25:41.000000000,7,8,0,785272,50afcda1d0180b2848b5a7345ae775eb8cf6fd50,8,3,1,1,18002,John Fulton,fultonj,"Set config_download_dir for each stack when exporting Ceph

Id8f5b00dd24848f73aeb9794000e0d44f0f9cbe8 introduced the
bug this patch closes because the config_download_dir
path now contains the stack name. In order to export
data from multiple stacks, the config_download_dir path
needs to be set per stack. Thus, move the declaration of
this variable into the for stack in stacks loop.

Closes-Bug: #1922790
Change-Id: I4c4de1cf2a97c87da8ee83074a310656031b788c
"
openstack%2Fdevstack-plugin-ceph~master~Ieab4e0ee482604802485cdf573c31e3c373a8553,openstack/devstack-plugin-ceph,master,gate-on-all-branches,Ieab4e0ee482604802485cdf573c31e3c373a8553,Run all stable branches jobs as gate (not experimental),MERGED,2021-03-30 12:10:16.000000000,2021-04-08 08:26:32.000000000,2021-04-07 16:19:55.000000000,3,3,5,783844,c55c49121acdb38a0d8d4a7ee6a89c9dec37507a,19,5,2,1,10459,Luigi Toscano,ltoscano,"Run all stable branches jobs as gate (not experimental)

The risk of breaking the gates by forgetting to run the jobs
against the old branches is too high
(it has happened with https://review.opendev.org/778960/ for example)

Related-Bug: #1921897
Change-Id: Ieab4e0ee482604802485cdf573c31e3c373a8553
"
openstack%2Fkolla-ansible~master~I8a90cbac0b9a1eaa5f6c02271515f2357547f908,openstack/kolla-ansible,master,,I8a90cbac0b9a1eaa5f6c02271515f2357547f908,Nit fixes for change 776219,MERGED,2021-04-07 16:18:26.000000000,2021-04-08 08:24:25.000000000,2021-04-08 08:07:18.000000000,3,3,0,785232,19095475ee8f19feaa5e4758622c19cb041009a5,11,4,1,2,17669,Doug Szumski,DougSzumski,"Nit fixes for change 776219

Minor corrections to doc and release note.

Change-Id: I8a90cbac0b9a1eaa5f6c02271515f2357547f908
"
openstack%2Freleases~master~Ifbde485152aba6725212423348c6faffdb6502b4,openstack/releases,master,wallaby-final-rc,Ifbde485152aba6725212423348c6faffdb6502b4,Final RC patch for aodh,ABANDONED,2021-04-08 08:17:11.000000000,2021-04-08 08:23:10.000000000,,4,0,0,785339,fc628a21b00db42ad75d66ef44ec1a1875f1767d,2,0,1,1,28522,Hervé Beraud,hberaud,"Final RC patch for aodh

This creates a new RC before the final release candidate deadline to
release the latest fixes and/or translations.

Please ack with a +1, or if there is some reason to hold off, leave a -1.

$ git log --oneline --no-merges 12.0.0.0rc1..dcb97668
7448ac71 Imported Translations from Zanata
9cf69d72 Cap tenacity < 7.0.0
6fc880f6 Update master for stable/wallaby
d587a9e5 Use python 3.8 for tox

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ifbde485152aba6725212423348c6faffdb6502b4
"
openstack%2Fvalidations-common~master~I6edc5de887643941b0e0c9889aac7bc9b91fdb79,openstack/validations-common,master,dictvalueerror,I6edc5de887643941b0e0c9889aac7bc9b91fdb79,ValueError was changed to KeyError,ABANDONED,2021-04-07 14:32:37.000000000,2021-04-08 07:49:39.000000000,,1,1,0,785186,641a66981d0d2d1879cf9a2041a29a1a335dc044,4,5,1,1,32926,Jiri Podivin,jpodivin,"ValueError was changed to KeyError

ValueError couldn't have been raised by the code.
KeyError is more appropriate in the context.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6edc5de887643941b0e0c9889aac7bc9b91fdb79
"
openstack%2Fcyborg~stable%2Fvictoria~I94e1554028535a361cb9f9e6e73c15702e459e4f,openstack/cyborg,stable/victoria,,I94e1554028535a361cb9f9e6e73c15702e459e4f,improve pep8 check logic,MERGED,2021-04-08 02:23:17.000000000,2021-04-08 07:42:30.000000000,2021-04-08 07:41:07.000000000,101,55,3,785318,71abe682c5e3441fe85978965f9afab6adfb20cd,10,3,1,6,26458,Brin Zhang,zhangbailin,"improve pep8 check logic

Introduce the json file check, cherry-pick patches check, and use flake8
shell instead of flake8 command.

Change-Id: I94e1554028535a361cb9f9e6e73c15702e459e4f
(cherry picked from commit bb4fd104a3cc21ae93d67f1b64910c77bd79c664)
"
openstack%2Fvalidations-common~master~Ia6ed1d8fdc98724891480227b6539a8581cf1f5e,openstack/validations-common,master,unittests/validation_output,Ia6ed1d8fdc98724891480227b6539a8581cf1f5e,Tests for validation_ouput callback plugin,ABANDONED,2021-04-07 15:17:55.000000000,2021-04-08 07:26:29.000000000,,24,0,2,785221,23d0da6ed504f5504a77834e5658384a745827ff,3,1,1,1,32926,Jiri Podivin,jpodivin,"Tests for validation_ouput callback plugin

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia6ed1d8fdc98724891480227b6539a8581cf1f5e
"
openstack%2Fcyborg~master~I29c134420d341977a68ab11ba7dcb425caea44ff,openstack/cyborg,master,using_launchpad,I29c134420d341977a68ab11ba7dcb425caea44ff,Switch using Launchpad instead of Storyboard,MERGED,2021-04-01 08:43:42.000000000,2021-04-08 07:18:21.000000000,2021-04-08 07:11:51.000000000,53,21,0,784207,d9233bc42903a4ddb38b25409662b28d16f9a90e,11,4,2,6,26458,Brin Zhang,zhangbailin,"Switch using Launchpad instead of Storyboard

In Xena release, we will using launchpad to trace Cyborg feature and
bugs, this patch changes the docs and releasenote config to launchpad.

Xena-PTG Etherpad: https://etherpad.opendev.org/p/cyborg-xena-ptg

Change-Id: I29c134420d341977a68ab11ba7dcb425caea44ff
"
openstack%2Fneutron~stable%2Fussuri~I240a78879db757592df138a53b2c22d7f5a9ae13,openstack/neutron,stable/ussuri,bug/1920700-stable/ussuri,I240a78879db757592df138a53b2c22d7f5a9ae13,Call install_ingress_direct_goto_flows() when ovs restarts,MERGED,2021-03-31 01:20:01.000000000,2021-04-08 07:17:28.000000000,2021-04-08 07:10:44.000000000,18,0,0,783924,14bb532de7990966b59b785fcfd9a896cb48e26e,16,3,1,2,31769,Jacy Lee,yjmango,"Call install_ingress_direct_goto_flows() when ovs restarts

When ovs restarts and needs to regenerate flows, some flows will be
missing in br-int, as follows:
 * table=60,priority=4,in_port=""int-br-floating"" actions=resubmit(,61)
 * table=60,priority=4,in_port=""patch-tun"" actions=resubmit(,61)
 * table=61,priority=0 actions=resubmit(,62)
Call install_ingress_direct_goto_flows() again in the
_handle_ovs_restart() to ensure generate these flows.

Change-Id: I240a78879db757592df138a53b2c22d7f5a9ae13
Closes-Bug: #1920700
(cherry picked from commit 2bb52d49bec299f070a513fee6f9f7ae5d53118b)
"
openstack%2Fcyborg~master~I33523ddb8aabf45eb11dd9816c52b0ef77d05296,openstack/cyborg,master,,I33523ddb8aabf45eb11dd9816c52b0ef77d05296,Using pop method to avoid incompatible data type,MERGED,2021-03-31 07:47:47.000000000,2021-04-08 07:17:07.000000000,2021-04-08 07:11:31.000000000,1,1,4,784021,abe9f40fba0e11ee5549489b86fb5c23c83fdea4,19,7,3,1,28748,chenker,chenke,"Using pop method to avoid incompatible data type

Descrption:
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
TypeError: 'set' object does not support indexing

Solution:
for set, use pop method instead of index.

Change-Id: I33523ddb8aabf45eb11dd9816c52b0ef77d05296
"
openstack%2Ftempest~master~Ibb69384be54e284d59950371238a64c041348000,openstack/tempest,master,qa-wallaby-release,Ibb69384be54e284d59950371238a64c041348000,Add Tempest gate job for stable/wallaby,MERGED,2021-04-06 15:46:07.000000000,2021-04-08 07:16:57.000000000,2021-04-08 07:09:51.000000000,8,0,0,785001,b2d5b98e3edb2ff1fad4d1e6d405b40d43832db6,9,2,1,2,8556,Ghanshyam,ghanshyam,"Add Tempest gate job for stable/wallaby

Now we have stable/wallaby branch ready for devstack
and so does for all service projects.

This commit adds the Tempest testing for stable/wallaby
by adding new jobs running on stable/wallaby version of
openstack.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/784974
Change-Id: Ibb69384be54e284d59950371238a64c041348000
"
openstack%2Fpuppet-keystone~master~I212f7dc64cfc300ff4c0c7b65af338630ea0576a,openstack/puppet-keystone,master,ut,I212f7dc64cfc300ff4c0c7b65af338630ea0576a,DNM: Test unit tests,ABANDONED,2021-04-08 06:57:09.000000000,2021-04-08 07:16:31.000000000,,1,0,0,785313,394657474473d31b4228f96cb698f2a72291c6d9,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Test unit tests

Change-Id: I212f7dc64cfc300ff4c0c7b65af338630ea0576a
"
openstack%2Fdiskimage-builder~master~Id2759be29bfcbf2ecf1ce67e171686924b506b1a,openstack/diskimage-builder,master,,Id2759be29bfcbf2ecf1ce67e171686924b506b1a,Fix: IPA image buidling with OpenSuse.,MERGED,2021-03-04 15:12:43.000000000,2021-04-08 07:08:59.000000000,2021-04-08 07:05:22.000000000,3,0,21,778723,93d11a7cf8eca9511249698b2298f62d347c2427,106,8,23,1,33185,Moshiur Rahman,smoshiur1237,"Fix: IPA image buidling with OpenSuse.

At this moment the IPA image building with OpenSuse is broken and here, it was failing during the release check for Opensue because etc/SuSE-release is not valid anymore and deprecated for openSuse. Its renamed to /etc/os-release for openSuse rlease 15. This PR will solve the issue to build IPA image with OpenSuse base image. There is another PR opened in ironic-python-agent-builder, which adds all the missing packages, setuptools upgrade and svc mapping to do the build successful.
https://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726

Bug-Report: https://bugs.launchpad.net/diskimage-builder/+bug/1921510

Change-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a
"
openstack%2Fdiskimage-builder~master~Ie9790da9d1bbea58197b37b15a48e77f8a93c1ac,openstack/diskimage-builder,master,efi-grub-config,Ie9790da9d1bbea58197b37b15a48e77f8a93c1ac,Properly set grub2 root device when using efi,MERGED,2021-04-07 18:02:26.000000000,2021-04-08 07:07:44.000000000,2021-04-08 07:05:17.000000000,25,10,4,785247,3294aecca2d03d8070b5650e25664f0ca8c759ef,27,6,4,1,4146,Clark Boylan,cboylan,"Properly set grub2 root device when using efi

We've noticed that centos8 arm64 images have a root devices of
/dev/mapper/loop7p3 which make sense within a dib image build context
but not at boot time. Dib intends to use labels to set the root device
but when efi is used we end up running grub2-mkconfig against the efi
grub config path before we configure grub to use labels.

Fix this by running grub2-mkconfig after its configuration is set.
This should avoid confusion and complicated paths through the scripts
that configure this for us. We then copy the resulting config to the efi
specific grub.cfg location for platforms that have it.

There is also a small refactoring that is done to try and make the ~3
boot variants more clear:

 1) Booting with legacy bios
 2) Booting with uefi without a signed shim that directly calls grub
 3) Booting with uefi and a signed shim that calls grub

Options 1 and 2 share the /boot/grub*/grub.cfg file. Option 3 needs its
grub.cfg to live alongside distro specific efi target.

Change-Id: Ie9790da9d1bbea58197b37b15a48e77f8a93c1ac
"
openstack%2Fcyborg-tempest-plugin~master~If03832564fd5457797da3f4a5d6b9e2c6361611e,openstack/cyborg-tempest-plugin,master,,If03832564fd5457797da3f4a5d6b9e2c6361611e,Add device profiles test case for device_profile APIs,MERGED,2021-04-07 10:50:06.000000000,2021-04-08 07:07:02.000000000,2021-04-08 02:39:56.000000000,21,32,0,785142,b19e2cfee1ede54a03c237b53256cee67806b436,8,3,1,1,26458,Brin Zhang,zhangbailin,"Add device profiles test case for device_profile APIs

This case tests the device profile APIs, such as create/list/show/delete
device profile, this is a good way to verify the changes in device profiles
APIs.

Change-Id: If03832564fd5457797da3f4a5d6b9e2c6361611e
"
openstack%2Fneutron~stable%2Fvictoria~I240a78879db757592df138a53b2c22d7f5a9ae13,openstack/neutron,stable/victoria,bug/1920700-stable/victoria,I240a78879db757592df138a53b2c22d7f5a9ae13,Call install_ingress_direct_goto_flows() when ovs restarts,MERGED,2021-03-29 07:36:03.000000000,2021-04-08 07:01:55.000000000,2021-04-08 06:56:11.000000000,18,0,0,783545,7e48401378aeab36b93d201c4cad4f279aa7e31b,23,4,1,2,31769,Jacy Lee,yjmango,"Call install_ingress_direct_goto_flows() when ovs restarts

When ovs restarts and needs to regenerate flows, some flows will be
missing in br-int, as follows:
 * table=60,priority=4,in_port=""int-br-floating"" actions=resubmit(,61)
 * table=60,priority=4,in_port=""patch-tun"" actions=resubmit(,61)
 * table=61,priority=0 actions=resubmit(,62)
Call install_ingress_direct_goto_flows() again in the
_handle_ovs_restart() to ensure generate these flows.

Change-Id: I240a78879db757592df138a53b2c22d7f5a9ae13
Closes-Bug: #1920700
(cherry picked from commit 2bb52d49bec299f070a513fee6f9f7ae5d53118b)
"
openstack%2Fkuryr-kubernetes~master~Iad79a2b766b7c71986a9ea79143384cc029c1f79,openstack/kuryr-kubernetes,master,dual-stack,Iad79a2b766b7c71986a9ea79143384cc029c1f79,Support dual stack service subnets,NEW,2021-03-03 16:17:07.000000000,2021-04-08 06:56:02.000000000,,261,106,3,778498,2a6fda9cc4f5d0cbe137e597f922faba02696ba7,15,5,3,21,11600,Michał Dulko,dulek,"Support dual stack service subnets

This commit implements Services support for K8s clusters running dual
stack, i.e. having IPv4 and IPv6 services. This means that
[neutron_defaults]service_subnet option is depreacted in favor of
service_subnets and Kuryr will choose the correct one based on the
Service's `.spec.ipFamily`.

Change-Id: Iad79a2b766b7c71986a9ea79143384cc029c1f79
Implements: blueprint dual-stack
"
openstack%2Fpuppet-manila~master~Ie2bc81690f16d9e2562b5848a0b1c10f5372accf,openstack/puppet-manila,master,,Ie2bc81690f16d9e2562b5848a0b1c10f5372accf,Test unit tests,ABANDONED,2021-04-08 00:52:01.000000000,2021-04-08 06:54:25.000000000,,5,5,0,785298,f4959ccae672d8b839facf36c636a7dfa774bb40,3,1,1,2,9816,Takashi Kajinami,kajinamit,"Test unit tests

Change-Id: Ie2bc81690f16d9e2562b5848a0b1c10f5372accf
"
openstack%2Fpuppet-nova~master~Id11d3b9b8ca0f35a79214260a00a3db61eb70f45,openstack/puppet-nova,master,centos-virtlogd,Id11d3b9b8ca0f35a79214260a00a3db61eb70f45,Add missing notification about virtlogd service,ABANDONED,2021-04-08 06:49:58.000000000,2021-04-08 06:53:19.000000000,,2,0,0,785312,5b6706fb81d8e0a31ca0ff40294c82a753d42aeb,3,1,1,1,9816,Takashi Kajinami,kajinamit,"Add missing notification about virtlogd service

The virtlogd serivce should be restarted when virtlogd.conf is changed.
This fixes adds the missing notification so that the service is
properly restarted.

Change-Id: Id11d3b9b8ca0f35a79214260a00a3db61eb70f45
"
openstack%2Fpuppet-tripleo~master~Ia945e35c7d66c4c6877760b1e41ff7b5db5f8692,openstack/puppet-tripleo,master,stonith-override2,Ia945e35c7d66c4c6877760b1e41ff7b5db5f8692,WIP Make enable_fencing a proper hiera key to allow for overrides,ABANDONED,2021-03-16 21:44:13.000000000,2021-04-08 06:39:14.000000000,,9,3,0,780981,be78c426ce47d498208155684b69c06bc764408a,4,3,1,1,20172,Michele Baldessari,michele,"WIP Make enable_fencing a proper hiera key to allow for overrides

This way we will be able to override the 'enable_fencing' hiera key
via the more specific tripleo::profile::base::pacemaker::enable_fencing
key.

This will allow us to disable stonith in certain tasks by setting
the tripleo::profile::base::pacemaker::enable_fencing to false and then
just removing it once the task is complete.

Change-Id: Ia945e35c7d66c4c6877760b1e41ff7b5db5f8692
"
openstack%2Fneutron~stable%2Ftrain~I12406c1f654ba9ad8eb60ffc965293ecbd5b7be5,openstack/neutron,stable/train,improve-neutron-ci-stable/train,I12406c1f654ba9ad8eb60ffc965293ecbd5b7be5,Make neutron-tempest-dvr-ha-multinode-full to be 2 nodes job,MERGED,2021-03-04 13:48:04.000000000,2021-04-08 06:28:18.000000000,2021-04-08 06:22:59.000000000,1,2,0,778701,8d64417174d6a46444363952cc3c5d956fac965d,48,3,1,1,11975,Slawek Kaplonski,slaweq,"Make neutron-tempest-dvr-ha-multinode-full to be 2 nodes job

It was run on 3 nodes but I think there is no real need for that.
Running that on 2 nodes should be enough.

Conflicts:
    .zuul.yaml
    zuul.d/tempest-multinode.yaml

Change-Id: I12406c1f654ba9ad8eb60ffc965293ecbd5b7be5
(cherry picked from commit 1772e9543ef835eb24c3aacce5600593c6055d73)
"
openstack%2Fkarbor~master~I059a217be9eb14eae70a8c3a63e20607dbbcac0b,openstack/karbor,master,fix_fix_eventlet_timeout,I059a217be9eb14eae70a8c3a63e20607dbbcac0b,[WIP] Test for fullstack job,ABANDONED,2020-09-18 03:21:19.000000000,2021-04-08 06:28:16.000000000,,41,7,7,752608,d52f30b047a5527470bc0c8855bc7b2e6f566a4d,10,1,4,6,29729,wangyu,wangyu,"[WIP] Test for fullstack job

Change-Id: I059a217be9eb14eae70a8c3a63e20607dbbcac0b
"
openstack%2Fkarbor~master~I532407c4c737dacf76a4b0bed347b9185215ff01,openstack/karbor,master,remove_invalid_s3_config,I532407c4c737dacf76a4b0bed347b9185215ff01,Remove the invalid s3 configuration,ABANDONED,2020-09-17 08:03:03.000000000,2021-04-08 06:27:50.000000000,,0,8,0,752386,f8978576a861205967334782bfd87e09d7993421,3,1,1,1,29729,wangyu,wangyu,"Remove the invalid s3 configuration

s3 configuration: [s3_retry_attempts, s3__retry_backoff] has never
been used in karbor, and which does not exists in botocore[1].

This patch will remove the invalid s3 configuration.

[1] https://github.com/boto/botocore/blob/4aff378b0c7d7c948d8186037557c816086d5ed5/botocore/session.py#L714

Change-Id: I532407c4c737dacf76a4b0bed347b9185215ff01
"
openstack%2Fpython-karborclient~master~If24a45cb95506f088c9a7c7c3c5da84b68a60e95,openstack/python-karborclient,master,bp/six-removal,If24a45cb95506f088c9a7c7c3c5da84b68a60e95,Remove six.moves.urllib and six.add_metaclass,ABANDONED,2020-08-21 01:56:25.000000000,2021-04-08 06:27:37.000000000,,11,14,1,747322,164ed3dd14af250398d59076e53ab018e6482252,5,1,2,8,29729,wangyu,wangyu,"Remove six.moves.urllib and six.add_metaclass

Replace six.moves.urllib and six.add_metaclass with Python 3 style code.

Change-Id: If24a45cb95506f088c9a7c7c3c5da84b68a60e95
Implements: blueprint six-removal
"
openstack%2Fpython-karborclient~master~I2c9414d1d40d8cc0612b50355a6f10f7dec9135f,openstack/python-karborclient,master,bp/six-removal,I2c9414d1d40d8cc0612b50355a6f10f7dec9135f,Remove six.iteritems/itervalues/iterkeys,ABANDONED,2020-08-19 09:20:47.000000000,2021-04-08 06:27:18.000000000,,3,4,0,746866,60930497bcc043f552ce59529ccd31d596ea8b1f,3,1,1,2,29729,wangyu,wangyu,"Remove six.iteritems/itervalues/iterkeys

Replace the following items with Python 3 style code.

- six.iteritems
- six.itervalues
- six.iterkeys

Subsequent patches will replace other six usages.

Change-Id: I2c9414d1d40d8cc0612b50355a6f10f7dec9135f
Implements: blueprint six-removal
"
openstack%2Fpython-karborclient~master~I009779c28937de2baf93c5523f9fbf0d70b55041,openstack/python-karborclient,master,plan_show_by_name,I009779c28937de2baf93c5523f9fbf0d70b55041,Add support to show plan by name,ABANDONED,2019-07-05 06:33:33.000000000,2021-04-08 06:26:46.000000000,,3,3,0,669263,3f8c412dde7ad2a48fb307ce99ddd1377f3e3a3a,5,3,1,1,29729,wangyu,wangyu,"Add support to show plan by name

Change-Id: I009779c28937de2baf93c5523f9fbf0d70b55041
"
openstack%2Fneutron~stable%2Fstein~I240a78879db757592df138a53b2c22d7f5a9ae13,openstack/neutron,stable/stein,bug/1920700-stable/stein,I240a78879db757592df138a53b2c22d7f5a9ae13,Call install_ingress_direct_goto_flows() when ovs restarts,MERGED,2021-03-31 01:18:57.000000000,2021-04-08 06:19:59.000000000,2021-04-08 06:17:02.000000000,18,0,0,783922,b67036b0b258c11e2b28a7a1e283b6ddd4f70641,13,3,1,2,31769,Jacy Lee,yjmango,"Call install_ingress_direct_goto_flows() when ovs restarts

When ovs restarts and needs to regenerate flows, some flows will be
missing in br-int, as follows:
 * table=60,priority=4,in_port=""int-br-floating"" actions=resubmit(,61)
 * table=60,priority=4,in_port=""patch-tun"" actions=resubmit(,61)
 * table=61,priority=0 actions=resubmit(,62)
Call install_ingress_direct_goto_flows() again in the
_handle_ovs_restart() to ensure generate these flows.

Change-Id: I240a78879db757592df138a53b2c22d7f5a9ae13
Closes-Bug: #1920700
(cherry picked from commit 2bb52d49bec299f070a513fee6f9f7ae5d53118b)
"
openstack%2Fnetworking-ovn~stable%2Ftrain~Idd0ec989b3c1435959776091119dd9a4ccb29e5e,openstack/networking-ovn,stable/train,,Idd0ec989b3c1435959776091119dd9a4ccb29e5e,[OVN] Make delete_router_port() less error prone,MERGED,2021-03-26 08:59:06.000000000,2021-04-08 06:08:32.000000000,2021-04-08 06:06:39.000000000,31,5,0,783226,1715093af46256a333aa2ee04b95340dd91b1384,45,7,2,2,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Make delete_router_port() less error prone

This commit makes the delete_router_port() method from OVNClient more
resilient to NotFound errors. Apart from the L3 plugin, this method is
also invoked by the maintenance task to fix stale/not-up-to-date objects
in the OVN database, and since the maintenance task runs every 5 minutes
only it could happen that some objects fetched by delete_router_port()
are gone by the moment that method is invoked.

(Manually cherry picked from Neutron 36b8c684b1c42a0733d0820bcd2e1fe217f23797)

Closes-Bug: #1920968
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: Idd0ec989b3c1435959776091119dd9a4ccb29e5e
"
openstack%2Fcinder~master~Idf619b4dbb64318f6e2231b13b8bacce3deaa43b,openstack/cinder,master,bug/1917574,Idf619b4dbb64318f6e2231b13b8bacce3deaa43b,Fix: show volume by name for non-admins,MERGED,2021-03-03 07:13:26.000000000,2021-04-08 05:40:07.000000000,2021-04-07 00:42:17.000000000,20,1,9,778373,b675b66d4f798786a30dbec00504fd2080a2e27f,213,6,11,3,27615,Rajat Dhasmana,whoami-rajat,"Fix: show volume by name for non-admins

Currently we don't pop the all_tenants field for non-admins resulting
in database not able to process it and no records are displayed.
Cinderclient passes it for most APIs since it doesn't have the context
and cannot determine if the user is admin or non-admin.
On the API side, we need to filter out the all_tenants key for non-admins
since it is only valid for admin operations.
This only happens incase of general filtering API which was introduced
in microversion 3.31, prior to this all invalid filters were removed.

Closes-Bug: #1917574
Change-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b
"
openstack%2Fcinder~stable%2Fwallaby~Idf619b4dbb64318f6e2231b13b8bacce3deaa43b,openstack/cinder,stable/wallaby,bug/1917574-stable/wallaby,Idf619b4dbb64318f6e2231b13b8bacce3deaa43b,Fix: show volume by name for non-admins,MERGED,2021-04-07 05:27:12.000000000,2021-04-08 05:39:30.000000000,2021-04-08 03:54:18.000000000,20,1,0,784988,36cfe78132a0ffd415a33922b823f5241f2722ee,35,3,1,3,27615,Rajat Dhasmana,whoami-rajat,"Fix: show volume by name for non-admins

Currently we don't pop the all_tenants field for non-admins resulting
in database not able to process it and no records are displayed.
Cinderclient passes it for most APIs since it doesn't have the context
and cannot determine if the user is admin or non-admin.
On the API side, we need to filter out the all_tenants key for non-admins
since it is only valid for admin operations.
This only happens incase of general filtering API which was introduced
in microversion 3.31, prior to this all invalid filters were removed.

Closes-Bug: #1917574
Change-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b
(cherry picked from commit b675b66d4f798786a30dbec00504fd2080a2e27f)
"
openstack%2Fmagnum~stable%2Fvictoria~I22b698cd925dcf4f10805ae9493b77ddc9709f3f,openstack/magnum,stable/victoria,containerd-stable/victoria,I22b698cd925dcf4f10805ae9493b77ddc9709f3f,Download correct cri-containerd-cni tarball,MERGED,2021-04-01 12:11:28.000000000,2021-04-08 05:33:24.000000000,2021-04-08 05:32:07.000000000,10,8,0,784397,0047a6473f5dda6fa8bd56e0de04a108b16f133c,13,4,1,4,28022,Bharat Kunwar,brtknr,"Download correct cri-containerd-cni tarball

In I05cbd1ec62e9a68c68a1666ff62f20138bf8c731, fedora_coreos_v1 driver was
missed in version bump. This PS bumps it to 1.4.4 for both fedora_coreos_v1 and
fedora_atomic_v1 drivers.

Story: 2008451
Task: 42098

Change-Id: I22b698cd925dcf4f10805ae9493b77ddc9709f3f
(cherry picked from commit 1de9b140f499ebed03c6079642dbc3b3521e1b7f)
"
openstack%2Fpuppet-openstack-integration~master~Ib729db4ab45f398b6190ab826eb1dfd14e762039,openstack/puppet-openstack-integration,master,wallaby,Ib729db4ab45f398b6190ab826eb1dfd14e762039,"Revert ""Switch to stable/wallaby""",MERGED,2021-04-08 02:10:37.000000000,2021-04-08 04:55:32.000000000,2021-04-08 04:55:32.000000000,80,122,0,785215,b6babc9cbc6eb76048187a6ec3d83b708ec3d6f9,6,4,1,3,9816,Takashi Kajinami,kajinamit,"Revert ""Switch to stable/wallaby""

This reverts commit 47d6b412b6ddc88d8797ab262a028f6dd51a1722.

Reason for revert: The commit was made in a wrong branch.

Change-Id: Ib729db4ab45f398b6190ab826eb1dfd14e762039
"
openstack%2Fpuppet-openstack-integration~master~Ie792ed08e9119943e64cca072a03473d69f50200,openstack/puppet-openstack-integration,master,wallaby,Ie792ed08e9119943e64cca072a03473d69f50200,"Revert ""Switch to RDO Wallaby""",MERGED,2021-04-08 02:08:25.000000000,2021-04-08 04:55:26.000000000,2021-04-08 04:55:26.000000000,8,8,0,785213,761b922693e87f0d8cb7edaee851f721c3bdbd50,6,4,1,2,9816,Takashi Kajinami,kajinamit,"Revert ""Switch to RDO Wallaby""

This reverts commit 993a26d0a62bfc19a46d28acb1fe09e48ae48300.

Reason for revert: The commit was made in a wrong branch.

Change-Id: Ie792ed08e9119943e64cca072a03473d69f50200
"
openstack%2Fnetworking-bagpipe~master~I7369849754778c61fcf207f1823233e232d09e97,openstack/networking-bagpipe,master,,I7369849754778c61fcf207f1823233e232d09e97,Handle network update notifications,NEW,2021-03-02 21:17:38.000000000,2021-04-08 04:55:15.000000000,,70,0,0,778330,deaa4b3810ce7918b37a75cb0e9291ea85bd1a36,11,3,5,2,14525,Vasyl Saienko,vsaienko,"Handle network update notifications

Handle network update notifications to make sure
we adjust rules for network that was plugged to router
after it is associated with bgpvpn.

Closes-Bug: #1897408

Change-Id: I7369849754778c61fcf207f1823233e232d09e97
"
openstack%2Ftacker~stable%2Fwallaby~Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f,openstack/tacker,stable/wallaby,bp/support-placement-constraints-stable/wallaby,Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f,Support Placement Constraints for Grant,MERGED,2021-04-05 12:45:28.000000000,2021-04-08 04:13:16.000000000,2021-04-08 04:12:03.000000000,584,63,0,784593,7050b218f29f407611c11470f6ba5782a51c3af7,10,5,2,10,32219,Aldinson C. Esto,esto-aln,"Support Placement Constraints for Grant

Grant for 3rd-party NFVO is improved. Process related to placement
constraints is supported. This enables interoperability with
3rd-party NFVO which enables them to deploy each VM in the VNF after
setting the zone information based on the grant response from NFVO.

Co-authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>
Implements: blueprint support-placement-constraints
Change-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f
(cherry picked from commit 3859ade82452bd477eebccf96eaccd56ec99385d)
"
openstack%2Ftripleo-ansible~master~I71f1a0e995c0d92d73625cd863488fc183bda7b3,openstack/tripleo-ansible,master,cephadm_pacific,I71f1a0e995c0d92d73625cd863488fc183bda7b3,Introduce the network(s) parameter in the ceph spec module,MERGED,2021-03-26 13:33:35.000000000,2021-04-08 04:11:58.000000000,2021-04-08 04:10:39.000000000,57,10,4,783305,5ab03f393b6f9cecaa13f0e728b36cb1924c4362,24,6,5,4,25402,Francesco Pantano,fmount,"Introduce the network(s) parameter in the ceph spec module

This change introduces a new option on the CephDaemonSpec definition.
Now a list of networks can be specified and rendered using the related
top level field.
The networks field cannot be logically considered part of extra parameter,
because except for the monitors and osds (they have the cluster and public
networks defined), all the other daemons should provide this kind of field.
The ceph_mkspec module and the rgw tasks are modified accordingly and as
per [1] only rgw is supported for now.

[1] https://github.com/ceph/ceph/pull/40048

Change-Id: I71f1a0e995c0d92d73625cd863488fc183bda7b3
"
openstack%2Fcharm-neutron-openvswitch~master~I3b8e6ccdf10bf5a128f67b233e0218e16a8765ab,openstack/charm-neutron-openvswitch,master,libraries-sync-21-04,I3b8e6ccdf10bf5a128f67b233e0218e16a8765ab,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:30:55.000000000,2021-04-08 04:05:26.000000000,2021-04-07 22:50:35.000000000,127,14,0,784679,0dff271c092a0590a7a2dabf019a227bcb5c05cd,26,4,2,7,20870,Alex Kavanagh,ajkavanagh,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: I3b8e6ccdf10bf5a128f67b233e0218e16a8765ab
"
openstack%2Fpuppet-openstack_spec_helper~master~Ib74294d83a9cba598f009d43940676f688963af2,openstack/puppet-openstack_spec_helper,master,wallaby,Ib74294d83a9cba598f009d43940676f688963af2,"Revert ""Switch to stable/wallaby""",MERGED,2021-04-08 02:01:16.000000000,2021-04-08 03:57:01.000000000,2021-04-08 03:57:01.000000000,2,2,0,785211,b39b21690cbda0d661d84cde36dcc92000e9dfcb,8,4,1,2,9816,Takashi Kajinami,kajinamit,"Revert ""Switch to stable/wallaby""

This reverts commit dceaf7a6af6e2c09a0f30867f8ecd2a232f798fb.

Reason for revert: The commit was made in a wrong branch.

Change-Id: Ib74294d83a9cba598f009d43940676f688963af2
"
openstack%2Fneutron~stable%2Fussuri~I4846ecdd8312fa2ff915c4461da07a607c7a8f8c,openstack/neutron,stable/ussuri,bug/1687027-stable/ussuri,I4846ecdd8312fa2ff915c4461da07a607c7a8f8c,"Remove FT ""test_has_offline_migrations_*"" tests",MERGED,2021-04-07 09:17:48.000000000,2021-04-08 03:56:47.000000000,2021-04-08 03:54:26.000000000,0,26,0,784995,b806dd0aa712d0a2570d8c58e3ebc0483517ac75,12,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Remove FT ""test_has_offline_migrations_*"" tests

""test_has_offline_migrations_pending_contract_scripts"" is testing a
non supported branch, ""Kilo"". The usefulness expired when this branch
was declared EOL.

""test_has_offline_migrations_all_heads_upgraded"" is tested in
""test_forbid_offline_migrations_starting_newton"". Since ""Newton"",
no more DB contract migrations are allowed. Both tests are checking
the same behavior.

Due to the time extension and the lack of value of those tests, this
patch removes both.

  test_forbid_offline_migrations_starting_newton [683.133807s]
  test_has_offline_migrations_pending_contract_scripts [123.091853s]

Change-Id: I4846ecdd8312fa2ff915c4461da07a607c7a8f8c
Related-Bug: #1687027
(cherry picked from commit 8522628f2f6f59344c04568b31c444f7a290562d)
"
openstack%2Fneutron~stable%2Fvictoria~I4846ecdd8312fa2ff915c4461da07a607c7a8f8c,openstack/neutron,stable/victoria,bug/1687027-stable/victoria,I4846ecdd8312fa2ff915c4461da07a607c7a8f8c,"Remove FT ""test_has_offline_migrations_*"" tests",MERGED,2021-04-07 09:17:17.000000000,2021-04-08 03:56:43.000000000,2021-04-08 03:53:44.000000000,0,26,0,784994,ff5a024c7b01f504976052f96d15187bdd87c351,13,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Remove FT ""test_has_offline_migrations_*"" tests

""test_has_offline_migrations_pending_contract_scripts"" is testing a
non supported branch, ""Kilo"". The usefulness expired when this branch
was declared EOL.

""test_has_offline_migrations_all_heads_upgraded"" is tested in
""test_forbid_offline_migrations_starting_newton"". Since ""Newton"",
no more DB contract migrations are allowed. Both tests are checking
the same behavior.

Due to the time extension and the lack of value of those tests, this
patch removes both.

  test_forbid_offline_migrations_starting_newton [683.133807s]
  test_has_offline_migrations_pending_contract_scripts [123.091853s]

Change-Id: I4846ecdd8312fa2ff915c4461da07a607c7a8f8c
Related-Bug: #1687027
(cherry picked from commit 8522628f2f6f59344c04568b31c444f7a290562d)
"
openstack%2Fneutron~stable%2Ftrain~I4846ecdd8312fa2ff915c4461da07a607c7a8f8c,openstack/neutron,stable/train,bug/1687027-stable/train,I4846ecdd8312fa2ff915c4461da07a607c7a8f8c,"Remove FT ""test_has_offline_migrations_*"" tests",MERGED,2021-04-07 09:25:38.000000000,2021-04-08 03:56:38.000000000,2021-04-08 03:54:51.000000000,0,26,0,785116,397438be6f367e1c24da6d22148006bfe0f64f20,15,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Remove FT ""test_has_offline_migrations_*"" tests

""test_has_offline_migrations_pending_contract_scripts"" is testing a
non supported branch, ""Kilo"". The usefulness expired when this branch
was declared EOL.

""test_has_offline_migrations_all_heads_upgraded"" is tested in
""test_forbid_offline_migrations_starting_newton"". Since ""Newton"",
no more DB contract migrations are allowed. Both tests are checking
the same behavior.

Due to the time extension and the lack of value of those tests, this
patch removes both.

  test_forbid_offline_migrations_starting_newton [683.133807s]
  test_has_offline_migrations_pending_contract_scripts [123.091853s]

Change-Id: I4846ecdd8312fa2ff915c4461da07a607c7a8f8c
Related-Bug: #1687027
(cherry picked from commit 8522628f2f6f59344c04568b31c444f7a290562d)
"
openstack%2Fdiskimage-builder~master~Icd22dfa5faa540773d096810f1423257d0727c81,openstack/diskimage-builder,master,grub-cfg-fix,Icd22dfa5faa540773d096810f1423257d0727c81,Fix generate two grub.cfg files,ABANDONED,2021-04-01 07:38:59.000000000,2021-04-08 03:14:17.000000000,,9,9,0,784203,a603fcf746b27216ef70e678cf544771065a01d5,11,3,1,1,22997,xinliang,xinliang.liu,"Fix generate two grub.cfg files

When there is a directory '/boot/efi/$EFI_BOOT_DIR' it will generate
two grub.cfg files. One under this dir, the other under directory
'/boot/grub2/' or'/boot/grub/'.

But current bootloader element grub default overrides such as root
device override and console parameters appending only happen in the
latter grub.cfg. This might cause grub default overrides not working.
Because only the former grub.cfg will be used to boot OS here.

Change-Id: Icd22dfa5faa540773d096810f1423257d0727c81
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Fwallaby~I481fc2e872b39284b7ea58d0fa81a3045a97fec9,openstack/puppet-openstack_spec_helper,stable/wallaby,wallaby-stable/wallaby,I481fc2e872b39284b7ea58d0fa81a3045a97fec9,Switch to stable/wallaby,MERGED,2021-04-08 02:01:57.000000000,2021-04-08 03:04:36.000000000,2021-04-08 03:04:36.000000000,2,2,0,785212,16701bea06cececfbaa007b4d97780d2c7b2e844,6,2,1,2,9816,Takashi Kajinami,kajinamit,"Switch to stable/wallaby

Change-Id: I481fc2e872b39284b7ea58d0fa81a3045a97fec9
"
openstack%2Ftripleo-quickstart~master~I154aa7f84567b806b24aa87a4f7559ead08bf4ba,openstack/tripleo-quickstart,master,container-tools-3,I154aa7f84567b806b24aa87a4f7559ead08bf4ba,"Revert ""Update dep pipeline to test container-tools:3.0""",ABANDONED,2021-04-07 14:27:47.000000000,2021-04-08 02:27:08.000000000,,1,1,0,785200,429620643f53e622d41878138a478a5d61f8e62f,5,4,1,1,9976,Ronelle Landy,rlandy,"Revert ""Update dep pipeline to test container-tools:3.0""

This reverts commit bfb6e2b48321ca7c4f7c287524bb836d1e898488.

Reason for revert: conatiner-tools:3.0 is current running in integration - moving this pipeline back to rhel8 to follow $next.

Change-Id: I154aa7f84567b806b24aa87a4f7559ead08bf4ba
"
openstack%2Fpanko~stable%2Ftrain~Ic28606ad8f70ab69fb92b3f4ff5fb7a6757d5bdf,openstack/panko,stable/train,animbus8,Ic28606ad8f70ab69fb92b3f4ff5fb7a6757d5bdf,fix: Add count of panko api,ABANDONED,2021-04-07 10:36:15.000000000,2021-04-08 02:16:52.000000000,,43,384,0,785139,33b3dad40a7bc8d4444a6725d0675df1399bfb9b,5,0,2,3,33196,conna,yangshaoxue,"fix: Add count of panko api

1. add count field for panko event list api

Change-Id: Ic28606ad8f70ab69fb92b3f4ff5fb7a6757d5bdf
"
openstack%2Fcyborg~master~I9eb0c097db8ded829d282256db4a8bdb971306f7,openstack/cyborg,master,,I9eb0c097db8ded829d282256db4a8bdb971306f7,Add backup and snapshot support matrix,MERGED,2021-04-07 03:01:08.000000000,2021-04-08 02:13:13.000000000,2021-04-08 02:11:41.000000000,4,0,0,785086,0e1bb834e7d51cb0ed3870c1e92da580aa753219,10,4,1,1,31412,Wenping Song,songwenping,"Add backup and snapshot support matrix

Change-Id: I9eb0c097db8ded829d282256db4a8bdb971306f7
"
openstack%2Fcyborg~stable%2Fvictoria~I370bc8449321932831df4fe783be5c9ff0ed65df,openstack/cyborg,stable/victoria,,I370bc8449321932831df4fe783be5c9ff0ed65df,Add fast8 check for cybrog,MERGED,2021-03-23 10:29:02.000000000,2021-04-08 02:13:04.000000000,2021-04-08 02:11:39.000000000,35,1,0,782134,07a5b145554f4dddf6a8188aacff2358819104d8,29,4,5,2,26458,Brin Zhang,zhangbailin,"Add fast8 check for cybrog

Add ""tox -e fast8"" command, that we can check the changes file whether
is ok of it's PEP8 format.

Change-Id: I370bc8449321932831df4fe783be5c9ff0ed65df
(cherry picked from commit c61e8ef3fc8d7cc80f51c2c96fa4cc1a7406c6d8)
"
openstack%2Fpuppet-openstack-integration~master~I1ee3796fb5a7fec69ac3e63e3683000b254d987c,openstack/puppet-openstack-integration,master,wallaby,I1ee3796fb5a7fec69ac3e63e3683000b254d987c,Switch to stable/wallaby,MERGED,2021-04-06 04:04:31.000000000,2021-04-08 02:10:37.000000000,2021-04-06 17:36:34.000000000,122,80,0,784877,47d6b412b6ddc88d8797ab262a028f6dd51a1722,9,3,2,3,9816,Takashi Kajinami,kajinamit,"Switch to stable/wallaby

Change-Id: I1ee3796fb5a7fec69ac3e63e3683000b254d987c
"
openstack%2Fpuppet-openstack-integration~master~Ic3a27395dd8ea1afffe0f75fd76a917a720a064f,openstack/puppet-openstack-integration,master,wallaby,Ic3a27395dd8ea1afffe0f75fd76a917a720a064f,"Revert ""Switch to RDO Wallaby""",ABANDONED,2021-04-08 02:09:14.000000000,2021-04-08 02:10:26.000000000,,8,8,0,785214,27ce5de1ac808dd2c04f77936988e8fb7cfe34ee,3,4,1,2,9816,Takashi Kajinami,kajinamit,"Revert ""Switch to RDO Wallaby""

This reverts commit 993a26d0a62bfc19a46d28acb1fe09e48ae48300.

Reason for revert: The commit was made in a wrong branch.

Change-Id: Ic3a27395dd8ea1afffe0f75fd76a917a720a064f
"
openstack%2Fpuppet-openstack-integration~master~Ia19de894492e1904957edff48de2fe3d0b5c50ec,openstack/puppet-openstack-integration,master,wallaby,Ia19de894492e1904957edff48de2fe3d0b5c50ec,Switch to RDO Wallaby,MERGED,2021-04-06 04:07:21.000000000,2021-04-08 02:09:14.000000000,2021-04-06 17:48:49.000000000,8,8,0,784878,993a26d0a62bfc19a46d28acb1fe09e48ae48300,10,3,2,2,9816,Takashi Kajinami,kajinamit,"Switch to RDO Wallaby

Change-Id: Ia19de894492e1904957edff48de2fe3d0b5c50ec
"
openstack%2Fmanila~stable%2Fvictoria~I865f07fc30f11780edb1aba11ac9868f76cab5e4,openstack/manila,stable/victoria,bug1922784,I865f07fc30f11780edb1aba11ac9868f76cab5e4,WIP: Set snapshot_support capabilties to false - t->u->v,ABANDONED,2021-04-07 20:20:59.000000000,2021-04-08 02:03:05.000000000,,3,1,0,785270,57a7944349cc6f8fd84b92d426538a83a7706ea8,3,0,1,1,9976,Ronelle Landy,rlandy,"WIP: Set snapshot_support capabilties to false - t->u->v

The related bug (https://bugs.launchpad.net/tripleo/+bug/1922784)
notes that the snapshot_support capabilties should be
false for releases before wallaby, and true thereafter.

Combined with:
https://review.opendev.org/c/openstack/tripleo-ci/+/785254
this review should set the snapshot_support capabilties
to false for only t->v releases.

Related-Bug: #1922784
Change-Id: I865f07fc30f11780edb1aba11ac9868f76cab5e4
"
openstack%2Fpuppet-openstack_spec_helper~master~I481fc2e872b39284b7ea58d0fa81a3045a97fec9,openstack/puppet-openstack_spec_helper,master,wallaby,I481fc2e872b39284b7ea58d0fa81a3045a97fec9,Switch to stable/wallaby,MERGED,2021-04-06 04:04:29.000000000,2021-04-08 02:01:16.000000000,2021-04-07 09:34:36.000000000,2,2,0,784876,dceaf7a6af6e2c09a0f30867f8ecd2a232f798fb,12,3,1,2,9816,Takashi Kajinami,kajinamit,"Switch to stable/wallaby

Change-Id: I481fc2e872b39284b7ea58d0fa81a3045a97fec9
"
openstack%2Foslo.privsep~master~If72e5c2b452efe495754eb189496cee92f372235,openstack/oslo.privsep,master,,If72e5c2b452efe495754eb189496cee92f372235,Drop lower-constraints,ABANDONED,2021-01-27 06:18:47.000000000,2021-04-08 01:46:34.000000000,,0,61,0,772631,0157924628b7f99a3053b17640bbe5cdad8ac761,4,2,1,3,31412,Wenping Song,songwenping,"Drop lower-constraints

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1].
http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2].
http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: If72e5c2b452efe495754eb189496cee92f372235
"
openstack%2Fneutron~master~Ie69526acb94b62fd5d8db1dbddc1f24072df7a5e,openstack/neutron,master,bug/1921713,Ie69526acb94b62fd5d8db1dbddc1f24072df7a5e,Allow 255 character strings in tags,MERGED,2021-03-29 13:01:30.000000000,2021-04-08 01:04:38.000000000,2021-04-08 01:02:51.000000000,45,3,13,783647,35c7999ebd25af4d8f0d6c82455bcf93c6538c15,90,8,6,5,24245,Harald Jensås,harald.jensas,"Allow 255 character strings in tags

In TripleO we are moving to a model where heat is not
used to manage neutron resources. This work relies on
using tags, and we are hitting the 60 characther limit.

This change bumps the tag elements to 255 characters.

Closes-Bug: #1921713
Change-Id: Ie69526acb94b62fd5d8db1dbddc1f24072df7a5e
"
openstack%2Fdevstack~master~I42f67361fe50795d929752434342effddf123486,openstack/devstack,master,qa-wallaby-release,I42f67361fe50795d929752434342effddf123486,Update DEVSTACK_SERIES to xena,MERGED,2021-04-06 15:35:49.000000000,2021-04-08 01:04:31.000000000,2021-04-08 01:03:01.000000000,1,1,0,784975,25d37efb9154f2f08e094f4dda3366a7bcd0af31,16,3,1,1,8556,Ghanshyam,ghanshyam,"Update DEVSTACK_SERIES to xena

stable/wallaby branch has been created now and
current master is for xena.

Change-Id: I42f67361fe50795d929752434342effddf123486
"
openstack%2Fpython-solumclient~stable%2Fwallaby~I5b5176400972f323d1a2675cb351b6a183246db4,openstack/python-solumclient,stable/wallaby,create-wallaby,I5b5176400972f323d1a2675cb351b6a183246db4,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-15 08:55:33.000000000,2021-04-08 00:57:39.000000000,2021-04-08 00:55:59.000000000,2,2,0,780502,1dea59b7fb9ae8d19cb3bbecf67d86db32707634,9,2,1,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I5b5176400972f323d1a2675cb351b6a183246db4
"
openstack%2Fmurano-agent~stable%2Fwallaby~I71d4fb2629deeddc85931f4f234599a2d5c05384,openstack/murano-agent,stable/wallaby,create-wallaby,I71d4fb2629deeddc85931f4f234599a2d5c05384,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-26 18:33:34.000000000,2021-04-08 00:57:21.000000000,2021-04-08 00:56:14.000000000,3,3,0,783419,018a92480906a804858d9ad86724c170efcf80ad,9,2,1,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I71d4fb2629deeddc85931f4f234599a2d5c05384
"
openstack%2Fpython-solumclient~stable%2Fwallaby~If82e4be9b8a8e491f55695df2f09d028a3e9c4ea,openstack/python-solumclient,stable/wallaby,create-wallaby,If82e4be9b8a8e491f55695df2f09d028a3e9c4ea,Update .gitreview for stable/wallaby,MERGED,2021-03-15 08:55:29.000000000,2021-04-08 00:56:43.000000000,2021-04-08 00:55:31.000000000,2,1,0,780501,6311ab80bd13505e5af3a21e0a39b188c00b7fef,9,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/wallaby

Change-Id: If82e4be9b8a8e491f55695df2f09d028a3e9c4ea
"
openstack%2Fmurano-agent~stable%2Fwallaby~Ia31217b008fbc331b3d6afaea88428e9d1653ed4,openstack/murano-agent,stable/wallaby,create-wallaby,Ia31217b008fbc331b3d6afaea88428e9d1653ed4,Update .gitreview for stable/wallaby,MERGED,2021-03-26 18:33:24.000000000,2021-04-08 00:56:09.000000000,2021-04-08 00:56:09.000000000,1,0,0,783418,ea86567619facdff88518faae5e43c51b74ef053,8,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/wallaby

Change-Id: Ia31217b008fbc331b3d6afaea88428e9d1653ed4
"
openstack%2Ftacker~master~I80409c256711948286ee39b555414ea0d0e738ba,openstack/tacker,master,DNMPatch,I80409c256711948286ee39b555414ea0d0e738ba,[DNM] Check Zuul Issues for ChgExtConnectivity       All merged files.,ABANDONED,2021-03-10 12:19:26.000000000,2021-04-08 00:26:18.000000000,,5714,505,4,779724,4c035ad5a09f764b2ee14af1de8b315cdeac3903,14,1,4,56,32219,Aldinson C. Esto,esto-aln,"[DNM] Check Zuul Issues for ChgExtConnectivity
      All merged files.

Change-Id: I80409c256711948286ee39b555414ea0d0e738ba
"
openstack%2Fhorizon~stable%2Fwallaby~I3ab26c19dc9ea1ed23fcff790d0db919039099eb,openstack/horizon,stable/wallaby,fip-port-id-stable/wallaby,I3ab26c19dc9ea1ed23fcff790d0db919039099eb,Save instace_id inside Associate Floating IP workflow,MERGED,2021-04-07 10:21:01.000000000,2021-04-08 00:11:54.000000000,2021-04-08 00:10:31.000000000,22,16,0,785124,12d468dc422356ed723b36da1c5f48f702e3a39a,10,3,1,3,1736,Ivan Kolodyazhny,e0ne,"Save instace_id inside Associate Floating IP workflow

Also, rename instance_id field to proper port_id.

Before this change, when instance_id was passed from the Instances
page in the URL, the information would be lost on form submission,
and if the form contained an error, the it would be redisplayed with
the port drop-down containing all ports from all instances. This also
made submitting this form slow, as the drop-down would be populated
with all ports on form validation.

It also creates a bug, where if there are more instances than Nova's
pagination allows, the ports from newer instances would no longer
appear in the drop-down, and the form would fail to validate, even
though the choice of port on initial form was correct.

Closes-bug: #1920010
Change-Id: I3ab26c19dc9ea1ed23fcff790d0db919039099eb
(cherry picked from commit 3d82d57353d1a29fb5b568ffaa93db86998e9d94)
"
openstack%2Fkayobe~master~I02c76344bcb0b350fd96010becca52f259e1ee6f,openstack/kayobe,master,centos-stream,I02c76344bcb0b350fd96010becca52f259e1ee6f,CI: Switch to CentOS Stream 8,MERGED,2021-03-31 16:10:02.000000000,2021-04-07 23:32:51.000000000,2021-04-07 23:28:52.000000000,34,28,1,784118,2c21bb01721987f497607ef71e22913edfaafabb,36,4,4,3,14826,Mark Goddard,mgoddard,"CI: Switch to CentOS Stream 8

This change switches CentOS CI jobs to use CentOS stream 8 nodepool
images. Kolla containers switched to CentOS stream already.

Depends-On: https://review.opendev.org/c/openstack/kayobe/+/784926
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/784853

Story: 2008795
Task: 42196

Change-Id: I02c76344bcb0b350fd96010becca52f259e1ee6f
"
openstack%2Fkayobe~master~I468d4e0460c13791b9f01d5854ef45472528c6fe,openstack/kayobe,master,centos-stream,I468d4e0460c13791b9f01d5854ef45472528c6fe,CentOS Stream 8: Use /usr/bin/which instead of bash function,MERGED,2021-04-06 11:30:07.000000000,2021-04-07 23:25:31.000000000,2021-04-07 23:23:18.000000000,2,2,0,784926,3084cf67cec2141b05bd9035b41d857e22dbc115,15,3,1,1,14826,Mark Goddard,mgoddard,"CentOS Stream 8: Use /usr/bin/which instead of bash function

A bug has been introduced to the which package in CentOS Stream 8 which
causes it to fail when used with the following bash options:

set -u
set -o pipefail

Then, when running which we see the following output:

environment: line 1: _declare: unbound variable

As found by Pierre, this seems to be caused by the implementation of
which as a bash function which references an unbound variable
(_declare). It's tracked in Fedora by
https://bugzilla.redhat.com/show_bug.cgi?id=1944877#.

This change works around the issue by using the /usr/bin/which binary.

Co-Authored-By: Pierre Riteau <pierre@stackhpc.com>

Change-Id: I468d4e0460c13791b9f01d5854ef45472528c6fe
Story: 2008795
Task: 42215
"
openstack%2Fneutron-tempest-plugin~master~I75088a92726821cea678417fc16d7c239e32bc81,openstack/neutron-tempest-plugin,master,inclusive_jargon,I75088a92726821cea678417fc16d7c239e32bc81,Switch to new rolevar for run-temepst role,MERGED,2021-02-11 19:20:34.000000000,2021-04-07 23:11:20.000000000,2021-04-07 23:11:20.000000000,3,3,3,775257,ff54bba976d2e78b67920769af9014998d6dad52,28,4,1,1,8556,Ghanshyam,ghanshyam,"Switch to new rolevar for run-temepst role

Tempest replaced the below rolevar for run-tempest role
- tempest_test_blacklist is replaced by tempest_test_exclude_list
- tempest_black_regex is replaced by tempest_exclude_regex

old name are still supported for compatiblity but we recommend
to switch to new one.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/774835
Change-Id: I75088a92726821cea678417fc16d7c239e32bc81
"
openstack%2Fcharm-ceph-fs~master~I6be25d404436647a19e18231ccd0985dd49bb858,openstack/charm-ceph-fs,master,libraries-sync-21-04,I6be25d404436647a19e18231ccd0985dd49bb858,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:21:38.000000000,2021-04-07 23:08:08.000000000,2021-04-07 23:08:08.000000000,209,6,0,784638,46797fc9869d86352e513aa4f7a26c0d9ab3c6ec,13,3,2,5,20870,Alex Kavanagh,ajkavanagh,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

* Manual fix to build.lock to work around bug [1]

[1] https://github.com/juju/charm-tools/issues/603

Change-Id: I6be25d404436647a19e18231ccd0985dd49bb858
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~Idc463119cbd183f34ae206be55c695818ee9c9b5,openstack/puppet-tripleo,stable/train,heat-cache-stable/train,Idc463119cbd183f34ae206be55c695818ee9c9b5,Add missing unit tests for heat manifests,MERGED,2021-04-01 08:57:32.000000000,2021-04-07 23:06:49.000000000,2021-04-07 23:06:49.000000000,468,0,0,784049,f11ed7def20bf9f6a7403ec75fb3d7a61fbe3c1b,10,4,1,5,9816,Takashi Kajinami,kajinamit,"Add missing unit tests for heat manifests

Change-Id: Idc463119cbd183f34ae206be55c695818ee9c9b5
(cherry picked from commit 1b54512b2ffd94694a6ab3d096bec35f81fb0cb4)
"
openstack%2Ftripleo-quickstart-extras~master~If28d5b225439162b7983165fe3bea605971cfb74,openstack/tripleo-quickstart-extras,master,,If28d5b225439162b7983165fe3bea605971cfb74,Collect and output outputs/passwords files with old and new locations,MERGED,2021-03-31 11:31:26.000000000,2021-04-07 23:06:45.000000000,2021-04-07 23:06:45.000000000,25,5,0,784076,8b65d49b74bc441eeaa5fbd6ce8586bd73aab715,15,5,3,4,7144,James Slagle,slagle,"Collect and output outputs/passwords files with old and new locations

In Idded7faba1ff6c811b94503c559029aeeaca6a06, we are changing the
default path for tripleo-undercloud-outputs.yaml and
tripleo-undercloud-passwords.yaml. These tasks in CI that expect the
files to exist at the old location are updated to use the first_found
lookup to check both the old and new paths.

Likewise, when the output files are written on the minion, they are
written to both the old and new locations until the tripleoclient patch
merges.

Once the tripleoclient patch merges, we can update these tasks to only
look at the new path.

Partial-Bug: #1921975
Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: If28d5b225439162b7983165fe3bea605971cfb74
"
openstack%2Fnova~stable%2Fussuri~I3b597a46314a1b29a952fc0f7a9c4537341e37b8,openstack/nova,stable/ussuri,bug/1904446,I3b597a46314a1b29a952fc0f7a9c4537341e37b8,Add missing exception,MERGED,2020-11-19 14:54:40.000000000,2021-04-07 22:49:07.000000000,2021-04-07 22:47:03.000000000,13,0,0,763390,8f65de96a07623c6a8a9cd49db942ad6d4d3ab03,26,7,1,2,15334,Stephen Finucane,sfinucan,"Add missing exception

Change Idd49b0c70caedfcd42420ffa2ac926a6087d406e added support for
discovery of PMEM devices by the libvirt driver. Some error handling
code in this was expected to raise a 'GetPMEMNamespacesFailed'
exception, however, a typo meant the exception was actually called
'GetPMEMNamespaceFailed' (singular). This exception was later removed in
change I6fd027fb51823b8a8a24ed7b864a2191c4e8e8c0 because it had no
references.

Re-introduce the exception, this time with the correct name, and add
some unit tests to prevent us regressing.

Change-Id: I3b597a46314a1b29a952fc0f7a9c4537341e37b8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1904446
(cherry picked from commit 160ed6ff652b80cd0a86d41dc3f66c15cee66290)
(cherry picked from commit 82d415d200e39a5c11fe134e9ef62e427988f2ba)
"
openstack%2Fopenstack-helm~master~Icdf61349262fc6082ff298df492613553eddcb65,openstack/openstack-helm,master,,Icdf61349262fc6082ff298df492613553eddcb65,Remove Cinder volume v1 service and endpoint,ABANDONED,2021-03-29 18:29:36.000000000,2021-04-07 22:38:20.000000000,,40,83,0,783733,794238235f78fa5a29cce55ad60453ac0b1fd4c9,21,3,9,18,18236,Sophie Huang,SophieHuang,"Remove Cinder volume v1 service and endpoint

Cinder v1 API is deprecated and disabled already. This patchset
removes the Cinder v1 serice and endpoint.

Change-Id: Icdf61349262fc6082ff298df492613553eddcb65
"
openstack%2Fheat~stable%2Fvictoria~Ib33b5688153f07e696a39b26510b22fe128597ea,openstack/heat,stable/victoria,standardize-tempest-tox-constraints,Ib33b5688153f07e696a39b26510b22fe128597ea,Configure the Tempest venv upper constraints properly,ABANDONED,2021-04-05 22:09:26.000000000,2021-04-07 22:14:28.000000000,,13,0,0,784861,17dbd0c58e957209f827d626a29a755a206278b6,4,2,1,1,8556,Ghanshyam,ghanshyam,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

If heat integration test script does not use the master constraints
for Tempest (when any stable branch goes to Extended Maintenance state)
then we need to use the same constraints while running the tests too
otherwise, it will end up recreating the Tempest venv and remove the
already installed tempest plugins and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: Ib33b5688153f07e696a39b26510b22fe128597ea
(cherry picked from commit f998de45d3a9fb7049aa4043771c00923f4196d8)
(cherry picked from commit eb09064beb43b060cb3eef640fef3ce253259ca0)
"
openstack%2Fheat~stable%2Fussuri~Ib33b5688153f07e696a39b26510b22fe128597ea,openstack/heat,stable/ussuri,standardize-tempest-tox-constraints,Ib33b5688153f07e696a39b26510b22fe128597ea,Configure the Tempest venv upper constraints properly,ABANDONED,2021-04-05 22:10:16.000000000,2021-04-07 22:14:22.000000000,,13,0,0,784862,10fbc984d3e037d83a88097cdc1c66ad788ae9da,6,2,1,1,8556,Ghanshyam,ghanshyam,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

If heat integration test script does not use the master constraints
for Tempest (when any stable branch goes to Extended Maintenance state)
then we need to use the same constraints while running the tests too
otherwise, it will end up recreating the Tempest venv and remove the
already installed tempest plugins and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: Ib33b5688153f07e696a39b26510b22fe128597ea
(cherry picked from commit f998de45d3a9fb7049aa4043771c00923f4196d8)
(cherry picked from commit eb09064beb43b060cb3eef640fef3ce253259ca0)
(cherry picked from commit 17dbd0c58e957209f827d626a29a755a206278b6)
"
openstack%2Fheat~stable%2Fwallaby~Ib33b5688153f07e696a39b26510b22fe128597ea,openstack/heat,stable/wallaby,standardize-tempest-tox-constraints-stable/wallaby,Ib33b5688153f07e696a39b26510b22fe128597ea,Configure the Tempest venv upper constraints properly,ABANDONED,2021-04-06 20:45:16.000000000,2021-04-07 22:14:13.000000000,,13,0,0,784983,df913c8d79cfcc97701119468519bd997deafa3f,4,1,1,1,8556,Ghanshyam,ghanshyam,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

If heat integration test script does not use the master constraints
for Tempest (when any stable branch goes to Extended Maintenance state)
then we need to use the same constraints while running the tests too
otherwise, it will end up recreating the Tempest venv and remove the
already installed tempest plugins and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: Ib33b5688153f07e696a39b26510b22fe128597ea
"
openstack%2Fheat~master~Ib33b5688153f07e696a39b26510b22fe128597ea,openstack/heat,master,standardize-tempest-tox-constraints,Ib33b5688153f07e696a39b26510b22fe128597ea,Configure the Tempest venv upper constraints properly,ABANDONED,2021-04-05 21:58:29.000000000,2021-04-07 22:14:03.000000000,,13,0,0,784834,41ac524054f53e582de2857aecf5f71ce637d79d,13,2,3,1,8556,Ghanshyam,ghanshyam,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

If heat integration test script does not use the master constraints
for Tempest (when any stable branch goes to Extended Maintenance state)
then we need to use the same constraints while running the tests too
otherwise, it will end up recreating the Tempest venv and remove the
already installed tempest plugins and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: Ib33b5688153f07e696a39b26510b22fe128597ea
"
openstack%2Fmonasca-api~stable%2Fwallaby~I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,openstack/monasca-api,stable/wallaby,cap-pip-23-0-stable/wallaby,I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,Workaround for new pip 20.3 behavior,MERGED,2021-04-07 15:06:07.000000000,2021-04-07 21:59:37.000000000,2021-04-07 21:58:00.000000000,6,1,0,785201,6f534485102700f7a942662a6738ccdd7aa640d5,11,2,1,1,28062,Martin Chacon Piza,martinchacon,"Workaround for new pip 20.3 behavior

This WA set specific pip version to avoid the issue:
""ERROR: Links are not allowed as constraints"" [1]
A proper fix would be to adapt to new pip behavior.
Similar issue on Devstack [2][3]

[1] https://github.com/pypa/pip/issues/8210
[2] https://bugs.launchpad.net/devstack/+bug/1906322
[3] https://review.opendev.org/c/openstack/devstack/+/764803

Change-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a
(cherry picked from commit a93e1cc9798473dcaac748719da8ab5f0648ebc0)
"
openstack%2Fswift~master~I6b46deb733bb5a6a5248b2dd4ffa679e35e2eb8c,openstack/swift,master,multi-increase,I6b46deb733bb5a6a5248b2dd4ffa679e35e2eb8c,WIP: relinker: Allow increasing part power by more than one,NEW,2021-03-19 03:18:17.000000000,2021-04-07 21:59:11.000000000,,57,17,4,781591,7e15c58035f8f13d1f53d7d776299037e60a074a,8,1,3,4,15343,Tim Burke,tburke,"WIP: relinker: Allow increasing part power by more than one

Needs a boatload of tests, but it let me do it in dev.

Change-Id: I6b46deb733bb5a6a5248b2dd4ffa679e35e2eb8c
"
openstack%2Fcinder-tempest-plugin~master~I7745eecd309b0c7770e8ed2760ea8cbfd1973be5,openstack/cinder-tempest-plugin,master,,I7745eecd309b0c7770e8ed2760ea8cbfd1973be5,WIP: Test workaround for lio-barbican failures,ABANDONED,2020-07-14 20:06:10.000000000,2021-04-07 21:49:57.000000000,,2,0,0,741042,5168bef7fcf5225e5a2147563f8ec4066fd9ca7c,15,4,2,1,4523,Eric Harney,eharney,"WIP: Test workaround for lio-barbican failures

Looking at lio-barbican nova compute failures from
https://zuul.opendev.org/t/openstack/build/7dd25795e57d415c9921f780662d9a68/logs

on https://review.opendev.org/#/c/733620/8

http://paste.openstack.org/raw/795923/

Change-Id: I7745eecd309b0c7770e8ed2760ea8cbfd1973be5
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I89daa0d195390a672bdb9e4cb416a04a5a88c0bb,openstack/tripleo-heat-templates,stable/victoria,victoria,I89daa0d195390a672bdb9e4cb416a04a5a88c0bb,Switch Octavia external tasks to 'post deploy',MERGED,2021-02-01 14:12:56.000000000,2021-04-07 21:48:21.000000000,2021-04-07 21:48:21.000000000,1,2,0,773400,178018d905d7608696191c78cb02792a7bc91344,31,5,2,1,6681,Brent Eagles,beagles,"Switch Octavia external tasks to 'post deploy'

Octavia needs certain core components to be fully functional and this
isn't the case for some configurations until *after* step 5.

Related-bug: #1914059
Change-Id: I89daa0d195390a672bdb9e4cb416a04a5a88c0bb
(cherry picked from commit 29a5bf31ae0366b944dcc6cc1ea3aaf8881e44c9)
"
openstack%2Fopenstack-ansible~master~Idb5b9f396c766ce485efed97175e0f05596c82e0,openstack/openstack-ansible,master,,Idb5b9f396c766ce485efed97175e0f05596c82e0,Add trove instance key into secrets,MERGED,2021-04-02 12:42:05.000000000,2021-04-07 21:10:16.000000000,2021-04-07 21:08:08.000000000,1,0,0,784565,6fce27427567f4afcaabf1a0ec71cd63d2f48ba2,14,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add trove instance key into secrets

Change-Id: Idb5b9f396c766ce485efed97175e0f05596c82e0
"
openstack%2Fpuppet-ceilometer~master~I0737680bf01ea8c8c8a651ddc6b98b87f2f30b27,openstack/puppet-ceilometer,master,,I0737680bf01ea8c8c8a651ddc6b98b87f2f30b27,"[WIP] Revert ""Merge ""Use consistent names for service_credentials options""""",ABANDONED,2021-04-05 19:13:07.000000000,2021-04-07 20:44:45.000000000,,38,191,0,784817,3828a60a2fefeb70e25dd43b843dc7d3e45dfaed,3,1,1,5,31510,Paul Leimer,pleimer,"[WIP] Revert ""Merge ""Use consistent names for service_credentials options""""

Testing to see if this solves a CI issue

This reverts commit 458d0ad9ccff75f9788b4fdab1fb83efa61961c8, reversing
changes made to 181441f58314ed759f2fffad50119ffb4be03015.

Change-Id: I0737680bf01ea8c8c8a651ddc6b98b87f2f30b27
"
openstack%2Ftripleo-heat-templates~master~I0c640165d4cd728b19525ebf6b5ea05f892a03c6,openstack/tripleo-heat-templates,master,testing-commit,I0c640165d4cd728b19525ebf6b5ea05f892a03c6,[WIP] Empty commit for testing CI,ABANDONED,2021-04-05 19:20:49.000000000,2021-04-07 20:44:36.000000000,,4,3,0,784818,90db9cacc6891b5282ea3d7227b9c249f0c90cfc,11,2,4,3,31510,Paul Leimer,pleimer,"[WIP] Empty commit for testing CI

Depends-on: https://review.opendev.org/784955
Depends-on: https://review.opendev.org/784971

Change-Id: I0c640165d4cd728b19525ebf6b5ea05f892a03c6
"
openstack%2Fopenstack-helm~master~If645ddeb180b690a804a99bc6743d394a920589b,openstack/openstack-helm,master,add-shaker,If645ddeb180b690a804a99bc6743d394a920589b,Move shaker chart from osh-addons,ABANDONED,2021-03-30 02:21:00.000000000,2021-04-07 19:57:45.000000000,,674,0,0,783774,68c9d782f51bf2c7d8088b5ef7af8314ac8aace1,5,2,1,13,21420,Gage Hugo,ghugo,"Move shaker chart from osh-addons

This change moves the shaker chart from the osh-addons repo
to this one.

Change-Id: If645ddeb180b690a804a99bc6743d394a920589b
"
openstack%2Fsenlin~master~Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253,openstack/senlin,master,senlin/lbaas-name,Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253,add senlin cluster_name for lb/pool/listener name for creation,MERGED,2021-03-30 17:03:42.000000000,2021-04-07 19:37:27.000000000,2021-04-07 19:35:57.000000000,73,26,31,783912,7404f76ae3c741390f076b0dd421375dd38c3d96,53,4,21,5,28752,Satish Patel,spatel,"add senlin cluster_name for lb/pool/listener name for creation

We are passing senlin cluster_name to lb/pool/listener for name,
That way we have proper name relationship between all 3 components.
specially for troubleshooting when we have many loadbalancers.

Example:
$ openstack cluster list -c name -c status
+-----------+--------+
| name      | status |
+-----------+--------+
| mycluster | ACTIVE |
+-----------+--------+
$ openstack loadbalancer list -c name -c vip_address
+---------------------+-------------+
| name                | vip_address |
+---------------------+-------------+
| senlin-lb-mycluster | 10.69.1.173 |
+---------------------+-------------+
$ openstack loadbalancer pool list -c name -c provisioning_status
+-----------------------+---------------------+
| name                  | provisioning_status |
+-----------------------+---------------------+
| senlin-pool-mycluster | ACTIVE              |
+-----------------------+---------------------+


Change-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253
"
openstack%2Foctavia~master~I29fee922eb112de08dd4f9f450942d3694b80cad,openstack/octavia,master,secure-rbac,I29fee922eb112de08dd4f9f450942d3694b80cad,Add common system and project policy check strings to constants,ABANDONED,2020-11-19 22:23:56.000000000,2021-04-07 19:29:09.000000000,,12,0,0,763478,bdb6c63fc097a1590d8726596eed8bcd08d71160,22,5,3,1,5046,Lance Bragstad,ldbragst,"Add common system and project policy check strings to constants

These are common policy check strings that we're going to use to
implement a few basic personas across OpenStack APIs. This is going to
help move OpenStack towards a more secure and consistent authorization
experience.

Change-Id: I29fee922eb112de08dd4f9f450942d3694b80cad
"
openstack%2Fansible-collections-openstack~master~Ic68fe6fd43aae12f944ad17f747f6bf37bf4d324,openstack/ansible-collections-openstack,master,ee_req,Ic68fe6fd43aae12f944ad17f747f6bf37bf4d324,Add execution environment metadata,MERGED,2020-09-10 12:20:19.000000000,2021-04-07 19:26:45.000000000,2021-04-07 19:26:45.000000000,1,0,4,750972,da01746e53c86be6b728dc14431e1793a36a5bbb,23,7,4,1,31679,Alan,AlanCoding,"Add execution environment metadata

Change-Id: Ic68fe6fd43aae12f944ad17f747f6bf37bf4d324
"
openstack%2Fmagnum~master~I38b8df45a00f1a2a1604059b8329d1dd762e05cd,openstack/magnum,master,hyperkube-prefix,I38b8df45a00f1a2a1604059b8329d1dd762e05cd,Support hyperkube_prefix label,MERGED,2020-09-16 14:49:25.000000000,2021-04-07 19:13:27.000000000,2021-04-07 19:09:49.000000000,77,16,6,752254,fc1f27a569b068c2e889f86073c10a994c607bf1,45,5,9,17,28022,Bharat Kunwar,brtknr,"Support hyperkube_prefix label

Additionally for k8s_fedora_coreos_v1 driver:
* Introduce hyperkube_prefix which defaults to k8s.gcr.io/
* Bump default kube_tag to v1.18.16

Story: 1668998
Task: 41791

Change-Id: I38b8df45a00f1a2a1604059b8329d1dd762e05cd
"
openstack%2Fnova~stable%2Ftrain~Ie653e5ec69d16ae469f1f8171fee85aea754edff,openstack/nova,stable/train,bug/1837995,Ie653e5ec69d16ae469f1f8171fee85aea754edff,Dynamically archive FK related records in archive_deleted_rows,NEW,2021-04-06 23:10:05.000000000,2021-04-07 19:02:25.000000000,,164,89,3,785075,0743eb227cf6114f00ba2be94dabff6e24ca1f24,9,2,2,3,4690,melanie witt,melwitt,"Dynamically archive FK related records in archive_deleted_rows

Currently, it is possible to ""partially archive"" the database by
running 'nova-manage db archive_deleted_rows' with --max_rows or by
interrupting the archive process in any way. When this happens, it is
possible to have archived a record with a foreign key relationship to a
parent record (example: 'instance_extra' table record is archived while
the 'instances' table record remains).

When an instance's records become ""split"" in this way, any API request
that can (1) access the deleted instance and (2) tries to access data
that should be in a child table (example: the embedded flavor for an
instance) will fail with an OrphanedObjectError and HTTP 500 to the
user. Examples of APIs that are affected by this are the tenant usage
APIs and listing of deleted instances as admin.

In the tenant usage example, the API looks at deleted instances to
calculate usage over a time period. It pulls deleted and non-deleted
instances and does instance.get_flavor() to calculate their usage. The
flavor data is expected to be present because
expecteds_attrs=['flavor'] is used to do a join with the
'instance_extra' table and populate the instance object's flavor data.
When get_flavor() is called, it tries to access the instance.flavor
attribute (which hasn't been populated because the 'instance_extra'
record is gone). That triggers a lazy-load of the flavor which loads
the instance from the database again with expected_attrs=['flavor']
again which doesn't populate instance.flavor (again) because the
'instance_extra' record is gone. Then the Instance._load_flavor code
intentionally orphans the instance record to avoid triggering
lazy-loads while it attempts to populate instance.flavor,
instance.new_flavor, and instance.old_flavor. Finally, another
lazy-load is triggered (because instance.flavor is still not populated)
and fails with OrphanedObjectError.

One way to solve this problem is to make it impossible for
archive_deleted_records to orphan records that are related by foreign
key relationships. The approach is to process parent tables first
(opposite of today where we process child tables first) and find all of
the tables that refer to it by foreign keys, create and collect
insert/delete statements for those child records, and then put them all
together in a single database transaction to archive all related
records ""atomically"". The idea is that if anything were to interrupt
the transaction (errors or other) it would roll back and keep all the
related records together. Either all or archived or none are archived.

This changes the logic of the per table archive to discover tables that
refer to the table by foreign keys and generates insert/delete query
statements to execute in the same database transaction as the table
archive itself. The extra records archived along with the table are
added to the rows_archived result. The existing code for ""archiving
records if instance is deleted"" also has to be removed along with this
because the new logic does the same thing dynamically and makes it
obsolete. Finally, some assertions in the unit tests need to be changed
or removed because they were assuming certain types of archiving
failures due to foreign key constraint violations that can no longer
occur with the new dynamic logic for archiving child records.

Closes-Bug: #1837995

Change-Id: Ie653e5ec69d16ae469f1f8171fee85aea754edff
(cherry picked from commit becb94ae643ab4863daa564783646921b4a2b372)
(cherry picked from commit 7b4f4796478941eafa9c0997f7ef03293c442d94)
(cherry picked from commit 8a858eca55544f25427c3762f14523b1507261ee)
"
openstack%2Fkolla~stable%2Ftrain~Ica59f7407a8d73b6a194f09f44754b44d28af654,openstack/kolla,stable/train,,Ica59f7407a8d73b6a194f09f44754b44d28af654,Bump OpenStack versions for Train,MERGED,2021-04-07 15:19:35.000000000,2021-04-07 18:57:44.000000000,2021-04-07 18:56:19.000000000,32,32,0,785222,3251922dd517d114cf0a9e9a4a9fbac8d1bdb9fd,9,3,1,1,14826,Mark Goddard,mgoddard,"Bump OpenStack versions for Train

Change-Id: Ica59f7407a8d73b6a194f09f44754b44d28af654
"
openstack%2Fhorizon~master~Idd4635a3ab337959d9b0ad4382eaf7274624ca8b,openstack/horizon,master,fix-policy-docs,Idd4635a3ab337959d9b0ad4382eaf7274624ca8b,Fix minor points in the policy doc,MERGED,2021-04-01 04:09:44.000000000,2021-04-07 18:54:11.000000000,2021-04-07 18:51:08.000000000,2,2,0,784193,e0d348c643030c2e429eb2c710dfe2f6d08061d5,9,4,1,1,841,Akihiro Motoki,amotoki,"Fix minor points in the policy doc

Change-Id: Idd4635a3ab337959d9b0ad4382eaf7274624ca8b
"
openstack%2Fdevstack~stable%2Fwallaby~I0af39a389539b0183d5b260e1fd34eb03e2b06d8,openstack/devstack,stable/wallaby,qa-wallaby-release,I0af39a389539b0183d5b260e1fd34eb03e2b06d8,"Cap stable/wallaby network, swift, volume api_extensions for tempest",MERGED,2021-04-06 16:24:43.000000000,2021-04-07 18:46:22.000000000,2021-04-07 18:40:40.000000000,36,3,0,785013,a10ae7c931678dba7e5221c3235c50d962a55007,8,3,1,1,8556,Ghanshyam,ghanshyam,"Cap stable/wallaby network, swift, volume api_extensions for tempest

This commit cap the network, volume and swift extensions on
Tempest's config option api_extensions.

Change-Id: I0af39a389539b0183d5b260e1fd34eb03e2b06d8
"
openstack%2Fgrenade~master~I31b218ec4b50b0419aede4cfffdbd7e669d1ac52,openstack/grenade,master,qa-wallaby-release,I31b218ec4b50b0419aede4cfffdbd7e669d1ac52,Update the master grenade setting for wallaby to master upgrade,MERGED,2021-04-06 15:56:38.000000000,2021-04-07 18:45:22.000000000,2021-04-07 18:40:13.000000000,1,1,0,785006,106a5a2af24154fe6e05a0e241891c3b1dce5403,8,3,1,1,8556,Ghanshyam,ghanshyam,"Update the master grenade setting for wallaby to master upgrade

Change-Id: I31b218ec4b50b0419aede4cfffdbd7e669d1ac52
"
openstack%2Fgrenade~stable%2Fwallaby~I19d866e00fdc71d9bb44c7e281b5d6725b0dd5ff,openstack/grenade,stable/wallaby,qa-wallaby-release,I19d866e00fdc71d9bb44c7e281b5d6725b0dd5ff,Update grenade setting in stable/wallaby,MERGED,2021-04-06 15:59:36.000000000,2021-04-07 18:45:21.000000000,2021-04-07 18:40:10.000000000,4,2,0,785007,a0aa64090b3e47bd10782d4b38340965e2354431,8,3,1,2,8556,Ghanshyam,ghanshyam,"Update grenade setting in stable/wallaby

Along with updating the grenade setting for
stable/wallaby, adding the forward upgrade job as experimental.

Change-Id: I19d866e00fdc71d9bb44c7e281b5d6725b0dd5ff
"
openstack%2Fdevstack~stable%2Fwallaby~I62720c959947f813f51f5c8b73ec727672c414dd,openstack/devstack,stable/wallaby,qa-wallaby-release,I62720c959947f813f51f5c8b73ec727672c414dd,Update devstack branches for stable/wallaby,MERGED,2021-04-06 15:33:26.000000000,2021-04-07 18:45:20.000000000,2021-04-07 18:40:07.000000000,1,13,0,784974,32379bab32f05a6419fa0daf9133e812f153d347,10,3,1,2,8556,Ghanshyam,ghanshyam,"Update devstack branches for stable/wallaby

Change-Id: I62720c959947f813f51f5c8b73ec727672c414dd
"
openstack%2Ftripleo-ansible~master~Ib0de0a516504d542a0f01ee40129e139a5709c33,openstack/tripleo-ansible,master,warning-fix2,Ib0de0a516504d542a0f01ee40129e139a5709c33,Fix systemd warnings around executable and world-inaccessible bits,MERGED,2021-04-02 16:47:14.000000000,2021-04-07 18:41:01.000000000,2021-04-07 18:41:01.000000000,4,4,0,784602,b7891538819939b1be24394b9b24fe7edd08791f,19,6,1,1,20172,Michele Baldessari,michele,"Fix systemd warnings around executable and world-inaccessible bits

Right now we get the following warnings in the journal:
Apr 02 10:47:48 controller-1.localdomain systemd[1]: Configuration file /usr/lib/systemd/system/tripleo-container-shutdown.service is marked executable. Please remove executable permission bits. Proceeding anyway.
Apr 02 10:47:48 controller-1.localdomain systemd[1]: Configuration file /usr/lib/systemd/system/tripleo-container-shutdown.service is marked world-inaccessible. This has no effect as configuration data is accessible via APIs without restrictions. Proceeding anyway.
Apr 02 10:47:48 controller-1.localdomain systemd[1]: Configuration file /usr/lib/systemd/system/netns-placeholder.service is marked executable. Please remove executable permission bits. Proceeding anyway.
Apr 02 10:47:48 controller-1.localdomain systemd[1]: Configuration file /usr/lib/systemd/system/netns-placeholder.service is marked world-inaccessible. This has no effect as configuration data is accessible via APIs without restrictions. Proceeding anyway.

Let's make the two services 0644 so that these warnings go away.
While we're at it we make 0644 also the preset files as ours are
the only ones with a non 0644 permission:
[root@ctrl-1-0 system-preset]# ls -l /usr/lib/systemd/system-preset/
total 28
-rw-r--r--. 1 root root  264 Oct 29 20:09 85-display-manager.preset
-rw-r--r--. 1 root root 3982 Oct 29 20:09 90-default.preset
-rw-r--r--. 1 root root  951 Jun 22  2018 90-systemd.preset
-rwx------. 1 root root   33 Mar 30 07:50 91-netns-placeholder.preset
-rwx------. 1 root root   42 Mar 30 07:50 91-tripleo-container-shutdown.preset
-rw-r--r--. 1 root root   10 Oct 29 20:09 99-default-disable.preset
-rw-r--r--. 1 root root   30 Jan 11 10:17 fwupd-refresh.preset

Change-Id: Ib0de0a516504d542a0f01ee40129e139a5709c33
"
openstack%2Fdevstack~stable%2Fwallaby~Id3fa99493c398bdd588f9fbdc2432d6a07ca6601,openstack/devstack,stable/wallaby,qa-wallaby-release,Id3fa99493c398bdd588f9fbdc2432d6a07ca6601,Cap max microversions for stable/wallaby,MERGED,2021-04-06 15:40:54.000000000,2021-04-07 18:40:23.000000000,2021-04-07 18:40:23.000000000,3,3,3,784998,ee69e4fd9f24a0009e366c9ddc21e84c4ca68431,9,3,1,1,8556,Ghanshyam,ghanshyam,"Cap max microversions for stable/wallaby

This commit cap the max microversions for compute,
volume, and placement API for stable/wallaby.

Change-Id: Id3fa99493c398bdd588f9fbdc2432d6a07ca6601
"
openstack%2Fcinder-tempest-plugin~master~I0e01defa4195007b6b3dda5b80571f042e273eae,openstack/cinder-tempest-plugin,master,652771,I0e01defa4195007b6b3dda5b80571f042e273eae,Add test for check dependencies between incr backups,NEW,2019-04-15 20:01:43.000000000,2021-04-07 18:21:35.000000000,,91,0,6,652771,db7e28a4d18c4a1e564ac25ff9650c464c8e0b5b,48,7,14,1,20813,Sofia Enriquez,enriquetaso,"Add test for check dependencies between incr backups

One of the main problems we had was creating multiple
incremental for differents full backups.

Steps:
1. create a volume
2. create a first full backup
3. create 2 incremental backups from the first full backup
4. create a second full backup
5. create an incremental backup from the second full backup
6. delete the last incremental, the second backup and the
last incremental for the first backup
7. Check that you can’t delete the first full backup

Change-Id: I0e01defa4195007b6b3dda5b80571f042e273eae
"
openstack%2Fironic~stable%2Fwallaby~Ia7093a3ed48e19197f74da9e1c49416a974a76be,openstack/ironic,stable/wallaby,update-python-dracclient-version-stable/wallaby,Ia7093a3ed48e19197f74da9e1c49416a974a76be,Update python-dracclient version,MERGED,2021-04-07 13:54:51.000000000,2021-04-07 18:12:48.000000000,2021-04-07 18:10:58.000000000,1,1,0,785196,d6bb66dea77781b841974f603bcf2ad1286150b1,9,3,1,1,11655,Julia Kreger,jkreger,"Update python-dracclient version

Update python-dracclient version to indicate Wallaby compatibility with
6.*.* releases.

Version 6.0.0 is available from PyPI [1].

[1] https://pypi.org/project/python-dracclient/6.0.0/

Change-Id: Ia7093a3ed48e19197f74da9e1c49416a974a76be
(cherry picked from commit 90d21edbfd8e2251d6496b9bafd4c75e968b18a7)
"
openstack%2Fironic-tempest-plugin~master~Ib54fa2e79800bb56ff14699e8ce4fbc460615670,openstack/ironic-tempest-plugin,master,uefi-hhtps,Ib54fa2e79800bb56ff14699e8ce4fbc460615670,Test case for uefi-https-boot in standalone ironic,MERGED,2020-10-13 06:29:06.000000000,2021-04-07 18:12:33.000000000,2021-04-07 18:10:33.000000000,17,0,0,757696,8a1b5eb50c7678f2547bc38911e57d6db7e0dd58,31,3,1,1,19604,ankit,ankit,"Test case for uefi-https-boot in standalone ironic

This commit adds test case to support UEFI-HTTPS
boot using ilo5 driver with standalone ironic.

Change-Id: Ib54fa2e79800bb56ff14699e8ce4fbc460615670
"
openstack%2Fcinder-tempest-plugin~master~Ia8e634717eb11791048b15769a011530594dd211,openstack/cinder-tempest-plugin,master,bp/sizing-encrypted-volumes,Ia8e634717eb11791048b15769a011530594dd211,Volume retype with migrations and encryption tests,NEW,2020-03-27 22:01:21.000000000,2021-04-07 18:01:04.000000000,,114,0,31,715566,579bfea32e057b35d17a4da3f92bf972ac34a418,61,6,18,1,20813,Sofia Enriquez,enriquetaso,"Volume retype with migrations and encryption tests

- First scenario: retype unencrypted volume to LUKS type.
- Second scenario: retype encrypted LUKS volume to regular type.

Depends-On: https://review.opendev.org/c/openstack/cinder/+/779114
Depends-On: https://review.opendev.org/c/openstack/python-cinderclient/+/779110
Partial-Bug: #1687880
Implements: blueprint sizing-encrypted-volumes
Change-Id: Ia8e634717eb11791048b15769a011530594dd211
"
openstack%2Fdesignate~master~Ia61939d31b0a07ad70c69535fedfbc3a42bc7fbd,openstack/designate,master,zanata/translations,Ia61939d31b0a07ad70c69535fedfbc3a42bc7fbd,Imported Translations from Zanata,MERGED,2021-03-22 06:09:41.000000000,2021-04-07 17:46:30.000000000,2021-04-07 17:45:01.000000000,61,4,0,782014,518e8a74c6d3809914ab19241d7062815ae69623,21,4,2,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia61939d31b0a07ad70c69535fedfbc3a42bc7fbd
"
openstack%2Fheat~stable%2Ftrain~Icc90a921ec67e49aec2c4acfad72235c57c78421,openstack/heat,stable/train,,Icc90a921ec67e49aec2c4acfad72235c57c78421,Don't update status for replaced resource,MERGED,2021-04-04 08:11:55.000000000,2021-04-07 17:18:28.000000000,2021-04-07 17:16:45.000000000,2,12,0,784583,ba2ed09ba167fa9b5bd49fb931e77a878cfb7bdb,11,3,2,4,8833,Rabi Mishra,rabi,"Don't update status for replaced resource

With I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed
update of previously-existing resource if replacement
creation has failed during last update. However, we force
update the status of the existing resource to 'COMPLETE'.
Therefore, in the next update if properties/type has not
changed for the resource it won't try to update/replace
the previously existing resource resulting in false positive
of stack updated successfully.

Task: 42194
Change-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421
(cherry picked from commit bfbaab107d709c37548a22239b952c6221b9ac85)
"
openstack%2Fmonasca-api~stable%2Fvictoria~I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,openstack/monasca-api,stable/victoria,cap-pip-23-0-stable/victoria,I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,Workaround for new pip 20.3 behavior,MERGED,2021-04-07 15:06:39.000000000,2021-04-07 17:17:53.000000000,2021-04-07 17:16:03.000000000,6,1,0,785202,0ace669f3ac621f8fdd5e0d4acce4453881a6bba,7,2,1,1,28062,Martin Chacon Piza,martinchacon,"Workaround for new pip 20.3 behavior

This WA set specific pip version to avoid the issue:
""ERROR: Links are not allowed as constraints"" [1]
A proper fix would be to adapt to new pip behavior.
Similar issue on Devstack [2][3]

[1] https://github.com/pypa/pip/issues/8210
[2] https://bugs.launchpad.net/devstack/+bug/1906322
[3] https://review.opendev.org/c/openstack/devstack/+/764803

Change-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a
(cherry picked from commit a93e1cc9798473dcaac748719da8ab5f0648ebc0)
"
openstack%2Fkolla-ansible~master~I551f93c9bf1ad6712b53c316074ae1df84e4352b,openstack/kolla-ansible,master,,I551f93c9bf1ad6712b53c316074ae1df84e4352b,masakari: fix minor issues with instance monitor,MERGED,2021-03-26 11:04:14.000000000,2021-04-07 17:15:35.000000000,2021-04-07 17:13:15.000000000,38,19,0,783256,0b0dd35837a22cad8313dd8df6806dc316919a2f,14,3,2,4,14826,Mark Goddard,mgoddard,"masakari: fix minor issues with instance monitor

* Don't generate masakari.conf for instance monitor
* Don't generate masakari-monitors.conf for API or engine
* Use a consistent name for dimensions -
  masakari_instancemonitor_dimensions
* Fix source code paths in dev mode

Change-Id: I551f93c9bf1ad6712b53c316074ae1df84e4352b
"
openstack%2Fswift~master~I68f52f28edf9bdb9c534983cf353b72ecfaac426,openstack/swift,master,no-context,I68f52f28edf9bdb9c534983cf353b72ecfaac426,sharder: Prevent ValueError when no cleaving contexts,MERGED,2021-04-05 19:10:52.000000000,2021-04-07 17:15:04.000000000,2021-04-07 13:54:59.000000000,35,8,2,784816,e53c82cd32e99513dba00a28c29953cadcc9bd87,17,4,3,2,15343,Tim Burke,tburke,"sharder: Prevent ValueError when no cleaving contexts

Otherwise, we trip an error in logs:

   ValueError: max() arg is an empty sequence

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Change-Id: I68f52f28edf9bdb9c534983cf353b72ecfaac426
"
openstack%2Ftripleo-common~stable%2Ftrain~I1e94668978fbf1dc928b6af50a404e6c687707da,openstack/tripleo-common,stable/train,cinder-edge-stable/victoria-stable/ussuri-stable/train,I1e94668978fbf1dc928b6af50a404e6c687707da,container-images: fix Cinder when running at Edge,MERGED,2021-04-06 16:25:33.000000000,2021-04-07 17:12:05.000000000,2021-04-07 17:09:56.000000000,2,0,0,784982,818695e10595ffb6ede2ce854b00a0f985bf1a01,8,4,1,1,18002,John Fulton,fultonj,"container-images: fix Cinder when running at Edge

When Cinder Volume is running at the Edge, we need to support the
OS::TripleO::Services::CinderVolumeEdge service; as well as the
ContainerCinderConfigImage parameter for the Cinder Volume, since it
only used to be added for Cinder API but Cinder API is disabled at the
Edge.

Closes-Bug: #1920704
Signed-off-by: Emilien Macchi <emilien@redhat.com>
Change-Id: I1e94668978fbf1dc928b6af50a404e6c687707da
(cherry picked from commit 8dc6dfe488439b26db5eec1ae63ef77322bc3787)
"
openstack%2Ftripleo-common~stable%2Fussuri~I1e94668978fbf1dc928b6af50a404e6c687707da,openstack/tripleo-common,stable/ussuri,cinder-edge-stable/victoria-stable/ussuri,I1e94668978fbf1dc928b6af50a404e6c687707da,container-images: fix Cinder when running at Edge,MERGED,2021-04-05 18:17:40.000000000,2021-04-07 17:11:38.000000000,2021-04-07 17:10:00.000000000,2,0,0,784594,e4e0609afbc9d1ff070196bdc777ac5fa84c73ec,15,5,1,1,18002,John Fulton,fultonj,"container-images: fix Cinder when running at Edge

When Cinder Volume is running at the Edge, we need to support the
OS::TripleO::Services::CinderVolumeEdge service; as well as the
ContainerCinderConfigImage parameter for the Cinder Volume, since it
only used to be added for Cinder API but Cinder API is disabled at the
Edge.

Closes-Bug: #1920704
Signed-off-by: Emilien Macchi <emilien@redhat.com>
Change-Id: I1e94668978fbf1dc928b6af50a404e6c687707da
(cherry picked from commit 8dc6dfe488439b26db5eec1ae63ef77322bc3787)
"
openstack%2Ftripleo-common~master~I64776992a7e457781aa8ddaba359ef085d4cb77d,openstack/tripleo-common,master,drop-lsof,I64776992a7e457781aa8ddaba359ef085d4cb77d,healthcheck_port: drop lsof in favor of awk/find,MERGED,2021-04-06 15:50:13.000000000,2021-04-07 17:11:27.000000000,2021-04-07 17:10:04.000000000,29,11,19,785004,a072a7f07ea75933a2372b1a95ae960095a3250e,27,6,5,1,28223,Cedric Jeanneret,cjeanner,"healthcheck_port: drop lsof in favor of awk/find

It seems lsof is a bit too heavy on the system when multiple
healthchecks are running in parallel.
So instead of calling a ""big"" process, let's split a bit things and get
to the filesystem directly in order to pick only the things we actually
need.

What changes:
- using /proc/net/{tcp,udp}, we get every socket matching the port
- using find with the right options, we can ensure at least one socket
  exists with the wanted inode(s)

The last part exits as soon as we have a match in order to make it
faster and less resource consuming.

Change-Id: I64776992a7e457781aa8ddaba359ef085d4cb77d
Partial-Bug: #1921714
"
openstack%2Fmonasca-api~stable%2Fussuri~I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,openstack/monasca-api,stable/ussuri,cap-pip-23-0-stable/ussuri,I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,Workaround for new pip 20.3 behavior,MERGED,2021-04-07 15:07:41.000000000,2021-04-07 17:02:47.000000000,2021-04-07 17:00:44.000000000,6,1,0,785203,36f18ae01d65eb369d8169825aef35aad0d3d037,7,2,1,1,28062,Martin Chacon Piza,martinchacon,"Workaround for new pip 20.3 behavior

This WA set specific pip version to avoid the issue:
""ERROR: Links are not allowed as constraints"" [1]
A proper fix would be to adapt to new pip behavior.
Similar issue on Devstack [2][3]

[1] https://github.com/pypa/pip/issues/8210
[2] https://bugs.launchpad.net/devstack/+bug/1906322
[3] https://review.opendev.org/c/openstack/devstack/+/764803

Change-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a
(cherry picked from commit a93e1cc9798473dcaac748719da8ab5f0648ebc0)
"
openstack%2Fopenstack-helm-deployments~master~I66cf33acab58af036da72ae7d61f45527f68396b,openstack/openstack-helm-deployments,master,,I66cf33acab58af036da72ae7d61f45527f68396b,Update Gates,MERGED,2021-04-02 20:54:16.000000000,2021-04-07 16:55:25.000000000,2021-04-07 16:55:25.000000000,13,1,0,784615,4e31f53af791f9bf4407b60f1551a552b860d596,12,3,3,2,29585,Jeremy Houser,jh629g,"Update Gates

Minor push for following airshipctl changes:
https://review.opendev.org/c/airship/airshipctl/+/784436

Change-Id: I66cf33acab58af036da72ae7d61f45527f68396b
"
openstack%2Fbarbican-tempest-plugin~master~Ibca9d44fb3d0f4fd9945a7e6c636e0fbf6beb42e,openstack/barbican-tempest-plugin,master,secure-rbac,Ibca9d44fb3d0f4fd9945a7e6c636e0fbf6beb42e,Add secure-rbac tests for SecretStores API,MERGED,2021-04-01 22:05:55.000000000,2021-04-07 16:54:34.000000000,2021-04-07 16:54:34.000000000,268,2,2,784511,e654464aa504635ad1c47bba9007390f4e4c3dbc,9,5,1,5,7973,Douglas Mendizábal,dougmendizabal,"Add secure-rbac tests for SecretStores API

This patch adds basic RBAC test for the Secret Stores API for
the reader, member and admin personas with project scope.

The tests are skipped by a config option, as they require
the multiple-backends feature to be enabled in barbican.

The devstack instace we're using for gate tests does not have
this enabled, so we default to False for now.

Change-Id: Ibca9d44fb3d0f4fd9945a7e6c636e0fbf6beb42e
"
openstack%2Fmonasca-api~stable%2Fwallaby~Id39be07a38307a16400d243752c7309d69b374f6,openstack/monasca-api,stable/wallaby,enable-docker-jobs-wallaby,Id39be07a38307a16400d243752c7309d69b374f6,Re-enable Docker Zuul jobs,MERGED,2021-04-07 14:24:47.000000000,2021-04-07 16:46:26.000000000,2021-04-07 16:37:56.000000000,10,0,0,785182,eb5a359f4ee6385bf2d2676a1014a8662911d3b6,8,2,2,1,28062,Martin Chacon Piza,martinchacon,"Re-enable Docker Zuul jobs

Docker Zuul jobs were disabled previously because Wallaby u-c were
not yet ready.

Change-Id: Id39be07a38307a16400d243752c7309d69b374f6
"
openstack%2Fhorizon~stable%2Fwallaby~I991fb9750ab9e35b67b06154764487375dd11d73,openstack/horizon,stable/wallaby,,I991fb9750ab9e35b67b06154764487375dd11d73,Update cirros image to cirros-0.5.2-x86_64,MERGED,2021-04-07 12:56:18.000000000,2021-04-07 16:46:05.000000000,2021-04-07 16:40:28.000000000,3,3,0,785133,61ae2d2c697d3e64704641a6720c08ba5cfe5911,9,3,1,2,841,Akihiro Motoki,amotoki,"Update cirros image to cirros-0.5.2-x86_64

Due to this change I12e0bdb3699e5343592ab834468ba6b2fcdcaaf4
our integration job is failing. This patch update cirror image
version to fix our CI.

Change-Id: I991fb9750ab9e35b67b06154764487375dd11d73
(cherry picked from commit a42235f6f77521e153dd5ab5cbadf3c795020f72)
"
openstack%2Fdevstack-plugin-ceph~master~I2840c2d5f3d0f65e8f66ed9a803ea0f26d10f316,openstack/devstack-plugin-ceph,master,,I2840c2d5f3d0f65e8f66ed9a803ea0f26d10f316,Add ussuri to check queue as non-voting,ABANDONED,2021-03-30 14:25:15.000000000,2021-04-07 16:39:13.000000000,,2,0,0,783884,b4c727d01646a8e0a763f894a6088c51df68b480,8,3,2,1,4523,Eric Harney,eharney,"Add ussuri to check queue as non-voting

This gives us a test run against Ceph on
bionic nodes to help prevent regression against
older kernels (rbd map).

Related-Bug: #1921897
Change-Id: I2840c2d5f3d0f65e8f66ed9a803ea0f26d10f316
"
openstack%2Fkolla-ansible~master~I195e8e4b73ca8f573737355908eb30a3ef13b0d6,openstack/kolla-ansible,master,monasca_diet_v2,I195e8e4b73ca8f573737355908eb30a3ef13b0d6,Support bypassing Monasca Log API for control plane logs,MERGED,2021-02-17 15:48:28.000000000,2021-04-07 16:18:49.000000000,2021-03-24 19:03:19.000000000,45,8,11,776219,ca1a80ab2f6edbbac24d12342f1f2a58090a4130,23,3,5,7,17669,Doug Szumski,DougSzumski,"Support bypassing Monasca Log API for control plane logs

This change allows a user to forward control plane logs
directly to Elasticsearch from Fluentd, rather than via
the Monasca Log API when Monasca is enabled. The Monasca
Log API can continue to handle tenant logs.

For many use cases this is simpler, reduces resource
consumption and helps to decouple control plane logging
services from tenant logging services.

It may not always be desired, so is optional and off by
default.

Change-Id: I195e8e4b73ca8f573737355908eb30a3ef13b0d6
"
openstack%2Fkeystone~master~Ic80e7f8b80503b2ffa8fad38b483f01000b6ac2e,openstack/keystone,master,,Ic80e7f8b80503b2ffa8fad38b483f01000b6ac2e,Adds support for creating projects by ID and extends mapping engine. (second try),NEW,2021-04-02 10:04:06.000000000,2021-04-07 16:15:18.000000000,,237,46,0,784553,ec0a613d6b0053708bedb9cbec8a7d3462ea7f21,6,1,2,4,33315,pregusia,pregusia,"Adds support for creating projects by ID and extends mapping engine.
(second try)

Currently mapping engine can map multiple projects for user (as stated in https://docs.openstack.org/keystone/pike/advanced-topics/federation/mapping_combinations.html), but this support
lacks from (a) dynamic mapping projects from assertion (for ex. projects ids are in assertion) and (b) mapping engine cannot map to list from assertion (if in asertion we have
""some_field"": [ id1, id2, ..., idN ] - then using this field by substitution - eg ""{1}"" wont map this to whole needed structure of projects in mapping).

In patch I extend mapping schema by adding new field ""projects_spec"" of type string.
This field contains string formated like

  project1ID:role1:role2:..:roleN,project2ID:role1:...:roleN,...

and this is mapped into proper structure { ""projects"": [  { ""id"": .., ""roles"": [ ... ] }, ... ] }
this allows the identity provider to supply permission-like informations about what projects user should have access to.

Also new configuration options has been added to more precisely control behavior of auto-provisioned projects.

Change-Id: Ic80e7f8b80503b2ffa8fad38b483f01000b6ac2e
"
openstack%2Fkolla-ansible~master~I704feb4434c1eece3eb00c19dc5f934fd4bc27b4,openstack/kolla-ansible,master,monasca_ci_4,I704feb4434c1eece3eb00c19dc5f934fd4bc27b4,Disable Monasca Log Metrics service by default,MERGED,2021-01-08 10:10:07.000000000,2021-04-07 16:05:15.000000000,2021-03-24 18:32:17.000000000,22,2,4,769901,a52d6612191ff514b5889c939ed6e49c5c8c78c8,33,3,7,3,17669,Doug Szumski,DougSzumski,"Disable Monasca Log Metrics service by default

The Log Metrics service is an admin only service. We now have
support in Fluentd via the Prometheus plugin to create metrics
from logs. These metrics can be scraped into Monasca or Prometheus.
It therefore makes sense to deprecate this service, starting by
disabling it by default, and then removing it in the Xena release.
This should improve the stability of the Monasca metrics pipeline
by ensuring that all metrics pass via the Monasca API for
validation, and ensure that metrics generated from logs are
available to both Prometheus and Monasca users by default.

Change-Id: I704feb4434c1eece3eb00c19dc5f934fd4bc27b4
"
openstack%2Freleases~master~I7672f167a2279d7f00dd95b86ec83a8233e8bb63,openstack/releases,master,,I7672f167a2279d7f00dd95b86ec83a8233e8bb63,Make tripleo repos release for stable/train branch,MERGED,2021-04-01 16:23:42.000000000,2021-04-07 15:55:07.000000000,2021-04-05 08:57:02.000000000,44,0,3,784445,eacf856d5c84d133f1cd25f985f315c56d117c68,17,4,1,11,8449,Marios Andreou,marios,"Make tripleo repos release for stable/train branch

Related puppet-tripleo metadata bump at [1]

[1] Ice881206b3f413e0a22dcbfd557a7d8224b3449c

Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63
"
openstack%2Fmonasca-notification~stable%2Fwallaby~I56101742e0a89d8be2e7bddedf60055b2efd7143,openstack/monasca-notification,stable/wallaby,enable-docker-jobs-wallaby,I56101742e0a89d8be2e7bddedf60055b2efd7143,Re-enable Docker Zuul jobs,MERGED,2021-04-07 14:39:09.000000000,2021-04-07 15:53:26.000000000,2021-04-07 15:53:26.000000000,10,0,0,785188,def8f8486b243ee7d0b54656e236bcefe3b7079b,6,2,1,1,28062,Martin Chacon Piza,martinchacon,"Re-enable Docker Zuul jobs

Docker Zuul jobs were disabled previously because Wallaby u-c were
not yet ready.

Change-Id: I56101742e0a89d8be2e7bddedf60055b2efd7143
"
openstack%2Fmonasca-thresh~stable%2Fwallaby~Ic8bf000a146b9052fd3d4c31541afebceca4d558,openstack/monasca-thresh,stable/wallaby,enable-docker-jobs-wallaby,Ic8bf000a146b9052fd3d4c31541afebceca4d558,Re-enable Docker Zuul jobs,MERGED,2021-04-07 14:35:12.000000000,2021-04-07 15:49:10.000000000,2021-04-07 15:49:10.000000000,9,0,0,785187,53cb5778f44eccc96bed58c915fcf1860ccfa16d,6,2,1,1,28062,Martin Chacon Piza,martinchacon,"Re-enable Docker Zuul jobs

Docker Zuul jobs were disabled previously because Wallaby u-c were
not yet ready.

Change-Id: Ic8bf000a146b9052fd3d4c31541afebceca4d558
"
openstack%2Fmonasca-agent~stable%2Fwallaby~I45506811ea7d319b47f62975bd8238b783bc4c20,openstack/monasca-agent,stable/wallaby,enable-docker-jobs-wallaby,I45506811ea7d319b47f62975bd8238b783bc4c20,Re-enable Docker Zuul jobs,MERGED,2021-04-07 14:43:39.000000000,2021-04-07 15:49:04.000000000,2021-04-07 15:49:04.000000000,10,0,0,785191,3e1de07d9974edab64d0fc25de05a0613431f5ad,6,2,1,1,28062,Martin Chacon Piza,martinchacon,"Re-enable Docker Zuul jobs

Docker Zuul jobs were disabled previously because Wallaby u-c were
not yet ready.

Change-Id: I45506811ea7d319b47f62975bd8238b783bc4c20
"
openstack%2Ftripleo-heat-templates~master~Id379f4fe1668d01fdd5f91b46e2f75d7cdb577ae,openstack/tripleo-heat-templates,master,bug/1921351,Id379f4fe1668d01fdd5f91b46e2f75d7cdb577ae,HA: fix race when moving VIP during minor update,MERGED,2021-03-25 09:27:59.000000000,2021-04-07 15:37:00.000000000,2021-04-07 15:37:00.000000000,1,1,4,782930,3da1e7661036a73c9f222bcdcc489912502d23cb,13,5,1,1,20778,Damien Ciabrini,dciabrin,"HA: fix race when moving VIP during minor update

During a minor update of a controller node, we list the
VIP hosted on the node and we force them to move away
with a pcs command.

The way we call the pcs command is racy, so change the
action to make sure the VIP move is performed only if
the VIP is still hosted on the node when we run the action.

Change-Id: Id379f4fe1668d01fdd5f91b46e2f75d7cdb577ae
Closes-Bug: #1921351
"
openstack%2Ftripleo-ansible~master~I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f,openstack/tripleo-ansible,master,podman-exit/142,I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f,Accept 142 as an exit code,MERGED,2021-04-01 06:08:38.000000000,2021-04-07 15:36:46.000000000,2021-04-07 15:36:46.000000000,1,1,0,784197,abbcab7d44f1d7708914f85850df6602a00142e0,11,4,1,1,28223,Cedric Jeanneret,cjeanner,"Accept 142 as an exit code

In the same fashion we accepted 137 and 143 exit code status in
I8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.

It represents the SIGALRM exit status - it happens when podman reaches
the set timeout (currently 60s) when trying to cleanly stop a container.

Change-Id: I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f
Closes-Bug: #1922179
Resolves: rhbz#1939910
"
openstack%2Fsenlin~master~Ifd79aade607bd4bc5094978b2b99c6f5bb47a942,openstack/senlin,master,docs-senlin,Ifd79aade607bd4bc5094978b2b99c6f5bb47a942,Fixing senlin api port number in doc.,ABANDONED,2020-09-02 03:40:31.000000000,2021-04-07 15:05:42.000000000,,3,3,0,749420,d5098a5bd8645bc9719e12b6b2ce8141188cb5fd,11,4,1,1,28752,Satish Patel,spatel,"Fixing senlin api port number in doc.

Change-Id: Ifd79aade607bd4bc5094978b2b99c6f5bb47a942
"
openstack%2Fgovernance~master~I7df2166cdd4b9266287d47d90c3cd49d6d122c71,openstack/governance,master,project-update,I7df2166cdd4b9266287d47d90c3cd49d6d122c71,Making devstack-plugin-(amqp1|kafka) branchless,MERGED,2021-04-02 08:16:42.000000000,2021-04-07 15:05:09.000000000,2021-04-07 15:03:20.000000000,2,0,9,784544,c45bb41e99684698821bc9ed31828647d1d26da6,29,9,3,1,28522,Hervé Beraud,hberaud,"Making devstack-plugin-(amqp1|kafka) branchless

The QA team pointed out to us that usually devstack plugins are
branchless [1] (and tagless but that's already the case here).

They haven't been branched since ussuri, we think that we simply
missed to retire them few series ago.

I think that's the right moment to do a little spring cleaning.
Let's drop these deliverables.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html

Change-Id: I7df2166cdd4b9266287d47d90c3cd49d6d122c71
"
openstack%2Fstackviz~master~I5a47557d8f822d49fa825c3b28d4eda498238f64,openstack/stackviz,master,,I5a47557d8f822d49fa825c3b28d4eda498238f64,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 18:16:03.000000000,2021-04-07 15:03:00.000000000,2021-04-07 15:01:33.000000000,4,4,0,777646,8cd99f3bab5ba64bf1d162be7d0c5f4599acf333,9,5,1,1,30615,Tushar Trambak Gite,tushargite96,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I5a47557d8f822d49fa825c3b28d4eda498238f64
"
openstack%2Foslo.privsep~master~I5640616e00f943402c1104d1e438cde093a8d284,openstack/oslo.privsep,master,fix-bug#1870281,I5640616e00f943402c1104d1e438cde093a8d284,Fix TypeError when use logging.LogRecord,NEW,2020-04-02 07:21:02.000000000,2021-04-07 14:55:28.000000000,,1,1,1,716873,824891a863bb88a78cdb3a0b2f599d2ac223c1cc,5,3,1,1,30744,uchenily,uchenily,"Fix TypeError when use logging.LogRecord

Change-Id: I5640616e00f943402c1104d1e438cde093a8d284
Closes-Bug: #1870281
"
openstack%2Fheat~stable%2Fussuri~Icc90a921ec67e49aec2c4acfad72235c57c78421,openstack/heat,stable/ussuri,,Icc90a921ec67e49aec2c4acfad72235c57c78421,Don't update status for replaced resource,MERGED,2021-04-04 08:10:20.000000000,2021-04-07 14:53:30.000000000,2021-04-07 14:50:42.000000000,2,12,0,784582,e95a7fd21deea111d97b9e8e8ecff431091100d9,8,3,1,4,8833,Rabi Mishra,rabi,"Don't update status for replaced resource

With I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed
update of previously-existing resource if replacement
creation has failed during last update. However, we force
update the status of the existing resource to 'COMPLETE'.
Therefore, in the next update if properties/type has not
changed for the resource it won't try to update/replace
the previously existing resource resulting in false positive
of stack updated successfully.

Task: 42194
Change-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421
(cherry picked from commit bfbaab107d709c37548a22239b952c6221b9ac85)
"
openstack%2Fmonasca-persister~master~Ib33a54537f9394aea77f3cdaf135183f0dacdca3,openstack/monasca-persister,master,fix-zuul-publish,Ib33a54537f9394aea77f3cdaf135183f0dacdca3,Fix zuul publish docker image job,MERGED,2021-04-07 11:47:03.000000000,2021-04-07 14:47:39.000000000,2021-04-07 14:47:39.000000000,1,1,0,785153,72c0b6911e40e84f21120e32e589965df11dcaa5,6,2,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: Ib33a54537f9394aea77f3cdaf135183f0dacdca3
"
openstack%2Fgrenade~master~Ie8b9cdbb9cc2e7f153e3cf06c60341abcdb6f426,openstack/grenade,master,,Ie8b9cdbb9cc2e7f153e3cf06c60341abcdb6f426,update url.,ABANDONED,2019-12-17 07:42:07.000000000,2021-04-07 14:45:38.000000000,,1,1,0,699358,c14aed931b904253b594e9b8aa75e73eee93387a,8,3,1,1,30717,wangfaxin,wangfaxin,"update url.

Change-Id: Ie8b9cdbb9cc2e7f153e3cf06c60341abcdb6f426
"
openstack%2Freleases~master~I9310e604d1356d611f52164601095ba026a14b24,openstack/releases,master,devstack-plugin-wallaby,I9310e604d1356d611f52164601095ba026a14b24,Making devstack-plugin-(amqp1|kafka) branchless,ABANDONED,2021-04-07 14:27:38.000000000,2021-04-07 14:42:30.000000000,,0,34,0,785184,429770848319cb8fedd4e0a0159f8d197246e4e0,2,0,1,4,28522,Hervé Beraud,hberaud,"Making devstack-plugin-(amqp1|kafka) branchless

QA team pointed out to us that usually devstack plugins are
branchless [1] (and tagless but that's already the case here).

They haven't been branched since ussuri, we think that we simply
missed to retire them few series ago.

I think that's the right moment to do a little spring cleaning.
Let's drop these deliverables for Victoria/Wallaby.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html

Change-Id: I9310e604d1356d611f52164601095ba026a14b24
"
openstack%2Fstackviz~master~Ie49a491a2b5ead4876e25eb03025884211791c27,openstack/stackviz,master,min-tox-version,Ie49a491a2b5ead4876e25eb03025884211791c27,Update min tox version to 2.0,ABANDONED,2018-11-02 15:12:39.000000000,2021-04-07 14:41:05.000000000,,1,1,0,615211,1a7b1af03608952c5be57308516906372296fe1c,5,3,1,1,28956,Nguyen Hai Truong,truongnh,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.
Update to reflect reality, which should help with local running of
constraints targets.

Change-Id: Ie49a491a2b5ead4876e25eb03025884211791c27
"
openstack%2Foslo.log~master~Id350e6146a7e548d35ceb6110387feb208169fed,openstack/oslo.log,master,move_flake8_local,Id350e6146a7e548d35ceb6110387feb208169fed,Move flake8 as a pre-commit local target.,ABANDONED,2021-03-23 12:09:16.000000000,2021-04-07 14:36:14.000000000,,1,1,1,782466,053ed6b4caf3088f1df04fdd42c6fc2ac8e93975,4,2,1,1,31245,Daniel Bengtsson,damani42,"Move flake8 as a pre-commit local target.

The goal here is to avoid conflicts between flake8 and hacking version each
2 days.

Inspired from nova's approach[1].

The flake8 version to install will be determined by hacking and
requirements[2] will stay aligned instead of relying on different versions.

[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35
[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1

Change-Id: Id350e6146a7e548d35ceb6110387feb208169fed
"
openstack%2Ftripleo-quickstart~master~I7d368cca28eebab36eef08e527daf174318f2c8c,openstack/tripleo-quickstart,master,container-tools-3,I7d368cca28eebab36eef08e527daf174318f2c8c,Update dep pipeline to test container-tools:3.0,MERGED,2021-03-16 18:15:04.000000000,2021-04-07 14:27:47.000000000,2021-03-17 00:44:05.000000000,1,1,0,780941,bfb6e2b48321ca7c4f7c287524bb836d1e898488,9,4,1,1,9976,Ronelle Landy,rlandy,"Update dep pipeline to test container-tools:3.0

Test container-tools:3.0 in depedency pipeline.

Change-Id: I7d368cca28eebab36eef08e527daf174318f2c8c
"
openstack%2Fansible-collections-openstack~master~Ifdf253ca01b0e19b55867d8ead03eaceb5b2d73a,openstack/ansible-collections-openstack,master,,Ifdf253ca01b0e19b55867d8ead03eaceb5b2d73a,Fix issues with newest ansible-test 2.11,MERGED,2021-04-07 07:15:16.000000000,2021-04-07 14:25:31.000000000,2021-04-07 14:25:31.000000000,13,21,0,785096,c329f65b41de7600352b54648bdd56e54bb57315,11,2,4,9,10969,Shnaidman Sagi (Sergey),sergsh,"Fix issues with newest ansible-test 2.11

Change-Id: Ifdf253ca01b0e19b55867d8ead03eaceb5b2d73a
"
openstack%2Fdevstack-plugin-ceph~master~Iff1c5210b0279379eb9612b206bdf456dd6f132e,openstack/devstack-plugin-ceph,master,,Iff1c5210b0279379eb9612b206bdf456dd6f132e,Set RBD default features based on distro,MERGED,2021-03-30 13:56:47.000000000,2021-04-07 14:24:12.000000000,2021-04-07 14:22:24.000000000,5,1,2,783880,35e1ff5cf4a50594578ab8d13499789c2ccef351,18,6,2,1,4523,Eric Harney,eharney,"Set RBD default features based on distro

In some jobs, we run tests that use ""rbd map"".
On older kernels, this will not work if newer
RBD features are used.  (Specifically, fast-diff
on bionic.)

On older distros, enable fewer features by default.

Closes-Bug: #1921897
Change-Id: Iff1c5210b0279379eb9612b206bdf456dd6f132e
"
openstack%2Fmanila-ui~master~I408af56e6a54b135d38a486101b4bb3108d4f0d5,openstack/manila-ui,master,,I408af56e6a54b135d38a486101b4bb3108d4f0d5,Support policy-in-code and deprecated policy,MERGED,2021-03-29 04:30:50.000000000,2021-04-07 14:22:34.000000000,2021-04-07 14:20:23.000000000,4280,1,6,783598,89a90ff9773b93062760df5e3deefb9750112633,21,5,2,5,9816,Takashi Kajinami,kajinamit,"Support policy-in-code and deprecated policy

This change adds support for policy-in-code and deprecated policy
following the change in horizon.

Depends-on: https://review.opendev.org/750134
Change-Id: I408af56e6a54b135d38a486101b4bb3108d4f0d5
"
openstack%2Fpython-monascaclient~master~I878f30ccdbd4244ec49c551ee24acd5426dfb6c9,openstack/python-monascaclient,master,fix-zuul-publish,I878f30ccdbd4244ec49c551ee24acd5426dfb6c9,Fix zuul publish docker image job,MERGED,2021-04-07 12:14:10.000000000,2021-04-07 14:19:35.000000000,2021-04-07 14:17:17.000000000,1,1,0,785160,cf4d9cc470ac8150c70dda8742113f2aeeaff69b,7,2,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I878f30ccdbd4244ec49c551ee24acd5426dfb6c9
"
openstack%2Foslo.privsep~master~If3105d6df017f3597c0479792ea671b5b9245039,openstack/oslo.privsep,master,move_flake8_local,If3105d6df017f3597c0479792ea671b5b9245039,Move flake8 as a pre-commit local target.,ABANDONED,2021-03-22 09:37:43.000000000,2021-04-07 14:19:28.000000000,,6,2,0,782113,919a65ea8c18f927665a511d24b5cdb8be74e598,6,2,1,1,31245,Daniel Bengtsson,damani42,"Move flake8 as a pre-commit local target.

The goal here is to avoid conflicts between flake8 and hacking version each
2 days.

Inspired from nova's approach [1].

The flake8 version to install will be determined by hacking and
requirements will stay aligned instead of relying on different versions.

[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35
[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1

Change-Id: If3105d6df017f3597c0479792ea671b5b9245039
"
openstack%2Fironic~stable%2Fussuri~Ie19db9e0cf1eafdfc9bb46248f4d457337821f94,openstack/ironic,stable/ussuri,,Ie19db9e0cf1eafdfc9bb46248f4d457337821f94,IPMI: Handle vendor set boot device differences,MERGED,2021-03-24 14:40:02.000000000,2021-04-07 14:16:05.000000000,2021-04-07 14:14:22.000000000,320,16,0,782764,8bf3f47476ba685a2aa696aa413b4706f71a4f7a,13,4,3,5,11655,Julia Kreger,jkreger,"IPMI: Handle vendor set boot device differences

Supermicro machines, when in UEFI mode, have a different
device number, in binary, to represent the hard disk from
other vendors such as Fujitsu which actually has somewhat
similar code in their driver.

This means we need to be somewhat cognizent of the vendor of
the BMC and possibly update the device mapping based upon that
vendor.

This may ultimately fix a number of IPMI related problems, because
there is a reliance upon the text output of ipmitool, which only
reads the bytes retured by the BMC, which may not be reality after
the next reset, espescialy if ipmitool doesn't know of the UEFI
operating difference.

NOTE: This had to be a direct cherry-pick from the original change
as the intermediate branch that we normally would have cherry-picked
from has had other changes made to it, which resulted in an unclean
backport, where as with the original change it was clean.

Change-Id: Ie19db9e0cf1eafdfc9bb46248f4d457337821f94
Story: 2008241
Task: 41085
(cherry picked from commit a7ac9ce8cd53fdebdf0d9aaeaf439da08a0b3ec8)
"
openstack%2Fheat~master~I2d74bb0ee66813a500b3cb7766022297f5a152f2,openstack/heat,master,story/2008349,I2d74bb0ee66813a500b3cb7766022297f5a152f2,Check ready status volume before extend volume,MERGED,2020-11-14 17:35:54.000000000,2021-04-07 14:14:43.000000000,2021-04-07 14:12:35.000000000,52,3,7,762740,150c0a9bdef777cfb1f43651cc0a951ff91bbf78,32,4,6,4,12404,Rico Lin,rico.lin,"Check ready status volume before extend volume

Change-Id: I2d74bb0ee66813a500b3cb7766022297f5a152f2
Story: 2008349
Task: 41251
"
openstack%2Fkolla-ansible~master~I48197bc7221f313f12380182b768903ded635ecc,openstack/kolla-ansible,master,container-health-check,I48197bc7221f313f12380182b768903ded635ecc,Use Docker healthchecks for masakari services,NEW,2021-03-09 15:21:06.000000000,2021-04-07 14:11:08.000000000,,38,0,4,779508,24f26db8b015f6287bf86799dac6e303aee8c97a,12,4,2,4,26285,wu.chunyang,wu.chunyang,"Use Docker healthchecks for masakari services

This change enables the use of Docker healthchecks for masakari services.
Implements: blueprint container-health-check

Change-Id: I48197bc7221f313f12380182b768903ded635ecc
"
openstack%2Fdevstack-plugin-ceph~master~I210e711aab742e005badc919ec040febb9f45f7f,openstack/devstack-plugin-ceph,master,glance-multiple-stores-support,I210e711aab742e005badc919ec040febb9f45f7f,Configure ceph for glance if multiple stores is enabled,NEW,2020-07-18 08:13:46.000000000,2021-04-07 14:10:28.000000000,,35,12,4,741801,f4cd39d506b050fcc63e0a62a0ee7ff9e65ed847,11,4,2,1,9303,Abhishek Kekane,abhishekkekane,"Configure ceph for glance if multiple stores is enabled

Glance has support to configure multiple stores from Stein release. Recently
support for configuring multiple filesystem stores for glance is added. In
this patch we are configuring ceph if both multiple stores is enabled
using 'GLANCE_ENABLE_MULTIPLE_STORES = True' and ceph is also
enabled.

In order to configure ceph with support to multiple stores using devstack
user need to set below options in local.conf

GLANCE_ENABLE_MULTIPLE_STORES = True
enable_plugin devstack-plugin-ceph https://opendev.org/openstack/devstack-plugin-ceph
ENABLE_CEPH_GLANCE=True

NOTE: These changes are required as soon glance is set to remove single
store support in Victoria cycle.

Change-Id: I210e711aab742e005badc919ec040febb9f45f7f
"
openstack%2Fironic~master~I0dd9a83ee23c6b846eda3ff171ab7b3138b22fa7,openstack/ironic,master,sec_param,I0dd9a83ee23c6b846eda3ff171ab7b3138b22fa7,Add security dashboard clean steps to ilo drivers,MERGED,2021-03-23 06:33:47.000000000,2021-04-07 13:59:59.000000000,2021-04-07 13:57:59.000000000,404,3,31,782364,f5413a9bd5fe51c0d37ff7b7ed482f2ae6ed6b2a,36,4,4,8,19604,ankit,ankit,"Add security dashboard clean steps to ilo drivers

This commit adds new clean steps security_parameters_update,
update_minimum_password_length and update_auth_failure_logging_threshold
to allow users to edit following security parameters which fetched
during node inspection -
``Password_Complexity``, ``RequiredLoginForiLORBSU``,
``RequireHostAuthentication``, ``MinPasswordLength``,
``IPMI/DCMI_Over_LAN``, ``Authentication_failure_Logging``,
and ``Secure_Boot``.

Story: 2008024
Task: 40736
Change-Id: I0dd9a83ee23c6b846eda3ff171ab7b3138b22fa7
"
openstack%2Fmonasca-persister~stable%2Fvictoria~Iedfaf61600a174fe251014a11abb6ef5db4067ee,openstack/monasca-persister,stable/victoria,fix-zuul-publish,Iedfaf61600a174fe251014a11abb6ef5db4067ee,Fix zuul publish docker image job,MERGED,2021-04-07 11:51:31.000000000,2021-04-07 13:43:26.000000000,2021-04-07 13:43:26.000000000,1,1,0,785154,71cb3a1074e5869f31e0ef5b79e6b15f57cc0c15,6,2,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: Iedfaf61600a174fe251014a11abb6ef5db4067ee
"
openstack%2Fmonasca-api~stable%2Fwallaby~Ia04ed7693482ef2d2c6e0b58802acd5b95bacf21,openstack/monasca-api,stable/wallaby,docker-jobs-wallaby,Ia04ed7693482ef2d2c6e0b58802acd5b95bacf21,Update docker-publish.yml for stable/wallaby,MERGED,2021-04-07 11:16:24.000000000,2021-04-07 13:29:21.000000000,2021-04-07 13:22:35.000000000,1,1,0,785146,14cd51461e66ca74b22e3af5f508c27378c8531e,7,2,1,1,28062,Martin Chacon Piza,martinchacon,"Update docker-publish.yml for stable/wallaby

Change-Id: Ia04ed7693482ef2d2c6e0b58802acd5b95bacf21
"
openstack%2Fnetworking-odl~master~Iad19ec1d913c879cc8e55d340d111b12d72ae965,openstack/networking-odl,master,add-xena-python-jobtemplates,Iad19ec1d913c879cc8e55d340d111b12d72ae965,Add Python3 xena unit tests,MERGED,2021-03-24 15:36:55.000000000,2021-04-07 13:28:41.000000000,2021-04-07 13:21:51.000000000,1,1,0,782795,8803f2592afdda1188bac15904ca5e2496a30f0c,8,4,1,1,22816,OpenStack Release Bot,release,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Iad19ec1d913c879cc8e55d340d111b12d72ae965
"
openstack%2Foslo.middleware~master~I2f41e05df1cc978821bf7cb6d9a95bf543c7fba3,openstack/oslo.middleware,master,oslo_lc_drop,I2f41e05df1cc978821bf7cb6d9a95bf543c7fba3,Fix requirements issues,MERGED,2021-03-22 09:45:53.000000000,2021-04-07 13:28:06.000000000,2021-04-07 13:18:26.000000000,6,52,0,782114,5c806d492b22f25b79e6598b2fe3847ba6963220,14,3,2,4,31245,Daniel Bengtsson,damani42,"Fix requirements issues

This patch is the merge of 2 current fixes that need to be solved in the
same time. Indeed each issue lock our gates independently.

Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Move flake8 as a pre-commit local target.

The goal here is to avoid conflicts between flake8 and hacking version each
2 days.

Inspired from nova's approach[1].

The flake8 version to install will be determined by hacking and
requirements[2] will stay aligned instead of relying on different versions.

[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35
[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1

Co-authored-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I2f41e05df1cc978821bf7cb6d9a95bf543c7fba3
"
openstack%2Fmonasca-common~stable%2Fwallaby~Ib98425a661378769dc41b6084afeddbb3fef9288,openstack/monasca-common,stable/wallaby,docker-jobs-wallaby,Ib98425a661378769dc41b6084afeddbb3fef9288,Update docker-publish.yml for stable/wallaby,MERGED,2021-04-07 11:37:53.000000000,2021-04-07 13:23:06.000000000,2021-04-07 13:23:06.000000000,1,1,0,785151,2d6f0c1e734377411e4b827541865097d0ce4ce8,6,2,1,1,28062,Martin Chacon Piza,martinchacon,"Update docker-publish.yml for stable/wallaby

Change-Id: Ib98425a661378769dc41b6084afeddbb3fef9288
"
openstack%2Fnetworking-odl~master~I21196306d9ff767b02b82a8e8fa914a5e23a10f5,openstack/networking-odl,master,reno-wallaby,I21196306d9ff767b02b82a8e8fa914a5e23a10f5,Update master for stable/wallaby,MERGED,2021-03-24 15:36:52.000000000,2021-04-07 13:22:08.000000000,2021-04-07 13:17:59.000000000,7,0,0,782794,9a57c5c046819bb7d6de475924915b249b3188b7,9,4,1,2,22816,OpenStack Release Bot,release,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I21196306d9ff767b02b82a8e8fa914a5e23a10f5
"
openstack%2Fironic~stable%2Fwallaby~Ie7cb2c831854be288553dc634d5367739519e0e1,openstack/ironic,stable/wallaby,conf_molds-stable/wallaby,Ie7cb2c831854be288553dc634d5367739519e0e1,Followup idrac configuration mold steps,MERGED,2021-04-06 12:39:02.000000000,2021-04-07 13:20:39.000000000,2021-04-07 13:13:07.000000000,14,22,0,784852,4b7a4a1ba495bb4911378780bff23f61267bcef5,15,3,1,2,27909,Aija Jauntēva,ajya,"Followup idrac configuration mold steps

Followup to change: I10dbc30614d8654dda540ffaa5e61e7a9f03c7b3

Change-Id: Ie7cb2c831854be288553dc634d5367739519e0e1
(cherry picked from commit ae30139af2a61e3d2031a1dc53f1fcf373fea933)
"
openstack%2Fdevstack~master~I2ea3175ecf2508b62640bfffdd798d7072e55550,openstack/devstack,master,gzip-not-xz,I2ea3175ecf2508b62640bfffdd798d7072e55550,"gzip, not xz",MERGED,2021-04-06 14:16:29.000000000,2021-04-07 13:14:54.000000000,2021-04-07 13:12:25.000000000,2,2,0,784964,6f2c807bfade2a218636e0ca441de45c5662aca0,15,3,2,2,30491,Radosław Piliszek,yoctozepto,"gzip, not xz

xz may cause POST_FAILUREs due to memory pressure [1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021609.html

Change-Id: I2ea3175ecf2508b62640bfffdd798d7072e55550
"
openstack%2Fmonasca-persister~stable%2Fwallaby~Id8e6d58a655def2385bca0ccc2f092de1ed31e81,openstack/monasca-persister,stable/wallaby,docker-jobs-wallaby,Id8e6d58a655def2385bca0ccc2f092de1ed31e81,Update docker-publish.yml for stable/wallaby,MERGED,2021-04-07 11:28:08.000000000,2021-04-07 13:03:25.000000000,2021-04-07 13:03:25.000000000,1,1,0,785149,100b6e4a3cb5cbbb8a1cdc3e88003021d39003f1,6,2,1,1,28062,Martin Chacon Piza,martinchacon,"Update docker-publish.yml for stable/wallaby

Change-Id: Id8e6d58a655def2385bca0ccc2f092de1ed31e81
"
openstack%2Fironic~stable%2Fwallaby~I658b6b4eca7978473b08244c349ea5ac8bf37f76,openstack/ironic,stable/wallaby,follow_up_cs-stable/wallaby,I658b6b4eca7978473b08244c349ea5ac8bf37f76,Follow-up Automaticaly set cipher suite,MERGED,2021-04-01 10:36:39.000000000,2021-04-07 12:55:23.000000000,2021-04-07 12:51:38.000000000,18,14,0,784051,541f40c515b4a6b983e57ee7ce3c59604e4d6742,12,3,1,2,15519,Iury Gregory Melo Ferreira,iurygregory,"Follow-up Automaticaly set cipher suite

This commit is a follow-up to  I6788585a83268e20ff6447e570995871bc9c25d5

Change-Id: I658b6b4eca7978473b08244c349ea5ac8bf37f76
(cherry picked from commit a036728fb4ca7acfe19e14f2a1f89c19ef30fe98)
"
openstack%2Fheat~stable%2Fvictoria~Icc90a921ec67e49aec2c4acfad72235c57c78421,openstack/heat,stable/victoria,,Icc90a921ec67e49aec2c4acfad72235c57c78421,Don't update status for replaced resource,MERGED,2021-04-02 03:47:25.000000000,2021-04-07 12:54:13.000000000,2021-04-07 12:45:57.000000000,2,12,0,784410,8bdf6b984a457301b43fdecf0dc27e667bcfc910,12,3,1,4,8833,Rabi Mishra,rabi,"Don't update status for replaced resource

With I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed
update of previously-existing resource if replacement
creation has failed during last update. However, we force
update the status of the existing resource to 'COMPLETE'.
Therefore, in the next update if properties/type has not
changed for the resource it won't try to update/replace
the previously existing resource resulting in false positive
of stack updated successfully.

Task: 42194
Change-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421
(cherry picked from commit bfbaab107d709c37548a22239b952c6221b9ac85)
"
openstack%2Fkolla~master~Ie8fdbeff4a600a46c29a39afd9e0e593bba2a2f7,openstack/kolla,master,,Ie8fdbeff4a600a46c29a39afd9e0e593bba2a2f7,Move out sources and users to separate files,ABANDONED,2020-06-24 11:35:21.000000000,2021-04-07 12:52:23.000000000,,908,879,2,737751,f976c92dde327bc07e7e4acd0eb742a6ff65a676,20,7,4,5,22629,Michal Nasiadka,mnasiadka,"Move out sources and users to separate files

Change-Id: Ie8fdbeff4a600a46c29a39afd9e0e593bba2a2f7
"
openstack%2Fmonasca-persister~stable%2Ftrain~I4cf165314c53f36a00e9bebfa9b2bc32b04b015d,openstack/monasca-persister,stable/train,fix-zuul-publish,I4cf165314c53f36a00e9bebfa9b2bc32b04b015d,Fix zuul publish docker image job,NEW,2021-04-07 11:55:11.000000000,2021-04-07 12:51:16.000000000,,1,1,0,785156,ef5d1acb413f00ff379ec89878d4f1eda2330310,2,1,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I4cf165314c53f36a00e9bebfa9b2bc32b04b015d
"
openstack%2Fcinder-tempest-plugin~master~Icb8fc38f7d6e78f2ce5f02fd156efd379e7225a5,openstack/cinder-tempest-plugin,master,751990,Icb8fc38f7d6e78f2ce5f02fd156efd379e7225a5,WIP: Add tests for project default types,NEW,2020-09-15 08:27:59.000000000,2021-04-07 12:50:08.000000000,,144,0,82,751990,8f1546fdf8778ec289b601391321dc9368943e9e,14,2,3,3,27615,Rajat Dhasmana,whoami-rajat,"WIP: Add tests for project default types

Change-Id: Icb8fc38f7d6e78f2ce5f02fd156efd379e7225a5
"
openstack%2Fironic~master~I241c830167752014835845cb32663514220a9996,openstack/ironic,master,task/41609,I241c830167752014835845cb32663514220a9996,Add idrac HW type IPMI interface support,NEW,2021-01-21 17:37:27.000000000,2021-04-07 12:42:09.000000000,,229,31,152,771862,963888ec29007d1d93fba08ef3bc69d141e284a8,111,14,14,10,32108,Yogesh,yogeshr20,"Add idrac HW type IPMI interface support

This change adds initial idrac hardware type support of interface
implementations vendor-independent IPMI hardware interface
implementations and are compatible with the integrated Dell
Remote Access Controller (iDRAC) baseboard management controller
(BMC), presently those of the management,console,vendorpassthrough
and power hardware interfaces. They are named `idrac-ipmi`.

The idrac hardware type declares support for those new interface
implementations, in addition to all interface implementations it has
been supporting. The priority order of supported interfaces remains
the same.

Story: 2008528
Task: 41609
Change-Id: I241c830167752014835845cb32663514220a9996
"
openstack%2Fmonasca-thresh~stable%2Fwallaby~I1f8affdf47855b55dfd87f161d58443bf9a4d064,openstack/monasca-thresh,stable/wallaby,docker-jobs-wallaby,I1f8affdf47855b55dfd87f161d58443bf9a4d064,Update docker-publish.yml for stable/wallaby,MERGED,2021-04-07 11:19:46.000000000,2021-04-07 12:37:47.000000000,2021-04-07 12:37:47.000000000,1,1,0,785147,7f063a10514303c83c5acc2a83e7e556ed21f475,6,2,1,1,28062,Martin Chacon Piza,martinchacon,"Update docker-publish.yml for stable/wallaby

Change-Id: I1f8affdf47855b55dfd87f161d58443bf9a4d064
"
openstack%2Fmagnum~master~I523a4a85867f82d234ba1f3e6fad8b8cd2291182,openstack/magnum,master,sep-ca,I523a4a85867f82d234ba1f3e6fad8b8cd2291182,Add separated CA cert for etcd and front-proxy,MERGED,2020-08-19 09:00:57.000000000,2021-04-07 12:37:36.000000000,2021-04-07 12:35:10.000000000,199,52,38,746864,16344a5a9597e06791874a6893c6eb80e78ae904,65,4,14,20,6484,Feilong Wang,flwang,"Add separated CA cert for etcd and front-proxy

Support creating different for k8s, etcd and front-proxy for
security hardening. We're following some best practices[1][2] but
adjusted based on the current Magnum deployment approach.

[1] https://kubernetes.io/docs/setup/best-practices/certificates/
[2] https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/

Task: 40687
Story: 2008031

Change-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182
"
openstack%2Fmonasca-persister~stable%2Fussuri~Iacfcd86d40c3c84922cf2bf88991d931839d70b4,openstack/monasca-persister,stable/ussuri,fix-zuul-publish,Iacfcd86d40c3c84922cf2bf88991d931839d70b4,Fix zuul publish docker image job,NEW,2021-04-07 11:53:20.000000000,2021-04-07 12:37:12.000000000,,1,1,0,785155,202c5b1585131effeb7664b66a63867579f2e7be,2,1,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: Iacfcd86d40c3c84922cf2bf88991d931839d70b4
"
openstack%2Fmonasca-notification~stable%2Fwallaby~I823607b98701af08297d3e0b79dbac0e5146ef0e,openstack/monasca-notification,stable/wallaby,docker-jobs-wallaby,I823607b98701af08297d3e0b79dbac0e5146ef0e,Update docker-publish.yml for stable/wallaby,MERGED,2021-04-07 11:23:19.000000000,2021-04-07 12:36:33.000000000,2021-04-07 12:36:33.000000000,1,1,0,785148,61179e99ea7c7c88dfa37d722848bad2267abfb2,6,2,1,1,28062,Martin Chacon Piza,martinchacon,"Update docker-publish.yml for stable/wallaby

Change-Id: I823607b98701af08297d3e0b79dbac0e5146ef0e
"
openstack%2Ftripleo-validations~master~Ifc75b8e9b27fc4f4316dc12c2b63ab65430c5ae4,openstack/tripleo-validations,master,testenvs,Ifc75b8e9b27fc4f4316dc12c2b63ab65430c5ae4,DNM this is a test,ABANDONED,2021-04-06 09:00:08.000000000,2021-04-07 12:34:53.000000000,,5,2,2,784897,9399ffac5b512895996e968c71defe5aa8e36cfd,10,1,4,2,32926,Jiri Podivin,jpodivin,"DNM this is a test

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ifc75b8e9b27fc4f4316dc12c2b63ab65430c5ae4
"
openstack%2Fpython-monascaclient~stable%2Ftrain~I97aa0464bcade9166ec9aaef24693b8de9e2505d,openstack/python-monascaclient,stable/train,fix-zuul-publish,I97aa0464bcade9166ec9aaef24693b8de9e2505d,Fix zuul publish docker image job,NEW,2021-04-07 12:18:56.000000000,2021-04-07 12:34:25.000000000,,1,1,0,785164,2d3c4e3d994dd1f461f2e9258e2af5940ef5e684,2,1,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I97aa0464bcade9166ec9aaef24693b8de9e2505d
"
openstack%2Fpython-monascaclient~stable%2Fussuri~I7a561eab0f98497c6ce719fa1dc6eeaa8bc781e7,openstack/python-monascaclient,stable/ussuri,fix-zuul-publish,I7a561eab0f98497c6ce719fa1dc6eeaa8bc781e7,Fix zuul publish docker image job,NEW,2021-04-07 12:17:37.000000000,2021-04-07 12:30:06.000000000,,1,1,0,785163,b928a4703dc371b262a989221af35dd447e9fdf0,2,1,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I7a561eab0f98497c6ce719fa1dc6eeaa8bc781e7
"
openstack%2Fpython-monascaclient~stable%2Fvictoria~Ia8f9fc505e44598685fff967cb1e1bb27a3d6343,openstack/python-monascaclient,stable/victoria,fix-zuul-publish,Ia8f9fc505e44598685fff967cb1e1bb27a3d6343,Fix zuul publish docker image job,NEW,2021-04-07 12:16:15.000000000,2021-04-07 12:24:45.000000000,,1,1,0,785161,240e63bd0e08d1f06f3f0b107d23522a6927db12,2,1,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: Ia8f9fc505e44598685fff967cb1e1bb27a3d6343
"
openstack%2Fkayobe~master~I8d3d51ea25459f1831ac75a062cd8e7c54204de4,openstack/kayobe,master,centos-stream,I8d3d51ea25459f1831ac75a062cd8e7c54204de4,CentOS Stream 8: switch default seed VM image,MERGED,2021-04-06 15:47:45.000000000,2021-04-07 12:16:03.000000000,2021-04-07 12:14:36.000000000,2,2,0,785002,ab5bd58a856d76f502367eca3820b0709e63eb66,9,3,1,2,14826,Mark Goddard,mgoddard,"CentOS Stream 8: switch default seed VM image

Change-Id: I8d3d51ea25459f1831ac75a062cd8e7c54204de4
Story: 2008795
Task: 42216
"
openstack%2Fkayobe~stable%2Fvictoria~I468d4e0460c13791b9f01d5854ef45472528c6fe,openstack/kayobe,stable/victoria,centos-stream,I468d4e0460c13791b9f01d5854ef45472528c6fe,CentOS Stream 8: Use /usr/bin/which instead of bash function,MERGED,2021-04-06 13:10:02.000000000,2021-04-07 12:15:53.000000000,2021-04-07 12:14:26.000000000,2,2,0,784853,a7d33af663e817b9700c9dea0e543a3ac68d8358,9,3,1,1,14826,Mark Goddard,mgoddard,"CentOS Stream 8: Use /usr/bin/which instead of bash function

A bug has been introduced to the which package in CentOS Stream 8 which
causes it to fail when used with the following bash options:

set -u
set -o pipefail

Then, when running which we see the following output:

environment: line 1: _declare: unbound variable

As found by Pierre, this seems to be caused by the implementation of
which as a bash function which references an unbound variable
(_declare). It's tracked in Fedora by
https://bugzilla.redhat.com/show_bug.cgi?id=1944877#.

This change works around the issue by using the /usr/bin/which binary.

Co-Authored-By: Pierre Riteau <pierre@stackhpc.com>

Change-Id: I468d4e0460c13791b9f01d5854ef45472528c6fe
Story: 2008795
Task: 42215
"
openstack%2Fmonasca-agent~stable%2Fwallaby~I1950797ea135d46c00e46cce36dd4e437392341b,openstack/monasca-agent,stable/wallaby,docker-jobs-wallaby,I1950797ea135d46c00e46cce36dd4e437392341b,Update docker-publish.yml for stable/wallaby,MERGED,2021-04-07 11:09:23.000000000,2021-04-07 12:06:02.000000000,2021-04-07 12:06:02.000000000,3,3,0,785145,b31b695a33390a666fcfbbcac3fdcba0f678cebe,6,2,1,1,28062,Martin Chacon Piza,martinchacon,"Update docker-publish.yml for stable/wallaby

Change-Id: I1950797ea135d46c00e46cce36dd4e437392341b
"
openstack%2Fironic~master~Ia7093a3ed48e19197f74da9e1c49416a974a76be,openstack/ironic,master,update-python-dracclient-version,Ia7093a3ed48e19197f74da9e1c49416a974a76be,Update python-dracclient version,MERGED,2021-04-01 03:56:27.000000000,2021-04-07 12:05:56.000000000,2021-04-07 12:03:45.000000000,1,1,4,784192,90d21edbfd8e2251d6496b9bafd4c75e968b18a7,24,6,2,1,23847,Richard G. Pioso,richard.pioso,"Update python-dracclient version

Update python-dracclient version to indicate Wallaby compatibility with
6.*.* releases.

Version 6.0.0 is available from PyPI [1].

[1] https://pypi.org/project/python-dracclient/6.0.0/

Change-Id: Ia7093a3ed48e19197f74da9e1c49416a974a76be
"
openstack%2Fpython-monascaclient~stable%2Fwallaby~I57197c59d657934f3ff21763cab073181c59ce3c,openstack/python-monascaclient,stable/wallaby,docker-jobs-wallaby,I57197c59d657934f3ff21763cab073181c59ce3c,Update docker-publish.yml for stable/wallaby,MERGED,2021-04-07 11:32:29.000000000,2021-04-07 12:05:54.000000000,2021-04-07 12:04:41.000000000,1,1,0,785150,7fc0a43e02346f1e68de1ccba00c64a097072046,7,2,1,1,28062,Martin Chacon Piza,martinchacon,"Update docker-publish.yml for stable/wallaby

Change-Id: I57197c59d657934f3ff21763cab073181c59ce3c
"
openstack%2Fos-brick~stable%2Ftrain~I066d456fb1fe9159d4be50ffd8abf9a6d8d07901,openstack/os-brick,stable/train,cleanup_connection,I066d456fb1fe9159d4be50ffd8abf9a6d8d07901,iSCSI: Fix flushing after multipath cfg change,MERGED,2021-03-31 13:09:27.000000000,2021-04-07 11:58:01.000000000,2021-04-07 11:16:39.000000000,148,85,0,784097,f6531c0c81579c02fa046f3eaf7da8704ceebdd2,24,4,1,10,10459,Luigi Toscano,ltoscano,"iSCSI: Fix flushing after multipath cfg change

OS-Brick disconnect_volume code assumes that the use_multipath parameter
that is used to instantiate the connector has the same value than the
connector that was used on the original connect_volume call.

Unfortunately this is not necessarily true, because Nova can attach a
volume, then its multipath configuration can be enabled or disabled, and
then a detach can be issued.

This leads to a series of serious issues such as:

- Not flushing the single path on disconnect_volume (possible data loss)
  and leaving it as a leftover device on the host when Nova calls
  terminate-connection on Cinder.

- Not flushing the multipath device (possible data loss) and leaving it
  as a leftover device similarly to the other case.

This patch changes how we do disconnects, now we assume we are always
disconnecting multipaths, and fallback to doing the single path
disconnect we used to do if we can't go that route.

The case when we cannot do a multipathed detach is mostly when we did
the connect as a single path and the Cinder driver doesn't provide
portal_targets and portal_iqns in the connection info for non
multipathed initialize-connection calls.

This changes introduces an additional call when working with single
paths (checking the discoverydb), but it should be an acceptable
trade-off to not lose data.

Also includes squash to add release note from:
Add release note prelude for os-brick 4.4.0
Change-Id: I0f9e088fbb14ee9a73175aa31bca8c619db5a96f

Closes-Bug: #1921381
Change-Id: I066d456fb1fe9159d4be50ffd8abf9a6d8d07901
(cherry picked from commit d4205bd0be60758d40e342d98424488d56e029ef)
(cherry picked from commit c70d70b24056b81a482de36a8e47757210e2e898)
(cherry picked from commit 9528ceab4f32cebb700a0b69f2ea58ec101700a1)
(cherry picked from commit 4894b242cf97f6630ee21392443ddb3ce1be09ef)
"
openstack%2Fopenstacksdk~master~Ifa3741bafc88901f330bfc81d2d464fd54859dd8,openstack/openstacksdk,master,apply-import-order,Ifa3741bafc88901f330bfc81d2d464fd54859dd8,Apply import order in more tests,MERGED,2021-03-17 11:02:49.000000000,2021-04-07 11:56:52.000000000,2021-04-07 11:53:28.000000000,8,12,0,781078,768a114c90c2bc2c2c9013e930e565604db84255,14,3,3,8,23851,Riccardo Pittau,elfosardo,"Apply import order in more tests

Remove corresponding filters from tox.ini

Change-Id: Ifa3741bafc88901f330bfc81d2d464fd54859dd8
"
openstack%2Fopenstacksdk~master~Iab7d348f85e6f5cbc2fc2e1257a1f8055c049225,openstack/openstacksdk,master,apply-import-order,Iab7d348f85e6f5cbc2fc2e1257a1f8055c049225,Fix more import order in tests,MERGED,2021-03-16 15:34:49.000000000,2021-04-07 11:55:44.000000000,2021-04-07 11:53:20.000000000,28,12,0,780903,d376c4fc5cc685202505986e8a78550db6ccad2b,18,3,3,7,23851,Riccardo Pittau,elfosardo,"Fix more import order in tests

Add single filters in tox.ini

Change-Id: Iab7d348f85e6f5cbc2fc2e1257a1f8055c049225
"
openstack%2Fopenstacksdk~master~Icfb869a8283158391756b4f54608adc0f2f4754a,openstack/openstacksdk,master,apply-import-order,Icfb869a8283158391756b4f54608adc0f2f4754a,Apply import order in some tests,MERGED,2021-03-16 14:56:41.000000000,2021-04-07 11:52:52.000000000,2021-04-07 11:51:23.000000000,30,30,0,780872,9bee004a04a53fda2ea3e248e2df87c95d791428,16,3,3,21,23851,Riccardo Pittau,elfosardo,"Apply import order in some tests

Modify the tox.ini filter

Change-Id: Icfb869a8283158391756b4f54608adc0f2f4754a
"
openstack%2Fmonasca-api~stable%2Fwallaby~Ia43a5376b1e3074a70238056831797a21f41f269,openstack/monasca-api,stable/wallaby,,Ia43a5376b1e3074a70238056831797a21f41f269,Fix log-metric configuration,MERGED,2021-04-07 09:48:32.000000000,2021-04-07 11:51:00.000000000,2021-04-07 11:49:38.000000000,1,1,0,785118,b3ce7ec37b5f2bf980e5be0979c5b7a8d2fe4170,7,2,1,1,28062,Martin Chacon Piza,martinchacon,"Fix log-metric configuration

Fix incorrect if condition in log-metrics logstash configuration,
old if is no working with current version of logstash.

Change-Id: Ia43a5376b1e3074a70238056831797a21f41f269
(cherry picked from commit 1b5cd302989238114da08a82e4efc0b1ff76ac05)
"
openstack%2Fpuppet-heat~stable%2Ftrain~I92552d013db98b972124db901f3f35a326110846,openstack/puppet-heat,stable/train,memcached-cert-stable/train,I92552d013db98b972124db901f3f35a326110846,Add TLS options to oslo.cache,MERGED,2021-04-01 09:01:34.000000000,2021-04-07 11:47:16.000000000,2021-04-07 11:45:54.000000000,62,0,0,784211,fa3eac07264bdb094caacfaa925adacf8e095e71,13,6,1,3,14250,Grzegorz Grasza,xek,"Add TLS options to oslo.cache

This patch specifies a set of options required to build a TLS context.
The context built from those options can later on be passed to any of
the oslo.cache backends that supports TLS connections.

Depends-on: https://review.opendev.org/774120
Change-Id: I92552d013db98b972124db901f3f35a326110846
(cherry picked from commit 42d1e8567d7441633ac9770c9301d8c5e5c0acd1)
"
openstack%2Fmanila~master~I13d13c38a3869929bbfdf8083529a597d7982a16,openstack/manila,master,bug/1897903,I13d13c38a3869929bbfdf8083529a597d7982a16,Add api reference for share server migration,MERGED,2020-10-05 18:14:15.000000000,2021-04-07 11:35:04.000000000,2021-04-07 11:33:44.000000000,444,0,12,756144,256c18d6c22df5b1853d47b26a3f45fbbc44c8c4,28,7,3,11,29632,Carlos Eduardo,silvacarlos,"Add api reference for share server migration

Add documentation to the share server migration APIs introduced
during Victoria release.

Partial-bug: #1897903

Change-Id: I13d13c38a3869929bbfdf8083529a597d7982a16
"
openstack%2Ftripleo-heat-templates~master~I61850fa01afca92aa78412e0277180596633f858,openstack/tripleo-heat-templates,master,update-container-tools,I61850fa01afca92aa78412e0277180596633f858,[update][upgrade] Use container-tools:3.0,MERGED,2021-03-19 17:20:58.000000000,2021-04-07 11:34:19.000000000,2021-04-07 11:34:19.000000000,3,3,0,781828,90984500766aaa3538dcd6dae282298aff5b043b,22,12,2,3,6816,Jesse Pretorius,jesse-pretorius,"[update][upgrade] Use container-tools:3.0

We now need to move forward and pin the newer
container-tools:3.0 stream. This will be available
on RHEL 8.4 and CentOS 8.4+.

Related: rhbz#1866479

Change-Id: I61850fa01afca92aa78412e0277180596633f858
"
openstack%2Ftripleo-ci~master~Ib7d4bde73d3206b96b43a8f3ef2a78882cddf855,openstack/tripleo-ci,master,wallaby-branching,Ib7d4bde73d3206b96b43a8f3ef2a78882cddf855,Add wallaby support for emit_releases_file.py,MERGED,2021-03-29 11:19:00.000000000,2021-04-07 11:26:29.000000000,2021-04-07 11:26:29.000000000,153,13,7,783638,f14bb680fbb016fd4dbed4ae50e65a8fb55b24c9,23,7,5,4,32458,Ananya,frenzyfriday,"Add wallaby support for emit_releases_file.py

Adds wallaby into the emit releases script. Similar to https://review.opendev.org/c/openstack/tripleo-ci/+/757861 which was for victoria.

Change-Id: Ib7d4bde73d3206b96b43a8f3ef2a78882cddf855
"
openstack%2Ftripleo-common~stable%2Fussuri~I19c1d166ca72465fd4ae3dad46de77bb095f73d4,openstack/tripleo-common,stable/ussuri,,I19c1d166ca72465fd4ae3dad46de77bb095f73d4,Don't allow rotation of HeatAuthEncryptionKey,MERGED,2021-03-20 03:41:15.000000000,2021-04-07 11:08:05.000000000,2021-04-07 11:05:59.000000000,1,0,0,781936,9187e2e1b44886a04d6559d6d27eebd0c507d9fc,31,4,2,1,8833,Rabi Mishra,rabi,"Don't allow rotation of HeatAuthEncryptionKey

Heat does not support rotation of auth_encryption_key
for existing deployments with heat stacks. Once this
key has been rotated exisiting stacks can't be updated
or even deleted. Let's not allow them to be changed.

Change-Id: I19c1d166ca72465fd4ae3dad46de77bb095f73d4
(cherry picked from commit 5db2ab20405a3406f208e56dfec0493e93aa0029)
"
openstack%2Fvalidations-common~master~I5c5a473bda9134d72c01eb4aea22452ebfb85fe5,openstack/validations-common,master,cover/ingoretests,I5c5a473bda9134d72c01eb4aea22452ebfb85fe5,Cover report omits test files,MERGED,2021-03-16 14:01:04.000000000,2021-04-07 11:06:32.000000000,2021-04-07 11:06:32.000000000,3,2,0,780853,caeb26b1f5c89d1fc1879bb895c350e2f2dc96e4,15,6,3,2,32926,Jiri Podivin,jpodivin,"Cover report omits test files

Coverage report previously included information about
files used by unit tests. Which distorted the statistics
in a considerable fashion.

Keeping the setting in the .coveragerc is a better option.
Also fixes wrong source path in .coveragerc.

Closes-bug: #1922726

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I5c5a473bda9134d72c01eb4aea22452ebfb85fe5
"
openstack%2Ftripleo-heat-templates~master~If0eedff9515f25740ac026e8d356d007da11a19d,openstack/tripleo-heat-templates,master,disable_md5_for_iscsid,If0eedff9515f25740ac026e8d356d007da11a19d,Add parameter to set iscsid CHAP algorithms,MERGED,2021-03-01 22:59:47.000000000,2021-04-07 11:06:05.000000000,2021-04-07 11:06:05.000000000,14,4,4,778089,af4d2383873ca77d621b3306c0bde8485a1e5629,35,9,2,1,9914,Ade Lee,alee,"Add parameter to set iscsid CHAP algorithms

By default, iscsid uses md5 for CHAP negotiation.  This will not
work for FIPS enabled systems.  Add a parameter to allow the
algorithm list to be set explicitly.

Co-Authored-By: Alan Bishop <abishop@redhat.com>
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778081
Change-Id: If0eedff9515f25740ac026e8d356d007da11a19d
"
openstack%2Fopenstacksdk~master~Ief3c3981a039b3ae38eeaeccd1fb70e974c94082,openstack/openstacksdk,master,,Ief3c3981a039b3ae38eeaeccd1fb70e974c94082,Avoid prometheus metrics explosion,MERGED,2021-04-06 10:16:29.000000000,2021-04-07 10:56:52.000000000,2021-04-07 10:55:05.000000000,5,1,0,784912,3f2034832bef5084e67afb96816f599b765a6cd5,12,3,1,1,16068,Tobias Henkel,tobias.henkel,"Avoid prometheus metrics explosion

Openstacksdk reports metrics for prometheus and adds an endpoint-label
containing the full url of every request. In case the endpoints
contain query strings this can easily cause metric explosion. To fix
this we can parse the url and strip the query string.

Change-Id: Ief3c3981a039b3ae38eeaeccd1fb70e974c94082
"
openstack%2Fmonasca-api~stable%2Fussuri~Ia43a5376b1e3074a70238056831797a21f41f269,openstack/monasca-api,stable/ussuri,,Ia43a5376b1e3074a70238056831797a21f41f269,Fix log-metric configuration,MERGED,2021-04-06 21:35:00.000000000,2021-04-07 10:54:57.000000000,2021-04-07 10:53:39.000000000,1,1,0,784986,b43809ca40ec6f2d1a051458d2300afbf872802f,7,2,1,1,26141,Adrian Czarnecki,czarneckia,"Fix log-metric configuration

Fix incorrect if condition in log-metrics logstash configuration,
old if is no working with current version of logstash.

Change-Id: Ia43a5376b1e3074a70238056831797a21f41f269
(cherry picked from commit 1b5cd302989238114da08a82e4efc0b1ff76ac05)
"
openstack%2Fmonasca-api~stable%2Fvictoria~Ia43a5376b1e3074a70238056831797a21f41f269,openstack/monasca-api,stable/victoria,,Ia43a5376b1e3074a70238056831797a21f41f269,Fix log-metric configuration,MERGED,2021-04-06 21:34:41.000000000,2021-04-07 10:54:55.000000000,2021-04-07 10:53:36.000000000,1,1,0,784985,67ac39dfb05c99a1ce7909df48f9ba4a51cd3724,7,2,1,1,26141,Adrian Czarnecki,czarneckia,"Fix log-metric configuration

Fix incorrect if condition in log-metrics logstash configuration,
old if is no working with current version of logstash.

Change-Id: Ia43a5376b1e3074a70238056831797a21f41f269
(cherry picked from commit 1b5cd302989238114da08a82e4efc0b1ff76ac05)
"
openstack%2Fpuppet-keystone~master~I7df39cd3ab18967946afb2954cfa9afd8aa46d72,openstack/puppet-keystone,master,debian-uwsgi-config,I7df39cd3ab18967946afb2954cfa9afd8aa46d72,Add support for keystone_uwsgi_config in Debian,MERGED,2021-03-16 16:03:56.000000000,2021-04-07 10:47:24.000000000,2021-04-07 10:45:57.000000000,225,0,21,780918,4fc3eb01e528095692d56d16a3f5aacc7e5aec2d,57,5,14,8,6476,Thomas Goirand,thomas-goirand,"Add support for keystone_uwsgi_config in Debian

This patch is adding the configuration of the number of workers,
threads, and the size of the listen queue in Debian, which uses
uwsgi to run Keystone. Therefore, this patch adds a new
keystone_uwsgi_config provider as well as a new keystone::wsgi::uwsgi
class.

This is, hopefully, the first of a long series of patches for
the whole puppet-openstack to add uwsgi support.

Change-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72
"
openstack%2Fkolla-ansible~master~Ifed4d9f7ee6f088ebb4c7f84e4d1587c21f4b191,openstack/kolla-ansible,master,restrict-pkg-binary-distro,Ifed4d9f7ee6f088ebb4c7f84e4d1587c21f4b191,Update Monasca image build instructions,ABANDONED,2019-02-04 15:32:45.000000000,2021-04-07 10:41:25.000000000,,8,5,2,634719,ac926688359089a2276256f92f754d8dac742316,18,5,2,2,17669,Doug Szumski,DougSzumski,"Update Monasca image build instructions

The commit this depends on removes the Monasca Fluentd
plugin from the binary image. We therefore need to update
the instructions so that the user builds a source type
Fluentd image.

Depends-On: https://review.openstack.org/#/c/634019/
Change-Id: Ifed4d9f7ee6f088ebb4c7f84e4d1587c21f4b191
"
openstack%2Fkolla-ansible~master~I3a4195261220c88b9f23678bbc459ceda766147b,openstack/kolla-ansible,master,,I3a4195261220c88b9f23678bbc459ceda766147b,Enable gathering CPU load info in cAdvisor,ABANDONED,2020-01-23 16:27:35.000000000,2021-04-07 10:39:15.000000000,,15,1,3,704022,a06b94f81f092325321c62c7342a69218c08a423,12,6,2,3,17669,Doug Szumski,DougSzumski,"Enable gathering CPU load info in cAdvisor

It can be useful to monitor CPU load as a function of container. This
change adds a flag to enable such functionality in cAdvisor. The
default setting of disabling CPU load monitoring is maintained.

Change-Id: I3a4195261220c88b9f23678bbc459ceda766147b
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7cef73c57e7b69f4d031e220c954803afd5e0b8c,openstack/tripleo-heat-templates,stable/train,train-frr,I7cef73c57e7b69f4d031e220c954803afd5e0b8c,WIP/DNR/DNM FRR service,ABANDONED,2020-12-28 10:07:32.000000000,2021-04-07 10:30:18.000000000,,337,11,0,768598,a7960103914899a1f56ed8e4761b491e843acccf,9,3,3,41,20172,Michele Baldessari,michele,"WIP/DNR/DNM FRR service

Depends-On: https://review.opendev.org/763572
Change-Id: I7cef73c57e7b69f4d031e220c954803afd5e0b8c
(cherry picked from commit a3bf8aaf9df460cc79aa828cd549e99876b9fe2e)
"
openstack%2Ftripleo-heat-templates~master~I91d3a879938bf6839eaf7e8b2c3d7f617109be2e,openstack/tripleo-heat-templates,master,bug/1922282,I91d3a879938bf6839eaf7e8b2c3d7f617109be2e,Enable exec resource to generate policy.yaml for Gnocchi,MERGED,2021-04-06 15:07:42.000000000,2021-04-07 10:28:19.000000000,2021-04-07 10:28:19.000000000,1,1,0,784971,1ca4f727b6f2f6447ab016f96dd6945f2537050a,15,7,3,1,9816,Takashi Kajinami,kajinamit,"Enable exec resource to generate policy.yaml for Gnocchi

The recent change[1] in puppet-gnocchi introduced conversion of policy
file from yaml to json, using the exec resource, thus we need to ensure
that the exec resource is enabled.

[1] https://review.opendev.org/c/openstack/puppet-gnocchi/+/768690

Depends-on: https://review.opendev.org/785076
Closes-Bug: #1922282
Change-Id: I91d3a879938bf6839eaf7e8b2c3d7f617109be2e
"
openstack%2Fpuppet-tripleo~master~I65842685b026eca1eb18f458c1b81096d9bd51bf,openstack/puppet-tripleo,master,bug/1922282,I65842685b026eca1eb18f458c1b81096d9bd51bf,Gnocchi: Do not manage facl of ceph keyring,MERGED,2021-04-06 23:39:59.000000000,2021-04-07 10:28:13.000000000,2021-04-07 10:28:13.000000000,1,15,2,785076,6aa468113712415711937f20a6652ab60db14420,10,4,1,2,9816,Takashi Kajinami,kajinamit,"Gnocchi: Do not manage facl of ceph keyring

... because this logic is never enabled and blocking usage of the exec
resource now.

Change-Id: I65842685b026eca1eb18f458c1b81096d9bd51bf
Related-Bug: #1922282
"
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~If6214bd0be483138d565ea693e2ec952d4a02451,openstack/puppet-openstack-integration,stable/train,c8s-stable/victoria-stable/ussuri-stable/train,If6214bd0be483138d565ea693e2ec952d4a02451,Add syntax job on CentOS 8 Stream,MERGED,2021-03-28 12:38:22.000000000,2021-04-07 10:05:08.000000000,2021-04-07 10:05:08.000000000,9,0,0,783541,4142c56d4db7c45d6a9e3afbe5fef52effb508d6,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Add syntax job on CentOS 8 Stream

Change-Id: If6214bd0be483138d565ea693e2ec952d4a02451
(cherry picked from commit 7e2728f284d46663fc299acfc99160b9be57e2e5)
(cherry picked from commit 37f12d2ca35eb86536f5426bc1819c5fada061ac)
(cherry picked from commit 838aa8c4a591ecadf2593f45afb44cda2a46f14e)
"
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~If6214bd0be483138d565ea693e2ec952d4a02451,openstack/puppet-openstack-integration,stable/ussuri,c8s-stable/victoria-stable/ussuri,If6214bd0be483138d565ea693e2ec952d4a02451,Add syntax job on CentOS 8 Stream,MERGED,2021-03-28 12:37:58.000000000,2021-04-07 10:05:05.000000000,2021-04-07 10:05:05.000000000,9,0,0,783540,838aa8c4a591ecadf2593f45afb44cda2a46f14e,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Add syntax job on CentOS 8 Stream

Change-Id: If6214bd0be483138d565ea693e2ec952d4a02451
(cherry picked from commit 7e2728f284d46663fc299acfc99160b9be57e2e5)
(cherry picked from commit 37f12d2ca35eb86536f5426bc1819c5fada061ac)
"
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I6e4249c3004cef66a62eb058a9823fbda344793f,openstack/puppet-openstack-integration,stable/ussuri,c8s-beaker,I6e4249c3004cef66a62eb058a9823fbda344793f,[Stable only] Add non-voting beaker job on CentOS8 Stream,MERGED,2021-03-28 12:47:33.000000000,2021-04-07 10:05:01.000000000,2021-04-07 10:05:01.000000000,34,0,1005,783574,6acbc6ba4f5e96a7c7db35fc7bbd50d34dd7a8c0,16,3,6,3,9816,Takashi Kajinami,kajinamit,"[Stable only] Add non-voting beaker job on CentOS8 Stream

This is a prepraration step to replace all CentOS8 jobs with CentOS8
Stream jobs.
Beacuse beaker jobs were replaced with litmus jobs during Victoria
cycle this is submitted to only stable branches.

Change-Id: I6e4249c3004cef66a62eb058a9823fbda344793f
"
openstack%2Fcharm-rabbitmq-server~master~I7f026d08dd44990b121e195ac6817bf7825b71f1,openstack/charm-rabbitmq-server,master,libraries-sync-21-04,I7f026d08dd44990b121e195ac6817bf7825b71f1,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:34:03.000000000,2021-04-07 09:45:34.000000000,2021-04-07 09:45:34.000000000,1012,12,0,784693,19ee453fb7d926a47e3704b5176d5e67f135bded,15,4,1,11,20870,Alex Kavanagh,ajkavanagh,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: I7f026d08dd44990b121e195ac6817bf7825b71f1
"
openstack%2Fcharm-vault~master~I531088a70f1281ba7f2f066c383e234fb7a8164f,openstack/charm-vault,master,libraries-sync-21-04,I531088a70f1281ba7f2f066c383e234fb7a8164f,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:35:20.000000000,2021-04-07 09:42:10.000000000,2021-04-07 09:42:10.000000000,301,6,0,784696,d8e7e4644db3583d113e70fdfc297d5b83eb4f94,12,4,1,5,20870,Alex Kavanagh,ajkavanagh,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: I531088a70f1281ba7f2f066c383e234fb7a8164f
"
openstack%2Fcharm-nova-compute~master~Ibd3a5ff768b0fd48148d3506a6c2c5d6ac1e9734,openstack/charm-nova-compute,master,bug/1889216,Ibd3a5ff768b0fd48148d3506a6c2c5d6ac1e9734,Allow RO access to /var/lib/nova/instances dir,ABANDONED,2020-07-28 13:00:53.000000000,2021-04-07 09:30:34.000000000,,1,0,0,743527,c40d70286fd83a64aad74805e14808fb15f8f56b,9,3,1,1,24824,Dmitrii Shcherbakov,dmitriis,"Allow RO access to /var/lib/nova/instances dir

Having a rule with /dir/** is not enough to allow opening that dir
itself for reading.

https://gitlab.com/apparmor/apparmor/-/wikis/QuickProfileLanguage#file-globbing-examples
/dir/         - match a directory
/dir/**       - match any file or directory in or below /dir/

Change-Id: Ibd3a5ff768b0fd48148d3506a6c2c5d6ac1e9734
Closes-Bug: #1889216
"
openstack%2Fcharms.ceph~master~Ie2e2a4da03a0c105ed6e02a9a470d90a209823a6,openstack/charms.ceph,master,fe-collocate-if-db-unspecified,Ie2e2a4da03a0c105ed6e02a9a470d90a209823a6,use wal devices if there are no db devices,ABANDONED,2018-07-23 09:28:04.000000000,2021-04-07 09:27:41.000000000,,1,0,1,584784,51fc29cf1f142f5b30f93590436ffa0e470baf7c,9,3,3,1,24824,Dmitrii Shcherbakov,dmitriis,"use wal devices if there are no db devices

As a workaround for https://bugs.launchpad.net/juju/+bug/1783084,
we need to be able to use the same device for wal and db unless
something is specified for db specifically.

Change-Id: Ie2e2a4da03a0c105ed6e02a9a470d90a209823a6
Closes-Bug: #1783084
"
openstack%2Fcharm-ceph-osd~master~I54bb5e3635ee1b63e40e3b8cbf68ad37e3a39f5d,openstack/charm-ceph-osd,master,fe-collocate-if-db-unspecified,I54bb5e3635ee1b63e40e3b8cbf68ad37e3a39f5d,use wal devices if there are no db devices,ABANDONED,2018-07-23 09:25:56.000000000,2021-04-07 09:27:33.000000000,,1,0,1,584783,b8443ceb40f01d8eb9961f39217e9471e269101d,12,4,4,1,24824,Dmitrii Shcherbakov,dmitriis,"use wal devices if there are no db devices

As a workaround for https://bugs.launchpad.net/juju/+bug/1783084,
we need to be able to use the same device for wal and db unless
something is specified for db specifically.

Change-Id: I54bb5e3635ee1b63e40e3b8cbf68ad37e3a39f5d
Closes-Bug: #1783084
"
openstack%2Fcharm-octavia~stable%2F20.05~I6b58a61789251803a217749187a12a3304200879,openstack/charm-octavia,stable/20.05,bug/1881566,I6b58a61789251803a217749187a12a3304200879,Rebuild the charm to fix installation on Juju <2.7,ABANDONED,2020-06-01 10:39:03.000000000,2021-04-07 09:27:09.000000000,,1,1,0,732152,59219f86465a3da819211fbda7a8b2695b376782,6,3,1,1,24824,Dmitrii Shcherbakov,dmitriis,"Rebuild the charm to fix installation on Juju <2.7

A rebuild to include this:
https://github.com/juju-solutions/layer-basic/pull/174

Change-Id: I6b58a61789251803a217749187a12a3304200879
Closes-Bug: #1881566
(cherry picked from commit 285d94533127a334e18b2ed1e6c0c5248e5d1492)
"
openstack%2Fcharm-interface-keystone-credentials~master~Ibb293225b1c36851570821029a2483099ee9e1a1,openstack/charm-interface-keystone-credentials,master,bug/1916271,Ibb293225b1c36851570821029a2483099ee9e1a1,Fix the incorrect method names,ABANDONED,2021-02-19 17:20:56.000000000,2021-04-07 09:26:50.000000000,,2,2,0,776685,691631aa0d4ee55adaf1bb82279eb51ffb57c877,6,2,2,1,24824,Dmitrii Shcherbakov,dmitriis,"Fix the incorrect method names

set_flag and clear_flag are apparently not available on RelationBase but
they were added based on request in the review here:

https://review.opendev.org/c/openstack/charm-interface-keystone-credentials/+/747970

set_state and remove_state should be used instead because of the choice
of the base class.

Closes-Bug: #1916271

Change-Id: Ibb293225b1c36851570821029a2483099ee9e1a1
"
openstack%2Fbarbican-tempest-plugin~master~Ie5b7b6f7df20ec96e916232e70e9f61c7771f9d2,openstack/barbican-tempest-plugin,master,secure-rbac,Ie5b7b6f7df20ec96e916232e70e9f61c7771f9d2,Add secure-rbac tests for Orders,MERGED,2021-04-01 15:00:08.000000000,2021-04-07 09:25:12.000000000,2021-04-07 09:25:12.000000000,197,16,11,784433,1febf40838581d792c695e4f468fe4f0d6c517b8,15,5,2,4,7973,Douglas Mendizábal,dougmendizabal,"Add secure-rbac tests for Orders

This patch adds basic RBAC tests for the Orders resource for
the reader, member, and admin personas with project scope.

Change-Id: Ie5b7b6f7df20ec96e916232e70e9f61c7771f9d2
"
openstack%2Fheat~stable%2Ftrain~Ibc87f20a86aa706663ec117c5619aa00d9644a7a,openstack/heat,stable/train,,Ibc87f20a86aa706663ec117c5619aa00d9644a7a,Change py2/grenade jobs to non-voting,MERGED,2021-04-07 04:46:57.000000000,2021-04-07 09:19:33.000000000,2021-04-07 09:14:45.000000000,5,8,0,785088,ede47008bcfe3acef2050476b42ae6a3bedb7a67,8,3,1,1,8833,Rabi Mishra,rabi,"Change py2/grenade jobs to non-voting

We've some issues with tempest and devstack py2 support
which is blocking train backports. Let's set them to
non-voting untill the issues are fixed. Also removes
not used amqp1 job definition.

Change-Id: Ibc87f20a86aa706663ec117c5619aa00d9644a7a
"
openstack%2Fkolla-ansible~master~I22e11a994801447526ac26fc2815a1679876225e,openstack/kolla-ansible,master,kolla-quay.io,I22e11a994801447526ac26fc2815a1679876225e,[CI] Use images from quay.io,MERGED,2021-03-18 19:01:51.000000000,2021-04-07 09:07:26.000000000,2021-04-06 01:31:39.000000000,4,2,3,781546,9c045aee36997098b655c7d6b03c72f3409ab152,44,9,5,1,30491,Radosław Piliszek,yoctozepto,"[CI] Use images from quay.io

Based on the discussions from the past 3 Kolla meetings [1][2][3],
we established that, to avoid the DockerHub pull limit issues
in our CI, we will try using quay.io.

The images have already been published via Kolla CI
for master/Wallaby [4] and Victoria [5].

This change applies only to CI.
The user-facing move is yet to be discussed.

[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102
[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137
[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50
[4] https://review.opendev.org/c/openstack/kolla/+/781130
[5] https://review.opendev.org/c/openstack/kolla/+/781899

Change-Id: I22e11a994801447526ac26fc2815a1679876225e
"
openstack%2Fos-net-config~master~I6cfc08835a3c6305f75c71475d9560415931b468,openstack/os-net-config,master,bug/1891520,I6cfc08835a3c6305f75c71475d9560415931b468,Exit on schema validation errors by default,ABANDONED,2020-08-13 15:20:34.000000000,2021-04-07 09:01:44.000000000,,1,1,1,746156,2a1470d21813637c658e3408622d223803e85400,21,9,1,1,12398,Dan Sneddon,dsneddon,"Exit on schema validation errors by default

The schema validation does not cause a fatal error if it fails,
but as the schema validation is now very accurate there is very
little chance that an invalid schema will result in a working
configuration. By exiting by default on validation errors we
may be able to avoid leaving a deployment in an unworkable
state if the NIC configuration is wrong.

Change-Id: I6cfc08835a3c6305f75c71475d9560415931b468
Closes-bug: #1891520
"
openstack%2Freleases~master~I936b052c52e854a5981162d8c462308741df6c37,openstack/releases,master,wallaby-rc2,I936b052c52e854a5981162d8c462308741df6c37,Release tacker RC2 for Wallaby,MERGED,2021-04-06 09:56:13.000000000,2021-04-07 08:44:12.000000000,2021-04-07 08:44:12.000000000,4,0,3,784908,80cb0a0b223988892a32a42ac8aa3e394fac6d12,14,3,2,1,25701,Yasufumi Ogawa,yasufum,"Release tacker RC2 for Wallaby

It includes a fix for resolving critical dependency problem[1].

[1] https://review.opendev.org/c/openstack/tacker/+/784443

Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: I936b052c52e854a5981162d8c462308741df6c37
"
openstack%2Fvitrage~master~I3f22448c53c827a7402af3a514112e63196cdf3b,openstack/vitrage,master,doc,I3f22448c53c827a7402af3a514112e63196cdf3b,Maintain  Vitrage Configuration FMT,MERGED,2021-04-07 07:10:17.000000000,2021-04-07 08:16:06.000000000,2021-04-07 08:14:44.000000000,5,5,0,785095,5b6f02e2e0b5418d1e3c3c8ac67ca828686be67b,8,3,1,5,32577,Hongtao Qi,qihongtao03,"Maintain  Vitrage Configuration FMT

Maintain format of the document.

Implements: blueprint maintain-document
Change-Id: I3f22448c53c827a7402af3a514112e63196cdf3b
"
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I973ea8c210db477b735a99755332346a646bea19,openstack/python-tripleoclient,stable/victoria,vf/static/inv-stable/victoria,I973ea8c210db477b735a99755332346a646bea19,Move static-inventory option into parser group,MERGED,2021-04-01 14:45:56.000000000,2021-04-07 08:13:05.000000000,2021-04-07 08:11:24.000000000,12,11,0,784400,fb409edeb76c9d21ee05424cf8c72994679107f7,12,3,1,1,16515,mbu,matbu,"Move static-inventory option into parser group

Static-inventory should not be in extra_vars_group, this
patch move this option into parser.
It's faling when we want to provide both:
--static-inventory and --extra-vars option since the
extra_vars_group is mutually exclusive.

Change-Id: I973ea8c210db477b735a99755332346a646bea19
(cherry picked from commit 986f9261119f64fcbfe1c3957ee1c721eed370df)
"
openstack%2Ftripleo-common~master~I5247b1aa9b6dbbbfacab62aa03beeecc7e4945a4,openstack/tripleo-common,master,healthcheck_reduce,I5247b1aa9b6dbbbfacab62aa03beeecc7e4945a4,Cache lsof results for the given path and TTL,ABANDONED,2021-04-01 09:59:34.000000000,2021-04-07 07:40:57.000000000,,51,14,61,784359,c4a7105288091ed1aead8c834cce8c478f46b5ae,43,6,7,1,6926,Bogdan Dobrelya,bogdando,"Cache lsof results for the given path and TTL

In order to avoid spamming multiple lsof processes,
snapshot its results periodically for all healtchecks to use that
cached view. The cached PATH and TTL are configurable.

Multiple containers will access the most recent snapshot in a
locks-free fashion. After TTL expires, all cached snapshots get
purged.

Depends-On: https://review.opendev.org/784540
Closes-Bug: #1921714
Change-Id: I5247b1aa9b6dbbbfacab62aa03beeecc7e4945a4
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I6136bd1f64c44276006cedf9a03eacc1ff30fd73,openstack/tripleo-heat-templates,master,healthcheck_reduce,I6136bd1f64c44276006cedf9a03eacc1ff30fd73,Create shared healthchecks data dir,ABANDONED,2021-04-02 07:22:07.000000000,2021-04-07 07:40:41.000000000,,22,0,0,784540,723a6bcfcc09ac61ef0e27e93e196600be6538b7,15,2,2,2,6926,Bogdan Dobrelya,bogdando,"Create shared healthchecks data dir

This shared dir is needed for containers healthchecks to
keep its data there, like the cached network connections info.

Change-Id: I6136bd1f64c44276006cedf9a03eacc1ff30fd73
Related-Bug: #1921714
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fmurano-agent~stable%2Fwallaby~I672d275490c9098f9f8835658921002416609da1,openstack/murano-agent,stable/wallaby,,I672d275490c9098f9f8835658921002416609da1,Fix lower-constraints job,MERGED,2021-04-07 05:59:13.000000000,2021-04-07 07:19:46.000000000,2021-04-07 07:18:05.000000000,158,70,0,784991,7475858b30db28c3436f091b6893a1dd6a8306ec,7,2,1,4,14107,zhurong,zhurong,"Fix lower-constraints job

Change-Id: I672d275490c9098f9f8835658921002416609da1
(cherry picked from commit 89b4512e0d2ff084167416f0ef4a97f54c12e089)
"
openstack%2Fironic-inspector~bugfix%2F10.3~Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17,openstack/ironic-inspector,bugfix/10.3,node_id-stable/victoria-bugfix/10.3,Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17,Use correct Node id attribute,ABANDONED,2021-01-18 13:29:20.000000000,2021-04-07 07:19:29.000000000,,11,8,0,771197,bb25890584497795dbe6354f3c801dc8ab4d7bd6,5,2,2,5,23851,Riccardo Pittau,elfosardo,"Use correct Node id attribute

According to the openstacksdk docs[1] the Node uuid is stored in the
id attribute. This change removes the get_node shim which adds the
uuid attribute, and replaces any calls to Node.uuid with Node.id. This
will stop the many log debug warnings about this attribute:

    DEBUG openstack.resource [-] Attribute [uuid] not found in
    [<openstack.resource._ComponentManager object at 0x7f417e43aa20>]:
    'uuid'. __getattribute__ /usr/lib/python3.6/site-packages/openstack/resource.py:623

Calls to NodeInfo.uuid or db.Node.uuid remain unchanged.

Change-Id: Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17
Story: 2008379
Task: 41300
(cherry picked from commit c387cf305cd69a09554273d14199464fa2373272)
(cherry picked from commit 70fccecb2da254d4e5e98b4b30f504e1b19c8408)
"
openstack%2Fheat~stable%2Fwallaby~Icc90a921ec67e49aec2c4acfad72235c57c78421,openstack/heat,stable/wallaby,,Icc90a921ec67e49aec2c4acfad72235c57c78421,Don't update status for replaced resource,MERGED,2021-04-02 03:46:41.000000000,2021-04-07 07:19:16.000000000,2021-04-07 07:17:25.000000000,2,12,0,784409,7af71497ed15882a0f2a543cd8dd83c60b781f95,12,3,2,4,8833,Rabi Mishra,rabi,"Don't update status for replaced resource

With I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed
update of previously-existing resource if replacement
creation has failed during last update. However, we force
update the status of the existing resource to 'COMPLETE'.
Therefore, in the next update if properties/type has not
changed for the resource it won't try to update/replace
the previously existing resource resulting in false positive
of stack updated successfully.

Task: 42194
Change-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421
(cherry picked from commit bfbaab107d709c37548a22239b952c6221b9ac85)
"
openstack%2Fbifrost~bugfix%2F8.3~Ie5e6a655b103dd7edb447f56bff8da870193deba,openstack/bifrost,bugfix/8.3,remove-l-c-job,Ie5e6a655b103dd7edb447f56bff8da870193deba,Remove lower-constraints job,ABANDONED,2021-01-06 09:56:43.000000000,2021-04-07 07:19:09.000000000,,0,1,0,769498,14edfae364f4f03540faca515abd0ba6373bc0a1,10,1,4,1,23851,Riccardo Pittau,elfosardo,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Change-Id: Ie5e6a655b103dd7edb447f56bff8da870193deba
(cherry picked from commit 986427ce8eaa96e820f3cb8cda4cc1954c449994)
"
openstack%2Fironic-inspector~bugfix%2F10.3~I943b63b9c6a980011b35bb028c64bee18d772750,openstack/ironic-inspector,bugfix/10.3,remove-l-c-job,I943b63b9c6a980011b35bb028c64bee18d772750,Remove lower-constraints job,ABANDONED,2021-01-06 10:56:22.000000000,2021-04-07 07:18:44.000000000,,3,4,0,769504,7d30d642c2e0f632dd3b7b84e48cd6391e08b5b4,15,2,4,3,23851,Riccardo Pittau,elfosardo,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Also fixing user creation with GRANT in MySQL 8.0(Ubuntu Focal)
Ubuntu Focal (20.04) has mysql 8.0 and with mysql 8.0 there
is no implicit user creation with GRANT. We need to
create the user first before using GRANT command.

Also increase memory for the grenade job.

Change-Id: I943b63b9c6a980011b35bb028c64bee18d772750
(cherry picked from commit c6fdf2511697305e2f00ec444081ab3353074b22)
(cherry picked from commit 9a89c304797e8d7f2a64a0516d4aeb085abcefe3)
"
openstack%2Fbifrost~stable%2Fussuri~Ieebe2690a1b084c04476d7e7e1c836517860e3c0,openstack/bifrost,stable/ussuri,test-ci-ussuri,Ieebe2690a1b084c04476d7e7e1c836517860e3c0,[DNM] test CI ussuri,ABANDONED,2021-02-01 09:21:32.000000000,2021-04-07 07:18:07.000000000,,3,0,0,773319,3292ee5dd73672933f55ccf63272b3678c7aef9a,4,1,2,1,23851,Riccardo Pittau,elfosardo,"[DNM] test CI ussuri

Change-Id: Ieebe2690a1b084c04476d7e7e1c836517860e3c0
"
openstack%2Fbifrost~stable%2Fvictoria~Id09a11fde8a82f55140685bc1bc2b455ef57a571,openstack/bifrost,stable/victoria,test-ci-victoria,Id09a11fde8a82f55140685bc1bc2b455ef57a571,[DNM] test CI victoria,ABANDONED,2021-01-28 17:06:02.000000000,2021-04-07 07:17:41.000000000,,3,0,0,772926,ab7a9e1038d65ea9ddcd8cbe7618cd8aa859a441,11,1,4,1,23851,Riccardo Pittau,elfosardo,"[DNM] test CI victoria

Change-Id: Id09a11fde8a82f55140685bc1bc2b455ef57a571
"
openstack%2Fmurano-agent~master~Ibf617430ca574d67160f0f66bf964c6609448835,openstack/murano-agent,master,add-xena-python-jobtemplates,Ibf617430ca574d67160f0f66bf964c6609448835,Add Python3 xena unit tests,MERGED,2021-03-26 18:33:56.000000000,2021-04-07 07:14:42.000000000,2021-04-07 07:14:42.000000000,1,1,0,783424,80bbf4e75bc93c5a7ffa165a5ffa162c211f40f2,8,2,1,1,22816,OpenStack Release Bot,release,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ibf617430ca574d67160f0f66bf964c6609448835
"
openstack%2Fpython-solumclient~stable%2Fwallaby~I5c23a28660be9c0901befaeb1571cb3b94aca572,openstack/python-solumclient,stable/wallaby,,I5c23a28660be9c0901befaeb1571cb3b94aca572,Fix lower-constraints job,MERGED,2021-04-07 05:58:43.000000000,2021-04-07 07:14:01.000000000,2021-04-07 07:12:31.000000000,72,21,0,784990,2b3dd159cf83ccde1f66f013336bc0fc8a12a382,7,2,1,4,14107,zhurong,zhurong,"Fix lower-constraints job

Change-Id: I5c23a28660be9c0901befaeb1571cb3b94aca572
(cherry picked from commit 7156485d743ce58f0adba739ca7839d81c9362a9)
"
openstack%2Fcyborg~stable%2Fwallaby~I03ccdd6799f25e5ffa987d36955759705e0750b3,openstack/cyborg,stable/wallaby,bug/1922183,I03ccdd6799f25e5ffa987d36955759705e0750b3,Revert device_profile key to show device profile API,MERGED,2021-04-07 05:36:52.000000000,2021-04-07 07:11:24.000000000,2021-04-07 07:10:10.000000000,27,6,0,784989,40408435869cecd87fb53ed5fccdc2160ae01540,11,3,2,2,31412,Wenping Song,songwenping,"Revert device_profile key to show device profile API

This patch[1] remove the 'device_profile' key in the get device profile
api, which affects the stable/* branch's CI job such as [2], and the
'device_profile' can not be removed from the response. In the future,
we can use add a microversion to support removing it, that can be
unified with other APIs like devices and arqs.

[1] https://review.opendev.org/c/openstack/cyborg/+/751988
[2] https://review.opendev.org/c/openstack/cyborg/+/782134

Depends-On: https://review.opendev.org/c/openstack/cyborg-tempest-plugin/+/784527

Closes-Bug: #1922183
Change-Id: I03ccdd6799f25e5ffa987d36955759705e0750b3
(cherry picked from commit 008c3668c04d3f98362fed9502ffaba731d15763)
"
openstack%2Ftripleo-docs~master~I9af03c6de241ad7fe706ee12bdd2a6eece9880a6,openstack/tripleo-docs,master,pre_deploy_setup_tasks,I9af03c6de241ad7fe706ee12bdd2a6eece9880a6,Add some docs for pre_deploy_step_tasks,MERGED,2021-04-02 06:21:48.000000000,2021-04-07 07:02:36.000000000,2021-04-07 07:01:11.000000000,8,0,2,784534,ce853b2f97d8381ef7db5488394567ee9d3d5b9e,17,3,3,1,20172,Michele Baldessari,michele,"Add some docs for pre_deploy_step_tasks

Via If3c74703a684fbd5a815e073cc9da34e9ad672e8 we're adding a new
set of tasks, let's document those.

Change-Id: I9af03c6de241ad7fe706ee12bdd2a6eece9880a6
Depends-On: If3c74703a684fbd5a815e073cc9da34e9ad672e8
"
openstack%2Fironic-python-agent~stable%2Fussuri~If17d4b4c06df5504987e61a1fde6662e9acd6989,openstack/ironic-python-agent,stable/ussuri,fstab-ussuri,If17d4b4c06df5504987e61a1fde6662e9acd6989,Prevent broken partition image UEFI deploys,MERGED,2021-03-23 02:20:29.000000000,2021-04-07 06:21:18.000000000,2021-04-07 06:18:00.000000000,774,68,0,782351,9783992341f64ba7c88e52ce80ad3ac48a304306,20,3,1,3,4571,Steve Baker,steve-stevebaker,"Prevent broken partition image UEFI deploys

Partition images can sometimes contain a /boot folder structure
event he assets for EFI booting on that filesystem. Which is a
good thing. The conundrum is that Ironic does not handle this
properly and potentially replaces the bootloader in this sequence
such that grub2-install is used instead of signed bootloader assets.

As such, we should be preserving the assets and using them from
a partition image much like we do when we have a wholedisk
image and can identify the assets.

Now we will preserve the EFI boot assets, copy them to the new EFI
boot partition, and call the EFI setup methods to manage the EFI
nvram.

Note, this change also splits the logic path out that performs the
end call of the EFI boot manager into a reusable method but does
not retool all of the testing as it is intertwined in the
install_grub2 testing.

Also adds some additional debug logging, as much of the bootloader
installation code has multiple fallback/cleanup points which makes
it difficult to debug from logs.

Story: 2008070
Task: 40753
Change-Id: If17d4b4c06df5504987e61a1fde6662e9acd6989
(cherry picked from commit f9870d58120a493c40493df6ef22662364138c31)
"
openstack%2Fpython-solumclient~master~Ibdf1300086b1ca2ddd132f3ab1e12b3dc462f762,openstack/python-solumclient,master,add-xena-python-jobtemplates,Ibdf1300086b1ca2ddd132f3ab1e12b3dc462f762,Add Python3 xena unit tests,MERGED,2021-03-15 08:55:38.000000000,2021-04-07 06:08:50.000000000,2021-04-07 06:03:21.000000000,1,1,0,780503,2be3c97c53bb65da653378079722f5b36775d634,9,2,1,1,22816,OpenStack Release Bot,release,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ibdf1300086b1ca2ddd132f3ab1e12b3dc462f762
"
openstack%2Faodh~master~I2fd374514fd6bf3be02191b7a23b50b6dec93e08,openstack/aodh,master,python38,I2fd374514fd6bf3be02191b7a23b50b6dec93e08,Use python 3.8 for tox,MERGED,2021-03-04 21:34:17.000000000,2021-04-07 06:00:35.000000000,2021-04-07 05:59:01.000000000,1,1,0,778780,d587a9e56c4070bb9dc02056090534f0f0c996f1,10,3,1,1,4264,Matthias Runge,mrunge,"Use python 3.8 for tox

Change-Id: I2fd374514fd6bf3be02191b7a23b50b6dec93e08
"
openstack%2Fmurano-agent~master~I9c813ea3a69c17492566d5dc3a79ad372f58db4d,openstack/murano-agent,master,reno-wallaby,I9c813ea3a69c17492566d5dc3a79ad372f58db4d,Update master for stable/wallaby,MERGED,2021-03-26 18:33:50.000000000,2021-04-07 05:56:20.000000000,2021-04-07 05:55:14.000000000,7,0,0,783421,3323cc54826ff0f5ed868a1682b99f5c24f05e02,7,2,1,2,22816,OpenStack Release Bot,release,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I9c813ea3a69c17492566d5dc3a79ad372f58db4d
"
openstack%2Fmurano-agent~master~I672d275490c9098f9f8835658921002416609da1,openstack/murano-agent,master,,I672d275490c9098f9f8835658921002416609da1,Fix lower-constraints job,MERGED,2021-04-06 07:00:44.000000000,2021-04-07 05:53:30.000000000,2021-04-07 05:52:20.000000000,158,70,0,784883,89b4512e0d2ff084167416f0ef4a97f54c12e089,17,2,6,4,14107,zhurong,zhurong,"Fix lower-constraints job

Change-Id: I672d275490c9098f9f8835658921002416609da1
"
openstack%2Frequirements~master~Idfb40ba12893d75731542044d79532ee27c2a499,openstack/requirements,master,anaconda-deploy-driver,Idfb40ba12893d75731542044d79532ee27c2a499,Add pycdlib to global-requirements.txt,MERGED,2021-03-13 02:03:38.000000000,2021-04-07 05:31:36.000000000,2021-04-07 05:30:20.000000000,2,0,0,780397,607b5a5170f0534811b1526e35ca9fdba6f92926,23,3,3,2,12640,Arun S A G,sagarun,"Add pycdlib to global-requirements.txt

pycdlib is a pure python library used to parse,
read and write ISO9660 files. With LGPLv2 as the
license it confirms to openstack licensing guidelines.

This is an actively maintained library. As of this
writing the last change to this library was 8 days
ago and the first commit was over 6 years ago.

This library is compatible with python3
https://clalancette.github.io/pycdlib/python-compatibility.html
It is a well documented library and the documentation
is available at https://clalancette.github.io/pycdlib

This library will be used by ironic to read config
drive and write them to disk on the filesystem.

Change-Id: Idfb40ba12893d75731542044d79532ee27c2a499
"
openstack%2Fglance_store~stable%2Ftrain~I7f0bffda222b663d4316c5d6c03fdbd0d3337035,openstack/glance_store,stable/train,rbd_resize-stable/ussuri-stable/train,I7f0bffda222b663d4316c5d6c03fdbd0d3337035,Ramp up rbd resize to avoid excessive calls,ABANDONED,2020-11-20 14:36:51.000000000,2021-04-07 05:23:31.000000000,,88,16,0,763570,e08e9a1159f716a62e1775dcbac7d8e9294ccf6a,10,5,1,2,9303,Abhishek Kekane,abhishekkekane,"Ramp up rbd resize to avoid excessive calls

Change the RBD store to resize the image by up to 8GiB
at the time to not resize on every write.

Trim the image in Ceph after all data has been written
to the actual size in case we overshot the resize.

Partial-Bug: #1792710
Related-to: spec-lite-Ceph-Store-Optimization

Change-Id: I7f0bffda222b663d4316c5d6c03fdbd0d3337035
(cherry picked from commit c43f19e8456b9e20f03709773fb2ffdb94807a0a)
(cherry picked from commit ca0c58b52756058b6d51bf6a47aeac3d525c1e16)
"
openstack%2Fglance_store~stable%2Fvictoria~Id7a954075302f15418c1651bff6a3e92ef07f7fd,openstack/glance_store,stable/victoria,update-lower-constraints,Id7a954075302f15418c1651bff6a3e92ef07f7fd,Adjust requirements and lower-constraints,ABANDONED,2021-02-11 15:38:22.000000000,2021-04-07 05:22:46.000000000,,9,3,0,775190,94dcb1187c97a868ea5943417f91d474371459f2,5,1,2,2,9303,Abhishek Kekane,abhishekkekane,"Adjust requirements and lower-constraints

Change-Id: Id7a954075302f15418c1651bff6a3e92ef07f7fd
"
openstack%2Fmanila~master~Ie6d16c925640351b74a4ed67bf649f844d347b1e,openstack/manila,master,policy-desc,Ie6d16c925640351b74a4ed67bf649f844d347b1e,Document policy rule using the description parameter,MERGED,2021-04-06 12:40:11.000000000,2021-04-07 04:49:47.000000000,2021-04-07 04:48:21.000000000,17,15,0,784942,dede92d734df8971b88435c00cdf8ef48c385f88,23,3,5,1,9816,Takashi Kajinami,kajinamit,"Document policy rule using the description parameter

The RuleDefault class provides the description parameter so that
description of a rule is also implemented in code. This allows us
to render these descriptions by the oslopolicy-sample-generator
command.

Change-Id: Ie6d16c925640351b74a4ed67bf649f844d347b1e
"
openstack%2Fironic-python-agent~stable%2Ftrain~If3c83fb2ea2025fce092d495a64f32077c70d2d6,openstack/ironic-python-agent,stable/train,fstab-train,If3c83fb2ea2025fce092d495a64f32077c70d2d6,Option to enable bootloader config failure bypass,MERGED,2021-03-19 19:15:10.000000000,2021-04-07 04:45:19.000000000,2021-04-07 04:43:55.000000000,178,9,0,781864,9f2ef8ab02f81ce1a652f76e2c09689dd7d574a8,11,4,2,4,11655,Julia Kreger,jkreger,"Option to enable bootloader config failure bypass

Some hardware is very well intentioned. However this intention
can result in the UEFI NVRAM table being full which prevents us
from adding new records to the table. We can't be sure what to
delete, so in this case some operators just need the ability to
tell ironic ""it is okay if this fails, it will still work.""

The added ``ignore_bootloader_failure`` option adds
this capability which can be set per-node either in the agent
configuation via the ramdisk image, or in the pxe_append_params
configuration parameter for the node itself with a
``ipa-ignore-bootloader-failure`` option in order to prevent
the failure from being raised.

Change-Id: If3c83fb2ea2025fce092d495a64f32077c70d2d6
Story: 2008386
Task: 41309
(cherry picked from commit 7a83773fbc9800217a0364c72b8ca9f823a60519)
(cherry picked from commit 07cf2c1b7921f37adf0dbf633fd0efed07ddbfd8)
"
openstack%2Fnova~stable%2Ftrain~Ia225ee86536248d2540de0d7a1cd012333e708a2,openstack/nova,stable/train,bug/1837995,Ia225ee86536248d2540de0d7a1cd012333e708a2,Add functional test for bug 1837995,NEW,2021-04-06 23:10:05.000000000,2021-04-07 04:35:13.000000000,,47,0,0,785074,6cda0f5e31df7ef802c087cacf60974b374b852c,3,1,1,1,4690,melanie witt,melwitt,"Add functional test for bug 1837995

This adds a functional test to reproduce the bug where when calling an
API that will examine a deleted instance record (examples: GET /servers/detail
and GET /os-simple-tenant-usage), if that instance's related records
have only been partially archived (example: 'instance_extra' record was
archived but 'instances' record has not been archived yet) then the API
call fails with the following error:

  Unexpected API Error ... <class 'nova.exception.OrphanedObjectError'>
  (HTTP 500)

Related-Bug: #1837995

Change-Id: Ia225ee86536248d2540de0d7a1cd012333e708a2
(cherry picked from commit 3d4e53f832792cc49001f1588164e28b84c16d7a)
(cherry picked from commit 21241b38dd4bc2c74a69aed489ada5c611395920)
(cherry picked from commit 37cff3c74d54bf0d19abe9502e5979b81e24f918)
"
openstack%2Fpython-tackerclient~master~I642ddcdb7a1167f25553ef26df6102bb2be22c3f,openstack/python-tackerclient,master,bp/force-delete-resources,I642ddcdb7a1167f25553ef26df6102bb2be22c3f,Adds support force delete VNFFG,MERGED,2019-02-14 10:13:44.000000000,2021-04-07 04:06:35.000000000,2021-04-07 04:05:32.000000000,39,4,0,636893,785c6dbfda23f94b9a5ac00209f30a6071244f99,36,7,7,4,27153,Nguyen Hai,nguyentrihai,"Adds support force delete VNFFG

This patch adds '--force' parameter to vnffg delete command,
to force delete VNFFG.

e.g: openstack vnf graph delete --force VNFFG1

blueprint force-delete-resources

Change-Id: I642ddcdb7a1167f25553ef26df6102bb2be22c3f
"
openstack%2Ftripleo-heat-templates~master~Icb7f58004e281b42141c70a9a4895905dc32b45d,openstack/tripleo-heat-templates,master,sefcontext,Icb7f58004e281b42141c70a9a4895905dc32b45d,Ensure SELinux context persist across restorecon and reboot,MERGED,2021-03-23 11:49:04.000000000,2021-04-07 03:59:53.000000000,2021-04-07 03:59:53.000000000,86,0,0,782439,d77fe55516ce93a8984108daccbb75b72095503f,37,5,6,16,28223,Cedric Jeanneret,cjeanner,"Ensure SELinux context persist across restorecon and reboot

Until now, we only relied on the "":z"" flag in order to set container
volumes label to container_file_t.
While it works fine, it has multiple issues:
- if an operator runs a restorecon, it might break the container service
- if an SELinux related package is updated, it might reset the label,
  and break the container service
- it requires a container stop&start to reset the label to the expected
  value
- in case of deep tree or huge amount of file, relabelling takes time

This change ensures the system sets the expected context on the specific
locations, instead of following the content of selinux-policy-targeted
rulesets.

It has an equivalent for some locations in tripleo-ansible repository:
https://review.opendev.org/c/openstack/tripleo-ansible/+/782393

Note about swift locations:
Since openstack-selinux already sets fcontext rules for, at least, once
swift location, we can't override it here. The following
openstack-selinux patch is being pushed in order to work around this
specific case:
https://github.com/redhat-openstack/openstack-selinux/pull/73

Change-Id: Icb7f58004e281b42141c70a9a4895905dc32b45d
Resolves: rhbz#1941922
"
openstack%2Frequirements~stable%2Ftrain~Ibdda1a8dfe7b615feabe58537d68c8a3b09b1641,openstack/requirements,stable/train,new-release,Ibdda1a8dfe7b615feabe58537d68c8a3b09b1641,update constraint for os-apply-config to new release 10.6.0,MERGED,2021-04-05 09:22:54.000000000,2021-04-07 03:57:43.000000000,2021-04-07 03:57:43.000000000,1,1,0,784757,5e3193566ede95f6da60027afd97f5e963f76f81,12,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-apply-config to new release 10.6.0

meta: version: 10.6.0
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ibdda1a8dfe7b615feabe58537d68c8a3b09b1641
"
openstack%2Frequirements~stable%2Ftrain~Ie11b07ed35ffb4f388f096c6ed73c8697b01ef01,openstack/requirements,stable/train,new-release,Ie11b07ed35ffb4f388f096c6ed73c8697b01ef01,update constraint for os-collect-config to new release 10.6.0,MERGED,2021-04-05 09:15:48.000000000,2021-04-07 03:57:39.000000000,2021-04-07 03:57:39.000000000,1,1,0,784754,dc05226f39ad6474a63077a58b7e75fd8a5d8150,12,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-collect-config to new release 10.6.0

meta: version: 10.6.0
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ie11b07ed35ffb4f388f096c6ed73c8697b01ef01
"
openstack%2Frequirements~stable%2Ftrain~I055f5b1e650efbebfbccfb946a9b459c435e7d88,openstack/requirements,stable/train,new-release,I055f5b1e650efbebfbccfb946a9b459c435e7d88,update constraint for os-net-config to new release 11.5.0,MERGED,2021-04-05 09:16:02.000000000,2021-04-07 03:57:34.000000000,2021-04-07 03:57:34.000000000,1,1,0,784755,9be4ef5c5a74e950843b0b9f9f736f0ef782ef9a,12,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-net-config to new release 11.5.0

meta: version: 11.5.0
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I055f5b1e650efbebfbccfb946a9b459c435e7d88
"
openstack%2Fnova~stable%2Ftrain~Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f,openstack/nova,stable/train,bug/1837995,Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f,Centralize sqlite FK constraint enforcement,NEW,2021-04-06 23:10:05.000000000,2021-04-07 03:53:10.000000000,,26,30,0,785073,261f4f614e4b0e7ea7dcb3dddbe2a34bd0deea4b,4,1,1,4,4690,melanie witt,melwitt,"Centralize sqlite FK constraint enforcement

There's a TODO in the code to centralize foreign key constraint
enforcement for sqlite for unit and functional tests and we're missing
enforcement of FK constraints in a couple of test classes that should
have it.

This resolves the TODO and turns on FK constraint enforcement where it
is missing. Do this to enhance testing in preparation for a proposed
change to the database archiving logic later in this patch series.

Conflicts:
    nova/test.py

NOTE(melwitt): The conflicts are because the following changes are
not in Train:

  * Ia33ec2604b2fc2d3b6830b596cac669cc3ad6c96 (nova-net: Kill it)
  * I33d8ac0a1cae0b2d275a21287d5e44c008a68122 (func tests: move
    _run_periodics() into base class)

Change-Id: Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f
(cherry picked from commit 172024db7174bdac05a3d3172c645b0db83ae41e)
(cherry picked from commit 382d64ea36e5cf3b47929fee0b93539d2f126975)
(cherry picked from commit a8624cdaa292591db616b9ab17d27f2cd0bb00a7)
"
openstack%2Ftripleo-ci~master~If1d5b8d2e0fec40c39662e52e4d0d9fc3f650d0a,openstack/tripleo-ci,master,centos_mirror,If1d5b8d2e0fec40c39662e52e4d0d9fc3f650d0a,Use nodepool CentOS mirrors for deps repo,MERGED,2021-03-31 09:36:24.000000000,2021-04-07 03:52:06.000000000,2021-04-06 21:57:57.000000000,5,10,15,784057,c27ef835a0021a12f1825fb7174d880c77502646,36,10,5,1,12393,chandan kumar,chkumar246,"Use nodepool CentOS mirrors for deps repo

DLRN deps repo contains centos mirrors url which is not in our
control got timeout in the jobs.

TripleO repos does not update those dlrn deps repo centos mirror
url, It adds the tasks to do the same and also removes stale
fedora repo, since fedora is longer used in CI.

Closes-Bug: #1922032

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: If1d5b8d2e0fec40c39662e52e4d0d9fc3f650d0a
"
openstack%2Frequirements~stable%2Ftrain~Iea5312c71a6bfcec9ee1ed9bf2502fa722b678df,openstack/requirements,stable/train,new-release,Iea5312c71a6bfcec9ee1ed9bf2502fa722b678df,update constraint for paunch to new release 5.5.0,MERGED,2021-04-05 09:15:48.000000000,2021-04-07 03:37:45.000000000,2021-04-07 03:37:45.000000000,1,1,0,784753,c0c9bf1651f74fc34818dba3b9a459bca16fc7f9,12,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for paunch to new release 5.5.0

meta: version: 5.5.0
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Iea5312c71a6bfcec9ee1ed9bf2502fa722b678df
"
openstack%2Fcyborg~master~I03ccdd6799f25e5ffa987d36955759705e0750b3,openstack/cyborg,master,bug/1922183,I03ccdd6799f25e5ffa987d36955759705e0750b3,Revert device_profile key to show device profile API,MERGED,2021-04-02 01:41:16.000000000,2021-04-07 03:23:28.000000000,2021-04-07 03:22:22.000000000,27,6,6,784521,008c3668c04d3f98362fed9502ffaba731d15763,27,4,4,2,31412,Wenping Song,songwenping,"Revert device_profile key to show device profile API

This patch[1] remove the 'device_profile' key in the get device profile
api, which affects the stable/* branch's CI job such as [2], and the
'device_profile' can not be removed from the response. In the future,
we can use add a microversion to support removing it, that can be
unified with other APIs like devices and arqs.

[1] https://review.opendev.org/c/openstack/cyborg/+/751988
[2] https://review.opendev.org/c/openstack/cyborg/+/782134

Depends-On: https://review.opendev.org/c/openstack/cyborg-tempest-plugin/+/784527

Closes-Bug: #1922183
Change-Id: I03ccdd6799f25e5ffa987d36955759705e0750b3
"
openstack%2Frequirements~stable%2Ftrain~I2e6ab215dac3ef93edfac41f38961b96ac552e01,openstack/requirements,stable/train,new-release,I2e6ab215dac3ef93edfac41f38961b96ac552e01,update constraint for tripleo-common to new release 11.6.0,MERGED,2021-04-05 09:25:06.000000000,2021-04-07 03:11:04.000000000,2021-04-07 03:11:04.000000000,1,1,0,784758,bfa0edbdd2fdde2a899479741ef618f131f09494,12,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for tripleo-common to new release 11.6.0

meta: version: 11.6.0
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I2e6ab215dac3ef93edfac41f38961b96ac552e01
"
openstack%2Ftripleo-ci~master~Ibe2fd5c7792d55236c09dbf9cf88e23e1c5a5673,openstack/tripleo-ci,master,tripleo-ci-reduce-rocky,Ibe2fd5c7792d55236c09dbf9cf88e23e1c5a5673,Remove all rocky related jobs/conditionals tests after rocky End of Life,MERGED,2021-03-23 16:13:54.000000000,2021-04-07 02:55:43.000000000,2021-04-07 02:55:43.000000000,70,357,88,782549,b813597a5a65dfa418b1f1a0f7d410ca4b540735,57,14,5,15,8449,Marios Andreou,marios,"Remove all rocky related jobs/conditionals tests after rocky End of Life

Rocky is now EOL since [1][2] so this removes all the rocky related jobs
or conditionals.
Moves tripleo-ci-centos-7-undercloud-containers to deprecated jobs as it
is still in use in other repos so we can't remove yet.
Related reviews in topic branch tripleo-ci-reduce-rocky [3].

[1] https://review.opendev.org/c/openstack/releases/+/774244
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/020912.html
[3] https://review.opendev.org/q/topic:tripleo-ci-reduce-rocky

Change-Id: Ibe2fd5c7792d55236c09dbf9cf88e23e1c5a5673
"
openstack%2Fpuppet-tripleo~master~Ibfa43a89ea4c0411f83849ced183bf9609a50d97,openstack/puppet-tripleo,master,rsyslog-amqp1,Ibfa43a89ea4c0411f83849ced183bf9609a50d97,Enable configuration of omamqp1 plugin,MERGED,2021-03-01 16:14:55.000000000,2021-04-07 02:35:00.000000000,2021-04-07 02:35:00.000000000,121,45,3,778024,8d76ecabcf834a0baaceb32f0216e54b27ed7222,34,5,7,2,5241,Martin Magr,mmagr,"Enable configuration of omamqp1 plugin

Adds necessary configuration logic for AMQP-1.0 plugin for rsyslog.

Change-Id: Ibfa43a89ea4c0411f83849ced183bf9609a50d97
"
openstack%2Fironic-python-agent~stable%2Ftrain~I304468d57b10d677f2a9d58aec42a1bf414c6cba,openstack/ironic-python-agent,stable/train,fstab-train,I304468d57b10d677f2a9d58aec42a1bf414c6cba,More refactoring of the image module,MERGED,2021-03-25 00:41:49.000000000,2021-04-07 02:30:46.000000000,2021-04-07 02:29:29.000000000,32,39,0,782884,d9aa620368ca076a30a1da80b070268566b22191,13,4,1,1,4571,Steve Baker,steve-stevebaker,"More refactoring of the image module

Introducing new function _umount_all_partitions to reduce the size
of _install_grub2

Change-Id: I304468d57b10d677f2a9d58aec42a1bf414c6cba
(cherry picked from commit 80e11811f5edf86c7fca28d3f3bca8cf42f87621)
"
openstack%2Fcyborg-tempest-plugin~master~I33a6a205ed878f93398891e84c2086169b72835f,openstack/cyborg-tempest-plugin,master,,I33a6a205ed878f93398891e84c2086169b72835f,Remove the device_profile test case,MERGED,2021-04-02 02:43:59.000000000,2021-04-07 02:21:02.000000000,2021-04-07 02:21:02.000000000,31,27,1,784527,68c4862b48f4a7f4d9f41ee2815bd3bfc5f2470f,10,3,3,1,31412,Wenping Song,songwenping,"Remove the device_profile test case

In [1], we modified the cyborg device_profile API, changed it's
response body, it was broken the API without microversion added,
so we should revert this change, and need to remove this test case.

[1] https://review.opendev.org/c/openstack/cyborg/+/751988

Co-Authored-By: Brin Zhang <zhangbailin@inspur.com>

Change-Id: I33a6a205ed878f93398891e84c2086169b72835f
"
openstack%2Fmanila-ui~master~I5ce971d5759df64dc0b09c8175d3d27c4f5aefe4,openstack/manila-ui,master,bug/1922541,I5ce971d5759df64dc0b09c8175d3d27c4f5aefe4,fit the new way of get share access rules,ABANDONED,2021-04-05 08:34:38.000000000,2021-04-07 02:19:57.000000000,,4,1,2,784750,32fc1df831331d7ddab647bf6e7ebe83e1c69a09,6,1,1,1,30407,haixin,haixin,"fit the new way of get share access rules

/v2/shares/{share_id}/action
This API is deprecated starting with microversion 2.45 and requests to
this API will fail with a 404 starting from microversion 2.45.Use List
share access rules API instead of this API from version 2.45.
/v2/share-access-rules?share_id={share-id}

Closes-Bug: #1922541

Change-Id: I5ce971d5759df64dc0b09c8175d3d27c4f5aefe4
"
openstack%2Fcinder~stable%2Fwallaby~I6824ba4fbcb6fd8f57f8ff86ad7132446ac6c504,openstack/cinder,stable/wallaby,lvm-not-found-stable/wallaby,I6824ba4fbcb6fd8f57f8ff86ad7132446ac6c504,LVM: Fix delete volume error due to lvs failure,MERGED,2021-04-01 19:40:47.000000000,2021-04-07 02:11:45.000000000,2021-04-07 02:10:15.000000000,78,11,0,784407,26919f3f843c301eac5625fc1745d0b3612d2814,33,3,1,8,5314,Brian Rosmaita,brian-rosmaita,"LVM: Fix delete volume error due to lvs failure

Sometimes we get an unexpected failure on the lvs command where it exits
with code 139, which is not one of the 5 predefined ones in the code
ECMD_PROCESSED, ENO_SUCH_CMD, EINVALID_CMD_LINE, EINIT_FAILED, or
ECMD_FAILED.

We've seen this happen mostly on CI jobs when deleting a volume, on the
check to see if the volume is present (``_volume_not_present``) and
makes the whole operation unexpectedly fail.

When looking at the logs we can find other instances of this same exit
code happening in other calls, but those are fortunately to be covered
by retries for other unexpected errors such as bug #1335905 that seem to
make the call eventually succeed.

The stderr of the failure is polluted with debug and warning messages
such as:

  [1] /dev/sda1: stat failed: No such file or directory

      This has been removed [2] from the LVM code indicating it's
      somewhat troublesome, but doesn't explain how.

  [3] Path /dev/sda1 no longer valid for device(8,1)

  [4] WARNING: Scan ignoring device 8:0 with no paths.

But the real error is most likely:

  [5]: Device open /dev/sda 8:0 failed errno 2

On failure we see that error twice, because the code retries it in LVM
trying to workaround some kind of unknown udev race [6].

Since the LVM code indicates that a retry can help, we'll retry on error
139 when calling ``get_lv_info``.

To narrow down the retry we'll only do it on error 139, so we modify the
existing ``retry`` decorator to accept the ``retry`` parameter (same as
the tenacity library) and create our own retry if the
ProcessExecutionError fails with a specific error.

This pattern seems better than blindly retrying all
ProcessExecutionError cases.

[1]: https://github.com/lvmteam/lvm2/blob/17f5572bc972c932bcf62fc2bff3029268ae0109/lib/filters/filter-persistent.c#L132
[2]: https://github.com/lvmteam/lvm2/commit/22c5467add88268554a7d163a26892166dbc3104
[3]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/device/dev-cache.c#L1396-L1402
[4]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L798
[5]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L550
[6]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L562-L567

Closes-Bug: #1901783
Change-Id: I6824ba4fbcb6fd8f57f8ff86ad7132446ac6c504
(cherry picked from commit 0b2c0d9238b6f84a02fcd82f97bc5a2d9f681247)
"
openstack%2Frequirements~stable%2Fussuri~I35c6a1b7e920909fffcf78d383fd168c18e84bed,openstack/requirements,stable/ussuri,new-release,I35c6a1b7e920909fffcf78d383fd168c18e84bed,update constraint for os-brick to new release 3.0.6,MERGED,2021-04-06 14:03:03.000000000,2021-04-07 02:10:19.000000000,2021-04-07 02:10:19.000000000,1,1,0,784963,db35b054cc0aca4055c6bdd7cc1d5cca3a4a687f,8,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-brick to new release 3.0.6

meta: version: 3.0.6
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Commit: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Change-Id: I4c30de49d40c79ae7ed54b158ed4250e6488073e
meta: release:Code-Review+1: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Code-Review+1: Tushar Trambak Gite <tushargite96@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I35c6a1b7e920909fffcf78d383fd168c18e84bed
"
openstack%2Fproject-config~master~I9548e115226d7b6119dad823aa4b3be7fd17d039,openstack/project-config,master,,I9548e115226d7b6119dad823aa4b3be7fd17d039,"Revert ""Remove restrict-memory""",ABANDONED,2021-04-07 01:07:25.000000000,2021-04-07 01:57:34.000000000,,64,2,0,785081,90328c8d6e00ba84c8ad24e3107b2750e24ba578,4,2,1,3,1,James E. Blair,corvus,"Revert ""Remove restrict-memory""

This reverts commit 71d84bed47df5be748cad1a0983e51ac350205a2.

We once again have a cloud where we must use nodes with more RAM
in order to obtain the CPU performance needed.  Limit the RAM so
that we don't have jobs that randomly pass or fail depending on
available resources.

Change-Id: I9548e115226d7b6119dad823aa4b3be7fd17d039
"
openstack%2Fgrenade~stable%2Fussuri~I94bf6ffb68574e57bea4b458d2b0d59b4b4939bf,openstack/grenade,stable/ussuri,,I94bf6ffb68574e57bea4b458d2b0d59b4b4939bf,test gate,ABANDONED,2021-04-05 21:12:29.000000000,2021-04-07 01:47:40.000000000,,1,0,0,784838,7600e687a25771ebe70a16230d91c83746be5ae7,5,1,1,1,8556,Ghanshyam,ghanshyam,"test gate

Change-Id: I94bf6ffb68574e57bea4b458d2b0d59b4b4939bf
"
openstack%2Fgrenade~stable%2Ftrain~I94bf6ffb68574e57bea4b458d2b0d59b4b4939bf,openstack/grenade,stable/train,,I94bf6ffb68574e57bea4b458d2b0d59b4b4939bf,test gate,ABANDONED,2021-04-05 19:44:43.000000000,2021-04-07 01:47:35.000000000,,1,0,0,784595,e37325a52d41766c825f5486270d7d0b21fac770,7,1,1,1,8556,Ghanshyam,ghanshyam,"test gate

Change-Id: I94bf6ffb68574e57bea4b458d2b0d59b4b4939bf
"
openstack%2Fgrenade~stable%2Fstein~I94bf6ffb68574e57bea4b458d2b0d59b4b4939bf,openstack/grenade,stable/stein,,I94bf6ffb68574e57bea4b458d2b0d59b4b4939bf,test gate,ABANDONED,2021-04-05 21:12:46.000000000,2021-04-07 01:47:31.000000000,,1,0,0,784839,3d974300ed7c96c680dfd57d858f93ebeed396f0,8,1,2,1,8556,Ghanshyam,ghanshyam,"test gate

Change-Id: I94bf6ffb68574e57bea4b458d2b0d59b4b4939bf
"
openstack%2Fgrenade~stable%2Fvictoria~I94bf6ffb68574e57bea4b458d2b0d59b4b4939bf,openstack/grenade,stable/victoria,,I94bf6ffb68574e57bea4b458d2b0d59b4b4939bf,test gate,ABANDONED,2021-04-05 21:12:11.000000000,2021-04-07 01:47:26.000000000,,1,0,0,784837,7b50860f6e572581ed5c7719827a522a0ec7aa09,3,1,1,1,8556,Ghanshyam,ghanshyam,"test gate

Change-Id: I94bf6ffb68574e57bea4b458d2b0d59b4b4939bf
"
openstack%2Fkayobe~stable%2Fstein~Idf144c358c85e0db34a672b86f01e084efbe7947,openstack/kayobe,stable/stein,,Idf144c358c85e0db34a672b86f01e084efbe7947,CI: Fix stable/stein jobs,MERGED,2021-03-29 09:04:04.000000000,2021-04-07 01:37:51.000000000,2021-04-07 01:34:35.000000000,3,6,2,783621,9bf903666e4afad6608dca8c460fe4e833c1302a,40,4,9,2,15197,Pierre Riteau,priteau,"CI: Fix stable/stein jobs

tox jobs are now failing on python dependencies due to the new pip
resolver:

    ERROR: Could not find a version that satisfies the requirement docker<3
    ERROR: No matching distribution found for docker<3

Remove upper limits from docker and paramiko. molecule is only required
for the molecule tox environment, which is Python 2.

Fix extracted from commit ac7adbb9b56cd9901c7a0bfb826f8b60d590a792 on
the stable/train branch.

We disable the kayobe-overcloud-upgrade-centos job which breaks during
overcloud-deploy-pre-upgrade on:

    TASK [prechecks : Checking Docker version] *************************************
    fatal: [controller0]: FAILED! => {""changed"": false, ""cmd"": [""docker"", ""--version""], ""delta"": ""0:00:00.202792"", ""end"": ""2021-03-29 14:44:23.513939"", ""failed_when_result"": true, ""rc"": 0, ""start"": ""2021-03-29 14:44:23.311147"", ""stderr"": """", ""stderr_lines"": [], ""stdout"": ""Docker version 20.10.5, build 55c4c88"", ""stdout_lines"": [""Docker version 20.10.5, build 55c4c88""]}
            to retry, use: --limit @/home/zuul/kolla-venv/share/kolla-ansible/ansible/site.retry

Change I2a23eea7effb5b9a5e73361bcd48bd2e16d1569c would need to be
backported to kolla-ansible stable/rocky, but this branch is not
maintained anymore.

Change-Id: Idf144c358c85e0db34a672b86f01e084efbe7947
"
openstack%2Fsenlin~master~I45db8edc5fae1018ff0d51254f95f096d2c4d716,openstack/senlin,master,,I45db8edc5fae1018ff0d51254f95f096d2c4d716,Remove lower constraints,MERGED,2021-03-30 01:53:36.000000000,2021-04-07 01:36:48.000000000,2021-04-07 01:32:18.000000000,0,137,0,783763,3b121536d2058c2f35269e646fcf1d9b3f9817c8,12,2,2,3,22623,Erik Olof Gunnar Andersson,eoandersson,"Remove lower constraints

We are no longer supporting lower constraints.

Change-Id: I45db8edc5fae1018ff0d51254f95f096d2c4d716
"
openstack%2Fironic-specs~master~I05969afdae07881be9b23d902e6dfcce011c4ed5,openstack/ironic-specs,master,,I05969afdae07881be9b23d902e6dfcce011c4ed5,Add xena directory for specs,ABANDONED,2021-04-05 02:16:43.000000000,2021-04-07 01:30:19.000000000,,1,0,1,784716,152954b46c5e7085ca7238bf5ef6c24c09804c66,4,2,1,1,30384,zhangboye,zhangboye,"Add xena directory for specs

Change-Id: I05969afdae07881be9b23d902e6dfcce011c4ed5
"
openstack%2Fsenlin~master~I41fb34e3c0a72bda459517e656ddc4705f90d03b,openstack/senlin,master,senlin/lbaas,I41fb34e3c0a72bda459517e656ddc4705f90d03b,When session_persistence type NONE set option None,MERGED,2021-03-30 15:35:19.000000000,2021-04-07 01:22:59.000000000,2021-04-07 01:21:54.000000000,37,0,0,783897,755421a6529689249719ee60d3ae27678f9b12ff,21,4,5,2,28752,Satish Patel,spatel,"When session_persistence type NONE set option None

This patch is missing part of existing patch [1]. when type=NONE
set session_persistence to None.

[1] https://review.opendev.org/c/openstack/senlin/+/777855

Change-Id: I41fb34e3c0a72bda459517e656ddc4705f90d03b
"
openstack%2Fswift~master~I5a73bce70a97bb6df724a60e469f7b53764c7897,openstack/swift,master,p-relinker-eexist-tombstone-v2,I5a73bce70a97bb6df724a60e469f7b53764c7897,Use debug_logger instead of FakeLogger in relinker tests,MERGED,2021-04-01 21:33:50.000000000,2021-04-07 01:20:49.000000000,2021-04-07 01:19:10.000000000,3,2,0,784506,20336f177631c56f4c62e9213eea47d71467e5aa,13,2,1,1,15343,Tim Burke,tburke,"Use debug_logger instead of FakeLogger in relinker tests

Change-Id: I5a73bce70a97bb6df724a60e469f7b53764c7897
"
openstack%2Fcharm-nova-cloud-controller~master~I95f8da0789b7f165677b031284acc4fadfdfeab4,openstack/charm-nova-cloud-controller,master,libraries-sync-21-04,I95f8da0789b7f165677b031284acc4fadfdfeab4,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:31:24.000000000,2021-04-07 00:59:52.000000000,2021-04-06 21:29:19.000000000,1348,83,0,784681,c59fa984514a87c54a17a34f28d10eba5015513f,15,3,1,14,20870,Alex Kavanagh,ajkavanagh,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: I95f8da0789b7f165677b031284acc4fadfdfeab4
"
openstack%2Fpython-solumclient~master~I5c23a28660be9c0901befaeb1571cb3b94aca572,openstack/python-solumclient,master,,I5c23a28660be9c0901befaeb1571cb3b94aca572,Fix lower-constraints job,MERGED,2021-04-06 07:03:51.000000000,2021-04-07 00:56:10.000000000,2021-04-07 00:55:01.000000000,72,21,0,784884,7156485d743ce58f0adba739ca7839d81c9362a9,14,2,5,4,14107,zhurong,zhurong,"Fix lower-constraints job

Change-Id: I5c23a28660be9c0901befaeb1571cb3b94aca572
"
openstack%2Felection~master~I2927a90f9c0919a96e88f5de235caea736110ca4,openstack/election,master,tc-xena,I2927a90f9c0919a96e88f5de235caea736110ca4,Adding Feilong Wang for TC Candidacy,MERGED,2021-04-05 22:52:21.000000000,2021-04-07 00:34:02.000000000,2021-04-07 00:32:41.000000000,64,0,0,784865,d6bcd0fb59f16d19f0703b708b0111c87b73b06e,11,4,2,1,6484,Feilong Wang,flwang,"Adding Feilong Wang for TC Candidacy

Change-Id: I2927a90f9c0919a96e88f5de235caea736110ca4
"
openstack%2Felection~master~Iee58c38a728343776354260c8b2d3fad09633ffa,openstack/election,master,,Iee58c38a728343776354260c8b2d3fad09633ffa,Only associate preferred addresses with owners,MERGED,2021-04-02 16:28:50.000000000,2021-04-07 00:33:04.000000000,2021-04-07 00:31:18.000000000,62,51,1,784600,cfd2cd6a944bc8027894e2c35ff5f72d819371ab,12,3,2,1,5263,Jeremy Stanley,fungi,"Only associate preferred addresses with owners

Our recent Gerrit upgrade has made the emails method of the REST API
require essentially administrator permissions, making it no longer
feasible to find secondary addresses for change owners. Secondary
addresses really only served minor uses in this library anyway,
helping identify redundant accounts (which new Gerrit is forcing us
to clean up) and allowing slightly looser association to foundation
profiles.

Drop our use of the emails method, relying instead on the preferred
address provided with the owner record. In rare cases where an
account lacks a preferred address, substitute the committer address
from the first revision of the change where we initially encounter
that user.

Change-Id: Iee58c38a728343776354260c8b2d3fad09633ffa
"
openstack%2Felection~master~Ia8bb11addb9f70283b3e676d90e5e7b48494b8e1,openstack/election,master,,Ia8bb11addb9f70283b3e676d90e5e7b48494b8e1,Omit leaderless list from TC election results,MERGED,2021-03-10 20:07:38.000000000,2021-04-07 00:32:13.000000000,2021-04-07 00:31:12.000000000,1,0,0,779856,b4809462aa6de919c7dda50a8eea5cc30bfaa753,9,4,1,1,5263,Jeremy Stanley,fungi,"Omit leaderless list from TC election results

The close_election command treats TC elections as a single-team PTL
election, essentially. The leaderless list, however, is generated
from the full list of projects included in an election which, in a
parallel TC/PTL election will include more projects than just the
TC. Rather than heavily refactor the utility function where that
data is summarized, just delete the leaderless list from the
election results when reporting for the TC round in a parallel
TC/PTL election.

Change-Id: Ia8bb11addb9f70283b3e676d90e5e7b48494b8e1
"
openstack%2Fcinder-tempest-plugin~master~I37302d238c0cf66b6b0ff696e7a63379d5e22b10,openstack/cinder-tempest-plugin,master,inclusive_jargon,I37302d238c0cf66b6b0ff696e7a63379d5e22b10,Switch to new rolevar for run-tempest role,MERGED,2021-02-11 19:35:26.000000000,2021-04-07 00:24:51.000000000,2021-04-07 00:24:51.000000000,3,3,0,775260,8e0986f09eae3396b1668ce750e4df6082d13ba1,37,4,2,1,8556,Ghanshyam,ghanshyam,"Switch to new rolevar for run-tempest role

Tempest replaced the below rolevar for run-tempest role
- tempest_test_blacklist is replaced by tempest_test_exclude_list
- tempest_black_regex is replaced by tempest_exclude_regex

old name are still supported for compatiblity but we recommend
to switch to new one.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/774835
Change-Id: I37302d238c0cf66b6b0ff696e7a63379d5e22b10
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I9781a32483841d8e63062514f6e3641870d4d4f7,openstack/networking-ovn,stable/train,bug/1919347-send_periodic,I9781a32483841d8e63062514f6e3641870d4d4f7,[OVN] Set send_periodic to False on provider networks,MERGED,2021-03-22 10:03:24.000000000,2021-04-07 00:18:53.000000000,2021-04-07 00:17:46.000000000,21,15,1,782157,5e1111a83a44ac414b795f657cacfe3a7fc6218e,41,4,3,4,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Set send_periodic to False on provider networks

This patch adds a check prior to setting the send_periodic configuration
option for the LRP's ipv6_ra_configs to see if the network the LRP is
connected to is a provider network and the port is a gateway port.

In case it is a provider network and the port is a gateway port,
send_periodic should be set to False to avoid leaking the RAs generated
by ovn-controller to the tenant networks onto the provider network.

(Manually cherry picked from Neutron 1f68336b79b0432308cdee42ea39ede49707dfa3)

Closes-Bug: #1919347
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I9781a32483841d8e63062514f6e3641870d4d4f7
"
openstack%2Fswift~master~I16d91a5a3e5c785244497bbc2882b305d2b3ca56,openstack/swift,master,p-get-shard-ranges-fill,I16d91a5a3e5c785244497bbc2882b305d2b3ca56,sharding: constrain fill_gaps to own shard range bounds,MERGED,2021-04-06 11:41:20.000000000,2021-04-07 00:02:22.000000000,2021-04-07 00:00:40.000000000,136,4,0,784929,7bbc73a91c22e53c45d7097dfd320a9990580ce7,10,2,1,3,7847,Alistair Coles,acoles,"sharding: constrain fill_gaps to own shard range bounds

Restrict the fill_gaps behaviour of ContainerBroker.get_shard_ranges()
to only insert a filler range to the upper bound of its own shard
range.

Change-Id: I16d91a5a3e5c785244497bbc2882b305d2b3ca56
Closes-Bug: #1922386
"
openstack%2Ftrove~master~I0927466d18eca5572932fcf9e2ca6349b11ca847,openstack/trove,master,,I0927466d18eca5572932fcf9e2ca6349b11ca847,[doc] Add configuration reference,MERGED,2021-03-31 10:11:20.000000000,2021-04-06 23:58:58.000000000,2021-04-06 23:57:45.000000000,105,3,2,784063,dfca9b1943d1c64533ef754bd3c248dacdd3d627,13,2,3,9,28619,Dmitriy Rabotyagov,noonedeadpunk,"[doc] Add configuration reference

Config reference has been dropped for some reason several releases before.
We return configuration reference along with policy to the docs.

Change-Id: I0927466d18eca5572932fcf9e2ca6349b11ca847
"
openstack%2Fcharm-trilio-wlm~master~Ia80150a4081027e20b507690690454ad7a0c0238,openstack/charm-trilio-wlm,master,experimental-s3,Ia80150a4081027e20b507690690454ad7a0c0238,This patch add experimental s3 support for Trilio,MERGED,2021-03-04 17:53:20.000000000,2021-04-06 23:54:01.000000000,2021-04-06 23:54:01.000000000,366,15,0,778761,e22daf2e8093b67d45c1ff18f9b88507d5a9215b,13,4,2,5,12549,gnuoy,gnuoy,"This patch add experimental s3 support for Trilio

This patch allows an s3 backend to be used to store Trilio artefacts.
Connection auth and endpoint are set via the s3 charm config options.
To use an s3 backend the backup-target-type should be set to
'experimental-s3'.

Change-Id: Ia80150a4081027e20b507690690454ad7a0c0238
"
openstack%2Fswift~master~Ie7d8277fc2626c20bd7bcf108959ac4d3e6c64ac,openstack/swift,master,p-relinker-test-print,Ie7d8277fc2626c20bd7bcf108959ac4d3e6c64ac,relinker: trivial comment and test fixes,MERGED,2021-04-06 08:52:17.000000000,2021-04-06 23:46:43.000000000,2021-04-06 23:45:09.000000000,1,2,0,784893,ecb5aa120f9977b69e01d8dc4140df5437222c26,11,2,1,2,7847,Alistair Coles,acoles,"relinker: trivial comment and test fixes

Change-Id: Ie7d8277fc2626c20bd7bcf108959ac4d3e6c64ac
"
openstack%2Fswift~master~I039d2b8861f69a64bd9d2cdf68f1f534c236b2ba,openstack/swift,master,relinker,I039d2b8861f69a64bd9d2cdf68f1f534c236b2ba,relinker: Parallelize per disk,MERGED,2021-01-07 01:44:06.000000000,2021-04-06 23:31:52.000000000,2021-04-06 23:30:11.000000000,357,127,55,769633,abfa6bee72eadd07aa5b2913a553d1c98964c03e,45,5,12,3,15343,Tim Burke,tburke,"relinker: Parallelize per disk

Add a new option, workers, that works more or less like the same option
from background daemons. Disks will be distributed across N worker
sub-processes so we can make the best use of the I/O available.

While we're at it, log final stats at warning if there were errors.

Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>
Change-Id: I039d2b8861f69a64bd9d2cdf68f1f534c236b2ba
"
openstack%2Ftripleo-heat-templates~master~I54e0ee6fe59d04686f15cb5638262b34572596e1,openstack/tripleo-heat-templates,master,libvirt-log-level,I54e0ee6fe59d04686f15cb5638262b34572596e1,Enable debug logging of libvirt services when Debug is true,MERGED,2020-11-30 00:30:02.000000000,2021-04-06 23:28:53.000000000,2021-04-06 23:27:43.000000000,49,20,7,764596,3f2e063c7894151df1a40dea6cbee9265b30cdb8,37,10,5,3,9816,Takashi Kajinami,kajinamit,"Enable debug logging of libvirt services when Debug is true

This patch ensures that debug logging of libvirt services is enabled
when the global Debug parameter is true, since the parameter is
supposed to enable debug logging for all services.

Also it introduces a new LibvirtDebug parameter, to allow operators to
enable debug of libvirt services more easily, than setting log level
number between 1 and 4.

Change-Id: I54e0ee6fe59d04686f15cb5638262b34572596e1
"
openstack%2Fcharm-placement~master~I9af5639d69bfcea1353a80e0e01b81dfea00abb0,openstack/charm-placement,master,libraries-sync-21-04,I9af5639d69bfcea1353a80e0e01b81dfea00abb0,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:33:50.000000000,2021-04-06 23:00:51.000000000,2021-04-06 22:26:23.000000000,240,6,0,784692,f40a75ecbba208074ca95fa115101e1cc18d6185,22,4,2,5,20870,Alex Kavanagh,ajkavanagh,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

* lock oslo.i18n < 4.0.0 if python_version < 3.6 as version 4.0.0 drops
  py35 support.

Change-Id: I9af5639d69bfcea1353a80e0e01b81dfea00abb0
"
openstack%2Fsushy~stable%2Ftrain~I2d082762fcf59d7b9bc8adc7c5159520ac628043,openstack/sushy,stable/train,train-extendedinfo,I2d082762fcf59d7b9bc8adc7c5159520ac628043,Fix ExtendedInfo error handling for non-list item,MERGED,2021-04-06 20:54:53.000000000,2021-04-06 22:53:59.000000000,2021-04-06 22:52:50.000000000,42,6,0,785045,40df70a4ea491ce47d487a5925a9b90979ad3ec3,8,3,1,4,4571,Steve Baker,steve-stevebaker,"Fix ExtendedInfo error handling for non-list item

Conflicts:
        sushy/exceptions.py

Change-Id: I2d082762fcf59d7b9bc8adc7c5159520ac628043
(cherry picked from commit 7ec04224b4e80225ff3db51d860210e8e160f02f)
(cherry picked from commit dfe6b33fa66072e9ead784d06fa30946ef922cb8)
"
openstack%2Fcharm-ceilometer~master~I52bdd82cdbcd04f6ee773b8eb1a555d397e0ad4b,openstack/charm-ceilometer,master,libraries-sync-21-04,I52bdd82cdbcd04f6ee773b8eb1a555d397e0ad4b,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:21:12.000000000,2021-04-06 22:47:33.000000000,2021-04-06 20:54:29.000000000,1395,91,0,784636,6c89d2625628430da870d72a9e45f09660e7dac8,15,3,1,16,20870,Alex Kavanagh,ajkavanagh,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: I52bdd82cdbcd04f6ee773b8eb1a555d397e0ad4b
"
openstack%2Fcharm-deployment-guide~master~I231794ed94190c0250144f4b9d6e2bc3d57c71a6,openstack/charm-deployment-guide,master,bug/1922520,I231794ed94190c0250144f4b9d6e2bc3d57c71a6,Clarify Vault on install page,MERGED,2021-04-06 22:05:39.000000000,2021-04-06 22:39:40.000000000,2021-04-06 22:38:26.000000000,6,0,0,785057,5efc0e91a2a303ff66764492b72cb05f67315054,7,2,1,2,30561,Peter Matulis,pmatulis,"Clarify Vault on install page

Add supporting text and link, on the install page,
for adding a CA certificate.

Closes-Bug: #1922520
Change-Id: I231794ed94190c0250144f4b9d6e2bc3d57c71a6
"
openstack%2Ftripleo-ci~master~I52244bcebf8e986f888e31b7ae51813f5dad1719,openstack/tripleo-ci,master,image_build_debug,I52244bcebf8e986f888e31b7ae51813f5dad1719,Enable container-tools:3.0 before building images,MERGED,2021-04-06 08:23:14.000000000,2021-04-06 22:32:46.000000000,2021-04-06 22:32:46.000000000,9,0,2,784887,251c92bbdd8f68ca2ec6629f7e887c784bb7949e,17,7,2,1,12393,chandan kumar,chkumar246,"Enable container-tools:3.0 before building images

We need to make sure proper modules are enabled on the host
before running the container-tools.

By default container-tools:rhel8 module is enabled on
the centos stream 8 nodepool image which brings higher version
of podman leading to break overcloud deployment.

We need to make sure it needs to be disabled and proper
container-tools modules needs to be enabled.

Related-Bug: #1922537

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I52244bcebf8e986f888e31b7ae51813f5dad1719
"
