id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Frpm-packaging~master~I69e5cafa9cbefbf51fda7412c5f495651e8bfad3,openstack/rpm-packaging,master,,I69e5cafa9cbefbf51fda7412c5f495651e8bfad3,Blacklist spec-cleaner 1.0.8 due to libexecdir regression,MERGED,2018-05-22 00:24:20.000000000,2018-05-24 05:55:08.000000000,2018-05-24 05:55:08.000000000,1,1,0,569890,8cf69f89b08b4fa055b2aa9af4b977c431f65489,21,10,1,1,6593,Dirk Mueller,dmllr,"Blacklist spec-cleaner 1.0.8 due to libexecdir regression

https://github.com/openSUSE/spec-cleaner/issues/232 points out
that 1.0.8 is bad, we need to skip it for now until the problem
is solved.

Depends-On: https://review.openstack.org/#/c/569888/
Change-Id: I69e5cafa9cbefbf51fda7412c5f495651e8bfad3
"
openstack%2Fneutron~master~I883361346c78065a53701d6eb4927f8b7a87630f,openstack/neutron,master,,I883361346c78065a53701d6eb4927f8b7a87630f,Replace os.makedirs to avoid process race,ABANDONED,2018-05-24 02:03:20.000000000,2018-05-24 05:31:37.000000000,,8,9,0,570292,a96a265ab7616a57862c980d893963d815fe7414,5,3,1,6,21486,wangqi,wangqi,"Replace os.makedirs to avoid process race

Use oslo_utils.fileutils.ensure_tree(path, mode=_DEFAULT_MODE)
to replace os.makedir.

Change-Id: I883361346c78065a53701d6eb4927f8b7a87630f
"
openstack%2Fpuppet-swift~stable%2Fqueens~I63f8a4287235c4659807530851c917a6386b4dd8,openstack/puppet-swift,stable/queens,www_authenticate_uri-stable/queens,I63f8a4287235c4659807530851c917a6386b4dd8,Configure www_authenticate_uri instead of auth_uri in authtoken,MERGED,2018-05-22 06:00:52.000000000,2018-05-24 05:29:16.000000000,2018-05-24 05:29:16.000000000,5,5,0,569925,228b2f6c244b4db3127c3224f43a72a539bc2942,7,4,1,2,25903,Vu Cong Tuan,tuanvu,"Configure www_authenticate_uri instead of auth_uri in authtoken

We're configuring a piece of keystonemiddleware, which saw this
change:
   https://review.openstack.org/508522

This minimal fix retains auth_uri wherever we were using it in
Puppet, because who cares? It's just a name of a class field.
But when we write it out, change it to the new name in the
configuration file, so these modules continue to work in the
future.

Depends-On: I7be3f7748a2857618dc4de38e09c7cccca6d2721
Change-Id: I63f8a4287235c4659807530851c917a6386b4dd8
(cherry picked from commit ca7070a567c4ec3f656fb9e653b5b53dbeb3a510)
"
openstack%2Ffreezer~master~Iac2681eac9afd33db64d4d214543f2a7945f3216,openstack/freezer,master,,Iac2681eac9afd33db64d4d214543f2a7945f3216,Replace os.makedirs to avoid process race,ABANDONED,2018-05-24 02:29:41.000000000,2018-05-24 05:25:13.000000000,,9,5,0,570299,828bfa2521de20aa69c49cd7d0040fddd50c0114,3,1,1,4,21486,wangqi,wangqi,"Replace os.makedirs to avoid process race

Use oslo_utils.fileutils.ensure_tree(path, mode=_DEFAULT_MODE)
to replace os.makedir.

Change-Id: Iac2681eac9afd33db64d4d214543f2a7945f3216
"
openstack%2Fpuppet-ironic~master~I91ee4d1fe255f0225b499ecf565bd91b89fc47bf,openstack/puppet-ironic,master,bug/1579718,I91ee4d1fe255f0225b499ecf565bd91b89fc47bf,Add support for db_max_retries param,MERGED,2018-05-23 07:46:17.000000000,2018-05-24 05:25:05.000000000,2018-05-24 05:25:05.000000000,16,0,0,570138,39c790de6da67beda8884a3392ee5f44eed1fcca,7,3,1,3,9414,zhongshengping,ZhongShengping,"Add support for db_max_retries param

The db_max_retries parameter regulates the number of reconnection
attempts performed after an error raised rather than at startup.

Change-Id: I91ee4d1fe255f0225b499ecf565bd91b89fc47bf
Releated-Bug: #1579718
"
openstack%2Fpuppet-ironic~master~Ia7b26a2243f06ff6d20fb10b32b355cfb8d41a41,openstack/puppet-ironic,master,bug/1757581,Ia7b26a2243f06ff6d20fb10b32b355cfb8d41a41,Add pool_timeout option,MERGED,2018-05-23 07:33:46.000000000,2018-05-24 05:25:05.000000000,2018-05-24 05:25:05.000000000,23,0,0,570135,aca09199979cae3fdf1ec921b6dca4d0e5156c07,7,3,1,5,9414,zhongshengping,ZhongShengping,"Add pool_timeout option

Add pool_timeout option to configure this value for pool_timeout with
SQLAlchemy.

Closes-Bug: #1757581

Change-Id: Ia7b26a2243f06ff6d20fb10b32b355cfb8d41a41
"
openstack%2Fpuppet-ec2api~stable%2Fpike~I5214b3859e74c60cbc82571125ce38718f589545,openstack/puppet-ec2api,stable/pike,bug/1761060-stable/pike,I5214b3859e74c60cbc82571125ce38718f589545,Configure metadata_proxy_shared_secret as secret,MERGED,2018-05-23 07:09:04.000000000,2018-05-24 05:20:02.000000000,2018-05-24 05:20:02.000000000,5,2,0,570127,89d721612be1d380d453cdbf4118623281de3cdc,8,3,2,2,9414,zhongshengping,ZhongShengping,"Configure metadata_proxy_shared_secret as secret

Parameter metadata/metadata_proxy_shared_secret should be
configured as a secret.

Change-Id: I5214b3859e74c60cbc82571125ce38718f589545
Closes-Bug: #1761060
(cherry picked from commit 814ae8df60ee842a126c2ecced47c42b0528ad4d)
"
openstack%2Fpuppet-ec2api~stable%2Fqueens~I5214b3859e74c60cbc82571125ce38718f589545,openstack/puppet-ec2api,stable/queens,bug/1761060-stable/queens,I5214b3859e74c60cbc82571125ce38718f589545,Configure metadata_proxy_shared_secret as secret,MERGED,2018-05-23 07:08:55.000000000,2018-05-24 05:20:02.000000000,2018-05-24 05:20:02.000000000,5,2,0,570126,8efff78512acbdf878b070d46453d29404744814,7,3,1,2,9414,zhongshengping,ZhongShengping,"Configure metadata_proxy_shared_secret as secret

Parameter metadata/metadata_proxy_shared_secret should be
configured as a secret.

Change-Id: I5214b3859e74c60cbc82571125ce38718f589545
Closes-Bug: #1761060
(cherry picked from commit 814ae8df60ee842a126c2ecced47c42b0528ad4d)
"
openstack%2Fpuppet-openstack-integration~master~I577ac720ef6f9a5487cfbc9f6376f2535d918520,openstack/puppet-openstack-integration,master,debian-cinder-on-apache,I577ac720ef6f9a5487cfbc9f6376f2535d918520,"Revert ""Debian: Setup Cinder using cinder-api uwsgi""",MERGED,2018-05-18 14:13:52.000000000,2018-05-24 05:19:45.000000000,2018-05-24 05:19:45.000000000,8,15,0,569420,c10f0115206b21371dee36cb0a8bb218b3f2cf92,7,3,1,1,6476,Thomas Goirand,thomas-goirand,"Revert ""Debian: Setup Cinder using cinder-api uwsgi""

This reverts commit 1d884ac12d340c94c58aad004ca0cf76219df97f.
Indeed, using uwsgi doesn't work over SSL. After trying locally on
my machine, switching back to mod-wsgi-py3 fixes the problem.

Change-Id: I577ac720ef6f9a5487cfbc9f6376f2535d918520
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ic8388631ae05c4ff0ed03676734f1376e0e0143f,openstack/tripleo-upgrade,stable/queens,ssl-validation,Ic8388631ae05c4ff0ed03676734f1376e0e0143f,Move SSL undercloud validation out of UC script create tasks.,MERGED,2018-05-23 07:20:51.000000000,2018-05-24 05:07:28.000000000,2018-05-24 05:07:28.000000000,8,7,0,570130,18abf67641d9d1eba6dcdac042329ce775306e82,11,6,2,2,21537,Yurii Prokulevych,yprokule,"Move SSL undercloud validation out of UC script create tasks.

The set of tasks included in the undercloud_ssl_camap.yml
playbook are needed for the overcloud to be able
to access the undercloud API.
This patch moves the task out of the undercloud create
script tasks to run them in the overcloud create tasks.

Change-Id: Ic8388631ae05c4ff0ed03676734f1376e0e0143f
(cherry picked from commit 9a68678e1c52c85bad0dd80fcd46b4e4c8b432ff)
"
openstack%2Fmasakari~master~Ic5234735267530f3b347126e1f0afa3e25f9e1fe,openstack/masakari,master,webob_fix,Ic5234735267530f3b347126e1f0afa3e25f9e1fe,Make accept-language tests work with webob 1.8.x,MERGED,2018-05-18 04:28:06.000000000,2018-05-24 05:04:09.000000000,2018-05-24 05:04:09.000000000,5,4,0,569321,b81b16c189e8434a9d30e14f67d399ee53ffadec,18,5,4,3,20191,Dinesh Bhor,dineshbhor,"Make accept-language tests work with webob 1.8.x

Masakari below test cases are failing due to webob 1.8.x:
..unit.api.openstack.test_wsgi.RequestTest.test_secondary
..unit.api.openstack.test_wsgi.RequestTest.test_asterisk
..unit.api.openstack.test_wsgi.RequestTest.test_from_request

Please see the logs:
http://logs.openstack.org/53/518653/1/check/openstack-tox-py27/76866e9/testr_results.html.gz

This patch is a copy of change:
I2034d30cc8d9354be80d39e05b8488cb99c32ecf which fixes similar
test cases in nova.

This patch also changes the `lower-constraints.txt` to make
the WebOb version same as other services.

Change-Id: Ic5234735267530f3b347126e1f0afa3e25f9e1fe
"
openstack%2Fsenlin~master~Ia95c820b176e97865a9245068945f7ec51bdc48a,openstack/senlin,master,fix_docker_reboot,Ia95c820b176e97865a9245068945f7ec51bdc48a,Fix container handle reboot driver call error,MERGED,2018-05-23 03:34:22.000000000,2018-05-24 05:00:42.000000000,2018-05-24 05:00:42.000000000,4,4,0,570108,913e21bc8d9c1cc987abe6787bf1068b9073c29d,9,5,1,2,23517,chenyb4,Yuanbin.Chen,"Fix container handle reboot driver call error

This patch change handle reboot call, the reboot not
exist in docker driver, handle reboot use docker dirver
restart.

Change-Id: Ia95c820b176e97865a9245068945f7ec51bdc48a
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
"
openstack%2Fneutron-fwaas~master~Icbd0db1be8e78dbd0c7f0a55ae9467b5fab3fa4f,openstack/neutron-fwaas,master,,Icbd0db1be8e78dbd0c7f0a55ae9467b5fab3fa4f,Add fullstack testing for neutron-fwaas,ABANDONED,2017-12-13 08:16:00.000000000,2018-05-24 04:58:11.000000000,,1946,26,0,527627,8796d62430f088c211254b4169f5274b45764949,17,4,2,16,17776,Reedip,Reedip,"Add fullstack testing for neutron-fwaas

Add a fullstack testing framework for neutron-fwaas.  This is a basic
first pass just to get the framework deployed; detailed non-plagiaristic
tests will be added after.  For more information on what fullstack
testing is, see:

http://git.openstack.org/cgit/openstack/neutron/tree/TESTING.rst#n213
Co-Authored-By: Nate Johnson<openstacknate@gmail.com>

Change-Id: Icbd0db1be8e78dbd0c7f0a55ae9467b5fab3fa4f
"
openstack%2Fproject-config~master~Ia4eb7a47313856fe3ef7c7691f9ecf20b1ba81c4,openstack/project-config,master,mkdir-gentoo-rclocal,Ia4eb7a47313856fe3ef7c7691f9ecf20b1ba81c4,Add missing directory for gentoo rclocal,MERGED,2018-05-16 20:33:20.000000000,2018-05-24 04:58:04.000000000,2018-05-24 04:58:04.000000000,1,0,0,568957,228ddbf8087bbd82dec0f3777cdfbf0b329c57a0,7,3,1,1,14288,Matthew Thode,prometheanfire,"Add missing directory for gentoo rclocal

Change-Id: Ia4eb7a47313856fe3ef7c7691f9ecf20b1ba81c4
"
openstack%2Fproject-config~master~I18e91b775684c357b2b695b31cae6151df6dcf07,openstack/project-config,master,slogging-acl-config,I18e91b775684c357b2b695b31cae6151df6dcf07,Add permission for adding tags for slogging,MERGED,2018-05-07 23:48:21.000000000,2018-05-24 04:58:02.000000000,2018-05-24 04:58:02.000000000,3,0,0,566760,ccc78b68fc38338148da0d41be08df4b54e3b8e8,10,6,1,1,25936,Keiichi Hikita,keiichi,"Add permission for adding tags for slogging

This review request for folowings

- Add permissions for tagging
- Add team for slogging release

Change-Id: I18e91b775684c357b2b695b31cae6151df6dcf07
"
openstack%2Ftripleo-ci~master~I658f09b531e9659c192eeede6cdebf392c4d8281,openstack/tripleo-ci,master,sprint13,I658f09b531e9659c192eeede6cdebf392c4d8281,Pass dlrn_hash from the releases file,MERGED,2018-05-22 11:09:37.000000000,2018-05-24 04:58:00.000000000,2018-05-24 04:58:00.000000000,22,16,2,569958,b30a1195fc571111d227212f562c2c83424d9f85,26,9,6,1,27898,Quique Llorente,quiquell,"Pass dlrn_hash from the releases file

Now that the dlrn hash is differenciate per upgrade step, we can
pass it directly to the playbook.

Apart from dlrn_hash we need to pash get_build_command to ensure that
the hash traverse all the logic [1]
[1] https://github.com/openstack/tripleo-quickstart-extras/blob/master/roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2#L30-L45

Change-Id: I658f09b531e9659c192eeede6cdebf392c4d8281
"
openstack%2Fsenlin~master~Id2a9ca793be3d158c99d7eb3d2760d92e642d8be,openstack/senlin,master,profile_rescure,Id2a9ca793be3d158c99d7eb3d2760d92e642d8be,Add nova profile support for vm rescue and unrescue operation,MERGED,2018-05-22 03:02:18.000000000,2018-05-24 04:53:59.000000000,2018-05-24 04:53:59.000000000,106,2,3,569908,9606ff9a16f23e9f5e18c77f975c566de2e46315,14,5,3,3,23517,chenyb4,Yuanbin.Chen,"Add nova profile support for vm rescue and unrescue operation

Change-Id: Id2a9ca793be3d158c99d7eb3d2760d92e642d8be
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
"
openstack%2Fproject-config~master~I82c76f468f0b2b16ee8bc276291c14fc76149021,openstack/project-config,master,bug/1705047,I82c76f468f0b2b16ee8bc276291c14fc76149021,Make oslo.service py35 job voting,MERGED,2018-05-09 00:17:57.000000000,2018-05-24 04:50:06.000000000,2018-05-24 04:50:06.000000000,1,1,0,567078,a652b84102b5dd34701f78791ecb67388be82b85,8,4,1,1,4257,Zane Bitter,zaneb,"Make oslo.service py35 job voting

Now that bug 1705047 is fixed, there is no obstacle to the py35 gate
voting.

Change-Id: I82c76f468f0b2b16ee8bc276291c14fc76149021
"
openstack%2Fopenstack-zuul-jobs~master~I31e965c938fa4c6129aa7a868865281c3d945046,openstack/openstack-zuul-jobs,master,,I31e965c938fa4c6129aa7a868865281c3d945046,Remove legacy-ubuntu-xenial-3-node,MERGED,2018-05-03 00:18:32.000000000,2018-05-24 04:41:12.000000000,2018-05-24 04:41:11.000000000,0,15,0,565918,e8001850d57d3d096e6c067de28b333fd03202b7,9,3,2,1,4162,Paul Belanger,pabelanger,"Remove legacy-ubuntu-xenial-3-node

We no longer need this nodeset, lets remove it.

Change-Id: I31e965c938fa4c6129aa7a868865281c3d945046
Depends-On: https://review.openstack.org/565916
Depends-On: https://review.openstack.org/566107
Depends-On: https://review.openstack.org/566108
Depends-On: https://review.openstack.org/566111
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Fopenstack-zuul-jobs~master~I53a528a7f0ec71cbfc3a7698d82fa6f933f85400,openstack/openstack-zuul-jobs,master,nova-hacking,I53a528a7f0ec71cbfc3a7698d82fa6f933f85400,Remove legacy-hacking-integration-nova,MERGED,2018-04-27 14:29:07.000000000,2018-05-24 04:41:11.000000000,2018-05-24 04:41:11.000000000,0,45,0,564787,149bdab3da69f4b7357a37b20964a29614941bab,9,3,2,2,6547,Andreas Jaeger,jaegerandi,"Remove legacy-hacking-integration-nova

The job is in-tree now, remove it.

Change-Id: I53a528a7f0ec71cbfc3a7698d82fa6f933f85400
Depends-On: https://review.openstack.org/564786
"
openstack%2Fopenstack-zuul-jobs~master~I6cce840a8644f41221490ad065d9d85d3e1d5fdb,openstack/openstack-zuul-jobs,master,live-migration-in-tree,I6cce840a8644f41221490ad065d9d85d3e1d5fdb,Remove legacy-tempest-dsvm-multinode-live-migration job definition,MERGED,2018-05-01 23:15:17.000000000,2018-05-24 04:32:31.000000000,2018-05-24 04:32:30.000000000,0,74,0,565613,9a0338909d258da3d93f50a93c17f5c949b221c4,11,5,1,3,4690,melanie witt,melwitt,"Remove legacy-tempest-dsvm-multinode-live-migration job definition

The job is now defined in the nova repo as nova-live-migration. This
change depends on the tip of the series of changes so the new job name
is used in nova and tempest and the legacy job name is removed from
project-config.

Depends-On: https://review.openstack.org/565611

Change-Id: I6cce840a8644f41221490ad065d9d85d3e1d5fdb
"
openstack%2Fopenstack-zuul-jobs~master~I7145855903c96e7fca17d693abf0d97b2857fc2f,openstack/openstack-zuul-jobs,master,,I7145855903c96e7fca17d693abf0d97b2857fc2f,Add ubuntu-bionic-arm64 nodeset,MERGED,2018-05-12 01:46:13.000000000,2018-05-24 04:32:30.000000000,2018-05-24 04:32:30.000000000,6,0,0,567965,9f0e1ad22b701348e49e078630a31e9947601740,7,3,1,1,4162,Paul Belanger,pabelanger,"Add ubuntu-bionic-arm64 nodeset

We now have bionic images in linaro.

Change-Id: I7145855903c96e7fca17d693abf0d97b2857fc2f
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Fopenstack-zuul-jobs~master~If5d17fe2b1965ceed578fe20168d011c4f087242,openstack/openstack-zuul-jobs,master,cinder,If5d17fe2b1965ceed578fe20168d011c4f087242,[rally] Remove old rally-cinder jobs,MERGED,2018-04-19 12:39:17.000000000,2018-05-24 04:28:07.000000000,2018-05-24 04:28:07.000000000,0,494,0,562569,600d5557e13d18fc7602e1b56780595d2c3a8cac,10,6,1,5,9545,Andrey Kurilin,akurilin,"[rally] Remove old rally-cinder jobs

Depends-On: I5cc99b67495e2e10264f1cb89b25b37f5f7af66b
Change-Id: If5d17fe2b1965ceed578fe20168d011c4f087242
"
openstack%2Fproject-config~master~I01dfa1f939181f63e82f8001008c5c9fb89ab866,openstack/project-config,master,new-project,I01dfa1f939181f63e82f8001008c5c9fb89ab866,Import ansible-role-tripleo-modify-image,MERGED,2018-05-16 02:35:02.000000000,2018-05-24 04:27:40.000000000,2018-05-24 04:27:40.000000000,18,0,0,568726,f0d63b82f8c9ff62ca93b16aab636036168506db,17,9,4,4,4571,Steve Baker,steve-stevebaker,"Import ansible-role-tripleo-modify-image

This role provides a general mechanism to modify existing container
images before or during a TripleO deployment. The main target use
cases are:
- during CI to refresh image packages to test changes
- developer workflows to include code being developed
- third party plugin inclusion to existing images

Change-Id: I01dfa1f939181f63e82f8001008c5c9fb89ab866
Needed-By: I13c24af42b765b3dd91abe470d7e23a34540b340
"
openstack%2Fproject-config~master~I34287ba0586e78cf381c67c006be007473fd2201,openstack/project-config,master,new-project,I34287ba0586e78cf381c67c006be007473fd2201,Add system-required template for ansible-role-tripleo-keystone,MERGED,2018-04-27 16:10:40.000000000,2018-05-24 04:20:35.000000000,2018-05-24 04:20:35.000000000,6,0,1,564823,f241ab0a39c0658b9f9838b33c40f56aa59daae0,14,4,3,1,27427,David Peacock,davidjpeacock,"Add system-required template for ansible-role-tripleo-keystone

Add system-required tempalte for new repo -
ansible-role-tripleo-keystone

Change-Id: I34287ba0586e78cf381c67c006be007473fd2201
Needed-By: Iae44a6c87f92b21b9385773f75c8d9cbb6699f83
"
openstack%2Fneutron-fwaas~master~Ic81a48aa784684a7486ecfb2a7aa9757be2bd55f,openstack/neutron-fwaas,master,,Ic81a48aa784684a7486ecfb2a7aa9757be2bd55f,add missing __init__.py file for alembic,MERGED,2017-10-30 14:22:34.000000000,2018-05-24 03:36:28.000000000,2018-05-24 03:36:28.000000000,0,0,0,516330,636d90903cef3dcc69b95265f131b844bec9c1d6,17,4,4,1,7888,Benedikt Trefzer,trefzer,"add missing __init__.py file for alembic

Change-Id: Ic81a48aa784684a7486ecfb2a7aa9757be2bd55f
"
openstack%2Fpython-manilaclient~master~I926defd6c5d3b8d87b038e2c63db694b40a88359,openstack/python-manilaclient,master,bug/1771097,I926defd6c5d3b8d87b038e2c63db694b40a88359,allow '--help' to print subcomands info,MERGED,2018-05-14 10:57:14.000000000,2018-05-24 03:27:05.000000000,2018-05-24 03:27:05.000000000,13,2,2,568261,b0b08cc65007180a750fe1bc38e1bc26d4e899f9,19,7,5,3,25456,junboli,junboli,"allow '--help' to print subcomands info

Currently, we only allow $manila help subcomand to print
subcomands info, if we are using $manila subcomand --help,
it will print all the subcomands info, that is not what we
want, this change is to allow '--help' to print subcomands
info. finally we can see the following comands are equals:

$ manila --help list
$ manila list --help
$ manila help list

Change-Id: I926defd6c5d3b8d87b038e2c63db694b40a88359
Close-bug: #1771097
"
openstack%2Fneutron-fwaas~master~I18c4a12388639d222557d07f8095c3555c29eaa3,openstack/neutron-fwaas,master,,I18c4a12388639d222557d07f8095c3555c29eaa3,Fix python3 dict values breakage,MERGED,2018-04-10 07:44:47.000000000,2018-05-24 03:12:47.000000000,2018-05-24 03:12:47.000000000,2,2,0,559941,87442ec2d047b6db0132e681ded1ed469f0eadfd,17,9,2,2,26721,Rocky,Rocky,"Fix python3 dict values breakage

Change-Id: I18c4a12388639d222557d07f8095c3555c29eaa3
"
openstack%2Fneutron~stable%2Fqueens~I942e1a5072ce111beb94ffd6298bb3e23e2bb343,openstack/neutron,stable/queens,bug/1743284-stable/queens,I942e1a5072ce111beb94ffd6298bb3e23e2bb343,Fix delete vlan allocation error for ML2,MERGED,2018-05-18 00:54:33.000000000,2018-05-24 02:35:22.000000000,2018-05-24 02:35:22.000000000,17,1,0,569295,6bfbfdbb3db4daf815da6d1a16706f2eec0a2e35,21,7,1,2,2592,Mark McClain,markmcclain,"Fix delete vlan allocation error for ML2

Method ""delete()"" of ovo object should be invoked.
Closes-bug: #1743425
Change-Id: I942e1a5072ce111beb94ffd6298bb3e23e2bb343
(cherry picked from commit 6c4bc1cf0585bdbe3701e0a2a87659881f5b1c73)
"
openstack%2Fpuppet-barbican~master~Ie56580c1f1980ed52bb2d390143767c416c4ba19,openstack/puppet-barbican,master,,Ie56580c1f1980ed52bb2d390143767c416c4ba19,Remove deprecated parameters,MERGED,2018-05-19 21:58:27.000000000,2018-05-24 02:31:32.000000000,2018-05-24 02:31:32.000000000,9,75,0,569607,9d6f124480d2a43482a24e0e3f467f2473c07bf2,9,3,2,3,16137,Tobias Urdin,tobasco,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: Ie56580c1f1980ed52bb2d390143767c416c4ba19
"
openstack%2Fproject-config~master~Ib2895a479cb005ab9081e1620386c605604d9a68,openstack/project-config,master,new-project,Ib2895a479cb005ab9081e1620386c605604d9a68,Add python-pqclient project,ABANDONED,2017-12-13 07:33:49.000000000,2018-05-24 02:25:50.000000000,,4,0,1,527612,b5be06e448940b09c31528c104ce63dbac3db02c,22,4,5,2,13702,yushiro,yushiro,"Add python-pqclient project

python-pqclient is a kind of deploy driver for openstack/ironic. This
repository provides client library for Fujitsu PRIMEQUEST MMB[1].

[1] https://specs.openstack.org/openstack/ironic-specs/specs/not-implemented/support-fujitsu-pq-mmb-driver.html
Change-Id: Ib2895a479cb005ab9081e1620386c605604d9a68
"
openstack%2Fproject-config~master~Ic13d737d912579c6190d3cd21ad1616f14b5f1a7,openstack/project-config,master,new-project,Ic13d737d912579c6190d3cd21ad1616f14b5f1a7,Add jobs for python-pqclient,ABANDONED,2017-12-13 07:46:24.000000000,2018-05-24 02:24:20.000000000,,5,0,0,527620,bffb110e38b0550968f3dcd5058b08a7c0d8b502,3,1,1,1,13702,yushiro,yushiro,"Add jobs for python-pqclient

Change-Id: Ic13d737d912579c6190d3cd21ad1616f14b5f1a7
"
openstack%2Fpuppet-cloudkitty~master~Ibc71014168a445bcebf322de7e0cbeb25325ed90,openstack/puppet-cloudkitty,master,master,Ibc71014168a445bcebf322de7e0cbeb25325ed90,[DNM] test,ABANDONED,2018-05-24 01:54:28.000000000,2018-05-24 02:22:11.000000000,,1,1,0,570288,be4359104502339c56eb44b53ed429a4486ff8c4,3,1,1,1,9414,zhongshengping,ZhongShengping,"[DNM] test

Change-Id: Ibc71014168a445bcebf322de7e0cbeb25325ed90
"
openstack%2Foctavia~master~Id88a612fcdb84186e7da6b02b85ab00e3289052e,openstack/octavia,master,,Id88a612fcdb84186e7da6b02b85ab00e3289052e,Add coverage.xml output for PTI compliance,MERGED,2018-05-23 17:07:54.000000000,2018-05-24 02:08:12.000000000,2018-05-24 02:08:12.000000000,1,0,0,570239,5a780519b4f7aaa1a23e029fe07579b031dfad76,8,4,1,1,11628,Michael Johnson,johnsom,"Add coverage.xml output for PTI compliance

The OpenStack Python testing interface specifies that coverage jobs
are required to output a coverage.xml[1]. This patch adds that output.

[1] https://governance.openstack.org/tc/reference/pti/python.html \
    #coverage-jobs

Change-Id: Id88a612fcdb84186e7da6b02b85ab00e3289052e
"
openstack%2Fneutron~master~I1ec56c57f87218520c2080c0b3450f1eabc13224,openstack/neutron,master,bp/adopt-oslo-versioned-objects-for-db,I1ec56c57f87218520c2080c0b3450f1eabc13224,Fixed PortBindingLevelDbObjectTestCase,MERGED,2018-05-07 21:59:11.000000000,2018-05-24 02:01:23.000000000,2018-05-24 02:01:22.000000000,91,12,3,566750,b74af5ff65f535a23cac29a3d28d2c435de02036,35,12,6,5,9656,Ihar Hrachyshka,ihrachys,"Fixed PortBindingLevelDbObjectTestCase

The test class was not inheriting from testlib_api.SqlTestCase which
means that the test cases were never executed.

Once it was executed, it became obvious that the object has an issue
with SQL query scalability. Specifically, it was failing the
test_get_objects_queries_constant test case that validates that the
number of queries to fetch a single object is the same as for multiple
objects. This happens because PortBindingLevel's 'segment' synthetic
field is not constructed from db model relationship but through issuing
a get_object OVO call that triggers a query per fetched PortBindingLevel
object.

To fix the issue, the patch added a new 'segment' relationship to
PortBindingLevel db model, and made OVO use attributes from the
relationship to construct 'segment' synthetic field.

Another issue revealed by enabling the test class is that foreign_key
definition for the 'segment' synthetic field located in NetworkSegment
object refers to 'segment_id' field but the field with this name is not
defined on PortBindingLevel object. The easiest thing we can do to
resolve the discrepancy is adding the 'segment_id' UUID typed field to
PortBindingLevel, which is what the patch does. (An alternative could be
hacking our way around the lack of the field, building another layer of
complexity in the base OVO class for this special case; I figured it's
probably counterproductive, and we can live with 'segment_id' field even
though it's arguably somewhat redundant - 'segment' object field already
carries the ID.)

Adding a new field to PortBindingLevel object means that we need to bump
its version, as well as versions of all objects that use the newly
modified field type for their own fields. The only object that refers to
the type is Port.  That's why we also bump the version of Port object.
To make older agents that use RPC callbacks work with the change, we
also provide corresponding obj_make_compatible methods for both Port and
PortBindingLevel objects.

Change-Id: I1ec56c57f87218520c2080c0b3450f1eabc13224
"
openstack%2Fpython-neutronclient~stable%2Fpike~Ib98ea9e423338c3ebc9b697d74574866008d36e6,openstack/python-neutronclient,stable/pike,fix-pike,Ib98ea9e423338c3ebc9b697d74574866008d36e6,Fix Pike gates,MERGED,2018-04-19 11:00:46.000000000,2018-05-24 01:42:44.000000000,2018-05-24 01:42:44.000000000,26,15,0,562553,0e0e408048755548f2f669e8e55f40e97106f0fe,23,6,8,6,9542,Pavlo Shchelokovskyy,pshchelo,"Fix Pike gates

this patch is a combined collection of a number of fixes:

- use Zuul's CI user instead of hardcoded `jenkins`
- comply with new PTI re documentation building
- Pin pycodestyle to <=2.3.1
  2.4.0 breaks pep8 tests on stable branches,
  just pin in to known working verison instead of style changes accross project.
  This package is blacklisted in g-r so that each project can choose
  to enforce its own code style version.
- do not fail if pip has nothing to install inside a pre-built tox env

Change-Id: Ib98ea9e423338c3ebc9b697d74574866008d36e6
"
openstack%2Fneutron~master~Ie26870495719bb4d702be3fa3068440714edd3e9,openstack/neutron,master,update-ubuntu-image,Ie26870495719bb4d702be3fa3068440714edd3e9,Update ubuntu image used for testing,MERGED,2018-04-25 08:34:43.000000000,2018-05-24 01:42:28.000000000,2018-05-24 01:42:28.000000000,1,1,0,564132,4f722be0c80879bf562db5ec08efce04dd34b925,30,13,2,1,13252,Dr. Jens Harbott,jrosenboom,"Update ubuntu image used for testing

The release we are using is more than a year old, let's update to a
recent release in order to make sure we stay up to date.

Change-Id: Ie26870495719bb4d702be3fa3068440714edd3e9
"
openstack%2Fpuppet-cinder~master~I286a593f0e68dc9e60852674d2fa14551acb1bbb,openstack/puppet-cinder,master,remove-deprecated,I286a593f0e68dc9e60852674d2fa14551acb1bbb,Remove deprecated parameters,MERGED,2018-05-20 13:36:58.000000000,2018-05-24 01:40:36.000000000,2018-05-24 01:40:36.000000000,59,365,0,569640,5c5a7dbf95650ff476604d369bfc197a757beab8,13,3,2,15,16137,Tobias Urdin,tobasco,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: I286a593f0e68dc9e60852674d2fa14551acb1bbb
"
openstack%2Fnova~master~Ia9167f7843bec2210176c472e4946e8ba3a1c72a,openstack/nova,master,bp/mox-removal,Ia9167f7843bec2210176c472e4946e8ba3a1c72a,Remove mox in libvirt/test_driver.py (2),MERGED,2018-05-16 06:23:21.000000000,2018-05-24 01:13:24.000000000,2018-05-24 01:13:24.000000000,70,82,0,568757,dd5e9e316dfe12175ac5ecc170c4d6d65ea07202,18,9,2,1,7634,Takashi Natsume,natsumet,"Remove mox in libvirt/test_driver.py (2)

Replace mox with mock in the following methods
of the LibvirtConnTestCase
in nova/tests/unit/virt/libvirt/test_driver.py.

* _mock_can_live_migrate_source
* test_check_can_live_migrate_source_block_migration
* test_check_can_live_migrate_source_shared_block_storage
* test_check_can_live_migrate_source_shared_instance_path
* test_check_can_live_migrate_source_non_shared_fails
* test_check_can_live_migrate_source_shared_block_migration_fails
* test_check_can_live_migrate_shared_path_block_migration_fails
* test_check_can_live_migrate_non_shared_non_block_migration_fails
* test_check_can_live_migrate_source_with_dest_not_enough_disk
* _do_test_create_images_and_backing

Subsequent patches will replace mox in other test cases.

Change-Id: Ia9167f7843bec2210176c472e4946e8ba3a1c72a
Implements: blueprint mox-removal
"
openstack%2Fopenstacksdk~master~I7da20f1f68ecd73b83bed237d09314eaffe6d4f6,openstack/openstacksdk,master,heat-decode-contents,I7da20f1f68ecd73b83bed237d09314eaffe6d4f6,Decode additional heat files,MERGED,2018-05-10 17:04:36.000000000,2018-05-24 00:41:30.000000000,2018-05-24 00:41:30.000000000,1,1,0,567648,a31c17483560e803572c375835ac0b63da79f645,7,3,1,1,7369,Sergey Skripnick,redixin,"Decode additional heat files

All file contents should be json serializable

Change-Id: I7da20f1f68ecd73b83bed237d09314eaffe6d4f6
Closes-Bug: https://storyboard.openstack.org/#!/story/2002002
"
openstack%2Fopenstacksdk~master~Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997,openstack/openstacksdk,master,image-props,Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997,Added few image properties to Image class,MERGED,2018-02-13 19:49:22.000000000,2018-05-24 00:41:29.000000000,2018-05-24 00:41:29.000000000,13,0,0,544049,1f4b9fa52a176e70d6cc438aaece17f54e4f9009,23,4,7,2,10338,Daniel Speichert,daniel,"Added few image properties to Image class

os_admin_user, hw_quemu_guest_agent, os_require_quiesce

Change-Id: Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997
"
openstack%2Fneutron-lib~master~I2016812fccc870900fb70fa9cf0358b98a7356b3,openstack/neutron-lib,master,bug/1749024,I2016812fccc870900fb70fa9cf0358b98a7356b3,api-ref: document sorting parameters for address scope,MERGED,2018-05-08 19:09:39.000000000,2018-05-24 00:23:01.000000000,2018-05-24 00:23:01.000000000,15,0,0,567005,6ad1a623e30b487bb81543fbfc51f53a375b2b9b,7,3,1,2,27654,Hongbin Lu,hongbin.lu,"api-ref: document sorting parameters for address scope

API users can use the 'sort_key' and 'sort_dir' to do the sorting
on list result. This patch add documentation of these two parameters
for address scope resource.

Change-Id: I2016812fccc870900fb70fa9cf0358b98a7356b3
Closes-Bug: #1749024
"
openstack%2Fneutron-lib~master~Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba,openstack/neutron-lib,master,bug/1748982,Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba,Adding tags to responses for relevant resources,MERGED,2018-04-09 10:50:42.000000000,2018-05-24 00:13:39.000000000,2018-05-24 00:13:39.000000000,217,25,28,559697,65da70c5d66258a841c4bf73531c7e40488775ad,47,7,12,56,27546,Michal Kelner Mishali,mkelnermishal,"Adding tags to responses for relevant resources

Adding tag to responses for resources that support
standard attributes.

Closes-bug: #1748982

Change-Id: Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba
Signed-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>
"
openstack%2Fneutron-specs~master~I10bf93ff44c88e39fbd98d0061ede2dbfcca929b,openstack/neutron-specs,master,Update-pypi-url,I10bf93ff44c88e39fbd98d0061ede2dbfcca929b,Trivial:Update pypi url to new url,MERGED,2018-05-23 03:17:23.000000000,2018-05-24 00:03:53.000000000,2018-05-24 00:03:53.000000000,1,1,0,570106,61fe7beaffd6ea05e1b5585ec223c4e2db76d717,9,4,2,1,26151,Wei Zheng,zhengwei6082,"Trivial:Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I10bf93ff44c88e39fbd98d0061ede2dbfcca929b
"
openstack%2Ftempest~master~I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd,openstack/tempest,master,volume-default-testing-v3,I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd,Move volume v2 service clients to v3 dir,MERGED,2018-01-21 14:08:11.000000000,2018-05-23 23:41:01.000000000,2018-05-23 23:41:00.000000000,1681,1307,10,536121,de676babd37270c99288ec5906ef33b9f85102ae,74,13,12,41,8556,Ghanshyam,ghanshyam,"Move volume v2 service clients to v3 dir

Moving all existing volume v2 service clients to
v3 dir. These service clients will be available as
v3 service clients.

For backward compatibility, keeping all service
clients importable from volume.v2 dir with deprecation
warning.

This patch is starting patch to make volume service clients
cleanup for v3 API testing as default.

Change-Id: I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd
"
openstack%2Fswift~master~I8739a474c56c0f2376a276d2691c84448cb9c647,openstack/swift,master,567940,I8739a474c56c0f2376a276d2691c84448cb9c647,Let make_db_file_path accept epoch=None,MERGED,2018-05-22 20:50:12.000000000,2018-05-23 23:40:59.000000000,2018-05-23 23:40:59.000000000,18,17,1,570054,4af57dbc658cc0a632fbe32727012e94d0758291,8,3,1,3,15343,Tim Burke,tburke,"Let make_db_file_path accept epoch=None

...in which case it should strip the epoch if the original path had one.

Change-Id: I8739a474c56c0f2376a276d2691c84448cb9c647
"
openstack%2Fnova~master~I745b3433a447aeec819781e0ee26df6e6c70530a,openstack/nova,master,bp/execs-ive-had-a-few,I745b3433a447aeec819781e0ee26df6e6c70530a,Convert libvirt's RBD storage to using processutils.execute(),MERGED,2018-05-21 21:02:33.000000000,2018-05-23 23:40:53.000000000,2018-05-23 23:40:53.000000000,4,5,0,569862,517cbd0815c901a04eb6197bdd54eaf04af64f04,15,11,1,2,2271,Michael Still,mikalstill,"Convert libvirt's RBD storage to using processutils.execute()

Nova's utils.execute() is just a redirector now and should go
away, so I am progressively moving things over to calling
processutils directly.

Change-Id: I745b3433a447aeec819781e0ee26df6e6c70530a
blueprint: execs-ive-had-a-few
"
openstack%2Fpython-tripleoclient~master~Iaef2671acf516b7e89358984a0d8a59555fc91f0,openstack/python-tripleoclient,master,569992,Iaef2671acf516b7e89358984a0d8a59555fc91f0,Fallback the default roles file for UC config,MERGED,2018-05-22 14:37:43.000000000,2018-05-23 23:35:43.000000000,2018-05-23 23:35:43.000000000,2,1,1,569992,7a7cafe1616de5b4bce43d34cccd6e72f37a0e0e,14,7,4,1,6926,Bogdan Dobrelya,bogdando,"Fallback the default roles file for UC config

The roles_file config param is expected to have a
fallback value for undercloud --use-heat deployments.

Change-Id: Iaef2671acf516b7e89358984a0d8a59555fc91f0
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fpython-heatclient~master~Ied56eda65800d72105ef2e2b683c6ce71cda6c4c,openstack/python-heatclient,master,assertRegex,Ied56eda65800d72105ef2e2b683c6ce71cda6c4c,Use assertRegex instead of assertRegexpMatches,MERGED,2017-11-01 09:37:34.000000000,2018-05-23 23:30:12.000000000,2018-05-23 23:30:12.000000000,17,17,0,516904,dcdacd2f56dda3c5581fc4b27fec0a288caa5156,10,4,2,1,25903,Vu Cong Tuan,tuanvu,"Use assertRegex instead of assertRegexpMatches

In Python3, assertRegexpMatches & assertNotRegexpMatches
are deprecated in favor of assertRegex and assertNotRegex

Change-Id: Ied56eda65800d72105ef2e2b683c6ce71cda6c4c
"
openstack%2Fmonasca-transform~master~Ide6c91b9f0da71d155588f856d656bf188af5570,openstack/monasca-transform,master,cleanup-renamemetricid,Ide6c91b9f0da71d155588f856d656bf188af5570,Rename metric_id to transform_spec_id,NEW,2018-05-23 23:00:35.000000000,2018-05-23 23:17:19.000000000,,708,603,0,570274,86cc22846513d6f9927244368b7021304976a3ae,3,2,1,32,11580,Ashwin Agate,agateaaa,"Rename metric_id to transform_spec_id

Work in progress

(Need https://review.openstack.org/#/c/567441/
 Depends-on change to go in first)

* Remove metric_group field from transform spec and pre_transform spec
* Rename metric_id_list to transform_spec_id_list

Change-Id: Ide6c91b9f0da71d155588f856d656bf188af5570
Depends-on: I223eb2296df438b139e3d9b5aaf4b1b679f70797
Story: 2001815
Task: 12561
"
openstack%2Fpuppet-nova~master~I2624b92871f4cba5a7361a5d006d985946493e83,openstack/puppet-nova,master,remove-deprecated,I2624b92871f4cba5a7361a5d006d985946493e83,Remove deprecated parameters and classes,MERGED,2018-05-18 23:43:20.000000000,2018-05-23 22:57:18.000000000,2018-05-23 22:57:18.000000000,67,425,0,569540,c3e5c7480f03949a824165349642b59a6077ec5d,13,4,3,13,16137,Tobias Urdin,tobasco,"Remove deprecated parameters and classes

Remove all the deprecated parameters and classes
which has been deprecated for one cycle or more.

Change-Id: I2624b92871f4cba5a7361a5d006d985946493e83
"
openstack%2Frequirements~master~I5c8c1926d7ce3f812ad80e5435f19ced601aae13,openstack/requirements,master,569888,I5c8c1926d7ce3f812ad80e5435f19ced601aae13,Remove spec-cleaner from upper-constraints/gr tracking,MERGED,2018-05-22 00:19:08.000000000,2018-05-23 22:53:25.000000000,2018-05-23 22:53:25.000000000,0,3,0,569888,b6d7fd56693a213d11d450c7b0d2e897da0e8291,22,12,2,3,6593,Dirk Mueller,dmllr,"Remove spec-cleaner from upper-constraints/gr tracking

spec-cleaner is used for rpm-packaging spec linting, it is not intended
as an OpenStack dependency per se. This could be added as a blacklisted
item as all the other linters are but rpm-packaging itself is not a
tracked project so it is not required to add it there.

Change-Id: I5c8c1926d7ce3f812ad80e5435f19ced601aae13
"
openstack%2Fpuppet-glance~master~I9f433ec89f8990a0f0c670389a301bdb732a989a,openstack/puppet-glance,master,gnocchi-image-proxy,I9f433ec89f8990a0f0c670389a301bdb732a989a,Remove deprecated parameters,MERGED,2018-05-21 21:56:34.000000000,2018-05-23 22:50:26.000000000,2018-05-23 22:50:26.000000000,63,573,0,569870,4700a450beece8fa009ea78b15c88792ab018c5f,12,3,4,17,16137,Tobias Urdin,tobasco,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: I9f433ec89f8990a0f0c670389a301bdb732a989a
"
openstack%2Fpuppet-neutron~master~If41ab16a43f98d2c0112a82f811b2137ea5515b2,openstack/puppet-neutron,master,,If41ab16a43f98d2c0112a82f811b2137ea5515b2,Configure hostname to be FQDN instead of localhost,MERGED,2018-05-23 09:31:23.000000000,2018-05-23 22:46:27.000000000,2018-05-23 22:46:27.000000000,14,0,0,570153,0fd755588acf9b70dcd5d387087b57dbee307ee5,7,3,1,3,20866,Janki Chhatbar,janki,"Configure hostname to be FQDN instead of localhost

hostname is set to localhost. It should be set
to reflect the actual hostname and not localhost.

Change-Id: If41ab16a43f98d2c0112a82f811b2137ea5515b2
"
openstack%2Fpuppet-designate~master~I01e33221ef4f2c3afd5277dbc3f1787feee31f37,openstack/puppet-designate,master,,I01e33221ef4f2c3afd5277dbc3f1787feee31f37,Remove deprecated parameters,MERGED,2018-05-21 21:31:59.000000000,2018-05-23 22:31:29.000000000,2018-05-23 22:31:29.000000000,33,237,0,569867,25f07ee1e1f440e90f550acbc129ef0f0d6f2263,9,3,2,6,16137,Tobias Urdin,tobasco,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: I01e33221ef4f2c3afd5277dbc3f1787feee31f37
"
openstack%2Fopenstack-ansible-os_horizon~master~I1c879188037b476b1e515f0fb750cfd0aedca06a,openstack/openstack-ansible-os_horizon,master,bug/1718187,I1c879188037b476b1e515f0fb750cfd0aedca06a,Download and Install neutron-fwaas-dashboard,MERGED,2017-09-20 10:54:56.000000000,2018-05-23 22:01:00.000000000,2017-10-06 23:31:20.000000000,8,0,6,505592,8a14dee837a85be14c1976e9ef7601eb60d5bcda,21,6,2,2,26729,Jakob Hasselmann,jafeha,"Download and Install neutron-fwaas-dashboard

Download and install the neutron-fwaas-dashboard if being enabled within
the os_horizon role by the horizon_enable_neutron_fwaas var.

Change-Id: I1c879188037b476b1e515f0fb750cfd0aedca06a
Partial-Bug: 1718187
"
openstack%2Fpuppet-aodh~master~Iaf45947643b0fb6495fa44c6410a7e6e98aac197,openstack/puppet-aodh,master,,Iaf45947643b0fb6495fa44c6410a7e6e98aac197,Remove deprecated parameters,MERGED,2018-05-19 21:44:58.000000000,2018-05-23 21:39:13.000000000,2018-05-23 21:39:13.000000000,18,127,0,569606,bf5d06f64000a762779ef0ad9a8767cceec74bf3,8,4,1,3,16137,Tobias Urdin,tobasco,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: Iaf45947643b0fb6495fa44c6410a7e6e98aac197
"
openstack%2Fpuppet-congress~master~Ic8a697525dd659dff13e91a00b573890e61a30ff,openstack/puppet-congress,master,,Ic8a697525dd659dff13e91a00b573890e61a30ff,Remove deprecated parameters,MERGED,2018-05-21 21:02:59.000000000,2018-05-23 21:38:45.000000000,2018-05-23 21:38:45.000000000,11,136,0,569863,aef7941268ed55112759859a39739d812d399052,8,3,2,3,16137,Tobias Urdin,tobasco,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: Ic8a697525dd659dff13e91a00b573890e61a30ff
"
openstack%2Fxstatic-angular-material~master~I36cadb723837b351b870006b15c854d990d04272,openstack/xstatic-angular-material,master,trivialfix,I36cadb723837b351b870006b15c854d990d04272,fix typos in angular-material.js,ABANDONED,2018-05-23 13:25:51.000000000,2018-05-23 21:28:22.000000000,,2,2,0,570195,60f115564a9d74e5423c46e698ce7d86f3a946a8,5,3,1,1,17130,melissaml,malei,"fix typos in angular-material.js

Change-Id: I36cadb723837b351b870006b15c854d990d04272
"
openstack%2Fpuppet-horizon~master~I8a4039ac70da4d6c72570885cb1b8bd674e685eb,openstack/puppet-horizon,master,trivialfix,I8a4039ac70da4d6c72570885cb1b8bd674e685eb,fix a typo in horizon_init_spec.rb,MERGED,2018-05-23 13:18:54.000000000,2018-05-23 21:28:09.000000000,2018-05-23 21:28:09.000000000,1,1,0,570190,61b92ef57097f0e8a44ea115f89a0efde468e49b,7,3,1,1,17130,melissaml,malei,"fix a typo in horizon_init_spec.rb

Change-Id: I8a4039ac70da4d6c72570885cb1b8bd674e685eb
"
openstack%2Fcharm-deployment-guide~master~I804e306583135a5cc770250f6eab664a737b7f56,openstack/charm-deployment-guide,master,encryption-at-rest,I804e306583135a5cc770250f6eab664a737b7f56,Add appendix for encryption-at-rest,MERGED,2018-05-11 10:51:28.000000000,2018-05-23 21:12:15.000000000,2018-05-23 21:12:15.000000000,243,0,6,567826,94a2231947c4a55fc80b7253b1106e78ceb003cb,18,3,5,2,935,James Page,james-page,"Add appendix for encryption-at-rest

Provide details on how to encrypt data at rest to mitigate the
risk of data compromise in the event that a disk, server or
multiple servers are lost from a data center deployment.

Change-Id: I804e306583135a5cc770250f6eab664a737b7f56
"
openstack%2Ftripleo-quickstart-extras~master~I589eac3b044c590a23ed42d00be46e63c71f9bad,openstack/tripleo-quickstart-extras,master,reproducer_zuul_changes,I589eac3b044c590a23ed42d00be46e63c71f9bad,Add missing zuul_changes variable,ABANDONED,2018-05-22 02:35:22.000000000,2018-05-23 20:41:25.000000000,,1,0,0,569902,6a7910074123768d343699cb28aff86ecc1f5468,12,8,1,1,4571,Steve Baker,steve-stevebaker,"Add missing zuul_changes variable

Without passing this to the nodepool-setup.yml playbook, any changes
to tripleo-quickstart etc will not be checked out on the nodes, so the
reproducer will be running master instead.

Change-Id: I589eac3b044c590a23ed42d00be46e63c71f9bad
"
openstack%2Fcinder~stable%2Focata~Ifb65b8008f30bc9cc4b6cd9b867a726ec4ed4707,openstack/cinder,stable/ocata,ocata-fix/backup-sha,Ifb65b8008f30bc9cc4b6cd9b867a726ec4ed4707,Improve ChunkedBackupDriver hashlib calls,MERGED,2018-05-03 13:19:05.000000000,2018-05-23 19:59:13.000000000,2018-05-23 19:59:13.000000000,22,14,0,566061,7dd5b5ce7fb1bcd1cadb017cca9d73a7d930af14,21,16,1,1,9535,Gorka Eguileor,Gorka,"Improve ChunkedBackupDriver hashlib calls

Currently we have 2 hashlib calls withing the ChunkedBackupDriver, one
to calculate the MD5 of the chunk and another to calculate the SHA256 of
the blocks within each chunk.

This patch improve interactions between cinder and the hashlib library
method calls by making sure MD5 and SHA256 related calls are execute in
a native thread to improve context switching responsiveness within
eventlet.

The MD5 of a 1GB chunk could take around 4 seconds, so the overhead of
creating a native thread is acceptable, and for the SHA256 instead of
creating a thread for each call we create a single thread to do the
calculations of all the blocks, thus making it cost effective.

Current code slices the data into blocks, which means that the data is being
copied, but this has now been switched to a memoryview object to take advantage
of the buffer protocol so copying of data is no longer necesary.

Change-Id: Ifb65b8008f30bc9cc4b6cd9b867a726ec4ed4707
(cherry picked from commit 671b02b504a45953cf225a210c361729d480dd66)
Conflicts:
	cinder/backup/chunkeddriver.py
(cherry picked from commit 2ec114d3c7306b431ab2bd2ee47bf09eb8223ffd)
(cherry picked from commit acfdbb62f706451bf1faf3d6926e9267028186c8)
"
openstack%2Ftripleo-ui~master~Iccb1685c00e1310b3f5b5334ff96726325bcab12,openstack/tripleo-ui,master,logout-id,Iccb1685c00e1310b3f5b5334ff96726325bcab12,Add an id to the DropdownToggle in UserDropdown,MERGED,2018-04-13 12:39:06.000000000,2018-05-23 19:57:23.000000000,2018-05-23 19:57:23.000000000,3,1,2,561211,4fda81db990f0df985c7565e6d6eb002202c8208,11,7,1,2,20970,Honza Pokorny,hpokorny,"Add an id to the DropdownToggle in UserDropdown

This is to help with targetting the element in our automation tests.

Change-Id: Iccb1685c00e1310b3f5b5334ff96726325bcab12
"
openstack%2Ftripleo-ui~master~I5bcc45c3f8cc74595fe28ea35fa4569d8cb8e661,openstack/tripleo-ui,master,logout-id,I5bcc45c3f8cc74595fe28ea35fa4569d8cb8e661,Reinstate logout link id,MERGED,2018-04-12 17:52:48.000000000,2018-05-23 19:57:22.000000000,2018-05-23 19:57:22.000000000,10,3,0,560992,05a2a6c268ae1ff0bc76bb285d5eaf3a2aae625e,12,6,2,2,20970,Honza Pokorny,hpokorny,"Reinstate logout link id

During a recent patch, the logout link id was accidentally removed.
This id is used heavily by selenium tests.

Change-Id: I5bcc45c3f8cc74595fe28ea35fa4569d8cb8e661
"
openstack%2Ftripleo-heat-templates~master~Ie36342402426d74fd528e320d60adc951bf8c9ac,openstack/tripleo-heat-templates,master,bug/1772040,Ie36342402426d74fd528e320d60adc951bf8c9ac,Don't delete br-ex on upgrade in multinode jobs,MERGED,2018-05-21 11:29:04.000000000,2018-05-23 19:57:20.000000000,2018-05-23 19:57:20.000000000,10,3,3,569781,e9e2b4d104e51f3aafc0cb4ee285163da21ef8a2,18,12,2,1,8042,Jiří Stránský,jistr,"Don't delete br-ex on upgrade in multinode jobs

The hook for os-net-config in multinode NIC config templates contains
a call to `ovs-vsctl del-br br-ex` to remove the bridge we got from
nodepool and initialize network config. We need to avoid executing
that again on upgrade, or the Ansible process running the upgrade gets
stuck.

Change-Id: Ie36342402426d74fd528e320d60adc951bf8c9ac
Closes-Bug: #1772040
"
openstack%2Ftripleo-common~stable%2Fqueens~Icc64b32a2179cd10853a54a83bf82a1761297ebd,openstack/tripleo-common,stable/queens,bug/1755078,Icc64b32a2179cd10853a54a83bf82a1761297ebd,Find deployment name in config download,MERGED,2018-05-09 15:04:37.000000000,2018-05-23 19:57:20.000000000,2018-05-23 19:57:20.000000000,23,0,2,567249,091e603ef97ff18e0a0ca7964d05f5c8970758aa,33,10,2,1,26343,Jose Luis Franco,jfrancoa,"Find deployment name in config download

In some cases we get a ResourceGroup as parent resource of a deployment,
so the name will be a number. Ansible will be unhappy with that, so
let's get the grand parent to get the proper name.

Related-Bug: #1755078
(cherry picked from commit 635f6a4374b35489084131d62b88e7272b987bb3)
Change-Id: Icc64b32a2179cd10853a54a83bf82a1761297ebd
"
openstack%2Fpython-tripleoclient~stable%2Fqueens~If8902980c93212401e5ff30828f6f03da6eece0e,openstack/python-tripleoclient,stable/queens,exclude-path,If8902980c93212401e5ff30828f6f03da6eece0e,Add exclude-path to undercloud backups,MERGED,2018-05-14 07:13:16.000000000,2018-05-23 19:57:19.000000000,2018-05-23 19:57:19.000000000,78,1,0,568210,4c456b44759d5753fd2ff3a973d36cd3765c1e6e,38,9,1,2,20775,Carlos Camacho,ccamacho,"Add exclude-path to undercloud backups

This patch adds the option to exclude files
when executing an Undercloud backup

Change-Id: If8902980c93212401e5ff30828f6f03da6eece0e
Closes-Bug: 1767385
(cherry picked from commit 1a05c694b873c7dee5cc233c70e206de26bfc52d)
"
openstack%2Fpython-tripleoclient~stable%2Fqueens~I77fdc9deab97c785725f09b8529c512950753f86,openstack/python-tripleoclient,stable/queens,bug/1758161,I77fdc9deab97c785725f09b8529c512950753f86,Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare,MERGED,2018-05-15 14:49:35.000000000,2018-05-23 19:57:18.000000000,2018-05-23 19:57:18.000000000,33,1,1,568604,12a5340c506157523df06888787aa8eff0cb69b8,27,8,2,4,8449,Marios Andreou,marios,"Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare

Before we update the heat stack for the ffwd-upgrade prepare we
can use this to run any required commands on the overcloud.

The current use case is removal of the
/usr/libexec/os-apply-config/templates/etc/os-net-config/config.json
Otherwise after the upgrade prepare is executed, overcloud nodes
will have empty config.json for os-net-config (also discussed [0])

The current implementation of .deployment.v1.deploy_on_servers assumes
all servers are managed by nova. This is OK for N..Q ffu but we will
need to revisit in future, see [1] for more info.

[0]: https://bugzilla.redhat.com/show_bug.cgi?id=1561255
[1]: https://bugs.launchpad.net/tripleo/+bug/1770356
Related-Bug: 1758161
Depends-On: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc
Change-Id: I77fdc9deab97c785725f09b8529c512950753f86
(cherry picked from commit 0598141440882cc9a31e81626e7d01e0197eda80)
"
openstack%2Fpython-tripleoclient~stable%2Fqueens~Ife57bfae034f70e33bb64cfc3f3063b6a5528cc6,openstack/python-tripleoclient,stable/queens,bug/1768586-stable/queens,Ife57bfae034f70e33bb64cfc3f3063b6a5528cc6,Update Heat stack on update/upgrade/ffwd converge,MERGED,2018-05-09 14:47:04.000000000,2018-05-23 19:57:17.000000000,2018-05-23 19:57:17.000000000,25,77,0,567243,1dec392c4c48ac6d2f5e4a3526219c5c94dec3ef,46,8,1,5,8042,Jiří Stránský,jistr,"Update Heat stack on update/upgrade/ffwd converge

Removing no-ops from plan only will have no effect, we need to let
Heat know about the no-ops removal too. Client commands always fully
recreate the plan in swift, so any plan edits need to be immediately
applied.

For the same reason this commit also drops execution of the workfow --
so far we thought it's just superfluous (does what the env file did),
but in fact can't have any effect at all, so let's not execute that
code at all.

Depends-On: I9039db99f43e8ad091ea6fef7e3a149fcddf1334
Change-Id: Ife57bfae034f70e33bb64cfc3f3063b6a5528cc6
Closes-Bug: #1768586
(cherry picked from commit a0006df5442ee94637f236c46cf1a0fb436e5c0a)
"
openstack%2Ftripleo-validations~stable%2Fqueens~I76fe01b7f2ec84db8a8aeaa749cb7b961667b3c9,openstack/tripleo-validations,stable/queens,bug/1768011,I76fe01b7f2ec84db8a8aeaa749cb7b961667b3c9,Fail if the Overcloud inventory is empty,MERGED,2018-05-08 12:56:10.000000000,2018-05-23 19:57:17.000000000,2018-05-23 19:57:17.000000000,7,0,0,566881,3756506d315e661347c76f16383a279b6eb1f9e8,28,8,1,1,20775,Carlos Camacho,ccamacho,"Fail if the Overcloud inventory is empty

If tripleo-ansible-inventory can not retrieve the
inventory, the script should fail and
display an error message for the users to
fix the plan or stack name before continuing.

(cherry picked from commit 773bef1c7a5e7015c4df42ce23e2f9c8c158f424)
Change-Id: I76fe01b7f2ec84db8a8aeaa749cb7b961667b3c9
Closes-Bug: 1768011
"
openstack%2Ftripleo-common~stable%2Fqueens~I522acab84833b942865dc57156f3de99779d4f43,openstack/tripleo-common,stable/queens,,I522acab84833b942865dc57156f3de99779d4f43,Persist package update ansible logs,MERGED,2018-05-02 17:40:57.000000000,2018-05-23 19:57:16.000000000,2018-05-23 19:57:16.000000000,1,0,2,565853,aebccc13c9df34f4dfa2203f8a676395dc67aba0,26,8,2,1,11166,Lukas Bezdicka,xbezdick,"Persist package update ansible logs

We need to store the ansible playbook logs into persistent location.
We do it by ANSIBLE_LOG_PATH: /var/lib/mistral/package_update.log

Change-Id: I522acab84833b942865dc57156f3de99779d4f43
Resolves: rhbz#1572827
(cherry picked from commit a6498ad3265b3a8e4dc938867dceaaa75e1d5d72)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I5e0fcb7467fcff7e549e04789ceeb8eb49ee265a,openstack/tripleo-heat-templates,stable/queens,bug/1770598-stable/queens,I5e0fcb7467fcff7e549e04789ceeb8eb49ee265a,Fix cinder-backup image wrangling on update,MERGED,2018-05-17 15:19:00.000000000,2018-05-23 19:46:23.000000000,2018-05-23 19:46:23.000000000,2,2,0,569146,815f99a2d9d4ba206e78bbaf5745c5ce1ff7f9b5,21,6,2,1,16515,mbu,matbu,"Fix cinder-backup image wrangling on update

The minor update tasks for cinder-backup first pull the new image and
then delete the old one. If the image hasn't changed, deleting the old
one means deleting the new one too, and then trying to tag it as
pcmklatest will fail. The other services under
services/docker/pacemaker seem to have the order correct.

All services here could use a performance optimization for cases when
the image hasn't changed (don't reshuffle images if the hash hasn't
changed) but let's fix the breakage first and address performance
later.

Change-Id: I5e0fcb7467fcff7e549e04789ceeb8eb49ee265a
Closes-Bug: #1770598
Related-Bug: #1770599
(cherry picked from commit b0322730a7b0759526c3e0b876afa514d8ab35dd)
"
openstack%2Ftripleo-common~stable%2Fqueens~Icd25a8d579151015c9cdf56861d2be933848a723,openstack/tripleo-common,stable/queens,exclude-path,Icd25a8d579151015c9cdf56861d2be933848a723,Add validation for empty file system backup on Undercloud,MERGED,2018-05-14 10:04:23.000000000,2018-05-23 19:46:22.000000000,2018-05-23 19:46:22.000000000,24,7,0,568250,32d7ec7faaff73aa2698aef6f29a83ec3a8b3a6e,30,4,3,2,20775,Carlos Camacho,ccamacho,"Add validation for empty file system backup on Undercloud

This patch works as an addition to the exclude path
when executing an Undercloud backup.

In this case if we exclude all files, there is no need to execute
the task to create the FS backup.

Change-Id: Icd25a8d579151015c9cdf56861d2be933848a723
Closes-Bug: 1767385
(cherry picked from commit 650a259472de77c1ea6ecd6883b50c134cd6d29a)
"
openstack%2Ftripleo-heat-templates~stable%2Focata~I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,openstack/tripleo-heat-templates,stable/ocata,osp/crudini,I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,Don't use crudini to get rhn server,MERGED,2018-05-17 17:23:33.000000000,2018-05-23 19:46:21.000000000,2018-05-23 19:46:21.000000000,2,1,0,569180,89fd5a0093fdd45d7421a76d781c2495e503514d,22,4,3,1,3153,Emilien Macchi,emilienm,"Don't use crudini to get rhn server

crudini is not installed by default on Red Hat derivitive OS's, so we
shouldn't rely on it. We probably can't just install it since this
script is the rhel-registration script, so there are likely no repos
enabled when we need it.

Instead just use grep/cut/sed to get the value we need.

Change-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8
Closes-Bug: #1771830
(cherry picked from commit b4ff453f87610988b7f76688bdba7e006ec91d20)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ie3bd17ca9863e7687721e8c2628e485ea1849321,openstack/tripleo-heat-templates,stable/queens,bug/1772071-stable/queens,Ie3bd17ca9863e7687721e8c2628e485ea1849321,Use str_replace for known_hosts,MERGED,2018-05-22 03:04:44.000000000,2018-05-23 19:46:20.000000000,2018-05-23 19:46:19.000000000,24,17,0,569909,482f2eb2f736e8d5d01a775dae160f819240d708,19,7,2,2,14985,Alex Schultz,mwhahaha,"Use str_replace for known_hosts

There is a limit to how long input data can be for the heat script hook.
It turns out that data longer than 131072, will return an Argument list
to long error. To get around this, we need to pass this data in a
different way so that the heat script hook will work.

NOTE: Includes fix from If7a4c6f3581bed270f478b98b8da8fe010acbbc1

Change-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321
Closes-Bug: #1772071
(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)
"
openstack%2Fpython-tripleoclient~master~I503dcc831b78d1c271f166ffd6d97fdc2cbd618f,openstack/python-tripleoclient,master,bp/all-in-one,I503dcc831b78d1c271f166ffd6d97fdc2cbd618f,Update HostnameMap generation,MERGED,2018-05-11 21:59:17.000000000,2018-05-23 19:46:19.000000000,2018-05-23 19:46:19.000000000,182,35,7,567951,a05a0eb3cf3952fbd7a611a2134ce03afc73dbd9,48,7,9,2,14985,Alex Schultz,mwhahaha,"Update HostnameMap generation

The HostnameMap is used in combination with the
deployed-neutron-port.yaml for the Containerized undercloud. Previously
we were hardcoding the value assuming 'undercloud' in the hostname from
the stack and role. Because these can be customized, we should generate
the hostname map value from the stackname being deployed and the primary
role from the roles_data.

Change-Id: I503dcc831b78d1c271f166ffd6d97fdc2cbd618f
Related-Blueprint: all-in-one
"
openstack%2Ftripleo-heat-templates~stable%2Focata~I1cd765b1998f059702f0c17ccb67d54f6d5db362,openstack/tripleo-heat-templates,stable/ocata,bug/1703792,I1cd765b1998f059702f0c17ccb67d54f6d5db362,Enhance completion message when upgrading non controller nodes,MERGED,2018-05-21 13:19:58.000000000,2018-05-23 19:01:06.000000000,2018-05-23 19:01:06.000000000,7,1,3,569794,f1b5697f0a73a59752031359752f14e4eddd4bdf,18,5,1,1,20775,Carlos Camacho,ccamacho,"Enhance completion message when upgrading non controller nodes

This adds a better completion message when upgrading a non
controller node.

Change-Id: I1cd765b1998f059702f0c17ccb67d54f6d5db362
Closes-Bug: 1703792
(cherry picked from commit 7bf4edde5de2ab99824c9e8259a9ffa3307b9554)
"
openstack%2Foctavia-dashboard~master~I4f817fa93ed599a864bbdcbf68a2795a1e75149f,openstack/octavia-dashboard,master,zanata/translations,I4f817fa93ed599a864bbdcbf68a2795a1e75149f,Imported Translations from Zanata,MERGED,2018-05-23 06:47:19.000000000,2018-05-23 18:56:59.000000000,2018-05-23 18:56:59.000000000,4,4,0,570123,015568af553fa41869ece6d92d2a639b4e7d3bb4,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4f817fa93ed599a864bbdcbf68a2795a1e75149f
"
openstack%2Fnova-powervm~stable%2Fqueens~I05facd4c971a08c62f37ba7371b2cc5474d2cd8a,openstack/nova-powervm,stable/queens,ci_check-stable/queens,I05facd4c971a08c62f37ba7371b2cc5474d2cd8a,DNM: ci check,ABANDONED,2018-02-14 20:54:38.000000000,2018-05-23 18:48:44.000000000,,1,1,0,544689,38649f9ec57d5c70b1fcdd78b064e337885f7c34,35,3,4,1,16710,Eric Berglund,esberglu,"DNM: ci check

Don't merge. Used to kick off CI Runs

Change-Id: I05facd4c971a08c62f37ba7371b2cc5474d2cd8a
"
openstack%2Fnova-powervm~stable%2Focata~I07d2dec077d42d0057e0e2e392348bce5fe283b0,openstack/nova-powervm,stable/ocata,,I07d2dec077d42d0057e0e2e392348bce5fe283b0,DNM: CI CHECK OCATA,ABANDONED,2017-05-15 21:26:12.000000000,2018-05-23 18:48:36.000000000,,0,0,0,464756,ed11bb943d188824668d77aa48b3aceebf365f33,99,3,3,0,16710,Eric Berglund,esberglu,"DNM: CI CHECK OCATA

Change-Id: I07d2dec077d42d0057e0e2e392348bce5fe283b0
"
openstack%2Fnova-powervm~stable%2Fpike~I8c1d1696a89832f4a6ce275c05351d1cafb89df8,openstack/nova-powervm,stable/pike,DNM: CI Check - Pike,I8c1d1696a89832f4a6ce275c05351d1cafb89df8,DNM: CI Check - Pike,ABANDONED,2017-10-31 21:22:09.000000000,2018-05-23 18:48:30.000000000,,0,0,0,516790,5de928c5025bd35261bb3766d57f635f8b182b09,51,3,4,0,16710,Eric Berglund,esberglu,"DNM: CI Check - Pike

DO NOT MERGE: Used to kick off PowerVM CI runs for nova-powervm pike
branch.

Change-Id: I8c1d1696a89832f4a6ce275c05351d1cafb89df8
"
openstack%2Fswift~master~Icd558c1f92c24724a76931f1d281a9a20122b683,openstack/swift,master,570005,Icd558c1f92c24724a76931f1d281a9a20122b683,Add unit tests for replicator sync_shard_ranges,MERGED,2018-05-22 16:18:38.000000000,2018-05-23 18:42:48.000000000,2018-05-23 18:42:48.000000000,64,1,5,570005,e4045fb4758898b6ef855301ae0cd8f9a450af36,12,3,3,1,7847,Alistair Coles,acoles,"Add unit tests for replicator sync_shard_ranges

Related-Change: Ie4d2816259e6c25c346976e181fb9d350f947190

Change-Id: Icd558c1f92c24724a76931f1d281a9a20122b683
"
openstack%2Fopenstack-helm-infra~master~I7c9786a95ed138178bb0178a55fac90a0d9e8e5b,openstack/openstack-helm-infra,master,htk-allow-undefined-reg,I7c9786a95ed138178bb0178a55fac90a0d9e8e5b,helm-toolkit: allow images.local_registry to be undefined,ABANDONED,2018-04-16 21:40:52.000000000,2018-05-23 18:31:34.000000000,,4,0,0,561734,8ddb2513041e88abc06c5e34fb1c9a027b451c8e,11,5,2,1,8898,Chris Wedgwood,anticw,"helm-toolkit: allow images.local_registry to be undefined

Change-Id: I7c9786a95ed138178bb0178a55fac90a0d9e8e5b
"
openstack%2Fnova-powervm~master~I73af6218d05de2de4a824d6cb027451d7f4038c9,openstack/nova-powervm,master,rm_ld_opts,I73af6218d05de2de4a824d6cb027451d7f4038c9,Remove powervm localdisk conf options,MERGED,2018-04-12 20:50:42.000000000,2018-05-23 18:31:31.000000000,2018-05-23 18:31:31.000000000,2,19,0,561045,1291aa9d2648b88a814de7acf18c6aede2419c32,18,5,2,2,16710,Eric Berglund,esberglu,"Remove powervm localdisk conf options

This removes the disk_driver and volume_group_name configuration
options from nova-powervm. The options are now located in nova [1].

[1] https://review.openstack.org/#/c/549300/

Change-Id: I73af6218d05de2de4a824d6cb027451d7f4038c9
"
openstack%2Fswift~master~I707ed7b7ec56ad89e56c9174d65d9998d4ce211f,openstack/swift,master,,I707ed7b7ec56ad89e56c9174d65d9998d4ce211f,Use sharding container epoch in shard container names,NEW,2018-05-23 17:02:37.000000000,2018-05-23 18:30:27.000000000,,138,20,0,570235,f046dbe2a2b5791717e2a6f595283c1354529dfa,2,1,1,3,7847,Alistair Coles,acoles,"Use sharding container epoch in shard container names

Make 'swift-manage-shard-ranges find_and_replace --enable' use the
same timestamp for the container's sharding epoch and as the timestamp
component of the initial shard containers' names. This is not required
but may be appreciated when humans inspect the state of a sharded
container.

This will only be the case the first time find_and_replace --enable
is used. Repeated use is not recommended; if repeated then the
broker's epoch is not changed but new shard ranges are created
with new timestamps in their names to guarantee uniqueness.

Change-Id: I707ed7b7ec56ad89e56c9174d65d9998d4ce211f
"
openstack%2Ftripleo-common~stable%2Fqueens~Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc,openstack/tripleo-common,stable/queens,bug/1758161-stable/queens,Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc,Add special 'all' for deploy_on_servers server name to match all,MERGED,2018-05-10 09:39:16.000000000,2018-05-23 18:20:10.000000000,2018-05-23 18:20:10.000000000,11,0,0,567538,9b347848f6670c3cf5ec672dbe536cc305af93ab,44,9,3,1,11090,Sergii Golovatiuk,holser,"Add special 'all' for deploy_on_servers server name to match all

This adds a special clause for when the value of server_name is
set to 'all'. In this case we skip the match on name and just
use the entire nova list. See related below for a use case.

Related:
(python-tripleoclient) I77fdc9deab97c785725f09b8529c512950753f86

Change-Id: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc
(cherry picked from commit 8407b9bf2bd6ab3e17263a8e25cad1b0e3b87608)
"
openstack%2Fpython-tripleoclient~stable%2Fqueens~I7c5347ef31aa002f22bcaa60fcbfff058ae8acb9,openstack/python-tripleoclient,stable/queens,bug/1769867,I7c5347ef31aa002f22bcaa60fcbfff058ae8acb9,"Refactor, fix ansible inventory method parameters for ffwd-upgrade run",MERGED,2018-05-09 14:19:43.000000000,2018-05-23 18:20:10.000000000,2018-05-23 18:20:10.000000000,30,5,0,567233,245eb695fb15c1cd0beea1c2cd91aa6de789f14b,24,6,3,2,11090,Sergii Golovatiuk,holser,"Refactor, fix ansible inventory method parameters for ffwd-upgrade run

This submission had the correct fix for the bug 1769867.

[0] was accidentaly stepping over this submission
to fix the parameter configuration. Still we need
the fix for configuring the parameters correctly
also fixing the unit tests.

The method parameters wasn't being passed into the
tripleo ansible inventory generation.
Also discussed in [1].

Related-Bug: 1769867
[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1575445
[0]: https://review.openstack.org/#/c/566960/
(cherry picked from commit d0673159e0b412c051abfdf0aa4b91944211e270)
Change-Id: I7c5347ef31aa002f22bcaa60fcbfff058ae8acb9
"
openstack%2Ftripleo-quickstart-extras~master~I577017bd3990f6e86caa2538061a850f619e4f66,openstack/tripleo-quickstart-extras,master,,I577017bd3990f6e86caa2538061a850f619e4f66,Remove hardcoded cinder v1 option for tempestconf,MERGED,2018-05-16 07:58:25.000000000,2018-05-23 18:20:09.000000000,2018-05-23 18:20:09.000000000,0,1,2,568776,da48e520bf68441a9e23709041341d3970bc4684,28,10,1,1,22873,Martin Kopec,mkopec,"Remove hardcoded cinder v1 option for tempestconf

python-tempestconf is able to detect deprecated versions,
therefor that line is no longer needed.

Change-Id: I577017bd3990f6e86caa2538061a850f619e4f66
"
openstack%2Fkeystone-specs~master~Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0,openstack/keystone-specs,master,,Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0,Define a set of basic default roles,MERGED,2018-05-04 18:27:08.000000000,2018-05-23 17:57:58.000000000,2018-05-23 17:57:58.000000000,285,0,54,566377,acfc05ae9655702c096aa43e875c17c38339caec,46,8,9,1,11589,Harry Rybacki,hrybacki,"Define a set of basic default roles

With the recent work to keystone and oslo.policy, we should be able to
offer tooling to project development teams so they can start evolving
their policies. Before we start changing things, we should come to
consensus on a set of defaults we should offer out of the box.

Moving towards a set of known defaults will make maintenance for
operators much easier. It will also build the foundation for a more
robust RBAC system that is better at modeling complex
organization, ultimately being more useful in the real-world.

Change-Id: Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0
Co-authored-By: Lance Bragstad <lbragstad@gmail.com>
Co-Authored-By: Jamie Lennox <jamielennox@gmail.com>
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ib1275d42daf2896db9e6de6513070a0fba47ed40,openstack/tripleo-heat-templates,stable/queens,,Ib1275d42daf2896db9e6de6513070a0fba47ed40,Mount ODL log file on host node,MERGED,2018-05-10 05:01:15.000000000,2018-05-23 17:48:05.000000000,2018-05-23 17:48:05.000000000,3,1,0,567469,4e9fbb8c32028f4bb6d46439edbb4f8aea0a0060,56,10,1,1,20866,Janki Chhatbar,janki,"Mount ODL log file on host node

This patch mounts karaf.log file at /var/log/
container/opendaylight/. So the logs are now available
via docker logs and in file both.

Change-Id: Ib1275d42daf2896db9e6de6513070a0fba47ed40
(cherry picked from commit d53522165e18c7d10b16ccad494691f5043e3a4f)
"
openstack%2Fcharm-neutron-dynamic-routing~master~I41360518ab2e65a207e238d95a39b763897d4fbc,openstack/charm-neutron-dynamic-routing,master,remove-config-asn,I41360518ab2e65a207e238d95a39b763897d4fbc,Remove asn configuration option,MERGED,2018-05-14 10:54:26.000000000,2018-05-23 17:37:33.000000000,2018-05-23 17:37:33.000000000,47,25,0,568260,7be2ae2bd81f48641788d4de18cfeacbbe74a2ec,58,4,8,8,13686,Frode Nordahl,fnordahl,"Remove asn configuration option

This configuration option is only used for CI testing and
may be confusing for a unsuspecting end user.

Change is coupled with PR on zaza that updates the dragent
test to get information about configured asns by inspecting
relation data on `neutron-dynamic-routing` and `quagga`
units.

Depends-On: I8b1508361fdc7541c0fc231e7e816651626596b7
Change-Id: I41360518ab2e65a207e238d95a39b763897d4fbc
"
openstack%2Fsenlin~master~I4968e6eb438e43859fe63044ae580a059a52239a,openstack/senlin,master,,I4968e6eb438e43859fe63044ae580a059a52239a,Fix typo,MERGED,2018-05-22 08:46:09.000000000,2018-05-23 17:34:26.000000000,2018-05-23 17:34:26.000000000,1,1,0,569940,77053a12965a3962ae2ac41daa41cf12b6680288,10,6,1,1,25747,Debo Zhang,zhangdebo,"Fix typo

Change-Id: I4968e6eb438e43859fe63044ae580a059a52239a
"
openstack%2Fnova~master~I649a78a787bbc6a34ed4749f22186400a614557f,openstack/nova,master,bug/1675676,I649a78a787bbc6a34ed4749f22186400a614557f,Migrate VMs failed when anti-affinity group was removed from VMs.,ABANDONED,2017-03-30 06:27:25.000000000,2018-05-23 17:28:58.000000000,,15,3,9,451664,544a1592c09aa0b66d247471f6187cbe6fc616b2,171,32,15,2,25110,Bryan Song,lcsong,"Migrate VMs failed when anti-affinity group was removed from VMs.

When anti-affinity group was removed, 'group_members' field was
removed from request_spec and here is the debug info:
{'limits': {}, 'group_policies':set([u'anti-affinity']),
'ignore_hosts': [u'test-deploy7'], 'group_hosts': set([]),
'group_updated': True, 'scheduler_hints': {u'group': u'groupId'}}.

Because no field named 'group_members' was contained, so the
following method: nova/objects/request_spec.py:205:

members = list(filter_properties.get('group_members'))

will raise the NoneType error: ""TypeError: 'NoneType' object is not
iterable"". We add a default value to avoide this exception.

members = list(filter_properties.get('group_members', []))

Closes-Bug: #1675676

Change-Id: I649a78a787bbc6a34ed4749f22186400a614557f
"
openstack%2Fkolla-ansible~master~Ic2fbcf2347023c1e9e666203dfe40dbeaf24ce5f,openstack/kolla-ansible,master,genpwd_py35,Ic2fbcf2347023c1e9e666203dfe40dbeaf24ce5f,Updated genpwd to work with python35,MERGED,2018-05-22 23:39:19.000000000,2018-05-23 17:07:48.000000000,2018-05-23 17:07:47.000000000,6,6,0,570080,f1768ef7abb9ef183601c528dbd8bac5b315ad35,10,7,1,1,16520,Borne Mace,bmace,"Updated genpwd to work with python35

Due to the changes in hmac.new and how binary strings
are dumped in yaml.safe_dump some changes were needed to
make sure that we dumped only strings, not binary strings.

Change-Id: Ic2fbcf2347023c1e9e666203dfe40dbeaf24ce5f
"
openstack%2Ftripleo-ha-utils~master~I426387486b832314882a3094966e4f2806218331,openstack/tripleo-ha-utils,master,fix_last_old_repo_references,I426387486b832314882a3094966e4f2806218331,Fix the last old repository references,MERGED,2018-05-23 15:08:38.000000000,2018-05-23 16:55:46.000000000,2018-05-23 16:55:46.000000000,24,24,1,570210,20507623d0771c9e9750063ce7c40ee7ff02eee5,10,3,2,5,20936,Raoul Scarazzini,rasca,"Fix the last old repository references

This patch fixes the latest references that are around and refer to the
old repository name (tripleo-quickstart-utils), changing it into the new
tripleo-ha-utils.

Change-Id: I426387486b832314882a3094966e4f2806218331
"
openstack%2Fironic~master~I5539aa0406dbfbde25bc9aa91d5c1e615875e50e,openstack/ironic,master,story/1596107,I5539aa0406dbfbde25bc9aa91d5c1e615875e50e,Power fault recovery: db and rpc implementation,MERGED,2018-03-23 09:07:11.000000000,2018-05-23 16:28:48.000000000,2018-05-23 11:03:37.000000000,142,9,58,555708,6b44f269c10c9e9e77d0242a70ac80a30f5ee2f6,129,14,15,11,24828,Kaifeng Wang,wangkf,"Power fault recovery: db and rpc implementation

This adds a fault field to the node table of database, and necessary rpc
object change and version bumping.

Story: #1596107
Task: #10469

Change-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e
"
openstack%2Fmetalsmith~master~I0324644bbf3f2251c99b19fd269455398ba8b4a4,openstack/metalsmith,master,tox.ini,I0324644bbf3f2251c99b19fd269455398ba8b4a4,Pass OS_CLOUD and OS_CACERT to environments,MERGED,2018-05-23 15:44:10.000000000,2018-05-23 16:02:37.000000000,2018-05-23 16:02:36.000000000,4,3,0,570221,53e84255f1b3fe9c92f6fa60c33efa8790a510e4,6,2,1,1,10239,Dmitry Tantsur,dtantsur,"Pass OS_CLOUD and OS_CACERT to environments

Also limit this exceptions to the 'venv' environment only.

Change-Id: I0324644bbf3f2251c99b19fd269455398ba8b4a4
"
openstack%2Fmetalsmith~master~Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200,openstack/metalsmith,master,partition-centos,Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200,CI: completely switch to CentOS images for testing,MERGED,2018-05-21 11:48:40.000000000,2018-05-23 15:57:13.000000000,2018-05-23 15:57:13.000000000,117,49,0,569782,9d14cc808c9afacbebc219c77a05e2f2b2220f00,27,2,11,3,10239,Dmitry Tantsur,dtantsur,"CI: completely switch to CentOS images for testing

This involves unpacking the downloaded qcow2 to extract kernel/ramdisk.
The job timeout is increased since we're working with a bigger image.

Change-Id: Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200
"
openstack%2Fnova~master~Ibfc70ded7451ecbb07f72c471ee82205612008a8,openstack/nova,master,bug/1463856,Ibfc70ded7451ecbb07f72c471ee82205612008a8,fix admin context scenarios for cinderclient,ABANDONED,2016-10-11 02:44:03.000000000,2018-05-23 15:48:31.000000000,,52,5,11,384799,7dd9b580942d0dd6c1c021a0812b2c67096a0d3b,152,27,8,4,20217,Anusha Unnam,aunnam,"fix admin context scenarios for cinderclient

When cinderclient got an admin context without token passed in,
the client don't really have the ability to communicate with cinder
service. This is because there is no auth_token and service_catalog
info in this admin context. Periodic tasks like reclaiming soft-deleted
instances uses such admin context. In such case, nova was
unable to detach the volumes attached to soft-deleted instances.

This patch allows to add keystone auth options in the cinder section of
nova.conf, so that nova will load admin auth plugin from the auth options
and use it to communicate with cinder.

closes-bug: #1463856

Change-Id: Ibfc70ded7451ecbb07f72c471ee82205612008a8
"
openstack%2Fpuppet-nova~master~Ife0e92aad7eaf31817e509e9253c52dd2fb1f16b,openstack/puppet-nova,master,cpu_weigher,Ife0e92aad7eaf31817e509e9253c52dd2fb1f16b,Expost cpu_weight_mulitiplier config parameter,MERGED,2018-05-23 05:25:32.000000000,2018-05-23 15:39:40.000000000,2018-05-23 15:39:40.000000000,16,0,0,570115,c0569b53a7e0bc4e127e1689b1ce911d87c09089,13,8,2,3,20733,Rajesh Tailor,rajesht,"Expost cpu_weight_mulitiplier config parameter

Add support for configuring the 'cpu_weight_multiplier'
scheduler filter option to provide resource stack/spread
policy for CPU.

NOTE: The related nova changes are done in change:
I90ee8a2081c2a0465441a8d81d161f4887b4e1fb

Change-Id: Ife0e92aad7eaf31817e509e9253c52dd2fb1f16b
"
openstack%2Fnetworking-bgpvpn~master~I9dc5ddf64a968ce433f9dd05b135f4263a12b8a0,openstack/networking-bgpvpn,master,bug/1761691,I9dc5ddf64a968ce433f9dd05b135f4263a12b8a0,use new neutronclient (more),MERGED,2018-05-23 00:37:14.000000000,2018-05-23 15:22:31.000000000,2018-05-23 15:22:31.000000000,3,3,0,570084,3b503219acc2a25177c35886bbea7899efe68a7c,8,3,2,2,12021,Thomas Morin,tmorin,"use new neutronclient (more)

This is a follow-up on I7d399466f6577e4dd55b1a0fa5a92aab15e6eebb,
which missed a few places were the old method names were still
used.

Change-Id: I9dc5ddf64a968ce433f9dd05b135f4263a12b8a0
Partial-Bug: 1761691
"
openstack%2Ftripleo-ci~master~I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175,openstack/tripleo-ci,master,sprint13,I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175,Add ability to use a different release per playbook,MERGED,2018-05-07 12:42:05.000000000,2018-05-23 15:11:51.000000000,2018-05-23 15:11:51.000000000,51,7,7,566565,48e2b054e7d573eda16e5bd4c8adbe3e47f21071,63,11,15,2,12715,John Trowbridge,trown,"Add ability to use a different release per playbook

We are changing the way we are passing releases to the playbooks.
This change adds the ability to use the new release handling script. It
enables it only for 4 jobs. Two should be moved to the new way of
handling releases, two are there to test the backwards compatibility
offered by the script.
If the script is uses and produces an output, the new method will be
activated, by filling a dictionary with playbook as key and release as
value.
If there is no output from the script, the dictionary will be empty and
the default QUICKSTART_RELEASE file will be used instead.

Co-Authored-By: Gabriele Cerami <gcerami@redhat.com>
Co-Authored-By: Ronelle Landy <rlandy@redhat.com>
Change-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175
"
openstack%2Ftripleo-heat-templates~master~If7a4c6f3581bed270f478b98b8da8fe010acbbc1,openstack/tripleo-heat-templates,master,bug/1772071,If7a4c6f3581bed270f478b98b8da8fe010acbbc1,Fix known hosts config script value,MERGED,2018-05-22 19:23:19.000000000,2018-05-23 15:11:50.000000000,2018-05-23 15:11:50.000000000,1,1,0,570029,75d860500510a60226fee549f73090fc8d1550f3,10,5,1,1,14985,Alex Schultz,mwhahaha,"Fix known hosts config script value

There was an extra | that was missed. It's not tested in Master but is
in <= Queens.

Change-Id: If7a4c6f3581bed270f478b98b8da8fe010acbbc1
Closes-Bug: #1772071
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~I6219178673b842014b3d6d34e71b588a1e343c35,openstack/tripleo-upgrade,stable/queens,ceph_set_max_pg_per_osd-stable/queens,I6219178673b842014b3d6d34e71b588a1e343c35,Set mon_max_pg_per_osd to 300 during ceph upgrade,MERGED,2018-05-22 13:30:42.000000000,2018-05-23 15:11:49.000000000,2018-05-23 15:11:48.000000000,2,0,0,569981,a9fe04b907eade537184e520a1cc5ed888b5ee2a,7,3,1,1,18851,Marius Cornea,mcornea,"Set mon_max_pg_per_osd to 300 during ceph upgrade

Ceph Release 12.2.1 lowers the maximum number of PGs allowed for
each OSD. The lower limit may cause the monitor to prematurely
issue a HEALTH_WARN message. This change sets mon_max_pg_per_osd
to 300 to match the pre-upgrade value.

Change-Id: I6219178673b842014b3d6d34e71b588a1e343c35
(cherry picked from commit 6b3ff54fda2b1513c18ec2b210a9305a6e3fc1b8)
"
openstack%2Ftripleo-common~master~Ib0ac8847a47a42e7e0d73b699236df3355f58dcd,openstack/tripleo-common,master,bug/1772492,Ib0ac8847a47a42e7e0d73b699236df3355f58dcd,Update heat api healtchecks,MERGED,2018-05-21 20:01:50.000000000,2018-05-23 15:11:49.000000000,2018-05-23 15:11:49.000000000,2,2,0,569852,db47c12099414836227d13d609af3f4a5556c4df,14,7,1,2,14985,Alex Schultz,mwhahaha,"Update heat api healtchecks

The heat-api and heat-api-cfn containers need to check for 401 which is
what the api will return when it is up. There is not currently a
specific healthcheck url for heat that would return 200 so we need to
update the container healthcheck to look for the 401.

Change-Id: Ib0ac8847a47a42e7e0d73b699236df3355f58dcd
Closes-Bug: #1772492
"
openstack%2Ftripleo-quickstart-extras~master~If3a3a3b2e4a6d1cf6cd57c3b382a7a08fac0e971,openstack/tripleo-quickstart-extras,master,upgrade/cleanup,If3a3a3b2e4a6d1cf6cd57c3b382a7a08fac0e971,Support upgrade_cleanup param in undercloud.conf,MERGED,2018-05-22 00:47:12.000000000,2018-05-23 15:01:20.000000000,2018-05-23 15:01:19.000000000,9,1,0,569898,5ea5988213ba5db65523fc31abba7bd4a3e3bfcd,18,6,1,2,3153,Emilien Macchi,emilienm,"Support upgrade_cleanup param in undercloud.conf

This param is useful if we want to cleanup the undercloud after its
containerization during the upgrade process from Queens to Rocky.

Set to true, it'll removes the rpms deployed on the undercloud that are
not needed anymore since we containerized the services.

Change-Id: If3a3a3b2e4a6d1cf6cd57c3b382a7a08fac0e971
"
openstack%2Fironic~master~I0b52961423daf01148915d33a62019d18a198f9c,openstack/ironic,master,2002089/19760/glance-props,I0b52961423daf01148915d33a62019d18a198f9c,[WIP] Glance failure for non-public images,ABANDONED,2018-05-23 12:14:41.000000000,2018-05-23 14:50:37.000000000,,9,1,0,570174,e32f55b3958de094f723e8c4bb2c8e7ac37f70d5,5,3,1,1,10239,Dmitry Tantsur,dtantsur,"[WIP] Glance failure for non-public images

Change-Id: I0b52961423daf01148915d33a62019d18a198f9c
"
openstack%2Fpuppet-glance~master~I43050e5c364b7d526e6b19a3529128d17045080a,openstack/puppet-glance,master,,I43050e5c364b7d526e6b19a3529128d17045080a,Fix auth_uri introduced bug,MERGED,2018-05-21 22:18:13.000000000,2018-05-23 14:41:27.000000000,2018-05-23 14:41:27.000000000,2,1,0,569873,9d20663364f13de1482623631b20c9d3670ddeab,17,4,2,1,16137,Tobias Urdin,tobasco,"Fix auth_uri introduced bug

We should pick() the value here otherwise
we are not backward compatible even though
auth_uri is only deprecated.

Change-Id: I43050e5c364b7d526e6b19a3529128d17045080a
"
openstack%2Fopenstack-ansible-os_ceilometer~master~I92ce0433f7b66446263d700048b256b8bfa5aa64,openstack/openstack-ansible-os_ceilometer,master,add-centos-suse-voting,I92ce0433f7b66446263d700048b256b8bfa5aa64,zuul: Make openSUSE and CentOS voting jobs,MERGED,2018-05-18 07:54:12.000000000,2018-05-23 14:35:54.000000000,2018-05-23 14:35:53.000000000,4,2,0,569354,e0c8fc6bec303c400b60cd2b66fa76b7e64b4317,9,14,2,1,23163,Markos Chandras (hwoarang),mchandras,"zuul: Make openSUSE and CentOS voting jobs

Change-Id: I92ce0433f7b66446263d700048b256b8bfa5aa64
"
openstack%2Fneutron-lib~master~Id8272ecfac41670693482f11d6bcb6ad211b993f,openstack/neutron-lib,master,dhcp_ib,Id8272ecfac41670693482f11d6bcb6ad211b993f,Add DHCP_OPT_CLIENT_ID_NUM,MERGED,2018-05-10 12:51:54.000000000,2018-05-23 14:27:00.000000000,2018-05-23 14:27:00.000000000,10,0,5,567582,a948801e2ca4bf2d6fdeafa94fe65e60ec0d4f77,21,5,6,2,22948,Hamdy Khader,hamdyk,"Add DHCP_OPT_CLIENT_ID_NUM

For Infiniband support, Ironic needs to send the 'client-id' DHCP option
as a number in order for IP address assignment to work.
This is now supported in Neutron, and can be specified as option number
61 as defined in RFC 4776.

Partial-Bug: #1770932
Change-Id: Id8272ecfac41670693482f11d6bcb6ad211b993f
"
openstack%2Fswift~master~I419de59df3317d67c594fe768f5696de24148280,openstack/swift,master,567940,I419de59df3317d67c594fe768f5696de24148280,Make the decision between primary/handoff sets more obvious,MERGED,2018-05-11 20:25:26.000000000,2018-05-23 14:16:24.000000000,2018-05-23 14:16:24.000000000,2,4,0,567940,8c386fff40a1605c7304b8998adcd1a65263a672,10,2,3,1,15343,Tim Burke,tburke,"Make the decision between primary/handoff sets more obvious

Change-Id: I419de59df3317d67c594fe768f5696de24148280
"
openstack%2Fheat~master~I0ec20f17d56a83c22654f91d59d2d0e28e313269,openstack/heat,master,neutron_net_scheduler_hints,I0ec20f17d56a83c22654f91d59d2d0e28e313269,Support neutron scheduler hints,ABANDONED,2017-09-29 11:46:30.000000000,2018-05-23 14:09:02.000000000,,10,3,3,508499,5a3faee26353caa0967559cf6d2bef7a736c5017,6,5,1,1,167,Christian Berendt,berendt,"Support neutron scheduler hints

Change-Id: I0ec20f17d56a83c22654f91d59d2d0e28e313269
"
openstack%2Fdevstack~stable%2Fnewton~Ic7d0c04d7fa77774ab2d70fb9d11f182becec553,openstack/devstack,stable/newton,bug/1764046-stable/ocata-stable/newton,Ic7d0c04d7fa77774ab2d70fb9d11f182becec553,Properly get pip version,ABANDONED,2018-04-19 14:24:41.000000000,2018-05-23 14:07:12.000000000,,1,1,0,562610,9fc7d0b81c8876a236ead1789a7ff8d7f2d7c714,10,7,1,1,6873,Matt Riedemann,mriedem,"Properly get pip version

The old code was strip()ing the version string instead of split()ing the
version string so we always got the first character of the version
string. This worked fine as long as the pip version was single digit but
as soon as it rolls over to '10.stuff' we will compare:

  pip version 1 (instead of 10) > 6

Which fails bceause 1 is less than six. Instaed we really do want to
compare 10 > 6 so use split on '.' instead.

Closes-Bug: #1764046
Change-Id: Ic7d0c04d7fa77774ab2d70fb9d11f182becec553
(cherry picked from commit 065779517f9c99a80fbc39d51784c614e4ee341c)
(cherry picked from commit b376719fc0b1ce225a564c0d32091b53db408f6d)
"
openstack%2Fnova~master~I2c754a0cef55d0e0e2cbaa3ed175c35b110daf09,openstack/nova,master,cells-docs,I2c754a0cef55d0e0e2cbaa3ed175c35b110daf09,Re-arrange cells docs for modern deployments,ABANDONED,2018-01-31 20:37:57.000000000,2018-05-23 14:04:17.000000000,,444,437,3,539674,cc8ebf7bbee5de754ba591591a68d92f60487fe5,9,6,2,1,6873,Matt Riedemann,mriedem,"Re-arrange cells docs for modern deployments

The cells docs were originally written in kilo when cells v2
was a proposal but far from reality.

Cells v2 is required since ocata and cells v1 was deprecated
in pike. Existing deployments are now upgrading to ocata+
and primarily looking for information on what they need to
do for the cells v2 setup, and less about historical information.

Therefore, this change re-arranges the cells doc to make the
cells v2 setup come first in the document, and moves the cells v2
manifesto and cells v1 information to the bottom of the page as
background reading.

Change-Id: I2c754a0cef55d0e0e2cbaa3ed175c35b110daf09
"
openstack%2Fnova~master~I946face2547f2e767a688ae8742eb79356d07588,openstack/nova,master,bug/1454515,I946face2547f2e767a688ae8742eb79356d07588,Closes-Bug: #1454515,ABANDONED,2017-07-29 09:12:03.000000000,2018-05-23 14:03:51.000000000,,1,14,0,488941,b6855f4b067fb9303bac2a0fbb7dcbb75f1c73d3,29,12,2,8,18834,khushbu parakh,khushbu.parakh,"Closes-Bug: #1454515

Change-Id: I946face2547f2e767a688ae8742eb79356d07588
"
openstack%2Fmistral~master~I3eb094c24bc5309d05bf859c0b4d43487d50f1df,openstack/mistral,master,bug/1771518,I3eb094c24bc5309d05bf859c0b4d43487d50f1df,"Add ""fields"" argument to DB API methods",MERGED,2018-05-17 07:57:57.000000000,2018-05-23 13:53:36.000000000,2018-05-23 13:53:36.000000000,168,97,0,569049,eadce20f479b1f385dc2ab0f54858a40208cb408,20,6,2,3,8731,Renat Akhmerov,rakhmerov,"Add ""fields"" argument to DB API methods

* Added the ""fields"" argument to all ""get"" and ""load"" DB API
  methods where we potentially need partial loading
* Removed an unused method
* Refactored some methods taking ""namespace"" as an argument

Closes-Bug: #1771518
Change-Id: I3eb094c24bc5309d05bf859c0b4d43487d50f1df
"
openstack%2Ftripleo-heat-templates~master~I461c6d5be40f406e6fa7cfed3836a928abcdf67e,openstack/tripleo-heat-templates,master,bug/1772039,I461c6d5be40f406e6fa7cfed3836a928abcdf67e,Use RabbitMQ in scenario000 -- upgrade to oslo.messaging doesn't work yet,ABANDONED,2018-05-22 15:02:15.000000000,2018-05-23 13:49:46.000000000,,8,4,0,569995,13425202e2813315a41dacbd7f873f2b492d703d,5,3,1,1,8042,Jiří Stránský,jistr,"Use RabbitMQ in scenario000 -- upgrade to oslo.messaging doesn't work yet

This temporarily reverts to using the previous RabbitMQ service in
scenario000, so that we can test upgrades. We'll want to put this back
with a fix to upgrade_tasks that will make RabbitMQ -> oslo.messaging
upgrade work.

Change-Id: I461c6d5be40f406e6fa7cfed3836a928abcdf67e
Closes-Bug: #1772039
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c,openstack/tripleo-heat-templates,stable/queens,ceph_osd_cleanup,I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c,Remove ceph-osd from the list of packages updated by CephExternal,MERGED,2018-05-08 11:25:36.000000000,2018-05-23 13:27:38.000000000,2018-05-22 13:46:45.000000000,0,1,2,566858,f24523a0bc952ad1464a70e50a42ea257adaeacb,71,6,4,1,6796,Giulio Fidente,gfidente,"Remove ceph-osd from the list of packages updated by CephExternal

During minor updates, puppet is dealing with packages update and
trying to install 'ceph-osd' on the nodes where CephExternal service
is enabled, see [1].

This change is *not* proposed for master (currently tracking Rocky)
because support for puppet-ceph is removed in Rocky, see [2]. Instead
will be backported into Pike, Ocata and Newton.

1. https://bugzilla.redhat.com/show_bug.cgi?id=1572830
2. https://review.openstack.org/#/c/548562/

Change-Id: I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c
"
openstack%2Ftripleo-heat-templates~master~I17b94e8023873f3129a55e69efd751be0674dfcb,openstack/tripleo-heat-templates,master,bp/remove-puppet-ceph,I17b94e8023873f3129a55e69efd751be0674dfcb,Remove support for puppet-ceph,MERGED,2018-02-28 11:06:00.000000000,2018-05-23 13:23:02.000000000,2018-05-21 21:45:17.000000000,9,1250,5,548562,753a3504184d966c63121ca95bc0135afbc83a75,54,13,4,18,6796,Giulio Fidente,gfidente,"Remove support for puppet-ceph

Deployment of a managed Ceph cluster using puppet-ceph
is not supported from the Pike release. From Queens it
is not supported use of puppet-ceph when using an
external Ceph cluster either.

This change removes the old templates necessary to
support deployment of Ceph via puppet-ceph.

Implements: blueprint remove-puppet-ceph
Change-Id: I17b94e8023873f3129a55e69efd751be0674dfcb
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I83e57317e2c56260957be90c66290a41a926835a,openstack/tripleo-heat-templates,stable/queens,bug/1758343-stable/queens,I83e57317e2c56260957be90c66290a41a926835a,Honor {{role.name}}ExtraConfig with deprecated params,MERGED,2018-03-27 13:59:02.000000000,2018-05-23 13:19:24.000000000,2018-03-29 07:35:59.000000000,7,1,0,556862,f2e19a5a0a5229d1d12d4ecd3a7bb82faa4e9bf9,8,3,1,2,7144,James Slagle,slagle,"Honor {{role.name}}ExtraConfig with deprecated params

{{role.name}}ExtraConfig was previously ignored if the role used
deprecated params in roles_data.yaml. This was due to the usage of
server_resource_name in the ExtraConfig resource, where
service_resource_name also defaulted to
deprecated_service_resource_name. So, the new {{role.name}}ExtraConfig
was never actually used.

Change-Id: I83e57317e2c56260957be90c66290a41a926835a
Closes-Bug: #1758343
(cherry picked from commit fa4b3e2a3c634c8f1a18087e508d585a693aa84b)
"
openstack%2Fpython-swiftclient~master~I37d1d50fb88b35e72b017d5dfbf148c35ac7e323,openstack/python-swiftclient,master,,I37d1d50fb88b35e72b017d5dfbf148c35ac7e323,Switch from oslosphinx to openstackdocstheme,MERGED,2018-03-15 15:28:59.000000000,2018-05-23 13:12:33.000000000,2018-05-23 13:12:33.000000000,6,3,0,553433,78b839007294b7c9e7fd0402801775283a4045bc,41,14,13,1,27153,Nguyen Hai,nguyentrihai,"Switch from oslosphinx to openstackdocstheme

openstackdocstheme is a theme and extension support for
Sphinx documentation that is published to docs.openstack.org
and developer.openstack.org.

Change-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323
"
openstack%2Fpuppet-openstack-integration~master~Ia51035d644340de111e1274cbf890258f0116c83,openstack/puppet-openstack-integration,master,debian-placement-on-apache,Ia51035d644340de111e1274cbf890258f0116c83,Switch placement to apache for Debian + SSL,ABANDONED,2018-05-18 14:34:58.000000000,2018-05-23 12:52:19.000000000,,11,4,0,569432,064119a3f61f0a47756c4c3d8d23535010ea4697,3,1,1,1,6476,Thomas Goirand,thomas-goirand,"Switch placement to apache for Debian + SSL

It looks like the uwsgi setup doesn't work when activating SSL. So we're
switching to Apache mod_wsgi in such case.

Depends-On: I0fd721e4f409987b903e370a7b1fbee7e4b03022
Change-Id: Ia51035d644340de111e1274cbf890258f0116c83
"
openstack%2Fpuppet-nova~master~I0fd721e4f409987b903e370a7b1fbee7e4b03022,openstack/puppet-nova,master,debian-disable-placement-api,I0fd721e4f409987b903e370a7b1fbee7e4b03022,Deb: shutdown placement-api if using httpd,ABANDONED,2018-05-18 14:24:22.000000000,2018-05-23 12:51:46.000000000,,7,0,0,569426,e4aa267a4af380aca6cfbe366a8247c34d72bce3,4,1,2,1,6476,Thomas Goirand,thomas-goirand,"Deb: shutdown placement-api if using httpd

Looks like nova-placement-api on uwsgi doesn't work over SSL, or it would
be too hard to setup. So, let's first disable nova-placement-api if we're
using httpd. Later patch will be on p-o-i to switch to Apache.

Needed-By: Ia51035d644340de111e1274cbf890258f0116c83
Change-Id: I0fd721e4f409987b903e370a7b1fbee7e4b03022
"
openstack%2Fopenstack-ansible~master~I1b95c70fa77840d3defdde92f6723b066ef737d0,openstack/openstack-ansible,master,external-rgw,I1b95c70fa77840d3defdde92f6723b066ef737d0,Move radosgw keystone config tasks to their own playbook,MERGED,2018-05-02 11:09:19.000000000,2018-05-23 12:40:18.000000000,2018-05-23 12:40:18.000000000,156,142,0,565701,79f745ca099462a46ad697b9fec9ebf7c8cf340e,26,6,5,5,25023,Jonathan Rosser,jrosser,"Move radosgw keystone config tasks to their own playbook

This is a precursor to integrating externally provisioned radosgw
instances which require keystone config but not deployment via OSA.

Change-Id: I1b95c70fa77840d3defdde92f6723b066ef737d0
"
openstack%2Fswift~master~I751f1086d885c18d938f18e8afe1dd0e9c0c57e5,openstack/swift,master,567940,I751f1086d885c18d938f18e8afe1dd0e9c0c57e5,Use maybe_get more,MERGED,2018-05-22 22:04:45.000000000,2018-05-23 12:28:27.000000000,2018-05-23 12:28:27.000000000,2,5,0,570068,6714af804270ee33479fb0caa185a5c5eeec4479,7,3,1,2,1179,Clay Gerrard,clay-gerrard,"Use maybe_get more

Some suggestions in the review of the related change:

 * use maybe_get in another obvious place
 * make maybe_gets test assertions stronger

Related-Change-Id: Ifd54d76ab1a5a9d82848f3cae89c3e53134aa129

Change-Id: I751f1086d885c18d938f18e8afe1dd0e9c0c57e5
"
openstack%2Fironic~stable%2Fqueens~Iac0639f2884d95afd2d55b521268139ea0ca05f6,openstack/ironic,stable/queens,xclarity-secret-password-queens,Iac0639f2884d95afd2d55b521268139ea0ca05f6,Mark xclarity password as secret,MERGED,2018-05-10 16:25:15.000000000,2018-05-23 12:28:24.000000000,2018-05-23 12:28:24.000000000,6,0,0,567639,f7e23802cd82f4750848bc4c0d04cf4ec2e1cdf5,25,9,3,2,11655,Julia Kreger,jkreger,"Mark xclarity password as secret

so it is masked during logging.

Conflicts:
       ironic/conf/xclarity.py

Change-Id: Iac0639f2884d95afd2d55b521268139ea0ca05f6
Story: #2002023
Task: #19664
(cherry picked from commit 2d46f483759a77c78f317a331e34a0b768e661f8)
"
openstack%2Fcharm-percona-cluster~master~I7d82e8bea2e75da6159b5baf2e88f2bd44ce84b3,openstack/charm-percona-cluster,master,configure-pxc-strict-mode,I7d82e8bea2e75da6159b5baf2e88f2bd44ce84b3,Make pxc-strict-mode configurable via charm,MERGED,2018-04-30 17:02:00.000000000,2018-05-23 12:26:17.000000000,2018-05-23 12:26:17.000000000,11,1,2,565258,4ca460d56b025b541ad6ee41baf10852ed48aed0,22,7,2,2,11237,Mario Splivalo,mariosplivalo,"Make pxc-strict-mode configurable via charm

PXC5.7, which is default one on bionic, introduces the new config
option, pxc_stric_mode, which is set to 'enforcing' by default.

This, however, prevents installing older versions of Openstack
with PXC5.7 on bionic (use case is, of course, testing).

This change makes pxc-strict-mode configurable via the charm, and
it defaults it to 'enforcing', but user can change it at hers or
his desire.

This option is going to be ignored on PXC installed on series less
than bionic.

Change-Id: I7d82e8bea2e75da6159b5baf2e88f2bd44ce84b3
"
openstack%2Fcharm-nova-compute~master~Ib34b2d7c3da5aacd117b19249be41bb95b91dfcd,openstack/charm-nova-compute,master,bug/1734360,Ib34b2d7c3da5aacd117b19249be41bb95b91dfcd,Add action to retrieve hugepage config,MERGED,2017-08-29 18:56:32.000000000,2018-05-23 12:25:39.000000000,2018-05-23 12:25:39.000000000,124,1,6,498912,bd9e853604eed9d46dfffbb9a7563a506bcb6a10,28,7,4,5,15382,Peter Sabaini,peter-sabaini,"Add action to retrieve hugepage config

Return current hugepage usage and kernel cmdline
for static hugepage allocation

Change-Id: Ib34b2d7c3da5aacd117b19249be41bb95b91dfcd
Closes-Bug: #1734360
"
openstack%2Fopenstack-ansible-os_neutron~master~I6fa28dcdb251da4592e10b288d15a208e83b097d,openstack/openstack-ansible-os_neutron,master,octavia_variable,I6fa28dcdb251da4592e10b288d15a208e83b097d,Use octavia_service_internaluri instead of url,MERGED,2018-03-02 15:46:23.000000000,2018-05-23 12:01:51.000000000,2018-05-23 12:01:51.000000000,1,1,2,549267,b479bd757be1960091f98cba42959815555ff1e2,17,4,2,1,26405,Albert Mikaelyan,Tahvok,"Use octavia_service_internaluri instead of url

We were setting octavia v1 url in group_vars, but this url is the same
as octavia v2 internal uri. So no need to create an additional variable
for that, and instead we'll use the available uri variable.

Change-Id: I6fa28dcdb251da4592e10b288d15a208e83b097d
"
openstack%2Fswift~master~Ifd54d76ab1a5a9d82848f3cae89c3e53134aa129,openstack/swift,master,567940,Ifd54d76ab1a5a9d82848f3cae89c3e53134aa129,Add a helper context for optional connection args,MERGED,2018-05-22 21:17:40.000000000,2018-05-23 12:01:33.000000000,2018-05-23 12:01:33.000000000,29,5,5,570058,2e321d94ed59c8068595b597f8de1c8fc9a2c0a3,8,4,1,3,1179,Clay Gerrard,clay-gerrard,"Add a helper context for optional connection args

We refactor a bunch of methods to support re-using an open connection
when available.  There's some code in the connection manager to support
nesting connections to avoid deadlocks when we call a method that can
open a connection while we already have a connection checked out - but
it might be better in the long run if we just got better at passing open
connections around whenever possible.

Add a helper method on the base db broker class to make it easier to
write methods that can optionally take an existing connection.

Change-Id: Ifd54d76ab1a5a9d82848f3cae89c3e53134aa129
"
openstack%2Fmonasca-agent~master~I098a85d2231370ad599d7a9d1ef7b97d4d6ceda4,openstack/monasca-agent,master,trivial-fix,I098a85d2231370ad599d7a9d1ef7b97d4d6ceda4,fix misspelling of 'monasca',MERGED,2018-05-21 06:00:02.000000000,2018-05-23 12:00:43.000000000,2018-05-23 12:00:42.000000000,1,1,0,569705,38436b0b6d8331621e7b95258ee82a5ea062c472,8,4,1,1,17130,melissaml,malei,"fix misspelling of 'monasca'

Change-Id: I098a85d2231370ad599d7a9d1ef7b97d4d6ceda4
"
openstack%2Ftripleo-heat-templates~stable%2Fnewton~I77250ca84c9da2fb5a8381e6f60234f8a05cbf12,openstack/tripleo-heat-templates,stable/newton,bug/1687993-stable/newton,I77250ca84c9da2fb5a8381e6f60234f8a05cbf12,Modify vhost user socket directory's default value in environment file,MERGED,2018-04-16 12:30:52.000000000,2018-05-23 12:00:42.000000000,2018-05-23 12:00:41.000000000,7,1,0,561602,37f8be3d55feb9f1db7b8cdc06b325e51d20fc0a,9,4,1,2,18575,Saravanan KR,saravanankr,"Modify vhost user socket directory's default value in environment file

From ocata, the vhost socket directory requires a different set of
permissions from the default directory (/var/run/openvswitch). Modifying
the directory to a new agreed directory which will be created in puppet.
Closes-Bug: #1687993
Depends-On: I255f98c40869e7508ed01a03a96294284ecdc6a8

Change-Id: I77250ca84c9da2fb5a8381e6f60234f8a05cbf12
(cherry picked from commit 553b95da5131edffe27a8ceca9cd9766c4dca406)
"
openstack%2Fansible-role-container-registry~master~I8fe347cd34af1cf158563ce1344d00c6e2df9f66,openstack/ansible-role-container-registry,master,all-relative,I8fe347cd34af1cf158563ce1344d00c6e2df9f66,Use relative paths for data_files,MERGED,2018-05-23 01:30:54.000000000,2018-05-23 12:00:40.000000000,2018-05-23 12:00:40.000000000,8,8,1,570088,10340cbd9ee109c31c94ac87dec1747203d6fd83,7,3,1,1,4571,Steve Baker,steve-stevebaker,"Use relative paths for data_files

pip install doesn't work with absolute paths

Change-Id: I8fe347cd34af1cf158563ce1344d00c6e2df9f66
"
openstack%2Ftripleo-heat-templates~master~I2f5bc355d3c952e2daf9ec7442850e24bed275e1,openstack/tripleo-heat-templates,master,cleanup/updates,I2f5bc355d3c952e2daf9ec7442850e24bed275e1,docker: cleanup update tasks,MERGED,2018-05-15 22:58:31.000000000,2018-05-23 12:00:39.000000000,2018-05-23 12:00:38.000000000,5,23,1,568715,6d10c0516b447d2b75dbe184c4097d931e0f0e6f,37,6,8,1,3153,Emilien Macchi,emilienm,"docker: cleanup update tasks

Update tasks moved to the Ansible role itself, we don't need them in
THT. Let's do some cleanup.

Change-Id: I2f5bc355d3c952e2daf9ec7442850e24bed275e1
"
openstack%2Fdevstack~master~I8e7c8407e83a2327fb4d30a7886f6edf6b432406,openstack/devstack,master,,I8e7c8407e83a2327fb4d30a7886f6edf6b432406,Configure ml2 type drivers,ABANDONED,2018-05-22 18:30:48.000000000,2018-05-23 11:39:30.000000000,,1,0,0,570021,cd4428715daccb60ebcadde9fc7bb18552d61fec,9,6,2,1,8873,Assaf Muller,amuller,"Configure ml2 type drivers

On my local fresh devstack, devstack was not configuring
ml2 type drivers, resulting in a failed stack as Neutron
could not create tenant networks.

Change-Id: I8e7c8407e83a2327fb4d30a7886f6edf6b432406
"
openstack%2Fopenstack-ansible-tests~master~If5175f38eecc34e557d768495a3b60bfae90aefd,openstack/openstack-ansible-tests,master,,If5175f38eecc34e557d768495a3b60bfae90aefd,Add app_armor_profile setting for Bionic integration,ABANDONED,2018-05-21 11:26:20.000000000,2018-05-23 11:36:19.000000000,,4,0,0,569780,647ac175007364cd520057fc21bae7dab6bd937d,6,1,3,1,2799,Andy McCrae,andrew-mccrae,"Add app_armor_profile setting for Bionic integration

The app_armor_profile setting has changed names in lxc >= 3, which is
the default in 18.04. This is used in testing of the
lxc_container_create role, this PR adds a var that will set the
app_armor_profile_setting_name to the correct setting, so that the
testing will work for both 18.04 and other distros that are using lxc <
3.

Change-Id: If5175f38eecc34e557d768495a3b60bfae90aefd
"
openstack%2Fswift~master~I536a8425f7e9f3dd95eacad783e1b7d7905b2b8d,openstack/swift,master,567940,I536a8425f7e9f3dd95eacad783e1b7d7905b2b8d,Move handling of missing table outside of do_query,MERGED,2018-05-22 20:00:31.000000000,2018-05-23 11:06:15.000000000,2018-05-23 11:06:15.000000000,34,35,2,570036,f68dd3bf10ceae6ea4dae484e5c8ce8a6e27a678,8,4,1,1,15343,Tim Burke,tburke,"Move handling of missing table outside of do_query

This is more consistent with other DB migration code and reduces indent
level in the meat of the query.

Change-Id: I536a8425f7e9f3dd95eacad783e1b7d7905b2b8d
"
openstack%2Ftripleo-quickstart~master~Id734974a6ed19d31766c187f9ef2dc48739e312f,openstack/tripleo-quickstart,master,overcloud-prep-config,Id734974a6ed19d31766c187f9ef2dc48739e312f,Add overcloud-prep-config to the default tags,ABANDONED,2018-05-09 12:01:59.000000000,2018-05-23 10:37:08.000000000,,1,1,0,567202,5173a3c5e2dce98311191a0b82af8e546f462d72,12,6,1,1,10873,Juan Antonio Osorio Robles,ejuaoso,"Add overcloud-prep-config to the default tags

This is done in order to get the default tags to write
network-environment.yaml, which was not being written.

Change-Id: Id734974a6ed19d31766c187f9ef2dc48739e312f
"
openstack%2Ftripleo-ha-utils~master~I6293d7a065f8e531de6218f272a8b08844b3eb42,openstack/tripleo-ha-utils,master,fix_iptables_rules_apply_and_removal_in_iha,I6293d7a065f8e531de6218f272a8b08844b3eb42,Fix the way iptables rules are managed,MERGED,2018-05-22 14:48:50.000000000,2018-05-23 10:27:50.000000000,2018-05-23 10:27:50.000000000,25,5,0,569993,20bbd0f45607a4f5ba6036b2326e2d3153f1ce92,7,3,1,2,20936,Raoul Scarazzini,rasca,"Fix the way iptables rules are managed

Today we use iptables-save to store the configuration related to the
firewall (we enable INPUT traffic for pacemaker remote on all the hosts)
but this method is not reliable since Neutron put and remove rules by
itself, and by using iptables-save we also store them.
This patch treat the single rule in both apply and undo playbooks so
that we don't touch anything that neutron might touch.

Change-Id: I6293d7a065f8e531de6218f272a8b08844b3eb42
"
openstack%2Ftripleo-ha-utils~master~I9ea3746384d4db09abafb156afa056e9eb0c3502,openstack/tripleo-ha-utils,master,,I9ea3746384d4db09abafb156afa056e9eb0c3502,switch to use the upstream utils repo,MERGED,2018-05-23 07:26:38.000000000,2018-05-23 10:27:32.000000000,2018-05-23 10:27:32.000000000,4,4,0,570132,d78e5a9dbbf37d3849866c67ac56f84a275f2d64,6,2,1,1,27978,pini,pkomarov,"switch to use the upstream utils repo

Change-Id: I9ea3746384d4db09abafb156afa056e9eb0c3502
"
openstack%2Fpuppet-openstacklib~master~I1459cf5382cd3090c051b25c884399d5cf37d264,openstack/puppet-openstacklib,master,remove-virtual-package,I1459cf5382cd3090c051b25c884399d5cf37d264,Remove allow_virtual for Package in defaults,MERGED,2018-05-18 11:49:51.000000000,2018-05-23 09:50:21.000000000,2018-05-23 09:50:21.000000000,13,31,0,569396,4ef3b1e8434603e851b035b69191fcd1a04d248b,13,4,1,2,16137,Tobias Urdin,tobasco,"Remove allow_virtual for Package in defaults

We only test and support Puppet 4 and Puppet 5
now and this parameter to the Package resource
defaults to true in these versions making this
unneccesary.

Change-Id: I1459cf5382cd3090c051b25c884399d5cf37d264
"
openstack%2Fkayobe~master~I79afa2e05932e152eda46f91c20fb750234224d2,openstack/kayobe,master,,I79afa2e05932e152eda46f91c20fb750234224d2,Replace Chinese quotes with English quotes,MERGED,2018-05-23 08:49:58.000000000,2018-05-23 09:36:07.000000000,2018-05-23 09:36:07.000000000,2,2,0,570147,f231baee77681e7d01081e58c2e96c9e5c1daf68,6,2,1,1,25747,Debo Zhang,zhangdebo,"Replace Chinese quotes with English quotes

Change-Id: I79afa2e05932e152eda46f91c20fb750234224d2
"
openstack%2Fwatcher~master~I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8,openstack/watcher,master,bp/cluster-maintaining,I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8,add strategy host_maintenance,MERGED,2017-06-30 07:44:35.000000000,2018-05-23 09:18:24.000000000,2018-05-23 09:18:24.000000000,586,1,18,479200,58276ec79e856cd11d45baaa3548b9bf0db015d7,60,11,14,7,24501,sue,suzhengwei,"add strategy host_maintenance

maintain one compute node without having the user's application
been interruptted.
It will firstly migrate all instances from the maintenance node
to one backup node. If not, it will migrate all instances,
relying on nova-schduler.

Change-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8
Implements:blueprint cluster-maintaining
"
openstack%2Fmonasca-api~master~Iaa276512693e5652ace8de3539de0ecd62a69783,openstack/monasca-api,master,aliases,Iaa276512693e5652ace8de3539de0ecd62a69783,Replace the usage of some aliases in tempest,ABANDONED,2017-11-09 07:25:07.000000000,2018-05-23 08:54:40.000000000,,5,5,0,518669,518195e8b00196c35509655e5b40f68a61c3a581,7,3,1,2,26151,Wei Zheng,zhengwei6082,"Replace the usage of some aliases in tempest

In tempest, following aliases have been moved in version Pike
and will be removed in version Queens:ad
* manager > os_primary [1]
* admin_manager > os_admin [2]
* os_adm > os_admin [3]
* os > os_primary [4]
* alt_manager > os_alt [5]

[1] https://review.openstack.org/#/c/468036/
[2] https://review.openstack.org/#/c/467852/
[3] https://review.openstack.org/#/c/467605/
[4] https://review.openstack.org/#/c/466991/
[5] https://review.openstack.org/#/c/457555/

Change-Id: Iaa276512693e5652ace8de3539de0ecd62a69783
"
openstack%2Fwatcher~master~I5fcb3ec765603b3af7ebe6f7f0e9860aa07e0837,openstack/watcher,master,updata-pypi-url,I5fcb3ec765603b3af7ebe6f7f0e9860aa07e0837,Trivial:Update pypi url to new url,ABANDONED,2018-05-21 06:45:43.000000000,2018-05-23 08:45:49.000000000,,4,4,0,569724,c8bf454650eb66f851be0d4edc92426b8bace8df,6,2,2,2,26151,Wei Zheng,zhengwei6082,"Trivial:Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I5fcb3ec765603b3af7ebe6f7f0e9860aa07e0837
"
openstack%2Fwatcher-specs~master~I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c,openstack/watcher-specs,master,bp/watcher-planner-selector,I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c,Watcher Planner Selector,MERGED,2018-04-03 19:54:22.000000000,2018-05-23 08:28:46.000000000,2018-05-23 08:28:46.000000000,218,0,22,558614,bff4227aedce15a441737edd90f3c9628028fe50,39,8,8,1,27947,Egor Panfilov,erakli,"Watcher Planner Selector

This component is responsible for selecting an appropriate Planner based
on config options passed by user for distinct Strategy.

Change-Id: I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c
Implements: bp watcher-planner-selector
"
openstack%2Fkolla-ansible~master~I84b54ba737276114e512d4577ac4b9010682bb98,openstack/kolla-ansible,master,bug/1769970,I84b54ba737276114e512d4577ac4b9010682bb98,horizon: allow to configure by custom_local_settings.j2,MERGED,2018-03-08 12:08:52.000000000,2018-05-23 08:16:26.000000000,2018-05-23 08:16:26.000000000,65,0,11,550800,d516ad7da2d86ad03374f8244f6738ee65d6f6a4,48,15,8,8,24072,Marcin Juszkiewicz,hrw,"horizon: allow to configure by custom_local_settings.j2

kolla-ansible should provide a mechanism to allow operators to overwrite
the default (or not exposed through configuration) options for the
local_settings.

local_settings.j2 may be good place to configure horizon but requires
operator to sync it every release.

custom_local_settings.j2 can be used to overwrite things from
local_settings.j2 without a need of syncing it first.

This patch also adds a release note and a documentation section
under the advanced configuration page.

Partial-Bug: #1769970
Depends-On: https://review.openstack.org/#/c/567006/
Change-Id: I84b54ba737276114e512d4577ac4b9010682bb98
"
openstack%2Fpython-watcherclient~master~I6d8116b4520be5cbb4289de7caf9cc99251e1f9f,openstack/python-watcherclient,master,bug/1764654,I6d8116b4520be5cbb4289de7caf9cc99251e1f9f,Remove 'actionplan create' command,MERGED,2018-04-19 10:44:37.000000000,2018-05-23 08:16:01.000000000,2018-05-23 08:16:01.000000000,0,92,0,562541,8ef72f18c40bd1994c93546bb93c95f95a1f7711,14,6,2,3,25571,Rajat Sharma,rajat29,"Remove 'actionplan create' command

Actionplan create command can create new
audit which looks ambiguous as audit should only
be created by audit command.

Change-Id: I6d8116b4520be5cbb4289de7caf9cc99251e1f9f
Closes-bug: #1764654
"
openstack%2Fswift~master~I25bdb2020c10f4b3aede6994e9ffc3f05a054c29,openstack/swift,master,,I25bdb2020c10f4b3aede6994e9ffc3f05a054c29,Fix typo,MERGED,2018-05-23 02:34:28.000000000,2018-05-23 08:14:57.000000000,2018-05-23 08:14:57.000000000,1,1,0,570100,3d3393c17ab95e770f11786f0b21856bb3e8b255,7,3,1,1,25747,Debo Zhang,zhangdebo,"Fix typo

Change-Id: I25bdb2020c10f4b3aede6994e9ffc3f05a054c29
"
openstack%2Fpuppet-nova~stable%2Fqueens~I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d,openstack/puppet-nova,stable/queens,bug/1759098-stable/queens,I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d,Deprecate auth_uri option,ABANDONED,2018-05-22 04:23:54.000000000,2018-05-23 07:49:45.000000000,,55,22,0,569920,e1fe48d0502e4f0dced066217bd1c85d28860f36,6,4,1,10,25903,Vu Cong Tuan,tuanvu,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d
Depends-On: I4c82a63baabd6b9304b302c97cd751a0103d8316
Closes-Bug: #1759098
(cherry picked from commit 20d93c4148c3d5082315263e7754267f50cb46bd)
"
openstack%2Fwatcher~master~Ia238564c5c41aaf015d9d2f5839703a035c76fce,openstack/watcher,master,,Ia238564c5c41aaf015d9d2f5839703a035c76fce,Trivial: update url to new url,MERGED,2018-05-13 13:39:56.000000000,2018-05-23 07:46:28.000000000,2018-05-23 07:46:28.000000000,5,5,0,568084,36ad9e12daa4ba507613ace35b0babaa08a77184,10,6,1,2,27336,XiaojueGuan,XiaojueGuan,"Trivial: update url to new url

Change-Id: Ia238564c5c41aaf015d9d2f5839703a035c76fce
"
openstack%2Fcharm-ceph-osd~master~Ib7d1fdc8f91bc992ccf618ef6f57e99bb90c2dbc,openstack/charm-ceph-osd,master,bug/1770740,Ib7d1fdc8f91bc992ccf618ef6f57e99bb90c2dbc,Fix Traceback issue when ceph-osd upgrade fails,MERGED,2018-05-17 10:47:34.000000000,2018-05-23 07:45:57.000000000,2018-05-23 07:45:57.000000000,9,4,0,569085,8b2303e8636186a79b1bdbd845848cd05daea9c7,13,4,1,1,20870,Alex Kavanagh,ajkavanagh,"Fix Traceback issue when ceph-osd upgrade fails

Bug/1770740 surfaced an issue where get_upgrade_position() returns None
but the calling function expects and exception to the thrown if the
""None"" condition exists.  This just fixes the code so that the Traceback
is stopped and the appropriate error/message is logged for the
condition.

Change-Id: Ib7d1fdc8f91bc992ccf618ef6f57e99bb90c2dbc
Partial-Bug: #1770740
"
openstack%2Foctavia~master~I7f694cb21eb0e72bdf95685d9542a50cded7d457,openstack/octavia,master,,I7f694cb21eb0e72bdf95685d9542a50cded7d457,Add pecan middleware for neutron-lbaas compat,ABANDONED,2018-04-17 22:08:12.000000000,2018-05-23 07:44:44.000000000,,106,1,0,562063,16ce4f452481c98a5fa34811dbd6b2bd45b45bbe,22,3,12,8,10273,Adam Harwell,rm_you,"Add pecan middleware for neutron-lbaas compat

Change-Id: I7f694cb21eb0e72bdf95685d9542a50cded7d457
"
openstack%2Fmonasca-notification~stable%2Fqueens~I35eaa298f1153e6b71a5bfe33a894adec6b593a3,openstack/monasca-notification,stable/queens,notificationbug-stable/queens,I35eaa298f1153e6b71a5bfe33a894adec6b593a3,Make statsd self-monitoring optional,MERGED,2018-05-15 07:37:10.000000000,2018-05-23 07:36:07.000000000,2018-05-23 07:36:07.000000000,55,5,0,568486,cd4164a5ea97b1c7e2f026eb5099a7366ffbd95c,6,5,1,2,28062,Martin Chacon Piza,martinchacon,"Make statsd self-monitoring optional

Story: 2001873
Task: 14333

Change-Id: I35eaa298f1153e6b71a5bfe33a894adec6b593a3
(cherry picked from commit cdb2e4398d397a405f7729fea482e07699d23dfc)
"
openstack%2Fkuryr-kubernetes~stable%2Fqueens~Iabca253a86dc89b567a9a68b09cef015c9a482b0,openstack/kuryr-kubernetes,stable/queens,bug/1772005-stable/queens,Iabca253a86dc89b567a9a68b09cef015c9a482b0,Remove admin rights need from verify_keystone_connection,MERGED,2018-05-18 14:33:20.000000000,2018-05-23 07:35:12.000000000,2018-05-23 07:35:12.000000000,1,1,0,569431,19d63cca939268a4af7d4cac610c09cc6315a639,20,6,3,1,23567,Luis Tomas Bolivar,ltomasbo,"Remove admin rights need from verify_keystone_connection

This patch sets changes the call perform to verify keystone
connectivity from project list to region list, as the former
needs admin rights by default. In addion, usually the number of
regions is low, so it should be a non expensive call to keystone.

Closes-Bug: 1772005
Depends-On: Iaff1f569e99a88a8d8ff81aa4e0c4c7bedb94585

Change-Id: Iabca253a86dc89b567a9a68b09cef015c9a482b0
(cherry picked from commit a5926489e553be8faf8802c6ad549367bf0a24cb)
"
openstack%2Fneutron~stable%2Fqueens~I9728354d5f9e08a0dc23900b2bc22b4a0aedb737,openstack/neutron,stable/queens,dhcp_ib-stable/queens,I9728354d5f9e08a0dc23900b2bc22b4a0aedb737,Use Param DHCP_OPT_CLIENT_ID_NUM,MERGED,2018-05-19 14:43:58.000000000,2018-05-23 07:25:15.000000000,2018-05-23 07:25:15.000000000,35,2,0,569573,cf8478e340b89f0f6652a71fdfae21ca8f36f6fc,14,7,1,3,12171,Moshe Levi,moshele,"Use Param DHCP_OPT_CLIENT_ID_NUM

Ironic is sending 'client-id' as a number (61) to meet rfc4776 [1],
due to this change Neutron DHCP should support this option as well.

[1] https://github.com/openstack/ironic/commit/228a2a7885e1b04d4180fe8daa2992884decaf6d

Closes-Bug: #1770932
Change-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737
(cherry picked from commit 59bc19c14a84283adad555dce8536fd7198b82b3)
"
openstack%2Foctavia~master~Ibae8c32d70f80e62331727a37a0e3dc71137cba4,openstack/octavia,master,fix,Ibae8c32d70f80e62331727a37a0e3dc71137cba4,Add release notes link to README,MERGED,2018-05-21 09:03:20.000000000,2018-05-23 07:17:16.000000000,2018-05-23 07:17:16.000000000,3,0,0,569752,00f2bc4942836a283aef23be8b7429fd4b768af9,12,5,3,1,23317,ShangXiao,ShangXiao,"Add release notes link to README

Add release notes url doc link to README.rst.

Change-Id: Ibae8c32d70f80e62331727a37a0e3dc71137cba4
"
openstack%2Fpuppet-neutron~master~I1a1bfaa2619edde8a463cd3a6bc6412738d7f596,openstack/puppet-neutron,master,missing-geneve,I1a1bfaa2619edde8a463cd3a6bc6412738d7f596,Fixes missing 'geneve' network type,MERGED,2018-04-10 07:05:47.000000000,2018-05-23 07:11:57.000000000,2018-04-13 15:56:13.000000000,4,4,1,559929,dd7fd5586c41a8a873ba18426e277b7f36551e9b,17,3,5,3,9414,zhongshengping,ZhongShengping,"Fixes missing 'geneve' network type

The network type drivers were missing 'geneve', which will allow nodes to
attach nova instances to geneve networks.  This should be allowed by
default[1].

[1]https://github.com/openstack/puppet-neutron/blob/master/manifests/plugins/ml2/type_driver.pp#L121

Change-Id: I1a1bfaa2619edde8a463cd3a6bc6412738d7f596
Closes-Bug: #1762667
"
openstack%2Fpuppet-ec2api~master~I5214b3859e74c60cbc82571125ce38718f589545,openstack/puppet-ec2api,master,bug/1761060,I5214b3859e74c60cbc82571125ce38718f589545,Configure metadata_proxy_shared_secret as secret,MERGED,2018-04-04 05:55:56.000000000,2018-05-23 07:09:04.000000000,2018-04-13 19:14:48.000000000,5,2,0,558697,814ae8df60ee842a126c2ecced47c42b0528ad4d,20,5,3,2,9414,zhongshengping,ZhongShengping,"Configure metadata_proxy_shared_secret as secret

Parameter metadata/metadata_proxy_shared_secret should be
configured as a secret.

Change-Id: I5214b3859e74c60cbc82571125ce38718f589545
Closes-Bug: #1761060
"
openstack%2Fvitrage-specs~master~I0e466946273b8df6cc723c99683da818e04f8e07,openstack/vitrage-specs,master,bp/name,I0e466946273b8df6cc723c99683da818e04f8e07,Move datasource-scaffold to rocky/implemented,MERGED,2018-05-17 01:30:38.000000000,2018-05-23 06:20:20.000000000,2018-05-23 06:20:19.000000000,4,4,1,568995,949be77bf7be4baa860b4d0cef752f2d8a503101,11,3,2,1,21414,Yujun Zhang,yujunz,"Move datasource-scaffold to rocky/implemented

Note also blueprint name is changed from datasource skeleton
generator to datasource scaffold

Implements: blueprint datasource-scaffold
Change-Id: I0e466946273b8df6cc723c99683da818e04f8e07
"
openstack%2Fpuppet-swift~master~Ie2d60acac835affaf46a5276c9755640a723bca4,openstack/puppet-swift,master,fix-testing,Ie2d60acac835affaf46a5276c9755640a723bca4,Fix rspec-puppet-facts testing,MERGED,2018-05-16 22:14:42.000000000,2018-05-23 05:56:35.000000000,2018-05-23 05:56:35.000000000,2614,2398,0,568967,e7d670b13a687344e483f5018e4847aa25d1c5db,30,4,12,62,16137,Tobias Urdin,tobasco,"Fix rspec-puppet-facts testing

Moves all spec tests over to using rspec-puppet-facts
and runs the tests for all our supported operating systems.

Change-Id: Ie2d60acac835affaf46a5276c9755640a723bca4
"
openstack%2Fpuppet-glare~master~Id5400ac336f5a49e5c9b8748f928deb56812e075,openstack/puppet-glare,master,,Id5400ac336f5a49e5c9b8748f928deb56812e075,"Fix lint, syntax and structuring",MERGED,2018-05-21 22:00:54.000000000,2018-05-23 05:42:40.000000000,2018-05-23 05:42:40.000000000,37,45,0,569872,12305351286d10fdb58e3cf4983c0e6b5bac9499,7,3,1,1,16137,Tobias Urdin,tobasco,"Fix lint, syntax and structuring

Change-Id: Id5400ac336f5a49e5c9b8748f928deb56812e075
"
openstack%2Fopenstack-helm~master~I46d8e1aad71512b018728c1c08b1368ca62680e0,openstack/openstack-helm,master,fix_armada_gate,I46d8e1aad71512b018728c1c08b1368ca62680e0,Update armada multinode manifest with osh-infra updates,ABANDONED,2018-05-18 13:53:52.000000000,2018-05-23 05:31:27.000000000,,40,6,0,569413,0d22d05c2440a677b3d9c431b7e5545e9cd79832,15,2,9,3,17591,Steve Wilkerson,srwilkers,"Update armada multinode manifest with osh-infra updates

Updates the armada multinode manifest to include recent changes to
the osh-infra charts

Change-Id: I46d8e1aad71512b018728c1c08b1368ca62680e0
"
openstack%2Fhorizon~master~I40c709c7bb0c8538b56624dbfff1faea2eba9ee6,openstack/horizon,master,bug/1772759,I40c709c7bb0c8538b56624dbfff1faea2eba9ee6,Fix mismatched attach_volume rule,MERGED,2018-05-22 22:15:00.000000000,2018-05-23 05:06:43.000000000,2018-05-23 05:06:43.000000000,3,2,0,570071,8e3903902d3eb6d6faca4fe2f01b1a8603d37d52,8,2,2,2,12156,Jeremy Moffitt,jmoffitt,"Fix mismatched attach_volume rule

The attach_volume rule on the Compute Instances and Volume pages
does not match the rule in the nova_policy.json file, or what is
generated from an oslo policy generation on Nova. Update the rule
to match what is used in the default policy file, and what Nova
uses in its unit tests.

While looking at this, discovered that the detach_volume has a
similar problem, with no rule that matches at all. It may make sense
to have detach volume use similar permissions to attach

Change-Id: I40c709c7bb0c8538b56624dbfff1faea2eba9ee6
Closes-bug: 1772759
"
openstack%2Fpython-tripleoclient~master~Ib034765639667f49d4bfd92a2186ff5f022a938d,openstack/python-tripleoclient,master,fix/upgrades,Ib034765639667f49d4bfd92a2186ff5f022a938d,"Add -y option to ""openstack undercloud upgrade""",MERGED,2018-05-22 22:39:52.000000000,2018-05-23 04:59:03.000000000,2018-05-23 04:59:03.000000000,64,1,0,570076,9cc04d25f3f53d3ec5f355ef82cdf41a0c384fb2,11,7,1,3,3153,Emilien Macchi,emilienm,"Add -y option to ""openstack undercloud upgrade""

It was added to ""openstack tripleo upgrade"" but wasn't working for the
undercloud, so adding it and we will use it when upgrading the
undercloud without prompt.

Change-Id: Ib034765639667f49d4bfd92a2186ff5f022a938d
"
openstack%2Foctavia~master~Id4bf209c202893c93b43fe723c02d03b8c207ab5,openstack/octavia,master,provider-driver,Id4bf209c202893c93b43fe723c02d03b8c207ab5,Implement provider drivers - Pool,MERGED,2018-05-07 18:33:06.000000000,2018-05-23 03:30:22.000000000,2018-05-23 03:30:22.000000000,114,100,14,566698,0acb622262640587d9f73ca6870da6314bd77e1d,21,4,6,4,11628,Michael Johnson,johnsom,"Implement provider drivers - Pool

This patch adds provider driver support to the Octavia v2
Pool API.

This patch also creates a provider driver for Octavia, fully
implementing the pool methods.

Story: 1655768
Task: 5165

Depends-On: https://review.openstack.org/565640
Change-Id: Id4bf209c202893c93b43fe723c02d03b8c207ab5
"
openstack%2Foctavia~master~I386097197f51d94b34f9a7fd7af7b36238294faf,openstack/octavia,master,provider-driver,I386097197f51d94b34f9a7fd7af7b36238294faf,Implement provider drivers - Listener,MERGED,2018-05-04 18:32:13.000000000,2018-05-23 03:26:45.000000000,2018-05-23 03:26:45.000000000,468,259,16,566379,7a24b08434f728c10b2bec3111f9a7b23ad2d5e2,25,5,9,13,11628,Michael Johnson,johnsom,"Implement provider drivers - Listener

This patch adds provider driver support to the Octavia v2
Listener API.

This patch also creates a provider driver for Octavia, fully
implementing the listener methods.

This patch also corrects the basic cookbook example for adding SNI
certificates to a listener.

Follow on patches will implement the remain parts of the API.

Story: 1655768
Task: 5165

Depends-On: https://review.openstack.org/492311
Change-Id: I386097197f51d94b34f9a7fd7af7b36238294faf
"
openstack%2Fopenstack-ansible-os_nova~master~I6ee3da9cc4b54ba6941bc72c35d8a8b9c3f3cc14,openstack/openstack-ansible-os_nova,master,add-storage-package-opensuse,I6ee3da9cc4b54ba6941bc72c35d8a8b9c3f3cc14,SUSE: Explicitly add all the available libvirt storage drivers,MERGED,2018-05-21 09:36:42.000000000,2018-05-23 03:21:43.000000000,2018-05-23 03:21:43.000000000,7,0,0,569760,7d9e7df7b1c8f27de4bfaec9234e5ec25a9892e6,20,16,1,1,23163,Markos Chandras (hwoarang),mchandras,"SUSE: Explicitly add all the available libvirt storage drivers

We explicitly add all the available libvirt storage drivers in order to
ensure that we can support as many storage backends as possible. This
should fix problems when using a ceph backend like the following one:

'Unknown protocol 'rbd' _do_build_and_run_instance'

Change-Id: I6ee3da9cc4b54ba6941bc72c35d8a8b9c3f3cc14
"
openstack%2Foctavia~master~Ia15280827799d1800c23ed76d2af0e3596b9d2f7,openstack/octavia,master,provider-lb,Ia15280827799d1800c23ed76d2af0e3596b9d2f7,Implement provider drivers - Load Balancer,MERGED,2018-04-24 00:39:40.000000000,2018-05-23 03:14:36.000000000,2018-05-23 03:14:36.000000000,1903,196,111,563795,7b2621fe29ced20d4500a735acd4ca423ce5b210,61,10,13,30,11628,Michael Johnson,johnsom,"Implement provider drivers - Load Balancer

This patch adds provider driver support to the Octavia v2 API, starting
with the load balancer API.

This patch also creates a provider driver for Octavia, initially fully
implementing the load balancer methods.

Follow on patches will implement the remain parts of the API.

Change-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7
Story: 1655768
Task: 5165
"
openstack%2Fneutron~stable%2Focata~Icb039ae2d465e3822ab07ae4f9bc405c1362afba,openstack/neutron,stable/ocata,bug/1414559,Icb039ae2d465e3822ab07ae4f9bc405c1362afba,ml2: fix update_device_up to send lm events with linux bridge,MERGED,2018-04-13 08:41:09.000000000,2018-05-23 03:11:37.000000000,2018-05-23 03:11:37.000000000,13,10,0,561160,d9c6610cb60f2da152f567aaa1b0cdb9edef2957,16,6,2,2,10135,Lee Yarwood,lyarwood,"ml2: fix update_device_up to send lm events with linux bridge

In case of a live migration and with linux bridge the events are not
sent to Nova, because the port UUID returned by _device_to_port_id may
be a truncated UUID and the current plugin._get_port() can't find it.

Conflicts:
        neutron/tests/unit/plugins/ml2/test_rpc.py

NOTE(lyarwood): Test conflict introducing an additional mock for ml2_db,
required prior to Pike and Ia15c63f94d2c67791da3b65546e59f6929c8c685.

Related-Bug: #1414559
Change-Id: Icb039ae2d465e3822ab07ae4f9bc405c1362afba
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
(cherry picked from commit 38b3d4e16ac76d97f64f264c68ef9b88d66e0324)
(cherry picked from commit 50988f3f3665adb4dd481aff5515a81878c8e067)
"
openstack%2Fnetworking-midonet~master~I7efdaf94257594ffa2db5633bcc9cae8ad9689ce,openstack/networking-midonet,master,use-lib-pluginutils,I7efdaf94257594ffa2db5633bcc9cae8ad9689ce,use neutron-lib plugin utils,MERGED,2018-04-30 19:32:22.000000000,2018-05-23 03:04:35.000000000,2018-05-23 03:04:25.000000000,4,6,0,565286,4f2dd59fe0cafaabb3f5bc61401db2490532ef39,14,6,3,2,5367,boden,boden,"use neutron-lib plugin utils

The remainder of neutron.plugins.common.utils is now in neutron-lib.
This patch consumes it in prep for the corresponding neutron commit
https://review.openstack.org/#/c/565284

It also bumps the neutron-lib requirement up to 1.14.0

Change-Id: I7efdaf94257594ffa2db5633bcc9cae8ad9689ce
"
openstack%2Fnetworking-bagpipe~master~Ida2869ce9806e182d0489ab4a159111ac805cc4b,openstack/networking-bagpipe,master,bug/1761691,Ida2869ce9806e182d0489ab4a159111ac805cc4b,dashboard: use new neutronclient,MERGED,2018-05-23 00:47:12.000000000,2018-05-23 02:53:39.000000000,2018-05-23 02:53:38.000000000,6,6,0,570086,732db22a302854fea617748b085ce7e468ff5abe,6,2,1,1,12021,Thomas Morin,tmorin,"dashboard: use new neutronclient

This change updates the call to neutronclient to use
the BGPVPN methods natively defined in python-neutronclient,
rather than the ones defined by the dynamic extension to
neutronclient from networking-bgpvpn (which are deprecated).

Change-Id: Ida2869ce9806e182d0489ab4a159111ac805cc4b
Partial-Bug: 1761691
"
openstack%2Fdiskimage-builder~master~Ic9af57cd546a60aa9b5d9eea5c8b557bb3e80df4,openstack/diskimage-builder,master,bug/1693127,Ic9af57cd546a60aa9b5d9eea5c8b557bb3e80df4,Replace new location of isolinux.bin for Ubuntu 16.04,ABANDONED,2017-06-26 07:54:12.000000000,2018-05-23 02:33:03.000000000,,1,1,1,477437,08985e13fbf9a3d3928f089c9bf99c51c5e72ad7,26,7,5,1,22255,Tuan,Tuan,"Replace new location of isolinux.bin for Ubuntu 16.04

This patch adds a new location of isolinux.bin for creating iso. This
file is installed to /usr/lib/ISOLINUX/ in Ubuntu 16.04 or later.

Change-Id: Ic9af57cd546a60aa9b5d9eea5c8b557bb3e80df4
Closes-Bug: #1693127
"
openstack%2Fneutron-tempest-plugin~master~I45e94e2b7f28ca5792b72b9827b816439a2ac31e,openstack/neutron-tempest-plugin,master,addpep8,I45e94e2b7f28ca5792b72b9827b816439a2ac31e,"Enable hacking-extensions H204, H205",ABANDONED,2018-02-01 02:52:35.000000000,2018-05-23 02:32:37.000000000,,3,1,0,539778,176acbd38347b181d0409e72ab9bf8edee5537fb,8,2,3,1,22255,Tuan,Tuan,"Enable hacking-extensions H204, H205

This patch enable extensions:
- H204: Use assert(Not)Equal to check for equality.
- H205: Use assert(Greater|Less)(Equal) for comparison.

Change-Id: I45e94e2b7f28ca5792b72b9827b816439a2ac31e
"
openstack%2Fswift~master~Ia58e63a20df0cfe623834703230e39598958d9ee,openstack/swift,master,,Ia58e63a20df0cfe623834703230e39598958d9ee,Log deprecation warnings for account_white/blacklist,MERGED,2017-05-25 15:54:26.000000000,2018-05-23 02:15:37.000000000,2018-05-23 02:15:37.000000000,10,0,0,468077,87cc550332615234f399453d48ae639a275d5238,11,5,1,1,15343,Tim Burke,tburke,"Log deprecation warnings for account_white/blacklist

... with the hope that we can actually remove support for them in the future.

Change-Id: Ia58e63a20df0cfe623834703230e39598958d9ee
Related-Change: I532663f1d2c75d03170c5fdb9b330416822fbc88
"
openstack%2Fnetworking-onos~master~Idcf959ff9fb2cb56ef4964c8f252422b96e2bc83,openstack/networking-onos,master,allinone_sona,Idcf959ff9fb2cb56ef4964c8f252422b96e2bc83,Supports SONA all-in-one installation.,MERGED,2018-05-21 08:57:43.000000000,2018-05-23 02:12:47.000000000,2018-05-23 02:12:47.000000000,86,85,10,569747,b9d640b6687cfc18c5e8ff43461edb4e8f082787,14,3,3,3,25575,Sangho Shin,sanghoshin,"Supports SONA all-in-one installation.

Change-Id: Idcf959ff9fb2cb56ef4964c8f252422b96e2bc83
"
openstack%2Foctavia~master~I16c04b6f12fe4db9f1a2a0dc1d2b6fb54d24fd38,openstack/octavia,master,,I16c04b6f12fe4db9f1a2a0dc1d2b6fb54d24fd38,Allow fields filter on single object GETs,MERGED,2018-04-09 21:07:49.000000000,2018-05-23 01:46:54.000000000,2018-05-23 01:46:54.000000000,178,47,0,559842,84ef448a87ac7251a8087e435778f3ed761706b5,22,4,6,16,10273,Adam Harwell,rm_you,"Allow fields filter on single object GETs

The LBaaSv2-API spec had this, and tempest seems to test for it.
We missed adding it when we implemented the v2 API in Pike.

Change-Id: I16c04b6f12fe4db9f1a2a0dc1d2b6fb54d24fd38
Backport-Candidate: Queens Pike
"
openstack%2Foctavia~stable%2Fqueens~Iee308471a86c2d4ca5717bcb4dddfe61f1230380,openstack/octavia,stable/queens,auth_url-stable/queens,Iee308471a86c2d4ca5717bcb4dddfe61f1230380,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-22 03:01:25.000000000,2018-05-23 01:21:54.000000000,,1,1,0,569907,0140466cf3acd5c61106e3556dfa0783e823f2c0,5,3,1,1,25903,Vu Cong Tuan,tuanvu,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: Iee308471a86c2d4ca5717bcb4dddfe61f1230380
(cherry picked from commit bdd9c6f3e77b41c9278f319b380b8d9c451bb37b)
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~I35dfbe50d12b65a8d14f62410adea551e7584912,openstack/tripleo-upgrade,stable/queens,bug/1769107,I35dfbe50d12b65a8d14f62410adea551e7584912,Separate scripts creation tasks for under/overcloud.,MERGED,2018-05-22 12:39:18.000000000,2018-05-23 00:44:40.000000000,2018-05-23 00:44:40.000000000,66,38,0,569974,abc439355ee433db4a1e21c8da31d8f48b7b03e5,7,6,1,6,26343,Jose Luis Franco,jfrancoa,"Separate scripts creation tasks for under/overcloud.

The upgrade/update tasks in tripleo-upgrade started
with a create-scripts book, which generated most of
the scripts from the templates. However, this book
mixed the creation of scripts needed for the overcloud
as well as for the undercloud. This becomes an issue
when we want to perform only an undercloud upgrade, as
we are running tasks intended to the overcloud and it
might not even exist.
This patch divides the script creation tasks used for
the undercloud from the ones used for the overcloud.

Change-Id: I35dfbe50d12b65a8d14f62410adea551e7584912
Closes-Bug: #1769107
(cherry picked from commit 0fd5d40994cb30117444b22a9e862722c4ebc52c)
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~Ie3bd17ca9863e7687721e8c2628e485ea1849321,openstack/tripleo-heat-templates,stable/pike,bug/1772071-stable/pike,Ie3bd17ca9863e7687721e8c2628e485ea1849321,Use str_replace for known_hosts,MERGED,2018-05-22 03:04:55.000000000,2018-05-23 00:44:39.000000000,2018-05-23 00:44:39.000000000,24,17,0,569910,57789d7c9d6fac191e60a2ba57c7dd86e945dee5,14,4,2,2,14985,Alex Schultz,mwhahaha,"Use str_replace for known_hosts

There is a limit to how long input data can be for the heat script hook.
It turns out that data longer than 131072, will return an Argument list
to long error. To get around this, we need to pass this data in a
different way so that the heat script hook will work.

NOTE: Includes fix from If7a4c6f3581bed270f478b98b8da8fe010acbbc1

Change-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321
Closes-Bug: #1772071
(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)
"
openstack%2Fheat~stable%2Fqueens~I61876b599373c5794bb9edb2088b15d21f7584e2,openstack/heat,stable/queens,bug/1760932,I61876b599373c5794bb9edb2088b15d21f7584e2,Fixing Senlin incompatibility with openstacksdk 0.11.x,MERGED,2018-04-18 18:59:56.000000000,2018-05-23 00:41:12.000000000,2018-05-23 00:41:12.000000000,10,1,0,562361,55533a19f70e6b7bbd00389f22f9d9802e719388,26,9,3,2,22623,Erik Olof Gunnar Andersson,eoandersson,"Fixing Senlin incompatibility with openstacksdk 0.11.x

When running Heat with OpenstackSDK 0.11.3 (or older)
no clustering version is being passed on, causing the
call to Senlin to fail with the following error message.
> Unknown version in URI from

With this patch we always set the api version for clustering.

Change-Id: I61876b599373c5794bb9edb2088b15d21f7584e2
Closes-Bug: #1760932
Story: #1760932
Task: #18787
(cherry picked from commit d47a4540dc23fc2f2b3f84ddd6dbfb30c3fbf986)
"
openstack%2Ftripleo-heat-templates~stable%2Focata~If7a4c6f3581bed270f478b98b8da8fe010acbbc1,openstack/tripleo-heat-templates,stable/ocata,bug/1772071-stable/ocata,If7a4c6f3581bed270f478b98b8da8fe010acbbc1,Fix known hosts config script value,MERGED,2018-05-22 19:28:09.000000000,2018-05-23 00:18:17.000000000,2018-05-23 00:18:17.000000000,1,1,0,570030,57b81654f7cae989d8dcacf1e87901e041744b19,8,3,1,1,14985,Alex Schultz,mwhahaha,"Fix known hosts config script value

There was an extra | that was missed. It's not tested in Master but is
in <= Queens.

Change-Id: If7a4c6f3581bed270f478b98b8da8fe010acbbc1
Closes-Bug: #1772071
"
openstack%2Ftripleo-common~stable%2Fqueens~Ib98e06531d414f62498fd7c1130899f74a066957,openstack/tripleo-common,stable/queens,bug/1771705-stable/queens,Ib98e06531d414f62498fd7c1130899f74a066957,Fix redis healthcheck,MERGED,2018-05-21 20:12:37.000000000,2018-05-23 00:18:16.000000000,2018-05-23 00:18:16.000000000,2,2,0,569853,261ad97ceb4755979c5dbcd454da9fc0607f512a,13,6,1,1,14985,Alex Schultz,mwhahaha,"Fix redis healthcheck

nc is not installed in the containers by default, but socat is available
so lets use that instead.

Change-Id: Ib98e06531d414f62498fd7c1130899f74a066957
Closes-Bug: #1771705
(cherry picked from commit c10d3096784b3dd7a27e30337ffc8f0647744303)
"
openstack%2Ftripleo-heat-templates~stable%2Fnewton~Ie3bd17ca9863e7687721e8c2628e485ea1849321,openstack/tripleo-heat-templates,stable/newton,bug/1772071-stable/newton,Ie3bd17ca9863e7687721e8c2628e485ea1849321,Use str_replace for known_hosts,MERGED,2018-05-22 03:05:28.000000000,2018-05-23 00:00:49.000000000,2018-05-23 00:00:49.000000000,23,16,0,569912,c77278093e789515204c5dba374493b61b104ce6,16,3,2,2,14985,Alex Schultz,mwhahaha,"Use str_replace for known_hosts

There is a limit to how long input data can be for the heat script hook.
It turns out that data longer than 131072, will return an Argument list
to long error. To get around this, we need to pass this data in a
different way so that the heat script hook will work.

NOTE: Includes fix from If7a4c6f3581bed270f478b98b8da8fe010acbbc1

Change-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321
Closes-Bug: #1772071
(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)
"
openstack%2Ftripleo-ci~master~I212a0a66f1c36187cbb64a5b8a8d851443a91b73,openstack/tripleo-ci,master,sprint13,I212a0a66f1c36187cbb64a5b8a8d851443a91b73,Fix relase file name for mixed upgrades,MERGED,2018-05-22 10:31:20.000000000,2018-05-22 23:36:12.000000000,2018-05-22 23:36:12.000000000,5,5,0,569954,93f091b1acf55ca5bc3d74af8826ec9c327cb5af,12,7,2,2,27898,Quique Llorente,quiquell,"Fix relase file name for mixed upgrades

It has to be foo-undercloud-bar-overcloud, it was undercloud-foo-overcloud-bar

Change-Id: I212a0a66f1c36187cbb64a5b8a8d851443a91b73
"
openstack%2Ftripleo-ci~master~I41087bf0c247b933a641ea0da582b5f2b368840e,openstack/tripleo-ci,master,sprint13,I41087bf0c247b933a641ea0da582b5f2b368840e,Wire in get_dlrn_hash,MERGED,2018-05-17 13:42:31.000000000,2018-05-22 23:36:12.000000000,2018-05-22 23:36:11.000000000,227,32,6,569115,6f06040bad31844ecd18eb99c629b7efaa96218a,18,7,4,3,12715,John Trowbridge,trown,"Wire in get_dlrn_hash

This wires in the get_dlrn_hash function to the release dictionary,
so that we end up with an actual dlrn hash instead of a named hash.

Release dictionary tests updated to mock this function, including
verification of the expected calls to get_dlrn_hash.

This also adds more comprehensive logging and unittests to the
get_dlrn_hash function.

Change-Id: I41087bf0c247b933a641ea0da582b5f2b368840e
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,openstack/tripleo-heat-templates,stable/queens,osp/crudini,I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,Don't use crudini to get rhn server,MERGED,2018-05-17 17:18:29.000000000,2018-05-22 23:36:10.000000000,2018-05-22 23:36:10.000000000,2,1,0,569177,ef2f18b97bb465ae88464acf45399cc0e20ec68e,23,6,2,1,3153,Emilien Macchi,emilienm,"Don't use crudini to get rhn server

crudini is not installed by default on Red Hat derivitive OS's, so we
shouldn't rely on it. We probably can't just install it since this
script is the rhel-registration script, so there are likely no repos
enabled when we need it.

Instead just use grep/cut/sed to get the value we need.

Change-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8
Closes-Bug: #1771830
(cherry picked from commit b4ff453f87610988b7f76688bdba7e006ec91d20)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~If596531cbb1e750ed67e66391743f4c1833e4337,openstack/tripleo-heat-templates,stable/queens,bug/1768586,If596531cbb1e750ed67e66391743f4c1833e4337,Set normal CephAnsiblePlaybook on update/upgrade/ffwd converge,MERGED,2018-05-09 15:57:31.000000000,2018-05-22 23:36:09.000000000,2018-05-22 23:36:09.000000000,4,5,0,567275,8c4a9a8109a005e91f32858b172d853bf6525fce,83,7,2,4,8042,Jiří Stránský,jistr,"Set normal CephAnsiblePlaybook on update/upgrade/ffwd converge

As we discovered bug #1768586 we'll need to make sure that every
parameter tweak in plan is followed by a stack update.

So far the Ceph upgrade command did set param -> stack update -> unset
param (only in plan). However this means the last CephAnsiblePlaybook
setting (back to normal deploy playbook) was discarded.

Let's reuse normal converge commands to converge CephAnsiblePlaybook
too, and we can remove the (now unused) ceph-upgrade-converge.yaml. We
won't do more stack updates than necessary, and at the same time the
user workflow stays somewhat consistent between envs that do and don't
have Ceph.

An alternative would be to run the as part of the Ceph command, but
that either means we'd have to run one more stack update then
necessary, or skip the last converge in envs with Ceph, and
essentially diverge further from the non-Ceph workflow.

Change-Id: If596531cbb1e750ed67e66391743f4c1833e4337
Depends-On: I025eac40f8bda5f23c789e7fef1a9e9b49947f66
Partial-Bug: #1768586
(cherry picked from commit 4742f2ed5a28e5371e52ad0ffa6ed4f280d992bd)
"
openstack%2Fswift~master~I01a4241499f9680fd1709d9d685eaf2db0fb21c1,openstack/swift,master,,I01a4241499f9680fd1709d9d685eaf2db0fb21c1,WIP: Get rid of _transform_record in ContainerBroker,NEW,2018-05-22 22:03:14.000000000,2018-05-22 23:24:14.000000000,,18,34,0,570063,559ae1fd585371cb50bfe476b8f56c9bbe46c2ca,2,1,1,2,15343,Tim Burke,tburke,"WIP: Get rid of _transform_record in ContainerBroker

Push timestamp knowledge out to container-server's update_data_record
instead.

Unit tests are still pretty busted -- are we cool with changing the
contract of list_objects_iter like this, though? How about how the
container-server now needs to know more about object timestamps?

Change-Id: I01a4241499f9680fd1709d9d685eaf2db0fb21c1
"
openstack%2Fswift~master~I25cab53b9aa2252c98ebcf70aafb9d39887a11f1,openstack/swift,master,p-misplaced-empty-list,I25cab53b9aa2252c98ebcf70aafb9d39887a11f1,Improve building listings from shards,MERGED,2018-05-21 13:23:55.000000000,2018-05-22 23:22:04.000000000,2018-05-22 23:22:04.000000000,108,29,2,569796,ff832955fc8e0ac746a05c78c0140336707699c7,12,5,2,2,7847,Alistair Coles,acoles,"Improve building listings from shards

When building a listing from shard containers, objects fetched from
each shard range are appended to the existing listing provided their
name is greater than the last entry in the current listing and less
than or equal to the fetched shard range. This allows misplaced
objects below the shard range to possibly be included in the listing
in correct name order. Previously that behaviour only occurred if the
existing listing had entries, but now it occurs even if no objects
have yet been found.

Change-Id: I25cab53b9aa2252c98ebcf70aafb9d39887a11f1
"
openstack%2Fmanila-specs~master~I8c7b49fe2314926d957b51db7c3cf28010eda3e4,openstack/manila-specs,master,,I8c7b49fe2314926d957b51db7c3cf28010eda3e4,Remove out of date priorities section,MERGED,2018-05-22 22:24:57.000000000,2018-05-22 23:19:24.000000000,2018-05-22 23:19:24.000000000,0,79,0,570072,f90220ea182ff503210354345106648bf74ee610,7,3,1,2,9003,Tom Barron,tbarron,"Remove out of date priorities section

Change-Id: I8c7b49fe2314926d957b51db7c3cf28010eda3e4
"
openstack%2Ftripleo-common~stable%2Fqueens~Ifdfc1b84b7b6a306868260611271fd49bdd594d4,openstack/tripleo-common,stable/queens,bug/1770355-stable/queens,Ifdfc1b84b7b6a306868260611271fd49bdd594d4,Add yum update to base,MERGED,2018-05-14 11:59:20.000000000,2018-05-22 23:09:42.000000000,2018-05-22 23:09:42.000000000,5,0,0,568270,5bb2fe60e325eabc604a0d8596ec137b36997ba2,38,7,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add yum update to base

In order to handle out of date distro containers, let's add a yum update
to the kolla base container to ensure that at the end of the base
container build we'll have the latest base packages installed. This will
ensure we don't hit out of date dependency bits in later containers. For
example, we currently only have 7.4 base centos image available from the
upstream but we're install the base repos in the base build. This would
mean that we'd be getting 7.5 packages in later containers but might
possibly have a mix of 7.4 and 7.5 packages installed.

Change-Id: Ifdfc1b84b7b6a306868260611271fd49bdd594d4
Related-Bug: #1770355
(cherry picked from commit 3f12a00533e32d894ad18627e6be1163c0dd5ad8)
"
openstack%2Fswift~master~I305736ee4391674b16e85e1c958e7f14ccb7bcc0,openstack/swift,master,567940,I305736ee4391674b16e85e1c958e7f14ccb7bcc0,Clean up logging interpolation,MERGED,2018-05-22 19:54:25.000000000,2018-05-22 22:50:33.000000000,2018-05-22 22:50:33.000000000,3,3,1,570034,8486397a70e47d1a2a55029a3986534d63cad95d,6,2,1,1,15343,Tim Burke,tburke,"Clean up logging interpolation

Change-Id: I305736ee4391674b16e85e1c958e7f14ccb7bcc0
"
openstack%2Fpython-swiftclient~master~I2a8f465c8b08370517cbec857933b08fca94ca38,openstack/python-swiftclient,master,requirements-stop-syncing,I2a8f465c8b08370517cbec857933b08fca94ca38,add lower-constraints job,MERGED,2018-03-25 13:06:41.000000000,2018-05-22 22:30:40.000000000,2018-05-22 22:30:40.000000000,84,14,2,556192,b5ed14f90a8214700a9be2139d9e7aba82baaa99,59,16,18,7,2472,Doug Hellmann,doug-hellmann,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

Update the dependencies needed to make the unit tests pass while
constrained to the lower bounds.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Co-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>
Change-Id: I2a8f465c8b08370517cbec857933b08fca94ca38
Depends-On: https://review.openstack.org/555034
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Ftripleo-quickstart-extras~master~I98f9bf2d95a1a36eb0ead71b593baeb9eefa14ae,openstack/tripleo-quickstart-extras,master,bug/1753209,I98f9bf2d95a1a36eb0ead71b593baeb9eefa14ae,"Revert ""two new tempest failures on master""",ABANDONED,2018-03-15 17:21:38.000000000,2018-05-22 22:19:34.000000000,,0,6,0,553501,609ee40044f5887aa2bf8dd6d6eb30d1b0c8b90c,33,6,4,1,9656,Ihar Hrachyshka,ihrachys,"Revert ""two new tempest failures on master""

This reverts commit 4a3e4bc6e942f7cd37c413db98f9ef7aa65cc300.

Closes-Bug: #1753209
Closes-Bug: #1753211
Change-Id: I98f9bf2d95a1a36eb0ead71b593baeb9eefa14ae
Depends-On: I199f639c95e8ae884ede46404370d7b64da3b309
"
openstack%2Frequirements~master~Ifea22f6b60363b59e675659f420e580f986df182,openstack/requirements,master,openstack/requirements/constraints,Ifea22f6b60363b59e675659f420e580f986df182,Updated from generate-constraints,MERGED,2018-05-19 06:21:32.000000000,2018-05-22 22:00:32.000000000,2018-05-22 22:00:32.000000000,7,8,0,569559,a56dd3a1eea8016fb01cf19aeaf71ccc062b5797,24,5,6,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ifea22f6b60363b59e675659f420e580f986df182
"
openstack%2Fopenstack-ansible-os_octavia~master~I891b94a8fb452e9fb5166e7c322d152060efdcce,openstack/openstack-ansible-os_octavia,master,cleanup-octavia,I891b94a8fb452e9fb5166e7c322d152060efdcce,Remove unneded url v2 variables,MERGED,2018-05-18 11:39:57.000000000,2018-05-22 21:59:04.000000000,2018-05-22 21:59:04.000000000,6,9,0,569393,e75abe946e488606f9daf2c91824a6eac136bd78,7,3,1,3,26405,Albert Mikaelyan,Tahvok,"Remove unneded url v2 variables

We are setting an unnecessary url_v2 variables which translates to uri
variables. This change removes url_v2 variables and just uses uri
variables directly instead.

Change-Id: I891b94a8fb452e9fb5166e7c322d152060efdcce
"
openstack%2Fswift~master~I0da86c55ad263050d176295b1f11b4ef9fe29716,openstack/swift,master,unixsockets,I0da86c55ad263050d176295b1f11b4ef9fe29716,Support binding to Unix domain sockets.,ABANDONED,2016-06-01 23:33:51.000000000,2018-05-22 21:34:22.000000000,,51,0,0,324136,1560b544298ba29bc81a45371f7fc843c5a43da2,6,3,1,2,2622,Samuel Merritt,torgomatic,"Support binding to Unix domain sockets.

This is mostly useful for proxy nodes that terminate SSL with stud, or
nginx, or some other SSL terminator on the same machine as the proxy
server. Now the unwrapped traffic can go to the proxy via Unix domain
socket instead of TCP over loopback. It's functionally the same, but
Unix domain sockets use fewer CPU cycles to move the same bytes.

Change-Id: I0da86c55ad263050d176295b1f11b4ef9fe29716
"
openstack%2Fswift~feature%2Fdeep~I9564ae515540e45d829cdaf0c09b0c55c79f3f5f,openstack/swift,feature/deep,,I9564ae515540e45d829cdaf0c09b0c55c79f3f5f,Call _periodic_report_stats more often,ABANDONED,2018-04-24 01:05:54.000000000,2018-05-22 21:25:29.000000000,,2,0,0,563800,79e96799faac94c85c04ff0e924cf9b4596720d6,6,3,1,1,15343,Tim Burke,tburke,"Call _periodic_report_stats more often

With a really large DB on spinning disks that have a lot of IO
contention (because they're trying desperately to dig out from under a
giant pile of async updates), cleaving a single half-million-row shard
range can take 4+ hours. During this time, an operator may notice the
lack of any progress emitted in logs, think the process is hung, and
kill it.

We already have a time check to keep us from reporting stats too
frequently, so the only reason not to call _periodic_report_stats all
the time is to reduce function call and time.time() overhead. It seems
like calling after each CONTAINER_LISTING_LIMIT-sized batch will strike
a good balance between not often enough and too often -- given the
timing I was seeing, that's about once every 5 minutes.

Change-Id: I9564ae515540e45d829cdaf0c09b0c55c79f3f5f
"
openstack%2Fkolla-ansible~master~Ic457a0ca55b188782325dcfe9bab9861ee42415e,openstack/kolla-ansible,master,feature/sensu,Ic457a0ca55b188782325dcfe9bab9861ee42415e,Add sensu rabbit port,ABANDONED,2018-05-22 21:09:17.000000000,2018-05-22 21:09:46.000000000,,1,0,0,570057,716c58361f20f6c55b134fee7cc4bc462e0d1470,3,1,1,1,1297,Joshua Harlow,harlowja,"Add sensu rabbit port

Change-Id: Ic457a0ca55b188782325dcfe9bab9861ee42415e
"
openstack%2Foctavia~master~I6197e72ad9582db32c7c9ca7b6715a2a2abc68b4,openstack/octavia,master,,I6197e72ad9582db32c7c9ca7b6715a2a2abc68b4,Fix amphora failover API to work with spares,MERGED,2018-04-25 01:31:47.000000000,2018-05-22 20:31:36.000000000,2018-05-22 20:31:36.000000000,77,6,5,564082,4e3810c1ba9d4b8ca52d5b48c1907aba9ddb04d1,26,4,8,3,10273,Adam Harwell,rm_you,"Fix amphora failover API to work with spares

Spares have no load_balancer yet, and the controller was blindly using
the load_balancer association for auth and status updates. Whoops.

Also properly log when the amp disappears between the API request and
the controller-worker failover attempt.

Change-Id: I6197e72ad9582db32c7c9ca7b6715a2a2abc68b4
"
openstack%2Fswift~master~I73c36e061a8817961869496591cbe7ba714ce9d5,openstack/swift,master,,I73c36e061a8817961869496591cbe7ba714ce9d5,Bump up timeout for swift-probetests-centos-7,MERGED,2018-05-22 16:58:06.000000000,2018-05-22 20:09:34.000000000,2018-05-22 20:09:34.000000000,1,0,0,570011,f237c5844c09a65a97e0f6a1b7b9df221bc8e7ca,9,5,1,1,15343,Tim Burke,tburke,"Bump up timeout for swift-probetests-centos-7

Since sharding landed, probe test times have climbed from ~15mins to
~25mins, with at least one run having timed out after 30mins.

This is the result of us adding 14 new probe tests, all of which are
fairly long-running since they need to upload enough objects to allow
sharding. That's great, but let's bump up the timeout to an hour.

Change-Id: I73c36e061a8817961869496591cbe7ba714ce9d5
"
openstack%2Ftempest~master~I0c9193501eb9eaa25eb5f0786bb72eb7855099fb,openstack/tempest,master,volume-default-testing-v3,I0c9193501eb9eaa25eb5f0786bb72eb7855099fb,Volume Service Testing: default to v3 endpoints,MERGED,2017-12-14 07:53:37.000000000,2018-05-22 20:03:10.000000000,2018-05-22 20:03:10.000000000,23,38,9,527889,89c213fb355f0ec672ae8002c516cf11f568960b,64,12,7,20,8556,Ghanshyam,ghanshyam,"Volume Service Testing: default to v3 endpoints

Volume service has 2 versions of APIs, v2 and v3. v3 base
version 'v3.0' is supposed to be identical to v2 APIs.

Current supported API is v3 and all future development
will be on v3 with microversion.

Base API       v3.0 == v2
API versioning  v3.0 + microversion (v3.1, v3.2 etc)

In current situation, Tempest tests v2 API mainly and
v3 microversion specific change. As Cinder already made v3 as
current supported APIs which are supposed to be identical to v2,
it's is good to test v3 API as default with ability to configure
to test v2 APIs also.

Tempest should have flexibility to run existing test against any
of the API version. All existing tests which used to run on v2 APIs
should pass on v3.0 without any change.

Idea to achieve that is:
 -  Use config option ``[volume].catalog_type`` to switch the target API
    version for testing. For example-
    If it is configured to v3 endpoints, all tests will run against v3 APIs. like
    'volumev3' in case of devstack [1].
    If it is configured to v2 endpoints, all tests will run against v2 APIs. like
    'volumev2' in case of devstack.

Changes required:
Tempest: this commit
 1. Change the default value of the config option ``[volume].catalog_type`` to ``volumev3``
    so that all gate job test v3 as default.
 2. Make all volume service clients version less.

Devstack: I531f3b32e81ac5d282461597ca286c09429cb143
 3. Make Devstack to configure the ``[volume].catalog_type`` on tempest for v2 job.
 4. If Tempest if configured to tests v2 APIs, configure tempest to skip microversion tests
    as no microversion supported in v2 APIs.

v2 API Job: TODO
 5. Add new job for v2 APIs testing and set ``[volume].catalog_type`` to ``volumev2``
    to run all tests against v2 APIs.

This way we will have:
 - default gate testing of v3 APIs.
 - separate job testing v2 APIs till it is required.

..1 https://github.com/openstack-dev/devstack/blob/924b1149c8138bf1401aaef709e00f680509c33f/lib/cinder#L361

NOTE: Next patch will make all service clients under v3 dir
      and keep v2 service clients available for backward
      compatibility.

Change-Id: I0c9193501eb9eaa25eb5f0786bb72eb7855099fb
"
openstack%2Fnova~master~I81fa2588d85c803415aadf6150ed6cdd7a0fe6d1,openstack/nova,master,cleanup,I81fa2588d85c803415aadf6150ed6cdd7a0fe6d1,Remove the remaining of the removed option,MERGED,2018-05-18 16:28:44.000000000,2018-05-22 20:03:06.000000000,2018-05-22 20:03:06.000000000,3,11,2,569462,89b3286ebc840a595abba8475829f352122735bc,54,19,2,2,6167,Ken'ichi Ohmichi,oomichi,"Remove the remaining of the removed option

Since I8ae8507a089df4d0a32be5fbc615e2166f44516e the config option
multi_instance_display_name_template has been removed.
So this patch removes the remaining of the option.

Change-Id: I81fa2588d85c803415aadf6150ed6cdd7a0fe6d1
"
openstack%2Fneutron~stable%2Fqueens~I2fe6ff3498d2450700634eb90c8cf1b2e219849c,openstack/neutron,stable/queens,,I2fe6ff3498d2450700634eb90c8cf1b2e219849c,Fix wrong release names in docs,MERGED,2018-05-20 08:17:16.000000000,2018-05-22 19:55:00.000000000,2018-05-22 19:55:00.000000000,3,3,0,569634,1e40430466915b47681a2b0654f5af6966e8c906,9,5,1,3,15492,Robin Naundorf,senk,"Fix wrong release names in docs

  * Replaced occurences of Pike with Queens in install docs.

TrivialFix

Change-Id: I2fe6ff3498d2450700634eb90c8cf1b2e219849c
"
openstack%2Fswift~master~I8dcd0eac1396b251a2c2a31e167598bc1e48c463,openstack/swift,master,bug/1763557,I8dcd0eac1396b251a2c2a31e167598bc1e48c463,Test rsync error log truncation,MERGED,2018-05-22 11:59:58.000000000,2018-05-22 19:54:58.000000000,2018-05-22 19:54:58.000000000,5,0,0,569968,82314bd1201919e5db5e023046242230eec36cc6,6,2,1,1,7847,Alistair Coles,acoles,"Test rsync error log truncation

Verify the log line truncation method is actually called.

Related-Change: If063a12cac74b67078b6db1c4f489160a2a69de1
Change-Id: I8dcd0eac1396b251a2c2a31e167598bc1e48c463
"
openstack%2Fswift~master~I9f51621e8414e446e4d3f3b5027f6c40e01192c3,openstack/swift,master,,I9f51621e8414e446e4d3f3b5027f6c40e01192c3,Avoid premature shrinking in sharder probe test,MERGED,2018-05-22 12:35:48.000000000,2018-05-22 19:54:57.000000000,2018-05-22 19:54:57.000000000,29,21,0,569973,37ee89e47a7423f5a4ba74d419753a6f20f09cbf,7,3,1,1,7847,Alistair Coles,acoles,"Avoid premature shrinking in sharder probe test

Previously test_misplaced_object_movement() deleted objects from both
shards and then relied on override-partitions option to selectively
run the sharder on root or shard containers and thereby control when
each shard range was identified for shrinking. This approach is flawed
when the second shard container lands in the same partition as the
root: running the sharder on the empty second shard's partition would
also cause the sharder to process the root and identify the second
shard for shrinking, resulting in premature shrinking of the second
shard.

Now, objects are only deleted from each shard range as that shard is
wanted to shrink.

Change-Id: I9f51621e8414e446e4d3f3b5027f6c40e01192c3
Drive-by: use the run_sharders() helper more often.
"
openstack%2Fneutron~stable%2Fpike~I9728354d5f9e08a0dc23900b2bc22b4a0aedb737,openstack/neutron,stable/pike,dhcp_ib-stable/queens-stable/pike,I9728354d5f9e08a0dc23900b2bc22b4a0aedb737,Use Param DHCP_OPT_CLIENT_ID_NUM,MERGED,2018-05-19 14:44:17.000000000,2018-05-22 19:31:53.000000000,2018-05-22 19:31:53.000000000,35,2,0,569575,e8c4eb00c2eba8b4f33624ee4ce71d41738573c5,8,5,1,3,12171,Moshe Levi,moshele,"Use Param DHCP_OPT_CLIENT_ID_NUM

Ironic is sending 'client-id' as a number (61) to meet rfc4776 [1],
due to this change Neutron DHCP should support this option as well.

[1] https://github.com/openstack/ironic/commit/228a2a7885e1b04d4180fe8daa2992884decaf6d

Closes-Bug: #1770932
Change-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737
(cherry picked from commit 59bc19c14a84283adad555dce8536fd7198b82b3)
"
openstack%2Fswift~master~I28ad07091f7fd20c48b245e5bd21bb7eb4ae55cf,openstack/swift,master,569840,I28ad07091f7fd20c48b245e5bd21bb7eb4ae55cf,Simplify ContainerBroker._get_shard_range_rows(),MERGED,2018-05-22 11:21:48.000000000,2018-05-22 19:31:51.000000000,2018-05-22 19:31:51.000000000,7,11,1,569962,0ee2a1df704da3b2aec9a7ad0e8746bb306bdf3e,6,2,1,1,7847,Alistair Coles,acoles,"Simplify ContainerBroker._get_shard_range_rows()

Change-Id: I28ad07091f7fd20c48b245e5bd21bb7eb4ae55cf
Related-Change: I2f7d1bc698ff4c0734ab48eb29e252d6acb1abc6
"
openstack%2Ftripleo-heat-templates~master~Ie3bd17ca9863e7687721e8c2628e485ea1849321,openstack/tripleo-heat-templates,master,bug/1772071,Ie3bd17ca9863e7687721e8c2628e485ea1849321,Use str_replace for known_hosts,MERGED,2018-05-19 03:09:34.000000000,2018-05-22 19:23:35.000000000,2018-05-22 02:35:32.000000000,23,16,7,569550,7c973203345dbcf5ef94a5bcad2b089f5298c9b0,40,8,8,2,14985,Alex Schultz,mwhahaha,"Use str_replace for known_hosts

There is a limit to how long input data can be for the heat script hook.
It turns out that data longer than 131072, will return an Argument list
to long error. To get around this, we need to pass this data in a
different way so that the heat script hook will work.

Change-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321
Closes-Bug: #1772071
"
openstack%2Ftripleo-quickstart~master~I96ae01c8bbb2ff58f44bae76b4b090bf8e8f8833,openstack/tripleo-quickstart,master,jobs,I96ae01c8bbb2ff58f44bae76b4b090bf8e8f8833,Add multinode jobs for various branches in CI,MERGED,2018-05-22 07:49:56.000000000,2018-05-22 19:14:51.000000000,2018-05-22 19:14:51.000000000,1,0,2,569932,60b3aeac2fe088b4fe3ee4dfb3fa9075cddec2dc,14,8,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add multinode jobs for various branches in CI

As tripleo-quickstart is branchless repo sometimes there is need
to test code with specific branch or not to break a specific
branch deployment.
Run multinode containers job for release -2 and -1 from master.

Depends-On: I31ead90f16473647a1ed60af625f7399699ad112
Change-Id: I96ae01c8bbb2ff58f44bae76b4b090bf8e8f8833
"
openstack%2Ftripleo-quickstart-extras~master~Id72870f4d9855749e5d1e048c918fe16f6ab2a35,openstack/tripleo-quickstart-extras,master,jobs,Id72870f4d9855749e5d1e048c918fe16f6ab2a35,Add multinode jobs for various branches in CI,MERGED,2018-05-22 07:40:44.000000000,2018-05-22 19:14:50.000000000,2018-05-22 19:14:49.000000000,1,0,0,569930,31925c72bd7266e38688d55c1c30484313d8a6a1,16,7,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add multinode jobs for various branches in CI

As tripleo-quickstart-extras is branchless repo sometimes there is
need to test code with specific branch or not to break a specific
branch deployment.
Run multinode containers job for release -2 and -1 from master.

Change-Id: Id72870f4d9855749e5d1e048c918fe16f6ab2a35
Depends-On: I31ead90f16473647a1ed60af625f7399699ad112
"
openstack%2Ftripleo-upgrade~master~Ic8388631ae05c4ff0ed03676734f1376e0e0143f,openstack/tripleo-upgrade,master,bug/1769107,Ic8388631ae05c4ff0ed03676734f1376e0e0143f,Move SSL undercloud validation out of UC script create tasks.,MERGED,2018-05-09 10:59:39.000000000,2018-05-22 19:08:03.000000000,2018-05-22 19:08:03.000000000,8,7,0,567190,9a68678e1c52c85bad0dd80fcd46b4e4c8b432ff,22,8,5,2,26343,Jose Luis Franco,jfrancoa,"Move SSL undercloud validation out of UC script create tasks.

The set of tasks included in the undercloud_ssl_camap.yml
playbook are needed for the overcloud to be able
to access the undercloud API.
This patch moves the task out of the undercloud create
script tasks to run them in the overcloud create tasks.

Change-Id: Ic8388631ae05c4ff0ed03676734f1376e0e0143f
"
openstack%2Ftripleo-ci~master~I31ead90f16473647a1ed60af625f7399699ad112,openstack/tripleo-ci,master,,I31ead90f16473647a1ed60af625f7399699ad112,Add multinode jobs for various branches in CI,MERGED,2018-05-21 20:15:28.000000000,2018-05-22 19:08:02.000000000,2018-05-22 19:08:02.000000000,32,0,0,569854,c78600be1dfe102b61842d8b4d24017f8906452d,24,7,4,2,10969,Shnaidman Sagi (Sergey),sergsh,"Add multinode jobs for various branches in CI

As tripleo-ci is branchless repo sometimes there is need to test
code with specific branch or not to break a specific branch
deployment. Run multinode containers job for release -2 and -1
from master.

Change-Id: I31ead90f16473647a1ed60af625f7399699ad112
"
openstack%2Fpython-tripleoclient~master~If88360d9097d9af0c3b6054217ad302e7f781735,openstack/python-tripleoclient,master,bug/1765358,If88360d9097d9af0c3b6054217ad302e7f781735,Persist generated undercloud parameters t-h-t,MERGED,2018-05-02 13:45:45.000000000,2018-05-22 19:05:30.000000000,2018-05-22 19:05:30.000000000,37,12,1,565764,b6404d4f5962bc29aaac4b4f5070de08020fc844,52,9,11,4,6926,Bogdan Dobrelya,bogdando,"Persist generated undercloud parameters t-h-t

Complements Ibe4e1d8f683a02d55fee86bbf0f057f41f93b72e.
Add the file to output_dir/<tht working dir>
to be processed alongside the other t-h-t files and
added into a tarball.

Related-bug: #1749683
Related-bug: #1765358
Change-Id: If88360d9097d9af0c3b6054217ad302e7f781735
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fmetalsmith~master~I2676ee281bfebb12abbb5702bcc6639526fe3189,openstack/metalsmith,master,instance,I2676ee281bfebb12abbb5702bcc6639526fe3189,Return Instance object from provisioning API,MERGED,2018-05-22 11:58:45.000000000,2018-05-22 18:55:32.000000000,2018-05-22 18:55:32.000000000,164,6,0,569967,804f0a7a3a758a56d5627ec758b059694b77708a,8,2,2,6,10239,Dmitry Tantsur,dtantsur,"Return Instance object from provisioning API

Change-Id: I2676ee281bfebb12abbb5702bcc6639526fe3189
"
openstack%2Fneutron~master~Ic1a0222ceaaa29f14c4d9a0207b903e336044ace,openstack/neutron,master,,Ic1a0222ceaaa29f14c4d9a0207b903e336044ace,Fix wrong release names in docs,MERGED,2018-05-20 08:10:56.000000000,2018-05-22 18:52:46.000000000,2018-05-22 18:52:46.000000000,6,6,1,569633,106c8b454050483d0ee4fb70338903a8a02d209a,12,5,2,3,15492,Robin Naundorf,senk,"Fix wrong release names in docs

  * Replaced occurences of version names in install docs.

TrivialFix

Change-Id: Ic1a0222ceaaa29f14c4d9a0207b903e336044ace
"
openstack%2Frequirements~master~Ic5b984949462e9d96d0ba122531d7f0a3d733891,openstack/requirements,master,feature/PTI,Ic5b984949462e9d96d0ba122531d7f0a3d733891,Move requirements to the PTI,MERGED,2018-05-21 21:50:42.000000000,2018-05-22 18:52:45.000000000,2018-05-22 18:52:45.000000000,5,10,1,569869,9efda7ea259baf22a048ac8db7d1b9dcb9132815,12,5,2,4,12898,Tony Breeds,tonyb,"Move requirements to the PTI

When the TC merged I2637dd714cbb6d38ef8b8dc1083e359207118284 we're
supposed to invoke stestr rather than testr so lets do that

Change-Id: Ic5b984949462e9d96d0ba122531d7f0a3d733891
"
openstack%2Foctavia~stable%2Fqueens~Ibb509c1e487876b957ad02cd66cebebc178bef4d,openstack/octavia,stable/queens,,Ibb509c1e487876b957ad02cd66cebebc178bef4d,Correct field filtering for member/l7rule/amphora,MERGED,2018-05-07 14:13:05.000000000,2018-05-22 18:50:47.000000000,2018-05-22 18:50:47.000000000,16,15,0,566590,65755f7da4af819f5366ae5d7fed8e3664680ed8,8,4,1,6,6579,Nir Magnezi,nmagnezi,"Correct field filtering for member/l7rule/amphora

The exposed definition was incorrect due to a copy/paste error during
the original creation of these controllers, causing the field filter
list to be read as a single value. A side-effect of this was that the
filtering code still worked, but did an 'in' operation on one string
instead of a list.

This caused two bugs:
1) Multiple field filters were ignored, and only the first would be
returned.
2) The field matching would match inside of the field names, so
filtering for `id` would match `id`, `project_id`, etc. and return
extra fields.

Change-Id: Ibb509c1e487876b957ad02cd66cebebc178bef4d
Backport-Candidate: Queens Pike
"
openstack%2Foctavia~master~Ib369009de5b42bd9f65bf43f9a0f23189a89de41,openstack/octavia,master,,Ib369009de5b42bd9f65bf43f9a0f23189a89de41,Add raw format support to image creator script.,MERGED,2018-05-14 14:49:26.000000000,2018-05-22 18:50:45.000000000,2018-05-22 18:50:45.000000000,3,2,0,568307,7a702fc638870e618cffa3d278f79dadfcc64456,9,4,1,1,27256,Vadim Ponomarev,velizarx,"Add raw format support to image creator script.

This patch adds new type 'raw' to the '-t' option of the
diskimage-create script for creating raw Octavia Amphora images.

Change-Id: Ib369009de5b42bd9f65bf43f9a0f23189a89de41
"
openstack%2Fneutron-lib~master~I48bb704d0027935b0d3f7194347004fe4d819263,openstack/neutron-lib,master,bgpvpn_api_prefix,I48bb704d0027935b0d3f7194347004fe4d819263,bgpvpn API definition: add API_PREFIX,MERGED,2018-05-16 12:27:04.000000000,2018-05-22 18:50:17.000000000,2018-05-22 18:50:17.000000000,3,0,1,568824,1bca9041baa71abfe626ee15e25e3d57d81ed26c,11,4,2,1,12021,Thomas Morin,tmorin,"bgpvpn API definition: add API_PREFIX

Add an explicit API_PREFIX, to use in networking-bgpvpn
instead of ""/"" + api_def.ALIAS or hardcoded strings.

Neede-By: I2038a374d97dadb5d53677e65616903b6b62a707
Change-Id: I48bb704d0027935b0d3f7194347004fe4d819263
"
openstack%2Fneutron-lib~master~I66ef7967f26fddbcf0af06cbacc98823ee9d6e5e,openstack/neutron-lib,master,bug/1765391,I66ef7967f26fddbcf0af06cbacc98823ee9d6e5e,Add API extensions to advertise support of std attributes for BGPVPN,MERGED,2018-04-19 15:59:55.000000000,2018-05-22 18:50:16.000000000,2018-05-22 18:50:16.000000000,204,0,14,562725,5730aa235be8d4395285e200d9c3a5969577c993,22,5,5,10,12021,Thomas Morin,tmorin,"Add API extensions to advertise support of std attributes for BGPVPN

Add API extensions to advertise the support of standard
attributes for all resources used for BGPVPN Interconnections.

Change-Id: I66ef7967f26fddbcf0af06cbacc98823ee9d6e5e
Partial-Bug: 1765391
"
openstack%2Fneutron-lib~master~Ib3a145d7561442fc7c6caf44c355810e58cee974,openstack/neutron-lib,master,bug/1733374,Ib3a145d7561442fc7c6caf44c355810e58cee974,Documenting L3 agent scheduler,MERGED,2018-02-12 10:11:13.000000000,2018-05-22 18:50:16.000000000,2018-05-22 18:50:16.000000000,354,0,69,543408,61f8615a087c4bca55a8fb21bb0729a9b59722e0,65,5,17,7,27546,Michal Kelner Mishali,mkelnermishal,"Documenting L3 agent scheduler

Closes-Bug: #1733374

Change-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974
Signed-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>
"
openstack%2Foctavia~master~I371a5bd51fc9acc4f6ef1e2b3b2fae9d4babd975,openstack/octavia,master,569881,I371a5bd51fc9acc4f6ef1e2b3b2fae9d4babd975,Add tenant_id back to objects for backwards compat,MERGED,2018-05-21 22:51:56.000000000,2018-05-22 18:39:42.000000000,2018-05-22 18:39:42.000000000,74,7,0,569881,d786bf4f6d3185d60b1be77f8c20e86f34f1bda3,10,4,2,6,10273,Adam Harwell,rm_you,"Add tenant_id back to objects for backwards compat

To be 100% backwards compatible with neutron-lbaas, we need to continue
to return tenant_id in addition to project_id, even though it has been
deprecated and was actually removed previously from Octavia.

Adding it this way is much cleaner than adding it to every object and
will allow us to remove it very easily in the future.

Change-Id: I371a5bd51fc9acc4f6ef1e2b3b2fae9d4babd975
"
openstack%2Foctavia~master~I064ed14859890ce4279891d9fd502f147795200d,openstack/octavia,master,,I064ed14859890ce4279891d9fd502f147795200d,Fix typo,MERGED,2018-05-22 08:41:51.000000000,2018-05-22 18:21:56.000000000,2018-05-22 18:21:56.000000000,1,1,0,569937,505543fb8dbce322995ab72c28d2e5c6d130a3aa,7,3,1,1,25747,Debo Zhang,zhangdebo,"Fix typo

Fix typo.

Change-Id: I064ed14859890ce4279891d9fd502f147795200d
"
openstack%2Foctavia-tempest-plugin~master~If6ecf7b429e3dfab00342af0fde0dfdc875e907d,openstack/octavia-tempest-plugin,master,565640,If6ecf7b429e3dfab00342af0fde0dfdc875e907d,Create basic traffic balancing scenario test,MERGED,2018-05-07 18:40:19.000000000,2018-05-22 18:21:54.000000000,2018-05-22 18:21:53.000000000,423,194,0,566700,cd72b56abef44ccf9a0f4cc7825f890d57e3de22,37,4,17,3,10273,Adam Harwell,rm_you,"Create basic traffic balancing scenario test

This patch implements a basic traffic test for the Octavia Tempest Plugin.

Change-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d
Story: 2001387
Task: 19588
"
openstack%2Foctavia-tempest-plugin~master~I8813f90538b9ec9047a1777b6cab76485a150498,openstack/octavia-tempest-plugin,master,565640,I8813f90538b9ec9047a1777b6cab76485a150498,Create api+scenario tests for members,MERGED,2018-05-04 01:25:12.000000000,2018-05-22 18:21:52.000000000,2018-05-22 18:21:52.000000000,1504,41,2,566199,de3e0544f1dbc67947e0b1c90193b15e2eac7924,50,5,21,12,10273,Adam Harwell,rm_you,"Create api+scenario tests for members

This patch implements member tests for the Octavia
Tempest Plugin.

Depends-On: https://review.openstack.org/#/c/567955/
Change-Id: I8813f90538b9ec9047a1777b6cab76485a150498
Story: 2001387
Task: 5970
"
openstack%2Foctavia-tempest-plugin~master~Id8dadfa292a698273240a4d3513288053e7c62c5,openstack/octavia-tempest-plugin,master,565640,Id8dadfa292a698273240a4d3513288053e7c62c5,Create api+scenario tests for pools,MERGED,2018-05-02 04:19:28.000000000,2018-05-22 18:21:50.000000000,2018-05-22 18:21:50.000000000,1289,64,3,565640,8ffce3e8c3c6ef0f0a576f4123f2dabcf6d6d872,39,5,16,12,10273,Adam Harwell,rm_you,"Create api+scenario tests for pools

This patch implements pool tests for the Octavia
Tempest Plugin.

Change-Id: Id8dadfa292a698273240a4d3513288053e7c62c5
Story: 2001387
Task: 5969
"
openstack%2Foctavia~master~Ifa80b7a5973361c13f2e6611789aa9798325ece0,openstack/octavia,master,,Ifa80b7a5973361c13f2e6611789aa9798325ece0,Add config for disabling creation of PING type HMs,MERGED,2017-12-16 00:30:40.000000000,2018-05-22 18:21:49.000000000,2018-05-22 18:21:49.000000000,31,0,5,528439,d28d311db1da8f0530a4bd08d0e19b8660298331,62,4,20,5,10273,Adam Harwell,rm_you,"Add config for disabling creation of PING type HMs

PING is a trap. There is no real-world scenario where PING is the option
that makes the most sense, but people are familiar with it, and it seems
""simple"", so they pick it. This needs to stop. Empower operators to
disable this!

Change-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0
"
openstack%2Fswift~master~If063a12cac74b67078b6db1c4f489160a2a69de1,openstack/swift,master,bug/1763557,If063a12cac74b67078b6db1c4f489160a2a69de1,Truncate error logs to prevent log handler runs out of the buffer.,MERGED,2018-04-13 07:30:16.000000000,2018-05-22 18:06:08.000000000,2018-05-22 18:06:07.000000000,46,6,2,561142,2307886efebee4874c6606879623ad75f9f34d34,17,6,2,2,12050,Charles Hsu,charz,"Truncate error logs to prevent log handler runs out of the buffer.

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>

Change-Id: If063a12cac74b67078b6db1c4f489160a2a69de1
Closes-Bug: 1763557
"
openstack%2Foctavia~master~Ia69f470e8cfb1a830b08f0076547465cf6cf624a,openstack/octavia,master,tox,Ia69f470e8cfb1a830b08f0076547465cf6cf624a,Fix releasenotes build in tox,MERGED,2018-05-14 07:29:32.000000000,2018-05-22 18:01:45.000000000,2018-05-22 18:01:45.000000000,4,1,3,568215,f8ec935b0fd85100df6f7bab5db695f4e4eef4ba,28,7,4,1,25058,huangshan,huangshan,"Fix releasenotes build in tox

This patch is to ensure the old files are not left over
when running these document builds.

Change-Id: Ia69f470e8cfb1a830b08f0076547465cf6cf624a
"
openstack%2Fnova~master~I16ba29385dd2db5467829e6c17fc395096b5cfd3,openstack/nova,master,fix-max-attempts,I16ba29385dd2db5467829e6c17fc395096b5cfd3,Fix interpretation of max_attempts for scheduling alternates,MERGED,2018-05-17 14:29:43.000000000,2018-05-22 17:12:28.000000000,2018-05-20 19:34:04.000000000,49,7,23,569127,5d86aa7edb60ec35fa43c670ae1f0513dc1e9ad5,69,18,6,3,4393,Dan Smith,danms,"Fix interpretation of max_attempts for scheduling alternates

Since max_attempts is not max_retries, we should look for max_attempts-1
alternate hosts. This change makes the num_alts variable actually reflect
the number of alternates we are looking for, and doesn't actually change
the logic at all. This also adds functional tests to verify max_attempts
behavior with 1 (no retries) and 2 (one retry), just to make sure it is
doing what we expect.

Further, we optimize _get_alternate_hosts() to only re-filter/weigh the
host list if we're looking for alternates for multiple instances. Now
that it's clear that num_alts is only nonzero if we are going to look
at the host list again to find those alternates, it can be more clearly
(and accurately) used to optimize out that extra step if we are not
getting alternates.

Change-Id: I16ba29385dd2db5467829e6c17fc395096b5cfd3
"
openstack%2Fopenstack-ansible-os_sahara~master~I639530e61bbb1c0b0a1f81bd8c99a56b2348cca1,openstack/openstack-ansible-os_sahara,master,bug/1763361,I639530e61bbb1c0b0a1f81bd8c99a56b2348cca1,Add [trustee] section to sahara.conf.j2,ABANDONED,2018-05-22 17:03:11.000000000,2018-05-22 17:04:39.000000000,,11,9,0,570012,4284443286fd9b94513e085c65637f7efce3b74b,2,0,1,2,7414,David Wilde,d34dh0r53,"Add [trustee] section to sahara.conf.j2

This adds the [trustee] variables as defined in
https://review.openstack.org/#/c/524936/13/devstack/plugin.sh

Change-Id: I639530e61bbb1c0b0a1f81bd8c99a56b2348cca1
Closes-Bug: #1763361
"
openstack%2Ftripleo-quickstart~master~Id5c7aceb538bd54295620df0be7e7967a50ce194,openstack/tripleo-quickstart,master,bug/1772589,Id5c7aceb538bd54295620df0be7e7967a50ce194,Corrected controller and compute scale,MERGED,2018-05-22 07:33:15.000000000,2018-05-22 16:51:48.000000000,2018-05-22 16:51:48.000000000,2,2,0,569929,d5f3b5412b920d988775d063da5849e5c7614581,12,7,1,1,28223,Cedric Jeanneret,cjeanner,"Corrected controller and compute scale

Change-Id: Id5c7aceb538bd54295620df0be7e7967a50ce194
Closes-Bug: 1772589
"
openstack%2Fneutron~master~Id7cbfa0a0039b6a95371fba559f70a5369111775,openstack/neutron,master,bug/1771841,Id7cbfa0a0039b6a95371fba559f70a5369111775,WIP Disable ipv6 on gatewa on backup nodes of L3 ha,ABANDONED,2018-05-18 14:19:30.000000000,2018-05-22 16:43:03.000000000,,125,24,0,569424,992e977c66be37c1e1bbb251257adc10302baaed,7,6,1,8,11975,Slawek Kaplonski,slaweq,"WIP Disable ipv6 on gatewa on backup nodes of L3 ha

It is different approach to solve issue with broken connectivity
during backup L3 agent restart.
But probably it will not work properly :/

Change-Id: Id7cbfa0a0039b6a95371fba559f70a5369111775
Related-Bug: #1771841
"
openstack%2Fswift~master~I9716f6c4e45bcdf80543cf661f922da681d602aa,openstack/swift,master,s3api/update,I9716f6c4e45bcdf80543cf661f922da681d602aa,s3api: simplify BaseAclHandler.request_with,MERGED,2018-05-02 19:04:41.000000000,2018-05-22 16:28:42.000000000,2018-05-22 16:28:42.000000000,11,15,0,565872,0d0c9b91ed278f964f686359f50748a4bee0fc25,7,3,1,1,2622,Samuel Merritt,torgomatic,"s3api: simplify BaseAclHandler.request_with

It's just constructing a new object; there's no need for it to be a
context manager.

Change-Id: I9716f6c4e45bcdf80543cf661f922da681d602aa
"
openstack%2Fkolla~stable%2Focata~Ic81181b8b87ccbac489d993f05c125e224922077,openstack/kolla,stable/ocata,bug/1771717,Ic81181b8b87ccbac489d993f05c125e224922077,Fix ocata branch gate,MERGED,2018-04-16 10:09:45.000000000,2018-05-22 16:23:30.000000000,2018-05-22 16:23:29.000000000,23,8,0,561573,67b092ead7bd3395a8e0b71abdf20710de2c78dd,36,11,5,4,7488,Jeffrey Zhang,Jeffrey4l,"Fix ocata branch gate

This patch is include five backport commits.

Gate fix: Cap hacking to avoid gate failure

hacking is not capped in g-r and it is in
blacklist for requirement as hacking new version
can break the gate jobs.

Hacking can break gate jobs because of various
reasons:
- There might be new rule addition in hacking
- Some rules becomes default from non-default
- Updates in pycodestyle etc

That was the main reason it was not added in g-r
auto sync also. Most of the project maintained the
compatible and cap the hacking version in
test-requirements.txt and update to new version when
project is ready. Bumping new version might need code
fix also on project side depends on what new in that
version.

If project does not have cap the hacking version then,
there is possibility of gate failure whenever new hacking
version is released by QA team.

Example of such failure in recent release of hacking 1.1.0
-
http://lists.openstack.org/pipermail/openstack-dev/2018-May/130282.html

Move ansible to virtualenv in kolla_toolbox

Now the ansible and its python dependencies are installed on system. It
may be failed to install in some case. This patch installs python
packages in virtualenv for kolla_toolbox image.

Closes-Bug: #1771717
(cherry picked from commit ce31fa4b1c85de4c21ffb63f3cf58e02bfd3d0a4)

base: set $contentdir for CentOS

CentOS recently started syncing alternate arch repos to mirrors. And to
make it easier to play with centos-* packages idea of 'contentdir'
appeared.

https://lists.centos.org/pipermail/centos-devel/2018-March/016542.html
(cherry picked from commit ec5daaaa634351d24706e605c2c6726be402d35b)

base: bump centos-release-qemu-ev for oraclelinux

(cherry picked from commit 2f271522589e5d2956611787508b5b3ae44ca84b)

Skip pip install when packages variable is empty

pip 10 is release recently. `pip install` without any package will raise
an error now.

Closes-Bug: #1764369
Change-Id: Ic81181b8b87ccbac489d993f05c125e224922077
"
openstack%2Ftripleo-quickstart-extras~master~Id7eb3a85ba85be93457a1fe85e55b6eb1d713397,openstack/tripleo-quickstart-extras,master,ara,Id7eb3a85ba85be93457a1fe85e55b6eb1d713397,WIP - Deploy and Configure ARA for Undercloud,ABANDONED,2018-04-29 03:02:33.000000000,2018-05-22 16:08:55.000000000,,42,0,0,565052,afc16be505707d193c38d432e3927d2c1925f0ef,15,7,3,2,3153,Emilien Macchi,emilienm,"WIP - Deploy and Configure ARA for Undercloud

This is probably not the way to do it (or maybe yes?) but anyway, it's a
PoC of deploying ARA and visualize Ansible tasks run by TripleO itself
(in THT) for both the containerized undercloud and overcloud.

Change-Id: Id7eb3a85ba85be93457a1fe85e55b6eb1d713397
"
openstack%2Ftripleo-ci~master~Ie69bb0aa1fb9dbf838d62f6f976024b03f9b4b9a,openstack/tripleo-ci,master,ara,Ie69bb0aa1fb9dbf838d62f6f976024b03f9b4b9a,DNM - install ara,ABANDONED,2018-04-29 00:40:30.000000000,2018-05-22 16:08:50.000000000,,2,0,0,565048,a6731c921d49f7d22a894cff8f36b3eced7c9ea5,7,3,1,1,3153,Emilien Macchi,emilienm,"DNM - install ara

Change-Id: Ie69bb0aa1fb9dbf838d62f6f976024b03f9b4b9a
"
openstack%2Ftripleo-ci~master~Iac1b0f74a754a64cf7eaab2f7cb6d2da58e41476,openstack/tripleo-ci,master,undercloud/cont/update,Iac1b0f74a754a64cf7eaab2f7cb6d2da58e41476,turn on container updates for containerized undercloud,ABANDONED,2018-04-07 16:59:28.000000000,2018-05-22 16:08:31.000000000,,1,1,2,559492,09ac0ccad316d87f73c590faad6f6608106fd752,22,6,2,1,3153,Emilien Macchi,emilienm,"turn on container updates for containerized undercloud

Change-Id: Iac1b0f74a754a64cf7eaab2f7cb6d2da58e41476
"
openstack%2Ftripleo-quickstart-extras~master~I01c273af7a30855ee87776556f6a40db01cc14b2,openstack/tripleo-quickstart-extras,master,undercloud/cont/update,I01c273af7a30855ee87776556f6a40db01cc14b2,Enable support for container updates on undercloud,ABANDONED,2018-04-07 00:51:26.000000000,2018-05-22 16:08:09.000000000,,65,0,3,559451,570f5e3e7dadd81ca110d98e49f7ecd875b5ffb2,26,8,4,4,3153,Emilien Macchi,emilienm,"Enable support for container updates on undercloud

Like we did on the overcloud, enable the container updates, useful to
test changes on the fly that need updates within the containers.

Depends-On: Iac1b0f74a754a64cf7eaab2f7cb6d2da58e41476
Co-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I01c273af7a30855ee87776556f6a40db01cc14b2
"
openstack%2Fswift~feature%2Fdeep~I720a1ce5cd3433c16cf89aab21034bb4a9002626,openstack/swift,feature/deep,p-sharding-root-deletes-shards,I720a1ce5cd3433c16cf89aab21034bb4a9002626,Do Not Merge - deleted root could delete shards,ABANDONED,2017-10-19 18:15:48.000000000,2018-05-22 15:04:08.000000000,,29,1,0,513464,e9f7d31eb00490af6eb19863682cf9d8c281afbe,4,2,1,2,7847,Alistair Coles,acoles,"Do Not Merge - deleted root could delete shards

some code for a deleted root to delete its shards in shard cycle

doesn't yet work because a deleted root is no longer enabled f
or sharding since its sysmeta is erased

Change-Id: I720a1ce5cd3433c16cf89aab21034bb4a9002626
"
openstack%2Fswift~feature%2Fdeep~I0c66c4ad223a047b33406281b224cb285ca498de,openstack/swift,feature/deep,,I0c66c4ad223a047b33406281b224cb285ca498de,Fix deadlock post cleave,ABANDONED,2018-05-01 22:37:39.000000000,2018-05-22 15:03:17.000000000,,65,34,0,565603,7202fb1a4aa5ae1864d20c4d084d9fb9fc5a08f2,7,2,2,2,1179,Clay Gerrard,clay-gerrard,"Fix deadlock post cleave

The replicator does a reclaim before it does replication, when the
cleave populates a shard db it might have some rows to reclaim.  During
the call stack of shard_broker.reclaim we can get a dead lock while
trying to call get_info to service the path property before having
called commit to finish the DELETE in reclaim.

When we hit the deadlock the transaction remains uncommited and we make
no progress.

Change-Id: I0c66c4ad223a047b33406281b224cb285ca498de
"
openstack%2Fdjango_openstack_auth~stable%2Fpike~I03f9eddb61ac8747a275561d4d94b3a9e9ac5242,openstack/django_openstack_auth,stable/pike,fix-docs-gate,I03f9eddb61ac8747a275561d4d94b3a9e9ac5242,Remove tox_install.sh usage,MERGED,2018-05-17 04:29:45.000000000,2018-05-22 15:01:56.000000000,2018-05-22 15:01:56.000000000,4,33,1,569010,b25c1150e54b8c3794b3fba092d61301bfe57fd1,13,5,2,2,841,Akihiro Motoki,amotoki,"Remove tox_install.sh usage

There is no need to use tox_install.sh in the new CI environment.
upper-constraints file can be specified in 'deps' in tox.ini.

This fixes build-openstack-sphinx-docs gate failure.

Change-Id: I03f9eddb61ac8747a275561d4d94b3a9e9ac5242
"
openstack%2Fswift~feature%2Fdeep~I73a3822e5bb1b27bd9d1a8760ec68b42b0fe5530,openstack/swift,feature/deep,p-sharding-replication,I73a3822e5bb1b27bd9d1a8760ec68b42b0fe5530,WIP alternative strategy when replicating sharding to missing,ABANDONED,2018-02-16 16:52:10.000000000,2018-05-22 15:01:52.000000000,,33,27,1,545385,c13a999abdbe4ed56e63093a157cf7fef10f5733,6,4,1,3,7847,Alistair Coles,acoles,"WIP alternative strategy when replicating sharding to missing

TODO: tests have not all been updated
 not sure why the hash.db does not consider itself sync'd in the
 updated test, so does usync of its objects to the remote shard db
 - that is not the intention!

Change-Id: I73a3822e5bb1b27bd9d1a8760ec68b42b0fe5530
"
openstack%2Fdevstack-plugin-ceph~master~I4884a8e63c04451e83eb7a104ad7eb7d520b0921,openstack/devstack-plugin-ceph,master,rgw-disable-nss-by-default,I4884a8e63c04451e83eb7a104ad7eb7d520b0921,rgw/keystone: disable the NSS db integration by default,MERGED,2018-05-21 16:20:33.000000000,2018-05-22 14:54:11.000000000,2018-05-22 14:54:11.000000000,20,7,5,569823,24c8bd8d3808fd5037a2e32f8124d8845aa8c972,10,4,1,1,10459,Luigi Toscano,ltoscano,"rgw/keystone: disable the NSS db integration by default

The integration with keystone through the PKI tokens (which is removed
anyway since Ocata) and SSL is now disabled by default, and enabled
only if a new variable (CEPH_RGW_KEYSTONE_SSL) is explicitely set
to True.

Change-Id: I4884a8e63c04451e83eb7a104ad7eb7d520b0921
"
openstack%2Fcharm-manila-generic~master~If8cb2ae0517d2bd26d016f0655b87fd818bdc2ac,openstack/charm-manila-generic,master,update-amulet-defs-bionic,If8cb2ae0517d2bd26d016f0655b87fd818bdc2ac,Enable Bionic as a gate test,MERGED,2018-05-08 19:00:14.000000000,2018-05-22 14:43:08.000000000,2018-05-22 14:43:08.000000000,37,12,0,566994,b1a0489f2edcde773d4f6b26b95dd1dac82672ad,20,4,3,4,20805,David Ames,thedac,"Enable Bionic as a gate test

Change bionic test from dev to gate for 18.05.

Change-Id: If8cb2ae0517d2bd26d016f0655b87fd818bdc2ac
"
openstack%2Fneutron~master~Ic9cbe4871c03990456072b44774edbcf183b20b5,openstack/neutron,master,525775,Ic9cbe4871c03990456072b44774edbcf183b20b5,DNM: Test debugging ovsdb jsonrpc errors,ABANDONED,2017-12-05 22:07:00.000000000,2018-05-22 14:09:34.000000000,,18,0,0,525775,c61858b1cfb1889252a20c34d20af07333f95865,27,4,5,1,5756,Terry Wilson,otherwiseguy,"DNM: Test debugging ovsdb jsonrpc errors

Change-Id: Ic9cbe4871c03990456072b44774edbcf183b20b5
"
openstack%2Fkuryr-tempest-plugin~master~Iaff1f569e99a88a8d8ff81aa4e0c4c7bedb94585,openstack/kuryr-tempest-plugin,master,fix-stable-queens,Iaff1f569e99a88a8d8ff81aa4e0c4c7bedb94585,Make `body` arg conditional when deleting service,MERGED,2018-05-22 09:16:47.000000000,2018-05-22 13:54:11.000000000,2018-05-22 13:54:11.000000000,15,5,0,569945,ea65d9617391a9a8cc4d928d9416165b5b598696,8,3,1,1,11600,Michał Dulko,dulek,"Make `body` arg conditional when deleting service

kubernetes package in stable/queens is constrained to 4.0.0 version.
That version doesn't support `body` argument passed to
delete_namespaced_service and fails. This commit fixes that by making
passing this argument conditional on kubernetes package version.

Change-Id: Iaff1f569e99a88a8d8ff81aa4e0c4c7bedb94585
"
openstack%2Fkolla~stable%2Fqueens~I45b66277c31a4d0e33e0c14e01313aa688287ec7,openstack/kolla,stable/queens,bug/1767750-stable/queens,I45b66277c31a4d0e33e0c14e01313aa688287ec7,Fix the ipmitool missing for ceilometer-ipmi image,MERGED,2018-05-16 04:51:56.000000000,2018-05-22 13:52:46.000000000,2018-05-22 13:52:46.000000000,18,3,0,568740,a18c251f24bc742b7faf4d89f1c4902e40b8ff90,10,5,1,1,22165,caoyuan,caoyuan,"Fix the ipmitool missing for ceilometer-ipmi image

To enable IPMI meters, ensure IPMITool is installed[0] and
the host supports Intel Node Manager.

[0]: https://docs.openstack.org/ceilometer/latest/install/install-compute-rdo.html
Co-Authored-By: caoyuan <cao.yuan@99cloud.net>

Change-Id: I45b66277c31a4d0e33e0c14e01313aa688287ec7
Closes-Bug: #1767750
(cherry picked from commit 5695a6527082a686c56747551ef5e5bf07626b17)
"
openstack%2Fmonasca-api~master~I40f3af3a1b4d3da25ac92cc2c0ca92f07d476499,openstack/monasca-api,master,docs,I40f3af3a1b4d3da25ac92cc2c0ca92f07d476499,Add architecture diagram,MERGED,2018-05-04 11:40:54.000000000,2018-05-22 13:43:26.000000000,2018-05-22 13:43:26.000000000,61,0,36,566293,0970d81fd09226122d84ec669d69116ec283bd1d,38,10,9,3,16222,witek,witek,"Add architecture diagram

* list Monasca repositories

Task: 14430
Story: 2001912

Change-Id: I40f3af3a1b4d3da25ac92cc2c0ca92f07d476499
"
openstack%2Ftripleo-upgrade~master~I6219178673b842014b3d6d34e71b588a1e343c35,openstack/tripleo-upgrade,master,ceph_set_max_pg_per_osd,I6219178673b842014b3d6d34e71b588a1e343c35,Set mon_max_pg_per_osd to 300 during ceph upgrade,MERGED,2018-05-18 19:35:57.000000000,2018-05-22 13:30:42.000000000,2018-05-22 11:54:12.000000000,2,0,0,569506,6b3ff54fda2b1513c18ec2b210a9305a6e3fc1b8,9,6,1,1,18851,Marius Cornea,mcornea,"Set mon_max_pg_per_osd to 300 during ceph upgrade

Ceph Release 12.2.1 lowers the maximum number of PGs allowed for
each OSD. The lower limit may cause the monitor to prematurely
issue a HEALTH_WARN message. This change sets mon_max_pg_per_osd
to 300 to match the pre-upgrade value.

Change-Id: I6219178673b842014b3d6d34e71b588a1e343c35
"
openstack%2Fsahara-extra~master~I2ba39c3d84bdd0b07e9fbe58ef0c8bc655c303ac,openstack/sahara-extra,master,hadoop-3.0.1-related,I2ba39c3d84bdd0b07e9fbe58ef0c8bc655c303ac,Add support to build hadoop-3.0.1 related package,MERGED,2018-05-16 11:21:26.000000000,2018-05-22 13:26:20.000000000,2018-05-22 13:26:20.000000000,154,4,1,568814,c118e53a8e85ca93f3aa5e8f268c934f325c679a,24,4,2,6,27576,Zhuang Changkun,zchkun,"Add support to build hadoop-3.0.1 related package

Change-Id: I2ba39c3d84bdd0b07e9fbe58ef0c8bc655c303ac
"
openstack%2Ftripleo-common~stable%2Fqueens~I4905c35fcd45ef0fe1845857020c7e1a44c8c3d6,openstack/tripleo-common,stable/queens,565556-stable/queens,I4905c35fcd45ef0fe1845857020c7e1a44c8c3d6,Script to update RPM's in containers.,MERGED,2018-05-13 20:40:57.000000000,2018-05-22 13:10:57.000000000,2018-05-22 13:10:56.000000000,253,0,0,568150,40d737dd27124032821a99ffecc21bea99ef0c39,43,9,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Script to update RPM's in containers.

This script was living in a github repo and is used during the CI
job.  Moving it here so more people can review it.

This updates the RPM's in a container without having to rebuild
the whole thing.

Change-Id: I4905c35fcd45ef0fe1845857020c7e1a44c8c3d6
(cherry picked from commit deb8480163254edf6497ad6149be25c94d1db36f)
"
openstack%2Fswift~master~I2f7d1bc698ff4c0734ab48eb29e252d6acb1abc6,openstack/swift,master,,I2f7d1bc698ff4c0734ab48eb29e252d6acb1abc6,Remove exclude_states from get_shard_ranges,MERGED,2018-05-21 18:25:57.000000000,2018-05-22 13:04:30.000000000,2018-05-22 13:04:30.000000000,3,39,1,569840,cc565db75382fc092321c5f01d3c079187deae7a,7,3,1,2,15343,Tim Burke,tburke,"Remove exclude_states from get_shard_ranges

It was never actually used -- YAGNI.

Change-Id: I2f7d1bc698ff4c0734ab48eb29e252d6acb1abc6
"
openstack%2Ftripleo-heat-templates~master~Ibc673359cc7072b9d641b3a75d377211699c1285,openstack/tripleo-heat-templates,master,bug/1771543,Ibc673359cc7072b9d641b3a75d377211699c1285,Rotate files from /var/log/containers hourly,ABANDONED,2018-05-22 08:42:49.000000000,2018-05-22 13:02:39.000000000,,3,3,0,569938,a49fa5045e19a0d1d8e6d12f38a420cd69611360,7,5,1,1,6926,Bogdan Dobrelya,bogdando,"Rotate files from /var/log/containers hourly

As we generally cannot access the Birth attribute of files,
the postrotate script currently purges *all* files in
/var/log/containers, if there were *any* files rotated there.
Puppet configures logrotate with a hourly execution scheduled
via cron, delayed randomly by a 0 to 90 seconds. This makes the
postrotate script highly likely purging the world hourly.

For the default daily rotation interval, that becomes an issue
for the logfiles not reaching the default maxsize of a 10M.
Those will be removed with each postrotate execution and lost
w/o being rotated and compressed ever.

To mitigate that, make files hourly rotated by default,
to match the schedule and granted (as the best effort though)
to be rotated before the world is purged by postrotate.

Alter the logrotate defaults:
* rotation interval to a hourly,
* rotate to a 24*14 = 336

Follow ups I6f2f98aba103f83a4f64a435077f4de33f9692c0.

Change-Id: Ibc673359cc7072b9d641b3a75d377211699c1285
Related-Bug: #1771543
"
openstack%2Fmonasca-api~master~I5a1b36db1d03ba27633679cd9fdd3570157335cf,openstack/monasca-api,master,docs,I5a1b36db1d03ba27633679cd9fdd3570157335cf,Update Monasca documentation page,MERGED,2018-04-25 12:49:45.000000000,2018-05-22 12:44:37.000000000,2018-05-22 12:44:37.000000000,35,34,20,564195,2822922d9fb8e0104392e0bdf86bdb770f7a6035,39,8,13,2,16222,witek,witek,"Update Monasca documentation page

* add introduction
* remove empty references

Change-Id: I5a1b36db1d03ba27633679cd9fdd3570157335cf
Story: 2001912
Task: 14428
"
openstack%2Fswift~master~Ie3a583725b827270fb154d6e98df00ef360e517d,openstack/swift,master,p-reclaim-cleaving,Ie3a583725b827270fb154d6e98df00ef360e517d,Reclaim expired cleaving context metadata,NEW,2018-05-21 17:49:08.000000000,2018-05-22 12:41:31.000000000,,244,46,1,569832,92c2e82b4bfdd41fe1c0fee63dd3bdd54b9a22e7,6,2,3,4,7847,Alistair Coles,acoles,"Reclaim expired cleaving context metadata

Sysmeta for CleavingContext's that have completed can be reclaimed
eventually.

Sysmeta for CleavingContext's that have not completed ought to be
reclaimed because they may relate to DB id's that no longer exist, but
they are left for a very long time before reclaiming. Note that no
data is lost if an old incomplete CleavingContext is erroneously
expired, but cleaving progress would be reset.

Change-Id: Ie3a583725b827270fb154d6e98df00ef360e517d
"
openstack%2Fkolla~stable%2Fqueens~I8067ac07a5bf62dded8dc2ea2c2c74c2375ad3c5,openstack/kolla,stable/queens,,I8067ac07a5bf62dded8dc2ea2c2c74c2375ad3c5,Update the explicty to explicitly,MERGED,2018-05-16 05:02:44.000000000,2018-05-22 12:38:27.000000000,2018-05-22 12:38:27.000000000,1,1,0,568744,a5581ae898c9318f2831751c4d6efb4257f08c8b,9,4,1,1,22165,caoyuan,caoyuan,"Update the explicty to explicitly

fix a typo

Change-Id: I8067ac07a5bf62dded8dc2ea2c2c74c2375ad3c5
(cherry picked from commit f0c11d30e7c863d4df39fbaf7b93b0769a54e651)
"
openstack%2Fkolla~stable%2Fpike~I95cae6a9bf185d6f81126c42ac72d51b5ed659c2,openstack/kolla,stable/pike,bug/1710058-stable/pike,I95cae6a9bf185d6f81126c42ac72d51b5ed659c2,Use immutable journal path rather than device name,MERGED,2018-05-08 05:59:41.000000000,2018-05-22 12:16:36.000000000,2018-05-22 12:16:36.000000000,21,1,0,566785,2191d62144a35818b4f62840c89dac09a820d87c,9,5,1,1,7488,Jeffrey Zhang,Jeffrey4l,"Use immutable journal path rather than device name

Device name is mutable when removed or added disks. Use uuid path or
lable is more robust.

Change-Id: I95cae6a9bf185d6f81126c42ac72d51b5ed659c2
Closes-Bug: #1710058
(cherry picked from commit 2b01b054443097ba344fa00d1055dbce22e6b8ea)
"
openstack%2Ftripleo-quickstart~master~I0d5fc04f596787c77cac60656f52be76ac1b8829,openstack/tripleo-quickstart,master,bug/1771997,I0d5fc04f596787c77cac60656f52be76ac1b8829,Mixed version R/Q deploy -- don't use config download,MERGED,2018-05-18 10:41:59.000000000,2018-05-22 12:13:43.000000000,2018-05-22 12:13:43.000000000,5,0,2,569381,a7dc4fa42459278eedc7ab09f3dd9048686e4af5,17,10,1,1,8042,Jiří Stránský,jistr,"Mixed version R/Q deploy -- don't use config download

There has been an inventory and templates change in R undercloud,
variable rename from role_name to tripleo_role_name, to avoid
conflicting with internal ansible vars. This makes the R undercloud
config-download mechanisms incompatible with Q templates.

Use --no-config-download when deploying Q OC with R UC to prevent
hitting this issue.

Change-Id: I0d5fc04f596787c77cac60656f52be76ac1b8829
Closes-Bug: #1771997
"
openstack%2Ftripleo-upgrade~master~I765a80a23267585bdbcc1450b071493d164a9089,openstack/tripleo-upgrade,master,fix_nic_adjustments,I765a80a23267585bdbcc1450b071493d164a9089,Do not run nic template conversion on default tht location,MERGED,2018-05-17 21:41:25.000000000,2018-05-22 11:54:12.000000000,2018-05-22 11:54:12.000000000,6,2,10,569271,85eac0b7f404e435f72f6bf5d09e164fc5a305e0,19,8,4,1,18851,Marius Cornea,mcornea,"Do not run nic template conversion on default tht location

When the nic templates are stored under /usr/share/openstack-
tripleo-heat-templates there's no need to run the nic conversion
script as they should already be updated in the tht package.

Depends-On: Ia59230a30890104e93116ccbd433237492042cf8

Change-Id: I765a80a23267585bdbcc1450b071493d164a9089
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I1cd765b1998f059702f0c17ccb67d54f6d5db362,openstack/tripleo-heat-templates,stable/pike,bug/1703792-stable/pike,I1cd765b1998f059702f0c17ccb67d54f6d5db362,Enhance completion message when upgrading non controller nodes,MERGED,2018-05-21 13:15:10.000000000,2018-05-22 11:54:11.000000000,2018-05-22 11:54:11.000000000,8,1,0,569793,4a7aa0c37c83d9a6259cf5ccad674aa24a4ad5bf,9,5,1,1,20775,Carlos Camacho,ccamacho,"Enhance completion message when upgrading non controller nodes

This adds a better completion message when upgrading a non
controller node.

Change-Id: I1cd765b1998f059702f0c17ccb67d54f6d5db362
Closes-Bug: 1703792
(cherry picked from commit 7bf4edde5de2ab99824c9e8259a9ffa3307b9554)
"
openstack%2Fmetalsmith~master~Iad754c6f4eea461f2859dc46892f2a705ebb6733,openstack/metalsmith,master,node-check,Iad754c6f4eea461f2859dc46892f2a705ebb6733,Additional checks on node sanity before attempting to deploy it,MERGED,2018-05-22 09:32:30.000000000,2018-05-22 11:20:52.000000000,2018-05-22 11:20:52.000000000,122,9,0,569947,c7dddc1f289dfa9578a65f7388e69bb47391fe58,7,2,2,4,10239,Dmitry Tantsur,dtantsur,"Additional checks on node sanity before attempting to deploy it

Check that
1. Maintenance is off
2. Not reserved by something else

If the node is not reserved, reserve it now.

Change-Id: Iad754c6f4eea461f2859dc46892f2a705ebb6733
"
openstack%2Fmonasca-agent~master~Ib9128eea00e4a8e611decf0c8190ffeae14dc27a,openstack/monasca-agent,master,doc-fix,Ib9128eea00e4a8e611decf0c8190ffeae14dc27a,Fix sample for ZooKeeper plugin,MERGED,2018-05-22 10:50:00.000000000,2018-05-22 11:09:24.000000000,2018-05-22 11:09:24.000000000,1,1,0,569955,40ab64e0b85b296b9895471dd975a47f07da01cd,6,3,1,1,16171,Lukasz Zajaczkowski,lukasz.zajaczkowski,"Fix sample for ZooKeeper plugin

Story: 2002081
Task: 19750

Change-Id: Ib9128eea00e4a8e611decf0c8190ffeae14dc27a
"
openstack%2Fcharm-neutron-dynamic-routing~master~Iceb43e44eecdc55e61541a90a40d044f881ca907,openstack/charm-neutron-dynamic-routing,master,wip-debug-gate,Iceb43e44eecdc55e61541a90a40d044f881ca907,[WIP] debug gate,ABANDONED,2018-05-19 06:53:36.000000000,2018-05-22 11:05:35.000000000,,1,1,0,569561,3692ae3b6847ca56032a6e71561094c351466bd0,8,3,1,1,13686,Frode Nordahl,fnordahl,"[WIP] debug gate

Change-Id: Iceb43e44eecdc55e61541a90a40d044f881ca907
"
openstack%2Fcinder~master~I371e0f5b5876dcb276e133718ba78257f75da381,openstack/cinder,master,block-box-fix,I371e0f5b5876dcb276e133718ba78257f75da381,Fix cinder-volume setup in block-box,MERGED,2018-05-21 20:47:24.000000000,2018-05-22 10:58:12.000000000,2018-05-22 03:56:55.000000000,1,1,0,569859,910f534382f9d0022ce739ad7a70c38db6d006d2,42,27,1,1,1736,Ivan Kolodyazhny,e0ne,"Fix cinder-volume setup in block-box

Change-Id: I371e0f5b5876dcb276e133718ba78257f75da381
"
openstack%2Frally~master~I8c90f9383e3de387115b8cecf3403a34d8ef697f,openstack/rally,master,fix,I8c90f9383e3de387115b8cecf3403a34d8ef697f,Update documentation link in README,ABANDONED,2018-05-21 08:45:06.000000000,2018-05-22 10:41:49.000000000,,1,1,0,569745,2c0fa7bea3ff7f9507af7040ec28734ad3a52487,7,4,1,1,23317,ShangXiao,ShangXiao,"Update documentation link in README

Update documentation link to the lastest one
in README.rst.

Change-Id: I8c90f9383e3de387115b8cecf3403a34d8ef697f
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ia76a0cc007abfdec6f25e1371eb696864f2925fd,openstack/tripleo-heat-templates,stable/queens,bug/1768519-stable/queens,Ia76a0cc007abfdec6f25e1371eb696864f2925fd,"Expose Horizon ""DocumentRoot"" on host",MERGED,2018-05-04 10:27:27.000000000,2018-05-22 10:27:59.000000000,2018-05-22 10:27:59.000000000,1,0,0,566276,2b9f05b57f5b130e2af355e4769e69b010937422,34,7,1,1,26828,cjeanneret - deactivated,Tengu,"Expose Horizon ""DocumentRoot"" on host

This will allow webroot plugin for Let's Encrypt to actually work.
The container has no need to write in this location.

Change-Id: Ia76a0cc007abfdec6f25e1371eb696864f2925fd
Closes-Bug: 1768519
(cherry picked from commit 4f2c29e83fd7f96482b1f4a32e144b61d69d653f)
"
openstack%2Ftripleo-quickstart~master~I1467d3fc3d7874446374fd67c14d6e8de3f57d54,openstack/tripleo-quickstart,master,tempest_log,I1467d3fc3d7874446374fd67c14d6e8de3f57d54,Enable undercloud_enable_tempest to true,MERGED,2018-05-04 14:37:34.000000000,2018-05-22 10:27:58.000000000,2018-05-22 10:27:58.000000000,3,1,0,566332,d89da5b7d3e8efc25e5cc3a7833d13ada24a5e91,69,10,12,2,12393,chandan kumar,chkumar246,"Enable undercloud_enable_tempest to true

* It will help to list the tempest container on the undercloud
  and reuse it for running tempest tests.

* The tempest logs will be found in /var/log/containers/tempest.

Depends-On: https://review.openstack.org/#/c/566364/
Depends-On: https://review.openstack.org/566526

Change-Id: I1467d3fc3d7874446374fd67c14d6e8de3f57d54
"
openstack%2Fmetalsmith~master~I6781b123dba933628210dec9f61967a305df2da5,openstack/metalsmith,master,undeploy-wait,I6781b123dba933628210dec9f61967a305df2da5,Unlock the node before deleting it in unprovisioning and default to not waiting,MERGED,2018-05-22 08:41:15.000000000,2018-05-22 10:26:50.000000000,2018-05-22 10:26:50.000000000,90,12,0,569936,18fbeab747e9a6a2fe6242ba28955dbfed59f71b,6,2,1,4,10239,Dmitry Tantsur,dtantsur,"Unlock the node before deleting it in unprovisioning and default to not waiting

Cleaning can take a lot of time, we should not generally wait for it.

Change-Id: I6781b123dba933628210dec9f61967a305df2da5
"
openstack%2Ftripleo-heat-templates~stable%2Focata~Ie3bd17ca9863e7687721e8c2628e485ea1849321,openstack/tripleo-heat-templates,stable/ocata,bug/1772071-stable/ocata,Ie3bd17ca9863e7687721e8c2628e485ea1849321,Use str_replace for known_hosts,MERGED,2018-05-22 03:05:12.000000000,2018-05-22 10:17:25.000000000,2018-05-22 10:17:25.000000000,23,16,0,569911,6ee93a3a5a35f460585e8b5260bb2ecaaa0c696b,8,4,1,2,14985,Alex Schultz,mwhahaha,"Use str_replace for known_hosts

There is a limit to how long input data can be for the heat script hook.
It turns out that data longer than 131072, will return an Argument list
to long error. To get around this, we need to pass this data in a
different way so that the heat script hook will work.

Change-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321
Closes-Bug: #1772071
(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)
"
openstack%2Ftripleo-upgrade~master~Ie9ef22b9b320c63e7a95e64698e3389caa00dfff,openstack/tripleo-upgrade,master,up/yes,Ie9ef22b9b320c63e7a95e64698e3389caa00dfff,Add -y when upgrading the containerized undercloud,MERGED,2018-05-21 14:44:14.000000000,2018-05-22 10:17:24.000000000,2018-05-22 10:17:24.000000000,1,1,0,569807,ec485adadb9fb66d562d79199f57e4f32b77d3d0,9,4,1,1,3153,Emilien Macchi,emilienm,"Add -y when upgrading the containerized undercloud

... so we skip the prompt that says we should do a backup.

Depends-On: Iab7ebbe6283039a447d88f9d801486511f5b7b05
Change-Id: Ie9ef22b9b320c63e7a95e64698e3389caa00dfff
"
openstack%2Fkolla~stable%2Fqueens~I4bbdb1a607566b4853c6767fca6401cc78576e95,openstack/kolla,stable/queens,,I4bbdb1a607566b4853c6767fca6401cc78576e95,Add debian into available distros for image building,MERGED,2018-05-16 04:56:04.000000000,2018-05-22 09:35:19.000000000,2018-05-22 09:35:19.000000000,1,0,0,568742,8d4ceb7de4eb4c93b38d07a59beff78a2954389e,9,5,1,1,22165,caoyuan,caoyuan,"Add debian into available distros for image building

the debian is supported for image build[0], but the docs missing
it, the ps to add it.

[0]: https://github.com/openstack/kolla/blob/master/kolla/common/config.py#L22

Change-Id: I4bbdb1a607566b4853c6767fca6401cc78576e95
(cherry picked from commit e9f6e4cf8c6b3be63911ff1b1a9afaf129729e7b)
"
openstack%2Fkolla~master~Iead82aad067353ddd822dfc15f54edfb313b7054,openstack/kolla,master,,Iead82aad067353ddd822dfc15f54edfb313b7054,collectd: remove duplicate packages,MERGED,2018-05-18 06:58:38.000000000,2018-05-22 09:35:17.000000000,2018-05-22 09:35:17.000000000,1,2,3,569349,31a7792cbb40cbf9fcaf0bb6fbe8829513370e8c,14,23,2,1,2813,Mehdi Abaakouk,sileht,"collectd: remove duplicate packages

The collectd-turbotstat is already installed for all arch.

This change removes the duplicates package name.

Change-Id: Iead82aad067353ddd822dfc15f54edfb313b7054
"
openstack%2Frpm-packaging~master~Ied9d2c33aca7b4a5f81384b2b274aa15b3e9d13f,openstack/rpm-packaging,master,,Ied9d2c33aca7b4a5f81384b2b274aa15b3e9d13f,Fix the linter gate,ABANDONED,2018-05-17 14:35:38.000000000,2018-05-22 09:22:03.000000000,,6,6,0,569130,a20e8f169f0b06a0f3d91e78deb161d9540148cf,6,4,1,2,13294,Javier Peña,jpena,"Fix the linter gate

speccleaner has changed some requirements, and now it wants us to
use %{_libexecdir} instead of %{_prefix}/lib.

Change-Id: Ied9d2c33aca7b4a5f81384b2b274aa15b3e9d13f
"
openstack%2Fswift~feature%2Fdeep-review~Iec3f8ec29950220bb1b2ead9abfdfb1a261517d6,openstack/swift,feature/deep-review,rev10,Iec3f8ec29950220bb1b2ead9abfdfb1a261517d6,DO NOT MERGE Use correct policy index when faking misplaced objects,ABANDONED,2018-05-18 21:48:42.000000000,2018-05-22 09:00:20.000000000,,2,1,0,569527,6cce05dec351c610ec8ee66c26b5cc82b7efaed7,3,1,1,1,7847,Alistair Coles,acoles,"DO NOT MERGE Use correct policy index when faking misplaced objects

Before merge_objects used storage policy index of 0, but if the
shard broker had a different policy index then the misplaced object
would not show in listings causing test_misplaced_object_movement
to fail. This would be exposed by having policy index 0 be an EC
policy, since the probe test requires a replication policy.

Change-Id: Iec3f8ec29950220bb1b2ead9abfdfb1a261517d6
"
openstack%2Fzaqar~master~I444cdaad0d83d9d8795dc03793aefe2fa3a51203,openstack/zaqar,master,update_doc_job,I444cdaad0d83d9d8795dc03793aefe2fa3a51203,Follow the new PTI for document build,MERGED,2018-04-20 02:05:08.000000000,2018-05-22 08:53:37.000000000,2018-05-22 08:53:37.000000000,13,13,0,562895,17ef71a482c02c3cf002d3b775156c5c99ded4e6,20,4,5,4,28035,Xiyuan Wang,xywang,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I444cdaad0d83d9d8795dc03793aefe2fa3a51203
"
openstack%2Fnova~stable%2Fqueens~I7b8622b178d5043ed1556d7bdceaf60f47e5ac80,openstack/nova,stable/queens,bug/1756179,I7b8622b178d5043ed1556d7bdceaf60f47e5ac80,Cleanup RP and HM records while deleting a compute service.,MERGED,2018-04-23 16:57:04.000000000,2018-05-22 08:31:24.000000000,2018-05-22 08:31:24.000000000,61,10,0,563698,dede2de2bd482d0378a7acd81b65d93b1635e825,30,9,1,5,26936,Surya Seetharaman,tssurya,"Cleanup RP and HM records while deleting a compute service.

Currently when deleting a nova-compute service via the API, we will
(soft) delete the service and compute_node records in the DB, but the
placement resource provider and host mapping records will be orphaned.
This patch deletes the resource provider and host_mapping records
before deleting the service/compute node.

Change-Id: I7b8622b178d5043ed1556d7bdceaf60f47e5ac80
Closes-Bug: #1756179
(cherry picked from commit 589c495c1ae62129e20ab5e2641e330541eee01f)
"
openstack%2Fnova~stable%2Fqueens~If507e23f0b7e5fa417041c3870d77786498f741d,openstack/nova,stable/queens,bug/1756179,If507e23f0b7e5fa417041c3870d77786498f741d,Delete allocations from API if nova-compute is down,MERGED,2018-04-20 19:00:29.000000000,2018-05-22 08:20:00.000000000,2018-05-22 08:20:00.000000000,103,21,0,563236,cba1a3e2c1b161204a3662a0d9fbf33da38aa7d3,36,11,1,4,6873,Matt Riedemann,mriedem,"Delete allocations from API if nova-compute is down

When performing a ""local delete"" of an instance, we
need to delete the allocations that the instance has
against any resource providers in Placement.

It should be noted that without this change, restarting
the nova-compute service will delete the allocations
for its compute node (assuming the compute node UUID
is the same as before the instance was deleted). That
is shown in the existing functional test modified here.

The more important reason for this change is that in
order to fix bug 1756179, we need to make sure the
resource provider allocations for a given compute node
are gone by the time the compute service is deleted.

This adds a new functional test and a release note for
the new behavior and need to configure nova-api for
talking to placement, which is idempotent if
not configured thanks to the @safe_connect decorator
used in SchedulerReportClient.

Closes-Bug: #1679750
Related-Bug: #1756179

Change-Id: If507e23f0b7e5fa417041c3870d77786498f741d
(cherry picked from commit ea9d0af31395fbe1686fa681cd91226ee580796e)
"
openstack%2Fdragonflow~master~Idd4c02501a3eba06015315aa8a3ac9563e549dbb,openstack/dragonflow,master,,Idd4c02501a3eba06015315aa8a3ac9563e549dbb,Add a command prompt for action bind,MERGED,2016-07-22 14:03:00.000000000,2018-05-22 07:26:34.000000000,2016-07-24 18:48:50.000000000,5,4,0,346049,43df445f02383833f590379bf66582e91185b734,9,4,1,1,21691,weizj,ZhijunWei,"Add a command prompt for action bind

Change-Id: Idd4c02501a3eba06015315aa8a3ac9563e549dbb
"
openstack%2Fcharm-interface-bgp~master~I8b1508361fdc7541c0fc231e7e816651626596b7,openstack/charm-interface-bgp,master,add-16bit-asn-support,I8b1508361fdc7541c0fc231e7e816651626596b7,Add support for generating 16-bit ASn,MERGED,2018-05-21 05:42:44.000000000,2018-05-22 07:24:15.000000000,2018-05-22 07:24:15.000000000,116,2,0,569702,a34640e10ef41617f49c2d370337ac63a0d82d1b,7,4,1,2,13686,Frode Nordahl,fnordahl,"Add support for generating 16-bit ASn

Change-Id: I8b1508361fdc7541c0fc231e7e816651626596b7
"
openstack%2Ftripleo-heat-templates~master~Ia38406cc58a4bb25929f9db02e1bca99578e4f2d,openstack/tripleo-heat-templates,master,bug/1765439,Ia38406cc58a4bb25929f9db02e1bca99578e4f2d,Add support of mounting stating location for glance-direct,ABANDONED,2018-04-20 04:37:50.000000000,2018-05-22 07:09:55.000000000,,49,13,44,562930,b30dac3ce9ca46e30ad356141ea3332739fa879b,73,16,19,4,19138,Pranali Deore,PranaliD,"Add support of mounting stating location for glance-direct

In the case of an HA setup (ie with 3 controller nodes) if image
import method is 'glance-direct' then it would require a shared
consistent filesystem across the controller nodes otherwise it
might happen that the image is uploaded to one node and triggering
the import is executed on a different node - where the image does not
exist.

Hence when import method 'glance-direct' is needed, operators need to
enable it explicitly with enabling NFS across the controller nodes
to share the staging and final store location.

Change-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d
Closes-Bug: #1765439
"
openstack%2Fpuppet-glance~master~Ie46d83c945068e38f6e32aa0baf843f7d5f932ec,openstack/puppet-glance,master,bug/1765439,Ie46d83c945068e38f6e32aa0baf843f7d5f932ec,Disable interoperable default image import method,ABANDONED,2018-05-10 16:50:17.000000000,2018-05-22 07:04:49.000000000,,30,1,4,567644,38f92fd45cafd5d4334fd675f9db110fe926f058,11,3,5,2,19138,Pranali Deore,PranaliD,"Disable interoperable default image import method

In the case of an HA setup (ie with 3 controller nodes) glance-direct
requires a shared consistent filesystem across the controller
nodes. Otherwise it might happen that the image is uploaded to one node,
and triggering the import is executed on a different node - where
the image does not exist.

Removing glance-direct from defaults for enabled_import_methods. If
operator wants to enable import method 'glance-direct', then
operators need to enable it explicitly & incase of HA needs to enable
NFS across the controller nodes to share the staging and final store
location with enabling 'glance-direct'.

Change-Id: Ie46d83c945068e38f6e32aa0baf843f7d5f932ec
Closes-Bug: #1765439
"
openstack%2Fpuppet-swift~master~I63f8a4287235c4659807530851c917a6386b4dd8,openstack/puppet-swift,master,www_authenticate_uri,I63f8a4287235c4659807530851c917a6386b4dd8,Configure www_authenticate_uri instead of auth_uri in authtoken,MERGED,2018-05-15 16:49:58.000000000,2018-05-22 06:00:52.000000000,2018-05-17 23:53:18.000000000,5,5,0,568641,ca7070a567c4ec3f656fb9e653b5b53dbeb3a510,14,4,4,2,597,Pete Zaitcev,zaitcev,"Configure www_authenticate_uri instead of auth_uri in authtoken

We're configuring a piece of keystonemiddleware, which saw this
change:
   https://review.openstack.org/508522

This minimal fix retains auth_uri wherever we were using it in
Puppet, because who cares? It's just a name of a class field.
But when we write it out, change it to the new name in the
configuration file, so these modules continue to work in the
future.

Depends-On: I7be3f7748a2857618dc4de38e09c7cccca6d2721
Change-Id: I63f8a4287235c4659807530851c917a6386b4dd8
"
openstack%2Fpuppet-sahara~master~Ieab93515da12c24988accbbd7fead14ba3e2de20,openstack/puppet-sahara,master,auth-url,Ieab93515da12c24988accbbd7fead14ba3e2de20,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 07:27:27.000000000,2018-05-22 05:43:22.000000000,,4,4,0,569735,c8051d2e859ccf0ca408bb4f30a696b58323aa05,6,4,1,2,17130,melissaml,malei,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: Ieab93515da12c24988accbbd7fead14ba3e2de20
"
openstack%2Fpuppet-gnocchi~master~Ia259a8f8530d7bc60b8fb4d37cc756776907606a,openstack/puppet-gnocchi,master,auth-url,Ia259a8f8530d7bc60b8fb4d37cc756776907606a,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 07:01:43.000000000,2018-05-22 05:42:48.000000000,,4,4,0,569728,ebea80203a01f38a19ee9b9303e9e7f1e7eeb479,5,3,1,2,17130,melissaml,malei,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: Ia259a8f8530d7bc60b8fb4d37cc756776907606a
"
openstack%2Fpuppet-mistral~master~I1ae38a934e154d193260be2cad41915d055be7d9,openstack/puppet-mistral,master,auth_url,I1ae38a934e154d193260be2cad41915d055be7d9,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 07:06:20.000000000,2018-05-22 05:41:58.000000000,,4,4,0,569729,d67377b627bb1fdbffd28275c3a8a0e6a464173b,5,3,1,2,17130,melissaml,malei,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: I1ae38a934e154d193260be2cad41915d055be7d9
"
openstack%2Fpuppet-cinder~master~Iceb64012e492794f914d205e1a56052661a3a0d8,openstack/puppet-cinder,master,auth-url,Iceb64012e492794f914d205e1a56052661a3a0d8,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 07:47:40.000000000,2018-05-22 05:41:32.000000000,,4,4,0,569738,a791411d98aa15aa970daa8f3c53d8abfec6a583,5,3,1,2,17130,melissaml,malei,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: Iceb64012e492794f914d205e1a56052661a3a0d8
"
openstack%2Fpuppet-glance~master~I50477c401775d8603495aed5a5ec9ad169847ddd,openstack/puppet-glance,master,auth_url,I50477c401775d8603495aed5a5ec9ad169847ddd,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 07:55:55.000000000,2018-05-22 05:41:13.000000000,,12,12,0,569740,8e27b383a36dce4e4f6de3ecd8dd8b98ce6b0cc6,5,3,1,5,17130,melissaml,malei,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: I50477c401775d8603495aed5a5ec9ad169847ddd
"
openstack%2Fpuppet-designate~master~Ia7c4d8812c366ed39e42ce2ac63a368cd2032287,openstack/puppet-designate,master,auth-url,Ia7c4d8812c366ed39e42ce2ac63a368cd2032287,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 06:46:09.000000000,2018-05-22 05:40:12.000000000,,4,4,0,569725,ff4ae53cb2012149bb74eb2b171fc3d290b1bbb9,6,4,1,2,17130,melissaml,malei,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: Ia7c4d8812c366ed39e42ce2ac63a368cd2032287
"
openstack%2Fpuppet-barbican~master~I6197995c80577ee05cb7db10df67da8d0a3e3791,openstack/puppet-barbican,master,auth-url,I6197995c80577ee05cb7db10df67da8d0a3e3791,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 06:40:18.000000000,2018-05-22 05:39:48.000000000,,4,4,0,569721,79291e2a2d1ec67f31615ace240b93d8e5ada506,5,3,1,2,17130,melissaml,malei,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: I6197995c80577ee05cb7db10df67da8d0a3e3791
"
openstack%2Fpuppet-freezer~master~I60ff3ec7be95d62010ef120a0446fd14ff8fba30,openstack/puppet-freezer,master,auth-url,I60ff3ec7be95d62010ef120a0446fd14ff8fba30,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 06:43:26.000000000,2018-05-22 05:39:28.000000000,,4,4,0,569723,3102e6c26c1044de1c1040b23b173c1160d81a46,5,3,1,2,17130,melissaml,malei,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: I60ff3ec7be95d62010ef120a0446fd14ff8fba30
"
openstack%2Fpuppet-manila~master~I49d7345a02f339162f36b789496cfa24a3a2cad7,openstack/puppet-manila,master,auth-url,I49d7345a02f339162f36b789496cfa24a3a2cad7,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 06:33:28.000000000,2018-05-22 05:38:18.000000000,,4,4,0,569716,4fe71d44a8406b31881c2e59028514cb5e1b508f,4,2,1,2,17130,melissaml,malei,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: I49d7345a02f339162f36b789496cfa24a3a2cad7
"
openstack%2Fzaqar~master~Ic4f90ffc609d871a918091d93ee14896dc876be9,openstack/zaqar,master,update_low,Ic4f90ffc609d871a918091d93ee14896dc876be9,Update the lower-constrainsts,MERGED,2018-04-21 09:09:27.000000000,2018-05-22 05:26:53.000000000,2018-05-22 05:26:53.000000000,95,96,0,563400,cab8a15a41514de7d830ab764b9991bdb83876fe,23,6,5,2,28035,Xiyuan Wang,xywang,"Update the lower-constrainsts

The low-constrainsts is totally wrong, it contains
the upper ones. This patch copy the right ones from
openstack/requirements to fix the issue

Change-Id: Ic4f90ffc609d871a918091d93ee14896dc876be9
"
openstack%2Fneutron~master~I3828d89a2539caf41eb2c3573aa9c541e0b9b885,openstack/neutron,master,fix-w605,I3828d89a2539caf41eb2c3573aa9c541e0b9b885,Fix W605 warnings,MERGED,2018-05-17 07:22:27.000000000,2018-05-22 05:02:58.000000000,2018-05-19 01:00:44.000000000,4,4,0,569042,4f6054329bd50a6f7837f1633d53f6805a8f2ebd,9,4,1,2,9200,IWAMOTO Toshihiro,toshii,"Fix W605 warnings

""W605 invalid escape sequence"" would be a error in future version
of python.

Change-Id: I3828d89a2539caf41eb2c3573aa9c541e0b9b885
"
openstack%2Fzun~master~I970c8dd876c54d86608b0647690845a4c0de9453,openstack/zun,master,,I970c8dd876c54d86608b0647690845a4c0de9453,Trivial: Update pypi url to new url,MERGED,2018-04-27 11:20:23.000000000,2018-05-22 04:45:32.000000000,2018-05-22 04:45:32.000000000,2,2,0,564735,b2553e0c834e79e9eb6a3d620e4c4e248ea1d5e7,13,8,1,1,26297,pippo,huang.zhiping,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I970c8dd876c54d86608b0647690845a4c0de9453
"
openstack%2Fpython-qinlingclient~master~Ie0ce88d293e124f86f6b4b04ea7a4e1cb20c5e90,openstack/python-qinlingclient,master,function_scale,Ie0ce88d293e124f86f6b4b04ea7a4e1cb20c5e90,Add commands to scale up/down function workers,MERGED,2018-03-22 14:14:15.000000000,2018-05-22 04:37:07.000000000,2018-05-22 04:37:07.000000000,74,0,6,555316,207f52c1c7cc17df0a87b4b90d69a4e5c72b0c2a,10,3,2,3,21781,Hunt Xu,huntxu,"Add commands to scale up/down function workers

Change-Id: Ie0ce88d293e124f86f6b4b04ea7a4e1cb20c5e90
"
openstack%2Fopenstack-ansible-os_neutron~master~I79be52db2116e47fd29dce14712735768cd340e7,openstack/openstack-ansible-os_neutron,master,bp/deprecate-auth-uri-option,I79be52db2116e47fd29dce14712735768cd340e7,Deprecate auth_uri option,MERGED,2018-04-03 06:17:11.000000000,2018-05-22 04:25:04.000000000,2018-04-30 06:56:54.000000000,1,1,0,558389,fb6542ee1cbfe0b7c5d4156b995a5ec68931815e,26,5,1,1,9414,zhongshengping,ZhongShengping,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I79be52db2116e47fd29dce14712735768cd340e7
Implements: blueprint deprecate-auth-uri-option
"
openstack%2Ftempest~master~Ie7c7d74e1989b568284a38f1dac83579386c3a79,openstack/tempest,master,boot_encrypted_volume,Ie7c7d74e1989b568284a38f1dac83579386c3a79,Refactor test 'test_boot_server_from_encrypted_volume_luks' to use cirros image,ABANDONED,2017-08-29 13:53:02.000000000,2018-05-22 04:24:49.000000000,,6,5,3,498813,6c6c74a6f82356b5820a8fdb6d75ce7f09bcc33e,11,3,2,2,19262,Liron Kuchlani,lkuchlan,"Refactor test 'test_boot_server_from_encrypted_volume_luks' to use cirros image

This test is uploaded, since there was a bug [1] while booting an instance
from an encrypted volume created from a whole image.

[1] https://bugs.launchpad.net/nova/+bug/1465656

Depends-On: I0975fc0c49ec243025d076f0406e28c4f5522d3a
Change-Id: Ie7c7d74e1989b568284a38f1dac83579386c3a79
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~I8bc0590f1399eaf9e2bb8e06986c12ba0b807b3d,openstack/puppet-tripleo,stable/queens,queens/may/2018,I8bc0590f1399eaf9e2bb8e06986c12ba0b807b3d,Prepare 8.3.3 (queens),MERGED,2018-05-22 00:26:04.000000000,2018-05-22 04:24:08.000000000,2018-05-22 04:24:08.000000000,1,1,0,569895,3cfef05eeeb922042a551b5133f6a1c23cd19746,6,2,1,1,3153,Emilien Macchi,emilienm,"Prepare 8.3.3 (queens)

Change-Id: I8bc0590f1399eaf9e2bb8e06986c12ba0b807b3d
"
openstack%2Fpuppet-tripleo~stable%2Fpike~Ia4a7a0ee30d188be77fdb54199485eed692815a9,openstack/puppet-tripleo,stable/pike,pike/may/2018,Ia4a7a0ee30d188be77fdb54199485eed692815a9,Prepare 7.4.13 (pike),MERGED,2018-05-22 00:25:40.000000000,2018-05-22 04:24:07.000000000,2018-05-22 04:24:07.000000000,1,1,0,569894,e510993a5ef0855c3b314f97a24089f0753ef309,6,2,1,1,3153,Emilien Macchi,emilienm,"Prepare 7.4.13 (pike)

Change-Id: Ia4a7a0ee30d188be77fdb54199485eed692815a9
"
openstack%2Fpuppet-tripleo~stable%2Focata~I27af19c546019c022357464d3383a77b280eb94b,openstack/puppet-tripleo,stable/ocata,ocata/may/2018,I27af19c546019c022357464d3383a77b280eb94b,Prepare 6.5.13 (ocata),MERGED,2018-05-22 00:25:12.000000000,2018-05-22 04:24:07.000000000,2018-05-22 04:24:06.000000000,1,1,0,569892,29f726588f241008442f5148ae2693672a2f4f36,6,2,1,1,3153,Emilien Macchi,emilienm,"Prepare 6.5.13 (ocata)

Change-Id: I27af19c546019c022357464d3383a77b280eb94b
"
openstack%2Fpuppet-tripleo~stable%2Fnewton~I36f713d7772e20ed67bebfaa09b3eddeec30f0d5,openstack/puppet-tripleo,stable/newton,newton/may/2018,I36f713d7772e20ed67bebfaa09b3eddeec30f0d5,Prepare 5.6.11 (newton),MERGED,2018-05-22 00:24:37.000000000,2018-05-22 04:24:06.000000000,2018-05-22 04:24:06.000000000,1,1,0,569891,95c442e1d044d627e402c7bfbbe093763ec96b66,6,2,1,1,3153,Emilien Macchi,emilienm,"Prepare 5.6.11 (newton)

Change-Id: I36f713d7772e20ed67bebfaa09b3eddeec30f0d5
"
openstack%2Fpython-tripleoclient~master~Ie770f72a8bf9f13ce7258a22ba9f96e5c70a35c1,openstack/python-tripleoclient,master,upgrade/purge,Ie770f72a8bf9f13ce7258a22ba9f96e5c70a35c1,"Add ""upgrade_cleanup"" option to undercloud.conf",MERGED,2018-05-18 05:07:03.000000000,2018-05-22 04:24:05.000000000,2018-05-22 04:24:05.000000000,16,2,3,569327,4b35d346514b167b0a65aa543a7577caa47cb5e9,29,6,7,4,3153,Emilien Macchi,emilienm,"Add ""upgrade_cleanup"" option to undercloud.conf

When upgrading a non-containerized undercloud to a containerized
undercloud, operators might want to purge old packages/config that were
deployed in Queens. It can be done by setting upgrade_cleanup to
True. The default is false so the cleanup won't happen in default
upgrades.

Change-Id: Ie770f72a8bf9f13ce7258a22ba9f96e5c70a35c1
"
openstack%2Fpuppet-nova~master~I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d,openstack/puppet-nova,master,bug/1759098,I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d,Deprecate auth_uri option,MERGED,2018-04-03 08:55:51.000000000,2018-05-22 04:23:54.000000000,2018-05-02 19:31:14.000000000,55,22,0,558451,20d93c4148c3d5082315263e7754267f50cb46bd,16,6,3,10,9414,zhongshengping,ZhongShengping,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d
Depends-On: I4c82a63baabd6b9304b302c97cd751a0103d8316
Closes-Bug: #1759098
"
openstack%2Ftempest~master~I3eae31158a84af9d9dd77edbdcd0f78575d533b0,openstack/tempest,master,wait_until,I3eae31158a84af9d9dd77edbdcd0f78575d533b0,Define wait_until='ACTIVE' as default argument,ABANDONED,2017-12-21 09:32:30.000000000,2018-05-22 04:23:35.000000000,,110,128,4,529522,a711a5d299f454a8a5017e718681fa02ff1ed4d0,42,10,14,53,19262,Liron Kuchlani,lkuchlan,"Define wait_until='ACTIVE' as default argument

Almost every test wait for the server to reach a 'ACTIVE' status.
I suggest define wait_until='ACTIVE' as default argument for
'create_test_server' helper.

Change-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0
"
openstack%2Ftempest~master~I2ead4264b77bc591b6cd10f3e1081ad9748d997f,openstack/tempest,master,volume_extend,I2ead4264b77bc591b6cd10f3e1081ad9748d997f,Create a snapshot from an extended volume,ABANDONED,2017-02-15 14:09:29.000000000,2018-05-22 04:23:11.000000000,,17,0,7,434290,f4a8abd1ae0e6f4f3c2183629cceb5e288499c7a,41,10,8,1,19262,Liron Kuchlani,lkuchlan,"Create a snapshot from an extended volume

The test validates that snapshot size is the same
as the extended volume.

Change-Id: I2ead4264b77bc591b6cd10f3e1081ad9748d997f
"
openstack%2Ftempest~master~I4a03af66fe8fe194f7062f0b956d7321fb07d9e8,openstack/tempest,master,incremental_backup,I4a03af66fe8fe194f7062f0b956d7321fb07d9e8,Add test create an incremental backup,ABANDONED,2016-12-12 12:49:16.000000000,2018-05-22 04:22:44.000000000,,38,1,8,409776,9522d329b95a9c82ef272f38f4e6d42247927190,59,7,11,2,19262,Liron Kuchlani,lkuchlan,"Add test create an incremental backup

The incremental backup is based on a parent backup which is an
existing backup with the latest timestamp.
The parent backup can be a full backup or an incremental backup
depending on the timestamp.

Change-Id: I4a03af66fe8fe194f7062f0b956d7321fb07d9e8
"
openstack%2Ftempest~master~I4faee23fcc916333ee937ca690b729a9b77949f2,openstack/tempest,master,backup_pagination,I4faee23fcc916333ee937ca690b729a9b77949f2,Backup v2 pagination tests,ABANDONED,2016-09-26 08:32:34.000000000,2018-05-22 04:22:18.000000000,,146,4,4,376292,a73d60e06d1e5e6de1d6b03981e677a73e06ea0a,35,5,8,3,19262,Liron Kuchlani,lkuchlan,"Backup v2 pagination tests

Testing the ability to filter a list of backups by a varied params.
Added tests:
- backups list by name param
- backups list by limit param
- backups list by volume_id param
- backups list by sort param
- backups list by marker param

Change-Id: I4faee23fcc916333ee937ca690b729a9b77949f2
"
openstack%2Ftempest~master~I14830c327427876d9109e379526700fef4dddb3e,openstack/tempest,master,volume_ro,I14830c327427876d9109e379526700fef4dddb3e,Scenario - actions for read-only volume,ABANDONED,2016-08-01 09:49:56.000000000,2018-05-22 04:21:56.000000000,,117,20,4,349437,1fea2fb3f1e08bbeac1f24b1239ac263ea795061,28,8,6,3,19262,Liron Kuchlani,lkuchlan,"Scenario - actions for read-only volume

This test case verifies read and write actions for read-only volume

Change-Id: I14830c327427876d9109e379526700fef4dddb3e
"
openstack%2Ftraining-labs~master~I61a1e08a371b6d484a2aa07d411d9025700aa121,openstack/training-labs,master,auth_uri,I61a1e08a371b6d484a2aa07d411d9025700aa121,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""",MERGED,2018-05-11 01:27:01.000000000,2018-05-22 04:12:57.000000000,2018-05-22 04:07:07.000000000,1,1,0,567705,5e1fc5b51246548128a83c46b1499b891759c376,8,4,1,1,25903,Vu Cong Tuan,tuanvu,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""

According to [1], ""auth_uri"" has been deprecated.
This patch replace it by using ""www_authenticate_uri"" instead.

[1] https://review.openstack.org/#/c/508522

Change-Id: I61a1e08a371b6d484a2aa07d411d9025700aa121
"
openstack%2Ftripleo-quickstart~master~I9aa449a3198568c25d4dbc838669f493b0e3c103,openstack/tripleo-quickstart,master,bug/1771549,I9aa449a3198568c25d4dbc838669f493b0e3c103,Add config-download back into queens CI,MERGED,2018-05-21 17:24:40.000000000,2018-05-22 04:06:07.000000000,2018-05-22 04:06:07.000000000,26,0,2,569830,cf9a0be291611da475e1855b30a76f28ea736b1f,20,6,4,5,14985,Alex Schultz,mwhahaha,"Add config-download back into queens CI

We incorrectly dropped the config download items in
Ic5c5df350a7eb5291d45cf8e229af575fe9bed57 for featuresets that had it
enabled in queens. Since we won't be backporting the default changes in
tripleoclient back to queens we need to add a special case for these
featuresets in queens.

Change-Id: I9aa449a3198568c25d4dbc838669f493b0e3c103
Closes-Bug: #1771549
"
openstack%2Fpython-tripleoclient~master~Iab7ebbe6283039a447d88f9d801486511f5b7b05,openstack/python-tripleoclient,master,warning/upgrade,Iab7ebbe6283039a447d88f9d801486511f5b7b05,Prompt before running undercloud/all-in-one upgrades,MERGED,2018-05-17 22:42:15.000000000,2018-05-22 03:44:28.000000000,2018-05-22 03:44:28.000000000,74,0,0,569288,14c6b8da414f643610bdd084ad68d7d2f6e7d8d0,18,6,4,3,3153,Emilien Macchi,emilienm,"Prompt before running undercloud/all-in-one upgrades

Running upgrades is critical and we want our operators to make backups
before running the process.
This patch adds a prompt that will confirm that the operator is ready to
upgrade the undercloud or all-in-one setup.

It can be ignored when uding -y or --yes arguments like:
  $ openstack tripleo upgrade -y (...)

Change-Id: Iab7ebbe6283039a447d88f9d801486511f5b7b05
"
openstack%2Ffuxi~master~I0bd57c6d1cacf09811326c3325ead75d2addd067,openstack/fuxi,master,package_install,I0bd57c6d1cacf09811326c3325ead75d2addd067,Do not use “-y” for package install,ABANDONED,2017-11-07 04:36:46.000000000,2018-05-22 03:35:17.000000000,,1,1,0,518219,c7faf5b0e204fcbaa5c5301a47559e6e1b0070d3,5,1,2,1,25903,Vu Cong Tuan,tuanvu,"Do not use “-y” for package install

According to ""code conventions"" [1], do not use ""-y"" option.
Instead, use apt-get install package, yum install package,
or zypper install package.

[1] https://docs.openstack.org/doc-contrib-guide/writing-style/
code-conventions.html

Change-Id: I0bd57c6d1cacf09811326c3325ead75d2addd067
"
openstack%2Foctavia~stable%2Fqueens~If6eee4ecfb4c6c607c9ee762cc535cf5d6180d88,openstack/octavia,stable/queens,,If6eee4ecfb4c6c607c9ee762cc535cf5d6180d88,Update auth_uri option to www_authenticate_uri,MERGED,2018-05-15 06:53:10.000000000,2018-05-22 03:15:50.000000000,2018-05-22 03:15:50.000000000,3,3,0,568471,d048948a2d5fa39bee1f7588cb37f3cd887d2003,7,4,1,2,25903,Vu Cong Tuan,tuanvu,"Update auth_uri option to www_authenticate_uri

Option auth_uri from group keystone_authtoken is deprecated in Queens [1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: If6eee4ecfb4c6c607c9ee762cc535cf5d6180d88
(cherry picked from commit cf296c2ade071804fdde7431416f52202a6eb5d9)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ibbf52da0e20d224c3e731a2b8952e1f7543bf984,openstack/tripleo-heat-templates,stable/queens,queens,Ibbf52da0e20d224c3e731a2b8952e1f7543bf984,"DNM, testing queens",ABANDONED,2018-05-21 17:41:28.000000000,2018-05-22 03:01:36.000000000,,4,0,0,569831,ff13956ba6771f1a22be870ac886c8b83526d015,11,4,2,2,9592,wes hayutin,weshayutin,"DNM, testing queens

Depends-On: I9aa449a3198568c25d4dbc838669f493b0e3c103
Change-Id: Ibbf52da0e20d224c3e731a2b8952e1f7543bf984
"
openstack%2Foctavia~master~Iee308471a86c2d4ca5717bcb4dddfe61f1230380,openstack/octavia,master,auth_url,Iee308471a86c2d4ca5717bcb4dddfe61f1230380,"Replace port 35357 with 5000 for ""auth_url""",MERGED,2018-05-21 06:07:48.000000000,2018-05-22 03:01:25.000000000,2018-05-22 00:40:22.000000000,1,1,0,569707,bdd9c6f3e77b41c9278f319b380b8d9c451bb37b,8,3,1,1,25903,Vu Cong Tuan,tuanvu,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: Iee308471a86c2d4ca5717bcb4dddfe61f1230380
"
openstack%2Fec2-api~master~I3242394fd4ebfa7eda390be872372a53b5311a46,openstack/ec2-api,master,auth_uri,I3242394fd4ebfa7eda390be872372a53b5311a46,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""",MERGED,2018-05-11 02:52:14.000000000,2018-05-22 03:00:47.000000000,2018-05-21 19:37:50.000000000,2,2,0,567728,8a3358e2d13074b5bdb2a60028b7e6c440d2f935,22,3,1,2,25903,Vu Cong Tuan,tuanvu,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""

According to [1], ""auth_uri"" has been deprecated.
This patch replace it by using ""www_authenticate_uri"" instead.

[1] https://review.openstack.org/#/c/508522

Change-Id: I3242394fd4ebfa7eda390be872372a53b5311a46
"
openstack%2Fdevstack~master~If1e1537a079e71847d91ae03ed0c18290a467c4e,openstack/devstack,master,bug/1770640,If1e1537a079e71847d91ae03ed0c18290a467c4e,Add dosfstools to files,MERGED,2018-05-14 15:32:40.000000000,2018-05-22 02:56:36.000000000,2018-05-22 02:56:36.000000000,3,0,0,568317,306fca807bbe69d104aeb3a135eceb18d47e7f93,18,6,2,3,6873,Matt Riedemann,mriedem,"Add dosfstools to files

dosfstools provides mkfs.vfat which is needed if n-cpu is
configured with 'config_drive_format=vfat'.

Change-Id: If1e1537a079e71847d91ae03ed0c18290a467c4e
Related-Bug: #1770640
"
openstack%2Fswift~master~I3a576a358c9ab941df684512c78da454ed2cd625,openstack/swift,master,,I3a576a358c9ab941df684512c78da454ed2cd625,Fix probe tests in the gate,MERGED,2018-05-21 22:52:26.000000000,2018-05-22 02:22:09.000000000,2018-05-22 02:22:09.000000000,26,0,0,569882,37dafa03feea67d15547ad52bcec5994b8243dd4,6,2,1,1,15343,Tim Burke,tburke,"Fix probe tests in the gate

Change-Id: I3a576a358c9ab941df684512c78da454ed2cd625
Related-Change: Idcacfb6dbfb0760128f10dbc0573856e4250b3bc
"
openstack%2Fpython-tripleoclient~master~I4402f79b1155630fc7c7f702c58e844d05284246,openstack/python-tripleoclient,master,bug/1751078,I4402f79b1155630fc7c7f702c58e844d05284246,Use i18n for undercloud installer and utils messages,MERGED,2018-05-14 14:20:33.000000000,2018-05-22 01:24:31.000000000,2018-05-22 01:24:30.000000000,231,224,2,568298,4437037fa0b198d1cb931644b3cb61a700f6fbb5,28,7,6,8,6926,Bogdan Dobrelya,bogdando,"Use i18n for undercloud installer and utils messages

Closes-bug: #1751078

Change-Id: I4402f79b1155630fc7c7f702c58e844d05284246
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Foctavia~stable%2Fqueens~I724f5064309d07fe05f86fcf2c7a488d9319e54c,openstack/octavia,stable/queens,ostestr_to_stestr-stable/queens,I724f5064309d07fe05f86fcf2c7a488d9319e54c,Fix kvm-centos.7 gate,MERGED,2018-05-18 23:28:28.000000000,2018-05-22 01:17:27.000000000,2018-05-22 01:17:27.000000000,4,3,0,569537,c747396207277040f5fe4e1737c6abc053111d7b,10,4,1,3,28159,Hang Yang,hangyang,"Fix kvm-centos.7 gate

Somehow it was pulling in barbican-tempest-plugin incorrectly, and
didn't have image size set right for centos.

Also fix the devstack plugin to size the flavor correctly based on the
image size variable.

Change-Id: I724f5064309d07fe05f86fcf2c7a488d9319e54c
(cherry picked from commit 1020a3bceb296610c442ed0d445bba594f27b3de)
"
openstack%2Fneutron~master~I785c20f0df7a281c135e8e3fc8af439e6e481d52,openstack/neutron,master,bp/neutronlib-decouple-db,I785c20f0df7a281c135e8e3fc8af439e6e481d52,use exc_to_retry from lib,MERGED,2018-05-04 17:49:17.000000000,2018-05-22 00:56:12.000000000,2018-05-21 22:29:18.000000000,3,50,0,566373,52dc615b0dfd47df0bc11c1185949a86820246b0,27,10,2,3,5367,boden,boden,"use exc_to_retry from lib

The publicly used APIs from neutron.db.api were rehomed into neutron-lib
with https://review.openstack.org/#/c/557040/

This patch consumes exc_to_retry from neutron-lib by removing it in
neutron and using it from lib.

NeutronLibImpact

Change-Id: I785c20f0df7a281c135e8e3fc8af439e6e481d52
"
openstack%2Ftripleo-quickstart~master~I3af9ad4f43c1c056bd732124eaf4f1f6f194be5b,openstack/tripleo-quickstart,master,tempest-container,I3af9ad4f43c1c056bd732124eaf4f1f6f194be5b,Run tempest containerized,MERGED,2018-04-17 12:04:57.000000000,2018-05-22 00:46:36.000000000,2018-05-22 00:46:35.000000000,52,0,0,561920,1bdf8a68af600bfbe6a2275ee11c7d846cb74f56,172,12,8,6,8367,Arx Cruz,arxcruz,"Run tempest containerized

From master and onwards, we are going to run tempest in containers.
This set the following jobs to run tempest in containers:

* tripleo-ci-centos-7-containers-multinode
* tripleo-ci-centos-7-scenario001-multinode-oooq-container
* tripleo-ci-centos-7-scenario002-multinode-oooq-container
* tripleo-ci-centos-7-scenario003-multinode-oooq-container
* tripleo-ci-centos-7-scenario004-multinode-oooq-container
* tripleo-ci-centos-7-scenario007-multinode-oooq-container

Change-Id: I3af9ad4f43c1c056bd732124eaf4f1f6f194be5b
Depends-On: https://review.openstack.org/#/c/562155/
"
openstack%2Fdiskimage-builder~master~Ie6396efe5102552d5d6e1fe1f30f14f0419a77d6,openstack/diskimage-builder,master,native-zuulv3,Ie6396efe5102552d5d6e1fe1f30f14f0419a77d6,[dnm] testing zuul logs with_items,ABANDONED,2018-05-11 00:05:28.000000000,2018-05-22 00:41:48.000000000,,128,0,0,567703,ab7d9bca1082628b6f4a2afa1efaf4192b879e17,6,3,2,4,7118,Ian Wienand,iwienand,"[dnm] testing zuul logs with_items

Change-Id: Ie6396efe5102552d5d6e1fe1f30f14f0419a77d6
"
openstack%2Fzun-ui~master~I5b29ec7830c57572c2af35abc3fccb18f061d53e,openstack/zun-ui,master,zanata/translations,I5b29ec7830c57572c2af35abc3fccb18f061d53e,Imported Translations from Zanata,MERGED,2018-05-19 06:26:57.000000000,2018-05-22 00:40:35.000000000,2018-05-22 00:40:34.000000000,4,4,0,569560,1cbfca5aba10f8316af24cee956161e58a2b3114,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5b29ec7830c57572c2af35abc3fccb18f061d53e
"
openstack%2Foctavia~master~I5e341915e6e92e5f8279c7c643374ea3d581841b,openstack/octavia,master,,I5e341915e6e92e5f8279c7c643374ea3d581841b,Let healthmanager process shutdown cleanly (again),MERGED,2018-05-15 22:27:32.000000000,2018-05-22 00:40:21.000000000,2018-05-22 00:40:21.000000000,9,3,0,568711,344967a0c172b6d89535d5c71aac583ce0c3e4e0,12,4,3,3,10273,Adam Harwell,rm_you,"Let healthmanager process shutdown cleanly (again)

Change-Id: I5e341915e6e92e5f8279c7c643374ea3d581841b
"
openstack%2Foctavia~master~I1483745963b858463c45db7e85438920f90ca447,openstack/octavia,master,,I1483745963b858463c45db7e85438920f90ca447,Increase devstack neutron secgroups quota to 100,MERGED,2018-05-19 00:01:12.000000000,2018-05-22 00:26:33.000000000,2018-05-22 00:26:33.000000000,4,0,0,569543,6e2668dbffa93e5f1b401555533e7c2692cab05b,8,4,1,1,11628,Michael Johnson,johnsom,"Increase devstack neutron secgroups quota to 100

When running tempest with a high concurrency the service account
will run out of security group quota. This patch increases the
service account security group quota to 100 when using the octavia
devstack plugin.

Change-Id: I1483745963b858463c45db7e85438920f90ca447
"
openstack%2Foctavia~stable%2Fqueens~I54c0170bad28adb26df87024bd16f31827702f1e,openstack/octavia,stable/queens,,I54c0170bad28adb26df87024bd16f31827702f1e,Devstack plugin image build option quoting fix,MERGED,2018-05-18 23:29:42.000000000,2018-05-22 00:22:23.000000000,2018-05-22 00:22:23.000000000,1,1,0,569538,917bebd0db68609cc2de24ab66c926c9fb17efdf,7,3,1,1,28159,Hang Yang,hangyang,"Devstack plugin image build option quoting fix

Options that are unset should not use '' as their default because it
actually puts them literally into the command which will cause it to
skip parsing args after any empty quotes.

Change-Id: I54c0170bad28adb26df87024bd16f31827702f1e
(cherry picked from commit 53dc41d06f41c78f13fcdaef4d9e9a08609d8b34)
"
openstack%2Fdevstack-plugin-ceph~master~I25c1f963665fab1dc77db40a2742dc29a9c1ee0b,openstack/devstack-plugin-ceph,master,remove-non-existent-var,I25c1f963665fab1dc77db40a2742dc29a9c1ee0b,Remove the usage of KEYSTONE_CATALOG_BACKEND,MERGED,2018-05-21 08:34:59.000000000,2018-05-22 00:06:37.000000000,2018-05-22 00:06:37.000000000,1,3,0,569744,6d1ef658c93c54e3e4aa9983c683befc26679118,7,4,1,1,10459,Luigi Toscano,ltoscano,"Remove the usage of KEYSTONE_CATALOG_BACKEND

It was removed from DevStack before the Ocata release, see
https://review.openstack.org/#/c/391380/

The support for the only alternative (templated catalog) was
removed even earlier, before Mitaka:
https://review.openstack.org/#/c/278333/

This means that the entry points for Swift can always be
configured when RadosGW is enabled.

Change-Id: I25c1f963665fab1dc77db40a2742dc29a9c1ee0b
"
openstack%2Foctavia~master~I6615b3ff89d7cef2af52d474aab3a03d947f98be,openstack/octavia,master,,I6615b3ff89d7cef2af52d474aab3a03d947f98be,Create disabled members in haproxy,MERGED,2018-05-11 22:32:36.000000000,2018-05-22 00:06:05.000000000,2018-05-22 00:06:04.000000000,108,20,0,567955,c6ff8596db11761bc1aa5ff5531f04406ea70a25,11,4,2,5,10273,Adam Harwell,rm_you,"Create disabled members in haproxy

Members that were disabled / admin_state_up=False were simply excluded
from the haproxy configuration we pass to the amps. Instead, we should
be creating them in a disabled state, so they return in health messages
as status ""maint"", and can be marked OFFLINE via the standard health
mechanism, instead of just via override hacks.
This also resolves a bug introduced in an earlier change:
https://review.openstack.org/#/c/567322/
which caused admin-downed members to stay in NO_MONITOR always.

Change-Id: I6615b3ff89d7cef2af52d474aab3a03d947f98be
"
openstack%2Fswift~master~I7aa60cd4687e8951d846a14cd4807d4df8cbce7a,openstack/swift,master,,I7aa60cd4687e8951d846a14cd4807d4df8cbce7a,Use sets instead of dicts when we only care about the keys,MERGED,2018-05-21 21:01:39.000000000,2018-05-22 00:05:15.000000000,2018-05-22 00:05:15.000000000,5,6,0,569861,8dc9bc1f7b5719c241937ba2cb23772d6ca1dd09,6,2,1,1,15343,Tim Burke,tburke,"Use sets instead of dicts when we only care about the keys

Change-Id: I7aa60cd4687e8951d846a14cd4807d4df8cbce7a
"
openstack%2Fnetworking-bagpipe~master~I37ac9c227416b2b1dc26528350d188bd2a2a366c,openstack/networking-bagpipe,master,sfc_flowspec_readv,I37ac9c227416b2b1dc26528350d188bd2a2a366c,sfc: update for FlowSpec routes readvertisement,MERGED,2018-02-28 14:18:39.000000000,2018-05-22 00:02:51.000000000,2018-05-22 00:02:51.000000000,50,26,1,548598,be91be91d9747dfe14f046ae73c2bb6abb6a5f13,12,2,2,2,19990,Yannick Thomas,ythomas1,"sfc: update for FlowSpec routes readvertisement

Add FlowSpec routes readvertisement between intermediate hops

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: I37ac9c227416b2b1dc26528350d188bd2a2a366c
"
openstack%2Foslo.versionedobjects~master~I805cb212de6d3d920caae20a44d66eeb8b33187f,openstack/oslo.versionedobjects,master,,I805cb212de6d3d920caae20a44d66eeb8b33187f,Add a secondary iot light bulb example (with remoting),ABANDONED,2016-03-18 18:38:39.000000000,2018-05-21 23:59:18.000000000,,123,0,7,294755,67e2836681e84ff9726e200b1fd2abe3df17e983,14,2,2,2,1297,Joshua Harlow,harlowja,"Add a secondary iot light bulb example (with remoting)

Change-Id: I805cb212de6d3d920caae20a44d66eeb8b33187f
"
openstack%2Fswift~master~I27ca9b59897c5256dd5e2c3d4e26ff9e762b4a81,openstack/swift,master,569773,I27ca9b59897c5256dd5e2c3d4e26ff9e762b4a81,Maintain manage-shard-ranges docs in its module,MERGED,2018-05-21 14:01:26.000000000,2018-05-21 23:41:55.000000000,2018-05-21 23:41:55.000000000,148,141,0,569799,99023ef85562a078d674727899a91ef626b2d88f,9,3,2,2,7847,Alistair Coles,acoles,"Maintain manage-shard-ranges docs in its module

Move the doc for manage-shard-ranges to the manage_shard_ranges.py module
and include it in overview_container_sharding.rst. This makes the doc for
manage-shard-ranges more obvious when viewing the code.

Change-Id: I27ca9b59897c5256dd5e2c3d4e26ff9e762b4a81
"
openstack%2Ftripleo-quickstart-extras~master~Ifd72d902c623b3941a6c714e36b7cf104109a570,openstack/tripleo-quickstart-extras,master,tempest_log,Ifd72d902c623b3941a6c714e36b7cf104109a570,Enable tempest.log in /var/log/tempest for container,MERGED,2018-05-07 08:11:28.000000000,2018-05-21 23:40:15.000000000,2018-05-21 23:40:15.000000000,14,0,1,566526,c570dd05e2da3ee24c115246c4213f20ae8f8f5d,63,8,12,5,12393,chandan kumar,chkumar246,"Enable tempest.log in /var/log/tempest for container

* In CI, when tempest container is used, It is good to dump the
  logs in /var/log/tempest so that it would be easier to verify
  tempest container is used.
* Introduced tempest_log_dir and tempest_log_file var to the
  validate-tempest-playbook

Depends-On: https://review.openstack.org/#/c/566364/

Change-Id: Ifd72d902c623b3941a6c714e36b7cf104109a570
"
openstack%2Foslo.vmware~master~I8567c8c273a3bff41c4b80a77e1fa8af743bf98c,openstack/oslo.vmware,master,certifi,I8567c8c273a3bff41c4b80a77e1fa8af743bf98c,Specify CA store when making secure connections with urllib3,MERGED,2018-05-18 10:28:25.000000000,2018-05-21 23:31:18.000000000,2018-05-21 23:31:18.000000000,7,3,0,569378,984efbdfd2e765ba5a82c7a8c496c0e202b2e96f,11,4,2,2,9172,Radoslav Gerganov,rgerganov,"Specify CA store when making secure connections with urllib3

We have been using FileHandle classes mostly in cases when we have to
establish secure connection and we have an SSL thumbprint of the host we
connect to. However, there are also cases when we don't have a
thumbprint and we need CA store. This patch uses the requests library to
provide such CA store.

Change-Id: I8567c8c273a3bff41c4b80a77e1fa8af743bf98c
"
openstack%2Foctavia-dashboard~master~I68ab95fbd197f9621bdb0f770a6f7d50918b7a91,openstack/octavia-dashboard,master,backup-member,I68ab95fbd197f9621bdb0f770a6f7d50918b7a91,Allow member name to be set and updated,MERGED,2018-04-22 00:59:45.000000000,2018-05-21 22:56:21.000000000,2018-05-21 22:56:21.000000000,95,229,0,563438,965e551e3b3242b2a8c1eadbd4c9b76108e38e05,11,4,2,23,2245,Jacky Hu,hudayou,"Allow member name to be set and updated

Also use correct compare types for l7 rule of file type

Change-Id: I68ab95fbd197f9621bdb0f770a6f7d50918b7a91
"
openstack%2Ftripleo-heat-templates~master~I6f2f98aba103f83a4f64a435077f4de33f9692c0,openstack/tripleo-heat-templates,master,bug/1771543,I6f2f98aba103f83a4f64a435077f4de33f9692c0,Allow custom time constraints to rotate logs,MERGED,2018-05-17 15:43:36.000000000,2018-05-21 22:44:23.000000000,2018-05-21 21:45:19.000000000,38,2,0,569154,62cdc3949f733b726fc1e25708b755e1a21dd9f7,20,9,1,2,6926,Bogdan Dobrelya,bogdando,"Allow custom time constraints to rotate logs

Time based constraints must prevail over size et al
constraints applied for logs of containerized services.
Time based constraints are needed in order to abide
GDPR requirements.

Depending on FS type, Linux may not allow system operators
to access files creation time attribute (see the Birth
attribute shown as '-' by the stat -c %w command).
This is work-arouned by alternative strict time-based rules
defined in the postrotate script, which purges files in
/var/log/containers and ensures GDPR compliant system
configuration, limited to the containerized services logs.

Extended management of life time of journald and /var/log
files residing on bare metal hosts, should be done in
follow up patches.

Partial-bug: #1771543

Change-Id: I6f2f98aba103f83a4f64a435077f4de33f9692c0
Depends-On: Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fswift~master~Ib6aca2375a196d319bd955d5c458c37671f9e68d,openstack/swift,master,,Ib6aca2375a196d319bd955d5c458c37671f9e68d,Pre-storage-policy-index tests shouldn't have shard_range tables,MERGED,2018-05-21 20:36:52.000000000,2018-05-21 22:29:24.000000000,2018-05-21 22:29:24.000000000,32,33,0,569856,9530ab20e3ec7a67c467a66d38e5f375e0831730,6,2,1,1,15343,Tim Burke,tburke,"Pre-storage-policy-index tests shouldn't have shard_range tables

Change-Id: Ib6aca2375a196d319bd955d5c458c37671f9e68d
"
openstack%2Fswift~master~I1e736c8da142adecc2b0b629cfd48afa072d40a0,openstack/swift,master,569773,I1e736c8da142adecc2b0b629cfd48afa072d40a0,Container sharding doc fixes and clarifications,MERGED,2018-05-21 10:37:35.000000000,2018-05-21 22:29:21.000000000,2018-05-21 22:29:21.000000000,107,63,0,569773,4c559fccb7a9af6b12efdcb5986a60f476fdb76d,7,2,2,1,7847,Alistair Coles,acoles,"Container sharding doc fixes and clarifications

Change-Id: I1e736c8da142adecc2b0b629cfd48afa072d40a0
"
openstack%2Fneutron-tempest-plugin~master~Ia519d3bb7eb32b1f986983c9b74ee3621881172f,openstack/neutron-tempest-plugin,master,mtu-config,Ia519d3bb7eb32b1f986983c9b74ee3621881172f,Allow network configuration for mtu tests,MERGED,2018-03-04 09:49:44.000000000,2018-05-21 22:29:13.000000000,2018-05-21 22:29:13.000000000,28,14,69,549522,94970883f655d91df5374d3130e3a868f5610f10,64,12,18,2,20171,Yariv,Yarboa,"Allow network configuration for mtu tests

In NFV baremetal deployments, networks settings may be constrained.
This patch allows to configure on create:
 subnet cidr, for provider networks not managed by neutron
 network type, VLAN/VXLAN/GRE/FLAT
 mtu, network mtu for OVS+DPDK bridge/bond mtu settings.

It accommodate network environment in class NetworkWritableMtuTest.
It also allows to test ovs [through ovs+dpdk] jumbo and mtu.

Change-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f
"
openstack%2Fswift~master~I9e4a22878673bfe406c7dc18d9e6091302f76fb1,openstack/swift,master,,I9e4a22878673bfe406c7dc18d9e6091302f76fb1,Respect auto_create_account_prefix in container PUT path,NEW,2018-05-21 20:47:45.000000000,2018-05-21 22:13:07.000000000,,3,1,0,569860,09d0a588c8f9280ff29f6fc5dc15e999c4db68d8,3,2,1,1,15343,Tim Burke,tburke,"Respect auto_create_account_prefix in container PUT path

Change-Id: I9e4a22878673bfe406c7dc18d9e6091302f76fb1
"
openstack%2Fansible-role-container-registry~master~Ic29d1c10741bf946c1df709d14b9b30dcf7f6c9b,openstack/ansible-role-container-registry,master,validation,Ic29d1c10741bf946c1df709d14b9b30dcf7f6c9b,Add validation for docker registry v2,MERGED,2018-05-14 04:10:13.000000000,2018-05-21 21:45:20.000000000,2018-05-21 21:45:20.000000000,6,0,1,568185,d6c63f1baa57df4d644ec51ce3088f82daf872e6,22,4,4,1,3153,Emilien Macchi,emilienm,"Add validation for docker registry v2

Validate that Registry is actually up and running.
It's useful to fail early if the registry is for some reasons not
started correctly. It avoids to go further in the deployments steps and
loose time before seeing the failures when deploying containers.

Change-Id: Ic29d1c10741bf946c1df709d14b9b30dcf7f6c9b
"
openstack%2Fswift~master~I78462651ac0d1d61812adeeb13a8442ecadbfe47,openstack/swift,master,,I78462651ac0d1d61812adeeb13a8442ecadbfe47,container/backend: Always call transform_func when building listings,NEW,2018-05-21 19:22:35.000000000,2018-05-21 21:23:19.000000000,,2,1,1,569850,b3dab56dd9a17081c143f7ecfe51464cd72befa7,3,2,1,1,15343,Tim Burke,tburke,"container/backend: Always call transform_func when building listings

...and always provide a consistent set of columns

Change-Id: I78462651ac0d1d61812adeeb13a8442ecadbfe47
"
openstack%2Fnova-specs~master~Iccd0c3214354e7c0d73318a3f728ea321ad32afa,openstack/nova-specs,master,bp/add-consumer-generation,Iccd0c3214354e7c0d73318a3f728ea321ad32afa,update add-consumer-generation to focus on API,MERGED,2018-05-01 19:21:02.000000000,2018-05-21 21:07:44.000000000,2018-05-21 21:07:44.000000000,178,35,70,565565,df1e0ba1a474760d5e6259f2b09a5a0cda5bc842,42,7,6,1,7,Jay Pipes,jaypipes,"update add-consumer-generation to focus on API

Updates the add-consumer-generation spec to focus strictly on the
behaviour changes expected in the placement API and removing information
about changing consumers.project_id and consumers.user_id fields to be
NULLable.

Change-Id: Iccd0c3214354e7c0d73318a3f728ea321ad32afa
blueprint: add-consumer-generation
"
openstack%2Ftripleo-ci~master~Iac0f7f5b561129a0c8bcb6773345a04db8c2cc80,openstack/tripleo-ci,master,,Iac0f7f5b561129a0c8bcb6773345a04db8c2cc80,DNM: testing only on branches,ABANDONED,2018-05-21 20:34:19.000000000,2018-05-21 20:38:25.000000000,,6,2,0,569855,be0b6676c5be78caaf1bcf49bfe93d901de507d3,3,1,1,1,9592,wes hayutin,weshayutin,"DNM: testing only on branches

Change-Id: Iac0f7f5b561129a0c8bcb6773345a04db8c2cc80
"
openstack%2Fswift~master~I34bf8017b5740203ee0b9f253e24f1869164f7c6,openstack/swift,master,567933,I34bf8017b5740203ee0b9f253e24f1869164f7c6,Use assertRaises more,MERGED,2018-05-11 20:00:03.000000000,2018-05-21 20:23:43.000000000,2018-05-21 20:23:43.000000000,56,90,0,567933,83732a68135263c37210292d22999c6abd8df9c8,11,4,2,1,15343,Tim Burke,tburke,"Use assertRaises more

It saves us some boilerplate *and* makes tighter assertions about
the type of error.

Change-Id: I34bf8017b5740203ee0b9f253e24f1869164f7c6
"
openstack%2Fnova~stable%2Fqueens~I0bd63b655ad3d3d39af8d15c781ce0a45efc8e3a,openstack/nova,stable/queens,bug/1756179,I0bd63b655ad3d3d39af8d15c781ce0a45efc8e3a,Block deleting compute services which are hosting instances,MERGED,2018-04-20 18:57:08.000000000,2018-05-21 20:23:40.000000000,2018-05-21 20:23:40.000000000,53,8,0,563234,a817b78dc44cf2cb4157531b2d92b03a4d0ca7d1,30,9,1,4,6873,Matt Riedemann,mriedem,"Block deleting compute services which are hosting instances

This change makes ""DELETE /os-services/{service_id}"" fail
with a 409 response when attempting to delete a nova-compute
service which is still hosting instances.

Deleting a compute service also results in deleting the
related compute_nodes table entry for that service host.
The compute node resource provider in placement is tied
to the compute node via the UUID, and if we allow deleting
the compute service and node then the resource provider for
that node is effectively orphaned in Placement, along with
the instances which have allocations against that resource
provider.

Furthermore, restarting the compute service will create a
new service and compute_nodes record, and the compute node
would have a new UUID and resource provider. This will
affect scheduling for that host since Placement will be
reporting it as having available capacity which in reality
is not accurate.

A release note is included for the (justified) behavior
change in the API. A new microversion should not be required
for this since admins should not have to opt out of broken
behavior. Since this API did not previously expect to return
a 409 response, the ""expected_errors"" decorator is updated
and again, should not require a microversion per the
guidelines:

https://docs.openstack.org/nova/latest/contributor/microversions.html#when-a-microversion-is-not-needed

Conflicts:
      nova/tests/functional/wsgi/test_services.py

NOTE(mriedem): This is due to the rc_fields move from
change Iea182341f9419cb514a044f76864d6bec60a3683 in Rocky.

Change-Id: I0bd63b655ad3d3d39af8d15c781ce0a45efc8e3a
Closes-Bug: #1763183
(cherry picked from commit 42f62f1ed2ad76829eb9d40a8b9646a523f6381f)
"
openstack%2Fswift~master~Iec3f8ec29950220bb1b2ead9abfdfb1a261517d6,openstack/swift,master,,Iec3f8ec29950220bb1b2ead9abfdfb1a261517d6,Use correct policy when faking misplaced objects in probe test,MERGED,2018-05-21 07:38:52.000000000,2018-05-21 20:23:36.000000000,2018-05-21 20:23:36.000000000,2,1,0,569737,c35285f14b275b22bdea27fea1643f962bfa1a1f,6,2,1,1,7847,Alistair Coles,acoles,"Use correct policy when faking misplaced objects in probe test

Before, merge_objects() always used storage policy index of 0 when
inserting a fake misplaced object into a shard container. If the shard
broker had a different policy index then the misplaced object would
not show in listings causing test_misplaced_object_movement() to
fail. This test bug might be exposed by having policy index 0 be an EC
policy, since the probe test requires a replication policy and would
therefore choose a non-zero policy index.

The fix is simply to specify the shard's policy index when inserting
the fake object.

Change-Id: Iec3f8ec29950220bb1b2ead9abfdfb1a261517d6
"
openstack%2Fswift~master~I7b7b2b3f637333e43b139d9b7ef7d22e249c2175,openstack/swift,master,rev5,I7b7b2b3f637333e43b139d9b7ef7d22e249c2175,Fix-up signal handling,NEW,2018-05-21 18:21:25.000000000,2018-05-21 20:19:42.000000000,,3,3,4,569837,fb1c9decd7b24b715f387b3901a461d1d66c39c5,6,4,1,1,15343,Tim Burke,tburke,"Fix-up signal handling

- Only allow SIGHUP to be handled once.
- Have SIGTERM perform the os.killpg() inside the signal handler to
  avoid a race condition where a SIGTERM followed quickly by a SIGHUP
  would never kill the child processes.

Change-Id: I7b7b2b3f637333e43b139d9b7ef7d22e249c2175
"
openstack%2Ftripleo-common~master~Ib98e06531d414f62498fd7c1130899f74a066957,openstack/tripleo-common,master,bug/1771705,Ib98e06531d414f62498fd7c1130899f74a066957,Fix redis healthcheck,MERGED,2018-05-17 00:09:57.000000000,2018-05-21 20:12:37.000000000,2018-05-20 00:41:11.000000000,2,2,1,568986,c10d3096784b3dd7a27e30337ffc8f0647744303,20,6,2,1,14985,Alex Schultz,mwhahaha,"Fix redis healthcheck

nc is not installed in the containers by default, but socat is available
so lets use that instead.

Change-Id: Ib98e06531d414f62498fd7c1130899f74a066957
Closes-Bug: #1771705
"
openstack%2Fswift~master~I08c659b80d5b9982eb37205cb09b6ade19e00306,openstack/swift,master,rev5,I08c659b80d5b9982eb37205cb09b6ade19e00306,Handle SIGINT more like we do SIGHUP and SIGTERM,NEW,2018-05-21 18:21:25.000000000,2018-05-21 20:11:21.000000000,,20,20,4,569838,6b3ea46e9f28e398b8b83d66ca79b85ab99d9a62,5,3,1,1,15343,Tim Burke,tburke,"Handle SIGINT more like we do SIGHUP and SIGTERM

Saves us a try/except block, we've already got the signal handler -- may
as well use it!

Slight downside of changing the logging from ""User quit"" at NOTICE to
""SIGINT received"" at error, though. *shrug*

Change-Id: I08c659b80d5b9982eb37205cb09b6ade19e00306
"
openstack%2Fcinder~master~I4a8d795a4c46c3159cdd8508e0c5e5c921365ceb,openstack/cinder,master,fix_snapshot_status,I4a8d795a4c46c3159cdd8508e0c5e5c921365ceb,Fix wrong usage of fields.BackupStatus.AVAILABLE,MERGED,2018-05-18 03:19:28.000000000,2018-05-21 20:04:25.000000000,2018-05-21 20:04:25.000000000,3,2,0,569313,9b3f2f136f6ecc9f341e304f824d73260c1fdde9,38,27,1,1,23081,Jeremy Zhang,jeremy.zhang,"Fix wrong usage of fields.BackupStatus.AVAILABLE

This patch is to fix the wrong usage of fields.BackupStatus.AVAILABLE in
cinder\backup\manager.py, changed to use fields.SnapshotStatus.AVAILABLE.

Change-Id: I4a8d795a4c46c3159cdd8508e0c5e5c921365ceb
"
openstack%2Fdevstack~master~I07f34dbc09b6108ba8f5b2a83a28c75eb42be495,openstack/devstack,master,bug/1753443,I07f34dbc09b6108ba8f5b2a83a28c75eb42be495,Configure nova to auto-calculate compute RPC upgrade levels,MERGED,2018-03-06 15:09:10.000000000,2018-05-21 20:00:37.000000000,2018-05-21 20:00:37.000000000,2,0,0,550108,21221d1ad1462cdcaed4d052c3324ae384b407d4,20,7,3,1,6873,Matt Riedemann,mriedem,"Configure nova to auto-calculate compute RPC upgrade levels

The openstack-ansible team found a regression in Queens when setting
the compute RPC upgrade_levels to 'auto' on a fresh install before any
computes had started up. The dependent change fixes the issue in nova
but for future proofing against this sort of issue again, we can set
the compute RPC upgrade levels in devstack to 'auto' for fresh installs
as well. Note that grenade already sets 'auto' for compute upgrade
levels, which is why we didn't catch this in grenade testing with the
compute RPC 5.0 version bump that caused the issue.

Depends-On: https://review.openstack.org/549737/

Change-Id: I07f34dbc09b6108ba8f5b2a83a28c75eb42be495
Related-Bug: #1753443
"
openstack%2Fdevstack~master~Ib2e6c96409c98877f6a43b76f176c1420d2d415e,openstack/devstack,master,exact-filters,Ib2e6c96409c98877f6a43b76f176c1420d2d415e,Remove IRONIC_USE_RESOURCE_CLASSES check,MERGED,2018-05-02 15:46:07.000000000,2018-05-21 19:55:14.000000000,2018-05-21 19:55:14.000000000,0,8,0,565810,59e6ff10ce65509beefb3fdee7aa0c8ca966a8a9,12,6,1,1,6873,Matt Riedemann,mriedem,"Remove IRONIC_USE_RESOURCE_CLASSES check

Nova has dropped support for non-resource class
baremetal scheduling, so the IRONIC_USE_RESOURCE_CLASSES
flag is no longer useful and has been removed.

Depends-On: https://review.openstack.org/565805/
Change-Id: Ib2e6c96409c98877f6a43b76f176c1420d2d415e
"
openstack%2Fnetworking-bagpipe~master~Id3363068e2882dae63b835c178bf4770297a85b7,openstack/networking-bagpipe,master,fix_bgpvpn_ovo_test,Id3363068e2882dae63b835c178bf4770297a85b7,fix BGPVPN OVO unit test,MERGED,2018-05-21 16:49:20.000000000,2018-05-21 19:30:48.000000000,2018-05-21 19:30:48.000000000,1,1,0,569825,d9ea5cf9dd01fe85eea3d8f501aec974231b7322,6,2,1,1,12021,Thomas Morin,tmorin,"fix BGPVPN OVO unit test

The 'routes' field should not exist. This bug
was silent until now, but came to the light
after neutron change I42cdf540129bd4470ec1a59345db9845a6198328 .

Related-Change: I42cdf540129bd4470ec1a59345db9845a6198328

Change-Id: Id3363068e2882dae63b835c178bf4770297a85b7
"
openstack%2Fneutron-lib~master~I98e3281580950e32db93f9a9feef82c7f5d550f7,openstack/neutron-lib,master,,I98e3281580950e32db93f9a9feef82c7f5d550f7,Trivial: update url to new url,ABANDONED,2018-05-13 13:59:26.000000000,2018-05-21 19:22:39.000000000,,1,1,0,568094,1776c261309636c3e5504d50c5129409c94cb5ba,4,2,1,1,27336,XiaojueGuan,XiaojueGuan,"Trivial: update url to new url

Change-Id: I98e3281580950e32db93f9a9feef82c7f5d550f7
"
openstack%2Fopenstack-helm-infra~master~I5e59a5a5c491b4416ba4505205910d6c6babbff8,openstack/openstack-helm-infra,master,elasticsearch_dashboard,I5e59a5a5c491b4416ba4505205910d6c6babbff8,Grafana: Add Elasticsearch dashboard,MERGED,2018-05-18 20:47:39.000000000,2018-05-21 19:17:41.000000000,2018-05-21 19:17:41.000000000,2613,0,0,569519,b07f58379f069881e587317bc63cc1e4eef9d18c,7,3,1,1,17591,Steve Wilkerson,srwilkers,"Grafana: Add Elasticsearch dashboard

This adds a grafana dashboard for Elasticsearch, providing insight
into the overall cluster health

Change-Id: I5e59a5a5c491b4416ba4505205910d6c6babbff8
"
openstack%2Fneutron~master~If533f3c6657f05bd10f0b9b2335b0cb10c2f3df5,openstack/neutron,master,neutron-tempest-plugin-test,If533f3c6657f05bd10f0b9b2335b0cb10c2f3df5,DNM: testing neutron-tempest-plugin change,ABANDONED,2018-04-26 18:45:31.000000000,2018-05-21 19:11:46.000000000,,1,0,0,564582,8bd6edcc3eba77e598e9215af0112d3e0cca9550,8,5,1,1,1131,Brian Haley,brian-haley,"DNM: testing neutron-tempest-plugin change

Change-Id: If533f3c6657f05bd10f0b9b2335b0cb10c2f3df5
Depends-on: https://review.openstack.org/564581
"
openstack%2Fswift~feature%2Fdeep-review~I7b7b2b3f637333e43b139d9b7ef7d22e249c2175,openstack/swift,feature/deep-review,rev5,I7b7b2b3f637333e43b139d9b7ef7d22e249c2175,SQUASH: fix-up signal handling,ABANDONED,2018-05-11 20:19:24.000000000,2018-05-21 18:52:04.000000000,,3,3,0,567938,2a2eb9787d9b63a6f60b20edfd9444fbcec312d4,3,1,1,1,15343,Tim Burke,tburke,"SQUASH: fix-up signal handling

- Only allow SIGHUP to be handled once.
- Have SIGTERM perform the os.killpg() inside the signal handler to
  avoid a race condition where a SIGTERM followed quickly by a SIGHUP
  would never kill the child processes.

Change-Id: I7b7b2b3f637333e43b139d9b7ef7d22e249c2175
"
openstack%2Fswift~feature%2Fdeep-review~I08c659b80d5b9982eb37205cb09b6ade19e00306,openstack/swift,feature/deep-review,rev5,I08c659b80d5b9982eb37205cb09b6ade19e00306,SQUASH: Handle SIGINT more like we do SIGHUP and SIGTERM,ABANDONED,2018-05-11 20:19:24.000000000,2018-05-21 18:51:14.000000000,,20,20,0,567939,08813e61ececbdf1be3f4e450c411a757def77f9,4,2,1,1,15343,Tim Burke,tburke,"SQUASH: Handle SIGINT more like we do SIGHUP and SIGTERM

Saves us a try/except block, we've already got the signal handler -- may
as well use it!

Slight downside of changing the logging from ""User quit"" at NOTICE to
""SIGINT received"" at error, though. *shrug*

Change-Id: I08c659b80d5b9982eb37205cb09b6ade19e00306
"
openstack%2Fosc-lib~master~Ic1e21320c471a9cc07cefe51dba01f27f507bcb4,openstack/osc-lib,master,api-stuff,Ic1e21320c471a9cc07cefe51dba01f27f507bcb4,Add more API support,MERGED,2017-04-18 15:51:52.000000000,2018-05-21 18:49:09.000000000,2017-04-19 14:39:01.000000000,41,8,0,457703,5f2ef3125435f10f01fc6a683e1edc75aa4e2d81,7,2,1,2,970,Dean Troyer,dtroyer,"Add more API support

Support the OSC API changes:
* Pass headers through properly
* Add some common methods and exceptions

Change-Id: Ic1e21320c471a9cc07cefe51dba01f27f507bcb4
"
openstack%2Fopenstack-helm-infra~master~I71bc9f42aebc268ad2383a5a36a3405fc47c6c9e,openstack/openstack-helm-infra,master,,I71bc9f42aebc268ad2383a5a36a3405fc47c6c9e,"Prometheus alerts, nagios defn - rabbitmq,mariadb,ES",MERGED,2018-04-24 21:36:34.000000000,2018-05-21 18:40:53.000000000,2018-05-21 18:40:53.000000000,285,0,0,564069,52c980b10cdc14c49883576965a79376c0f21253,21,4,7,2,18503,Rakesh Patnaik,rp196m,"Prometheus alerts, nagios defn - rabbitmq,mariadb,ES

Change-Id: I71bc9f42aebc268ad2383a5a36a3405fc47c6c9e
"
openstack%2Fopenstack-helm-infra~master~I782f54b5ad8159e7a4375d336a42524f380e65d2,openstack/openstack-helm-infra,master,nagios_alerts_ceph,I782f54b5ad8159e7a4375d336a42524f380e65d2,Nagios notificiation on alerts and ceph monitoring,MERGED,2018-04-24 14:34:16.000000000,2018-05-21 18:33:34.000000000,2018-05-21 18:33:34.000000000,173,92,0,563987,69cd66b7c9cfb7965b86cfe13fa4b6e249223f26,21,5,7,3,18503,Rakesh Patnaik,rp196m,"Nagios notificiation on alerts and ceph monitoring

Change-Id: I782f54b5ad8159e7a4375d336a42524f380e65d2
"
openstack%2Frequirements~master~I643c7632a02c87820c9c51f03fa34f0764384783,openstack/requirements,master,bug/1771479,I643c7632a02c87820c9c51f03fa34f0764384783,Allow Pygments in openstack/requirements,MERGED,2018-05-16 02:55:39.000000000,2018-05-21 18:15:40.000000000,2018-05-21 18:15:40.000000000,2,2,0,568729,aee6e953804da859ecf55e16c6a6cf5ac7571e6b,31,7,7,4,25254,Nguyen Van Trung,trungnv,"Allow Pygments in openstack/requirements

Projects that want to enable a comprehensive doc8 check of code,
including D000, need Pygmnets to be installable.  It's an option library
used by docutils so we need to track it here.

While this isn't really a linter, neither is it really required at
runtime for the projects using it so it's added to the blacklist

Is the library actively maintained?
Yes - https://bitbucket.org/birkenfeld/pygments-main

Is the library good code?
Yes - It is the defacto syntax highlighting code in Python

Is the library python 3 compatible?
Yes

Is the library license compatible?
Yes - BSD

Is the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?
Yes

Is the function of this library already covered by other libraries in global-requirements.txt?
No

Is the library required for OpenStack project or related dev or infrastructure setup? (Answer to this should be Yes, of course) Which?
Yes - for doc8 checking where there is code snippets.
It is also a transient dependancy of sphinx - https://github.com/sphinx-doc/sphinx/blob/master/setup.py#L21

Change-Id: I643c7632a02c87820c9c51f03fa34f0764384783
Close-bug: #1771479
"
openstack%2Fcharm-swift-storage~master~Ib978709943c4aec8f7d405c0b71e1c4d81f3764c,openstack/charm-swift-storage,master,bug/1768666,Ib978709943c4aec8f7d405c0b71e1c4d81f3764c,Add nofail to fstab options for loop dev,MERGED,2018-05-21 16:43:45.000000000,2018-05-21 18:08:52.000000000,2018-05-21 18:08:51.000000000,3,3,0,569824,0598fd20fb0bfe11ad77baaff3e04e9d0712ea90,8,4,1,2,22799,Andrew McLeod,admcleod,"Add nofail to fstab options for loop dev

Some machines will not boot if nofail is excluded

Change-Id: Ib978709943c4aec8f7d405c0b71e1c4d81f3764c
Closes-Bug: 1768666
"
openstack%2Ftripleo-ha-utils~master~Ibc1c62e498c2fc9b84d88e245df080cf8c9471cc,openstack/tripleo-ha-utils,master,replace_any_redhat_and_quickstart_reference,Ibc1c62e498c2fc9b84d88e245df080cf8c9471cc,Replace any redhat/quickstart previous reference,MERGED,2018-05-21 17:00:00.000000000,2018-05-21 17:55:05.000000000,2018-05-21 17:55:05.000000000,19,19,0,569826,3367205138ab75d9cc676d4560cbfd2af8726ea7,7,3,1,4,20936,Raoul Scarazzini,rasca,"Replace any redhat/quickstart previous reference

Since we are now on the new repository, we want to use it as a reference
instead of the original one, ""redhat-openstack/tripleo-quickstart-utils"":
this commit replaces any reference with ""openstack/tripleo-ha-utils"".

Change-Id: Ibc1c62e498c2fc9b84d88e245df080cf8c9471cc
"
openstack%2Fopenstack-helm-infra~master~I85753ddd514d1a0196918e904c930fabdc8f2f80,openstack/openstack-helm-infra,master,update-policy,I85753ddd514d1a0196918e904c930fabdc8f2f80,WIP: Add kube-system user,ABANDONED,2018-05-21 15:52:08.000000000,2018-05-21 17:43:06.000000000,,28,3,0,569816,ba30ee296761d42434d2cfab3a8c407fce10e076,4,0,3,2,20466,Tin Lam,tinlam,"WIP: Add kube-system user

Change-Id: I85753ddd514d1a0196918e904c930fabdc8f2f80
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Ftripleo-ui~stable%2Fqueens~I229c040cb70df89088ee439cba6befab65f30651,openstack/tripleo-ui,stable/queens,zanata/translations,I229c040cb70df89088ee439cba6befab65f30651,Imported Translations from Zanata,MERGED,2018-05-13 06:16:19.000000000,2018-05-21 17:41:19.000000000,2018-05-21 17:41:19.000000000,4,4,0,568037,6873bd50c0af8664bc15cd6dd641ff089aa1f9f9,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I229c040cb70df89088ee439cba6befab65f30651
"
openstack%2Ftripleo-ui~master~Ie6d9177a6a7ea889dd8b9c4d1597793a2c2273da,openstack/tripleo-ui,master,zanata/translations,Ie6d9177a6a7ea889dd8b9c4d1597793a2c2273da,Imported Translations from Zanata,MERGED,2018-05-13 06:18:33.000000000,2018-05-21 17:41:18.000000000,2018-05-21 17:41:18.000000000,108,52,0,568038,92945b4e90776b92c980f16a13212817cdc2b797,12,5,2,8,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie6d9177a6a7ea889dd8b9c4d1597793a2c2273da
"
openstack%2Fpuppet-tripleo~master~I9e2a475e4582deec383b92f368e9a834122f65bb,openstack/puppet-tripleo,master,deprec,I9e2a475e4582deec383b92f368e9a834122f65bb,Deprecate tripleo::profile::base::docker(_registry),MERGED,2018-05-07 05:40:42.000000000,2018-05-21 17:41:17.000000000,2018-05-21 17:41:17.000000000,7,0,0,566507,767cd520bd2c7976de4a620638063feb91e52a9c,37,6,7,2,3153,Emilien Macchi,emilienm,"Deprecate tripleo::profile::base::docker(_registry)

These profiles are replaced by https://github.com/openstack/ansible-role-container-registry,
so we deprecate it now and will remove the code in the future.

Depends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334
Change-Id: I9e2a475e4582deec383b92f368e9a834122f65bb
"
openstack%2Ftripleo-quickstart-extras~master~I1e34b8974ff98219f666e8864189c496ae8d0be6,openstack/tripleo-quickstart-extras,master,,I1e34b8974ff98219f666e8864189c496ae8d0be6,Fix idents in setting undercloud hostname,MERGED,2018-05-21 11:24:10.000000000,2018-05-21 17:41:16.000000000,2018-05-21 17:41:16.000000000,2,2,0,569779,d2382d920e16d135759a746f7b0c2e74e69b685e,10,7,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Fix idents in setting undercloud hostname

Because of wrong idents setting undercloud hostname in script
doesn't work. Fix idents in ansible task.

Change-Id: I1e34b8974ff98219f666e8864189c496ae8d0be6
"
openstack%2Ftripleo-ui~master~I0262cfebfdf43e1f6d2282ae78b174a49492ab6b,openstack/tripleo-ui,master,bp/config-download-ui,I0262cfebfdf43e1f6d2282ae78b174a49492ab6b,Chain ansible messages in deployment progress,MERGED,2018-04-27 11:12:07.000000000,2018-05-21 17:35:10.000000000,2018-05-21 17:35:10.000000000,93,16,2,564733,1cf8ea141efe49c168fdbca062fc37f1d1772311,32,6,10,9,7509,Jiri Tomasek,jtomasek,"Chain ansible messages in deployment progress

This change stores incoming config-deploy ansible messages in a List
Rendering of ansible messages is moved into separate component which
automatically scrolls to the bottom of the messages output

Implements: blueprint config-download-ui
Change-Id: I0262cfebfdf43e1f6d2282ae78b174a49492ab6b
"
openstack%2Ftripleo-heat-templates~master~I17d6f6b7710a398f207009f4115fcc9cd38952bf,openstack/tripleo-heat-templates,master,tripleo-ui-nova,I17d6f6b7710a398f207009f4115fcc9cd38952bf,[tripleo-ui] Explicitly configure Nova CORS,MERGED,2018-04-19 16:59:16.000000000,2018-05-21 17:35:08.000000000,2018-05-21 17:35:08.000000000,18,0,1,562751,064d5d50c086e1e8f1bbe3092d33c858bc31e8f7,11,5,2,2,20970,Honza Pokorny,hpokorny,"[tripleo-ui] Explicitly configure Nova CORS

Change-Id: I17d6f6b7710a398f207009f4115fcc9cd38952bf
"
openstack%2Fopenstack-helm-infra~master~I2c23c6fc9d0a00236cd38c63d29207e04a368f5f,openstack/openstack-helm-infra,master,add_prometheus_dashboard,I2c23c6fc9d0a00236cd38c63d29207e04a368f5f,Grafana: Add Prometheus dashboard,MERGED,2018-05-18 20:26:07.000000000,2018-05-21 17:33:29.000000000,2018-05-21 17:33:29.000000000,2791,0,0,569516,9c90f7d2a9e2caf4d74b0bf2e82672ae1abcaa03,7,3,1,1,17591,Steve Wilkerson,srwilkers,"Grafana: Add Prometheus dashboard

This adds a dashboard for displaying prometheus specific metrics,
providing insight into the performance of prometheus as well as
metrics related to time series, rule evaluations, scrape delays,
and query latency

Change-Id: I2c23c6fc9d0a00236cd38c63d29207e04a368f5f
"
openstack%2Fopenstack-specs~master~I643a2e668599ae77eb615d1b292a59e5066dcbb5,openstack/openstack-specs,master,523973,I643a2e668599ae77eb615d1b292a59e5066dcbb5,Define a set of basic default roles,ABANDONED,2017-11-29 19:44:35.000000000,2018-05-21 17:28:43.000000000,,295,0,173,523973,0d6658ca8752e51b8d54b8464166c149c8588938,98,20,18,1,5046,Lance Bragstad,ldbragst,"Define a set of basic default roles

With the recent work to keystone and oslo.policy, we should be able to
offer tooling to project development teams so they can start evolving
their policies. Before we start changing things, we should come to
consensus on a set of defaults we should offer out of the box.

Moving towards a set of known defaults will make maintenance for
operators much easier. It will also build the foundation for a more
robust RBAC system that is better at modeling complex
organization, ultimately being more useful in the real-world.

Co-authored-By: Lance Bragstad <lbagstad@gmail.com>
Co-Authored-By: Jamie Lennox <jamielennox@gmail.com>

Change-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5
"
openstack%2Fpatrole~master~I76c4a9b8737bf94f230ab141def652b054120f3b,openstack/patrole,master,policy-feature-flags,I76c4a9b8737bf94f230ab141def652b054120f3b,Make patrole-member job run for queens and pike branches,MERGED,2018-02-25 18:35:40.000000000,2018-05-21 17:10:35.000000000,2018-05-21 17:10:35.000000000,28,0,2,547851,4c3ae9bd25022a423320b4df25fbf54ce8173459,35,5,9,2,23186,Felipe Monteiro,felipe.monteiro,"Make patrole-member job run for queens and pike branches

This makes patrole-member job run for queens and pike branches.
Arguably it is also important to do this for admin role, but
for now we will verify stability with Member role before extending
to admin role.

Change-Id: I76c4a9b8737bf94f230ab141def652b054120f3b
"
openstack%2Fpatrole~master~Ia0d9847908a8e723446c16465d68cd7f622c04cc,openstack/patrole,master,policy-feature-flags,Ia0d9847908a8e723446c16465d68cd7f622c04cc,feature flag: Policy feature enabled config group,MERGED,2018-03-25 04:34:35.000000000,2018-05-21 17:10:34.000000000,2018-05-21 17:10:34.000000000,167,16,13,556136,739041fb9c0018326baa55098e6d1a381e08c87c,47,5,14,8,23186,Felipe Monteiro,felipe.monteiro,"feature flag: Policy feature enabled config group

A new configuration group ``[policy_feature_enabled]`` has been added to
Patrole which will be responsible for collecting the feature flags to be
used for newly introduced policies or policies that were changed in a
backwards-incompatible way.

    * create_port_fixed_ips_ip_address_policy (Neutron)
    * update_port_fixed_ips_ip_address_policy (Neutron)
    * limits_extension_used_limits_policy (Cinder)
    * volume_extension_volume_actions_attach_policy (Cinder)
    * volume_extension_volume_actions_reserve_policy (Cinder)
    * volume_extension_volume_actions_unreserve_policy (Cinder)

These feature flags will be supported until Pike release cycle
is EOL.

The motivation behind these feature flags is [0] which adds
Pike/Queens gating to Patrole. However, in Queens, Neutron
and Cinder renamed or removed a few policies in a backwards-
incompatible way. These policies can be reviewed here: [1].

This PS requires another PS [2] in devstack's lib/tempest
because Patrole, being a branchless project and hosting the
Patrole devstack plugin itself, must fall back to Tempest's
devstack script to list out the backwards-incompatible
policies in Pike.

A documentation update will also come in a follow up with
information on these feature flags.

[0] I76c4a9b8737bf94f230ab141def652b054120f3b
[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229
[2] I00bdeff9474c54d38b6d6844a041b305bec01ad8

Change-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc
"
openstack%2Fpuppet-tripleo~master~Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e,openstack/puppet-tripleo,master,bug/1771543,Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e,Force GDPR compliance of containers logs,MERGED,2018-05-17 14:59:18.000000000,2018-05-21 15:39:55.000000000,2018-05-21 15:39:55.000000000,79,18,2,569139,e13654504adb93f7313942b4d839577d3ccd072d,27,7,5,3,6926,Bogdan Dobrelya,bogdando,"Force GDPR compliance of containers logs

After purge_after_days, defaults to a 14, forcibly remove
any rotated and compressed logs of containerized services
in /var/log/containers. This overrides any related
containerized logrotate configuration used for
containerized services.

Allow to alter rotation interval for log files managed
via containerized logrotate. Defaults to 'daily'
and rotate 14 (days).

Use sharedscripts to clean up files in the postrotate
script only once.

Additionally, to enforce GDPR compliance of log files
in /var/log/containers, put them under logrotate management
(minsize 1) and always compress. Prohibit the size option
as it does not honor time-based contstraints required by
GDPR. Forcibly remove all files but those rotated and
compressed logs, via the postscript section.

Partial-bug: #1771543

Change-Id: Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fkolla-ansible~master~If4be4e787b7e899bd0d265cf22f3df3dd3f18f43,openstack/kolla-ansible,master,deprecated_options,If4be4e787b7e899bd0d265cf22f3df3dd3f18f43,Update the deprecated vnc options,MERGED,2018-05-16 02:31:01.000000000,2018-05-21 15:32:53.000000000,2018-05-21 15:32:53.000000000,2,2,0,568724,1da05bd5bee0f42cb047079e189381c9859e0c47,10,6,1,1,19779,Chason Chan,chenxing,"Update the deprecated vnc options

- Option ""vncserver_listen"" from group ""vnc"" is deprecated.
  Use option ""server_listen"" from group ""vnc"".
- Option ""vncserver_proxyclient_address"" from group ""vnc"" is deprecated.
  Use option ""server_proxyclient_address"" from group ""vnc"".

Change-Id: If4be4e787b7e899bd0d265cf22f3df3dd3f18f43
"
openstack%2Fkolla-ansible~master~I6d1e6d7dc21eaf6051c89b467cd6d886d8e3c469,openstack/kolla-ansible,master,bugfix/fix-keyring-permission,I6d1e6d7dc21eaf6051c89b467cd6d886d8e3c469,Fix the permissions of mgr and mds keyring,MERGED,2018-05-15 01:14:16.000000000,2018-05-21 15:32:29.000000000,2018-05-21 15:32:29.000000000,4,0,0,568401,5da1cb0b5ef2dff696899878877c62663f67137d,10,6,1,2,24250,wangwei,Dream_x,"Fix the permissions of mgr and mds keyring

Change-Id: I6d1e6d7dc21eaf6051c89b467cd6d886d8e3c469
"
openstack%2Fzun~master~Ifd39948fec7e94b6e78298b3a6ccbed947f7ce61,openstack/zun,master,bp/rework-security-group-api,Ifd39948fec7e94b6e78298b3a6ccbed947f7ce61,Remove APIs for managing security groups,MERGED,2018-05-06 19:04:34.000000000,2018-05-21 15:21:52.000000000,2018-05-21 15:21:52.000000000,12,3,3,566472,b4c866bab18c1b8bd050a98e1626266c0ed48836,13,6,2,4,11536,hongbin,hongbin,"Remove APIs for managing security groups

These APIs are proxy to Neutron API calls. Users can achieve the
equivalent functionality by directly calling the Neutron APIs.
In particular, these APIs are removed after microversion 1.15
* POST /containers/<ident>/add_security_group
* POST /containers/<ident>/remove_security_group

Change-Id: Ifd39948fec7e94b6e78298b3a6ccbed947f7ce61
Implements: blueprint rework-security-group-api
"
openstack%2Fkolla-ansible~master~I47b329bb3e16aa33a5e0a156aca515a666cd98e4,openstack/kolla-ansible,master,,I47b329bb3e16aa33a5e0a156aca515a666cd98e4,Optimise the tag for common role,MERGED,2018-05-18 10:04:52.000000000,2018-05-21 15:20:51.000000000,2018-05-21 15:20:51.000000000,9,6,1,569372,3d63ae6bda48e112738e0eebeac0ef4e5455a170,13,5,2,1,21691,weizj,ZhijunWei,"Optimise the tag for common role

Change-Id: I47b329bb3e16aa33a5e0a156aca515a666cd98e4
"
openstack%2Fneutron-fwaas-dashboard~master~Iba8be7cbee1315ff8fe979eaccf2cbbfb46d7960,openstack/neutron-fwaas-dashboard,master,zanata/translations,Iba8be7cbee1315ff8fe979eaccf2cbbfb46d7960,Imported Translations from Zanata,MERGED,2018-05-11 07:05:48.000000000,2018-05-21 15:05:14.000000000,2018-05-21 15:05:13.000000000,198,6,0,567784,3a6a7bdee8a235444e2b1a685d25d3acad90bafc,6,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iba8be7cbee1315ff8fe979eaccf2cbbfb46d7960
"
openstack%2Fkayobe~master~Id61527ff5e76cac3a485746a1c2898f03ed1bce6,openstack/kayobe,master,story/2001664,Id61527ff5e76cac3a485746a1c2898f03ed1bce6,Add vault password and config path to env vars,MERGED,2018-05-11 18:03:38.000000000,2018-05-21 14:45:34.000000000,2018-05-21 14:45:34.000000000,60,10,0,567918,6ab645234511678dc1ad60b547c14a72e1ff5e17,7,3,1,2,14826,Mark Goddard,mgoddard,"Add vault password and config path to env vars

This change sets the KAYOBE_VAULT_PASSWORD environment variable when a
vault password file is specified via --vault-password-file. This allows
the kayobe playbooks to use the password to encrypt and decrypt the
kolla ansible passwords.yml file.

We also set the KAYOBE_CONFIG_PATH environment variable, to ensure that
kayobe playbooks set the {{ kayobe_config_path }} variable correctly
when the config path is specified via --config-path.

Change-Id: Id61527ff5e76cac3a485746a1c2898f03ed1bce6
Story: 2001664
Task: 6699
"
openstack%2Fkolla~stable%2Fqueens~I94dba206614ee353cdbb6cf1d44716d4c94e55ab,openstack/kolla,stable/queens,,I94dba206614ee353cdbb6cf1d44716d4c94e55ab,base: drop not needed APT key,MERGED,2018-05-17 15:11:39.000000000,2018-05-21 14:44:42.000000000,2018-05-21 14:44:42.000000000,0,1,0,569142,1435f14867d3c8bf1c72c38365bb69b5f3da13cf,11,8,1,1,24072,Marcin Juszkiewicz,hrw,"base: drop not needed APT key

Change-Id: I94dba206614ee353cdbb6cf1d44716d4c94e55ab
"
openstack%2Fkayobe~master~Ifb6abb784b0791794e25059334f28e4f24003add,openstack/kayobe,master,no-kolla-venv-on-hypervisor,Ifb6abb784b0791794e25059334f28e4f24003add,Don't create a virtualenv for kolla on the seed hypervisor,MERGED,2018-05-10 08:18:42.000000000,2018-05-21 14:42:46.000000000,2018-05-21 14:42:46.000000000,1,1,0,567505,ce4d09857176ae305f71fad7ee4c4f5238f499ef,11,4,3,1,14826,Mark Goddard,mgoddard,"Don't create a virtualenv for kolla on the seed hypervisor

Kolla should not be running against the seed hypervisor.

Change-Id: Ifb6abb784b0791794e25059334f28e4f24003add
TrivialFix
"
openstack%2Fkolla-ansible~master~I9e94daaa2054e7aa4b814516f8cf2b6a4981465c,openstack/kolla-ansible,master,,I9e94daaa2054e7aa4b814516f8cf2b6a4981465c,Add congress-dashboard into Horizon,MERGED,2018-04-20 02:12:02.000000000,2018-05-21 14:12:54.000000000,2018-05-21 14:12:54.000000000,5,0,0,562898,4b4243491004804998f1262ba761439e58876791,14,7,1,4,22165,caoyuan,caoyuan,"Add congress-dashboard into Horizon

Change-Id: I9e94daaa2054e7aa4b814516f8cf2b6a4981465c
Depends-on: I5cd0cc2c884530525b3019c22c04a782a181a3bf
"
openstack%2Fkolla-ansible~master~I16999287defa1bdf3e14a33577389985b7da0f2d,openstack/kolla-ansible,master,,I16999287defa1bdf3e14a33577389985b7da0f2d,Remove old upgrade task from Ceilometer,MERGED,2018-05-14 14:01:53.000000000,2018-05-21 14:12:53.000000000,2018-05-21 14:12:53.000000000,0,33,0,568295,0dbd8af3146e5d3da16bafe34de5b122bc7a85dc,10,6,1,2,1390,Paul Bourke,pauldbourke,"Remove old upgrade task from Ceilometer

This is due for removal since Queens.

Change-Id: I16999287defa1bdf3e14a33577389985b7da0f2d
"
openstack%2Fnova~master~I0b33200b710960e4e8df7333d06c98456c4b0c00,openstack/nova,master,bp/powervm-localdisk,I0b33200b710960e4e8df7333d06c98456c4b0c00,Update PowerVM hypervisor docs,MERGED,2018-05-18 19:02:27.000000000,2018-05-21 14:08:56.000000000,2018-05-19 01:38:42.000000000,43,20,11,569497,30c87c5a9d246b4500d66720f1282f79bb2c1dae,31,11,5,1,10608,Matthew Edmonds,edmondsw,"Update PowerVM hypervisor docs

This refreshes the PowerVM hypervisor docs with a clearer flow and
additional information.

Change-Id: I0b33200b710960e4e8df7333d06c98456c4b0c00
"
openstack%2Fkolla-ansible~master~I0c453aa7214752fd6782521c64d462153396b05a,openstack/kolla-ansible,master,,I0c453aa7214752fd6782521c64d462153396b05a,Remove the unnecessary register.yml for upgrade,MERGED,2018-05-18 13:33:26.000000000,2018-05-21 14:07:56.000000000,2018-05-21 14:07:56.000000000,0,2,0,569408,81eb90a34fb167f9860385dec826d13195bf592e,11,6,2,1,21691,weizj,ZhijunWei,"Remove the unnecessary register.yml for upgrade

When execute upgrade action, no need to create endpoint and
project again. This PS to remove register.yml from upgrade.yml

Change-Id: I0c453aa7214752fd6782521c64d462153396b05a
"
openstack%2Fmurano~master~I1b0438ad451db2b7a89a9fb65dc948b52ceb2f3f,openstack/murano,master,bug/1762821,I1b0438ad451db2b7a89a9fb65dc948b52ceb2f3f,"Fix Contract on Project property, extra.",MERGED,2018-04-10 20:52:21.000000000,2018-05-21 14:05:20.000000000,2018-04-12 11:56:37.000000000,1,1,0,560148,475545a62180be1f7feccae93d9671eedb9e1e8a,8,3,1,1,26101,Ellen Batbouta,ellen.batbouta,"Fix Contract on Project property, extra.

The current contract for this property (in Project.yaml) is:

      extra:
        Contract:
          $.string().notNull(): $.string()

Deploying my Murano application, the code attempts to populate this
property with:

     u'tags': []

and gets this error:

    ContractViolationException: [io.murano.Project.extra['tags']] Value [] violates string() contract

My fix is:

        extra:
        Contract:
          $.string().notNull(): $

This allows the 2nd value of the pair to be any scalar or data structure.  A string
or a list of strings is acceptable now.

Change-Id: I1b0438ad451db2b7a89a9fb65dc948b52ceb2f3f
Co-Authored-By: Devjani Ray <devjani.ray@oracle.com>
Closes-Bug: 1762821
"
openstack%2Fkolla-ansible~stable%2Fqueens~Id00187ec032c7a6c98d0772def12f142ef13fb22,openstack/kolla-ansible,stable/queens,bug/1766081-stable/queens,Id00187ec032c7a6c98d0772def12f142ef13fb22,Fix the profile missing when run bootstrap.sh,MERGED,2018-05-16 05:07:26.000000000,2018-05-21 14:03:33.000000000,2018-05-21 14:03:33.000000000,2,1,0,568748,05f39cfe3350983ed70869a3cddf8302989b20b2,8,4,1,1,22165,caoyuan,caoyuan,"Fix the profile missing when run bootstrap.sh

when use bootstrap.sh script to prepare the development
environment, the /etc/kolla/globlas.yml and
/etc/kolla/passwords.yml is missing, this ps to fix it.

Change-Id: Id00187ec032c7a6c98d0772def12f142ef13fb22
Closes-Bug: #1766081
(cherry picked from commit f9478235c944c9b0cd7a54a79f029279abd4be92)
"
openstack%2Fpython-tripleoclient~master~Ie45900df4d50e2c3b1d0a54bd2f9e5561da5101b,openstack/python-tripleoclient,master,bug/1710685,Ie45900df4d50e2c3b1d0a54bd2f9e5561da5101b,Improve output when registering nodes.,ABANDONED,2018-04-26 18:53:40.000000000,2018-05-21 14:02:54.000000000,,18,13,1,564585,86769a546ac20c1715755c8bcc01855e6e09bcb3,13,4,4,2,11085,Toure Dunnon,Toure,"Improve output when registering nodes.

Currently when registering nodes with the openstack unified interface
there is to much information dumped to the command line. This change
looks to correct that by adding debug log statements to the points where
the message bus was being printed to the command line.

Closes-Bug: 1710685
Change-Id: Ie45900df4d50e2c3b1d0a54bd2f9e5561da5101b
"
openstack%2Fkolla-ansible~master~I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af,openstack/kolla-ansible,master,bp/monasca-roles,I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af,Support deploying the Monasca Log API,MERGED,2018-04-06 16:54:53.000000000,2018-05-21 13:53:34.000000000,2018-05-21 13:53:33.000000000,297,6,18,559376,eab66ab02ef97f8925fba414f44fd881f3745dc0,61,11,20,17,17669,Doug Szumski,DougSzumski,"Support deploying the Monasca Log API

Deploys the Monasca Log API with mod_wsgi + Apache.

Change-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af
Partially-Implements: blueprint monasca-roles
"
openstack%2Fpython-tripleoclient~master~I77fdc9deab97c785725f09b8529c512950753f86,openstack/python-tripleoclient,master,bug/1758161,I77fdc9deab97c785725f09b8529c512950753f86,Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare,MERGED,2018-05-04 14:59:02.000000000,2018-05-21 13:47:28.000000000,2018-05-21 13:47:28.000000000,33,1,14,566336,08360e466730598e9ca5f270798cb3a510a5c9ee,78,13,7,4,8449,Marios Andreou,marios,"Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare

Before we update the heat stack for the ffwd-upgrade prepare we
can use this to run any required commands on the overcloud.

The current use case is removal of the
/usr/libexec/os-apply-config/templates/etc/os-net-config/config.json
Otherwise after the upgrade prepare is executed, overcloud nodes
will have empty config.json for os-net-config (also discussed [0])

The current implementation of .deployment.v1.deploy_on_servers assumes
all servers are managed by nova. This is OK for N..Q ffu but we will
need to revisit in future, see [1] for more info.

[0]: https://bugzilla.redhat.com/show_bug.cgi?id=1561255
[1]: https://bugs.launchpad.net/tripleo/+bug/1770356
Related-Bug: 1758161
Related:
    tripleo-common Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc
Change-Id: I77fdc9deab97c785725f09b8529c512950753f86
"
openstack%2Fnova~master~Iab93acde31639b1471c83b06fb1a77474bb52c48,openstack/nova,master,bug/1770560,Iab93acde31639b1471c83b06fb1a77474bb52c48,api-ref: Fix parameters for os-volume-attachments.inc,MERGED,2018-05-11 05:29:44.000000000,2018-05-21 13:41:07.000000000,2018-05-21 13:41:06.000000000,14,2,5,567744,a676d2e6b22b307287a6e18046e3384b7539de98,24,17,1,2,7634,Takashi Natsume,natsumet,"api-ref: Fix parameters for os-volume-attachments.inc

In the following APIs, the 'volume_id' parameters are
'path' parameters. So fix them.

- GET /servers/{server_id}/os-volume_attachments/{volume_id}
- DELETE /servers/{server_id}/os-volume_attachments/{volume_id}

In addition, the descriptions of the parameters are amended.

Change-Id: Iab93acde31639b1471c83b06fb1a77474bb52c48
Closes-Bug: #1770560
"
openstack%2Foctavia~stable%2Focata~Ia74f63888b7e4fbcf5392a7d3ec392bddb57f9e7,openstack/octavia,stable/ocata,,Ia74f63888b7e4fbcf5392a7d3ec392bddb57f9e7,Pin pip < 10 in the amphora image,MERGED,2018-04-19 22:17:12.000000000,2018-05-21 13:20:33.000000000,2018-05-21 13:20:33.000000000,12,0,0,562850,8527a1396ae892d528813d9ad10ede5825d825dc,8,4,1,2,11628,Michael Johnson,johnsom,"Pin pip < 10 in the amphora image

pip 10 fails when installing the amphora-agent due to a package conflict
in oslo.config PyYAML and the python3-yaml installed in the base images.
We cannot backport the venv fix from master as the stable branch uses
the ubuntu element which does not have enough disk space to install with the
venv.
So to make a minimal fix for the stable branches we are going to pin pip
in the amphora image.

(cherry picked from commit 9e1ced71e1e270777b15adbcde8de03577375964)

Change-Id: Ia74f63888b7e4fbcf5392a7d3ec392bddb57f9e7
"
openstack%2Ftripleo-heat-templates~master~I1cd765b1998f059702f0c17ccb67d54f6d5db362,openstack/tripleo-heat-templates,master,bug/1703792,I1cd765b1998f059702f0c17ccb67d54f6d5db362,Enhance completion message when upgrading non controller nodes,MERGED,2017-07-12 09:28:13.000000000,2018-05-21 13:15:10.000000000,2018-01-12 07:14:42.000000000,8,1,4,482868,7bf4edde5de2ab99824c9e8259a9ffa3307b9554,46,11,6,1,20775,Carlos Camacho,ccamacho,"Enhance completion message when upgrading non controller nodes

This adds a better completion message when upgrading a non
controller node.

Change-Id: I1cd765b1998f059702f0c17ccb67d54f6d5db362
Closes-Bug: 1703792
"
openstack%2Ftripleo-ci~master~I4c8f389978717848e755f12856dd454d605c9137,openstack/tripleo-ci,master,sprint13,I4c8f389978717848e755f12856dd454d605c9137,Add newton->ocata undercloud upgrades to unsupported list,MERGED,2018-05-17 14:00:09.000000000,2018-05-21 13:15:04.000000000,2018-05-21 13:15:04.000000000,14,0,0,569120,f76569c23b77c568b0bb642036d40a5552c972a9,15,6,4,2,12715,John Trowbridge,trown,"Add newton->ocata undercloud upgrades to unsupported list

Change-Id: I4c8f389978717848e755f12856dd454d605c9137
"
openstack%2Fkayobe~master~Iaa66516d667f7e24a0684288dd3f67cd84fc5323,openstack/kayobe,master,story/2001663,Iaa66516d667f7e24a0684288dd3f67cd84fc5323,Support running external playbooks,ABANDONED,2018-04-11 16:13:17.000000000,2018-05-21 12:49:33.000000000,,157,18,0,560555,7005d355d006560ffda1b8b0e0ca5d6432873256,12,2,5,9,14826,Mark Goddard,mgoddard,"Support running external playbooks

Adds support for running playbooks outside of the kayobe source code
repository, whilst retaining the use of playbook group variables defined
in ansible/group_vars.

This forms the basis for supporting customisable extensions to the
standard workflows.

Change-Id: Iaa66516d667f7e24a0684288dd3f67cd84fc5323
Story: 2001663
Task: 12577
"
openstack%2Fnetworking-odl~master~I43406896111b088675c5b202f82732d6256031d6,openstack/networking-odl,master,,I43406896111b088675c5b202f82732d6256031d6,Replace deprecated library function os.popen() with subprocess,ABANDONED,2018-05-21 09:45:08.000000000,2018-05-21 12:37:11.000000000,,6,1,2,569766,28eaeb900b9f4f186fa06e195643844cc9e9461a,4,2,1,1,21486,wangqi,wangqi,"Replace deprecated library function os.popen() with subprocess

os.popen() is deprecated since version 2.6. Resolved with use of
subprocess module

Change-Id: I43406896111b088675c5b202f82732d6256031d6
"
openstack%2Fnetworking-ovn~master~I5265da4c21e58672db9858555625c8e2c5350316,openstack/networking-ovn,master,bug/1770723,I5265da4c21e58672db9858555625c8e2c5350316,Handle port's 'port_security_enabled' flag when adding ACLs,MERGED,2018-05-11 18:33:29.000000000,2018-05-21 12:22:45.000000000,2018-05-18 12:02:01.000000000,140,4,5,567928,d97a670257fb67917e2b5da4c944b9e29a5d7855,27,6,6,5,10237,Numan Siddique,numansiddique,"Handle port's 'port_security_enabled' flag when adding ACLs

When a port's security groups are cleared and 'port_security_enabled'
flag is True, it is expected that all the traffic to/from the port is dropped.
But this is not the case. So this patch fixes this issue. 'port_security_enabled'
flag is checked before adding the port's ACLs.

So the new (and correct) behaviour with this patch is
 - No security groups and port security enabled -> Drop all the traffic
 - No security groups and port security disabled -> Allow all the traffic

Change-Id: I5265da4c21e58672db9858555625c8e2c5350316
Closes-bug: #1770723
"
openstack%2Fheat~master~Icd54465d0c593557a12d853ddee4ee8ce6483499,openstack/heat,master,bug/1767962,Icd54465d0c593557a12d853ddee4ee8ce6483499,Don't allow nested or stacks in FAILED state to be migrated,MERGED,2018-05-04 07:20:30.000000000,2018-05-21 12:22:28.000000000,2018-05-18 07:59:39.000000000,26,5,12,566225,abfec544d7938ad8b576e1d0fa78f8a5dca1df00,27,7,3,5,8833,Rabi Mishra,rabi,"Don't allow nested or stacks in FAILED state to be migrated

Stack and its nested stacks should be in *_COMPLETE state for
it to be migrated. Also, we should not allow migration of a
nested stack.

This also changes stack_get_all_by_owner_id() to not select the
backup stacks. This seems to be used only in convergence code
path and migrate_convergence_1().

Change-Id: Icd54465d0c593557a12d853ddee4ee8ce6483499
Closes-Bug: #1767962
Story: #1767962
Task: #17363
"
openstack%2Fopenstack-ansible-os_octavia~stable%2Fpike~Ic7f244fef35a9663c09b96c5618c3a5b0601e5a9,openstack/openstack-ansible-os_octavia,stable/pike,,Ic7f244fef35a9663c09b96c5618c3a5b0601e5a9,Do not log passwords,MERGED,2018-05-18 20:10:30.000000000,2018-05-21 12:16:45.000000000,2018-05-21 12:16:45.000000000,4,0,0,569511,f6d417f76eaa83a06e73f330233a2951fab15ddd,7,3,1,1,10850,German Eichberger,german,"Do not log passwords

This prevents data to be leaked into the callback plugin.

Change-Id: Ic7f244fef35a9663c09b96c5618c3a5b0601e5a9
(cherry picked from commit e15fff5e9d974d91839c74f4ac8b6fe6abc68ddc)
"
openstack%2Fkayobe~master~Ibdab0053caa2db71df2fd03cc8a598ae5aac73c9,openstack/kayobe,master,optional-bootstrap,Ibdab0053caa2db71df2fd03cc8a598ae5aac73c9,Make kayobe ansible user bootstrap optional,MERGED,2018-04-12 17:31:29.000000000,2018-05-21 12:08:51.000000000,2018-05-21 12:08:51.000000000,55,1,2,560980,68fc8d30573b28914d9ccec12966f644807c2afb,22,5,3,1,14826,Mark Goddard,mgoddard,"Make kayobe ansible user bootstrap optional

The bootstrap user may be used to create the kayobe user account and
configure passwordless sudo. We can't assume that the bootstrap user
account will exist after the initial bootstrapping, or that the current
operator's key is authorised for the bootstrap user. We therefore
attempt to access the kayobe user account via SSH, and only perform the
bootstrap process if the account is inaccessible.

This change also adds some tasks to verify that the kayobe ansible user
is accessible and has passwordless sudo configured.

Change-Id: Ibdab0053caa2db71df2fd03cc8a598ae5aac73c9
Story: 2001659
Task: 6692
"
openstack%2Fkolla-ansible~master~I6eb57702d4dad549ef8c999c1c82e577f316d8d6,openstack/kolla-ansible,master,ironic-update,I6eb57702d4dad549ef8c999c1c82e577f316d8d6,Adding ironic_dnsmasq_boot_file parameter to globals.yml,MERGED,2018-03-06 07:47:26.000000000,2018-05-21 11:28:20.000000000,2018-05-21 11:28:20.000000000,16,1,7,549963,4eaf39702339fbb6800806b6a06b0edbae41063b,27,9,5,4,26598,zhangfei gao,zhangfei.gao,"Adding ironic_dnsmasq_boot_file parameter to globals.yml

By now, ironic-dnsmasq has default bootfile pxelinux.0,
which is correct only for x86.
Adding ironic_dnsmasq_boot_file parameter to globals.yml
to make it configuable.
For example: /etc/kolla/globals.yml
ironic_dnsmasq_boot_file: ""debian-installer/arm64/bootnetaa64.efi""

Change-Id: I6eb57702d4dad549ef8c999c1c82e577f316d8d6
"
openstack%2Fkolla-ansible~master~I3e03762217fbef1fb0cbff6239abb109cbec226b,openstack/kolla-ansible,master,bp/monasca-roles,I3e03762217fbef1fb0cbff6239abb109cbec226b,Support deploying the Monasca API,MERGED,2018-04-06 16:54:53.000000000,2018-05-21 11:05:54.000000000,2018-05-21 11:05:54.000000000,526,4,74,559375,c11f9f521d5833a8dd41bfdb32c1927daa42b00c,76,14,19,32,17669,Doug Szumski,DougSzumski,"Support deploying the Monasca API

Deploys the Monasca API with mod_wsgi + Apache.

Co-Authored-By: Mark Goddard <mark@stackhpc.com>

Partially-Implements: blueprint monasca-roles
Change-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b
"
openstack%2Fnova~master~Ie29f8a92749ef96ce6c7b8c045d7986fe8036fe5,openstack/nova,master,retry_decorator,Ie29f8a92749ef96ce6c7b8c045d7986fe8036fe5,Retry decorator fix for autoscale delete,ABANDONED,2018-05-21 10:56:42.000000000,2018-05-21 11:04:09.000000000,,24,0,0,569777,088f5d51aa2dd092049b3de78023b294ae272968,2,0,1,2,27482,MultipleCrashes,MultipleCrashes,"Retry decorator fix for autoscale delete

deallocate-network-retry

retry fix for VM going to ERROR state during auto-scale delete instance

Delete issued to building server leaves the instance in error state due to
not able to deallocate network error.During auto-scale delete, some of
the machines go into ERROR state rather than being deleted.This happens
once in a while during deletion of the instances at scale.Log line for
the failure is 'Setting instance vm_state to ERROR',
Failure in do_terminate_instance.

Change-Id: Ie29f8a92749ef96ce6c7b8c045d7986fe8036fe5
"
openstack%2Ftripleo-validations~stable%2Fnewton~I895fc83d148523c283664080b7b1bf75d53d9edb,openstack/tripleo-validations,stable/newton,bug/1765121-stable/queens-stable/pike-stable/ocata-stable/newton,I895fc83d148523c283664080b7b1bf75d53d9edb,Validate that there should not be XFS volumes with ftype=0,MERGED,2018-04-27 11:52:50.000000000,2018-05-21 10:48:41.000000000,2018-05-21 10:48:41.000000000,47,0,0,564739,3130bc412917b7591b532ca792f6df909df21615,7,2,1,2,20775,Carlos Camacho,ccamacho,"Validate that there should not be XFS volumes with ftype=0

If  we have XFS partitions formatted with ftype=0,
the upgrades will fail because ftype=0 is incompatible
with the docker overlayfs driver.

Related-Bug: 1765121
Change-Id: I895fc83d148523c283664080b7b1bf75d53d9edb
(cherry picked from commit a5e63ee72531c85ee527ce721022fffce3cfcf75)
(cherry picked from commit d54ae2d1e21245f7033107e1bae327621f54f82f)
"
openstack%2Ftripleo-heat-templates~master~I3d526b374b6233bad69f5c6be12036b3ede37028,openstack/tripleo-heat-templates,master,tempest_log,I3d526b374b6233bad69f5c6be12036b3ede37028,Enable logging for tempest container,MERGED,2018-05-04 16:52:27.000000000,2018-05-21 10:48:40.000000000,2018-05-21 10:48:40.000000000,23,1,3,566364,f30a0578ba1211686e014561038118003c3903fa,35,9,5,1,12393,chandan kumar,chkumar246,"Enable logging for tempest container

* In order to make sure tempest container is available in CI,
  It adds the logging for the same in /var/log/containers/tempest.

Change-Id: I3d526b374b6233bad69f5c6be12036b3ede37028
"
openstack%2Fswift~feature%2Fdeep-review~I0693e54c1d7f3b77f53c3df5c616a16f74723b97,openstack/swift,feature/deep-review,rev10,I0693e54c1d7f3b77f53c3df5c616a16f74723b97,Add container sharding documentation,MERGED,2018-05-02 13:09:28.000000000,2018-05-21 10:38:06.000000000,2018-05-19 01:00:42.000000000,14524,4,18,565749,5c5b08d0472f695a0d81655ab80725f1be08d308,46,7,15,16,7847,Alistair Coles,acoles,"Add container sharding documentation

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>
Co-Authored-By: John Dickinson <me@not.mn>

Change-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97
"
openstack%2Fkayobe~master~I01daebb219a7e1c7ac0803db17efc14e3173561d,openstack/kayobe,master,use-master,I01daebb219a7e1c7ac0803db17efc14e3173561d,Fix yamllint issues in kolla-openstack role,MERGED,2018-05-16 16:45:45.000000000,2018-05-21 10:21:28.000000000,2018-05-21 10:21:28.000000000,26,29,0,568896,ac93b8e2e2a19e53a0effc428ecc569adfa3a160,7,3,1,5,14826,Mark Goddard,mgoddard,"Fix yamllint issues in kolla-openstack role

Change-Id: I01daebb219a7e1c7ac0803db17efc14e3173561d
"
openstack%2Ftripleo-docs~master~I1f076105a47b70d11311a8c950e0fe5760d6fd5f,openstack/tripleo-docs,master,warning/upgrade,I1f076105a47b70d11311a8c950e0fe5760d6fd5f,undercloud/upgrade: suggest backup before upgrade,MERGED,2018-05-17 21:54:57.000000000,2018-05-21 10:07:56.000000000,2018-05-21 10:07:56.000000000,3,2,2,569279,0fc1315e601656f11cd001d288ffb51c1c5f1ec1,18,7,5,1,3153,Emilien Macchi,emilienm,"undercloud/upgrade: suggest backup before upgrade

Suggest to perform a backup before the undercloud upgrade and validate
that the restore works fine. It's to make sure our operators understand
this procedure is critical.
We'll also add some warning in tripleoclient so our operators are asked
to do a backup before proceeding to the upgrade.

Also removing the note about the fact any package can be upgraded. This
note is not useful as we're moving to containers anyway.

Change-Id: I1f076105a47b70d11311a8c950e0fe5760d6fd5f
"
openstack%2Ftripleo-ha-utils~master~I82c8bd4a41bce267fdad21c259c197e3edfe7497,openstack/tripleo-ha-utils,master,add_idempotent_instance_ha_removal,I82c8bd4a41bce267fdad21c259c197e3edfe7497,Make instance HA uninstallation idempotent,MERGED,2018-05-14 14:06:54.000000000,2018-05-21 10:07:16.000000000,2018-05-21 10:07:16.000000000,41,36,0,568296,e3aca95dcadd682d07778f4d32c6ce929a2ec6eb,16,6,4,1,20936,Raoul Scarazzini,rasca,"Make instance HA uninstallation idempotent

This commit pairs with the one related to the pre checks [1] and make
the instance HA uninstallation idempotent, so that it will be possible
to run even if something was interrupted before.

[1] https://review.openstack.org/#/c/567892/

Change-Id: I82c8bd4a41bce267fdad21c259c197e3edfe7497
"
openstack%2Fmistral~stable%2Fpike~Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde,openstack/mistral,stable/pike,passive_deletes-stable/pike,Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde,"Release note for using ""passive_deletes=True""",MERGED,2018-05-21 09:01:03.000000000,2018-05-21 10:05:44.000000000,2018-05-21 10:05:44.000000000,1,1,0,569749,4e28b65fcf55d4c7c17f7221299862bea0262852,6,3,1,1,9712,Dougal Matthews,dougal,"Release note for using ""passive_deletes=True""

This update includes a small change to mention memory
savings for the new configuration option.

Change-Id: Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde
(cherry picked from commit d3c6bf7767fda544be79af94d3e0b26e1e3b2a3e)
"
openstack%2Fmistral~stable%2Fqueens~Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde,openstack/mistral,stable/queens,passive_deletes-stable/queens,Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde,"Release note for using ""passive_deletes=True""",MERGED,2018-05-21 09:00:03.000000000,2018-05-21 09:57:08.000000000,2018-05-21 09:57:08.000000000,1,1,0,569748,72f1ddebb4bec021bc0551a01d885444b4139be0,6,3,1,1,9712,Dougal Matthews,dougal,"Release note for using ""passive_deletes=True""

This update includes a small change to mention memory
savings for the new configuration option.

Change-Id: Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde
(cherry picked from commit d3c6bf7767fda544be79af94d3e0b26e1e3b2a3e)
"
openstack%2Ftripleo-heat-templates~master~I7335e7d9113bd248a1a00007d38f574291ffef9a,openstack/tripleo-heat-templates,master,bug/1769051,I7335e7d9113bd248a1a00007d38f574291ffef9a,Correct log location in container environment for Fluentd,ABANDONED,2018-05-15 09:12:56.000000000,2018-05-21 09:39:08.000000000,,275,16,0,568540,5391dc94a073e0a5550bac29c5b65663235f2c08,7,3,3,24,4328,Steven Hardy,shardy,"Correct log location in container environment for Fluentd

Alternative approach to https://review.openstack.org/#/c/566228/

Co-Authored-By: Thomas Herve <therve@redhat.com>, Cédric Jeanneret <cjeanner@redhat.com>
Change-Id: I7335e7d9113bd248a1a00007d38f574291ffef9a
Closes-Bug: 1769051
"
openstack%2Ftripleo-heat-templates~master~Ib32c508cd4a193866f1ec24011587d07c15a2658,openstack/tripleo-heat-templates,master,1579409,Ib32c508cd4a193866f1ec24011587d07c15a2658,Ensure files never bind-mounted as directories,ABANDONED,2018-05-18 11:35:46.000000000,2018-05-21 09:27:49.000000000,,583,17,0,569392,ec0c1cabdcb1d189dee58d2b89fe02080701757e,10,10,1,131,6926,Bogdan Dobrelya,bogdando,"Ensure files never bind-mounted as directories

Docker volumes create missing files as directories.
This highly likely breaks deployments in unexpected ways.

Make the common host prep tasks of containerized services
ensuring files will be bind-mounted as files and not as
directories.

Related bz: 1579409

Change-Id: Ib32c508cd4a193866f1ec24011587d07c15a2658
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fnetworking-midonet~master~Iff427bbf9b659076e3bfecdd5e0bff9553db9dec,openstack/networking-midonet,master,tox-siblings,Iff427bbf9b659076e3bfecdd5e0bff9553db9dec,Avoid tox_install,MERGED,2018-03-23 13:56:23.000000000,2018-05-21 09:13:18.000000000,2018-05-21 09:13:08.000000000,17,91,5,555788,088befedd60c7de7ec980adb92b3082a002c8ad7,32,6,6,6,6547,Andreas Jaeger,jaegerandi,"Avoid tox_install

Install the dependencies explicitly in requirements instead of using
tox_install which does not work well with OpenStack CI.

Adapt tox.ini for this.

This commit includes the following unrelated change to pass
the gate.
----------------------------------------
gate_hook: Remove neutron repo from the list of tempest plugins

The code has been moved to neutron-tempest-plugins.

Closes-Bug: #1769904
Change-Id: I1213f4c9947248ae61b9954fec22f77fc6bb5d2d
----------------------------------------

Co-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>
Change-Id: Iff427bbf9b659076e3bfecdd5e0bff9553db9dec
"
openstack%2Fzaqar~master~Ic43cc7101add05b08b0bb7f31fe73307576e7c45,openstack/zaqar,master,readme,Ic43cc7101add05b08b0bb7f31fe73307576e7c45,Update links in README,MERGED,2018-03-10 18:51:48.000000000,2018-05-21 09:03:51.000000000,2018-05-21 09:03:51.000000000,3,3,0,551706,bc4e4078ec96369d1466bc4583846d78ecb388f5,8,3,1,1,17130,melissaml,malei,"Update links in README

Change the outdated links to the latest links in README

Change-Id: Ic43cc7101add05b08b0bb7f31fe73307576e7c45
"
openstack%2Fneutron~master~I89c3b2546382624f175f8de4de621c3e53adf527,openstack/neutron,master,bug/1682145,I89c3b2546382624f175f8de4de621c3e53adf527,Router should flip to standby if all L3 nodes down,MERGED,2017-04-21 12:06:23.000000000,2018-05-21 09:02:10.000000000,2018-04-09 22:45:52.000000000,109,22,46,458814,b62d1bfdf71c2f8810d9b143d50127b8f3a4942d,187,23,20,7,8190,Drew Thorstensen (thorst),thorst,"Router should flip to standby if all L3 nodes down

A HA router should always be active unless all of the agents hosting
that router go down.  In that event, the router should switch to
standby.  This behavior changed with review:
  https://review.openstack.org/#/c/411784

That review seemed to be accounting for a flakey message bus.  This
change should account for that, but also revert to the original behavior
of the router state only changing when its backing agent hosts are down.

Change-Id: I89c3b2546382624f175f8de4de621c3e53adf527
Closes-Bug: 1682145
"
openstack%2Fmistral~master~Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde,openstack/mistral,master,passive_deletes,Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde,"Release note for using ""passive_deletes=True""",MERGED,2018-05-17 14:45:37.000000000,2018-05-21 09:01:03.000000000,2018-05-21 05:25:24.000000000,1,1,0,569134,d3c6bf7767fda544be79af94d3e0b26e1e3b2a3e,10,4,1,1,11085,Toure Dunnon,Toure,"Release note for using ""passive_deletes=True""

This update includes a small change to mention memory
savings for the new configuration option.

Change-Id: Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde
"
openstack%2Foctavia-dashboard~master~Ib766643ac3bdd9d52363a89a6c25d51bd3f15438,openstack/octavia-dashboard,master,zanata/translations,Ib766643ac3bdd9d52363a89a6c25d51bd3f15438,Imported Translations from Zanata,MERGED,2018-05-18 06:50:02.000000000,2018-05-21 08:51:57.000000000,2018-05-21 08:51:57.000000000,5,2,0,569346,327768d49aaecfcd18844022bd30594979e8a8c4,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib766643ac3bdd9d52363a89a6c25d51bd3f15438
"
openstack%2Ftripleo-upgrade~stable%2Fpike~I1273367fb07bda5cdacb538081a87f9d3e5ece3c,openstack/tripleo-upgrade,stable/pike,l3-failover-pike,I1273367fb07bda5cdacb538081a87f9d3e5ece3c,Add Neutron L3 agent failover check during upgrade,MERGED,2018-05-14 08:33:30.000000000,2018-05-21 08:18:25.000000000,2018-05-21 08:18:25.000000000,58,0,3,568231,7f2f332b81cf7c970a2e2ddf0b250902b711e2e8,14,7,1,8,21537,Yurii Prokulevych,yprokule,"Add Neutron L3 agent failover check during upgrade

This change adds suppport for validating that a router created on
the overcloud before upgrade remains active on the same node between
the various steps of the upgrade process and does not failover.

Change-Id: I1273367fb07bda5cdacb538081a87f9d3e5ece3c
(cherry picked from commit 71aaf58e6f263321c6119bcb2ae9f6f93176941d)
(cherry picked from commit aa0a0983b58007faa6264e08acb641f77ea5f6a3)
"
openstack%2Ftripleo-upgrade~master~I35dfbe50d12b65a8d14f62410adea551e7584912,openstack/tripleo-upgrade,master,bug/1769107,I35dfbe50d12b65a8d14f62410adea551e7584912,Separate scripts creation tasks for under/overcloud.,MERGED,2018-05-04 11:14:02.000000000,2018-05-21 08:18:25.000000000,2018-05-21 08:18:25.000000000,66,44,12,566291,0fd5d40994cb30117444b22a9e862722c4ebc52c,43,11,8,6,26343,Jose Luis Franco,jfrancoa,"Separate scripts creation tasks for under/overcloud.

The upgrade/update tasks in tripleo-upgrade started
with a create-scripts book, which generated most of
the scripts from the templates. However, this book
mixed the creation of scripts needed for the overcloud
as well as for the undercloud. This becomes an issue
when we want to perform only an undercloud upgrade, as
we are running tasks intended to the overcloud and it
might not even exist.
This patch divides the script creation tasks used for
the undercloud from the ones used for the overcloud.

Change-Id: I35dfbe50d12b65a8d14f62410adea551e7584912
Closes-Bug: #1769107
"
openstack%2Fopenstack-ansible~master~Ia747f400e8eca373b3f324d0ce09be803c5ed837,openstack/openstack-ansible,master,,Ia747f400e8eca373b3f324d0ce09be803c5ed837,Fix broken ceilometer variables,MERGED,2018-05-16 14:59:39.000000000,2018-05-21 08:17:08.000000000,2018-05-21 08:17:08.000000000,2,1,0,568872,8a1c8e5699eb344fbe3d807528d57558058f8050,15,6,1,1,7353,Kevin Carter,cloudnull,"Fix broken ceilometer variables

The option ""ceilometer_service_adminurl"" is not defined and not used in
the ceilometer role, however it has jinja that will error out if loaded
on it's own. This change removes that options and adds the required
options needed to render the used strings.

Change-Id: Ia747f400e8eca373b3f324d0ce09be803c5ed837
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Frally~master~I1e917b0fb64022729606de4dad7bf9df9d7bb52f,openstack/rally,master,fix-url,I1e917b0fb64022729606de4dad7bf9df9d7bb52f,fix error url,MERGED,2018-05-21 05:45:28.000000000,2018-05-21 08:04:11.000000000,2018-05-21 08:04:11.000000000,6,6,0,569703,967d9f30839a2e5c1a363cc7fde1c232bf2364a6,7,3,1,2,17130,melissaml,malei,"fix error url

Change-Id: I1e917b0fb64022729606de4dad7bf9df9d7bb52f
"
openstack%2Fsenlin~master~Ie6f550f2187d629d396065269af9d4e9fba5acda,openstack/senlin,master,add_cluster_dependents,Ie6f550f2187d629d396065269af9d4e9fba5acda,Kubernetes: Add cluster delete dependents attribute,MERGED,2018-03-28 10:19:47.000000000,2018-05-21 07:04:48.000000000,2018-05-21 07:04:47.000000000,44,0,14,557290,41f00dd07c121fd07334bb1b6955cddeb8677029,48,11,11,2,23517,chenyb4,Yuanbin.Chen,"Kubernetes: Add cluster delete dependents attribute

This patch add kubernetes cluster dependents, master cluster
record work cluster uuid to dependents.

Master cluster delete check dependents, if work cluster dependents
exist, the master cluster delete faild. kubernetes cluster
work cluster delete before master cluster delete.

Change-Id: Ie6f550f2187d629d396065269af9d4e9fba5acda
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
"
openstack%2Fwatcher~master~Ifaf7cd4a962da287f740a12e4c382a1ca92750d6,openstack/watcher,master,add_cinder_cdmc_test,Ifaf7cd4a962da287f740a12e4c382a1ca92750d6,Add Cinder Cluster Data Model Collector test case,MERGED,2018-05-15 11:31:33.000000000,2018-05-21 06:31:47.000000000,2018-05-21 06:31:47.000000000,103,0,0,568560,7556d19638680f695a929ace39fb38e48cbc5120,7,3,1,1,13111,Hidekazu Nakamura,hid-nakamura,"Add Cinder Cluster Data Model Collector test case

This patch adds Cinder Data Model Collector test case.

Change-Id: Ifaf7cd4a962da287f740a12e4c382a1ca92750d6
"
openstack%2Fdiskimage-builder~master~I20d4c25e9b79e7326c86767c36be8615ba0888a3,openstack/diskimage-builder,master,bionic-ubuntu-minimal,I20d4c25e9b79e7326c86767c36be8615ba0888a3,Replace the ubuntu-minimal trusty test with a bionic one,MERGED,2018-05-18 04:55:39.000000000,2018-05-21 06:01:53.000000000,2018-05-21 06:01:53.000000000,13,0,0,569324,82eb1ca837a5df70776165a95ea9732079adda1e,12,4,2,6,7118,Ian Wienand,iwienand,"Replace the ubuntu-minimal trusty test with a bionic one

Add a bionic test in replacement of trusty.  We are already building
bionic images in the gate, so this seems like a good time to switch.

Change-Id: I20d4c25e9b79e7326c86767c36be8615ba0888a3
"
openstack%2Ftripleo-common~master~I829ec8aa00bc421a167aa3e16455c29d05458ca9,openstack/tripleo-common,master,,I829ec8aa00bc421a167aa3e16455c29d05458ca9,DNM: Put IPA images as selinux-permissive,ABANDONED,2018-04-27 08:07:36.000000000,2018-05-21 05:44:19.000000000,,1,0,0,564697,b182ea86e2e87212c18918d60d869d34bbfa3484,5,6,1,1,27898,Quique Llorente,quiquell,"DNM: Put IPA images as selinux-permissive

To test rhel 7.5 problems at introspection at OVB.

Change-Id: I829ec8aa00bc421a167aa3e16455c29d05458ca9
"
openstack%2Fansible-role-container-registry~master~Ibde3d326b7e824fe09fafb9f46875b1e6739d299,openstack/ansible-role-container-registry,master,updates,Ibde3d326b7e824fe09fafb9f46875b1e6739d299,Handle Docker rpm updates,MERGED,2018-05-15 22:44:32.000000000,2018-05-21 05:37:21.000000000,2018-05-21 05:37:21.000000000,28,0,4,568714,7a3cd85d56561420a4bcf0121e15c989b8db61d3,22,5,5,1,3153,Emilien Macchi,emilienm,"Handle Docker rpm updates

The tasks were taken from OpenStack TripleO. They manage the case where
Docker needs to be updated. We'll first stop containers, stop docker
then update the rpm before making sure Docker is running again.

Change-Id: Ibde3d326b7e824fe09fafb9f46875b1e6739d299
"
openstack%2Fansible-role-container-registry~master~I75a0683b7b6866f7f4c33fa845a7a88666a22c84,openstack/ansible-role-container-registry,master,ci,I75a0683b7b6866f7f4c33fa845a7a88666a22c84,Add tripleo jobs to this project,MERGED,2018-05-07 05:35:46.000000000,2018-05-21 05:26:24.000000000,2018-05-21 05:26:24.000000000,3,0,0,566506,337922c98304b288239e0b6658064e2da98fa46c,29,5,6,1,3153,Emilien Macchi,emilienm,"Add tripleo jobs to this project

So we can actually test changes in this role.

Depends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334
Change-Id: I75a0683b7b6866f7f4c33fa845a7a88666a22c84
"
openstack%2Fopenstack-ansible-nspawn_hosts~master~I6965e132674238727d69606464f2140ec42d6434,openstack/openstack-ansible-nspawn_hosts,master,,I6965e132674238727d69606464f2140ec42d6434,Add trailing slash to copy files,MERGED,2018-05-19 18:43:17.000000000,2018-05-21 05:17:01.000000000,2018-05-21 05:17:00.000000000,10,2,2,569604,eececf267fdd90155eb3d6f82d0ac39d6c0e5abb,11,3,2,3,7353,Kevin Carter,cloudnull,"Add trailing slash to copy files

Without the trailing slash the sync task will create a nested directory
for the target when is a directory. This change ensures we're copying
copying the directories correctly.

This behaviour has been documented in the defaults file.

Change-Id: I6965e132674238727d69606464f2140ec42d6434
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fdiskimage-builder~master~I80df28be6e2a5e03ae1450e84fc05715f21a7750,openstack/diskimage-builder,master,bug/1766850,I80df28be6e2a5e03ae1450e84fc05715f21a7750,Add Ubuntu 18.04 support,MERGED,2018-05-17 13:00:30.000000000,2018-05-21 05:06:46.000000000,2018-05-18 15:58:41.000000000,26,6,1,569103,2e6a19a018197f1f9dda54763e65b06e5ad16d1a,20,10,3,9,13343,Stanislav Makar,smakar,"Add Ubuntu 18.04 support

Use squashfs for more recent Ubuntu releases

Change-Id: I80df28be6e2a5e03ae1450e84fc05715f21a7750
Closes-bug: 1766850
"
openstack%2Fansible-role-systemd_networkd~master~Ife5c179d27925cd2e71d3d086a731e6c13b12965,openstack/ansible-role-systemd_networkd,master,,Ife5c179d27925cd2e71d3d086a731e6c13b12965,Update cleanup process and set a file prefix,MERGED,2018-05-19 04:22:17.000000000,2018-05-21 05:03:36.000000000,2018-05-21 05:03:36.000000000,88,33,0,569554,b0395c727e693663b5b654e0483b677ed430e2a0,13,2,5,4,7353,Kevin Carter,cloudnull,"Update cleanup process and set a file prefix

The interface cleanup was generating a script that could be used to run
a cleanup whenever required. While this worked it would rapidly become
out of date, especially when multiple roles are calling this role. This
change adds a prefix which deployer can use to ensure the network
interface files are marked which will ensure we're limiting the
possibility of collisions.

The cleanup process will now use this prefix to search for and remove
any network interface file that matches the given prefix.

Change-Id: Ife5c179d27925cd2e71d3d086a731e6c13b12965
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fkeystone~master~I90a0ed677aa9d666a220bd2456dac336378cd3ba,openstack/keystone,master,bug/1760843,I90a0ed677aa9d666a220bd2456dac336378cd3ba,Fix the test for unique IdP,MERGED,2018-04-24 04:10:51.000000000,2018-05-21 04:45:28.000000000,2018-05-21 04:45:28.000000000,13,13,14,563812,a7437cae731c0914c4df78590b155f8a272f4139,30,7,5,2,15054,wangxiyuan,wangxiyuan,"Fix the test for unique IdP

The test that IdP and domain is unique constraint is wrong.
Keystone never support Idp:domain is 1:1.

This patch fixed the error in the test to make sure
Idp:domain is n:1.

Change-Id: I90a0ed677aa9d666a220bd2456dac336378cd3ba
Closes-bug: #1760843
"
openstack%2Fkeystone~master~I13ecb0ab0434f5614f31d151e708f299cf8e8adb,openstack/keystone,master,bug/1760843,I13ecb0ab0434f5614f31d151e708f299cf8e8adb,Update IdP sql model,MERGED,2018-04-09 09:35:23.000000000,2018-05-21 04:44:22.000000000,2018-05-21 04:44:22.000000000,6,1,13,559676,b6da8a1b8976579e4bf4025b58a69a9be539c847,50,8,8,2,15054,wangxiyuan,wangxiyuan,"Update IdP sql model

Base on the database schema, the domain_id column in identity_provider
is not unique and has the ForeignKey for project.id. But the IdP sql
model is different. It marks the domain_id is unique and the ForeignKey
is lost.

This patch removes the unique restriction and adds the FK back, ultimately
making the relationship between domains and identity provider 1:many.

Change-Id: I13ecb0ab0434f5614f31d151e708f299cf8e8adb
Partial-bug: #1760843
"
openstack%2Fnetworking-onos~master~Ib4e2d7e18a017dd2b916a449f4727c035e149783,openstack/networking-onos,master,api_change,Ib4e2d7e18a017dd2b916a449f4727c035e149783,Fix l3 driver due to API changes,MERGED,2018-05-18 08:36:46.000000000,2018-05-21 03:58:12.000000000,2018-05-21 03:58:12.000000000,3,3,0,569362,6228a96d59dac787fd647e2967c05054fbf91332,9,2,2,2,25575,Sangho Shin,sanghoshin,"Fix l3 driver due to API changes

Change-Id: Ib4e2d7e18a017dd2b916a449f4727c035e149783
"
openstack%2Fneutron~stable%2Fpike~I5867f77fc5aedc169b42f50def0424ff209c164c,openstack/neutron,stable/pike,bug/1749667,I5867f77fc5aedc169b42f50def0424ff209c164c,Only allow SG port ranges for whitelisted protocols,MERGED,2018-05-08 15:25:05.000000000,2018-05-21 03:57:58.000000000,2018-05-21 03:57:58.000000000,65,0,8,566922,d8f9c9447020f1708ebac2b210e3bfe1dbefe3fa,29,7,3,4,2463,Florian Haas,fghaas,"Only allow SG port ranges for whitelisted protocols

Iptables only supports port-ranges for certain protocols,
others will generate failures, possibly leaving the agent
looping trying to apply rules.  Change to not allow port
ranges outside of the list of known good protocols.

This backport is based on commit
b564871bb759a38cf96527f94e7c7d4cc760b1c9, excluding validation
and tests for protocols where support for port ranges was
added later (in Pike, only TCP and UDP are supported).

Conflicts:
    neutron/tests/unit/db/test_securitygroups_db.py

Change-Id: I5867f77fc5aedc169b42f50def0424ff209c164c
Closes-bug: #1749667
(cherry picked from commit b564871bb759a38cf96527f94e7c7d4cc760b1c9)
"
openstack%2Fsenlin~master~I1934da452a5fa987c782974c68b5ef169089784e,openstack/senlin,master,simplify_profile_code,I1934da452a5fa987c782974c68b5ef169089784e,Simplify profile code,MERGED,2018-05-17 08:07:32.000000000,2018-05-21 03:45:40.000000000,2018-05-21 03:45:40.000000000,41,108,9,569052,42c1d18c5b8fa897a0e317dd1647d6fe7783e3ef,25,6,5,2,27224,Duc Truong,dtruong2,"Simplify profile code

Reduce duplicate code for profile server operations by creating a generic
handler function for standard operations.

Change-Id: I1934da452a5fa987c782974c68b5ef169089784e
"
openstack%2Fzun~master~I23b559dae6d695903a7ea26b48a1a17c45515910,openstack/zun,master,bp/rework-image-api,I23b559dae6d695903a7ea26b48a1a17c45515910,Require admin privilege for image APIs,MERGED,2018-05-05 22:15:40.000000000,2018-05-21 03:39:14.000000000,2018-05-21 03:39:14.000000000,16,10,0,566443,e3e1a455b756c0d28f98e83096aa2b3aeb0f6269,18,7,3,2,11536,hongbin,hongbin,"Require admin privilege for image APIs

The image APIs are designed for pull/delete images at a compute
node. Non-admin users should be disallowed to access individual
compute node. This patch enforce that.

Change-Id: I23b559dae6d695903a7ea26b48a1a17c45515910
Partial-Implements: blueprint rework-image-api
"
openstack%2Fpython-openstackclient~master~I046df1d08ea3e6651900d30e831d2fd5546473ee,openstack/python-openstackclient,master,,I046df1d08ea3e6651900d30e831d2fd5546473ee,openstack image list: Support for community images,ABANDONED,2018-05-21 03:36:03.000000000,2018-05-21 03:38:46.000000000,,55,1,0,569692,e01fa7440b020f68ef0af52fb3c62f1cc9884db0,2,0,1,5,21107,Trent Lloyd,lathiat,"openstack image list: Support for community images

Community images are shared publicly with all projects but are hidden
from the default image listing unless visibility=community is passed to
the Image API (as an anti-spam measure).

Add support for the --community flag to list community images.

Change-Id: I046df1d08ea3e6651900d30e831d2fd5546473ee
"
openstack%2Fnova~stable%2Fqueens~Id9a009c8ab2a02f6f860399eeb145337de3c92e9,openstack/nova,stable/queens,bug/1737024-stable/queens,Id9a009c8ab2a02f6f860399eeb145337de3c92e9,Move update_task_state out of try/except,MERGED,2018-04-20 02:18:20.000000000,2018-05-21 03:25:44.000000000,2018-05-21 03:25:44.000000000,11,2,0,562901,2d66f6acad033f16a251fb41bcf054dd0021a081,25,10,1,2,6062,jichenjc,jichenjc,"Move update_task_state out of try/except

During snapshot there might be some race condition lead
to instance be deleted, compute layer has handle on the
InstanceNotFound exception so move update_task_state
out of try/except in snapshot function to avoid callback
trace.

Also, note follow up patch will handle additional race
condition on instance disappear during other exception
such as NotImplemented occurs scenario.

Change-Id: Id9a009c8ab2a02f6f860399eeb145337de3c92e9
Closes-Bug: 1737024
(cherry picked from commit 825529a3de45606839f6d44a924ca6263c970dfe)
"
openstack%2Fnova~stable%2Fqueens~I31c9ea8628c6f3985f8e9118d9687bbfb8789b68,openstack/nova,stable/queens,bug/1767058-stable/queens,I31c9ea8628c6f3985f8e9118d9687bbfb8789b68,Handle PortNotFoundClient exception when getting ports,MERGED,2018-05-09 12:30:38.000000000,2018-05-21 03:23:10.000000000,2018-05-21 03:23:10.000000000,20,1,0,567211,3bf3986c14ed14b9f460161aa4cc2950da5f56f5,24,11,1,2,9172,Radoslav Gerganov,rgerganov,"Handle PortNotFoundClient exception when getting ports

There could be a race between deleting an instance and retrieving its
port groups from Neutron. In this case PortNotFoundClient is raised and
it can be safely ignored.

Change-Id: I31c9ea8628c6f3985f8e9118d9687bbfb8789b68
Closes-Bug: #1767058
(cherry picked from commit 1a0179f7ab9b9c7f07ce9c4dd681486de5a4443a)
"
openstack%2Fnova~stable%2Fqueens~I196c2e3dabcbf0564c1ca0bd4870dc2df3efc836,openstack/nova,stable/queens,bug/1771325,I196c2e3dabcbf0564c1ca0bd4870dc2df3efc836,placement: Fix HTTP error generation,MERGED,2018-05-16 08:45:39.000000000,2018-05-21 03:15:34.000000000,2018-05-21 03:15:34.000000000,8,12,0,568784,dddee4189c0789565d1bb0328ef03fab3fb6a45a,22,13,1,2,9708,Balazs Gibizer,gibi,"placement: Fix HTTP error generation

The traits and the inventories wsgi handler inserted the detailed error
message to the webob.exc.HTTPXXX exceptions via the 'explanation' kwarg.
This caused that the generated error messages does not contain the generic
explanation of the HTTP error code just the passed in explanation text.
The rest of the placement API uses first positional arg of the exception
classes to pass in the extra details. Having this inconsistency makes
really hard to print proper error messages from the osc-placement
plugin.

This patch removes the incosistency by changing the code to use the
positional arg.

The change does not affect nova.scheduler.client.report._RE_INV_IN_USE
regex usage as that regex applied via re.search() and this change only
adds a new sentece to the message.

Change-Id: I196c2e3dabcbf0564c1ca0bd4870dc2df3efc836
Close-Bug: #1771325
(cherry picked from commit 90d2dbedefbcc99a20a6a86888ef1d316d5d119f)
"
openstack%2Fdesignate-dashboard~master~Ie57d111c44c607884e5ed3be614d4acae5e06b7f,openstack/designate-dashboard,master,django20-support,Ie57d111c44c607884e5ed3be614d4acae5e06b7f,Django 2.0 support,MERGED,2018-05-10 14:41:56.000000000,2018-05-21 03:09:03.000000000,2018-05-21 03:09:03.000000000,18,7,0,567608,84ad2b733766718a359dbac4904b358aa5f3931c,14,3,2,5,841,Akihiro Motoki,amotoki,"Django 2.0 support

Replace django.core.urlresolves with django.urls

(In Django 2.0) The django.core.urlresolvers module is removed
in favor of its new location, django.urls.
It was deprecated in Django 1.10:
https://docs.djangoproject.com/en/2.0/releases/1.10/#id3

Add py35dj20 job to test Django 2.0 integration.

Change-Id: Ie57d111c44c607884e5ed3be614d4acae5e06b7f
"
openstack%2Fopenstack-helm~master~I9ac1e01ddc8b22afa74768ccc6e76a17513b13ee,openstack/openstack-helm,master,,I9ac1e01ddc8b22afa74768ccc6e76a17513b13ee,test,ABANDONED,2018-05-21 02:09:51.000000000,2018-05-21 02:10:57.000000000,,1766,40,0,569686,0db02a36371cd96714528d74e96b496c0e5977c1,2,0,1,40,14151,ziyu032,ziyu032,"test

Change-Id: I9ac1e01ddc8b22afa74768ccc6e76a17513b13ee
"
openstack%2Fnova~master~I037d9b8c1bb554c3437434cc9a57ddb630dd62f0,openstack/nova,master,ironic-reserved-resources,I037d9b8c1bb554c3437434cc9a57ddb630dd62f0,Placement: allow to set reserved value equal to total for inventory,MERGED,2018-04-27 16:46:39.000000000,2018-05-21 01:30:36.000000000,2018-05-19 02:53:32.000000000,134,42,16,564838,7f79758dd994675a0b90c35ae035d0c182290b83,97,20,7,9,12356,Vladyslav Drok,vdrok,"Placement: allow to set reserved value equal to total for inventory

This is needed for ironic use case, when during cleaning, resources
are reserved by ironic itself. Cyborg will also benefit from this
during FPGA programming.

blueprint: allow-reserved-equal-total-inventory
Change-Id: I037d9b8c1bb554c3437434cc9a57ddb630dd62f0
"
openstack%2Fopenstack-helm~master~Iab95cb724d664edeed64af95d1ff20e0b7e207a0,openstack/openstack-helm,master,image/function,Iab95cb724d664edeed64af95d1ff20e0b7e207a0,Rally: update image ref to both be unique and match other charts,MERGED,2018-05-18 18:14:48.000000000,2018-05-21 01:20:36.000000000,2018-05-21 01:20:36.000000000,2,2,0,569483,e7905d0b58168ade1e62ac97872aa1c1f885aa07,18,5,5,2,23928,Pete Birley,portdirect,"Rally: update image ref to both be unique and match other charts

This PS updates the rally db sync image ref to match other charts,
and have a globally unique name.

Change-Id: Iab95cb724d664edeed64af95d1ff20e0b7e207a0
"
openstack%2Fdiskimage-builder~master~Id847591d04fd7cd32c8903967da01ee0d303b267,openstack/diskimage-builder,master,bug/1771614,Id847591d04fd7cd32c8903967da01ee0d303b267,Remove non-maintained ubuntu-core element,MERGED,2018-05-17 09:52:59.000000000,2018-05-21 00:43:55.000000000,2018-05-21 00:43:54.000000000,0,97,0,569077,09af52a08c28960d1855b9f4bea7661588830fd1,21,9,2,6,28208,Roman Gorshunov,gorshunovr,"Remove non-maintained ubuntu-core element

Removing no longer working and no longer maintained ubuntu-core element, which
intent is unclear, and not documented.

Change-Id: Id847591d04fd7cd32c8903967da01ee0d303b267
Closes-Bug: 1771614
"
openstack%2Fopenstack-helm~master~I98dea65f0f568cbd0f3b344adfc7e4ac73799200,openstack/openstack-helm,master,image/function,I98dea65f0f568cbd0f3b344adfc7e4ac73799200,Nova: Use helm-toolkit template for placement endpoints management,MERGED,2018-05-18 19:14:19.000000000,2018-05-21 00:39:54.000000000,2018-05-21 00:39:54.000000000,2,53,0,569499,93de8767c92c9664dce2670b219c17089907cd51,11,3,3,1,23928,Pete Birley,portdirect,"Nova: Use helm-toolkit template for placement endpoints management

This PS uses helm-toolkit for the placement endpoints management job.

Change-Id: I98dea65f0f568cbd0f3b344adfc7e4ac73799200
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fopenstack-helm~master~If594a477478cf2d91ffdb4a6cfe919925aabbd63,openstack/openstack-helm,master,image/function,If594a477478cf2d91ffdb4a6cfe919925aabbd63,Nova: Use helm-toolkit template for placement service management,MERGED,2018-05-18 18:14:48.000000000,2018-05-21 00:38:12.000000000,2018-05-21 00:38:12.000000000,2,47,0,569485,071ae008fdfd65a01cc64659379eb20414e5690c,11,3,3,1,23928,Pete Birley,portdirect,"Nova: Use helm-toolkit template for placement service management

This PS uses helm-toolkit for the placement service management job.

Change-Id: If594a477478cf2d91ffdb4a6cfe919925aabbd63
"
openstack%2Fopenstack-helm~master~I6571ab5c257c69ef1c9640ba223fd35a54ddb4e5,openstack/openstack-helm,master,image/function,I6571ab5c257c69ef1c9640ba223fd35a54ddb4e5,Nova: Use helm-toolkit template for placement user management,MERGED,2018-05-18 18:14:48.000000000,2018-05-21 00:38:11.000000000,2018-05-21 00:38:11.000000000,2,48,0,569484,54dfb0debd2afd1cb3ce9ce1930e7735f6bec88b,11,3,3,1,23928,Pete Birley,portdirect,"Nova: Use helm-toolkit template for placement user management

This PS uses helm-toolkit for the placement user management job.

Change-Id: I6571ab5c257c69ef1c9640ba223fd35a54ddb4e5
"
openstack%2Fnova~stable%2Fqueens~Ibfca4ae922766b5b977e217594d12e1169ddeee8,openstack/nova,stable/queens,gifts-for-mriedem-stable/queens,Ibfca4ae922766b5b977e217594d12e1169ddeee8,Make instance.refresh() avoid recursion better,MERGED,2018-05-19 14:46:39.000000000,2018-05-20 23:57:16.000000000,2018-05-20 23:57:16.000000000,15,6,0,569576,419e6198fadf4e91855109b76374d5205164b467,13,9,1,2,6873,Matt Riedemann,mriedem,"Make instance.refresh() avoid recursion better

The instance.refresh() method is careful to prevent recursion, to avoid
lazy-loads on the object we just pulled from the database. However, it
was allowing those to raise OrphanedObjectError to the caller to make
them visible. The caller is not really at fault in that case, and can not
avoid it.

The only time this has ever come up is in the context of cellsv1 and the
keypairs field that it doesn't have set on instances in the child cells.
Thus, this changes refresh() to just skip fields that are set on the
current object and unset on the one we pull from the database, as we
would not be able to refresh those anyway. This logs the situation so that
it is visible (at DEBUG) if it becomes relevant.

Closes-Bug: #1772088

Change-Id: Ibfca4ae922766b5b977e217594d12e1169ddeee8
(cherry picked from commit 549e5a2226ccf3920fd49e6726d5cea7fabf2914)
"
openstack%2Fnova~master~I3dd44088230303bf6754d80e63d21e0315bd3336,openstack/nova,master,bp/nested-resource-providers-allocation-candidates,I3dd44088230303bf6754d80e63d21e0315bd3336,Add tests for _get_trees_matching_all() function,MERGED,2018-05-16 04:12:46.000000000,2018-05-20 23:47:06.000000000,2018-05-19 02:34:15.000000000,50,0,2,568737,7668efb8259061cd4a121df282fb05bd0cfb2fd2,33,11,3,1,25625,Tetsuro Nakamura,tetsuro0907,"Add tests for _get_trees_matching_all() function

Now _get_trees_matching_all() function returns a list of two-tuples,
(provider internal ID, root provider internal ID). However its unit
test validates only the second values, root provider ids, of the
tuples.

This patch expands existing test function, test_trees_matching_all(),
to test the first values, provider ids, in the tuples as well.

Change-Id: I3dd44088230303bf6754d80e63d21e0315bd3336
Blueprint: nested-resource-providers-allocation-candidates
Related-Bug: #1771707
"
openstack%2Fdesignate~master~I9b9c8015394578d52c3a55839b84b4f64fb0a5c4,openstack/designate,master,fix_punctuation,I9b9c8015394578d52c3a55839b84b4f64fb0a5c4,Replace Chinese punctuation with English punctuation,MERGED,2018-05-17 07:36:05.000000000,2018-05-20 23:41:40.000000000,2018-05-20 23:41:40.000000000,5,5,0,569043,b59e0c16d9472ef2d9ce3e9c935bb38e1f134dd3,8,3,1,3,27565,inspurericzhang,inspurericzhang,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input method.
When read from english context, it makes some confusion.

Change-Id: I9b9c8015394578d52c3a55839b84b4f64fb0a5c4
"
openstack%2Fproject-config~master~I6e70f69ae6912da39d697d8dbffc711d3892fea3,openstack/project-config,master,airshipit-cgit-aliases,I6e70f69ae6912da39d697d8dbffc711d3892fea3,Airshipit cgit aliases for airship projects,MERGED,2018-05-20 22:05:34.000000000,2018-05-20 23:21:09.000000000,2018-05-20 23:21:09.000000000,30,0,0,569677,3768166c8d945b3b8d8a89fe27cd21e03db6670e,9,5,1,1,4146,Clark Boylan,cboylan,"Airshipit cgit aliases for airship projects

This configures the jeepyb side of things for the new git.airshipit.org
cgit alias.

Depends-On: I783552c085f4ab7770b5d76a29c1d8c8cb5a26ad
Change-Id: I6e70f69ae6912da39d697d8dbffc711d3892fea3
"
openstack%2Fos-client-config~master~Ifde1f9b51f0c40d386d655d2c44492664438eb6c,openstack/os-client-config,master,,Ifde1f9b51f0c40d386d655d2c44492664438eb6c,Add release note for the vendor data regression,MERGED,2018-05-20 21:38:03.000000000,2018-05-20 23:04:54.000000000,2018-05-20 23:04:54.000000000,5,0,0,569675,c4aa5695cbfdc687bf9f0b712b4a489d619cb675,6,2,1,1,2,Monty Taylor,mordred,"Add release note for the vendor data regression

Change-Id: Ifde1f9b51f0c40d386d655d2c44492664438eb6c
"
openstack%2Fos-client-config~master~I44b9f52762aa3cca69145eb4cb194e85f003f2bd,openstack/os-client-config,master,,I44b9f52762aa3cca69145eb4cb194e85f003f2bd,Turn osc-functional-devstack-tips to nonvoting,ABANDONED,2018-05-18 18:42:25.000000000,2018-05-20 23:02:43.000000000,,2,2,0,569492,b195ae9758df703ae1fddf3665bb7140c2d1f986,3,1,1,1,2,Monty Taylor,mordred,"Turn osc-functional-devstack-tips to nonvoting

Two issues seem to have arisen with the osc gate that aren't osc's
fault. Turn these to non-voting while we sort it out.

Change-Id: I44b9f52762aa3cca69145eb4cb194e85f003f2bd
"
openstack%2Fopenstacksdk~master~I86a00ca20f46d92d250f07a4a43c445780ed05af,openstack/openstacksdk,master,,I86a00ca20f46d92d250f07a4a43c445780ed05af,Turn osc-functional-devstack-tips to nonvoting,ABANDONED,2018-05-18 18:45:31.000000000,2018-05-20 23:02:28.000000000,,2,2,0,569493,4e32f1b18f46231c4145cf9b43cd9f7c7c3c6fdb,4,2,1,1,2,Monty Taylor,mordred,"Turn osc-functional-devstack-tips to nonvoting

Two issues seem to have arisen with the osc gate that aren't osc's
fault. Turn these to non-voting while we sort it out.

Change-Id: I86a00ca20f46d92d250f07a4a43c445780ed05af
"
openstack%2Fos-client-config~master~I5a3cb6096a090c29e257079da7c3d07d5a9b3428,openstack/os-client-config,master,module-vendor-fix,I5a3cb6096a090c29e257079da7c3d07d5a9b3428,fix saltstack breakage introduced in v1.31.0,MERGED,2018-05-17 23:28:22.000000000,2018-05-20 22:58:29.000000000,2018-05-20 22:58:29.000000000,23,0,0,569291,590b1723b5d70761dd14be132109173cfc1d9425,11,4,1,2,28251,Alexander D.,pzskc383,"fix saltstack breakage introduced in v1.31.0

SaltStack's openstack cloud provider in current production release calls
os_client_config.vendors.get_profile after importing just
os_client_config:
https://github.com/saltstack/salt/blob/v2018.3.0/salt/cloud/clouds/openstack.py#L319
After 5c2eae8f8242332aff59d18b45a7d17f01524aaa vendors module is no
longer imported into os_client_config which results in
AttributeError: 'module' object has no attribute 'vendors'
Importing this manually in __init__.py fixes it, however I wasn't able
to write a working test case — testtools loader loads all submodules
recursively and test runs without throwing exception.
I hope someone more knowledgeable review this change and confirm it
doesn't break this use case anymore.
Thanks in advance.

Change-Id: I5a3cb6096a090c29e257079da7c3d07d5a9b3428
Signed-off-by: Alexander D <maniac@pzskc383.dp.ua>
"
openstack%2Fopenstacksdk~master~I6cde6a6f9303f2a21efcfce979ffc0c1fea4bdb3,openstack/openstacksdk,master,no-inspect-associated,I6cde6a6f9303f2a21efcfce979ffc0c1fea4bdb3,baremetal: refuse to inspect associated machines,MERGED,2018-05-18 10:12:23.000000000,2018-05-20 22:54:04.000000000,2018-05-20 22:54:04.000000000,35,2,4,569375,f19d58a728ffa5f6b982f5373bfdb1a503006edf,17,5,3,3,10239,Dmitry Tantsur,dtantsur,"baremetal: refuse to inspect associated machines

Automatically inspecting ""available"" machines is a controversial feature,
since it enables ""stealing"" a machine that Nova already picked for deployment.
To reduce this probability, refuse to inspect nodes with instance_uuid set.

Also finish the incomplete comment.

Change-Id: I6cde6a6f9303f2a21efcfce979ffc0c1fea4bdb3
"
openstack%2Fnova~stable%2Fqueens~I91528d61bbadc1b30c27985de9511e51ad71e771,openstack/nova,stable/queens,fix_auth_url,I91528d61bbadc1b30c27985de9511e51ad71e771,Fix auth_url example in hypervisor-hyper-v.rst,MERGED,2018-05-17 22:29:25.000000000,2018-05-20 22:24:38.000000000,2018-05-20 22:24:38.000000000,1,1,0,569284,e3cdb35882b1b4822c16211ccba31c20ad923403,8,4,1,1,7634,Takashi Natsume,natsumet,"Fix auth_url example in hypervisor-hyper-v.rst

The url path should be 'v3' instead of 'v3.0'
in the 'auth_url'.

TrivialFix
Change-Id: I91528d61bbadc1b30c27985de9511e51ad71e771
(cherry picked from commit 18a018033cba04b1de33bf4a95ab9a67e64f8055)
"
openstack%2Fnova~stable%2Fqueens~I5c0a6389b759153bae06fa43846f03ac083c3db4,openstack/nova,stable/queens,,I5c0a6389b759153bae06fa43846f03ac083c3db4,Update auth_url in install docs,MERGED,2018-05-16 02:55:57.000000000,2018-05-20 22:24:33.000000000,2018-05-20 22:24:33.000000000,6,5,0,568730,7887d1d63eb584ff0d4883f00e69c6bcaee2e43c,10,8,1,2,25903,Vu Cong Tuan,tuanvu,"Update auth_url in install docs

1. Beginning with the Queens release, the keystone install guide
recommends running all interfaces on the same port. This patch
updates the install guide to reflect that change.
2. update the deprecated neutron auth options

Change-Id: I5c0a6389b759153bae06fa43846f03ac083c3db4
(cherry picked from commit 17105cce3a7e7b9e333425e6c6c07c5e518f3642)
"
openstack%2Fnova~stable%2Fpike~Ie252271ecfd38a0a1c61c26e323cc03869889f0a,openstack/nova,stable/pike,bug/1750623,Ie252271ecfd38a0a1c61c26e323cc03869889f0a,Skip placement on rebuild in same host,MERGED,2018-04-12 19:22:35.000000000,2018-05-20 22:06:18.000000000,2018-05-20 22:06:18.000000000,34,1,5,561015,ffbf5918c650e8499de206b73f050d5e8580b04e,43,10,5,4,27654,Hongbin Lu,hongbin.lu,"Skip placement on rebuild in same host

If the instance is rebuilt with a different image in the same
host, we don't need to call placement because there is no change
in resource consumption.

Conflicts:
        nova/scheduler/manager.py
        nova/tests/fixtures.py
        nova/tests/unit/scheduler/test_scheduler.py

NOTE(lyarwood): Pike Conflicts due to the following changes not being
present until Queens Iae904afb6cb4fcea8bb27741d774ffbe986a5fb4,
I03b95a2106624c2ea24835814ca38e954ec7a997 and
Iacb9808ef7188e3419abfac9e8c5fb5a46c71c05.

Change-Id: Ie252271ecfd38a0a1c61c26e323cc03869889f0a
Closes-Bug: #1750623
(cherry-pick from c3a894b6af32ff8ddba728328bc7d4e1339b2964)
(cherry picked from commit 04ea910ad13b412f410ccf520074cacee6bbe13e)
"
openstack%2Fnova~master~I4369f7fb1453e896864222fa407437982be8f6b5,openstack/nova,master,bp/alloc-candidates-member-of,I4369f7fb1453e896864222fa407437982be8f6b5,Update nova-status and docs for required placement 1.24,MERGED,2018-05-16 18:23:37.000000000,2018-05-20 22:02:24.000000000,2018-05-19 01:55:32.000000000,18,7,2,568923,216e232def43e42befc06c1530a89b23f029a207,44,15,4,4,6873,Matt Riedemann,mriedem,"Update nova-status and docs for required placement 1.24

Change Id7eecbfe53f3a973d828122cf0149b2e10b8833f made
nova-scheduler require placement >= 1.24 so this change
updates the minimum required version checked in the
nova-status upgrade check command along with the upgrade
docs.

Change-Id: I4369f7fb1453e896864222fa407437982be8f6b5
"
openstack%2Fopenstack-helm~master~I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d,openstack/openstack-helm,master,image/function,I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d,Add image management function to manifests,MERGED,2018-05-18 15:43:36.000000000,2018-05-20 21:58:52.000000000,2018-05-20 21:58:52.000000000,346,548,0,569448,460675bf7f85df1aaf4d918beda5a5929d04a942,27,4,10,132,23928,Pete Birley,portdirect,"Add image management function to manifests

When removing helm-toolkit from OSH and swithcing to use the
toolkit from OSH-Infra, the image declaration function was missed.

Depends-On: I2f2012590d81ffcb159d49d8a76eedd4441744cd
Change-Id: I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Foslotest~master~I8864ab0c475b63a7549137d9ea0514b7e8154e79,openstack/oslotest,master,deprecate-mox,I8864ab0c475b63a7549137d9ea0514b7e8154e79,Deprecate MoxStubout class,MERGED,2018-05-14 17:44:10.000000000,2018-05-20 21:49:05.000000000,2018-05-20 21:49:05.000000000,3,0,2,568336,cae8c8d51a94b891ce5b311a91d01b4264b296d2,10,4,2,2,6928,Ben Nemec,bnemec,"Deprecate MoxStubout class

As part of the mox removal goal, we need to deprecate this class so
it can be removed once everyone has stopped using it.

Story 2001546

Change-Id: I8864ab0c475b63a7549137d9ea0514b7e8154e79
"
openstack%2Foslotest~master~Iaf64f0cbee5ee7894367a354c1d1646561759744,openstack/oslotest,master,deprecate-mox,Iaf64f0cbee5ee7894367a354c1d1646561759744,Fix requirements,MERGED,2018-05-14 19:40:24.000000000,2018-05-20 21:42:16.000000000,2018-05-17 14:13:52.000000000,1,1,0,568357,0a3b06e46f3d58c11acae88bfd04f683f5d73ce1,7,2,1,1,6928,Ben Nemec,bnemec,"Fix requirements

One of our lower bounds didn't match so the requirements job in this
repo is failing.

Change-Id: Iaf64f0cbee5ee7894367a354c1d1646561759744
"
openstack%2Ftripleo-quickstart-extras~master~I5256a1bee84f32629990c48c5e6e987384bd498f,openstack/tripleo-quickstart-extras,master,bp/container-prepare-workflow,I5256a1bee84f32629990c48c5e6e987384bd498f,"Revert ""Run ""overcloud container image prepare"" only once""",MERGED,2018-05-18 22:13:23.000000000,2018-05-20 21:30:24.000000000,2018-05-19 05:15:37.000000000,28,36,0,569528,a17a676489a206fce5f30fa664e1cc97497ded85,12,10,2,2,14985,Alex Schultz,mwhahaha,"Revert ""Run ""overcloud container image prepare"" only once""

This reverts commit 445157148a46452c26ffa070e31b4da1c8e4503d.

The containers update script does not handle the new format.
So this broke CI when container updates are applied.

Closes-Bug: #1772122
Change-Id: I5256a1bee84f32629990c48c5e6e987384bd498f
"
openstack%2Fnova~stable%2Fpike~Ia3d80bf2f81c7317fec117aecbc3c560d51a7d4e,openstack/nova,stable/pike,bug/1737513,Ia3d80bf2f81c7317fec117aecbc3c560d51a7d4e,conf: Do not inherit image signature props with snapshots,MERGED,2018-04-30 19:39:42.000000000,2018-05-20 21:21:39.000000000,2018-05-20 21:21:39.000000000,24,6,0,565288,f8498c41cdfec2acde62a1da1abce917ac882c7d,13,9,2,3,7012,Brianna Poulos,brianna-poulos,"conf: Do not inherit image signature props with snapshots

All image signature properties should not be inherited from the metadata
of the original image when creating a snapshot of an instance. Otherwise
Glance will attempt to verify the signature of the snapshot image and
fail as this has changed from that of the original.

Closes-bug: #1737513
Needed-By: https://review.openstack.org/551290
Change-Id: Ia3d80bf2f81c7317fec117aecbc3c560d51a7d4e
(cherry picked from commit 82c823bcec5850f6876308ebcdbcb37312bf763f)
"
openstack%2Ftripleo-heat-templates~master~Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334,openstack/tripleo-heat-templates,master,docker,Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334,Deploy Docker via Ansible and not Puppet,MERGED,2018-04-14 01:49:07.000000000,2018-05-20 18:47:24.000000000,2018-05-20 18:47:24.000000000,75,83,11,561377,00f5019ef28771e0b3544d0aa3110d5603d7c159,240,17,84,2,3153,Emilien Macchi,emilienm,"Deploy Docker via Ansible and not Puppet

Deploy Docker with Ansible instead of Puppet so later we will be able
to prepare the registry before deploying any containerized service
and do tasks in the middle like updating containers.

Remove the Puppet run from update_tasks, we'll move these tasks later in
ansible-role-container-registry.

Change-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334
"
openstack%2Fnova~stable%2Fqueens~I68f2074814c3ae890888a5c75fd2870bb99f0e08,openstack/nova,stable/queens,bug/1756179,I68f2074814c3ae890888a5c75fd2870bb99f0e08,api-ref: add a note in DELETE /os-services about deleting computes,MERGED,2018-04-20 18:57:08.000000000,2018-05-20 18:35:04.000000000,2018-05-20 18:35:04.000000000,7,2,0,563233,1b7ba3a200ff3b7d7a26c38de9135f7439caa4eb,17,11,1,1,6873,Matt Riedemann,mriedem,"api-ref: add a note in DELETE /os-services about deleting computes

As seen in I2717274bb1bd370870acbf58c03dc59cee30cc5e, if an
operator deletes a nova-compute service via the API but fails
to stop the actual nova-compute process, the API will delete the
services table and compute_nodes table records, but the nova-compute
process will hit the 'update_available_resource' periodic task and
re-create the compute node record, which at that point is orphaned
since it does not have an associated nova-compute service.

Restarting the nova-compute service _should_ recreate the service
table record for that host and then the user could attempt to
delete the service and compute node record again via this API, but
it's better to not have to find this out the hard way.

So this change adds a simple reminder that the nova-compute process
on the host should be stopped before deleting the compute service.

While in here, the link to the install guide about the various
compute services is also fixed.

Change-Id: I68f2074814c3ae890888a5c75fd2870bb99f0e08
Related-Bug: #1646255
(cherry picked from commit e0c43ac7a7b9edbd3eb4921d87f476a33364549b)
"
openstack%2Fnova~stable%2Fqueens~I519c5abfe24b154998f481c8a86db239a75d4729,openstack/nova,stable/queens,bug/1756179,I519c5abfe24b154998f481c8a86db239a75d4729,Add functional test for deleting a compute service,MERGED,2018-04-20 18:51:20.000000000,2018-05-20 18:34:59.000000000,2018-05-20 18:34:59.000000000,118,0,0,563229,bcd462e49b4d51e78e9f31c60cd9e4d9fd8f99f9,10,6,1,2,6873,Matt Riedemann,mriedem,"Add functional test for deleting a compute service

This adds a functional test which asserts the things
related to bug 1756179 where deleting a compute service
does not also delete the related host mapping or resource
provider resources.

Also related to bug 1763183 in that it should not be
possible to delete a compute service that has instances
running on it since that will mess up resource tracking
in Placement.

NOTE(mriedem): There are two changes in this backport:

1. The ResourceClass fields moved in Rocky via change
   Iea182341f9419cb514a044f76864d6bec60a3683.

2. The _get_provider_inventory method was added in change
   I5ee11274816cd9e4f0669e9e52468a29262c9020 in Rocky.

Change-Id: I519c5abfe24b154998f481c8a86db239a75d4729
Related-Bug: #1756179
Related-Bug: #1763183
(cherry picked from commit a80ac96362c8fafba1bfe71244b52ba2f082c86e)
"
openstack%2Fmetalsmith~master~I5f726023a0ff956d2950acbe43dc37da0cb5fb5b,openstack/metalsmith,master,ci-centos,I5f726023a0ff956d2950acbe43dc37da0cb5fb5b,CI: run a local boot test with the CentOS image,MERGED,2018-05-20 16:07:45.000000000,2018-05-20 18:33:20.000000000,2018-05-20 18:33:20.000000000,29,1,0,569645,8b6e176b95ef79d3230feea88b7df18e848fdebb,7,2,2,2,10239,Dmitry Tantsur,dtantsur,"CI: run a local boot test with the CentOS image

Change-Id: I5f726023a0ff956d2950acbe43dc37da0cb5fb5b
"
openstack%2Fmetalsmith~master~Ic12743adaf8ce9ac255197c380c0556608e1c961,openstack/metalsmith,master,ci-ssh,Ic12743adaf8ce9ac255197c380c0556608e1c961,CI: use find module to find an SSH public key,MERGED,2018-05-20 15:31:31.000000000,2018-05-20 17:04:14.000000000,2018-05-20 17:04:14.000000000,14,25,0,569642,2b6f60a6e79e5309224111d3a28fff359d2d9036,7,2,2,2,10239,Dmitry Tantsur,dtantsur,"CI: use find module to find an SSH public key

Also moves this logic to a reusable tasks file.

Change-Id: Ic12743adaf8ce9ac255197c380c0556608e1c961
"
openstack%2Fnova~master~Id0f4027f1fffefdb90240fc484cf3c0554e576d9,openstack/nova,master,gifts-for-mriedem,Id0f4027f1fffefdb90240fc484cf3c0554e576d9,Make instance able to lazy-load almost everything,MERGED,2018-05-17 21:30:40.000000000,2018-05-20 16:52:05.000000000,2018-05-19 01:35:46.000000000,46,16,11,569267,7dc4286b1294e2bb48e1239b5a02cb536dafabfb,72,16,4,3,4393,Dan Smith,danms,"Make instance able to lazy-load almost everything

Previously we had a trivial block on the lazy-load handler for instance
that prevented loading mundane things that couldn't be opted-out during
a query. There's no real reason for that and we already had the generic
loader mechanism.

This removes that limit, and adjusts some of the logic in obj_load_attr()
to continue providing the same behavior for things like id and uuid being
missing (which we have lots of existing coverage for). The new behavior
of being able to load something like vm_state gets a new test, which also
validates that _load_generic() loads anything else it can from the instance
it fetches from the database, if not already set on the object initiating
the load.

Change-Id: Id0f4027f1fffefdb90240fc484cf3c0554e576d9
"
openstack%2Fnova~master~I80dd6d08322bcedc8535f04baf2e96473f5e3aeb,openstack/nova,master,bug/1771728,I80dd6d08322bcedc8535f04baf2e96473f5e3aeb,ProviderTree.has_inventory_changed for new fields,MERGED,2018-05-17 19:22:07.000000000,2018-05-20 08:09:39.000000000,2018-05-19 01:38:30.000000000,15,4,1,569228,b864d08eaf8b670cc173319d661e82111eb54f08,43,17,3,2,14070,Eric Fried,efried,"ProviderTree.has_inventory_changed for new fields

The has_inventory_changed method of ProviderTree is deliberately not
automatically reporting True if the incoming record is ""sparse"" - that
is, for a given resource class, it only contains a subset of the keys in
the existing record.  For example, the caller may want to know if the
total has changed, but doesn't care about the other fields, so may ask:

ptree.has_inventory_changed(uuid, {'VCPU': {'total': 3}, ...})

...and has_inventory_changed will only compare the 'total' field.

However, we were doing the same if the incoming record contained fields
that were *not* in the existing record.  For example, if the current
inventory was:

{ 'VCPU': {
      'total': 8,
      'min_unit': 1,
      'max_unit': 8,
      'step_size': 1,
  }
}

...and the new inventory was:

{ 'VCPU': {
      'total': 8,
      'min_unit': 1,
      'max_unit': 8,
      'step_size': 1,
      'allocation_ratio': 16.0,  # <== new
      'reserved': 1,             # <== new
  }
}

...the presence of the new fields was *not* enough to trigger a True
response.

This is problematic because we currently expect to be able to add
specifically these fields - allocation_ratio and reserved - to an
inventory record if they are not present (see [1]).

With this change set, we add a condition to automatically return True
(inventory *has* changed) whenever the incoming (new) record contains
fields absent from the existing record.

[1] https://github.com/openstack/nova/blob/050e9202f69b6eeb23026b7350eeb8821ca9f1cc/nova/compute/resource_tracker.py#L83-L125

Partial-Bug: #1771728
Change-Id: I80dd6d08322bcedc8535f04baf2e96473f5e3aeb
"
openstack%2Fcharm-cinder-backup~master~I4d82f73b7b83d5bb597147663d424554d34d7e76,openstack/charm-cinder-backup,master,update-amulet-defs-bionic,I4d82f73b7b83d5bb597147663d424554d34d7e76,Enable Bionic as a gate test,MERGED,2018-05-08 18:53:04.000000000,2018-05-20 07:11:42.000000000,2018-05-20 07:11:42.000000000,1079,338,0,566983,bb4e4912c7ac0d42ac23ed871b9d171c0df0a434,38,4,7,30,20805,David Ames,thedac,"Enable Bionic as a gate test

Change bionic test from dev to gate for 18.05.

Change-Id: I4d82f73b7b83d5bb597147663d424554d34d7e76
"
openstack%2Fcharm-neutron-dynamic-routing~master~I22b81e25d0e9fc227de4e000540d350c2a635765,openstack/charm-neutron-dynamic-routing,master,dragentrelationadapters,I22b81e25d0e9fc227de4e000540d350c2a635765,Create DRAgentRelationAdapters,MERGED,2018-05-18 22:35:15.000000000,2018-05-20 07:06:10.000000000,2018-05-20 07:06:10.000000000,49,21,0,569530,dc79712d49286d4a1d7e44f94c93bcc9f04c6946,18,4,4,8,20805,David Ames,thedac,"Create DRAgentRelationAdapters

Override the amqp adapter the correct way by creating a new relation
adapters class. Use the newer transport_url rather than the older
rabbit_* settings for amqp messaging.

Change-Id: I22b81e25d0e9fc227de4e000540d350c2a635765
"
openstack%2Fcharm-manila~master~I4e3c30a2dc5cc084149710a06a6c212b1b48459c,openstack/charm-manila,master,update-amulet-defs-bionic,I4e3c30a2dc5cc084149710a06a6c212b1b48459c,Enable Bionic as a gate test,MERGED,2018-05-08 19:00:06.000000000,2018-05-20 07:05:54.000000000,2018-05-20 07:05:54.000000000,180,13,0,566993,a3377912a4d7f14a4efb28a72877c3cf32d6ccad,23,4,4,6,20805,David Ames,thedac,"Enable Bionic as a gate test

Change bionic test from dev to gate for 18.05.

Change-Id: I4e3c30a2dc5cc084149710a06a6c212b1b48459c
"
openstack%2Fcharm-nova-compute-proxy~master~Ibd9e14eaccc203f5c3c777a86c7e3b98a8ea2595,openstack/charm-nova-compute-proxy,master,update-amulet-defs-bionic,Ibd9e14eaccc203f5c3c777a86c7e3b98a8ea2595,Enable Bionic as a gate test,MERGED,2018-05-08 19:01:16.000000000,2018-05-20 07:05:46.000000000,2018-05-20 07:05:46.000000000,1131,243,0,567001,be2ce92ca34f39b83a76b1b83ff632bebaa2b465,33,4,6,36,20805,David Ames,thedac,"Enable Bionic as a gate test

Change bionic test from dev to gate for 18.05.

Change-Id: Ibd9e14eaccc203f5c3c777a86c7e3b98a8ea2595
"
openstack%2Fnova~master~I9251287451bc2f800ef4a230c3c01598f37b5ad3,openstack/nova,master,bp/powervm-localdisk,I9251287451bc2f800ef4a230c3c01598f37b5ad3,PowerVM Driver: Localdisk,MERGED,2018-03-02 17:47:15.000000000,2018-05-20 06:26:36.000000000,2018-05-19 01:38:35.000000000,594,13,119,549300,026c2a61d08d6f2202e417a70313d182fdba3f45,364,21,34,8,16710,Eric Berglund,esberglu,"PowerVM Driver: Localdisk

Add PowerVM Driver support for local ephemeral disk.

Change-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3
Blueprint: powervm-localdisk
"
openstack%2Fsenlin~master~I0a74d3d02b031fa2e0b50419dd9d5f9494910be2,openstack/senlin,master,fix_punctuation,I0a74d3d02b031fa2e0b50419dd9d5f9494910be2,Replace Chinese punctuation with English punctuation,MERGED,2018-05-17 04:29:15.000000000,2018-05-20 06:14:02.000000000,2018-05-20 06:14:02.000000000,1,1,0,569009,4aed9e951b31e6808446d17e5f44cd025895a9dc,10,6,1,1,27565,inspurericzhang,inspurericzhang,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input method.
When read from english context, it makes some confusion.

Change-Id: I0a74d3d02b031fa2e0b50419dd9d5f9494910be2
"
openstack%2Fhorizon~master~I6b2158f80826a23611bd6ae15285a8acedeb0925,openstack/horizon,master,fix-typo,I6b2158f80826a23611bd6ae15285a8acedeb0925,[trivial] Fixes a typo,MERGED,2018-05-20 00:22:44.000000000,2018-05-20 05:32:16.000000000,2018-05-20 05:32:16.000000000,2,2,0,569613,a3cc0625a68ffbe5aa6095a94ef3ba36e1383651,6,2,1,1,14482,Ian Y. Choi,ianychoi,"[trivial] Fixes a typo

auto_alloocated_network -> auto_allocated_network

TrivialFix

Change-Id: I6b2158f80826a23611bd6ae15285a8acedeb0925
"
openstack%2Fnova~master~I941a8f4b321e4c90a45f7d9fccb74489fae0d62d,openstack/nova,master,bug/1679750,I941a8f4b321e4c90a45f7d9fccb74489fae0d62d,Update placement upgrade docs for nova-api dependency on placement,MERGED,2018-05-16 18:31:06.000000000,2018-05-20 04:41:59.000000000,2018-05-19 01:55:37.000000000,9,0,0,568925,3abd5f5797737b54c10ea85d4b833aff054d1bee,23,11,2,1,6873,Matt Riedemann,mriedem,"Update placement upgrade docs for nova-api dependency on placement

Change If507e23f0b7e5fa417041c3870d77786498f741d makes nova-api
dependent on placement for deleting an instance when the nova-compute
service on which that instance is running is down, also known as
""local delete"".

Change I7b8622b178d5043ed1556d7bdceaf60f47e5ac80 makes nova-api
dependent on placement for deleting a nova-compute service record.

Both changes are idempotent if nova-api isn't configured to use
placement, but warnings will show up in the logs.

This change updates the upgrade docs to mention the new dependency.

Change-Id: I941a8f4b321e4c90a45f7d9fccb74489fae0d62d
Related-Bug: #1679750
Related-Bug: #1756179
"
openstack%2Fopenstack-helm~master~Ia7725cd41b578730b853cbedaa97f28ff9806936,openstack/openstack-helm,master,memcached-exporter,Ia7725cd41b578730b853cbedaa97f28ff9806936,Add prometheus memcached exporter,MERGED,2018-03-01 19:48:06.000000000,2018-05-20 01:41:17.000000000,2018-05-20 01:41:17.000000000,218,2,0,549032,e39a1ba75046b96c848e23bfb27e5a3be2545eca,10,4,2,7,17591,Steve Wilkerson,srwilkers,"Add prometheus memcached exporter

This adds a prometheus memcached exporter to the memcached chart
and disables it by default

Change-Id: Ia7725cd41b578730b853cbedaa97f28ff9806936
"
openstack%2Fopenstack-helm~master~Ifc9c1ceda5b62532a44b83733aad9755165f5b55,openstack/openstack-helm,master,fix/playbook_steps,Ifc9c1ceda5b62532a44b83733aad9755165f5b55,Fix task names in dev deploy playbooks,MERGED,2018-05-17 13:49:08.000000000,2018-05-20 01:37:58.000000000,2018-05-20 01:37:58.000000000,2,2,0,569118,3a86bc9a64d5f75c7680b3778b8daba787178565,18,5,3,2,17591,Steve Wilkerson,srwilkers,"Fix task names in dev deploy playbooks

The task names in the dev deploy playbooks for deploying k8s
were mistakenly named after the previous tasks. This fixes them
appropriately

Change-Id: Ifc9c1ceda5b62532a44b83733aad9755165f5b55
"
openstack%2Fopenstack-ansible~master~I1a0df433c30236f300aeb5659c86299c2d41b637,openstack/openstack-ansible,master,enable-aio-metal-opensuse,I1a0df433c30236f300aeb5659c86299c2d41b637,zuul: Make openSUSE metal jobs voting,MERGED,2018-05-16 08:04:30.000000000,2018-05-20 00:37:36.000000000,2018-05-20 00:37:36.000000000,2,1,0,568778,ffad8ebb4d7ce64e4c7c05cfd39e61af77d7fbb5,10,3,2,2,23163,Markos Chandras (hwoarang),mchandras,"zuul: Make openSUSE metal jobs voting

Change-Id: I1a0df433c30236f300aeb5659c86299c2d41b637
"
openstack%2Fopenstack-helm-infra~master~Ife1fd68b5897e1ab0d116beb92c47f19a65d399b,openstack/openstack-helm-infra,master,custom-tls,Ife1fd68b5897e1ab0d116beb92c47f19a65d399b,DNM: Test new method: buildCustomCert,ABANDONED,2018-05-17 15:18:23.000000000,2018-05-20 00:14:57.000000000,,49,3,0,569145,ff4c2b719d9c87374d8fa5ab22c2b92d17646000,5,1,2,6,20466,Tin Lam,tinlam,"DNM: Test new method: buildCustomCert

Testing the use of new buildCustomCert from sprig 2.15.

Change-Id: Ife1fd68b5897e1ab0d116beb92c47f19a65d399b
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fopenstack-ansible~master~I895f12807b3823f649369f27495c9182f01a7a14,openstack/openstack-ansible,master,,I895f12807b3823f649369f27495c9182f01a7a14,Replace deprecated library function os.popen() with subprocess,MERGED,2018-05-17 13:44:17.000000000,2018-05-19 23:09:22.000000000,2018-05-19 23:09:22.000000000,6,2,0,569116,40771a06c077f34d4d50cd3aa5df459af1be96da,8,4,1,2,21486,wangqi,wangqi,"Replace deprecated library function os.popen() with subprocess

os.popen() is deprecated since version 2.6. Resolved with use of
subprocess module.

Change-Id: I895f12807b3823f649369f27495c9182f01a7a14
"
openstack%2Fopenstack-ansible-galera_server~master~I694e99dd587a8b255046e560b29cd0c09c970b7a,openstack/openstack-ansible-galera_server,master,add_bionic_support,I694e99dd587a8b255046e560b29cd0c09c970b7a,Add Bionic testing,MERGED,2018-05-08 20:08:43.000000000,2018-05-19 22:59:06.000000000,2018-05-19 22:59:06.000000000,2,0,0,567030,8c4ea224b98f51068cb8019b7cf5fedc9710e93d,17,5,4,3,17068,Jean-Philippe Evrard,evrardjp,"Add Bionic testing

Now that bionic testing is added into the tests repos, we can
start testing it in the repo.

Depends-On: https://review.openstack.org/#/c/566959/
Depends-On: https://review.openstack.org/#/c/567029/
Depends-On: https://review.openstack.org/#/c/567038/
Depends-On: https://review.openstack.org/#/c/567034/
Change-Id: I694e99dd587a8b255046e560b29cd0c09c970b7a
"
openstack%2Fnova~master~I03a6a8591f19013c14691779870a820fdff96f6d,openstack/nova,master,test,I03a6a8591f19013c14691779870a820fdff96f6d,DNM: testing https://review.openstack.org/#/c/569149,ABANDONED,2018-05-19 14:44:01.000000000,2018-05-19 21:55:32.000000000,,1,0,0,569574,baa3a8e1e046ab36ca2c03795f3cf5bd3ba9d9d5,12,10,1,1,8556,Ghanshyam,ghanshyam,"DNM: testing https://review.openstack.org/#/c/569149

Change-Id: I03a6a8591f19013c14691779870a820fdff96f6d
"
openstack%2Ftripleo-heat-templates~master~I497597a47533375f34a22a56e2e9a145d9393358,openstack/tripleo-heat-templates,master,bp/containerized-undercloud,I497597a47533375f34a22a56e2e9a145d9393358,Remove undercloud specific service definitions,MERGED,2018-05-04 23:46:21.000000000,2018-05-19 21:45:46.000000000,2018-05-19 21:45:45.000000000,112,93,1,566422,64bc4a7683fab7e9d6feb67cd3252c4716722e6e,63,8,7,12,14985,Alex Schultz,mwhahaha,"Remove undercloud specific service definitions

Since we're aligning the overcloud/undercloud and we've switched to
containerization it, we should reuse the same heat services rather than
duplicating the services with the Undercloud definition.

Depends-On: Ic7dba7e548f85574cce2db23e3fec5c8ea761bb7
Change-Id: I497597a47533375f34a22a56e2e9a145d9393358
Related-Blueprint: containerized-undercloud
"
openstack%2Freleases~master~I935865266c80d1dac208df43b4c97c05d7aba96a,openstack/releases,master,,I935865266c80d1dac208df43b4c97c05d7aba96a,Release monasca-agent 2.2.4 for Pike,MERGED,2018-05-16 09:00:21.000000000,2018-05-19 21:07:18.000000000,2018-05-19 21:07:18.000000000,4,0,0,568790,0483870b5398a844628955be4ccea913f2f32ed3,12,7,1,1,16222,witek,witek,"Release monasca-agent 2.2.4 for Pike

Change-Id: I935865266c80d1dac208df43b4c97c05d7aba96a
"
