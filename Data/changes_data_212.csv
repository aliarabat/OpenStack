id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Ftripleo-ansible~master~I3f55f0a7f966f025a9938576ccf735f50f4c8589,openstack/tripleo-ansible,master,callback-improvements,I3f55f0a7f966f025a9938576ccf735f50f4c8589,Prepend timestamp callback output,MERGED,2020-06-03 20:17:08.000000000,2020-07-06 18:40:21.000000000,2020-06-04 11:26:49.000000000,21,10,1,733394,97b68ec0597123840ee3d1c5b58422e6c437cb05,12,5,1,2,14985,Alex Schultz,mwhahaha,"Prepend timestamp callback output

It's useful to know when a command last ran as well as being able to
cross coordinate when something was running between the ansible output
and other logs. We can use the output timestamp do this.

Change-Id: I3f55f0a7f966f025a9938576ccf735f50f4c8589
"
openstack%2Fcinder~master~I3a0640e5f68bcfe4031562f1a6a2485ba4763e91,openstack/cinder,master,validation_race_retype_sg_resume,I3a0640e5f68bcfe4031562f1a6a2485ba4763e91,PowerMax Driver - Create vol suspend fix & DeviceID check,MERGED,2020-05-11 10:45:46.000000000,2020-07-06 18:37:35.000000000,2020-07-06 18:35:06.000000000,332,104,2,726772,ee2d3189bda913161c9ac3dc11cf09c60bf7f022,102,33,2,3,30165,Simon O'Donovan,odonos12,"PowerMax Driver - Create vol suspend fix & DeviceID check

Moved exception handling from _create_volume into create
rdf/non-rdf vol helper methods. Added RDFG resume attempts
to exception handling of RDF enabled vol creates and deletes.
Added device ID check before return from volume create to
verify returned device ID against device label on PowerMAX.

Change-Id: I3a0640e5f68bcfe4031562f1a6a2485ba4763e91
Closes-Bug: 1877976
"
openstack%2Fopenstack-ansible-os_keystone~master~Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd,openstack/openstack-ansible-os_keystone,master,idp-improvements,Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd,Identity Providers support improvments,MERGED,2020-07-02 14:33:33.000000000,2020-07-06 18:22:31.000000000,2020-07-06 18:08:59.000000000,3,0,0,739054,4c9642765e632d409c6d9028aae26f4514af7033,14,3,3,2,29865,Georgina Shippey,gshippey,"Identity Providers support improvments

Identity providers can be created with specified domain
IDPs are linked to a keystone domain. Currently when we provision a new IDP
it gets created within a new autogenerated domain. Provisioners can now
give a domain_id in an IDP entry within the trusted_idp_list and the IDP
will be created within that domain.

Add IDP display_name to defaults
Allows operator a name different to the one used in the backend
to display to the user in the horizon Identity Provider dropdown.

Change-Id: Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd
"
openstack%2Freleases~master~If0dd6f5575c143f4b92421b29fb57940728908dc,openstack/releases,master,,If0dd6f5575c143f4b92421b29fb57940728908dc,Release keystoneauth 3.17.3,MERGED,2020-07-02 01:45:33.000000000,2020-07-06 18:14:47.000000000,2020-07-06 18:14:47.000000000,4,0,0,738948,e82a251281970752b72571af1956f7f81b34b201,12,8,1,1,5046,Lance Bragstad,ldbragst,"Release keystoneauth 3.17.3

Change-Id: If0dd6f5575c143f4b92421b29fb57940728908dc
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Ftrain~I020986bbc2d5baa73a19ee7e1070019cb4e9ce63,openstack/openstack-ansible-os_keystone,stable/train,add-oidc-auth-params-stable/train,I020986bbc2d5baa73a19ee7e1070019cb4e9ce63,Add OIDCAuthRequestParams parameter to template,MERGED,2020-06-16 10:56:25.000000000,2020-07-06 18:12:10.000000000,2020-07-06 18:08:58.000000000,3,0,0,735869,c773cc692d00c485f8be1a4dfc62adc905004abf,17,5,1,1,29865,Georgina Shippey,gshippey,"Add OIDCAuthRequestParams parameter to template

Added the OIDCAuthRequestParams line to the keystone-httpd.conf template
This allows for the addition of optional extra parameters that will be sent
along with the Authorization Request when using federated logins:
https://github.com/zmartzone/mod_auth_openidc/blob/master/auth_openidc.conf

Change-Id: I020986bbc2d5baa73a19ee7e1070019cb4e9ce63
(cherry picked from commit f0ce41ea61ed13933157e6d4794cf83040f3fd7a)
"
openstack%2Fironic-python-agent~master~I3e0d237d37219e783d81913fa6cc490492b3f96a,openstack/ironic-python-agent,master,,I3e0d237d37219e783d81913fa6cc490492b3f96a,Limit Inspection->Lookup->Heartbeat lag,MERGED,2020-07-02 17:16:56.000000000,2020-07-06 18:12:09.000000000,2020-07-06 18:08:14.000000000,71,6,3,739120,c76b8b2c217d57680baec977b374e821304198f9,20,6,3,8,11655,Julia Kreger,jkreger,"Limit Inspection->Lookup->Heartbeat lag

Caches hardware information collected during inspection
so that the initial lookup can occur without any delay.

Also adds logging to track how long inventory collection takes.

Co-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>
Change-Id: I3e0d237d37219e783d81913fa6cc490492b3f96a
"
openstack%2Fneutron~stable%2Frocky~Ie846a8cb481da65999b12f5547b407cc7bdc3138,openstack/neutron,stable/rocky,grenade-em-nv,Ie846a8cb481da65999b12f5547b407cc7bdc3138,"Fix rocky gates, multiple fixes",MERGED,2020-07-01 14:05:44.000000000,2020-07-06 18:09:54.000000000,2020-07-06 18:09:54.000000000,25,26,0,738851,57f527a748f292597ee548e8d386720b72346d17,34,8,9,5,21798,Bernard Cafarelli,bcafarel,"Fix rocky gates, multiple fixes

1. Make grenade jobs experimental for EM branches

As discussed in ML thread[1], we are going to
make grenade jobs as non voting for all EM stable and
oldest stable. grenade jobs are failing not and it might take
time to fix those if we are able to fix. Once it jobs are
working depends on project team, they can bring them back to
voting or keep non-voting.

If those jobs are failing consistently and no one is fixing them
then removing those n-v jobs in future also fine.

Additionally, it was proposed in neutron CI meeting [2] that non-voting
jobs would be moved to experimental, so move grenade jobs there instead
of keeping them non-voting

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html
[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101

StableOnly

Conflicts:
	.zuul.yaml

(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)

2. Install pip2 for functional/fullstack/neutron-tempest-iptables_hybrid

Else both jobs fail with ""sudo: pip: command not found""

3. Add ensure-tox for functional/fullstack/neutron-tempest-iptables_hybrid

Similar error message for tox

4. Disable OVS compilation for fullstack and move job to experimental

Compilation fails similarly to recent master failures:
/opt/stack/new/ovs/datapath/linux/geneve.c:943:15: error: ‘const struct ipv6_stub’ has no member named ‘ipv6_dst_lookup’

But branch 2.9 is not updated anymore. Use official package

This triggers a few tests failures, so move it to experimental (instead
of marking non-voting), same as grenade jobs

Change-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138
"
openstack%2Fansible-role-systemd_service~master~I73f38d6b9cc897537053d810d5cdd61ed74671fb,openstack/ansible-role-systemd_service,master,,I73f38d6b9cc897537053d810d5cdd61ed74671fb,Remove fail: tasks,MERGED,2020-06-09 12:50:53.000000000,2020-07-06 18:01:33.000000000,2020-07-06 17:02:06.000000000,0,122,0,734597,492031108ece622eb21621e8e26f1bfb458812a6,13,4,2,2,25023,Jonathan Rosser,jrosser,"Remove fail: tasks

Assume that the operator knows what they are doing. These tasks
are skipped for every service which bumps up the number of tasks
and runtime.

Change-Id: I73f38d6b9cc897537053d810d5cdd61ed74671fb
"
openstack%2Fsenlin-dashboard~master~I2649e86a9cb5640efa89a5be88fb2f6db3cc81ac,openstack/senlin-dashboard,master,zanata/translations,I2649e86a9cb5640efa89a5be88fb2f6db3cc81ac,Imported Translations from Zanata,MERGED,2020-06-16 13:52:44.000000000,2020-07-06 18:00:33.000000000,2020-07-06 17:57:01.000000000,5,5,0,735920,c8f5139ed88ebe7823d70fa988c2bbea74747c1b,11,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2649e86a9cb5640efa89a5be88fb2f6db3cc81ac
"
openstack%2Fansible-role-python_venv_build~master~I1a8f4961358c9551c5493b332187b411177b2769,openstack/ansible-role-python_venv_build,master,,I1a8f4961358c9551c5493b332187b411177b2769,Remove the virtualenv version check,MERGED,2020-07-06 12:40:49.000000000,2020-07-06 17:58:34.000000000,2020-07-06 17:56:38.000000000,9,28,0,739479,aabd3c07c29fd89a56cadc01ec3a2e3b682e5e14,10,3,2,3,25023,Jonathan Rosser,jrosser,"Remove the virtualenv version check

Simplify this code by making the assumption that we always have a
new enough version of virtualenv present. Centos-7 ships 15.1.0 so
it is now possible to remove some conditional logic as well.

This patch removes the version check and replaces it with a check
that the virtualenv command is present on the system patch and
is usable.

Change-Id: I1a8f4961358c9551c5493b332187b411177b2769
"
openstack%2Fansible-role-systemd_service~master~I3d28967a64ea9d91219294bdc30d337c9c6d2e50,openstack/ansible-role-systemd_service,master,,I3d28967a64ea9d91219294bdc30d337c9c6d2e50,"Revert ""Build out the PrivateNetwork function for services""",MERGED,2020-06-09 12:50:53.000000000,2020-07-06 17:56:05.000000000,2020-07-06 17:49:23.000000000,1,307,0,734598,9924a05f97e77f58c62921655077930fb1fa3b96,13,5,2,8,25023,Jonathan Rosser,jrosser,"Revert ""Build out the PrivateNetwork function for services""

This reverts commit 6285b6c6389134c53a5a98a0392b016a594bab16.

There is no use made of this functionality anywhere outside the tests
for this role, so revert the code. The intention is to reduce general
overhead in systemd_service and reduce the number of skipped tasks
in an OSA deployment.

Conflicts: tests/test.yml
Change-Id: I3d28967a64ea9d91219294bdc30d337c9c6d2e50
"
openstack%2Fironic-inspector~master~I6f60aea41865f09f9e53e5d91b1e887f0b39efbd,openstack/ironic-inspector,master,story_2007801,I6f60aea41865f09f9e53e5d91b1e887f0b39efbd,Add leader election for periodic sync with ironic,MERGED,2020-06-15 08:35:37.000000000,2020-07-06 17:53:46.000000000,2020-07-06 17:51:44.000000000,106,26,16,735527,0d20064f44835d8abe91ef3e89daa8cbb25b0c48,66,6,12,5,10239,Dmitry Tantsur,dtantsur,"Add leader election for periodic sync with ironic

Periodically elect a leader to do the cleanup sync with
Ironic (to avoid unnecessary calls to  Ironic in a
multi-inspector setup).
Add config option 'leader_election_interval' to control
the period in which the leaders is elected.

Co-authored-by: Arne Wiebalck <arne.wiebalck@cern.ch>

Story: #2007801
Change-Id: I6f60aea41865f09f9e53e5d91b1e887f0b39efbd
"
openstack%2Fopenstack-ansible~stable%2Ftrain~I4066d74d3547343929d5208fb453732786b36948,openstack/openstack-ansible,stable/train,translations-trove-network,I4066d74d3547343929d5208fb453732786b36948,Fix the name of the renamed network for trove,MERGED,2020-06-24 18:30:35.000000000,2020-07-06 17:52:16.000000000,2020-07-06 17:48:15.000000000,2,2,0,737858,5a504268e66f86d5fa6bc8c4aca3e2083e59d4c5,53,8,4,1,14200,Maksim Malchuk,mmalchuk,"Fix the name of the renamed network for trove

The change I60e6126a9fc0ca5c51009fb207642ce2c1afa323 brings the issue with
fail in the translations scenario during the trove configuration. This change
renames the flat network for trove in order to match the required flat name
that is dbaas-mgmt.

Change-Id: I4066d74d3547343929d5208fb453732786b36948
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit fb2925b7a76bf204a93311256224c141f31f3c9e)
"
openstack%2Fdevstack~master~I82f539bfa533349293dd5a8ce309c9cc0ffb0393,openstack/devstack,master,uwsgi,I82f539bfa533349293dd5a8ce309c9cc0ffb0393,Use packaged uwsgi on Fedora and Ubuntu,MERGED,2018-06-26 01:54:05.000000000,2020-07-06 17:48:04.000000000,2020-06-15 08:12:41.000000000,46,20,9,577955,2d903568ed4158aa668bbda6986307a8780c71a4,119,13,27,1,7118,Ian Wienand,iwienand,"Use packaged uwsgi on Fedora and Ubuntu

Building uwsgi from source was a workaround that was introduced a long
time ago, it doesn't seem like it is needed anymore and will actually
fail for Ubuntu 20.04.

Also it doesn't match what will happen for most real-world
installations, so let's try to get back to using distro packages. We'll
still use the source install for RHEL/Centos, it remains to be tested
whether we can get back to using distro versions there, too.

Change-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393
"
openstack%2Fmonasca-common~stable%2Fussuri~I59e2722f4c9a07ffdb2dc7e7c187ada638ec8a09,openstack/monasca-common,stable/ussuri,ussuri,I59e2722f4c9a07ffdb2dc7e7c187ada638ec8a09,Switch to Ussuri jobs,MERGED,2020-07-03 12:13:45.000000000,2020-07-06 17:45:45.000000000,2020-07-06 17:45:45.000000000,1,1,0,739220,44b390866bd7b2fb0149e7fb0e6cc76b5cc5809e,22,5,3,1,28062,Martin Chacon Piza,martinchacon,"Switch to Ussuri jobs

Change-Id: I59e2722f4c9a07ffdb2dc7e7c187ada638ec8a09
"
openstack%2Fpython-tripleoclient~master~I4b30c0c2478d401babe3e690bd54b2853201baab,openstack/python-tripleoclient,master,ci/standalone/containers,I4b30c0c2478d401babe3e690bd54b2853201baab,zuul: run standalone job with locally built images,MERGED,2020-06-03 19:43:55.000000000,2020-07-06 17:39:49.000000000,2020-07-06 17:34:35.000000000,4,0,0,733389,d57fb767f27b0cdd562a17d01d982d0b66dce76c,42,5,9,1,3153,Emilien Macchi,emilienm,"zuul: run standalone job with locally built images

We now want to test the CLI that builds the container images, so we
picked standalone job and will run the same job except that instead of
pulling images from a remote registry, we'll build them locally and use
them for the deployment.

Depends-On: https://review.opendev.org/729824
Depends-On: https://review.opendev.org/729465
Depends-On: https://review.opendev.org/734870
Depends-On: https://review.opendev.org/733388

Change-Id: I4b30c0c2478d401babe3e690bd54b2853201baab
"
openstack%2Fcinder~stable%2Fpike~I831321d12a6df2b950f05e2452710b9ae105ada4,openstack/cinder,stable/pike,fix_for_ossn_0886,I831321d12a6df2b950f05e2452710b9ae105ada4,Remove VxFlex OS credentials from connection_properties,ABANDONED,2020-07-06 16:28:12.000000000,2020-07-06 17:22:33.000000000,,35,3,0,739545,31d470f0a303f78f0fd39a6330a746065cd74e9a,4,3,1,2,14892,Keith Berger,kberger,"Remove VxFlex OS credentials from connection_properties

VxFlex OS password is not stored in block_device_mapping table.
Instead of this passwords are stored in separate file and are
retrieved during each attach/detach operation.

The stable/queens branch is in Extended Maintenance mode and is no
longer released from.  If you decide to apply this patch to your
deployment, you must make a corresponding change to the os-brick
library.  You can find the os-brick patch for stable/queens here:
    https://review.opendev.org/#/c/733104

Additionally, you must deploy a new configuration file on compute
nodes, cinder nodes, and anywhere you would perform a volume
attachment in your deployment.  See the documentation change on
this patch for details about the new config file.

See OSSN-0086 for more information about this change:
    https://wiki.openstack.org/wiki/OSSN/OSSN-0086

Closes-Bug: #1823200
Change-Id: I831321d12a6df2b950f05e2452710b9ae105ada4
(cherry picked from commit 89bdebd2a92f83a199c86855a63fd3deab9a489c)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I501f31b52db6e10826bd9a346d38e34f95ae8b75,openstack/tripleo-ansible,stable/ussuri,container/configs-stable/ussuri,I501f31b52db6e10826bd9a346d38e34f95ae8b75,Implement container_startup_config module,MERGED,2020-07-03 19:34:20.000000000,2020-07-06 17:21:56.000000000,2020-07-06 17:21:56.000000000,271,15,0,739278,80f9ccd7f433fdffbef38cfd40c00b7b574b4bae,7,3,1,8,3153,Emilien Macchi,emilienm,"Implement container_startup_config module

container_startup_config will replace a bunch of tasks that we did in
THT to generate the .json file for each container in
/var/lib/tripleo-config/container-startup-config.

It'll accelerate a bit the deployment by replacing tasks into a
single module, so we can generate the startup configs much faster.

Also tolerate empty configs in container_config_data, switching a
failure into a debug. If the config is empty, there is no need to run
the rest of the role tasks in tripleo_container_manage.

Note: we manage the SElinux context at the openstack-selinux:
https://github.com/redhat-openstack/openstack-selinux/commit/0b62


Change-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75
(cherry picked from commit 76bb50476247f367c85d0e8a64dabebb6da1ee4c)
"
openstack%2Fkolla-ansible~stable%2Ftrain~I820dea961e270de9eabb9cc3c75303f5170ce737,openstack/kolla-ansible,stable/train,bug/1884090,I820dea961e270de9eabb9cc3c75303f5170ce737,Support using Logstash 6 image with Centos8,MERGED,2020-06-25 10:55:35.000000000,2020-07-06 17:21:35.000000000,2020-07-06 17:15:23.000000000,89,4,7,737967,4e1225b04b148a6af109da333696e93da869fafa,20,6,4,8,17669,Doug Szumski,DougSzumski,"Support using Logstash 6 image with Centos8

When using Centos8 with the Train release only Elasticsearch 6 is provided.
Whilst the Logstash 2 image builds for Centos8, we upgrade it inline with
Elasticsearch to avoid compatibility problems [1].

[1] https://www.elastic.co/support/matrix#matrix_compatibility

Depends-On: https://review.opendev.org/#/c/736745/
Change-Id: I820dea961e270de9eabb9cc3c75303f5170ce737
Partial-Bug: #1884090
"
openstack%2Fpython-tripleoclient~master~I7d733499e74abe2cdf91526df608dc7c273bf19e,openstack/python-tripleoclient,master,strategy-improvements,I7d733499e74abe2cdf91526df608dc7c273bf19e,overcloud_deploy: raise at the end if Ansible Runner had exception,MERGED,2020-06-16 14:41:43.000000000,2020-07-06 17:13:34.000000000,2020-07-06 17:05:26.000000000,93,78,5,735930,5b63958105d73eadac9c598982e68ef35defa4a1,50,8,6,2,3153,Emilien Macchi,emilienm,"overcloud_deploy: raise at the end if Ansible Runner had exception

In the context of MaxFailPercentage, if a node (e.g. one of 100
computes) has any fatal error during an Ansible play and we tolerate
some percentage of failure; we want to raise the error but at the very
end of the deployment.

So this patch puts the following actions in a ""finally"" block so they
always execute:

* Create overcloudrc
* Sets the right permissions to the clouds.yaml
* Execute _deploy_postconfig
* Print infos like Keystone entpoint, Horizon URL, RC file location
  and deploy message (saying if there is an error or not)

And at the very end we raise the actual AnsibleRunner trace if the
deployment failed.

So even if a node failed and we tolerate it, we'll still finish the
deployment until the end, but for UX purpose we want to raise it at the
very end.
Note that when it fails and it's tolerated, Ansible prints the node as
""ignored"":

PLAY RECAP ******************************************************************
compute-0    : ok=555  (...)  failed=0    skipped=484  rescued=0    ignored=0
compute-1    : ok=60   (...)  failed=1    skipped=40   rescued=0    ignored=1
controller-0 : ok=960  (...)  failed=0    skipped=709  rescued=0    ignored=0
controller-1 : ok=920  (...)  failed=0    skipped=693  rescued=0    ignored=0
controller-2 : ok=919  (...)  failed=0    skipped=693  rescued=0    ignored=0
undercloud   : ok=86   (...)  failed=0    skipped=57   rescued=0    ignored=0

To improve UX, we'll investigate an Ansible callback to properly tell
what nodes needs to be re-deployed.

Note: also mock copy_clouds_yaml since it wasn't tested before but it's
failing to reach the files on the filesystem.
Change-Id: I7d733499e74abe2cdf91526df608dc7c273bf19e
"
openstack%2Fkayobe~stable%2Fussuri~I238aeefefa88dd584ce61ac9eb52d50552336ed0,openstack/kayobe,stable/ussuri,placement-build-stable/ussuri,I238aeefefa88dd584ce61ac9eb52d50552336ed0,Fix condition of placement image build,MERGED,2020-06-26 15:04:10.000000000,2020-07-06 17:11:50.000000000,2020-07-06 17:08:47.000000000,1,1,0,738221,eef94567596cb30dcc866fd5a8cf162cdf9aa631,23,4,1,1,14826,Mark Goddard,mgoddard,"Fix condition of placement image build

This should fix placement image build if nova is disabled but zun is
enabled.

Change-Id: I238aeefefa88dd584ce61ac9eb52d50552336ed0
(cherry picked from commit 931fa4830d681281ff189bed15fbc9e0554428c0)
"
openstack%2Ftripleo-heat-templates~master~I79631ce0ed450febae96db2f32198e02eb427d91,openstack/tripleo-heat-templates,master,bug/1883609,I79631ce0ed450febae96db2f32198e02eb427d91,Fix privilege escalation,MERGED,2020-06-16 21:15:48.000000000,2020-07-06 17:08:32.000000000,2020-07-06 17:08:32.000000000,41,2,0,736047,4e39acd14771ef9e8085b29be3b9374678d8089e,45,6,14,9,14985,Alex Schultz,mwhahaha,"Fix privilege escalation

This change enabled become: true to the deploy step and host prep task
execution. external tasks are still become: false as they are delegated
to localhost and run as the same user running the deployment.

Change-Id: I79631ce0ed450febae96db2f32198e02eb427d91
Related-Bug: #1883609
"
openstack%2Fpython-tripleoclient~master~Ia32acda4f22d99ada07291aaf52c97c676d13dd4,openstack/python-tripleoclient,master,bug/1883692,Ia32acda4f22d99ada07291aaf52c97c676d13dd4,Set portmap cidr fields to extracted CIDR,MERGED,2020-06-24 18:35:17.000000000,2020-07-06 17:08:24.000000000,2020-07-06 17:05:25.000000000,6,6,1,737859,921bcef209626e9668a3de32ad526151e49a5d4d,18,4,5,1,6681,Brent Eagles,beagles,"Set portmap cidr fields to extracted CIDR

Previously were just getting the address+mask which doesn't work well
for some uses.

Related-Bug: #1883692
Change-Id: Ia32acda4f22d99ada07291aaf52c97c676d13dd4
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I3bf244a70538209773804eb85fae6be035c587f4,openstack/puppet-tripleo,stable/train,fix-override-stable/ussuri-stable/train,I3bf244a70538209773804eb85fae6be035c587f4,Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent,MERGED,2020-06-30 13:21:04.000000000,2020-07-06 17:05:24.000000000,2020-07-06 17:05:24.000000000,25,2,0,738618,f930e3a50a1053510fe904af4d32aec3344f6d75,17,4,2,1,20172,Michele Baldessari,michele,"Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent

In THT we allow RabbitAdditionalErlArgs to set some additional
parameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS
when starting rabbit. The problem is that when we use internal tls
that parameter gets ignored and so we lose our default '+sbwt none'.

Let's do this via a proper parameter while also considering the fact
that historically the default value of RabbitAdditionalErlArgs had
apices around it.

Since the original master change had an issue when the THT parameter
was unset (aka when I567839785a72813a382a00253562894e19eb6715 was not
applied to THT), we also add the subsequent fixup ""Make the additional_erl_args
change more independent"" I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a to
this change)

Change-Id: I3bf244a70538209773804eb85fae6be035c587f4
Related-Bug: #1884922
(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I96453d9236cb92922b058d697be8d8696f279c66,openstack/tripleo-ansible,stable/ussuri,bug/1884696,I96453d9236cb92922b058d697be8d8696f279c66,Prepare tripleo deps repo in tripleo_client_install molecule job,MERGED,2020-07-06 11:01:12.000000000,2020-07-06 17:03:34.000000000,2020-07-06 17:03:33.000000000,2,0,0,739462,3b0868e46cbc935e4fa1d55e216d8df823908963,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare tripleo deps repo in tripleo_client_install molecule job

Change-Id: I96453d9236cb92922b058d697be8d8696f279c66
Closes-Bug: #1884696
(cherry picked from commit c70a5c8f08f697a29c42eb8ee3ddf376fec1c860)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I55f078be5fbdd762ffb63fb25ca6a192abb2e049,openstack/tripleo-ansible,stable/ussuri,callback-improvements-stable/ussuri,I55f078be5fbdd762ffb63fb25ca6a192abb2e049,Handle unreachable,MERGED,2020-07-03 13:58:41.000000000,2020-07-06 17:03:32.000000000,2020-07-06 17:03:32.000000000,13,0,0,739239,2ed776dc0ae323c22f99cab2849207e2fe70746f,7,5,1,1,3153,Emilien Macchi,emilienm,"Handle unreachable

We forgot to handle unreachable errors.

fatal: [compute-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to
connect to the host via ssh: ssh: connect to host 192.168.24.18 port 22:
No route to host"", ""unreachable"": true}

Change-Id: I55f078be5fbdd762ffb63fb25ca6a192abb2e049
(cherry picked from commit ffe694808e47957340b4dbc3a17581239243880a)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I55f078be5fbdd762ffb63fb25ca6a192abb2e049,openstack/tripleo-ansible,stable/train,callback-improvements-stable/train,I55f078be5fbdd762ffb63fb25ca6a192abb2e049,Handle unreachable,MERGED,2020-07-03 13:58:50.000000000,2020-07-06 17:03:31.000000000,2020-07-06 17:03:30.000000000,13,0,0,739240,c53bf61d985f55c0efa2a0d451354d399a892d0f,7,5,1,1,3153,Emilien Macchi,emilienm,"Handle unreachable

We forgot to handle unreachable errors.

fatal: [compute-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to
connect to the host via ssh: ssh: connect to host 192.168.24.18 port 22:
No route to host"", ""unreachable"": true}

Change-Id: I55f078be5fbdd762ffb63fb25ca6a192abb2e049
(cherry picked from commit ffe694808e47957340b4dbc3a17581239243880a)
"
openstack%2Fironic~stable%2Ftrain~Iad6cb02ee4f17b7c5987719b3a0603df210c840d,openstack/ironic,stable/train,deleting-stable/train,Iad6cb02ee4f17b7c5987719b3a0603df210c840d,Clean up nodes in DELETING on conductor restart,MERGED,2020-07-06 12:35:57.000000000,2020-07-06 16:52:17.000000000,2020-07-06 16:48:07.000000000,9,4,0,739473,94d74f2de5e4873af3ced4c897f583dd4d3a70dd,9,4,1,5,10239,Dmitry Tantsur,dtantsur,"Clean up nodes in DELETING on conductor restart

Change-Id: Iad6cb02ee4f17b7c5987719b3a0603df210c840d
(cherry picked from commit 4f6374a209dcf96ecf7d55da4999b045ae4061ef)
"
openstack%2Fironic-inspector~master~I35b5df4b7e3d519c8b567d5cf0d424aafee68fa9,openstack/ironic-inspector,master,prep-renotes,I35b5df4b7e3d519c8b567d5cf0d424aafee68fa9,Prepare release notes for release 10.2,MERGED,2020-07-02 15:58:32.000000000,2020-07-06 16:52:11.000000000,2020-07-06 16:48:06.000000000,8,7,0,739081,79878d7f4db1307f9e3322d96ccc0af984577236,9,3,2,2,23851,Riccardo Pittau,elfosardo,"Prepare release notes for release 10.2

Change-Id: I35b5df4b7e3d519c8b567d5cf0d424aafee68fa9
"
openstack%2Fpython-ironicclient~master~If462d6a5e2304ebc6647087cad89007fe2576acb,openstack/python-ironicclient,master,,If462d6a5e2304ebc6647087cad89007fe2576acb,Remove pypy,MERGED,2020-07-03 13:55:34.000000000,2020-07-06 16:51:44.000000000,2020-07-06 16:48:09.000000000,2,2,3,739235,f1f10385fad74c653c47781489ce4fc5f5a590ef,14,5,2,2,26285,wu.chunyang,wu.chunyang,"Remove pypy

Pypy is not tested in OpenStack anymore, remove the job.

Change-Id: If462d6a5e2304ebc6647087cad89007fe2576acb
"
openstack%2Fironic-python-agent~master~If1408e4b81d263c56b4bbab618dd0737db5f762e,openstack/ironic-python-agent,master,lib-exc,If1408e4b81d263c56b4bbab618dd0737db5f762e,Fix serializing ironic-lib exceptions,MERGED,2020-07-02 10:19:39.000000000,2020-07-06 16:51:37.000000000,2020-07-06 16:47:57.000000000,39,0,0,739005,a4855c544cac35e92ce7c20143536ca7a3bb847a,11,4,1,3,10239,Dmitry Tantsur,dtantsur,"Fix serializing ironic-lib exceptions

Change-Id: If1408e4b81d263c56b4bbab618dd0737db5f762e
Story: #2007889
Task: #40268
"
openstack%2Fglance~master~Ie3698c7334b31c2291b41fd3f7e21add0dd6a19b,openstack/glance,master,lower-constraints,Ie3698c7334b31c2291b41fd3f7e21add0dd6a19b,Update lower-constraints versions,MERGED,2020-06-09 18:29:59.000000000,2020-07-06 16:41:59.000000000,2020-07-06 16:37:59.000000000,16,28,2,734665,9eb562ebfa68bc419a82c05d1f96c8477322e25a,13,5,2,2,11904,Sean McGinnis,SeanM,"Update lower-constraints versions

This updates lower constraints to versions that will work with py38 so
that when we move to running on focal nodes, which has py38 as its
default py3 runtime, the lower-constraints job will continue to pass.

It also cleans out some secondary requirements that are no longer needed
due to our direct dependencies being updated.

Linters are removed that are kept in the global requirements blacklist
as those are not version tracked and are not relevant for our
lower-constraints unit test runs.

Change-Id: Ie3698c7334b31c2291b41fd3f7e21add0dd6a19b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Frequirements~master~I7181a0b198b9f3f3140dd16d2a1ee15ab76e46ed,openstack/requirements,master,new-release,I7181a0b198b9f3f3140dd16d2a1ee15ab76e46ed,update constraint for os-traits to new release 2.4.0,MERGED,2020-07-03 13:05:42.000000000,2020-07-06 16:41:41.000000000,2020-07-06 16:37:56.000000000,1,1,0,739225,55771bbaa143dd12e351d90a1b1294b045077fa9,14,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-traits to new release 2.4.0

Change-Id: I7181a0b198b9f3f3140dd16d2a1ee15ab76e46ed
meta:version: 2.4.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Lin Yang <lin.a.yang@intel.com>
meta:release:Commit: Lin Yang <lin.a.yang@intel.com>
meta:release:Change-Id: I0786e73160f0ecac604279c79334d4f697d0edde
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Tetsuro Nakamura <tetsuro.nakamura.bc@hco.ntt.co.jp>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
"
openstack%2Fglance~stable%2Fussuri~I44bfefb6eee421e18e5e95a0dafaef0ea4e170da,openstack/glance,stable/ussuri,bug/1885003-stable/ussuri,I44bfefb6eee421e18e5e95a0dafaef0ea4e170da,Fix: Interrupted copy-image leaking data on subsequent operation,MERGED,2020-07-06 05:43:06.000000000,2020-07-06 16:41:35.000000000,2020-07-06 16:37:57.000000000,82,1,0,739403,72510f9ce90970e75a95492c7647fd63ac2636dc,9,4,1,2,9303,Abhishek Kekane,abhishekkekane,"Fix: Interrupted copy-image leaking data on subsequent operation

If copying existing image in other stores fails while staging the data to
staging directory due to power, network or any other reason. Then
subsequent try may lead to data leaks in stores.

To fix this, added check of the actual image size with the size
of image file present in the staging area. If it does not match
then delete the image file from staging area so that the entire
image will be staged again.

Change-Id: I44bfefb6eee421e18e5e95a0dafaef0ea4e170da
Closes-Bug: #1885003
(cherry picked from commit 22d8f1fcbf4325d79ac18adfe87198c785f1df52)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I08c4562308a5a5ce93e64a7485ab207af2241565,openstack/tripleo-heat-templates,stable/stein,bug/1877130,I08c4562308a5a5ce93e64a7485ab207af2241565,Fix typo in setting octavia wsgi server name,MERGED,2020-07-03 13:52:07.000000000,2020-07-06 16:30:03.000000000,2020-07-06 16:30:03.000000000,1,1,0,739233,ec1bcec1eaa184ef3b935f082cc465227e72d2ca,7,3,1,1,6681,Brent Eagles,beagles,"Fix typo in setting octavia wsgi server name

hiera was being set as server_name when it should've been servername.

Change-Id: I08c4562308a5a5ce93e64a7485ab207af2241565
Closes-Bug: #1877130
(cherry picked from commit dac08c4f0ebc79d0003a6a4610bbc240a808da22)
(cherry picked from commit 51565c0c3d2340c18b8e81cc540720fb711c6dad)
"
openstack%2Fopenstack-ansible~master~Icb4b196745c5b20d354298674e8918c6e3449d16,openstack/openstack-ansible,master,,Icb4b196745c5b20d354298674e8918c6e3449d16,Update repo location for networking-calico,ABANDONED,2020-05-27 08:29:42.000000000,2020-07-06 16:29:53.000000000,,37,6,0,731109,ff11f9b2c5f701f43552e817a2c6458ed9025c7e,8,4,3,3,25023,Jonathan Rosser,jrosser,"Update repo location for networking-calico

networking-calico is moved out of openstack_services.yml to so that
we clone the upstream role rather than try to find the repo pre-installed
in the zuul CI image.

Change-Id: Icb4b196745c5b20d354298674e8918c6e3449d16
"
openstack%2Ftripleo-heat-templates~master~I535d8360493267d50196aebb6365124b67e9ba78,openstack/tripleo-heat-templates,master,bug/1883609,I535d8360493267d50196aebb6365124b67e9ba78,Move sidecar kill scripts to host prep,MERGED,2020-06-17 15:52:39.000000000,2020-07-06 16:29:19.000000000,2020-07-04 00:45:55.000000000,93,102,1,736279,230481674ffd577ed83573daa28b6d3e0ef57637,36,7,10,3,14985,Alex Schultz,mwhahaha,"Move sidecar kill scripts to host prep

These tasks are really should be managed a single time against the host
rather than at deployment time.

Change-Id: I535d8360493267d50196aebb6365124b67e9ba78
Related-Bug: #1883609
"
openstack%2Fansible-role-tripleo-modify-image~master~I8391e02456a304d4e29256cbbf5433879c6c42b1,openstack/ansible-role-tripleo-modify-image,master,force,I8391e02456a304d4e29256cbbf5433879c6c42b1,rpm_install: return 0 if package was already installed,MERGED,2020-07-03 12:57:09.000000000,2020-07-06 16:28:54.000000000,2020-07-06 16:28:53.000000000,1,1,1,739224,affe2c3e71f87951302e48b0dd0789293cef4c53,8,4,1,1,3153,Emilien Macchi,emilienm,"rpm_install: return 0 if package was already installed

Currently, if the package was already installed, the script would return
2, or 6 or the package would be upgraded.
It causes the script to fail (we use set -e); so to avoid that we added
--replacepkgs --replacefiles and --oldpackage arguments to rpm.

- Install the packages even if some of them are already installed on
  this system.
- Install the packages even if they replace files from other, already
  installed, packages.
- Allow an upgrade to replace a newer package with an older one.

Change-Id: I8391e02456a304d4e29256cbbf5433879c6c42b1
"
openstack%2Fopenstack-ansible~master~I620c035ab5a4d1a8ee4de5885c8be3b81a10aa4d,openstack/openstack-ansible,master,,I620c035ab5a4d1a8ee4de5885c8be3b81a10aa4d,Remove python2 or python3 problem pip packages,ABANDONED,2020-03-19 11:17:21.000000000,2020-07-06 16:22:13.000000000,,20,1,1,713849,974a24b22fe26a05801aa2fa515f0b66257bdb2a,11,2,3,2,25023,Jonathan Rosser,jrosser,"Remove python2 or python3 problem pip packages

Unify the approach with the openstack-ansible-tests repo - see
https://review.opendev.org/712069

Change-Id: I620c035ab5a4d1a8ee4de5885c8be3b81a10aa4d
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I5d24aadb39070ce06808b9674048efe49d33894c,openstack/openstack-ansible-openstack_hosts,master,,I5d24aadb39070ce06808b9674048efe49d33894c,Use ansible-runtime python to drop hosts file,ABANDONED,2020-02-20 22:45:36.000000000,2020-07-06 16:21:50.000000000,,1,4,0,708989,089426a94326b425df95149399baf3377457f47f,6,2,2,1,25023,Jonathan Rosser,jrosser,"Use ansible-runtime python to drop hosts file

Change-Id: I5d24aadb39070ce06808b9674048efe49d33894c
"
openstack%2Fopenstack-ansible-plugins~master~I0be22f9ab4b0588203a462ce0d7c6c2bf21ffcff,openstack/openstack-ansible-plugins,master,,I0be22f9ab4b0588203a462ce0d7c6c2bf21ffcff,Remove physical_host_addrs parameter from ssh plugin,ABANDONED,2020-06-22 06:51:58.000000000,2020-07-06 16:21:10.000000000,,1,75,0,737220,2e4b4010590a5ec6413f790217cfec89440aadbd,18,2,9,3,25023,Jonathan Rosser,jrosser,"Remove physical_host_addrs parameter from ssh plugin

This is not used anywhere in OSA and accounts for nearly 50% of
the runtime on a re-run of playbooks/lxc-container-create.yml on
an already deployed AIO

Change-Id: I0be22f9ab4b0588203a462ce0d7c6c2bf21ffcff
"
openstack%2Ftripleo-heat-templates~master~I1d21db4af894c096d929863daabd08673592370c,openstack/tripleo-heat-templates,master,,I1d21db4af894c096d929863daabd08673592370c,WIP: unset noout flag after node upgrade,ABANDONED,2020-07-06 16:17:59.000000000,2020-07-06 16:18:35.000000000,,25,1,0,739538,91411dfc5fb8de6f936cb23ff3367a15376e390e,2,0,1,1,6796,Giulio Fidente,gfidente,"WIP: unset noout flag after node upgrade

Change-Id: I1d21db4af894c096d929863daabd08673592370c
"
openstack%2Fpuppet-tripleo~master~Idf106c9ffa23ed00c497e1e5014e1b5718254320,openstack/puppet-tripleo,master,bug/1871663,Idf106c9ffa23ed00c497e1e5014e1b5718254320,Ensure that the HAProxy certificate is updated,MERGED,2020-04-24 15:33:32.000000000,2020-07-06 16:17:02.000000000,2020-07-04 02:04:35.000000000,3,0,0,722877,c1e09672a52fea82d853d17145901109291ac1f1,16,6,2,1,7414,David Wilde,d34dh0r53,"Ensure that the HAProxy certificate is updated

While doing research for this bugzilla[1] I found that since the
actual certificate PEM file is being bind mounted the mount is acting
as a hard link to the inode of the PEM rather than just a pointer to
it's location in the directory.  When the new file is copied over the
inode is updated but the container still maintains a link to the stale
inode.  This patch copies the contents of the certificate into the
container so that the HUP of HAProxy will reload the certificate.

[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1765839

Change-Id: Idf106c9ffa23ed00c497e1e5014e1b5718254320
Closes-Bug: 1871663
"
openstack%2Fopenstack-ansible-plugins~master~I8b315efed26a22ae669432856eb1e7d994f4ab3,openstack/openstack-ansible-plugins,master,,I8b315efed26a22ae669432856eb1e7d994f4ab3,Do not use paramkio transport for delegated tasks,MERGED,2020-06-22 06:51:58.000000000,2020-07-06 15:57:11.000000000,2020-07-06 15:50:58.000000000,1,38,0,737219,15ee0011836a30dfeb30c8847b3487a7bb214d5c,11,3,2,1,25023,Jonathan Rosser,jrosser,"Do not use paramkio transport for delegated tasks

This saves 25s from the previous runtime of 4m21s for
playbooks/lxc-containers-create on an already deployed AIO.

Change-Id: I8b315efed26a22ae669432856eb1e7d994f4ab3
"
openstack%2Fpuppet-keystone~master~I8a7abed59468f93d48aa38a47ad4f72d994da79a,openstack/puppet-keystone,master,token-flush,I8a7abed59468f93d48aa38a47ad4f72d994da79a,Deprecate keystone::cron::token_fush,MERGED,2020-07-05 23:42:05.000000000,2020-07-06 15:50:06.000000000,2020-07-06 15:44:43.000000000,25,117,0,739380,fd8badd39c04ca49ca4c49a6ce7cef26349d3960,12,4,2,7,9816,Takashi Kajinami,kajinamit,"Deprecate keystone::cron::token_fush

... because ``keystone-manage token_flush`` was already removed from
keystone[1].

[1] https://github.com/openstack/keystone/commit/48dcdb5ad3ea47e923da3ab4a1572159d7cac6df

Change-Id: I8a7abed59468f93d48aa38a47ad4f72d994da79a
"
openstack%2Fpuppet-keystone~master~Ic339b88708eb98a067530b9741301c3f2dafddd5,openstack/puppet-keystone,master,736734,Ic339b88708eb98a067530b9741301c3f2dafddd5,Remove deprecated bootstrap code,MERGED,2020-06-18 14:32:40.000000000,2020-07-06 15:48:31.000000000,2020-07-06 15:44:42.000000000,41,366,0,736734,e421e3ad9cc1762727e2f836326653fb30998f75,20,4,2,10,16137,Tobias Urdin,tobasco,"Remove deprecated bootstrap code

Removes all the deprecated code related to
the old admin token and bootstrap usage in
favor of the new keystone::bootstrap class.

Change-Id: Ic339b88708eb98a067530b9741301c3f2dafddd5
"
openstack%2Fopenstack-ansible-os_horizon~stable%2Fussuri~If0f8b4a7442d8cd904337f802758e17aa3cb8da8,openstack/openstack-ansible-os_horizon,stable/ussuri,osa/el8-stable/ussuri,If0f8b4a7442d8cd904337f802758e17aa3cb8da8,Add Centos-8 support,MERGED,2020-07-03 16:17:18.000000000,2020-07-06 15:45:02.000000000,2020-07-06 15:43:25.000000000,60,0,0,739260,57c10221fef3f9eb5ab8e448fbf0f4e58a760455,8,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Centos-8 support

Change-Id: If0f8b4a7442d8cd904337f802758e17aa3cb8da8
(cherry picked from commit 4c2cc73d571dd86303bc16063951c13bec8af8c5)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0,openstack/tripleo-ansible,stable/train,bug/1884816,I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0,Make tripleo_ceph_run_ansible handle change in remote_tmp,MERGED,2020-06-24 12:44:07.000000000,2020-07-06 15:44:29.000000000,2020-07-03 03:00:27.000000000,69,1,0,737761,c7571039ff738e71ad19e60aa344c2e1ed0781b9,20,8,2,2,18002,John Fulton,fultonj,"Make tripleo_ceph_run_ansible handle change in remote_tmp

Ansible's remote_tmp module changed in 2.9.10 [1] causing
the reported bug this patch addresses. The error from the
module suggests creating the remote_tmp dir with the correct
permissions. This patch does that within external_deploy_steps
by having tripleo-ansible create the remote_tmp dir accordingly
before running ceph-ansible (which uses that remote_tmp dir).

[1] https://github.com/ansible/ansible/issues/68218

Change-Id: I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0
Closes-Bug: #1884816
(cherry picked from commit 1b440db7f69b1f0e69016ed5a409e84b6fab1f9d)
"
openstack%2Ftripleo-ansible~master~I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0,openstack/tripleo-ansible,master,bug/1884816,I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0,Make tripleo_ceph_run_ansible handle change in remote_tmp,MERGED,2020-06-24 00:11:06.000000000,2020-07-06 15:36:20.000000000,2020-06-24 16:08:32.000000000,69,1,12,737660,1b440db7f69b1f0e69016ed5a409e84b6fab1f9d,29,8,3,2,18002,John Fulton,fultonj,"Make tripleo_ceph_run_ansible handle change in remote_tmp

Ansible's remote_tmp module changed in 2.9.10 [1] causing
the reported bug this patch addresses. The error from the
module suggests creating the remote_tmp dir with the correct
permissions. This patch does that within external_deploy_steps
by having tripleo-ansible create the remote_tmp dir accordingly
before running ceph-ansible (which uses that remote_tmp dir).

[1] https://github.com/ansible/ansible/issues/68218

Change-Id: I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0
Closes-Bug: #1884816
"
openstack%2Ftripleo-upgrade~stable%2Fussuri~I3eadfad34aa563084fd4cc68990cb247e734d508,openstack/tripleo-upgrade,stable/ussuri,bug/1885637-stable/ussuri,I3eadfad34aa563084fd4cc68990cb247e734d508,Refactor ceph-ansible upgrade,MERGED,2020-07-02 08:40:14.000000000,2020-07-06 15:36:16.000000000,2020-07-06 15:36:16.000000000,12,9,0,738988,c0993bed8557c621cf57be94a404ea7578cff356,7,5,1,3,6816,Jesse Pretorius,jesse-pretorius,"Refactor ceph-ansible upgrade

ceph-ansible and python-tripleoclient have different ""minimum"" required
version of ansible in specification. This patch upgrades ceph-ansible as
prerequisite so all dependencies will be met. In fast-forward script
checks if ceph-ansible is installed.If yes, it will upgrade it to latest
versions in repositories.

Change-Id: I3eadfad34aa563084fd4cc68990cb247e734d508
Related-Bug: 1885637
(cherry picked from commit 3fb8fe1912a7fe2f484390d2adc4e618e147a554)
"
openstack%2Ftripleo-quickstart-extras~master~I2518e622fb5e739057d0d9060b6163e73056a019,openstack/tripleo-quickstart-extras,master,,I2518e622fb5e739057d0d9060b6163e73056a019,Bumps up default Ceph container images for Queens and Rocky,MERGED,2020-06-22 16:03:06.000000000,2020-07-06 15:36:15.000000000,2020-07-06 15:36:15.000000000,1,1,0,737306,38943b7174e657d5a1a414bc37320e9a396a23f1,20,5,2,1,6796,Giulio Fidente,gfidente,"Bumps up default Ceph container images for Queens and Rocky

Updates ceph/daemon image to 3.2.14 which backports important
compatibility changes to support upgrades to 4.x

Change-Id: I2518e622fb5e739057d0d9060b6163e73056a019
Depends-On: If370d85eead771305705ad798501e3947a1c6f4f
"
openstack%2Fopenstack-ansible-os_heat~stable%2Fussuri~Id844f584b22e35ac154b1727a42522d73bf97670,openstack/openstack-ansible-os_heat,stable/ussuri,osa/el8-stable/ussuri,Id844f584b22e35ac154b1727a42522d73bf97670,Add Centos-8 support,MERGED,2020-07-03 16:17:24.000000000,2020-07-06 15:18:38.000000000,2020-07-06 15:16:26.000000000,1,1,0,739261,d7e43d2cf6d22c6943c425d926107ed22095df95,8,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Centos-8 support

Change-Id: Id844f584b22e35ac154b1727a42522d73bf97670
(cherry picked from commit 08d2b28bd2206d06b1607cb5be3c13fb52fca7bc)
"
openstack%2Fdevstack~master~I9a4fab7848e5dba8a5b3b09a75e7aac213368706,openstack/devstack,master,string-comparison-fix,I9a4fab7848e5dba8a5b3b09a75e7aac213368706,Fix string comparison,MERGED,2020-07-02 08:36:25.000000000,2020-07-06 15:17:06.000000000,2020-07-06 15:09:59.000000000,1,1,0,738984,8956006e519022bc9640476674e638c7dd080478,8,3,1,1,22997,xinliang,xinliang.liu,"Fix string comparison

String comparison should be included with square brackets.

Change-Id: I9a4fab7848e5dba8a5b3b09a75e7aac213368706
"
openstack%2Fdevstack~master~I8484baa7398b28ed5ef62f86b55022c7d8703f56,openstack/devstack,master,ovn-as-default-backend,I8484baa7398b28ed5ef62f86b55022c7d8703f56,Add neutron-ovn-tempest-ovs-release job to the check queue,MERGED,2020-06-16 20:30:54.000000000,2020-07-06 15:14:48.000000000,2020-07-06 15:09:55.000000000,5,0,0,736021,744f50b970bf10f06e9d52de0b57d74ddcb18467,13,5,1,1,11975,Slawek Kaplonski,slaweq,"Add neutron-ovn-tempest-ovs-release job to the check queue

During the Victoria cycle we plan to switch default Neutron backend in
Devstack from OVS to OVN.
As first step before we will start discussion about this change with
whole community, we want to add tempest ovn based neutron job to
the devstack check queue so that we can keep verifying that with
devstack changes.

Change-Id: I8484baa7398b28ed5ef62f86b55022c7d8703f56
"
openstack%2Fdevstack~master~I0ba1fd05c6391cd8bb978119ecfbb891def2d497,openstack/devstack,master,move-stackviz-role,I0ba1fd05c6391cd8bb978119ecfbb891def2d497,Move process-stackviz role from Tempest to Devstack,MERGED,2020-06-19 15:40:26.000000000,2020-07-06 15:09:57.000000000,2020-07-06 15:09:57.000000000,95,0,0,737037,264d2a2e5fecd7ae94a4a71087ca93ea9cc25109,23,5,2,3,8556,Ghanshyam,ghanshyam,"Move process-stackviz role from Tempest to Devstack

process-stackviz role currently defined in Tempest repo[1] and used
in tempest jobs. Issue with having it in branchless Tempest is that any
fix in that role cannot be backported to older Tempest. Also stackviz is
not Tempest things it is only used by Tempest jobs.

Stackviz can be considered as a service similar to Tempest so inatlling it in
Devstack side make sense. Also that will give us advantage to handle the
branch specific fixes or backpoting the fixes.

This can solve the current issues we are facing on rocky branch
- https://zuul.opendev.org/t/openstack/build/c1e2da80537448bfb24331fb4198a931/console#4/0/29/controller

[1] https://opendev.org/openstack/tempest/src/branch/master/roles/process-stackviz

Change-Id: I0ba1fd05c6391cd8bb978119ecfbb891def2d497
"
openstack%2Fpuppet-ceilometer~master~I59b78c73f563964030eb2c0602f2a9ddfce3e518,openstack/puppet-ceilometer,master,remove-expirer,I59b78c73f563964030eb2c0602f2a9ddfce3e518,Remove ceilometer::expirer,MERGED,2020-07-04 15:18:41.000000000,2020-07-06 15:04:45.000000000,2020-07-06 15:02:49.000000000,4,56,0,739305,60f3d678d1d328a0db4aab127bd7c7839c7c62bf,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Remove ceilometer::expirer

... because it was deprecated in the previous cycle[1], and is useless
since ceilometer-expirer was removed from ceilometer.

[1] 8a5ec2926068f1d67775fef3eab6a6e39de34a29

Change-Id: I59b78c73f563964030eb2c0602f2a9ddfce3e518
"
openstack%2Fopenstack-ansible-os_horizon~stable%2Ftrain~Iba8c6e6b66480cdd575f75162c9be80e84ec868b,openstack/openstack-ansible-os_horizon,stable/train,idp-improvements-stable/ussuri-stable/train,Iba8c6e6b66480cdd575f75162c9be80e84ec868b,Display name in IDP dropdown,MERGED,2020-06-24 16:57:59.000000000,2020-07-06 14:57:35.000000000,2020-07-06 14:55:17.000000000,1,1,0,737850,6fce55be2c526be9cf447b2abbf09e7231f884f8,14,4,1,1,25023,Jonathan Rosser,jrosser,"Display name in IDP dropdown

If an operator would like a different display name
on the horizon Identity Provider dropdown to the one used
for their IDP in the backend they may specify a display_name
in their entry within the keystone_sp.trusted_idp_list.
Otherwise this continues to default to the IDPs name as usual.

Change-Id: Iba8c6e6b66480cdd575f75162c9be80e84ec868b
(cherry picked from commit ee0a0711e87a6ae952576f989b4a56224de7e8a8)
"
openstack%2Fcharm-neutron-api~master~I3a0e757e5afe6a77cc507ee01298961c16d41cb2,openstack/charm-neutron-api,master,,I3a0e757e5afe6a77cc507ee01298961c16d41cb2,Add igmp_snooping_enable config,MERGED,2020-07-02 16:00:35.000000000,2020-07-06 14:57:19.000000000,2020-07-04 01:38:59.000000000,164,0,3,739084,f401914ee341cc7a34c336287879c073a30a9226,22,4,3,4,28510,Pedro Guimarães,pguimaraes,"Add igmp_snooping_enable config

This option is available on both OVS and OVN to
allow virtual switch to snoop into multicast IGMP
messages and learn which ports should be flooded.

This change adds igmp snooping option on neutron.conf.

Change-Id: I3a0e757e5afe6a77cc507ee01298961c16d41cb2
"
openstack%2Fdevstack~master~Id350aa8a92c6c559bc0a0a84e0e8285c8ec6a232,openstack/devstack,master,,Id350aa8a92c6c559bc0a0a84e0e8285c8ec6a232,swift: Remove s3api from proxy pipeline,NEW,2020-05-26 23:01:44.000000000,2020-07-06 14:49:35.000000000,,1,0,3,731001,0f1807276b060bdc420213e0ec9905bb2d878851,6,4,1,1,15343,Tim Burke,tburke,"swift: Remove s3api from proxy pipeline

...in case Swift ever starts recommending s3api by default.
Otherwise, we'll have it placed twice.

Change-Id: Id350aa8a92c6c559bc0a0a84e0e8285c8ec6a232
"
openstack%2Fkolla~master~I81e5b7abf4571fece13a029e25911e9e4dece673,openstack/kolla,master,disable-systemd-getent,I81e5b7abf4571fece13a029e25911e9e4dece673,Drop systemd support from nsswitch.conf on RHEL-based distros,MERGED,2020-06-17 08:22:12.000000000,2020-07-06 14:44:54.000000000,2020-07-06 14:33:01.000000000,9,1,5,736130,dc2ddfa9750f94430a5b04b62fc1fa6adcb234f8,74,10,6,2,20172,Michele Baldessari,michele,"Drop systemd support from nsswitch.conf on RHEL-based distros

A bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we
should remove the nss-systemd lookup from containers. The reasons for
this are as follows:
1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5
when this nss module is triggered it tries to talk to dbus.
It triggers a bunch of selinux denials and it makes little sense
to open all containers to talk to dbus.
In particular, if a container is run as non-privileged and bind-mounts
/run from the host, we will hit selinux denials like the following:

  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg='avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?'UID=""dbus"" AUID=""unset"" SAUID=""dbus""

2) It just makes little sense in a kolla-world to have containers
talk to dbus/systemd and it saves us some time when a lookup triggers
the systemd module for whatever reason. Especially because the
nss-systemd module does a few things which are not useful in a container
(ensures that the root and nobody users and groups remain resolvable,
SystemD's DynamicUser= feature, provide Lookup API via Varlink)

The sed regex gives us the wanted results:
$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf
--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000
+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000
@@ -53,9 +53,9 @@
 # group:     db files

 # In order of likelihood of use to accelerate lookup.
-passwd:      sss files systemd
+passwd:      sss files
 shadow:     files sss
-group:       sss files systemd
+group:       sss files
 hosts:      files dns myhostname
 services:   files sss
 netgroup:   sss

Related-Bug: #1883849

Change-Id: I81e5b7abf4571fece13a029e25911e9e4dece673
"
openstack%2Fpatrole~master~I4ad6f84c71733b0bcc76d97493aa403d8c38de74,openstack/patrole,master,725023,I4ad6f84c71733b0bcc76d97493aa403d8c38de74,Add Patrole gate job for stable/ussuri,MERGED,2020-05-02 15:54:37.000000000,2020-07-06 14:43:09.000000000,2020-05-08 18:10:59.000000000,7,0,6,725023,a19f3dbe5cfde0e2a4a79b13b80db50f1b71b600,19,4,4,1,27621,Vishakha Agarwal,Vishakha,"Add Patrole gate job for stable/ussuri

Now we have stable/ussuri branch ready for devstack
and so does for all service projects.

This commit adds the Patrole testing for stable/ussuri
by adding new jobs running on stable/ussuri version of
openstack.

Change-Id: I4ad6f84c71733b0bcc76d97493aa403d8c38de74
"
openstack%2Fopenstack-ansible-os_nova~stable%2Fussuri~Ibc8c9b92c8c3c705964fbc85019b357913583ca7,openstack/openstack-ansible-os_nova,stable/ussuri,osa/el8-stable/ussuri,Ibc8c9b92c8c3c705964fbc85019b357913583ca7,Add Centos-8 support,MERGED,2020-07-03 16:17:09.000000000,2020-07-06 14:38:52.000000000,2020-07-06 14:36:55.000000000,4,6,0,739259,aeae89242e370737f39031be7c785dc2597e2875,8,4,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Centos-8 support

We shouldn't need this anymore since interpreter patch has been merged
https://review.opendev.org/#/q/topic:interpreter+(status:open+OR+status:merged)

Change-Id: Ibc8c9b92c8c3c705964fbc85019b357913583ca7
(cherry picked from commit 842c899d8e28c4f05236a9f18acedcdba7067eec)
"
openstack%2Fdiskimage-builder~master~Iea2f454f384d728e7d61bcdb47e292f3f0a634a9,openstack/diskimage-builder,master,pygments_style,Iea2f454f384d728e7d61bcdb47e292f3f0a634a9,[doc] Fix pygments_style,ABANDONED,2020-07-05 08:16:10.000000000,2020-07-06 14:33:14.000000000,,1,1,0,739344,280e067113bb4937e84ad105614af00f336e4ded,5,3,1,1,30491,Radosław Piliszek,yoctozepto,"[doc] Fix pygments_style

This sets pygments_style to 'native' to fix colours in code
listings in docs.

Change-Id: Iea2f454f384d728e7d61bcdb47e292f3f0a634a9
"
openstack%2Ftripleo-upgrade~stable%2Fussuri~I25cbeab46f7eeb1d24b104d8bcc2883af68492b0,openstack/tripleo-upgrade,stable/ussuri,bug/1885637-stable/ussuri,I25cbeab46f7eeb1d24b104d8bcc2883af68492b0,Remove tht/tc/ta/tv update before UC upgrade.,MERGED,2020-07-02 08:40:14.000000000,2020-07-06 14:21:36.000000000,2020-07-06 14:21:36.000000000,0,4,0,738987,79267627ce7f810dbed4d04efe46ed07bfa9f3b5,7,5,1,1,6816,Jesse Pretorius,jesse-pretorius,"Remove tht/tc/ta/tv update before UC upgrade.

After [0] merged, we are not required to run a tripleo-common,
tripleo-heat-templates, tripleo-ansible and tripleo-validations
package update as it will be performed by the undercloud upgrade
command itself.

This patch removes it from tripleo-upgrade. However, this can't be
backported to stable/train or older releases.

[0] - https://github.com/openstack/python-tripleoclient/commit/55c99266c9b589de93e3191cdd4d147e722fdf4a

Change-Id: I25cbeab46f7eeb1d24b104d8bcc2883af68492b0
(cherry picked from commit f820078ecf7b7aa4de988994f77bb23b3491474a)
"
openstack%2Fdevstack~stable%2Fqueens~I82f539bfa533349293dd5a8ce309c9cc0ffb0393,openstack/devstack,stable/queens,uwsgi-stable/queens,I82f539bfa533349293dd5a8ce309c9cc0ffb0393,"Fix gate, squashing multiple fixes",MERGED,2020-06-25 09:58:13.000000000,2020-07-06 14:18:04.000000000,2020-07-06 14:18:04.000000000,158,34,0,737940,f4b063b207f296384e101e4545150ee80459eceb,24,9,3,11,21798,Bernard Cafarelli,bcafarel,"Fix gate, squashing multiple fixes

This commit includes multiple fixes to
make gate happy:

1. Use packaged uwsgi on Fedora and Ubuntu
- https://review.opendev.org/#/c/735615/7

2. Move process-stackviz role from Tempest to Devstack
- https://review.opendev.org/#/c/737078/4

3. Add ensure-pip to pre.yaml
- https://review.opendev.org/#/c/738495/2

4. Use uwsgi binary from path
- https://review.opendev.org/#/c/739072/

5. Temporarily disable the grenade jobs

Conflicts:
	.zuul.yaml
	lib/neutron
	lib/neutron-legacy

Change-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393
(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)
(cherry picked from commit ad6cc52c746f1fbdb1d89b14c09dc4aa7907bfe4)
"
openstack%2Ftripleo-ansible~master~Ia5859ecf0822f19b9f04dda79d5b8b5eaf5220be,openstack/tripleo-ansible,master,container-not-running,Ia5859ecf0822f19b9f04dda79d5b8b5eaf5220be,Fix missing requirements for tests,MERGED,2020-06-26 21:06:49.000000000,2020-07-06 14:16:34.000000000,2020-06-29 08:45:56.000000000,2,0,0,738281,cdb59feb206cf0ff3e079695c23ecfdb07271e25,10,4,1,1,14985,Alex Schultz,mwhahaha,"Fix missing requirements for tests

We added heatclient and metalsmith requirements as part of our modules
so we need to make sure to properly capture them.

Change-Id: Ia5859ecf0822f19b9f04dda79d5b8b5eaf5220be
"
openstack%2Ftripleo-ansible~master~I24b118220ce2371f651cad6b8dfbbf5d031ee118,openstack/tripleo-ansible,master,bug/1883609,I24b118220ce2371f651cad6b8dfbbf5d031ee118,Fix tripleo_hierdata permissions,MERGED,2020-06-16 20:58:09.000000000,2020-07-06 14:15:52.000000000,2020-07-02 20:27:49.000000000,5,0,8,736040,c8d8e9adaf62f1b3e6a274fbb5ec17dae4dc8449,39,6,3,3,14985,Alex Schultz,mwhahaha,"Fix tripleo_hierdata permissions

Add become: true to the tasks that need to be able to write to /etc/

Change-Id: I24b118220ce2371f651cad6b8dfbbf5d031ee118
Related-Bug: #1883609
"
openstack%2Ftripleo-ansible~master~Iaa39aa301be182722e0650583d1ad17c0e8dc82b,openstack/tripleo-ansible,master,bug/1883609,Iaa39aa301be182722e0650583d1ad17c0e8dc82b,Fix host entries permissions,MERGED,2020-06-16 20:39:44.000000000,2020-07-06 14:15:27.000000000,2020-06-18 15:31:50.000000000,1,0,0,736024,746bd9a52b2a4288af705f161ec41736a4e3b5e3,18,5,2,1,14985,Alex Schultz,mwhahaha,"Fix host entries permissions

The cleanup tasks needs become: true because it was created with root.

Change-Id: Iaa39aa301be182722e0650583d1ad17c0e8dc82b
Related-Bug: #1883609
"
openstack%2Ftripleo-heat-templates~master~I84287d9c1ef110511c66743f9a3a22709077b0cb,openstack/tripleo-heat-templates,master,bug/1885619,I84287d9c1ef110511c66743f9a3a22709077b0cb,Exclude /etc/hostname,MERGED,2020-06-29 18:57:37.000000000,2020-07-06 14:14:56.000000000,2020-07-02 22:33:01.000000000,11,2,3,738490,777920dfba58fa7b26c063fa5d6df0203009d12c,20,5,4,1,14985,Alex Schultz,mwhahaha,"Exclude /etc/hostname

Similar to the previous patch where we excluded /etc/hosts, it turns out
that /etc/hostname is also a special file that cannot be synced in via
kolla because they are bindmounted internally.

https://github.com/containers/libpod/blob/6ac009d5304127f6758be157c7302646e5a481e5/libpod/container_internal_linux.go#L1236

Additionally this change includes cleanup for end users who may have hit
LP#1860607 and allows folks who have hit this to just simply rerun the
deployment and not have to manually cleanup the synced files.

Change-Id: I84287d9c1ef110511c66743f9a3a22709077b0cb
Closes-Bug: #1885619
"
openstack%2Fironic-specs~master~Ibefde7ed15932964c366c605b7ca03bce4d66e5b,openstack/ironic-specs,master,releasing-bears,Ibefde7ed15932964c366c605b7ca03bce4d66e5b,New release model: correct the named branches lifetime,MERGED,2020-07-01 08:49:37.000000000,2020-07-06 14:13:36.000000000,2020-07-06 14:09:58.000000000,12,6,0,738761,2f2df334657df7348a3f3de259aa022b970114d1,8,3,1,1,10239,Dmitry Tantsur,dtantsur,"New release model: correct the named branches lifetime

The initial proposal of supporting a branch with all fixes only
6 months was too harsh and does not seem to reflect how we actually
handle stable branches. Based on personal observation that we mostly
maintain the last two stable branches (e.g. right now Train is still
actively maintained), the windows is increased to 12 months.

Also added a formal policy and completely abandoning EM branches.

Change-Id: Ibefde7ed15932964c366c605b7ca03bce4d66e5b
"
openstack%2Ftripleo-heat-templates~master~I5992edf43bf1995eebdf401c6bd886e77e528695,openstack/tripleo-heat-templates,master,bug/1884654,I5992edf43bf1995eebdf401c6bd886e77e528695,Always clear cached facts first,MERGED,2020-06-22 21:10:23.000000000,2020-07-06 14:13:24.000000000,2020-07-06 01:48:33.000000000,5,0,1,737379,1f9942fd755a168f8a9b75afa09e8af7027d61d4,61,9,6,1,14985,Alex Schultz,mwhahaha,"Always clear cached facts first

Because you could be running against different clouds or hosts, we need
to always clear the facts at the start of the deployment playbook to
ensure we aren't using incorrectly cached facts. That being said, the
caching mechanism should persist between the plays in the overall
deployment.

Change-Id: I5992edf43bf1995eebdf401c6bd886e77e528695
Closes-Bug: #1884654
"
openstack%2Fironic-specs~master~I7ef4e402530286b7c8eacee00e4b3d186b2a4dd5,openstack/ironic-specs,master,releasing-bears,I7ef4e402530286b7c8eacee00e4b3d186b2a4dd5,Update to the new release model,MERGED,2020-06-29 09:35:25.000000000,2020-07-06 14:05:29.000000000,2020-07-06 14:03:01.000000000,32,24,1,738408,a70e973e3dcf7f125bf6a9d95130e7566c9056d6,11,6,1,1,10239,Dmitry Tantsur,dtantsur,"Update to the new release model

Clarifies some aspects of the approved spec.

Change-Id: I7ef4e402530286b7c8eacee00e4b3d186b2a4dd5
"
openstack%2Fansible-role-collect-logs~master~Ie61626667eebd3628525da38e911c5ef42da2f69,openstack/ansible-role-collect-logs,master,,Ie61626667eebd3628525da38e911c5ef42da2f69,Run container collection in parallel,MERGED,2020-06-03 15:04:42.000000000,2020-07-06 13:55:15.000000000,2020-07-06 13:55:15.000000000,16,3,6,733165,f1a45198a067216672b0ecad6582ddff9a683523,40,11,5,2,22873,Martin Kopec,mkopec,"Run container collection in parallel

The task running the container collection is the longest taking
task. The patch makes this task running in parallel. The task
handles only containers therefore it's not in conflict with
any other collection task so running it in parallel is safe.

Change-Id: Ie61626667eebd3628525da38e911c5ef42da2f69
"
openstack%2Fironic-python-agent~stable%2Ftrain~I96eb2ff15b1e3d479394c86dd9c228d54c4fae11,openstack/ironic-python-agent,stable/train,test-train,I96eb2ff15b1e3d479394c86dd9c228d54c4fae11,DNM trying really slow prepare_image,ABANDONED,2020-06-26 12:23:30.000000000,2020-07-06 13:45:29.000000000,,3,0,0,738193,d1fdf9196fcd0a64d140278c4cfd7f59423230dd,4,2,1,2,10239,Dmitry Tantsur,dtantsur,"DNM trying really slow prepare_image

Change-Id: I96eb2ff15b1e3d479394c86dd9c228d54c4fae11
"
openstack%2Fironic-python-agent~master~I96eb2ff15b1e3d479394c86dd9c228d54c4fae11,openstack/ironic-python-agent,master,test,I96eb2ff15b1e3d479394c86dd9c228d54c4fae11,DNM trying really slow prepare_image,ABANDONED,2020-06-26 07:54:22.000000000,2020-07-06 13:45:26.000000000,,3,0,0,738156,e91b3b81d8b2bca75ff3ef2190d7ba3f3cfd0994,6,2,2,2,10239,Dmitry Tantsur,dtantsur,"DNM trying really slow prepare_image

Change-Id: I96eb2ff15b1e3d479394c86dd9c228d54c4fae11
"
openstack%2Fironic~master~Ibac5d07b988438719bf414f314cbc610562e7599,openstack/ironic,master,raid-max,Ibac5d07b988438719bf414f314cbc610562e7599,Software RAID: don't try to set local_gb to MAX,MERGED,2020-07-03 12:09:52.000000000,2020-07-06 13:44:01.000000000,2020-07-06 13:25:56.000000000,20,3,0,739216,cedc4a24167de205db25cc45fd37275f3e4956bd,22,7,2,3,10239,Dmitry Tantsur,dtantsur,"Software RAID: don't try to set local_gb to MAX

Change-Id: Ibac5d07b988438719bf414f314cbc610562e7599
"
openstack%2Fbifrost~master~I65579f45cf6a6083732b6f759cd1b5c9376dcbb4,openstack/bifrost,master,prep-renotes,I65579f45cf6a6083732b6f759cd1b5c9376dcbb4,Prepare release notes for release 8.2,MERGED,2020-07-02 16:14:13.000000000,2020-07-06 13:42:58.000000000,2020-07-06 13:39:39.000000000,2,2,0,739089,3d2ee6018f2830593ac734212c110a4f2c80df5d,7,2,1,2,23851,Riccardo Pittau,elfosardo,"Prepare release notes for release 8.2

Change-Id: I65579f45cf6a6083732b6f759cd1b5c9376dcbb4
"
openstack%2Foslo.messaging~stable%2Fstein~Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,openstack/oslo.messaging,stable/stein,,Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,Simplify tools/test-setup.sh,MERGED,2020-07-03 16:49:44.000000000,2020-07-06 13:36:41.000000000,2020-07-06 13:31:10.000000000,20,35,0,739265,c5d17905de32a29352a7ad31fd1c7dcde8887017,12,6,2,3,17685,Elod Illes,elod.illes,"Simplify tools/test-setup.sh

test-setup.sh is called after bindep is run in CI, and tox is not setup.

Simplify the script so that it only does what's needed - install
qdrouterd for Ubuntu from qpid/testing.

Install the other packages using bindep, add test to amqp1 profile.

Add amqp1 to bindep_profiles where needed for scenario tests, previously
test-setup.sh added it everywhere.

Conflicts:
    .zuul.yaml
    bindep.txt
Modified:
    tools/test-setup.sh

NOTE(elod.illes): conflicts are due to the following patches are
missing from Stein:
* .zuul.yaml: I1874f96f78cb403e6f3a56a49cb83df40d531f8d
  (dropping py35 testing)
* bindep.txt: I9fb56450346fca84bc1573fa5e9b6fe81c14e33a
  (messaging intermediaries update; the lack of this patch also
  requires the modification of test-setup.sh)

Change-Id: Ic3a9e2c873619670edfbf71022d593f3cb5f70f2
Related-Bug: #1885923
(cherry picked from commit 7e406c312a6514e7ae377edb52b9e02b5bf37a7d)
(cherry picked from commit dfcc4b0010d39d1f16be413bb1c3a4808718cd19)
(cherry picked from commit 88cf5aebef790ff40ab8ca7219d537ccfc54d12e)
"
openstack%2Fdiskimage-builder~master~I1780f186cf107242cacd6d3da7a5bc81a330b536,openstack/diskimage-builder,master,bug/1883224,I1780f186cf107242cacd6d3da7a5bc81a330b536,Stop bringing the test environment into the mocks,MERGED,2020-06-12 08:37:38.000000000,2020-07-06 13:31:07.000000000,2020-07-06 13:28:26.000000000,3,5,0,735309,8f57ed9b9ed3e4dcb348487b29c18d2772147e07,11,5,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Stop bringing the test environment into the mocks

Change-Id: I1780f186cf107242cacd6d3da7a5bc81a330b536
Closes-Bug: #1883224
"
openstack%2Fnova~master~I34b783542504524d2e4d98d3037c9086766e04b0,openstack/nova,master,bug/1872082,I34b783542504524d2e4d98d3037c9086766e04b0,libvirt: ensure disk_over_commit is not negative,MERGED,2020-04-10 13:54:43.000000000,2020-07-06 13:19:14.000000000,2020-07-06 13:14:36.000000000,29,1,9,719008,61084702f447d8d48f0aef161a9517d9504cd578,36,13,2,2,28332,Alexandre arents,aarents,"libvirt: ensure disk_over_commit is not negative

During update_available_resource periodic task, nova-compute reports
total amount of disk_over_committed in order to determine current hypervisor's
available_disk_least.

In case instance disk file have allocated size greater than virtual
disk size, resulting disk_over_committed is negative.
Because a negative value will inaccurately increase available_disk_least,
the change proposes to set it to 0 instead.

Closes-Bug: #1872082

Change-Id: I34b783542504524d2e4d98d3037c9086766e04b0
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Fussuri~I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9,openstack/openstack-ansible-os_keystone,stable/ussuri,idp-improvements-stable/ussuri,I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9,Identity providers can be created with specified domain,ABANDONED,2020-06-26 13:14:40.000000000,2020-07-06 13:12:10.000000000,,3,0,0,738201,a2d162e165d45f7a0f0fd4d9747c1494d1f37e47,7,3,3,2,25023,Jonathan Rosser,jrosser,"Identity providers can be created with specified domain

IDPs are linked to a keystone domain. Currently when we provision a new IDP
it gets created within a new autogenerated domain. Provisioners can now
give a domain_id in an IDP entry within the trusted_idp_list and the IDP
will be created within that domain.

Add IDP display_name to defaults

Allows operator a name different to the one used in the backend
to display to the user in the horizon Identity Provider dropdown.

Change-Id: I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Ftrain~I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9,openstack/openstack-ansible-os_keystone,stable/train,idp-improvements-stable/train,I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9,Identity providers can be created with specified domain,ABANDONED,2020-06-26 13:14:52.000000000,2020-07-06 13:12:05.000000000,,3,0,0,738202,97d17b821e9b60d8b72e4d32af1b2ec58aff149d,8,3,3,2,25023,Jonathan Rosser,jrosser,"Identity providers can be created with specified domain

IDPs are linked to a keystone domain. Currently when we provision a new IDP
it gets created within a new autogenerated domain. Provisioners can now
give a domain_id in an IDP entry within the trusted_idp_list and the IDP
will be created within that domain.

Depends-On: If761dd4faf63cf09d436d9e0a22f7e90cec9a105

Add IDP display_name to defaults

Allows operator a name different to the one used in the backend
to display to the user in the horizon Identity Provider dropdown.

Change-Id: I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9
"
openstack%2Fkolla-ansible~stable%2Ftrain~I01d686368b11a105a8965cf987d23772ecbf97de,openstack/kolla-ansible,stable/train,,I01d686368b11a105a8965cf987d23772ecbf97de,Use the children group for site.yml,MERGED,2020-07-06 09:05:06.000000000,2020-07-06 13:08:39.000000000,2020-07-06 13:05:09.000000000,10,2,0,739434,767f0ad06e000a3b9bc3b1e6d82e322c0df239c3,8,4,1,1,14826,Mark Goddard,mgoddard,"Use the children group for site.yml

1. Use the children group for site.yml
2. Add some missing groups

Change-Id: I01d686368b11a105a8965cf987d23772ecbf97de
(cherry picked from commit dc56401b427446703f77ac744fc27a0b5954b03c)
"
openstack%2Fnova~stable%2Fussuri~I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a,openstack/nova,stable/ussuri,backport-hash-check,I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a,Fix cherry-pick check for merge patch,MERGED,2020-07-03 08:03:15.000000000,2020-07-06 13:08:20.000000000,2020-07-06 13:04:40.000000000,11,1,0,739176,02f213b831d8e1d4a1d8ebb18d1260571fe20b84,9,3,1,1,17685,Elod Illes,elod.illes,"Fix cherry-pick check for merge patch

Cherry-pick check script validates the proposed patch's commit message.
If a patch is not on top of the given branch then Zuul rebases it to
the top and the patch becomes a merge patch. In this case the script
validates the merge patch's commit message instead of the original
patch's commit message and fails.

This fix selects the parent of the patch if it is a merge patch.

Change-Id: I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a
(cherry picked from commit c7c48c6f52c9159767b60a4576ba37726156a5f7)
"
openstack%2Fkolla~stable%2Fussuri~Ia2306507d6ef97f01ff520dc4222bc48c1eb9843,openstack/kolla,stable/ussuri,openstack_exporter_bump-stable/ussuri,Ia2306507d6ef97f01ff520dc4222bc48c1eb9843,Bump prometheus-openstack-exporter version to 1.1.0,MERGED,2020-07-03 08:56:33.000000000,2020-07-06 13:07:46.000000000,2020-07-06 13:05:06.000000000,1,1,0,739183,be5da6d2c9b595cfc49e2c744d1464120f24e99e,12,4,1,1,26689,Justinas Balciunas,stacklablt,"Bump prometheus-openstack-exporter version to 1.1.0

Change-Id: Ia2306507d6ef97f01ff520dc4222bc48c1eb9843
Signed-off-by: Jorge Niedbalski <jnr@metaklass.org>
(cherry picked from commit 2841004652d74f27f270b4fba5a68e6c845e173c)
"
openstack%2Fkolla~master~I445134333b50439af20a3ca12757d519fa2624d4,openstack/kolla,master,,I445134333b50439af20a3ca12757d519fa2624d4,openvswitch-netcontrold: build always,MERGED,2020-07-06 10:08:58.000000000,2020-07-06 13:07:25.000000000,2020-07-06 13:05:12.000000000,0,10,0,739452,70ffba824177e967e5829852b534e05f50486745,10,7,1,2,24072,Marcin Juszkiewicz,hrw,"openvswitch-netcontrold: build always

This is infrastructure package where binary/source split does not make
sense.

Change-Id: I445134333b50439af20a3ca12757d519fa2624d4
"
openstack%2Fkolla-ansible~stable%2Fstein~I01d686368b11a105a8965cf987d23772ecbf97de,openstack/kolla-ansible,stable/stein,,I01d686368b11a105a8965cf987d23772ecbf97de,Use the children group for site.yml,MERGED,2020-07-06 09:05:16.000000000,2020-07-06 13:07:24.000000000,2020-07-06 13:05:07.000000000,10,2,0,739435,14660467463e4fce88cd8cbc4b10162b75d3cc40,8,4,1,1,14826,Mark Goddard,mgoddard,"Use the children group for site.yml

1. Use the children group for site.yml
2. Add some missing groups

Change-Id: I01d686368b11a105a8965cf987d23772ecbf97de
(cherry picked from commit dc56401b427446703f77ac744fc27a0b5954b03c)
"
openstack%2Fcharm-neutron-api-plugin-arista~master~Ie48bd59a451a53d5dcd0832c17013aa621a0dc8e,openstack/charm-neutron-api-plugin-arista,master,launchpad,Ie48bd59a451a53d5dcd0832c17013aa621a0dc8e,Add links to launchpad,MERGED,2020-07-06 11:48:07.000000000,2020-07-06 13:07:17.000000000,2020-07-06 13:07:17.000000000,12,0,0,739467,a8368987f9eeb4bea5a342771cbd624d9318c5a0,7,3,1,2,31289,Aurelien Lourot,lourot,"Add links to launchpad

Change-Id: Ie48bd59a451a53d5dcd0832c17013aa621a0dc8e
"
openstack%2Fkolla-ansible~stable%2Fussuri~I01d686368b11a105a8965cf987d23772ecbf97de,openstack/kolla-ansible,stable/ussuri,,I01d686368b11a105a8965cf987d23772ecbf97de,Use the children group for site.yml,MERGED,2020-07-06 09:04:59.000000000,2020-07-06 13:07:05.000000000,2020-07-06 13:05:10.000000000,10,2,0,739433,e0a1072b8235dc73ebd82241f2ca3cbf28733d8f,9,4,1,1,14826,Mark Goddard,mgoddard,"Use the children group for site.yml

1. Use the children group for site.yml
2. Add some missing groups

Change-Id: I01d686368b11a105a8965cf987d23772ecbf97de
(cherry picked from commit dc56401b427446703f77ac744fc27a0b5954b03c)
"
openstack%2Ftempest~master~I96d26ad3889f55d867fdea016953cce522a6fbdf,openstack/tempest,master,remove_deprecated,I96d26ad3889f55d867fdea016953cce522a6fbdf,Remove deprecated scenario image options,MERGED,2020-03-03 12:41:37.000000000,2020-07-06 13:06:34.000000000,2020-07-06 13:04:36.000000000,45,48,15,710996,02af6a44cccc01990fbaa697cea5881e097a1a98,48,8,9,4,22873,Martin Kopec,mkopec,"Remove deprecated scenario image options

Let's remove deprecated scenario image options which have been
deprecated for more than 4 years.

From now on CONF.scenario.img_file will need a full path for the image.
CONF.scenario.img_dir was deprecated and will be removed in the next
release. Till Tempest 25.0.0, old behavior is maintained and keep working
but starting Tempest 26.0.0, you need to specify the full path
in CONF.scenario.img_file config option.

Change-Id: I96d26ad3889f55d867fdea016953cce522a6fbdf
Related-Bug: #1393881
"
openstack%2Fironic-python-agent-builder~master~I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012,openstack/ironic-python-agent-builder,master,build-focal-tinyipa,I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012,Build tinyipa on focal,MERGED,2020-05-06 08:49:22.000000000,2020-07-06 13:05:57.000000000,2020-07-06 13:01:16.000000000,38,4,6,725799,82a1ba0c78d984e40d4ff659edb4f98501add108,53,5,11,6,23851,Riccardo Pittau,elfosardo,"Build tinyipa on focal

Use new ubuntu-focal nodeset to build tinyipa images.
This is needed to prepare to build tinyipa images based on
tinycore 11.x because we need the new kernel 5.x version to
be able to chroot.

Main changes:
- patching tce-load to conform to new squashfs options in the new
kernel
- installing python3-pip instead of python-pip

Story: 2007753
Task: 39943

Change-Id: I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012
"
openstack%2Fpython-tripleoclient~master~I7651144cdb7142647b1c6303c4af4ba2ca2e2c58,openstack/python-tripleoclient,master,tripleo-common,I7651144cdb7142647b1c6303c4af4ba2ca2e2c58,Bump tripleo-common,MERGED,2020-05-27 13:01:18.000000000,2020-07-06 12:53:10.000000000,2020-05-28 20:35:09.000000000,2,2,0,731192,185d9f89542366bafb891cf725384e310b0137e0,18,6,2,2,3153,Emilien Macchi,emilienm,"Bump tripleo-common

For the Container Image Build command, we need new functionalities from
the BuildahBuilder that were released after 12.4.0 tag.

This patch makes sure tripleo-common >= 12.4.0 is pulled in the Python
jobs.

Change-Id: I7651144cdb7142647b1c6303c4af4ba2ca2e2c58
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I4a5250b0e76747c9e02fe3b64c920b0886e71155,openstack/python-tripleoclient,stable/ussuri,images/new-ussuri,I4a5250b0e76747c9e02fe3b64c920b0886e71155,Combined cherry-pick for container image v2,ABANDONED,2020-06-18 15:47:59.000000000,2020-07-06 12:50:59.000000000,,909,1,0,736759,9da82a4dec83364164fee7b22df1dcf4bec8d010,10,3,3,6,7353,Kevin Carter,cloudnull,"Combined cherry-pick for container image v2

Add openstack tripleo container image build

This change adds a v2 entry point to allow us to build images within the
native tripleoclient. Images will leverage the new
`tripleo_container_image_build` role which will produce simplified
container files and and an image structure inline with the simple
container generation spec.

Add tripleo container image hotfix command

This change adds a CLI command to invoke hotfixes via the TripleO modify
image role. This CLI command will ensure a uniform experience for operators
when needing to apply a hotfixes to containers.

Depends-On: https://review.opendev.org/736751

Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)
(cherry picked from commit 1c09e83744d5c98437db7b756c6cda52d7225d5e)

Change-Id: I4a5250b0e76747c9e02fe3b64c920b0886e71155
"
openstack%2Fironic-python-agent~master~Ibe4d212d83bc27163af1fa9aa82881ade2d647db,openstack/ironic-python-agent,master,gate,Ibe4d212d83bc27163af1fa9aa82881ade2d647db,Switch the inspector job to tinyIPA until DIB is fixed,MERGED,2020-07-03 08:32:07.000000000,2020-07-06 12:48:33.000000000,2020-07-06 12:43:26.000000000,2,0,0,739178,a08029a44ea4872d1c7afd51311a15be4f6a257f,9,4,1,1,10239,Dmitry Tantsur,dtantsur,"Switch the inspector job to tinyIPA until DIB is fixed

Change-Id: Ibe4d212d83bc27163af1fa9aa82881ade2d647db
"
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fussuri~I758360886f77ffc20856bc00424a3c7027c564f3,openstack/openstack-ansible-lxc_hosts,stable/ussuri,,I758360886f77ffc20856bc00424a3c7027c564f3,Remove support for Ubuntu 16.04,MERGED,2020-06-30 13:05:01.000000000,2020-07-06 12:39:28.000000000,2020-07-06 12:37:40.000000000,0,115,0,738608,16ea6704f788772851d74cad6f65631d88cac2e6,10,3,1,2,25023,Jonathan Rosser,jrosser,"Remove support for Ubuntu 16.04

We no longer support Xenial for openstack-ansible since Rocky.

Change-Id: I758360886f77ffc20856bc00424a3c7027c564f3
(cherry picked from commit ac2789cebd75d741f099b3328c42278f81b4a7df)
"
openstack%2Fironic~master~I62b2d32c545b6ad6487aead98c8fab212ed5e83f,openstack/ironic,master,trait-errormsg,I62b2d32c545b6ad6487aead98c8fab212ed5e83f,Fix the error message when reached max number of traits,MERGED,2020-07-04 07:41:56.000000000,2020-07-06 12:37:48.000000000,2020-07-06 09:25:34.000000000,6,6,0,739299,d90459a87fce4a84d34bdf24604de3edfb23dda7,14,6,1,1,24828,Kaifeng Wang,wangkf,"Fix the error message when reached max number of traits

The error message is not properly tranlated as desired, raw string
is returned when reached maximum number of traits.

Change-Id: I62b2d32c545b6ad6487aead98c8fab212ed5e83f
"
openstack%2Fironic~master~Iad6cb02ee4f17b7c5987719b3a0603df210c840d,openstack/ironic,master,deleting,Iad6cb02ee4f17b7c5987719b3a0603df210c840d,Clean up nodes in DELETING on conductor restart,MERGED,2020-07-03 09:42:05.000000000,2020-07-06 12:36:19.000000000,2020-07-06 11:30:27.000000000,9,4,0,739192,4f6374a209dcf96ecf7d55da4999b045ae4061ef,16,6,1,5,10239,Dmitry Tantsur,dtantsur,"Clean up nodes in DELETING on conductor restart

Change-Id: Iad6cb02ee4f17b7c5987719b3a0603df210c840d
"
openstack%2Fkolla-ansible~master~Ia22f286e85be90983ca79291b3a54596bba30d6c,openstack/kolla-ansible,master,feat/neutron-trunk-service-plugin,Ia22f286e85be90983ca79291b3a54596bba30d6c,"Add support for the Neutron service plugin ""trunk""",MERGED,2020-06-27 15:01:03.000000000,2020-07-06 12:36:06.000000000,2020-07-06 12:32:51.000000000,22,0,0,738315,3ff15a8ee7113b06c0393815a2327f99ec3e540b,13,3,2,5,167,Christian Berendt,berendt,"Add support for the Neutron service plugin ""trunk""

Change-Id: Ia22f286e85be90983ca79291b3a54596bba30d6c
"
openstack%2Fmagnum-tempest-plugin~master~Idb6534adcf4410169b37f83a4b0b15478370bd9c,openstack/magnum-tempest-plugin,master,,Idb6534adcf4410169b37f83a4b0b15478370bd9c,Set the default ussuri heat_container_agent_tag to ussuri-stable-1,ABANDONED,2020-06-30 21:05:08.000000000,2020-07-06 12:35:07.000000000,,2,1,0,738698,e8219a7bdbe55b076384ca68fcae4ed5ca185d00,5,3,1,1,31746,Oleksandr Kozachenko,okozachenko,"Set the default ussuri heat_container_agent_tag to ussuri-stable-1

Because the current one is ussuri-dev and it is not working

Change-Id: Idb6534adcf4410169b37f83a4b0b15478370bd9c
"
openstack%2Fnova~stable%2Fstein~I764481966c96a67d993da6e902dc9fc3ad29ee36,openstack/nova,stable/stein,bug/1550919,I764481966c96a67d993da6e902dc9fc3ad29ee36,libvirt: Don't delete disks on shared storage during evacuate,MERGED,2020-06-02 14:43:46.000000000,2020-07-06 12:21:58.000000000,2020-07-06 12:19:42.000000000,195,95,3,732696,a7d8aa699793e1d60ece4e03920e6041337f9a43,83,12,3,5,10135,Lee Yarwood,lyarwood,"libvirt: Don't delete disks on shared storage during evacuate

When evacuating an instance between compute hosts on shared storage,
during the rebuild operation we call spawn() on the destination
compute. spawn() currently assumes that it should cleanup all
resources on failure, which results in user data being deleted in the
evacuate case.

This change modifies spawn in the libvirt driver such that it only
cleans up resources it created.

Conflicts:
    nova/tests/functional/libvirt/base.py
    nova/tests/functional/regressions/test_bug_1595962.py
    nova/virt/libvirt/driver.py

Changes:
    nova/tests/functional/libvirt/test_pci_sriov_servers.py

NOTE(lyarwood): Conflicts on stable/stein due to the following:

- nova/tests/functional/libvirt/base.py
  Due to I5895865751e8e1fb08b3515bc9f8119cfcb9f35e not being present
  on stable/stein.

- nova/tests/functional/regressions/test_bug_1595962.py
  Due to I8e5a122cc547222249973cf595d90c2d8d5658d4 not being present
  on stable/stein.

- nova/virt/libvirt/driver.py
  Due to I725deb0312c930087c9e60115abe68b4e06e6804 and
  I6929c588dd2e0e805f2e30b2e30d29967469d756 not being present on
  stable/stein.

NOTE(lyarwood): Changes on stable/stein due to
I5895865751e8e1fb08b3515bc9f8119cfcb9f35e (""libvirt: Mock libvirt'y
things in setUp"") not being present on stable/stein.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Closes-Bug: #1550919
Change-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36
(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)
(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)
(cherry picked from commit 1a320f2a0e0918de6afcce5cf23b7de178ec3a49)
"
openstack%2Ftripleo-ci~master~I491dba2fe6b296a5396668fe673f14f6492f0a5a,openstack/tripleo-ci,master,py3-c7,I491dba2fe6b296a5396668fe673f14f6492f0a5a,DNM: Test py3 on c7 (scl),ABANDONED,2020-06-02 21:38:30.000000000,2020-07-06 12:09:47.000000000,,47,107,0,733006,5956e81abcfcae4e312cb88d43fdaef4a4c41684,27,2,12,4,8175,Rafael Folco,rfolco,"DNM: Test py3 on c7 (scl)

Change-Id: I491dba2fe6b296a5396668fe673f14f6492f0a5a
"
openstack%2Ftripleo-ci~master~I33fa9265ec7aa25e0d25744d781bd62d81c4e255,openstack/tripleo-ci,master,cirros-0.5.1,I33fa9265ec7aa25e0d25744d781bd62d81c4e255,Remove cirros overrides from ovb jobs,ABANDONED,2020-06-05 14:46:28.000000000,2020-07-06 12:09:15.000000000,,19,9,0,733862,28ef99fc973fb7d42bb2d6889f2e9dd30367c947,11,6,2,3,8175,Rafael Folco,rfolco,"Remove cirros overrides from ovb jobs

New releases master/victoria and beyond should run cirros 0.5.1
https://review.opendev.org/#/c/733676/

Older releases will keep using cirros 0.4.0.

Change-Id: I33fa9265ec7aa25e0d25744d781bd62d81c4e255
"
openstack%2Fironic-specs~master~Ia0d2a168664bb9fadb79261492576ee2fcc56d1d,openstack/ironic-specs,master,api-evolution,Ia0d2a168664bb9fadb79261492576ee2fcc56d1d,API Evolution - Implement Tasks Resource,ABANDONED,2016-10-04 17:45:27.000000000,2020-07-06 11:56:49.000000000,,448,0,116,382017,e9487561e4785f7b4f701de5d3f4d4f2065ffa4c,35,16,5,2,2889,Aeva Black,tenbrae,"API Evolution - Implement Tasks Resource

Many operations in Ironic involve long-running asynchronous operations;
such operations typically return an HTTP 202 status when Ironic accepts
the request to begin the task. However, it is difficult (or rather,
impossible in a multi-user environment) for any client to accurately
track the progress of an accepted task, because no ""task identifier"" is
returned in the response.

This specification describes the implementation of ""task"" identifiers on
some API responses, allowing clients to track the status of the unique
asynchronous action they requested.

This patch is part of a series of patches which propose several discrete
units of work, broken out into separate specifications for tracking.
These have grown out of the discussions around whether we should have a
'v2' API, and what current pain-points we all experience with the
current API. It is my belief, after investigating all of the collected
concerns, that we can implement many of the desired changes
incrementally and without a full 'v2' rewrite.

Related-bug: #1630333
Related-bug: #1623556
Co-Authored-By: Grzegorz Grasza <grzegorz.grasza@intel.com>
Change-Id: Ia0d2a168664bb9fadb79261492576ee2fcc56d1d
"
openstack%2Fironic-specs~master~If476bab478ff58b30013aeca505e90e6f722f155,openstack/ironic-specs,master,bug/1652957,If476bab478ff58b30013aeca505e90e6f722f155,Owner-aware baremetal nodes,ABANDONED,2016-12-28 17:05:09.000000000,2020-07-06 11:54:50.000000000,,542,0,128,415512,8f1960f3f50631338a369081f503c42df2000a4c,78,17,14,2,12356,Vladyslav Drok,vdrok,"Owner-aware baremetal nodes

Related-Bug: #1652957
Change-Id: If476bab478ff58b30013aeca505e90e6f722f155
"
openstack%2Fironic~master~I01797700b953de8f936416b16819ca9a7a2e48fd,openstack/ironic,master,oob_cleaning,I01797700b953de8f936416b16819ca9a7a2e48fd,Support to perform only out-of-band automated cleaning,ABANDONED,2016-10-18 10:42:50.000000000,2020-07-06 11:50:27.000000000,,354,35,7,387921,80dc57ad34e4645ec8b6f1f139d5f4c68df5dcbe,31,8,4,7,11076,Shivanand Tendulker,stendulker,"Support to perform only out-of-band automated cleaning

Ironic performs automated cleaning operation in in-band way.
There are couple of clean steps in vendor drivers that can
be performed out-of-band. There is no mechanism available to
disable in-band automated cleaning in Ironic if one wishes to
execute only out-of-band clean steps.

This commit adds new boolean parameter 'oob_automated_cleaning'
that can be set in the Ironic config file to restrict cleaning
operation to out-of-band clean steps.

Closes-Bug: #1634345

Change-Id: I01797700b953de8f936416b16819ca9a7a2e48fd
"
openstack%2Fansible-role-collect-logs~master~I705df1caae5ecec8eddc04a4af783cf4d0403e0d,openstack/ansible-role-collect-logs,master,,I705df1caae5ecec8eddc04a4af783cf4d0403e0d,[Readme] Update infrared plugin installation,MERGED,2020-06-11 14:37:35.000000000,2020-07-06 11:50:14.000000000,2020-07-06 11:50:14.000000000,1,7,0,735156,d087a23fae11fc24c13fd4e3f94aa3bb65bce5e1,7,3,1,1,22873,Martin Kopec,mkopec,"[Readme] Update infrared plugin installation

Symlinking the role is no longer required in infrared due to
the following review:
https://review.gerrithub.io/c/redhat-openstack/infrared/+/486423

Change-Id: I705df1caae5ecec8eddc04a4af783cf4d0403e0d
"
openstack%2Fironic~master~I5a60aa820b60fd29d8ebbd851f3fd215458bab96,openstack/ironic,master,no-mock-yes-mock,I5a60aa820b60fd29d8ebbd851f3fd215458bab96,Use unittest mock instead of 3rd party mock in test_raid,MERGED,2020-07-06 07:31:14.000000000,2020-07-06 11:47:13.000000000,2020-07-06 11:30:30.000000000,2,1,0,739418,0841943c92b5ddebdbb055934e51c244abfdbc10,11,4,1,1,23851,Riccardo Pittau,elfosardo,"Use unittest mock instead of 3rd party mock in test_raid

We should use mock from unittest instead of 3rd party mock.
Since we don't have mock in requirements anymore this could cause
issues like in [1].

[1] https://zuul.opendev.org/t/openstack/build/ff068dc014be42aabde51f95c8c9828e

Change-Id: I5a60aa820b60fd29d8ebbd851f3fd215458bab96
"
openstack%2Fcharm-ceilometer~master~I68bb146399fff4a93cb82701111d73b07a4c1a0b,openstack/charm-ceilometer,master,bug/1880255,I68bb146399fff4a93cb82701111d73b07a4c1a0b,Ensure agent restart on event_publisher.yaml change,MERGED,2020-07-01 16:48:15.000000000,2020-07-06 11:46:13.000000000,2020-07-06 11:46:13.000000000,18,4,0,738891,2fad29a5ae8f3a326aba302e94152a36fc66b410,22,5,3,2,6737,Edward Hope-Morley,hopem,"Ensure agent restart on event_publisher.yaml change

Change-Id: I68bb146399fff4a93cb82701111d73b07a4c1a0b
Closes-Bug: #1880255
"
openstack%2Fvalidations-libs~master~I1cb6e7af5a072d40095babe553b218e7d2e2bd8d,openstack/validations-libs,master,,I1cb6e7af5a072d40095babe553b218e7d2e2bd8d,Delete unused TripleO Jobs,ABANDONED,2020-07-06 07:44:14.000000000,2020-07-06 11:45:33.000000000,,0,17,0,739422,f3932d2141a6afd85f388ca37c0b46cd163be076,3,1,1,1,11491,Gael Chamoulaud,gchamoul,"Delete unused TripleO Jobs

This patch deletes all the useless TripleO CI jobs which are not really
testing the validations framework. Those will be replaced by the
functional CI tests (WIP) ASAP.

Change-Id: I1cb6e7af5a072d40095babe553b218e7d2e2bd8d
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
"
openstack%2Fironic~master~I6b73138f0ac2e4aaf6c329520fb8555d79d1a143,openstack/ironic,master,generic_cleaning,I6b73138f0ac2e4aaf6c329520fb8555d79d1a143,[WIP]Generic way to configure clean step priorites in Automated cleaning,ABANDONED,2017-03-07 10:57:52.000000000,2020-07-06 11:40:33.000000000,,251,54,0,442383,a0a6b89f950397f9011fdb090ae0b5d8750455eb,10,5,1,7,15074,Aparna,Aparna,"[WIP]Generic way to configure clean step priorites in Automated cleaning

This commit adds generic way of configuring the clean step
priorities instead of adding changes in Ironic for each clean step
being introduced.

Change-Id: I6b73138f0ac2e4aaf6c329520fb8555d79d1a143
Closes-bug: #1618014
spec: https://review.openstack.org/362615
"
openstack%2Fopenstack-ansible-tests~stable%2Fstein~Iab1593cf46bcf80022bb353ed0399baadf49b165,openstack/openstack-ansible-tests,stable/stein,,Iab1593cf46bcf80022bb353ed0399baadf49b165,Increase timout for linters job to 30mins,MERGED,2020-07-05 06:23:42.000000000,2020-07-06 11:39:45.000000000,2020-07-06 11:34:35.000000000,1,1,0,739339,e1d62fd29131c63c024691eb5d1d3bf8860e829e,8,3,1,1,25023,Jonathan Rosser,jrosser,"Increase timout for linters job to 30mins

This job is given a longer time to run for two reasons, longer is
spent in the job setup becasue of the increased number of repos
in required_projects and more time is required to push the job
logs into swift storage than the previous method.

Jobs are currently failing because these startup/log collect phases
are taking additional time rather than there being a lint issue, so
this patch extends the job time to account for that.

Change-Id: Iab1593cf46bcf80022bb353ed0399baadf49b165
(cherry picked from commit 961685ce27f762081ee47f6d96f229185e12d1d7)
"
openstack%2Fdiskimage-builder~master~I65807751b3764e86ba5adeb47552305ef2ea299b,openstack/diskimage-builder,master,centos-8,I65807751b3764e86ba5adeb47552305ef2ea299b,Install yum and yum-utils on Red Hat family hosts,MERGED,2020-06-11 13:41:10.000000000,2020-07-06 11:31:07.000000000,2020-07-06 11:27:12.000000000,2,0,0,735136,31dc53da67e239e1157602e763a579631b3611b1,19,6,3,1,6469,Carlos Gonçalves,cgoncalves,"Install yum and yum-utils on Red Hat family hosts

Elements like yum and yum-minimal depend on the yum and yumdownloader
CLIs on the DIB host. We have been assuming these tools are always
installed on Red Hat family distributions but that is no longer the case
starting from RHEL 8 and CentOS 8 and Fedora for a while -- these
systems moved on to DNF and DNF does not have a hard requirement on yum.

We noticed these two tools were missing while building an Octavia
amphora image on a CentOS 8 controller node in CI:

[...] 08-yum-chroot:_install_pkg_manager:223  : sudo -E yum -y [...]
[...] sudo: yum: command not found

Change-Id: I65807751b3764e86ba5adeb47552305ef2ea299b
"
openstack%2Fironic~master~I5d0ddbb7f9829e5a29c96a6f700741c86836db26,openstack/ironic,master,clean_dhcp_opts_master,I5d0ddbb7f9829e5a29c96a6f700741c86836db26,Clean up DHCP opts when the tftp links are cleaned up,ABANDONED,2019-04-22 15:20:37.000000000,2020-07-06 11:08:54.000000000,,11,0,6,654480,2c4ee707119d4209e229c5b4503e4d11d48b282c,25,10,3,1,2874,yong sheng gong,gongysh,"Clean up DHCP opts when the tftp links are cleaned up

Change-Id: I5d0ddbb7f9829e5a29c96a6f700741c86836db26
Story: #2005497
Task: #30598
"
openstack%2Fironic-inspector~master~I14e1851b958dac1ff48389b7d029dd942e8ee70e,openstack/ironic-inspector,master,2003601,I14e1851b958dac1ff48389b7d029dd942e8ee70e,Use ListOpt for processing hooks,ABANDONED,2018-09-18 06:55:44.000000000,2020-07-06 11:06:54.000000000,,8,11,2,603298,be21b84ce4e8308a13ef1297daa343f7ac5111ab,11,3,3,2,9610,Tao Li,Litao,"Use ListOpt for processing hooks

The configuration option processing_hooks is
using StrOpt, oslo.config provides ListOpt so we can use that to get a
list type instead of str, this simplifies our code implementation.

Change-Id: I14e1851b958dac1ff48389b7d029dd942e8ee70e
Story: #2003601
Task: #24919
"
openstack%2Fkeystonemiddleware~master~I0ce8b6d8cd408c7fac8107972e7be70839e337fb,openstack/keystonemiddleware,master,drop-identity-admin-patch9,I0ce8b6d8cd408c7fac8107972e7be70839e337fb,Change the default Identity endpoint to internal,MERGED,2019-06-03 11:11:16.000000000,2020-07-06 10:47:18.000000000,2020-07-06 10:43:56.000000000,16,5,0,662734,8f9a596fffbb262481b32191a98b9169bc1618b1,23,5,3,3,13252,Dr. Jens Harbott,jrosenboom,"Change the default Identity endpoint to internal

In [0] the ``interface``option was added in order to allow the Identity
endpoint that is being used when validating tokens to be
configured by the deployer. Change the default to using the internal
endpoint, as that should be what most deployments will end up using.

[0] https://review.opendev.org/651790

Depends-On: https://review.opendev.org/651492
Closes-Bug: 1830002
Change-Id: I0ce8b6d8cd408c7fac8107972e7be70839e337fb
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I994353a6d4aa6b72e9fecc5f61bf5314a5a94963,openstack/python-tripleoclient,stable/ussuri,,I994353a6d4aa6b72e9fecc5f61bf5314a5a94963,Don't use stack name in default config_download_dir,MERGED,2020-07-03 11:49:31.000000000,2020-07-06 10:30:32.000000000,2020-07-06 10:24:54.000000000,4,5,0,739215,8211384480195087af1a75189de88a755a77a09c,12,4,1,2,8833,Rabi Mishra,rabi,"Don't use stack name in default config_download_dir

We create a subfolder with the plan/stack name under the
config_download_dir to store the config-downloaded artifacts.
Fix 'overcloud export' as users are not expected to specify
the path with the plan/stack name.

Change-Id: I994353a6d4aa6b72e9fecc5f61bf5314a5a94963
Related-Bug: #1884246
(cherry picked from commit e4d9bb17be805ae7bbb844f65c9f28d4d22b44e1)
"
openstack%2Fvalidations-libs~master~If5e678a7fbaba2790d31887c411fea0ed6d2b622,openstack/validations-libs,master,726108,If5e678a7fbaba2790d31887c411fea0ed6d2b622,Change zuul config for functional CI execution,MERGED,2020-05-07 12:36:51.000000000,2020-07-06 10:24:55.000000000,2020-07-06 10:24:55.000000000,243,37,4,726108,c317b78514522ae6e4371e75966ef18159decf30,96,5,43,6,16515,mbu,matbu,"Change zuul config for functional CI execution

Depends-On: https://review.opendev.org/#/c/737997/

Change-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622
"
openstack%2Fnova~master~I8dbc579e0037969aab4f2bb500fccfbde4190726,openstack/nova,master,bug/1874032,I8dbc579e0037969aab4f2bb500fccfbde4190726,Snapshot: offload glance upload in a native thread,MERGED,2020-06-10 09:53:50.000000000,2020-07-06 10:24:11.000000000,2020-07-06 10:19:16.000000000,32,2,20,734776,be9b7358473ca5276cff3c6491f88cd512d118b8,134,19,8,5,28332,Alexandre arents,aarents,"Snapshot: offload glance upload in a native thread

Execute glance upload in a native thread as it may block the current
coroutine until it completes.

Despite the fact we use eventlet monkey_patching [1] to achieve cooperative
yielding for network IO, file IO on busy file system may still get
nova-compute hanging.

Stick those IO in a native thread using eventlet tpool.execute() [2]
avoid this issue.

[1] https://eventlet.net/doc/patching.html
[2] https://eventlet.net/doc/threading.html

Closes-Bug: #1874032
Change-Id: I8dbc579e0037969aab4f2bb500fccfbde4190726
"
openstack%2Fvalidations-common~master~I8c6727fda11d09329a2c356f593d087ec3f71259,openstack/validations-common,master,revert_ooo_jobs_back_commit,I8c6727fda11d09329a2c356f593d087ec3f71259,"Revert ""Add TripleO Jobs back""",MERGED,2020-07-06 07:33:32.000000000,2020-07-06 10:16:19.000000000,2020-07-06 10:16:19.000000000,2,20,0,739419,b49cc0c9d1dc94e459f77f68381a598a0b9fbdf9,7,3,1,1,11491,Gael Chamoulaud,gchamoul,"Revert ""Add TripleO Jobs back""

This reverts commit c9f1eb8001ec487ff0e8a9b09c8074764f2fb870.

Change-Id: I8c6727fda11d09329a2c356f593d087ec3f71259
"
openstack%2Fvalidations-libs~stable%2Fussuri~Ifff9bdb327b38db07df6cac328cbd387f2bc46f1,openstack/validations-libs,stable/ussuri,playbook/logic-stable/ussuri,Ifff9bdb327b38db07df6cac328cbd387f2bc46f1,Remove playbook param from run_validation,MERGED,2020-07-01 12:41:41.000000000,2020-07-06 10:16:18.000000000,2020-07-06 10:16:18.000000000,6,14,0,738840,e0bf69783f4b8bc68404843852aa98e059309948,7,3,1,2,16515,mbu,matbu,"Remove playbook param from run_validation

Removing playbook parameters from run_validation function
since its overlap validation_name functionality and make it
confusing.

Change-Id: Ifff9bdb327b38db07df6cac328cbd387f2bc46f1
(cherry picked from commit de03576eebc64863434c78993f1b96f27b855c02)
"
openstack%2Fdevstack~master~I2cceb1115ab2d971e611c385b8a14f5fe398feb0,openstack/devstack,master,ovn-devstack,I2cceb1115ab2d971e611c385b8a14f5fe398feb0,DO NOT REVIEW: Test OpenSuse fix,ABANDONED,2020-07-02 10:36:08.000000000,2020-07-06 10:03:04.000000000,,3,0,0,739013,4c142410dafd65640edbcbe01af60ebfc83e356f,3,2,1,1,6773,Lucas Alvares Gomes,lucasagomes,"DO NOT REVIEW: Test OpenSuse fix

Change-Id: I2cceb1115ab2d971e611c385b8a14f5fe398feb0
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fneutron~master~I9b6ff8aaee6516d1802b99e99daaf945477c31d3,openstack/neutron,master,gate-ignore-ovn,I9b6ff8aaee6516d1802b99e99daaf945477c31d3,DO NOT REVIEW: OVS jobs to ignore OVN only related changes,ABANDONED,2020-04-03 09:42:27.000000000,2020-07-06 10:02:50.000000000,,29,8,0,717270,3cb4e25bad302e36a24e85a269586ae5ad97cc46,11,3,4,1,6773,Lucas Alvares Gomes,lucasagomes,"DO NOT REVIEW: OVS jobs to ignore OVN only related changes

Test

Change-Id: I9b6ff8aaee6516d1802b99e99daaf945477c31d3
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Ftripleo-quickstart-extras~master~I16ffef72673d5fdea46b2cb004757546e665c455,openstack/tripleo-quickstart-extras,master,lp/1881624,I16ffef72673d5fdea46b2cb004757546e665c455,add ipv6 hotplug tests to skip list,MERGED,2020-06-01 17:06:51.000000000,2020-07-06 09:46:25.000000000,2020-06-06 05:13:12.000000000,3,0,0,732420,393cac0970f80573b59cad98c77bf392761873e8,31,4,1,1,8175,Rafael Folco,rfolco,"add ipv6 hotplug tests to skip list

full-tempest-scenario-master is conistently failing on
test_ipv6_hotplug:

neutron_tempest_plugin.scenario.test_ipv6.IPv6Test

Change-Id: I16ffef72673d5fdea46b2cb004757546e665c455
Related-Bug: #1881624
"
openstack%2Fdevstack-gate~master~I4459191aa3ea210c3c9809757a3844648a619365,openstack/devstack-gate,master,,I4459191aa3ea210c3c9809757a3844648a619365,DNM: remove g-api from subnode,ABANDONED,2020-07-01 10:01:18.000000000,2020-07-06 09:24:08.000000000,,2,2,0,738780,f28db3f6fed5575af2856e9d018462cefefaeb94,5,1,2,2,17685,Elod Illes,elod.illes,"DNM: remove g-api from subnode

devstack-multinode jobs fail in Queens and Pike at subnode, when g-api
service starts, with the following error:

devstack@g-api.service: Failed at step EXEC spawning /usr/local/bin/uwsgi: No such file or directory

From Rocky the test-matrix is replaced in devstack jobs (see details in
patch Ib1debefd541b933dbfc54d484c263cc0ed60423d), and g-api is not used
anymore on subnode.

Change-Id: I4459191aa3ea210c3c9809757a3844648a619365
"
openstack%2Fdevstack~stable%2Fqueens~I76726aee4b6be98123e55fea58cd6e816f3ceb24,openstack/devstack,stable/queens,,I76726aee4b6be98123e55fea58cd6e816f3ceb24,Add ensure-pip to pre.yaml,ABANDONED,2020-06-30 12:49:06.000000000,2020-07-06 09:21:40.000000000,,1,0,0,738598,9371ccccb64fd32d31549be32f17945955635a1b,3,1,1,1,17685,Elod Illes,elod.illes,"Add ensure-pip to pre.yaml

After running Tempest, it tries to install stackviz but that fails
due to old version of pip (version 8), which cannot handle correctly
the opendev mirror and fails to fetch some packages. This bug
disappears by pip version 9.

Tempest has ensure-pip before the failing role, but that's too late
as pip is already installed and won't be upgraded.

If ensure-pip is added in devstack's pre.yaml, then it will install
the correct version of pip from the beginning.

Change-Id: I76726aee4b6be98123e55fea58cd6e816f3ceb24
(cherry picked from commit 6d3f95c62bfce4b66c4624b6fd62ff165745dfe4)
"
openstack%2Fopenstack-manuals~master~I952767f2f3f09085e6d5ad4e40f94de2fce800b7,openstack/openstack-manuals,master,kolla-ussuri,I952767f2f3f09085e6d5ad4e40f94de2fce800b7,Add Kolla Ussuri guides,MERGED,2020-07-03 11:09:24.000000000,2020-07-06 09:13:33.000000000,2020-07-03 12:59:33.000000000,10,10,0,739206,b77fde01cb9178c0533e5b90eec4ec7bf66351ab,11,5,1,1,30491,Radosław Piliszek,yoctozepto,"Add Kolla Ussuri guides

Change-Id: I952767f2f3f09085e6d5ad4e40f94de2fce800b7
"
openstack%2Fkolla-ansible~master~I01d686368b11a105a8965cf987d23772ecbf97de,openstack/kolla-ansible,master,,I01d686368b11a105a8965cf987d23772ecbf97de,Use the children group for site.yml,MERGED,2020-07-05 13:59:17.000000000,2020-07-06 09:05:16.000000000,2020-07-05 17:54:16.000000000,10,2,0,739364,dc56401b427446703f77ac744fc27a0b5954b03c,15,3,2,1,30356,gugug,gujin,"Use the children group for site.yml

1. Use the children group for site.yml
2. Add some missing groups

Change-Id: I01d686368b11a105a8965cf987d23772ecbf97de
"
openstack%2Freleases~master~I9bdf51ff3ff6f8c2f9f30e73db80d0a6bef9e86a,openstack/releases,master,sushy-tools,I9bdf51ff3ff6f8c2f9f30e73db80d0a6bef9e86a,Release sushy-tools 0.11.0,MERGED,2020-07-03 08:39:03.000000000,2020-07-06 08:56:35.000000000,2020-07-06 08:56:35.000000000,4,0,0,739181,70174c946b2acec0e8b1659b215b5cbfd675b198,8,3,1,1,10239,Dmitry Tantsur,dtantsur,"Release sushy-tools 0.11.0

Change-Id: I9bdf51ff3ff6f8c2f9f30e73db80d0a6bef9e86a
"
openstack%2Fkuryr-kubernetes~stable%2Frocky~I2dbe7a422926020dc91a411597cea221d7a7805b,openstack/kuryr-kubernetes,stable/rocky,,I2dbe7a422926020dc91a411597cea221d7a7805b,Fix CNI image build,MERGED,2020-07-02 08:38:24.000000000,2020-07-06 08:27:03.000000000,2020-07-06 08:27:03.000000000,2,1,0,738986,ce4d2176e4a8457098ec2434a1a38be6ed439f0a,13,3,1,1,27032,Maysa de Macedo Souza,maysa,"Fix CNI image build

Dependencies needed by openvswitch are not present on
the rdo-release-train-1 rpm. We need to update it
to make sure they're present.

Change-Id: I2dbe7a422926020dc91a411597cea221d7a7805b
"
openstack%2Fpython-tripleoclient~master~I9c245dbc258c9714bb5a581d6d4d23b42cf53198,openstack/python-tripleoclient,master,,I9c245dbc258c9714bb5a581d6d4d23b42cf53198,Add CLI options for introspection command,MERGED,2020-06-23 15:59:04.000000000,2020-07-06 08:24:07.000000000,2020-07-02 15:33:10.000000000,65,10,2,737568,c9d057651e32ee81fd8e315e35dfe17d4d1e95ac,37,6,4,5,10969,Shnaidman Sagi (Sergey),sergsh,"Add CLI options for introspection command

--node-timeout - Maximum timeout for node introspection
--max-retries - Maximum introspection retries
--retry-timeout - Maximum timeout between introspection retries

Change-Id: I9c245dbc258c9714bb5a581d6d4d23b42cf53198
"
openstack%2Fironic-lib~master~Ib108eea49b17986412f725f64d2320e5487e255e,openstack/ironic-lib,master,ban-modules,Ib108eea49b17986412f725f64d2320e5487e255e,[WIP] Use flake8-tidy-imports to ban specific modules,NEW,2020-07-06 08:08:46.000000000,2020-07-06 08:22:41.000000000,,6,1,1,739425,f624ea0c80d7a2748eb7fc0ef57063a66eadcec3,2,1,1,3,23851,Riccardo Pittau,elfosardo,"[WIP] Use flake8-tidy-imports to ban specific modules

*** This is a demo ***

The flake8-tidy-imports[1] extension helps preventing usage of
unwanted modules, such as 3rd party mock, and provide a good level
of customization.

[1] https://pypi.org/project/flake8-tidy-imports/

Change-Id: Ib108eea49b17986412f725f64d2320e5487e255e
"
openstack%2Ftripleo-ansible~master~Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa,openstack/tripleo-ansible,master,retry_timeout,Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa,Set retry timeout for nodes introspection,MERGED,2020-06-23 16:13:53.000000000,2020-07-06 08:22:02.000000000,2020-06-24 05:42:42.000000000,22,4,0,737574,a368a641efc582c5f544e2e16238a6e12e2f9c78,15,5,3,2,10969,Shnaidman Sagi (Sergey),sergsh,"Set retry timeout for nodes introspection

When restarting node introspection wait a configured amount of time
so that node can be unlocked.
Change-Id: Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa
"
openstack%2Ftripleo-heat-templates~master~Ic3853302e8c1e0768d00e99c3069de7b2196ad84,openstack/tripleo-heat-templates,master,,Ic3853302e8c1e0768d00e99c3069de7b2196ad84,Gather facts at most once for each deployment run,ABANDONED,2020-06-25 15:49:18.000000000,2020-07-06 07:58:54.000000000,,40,23,0,738053,6e65d4c0d6d523961132d2d4d9eb86e481022ba8,21,6,7,3,6926,Bogdan Dobrelya,bogdando,"Gather facts at most once for each deployment run

Make gather_facts auto determined based on the availability of a fact
in hostvars used as an indicator. Save the gather_facts flag state as
a cached fact for the smart use for the rest of that ongoing deployment.

That ensures the facts gathered only once per a deployment execution,
or a minor update/upgrade (but not scaling out).

Depends-On: https://review.opendev.org/737379
Change-Id: Ic3853302e8c1e0768d00e99c3069de7b2196ad84
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fnetworking-l2gw~master~I1bf048df49c385a92fea55f99bd0a7c4283960cf,openstack/networking-l2gw,master,complete-retirement-networking-l2gw,I1bf048df49c385a92fea55f99bd0a7c4283960cf,Retire networking-l2gw: remove zuul jobs,MERGED,2020-06-29 14:45:47.000000000,2020-07-06 07:41:08.000000000,2020-07-03 12:08:45.000000000,0,13,4,738456,454cf61f8a191fc25a1d85d7be5df81eab405c54,14,4,2,1,8313,Lajos Katona,elajkat,"Retire networking-l2gw: remove zuul jobs

networking-l2gw is not a neutron stadium project, and not governed by
openstack, so it is time to move it to x/ namespace. As a first step
disable zuul jobs to avoid collisions when the new repository will be
created as x/networking-l2gw.

Change-Id: I1bf048df49c385a92fea55f99bd0a7c4283960cf
"
openstack%2Fproject-config~master~I99cf6a43a9034ced0579ca00ce7fbe8ac51ff7ed,openstack/project-config,master,,I99cf6a43a9034ced0579ca00ce7fbe8ac51ff7ed,Create a new project for ansible-tripleo-ipa-server,MERGED,2020-07-01 13:07:58.000000000,2020-07-06 07:27:40.000000000,2020-07-02 05:53:47.000000000,4,0,4,738842,046d66931132883e5345881fb9b878acdabba7e5,12,6,2,2,5046,Lance Bragstad,ldbragst,"Create a new project for ansible-tripleo-ipa-server

We recently opensourced some ansible playbooks and scripts for
integrating FreeIPA into TripleO deployments:

  https://review.opendev.org/#/c/711114/

The tripleo-ipa project contains some playbooks that are specific to
setting up and configuring FreeIPA. We'd like to pull these out into
their own project instead of having them in a corner of tripleo-ipa
somewhere.

Change-Id: I99cf6a43a9034ced0579ca00ce7fbe8ac51ff7ed
"
openstack%2Fpuppet-openstack-integration~master~If05ec2b2bd9df7cb312ace07c58f1584cda87aba,openstack/puppet-openstack-integration,master,openstack/puppet/constraints,If05ec2b2bd9df7cb312ace07c58f1584cda87aba,Updated from Puppet OpenStack modules constraints,MERGED,2020-07-04 06:10:08.000000000,2020-07-06 07:14:34.000000000,2020-07-06 07:14:34.000000000,1,1,0,739296,c01bfa1ecdfe3602b03a2cd4bfbd0a8a6231d9ef,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from Puppet OpenStack modules constraints

Change-Id: If05ec2b2bd9df7cb312ace07c58f1584cda87aba
"
openstack%2Ffreezer~master~Ic6b6dbe567a1dec92c5c4c9490b0672cc96d1d1f,openstack/freezer,master,doc,Ic6b6dbe567a1dec92c5c4c9490b0672cc96d1d1f,Overriding configured project name with name extraceted from package(freezer),MERGED,2020-07-06 03:59:09.000000000,2020-07-06 07:08:38.000000000,2020-07-06 07:05:03.000000000,1,0,0,739390,e455e6b5f5441e3fe4f336a0799c5bc125db886a,7,2,1,1,21069,Carl caihui,caihui,"Overriding configured project name with name extraceted from package(freezer)

[openstackdocstheme] overriding configured project name (Python) with
name extracted from the package (freezer); you can disable this behavior
with the 'openstackdocs_auto_name' option

Change-Id: Ic6b6dbe567a1dec92c5c4c9490b0672cc96d1d1f
"
openstack%2Ffreezer-api~master~Icbe9ceff6ad25dc353a3c574f32b26bc007c7294,openstack/freezer-api,master,,Icbe9ceff6ad25dc353a3c574f32b26bc007c7294,Overriding configured project name (freezer-api),MERGED,2020-07-06 03:38:34.000000000,2020-07-06 07:03:22.000000000,2020-07-06 07:01:24.000000000,1,0,0,739388,b66bfa036541c8ea8a4b560e219f28ecd52f09c1,7,2,1,1,21069,Carl caihui,caihui,"Overriding configured project name (freezer-api)

[openstackdocstheme] overriding configured project name (freezer-api) with
name extracted from the package (freezer-api); you can disable this
behavior with the 'openstackdocs_auto_name' option

Change-Id: Icbe9ceff6ad25dc353a3c574f32b26bc007c7294
"
openstack%2Fpuppet-vitrage~master~Icf5c7620291fe10e2a15e2189ea144751974fdb5,openstack/puppet-vitrage,master,wsgi-workers,Icf5c7620291fe10e2a15e2189ea144751974fdb5,Use workers instead of threads in wsgi by default,MERGED,2020-07-04 15:06:07.000000000,2020-07-06 06:56:53.000000000,2020-07-06 06:54:10.000000000,12,7,0,739302,044e40dba30b045a0933963f53d39a6bf6d83002,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Use workers instead of threads in wsgi by default

In most of puppet-openstack modules, we use workers instead of threads
in wsgi to realize concurrency of api process by default.

This patch makes puppet-vitrage follow that standard configuration,
so that the default setup can be more consistent among all modules.

Change-Id: Icf5c7620291fe10e2a15e2189ea144751974fdb5
"
openstack%2Fpuppet-watcher~master~Iac7cba33f69b39e5bf29c61ed0c22b9b533b1293,openstack/puppet-watcher,master,wsgi-workers,Iac7cba33f69b39e5bf29c61ed0c22b9b533b1293,Use workers instead of threads in wsgi by default,MERGED,2020-07-04 15:07:59.000000000,2020-07-06 06:44:52.000000000,2020-07-06 06:42:06.000000000,12,7,0,739303,855a5c8e44a7ee7b15c3fe39198b98bd54fc70f7,9,3,1,3,9816,Takashi Kajinami,kajinamit,"Use workers instead of threads in wsgi by default

In most of puppet-openstack modules, we use workers instead of threads
in wsgi to realize concurrency of api process by default.

This patch makes puppet-watcher follow that standard configuration,
so that the default setup can be more consistent among all modules.

Change-Id: Iac7cba33f69b39e5bf29c61ed0c22b9b533b1293
"
openstack%2Fpuppet-cloudkitty~master~I287b36155958cd535b18d60f0c80395c3082ee46,openstack/puppet-cloudkitty,master,wsgi-workers,I287b36155958cd535b18d60f0c80395c3082ee46,Use workers instead of threads in wsgi by default,MERGED,2020-07-04 15:03:23.000000000,2020-07-06 06:19:27.000000000,2020-07-06 06:16:12.000000000,12,7,0,739301,306badcca143d80c2c20e38a920eca534b89615c,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Use workers instead of threads in wsgi by default

In most of puppet-openstack modules, we use workers instead of threads
in wsgi to realize concurrency of api process by default.

This patch makes puppet-cloudkitty follow that standard configuration,
so that the default setup can be more consistent among all modules.

Change-Id: I287b36155958cd535b18d60f0c80395c3082ee46
"
openstack%2Fheat~master~If9beaff74cf4facbc4aa4b30f31a3a087bdcad8a,openstack/heat,master,,If9beaff74cf4facbc4aa4b30f31a3a087bdcad8a,Deprecate wrappertask decorator,MERGED,2019-12-18 04:46:53.000000000,2020-07-06 06:02:29.000000000,2020-07-06 06:00:17.000000000,64,91,0,699545,2c58017a144d3d87b4ccefe704db95d50769f89e,12,4,2,6,4257,Zane Bitter,zaneb,"Deprecate wrappertask decorator

Now that we only support Python 3, use the 'yield from' keyword instead
of the @wrappertask decorator for calling co-routines from a co-routine.
This should greatly simplify backtraces when calling nested co-routines.

Change-Id: If9beaff74cf4facbc4aa4b30f31a3a087bdcad8a
"
openstack%2Fdevstack~stable%2Frocky~I82f539bfa533349293dd5a8ce309c9cc0ffb0393,openstack/devstack,stable/rocky,uwsgi-stable/rocky,I82f539bfa533349293dd5a8ce309c9cc0ffb0393,"Fix gate, squashing multiple fixes",MERGED,2020-06-15 15:21:12.000000000,2020-07-06 05:57:28.000000000,2020-07-01 15:47:19.000000000,152,28,2,735615,ad6cc52c746f1fbdb1d89b14c09dc4aa7907bfe4,48,15,9,6,8556,Ghanshyam,ghanshyam,"Fix gate, squashing multiple fixes

This commit includes multiple fixes to
make gate happy:

1. Use packaged uwsgi on Fedora and Ubuntu
- https://review.opendev.org/#/c/735615/7

2. Move process-stackviz role from Tempest to Devstack
- https://review.opendev.org/#/c/737078/4

3. Add ensure-pip to pre.yaml
- https://review.opendev.org/#/c/738495/2

4. Temporarily disable the grenade jobs

Change-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393
(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)
"
openstack%2Fglance~master~I44bfefb6eee421e18e5e95a0dafaef0ea4e170da,openstack/glance,master,bug/1885003,I44bfefb6eee421e18e5e95a0dafaef0ea4e170da,Fix: Interrupted copy-image leaking data on subsequent operation,MERGED,2020-06-24 20:06:58.000000000,2020-07-06 05:43:06.000000000,2020-07-06 05:39:00.000000000,82,1,29,737867,22d8f1fcbf4325d79ac18adfe87198c785f1df52,33,7,3,2,9303,Abhishek Kekane,abhishekkekane,"Fix: Interrupted copy-image leaking data on subsequent operation

If copying existing image in other stores fails while staging the data to
staging directory due to power, network or any other reason. Then
subsequent try may lead to data leaks in stores.

To fix this, added check of the actual image size with the size
of image file present in the staging area. If it does not match
then delete the image file from staging area so that the entire
image will be staged again.

Change-Id: I44bfefb6eee421e18e5e95a0dafaef0ea4e170da
Closes-Bug: #1885003
"
openstack%2Fdiskimage-builder~master~I1cc72314716690874eca57526eac224c4e0b24cf,openstack/diskimage-builder,master,,I1cc72314716690874eca57526eac224c4e0b24cf,"Revert ""Make ipa centos8 job non-voting""",MERGED,2020-07-01 03:57:17.000000000,2020-07-06 05:40:56.000000000,2020-07-06 05:37:57.000000000,2,2,0,738728,68bc561c09d4917f9747e9a09e1bb7f15ec913b1,16,26,2,1,13861,yatin,yatinkarel,"Revert ""Make ipa centos8 job non-voting""

This reverts commit 868a6f0c8aed6a90d41777306a1a55de1942cf56.

Change-Id: I1cc72314716690874eca57526eac224c4e0b24cf
Depends-On: https://review.opendev.org/#/c/738438/
"
openstack%2Fopenstack-ansible-ceph_client~master~I120a983c999202a9b6e6e54285644358212c13df,openstack/openstack-ansible-ceph_client,master,,I120a983c999202a9b6e6e54285644358212c13df,Add centos-8 support,ABANDONED,2020-07-06 04:35:00.000000000,2020-07-06 04:35:15.000000000,,6,3,0,739397,3369df15ec09220b81af53c1ef7f31a7d9d23f18,2,0,1,1,28752,Satish Patel,spatel,"Add centos-8 support

Renaming redhat-7.yml and fixing ceph download URL.

Change-Id: I120a983c999202a9b6e6e54285644358212c13df
"
openstack%2Fopenstack-ansible-ceph_client~master~I1b41dd155c7b5bbb90c99e00e9c0866df3dbe0d6,openstack/openstack-ansible-ceph_client,master,osa/el8,I1b41dd155c7b5bbb90c99e00e9c0866df3dbe0d6,Add centos-8 support,ABANDONED,2020-07-06 04:23:38.000000000,2020-07-06 04:32:42.000000000,,0,0,0,739395,5cd70be705cc521c951ef318b954502d86cc49c3,2,0,1,1,28752,Satish Patel,spatel,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support.

Change-Id: I1b41dd155c7b5bbb90c99e00e9c0866df3dbe0d6
"
openstack%2Fopenstack-ansible-ceph_client~master~I25c254e93280428c850c3d5a31bd202ead261c2b,openstack/openstack-ansible-ceph_client,master,osa/el8,I25c254e93280428c850c3d5a31bd202ead261c2b,Add centos-8 support,ABANDONED,2020-07-06 04:23:38.000000000,2020-07-06 04:25:38.000000000,,6,3,0,739396,511da1e3d3472a6c39a66d82625ae1ad517c6b7c,2,0,1,1,28752,Satish Patel,spatel,"Add centos-8 support

Adding centos version condition to fix ceph download URL.

Change-Id: I25c254e93280428c850c3d5a31bd202ead261c2b
"
openstack%2Fmistral~stable%2Fussuri~I0682595b472545d9202521c1548f13b142c2d5a4,openstack/mistral,stable/ussuri,,I0682595b472545d9202521c1548f13b142c2d5a4,Pin version of mistral-lib to 2.1.0 for Ussuri,ABANDONED,2020-07-03 06:55:43.000000000,2020-07-06 03:58:28.000000000,,1,1,0,739169,02642fc31199ba85a89a04077102330c01d79849,4,2,1,1,8731,Renat Akhmerov,rakhmerov,"Pin version of mistral-lib to 2.1.0 for Ussuri

* mistral-lib 2.2.0 contains a change that's not compatible with
  mistral ussuri (removed the constants ACTION_TASK_TYPE and
  WORKFLOW_TASK_TYPE).

Change-Id: I0682595b472545d9202521c1548f13b142c2d5a4
"
openstack%2Ffreezer-api~master~I55903e4f914673aba5ac986b845c2a6504830c19,openstack/freezer-api,master,,I55903e4f914673aba5ac986b845c2a6504830c19,Fix docs output error,MERGED,2020-07-06 03:20:04.000000000,2020-07-06 03:33:47.000000000,2020-07-06 03:32:36.000000000,3,3,0,739387,b744d68b644645ebd49adc21e72c1843a2618456,7,2,1,1,21069,Carl caihui,caihui,"Fix docs output error

writing output... [ 33%] cli/freezer-manager-status
[openstackdocstheme] the 'repository_name' config option has been deprecated
 and replaced by the 'openstackdocs_repo_name' option; support for the former
 will be dropped in a future release
[openstackdocstheme] the 'bug_project' config option has been deprecated and
replaced by the 'openstackdocs_bug_project' option; support for the former
 will be dropped in a future release
[openstackdocstheme] the 'bug_tag' config option has been deprecated and
replaced by the 'openstackdocs_bug_tag' option; support for the former will
be dropped in a future release
writing output... [ 66%] cli/index
writing output... [100%] index

Change-Id: I55903e4f914673aba5ac986b845c2a6504830c19
"
openstack%2Fdiskimage-builder~master~If4420e9ae7870739aac8a673ff290f9ed1391acf,openstack/diskimage-builder,master,add-more-pythons-to-gentoo,If4420e9ae7870739aac8a673ff290f9ed1391acf,add more python selections to gentoo,MERGED,2020-06-14 06:16:34.000000000,2020-07-06 03:01:17.000000000,2020-07-06 02:59:59.000000000,6,0,0,735448,c7b6f0d6a1b68e28f6c436e57e62b7617acaee42,54,8,1,1,14288,Matthew Thode,prometheanfire,"add more python selections to gentoo

Change-Id: If4420e9ae7870739aac8a673ff290f9ed1391acf
"
openstack%2Fceilometer~master~I197ad37c55df8d78375cb31c66eb93b91114d4dd,openstack/ceilometer,master,,I197ad37c55df8d78375cb31c66eb93b91114d4dd,Fix pygments style,MERGED,2020-05-20 00:48:46.000000000,2020-07-06 02:56:36.000000000,2020-07-06 02:55:11.000000000,2,2,0,729456,976df71b638edcb310c91719b423439e60da2a0c,17,4,3,2,30356,gugug,gujin,"Fix pygments style

New theme of docs respects pygments_style.

more info: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I197ad37c55df8d78375cb31c66eb93b91114d4dd
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib315d10dbdbbad1628f536a74cd1fca371f018f5,openstack/tripleo-heat-templates,stable/ussuri,bug/1884115-stable/ussuri,Ib315d10dbdbbad1628f536a74cd1fca371f018f5,Sync httpd conf.modules.d configs,MERGED,2020-06-24 12:51:52.000000000,2020-07-06 02:13:20.000000000,2020-07-06 02:13:20.000000000,137,0,0,737764,b366fd9e1a6b6977f5094204ef731b609000c7d1,23,4,2,19,14985,Alex Schultz,mwhahaha,"Sync httpd conf.modules.d configs

For containers which run httpd, make sure conf.modules.d is also synced
into the container; so apache doesn't fail with:
AH00534: httpd: Configuration error: More than one MPM loaded.

This is now required since:
https://github.com/puppetlabs/puppetlabs-apache/commit/6425cc46a841fa6ea5bb3f34b8f31d86c14e6914

Change-Id: Ib315d10dbdbbad1628f536a74cd1fca371f018f5
Closes-Bug: #1884115
(cherry picked from commit 1a48fa61f4a7d79041336e11ae54e46075d4f2a7)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I8394cec6bbaca9c89c848eaddf724c072bc36cb3,openstack/tripleo-heat-templates,stable/ussuri,bug/1878720-stable/ussuri,I8394cec6bbaca9c89c848eaddf724c072bc36cb3,Add non-string value support for CephAnsibleEnvironmentVariables,MERGED,2020-05-27 13:07:09.000000000,2020-07-06 01:56:00.000000000,2020-07-06 01:56:00.000000000,9,9,0,731198,48d735e723d963edb63a85701a94be47f405d407,25,5,4,5,14985,Alex Schultz,mwhahaha,"Add non-string value support for CephAnsibleEnvironmentVariables

CephAnsibleEnvironmentVariables data is supposed to be transformed
into ""KEY=VALUE"" format by yaql expression.

```
ceph_ansible_environment_variables:
  yaql:
    data: {get_param: CephAnsibleEnvironmentVariables}
    expression: $.data.items().select($[0] + '=' + $[1])
```

However, the expression here uses `+` to join the key($[0]) and
value($[1]), which will cause syntax error when value is not string
type.

For example:

If we use boolean or integer for environment values such as
```
parameter_defaults:
  CephAnsibleEnvironmentVariables:
    ANSIBLE_DEBUG: true
```

the following error will occour

```
overcloud.CephStorageServiceChain:
  resource_type: OS::TripleO::CephStorageServices
  physical_resource_id: 51fd6f95-027b-4047-9132-763e1cb8150c
  status: UPDATE_FAILED
  status_reason: |
    resources.CephStorageServiceChain:
    Error in 4 output role_data:
    Error in CephBase output role_data:
    No function ""#operator_+"" matches supplied arguments
```

Change-Id: I8394cec6bbaca9c89c848eaddf724c072bc36cb3
Closes-Bug: #1878720
(cherry picked from commit 7c46fd01425a40818916aeca227ec1dbfa1ec348)
"
openstack%2Fwatcher~master~Ia2df0e0a4f242392915aa2a89d4fbae39b6c70e9,openstack/watcher,master,action_resize,Ia2df0e0a4f242392915aa2a89d4fbae39b6c70e9,resize action don't support revert,MERGED,2020-07-02 06:50:11.000000000,2020-07-06 01:50:37.000000000,2020-07-06 01:48:00.000000000,1,1,0,738972,1667046f5802e52f9d60fed8752879c8ad0b6849,8,2,1,1,21692,licanwei,licanwei,"resize action don't support revert

Change-Id: Ia2df0e0a4f242392915aa2a89d4fbae39b6c70e9
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If1c621b45718475578dca390c45c0e23d1f3d7bc,openstack/tripleo-heat-templates,stable/train,sahara,If1c621b45718475578dca390c45c0e23d1f3d7bc,Disable Sahara in scenario003-standalone,MERGED,2020-07-03 13:57:58.000000000,2020-07-06 01:30:31.000000000,2020-07-06 01:30:31.000000000,0,2,0,739238,728babbc522e11a3bc37d00fa620f3b173e3f8e4,15,6,1,1,3153,Emilien Macchi,emilienm,"Disable Sahara in scenario003-standalone

Sahara service is deprecated in TripleO and won't be tested anymore to
align with what is delivered downstream.
In the new container image tooling, we don't ship sahara images simply because
we don't have users and won't continue to support it's deployment in the
future.

Change-Id: If1c621b45718475578dca390c45c0e23d1f3d7bc
(cherry picked from commit 03285912fcc784a971c206f44584b096e28ba14c)
"
openstack%2Fwatcher-specs~master~I50d8b82b70eb441987f41ddedfcae3b07772d0e8,openstack/watcher-specs,master,bp/time-series-framework,I50d8b82b70eb441987f41ddedfcae3b07772d0e8,Add bp time-series-framework,MERGED,2020-07-02 07:02:07.000000000,2020-07-06 01:21:09.000000000,2020-07-06 01:19:44.000000000,12,0,0,738975,7549c5ed9a41da05cffa5302da0544f04d97888b,8,5,1,1,21692,licanwei,licanwei,"Add bp time-series-framework

Change-Id: I50d8b82b70eb441987f41ddedfcae3b07772d0e8
"
openstack%2Fopenstack-ansible~stable%2Ftrain~I3c9bbe5b43025b7a3f77435828c9501b3fdadd67,openstack/openstack-ansible,stable/train,,I3c9bbe5b43025b7a3f77435828c9501b3fdadd67,Disable test_swift_acl_anonymous_download test,MERGED,2020-07-01 20:54:46.000000000,2020-07-06 00:52:03.000000000,2020-07-06 00:49:43.000000000,3,0,0,738939,efc017570fd4018ecf0c9b722e85fdf3a3a5b6ab,37,5,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Disable test_swift_acl_anonymous_download test

Ceph rgw in 14.2.10 and 15.2.4 has changed return code for unathorized
from 401 to 404, which makes this test fail.

Change-Id: I3c9bbe5b43025b7a3f77435828c9501b3fdadd67
(cherry picked from commit 75cfbe4db64f0989d1489ed162a45a73cf14b33c)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If0937ebde4b2bbeb98a824b8f0b887c372191417,openstack/tripleo-heat-templates,stable/train,test-centos-8,If0937ebde4b2bbeb98a824b8f0b887c372191417,DNM - Testing centos-8 triggers,ABANDONED,2020-03-02 17:19:15.000000000,2020-07-05 23:46:40.000000000,,1,0,0,710838,f5c3e6a4e4aa61106c0b03ba1121ad133155cd9c,4,2,1,1,9976,Ronelle Landy,rlandy,"DNM - Testing centos-8 triggers

Depends-On: https://review.opendev.org/#/c/710179/
Change-Id: If0937ebde4b2bbeb98a824b8f0b887c372191417
"
openstack%2Fkolla-ansible~stable%2Fussuri~I17256b182d207aeba3f92c65a6d7cf3611180558,openstack/kolla-ansible,stable/ussuri,bug/1886170-stable/ussuri,I17256b182d207aeba3f92c65a6d7cf3611180558,Remove policy file from nova-conductor config.json template,MERGED,2020-07-05 16:39:42.000000000,2020-07-05 22:23:34.000000000,2020-07-05 22:22:04.000000000,8,7,0,739365,33f186c94610062ee51f118a6701c381bf5a5914,10,4,1,2,30491,Radosław Piliszek,yoctozepto,"Remove policy file from nova-conductor config.json template

Change I810aad7d49db3f5a7fd9a2f0f746fd912fe03917 for supporting multiple
Nova cells updated the list of containers that require a policy file to
only include nova-api, nova-compute, and nova-compute-ironic.

The nova-conductor config.json template was left unchanged and fails to
copy the nova policy file into its container. This can be seen on a
fresh deployment, but might be missed on an upgrade if an older policy
file is still available in /etc/kolla/nova-conductor.

This commit removes the nova_policy_file block from the nova-conductor
config.json template, as it shouldn't be required.

Backport: ussuri, train
Change-Id: I17256b182d207aeba3f92c65a6d7cf3611180558
Closes-Bug: #1886170
(cherry picked from commit c40e8065878dd77c1303642e677c4ca8a989494a)
"
openstack%2Frequirements~master~Ic6db7af34c87a636bfe55bacae03c42154f4b9c7,openstack/requirements,master,osc-performance,Ic6db7af34c87a636bfe55bacae03c42154f4b9c7,importlib-metadata: add python version rule,MERGED,2020-07-05 19:34:31.000000000,2020-07-05 22:16:34.000000000,2020-07-05 22:15:23.000000000,1,1,0,739371,4551f8d566f9d6b3f057e57ba781ae6154fb1497,8,3,1,1,2472,Doug Hellmann,doug-hellmann,"importlib-metadata: add python version rule

We only want to install the separate importlib-metadata for python
versions < 3.8. Otherwise, we want to use the standard library version
of the package. Adding this rule allows consumers of
importlib-metadata to specify the same rule to accurately reflect
their dependencies.

Change-Id: Ic6db7af34c87a636bfe55bacae03c42154f4b9c7
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fkolla-ansible~stable%2Ftrain~I17256b182d207aeba3f92c65a6d7cf3611180558,openstack/kolla-ansible,stable/train,bug/1886170-stable/ussuri-stable/train,I17256b182d207aeba3f92c65a6d7cf3611180558,Remove policy file from nova-conductor config.json template,MERGED,2020-07-05 16:39:48.000000000,2020-07-05 22:03:43.000000000,2020-07-05 22:02:09.000000000,8,7,0,739366,bd055912df06ecd4149a40ccce873e56f707026d,8,4,1,2,30491,Radosław Piliszek,yoctozepto,"Remove policy file from nova-conductor config.json template

Change I810aad7d49db3f5a7fd9a2f0f746fd912fe03917 for supporting multiple
Nova cells updated the list of containers that require a policy file to
only include nova-api, nova-compute, and nova-compute-ironic.

The nova-conductor config.json template was left unchanged and fails to
copy the nova policy file into its container. This can be seen on a
fresh deployment, but might be missed on an upgrade if an older policy
file is still available in /etc/kolla/nova-conductor.

This commit removes the nova_policy_file block from the nova-conductor
config.json template, as it shouldn't be required.

Backport: ussuri, train
Change-Id: I17256b182d207aeba3f92c65a6d7cf3611180558
Closes-Bug: #1886170
(cherry picked from commit c40e8065878dd77c1303642e677c4ca8a989494a)
"
openstack%2Fsenlin-dashboard~master~I78b4c6bd2f0ac7bdf39f69d1be4ecd32ce953d52,openstack/senlin-dashboard,master,fix-npm-jobs,I78b4c6bd2f0ac7bdf39f69d1be4ecd32ce953d52,Fix npm job,MERGED,2020-06-23 09:23:36.000000000,2020-07-05 21:50:41.000000000,2020-07-05 21:49:14.000000000,1,1,4,737466,001accd77c1e6ca7b8288b087ad7a1ecf017915e,16,4,4,1,29313,Vishal Manchanda,vishalmanchanda,"Fix npm job

horizon is doing frequent releases, the install from source is not
working as is anymore. Remove it.

Change-Id: I78b4c6bd2f0ac7bdf39f69d1be4ecd32ce953d52
"
openstack%2Fdiskimage-builder~master~I648fe19f1f76c03c97492b6ac7be6381f6f9261b,openstack/diskimage-builder,master,centos-8,I648fe19f1f76c03c97492b6ac7be6381f6f9261b,Download latest CentOS cloud image,MERGED,2020-06-22 09:07:16.000000000,2020-07-05 21:09:57.000000000,2020-07-05 21:06:43.000000000,1,1,0,737237,1f9619cdb5fe7c2eab91b16fe3b78dc97ed279cf,25,6,1,1,6469,Carlos Gonçalves,cgoncalves,"Download latest CentOS cloud image

DIB was retrieving the oldest cloud image file which, presently, means
retrieving CentOS 8.1 instead of CentOS 8.2. Even though DIB runs a
system update and so catches up to latest, this takes bandwidth, time
and final image space (8.1 + system update = 765M qcow2, vs 8.2 + system
update = 518M qcow2).

This patch fixes that by taking the first image name in a descending
order list.

Change-Id: I648fe19f1f76c03c97492b6ac7be6381f6f9261b
"
openstack%2Fdiskimage-builder~master~Id0825de735ab957c10daf35fb3c641f850cc6847,openstack/diskimage-builder,master,centos-stream,Id0825de735ab957c10daf35fb3c641f850cc6847,Add support for CentOS 8 Stream,MERGED,2020-06-08 13:34:50.000000000,2020-07-05 21:08:53.000000000,2020-07-05 21:06:41.000000000,79,25,5,734083,367dfc9294f76da411bdedea4445959fc5f80aac,88,11,14,18,6469,Carlos Gonçalves,cgoncalves,"Add support for CentOS 8 Stream

This patch adds support for CentOS 8 Stream [1] to the centos-minimal
element. Users should set DIB_RELEASE=8-stream.

[1] https://www.centos.org/stream/

Change-Id: Id0825de735ab957c10daf35fb3c641f850cc6847
"
openstack%2Fglance~stable%2Fussuri~I845bce79e487656a284e52e4c605d648a5411822,openstack/glance,stable/ussuri,native-zuulv3-migration,I845bce79e487656a284e52e4c605d648a5411822,Use grenade-multinode instead of the custom legacy job,MERGED,2020-06-30 20:40:21.000000000,2020-07-05 21:03:11.000000000,2020-07-05 21:00:59.000000000,1,73,0,738693,0855cc1eaa6b25b823db3253afee10ca13fc39c2,14,4,1,3,10459,Luigi Toscano,ltoscano,"Use grenade-multinode instead of the custom legacy job

glance-dsvm-grenade-multinode is a simple multinode grenade job and
it can thus be replaced by the existing grenade-multinode.

Change-Id: I845bce79e487656a284e52e4c605d648a5411822
(cherry picked from commit a506e941152d1dacba57c800c34623d9ad02bebe)
"
openstack%2Fstevedore~master~Ie2b3370267050597d616209ee2757e21002519b6,openstack/stevedore,master,osc-performance,Ie2b3370267050597d616209ee2757e21002519b6,add a caching layer in front of entry point scanning,ABANDONED,2020-07-04 18:09:53.000000000,2020-07-05 19:08:24.000000000,,179,2,0,739326,74b6e6bbb2a024cecf67c88ee38686cd68ef43f0,5,2,1,2,2472,Doug Hellmann,doug-hellmann,"add a caching layer in front of entry point scanning

The cache stores the parsed text data from all of the ini input files
in a single JSON file with a name based on the hash of the path
entries and the mtimes. This should produce a unique filename for each
import path, regardless of the use of a virtualenv.

The data is stored in a format that means no other files need to be
examined or parsed in order to return EntryPoint objects.

Change-Id: Ie2b3370267050597d616209ee2757e21002519b6
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fkolla-ansible~master~I17256b182d207aeba3f92c65a6d7cf3611180558,openstack/kolla-ansible,master,bug/1886170,I17256b182d207aeba3f92c65a6d7cf3611180558,Remove policy file from nova-conductor config.json template,MERGED,2020-07-03 09:49:14.000000000,2020-07-05 16:39:42.000000000,2020-07-05 16:02:28.000000000,8,7,2,739194,c40e8065878dd77c1303642e677c4ca8a989494a,15,5,2,2,15197,Pierre Riteau,priteau,"Remove policy file from nova-conductor config.json template

Change I810aad7d49db3f5a7fd9a2f0f746fd912fe03917 for supporting multiple
Nova cells updated the list of containers that require a policy file to
only include nova-api, nova-compute, and nova-compute-ironic.

The nova-conductor config.json template was left unchanged and fails to
copy the nova policy file into its container. This can be seen on a
fresh deployment, but might be missed on an upgrade if an older policy
file is still available in /etc/kolla/nova-conductor.

This commit removes the nova_policy_file block from the nova-conductor
config.json template, as it shouldn't be required.

Backport: ussuri, train
Change-Id: I17256b182d207aeba3f92c65a6d7cf3611180558
Closes-Bug: #1886170
"
openstack%2Fkolla-ansible~master~I15e5c0e0a956ee181873cf002229532a15ff959d,openstack/kolla-ansible,master,,I15e5c0e0a956ee181873cf002229532a15ff959d,Remove the neutron-fwaas roles since it retired,MERGED,2020-06-17 05:25:16.000000000,2020-07-05 16:03:47.000000000,2020-07-05 16:02:26.000000000,7,59,2,736098,1c7ca296643074a41a526a9979253af1d4c5d057,21,6,5,10,30356,gugug,gujin,"Remove the neutron-fwaas roles since it retired

Depends-On: I561504160e5548c54d1af31821c3366ab34cf0ec
Change-Id: I15e5c0e0a956ee181873cf002229532a15ff959d
Co-Authored-By: jacky06 <zhang.min@99cloud.net>
"
openstack%2Fheat-translator~master~Iab5fd15778dccdacc4811b35627c9b99b6bac0cc,openstack/heat-translator,master,bug/1880647,Iab5fd15778dccdacc4811b35627c9b99b6bac0cc,Avoid writing substack template into files,NEW,2020-05-26 09:09:04.000000000,2020-07-05 14:08:14.000000000,,0,5,4,730735,31ec53f278a36fbb2e7c1894d647aa77fec84932,11,7,2,1,31648,Prashant Bhole,pbhole,"Avoid writing substack template into files

TOSCATranslator.translate() method writes substack templates into
files. These files are not necessary as their content is already
included in the template. This patch removes the code which writes
those files.

Printing the content of the substack templates into debug log
would unnecessarily flood the logs. Hence not logging the content.

Closes-Bug: #1880647
Change-Id: Iab5fd15778dccdacc4811b35627c9b99b6bac0cc
"
openstack%2Fkolla-ansible~master~Ia17a64fe9bf31042369dec19f1f76b1ab8592288,openstack/kolla-ansible,master,,Ia17a64fe9bf31042369dec19f1f76b1ab8592288,make barbican notification driver configurable,MERGED,2020-07-02 14:58:29.000000000,2020-07-05 11:57:18.000000000,2020-07-05 11:56:04.000000000,15,0,2,739066,051038621f162b40c069e3be1daef8d9125c9fbb,11,3,1,2,26285,wu.chunyang,wu.chunyang,"make barbican notification driver configurable

barbican alway use default notification driver (defalt '')
so we should change this value according to whether enable
notification

Change-Id: Ia17a64fe9bf31042369dec19f1f76b1ab8592288
"
openstack%2Ftripleo-common~stable%2Fussuri~I131aca7a03802766a791e6912fad6ebf143d31db,openstack/tripleo-common,stable/ussuri,buildtestpackages-stable/ussuri,I131aca7a03802766a791e6912fad6ebf143d31db,[DNM] build test packages downstream testing,ABANDONED,2020-06-11 11:08:31.000000000,2020-07-05 11:46:27.000000000,,1,1,0,735111,c222a51c5b8cf0622ab3406a56dba2f00d0b1083,53,3,4,1,12393,chandan kumar,chkumar246,"[DNM] build test packages downstream testing

Depends-On: https://review.opendev.org/738394
Depends-On: https://review.opendev.org/737048

Change-Id: I131aca7a03802766a791e6912fad6ebf143d31db
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fopenstack-ansible-tests~stable%2Ftrain~Iab1593cf46bcf80022bb353ed0399baadf49b165,openstack/openstack-ansible-tests,stable/train,,Iab1593cf46bcf80022bb353ed0399baadf49b165,Increase timout for linters job to 30mins,MERGED,2020-07-05 06:23:16.000000000,2020-07-05 10:15:29.000000000,2020-07-05 10:13:38.000000000,1,1,0,739338,ae3dd4da80328269021a8d8fc5abb28594dd361f,8,3,1,1,25023,Jonathan Rosser,jrosser,"Increase timout for linters job to 30mins

This job is given a longer time to run for two reasons, longer is
spent in the job setup becasue of the increased number of repos
in required_projects and more time is required to push the job
logs into swift storage than the previous method.

Jobs are currently failing because these startup/log collect phases
are taking additional time rather than there being a lint issue, so
this patch extends the job time to account for that.

Change-Id: Iab1593cf46bcf80022bb353ed0399baadf49b165
(cherry picked from commit 961685ce27f762081ee47f6d96f229185e12d1d7)
"
openstack%2Fneutron~master~Icf5e2a73b15407419d5c922e236181af85aad0dc,openstack/neutron,master,bug/1885169,Icf5e2a73b15407419d5c922e236181af85aad0dc,"Provide integer number to arping ""-w"" parameter",MERGED,2020-06-29 08:46:18.000000000,2020-07-05 09:59:48.000000000,2020-07-03 01:28:19.000000000,1,1,0,738400,72d95d40d467fa43a53a48bbc93f6efb3a43fca6,42,8,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Provide integer number to arping ""-w"" parameter

Some arping versions only accept an integer number for the
""deadline"" (-w) parameter.

Change-Id: Icf5e2a73b15407419d5c922e236181af85aad0dc
Closes-Bug: #1885169
"
openstack%2Fopenstack-ansible-tests~master~Iab1593cf46bcf80022bb353ed0399baadf49b165,openstack/openstack-ansible-tests,master,,Iab1593cf46bcf80022bb353ed0399baadf49b165,Increase timout for linters job to 30mins,MERGED,2020-05-13 10:00:16.000000000,2020-07-05 06:23:42.000000000,2020-05-13 13:53:37.000000000,1,1,0,727697,961685ce27f762081ee47f6d96f229185e12d1d7,14,4,2,1,25023,Jonathan Rosser,jrosser,"Increase timout for linters job to 30mins

This job is given a longer time to run for two reasons, longer is
spent in the job setup becasue of the increased number of repos
in required_projects and more time is required to push the job
logs into swift storage than the previous method.

Jobs are currently failing because these startup/log collect phases
are taking additional time rather than there being a lint issue, so
this patch extends the job time to account for that.

Change-Id: Iab1593cf46bcf80022bb353ed0399baadf49b165
"
openstack%2Fzun-tempest-plugin~master~I89a25883b6341357d6d98b60445eba9d0fe69623,openstack/zun-tempest-plugin,master,bug/1881910,I89a25883b6341357d6d98b60445eba9d0fe69623,Test container in subnet without gateway_ip,MERGED,2020-06-07 23:38:51.000000000,2020-07-05 04:44:57.000000000,2020-07-05 04:43:51.000000000,13,0,0,733996,1e6bcd4759a8c0ab20b8d51c3dec3a96b0a892f1,12,2,2,1,11536,hongbin,hongbin,"Test container in subnet without gateway_ip

Related-Bug: #1881910
Change-Id: I89a25883b6341357d6d98b60445eba9d0fe69623
"
openstack%2Frequirements~master~Idf9ae2ea576f4ed882489f03e4dbc94193243c98,openstack/requirements,master,,Idf9ae2ea576f4ed882489f03e4dbc94193243c98,manual generate-constraints run,MERGED,2020-07-04 19:05:56.000000000,2020-07-05 04:22:29.000000000,2020-07-05 04:21:12.000000000,32,32,0,739330,bdb9d64daf8c667f5dfb043fcfca5670ba485a73,12,3,2,1,14288,Matthew Thode,prometheanfire,"manual generate-constraints run

generated via:

generate-constraints -b blacklist.txt -p /usr/bin/python3.6 -p \
  /usr/bin/python3.8 -r global-requirements.txt > upper-constraints.txt

held back the normal mock, msgpack (because of salt) and docutils
(because of boto iirc).
held back oslotest for mock issues in nova.
held back jsonatch for issues in ironic.

Change-Id: Idf9ae2ea576f4ed882489f03e4dbc94193243c98
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fkuryr-libnetwork~stable%2Frocky~I3033d28eb268a01de8cf038b1ed20110ca9a31ea,openstack/kuryr-libnetwork,stable/rocky,bug/1881910-stable/rocky,I3033d28eb268a01de8cf038b1ed20110ca9a31ea,Handle subnet without gateway,MERGED,2020-06-27 01:10:19.000000000,2020-07-05 00:35:38.000000000,2020-07-05 00:35:38.000000000,14,5,0,738296,2d5158767121922a38577a0c8abdf8c383bf7bcd,14,4,1,2,11536,hongbin,hongbin,"Handle subnet without gateway

* When libnetwork requests the IP address of the gateway
  (via /IpamDriver.RequestAddress) and the neutron subnet has gateway
  as None, return '0.0.0.0/0' as a placeholder.
* Disable default docker gateway via the 'DisableGatewayService' flag
  (see https://github.com/moby/libnetwork/pull/778).

Change-Id: I3033d28eb268a01de8cf038b1ed20110ca9a31ea
Closes-Bug: #1881910
(cherry picked from commit 960993652e1ab526c1ce8cd3cd04d28f13facc86)
"
openstack%2Fzun-tempest-plugin~master~I862ce25f0072724870462a6f5bc9633ac66cea4f,openstack/zun-tempest-plugin,master,,I862ce25f0072724870462a6f5bc9633ac66cea4f,Verify capsule's containers status,MERGED,2020-05-24 03:16:34.000000000,2020-07-04 23:49:25.000000000,2020-07-04 23:48:13.000000000,10,0,0,730490,ab1fc1ab9f85deeb118541e6588311cee42e4b92,35,2,6,2,11536,hongbin,hongbin,"Verify capsule's containers status

After a capsule is successfully created, iterate each containers
of this capsule and verify its status.

Depends-On: https://review.opendev.org/#/c/730513/
Change-Id: I862ce25f0072724870462a6f5bc9633ac66cea4f
"
openstack%2Fkuryr-libnetwork~stable%2Frocky~I95d3354b4f691850af8cc6f4c6af4c9e98e5cb1f,openstack/kuryr-libnetwork,stable/rocky,,I95d3354b4f691850af8cc6f4c6af4c9e98e5cb1f,Install tox before running tests,MERGED,2020-06-27 14:50:18.000000000,2020-07-04 23:10:51.000000000,2020-07-04 23:10:50.000000000,1,0,0,738314,8b5a4812f10fd114c1369483403e0ccd3a944121,13,3,1,1,11536,hongbin,hongbin,"Install tox before running tests

We run tests by using 'tox' so we need to install it.

Change-Id: I95d3354b4f691850af8cc6f4c6af4c9e98e5cb1f
(cherry picked from commit 243e500e8cd83edb61972a15db6c6c18a61531b8)
"
openstack%2Ftripleo-ci~master~I6554aaa610db9f260785917587b4c2870db34702,openstack/tripleo-ci,master,,I6554aaa610db9f260785917587b4c2870db34702,"Revert ""turn off NetworkManager in CentOS-8 TripleO""",MERGED,2020-07-02 06:58:44.000000000,2020-07-04 21:13:51.000000000,2020-07-04 21:13:51.000000000,0,26,0,738974,2ac0c23b5e4ef79589b9f3c18bb34947e5100842,18,6,1,2,10969,Shnaidman Sagi (Sergey),sergsh,"Revert ""turn off NetworkManager in CentOS-8 TripleO""

This reverts commit 7dd82ca385ac3b1d380cf9358cb4cc120981986c.
Depends-On: https://review.opendev.org/#/c/738964/

Change-Id: I6554aaa610db9f260785917587b4c2870db34702
"
openstack%2Fpuppet-tripleo~master~I9e29f774afe26c56f0091aa28ef5517f26fe1e4b,openstack/puppet-tripleo,master,key-enable_bootstrap,I9e29f774afe26c56f0091aa28ef5517f26fe1e4b,Remove deprecated keystone::enable_bootstrap,MERGED,2020-06-29 06:37:04.000000000,2020-07-04 19:24:10.000000000,2020-07-04 19:24:10.000000000,0,1,0,738380,344c4b5c4f29704e4261aed94bee09d46fc271c9,16,5,1,1,9816,Takashi Kajinami,kajinamit,"Remove deprecated keystone::enable_bootstrap

This patch removes usage of the keystone::enable_bootstrap parameter,
because it has been deprecated[1] and has no effect now.

Note that we currently implement bootstrap process in t-h-t, thus
we don't need to include keystone::bootstrap in puppet-tripleo.

[1] bc1ff1d7cb01ac02790c3302a3da6e994598d9f6

Change-Id: I9e29f774afe26c56f0091aa28ef5517f26fe1e4b
"
openstack%2Fpython-openstackclient~master~I6d3a38eee0c75bbc795bad732fe547181d15c677,openstack/python-openstackclient,master,,I6d3a38eee0c75bbc795bad732fe547181d15c677,Remove enabling of glance v1 API,MERGED,2020-07-03 15:08:16.000000000,2020-07-04 18:27:24.000000000,2020-07-04 18:18:36.000000000,0,2,0,739252,4638dbc7f373177277dbf8aabe6d84f15334492e,13,4,1,1,8556,Ghanshyam,ghanshyam,"Remove enabling of glance v1 API

devstack removing the glance v1 api enable
option[1] because there is no v1 entry point in glance
now[2].

Let's remove ths GLANCE_V1_ENABLED variable setting from
zuul job too to avoid any confusion of glance v1 is still
available.
[1] https://review.opendev.org/#/c/698808/
[2] https://review.opendev.org/#/c/532503/

Change-Id: I6d3a38eee0c75bbc795bad732fe547181d15c677
"
openstack%2Fpython-openstackclient~master~I73f903ffb2f08ddfdf731f4ab789543a238a0d8d,openstack/python-openstackclient,master,bp/cinder-command-support,I73f903ffb2f08ddfdf731f4ab789543a238a0d8d,Add backup import/export to OpenStack Client,NEW,2016-11-26 18:40:53.000000000,2020-07-04 17:52:36.000000000,,166,0,56,403393,cf83371ac81756e59f2bd472b72eb40d043cb8fd,55,11,10,6,22227,Justin A Wilson,waj334,"Add backup import/export to OpenStack Client

This patch implements import and export of backup metadata in the OSC.
Implements: bp cinder-command-support

Co-Authored-By: jiahui.qiang <jiahui.qiang@easystack.cn>
Change-Id: I73f903ffb2f08ddfdf731f4ab789543a238a0d8d
"
openstack%2Fpython-openstackclient~master~Iaf0f8036720f5343b4e1e66bf1adfe2377c56bad,openstack/python-openstackclient,master,bug/1712952,Iaf0f8036720f5343b4e1e66bf1adfe2377c56bad,"Add ""volume backup export/import"" commands",NEW,2017-08-24 09:25:46.000000000,2020-07-04 17:52:29.000000000,,284,0,3,497167,d8e0143ba5f0ce9c21ecb115196794f57739f729,13,6,3,4,22299,lihaijing,lihaijing,"Add ""volume backup export/import"" commands

This patch add commands that supports exporting/importing
backup metadata record.

Closes-Bug: #1712952
Change-Id: Iaf0f8036720f5343b4e1e66bf1adfe2377c56bad
"
openstack%2Fpython-openstackclient~master~Ic5d57186766257e9d37b3588e71f973cddad9be4,openstack/python-openstackclient,master,,Ic5d57186766257e9d37b3588e71f973cddad9be4,Remove translation sections from setup.cfg,MERGED,2020-06-23 04:23:45.000000000,2020-07-04 16:48:20.000000000,2020-07-04 16:46:55.000000000,0,16,0,737436,ff2a70c418c9686b13f64fed760432f30391441a,9,3,1,3,17130,melissaml,malei,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: Ic5d57186766257e9d37b3588e71f973cddad9be4
"
openstack%2Fpython-openstackclient~stable%2Fussuri~I1ad0da8deda3a8cbec384b5a9c88860a526eb48c,openstack/python-openstackclient,stable/ussuri,,I1ad0da8deda3a8cbec384b5a9c88860a526eb48c,Replace assertItemsEqual with assertCountEqual,MERGED,2020-06-11 09:48:05.000000000,2020-07-04 16:48:15.000000000,2020-07-04 16:46:55.000000000,2,2,0,735091,684cdc5be0c7d57fe6e2c2188a39085204f4756a,11,5,1,1,6593,Dirk Mueller,dmllr,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I1ad0da8deda3a8cbec384b5a9c88860a526eb48c
(cherry picked from commit a15b1addb41147415716417f385f8ee32aace64b)
"
openstack%2Ftripleo-ci~master~Ieb7b99379d37db3b8a86dce46d9c67ce647df541,openstack/tripleo-ci,master,testall,Ieb7b99379d37db3b8a86dce46d9c67ce647df541,DNM run jobs with attempts 1,ABANDONED,2020-06-30 07:58:37.000000000,2020-07-04 15:31:51.000000000,,27,17,1,738557,a1b44b8f194664989a384754b9e335a6fde3a190,40,4,7,13,10969,Shnaidman Sagi (Sergey),sergsh,"DNM run jobs with attempts 1

Running this time to confirm the suspect
https://review.opendev.org/#/c/734654/,
ens3 should be not be cleaned up when it's
an active device.

Change-Id: Ieb7b99379d37db3b8a86dce46d9c67ce647df541
"
openstack%2Ftripleo-common~master~I131aca7a03802766a791e6912fad6ebf143d31db,openstack/tripleo-common,master,buildtestpackages,I131aca7a03802766a791e6912fad6ebf143d31db,[DNM] build test packages downstream testing,ABANDONED,2020-05-29 12:04:06.000000000,2020-07-04 15:07:59.000000000,,1,1,0,731739,c0bc01d6c6375070d9343f33082317d18e88c009,84,3,12,1,12393,chandan kumar,chkumar246,"[DNM] build test packages downstream testing

Depends-On: https://review.opendev.org/738394

THT changes:
Depends-On: https://review.opendev.org/724734
Depends-On: https://review.opendev.org/#/c/731108

Change-Id: I131aca7a03802766a791e6912fad6ebf143d31db
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fussuri~I35690f9a54337d6a268406ddcf6726f7040ac966,openstack/openstack-ansible-rabbitmq_server,stable/ussuri,osa/el8-stable/ussuri,I35690f9a54337d6a268406ddcf6726f7040ac966,Add Centos-8 support,MERGED,2020-07-02 17:13:27.000000000,2020-07-04 11:19:22.000000000,2020-07-04 11:18:14.000000000,27,6,0,739102,7d2bf72d58a70db6b53a52220efe24b04e2147ad,17,4,1,5,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Centos-8 support

Change-Id: I35690f9a54337d6a268406ddcf6726f7040ac966
(cherry picked from commit fc27e735a68b64cb3c67dd8abeaf324803a9845b)
"
openstack%2Fopenstack-helm-infra~master~I5a9e6678c45fad8288aa6971f57988b46001c665,openstack/openstack-helm-infra,master,,I5a9e6678c45fad8288aa6971f57988b46001c665,Completely switch to python3 for developers installation,MERGED,2020-07-02 23:51:15.000000000,2020-07-04 09:00:23.000000000,2020-07-04 08:59:02.000000000,17,15,2,739155,2b4cf6a2d95a668416b7d4fdfe49918bf64d2197,17,7,5,7,8863,Andrii Ostapenko,aostapenko,"Completely switch to python3 for developers installation

This addresses an issue with using py2 as interpreter while
installing required dependencies with py3.

Also switch kubeadm-aio image to bionic.

Change-Id: I5a9e6678c45fad8288aa6971f57988b46001c665
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Ftripleo-common~stable%2Fussuri~I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81,openstack/tripleo-common,stable/ussuri,callback-improvement-stable/ussuri,I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81,Fix stdout_callback,MERGED,2020-07-03 20:51:16.000000000,2020-07-04 08:38:17.000000000,2020-07-04 08:36:31.000000000,1,1,0,739282,fadce76206fd135037dfb3cf0c020f0e94d63598,11,3,1,1,3153,Emilien Macchi,emilienm,"Fix stdout_callback

We switched to tripleo_dense but the default ansible.cfg that is created
still has tripleo.

Change-Id: I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81
(cherry picked from commit ed3fdb77645ec3d563cd49161423661d21a3f642)
"
openstack%2Fneutron~master~I7d792ce288d96548298f169748565266a130bd86,openstack/neutron,master,bug/1876092,I7d792ce288d96548298f169748565266a130bd86,Make DVR router support FLAT network for ovs-agent,MERGED,2020-05-07 06:00:48.000000000,2020-07-04 05:58:13.000000000,2020-07-04 05:29:29.000000000,299,138,23,726044,cd721a7dcb9073eca2671ffdc9dc7ed9819163ed,120,13,13,13,28329,yangjianfeng,yangjianfeng,"Make DVR router support FLAT network for ovs-agent

Currently codes only support assocate tunnel network and vlan network
to DVR router. This patch add codes that make the flat network assocate
to DVR router and make it work fine.

The patch also remove two unused constant entries: 'FLAT_VLAN_ID' and
'LOCAL_VLAN_ID'

Change-Id: I7d792ce288d96548298f169748565266a130bd86
Closes-Bug: #1876092
"
openstack%2Ftripleo-ci~master~I5ee348c7196b94e1f7c5acd8e802621837c5bef2,openstack/tripleo-ci,master,,I5ee348c7196b94e1f7c5acd8e802621837c5bef2,Add tripleo-ansible to required projects in all jobs,MERGED,2020-06-30 08:27:24.000000000,2020-07-04 04:55:08.000000000,2020-07-04 04:55:08.000000000,1,0,2,738564,ae15d47af3ffdd7b1786942813e23e0eefccb925,35,8,3,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add tripleo-ansible to required projects in all jobs

In order not to clone it from netowrk.

Change-Id: I5ee348c7196b94e1f7c5acd8e802621837c5bef2
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I24dac79f2351a1ffd4e956584a80f623706cbd00,openstack/tripleo-heat-templates,stable/ussuri,1884577/ussuri,I24dac79f2351a1ffd4e956584a80f623706cbd00,Cleanup all container startup configs before generating the new ones,MERGED,2020-06-23 02:21:28.000000000,2020-07-04 04:55:07.000000000,2020-07-04 04:55:06.000000000,11,6,0,737423,de45a1fc61ea89c93a2e1a8d3d2e729c75017362,58,7,5,1,3153,Emilien Macchi,emilienm,"Cleanup all container startup configs before generating the new ones

Unlike the container puppet configs [1], we didn't have a mechanism that
was purging the old configs previously generated by the container
startup config tasks. It's problematic when some leftover configs are
still on the host and not needed anymore.

[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/ansible_plugins/modules/container_puppet_config.py#L157-L159

Change-Id: I24dac79f2351a1ffd4e956584a80f623706cbd00
Closes-Bug: #1884537
(cherry picked from commit b1d3da8666880d70db9b588ed4b743b2aaaab914)
"
openstack%2Ftripleo-ci~master~Ifcb5b0bdfbc9ffbc76abbd4004b57bd7b0a19fae,openstack/tripleo-ci,master,,Ifcb5b0bdfbc9ffbc76abbd4004b57bd7b0a19fae,make scenario012 voting,MERGED,2020-07-03 18:27:08.000000000,2020-07-04 04:55:05.000000000,2020-07-04 04:55:05.000000000,4,4,0,739273,3ae3f5e7759685199196b741859cb0ce0b5bbee5,9,5,2,1,9592,wes hayutin,weshayutin,"make scenario012 voting

https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario012-standalone
Change-Id: Ifcb5b0bdfbc9ffbc76abbd4004b57bd7b0a19fae
"
openstack%2Fdevstack-plugin-ceph~master~I51c90e592070b99422e692d5e9e97083d93146e8,openstack/devstack-plugin-ceph,master,,I51c90e592070b99422e692d5e9e97083d93146e8,Updates script to use latest version of Ceph,MERGED,2019-08-15 15:42:04.000000000,2020-07-04 03:36:16.000000000,2020-07-04 03:35:08.000000000,118,177,50,676722,5bfcd102355d5e1289712452ce6fb240f050d2c6,160,16,42,2,6413,Victoria Martinez de la Cruz,vkmc,"Updates script to use latest version of Ceph

We were using Jewel/Luminous. Being a developer tool, we should
be sticking with newer versions.

This patch set also adds the following changes
- Refactor setup_packages_for_manila_on_<distro> functions
- Removes ceph_init call. Seems it lost relevance
- Removes APT repositories setup. We directly use shaman/chacra
packages directly
- Removes RUN_AS env var. It has been a while since Ceph
defaults to ceph user to run all the services. No longer needed.
- Removes sleep calls for services start checks. We use systemctl
checks.
- Adds more debugging logs
- Uses the search API from ceph shaman instead of hardwiring urls
- Adds the jq (JSON processor) dependency

Change-Id: I51c90e592070b99422e692d5e9e97083d93146e8
"
openstack%2Fopenstack-ansible-os_magnum~stable%2Fussuri~If5b234d43cf9519c523b2b4a1ed1e27978e03fa9,openstack/openstack-ansible-os_magnum,stable/ussuri,osa/el8-stable/ussuri,If5b234d43cf9519c523b2b4a1ed1e27978e03fa9,Add Centos-8 support,MERGED,2020-07-02 17:14:43.000000000,2020-07-04 03:12:34.000000000,2020-07-04 03:11:24.000000000,1,1,0,739105,5b956f8f21bb9ec82e1c73cdf81c6ddf44aebf3a,12,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Centos-8 support

Change-Id: If5b234d43cf9519c523b2b4a1ed1e27978e03fa9
(cherry picked from commit 372069994d0abfbca0e88a2cab469c7ad1a74c22)
"
openstack%2Ftripleo-ci~master~I1e5b9f83046bf8dd4471b94010d255c38c81c47a,openstack/tripleo-ci,master,bug/1875746-stable/train,I1e5b9f83046bf8dd4471b94010d255c38c81c47a,add tls-inject to ipa job trigger,MERGED,2020-06-08 14:33:14.000000000,2020-07-04 02:04:37.000000000,2020-07-04 02:04:37.000000000,1,0,0,734100,a4f1e8a1ac55871fa91d67c2d9b9bed368efc6f7,14,6,1,1,9592,wes hayutin,weshayutin,"add tls-inject to ipa job trigger

Related-To: https://review.opendev.org/#/c/724863/
Change-Id: I1e5b9f83046bf8dd4471b94010d255c38c81c47a
"
openstack%2Ftripleo-common~stable%2Frocky~If370d85eead771305705ad798501e3947a1c6f4f,openstack/tripleo-common,stable/rocky,,If370d85eead771305705ad798501e3947a1c6f4f,Bump ceph/daemon container image to v3.2.14,MERGED,2020-06-22 15:59:20.000000000,2020-07-04 02:04:35.000000000,2020-07-04 02:04:35.000000000,3,3,0,737303,bea923b855c68cc5ffff553604c3f4d32f2960be,29,6,1,3,6796,Giulio Fidente,gfidente,"Bump ceph/daemon container image to v3.2.14

Tested via https://review.opendev.org/601598

Change-Id: If370d85eead771305705ad798501e3947a1c6f4f
"
openstack%2Frequirements~master~Ic9ee4d5164b144638c3ea3d4ddc1e6bac86378c0,openstack/requirements,master,bug/1886237,Ic9ee4d5164b144638c3ea3d4ddc1e6bac86378c0,Temporarily cap setuptools<48.0.0,MERGED,2020-07-03 22:26:00.000000000,2020-07-04 01:23:26.000000000,2020-07-04 01:06:08.000000000,2,1,0,739290,ca1eb8dd0ae9c7c7ac149e8b4ff9bbc9630eb43f,11,3,1,1,8556,Ghanshyam,ghanshyam,"Temporarily cap setuptools<48.0.0

with new setuptools 48.0.0, devstack started failing on
 - usr/local/bin/keystone-manage: No such file or directory""

https://zuul.opendev.org/t/openstack/build/55e53d1c37194d8992f79a4090da86ee/log/job-output.txt#10572

It is blocking all the gate for now. We are not sure if that is bug on
setuptools side or it is incompatible change and we need to update devstack
for that but till we figure out that let's use the old setuptools to unblock the gate.

Change-Id: Ic9ee4d5164b144638c3ea3d4ddc1e6bac86378c0
ML: http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015779.html
Related-Bug: #1886237
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I3bf244a70538209773804eb85fae6be035c587f4,openstack/puppet-tripleo,stable/ussuri,fix-override-stable/ussuri,I3bf244a70538209773804eb85fae6be035c587f4,Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent,MERGED,2020-06-30 13:20:53.000000000,2020-07-04 00:52:34.000000000,2020-07-04 00:52:33.000000000,25,2,0,738617,3a564e7e55e7cfc0e39808e02fd099eeff848495,14,4,2,1,20172,Michele Baldessari,michele,"Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent

In THT we allow RabbitAdditionalErlArgs to set some additional
parameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS
when starting rabbit. The problem is that when we use internal tls
that parameter gets ignored and so we lose our default '+sbwt none'.

Let's do this via a proper parameter while also considering the fact
that historically the default value of RabbitAdditionalErlArgs had
apices around it.

Since the original master change had an issue when the THT parameter
was unset (aka when I567839785a72813a382a00253562894e19eb6715 was not
applied to THT), we also add the subsequent fixup ""Make the additional_erl_args
change more independent"" I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a to
this change)

Change-Id: I3bf244a70538209773804eb85fae6be035c587f4
Related-Bug: #1884922
(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9,openstack/tripleo-heat-templates,stable/train,,I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9,Fix Error: invalid arguments you must use just one container,MERGED,2020-06-23 10:33:18.000000000,2020-07-04 00:52:32.000000000,2020-07-04 00:52:32.000000000,6,6,0,737486,4ffe8c3cc1b7038e471bffddbc53818ef1813f5e,25,10,2,1,26343,Jose Luis Franco,jfrancoa,"Fix Error: invalid arguments you must use just one container

The podman ps command can return multiple containers, which
might happen during an upgrade, when an old container lingers on.
We want to copy the cert into all of them.

Change-Id: I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9
Closes-Bug: #1884731
Resolves: rhbz#1849211
(cherry picked from commit d37579fd787185b292b5d547f5ac3cf17dd2fd9e)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I9501b802c0a79996864761f2f0ef92df4a3d7c70,openstack/tripleo-heat-templates,stable/stein,,I9501b802c0a79996864761f2f0ef92df4a3d7c70,Fixed package names for CentOS-8 octavia deployment,MERGED,2020-04-23 12:54:12.000000000,2020-07-04 00:45:58.000000000,2020-07-04 00:45:57.000000000,18,7,0,722305,8e6a562b97183cea529d05f8d9487fc5b2c29253,15,6,1,1,6469,Carlos Gonçalves,cgoncalves,"Fixed package names for CentOS-8 octavia deployment

Conflicts:
    deployment/octavia/octavia-worker-container-puppet.yaml

Change-Id: I9501b802c0a79996864761f2f0ef92df4a3d7c70
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
(cherry picked from commit 0e80f600ac1b071ce1eba132a02be9fc7f79d711)
(cherry picked from commit b95d78df81f07ca16cbf685af8ffbc54b353ff89)
"
openstack%2Ftripleo-common~master~I19b1dda0d10765651ad61682d0783f9253873063,openstack/tripleo-common,master,tripleo-octavia-ovn,I19b1dda0d10765651ad61682d0783f9253873063,Fix OVN Octavia provider driver package name,MERGED,2020-05-14 17:18:57.000000000,2020-07-03 23:43:46.000000000,2020-07-03 23:42:19.000000000,1,1,0,728155,3c8f2144854284ee891759cb40511e2e043ef526,26,8,2,1,6469,Carlos Gonçalves,cgoncalves,"Fix OVN Octavia provider driver package name

In Ussuri cycle, the OVN Octavia provider driver moved out
of the networking-ovn RPM to its own RPM.

Change-Id: I19b1dda0d10765651ad61682d0783f9253873063
"
openstack%2Ftripleo-quickstart~master~Iddc2e7ba0ffbb85231f7ec4bafe9f3c27918456b,openstack/tripleo-quickstart,master,fix-wait,Iddc2e7ba0ffbb85231f7ec4bafe9f3c27918456b,Fix 'System is booting up' error on undercloud,MERGED,2020-06-30 09:13:52.000000000,2020-07-03 23:43:38.000000000,2020-07-03 23:42:23.000000000,9,0,3,738570,9fe3f82bcf9933cd7aba6b4a0fee90f69d4a96e0,19,6,5,1,20172,Michele Baldessari,michele,"Fix 'System is booting up' error on undercloud

When running oooq from master I constantly hit the following error:
PLAY [Create the virtual BMC]
TASK [Gathering Facts]

task path: /tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/playbooks/quickstart.yml:67
Tuesday 30 June 2020  03:33:53 -0400 (0:00:00.030)       0:07:39.141 **********
...
<undercloud> ssh_retry: attempt: 3, ssh return code is 255. cmd (['ssh', '-F', '/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible', '-o', 'StrictHostKeyChecking=no', '-o', 'IdentityFile=""/tmp
/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/id_rsa_undercloud""', '-o', 'KbdInteractiveAuthentication=no', '-o', 'PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey', '-o', 'PasswordAuth
entication=no', '-o', 'User=""stack""', '-o', 'ConnectTimeout=10', '-F', '/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible', 'undercloud', ""/bin/sh -c '/usr/bin/python3 && sleep 0'""]...), paus
ing for 3 seconds
fatal: [undercloud]: UNREACHABLE! => {
    ""changed"": false,
    ""unreachable"": true
}

MSG:

Data could not be sent to remote host ""undercloud"". Make sure this host can be reached over ssh: Warning: Permanently added 'undercloud' (ECDSA) to the list of known hosts. ""System is booting up. Unprivileged users are not permitted to log in yet. Please come back later. For technical details, see pam_nologin(8)."" Authentication failed.

The reason is that we run gather_facts on the undercloud vm, but we are
not really 100% guaranteed that it is up and accessible just yet.
Let's make sure that is the case before proceeding.

Tested this and now I correctly pass the problematic step.

Change-Id: Iddc2e7ba0ffbb85231f7ec4bafe9f3c27918456b
"
openstack%2Ftripleo-heat-templates~master~I36b4f4abaa2e67448783d4fbaf8864d16656baf2,openstack/tripleo-heat-templates,master,bug/1884048,I36b4f4abaa2e67448783d4fbaf8864d16656baf2,Log neutron.cmd.destroy_patch_ports in to log file,MERGED,2020-06-22 09:31:41.000000000,2020-07-03 23:42:21.000000000,2020-07-03 23:42:21.000000000,14,2,0,737244,554844d32045e3a774a3e90bbd26812aecd92b50,21,8,1,1,6926,Bogdan Dobrelya,bogdando,"Log neutron.cmd.destroy_patch_ports in to log file

Align the logging arguments to be used consistently
with the script and the main agent command invoked in the container.

Change-Id: I36b4f4abaa2e67448783d4fbaf8864d16656baf2
Related-bug: #1884048
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fvalidations-common~master~I3f6082971277f3ff0011baf4b03166736076ed05,openstack/validations-common,master,callback/duration,I3f6082971277f3ff0011baf4b03166736076ed05,Output duration not only on failed and skipped states,MERGED,2020-07-02 09:41:02.000000000,2020-07-03 23:42:17.000000000,2020-07-03 23:42:17.000000000,6,7,0,739004,c25c009e4e3d972d30e7c9c3b919b4b74b6cb535,8,3,1,1,16515,mbu,matbu,"Output duration not only on failed and skipped states

Wirte duration (end and elapse_time) on not only failed and
skipped status

Change-Id: I3f6082971277f3ff0011baf4b03166736076ed05
"
openstack%2Ftripleo-quickstart~master~Ib4fbf430ed3a7f0ff5831986ec67c8fff7d0a69e,openstack/tripleo-quickstart,master,bug/1881742,Ib4fbf430ed3a7f0ff5831986ec67c8fff7d0a69e,Ignore failures in dnf when no repos are configured,MERGED,2020-06-26 08:03:12.000000000,2020-07-03 23:00:55.000000000,2020-07-03 22:59:10.000000000,7,7,0,738158,59f6d3cb74fd94aa75677701757f50e9f1992c85,12,6,1,7,13861,yatin,yatinkarel,"Ignore failures in dnf when no repos are configured

dnf config-manager --disable fails when no repos are
configured. The issue is seen when centos7 repos is
cleaned in CentOS8 with [1].

[1] https://review.opendev.org/#/c/732618/

Related-Bug: #1881742
Change-Id: Ib4fbf430ed3a7f0ff5831986ec67c8fff7d0a69e
"
openstack%2Fopenstack-ansible-os_rally~stable%2Fussuri~I5ed1c5145a38becd92de2842417cd6e4774b7bf9,openstack/openstack-ansible-os_rally,stable/ussuri,osa-focal-stable/ussuri,I5ed1c5145a38becd92de2842417cd6e4774b7bf9,Do not install development packages on the target,MERGED,2020-06-30 16:52:37.000000000,2020-07-03 22:59:18.000000000,2020-07-03 22:57:46.000000000,3,16,0,738676,b1d866a56aa58a4e6b2816bfc18aed4047526cff,16,3,1,3,25023,Jonathan Rosser,jrosser,"Do not install development packages on the target

This role currently passes a list of -dev packages to the
python_venv_build role which will install them on the target
rather than use them for building wheels on the repo server.

This patch removes those package installs and if any specific
dev packages are required they should instead be passed to
python_venv_build via venv_build_distro_package_list.

Change-Id: I5ed1c5145a38becd92de2842417cd6e4774b7bf9
(cherry picked from commit dc7e520b81e99e4c102a1544aa7ea739b2cec5d1)
"
openstack%2Fopenstack-ansible-tests~stable%2Fussuri~I29869ee24fe7148c6dce7ed8e149c3960b2f82ec,openstack/openstack-ansible-tests,stable/ussuri,osa/el8-stable/ussuri,I29869ee24fe7148c6dce7ed8e149c3960b2f82ec,Do not set alternatives before package is present,MERGED,2020-06-27 11:55:40.000000000,2020-07-03 22:50:31.000000000,2020-07-03 22:49:19.000000000,3,1,0,738309,9addf6d5cd037b1baf6f01d3f11dc49eae5b25b7,10,3,1,1,25023,Jonathan Rosser,jrosser,"Do not set alternatives before package is present

Change-Id: I29869ee24fe7148c6dce7ed8e149c3960b2f82ec
(cherry picked from commit f7285bd25627644af0d7b2e2ca6691319e520b00)
"
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fussuri~I13605f21497c7eb8e2dd569ab90e2466bce8ac3e,openstack/openstack-ansible-lxc_container_create,stable/ussuri,,I13605f21497c7eb8e2dd569ab90e2466bce8ac3e,Fix tmpfiles-setup wait handler,MERGED,2020-07-02 14:59:12.000000000,2020-07-03 22:38:27.000000000,2020-07-03 22:36:47.000000000,2,2,0,739067,594d6bc9c428ea96de82b8dc689709bccc7f96ad,8,3,1,2,25023,Jonathan Rosser,jrosser,"Fix tmpfiles-setup wait handler

Precess column was present only for CentOS 8 and is not applicable for
other distros. In the meanwhile Active column is present in all distros.

Change-Id: I13605f21497c7eb8e2dd569ab90e2466bce8ac3e
(cherry picked from commit faedebd48b7cc5c91f40380df4ae8e8b40d0081c)
"
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fussuri~Ica5ed5de24e3eb2fb5a743bb877d113ed0bb8a43,openstack/openstack-ansible-haproxy_server,stable/ussuri,,Ica5ed5de24e3eb2fb5a743bb877d113ed0bb8a43,Ensure there is no race between haproxy and certbot for initial cert,MERGED,2020-07-03 17:57:29.000000000,2020-07-03 22:26:27.000000000,2020-07-03 22:25:15.000000000,4,1,0,739269,8a9d35fa959f1fd30a5296c2e893866bd9d0c382,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Ensure there is no race between haproxy and certbot for initial cert

The certbot pre-hook is not used during initial setup of the cert,
only during renewal. This means that the same race condition exists
at initial configiuration as renewal. This patch uses the same
approach as used in the renewal pre-hook and applies it during
initialisation of certbot. This fixes race condition related failures
during initial provisioning of haproxy+letsencrypt.

Change-Id: Ica5ed5de24e3eb2fb5a743bb877d113ed0bb8a43
(cherry picked from commit 5fba658296634c9f32581c965c8510ff6cdf2b90)
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I3ecdebc61601badd2f209982b366f6b99ec1bb18,openstack/python-tripleoclient,stable/ussuri,create-ussuri,I3ecdebc61601badd2f209982b366f6b99ec1bb18,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-05-21 15:58:51.000000000,2020-07-03 21:30:28.000000000,2020-07-03 21:28:53.000000000,3,3,0,730006,4d95519874d22cbb0f7d9d7b81b009f0f25ed873,15,4,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I3ecdebc61601badd2f209982b366f6b99ec1bb18
"
openstack%2Fneutron~master~I3bfa6e7c40b205e8aaa3e6976bf7cd02a25b0dcd,openstack/neutron,master,george,I3bfa6e7c40b205e8aaa3e6976bf7cd02a25b0dcd,[DNM] Add Environment class and RabbitMQ support to George,ABANDONED,2020-02-07 12:18:37.000000000,2020-07-03 21:09:14.000000000,,72,17,1,706481,c584a664089f6fb35db14228fd77c4ee948b2961,5,3,1,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[DNM] Add Environment class and RabbitMQ support to George

Added Environment class to George, to handle the host config.
Configured RabbitMQ configuration in host and added support in Neutron
server.

Change-Id: I3bfa6e7c40b205e8aaa3e6976bf7cd02a25b0dcd
"
openstack%2Ftripleo-common~master~I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81,openstack/tripleo-common,master,callback-improvement,I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81,Fix stdout_callback,MERGED,2020-06-17 14:09:03.000000000,2020-07-03 20:52:25.000000000,2020-07-03 20:50:35.000000000,1,1,0,736227,ed3fdb77645ec3d563cd49161423661d21a3f642,70,6,2,1,14985,Alex Schultz,mwhahaha,"Fix stdout_callback

We switched to tripleo_dense but the default ansible.cfg that is created
still has tripleo.

Change-Id: I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81
"
openstack%2Ftripleo-heat-templates~master~Ib5f9081629d6aa5fdbac8bd733f86db0e1b9f7b5,openstack/tripleo-heat-templates,master,debug,Ib5f9081629d6aa5fdbac8bd733f86db0e1b9f7b5,DNM - debug,ABANDONED,2020-06-29 13:08:29.000000000,2020-07-03 20:49:46.000000000,,3,3,0,738440,b28249b9afaf082ed4845d94fe8ed81dcac366d7,7,3,1,3,3153,Emilien Macchi,emilienm,"DNM - debug

Change-Id: Ib5f9081629d6aa5fdbac8bd733f86db0e1b9f7b5
"
openstack%2Ftripleo-common~stable%2Fussuri~I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515,openstack/tripleo-common,stable/ussuri,ffwd-upgrade2-stable/ussuri,I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515,[Q->T] Include manila in the Queens to Train Upgrade,MERGED,2020-06-24 13:14:05.000000000,2020-07-03 20:43:10.000000000,2020-07-03 20:15:15.000000000,7,0,0,737774,700888b9f4a92e78b7cbb3efcff06adb184ff924,49,11,3,1,6796,Giulio Fidente,gfidente,"[Q->T] Include manila in the Queens to Train Upgrade

In order to do Q->T upgrade when manila is deployed, we
need the Stein container image available.

We check for namespace_stein and if it's defined we provide
them as done for the other services in
I8820293bd1c7f83c00e7abba88181895ef987765

Change-Id: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515
Related-bz: #1849098
Partial-bug: #1884818
(cherry picked from 55f6aecf6f43e4a16cdbc9da520ec7accc278aa2)
"
openstack%2Ftripleo-common~master~I29d3a2ed0bdfce412ebef549c29053754763e555,openstack/tripleo-common,master,fix-nss,I29d3a2ed0bdfce412ebef549c29053754763e555,Drop systemd support from nsswitch.conf,MERGED,2020-06-17 08:40:40.000000000,2020-07-03 20:39:24.000000000,2020-07-03 20:33:02.000000000,1,0,0,736134,db71bdb684ac347cd2f915a39e7e99a95958606c,37,8,4,1,20172,Michele Baldessari,michele,"Drop systemd support from nsswitch.conf

A bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we
should remove the nss-systemd lookup from containers. The reasons for
this are as follows:
1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5
when this nss module is triggered it tries to talk to dbus.
It triggers a bunch of selinux denials and it makes little sense
to open all containers to talk to dbus.
In particular, if a container is run as non-privileged and bind-mounts
/run from the host, we will hit selinux denials like the following:

  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg='avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?'UID=""dbus"" AUID=""unset"" SAUID=""dbus""

2) It just makes little sense in a kolla-world to have containers
talk to dbus/systemd and it saves us some time when a lookup triggers
the systemd module for whatever reason. Especially because the
nss-systemd module does a few things which are not useful in a container
(ensures that the root and nobody users and groups remain resolvable,
SystemD's DynamicUser= feature, provide Lookup API via Varlink)

The sed regex gives us the wanted results:
$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf
--- /etc/nsswitch.conf.orig     2020-06-17 08:13:20.108520894 +0000
+++ /etc/nsswitch.conf  2020-06-17 08:13:27.627069541 +0000
@@ -19,8 +19,8 @@
 #     passwd: sss files # from profile
 #     hosts: files dns  # from user file

-passwd:     sss files systemd
-group:      sss files systemd
+passwd:     sss files
+group:      sss files
 netgroup:   sss files
 automount:  sss files
 services:   sss files

NB: This is the tcib versionb of the kolla change at I81e5b7abf4571fece13a029e25911e9e4dece673
Related-Bug: #1883849

Change-Id: I29d3a2ed0bdfce412ebef549c29053754763e555
"
openstack%2Ftripleo-common~master~I28d2edd4f923fb2d263df43fff4ef82a4072040c,openstack/tripleo-common,master,ci/standalone/containers,I28d2edd4f923fb2d263df43fff4ef82a4072040c,Run standalone jobs with locally built images,MERGED,2020-06-03 19:41:42.000000000,2020-07-03 20:37:10.000000000,2020-07-03 20:32:58.000000000,24,0,0,733388,679aeb568f37d4d883d3613b4133c158521a08c1,92,9,19,1,3153,Emilien Macchi,emilienm,"Run standalone jobs with locally built images

Instead of pulling images from a local registry, build them locally
since the configs that build them are in tripleo-common.

Also trigger the appropriate scenarios if a container config is changed.

Note: this patch will make all standalone jobs running against
tripleo-common to use locally built container images, even if the patch
isn't about a container image config file. It has been found that the
time to build images is roughly the same as the time it takes to update
them once pulled from a remote registry.

Note: scenario001/002 will come later once we figure out an issue with
gnocchi-db-sync and cradox.

Depends-On: https://review.opendev.org/729465
Change-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c
"
openstack%2Ftripleo-common~master~Id13028ab911ba91d67787ca8247effc02017fcbc,openstack/tripleo-common,master,images/new,Id13028ab911ba91d67787ca8247effc02017fcbc,tcib: move cradox to gnocchi-base & enable ci on scenario001,MERGED,2020-06-10 15:10:35.000000000,2020-07-03 20:33:00.000000000,2020-07-03 20:33:00.000000000,19,6,0,734872,7ecc263401018ec657e3423edcd9974bd8a2754f,52,6,9,3,3153,Emilien Macchi,emilienm,"tcib: move cradox to gnocchi-base & enable ci on scenario001

gnocchi-db-sync requires cradox to be installed if RBD backend is used.
Until we fix it properly in the distgit, let's make sure cradox is in
the base image for gnocchi. It also requires httpd and deps for the
dv_sync to operate when Ceph is installed.

With that patch, we can now test container builds on scenario001.

Change-Id: Id13028ab911ba91d67787ca8247effc02017fcbc
"
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fussuri~I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5,openstack/openstack-ansible-openstack_hosts,stable/ussuri,osa/el8-stable/ussuri,I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5,Enable PowerTools repository for distro installs,MERGED,2020-07-02 17:16:07.000000000,2020-07-03 20:26:05.000000000,2020-07-03 20:23:29.000000000,10,0,0,739117,714bdd389abda775caa3a9e2a5186fc997c4abf2,9,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Enable PowerTools repository for distro installs

RDO repo relies on some libraties that are present in PowerTools
repository. This repo exists in base image, however is disabled.
From the other side, zuul adds this repo with base jobs and enable it
in CI by default.
So not to deal with getting right URL and etc, we're just running command

Change-Id: I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5
(cherry picked from commit 5f6362fa5c2abc7e038706dd53a9f858608f6c39)
"
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fussuri~I0bbe42a86a0fc37700e789584acae564297e0bc8,openstack/openstack-ansible-openstack_hosts,stable/ussuri,,I0bbe42a86a0fc37700e789584acae564297e0bc8,Fix CentOS functional test,MERGED,2020-07-02 17:17:56.000000000,2020-07-03 20:24:50.000000000,2020-07-03 20:23:29.000000000,13,28,0,739121,ccece14576f8d94b5a6bc469c5ee28799f930dce,8,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix CentOS functional test

Change-Id: I0bbe42a86a0fc37700e789584acae564297e0bc8
(cherry picked from commit 002362ba6b2e53ad1bdbbc1aa1d4539090416adf)
"
openstack%2Ftripleo-heat-templates~master~I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9,openstack/tripleo-heat-templates,master,,I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9,Fix Error: invalid arguments you must use just one container,MERGED,2020-06-22 10:13:11.000000000,2020-07-03 20:15:16.000000000,2020-07-03 20:15:16.000000000,6,6,9,737249,d37579fd787185b292b5d547f5ac3cf17dd2fd9e,51,13,2,1,14250,Grzegorz Grasza,xek,"Fix Error: invalid arguments you must use just one container

The podman ps command can return multiple containers, which
might happen during an upgrade, when an old container lingers on.
We want to copy the cert into all of them.

Change-Id: I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9
Closes-Bug: #1884731
Resolves: rhbz#1849211
"
openstack%2Ftripleo-heat-templates~master~I24dac79f2351a1ffd4e956584a80f623706cbd00,openstack/tripleo-heat-templates,master,bug/1884577,I24dac79f2351a1ffd4e956584a80f623706cbd00,Cleanup all container startup configs before generating the new ones,MERGED,2020-06-22 17:44:24.000000000,2020-07-03 20:15:12.000000000,2020-07-03 20:15:12.000000000,11,6,0,737337,88446a6d890a941fc8e52d8bf1db87397a11ce61,51,9,4,1,3153,Emilien Macchi,emilienm,"Cleanup all container startup configs before generating the new ones

Unlike the container puppet configs [1], we didn't have a mechanism that
was purging the old configs previously generated by the container
startup config tasks. It's problematic when some leftover configs are
still on the host and not needed anymore.

[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/ansible_plugins/modules/container_puppet_config.py#L157-L159

Change-Id: I24dac79f2351a1ffd4e956584a80f623706cbd00
Closes-Bug: #1884537
"
openstack%2Fmanila~master~Ifd5ada2b467994b9b8efca5016a7c746ab704719,openstack/manila,master,api_ref_migration_typo,Ifd5ada2b467994b9b8efca5016a7c746ab704719,[api-ref] fix typo,MERGED,2020-07-03 15:33:56.000000000,2020-07-03 20:08:43.000000000,2020-07-03 20:07:14.000000000,1,1,0,739257,1660385588498f8b478aae2230402fae13c0d78a,12,8,1,1,18816,Maurice Escher,mapocace,"[api-ref] fix typo

Change-Id: Ifd5ada2b467994b9b8efca5016a7c746ab704719
"
openstack%2Ftripleo-ansible~master~Idf3aa518087443254e565dd01da88f6f41e83fd9,openstack/tripleo-ansible,master,stat_healthcheck/plugin,Idf3aa518087443254e565dd01da88f6f41e83fd9,container_systemd: manage the cleanup of old healthchecks,ABANDONED,2020-07-03 16:48:41.000000000,2020-07-03 20:07:05.000000000,,60,112,0,739264,8e73781028239c09231736f10264d7d656123458,4,0,3,6,3153,Emilien Macchi,emilienm,"container_systemd: manage the cleanup of old healthchecks

Still to reduce the number of Ansible tasks, let's add the cleanup of
the healthchecks in Python via the action plugin.

Change-Id: Idf3aa518087443254e565dd01da88f6f41e83fd9
"
openstack%2Fopenstack-ansible-memcached_server~stable%2Ftrain~I7db0eb361fc6f09ce64690be2018bf8ed8204e0c,openstack/openstack-ansible-memcached_server,stable/train,,I7db0eb361fc6f09ce64690be2018bf8ed8204e0c,Reduce verbosity level when debug is true,MERGED,2020-06-17 12:24:11.000000000,2020-07-03 19:34:44.000000000,2020-07-03 19:32:49.000000000,4,4,0,736180,908b2e2b6b46ae995edf1d4d4b11524c3b7d97ad,10,3,1,4,25023,Jonathan Rosser,jrosser,"Reduce verbosity level when debug is true

Keystone is experiencing memecached timeouts during tempest tests in
CI, and the memcached log is in excess of 20Mbytes. There will be a lot
of write pressure on this log during tempest tests and this patch reduces
the debug log level in an attempt to increase test reliability.

Change-Id: I7db0eb361fc6f09ce64690be2018bf8ed8204e0c
(cherry picked from commit 5080c42f0ad7c58ba9101948207c4d8633ad1e00)
"
openstack%2Ftripleo-ansible~master~I501f31b52db6e10826bd9a346d38e34f95ae8b75,openstack/tripleo-ansible,master,container/configs,I501f31b52db6e10826bd9a346d38e34f95ae8b75,Implement container_startup_config module,MERGED,2020-06-23 20:45:02.000000000,2020-07-03 19:34:20.000000000,2020-07-02 18:04:49.000000000,271,15,15,737624,76bb50476247f367c85d0e8a64dabebb6da1ee4c,51,6,19,8,3153,Emilien Macchi,emilienm,"Implement container_startup_config module

container_startup_config will replace a bunch of tasks that we did in
THT to generate the .json file for each container in
/var/lib/tripleo-config/container-startup-config.

It'll accelerate a bit the deployment by replacing tasks into a
single module, so we can generate the startup configs much faster.

Also tolerate empty configs in container_config_data, switching a
failure into a debug. If the config is empty, there is no need to run
the rest of the role tasks in tripleo_container_manage.

Note: we manage the SElinux context at the openstack-selinux:
https://github.com/redhat-openstack/openstack-selinux/commit/0b62

TODO (later): Manage idempotency and only create configs that need to be
updated.

Change-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75
"
openstack%2Ftripleo-ansible~master~Ib34b7abac9065a460b7568988c90600304c14117,openstack/tripleo-ansible,master,,Ib34b7abac9065a460b7568988c90600304c14117,"Revert ""move undercloud-containers to nv""",MERGED,2020-07-03 15:29:28.000000000,2020-07-03 19:31:36.000000000,2020-07-03 19:31:36.000000000,1,1,0,739256,894277034ec42f6f83a4501cbd042476cc12e657,7,4,1,1,3153,Emilien Macchi,emilienm,"Revert ""move undercloud-containers to nv""

This reverts commit 9f176285c7d6fa7c8c214806fffc0a28c0112b96.

Change-Id: Ib34b7abac9065a460b7568988c90600304c14117
"
openstack%2Fansible-role-uwsgi~stable%2Fussuri~Ie1fb51bf019db1527c6eb6e74c5c8ab6589764e2,openstack/ansible-role-uwsgi,stable/ussuri,osa/el8-stable/ussuri,Ie1fb51bf019db1527c6eb6e74c5c8ab6589764e2,Add Centos-8 support,MERGED,2020-07-02 17:14:31.000000000,2020-07-03 19:14:18.000000000,2020-07-03 19:13:03.000000000,1,1,0,739104,7912bcb4eed5487f21aa46ca4764eed657691fab,9,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Centos-8 support

Change-Id: Ie1fb51bf019db1527c6eb6e74c5c8ab6589764e2
(cherry picked from commit aad1a016968af473b81c66c36b74f9a5fe3e9751)
"
openstack%2Fopenstack-ansible-os_barbican~stable%2Fussuri~Ic01d966160b2a95fc4047ead5a9c3e50f68ae1d1,openstack/openstack-ansible-os_barbican,stable/ussuri,osa/el8-stable/ussuri,Ic01d966160b2a95fc4047ead5a9c3e50f68ae1d1,Add Centos-8 support,MERGED,2020-07-02 17:15:49.000000000,2020-07-03 19:13:06.000000000,2020-07-03 19:11:36.000000000,2,2,0,739115,fb8f9ecded0f6ee779de01f2091ed18342c8f567,8,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Centos-8 support

Change-Id: Ic01d966160b2a95fc4047ead5a9c3e50f68ae1d1
(cherry picked from commit d61db1e68b77a1d7d9752af22efe990a2f12516e)
"
openstack%2Fopenstack-ansible-os_placement~stable%2Fussuri~I36a0de736e266f53be1be02c4b07e741b46c819e,openstack/openstack-ansible-os_placement,stable/ussuri,osa/el8-stable/ussuri,I36a0de736e266f53be1be02c4b07e741b46c819e,Add Centos-8 support,MERGED,2020-07-02 17:15:03.000000000,2020-07-03 19:12:31.000000000,2020-07-03 19:11:13.000000000,1,1,0,739113,70de4e9fa2fa1f97abcdf89ff3be2441983bd1e6,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Centos-8 support

Change-Id: I36a0de736e266f53be1be02c4b07e741b46c819e
(cherry picked from commit 5bf27c4653ca9392f376a1fa0af7f328371826dc)
"
openstack%2Ftempest~master~I59383505989705d35d86b19b5c1aaafebd2bd307,openstack/tempest,master,bug/1886212,I59383505989705d35d86b19b5c1aaafebd2bd307,Fix pdf-doc build by skiping the sample file,MERGED,2020-07-03 16:28:26.000000000,2020-07-03 18:47:44.000000000,2020-07-03 18:46:09.000000000,3,1,0,739262,aaaafbb5b8ab04b6f1c6e8a7f1c1df2044984470,8,3,1,1,8556,Ghanshyam,ghanshyam,"Fix pdf-doc build by skiping the sample file

Tempest pdf doc build includes the sample config
file which is large in size and end up with
error 'Dimension too large'

- https://zuul.opendev.org/t/openstack/build/84d73ec987d04c05acc54b231d33067e/log/sphinx-build-pdf.log#1874

Its happening while adding new config option in
https://review.opendev.org/#/c/686073/ which means we
are at the edge of pdf build limit.

We should not include the sample config file as part
of pdf build.

Change-Id: I59383505989705d35d86b19b5c1aaafebd2bd307
Closes-Bug: #1886212
"
openstack%2Frequirements~master~Ib3bb4934ab3b8bd7d4fd07bce46dfca4550d0d78,openstack/requirements,master,ensure-pip,Ib3bb4934ab3b8bd7d4fd07bce46dfca4550d0d78,DNM: Test propose-updates fix,ABANDONED,2020-07-03 18:43:58.000000000,2020-07-03 18:46:40.000000000,,5,65,0,739276,300c164814b08a2a9c3410d7e48fc85dfb34a66b,3,1,1,1,11904,Sean McGinnis,SeanM,"DNM: Test propose-updates fix

Depends-on: https://review.opendev.org/738926/

Change-Id: Ib3bb4934ab3b8bd7d4fd07bce46dfca4550d0d78
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fglance~master~I5c32a049e3c8c84777ea4a01e04d1416881bfb5c,openstack/glance,master,unittest.mock,I5c32a049e3c8c84777ea4a01e04d1416881bfb5c,Use unittest.mock instead of mock,MERGED,2020-06-08 22:10:27.000000000,2020-07-03 18:29:50.000000000,2020-07-03 18:27:53.000000000,4,4,5,734337,7ff8d2eb71ed2fbcb497100f06d944c8d151a61c,14,4,2,4,28522,Hervé Beraud,hberaud,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I5c32a049e3c8c84777ea4a01e04d1416881bfb5c
"
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fussuri~I67b334c6ec173460ce3a2bcec0e5c083c4deee6b,openstack/openstack-ansible-lxc_container_create,stable/ussuri,osa/el8-stable/ussuri,I67b334c6ec173460ce3a2bcec0e5c083c4deee6b,Add Centos-8 support,MERGED,2020-07-02 17:16:21.000000000,2020-07-03 18:12:23.000000000,2020-07-03 18:10:46.000000000,34,0,0,739118,f55e4eec6e2652d724dceb1a40d2fc80a19fa907,8,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Centos-8 support

Change-Id: I67b334c6ec173460ce3a2bcec0e5c083c4deee6b
(cherry picked from commit 044dabe43565cff4b9d8c0b0eb23175e67897aa4)
"
openstack%2Fopenstack-ansible-plugins~stable%2Fstein~Ic50763f9c74746ef94925a4dd52d16e1f313711b,openstack/openstack-ansible-plugins,stable/stein,,Ic50763f9c74746ef94925a4dd52d16e1f313711b,Optimise linear strategy access to physical host variables,MERGED,2020-06-25 10:52:49.000000000,2020-07-03 18:11:16.000000000,2020-07-03 18:09:19.000000000,2,2,0,737965,f3efb647e3f48d40627a1dd81045ae6db6bb68b8,10,3,1,2,25023,Jonathan Rosser,jrosser,"Optimise linear strategy access to physical host variables

Change from using variable manager to the var we already have for
the physical host. This saves nearly 50% time for re-running
playbooks/lxc-container-create.yml

Change-Id: Ic50763f9c74746ef94925a4dd52d16e1f313711b
(cherry picked from commit 871d91cf26bcb95e10ed8805331be31e335afa14)
"
openstack%2Fdevstack~master~If38ba72c45f14cb4549b705af89e99c9f97c074c,openstack/devstack,master,,If38ba72c45f14cb4549b705af89e99c9f97c074c,Set full path in Tempest's img_file option,ABANDONED,2020-07-03 18:06:00.000000000,2020-07-03 18:10:00.000000000,,1,2,0,739270,cc301c4ba56a780766c0b3393adf5306bdd82759,3,1,1,1,8556,Ghanshyam,ghanshyam,"Set full path in Tempest's img_file option

Tempest is giving the new option to provide
the full path for image in img_file and planing
to remove the img_dir config option(depends on).

Depends-On: https://review.opendev.org/#/c/710996/
Change-Id: If38ba72c45f14cb4549b705af89e99c9f97c074c
"
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fussuri~I0d82c76a35b0512a1366c55e06cde72f6b2ce3bd,openstack/openstack-ansible-lxc_hosts,stable/ussuri,,I0d82c76a35b0512a1366c55e06cde72f6b2ce3bd,Do not install python2 or its dev package on Ubuntu Bionic hosts,MERGED,2020-06-30 13:02:16.000000000,2020-07-03 18:02:48.000000000,2020-07-03 17:58:04.000000000,0,2,0,738607,31ceae627e161b463ec20a055988d8f8e3ebaca2,8,3,1,1,25023,Jonathan Rosser,jrosser,"Do not install python2 or its dev package on Ubuntu Bionic hosts

The CI images are now the 'plain' variants so we do not need python2
to be installed on the host

Change-Id: I0d82c76a35b0512a1366c55e06cde72f6b2ce3bd
(cherry picked from commit 3f015e6fed9adf44b96d8d6ccaaceaa881ab0295)
"
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fussuri~Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4,openstack/openstack-ansible-lxc_hosts,stable/ussuri,osa/el8-stable/ussuri,Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4,Remove machinectl from LXC cache prep,MERGED,2020-07-02 17:15:37.000000000,2020-07-03 18:00:13.000000000,2020-07-03 17:55:20.000000000,117,523,0,739114,099e06785de89ea0778f4827bce9344f75f7e8d3,8,3,1,14,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove machinectl from LXC cache prep

machinectl is only used to store the image during
initial cache preparation and is unrelated to the
backing store used by LXC.

This patch removes the use of machinectl and btrfs
which makes the lxc_hosts role portable to centos-8
which does not have btrfs

Change-Id: Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4
(cherry picked from commit da4f62b006177d67d9f5089938b27482d70acfb0)
"
openstack%2Fopenstack-ansible-haproxy_server~master~Ica5ed5de24e3eb2fb5a743bb877d113ed0bb8a43,openstack/openstack-ansible-haproxy_server,master,,Ica5ed5de24e3eb2fb5a743bb877d113ed0bb8a43,Ensure there is no race between haproxy and certbot for initial cert,MERGED,2020-06-08 15:07:24.000000000,2020-07-03 17:59:38.000000000,2020-07-03 17:57:10.000000000,4,1,0,734116,5fba658296634c9f32581c965c8510ff6cdf2b90,9,3,1,1,25023,Jonathan Rosser,jrosser,"Ensure there is no race between haproxy and certbot for initial cert

The certbot pre-hook is not used during initial setup of the cert,
only during renewal. This means that the same race condition exists
at initial configiuration as renewal. This patch uses the same
approach as used in the renewal pre-hook and applies it during
initialisation of certbot. This fixes race condition related failures
during initial provisioning of haproxy+letsencrypt.

Change-Id: Ica5ed5de24e3eb2fb5a743bb877d113ed0bb8a43
"
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fussuri~I9f579e378effa92ce42ca6219ad7ec09e7feaecb,openstack/openstack-ansible-haproxy_server,stable/ussuri,osa/el8-stable/ussuri,I9f579e378effa92ce42ca6219ad7ec09e7feaecb,Add Centos-8 support,MERGED,2020-07-02 17:14:19.000000000,2020-07-03 17:57:40.000000000,2020-07-03 17:54:47.000000000,0,0,0,739103,8c6bff7b651c2144891d0374ec84ca4c9515fc1e,8,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Centos-8 support

Change-Id: I9f579e378effa92ce42ca6219ad7ec09e7feaecb
(cherry picked from commit 5b589d3dae12f8563d8d0135c10098e60bf19bce)
"
openstack%2Fansible-config_template~master~I36b13db4d0b722e7c6c7244ab142003193a56ffe,openstack/ansible-config_template,master,,I36b13db4d0b722e7c6c7244ab142003193a56ffe,Update config_template to use the builtin _get_remote_user function,MERGED,2020-06-25 16:16:51.000000000,2020-07-03 17:05:11.000000000,2020-07-03 17:03:35.000000000,11,10,10,738058,4ed672e3992f41dc4020ba68b8ea12d657a11710,36,9,5,1,7353,Kevin Carter,cloudnull,"Update config_template to use the builtin _get_remote_user function

This change will ensure the config_template module is able to pull the appropriate
remote use when creating a temp file or directory.

Related-Bug: #1884816
Change-Id: I36b13db4d0b722e7c6c7244ab142003193a56ffe
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-quickstart-extras~master~I28760c662b7aaf27582c46281855d79f874f369e,openstack/tripleo-quickstart-extras,master,move-ens-role,I28760c662b7aaf27582c46281855d79f874f369e,Move ens3 role to a baremetal-only playbook/role,MERGED,2020-07-02 14:41:29.000000000,2020-07-03 17:03:10.000000000,2020-07-03 17:03:10.000000000,32,25,0,739059,9ba91813fc8f2287995aaffd3d66e2b268aa4537,15,7,2,4,9976,Ronelle Landy,rlandy,"Move ens3 role to a baremetal-only playbook/role

Removing the ens3 network-scripts file is needed when
creating a Centos 8 VM for the undercloud in baremetal
deployments.

Change-Id: I28760c662b7aaf27582c46281855d79f874f369e
"
openstack%2Frequirements~stable%2Fstein~I0f92792f1f28861582c355808db28ec4f91df911,openstack/requirements,stable/stein,,I0f92792f1f28861582c355808db28ec4f91df911,Bump subunit to 1.4.0 in train too,MERGED,2020-07-03 12:32:22.000000000,2020-07-03 17:01:53.000000000,2020-07-03 17:01:53.000000000,1,1,0,739222,d1b88cf8fe082f68de2837389f9f1a1279586b00,11,4,1,1,17685,Elod Illes,elod.illes,"Bump subunit to 1.4.0 in train too

The recent subunit 1.4.0 release includes:
- several Python3-related fixes
- a proper handling of ""extensive logging"" from unit tests
  (see LP#1813147)
that can be useful to have.

At least one downstream consumer (Fedora and then RDO) had to carry
various patches from to make subunit 1.3 work with Python 3:

https://src.fedoraproject.org/rpms/subunit/c/91fb7acb47242d51f9a222152a0b30b8f9b4e95c?branch=master

Conflicts:
    upper-constraints.txt

Related-Bug: #1813147
Change-Id: I0f92792f1f28861582c355808db28ec4f91df911
(cherry picked from commit 9e0766c87eb4da7ff3443a5f5aa22b82bf22220d)
"
openstack%2Fpuppet-heat~master~I2bd9ce729b5e2b5ff6577951989b93390cb3a6bf,openstack/puppet-heat,master,,I2bd9ce729b5e2b5ff6577951989b93390cb3a6bf,Add a max_stacks_per_tenant parameter,MERGED,2020-07-01 15:37:29.000000000,2020-07-03 16:39:47.000000000,2020-07-03 16:37:20.000000000,18,0,0,738870,ac5eaeb6570c07972d39a8e068767234e0ff3327,13,5,2,3,6476,Thomas Goirand,thomas-goirand,"Add a max_stacks_per_tenant parameter

The default of 100 is barely useable. Let's add a new parameter
max_stacks_per_tenant to allow increasing this.

Change-Id: I2bd9ce729b5e2b5ff6577951989b93390cb3a6bf
"
openstack%2Fironic~master~I653e5da2672b14eae88c6cab923b8617432f1dc1,openstack/ironic,master,fix-uefi-ovmf,I653e5da2672b14eae88c6cab923b8617432f1dc1,Fix uefi jobs with native ubuntu ovmf package,MERGED,2020-04-02 08:17:31.000000000,2020-07-03 16:35:23.000000000,2020-07-03 16:26:38.000000000,27,39,9,716889,aac89c214961f27cbc57fcee19338ec10753c67a,172,8,49,4,23851,Riccardo Pittau,elfosardo,"Fix uefi jobs with native ubuntu ovmf package

The ovmf pacakge in bionic doesn't really work in our CI.
As a workaround we use the old package from xenial, but we can't keep
using it also in Ubuntu Focal.
This patch aims to convert the uefi jobs to use Ubuntu Focal as
base operating system and use the native ovmf package.

Story: 2007785
Task: 40025

Change-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1
"
openstack%2Fdevstack~stable%2Frocky~Ieb63516b7208d63c4ae9b181aabb762387a6882a,openstack/devstack,stable/rocky,,Ieb63516b7208d63c4ae9b181aabb762387a6882a,Use uwsgi binary from path,MERGED,2020-07-02 15:28:36.000000000,2020-07-03 16:25:53.000000000,2020-07-03 16:25:53.000000000,8,8,1,739072,c431116ceb14dc3b75796309a28c33287fcf9a72,9,5,1,7,10135,Lee Yarwood,lyarwood,"Use uwsgi binary from path

All these uwsgi invocations assume that the uwsgi binary is in the
same directory as their project binaries are installed into (probably
/usr/bin).  That may not be correct -- for example if using a packaged
uwsgi on Fedora the binary will live in /usr/sbin/uwsgi (not /usr/bin
where the project files from pip are).

Switch invocations to just find it in the path.

NOTE(lyarwood): This change was unfortunatley missing from the original
backport of I82f539bfa533349293dd5a8ce309c9cc0ffb0393 so while uwsgi is
now installed from packages it wasn't actually used. This was only
noticed as g-api was being installed on subnodes in multinode jobs where
uwsgi was not being installed from pip, leading to failures when
attempting to use the project bin path.

Related-Bug: 1883468
(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)
(cherry picked from commit 84737ebd96327310ec5f8f7c312aeae12cbeb234)
(cherry picked from commit 312517d5101206b33d3c395d27ec93d385b7fd24)
(cherry picked from commit 5c07f3b1b5edc7ebc19cf265d5ada0acbfec6409)

Change-Id: Ieb63516b7208d63c4ae9b181aabb762387a6882a
"
openstack%2Fopenstack-ansible-os_heat~master~Id844f584b22e35ac154b1727a42522d73bf97670,openstack/openstack-ansible-os_heat,master,osa/el8,Id844f584b22e35ac154b1727a42522d73bf97670,Add Centos-8 support,MERGED,2020-06-19 03:03:00.000000000,2020-07-03 16:17:24.000000000,2020-07-02 21:43:52.000000000,1,1,0,736925,08d2b28bd2206d06b1607cb5be3c13fb52fca7bc,19,3,2,1,28752,Satish Patel,spatel,"Add Centos-8 support

Change-Id: Id844f584b22e35ac154b1727a42522d73bf97670
"
openstack%2Fopenstack-ansible-os_horizon~master~If0f8b4a7442d8cd904337f802758e17aa3cb8da8,openstack/openstack-ansible-os_horizon,master,osa/el8,If0f8b4a7442d8cd904337f802758e17aa3cb8da8,Add Centos-8 support,MERGED,2020-06-17 05:08:21.000000000,2020-07-03 16:17:18.000000000,2020-07-02 22:12:41.000000000,60,0,2,736095,4c2cc73d571dd86303bc16063951c13bec8af8c5,24,3,7,1,28752,Satish Patel,spatel,"Add Centos-8 support

Change-Id: If0f8b4a7442d8cd904337f802758e17aa3cb8da8
"
openstack%2Fopenstack-ansible-os_nova~master~Ibc8c9b92c8c3c705964fbc85019b357913583ca7,openstack/openstack-ansible-os_nova,master,osa/el8,Ibc8c9b92c8c3c705964fbc85019b357913583ca7,Add Centos-8 support,MERGED,2020-06-17 05:18:02.000000000,2020-07-03 16:17:09.000000000,2020-07-02 20:52:13.000000000,4,6,1,736097,842c899d8e28c4f05236a9f18acedcdba7067eec,19,4,3,2,28752,Satish Patel,spatel,"Add Centos-8 support

We shouldn't need this anymore since interpreter patch has been merged
https://review.opendev.org/#/q/topic:interpreter+(status:open+OR+status:merged)

Change-Id: Ibc8c9b92c8c3c705964fbc85019b357913583ca7
"
openstack%2Fneutron~master~I3d358c9510a9050f500464bd909471daa047a0e9,openstack/neutron,master,adopt_tripleo_change,I3d358c9510a9050f500464bd909471daa047a0e9,migration: Adopt new tripleo-ansible-inventory output,ABANDONED,2020-06-26 12:15:57.000000000,2020-07-03 16:06:00.000000000,,9,13,11,738192,38698a3297939f1940b56a81b4fa2a9cb2a4997c,17,8,2,1,8655,Jakub Libosvar,jlibosva,"migration: Adopt new tripleo-ansible-inventory output

The tripleo-ansible-inventory output has changed recently. This patch
adopts the new version and keeps backward compatibility with the old
format.

Closes-Bug: #1884764

Change-Id: I3d358c9510a9050f500464bd909471daa047a0e9
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
"
openstack%2Ftripleo-ansible~master~If1bd15276156c6386f93e3c0f2853d7043054264,openstack/tripleo-ansible,master,,If1bd15276156c6386f93e3c0f2853d7043054264,move undercloud-containers to nv,MERGED,2020-05-12 14:31:39.000000000,2020-07-03 15:29:28.000000000,2020-05-22 22:49:42.000000000,1,1,0,727207,9f176285c7d6fa7c8c214806fffc0a28c0112b96,11,3,1,1,9592,wes hayutin,weshayutin,"move undercloud-containers to nv

Partial-Bug: #1878101
Change-Id: If1bd15276156c6386f93e3c0f2853d7043054264
"
openstack%2Fmonasca-common~stable%2Fussuri~Ia16e8cbccf7b38be8909aa94e66c04b99f200b89,openstack/monasca-common,stable/ussuri,update-hacking-stable/ussuri,Ia16e8cbccf7b38be8909aa94e66c04b99f200b89,Update hacking for Python3,MERGED,2020-07-03 14:00:49.000000000,2020-07-03 15:20:00.000000000,2020-07-03 15:20:00.000000000,13,16,0,739241,6fe7f9b304c10c99133161d3c282abf58cafd1fe,6,3,1,9,16222,witek,witek,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found.

Remove hacking and friends from lower-constraints, they are not needed
for installation.

Change-Id: Ia16e8cbccf7b38be8909aa94e66c04b99f200b89
(cherry picked from commit 2ebc766534eba6163e98b94a1f114ece18739fff)
"
openstack%2Fkuryr-kubernetes~stable%2Fstein~Ie990da4e68e82d998768fa0c047cca4cccd59915,openstack/kuryr-kubernetes,stable/stein,dragonflow,Ie990da4e68e82d998768fa0c047cca4cccd59915,Remove dragonflow,MERGED,2020-06-24 13:54:55.000000000,2020-07-03 15:02:52.000000000,2020-07-03 14:57:01.000000000,0,29,0,737794,cb0ff6c7ff7a850b623c4690da56af3257a53812,18,4,1,1,11904,Sean McGinnis,SeanM,"Remove dragonflow

Dragonflow was removed from governance in 2018 and is now being retired.
This cleans up references to dragonflow jobs and configuration.

http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015600.html

This backport drops sample config file and docs changes and only removes
the zuul configuration since conceivable the project could still be used
with older branches.

Change-Id: Ie990da4e68e82d998768fa0c047cca4cccd59915
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit cded615f86bbf44597df62617a002329dfad74d3)
(cherry picked from commit 2bf9ca4599912454a86434675ee57ed522d47e60)
(cherry picked from commit 4b331132907e3b7bbc6d3ccc57d799ef0ff65101)
"
openstack%2Fkolla-ansible~stable%2Fussuri~Iabfa9afdcad505106a5580eb2d058273ee5f7c1f,openstack/kolla-ansible,stable/ussuri,bug-1886002-stable/ussuri,Iabfa9afdcad505106a5580eb2d058273ee5f7c1f,Fix Fluentd date format for MariaDB xinetd,MERGED,2020-07-02 09:30:06.000000000,2020-07-03 14:43:35.000000000,2020-07-03 14:41:21.000000000,1,1,0,738999,0ae152d1d6bdd02f15884d5bb816e3cf81c51d80,13,4,2,1,26689,Justinas Balciunas,stacklablt,"Fix Fluentd date format for MariaDB xinetd

Time format in Ruby Time.strptime is not accepting padding flags,
therefore we need to remove them for the Fluentd to be able
to parse MariaDB xinetd logs properly.

Change-Id: Iabfa9afdcad505106a5580eb2d058273ee5f7c1f
Closes-Bug: #1886002
(cherry picked from commit dda5269ce75526b90a2d8e3b7983d876d4193588)
"
openstack%2Ftripleo-quickstart-extras~master~I6c331f8b71be5636b68cee2a1a2597d20d25e903,openstack/tripleo-quickstart-extras,master,,I6c331f8b71be5636b68cee2a1a2597d20d25e903,Remove interface file only when no interface,MERGED,2020-07-02 06:26:17.000000000,2020-07-03 14:40:04.000000000,2020-07-03 14:40:04.000000000,10,2,3,738964,7f18d280c80b80b6508be83ad1ebe2ef36ae6591,25,9,4,1,10969,Shnaidman Sagi (Sergey),sergsh,"Remove interface file only when no interface

Remove ens3 network interface file only when we don't have
actual ens3 interface. Don't delete it if ens3 is one of live
interfaces on the system.

Closes-Bug: #1885701
Change-Id: I6c331f8b71be5636b68cee2a1a2597d20d25e903
"
openstack%2Foslo.messaging~stable%2Ftrain~Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,openstack/oslo.messaging,stable/train,,Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,Simplify tools/test-setup.sh,MERGED,2020-07-02 14:44:47.000000000,2020-07-03 14:29:36.000000000,2020-07-03 14:24:07.000000000,21,36,0,739060,88cf5aebef790ff40ab8ca7219d537ccfc54d12e,10,6,1,3,17685,Elod Illes,elod.illes,"Simplify tools/test-setup.sh

test-setup.sh is called after bindep is run in CI, and tox is not setup.

Simplify the script so that it only does what's needed - install
qdrouterd for Ubuntu from qpid/testing.

Install the other packages using bindep, add test to amqp1 profile.

Add amqp1 to bindep_profiles where needed for scenario tests, previously
test-setup.sh added it everywhere.

Conflicts:
    .zuul.yaml

NOTE(elod.illes): conflict is due to scenario rationalizing patch
I0f86416623a0b718516147f0660b4df2b74cf867 is not present in Train.

Change-Id: Ic3a9e2c873619670edfbf71022d593f3cb5f70f2
Related-Bug: #1885923
(cherry picked from commit 7e406c312a6514e7ae377edb52b9e02b5bf37a7d)
(cherry picked from commit dfcc4b0010d39d1f16be413bb1c3a4808718cd19)
"
openstack%2Fironic~master~I9d295135e6059a47cb541ae1218b11c3d56f85e1,openstack/ironic,master,ehba_support,I9d295135e6059a47cb541ae1218b11c3d56f85e1,DRAC: Fix a failure to create virtual disk,MERGED,2020-05-26 08:00:18.000000000,2020-07-03 14:19:16.000000000,2020-07-03 14:10:34.000000000,354,5,41,730725,325f28043468472c2f97f659c66817192aba39f7,55,12,6,4,29405,Rachit Kapadia,rachit7194,"DRAC: Fix a failure to create virtual disk

PERC H740P controllers supports RAID mode and Enhanced HBA mode.
When the controller is in Enhanced HBA, it creates single disk
RAID0 virtual disks of NON-RAID physical disks.
Hence the user's request for VD creation with supported RAID
fails due to no available physical disk.
This patch checks the Perc H740P controllers whether it supports
enhanced HBA mode and if controllers are found in enhanced HBA
mode it converts back to RAID mode.

Change-Id: I9d295135e6059a47cb541ae1218b11c3d56f85e1
Story: 2007711
Task: 39844
"
openstack%2Fopenstacksdk~master~I7aaaf44ab1a1d4d25225843227ef6ab6d8564063,openstack/openstacksdk,master,ignore-ipv6,I7aaaf44ab1a1d4d25225843227ef6ab6d8564063,Ignore IPv6 addresses if force_ipv4 is set,MERGED,2020-07-03 02:22:44.000000000,2020-07-03 14:08:53.000000000,2020-07-03 14:05:08.000000000,40,14,13,739159,661a0eb4b514c079f4388fc32850e05b3de045c7,16,5,2,4,7118,Ian Wienand,iwienand,"Ignore IPv6 addresses if force_ipv4 is set

Currently if a cloud config sets force_ipv4, it will still have the
public_v6 field populated if the provider API gives an IPv6 address.

I can not see why you would want this address populated if you are
telling the cloud to force IPv4.  As a concrete example;
If6e1a0402b9b7f93cc76623c01049764abc68b2a proposes in zuul-jobs adding
the IPv6 address to /etc/hosts for multinode jobs.  It does this by
walking the nodepool interface values, which on some clouds with
force_ipv4 set will have invalid/unconfigured IPv6 entries.

I've updated the documentation to expand a bit more on what situations
this flag might be useful, which AIUI is really mostly about clouds
that return you an IPv6 address in the API but don't give you a
practical way to auto-configure it.

Change-Id: I7aaaf44ab1a1d4d25225843227ef6ab6d8564063
"
openstack%2Fmonasca-common~master~Ia16e8cbccf7b38be8909aa94e66c04b99f200b89,openstack/monasca-common,master,update-hacking,Ia16e8cbccf7b38be8909aa94e66c04b99f200b89,Update hacking for Python3,MERGED,2020-04-19 19:08:44.000000000,2020-07-03 14:00:49.000000000,2020-04-24 15:19:42.000000000,13,16,0,721103,2ebc766534eba6163e98b94a1f114ece18739fff,10,8,2,9,6547,Andreas Jaeger,jaegerandi,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found.

Remove hacking and friends from lower-constraints, they are not needed
for installation.

Change-Id: Ia16e8cbccf7b38be8909aa94e66c04b99f200b89
"
openstack%2Ftripleo-ansible~master~I55f078be5fbdd762ffb63fb25ca6a192abb2e049,openstack/tripleo-ansible,master,callback-improvements,I55f078be5fbdd762ffb63fb25ca6a192abb2e049,Handle unreachable,MERGED,2020-06-11 21:43:02.000000000,2020-07-03 13:58:50.000000000,2020-06-19 19:10:13.000000000,13,0,0,735254,ffe694808e47957340b4dbc3a17581239243880a,24,7,1,1,14985,Alex Schultz,mwhahaha,"Handle unreachable

We forgot to handle unreachable errors.

fatal: [compute-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to
connect to the host via ssh: ssh: connect to host 192.168.24.18 port 22:
No route to host"", ""unreachable"": true}

Change-Id: I55f078be5fbdd762ffb63fb25ca6a192abb2e049
"
openstack%2Ftripleo-ansible~master~I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01,openstack/tripleo-ansible,master,molecule/strats,I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01,Molecule testing for TripleO Strategy Plugins,MERGED,2020-05-29 21:25:36.000000000,2020-07-03 13:56:25.000000000,2020-06-08 07:20:36.000000000,211,0,0,731848,54ea54c26b777709fd636b376cce1d5078ae287c,28,5,10,8,3153,Emilien Macchi,emilienm,"Molecule testing for TripleO Strategy Plugins

For both tripleo_free and tripleo_linear, add molecule tests that will
execute a simple task (for now) and test the max_fail_percentage value
that is defined in the Ansible inventory.

We simulate a failure on one compute node, which shouldn't make the
playbook failing since we tolerate 50% of failure (we have 6 nodes and
one failure).

Change-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01
"
openstack%2Fpython-tripleoclient~master~I279e95722fe7a10148d36c99c7179c33a3a767a0,openstack/python-tripleoclient,master,images/new,I279e95722fe7a10148d36c99c7179c33a3a767a0,Add openstack tripleo container image build,MERGED,2020-04-28 20:01:26.000000000,2020-07-03 13:55:35.000000000,2020-06-05 16:54:02.000000000,775,0,54,724147,1c09e83744d5c98437db7b756c6cda52d7225d5e,189,7,69,5,3153,Emilien Macchi,emilienm,"Add openstack tripleo container image build

This change adds a v2 entry point to allow us to build images within the
native tripleoclient. Images will leverage the new
`tripleo_container_image_build` role which will produce simplified
container files and and an image structure inline with the simple
container generation spec.

Depends-On: https://review.opendev.org/722486

Change-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fglance~master~Ia5a01089fe0eeb8fe0a1ec5a7cd0557835a46f9e,openstack/glance,master,fix-grant-mysql8,Ia5a01089fe0eeb8fe0a1ec5a7cd0557835a46f9e,Make test-setup.sh compatible with mysql8,MERGED,2020-06-30 13:16:57.000000000,2020-07-03 13:31:32.000000000,2020-07-03 13:26:09.000000000,2,2,0,738615,b220030070adbea0bd253dfa390218d30b047154,10,5,1,1,11904,Sean McGinnis,SeanM,"Make test-setup.sh compatible with mysql8

Starting from mysql version 8 it's not possible to create a user
implictly when using GRANT.

This patch makes the behavior compatible with that.

Change-Id: Ia5a01089fe0eeb8fe0a1ec5a7cd0557835a46f9e
Co-written-by: Riccardo Pittau <elfosardo@gmail.com>
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fglance~stable%2Ftrain~I1aed6ba9054f8940d55e9fdb76bcd0615d00889c,openstack/glance,stable/train,native-zuulv3-migration),I1aed6ba9054f8940d55e9fdb76bcd0615d00889c,"zuul: switch to the ""plain"" grenade job here too",MERGED,2020-07-02 14:37:02.000000000,2020-07-03 13:31:18.000000000,2020-07-03 13:26:08.000000000,2,2,0,739056,8abe20d520b977fa16f1e60e108530b2880bad92,9,3,1,1,10459,Luigi Toscano,ltoscano,"zuul: switch to the ""plain"" grenade job here too

The native Zuulv3 grenade jobs have been recently backported
to stable/train. Use them instead of the old neutron-grenade.

Change-Id: I1aed6ba9054f8940d55e9fdb76bcd0615d00889c
"
openstack%2Fplacement~master~Ibe1a6a3281ae7ce9fc06293f94bc1fd44a3f63be,openstack/placement,master,project-ptl-and-contrib-docs,Ibe1a6a3281ae7ce9fc06293f94bc1fd44a3f63be,[Community goal] Update contributor documentation,MERGED,2020-04-17 08:05:48.000000000,2020-07-03 13:31:02.000000000,2020-07-03 13:26:06.000000000,34,20,2,720654,ae202d23099e11a6e636d750b076f20501b43acb,14,4,2,2,25625,Tetsuro Nakamura,tetsuro0907,"[Community goal] Update contributor documentation

This patch updates the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Change-Id: Ibe1a6a3281ae7ce9fc06293f94bc1fd44a3f63be
"
openstack%2Fproject-config~master~I77b91dd03a28f8960d7294c1ef086f4b46b02ccd,openstack/project-config,master,devstack-plugin-tobiko,I77b91dd03a28f8960d7294c1ef086f4b46b02ccd,"Revert ""Create a new repository for Tobiko DevStack plugin""",ABANDONED,2020-07-02 10:22:35.000000000,2020-07-03 13:30:10.000000000,,0,5,0,739006,361e40a8a5301627821108add101f69ff4564e93,10,5,3,2,27329,Federico Ressi,fressi_redhat,"Revert ""Create a new repository for Tobiko DevStack plugin""

This reverts commit c7ca7592a98b9b9e229f3e73521f5b12a4945a2e.

The project has been created with a mispelled name.

Change-Id: I77b91dd03a28f8960d7294c1ef086f4b46b02ccd
"
openstack%2Freleases~master~I0786e73160f0ecac604279c79334d4f697d0edde,openstack/releases,master,,I0786e73160f0ecac604279c79334d4f697d0edde,os-traits: release 2.4.0,MERGED,2020-07-01 17:03:55.000000000,2020-07-03 12:46:56.000000000,2020-07-03 12:46:56.000000000,4,0,0,738898,8a58647338bbb96d4d3b7c59e94c02b0f7989b44,12,6,1,1,12597,Lin Yang,lin.yang,"os-traits: release 2.4.0

Release os-traits 2.4.0 to pick up following fixes:
  - Cleanup py27 support [1]
  - CPU: add traits for new AVX512 support [2]
  - Switch to newer openstackdocstheme and reno versions [3]
  - Fix hacking min version to 3.0.1 [4]

[1] 77bf79e2aaa02afdf3f70fa98af61aac563ab3e6
[2] 066a2a972d2d5636c528630b16549e85ae0207c2
[3] e32a13f13c16e64ea15e0041a3973c2adfa84ed7
[4] 0cfd42e3a512ebcd85242cd65ba616d02fe07dae

Change-Id: I0786e73160f0ecac604279c79334d4f697d0edde
"
openstack%2Fironic-python-agent~stable%2Fussuri~I794c846fb191c15b0a30546bf64d624dfbde0fd4,openstack/ironic-python-agent,stable/ussuri,raid-size-stable/ussuri,I794c846fb191c15b0a30546bf64d624dfbde0fd4,Increase the ESP partition size to 550 MiB when using software RAID,MERGED,2020-07-03 08:57:23.000000000,2020-07-03 12:36:18.000000000,2020-07-03 12:34:44.000000000,30,16,0,739184,e69f1405515480efccb97e77c39dc4adba248b6e,8,3,1,5,10239,Dmitry Tantsur,dtantsur,"Increase the ESP partition size to 550 MiB when using software RAID

This has been a popular guidance, and diskimage-builder has recently
started following it.

Change-Id: I794c846fb191c15b0a30546bf64d624dfbde0fd4
(cherry picked from commit ba3caa6c644460a76518e6a0b1977b03516bc323)
"
openstack%2Fmagnum~stable%2Fussuri~I34be042f7e664af69fd2892b0aa6a107fe017daf,openstack/magnum,stable/ussuri,fix-gate-stable/ussuri,I34be042f7e664af69fd2892b0aa6a107fe017daf,[ci] Fix gate by installing python3-docker,MERGED,2020-07-01 08:22:41.000000000,2020-07-03 12:33:32.000000000,2020-07-03 12:31:58.000000000,3,3,0,738757,e0fecc1dd37be5fb00ef1048ecbd52671f1f62a1,8,3,1,1,28022,Bharat Kunwar,brtknr,"[ci] Fix gate by installing python3-docker

Change-Id: I34be042f7e664af69fd2892b0aa6a107fe017daf
(cherry picked from commit b3936451cd01404fd3439ec0ae819f2cbfc40b78)
"
openstack%2Fpython-magnumclient~master~Ia58a316235c96d36ee4cb8c1b012565ae2489f9c,openstack/python-magnumclient,master,print-resp-ca-rotate,Ia58a316235c96d36ee4cb8c1b012565ae2489f9c,Print response after issuing CA rotate request,MERGED,2020-06-25 02:52:25.000000000,2020-07-03 12:24:54.000000000,2020-07-03 12:22:17.000000000,2,0,0,737894,c010846179f58dab89d0eab99fc753388693aa78,8,3,1,1,6484,Feilong Wang,flwang,"Print response after issuing CA rotate request

Change-Id: Ia58a316235c96d36ee4cb8c1b012565ae2489f9c
"
openstack%2Fpython-magnumclient~master~I6c615697a732566290418ea3a3dd3263cb817fb8,openstack/python-magnumclient,master,,I6c615697a732566290418ea3a3dd3263cb817fb8,"Show cluster fixed_network, fixed_subnet, floating_ip_enabled",MERGED,2020-07-01 11:00:06.000000000,2020-07-03 12:21:37.000000000,2020-07-03 12:19:44.000000000,6,0,0,738789,7ecbab5dbf7ac04164af604b8d3745feeff1056a,8,3,1,2,28022,Bharat Kunwar,brtknr,"Show cluster fixed_network, fixed_subnet, floating_ip_enabled

Since we are able to override the values in cluster scope, we should be
able to see them too.

Story: 2006208
Task: 40254

Change-Id: I6c615697a732566290418ea3a3dd3263cb817fb8
"
openstack%2Fcinder~master~I05915f2e32b1229ad320cd1c5748de3d63183b91,openstack/cinder,master,bug/1879578,I05915f2e32b1229ad320cd1c5748de3d63183b91,Default volume_type set too early,MERGED,2020-05-22 03:44:19.000000000,2020-07-03 12:15:53.000000000,2020-07-01 06:45:13.000000000,487,130,28,730183,674c8e7286999bb6408291de1dc6395aac2b04b1,289,41,10,12,5314,Brian Rosmaita,brian-rosmaita,"Default volume_type set too early

If a volume_type is not specified in a volume-create request, change
I4da0c13b5b3f8174a30b8557f968d6b9e641b091 (introduced in Train) sets a
default volume_type in the REST API layer.  This prevents the
selection logic in cinder.volume.flows.api.create_volume.
ExtractVolumeRequestTask from being able to infer the appropriate
volume_type from the source volume, snapshot, or image metadata, and
has caused a regression where the created volume is of the default
type instead of the inferred type.

This patch removes setting the default volume_type in the REST API
and modifies the selection code in ExtractVolumeRequestTask slightly
to make sure a volume_type is always assigned in that function, and
adds and revises some tests.

Change-Id: I05915f2e32b1229ad320cd1c5748de3d63183b91
Closes-bug: #1879578
"
openstack%2Ftripleo-heat-templates~master~Ifb44c70e8becc94453b0c086858985d76b2455a6,openstack/tripleo-heat-templates,master,,Ifb44c70e8becc94453b0c086858985d76b2455a6,"Unmount Glance NFS paths in host_prep_tasks before using ""mount"" module",ABANDONED,2020-06-23 19:11:00.000000000,2020-07-03 12:14:05.000000000,,11,1,4,737607,bb63c0d9c2d4d1bd023942deb78cad047894e917,26,10,6,1,6796,Giulio Fidente,gfidente,"Unmount Glance NFS paths in host_prep_tasks before using ""mount"" module

Ansible ""mount"" module tries to refresh the mounted paths using
'-o remount' [1] which isn't sufficient to refresh the NFS mount
options.

This change forcibly unmounts the Glance NFS paths before using
the ""mount"" module to refresh the mount options and ultimately
mount again the path.

1. https://github.com/ansible/ansible/blob/stable-2.9/lib/ansible/modules/system/mount.py#L417

Closes-bug: 1884926
Change-Id: Ifb44c70e8becc94453b0c086858985d76b2455a6
"
openstack%2Fpython-tripleoclient~master~I994353a6d4aa6b72e9fecc5f61bf5314a5a94963,openstack/python-tripleoclient,master,,I994353a6d4aa6b72e9fecc5f61bf5314a5a94963,Don't use stack name in default config_download_dir,MERGED,2020-06-24 03:04:49.000000000,2020-07-03 11:49:31.000000000,2020-07-03 11:30:44.000000000,4,5,0,737671,e4d9bb17be805ae7bbb844f65c9f28d4d22b44e1,25,8,1,2,8833,Rabi Mishra,rabi,"Don't use stack name in default config_download_dir

We create a subfolder with the plan/stack name under the
config_download_dir to store the config-downloaded artifacts.
Fix 'overcloud export' as users are not expected to specify
the path with the plan/stack name.

Change-Id: I994353a6d4aa6b72e9fecc5f61bf5314a5a94963
Related-Bug: #1884246
"
openstack%2Fneutron-vpnaas~master~Ie606ceb108852ed90baa9bbb0aa609dd58933a42,openstack/neutron-vpnaas,master,ussuri_db,Ie606ceb108852ed90baa9bbb0aa609dd58933a42,Add Ussuri milestone tag for alembic migration revisions,MERGED,2020-05-12 10:48:00.000000000,2020-07-03 11:44:16.000000000,2020-07-03 11:41:42.000000000,10,2,0,727156,531e0262c330eb18a0b9f450e71c5866963e088a,14,6,1,3,12860,Dongcan Ye,yedongcan,"Add Ussuri milestone tag for alembic migration revisions

Allows neutron-db-manage to upgrade the schema to a
milestone release. We missed this for many releases.

https://docs.openstack.org/neutron/latest/contributor/alembic_migrations.html

Change-Id: Ie606ceb108852ed90baa9bbb0aa609dd58933a42
"
openstack%2Fcinder~master~I2e8af74bae63c487e786da6e99aa4827029a05a2,openstack/cinder,master,fix-ceph-cinderlib-tests,I2e8af74bae63c487e786da6e99aa4827029a05a2,Disable siblings for the cindelib functional tests,MERGED,2020-06-26 20:12:29.000000000,2020-07-03 11:21:24.000000000,2020-07-02 03:57:16.000000000,1,0,0,738273,f9019679b3d7ea252d9d6b0aeef6b69167f051af,77,29,1,1,10459,Luigi Toscano,ltoscano,"Disable siblings for the cindelib functional tests

Follow the same pattern of the other jobs which deploy devstack
but runs also functional tests (see devtack-tox-functional
and devstack-tox-functional-consumer).

Without this, the older branches where cinderlib functional tests
use Python 2 (stein, and soon train when that is branched) fails
because they try to install packages part of which are Python 3
only.

The same change was applied to the branchless jobs defined
inside cinder-tempest-plugins: https://review.opendev.org/738078/

Change-Id: I2e8af74bae63c487e786da6e99aa4827029a05a2
"
openstack%2Fcharm-glance-simplestreams-sync~master~I36e3faa4c202ded602620aa606ce6c13d9ab699a,openstack/charm-glance-simplestreams-sync,master,add-rgw-testing,I36e3faa4c202ded602620aa606ce6c13d9ab699a,Test using Ceph RADOS Gateway,MERGED,2020-06-18 14:14:33.000000000,2020-07-03 11:21:21.000000000,2020-07-03 11:21:21.000000000,363,30,0,736728,4925c3573b150e71aa22b5b31e63fb415aa025c2,43,4,6,8,935,James Page,james-page,"Test using Ceph RADOS Gateway

Using a swift endpoint to store simplestreams data is more
typical than using the webserver on the gss charm itself.

Switch all tests to use this approach and refresh all bundles
to be consistent in layout.

Change-Id: I36e3faa4c202ded602620aa606ce6c13d9ab699a
Func-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/335
"
openstack%2Fpuppet-tripleo~master~I6d6c8e52e37fb1cce4cd6cf1ac9d0b8e20151ace,openstack/puppet-tripleo,master,,I6d6c8e52e37fb1cce4cd6cf1ac9d0b8e20151ace,Include neutron::db,MERGED,2020-06-30 10:30:31.000000000,2020-07-03 11:01:57.000000000,2020-07-03 11:01:57.000000000,1,0,0,738578,be2550f662e25d744dd6a68c417540f87e945188,11,4,2,1,16137,Tobias Urdin,tobasco,"Include neutron::db

See [1] also need to move database_connection in THT [2]
to neutron::db::database_connection.

[1] https://review.opendev.org/#/c/737497/
[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/neutron/neutron-api-container-puppet.yaml#L263

Change-Id: I6d6c8e52e37fb1cce4cd6cf1ac9d0b8e20151ace
"
openstack%2Fopenstack-ansible~master~Ie68741eddf6fd4a277b5ead823d89aeb09e2c0ac,openstack/openstack-ansible,master,bump_osa,Ie68741eddf6fd4a277b5ead823d89aeb09e2c0ac,Bump SHAs for master,MERGED,2020-06-28 15:27:22.000000000,2020-07-03 10:56:31.000000000,2020-07-03 10:53:09.000000000,56,50,0,738358,6a31cdb5ad401cead84f022e409a463fc329fe5d,30,5,2,5,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump SHAs for master

Change-Id: Ie68741eddf6fd4a277b5ead823d89aeb09e2c0ac
"
openstack%2Fstorlets~master~Ib837a4dc71b8d758a81d453c26d251a16aa72394,openstack/storlets,master,cleanup,Ib837a4dc71b8d758a81d453c26d251a16aa72394,Small cleanups,MERGED,2020-06-09 10:02:54.000000000,2020-07-03 10:51:06.000000000,2020-07-03 10:47:59.000000000,4,25,1,734527,46a90854f64142e5497c5654941b00c93dc9a730,12,4,1,4,6547,Andreas Jaeger,jaegerandi,"Small cleanups

* Remove obsolete translation entries from setup.cfg
* Remove obsolete files babel.cfg and openstack-common.conf
* Remove install_command from tox.ini, the default is fine.
* Replace obsolete UPPER_CONSTRAINTS_FILE with current
  TOX_CONSTRAINTS_FILE.

Change-Id: Ib837a4dc71b8d758a81d453c26d251a16aa72394
"
openstack%2Fceilometer~master~I5ca35d1658c8734dd74d1c4dd16a8516f16c39b6,openstack/ceilometer,master,drop_mock,I5ca35d1658c8734dd74d1c4dd16a8516f16c39b6,Drop undefined doc config path,MERGED,2020-06-09 09:43:59.000000000,2020-07-03 10:23:47.000000000,2020-07-03 10:20:52.000000000,1,1,0,734486,9c141d7db2ee8ac5e2c9d43a71054b7f45ab972d,13,5,1,1,28522,Hervé Beraud,hberaud,"Drop undefined doc config path

html_static_path doesn't exist and the following warning is present in
logs:

```
WARNING: html_static_path entry '_static' does not exist
```

These changes drop this config.

Change-Id: I5ca35d1658c8734dd74d1c4dd16a8516f16c39b6
"
openstack%2Fcharm-neutron-gateway~master~I10c4cc2983245efb5bef3d7cbc8e3b6963448a7d,openstack/charm-neutron-gateway,master,bug/1825906,I10c4cc2983245efb5bef3d7cbc8e3b6963448a7d,Add disable-neutron-lbaas option,MERGED,2020-06-29 16:43:03.000000000,2020-07-03 10:21:08.000000000,2020-07-03 10:21:08.000000000,143,8,2,738477,86eb58317fc1d28dccc76e201ddff2c9f5fd1235,21,4,4,5,28510,Pedro Guimarães,pguimaraes,"Add disable-neutron-lbaas option

Since Rocky, Octavia is a valid alternative as LBaaS.
If enabled, we should not configure Neutron LBaaS(v2)
agent at the same time.

The fact that we configure both means neutron-lbaas-agent
will generate messages on rabbitmq which never gets consumed
and creating alarms on NRPE without any actual issues.

This change introduces an option to disable neutron LBaaS
solution. Once activated, it masks lbaas agent service.

Change-Id: I10c4cc2983245efb5bef3d7cbc8e3b6963448a7d
Closes-Bug: #1825906
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Id6f612a91255b3158be821c363ca852c6b5d7496,openstack/tripleo-heat-templates,stable/ussuri,,Id6f612a91255b3158be821c363ca852c6b5d7496,Add new parameter PublicTLSCACert,MERGED,2020-06-29 20:43:42.000000000,2020-07-03 09:53:03.000000000,2020-07-03 09:50:42.000000000,15,16,0,738506,48940849b438dc33ac7f0b945a7989e6a04455a5,11,7,1,6,11589,Harry Rybacki,hrybacki,"Add new parameter PublicTLSCACert

We've been using InternalTLSCAFile parameter when enabling
public TLS for undercloud and is quite confusing. We recently
changed to use it in clouds.yaml and it would break when
both public and internal TLS are enabled for overcloud and both
use different CA certs. This adds a new parameter which we
will use in clouds.yaml, that would default to empty string
assuming that the certificates are trusted.

Closes-Bug: #1883818
Change-Id: Id6f612a91255b3158be821c363ca852c6b5d7496
Depends-On: https://review.opendev.org/737998
(cherry picked from commit 2acb0d376b66375ba000369b24fc3354365b2601)
"
openstack%2Fkolla-ansible~master~Ib7716e2015796168fde130542aed7574bb01349b,openstack/kolla-ansible,master,test-haproxy,Ib7716e2015796168fde130542aed7574bb01349b,Test HAproxy in multinode,ABANDONED,2018-12-13 19:11:01.000000000,2020-07-03 09:42:50.000000000,,60,34,4,625088,ceaedfffa083528867ee54bbb5135463d3ddaf85,22,4,4,4,19316,Eduardo Gonzalez,egonzalez90,"Test HAproxy in multinode

Change-Id: Ib7716e2015796168fde130542aed7574bb01349b
"
openstack%2Fneutron-vpnaas~master~I9f0c7ed7cf8baaa20e382e11e2276498d1c572fe,openstack/neutron-vpnaas,master,fix_func_gate_error,I9f0c7ed7cf8baaa20e382e11e2276498d1c572fe,Fix functional gate failure,MERGED,2020-06-29 13:47:40.000000000,2020-07-03 09:41:48.000000000,2020-07-03 09:40:02.000000000,1,1,0,738449,d4ef9c04ff03840665f5a47a421ae842db551264,9,5,1,1,12860,Dongcan Ye,yedongcan,"Fix functional gate failure

Using command pip3 for python3-pip package.

Change-Id: I9f0c7ed7cf8baaa20e382e11e2276498d1c572fe
"
openstack%2Fpython-magnumclient~master~I59ad158753f25a56219ecaa5a55dd3f0ae67965a,openstack/python-magnumclient,master,story/2007634-40263,I59ad158753f25a56219ecaa5a55dd3f0ae67965a,Support master_lb_enabled when creating cluster,MERGED,2020-07-02 02:22:57.000000000,2020-07-03 09:36:08.000000000,2020-07-03 09:34:09.000000000,16,2,3,738950,c6b795298280e1ee8f0dd358bb895d16aa2fa8d4,13,3,3,3,6484,Feilong Wang,flwang,"Support master_lb_enabled when creating cluster

Task: 40263
Story: 2007634

Change-Id: I59ad158753f25a56219ecaa5a55dd3f0ae67965a
"
openstack%2Fstorlets~master~I56057f2120dafa31e24688f66cc8016f1a19681e,openstack/storlets,master,fix-tox,I56057f2120dafa31e24688f66cc8016f1a19681e,Fix functional job: Install tox,MERGED,2020-07-03 06:52:28.000000000,2020-07-03 09:35:39.000000000,2020-07-03 09:33:59.000000000,6,0,0,739168,a3ec6967fce3fed80eeaba035ddda9773a4ae3a6,10,9,2,2,6547,Andreas Jaeger,jaegerandi,"Fix functional job: Install tox

Recently, the OpenDev images did not install tox anymore, add
ensure-tox role to functional job pre-run playbook so that tox is
installed.

Change-Id: I56057f2120dafa31e24688f66cc8016f1a19681e
"
openstack%2Fkolla~master~Ie613bf768cc31ad1956b8f5fa0f3cdc05046f1e4,openstack/kolla,master,,Ie613bf768cc31ad1956b8f5fa0f3cdc05046f1e4,Change clustercheck url to GitHub,ABANDONED,2020-06-19 16:40:07.000000000,2020-07-03 09:29:40.000000000,,1,1,0,737046,bf4bc2f278f4131b83e765aa95f6d1f7126fddb0,9,4,2,1,22629,Michal Nasiadka,mnasiadka,"Change clustercheck url to GitHub

Fedora Project is down (DC move) - so let's use GitHub for now.

Change-Id: Ie613bf768cc31ad1956b8f5fa0f3cdc05046f1e4
"
openstack%2Fceilometer~stable%2Ftrain~Idaf811f71bab0b49de5b68a6a69a7872cb481ffb,openstack/ceilometer,stable/train,fix-pdf-stable/ussuri-stable/train,Idaf811f71bab0b49de5b68a6a69a7872cb481ffb,Fix PDF build,MERGED,2020-07-02 06:46:33.000000000,2020-07-03 09:26:13.000000000,2020-07-03 09:23:17.000000000,6,4,0,738970,ac9013a343a1d534365ddcf88c5a104f0b5161f0,7,3,1,1,4264,Matthias Runge,mrunge,"Fix PDF build

Do not include ceilometer.conf.sample since PDF building fails with the
large file. This fix PDF building of openstack-tox-docs job.

Change-Id: Idaf811f71bab0b49de5b68a6a69a7872cb481ffb
(cherry picked from commit 89969ec0a919a3a5ea9f4cee7e9b128c5fe0804d)
(cherry picked from commit 96dcc2cbc22ec9efa98eb75771ba3154bc881bba)
"
openstack%2Fkuryr-kubernetes~master~I28e7d10ba4311455bc0c7fcaf28edcb30068a1e5,openstack/kuryr-kubernetes,master,autodetect-nested-iface,I28e7d10ba4311455bc0c7fcaf28edcb30068a1e5,Attempt to autodetect interface in nested setups,MERGED,2020-07-01 15:06:11.000000000,2020-07-03 09:23:49.000000000,2020-07-03 09:21:29.000000000,104,1,6,738863,3d630e2df0599b7c8beed602996bd6c507457739,22,7,5,2,11600,Michał Dulko,dulek,"Attempt to autodetect interface in nested setups

The VLAN and macvlan nested drivers are using [binding]link_iface option
to get the port they should bind the subport to. This isn't ideal as
there's a single config for all kuryr-cni containers in the cluster, so
it's impossible to provide multiple interface names when e.g. different
VM images are used to run workers in the cluster.

In order to make behavior smarter this patch makes sure that when
aforementioned option is not set, kuryr-daemon will attempt to
autodetect the interface it should bind the subport to by trying to find
which iterface kubelet is bound to. This should work fine with OpenShift
setups. If such interface is not found, kuryr-daemon will choose first
non-loopback interface.

Implements: blueprint autodetect-nested-iface
Change-Id: I28e7d10ba4311455bc0c7fcaf28edcb30068a1e5
"
openstack%2Fironic-python-agent-builder~master~I767f6fc4e4177af5f7f93a0d4d3f8dcc578da2c4,openstack/ironic-python-agent-builder,master,no-epel,I767f6fc4e4177af5f7f93a0d4d3f8dcc578da2c4,Disable EPEL on CentOS 8 by default,MERGED,2020-06-29 12:58:15.000000000,2020-07-03 09:22:55.000000000,2020-07-03 09:20:57.000000000,4,0,0,738438,2a19fa368cb31d9b574a6d46ed85167027bba3a9,15,6,2,1,10239,Dmitry Tantsur,dtantsur,"Disable EPEL on CentOS 8 by default

It's currently broken and not really needed anyway.

Depends-On: https://review.opendev.org/#/c/738435/
Change-Id: I767f6fc4e4177af5f7f93a0d4d3f8dcc578da2c4
"
openstack%2Fkeystoneauth~master~Ic0ea848adce276a64a30ac9fb6d31432a9645ae8,openstack/keystoneauth,master,drop_mock,Ic0ea848adce276a64a30ac9fb6d31432a9645ae8,fix reno lower-constraints for py35,ABANDONED,2020-06-10 11:24:57.000000000,2020-07-03 09:15:52.000000000,,2,1,0,734799,f81f62cf693dcdbcd31e105109f8ba8281362e5c,4,2,1,1,28522,Hervé Beraud,hberaud,"fix reno lower-constraints for py35

requirements-check fail with reno and py35 these changes fix that.

Change-Id: Ic0ea848adce276a64a30ac9fb6d31432a9645ae8
"
openstack%2Fcinder~master~Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,openstack/cinder,master,bug/1869746,Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,Fix cross-project incremental backups,MERGED,2020-04-17 20:55:22.000000000,2020-07-03 09:15:07.000000000,2020-07-01 19:05:29.000000000,43,26,4,720833,8ebeafcbbafb700052f3abfc1f7ba004269a92e8,186,40,3,8,14567,Rodrigo Barbieri,ganso,"Fix cross-project incremental backups

This patch addresses the scenario where an
incremental backup can be created having a
parent backup that was taken in a different
project. This scenario ultimately leads to
a silent error when creating/deleting the
incremental backup and quotas going out of
sync.

The proposed fix is to narrow the backup search
down to the same project. To achieve this, a
method's signature had to be updated to achieve
the desired optimized behavior of passing the
volume's project_id parameter.

Closes-bug: #1869746
Closes-bug: #1873518

Change-Id: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149
"
openstack%2Ftripleo-quickstart~master~I4fb610b82dcc61936522cef29e1b6c3e22711fe8,openstack/tripleo-quickstart,master,bug/1738406,I4fb610b82dcc61936522cef29e1b6c3e22711fe8,Stop caching undercloud_ip,ABANDONED,2019-09-04 20:38:37.000000000,2020-07-03 09:04:01.000000000,,1,1,2,680177,75ed9a740c20f8f54e949fb9c670582587ad98ef,7,7,1,1,23811,Oliver Walsh,owalsh,"Stop caching undercloud_ip

A number of the inventory tasks use the existance of this in their when clause.
If it is cached then the wrong tasks are run e.g when tearing down and
redeploying.

Change-Id: I4fb610b82dcc61936522cef29e1b6c3e22711fe8
Closes-bug: 1738406
"
openstack%2Fironic-python-agent~master~I794c846fb191c15b0a30546bf64d624dfbde0fd4,openstack/ironic-python-agent,master,raid-size,I794c846fb191c15b0a30546bf64d624dfbde0fd4,Increase the ESP partition size to 550 MiB when using software RAID,MERGED,2020-07-02 15:30:55.000000000,2020-07-03 08:57:23.000000000,2020-07-02 19:12:30.000000000,30,16,0,739075,ba3caa6c644460a76518e6a0b1977b03516bc323,10,4,1,5,10239,Dmitry Tantsur,dtantsur,"Increase the ESP partition size to 550 MiB when using software RAID

This has been a popular guidance, and diskimage-builder has recently
started following it.

Change-Id: I794c846fb191c15b0a30546bf64d624dfbde0fd4
"
openstack%2Fkolla~master~Ia2306507d6ef97f01ff520dc4222bc48c1eb9843,openstack/kolla,master,openstack_exporter_bump,Ia2306507d6ef97f01ff520dc4222bc48c1eb9843,Bump prometheus-openstack-exporter version to 1.1.0,MERGED,2020-07-02 16:35:35.000000000,2020-07-03 08:56:33.000000000,2020-07-02 20:22:40.000000000,1,1,0,739097,2841004652d74f27f270b4fba5a68e6c845e173c,12,5,1,1,2276,Jorge Niedbalski,niedbalski,"Bump prometheus-openstack-exporter version to 1.1.0

Change-Id: Ia2306507d6ef97f01ff520dc4222bc48c1eb9843
Signed-off-by: Jorge Niedbalski <jnr@metaklass.org>
"
openstack%2Fpuppet-tripleo~master~I3bf244a70538209773804eb85fae6be035c587f4,openstack/puppet-tripleo,master,fix-override,I3bf244a70538209773804eb85fae6be035c587f4,Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism,MERGED,2020-06-24 10:02:05.000000000,2020-07-03 08:51:29.000000000,2020-06-26 21:20:15.000000000,21,2,0,737733,4d3864249dc27e033499b8a0855ce095be848a44,28,7,2,1,20172,Michele Baldessari,michele,"Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism

In THT we allow RabbitAdditionalErlArgs to set some additional
parameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS
when starting rabbit. The problem is that when we use internal tls
that parameter gets ignored and so we lose our default '+sbwt none'.

Let's do this via a proper parameter while also considering the fact
that historically the default value of RabbitAdditionalErlArgs had
apices around it.

Change-Id: I3bf244a70538209773804eb85fae6be035c587f4
Related-Bug: #1884922
"
openstack%2Fironic-specs~master~Ic95e93223bb73500cab33c6251218e6735b808e8,openstack/ironic-specs,master,story/2006963,Ic95e93223bb73500cab33c6251218e6735b808e8,Amend the in-band deploy steps spec,MERGED,2020-07-02 08:49:25.000000000,2020-07-03 08:46:17.000000000,2020-07-03 08:43:00.000000000,18,7,0,738991,af10099543d03601f6e0a5cacd881ec674240966,10,3,1,1,10239,Dmitry Tantsur,dtantsur,"Amend the in-band deploy steps spec

Change-Id: Ic95e93223bb73500cab33c6251218e6735b808e8
"
openstack%2Fcharm-ceilometer~master~I60ceb3d753ca16f1165eed11ed2a7d3852fb9d84,openstack/charm-ceilometer,master,fix-xenial-ocata,I60ceb3d753ca16f1165eed11ed2a7d3852fb9d84,Enable gnocchi in xenial-ocata bundle,MERGED,2020-07-02 22:36:47.000000000,2020-07-03 08:33:08.000000000,2020-07-03 08:33:08.000000000,65,10,0,739153,f7d8cf7469559607eba8e17e69cf93117b648bac,14,5,2,2,20805,David Ames,thedac,"Enable gnocchi in xenial-ocata bundle

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/344
Change-Id: I60ceb3d753ca16f1165eed11ed2a7d3852fb9d84
"
openstack%2Fheat~master~Ia0e34423377843adee8efc7f23d2c2df5dac8e20,openstack/heat,master,,Ia0e34423377843adee8efc7f23d2c2df5dac8e20,Don't check stack staus for already migrated stacks,MERGED,2020-07-02 05:14:20.000000000,2020-07-03 08:32:53.000000000,2020-07-03 07:19:44.000000000,4,4,0,738960,8d5d2a8fb6145caa7aac1eb90a4787706c298e47,10,4,1,1,8833,Rabi Mishra,rabi,"Don't check stack staus for already migrated stacks

If stacks are already migrated to convergence, there is no point
in checking stack status before returning. This will allow re-run
of the command inspite of migrated stacks in FAILED state.

Change-Id: Ia0e34423377843adee8efc7f23d2c2df5dac8e20
Task: 40266
"
openstack%2Fcinder~master~I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1,openstack/cinder,master,get_volume_stats,I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1,Move get_volume_stats impl to the base volume driver,MERGED,2019-05-02 22:26:28.000000000,2020-07-03 08:08:54.000000000,2020-07-01 20:21:35.000000000,43,332,17,656888,fdd0a3bf5e27eb7d2457ac266e411722a1798ca5,515,55,13,34,1736,Ivan Kolodyazhny,e0ne,"Move get_volume_stats impl to the base volume driver

Change-Id: I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1
"
openstack%2Fkeystone~master~I120ef1c0c8259c85b6030f2db0a649c71b990879,openstack/keystone,master,bug/1877393,I120ef1c0c8259c85b6030f2db0a649c71b990879,fix link in release note of bug/1794527,ABANDONED,2020-05-07 14:55:55.000000000,2020-07-03 06:55:58.000000000,,1,1,0,726170,9505f00beead0ff7e876a4baae09f98e9e11baa7,5,2,1,1,18816,Maurice Escher,mapocace,"fix link in release note of bug/1794527

Change-Id: I120ef1c0c8259c85b6030f2db0a649c71b990879
closes-bug: 1877393
"
openstack%2Fcharm-neutron-api~master~I0d158a59cea80a25a1cf70b0cc1e903a5005b9c8,openstack/charm-neutron-api,master,bug/1796886,I0d158a59cea80a25a1cf70b0cc1e903a5005b9c8,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:33.000000000,2020-07-03 06:52:43.000000000,2020-07-03 06:52:43.000000000,19,0,0,737950,60e3a2556682ac9303ee6b0afa32e455b2d00fa6,7,3,1,1,12549,gnuoy,gnuoy,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I0d158a59cea80a25a1cf70b0cc1e903a5005b9c8
Closes-Bug: #1796886
"
openstack%2Fcharm-glance-simplestreams-sync~master~I8fdbb82c8de5e430abced54b3358c270e64b9ae4,openstack/charm-glance-simplestreams-sync,master,bug/1796886,I8fdbb82c8de5e430abced54b3358c270e64b9ae4,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:27.000000000,2020-07-03 06:52:20.000000000,2020-07-03 06:52:20.000000000,19,0,0,737948,02cf293d38c415ecb21b37c3b7efd5bc2708ea23,7,3,1,1,12549,gnuoy,gnuoy,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I8fdbb82c8de5e430abced54b3358c270e64b9ae4
Closes-Bug: #1796886
"
openstack%2Fcharm-ceilometer-agent~master~I15f9bbe6972d51c61d62249ed0e4e732a988b3ac,openstack/charm-ceilometer-agent,master,bug/1796886,I15f9bbe6972d51c61d62249ed0e4e732a988b3ac,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:11.000000000,2020-07-03 06:52:19.000000000,2020-07-03 06:52:19.000000000,25,6,0,737945,915662edd82cb102d953e0e7645da9c061602725,7,3,1,4,12549,gnuoy,gnuoy,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I15f9bbe6972d51c61d62249ed0e4e732a988b3ac
Closes-Bug: #1796886
"
openstack%2Fcharm-barbican~master~I1c41ccedfbe453180b4c7835b47028ff7604711a,openstack/charm-barbican,master,bug/1796886,I1c41ccedfbe453180b4c7835b47028ff7604711a,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 13:09:54.000000000,2020-07-03 06:52:06.000000000,2020-07-03 06:52:06.000000000,1,3,0,738000,1999476e1b7185a7c2cd2b8b4abca7f3dffad662,15,5,3,2,12549,gnuoy,gnuoy,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Also remove jinja2 from wheelhouse.txt as is a duplicate
and due to improvements in charm build it now causes the
build to fail.

Change-Id: I1c41ccedfbe453180b4c7835b47028ff7604711a
Closes-Bug: #1796886
"
openstack%2Fcharm-ceilometer~master~Iaed16d89f28cf408f49ea178d66e16489fdf0b4b,openstack/charm-ceilometer,master,bug/1796886,Iaed16d89f28cf408f49ea178d66e16489fdf0b4b,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:08.000000000,2020-07-03 06:51:52.000000000,2020-07-03 06:51:52.000000000,211,15,0,737944,97fb4ad3c517ed606ad2051f1d86430b875abb30,7,3,1,5,12549,gnuoy,gnuoy,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: Iaed16d89f28cf408f49ea178d66e16489fdf0b4b
Closes-Bug: #1796886
"
openstack%2Fcharm-heat~master~Iadf51f05375ea58dd1fc7e557001ee4edfb803f7,openstack/charm-heat,master,bug/1796886,Iadf51f05375ea58dd1fc7e557001ee4edfb803f7,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:30.000000000,2020-07-03 06:51:13.000000000,2020-07-03 06:51:13.000000000,19,0,0,737949,5f00f5836bde7eb525b7473df9ea59b5befd787b,7,3,1,1,12549,gnuoy,gnuoy,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: Iadf51f05375ea58dd1fc7e557001ee4edfb803f7
Closes-Bug: #1796886
"
openstack%2Fcharm-nova-cloud-controller~master~I663dca207a42707859396d97edc5bbe3f24b29ba,openstack/charm-nova-cloud-controller,master,bug/1796886,I663dca207a42707859396d97edc5bbe3f24b29ba,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:42.000000000,2020-07-03 06:51:10.000000000,2020-07-03 06:51:10.000000000,19,0,0,737953,3ad589141974fcc5c3ae731b29c7a44d90c4afe4,7,3,1,1,12549,gnuoy,gnuoy,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I663dca207a42707859396d97edc5bbe3f24b29ba
Closes-Bug: #1796886
"
openstack%2Fcharm-cinder~master~I8058e367de158ae6e9da3a695318404453215d57,openstack/charm-cinder,master,bug/1796886,I8058e367de158ae6e9da3a695318404453215d57,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:19.000000000,2020-07-03 06:51:04.000000000,2020-07-03 06:51:04.000000000,19,0,0,737946,a16c55ca04d542c54658a8ef0e6b06d4fedc1e47,7,3,1,1,12549,gnuoy,gnuoy,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I8058e367de158ae6e9da3a695318404453215d57
Closes-Bug: #1796886
"
openstack%2Fcharm-nova-compute~master~Idc829db6b52750b6a4eb8836f649db446345a734,openstack/charm-nova-compute,master,bug/1796886,Idc829db6b52750b6a4eb8836f649db446345a734,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:45.000000000,2020-07-03 06:50:59.000000000,2020-07-03 06:50:59.000000000,19,0,0,737954,b3547428222144c19e5de87c6219019fea24d453,7,3,1,1,12549,gnuoy,gnuoy,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: Idc829db6b52750b6a4eb8836f649db446345a734
Closes-Bug: #1796886
"
openstack%2Fcharm-masakari~master~I998a24697f93e5a8ad1eeabfd19b86ed631fa2fc,openstack/charm-masakari,master,bug/1796886,I998a24697f93e5a8ad1eeabfd19b86ed631fa2fc,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 13:10:11.000000000,2020-07-03 06:50:53.000000000,2020-07-03 06:50:52.000000000,1,2,0,738004,a147a5d6583c91fddbbf8b4db989fecf727fc474,15,5,3,2,12549,gnuoy,gnuoy,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Also remove jinja2 from wheelhouse.txt as is a duplicate
and due to improvements in charm build it now causes the
build to fail.

Change-Id: I998a24697f93e5a8ad1eeabfd19b86ed631fa2fc
Closes-Bug: #1796886
"
openstack%2Fcharm-glance~master~I50271150aa2d2ccc60cb0b7d5123d08c8e38eba4,openstack/charm-glance,master,bug/1796886,I50271150aa2d2ccc60cb0b7d5123d08c8e38eba4,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:22.000000000,2020-07-03 06:50:48.000000000,2020-07-03 06:50:48.000000000,19,0,0,737947,160ba6e252031418e3e98a3e53a6edc68fa00389,7,3,1,1,12549,gnuoy,gnuoy,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I50271150aa2d2ccc60cb0b7d5123d08c8e38eba4
Closes-Bug: #1796886
"
openstack%2Fcharm-neutron-gateway~master~I1087bb9e49a06868368872c3c5134b6407bb1c27,openstack/charm-neutron-gateway,master,bug/1796886,I1087bb9e49a06868368872c3c5134b6407bb1c27,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:36.000000000,2020-07-03 06:50:14.000000000,2020-07-03 06:50:14.000000000,19,0,0,737951,98b194ba93c1b29e30bfe913243a4992634a7ffa,7,3,1,1,12549,gnuoy,gnuoy,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I1087bb9e49a06868368872c3c5134b6407bb1c27
Closes-Bug: #1796886
"
openstack%2Fcharm-swift-proxy~master~I1780896e13011f1c93dc69ca59685cd8028c0ee4,openstack/charm-swift-proxy,master,bug/1796886,I1780896e13011f1c93dc69ca59685cd8028c0ee4,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:49.000000000,2020-07-03 06:49:03.000000000,2020-07-03 06:49:03.000000000,25,6,0,737955,52ac09b4a124feec6575a869a9595a896789e1a7,7,3,1,4,12549,gnuoy,gnuoy,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I1780896e13011f1c93dc69ca59685cd8028c0ee4
Closes-Bug: #1796886
"
openstack%2Fcharm-placement~master~I5bbfcfd67af1c8bf619ae8376abf0efd06687901,openstack/charm-placement,master,bug/1796886,I5bbfcfd67af1c8bf619ae8376abf0efd06687901,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 13:10:43.000000000,2020-07-03 06:47:35.000000000,2020-07-03 06:47:35.000000000,2,2,0,738009,e8d9bc86bff6355b6abb6914e0a821f0c1635b1d,16,5,3,2,12549,gnuoy,gnuoy,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Charms tox.ini was failing to permit TEST_* to be passed
to tests causing the proxy to be missed.

Change-Id: I5bbfcfd67af1c8bf619ae8376abf0efd06687901
Closes-Bug: #1796886
"
openstack%2Fkuryr-libnetwork~stable%2Fstein~I3033d28eb268a01de8cf038b1ed20110ca9a31ea,openstack/kuryr-libnetwork,stable/stein,bug/1881910-stable/stein,I3033d28eb268a01de8cf038b1ed20110ca9a31ea,Handle subnet without gateway,MERGED,2020-06-27 01:10:09.000000000,2020-07-03 06:25:56.000000000,2020-07-03 06:23:10.000000000,14,5,0,738295,c8af0405a950e15dd675212b0a7372a547be4b96,18,3,1,2,11536,hongbin,hongbin,"Handle subnet without gateway

* When libnetwork requests the IP address of the gateway
  (via /IpamDriver.RequestAddress) and the neutron subnet has gateway
  as None, return '0.0.0.0/0' as a placeholder.
* Disable default docker gateway via the 'DisableGatewayService' flag
  (see https://github.com/moby/libnetwork/pull/778).

Change-Id: I3033d28eb268a01de8cf038b1ed20110ca9a31ea
Closes-Bug: #1881910
(cherry picked from commit 960993652e1ab526c1ce8cd3cd04d28f13facc86)
"
openstack%2Ftacker~master~I2436a7fd91a1d081c2c5fac28452a57f048e5a73,openstack/tacker,master,drop_future_imports,I2436a7fd91a1d081c2c5fac28452a57f048e5a73,Stop to use the __future__ module.,MERGED,2020-06-02 19:00:24.000000000,2020-07-03 06:08:56.000000000,2020-07-03 06:05:46.000000000,0,6,2,732956,2e7813d09d4cdbecb5c1a26fa048bb400f9bbdaa,17,4,1,4,28522,Hervé Beraud,hberaud,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I2436a7fd91a1d081c2c5fac28452a57f048e5a73
"
openstack%2Fcharm-vault~master~I626493c099b15b3ee7a3bef8d76e408193f60cba,openstack/charm-vault,master,feature/tls,I626493c099b15b3ee7a3bef8d76e408193f60cba,Enable MySQL DB TLS Communication,MERGED,2020-07-02 18:25:52.000000000,2020-07-03 05:57:01.000000000,2020-07-03 05:57:00.000000000,31,0,0,739130,b989a4130a4aa964cdce50a8deabfc24a9d5a4b9,12,4,2,3,20805,David Ames,thedac,"Enable MySQL DB TLS Communication

Change-Id: I626493c099b15b3ee7a3bef8d76e408193f60cba
"
openstack%2Fcharm-vault~master~I57ce8b7d3f778fb87ab01170db1b3770ad84badf,openstack/charm-vault,master,bug/1886083,I57ce8b7d3f778fb87ab01170db1b3770ad84badf,Allow for temporary loss of the DB,MERGED,2020-07-02 18:24:52.000000000,2020-07-03 05:56:35.000000000,2020-07-03 05:56:35.000000000,54,13,0,739129,25ac2cb0de7e7fdc0c7815aecb67a5906b1fbede,12,4,2,3,20805,David Ames,thedac,"Allow for temporary loss of the DB

MySQL topology changes, pause/resumes or even rolling restarts
can put the vault charm into an error state unnecessarily.

* Make the vault charm more robust to temporary MySQL unavailability.
* Make the workload status indicate to the end user when this occurs.

Closes-Bug: #1886083
Change-Id: I57ce8b7d3f778fb87ab01170db1b3770ad84badf
"
openstack%2Fheat~stable%2Ftrain~I68c4ff34266ee1ae0a68df36b1fa1025b23b712a,openstack/heat,stable/train,,I68c4ff34266ee1ae0a68df36b1fa1025b23b712a,[stable/train] Allow resizing of instances on same host,MERGED,2020-06-25 06:16:45.000000000,2020-07-03 05:28:12.000000000,2020-07-03 05:26:30.000000000,1,0,0,737904,e4c9400896a247e9623d368c77f31274448613e2,26,4,1,1,8833,Rabi Mishra,rabi,"[stable/train] Allow resizing of instances on same host

This allows resizing of instances on the same host and would
not depend on ssh to the other node in multinode grenade job.

For ussuri and above we'll use the zuulv3 jobs which sets it
by default.

Change-Id: I68c4ff34266ee1ae0a68df36b1fa1025b23b712a
Task: 40166
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I7c2d014f3d333398b3d9f3c0b5d51cfd1fb98de8,openstack/python-tripleoclient,stable/ussuri,,I7c2d014f3d333398b3d9f3c0b5d51cfd1fb98de8,Update UPPER_CONSTRAINTS_FILE for stable/ussuri,ABANDONED,2020-07-02 10:59:34.000000000,2020-07-03 05:07:28.000000000,,3,3,0,739021,7f2e9c9618987ce00d29ca6a99b870059e223610,5,1,1,1,8833,Rabi Mishra,rabi,"Update UPPER_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Change-Id: I7c2d014f3d333398b3d9f3c0b5d51cfd1fb98de8
"
openstack%2Fdevstack~master~I056a68b01f84b2cb40f8af8e0962640c86e139d6,openstack/devstack,master,cirros-image-download-multiarch-auto,I056a68b01f84b2cb40f8af8e0962640c86e139d6,Make cirros image download automatically on multiarch,NEW,2020-07-02 08:28:11.000000000,2020-07-03 04:23:37.000000000,,1,1,0,738982,7d6ea9d5a3d8828c6eb805b26f814a802bc2c24e,4,4,1,1,22997,xinliang,xinliang.liu,"Make cirros image download automatically on multiarch

This makes devstack download the right cirros image automatically when
running on multiarch nodes such as aarch64, x86_64 and ppc64le.

Change-Id: I056a68b01f84b2cb40f8af8e0962640c86e139d6
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I24715f5e55d4cd6cf9879345980d3a3c5ab8830c,openstack/python-tripleoclient,stable/ussuri,ffwd-upgrade2-stable/ussuri,I24715f5e55d4cd6cf9879345980d3a3c5ab8830c,Identify not allowed parameters in upgrades.,MERGED,2020-06-26 12:32:03.000000000,2020-07-03 04:03:19.000000000,2020-07-03 04:01:45.000000000,103,0,0,738194,3a86f9f7f54c68e1099b08d9a6b7ac1cc9eaaaa6,10,8,1,4,26343,Jose Luis Franco,jfrancoa,"Identify not allowed parameters in upgrades.

This change allows us identifying a set of parameters which should
not been passed in the upgrade prepare or upgrade converge steps.
As it is now, it is mostly intended to block the converge step
if the FFU parameters (Stein registry parameters)  were left in
the environment files before running the converge step, however
it will allow blocking the upgrade prepare in the case that some
deprecated or not recommended parameter is provided in the templates.

The way how it works is by converting every single yaml passed in
the environment files into a  list of keys (only for the
parameters_default so far), then it will try to intersect the list
of forbidden parameters with the list of keys. If there is a match
an exception will be raised showing those parameters:

ERROR openstack [-] The following parameters should be removed from
the environment files:
ceph3_namespace
name_suffix_stein
tag_stein
name_prefix_stein
ceph3_image
namespace_stein
ceph3_tag

Change-Id: I24715f5e55d4cd6cf9879345980d3a3c5ab8830c
(cherry picked from commit fbc1eba88aa41d4a2ee73ebd4af3c212a4459829)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I57d5a8bb8b125727983df188968ae19366c3ebd4,openstack/tripleo-ansible,stable/train,bug/1884816,I57d5a8bb8b125727983df188968ae19366c3ebd4,Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles,MERGED,2020-07-02 15:13:38.000000000,2020-07-03 03:00:28.000000000,2020-07-03 03:00:28.000000000,3,2,0,739069,0f8611654444e0c9cb1c9e76a5046ad0fad9bd5a,11,5,2,3,6796,Giulio Fidente,gfidente,"Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles

We set ANSIBLE_SSH_CONTROL_PATH_DIR to deal with permissions
issues. Bug 1885917 was introduced because it was set to a
variable which can make the path too long for a Unix domain
socket. We can fix it by hard coding it to something short
which will not vary.

Change-Id: I57d5a8bb8b125727983df188968ae19366c3ebd4
Closes-Bug: #1885917
(cherry picked from commit ca165ec94018293dfbbbd37c44a2704b8144f203)
(cherry picked from commit c41b645c9e62dacfdc80f166c1ef97c4b267f65c)
"
openstack%2Fnova~master~I7b7971645c80efb3df3519133111d7c4bd3792ae,openstack/nova,master,bug/1848308,I7b7971645c80efb3df3519133111d7c4bd3792ae,test_hardware: show test parameter details for causing a test failure,NEW,2019-10-30 18:18:02.000000000,2020-07-03 02:45:53.000000000,,169,145,29,692205,2c82d7704ecb5d6434539c14fb9158f6a0790a83,59,13,7,1,14070,Eric Fried,efried,"test_hardware: show test parameter details for causing a test failure

The way test_cpu_policy_constraint was set up, if it failed, it would be
difficult to tell which test data item caused the failure. This patch
uses ddt with annotated data items to blow this out into separate tests
with an error message when error happens that make it easy to figure
out which data item caused the failure.

The error message would be like these in indicating the parameters that
makes an error:

```Sample error message

Failed 1 tests - output below:
==============================

nova.tests.unit.virt.test_hardware.NUMATopologyTest.test_cpu_policy_constraint_02
---------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/ddt.py"", line 182, in wrapper
    return func(self, *args, **kwargs)

      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 866, in inner
    return test(cls, *args, **kwargs)

      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 999, in test_cpu_policy_constraint
    self.assertEqual(testitem[""expect""], cpu_policy)

      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 415, in assertEqual
    self.assertThat(observed, matcher, message)

      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 502, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: 'shared' != 'dedicated'

Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2020-05-20 17:56:49,845 ERROR [nova.tests.unit.virt.test_hardware] test_cpu_policy_constraint failed with the parameters: {'flavor': Flavor(created_at=<?>,deleted=<?>,deleted_at=<?>,description=<?>,disabled=<?>,ephemeral_gb=<?>,extra_specs={hw:cpu_policy='dedicated'},flavorid=<?>,id=<?>,is_public=<?>,memory_mb=<?>,name=<?>,projects=<?>,root_gb=<?>,rxtx_factor=<?>,swap=<?>,updated_at=<?>,vcpu_weight=<?>,vcpus=<?>), 'image': {'properties': {'hw_cpu_policy': 'shared'}}, 'expect': 'shared'}

````

Change-Id: I7b7971645c80efb3df3519133111d7c4bd3792ae
Co-Authored-By: Eric Fried <openstack@fried.cc>
Co-Authored-By: Wang Huaqiang <huaqiang.wang@intel.com>
"
openstack%2Ftacker~master~I302607f636d6d96baa544ccad600bb21fdf18da2,openstack/tacker,master,bug/1885523,I302607f636d6d96baa544ccad600bb21fdf18da2,Fix failed test for creating vnf image,MERGED,2020-06-29 08:22:36.000000000,2020-07-03 00:32:48.000000000,2020-07-03 00:31:20.000000000,2,2,0,738393,ad686ab84698ad0b7dc14a3463cf1b2e3107ea5f,16,5,3,2,25701,Yasufumi Ogawa,yasufum,"Fix failed test for creating vnf image

The number of getting image URL is expected as `2`, but notactually
in test_pre_instantiation_vnf_image_with_file(). The value can be `1`
or `2` for `tox -e py36` or `tox -e lower-constraints`. It might be
because of a difference of versions of modules imported in
the test cases.

This update is just a quick fixing to avoid the issue. So, it could be
happened again possibly if the versions of modules are changed.

Closes-Bug: #1885523

Change-Id: I302607f636d6d96baa544ccad600bb21fdf18da2
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b,openstack/tripleo-ansible,stable/train,bug/1885331-stable/ussuri-stable/train,I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b,Use py3 for libselinux / libsemanage in Cent 7/8,MERGED,2020-07-02 20:39:28.000000000,2020-07-03 00:23:13.000000000,2020-07-03 00:21:44.000000000,6,5,0,739143,8f5b3186f3b72b69a63a66c62f15a80cb23ebc0a,9,4,1,1,18002,John Fulton,fultonj,"Use py3 for libselinux / libsemanage in Cent 7/8

Molecule removed support for py2, but it continues to work
on centos-7.8 via python36. We no longer need py2 for Cent7
but trying to install the py2 version of these packages
causes Cent7 bug this patch closes.

Change-Id: I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b
Closes-Bug: #1885331
(cherry picked from commit 15bbf6d176dd41ce942efd3efafd88690ddfe339)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b,openstack/tripleo-ansible,stable/ussuri,bug/1885331-stable/ussuri,I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b,Use py3 for libselinux / libsemanage in Cent 7/8,MERGED,2020-07-02 20:39:21.000000000,2020-07-03 00:22:09.000000000,2020-07-03 00:19:59.000000000,6,5,0,739142,4a6174af21639ec100bbc055f171e6e95baff64d,9,3,1,1,18002,John Fulton,fultonj,"Use py3 for libselinux / libsemanage in Cent 7/8

Molecule removed support for py2, but it continues to work
on centos-7.8 via python36. We no longer need py2 for Cent7
but trying to install the py2 version of these packages
causes Cent7 bug this patch closes.

Change-Id: I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b
Closes-Bug: #1885331
(cherry picked from commit 15bbf6d176dd41ce942efd3efafd88690ddfe339)
"
openstack%2Frequirements~master~I73b35d9b727662664ddda07e754ca6b50667afa3,openstack/requirements,master,openstack/requirements/constraints,I73b35d9b727662664ddda07e754ca6b50667afa3,Updated from generate-constraints,ABANDONED,2020-06-14 07:04:33.000000000,2020-07-02 23:27:51.000000000,,20,21,0,735450,c00365f5d76644194d43011c60f74940544f5bf6,16,1,5,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I73b35d9b727662664ddda07e754ca6b50667afa3
"
openstack%2Fos-brick~stable%2Frocky~Ie2db587c3bc379acd53cfd449788d171ae58dec5,openstack/os-brick,stable/rocky,,Ie2db587c3bc379acd53cfd449788d171ae58dec5,"Fix ""Remove VxFlex OS credentials"" regression",MERGED,2020-06-18 02:24:07.000000000,2020-07-02 22:35:43.000000000,2020-07-02 21:55:38.000000000,91,1,1,736415,867767ffdae124fcdb9b04a9089e226689c476d7,43,12,2,3,31039,hamza,hamalq,"Fix ""Remove VxFlex OS credentials"" regression

Change I10a8aaddbf7dd09830cd4189cd1f99c0ad1f3b60 uses a ConfigParser
instance in a way that is incompatible with python 2.7, resulting in
a ""ConfigParser instance has no attribute '__getitem__'"" error.  This
patch accesses the ConfigParser using the ""old"" API that works in both
Python 2.7 and Python 3 and adds some tests.

Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: Ie2db587c3bc379acd53cfd449788d171ae58dec5
Closes-Bug: 1883654
(cherry picked from commit 12d252db9cb9deffea3c87b86ea71b3013d93892)
(cherry picked from commit 750999db0de0fcfc923cd453add808ca42a4e2b4)
Conflicts:
- remove os_brick/privileged/scaleio.py (function with bug is in the
  connector in this branch)
- move the test file to tests/initiator/connectors/
- modify the unit tests because the config file is accessed differently
  in this branch
"
openstack%2Ftripleo-repos~master~Ifb301609bf29a6a171c284647baea233a7dd07cc,openstack/tripleo-repos,master,bug/1884129,Ifb301609bf29a6a171c284647baea233a7dd07cc,Fix component handling,MERGED,2020-06-18 19:28:19.000000000,2020-07-02 22:33:02.000000000,2020-07-02 22:33:02.000000000,41,11,13,736811,f18928aa862d97814b6cd49bbcea955e45c5f3fb,34,7,6,2,14985,Alex Schultz,mwhahaha,"Fix component handling

Since the we split the repos into components, a single delorean repo
file can contain many repos. For current-tripleo-dev we only want to
include certain packages from all the current repos. This change
processes the repo file to append includepkgs to all repos defined in a
single file. Additionally it adjusts the repo names to prevent conflicts
and addresses priority is missing from a file with multiple repos.

Change-Id: Ifb301609bf29a6a171c284647baea233a7dd07cc
Closes-Bug: #1884129
"
openstack%2Fcharm-ceph-fs~master~I2137edb851fbb7926f372783fa140d89190c813b,openstack/charm-ceph-fs,master,bug/1885935,I2137edb851fbb7926f372783fa140d89190c813b,Remove duplicate requirement,MERGED,2020-07-01 16:01:37.000000000,2020-07-02 22:26:49.000000000,2020-07-02 22:01:03.000000000,0,1,0,738875,4c02fa9c420e99ceb3bc0f2e667cbf611c3fe290,36,5,2,1,13686,Frode Nordahl,fnordahl,"Remove duplicate requirement

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/342
Change-Id: I2137edb851fbb7926f372783fa140d89190c813b
Closes-Bug: #1885935
"
openstack%2Fironic~master~If692795221661414b2990f8131433678402dd45b,openstack/ironic,master,triage-docs,If692795221661414b2990f8131433678402dd45b,Add a bug reporting and triaging guide,MERGED,2020-06-23 10:22:03.000000000,2020-07-02 22:11:26.000000000,2020-07-02 21:45:30.000000000,134,1,8,737483,2f5456759e176aff1402508096975424057dd943,25,8,4,4,10239,Dmitry Tantsur,dtantsur,"Add a bug reporting and triaging guide

Change-Id: If692795221661414b2990f8131433678402dd45b
"
openstack%2Fopenstack-ansible-os_horizon~stable%2Ftrain~Ie02ef3dd6180128645e4932d50b489f399ea440d,openstack/openstack-ansible-os_horizon,stable/train,octavia_ui-stable/train,Ie02ef3dd6180128645e4932d50b489f399ea440d,Add octavia version to constraints,MERGED,2020-06-16 15:29:01.000000000,2020-07-02 22:06:32.000000000,2020-07-02 22:03:40.000000000,1,0,0,735944,1dc7daecaa8a4f6f28ee06d6886ca419f9422420,20,3,1,1,25023,Jonathan Rosser,jrosser,"Add octavia version to constraints

As we do octavia dashboard bumps, we should provide it's specific version
as a constraint while creating venv

Change-Id: Ie02ef3dd6180128645e4932d50b489f399ea440d
Closes-bug: 1881874
(cherry picked from commit 657648b033312f1f24f303bf4dee2a7ee320010a)
"
openstack%2Fironic~master~Ib53af28596dc1392f68c956efc6d8750de611c13,openstack/ironic,master,enforce-autospec,Ib53af28596dc1392f68c956efc6d8750de611c13,Enforce autospec in test_manager,MERGED,2020-07-01 13:41:30.000000000,2020-07-02 22:02:50.000000000,2020-07-02 21:45:28.000000000,421,278,12,738848,00519ba619d0d382021a8bcd7f486f9c1b01d9af,15,6,2,2,23851,Riccardo Pittau,elfosardo,"Enforce autospec in test_manager

And remove the corresponding H210 filter.

Change-Id: Ib53af28596dc1392f68c956efc6d8750de611c13
"
openstack%2Fsushy-tools~master~Ia926a8f9d8debaff9763aeebcd986f9056cca700,openstack/sushy-tools,master,738874,Ia926a8f9d8debaff9763aeebcd986f9056cca700,Support non-ide virtual media buses,MERGED,2020-07-01 16:01:29.000000000,2020-07-02 22:02:46.000000000,2020-07-02 22:00:03.000000000,168,6,6,738874,ff2be838b9da25998202a93f2120d1350f2a1f6e,23,6,5,5,11655,Julia Kreger,jkreger,"Support non-ide virtual media buses

Also fix a minor possible bug with interpretation of XML returning
a string trying to be compared to a number, and adds two test files
and associated tests for the injection of SATA or SCSI removable
disk drives.

Story: 2007881
Task: 40249

Change-Id: Ia926a8f9d8debaff9763aeebcd986f9056cca700
"
openstack%2Fironic~master~I14ac07661b8741684dcf77ced9e782b57c947d79,openstack/ironic,master,prep-renotes,I14ac07661b8741684dcf77ced9e782b57c947d79,Prepare release notes and docs for release 15.1,MERGED,2020-07-01 17:10:42.000000000,2020-07-02 21:54:16.000000000,2020-07-02 21:45:25.000000000,28,28,9,738900,15079e3c9c99327f2d75b88f7d97688bfb493bd6,29,6,7,8,23851,Riccardo Pittau,elfosardo,"Prepare release notes and docs for release 15.1

Change-Id: I14ac07661b8741684dcf77ced9e782b57c947d79
"
openstack%2Fglance_store~stable%2Fussuri~I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6,openstack/glance_store,stable/ussuri,bug/1870289,I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6,Add lock per share for cinder nfs mount/umount,MERGED,2020-05-11 17:44:05.000000000,2020-07-02 21:37:03.000000000,2020-07-02 21:35:33.000000000,587,9,3,726914,b37e7f2f3c3faf3b6e4d11eeb3e866211e13b85e,11,4,2,9,8122,Cyril Roelandt,cyril.roelandt.enovance,"Add lock per share for cinder nfs mount/umount

With cinder configured as glance store and nfs as cinder backend,
if we create multiple images concurrently into the same share,
there might be race conditions.
This patch ensures a lock per export to avoid the race conditions.

This patch also introduces a reference counting mechamism for unmounting
which will unmount the share if no active thread/process is using it.

Closes-Bug: #1870289

Change-Id: I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6
(cherry picked from commit f5d46996139593f6249138bcc9f09b6120f0034a)
"
openstack%2Fpuppet-tripleo~master~I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a,openstack/puppet-tripleo,master,fixup,I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a,Make the additional_erl_args change more independent,MERGED,2020-06-30 15:32:05.000000000,2020-07-02 21:01:56.000000000,2020-07-02 21:01:56.000000000,5,1,0,738650,cfc20b287f627cdcc54d0354780d1de472575127,13,6,1,1,20172,Michele Baldessari,michele,"Make the additional_erl_args change more independent

In I3bf244a70538209773804eb85fae6be035c587f4 we made sure that
we use the additional_erl_args to define parameters. This all
works well but it requires the corresponding THT change
(I567839785a72813a382a00253562894e19eb6715). Let's make it so
that we can merge all the puppet changes without mandating the
THT change at the same time. This makes things easier when backporting.

Tested by deploying a queens environment with this change,
puppet-rabbitmq from master and correctly got a working rabbitmq
cluster. (I.e. we avoided deploying with the corresponding THT change)

Change-Id: I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a
Related-Bug: #1884922
"
openstack%2Frequirements~stable%2Ftrain~If66d5a0926f7c4410f59718f2a62cf8409adac01,openstack/requirements,stable/train,new-release,If66d5a0926f7c4410f59718f2a62cf8409adac01,update constraint for oslo.utils to new release 3.41.6,MERGED,2020-07-02 10:36:01.000000000,2020-07-02 21:00:13.000000000,2020-07-02 21:00:13.000000000,1,1,0,739012,77ac7b164f7d294ba80832324f4463101cf3fad9,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.utils to new release 3.41.6

Change-Id: If66d5a0926f7c4410f59718f2a62cf8409adac01
meta:version: 3.41.6
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I18d9c58dd398c717b3843f304407f41f1a75f87b
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Frequirements~stable%2Fussuri~Ic69595f6fdc3f4d2f5e89c6ac65371f164eec84e,openstack/requirements,stable/ussuri,new-release,Ic69595f6fdc3f4d2f5e89c6ac65371f164eec84e,update constraint for oslo.policy to new release 3.1.1,MERGED,2020-07-02 10:27:26.000000000,2020-07-02 21:00:11.000000000,2020-07-02 21:00:11.000000000,3,3,0,739008,f6932f2789861e0e95967cf7aa38749a0699e5c5,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.policy to new release 3.1.1

Change-Id: Ic69595f6fdc3f4d2f5e89c6ac65371f164eec84e
meta:version: 3.1.1
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: Iacef0d28f9e58e6ced07515ebf9bb497a1d5b3ac
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Frequirements~stable%2Fussuri~I8f4b746ea997974e1e1b860f84d5a4cc48a33a4a,openstack/requirements,stable/ussuri,new-release,I8f4b746ea997974e1e1b860f84d5a4cc48a33a4a,update constraint for oslo.utils to new release 4.1.2,MERGED,2020-07-02 10:27:22.000000000,2020-07-02 21:00:09.000000000,2020-07-02 21:00:09.000000000,3,3,0,739007,5054c0186adc53ce0801f2967912cd0f9a6532b8,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.utils to new release 4.1.2

Change-Id: I8f4b746ea997974e1e1b860f84d5a4cc48a33a4a
meta:version: 4.1.2
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: Iacef0d28f9e58e6ced07515ebf9bb497a1d5b3ac
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9,openstack/tripleo-heat-templates,stable/ussuri,,I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9,Fix Error: invalid arguments you must use just one container,MERGED,2020-07-01 08:21:42.000000000,2020-07-02 21:00:01.000000000,2020-07-02 21:00:01.000000000,6,6,0,738756,51e697362557947cd2def74b34b17aeec28bf94b,11,8,2,1,6816,Jesse Pretorius,jesse-pretorius,"Fix Error: invalid arguments you must use just one container

The podman ps command can return multiple containers, which
might happen during an upgrade, when an old container lingers on.
We want to copy the cert into all of them.

Change-Id: I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9
Closes-Bug: #1884731
Resolves: rhbz#1849211
(cherry picked from commit d37579fd787185b292b5d547f5ac3cf17dd2fd9e)
"
openstack%2Ftripleo-heat-templates~master~I0f61016df6a9f07971c5eab51cc9674a1458c66f,openstack/tripleo-heat-templates,master,change-ha-default,I0f61016df6a9f07971c5eab51cc9674a1458c66f,standalone/overcloud: enable the HA deployment by default,MERGED,2016-08-23 09:13:57.000000000,2020-07-02 20:46:20.000000000,2020-04-10 19:10:02.000000000,218,49,35,359060,b0e70081968c96af04d2858d040f97a67115391f,284,19,77,27,20172,Michele Baldessari,michele,"standalone/overcloud: enable the HA deployment by default

With the HA NG work having landed, the impact of pacemaker
is reduced and only very few core services are being managed
by pacemaker. Since the HA deployments work just fine
with a single node, it makes little sense to use the non-ha
deployment as default any longer (Also because downstream
we do the default to the HA deployment by default and this
keeps confusing users).

This patch does the following :

* Remove Keepalived services from all CI scenarios running it.
* Make sure all HA services deployed in CI run with Pacemaker.
* Remove non HA containers so Pacemaker can
  bootstrap the new containers safely.
* Before removing mysql container, create the clustercheck user and
  grant correct permissions to avoid bootstrap issues later when galera
  is spawned.
* Disable HA on the minor update job, it seems to not working fine if
  only one controller is deployed.

Depends-On: https://review.opendev.org/#/c/718759
Change-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f
"
openstack%2Fcinder~stable%2Fussuri~Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,openstack/cinder,stable/ussuri,bug/1869746,Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,Fix cross-project incremental backups,MERGED,2020-07-01 21:18:37.000000000,2020-07-02 20:42:58.000000000,2020-07-02 20:39:55.000000000,44,27,0,738943,5358c996b40bbb0fd749ec182ff3ef67f5d71c16,24,14,2,8,14567,Rodrigo Barbieri,ganso,"Fix cross-project incremental backups

This patch addresses the scenario where an
incremental backup can be created having a
parent backup that was taken in a different
project. This scenario ultimately leads to
a silent error when creating/deleting the
incremental backup and quotas going out of
sync.

The proposed fix is to narrow the backup search
down to the same project. To achieve this, a
method's signature had to be updated to achieve
the desired optimized behavior of passing the
volume's project_id parameter.

Closes-bug: #1869746
Closes-bug: #1873518

Change-Id: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149
(cherry picked from commit 8ebeafcbbafb700052f3abfc1f7ba004269a92e8)
"
openstack%2Ftripleo-ansible~master~I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b,openstack/tripleo-ansible,master,bug/1885331,I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b,Use py3 for libselinux / libsemanage in Cent 7/8,MERGED,2020-06-30 14:43:19.000000000,2020-07-02 20:39:21.000000000,2020-07-02 20:27:50.000000000,6,5,2,738640,15bbf6d176dd41ce942efd3efafd88690ddfe339,20,5,4,1,18002,John Fulton,fultonj,"Use py3 for libselinux / libsemanage in Cent 7/8

Molecule removed support for py2, but it continues to work
on centos-7.8 via python36. We no longer need py2 for Cent7
but trying to install the py2 version of these packages
causes Cent7 bug this patch closes.

Change-Id: I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b
Closes-Bug: #1885331
"
openstack%2Ftripleo-ci~master~I0b5a6b97e3657c9d113a551513917ee8867fd804,openstack/tripleo-ci,master,testmyall,I0b5a6b97e3657c9d113a551513917ee8867fd804,DNM run jobs with attempts 1 and patch,ABANDONED,2020-07-02 06:32:05.000000000,2020-07-02 20:33:52.000000000,,11,31,0,738966,8b4647421ec7f3e531b3f68267541c54789657aa,10,4,1,13,10969,Shnaidman Sagi (Sergey),sergsh,"DNM run jobs with attempts 1 and patch

w/o disabling network manager

Depends-On: https://review.opendev.org/#/c/738964/
Change-Id: I0b5a6b97e3657c9d113a551513917ee8867fd804
"
openstack%2Fnetworking-ovn~stable%2Ftrain~Idd184807de24c79dd892046f01e3acdd1168ca2d,openstack/networking-ovn,stable/train,,Idd184807de24c79dd892046f01e3acdd1168ca2d,Set class ovsdb_conection to None,MERGED,2020-05-29 14:50:28.000000000,2020-07-02 20:31:46.000000000,2020-07-02 20:29:44.000000000,1,0,0,731781,98bc51144e532adda2557ad88a70bb39430e080a,22,5,2,1,5756,Terry Wilson,otherwiseguy,"Set class ovsdb_conection to None

We override ovsdbapp's Backend class to change from using a class
variable for the ovsdb_connection to using an instance variable.
This means we have to override several different methods/properties.
This could be simplified in ovsdbapp by making ovsdb_connection a
property, which in ovsdbapp access a class variable, and in neutron
it is overridden to to store on the instance, so there would be
less to override.

ovsdbapp is adding user-definable indexed columns so things like
lookups by name will be faster. Due to the way it is architected,
the place to generate the indexes would be just before the
connection starts. Since methods like start_connection are
classmethods in ovsdbapp, and instance methods in neutron, this is
hard to do cleanly w/o ovsdb_connection being a property. Without
this change, neutron would fail if that property was defined. With
the change, it should pass with both old and new code.

Change-Id: Idd184807de24c79dd892046f01e3acdd1168ca2d
(cherry picked from commit c05bac8c4062ff2d4bb67a719aa11f61f608bbdb)
"
openstack%2Fkolla-ansible~master~Iabfa9afdcad505106a5580eb2d058273ee5f7c1f,openstack/kolla-ansible,master,bug-1886002,Iabfa9afdcad505106a5580eb2d058273ee5f7c1f,Fix Fluentd date format for MariaDB xinetd,MERGED,2020-07-02 08:34:32.000000000,2020-07-02 20:25:35.000000000,2020-07-02 20:23:17.000000000,1,1,0,738983,dda5269ce75526b90a2d8e3b7983d876d4193588,15,4,3,1,26689,Justinas Balciunas,stacklablt,"Fix Fluentd date format for MariaDB xinetd

Time format in Ruby Time.strptime is not accepting padding flags,
therefore we need to remove them for the Fluentd to be able
to parse MariaDB xinetd logs properly.

Change-Id: Iabfa9afdcad505106a5580eb2d058273ee5f7c1f
Closes-Bug: #1886002
"
openstack%2Fkolla~master~I0d8695fde2a70509c7535d0d582136c0b0e7667b,openstack/kolla,master,remove-glance-registry,I0d8695fde2a70509c7535d0d582136c0b0e7667b,Remove glance-registry container,MERGED,2020-07-02 09:13:49.000000000,2020-07-02 20:24:58.000000000,2020-07-02 20:22:38.000000000,5,11,1,738998,3a3c34c5975a289ca1cbd546db07ccc9a7f318c9,21,5,3,2,16312,Alfredo Moralejo,amoralej,"Remove glance-registry container

glance-registry service was deprecated in Queens release and has been
removed in Victoria [1].

[1] https://review.opendev.org/#/c/738671/

Change-Id: I0d8695fde2a70509c7535d0d582136c0b0e7667b
"
openstack%2Ftempest~master~Iaccea41640a53b564f72cee73981e2e61d3e80ae,openstack/tempest,master,bug/1819851,Iaccea41640a53b564f72cee73981e2e61d3e80ae,object storage: fix and cleanup header checks,MERGED,2020-06-17 16:16:24.000000000,2020-07-02 20:24:24.000000000,2020-07-02 20:22:23.000000000,19,47,5,736292,42e111c7d8f1cdb5d51a1c4f2ce5c64c3d3471f1,37,9,7,3,12021,Thomas Morin,tmorin,"object storage: fix and cleanup header checks

As explained in [1] it is not legitimate to require a Transfer-Encoding
header in Swift responses. That prevents running some tests
successfully in the case where Swift is behind a proxy/load-balancer
that does not use any Transfer-Encoding in its responses.

This change hence removes the checks for the presence of a
""Transfer-Encoding"" header, and replaces them by the use
of the existing check methods, after modifying the
custom_matcher checks on which these methods rely on to accept
either a Content-Length or a Transfer-Encoding header.

Some adaptation was also required to avoid trying to process 'etag'
for DELETE requests.

A side-effect of this change is a code simplification and
cleanup since the specific header checks in the corresponding
tests are replaced by the generic check methods.

[1] https://bugs.launchpad.net/tempest/+bug/1819851/comments/3

Closes-Bug: 1819851
Change-Id: Iaccea41640a53b564f72cee73981e2e61d3e80ae
"
openstack%2Fpuppet-placement~master~I7be4c1a5a61fcb8236d58804b9502cf7e3d0718b,openstack/puppet-placement,master,wsgi-workers,I7be4c1a5a61fcb8236d58804b9502cf7e3d0718b,Use workers instead of threads in wsgi by default,MERGED,2020-06-30 14:12:31.000000000,2020-07-02 20:07:31.000000000,2020-07-02 20:05:57.000000000,11,6,1,738630,ac6e4e999b61760ed0c316e8ff77c31a5ab04682,13,3,4,3,9816,Takashi Kajinami,kajinamit,"Use workers instead of threads in wsgi by default

In most of puppet-openstack modules, we use workers instead of threads
in wsgi to realize concurrency of api process by default.

This patch makes puppet-placement follow that standard configuration,
so that the default setup can be more consistent among all modules.

Change-Id: I7be4c1a5a61fcb8236d58804b9502cf7e3d0718b
"
openstack%2Fironic-python-agent~stable%2Ftrain~I6d11edc9a3156f2bdc21c3d432ecc7625d652699,openstack/ironic-python-agent,stable/train,,I6d11edc9a3156f2bdc21c3d432ecc7625d652699,"Extend retries to 9, 10 seconds apart.",MERGED,2020-06-29 22:52:30.000000000,2020-07-02 19:36:54.000000000,2020-07-02 13:36:39.000000000,16,4,0,738534,72ba11ac28199c47f03829173882275bf577958f,19,4,4,3,11655,Julia Kreger,jkreger,"Extend retries to 9, 10 seconds apart.

The download retry interval was previously five seconds which is
not long enough to recover after a hard network connectivity break
where we may be reliant upon network port forwarding hold-down
timers or even routing protocol route propogation to recover
communication.

Previously the time value was 5 seconds, with 3 attempts, meaning
15 seconds total ignoring the error detection timeouts.

Now it is 10 seconds, with 10 attempts, meaning 100 seconds before
the error detection timeouts.

Change-Id: I6d11edc9a3156f2bdc21c3d432ecc7625d652699
(cherry picked from commit c77a7df851a511a2503da2b50004ca2f34b9be3a)
(cherry picked from commit af0bf467a850d56e1f832688d5c1af35dd91f872)
"
openstack%2Fopenstack-helm-infra~master~Id44948986609093b709e23e0d9f9eddd690fa2b8,openstack/openstack-helm-infra,master,,Id44948986609093b709e23e0d9f9eddd690fa2b8,Fix ara installation,MERGED,2020-07-02 04:58:16.000000000,2020-07-02 19:29:07.000000000,2020-07-02 19:25:03.000000000,2,2,0,738956,ecb58b85be010b941c779303661ac8b4065f9ab5,8,5,1,1,8863,Andrii Ostapenko,aostapenko,"Fix ara installation

Using the latest ara supporting ansible 2.5.5

Change-Id: Id44948986609093b709e23e0d9f9eddd690fa2b8
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Fopenstack-helm-infra~master~Ib0ff95088c658fec3180f071269041faa7da2ecf,openstack/openstack-helm-infra,master,,Ib0ff95088c658fec3180f071269041faa7da2ecf,Fix developers kubeadm installation,MERGED,2020-07-02 04:50:08.000000000,2020-07-02 19:21:38.000000000,2020-07-02 19:17:55.000000000,3,3,0,738953,b49541f3006d9f1ef10d8221ec492a331ea01270,11,6,2,3,8863,Andrii Ostapenko,aostapenko,"Fix developers kubeadm installation

Waiting for kube-apiserver is failing with not finding python
executable.

Change-Id: Ib0ff95088c658fec3180f071269041faa7da2ecf
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Fnova~master~I97b0dcbb88c6ef7c22e3c55970211bed792bbd0d,openstack/nova,master,migrate-to-focal,I97b0dcbb88c6ef7c22e3c55970211bed792bbd0d,Fix user creation with GRANT in MySQL 8.0(Ubuntu Focal),MERGED,2020-07-01 02:27:42.000000000,2020-07-02 18:45:14.000000000,2020-07-02 18:40:44.000000000,2,2,0,738723,e0d541073da06a583681774b2ecb61bf5a9bd2d1,15,9,1,1,8556,Ghanshyam,ghanshyam,"Fix user creation with GRANT in MySQL 8.0(Ubuntu Focal)

In Ubuntu Bionic (18.04) mysql 5.7 version used to create
the user implicitly when using using the GRANT.

Ubuntu Focal (20.04) has mysql 8.0 and with mysql 8.0 there
is no implicit user creation with GRANT. We need to
create the user first before using GRANT command.

Nova unit and functional tests job using tools/test-setup.sh
script start failing when running on Ubuntu Focal

https://zuul.opendev.org/t/openstack/build/8b0f4fcc21854655a638c413b6fe1a91

Error log:
mysql: [Warning] Using a password on the command line interface can be insecure.
ERROR 1064 (42000) at line 4: You have an error in your SQL syntax; check the manual
that corresponds to your MySQL server version for the right syntax to use near
'identified by 'openstack_citest' WITH GRANT OPTION' at line 2

Story: #2007865
Task: #40200

Change-Id: I97b0dcbb88c6ef7c22e3c55970211bed792bbd0d
Closes-Bug: #1885825
"
openstack%2Fnova~master~I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a,openstack/nova,master,backport-hash-check,I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a,Fix cherry-pick check for merge patch,MERGED,2020-06-26 19:52:23.000000000,2020-07-02 18:43:15.000000000,2020-07-02 18:40:35.000000000,11,1,3,738271,c7c48c6f52c9159767b60a4576ba37726156a5f7,20,12,1,1,17685,Elod Illes,elod.illes,"Fix cherry-pick check for merge patch

Cherry-pick check script validates the proposed patch's commit message.
If a patch is not on top of the given branch then Zuul rebases it to
the top and the patch becomes a merge patch. In this case the script
validates the merge patch's commit message instead of the original
patch's commit message and fails.

This fix selects the parent of the patch if it is a merge patch.

Change-Id: I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a
"
openstack%2Fopenstack-helm-infra~master~I10f42fd0cb43a951f480594d269fd998de5678bf,openstack/openstack-helm-infra,master,,I10f42fd0cb43a951f480594d269fd998de5678bf,[CEPH] Make ceph-volume as default deployment tool,MERGED,2020-07-01 17:54:36.000000000,2020-07-02 18:13:31.000000000,2020-07-02 18:10:06.000000000,1,7,0,738908,bfe7a99a61e49ccd9ef9d73f181862646f92e6b8,17,7,2,4,28372,chinasubbareddy mallavarapu,chinasubbareddy,"[CEPH] Make ceph-volume as default deployment tool

This is to make ceph-volume as default deployment tool
since support for ceph-disk got deprectated from Nautilus version of
ceph.

Change-Id: I10f42fd0cb43a951f480594d269fd998de5678bf
"
openstack%2Fkayobe~master~I0af07cf3cde5cf2ca2700c647eb40cc509379864,openstack/kayobe,master,retire-congress,I0af07cf3cde5cf2ca2700c647eb40cc509379864,Remove retired congress,MERGED,2020-05-29 14:23:26.000000000,2020-07-02 17:56:01.000000000,2020-07-02 17:53:46.000000000,7,19,0,731764,c456f0b9b71caaa742847d93eab54baaed175940,25,5,5,7,30356,gugug,gujin,"Remove retired congress

Congress has been retired, remove the congress stuff

See https://review.opendev.org/721742

Change-Id: I0af07cf3cde5cf2ca2700c647eb40cc509379864
"
openstack%2Fneutron~stable%2Fussuri~I4567f3d541d382b6432c1ab3d35276d81ce71d82,openstack/neutron,stable/ussuri,,I4567f3d541d382b6432c1ab3d35276d81ce71d82,[OVN] Add support for router availability zones,MERGED,2020-06-26 14:33:20.000000000,2020-07-02 17:55:44.000000000,2020-07-02 17:47:52.000000000,354,26,1,738214,53e99b76a24b3635e2cc862be12697200c8f60cf,9,5,1,13,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Add support for router availability zones

This patch is adding support for the router_availability_zone extension
for Neutron.

The OVN driver will now read from the router's availability_zone_hints
field and schedule the router ports onto OVN chassis belonging to those
AZs.

Since the OVN driver does not rely on the L3 agent, this patch does not
re-use the configuration option for the agent to configure the
availability zone that a Chassis belongs to (even because there's no
configuration file in nodes such as networker nodes). Instead, this
patch reuses the ""ovn-cms-options"" field from the local OVSDB to
configure the Chassis. The follow syntax has been used:

$ ovs-vsctl set Open_VSwitch .
external-ids:ovn-cms-options=""enable-chassis-as-gw,availability-zones=az0:az1""

In the example above, the Chassis has been configured to belong to two
AZs: ""az0"" and ""az1"".

This patch also implements listing the availability zones:
$ openstack availability zone list

As well as validating the router's availability zone hints:
$ openstack router create --availability-zone-hint az0
--availability-zone-hint az1 test_router

The above command would fail if there's no ""az0"" and ""az1"" configured in
any OVN chassis.

Documentation for this feature is being written and will be submitted
in a separated patch.

Partial-Bug: #1881095
Change-Id: I4567f3d541d382b6432c1ab3d35276d81ce71d82
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit d669dff1dcf0fbc2dc7ea0d2e0c88f244a1add4b)
"
openstack%2Fironic~stable%2Fussuri~I7bb190c82fa3f166902884d1ea0da485cc743a65,openstack/ironic,stable/ussuri,inspection-fast-track-stable/ussuri,I7bb190c82fa3f166902884d1ea0da485cc743a65,Fix fast track following managed inspection,MERGED,2020-07-02 07:58:51.000000000,2020-07-02 17:52:15.000000000,2020-07-02 17:49:27.000000000,41,0,0,738977,af86e8dc3a90d0985dc56f9cdbe15e0089bdeed4,13,5,1,3,10239,Dmitry Tantsur,dtantsur,"Fix fast track following managed inspection

The managed inspection does not provide ipa-api-url and the ramdisk
cannot heartbeat, thus requiring a reboot. This change fixes it.

Change-Id: I7bb190c82fa3f166902884d1ea0da485cc743a65
(cherry picked from commit f9eb43d1c07766d15da05689de22bc435440caeb)
"
openstack%2Foctavia~stable%2Ftrain~Ied6b83a432bcc3eb5036da1bdbaa3ea7298f3564,openstack/octavia,stable/train,pep8-test-train,Ied6b83a432bcc3eb5036da1bdbaa3ea7298f3564,DNM - pep8 test for stable/train,ABANDONED,2020-05-13 16:52:16.000000000,2020-07-02 17:50:17.000000000,,1,0,0,727834,15ff8e4aa98d7d022c848865090b2f5b788d31b6,3,1,1,1,1131,Brian Haley,brian-haley,"DNM - pep8 test for stable/train

Change-Id: Ied6b83a432bcc3eb5036da1bdbaa3ea7298f3564
"
openstack%2Fneutron~stable%2Fussuri~I231e624f460510decc6d2237040c8bef207e2e8e,openstack/neutron,stable/ussuri,improve-ovs-agent-logging-stable/ussuri,I231e624f460510decc6d2237040c8bef207e2e8e,Improve log message when port losts its vlan tag,MERGED,2020-07-01 07:14:27.000000000,2020-07-02 17:50:15.000000000,2020-07-02 17:47:48.000000000,4,2,0,738740,87fae223fe399f9a66d2c98b60f9a3e0e8f78e2a,24,7,1,1,11975,Slawek Kaplonski,slaweq,"Improve log message when port losts its vlan tag

In some cases it may be useful to log new vlan tag which is found
on the port when it losts old vlan tag which should is expected to
be there.
So this patch adds such value to the log message.

TrivialFix

Change-Id: I231e624f460510decc6d2237040c8bef207e2e8e
(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)
"
openstack%2Fglance~master~I284271a458117b753a88b847598ca10ce4fb94fa,openstack/glance,master,bug/1884587,I284271a458117b753a88b847598ca10ce4fb94fa,Add a test to replicate the owner-required behavior of copy-image,MERGED,2020-06-25 20:33:18.000000000,2020-07-02 17:50:02.000000000,2020-07-02 17:47:54.000000000,32,0,0,738101,f450b9cf0314afeb9aa64ed687218b92b6a49321,26,6,3,1,4393,Dan Smith,danms,"Add a test to replicate the owner-required behavior of copy-image

Right now, image_import(method='copy-image') requires you to be the owner
of the image. This adds a test that validates that behavior so we can measure
the difference of the next set of changes to modify that.

Change-Id: I284271a458117b753a88b847598ca10ce4fb94fa
"
openstack%2Foctavia~stable%2Fstein~I38990c686666c8501f78f003f1fa1e330cb3c33a,openstack/octavia,stable/stein,pep8-test-stein,I38990c686666c8501f78f003f1fa1e330cb3c33a,DNM - pep8 test for stable/stein,ABANDONED,2020-05-13 16:51:21.000000000,2020-07-02 17:49:59.000000000,,1,0,0,727833,48c05c6aa85073650a74d5cbfb71d940b7de8acf,3,1,1,1,1131,Brian Haley,brian-haley,"DNM - pep8 test for stable/stein

Change-Id: I38990c686666c8501f78f003f1fa1e330cb3c33a
"
openstack%2Fironic-python-agent~stable%2Ftrain~I9217792d32e6f33c70f146a9b7d3ef58c5644d8a,openstack/ironic-python-agent,stable/train,,I9217792d32e6f33c70f146a9b7d3ef58c5644d8a,Add full download retries,MERGED,2020-06-29 22:52:30.000000000,2020-07-02 17:34:44.000000000,2020-07-02 13:32:25.000000000,83,29,0,738533,0e34f02b856aa56b3b101ff6f6e9d9ff2ac69d2d,20,4,4,3,11655,Julia Kreger,jkreger,"Add full download retries

Instead of just trying to get the connection and handler
for the download, lets try to retry the whole action of
of downloading.

Change-Id: I9217792d32e6f33c70f146a9b7d3ef58c5644d8a
(cherry picked from commit 159ab9f0ce7bec756f77bcec49331d0eefdd78f2)
(cherry picked from commit 1b15271a7d4594a3392597c547f9e73cf5ea07a4)
"
openstack%2Fneutron~master~I62c29e172bc8705dade11d37bb347241ef8ad5f8,openstack/neutron,master,bug/1883089,I62c29e172bc8705dade11d37bb347241ef8ad5f8,[L3] Delete DvrFipGatewayPortAgentBindings after no gw ports,MERGED,2020-06-16 02:13:12.000000000,2020-07-02 17:19:42.000000000,2020-07-02 17:15:14.000000000,29,0,3,735762,8dee0d9a4eb4282b989f2c77a79e55aa89554788,38,10,4,2,9531,liuyulong,LIU-Yulong,"[L3] Delete DvrFipGatewayPortAgentBindings after no gw ports

This is the code behavior aligning for dvr related logical. The
L3 dvr DB will remove all related FIP agent gateway port after there
is no real use of it. But the DvrFipGatewayPortAgentBindings remain,
it will cause the issue of new floating IP failed to bind. This
patch adds the binding deleting action.

Related-bug: #1883089
Change-Id: I62c29e172bc8705dade11d37bb347241ef8ad5f8
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I0bbe42a86a0fc37700e789584acae564297e0bc8,openstack/openstack-ansible-openstack_hosts,master,,I0bbe42a86a0fc37700e789584acae564297e0bc8,Fix CentOS functional test,MERGED,2020-06-22 17:25:43.000000000,2020-07-02 17:17:56.000000000,2020-07-02 00:37:47.000000000,13,28,0,737331,002362ba6b2e53ad1bdbbc1aa1d4539090416adf,28,4,10,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix CentOS functional test

Change-Id: I0bbe42a86a0fc37700e789584acae564297e0bc8
"
openstack%2Frequirements~master~I575b18220db4b0a2ce677f99df86486d3ab0f150,openstack/requirements,master,pbr-fixes,I575b18220db4b0a2ce677f99df86486d3ab0f150,"Revert ""Remove six from local requirements""",MERGED,2020-07-02 10:38:03.000000000,2020-07-02 17:17:42.000000000,2020-07-02 17:15:19.000000000,1,0,0,739014,22c362cf6488e9967a3041328daf1395f25ea8fa,9,3,1,1,15334,Stephen Finucane,sfinucan,"Revert ""Remove six from local requirements""

This reverts commit 9ee3854a500af72efd5d2147745d02e2fba2dd1a.

There are still a couple of tools using this, including things that pbr
depends on [1]

[1] https://opendev.org/openstack/pbr/src/commit/9257b6843568052be1dc1a5f3df6f629795e08b2/pbr/tests/test_integration.py#L80-L83

Change-Id: I575b18220db4b0a2ce677f99df86486d3ab0f150
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fopenstack-ansible-lxc_container_create~master~I67b334c6ec173460ce3a2bcec0e5c083c4deee6b,openstack/openstack-ansible-lxc_container_create,master,osa/el8,I67b334c6ec173460ce3a2bcec0e5c083c4deee6b,Add Centos-8 support,MERGED,2020-06-18 21:49:03.000000000,2020-07-02 17:16:21.000000000,2020-07-02 14:45:39.000000000,34,0,4,736850,044dabe43565cff4b9d8c0b0eb23175e67897aa4,16,4,3,1,28752,Satish Patel,spatel,"Add Centos-8 support

Change-Id: I67b334c6ec173460ce3a2bcec0e5c083c4deee6b
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5,openstack/openstack-ansible-openstack_hosts,master,osa/el8,I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5,Enable PowerTools repository for distro installs,MERGED,2020-06-22 15:00:05.000000000,2020-07-02 17:16:07.000000000,2020-07-02 00:39:12.000000000,10,0,0,737284,5f6362fa5c2abc7e038706dd53a9f858608f6c39,18,4,4,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Enable PowerTools repository for distro installs

RDO repo relies on some libraties that are present in PowerTools
repository. This repo exists in base image, however is disabled.
From the other side, zuul adds this repo with base jobs and enable it
in CI by default.
So not to deal with getting right URL and etc, we're just running command

Change-Id: I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5
"
openstack%2Fopenstack-ansible-os_barbican~master~Ic01d966160b2a95fc4047ead5a9c3e50f68ae1d1,openstack/openstack-ansible-os_barbican,master,osa/el8,Ic01d966160b2a95fc4047ead5a9c3e50f68ae1d1,Add Centos-8 support,MERGED,2020-06-19 05:17:44.000000000,2020-07-02 17:15:49.000000000,2020-07-01 22:03:46.000000000,2,2,1,736932,d61db1e68b77a1d7d9752af22efe990a2f12516e,16,4,2,1,28752,Satish Patel,spatel,"Add Centos-8 support

Change-Id: Ic01d966160b2a95fc4047ead5a9c3e50f68ae1d1
"
openstack%2Fopenstack-ansible-lxc_hosts~master~Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4,openstack/openstack-ansible-lxc_hosts,master,osa/el8,Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4,Remove machinectl from LXC cache prep,MERGED,2020-06-15 19:00:29.000000000,2020-07-02 17:15:37.000000000,2020-07-01 18:10:31.000000000,117,523,0,735656,da4f62b006177d67d9f5089938b27482d70acfb0,21,5,7,14,25023,Jonathan Rosser,jrosser,"Remove machinectl from LXC cache prep

machinectl is only used to store the image during
initial cache preparation and is unrelated to the
backing store used by LXC.

This patch removes the use of machinectl and btrfs
which makes the lxc_hosts role portable to centos-8
which does not have btrfs

Change-Id: Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4
"
openstack%2Fopenstack-ansible-os_placement~master~I36a0de736e266f53be1be02c4b07e741b46c819e,openstack/openstack-ansible-os_placement,master,osa/el8,I36a0de736e266f53be1be02c4b07e741b46c819e,Add Centos-8 support,MERGED,2020-06-16 10:58:25.000000000,2020-07-02 17:15:03.000000000,2020-07-01 15:08:50.000000000,1,1,0,735870,5bf27c4653ca9392f376a1fa0af7f328371826dc,11,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Centos-8 support

Change-Id: I36a0de736e266f53be1be02c4b07e741b46c819e
"
openstack%2Fansible-role-systemd_networkd~master~I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd,openstack/ansible-role-systemd_networkd,master,osa/el8,I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd,Add CentOS 8 support,MERGED,2020-06-20 07:06:32.000000000,2020-07-02 17:14:53.000000000,2020-07-01 15:16:05.000000000,43,0,1,737122,438e946a064074765b8dda560ff0ad5a2bee5bb8,19,4,6,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add CentOS 8 support

Change-Id: I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd
"
openstack%2Fopenstack-ansible-os_magnum~master~If5b234d43cf9519c523b2b4a1ed1e27978e03fa9,openstack/openstack-ansible-os_magnum,master,osa/el8,If5b234d43cf9519c523b2b4a1ed1e27978e03fa9,Add Centos-8 support,MERGED,2020-06-19 05:54:11.000000000,2020-07-02 17:14:43.000000000,2020-07-01 15:29:18.000000000,1,1,0,736937,372069994d0abfbca0e88a2cab469c7ad1a74c22,10,3,1,1,28752,Satish Patel,spatel,"Add Centos-8 support

Change-Id: If5b234d43cf9519c523b2b4a1ed1e27978e03fa9
"
openstack%2Fansible-role-uwsgi~master~Ie1fb51bf019db1527c6eb6e74c5c8ab6589764e2,openstack/ansible-role-uwsgi,master,osa/el8,Ie1fb51bf019db1527c6eb6e74c5c8ab6589764e2,Add Centos-8 support,MERGED,2020-06-16 13:11:37.000000000,2020-07-02 17:14:31.000000000,2020-07-01 14:52:05.000000000,1,1,0,735909,aad1a016968af473b81c66c36b74f9a5fe3e9751,11,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Centos-8 support

Change-Id: Ie1fb51bf019db1527c6eb6e74c5c8ab6589764e2
"
openstack%2Fopenstack-ansible-haproxy_server~master~I9f579e378effa92ce42ca6219ad7ec09e7feaecb,openstack/openstack-ansible-haproxy_server,master,osa/el8,I9f579e378effa92ce42ca6219ad7ec09e7feaecb,Add Centos-8 support,MERGED,2020-06-19 05:15:01.000000000,2020-07-02 17:14:19.000000000,2020-07-01 13:48:40.000000000,0,0,0,736931,5b589d3dae12f8563d8d0135c10098e60bf19bce,11,3,2,1,28752,Satish Patel,spatel,"Add Centos-8 support

Change-Id: I9f579e378effa92ce42ca6219ad7ec09e7feaecb
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~I35690f9a54337d6a268406ddcf6726f7040ac966,openstack/openstack-ansible-rabbitmq_server,master,osa/el8,I35690f9a54337d6a268406ddcf6726f7040ac966,Add Centos-8 support,MERGED,2020-06-15 10:21:25.000000000,2020-07-02 17:13:27.000000000,2020-06-25 17:55:31.000000000,27,6,0,735552,fc27e735a68b64cb3c67dd8abeaf324803a9845b,47,5,12,5,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Centos-8 support

Depends-On: https://review.opendev.org/734672
Depends-On: https://review.opendev.org/735289
Change-Id: I35690f9a54337d6a268406ddcf6726f7040ac966
"
openstack%2Fironic-python-agent~stable%2Ftrain~I7214fc9dbd903789c9e39ee809f05454aeb5a240,openstack/ironic-python-agent,stable/train,738532,I7214fc9dbd903789c9e39ee809f05454aeb5a240,Add timeout operations to try and prevent hang on read(),MERGED,2020-06-29 22:52:30.000000000,2020-07-02 16:56:06.000000000,2020-07-02 12:12:35.000000000,98,2,3,738532,db925ba08fa33694e5e43d6ea13fe371c4a7a500,30,4,6,3,11655,Julia Kreger,jkreger,"Add timeout operations to try and prevent hang on read()

Socket read operations can be blocking and may not timeout as
expected when thinking of timeouts at the beginning of a
socket request. This can occur when streaming file contents
down to the agent and there is a hard connectivity break.

In other words, we could be in a situation like:

- read(fd, len) - Gets data
- Select returns context to the program, we do things with data.
** hard connectivity break for next 90 seconds**
-  read(fd, len) - We drain the in-memory buffer side of the socket.
-  Select returns context, we do things with our remaining data
** Server retransmits **
** Server times out due to no ack **
** Server closes socket and issues a FIN,RST packet to the client **
** Connectivity restored, Client never got FIN,RST **
** Client socket still waiting for more data **
- read(fd, len) - No data returned
- Select returns, yet we have no data to act on as the buffer is
  empty OR the buffered data doesn't meet our requried read len value.
  tl;dr noop
- read(fd, len) <-- We continue to try and read until the socket is
                    recognized as dead, which could be a long time.

NOTE: The above read()s are python's read() on an contents being
      streamed. Lower level reads exist, but brains will hurt
      if we try to cover the dynamics at that level.

As such, we need to keep an eye on when the last time we
received a packet, and treat that as if we have timed out
or not. Requests periodically yeilds back even when no data
has been received, in order to allow the caller to wall
clock the progress/status and take appropriate action.

When we exceed the timeout time value with our wall clock,
we will fail the download.

(cherry picked from commit c5b97eb781cf9851f9abe87a1500b4da55b8bde8)
(cherry picked from commit 33c96d00661fd590e831310e1f0488e7185cf370)

This change incorporates the follow-up commit:

Fixes minor issues in the read() retries patch

Follow-up to commit c5b97eb781cf9851f9abe87a1500b4da55b8bde8.

Two things slipped through the cracks:
* ImageDownloadError was instantiated incorrectly, resulting in a wrong
  error message. This was uncovered by using assertRaisesRegext in tests.
* We allowed calling write(None). This was uncovered by avoiding sleep(4)
  in tests and enabling more failed calls before timeout.

(cherry picked from commit 00ad03b709275e185ccb5b8e80cb7db4b9071d56)

Co-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>
Change-Id: I7214fc9dbd903789c9e39ee809f05454aeb5a240
"
openstack%2Fironic~master~Ifeca377c3ada3372406ff90bd72d81f90e9bde21,openstack/ironic,master,python3-i-choose-you,Ifeca377c3ada3372406ff90bd72d81f90e9bde21,Explicitly use python3 for ironic_lib_prefix,MERGED,2020-06-30 12:57:10.000000000,2020-07-02 16:39:00.000000000,2020-07-02 16:30:44.000000000,1,1,0,738604,f1a4725fdd4cabb1863dd5e178f7fbb14f537093,36,8,2,1,23851,Riccardo Pittau,elfosardo,"Explicitly use python3 for ironic_lib_prefix

Recent changes to the CI made the python binary magically disappear
in Ubuntu Focal based nodes.
Since we currently support only python3 and the python3 binary is
(hopefully) always present in all current distributions, let's
switch the last python binary call to python3.

Change-Id: Ifeca377c3ada3372406ff90bd72d81f90e9bde21
"
openstack%2Fproject-config~master~I40a2b316f4f0a0d6d548c6ce05558fe44493e2c9,openstack/project-config,master,,I40a2b316f4f0a0d6d548c6ce05558fe44493e2c9,Add node-labeler to the vexxhost tenant,MERGED,2020-07-02 15:26:04.000000000,2020-07-02 16:38:01.000000000,2020-07-02 16:03:32.000000000,4,0,0,739071,e0545f74e885686dfda8f064f3d9e6cf6465ebb6,8,3,1,2,31746,Oleksandr Kozachenko,okozachenko,"Add node-labeler to the vexxhost tenant

Change-Id: I40a2b316f4f0a0d6d548c6ce05558fe44493e2c9
"
openstack%2Fkuryr-kubernetes~stable%2Frocky~Ie990da4e68e82d998768fa0c047cca4cccd59915,openstack/kuryr-kubernetes,stable/rocky,dragonflow,Ie990da4e68e82d998768fa0c047cca4cccd59915,Remove dragonflow,MERGED,2020-06-24 13:57:50.000000000,2020-07-02 16:21:58.000000000,2020-07-02 16:21:58.000000000,0,29,0,737797,77aa18e55489d67efcb5a93960a86ef4e6bfe663,15,4,1,1,11904,Sean McGinnis,SeanM,"Remove dragonflow

Dragonflow was removed from governance in 2018 and is now being retired.
This cleans up references to dragonflow jobs and configuration.

http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015600.html

This backport drops sample config file and docs changes and only removes
the zuul configuration since conceivable the project could still be used
with older branches.

Change-Id: Ie990da4e68e82d998768fa0c047cca4cccd59915
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit cded615f86bbf44597df62617a002329dfad74d3)
(cherry picked from commit 2bf9ca4599912454a86434675ee57ed522d47e60)
(cherry picked from commit 4b331132907e3b7bbc6d3ccc57d799ef0ff65101)
(cherry picked from commit e3eab6e653ce93b9c32ecadc6c54ddbde5f91b81)
"
openstack%2Fpuppet-tripleo~master~I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7,openstack/puppet-tripleo,master,bug/1884415,I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7,Enable to modify params of logrotate-crond.conf,MERGED,2020-06-21 13:53:16.000000000,2020-07-02 16:19:01.000000000,2020-07-02 16:08:45.000000000,13,1,0,737181,f6f878d4b36540ecc8b99552d3f5d14d92d509df,18,6,1,2,31804,Ryo Hayakawa,ryohayakawa,"Enable to modify params of logrotate-crond.conf

Parameters ""minsize"" and ""notifempty"" of /etc/logrotate-crond.conf
in the container logrotate_crond should be changeable even if this
doesn't	comply with GDPR. This is because there might be users who
don't want to comply with it for some reason such as their internal
rule, testing purpose, etc.

This patch adds the following Puppet hieradata.

tripleo::profile::base::logging::logrotate::minsize (default: 1)
tripleo::profile::base::logging::logrotate::notifempty (default: True)

Change-Id: I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7
Closes-Bug: #1884415
"
openstack%2Fkolla-ansible~stable%2Fussuri~I9c495773db726a3c5cd94b819dff4141737a1d6e,openstack/kolla-ansible,stable/ussuri,bug/1885885-stable/ussuri,I9c495773db726a3c5cd94b819dff4141737a1d6e,Set a chunk size for Fluentd bulk log upload to Monasca,MERGED,2020-07-02 11:51:45.000000000,2020-07-02 16:17:26.000000000,2020-07-02 16:14:41.000000000,20,0,0,739022,ea58710ff33984300ee3b2da16084abe68e06a5f,10,4,2,3,17669,Doug Szumski,DougSzumski,"Set a chunk size for Fluentd bulk log upload to Monasca

In Fluentd v0.12, both the in memory and file buffer chunk size default
to 8MB. In v1.0 the file buffer defaults to 256MB. This can exceed the
Monasca Log or Unified API maximum chunk size which is set to 10MB.
This can result in logs being rejected and filling the local buffer
on disk.

Change-Id: I9c495773db726a3c5cd94b819dff4141737a1d6e
Closes-Bug: #1885885
Co-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>
(cherry picked from commit 2c919bc61ca7a903e93372604fa0e770f95b0d52)
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I6148511eb6ad1e3798a7bf40c721824830c7073d,openstack/python-tripleoclient,stable/ussuri,ffwd-upgrade2-stable/ussuri,I6148511eb6ad1e3798a7bf40c721824830c7073d,Refactor upgrade prepare and converge.,MERGED,2020-06-22 17:21:55.000000000,2020-07-02 16:13:37.000000000,2020-07-02 16:08:48.000000000,24,63,0,737328,62cb0e5d9206d73eaa25c23d1c961f2f63dd141d,21,9,2,2,26343,Jose Luis Franco,jfrancoa,"Refactor upgrade prepare and converge.

As we aren't required to re-deploy any more during the converge step
the actions performed by the Upgrade Converge and Prepare are exactly
the same, the only difference is the lifecycle environment file we
use to set and unset parameters.

This patch refactors both classes, the UpgradePrepare and UpgradeConverge
clasess:

- UpgradePrepare: Stop forcing update-plan-only and then try to do most of the
actions from deployment into UpgradePrepare. This change will force config_download
to false (which will avoid running the full deployment and do only an stack update),
then download the config by invoking get_config from utils and lastly enable ssh
into overcloud nodes, as that part is perforemd in deployment only if config_download
is set to true. Add new attributes to UpgradePrepare so we can override them in
UpgradeConverge via inheritence.

- UpgradeConverge: Inherit from UpgradePrepare instead of DeployOvercloud. Set the
right value for the class attributes and let UpgradePrepare class do all the magic.

Change-Id: I6148511eb6ad1e3798a7bf40c721824830c7073d
(cherry picked from commit 8d2cc4b3d8a780c58ff82fc41d583d255d0ac94e)
"
openstack%2Fansible-collections-openstack~master~Ifa8267bd58102311d50bb9647d0d944730a2e7ce,openstack/ansible-collections-openstack,master,refact,Ifa8267bd58102311d50bb9647d0d944730a2e7ce,security_group_rule: use OpenStackModule,ABANDONED,2020-07-02 16:07:48.000000000,2020-07-02 16:12:13.000000000,,110,108,0,739086,1dd442833c90465ea16dad0a5ee820f253618670,2,0,1,1,9268,Gonéri Le Bouder,goneri,"security_group_rule: use OpenStackModule

Refactoring of security_group_rule to depend on the OpenStackModule
class.

Change-Id: Ifa8267bd58102311d50bb9647d0d944730a2e7ce
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I94350324d32af477bbbb69314a93d22668bfad4d,openstack/python-tripleoclient,stable/ussuri,mistral_to_ansible-stable/ussuri,I94350324d32af477bbbb69314a93d22668bfad4d,Don't run get_config() in update/upgrade prepare,MERGED,2020-06-22 17:15:12.000000000,2020-07-02 16:10:55.000000000,2020-07-02 16:08:47.000000000,0,10,0,737326,8298cc11c1391fa707f72407491d05a64bd3ccba,30,10,2,3,26343,Jose Luis Franco,jfrancoa,"Don't run get_config() in update/upgrade prepare

This is done again in update/upgrade run. It seems redundant to
do it in prepare step.

Change-Id: I94350324d32af477bbbb69314a93d22668bfad4d
(cherry picked from commit eb6c831f5f79da7b839646fa47818556baec7f1b)
"
openstack%2Fcharm-cinder~master~I69f15c3fd164f7114f5498d100b2832caf93fb00,openstack/charm-cinder,master,bug/1779310,I69f15c3fd164f7114f5498d100b2832caf93fb00,Ensure API not configured on volume-only units,MERGED,2020-06-30 15:43:11.000000000,2020-07-02 15:39:17.000000000,2020-07-02 15:39:17.000000000,388,42,13,738651,71f968faf1f5d8e9a307e7f1d391a699875ed5c1,19,4,3,5,24890,Alvaro Uría,aluria,"Ensure API not configured on volume-only units

COMMON_PACKAGES included haproxy and apache2. However, enabled-services
can request a unit to only run cinder-volume. Cinder API related
services should not run or get monitored.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/337

Change-Id: I69f15c3fd164f7114f5498d100b2832caf93fb00
Closes-Bug: #1779310
"
openstack%2Fbarbican~master~I8a5d202f903e89e19106ccdda11fc30522892e7f,openstack/barbican,master,docs,I8a5d202f903e89e19106ccdda11fc30522892e7f,Ussuri contrib docs community goal,MERGED,2020-06-10 21:39:55.000000000,2020-07-02 15:28:25.000000000,2020-07-02 15:23:39.000000000,204,0,10,734983,71bad5df0637e8450973feab01e6734103500f04,26,5,7,2,27954,Moisés Guimarães de Medeiros,moguimar,"Ussuri contrib docs community goal

This patch standardizes the CONTRIBUTING.rst file and adds the
required doc/source/contributor/contributing.rst

Task: 38514
Change-Id: I8a5d202f903e89e19106ccdda11fc30522892e7f
"
openstack%2Fdevstack~master~I729de5f2ad319ae43c300ebdba84e0c8b3defa71,openstack/devstack,master,work_with_rdo_image,I729de5f2ad319ae43c300ebdba84e0c8b3defa71,Make devstack work with RDO overcloud-full images,NEW,2020-07-01 17:43:22.000000000,2020-07-02 15:24:49.000000000,,3,3,2,738905,ccef9a6e9e930a7f69352e7700f799bd10dfb57b,8,8,1,1,10250,Christopher Dearborn,cdearbor,"Make devstack work with RDO overcloud-full images

This patch tweaks devstack so that it works with RDO overcloud-full
images. RDO overcloud-full images are convenient to use when developing
with baremetal as it contains hardware drivers that are not included
with other images.

Change-Id: I729de5f2ad319ae43c300ebdba84e0c8b3defa71
"
openstack%2Fkolla-ansible~stable%2Ftrain~I20b37bb83a76bfabb1126925a1b4f1f59767b7a3,openstack/kolla-ansible,stable/train,bug/1885873-stable/train,I20b37bb83a76bfabb1126925a1b4f1f59767b7a3,Syntax error in Fluentd Monasca output config,MERGED,2020-07-01 12:10:07.000000000,2020-07-02 15:06:22.000000000,2020-07-02 15:04:04.000000000,1,1,0,738836,6cbd4c5203a6106253ebfcf6bb8b93bdca91b664,12,5,2,1,17669,Doug Szumski,DougSzumski,"Syntax error in Fluentd Monasca output config

Resolve trivial syntax error in Fluentd output config for Monasca.

Change-Id: I20b37bb83a76bfabb1126925a1b4f1f59767b7a3
Co-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>
Closes-Bug: #1885873
(cherry picked from commit 6c1ce76bb8966420394319a9dbc7701dd7d10212)
"
openstack%2Fkolla-ansible~stable%2Fussuri~I20b37bb83a76bfabb1126925a1b4f1f59767b7a3,openstack/kolla-ansible,stable/ussuri,bug/1885873-stable/ussuri,I20b37bb83a76bfabb1126925a1b4f1f59767b7a3,Syntax error in Fluentd Monasca output config,MERGED,2020-07-01 12:07:28.000000000,2020-07-02 15:03:23.000000000,2020-07-02 15:01:15.000000000,1,1,0,738835,f6a70e666bdfe91a0fd4f379c0bb67333ac70016,14,5,2,1,17669,Doug Szumski,DougSzumski,"Syntax error in Fluentd Monasca output config

Resolve trivial syntax error in Fluentd output config for Monasca.

Change-Id: I20b37bb83a76bfabb1126925a1b4f1f59767b7a3
Co-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>
Closes-Bug: #1885873
(cherry picked from commit 6c1ce76bb8966420394319a9dbc7701dd7d10212)
"
openstack%2Fkolla-ansible~stable%2Ftrain~I74359cec7147a80db24eb4aa4156c35d31a026bf,openstack/kolla-ansible,stable/train,internalURL-stable/ussuri-stable/train,I74359cec7147a80db24eb4aa4156c35d31a026bf,Use public interface for Magnum client and trustee Keystone interface,MERGED,2020-07-01 16:20:26.000000000,2020-07-02 14:59:31.000000000,2020-07-02 14:54:06.000000000,5,5,0,738882,8418b5ae83c5016bc7b0879dee4e9c7c3b8092f7,11,4,1,2,30491,Radosław Piliszek,yoctozepto,"Use public interface for Magnum client and trustee Keystone interface

While all other clients should use internalURL, the Magnum client itself
and Keystone interface for trustee credentials should be publicly
accessible (upstream default when no config is specified) since
instances need to be able to reach them.

Closes-Bug: #1885420
Change-Id: I74359cec7147a80db24eb4aa4156c35d31a026bf
(cherry picked from commit 78bb5942649507f4340e562ce8fa2a766ca2bc4e)
"
openstack%2Fopenstack-ansible-lxc_container_create~master~I13605f21497c7eb8e2dd569ab90e2466bce8ac3e,openstack/openstack-ansible-lxc_container_create,master,,I13605f21497c7eb8e2dd569ab90e2466bce8ac3e,Fix tmpfiles-setup wait handler,MERGED,2020-07-02 11:59:06.000000000,2020-07-02 14:59:12.000000000,2020-07-02 14:56:20.000000000,2,2,0,739024,faedebd48b7cc5c91f40380df4ae8e8b40d0081c,10,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix tmpfiles-setup wait handler

Precess column was present only for CentOS 8 and is not applicable for
other distros. In the meanwhile Active column is present in all distros.

Change-Id: I13605f21497c7eb8e2dd569ab90e2466bce8ac3e
"
openstack%2Fkolla-ansible~stable%2Fstein~I74359cec7147a80db24eb4aa4156c35d31a026bf,openstack/kolla-ansible,stable/stein,internalURL-stable/ussuri-stable/train-stable/stein,I74359cec7147a80db24eb4aa4156c35d31a026bf,Use public interface for Magnum client and trustee Keystone interface,MERGED,2020-07-01 16:20:39.000000000,2020-07-02 14:41:43.000000000,2020-07-02 14:37:30.000000000,5,5,0,738883,9b82c0f557cd77fc54f8d07eab849eb3d91118d8,10,4,1,2,30491,Radosław Piliszek,yoctozepto,"Use public interface for Magnum client and trustee Keystone interface

While all other clients should use internalURL, the Magnum client itself
and Keystone interface for trustee credentials should be publicly
accessible (upstream default when no config is specified) since
instances need to be able to reach them.

Closes-Bug: #1885420
Change-Id: I74359cec7147a80db24eb4aa4156c35d31a026bf
(cherry picked from commit 78bb5942649507f4340e562ce8fa2a766ca2bc4e)
"
openstack%2Fironic~master~Ie65345ac018caa4a0d829464c45ccf8ddab57b9a,openstack/ironic,master,,Ie65345ac018caa4a0d829464c45ccf8ddab57b9a,implement patch code for Enton Power SNMP driver Story: 2005317 Task: 30337,ABANDONED,2019-04-04 08:09:06.000000000,2020-07-02 14:38:55.000000000,,6,6,3,649913,7c6b2668354810bdf9967a9e4944bcf3d3070a5f,12,8,1,1,29792,Jerry Wang,junyiwan-gtc,"implement patch code for Enton Power SNMP driver
Story: 2005317
Task: 30337

Change-Id: Ie65345ac018caa4a0d829464c45ccf8ddab57b9a
"
openstack%2Fopenstack-ansible-os_keystone~master~I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9,openstack/openstack-ansible-os_keystone,master,idp-improvements,I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9,Identity providers can be created with specified domain,ABANDONED,2020-06-18 15:01:10.000000000,2020-07-02 14:36:23.000000000,,3,0,0,736741,2b4a4587017e7c2fb463709d0de89e6b91ac7d77,22,3,3,2,29865,Georgina Shippey,gshippey,"Identity providers can be created with specified domain

IDPs are linked to a keystone domain. Currently when we provision a new IDP
it gets created within a new autogenerated domain. Provisioners can now
give a domain_id in an IDP entry within the trusted_idp_list and the IDP
will be created within that domain.

Depends-On: https://review.opendev.org/734672
Depends-On: https://review.opendev.org/735289
Depends-On: If761dd4faf63cf09d436d9e0a22f7e90cec9a105

Add IDP display_name to defaults

Allows operator a name different to the one used in the backend
to display to the user in the horizon Identity Provider dropdown.

Depends-On: https://review.opendev.org/#/c/736739/
Change-Id: I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9
"
openstack%2Foslo.messaging~stable%2Fussuri~Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,openstack/oslo.messaging,stable/ussuri,,Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,Simplify tools/test-setup.sh,MERGED,2020-07-02 07:50:55.000000000,2020-07-02 14:35:42.000000000,2020-07-02 14:30:09.000000000,22,39,0,738976,dfcc4b0010d39d1f16be413bb1c3a4808718cd19,11,6,1,3,17685,Elod Illes,elod.illes,"Simplify tools/test-setup.sh

test-setup.sh is called after bindep is run in CI, and tox is not setup.

Simplify the script so that it only does what's needed - install
qdrouterd for Ubuntu from qpid/testing.

Install the other packages using bindep, add test to amqp1 profile.

Add amqp1 to bindep_profiles where needed for scenario tests, previously
test-setup.sh added it everywhere.

NOTE(elod.illes): skip annotation removed from test_impl_rabbit.py, as
kombu is constrained in ussuri with the version that does not need any
test to skip.

Change-Id: Ic3a9e2c873619670edfbf71022d593f3cb5f70f2
Related-Bug: #1885923
(cherry picked from commit 7e406c312a6514e7ae377edb52b9e02b5bf37a7d)
"
openstack%2Fkolla~master~I2f66cdf18f2a845d97ad3512a35c7de040ace444,openstack/kolla,master,wip/infra-images,I2f66cdf18f2a845d97ad3512a35c7de040ace444,introduce non-infra-base image,ABANDONED,2020-02-13 10:03:22.000000000,2020-07-02 14:24:51.000000000,,13,4,0,707599,cdc3ffa98276abc4e83daebb2413a80aa9c11bd6,45,7,11,4,24072,Marcin Juszkiewicz,hrw,"introduce non-infra-base image

To make sure that all our infrastructure images are the same for
binary/source builds we need to have exactly same 'base' image.

The only difference are KOLLA_INSTALL* variables. So let's move them to
new 'non-infra-base' image and rebase 'openstack-base' and
'kolla-toolbox' ones on it.

Implements: blueprint infra-images

Change-Id: I2f66cdf18f2a845d97ad3512a35c7de040ace444
"
openstack%2Fcharm-mysql-router~master~I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5,openstack/charm-mysql-router,master,feature/tls,I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5,Enable MySQL TLS,MERGED,2020-06-30 22:38:05.000000000,2020-07-02 14:13:02.000000000,2020-07-02 14:13:02.000000000,29,17,0,738713,dd63909c1ccc69907024753ec1b825917cf8298b,19,4,3,4,20805,David Ames,thedac,"Enable MySQL TLS

Enable passing the certificate authority on the relation in order to
enable TLS communication to the MySQL DB.

Depends-On: I785afe7f64cb57caa857178d529e3cabdcf63517
Change-Id: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5
"
openstack%2Fkolla~stable%2Fussuri~I2559267d120081f2e5eabc9d966b019517a5ad5d,openstack/kolla,stable/ussuri,,I2559267d120081f2e5eabc9d966b019517a5ad5d,CentOS/AArch64: RabbitMQ is back!,MERGED,2020-06-23 10:00:33.000000000,2020-07-02 14:11:56.000000000,2020-07-02 14:10:17.000000000,5,10,0,737481,41aea37c055542d65d490966c5ff5a1301ac8233,13,3,1,4,24072,Marcin Juszkiewicz,hrw,"CentOS/AArch64: RabbitMQ is back!

CentOS 8.2 has Erlang and RabbitMQ available in 'messaging/rabbitmq-38'
repository. We use it to grab Erlang while RabbitMQ comes from upstream
(like on x86-64).

Change-Id: I2559267d120081f2e5eabc9d966b019517a5ad5d
(manual cherrypick from master)
"
openstack%2Fopenstack-helm~master~Idf6624bfdb835589f960aa9b1008c8d438764869,openstack/openstack-helm,master,update-scripts,Idf6624bfdb835589f960aa9b1008c8d438764869,Update AIO scripts to use minikube,ABANDONED,2020-06-28 23:00:49.000000000,2020-07-02 14:05:52.000000000,,1,2,0,738365,64b17f084c72caa66ccbfad2126b39310e0f2a6e,6,4,1,1,21420,Gage Hugo,ghugo,"Update AIO scripts to use minikube

The gate currently deploys OSH via minikube, and the kubeadm deployment
appears to currently be broken since it goes untested.

This change updates the AIO scripts to point to the minikube install script
rather than kubeadm.

Change-Id: Idf6624bfdb835589f960aa9b1008c8d438764869
"
openstack%2Ftripleo-common~stable%2Fussuri~Iac7c15572f83e77241bbc1469d3e3debc8ac011b,openstack/tripleo-common,stable/ussuri,bug/1884123-stable/ussuri,Iac7c15572f83e77241bbc1469d3e3debc8ac011b,Set undercloud ansible_connection to local,MERGED,2020-06-24 11:29:33.000000000,2020-07-02 13:57:24.000000000,2020-07-02 13:54:21.000000000,0,1,0,737748,93cba1fc6e7701f5b02b19218dff5f4cd2bbd727,16,5,2,1,18002,John Fulton,fultonj,"Set undercloud ansible_connection to local

The Ansible undercloud connection defaults to local but
the inventory object constructor overrode it to SSH for
Mistral. Now that Mistral has been removed we can remove
the override and use local. This also avoids permission
conflicts between the default ansible_ssh_user and the
user running the playbook as per the bug this patch
closes.

Change-Id: Iac7c15572f83e77241bbc1469d3e3debc8ac011b
Closes-Bug:  #1884123
(cherry picked from commit 97c7d26721894cfe12a5397c789b9da1ae2d1ab0)
"
openstack%2Fpuppet-tripleo~master~I70d2ef2a64f0a46203d7a60b564eaa287e5708d6,openstack/puppet-tripleo,master,,I70d2ef2a64f0a46203d7a60b564eaa287e5708d6,Fix haproxy ceph dashboard condition,MERGED,2020-06-25 11:29:18.000000000,2020-07-02 13:46:19.000000000,2020-07-02 13:42:24.000000000,2,2,0,737983,a21b5ee7ce44270828a12b823b33e5e4117bf4c1,27,11,2,1,25402,Francesco Pantano,fmount,"Fix haproxy ceph dashboard condition

If grafana is not enabled in the overcloud the
dashboard section shouldn't be created. We
currently hit an issue during upgrades because
the haproxy exists (because of ceph_mgr_enabled)
even though the dashboard bits aren't deployed.
Using the same condition for both services should
be safe enough.

Closes-Bug: #1885122
Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
Change-Id: I70d2ef2a64f0a46203d7a60b564eaa287e5708d6
"
openstack%2Fneutron~master~I82d67847c71d276184026e5af5787235228035c0,openstack/neutron,master,add_macvtap_privsep,I82d67847c71d276184026e5af5787235228035c0,Config privsep in the macvtap agent,MERGED,2020-06-30 13:51:28.000000000,2020-07-02 13:43:59.000000000,2020-07-02 13:39:41.000000000,2,0,0,738627,4c04e60d45b7ac39523de749cb38b02646866737,12,7,1,1,8037,renminmin,renminmin,"Config privsep in the macvtap agent

The commands executed under a privsep context,
privsep should be initialized first.

Change-Id: I82d67847c71d276184026e5af5787235228035c0
"
openstack%2Fneutron~master~If9e4c1513553c4bd10fd3b91c28c4d3f806ed816,openstack/neutron,master,task/40047,If9e4c1513553c4bd10fd3b91c28c4d3f806ed816,"Migrate ""netstat"" to oslo.privsep",MERGED,2020-06-11 15:09:15.000000000,2020-07-02 13:42:07.000000000,2020-07-02 13:39:34.000000000,162,87,6,735169,0c1818fbb02b5ff6a9a5157d4bbb58314242c806,49,8,5,6,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Migrate ""netstat"" to oslo.privsep

Change-Id: If9e4c1513553c4bd10fd3b91c28c4d3f806ed816
Story: #2007686
Task: #40047
"
openstack%2Fironic-python-agent~master~Id1adfe09cce5122088f7969e0acf593378ada645,openstack/ironic-python-agent,master,bug/495385,Id1adfe09cce5122088f7969e0acf593378ada645,[Test]DNM Testing if TinyIPA builds with py3,ABANDONED,2017-10-04 21:40:13.000000000,2020-07-02 13:25:48.000000000,,0,0,0,509652,31a559f3d13c990e1cb1efad04f0f6dfbe4dc7fd,49,4,13,1,19593,Anup Navare,anup,"[Test]DNM Testing if TinyIPA builds with py3

Depends-On: I4eb33a65bdeb505b323067956412217289956de8
Depends-On: Ib05e3332f032c1c14ae2cee02015614fc171cb32
Change-Id: Id1adfe09cce5122088f7969e0acf593378ada645
Related-Bug: #495385
"
openstack%2Fironic-lib~master~I4808c3c517c8f9d865bccbb00569905f81230392,openstack/ironic-lib,master,bug/1670239,I4808c3c517c8f9d865bccbb00569905f81230392,Retry when execute partprobe cmd failed,ABANDONED,2017-03-09 12:29:31.000000000,2020-07-02 13:22:27.000000000,,172,12,113,443604,0daf04b8c11003442e925e347b1db8c4ba71d19c,81,14,13,2,15333,Hao Li,lihao,"Retry when execute partprobe cmd failed

When using IPA shell/write_image.sh, after executing ""sgdisk -Z""
and ""qemu-img convert"" for cleaning out all partition data and
install User-OS into harddisk, executing ""partprobe"" may meet
error. Now ""qemu-img convert"" does automatically what ""partprobe""
does. Explicit ""partprobe"" call could fail because the hard-disk
device is blocked/busy. This situation occurs because kernel is
still busy with the preceding task that was triggered
automatically by the partitioning tool.
If ""partprobe"" meets ""unable to inform the kernel of the change""
error, waiting for 60 seconds and trying again is a good solution.
If other error occurs, just raise an exception.
Why we had not used the ""udevadm settle"" before executing
""partprobe"". This is because ""udevadm settle"" is event driven,
udev events happen at arbitrary time. If udev event(partition
succeed) is ""too late"", ""udevadm settle"" will exit soon,
regardless that partition event maybe not occur.

Change-Id: I4808c3c517c8f9d865bccbb00569905f81230392
closes-Bug: #1670239
"
openstack%2Fneutron~master~I715172e6bd64fcdd34ce10956fd4fdc20887a70a,openstack/neutron,master,bug/1492714,I715172e6bd64fcdd34ce10956fd4fdc20887a70a,"Implement ""RouterInfo.update_routing_table"" with Pyroute2",MERGED,2020-06-08 18:10:30.000000000,2020-07-02 13:21:21.000000000,2020-07-02 13:16:26.000000000,34,35,2,734166,998b22b38353c6296529e7abf9bb1184aa838868,41,9,3,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Implement ""RouterInfo.update_routing_table"" with Pyroute2

Change-Id: I715172e6bd64fcdd34ce10956fd4fdc20887a70a
Related-Bug: #1492714
"
openstack%2Fneutron~master~Ia90f2ee435b0a3476dbea028d3200cefe11e35e4,openstack/neutron,master,bug/1883089,Ia90f2ee435b0a3476dbea028d3200cefe11e35e4,[L3] Check agent gateway port robustly,MERGED,2020-06-13 15:37:45.000000000,2020-07-02 13:19:09.000000000,2020-07-02 13:16:22.000000000,38,1,3,735432,5fdfd4cbfc56425c56b4a5702d92a97da56ab6e8,31,9,3,2,9531,liuyulong,LIU-Yulong,"[L3] Check agent gateway port robustly

In patch [1] it introduced a binding of DB uniq constraint for L3
agent gateway. In some extreme case the DvrFipGatewayPortAgentBinding
is in DB while the gateway port not. The current code path only checks
the binding existence which will pass a ""None"" port to the following
code path that results an AttributeError. This patch adds a simple check
for that gateway port, if it is not created, new one.

[1] https://review.opendev.org/#/c/702547/

Closes-Bug: #1883089
Change-Id: Ia90f2ee435b0a3476dbea028d3200cefe11e35e4
"
openstack%2Fneutron-dynamic-routing~master~I85e5f1437c0962ba089e767987e2be0c64d36433,openstack/neutron-dynamic-routing,master,,I85e5f1437c0962ba089e767987e2be0c64d36433,fix tox python3 overrides,ABANDONED,2018-07-26 15:24:27.000000000,2020-07-02 12:58:41.000000000,,10,0,0,586268,e1c0ce071b2a49119691ac762e0abff9ce3f69b1,11,5,3,1,28543,shupeng,Vieri,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Co-Authored-By: qingszhao <zhao.daqing@99cloud.net>
Co-Authored-By: 98k <18552437190@163.com>

Change-Id: I85e5f1437c0962ba089e767987e2be0c64d36433
"
openstack%2Fcharm-neutron-api-plugin-arista~master~I70116fa3a2501258f6176b30094e8ddce25a8021,openstack/charm-neutron-api-plugin-arista,master,readme,I70116fa3a2501258f6176b30094e8ddce25a8021,Minor readme improvement,MERGED,2020-07-02 12:26:24.000000000,2020-07-02 12:57:00.000000000,2020-07-02 12:56:59.000000000,1,1,0,739028,72397cfeeecfabe19cfd94d5b24ce1993cf529f2,6,2,1,1,31289,Aurelien Lourot,lourot,"Minor readme improvement

Change-Id: I70116fa3a2501258f6176b30094e8ddce25a8021
"
openstack%2Frally~master~Ifc0f70adf3a426314ff6df41c58b6aa5aeca17fb,openstack/rally,master,sphinx,Ifc0f70adf3a426314ff6df41c58b6aa5aeca17fb,Fix pygments style,MERGED,2020-06-23 09:05:18.000000000,2020-07-02 12:56:11.000000000,2020-07-02 12:56:11.000000000,1,1,0,737461,7b268d60119113ed89107815b50dc496aaea9af8,13,3,2,1,17130,melissaml,malei,"Fix pygments style

New theme of docs respects pygments_style.

more info: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: Ifc0f70adf3a426314ff6df41c58b6aa5aeca17fb
"
openstack%2Fkolla-ansible~stable%2Ftrain~I9d6758c8550308d13d936de1a14afbe4124e593b,openstack/kolla-ansible,stable/train,es-curator-schedule-multinode-stable/ussuri-stable/train,I9d6758c8550308d13d936de1a14afbe4124e593b,Make ES Curator schedule multinode-friendly,MERGED,2020-07-01 16:19:35.000000000,2020-07-02 12:41:55.000000000,2020-07-02 12:38:48.000000000,12,4,0,738879,5011b6bd1effb123f221764fb40a5a7aef284e27,10,3,1,1,30491,Radosław Piliszek,yoctozepto,"Make ES Curator schedule multinode-friendly

In the spirit of Kolla-Ansible, we generally try to provide
workable defaults.
The default for Elasticsearch curator schedule was fine except for
multinode deploys where it would cause all nodes to run at the
same time producing broken runs (race condition in the get-delete
cycle).
It is easy to improve this situation by embracing poor-man's
reimplementation of keystone's fernet key rotation schedule.
ES Curator does not need all the complexity of the former so it
can be handled very well by shifting by as many hours as the
instance's index dictates. It should rarely if ever need more time
(most likely still in minutes range rather than hours).

Change-Id: I9d6758c8550308d13d936de1a14afbe4124e593b
(cherry picked from commit b82eb1b3936dd305f9826c5d23655273fa10bb0e)
"
openstack%2Fkolla-ansible~stable%2Fussuri~I74359cec7147a80db24eb4aa4156c35d31a026bf,openstack/kolla-ansible,stable/ussuri,internalURL-stable/ussuri,I74359cec7147a80db24eb4aa4156c35d31a026bf,Use public interface for Magnum client and trustee Keystone interface,MERGED,2020-07-01 16:20:16.000000000,2020-07-02 12:41:48.000000000,2020-07-02 12:38:50.000000000,5,5,0,738880,6a0a4877e8bc87144ced35a18a76dca8423083a4,10,4,1,2,30491,Radosław Piliszek,yoctozepto,"Use public interface for Magnum client and trustee Keystone interface

While all other clients should use internalURL, the Magnum client itself
and Keystone interface for trustee credentials should be publicly
accessible (upstream default when no config is specified) since
instances need to be able to reach them.

Closes-Bug: #1885420
Change-Id: I74359cec7147a80db24eb4aa4156c35d31a026bf
(cherry picked from commit 78bb5942649507f4340e562ce8fa2a766ca2bc4e)
"
openstack%2Frally~master~Ic5e4f41f142d978d5e85b27ea324805bef307983,openstack/rally,master,builds_fix,Ic5e4f41f142d978d5e85b27ea324805bef307983,Add ubuntu-focal install job,MERGED,2020-07-02 10:46:10.000000000,2020-07-02 12:36:19.000000000,2020-07-02 12:36:19.000000000,55,50,0,739016,8087d7caa1386a9d3da32e1199e7374576f7c528,10,2,5,3,9545,Andrey Kurilin,akurilin,"Add ubuntu-focal install job

Change-Id: Ic5e4f41f142d978d5e85b27ea324805bef307983
"
openstack%2Fironic~master~I993741684eaa8f237ffb20535da7167bc589e72c,openstack/ironic,master,basic-auth,I993741684eaa8f237ffb20535da7167bc589e72c,"ironic-standalone, use http basic auth for json-rpc",MERGED,2020-06-17 22:53:07.000000000,2020-07-02 12:21:01.000000000,2020-07-02 12:12:30.000000000,14,1,1,736398,da49cf69deb68aac49467d4054f56855c201f5db,40,9,4,2,4571,Steve Baker,steve-stevebaker,"ironic-standalone, use http basic auth for json-rpc

This change achieves functional test coverage for using http_basic
auth for json-rpc requests.

Since json-rpc is aimed at standalone environments, using http_basic
instead of keystone auth for internal requests is a more realistic
test scenario.

For now, ironic-standalone-redfish is left with the inherited keystone
auth strategy.

Change-Id: I993741684eaa8f237ffb20535da7167bc589e72c
Story: 2007656
Task: 39827
"
openstack%2Fopenstack-ansible~stable%2Fstein~Iaf4194eb4c7af76f9395b85267b83e68bb13ccae,openstack/openstack-ansible,stable/stein,bump_osa,Iaf4194eb4c7af76f9395b85267b83e68bb13ccae,Bump SHAs for stable/stein,MERGED,2020-06-28 15:27:46.000000000,2020-07-02 12:20:05.000000000,2020-07-02 12:17:41.000000000,53,53,0,738359,9a73b8d49501246d3dbb21c0469a7ec9e4ae9562,19,4,1,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump SHAs for stable/stein

Change-Id: Iaf4194eb4c7af76f9395b85267b83e68bb13ccae
"
openstack%2Fproject-config~master~Ic8930be87b3788bf4d341780cf72c8e782b2e20a,openstack/project-config,master,arista-trilio-github-mirror,Ic8930be87b3788bf4d341780cf72c8e782b2e20a,Mirror arista and trilio charms to GitHub,MERGED,2020-07-02 10:30:51.000000000,2020-07-02 12:15:10.000000000,2020-07-02 12:15:10.000000000,25,0,0,739009,b1fae6833bc2093c491b794915e98291e2e26fcb,8,4,1,1,31289,Aurelien Lourot,lourot,"Mirror arista and trilio charms to GitHub

Change-Id: Ic8930be87b3788bf4d341780cf72c8e782b2e20a
"
openstack%2Freleases~master~I0b60e7e66acda8efe93fa66114ea2c290e2caabe,openstack/releases,master,release-test,I0b60e7e66acda8efe93fa66114ea2c290e2caabe,Test for update-constraints,ABANDONED,2020-07-01 20:31:54.000000000,2020-07-02 11:55:46.000000000,,4,0,0,738935,bc6d189836ae9bbbcbc11d861654bf81d143069e,4,1,1,1,11904,Sean McGinnis,SeanM,"Test for update-constraints

Change-Id: I0b60e7e66acda8efe93fa66114ea2c290e2caabe
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fkolla-ansible~master~I9c495773db726a3c5cd94b819dff4141737a1d6e,openstack/kolla-ansible,master,bug/1885885,I9c495773db726a3c5cd94b819dff4141737a1d6e,Set a chunk size for Fluentd bulk log upload to Monasca,MERGED,2020-07-01 14:46:51.000000000,2020-07-02 11:51:45.000000000,2020-07-02 11:29:02.000000000,20,0,1,738859,2c919bc61ca7a903e93372604fa0e770f95b0d52,23,3,5,3,10910,Stig Telfer,stigtelfer,"Set a chunk size for Fluentd bulk log upload to Monasca

In Fluentd v0.12, both the in memory and file buffer chunk size default
to 8MB. In v1.0 the file buffer defaults to 256MB. This can exceed the
Monasca Log or Unified API maximum chunk size which is set to 10MB.
This can result in logs being rejected and filling the local buffer
on disk.

Change-Id: I9c495773db726a3c5cd94b819dff4141737a1d6e
Closes-Bug: #1885885
Co-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>
"
openstack%2Fdevstack~master~I9fcbc5105e443037fada1ef6a76a078145964256,openstack/devstack,master,cleanup-nova,I9fcbc5105e443037fada1ef6a76a078145964256,Cleanup VM instances during unstack,MERGED,2020-01-15 02:15:16.000000000,2020-07-02 11:30:06.000000000,2020-07-02 11:27:25.000000000,1,0,4,702570,85c5ec11c9526e0429163db5701d3ea8c096a324,19,6,1,1,841,Akihiro Motoki,amotoki,"Cleanup VM instances during unstack

Currently VMs created by a previous DevStack run still exists even
after re-run stack.sh. This leads to a failure in launching a VM after
the second run of stack.sh. We need to check the reason of the failure
by nova compute log and clean up remaining VMs. It is annoying.

IIRC we cleaned up existing VMs. While I failed to identify which commit
changed this behavior, I believe it is worth recovering it.

This commit changes unstack.sh to call cleanup_nova. cleanup_cinder()
already cleans up LVM volumes and some of them may be used by VMs,
so I believe it is reasonable to clean up VMs in unstack.sh.

Change-Id: I9fcbc5105e443037fada1ef6a76a078145964256
"
openstack%2Fironic-python-agent~master~Ie5b6e0abc3f266409562f9ecb26538126b667056,openstack/ironic-python-agent,master,story_2007618,Ie5b6e0abc3f266409562f9ecb26538126b667056,Mount all vfat partitions before calling grub2,MERGED,2020-05-05 15:27:18.000000000,2020-07-02 10:38:48.000000000,2020-07-02 10:37:04.000000000,73,6,6,725628,c5022790b3dca80c009e914aa07f3f879cd159b4,30,7,4,2,11292,Arne Wiebalck,wiebalck,"Mount all vfat partitions before calling grub2

In order to ensure grub2 finds all files it needs, mount all
vfat partitions specified in the deployed image.

Story: #2007618
Task: #39629
Change-Id: Ie5b6e0abc3f266409562f9ecb26538126b667056
"
openstack%2Fkolla-ansible~stable%2Ftrain~Ib54b261e12c409d66b792648807646015826e83c,openstack/kolla-ansible,stable/train,bug/1885732-stable/ussuri-stable/train,Ib54b261e12c409d66b792648807646015826e83c,Fix the Elasticsearch Curator cron schedule run,MERGED,2020-07-01 10:21:33.000000000,2020-07-02 10:23:50.000000000,2020-07-02 10:21:52.000000000,10,2,0,738783,f1af365daefdc6d77273d310726b43c6fa9a8084,17,4,2,3,30491,Radosław Piliszek,yoctozepto,"Fix the Elasticsearch Curator cron schedule run

There were two issues with it. Lack of /usr/local/bin in PATH
for CentOS and wrong crontab path for Ubuntu/Debian.
This patch mirrors how it is handled in keystone.

Change-Id: Ib54b261e12c409d66b792648807646015826e83c
Closes-Bug: #1885732
(cherry picked from commit 852c7a32c3a00d88243ef3b89ce19e6391a676b1)
"
openstack%2Fproject-config~master~I8ec33cefd5a83fe111d4d9b58c4088ef4b990dbe,openstack/project-config,master,tobiko-devstack,I8ec33cefd5a83fe111d4d9b58c4088ef4b990dbe,Create a new repository for Tobiko DevStack plugin,MERGED,2020-06-29 06:13:18.000000000,2020-07-02 10:22:35.000000000,2020-07-02 05:52:26.000000000,5,0,3,738378,c7ca7592a98b9b9e229f3e73521f5b12a4945a2e,26,5,6,2,27329,Federico Ressi,fressi_redhat,"Create a new repository for Tobiko DevStack plugin

Tobiko project repo (x/tobiko) grown fast since past few years
and from since a simple Python framework adquired additional
components that could be considered separate sub projects.

One of them is its DevStack plugin. As Tobiko can today connect
to an DevStack deployed cloud without requiring any configuration
this plugin has become optional and there this change serves
to the need of migrating it to its own location.

This new repo should also serve as location for DevStack related
Zuul jobs that are intended for running Tobiko test cases
against a DevStack provided cloud on OpenDev CI.

It this way we would also remove Zuul's dependency of Tobiko
main project jobs from DevStack project jobs helping making
a more granular an rational use of CI resources at the time
of submitting new changes to Tobiko main repo itself by triggering
build only when changing the framework or test cases, while
ignorin the rest of related dayly changes.

Change-Id: I8ec33cefd5a83fe111d4d9b58c4088ef4b990dbe
"
openstack%2Fdevstack~master~Iefe09e6915b4e073d6b95bca9c20fde33bf3af79,openstack/devstack,master,cinder-functional-tests,Iefe09e6915b4e073d6b95bca9c20fde33bf3af79,Glance: setup cinder store for glance_store gate functional test,ABANDONED,2016-06-15 08:27:13.000000000,2020-07-02 10:18:53.000000000,,39,9,2,329826,357df70716c636ee07496e56231bb389971b627e,42,8,7,2,9176,Tomoki Sekiyama,tsekiyama,"Glance: setup cinder store for glance_store gate functional test

When GLANCE_STORES and GLANCE_DEFAULT_STORE environment variables
are set, this will setup the stores and default_store based on
them. Otherwise, it will enable stores based on enabled services,
as it has done so far.

This will be used to enable glance cinder store for the
glance_store's functional test job.

Change-Id: Iefe09e6915b4e073d6b95bca9c20fde33bf3af79
Needed-by: I20dec7ec28844bb03887917320a7d1da296e36d7
"
openstack%2Fdevstack~master~Iadf56f5a8c09c5f0c33b8248da1e3989fbae13b4,openstack/devstack,master,bug/1722995,Iadf56f5a8c09c5f0c33b8248da1e3989fbae13b4,updated the command to create a stack user with passwordless privilages,ABANDONED,2017-10-12 09:38:47.000000000,2020-07-02 10:17:54.000000000,,4,7,2,511444,851c7af0860cda3d71851578e5fdefaa4512300c,17,6,4,1,26909,Deepika Upadhyay,deepika08,"updated the command to create a stack user with passwordless privilages

It is easier to use create-stack-user.sh script than remembering or typing the
stack user creation script , this commit replaces the command for adding a
stack user and giving passwordless privilage , to using the
create-stack-user.sh script.

Closes-Bug:#1722995
Implements: creation of a stack user with passwordless privilages
Change-Id: Iadf56f5a8c09c5f0c33b8248da1e3989fbae13b4
"
openstack%2Fdevstack~master~I8e30799eaae938093c955705334f5d035064307e,openstack/devstack,master,cleanup-test-image-python,I8e30799eaae938093c955705334f5d035064307e,[dnm] try plain bionic images,ABANDONED,2020-03-11 00:37:45.000000000,2020-07-02 10:17:11.000000000,,18,54,2,712211,ac1ccdd3b02b418c5f7ce686c9e0fd3b171b5ed5,27,2,11,1,7118,Ian Wienand,iwienand,"[dnm] try plain bionic images

Change-Id: I8e30799eaae938093c955705334f5d035064307e
"
openstack%2Freleases~master~I18d9c58dd398c717b3843f304407f41f1a75f87b,openstack/releases,master,oslo-utils-train,I18d9c58dd398c717b3843f304407f41f1a75f87b,release oslo.utils 3.41.6 for train,MERGED,2020-06-30 10:04:24.000000000,2020-07-02 10:16:04.000000000,2020-07-02 10:16:03.000000000,4,0,0,738576,239c66d273ab8e3a25e8d52ae6cbc1f2f92bee58,11,4,1,1,28522,Hervé Beraud,hberaud,"release oslo.utils 3.41.6 for train

Will release a bugfix https://review.opendev.org/#/c/734841/

Change-Id: I18d9c58dd398c717b3843f304407f41f1a75f87b
"
openstack%2Fdevstack~master~I1f89a220c31c8b51a2276aacb2cf8084d6c313e8,openstack/devstack,master,glance_wsgi,I1f89a220c31c8b51a2276aacb2cf8084d6c313e8,Add option for glance wsgi mode,ABANDONED,2019-03-27 05:54:32.000000000,2020-07-02 10:13:26.000000000,,9,4,2,648007,0efcd5f1376cac615d0b9d68de0b957b411de6ab,15,6,2,1,13370,Adam Zhang,adam.zhang,"Add option for glance wsgi mode

Currently glance use wsgi_mode to control to use standalone mode or
in uwsgi mode which is global option that controls other service as
well.
Adding option for glance so that it can choose wsgi mode independantly.
Its default value is set to uwsgi for compatibility, but user should
favor standalone mode according to suggestion:
https://docs.openstack.org/glance/latest/admin/apache-httpd.html

Change-Id: I1f89a220c31c8b51a2276aacb2cf8084d6c313e8
"
openstack%2Fdevstack~master~I29b688681b019a3240837b3b592d48da7a9353da,openstack/devstack,master,distro-support,I29b688681b019a3240837b3b592d48da7a9353da,Add Fedora 29 support,ABANDONED,2018-11-03 03:14:05.000000000,2020-07-02 10:08:59.000000000,,1,1,5,615364,b789ea8dd6a6b9c1fedcd9ce2e74ebd8b65eef9e,11,8,1,1,29369,erus,erus,"Add Fedora 29 support

Fedora 29 has just released and it had not support on devstack
installation, support were only for fedora 27 and 29.
Running the stack.sh script threw an error that it has not been
tested on fedora 29, and asked to run it with FORCE=yes.

This change add Fedora 29 as a supported distro version.

Change-Id: I29b688681b019a3240837b3b592d48da7a9353da
"
openstack%2Freleases~master~Iacef0d28f9e58e6ced07515ebf9bb497a1d5b3ac,openstack/releases,master,oslo-29-06-ussuri,Iacef0d28f9e58e6ced07515ebf9bb497a1d5b3ac,release oslo for ussuri serie - 2020 June 29,MERGED,2020-06-29 08:12:32.000000000,2020-07-02 10:08:36.000000000,2020-07-02 10:08:36.000000000,8,0,0,738390,4a0ab5703f132a940c02cc3ad8bba7d6da5e7614,10,4,1,2,28522,Hervé Beraud,hberaud,"release oslo for ussuri serie - 2020 June 29

Change-Id: Iacef0d28f9e58e6ced07515ebf9bb497a1d5b3ac
"
openstack%2Fcloudkitty-dashboard~stable%2Fussuri~Ib8eb67a379a228194bf9629e39b955727df0dd9b,openstack/cloudkitty-dashboard,stable/ussuri,create-ussuri,Ib8eb67a379a228194bf9629e39b955727df0dd9b,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-04-24 18:19:26.000000000,2020-07-02 10:06:04.000000000,2020-07-02 10:02:22.000000000,1,1,0,722997,8a7b700bda5994d5c854df55edc8cda5819811f2,8,2,1,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ib8eb67a379a228194bf9629e39b955727df0dd9b
"
openstack%2Fcloudkitty-dashboard~stable%2Fussuri~Ifabecbac1ea19e4d5efd2939bcca99d1690764bc,openstack/cloudkitty-dashboard,stable/ussuri,create-ussuri,Ifabecbac1ea19e4d5efd2939bcca99d1690764bc,Update .gitreview for stable/ussuri,MERGED,2020-04-24 18:19:24.000000000,2020-07-02 10:04:24.000000000,2020-07-02 10:02:21.000000000,1,0,0,722995,3c1f2afa9664aa9d10c8580efe46a7c0df6484ed,8,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/ussuri

Change-Id: Ifabecbac1ea19e4d5efd2939bcca99d1690764bc
"
openstack%2Fcloudkitty-dashboard~master~I27738b8b5c2ad4af1df59d853bd51ae5f7abc84a,openstack/cloudkitty-dashboard,master,add-victoria-python-jobtemplates,I27738b8b5c2ad4af1df59d853bd51ae5f7abc84a,Add Python3 victoria unit tests,MERGED,2020-04-24 18:19:31.000000000,2020-07-02 10:04:12.000000000,2020-07-02 10:00:21.000000000,1,1,0,723002,dad03a96538c8bb89f0812912667a02d2a1ac077,9,3,1,1,22816,OpenStack Release Bot,release,"Add Python3 victoria unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for victoria.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I27738b8b5c2ad4af1df59d853bd51ae5f7abc84a
"
openstack%2Fcloudkitty-dashboard~master~Ieac31e5156510b652b111219de79f2f29db9dbf6,openstack/cloudkitty-dashboard,master,reno-ussuri,Ieac31e5156510b652b111219de79f2f29db9dbf6,Update master for stable/ussuri,MERGED,2020-04-24 18:19:29.000000000,2020-07-02 10:02:23.000000000,2020-07-02 09:58:26.000000000,7,0,0,723000,99b20e4b19f787fb0f28ef5887598ba17fe168f4,10,3,1,2,22816,OpenStack Release Bot,release,"Update master for stable/ussuri

Add file to the reno documentation build to show release notes for
stable/ussuri.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/ussuri.

Change-Id: Ieac31e5156510b652b111219de79f2f29db9dbf6
Sem-Ver: feature
"
openstack%2Fironic~master~I4a9890503cb2489755ad76b2a73b93a9541eb357,openstack/ironic,master,rel-map,I4a9890503cb2489755ad76b2a73b93a9541eb357,Add ironic 15.1 release mapping,MERGED,2020-07-01 17:23:12.000000000,2020-07-02 10:00:21.000000000,2020-07-02 09:51:41.000000000,19,2,0,738904,988f61b8aaa821f4a70df700e8d5f568137b359f,15,6,1,1,23851,Riccardo Pittau,elfosardo,"Add ironic 15.1 release mapping

Change-Id: I4a9890503cb2489755ad76b2a73b93a9541eb357
"
openstack%2Fcharm-neutron-api-plugin-arista~master~Ib093fcebc144dd1a088885e4b2fdfd2444cf431c,openstack/charm-neutron-api-plugin-arista,master,add-gitreview,Ib093fcebc144dd1a088885e4b2fdfd2444cf431c,Add .gitreview and .zuul.yaml files,MERGED,2020-06-30 09:55:51.000000000,2020-07-02 09:40:29.000000000,2020-07-02 09:40:29.000000000,17,1,0,738573,9b352e0742f5be70579420612971bfded1bae687,29,4,4,3,31289,Aurelien Lourot,lourot,"Add .gitreview and .zuul.yaml files

Also removing bionic-rocky from the gate.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/338
Change-Id: Ib093fcebc144dd1a088885e4b2fdfd2444cf431c
"
openstack%2Fhorizon~master~I4051150b6a1aac5525a1d82b2ea6905927b0e166,openstack/horizon,master,"i18n translation ""Instance"" error",I4051150b6a1aac5525a1d82b2ea6905927b0e166,"I18n:Translation ""Instance"" error https://github.com/openstack/horizon/blob/master/openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po#L3506",ABANDONED,2020-07-02 09:37:51.000000000,2020-07-02 09:39:23.000000000,,0,0,0,739003,daaf3d956aa39d67dc2ff8bd475061668d89d9fe,3,1,1,0,32160,Hollis,Hollis,"I18n:Translation ""Instance"" error
https://github.com/openstack/horizon/blob/master/openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po#L3506

On line 3505, msgid is ""Instance ID="".
So on line 3506, msgstr should be translated as ""实例 ID ="" instead of ""示例 ID =""

Change-Id: I4051150b6a1aac5525a1d82b2ea6905927b0e166
"
openstack%2Foctavia~master~I7fbf063a5b49eeb556d9dc544d3853c34b235c03,openstack/octavia,master,healthcheck,I7fbf063a5b49eeb556d9dc544d3853c34b235c03,Add a /healthcheck URL from oslo.middleware,ABANDONED,2020-06-16 13:34:24.000000000,2020-07-02 09:21:45.000000000,,2,0,0,735914,1b778517dbebcf7481e070784938531e74a88d2e,7,4,1,1,6476,Thomas Goirand,thomas-goirand,"Add a /healthcheck URL from oslo.middleware

This patch adds a /healtcheck URL so that operators can configure haproxy
in a nicer way for Octavia.

Change-Id: I7fbf063a5b49eeb556d9dc544d3853c34b235c03
"
openstack%2Fproject-config~master~I36f7edbc451f6955944d676936fa81296c5cc29b,openstack/project-config,master,,I36f7edbc451f6955944d676936fa81296c5cc29b,Add Vault app to StarlingX,MERGED,2020-06-29 21:05:39.000000000,2020-07-02 09:17:13.000000000,2020-07-02 05:52:02.000000000,24,0,0,738513,3aaa0b4671fd668efb367dfc9883516db1abfc9d,10,5,1,3,31928,Cole Walker,cwalker,"Add Vault app to StarlingX

Change-Id: I36f7edbc451f6955944d676936fa81296c5cc29b
Signed-off-by: Cole Walker <cole.walker@windriver.com>
"
openstack%2Fkolla~master~I2559267d120081f2e5eabc9d966b019517a5ad5d,openstack/kolla,master,,I2559267d120081f2e5eabc9d966b019517a5ad5d,CentOS/AArch64: RabbitMQ is back!,MERGED,2020-06-23 09:34:34.000000000,2020-07-02 09:14:40.000000000,2020-07-01 17:36:42.000000000,5,10,0,737473,b2c86fd3addcbc1451fd9f580445315833fabf72,18,5,2,4,24072,Marcin Juszkiewicz,hrw,"CentOS/AArch64: RabbitMQ is back!

CentOS 8.2 has Erlang and RabbitMQ available in 'messaging/rabbitmq-38'
repository. We use it to grab Erlang while RabbitMQ comes from upstream
(like on x86-64).

Change-Id: I2559267d120081f2e5eabc9d966b019517a5ad5d
"
openstack%2Ftripleo-docs~master~I04cf8c279a3abfeda73e8d373e074376d47af611,openstack/tripleo-docs,master,bug/1883600,I04cf8c279a3abfeda73e8d373e074376d47af611,Document generation of an ansible configuration,ABANDONED,2020-06-23 13:08:18.000000000,2020-07-02 09:01:57.000000000,,31,2,5,737534,902d48735b40b7304c0e2134167a7f19daf61580,9,7,1,1,6926,Bogdan Dobrelya,bogdando,"Document generation of an ansible configuration

Explain how to use:
openstack tripleo config generate ansible

Update the minimum recommended ansible config settings
and also provide an example for larger deployments.

Related-bug: #1883600

Change-Id: I04cf8c279a3abfeda73e8d373e074376d47af611
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fsushy-tools~master~Ic55577b1c4f7a84cb2ca282dde8ad2fee5faf3a5,openstack/sushy-tools,master,urlparse,Ic55577b1c4f7a84cb2ca282dde8ad2fee5faf3a5,vmedia: fix TypeError when accessing a URL without content-disposition,MERGED,2020-06-30 14:40:41.000000000,2020-07-02 09:00:08.000000000,2020-07-02 08:58:01.000000000,88,2,0,738638,dea62db5d293946efd16a246f213e6330bc1f94a,16,5,2,2,10239,Dmitry Tantsur,dtantsur,"vmedia: fix TypeError when accessing a URL without content-disposition

We are calling a module like a function. Also add proper logging so that
we don't have to guess next time.

Depends-On: https://review.opendev.org/#/c/738652/
Change-Id: Ic55577b1c4f7a84cb2ca282dde8ad2fee5faf3a5
"
openstack%2Fpython-ironicclient~master~Iaee01b6f774d52184c7b4bb085f542cbb8228002,openstack/python-ironicclient,master,add-ability-to-pass-headers,Iaee01b6f774d52184c7b4bb085f542cbb8228002,Allow to pass global request id in port and volume,MERGED,2020-05-06 16:42:01.000000000,2020-07-02 08:56:29.000000000,2020-07-02 08:54:20.000000000,146,50,1,725930,4449f7184fa9be0bcc6eed7bd65fcaa9e7cda8de,17,3,4,4,12356,Vladyslav Drok,vdrok,"Allow to pass global request id in port and volume

This change also allows passing ironic API microversion in places
where it was not possible previously, for consistency.

Story: 2007611
Task: 39602
Change-Id: Iaee01b6f774d52184c7b4bb085f542cbb8228002
"
openstack%2Fpython-freezerclient~master~I19dd35b12f2a7764ecf9635a09f9865b589d250a,openstack/python-freezerclient,master,,I19dd35b12f2a7764ecf9635a09f9865b589d250a,Add py38 in tox.,MERGED,2020-07-02 06:34:58.000000000,2020-07-02 08:50:06.000000000,2020-07-02 08:47:37.000000000,3,3,0,738968,8c7e59ce3f5f5fc35f19123efbad816de50363f0,7,2,1,1,21069,Carl caihui,caihui,"Add py38 in tox.

In new release, The project  is used  python38 to replace python37,
so drop py37,add py38 in tox.

Change-Id: I19dd35b12f2a7764ecf9635a09f9865b589d250a
"
openstack%2Ffreezer~master~Id7a2c34f2b91a363a942acfa6c52684a63265d20,openstack/freezer,master,,Id7a2c34f2b91a363a942acfa6c52684a63265d20,Add py38 in tox.,MERGED,2020-07-02 06:33:26.000000000,2020-07-02 08:49:41.000000000,2020-07-02 08:46:50.000000000,4,4,0,738967,339ef2178984a121265dbe69a516322946d45247,7,2,1,1,21069,Carl caihui,caihui,"Add py38 in tox.

In new release, The project  is used  python38 to replace python37,
so drop py37,add py38 in tox.

Change-Id: Id7a2c34f2b91a363a942acfa6c52684a63265d20
"
openstack%2Ffreezer-api~master~Ie08f9bbb98cd21ebace4cc32c6090f2aa249738d,openstack/freezer-api,master,,Ie08f9bbb98cd21ebace4cc32c6090f2aa249738d,Add py38 in tox.,MERGED,2020-07-02 06:47:31.000000000,2020-07-02 08:41:03.000000000,2020-07-02 08:37:55.000000000,3,3,0,738971,11223563cdaaf297aade0d9ed31c389d7f070fb3,7,2,1,1,21069,Carl caihui,caihui,"Add py38 in tox.

In new release, the project  is used  python38 to replace python37,
so drop py37,add py38 in tox.

Change-Id: Ie08f9bbb98cd21ebace4cc32c6090f2aa249738d
"
openstack%2Fironic~master~Ibf78672c15702af43ed2ee1256517b1a1a895120,openstack/ironic,master,fullargspec-repl,Ibf78672c15702af43ed2ee1256517b1a1a895120,Use getfullargspec to inspect functions,MERGED,2020-07-01 15:28:04.000000000,2020-07-02 08:26:44.000000000,2020-07-02 08:12:27.000000000,3,2,0,738868,498ab5224b151355dd29bb2f1df7e9c574696321,15,7,1,2,23851,Riccardo Pittau,elfosardo,"Use getfullargspec to inspect functions

The getfullargspec [1] function is maintained to provide compatibility
with the deprecatad getargspec [2].

[1] https://docs.python.org/3/library/inspect.html#inspect.getfullargspec
[2] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: Ibf78672c15702af43ed2ee1256517b1a1a895120
"
openstack%2Fkeystone~master~I83bd63e9f576041ffdb995fe441f1a3b0b371db2,openstack/keystone,master,Fix-spelling,I83bd63e9f576041ffdb995fe441f1a3b0b371db2,NIT: Fix Spelling in auth_context.py,MERGED,2020-06-01 10:01:12.000000000,2020-07-02 08:25:52.000000000,2020-07-02 08:23:53.000000000,1,1,0,732140,69ad01b2d9e5950b773a76e382575662577b1a11,15,4,1,1,27621,Vishakha Agarwal,Vishakha,"NIT: Fix Spelling in auth_context.py

Change-Id: I83bd63e9f576041ffdb995fe441f1a3b0b371db2
"
openstack%2Fironic~master~Ia6c2e3d98d74fc9c64268db04bc2fb7f5a6f0c1c,openstack/ironic,master,story/2006963,Ia6c2e3d98d74fc9c64268db04bc2fb7f5a6f0c1c,Untie the ramdisk deploy from AgentDeploy,MERGED,2020-06-24 09:30:29.000000000,2020-07-02 08:18:43.000000000,2020-07-02 07:54:30.000000000,122,151,0,737724,2b412df429a52ac2c425bacd9c17cc29a4c4dee2,13,5,1,4,10239,Dmitry Tantsur,dtantsur,"Untie the ramdisk deploy from AgentDeploy

Currently PXERamdiskDeploy inherits AgentDeploy, which is unnecessary
(it does not use in-band deploy steps or rely on heartbeats) and only
happens to work because AgentDeploy has only one deploy step, which
is not going to be the case soon.

This change extracts common code for tear down and cleaning from
ISCSIDeploy and AgentDeploy into the new AgentBaseMixin and makes
PXERamdiskDeploy inherit it instead.

Also removes the confusion AgentDeployMixin from iscsi_deploy.

Change-Id: Ia6c2e3d98d74fc9c64268db04bc2fb7f5a6f0c1c
Story: #2006963
Task: #40153
"
openstack%2Ffreezer-web-ui~master~I17db2c72a9752fe1484b16f8a1acc149d14bb6ea,openstack/freezer-web-ui,master,,I17db2c72a9752fe1484b16f8a1acc149d14bb6ea,Add py38 in tox.,MERGED,2020-07-02 06:42:58.000000000,2020-07-02 08:16:55.000000000,2020-07-02 08:16:55.000000000,3,3,0,738969,e57a654832736adb750e9a2e340a51fd21b2857f,6,2,1,1,21069,Carl caihui,caihui,"Add py38 in tox.

In new release, The project  is used  python38 to replace python37,
so drop py37,add py38 in tox.

Change-Id: I17db2c72a9752fe1484b16f8a1acc149d14bb6ea
"
openstack%2Fkolla-ansible~stable%2Fussuri~I9d6758c8550308d13d936de1a14afbe4124e593b,openstack/kolla-ansible,stable/ussuri,es-curator-schedule-multinode-stable/ussuri,I9d6758c8550308d13d936de1a14afbe4124e593b,Make ES Curator schedule multinode-friendly,MERGED,2020-07-01 16:19:30.000000000,2020-07-02 08:13:12.000000000,2020-07-02 08:11:02.000000000,12,4,0,738878,acfabc77a71019ef093792bb10e59eb57f3a388f,10,3,1,1,30491,Radosław Piliszek,yoctozepto,"Make ES Curator schedule multinode-friendly

In the spirit of Kolla-Ansible, we generally try to provide
workable defaults.
The default for Elasticsearch curator schedule was fine except for
multinode deploys where it would cause all nodes to run at the
same time producing broken runs (race condition in the get-delete
cycle).
It is easy to improve this situation by embracing poor-man's
reimplementation of keystone's fernet key rotation schedule.
ES Curator does not need all the complexity of the former so it
can be handled very well by shifting by as many hours as the
instance's index dictates. It should rarely if ever need more time
(most likely still in minutes range rather than hours).

Change-Id: I9d6758c8550308d13d936de1a14afbe4124e593b
(cherry picked from commit b82eb1b3936dd305f9826c5d23655273fa10bb0e)
"
openstack%2Fglance~master~I75014bd50bf382efebe56bd89c20ffefbdde25f5,openstack/glance,master,cleanout_registry_simpledb,I75014bd50bf382efebe56bd89c20ffefbdde25f5,Deprecation cleanout Registry and related,MERGED,2020-06-30 16:49:54.000000000,2020-07-02 08:04:49.000000000,2020-07-02 08:02:41.000000000,48,567,1,738671,673666cbf4f5ee97b28f157f3b1e7115b72c5fee,13,4,2,28,5202,Erno Kuvaja,jokke,"Deprecation cleanout Registry and related

This patch removes majority of the registry and it's related
endpoints and config options that has been deprecated for
removal in various releases.

Change-Id: I75014bd50bf382efebe56bd89c20ffefbdde25f5
"
openstack%2Fglance~stable%2Fussuri~I385f222c5e3b46978b40bdefdc28fcb20d9c67d3,openstack/glance,stable/ussuri,bug/1884587-stable/ussuri,I385f222c5e3b46978b40bdefdc28fcb20d9c67d3,Check authorization before import for image,MERGED,2020-07-01 06:46:09.000000000,2020-07-02 08:04:49.000000000,2020-07-02 08:02:39.000000000,20,13,0,738737,fcba03989feed85a3301e53b252f766eabeeba3c,11,4,1,2,9303,Abhishek Kekane,abhishekkekane,"Check authorization before import for image

Right now we only check to see if the user can see the image before
we kick off an import operation. However, that will never work unless
the user is the *owner* of the image (or an admin) which means we
return a 202 to the API caller and then the task fails immediately.

This change makes us check that authorization up front and return an
appropriate error to the user so they know it failed, and avoid
starting a task destined for failure.

Note that there was already a check for a Forbidden result when calling
the import API. However, that used a context.owner=None which could never
happen in reality. A more suitable check would have been to use a context
with a different real owner, but it turns out that the task creation
would have succeeded in that case as well. This test is changed to use
an alternate owner and ensure that we get the forbidden result from the
new check immediately.

Change-Id: I385f222c5e3b46978b40bdefdc28fcb20d9c67d3
Closes-Bug: #1884587
(cherry picked from commit c930638fcf58b43d53903cfc30e06fd6919bdad6)
"
openstack%2Fironic~master~I7bb190c82fa3f166902884d1ea0da485cc743a65,openstack/ironic,master,inspection-fast-track,I7bb190c82fa3f166902884d1ea0da485cc743a65,Fix fast track following managed inspection,MERGED,2020-07-01 15:10:16.000000000,2020-07-02 07:58:51.000000000,2020-07-02 07:06:50.000000000,41,0,1,738864,f9eb43d1c07766d15da05689de22bc435440caeb,13,6,1,3,10239,Dmitry Tantsur,dtantsur,"Fix fast track following managed inspection

The managed inspection does not provide ipa-api-url and the ramdisk
cannot heartbeat, thus requiring a reboot. This change fixes it.

Change-Id: I7bb190c82fa3f166902884d1ea0da485cc743a65
"
openstack%2Fcharm-ceph-rbd-mirror~master~I6ecc780ce05ad7e9d392888139f80678e2b343f5,openstack/charm-ceph-rbd-mirror,master,bug/1885935,I6ecc780ce05ad7e9d392888139f80678e2b343f5,Remove duplicate requirement,MERGED,2020-07-01 16:53:09.000000000,2020-07-02 07:57:09.000000000,2020-07-02 07:57:09.000000000,0,1,0,738892,43a209d09b7796af2db1bfafd23a15024c4ad9a6,9,4,1,1,13686,Frode Nordahl,fnordahl,"Remove duplicate requirement

Change-Id: I6ecc780ce05ad7e9d392888139f80678e2b343f5
Closes-Bug: #1885935
"
openstack%2Fironic-python-agent~stable%2Ftrain~If5e798c5461ea3e474a153574b0db2da96f2dfa8,openstack/ironic-python-agent,stable/train,retries-train,If5e798c5461ea3e474a153574b0db2da96f2dfa8,Fixes minor issues in the read() retries patch,ABANDONED,2020-07-01 08:36:32.000000000,2020-07-02 07:55:39.000000000,,6,4,0,738759,5301afcf530093be8bf9dbef83067b8cdbee911f,4,2,1,2,10239,Dmitry Tantsur,dtantsur,"Fixes minor issues in the read() retries patch

Follow-up to commit c5b97eb781cf9851f9abe87a1500b4da55b8bde8.

Two things slipped through the cracks:
* ImageDownloadError was instantiated incorrectly, resulting in a wrong
  error message. This was uncovered by using assertRaisesRegext in tests.
* We allowed calling write(None). This was uncovered by avoiding sleep(4)
  in tests and enabling more failed calls before timeout.

Change-Id: If5e798c5461ea3e474a153574b0db2da96f2dfa8
(cherry picked from commit 00ad03b709275e185ccb5b8e80cb7db4b9071d56)
"
openstack%2Fpython-tripleoclient~master~Ieddd97e73b1bd0f88b1fed17ac2575b3e2964e5f,openstack/python-tripleoclient,master,bug/1884138,Ieddd97e73b1bd0f88b1fed17ac2575b3e2964e5f,Further cleanup unit tests,MERGED,2020-06-19 03:18:12.000000000,2020-07-02 07:31:21.000000000,2020-07-02 07:28:09.000000000,2,144,0,736927,6f67c20a8903f15f4f256255011f6284c5f84698,29,6,1,6,8833,Rabi Mishra,rabi,"Further cleanup unit tests

We changed all client workflows other than derived params
to not use mistral and zaqar. However, the unit tests still
mock lot of these. Let's remove those.

Change-Id: Ieddd97e73b1bd0f88b1fed17ac2575b3e2964e5f
"
openstack%2Fopenstack-zuul-jobs~master~I0834f209d99ed9a1e4491c54fd648e1ef646a9b3,openstack/openstack-zuul-jobs,master,drop_future_imports,I0834f209d99ed9a1e4491c54fd648e1ef646a9b3,Update the common_translation_update role to use python3,MERGED,2020-07-01 08:21:04.000000000,2020-07-02 07:17:36.000000000,2020-07-02 07:13:34.000000000,6,6,2,738755,56d8c85af4da91f03da81a7e9e5853b3562d29cd,9,3,1,1,28522,Hervé Beraud,hberaud,"Update the common_translation_update role to use python3

Change-Id: I0834f209d99ed9a1e4491c54fd648e1ef646a9b3
"
openstack%2Fceilometer~stable%2Fussuri~Idaf811f71bab0b49de5b68a6a69a7872cb481ffb,openstack/ceilometer,stable/ussuri,fix-pdf-stable/ussuri,Idaf811f71bab0b49de5b68a6a69a7872cb481ffb,Fix PDF build,MERGED,2020-06-30 01:25:42.000000000,2020-07-02 06:46:33.000000000,2020-06-30 01:43:26.000000000,6,4,0,738539,96dcc2cbc22ec9efa98eb75771ba3154bc881bba,9,3,1,1,14107,zhurong,zhurong,"Fix PDF build

Do not include ceilometer.conf.sample since PDF building fails with the
large file. This fix PDF building of openstack-tox-docs job.

Change-Id: Idaf811f71bab0b49de5b68a6a69a7872cb481ffb
(cherry picked from commit 89969ec0a919a3a5ea9f4cee7e9b128c5fe0804d)
"
openstack%2Ffreezer-api~master~Ic0b210685535f94a70a175385afdd9f399f4d690,openstack/freezer-api,master,,Ic0b210685535f94a70a175385afdd9f399f4d690,Use setstr to  execute unittest test,MERGED,2020-07-01 08:31:49.000000000,2020-07-02 06:23:16.000000000,2020-07-02 06:18:08.000000000,29,39,0,738758,11dfa6a003575b6dcf4d3f84f32c32344aed0728,17,2,6,6,21069,Carl caihui,caihui,"Use setstr to  execute unittest test

The stestr[1] is parallel Python test runner designed to execute unittest test suites using multiple processes.
Test cases can be executed faster.

[1]https://github.com/mtreinish/stestr

Change-Id: Ic0b210685535f94a70a175385afdd9f399f4d690
"
openstack%2Fproject-config~master~Iafdc2f77a627969a39370833f084cd7555da96fd,openstack/project-config,master,,Iafdc2f77a627969a39370833f084cd7555da96fd,Upadting horizon nodejs job name,MERGED,2020-06-23 08:37:35.000000000,2020-07-02 05:53:24.000000000,2020-07-02 05:53:24.000000000,6,14,12,737457,b55c6d6737d65a2166eb5041f51b8a49d4774c82,22,5,6,1,29313,Vishal Manchanda,vishalmanchanda,"Upadting horizon nodejs job name

Change I86a56afcd2cde3a088abcc66c0294424cd03546f updates horizon
nodejs job name and this patch to the same in horizon.yaml
so that nodejs job data is visible on grafana dashboard.

This patch also done a few cleaups:
- Remove py27 jobs.
- Remove python3-django111 jobs.
- Remove python3-django22 jobs.
- Added py38 and removed py37.

Change-Id: Iafdc2f77a627969a39370833f084cd7555da96fd
"
openstack%2Fneutron~master~I1ac685a12f49119f5ef1428cbc504b639d783803,openstack/neutron,master,bug/1882202,I1ac685a12f49119f5ef1428cbc504b639d783803,[OVN] Allow use of ovn-sync mechanism driver,MERGED,2020-06-05 08:49:01.000000000,2020-07-02 05:24:11.000000000,2020-07-01 22:48:06.000000000,51,1,3,733775,206ce246768d6fb04b6bd92e189188f6702c74a7,39,10,7,3,13686,Frode Nordahl,fnordahl,"[OVN] Allow use of ovn-sync mechanism driver

The ``neutron-ovn-db-sync-util`` replaces the ``ovn`` mechanism
driver with the ``ovn-sync`` mechanism driver. Subsequently it
makes calls into the OVN L3 service plugin.

At present the OVN L3 service plugin assumes the ``ovn`` mechanism
driver to be present and produces a Traceback when it is not.

This patch fixes that by testing for both of the supported
mechanism drivers.

Change-Id: I1ac685a12f49119f5ef1428cbc504b639d783803
Closes-Bug: #1882202
Signed-off-by: Frode Nordahl <frode.nordahl@canonical.com>
"
openstack%2Fproject-config~master~Id882f4fae0152ff0ae23b6c23ce575e099fcf70c,openstack/project-config,master,upper-constraints,Id882f4fae0152ff0ae23b6c23ce575e099fcf70c,Use python3 for update_constraints,MERGED,2020-07-01 20:13:28.000000000,2020-07-02 04:36:24.000000000,2020-07-02 04:36:24.000000000,2,2,0,738931,a04843697158838da05a53685a83fd074ae2cb83,7,4,1,1,11904,Sean McGinnis,SeanM,"Use python3 for update_constraints

Change-Id: Id882f4fae0152ff0ae23b6c23ce575e099fcf70c
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Ftripleo-upgrade~master~I3eadfad34aa563084fd4cc68990cb247e734d508,openstack/tripleo-upgrade,master,bug/1885637,I3eadfad34aa563084fd4cc68990cb247e734d508,Refactor ceph-ansible upgrade,MERGED,2020-07-01 12:15:29.000000000,2020-07-02 03:17:49.000000000,2020-07-02 03:17:49.000000000,12,9,0,738837,3fb8fe1912a7fe2f484390d2adc4e618e147a554,13,6,2,3,11090,Sergii Golovatiuk,holser,"Refactor ceph-ansible upgrade

ceph-ansible and python-tripleoclient have different ""minimum"" required
version of ansible in specification. This patch upgrades ceph-ansible as
prerequisite so all dependencies will be met. In fast-forward script
checks if ceph-ansible is installed.If yes, it will upgrade it to latest
versions in repositories.

Change-Id: I3eadfad34aa563084fd4cc68990cb247e734d508
Related-Bug: 1885637
"
openstack%2Ftripleo-upgrade~master~I25cbeab46f7eeb1d24b104d8bcc2883af68492b0,openstack/tripleo-upgrade,master,ceph_ansible,I25cbeab46f7eeb1d24b104d8bcc2883af68492b0,Remove tht/tc/ta/tv update before UC upgrade.,MERGED,2020-06-22 16:10:58.000000000,2020-07-02 03:17:31.000000000,2020-07-02 03:17:31.000000000,0,4,2,737308,f820078ecf7b7aa4de988994f77bb23b3491474a,33,7,6,1,26343,Jose Luis Franco,jfrancoa,"Remove tht/tc/ta/tv update before UC upgrade.

After [0] merged, we are not required to run a tripleo-common,
tripleo-heat-templates, tripleo-ansible and tripleo-validations
package update as it will be performed by the undercloud upgrade
command itself.

This patch removes it from tripleo-upgrade. However, this can't be
backported to stable/train or older releases.

[0] - https://github.com/openstack/python-tripleoclient/commit/55c99266c9b589de93e3191cdd4d147e722fdf4a

Change-Id: I25cbeab46f7eeb1d24b104d8bcc2883af68492b0
"
openstack%2Ftacker-specs~master~I0731089ed0e50016bdab1d5a65b9e1bd6d4d21f0,openstack/tacker-specs,master,bp/support-etsi-nfv-specs,I0731089ed0e50016bdab1d5a65b9e1bd6d4d21f0,Support scaling operation based on ETSI NFV-SOL specification,MERGED,2020-05-29 06:50:30.000000000,2020-07-02 01:16:11.000000000,2020-07-02 01:14:55.000000000,348,0,0,731665,3b5a29c5ef45fd104f514960306de0b74b579ccc,9,3,2,1,27180,Keiko Kuriu,keiko-k,"Support scaling operation based on ETSI NFV-SOL specification

Introduce a new interface to invoke VNF scaling operation of VNF
instances towards Tacker.

Blueprint: support-etsi-nfv-specs
Change-Id: I0731089ed0e50016bdab1d5a65b9e1bd6d4d21f0
"
openstack%2Ftripleo-ci~master~I67501aaaf34c8fdfa09da37e0e0a3eb6982cff3a,openstack/tripleo-ci,master,,I67501aaaf34c8fdfa09da37e0e0a3eb6982cff3a,turn off NetworkManager in CentOS-8 TripleO,MERGED,2020-07-01 17:10:24.000000000,2020-07-02 01:07:28.000000000,2020-07-02 01:07:28.000000000,26,0,0,738899,7dd82ca385ac3b1d380cf9358cb4cc120981986c,14,5,4,2,9592,wes hayutin,weshayutin,"turn off NetworkManager in CentOS-8 TripleO

NetworkManager is restarting unexpectedly during
deployments of TripleO. Ensure the service is
disabled prior to deployment

Partial-Bug: #1885286
Change-Id: I67501aaaf34c8fdfa09da37e0e0a3eb6982cff3a
"
openstack%2Fpython-cyborgclient~master~I3fde192962d816824f49200daaba8400538d061c,openstack/python-cyborgclient,master,,I3fde192962d816824f49200daaba8400538d061c,Fix pygments style,ABANDONED,2020-05-20 02:13:13.000000000,2020-07-02 00:57:15.000000000,,2,2,0,729481,1d9c78315759c0a3936372dfdb6241692104bf4c,3,1,1,2,31412,Wenping Song,songwenping,"Fix pygments style

New theme of docs (Victoria+) respects pygments_style.
Since we starts using Victoria reqs while being on Ussuri,
this patch ensures proper rendering both in Ussuri and Victoria.

Change-Id: I3fde192962d816824f49200daaba8400538d061c
"
openstack%2Fcinder~master~I5cf4e71d7fb12025e5009d72b7a61df7cbdebc90,openstack/cinder,master,hack-3.0.1,I5cf4e71d7fb12025e5009d72b7a61df7cbdebc90,Fix pygments style,ABANDONED,2020-05-20 01:52:47.000000000,2020-07-02 00:54:36.000000000,,3,3,0,729472,a35a1a4860b5401d7baba85f8080aec40b7257d2,26,21,1,3,31412,Wenping Song,songwenping,"Fix pygments style

New theme of docs (Victoria+) respects pygments_style.
Since we starts using Victoria reqs while being on Ussuri,
this patch ensures proper rendering both in Ussuri and Victoria.

Change-Id: I5cf4e71d7fb12025e5009d72b7a61df7cbdebc90
"
openstack%2Fglance~master~I045d12749e952165f6379f5f664ae97c7fd918fd,openstack/glance,master,,I045d12749e952165f6379f5f664ae97c7fd918fd,Fix pygments style,ABANDONED,2020-05-20 01:42:24.000000000,2020-07-02 00:54:24.000000000,,3,3,0,729468,ed1f99215b0606a2e816c4c9db9b67b1e46bf5ec,3,1,1,3,31412,Wenping Song,songwenping,"Fix pygments style

New theme of docs (Victoria+) respects pygments_style.
Since we starts using Victoria reqs while being on Ussuri,
this patch ensures proper rendering both in Ussuri and Victoria.

Change-Id: I045d12749e952165f6379f5f664ae97c7fd918fd
"
openstack%2Ftripleo-ansible~master~I57d5a8bb8b125727983df188968ae19366c3ebd4,openstack/tripleo-ansible,master,bug/1885917,I57d5a8bb8b125727983df188968ae19366c3ebd4,Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles,MERGED,2020-07-01 13:08:56.000000000,2020-07-02 00:53:47.000000000,2020-07-02 00:53:47.000000000,3,2,1,738843,ca165ec94018293dfbbbd37c44a2704b8144f203,17,8,1,3,18002,John Fulton,fultonj,"Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles

We set ANSIBLE_SSH_CONTROL_PATH_DIR to deal with permissions
issues. Bug 1885917 was introduced because it was set to a
variable which can make the path too long for a Unix domain
socket. We can fix it by hard coding it to something short
which will not vary.

Change-Id: I57d5a8bb8b125727983df188968ae19366c3ebd4
Closes-Bug: #1885917
"
openstack%2Fcyborg-specs~master~I543ad21c809c6fef9344964c403a658ae03ae093,openstack/cyborg-specs,master,fix,I543ad21c809c6fef9344964c403a658ae03ae093,Fix typos in docs,ABANDONED,2019-12-25 09:38:59.000000000,2020-07-02 00:51:47.000000000,,5,5,0,700559,c4e51c321ac24104ca828c973279c9fa0bb593ee,9,3,1,4,23317,ShangXiao,ShangXiao,"Fix typos in docs

Change-Id: I543ad21c809c6fef9344964c403a658ae03ae093
"
openstack%2Frequirements~master~I40cb6d292b0726d6827022b11a6bb773e332f8b0,openstack/requirements,master,,I40cb6d292b0726d6827022b11a6bb773e332f8b0,Bump upper constraint for oslo.log to 4.3.0,MERGED,2020-07-01 19:07:46.000000000,2020-07-02 00:47:36.000000000,2020-07-02 00:46:20.000000000,1,1,0,738915,8987d385d781bf01d7caec61fa4cbd0407582e40,9,4,1,1,5046,Lance Bragstad,ldbragst,"Bump upper constraint for oslo.log to 4.3.0

Change-Id: I40cb6d292b0726d6827022b11a6bb773e332f8b0
"
openstack%2Fironic~master~I25e6457b8cb93ea4c64c28437869c339fdddf8b2,openstack/ironic,master,,I25e6457b8cb93ea4c64c28437869c339fdddf8b2,Use IRONIC_VM_SPECS_RAM from ironic-base in ipv6 job,MERGED,2020-06-30 15:49:09.000000000,2020-07-02 00:37:23.000000000,2020-07-02 00:28:33.000000000,0,1,0,738653,d72c42b1f7ff48ab3f35a2e879854e657c45d7b2,26,7,1,1,1926,Derek Higgins,derekh,"Use IRONIC_VM_SPECS_RAM from ironic-base in ipv6 job

2G is no longer enough and we have no need to set it
differently to the global value.

Change-Id: I25e6457b8cb93ea4c64c28437869c339fdddf8b2
"
openstack%2Fkayobe~master~I3c921f5a558ae57ecc22fc6fc1959fb621c57709,openstack/kayobe,master,,I3c921f5a558ae57ecc22fc6fc1959fb621c57709,Remove the neutron-fwaas since it retired,MERGED,2020-06-17 05:35:50.000000000,2020-07-01 23:21:51.000000000,2020-07-01 23:20:34.000000000,5,6,1,736101,7fdacf475923b8a2906dd3e26f5aaede7cb88383,25,5,5,4,30356,gugug,gujin,"Remove the neutron-fwaas since it retired

Depends-On: I561504160e5548c54d1af31821c3366ab34cf0ec
Change-Id: I3c921f5a558ae57ecc22fc6fc1959fb621c57709
"
openstack%2Fopenstack-helm-infra~master~I4db3f6ac7e9fe7cce6a432dfba056e17ad1e3f06,openstack/openstack-helm-infra,master,,I4db3f6ac7e9fe7cce6a432dfba056e17ad1e3f06,Fix drop databases issue in Postgresql restore,MERGED,2020-06-29 18:44:09.000000000,2020-07-01 23:08:14.000000000,2020-07-01 23:06:25.000000000,171,5,0,738489,4964ea2a762bba5fcbae5941fbbfc13e62cdb95f,17,8,4,1,22636,Cliff Parsons,cliffparsons,"Fix drop databases issue in Postgresql restore

Recently, the Postgresql backups were modified to generate drop database
commands (--clean pgdumpall option). Also for single database restore,
a DROP DATABASE command was added before the restore so that the
database could be restored without duplicate rows. However, if there are
existing database connections (by the applications or other users), then
the drop database commands will fail. So for the duration of the restore
database operation, the databases being restored need to have their
existing connections dropped and new connections prevented until the
database(s) restored, then connections should be re-allowed.

Also found a problem with psql returning 0 (success code) even though
there were errors during its execution. The solution is to check the
output for errors and if there are any, dump out the log file for the
user to see and let the user know there are errors.

Lastly, a problem was found with the single database restortion, where
the database dump for a single database was being incorrectly extracted
from the psql dump file, resulting in the database not being restored
correctly (most of the db being wiped out). This patchset fixes that
issue as well.

Change-Id: I4db3f6ac7e9fe7cce6a432dfba056e17ad1e3f06
"
openstack%2Fironic~master~I0ffec5fbbe6b6120fc6526637e22341f97bd2737,openstack/ironic,master,gate,I0ffec5fbbe6b6120fc6526637e22341f97bd2737,devstack: get rid of python3_enabled,MERGED,2020-06-30 15:43:29.000000000,2020-07-01 22:57:50.000000000,2020-07-01 22:49:31.000000000,4,6,1,738652,d0d772d720600e12e38eb58a3d3642aab26213be,42,6,2,1,10239,Dmitry Tantsur,dtantsur,"devstack: get rid of python3_enabled

This function is currently broken and we don't support Python 2 anyway.

Change-Id: I0ffec5fbbe6b6120fc6526637e22341f97bd2737
"
openstack%2Fswift~master~If0fc8ec4d8056afb741bf74b82598a26683dfcd7,openstack/swift,master,s3-mpu-part-no-head,If0fc8ec4d8056afb741bf74b82598a26683dfcd7,s3api: Don't do naive HEAD request for auth,MERGED,2020-06-15 21:19:55.000000000,2020-07-01 22:51:27.000000000,2020-07-01 22:49:20.000000000,164,95,18,735738,2e001431fd0907c97d44b81dd1f3d2d14ae1208b,23,3,4,6,1179,Clay Gerrard,clay-gerrard,"s3api: Don't do naive HEAD request for auth

Change-Id: If0fc8ec4d8056afb741bf74b82598a26683dfcd7
"
openstack%2Fgovernance~master~Ib583f238134e90828d3be06c047938d7855889ec,openstack/governance,master,documentation-change,Ib583f238134e90828d3be06c047938d7855889ec,Add links to chosen release names,MERGED,2020-07-01 15:27:40.000000000,2020-07-01 22:46:08.000000000,2020-07-01 22:43:57.000000000,24,11,0,738867,accd556a046535d4504cd405af467cbc130988e8,12,4,1,1,11904,Sean McGinnis,SeanM,"Add links to chosen release names

We list the release name polling information details in a table, but no
where do we actually provide either the results or links to the results
for someone looking at the release naming process.

This updates the table to link the release letters to the mailing list
announcements declaring the winner of the poll.

Change-Id: Ib583f238134e90828d3be06c047938d7855889ec
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fironic-specs~master~I669496db033c8d33b88f36da37c70684ef52459f,openstack/ironic-specs,master,,I669496db033c8d33b88f36da37c70684ef52459f,Periodic task execution mode,ABANDONED,2018-06-27 16:46:44.000000000,2020-07-01 22:37:31.000000000,,242,0,40,578480,7616b8b494a86fd8b727b4ff422c2d7d052c8b47,17,7,1,1,11655,Julia Kreger,jkreger,"Periodic task execution mode

Change-Id: I669496db033c8d33b88f36da37c70684ef52459f
"
openstack%2Foctavia-tempest-plugin~master~Ic103d8bededfec77ec0034d7c167ac1e49954a5c,openstack/octavia-tempest-plugin,master,,Ic103d8bededfec77ec0034d7c167ac1e49954a5c,Apply Octavia hacking checks to the tempest plugin,MERGED,2020-06-30 17:30:31.000000000,2020-07-01 22:34:59.000000000,2020-07-01 22:33:08.000000000,301,6,0,738678,a5074259fb686f92057ae6313fa620471840de0e,10,4,2,6,11628,Michael Johnson,johnsom,"Apply Octavia hacking checks to the tempest plugin

Currently we are not applying the custom hacking checks we use in
Octavia to the octavia-tempest-plugin. This leads to style issues
sneaking into the plugin.
This patch copies the same checks from Octavia (for simpler
management) into octavia-tempest-plugin and resolves some of the
existing style violations.

Change-Id: Ic103d8bededfec77ec0034d7c167ac1e49954a5c
"
openstack%2Fnova~master~I40b8caf06ed525e97e871cf381776164208461fb,openstack/nova,master,bp/max-concurrent-snapshots,I40b8caf06ed525e97e871cf381776164208461fb,Limit the number of concurrent snapshots,MERGED,2020-06-17 12:02:35.000000000,2020-07-01 21:59:16.000000000,2020-07-01 21:56:23.000000000,68,2,21,736169,6bb0c4fdabb98f168c530617b7c7a8f9396075fc,72,15,4,4,28332,Alexandre arents,aarents,"Limit the number of concurrent snapshots

This change introduces new [DEFAULT]/max_concurrent_snapshots parameter
in order to limit by default compute resource overuse related
to snapshot.

Implements: blueprint max-concurrent-snapshots

Change-Id: I40b8caf06ed525e97e871cf381776164208461fb
"
openstack%2Fopenstack-helm-infra~master~I2a48bc6472017802267980fe474d81886113fcda,openstack/openstack-helm-infra,master,daemonjobs,I2a48bc6472017802267980fe474d81886113fcda,Add generate openAPIV3Schema schema for DaemonJob CRD.,MERGED,2020-06-29 19:18:17.000000000,2020-07-01 21:58:22.000000000,2020-07-01 21:56:30.000000000,3984,252,0,738494,64c744d756141681f5252dfbb71eafa3fc1b564f,9,3,2,6,31482,Luna Das,codebind-luna,"Add generate openAPIV3Schema schema for DaemonJob CRD.

change docker image to point to the latest metacontroller image.
change python image to point to version 3.7
add updateStrategy to CompositeController.
add replicas config to DaemonJobController via zuul gate.

Change-Id: I2a48bc6472017802267980fe474d81886113fcda
"
openstack%2Fopenstack-helm-infra~master~Ie1c3a7aef290bf6de4752798821d96451c1f2fa5,openstack/openstack-helm-infra,master,,Ie1c3a7aef290bf6de4752798821d96451c1f2fa5,Fix return code when backup to remote rgw fails,MERGED,2020-06-30 16:29:49.000000000,2020-07-01 21:48:01.000000000,2020-07-01 21:46:25.000000000,4,1,0,738665,1508324ce7f683da93c5344343e3da031fac816d,15,9,1,1,22636,Cliff Parsons,cliffparsons,"Fix return code when backup to remote rgw fails

In the database backup framework (_backup_main.sh.tpl), the
backup_databases function exits with code 1 if the store_backup_remotely
function fails to send the backup to the remote RGW. This causes the pod
to fail and be restarted by the cronjob, over and over until the backoff
retries limit (6 by default) is reached, so it creates many copies of
the same backup on the file system, and the default k8s behavior is to
delete the job/pods once the backoff limit has been exceeded, so it then
becomes more difficult to troubleshoot (although we may have logs in
elasticsearch). This patch changes the return code to 0 so that the pod
will not fail in that scenario. The error logs generated should be
enough to flag the failure (via Nagios or whatever alerting system is
being used).

Change-Id: Ie1c3a7aef290bf6de4752798821d96451c1f2fa5
"
openstack%2Fneutron-specs~master~Ie7adfffbd1e81f36ef91011315be5936b29e70e9,openstack/neutron-specs,master,neutron_dns_assignment,Ie7adfffbd1e81f36ef91011315be5936b29e70e9,Adding a spec for neutron dns_assignment for RFE https://bugs.launchpad.net/neutron/+bug/1873091,MERGED,2020-05-11 16:56:26.000000000,2020-07-01 21:18:22.000000000,2020-07-01 21:11:58.000000000,60,0,2,726904,6874689728425edf43a713a261ec83dd5da0f637,22,4,8,1,31039,hamza,hamalq,"Adding a spec for neutron dns_assignment
for RFE https://bugs.launchpad.net/neutron/+bug/1873091

Change-Id: Ie7adfffbd1e81f36ef91011315be5936b29e70e9
"
openstack%2Fkeystone~stable%2Fussuri~I69b2c650d20e30e35c2388b824cb28fcef2bae77,openstack/keystone,stable/ussuri,focal-ci-stable/ussuri,I69b2c650d20e30e35c2388b824cb28fcef2bae77,Run federation jobs on Ubuntu Focal,ABANDONED,2020-07-01 19:22:15.000000000,2020-07-01 20:59:09.000000000,,28,4,0,738922,1157d85e98860b003b42d2845f0111f7acdd94ab,4,2,1,2,8482,Colleen Murphy,krinkle,"Run federation jobs on Ubuntu Focal

The packaging issue that was never fixed for Bionic[1] doesn't seem to
be a problem on Focal, so let's switch back to Ubuntu.

[1] https://bugs.launchpad.net/ubuntu/+source/shibboleth-sp2/+bug/1776489

Change-Id: I69b2c650d20e30e35c2388b824cb28fcef2bae77
Depends-on: https://review.opendev.org/726994
(cherry picked from commit fb86048d0a83cc6f2b5dcf78124ed12202902092)
"
openstack%2Fkeystoneauth~stable%2Ftrain~Ic75f0c9b36022b884105b87bfe05f4f8292d53b2,openstack/keystoneauth,stable/train,cleanup-py27-support,Ic75f0c9b36022b884105b87bfe05f4f8292d53b2,Inject /v3 in token path for v3 plugins,MERGED,2020-05-28 12:55:23.000000000,2020-07-01 20:57:41.000000000,2020-07-01 20:52:51.000000000,35,1,0,731520,7d7b9564ba32ded721f67002b712e6d3cafa8511,18,6,1,3,8866,Raildo Mascena de Sousa Filho,raildo,"Inject /v3 in token path for v3 plugins

Without this, it's possible to get HTTP 404 errors from keystone if
OS_AUTH_URL isn't versioned (e.g., https://keystone.example.com/ instead
of https://keystone.example.com/v3), even if OS_IDENTITY_API is set to
3.

This commit works around this issue by checking the AUTH_URL before
building the token_url and appending '/v3' to the URL before sending the
request.

Closes-Bug: 1876317

Change-Id: Ic75f0c9b36022b884105b87bfe05f4f8292d53b2
(cherry picked from commit ad46262148e7b099e6c7239887e20ade5b8e6ac8)
(cherry picked from commit 3ba2a3acf2a897de046873f3585463638e3567f6)
"
openstack%2Fopenstack-ansible~master~I3c9bbe5b43025b7a3f77435828c9501b3fdadd67,openstack/openstack-ansible,master,,I3c9bbe5b43025b7a3f77435828c9501b3fdadd67,Disable test_swift_acl_anonymous_download test,MERGED,2020-07-01 07:33:27.000000000,2020-07-01 20:54:46.000000000,2020-07-01 20:44:58.000000000,3,0,0,738746,75cfbe4db64f0989d1489ed162a45a73cf14b33c,15,5,3,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Disable test_swift_acl_anonymous_download test

Ceph rgw in 14.2.10 and 15.2.4 has changed return code for unathorized
from 401 to 404, which makes this test fail.

Change-Id: I3c9bbe5b43025b7a3f77435828c9501b3fdadd67
"
openstack%2Fmanila~stable%2Fstein~If42c9a0a662a62bbe2a02b6baee6ae13eedd8c97,openstack/manila,stable/stein,bug/1879754,If42c9a0a662a62bbe2a02b6baee6ae13eedd8c97,Get ports filtered by subnet id on share-server cleanup,MERGED,2020-07-01 16:33:23.000000000,2020-07-01 20:14:46.000000000,2020-07-01 20:12:39.000000000,21,23,0,738886,908041c4569ead060c2c9c3a7ed054bcd7b6f6e9,11,5,1,3,16643,Goutham Pacha Ravi,gouthamr,"Get ports filtered by subnet id on share-server cleanup

Neutron can filter ports by subnet-id by itself, so:
- Don't send all ports in Neutron on every share-server removal
- Don't send fixed-ips fields (which are nearly half of total data)

Closes-Bug: #1879754
Change-Id: If42c9a0a662a62bbe2a02b6baee6ae13eedd8c97
Signed-off-by: George Melikov <mail@gmelikov.ru>
(cherry picked from commit d5fc7d28023fb060a077e7913c38b2aa59deae4b)
(cherry picked from commit 1c25df055cfcb4a99f6010dedd9698aeab582c9f)
(cherry picked from commit 6542f2f1c4a509c80531314a7e102ffbf62f02de)
"
openstack%2Fswift~master~Idbddca52e080a55d40137a5b3ec6b72ebb5b8631,openstack/swift,master,,Idbddca52e080a55d40137a5b3ec6b72ebb5b8631,s3api: Clean up some logging,NEW,2020-07-01 17:12:59.000000000,2020-07-01 20:03:32.000000000,,4,11,0,738901,25bf2a092e63ddadacb83af08287e546bc0a2023,4,2,1,1,15343,Tim Burke,tburke,"s3api: Clean up some logging

No need to debug-log on every S3 request.

No need to warn on every 501 caused by having
allow_multipart_uploads disabled.

Change-Id: Idbddca52e080a55d40137a5b3ec6b72ebb5b8631
"
openstack%2Fneutron~stable%2Fstein~Iecce8d2c6c2c46718cc1020c6e8f914cd4560e4b,openstack/neutron,stable/stein,bug/1832021,Iecce8d2c6c2c46718cc1020c6e8f914cd4560e4b,Workaround for TCP checksum issue with ovs-dpdk and  veth pair,MERGED,2020-03-18 18:44:58.000000000,2020-07-01 20:01:17.000000000,2020-07-01 19:59:27.000000000,61,0,0,713717,81dfa48466a594da78d93494e805b9ba97f94bc6,25,17,2,5,14029,Alexander Vlasov,avlasov,"Workaround for TCP checksum issue with ovs-dpdk and  veth pair

The need for this change stems from following issues:
1) When ovs_use_veth = False with ovs-dpdk issue with ovs
was observed - after vswitch restart interface is not comming up.
Meaning ovs-dpdk uses ovs internal ports and it is not able to bring
them up on restart.
2) When ovs_use_veth = True and ovs-dpkd is used, packets sent with
incorrect checksum due to the fact that ovs-dpdk does not do checksum
calculations for veth interface.

This commit allows to use second option and resolve checksum issue by
disabling checksum offload.

Closes-Bug: #1832021
Related-Bug: #1831935

Change-Id: Iecce8d2c6c2c46718cc1020c6e8f914cd4560e4b
(cherry picked from commit 11838a2bc50caa40e776bce211f5f2d1d16a14af)
"
openstack%2Fmanila~stable%2Ftrain~I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47,openstack/manila,stable/train,bug/1850264,I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47,Add asynchronous error info into messages when share extend error,MERGED,2020-06-11 01:16:14.000000000,2020-07-01 19:55:40.000000000,2020-07-01 18:43:42.000000000,23,3,0,735027,badb396732f4744159be24ece2799fb1377d07d8,10,5,1,3,16643,Goutham Pacha Ravi,gouthamr,"Add asynchronous error info into messages when share extend error

The database table messages is used to record various asynchronous error
messages, extend share is an asynchronously invoked procedure, when the
driver layer fails to execute extend share, we should record this
asynchronous error into database. This commit modify this behavior, and
now this asynchronows error is recorded in the database.

Closes-Bug:#1850264
Change-Id: I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47
(cherry picked from commit be149c4c6bf354048bfb9f31d27c4a1b64de3fe1)
"
openstack%2Fcharm-neutron-gateway~master~I661a4fe2d9284455e536b073dc93696355baf122,openstack/charm-neutron-gateway,master,bug/1885192,I661a4fe2d9284455e536b073dc93696355baf122,Add option to auto-load kernel modules for sysctl,MERGED,2020-06-25 21:38:30.000000000,2020-07-01 19:33:35.000000000,2020-07-01 19:33:35.000000000,27,0,9,738116,4bf26683d1c503f06dbf4776ece67f90970c0c21,36,5,4,3,28621,Mauricio Faria de Oliveira,mfo,"Add option to auto-load kernel modules for sysctl

The nf_conntrack module is not loaded early enough on boot,
thus when sysctl options are applied, its settings are not.

This results in the correct sysctl settings seen on deploy
time (because nf_conntrack was loaded previously by others)
but not after reboot, despite configured in /etc/sysctl.d/.

So, insert it in /etc/modules for module auto-load on boot
(available on Trusty via /etc/init/kmod.conf, then Xenial+
via systemd-sysctl.service).

Since users can configure the sysctl option and thus need
more modules, introduce the config option 'kernel-modules'
(with 'nf_conntrack' as default.)

It's handled before sysctl in the config-changed hook in
case some sysctl option(s) needs not yet loaded module(s).

In case of failure to load modules, log a warning message.

Closes-Bug: #1885192
Change-Id: I661a4fe2d9284455e536b073dc93696355baf122
Signed-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>
"
