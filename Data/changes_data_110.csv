id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Frequirements~master~I213a130e57b61ac5f0d1afab7ca42fef6e754a34,openstack/requirements,master,openstack/requirements/constraints,I213a130e57b61ac5f0d1afab7ca42fef6e754a34,Updated from generate-constraints,ABANDONED,2021-07-29 06:26:53.000000000,2021-07-31 17:48:47.000000000,,29,23,0,802828,7701e2d53691b11eab9547299a84a3382c7811ac,10,1,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I213a130e57b61ac5f0d1afab7ca42fef6e754a34
"
openstack%2Fswift~master~I2f0c82981e4323e5e210119f917b4645670b44d3,openstack/swift,master,,I2f0c82981e4323e5e210119f917b4645670b44d3,func tests: plumb tolerate_missing through to listing_empty,MERGED,2021-07-29 16:31:46.000000000,2021-07-31 17:26:09.000000000,2021-07-31 17:24:39.000000000,5,3,0,802914,2a806296ff6dd8c7d16b29b79ec8e7efef44ef3b,9,2,1,1,15343,Tim Burke,tburke,"func tests: plumb tolerate_missing through to listing_empty

We started tolerating deleted containers still showing up in account
listings recently, but we've still seen the occassional gate failure.

Change-Id: I2f0c82981e4323e5e210119f917b4645670b44d3
Related-Change: I9217ba49d65cc29496b1532644bbef6b736074b8
"
openstack%2Ftripleo-validations~stable%2Ftrain~I4e1bd9ca270bc7503beb0a0074e4e2aff887119a,openstack/tripleo-validations,stable/train,emulatorpin-validation-issue-stable/wallaby-stable/victoria-stable/ussuri-stable/train,I4e1bd9ca270bc7503beb0a0074e4e2aff887119a,NVF OvS DPDK instance emulatorpin validation fix,MERGED,2021-07-30 04:51:44.000000000,2021-07-31 13:01:04.000000000,2021-07-31 13:01:04.000000000,1,1,0,802939,9e8a3287703a01bec85d30597bce311973bd5760,8,6,1,1,22865,Jaganathan Palanisamy,jaganathancse,"NVF OvS DPDK instance emulatorpin validation fix

This change is to fix the emulatorpin cpus validation of NFV
OvS DPDK instance.

Change-Id: I4e1bd9ca270bc7503beb0a0074e4e2aff887119a
(cherry picked from commit 7136337b091e7e9a2a6facee658a8bbac8cd68df)
"
openstack%2Ftripleo-ansible~master~Ib6140c8991469c950fd7e1b323c614103394e3f1,openstack/tripleo-ansible,master,,Ib6140c8991469c950fd7e1b323c614103394e3f1,tripleo-kernel: prevent reboot when TSX flag was added,MERGED,2021-07-20 15:51:42.000000000,2021-07-31 11:33:05.000000000,2021-07-31 11:33:05.000000000,24,0,0,801509,a15e92511049e21c8bc76bf2fffa5bf6adb3b183,27,11,2,1,27419,David Vallee Delisle,dvd,"tripleo-kernel: prevent reboot when TSX flag was added

During the 16.2 upgrade path, we enforce the inclusion of tsx flag by
operators. If there was already kernelargs present, the node won't get
rebooted, but if it's a new KernelArgs, the node will get rebooted as
per the related bug.

We want to prevent the unexpected reboot of nodes with workload when
the TSX flag was added.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1975240
Change-Id: Ib6140c8991469c950fd7e1b323c614103394e3f1
"
openstack%2Ftripleo-validations~stable%2Fussuri~I4e1bd9ca270bc7503beb0a0074e4e2aff887119a,openstack/tripleo-validations,stable/ussuri,emulatorpin-validation-issue-stable/wallaby-stable/victoria-stable/ussuri,I4e1bd9ca270bc7503beb0a0074e4e2aff887119a,NVF OvS DPDK instance emulatorpin validation fix,MERGED,2021-07-30 04:51:25.000000000,2021-07-31 11:33:00.000000000,2021-07-31 11:33:00.000000000,1,1,0,802938,5342297325dc61995da5f11f86dcd6b8a666d508,10,6,1,1,22865,Jaganathan Palanisamy,jaganathancse,"NVF OvS DPDK instance emulatorpin validation fix

This change is to fix the emulatorpin cpus validation of NFV
OvS DPDK instance.

Change-Id: I4e1bd9ca270bc7503beb0a0074e4e2aff887119a
(cherry picked from commit 7136337b091e7e9a2a6facee658a8bbac8cd68df)
"
openstack%2Fopenstack-ansible-tests~stable%2Fstein~Ic868bf75e64bc27cbc912c6c0415439a8c9a1057,openstack/openstack-ansible-tests,stable/stein,,Ic868bf75e64bc27cbc912c6c0415439a8c9a1057,Update Debian stable job,MERGED,2021-07-29 00:51:00.000000000,2021-07-31 10:53:44.000000000,2021-07-31 10:51:05.000000000,3,8,0,802816,dfc05e6ed11a23d081d7ee7cf36c005aaa0ea1ea,13,3,2,2,7118,Ian Wienand,iwienand,"Update Debian stable job

The ""debian-stable"" nodeset was never updated past Stretch; a distro
we are now looking to remove.  We are planning to remove this label to
avoid confusion like this (and switching stable distributions on jobs
unexpectedly).

Since this branch isn't supported on > stretch, remove the testing.

Needed-By: https://review.opendev.org/c/opendev/base-jobs/+/802639
Change-Id: Ic868bf75e64bc27cbc912c6c0415439a8c9a1057
"
openstack%2Fpuppet-pacemaker~master~I08c072acf5d41197f139ae66f1ee05ebccf11542,openstack/puppet-pacemaker,master,fix-ci,I08c072acf5d41197f139ae66f1ee05ebccf11542,Increase the scaleup/startup tries,MERGED,2021-07-27 06:53:09.000000000,2021-07-31 08:28:40.000000000,2021-07-31 08:28:40.000000000,2,2,0,802428,d513c631da7ad95644f27bd8f6909d9944fac3a3,12,4,2,1,20172,Michele Baldessari,michele,"Increase the scaleup/startup tries

Currently we're using 10 tries + 20 seconds sleep. This has been
observed as insufficient in a number of environments.
Let's bump up the defaults to something that will cover most situations.

Seen also in rhbz#1978696

Change-Id: I08c072acf5d41197f139ae66f1ee05ebccf11542
Closes-Bug: #1938129
"
openstack%2Fansible-collections-openstack~master~Ida493c4316b682c3c2664bbe48c8dffc72f6ac8c,openstack/ansible-collections-openstack,master,211,Ida493c4316b682c3c2664bbe48c8dffc72f6ac8c,Reenable ansible 2.11 linters job,MERGED,2021-07-30 16:06:45.000000000,2021-07-31 07:44:12.000000000,2021-07-31 07:44:12.000000000,4,4,0,803057,41608888877ca6ad433102933294d5631ca4193b,8,2,1,2,10969,Shnaidman Sagi (Sergey),sergsh,"Reenable ansible 2.11 linters job

After PR fix[1] was merged, reenable 2.11 job.

[1] https://github.com/ansible/ansible/pull/75358
Change-Id: Ida493c4316b682c3c2664bbe48c8dffc72f6ac8c
"
openstack%2Ftripleo-validations~stable%2Fussuri~Id047fe378cf512b985c9d7478a991f11b280102b,openstack/tripleo-validations,stable/ussuri,automated_config_validation,Id047fe378cf512b985c9d7478a991f11b280102b,Introducing the oslo_config_validator role,MERGED,2021-07-05 14:40:44.000000000,2021-07-31 05:08:19.000000000,2021-07-31 05:03:23.000000000,2450,0,0,799482,92c55031e6f17e3a149da4816fbf5cefd5185d44,29,3,7,19,27419,David Vallee Delisle,dvd,"Introducing the oslo_config_validator role

This role is intended to leverage the `oslo-config-validator` on each one
of the configuration files found on a deployment. The goal is to quickly
catch erroneous configurations.

When called manually, it will also be possible to generate a report
returning all the differences between the current configuration and the
default configuration

One last thing, it will also validate the values of some specific
settings, based on the invalid_settings dict in the configuration.
Because of that, we moved some checks in nova_event_callback to the
oslo_config_validator role.

NOTE(dvd): Removing backup-and-restore group from this branch as it's
not available prior to Wallaby.

Depends-On: https://review.opendev.org/c/openstack/oslo.config/+/794816
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1940815
Resolves: rhbz#1940815
Change-Id: Id047fe378cf512b985c9d7478a991f11b280102b
(cherry picked from commit 4aaca32f19af6426a6f1eb6ea896e8d10458928d)
(cherry picked from commit fab6429d98dbef835efc422b471a0cd795edfdb9)
(cherry picked from commit 727625fe95077158843f4a274693b6343d1f1e01)
"
openstack%2Ftripleo-heat-templates~master~I9b7edee92a3aeadd093ff997d23d085d73a04960,openstack/tripleo-heat-templates,master,json_rpc,I9b7edee92a3aeadd093ff997d23d085d73a04960,Fix support for json-rpc in ironic,MERGED,2021-07-29 04:12:15.000000000,2021-07-31 05:03:26.000000000,2021-07-31 05:03:26.000000000,108,28,13,802823,bd20c595897707b2428abce67a2a7b0cb0cfb543,40,7,7,12,8833,Rabi Mishra,rabi,"Fix support for json-rpc in ironic

This fixes support for IronicRpcTransport and enables json-rpc
for undercloud ironic.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/802858
Change-Id: I9b7edee92a3aeadd093ff997d23d085d73a04960
"
openstack%2Fvalidations-libs~master~I947f0bcc2d4a6152de41b1592dc51a3757f0a8af,openstack/validations-libs,master,ci,I947f0bcc2d4a6152de41b1592dc51a3757f0a8af,Triggering the 'tripleo-ci-centos-8-undercloud-containers',MERGED,2021-07-16 11:22:53.000000000,2021-07-31 05:03:24.000000000,2021-07-31 05:03:24.000000000,9,0,2,801049,07e484a8616a4f51e998f0e8ae865e0781d0b20b,30,5,9,1,32926,Jiri Podivin,jpodivin,"Triggering the 'tripleo-ci-centos-8-undercloud-containers'

This job initiates checks defined in the 'tripleoclient.undercloud_preflight'
module, which use the 'validations_libs.validation_actions.ValidationActions' class.

Any issues, arising in the integration of the aformentioned modules,
should be detected during the job run.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I947f0bcc2d4a6152de41b1592dc51a3757f0a8af
"
openstack%2Ftripleo-validations~stable%2Fussuri~I8eead4d1a4ceac3d053af69e302c5b757c45cdaa,openstack/tripleo-validations,stable/ussuri,,I8eead4d1a4ceac3d053af69e302c5b757c45cdaa,[ussuri-train-only] Use more recent version of ansible-lint,MERGED,2021-07-08 22:42:08.000000000,2021-07-31 05:03:21.000000000,2021-07-31 05:03:21.000000000,2,3,0,800122,d88808d0636f435cfc98c9638ecd57613fd19aae,17,5,3,2,27419,David Vallee Delisle,dvd,"[ussuri-train-only] Use more recent version of ansible-lint

we need fix[1] to bypass RepresenterError when using to_yaml filter.

[1] https://github.com/ansible/ansible-lint/pull/518

Change-Id: I8eead4d1a4ceac3d053af69e302c5b757c45cdaa
"
openstack%2Ftripleo-validations~stable%2Fussuri~Iac63dc6f161a0e885110a246b68001522a6f62e3,openstack/tripleo-validations,stable/ussuri,,Iac63dc6f161a0e885110a246b68001522a6f62e3,Add zuul.d/molecule.yaml file back in the yamllint ignore list,MERGED,2021-07-06 10:30:55.000000000,2021-07-31 05:03:20.000000000,2021-07-31 05:03:20.000000000,454,451,0,799626,0ca6ed0c38e6f65fc7b6f8974369fac407c257fe,7,3,1,2,11491,Gael Chamoulaud,gchamoul,"Add zuul.d/molecule.yaml file back in the yamllint ignore list

The validation_init role auto generates the molecule.yaml file when
adding a new role. But, due to [1][2], the to_nice_yaml filter is not
correctly indenting lists and will break the indentation every time a
new validation will be created.

This patch adds this file to the yamllint ignore list and provides a new
molecule.yaml sorted by job names as the validation_init role will
generate in a follow up patch.

Moreover, this patch enables the oslo_config_validator molecule job in
the check/gate as it was not added in the initial patch[3].

[1] https://github.com/ansible/ansible/issues/48865
[2] https://github.com/yaml/pyyaml/issues/234
[3] https://review.opendev.org/c/openstack/tripleo-validations/+/789698

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Iac63dc6f161a0e885110a246b68001522a6f62e3
(cherry picked from commit 41dcda85921b4a79a46eaccbe28f0fffd516e3cf)
(cherry picked from commit f798c56ba56c1fbda7f7c517044155d80e913ec2)
(cherry picked from commit 04c08718e6cb5a1a6fe646277c2ba5f0b308d21d)
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I4e1bd9ca270bc7503beb0a0074e4e2aff887119a,openstack/tripleo-validations,stable/victoria,emulatorpin-validation-issue-stable/wallaby-stable/victoria,I4e1bd9ca270bc7503beb0a0074e4e2aff887119a,NVF OvS DPDK instance emulatorpin validation fix,MERGED,2021-07-30 04:51:12.000000000,2021-07-31 05:03:18.000000000,2021-07-31 05:03:18.000000000,1,1,0,802937,69ba3d7c2d94b7ebf284b7e88d4fd97740dcd077,6,6,1,1,22865,Jaganathan Palanisamy,jaganathancse,"NVF OvS DPDK instance emulatorpin validation fix

This change is to fix the emulatorpin cpus validation of NFV
OvS DPDK instance.

Change-Id: I4e1bd9ca270bc7503beb0a0074e4e2aff887119a
(cherry picked from commit 7136337b091e7e9a2a6facee658a8bbac8cd68df)
"
openstack%2Ftripleo-validations~stable%2Fwallaby~I4e1bd9ca270bc7503beb0a0074e4e2aff887119a,openstack/tripleo-validations,stable/wallaby,emulatorpin-validation-issue-stable/wallaby,I4e1bd9ca270bc7503beb0a0074e4e2aff887119a,NVF OvS DPDK instance emulatorpin validation fix,MERGED,2021-07-30 04:50:54.000000000,2021-07-31 05:03:17.000000000,2021-07-31 05:03:17.000000000,1,1,0,802936,d82aa0d36a67d7a940f344537f63b03f6ac354c3,6,6,1,1,22865,Jaganathan Palanisamy,jaganathancse,"NVF OvS DPDK instance emulatorpin validation fix

This change is to fix the emulatorpin cpus validation of NFV
OvS DPDK instance.

Change-Id: I4e1bd9ca270bc7503beb0a0074e4e2aff887119a
(cherry picked from commit 7136337b091e7e9a2a6facee658a8bbac8cd68df)
"
openstack%2Ftripleo-validations~stable%2Ftrain~I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b,openstack/tripleo-validations,stable/train,,I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b,oslo_config_validator: Setting container network to none,MERGED,2021-07-29 01:45:35.000000000,2021-07-31 05:03:16.000000000,2021-07-31 05:03:16.000000000,2,1,0,802779,4640b2286d87da40eb576065844d29d95503c1a7,8,5,2,2,27419,David Vallee Delisle,dvd,"oslo_config_validator: Setting container network to none

When spinning a container, podman_container defaults network to bridge
as opposed to docker_container that defaults to none.

This causes ""Missing CNI default network"" errors and doesn't run the
oslo-config-validator command as expected.

Change-Id: I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b
(cherry picked from commit 9311c11823c4b9dbc29a3957bf760da6fb25c53a)
(cherry picked from commit bc692be30d7aefde4c11ad74a6c897243df5f8d2)
(cherry picked from commit 16c6893280200a2317c15678b05535e74d5e90e9)
(cherry picked from commit 5f949e3da0fd0ae09671c4665ff77c39fce9b88b)
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b,openstack/tripleo-validations,stable/victoria,,I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b,oslo_config_validator: Setting container network to none,MERGED,2021-07-29 01:29:03.000000000,2021-07-31 05:03:14.000000000,2021-07-31 05:03:14.000000000,2,0,0,802777,16c6893280200a2317c15678b05535e74d5e90e9,6,5,1,2,27419,David Vallee Delisle,dvd,"oslo_config_validator: Setting container network to none

When spinning a container, podman_container defaults network to bridge
as opposed to docker_container that defaults to none.

This causes ""Missing CNI default network"" errors and doesn't run the
oslo-config-validator command as expected.

Change-Id: I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b
(cherry picked from commit 9311c11823c4b9dbc29a3957bf760da6fb25c53a)
(cherry picked from commit bc692be30d7aefde4c11ad74a6c897243df5f8d2)
"
openstack%2Ftripleo-validations~stable%2Fwallaby~I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b,openstack/tripleo-validations,stable/wallaby,,I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b,oslo_config_validator: Setting container network to none,MERGED,2021-07-29 01:28:52.000000000,2021-07-31 05:03:13.000000000,2021-07-31 05:03:13.000000000,2,0,0,802776,bc692be30d7aefde4c11ad74a6c897243df5f8d2,6,5,1,2,27419,David Vallee Delisle,dvd,"oslo_config_validator: Setting container network to none

When spinning a container, podman_container defaults network to bridge
as opposed to docker_container that defaults to none.

This causes ""Missing CNI default network"" errors and doesn't run the
oslo-config-validator command as expected.

Change-Id: I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b
(cherry picked from commit 9311c11823c4b9dbc29a3957bf760da6fb25c53a)
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ifc9a6695f2c79c6bdae12f0899a56d5cbda90e80,openstack/tripleo-upgrade,stable/train,,Ifc9a6695f2c79c6bdae12f0899a56d5cbda90e80,Run Ceph upgrade only once.,MERGED,2021-07-30 14:59:36.000000000,2021-07-31 05:03:12.000000000,2021-07-31 05:03:12.000000000,2,6,0,803049,3d53a15819ca30c8cfd5eb850d66960ed6505405,8,4,2,1,26343,Jose Luis Franco,jfrancoa,"Run Ceph upgrade only once.

The ceph ugprade playbook was being called twice, which did spend extra
time for the test.

It should be enough to upgrade ceph only once.

Change-Id: Ifc9a6695f2c79c6bdae12f0899a56d5cbda90e80
"
openstack%2Ftripleo-ci~master~I5855de77b700124be0d0332ebe6a3f80524c521e,openstack/tripleo-ci,master,drop-minion,I5855de77b700124be0d0332ebe6a3f80524c521e,Stop running minion for Wallaby+,MERGED,2021-07-30 14:33:31.000000000,2021-07-31 05:03:10.000000000,2021-07-31 05:03:10.000000000,1,1,0,803043,d52d282afe2548f58b05bca936dbbd17f37c3cf9,10,6,2,1,14985,Alex Schultz,mwhahaha,"Stop running minion for Wallaby+

With the switch to ephemeral heat for the overcloud, the minion is no
longer viable. This change updates the branches to only run T->V where
the minion should work and was supported.

Related-Bug: #1938539
Change-Id: I5855de77b700124be0d0332ebe6a3f80524c521e
"
openstack%2Fneutron~master~I39ab562bb3cd8d3f606cc609feb0009c83033a0c,openstack/neutron,master,delete-network-refactor,I39ab562bb3cd8d3f606cc609feb0009c83033a0c,Re-factor delete_network() in base plugin,ABANDONED,2017-12-06 18:15:25.000000000,2021-07-31 02:39:43.000000000,,1,6,4,526137,0a9b8f7681e471959d6d97704aa2bd28e626dc2b,17,7,1,1,1131,Brian Haley,brian-haley,"Re-factor delete_network() in base plugin

Since the notification code only passes the network_id, we
can move the load of the network until after the
PRECOMMIT_DELETE notifier has fired.  This allows us to
remove the session expire and re-load of the network.

Change-Id: I39ab562bb3cd8d3f606cc609feb0009c83033a0c
Depends-on: Ib12986c25eda25970445169310c7c0334d6da49c
"
openstack%2Fcharm-specs~master~I315ffbdb2a1a0ab993fca1c0f39f758b214a36ce,openstack/charm-specs,master,compute-nodes-az-sync,I315ffbdb2a1a0ab993fca1c0f39f758b214a36ce,Add compute-nodes-az-sync spec,MERGED,2021-02-03 16:37:32.000000000,2021-07-31 02:36:16.000000000,2021-07-31 02:35:05.000000000,110,0,0,773943,a6f8b11c24f1f914db46ed5ff93069a06698dd94,12,3,1,1,13178,Ionut-Madalin Balutoiu,ibalutoiu,"Add compute-nodes-az-sync spec

It proposes an automatic way to sync the Juju availability zones
with the OpenStack availability zones.

Change-Id: I315ffbdb2a1a0ab993fca1c0f39f758b214a36ce
"
openstack%2Foctavia-tempest-plugin~master~Ie448a258b8171dd2695eb8ef9e7bbf968d9542be,openstack/octavia-tempest-plugin,master,,Ie448a258b8171dd2695eb8ef9e7bbf968d9542be,Add to test_server.go an http query option for response codes,NEW,2020-12-06 17:49:04.000000000,2021-07-31 02:32:30.000000000,,24,0,0,765686,2425cdf401435cd0067fcd978a7d0e1f615d6c5d,6,5,1,1,27821,Noam Manos,nmanos,"Add to test_server.go an http query option for response codes

Usage example:

$ wget http://localhost:9090/response?code=911 --server-response
  HTTP/1.1 911 status code 911

$ wget http://localhost:9090/response?code=BAD-INPUT --server-response
  HTTP/1.1 422 Unprocessable Entity

$ wget http://localhost:9090/response --server-response
  HTTP/1.1 404 Not Found

Signed-off-by: Noam Manos <nmanos@redhat.com>
Change-Id: Ie448a258b8171dd2695eb8ef9e7bbf968d9542be
"
openstack%2Foctavia-tempest-plugin~master~I2eff691478cea7372f7b71e1412e65a7a2d6f2c4,openstack/octavia-tempest-plugin,master,centos-gating,I2eff691478cea7372f7b71e1412e65a7a2d6f2c4,Switch default system under test to CentOS 8 Stream,NEW,2020-08-19 16:51:48.000000000,2021-07-31 02:32:18.000000000,,32,6,6,746996,daa1761e126fcd10f60f9d1a63c8de1bb21181b2,48,3,14,2,6469,Carlos Gonçalves,cgoncalves,"Switch default system under test to CentOS 8 Stream

It is important for projects to do their main CI/CD primarily on the
most common environment used by operators.

The majority of the current participating Octavia community seem to be
running Octavia workloads on CentOS/RHEL operating systems based on
multiple conversations held on IRC and community events. Also according
to the OpenStack User Survey 2019 [1], a combined 55% of OpenStack cloud
deployments run mainly on these operating systems.

CentOS 8 Stream is one of two LTS or stable distributions for Xena [2].
This qualifies it to be a candidate to be the main distribution in our
CI jobs.

This patch changes the default nodeset for master jobs to CentOS 8
Stream.
Future stable branches (stable/xena onwards) will also test on CentOS
8 Stream. Existing stable branches will be left untouched.

[1] https://www.openstack.org/analytics
[2] https://governance.openstack.org/tc/reference/runtimes/xena.html

Change-Id: I2eff691478cea7372f7b71e1412e65a7a2d6f2c4
"
openstack%2Ftripleo-heat-templates~master~I1c1caf79011a10a9e8c7cafca7a68d8ef5ae26d0,openstack/tripleo-heat-templates,master,,I1c1caf79011a10a9e8c7cafca7a68d8ef5ae26d0,Add service dependencies to Octavia,NEW,2021-02-18 14:00:33.000000000,2021-07-31 02:32:04.000000000,,24,0,0,776460,4fb87c96aadf37ecc67e631a3b0fcbb177788699,5,3,1,4,6469,Carlos Gonçalves,cgoncalves,"Add service dependencies to Octavia

Octavia depends on OpenStack services like Nova, Neutron and Glance to
service properly. Octavia should not be started before these dependency
services are up.

An example we have seen multiple times where service startup order is
relevant is when all controller nodes are rebooted at the same time.
The Octavia Health Manager starts before the network dataplane is wired,
times out waiting for amphorae to check in (via Neutron tenant network
lb-mgmt-net) and triggers amphora failover. The failover flow
then fails because Neutron is still unavailable.

Presently, the 'depends_on' list translates to the ""Wants="" systemd
directive. This is not ideal because ""Wants="" is less strict than he
""Requires="" directive, i.e. systemd will attempt to start any units
listed there but continue with the current unit if the dependency units
are not found or fail to start. Yet, ""Wants="" is better than what we
have today.

Change-Id: I1c1caf79011a10a9e8c7cafca7a68d8ef5ae26d0
"
openstack%2Foctavia~master~I34bfa4ee7e1483419f9a0777acce7697d14a27fa,openstack/octavia,master,del_tls_listener,I34bfa4ee7e1483419f9a0777acce7697d14a27fa,Fix listener delete with missing certificates,NEW,2021-01-03 02:27:38.000000000,2021-07-31 02:31:49.000000000,,9,5,4,768909,a9068f8cc4362e92c8f7bc925546497fc2d418fa,15,3,4,1,29870,sunxifa,sunxifa,"Fix listener delete with missing certificates

When certificates were deleted in barbican, the listener using the
missing certificates cannot be deleted due to the processing certs
exceptions. But any way, we should still be able to delete the
listener.

Change-Id: I34bfa4ee7e1483419f9a0777acce7697d14a27fa
Story: 2008483
Task: 41529
"
openstack%2Fdevstack~master~Ib6bbe6943abc13bcb6730bc3248b98f3d351fd49,openstack/devstack,master,async,Ib6bbe6943abc13bcb6730bc3248b98f3d351fd49,Start more services in parallel,NEW,2021-02-04 00:56:13.000000000,2021-07-31 02:31:24.000000000,,12,9,4,774022,22a48edb2d946f1469e2dc3030cbb4026359d870,13,2,5,1,4393,Dan Smith,danms,"Start more services in parallel

This starts nova api, ovn, placement in the background while we
start and configure neutron in the main thread.

Change-Id: Ib6bbe6943abc13bcb6730bc3248b98f3d351fd49
"
openstack%2Fosc-placement~master~I62f5a620e6639c29d4a8ed99f7e42b72f7af1a74,openstack/osc-placement,master,support-re-parenting-providers,I62f5a620e6639c29d4a8ed99f7e42b72f7af1a74,Mark microversion 1.37 supported,MERGED,2021-03-31 08:03:06.000000000,2021-07-31 01:21:55.000000000,2021-07-31 01:20:41.000000000,1,0,2,784023,8b3ed3c663e8b36ec6698b2b8990cba2be27052c,16,5,3,1,9708,Balazs Gibizer,gibi,"Mark microversion 1.37 supported

Microversion 1.37 adds support for re-parenting and un-parenting RPs.
The client supports these operations with the new microversion out of
the box. So this patch just marks the microversion as supported.

Story: 2008764
Task: 42132
Depends-On: https://review.opendev.org/c/openstack/placement/+/784020
Change-Id: I62f5a620e6639c29d4a8ed99f7e42b72f7af1a74
"
openstack%2Fcharm-nova-cloud-controller~master~I5a6bd1fa06d06dfd3e49182cc72ad83025429b13,openstack/charm-nova-cloud-controller,master,bug/1677223,I5a6bd1fa06d06dfd3e49182cc72ad83025429b13,Expose *_allocation_ratio config,MERGED,2021-05-24 04:17:52.000000000,2021-07-30 23:12:00.000000000,2021-07-30 23:12:00.000000000,9,0,1,792752,eeac5fca9665d7d6ddf00db51a62a1272b2d5ea6,25,3,4,1,26032,Brett Milford,brett,"Expose *_allocation_ratio config

This commit exposes allocation ratio configuration via the cloud-compute
relation for backwards compatiable behaviour of the charms when
configuration of allocation ratios is delegated to nova-compute.

Closes-Bug: #1677223
Change-Id: I5a6bd1fa06d06dfd3e49182cc72ad83025429b13
"
openstack%2Fopenstack-helm-infra~master~I98102bd9c72264c7e364b50e0683e4777b42b0e7,openstack/openstack-helm-infra,master,,I98102bd9c72264c7e364b50e0683e4777b42b0e7,Revoke all privileges for PUBLIC role in postgres dbs,MERGED,2021-07-29 18:36:05.000000000,2021-07-30 22:54:21.000000000,2021-07-30 22:53:04.000000000,5,1,1,802925,bc754e088e5e32e7a1559d5e1bab5ff23ac8ae2a,20,10,3,3,33592,Maximilian Weiss,mw885f,"Revoke all privileges for PUBLIC role in postgres dbs

Change-Id: I98102bd9c72264c7e364b50e0683e4777b42b0e7
"
openstack%2Fopenstack-helm-infra~master~I0d6633efae7452fee4ce98d3e7088a55123f0a78,openstack/openstack-helm-infra,master,,I0d6633efae7452fee4ce98d3e7088a55123f0a78,Limit Ceph OSD Container Security Contexts,MERGED,2021-07-29 20:23:04.000000000,2021-07-30 22:45:27.000000000,2021-07-30 22:44:18.000000000,6,2,0,802959,b55143dec25d31efa2d3630c10c7512cc9591153,11,5,2,3,22636,Cliff Parsons,cliffparsons,"Limit Ceph OSD Container Security Contexts

Wherever possible, the ceph-osd containers need to run with the
least amount of privilege required. In some cases there are
privileges granted but are not needed. This patchset modifies
those container's security contexts to reduce them to only what
is needed.

Change-Id: I0d6633efae7452fee4ce98d3e7088a55123f0a78
"
openstack%2Fopenstack-helm-infra~master~I74bd31df4af5cacc26834e645b0816bf285e8428,openstack/openstack-helm-infra,master,,I74bd31df4af5cacc26834e645b0816bf285e8428,Limit Ceph Provisioner Container Security Contexts,MERGED,2021-07-28 14:53:37.000000000,2021-07-30 22:38:31.000000000,2021-07-30 22:37:16.000000000,9,5,0,802734,6e794561ac6fd0b484e6af85ab4e6b3bb8e237f1,19,6,5,3,22636,Cliff Parsons,cliffparsons,"Limit Ceph Provisioner Container Security Contexts

Wherever possible, the ceph-provisioner containers need to run
with the least amount of privilege required. In some cases there
are privileges granted but are not needed. This patchset modifies
those container's security contexts to reduce them to only what
is needed.

Change-Id: I74bd31df4af5cacc26834e645b0816bf285e8428
"
openstack%2Fopenstack-tempest-skiplist~master~I94f02dd2b154a9ee5a2a798a6b7c7a138766e4bf,openstack/openstack-tempest-skiplist,master,BZ1985079,I94f02dd2b154a9ee5a2a798a6b7c7a138766e4bf,Skip octavia_tempest_plugin.tests.scenario.v2,ABANDONED,2021-07-22 19:33:01.000000000,2021-07-30 21:40:48.000000000,,12,0,0,801922,1c651a0b5d7de5fff9b43f5a035bf027471b4a9c,5,2,1,1,9976,Ronelle Landy,rlandy,"Skip octavia_tempest_plugin.tests.scenario.v2

These tests are failing on rhos-17 in the
network component line and the integration line.

Change-Id: I94f02dd2b154a9ee5a2a798a6b7c7a138766e4bf
Related-Bug: BZ1985079
"
openstack%2Fpuppet-pacemaker~master~Ic8a8e127004220bb8b6735b6cf8b4b52c03fa825,openstack/puppet-pacemaker,master,fix-ci,Ic8a8e127004220bb8b6735b6cf8b4b52c03fa825,Fix spec tests using the deprecated pacemaker_restart_resource? function,MERGED,2021-07-30 12:52:40.000000000,2021-07-30 21:02:13.000000000,2021-07-30 21:02:13.000000000,15,11,0,803007,531283ecea579bf0576bd515770d9cf6513e48c7,7,3,1,1,20172,Michele Baldessari,michele,"Fix spec tests using the deprecated pacemaker_restart_resource? function

Currently we get the following error:

  1) pcmk_common functions pcmk_restart_resource? stonith resource
     Failure/Error: expect(pcmk_restart_resource?('stonith-fence_ipmilan-stonith-fence-1', ""cib-resource.xml"")).to eq true

       expected: true
            got: false

       (compared using ==)

       Diff:
       @@ -1 +1 @@
       -true
       +false

     # ./spec/unit/puppet/provider/pcmk_common_spec.rb:41:in `block (2 levels) in <top (required)>'

Reason for this is that there are two functions to detect a change in a
pcmk resource:
- pacemaker_restart_resource? -> which parses crm_simulate and was
  necessary due to https://bugzilla.redhat.com/show_bug.cgi?id=1561617
  (Fixed in pacemaker-1.1.18-12)
- pacemaker_restart_resource_ng? -> which is the preferred one and uses
  crm_diff xml output.

The problem in CI is that crm_simulate output slightly changed and so
one test is failing. Since it makes no sense to call
pacemaker_restart_resource? with a working crm_diff (i.e. any pacemaker
> 1.1.18-12), we just make sure we do not run these tests on a working
crm_diff.

We plan to remove pacemaker_restart_resource? fully now that newton (and
el7) is unsupported, so this change is a minimal non-invasive fix for
the time being.

Closes-Bug: #1921118

Change-Id: Ic8a8e127004220bb8b6735b6cf8b4b52c03fa825
"
openstack%2Ftripleo-upgrade~master~I32494fb21d40cd3231e619c748fdfce7ff891f50,openstack/tripleo-upgrade,master,,I32494fb21d40cd3231e619c748fdfce7ff891f50,Move the upgrade prepare script generation in the build script playbook.,MERGED,2021-07-09 11:01:19.000000000,2021-07-30 21:02:10.000000000,2021-07-30 21:02:10.000000000,27,17,0,800200,ef5bfc5bdf4dea47b6e3de51a02fdc7ced475aea,17,6,2,4,26343,Jose Luis Franco,jfrancoa,"Move the upgrade prepare script generation in the build script playbook.

Currently, the overcloud_upgrade_prepare.sh script was being built in the
overcloud_upgrade_prepare.yaml playbook to make sure the upgrade_prepare_extra_params
parameter was up to date. However, this parameter is not used anymore in
the ffu workflow and the upgrades workflow is not being used by our CI so
it should be safe to move it back to the create-overcloud-ffu-script.yaml.

Change-Id: I32494fb21d40cd3231e619c748fdfce7ff891f50
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I9c3a38b828404b559ca4858e1d4e1297aa668301,openstack/tripleo-heat-templates,stable/wallaby,cephadm_debug_mode,I9c3a38b828404b559ca4858e1d4e1297aa668301,Add CephAdmDebug parameter,MERGED,2021-07-30 07:03:59.000000000,2021-07-30 21:02:08.000000000,2021-07-30 21:02:08.000000000,7,0,0,802941,f85b09bf2dfe2abb3650a9b98d5824b25f27cbb9,11,8,1,1,25402,Francesco Pantano,fmount,"Add CephAdmDebug parameter

This change adds the cephadm debug parameter to allow operators to
set the debug related config-key and see a more verbose output.

Depends-On: Ic2e54e537b50cb92b1650e78f1af61703e877763
Change-Id: I9c3a38b828404b559ca4858e1d4e1297aa668301
(cherry picked from commit cf0b6a161c7425a149b453705b33f9f79fd08e87)
"
openstack%2Fnova~master~I74e090e699bf1163b2038b2dc430d01e1625b01c,openstack/nova,master,bp/nova-audit,I74e090e699bf1163b2038b2dc430d01e1625b01c,WIP: nova-audit: Use cliff instead of homegrown argparse bleh,NEW,2021-07-30 16:54:49.000000000,2021-07-30 20:48:14.000000000,,1311,517,0,803059,2c625123ce0038db6a222fd61c31455a43fc821e,5,1,1,7,15334,Stephen Finucane,sfinucan,"WIP: nova-audit: Use cliff instead of homegrown argparse bleh

There are a couple of advantages to this approach, chief among them
being the free docs and alignment with things like openstackclient.
cliff is added to requirements.txt, although it's really been a
dependency for many years now, albeit implicitly.

WIP because some of the PlacementHealAllocationsTestCase tests are
failing due to the following error:

  NotImplementedError: Cannot load 'database_connection' in the base
  class

Caused by:

  with context.target_cell(ctxt, cell) as cctxt:

Not sure what's changed here and why this wasn't happening before.
Missing configuration? I also need to finish converting the functional
tests.

Change-Id: I74e090e699bf1163b2038b2dc430d01e1625b01c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fsahara~master~I4ba83f1007dd11801b8e32c6d7566769e005480b,openstack/sahara,master,fix-docs-reqs,I4ba83f1007dd11801b8e32c6d7566769e005480b,Preinstall requirements for docs build,MERGED,2021-07-30 18:05:16.000000000,2021-07-30 20:34:40.000000000,2021-07-30 20:33:09.000000000,1,0,0,803061,e0136189fc147deb7c4b92ed93eabb3cdcb9b7bb,7,2,1,1,17685,Elod Illes,elod.illes,"Preinstall requirements for docs build

Sphinx installs the package with its dependencies, but it does not use
the constraints. This can lead to errors if a dependency introduces any
backward incompatible changes. To avoid this the dependencies needs to
be installed prior to sphinx run by tox with the correct constraints.

Change-Id: I4ba83f1007dd11801b8e32c6d7566769e005480b
"
openstack%2Fnova~master~Idcd5f9b3ec67cb3c68d744b7f3a1b796f0829231,openstack/nova,master,bp/nova-audit,Idcd5f9b3ec67cb3c68d744b7f3a1b796f0829231,Move nova-manage db purge to nova-audit,NEW,2020-02-20 02:33:46.000000000,2021-07-30 20:14:16.000000000,,536,115,3,708783,6ecc10ff674af0783e5b4ee5ad4dd6768f400bca,44,12,5,13,4690,melanie witt,melwitt,"Move nova-manage db purge to nova-audit

This deprecates the 'nova-manage db purge' command and moves it to the
'nova-audit database purge' command. Associated tests are also moved and
documentation is copied across from the existing nova-manage docs.

Additional commands will be deprecated and moved in separate patches to
help make review easier.

Part of blueprint nova-audit

Change-Id: Idcd5f9b3ec67cb3c68d744b7f3a1b796f0829231
"
openstack%2Fplacement~master~I569043dd9f1c964faf7d4fcbb901a93f9569bf3d,openstack/placement,master,,I569043dd9f1c964faf7d4fcbb901a93f9569bf3d,placement-status: check only consumers in allocation table,MERGED,2020-11-17 10:41:08.000000000,2021-07-30 19:50:08.000000000,2021-07-30 19:48:50.000000000,19,7,7,762987,3253e2efc05836b0b5cefafbf2b2656e9e1a50c7,19,4,3,2,21813,Andrey Volkov,avolkov,"placement-status: check only consumers in allocation table

Initially, _check_incomplete_consumers was intended to find the case
when consumers are mentioned in allocation but do not exist in the
consumer table. Due to a bug it's possible to have rows in the
consumer table those are not in the allocation table. The second case
it seems was not expected and it can be tricky to automate a cleanup
with zero touch upgrade.

This patch modifies the check such way it counts only consumers
presented in the allocation table.

Related-bug: #1780799
Change-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d
"
openstack%2Fnova~master~I9227827e2ad00e09ae2a95b74fbd60feb486ae67,openstack/nova,master,bp/nova-audit,I9227827e2ad00e09ae2a95b74fbd60feb486ae67,Move nova-manage db archive_deleted_rows to nova-audit,NEW,2020-02-20 02:33:46.000000000,2021-07-30 19:46:29.000000000,,1190,1007,5,708784,bedd8f6fb806e971c994cd97d855db89a3ec5da1,45,12,5,9,4690,melanie witt,melwitt,"Move nova-manage db archive_deleted_rows to nova-audit

This deprecates the 'nova-manage db archive_deleted_rows' command
and moves it to the 'nova-audit database archive_deleted_rows' command.

Associated unit and functional tests are also moved, as are docs.

Part of blueprint nova-audit

Change-Id: I9227827e2ad00e09ae2a95b74fbd60feb486ae67
"
openstack%2Fnova~master~I1704a16616e46b412a61c34ccec56f64dbf1eedc,openstack/nova,master,bp/nova-audit,I1704a16616e46b412a61c34ccec56f64dbf1eedc,Move nova-manage placement heal_allocations to nova-audit,NEW,2020-02-20 02:33:46.000000000,2021-07-30 19:43:41.000000000,,2446,2235,15,708788,af6f0eb583ea2103fb3d25eef7f92b578910948b,41,11,6,9,4690,melanie witt,melwitt,"Move nova-manage placement heal_allocations to nova-audit

This deprecates the 'nova-manage placement heal_allocations' command
and moves it to the 'nova-audit placement heal_allocations' command.
Associated unit and functional tests are also moved.

Part of blueprint nova-audit

Change-Id: I1704a16616e46b412a61c34ccec56f64dbf1eedc
"
openstack%2Fnova~master~I4967e80bb5a9399beafa5611997ba343d74d9094,openstack/nova,master,bp/nova-audit,I4967e80bb5a9399beafa5611997ba343d74d9094,Move nova-manage placement sync_aggregates to nova-audit,NEW,2020-02-20 02:33:46.000000000,2021-07-30 19:42:35.000000000,,508,371,0,708787,5325184f7fea69ec76b6996677e6d8e391cc36c0,44,12,5,9,4690,melanie witt,melwitt,"Move nova-manage placement sync_aggregates to nova-audit

This deprecates the 'nova-manage placement sync_aggregates' command
and moves it to the 'nova-audit placement sync_aggregates' command.
Associated tests are also moved.

Part of blueprint nova-audit

Change-Id: I4967e80bb5a9399beafa5611997ba343d74d9094
"
openstack%2Fnova~master~If03d8682fec05c1fbdacd9a82568b31aabb5fe8d,openstack/nova,master,bp/nova-audit,If03d8682fec05c1fbdacd9a82568b31aabb5fe8d,Move nova-manage cell_v2 map_instances to nova-audit,NEW,2020-02-20 02:33:46.000000000,2021-07-30 19:42:18.000000000,,447,341,0,708786,68cfb8a7728f5e193dcd5c736228ffeda98b50bf,42,11,5,7,4690,melanie witt,melwitt,"Move nova-manage cell_v2 map_instances to nova-audit

This deprecates the 'nova-manage cell_v2 map_instances' command and
moves it to the 'nova-audit cells map_instances' command. Associated
tests and docs are also moved.

Part of blueprint nova-audit

Change-Id: If03d8682fec05c1fbdacd9a82568b31aabb5fe8d
"
openstack%2Fnova~master~Id09fadce7c36c70f4e5384c3fccc1879f8454187,openstack/nova,master,bp/nova-audit,Id09fadce7c36c70f4e5384c3fccc1879f8454187,Move nova-manage cell_v2 discover_hosts to nova-manage,NEW,2020-02-20 02:33:46.000000000,2021-07-30 19:20:35.000000000,,334,193,0,708785,14d6a7b49ead8eca62c099dfa82b4007e175c609,42,11,5,8,4690,melanie witt,melwitt,"Move nova-manage cell_v2 discover_hosts to nova-manage

This deprecates the 'nova-manage cell_v2 discover_hosts' command and
moves it to the 'nova-audit cells discover_hosts"" command. Associated
tests and docs are also moved.

Part of blueprint nova-audit

Change-Id: Id09fadce7c36c70f4e5384c3fccc1879f8454187
"
openstack%2Ftempest~master~I093ae5c11f88cc29e91285ff674788de53645b4e,openstack/tempest,master,bug/1914229,I093ae5c11f88cc29e91285ff674788de53645b4e,Wait couple of seconds for dns servers to be set in the guest,MERGED,2021-07-23 11:22:19.000000000,2021-07-30 19:07:24.000000000,2021-07-30 19:05:30.000000000,14,1,0,802005,126fe656a976b3f46a755e83ea9950f72815a87e,9,4,1,1,11975,Slawek Kaplonski,slaweq,"Wait couple of seconds for dns servers to be set in the guest

In test
tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_subnet_details
there is renewal of the DHCP lease made to configure dns nameservers.
And sometimes this test is failing due to missing nameservers in the
/etc/resolv.conf file in the guest VM.
After analyzing logs from such failed jobs I think that the reason of
that may be race between getting dns nameservers from guest VM by test
and actually configuring it inside the guest vm.
So this patch proposes to add wait (5 seconds by default) for non empty
list of the dns nameservers returned from the guest VM. That should
avoid such failures of that test.

Closes-bug: #1914229
Change-Id: I093ae5c11f88cc29e91285ff674788de53645b4e
"
openstack%2Fplacement~master~I17aed41eb05f6ae5a83f97058931b2fb003bfad6,openstack/placement,master,remove-test-helper,I17aed41eb05f6ae5a83f97058931b2fb003bfad6,Remove unused test helper,MERGED,2020-11-24 10:44:05.000000000,2021-07-30 19:07:05.000000000,2021-07-30 19:05:34.000000000,0,37,0,763958,8c01d33666750fc55e25778f6e5b2eb58e107752,9,4,1,1,21813,Andrey Volkov,avolkov,"Remove unused test helper

Deleting CreateIncompleteConsumersTestCase._check_incomplete_consumers.
It was not fully cleaned up by I5a29685d1e22c66e4d09f04198c011e71340a5d0.

Change-Id: I17aed41eb05f6ae5a83f97058931b2fb003bfad6
"
openstack%2Fmanila-specs~master~I66f4dbdc7b6f9d18b8bb4b6fffdea4f5b0849395,openstack/manila-specs,master,bp/affinity-antiaffinity-filter,I66f4dbdc7b6f9d18b8bb4b6fffdea4f5b0849395,Add Share Affinity/Anti-Affinity Scheduler Filters,MERGED,2021-02-11 16:00:43.000000000,2021-07-30 18:41:56.000000000,2021-07-30 18:40:20.000000000,248,0,46,775198,816a17b924bbcacd3bb052f42c80bbfb22ca9a2f,66,11,11,1,18816,Maurice Escher,mapocace,"Add Share Affinity/Anti-Affinity Scheduler Filters

Change-Id: I66f4dbdc7b6f9d18b8bb4b6fffdea4f5b0849395
"
openstack%2Fnova~master~Ic0f2c326ebce8d7c89b0debf5225cbe471daca03,openstack/nova,master,bp/remove-sqlalchemy-migrate,Ic0f2c326ebce8d7c89b0debf5225cbe471daca03,db: Use module-level imports for sqlalchemy (for real),MERGED,2021-06-15 15:56:10.000000000,2021-07-30 18:19:13.000000000,2021-07-30 17:57:47.000000000,1128,1098,0,796519,43de2421b37e5e91418819f728c56bc56fa8d7ed,79,3,3,15,15334,Stephen Finucane,sfinucan,"db: Use module-level imports for sqlalchemy (for real)

Change If90d9295b231166a28c2cc350d324691821a696b kicked off this effort
but only change the migrations. This change completes the job.

Change-Id: Ic0f2c326ebce8d7c89b0debf5225cbe471daca03
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I5fd6c6f74b7de2b422359cbe72defb07252e6b1e,openstack/nova,master,bp/remove-sqlalchemy-migrate,I5fd6c6f74b7de2b422359cbe72defb07252e6b1e,db: Move db.sqalchemy.migration to db.migration,MERGED,2021-07-05 16:25:44.000000000,2021-07-30 18:00:42.000000000,2021-07-30 17:57:54.000000000,135,177,0,799518,4bbea58cbb0f24f5be52738d8361c37d286506eb,32,3,1,6,15334,Stephen Finucane,sfinucan,"db: Move db.sqalchemy.migration to db.migration

At this point is nova's lifecycle, we're not going to change our ORM,
making the layer of indirection that is 'nova.db.sqlalchemy' is a
useless one. Start removing it with the 'migration' module.

Change-Id: I5fd6c6f74b7de2b422359cbe72defb07252e6b1e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-ansible~master~I8ba81b6384e9534894e27771f5147f26e39ea4a3,openstack/tripleo-ansible,master,bnr_cephadm,I8ba81b6384e9534894e27771f5147f26e39ea4a3,WIP - Managed ceph when is installed with cephadm,ABANDONED,2021-06-08 13:04:22.000000000,2021-07-30 17:35:27.000000000,,135,134,11,795318,faaf6c1cfeb66395642f82fc4c31223adb752801,20,3,5,9,22954,Juan Badia Payno,jbadiapa,"WIP - Managed ceph when is installed with cephadm

Change-Id: I8ba81b6384e9534894e27771f5147f26e39ea4a3
"
openstack%2Fkayobe~stable%2Fussuri~Iddb699aa98ddee8446d532ce4bd23ba9174fb38e,openstack/kayobe,stable/ussuri,dib-disable-kernel-cleanup-stable/ussuri,Iddb699aa98ddee8446d532ce4bd23ba9174fb38e,Remove stale DIB_DISABLE_KERNEL_CLEANUP references,MERGED,2021-07-29 08:54:04.000000000,2021-07-30 17:12:36.000000000,2021-07-30 17:11:02.000000000,2,3,0,802844,c67473e3caf45319d810cfde5784bcc5cf42a89b,9,3,1,2,15197,Pierre Riteau,priteau,"Remove stale DIB_DISABLE_KERNEL_CLEANUP references

Documentation about DIB_DISABLE_KERNEL_CLEANUP was left in place after
the variable was removed in Ie25e88bb96f186399ae69837e93185127628ce86.

Backport: wallaby, victoria, ussuri

Change-Id: Iddb699aa98ddee8446d532ce4bd23ba9174fb38e
(cherry picked from commit d4bbdada8209d3e1872c2beca9aee6fe62850ece)
"
openstack%2Fkayobe~stable%2Fvictoria~Iddb699aa98ddee8446d532ce4bd23ba9174fb38e,openstack/kayobe,stable/victoria,dib-disable-kernel-cleanup-stable/victoria,Iddb699aa98ddee8446d532ce4bd23ba9174fb38e,Remove stale DIB_DISABLE_KERNEL_CLEANUP references,MERGED,2021-07-29 08:53:04.000000000,2021-07-30 17:11:34.000000000,2021-07-30 17:10:09.000000000,2,3,0,802787,aacb270935bccd39dd6b1ad749771b8841bbf4b2,8,3,1,2,15197,Pierre Riteau,priteau,"Remove stale DIB_DISABLE_KERNEL_CLEANUP references

Documentation about DIB_DISABLE_KERNEL_CLEANUP was left in place after
the variable was removed in Ie25e88bb96f186399ae69837e93185127628ce86.

Backport: wallaby, victoria, ussuri

Change-Id: Iddb699aa98ddee8446d532ce4bd23ba9174fb38e
(cherry picked from commit d4bbdada8209d3e1872c2beca9aee6fe62850ece)
"
openstack%2Fkayobe~stable%2Fwallaby~Iddb699aa98ddee8446d532ce4bd23ba9174fb38e,openstack/kayobe,stable/wallaby,dib-disable-kernel-cleanup-stable/wallaby,Iddb699aa98ddee8446d532ce4bd23ba9174fb38e,Remove stale DIB_DISABLE_KERNEL_CLEANUP references,MERGED,2021-07-29 08:52:51.000000000,2021-07-30 17:11:25.000000000,2021-07-30 17:10:07.000000000,2,3,0,802786,69d2b648f7c0b23adcaecdff1ecbb201a994d8e7,10,3,1,2,15197,Pierre Riteau,priteau,"Remove stale DIB_DISABLE_KERNEL_CLEANUP references

Documentation about DIB_DISABLE_KERNEL_CLEANUP was left in place after
the variable was removed in Ie25e88bb96f186399ae69837e93185127628ce86.

Backport: wallaby, victoria, ussuri

Change-Id: Iddb699aa98ddee8446d532ce4bd23ba9174fb38e
(cherry picked from commit d4bbdada8209d3e1872c2beca9aee6fe62850ece)
"
openstack%2Fkayobe~stable%2Fwallaby~I424c1e3e6c488913d316e6b792d429599ea4de7c,openstack/kayobe,stable/wallaby,,I424c1e3e6c488913d316e6b792d429599ea4de7c,Use stream8 images with molecule,MERGED,2021-07-29 08:55:28.000000000,2021-07-30 16:44:40.000000000,2021-07-30 16:42:45.000000000,4,4,0,802788,9ca07b851ac9ca5d43a353a572e4cc553999ce98,11,4,1,2,15197,Pierre Riteau,priteau,"Use stream8 images with molecule

Change-Id: I424c1e3e6c488913d316e6b792d429599ea4de7c
(cherry picked from commit cf60ba0d49b54abdbace9f878d85fc77cec315f7)
"
openstack%2Fdevstack~stable%2Fvictoria~I39ccefbd06f46adf5077f8d8001f37d3b190f040,openstack/devstack,stable/victoria,centos8-stream-stable/victoria,I39ccefbd06f46adf5077f8d8001f37d3b190f040,fix is_fedora for centos 8 stream,NEW,2021-07-30 14:16:17.000000000,2021-07-30 16:27:49.000000000,,2,2,0,803023,7c013b7085f27192a04ca6c961ec117191c8c7bd,3,3,1,1,16312,Alfredo Moralejo,amoralej,"fix is_fedora for centos 8 stream

When deploying on the centos 8 stream variant
the output of ""lsb_release -i -s"" is
CentOSStream instead of CentOS

This breaks the is_fedora function in devstack
preventing package installation and removal.

Change-Id: I39ccefbd06f46adf5077f8d8001f37d3b190f040
(cherry picked from commit e7c017bd8998d9cc8c4712efe992239c73f340d1)
"
openstack%2Fproject-config~master~Iaa6fc7b0a9dca20ea77637a3890c603837ac7014,openstack/project-config,master,project-rename-taas,Iaa6fc7b0a9dca20ea77637a3890c603837ac7014,Rename x/tap-as-a-service to openstack/tap-as-a-service,MERGED,2021-05-06 16:09:38.000000000,2021-07-30 16:12:38.000000000,2021-07-30 15:18:06.000000000,15,9,15,790093,feaae221964c8e4174e10f03ee3941aa69055fc3,29,8,3,5,8313,Lajos Katona,elajkat,"Rename x/tap-as-a-service to openstack/tap-as-a-service

Neutron team accepted to include tap-as-a-service as a stadium project
on last PTG (see [0] ~l212), for this tap-as-a-service (taas) must be
under openstack/ namespace.

The renaming includes only x/tap-as-a-service.
* x/tap-as-a-service-tempest-plugin: the tests should be merged to
neutron-tempest-plugin.
* x/tap-as-a-service-dashboard: unmaintained, and Neutron doesn't govern
Horizon plugins

[0] https://etherpad.opendev.org/p/neutron-xena-ptg

Change-Id: Iaa6fc7b0a9dca20ea77637a3890c603837ac7014
"
openstack%2Fcharm-neutron-openvswitch~stable%2F21.04~I4fe9e57f22d92b635fbdff6ded059d2002363c82,openstack/charm-neutron-openvswitch,stable/21.04,batch-update,I4fe9e57f22d92b635fbdff6ded059d2002363c82,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:04:07.000000000,2021-07-30 16:12:34.000000000,2021-07-30 16:12:34.000000000,18,13,0,799266,bdda4ae40874d3619afb7d5f0a51248c46595667,28,4,2,3,11805,Corey Bryant,coreycb,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I4fe9e57f22d92b635fbdff6ded059d2002363c82
"
openstack%2Fglance~stable%2Fussuri~Ia5a01089fe0eeb8fe0a1ec5a7cd0557835a46f9e,openstack/glance,stable/ussuri,bug/1885825,Ia5a01089fe0eeb8fe0a1ec5a7cd0557835a46f9e,Make test-setup.sh compatible with mysql8,MERGED,2021-07-30 14:08:53.000000000,2021-07-30 14:48:02.000000000,2021-07-30 14:46:28.000000000,2,2,0,803040,9d98f2f177d753e2514e6b48d2ec417a4a259a30,8,3,1,1,8122,Cyril Roelandt,cyril.roelandt.enovance,"Make test-setup.sh compatible with mysql8

Starting from mysql version 8 it's not possible to create a user
implictly when using GRANT.

This patch makes the behavior compatible with that.

Change-Id: Ia5a01089fe0eeb8fe0a1ec5a7cd0557835a46f9e
Co-written-by: Riccardo Pittau <elfosardo@gmail.com>
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit b220030070adbea0bd253dfa390218d30b047154)
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I8bab41ee9af9729cd63ed7132928cfbc1770887a,openstack/python-tripleoclient,stable/wallaby,wallaby_utils_export_cyclic_import,I8bab41ee9af9729cd63ed7132928cfbc1770887a,Remove cyclic import between export and utils,MERGED,2021-07-25 18:46:07.000000000,2021-07-30 14:46:10.000000000,2021-07-30 14:43:03.000000000,17,17,0,802196,9f3b27e389f903ec3008fd048189a97e2aba7689,16,4,2,5,18002,John Fulton,fultonj,"Remove cyclic import between export and utils

Because export imports utils and utils imports export
there is a cyclic import so pylint objects PEP8 R0401.

overcloud_deploy and overcloud_export need the function
export_overcloud which depends on export. The function
export_overcloud was added to utils for that import but
this created the cyclic import. To work around this,
redefine the export_overcloud function in export and
have overcloud_deploy and overcloud_export import it
from export, not utils. Then remove the utils import
of export.

Change-Id: I8bab41ee9af9729cd63ed7132928cfbc1770887a
(cherry picked from commit 3f6f67c106cbb48292a7bf6c07a3e7c7141936b5)
"
openstack%2Ftripleo-ci~master~I77e0d4a8f7ad430c26abe08ccdcdbfbb82901070,openstack/tripleo-ci,master,,I77e0d4a8f7ad430c26abe08ccdcdbfbb82901070,Fix typo in job definition yaml,MERGED,2021-07-14 16:07:37.000000000,2021-07-30 14:43:01.000000000,2021-07-30 14:43:01.000000000,1,1,0,800808,03f09fa15626d35a586e6dd12d82bc21909a9881,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Fix typo in job definition yaml

Trivial-Fix

Change-Id: I77e0d4a8f7ad430c26abe08ccdcdbfbb82901070
"
openstack%2Fglance~master~I52e9fbe5ef0e7c3021076d84e9b3df89012c45b9,openstack/glance,master,policy-refactor,I52e9fbe5ef0e7c3021076d84e9b3df89012c45b9,PoC Move member policy checks to API layer,ABANDONED,2021-07-27 13:32:55.000000000,2021-07-30 14:40:43.000000000,,239,16,0,802526,11bda84da77b3e0a7272c431f2ab4f385cdf61d1,8,2,3,5,9303,Abhishek Kekane,abhishekkekane,"PoC Move member policy checks to API layer

This change enforce member policy checks in API layer and disables
read-only checks at auth layer and disables policy layer as well.

ToDo:
1. Need to make this patch dependent on image policy refactoring (get_image)
2. Carefully verify read only checks at auth layer vs secure RBAC policy
3. Provide additional test coverage

Partially implements: blueprint policy-refactor
Change-Id: I52e9fbe5ef0e7c3021076d84e9b3df89012c45b9
"
openstack%2Fnetworking-bgpvpn~master~If55f0eb08c34e95ba5bc1865f7b6c107a86cd5af,openstack/networking-bgpvpn,master,bug/1938461,If55f0eb08c34e95ba5bc1865f7b6c107a86cd5af,Use payloads for PORT events,MERGED,2021-07-29 16:47:00.000000000,2021-07-30 14:38:54.000000000,2021-07-30 14:37:34.000000000,25,22,0,802916,64cf49e5fae72c195acc9a572c89c7005601f877,9,5,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Use payloads for PORT events

This patch switches the code over to the payload style of callbacks [1]
for PORT events for those that are not using them yet.

This patch is necessary since [2].

[1]https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html
[2]https://review.opendev.org/c/openstack/neutron/+/800604

Closes-Bug: #1938461
Change-Id: If55f0eb08c34e95ba5bc1865f7b6c107a86cd5af
"
openstack%2Fpuppet-tripleo~master~Icd8b4f07f1286b1c40c438f0dea3e32d5a6b010f,openstack/puppet-tripleo,master,json_rpc,Icd8b4f07f1286b1c40c438f0dea3e32d5a6b010f,"Revert ""Configure json_rpc/authtoken sections for ironic""",ABANDONED,2021-07-30 10:54:17.000000000,2021-07-30 14:36:42.000000000,,0,2,0,802947,18951d782560534dc9e8fc71924bc35570503563,9,7,1,2,8449,Marios Andreou,marios,"Revert ""Configure json_rpc/authtoken sections for ironic""

This reverts commit 8a847689261e4c97026e2bdeb8ed533260a581f0.

Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1938539

Change-Id: Icd8b4f07f1286b1c40c438f0dea3e32d5a6b010f
"
openstack%2Fironic-inspector~master~I24b08612c4ffc6aca60ca08f3ff5cc769c7c041d,openstack/ironic-inspector,master,pxe-sync-noironic,I24b08612c4ffc6aca60ca08f3ff5cc769c7c041d,Do not reset FSM when ironic ports cant be queried,MERGED,2021-05-13 14:35:30.000000000,2021-07-30 14:29:31.000000000,2021-07-30 14:28:11.000000000,64,10,0,791251,c3b316677cc30eb8df906b4af9800a31a2bfe046,20,5,3,5,9542,Pavlo Shchelokovskyy,pshchelo,"Do not reset FSM when ironic ports cant be queried

It can cause problems, as if a single sync fails, FSM state will be
reset and not put back to initialized state until inspector restart.

Change-Id: I24b08612c4ffc6aca60ca08f3ff5cc769c7c041d
Story: #2008971
Task: #42611
"
openstack%2Fironic~stable%2Fwallaby~Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24,openstack/ironic,stable/wallaby,,Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24,Fix regression in ramdisk deploy kernel parameters,MERGED,2021-07-28 07:29:01.000000000,2021-07-30 14:23:53.000000000,2021-07-30 14:22:21.000000000,90,2,0,802664,5b801be7a456e31c5111971a3ecc2ad140b19ea5,25,3,1,3,10239,Dmitry Tantsur,dtantsur,"Fix regression in ramdisk deploy kernel parameters

After commit d7a5b3469cfb5c16e122451e9cd8594d7a7671a1 the custom kernel
parameters are not used in cleaning/inspection. This patch fixes it.

Conflicts:
	ironic/drivers/modules/image_utils.py
	ironic/tests/unit/drivers/modules/test_image_utils.py

Change-Id: Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24
(cherry picked from commit 171474d69a8b21cac578a38b5153b3f563285e62)
"
openstack%2Fkolla~stable%2Fwallaby~I822d640a251e6ed9f71c76a922513e23e4218418,openstack/kolla,stable/wallaby,change-798212-3-stable/wallaby,I822d640a251e6ed9f71c76a922513e23e4218418,Add missing default policy files for debian-binary-horizon,MERGED,2021-07-30 09:59:37.000000000,2021-07-30 13:40:15.000000000,2021-07-30 13:38:53.000000000,6,1,0,802946,b927e6a41fde204af2f8507dcb1f91005a2c6424,9,4,1,2,14826,Mark Goddard,mgoddard,"Add missing default policy files for debian-binary-horizon

The debian-binary-horizon image is missing the default policies files
which should be in /etc/openstack-dashboard/default_policies. By copying
everything from /etc/openstack-dashboard/policy
into /etc/openstack-dashboard, we get the default policy files, as well
as commented out policy files (e.g. cinder_policy.yaml) and the
nova_policy.d directory containing api-extensions.yaml.

Change was merged for ubuntu in [1] but unfortunatelly
not for debian, this trivial patch fixes it also
for debian.

[1] https://review.opendev.org/c/openstack/kolla/+/794589

Closes-Bug: #1933759
Change-Id: I822d640a251e6ed9f71c76a922513e23e4218418
(cherry picked from commit 01d02be25ed043b4541db3ebfc102d013cdc578a)
"
openstack%2Fcharm-ceph-fs~stable%2F21.04~I65f8943b200bcca88220f4f54b13f14109497ea1,openstack/charm-ceph-fs,stable/21.04,batch-update,I65f8943b200bcca88220f4f54b13f14109497ea1,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:12:11.000000000,2021-07-30 13:29:59.000000000,2021-07-30 13:29:59.000000000,1,1,0,799277,f24b9375d5c46be7914b74776b1fec5bd2c4e530,11,4,1,1,11805,Corey Bryant,coreycb,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I65f8943b200bcca88220f4f54b13f14109497ea1
"
openstack%2Ftripleo-ci~master~Ic41af5bd953152712d6cf92b265b7a480dba118b,openstack/tripleo-ci,master,,Ic41af5bd953152712d6cf92b265b7a480dba118b,Moving IRC network reference to OFTC,MERGED,2021-07-17 06:57:46.000000000,2021-07-30 13:29:06.000000000,2021-07-30 13:29:06.000000000,1,1,0,801177,e4c60d9bc328057e642c6394f745fec30511dcf9,8,4,1,1,30615,Tushar Trambak Gite,tushargite96,"Moving IRC network reference to OFTC

Change-Id: Ic41af5bd953152712d6cf92b265b7a480dba118b
"
openstack%2Fkolla~master~I1ad2cea4b920e22e743b147a1b5ad703af0ff6f6,openstack/kolla,master,change-799782-1,I1ad2cea4b920e22e743b147a1b5ad703af0ff6f6,Fix crmadmin not working on masakari Debuntu images,ABANDONED,2021-07-07 10:43:53.000000000,2021-07-30 13:09:26.000000000,,18,0,9,799787,62d2915220f19457d54b97cb61fec0e9568355f4,20,3,3,3,27339,Michal Arbet,michalarbet,"Fix crmadmin not working on masakari Debuntu images

As Masakari-hostmonitor is accessing /dev/shm/*, it
really needs to have same permissions as hacluster-pacemaker
container has (where crmadmin is working normally).

Problem is that permissions are different in above mentioned
containers in Debian/Ubuntu systems, and is caused by
Debian/Ubuntu way of creating users and groups - they are not
specifying uuids and gids as centos does (uuid/gid: 189).

Moreover above mentioned are built from different base images,
hacluster-pacemaker (base), masakari-hostmonitor (openstack-base).
So, there is no guarantee to have same uuids,gids in final images.

This patch is creating user/group right before package installation
and setting uuid/gid 189 as centos does.

Closes-Bug: #1934753

Change-Id: I1ad2cea4b920e22e743b147a1b5ad703af0ff6f6
"
openstack%2Fkolla~stable%2Fussuri~I41066427169381e2bc57c70f7003bf4d83d9cde7,openstack/kolla,stable/ussuri,bp/masakari-hostmonitor-stable/ussuri,I41066427169381e2bc57c70f7003bf4d83d9cde7,masakari: Add crm_mon to masakarimonitors sudoers,MERGED,2021-07-30 09:15:13.000000000,2021-07-30 12:27:46.000000000,2021-07-30 12:26:24.000000000,1,0,0,802945,e0fa1aa51ee3d50f4b9e577a1fe6a726e7fcebdb,9,3,1,1,14826,Mark Goddard,mgoddard,"masakari: Add crm_mon to masakarimonitors sudoers

This is necessary for the host monitor to query pacemaker

Change-Id: I41066427169381e2bc57c70f7003bf4d83d9cde7
Partially-Implements: blueprint masakari-hostmonitor
(cherry picked from commit c20a60e01243f8cffd581b07823a09c6b8e09c17)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I18f3d8f2e10a2996b2ebf92733a1770bef548bda,openstack/kolla-ansible,stable/wallaby,,I18f3d8f2e10a2996b2ebf92733a1770bef548bda,Add missing elasticsearch cloudkitty storage and prometheus collector backend support.,ABANDONED,2021-07-29 13:34:32.000000000,2021-07-30 12:15:13.000000000,,12,13,0,802881,35539be5802940fde41dcf615da67cb3d70e0e40,6,1,2,1,32398,Gaël THEROND,Fl1nt,"Add missing elasticsearch cloudkitty storage
and prometheus collector backend support.

* Fix various remaining typos.
* Fix trailing character on reno.
* Enable Elasticsearch when selected as cloudkitty backend.
* Add a check for ES index creation when ES required.
* Add a release note
* Fix release note line length issue.

Change-Id: I18f3d8f2e10a2996b2ebf92733a1770bef548bda
Closes-bug: #1895945
(cherry picked from commit 9e72c0cb4e2206cc72104648e507237977258d54)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I6eaea6768d99e3b7667d86e5d65994bebb44190e,openstack/tripleo-heat-templates,stable/train,,I6eaea6768d99e3b7667d86e5d65994bebb44190e,[train-only] Don't auto-enable post-copy in DPDK deployment,ABANDONED,2021-07-28 17:10:02.000000000,2021-07-30 12:12:20.000000000,,3,1,0,802764,c0d81427462c9cfe46c68599ab56ba2a74574afb,7,6,1,1,27419,David Vallee Delisle,dvd,"[train-only] Don't auto-enable post-copy in DPDK deployment

PostCopy is conflicting with DPDK deployment unless ovs has been
configured to have the vhost interfaces supporting postcopy.

There's currently work on master branch to enable this [1] automatically
if required, but in the mean time, we need to disable this on the train
branch.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567
Change-Id: I6eaea6768d99e3b7667d86e5d65994bebb44190e
"
openstack%2Fopenstack-zuul-jobs~master~Idf249934bf7ab39bac0b87d350513837db26a18f,openstack/openstack-zuul-jobs,master,add-lcmasteronly-template,Idf249934bf7ab39bac0b87d350513837db26a18f,Add template for lower-constraints on master branch only,MERGED,2021-07-26 16:20:24.000000000,2021-07-30 12:07:48.000000000,2021-07-30 12:04:58.000000000,14,0,0,802335,d666010ef8f8f31cb28028aaa6cbb490d7e0198a,8,5,1,1,23851,Riccardo Pittau,elfosardo,"Add template for lower-constraints on master branch only

Change-Id: Idf249934bf7ab39bac0b87d350513837db26a18f
"
openstack%2Fkolla~master~I89578f0d7710cb38db12bf862584f13b49af20ef,openstack/kolla,master,,I89578f0d7710cb38db12bf862584f13b49af20ef,test-requirements: remove not needed entries,MERGED,2021-07-28 18:28:42.000000000,2021-07-30 11:34:53.000000000,2021-07-30 11:33:32.000000000,0,112,4,802769,796a8ec291035dc2fe7747b59d4d485fbe9fd693,19,6,3,3,24072,Marcin Juszkiewicz,hrw,"test-requirements: remove not needed entries

Locally all tox tests passed without those requirements.

Also removed keystoneclient test. We are building images not clients.

Change-Id: I89578f0d7710cb38db12bf862584f13b49af20ef
"
openstack%2Fkolla-ansible~stable%2Fussuri~I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac,openstack/kolla-ansible,stable/ussuri,,I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac,cyborg: add missing become for api-paste.ini,MERGED,2021-07-29 16:12:14.000000000,2021-07-30 11:25:31.000000000,2021-07-30 11:24:11.000000000,6,0,0,802933,80c0cee82116d1e7841e8ba2c3bd4d18706ba05d,9,3,1,2,30491,Radosław Piliszek,yoctozepto,"cyborg: add missing become for api-paste.ini

Co-Authored-By: Boris Lukashev

Change-Id: I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac
Closes-Bug: #1937911
(cherry picked from commit 5cb080247b7cbc2fdf7053e75c5173e5b9f0a6b7)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac,openstack/kolla-ansible,stable/victoria,,I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac,cyborg: add missing become for api-paste.ini,MERGED,2021-07-29 16:11:53.000000000,2021-07-30 11:25:29.000000000,2021-07-30 11:24:09.000000000,6,0,0,802932,3fdb97b94db7aa529163f0a5233b2d4bfcbb2ffa,9,3,1,2,30491,Radosław Piliszek,yoctozepto,"cyborg: add missing become for api-paste.ini

Co-Authored-By: Boris Lukashev

Change-Id: I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac
Closes-Bug: #1937911
(cherry picked from commit 5cb080247b7cbc2fdf7053e75c5173e5b9f0a6b7)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac,openstack/kolla-ansible,stable/wallaby,,I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac,cyborg: add missing become for api-paste.ini,MERGED,2021-07-29 16:11:37.000000000,2021-07-30 11:10:40.000000000,2021-07-30 11:09:25.000000000,6,0,0,802931,53271045dbdd40ae9436ab45b01b837471679e9f,9,3,1,2,30491,Radosław Piliszek,yoctozepto,"cyborg: add missing become for api-paste.ini

Co-Authored-By: Boris Lukashev

Change-Id: I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac
Closes-Bug: #1937911
(cherry picked from commit 5cb080247b7cbc2fdf7053e75c5173e5b9f0a6b7)
"
openstack%2Fpuppet-tripleo~master~I9fc0f27a781e6374ad52575533c099fbc23382fd,openstack/puppet-tripleo,master,json_rpc,I9fc0f27a781e6374ad52575533c099fbc23382fd,Configure json_rpc/authtoken sections for ironic,MERGED,2021-07-29 10:32:40.000000000,2021-07-30 10:54:17.000000000,2021-07-29 20:25:25.000000000,2,0,0,802858,8a847689261e4c97026e2bdeb8ed533260a581f0,11,5,1,2,8833,Rabi Mishra,rabi,"Configure json_rpc/authtoken sections for ironic

Configure json_rpc section for both ironic-api and ironic-conductor.
JSON RPC service uses keystonemiddleware to authenticate with
keystone. Configure the keystone_authtoken section for
ironic-conductor as well.

Change-Id: I9fc0f27a781e6374ad52575533c099fbc23382fd
"
openstack%2Fos-brick~stable%2Ftrain~I86eb31535d990291945de5d9846b1a03157ec2cf,openstack/os-brick,stable/train,rbd_octopus_train,I86eb31535d990291945de5d9846b1a03157ec2cf,New fix for rbd connector to work with ceph octopus,MERGED,2021-06-02 10:21:27.000000000,2021-07-30 10:54:15.000000000,2021-07-30 10:52:59.000000000,22,1,2,794198,57409c28b52ee2bff90679b4c93059bf5b5ba2b6,21,11,1,3,32755,Christian Rohmann,frittentheke,"New fix for rbd connector to work with ceph octopus

Found while testing cinder-backup with ceph on Ubuntu Focal, which
installs ceph Octopus.  Octopus apparently enforces the requirement
that the config file contain a '[global]' section for general
requirements.  The '[global]' section goes back at least to ceph
Hammer [0], so we will simply add it to the temporary ceph config
file that os-brick generates in the RBDConnector class.

[0] https://docs.ceph.com/docs/hammer/rados/configuration/mon-config-ref/

Co-authored-by: Alex Kavanagh <alex@ajkavanagh.co.uk>
Co-authored-by: Ivan Kolodyazhny <e0ne@e0ne.info>

Change-Id: I86eb31535d990291945de5d9846b1a03157ec2cf
Closes-bug: #1865754
(cherry picked from commit c6ad4d864c6088b6686919dd0229c926bce7073a)
(cherry picked from commit 474583b4f8469f7957d6ffbf62829b516189aeae)
(cherry picked from commit 91c73a433a2b3675e661f1fe007b58c2bfaff757)
"
openstack%2Fcinder~master~Id5a655d3b10bd38682b25f31273ec9bcda5cc38b,openstack/cinder,master,bug/1933443,Id5a655d3b10bd38682b25f31273ec9bcda5cc38b,Fix backup deleted but data not deleted,NEW,2021-07-27 09:08:14.000000000,2021-07-30 10:49:28.000000000,,4,3,0,802440,1679bd8e5201958fcc78f63c90ec7f0cc93899ef,24,1,1,1,32537,ZhaoYixin,zhaoyixin,"Fix backup deleted but data not deleted

Use the admin user and project to delete the backup under other
projects. The request is processed successfully. The backup is
marked as deleted in the database, but the object data that constitutes
the backup is not deleted.

Closes-Bug: #1933443
Change-Id: Id5a655d3b10bd38682b25f31273ec9bcda5cc38b
"
openstack%2Ftripleo-quickstart~master~I5895d482f62e88ac8fd3a2443691ace1d1c86dfb,openstack/tripleo-quickstart,master,remove_uneeded_tq_requirements,I5895d482f62e88ac8fd3a2443691ace1d1c86dfb,Remove tripleo-operator-ansible from TQE requires,MERGED,2021-05-11 14:04:25.000000000,2021-07-30 10:11:30.000000000,2021-07-30 10:10:11.000000000,33,1,2,790701,ea6e1c21728c1b7f4a3ecd68b3fafe5afc7295c3,58,7,11,32,12393,chandan kumar,chkumar246,"Remove tripleo-operator-ansible from TQE requires

tripleo-operator-ansible will be installed from rpm from
stein onwards.

We no longer needs to install it from git, so removing it
from TQE requires.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I5895d482f62e88ac8fd3a2443691ace1d1c86dfb
"
openstack%2Ftripleo-quickstart~master~I9984d9aee43fafaaa0036551e23fe125988312ce,openstack/tripleo-quickstart,master,dnm,I9984d9aee43fafaaa0036551e23fe125988312ce,[DNM] Test tripleo-ci release files in ci.centos gate job,ABANDONED,2021-07-27 14:37:21.000000000,2021-07-30 10:05:45.000000000,,4,30,0,802533,5e2cdc265ba48fbdb8e8d7a433c0a5542bb9c8d2,5,1,2,3,13861,yatin,yatinkarel,"[DNM] Test tripleo-ci release files in ci.centos gate job

To have same artifacts as other check jobs and to get
rid of additional release files.

Change-Id: I9984d9aee43fafaaa0036551e23fe125988312ce
"
openstack%2Fnova~master~I03eec634b25582ec9643cacf3e5868c101176983,openstack/nova,master,bug/1860312,I03eec634b25582ec9643cacf3e5868c101176983,Reproducer unit test for bug 1860312,MERGED,2021-07-28 12:57:52.000000000,2021-07-30 10:05:23.000000000,2021-07-30 10:03:55.000000000,19,0,2,802697,32257a2a6d159406577c885a9d7e366cbf0c72b9,15,4,1,1,8864,Artom Lifshitz,artom,"Reproducer unit test for bug 1860312

Consider the following situation:

- Using the Ironic virt driver
- Replacing (so removing and re-adding) all baremetal nodes
  associated with a single nova-compute service

The update resources periodic will have destroyed the compute node
records because they're no longer being reported by the virt driver.
If we then attempt to manually delete the compute service record, the
datbase layer will raise an exception, as there are no longer any
compute node records for the host. This exception gets bubbled up as
an error 500 in the API. This patch adds a unit test to demonstrate
this.

Related bug: 1860312
Change-Id: I03eec634b25582ec9643cacf3e5868c101176983
"
openstack%2Fcyborg~master~I0b1a6ba0b8a9934afe243d53bc0eb7f78e97de1d,openstack/cyborg,master,bug/1928174,I0b1a6ba0b8a9934afe243d53bc0eb7f78e97de1d,Delete trait from placement,MERGED,2021-05-12 10:17:06.000000000,2021-07-30 09:59:46.000000000,2021-07-30 09:58:31.000000000,38,6,16,790937,05f88530a3c3c6d75e4b67eb01df08ec94955036,37,4,10,5,31412,Wenping Song,songwenping,"Delete trait from placement

If no rp uses the old device trait, we need clean it, else placement
will raise 409 exception.

Closes-Bug: #1928174

Change-Id: I0b1a6ba0b8a9934afe243d53bc0eb7f78e97de1d
"
openstack%2Ftripleo-validations~stable%2Fwallaby~If0dc3300fbd8cf245c0477be782110d897344860,openstack/tripleo-validations,stable/wallaby,rhbz#1887444,If0dc3300fbd8cf245c0477be782110d897344860,Fix Inventory Generation without Overcloud deployed,MERGED,2021-07-29 14:42:47.000000000,2021-07-30 09:29:46.000000000,2021-07-30 09:29:46.000000000,1,1,0,802885,9289704779b9bd520be82db9b01ba8e28c6e1563,9,7,1,1,11491,Gael Chamoulaud,gchamoul,"Fix Inventory Generation without Overcloud deployed

The utils.list_plan_and_stack function returns None in case of exceptions
or and empty list if no stacks or no plans have been found in the
environment.

This patch fixes the conditional to allow the tripleo-ansible-inventory
script to generate only the undercloud Inventory when no Overcloud has
been deployed.

Related-bz: rhbz#1987318

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: If0dc3300fbd8cf245c0477be782110d897344860
(cherry picked from commit 5a8cfac7f98f15a2964ea7fcabb3d68a4355385e)
"
openstack%2Fswift~master~If559772b929f61a340c170569461312ff98cf751,openstack/swift,master,container-migrate,If559772b929f61a340c170569461312ff98cf751,wip: Cluster assisted Storage Policy Migration,NEW,2015-04-14 22:33:12.000000000,2021-07-30 09:09:36.000000000,,278,6,9,173580,59d8cb0768ffbf75cac2886549f9d4041434a41b,45,5,14,7,1179,Clay Gerrard,clay-gerrard,"wip: Cluster assisted Storage Policy Migration

Basically - just let the reconciler do it.  I'm interesting in how the
reconciler scales - migration of an existing full container is a little
easier to get at than forcing a split brain.

It might be useful even in a raw state under controlled and monitored
situations - but to be more generally applicable there's probably a
number of different concerns.

But this particular POC was just cause I wanted to hack on something
sorta fun - I got board around the time I realized I hadn't written any
unittests - but I'll throw it up and let it expire or maybe pick it back
up later or talk about the idea in Vancouver.

Change-Id: If559772b929f61a340c170569461312ff98cf751
"
openstack%2Fcharm-octavia~master~Id8cced3f4db2b1476bbb803dc75ba2dd5bd99390,openstack/charm-octavia,master,fix-tox-pip-resolutionimpossible,Id8cced3f4db2b1476bbb803dc75ba2dd5bd99390,Sync release-tools,MERGED,2021-07-22 12:59:14.000000000,2021-07-30 09:08:37.000000000,2021-07-30 09:08:37.000000000,10,15,0,801830,58d203465b6aa0316c81225d1745fbde8643dd53,11,4,1,4,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: Id8cced3f4db2b1476bbb803dc75ba2dd5bd99390
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Ib5496d6bc2ddfe1fedacc4f9c859ac56fc69726e,openstack/kolla-ansible,stable/wallaby,,Ib5496d6bc2ddfe1fedacc4f9c859ac56fc69726e,"Revert ""cephadm: Set auth_allow_insecure_global_id_reclaim to true""",MERGED,2021-07-29 15:45:46.000000000,2021-07-30 08:47:46.000000000,2021-07-30 08:46:22.000000000,0,11,0,802889,197ffbd8c0e8e47dfe490ed46fe3c2f77e8e5987,9,4,1,1,30491,Radosław Piliszek,yoctozepto,"Revert ""cephadm: Set auth_allow_insecure_global_id_reclaim to true""

This reverts commit a967b9dd66fad5b055b071794a4b059feed9fe90.

Reason for revert: Check if it's still the case.

Change-Id: Ib5496d6bc2ddfe1fedacc4f9c859ac56fc69726e
(cherry picked from commit 682cff7bc888ddf99fcbfd66204646c4194fc1a3)
"
openstack%2Fcinder~stable%2Fwallaby~I62fcef3169dcb9f4363a5344af4b2711edfef632,openstack/cinder,stable/wallaby,nfs-fix-online-snapshot,I62fcef3169dcb9f4363a5344af4b2711edfef632,NFS: Update connection info on online snap create,MERGED,2021-07-23 15:09:33.000000000,2021-07-30 08:33:50.000000000,2021-07-30 08:32:18.000000000,33,3,0,802036,d4960fd597aad8502cad46b38cdb50c6b88f7c63,20,4,1,3,10459,Luigi Toscano,ltoscano,"NFS: Update connection info on online snap create

The NFS snapshot creation for an attached volume requires interaction
between Nova and Cinder, and a new qcow2 file is used after the
attachment completes.

This means that the connection properties stored in the Attachment is no
longer valid, as it is pointing to the old qcow2 file, so if Nova tries
to use that attachment it will start writing on the old qcow2 file.

A flow showing this issue is:

- Attach NFS volume
- Create snapshot
- Hard reboot

After that the VM will start using the base image, breaking the qcow2
chain.

If we delete the snapshot in the meantime, then the VM will fail to
reboot.

This patch fixes this inconsistency by updating the connection info
field inside the remotefs driver.

We usually prefer that drivers don't to touch the DB, directly or
indirectly (using OVOs), but in this case we are using OVOs methods
instead of the usual model update on the volume manager because there
are cases in the driver where a snapshot is created (cloning via
snapshot) and we have to update the attachment without the manager, as
it is unaware that a temporary snapshot is being created.

Besides that main reason there are other less critical reasons to do the
attachment update in the driver:

- Smaller code change
- Easier to backport
- Limit change impact on other areas (better for backport)
- The snapshot_create model update code in the manager does not support
  updating attachments.
- There are cases in the cinder volume manager where the model update
  values returned by snapshot_create are not being applied.

Snapshot deletion belonging to in-use volumes are not affected by this
issue because we only do block commit when the snapshot file we are
deleting is not the active file.  In _delete_snapshot_online:

        if utils.paths_normcase_equal(info['active_file'],
                                      info['snapshot_file']):

Closes-Bug: #1860913
Change-Id: I62fcef3169dcb9f4363a5344af4b2711edfef632
(cherry picked from commit 25eb0a7d76922e3a1a289d26c36b96a91c4059db)
"
openstack%2Fceilometer~master~I7e271ca36216d10ce23942c06ae2f3575c00fdee,openstack/ceilometer,master,gnocchi-opt,I7e271ca36216d10ce23942c06ae2f3575c00fdee,Gnocchi: replace deprecated [storage] coordination_url,MERGED,2021-07-06 12:35:27.000000000,2021-07-30 08:16:49.000000000,2021-07-30 08:15:08.000000000,1,1,0,799660,2af5b376a29775b026d6a3c2100469f79ce2a745,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Gnocchi: replace deprecated [storage] coordination_url

[storage] coordination_url was deprecated since Gnocchi 4.1.0 and
replaced by [DEFAULT] coordination_url[1].

[1] https://github.com/gnocchixyz/gnocchi/commit/70b9ca427

Change-Id: I7e271ca36216d10ce23942c06ae2f3575c00fdee
"
openstack%2Fcharm-neutron-openvswitch~stable%2F21.04~I39024855c3e42ee135b6ad5e7618a770219b6994,openstack/charm-neutron-openvswitch,stable/21.04,fix-tox-pip-resolutionimpossible-stable/21.04,I39024855c3e42ee135b6ad5e7618a770219b6994,Sync release-tools,MERGED,2021-07-29 09:12:59.000000000,2021-07-30 07:57:10.000000000,2021-07-30 07:57:10.000000000,4,10,0,802789,09af6c4b0bb5e05ec2309751e43ac20165ec8081,18,5,2,3,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I39024855c3e42ee135b6ad5e7618a770219b6994
(cherry picked from commit 7e97910ed48354c54b7d560789f23978f7b16da7)
"
openstack%2Fcinder~master~I6f9c7781ac0f08de67c1423bf8a55dbc5f4e0451,openstack/cinder,master,cinder-user-messages,I6f9c7781ac0f08de67c1423bf8a55dbc5f4e0451,WIP: Add user messages for volume group,NEW,2021-07-07 12:25:47.000000000,2021-07-30 06:29:19.000000000,,99,8,0,799799,bdb7f1630497976e6a5f70447540abb5a91018d5,31,1,1,2,27615,Rajat Dhasmana,whoami-rajat,"WIP: Add user messages for volume group

Change-Id: I6f9c7781ac0f08de67c1423bf8a55dbc5f4e0451
"
openstack%2Fcinder~master~Iac7791c0df089b7d9411f9e09f585a68c3674877,openstack/cinder,master,cinder-user-messages,Iac7791c0df089b7d9411f9e09f585a68c3674877,WIP: Add user message for migrate multiattach volume,NEW,2021-07-12 07:50:23.000000000,2021-07-30 06:29:06.000000000,,12,0,2,800430,38009d8044927b2c5f66206d5a47013187737909,38,1,2,2,27615,Rajat Dhasmana,whoami-rajat,"WIP: Add user message for migrate multiattach volume

Change-Id: Iac7791c0df089b7d9411f9e09f585a68c3674877
"
openstack%2Fpython-tripleoclient~master~Ie810f9fbaabfff98595a3aaaf1878a348b17dfb4,openstack/python-tripleoclient,master,bug/1934009,Ie810f9fbaabfff98595a3aaaf1878a348b17dfb4,Fix --stack-only to download ansible playbooks,MERGED,2021-06-29 19:20:38.000000000,2021-07-30 04:46:48.000000000,2021-07-30 04:45:27.000000000,22,22,0,798740,0adc5bb9dff517cbe298d97d5bcee698b2a2e77c,23,7,2,1,14985,Alex Schultz,mwhahaha,"Fix --stack-only to download ansible playbooks

In previously versions, if you wanted to manually run the playbooks you
could use --stack-only to generate them and have them created for you.
This appears to be broken as the condition is now based on --setup-only
which attempts to restore a previously existing stack. This moves the
download config playbooks back to also being dependent on --stack-only
or --no-config-download

Change-Id: Ie810f9fbaabfff98595a3aaaf1878a348b17dfb4
Closes-Bug: #1934009
"
openstack%2Ftripleo-heat-templates~master~I0849ed1ab4ac8aea24af12726127a8c68c2bd180,openstack/tripleo-heat-templates,master,vhost-postcopy,I0849ed1ab4ac8aea24af12726127a8c68c2bd180,Partial revert of LM Optimization,ABANDONED,2021-07-27 20:38:11.000000000,2021-07-30 04:21:25.000000000,,2,30,1,802614,3534d1aaaf2fcacd26c3cf59e40704d9ce539971,8,6,1,1,27419,David Vallee Delisle,dvd,"Partial revert of LM Optimization

In I1133c210f35181d44f8ba56f09b52f00589e035c we tried to automatically
enable come live-migration tweaks in certain conditions. We ended up
breaking live-migration in some rare cases. The last case was that
post-copy is not compatible with pinned instances as per related BZ.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567
Change-Id: I0849ed1ab4ac8aea24af12726127a8c68c2bd180
"
openstack%2Fproject-config~master~I4f8d0e0a1aee55c0b4c92bb11690045018f63bf0,openstack/project-config,master,,I4f8d0e0a1aee55c0b4c92bb11690045018f63bf0,Stop launch fedora-32 nodes nodepool,MERGED,2021-06-09 18:30:23.000000000,2021-07-30 04:00:53.000000000,2021-07-30 03:28:44.000000000,0,95,0,795643,725135a002175f0d57b54dd2dbfb822d53d6134c,12,2,1,6,1004,Mohammed Naser,mnaser,"Stop launch fedora-32 nodes nodepool

A followup change will remove the diskimage configuration for fedora-32.
The current fedora releases are 33 and 34 so we should clean up 32.

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/795636
Depends-On: https://review.opendev.org/c/zuul/zuul-operator/+/795638
Depends-On: https://review.opendev.org/c/opendev/base-jobs/+/795639
Depends-On: https://review.opendev.org/c/zuul/nodepool/+/795642
Depends-On: https://review.opendev.org/c/x/tobiko/+/795641
Depends-On: https://review.opendev.org/c/openstack/devstack/+/795640
Change-Id: I4f8d0e0a1aee55c0b4c92bb11690045018f63bf0
"
openstack%2Ftripleo-validations~stable%2Ftrain~I70e60b8039eb99af26c8e39e30c7cdfd93f5a3c0,openstack/tripleo-validations,stable/train,nfv_zero_packet_loss-stable/wallaby-stable/victoria-stable/ussuri-stable/train,I70e60b8039eb99af26c8e39e30c7cdfd93f5a3c0,NFV OvS DPDK zero packet loss validations,MERGED,2021-07-29 13:04:17.000000000,2021-07-30 03:41:16.000000000,2021-07-30 03:40:06.000000000,1645,0,0,802878,0b711e96ff2710d4e4f65d6a48c7005a9da80d35,9,5,1,22,22865,Jaganathan Palanisamy,jaganathancse,"NFV OvS DPDK zero packet loss validations

This changes to add the validations for NFV OvS DPDK zero packet loss
rules.

Change-Id: I70e60b8039eb99af26c8e39e30c7cdfd93f5a3c0
(cherry picked from commit 46d9b751fd41eadd446159ebe6962c49ada22f7f)
"
openstack%2Ftripleo-validations~stable%2Fussuri~I70e60b8039eb99af26c8e39e30c7cdfd93f5a3c0,openstack/tripleo-validations,stable/ussuri,nfv_zero_packet_loss-stable/wallaby-stable/victoria-stable/ussuri,I70e60b8039eb99af26c8e39e30c7cdfd93f5a3c0,NFV OvS DPDK zero packet loss validations,MERGED,2021-07-29 13:04:00.000000000,2021-07-30 03:20:47.000000000,2021-07-30 03:19:27.000000000,1645,0,0,802877,3a1228fc52e2ee3b8b3dd5d30a4dfc7986a7f3b7,7,5,1,22,22865,Jaganathan Palanisamy,jaganathancse,"NFV OvS DPDK zero packet loss validations

This changes to add the validations for NFV OvS DPDK zero packet loss
rules.

Change-Id: I70e60b8039eb99af26c8e39e30c7cdfd93f5a3c0
(cherry picked from commit 46d9b751fd41eadd446159ebe6962c49ada22f7f)
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I70e60b8039eb99af26c8e39e30c7cdfd93f5a3c0,openstack/tripleo-validations,stable/victoria,nfv_zero_packet_loss-stable/wallaby-stable/victoria,I70e60b8039eb99af26c8e39e30c7cdfd93f5a3c0,NFV OvS DPDK zero packet loss validations,MERGED,2021-07-29 13:03:42.000000000,2021-07-30 03:20:45.000000000,2021-07-30 03:19:28.000000000,1645,0,0,802876,133ee0d5f1595d07d43eabc25fa3b16cd93f1985,7,5,1,22,22865,Jaganathan Palanisamy,jaganathancse,"NFV OvS DPDK zero packet loss validations

This changes to add the validations for NFV OvS DPDK zero packet loss
rules.

Change-Id: I70e60b8039eb99af26c8e39e30c7cdfd93f5a3c0
(cherry picked from commit 46d9b751fd41eadd446159ebe6962c49ada22f7f)
"
openstack%2Ftripleo-validations~master~If0dc3300fbd8cf245c0477be782110d897344860,openstack/tripleo-validations,master,rhbz#1887444,If0dc3300fbd8cf245c0477be782110d897344860,Fix Inventory Generation without Overcloud deployed,MERGED,2021-07-29 13:51:40.000000000,2021-07-30 03:11:51.000000000,2021-07-30 03:11:51.000000000,1,1,0,802892,5a8cfac7f98f15a2964ea7fcabb3d68a4355385e,10,8,1,1,11491,Gael Chamoulaud,gchamoul,"Fix Inventory Generation without Overcloud deployed

The utils.list_plan_and_stack function returns None in case of exceptions
or and empty list if no stacks or no plans have been found in the
environment.

This patch fixes the conditional to allow the tripleo-ansible-inventory
script to generate only the undercloud Inventory when no Overcloud has
been deployed.

Related-bz: rhbz#1987318

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: If0dc3300fbd8cf245c0477be782110d897344860
"
openstack%2Fnova~master~Ia831053f88bbb5c8a4dab4daff9d75fd156e88ff,openstack/nova,master,bug/1856119,Ia831053f88bbb5c8a4dab4daff9d75fd156e88ff,Moved all calls from _ENFORCER.authorize to a separate _authorize method,NEW,2020-08-31 15:39:56.000000000,2021-07-30 01:36:21.000000000,,40,3,0,749080,ec274c3ec18fa792ed098a829a76338895e2ba7e,13,7,2,2,30910,Akhil Gudise,akhil-g,"Moved all calls from _ENFORCER.authorize to a separate _authorize method

Created a new helper method and named it _authorize to use it to call
_ENFORCER.authorize.
This _authorize method catchs the FileNotFoundError and tries to
reinitiate the request.

Change-Id: Ia831053f88bbb5c8a4dab4daff9d75fd156e88ff
Closes-Bug: #1856119
"
openstack%2Ftripleo-validations~stable%2Fwallaby~I70e60b8039eb99af26c8e39e30c7cdfd93f5a3c0,openstack/tripleo-validations,stable/wallaby,nfv_zero_packet_loss-stable/wallaby,I70e60b8039eb99af26c8e39e30c7cdfd93f5a3c0,NFV OvS DPDK zero packet loss validations,MERGED,2021-07-29 13:03:19.000000000,2021-07-30 01:17:50.000000000,2021-07-30 01:16:32.000000000,1645,0,0,802875,974e674e685d31fcc6cdfb690767c5f379505118,8,5,1,22,22865,Jaganathan Palanisamy,jaganathancse,"NFV OvS DPDK zero packet loss validations

This changes to add the validations for NFV OvS DPDK zero packet loss
rules.

Change-Id: I70e60b8039eb99af26c8e39e30c7cdfd93f5a3c0
(cherry picked from commit 46d9b751fd41eadd446159ebe6962c49ada22f7f)
"
openstack%2Fcinder~master~I1f1830d8a7c0349861e9a74f92c9b9e04360a03b,openstack/cinder,master,bug/1937086,I1f1830d8a7c0349861e9a74f92c9b9e04360a03b,Fix extra_capabilities,ABANDONED,2021-07-29 20:01:08.000000000,2021-07-30 01:12:12.000000000,,7,3,0,802956,0c8fe9269ea06051a0343994704ceeb8f0f7ef94,3,0,1,2,5997,Walt,walter-boring,"Fix extra_capabilities

This patch ensures that when pools are being reported that
the volume driver's configured extra_capabilities are inserted
into each pool reported by the driver.  Without this the
CapabilitiesFilter never sees the extra_capabilities.
This is also backwards compatible where drivers don't report pools,
the extra_capabilities are inserted correctly.

Closes-Bug: #1937086

Change-Id: I1f1830d8a7c0349861e9a74f92c9b9e04360a03b
"
openstack%2Ftrove-dashboard~master~I81e00c25c7569fb6b114e2f66b71552f2d093c0b,openstack/trove-dashboard,master,fix-config,I81e00c25c7569fb6b114e2f66b71552f2d093c0b,Fix the configuration issue,MERGED,2021-07-29 06:50:38.000000000,2021-07-30 00:49:08.000000000,2021-07-30 00:49:08.000000000,56,185,0,802830,4225bafca20d67a14c41f996440fb413943b452e,12,2,2,5,6732,Lingxian Kong,kong,"Fix the configuration issue

* Remove ApplyChanges and DiscardChanges actions
* Don't use cache when getting configuration
* Config parameter is added and removed one by one. There is no API
  to add or delete a specific parameter.

Story: 2009084
Task: 42901

Change-Id: I81e00c25c7569fb6b114e2f66b71552f2d093c0b
"
openstack%2Fneutron~master~I22541d75e66fcbbae03d8493f2689e7d20d8a4b4,openstack/neutron,master,bug/1831706,I22541d75e66fcbbae03d8493f2689e7d20d8a4b4,Modify `in_port` and `dl_vlan` fields of packets coming from remote `qr-*` ports,ABANDONED,2019-06-04 11:16:07.000000000,2021-07-30 00:42:23.000000000,,121,166,39,663008,9b570c39ffb74d7796d31f905d42a9e5ba221c02,90,10,14,8,28329,yangjianfeng,yangjianfeng,"Modify `in_port` and `dl_vlan` fields of packets coming from remote `qr-*` ports

This patch aims to make the packets coming in from remote `qr-*` ports
can be processed by `NORMAL` action.

Currently, the flow tables only modify `dl_src` field of packets
which come from remote qr-* port, as a result of this, these packets
mustn't be processed by ovs flow `NORMAL` action(The reason is
explained in bug 1831706). So, in order to avoid `NORMAL` action we
need the flows below(I think we can simplify them).
For example:
  (These flows will be removed in this patch, they result in bug 1831534.)
  table=60, priority=4,dl_vlan=288,dl_dst=fa:16:3e:2d:d7:85 actions=strip_vlan,output:""tap0500d7e2-87""
  table=60, priority=4,dl_vlan=203,dl_dst=fa:16:3e:8f:88:bc actions=strip_vlan,output:""tap2610c99a-52""
and:
  (These flows will be improved in patch[1]):
  table=81, priority=100,arp,reg5=0x1 actions=strip_vlan,output:1
  table=81, priority=100,arp,reg5=0x2 actions=strip_vlan,output:2
  table=81, priority=100,icmp6,reg5=0x1,icmp_type=130 actions=strip_vlan,output:1
  table=81, priority=100,icmp6,reg5=0x2,icmp_type=130 actions=strip_vlan,output:2
  table=82, priority=50,ct_state=+est-rel+rpl,ct_zone=644,ct_mark=0,reg5=0x1 actions=strip_vlan,output:1
  table=82, priority=50,ct_state=+est-rel+rpl,ct_zone=644,ct_mark=0,reg5=0x2 actions=strip_vlan,output:2

This patch modifies both `dl_src` and `in_port` of packets which come
from remote qr-* port, and strip VLAN tag of these packets. Through
these modifications, we can make the packets coming from the remote
qr-* port and the packets coming from local qr-* port fully similar.
This change will make sure that we can process them with `NORMAL` action
securely. So, base on this patch the breaking issue of DVR east/west
traffic in patch[1] will be resolved.

[1] https://review.opendev.org/#/c/639009/

Closes-Bug: #1831706
Closes-Bug: #1831534
Change-Id: I22541d75e66fcbbae03d8493f2689e7d20d8a4b4
"
openstack%2Fosc-lib~master~I639066169913072b992c0e1073f9398d6ac8cdd2,openstack/osc-lib,master,tox-skipsdist,I639066169913072b992c0e1073f9398d6ac8cdd2,Correct the tox option for skipping sdist generation,MERGED,2021-06-17 17:04:47.000000000,2021-07-30 00:17:09.000000000,2021-07-30 00:15:54.000000000,1,1,0,796910,e3f58c1f99695d73e34dad69df9f5fc4f39da551,7,2,1,1,5263,Jeremy Stanley,fungi,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: I639066169913072b992c0e1073f9398d6ac8cdd2
"
openstack%2Fironic~stable%2Fussuri~I03fdb48e47c9557c207a20ee876eccf3f3459d9f,openstack/ironic,stable/ussuri,,I03fdb48e47c9557c207a20ee876eccf3f3459d9f,Refactor iDRAC OEM extension manager calls,MERGED,2021-06-09 11:59:07.000000000,2021-07-30 00:16:12.000000000,2021-07-30 00:14:12.000000000,242,145,0,795524,de714f4cce1c7cadc6d123934bc468e7da00b379,17,4,1,4,27909,Aija Jauntēva,ajya,"Refactor iDRAC OEM extension manager calls

- Re-usable helper created to avoid duplication.
- Although there is only one manager for system in known iDRAC systems
still iterate through collection for future changes.
- Restructured exception raising and error logging for better feedback.
- Removed some unit tests to avoid duplication that is covered by
method specific unit tests

(cherry picked from commit 39cd751a9063ae04e1649ccbca5496c3754d706e)

Conflicts:
	ironic/tests/unit/drivers/modules/drac/test_boot.py

Change-Id: I03fdb48e47c9557c207a20ee876eccf3f3459d9f
"
openstack%2Fdevstack~master~I10d868aca20d1a10d3e7fcfeb78f6fda4c896ee8,openstack/devstack,master,,I10d868aca20d1a10d3e7fcfeb78f6fda4c896ee8,Switch fedora-latest to use fedora-34,MERGED,2021-06-09 18:20:15.000000000,2021-07-29 23:52:50.000000000,2021-07-29 23:49:31.000000000,1,1,0,795640,20d6a21e8a1daed9eee0a8413217b2f8e4e863dd,21,4,1,1,1004,Mohammed Naser,mnaser,"Switch fedora-latest to use fedora-34

Fedora 32 is now EOL, we should test against the newly released
version of Fedora which is 34.

Depends-On: https://review.opendev.org/c/openstack/project-config/+/795604
Change-Id: I10d868aca20d1a10d3e7fcfeb78f6fda4c896ee8
"
openstack%2Fcharm-designate~master~I5e7c1e462dcf9ea30b5dbdd41bbcf0407199fc8e,openstack/charm-designate,master,infoblox,I5e7c1e462dcf9ea30b5dbdd41bbcf0407199fc8e,Add Infoblox support,NEW,2020-11-10 15:06:37.000000000,2021-07-29 22:29:21.000000000,,203,11,2,762157,39eb6bb964f62495b24b5505213e555ea0e05426,4,3,1,6,31255,Felipe Alencastro,falencastro,"Add Infoblox support

Closes-Bug: 1711633

- Add infoblox-options config option
- Add DNAT rule routing incoming dns traffic to designate-mdns as
  required by infoblox

Change-Id: I5e7c1e462dcf9ea30b5dbdd41bbcf0407199fc8e
"
openstack%2Fneutron~master~I664681dfe5b2f9a12dfdd665b70f00658171fae1,openstack/neutron,master,chinese_character,I664681dfe5b2f9a12dfdd665b70f00658171fae1,Repair the problem that Chinese character lead to dhcp agent exception,NEW,2018-07-13 09:31:03.000000000,2021-07-29 22:26:14.000000000,,1,1,3,582488,c1b75977f086d527bb37e3a7d84e7168aad69d6c,11,7,1,1,25564,yanpuqing,ycx,"Repair the problem that Chinese character lead to dhcp agent exception

When the name or description of port was set to Chinese character,
dhcp agent will unable to sync network state and it's possible that
vms can't get the IP address under the circumstances.

Change-Id: I664681dfe5b2f9a12dfdd665b70f00658171fae1
"
openstack%2Foctavia~master~I8020ed9299b4dd39f943ce4768bcea44ef64c0e6,openstack/octavia,master,,I8020ed9299b4dd39f943ce4768bcea44ef64c0e6,Replace md5 with oslo version,NEW,2020-10-30 13:24:43.000000000,2021-07-29 22:24:47.000000000,,23,17,7,760552,8addd38724d33b91855fe17e971c4d9b679fd1dd,11,2,5,7,29157,zhanghao,zhanghao2,"Replace md5 with oslo version

md5 is not an approved algorithm in FIPS mode, and trying to
instantiate a hashlib.md5() will fail when the system is running in
FIPS mode.

md5 is allowed when in a non-security context.  There is a plan to
add a keyword parameter (usedforsecurity) to hashlib.md5() to annotate
whether or not the instance is being used in a security context.

In the case where it is not, the instantiation of md5 will be allowed.
See https://bugs.python.org/issue9216 for more details.

Some downstream python versions already support this parameter.  To
support these versions, a new encapsulation of md5() has been added to
oslo_utils.  See https://review.opendev.org/#/c/750031/

This patch is to replace the instances of hashlib.md5() with this new
encapsulation, adding an annotation indicating whether the usage is
a security context or not.

Depends-On: https://review.opendev.org/#/c/760160
Change-Id: I8020ed9299b4dd39f943ce4768bcea44ef64c0e6
"
openstack%2Foctavia-tempest-plugin~master~I0b235fbcb12f2a7a0d7457101bf7ed0b9804a4b3,openstack/octavia-tempest-plugin,master,,I0b235fbcb12f2a7a0d7457101bf7ed0b9804a4b3,Clean up port member selection code,NEW,2020-10-23 07:19:39.000000000,2021-07-29 22:24:30.000000000,,2,6,0,759358,bf291bc837bf95b3a78a8cff062517d3c54923a4,3,1,1,2,29244,Gregory Thiemonge,gthiemonge,"Clean up port member selection code

Use MemberPort singleton to get a unique port number

Change-Id: I0b235fbcb12f2a7a0d7457101bf7ed0b9804a4b3
"
openstack%2Foctavia-tempest-plugin~master~I2fd55d0328e567e03a43a1bc8581e47a76f4cd07,openstack/octavia-tempest-plugin,master,,I2fd55d0328e567e03a43a1bc8581e47a76f4cd07,Add traffic_requests configuration option,NEW,2020-09-25 13:15:45.000000000,2021-07-29 22:24:11.000000000,,11,6,0,754386,9984e55a147a08ca5b796cd8d7885c9feb2fddf0,3,1,1,4,6469,Carlos Gonçalves,cgoncalves,"Add traffic_requests configuration option

The test coverage matrix has recently exploded from a few dozens of
tests to hundreds. Many of the tests send up to 20 traffic requests to
members and load balancers to check consistency of responses. The number
of requests is not tunable (harcoded), and now with hundreds of tests
takes CI jobs a very long time to run the full test suite.

This patch adds a new configuration option to allow tunning the number
of traffic requests to members and load balancer VIPs. The default
number is 4.

Change-Id: I2fd55d0328e567e03a43a1bc8581e47a76f4cd07
"
openstack%2Fpython-octaviaclient~master~Id51f4998a30d02f94dc3754025f4fe91d7344acf,openstack/python-octaviaclient,master,add_ALL_argument_to_stats_show_command,Id51f4998a30d02f94dc3754025f4fe91d7344acf,add --all argument to stats show command,NEW,2020-03-04 16:32:52.000000000,2021-07-29 22:23:50.000000000,,30,3,0,711270,426467ccd2fe39b9de88d2bc53dde34b4ee257d6,14,10,3,2,31414,Hamza Zafar,hamza,"add --all argument to stats show command

Change-Id: Id51f4998a30d02f94dc3754025f4fe91d7344acf
Story: 2007372
Signed-off-by: Hamza Zafar <hamza.zafar@cern.ch>
"
openstack%2Fneutron~master~If08909dfbb841ad941e6aaea0990e9e98354e3d9,openstack/neutron,master,bug/1863987,If08909dfbb841ad941e6aaea0990e9e98354e3d9,[OVN] Remove DNS dependency on original port dict,NEW,2020-02-29 10:49:11.000000000,2021-07-29 22:23:12.000000000,,59,16,4,710554,da9b0ef6f8600b3ad336d751b91e36c10bc10a4c,21,12,4,3,29157,zhanghao,zhanghao2,"[OVN] Remove DNS dependency on original port dict

The 'port_object' needs to be removed, so the current DNS dependency
on it needs to be resolved first. The 'dns_domain' is stored in the
'external_ids' of the logical switch. The 'dns_name' and 'dns_assignment'
are stored in the 'external_ids' of the logical switch port.

Change-Id: If08909dfbb841ad941e6aaea0990e9e98354e3d9
Partial-Bug: #1863987
"
openstack%2Foctavia~master~I38300ce34cd1838c21a1bb8b620929bcc6711db9,openstack/octavia,master,failover-refactor,I38300ce34cd1838c21a1bb8b620929bcc6711db9,Share the LB security group with the LB owner,NEW,2020-04-27 22:17:35.000000000,2021-07-29 22:22:57.000000000,,356,108,4,723735,6ffcb3f3e5ed71ac04d447b2ed3e9d552831e899,19,2,9,20,10273,Adam Harwell,rm_you,"Share the LB security group with the LB owner

This will allow the owner of the LB to add that LB's security group to
their members' security groups as a trusted remote group. This closes
the security hole that exists presently, where members must trust the
full range of IPs in the member's subnet (which is bad for provider
networks).

Currently WIP because Neutron only supports the ""access_as_shared""
action for SG sharing, which grants read AND write access to the SG.
I will be proposing ""access_as_readonly"" as a second action for SGs.
See: https://review.opendev.org/#/c/724207/

Change-Id: I38300ce34cd1838c21a1bb8b620929bcc6711db9
"
openstack%2Foctavia-tempest-plugin~master~I3bae22943a74978de72e6fdfff40ad80e46ab4f1,openstack/octavia-tempest-plugin,master,,I3bae22943a74978de72e6fdfff40ad80e46ab4f1,Remove old api_v1_enabled cruft from job defs,NEW,2020-03-19 13:35:34.000000000,2021-07-29 22:22:47.000000000,,90,14,0,713879,2a0e7c8fd0eeb7a2580cc87f065d6d997354a467,7,2,3,1,10273,Adam Harwell,rm_you,"Remove old api_v1_enabled cruft from job defs

APIv1 no longer exists, this option is simply outdated and misleading.
Move this config to specific stable jobs, so when they are removed,
these references will go along with them.

Change-Id: I3bae22943a74978de72e6fdfff40ad80e46ab4f1
"
openstack%2Fneutron~master~If166560193c73bf674537ef076f2f38847fbf2c5,openstack/neutron,master,bug/1855260,If166560193c73bf674537ef076f2f38847fbf2c5,Sync deleted SmartNIC ports on Neutron OVS agent restart,NEW,2019-12-05 11:46:50.000000000,2021-07-29 22:21:51.000000000,,67,6,22,697450,906a1998259f39e13da08d4cc68f2ef7ba201061,44,10,6,2,22948,Hamdy Khader,hamdyk,"Sync deleted SmartNIC ports on Neutron OVS agent restart

On Neutron OVS agent resync, remove the ports that was deleted
from the server and yet present in OVS db.

Change-Id: If166560193c73bf674537ef076f2f38847fbf2c5
Partial-Bug: #1855260
"
openstack%2Fneutron~master~I2b06dfc7ec586d25aa3ad2cd4be45dc32f44b5ec,openstack/neutron,master,george,I2b06dfc7ec586d25aa3ad2cd4be45dc32f44b5ec,Add George framework and tests,NEW,2019-12-02 16:51:55.000000000,2021-07-29 22:21:40.000000000,,993,5,65,696926,edf1b98646d5b63d90d113dcb078f879681934eb,181,12,29,19,8655,Jakub Libosvar,jlibosva,"Add George framework and tests

This patch adds the main parts of the George framework. There is a still
lot of work ahead that will come in other patches. The main parts are:

 - Documentation
 - more tests that will ensure George can run in parallel
 - use fullstack tests in George

At this point, the job is added to the Experimental queue, even though
I'm confident the framework is stable, I don't see a value in running it
in the check queue yet, until we cover more scenarios.

Related-bug: #1863113

Co-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>

Change-Id: I2b06dfc7ec586d25aa3ad2cd4be45dc32f44b5ec
"
openstack%2Foctavia~master~I9348cfc8e87351d94c225f07533b7676dcbe50e3,openstack/octavia,master,story/2007762,I9348cfc8e87351d94c225f07533b7676dcbe50e3,Also handle network deltas when deleting members,NEW,2020-06-08 03:03:52.000000000,2021-07-29 22:21:01.000000000,,12,4,0,734002,87322714a399f335a04797cd70cd8c3336dfa3d1,25,6,9,4,31525,chimeng,MengChi,"Also handle network deltas when deleting members

the original code only handles network when add members,
this may result in some issues as I described in the below story.
this patch adds codes to support remove its network interfaces
in the amphora namespace while deleting members

Change-Id: I9348cfc8e87351d94c225f07533b7676dcbe50e3
Story: #2007762
"
openstack%2Foctavia~master~Ie2c1bacc920d4d8639d1ceb7251ab5af1ecd26f2,openstack/octavia,master,,Ie2c1bacc920d4d8639d1ceb7251ab5af1ecd26f2,Add support for building arm64 images,NEW,2021-01-15 14:03:59.000000000,2021-07-29 22:20:51.000000000,,4,3,0,770937,e8b9d9601503b8c4d89541cd4c2ac3919b09fe08,17,3,5,2,9649,Adrian Vladu,avladu,"Add support for building arm64 images

Added option `arm64` for the architecture (-a) flag so that ARM64
images can be built.

Change-Id: Ie2c1bacc920d4d8639d1ceb7251ab5af1ecd26f2
"
openstack%2Foctavia-tempest-plugin~master~I643ea5c9debad08df6c6734cfc7decbbbec608a6,openstack/octavia-tempest-plugin,master,,I643ea5c9debad08df6c6734cfc7decbbbec608a6,Add certificate update tests for TLS scenarios,NEW,2020-12-13 11:58:21.000000000,2021-07-29 22:20:35.000000000,,354,6,51,766855,435509b16f179ffec3564b3cafda06e6e51ab005,26,10,8,1,31664,Omer Schwartz,oschwart,"Add certificate update tests for TLS scenarios

This patch adds 3 certificate update tests:
        test_update_certificate_tls_traffic
        test_update_certificate_mixed_http_https
        test_update_SNI_certificate_test

Which update certificates for these tests:
        test_basic_tls_traffic
        test_mixed_http_https_traffic
        test_basic_tls_SNI_traffic

Change-Id: I643ea5c9debad08df6c6734cfc7decbbbec608a6
"
openstack%2Foctavia~master~I34341e1aaad1524e3e0834309c5f6897f176af53,openstack/octavia,master,,I34341e1aaad1524e3e0834309c5f6897f176af53,Don't fail if a provider driver cannot be loaded in Octavia API,NEW,2021-03-12 10:14:21.000000000,2021-07-29 22:20:20.000000000,,60,1,2,780215,8cdf12ee05d22aba5a223e794fffbc8cc305c81e,5,3,1,3,29244,Gregory Thiemonge,gthiemonge,"Don't fail if a provider driver cannot be loaded in Octavia API

Fix an issue that prevents the Octavia API service to be correctly
initialized when it fails to load a provider driver.

When enabled_provider_drivers setting is not correctly configured (ex:
if it contains a non existing driver) or when a provider driver fails
to load, the exception was not caught by the Octavia API service, so the
service was not properly configured and the whole Octavia API was
unreachable.

Now the Octavia API service skips the driver initialization in case of
errors, and the other provider drivers are functional.

Story 2008710
Task 42044

Change-Id: I34341e1aaad1524e3e0834309c5f6897f176af53
"
openstack%2Foctavia-tempest-plugin~master~I35cc36ab7f01c1f5a99d8cd8a94c41cecea3b7b7,openstack/octavia-tempest-plugin,master,,I35cc36ab7f01c1f5a99d8cd8a94c41cecea3b7b7,Remove legacy CI jobs,NEW,2020-10-19 08:55:55.000000000,2021-07-29 22:19:43.000000000,,0,36,1,758725,2629fbf73df444a37752c9a37dbca714446e38fb,9,1,3,1,6469,Carlos Gonçalves,cgoncalves,"Remove legacy CI jobs

These CI jobs were used in stable/queens and stable/rocky branches.
Since Octavia Queens and Rocky are EOL, we can remove them.

Change-Id: I35cc36ab7f01c1f5a99d8cd8a94c41cecea3b7b7
"
openstack%2Fansible-collections-openstack~master~Idd2f99ddfe507b5b02de206c1f8c75692d6a84a2,openstack/ansible-collections-openstack,master,newv,Idd2f99ddfe507b5b02de206c1f8c75692d6a84a2,Add mandatory requires_ansible version to metadata,MERGED,2021-07-29 10:32:55.000000000,2021-07-29 22:18:05.000000000,2021-07-29 22:18:05.000000000,4,3,0,802859,07374a1f0d2dcaa46368a2abc08061ccc8295582,22,3,8,2,10969,Shnaidman Sagi (Sergey),sergsh,"Add mandatory requires_ansible version to metadata

Disable ansible-test since it's broken in 2.11[1]

[1] https://github.com/ansible/ansible/issues/75353
Change-Id: Idd2f99ddfe507b5b02de206c1f8c75692d6a84a2
"
openstack%2Foctavia~master~Ia51f97fc5c0e67072a50ea5ee57673112e8a39a9,openstack/octavia,master,,Ia51f97fc5c0e67072a50ea5ee57673112e8a39a9,Add Octavia performance guide and 2vcpu flavor,NEW,2021-04-20 19:40:59.000000000,2021-07-29 22:17:53.000000000,,85,1,10,787286,4614672f255ca57097c5b109d72bbeae0ce42d76,25,3,11,5,11628,Michael Johnson,johnsom,"Add Octavia performance guide and 2vcpu flavor

This patch adds a performance tuning guide to the Octavia
Administrative documentation and adds an Octavia flavor for two
vCPU amphora as an example.

Depends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/787449
Change-Id: Ia51f97fc5c0e67072a50ea5ee57673112e8a39a9
"
openstack%2Foctavia~master~Ib062c53ce2438485f3252bd6e1cf7db197b8a4cd,openstack/octavia,master,fix-encode-url-path,Ib062c53ce2438485f3252bd6e1cf7db197b8a4cd,fix(common): normalize url before render haproxy config,NEW,2021-06-21 15:07:33.000000000,2021-07-29 22:15:27.000000000,,31,6,1,797322,bf44f093cc4e77af07bc8536ecd6e57a13801588,5,3,1,3,25290,Mikhail Ushanov,gmmephisto,"fix(common): normalize url before render haproxy config

Fix Remote Code Execution in HAProxy Amphora Agent that based on
config injection throughout url_path attribute in HealthMonitor or
redirect_url / redirect_prefix attributes in L7Policy.

Task: 42656
Story: 2008994

Change-Id: Ib062c53ce2438485f3252bd6e1cf7db197b8a4cd
Signed-off-by: Mikhail Ushanov <gm.mephisto@gmail.com>
"
openstack%2Foctavia~master~Ie29137f2a22467f110725b790debfd2a6448ebc8,openstack/octavia,master,starfish,Ie29137f2a22467f110725b790debfd2a6448ebc8,"Alternative Distributor for L3 Active-Active, N+1 Amphora Setup",NEW,2020-04-28 10:45:04.000000000,2021-07-29 22:15:15.000000000,,338,0,84,723864,e68b1594b3c88835b18e085db36f43cbfe28b368,45,14,11,1,31843,Jay Liu,JayLiu,"Alternative Distributor for L3 Active-Active, N+1 Amphora Setup

Octavia need to support active-active feature. The community has
previously had a scheme for implementing active-active feature using L3
distributors. This solution uses the BGP/ECMP approach. We would like
to provide an alternative solution that utilizes the L3 network to
implement this feature.
This solution is architecturally simple, however, it requires Neutron
support.

Implementation: https://review.opendev.org/#/c/746688/

Change-Id: Ie29137f2a22467f110725b790debfd2a6448ebc8
Story: 2007602
Task: 39585
"
openstack%2Foctavia-tempest-plugin~master~Ia2f62ce38d96b72f2b9d81b555708564fdf90550,openstack/octavia-tempest-plugin,master,change-770163-21,Ia2f62ce38d96b72f2b9d81b555708564fdf90550,Updating _test_pool_CRUD to enable testing of updates to the load balancer algorithm:,NEW,2021-01-11 17:36:58.000000000,2021-07-29 22:14:59.000000000,,30,12,115,770163,bb50e84f3d5070ccdfb1630320fcf5cadd9b960d,90,7,22,1,32137,Arieh Maron,amaron,"Updating _test_pool_CRUD to enable testing of updates to the
load balancer algorithm:

Added a new parameter ""next_algorithm"" that defaults to None.
If next_algorithm is not None then the update of the pool
will also update the pool's loadbalancing algorithm.
Previous tests without this parameter ARE NOT AFFECTED.

New Test:
test_UDP_SIP_to_LC_pool_with_listener_CRUD
tests the result of updating the pool's
loadbalancing algorithm
fix-now

Change-Id: Ia2f62ce38d96b72f2b9d81b555708564fdf90550
"
openstack%2Fneutron-tempest-plugin~master~I0dce852066b3931300a1fbd095c69e64c872fcf8,openstack/neutron-tempest-plugin,master,add_vrrp_vip_failover_test,I0dce852066b3931300a1fbd095c69e64c872fcf8,Add VRRP failover test,NEW,2020-03-03 11:05:55.000000000,2021-07-29 22:12:34.000000000,,275,0,21,710975,c353c39c79e7f3e6801e2dd8cc00b23ead919612,64,11,15,7,29350,Roman Safronov,rsafrono,"Add VRRP failover test

The aim of the test is to validate that in case master VM becomes not
available the traffic to the VIP is directed to the second VM.
Such scenario is often used for example in environments with Octavia
load balancers.

Scenario:
- Create a port for VRRP VIP and ports for VMs with
  allowed address pair configured to the VIP IP
- Create two VMs and setup VRRP between the VMs
- Test traffic to virtual IP (login via ssh)
- Shut off active VM
- Test traffic to virtual IP. Traffic should now flow to the second VM

Change-Id: I0dce852066b3931300a1fbd095c69e64c872fcf8
"
openstack%2Fironic~master~I5da43dc244c1a4fa828a00c02e3aa5b5f1b71e14,openstack/ironic,master,image_info_validate,I5da43dc244c1a4fa828a00c02e3aa5b5f1b71e14,Defer checking image size until instance info is built,MERGED,2021-07-05 05:04:33.000000000,2021-07-29 22:05:16.000000000,2021-07-06 13:06:50.000000000,63,43,0,799431,ad3ce797cfbd0093fcb1bafb8aaa38c39f08926a,15,4,2,2,4571,Steve Baker,steve-stevebaker,"Defer checking image size until instance info is built

The image size check is skipped if the image is raw and will be
streamed directly to disk. However metalsmith does not expose
instance_info so it is not possible to set image_disk_format=raw.

image_disk_format is detected and set during
build_instance_info_for_deploy but this is run *after* the call to
check_image_size. This results in large raw whole-disk images always
failing check_image_size when deployed by metalsmith (or any time
image_disk_format isn't explicitly set).

This change avoids that by moving the check_image_size call out of
validate to after the call to build_instance_info_for_deploy.

Blueprint: whole-disk-default
Change-Id: I5da43dc244c1a4fa828a00c02e3aa5b5f1b71e14
"
openstack%2Fironic-python-agent-builder~master~I2e05038992937da7653b65f86305a3514bec6b3d,openstack/ironic-python-agent-builder,master,add_fips_job,I2e05038992937da7653b65f86305a3514bec6b3d,DNM/WIP - Add FIPS job,NEW,2021-06-23 19:24:35.000000000,2021-07-29 21:27:47.000000000,,12,30,0,797743,7511f5e6bbbc0f77a4e6b51f5da1a9819e2f4db6,2,4,1,3,9914,Ade Lee,alee,"DNM/WIP - Add FIPS job

This change adds a job to confirm that nothing is broken when FIPS
mode is enabled.  To speed up testing, the other check jobs have
been temporarily removed.

Change-Id: I2e05038992937da7653b65f86305a3514bec6b3d
"
openstack%2Fopenstack-ansible-os_neutron~master~Ie0d42a83653c0e60d27c3c626179defdc4906357,openstack/openstack-ansible-os_neutron,master,osa/calico,Ie0d42a83653c0e60d27c3c626179defdc4906357,Adding https option for calico metadata service,ABANDONED,2021-07-29 03:13:08.000000000,2021-07-29 21:14:45.000000000,,2,2,0,802819,08d5ac631cbf2bd1f0d2fc74dfaa021455bc36a1,3,1,1,1,28752,Satish Patel,spatel,"Adding https option for calico metadata service

Change-Id: Ie0d42a83653c0e60d27c3c626179defdc4906357
"
openstack%2Foctavia-tempest-plugin~master~I7615f03dc363e73a045b5a913020ad045eaa8b70,openstack/octavia-tempest-plugin,master,pass-subnetid,I7615f03dc363e73a045b5a913020ad045eaa8b70,Add member API tests that do not pass subnet ID,ABANDONED,2020-08-27 18:15:46.000000000,2021-07-29 21:04:03.000000000,,18,10,2,748502,10883fca4c60bcf01d2d6464939204bc572a786d,21,3,5,1,1131,Brian Haley,brian-haley,"Add member API tests that do not pass subnet ID

Since the subnet ID is an optional argument for member
operations, create a new sub-class MemberAPITestNoSubnetID
that omits it from all the member API calls.

Change-Id: I7615f03dc363e73a045b5a913020ad045eaa8b70
"
openstack%2Foctavia-tempest-plugin~master~I1d9311e0b4e07920002b2f4e25812a3c536029a2,openstack/octavia-tempest-plugin,master,pass-subnetid,I1d9311e0b4e07920002b2f4e25812a3c536029a2,Always pass subnet ID to member_create(),ABANDONED,2020-07-23 19:32:35.000000000,2021-07-29 21:03:51.000000000,,19,2,0,742728,41ac74762cd09b89687c62666305fef898b803a4,19,3,6,1,1131,Brian Haley,brian-haley,"Always pass subnet ID to member_create()

There are two test scenarios that are not passing a subnet ID
to member_create() - test_member_delete() and test_member_list().
The OVN provider driver requires the subnet ID, so change them
to pass it since it is present, and since all the other tests
in the class already do.

Fixed a test member name as well to match it's arguments.

A follow-on patch will run all these tests without any subnet ID
since it is an optional argument.

Change-Id: I1d9311e0b4e07920002b2f4e25812a3c536029a2
Story: 2007954
Task: 40433
"
openstack%2Frequirements~stable%2Fussuri~I05a95c89459f088c5ad5bd2b7bd94e2d9404c872,openstack/requirements,stable/ussuri,new-release,I05a95c89459f088c5ad5bd2b7bd94e2d9404c872,update constraint for python-zaqarclient to new release 1.13.2,MERGED,2021-07-29 10:08:04.000000000,2021-07-29 20:51:09.000000000,2021-07-29 20:51:09.000000000,1,1,0,802855,a2941c615dcc440b7b11467c755e8dc19ea95b7d,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-zaqarclient to new release 1.13.2

meta: version: 1.13.2
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ib36c5d1ab52c5a4276121bfa611ccb64c956b549
meta: release:Code-Review+1: 王昊 <sxmatch1986@gmail.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I05a95c89459f088c5ad5bd2b7bd94e2d9404c872
"
openstack%2Ftripleo-operator-ansible~master~I4309178ee78015d0ae7c050c14c0400320f23b78,openstack/tripleo-operator-ansible,master,,I4309178ee78015d0ae7c050c14c0400320f23b78,Bump galaxy version for a release,MERGED,2021-07-29 14:50:01.000000000,2021-07-29 20:25:30.000000000,2021-07-29 20:25:30.000000000,1,1,0,802897,f060b3ea45750de094da8cafcfa6297f9fc415ad,6,3,1,1,14985,Alex Schultz,mwhahaha,"Bump galaxy version for a release

It's been a while, we should release a new version.

Change-Id: I4309178ee78015d0ae7c050c14c0400320f23b78
"
openstack%2Ftripleo-operator-ansible~master~I626fcbbb66529cce34971d9e739d45fbe0d7fa0e,openstack/tripleo-operator-ansible,master,fix-image-upload,I626fcbbb66529cce34971d9e739d45fbe0d7fa0e,Document local var,MERGED,2021-07-26 18:10:51.000000000,2021-07-29 20:25:29.000000000,2021-07-29 20:25:29.000000000,2,0,0,802378,2782f8c6b15f2c0cf967746cc661d27f6354cd14,7,3,1,1,14985,Alex Schultz,mwhahaha,"Document local var

image upload has a --local option that may need to be used. This change
documents the variables existence in the README.md.

Change-Id: I626fcbbb66529cce34971d9e739d45fbe0d7fa0e
"
openstack%2Ftripleo-operator-ansible~master~If925bb36c7722e8e5e150eb7f5ce9e6316fd9539,openstack/tripleo-operator-ansible,master,,If925bb36c7722e8e5e150eb7f5ce9e6316fd9539,Add meta/runtime.yml file required by galaxy,MERGED,2021-07-29 12:22:51.000000000,2021-07-29 20:25:28.000000000,2021-07-29 20:25:28.000000000,2,0,1,802869,5a14392aa37162d415cc4a16394442e285967244,8,3,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add meta/runtime.yml file required by galaxy

Ansible Galaxy added[1][2] a mandatory requirement for meta/runtime.yml
file and requires_ansible field in it. Add it to allow uploading
to Galaxy.

[1] https://github.com/ansible/galaxy-importer/pull/122
[2] https://github.com/ansible/galaxy-importer/pull/124

Change-Id: If925bb36c7722e8e5e150eb7f5ce9e6316fd9539
"
openstack%2Ftripleo-operator-ansible~master~Ib9dc4219254b1afc9eb6b4e35099b1b3649930a7,openstack/tripleo-operator-ansible,master,limit-tripleo-repos,Ib9dc4219254b1afc9eb6b4e35099b1b3649930a7,Limit tripleo-repos to CentOS,MERGED,2021-07-13 20:14:26.000000000,2021-07-29 20:25:27.000000000,2021-07-29 20:25:27.000000000,8,4,0,800719,4b60170a316fd573b959f0eef891264bf9886573,7,5,1,2,14985,Alex Schultz,mwhahaha,"Limit tripleo-repos to CentOS

Our example playbooks have tripleo_repos defined however if they are run
on RHEL boxes this fails. Let's limit the tripleo_repos to just centos
for now.  Additionally switch to use ansible_facts for distribution
version information as well.

Change-Id: Ib9dc4219254b1afc9eb6b4e35099b1b3649930a7
"
openstack%2Fironic~stable%2Fvictoria~I03fdb48e47c9557c207a20ee876eccf3f3459d9f,openstack/ironic,stable/victoria,,I03fdb48e47c9557c207a20ee876eccf3f3459d9f,Refactor iDRAC OEM extension manager calls,MERGED,2021-06-09 11:56:29.000000000,2021-07-29 20:13:40.000000000,2021-07-29 20:11:57.000000000,243,146,0,795521,0bc5265ec0a9b70272529774aa11258351dc0fbf,11,3,1,4,27909,Aija Jauntēva,ajya,"Refactor iDRAC OEM extension manager calls

- Re-usable helper created to avoid duplication.
- Although there is only one manager for system in known iDRAC systems
still iterate through collection for future changes.
- Restructured exception raising and error logging for better feedback.
- Removed some unit tests to avoid duplication that is covered by
method specific unit tests

Change-Id: I03fdb48e47c9557c207a20ee876eccf3f3459d9f
(cherry picked from commit 39cd751a9063ae04e1649ccbca5496c3754d706e)
"
openstack%2Fmonasca-api~stable%2Ftrain~I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,openstack/monasca-api,stable/train,cap-pip-23-0-stable/train,I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,Workaround for new pip 20.3 behavior,ABANDONED,2021-07-28 20:11:10.000000000,2021-07-29 20:02:16.000000000,,6,1,0,802772,0e0569fb4b6c692bf50e43a4b8325371d3892704,3,2,1,1,26141,Adrian Czarnecki,czarneckia,"Workaround for new pip 20.3 behavior

This WA set specific pip version to avoid the issue:
""ERROR: Links are not allowed as constraints"" [1]
A proper fix would be to adapt to new pip behavior.
Similar issue on Devstack [2][3]

[1] https://github.com/pypa/pip/issues/8210
[2] https://bugs.launchpad.net/devstack/+bug/1906322
[3] https://review.opendev.org/c/openstack/devstack/+/764803

Change-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a
(cherry picked from commit a93e1cc9798473dcaac748719da8ab5f0648ebc0)
"
openstack%2Fneutron~master~I4dd35c9f0b0527e1a972cbade4388ffa6699930d,openstack/neutron,master,change_event_for_gw,I4dd35c9f0b0527e1a972cbade4388ffa6699930d,Notify ROUTER_GATEWAY event for router gw mode,MERGED,2021-06-30 02:57:00.000000000,2021-07-29 20:00:47.000000000,2021-07-29 17:54:06.000000000,2,1,0,798782,6d570dfd7dc4814b3cdb2c1b3cadaf34fb7927af,24,4,1,1,9531,liuyulong,LIU-Yulong,"Notify ROUTER_GATEWAY event for router gw mode

Router gateway mode extension updating should notify the event
of ROUTER_GATEWAY, otherwise the event cannot be handled accurately.
Using ROUTER event, the event receiver will add a lot of check
conditions to confirm whether the GW has changed or the other
properties of router have changed.

Trivial fix.

Change-Id: I4dd35c9f0b0527e1a972cbade4388ffa6699930d
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I4f8664c9033502b25b40646cfd8976cc5638e643,openstack/tripleo-ansible,stable/ussuri,ussuri/grubenv,I4f8664c9033502b25b40646cfd8976cc5638e643,Copy generated /boot/grub2/grubenv to EFI dirs,MERGED,2021-07-28 20:53:19.000000000,2021-07-29 19:20:46.000000000,2021-07-29 19:20:46.000000000,16,5,0,802806,eba3be96bd00de955f1703bf19a1800a72c9fc37,7,3,1,1,4571,Steve Baker,steve-stevebaker,"Copy generated /boot/grub2/grubenv to EFI dirs

There is an issue with grub2 in rhel-8.2 where generating grub.cfg in
an EFI directory will regenerate grubenv in /boot/grub2. Then when the
host is rebooted, the stale grubenv file in the EFI directory is used,
and any new kernal args are not used.

This change works around this by copying /boot/grub2/grubenv to the
EFI directories. Newer versions of grub2 many not show this behaviour
but the workaround can remain in place.

This change also adds /boot/efi/EFI/BOOT to the list of EFI
directories checked for, as it should have been in the original list.

See https://bugzilla.redhat.com/show_bug.cgi?id=1974507

Change-Id: I4f8664c9033502b25b40646cfd8976cc5638e643
(cherry picked from commit c1d4d602f8d2a3a1010735de10883c5047ad83ca)
"
openstack%2Fopenstacksdk~feature%2Fr1~Ie71c4f818d5adc82466e06d994c258af271b5793,openstack/openstacksdk,feature/r1,,Ie71c4f818d5adc82466e06d994c258af271b5793,Extend has_version function to accept version parameter,MERGED,2021-07-29 16:08:18.000000000,2021-07-29 19:12:28.000000000,2021-07-29 19:08:15.000000000,13,6,0,802930,a8c3cb29f29470529e5ebbd0c02ea8e34aca0b69,9,4,1,3,16643,Goutham Pacha Ravi,gouthamr,"Extend has_version function to accept version parameter

We might need not only to check whether the service is supported, but
also whether specific version of the service is working.
Extend functional tests of the block-storage to actually check specific
version.

Change-Id: Ie71c4f818d5adc82466e06d994c258af271b5793
(cherry picked from commit 0bc47cdb933e12fd142747371720e8a1f74cb795)
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I4f8664c9033502b25b40646cfd8976cc5638e643,openstack/tripleo-ansible,stable/victoria,victoria/grubenv,I4f8664c9033502b25b40646cfd8976cc5638e643,Copy generated /boot/grub2/grubenv to EFI dirs,MERGED,2021-07-28 20:52:41.000000000,2021-07-29 18:55:49.000000000,2021-07-29 18:55:49.000000000,16,5,0,802805,4e00dfa49cdb6e294b202574b3200dfc396672ac,7,3,1,1,4571,Steve Baker,steve-stevebaker,"Copy generated /boot/grub2/grubenv to EFI dirs

There is an issue with grub2 in rhel-8.2 where generating grub.cfg in
an EFI directory will regenerate grubenv in /boot/grub2. Then when the
host is rebooted, the stale grubenv file in the EFI directory is used,
and any new kernal args are not used.

This change works around this by copying /boot/grub2/grubenv to the
EFI directories. Newer versions of grub2 many not show this behaviour
but the workaround can remain in place.

This change also adds /boot/efi/EFI/BOOT to the list of EFI
directories checked for, as it should have been in the original list.

See https://bugzilla.redhat.com/show_bug.cgi?id=1974507

Change-Id: I4f8664c9033502b25b40646cfd8976cc5638e643
(cherry picked from commit c1d4d602f8d2a3a1010735de10883c5047ad83ca)
"
openstack%2Ftripleo-heat-templates~master~I9014ad0c7fae391dec4ad70bcbc0728667d413c5,openstack/tripleo-heat-templates,master,ovn-monitor-all,I9014ad0c7fae391dec4ad70bcbc0728667d413c5,Enable ovn-monitor-all option to ovn-controller,MERGED,2021-07-20 12:41:52.000000000,2021-07-29 18:49:25.000000000,2021-07-29 18:48:00.000000000,9,0,0,801459,bc934d18a47bca5dcfb78f9ab903d3a6042706f5,17,5,1,2,11082,Kamil Sambor,ksambor,"Enable ovn-monitor-all option to ovn-controller

With conditional monitoring enabled in OVN, southbound ovsdb-serve
takes lot of time in handling the monitoring and sending the updates
to all its connected clients. Its takes lot of CPU. With monitor-all
option, all ovn-controllers do not enable conditional monitoring there
by reducing the load on the Southbound ovsdb-server.
Enable this for all deployments is-lowrisk and user shoudn't have
posibilities to modified this manually form tht level.

Depends-On: https://review.opendev.org/c/openstack/puppet-ovn/+/801455
Closes-Bug: #1936781
Signed-off-by: Kamil Sambor <ksambor@redhat.com>
Change-Id: I9014ad0c7fae391dec4ad70bcbc0728667d413c5
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I4f8664c9033502b25b40646cfd8976cc5638e643,openstack/tripleo-ansible,stable/wallaby,wallaby/grubenv,I4f8664c9033502b25b40646cfd8976cc5638e643,Copy generated /boot/grub2/grubenv to EFI dirs,MERGED,2021-07-28 20:51:55.000000000,2021-07-29 18:48:06.000000000,2021-07-29 18:48:06.000000000,16,5,0,802804,e54413cb10f3f29f82a9004d9a6a159d79be04ba,7,3,1,1,4571,Steve Baker,steve-stevebaker,"Copy generated /boot/grub2/grubenv to EFI dirs

There is an issue with grub2 in rhel-8.2 where generating grub.cfg in
an EFI directory will regenerate grubenv in /boot/grub2. Then when the
host is rebooted, the stale grubenv file in the EFI directory is used,
and any new kernal args are not used.

This change works around this by copying /boot/grub2/grubenv to the
EFI directories. Newer versions of grub2 many not show this behaviour
but the workaround can remain in place.

This change also adds /boot/efi/EFI/BOOT to the list of EFI
directories checked for, as it should have been in the original list.

See https://bugzilla.redhat.com/show_bug.cgi?id=1974507

Change-Id: I4f8664c9033502b25b40646cfd8976cc5638e643
(cherry picked from commit c1d4d602f8d2a3a1010735de10883c5047ad83ca)
"
openstack%2Ftripleo-heat-templates~master~I9c3a38b828404b559ca4858e1d4e1297aa668301,openstack/tripleo-heat-templates,master,cephadm_debug_mode,I9c3a38b828404b559ca4858e1d4e1297aa668301,Add CephAdmDebug parameter,MERGED,2021-07-19 16:04:46.000000000,2021-07-29 18:48:03.000000000,2021-07-29 18:48:03.000000000,7,0,0,801348,cf0b6a161c7425a149b453705b33f9f79fd08e87,17,8,2,1,25402,Francesco Pantano,fmount,"Add CephAdmDebug parameter

This change adds the cephadm debug parameter to allow operators to
set the debug related config-key and see a more verbose output.

Depends-On: Ic2e54e537b50cb92b1650e78f1af61703e877763
Change-Id: I9c3a38b828404b559ca4858e1d4e1297aa668301
"
openstack%2Ftripleo-heat-templates~master~I91f23f8508201d2489650d1121019b7e71ccc768,openstack/tripleo-heat-templates,master,bug/1933712,I91f23f8508201d2489650d1121019b7e71ccc768,Octavia: Remove unused cleanup tasks of tls_proxy container,MERGED,2021-06-26 06:13:15.000000000,2021-07-29 18:47:56.000000000,2021-07-29 18:47:56.000000000,0,43,2,798185,5d5419a1f31c2e382c0160d254af49e58f85e347,12,5,2,1,9816,Takashi Kajinami,kajinamit,"Octavia: Remove unused cleanup tasks of tls_proxy container

The octavia_tls_proxy container was removed during the Rocky cycle by
commit f4460a580d24a709a4b2dede807b57fa9ab24f2b .

The octavia_tls_proxy container might be deployed in an old Queens
deployment but the container should be deleted when the deployment is
updated/upgraded to one of
 - Latest Queens (before to Train)
 - Rocky
so the cleanup step is no longer required in Stein and later.

Closes-Bug: #1933712
Change-Id: I91f23f8508201d2489650d1121019b7e71ccc768
"
openstack%2Ftripleo-quickstart-extras~master~I3155bfb54f8cd227a6a3d3f9aaffd777e2074418,openstack/tripleo-quickstart-extras,master,update_novajoin_default,I3155bfb54f8cd227a6a3d3f9aaffd777e2074418,Update default var for undercloud_enable_novajoin,MERGED,2021-03-24 02:08:05.000000000,2021-07-29 18:47:54.000000000,2021-07-29 18:47:54.000000000,6,1,5,782627,87d05cec4ddbe597b20408555327548072fa4d61,23,6,3,1,29775,Sandeep Yadav,sandeepyadav93,"Update default var for undercloud_enable_novajoin

Updating default var for ""undercloud_enable_novajoin"" to only enable
for train and earlier as novajoin is no longer supported for recent
branches[1].

[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/tls-introduction.html

Change-Id: I3155bfb54f8cd227a6a3d3f9aaffd777e2074418
"
openstack%2Fironic~bugfix%2F18.0~I03fdb48e47c9557c207a20ee876eccf3f3459d9f,openstack/ironic,bugfix/18.0,oem-manager-refactor-fwu-bugfix/18.0,I03fdb48e47c9557c207a20ee876eccf3f3459d9f,Refactor iDRAC OEM extension manager calls,MERGED,2021-06-08 10:37:38.000000000,2021-07-29 18:40:21.000000000,2021-07-29 18:38:30.000000000,295,564,0,795276,7d645d789188530c9c00b7d263edb47df4cc8aca,14,3,1,10,23851,Riccardo Pittau,elfosardo,"Refactor iDRAC OEM extension manager calls

- Re-usable helper created to avoid duplication.
- Although there is only one manager for system in known iDRAC systems
still iterate through collection for future changes.
- Restructured exception raising and error logging for better feedback.
- Removed some unit tests to avoid duplication that is covered by
method specific unit tests

Change-Id: I03fdb48e47c9557c207a20ee876eccf3f3459d9f
(cherry picked from commit 39cd751a9063ae04e1649ccbca5496c3754d706e)
"
openstack%2Fswift~master~Ia952303a16457a5075e9a4e060806855c21577f5,openstack/swift,master,,Ia952303a16457a5075e9a4e060806855c21577f5,diskfile: Stop raising ENOENT when we race to mark durable,MERGED,2021-07-28 18:22:23.000000000,2021-07-29 18:38:46.000000000,2021-07-29 18:37:15.000000000,49,2,4,802768,c9b0795b9ecc430839eb3783327eb9c7c4aad5f8,18,4,3,2,15343,Tim Burke,tburke,"diskfile: Stop raising ENOENT when we race to mark durable

Change-Id: Ia952303a16457a5075e9a4e060806855c21577f5
"
openstack%2Frequirements~master~I96ec98b4cf5597d1b0f742a86709680ec29c665f,openstack/requirements,master,new-release,I96ec98b4cf5597d1b0f742a86709680ec29c665f,update constraint for tempest to new release 28.0.0,MERGED,2021-07-29 10:53:28.000000000,2021-07-29 18:22:54.000000000,2021-07-29 18:21:37.000000000,1,1,0,802861,c6674da657c29083e7a275f991a3a8260bdaf6f2,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for tempest to new release 28.0.0

meta: version: 28.0.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>
meta: release:Commit: Ghanshyam <gmann@ghanshyammann.com>
meta: release:Change-Id: I5e3bec00a75a3213e0aab810a6e797f3e34d5d08
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Martin Kopec <mkopec@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I96ec98b4cf5597d1b0f742a86709680ec29c665f
"
openstack%2Frequirements~stable%2Fussuri~I9db20038befc3cfb2731a031d28fa17ca32e1bac,openstack/requirements,stable/ussuri,new-release,I9db20038befc3cfb2731a031d28fa17ca32e1bac,update constraint for python-tackerclient to new release 1.1.1,MERGED,2021-07-29 10:15:13.000000000,2021-07-29 18:21:35.000000000,2021-07-29 18:21:35.000000000,3,3,0,802856,907f01f6be474d1783ef45485dd1baf1eb3e5f10,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-tackerclient to new release 1.1.1

meta: version: 1.1.1
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I68e718e93c51c9e4111f4a8a2072e218fe04884a
meta: release:Code-Review+1: Yasufumi Ogawa <yasufum.o@gmail.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I9db20038befc3cfb2731a031d28fa17ca32e1bac
"
openstack%2Frequirements~stable%2Fussuri~I4b508dd1d50492e4de7a165db00a122f7660e6b8,openstack/requirements,stable/ussuri,new-release,I4b508dd1d50492e4de7a165db00a122f7660e6b8,update constraint for kuryr-lib to new release 2.0.1,MERGED,2021-07-29 09:59:51.000000000,2021-07-29 18:06:25.000000000,2021-07-29 18:06:25.000000000,1,1,0,802853,77541a721581214762d74df71596e7baf7286820,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for kuryr-lib to new release 2.0.1

meta: version: 2.0.1
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ic516b58b1f73d350091cf0d7fa78f472abf300c8
meta: release:Code-Review+1: Maysa de Macedo Souza <maysa.macedo95@gmail.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I4b508dd1d50492e4de7a165db00a122f7660e6b8
"
openstack%2Frequirements~master~I9166cfa1e80c2fd4537720d86bed5bbb49e90e21,openstack/requirements,master,new-release,I9166cfa1e80c2fd4537720d86bed5bbb49e90e21,update constraint for horizon to new release 20.0.0,MERGED,2021-07-29 09:26:00.000000000,2021-07-29 17:56:04.000000000,2021-07-29 17:54:51.000000000,1,1,0,802852,f74c6dedba1930d1d01e7697ee2d0b9b7088954b,10,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for horizon to new release 20.0.0

meta: version: 20.0.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: manchandavishal <manchandavishal143@gmail.com>
meta: release:Commit: manchandavishal <manchandavishal143@gmail.com>
meta: release:Change-Id: I392217ea8d18b1347a71b3f782350280b234a3db
meta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Itsik Kanias <ikanias@redhat.com>
meta: release:Code-Review+1: Lingxian Kong <anlin.kong@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I9166cfa1e80c2fd4537720d86bed5bbb49e90e21
"
openstack%2Fcharm-neutron-api~stable%2F21.04~I75fdd192144138fa5bf09c278d5507ca8c5366d1,openstack/charm-neutron-api,stable/21.04,bug/1934129,I75fdd192144138fa5bf09c278d5507ca8c5366d1,Fixes disabling fwaas,MERGED,2021-07-21 13:05:13.000000000,2021-07-29 17:47:11.000000000,2021-07-29 17:47:11.000000000,85,9,0,801619,ea7e7dd2c66c73a470f39b0fab1d1e33878dec25,14,5,2,2,6737,Edward Hope-Morley,hopem,"Fixes disabling fwaas

Commit 00e7c8b added support for disabling fwaas but
forgot to remove the firewall plugin from service_plugins
once the fwaas package has been removed. This patch fixes
that.

Change-Id: I75fdd192144138fa5bf09c278d5507ca8c5366d1
Closes-Bug: #1934129
(cherry picked from commit a144a583196ef6b655a7ad60eaab2f8f97a6a5ee)
"
openstack%2Fpuppet-manila~master~I77c81b79539ccedb7dbac3e30f6eb257b5f6e082,openstack/puppet-manila,master,secure-rbac,I77c81b79539ccedb7dbac3e30f6eb257b5f6e082,Drop tenant_id templating from v2 endpoint,MERGED,2021-07-28 05:56:17.000000000,2021-07-29 17:24:29.000000000,2021-07-29 17:23:07.000000000,22,15,0,802656,e790080e38c665511f0c3262c514f3edac2a1de1,11,4,2,3,16643,Goutham Pacha Ravi,gouthamr,"Drop tenant_id templating from v2 endpoint

Manila's wallaby release [1] made it possible for
the v2 endpoint to not include a tenant_id
(project_id). This change was made to
accommodate interactions by system scoped users.

System scoped users cannot interact with an
endpoint that needs the ""tenant_id"" templating,
because system scoped tokens cannot be resolved
to a particular tenant_id by definition. More
information regarding this change is captured
in the release notes for the project [2] and
the API reference [3].

[1] https://review.opendev.org/c/openstack/manila/+/773709
[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude
[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api

Change-Id: I77c81b79539ccedb7dbac3e30f6eb257b5f6e082
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fbifrost~master~I75be2f5dd10d36484a46af9d408bbb436dba0d5a,openstack/bifrost,master,pxe_append_params,I75be2f5dd10d36484a46af9d408bbb436dba0d5a,Update deprecated pxe_append_params -> kernel_append_params,MERGED,2021-07-27 09:05:39.000000000,2021-07-29 17:08:55.000000000,2021-07-29 17:07:25.000000000,1,1,0,802439,d5199cf10e7c0877d0f2361d25e9085460d12811,8,3,1,1,10239,Dmitry Tantsur,dtantsur,"Update deprecated pxe_append_params -> kernel_append_params

Change-Id: I75be2f5dd10d36484a46af9d408bbb436dba0d5a
"
openstack%2Fossa~master~I1574738a9aa047314c9b933f8bbe032d346cd2d7,openstack/ossa,master,OSSA-2021-002,I1574738a9aa047314c9b933f8bbe032d346cd2d7,Add OSSA-2021-002 (CVE-2021-3654),MERGED,2021-07-27 17:45:32.000000000,2021-07-29 17:08:14.000000000,2021-07-29 17:06:39.000000000,62,0,2,802590,08f2c78ccf3688ad2ed44d0c2239742ea1693cdb,23,5,4,1,5263,Jeremy Stanley,fungi,"Add OSSA-2021-002 (CVE-2021-3654)

Change-Id: I1574738a9aa047314c9b933f8bbe032d346cd2d7
Closes-Bug: #1927677
"
openstack%2Fopenstacksdk~master~I44125a21161190ab43b43ce7ea4183825af0ef44,openstack/openstacksdk,master,share_networks,I44125a21161190ab43b43ce7ea4183825af0ef44,Add a share network resource to shared file system,ABANDONED,2021-03-31 22:25:54.000000000,2021-07-29 17:02:12.000000000,,159,1,0,784177,d281b77e9a0ac01059d9529b00c838de4b43e11a,3,1,1,3,33119,Mark Tony,MarkTony,"Add a share network resource to shared file system

Introduce Share Network class with basic methods
including list, create, delete, get and update to
shared file system share networks.

https: //tree.taiga.io/project/ashrod98-openstacksdk-manila-support/us/12?kanban-status=2360118
Change-Id: I44125a21161190ab43b43ce7ea4183825af0ef44
"
openstack%2Fopenstacksdk~master~I7979d38d6f605e4b0dae9e35345afa1185ae1939,openstack/openstacksdk,master,shared-file-system,I7979d38d6f605e4b0dae9e35345afa1185ae1939,Added share types to shared file systems.,ABANDONED,2021-03-26 00:37:29.000000000,2021-07-29 17:00:59.000000000,,399,0,14,783123,95ea698a18a7b4945f54909dd60f954d0aab735e,20,3,3,8,32595,Nicole Chen,arkaruki,"Added share types to shared file systems.

Change-Id: I7979d38d6f605e4b0dae9e35345afa1185ae1939
"
openstack%2Fopenstacksdk~master~I8c9369f821939f3b958b7f2223ac7e4adca880bb,openstack/openstacksdk,master,shared-file-system,I8c9369f821939f3b958b7f2223ac7e4adca880bb,Added User Message to Shared File Systems,ABANDONED,2021-03-26 06:28:18.000000000,2021-07-29 17:00:12.000000000,,304,0,6,783187,921c585d1061a3fc80c546bf19b3f4e818b09455,11,4,3,6,32595,Nicole Chen,arkaruki,"Added User Message to Shared File Systems

Change-Id: I8c9369f821939f3b958b7f2223ac7e4adca880bb
"
openstack%2Fnova-powervm~master~I8ad218b2e2d76a739ed5a01ffe6a05414634428f,openstack/nova-powervm,master,ci-resource-free-up,I8ad218b2e2d76a739ed5a01ffe6a05414634428f,Remove periodic-stable jobs,NEW,2021-07-29 16:30:04.000000000,2021-07-29 16:36:03.000000000,,0,1,0,802913,5040ad1214b96c3b1c13e6cedf52e2fdde37c1f8,2,1,1,1,17685,Elod Illes,elod.illes,"Remove periodic-stable jobs

As nova-powervm is not actively maintained and the periodic stable jobs
are failing for several months now, to free up some CI resource, this
patch removes the periodic-stable-jobs template.

Change-Id: I8ad218b2e2d76a739ed5a01ffe6a05414634428f
"
openstack%2Fnetworking-bagpipe~master~Ie0be598a44b7553834fdb7cd812e2cdec8a17922,openstack/networking-bagpipe,master,test,Ie0be598a44b7553834fdb7cd812e2cdec8a17922,[DNM],ABANDONED,2021-07-29 16:18:50.000000000,2021-07-29 16:23:35.000000000,,4,0,0,802911,340b5c678f7988239e82ef684c881044a1910379,2,0,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[DNM]

Test if https://review.opendev.org/c/openstack/neutron/+/800604
is breaking this project

Change-Id: Ie0be598a44b7553834fdb7cd812e2cdec8a17922
"
openstack%2Fironic-inspector~master~Ibc8648b64887daac6fb5ec8a6dd61d9312a52ef3,openstack/ironic-inspector,master,increase-hacking-pycodestyle,Ibc8648b64887daac6fb5ec8a6dd61d9312a52ef3,Increase version of hacking and pycodestyle,MERGED,2021-07-29 09:19:51.000000000,2021-07-29 15:57:21.000000000,2021-07-29 15:55:22.000000000,8,8,0,802851,9cfd98e577d137e56ebbd0d42f0785fa3637e4f9,8,3,1,2,23851,Riccardo Pittau,elfosardo,"Increase version of hacking and pycodestyle

Fix errors in unit tests

Change-Id: Ibc8648b64887daac6fb5ec8a6dd61d9312a52ef3
"
openstack%2Fironic~master~I189a0a8be25cb12e946d8ac58667b287f9698064,openstack/ironic,master,netstat-avoid-post-fail,I189a0a8be25cb12e946d8ac58667b287f9698064,ci-workarounds/get_extra_logging.yaml : avoid grep failure,MERGED,2021-07-29 06:39:23.000000000,2021-07-29 15:57:14.000000000,2021-07-29 15:55:20.000000000,1,1,0,802829,22b4f746900f530d53ebfc9bb15a983b010d7dd3,11,3,1,1,7118,Ian Wienand,iwienand,"ci-workarounds/get_extra_logging.yaml : avoid grep failure

If this grep doesn't match, the task returns a failure and it causes
the job to abort with POST_FAILURE.  I think more info is generally
helpful and you can always grep ""netstat"" on the file manually; thus
remove the grep to avoid suprious failure.

Change-Id: I189a0a8be25cb12e946d8ac58667b287f9698064
"
openstack%2Fkolla-ansible~master~I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac,openstack/kolla-ansible,master,,I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac,cyborg: add missing become for api-paste.ini,MERGED,2021-07-27 07:53:46.000000000,2021-07-29 15:56:38.000000000,2021-07-29 15:54:19.000000000,6,0,0,802430,5cb080247b7cbc2fdf7053e75c5173e5b9f0a6b7,9,3,1,2,14826,Mark Goddard,mgoddard,"cyborg: add missing become for api-paste.ini

Co-Authored-By: Boris Lukashev

Change-Id: I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac
Closes-Bug: #1937911
"
openstack%2Fopenstack-helm-infra~master~I6579a268c5f4bc458120dda66667988e5a529ee9,openstack/openstack-helm-infra,master,,I6579a268c5f4bc458120dda66667988e5a529ee9,[ceph-provisioner] Add check for empty ceph endpoint,MERGED,2021-07-27 19:01:05.000000000,2021-07-29 15:55:46.000000000,2021-07-29 15:53:13.000000000,8,2,3,802605,bf5f545c1c6bd7dc1c5f970633668364e850dd91,25,7,4,3,28372,chinasubbareddy mallavarapu,chinasubbareddy,"[ceph-provisioner] Add check for empty ceph endpoint

This is to add check to find out empty ceph mon endpoint while
generating ceph etc configmap for clients.

Change-Id: I6579a268c5f4bc458120dda66667988e5a529ee9
"
openstack%2Fnova~master~I7bc70c32d3d789bf0f88f897595a917156dbdd79,openstack/nova,master,bug/1886930,I7bc70c32d3d789bf0f88f897595a917156dbdd79,Add USB keyboard to support for MIPS architecture,ABANDONED,2020-07-09 10:01:37.000000000,2021-07-29 15:50:06.000000000,,3,1,1,740213,04f9b5a76785fb86dd746bd201f266a155e68165,14,9,1,1,32006,XiaolinZhao,zhaoxiaolin,"Add USB keyboard to support for MIPS architecture

I use hosts with MIPS architecture to run openstack
I launched an instance, then open the console, but can not use the keyboard.
From the nova source code, I got a message :
   Add USB keyboard as PS/2 support may not be present on non-x86 architectures.
Then I made a patch, and it worked.

Change-Id: I7bc70c32d3d789bf0f88f897595a917156dbdd79
Closes-Bug: #1886930
"
openstack%2Fnova~master~I595b800ae0c2a6a1a35c87a7d80236cf503cc8d8,openstack/nova,master,bug/1763761,I595b800ae0c2a6a1a35c87a7d80236cf503cc8d8,docs: Note the ``hw_numa_nodes`` image property,ABANDONED,2019-09-23 06:29:35.000000000,2021-07-29 15:48:42.000000000,,19,4,9,683849,68d72d04f051e0bdc7ff822a11fe1a798ae5879a,28,11,3,1,19779,Chason Chan,chenxing,"docs: Note the ``hw_numa_nodes`` image property

This requires updating the link to Glance's image metadata document.

Change-Id: I595b800ae0c2a6a1a35c87a7d80236cf503cc8d8
Co-Authored-By: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1763761
"
openstack%2Fnova~master~Ia40a110b4cf97163b9de19280d88eebfa5e44839,openstack/nova,master,bug/1487038,Ia40a110b4cf97163b9de19280d88eebfa5e44839,nova.exception._clean_dict should use oslo_utils.strutils,ABANDONED,2019-01-10 05:47:29.000000000,2021-07-29 15:44:08.000000000,,28,10,0,629769,b84046a838cfa83f179df129bab3b3d3e78d14db,24,11,2,2,22013,Hesam Chobanlou,hesamc,"nova.exception._clean_dict should use oslo_utils.strutils

nova.exception_wrapper._cleanse_dict will also remove sensitive
keys identified in oslo_utils.strutils._SANITIZE_KEYS

Change-Id: Ia40a110b4cf97163b9de19280d88eebfa5e44839
Closes-Bug: #1487038
"
openstack%2Fnova~master~If0e37e7ee4a13c1c86ea9076e5b37194aec3c0cf,openstack/nova,master,hacking-mock-spec-string,If0e37e7ee4a13c1c86ea9076e5b37194aec3c0cf,Hacking N363: Don't use spec[_set]='string',ABANDONED,2019-04-05 16:08:50.000000000,2021-07-29 15:43:17.000000000,,66,0,7,650370,e9ed427b8310c251c6a2aa6c8ce91b8107c7cfd1,53,13,5,3,14070,Eric Fried,efried,"Hacking N363: Don't use spec[_set]='string'

The behavior of Mock(spec=foo) or Mock(spec_set=foo) when foo is not a
list is to interpret foo as a class or instance and derive the set of
attributes you're allowed to get (spec) and/or set (spec_set) based on
dir(foo) [1]. Thus if foo is a string, your mock will be set up to look
like a string (with attributes like index, find, startswith...).

This is almost certainly not what you intended to do, so this commit
introduces hacking rule N363 to forbid it.

For example, if you said:

    Mock(spec='nova.objects.Instance')

...what you almost certainly meant was:

    Mock(spec=nova.objects.Instance)

If you actually want your mock to be specced like a string, say:

    Mock(spec=str)

[1] https://docs.python.org/3/library/unittest.mock.html#the-mock-class

Change-Id: If0e37e7ee4a13c1c86ea9076e5b37194aec3c0cf
"
openstack%2Fgovernance-website~master~Iabad24aab27d651aee33afbc03007cb47b47a320,openstack/governance-website,master,,Iabad24aab27d651aee33afbc03007cb47b47a320,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 06:20:45.000000000,2021-07-29 15:43:05.000000000,2021-07-29 15:41:10.000000000,3,3,0,791363,9682efa4139dbe34489a4dbb7091af61f8622234,10,4,1,1,31828,yang yawei,yangyawei,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iabad24aab27d651aee33afbc03007cb47b47a320
"
openstack%2Fgovernance-sigs~master~Ic904471801c3af6a83ec6229431ac372736d6a73,openstack/governance-sigs,master,,Ic904471801c3af6a83ec6229431ac372736d6a73,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 06:17:06.000000000,2021-07-29 15:41:00.000000000,2021-07-29 15:39:06.000000000,3,3,0,791361,31d24ae49246497ca5f60b745d84b39fc5c9849d,10,4,1,1,31828,yang yawei,yangyawei,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic904471801c3af6a83ec6229431ac372736d6a73
"
openstack%2Fnova~master~Ibf83877ca0936c8e78582c310f0b107a3b1e78d3,openstack/nova,master,,Ibf83877ca0936c8e78582c310f0b107a3b1e78d3,[DNM] Implementing graceful shutdown.,ABANDONED,2020-05-18 12:46:40.000000000,2021-07-29 15:40:20.000000000,,88,57,0,728860,0388ce100d0b2bfeb348f32af18e1fc7af0c5501,11,10,1,7,21813,Andrey Volkov,avolkov,"[DNM] Implementing graceful shutdown.

This allows nova-compute to finish creating all currently spawning instances,
when SIGTERM is sent to nova-compute process.
This is done by putting all spawning instances in a separate thread
pool, which uses [compute]/max_concurrent_builds config opt for setting the
size of the pool.
For larger number of VM's `graceful_shutdown_timeout` in `nova.conf` must be
set to a bigger number in order to work.

Change-Id: Ibf83877ca0936c8e78582c310f0b107a3b1e78d3
Closes-Bug: #1798326
"
openstack%2Fnova~master~I7be52886f9fba931ce582b1a949a21b2ffde7eac,openstack/nova,master,Remove_floppy_drive_support,I7be52886f9fba931ce582b1a949a21b2ffde7eac,[WIP] libvirt: Remove support for floppy drives,ABANDONED,2020-09-23 11:35:28.000000000,2021-07-29 15:34:11.000000000,,13,3,5,753588,f222210c6c4f0b348030a59392d7855228aa73ce,19,9,2,2,6962,Kashyap Chamarthy,kashyapc,"[WIP] libvirt: Remove support for floppy drives

Nova allows a floppy device type via these image metadata properties:

   - hw_floppy_bus=fd
   - hw_rescue_device=floppy

However, emulated floppy drives are vulnerable.  See the infamous
""VENOM"" CVE[1] where a floppy disk controller could cause crash a guest.
Latest is this[2] ""null pointer dereference"" vulnerability in QEMU's
floppy drive emulator.

Ideally, we might want to do a deprecation-followed-by-removing-it.  I
first began adding a warning, but then I remembered that back in
2019-February I asked[3] on the list if anyone relied on floppy drives
(due to 'VENOM' at that time), I heard nothing except an ACK by a
developer for the removal.  Though, I realize that not every Operator
would pay attention to the list.

TODO:

 - Work out the details of versioned object bump when deprecating /
   removing allowable values for hw_floppy_bus / fields.DiskBusField()
   in nova/objects/image_meta.py
 - Tests - at a min, fix the below:
    - test_get_device_name_for_instance_device_type
    - test_find_disk_dev
    - test_success_get_disk_bus_for_disk_dev
    - test_get_device_name_for_instance_device_type
 - Release note
 - Fix documentation in Glance

[1] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-3456

[2] https://lists.nongnu.org/archive/html/qemu-devel/2020-09/msg07779.html
    [PATCH v2] fdc: check null block pointer before r/w data transfer

[3] http://lists.openstack.org/pipermail/openstack-discuss/2019-February/002479.html
    [nova] Floppy drive support — does anyone rely on it?

blueprint: remove-support-for-floppy-disks
Change-Id: I7be52886f9fba931ce582b1a949a21b2ffde7eac
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
"
openstack%2Fnova~master~I402093402e45d0d44fd0af6154e550ee4f860fc4,openstack/nova,master,,I402093402e45d0d44fd0af6154e550ee4f860fc4,Add scheduler filter for routed_segments,ABANDONED,2020-02-22 07:15:28.000000000,2021-07-29 15:33:48.000000000,,161,0,1,709280,5e3eda30e15430b7c8b98052e35c51600cf9ba2d,59,14,7,4,10273,Adam Harwell,rm_you,"Add scheduler filter for routed_segments

Allow a scheduler hint ""routed_segments=[...]"" to supply a list of
segment_ids required on a host for scheduling.

Change-Id: I402093402e45d0d44fd0af6154e550ee4f860fc4
Co-Authored-By: Kris Lindgren <klindgren@godaddy.com>
"
openstack%2Fneutron-tempest-plugin~master~I477b309142dff9c50217142a60e54b7064f8c120,openstack/neutron-tempest-plugin,master,bug/1928466,I477b309142dff9c50217142a60e54b7064f8c120,Update definition of the neutron-tempest-plugin-dvr-multinode-scenario,MERGED,2021-06-09 07:54:44.000000000,2021-07-29 15:30:12.000000000,2021-07-29 15:30:12.000000000,29,0,6,795492,c28b40025742a4263d31101464266aeed58fb36a,34,5,6,1,11975,Slawek Kaplonski,slaweq,"Update definition of the neutron-tempest-plugin-dvr-multinode-scenario

This job needs to be run using ML2/OVS backend so this patch sets
that backend there explicitly.

Change-Id: I477b309142dff9c50217142a60e54b7064f8c120
"
openstack%2Fkolla-ansible~master~Ib5496d6bc2ddfe1fedacc4f9c859ac56fc69726e,openstack/kolla-ansible,master,,Ib5496d6bc2ddfe1fedacc4f9c859ac56fc69726e,"Revert ""cephadm: Set auth_allow_insecure_global_id_reclaim to true""",MERGED,2021-06-09 08:28:14.000000000,2021-07-29 15:29:28.000000000,2021-07-29 15:27:48.000000000,0,11,0,795457,682cff7bc888ddf99fcbfd66204646c4194fc1a3,19,4,1,1,30491,Radosław Piliszek,yoctozepto,"Revert ""cephadm: Set auth_allow_insecure_global_id_reclaim to true""

This reverts commit a967b9dd66fad5b055b071794a4b059feed9fe90.

Reason for revert: Check if it's still the case.

Change-Id: Ib5496d6bc2ddfe1fedacc4f9c859ac56fc69726e
"
openstack%2Ftripleo-common~stable%2Ftrain~Ie333c684b6603e65b46ee0d12931e07d003818be,openstack/tripleo-common,stable/train,,Ie333c684b6603e65b46ee0d12931e07d003818be,Add python3-oauthlib dependency,ABANDONED,2021-07-27 09:36:58.000000000,2021-07-29 15:24:03.000000000,,1,0,0,802444,2a88ce0d873b3d2ec543450767500e9cb744d04c,12,6,1,1,14250,Grzegorz Grasza,xek,"Add python3-oauthlib dependency

This was added as a dependency to mistral a while back,
but it is still not present in mistral containers. See
https://review.opendev.org/c/openstack/mistral/+/735708/

Change-Id: Ie333c684b6603e65b46ee0d12931e07d003818be
"
openstack%2Ftripleo-common~master~Ie333c684b6603e65b46ee0d12931e07d003818be,openstack/tripleo-common,master,,Ie333c684b6603e65b46ee0d12931e07d003818be,Add python3-oauthlib dependency,ABANDONED,2021-07-29 13:59:18.000000000,2021-07-29 15:23:53.000000000,,1,0,0,802894,4600f31f26fcfda45531122b47f68943216f999a,3,3,1,1,14250,Grzegorz Grasza,xek,"Add python3-oauthlib dependency

This was added as a dependency to mistral a while back,
but it is still not present in mistral containers. See
https://review.opendev.org/c/openstack/mistral/+/735708/

Change-Id: Ie333c684b6603e65b46ee0d12931e07d003818be
"
openstack%2Fpuppet-ironic~master~I565e3ae6388812c358e86fac49b17e0cce97b9df,openstack/puppet-ironic,master,ipxe,I565e3ae6388812c358e86fac49b17e0cce97b9df,Make ipxe bootfile name configurable,MERGED,2021-07-20 23:35:14.000000000,2021-07-29 15:17:47.000000000,2021-07-29 15:16:02.000000000,24,11,3,801548,d99a51d17b7ae254d03225dd763f56cd90465bcb,17,8,5,2,9816,Takashi Kajinami,kajinamit,"Make ipxe bootfile name configurable

This is a follow up of 3864e15998b5b1eec7d2b1b4911add9bb899fdb8 and
allows using a different name for ipxe bootfile. This is useful if
a user needs to switch back to ipxe*.efi from ipxe-snponly*.efi for
some reasons.

Change-Id: I565e3ae6388812c358e86fac49b17e0cce97b9df
"
openstack%2Fbifrost~bugfix%2F11.0~I69d073e4fdcd52dbf9e6c8da6cd4626aaa98c16f,openstack/bifrost,bugfix/11.0,sushy-oem-idrac-bugfix/11.0,I69d073e4fdcd52dbf9e6c8da6cd4626aaa98c16f,Install sushy-oem-idrac for idrac-redfish-virtual-media,MERGED,2021-07-21 09:04:51.000000000,2021-07-29 15:17:35.000000000,2021-07-29 15:06:47.000000000,13,5,0,801580,625e2ee725f53949cec66705e09c31ea4f4c8147,9,2,1,3,10239,Dmitry Tantsur,dtantsur,"Install sushy-oem-idrac for idrac-redfish-virtual-media

Change-Id: I69d073e4fdcd52dbf9e6c8da6cd4626aaa98c16f
(cherry picked from commit 1ac7dfe9e71a4fc917756bdf3020b31d58a2050c)
"
openstack%2Fbifrost~bugfix%2F11.0~I02ba2ac85c72362dbc424037c3d23231098e065b,openstack/bifrost,bugfix/11.0,extra-vars-bugfix/11.0,I02ba2ac85c72362dbc424037c3d23231098e065b,bifrost-cli: fix relative paths in --extra-vars,MERGED,2021-07-21 09:19:16.000000000,2021-07-29 15:16:04.000000000,2021-07-29 15:06:46.000000000,9,1,0,801581,06bc9e4eaec9c79a5896affc3a2582ad2d3f56ee,9,2,1,1,10239,Dmitry Tantsur,dtantsur,"bifrost-cli: fix relative paths in --extra-vars

Ansible accepts YAML files via the syntax `-e @path.yaml`. Since
bifrost-cli changes the working directory to ""playbooks"", relative paths
don't work as expected. Fix that by turning them into global paths.

Change-Id: I02ba2ac85c72362dbc424037c3d23231098e065b
(cherry picked from commit f0f6e6aa9e725bb3b6e0db6e78a223061385c1d6)
"
openstack%2Fcinder~master~Ia1ace7890e1ee3b26d511367c7bc9b0d76ff6888,openstack/cinder,master,r9_revert,Ia1ace7890e1ee3b26d511367c7bc9b0d76ff6888,mend,ABANDONED,2020-10-23 04:39:25.000000000,2021-07-29 15:13:54.000000000,,4,0,0,759350,e2dddd8ed8f68a2ac80c07bc8512862f8d798060,28,20,1,1,32425,saikrishnagk,gksk,"mend

Change-Id: Ia1ace7890e1ee3b26d511367c7bc9b0d76ff6888
"
openstack%2Fos-win~master~Ib8f06ee629753faec73cf3a2f41e7c743b6e0b04,openstack/os-win,master,bug/1937904,Ib8f06ee629753faec73cf3a2f41e7c743b6e0b04,Use importlib instead of imp,MERGED,2021-07-24 13:42:28.000000000,2021-07-29 14:58:55.000000000,2021-07-29 14:58:55.000000000,17,7,0,802149,d571260d41bfe309412570785665a9afd8d8eef2,6,2,1,2,9816,Takashi Kajinami,kajinamit,"Use importlib instead of imp

... because the imp module is deprecated since Python 3.4 .

Closes-Bug: #1937904
Change-Id: Ib8f06ee629753faec73cf3a2f41e7c743b6e0b04
"
openstack%2Fhorizon~master~I3058825c0e4ae114fb397670dbed1c1c6e983552,openstack/horizon,master,bug/964738,I3058825c0e4ae114fb397670dbed1c1c6e983552,Make word wrapping consistent,MERGED,2021-06-18 13:37:48.000000000,2021-07-29 14:57:37.000000000,2021-07-29 14:52:49.000000000,11,11,10,797083,b6439399e0a66a96614b9b536af1c1a58f1f5bb9,18,5,3,5,27838,Vadym Markov,vmarkov,"Make word wrapping consistent

Proposed patch enables word wrapping for 'Image name' and 'Host' columns
in affected dashboards. Currently, all potentially long names like instance
and image name are wrapped. Ellipsis might be a good idea, but it is not
implemented. Patch [1] just turns off wrapping for instance size (which is
reasonable, it is short in most cases) and hostname (might be very long in
prod environment, because in some cases backend generate some random name
for compute VM)

[1] https://review.opendev.org/c/openstack/horizon/+/5831

Related-Bug: #964738
Change-Id: I3058825c0e4ae114fb397670dbed1c1c6e983552
"
openstack%2Fhorizon~master~I44e511ddc1d93fc3e2b68393b88c5f2cd1360854,openstack/horizon,master,django3-support,I44e511ddc1d93fc3e2b68393b88c5f2cd1360854,Preparation for Django 3.0 and 3.1 support (1),MERGED,2021-02-24 14:58:47.000000000,2021-07-29 14:56:17.000000000,2021-07-29 14:52:44.000000000,22,9,4,777390,6a2635e32d73a5f9c0b71ec3306b40a8663321e4,17,5,2,2,841,Akihiro Motoki,amotoki,"Preparation for Django 3.0 and 3.1 support (1)

This commit enables non-voting unit test jobs with Django 3.0/3.1.

PendingDeprecationWarning is added to PYTHONWARNINGS in tox.ini.
PendingDeprecationWarning in Django 3.0+ includes deprecation warnings
on what will be dropped in Django 4.0 and they cannot be addressed
as long as we use Django 2.2.

Change-Id: I44e511ddc1d93fc3e2b68393b88c5f2cd1360854
"
openstack%2Fcharm-neutron-api~stable%2F21.04~I09ec4bef59ea95f833093220e41ddd728daa347b,openstack/charm-neutron-api,stable/21.04,fix-tox-pip-resolutionimpossible-stable/21.04,I09ec4bef59ea95f833093220e41ddd728daa347b,Sync release-tools,MERGED,2021-07-28 11:21:21.000000000,2021-07-29 14:52:38.000000000,2021-07-29 14:52:38.000000000,4,10,0,802471,7f7d47b689705690540fbe270ef978426ff47f66,14,4,2,3,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I09ec4bef59ea95f833093220e41ddd728daa347b
(cherry picked from commit b189536ff977a1a038050c3b875747f940f4526e)
"
openstack%2Ftripleo-validations~master~I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a,openstack/tripleo-validations,master,remove_using_containers_prepare_parameter,I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a,remove using containers-prepare-parameter.yaml,MERGED,2021-06-11 20:18:19.000000000,2021-07-29 14:52:16.000000000,2021-07-29 14:50:26.000000000,332,178,84,796061,8492bf8e35248adc08b95572ced3319112148fdb,104,6,28,7,32432,Owen McGonagle,omcgonag,"remove using containers-prepare-parameter.yaml

1. Stop using DockerInsecureRegistryAddress from
   containers-prepare-parameter.yaml
2. Instead, use:
   'openstack stack environment show qe-Cloud-0'

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a
"
openstack%2Fhorizon~stable%2Fussuri~Ifc1b9a0191aacd32e8c8ecc082b6313f04003f63,openstack/horizon,stable/ussuri,bug/1900851,Ifc1b9a0191aacd32e8c8ecc082b6313f04003f63,Fix create/update_port with python3,MERGED,2021-07-08 09:44:21.000000000,2021-07-29 14:47:19.000000000,2021-07-29 14:45:42.000000000,17,10,0,799999,efa1b3d683d6147abeb3ac9573729a726c481468,8,3,1,2,6737,Edward Hope-Morley,hopem,"Fix create/update_port with python3

unescape_port_kwargs() in api/neutron.py changes a key of dict
during the iteration and it is not allowed in python3.

Change-Id: Ifc1b9a0191aacd32e8c8ecc082b6313f04003f63
Closes-Bug: #1900851
(cherry picked from commit f3927ffb3d5e8803115a436f27d15cf52f61d2e0)
(cherry picked from commit 69e688728c19093eebf3b514a663e714e715d632)
"
openstack%2Ftripleo-ansible~master~I8c43a83d321c926b65857161e5800a6fda958eb6,openstack/tripleo-ansible,master,bug/1936763,I8c43a83d321c926b65857161e5800a6fda958eb6,Allow customizing reload commands,MERGED,2021-07-19 00:12:01.000000000,2021-07-29 14:43:05.000000000,2021-07-29 14:43:05.000000000,3,1,2,801216,74df889180a343c74485293dbcbd90b1d5a0eac9,15,4,4,1,9816,Takashi Kajinami,kajinamit,"Allow customizing reload commands

This change introduces ability to use arbitrary signal for reload and
disable complete reload capability.
Currently server services of Swift use SIGUSR1 instead of SIGHUP for
reload and also its backend daemons like replicator doesn't support
reloading based on signal.

Related-Bug: #1936763
Change-Id: I8c43a83d321c926b65857161e5800a6fda958eb6
"
openstack%2Foslo.db~master~I8c3f23083e09e5ac924e35d1b7b3248a0d074e1b,openstack/oslo.db,master,deprecations,I8c3f23083e09e5ac924e35d1b7b3248a0d074e1b,Drop checks for IBM DB2,MERGED,2021-03-31 17:56:14.000000000,2021-07-29 14:36:01.000000000,2021-07-29 14:34:27.000000000,18,134,1,784148,bd69e86d523a5f44d061310373c0516881bd8624,14,3,3,7,15334,Stephen Finucane,sfinucan,"Drop checks for IBM DB2

This hasn't been supported by any project for many years. Quoting from
the nova patch that removed DB2 support [1]

  This removes db2 support from tree completely. This is an oddball non
  open database that made doing live data migrations difficult. It is
  used by 0% of users in the OpenStack User Survey.

  Supporting commercial software that doesn't have users at the cost of
  delivering features and fixes to our community is the wrong tradeoff.
  This corrects that.

There's no need to keep this around.

[1] Ifeb9929e4515e3483eb65d371126afd7672b92a4

Change-Id: I8c3f23083e09e5ac924e35d1b7b3248a0d074e1b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I4a3bea3865888dbed275c9fcb3053846714062ea,openstack/nova,master,bug/1908405,I4a3bea3865888dbed275c9fcb3053846714062ea,Fix URL construction for 'nova-manage placement audit',ABANDONED,2020-12-16 13:20:38.000000000,2021-07-29 14:15:04.000000000,,1,1,0,767348,69215d247cb74eb1ab3b26a9ea2d46de9399f19f,18,2,1,1,31542,Andrew Bonney,andrewbonney,"Fix URL construction for 'nova-manage placement audit'

When specifying a 'resource_provider' argument this command would
always indicate that the resource provider did not exist.

Fixing the URL query string construction fixes this issue.

Change-Id: I4a3bea3865888dbed275c9fcb3053846714062ea
Closes-Bug: #1908405
"
openstack%2Fkolla-ansible~stable%2Fussuri~I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1,openstack/kolla-ansible,stable/ussuri,,I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1,Use ansible_facts to reference facts,MERGED,2021-07-28 13:24:25.000000000,2021-07-29 14:08:13.000000000,2021-07-29 14:05:49.000000000,425,373,1,802713,0ccd665be30573880a6dc5dd704a9ae8a04e5298,15,3,4,107,14826,Mark Goddard,mgoddard,"Use ansible_facts to reference facts

By default, Ansible injects a variable for every fact, prefixed with
ansible_. This can result in a large number of variables for each host,
which at scale can incur a performance penalty. Ansible provides a
configuration option [0] that can be set to False to prevent this
injection of facts. In this case, facts should be referenced via
ansible_facts.<fact>.

This change updates all references to Ansible facts within Kolla Ansible
from using individual fact variables to using the items in the
ansible_facts dictionary. This allows users to disable fact variable
injection in their Ansible configuration, which may provide some
performance improvement.

This change disables fact variable injection in the ansible
configuration used in CI, to catch any attempts to use the injected
variables.

[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars

Change-Id: I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1
Partially-Implements: blueprint performance-improvements
(cherry picked from commit ade5bfa302f131cf1111a61ec95c6cddc3827e04)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1,openstack/kolla-ansible,stable/victoria,,I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1,Use ansible_facts to reference facts,MERGED,2021-07-28 13:18:53.000000000,2021-07-29 14:07:06.000000000,2021-07-29 14:05:22.000000000,422,369,1,802711,eb52a6f65ba219bfe68ab2cab2f737e5f0e6742e,14,3,2,104,14826,Mark Goddard,mgoddard,"Use ansible_facts to reference facts

By default, Ansible injects a variable for every fact, prefixed with
ansible_. This can result in a large number of variables for each host,
which at scale can incur a performance penalty. Ansible provides a
configuration option [0] that can be set to False to prevent this
injection of facts. In this case, facts should be referenced via
ansible_facts.<fact>.

This change updates all references to Ansible facts within Kolla Ansible
from using individual fact variables to using the items in the
ansible_facts dictionary. This allows users to disable fact variable
injection in their Ansible configuration, which may provide some
performance improvement.

This change disables fact variable injection in the ansible
configuration used in CI, to catch any attempts to use the injected
variables.

[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars

Change-Id: I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1
Partially-Implements: blueprint performance-improvements
(cherry picked from commit ade5bfa302f131cf1111a61ec95c6cddc3827e04)
"
openstack%2Fkolla-ansible~stable%2Fussuri~I42a2ef84e5fe570e8001908614337e64d035ec99,openstack/kolla-ansible,stable/ussuri,,I42a2ef84e5fe570e8001908614337e64d035ec99,docs: Add information on tuning Ansible,MERGED,2021-07-28 13:24:25.000000000,2021-07-29 14:07:02.000000000,2021-07-29 14:05:24.000000000,64,0,0,802712,da591982a46f6463eb52c21cfeaae6598ea8abbe,11,3,2,2,14826,Mark Goddard,mgoddard,"docs: Add information on tuning Ansible

Stolen from Kayobe.

Change-Id: I42a2ef84e5fe570e8001908614337e64d035ec99
(cherry picked from commit b40cde9b9d44074a09911b2a0f7220ccb3e5c5f3)
"
openstack%2Ftripleo-validations~master~I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b,openstack/tripleo-validations,master,,I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b,oslo_config_validator: Setting container network to none,MERGED,2021-07-12 20:23:30.000000000,2021-07-29 13:57:44.000000000,2021-07-29 13:56:25.000000000,2,0,0,800557,c61d894c3ce9059cf2c7fb846a5b2b06a331aaaa,19,5,4,2,27419,David Vallee Delisle,dvd,"oslo_config_validator: Setting container network to none

When spinning a container, podman_container defaults network to bridge
as opposed to docker_container that defaults to none.

This causes ""Missing CNI default network"" errors and doesn't run the
oslo-config-validator command as expected.

Change-Id: I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b
"
openstack%2Fvalidations-libs~master~Ie54a0d256529277a69a72334e45040070ec32dc5,openstack/validations-libs,master,reqcheck/voting,Ie54a0d256529277a69a72334e45040070ec32dc5,reqcheck job is now voting,MERGED,2021-07-07 10:47:12.000000000,2021-07-29 13:49:12.000000000,2021-07-29 13:49:12.000000000,1,1,0,799788,27a20e59be888759f38cdae271da18563710647a,16,3,1,1,32926,Jiri Podivin,jpodivin,"reqcheck job is now voting

After several weeks being a nonvoting job, the reqcheck is moving to voting status.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie54a0d256529277a69a72334e45040070ec32dc5
"
openstack%2Ftripleo-heat-templates~master~I2b6bfa9afe36c3ea489648aa9481924fb4bb2acb,openstack/tripleo-heat-templates,master,,I2b6bfa9afe36c3ea489648aa9481924fb4bb2acb,Make indentation consistent in pacemaker config_settings,MERGED,2021-07-29 05:15:07.000000000,2021-07-29 13:49:10.000000000,2021-07-29 13:49:10.000000000,3,3,0,802825,c4097a028e0b446eae7e0fb4a75c3a327ac4c55d,10,7,1,1,13861,yatin,yatinkarel,"Make indentation consistent in pacemaker config_settings

Follow up of [1].

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/802696

Related-Bug: #1938283
Change-Id: I2b6bfa9afe36c3ea489648aa9481924fb4bb2acb
"
openstack%2Ftripleo-heat-templates~master~Ie8de1efb8c06f6103243a827ae9807644aba48d1,openstack/tripleo-heat-templates,master,use_mod_wsgi,Ie8de1efb8c06f6103243a827ae9807644aba48d1,Deploy neutron-server with httpd,NEW,2021-07-12 06:26:14.000000000,2021-07-29 13:12:24.000000000,,119,87,7,800422,2788a49caf24d1f23ea20d25be4966cb403227cf,45,9,10,1,8833,Rabi Mishra,rabi,"Deploy neutron-server with httpd

At present we don't deploy neutron with httpd unlike
other api services. As neutron documentation does not
mention any limitations of deploying neutron with
httpd+mod_wsgi, let's change it.

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/801600
Co-Authored-By: Takashi Kajinami <tkajinam@redhat.com>
Change-Id: Ie8de1efb8c06f6103243a827ae9807644aba48d1
"
openstack%2Fbifrost~bugfix%2F11.0~I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655,openstack/bifrost,bugfix/11.0,,I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655,Install libvirt-python from source instead of a wheel,MERGED,2021-07-28 16:05:35.000000000,2021-07-29 13:10:44.000000000,2021-07-29 13:09:21.000000000,15,2,0,802749,f6c056f357326eed906e6dff972987062f612d4a,7,2,1,2,10239,Dmitry Tantsur,dtantsur,"Install libvirt-python from source instead of a wheel

Apparently the binary installation no longer works.

Change-Id: I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655
(cherry picked from commit 79c8418ead5ead97494497b998aa6c03e27b87bf)
"
openstack%2Fopenstack-tempest-skiplist~master~I02727a6c0d18c81d76f950aca420344ecc1556f9,openstack/openstack-tempest-skiplist,master,bug/1934879,I02727a6c0d18c81d76f950aca420344ecc1556f9,"Revert ""Revert ""Skip manila_tempest_tests.tests.api.test_shares.SharesNFSTest test""""",MERGED,2021-07-29 11:48:33.000000000,2021-07-29 12:47:27.000000000,2021-07-29 12:46:10.000000000,3,0,1,802874,3c94fdcb6c0329e2e758f1c0fded9a18d99ab644,16,14,2,1,8449,Marios Andreou,marios,"Revert ""Revert ""Skip manila_tempest_tests.tests.api.test_shares.SharesNFSTest test""""

This reverts commit bf7cf46e5aa85c5202cb522843fb14df9e267c36 at least
partially because there was another commit before this one at [1] so
we are restoring the jobs here. Leaving check/gate scen4 off the list
as it looks green

[1] https://opendev.org/openstack/openstack-tempest-skiplist/commit/cda261ed3271aaabe351145bd808f0d782a66350
Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1934879/comments/13

Change-Id: I02727a6c0d18c81d76f950aca420344ecc1556f9
"
openstack%2Fhorizon~stable%2Fwallaby~Ic8330b947b1a733f70c3bdad8b3493f20a2f26fb,openstack/horizon,stable/wallaby,,Ic8330b947b1a733f70c3bdad8b3493f20a2f26fb,Fix Unable to use multiattach volume as boot for new server,MERGED,2021-07-28 17:30:33.000000000,2021-07-29 12:45:18.000000000,2021-07-29 12:43:58.000000000,5,4,0,802476,217dcc4b9ca2416b84116dfab3279faa3e04fc36,9,5,1,3,6914,Tatiana Ovchinnikova,tmazur,"Fix Unable to use multiattach volume as boot for new server

If we try to create a new server from a bootable volume that
supports multiattach, it will fail to create with an error
message that ``multiattach volumes are only supported starting
with compute API version 2.60``. This patch fixes the issue.

Closes-Bug: #1931440
Change-Id: Ic8330b947b1a733f70c3bdad8b3493f20a2f26fb
(cherry picked from commit 64fe0abb653950c85d455dedd09ef42856c6b07b)
"
openstack%2Freleases~master~I3a32fb875a2bd3ab7aec21921f198b80a86f68cf,openstack/releases,master,queens-eol,I3a32fb875a2bd3ab7aec21921f198b80a86f68cf,[manila-ui] Transition stable/rocky to eol,MERGED,2021-07-16 21:57:48.000000000,2021-07-29 12:18:15.000000000,2021-07-29 12:18:15.000000000,4,0,0,801143,237f9ad65d7f8d4c4a602fb9c3475e6572142fb0,15,6,2,1,16643,Goutham Pacha Ravi,gouthamr,"[manila-ui] Transition stable/rocky to eol

Manila's maintainers would like to create the eol release tag
with the latest code from the stable/rocky branch on the manila-ui
repository and delete this release branch from git once
this tags has been created. See the discussion on the
OpenStack Mailing list [1] for the announcement.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023702.html

Change-Id: I3a32fb875a2bd3ab7aec21921f198b80a86f68cf
"
openstack%2Freleases~master~Ib57088093cf5b31a59378198c33c97b82ed82226,openstack/releases,master,queens-eol,Ib57088093cf5b31a59378198c33c97b82ed82226,[python-manilaclient] Transition stable/queens and stable/rocky to eol,MERGED,2021-07-16 21:53:41.000000000,2021-07-29 12:12:44.000000000,2021-07-29 12:12:44.000000000,8,0,0,801142,e1ecac84e438899d8d4412803d7f308716ae9106,16,6,2,2,16643,Goutham Pacha Ravi,gouthamr,"[python-manilaclient] Transition stable/queens and stable/rocky to eol

Manila's maintainers would like to create the eol release tag
with the latest code from these branches on the python-manilaclient
repository and delete these release branches from git once
these tags have been created. See the discussion on the
OpenStack Mailing list [1] for the announcement.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023702.html

Change-Id: Ib57088093cf5b31a59378198c33c97b82ed82226
"
openstack%2Freleases~master~I98b368c03a864943ae82b416f90def7b91316e59,openstack/releases,master,queens-eol,I98b368c03a864943ae82b416f90def7b91316e59,[manila] Transition stable/queens and stable/rocky to eol,MERGED,2021-07-16 21:51:09.000000000,2021-07-29 12:12:42.000000000,2021-07-29 12:12:42.000000000,8,0,0,801141,3af5dd9560eff7633175f62a5aa9e125154b7902,16,6,2,2,16643,Goutham Pacha Ravi,gouthamr,"[manila] Transition stable/queens and stable/rocky to eol

Manila's maintainers would like to create the eol release tag
with the latest code from these branches on the manila
repository and delete these release branches from git once
these tags have been created. See the discussion on the
OpenStack Mailing list [1] for the announcement.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023702.html

Change-Id: I98b368c03a864943ae82b416f90def7b91316e59
"
openstack%2Fopenstack-tempest-skiplist~master~I20f8ce51c6bb59207ef82bd7786bc788c9fd313f,openstack/openstack-tempest-skiplist,master,bug/1934879,I20f8ce51c6bb59207ef82bd7786bc788c9fd313f,"Revert ""Skip manila_tempest_tests.tests.api.test_shares.SharesNFSTest test""",MERGED,2021-07-22 11:51:49.000000000,2021-07-29 11:48:33.000000000,2021-07-28 09:55:44.000000000,0,18,0,801736,bf7cf46e5aa85c5202cb522843fb14df9e267c36,22,15,2,1,8449,Marios Andreou,marios,"Revert ""Skip manila_tempest_tests.tests.api.test_shares.SharesNFSTest test""

This reverts commit 021b8a77a670859df5abf8a127de5e303a58fc66.

Reason for revert: fixed with https://github.com/ceph/ceph/pull/42162
Related-Bug: 1934879

Change-Id: I20f8ce51c6bb59207ef82bd7786bc788c9fd313f
"
openstack%2Foslo.db~master~I449e69a30aedc54d1119cf4997fa200e6885e06a,openstack/oslo.db,master,deprecations,I449e69a30aedc54d1119cf4997fa200e6885e06a,trivial: Fix formatting of options file,ABANDONED,2021-03-31 17:56:14.000000000,2021-07-29 11:38:14.000000000,,203,152,0,784149,7eb1747e90a6bb0035739414225524dfd83be952,6,2,2,1,15334,Stephen Finucane,sfinucan,"trivial: Fix formatting of options file

Ahead of some changes.

Change-Id: I449e69a30aedc54d1119cf4997fa200e6885e06a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkolla~master~I016f7bb17b91769ced21c90d73f693c54a71aef9,openstack/kolla,master,remove-tempest,I016f7bb17b91769ced21c90d73f693c54a71aef9,Remove tempest image,MERGED,2021-06-03 14:07:00.000000000,2021-07-29 11:35:07.000000000,2021-07-29 11:33:36.000000000,6,205,0,794595,5c369c7fab7a8f18aef9f5dc4e9a16457e4e7a9a,19,4,3,10,26285,wu.chunyang,wu.chunyang,"Remove tempest image

Remove tempest project as planned

Change-Id: I016f7bb17b91769ced21c90d73f693c54a71aef9
"
openstack%2Fkolla~stable%2Fussuri~I199185e24cedd2e282c53460a24aeffc83478a12,openstack/kolla,stable/ussuri,boto3-glance,I199185e24cedd2e282c53460a24aeffc83478a12,Add boto3 as s3 dependency for Glance container,MERGED,2021-07-28 16:48:42.000000000,2021-07-29 11:35:04.000000000,2021-07-29 11:33:35.000000000,8,1,0,802757,9f3660a6c2a51fd75c4b04512fe5a45140b3feae,11,7,1,2,14200,Maksim Malchuk,mmalchuk,"Add boto3 as s3 dependency for Glance container

boto3 library is needed [1] for glance_store and didn't installed yet
since [2] adds s3 support back. this change adds both binary and source
parts to install boto3 library.

1. https://github.com/openstack/glance_store/blob/04e5ead7c000211a4c10104ed2bb65c9df7681ae/setup.cfg#L76
2. I203134837319080ead96da69048baf90086d2117

Closes-Bug: #1884259
Change-Id: I199185e24cedd2e282c53460a24aeffc83478a12
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 53b391d3612a322ad13e1ec65e2ed9ba7e94a3c1)
"
openstack%2Fnova~master~I29ba2dda3d4bd5ccc03740bb6b9dc6221317b8ef,openstack/nova,master,bug/1823251,I29ba2dda3d4bd5ccc03740bb6b9dc6221317b8ef,"Revert ""Run the db migration tests in the same test worker""",ABANDONED,2021-02-10 15:47:22.000000000,2021-07-29 11:35:01.000000000,,2,12,0,774889,808766f9ddedd0fab318679e4f9d4ba8b17af9e9,11,3,1,1,9708,Balazs Gibizer,gibi,"Revert ""Run the db migration tests in the same test worker""

This reverts commit 800254c0bc1dff5e4d41fb9739c3498d15d81791 as the
compaction of the DB migration has been merged and therefore the
migration testing is sped up significantly

Change-Id: I29ba2dda3d4bd5ccc03740bb6b9dc6221317b8ef
Related-Bug: #1823251
"
openstack%2Fkolla~stable%2Fvictoria~I199185e24cedd2e282c53460a24aeffc83478a12,openstack/kolla,stable/victoria,boto3-glance,I199185e24cedd2e282c53460a24aeffc83478a12,Add boto3 as s3 dependency for Glance container,MERGED,2021-07-28 16:47:57.000000000,2021-07-29 11:34:57.000000000,2021-07-29 11:33:33.000000000,8,1,0,802756,1aba4e72a26165f4d2092430baef1350614ec479,11,7,1,2,14200,Maksim Malchuk,mmalchuk,"Add boto3 as s3 dependency for Glance container

boto3 library is needed [1] for glance_store and didn't installed yet
since [2] adds s3 support back. this change adds both binary and source
parts to install boto3 library.

1. https://github.com/openstack/glance_store/blob/04e5ead7c000211a4c10104ed2bb65c9df7681ae/setup.cfg#L76
2. I203134837319080ead96da69048baf90086d2117

Closes-Bug: #1884259
Change-Id: I199185e24cedd2e282c53460a24aeffc83478a12
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 53b391d3612a322ad13e1ec65e2ed9ba7e94a3c1)
"
openstack%2Fnova~stable%2Ftrain~I2f9ad3df25306e070c8c3538bfed1212d6d8682f,openstack/nova,stable/train,bug/1860312,I2f9ad3df25306e070c8c3538bfed1212d6d8682f,Allow deletion of compute service with no compute nodes,NEW,2021-07-29 09:01:01.000000000,2021-07-29 11:34:25.000000000,,20,9,0,802849,e9ba530b5213c5e0992a2900cc03cf5e1e694f34,2,1,1,2,8864,Artom Lifshitz,artom,"Allow deletion of compute service with no compute nodes

Consider the following situation:

- Using the Ironic virt driver
- Replacing (so removing and re-adding) all baremetal nodes
  associated with a single nova-compute service

The update resources periodic will have destroyed the compute node
records because they're no longer being reported by the virt driver.
If we then attempt to manually delete the compute service record, the
datbase layer will raise an exception, as there are no longer any
compute node records for the host. Previously, this exception would
get bubbled up as an error 500 in the API. This patch catches it and
allows service deletion to complete succefully.

Closes bug: 1860312
Change-Id: I2f9ad3df25306e070c8c3538bfed1212d6d8682f
(cherry picked from commit 880611df0b6b967adabd3f08886e385d0a100c5c)
(cherry picked from commit df5158bf3f80fd4362725dc280de67b88ece9952)
(cherry picked from commit e238cc9cd6ee7ba9d556c0c29f6f69dc3e3a7af9)
(cherry picked from commit ced6595af4b73f24cfef66623bc3ad9a00091952)
"
openstack%2Fnova~master~Id24e6234a110b7249e8188680e3ebfdd02cd9c73,openstack/nova,master,,Id24e6234a110b7249e8188680e3ebfdd02cd9c73,"DNM Revert ""zuul: Skip block migration with attached volumes tests due to #1931702""",ABANDONED,2021-06-11 12:33:27.000000000,2021-07-29 11:31:18.000000000,,2,4,0,795997,1af08d41910b33c02bc26241f7f08dc91f9897fa,19,1,1,1,10135,Lee Yarwood,lyarwood,"DNM Revert ""zuul: Skip block migration with attached volumes tests due to #1931702""

This reverts commit be41031859d3a629852a4dc8b4ece7ca604dd3f2.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/795994
Related-Bug: #1931702
Change-Id: Id24e6234a110b7249e8188680e3ebfdd02cd9c73
"
openstack%2Fnova~master~Ib09e28397f66c9d76724363191be065ae0fb55f7,openstack/nova,master,,Ib09e28397f66c9d76724363191be065ae0fb55f7,DNM: testing,ABANDONED,2021-06-04 16:28:48.000000000,2021-07-29 11:29:46.000000000,,18,4,12,794863,2a187b3890bda1dbeb16dc437e8d8144d9210057,36,1,5,2,8556,Ghanshyam,ghanshyam,"DNM: testing

Change-Id: Ib09e28397f66c9d76724363191be065ae0fb55f7
"
openstack%2Fsushy~master~Ic038b8c563528cc9c263da98d65186242c73cfd0,openstack/sushy,master,increase-hacking-pycodestyle,Ic038b8c563528cc9c263da98d65186242c73cfd0,Increase version of hacking and pycodestyle,MERGED,2021-07-27 13:04:39.000000000,2021-07-29 11:26:05.000000000,2021-07-29 11:24:41.000000000,4,4,0,802491,79dd4880be7b6b3a8b0852cff6970f5ec900f840,9,3,1,3,23851,Riccardo Pittau,elfosardo,"Increase version of hacking and pycodestyle

Fix errors in unit tests

Change-Id: Ic038b8c563528cc9c263da98d65186242c73cfd0
"
openstack%2Fkolla~stable%2Fwallaby~I199185e24cedd2e282c53460a24aeffc83478a12,openstack/kolla,stable/wallaby,boto3-glance,I199185e24cedd2e282c53460a24aeffc83478a12,Add boto3 as s3 dependency for Glance container,MERGED,2021-07-28 16:46:36.000000000,2021-07-29 11:20:50.000000000,2021-07-29 11:19:20.000000000,8,1,0,802755,a7c5173b366ff8ebcc1efdbe51f594fef6342ba3,13,7,1,2,14200,Maksim Malchuk,mmalchuk,"Add boto3 as s3 dependency for Glance container

boto3 library is needed [1] for glance_store and didn't installed yet
since [2] adds s3 support back. this change adds both binary and source
parts to install boto3 library.

1. https://github.com/openstack/glance_store/blob/04e5ead7c000211a4c10104ed2bb65c9df7681ae/setup.cfg#L76
2. I203134837319080ead96da69048baf90086d2117

Closes-Bug: #1884259
Change-Id: I199185e24cedd2e282c53460a24aeffc83478a12
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 53b391d3612a322ad13e1ec65e2ed9ba7e94a3c1)
"
openstack%2Fkolla~stable%2Fussuri~I75927b6016bdb7577fbff354632bdab6407f359c,openstack/kolla,stable/ussuri,bug/1931980-stable/ussuri,I75927b6016bdb7577fbff354632bdab6407f359c,Improve offline build scenario.,MERGED,2021-07-27 09:34:37.000000000,2021-07-29 11:20:46.000000000,2021-07-29 11:19:18.000000000,9,11,0,802355,2df836b0fa625db2b5c3fd92dc424bea482b7686,13,3,2,2,32398,Gaël THEROND,Fl1nt,"Improve offline build scenario.

  * Use distribution based dumb-init package.

Change-Id: I75927b6016bdb7577fbff354632bdab6407f359c
Related-Bug: #19311980
(cherry picked from commit 5940d1758fabf47d15bac5c08d0afa57fbb35964)
"
openstack%2Ftripleo-quickstart~master~I1f3cd3c2c6e4de41be6206753ae00ce9326eb95c,openstack/tripleo-quickstart,master,,I1f3cd3c2c6e4de41be6206753ae00ce9326eb95c,Use dnf config-manager in CentOS8 releases,MERGED,2021-07-28 10:39:35.000000000,2021-07-29 11:15:04.000000000,2021-07-29 11:13:08.000000000,7,7,0,802681,e47422acbe6782f37c4cae223a38cfe92e59c1df,9,6,1,7,13861,yatin,yatinkarel,"Use dnf config-manager in CentOS8 releases

yum-config-manager is just wrapper for dnf config-manager,
and needs yum-utils rpm to be installed, let's use
dnf config-manager instead so it works in absense of
yum-utils too.

Change-Id: I1f3cd3c2c6e4de41be6206753ae00ce9326eb95c
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id3356cdac42d84282014e2e22163bc0ffd825df5,openstack/tripleo-heat-templates,stable/wallaby,,Id3356cdac42d84282014e2e22163bc0ffd825df5,nova-compute: Adding failed_when to nova-compute stop task,MERGED,2021-07-28 06:05:42.000000000,2021-07-29 11:13:10.000000000,2021-07-29 11:13:10.000000000,4,0,0,802466,5904179fe206efd9618e7e185144725a8c81e524,8,8,1,1,17216,Martin Schuppert,mcschupp,"nova-compute: Adding failed_when to nova-compute stop task

When deleting a partially deployed node, the deletion fails as well
because the nova_compute service isn't provisioned. At this point, we don't
care much if the service should be present or not, we don't want an
additonnal failure.

Change-Id: Id3356cdac42d84282014e2e22163bc0ffd825df5
(cherry picked from commit ed320d8a7d8d244fc5aa4a2147170f534e669836)
"
openstack%2Fplacement~master~Ie0bee79c1ee185c0f68fa170c668395d9058c56d,openstack/placement,master,fixsqlinstatus,Ie0bee79c1ee185c0f68fa170c668395d9058c56d,Fix SQL query counting the number of individual consumers having allocations by only selecting the aggregated consumer_id column.,MERGED,2021-07-20 07:17:10.000000000,2021-07-29 11:11:37.000000000,2021-07-29 11:07:41.000000000,3,2,1,801419,616208914ab7adf5b68619e6fda26f5eda666a90,15,7,3,1,32755,Christian Rohmann,frittentheke,"Fix SQL query counting the number of individual consumers having allocations by only selecting the aggregated consumer_id column.

Story: 2006904
Task: 37546
Change-Id: Ie0bee79c1ee185c0f68fa170c668395d9058c56d
"
openstack%2Fdevstack~stable%2Fvictoria~If952b54bdecf82be811b57f4a17a0c59db54a62a,openstack/devstack,stable/victoria,,If952b54bdecf82be811b57f4a17a0c59db54a62a,[CI] [stable-only] Drop testing on Fedora,MERGED,2021-07-29 03:44:02.000000000,2021-07-29 11:10:57.000000000,2021-07-29 11:07:39.000000000,0,33,0,802821,3eff1823f1b0133ae0840dcd851bd56350773514,12,3,1,1,7118,Ian Wienand,iwienand,"[CI] [stable-only] Drop testing on Fedora

The QA/DevStack team does not support testing on Fedora on stable
branches. The fedora-latest nodeset is meant to be used on
master branch only.
This change removes it on this stable branch to allow the nodeset
to progress with Fedora version on master.
In addition, the two Fedora jobs are removed to allow for nodeset
removal.

Cherry-Picked-From: c1928d8fb89c451e98e7da1cc7f884c44d282dfd
Change-Id: If952b54bdecf82be811b57f4a17a0c59db54a62a
"
openstack%2Fkolla~master~I822d640a251e6ed9f71c76a922513e23e4218418,openstack/kolla,master,change-798212-3,I822d640a251e6ed9f71c76a922513e23e4218418,Add missing default policy files for debian-binary-horizon,MERGED,2021-06-27 13:03:38.000000000,2021-07-29 10:49:27.000000000,2021-07-29 10:47:42.000000000,6,1,0,798212,01d02be25ed043b4541db3ebfc102d013cdc578a,29,5,4,2,27339,Michal Arbet,michalarbet,"Add missing default policy files for debian-binary-horizon

The debian-binary-horizon image is missing the default policies files
which should be in /etc/openstack-dashboard/default_policies. By copying
everything from /etc/openstack-dashboard/policy
into /etc/openstack-dashboard, we get the default policy files, as well
as commented out policy files (e.g. cinder_policy.yaml) and the
nova_policy.d directory containing api-extensions.yaml.

Change was merged for ubuntu in [1] but unfortunatelly
not for debian, this trivial patch fixes it also
for debian.

[1] https://review.opendev.org/c/openstack/kolla/+/794589

Closes-Bug: #1933759
Change-Id: I822d640a251e6ed9f71c76a922513e23e4218418
"
openstack%2Ftripleo-heat-templates~master~I54d45bbb26a4a04cb3cf87b9bd8a2290998279fc,openstack/tripleo-heat-templates,master,,I54d45bbb26a4a04cb3cf87b9bd8a2290998279fc,Make memcached port parameters globally available,MERGED,2021-04-16 12:32:35.000000000,2021-07-29 10:46:18.000000000,2021-07-29 10:46:18.000000000,10,12,3,786639,a7d2386438d6d4a969ad67a2de58ac6c1ffa075a,20,7,3,2,9816,Takashi Kajinami,kajinamit,"Make memcached port parameters globally available

The memcached_port parameter and the memcached_authtoken_port parameter
are used in each api service. Because memcached and each api services
are not always collocated, we should use global hieradata to ensure
the parameters defined in memcached service resource are propagated to
all nodes in the deployment.

Change-Id: I54d45bbb26a4a04cb3cf87b9bd8a2290998279fc
"
openstack%2Fkolla~stable%2Fvictoria~I75927b6016bdb7577fbff354632bdab6407f359c,openstack/kolla,stable/victoria,bug/1931980-stable/victoria,I75927b6016bdb7577fbff354632bdab6407f359c,Improve offline build scenario.,MERGED,2021-07-27 09:37:22.000000000,2021-07-29 10:45:35.000000000,2021-07-29 10:43:45.000000000,9,11,1,802357,865e3f1bb848f3dbf64bb2e52dd51bc3209e9719,14,3,2,2,32398,Gaël THEROND,Fl1nt,"Improve offline build scenario.

  * Use distribution based dumb-init package.

Change-Id: I75927b6016bdb7577fbff354632bdab6407f359c
Related-Bug: #19311980
(cherry picked from commit 5940d1758fabf47d15bac5c08d0afa57fbb35964)
"
openstack%2Freleases~master~I1237a7109d482e96d414390b636f5b471205655e,openstack/releases,master,train-last,I1237a7109d482e96d414390b636f5b471205655e,[blazar-tempest-plugin] Tag train-last,MERGED,2021-07-16 23:46:10.000000000,2021-07-29 10:45:14.000000000,2021-07-29 10:45:14.000000000,9,0,0,801161,03156b5bd992a639c4826508541145d3e05c0c21,9,4,1,2,8556,Ghanshyam,ghanshyam,"[blazar-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I1237a7109d482e96d414390b636f5b471205655e
"
openstack%2Freleases~master~Iceae0b43d2d564b44759a172c8ba4e02aec24b44,openstack/releases,master,train-last,Iceae0b43d2d564b44759a172c8ba4e02aec24b44,[cloudkitty-tempest-plugin] Tag train-last,MERGED,2021-07-16 21:26:59.000000000,2021-07-29 10:43:48.000000000,2021-07-29 10:43:48.000000000,9,0,1,801138,09ce2aba22d4a1e95930414b89b460c7f09abfd1,11,4,2,2,8556,Ghanshyam,ghanshyam,"[cloudkitty-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: Iceae0b43d2d564b44759a172c8ba4e02aec24b44
"
openstack%2Fironic~master~Ib5a75fc5e5b6b5661d36e3a27796c3c02ed90056,openstack/ironic,master,increase-hacking-pycodestyle,Ib5a75fc5e5b6b5661d36e3a27796c3c02ed90056,Increase version of hacking and pycodestyle,MERGED,2021-07-28 09:33:31.000000000,2021-07-29 10:42:58.000000000,2021-07-29 10:40:52.000000000,17,22,0,802675,7aec74d4e610a128b11bc6fae14fbb8d26d1da70,9,3,1,7,23851,Riccardo Pittau,elfosardo,"Increase version of hacking and pycodestyle

Fix errors in unit tests

Change-Id: Ib5a75fc5e5b6b5661d36e3a27796c3c02ed90056
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I34d94dba5df3203426424b49b9dfab862b69dbb5,openstack/tripleo-heat-templates,stable/train,,I34d94dba5df3203426424b49b9dfab862b69dbb5,DNM: Test for BZ1979840,ABANDONED,2021-07-09 05:53:53.000000000,2021-07-29 10:41:20.000000000,,8,8,0,800159,06e7bea1edc6303a2b76b8de1f82da92a5238050,4,2,1,1,26343,Jose Luis Franco,jfrancoa,"DNM: Test for BZ1979840

Change-Id: I34d94dba5df3203426424b49b9dfab862b69dbb5
"
openstack%2Freleases~master~Ifc4756305985c63c5e08fc294ff7a80aa666ca0c,openstack/releases,master,train-last,Ifc4756305985c63c5e08fc294ff7a80aa666ca0c,[ironic-tempest-plugin] Tag train-last,MERGED,2021-07-17 00:15:23.000000000,2021-07-29 10:39:42.000000000,2021-07-29 10:39:42.000000000,9,0,0,801169,789ea9b3c6071d164a06ffc7cf9aa73fef4ecf6a,9,7,1,2,8556,Ghanshyam,ghanshyam,"[ironic-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: Ifc4756305985c63c5e08fc294ff7a80aa666ca0c
"
openstack%2Freleases~master~I1d12ad572d5315616696dcf88ba86a276a2d042d,openstack/releases,master,train-last,I1d12ad572d5315616696dcf88ba86a276a2d042d,[telemetry-tempest-plugin] Tag train-last,MERGED,2021-07-16 22:45:35.000000000,2021-07-29 10:39:15.000000000,2021-07-29 10:39:15.000000000,9,0,0,801152,e3c4c47c65bea4e752523fbddeefff7d8ee5cbc3,9,4,1,2,8556,Ghanshyam,ghanshyam,"[telemetry-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I1d12ad572d5315616696dcf88ba86a276a2d042d
"
openstack%2Freleases~master~I2f29a08bf785434c14cdaad1e2eda5230ba809cb,openstack/releases,master,train-last,I2f29a08bf785434c14cdaad1e2eda5230ba809cb,[watcher-tempest-plugin] Tag train-last,MERGED,2021-07-16 22:49:26.000000000,2021-07-29 10:37:00.000000000,2021-07-29 10:37:00.000000000,9,0,0,801153,b0fc745360eaa8ccf3b3acf52fe7dbdfed937414,9,5,1,2,8556,Ghanshyam,ghanshyam,"[watcher-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I2f29a08bf785434c14cdaad1e2eda5230ba809cb
"
openstack%2Freleases~master~Ia6f554da377d77182b79240a96638d19a163a9b3,openstack/releases,master,train-last,Ia6f554da377d77182b79240a96638d19a163a9b3,[ec2api-tempest-plugin] Tag train-last,MERGED,2021-07-16 21:18:42.000000000,2021-07-29 10:33:09.000000000,2021-07-29 10:33:09.000000000,9,0,0,801136,cc96ae42836a5a2c959e25ddf44e925a2ae5afd3,9,4,1,2,8556,Ghanshyam,ghanshyam,"[ec2api-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: Ia6f554da377d77182b79240a96638d19a163a9b3
"
openstack%2Freleases~master~I546921d83610f268a41104e0572e36ca7ed2435d,openstack/releases,master,train-last,I546921d83610f268a41104e0572e36ca7ed2435d,[vitrage-tempest-plugin] Tag train-last,MERGED,2021-07-16 21:14:49.000000000,2021-07-29 10:33:07.000000000,2021-07-29 10:33:07.000000000,9,0,0,801135,63081871e29179d9a45851c615532a1e5ee0ba09,9,4,1,2,8556,Ghanshyam,ghanshyam,"[vitrage-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I546921d83610f268a41104e0572e36ca7ed2435d
"
openstack%2Freleases~master~I2f65701ebf6a7916f7c72457ae0bd6531b57608a,openstack/releases,master,train-last,I2f65701ebf6a7916f7c72457ae0bd6531b57608a,[neutron-tempest-plugin] Tag train-last,MERGED,2021-07-16 22:19:53.000000000,2021-07-29 10:33:01.000000000,2021-07-29 10:33:01.000000000,8,0,0,801146,da9745f8b12dcb7e6f52d9ee868bc402cb44055e,13,6,1,2,8556,Ghanshyam,ghanshyam,"[neutron-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I2f65701ebf6a7916f7c72457ae0bd6531b57608a
"
openstack%2Freleases~master~Ic92f0048ed6f3c23f7f060797508be70cef141b7,openstack/releases,master,train-last,Ic92f0048ed6f3c23f7f060797508be70cef141b7,[monasca-tempest-plugin] Tag train-last,MERGED,2021-07-16 23:52:55.000000000,2021-07-29 10:32:59.000000000,2021-07-29 10:32:59.000000000,9,0,0,801164,dd207a4722745479f5b2c587fdd0e4dd1762dd6a,9,4,1,2,8556,Ghanshyam,ghanshyam,"[monasca-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: Ic92f0048ed6f3c23f7f060797508be70cef141b7
"
openstack%2Freleases~master~I5e3bec00a75a3213e0aab810a6e797f3e34d5d08,openstack/releases,master,train-last,I5e3bec00a75a3213e0aab810a6e797f3e34d5d08,[Tempest] Tag train-last,MERGED,2021-07-16 20:57:09.000000000,2021-07-29 10:32:57.000000000,2021-07-29 10:32:57.000000000,9,0,0,801133,e8ebdbc010c65f3dc18e2d78a2e636fbf4825be8,15,5,2,2,8556,Ghanshyam,ghanshyam,"[Tempest] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[2].

Documentation this tag
- https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: I5e3bec00a75a3213e0aab810a6e797f3e34d5d08
"
openstack%2Freleases~master~I418d31195844362805d82fd8909fe785529eabbd,openstack/releases,master,train-last,I418d31195844362805d82fd8909fe785529eabbd,[zaqar-tempest-plugin] Tag train-last,MERGED,2021-07-16 22:29:52.000000000,2021-07-29 10:29:47.000000000,2021-07-29 10:29:47.000000000,9,0,0,801148,5c45515035f409fcca569c566a395471de15f320,9,5,1,2,8556,Ghanshyam,ghanshyam,"[zaqar-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I418d31195844362805d82fd8909fe785529eabbd
"
openstack%2Freleases~master~I269c8bd61fca50954b81baeacce50b44e58e227f,openstack/releases,master,train-last,I269c8bd61fca50954b81baeacce50b44e58e227f,[manila-tempest-plugin] Tag train-last,MERGED,2021-07-16 22:37:21.000000000,2021-07-29 10:29:00.000000000,2021-07-29 10:29:00.000000000,9,0,0,801150,a6f2fe3be396d4c086da2e99a3158e70c01f53e0,10,5,1,2,8556,Ghanshyam,ghanshyam,"[manila-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I269c8bd61fca50954b81baeacce50b44e58e227f
"
openstack%2Freleases~master~If479ab5efac8e93a71a5f3bcf589ef852333a14c,openstack/releases,master,train-last,If479ab5efac8e93a71a5f3bcf589ef852333a14c,[kuryr-tempest-plugin] Tag train-last,MERGED,2021-07-16 22:40:15.000000000,2021-07-29 10:25:11.000000000,2021-07-29 10:25:11.000000000,9,0,0,801151,9b3a16e2b66c894e1f2b07e3362a0348e8540b0e,9,4,1,2,8556,Ghanshyam,ghanshyam,"[kuryr-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: If479ab5efac8e93a71a5f3bcf589ef852333a14c
"
openstack%2Freleases~master~Idee706732d9f3a9222b6eac9f6e5facf5b321a00,openstack/releases,master,train-last,Idee706732d9f3a9222b6eac9f6e5facf5b321a00,[oswin-tempest-plugin] Tag train-last,MERGED,2021-07-16 21:06:50.000000000,2021-07-29 10:23:42.000000000,2021-07-29 10:23:42.000000000,9,0,0,801134,06ed592a7081f5a464bdac5e68f918c87d38e183,10,5,1,2,8556,Ghanshyam,ghanshyam,"[oswin-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: Idee706732d9f3a9222b6eac9f6e5facf5b321a00
"
openstack%2Fsolum~master~I25b3670a42695a48de6f9892288c19067a0ddfc0,openstack/solum,master,,I25b3670a42695a48de6f9892288c19067a0ddfc0,docs: Update Freenode to OFTC,ABANDONED,2021-06-08 14:15:45.000000000,2021-07-29 10:22:01.000000000,,1,1,0,795347,7c04164ac2f59cd9fd9917a7ff284ad8c527e5fe,4,2,1,1,26285,wu.chunyang,wu.chunyang,"docs: Update Freenode to OFTC

see: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html
Change-Id: I25b3670a42695a48de6f9892288c19067a0ddfc0
"
openstack%2Freleases~master~I803950d36749fd8fdf2eb0d57daa59fa476495f4,openstack/releases,master,train-last,I803950d36749fd8fdf2eb0d57daa59fa476495f4,[trove-tempest-plugin] Tag train-last,MERGED,2021-07-16 21:22:10.000000000,2021-07-29 10:20:54.000000000,2021-07-29 10:20:54.000000000,9,0,0,801137,3e8571a2056fbdecc8d517d007c124aecb13c259,9,4,1,2,8556,Ghanshyam,ghanshyam,"[trove-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I803950d36749fd8fdf2eb0d57daa59fa476495f4
"
openstack%2Fnova~stable%2Ftrain~I03eec634b25582ec9643cacf3e5868c101176983,openstack/nova,stable/train,bug/1860312,I03eec634b25582ec9643cacf3e5868c101176983,Reproducer unit test for bug 1860312,NEW,2021-07-29 09:01:01.000000000,2021-07-29 10:18:06.000000000,,19,0,0,802848,538aeb98446e2230e44c579ed1f971fa7883826d,2,1,1,1,8864,Artom Lifshitz,artom,"Reproducer unit test for bug 1860312

Consider the following situation:

- Using the Ironic virt driver
- Replacing (so removing and re-adding) all baremetal nodes
  associated with a single nova-compute service

The update resources periodic will have destroyed the compute node
records because they're no longer being reported by the virt driver.
If we then attempt to manually delete the compute service record, the
datbase layer will raise an exception, as there are no longer any
compute node records for the host. This exception gets bubbled up as
an error 500 in the API. This patch adds a unit test to demonstrate
this.

Related bug: 1860312
Change-Id: I03eec634b25582ec9643cacf3e5868c101176983
(cherry picked from commit 32257a2a6d159406577c885a9d7e366cbf0c72b9)
(cherry picked from commit e6cd23c3b4928b421b8c706f9cc218020779e367)
(cherry picked from commit 9efdd0b085733a0a4c4192aab8fc870c8aadf316)
(cherry picked from commit 075817983ae2ab71e6fe0b539da67a768d109478)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1,openstack/kolla-ansible,stable/wallaby,,I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1,Use ansible_facts to reference facts,MERGED,2021-07-28 13:11:58.000000000,2021-07-29 10:07:22.000000000,2021-07-29 10:05:42.000000000,424,371,0,802704,493e6454bc55d303df4ab008db69ca6af7992639,10,3,1,104,14826,Mark Goddard,mgoddard,"Use ansible_facts to reference facts

By default, Ansible injects a variable for every fact, prefixed with
ansible_. This can result in a large number of variables for each host,
which at scale can incur a performance penalty. Ansible provides a
configuration option [0] that can be set to False to prevent this
injection of facts. In this case, facts should be referenced via
ansible_facts.<fact>.

This change updates all references to Ansible facts within Kolla Ansible
from using individual fact variables to using the items in the
ansible_facts dictionary. This allows users to disable fact variable
injection in their Ansible configuration, which may provide some
performance improvement.

This change disables fact variable injection in the ansible
configuration used in CI, to catch any attempts to use the injected
variables.

[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars

Change-Id: I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1
Partially-Implements: blueprint performance-improvements
(cherry picked from commit ade5bfa302f131cf1111a61ec95c6cddc3827e04)
"
openstack%2Freleases~master~I61ef6a5099eca7d92b85b1b15e465f8225e13401,openstack/releases,master,ussuri-stable,I61ef6a5099eca7d92b85b1b15e465f8225e13401,Release cinder for stable/ussuri,MERGED,2021-07-23 15:42:48.000000000,2021-07-29 10:00:27.000000000,2021-07-29 10:00:27.000000000,4,0,0,802049,9ded685964db6d833ac3ffdd1cfb5302d7bb3a33,9,5,1,1,17685,Elod Illes,elod.illes,"Release cinder for stable/ussuri

This release picks up new commits to cinder since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 16.3.0..62da20185
35d56b680 Fix typo in Dell EMC Unity driver documentation
f6d7b0919 Open local image files with ""rb"" mode
e156653d3 Fix sporadic cleanup unit test failure
dc8a1beab Label temporary files created by image_utils
d9c029c17 Add ports filtering support to Dell EMC XtremIO driver
ba8d19822 Tests: Don't assert notifier not called
34120d498 Backup manager: Synchronously call remove_export
610b59b27 Add support for RBD fast-diff feature for backups stored in Ceph
b32a0f0cf Drop lower-constraints job
d5fed21fd API validation: Add cinder_host type to support ipv6 in manage
1aa907300 Pure: Add default value to pure_host_personality
849fb4f19 [Pure] Fix failing consistency group tempest tests

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I61ef6a5099eca7d92b85b1b15e465f8225e13401
"
openstack%2Freleases~master~I25526687ff604d4c973f6fa559a3fe138553f3a4,openstack/releases,master,,I25526687ff604d4c973f6fa559a3fe138553f3a4,Release kolla-ansible 10.3.0 for Ussuri,MERGED,2021-07-28 12:57:53.000000000,2021-07-29 10:00:25.000000000,2021-07-29 10:00:25.000000000,4,0,0,802698,d8a01aff7eec1da5225ca97e03dcf16b29016dfe,9,4,1,1,14826,Mark Goddard,mgoddard,"Release kolla-ansible 10.3.0 for Ussuri

Change-Id: I25526687ff604d4c973f6fa559a3fe138553f3a4
"
openstack%2Freleases~master~I321c7dee35798ad141176f15b19b576d64e11b78,openstack/releases,master,ussuri-stable,I321c7dee35798ad141176f15b19b576d64e11b78,Release ironic for stable/ussuri,MERGED,2021-07-23 17:05:57.000000000,2021-07-29 10:00:23.000000000,2021-07-29 10:00:23.000000000,4,0,0,802067,e6c93f33731d618a1157c2629004fdddb0149c50,11,8,1,1,17685,Elod Illes,elod.illes,"Release ironic for stable/ussuri

This release picks up new commits to ironic since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 15.0.1..0c17549c2
f33bc52b0 Remove grenade jobs from old stable branches
c68e50e6c Update the clear job id's constant
8d6cf57bb Make test-setup.sh compatible with mysql8
86a855d61 Delete unavailable py2 package
54376836e update grub2 file name
72fd48b9c Restrict syncing of boot mode to Supermicro
2e4e87556 For Supermicro BMCs set enable when changing boot device
4df73e47e Refactor vendor detection and add Redfish implementation
8bf3f4747 IPMI: Handle vendor set boot device differences
97390e427 Allow unsupported redfish set_boot_mode
691211b10 Lazy-load node details from the DB
5e2eeb311 [Trivial] Fix testing of volume connector exception
0da73cdd3 Fix broken configdrive_use_object_store
8c0568f34 Enable swift temporary URLs in grenade and provide a good error message
c3c6cda65 DRAC: Fix a failure to create virtual disk
85a1e3d23 CI: switch the multinode job to tempest-multinode-full-base
b2ae2af3f Fixes the issue that instance bond port can't get IP address
a6f38ab05 Sync boot mode when changing the boot device via Redfish
cfc681817 Use assertCountEqual instead of assertItemsEqual
2248f2ac7 json-rpc: surround IPv6 address with [] in conductor URL
a7cfcd181 clean up mac address with the pxe configuration files
6ef6180bd Prevent timeouts when using fast-track with redfish-virtual-media
96a719e4e opt: Enhance old stable branches to use latest python-ibmcclient
d48b39430 CI: Making some of the older jobs more specific
7ce314804 CI: Additional minor job changes to improve CI reliability
c15d6fd70 Fix a race condition in the hash ring code
e5f886e8c Use correct error handler instead of calling process_event('fail')
20de88441 Fix deprecated 'idrac' interface '__init__'s
3943bd143 CI: Patch to fix CI jobs in bugfix/stable branches
b9a02e9ab CI: Remove the build check for pre-build ramdisks only
ac2d4c086 Allow configuring IPMI cipher suite
d9183a0a3 Also wipe agent token on manual power off or reboot
041f1b89e Handle default_boot_mode during cleaning/inspection with PXE/iPXE
b4c6d7be4 Do not assume that prepare_image is the last command to run
b67ac0c40 Handle an older agent with agent_token
2b740a0c7 Increase memory of tinyipa vms
145d68e8f Ansible deploy - Ignore invalid devices
bce1d33e5 Wipe agent token during reboot or power off

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I321c7dee35798ad141176f15b19b576d64e11b78
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I42a2ef84e5fe570e8001908614337e64d035ec99,openstack/kolla-ansible,stable/victoria,,I42a2ef84e5fe570e8001908614337e64d035ec99,docs: Add information on tuning Ansible,MERGED,2021-07-28 13:18:53.000000000,2021-07-29 09:59:17.000000000,2021-07-29 09:57:44.000000000,67,0,0,802710,875a29ff4bf18da5f3395906353d875841680130,8,3,1,2,14826,Mark Goddard,mgoddard,"docs: Add information on tuning Ansible

Stolen from Kayobe.

Change-Id: I42a2ef84e5fe570e8001908614337e64d035ec99
(cherry picked from commit b40cde9b9d44074a09911b2a0f7220ccb3e5c5f3)
"
openstack%2Fkolla-ansible~master~I74b315443f79d0d7780907fc785e1a29759c1803,openstack/kolla-ansible,master,ci-slim-down-masakari-job,I74b315443f79d0d7780907fc785e1a29759c1803,[CI] Slim down Masakari job,MERGED,2021-07-24 17:52:08.000000000,2021-07-29 09:59:15.000000000,2021-07-29 09:57:42.000000000,35,27,0,802155,7dfbcc71cb552ed32fa91a6a58bf456be58b259a,12,3,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Slim down Masakari job

The Masakari job uses 4 nodes and defaulted to a quite bulky
and not really supported config (MariaDB and RMQ on 4 nodes).
This change slims it down so that we test only HA of Masakari
and hacluster. The other services are deployed single-node.

Additionally, simplify the network group (it does not affect any
other job, the logic was simply overdone there).

Change-Id: I74b315443f79d0d7780907fc785e1a29759c1803
"
openstack%2Freleases~master~I0ca451e855eb7801350e79deb989ea8e421b65e3,openstack/releases,master,ussuri-stable,I0ca451e855eb7801350e79deb989ea8e421b65e3,Release ironic-python-agent for stable/ussuri,MERGED,2021-07-23 17:03:10.000000000,2021-07-29 09:53:53.000000000,2021-07-29 09:53:53.000000000,4,0,0,802065,502e424c04ae6cb90b695feec19f5da543bd9332,11,8,1,1,17685,Elod Illes,elod.illes,"Release ironic-python-agent for stable/ussuri

This release picks up new commits to ironic-python-agent since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 6.1.1..746f65b
746f65b Fix getting memory size in some lshw output
e03d80d Add function to calculate memory
76d061e Reduce logging verbosity when collecting logs
8287b96 Utilize CSV file for EFI loader selection
a4beb1b Make _get_efi_bootloaders return relative paths
bc849e2 Limit qemu-img execution arenas
d8c116a Increase the memory limit for qemu-img
6324b37 Fix NVMe Partition image on UEFI
7007ea0 Add fstab pointer to EFI partition
9783992 Prevent broken partition image UEFI deploys
8f77a01 Option to enable bootloader config failure bypass
ca70841 More refactoring of the image module
d59360f Mount all vfat partitions before calling grub2
d0f69e9 Refactor part of image module
d8eefc9 Re-enable the ussuri tinyipa jobs
7f3a7e1 Prepare to use ussuri jobs from ipa-builder
b9c9b0b Use UPPER_CONSTRAINTS_FILE to deal with ipa-builder
90b79c2 Pin version of ipa-builder when publishing image
c23c107 Software RAID: Get component devices by md UUID
80b1492 Remove lower-constraints job
38e6c36 Log a warning of target_boot_mode does not match current boot mode
43fdcb3 Software RAID: Don't delete partitions too early
3c54867 Fix: make Intel CNA hardware manager none generic
3769174 CI: Lower memory usage of VMs/Increase swap
665219e Make WSGI server respect listen_* directives
a6f96eb Increase memory for tinyipa jobs
0153622 Fix TypeError on agent lookup failure
c78d6be Fix bootloader install issue with MDRAID

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I0ca451e855eb7801350e79deb989ea8e421b65e3
"
openstack%2Freleases~master~I7b8e581630d9e67f8bea0706e603ef569c28d64c,openstack/releases,master,ussuri-stable,I7b8e581630d9e67f8bea0706e603ef569c28d64c,Release octavia for stable/ussuri,MERGED,2021-07-23 18:23:19.000000000,2021-07-29 09:53:05.000000000,2021-07-29 09:52:23.000000000,4,0,0,802095,915b8ee8c14f3ff0e8882fba4e5c6a4b2681ec6b,14,7,2,1,17685,Elod Illes,elod.illes,"Release octavia for stable/ussuri

This release picks up new commits to octavia since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 6.2.0..e84d9478
e84d9478 Enable lo interface in the amphora-haproxy netns
de602782 Add amphora_id in store params for failover_amphora
45b31c18 Fix comment for the ca_certificates_file opt
4cfbf666 Optimize CountPoolChildrenForQuota task in amphorav2
d5dc2b26 Fix task_flow.max_workers with persistence in amphorav2
bae6808f Fix rsyslog configuration when disabling logs
8829f0fb Fix devstack cleanup when using amphorav2
19619ce8 Validate user access to vip_subnet_id when creating a LB
c7b4b875 Fix using subnets with host_routes in amphorav2 driver
170be0dd Make /healthcheck cache results
5b6d25ca Explicitely set nodeset to Bionic-based
46b9ce7c Cap hacking
7367311c Fix empty Batch Member Update to unlock objects
a8266a9e Fix weighted round-robin about UDP listener
7ded0e47 Fix LB failover for amphorav2: set security group
4b8de86c Fix incorrect ERROR status with IPv6 UDP members
dcce548e Fix provider driver quota handling


Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I7b8e581630d9e67f8bea0706e603ef569c28d64c
"
openstack%2Freleases~master~Ib36c5d1ab52c5a4276121bfa611ccb64c956b549,openstack/releases,master,ussuri-stable,Ib36c5d1ab52c5a4276121bfa611ccb64c956b549,Release python-zaqarclient for stable/ussuri,MERGED,2021-07-23 20:37:29.000000000,2021-07-29 09:51:57.000000000,2021-07-29 09:51:57.000000000,4,0,2,802118,7b926efaa1429272dd1a5c1f7242e696e168842d,11,5,1,1,17685,Elod Illes,elod.illes,"Release python-zaqarclient for stable/ussuri

This release picks up new commits to python-zaqarclient since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 1.13.1..9750ac6
9750ac6 Drop python 2.7 support and testing

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ib36c5d1ab52c5a4276121bfa611ccb64c956b549
"
openstack%2Freleases~master~Ic6886f8eb4e407bc247e7de1ab93bab9ca1d137b,openstack/releases,master,ussuri-stable,Ic6886f8eb4e407bc247e7de1ab93bab9ca1d137b,Release tacker for stable/ussuri,MERGED,2021-07-23 20:55:02.000000000,2021-07-29 09:51:21.000000000,2021-07-29 09:51:21.000000000,4,0,0,802126,2c22cdd167cd869b79b5ae135425f0f824ed9170,9,4,1,1,17685,Elod Illes,elod.illes,"Release tacker for stable/ussuri

This release picks up new commits to tacker since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 3.0.0..5783b9ff
5783b9ff Fix : Register vim if use_barbican is disabled

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ic6886f8eb4e407bc247e7de1ab93bab9ca1d137b
"
openstack%2Freleases~master~I68e718e93c51c9e4111f4a8a2072e218fe04884a,openstack/releases,master,ussuri-stable,I68e718e93c51c9e4111f4a8a2072e218fe04884a,Release python-tackerclient for stable/ussuri,MERGED,2021-07-23 20:35:50.000000000,2021-07-29 09:51:19.000000000,2021-07-29 09:51:19.000000000,4,0,0,802117,e4ba619fdd76aedaa9e4fa6668319b3d74591961,9,4,1,1,17685,Elod Illes,elod.illes,"Release python-tackerclient for stable/ussuri

This release picks up new commits to python-tackerclient since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 1.1.0..7bda108
ee2e460 Improve readability of vnflcm show command
5484536 Display correct fields in output for list command
86fefdb Improve readability of vnf package show command
0d6e331 Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri
70d79b5 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I68e718e93c51c9e4111f4a8a2072e218fe04884a
"
openstack%2Freleases~master~Ib7464bacf664224caf45a57bbc370e6259ad79fa,openstack/releases,master,ussuri-stable,Ib7464bacf664224caf45a57bbc370e6259ad79fa,Release blazar for stable/ussuri,MERGED,2021-07-23 15:32:29.000000000,2021-07-29 09:51:17.000000000,2021-07-29 09:51:17.000000000,4,0,0,802044,7931c2ddaa1ad89ae3a41da6f3d82385ad9c7285,9,4,1,1,17685,Elod Illes,elod.illes,"Release blazar for stable/ussuri

This release picks up new commits to blazar since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 5.0.0..aea56f5
aea56f5 docs: Update Freenode to OFTC
0d71758 Fix use of legacy Alembic API
6922665 Remove lower-constraints job on stable branches
9c5a583 Avoid double slash in Keystone auth_url
cedf5fb Use the native Zuul v3 jobs from blazar-tempest-plugin
fd652cb Fix up adding availability zone (AZ) to a host on creation
1eea940 Update TOX_CONSTRAINTS_FILE for stable/ussuri
fd4b1e8 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ib7464bacf664224caf45a57bbc370e6259ad79fa
"
openstack%2Freleases~master~I04cd0880f10dcd5b2d3a388893bfa1c884daf0d5,openstack/releases,master,ussuri-stable,I04cd0880f10dcd5b2d3a388893bfa1c884daf0d5,Release monasca-ui for stable/ussuri,MERGED,2021-07-23 17:52:52.000000000,2021-07-29 09:51:14.000000000,2021-07-29 09:51:14.000000000,4,0,0,802088,db7cf7ec7d974fbd1f1877bc0e1ecbb656bee4ba,9,4,1,1,17685,Elod Illes,elod.illes,"Release monasca-ui for stable/ussuri

This release picks up new commits to monasca-ui since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 2.0.1..5e5d70b
5e5d70b Alarm definition breakes Alarms view

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I04cd0880f10dcd5b2d3a388893bfa1c884daf0d5
"
openstack%2Freleases~master~I1d2ee0fef063d957a34f350d7e71ea47b6d1fc97,openstack/releases,master,ussuri-stable,I1d2ee0fef063d957a34f350d7e71ea47b6d1fc97,Release monasca-notification for stable/ussuri,MERGED,2021-07-23 17:50:09.000000000,2021-07-29 09:51:12.000000000,2021-07-29 09:51:12.000000000,4,0,0,802085,2b06cd0f44011a8b18376449d239e1c39f69a63f,9,4,1,1,17685,Elod Illes,elod.illes,"Release monasca-notification for stable/ussuri

This release picks up new commits to monasca-notification since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 2.0.0..9dd0ea5
9dd0ea5 Fix Grafana URL in email notification
8f7a893 Fix zuul publish docker image job
05249ae Update lower-constraints
8fd51cd Fixed docker configuration template
3f9239e Add option to choose Kafka client in Docker
8151806 Remove deprecated YAML config
88df8d2 Set Docker publish jobs
caacf3b Update TOX_CONSTRAINTS_FILE for stable/ussuri
2fdf235 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I1d2ee0fef063d957a34f350d7e71ea47b6d1fc97
"
openstack%2Freleases~master~Ia58bdf2340ed523eee3fcaa0cd145bb88f0ece95,openstack/releases,master,ussuri-stable,Ia58bdf2340ed523eee3fcaa0cd145bb88f0ece95,Release monasca-agent for stable/ussuri,MERGED,2021-07-23 17:45:02.000000000,2021-07-29 09:51:10.000000000,2021-07-29 09:51:10.000000000,4,0,0,802083,6ea63bd70e4248e067110cf09c5bf925bf0c0bb0,9,4,1,1,17685,Elod Illes,elod.illes,"Release monasca-agent for stable/ussuri

This release picks up new commits to monasca-agent since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 3.0.2..82839d9
82839d9 Fix Monasca-Setup Keystone detection
961cf3b Fix PY3 issue
859a46c Fix Docker builds
c9c0862 Fix small issue in dokcer plugin.
217c51a Remove incorrect plugins configuration for docker image.
6440156 Set 'libvirt_type' and 'libvirt_uri' options in the 'libvirt' plugin to be defined in conf.d/libvirt.yaml
1b8d426 Fix zuul publish docker image job

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ia58bdf2340ed523eee3fcaa0cd145bb88f0ece95
"
openstack%2Freleases~master~Ibe5af762e63aea15b21e3899c5864d1542c81eca,openstack/releases,master,ussuri-stable,Ibe5af762e63aea15b21e3899c5864d1542c81eca,Release monasca-api for stable/ussuri,MERGED,2021-07-23 17:47:06.000000000,2021-07-29 09:49:53.000000000,2021-07-29 09:49:53.000000000,4,0,0,802084,2a46bbf466e10d4e5e0baba678bc5400a3a0818e,9,4,1,1,17685,Elod Illes,elod.illes,"Release monasca-api for stable/ussuri

This release picks up new commits to monasca-api since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 4.0.0..36f18ae0
36f18ae0 Workaround for new pip 20.3 behavior
b43809ca Fix log-metric configuration
46f5d4a4 Fix docker publish image job
9ce0e0da Fix publish docker image job
ba45906e Align lower-constraints for new pip
ad13e892 Add option to choose Kafka client in Docker
8b146d20 Update gevent version to 1.5.0
5b145c2c Fix typo in http_check
080d1fea Update TOX_CONSTRAINTS_FILE for stable/ussuri
f310557a Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ibe5af762e63aea15b21e3899c5864d1542c81eca
"
openstack%2Freleases~master~I548daa09f46e19f57bf2bb851e2e6fb90852622c,openstack/releases,master,ussuri-stable,I548daa09f46e19f57bf2bb851e2e6fb90852622c,Release monasca-persister for stable/ussuri,MERGED,2021-07-23 17:50:38.000000000,2021-07-29 09:49:51.000000000,2021-07-29 09:49:51.000000000,4,0,0,802086,e8be9ee79f3a4c16689780a5f830ccbdffaf037e,9,4,1,1,17685,Elod Illes,elod.illes,"Release monasca-persister for stable/ussuri

This release picks up new commits to monasca-persister since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 2.0.0..2d4bd37
2d4bd37 Fix zuul publish docker image job
72c4097 Fix Docker build
9d64543 Add doc/requirements
dfe3b4d Update hacking for Python3
a6c50e5 Set legacy_kafka_client_enabled = False on default for Docker

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I548daa09f46e19f57bf2bb851e2e6fb90852622c
"
openstack%2Freleases~master~I74063fd60ccd5503dcac6cacd114b4119c1f11f0,openstack/releases,master,ussuri-stable,I74063fd60ccd5503dcac6cacd114b4119c1f11f0,Release monasca-thresh for stable/ussuri,MERGED,2021-07-23 17:51:14.000000000,2021-07-29 09:49:49.000000000,2021-07-29 09:49:49.000000000,4,0,0,802087,b1a52080a72ecf3c7af5707ae5cc7aa48c3224d2,9,4,1,1,17685,Elod Illes,elod.illes,"Release monasca-thresh for stable/ussuri

This release picks up new commits to monasca-thresh since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges train-em..cce79a5
7e8db2f Change storm config to eliminate storm warnings
48d0508 Fix zuul publish docker image job
bea100b Fix zuul publish docker image job for stable branche
909ccdd Enable usage of storm.yaml
e602fa7 Fix zuul publish docker image job
78d2f89 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I74063fd60ccd5503dcac6cacd114b4119c1f11f0
"
openstack%2Freleases~master~If493da3a41208a7f47427178ac649b4623d344cd,openstack/releases,master,ussuri-stable,If493da3a41208a7f47427178ac649b4623d344cd,Release networking-sfc for stable/ussuri,MERGED,2021-07-23 18:00:20.000000000,2021-07-29 09:49:47.000000000,2021-07-29 09:49:47.000000000,4,0,0,802091,4c13806431636b5bd9432b21af774c8c8332cac7,10,6,1,1,17685,Elod Illes,elod.illes,"Release networking-sfc for stable/ussuri

This release picks up new commits to networking-sfc since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 10.0.0..ba57ca7
ba57ca7 Monkey patch original current_thread _active
90305b4 [stable] Drop lower-constraints job
3d4f698 Switch to stable/ussuri neutron-tempest-plugin jobs
0d4cb4f Update TOX_CONSTRAINTS_FILE for stable/ussuri
8f44ad9 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: If493da3a41208a7f47427178ac649b4623d344cd
"
openstack%2Freleases~master~I33563093d108f1160eaaeccc94bf90b4a8be93ba,openstack/releases,master,ussuri-stable,I33563093d108f1160eaaeccc94bf90b4a8be93ba,Release kolla for stable/ussuri,MERGED,2021-07-23 17:19:03.000000000,2021-07-29 09:49:45.000000000,2021-07-29 09:49:45.000000000,4,0,0,802070,78209f9a2c16163b1210d0dd367355093544bb4b,10,5,1,1,17685,Elod Illes,elod.illes,"Release kolla for stable/ussuri

This release picks up new commits to kolla since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 10.2.0..4d1221083
4d1221083 gnocchi: add python3-rados to gnocchi-base source image
2b7ff0d39 CI: Fix epel url override
ce988a2eb [CI] Do not set ansible_python_interpreter for Zuul
f7556324f horizon: Correct location of monitoring_policy file
253c215f1 Fix build of masakari-monitors image
5c676e4a9 Fix _get_images_dir when pip-installed with --user
7cfb5b4bb Enable Debian updates repo
b908906a5 docs: Update Freenode to OFTC
9389ac1b4 [CI] Support building source images with in-review changes
8ec3f577a CI: drop bashism from template overrides
4a4823804 [CI] Trust only infra mirrors
da0fd2095 Add `crudini` to ovs-dpdk containers
b8f23bf71 swift: fix group membership in debuntu/binary
f3704f99f Install RabbitMQ repo key on Ubuntu and Debian
bf2e0d62e CentOS on AArch64 has only Erlang 22
f4a5d52df Pin erlang
c366a5ca1 rabbitmq: Move to packagecloud
c80ac9717 [CI] Publish images to quay.io on a daily basis
00339ecc4 base: configure curl before first use
075d38162 rabbitmq: bump Erlang requirements to v23 in Debian
3de3fea92 Debian: use QEMU 5 from buster-backports
8a8c7bbff Fix Ussuri builds due to RDO Virtualization GPG key
dc5fe2f0e Make kolla_set_configs open files in binary mode
b5a049011 Drop lower-constraints
a9200da9a nova-compute: provide needed deps for debian/aarch64
2419efb5d get rid of traces of CentOS 7 support
27b2914b4 Remove sensu images
7a4044afb Fix Mistral source images to respect upper-constraints
636a2438f Bump up rally and rally-openstack
d555005ba Revert virtualenv workaround
6c2f355ad [CI] Stop checking TripleO
57d05bc7e base: install setuptools to fix build on aarch64
a6e528dfb nova-compute: 'pmdk-tools' is x86-64 only in Ubuntu 'bionic'
0b73f618d docs: drop Fedora info, mark Ubuntu one as Debian / Ubuntu
51002b4f7 CI: Use Docker proxy for pulls
cc31403d2 Update projects in README.rst
724860f78 Add a storm-base image
346796691 CI: revert to public package mirrors after build
a11b99c85 Remove footer block from intermediate images
eb5f9c1f6 Bump prometheus-openstack-exporter version to 1.3.0

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I33563093d108f1160eaaeccc94bf90b4a8be93ba
"
openstack%2Freleases~master~Id4d5edefd0d140d0b85af9df746e97e5d6a9d4f4,openstack/releases,master,ussuri-stable,Id4d5edefd0d140d0b85af9df746e97e5d6a9d4f4,Release kayobe for stable/ussuri,MERGED,2021-07-23 17:08:46.000000000,2021-07-29 09:49:35.000000000,2021-07-29 09:49:35.000000000,8,0,0,802068,9fe22e7b0044dd012468810d503a2d3299ce5979,9,4,1,1,17685,Elod Illes,elod.illes,"Release kayobe for stable/ussuri

This release picks up new commits to kayobe since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 8.1.0..99d96b5c
0b82fa34 Prevent matching unrelated images
649183ce Remove outdated upgrade step
3ebeaefb Update seed VM image to CentOS 8.4
a067a8ba CI: Revert to Docker Hub images for upgrade jobs
cf8869ee docs: Update Freenode to OFTC
f3415254 CI: Remove unused Docker images after overcloud upgrade
dc1f1348 Remove unnecessary requirements from tox.ini
9fdecebe Sync the names and content of the repo-files for CentOS8
0059a8cf CI: switch to quay.io for container images
4eafeab9 Switch to reboot module
d633f938 Use released version of mrlesmithjr.mdadm
d8f640f1 Fix help texts of inventory options
b67c2afe Fix overcloud provision with fast track enabled
d64d415f Avoid fact gathering for group_by
d5e8bc03 CI: increase Ansible Galaxy retries & add delay
5a045264 Document requirements for symlinks used by custom playbooks
fc198dd3 Update seed VM image to CentOS 8.3
a1881104 Wait for overcloud manage and provide state transitions
b5df443a CI: display VM console log on ping or SSH failure
cbad5e00 CI: Use cached cirros image for seed vm job
9d862eac Update IPA docs and test build with extra-hardware
fc53de47 Test building seed deployment images in the seed job
3cf2c992 Fix IPA build on stable/ussuri
d2c5f8e3 Quote kolla limit when calling kolla-ansible
8eadb255 CI: Fix overcloud and seed VM jobs on vexxhost clouds
2aa81e84 Add ipa_build_upper_constraints_file variable
9595873f Fix copying Swift ring files
12f2bb18 Fix /tmp/swift-rings/backups/ files deletion
304a869f Fix overcloud host image resolv workaround on CentOS 8.3
783d0f2e Fix --limit with commas
6ee7333e Fix Python setup when venv is not used

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Id4d5edefd0d140d0b85af9df746e97e5d6a9d4f4
"
openstack%2Fkolla-ansible~master~Iae8ca4aae945892f1dc65e1b10381d2e26e88805,openstack/kolla-ansible,master,patch_slow_ansible_run,Iae8ca4aae945892f1dc65e1b10381d2e26e88805,Make setup module arguments configurable,MERGED,2021-03-26 17:23:08.000000000,2021-07-29 09:49:24.000000000,2021-07-19 12:30:29.000000000,87,2,25,783392,15f2fdcd5dd9e63b477c549c2af990df8235ca90,70,5,14,5,28356,Rafael Weingartner,rafaelweingartner,"Make setup module arguments configurable

Ansible facts can have a large impact on the performance of the Ansible
control host. This patch introduces some control over which facts are
gathered (kolla_ansible_setup_gather_subset) and which facts are stored
(kolla_ansible_setup_filter). By default we do not change the default
values of these arguments to the setup module. The flexibility of these
arguments is limited, but they do provide enough for a large performance
improvement in a typical moderate to large OpenStack cloud.

In particular, the large complex dict fact for each interface has a
large effect, and on an OpenStack controller or hypervisor there may be
many virtual interfaces. We can use the kolla_ansible_setup_filter
variable to help:

    kolla_ansible_setup_filter: 'ansible_[!qt]*'

This causes Ansible to collect but not store facts matching that
pattern, which includes the virtual interface facts. Currently we are
not referencing other facts matching the pattern within Kolla Ansible.
Note that including the 'ansible_' prefix causes meta facts module_setup
and gather_subset to be filtered, but this seems to be the only way to
get a good match on the interface facts. To work around this, we use
ansible_facts rather than module_setup to detect whether facts exist in
the cache.

The exact improvement will vary, but has been reported to be as large as
18x on systems with many virtual interfaces.

For reference, here are some other tunings tried:

* Increased the number of forks (great speedup depending of the size of
  the deployment)
* Use `strategy = mitogen_linear` (cut processing time in half)
* Ansible caching (little speed up)
* SSH tunning (little speed up)

Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Closes-Bug: #1921538
Change-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805
"
openstack%2Freleases~master~Ia9634f65886acb46df8a07015ed63d02165c7719,openstack/releases,master,ussuri-stable,Ia9634f65886acb46df8a07015ed63d02165c7719,Release kuryr-libnetwork for stable/ussuri,MERGED,2021-07-23 17:22:20.000000000,2021-07-29 09:46:50.000000000,2021-07-29 09:46:50.000000000,4,0,0,802072,e5c1b0360e7fbb69223991af6e81c15bdaa568ac,9,4,1,1,17685,Elod Illes,elod.illes,"Release kuryr-libnetwork for stable/ussuri

This release picks up new commits to kuryr-libnetwork since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 5.0.0..b2b1a36
2f05e8b Install tox before running tests
9b164c5 Handle subnet without gateway
080cd17 Update TOX_CONSTRAINTS_FILE for stable/ussuri
86a2816 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ia9634f65886acb46df8a07015ed63d02165c7719
"
openstack%2Freleases~master~Ic516b58b1f73d350091cf0d7fa78f472abf300c8,openstack/releases,master,ussuri-stable,Ic516b58b1f73d350091cf0d7fa78f472abf300c8,Release kuryr for stable/ussuri,MERGED,2021-07-23 17:23:00.000000000,2021-07-29 09:46:48.000000000,2021-07-29 09:46:48.000000000,4,0,0,802073,37acf3f78c748c7cbe57ec59d748664c2ff37fb9,9,4,1,1,17685,Elod Illes,elod.illes,"Release kuryr for stable/ussuri

This release picks up new commits to kuryr since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 2.0.0..dbcca8a
2f021ec Remove run_as_root which fails without root_helper
6108958 Remove the unused coding style modules
90a458f Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri
8c24aef Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ic516b58b1f73d350091cf0d7fa78f472abf300c8
"
openstack%2Fkolla-ansible~master~Ib49bdb3c80bf2e89a31b03e90747783dc7f9a068,openstack/kolla-ansible,master,ci-less-rmq,Ib49bdb3c80bf2e89a31b03e90747783dc7f9a068,[CI] Slimmer RMQ,ABANDONED,2021-07-28 19:28:12.000000000,2021-07-29 09:46:41.000000000,,2,0,0,802798,1b306f3b5b4a597697895f4c61a075bef9f2530e,6,1,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Slimmer RMQ

Since our CI is a relatively-constrained environment, let's try
using single-threaded RMQ.

Change-Id: Ib49bdb3c80bf2e89a31b03e90747783dc7f9a068
"
openstack%2Freleases~master~I8544dabe7b8d20675a5edbd5baa594fe3cea9d1d,openstack/releases,master,ussuri-stable,I8544dabe7b8d20675a5edbd5baa594fe3cea9d1d,Release kuryr-kubernetes for stable/ussuri,MERGED,2021-07-23 17:20:51.000000000,2021-07-29 09:45:53.000000000,2021-07-29 09:45:53.000000000,4,0,0,802071,8806209df616f2bfce767d308e69af36faed1d4b,9,4,1,1,17685,Elod Illes,elod.illes,"Release kuryr-kubernetes for stable/ussuri

This release picks up new commits to kuryr-kubernetes since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 2.0.0..50d6fd1e
a198e824 Fix duplicated sg rules on NP crd
81e53508 Correctly compare SG rules in NP code
01651084 Fix base docker images
4000025b Fix CI issues
43bf7ae1 Use latest RDO in container images
adf0d7cc Change registry for fetching coredns image.
3ee234c6 Move to quay.io with kuryr/demo docker image.
1862d232 Ignore errors when removing containers in DevStack
631364aa Handle None or {} labels in match_selector()
8cf37113 DevStack: Disable leader election for K8s services
b185cd2c Expand swap back to 8 GBs on gate VMs
9aa52355 Remove dragonflow
3b16d617 Fix CNI image built
ecf4aa6b Fix hacking min version to 3.0.1

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I8544dabe7b8d20675a5edbd5baa594fe3cea9d1d
"
openstack%2Freleases~master~Ic8c8691c1b91d6c086f8e627060283a9ccb15c26,openstack/releases,master,ussuri-stable,Ic8c8691c1b91d6c086f8e627060283a9ccb15c26,Release magnum-ui for stable/ussuri,MERGED,2021-07-23 17:25:04.000000000,2021-07-29 09:45:51.000000000,2021-07-29 09:45:51.000000000,4,0,0,802074,e683172ef2bf7a12e6e7aa03299dcc531c6abd71,9,4,1,1,17685,Elod Illes,elod.illes,"Release magnum-ui for stable/ussuri

This release picks up new commits to magnum-ui since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 6.0.0..4a561a9
4a561a9 Fix cluster resize
1852c35 Fix npm jobs
f2c8f36 Imported Translations from Zanata
e1deec8 Imported Translations from Zanata
5bd5ced Imported Translations from Zanata
fd5e8fe Update TOX_CONSTRAINTS_FILE for stable/ussuri
bb0f5d8 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ic8c8691c1b91d6c086f8e627060283a9ccb15c26
"
openstack%2Freleases~master~Ib74dafce5a595f96a017e465e5d0140f1c171487,openstack/releases,master,,Ib74dafce5a595f96a017e465e5d0140f1c171487,Release kolla projects for Wallaby,MERGED,2021-07-28 12:59:30.000000000,2021-07-29 09:45:50.000000000,2021-07-29 09:45:50.000000000,14,0,0,802700,1cac007a8b32208ca8f77587acb5b6dff5727b54,8,3,1,3,14826,Mark Goddard,mgoddard,"Release kolla projects for Wallaby

* kolla 12.0.1
* kolla-ansible 12.1.0
* kayobe 10.0.1

Change-Id: Ib74dafce5a595f96a017e465e5d0140f1c171487
"
openstack%2Freleases~master~I0c0f5ed34b16bb25b375baf9ee00e3c845551c90,openstack/releases,master,,I0c0f5ed34b16bb25b375baf9ee00e3c845551c90,Release kolla projects for Victoria,MERGED,2021-07-28 12:58:51.000000000,2021-07-29 09:42:11.000000000,2021-07-29 09:42:11.000000000,16,0,0,802699,7ac20f2beea456fb2b56e85ada5119c99c7f9016,8,3,1,3,14826,Mark Goddard,mgoddard,"Release kolla projects for Victoria

* kolla 11.1.0
* kolla-ansible 11.1.0
* kayobe 9.1.0

Change-Id: I0c0f5ed34b16bb25b375baf9ee00e3c845551c90
"
openstack%2Fhorizon~stable%2Fwallaby~Iba4215b2e3a414d1794faa05be31bf69e0e48bec,openstack/horizon,stable/wallaby,,Iba4215b2e3a414d1794faa05be31bf69e0e48bec,Change with_data=False for swift_get_container,MERGED,2021-07-19 10:05:18.000000000,2021-07-29 09:39:57.000000000,2021-07-29 09:38:35.000000000,3,2,0,801277,8232ac0385782e8131b071fa1324001c1c429aaf,10,5,1,2,32755,Christian Rohmann,frittentheke,"Change with_data=False for swift_get_container

This function is only used in the Container get
method which retrieves details about a container.

It's not used for listing data in the container
even though with_data was True doing a GET instead
of a HEAD on the container.

This indirectly also fixes the Ceph bug [1] in the
Swift API implementation that doesn't expose metadata
correctly for a GET but does for a HEAD.

[1] https://tracker.ceph.com/issues/47861

Change-Id: Iba4215b2e3a414d1794faa05be31bf69e0e48bec
(cherry picked from commit c87f0e7a90d05f9355bd58165c25561dedae36d5)
"
openstack%2Fneutron-lib~master~I26f7e642214bd09a6d4608c9cfdf8c5ef2537489,openstack/neutron-lib,master,bug/1877301,I26f7e642214bd09a6d4608c9cfdf8c5ef2537489,Adds l3-ndp-proxy extension api definition,MERGED,2020-08-22 09:28:05.000000000,2021-07-29 09:33:13.000000000,2021-07-29 09:31:43.000000000,234,0,34,747523,2b46c1f74cbf076fca1a100a978a3a8a23d0338c,51,7,13,8,28329,yangjianfeng,yangjianfeng,"Adds l3-ndp-proxy extension api definition

Change-Id: I26f7e642214bd09a6d4608c9cfdf8c5ef2537489
Partial-Bug: #1877301
"
openstack%2Fansible-collections-openstack~master~I8bf9aa17e18f9b6d2c8e307f4368d1cea3362cb5,openstack/ansible-collections-openstack,master,,I8bf9aa17e18f9b6d2c8e307f4368d1cea3362cb5,Remove semver check from release job,MERGED,2021-07-29 07:21:13.000000000,2021-07-29 09:32:53.000000000,2021-07-29 09:32:53.000000000,0,14,0,802831,8a395a04cfdf91b1206f08ea409b26192bfab1ca,6,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Remove semver check from release job

Jinja in Zuul Ansible version doesn't support semver key for versions.
Change-Id: I8bf9aa17e18f9b6d2c8e307f4368d1cea3362cb5
"
openstack%2Fvalidations-libs~master~Iac5e68286782c5c2fbc185650c0bdf915fe959ef,openstack/validations-libs,master,tests-cleanup,Iac5e68286782c5c2fbc185650c0bdf915fe959ef,Unit test refactor,MERGED,2021-07-28 10:39:52.000000000,2021-07-29 09:28:36.000000000,2021-07-29 09:27:06.000000000,3,11,0,802682,07558871d640ceec54ccd1f0d56f890d20094f76,8,6,1,6,32926,Jiri Podivin,jpodivin,"Unit test refactor

- redundant imports in test modules were removed
- reset color code management in test simplified

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iac5e68286782c5c2fbc185650c0bdf915fe959ef
"
openstack%2Fkolla-ansible~master~I3bb74dcdc3cbe78cd1e1657f44e2a0af9d6508ef,openstack/kolla-ansible,master,robustify-fluentd-logs,I3bb74dcdc3cbe78cd1e1657f44e2a0af9d6508ef,Robustify fluentd output tag matching,MERGED,2021-06-03 17:22:19.000000000,2021-07-29 09:06:40.000000000,2021-07-19 11:16:46.000000000,2,2,0,794652,e7ff199dcf1185648b9659746a1c43fe1a431fc5,22,5,3,2,782,John Garbutt,johngarbutt,"Robustify fluentd output tag matching

We really want elasticsearch or monasca to catch all logs,
to providd the required centrailsed logging.

While these appears to make little material difference,
it should make it harder for logs to not get caught by
any of the outputs we have configured.

TrivialFix

Change-Id: I3bb74dcdc3cbe78cd1e1657f44e2a0af9d6508ef
"
openstack%2Freleases~master~I392217ea8d18b1347a71b3f782350280b234a3db,openstack/releases,master,,I392217ea8d18b1347a71b3f782350280b234a3db,Release horizon 20.0.0 (Xena),MERGED,2021-07-27 09:54:14.000000000,2021-07-29 08:59:57.000000000,2021-07-29 08:59:57.000000000,5,0,1,802446,dbc73a47c112f08e1893af075e7fd31ba7c2a919,17,10,2,1,29313,Vishal Manchanda,vishalmanchanda,"Release horizon 20.0.0 (Xena)

This is the first release for Xena. Cinder v2 support is dropped in
the horizon during Xena cycle by [1]. So the major version is bumped.
The main motivation of this release is horizon plugins can consume
cinder v2 removal support.

[1] https://review.opendev.org/c/openstack/horizon/+/802419

Change-Id: I392217ea8d18b1347a71b3f782350280b234a3db
"
openstack%2Fcharm-neutron-openvswitch~master~I39024855c3e42ee135b6ad5e7618a770219b6994,openstack/charm-neutron-openvswitch,master,fix-tox-pip-resolutionimpossible,I39024855c3e42ee135b6ad5e7618a770219b6994,Sync release-tools,MERGED,2021-07-22 12:58:33.000000000,2021-07-29 08:52:33.000000000,2021-07-29 08:52:33.000000000,4,10,0,801826,7e97910ed48354c54b7d560789f23978f7b16da7,10,4,1,3,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I39024855c3e42ee135b6ad5e7618a770219b6994
"
openstack%2Fcharm-neutron-api-plugin-ovn~master~I92c4ec300eae68bfaecb3e12df2fca076981f6bd,openstack/charm-neutron-api-plugin-ovn,master,fix-tox-pip-resolutionimpossible,I92c4ec300eae68bfaecb3e12df2fca076981f6bd,Sync release-tools,MERGED,2021-07-22 12:58:04.000000000,2021-07-29 08:50:58.000000000,2021-07-29 08:50:58.000000000,10,15,0,801823,58ca3bd83de9c78ab5831688c064e0cf4c5f09ee,10,4,1,4,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I92c4ec300eae68bfaecb3e12df2fca076981f6bd
"
openstack%2Fcharm-nova-cell-controller~master~I27a464ae745adb9d176c7e84c9c7b06bb3f8d889,openstack/charm-nova-cell-controller,master,fix-tox-pip-resolutionimpossible,I27a464ae745adb9d176c7e84c9c7b06bb3f8d889,Sync release-tools,MERGED,2021-07-22 12:58:42.000000000,2021-07-29 08:50:53.000000000,2021-07-29 08:50:53.000000000,10,15,0,801827,be4cbcbd385e461b4c5c929241783f546a7b6942,10,4,1,4,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I27a464ae745adb9d176c7e84c9c7b06bb3f8d889
"
openstack%2Fcharm-neutron-dynamic-routing~master~Iff416d760df7ab86b73f6e62e046bfc668c91f10,openstack/charm-neutron-dynamic-routing,master,fix-tox-pip-resolutionimpossible,Iff416d760df7ab86b73f6e62e046bfc668c91f10,Sync release-tools,MERGED,2021-07-22 12:58:13.000000000,2021-07-29 08:49:30.000000000,2021-07-29 08:49:30.000000000,10,15,0,801824,6b5d9fbaf7bd538bfbc13047b87a98dab8ddeac9,11,4,1,4,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: Iff416d760df7ab86b73f6e62e046bfc668c91f10
"
openstack%2Fhorizon~master~I54e909d2ba0c6d751247809373166c37f8baeb77,openstack/horizon,master,drop-nodejs10,I54e909d2ba0c6d751247809373166c37f8baeb77,Drop nodejs10 job,MERGED,2021-04-12 13:24:56.000000000,2021-07-29 08:48:08.000000000,2021-07-29 08:44:22.000000000,0,60,0,785875,8b59bc4370c8ecaa6df38da2892e19123913ad39,11,6,1,3,29313,Vishal Manchanda,vishalmanchanda,"Drop nodejs10 job

As we added nodejs14 support in
I423e8bbec21ab1d52a0a840d779723aa92678735 change.
We can now drop nodejs10 or related job as it is EOL.

Change-Id: I54e909d2ba0c6d751247809373166c37f8baeb77
"
openstack%2Ftrove-dashboard~stable%2Fwallaby~I81e00c25c7569fb6b114e2f66b71552f2d093c0b,openstack/trove-dashboard,stable/wallaby,wallaby-fix-config,I81e00c25c7569fb6b114e2f66b71552f2d093c0b,Fix the configuration issue,MERGED,2021-07-29 08:15:26.000000000,2021-07-29 08:46:14.000000000,2021-07-29 08:46:14.000000000,56,185,0,802835,3a6e79c3c0cabaf3293046647481a792895efb05,7,2,2,5,6732,Lingxian Kong,kong,"Fix the configuration issue

* Remove ApplyChanges and DiscardChanges actions
* Don't use cache when getting configuration
* Config parameter is added and removed one by one. There is no API
  to add or delete a specific parameter.

Story: 2009084
Task: 42901

Change-Id: I81e00c25c7569fb6b114e2f66b71552f2d093c0b
(cherry-picked from https://review.opendev.org/c/openstack/trove-dashboard/+/802830)
"
openstack%2Fglance~master~I0084350ebb09cc1cb3752b45165e49f166bfdf91,openstack/glance,master,bp/policy-refactor,I0084350ebb09cc1cb3752b45165e49f166bfdf91,Remove dead 403->404 code,MERGED,2021-07-06 18:00:34.000000000,2021-07-29 08:44:19.000000000,2021-07-29 08:42:18.000000000,8,12,5,799699,429f16124b7cd69c85e6d764bcf1e47687780286,34,3,8,2,4393,Dan Smith,danms,"Remove dead 403->404 code

The db.ImageRepo.save() operation covers up a Forbidden error with
NotFound in the case of trying to update an image that the user does
not own. This is actually never hit in reality as the authorization
layer would have caught it before, and returned Forbidden. The API is
the layer that should be deciding to hide images for which the user
cannot see, to avoid things like being able to show an image, but get
back a 404 on update. In order to do that, we need the lower layers to
report the situation faithfully and let the upper layers decide how
to expose that to the user.

Specifically, for the policy refactor, we have tests that assert the
Forbidden behavior, and after disabling the authorization layer, will
break (and rightfully so) because they get NotFound when they hit the
lower-layer check. Because it is hidden so deep, even the API can't
distinguish between the two.

I imagine this check was added long ago to provide the ""if you can't
see it, return NotFound instead of Forbidden, which would expose the
fact that it exists"" behavior which is desired. However, the
authorization layer means we never get here anymore.

This patch is provided without any test changes to prove that it does
not actually alter the real behavior. The test_permissions functional
test asserts the proper behavior before and after this change, as well
as after subsequent refactor patches.

Change-Id: I0084350ebb09cc1cb3752b45165e49f166bfdf91
"
openstack%2Ftempest~master~Ie660b2e4c7dac05822e13b47335620815a7ad1cf,openstack/tempest,master,bug/1936667,Ie660b2e4c7dac05822e13b47335620815a7ad1cf,Replace deprecated import of ABCs from collections,MERGED,2021-07-16 15:38:10.000000000,2021-07-29 08:44:12.000000000,2021-07-29 08:42:16.000000000,2,2,0,801082,6354f6182a98b16ecc2a258ac5ab38b7ae92503a,16,2,3,1,9816,Takashi Kajinami,kajinamit,"Replace deprecated import of ABCs from collections

ABCs in collections should be imported from collections.abc and direct
import from collections is deprecated since Python 3.3.

Closes-Bug: #1936667
Change-Id: Ie660b2e4c7dac05822e13b47335620815a7ad1cf
"
openstack%2Fwatcher~master~I00ab282a0f9ffcfddf745df1dd67418a43d70b10,openstack/watcher,master,bug/1646290,I00ab282a0f9ffcfddf745df1dd67418a43d70b10,Fix some incorrect description in doc.,MERGED,2016-12-01 01:36:11.000000000,2021-07-29 08:35:57.000000000,2016-12-16 17:06:42.000000000,3,3,2,405038,d252d47cc0a324ed6c7d08afd9f7a623d076948b,16,3,4,1,23950,Eric Xie,ericxie,"Fix some incorrect description in doc.

doc/source/deploy/configuration.rst
* 'The Watcher system is a collection of services
that provides support to optimize your IAAS plateform. '

Fix: Typo, plateform -> platform

* Additionally, the Bare Metal service has certain
external dependencies, which are very similar to
other OpenStack services:

Fix: Bare Metal -> Watcher

* Please check your hypervisor configuration to correctly
handle instance migration.

Fix: ref of ``instance migration`` is http://docs.openstack.org/
admin-guide/compute-live-migration-usage.html

Change-Id: I00ab282a0f9ffcfddf745df1dd67418a43d70b10
Closes-Bug: #1646290
"
openstack%2Fpython-watcherclient~master~I9e3df031822f2f2704a3c661c6a5953d7e0caae5,openstack/python-watcherclient,master,bug/1653322,I9e3df031822f2f2704a3c661c6a5953d7e0caae5,Add unit for continuous audit's interval.,MERGED,2016-12-31 09:48:53.000000000,2021-07-29 08:35:49.000000000,2017-01-10 16:27:09.000000000,1,1,2,415936,d08c0e3ef13dcb3ca918cf9e776056e7c148d1c5,12,5,2,1,23950,Eric Xie,ericxie,"Add unit for continuous audit's interval.

End user does not get the unit of 'interval' when use command
``watcher audit create -h``. This patch adds unit for the option
'interval'. Aslo use single quotes.

Change-Id: I9e3df031822f2f2704a3c661c6a5953d7e0caae5
Closes-Bug: #1653322
"
openstack%2Fpython-ironicclient~master~I1d5130cde8fd60234523701b97b9d29f27380e93,openstack/python-ironicclient,master,bug/1654186,I1d5130cde8fd60234523701b97b9d29f27380e93,Fix ImportError when providing a meaningless API version.,MERGED,2017-01-20 15:33:32.000000000,2021-07-29 08:35:41.000000000,2017-02-27 11:37:10.000000000,28,2,9,423333,97f82c5a46f63f99129bc3d504928e4c062095dd,13,5,2,2,23950,Eric Xie,ericxie,"Fix ImportError when providing a meaningless API version.

Ironicclient parses subcommand by API version. When providing a
meaningless (e.g 0.9) API version, the error message like 'No
module named v0.shell' is not humanized. This patch provides
the error more friendly.

Change-Id: I1d5130cde8fd60234523701b97b9d29f27380e93
Closes-Bug: #1654186
"
openstack%2Fkarbor~master~Id92f1b16d8dc59975c7f2e8d1fefe3f6f58558ec,openstack/karbor,master,bug/1716226,Id92f1b16d8dc59975c7f2e8d1fefe3f6f58558ec,Fix implicit reason for 'provider_id'.,MERGED,2017-09-11 07:20:27.000000000,2021-07-29 08:35:18.000000000,2017-09-14 17:39:50.000000000,1,1,2,502400,73058d031668c153329067b8a19c73332b6eeb20,12,4,2,1,23950,Eric Xie,ericxie,"Fix implicit reason for 'provider_id'.

The reasons are the same while checking 'provider_id' of
operation_definition. But they are two different cases.
So fix it in this patch.

Change-Id: Id92f1b16d8dc59975c7f2e8d1fefe3f6f58558ec
Closes-Bug: #1716226
"
openstack%2Fkolla~master~Ifff0aa1ec29e94b8067c7e1564b5dbf04fd5c2af,openstack/kolla,master,,Ifff0aa1ec29e94b8067c7e1564b5dbf04fd5c2af,test-requirements: remove cap on PrettyTable,ABANDONED,2021-07-28 16:24:56.000000000,2021-07-29 08:16:48.000000000,,1,1,2,802753,c072bd664cedf30e7afa16f5748e962851c38257,14,2,2,1,24072,Marcin Juszkiewicz,hrw,"test-requirements: remove cap on PrettyTable

openstack/requirements got rid of it in
09b8c864b4656b7a58210d75e54457452aaaecc5:

Remove cap on PrettyTable

PrettyTable was capped at a < 0.8, which meant we were getting the
veritably ancient 0.7.2 release first release in April 2013 (!) [1].
The project is now being maintained as a Jazzband project [2], meaning
we can remove the cap. The API is pretty much unchanged so this should
have little impact for projects that depend on this library.

[1] https://pypi.org/project/prettytable/#history
[2] https://github.com/jazzband/prettytable

Change-Id: Ifff0aa1ec29e94b8067c7e1564b5dbf04fd5c2af
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~Idd905e32dc70728abdb4cea1a14f43c7f11ff311,openstack/python-tripleoclient,stable/train,,Idd905e32dc70728abdb4cea1a14f43c7f11ff311,Add --db-only option in undercloud_backup.,MERGED,2021-07-19 12:38:29.000000000,2021-07-29 07:12:12.000000000,2021-07-29 07:10:43.000000000,112,22,1,801297,a7ad3aff5db8c79d9aa921b908a79902ee0594ac,23,6,5,3,26343,Jose Luis Franco,jfrancoa,"Add --db-only option in undercloud_backup.

This patch adds a new option --db-only which will perform a DB backup
of the Undercloud node. This option will have precedence to --init, --setup-nfs
or --setup-rear, but it won't complain. If the --db-only option is being
passed then only the play in charge of performing the Undercloud's DB backup
will be triggered.

This patch also corrects the call import from unittest.mock which does
not work with Python2.7 version.

Change-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311
Resolves: rhbz#1977392
Depends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7
(cherry picked from commit a792bbd8747455f468ef94d5162847c17d243735)
(cherry picked from commit 579b5c5e1e76cd763080dc43f56ea71cbad0b6b5)
(cherry picked from commit 66e61a3408effa2429255e1e84d6762fa4edb959)
(cherry picked from commit 134ca3910cf8812321f094eb5859474f405afe24)
"
openstack%2Ftripleo-validations~master~Iac8126429773d3b63d17ad851d24e8c6f498f557,openstack/tripleo-validations,master,automated_config_validation,Iac8126429773d3b63d17ad851d24e8c6f498f557,Moving setting validation from nova_event_callback,MERGED,2021-06-04 17:20:07.000000000,2021-07-29 07:12:07.000000000,2021-07-29 07:10:44.000000000,51,99,5,794866,23992a3576e1da633808939937639cc3bd465a31,56,11,17,5,27419,David Vallee Delisle,dvd,"Moving setting validation from nova_event_callback

The newly introduced role oslo_config_validator is probably a
better framework to validate settings as it's centralized and
will most probably be called by sosreport for troubleshooting
purpose. It only makes sense to move some setting validations
to this new role when possible.

This patch also adds the nova_event_callback role documentation in
sphinx.

Closes-Bug: #1934609

Change-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557
"
openstack%2Ftripleo-quickstart-extras~master~I4ec8525c78c61a106f458ea0c52a1da719ed7da5,openstack/tripleo-quickstart-extras,master,stupid-vars,I4ec8525c78c61a106f458ea0c52a1da719ed7da5,Add bool to image upload vars,MERGED,2021-07-28 18:11:07.000000000,2021-07-29 07:10:46.000000000,2021-07-29 07:10:46.000000000,3,3,0,802767,90205eed8d6658bf88d4282c57840607b5787f4c,12,6,3,1,14985,Alex Schultz,mwhahaha,"Add bool to image upload vars

The setting of undercloud_enable_nova leverages > which turns the value
from a boolean to a string. This does not get correctly evaluated when
we go to set the image upload variables so we are not correctly adding
--local when necessary.

Change-Id: I4ec8525c78c61a106f458ea0c52a1da719ed7da5
"
openstack%2Fpython-tripleoclient~master~Ie378a87aafda522020fc447ef6d438d40cb92dbf,openstack/python-tripleoclient,master,,Ie378a87aafda522020fc447ef6d438d40cb92dbf,DNM,ABANDONED,2021-07-01 07:40:49.000000000,2021-07-29 06:46:51.000000000,,2,2,0,798998,6982d70a655f038815102ffa63c6119fdb171921,3,1,1,1,32926,Jiri Podivin,jpodivin,"DNM

Using wallaby template and py39 env.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie378a87aafda522020fc447ef6d438d40cb92dbf
"
openstack%2Fskyline-apiserver~master~I01c35318dd5d219dbb31e6a89bdc05d2a4db7804,openstack/skyline-apiserver,master,,I01c35318dd5d219dbb31e6a89bdc05d2a4db7804,fix: 400 page appears when using http protocol to access,MERGED,2021-07-26 03:58:07.000000000,2021-07-29 05:29:19.000000000,2021-07-29 05:29:19.000000000,2,0,0,802228,3176cfbc47f09a338db2a930db86b12cdd10586e,13,5,3,1,27809,hanxiang gao,gao.hanxiang,"fix: 400 page appears when using http protocol to access

When using http protocol to access, nginx will respond with 400 and
report ""400 The plain HTTP request was sent to HTTPS port"".
The reason is that http 497 error[1] appeared in nginx, so 497
error was redirected to https protocol.

[1] https://github.com/nginx/nginx/blob/56f53316837271a8cbb1d99f638e28d268a00d45/src/http/ngx_http_special_response.c#L274

Change-Id: I01c35318dd5d219dbb31e6a89bdc05d2a4db7804
"
openstack%2Fskyline-apiserver~master~I2eec95b18241b0bf2103ad3dfa1efd2774f2bd77,openstack/skyline-apiserver,master,add_timeout,I2eec95b18241b0bf2103ad3dfa1efd2774f2bd77,fix: Add timeout to keystone session,MERGED,2021-07-26 03:58:07.000000000,2021-07-29 05:27:56.000000000,2021-07-29 05:27:56.000000000,9,5,3,802227,acf17c752bf9154c78b96ac6634610307e52f027,14,4,3,4,27809,hanxiang gao,gao.hanxiang,"fix: Add timeout to keystone session

When a network failure occurs, the openstack client will be blocked for
a long time. Set a timeout on the session to feedback network problem
as soon as possible.

Change-Id: I2eec95b18241b0bf2103ad3dfa1efd2774f2bd77
"
openstack%2Fskyline-apiserver~master~I4f6b0d5ba894214bb0fcff21443f9808f56d595e,openstack/skyline-apiserver,master,,I4f6b0d5ba894214bb0fcff21443f9808f56d595e,chore: Add make clean to clean up project directory,MERGED,2021-07-26 03:58:07.000000000,2021-07-29 05:22:16.000000000,2021-07-29 05:13:36.000000000,54,15,4,802226,8d8c8bd89f8e8446c0246176a176c5d344417b36,15,3,3,9,27809,hanxiang gao,gao.hanxiang,"chore: Add make clean to clean up project directory

1. Add make clean
2. Specify configuration file used by mypy
3. Add some directories to dockerignore

Change-Id: I4f6b0d5ba894214bb0fcff21443f9808f56d595e
"
openstack%2Ftripleo-heat-templates~master~I97ab65eb5b5fa478d323be6f9f981a1e2a875f86,openstack/tripleo-heat-templates,master,,I97ab65eb5b5fa478d323be6f9f981a1e2a875f86,Fix condition for pacemaker resource_op_defaults,MERGED,2021-07-28 12:49:39.000000000,2021-07-29 05:15:45.000000000,2021-07-29 02:16:11.000000000,8,20,7,802696,74ae036024b83f198c24a863dce51c948f2364eb,16,9,2,1,13861,yatin,yatinkarel,"Fix condition for pacemaker resource_op_defaults

After [1] pacemaker resource_op_defaults timeout
was not set correctly, update default value for
PacemakerBundleOperationTimeout to '120s' and
remove unnecessary conditions for timeout set
and podman enabled as currently only podman
is supported as container_cli.

Also update regex to not allow empty value for
PacemakerBundleOperationTimeout.

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/791416

Closes-Bug: #1938283
Change-Id: I97ab65eb5b5fa478d323be6f9f981a1e2a875f86
"
openstack%2Fskyline-apiserver~master~I4ff1c179791b782311be4d8c391565bfcaf16bf9,openstack/skyline-apiserver,master,docs,I4ff1c179791b782311be4d8c391565bfcaf16bf9,docs: Add quick start docs,MERGED,2021-07-26 15:03:58.000000000,2021-07-29 05:15:20.000000000,2021-07-29 05:15:20.000000000,283,73,4,802322,8e54a0cc8265921e7dbdbb432440dae2f4843bfe,11,3,2,2,27809,hanxiang gao,gao.hanxiang,"docs: Add quick start docs

1. Add a quick start, the document explains how to use the container to
quickly deploy the skyline service.

2. Modify the format of the original `Development skyline-apiserver`
section.

Change-Id: I4ff1c179791b782311be4d8c391565bfcaf16bf9
"
openstack%2Fskyline-apiserver~master~I5eaad038b3ed3c3189f2b41e41c14d28a346ee88,openstack/skyline-apiserver,master,add_bootstrap,I5eaad038b3ed3c3189f2b41e41c14d28a346ee88,feat: Add bootstrap support for skyline image,MERGED,2021-07-26 15:02:47.000000000,2021-07-29 05:14:16.000000000,2021-07-29 05:14:16.000000000,6,0,0,802320,a0701711be685758f13422c8b0153f3fadbc10ec,7,3,1,1,27809,hanxiang gao,gao.hanxiang,"feat: Add bootstrap support for skyline image

When docker run, specify the KOLLA_BOOSTRAP environment variable, the
skyline image will initialize the database, and if it is not specified,
the skyline service will be run in the normal way.
This provides the basis for subsequent docking with kolla-ansible.

Change-Id: I5eaad038b3ed3c3189f2b41e41c14d28a346ee88
"
openstack%2Fdevstack~master~I42387660480377cdf9a0b04f190e7e1f21fb354f,openstack/devstack,master,,I42387660480377cdf9a0b04f190e7e1f21fb354f,Fix opening shell as user 'stack',MERGED,2021-07-28 14:57:52.000000000,2021-07-29 04:58:59.000000000,2021-07-29 04:57:47.000000000,1,1,0,802738,524487728e85388c73ececae3f2eb272321cffc7,11,4,2,1,33774,Marek Tamaskovic,mtamasko,"Fix opening shell as user 'stack'

The usage of sudo with su is not recommended. It results in incosnistent
environment variables. Instead use just sudo with appropriate arguments.
The argument '-u stack' specifies that the sudo will execute as user 'stack'.
The last argument '-i' will launch an interactive shell.

Closes-Bug: #1938148

Change-Id: I42387660480377cdf9a0b04f190e7e1f21fb354f
"
openstack%2Frequirements~stable%2Fussuri~I9ad5ceb7db5346ea37120313ef97afc89fcf5f65,openstack/requirements,stable/ussuri,new-release,I9ad5ceb7db5346ea37120313ef97afc89fcf5f65,update constraint for os-net-config to new release 12.3.5,MERGED,2021-07-28 16:02:57.000000000,2021-07-29 03:56:27.000000000,2021-07-29 03:56:27.000000000,1,1,0,802748,0b08d4322c2f63babae219b9d10bf21386974cff,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-net-config to new release 12.3.5

meta: version: 12.3.5
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: Ied1c09bf9f6d22d9de7728ad4dfdff89e73f9ae0
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I9ad5ceb7db5346ea37120313ef97afc89fcf5f65
"
openstack%2Frequirements~stable%2Fussuri~I21566c8cd587deaef929c684c2b16d7ec8511cd0,openstack/requirements,stable/ussuri,new-release,I21566c8cd587deaef929c684c2b16d7ec8511cd0,update constraint for tripleo-common to new release 12.4.6,MERGED,2021-07-28 15:57:25.000000000,2021-07-29 03:56:25.000000000,2021-07-29 03:56:25.000000000,1,1,0,802746,033c5da7768203a55a61451ebf2c9a1f6f8e555c,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for tripleo-common to new release 12.4.6

meta: version: 12.4.6
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: Ied1c09bf9f6d22d9de7728ad4dfdff89e73f9ae0
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I21566c8cd587deaef929c684c2b16d7ec8511cd0
"
openstack%2Fopenstack-helm~master~Ide3af5c47c6b45c013b4dee08076d11bcfe87c53,openstack/openstack-helm,master,keystone-member,Ide3af5c47c6b45c013b4dee08076d11bcfe87c53,Remove member bootstrap logic,MERGED,2021-07-16 01:57:47.000000000,2021-07-29 03:51:19.000000000,2021-07-29 03:48:35.000000000,2,9,0,801015,87b39c553db0340f55892255d84ee752d6b4cf19,13,5,2,3,21420,Gage Hugo,ghugo,"Remove member bootstrap logic

As of Rocky, keystone creates the member role by default. Since
our removal of pre-Train support, the logic we have in the
bootstrap script is no longer needed.

This change removes the member user and role logic.

Change-Id: Ide3af5c47c6b45c013b4dee08076d11bcfe87c53
"
openstack%2Fopenstack-helm~master~Idfcc0479d152286ecd144502d80732094c9e43ea,openstack/openstack-helm,master,cinder_annotations,Idfcc0479d152286ecd144502d80732094c9e43ea,Added post-install and post-upgrade hook for jobs.,MERGED,2021-03-23 11:16:18.000000000,2021-07-29 03:50:17.000000000,2021-07-29 03:48:34.000000000,68,1,0,782409,3c9cf1539be9c6b287cdd06b12d45e281dac899f,13,4,4,11,33130,Susanta gautam,sgautam,"Added post-install and post-upgrade hook for jobs.

Chart upgrading was failing due to some immutable fields are needed to upgrade before the jobs can be upgraded. For solving this issue, we
have added the helm.sh/hook annotations with post-install and post-upgrade values.
As for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,
db-init jobs need to run before db-sync and so on.
helm3_hook values is added so that hook can be disabled from the values files.

Change-Id: Idfcc0479d152286ecd144502d80732094c9e43ea
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~If80f48c39ea9fcb09a75711932ddb3958a4e8b16,openstack/tripleo-ansible,stable/wallaby,change-799649-2-stable/wallaby,If80f48c39ea9fcb09a75711932ddb3958a4e8b16,Fix tripleo_backup_and_restore_rear_simulate boolean check,MERGED,2021-07-26 15:31:53.000000000,2021-07-29 03:47:31.000000000,2021-07-29 03:47:31.000000000,1,1,0,802340,312eb0ed747c6f0821b58382c41756eaadf9c780,13,6,1,1,32968,Juan Larriba,jlarriba,"Fix tripleo_backup_and_restore_rear_simulate boolean check

If |bool is not added to the check,
""--extra-vars tripleo_backup_and_restore_rear_simulate=false"" is
considered to be True.

Closes-Bug: #1934777

Change-Id: If80f48c39ea9fcb09a75711932ddb3958a4e8b16
(cherry picked from commit 07658bc8e030d041baf836f95a15a43a0e315176)
"
openstack%2Ftripleo-heat-templates~master~I53487f629e79999596087302141401ef12966bcc,openstack/tripleo-heat-templates,master,,I53487f629e79999596087302141401ef12966bcc,Remove usage of deprecated GnocchiArchivePolicy,MERGED,2021-07-06 02:04:36.000000000,2021-07-29 03:47:29.000000000,2021-07-29 03:47:29.000000000,1,6,0,799550,119812b9122ae18f800242de7dec6cdd7eeaad1f,11,4,2,5,9816,Takashi Kajinami,kajinamit,"Remove usage of deprecated GnocchiArchivePolicy

The GnocchiArchivePolicy parameter was deprecated by [1], and has had
no effect since then.

[1] a57f34f321ec31c66efe32ba96d89dd93e3a3f70

Change-Id: I53487f629e79999596087302141401ef12966bcc
"
openstack%2Fdevstack~stable%2Fwallaby~If952b54bdecf82be811b57f4a17a0c59db54a62a,openstack/devstack,stable/wallaby,drop-fedora-on-stable,If952b54bdecf82be811b57f4a17a0c59db54a62a,[CI] [stable-only] Drop testing on Fedora,MERGED,2021-07-27 16:23:42.000000000,2021-07-29 03:10:27.000000000,2021-07-29 03:07:38.000000000,0,29,0,802553,c1928d8fb89c451e98e7da1cc7f884c44d282dfd,14,5,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] [stable-only] Drop testing on Fedora

The QA/DevStack team does not support testing on Fedora on stable
branches. The fedora-latest nodeset is meant to be used on
master branch only.
This change removes it on this stable branch to allow the nodeset
to progress with Fedora version on master.
In addition, the two Fedora jobs are removed to allow for nodeset
removal.

Change-Id: If952b54bdecf82be811b57f4a17a0c59db54a62a
"
openstack%2Fmurano~master~I169bc071966ad358e25d76718b37f66d900832d8,openstack/murano,master,,I169bc071966ad358e25d76718b37f66d900832d8,docs: Update Freenode to OFTC,ABANDONED,2021-06-08 14:10:12.000000000,2021-07-29 02:57:32.000000000,,1,1,0,795344,7cdfea2fe6ef60e04d45d29c959e40ed180d85fc,4,2,1,1,26285,wu.chunyang,wu.chunyang,"docs: Update Freenode to OFTC

see: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html
Change-Id: I169bc071966ad358e25d76718b37f66d900832d8
"
openstack%2Fvalidations-common~master~I4d3df0f2d5b8247c1fdebacb690bac7c8fc6cf74,openstack/validations-common,master,reqcheck/voting,I4d3df0f2d5b8247c1fdebacb690bac7c8fc6cf74,reqcheck job is now voting,MERGED,2021-07-07 10:49:46.000000000,2021-07-29 02:16:13.000000000,2021-07-29 02:16:13.000000000,1,1,0,799789,f12c025dd1cc52a66496fd9cabb2107d0e614260,7,3,1,1,32926,Jiri Podivin,jpodivin,"reqcheck job is now voting

After several weeks being a nonvoting job, the reqcheck is moving to voting status.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I4d3df0f2d5b8247c1fdebacb690bac7c8fc6cf74
"
openstack%2Fkolla-ansible~master~Ic5297c27d0e37001095800eb10819f84e38cd4c0,openstack/kolla-ansible,master,,Ic5297c27d0e37001095800eb10819f84e38cd4c0,Add default support for octavia physical network,ABANDONED,2020-12-02 05:54:35.000000000,2021-07-29 02:04:10.000000000,,2,2,0,765057,55e4b772c373ff7f60a8a8e689a5648ff1aede17,6,2,1,1,31506,Lin PeiWen,LinPeiWen,"Add default support for octavia physical network

octavia deploy failed to create vlan/flat network,
and the neutron configuration file lacks the default
configuration for OVS mapping

Change-Id: Ic5297c27d0e37001095800eb10819f84e38cd4c0
"
openstack%2Fkolla-ansible~master~Ie183adbee3a05802c72d4b4a9a2bb4573b54205f,openstack/kolla-ansible,master,,Ie183adbee3a05802c72d4b4a9a2bb4573b54205f,Fix swift endpoint,ABANDONED,2020-12-15 07:31:41.000000000,2021-07-29 02:00:13.000000000,,3,3,0,767085,20c9f60ec7b22f1d0efc2d2c4141a7e50cb5701f,6,2,1,1,31506,Lin PeiWen,LinPeiWen,"Fix swift endpoint

The original swift endpoint is no longer supported

Change-Id: Ie183adbee3a05802c72d4b4a9a2bb4573b54205f
"
openstack%2Fpython-swiftclient~master~I244d98bb3fc7cb75624b598f4d26f784159f5428,openstack/python-swiftclient,master,update-min-tox,I244d98bb3fc7cb75624b598f4d26f784159f5428,Changed minversion in tox to 3.18.0,MERGED,2021-07-06 08:15:58.000000000,2021-07-29 01:57:04.000000000,2021-07-29 01:55:40.000000000,5,5,1,799602,b846071d2fbc22e0fc2f471d8f2e0bc8c912ff1f,10,3,1,1,32291,wushiming,wushiming,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I244d98bb3fc7cb75624b598f4d26f784159f5428
"
openstack%2Fcinder~master~I2093d77db9beec7543c7524d2cd273e79dd5fd5d,openstack/cinder,master,drop-v2,I2093d77db9beec7543c7524d2cd273e79dd5fd5d,Remove Block Storage API v2,MERGED,2021-05-19 22:29:37.000000000,2021-07-29 01:00:27.000000000,2021-07-22 05:18:14.000000000,720,1155,76,792299,e05b261af7dcd24096b229860df65dff1d385910,199,7,6,65,5314,Brian Rosmaita,brian-rosmaita,"Remove Block Storage API v2

In this patch:
- adjusted VersionsController to return only v3
- removed cinder.api.v2.router
- adjustments to cinder.tests.unit.api.contrib to use /v3 only
- moved cinder.api.v2.snapshot_metadata (and tests) to cinder.api.v3
- moved cinder.api.v2.types (and view, tests) to cinder.api.v3
- updated versions response in api-ref
- removed unnecessary config option
- updated various sample config files
- removed experimental tempest-cinder-v2-api job
- updated some docs
- updated non-voting rally job config

Some cinder.api.v2 modules are left because the v3 classes depend on
them, but with the v2 router removed, these are unreachable via the
/v2 path.

Depends-on: https://review.opendev.org/c/openstack/rally-openstack/+/794891
(changes rally to use Block Storage API v3)
Depends-on: https://review.opendev.org/c/openstack/requirements/+/794894
(corrects regression in upper-constraint on Sphinx)

Change-Id: I2093d77db9beec7543c7524d2cd273e79dd5fd5d
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,openstack/tripleo-ansible,stable/train,change-802339-1,I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,Use serial or parallel execution depending on the kind of backup,MERGED,2021-07-26 15:20:01.000000000,2021-07-28 23:43:08.000000000,2021-07-28 23:43:08.000000000,6,3,0,802339,3e852e15425ef9647ee10f3a7b97e66f3c2cc3a1,16,6,2,1,32968,Juan Larriba,jlarriba,"Use serial or parallel execution depending on the kind of backup

Currently, we support two kinds of backups: the ""old way"" that stops all
the controllers at the same time and then does the backup and the
""snapshots"" that only stops one controller at a time.

In the first case, we want to take the backup of all the controllers
in parallel to save time, while in the second case we want to take the
backup of each controller serialized so we do not stop all of them at
the same time.

This change enables this for the openstack overcloud backup CLI action.

Closes-Bug: #1930861
Change-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f
(cherry picked from commit ed0437e2c073ae0052d1dba762940d07f16b5aa0)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I52e43f264a03775b6d609444f8da1a36d9565281,openstack/tripleo-heat-templates,stable/train,,I52e43f264a03775b6d609444f8da1a36d9565281,Role parameter for tripleo_kernel_defer_reboot,MERGED,2021-07-24 14:17:00.000000000,2021-07-28 23:39:49.000000000,2021-07-28 23:38:34.000000000,23,0,0,801897,7df92a4b361f34cf7570e2845f7ad5e397ddb38a,20,7,2,2,27419,David Vallee Delisle,dvd,"Role parameter for tripleo_kernel_defer_reboot

To help operators protect their workload, they can now enable the
KernelArgsDeferReboot role parameter. This will prevent the tripleo-kernel
ansible module from automatically rebooting nodes even if KernelArgs
were changed unexpectedly.

Change-Id: I52e43f264a03775b6d609444f8da1a36d9565281
(cherry picked from commit d2298873f931383fb57909347e70f3702731589e)
(cherry picked from commit e9c84bda866d204ad79e447a3061373787f7f8c6)
(cherry picked from commit 914d89fc10b8ea2e9ae60452987f3bded313e7d3)
(cherry picked from commit 4d1634d066b2ddefa86472d5d316d63ac12b80a1)
"
openstack%2Fansible-collections-openstack~master~Ia288452668179723e35452d6e9579fb1dd0c4c3a,openstack/ansible-collections-openstack,master,,Ia288452668179723e35452d6e9579fb1dd0c4c3a,Change the pipeline of releasing to tag pipeline,MERGED,2021-07-28 15:17:40.000000000,2021-07-28 23:14:40.000000000,2021-07-28 23:14:40.000000000,15,1,0,802741,c05b1fdbaf361eec92688e7d58b513cac53446cf,8,3,2,2,10969,Shnaidman Sagi (Sergey),sergsh,"Change the pipeline of releasing to tag pipeline

Because zuul pre-release pipeline is pep400 compliant, but no
semver compliant, we can't push pre-release tags. Galaxy expects
from tags to be pure semver (not pep440).
Change the pipeline to be 'tag' and be triggered by any tag.

Change-Id: Ia288452668179723e35452d6e9579fb1dd0c4c3a
"
openstack%2Fmanila~master~Ib417499d4394b939eb289460ac8dbb6b22d789f4,openstack/manila,master,bug/1870280,Ib417499d4394b939eb289460ac8dbb6b22d789f4,Add missing share-type user message,MERGED,2021-07-12 20:46:47.000000000,2021-07-28 23:11:31.000000000,2021-07-28 22:25:37.000000000,46,0,22,800561,657fa5b113ce1c0cd35a21d7eac4d446af9ce2d3,50,4,5,4,32594,Ashley Rodriguez,ashrod98,"Add missing share-type user message

Attempting to create a share without identifying a share type results in an
error.This adds a user message informing the user that no default share type
was identified while attempting to create a share.

Closes-Bug: #1870280

Change-Id: Ib417499d4394b939eb289460ac8dbb6b22d789f4
"
openstack%2Fproject-config~master~I51eb4f7e33f571d701468c72dd3c6a4c97f9fca4,openstack/project-config,master,inmotion-max-zero,I51eb4f7e33f571d701468c72dd3c6a4c97f9fca4,"Revert ""nodepool: set inmotion cloud to zero""",MERGED,2021-07-15 23:08:14.000000000,2021-07-28 22:57:35.000000000,2021-07-28 22:06:05.000000000,1,1,0,801010,fe9decbabb03cc0e6f689ea7a94d6023e943b605,10,3,1,1,7118,Ian Wienand,iwienand,"Revert ""nodepool: set inmotion cloud to zero""

This reverts commit 6ab94b627518f8116297e2ac95338f6ac3b7305c.

Change-Id: I51eb4f7e33f571d701468c72dd3c6a4c97f9fca4
"
openstack%2Fironic-specs~master~I5e4d262a8570cf7c61ac0f3410a4cb35e8245690,openstack/ironic-specs,master,,I5e4d262a8570cf7c61ac0f3410a4cb35e8245690,Clean up released features/items,MERGED,2021-07-21 18:54:00.000000000,2021-07-28 22:33:36.000000000,2021-07-28 22:32:16.000000000,72,0,0,801650,e2893c1f55b7fbd5a84dc4aedcc8c81fc5c55c9b,15,4,2,10,11655,Julia Kreger,jkreger,"Clean up released features/items

Change-Id: I5e4d262a8570cf7c61ac0f3410a4cb35e8245690
"
openstack%2Fmanila~master~I408dcf5fdbf2f12eb1dc0ce80232d4e710cef765,openstack/manila,master,docchange,I408dcf5fdbf2f12eb1dc0ce80232d4e710cef765,Update api-ref documentation,MERGED,2021-07-21 19:25:32.000000000,2021-07-28 22:28:17.000000000,2021-07-28 22:25:39.000000000,73,46,24,801653,bf2c40e3ff5ff88051a48f0febfb28dcc810bb7c,28,2,5,3,32594,Ashley Rodriguez,ashrod98,"Update api-ref documentation

Adds message id, expires_at, created_at parameters to user messages in
response body.

Updates share_types response body to account for extra_specs object including
snapshot_support, create_from_snapshot_support, mount_snapshot_support,
revert_to_snapshot_support, replication_type, and
driver_handles_share_servers.

Change-Id: I408dcf5fdbf2f12eb1dc0ce80232d4e710cef765
"
openstack%2Ftempest~master~I00ac642fa602980d14612adc1ce65068d67db8ad,openstack/tempest,master,bug/1938227,I00ac642fa602980d14612adc1ce65068d67db8ad,Fix run-tempest-26 role for stable/stein,MERGED,2021-07-27 21:32:45.000000000,2021-07-28 22:02:37.000000000,2021-07-28 22:01:19.000000000,1,1,0,802625,617c84c7e5f040c1cdbff7bc63be7e74281c2b3c,15,3,1,1,8556,Ghanshyam,ghanshyam,"Fix run-tempest-26 role for stable/stein

stable/stein uses old Tempest 26.0.0 to run the test
and that is why we use stable/stein upper-constraints
in the testing. But when any jobs with tempest plugins
try to run plugins tests, they fail.

This is because a new role run-tempest-26 (used for testing
with tempest 26.0.0) does not include the stable/stein in the
list of branches for whom we use stable constraints instead of
master constraints. and due to that run-tempest-26 finds constraints
mismatch and recreates the tempest virtual env. On recreation, venv
remove the previously installed tempest pluings and so does not run
their test.

Closes-Bug: #1938227
Change-Id: I00ac642fa602980d14612adc1ce65068d67db8ad
"
openstack%2Fneutron~stable%2Fstein~I8ced69f4f8e7d7c73da130a57e89e9d66590390b,openstack/neutron,stable/stein,bug/1916024,I8ced69f4f8e7d7c73da130a57e89e9d66590390b,[L3][HA] Retry when setting HA router GW status.,ABANDONED,2021-07-22 13:39:45.000000000,2021-07-28 21:50:23.000000000,,14,5,0,801857,2cc3d31175014416b0cb11d5c5f5d9795c929275,4,2,1,2,6737,Edward Hope-Morley,hopem,"[L3][HA] Retry when setting HA router GW status.

When a HA router instance changes the state (active, backup), the
GW interface is set to up or down. As reported in the bug, while
keepalived is configuring the interface, the interface disappears
and appears again from the kernel namespace, as seen in the udev
messages.

This patch is a workaround until the real issue is addressed (if
possible), retrying the interface configuration for a small period
of time.

Related-Bug: #1916024

Change-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b
(cherry picked from commit 662f483120972a373e19bde52f16392e2ccb9c82)
(cherry picked from commit 12c07ba3ea9c6501dd7494561e2920496407c48b)
"
openstack%2Fmanila~stable%2Fvictoria~Iac6507a6e395c55f0fec453650009f08c2bb6563,openstack/manila,stable/victoria,bug/1271568,Iac6507a6e395c55f0fec453650009f08c2bb6563,init_host should be called before RPC consumer is created,MERGED,2021-07-12 16:34:57.000000000,2021-07-28 21:39:40.000000000,2021-07-28 21:38:23.000000000,25,5,0,800380,d3481f5c2645fa96c710b4298c44ba915f7d9d92,13,5,1,5,16643,Goutham Pacha Ravi,gouthamr,"init_host should be called before RPC consumer is created

This change adds a new hook to Manager class called init_host_with_rpc()
to allow services like scheduler to do something once RPC is ready.

Copied from cinder https://opendev.org/openstack/cinder/commit/65fa80c361f71158cc492dfc520dc4a63ccfa419
and https://opendev.org/openstack/cinder/commit/60c563f72d2d6d008fca03f0a058941f3807e1a8

Change-Id: Iac6507a6e395c55f0fec453650009f08c2bb6563
Closes-Bug: #1271568
(cherry picked from commit 0339802a5d0801cda19c464a87853b60982ae011)
(cherry picked from commit 887c4bf4c041cfaafaf1c47edb9262574bbb959a)
"
openstack%2Fglance_store~master~I8ce6f36f1cb4b0ed6bcc5f3869fab3bb64fe3390,openstack/glance_store,master,782200,I8ce6f36f1cb4b0ed6bcc5f3869fab3bb64fe3390,Glance cinder nfs: Block creating qcow2 volumes,MERGED,2021-06-16 01:25:03.000000000,2021-07-28 21:26:12.000000000,2021-07-28 21:24:52.000000000,130,40,6,796577,85c7a06687291eba30510d63d3ee8b9e9cb33c5f,20,3,4,5,27615,Rajat Dhasmana,whoami-rajat,"Glance cinder nfs: Block creating qcow2 volumes

There's an issue when cinder nfs is configured as glance backend and
the image is > 1GB i.e. extend operation is performed on volume.
Currently glance writes the qcow2 header in the raw volume and
cinder nfs driver used to work on format autodetection which is
changed to manual detection here[1]
This fixes the extend volume problem for raw volumes, however, if
cinder nfs is configured to create qcow2 volumes then we will run into
the same problem.
This patch blocks creating images when the nfs volume is qcow2.

Refactoring work:
1) attachment_delete call is removed in nfs related code as it was
already done in the finally block
2) handle_exceptions decorator is removed from volume delete method
as it raises BackendException and incase when volume is not found
(possibly deleted manually), the image deletion fails so we don't
want to raise any error in this case

[1] https://review.opendev.org/c/openstack/cinder/+/761152

Closes-Bug: #1901138
Change-Id: I8ce6f36f1cb4b0ed6bcc5f3869fab3bb64fe3390
"
openstack%2Ftripleo-validations~master~Ia7f8605d4e7f2b187350a53eb5bc11a45e7633a7,openstack/tripleo-validations,master,,Ia7f8605d4e7f2b187350a53eb5bc11a45e7633a7,Fixed typo for variable vif_plugging_timeout_value,ABANDONED,2021-07-05 00:49:21.000000000,2021-07-28 21:21:49.000000000,,1,1,0,799424,739682ea4546b78090f7a9aefe04bd4cf6e70c95,8,6,1,1,30075,Christopher Brown,chrisbro,"Fixed typo for variable vif_plugging_timeout_value

Closes-Bug: #1934609
Change-Id: Ia7f8605d4e7f2b187350a53eb5bc11a45e7633a7
"
openstack%2Fkolla-ansible~stable%2Fussuri~Iced014acee7e590c10848e73feca166f48b622dc,openstack/kolla-ansible,stable/ussuri,,Iced014acee7e590c10848e73feca166f48b622dc,"Reduce RabbitMQ busy waiting, lowering CPU load",MERGED,2021-07-02 15:41:51.000000000,2021-07-28 21:05:04.000000000,2021-07-28 21:03:39.000000000,40,9,0,799239,95de850250ab5394a7d1ac4fdf2920fda3dea77c,12,4,2,4,14826,Mark Goddard,mgoddard,"Reduce RabbitMQ busy waiting, lowering CPU load

On machines with many cores, we were seeing excessive CPU load on systems
that were not very busy. With the following Erlang VM argument we saw
RabbitMQ CPU usage drop from about 150% to around 20%, on a system with
40 hyperthreads.

    +S 2:2

By default RabbitMQ starts N schedulers where N is the number of CPU
cores, including hyper-threaded cores. This is fine when you assume all
your CPUs are dedicated to RabbitMQ. Its not a good idea in a typical
Kolla Ansible setup. Here we go for two scheduler threads.
More details can be found here:
https://www.rabbitmq.com/runtime.html#scheduling
and here:
https://erlang.org/doc/man/erl.html#emulator-flags

    +sbwt none

This stops busy waiting of the scheduler, for more details see:
https://www.rabbitmq.com/runtime.html#busy-waiting
Newer versions of rabbit may need additional flags:
""+sbwt none +sbwtdcpu none +sbwtdio none""
But this patch should be back portable to older versions of RabbitMQ
used in Train and Stein.

Note that information on this tuning was found by looking at data from:
rabbitmq-diagnostics runtime_thread_stats
More details on that can be found here:
https://www.rabbitmq.com/runtime.html#thread-stats

Related-Bug: #1846467

Change-Id: Iced014acee7e590c10848e73feca166f48b622dc
(cherry picked from commit 70f6f8e4c02ed6a8687d2bd714d3fe0b9d04d84a)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~Iced014acee7e590c10848e73feca166f48b622dc,openstack/kolla-ansible,stable/victoria,,Iced014acee7e590c10848e73feca166f48b622dc,"Reduce RabbitMQ busy waiting, lowering CPU load",MERGED,2021-07-02 15:41:14.000000000,2021-07-28 21:04:59.000000000,2021-07-28 21:03:36.000000000,40,9,0,799238,21cef390e7e5e152f05c311fc5df38030c8027fa,10,4,1,4,14826,Mark Goddard,mgoddard,"Reduce RabbitMQ busy waiting, lowering CPU load

On machines with many cores, we were seeing excessive CPU load on systems
that were not very busy. With the following Erlang VM argument we saw
RabbitMQ CPU usage drop from about 150% to around 20%, on a system with
40 hyperthreads.

    +S 2:2

By default RabbitMQ starts N schedulers where N is the number of CPU
cores, including hyper-threaded cores. This is fine when you assume all
your CPUs are dedicated to RabbitMQ. Its not a good idea in a typical
Kolla Ansible setup. Here we go for two scheduler threads.
More details can be found here:
https://www.rabbitmq.com/runtime.html#scheduling
and here:
https://erlang.org/doc/man/erl.html#emulator-flags

    +sbwt none

This stops busy waiting of the scheduler, for more details see:
https://www.rabbitmq.com/runtime.html#busy-waiting
Newer versions of rabbit may need additional flags:
""+sbwt none +sbwtdcpu none +sbwtdio none""
But this patch should be back portable to older versions of RabbitMQ
used in Train and Stein.

Note that information on this tuning was found by looking at data from:
rabbitmq-diagnostics runtime_thread_stats
More details on that can be found here:
https://www.rabbitmq.com/runtime.html#thread-stats

Related-Bug: #1846467

Change-Id: Iced014acee7e590c10848e73feca166f48b622dc
(cherry picked from commit 70f6f8e4c02ed6a8687d2bd714d3fe0b9d04d84a)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Iced014acee7e590c10848e73feca166f48b622dc,openstack/kolla-ansible,stable/wallaby,,Iced014acee7e590c10848e73feca166f48b622dc,"Reduce RabbitMQ busy waiting, lowering CPU load",MERGED,2021-07-02 15:41:08.000000000,2021-07-28 21:04:57.000000000,2021-07-28 21:03:35.000000000,40,9,0,799237,6c9b9179de6bc6f97530e4a9a251cbc9d7ee2366,10,4,1,4,14826,Mark Goddard,mgoddard,"Reduce RabbitMQ busy waiting, lowering CPU load

On machines with many cores, we were seeing excessive CPU load on systems
that were not very busy. With the following Erlang VM argument we saw
RabbitMQ CPU usage drop from about 150% to around 20%, on a system with
40 hyperthreads.

    +S 2:2

By default RabbitMQ starts N schedulers where N is the number of CPU
cores, including hyper-threaded cores. This is fine when you assume all
your CPUs are dedicated to RabbitMQ. Its not a good idea in a typical
Kolla Ansible setup. Here we go for two scheduler threads.
More details can be found here:
https://www.rabbitmq.com/runtime.html#scheduling
and here:
https://erlang.org/doc/man/erl.html#emulator-flags

    +sbwt none

This stops busy waiting of the scheduler, for more details see:
https://www.rabbitmq.com/runtime.html#busy-waiting
Newer versions of rabbit may need additional flags:
""+sbwt none +sbwtdcpu none +sbwtdio none""
But this patch should be back portable to older versions of RabbitMQ
used in Train and Stein.

Note that information on this tuning was found by looking at data from:
rabbitmq-diagnostics runtime_thread_stats
More details on that can be found here:
https://www.rabbitmq.com/runtime.html#thread-stats

Related-Bug: #1846467

Change-Id: Iced014acee7e590c10848e73feca166f48b622dc
(cherry picked from commit 70f6f8e4c02ed6a8687d2bd714d3fe0b9d04d84a)
"
openstack%2Fneutron-dynamic-routing~master~I1a2d4005b0747031787c39e9b257533ff89ac811,openstack/neutron-dynamic-routing,master,fix-functional-jobs,I1a2d4005b0747031787c39e9b257533ff89ac811,Fix devstack gate script due to OVS file removal,ABANDONED,2021-06-17 03:56:06.000000000,2021-07-28 21:04:43.000000000,,1,1,3,796750,3e680abe00aa8850479799df2abe20f7772b0a49,7,3,1,1,1131,Brian Haley,brian-haley,"Fix devstack gate script due to OVS file removal

The neutron file devstack/lib/ovs was removed in
https://review.opendev.org/c/openstack/neutron/+/793470
in favor of using the devstack in-tree version at
lib/neutron_plugins/ovs_source.  Start using it to
fix the devstack gate_hook.sh script.

Change-Id: I1a2d4005b0747031787c39e9b257533ff89ac811
"
openstack%2Fnetworking-bagpipe~master~I28b8fb690912b1f1e70e0946f095ba4a39557c29,openstack/networking-bagpipe,master,fix-functional-jobs,I28b8fb690912b1f1e70e0946f095ba4a39557c29,Fix devstack gate script due to OVS file removal,ABANDONED,2021-06-17 03:56:02.000000000,2021-07-28 21:04:20.000000000,,40,38,0,796749,cdf913e20bd030d092dca23bf5c9b073616baae8,3,1,1,4,1131,Brian Haley,brian-haley,"Fix devstack gate script due to OVS file removal

The neutron file devstack/lib/ovs was removed in
https://review.opendev.org/c/openstack/neutron/+/793470
in favor of using the devstack in-tree version at
lib/neutron_plugins/ovs_source.  Start using it to
fix the devstack/gate_hook.sh script.

Change-Id: I28b8fb690912b1f1e70e0946f095ba4a39557c29
"
openstack%2Foctavia~master~Ia7e8ee8ab5aed94352657becb3c3ce3d6d5f1941,openstack/octavia,master,misspelled-quota,Ia7e8ee8ab5aed94352657becb3c3ce3d6d5f1941,Remove deprecated misspelled quota fields,ABANDONED,2020-06-03 01:13:47.000000000,2021-07-28 21:04:03.000000000,,52,117,0,733032,f96135e1d9eac008bb52300f89415ca49c2664a3,10,2,3,3,1131,Brian Haley,brian-haley,"Remove deprecated misspelled quota fields

Quota fields load_balancer and health_monitor were misspelled
and replaced with loadbalancer and healthmonitor, respectively.
As they were marked for deprecation in the Rocky to be removed
in Train, they can be safely be removed now.

Change-Id: Ia7e8ee8ab5aed94352657becb3c3ce3d6d5f1941
"
openstack%2Foctavia-tempest-plugin~master~I57b081ceb4d06ade5631e92287c7204a5629f998,openstack/octavia-tempest-plugin,master,py3-job-cleanup,I57b081ceb4d06ade5631e92287c7204a5629f998,Create new octavia-dsvm-base-py3 job name,ABANDONED,2020-01-24 23:03:32.000000000,2021-07-28 21:03:38.000000000,,20,81,0,704204,c854cd788c205bf0abab350d4492182aac63615d,7,2,2,1,1131,Brian Haley,brian-haley,"Create new octavia-dsvm-base-py3 job name

Based on parent tempest-multinode-full-py3

Change-Id: I57b081ceb4d06ade5631e92287c7204a5629f998
"
openstack%2Foctavia~master~I4165631e3f2e050b6ca610407154a3ab8ad48e10,openstack/octavia,master,get_listener_realserver_mapping,I4165631e3f2e050b6ca610407154a3ab8ad48e10,Change return value of get_listener_realserver_mapping(),ABANDONED,2021-03-03 21:27:42.000000000,2021-07-28 21:03:22.000000000,,7,7,2,778582,fae3961b2ebe3d01c51f35b6e0257d2d0e823737,5,2,1,2,1131,Brian Haley,brian-haley,"Change return value of get_listener_realserver_mapping()

Change from a tuple to a dictionary since the first
argument was never used by callers.

Change-Id: I4165631e3f2e050b6ca610407154a3ab8ad48e10
"
openstack%2Fnova~master~Icf4fa9c0137023030a04ef618016f532d0f33468,openstack/nova,master,bug/1879878,Icf4fa9c0137023030a04ef618016f532d0f33468,manager: Move context manager up one level,NEW,2020-08-11 13:38:19.000000000,2021-07-28 20:48:38.000000000,,72,72,0,745674,3d9ad2d076d992923b84155cf8e152d9aa913c61,92,13,7,1,15334,Stephen Finucane,sfinucan,"manager: Move context manager up one level

This results in much improved readability and mirrors what we are doing
elsewhere.

Change-Id: Icf4fa9c0137023030a04ef618016f532d0f33468
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Foctavia~master~If51065088bd7c5c0189cd1b13f49ef7f6089afb3,openstack/octavia,master,master-to-primary,If51065088bd7c5c0189cd1b13f49ef7f6089afb3,Use more inclusive language for amphora roles,ABANDONED,2020-11-19 23:01:04.000000000,2021-07-28 20:33:17.000000000,,192,133,4,763481,b4f00dcf179b6e7ab693a169bf5743b38536cc4d,22,6,3,28,1131,Brian Haley,brian-haley,"Use more inclusive language for amphora roles

Add PRIMARY as a valid amphora role and start using it
throughout the code.

Change-Id: If51065088bd7c5c0189cd1b13f49ef7f6089afb3
"
openstack%2Fmanila~master~If0bbac2d153348f26f5b60cba3eb492926aa53c5,openstack/manila,master,bug/1918959,If0bbac2d153348f26f5b60cba3eb492926aa53c5,Add documentation for per share gigabytes quotas,MERGED,2021-04-10 05:23:35.000000000,2021-07-28 20:22:50.000000000,2021-07-28 20:21:11.000000000,73,6,0,785744,df3382d9606bbc0fb9d9a2ecff6a2170a17a5007,34,4,4,12,32919,kiran pawar,kpdev,"Add documentation for per share gigabytes quotas

Update documentation to fit into the new manila quota key:
- `per_share_gigabytes`

Closes-Bug: #1918959
Change-Id: If0bbac2d153348f26f5b60cba3eb492926aa53c5
"
openstack%2Fmanila~master~I67eff8c9733500813435cde2dbda28a3c4a3ccf3,openstack/manila,master,cleanup,I67eff8c9733500813435cde2dbda28a3c4a3ccf3,tests: Remove use of 'oslo_db.sqlalchemy.test_base',MERGED,2021-07-28 17:08:09.000000000,2021-07-28 20:21:42.000000000,2021-07-28 20:20:14.000000000,18,4,0,802763,46f47a3f951cbde9cacfdd1636f0c0a814f1f3c4,14,3,1,1,15334,Stephen Finucane,sfinucan,"tests: Remove use of 'oslo_db.sqlalchemy.test_base'

The various test cases and mixins in 'oslo_db.sqlalchemy.test_base' have
been deprecated since oslo.db 4.34.0 (March 2018). Remove use of these.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I67eff8c9733500813435cde2dbda28a3c4a3ccf3
"
openstack%2Fproject-config~master~I996a35fd39485c2a858502683ecfd2d516380738,openstack/project-config,master,oftc,I996a35fd39485c2a858502683ecfd2d516380738,Make Sunny an operator on Kata IRC channels,MERGED,2021-07-28 17:59:56.000000000,2021-07-28 20:05:39.000000000,2021-07-28 19:35:46.000000000,4,0,0,802765,279d6d4d9d1f4e2b10cd0da9cb2c2cc7294a28f8,8,3,1,1,5263,Jeremy Stanley,fungi,"Make Sunny an operator on Kata IRC channels

Change-Id: I996a35fd39485c2a858502683ecfd2d516380738
"
openstack%2Foctavia~master~Ia255c320977deabf0787365cb884b3212164a010,openstack/octavia,master,two-node-testing,Ia255c320977deabf0787365cb884b3212164a010,DNM: Dependent patch for two-node job debugging,ABANDONED,2020-01-24 23:22:06.000000000,2021-07-28 20:03:40.000000000,,1,0,0,704205,980dd033d609d83c6dd9751e77dc1949b89c834d,17,2,2,1,1131,Brian Haley,brian-haley,"DNM: Dependent patch for two-node job debugging

Depends-on: https://review.opendev.org/#/c/704202
Change-Id: Ia255c320977deabf0787365cb884b3212164a010
"
openstack%2Fneutron~master~Ib8ccefa13c31750711261eedf5df4bdae1137f44,openstack/neutron,master,bug/1726370,Ib8ccefa13c31750711261eedf5df4bdae1137f44,Add state logic to l3-agent router processing,ABANDONED,2017-11-03 15:07:14.000000000,2021-07-28 20:03:09.000000000,,49,4,8,517639,09c8250518ce25596343e904c917085c7e322e88,15,7,2,4,1131,Brian Haley,brian-haley,"Add state logic to l3-agent router processing

There are cases where we can not be done initializing
a router, but start processing an update for it anyways.
Add a small bit of state to router_info so we re-enqueue
any updates if we are still creating a router.

Had to hack a couple of tests to fake-activate, as well
as catch some exceptions due to side-effects of
notifications triggering a call to the prefix delegation
code.

Change-Id: Ib8ccefa13c31750711261eedf5df4bdae1137f44
Related-bug: #1726370
"
openstack%2Foctavia-tempest-plugin~master~I0fb0f1c4bc7f5187b482367545936df0b9f7b547,openstack/octavia-tempest-plugin,master,ovn-test,I0fb0f1c4bc7f5187b482367545936df0b9f7b547,DNM - Test OVN provider with devstack IPv6 change,ABANDONED,2021-05-10 15:32:38.000000000,2021-07-28 20:01:02.000000000,,31,0,0,790477,26d255644c5bfe4b08ff5b90715abff8c2bbd7ca,31,1,4,3,1131,Brian Haley,brian-haley,"DNM - Test OVN provider with devstack IPv6 change

With the parent change of refactoring the IPv6 tests, the
OVN provider tests now fail.  Let's see if Greg's IPv6
ML2/OVN subnet fix for devstack helps with that.  At worst
it will help with debugging.

Depends-on: https://review.opendev.org/c/openstack/devstack/+/780628
Change-Id: I0fb0f1c4bc7f5187b482367545936df0b9f7b547
"
openstack%2Foctavia~master~Id4d793b6dcf39dbe882d537233a9302be3eab314,openstack/octavia,master,multi-vip-crud,Id4d793b6dcf39dbe882d537233a9302be3eab314,DNM: Allow multiple VIPs per LB - CRUD,ABANDONED,2021-07-09 00:09:54.000000000,2021-07-28 20:00:45.000000000,,830,194,3,800146,15892c1b05b8c6c232bed1f63b1ad55b5ce1d9c9,16,1,8,54,1131,Brian Haley,brian-haley,"DNM: Allow multiple VIPs per LB - CRUD

User can specify additional subnet_id/ip_address pairs to bring up on
the VIP port. This will allow for situations like having an LB with both
IPv4+IPv6 or being exposed on both public and a private network.
Thanks Michael for help with validating/fixing the templates!
Thanks Gregory for help with the centos networking!

NOTE: This is just the CRUD pieces, with a little extra to make tests
pass. I want to split it up into pieces in order to better rebase
onto the generic network interface management change,
https://review.opendev.org/c/openstack/octavia/+/761195
Entire patch is at https://review.opendev.org/c/openstack/octavia/+/660239/

Change-Id: Id4d793b6dcf39dbe882d537233a9302be3eab314
Co-Authored-By: Michael Johnson <johnsomor@gmail.com>
Co-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>
Co-Authored-By: Brian Haley <bhaley@redhat.com>
Story: 2005608
Task: 30847
"
openstack%2Fovn-octavia-provider~master~Ifd4550ad5e4c5e62a640fa4e2627c97f1b2facfd,openstack/ovn-octavia-provider,master,move-linters,Ifd4550ad5e4c5e62a640fa4e2627c97f1b2facfd,Move linters dependencies to tox.ini,ABANDONED,2021-03-05 22:47:28.000000000,2021-07-28 19:50:14.000000000,,17,63,0,779060,a9c0e48c8676e7c40c651630309d40d546c36c36,25,3,7,6,1131,Brian Haley,brian-haley,"Move linters dependencies to tox.ini

pep8 and bandit tox envs have different dependencies than
the default tox env. If tox envs with different dependencies
share some common envdir, tox env will be recreated every time
a different tox env is specified. (For example, ""tox -e cover""
after ""tox -e pep8"" recreates the tox env.)

To address it, this commit introduces a new common envdir for
linters (envdir = {toxworkdir}/lint). It also moves deependencies
of bandit env to pep8 env to ensure these three tox envs have the
same dependencies.

Cleanups are also made in test-requirements and lower-constraints.
* isort can be dropped from test-requirements.txt
  as pylint has proper version cappings for it.
  (These cappings are available in pylint 2.5 and later.)
* reno is a document dependency, so it is unnecessary in
  test-requirements.
* reno and isort are dropped from lower-constraints
  as they are not installed in lower-constraints tests.

Added I202 to pylint ignore list.

Also update to flake8>3.9.0 to avoid a failure when you run
'tox -e pep8' locally so it pulls-in the correct dependencies:

 flake8.exceptions.PluginRequestedUnknownParameters: ""pycodestyle""
 requested unknown parameters causing 'FileProcessor' object has
 no attribute 'indent_size'

Change-Id: Ifd4550ad5e4c5e62a640fa4e2627c97f1b2facfd
"
openstack%2Fopenstack-helm~master~I4b9a0bc61b6351b8deeedd5924884e75ecc0622c,openstack/openstack-helm,master,,I4b9a0bc61b6351b8deeedd5924884e75ecc0622c,[OSH] Add make utlity to list of required  tools,MERGED,2021-07-27 18:13:24.000000000,2021-07-28 19:36:20.000000000,2021-07-28 19:33:24.000000000,2,2,0,802595,7e276b8eca1bab5e054016aa2ac1fe8121a1a5c1,15,7,3,1,28372,chinasubbareddy mallavarapu,chinasubbareddy,"[OSH] Add make utlity to list of required  tools

This is to add ""make"" to list of required utilities.

Change-Id: I4b9a0bc61b6351b8deeedd5924884e75ecc0622c
"
openstack%2Fopenstack-helm~master~I80b2515c2f36d0167ee9ef8049bf6b167a5e399d,openstack/openstack-helm,master,,I80b2515c2f36d0167ee9ef8049bf6b167a5e399d,Mount rabbitmq tls cert for nova-novnc communication,MERGED,2021-07-27 18:34:04.000000000,2021-07-28 19:35:11.000000000,2021-07-28 19:33:22.000000000,4,1,1,802598,2065ccd523915c98b1af5ea4dd4da7f05b9aa1ba,33,3,5,3,30495,Nafiz Haider,nafh27,"Mount rabbitmq tls cert for nova-novnc communication

Change-Id: I80b2515c2f36d0167ee9ef8049bf6b167a5e399d
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I3ba5a7ccc2c810fea12bc48584c064738e5aa35e,openstack/kolla-ansible,stable/victoria,octavia-docs-stable/victoria,I3ba5a7ccc2c810fea12bc48584c064738e5aa35e,Fix variable names in Octavia documentation,MERGED,2021-07-28 12:29:29.000000000,2021-07-28 19:14:42.000000000,2021-07-28 19:13:21.000000000,5,5,0,802473,6d67d9d97d83785f44bf7d669dcdde6fbbf4e9ce,8,3,1,1,15197,Pierre Riteau,priteau,"Fix variable names in Octavia documentation

The variable octavia_amphora_flavor should be octavia_amp_flavor.

The variable for customising network and subnet was only mentioned in
the example.

Change-Id: I3ba5a7ccc2c810fea12bc48584c064738e5aa35e
(cherry picked from commit 5e85fe2a0783586438fe163a498e42eeba6e80fa)
"
openstack%2Ftripleo-quickstart-extras~master~I137357dcf2fb8b6132e6da9f9373dc11f290a59b,openstack/tripleo-quickstart-extras,master,,I137357dcf2fb8b6132e6da9f9373dc11f290a59b,Add ussuri case for --local in image upload,ABANDONED,2021-07-28 15:57:47.000000000,2021-07-28 19:10:56.000000000,,1,1,1,802747,0806bb3169f10709a93a857861666c7229cd9c77,5,2,1,1,9976,Ronelle Landy,rlandy,"Add ussuri case for --local in image upload

ussuri OVB tests are failing when the --local
flag is passed to the image upload operator -
even though undercloud_enable_nova is false.

This patch omits the --local flag on image
upload when running on ussuri - irrespective
of the undercloud_enable_nova setting.

Change-Id: I137357dcf2fb8b6132e6da9f9373dc11f290a59b
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I3ba5a7ccc2c810fea12bc48584c064738e5aa35e,openstack/kolla-ansible,stable/wallaby,octavia-docs-stable/wallaby,I3ba5a7ccc2c810fea12bc48584c064738e5aa35e,Fix variable names in Octavia documentation,MERGED,2021-07-28 12:28:40.000000000,2021-07-28 19:10:45.000000000,2021-07-28 19:09:07.000000000,5,5,0,802472,77308e24122577b1a991e7b75c4f41a47ede4fec,8,3,1,1,15197,Pierre Riteau,priteau,"Fix variable names in Octavia documentation

The variable octavia_amphora_flavor should be octavia_amp_flavor.

The variable for customising network and subnet was only mentioned in
the example.

Change-Id: I3ba5a7ccc2c810fea12bc48584c064738e5aa35e
(cherry picked from commit 5e85fe2a0783586438fe163a498e42eeba6e80fa)
"
openstack%2Fkayobe~master~Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7,openstack/kayobe,master,merge-configs,Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7,Make kolla custom config globs configurable,ABANDONED,2021-05-24 17:26:00.000000000,2021-07-28 18:43:58.000000000,,622,405,0,792834,989c8ee4d00ce82bd64caacd6edb0dac24163423,28,1,14,47,28048,Will Szumski,jovial,"Make kolla custom config globs configurable

This also seems quicker than using the find module in a loop.

Change-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7
"
openstack%2Ftacker-horizon~master~I1f029dc1a04d5a92e5078c3abb1c8d3d3c679bdc,openstack/tacker-horizon,master,drop-cinder-v2-api,I1f029dc1a04d5a92e5078c3abb1c8d3d3c679bdc,Drop block storage v2 API,MERGED,2021-07-28 10:16:54.000000000,2021-07-28 18:39:15.000000000,2021-07-28 18:38:00.000000000,9,9,0,802678,3618f21972dd23c6a1471aed879b541ff3ae85c8,8,5,1,2,32102,Manpreet Kaur,manpreet,"Drop block storage v2 API

Cinder has dropped block storage v2 API [1].
This patch update python-cinderclient to 8.0.0 and also update its
depending packages.

- python-cinderclient 8.0.0 depends on keystoneauth1>=4.3.1
- python-cinderclient 8.0.0 depends on oslo.i18n>=5.0.1
- python-cinderclient 8.0.0 depends on oslo.utils>=4.8.0
- oslo-utils 4.8.0 depends on packaging>=20.4
- python-cinderclient 8.0.0 depends on pbr>=5.5.0
- python-cinderclient 8.0.0 depends on requests>=2.25.1
- python-cinderclient 8.0.0 depends on stevedore>=3.3.0

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-November/018876.html

Change-Id: I1f029dc1a04d5a92e5078c3abb1c8d3d3c679bdc
"
openstack%2Foslo.db~master~Idb9596284df3e5d038c939d27fe14fe2cc2f4318,openstack/oslo.db,master,cleanup,Idb9596284df3e5d038c939d27fe14fe2cc2f4318,tests: Remove 'ModelsMigrationsSync.check_foreign_keys',MERGED,2021-06-25 17:07:43.000000000,2021-07-28 18:37:15.000000000,2021-07-28 18:34:36.000000000,38,300,0,798134,4f9df08373973a3fbccf49b56b9bf79cc2849dba,8,3,1,3,15334,Stephen Finucane,sfinucan,"tests: Remove 'ModelsMigrationsSync.check_foreign_keys'

The 'check_foreign_key' method was removed in oslo.db 1.4.0 [1] and
re-added but marked as deprecated in 1.4.1 [2] to allow for a
deprecation period. That was over 6 years ago so we can now remove it.
Meanwhile, the private '_walk_versions', '_migrate_down' and
'_migrate_up' methods have been marked as deprecated since oslo.db 0.5.0
(!!!) [3]. We can definitely remove these now. codesearch.o.o reveals no
users of any of these methods.

[1] I77a2bba2de08125b5a601de03c1d2d5c73fa33ee
[2] Id892567bd60d6b4b88765bbfe3cd5c5e75910b25
[3] Ic9358445e60a0dd43a5900e8bda7b12f2bebf679

Change-Id: Idb9596284df3e5d038c939d27fe14fe2cc2f4318
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Foslo.db~master~Ib7a5a6e1124c44a742b003442f815022a866bcbb,openstack/oslo.db,master,cleanup,Ib7a5a6e1124c44a742b003442f815022a866bcbb,concurrency: Deprecate 'TpoolDbapiWrapper',MERGED,2021-06-25 17:07:43.000000000,2021-07-28 18:36:00.000000000,2021-07-28 18:34:35.000000000,33,7,2,798133,74c6bf266e0b86ceb4726cad9268f134d423bae8,10,3,1,2,15334,Stephen Finucane,sfinucan,"concurrency: Deprecate 'TpoolDbapiWrapper'

This has been marked as experimented since before oslo.db was split out
of nova. We've no test coverage and no idea of whether it even works
nowadays. It's time to plan for its eventual removal.

Change-Id: Ib7a5a6e1124c44a742b003442f815022a866bcbb
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,openstack/tripleo-ansible,stable/ussuri,change-794764-2-stable/wallaby-stable/victoria-stable/ussuri,I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,Use serial or parallel execution depending on the kind of backup,MERGED,2021-07-26 15:18:54.000000000,2021-07-28 18:31:00.000000000,2021-07-28 18:31:00.000000000,6,3,0,802338,29af0cec6e485b32d3bbc795d95c5321a3c6302f,10,6,1,1,32968,Juan Larriba,jlarriba,"Use serial or parallel execution depending on the kind of backup

Currently, we support two kinds of backups: the ""old way"" that stops all
the controllers at the same time and then does the backup and the
""snapshots"" that only stops one controller at a time.

In the first case, we want to take the backup of all the controllers
in parallel to save time, while in the second case we want to take the
backup of each controller serialized so we do not stop all of them at
the same time.

This change enables this for the openstack overcloud backup CLI action.

Closes-Bug: #1930861
Change-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f
(cherry picked from commit ed0437e2c073ae0052d1dba762940d07f16b5aa0)
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,openstack/tripleo-ansible,stable/victoria,change-794764-2-stable/wallaby-stable/victoria,I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,Use serial or parallel execution depending on the kind of backup,MERGED,2021-07-26 15:18:22.000000000,2021-07-28 18:30:58.000000000,2021-07-28 18:30:58.000000000,6,3,0,802217,68872e38b1c51492db40a2f4f49faee9022ece45,8,6,1,1,32968,Juan Larriba,jlarriba,"Use serial or parallel execution depending on the kind of backup

Currently, we support two kinds of backups: the ""old way"" that stops all
the controllers at the same time and then does the backup and the
""snapshots"" that only stops one controller at a time.

In the first case, we want to take the backup of all the controllers
in parallel to save time, while in the second case we want to take the
backup of each controller serialized so we do not stop all of them at
the same time.

This change enables this for the openstack overcloud backup CLI action.

Closes-Bug: #1930861
Change-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f
(cherry picked from commit ed0437e2c073ae0052d1dba762940d07f16b5aa0)
"
openstack%2Foslo.db~stable%2Ftrain~Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65,openstack/oslo.db,stable/train,oslo_lc_drop,Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65,Dropping lower constraints testing,MERGED,2021-07-28 14:47:50.000000000,2021-07-28 18:14:44.000000000,2021-07-28 18:10:33.000000000,0,1,0,802730,c9f815d3b5ad066825e5bd8b6f10e2d44b5fb2f9,7,3,1,1,15334,Stephen Finucane,sfinucan,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

Conflicts:
  .zuul.yaml

NOTE(stephenfin): Conflicts are due to different base jobs between
stable branches.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65
(cherry picked from commit a53ec14ee073cb69e876c4ee29e10ba65b438076)
(cherry picked from commit 1c0062c6e9125fd9060f08d2d3966d2b4af254e4)
(cherry picked from commit db2425f285363787efac878fd3462fee81c7a949)
(cherry picked from commit 08879fbf3b066c55cd5f17a2a6f059a243a03ce6)
"
openstack%2Fkolla~stable%2Fwallaby~I75927b6016bdb7577fbff354632bdab6407f359c,openstack/kolla,stable/wallaby,bug/1931980-stable/wallaby,I75927b6016bdb7577fbff354632bdab6407f359c,Improve offline build scenario.,MERGED,2021-07-27 09:37:50.000000000,2021-07-28 18:14:41.000000000,2021-07-28 18:10:54.000000000,9,11,0,802458,25d7f48c1e2aed0661a2e2765bc0836748a7cdbb,9,3,1,2,32398,Gaël THEROND,Fl1nt,"Improve offline build scenario.

  * Use distribution based dumb-init package.

Change-Id: I75927b6016bdb7577fbff354632bdab6407f359c
Related-Bug: #19311980
(cherry picked from commit 5940d1758fabf47d15bac5c08d0afa57fbb35964)
"
openstack%2Fpython-openstackclient~master~I8aab60619e0225047f6a1c31e44917ca8fcc799e,openstack/python-openstackclient,master,story/2009078,I8aab60619e0225047f6a1c31e44917ca8fcc799e,Correct REST API response fields for /os-migrations API,MERGED,2021-07-28 03:35:59.000000000,2021-07-28 18:14:39.000000000,2021-07-28 18:10:42.000000000,77,12,6,802650,ed87f7949ef1ef580ed71b9820e16823c0466472,14,2,2,3,4690,melanie witt,melwitt,"Correct REST API response fields for /os-migrations API

The compute APIs are unfortunately inconsistent with regard to the
response parameters for migrations.

* GET /servers/{server_id}/migrations returns server_uuid
* GET /os-migrations returns instance_uuid

Because the 'Server UUID' column is being specified for parsing the
response from GET /os-migrations, it is always showing as an empty
string to users.

There are a few other mismatches between the column names and the REST
API response fields [1]:

* 'Old Flavor' vs 'old_instance_type_id'
* 'New Flavor' vs 'new_instance_type_id'
* 'Type' vs 'migration_type'

This adds a new list containing the REST API response field names to
pass to utils.get_item_properties so that the responses are correctly
parsed and the client output contains the response data instead of
empty strings.

Story: 2009078
Task: 42890

[1] https://docs.openstack.org/api-ref/compute/?expanded=list-migrations-detail#list-migrations

Change-Id: I8aab60619e0225047f6a1c31e44917ca8fcc799e
"
openstack%2Foslo.db~stable%2Fussuri~Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65,openstack/oslo.db,stable/ussuri,oslo_lc_drop,Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65,Dropping lower constraints testing,MERGED,2021-07-07 12:48:34.000000000,2021-07-28 18:14:36.000000000,2021-07-28 18:10:31.000000000,0,1,2,799812,08879fbf3b066c55cd5f17a2a6f059a243a03ce6,10,3,2,1,27909,Aija Jauntēva,ajya,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

Conflicts:
  .zuul.yaml

NOTE(stephenfin): Conflicts are due to different base jobs between
stable branches.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65
(cherry picked from commit a53ec14ee073cb69e876c4ee29e10ba65b438076)
(cherry picked from commit 1c0062c6e9125fd9060f08d2d3966d2b4af254e4)
(cherry picked from commit db2425f285363787efac878fd3462fee81c7a949)
"
openstack%2Foslo.db~stable%2Fvictoria~I07b577f4e948c03d1751145e5f898b90ac1c197a,openstack/oslo.db,stable/victoria,oslo_lc_drop,I07b577f4e948c03d1751145e5f898b90ac1c197a,Remove lower-constraints remnants,MERGED,2021-07-07 12:47:24.000000000,2021-07-28 18:14:31.000000000,2021-07-28 18:10:36.000000000,0,66,1,799810,1e40b7c4f3accd15dc48130b148141ae2740474c,13,3,2,2,27909,Aija Jauntēva,ajya,"Remove lower-constraints remnants

These were missed in change : Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65

Conflicts:
  lower-constraints.txt

NOTE(stephenfin): Conflicts are because the constraints are different.

Change-Id: I07b577f4e948c03d1751145e5f898b90ac1c197a
(cherry picked from commit ad720c3371ff26d484b5264f1332d92524719023)
(cherry picked from commit 0646eb6595a79edb62801232ee2f6af0886d3013)
"
openstack%2Fkolla~stable%2Fwallaby~Ie3f357eaae5d1378ada32451dbd74f01f5cd2ba2,openstack/kolla,stable/wallaby,,Ie3f357eaae5d1378ada32451dbd74f01f5cd2ba2,Add masakari-dashboard to debian binary horizon image,MERGED,2021-07-27 13:46:42.000000000,2021-07-28 18:06:05.000000000,2021-07-28 18:03:51.000000000,4,0,0,802459,57ddaad7afbae45e85390d9d391e7afe9fc2a224,9,3,1,2,27339,Michal Arbet,michalarbet,"Add masakari-dashboard to debian binary horizon image

This patch is adding python3-masakari-dashboard
to debian binary image as we added masakari-dashboard
to debian in wallaby cycle.

Change-Id: Ie3f357eaae5d1378ada32451dbd74f01f5cd2ba2
(cherry picked from commit 4c2990a99fddc9778a752e865bb59cfe92e84afb)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~If80f48c39ea9fcb09a75711932ddb3958a4e8b16,openstack/tripleo-ansible,stable/ussuri,change-799649-2-stable/wallaby-stable/victoria-stable/ussuri,If80f48c39ea9fcb09a75711932ddb3958a4e8b16,Fix tripleo_backup_and_restore_rear_simulate boolean check,MERGED,2021-07-26 15:34:29.000000000,2021-07-28 18:03:56.000000000,2021-07-28 18:03:56.000000000,1,1,0,802342,7af78b2426624ddb3e1c591016ca444cd990f740,10,6,1,1,32968,Juan Larriba,jlarriba,"Fix tripleo_backup_and_restore_rear_simulate boolean check

If |bool is not added to the check,
""--extra-vars tripleo_backup_and_restore_rear_simulate=false"" is
considered to be True.

Closes-Bug: #1934777

Change-Id: If80f48c39ea9fcb09a75711932ddb3958a4e8b16
(cherry picked from commit 07658bc8e030d041baf836f95a15a43a0e315176)
"
openstack%2Foslo.db~stable%2Fvictoria~Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65,openstack/oslo.db,stable/victoria,oslo_lc_drop,Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65,Dropping lower constraints testing,MERGED,2021-07-07 12:47:24.000000000,2021-07-28 17:47:33.000000000,2021-07-28 17:44:13.000000000,0,1,2,799809,db2425f285363787efac878fd3462fee81c7a949,13,3,2,1,27909,Aija Jauntēva,ajya,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

Conflicts:
  .zuul.yaml

NOTE(stephenfin): Conflicts are due to different base jobs between
stable branches.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65
(cherry picked from commit a53ec14ee073cb69e876c4ee29e10ba65b438076)
(cherry picked from commit 1c0062c6e9125fd9060f08d2d3966d2b4af254e4)
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~If80f48c39ea9fcb09a75711932ddb3958a4e8b16,openstack/tripleo-ansible,stable/victoria,change-799649-2-stable/wallaby-stable/victoria,If80f48c39ea9fcb09a75711932ddb3958a4e8b16,Fix tripleo_backup_and_restore_rear_simulate boolean check,MERGED,2021-07-26 15:32:45.000000000,2021-07-28 17:42:20.000000000,2021-07-28 17:42:20.000000000,1,1,0,802341,774bcbc51b8ad8df754d5686dcf0fac7e65f681c,8,6,1,1,32968,Juan Larriba,jlarriba,"Fix tripleo_backup_and_restore_rear_simulate boolean check

If |bool is not added to the check,
""--extra-vars tripleo_backup_and_restore_rear_simulate=false"" is
considered to be True.

Closes-Bug: #1934777

Change-Id: If80f48c39ea9fcb09a75711932ddb3958a4e8b16
(cherry picked from commit 07658bc8e030d041baf836f95a15a43a0e315176)
"
openstack%2Fkolla-ansible~master~Ib7ce4ed79c28456281087eb4156577f910c072e7,openstack/kolla-ansible,master,,Ib7ce4ed79c28456281087eb4156577f910c072e7,manila: add glance section in manila-share.conf,MERGED,2021-04-21 11:00:37.000000000,2021-07-28 17:29:42.000000000,2021-07-28 17:28:15.000000000,19,1,2,787346,2e4f51f671b4e14fd58a67f1a22106c09c037eed,17,4,2,3,33307,Kyle Dean,k-s-dean,"manila: add glance section in manila-share.conf

Since the Victoria release, manila-share.conf requires a glance section
for some drivers. This change adds the missing section.

It also uses the correct cinder_keystone_user variable to reference the
cinder user.

Closes-Bug: #1921935

Change-Id: Ib7ce4ed79c28456281087eb4156577f910c072e7
"
openstack%2Fvirtualbmc~master~Ia05d9b10c421b3ec4678449d6accf912927213c8,openstack/virtualbmc,master,allowlist-tox,Ia05d9b10c421b3ec4678449d6accf912927213c8,Update min version of tox to use allowlist,MERGED,2021-06-15 08:16:07.000000000,2021-07-28 17:25:43.000000000,2021-07-28 17:24:13.000000000,2,2,0,796401,89220d2ebbf120f8bf92ef73dae89dfc34f6a1e7,9,3,1,1,23851,Riccardo Pittau,elfosardo,"Update min version of tox to use allowlist

The min version of tox is updated to 3.18.0 to replace whitelist_externals
with allowist_externals option [1]

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ia05d9b10c421b3ec4678449d6accf912927213c8
"
openstack%2Fpython-ironic-inspector-client~master~Ic99f9cd0e258ca65f51f7bb1195e4a7ba9ac7028,openstack/python-ironic-inspector-client,master,allowlist-tox,Ic99f9cd0e258ca65f51f7bb1195e4a7ba9ac7028,Update min version of tox to use allowlist,MERGED,2021-06-15 08:13:15.000000000,2021-07-28 17:24:16.000000000,2021-07-28 17:22:51.000000000,2,2,0,796398,24291c85202f92f867093accd3c9ea66ce84a015,9,3,1,1,23851,Riccardo Pittau,elfosardo,"Update min version of tox to use allowlist

The min version of tox is updated to 3.18.0 to replace whitelist_externals
with allowist_externals option [1]

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ic99f9cd0e258ca65f51f7bb1195e4a7ba9ac7028
"
openstack%2Fkolla-ansible~master~I3599f85afe9d3045820ea1ea70481ea2500e49ac,openstack/kolla-ansible,master,,I3599f85afe9d3045820ea1ea70481ea2500e49ac,Delete haproxy_single_service_listen.cfg.j2 template,MERGED,2021-06-24 11:48:57.000000000,2021-07-28 17:20:49.000000000,2021-07-28 17:16:36.000000000,5,112,1,797883,fca9be3806f2d508ac8a11505a7d07431a9c4554,24,3,5,3,31506,Lin PeiWen,LinPeiWen,"Delete haproxy_single_service_listen.cfg.j2 template

Delete the ""haproxy_single_service_listen.cfg.j2"" template,
which has been replaced by ""haproxy_single_service_split.cfg.j2""
and deprecated in the Victoria version

Change-Id: I3599f85afe9d3045820ea1ea70481ea2500e49ac
"
openstack%2Fironic~bugfix%2F18.1~Ib41dfcd54af6c02695ae37680c70500c2edefa06,openstack/ironic,bugfix/18.1,,Ib41dfcd54af6c02695ae37680c70500c2edefa06,Configure CI for bugfix/18.1,MERGED,2021-07-22 15:50:41.000000000,2021-07-28 17:20:43.000000000,2021-07-28 17:14:38.000000000,13,4,0,801876,1838c7153ce6bc9a70ab9d3f244d11cd48d93575,12,3,2,3,10239,Dmitry Tantsur,dtantsur,"Configure CI for bugfix/18.1

Add branch mapping so that devstack jobs work. Use master for Bifrost
(which is not strictly correct but is good enough).

Change-Id: Ib41dfcd54af6c02695ae37680c70500c2edefa06
"
openstack%2Fironic-inspector~bugfix%2F10.7~I9132f9b3bc8d62a0db9ef6ec385bd5753650a370,openstack/ironic-inspector,bugfix/10.7,,I9132f9b3bc8d62a0db9ef6ec385bd5753650a370,Configure CI for bugfix/10.7,MERGED,2021-07-22 15:45:15.000000000,2021-07-28 17:20:29.000000000,2021-07-28 17:14:42.000000000,11,1,0,801873,533d29f029d120687919cb84a3343d80ae627be0,9,3,1,2,10239,Dmitry Tantsur,dtantsur,"Configure CI for bugfix/10.7

Add branch mapping so that devstack jobs work. Use master for Bifrost
(which is not strictly correct but is good enough).

Change-Id: I9132f9b3bc8d62a0db9ef6ec385bd5753650a370
"
openstack%2Fironic-python-agent~bugfix%2F8.1~I62f55afac8b56166b7336231a669fad2ebb3d6f5,openstack/ironic-python-agent,bugfix/8.1,,I62f55afac8b56166b7336231a669fad2ebb3d6f5,Configure CI for bugfix/8.1,MERGED,2021-07-22 15:55:18.000000000,2021-07-28 17:20:13.000000000,2021-07-28 17:14:44.000000000,20,1,0,801898,ae1537d9c60403ed4f1b3a728c5e51a5ae68fe1c,10,3,2,1,10239,Dmitry Tantsur,dtantsur,"Configure CI for bugfix/8.1

Change-Id: I62f55afac8b56166b7336231a669fad2ebb3d6f5
"
openstack%2Foslo.db~master~Ie1e2bf612e949bdee00b1369057fbc739cbc7591,openstack/oslo.db,master,deprecations,Ie1e2bf612e949bdee00b1369057fbc739cbc7591,Deprecate 'TpoolDbapiWrapper' for removal,ABANDONED,2021-03-31 17:56:14.000000000,2021-07-28 17:11:07.000000000,,34,7,0,784147,d39da654d3b0ac218c8a3c093e6dd01e99c0bec5,9,3,1,2,15334,Stephen Finucane,sfinucan,"Deprecate 'TpoolDbapiWrapper' for removal

This has been around since oslo.db was split out of nova and has never
graduated from experimental to stable. There is zero testing of this
functionality and no interest in adding it. Deprecate it to signal as
much and allow us to eventually remove what is essentially dead code in
a reasonable time frame.

Change-Id: Ie1e2bf612e949bdee00b1369057fbc739cbc7591
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpuppet-ironic~master~Ic770798955482f038f06f920747d76f5f6dfc619,openstack/puppet-ironic,master,,Ic770798955482f038f06f920747d76f5f6dfc619,Add separate manifest for configuring json-rpc,MERGED,2021-07-28 07:46:30.000000000,2021-07-28 17:05:04.000000000,2021-07-28 17:03:06.000000000,203,0,2,802667,0ef5303d0511eb27f078b4082e36c23e04bbe9c8,15,3,6,3,8833,Rabi Mishra,rabi,"Add separate manifest for configuring json-rpc

When using json-rpc transport rather than the default 'oslo',
this section need to be configured for both ironic-api and
ironic-conductor.

Though rpc_transport parameter was added with change[1], the
underlying configuration needed to enable json-rpc has not
been added.

[1] https://review.opendev.org/c/openstack/puppet-ironic/+/659053

Change-Id: Ic770798955482f038f06f920747d76f5f6dfc619
"
openstack%2Fsushy-tools~master~Ida16c014a7615c6c4021a0e116caf860517fe656,openstack/sushy-tools,master,additional-bios-settings,Ida16c014a7615c6c4021a0e116caf860517fe656,Add additional BIOS Settings,MERGED,2021-07-28 12:44:16.000000000,2021-07-28 17:03:44.000000000,2021-07-28 17:02:05.000000000,57,5,0,802695,07bc989c02f72c7d469ef9960ecc446ce0fae96f,8,3,1,5,21909,Bob Fournier,bfournie,"Add additional BIOS Settings

Add a few more fields that have different Attribute types than the existing ones.

Change-Id: Ida16c014a7615c6c4021a0e116caf860517fe656
"
openstack%2Fopenstack-helm~master~Ic2e92dcfadab95eb1b1845fd5ab9383909bc84e1,openstack/openstack-helm,master,,Ic2e92dcfadab95eb1b1845fd5ab9383909bc84e1,Remove indonesian translations,MERGED,2021-07-28 14:41:41.000000000,2021-07-28 16:56:58.000000000,2021-07-28 16:55:18.000000000,0,7519,0,802474,9c89c32bd3c862f100cb0170909cb4c2312153c5,23,4,9,7,21420,Gage Hugo,ghugo,"Remove indonesian translations

The lastest upgrade to sphinx 4.1.1 brings in a newer version of
docutils which caused an issue with the docs build since indonesia
is not a supported language. This change removes the id directory
in the list of locals to unblock the gate.

http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023884.html

Change-Id: Ic2e92dcfadab95eb1b1845fd5ab9383909bc84e1
"
openstack%2Fansible-collections-openstack~master~I160a75c6fbbf1555f3adcb444c77057f59b4cdfb,openstack/ansible-collections-openstack,master,lb-wait-for-pool,I160a75c6fbbf1555f3adcb444c77057f59b4cdfb,Wait for pool to be active and online,MERGED,2021-07-19 11:08:44.000000000,2021-07-28 16:55:56.000000000,2021-07-28 16:55:56.000000000,31,0,0,801286,aed60716eed58657f716614f4003f300fc6d2471,11,2,1,1,29260,Jesper Schmitz Mouridsen,jsmdk,"Wait for pool to be active and online

In order to use a newly generated pool for a new
healthmonitor the pool must be online and active,
to avoid 409 conflict, when trying to update a pool
with e.g pending update as a status.

Change-Id: I160a75c6fbbf1555f3adcb444c77057f59b4cdfb
"
openstack%2Fansible-collections-openstack~master~Ib3fcd98d2b23f31cf139dc62552f2b19784b8155,openstack/ansible-collections-openstack,master,network_attributes_depend,Ib3fcd98d2b23f31cf139dc62552f2b19784b8155,Add extra_specs attribute to network and router,NEW,2021-07-12 14:54:17.000000000,2021-07-28 16:48:25.000000000,,75,2,0,800492,e1353d5d14afcf76abca8e1f1e01ebb4fd6d5413,13,2,4,4,29296,Uemit Seren,timeu,"Add extra_specs attribute to network and router

Depends-On: I79ff8715835316505aab22974a22142fd7dc64c6
Story: 2009003
Task: 42677
Change-Id: Ib3fcd98d2b23f31cf139dc62552f2b19784b8155
"
openstack%2Ftripleo-validations~stable%2Ftrain~I3a54abe72a68da04c57c05a71e4eace93225f058,openstack/tripleo-validations,stable/train,,I3a54abe72a68da04c57c05a71e4eace93225f058,Corrected the task 'Get file_descriptors total_limit' to get the 'fs.file-max' value.,MERGED,2021-07-26 09:47:58.000000000,2021-07-28 16:42:44.000000000,2021-07-28 16:42:44.000000000,1,1,0,802250,379eae2f6ab5ec41f1a180535d4abfa964cd881b,13,6,1,1,32926,Jiri Podivin,jpodivin,"Corrected the task 'Get file_descriptors total_limit' to get the
'fs.file-max' value.

Closes-Bug: #1934656
Change-Id: I3a54abe72a68da04c57c05a71e4eace93225f058
(cherry picked from commit e610926e80e2841fc6c7459ef295c1dec4df0eed)
"
openstack%2Fhorizon~master~Ic8330b947b1a733f70c3bdad8b3493f20a2f26fb,openstack/horizon,master,,Ic8330b947b1a733f70c3bdad8b3493f20a2f26fb,Fix Unable to use multiattach volume as boot for new server,MERGED,2021-06-29 18:10:56.000000000,2021-07-28 16:16:42.000000000,2021-07-28 16:14:49.000000000,5,4,2,798730,64fe0abb653950c85d455dedd09ef42856c6b07b,13,6,2,3,29313,Vishal Manchanda,vishalmanchanda,"Fix Unable to use multiattach volume as boot for new server

If we try to create a new server from a bootable volume that
supports multiattach, it will fail to create with an error
message that ``multiattach volumes are only supported starting
with compute API version 2.60``. This patch fixes the issue.

Closes-Bug: #1931440
Change-Id: Ic8330b947b1a733f70c3bdad8b3493f20a2f26fb
"
openstack%2Freleases~master~I74eb0c4eca495b68c52089d230e82696464e1bd6,openstack/releases,master,onboarding,I74eb0c4eca495b68c52089d230e82696464e1bd6,Add short review process summary to engagement ladder,ABANDONED,2021-07-27 18:08:12.000000000,2021-07-28 16:11:59.000000000,,19,1,0,802593,51e5a0ef8daeb73b2572f94a2bdb48835a182378,8,1,2,1,17685,Elod Illes,elod.illes,"Add short review process summary to engagement ladder

Patch I3859ce431711cef5176a3ea34b9433bd06d51447 moved the content of
CONTRIBUTING.rst to the team documentation. A short summary of the
review process was deleted, but could be useful to add that back to the
Engagement ladder section to give a quick overview of the necessary
tasks for a release patch reviewer.

Change-Id: I74eb0c4eca495b68c52089d230e82696464e1bd6
"
openstack%2Foslo.db~master~Ie3fbc54aa0c791e6e8ca3164c95051039e82b0e3,openstack/oslo.db,master,cleanup,Ie3fbc54aa0c791e6e8ca3164c95051039e82b0e3,sqlalchemy: Remove checks for older deps,MERGED,2021-06-25 17:07:43.000000000,2021-07-28 16:04:05.000000000,2021-07-28 16:02:31.000000000,1,17,0,798132,a778f2d87fac95868274d6396c27df40ca006bef,8,3,1,2,15334,Stephen Finucane,sfinucan,"sqlalchemy: Remove checks for older deps

We already state a minimum in our requirements.txt files to prevent use
of this package with older alembic and sqlalchemy releases, making these
checks simply noise. Remove them.

Change-Id: Ie3fbc54aa0c791e6e8ca3164c95051039e82b0e3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Freleases~master~I6627e5ca70242ee7560c61dcf92bc6e6eb5d3857,openstack/releases,master,,I6627e5ca70242ee7560c61dcf92bc6e6eb5d3857,Xena-2 release for cinder,MERGED,2021-07-22 07:07:00.000000000,2021-07-28 16:02:43.000000000,2021-07-28 16:02:43.000000000,5,0,0,801708,ed684b9127b85fe195f7e28bb35da9256ba12e52,13,6,1,1,27615,Rajat Dhasmana,whoami-rajat,"Xena-2 release for cinder

The Cinder project has completed the long-threatened removal of
the Block Storage API version 2 (first deprecated in Pike by change
I913c44799cdd), so we would like to do a beta release at this time
to make this change generally available.

Co-Authored-By: Brian Rosmaita <rosmaita.fossdev@gmail.com>
Change-Id: I6627e5ca70242ee7560c61dcf92bc6e6eb5d3857
"
openstack%2Fcinder~master~I84ff54268550e4e27fa8b2c8d7d02459c4f6d7c4,openstack/cinder,master,bug/1936663,I84ff54268550e4e27fa8b2c8d7d02459c4f6d7c4,[Pure Storage] Fix CG cloning crash when very long volume names,MERGED,2021-07-16 14:06:42.000000000,2021-07-28 16:01:14.000000000,2021-07-19 19:40:44.000000000,9,2,0,801065,eb5c8183b6dcd2800acd04d9254b1be11adcba9f,43,4,2,2,13425,Simon Dodsley,sdodsley,"[Pure Storage] Fix CG cloning crash when very long volume names

Specifically for PowerVC when volumes have VERY long names they
currently truncated to an acceptible length. This truncation
was missing for volumes in a consistency group so when cloning
of the CG occured, the clone command would fail due to an
incorrect volume name.

Change-Id: I84ff54268550e4e27fa8b2c8d7d02459c4f6d7c4
Closes-Bug: #1936663
"
openstack%2Fcinder~master~I8dd114fedece8e9d8f85c1ed237c31aede907d67,openstack/cinder,master,,I8dd114fedece8e9d8f85c1ed237c31aede907d67,PowerMax Driver - Allow for case mismatch in SGs,MERGED,2021-06-14 10:55:53.000000000,2021-07-28 16:00:53.000000000,2021-07-22 15:23:33.000000000,26,1,3,796256,1f65c2a92fe3931791fca81038a27f81e1ca28fd,71,4,1,3,12670,Helen Walsh,walshh2,"PowerMax Driver - Allow for case mismatch in SGs

When checking if a storage group is a child of a parent storage
group the check is currently case sensitive. We should allow for
a pattern match that is not case sensitive. For example,
myStorageGroup should equal MYSTORAGEGROUP or mystoragegroup.

Closes-Bug: #1929429
Change-Id: I8dd114fedece8e9d8f85c1ed237c31aede907d67
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I50b81937698098141045841aec59c04ee88f5b0f,openstack/tripleo-heat-templates,stable/ussuri,,I50b81937698098141045841aec59c04ee88f5b0f,Remove all docker related tasks from upgrades,MERGED,2021-07-26 14:19:11.000000000,2021-07-28 15:48:48.000000000,2021-07-28 15:48:48.000000000,0,20,1,802215,f0a6b950d8c463150eb288773f3fb245f1848e94,11,8,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Remove all docker related tasks from upgrades

Change-Id: I50b81937698098141045841aec59c04ee88f5b0f
"
openstack%2Ftripleo-ci~master~If56a005434a8e10cea8d8888f01a9380d18239e4,openstack/tripleo-ci,master,wallaby-upgrade-jobs,If56a005434a8e10cea8d8888f01a9380d18239e4,Adds wallaby upgrades/updates jobs to periodic,MERGED,2021-06-17 07:21:51.000000000,2021-07-28 15:48:44.000000000,2021-07-28 15:48:44.000000000,59,0,12,796771,580bbb06a7bd3c0579e19f1ec61b72a2c444f56f,69,9,14,2,31075,Pooja Jadhav,pojadhav,"Adds wallaby upgrades/updates jobs to periodic

This patch adds wallaby undercloud and minor
upgrades/updates jobs to periodic.

Change-Id: If56a005434a8e10cea8d8888f01a9380d18239e4
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ic35155f04bf05913b9e9b8eaa22fe6c02515396c,openstack/tripleo-ansible,stable/train,Ic35155f04bf05913b9e9b8eaa22fe6c02515396c,Ic35155f04bf05913b9e9b8eaa22fe6c02515396c,Add support for v2 registries.conf,MERGED,2021-07-21 11:29:19.000000000,2021-07-28 15:48:41.000000000,2021-07-28 15:48:41.000000000,61,9,2,801615,27fe9d9ce471dd25a56d8a8b9e4b6480e763b07f,28,8,4,3,8449,Marios Andreou,marios,"Add support for v2 registries.conf

https://github.com/containers/image/blob/master/docs/containers-registries.conf.5.md#version-2

This allows for mirrors to be configured for specific hosts however it
is incompatibilty with the default v1 configuration so we have to nuke
the existing configuration.  Additionally it uses TOML which there is
currently no ansible module to manage.

Adds to_json to address issue seen with py2 jobs at [1]. The depends-on
is unrelated but needed to pass centos7 jobs in ci.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/801615/2#message-821960bb5908358d27225a12fdc5c84ab7bfe0d0
Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/802431
Related-Bug: 1936825
Change-Id: Ic35155f04bf05913b9e9b8eaa22fe6c02515396c
(cherry picked from commit bf80fe922b2d915675f01794e73893c018688916)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127,openstack/tripleo-ansible,stable/train,change-801729-1,I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127,More descriptive task names,MERGED,2021-07-22 10:32:47.000000000,2021-07-28 15:48:40.000000000,2021-07-28 15:48:40.000000000,3,3,0,801729,57985c0a9a1d19feaf61fbd29a8b39eca20ab431,26,6,3,2,32968,Juan Larriba,jlarriba,"More descriptive task names

As highlighted by marios on [1] and [2] the task names were
not descriptive of what it was being done, as it implied that some kind
of verification was being done.

This patch does not change any functionality, but it changes the names
of the tasks to something more according to what it is being done.

Not a clean cherry pick due to different naming of the role directory.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml
[2] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml

Change-Id: I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127
(cherry picked from commit 138f9f6708546cf17f28334be93ee2acc3fbf9a8)
(cherry picked from commit d3e2068b7979a2140a50e972aa813757d361ce7e)
(cherry picked from commit 6d5eaea315bb3176d3ff0262c53f87afad1fe4b7)
"
openstack%2Ftripleo-heat-templates~master~Id984375adbbe1f084fb00de7824e4b0ad0833f7c,openstack/tripleo-heat-templates,master,,Id984375adbbe1f084fb00de7824e4b0ad0833f7c,Nova: Remove unused password parameters,MERGED,2021-06-07 01:52:28.000000000,2021-07-28 15:48:36.000000000,2021-07-28 15:48:36.000000000,0,8,0,795012,86d3f64b071e0dd196943819d5f230addae60d6d,27,6,2,2,9816,Takashi Kajinami,kajinamit,"Nova: Remove unused password parameters

This change removes some password parameters in nova templates which
are not actually used in the same template files.

Trivial-Fix

Change-Id: Id984375adbbe1f084fb00de7824e4b0ad0833f7c
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic92584431e0bf38bf4ae2a2479aa7999b343ae33,openstack/tripleo-heat-templates,stable/wallaby,bug/1929264-stable/wallaby,Ic92584431e0bf38bf4ae2a2479aa7999b343ae33,libvirt: fix formatting of the log_outputs parameter,MERGED,2021-05-24 15:52:05.000000000,2021-07-28 15:48:32.000000000,2021-07-28 15:48:32.000000000,44,24,0,792764,78a19f7dcc8c73ad8151adeba8fe3a34d22f709b,11,4,1,2,9816,Takashi Kajinami,kajinamit,"libvirt: fix formatting of the log_outputs parameter

Change 3f2e063c7894151df1a40dea6cbee9265b30cdb8 updated format of
the log_outputs parameter unpexpectedly, and because of that change
libvirt no longer generate its log file by default.
This change fixes the parameter format so that libvirt records logs
as expected.

Closes-Bug: #1929264
Change-Id: Ic92584431e0bf38bf4ae2a2479aa7999b343ae33
(cherry picked from commit 65ddeed5f436a7062f2ff419792b120de2675b74)
"
openstack%2Ftripleo-heat-templates~master~I59dc05ec26703bf92121a46a5ac0b3786d5e0a18,openstack/tripleo-heat-templates,master,bug/1877189,I59dc05ec26703bf92121a46a5ac0b3786d5e0a18,Enable archive task_log records while archiving the database,MERGED,2021-07-23 07:09:28.000000000,2021-07-28 15:48:27.000000000,2021-07-28 15:48:27.000000000,12,0,4,801939,ac5b3829b0b32daccc94ab4b0bd0cb55af26737f,35,8,3,2,17216,Martin Schuppert,mcschupp,"Enable archive task_log records while archiving the database

Adds new NovaCronArchiveDeleteRowsTaskLog parameter which controls to
also archive task_log records while archiving the database. Defaults to
true.

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/801924
Change-Id: I59dc05ec26703bf92121a46a5ac0b3786d5e0a18
Related-Bug: #1877189
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I65c1ef66833109d10882981f4a4f5852ee31acf0,openstack/tripleo-heat-templates,stable/wallaby,,I65c1ef66833109d10882981f4a4f5852ee31acf0,Remove leftover of hieradata cleanup,MERGED,2021-07-26 06:42:21.000000000,2021-07-28 15:48:20.000000000,2021-07-28 15:48:20.000000000,0,3,0,802205,fbf603863b18ae4f301c3926923cc77db1930459,11,4,1,1,9816,Takashi Kajinami,kajinamit,"Remove leftover of hieradata cleanup

The commit e2680bbf7eba8b40424083900d21ec285754c86f removed usage
of CephManilaClientKey in manila-backend-cephfs.yaml but it didn't
remove comments about the parameter.

Change-Id: I65c1ef66833109d10882981f4a4f5852ee31acf0
(cherry picked from commit 726ccc1bdcfec31247f1f211525f7e22992876c3)
"
openstack%2Ftripleo-heat-templates~master~Id44fa2354429b944fbc0809f63db558bb7de23f7,openstack/tripleo-heat-templates,master,yaml.safe_load,Id44fa2354429b944fbc0809f63db558bb7de23f7,Use yaml.safe_load to load YAML files,MERGED,2021-07-22 13:08:57.000000000,2021-07-28 15:48:14.000000000,2021-07-28 15:48:14.000000000,22,19,3,801850,53040573abca10c9eefdad7688a56610c67ed645,18,4,3,2,9816,Takashi Kajinami,kajinamit,"Use yaml.safe_load to load YAML files

Since PyYAML 5.1, yaml.load without specifying the Loader option is
deprecated and shows the following warning.

YAMLLoadWarning: calling yaml.load() without Loader=... is deprecated,
as the default Loader is unsafe.
Please read https://msg.pyyaml.org/load for full details.

This change replaces yaml.load by yaml.safe_load (which is effectively
same as adding Loader=yaml.SafeLoader) to get rid of that warning
message. Also, existing all usage of yaml.load with the Loader option
are also replaced so that we to make all implementation to load yaml
files consistent.

Change-Id: Id44fa2354429b944fbc0809f63db558bb7de23f7
"
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Iced0d69556f61e6facfb1462de3ad241b5dfcfcb,openstack/puppet-tripleo,stable/wallaby,db-stable/wallaby,Iced0d69556f61e6facfb1462de3ad241b5dfcfcb,Do not include client classes,MERGED,2021-07-10 13:13:01.000000000,2021-07-28 15:48:10.000000000,2021-07-28 15:48:10.000000000,0,18,0,800186,e78135bdf2050b230516cabf3ff10483fee225b1,16,3,1,8,9816,Takashi Kajinami,kajinamit,"Do not include client classes

The client classes are used to install client packages like aodhclient,
but there is no need to install these client packages when installing
services. In addition, package installation is no longer enabled since
services are containerized, so these classes are no longer effective.

Change-Id: Iced0d69556f61e6facfb1462de3ad241b5dfcfcb
(cherry picked from commit 5b0437919d1059dc616edacc901d585e5a49b10a)
"
openstack%2Fhorizon~master~I80d11cbdd42224456ee3a354ebad556a318ba03a,openstack/horizon,master,prg_domains_master,I80d11cbdd42224456ee3a354ebad556a318ba03a,Add POST/Redirect/GET for Domains dashboard,MERGED,2021-07-26 15:50:58.000000000,2021-07-28 15:47:33.000000000,2021-07-28 15:45:45.000000000,12,2,2,802328,c80d7e32ef43608eb50e47cc2b5cc6a8b49ba4fe,10,3,2,2,27838,Vadym Markov,vmarkov,"Add POST/Redirect/GET for Domains dashboard

Currently, ""Set Domain Context"" and ""Clear Domain Context"" doesn't do
PRG, so page reload after these actions produce browser popup about form
re-submission. Proposed patch fixes it

Change-Id: I80d11cbdd42224456ee3a354ebad556a318ba03a
"
openstack%2Fkolla-ansible~master~I064f248177b0054a0a360a7f9ab00bc30eb5b17b,openstack/kolla-ansible,master,fix_manila_ceph,I064f248177b0054a0a360a7f9ab00bc30eb5b17b,Fix Manila deploy when non-default name used,ABANDONED,2021-07-28 13:05:54.000000000,2021-07-28 15:42:30.000000000,,8,2,0,802702,73b262d8b694f2f8d065855d595a43a4cc1b17a2,5,1,2,2,33694,Skylar Tristan Kelty,skylarkelty,"Fix Manila deploy when non-default name used

Fixes Manila configure step to use variables instead
of hardcoded defaults for ceph username/keyring.

Closes-Bug: #1938285
Change-Id: I064f248177b0054a0a360a7f9ab00bc30eb5b17b
"
openstack%2Freleases~master~Ied1c09bf9f6d22d9de7728ad4dfdff89e73f9ae0,openstack/releases,master,,Ied1c09bf9f6d22d9de7728ad4dfdff89e73f9ae0,Make stable/ussuri release for TripleO repos,MERGED,2021-07-23 15:29:55.000000000,2021-07-28 15:39:21.000000000,2021-07-28 15:39:21.000000000,28,0,1,802043,0d031ba3a18edd88f7b0eb333c145940900c0d76,14,5,1,7,8449,Marios Andreou,marios,"Make stable/ussuri release for TripleO repos

Related puppet-tripleo metadata bump in depends-on is required
before validation will pass here as we are tagging that commit.
Some of these would warrant a bump to .feature rather than .patch
however we are locked to .patch on some of these for ussuri because
of an error made in an earlier (victoria) release.

Depends-On: Ia4aa0c87c1594f8e53c24a86d874998c561af931
Change-Id: Ied1c09bf9f6d22d9de7728ad4dfdff89e73f9ae0
"
openstack%2Fopenstack-tempest-skiplist~master~I67359daf9731bb1dcd2bbfb6c3d513ab771d801b,openstack/openstack-tempest-skiplist,master,bug1934879-tripleo-component,I67359daf9731bb1dcd2bbfb6c3d513ab771d801b,Add back tripleo component tests in skip,MERGED,2021-07-28 14:52:21.000000000,2021-07-28 15:10:40.000000000,2021-07-28 15:09:19.000000000,17,0,0,802733,cda261ed3271aaabe351145bd808f0d782a66350,7,2,1,1,9976,Ronelle Landy,rlandy,"Add back tripleo component tests in skip

In order to get the tripleo component in
train, ussuri, victoria to promote, we need to skip
this test.

Will undo the skip when the promotion cycle is
completed.

Change-Id: I67359daf9731bb1dcd2bbfb6c3d513ab771d801b
Related-Bug: #1934879
"
openstack%2Fopenstack-helm-infra~master~I36ef7b2cdcf747ed2503ca5d27bc7803349f287d,openstack/openstack-helm-infra,master,,I36ef7b2cdcf747ed2503ca5d27bc7803349f287d,Helm-Toolkit: Make Rabbit-init job more robust,MERGED,2021-07-08 18:38:57.000000000,2021-07-28 15:05:48.000000000,2021-07-28 15:04:16.000000000,3,2,0,800097,adab36be22ae1607850240d04cc0eeea366d8be1,24,7,5,3,30495,Nafiz Haider,nafh27,"Helm-Toolkit: Make Rabbit-init job more robust

Change-Id: I36ef7b2cdcf747ed2503ca5d27bc7803349f287d
"
openstack%2Fkayobe~master~I202e1d2ec54e8ebcddefab668f8e2486f1bb1aa6,openstack/kayobe,master,,I202e1d2ec54e8ebcddefab668f8e2486f1bb1aa6,Fix capitalisation of Ansible task name,MERGED,2021-07-26 09:08:32.000000000,2021-07-28 14:43:24.000000000,2021-07-28 14:38:36.000000000,1,1,0,802242,5815f0ba3a92d8971056b01e7e3a42c66e42ead9,15,3,2,1,15197,Pierre Riteau,priteau,"Fix capitalisation of Ansible task name

Change-Id: I202e1d2ec54e8ebcddefab668f8e2486f1bb1aa6
"
openstack%2Fkayobe~master~Iddb699aa98ddee8446d532ce4bd23ba9174fb38e,openstack/kayobe,master,dib-disable-kernel-cleanup,Iddb699aa98ddee8446d532ce4bd23ba9174fb38e,Remove stale DIB_DISABLE_KERNEL_CLEANUP references,MERGED,2021-07-07 15:30:05.000000000,2021-07-28 14:41:28.000000000,2021-07-28 14:38:35.000000000,2,3,0,799853,d4bbdada8209d3e1872c2beca9aee6fe62850ece,16,3,2,2,15197,Pierre Riteau,priteau,"Remove stale DIB_DISABLE_KERNEL_CLEANUP references

Documentation about DIB_DISABLE_KERNEL_CLEANUP was left in place after
the variable was removed in Ie25e88bb96f186399ae69837e93185127628ce86.

Backport: wallaby, victoria, ussuri

Change-Id: Iddb699aa98ddee8446d532ce4bd23ba9174fb38e
"
openstack%2Fneutron~master~I8572906cc435feda1f82263fd94dda47fc1526e1,openstack/neutron,master,bug/1926273,I8572906cc435feda1f82263fd94dda47fc1526e1,Sanitize MAC addresses,MERGED,2021-05-05 13:30:35.000000000,2021-07-28 14:29:11.000000000,2021-07-28 14:27:03.000000000,124,5,27,789831,827cca2ed75b159c3a1a2e5f193150fe32491b1b,148,8,10,7,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Sanitize MAC addresses

This patch sanitizes the MAC address coming from a user input:
- The ""base_mac"" address configuration parameter.
- The ""port.mac_address"" stored in the database, if the script
  provided is not executed.

This patch relays on [1], that will sanitize any input coming from
the server API.

This patch adds a new script to sanitize all ""port.mac_address""
registers stored in the dabatabase.

[1]https://review.opendev.org/c/openstack/neutron-lib/+/788300

Related-Bug: #1926273

Change-Id: I8572906cc435feda1f82263fd94dda47fc1526e1
"
openstack%2Fvalidations-libs~master~I09a8273624e5dbd4e8f88d55ab4340235b996e01,openstack/validations-libs,master,attr-group,I09a8273624e5dbd4e8f88d55ab4340235b996e01,DNM Group handling refactor,ABANDONED,2021-07-12 10:00:33.000000000,2021-07-28 14:20:10.000000000,,21,22,2,800443,f31bb82912aa2b8bc08a51199b64fa0a0b1e16bc,9,1,6,5,32926,Jiri Podivin,jpodivin,"DNM Group handling refactor

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I09a8273624e5dbd4e8f88d55ab4340235b996e01
"
openstack%2Fansible-collections-openstack~master~I791478464ed59933273bb0e5f88f3636074c6729,openstack/ansible-collections-openstack,master,rel,I791478464ed59933273bb0e5f88f3636074c6729,Add automatic release job triggered by tag,MERGED,2021-07-26 18:11:33.000000000,2021-07-28 14:16:57.000000000,2021-07-28 14:16:57.000000000,112,0,1,802379,5ef192f1f27d2e369fc1edae5e0867c447636810,24,5,10,3,10969,Shnaidman Sagi (Sergey),sergsh,"Add automatic release job triggered by tag

Currently put it in pre-release pipeline to test that it's ok.

Change-Id: I791478464ed59933273bb0e5f88f3636074c6729
"
openstack%2Fos-vif~stable%2Ftrain~I6d4a52369eda020a997a2d5521af011725f73c72,openstack/os-vif,stable/train,drop-lc,I6d4a52369eda020a997a2d5521af011725f73c72,[Stable Only] Drop lower constraints testing,NEW,2021-06-02 12:41:20.000000000,2021-07-28 14:13:17.000000000,,0,104,0,794211,a66d7408dea01141d3ab4d38f2b6cd4a72991f48,7,5,1,3,15334,Stephen Finucane,sfinucan,"[Stable Only] Drop lower constraints testing

This is broken with the resolver introduced in pip 20.3. It likely never
worked as expected. There is limited/no value in resolving these issues
now, so simply drop the job.

Change-Id: I6d4a52369eda020a997a2d5521af011725f73c72
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fopenstack-tempest-skiplist~master~Ib20cfd8e957b35b3e59934957075102994ead1f5,openstack/openstack-tempest-skiplist,master,801584,Ib20cfd8e957b35b3e59934957075102994ead1f5,"Revert ""Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps""",MERGED,2021-07-21 15:15:40.000000000,2021-07-28 14:12:13.000000000,2021-07-28 14:10:48.000000000,0,18,0,801584,7708b5bc50865d742af0cfd1e7e9f060ed25929c,27,9,6,1,25402,Francesco Pantano,fmount,"Revert ""Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps""

This reverts commit 4868b3e1b9473c3ecb2f15859cc778d976544cbc.

Reason for revert: v4.0.19-nautilus-stable is supposed to have the fix provided by https://github.com/ceph/ceph/pull/37438

Change-Id: Ib20cfd8e957b35b3e59934957075102994ead1f5
"
openstack%2Ftempest-lib~master~Ieadf209443c359dfd46b82f7debedb19728746b9,openstack/tempest-lib,master,bug/1936667,Ieadf209443c359dfd46b82f7debedb19728746b9,Replace deprecated import of ABCs from collections,ABANDONED,2021-07-16 16:13:16.000000000,2021-07-28 14:10:48.000000000,,2,3,0,801096,605c8ce07fdabe33978f2634c5286491c929e54e,9,2,2,1,9816,Takashi Kajinami,kajinamit,"Replace deprecated import of ABCs from collections

ABCs in collections should be imported from collections.abc and direct
import from collections is deprecated since Python 3.3.

Closes-Bug: #1936667
Change-Id: Ieadf209443c359dfd46b82f7debedb19728746b9
"
openstack%2Fcharm-magnum-dashboard~stable%2F21.04~I757014454b187aeb58317fa46b3f0672835d2a9a,openstack/charm-magnum-dashboard,stable/21.04,batch-update,I757014454b187aeb58317fa46b3f0672835d2a9a,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:23:58.000000000,2021-07-28 14:04:04.000000000,2021-07-28 14:04:04.000000000,5,0,0,799291,002dcaf7f775bd0f5098ea0de508a7c242f3cd59,11,4,1,1,11805,Corey Bryant,coreycb,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I757014454b187aeb58317fa46b3f0672835d2a9a
"
openstack%2Fcharm-neutron-api-plugin-ironic~stable%2F21.04~If62d0a79bab052637b96e19a1dedda8699e4ca6c,openstack/charm-neutron-api-plugin-ironic,stable/21.04,batch-update,If62d0a79bab052637b96e19a1dedda8699e4ca6c,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:25:04.000000000,2021-07-28 14:00:19.000000000,2021-07-28 14:00:19.000000000,1,1,0,799301,7a142ebbf8a738e836f02fef575c41306dc26fb6,11,4,1,1,11805,Corey Bryant,coreycb,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: If62d0a79bab052637b96e19a1dedda8699e4ca6c
"
openstack%2Fmanila-tempest-plugin~master~Ida39026d655d34af17846cd45867c2d46141f39f,openstack/manila-tempest-plugin,master,rest_client,Ida39026d655d34af17846cd45867c2d46141f39f,Fix parsing of share group type json,MERGED,2021-07-27 22:30:12.000000000,2021-07-28 13:51:30.000000000,2021-07-28 13:51:30.000000000,1,1,0,802632,da415b4f1c3107ca05245ed9abd53a3ab67d83e3,13,3,1,1,16643,Goutham Pacha Ravi,gouthamr,"Fix parsing of share group type json

When using the shares client, since
86f2432476ba9128bb2c26a78ae3b3f53327d4bd,
JSON objects from the response body are extracted in-place
rather than in the client methods. We didn't catch this issue
when merging [1] because these tests are skipped in the jobs
running against manila-tempest-plugin:

manila_tempest_tests.tests.api.admin.test_share_groups.ShareGroupsTest.test_default_share_group_type_applied_1_2_31 ... SKIPPED: Only if defaults are defined.
manila_tempest_tests.tests.api.admin.test_share_groups.ShareGroupsTest.test_default_share_group_type_applied_2_2_55 ... SKIPPED: Only if defaults are defined.
manila_tempest_tests.tests.api.admin.test_share_groups.ShareGroupsTest.test_default_share_group_type_applied_3_2_61 ... SKIPPED: Only if defaults are defined.

However, default share and group types are defined in the
grenade job and these tests are currently failing.

Change-Id: Ida39026d655d34af17846cd45867c2d46141f39f
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fcastellan~master~Ic01b44f168a5d199fc0b7119adc3d0bf52d027e0,openstack/castellan,master,oftc,Ic01b44f168a5d199fc0b7119adc3d0bf52d027e0,Moving IRC network reference to OFTC,MERGED,2021-07-08 00:33:39.000000000,2021-07-28 13:49:01.000000000,2021-07-28 13:47:36.000000000,4,4,0,799930,4eb212b826d1befd179d9321e1ebc88a0c55c3b7,8,4,1,1,8556,Ghanshyam,ghanshyam,"Moving IRC network reference to OFTC

Change-Id: Ic01b44f168a5d199fc0b7119adc3d0bf52d027e0
"
openstack%2Fopenstack-doc-tools~master~Ibdc5baf8980586e74c3b299a6ba411ecbe24ece5,openstack/openstack-doc-tools,master,oftc,Ibdc5baf8980586e74c3b299a6ba411ecbe24ece5,Moving IRC network reference to OFTC,NEW,2021-07-08 13:22:30.000000000,2021-07-28 13:41:20.000000000,,1,1,0,800048,c1a18117e8064a3c0150b68d39c422399bc00eda,5,5,1,1,8556,Ghanshyam,ghanshyam,"Moving IRC network reference to OFTC

Change-Id: Ibdc5baf8980586e74c3b299a6ba411ecbe24ece5
"
openstack%2Fcharm-neutron-api~master~I75fdd192144138fa5bf09c278d5507ca8c5366d1,openstack/charm-neutron-api,master,bug/1934129,I75fdd192144138fa5bf09c278d5507ca8c5366d1,Fixes disabling fwaas,MERGED,2021-07-20 16:22:45.000000000,2021-07-28 13:24:50.000000000,2021-07-28 13:24:50.000000000,85,9,0,801513,2e0896c737eb09d6e8a89da02f5e4043d81c9c48,21,4,2,2,6737,Edward Hope-Morley,hopem,"Fixes disabling fwaas

Commit 00e7c8b added support for disabling fwaas but
forgot to remove the firewall plugin from service_plugins
once the fwaas package has been removed. This patch fixes
that.

Change-Id: I75fdd192144138fa5bf09c278d5507ca8c5366d1
Closes-Bug: #1934129
"
openstack%2Fpython-senlinclient~master~Id23e743d1db30a0549d06081e87249a0dbd326a2,openstack/python-senlinclient,master,cluster_update_config,Id23e743d1db30a0549d06081e87249a0dbd326a2,Fix config and metadata in cluster update,MERGED,2020-11-17 19:51:42.000000000,2021-07-28 13:18:15.000000000,2021-07-28 13:16:51.000000000,7,2,0,763079,59ccfb17ba2c86af6bad4eb61e2604523ec65b68,13,4,1,1,27224,Duc Truong,dtruong2,"Fix config and metadata in cluster update

The config or metadata in cluster update should only be sent if the
values is not None.  Sending empty dictionary will override any existing
config or metadata setting.

Change-Id: Id23e743d1db30a0549d06081e87249a0dbd326a2
"
openstack%2Fpython-senlinclient~master~I8e5688e2a1ecc5fde96b059150cad6d9221fcd36,openstack/python-senlinclient,master,,I8e5688e2a1ecc5fde96b059150cad6d9221fcd36,trivial: Drop references to os-testr,MERGED,2020-07-17 16:51:39.000000000,2021-07-28 13:13:55.000000000,2021-07-28 13:12:29.000000000,2,3,0,741678,7afd6c7e3f18d3e1588860f09d69220176df7efb,22,6,3,2,30356,gugug,gujin,"trivial: Drop references to os-testr

os-testr is dead. Long live stestr.

Change-Id: I8e5688e2a1ecc5fde96b059150cad6d9221fcd36
"
openstack%2Fpython-senlinclient~master~I9fd924030a0a5dd4852fa8cfd0ca807038090304,openstack/python-senlinclient,master,,I9fd924030a0a5dd4852fa8cfd0ca807038090304,Update TOX_CONSTRAINTS_FILE,MERGED,2020-11-19 09:47:28.000000000,2021-07-28 13:11:49.000000000,2021-07-28 13:09:37.000000000,3,3,0,763330,22122575f71e3cde6d0f6eab8d19797de08dcddf,13,4,1,1,32291,wushiming,wushiming,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I9fd924030a0a5dd4852fa8cfd0ca807038090304
"
openstack%2Fpython-senlinclient~master~I5663ca7286c55da4491644f979d5ab44f0cfc915,openstack/python-senlinclient,master,wait,I5663ca7286c55da4491644f979d5ab44f0cfc915,Adds --wait argument for cluster CLI interactions,MERGED,2020-11-13 22:12:08.000000000,2021-07-28 13:10:14.000000000,2021-07-28 13:08:51.000000000,760,16,0,762717,901bf963c601898b8257a211ea5613025d927e53,15,5,1,5,27224,Duc Truong,dtruong2,"Adds --wait argument for cluster CLI interactions

Add option to wait for CLI command to complete for the following cluster
commands: create, update, delete, resize, scale in, scale out, policy
attach, policy detach, node add, node delete, node replace, cluster
check, recover and cluster operation.

Change-Id: I5663ca7286c55da4491644f979d5ab44f0cfc915
"
openstack%2Fkolla~stable%2Fwallaby~I4ce8244a3fb034493a75f4096de2640e11b48931,openstack/kolla,stable/wallaby,bug/1931867-stable/wallaby,I4ce8244a3fb034493a75f4096de2640e11b48931,Fix missing templating block for kolla-toolbox.,MERGED,2021-07-27 07:59:50.000000000,2021-07-28 12:45:07.000000000,2021-07-28 12:43:38.000000000,7,0,0,802352,52a43b781c38e008d84fbc52198a5d6272e97b4f,9,3,1,2,14826,Mark Goddard,mgoddard,"Fix missing templating block for kolla-toolbox.

Change-Id: I4ce8244a3fb034493a75f4096de2640e11b48931
Closes-Bug: #1931867
(cherry picked from commit fb218ff9bf3803188991ae0f1a8f66ffa5176872)
"
openstack%2Fkolla~stable%2Fvictoria~I4ce8244a3fb034493a75f4096de2640e11b48931,openstack/kolla,stable/victoria,bug/1931867-stable/victoria,I4ce8244a3fb034493a75f4096de2640e11b48931,Fix missing templating block for kolla-toolbox.,MERGED,2021-07-27 07:59:59.000000000,2021-07-28 12:27:31.000000000,2021-07-28 12:26:07.000000000,7,0,0,802353,be0373c92859070b24665b5d4146c87bec9ccee5,9,3,1,2,14826,Mark Goddard,mgoddard,"Fix missing templating block for kolla-toolbox.

Change-Id: I4ce8244a3fb034493a75f4096de2640e11b48931
Closes-Bug: #1931867
(cherry picked from commit fb218ff9bf3803188991ae0f1a8f66ffa5176872)
"
openstack%2Fkolla~stable%2Fussuri~I4ce8244a3fb034493a75f4096de2640e11b48931,openstack/kolla,stable/ussuri,bug/1931867-stable/ussuri,I4ce8244a3fb034493a75f4096de2640e11b48931,Fix missing templating block for kolla-toolbox.,MERGED,2021-07-27 08:00:11.000000000,2021-07-28 12:27:19.000000000,2021-07-28 12:25:46.000000000,7,0,0,802354,09cecc92ecf74527b79b5aab660d059711396802,11,3,1,2,14826,Mark Goddard,mgoddard,"Fix missing templating block for kolla-toolbox.

Change-Id: I4ce8244a3fb034493a75f4096de2640e11b48931
Closes-Bug: #1931867
(cherry picked from commit fb218ff9bf3803188991ae0f1a8f66ffa5176872)
"
openstack%2Ftripleo-heat-templates~master~I62f73fccb3122e173874e7ea9c27a87c30c21a64,openstack/tripleo-heat-templates,master,bug/1934879,I62f73fccb3122e173874e7ea9c27a87c30c21a64,DO-NOT-MERGE Test manila_tempest_tests,ABANDONED,2021-07-27 20:54:51.000000000,2021-07-28 11:34:58.000000000,,1,0,0,802618,441ad5c85f1a174027d9312e5f2d355ecbfee69d,4,2,1,1,18002,John Fulton,fultonj,"DO-NOT-MERGE Test manila_tempest_tests

Change-Id: I62f73fccb3122e173874e7ea9c27a87c30c21a64
Related-Bug: #1934879
Depends-On: I20f8ce51c6bb59207ef82bd7786bc788c9fd313f
"
openstack%2Fkolla-ansible~master~I3ba5a7ccc2c810fea12bc48584c064738e5aa35e,openstack/kolla-ansible,master,octavia-docs,I3ba5a7ccc2c810fea12bc48584c064738e5aa35e,Fix variable names in Octavia documentation,MERGED,2021-07-21 13:43:27.000000000,2021-07-28 11:24:22.000000000,2021-07-28 11:22:55.000000000,5,5,0,801624,5e85fe2a0783586438fe163a498e42eeba6e80fa,8,3,1,1,15197,Pierre Riteau,priteau,"Fix variable names in Octavia documentation

The variable octavia_amphora_flavor should be octavia_amp_flavor.

The variable for customising network and subnet was only mentioned in
the example.

Change-Id: I3ba5a7ccc2c810fea12bc48584c064738e5aa35e
"
openstack%2Fkolla~stable%2Fvictoria~I0bb8b2429906e698858f6b699e4c4d8bacc2dd74,openstack/kolla,stable/victoria,bug/1934763-stable/victoria,I0bb8b2429906e698858f6b699e4c4d8bacc2dd74,Fix prometheus-elasticsearch-exporter container.,MERGED,2021-07-26 08:40:01.000000000,2021-07-28 10:59:23.000000000,2021-07-28 10:58:08.000000000,1,1,0,802207,cbc404a7265402355d1ae754aecac6fae0201013,20,4,2,1,14826,Mark Goddard,mgoddard,"Fix prometheus-elasticsearch-exporter container.

* Replace current URL with the proper target.

Change-Id: I0bb8b2429906e698858f6b699e4c4d8bacc2dd74
Closes-Bug: #1934763
(cherry picked from commit 1f8ac21622295fa9f858aaf7308160a92fe69240)
"
openstack%2Fkolla-ansible~master~I9bbdd457feb7ae491be3cc7d44871b3c19ccc624,openstack/kolla-ansible,master,,I9bbdd457feb7ae491be3cc7d44871b3c19ccc624,DNM: test barbican logging,ABANDONED,2021-07-28 08:37:34.000000000,2021-07-28 10:47:10.000000000,,1,54,0,802668,25a26a66127752eebf870de2396f702da1406827,3,1,1,2,14826,Mark Goddard,mgoddard,"DNM: test barbican logging

Change-Id: I9bbdd457feb7ae491be3cc7d44871b3c19ccc624
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802492
"
openstack%2Fcharm-neutron-api~master~I09ec4bef59ea95f833093220e41ddd728daa347b,openstack/charm-neutron-api,master,fix-tox-pip-resolutionimpossible,I09ec4bef59ea95f833093220e41ddd728daa347b,Sync release-tools,MERGED,2021-07-22 12:57:36.000000000,2021-07-28 10:33:58.000000000,2021-07-28 10:33:58.000000000,4,10,0,801820,b189536ff977a1a038050c3b875747f940f4526e,8,4,1,3,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I09ec4bef59ea95f833093220e41ddd728daa347b
"
openstack%2Fcharm-magnum~master~I015bc4d424407b9f9ca831181a6cdf398b91fc4d,openstack/charm-magnum,master,fix-tox-pip-resolutionimpossible,I015bc4d424407b9f9ca831181a6cdf398b91fc4d,Sync release-tools,MERGED,2021-07-22 12:56:01.000000000,2021-07-28 10:31:42.000000000,2021-07-28 10:31:42.000000000,10,15,0,801809,a4208dc0b5ca18db75f3cdbc03971fa7cf09d070,8,3,1,4,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I015bc4d424407b9f9ca831181a6cdf398b91fc4d
"
openstack%2Fcharm-pacemaker-remote~master~Id4617895852b37f94ca3d73a09377bc417b3f36d,openstack/charm-pacemaker-remote,master,fix-tox-pip-resolutionimpossible,Id4617895852b37f94ca3d73a09377bc417b3f36d,Sync release-tools,MERGED,2021-07-22 13:00:21.000000000,2021-07-28 10:30:01.000000000,2021-07-28 10:30:01.000000000,10,15,0,801837,bcf02d6df69ccf76cb6fddecdd9062021dd59329,8,4,1,4,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: Id4617895852b37f94ca3d73a09377bc417b3f36d
"
openstack%2Fcharm-mysql-innodb-cluster~master~I53b992be341ade322b2e98cf3ee3e9dacc0d4dec,openstack/charm-mysql-innodb-cluster,master,fix-tox-pip-resolutionimpossible,I53b992be341ade322b2e98cf3ee3e9dacc0d4dec,Sync release-tools,MERGED,2021-07-22 12:57:16.000000000,2021-07-28 10:29:59.000000000,2021-07-28 10:29:59.000000000,10,15,0,801818,3da70783fb8bbf8c5c99ef217465ce0e7c910ec1,8,4,1,4,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I53b992be341ade322b2e98cf3ee3e9dacc0d4dec
"
openstack%2Fcharm-trilio-wlm~master~Id3460f7774b37315a96598e09fa68a37def6ffd6,openstack/charm-trilio-wlm,master,fix-tox-pip-resolutionimpossible,Id3460f7774b37315a96598e09fa68a37def6ffd6,Sync release-tools,MERGED,2021-07-22 13:01:46.000000000,2021-07-28 10:29:10.000000000,2021-07-28 10:29:10.000000000,16,16,0,801846,ba40dbd88a367d2b78898bfef24912a46c3505f2,11,4,1,4,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: Id3460f7774b37315a96598e09fa68a37def6ffd6
"
openstack%2Fcharm-neutron-gateway~master~Ia525250e139ea0fd86cc0f19919a7739eda1cb09,openstack/charm-neutron-gateway,master,fix-tox-pip-resolutionimpossible,Ia525250e139ea0fd86cc0f19919a7739eda1cb09,Sync release-tools,MERGED,2021-07-22 12:58:23.000000000,2021-07-28 10:29:06.000000000,2021-07-28 10:29:06.000000000,4,10,0,801825,6a22df54a76d0d915be21221cdd74f020ce43ead,10,4,1,3,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: Ia525250e139ea0fd86cc0f19919a7739eda1cb09
"
openstack%2Fcharm-swift-storage~master~Ia16e1d4dc68783577858815c86ae0cb2ffcc9134,openstack/charm-swift-storage,master,fix-tox-pip-resolutionimpossible,Ia16e1d4dc68783577858815c86ae0cb2ffcc9134,Sync release-tools,MERGED,2021-07-22 13:01:09.000000000,2021-07-28 10:29:03.000000000,2021-07-28 10:29:03.000000000,4,40,0,801842,2adc1dcdef9ceee715dc1c0413c8f7369e4c1cb9,11,4,2,8,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Also remove unused applications from bundles for focal-ussuri+ as zaza
is now more aggressive at checking for applications that have no units
during deployment.

Change-Id: Ia16e1d4dc68783577858815c86ae0cb2ffcc9134
"
openstack%2Fcharm-swift-proxy~master~I0b30a731751960782569f4f2a443a07f3fc07d91,openstack/charm-swift-proxy,master,fix-tox-pip-resolutionimpossible,I0b30a731751960782569f4f2a443a07f3fc07d91,Sync release-tools,MERGED,2021-07-22 13:01:00.000000000,2021-07-28 10:29:02.000000000,2021-07-28 10:29:02.000000000,4,40,0,801841,cc6bac5758fe889e05763772a2f13bdb7e5cf5cb,11,4,2,8,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Also remove unused applications from bundles for focal-ussuri+ as zaza
is now more aggressive at checking for applications that have no units
during deployment.

Change-Id: I0b30a731751960782569f4f2a443a07f3fc07d91
"
openstack%2Fcharm-neutron-api-plugin-arista~master~I2d24adb251766828a21f818ddd88d0f846c7cc42,openstack/charm-neutron-api-plugin-arista,master,fix-tox-pip-resolutionimpossible,I2d24adb251766828a21f818ddd88d0f846c7cc42,Sync release-tools,MERGED,2021-07-22 12:57:46.000000000,2021-07-28 10:28:58.000000000,2021-07-28 10:28:58.000000000,10,15,0,801821,e8281c49a9ab90179d092e16a8b225918d877fbf,8,4,1,4,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I2d24adb251766828a21f818ddd88d0f846c7cc42
"
openstack%2Fcharm-ceilometer-agent~master~I3b7b6cd8e1eae24c3eb0b8308b82630138434e83,openstack/charm-ceilometer-agent,master,fix-tox-pip-resolutionimpossible,I3b7b6cd8e1eae24c3eb0b8308b82630138434e83,Sync release-tools,MERGED,2021-07-22 12:51:57.000000000,2021-07-28 10:28:11.000000000,2021-07-28 10:28:11.000000000,4,10,0,801783,e7302d9a7cbba23e90b1febbf03034b2aad28bfa,14,4,1,3,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I3b7b6cd8e1eae24c3eb0b8308b82630138434e83
"
openstack%2Fcharm-ceph-rbd-mirror~master~I3e5148aabf2dbeb71b94de9c63d0d8ada29293fc,openstack/charm-ceph-rbd-mirror,master,fix-tox-pip-resolutionimpossible,I3e5148aabf2dbeb71b94de9c63d0d8ada29293fc,Sync release-tools,MERGED,2021-07-22 12:52:54.000000000,2021-07-28 10:27:35.000000000,2021-07-28 10:27:35.000000000,10,15,0,801789,c1eac8ea68e9a109bb999dace1eddabcc24ac07c,11,4,1,4,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I3e5148aabf2dbeb71b94de9c63d0d8ada29293fc
"
openstack%2Fcharm-octavia-diskimage-retrofit~master~I38f72638073ebda2b9bb52e6f8ff49fa83d9d87c,openstack/charm-octavia-diskimage-retrofit,master,fix-tox-pip-resolutionimpossible,I38f72638073ebda2b9bb52e6f8ff49fa83d9d87c,Sync release-tools,MERGED,2021-07-22 12:59:33.000000000,2021-07-28 10:26:36.000000000,2021-07-28 10:26:36.000000000,10,15,0,801832,ada8a7cc0ff6a667d13bca05317d7ae80f5fa948,9,4,1,4,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I38f72638073ebda2b9bb52e6f8ff49fa83d9d87c
"
openstack%2Fcharm-masakari-monitors~master~I8f4470563b09a45c75b9456b6566450f081d67b1,openstack/charm-masakari-monitors,master,fix-tox-pip-resolutionimpossible,I8f4470563b09a45c75b9456b6566450f081d67b1,Sync release-tools,MERGED,2021-07-22 12:57:07.000000000,2021-07-28 10:25:14.000000000,2021-07-28 10:25:14.000000000,10,15,0,801817,3fb5e633116bef1e35999647bc0f9aa6ccc9be5e,11,4,1,4,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I8f4470563b09a45c75b9456b6566450f081d67b1
"
openstack%2Fcharm-masakari~master~I51d3df097a28b94cc2e272c61bbb65dcfb41c34b,openstack/charm-masakari,master,fix-tox-pip-resolutionimpossible,I51d3df097a28b94cc2e272c61bbb65dcfb41c34b,Sync release-tools,MERGED,2021-07-22 12:56:58.000000000,2021-07-28 10:25:12.000000000,2021-07-28 10:25:12.000000000,10,15,0,801816,b327c6cfae99e1a14b3b5a6f75727876df5d9e47,11,4,1,4,31289,Aurelien Lourot,lourot,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I51d3df097a28b94cc2e272c61bbb65dcfb41c34b
"
openstack%2Fopenstack-helm~master~I70e65465f5952764418d1e304ec06aa750de9def,openstack/openstack-helm,master,cinder-autodetect-workers,I70e65465f5952764418d1e304ec06aa750de9def,added functionality for auto detecting the worker for cinder api,ABANDONED,2021-07-23 12:04:34.000000000,2021-07-28 10:21:42.000000000,,113,6,0,802015,dbc58ef283e47d248eedc97b0d6d7494880a6d78,9,1,5,14,33130,Susanta gautam,sgautam,"added functionality for auto detecting the worker for cinder api

As of current setting, cinder api is running with workers=1 setting. This patch enables to calculate the number of workers with help of formula (cpu count / 4) if value of workers is provided ""auto"". In default the value will be 1 and can be changed. But if the value of auto is provided in workers, number of workers count for the api will be calcuated based on the node api being deployed. The idea behind this is to enable the scaling of the application in different environment with irrespective with the node type on which it is going to be deployed. As of now we can assign the workers values as per choice but to do that node resources needs to be considered. Right now, provideing ""None"" values can enable cinder api to use the availabe cpus as worker but that might be a lot for some cases like where the cpu is high and memory is small in node. This will help running the cinder api with multiple processes in single pod.

Change-Id: I70e65465f5952764418d1e304ec06aa750de9def
"
openstack%2Fopenstack-helm~master~Ia7719cd1c06f123ebd8effb24a6718ce12f65781,openstack/openstack-helm,master,heat-autodetect-workers,Ia7719cd1c06f123ebd8effb24a6718ce12f65781,Auto detect workers for heat api,ABANDONED,2021-07-26 11:17:10.000000000,2021-07-28 10:21:00.000000000,,149,10,0,802295,21cdee84f75a09862a7e2a88ea7fcab5016dfd43,8,1,3,14,33130,Susanta gautam,sgautam,"Auto detect workers for heat api

As of now heat components api are running with single process as of default values. This patch enables to calculate the numbers of the workers for the heat components based on the formula (number of cpu / 4) if the values is provided with ""auto"" in values.yaml. This patch is not to remove the default value of 1 workers but if auto is provided, the formula will be used to calculate the number of the workers. This will enable to deploy the heat component with multiple process in same pod without considering the numbers of cpu the node being deployed. This will help in the scaling the osh in similar environment with the similar helm values file.

Change-Id: Ia7719cd1c06f123ebd8effb24a6718ce12f65781
"
openstack%2Fironic~stable%2Fussuri~I20836d586edccfb8cd8fed1f3a89f1497ff96943,openstack/ironic,stable/ussuri,openstack-tox-driver-libs-stable/victoria-stable/ussuri,I20836d586edccfb8cd8fed1f3a89f1497ff96943,Use openstack-tox for ironic-tox-unit-with-driver-libs,MERGED,2021-07-27 19:02:56.000000000,2021-07-28 10:05:45.000000000,2021-07-28 10:02:01.000000000,1,1,0,802463,534e3b90b5f65e5dc879944d44448a815ff7146d,9,2,1,1,11655,Julia Kreger,jkreger,"Use openstack-tox for ironic-tox-unit-with-driver-libs

All the tox jobs are based on openstack-tox, we should convert
ironic-tox-unit-with-driver-libs too.

Change-Id: I20836d586edccfb8cd8fed1f3a89f1497ff96943
(cherry picked from commit 475af371ddaa8a6d381c6b73193fedab0c058c6c)
"
openstack%2Fironic~stable%2Fvictoria~I20836d586edccfb8cd8fed1f3a89f1497ff96943,openstack/ironic,stable/victoria,openstack-tox-driver-libs-stable/victoria,I20836d586edccfb8cd8fed1f3a89f1497ff96943,Use openstack-tox for ironic-tox-unit-with-driver-libs,MERGED,2021-07-27 19:01:43.000000000,2021-07-28 09:09:47.000000000,2021-07-28 08:41:20.000000000,1,1,0,802462,2df5dc42a830448e850955e738a63f41dc3541c5,8,2,1,1,11655,Julia Kreger,jkreger,"Use openstack-tox for ironic-tox-unit-with-driver-libs

All the tox jobs are based on openstack-tox, we should convert
ironic-tox-unit-with-driver-libs too.

Change-Id: I20836d586edccfb8cd8fed1f3a89f1497ff96943
(cherry picked from commit 475af371ddaa8a6d381c6b73193fedab0c058c6c)
"
openstack%2Fopenstack-helm~master~If92f5d038badda5d8a771894d2b27232b7f5e396,openstack/openstack-helm,master,auto-detect-worker,If92f5d038badda5d8a771894d2b27232b7f5e396,Auto detect workers number of metadata_workers and osapi_compute_workers,ABANDONED,2021-07-16 10:14:42.000000000,2021-07-28 08:56:24.000000000,,73,7,6,801043,513e7866693574259ec37ac85f2e1671849dae51,16,5,2,9,33130,Susanta gautam,sgautam,"Auto detect workers number of metadata_workers and osapi_compute_workers

Added init script that will calculate the numbers of workers count to be used
in metadata_workers and osapi_compute_workers. When value auto is provided to
these two keys, workers count will be calculated by script. Workers count is
value return by nproc(cpu_count) divided by 4. Other int value can be provided
if workers count is not needed to calculated automatically.

Change-Id: If92f5d038badda5d8a771894d2b27232b7f5e396
"
openstack%2Fironic~bugfix%2F18.1~Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24,openstack/ironic,bugfix/18.1,custom-params-cleaning-bugfix/18.1,Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24,Fix regression in ramdisk deploy kernel parameters,MERGED,2021-07-27 19:19:56.000000000,2021-07-28 08:44:49.000000000,2021-07-28 08:41:22.000000000,88,4,0,802464,2584cddde41222b615e0d12f1325a51bc90da588,9,3,1,3,15519,Iury Gregory Melo Ferreira,iurygregory,"Fix regression in ramdisk deploy kernel parameters

After commit d7a5b3469cfb5c16e122451e9cd8594d7a7671a1 the custom kernel
parameters are not used in cleaning/inspection. This patch fixes it.

Change-Id: Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24
(cherry picked from commit 171474d69a8b21cac578a38b5153b3f563285e62)
"
openstack%2Fmagnum-tempest-plugin~master~Ia5d062e895d320aabbf3feb0f81b03189ea071ac,openstack/magnum-tempest-plugin,master,,Ia5d062e895d320aabbf3feb0f81b03189ea071ac,Add floating_ip_enabled option,NEW,2021-07-28 07:11:08.000000000,2021-07-28 07:51:36.000000000,,11,1,0,802660,4ade6d40065f3ec405f174df1e96944d058e309a,2,1,1,3,8064,Jake Yip,jake,"Add floating_ip_enabled option

Change-Id: Ia5d062e895d320aabbf3feb0f81b03189ea071ac
"
openstack%2Fcharm-glance-simplestreams-sync~stable%2F21.04~Ib1fc5d2eebf43d5f98bb8ee405a3799802c8b8dc,openstack/charm-glance-simplestreams-sync,stable/21.04,,Ib1fc5d2eebf43d5f98bb8ee405a3799802c8b8dc,Dynamically generate proxy settings for image syncs,MERGED,2021-07-23 16:14:32.000000000,2021-07-28 07:29:06.000000000,2021-07-28 07:29:06.000000000,381,40,3,802052,a18cca2ec0d843072c4cc732d6393110ac0124af,13,6,1,8,24824,Dmitrii Shcherbakov,dmitriis,"Dynamically generate proxy settings for image syncs

sstream-mirror-glance has several endpoints it needs to talk to:

* Image mirrors - typically, public Internet endpoints;
* Keystone - typically, a directly reachable endpoint;
* Glance - typically, a directly reachable endpoint;
* Object store (Swift) - typically, a directly reachable endpoint but
  sometimes it may be deployed externally and added to the region
  catalog in Keystone (in which case it might be accessible via a proxy
  only).

While sstream-mirror-glance does not support specifying proxy settings
for individual directions, since we know all of them based on the
Keystone catalog, a list of endpoints to add to NO_PROXY environment
variable can be generated dynamically.

The complication is that image syncs are periodically done via a cron
job so a juju-run invocation is needed to retrieve relevant proxy
settings from model-config at each invocation of the synchronization
script.

Additionally, the charm is long-lived so there may be some environments
that rely on legacy proxy settings. This change accounts for that and
acts both on juju-prefixed (new) and unprefixed (legacy) proxy settings.

Whether to use proxy settings for connections to the object store API
is controlled by a charm option which the script is made to react to.
Proxy settings are ignored for object store connections by default.

Closes-Bug: #1843486
Change-Id: Ib1fc5d2eebf43d5f98bb8ee405a3799802c8b8dc
(cherry picked from commit 009c8a7b929c9b961c9cf388c122cffe6f6ae41c)
"
openstack%2Fironic~stable%2Ftrain~I4419254c23095929e52a0fda11789f2f5167dc6b,openstack/ironic,stable/train,trainstory/2007003,I4419254c23095929e52a0fda11789f2f5167dc6b,Provide a path to set explicit ipxe bootloaders,MERGED,2021-07-21 22:50:15.000000000,2021-07-28 07:24:11.000000000,2021-07-28 04:34:04.000000000,225,43,0,801669,a5fc6cc2cba367ee941b1d810707e371083c7ebc,25,3,2,11,4571,Steve Baker,steve-stevebaker,"Provide a path to set explicit ipxe bootloaders

I did something stupid when started driving forth the split of ipxe
from the pxe interface: I didn't think about the need to actually
separate bootloaders. In part, because the use case was a mixed
Power8/Power9 and x86 cluster. Mainly because the Power hardware
does not honor or care about the bootfile name provided over DHCP.
The firmware knows how to read the PXELINUX boot file format
and the machines are able to boot from there.

Where this all goes sideways is when:
* Enabled boot interfaces are set to ipxe,pxe
* No default boot interface is set
* Node is created without a default for x86 hardware.
* Node uses ipxe boot_interface, and creates files under /httpboot
* bootfile transmitted via DHCP is pxelinux.0.

Fun right?

The simple workaround for the power user is to just define the iPXE
loader, or maybe use UEFI. But that is neither here nor there, this
is still a bug and a possible use case is GRUB2 via PXE and iPXE.
Not that would really work via ipxe, but hopefully people get the
idea.

The solution kind of seems clear, duplicate configuration and
fallback if not defined.

This is backported to stable/train as a prerequisite to backporting
https://review.opendev.org/c/openstack/puppet-ironic/+/797683

Story: #2007003
Task: #40282
Change-Id: I4419254c23095929e52a0fda11789f2f5167dc6b
(cherry picked from commit 5f7d84f483be165fde04954453e156ceefc43d28)
"
openstack%2Fironic~stable%2Ftrain~Ib4788a6a610c688483425a6253cea43ce12bf94b,openstack/ironic,stable/train,,Ib4788a6a610c688483425a6253cea43ce12bf94b,Set driver lib tox jobs to utilize openstack-tox,MERGED,2021-07-27 18:58:52.000000000,2021-07-28 07:20:36.000000000,2021-07-27 22:35:51.000000000,2,2,0,802603,0db9bc6000b1a44167df87c4b917669cc0c80d18,9,3,1,1,11655,Julia Kreger,jkreger,"Set driver lib tox jobs to utilize openstack-tox

The standard tox job is not version aware for the nodeset
which can result in the job pulling in things such as
higher python versions which are not supported.

The openstack-tox job *is* aware and apparently does the
right thing. This should correct failures with the driver-libs
test jobs.

Change-Id: Ib4788a6a610c688483425a6253cea43ce12bf94b
"
openstack%2Fcharms.ceph~master~I59c742e594042ad527e71c88404999459f0373c2,openstack/charms.ceph,master,bug/1918721,I59c742e594042ad527e71c88404999459f0373c2,Fix parsing information from ceph tree output,MERGED,2021-03-12 15:20:55.000000000,2021-07-28 07:17:30.000000000,2021-07-28 07:17:30.000000000,118,47,49,780280,5a6fbb88fd7e5bc444957c48263a1ee92bf80d2d,39,4,10,2,32363,Robert Gildein,rgildein,"Fix parsing information from ceph tree output

Add helper functions to parse information from the ceph tree and
fix creating CrushLocation object in get_osd_tree function.

Closes-Bug: #1918721
Change-Id: I59c742e594042ad527e71c88404999459f0373c2
"
openstack%2Fpython-mistralclient~master~Ic1e7a52cd6f4bd222a330a33160391b0d9438c81,openstack/python-mistralclient,master,update-min-tox,Ic1e7a52cd6f4bd222a330a33160391b0d9438c81,Changed minversion in tox to 3.18.0,NEW,2021-05-31 07:31:48.000000000,2021-07-28 05:32:04.000000000,,2,2,0,793727,237bfe778c74e01aadeb2c5eb8302d32e4f4edd6,5,3,1,1,32291,wushiming,wushiming,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ic1e7a52cd6f4bd222a330a33160391b0d9438c81
"
openstack%2Ftosca-parser~master~Ifb74a2a68bf627323ff6bfe5a8d5e0a9a222f86b,openstack/tosca-parser,master,bug/1929616,Ifb74a2a68bf627323ff6bfe5a8d5e0a9a222f86b,Fix parent types if relationships,MERGED,2021-05-25 21:52:00.000000000,2021-07-28 05:21:59.000000000,2021-07-28 05:20:50.000000000,16,5,1,793071,ca3a2a88045bfed6098975f004c22a5ee31119ec,12,4,2,2,30516,Валерия Валерьевна Швецова,versus_vv,"Fix parent types if relationships

1. Fix passing arguments when parent type is taken
2. Take parent interfaces when interfaces are taken
3. Choose custom definitions first when capability type is taken

Change-Id: Ifb74a2a68bf627323ff6bfe5a8d5e0a9a222f86b
Closes-Bug: #1929616
"
openstack%2Fglance~master~Ie67cd0ada86c03d8eac06dfa3d0730d329591628,openstack/glance,master,bp/policy-refactor,Ie67cd0ada86c03d8eac06dfa3d0730d329591628,Add api_patch() to SynchronousAPIBase,MERGED,2021-07-16 17:49:55.000000000,2021-07-28 05:17:21.000000000,2021-07-28 05:16:01.000000000,16,0,1,801119,2fef2e6c4f9fbbac795740ddfec57ba193029d03,18,2,5,1,4393,Dan Smith,danms,"Add api_patch() to SynchronousAPIBase

This makes it easier to run PATCH operations against the API from
synchronous functional tests. It also adds a status assertion to
one of the upload methods which makes it easier to determine when
an operation was denied.

Change-Id: Ie67cd0ada86c03d8eac06dfa3d0730d329591628
"
openstack%2Fopenstack-tempest-skiplist~master~I20d2442ad1bc816d7e6a5f33e3c8a7e22dc18141,openstack/openstack-tempest-skiplist,master,bug1936285,I20d2442ad1bc816d7e6a5f33e3c8a7e22dc18141,Skip failing scenario004-standalone-cinder-train test,MERGED,2021-07-27 16:36:10.000000000,2021-07-28 04:46:35.000000000,2021-07-28 04:45:21.000000000,1,0,0,802555,5c40c8238e061221a00b87efbbf24b23fc31ec61,8,4,1,1,9976,Ronelle Landy,rlandy,"Skip failing scenario004-standalone-cinder-train test

test_swift_acl_anonymous_download is failing on this
cinder component line test.

Change-Id: I20d2442ad1bc816d7e6a5f33e3c8a7e22dc18141
Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1936285
"
openstack%2Ftrove~stable%2Fvictoria~I235e2abf8c0405e143ded6fb48017d596b8b41a1,openstack/trove,stable/victoria,victoria-psql-wal,I235e2abf8c0405e143ded6fb48017d596b8b41a1,Add periodic task to remove postgres archived wal files,MERGED,2021-07-27 09:10:38.000000000,2021-07-28 04:00:17.000000000,2021-07-28 03:58:54.000000000,333,36,0,802441,3b827ef20b310a4b291ee7dd9cbb819b4779c6cd,7,2,1,16,6732,Lingxian Kong,kong,"Add periodic task to remove postgres archived wal files

* Added a periodic task for postgresql datastore to clean up the
  archived WAL files.
* Added a check when creating incremental backups for postgresql.
* A new container image ``openstacktrove/db-backup-postgresql:1.1.2``
  is uploaded to docker hub.

Story: 2009066
Task: 42871
Change-Id: I235e2abf8c0405e143ded6fb48017d596b8b41a1
(cherry-picked from commit 02971d850b57ac27a126ecb8ca4012f97ae856fd)
"
openstack%2Fmanila-tempest-plugin~master~Id61756433e562d4bf23cc0878f95ed2f26b7ebb4,openstack/manila-tempest-plugin,master,test-skips,Id61756433e562d4bf23cc0878f95ed2f26b7ebb4,Fix incorrect cephfs related test skip logic,ABANDONED,2021-07-28 02:28:26.000000000,2021-07-28 02:33:12.000000000,,5,5,0,802646,5d95a13b89e7111139a4b0ca9bd2f3bac03969ab,4,0,2,1,16643,Goutham Pacha Ravi,gouthamr,"Fix incorrect cephfs related test skip logic

A couple of access rules tests check the API version
being tested and skip if the cephx access type is
not supported by the API. cephx access type has
been supported since API version 2.13.

The test skip logic however is incorrect, and it
skips tests for all api versions less than 2.13
even when the protocol being tested isn't cephfs.

Fixing the incorrect skip logic unearths other
code bugs.

Change-Id: Id61756433e562d4bf23cc0878f95ed2f26b7ebb4
"
openstack%2Fsahara~master~I9919bdfa499c20cecc3518bfcd795f1402b09565,openstack/sahara,master,volumev2-removal,I9919bdfa499c20cecc3518bfcd795f1402b09565,Make the sahara-openstack-ansible-functional job voting again,NEW,2021-07-27 15:12:45.000000000,2021-07-28 01:18:37.000000000,,2,4,0,802536,4fd9592579337ba9327f1fdf04172c6edfc1cf2c,4,1,1,1,9816,Takashi Kajinami,kajinamit,"Make the sahara-openstack-ansible-functional job voting again

Change-Id: I9919bdfa499c20cecc3518bfcd795f1402b09565
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ic56b7f6ff74659e7da804dca9e59987d79ba5373,openstack/tripleo-upgrade,stable/train,,Ic56b7f6ff74659e7da804dca9e59987d79ba5373,Stop the upgrade script if some of the commands fail.,MERGED,2021-07-23 10:42:09.000000000,2021-07-28 00:37:40.000000000,2021-07-28 00:37:40.000000000,33,4,0,802002,579e53db37c51901b60460f01e8ecf9ad6248b71,11,6,1,2,26343,Jose Luis Franco,jfrancoa,"Stop the upgrade script if some of the commands fail.

Currently in the overcloud_system_upgrade and overcloud_upgrade_run
scripts if one of the commands fail the execution continue. This
then leads into unexpected errors, as the command previously executed
didn't succeed.

This patch checks the return code of the command and exits if it failed.

Change-Id: Ic56b7f6ff74659e7da804dca9e59987d79ba5373
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I3a54abe72a68da04c57c05a71e4eace93225f058,openstack/tripleo-validations,stable/victoria,,I3a54abe72a68da04c57c05a71e4eace93225f058,Corrected the task 'Get file_descriptors total_limit' to get the 'fs.file-max' value.,MERGED,2021-07-26 09:45:59.000000000,2021-07-28 00:01:15.000000000,2021-07-27 00:33:59.000000000,1,1,0,802248,f9dcec50cf8ce6bac82984a6b4b0a99f50932006,7,3,1,1,32926,Jiri Podivin,jpodivin,"Corrected the task 'Get file_descriptors total_limit' to get the
'fs.file-max' value.

Closes-Bug: #1934656
Change-Id: I3a54abe72a68da04c57c05a71e4eace93225f058
(cherry picked from commit e610926e80e2841fc6c7459ef295c1dec4df0eed)
"
openstack%2Fproject-config~master~I3c3cf29d1dd067b0213a2c22037449b40c016e13,openstack/project-config,master,centos-8-unpause,I3c3cf29d1dd067b0213a2c22037449b40c016e13,"Revert ""nodepool: pause centos-8-stream builds""",MERGED,2021-07-27 20:56:20.000000000,2021-07-27 23:58:07.000000000,2021-07-27 23:22:23.000000000,1,1,0,802619,f5701dbd81567b9c94108e8c3e6668b8984b5a13,9,3,1,1,7118,Ian Wienand,iwienand,"Revert ""nodepool: pause centos-8-stream builds""

This reverts commit 813542fabd0f9563283833b9d455ea070b24b79c.

The original issue with the build hanging during package extraction is
fixed in DIB 3.13.0 with

 https://review.opendev.org/c/openstack/diskimage-builder/+/799126

which is now on builders.

Change-Id: I3c3cf29d1dd067b0213a2c22037449b40c016e13
"
openstack%2Ftripleo-validations~master~Ia068957eed5e868b40c2386e3844d7a51bf61bb6,openstack/tripleo-validations,master,VALIDATION_DEVELOPMENT_WORKFLOW,Ia068957eed5e868b40c2386e3844d7a51bf61bb6,[validation_init] Add ability to create new validation w/o molecule test,MERGED,2021-07-20 20:45:02.000000000,2021-07-27 23:52:30.000000000,2021-07-27 23:51:10.000000000,166,15,0,801533,8f43cce4ee5cd06190b1d3f82d9498dbc1abbdc5,12,10,2,9,11491,Gael Chamoulaud,gchamoul,"[validation_init] Add ability to create new validation w/o molecule test

This patch adds a new variable called `validation_init_molecule` to the
`validation_init` role in order to create a new validation with or
without Molecule test.

If sets to `false` (by default `true`), the molecule directory for the
new role will be removed and no CI Job will be added into the
zuul.d/molecule.yaml file.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Ia068957eed5e868b40c2386e3844d7a51bf61bb6
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id9c141b19383505c1a95948823722822b814bde1,openstack/tripleo-heat-templates,stable/train,,Id9c141b19383505c1a95948823722822b814bde1,[train-only] Add the ability to remove leapp actors,MERGED,2021-07-22 12:35:59.000000000,2021-07-27 23:52:28.000000000,2021-07-27 23:51:13.000000000,26,0,2,801777,ba8b010d6c859dc88206ee3389c621eacbce9914,21,7,5,4,6816,Jesse Pretorius,jesse-pretorius,"[train-only] Add the ability to remove leapp actors

It may be necessary to remove specific actors from the leapp
process to unblock the upgrades. An example included in this
patch is the persistentnetnamesdisable which needs to be
removed in order to prevent requiring a reboot after renaming
the network interfaces.

In this patch we add the ability to define actors to be removed
just before running leapp. The hook is role-specific to allow
maximum flexibility.

Resolves: rhbz#1984875

Change-Id: Id9c141b19383505c1a95948823722822b814bde1
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I50b81937698098141045841aec59c04ee88f5b0f,openstack/tripleo-heat-templates,stable/victoria,,I50b81937698098141045841aec59c04ee88f5b0f,Remove all docker related tasks from upgrades,MERGED,2021-07-26 14:18:58.000000000,2021-07-27 23:51:16.000000000,2021-07-27 23:51:16.000000000,0,20,0,802214,7b12f83424822e44460b2a9909c1851451e7ffab,7,5,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Remove all docker related tasks from upgrades

Change-Id: I50b81937698098141045841aec59c04ee88f5b0f
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2,openstack/tripleo-heat-templates,stable/ussuri,add_OVNCMSOption_to_roles-stable/wallaby-stable/victoria-stable/ussuri,I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2,Add OVNCMSOptions to Controller and Networker roles,MERGED,2021-06-09 04:09:23.000000000,2021-07-27 23:51:08.000000000,2021-07-27 23:51:08.000000000,22,0,0,795453,e084314d50cc278885a19171001f2d199d98cfde,17,4,1,11,25613,Keigo Noha,knoha,"Add OVNCMSOptions to Controller and Networker roles

OVN is a default networking service for Neutron.
The default configurations for OVN were implemented but OVNCMSOptions
was missing.
This change introduces OVNCMSOptions to Controller and Networker roles.

Closes-Bug: #1928901
Change-Id: I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2
(cherry picked from commit 866645db1d558542ddda7c00409d39e9d0a0a1bd)
(cherry picked from commit e15bfa6d8ddbaa9ad9608c28f8150134fe3f48d2)
(cherry picked from commit 8c796f4f1c25ae2fd045ba54cc3e92abde6e9b85)
"
openstack%2Ftripleo-heat-templates~master~Id3356cdac42d84282014e2e22163bc0ffd825df5,openstack/tripleo-heat-templates,master,,Id3356cdac42d84282014e2e22163bc0ffd825df5,nova-compute: Adding failed_when to nova-compute stop task,MERGED,2021-06-09 00:58:20.000000000,2021-07-27 23:51:03.000000000,2021-07-27 23:51:03.000000000,4,0,2,795430,ed320d8a7d8d244fc5aa4a2147170f534e669836,14,6,2,1,27419,David Vallee Delisle,dvd,"nova-compute: Adding failed_when to nova-compute stop task

When deleting a partially deployed node, the deletion fails as well
because the nova_compute service isn't provisioned. At this point, we don't
care much if the service should be present or not, we don't want an
additonnal failure.

Change-Id: Id3356cdac42d84282014e2e22163bc0ffd825df5
"
openstack%2Ftripleo-heat-templates~master~I8b86d2786e7a0bfd43217dcbccb8bc98aade7d2e,openstack/tripleo-heat-templates,master,placement-user,I8b86d2786e7a0bfd43217dcbccb8bc98aade7d2e,Neutron: Use placement user to talk with Placement service,MERGED,2021-06-07 12:55:59.000000000,2021-07-27 23:50:59.000000000,2021-07-27 23:50:59.000000000,6,2,0,795099,a96f333fa66069394e86592a65c025cc5ce3c117,15,8,2,1,9816,Takashi Kajinami,kajinamit,"Neutron: Use placement user to talk with Placement service

Currently in TripleO deployments the corresponding service user is used
to communicate with a different service.
To follow that basic rule, neutron should use the placement user
instead of the nova user, considering the placement service is now
independent from nova.

Change-Id: I8b86d2786e7a0bfd43217dcbccb8bc98aade7d2e
"
openstack%2Ftripleo-heat-templates~master~I73978fcf2e4261d9ab2b1ceaee8bc0dd2b1ae10f,openstack/tripleo-heat-templates,master,compute-at,I73978fcf2e4261d9ab2b1ceaee8bc0dd2b1ae10f,Nova: Remove useless authtoken hieradata from computes,MERGED,2021-06-07 01:48:32.000000000,2021-07-27 23:50:55.000000000,2021-07-27 23:50:55.000000000,0,12,0,795011,fcac503da3fd293542316096a5049051d8d0839f,11,8,2,1,9816,Takashi Kajinami,kajinamit,"Nova: Remove useless authtoken hieradata from computes

The change e677aeacd706674762751f8b530ad08d6d925910 added authtoken
parameters to nova-compute because nova::metadata was added to
the compute class, but that inclusion was removed later by another
commit 287b1b6ce77fe143d781ccd1b900c3bdbe6ada87 .

Depends-on: https://review.opendev.org/762415
Change-Id: I73978fcf2e4261d9ab2b1ceaee8bc0dd2b1ae10f
"
openstack%2Fnova~master~I5291fb03d62374df1ebed8ac5b8096c5fbb6690d,openstack/nova,master,bug/1879878,I5291fb03d62374df1ebed8ac5b8096c5fbb6690d,compute: Add type hints for resize functions,NEW,2020-08-07 14:07:07.000000000,2021-07-27 23:27:33.000000000,,116,25,5,745341,92b99a616d0c0b472912768a8b1e0c4e96e77326,89,15,9,1,15334,Stephen Finucane,sfinucan,"compute: Add type hints for resize functions

This is split out of change I4760b01b695c94fa371b72216d398388cf981d28,
which is intended as a backportable fix. The only unusual thing here is
the removal of some parameters for an inner function in favour of the
'nonlocal' keyword. More information at [1].

[1] https://stackoverflow.com/a/46018922/613428

Change-Id: I5291fb03d62374df1ebed8ac5b8096c5fbb6690d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-validations~stable%2Fwallaby~I3a54abe72a68da04c57c05a71e4eace93225f058,openstack/tripleo-validations,stable/wallaby,,I3a54abe72a68da04c57c05a71e4eace93225f058,Corrected the task 'Get file_descriptors total_limit' to get the 'fs.file-max' value.,MERGED,2021-07-26 09:42:24.000000000,2021-07-27 23:24:08.000000000,2021-07-27 00:34:01.000000000,1,1,0,802247,c4f0f77f048d03b886545dc13bdddded88c11f04,7,3,1,1,32926,Jiri Podivin,jpodivin,"Corrected the task 'Get file_descriptors total_limit' to get the
'fs.file-max' value.

Closes-Bug: #1934656
Change-Id: I3a54abe72a68da04c57c05a71e4eace93225f058
(cherry picked from commit e610926e80e2841fc6c7459ef295c1dec4df0eed)
"
openstack%2Ftrove~stable%2Fwallaby~I235e2abf8c0405e143ded6fb48017d596b8b41a1,openstack/trove,stable/wallaby,wallaby-psql-wal,I235e2abf8c0405e143ded6fb48017d596b8b41a1,Add periodic task to remove postgres archived wal files,MERGED,2021-07-27 08:29:36.000000000,2021-07-27 23:04:45.000000000,2021-07-27 23:03:23.000000000,332,36,0,802435,f0315edf2a8bbd52bfa2e5d186a39fceeb79b772,7,2,1,18,6732,Lingxian Kong,kong,"Add periodic task to remove postgres archived wal files

* Added a periodic task for postgresql datastore to clean up the
  archived WAL files.
* Added a check when creating incremental backups for postgresql.
* A new container image ``openstacktrove/db-backup-postgresql:1.1.2``
  is uploaded to docker hub.

Story: 2009066
Task: 42871
Change-Id: I235e2abf8c0405e143ded6fb48017d596b8b41a1
(cherry-picked from commit 02971d850b57ac27a126ecb8ca4012f97ae856fd)
"
openstack%2Fmagnum~master~Iae4258a241f16cc0be2f8264bb5c200e77a3c890,openstack/magnum,master,bug/1938151,Iae4258a241f16cc0be2f8264bb5c200e77a3c890,DNM: Testing GLANCE_LIMIT_IMAGE_SIZE_TOTAL=5000,ABANDONED,2021-07-27 15:25:17.000000000,2021-07-27 22:42:05.000000000,,1,1,0,802542,bedd6d7f85c7c1e41d1da2bfcc8a92c1738514c2,5,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Testing GLANCE_LIMIT_IMAGE_SIZE_TOTAL=5000

Change-Id: Iae4258a241f16cc0be2f8264bb5c200e77a3c890
"
openstack%2Fnova~master~I865610c924d903cfafc049f0f2b9ab21b95a780b,openstack/nova,master,remove-custom-schedulers,I865610c924d903cfafc049f0f2b9ab21b95a780b,trivial: Remove FakeScheduler (for realz),MERGED,2021-02-02 11:28:48.000000000,2021-07-27 22:03:00.000000000,2021-07-27 22:00:00.000000000,0,9,0,773642,6d745036bc98cac674d2740dc20c2029dc201522,33,6,5,1,15334,Stephen Finucane,sfinucan,"trivial: Remove FakeScheduler (for realz)

Change I61c1a47559645c41089747cc81270848b58b68f9 purported to remove the
unnecessary 'FakeScheduler', however, deleting the actual class never
happened. Do that now.

Change-Id: I865610c924d903cfafc049f0f2b9ab21b95a780b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I5c009b2cf5d64d28c706795de06c0ea1dedf054b,openstack/nova,master,remove-custom-schedulers,I5c009b2cf5d64d28c706795de06c0ea1dedf054b,scheduler: Remove 'hosts_up',MERGED,2021-02-02 11:28:48.000000000,2021-07-27 22:01:20.000000000,2021-07-27 21:59:52.000000000,0,26,0,773641,c4b47047837361a5a1ea80479dcfc634cca59286,42,5,5,2,15334,Stephen Finucane,sfinucan,"scheduler: Remove 'hosts_up'

This hasn't had any users since we removed the 'ChanceScheduler' in
change I44f9c1cabf9fc64b1a6903236bc88f5ed8619e9e.

Change-Id: I5c009b2cf5d64d28c706795de06c0ea1dedf054b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I1d2b51f5dd2ca75eb565ca5242cfdb938868bff9,openstack/nova,master,remove-custom-schedulers,I1d2b51f5dd2ca75eb565ca5242cfdb938868bff9,scheduler: 'USES_ALLOCATION_CANDIDATES' removal cleanup,MERGED,2021-06-22 17:03:54.000000000,2021-07-27 21:26:57.000000000,2021-07-27 21:25:32.000000000,92,47,1,797513,b20753b313089fd20bec3198104bbeaece3cad41,39,4,2,4,15334,Stephen Finucane,sfinucan,"scheduler: 'USES_ALLOCATION_CANDIDATES' removal cleanup

Follow-up on change I64dc67e2bacd7a6c86153db5ae983dfb54bd40eb by
removing additional code paths that are no longer relevant following the
removal of the 'USES_ALLOCATION_CANDIDATES' option. This is kept
separate from the aforementioned change to help keep both changes
readable.

Change-Id: I1d2b51f5dd2ca75eb565ca5242cfdb938868bff9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I64dc67e2bacd7a6c86153db5ae983dfb54bd40eb,openstack/nova,master,remove-custom-schedulers,I64dc67e2bacd7a6c86153db5ae983dfb54bd40eb,scheduler: Remove 'USES_ALLOCATION_CANDIDATES',MERGED,2021-02-02 11:28:48.000000000,2021-07-27 21:22:59.000000000,2021-07-27 21:21:08.000000000,42,184,5,773640,97d25371b3cbd20eab3b13b230fb87dfee8478bf,45,5,5,8,15334,Stephen Finucane,sfinucan,"scheduler: Remove 'USES_ALLOCATION_CANDIDATES'

There is only one scheduler driver now. This variable is no longer
necessary.

We remove a couple of test that validated behavior for scheduler drivers
that didn't support allocation candidates (there are none) and update
the test for the 'nova-manage placement heal_allocations' command to
drop allocations instead of relying on them not being created.

Change-Id: I64dc67e2bacd7a6c86153db5ae983dfb54bd40eb
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fneutron~master~I4bfcac16a54b766e0dc97f58ba4048eb709fa88f,openstack/neutron,master,port_list_opt,I4bfcac16a54b766e0dc97f58ba4048eb709fa88f,Improve Port list and show,MERGED,2021-05-11 13:30:02.000000000,2021-07-27 21:12:49.000000000,2021-07-27 21:10:39.000000000,15,5,10,790691,0af8497076d58d54d996c70a30e3b5a24e45b3af,81,10,4,2,5948,Oleg Bondarev,obondarev,"Improve Port list and show

Don't eagerly load several fields which are not used in
port list and show.

Port list and show speed-up is ~10-25%.

Depends on neutron-lib change:
https://review.opendev.org/c/openstack/neutron-lib/+/788729

Change-Id: I4bfcac16a54b766e0dc97f58ba4048eb709fa88f
"
openstack%2Fmanila~master~I1b6544c06149138d59a8ffd16c30942d323a5d27,openstack/manila,master,add_flashblade_admin_docs,I1b6544c06149138d59a8ffd16c30942d323a5d27,Add Pure Storage FlashBlade to Manila Admin docs,MERGED,2021-07-20 19:56:08.000000000,2021-07-27 21:10:42.000000000,2021-07-27 21:08:56.000000000,209,0,6,801527,40ed0dd1df3fb422bf11788f59892f9f80e2e0ed,26,3,5,2,13425,Simon Dodsley,sdodsley,"Add Pure Storage FlashBlade to Manila Admin docs

Change-Id: I1b6544c06149138d59a8ffd16c30942d323a5d27
"
openstack%2Foslo.db~master~Idb3926d73ff3c11abe9c273062aca1b299b9f72e,openstack/oslo.db,master,sqlalchemy-20,Idb3926d73ff3c11abe9c273062aca1b299b9f72e,tox: Simplify test running,MERGED,2021-07-27 17:30:19.000000000,2021-07-27 20:53:34.000000000,2021-07-27 20:52:04.000000000,3,4,0,802562,f048068216c655b6babc5740fc4b5e7efcf02ab1,7,2,1,2,15334,Stephen Finucane,sfinucan,"tox: Simplify test running

We were actually running tests four times. Twice with eventlet disabled
and twice with it enabled. Correct this.

Change-Id: Idb3926d73ff3c11abe9c273062aca1b299b9f72e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I6999b9d66e12e1df7970aff6ce63e5323de6be45,openstack/nova,master,docs,I6999b9d66e12e1df7970aff6ce63e5323de6be45,docs: Add libvirt misc doc,MERGED,2021-03-18 12:30:48.000000000,2021-07-27 20:15:12.000000000,2021-07-27 18:24:31.000000000,141,109,0,781440,9dfac329594933864aceaeb3be28457afd13f6ca,18,3,2,4,15334,Stephen Finucane,sfinucan,"docs: Add libvirt misc doc

A new dumping ground for libvirt'y things that can't easily be
categorized or placed elsewhere.

Change-Id: I6999b9d66e12e1df7970aff6ce63e5323de6be45
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1843542
"
openstack%2Fopenstacksdk~master~Id76a13b41ffcf6fdaff58ddce6597dc1b1ea347b,openstack/openstacksdk,master,,Id76a13b41ffcf6fdaff58ddce6597dc1b1ea347b,Temporarily disable nodepool job,MERGED,2021-07-27 16:44:25.000000000,2021-07-27 20:12:49.000000000,2021-07-27 20:09:36.000000000,2,2,0,802556,e0372b72af8c5f471fc17e53434d7a814ca958bd,7,2,1,1,15334,Stephen Finucane,sfinucan,"Temporarily disable nodepool job

nodepool job is blocking us for quite some time with timeouts. Let us
disable it for now and rather fix issues later (on a separate branch
anyway) rather then continue waiting.

Change-Id: Id76a13b41ffcf6fdaff58ddce6597dc1b1ea347b
"
openstack%2Fnova~master~Ieec2c8f450c05a2451179e3bdba77514f2cc956e,openstack/nova,master,docs,Ieec2c8f450c05a2451179e3bdba77514f2cc956e,docs: Change formatting of hypervisor config guides,MERGED,2021-03-18 12:30:48.000000000,2021-07-27 20:08:09.000000000,2021-07-27 18:24:22.000000000,200,341,0,781439,76549775fe73d4a54643803055688b7aaed5471c,16,3,2,13,15334,Stephen Finucane,sfinucan,"docs: Change formatting of hypervisor config guides

Use the formatting established in the style guide. There's a lot of
out-of-date information in here, but that's a battle for another day.

Change-Id: Ieec2c8f450c05a2451179e3bdba77514f2cc956e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I3a3e19b1f2660dd773fd3d47332abadc0c0e5c55,openstack/nova,master,docs,I3a3e19b1f2660dd773fd3d47332abadc0c0e5c55,docs: Fold in MDS security flaw doc,MERGED,2021-03-23 11:23:53.000000000,2021-07-27 20:06:47.000000000,2021-07-27 18:24:12.000000000,130,131,0,782411,04b869370369ca1398d24d18c15f2e1b516620a8,17,3,1,6,15334,Stephen Finucane,sfinucan,"docs: Fold in MDS security flaw doc

There's no real need for this to exist as its own standalone document
now that we have a separate CPU models doc. Combine them.

Change-Id: I3a3e19b1f2660dd773fd3d47332abadc0c0e5c55
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I07e1a52916cacfe81fc0b4087997f8c7914bd8aa,openstack/networking-ovn,stable/train,,I07e1a52916cacfe81fc0b4087997f8c7914bd8aa,"DNM, testing dsvm-functional-py27",ABANDONED,2021-06-23 15:34:06.000000000,2021-07-27 19:59:24.000000000,,1,0,0,797682,24dedab34145a10043d2737cdbab7e0a935ddc96,5,1,1,1,5756,Terry Wilson,otherwiseguy,"DNM, testing dsvm-functional-py27

Change-Id: I07e1a52916cacfe81fc0b4087997f8c7914bd8aa
"
openstack%2Ftripleo-common~stable%2Ftrain~I8cbba356867145a0076c5426f4ac7642195ea357,openstack/tripleo-common,stable/train,nautilus_v4.0.19,I8cbba356867145a0076c5426f4ac7642195ea357,Bump nautilus containers to v4.0.19,MERGED,2021-07-23 10:46:31.000000000,2021-07-27 19:48:35.000000000,2021-07-27 19:47:20.000000000,4,4,0,802003,9991292e7db288ea3010bda9196b1025e6409404,21,7,2,4,25402,Francesco Pantano,fmount,"Bump nautilus containers to v4.0.19

This change solves multiple issues present with the 4.0.13 containers,
especially with RGW and the related tempest tests.
The purpose of this review is moving from v4.0.13 to v4.0.19 tag, which
has the latest released content.

Change-Id: I8cbba356867145a0076c5426f4ac7642195ea357
(cherry picked from commit e2a482053be69efa3bdc37883f44b38ef7eb95ce)
"
openstack%2Ftripleo-heat-templates~master~I3f11fc2722eaa0f6701369265d7b4d24c711f3ed,openstack/tripleo-heat-templates,master,mntr-subs-placement,I3f11fc2722eaa0f6701369265d7b4d24c711f3ed,Add missing monitoring_subscription to Placement,MERGED,2021-06-08 15:11:02.000000000,2021-07-27 19:48:14.000000000,2021-07-27 19:48:14.000000000,1,0,0,795360,a26b064bd4887da70dc0421617ead9f3ec7ee730,9,5,1,1,9816,Takashi Kajinami,kajinamit,"Add missing monitoring_subscription to Placement

The placement service resource doesn't have monitoring_subscription
defined although it has the corresponding template parameter which
is MonitoringSubscriptionPlacement. This change adds that missing
monitoring_subscription.

Change-Id: I3f11fc2722eaa0f6701369265d7b4d24c711f3ed
"
openstack%2Ftripleo-heat-templates~master~Ifffecdece7b9b37238c35a4240ea217d49a238bc,openstack/tripleo-heat-templates,master,bug/1931253,Ifffecdece7b9b37238c35a4240ea217d49a238bc,Honor the BackupAndRestoreHieraConfigFile parameter,MERGED,2021-06-08 13:13:50.000000000,2021-07-27 19:47:25.000000000,2021-07-27 19:47:25.000000000,1,0,0,795324,5b34e66a7a63a1cb99f5e85403b7aeaaf4f366cb,9,5,1,1,9816,Takashi Kajinami,kajinamit,"Honor the BackupAndRestoreHieraConfigFile parameter

The BackupAndRestoreHieraConfigFile parameter should be used to set
the tripleo_backup_and_restore_hiera_config_file var in tripleo-ansibe.
This change adds missing var definition so that that tht parameter
becomes effective.

Change-Id: Ifffecdece7b9b37238c35a4240ea217d49a238bc
Closes-Bug: #1931253
"
openstack%2Ftripleo-heat-templates~master~Ia880c84ae3ff561aecb02b75e2cc1bb1d09abb88,openstack/tripleo-heat-templates,master,keystoneless,Ia880c84ae3ff561aecb02b75e2cc1bb1d09abb88,Update puppet parameters for networking-baremetal,MERGED,2021-06-28 05:43:57.000000000,2021-07-27 19:47:22.000000000,2021-07-27 19:47:22.000000000,1,8,1,798247,af351b7834b62d20cac3755ebfa57b09a374cb4a,15,4,3,1,9816,Takashi Kajinami,kajinamit,"Update puppet parameters for networking-baremetal

This change updates auth parameters used for networking-baremetal,
following the change in networking-baremetal itself and puppet-neutron.

Depends-on: https://review.opendev.org/796359
Change-Id: Ia880c84ae3ff561aecb02b75e2cc1bb1d09abb88
"
openstack%2Fpython-manilaclient~master~Ie10393b1eeaaf9cf94165b216bdbacc14d76e7a7,openstack/python-manilaclient,master,bug/1938044,Ie10393b1eeaaf9cf94165b216bdbacc14d76e7a7,Fix PDF docs issue,MERGED,2021-07-26 20:21:56.000000000,2021-07-27 19:40:00.000000000,2021-07-27 19:38:39.000000000,3,0,0,802393,3c278d7a08ea548ef97625548af72750c299da4f,13,4,2,1,33756,Luisa,rfluisa,"Fix PDF docs issue

Add missing font for PDF generation.

Now, openstack-tox-docs will succeed with the previous missing
font having been added.

Closes-Bug: #1938044
Change-Id: Ie10393b1eeaaf9cf94165b216bdbacc14d76e7a7
"
openstack%2Ftripleo-heat-templates~master~I70df10820132fa39f38f1979855469ecf871d137,openstack/tripleo-heat-templates,master,bug/1935045,I70df10820132fa39f38f1979855469ecf871d137,Get the container ID just before using it,ABANDONED,2021-07-27 08:32:47.000000000,2021-07-27 19:15:54.000000000,,8,8,1,802436,f214bd5ffe826b7b20c64332890896de6c17fe9c,8,3,2,1,14250,Grzegorz Grasza,xek,"Get the container ID just before using it

In the original code, there are a couple of tasks executed
between getting the container ID and using it. This change
should fix an interim issue during upgrades, where the
container was stopped or not present by the time the task
copying the certificate into the container is run. I'm also
adding the --sync option, to make sure that the OCI runtime
container state is synced.

Change-Id: I70df10820132fa39f38f1979855469ecf871d137
Closes-Bug: #1935045
Resolves: rhbz#1979840
"
openstack%2Fironic~master~Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24,openstack/ironic,master,custom-params-cleaning,Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24,Fix regression in ramdisk deploy kernel parameters,MERGED,2021-07-27 08:45:56.000000000,2021-07-27 19:09:46.000000000,2021-07-27 19:07:02.000000000,88,4,0,802437,171474d69a8b21cac578a38b5153b3f563285e62,11,3,1,3,10239,Dmitry Tantsur,dtantsur,"Fix regression in ramdisk deploy kernel parameters

After commit d7a5b3469cfb5c16e122451e9cd8594d7a7671a1 the custom kernel
parameters are not used in cleaning/inspection. This patch fixes it.

Change-Id: Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24
"
openstack%2Fvalidations-libs~master~I3009337e8afadd705bbee5b89d9022c78093cdc8,openstack/validations-libs,master,validation_metadata_evolution,I3009337e8afadd705bbee5b89d9022c78093cdc8,Add CLI auto generated documentation using Cliff,MERGED,2021-07-21 13:23:24.000000000,2021-07-27 19:00:40.000000000,2021-07-27 18:57:26.000000000,58,34,7,801623,e4b5dc3ea77786dd13412d60c4d80f50aeeb2604,34,9,6,8,11491,Gael Chamoulaud,gchamoul,"Add CLI auto generated documentation using Cliff

This patch adds the Cliff Sphinx Extension support for auto documenting
the `validation` Command Line Interface. It also standardizes the
`metavar` description for all the --group, --category and --product
arguments by using <group_id>, <category_id> and <product_id>.

Moreover, it removes usage example(s) in the arguments helpers which are often
duplicated with the `metavar`.

Change-Id: I3009337e8afadd705bbee5b89d9022c78093cdc8
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
"
openstack%2Ftripleo-validations~master~I80c6b0ffb07b6311f13d7a3b83031317cd0d38de,openstack/tripleo-validations,master,validation_metadata_evolution,I80c6b0ffb07b6311f13d7a3b83031317cd0d38de,Add new metadata keys to the validation playbooks,MERGED,2021-06-16 13:22:35.000000000,2021-07-27 19:00:36.000000000,2021-07-27 18:57:29.000000000,408,4,0,796674,39a846ca6b4b5bf7e0f7c015c889f8d4a692a3f4,17,8,4,58,11491,Gael Chamoulaud,gchamoul,"Add new metadata keys to the validation playbooks

This patch adds two new metadata keys to the validation playbooks:
- categories: A list of technical tags
- products: A list of targeted products (here mainly TripleO)

This patch is also part of the Validation Metadata Evolution for the
Validations Framework.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I80c6b0ffb07b6311f13d7a3b83031317cd0d38de
"
openstack%2Fpython-tripleoclient~master~I0162a0ab86689933f5935af6ee9e343bca6e8c54,openstack/python-tripleoclient,master,,I0162a0ab86689933f5935af6ee9e343bca6e8c54,Fix get_deployment_status() for ephemeral heat,MERGED,2021-07-15 11:48:58.000000000,2021-07-27 18:59:30.000000000,2021-07-27 18:57:31.000000000,0,7,0,800925,0cde1bff4d101e9d5dc9657b1cf4f95bb89f6830,14,3,1,1,8833,Rabi Mishra,rabi,"Fix get_deployment_status() for ephemeral heat

With ephemeral heat there would be no stack, so there is no point
checking for it.

Change-Id: I0162a0ab86689933f5935af6ee9e343bca6e8c54
"
openstack%2Ftripleo-validations~master~Ia41a0e05b1074d72bfcc23b43d61f65a43758fe7,openstack/tripleo-validations,master,validation_metadata_evolution,Ia41a0e05b1074d72bfcc23b43d61f65a43758fe7,[validation_init] add new metadata keys in the playbook template,MERGED,2021-06-16 14:19:23.000000000,2021-07-27 18:59:16.000000000,2021-07-27 18:57:28.000000000,86,1,0,796682,d691f30633f4b284ab811ba95c0b5f26a45f565b,11,7,1,2,11491,Gael Chamoulaud,gchamoul,"[validation_init] add new metadata keys in the playbook template

This patch adds two new metadata keys to the playbook creation step when
initializing a new Validation:
- categories: A list of technical tags or domains
- products: A list of targeted products (here mainly TripleO)

This patch is also part of the Validation Metadata Evolution for the
Validations Framework.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Ia41a0e05b1074d72bfcc23b43d61f65a43758fe7
"
openstack%2Fvalidations-libs~master~I4297f83355bdd209d21518fbadb17d1343fd4680,openstack/validations-libs,master,validation_metadata_evolution,I4297f83355bdd209d21518fbadb17d1343fd4680,Add Categories metadata key management,MERGED,2021-07-09 14:07:09.000000000,2021-07-27 18:59:05.000000000,2021-07-27 18:57:24.000000000,425,128,11,800260,3928305329d4082406753034c8ee95faf282934d,45,8,8,13,11491,Gael Chamoulaud,gchamoul,"Add Categories metadata key management

This patch adds the management of the new `categories` metadata key in
the validation playbooks. We can now filter the validations by their
groups and/or by their categories while listing or running them.

The `list` sub command has now a new --category argument. When filtering
by groups and by categories (see the example below), the `list` sub
command will return all the validation playbooks belonging to the prep
group OR all the validation playbooks belonging to the os and/or system
categories:

$ validation list -h
$ validation list --group prep --category os,system

The `run` sub command has also its new --category argument. Note that
this new argument is mutually exclusive with the --validation and
--group arguments:

$ validation run -h
$ validation run --category networking --inventory /etc/ansible/hosts

The `show parameter` sub command has the same new argument which is also
mutually exclusive with the --validation and --group arguments:

$ validation show parameter -h
$ validation show parameter --category os,system,hardware,ram

Change-Id: I4297f83355bdd209d21518fbadb17d1343fd4680
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
"
