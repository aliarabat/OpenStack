id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fcinder~master~I5b3f0d6a637534b40cd8e3fa468a86a94605d879,openstack/cinder,master,bug/1906605,I5b3f0d6a637534b40cd8e3fa468a86a94605d879,Correct format string in error message,MERGED,2020-12-03 09:36:14.000000000,2021-03-01 03:46:48.000000000,2021-02-20 13:34:36.000000000,1,1,3,765304,203eb2cf8465ffe79fa691c2eb3070c0907359f9,105,7,2,1,32537,ZhaoYixin,zhaoyixin,"Correct format string in error message

Due to a syntax error, values are not being interpolated into a
message format string.  This patch corrects the error.

Closes-Bug: #1906605
Change-Id: I5b3f0d6a637534b40cd8e3fa468a86a94605d879
"
openstack%2Fneutron~master~I538aa6d68fbb5ff8431f82ba76601ee34c1bb181,openstack/neutron,master,dvr-remove-arp-update-through-control-plane,I538aa6d68fbb5ff8431f82ba76601ee34c1bb181,DVR: Remove control plane arp updates for DVR,MERGED,2019-04-18 23:51:43.000000000,2021-03-01 02:39:08.000000000,2020-01-29 18:33:20.000000000,0,500,1,653883,b3a42cddc5c8716091d2b403831fb406d9dfcc75,98,14,12,5,7016,Swaminathan Vasudevan,souminathan,"DVR: Remove control plane arp updates for DVR

This patch will remove all the control plane
arp updates for DVR routers. Based on the recent
patch that merged[1], DVR routers will no longer
require the control plane ARP update but will
depend on the ARP Responder for ARP updates.

[1] https://review.opendev.org/#/c/651905/

Change-Id: I538aa6d68fbb5ff8431f82ba76601ee34c1bb181
"
openstack%2Fopenstack-helm-deployments~master~If53e3014e1def66126eb297ab1f3a3b4268b90cb,openstack/openstack-helm-deployments,master,keystone,If53e3014e1def66126eb297ab1f3a3b4268b90cb,Add keystone to osh-deployments,MERGED,2020-11-12 21:55:16.000000000,2021-03-01 02:29:46.000000000,2021-03-01 02:29:46.000000000,169,1,0,762586,f889aa66c6430435c95baf3064700b49e69bacee,93,5,23,8,21420,Gage Hugo,ghugo,"Add keystone to osh-deployments

This change adds the manifests/functions for keystone to
the composite list that is deployed via openstack-helm-deployments.

Change-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb
"
openstack%2Fdiskimage-builder~master~I0016ac42003afacdc757f6003677d71c37b4e6bd,openstack/diskimage-builder,master,centos-8,I0016ac42003afacdc757f6003677d71c37b4e6bd,Remove centos-release package for Centos 8.3,ABANDONED,2020-12-21 06:18:13.000000000,2021-03-01 02:19:48.000000000,,3,1,4,768044,e6f481b241a3d8b59d059f465acfd41307ea662d,8,3,1,1,21757,Xing Zhang,angeiv,"Remove centos-release package for Centos 8.3

Error in build centos 8 images:
No package centos-release available.

With Centos 8.3, centos-repos package has been replaced by
other packages [1].

[1] https://lists.centos.org/pipermail/centos-devel/2020-September/056069.html

Change-Id: I0016ac42003afacdc757f6003677d71c37b4e6bd
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I2c23303a355c211c1d9d50238a24ef11c3f38580,openstack/openstack-ansible-lxc_hosts,master,lxc-hosts-cleanup,I2c23303a355c211c1d9d50238a24ef11c3f38580,Remove single task from lxc_apparmor file,MERGED,2021-02-17 17:06:04.000000000,2021-03-01 00:45:59.000000000,2021-03-01 00:44:50.000000000,14,30,0,776240,611e278642341fd2285756044d1d9099febe1b5d,25,3,8,2,25023,Jonathan Rosser,jrosser,"Remove single task from lxc_apparmor file

This can go in the lxc_install_apt tasks file where the previous
lxc_apparmor file was included

Change-Id: I2c23303a355c211c1d9d50238a24ef11c3f38580
"
openstack%2Fkuryr-tempest-plugin~master~I9e1c05820519ccf8547377937f9faeef966645b0,openstack/kuryr-tempest-plugin,master,fix-ports-pool,I9e1c05820519ccf8547377937f9faeef966645b0,Fix ports population test,NEW,2021-02-25 01:53:30.000000000,2021-03-01 00:18:46.000000000,,37,24,0,777492,9c3e22b5c70639491e0688d6984fd6460ffe86c8,9,2,4,1,27032,Maysa de Macedo Souza,maysa,"Fix ports population test

The test_port_pool is not properly handling the case for
when pre-population is enabled and when the ports_pool_batch
differs from 3. This commit fixes the issues by ensuring the
correct amount of Ports is created when needed.

Change-Id: I9e1c05820519ccf8547377937f9faeef966645b0
"
openstack%2Fopenstack-ansible-openstack_openrc~master~I8d1787e14f818c553f398adde554816856ef1a17,openstack/openstack-ansible-openstack_openrc,master,osa-facts,I8d1787e14f818c553f398adde554816856ef1a17,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:22:32.000000000,2021-02-28 23:27:53.000000000,2021-02-28 23:26:47.000000000,8,8,2,777070,b4f6b665b216d8e48e66c1be0f7bdcd2623a1131,13,4,2,1,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I8d1787e14f818c553f398adde554816856ef1a17
"
openstack%2Fpuppet-openstack-integration~master~I73d6ca61cd9ad1a3fd3ab79747a5c49a2d53c5b2,openstack/puppet-openstack-integration,master,bug/1915832,I73d6ca61cd9ad1a3fd3ab79747a5c49a2d53c5b2,Clean up unused logics to install tempest from source,ABANDONED,2021-02-17 13:08:59.000000000,2021-02-28 22:56:45.000000000,,5,59,0,776165,9e9bcd859d5dc6dfce0aba1900fffd6f698fd901,4,2,1,3,9816,Takashi Kajinami,kajinamit,"Clean up unused logics to install tempest from source

Change-Id: I73d6ca61cd9ad1a3fd3ab79747a5c49a2d53c5b2
"
openstack%2Fpuppet-openstack-integration~master~I46ac94b274f502a579dcbe0df3e563c02630a364,openstack/puppet-openstack-integration,master,bug/1915832,I46ac94b274f502a579dcbe0df3e563c02630a364,Ubuntu: Install tempest by packages,ABANDONED,2021-02-17 13:01:49.000000000,2021-02-28 22:56:31.000000000,,5,11,0,776164,cc72f2d8312521ff1b2f8fbd6257a18a46a3e0bb,5,3,1,1,9816,Takashi Kajinami,kajinamit,"Ubuntu: Install tempest by packages

Now Ubuntu provides packages for tempest and its plugins, thus we don't
need to install it from source.

Change-Id: I46ac94b274f502a579dcbe0df3e563c02630a364
"
openstack%2Fironic~stable%2Fvictoria~Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb,openstack/ironic,stable/victoria,gate-stable/victoria,Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb,devstack: a safeguard for disabled tempurls,MERGED,2021-02-28 16:33:59.000000000,2021-02-28 20:59:06.000000000,2021-02-28 20:57:48.000000000,1,1,0,777900,90da180a17852eab6af4b038fbd92989feccb5f8,9,2,1,1,10239,Dmitry Tantsur,dtantsur,"devstack: a safeguard for disabled tempurls

Change-Id: Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb
(cherry picked from commit 7abac806a7f889fc87120c9e2c3a61b3a35f6458)
"
openstack%2Fcinder~master~I6fad95580906434feeaf5a51e172ed7045f0e7f4,openstack/cinder,master,,I6fad95580906434feeaf5a51e172ed7045f0e7f4,Use TOX_CONSTRAINTS_FILE,MERGED,2020-12-24 06:51:50.000000000,2021-02-28 20:56:45.000000000,2021-02-19 23:16:24.000000000,2,2,0,768427,dc938a4056c76e69695d773a051f3f4b79a6cac1,58,7,2,1,30384,zhangboye,zhangboye,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I6fad95580906434feeaf5a51e172ed7045f0e7f4
"
openstack%2Fkayobe~stable%2Fvictoria~Ie5ca04428855cbaf505adc57de76ea0b2d404080,openstack/kayobe,stable/victoria,,Ie5ca04428855cbaf505adc57de76ea0b2d404080,CI: retry overcloud jobs that land on vexxhost clouds,ABANDONED,2021-02-26 07:14:03.000000000,2021-02-28 20:44:31.000000000,,18,6,0,777720,7c0de4a579bc102566a996586198c5f5da847ade,5,2,1,4,15197,Pierre Riteau,priteau,"CI: retry overcloud jobs that land on vexxhost clouds

Jobs that test baremetal deployment are currently failing when run on
Vexxhost infrastructure. The seed VM job also has trouble on Vexxhost,
although does sometimes pass. It's not clear why yet, and we are still
investigating. Until we have a solution, fail in the pre phase when we
land on vexxhost clouds, in order to trigger the zuul retry mechanism.

Also use the normal number (5) of attempts for upgrade jobs, since these
no longer deploy the previous release in the pre phase.

Note: compared to the original commit, the custom configuration for
ironic is removed since it only applies to Wallaby.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html

Change-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080
(cherry picked from commit 47bbb96b29ab30764d6220cdd43e63a1d2072533)
"
openstack%2Fpuppet-horizon~master~If89f2da5e915fef69af6667cd96f830b7b666867,openstack/puppet-horizon,master,log_handler,If89f2da5e915fef69af6667cd96f830b7b666867,Remove the deprecated horizon::log_handler parameter,MERGED,2021-02-12 06:57:04.000000000,2021-02-28 18:06:48.000000000,2021-02-28 18:05:38.000000000,18,27,0,775320,66c74785e1075318dac45f73ffc17f9ab3c60aa2,26,4,2,3,9816,Takashi Kajinami,kajinamit,"Remove the deprecated horizon::log_handler parameter

This parameter was deprecated during the previous cycle and replaced
by the new log_handlers parameter.

Change-Id: If89f2da5e915fef69af6667cd96f830b7b666867
"
openstack%2Foctavia-dashboard~master~Ia93cb7520ff9c179a27e72719f1fd10524c57acb,openstack/octavia-dashboard,master,task/41413,Ia93cb7520ff9c179a27e72719f1fd10524c57acb,Disable Load Balancers panel when Octavia service is not deployed,MERGED,2020-12-14 04:43:11.000000000,2021-02-28 17:19:01.000000000,2021-02-28 17:17:53.000000000,1,1,3,766878,9b10ff4964d125dbd59232c52ca692c5c7fe0044,35,5,6,1,9816,Takashi Kajinami,kajinamit,"Disable Load Balancers panel when Octavia service is not deployed

Currently Load Balancers panel is enabled based on 'network' service
defined in Keystone but it should refer to 'load-balancer' service
which is served by Octavia.

Story: #2008446
Task: #41413
Change-Id: Ia93cb7520ff9c179a27e72719f1fd10524c57acb
"
openstack%2Fcinder~master~I67ac3df632a34729646e7b037205327696818a22,openstack/cinder,master,mypy,I67ac3df632a34729646e7b037205327696818a22,mypy: annotate volume manager,MERGED,2020-06-04 14:26:44.000000000,2021-02-28 15:56:24.000000000,2021-02-28 15:55:00.000000000,306,149,79,733621,698ab86a74442a13713902dfb7bf0bc4ec7d628c,544,45,17,6,4523,Eric Harney,eharney,"mypy: annotate volume manager

This is just a first pass to get things
rolling.

Change-Id: I67ac3df632a34729646e7b037205327696818a22
"
openstack%2Fpuppet-horizon~master~I0508bfc19741c6bed435f11160122d422450f9ac,openstack/puppet-horizon,master,,I0508bfc19741c6bed435f11160122d422450f9ac,Specify correct tempest whitelist,MERGED,2021-02-28 07:22:57.000000000,2021-02-28 15:02:47.000000000,2021-02-28 15:02:47.000000000,1,1,0,777882,bd119e751949205b67124343db0a1e9c88f62983,7,2,1,1,8833,Rabi Mishra,rabi,"Specify correct tempest whitelist

Horizon dashboard tempest tests have been moved from
tempest-horizon plugin to Tempest.

Closes-Bug: #1917197
Change-Id: I0508bfc19741c6bed435f11160122d422450f9ac
"
openstack%2Fironic-lib~master~I0e790cebcd086d26bf27b909f73842c3f46bbd77,openstack/ironic-lib,master,json-rpc,I0e790cebcd086d26bf27b909f73842c3f46bbd77,Import json_rpc from ironic,MERGED,2021-02-06 12:36:15.000000000,2021-02-28 14:43:07.000000000,2021-02-28 14:41:57.000000000,1327,0,33,774354,22a944bd31e546350b94d451dc3386ba75fdab0e,15,3,4,7,10239,Dmitry Tantsur,dtantsur,"Import json_rpc from ironic

To be able to use the same JSON RPC implementation for ironic-inspector,
it is now imported in ironic-lib. Some additional abstraction laters are
added to avoid hard dependency on oslo.context and oslo.messaging.

Change-Id: I0e790cebcd086d26bf27b909f73842c3f46bbd77
"
openstack%2Fironic~master~Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb,openstack/ironic,master,gate,Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb,devstack: a safeguard for disabled tempurls,MERGED,2021-02-25 11:10:02.000000000,2021-02-28 14:37:37.000000000,2021-02-28 14:36:13.000000000,1,1,0,777572,7abac806a7f889fc87120c9e2c3a61b3a35f6458,17,3,1,1,10239,Dmitry Tantsur,dtantsur,"devstack: a safeguard for disabled tempurls

Change-Id: Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb
"
openstack%2Fheat~master~I034625733c2d22f0f5635f58e9df3d5785e58cf5,openstack/heat,master,change-752637-4,I034625733c2d22f0f5635f58e9df3d5785e58cf5,Allow using database configs on db retry,MERGED,2020-09-18 07:49:56.000000000,2021-02-28 13:39:47.000000000,2021-02-28 13:38:29.000000000,31,9,2,752637,8daa7e938985e0fc34f603debf3a8ba1413d8ff7,17,2,5,5,12404,Rico Lin,rico.lin,"Allow using database configs on db retry

Allow following db configs when calling wrap_db_retry:
    * database.db_max_retries
    * database.db_retry_interval
    * database.db_inc_retry_interval
    * database.db_max_retry_interval
So database cofig can now control db retries.
Please reference [1] for what each config options can do.

[1] https://opendev.org/openstack/oslo.db/src/branch/master/oslo_db/options.py

Change-Id: I034625733c2d22f0f5635f58e9df3d5785e58cf5
"
openstack%2Fopenstack-manuals~master~Id0800c9c9471a6d2fcf2bb03071abc3c7f3578cc,openstack/openstack-manuals,master,,Id0800c9c9471a6d2fcf2bb03071abc3c7f3578cc,Update site for deprecated monasca-log-api & monasca-ceilometer,MERGED,2021-02-26 18:20:20.000000000,2021-02-28 10:22:48.000000000,2021-02-28 10:02:05.000000000,2,0,0,777804,d142f6c426055ee552e0d28907b2859320ff4b16,8,3,1,1,8556,Ghanshyam,ghanshyam,"Update site for deprecated monasca-log-api & monasca-ceilometer

monasca-log-api & monasca-ceilometer are deprecated now
- https://review.opendev.org/c/openstack/governance/+/771785

Change-Id: Id0800c9c9471a6d2fcf2bb03071abc3c7f3578cc
"
openstack%2Fproject-config~master~I3ffc52e38708211f090319a63b9d794d0376223a,openstack/project-config,master,add_repo/functional-tests,I3ffc52e38708211f090319a63b9d794d0376223a,Add infrawatch/functional-tests to available repos,MERGED,2021-02-24 16:28:09.000000000,2021-02-28 10:19:22.000000000,2021-02-28 10:05:43.000000000,1,0,0,777428,fb4e6933bbecff49e86044da2508940bd9044f47,9,4,1,1,13177,Emma Foley,emma-l-foley,"Add infrawatch/functional-tests to available repos

This should allow tripleo-ansible molecule tests to complete
without cloning from github

Change-Id: I3ffc52e38708211f090319a63b9d794d0376223a
"
openstack%2Fopenstack-helm~master~Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb,openstack/openstack-helm,master,Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb,Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb,Update rbac api version for cinder,MERGED,2021-01-30 08:44:27.000000000,2021-02-28 08:37:16.000000000,2021-02-28 08:35:44.000000000,8,7,6,773234,566e1cb6698ec69efc14e881b24034eee833db22,38,8,10,5,30449,jinyuanliu,jinyuanliu,"Update rbac api version for cinder

When using a helm3 to deploy , it fails. Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.

Change-Id: Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb
"
openstack%2Frequirements~master~I1b1d5a731aa8f868e2af628f196378207c65ca37,openstack/requirements,master,openstack/requirements/constraints,I1b1d5a731aa8f868e2af628f196378207c65ca37,Updated from generate-constraints,ABANDONED,2021-02-28 06:17:29.000000000,2021-02-28 06:56:20.000000000,,4,5,0,777879,d779fce1bf66a31e379ffb3c06fc15a92ed86e73,3,0,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I1b1d5a731aa8f868e2af628f196378207c65ca37
"
openstack%2Fcinder~stable%2Fvictoria~I4383b691a8cc4aacb046332e418aafb88ba8ba56,openstack/cinder,stable/victoria,bug/1896112,I4383b691a8cc4aacb046332e418aafb88ba8ba56,NetApp SolidFire: Fix duplicate volume when API response is lost,MERGED,2020-11-26 03:44:46.000000000,2021-02-28 05:42:45.000000000,2021-02-24 21:33:12.000000000,88,8,2,764273,deb31a0c4d35ea6c479bfe466b780ed07a489276,49,7,2,3,30555,Fernando Ferraz,fernandoperches,"NetApp SolidFire: Fix duplicate volume when API response is lost

The SolidFire driver retries API requests in case a connection
error occurrs. When network is unstable, there may be the
possibility that the SolidFire backend successfully receive
and process a create volume operation, but fail to deliver the
response back to the driver.

When this scenario occurrs, the SolidFire driver automatically
resends the request, creating a second volume and leaving a
duplicate unused. Although this doesn't affect
driver functionality at first moment (the volume id from the
cluster is always correctly associated to cinder provider id),
further operations may hit the unused volume, leading to
unexpected hehavior.

This patch fixes this issue by:

1. Checking if the volume name already exists in the
backend before trying to create it. Volume creation will
raise a exception and abort in case of a volume is found.

2. Checking for volume creation right after a read timeout is
detected, preventing invalid API calls.

3. Adding option ´sf_volume_create_timeout´ to the SolidFire
driver, to allow users to set the appropriate timeout value for
their environment.

Closes-Bug: #1896112
Change-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56
(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)
"
openstack%2Fkeystone~master~I960379ceb435472cdc754b5f63243c70d552d9c3,openstack/keystone,master,models_revoke_model_e225,I960379ceb435472cdc754b5f63243c70d552d9c3,fix E225 missing whitespace around operator,MERGED,2020-11-27 12:21:45.000000000,2021-02-28 04:55:45.000000000,2021-02-28 04:53:55.000000000,1,1,0,764453,6e7369f2e4e25055121570637de31bcd23fb0cf4,15,5,1,1,18816,Maurice Escher,mapocace,"fix E225 missing whitespace around operator

Change-Id: I960379ceb435472cdc754b5f63243c70d552d9c3
"
openstack%2Fcinder~master~Ic63333e00430cf3075061e280ca05c7ad1d18c44,openstack/cinder,master,,Ic63333e00430cf3075061e280ca05c7ad1d18c44,Remove install unnecessary packages,MERGED,2020-09-23 03:39:15.000000000,2021-02-28 04:43:55.000000000,2021-02-19 22:18:30.000000000,0,1,0,753490,e1f517927841341d456ce1cf175bce638a205081,51,25,1,1,31027,MaAoyu,maaoyu,"Remove install unnecessary packages

The docs requirements migrated to doc/requirements.txt
we need not install things from requirements.txt.

Change-Id: Ic63333e00430cf3075061e280ca05c7ad1d18c44
"
openstack%2Foslo.policy~master~I7437cf00b2ba5c02926dc8c2435e237ef730f2b1,openstack/oslo.policy,master,bug/1914095,I7437cf00b2ba5c02926dc8c2435e237ef730f2b1,trivial: Tweak docstrings,MERGED,2021-02-05 12:43:07.000000000,2021-02-28 04:31:16.000000000,2021-02-28 04:30:11.000000000,77,75,0,774235,d8534850d9238e85ae0ea55bf2ac8583681fdb2b,33,7,4,1,15334,Stephen Finucane,sfinucan,"trivial: Tweak docstrings

There's no functional changes here other than moving the initializer
documentation for the 'DeprecatedRule' from the '__init__' docstring to
the class' docstring. This allows us to remove '__init__' entirely since
it was just calling the superclass.

Change-Id: I7437cf00b2ba5c02926dc8c2435e237ef730f2b1
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Foslo.policy~master~Ibcbf5292977e5264bf7eedd225cbab83e683e394,openstack/oslo.policy,master,bug/1914095,Ibcbf5292977e5264bf7eedd225cbab83e683e394,Make 'Rule' attributes read-only,MERGED,2021-02-05 12:43:07.000000000,2021-02-28 04:13:25.000000000,2021-02-28 04:12:20.000000000,112,71,2,774233,45249db86e55c8d2c30186443371d352a74b6540,31,5,4,2,15334,Stephen Finucane,sfinucan,"Make 'Rule' attributes read-only

We obviously can't do much about people accessing the private functions,
but this should avoid some obvious bugs. If people want to change the
rules, they should either state a different definition in a file or
change the definition in code.

Change-Id: Ibcbf5292977e5264bf7eedd225cbab83e683e394
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fswift~stable%2Fussuri~Icdf1f9d02d1e6ae5dc1112d2792ef6845067158b,openstack/swift,stable/ussuri,ussuri-sharding,Icdf1f9d02d1e6ae5dc1112d2792ef6845067158b,Use swiftclient Connections in sharding probe tests,MERGED,2021-02-24 03:15:09.000000000,2021-02-28 02:58:18.000000000,2021-02-28 02:56:03.000000000,7,8,0,777287,5791cec31e6935a9af691dbd181bc1657d87ce2d,12,2,1,1,597,Pete Zaitcev,zaitcev,"Use swiftclient Connections in sharding probe tests

This gets us retries ""for free"" and should reduce gate flakiness.

Cherry-Picked-From: Ia2e4c94f246230a3e25e4557b4b2c1a3a67df756
Change-Id: Icdf1f9d02d1e6ae5dc1112d2792ef6845067158b
"
openstack%2Fswift~stable%2Fussuri~I12988d2cd8e7c948f107e7df943cab8f8565c3d2,openstack/swift,stable/ussuri,ussuri-sharding,I12988d2cd8e7c948f107e7df943cab8f8565c3d2,Refactor audit shard tests,MERGED,2021-02-24 03:15:09.000000000,2021-02-28 02:57:16.000000000,2021-02-28 02:55:59.000000000,88,76,0,777286,959a98d7b18aba3e9b9812f5cf81d107a237e59e,12,3,1,1,597,Pete Zaitcev,zaitcev,"Refactor audit shard tests

The existing tests cover a lot of behaviors and carry around a lot of
state that makes them hard to extend in a descriptive mannor to cover
new or changed behaviors.

Cherry-Picked-From: Ie52932d8d4a66b11c295d5568aa3a60895b84f3b
Change-Id: I12988d2cd8e7c948f107e7df943cab8f8565c3d2
"
openstack%2Fironic~master~I52e4ee022b17cb7f007534cb368136567b139a34,openstack/ironic,master,fix-ip-version,I52e4ee022b17cb7f007534cb368136567b139a34,Add both IPv4 and IPv6 DHCP options if interface has both,MERGED,2021-02-25 22:05:48.000000000,2021-02-28 02:56:17.000000000,2021-02-28 02:54:46.000000000,85,20,4,777692,367cdcd66521a569965fc59cbce431039dbeb3ac,35,5,3,3,1004,Mohammed Naser,mnaser,"Add both IPv4 and IPv6 DHCP options if interface has both

It is possible that an interface has both IPv4 and IPv6 addresses,
primarily when using SLAAC with OpenStack Neutron.  When this is
the case, it is very likely that the first fixed IP would be a
SLAAC assigned port and the second IP is the IPv4 address.

In an environment where you are looking to boot via IPv4, no DHCPv6
infrastructure exists as IPv6 connectivity is provided via SLAAC,
you would not be able to use this network to boot off of.

This patch instead grabs all the fixed IP addresses, then inserts
the options that match the IP versions which are attached to the
interface, potentially resulting in both IPv4 and IPv6 options
being included (though the IPv6 ones would be largely omitted).

In environments where only IPv4 or IPv6 is in use on the port, it
will still only insert the options for those specific IP versions.

Story #2008660
Task #41933
Change-Id: I52e4ee022b17cb7f007534cb368136567b139a34
"
openstack%2Fironic-python-agent~stable%2Fussuri~Ib46612697851e36a16d272ccaeb0115106253863,openstack/ironic-python-agent,stable/ussuri,story_2008186-stable/ussuri,Ib46612697851e36a16d272ccaeb0115106253863,Software RAID: Get component devices by md UUID,MERGED,2021-02-27 05:20:51.000000000,2021-02-28 01:02:37.000000000,2021-02-28 01:01:29.000000000,152,20,0,777778,c23c107b3e770eb3deaafa0e6ebdfcde2722a6a4,8,3,1,3,1004,Mohammed Naser,mnaser,"Software RAID: Get component devices by md UUID

Scanning the output of mdadm commands for RAID members will
miss component devices which are currently not part of the
RAID. For proper cleaning it is better to scan block devices
for a signature of the md device for which we would like to
get the components.

Story: #2008186
Task: #40947

Change-Id: Ib46612697851e36a16d272ccaeb0115106253863
(cherry picked from commit 044c64dbc0ccf166368ae364b48289420e8674ed)
"
openstack%2Fcinder~master~If127b75aac1ea6b25ec6473913410b1a7ec217d4,openstack/cinder,master,fixed-issues-toyou-acs5000-driver,If127b75aac1ea6b25ec6473913410b1a7ec217d4,TOYOU:  Abandon the target parameter and  Report SAN driver options,MERGED,2021-02-03 07:51:31.000000000,2021-02-27 22:36:00.000000000,2021-02-23 22:40:41.000000000,82,96,5,773844,11185189ba214c68294267fbcf38c4c4d1c2b69b,89,3,2,5,32833,yangheng,yangheng,"TOYOU:  Abandon the target parameter and  Report SAN driver options

Report SAN driver options:
Added configuration options(san_ip, san_ssh_port, san_login) to report on their specific ""get_driver_options"" method.

Abandon the target parameter:
The target parameter should not be required or used. Automatic adaptation when mapping.

This patch resolves the remaining issues with the target parameter and get_driver_options method in review [1].

[1]: https://review.opendev.org/c/openstack/cinder/+/767290

Change-Id: If127b75aac1ea6b25ec6473913410b1a7ec217d4
"
openstack%2Frequirements~master~I4173b25ad03fec91b0cb76ce6b8abd5cda34da5c,openstack/requirements,master,openstack/requirements/constraints/noclob,I4173b25ad03fec91b0cb76ce6b8abd5cda34da5c,Updated from generate-constraints,MERGED,2021-02-27 06:27:06.000000000,2021-02-27 22:30:39.000000000,2021-02-27 22:29:15.000000000,10,9,0,777859,8566a9c40141afef2612496e34f13f1db052f1ba,16,2,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I4173b25ad03fec91b0cb76ce6b8abd5cda34da5c
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fcinder~master~Ibdbc1c4c215dc1aa5ea728e3ff4727ddc803bd7e,openstack/cinder,master,,Ibdbc1c4c215dc1aa5ea728e3ff4727ddc803bd7e,Tests: Add another mock psutil in quobyte tests,MERGED,2021-01-28 16:10:23.000000000,2021-02-27 22:25:47.000000000,2021-02-19 22:17:57.000000000,4,1,0,772902,01f01001187c66695eafec519f019c147cf58932,39,5,1,1,11805,Corey Bryant,coreycb,"Tests: Add another mock psutil in quobyte tests

Add a mock of psutil.disk_partitions as it appears that psutil
can be called in this test depending on the state of the system.

Change-Id: Ibdbc1c4c215dc1aa5ea728e3ff4727ddc803bd7e
Closes-Bug: #1913607
"
openstack%2Fmasakari~master~I2b7f8e6b968cd96195eeb1f40f6de5764d65785d,openstack/masakari,master,endpoint_simplification,I2b7f8e6b968cd96195eeb1f40f6de5764d65785d,Simplify endpoints created by devstack plugin,MERGED,2017-03-06 08:22:47.000000000,2021-02-27 20:22:36.000000000,2021-02-27 20:11:57.000000000,1,5,0,441796,54c726a332025827f866060dd1e221cbb46caa21,17,6,4,2,8988,Rikimaru Honjo,rikimaru.honjo,"Simplify endpoints created by devstack plugin

Admin endpoint and internal endpoint are not configured by default
in recent devstack. [1]

According to the above change, this patch removes these type
endpoints from masakari devstack plugin and README.rst.

[1] Ided7a65c81b3a0b56f0184847fc82e17c29a771e

Change-Id: I2b7f8e6b968cd96195eeb1f40f6de5764d65785d
"
openstack%2Fmasakari~master~Iad942530b5d540af3d3c074e9944687b93bcd7f2,openstack/masakari,master,policy-json-to-yaml,Iad942530b5d540af3d3c074e9944687b93bcd7f2,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-20 23:26:08.000000000,2021-02-27 19:33:41.000000000,2021-02-27 19:32:32.000000000,81,22,4,768022,513c29078ffa52f50bc75528c891eef2e77eda99,16,4,4,12,8556,Ghanshyam,ghanshyam,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc and tests.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: Iad942530b5d540af3d3c074e9944687b93bcd7f2
"
openstack%2Fopenstack-ansible-os_octavia~master~Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7,openstack/openstack-ansible-os_octavia,master,,Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7,Add variable to override keypair setup python interpreter,MERGED,2021-01-26 15:23:03.000000000,2021-02-27 18:52:10.000000000,2021-02-27 18:51:01.000000000,3,3,0,772559,44d0a6d39838cd76d55111096783bbcab838ec79,21,3,4,2,31542,Andrew Bonney,andrewbonney,"Add variable to override keypair setup python interpreter

When using a non-standard host for keypair setup (such as a utility
container) it is necessary to set a custom python interpreter
which has access to openstacksdk.

This commit provides a variable to do this in the same style as
used for service setup hosts.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777601
Change-Id: Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7
"
openstack%2Fironic~master~I90efb9f309df46c9b0ef073e789e1f1aaa1b1a1c,openstack/ironic,master,enforce-autospec,I90efb9f309df46c9b0ef073e789e1f1aaa1b1a1c,Enforce autospec in test_driver,MERGED,2021-02-23 09:55:54.000000000,2021-02-27 18:51:57.000000000,2021-02-27 18:49:00.000000000,43,27,0,777082,f18fec2329d48514130a07652dcd74cb2d12c3c0,12,3,1,2,23851,Riccardo Pittau,elfosardo,"Enforce autospec in test_driver

And remove filter from tox.ini

Change-Id: I90efb9f309df46c9b0ef073e789e1f1aaa1b1a1c
"
openstack%2Fironic~master~I0eadacf87baf68bc1c6547aac562f85edcad1aa3,openstack/ironic,master,enforce-autospec,I0eadacf87baf68bc1c6547aac562f85edcad1aa3,Enforce autospec in test_node,MERGED,2021-02-18 15:18:58.000000000,2021-02-27 18:50:42.000000000,2021-02-27 18:48:37.000000000,393,273,0,776479,6ed75bc6cf81404a029f36c8ff7f5166769ed2be,20,4,3,2,23851,Riccardo Pittau,elfosardo,"Enforce autospec in test_node

And remove filter from tox.ini

Also sets noqa for 2 mocks to keep ignoring autospec.

Change-Id: I0eadacf87baf68bc1c6547aac562f85edcad1aa3
"
openstack%2Fironic~master~I29257c805ce0afb01ae9422671d71d225f4b2573,openstack/ironic,master,enforce-autospec,I29257c805ce0afb01ae9422671d71d225f4b2573,Enforce autospec in test_notification_utils module,MERGED,2021-02-19 10:59:13.000000000,2021-02-27 18:48:43.000000000,2021-02-27 18:48:43.000000000,4,5,0,776603,52c01f87cc34c71aa355a53fb5dee8eff0a3a6ba,14,4,2,2,23851,Riccardo Pittau,elfosardo,"Enforce autospec in test_notification_utils module

And remove tox.ini filter

Change-Id: I29257c805ce0afb01ae9422671d71d225f4b2573
"
openstack%2Fmasakari~master~I869e00b214cacb0dc223e962201944d3ce13526c,openstack/masakari,master,,I869e00b214cacb0dc223e962201944d3ce13526c,[docs] Add docs on code structure,MERGED,2020-11-12 10:00:23.000000000,2021-02-27 18:46:51.000000000,2021-02-27 17:54:44.000000000,103,5,6,762490,5caad48713c33b22ccaa0e10f5e2b5be70bc2d3c,28,3,10,2,32304,Jegor van Opdorp,jopdorp,"[docs] Add docs on code structure

Additionally restructures the contributor guide.

Change-Id: I869e00b214cacb0dc223e962201944d3ce13526c
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Foslo.policy~master~Iff85a9134f4db7c0355da2858deb8a704d044634,openstack/oslo.policy,master,bug/1914095,Iff85a9134f4db7c0355da2858deb8a704d044634,Don't modify 'Rule.check',MERGED,2021-02-04 17:33:14.000000000,2021-02-27 18:13:34.000000000,2021-02-27 18:12:21.000000000,33,38,12,774112,d933ca88baf4070f1968c66e56bc20b06bc2457b,31,7,6,2,15334,Stephen Finucane,sfinucan,"Don't modify 'Rule.check'

There are two big issues with this. Firstly, as noted in bug #1914095,
we're not copying the provided 'Rule' object which means if we create an
enforcer and the rule is modified, then a second enforcer in the same
process will ultimately end up using the same modified 'Rule' object
will be used. Secondly, while the 'check' attribute is modified the
'check_str' attribute is not. This is immensely confusing for people
debugging.

Resolve both issues by not modifying this check at all and instead build
the combined check and store this.

Change-Id: Iff85a9134f4db7c0355da2858deb8a704d044634
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~I5708442336cd9cea43bfbf32292475e52872ca3d,openstack/nova,master,bp/compact-db-migrations-wallaby,I5708442336cd9cea43bfbf32292475e52872ca3d,apidb: Compact Liberty database migrations,MERGED,2020-10-23 11:42:17.000000000,2021-02-27 17:48:55.000000000,2021-02-27 17:47:21.000000000,87,182,0,759399,d97fd311311a52a212691c4c5fc5ef47afb5d5e0,67,12,3,7,15334,Stephen Finucane,sfinucan,"apidb: Compact Liberty database migrations

Specific changes include:

- Add 'cell_mappings' table (001)
- Add 'host_mappings' table (002)
- Add 'instance_mappings' table (003)

Change-Id: I5708442336cd9cea43bfbf32292475e52872ca3d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I5d5df3948964c28f53eda0ba5a966c824012bd4c,openstack/tripleo-heat-templates,master,remove-ovn-dbs-cruft,I5d5df3948964c28f53eda0ba5a966c824012bd4c,Remove ovn-dbs temporary container,MERGED,2020-11-23 08:30:20.000000000,2021-02-27 16:59:16.000000000,2021-02-27 16:59:16.000000000,0,37,0,763749,aca8b5fd6f799859a718105744f1d0b1331de848,22,6,3,1,20172,Michele Baldessari,michele,"Remove ovn-dbs temporary container

With I918b6c16db6ed70d9ad612aecd7af7d725520f7b we moved the ovn-dbs
creation out of the ephemeral ovn_dbs_init_bundle container and on to
the host.

We left the ovn_dbs_init_bundle container around and kept the tag
ovn_dbs_remove_old_cruft for it. This is because with that tag
we historically triggered the needed code to make sure to handle
the transition from a deployment where ovn-dbs used the internal_api
VIP to the (current) deployment where ovn-dbs uses its own VIP.

Since ovn-dbs has its own VIP starting with train, we can now safely
drop this container.

Change-Id: I5d5df3948964c28f53eda0ba5a966c824012bd4c
"
openstack%2Fcinder-tempest-plugin~master~I5c5ff6f996dd39b52fada82f3938b628e58b0a2c,openstack/cinder-tempest-plugin,master,702495,I5c5ff6f996dd39b52fada82f3938b628e58b0a2c,Add Snapshot data integrity test,MERGED,2020-01-14 18:00:09.000000000,2021-02-27 16:47:15.000000000,2021-02-27 16:47:15.000000000,1269,0,70,702495,21d63a3ada907341348ac8b73d31b0d07f3390d6,108,10,16,2,27615,Rajat Dhasmana,whoami-rajat,"Add Snapshot data integrity test

This patch adds data integrity tests for snapshot with the following
procedure :

1) create a volume from image
2) Boot an instance from the volume
3) create file on vm and write data into it
4) create first snapshot
5) repeat 3
5) create second snapshot
6) repeat 3
7) create third snapshot

Now restore the snapshots one by one into volume, create instances
from it and check the number of files and file content at each
point snapshot was created.

We are also temporarily making a copy of tempest scenario manager until
the actual manager is available for import in tempest plugins.

Change-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c
"
openstack%2Fpuppet-glance~stable%2Fussuri~Ib724f6e895716847827be48ed08b01a7a312338f,openstack/puppet-glance,stable/ussuri,glance-cinder-mountpoint-stable/victoria-stable/ussuri,Ib724f6e895716847827be48ed08b01a7a312338f,Add config parameter for cinder mounting needs,MERGED,2021-02-24 07:28:22.000000000,2021-02-27 16:47:00.000000000,2021-02-27 16:45:51.000000000,19,0,0,777128,1bd1615234f261e2df8cda04fd6581230b758e6b,9,4,1,3,19138,Pranali Deore,PranaliD,"Add config parameter for cinder mounting needs

This patch is introducing cinder_mount_point_base parameter into
glance::backend::multistore::cinder class, so that operators can
provide the cinder mount point for NFS volumes.

Change-Id: Ib724f6e895716847827be48ed08b01a7a312338f
(cherry picked from commit 46e9319d8e012d2df6b7d8f85f59315db6e95ff2)
(cherry picked from commit 11bd956b9b6ae6e09547bfe14ac02af4ade573ce)
"
openstack%2Fcinder~master~Ib9440b4b277b61dcedd324a4cb3d4776e5a9f5a2,openstack/cinder,master,,Ib9440b4b277b61dcedd324a4cb3d4776e5a9f5a2,Tests: Move glance_stubs to glance dir,MERGED,2020-11-17 17:01:10.000000000,2021-02-27 15:46:01.000000000,2021-02-19 22:17:28.000000000,1,1,0,763046,ceb5022547f33345e3047d34c2cb539318c1bac5,55,24,1,3,4523,Eric Harney,eharney,"Tests: Move glance_stubs to glance dir

This is only used by test_glance.py -- move the
stubs over there for better organization.

Change-Id: Ib9440b4b277b61dcedd324a4cb3d4776e5a9f5a2
"
openstack%2Fpuppet-designate~master~I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2,openstack/puppet-designate,master,designate,I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2,Add bind9 backend parameter to allow bypassing bind configuration,MERGED,2021-02-18 19:03:16.000000000,2021-02-27 15:41:12.000000000,2021-02-27 15:39:59.000000000,57,30,6,776517,d68a16c853574fd20e4e003e2ec49183ebbe34ef,18,3,4,3,6681,Brent Eagles,beagles,"Add bind9 backend parameter to allow bypassing bind configuration

Adds designate::backedn::bind9::configure_bind parameter to allow
bypassing the dns puppet module. This is necessary when bind is not
installed on same host as designate.

Change-Id: I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2
"
openstack%2Fpuppet-nova~stable%2Ftrain~I98fe83e0c245388944529cd19b5e2bbed134e855,openstack/puppet-nova,stable/train,refactor_nova_db_config,I98fe83e0c245388944529cd19b5e2bbed134e855,Allow both DEFAULT/dhcp_domain and api/dhcp_domain to be set,MERGED,2021-02-08 13:42:21.000000000,2021-02-27 15:22:54.000000000,2021-02-27 15:21:42.000000000,10,22,0,774478,2ae766f1aaf4e3ffd2626cdc9bc0905b9dca4cec,15,8,4,4,27419,David Vallee Delisle,dvd,"Allow both DEFAULT/dhcp_domain and api/dhcp_domain to be set

Partial revert of If6a26527a737a7184ebddd5b4bc346d64827e9e3 to allow
both/either config option to be used until it is clear what nova will
take.

Conflicts:
	manifests/init.pp
	manifests/metadata.pp

Related-bug: #1903908
Change-Id: I98fe83e0c245388944529cd19b5e2bbed134e855
(cherry picked from commit e8b24805d6ad863d91ecd84d00333e14821a7368)
(cherry picked from commit 804608e990500b227307c986bef2ec6a4ae3edfa)
"
openstack%2Fpuppet-nova~stable%2Ftrain~If6a26527a737a7184ebddd5b4bc346d64827e9e3,openstack/puppet-nova,stable/train,refactor_nova_db_config,If6a26527a737a7184ebddd5b4bc346d64827e9e3,Set dhcp_domain for all nova services,MERGED,2021-02-08 13:41:58.000000000,2021-02-27 15:14:32.000000000,2021-02-27 15:13:06.000000000,28,16,0,774414,dbba136cae4bce23124b2e7b0a48a0c574397692,18,7,4,5,27419,David Vallee Delisle,dvd,"Set dhcp_domain for all nova services

This is required for nova-compute so move to init.pp from metadata.pp and set
DEFAULT/dhcp_domain (which nova should undeprecate) vs api/dhcp_domain.

Conflicts:
    manifests/init.pp
    manifests/metadata.pp
    spec/classes/nova_init_spec.rb

Change-Id: If6a26527a737a7184ebddd5b4bc346d64827e9e3
Related-bug: #1903908
Related-bug: #1832537
(cherry picked from commit 71276558e77c8612397d0e31187cc8eec4554ff9)
(cherry picked from commit 5e4cee430393ff8df1c587112309a54a83189ef0)
(cherry picked from commit 6d0376e33d958be0e97a9f6fb59290e85e027c78)
"
openstack%2Fcinder-tempest-plugin~master~I52d06f1c1e141cb455fb7a823a27be532afb4c16,openstack/cinder-tempest-plugin,master,stestr,I52d06f1c1e141cb455fb7a823a27be532afb4c16,Switch to stestr,MERGED,2021-02-09 21:50:41.000000000,2021-02-27 15:13:26.000000000,2021-02-27 15:13:26.000000000,9,10,0,774740,7c47222c549c32df615ec53ba434b0ee00710bac,19,5,1,5,10459,Luigi Toscano,ltoscano,"Switch to stestr

We don't really have unit tests in the repository and any py3x venv
would not really be useful (the tests are executed through tempest),
but let's remove the old dependency anyway and depend on stestr
like all the other OpenStack projects.

Change-Id: I52d06f1c1e141cb455fb7a823a27be532afb4c16
"
openstack%2Fpuppet-qdr~stable%2Fqueens~Ie72494c7525a2ea361483eadad64f2aba36044f3,openstack/puppet-qdr,stable/queens,dnm,Ie72494c7525a2ea361483eadad64f2aba36044f3,DNM: Testing gate,ABANDONED,2021-02-24 14:31:07.000000000,2021-02-27 14:01:57.000000000,,0,0,0,777387,1521a597331a6ed59033f3185dfbd7eb2f64e69e,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Testing gate

Depends-on: https://review.opendev.org/777126
Change-Id: Ie72494c7525a2ea361483eadad64f2aba36044f3
"
openstack%2Fneutron-tempest-plugin~master~Ibc1594d0296b31af82776eea84b1d3dea5a4dac7,openstack/neutron-tempest-plugin,master,ovn-devstack,Ibc1594d0296b31af82776eea84b1d3dea5a4dac7,Explicitly set jobs to ML2/OVS,MERGED,2020-09-02 13:40:52.000000000,2021-02-27 13:01:49.000000000,2021-02-27 13:01:49.000000000,285,2,162,749503,743c3b26b939f223838ec993434e9b166266e552,69,6,26,7,6773,Lucas Alvares Gomes,lucasagomes,"Explicitly set jobs to ML2/OVS

Devstack is changing the Neutron default to OVN backend. This patch
is asserts that neutron-tempest-plugin gate will not get broken by
that change by explicitly configuring stable jobs to continue to run
with ML2/OVS.

Change-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fmonasca-notification~stable%2Ftrain~Ib0a2775c8886a35ff5101211abceba8d04463a65,openstack/monasca-notification,stable/train,fix-zuul-publish,Ib0a2775c8886a35ff5101211abceba8d04463a65,Fix zuul publish docker image job,MERGED,2021-02-26 10:18:16.000000000,2021-02-27 11:29:06.000000000,2021-02-27 11:29:06.000000000,1,1,0,777736,0dd52ee941a552ad9f297e5cde4713fe69b1794a,8,2,2,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: Ib0a2775c8886a35ff5101211abceba8d04463a65
"
openstack%2Fopenstack-helm~master~I7b2df90340f33a5b3edac5a53d8031325f96244d,openstack/openstack-helm,master,,I7b2df90340f33a5b3edac5a53d8031325f96244d,Update horizon chart releasenotes to latest,MERGED,2021-02-20 00:51:24.000000000,2021-02-27 11:04:51.000000000,2021-02-27 11:03:27.000000000,6,0,2,776766,e3cb8aa4d1e5cf8bc688516b5372f9e8674c5c2d,17,6,3,1,30449,jinyuanliu,jinyuanliu,"Update horizon chart releasenotes to latest

This change updates the releasenotes for the horizon chart to the latest version of the chart as of this patchset.

Change-Id: I7b2df90340f33a5b3edac5a53d8031325f96244d
"
openstack%2Fcinder~master~I2885a246b8e4b1fbd849de15991108b14f4ac8ce,openstack/cinder,master,drop-error-level,I2885a246b8e4b1fbd849de15991108b14f4ac8ce,Drop policy check failures to DEBUG,MERGED,2020-08-28 17:37:20.000000000,2021-02-27 10:09:02.000000000,2021-02-20 17:35:26.000000000,1,1,0,748727,d99322ede13d9b0614781ae6c80c3647407cfbb8,113,32,2,1,1004,Mohammed Naser,mnaser,"Drop policy check failures to DEBUG

The policy check failures are not actionable by the operator of the
cloud, therefore logging them as ERROR makes them very noisy for a cloud
if someone is hitting an API they're not allowed to talk to.

Nova currently logs this in DEBUG level so it would make sense to be
logging it at the same level.

Change-Id: I2885a246b8e4b1fbd849de15991108b14f4ac8ce
"
openstack%2Fswift~stable%2Fussuri~Ibf304bb64f005a86cb4d08312c5d7ad4a2488719,openstack/swift,stable/ussuri,ussuri-sharding,Ibf304bb64f005a86cb4d08312c5d7ad4a2488719,container-sharding: Stable overlap order,MERGED,2021-02-24 03:15:09.000000000,2021-02-27 09:52:52.000000000,2021-02-27 09:51:37.000000000,42,1,0,777285,760528cb70cf56a1a23a7d3c3e3b708677213687,14,3,1,2,597,Pete Zaitcev,zaitcev,"container-sharding: Stable overlap order

When you have overlapping active shard ranges updates will get sent to
""the first"" database; but when the proxy queries shards for listings
they get stitched together end-to-end with markers.

This means mostly the second shard range is ignored.  But since the
order of shard ranges is not stable (it seems to depend on the database
indexes; which can change when rows are added or removed) you could send
updates to ""the wrong"" shard.

Using a stable order leads to more correct and robust behavior under
failure; and is also better for cognitive overhead.

Cherry-Picked-From: Ia9d29822bf07757fc1cf58ded90b49f12b7b2c24
Change-Id: Ibf304bb64f005a86cb4d08312c5d7ad4a2488719
"
openstack%2Ftripleo-ci~master~Ie6473759383bd4b903cbe56fba9fee75a24154c4,openstack/tripleo-ci,master,tripleo-ci-reduce,Ie6473759383bd4b903cbe56fba9fee75a24154c4,Remove standalone/undercloud from multinode layouts +deprecate old,MERGED,2021-02-23 12:26:15.000000000,2021-02-27 06:00:46.000000000,2021-02-27 06:00:46.000000000,191,239,0,777099,0387f813b098405bbeeff5295c7434f5f9272555,22,10,4,2,8449,Marios Andreou,marios,"Remove standalone/undercloud from multinode layouts +deprecate old

As part of CI optimisation at [1] this deprecates the following
multinode templates:

  * tripleo-multinode-baremetal-minimal
  * tripleo-multinode-baremetal-full
  * tripleo-multinode-container-full
  * tripleo-multinode-container-minimal
  * tripleo-multinode-tripleoci

These are still used in some places such as [2][3] so we need
to remove those before we can delete the templates alltogether.

This also removes the standalone and undercloud jobs from the
multinode template. It is confusing to have them there and
increases the maintenance burden for the tripleo-ci team.

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
[2] https://review.opendev.org/c/openstack/os-apply-config/+/777097
[3] https://review.opendev.org/c/openstack/os-refresh-config/+/777098

Change-Id: Ie6473759383bd4b903cbe56fba9fee75a24154c4
"
openstack%2Fopenstack-helm~master~I39c5d2014146925afe7fd896123a705c19005ff9,openstack/openstack-helm,master,773558,I39c5d2014146925afe7fd896123a705c19005ff9,BUG for deploying multiple compute nodes,MERGED,2021-02-02 02:23:01.000000000,2021-02-27 05:48:29.000000000,2021-02-27 05:47:09.000000000,3,2,2,773558,aa5e622b47ed04cfc6ac0561f151f61e0accac44,64,9,8,3,30449,jinyuanliu,jinyuanliu,"BUG for deploying multiple compute nodes

When Deployment of compute nodes is not on all nodes (e.g.Total 5 nodes,but 3 compute nodes),The original method counts all nodes instead of compute nodes,This can result in less than 100%  and the process will get stuck,this is a bug!

Change-Id: I39c5d2014146925afe7fd896123a705c19005ff9
"
openstack%2Fkeystone~master~I2619108216035a37823e53efb5a3f9fe6cfe5cbb,openstack/keystone,master,secure-rbac,I2619108216035a37823e53efb5a3f9fe6cfe5cbb,trivial: Update minor wording nit in RBAC persona documentation,MERGED,2021-02-05 14:58:38.000000000,2021-02-27 05:26:10.000000000,2021-02-27 05:23:24.000000000,2,2,0,774248,9707673b3467fd9e476eb7c4721b3d930ba74e81,8,2,2,1,5046,Lance Bragstad,ldbragst,"trivial: Update minor wording nit in RBAC persona documentation

After reading through the documentation, I thought this sentence sounded
funny using 'within' and 'in' so close to each other. I updated it so
that it isn't quite so jarring.

Change-Id: I2619108216035a37823e53efb5a3f9fe6cfe5cbb
"
openstack%2Fkeystone~master~Iea28faf1b3e63c7ab07e90808d2bc76ee3ee0612,openstack/keystone,master,secure-rbac,Iea28faf1b3e63c7ab07e90808d2bc76ee3ee0612,Clarify ``reader`` role implementation in persona admin guide,MERGED,2021-01-19 19:40:11.000000000,2021-02-27 05:24:57.000000000,2021-02-27 05:23:02.000000000,67,28,17,771509,4df1130e1285da2a55569f727abe5077acd4220d,23,7,3,1,5046,Lance Bragstad,ldbragst,"Clarify ``reader`` role implementation in persona admin guide

The secure RBAC work propogating throughout the community has led to
some interesting discussions about how to implement support for
``reader``. Specifically, should ``reader`` be used for auditing
deployments?

Some compliance targets, verified by third-party auditors, require
access to sensitive information (e.g., thinking about license keys in
glance images or volume type encryption metadata in cinder). The concern
raised among developers updating their default policies to use
``reader`` roles is if they should be using that role to protect
sensitive information, especially if it's the least-authoritative role
in the hierarchy between reader, member, and admin.

This documentation is supposed to assist deployers in understanding the
various personas that developers are implementing by default, but it
doesn't call out the complicated relationship we have with ``reader``
and auditing.

The change here proposes that we explicitly say that ``reader``
shouldn't be used to protect sensitive information, regardless of the
scope, because ``reader`` was designed to be the least-authoritative
role provided by keystone, by default. Instead, service developers
working to implement these personas consistently in other services
should keep sensitive information, if applicable to their API or
resources, at the ``admin`` tier of the hierarchy. This provides better
protection of sensitive information by not exposing is implicitly.

We can consider supporting a formal default role for auditing in the
future, but building it outside the default implied role tree so that
it's not implied to anyone with a role assignment. This will come at
another time and we can use implied roles to re-use all the work we've
done across OpenStack to implement support for ``reader``.

For now, ``reader`` should be viewed from the perspective of the
least-authoritative permissions grant-able to a given scope (e.g.,
system, domain, or project). Even if ``reader`` has limited use in
auditing deployments, it's still incredibly useful for operators
because they have a role they can grant to users with minimal trust, or
minimal permissions in the deployment.

This commit acknowledges the use-case for an elevated auditor role and
that it's something we can implement as a formal role in keystone in the
future.

Change-Id: Iea28faf1b3e63c7ab07e90808d2bc76ee3ee0612
"
openstack%2Fkeystone~master~I40dd33fc0afa0240c6b1cd48322fd988fc5524af,openstack/keystone,master,secure-rbac,I40dd33fc0afa0240c6b1cd48322fd988fc5524af,Clarify top-level personas in RBAC documentation,MERGED,2021-02-05 14:58:38.000000000,2021-02-27 05:23:08.000000000,2021-02-27 05:23:08.000000000,69,13,0,774247,a0ae615ab95481bfc7e5621ee2179e33bcf95444,8,4,1,1,5046,Lance Bragstad,ldbragst,"Clarify top-level personas in RBAC documentation

This commit updates the documentation for service api protection to
better describe the overall personas for system, domain, and project
users. It also adds some examples that show operators how to list users
with all role assignments on a particular target, which include a
superset of the existing examples.

Change-Id: I40dd33fc0afa0240c6b1cd48322fd988fc5524af
"
openstack%2Fnova~stable%2Fussuri~Ic5ce2580e7638a47f1ffddb4edbb503bf490504c,openstack/nova,stable/ussuri,bug/1896621,Ic5ce2580e7638a47f1ffddb4edbb503bf490504c,compute: Lock by instance.uuid lock during swap_volume,MERGED,2020-10-19 09:05:37.000000000,2021-02-27 05:07:21.000000000,2021-02-27 05:05:56.000000000,26,2,0,758732,f7ba1aab5f6f76ba88d6cc63cde2ec246ee61ec5,42,6,2,1,10135,Lee Yarwood,lyarwood,"compute: Lock by instance.uuid lock during swap_volume

The libvirt driver is currently the only virt driver implementing swap
volume within Nova. While libvirt itself does support moving between
multiple volumes attached to the same instance at the same time the
current logic within the libvirt driver makes a call to
virDomainGetXMLDesc that fails if there are active block jobs against
any disk attached to the domain.

This change simply uses an instance.uuid based lock in the compute layer
to serialise requests to swap_volume to avoid this from being possible.

Closes-Bug: #1896621
Change-Id: Ic5ce2580e7638a47f1ffddb4edbb503bf490504c
(cherry picked from commit 6cf449bdd0d4beb95cf12311e7d2f8669e625fac)
(cherry picked from commit eebf94b6540fcd16826067fac544b5a3238842a3)
"
openstack%2Ftripleo-validations~stable%2Ftrain~I4eb7508c24cce0db3179d4f3ef26cabceb164716,openstack/tripleo-validations,stable/train,,I4eb7508c24cce0db3179d4f3ef26cabceb164716,Optionally fail ceph-health if HEALTH_WARN,MERGED,2021-02-25 10:31:49.000000000,2021-02-27 04:26:18.000000000,2021-02-27 04:26:18.000000000,8,0,0,777563,46cee611d58e81d3c0cd9002a297a954d27a8113,12,2,1,2,6796,Giulio Fidente,gfidente,"Optionally fail ceph-health if HEALTH_WARN

Helps controlling the behavior of the ceph-health check for it to
fail, optionally, not only when cluster is in _ERR state but also
in _WARN state.

Change-Id: I4eb7508c24cce0db3179d4f3ef26cabceb164716
Related-Bug: 1915700
(cherry picked from commit 67560d36c06860dc827ef8356f1023f42facdbec)
(cherry picked from commit 2896ce06d7aad365bc6f02d5ab60acbe45315eb5)
(cherry picked from commit 45a78f35238d13b077b984b56817e71e23e208a2)
"
openstack%2Fopenstack-helm-infra~master~I969b7d76146ebf7c04cac47a8313fb7aff473078,openstack/openstack-helm-infra,master,ceph-client-reno,I969b7d76146ebf7c04cac47a8313fb7aff473078,Update ceph-client chart releasenotes to latest,ABANDONED,2021-02-26 01:50:04.000000000,2021-02-27 03:36:00.000000000,,2,0,0,777707,29b66a5ea62af7e332ff3cdb761cf6e3533ceccd,4,2,1,1,30449,jinyuanliu,jinyuanliu,"Update ceph-client chart releasenotes to latest

This change updates the releasenotes for the ceph-client chart to the latest version of the chart as of this patchset.

Change-Id: I969b7d76146ebf7c04cac47a8313fb7aff473078
"
openstack%2Fpython-cinderclient~master~I7a703e0ee91b73b7ab736712756caaba6981f8e4,openstack/python-cinderclient,master,,I7a703e0ee91b73b7ab736712756caaba6981f8e4,Stop configuring install_command in tox.,MERGED,2021-02-03 16:30:54.000000000,2021-02-27 03:10:39.000000000,2021-02-27 03:09:15.000000000,0,1,0,773941,2c43d65238063eeaf54e9ae4b0e1c8463c9cbe0e,15,8,1,1,30615,Tushar Trambak Gite,tushargite96,"Stop configuring install_command in tox.

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: I7a703e0ee91b73b7ab736712756caaba6981f8e4
"
openstack%2Fdevstack~master~I722dcc5dbb1e9a51b68884ec310ecd2f55577746,openstack/devstack,master,,I722dcc5dbb1e9a51b68884ec310ecd2f55577746,Add a variable to set the tempest_roles in Tempest conf,NEW,2021-02-26 18:11:47.000000000,2021-02-27 02:20:03.000000000,,3,0,0,777802,f13f5d0c604d9a943751d462369b3ae503a6a99a,6,1,1,1,8556,Ghanshyam,ghanshyam,"Add a variable to set the tempest_roles in Tempest conf

Devstack no more set the default 'member' roles to Tempest's
tempest_roles config option which is used to set roles
for all dynamically created test users.

This commit provides a var to set tempest_roles.

Change-Id: I722dcc5dbb1e9a51b68884ec310ecd2f55577746
"
openstack%2Fcyborg~master~Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f,openstack/cyborg,master,enable-vgpu-in-cyborg,Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f,support configuring multiple vgpu types in cyborg,MERGED,2020-11-27 11:57:49.000000000,2021-02-27 01:55:52.000000000,2021-02-27 01:54:30.000000000,56,1,41,764450,0605fe39fdd319da7a4334c871b17fd1e120b3ae,40,6,9,2,24872,YumengBao,Yumeng_Bao,"support configuring multiple vgpu types in cyborg

This patch defines the group and options for vgpu types configuration.

Co-Authored-By: Wenping Song <songwenping@inspur.com>

Change-Id: Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f
Story: 2008265
Task: 41326
"
openstack%2Fmanila~master~I84d80d9165b7542cc0c56e4d41b1e6fb45eab369,openstack/manila,master,bp/unified-limits-manila,I84d80d9165b7542cc0c56e4d41b1e6fb45eab369,WIP: Unified limits PoC,NEW,2021-02-19 18:11:35.000000000,2021-02-27 01:16:04.000000000,,86,11,17,776690,07a5948c98aadcccd2d892d29639405b08808b55,29,3,5,8,16643,Goutham Pacha Ravi,gouthamr,"WIP: Unified limits PoC

Oslo.limit use in Manila

Change-Id: I84d80d9165b7542cc0c56e4d41b1e6fb45eab369
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fswift~stable%2Ftrain~I3560d1352fee825c63cd26556caa806f7424c389,openstack/swift,stable/train,train-sharding,I3560d1352fee825c63cd26556caa806f7424c389,Identify deleted shards as shards,MERGED,2021-02-06 02:29:07.000000000,2021-02-27 01:14:27.000000000,2021-02-27 01:12:18.000000000,50,10,0,774337,98da7b0933a2975598844bf40edec4b61714db40,13,2,3,2,597,Pete Zaitcev,zaitcev,"Identify deleted shards as shards

When a DB gets deleted, we clear out its metadata. This included sysmeta
such as that used to tell shards the name of their root DB.

Previously, this would cause deleted shards to pop back to life as roots
that claimed to have objects still sitting in whatever container they
sharnk into.

Now, use the metadata if it's available, but when it's not, go by the
state of the DB's ""own shard range"" -- deleted shards should be marked
deleted, while roots never are.

This allows us to actually clean up the database files; you can test
this by doing something like

 * Run `nosetests test/probe/test_sharder.py:TestContainerSharding.test_shrinking`
 * Run `find /srv/*/*/containers -name '*.db'` to see how many databases
   are left on disk. There should be 15: 3 for the root container, 6 for
   the two shards on the first pass, and another 6 for the two shards on
   the second pass.
 * Edit container configs to decrease reclaim_age -- even 1 should be
   fine.
 * Run `swift-init main start` to restart the servers.
 * Run `swift-init container-sharder once` to have the shards get marked
   deleted.
 * Run `swift-init container-updater once` to ensure all containers have
   reported.
 * Run `swift-init container-replicator once` to clean up the
   containers.
 * Run `find /srv/*/*/containers -name '*.db'` again to verify no
   containers remain on disk.

Cherry-Picked-From: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b
Change-Id: I3560d1352fee825c63cd26556caa806f7424c389
"
openstack%2Fswift~stable%2Ftrain~I45fb36602284ca1ec5f6fc73d05c039fd6ca1269,openstack/swift,stable/train,train-sharding,I45fb36602284ca1ec5f6fc73d05c039fd6ca1269,Don't auto-create shard containers,MERGED,2021-02-06 02:29:07.000000000,2021-02-27 01:13:24.000000000,2021-02-27 01:12:10.000000000,82,73,1,774335,7ee5fc197736106881142b018f7f4d073e50bc60,14,2,3,3,597,Pete Zaitcev,zaitcev,"Don't auto-create shard containers

...unless the client requests it specifically using a new flag:

   X-Backend-Auto-Create: true

Previously, you could get real jittery listings during a rebalance:

 * Partition with a shard DB get reassigned, so one primary has no DB.
 * Proxy makes a listing, gets a 404, tries another node. Likely, one of
   the other shard replicas responds. Things are fine.
 * Update comes in. Since we use the auto_create_account_prefix
   namespace for shards, container DB gets created and we write the row.
 * Proxy makes another listing. There's a one-in-three chance that we
   claim there's only one object in that whole range.

Note that unsharded databases would respond to the update with a 404 and
wait for one of the other primaries (or the old primary that's now a
hand-off) to rsync a whole DB over, keeping us in the happy state.

Now, if the account is in the shards namespace, 404 the object update if
we have no DB. Wait for replication like in the unsharded case.

Continue to be willing to create the DB when the sharder is seeding all
the CREATED databases before it starts cleaving, though.

Closes-Bug: #1881210
Cherry-Picked-From: I15052f3f17999e6f432951ba7c0731dcdc9475bb
Change-Id: I45fb36602284ca1ec5f6fc73d05c039fd6ca1269
"
openstack%2Fswift~stable%2Ftrain~Id86f09e20dd2460a3f0baf1aeaf9dd482152a43c,openstack/swift,stable/train,train-sharding,Id86f09e20dd2460a3f0baf1aeaf9dd482152a43c,swift-container-info: Show shard ranges summary,MERGED,2021-02-06 02:29:07.000000000,2021-02-27 01:12:14.000000000,2021-02-27 01:12:14.000000000,116,22,0,774336,f8f50ca60efac9690b8cde8640005b8eea7bd2b5,11,2,3,3,597,Pete Zaitcev,zaitcev,"swift-container-info: Show shard ranges summary

The current behavior is really painful when you've got hundreds of shard
ranges in a DB.  The new summary with the states is default.  Users can
add a -v/--verbose flag to see the old full detail view.

Cherry-Picked-From: I0a7d65f64540f99514c52a70f9157ef060a8a892
Change-Id: Id86f09e20dd2460a3f0baf1aeaf9dd482152a43c
"
openstack%2Fironic~master~I54a9fed73e366a30545c3cd1982588d2f544d228,openstack/ironic,master,test_task_manager,I54a9fed73e366a30545c3cd1982588d2f544d228,[Trivial] Fix testing of volume connector exception,MERGED,2021-02-26 14:29:49.000000000,2021-02-27 01:00:57.000000000,2021-02-27 00:59:13.000000000,1,1,0,777757,61c5b3fd2fb1ae0df1cbfbca83e5bda393d0e8e4,11,3,1,1,11292,Arne Wiebalck,wiebalck,"[Trivial] Fix testing of volume connector exception

Restore test symmetry.

Change-Id: I54a9fed73e366a30545c3cd1982588d2f544d228
"
openstack%2Fironic-lib~master~Ia0f42bf3de9c074a1212859352b5c5e1abe7eed8,openstack/ironic-lib,master,default-processutils,Ia0f42bf3de9c074a1212859352b5c5e1abe7eed8,Remove default parameter from execute,MERGED,2021-02-25 10:22:40.000000000,2021-02-27 01:00:36.000000000,2021-02-27 00:59:09.000000000,15,23,0,777560,e7a35e41f19645304fb4ebc0fa4bcb99d6a602a3,8,3,1,4,23851,Riccardo Pittau,elfosardo,"Remove default parameter from execute

The param check_exit_code from the processutils extension execute has
default already at [0]
See:
https://opendev.org/openstack/oslo.concurrency/src/branch/master/oslo_concurrency/processutils.py#L214

Change-Id: Ia0f42bf3de9c074a1212859352b5c5e1abe7eed8
"
openstack%2Fcharm-deployment-guide~master~Ifadc6ebf2dfbb30b8d704a802fa826725c104b75,openstack/charm-deployment-guide,master,bug/1916067,Ifadc6ebf2dfbb30b8d704a802fa826725c104b75,Correct env section on configure page,MERGED,2021-02-25 20:21:28.000000000,2021-02-27 00:49:04.000000000,2021-02-27 00:47:54.000000000,56,54,1,777666,02fb5eb7c50f326e23387b8c205a575368b23689,10,2,2,2,30561,Peter Matulis,pmatulis,"Correct env section on configure page

* Correct how to establish control of the cloud.
  Use files in openstack-bundles repository.

* Make protocoal (HTTPS) and IP addresses consistent.

Closes-Bug: #1916067

Change-Id: Ifadc6ebf2dfbb30b8d704a802fa826725c104b75
"
openstack%2Fkayobe~master~I6bc8da2b8da903e09b97df8cd95c68a562c11db9,openstack/kayobe,master,,I6bc8da2b8da903e09b97df8cd95c68a562c11db9,CI: Fix overcloud and seed VM jobs on vexxhost clouds,MERGED,2021-02-26 11:12:33.000000000,2021-02-27 00:48:38.000000000,2021-02-27 00:47:29.000000000,8,18,0,777741,f9d9afcfba09ef73c6663a38fb60b703caeb56c7,12,2,1,5,14826,Mark Goddard,mgoddard,"CI: Fix overcloud and seed VM jobs on vexxhost clouds

This partially reverts commit 47bbb96b29ab30764d6220cdd43e63a1d2072533
which triggered a retry on vexxhost clouds.

The issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,
which applied some fixes for CentOS 8.3, and inadvertently removed
the Tenks variable that forces the use of qemu for 'bare metal' VMs.
This lead to autodetection of KVM, which does not work well when nested
in all CI cloud providers.

This change fixes the issue by forcing the use of qemu for the overcloud
once more. It also adds a similar option for the seed VM job.

Change-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,openstack/tripleo-heat-templates,stable/train,fix-redis-tls-stable/victoria-stable/ussuri-stable/train,I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,Fix redis_tls_proxy,MERGED,2021-02-25 16:01:03.000000000,2021-02-26 23:53:56.000000000,2021-02-26 23:53:56.000000000,22,0,0,777549,badc6bc1ed0035c28a5030b19727bb39622fa6cd,15,4,1,1,20172,Michele Baldessari,michele,"Fix redis_tls_proxy

Since we merged the pcs-host patches we erroneously also removed
the sidecar container that does the tls stunneling for redis.
This is needed to allow the redis master stream the deplications to
its slaves via TLS.

Tested this and we now correctly get the working container and cluster
state:
[root@controller-0 ~]# podman ps -a |grep redis
4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0
604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy
[root@controller-0 ~]# pcs status |grep redis
  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]
  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:
    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0
    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1
    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2

We also move the redis_tls_proxy from step_2/start_order: 3 to step_1
since it actually makes sense to have it run before we start the
redis pcmk bundle at step 2 (i.e. so the slave replica can work right
away from the start).

Closes-Bug: #1916873

Change-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab
"
openstack%2Fswift~stable%2Fussuri~I324916f8207e1346806951b600105cccfd8c62f7,openstack/swift,stable/ussuri,ussuri-sharding,I324916f8207e1346806951b600105cccfd8c62f7,Address a sharder/replicator race,MERGED,2021-02-24 03:15:09.000000000,2021-02-26 23:50:40.000000000,2021-02-26 23:49:07.000000000,13,9,0,777284,94346b1345b28fa1809bc0def34f821ab13ea0e4,10,2,1,2,597,Pete Zaitcev,zaitcev,"Address a sharder/replicator race

In the previous patch, we could clean up all container DBs, but only if
the daemons went in a specific order (which cannot be guaranteed in a
production system).

Once a reclaim age passes, there's a race: If the container-replicator
processes the root container before the container-sharder processes the
shards, the deleted shards would get reaped from the root so they won't
be available for the sharder. The shard containers then hang around
indefinitely.

Now, be willing to mark shard DBs as deleted even when we can't find our
own shard range in the root. Fortunately, the shard already knows that
its range has been deleted; we don't need to get that info from the root.

Cherry-Picked-From: If08bccf753490157f27c95b4038f3dd33d3d7f8c
Related-Change: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b
Change-Id: I324916f8207e1346806951b600105cccfd8c62f7
"
openstack%2Fswift~stable%2Ftrain~If2346d1079b656290ad698d6e4ce276fbd9a5841,openstack/swift,stable/train,train-sharding,If2346d1079b656290ad698d6e4ce276fbd9a5841,Latch shard-stat reporting,MERGED,2021-02-06 02:29:07.000000000,2021-02-26 23:40:42.000000000,2021-02-26 23:35:00.000000000,284,39,0,774334,7ed79e3b24f2f0af031c41cc96d01b1c9ebbf02a,9,2,2,7,597,Pete Zaitcev,zaitcev,"Latch shard-stat reporting

The idea is, if none of

  - timestamp,
  - object_count,
  - bytes_used,
  - state, or
  - epoch

has changed, we shouldn't need to send an update back to the root
container.

This is more-or-less comparable to what the container-updater does to
avoid unnecessary writes to the account.

Closes-Bug: #1834097
Cherry-Picked-From: I1ee7ba5eae3c508064714c4deb4f7c6bbbfa32af
Change-Id: If2346d1079b656290ad698d6e4ce276fbd9a5841
"
openstack%2Fneutron~master~I2cc58c30cf844ee0ecf0611ecdec430086464790,openstack/neutron,master,bug/1916022,I2cc58c30cf844ee0ecf0611ecdec430086464790,Remove update_initial_state() method from the HA router,MERGED,2021-02-18 11:56:51.000000000,2021-02-26 23:39:25.000000000,2021-02-26 23:34:29.000000000,11,27,4,776423,0d8ae1576724b196580c9af3782fd3c9e9072bef,52,8,6,5,11975,Slawek Kaplonski,slaweq,"Remove update_initial_state() method from the HA router

This method was intended to check state of the HA router on the
node and update it in the neutron server.
Patch [1] added check of the initial status to the
neutron_keepalived_state_change_monitor process.
It also could cause some race conditions and event which is setting
correct state of the router will be not processed thus router may endup
with two nodes with ""primary"" state in the Neutron's DB.

Neutron_keepalived_state_change_monitor was notifying agent about
router's initial state only if this state was 'primary'.
Now it will notify agent always to let agent set router's state as
'backup' if needed (that was previously done by this removed
update_initial_state() method).

[1] https://review.opendev.org/c/openstack/neutron/+/642295

Change-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790
Closes-Bug: #1916022
"
openstack%2Fswift~stable%2Fussuri~I7b7be3b62e033ab668316e3c698ba667ceef31f8,openstack/swift,stable/ussuri,ussuri-sharding,I7b7be3b62e033ab668316e3c698ba667ceef31f8,Identify deleted shards as shards,MERGED,2021-02-24 03:15:09.000000000,2021-02-26 23:39:06.000000000,2021-02-26 23:35:21.000000000,50,10,0,777283,eef68d69c586f9231a20b24d973893b154353290,8,2,1,2,597,Pete Zaitcev,zaitcev,"Identify deleted shards as shards

When a DB gets deleted, we clear out its metadata. This included sysmeta
such as that used to tell shards the name of their root DB.

Previously, this would cause deleted shards to pop back to life as roots
that claimed to have objects still sitting in whatever container they
sharnk into.

Now, use the metadata if it's available, but when it's not, go by the
state of the DB's ""own shard range"" -- deleted shards should be marked
deleted, while roots never are.

This allows us to actually clean up the database files; you can test
this by doing something like

 * Run `nosetests test/probe/test_sharder.py:TestContainerSharding.test_shrinking`
 * Run `find /srv/*/*/containers -name '*.db'` to see how many databases
   are left on disk. There should be 15: 3 for the root container, 6 for
   the two shards on the first pass, and another 6 for the two shards on
   the second pass.
 * Edit container configs to decrease reclaim_age -- even 1 should be
   fine.
 * Run `swift-init main start` to restart the servers.
 * Run `swift-init container-sharder once` to have the shards get marked
   deleted.
 * Run `swift-init container-updater once` to ensure all containers have
   reported.
 * Run `swift-init container-replicator once` to clean up the
   containers.
 * Run `find /srv/*/*/containers -name '*.db'` again to verify no
   containers remain on disk.

Cherry-Picked-From: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b
Change-Id: I7b7be3b62e033ab668316e3c698ba667ceef31f8
"
openstack%2Fswift~stable%2Ftrain~Ie5bee7eb7d219a6c8cec5fc1c9367793cecc7f4f,openstack/swift,stable/train,train-sharding,Ie5bee7eb7d219a6c8cec5fc1c9367793cecc7f4f,sharding: Add probe test that exercises swift-manage-shard-ranges,MERGED,2021-02-06 02:29:07.000000000,2021-02-26 23:39:04.000000000,2021-02-26 23:34:39.000000000,91,2,0,774332,f96f2411745ed4b50c28fe35d97550368cf265de,9,2,2,1,597,Pete Zaitcev,zaitcev,"sharding: Add probe test that exercises swift-manage-shard-ranges

Cherry-Picked-From: Ic7c40589679c290e5565f9581f70b9a1c070f6ab
Change-Id: Ie5bee7eb7d219a6c8cec5fc1c9367793cecc7f4f
"
openstack%2Fcinder~master~I10afd1fb781f8f3c933a2783723215654da31e00,openstack/cinder,master,,I10afd1fb781f8f3c933a2783723215654da31e00,Fusionstorage Cinder Driver Support OceanStor 100D Storage.(dsware),MERGED,2020-07-17 06:16:40.000000000,2021-02-26 23:37:24.000000000,2021-02-19 22:16:32.000000000,6,1,2,741579,40d93a61187de417af1d7fd761723bb91e2333bc,84,29,4,2,29217,futaotao,doubletao,"Fusionstorage Cinder Driver Support OceanStor 100D Storage.(dsware)

Due to Fusionstorage rename to OceanStor 100D, there is a necessary
to support OceanStor 100D with Fusionstorage Cinder Driver.(dsware)

Change-Id: I10afd1fb781f8f3c933a2783723215654da31e00
"
openstack%2Fswift~stable%2Ftrain~Icfffb3e7f53161a2641e8fd5be55b045d0c3de02,openstack/swift,stable/train,train-sharding,Icfffb3e7f53161a2641e8fd5be55b045d0c3de02,py27: Suppress UnicodeWarnings in ShardRange setters,MERGED,2021-02-06 02:29:07.000000000,2021-02-26 23:34:56.000000000,2021-02-26 23:34:56.000000000,18,8,0,774333,7159cb73dce8eb7de95d0bfbb6d30a3a1740c937,8,2,2,2,597,Pete Zaitcev,zaitcev,"py27: Suppress UnicodeWarnings in ShardRange setters

Previously, we'd see warnings like

   UnicodeWarning: Unicode equal comparison failed to convert both
   arguments to Unicode - interpreting them as being unequal

when setting lower/upper bounds with non-ascii byte strings.

Cherry-Picked-From: I328f297a5403d7e59db95bc726428a3f92df88e1
Change-Id: Icfffb3e7f53161a2641e8fd5be55b045d0c3de02
"
openstack%2Fironic~master~I57bab93adaf7e562c4c46febd612e1f27ea50bfa,openstack/ironic,master,secure-rbac,I57bab93adaf7e562c4c46febd612e1f27ea50bfa,RBAC System Scope: observer -> reader,MERGED,2021-01-25 22:56:52.000000000,2021-02-26 23:18:26.000000000,2021-02-26 23:15:24.000000000,195,196,0,772450,eabb72b6bc3e23f649b03a89a50e52e479f6e2d5,30,4,6,1,11655,Julia Kreger,jkreger,"RBAC System Scope: observer -> reader

One of the default role names in the RBAC model with system and
project scopes is reader. Reader replaces observer, and while this
was not done earlier to the tests in system scope was because it is
better to evolve the tests being able to run individual groups with
the same name as opposed to different names.

Change-Id: I57bab93adaf7e562c4c46febd612e1f27ea50bfa
"
openstack%2Fmonasca-notification~stable%2Ftrain~Ib4ecaf8398a54543d2d9f452681ca46a056d8dc5,openstack/monasca-notification,stable/train,cap-bandit,Ib4ecaf8398a54543d2d9f452681ca46a056d8dc5,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 21:51:26.000000000,2021-02-26 23:17:43.000000000,2021-02-26 23:16:36.000000000,3,3,0,777837,293306e14dfaa775211bcf7d9b5542cd61fb8bd6,8,2,2,2,28062,Martin Chacon Piza,martinchacon,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] so cap to
1.6.2 when using py2.

This change also raises hacking to 1.1.0 in lower-constraints.txt
This also means that flake8 is bumped to 2.6.0

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615

Change-Id: Ib4ecaf8398a54543d2d9f452681ca46a056d8dc5
"
openstack%2Fironic~master~I1d1d1bdae0171c44e122018a8a83b35dbb093c39,openstack/ironic,master,secure-rbac,I1d1d1bdae0171c44e122018a8a83b35dbb093c39,Implement system scoped RBAC for the deploy templates APIs,MERGED,2020-11-18 22:05:34.000000000,2021-02-26 23:17:12.000000000,2021-02-26 23:15:16.000000000,86,38,10,763277,27a889854021d20c15b3eaa309d6d8a3b33cb737,65,8,9,4,5046,Lance Bragstad,ldbragst,"Implement system scoped RBAC for the deploy templates APIs

This commit updates the policies for baremetal deploy template policies to
understand scope checking and account for a read-only role. This is part of a
broader series of changes across OpenStack to provide a consistent RBAC
experience and improve security.

Change-Id: I1d1d1bdae0171c44e122018a8a83b35dbb093c39
"
openstack%2Foctavia-tempest-plugin~master~Idcc13fdaafb8ffe41710fc3c67f30932725cf66e,openstack/octavia-tempest-plugin,master,dnm-sip-tcp-debug,Idcc13fdaafb8ffe41710fc3c67f30932725cf66e,Add delay to SOURCE_IP_PORT TCP test,MERGED,2021-01-21 21:57:06.000000000,2021-02-26 23:03:40.000000000,2021-02-26 23:02:12.000000000,6,1,1,771888,52531e2b14bb77366071d39ee82bf7963f1e0905,38,4,6,2,1131,Brian Haley,brian-haley,"Add delay to SOURCE_IP_PORT TCP test

Without a delay it can trigger a ""Cannot assign requested
address"" warning setting the source port, leading to failure.

Also added a log debug statement when a source port is
being used since it can help with debugging.

Change-Id: Idcc13fdaafb8ffe41710fc3c67f30932725cf66e
"
openstack%2Fneutron~master~I00c676e234fd9f771d716def7e4388bf33004118,openstack/neutron,master,bug/41558,I00c676e234fd9f771d716def7e4388bf33004118,"Implement ""ip neigh flush"" with Pyroute2",MERGED,2021-02-18 16:57:55.000000000,2021-02-26 22:53:32.000000000,2021-02-26 22:51:45.000000000,83,19,0,776495,591715b86e086bc42065a9bae1690927414100ad,28,4,3,4,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Implement ""ip neigh flush"" with Pyroute2

Story: #2007686
Task: #41558

Change-Id: I00c676e234fd9f771d716def7e4388bf33004118
"
openstack%2Fpython-cinderclient~master~I288e2a3a577a2c1098feca5db4024b608b06dc56,openstack/python-cinderclient,master,feature/keystone-v3-migration,I288e2a3a577a2c1098feca5db4024b608b06dc56,Initial stab at new shell args for v3 migration.,ABANDONED,2014-05-27 18:07:33.000000000,2021-02-26 22:46:31.000000000,,85,0,0,95847,229c4a3ee1a0c5f2e3f62d895f832662627d9e28,3,2,1,1,9249,Dan Flye,danflye,"Initial stab at new shell args for v3 migration.

Change-Id: I288e2a3a577a2c1098feca5db4024b608b06dc56
"
openstack%2Fpython-cinderclient~master~I6bd64675f3be88fe54290753cbf12f9215975cda,openstack/python-cinderclient,master,volume_transfers,I6bd64675f3be88fe54290753cbf12f9215975cda,Remove missprints and c/p errors,ABANDONED,2013-12-04 14:26:30.000000000,2021-02-26 22:45:53.000000000,,6,6,0,59985,fa6eb7e34b0fac9ee21df153debc13339b40a535,2,1,2,3,9300,Igor A. Lukyanenkov,unconn,"Remove missprints and c/p errors

Changed imports from v1 to v2 in related clients and tests.

Change-Id: I6bd64675f3be88fe54290753cbf12f9215975cda
"
openstack%2Foctavia~stable%2Fussuri~Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,openstack/octavia,stable/ussuri,,Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,Fix nf_conntrack_buckets sysctl in Amphora,MERGED,2021-02-02 08:14:10.000000000,2021-02-26 22:10:19.000000000,2021-02-26 22:08:59.000000000,9,1,0,773600,9f1307affc328e5ca58a2e814ed55885ed0710c7,10,3,1,3,29244,Gregory Thiemonge,gthiemonge,"Fix nf_conntrack_buckets sysctl in Amphora

Setting nf_conntrack_buckets in the amphora namespace fails because this
sysctl can only be set in the initial namespace (cf kernel doc at
https://www.kernel.org/doc/Documentation/networking/nf_conntrack-sysctl.txt)

This commit allows to set nf_conntrack_buckets in the initial namespace,
the value is then inherited by other namespaces.

Conntrack is not enabled in the main namespace, the new default value
doesn't affect this namespace behavior.

Conflicts:
	elements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel

Story: 2008028
Task: 40682

Change-Id: Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615
(cherry picked from commit 64a301d4ec85a1bc9b208e60d7958a89e6972976)
(cherry picked from commit dd1580d332c2191e8d28bab692c1fa08e3e8ae80)
"
openstack%2Fcharm-vault~master~Id32206febe75b9df45af9ac99cf51f4d3f34dc42,openstack/charm-vault,master,rename-link-in-readme,Id32206febe75b9df45af9ac99cf51f4d3f34dc42,Fix up README,MERGED,2021-02-24 20:03:46.000000000,2021-02-26 22:01:22.000000000,2021-02-26 22:01:22.000000000,14,8,0,777459,e851c0d6c79ea3272af92b8c92de78317d3a3163,8,3,1,1,30561,Peter Matulis,pmatulis,"Fix up README

* Retitle a few links.

* Update as per README template.

Change-Id: Id32206febe75b9df45af9ac99cf51f4d3f34dc42
"
openstack%2Fcharm-deployment-guide~master~I1eb34e18be123768738221159595c705a63b7d28,openstack/charm-deployment-guide,master,bug/1876576,I1eb34e18be123768738221159595c705a63b7d28,Discuss subordinate applications during payload upgrades,MERGED,2021-02-26 21:07:09.000000000,2021-02-26 22:01:17.000000000,2021-02-26 22:00:03.000000000,32,24,0,777830,1079ae0634e117b4e38df44215993b401770c97d,7,2,1,1,30561,Peter Matulis,pmatulis,"Discuss subordinate applications during payload upgrades

Subordinate charm applications do not require explicit
upgrading. Mention this.

Driveby: Be consistent with the `--wait` run-action option

Closes-Bug: #1876576
Change-Id: I1eb34e18be123768738221159595c705a63b7d28
"
openstack%2Fcharm-deployment-guide~master~I04a9cea92ace4a1a26cb5abeef89b371930a9b65,openstack/charm-deployment-guide,master,bug/1885516,I04a9cea92ace4a1a26cb5abeef89b371930a9b65,Add known upgrade issue - BlueStore,MERGED,2021-02-25 18:10:01.000000000,2021-02-26 21:44:33.000000000,2021-02-26 21:43:16.000000000,11,0,0,777645,346ed0dded76ae507ce1664b447c29efde3e80ea,7,2,1,1,30561,Peter Matulis,pmatulis,"Add known upgrade issue - BlueStore

Add a known upgrade issue when a non-BlueStore cloud
gets BlueStore enabled due to an OpenStack upgrade.

Related-Bug: #1885516

Change-Id: I04a9cea92ace4a1a26cb5abeef89b371930a9b65
"
openstack%2Fcharm-mysql-innodb-cluster~master~If62a72fffa5e6b7c37505e2195542f800aa19842,openstack/charm-mysql-innodb-cluster,master,update-readme,If62a72fffa5e6b7c37505e2195542f800aa19842,Update README,MERGED,2021-02-26 01:23:15.000000000,2021-02-26 21:32:17.000000000,2021-02-26 21:32:17.000000000,29,32,0,777706,9c288c61c2bd4324fef61802144c1388028a1ccf,11,3,2,1,30561,Peter Matulis,pmatulis,"Update README

* Simplify the Deployment section.

    Redid add-relation to mysql-router.
    Talk of multiple nodes being required consolidated.
    Setting 'cluster-name' is not of much value (removed).
    Deprecated shared-db endpoint command removed.
    Scaling out command was moved to the CDG.

* Apply current README template

Depends-On: I9c5e2f4a8d5f24ee8b0cedb3d3af13bce8c90e29
Change-Id: If62a72fffa5e6b7c37505e2195542f800aa19842
"
openstack%2Fneutron~master~I8c69e62ba56b0d3204e9c12df3133126071b92f7,openstack/neutron,master,bp/address-groups-in-sg-rules,I8c69e62ba56b0d3204e9c12df3133126071b92f7,Support address group in OVS firewall agent,MERGED,2020-10-12 21:10:31.000000000,2021-02-26 21:19:38.000000000,2021-02-16 01:37:04.000000000,354,73,25,757650,9f09b1fb19c3571a0b1cae76b0bb99648c3b5554,118,10,17,11,28159,Hang Yang,hangyang,"Support address group in OVS firewall agent

Support security group rules with remote_address_group_id in openvswitch
firewall. This change reuses most of the firewall functions handling remote
security groups to also process remote address groups. The conjunctive flows
for a rule with remote_adress_group_id are similar to others with
remote_group_id but have different conj_ids.

Change-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7
Implements: blueprint address-groups-in-sg-rules
"
openstack%2Fcharm-hacluster~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-hacluster,master,feature/new-zuul,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:43:23.000000000,2021-02-26 21:04:46.000000000,2021-02-26 21:04:46.000000000,4,0,0,776353,d3b4030fd0c79ff559841f2d62516a0133ab6063,11,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fcharm-octavia-dashboard~master~I996496c12e189257a27fdb39dd094ccb0a6df929,openstack/charm-octavia-dashboard,master,feature/new-zuul,I996496c12e189257a27fdb39dd094ccb0a6df929,Add new osci.yaml,MERGED,2021-02-18 07:48:10.000000000,2021-02-26 20:52:04.000000000,2021-02-26 20:52:04.000000000,15,0,0,776381,a89d2cdad3818cd8e62404d207a24b31cfcad504,11,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I996496c12e189257a27fdb39dd094ccb0a6df929
"
openstack%2Fcharm-keystone-ldap~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-keystone-ldap,master,feature/new-zuul,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:44:25.000000000,2021-02-26 20:50:53.000000000,2021-02-26 20:50:53.000000000,7,0,0,776359,71a0c82861ec0c4e6a3f288bedba1248f378a4b5,11,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fcharm-keystone~master~I1cc665c028ac3d63117f34a33c2335183564d318,openstack/charm-keystone,master,feature/new-zuul,I1cc665c028ac3d63117f34a33c2335183564d318,Add new osci.yaml,MERGED,2021-02-18 07:44:06.000000000,2021-02-26 20:50:49.000000000,2021-02-26 20:50:49.000000000,4,0,0,776357,ae4b8da5ad64dd6860ed1cea39f3a44023525531,11,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I1cc665c028ac3d63117f34a33c2335183564d318
"
openstack%2Fcharm-heat~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-heat,master,feature/new-zuul,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:43:32.000000000,2021-02-26 20:48:00.000000000,2021-02-26 20:48:00.000000000,4,0,0,776354,1e78c79e6906aae4c5f20b62a6cb2991f36d482e,11,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fneutron~master~I4749fdc6a6cabd253b971bf4010ff76f5593c59c,openstack/neutron,master,bug/1902917,I4749fdc6a6cabd253b971bf4010ff76f5593c59c,[OVS FW] Allow egress ICMPv6 only for know addresses,MERGED,2021-02-19 10:44:16.000000000,2021-02-26 20:21:20.000000000,2021-02-26 20:19:12.000000000,69,25,3,776599,4b5bcff64c4725b37f094dfd2613ec58f723d304,18,5,1,3,11975,Slawek Kaplonski,slaweq,"[OVS FW] Allow egress ICMPv6 only for know addresses

Before that patch it was possible to send ICMPv6 packets like e.g.
    neutron_lib.constants.ICMPV6_TYPE_MLD_QUERY,
    neutron_lib.constants.ICMPV6_TYPE_RS,
    neutron_lib.constants.ICMPV6_TYPE_NS,
    neutron_lib.constants.ICMPV6_TYPE_NA

And that could cause some security issues as instance could advertise
that it owns IPv6 address which really don't belong to it.

Now rules in table=71 which allows that traffic are ""per mac/ipaddress""
and are allowed only for fixed ips allocated to port and port's
allowed_address_pairs.

Closes-Bug: #1902917
Change-Id: I4749fdc6a6cabd253b971bf4010ff76f5593c59c
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,openstack/tripleo-heat-templates,stable/ussuri,fix-redis-tls-stable/victoria-stable/ussuri,I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,Fix redis_tls_proxy,MERGED,2021-02-25 15:59:55.000000000,2021-02-26 20:09:21.000000000,2021-02-26 20:09:21.000000000,22,0,0,777548,bc1fd47416627413346afd80458d3068bd10d2b1,11,4,1,1,20172,Michele Baldessari,michele,"Fix redis_tls_proxy

Since we merged the pcs-host patches we erroneously also removed
the sidecar container that does the tls stunneling for redis.
This is needed to allow the redis master stream the deplications to
its slaves via TLS.

Tested this and we now correctly get the working container and cluster
state:
[root@controller-0 ~]# podman ps -a |grep redis
4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0
604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy
[root@controller-0 ~]# pcs status |grep redis
  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]
  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:
    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0
    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1
    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2

We also move the redis_tls_proxy from step_2/start_order: 3 to step_1
since it actually makes sense to have it run before we start the
redis pcmk bundle at step 2 (i.e. so the slave replica can work right
away from the start).

Closes-Bug: #1916873

Change-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab
"
openstack%2Fcharm-deployment-guide~master~I9e9ff874121c3af1aeb6fd2b16acc978f185a559,openstack/charm-deployment-guide,master,bug/1911060,I9e9ff874121c3af1aeb6fd2b16acc978f185a559,Be explicit what series the controller should be,MERGED,2021-02-25 20:46:05.000000000,2021-02-26 20:07:28.000000000,2021-02-26 20:06:19.000000000,3,3,0,777677,f98a834c1c0f378899ff22f53dbc039a87a3e827,7,2,1,1,30561,Peter Matulis,pmatulis,"Be explicit what series the controller should be

Use the `--bootstrap-series` option when creating
the controller on the install-juju page to specify
the focal series.

Closes-Bug: #1911060

Change-Id: I9e9ff874121c3af1aeb6fd2b16acc978f185a559
"
openstack%2Fironic~master~I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8,openstack/ironic,master,secure-rbac,I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8,Implement system scoped RBAC for the event APIs,MERGED,2020-11-18 22:05:34.000000000,2021-02-26 20:05:52.000000000,2021-02-26 20:03:54.000000000,47,5,18,763276,046e99c0b473003490ab031430a6aac31ecbde19,63,8,9,3,5046,Lance Bragstad,ldbragst,"Implement system scoped RBAC for the event APIs

This commit updates the policies for baremetal event policies to understand
scope checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC experience and
improve security.

Change-Id: I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8
"
openstack%2Fbashate~master~I92e6930e06f04e6554aa4739d6b193c9c3555b69,openstack/bashate,master,,I92e6930e06f04e6554aa4739d6b193c9c3555b69,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 17:25:24.000000000,2021-02-26 19:56:17.000000000,2021-02-26 19:54:54.000000000,3,3,0,777634,4e5de6a91e176c415f1aa8cc614305e2b3ed0b44,8,3,1,1,30615,Tushar Trambak Gite,tushargite96,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I92e6930e06f04e6554aa4739d6b193c9c3555b69
"
openstack%2Frequirements~master~Iaab12a0ba197afa4dacd5cb621a26e0c218315f4,openstack/requirements,master,new-release,Iaab12a0ba197afa4dacd5cb621a26e0c218315f4,update constraint for ldappool to new release 3.0.0,MERGED,2021-02-26 15:40:00.000000000,2021-02-26 19:48:06.000000000,2021-02-26 19:46:57.000000000,1,1,0,777762,d021f08dd7418f546611ac0ef6cae31db7d845c0,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for ldappool to new release 3.0.0

meta: version: 3.0.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta: release:Change-Id: I16f8121258b29cec7945efe3321e09b3521b95dc
meta: release:Code-Review+1: Kristi Nikolla <knikolla@bu.edu>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Iaab12a0ba197afa4dacd5cb621a26e0c218315f4
"
openstack%2Fovn-octavia-provider~stable%2Fvictoria~I425a4265d5bca990d4b93d19eedc7b40a73311ef,openstack/ovn-octavia-provider,stable/victoria,pin-pylint,I425a4265d5bca990d4b93d19eedc7b40a73311ef,Pin pylint version,MERGED,2021-02-24 22:02:48.000000000,2021-02-26 19:21:19.000000000,2021-02-26 19:20:10.000000000,3,3,1,777474,0db33223de2b3fc8f6158c9ada177434aaaa0b4f,9,3,1,2,1131,Brian Haley,brian-haley,"Pin pylint version

Pylint 2.7 added new checks that make pep8 fail.
Fix the error but pin pylint so it doesn't break
the gate in the future.

Change-Id: I425a4265d5bca990d4b93d19eedc7b40a73311ef
"
openstack%2Fovn-octavia-provider~master~I40a45e70156f4306021ade0029b244f4c06440a2,openstack/ovn-octavia-provider,master,pylint-2.6.0,I40a45e70156f4306021ade0029b244f4c06440a2,Update to pylint 2.6.0+,MERGED,2020-09-16 16:50:36.000000000,2021-02-26 19:16:43.000000000,2021-02-26 19:15:30.000000000,30,32,0,752274,ffc31609848cb269219941bb527e94a8ce039193,27,5,3,14,1131,Brian Haley,brian-haley,"Update to pylint 2.6.0+

Pylint 2.6.0 added two new checkers [1] that made pep8 validation
fail:

- raise-missing-from (W0707)
- super-with-arguments (R1725)

Pylint 2.7.0 added one new checker [1] that made pep8 validation
fail:

- use-a-generator (R1729)

[1] http://pylint.pycqa.org/en/latest/technical_reference/features.html

Change-Id: I40a45e70156f4306021ade0029b244f4c06440a2
"
openstack%2Fmonasca-notification~stable%2Fussuri~I125912b1e125aba71db0aa077dee4a412ae7873f,openstack/monasca-notification,stable/ussuri,fix-zuul-publish,I125912b1e125aba71db0aa077dee4a412ae7873f,Fix zuul publish docker image job,MERGED,2021-02-26 10:10:26.000000000,2021-02-26 19:08:56.000000000,2021-02-26 19:08:56.000000000,1,1,0,777735,8f7a893701762de73cbeb716c2560d05167806b8,9,2,2,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I125912b1e125aba71db0aa077dee4a412ae7873f
"
openstack%2Fproject-config~master~I33af5c79fddf5e7941142ce0a1e7fedf7941a4dc,openstack/project-config,master,gitreview-2,I33af5c79fddf5e7941142ce0a1e7fedf7941a4dc,Move git-review to opendev tenant,MERGED,2021-02-26 17:36:49.000000000,2021-02-26 19:08:32.000000000,2021-02-26 18:50:19.000000000,1,6,0,777774,9d25d9cfd31b2700840d78524619261140a1730d,9,3,1,2,5263,Jeremy Stanley,fungi,"Move git-review to opendev tenant

Relocate the opendev/git-review repository from the openstack tenant
into the opendev tenant. Also delete its release jobs, as a subsequent
change will add new ones in the project's repository instead. All
other git-review jobs are already set in its repository.

Change-Id: I33af5c79fddf5e7941142ce0a1e7fedf7941a4dc
"
openstack%2Fopenstack-helm-infra~master~I959fb9e95d8f1e03c36e44aba57c552a315867d0,openstack/openstack-helm-infra,master,change-774912-18,I959fb9e95d8f1e03c36e44aba57c552a315867d0,[ceph-client] Separate pool quotas from pg_num calculations,MERGED,2021-02-10 17:51:05.000000000,2021-02-26 19:04:47.000000000,2021-02-26 19:03:26.000000000,56,12,0,774912,cf7d665e793349f331b3eb76aea5c6d07c2b033a,53,7,21,4,29974,Stephen Taylor,st053q,"[ceph-client] Separate pool quotas from pg_num calculations

Currently pool quotas and pg_num calculations are both based on
percent_total_data values. This can be problematic when the amount
of data allowed in a pool doesn't necessarily match the percentage
of the cluster's data expected to be stored in the pool. It is
also more intuitive to define absolute quotas for pools.

This change adds an optional pool_quota value that defines an
explicit value in bytes to be used as a pool quota. If pool_quota
is omitted for a given pool, that pool's quota is set to 0 (no
quota).

A check_pool_quota_target() Helm test has also been added to
verify that the sum of all pool quotas does not exceed the target
quota defined for the cluster if present.

Change-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0
"
openstack%2Fswift~master~I5fa39d41f9cd3b211e45d2012fd709f4135f595e,openstack/swift,master,update_stats_sharded_split,I5fa39d41f9cd3b211e45d2012fd709f4135f595e,Report final in_progress when sharding is complete,MERGED,2021-02-08 06:12:10.000000000,2021-02-26 18:45:51.000000000,2021-02-26 18:42:36.000000000,230,27,39,774393,1de98348167f9923710d1a6d634ef6d8008eea5d,42,4,14,5,7233,Matthew Oliver,mattoliverau,"Report final in_progress when sharding is complete

On every sharder cycle up update in progress recon stats for each sharding
container. However, we tend to not run it one final time once sharding
is complete because the DB state is changed to SHARDED and therefore the
in_progress stats never get their final update.
For those collecting this data to monitor, this makes sharding/cleaving shards
never complete.

This patch, adds a new option `recon_shared_timeout` which will now
allow sharded containers to be processed by `_record_sharding_progress()`
after they've finished sharding for an amount of time.

Change-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e
"
openstack%2Fswift~master~I2a6024277d1198d8c996682682bfe28797344951,openstack/swift,master,update_stats_sharded_split,I2a6024277d1198d8c996682682bfe28797344951,Plumb sharding stats though recon middleware,MERGED,2021-02-24 05:03:25.000000000,2021-02-26 18:44:30.000000000,2021-02-26 18:42:21.000000000,173,3,12,777297,b1309c95e5d1219a9241bdf1243d9dbdd17cb2d0,18,3,5,4,7233,Matthew Oliver,mattoliverau,"Plumb sharding stats though recon middleware

To make it easier to have access to the sharding stats add
/recon/sharding as a recon middleware endpoint.

This allows an easy way to ask a container server for it's sharding
stats using REST inside the cluster:

  curl <container-server>/recon/sharding

Also add a get_recon method to the direct client so it can also be used
easily inside tooling and probe tests.

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: I2a6024277d1198d8c996682682bfe28797344951
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,openstack/tripleo-ansible,stable/train,change-777321-1,I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,Option to remove the self-installed ReaR cron task,MERGED,2021-02-24 11:33:00.000000000,2021-02-26 18:33:29.000000000,2021-02-26 18:33:29.000000000,12,0,0,777321,210d650464f99c90189f5fc716bfb307aabe4c2f,20,6,2,2,32968,Juan Larriba,jlarriba,"Option to remove the self-installed ReaR cron task

By default, the ReaR rpm installs a cronjob on /etc/cron.d/rear with
a default programming. This programming runs a backup job at
1:30AM every day. During this automatic backup, the services are not
appropiately paused. This causes the created backup to have non-valid
data.

As the most recent backup overwrites the older ones, this deletes
the ""good"" backup taken at operator's discretion with a new one
that cannot be used to restore the control plane state.

This change aims to optionally disable this default rpm behaviour.

Closes-Bug: #1912764
Change-Id: I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8
(cherry picked from commit f0acda953ca3d8ab1c17f5c9e009458168fe6f82)
"
openstack%2Fswift~master~Ifda4407c9ecff4c636fe07e013c3ebcebd0df018,openstack/swift,master,update_stats_sharded_split,Ifda4407c9ecff4c636fe07e013c3ebcebd0df018,Run garbage collector during probe test setUp,MERGED,2021-02-26 15:56:46.000000000,2021-02-26 18:10:33.000000000,2021-02-26 18:09:07.000000000,5,0,0,777765,6ed82b106c164560a4cbeddd39ed8a6a8d77d89d,8,3,1,1,7847,Alistair Coles,acoles,"Run garbage collector during probe test setUp

DatabaseBrokers cache opened connections.  If a probe test
instantiates a DatabaseBroker, or any other class that in turn
instantiates a DatabaseBroker, such as a ContainerSharder, then
connections may hold db files open until the DatabaseBroker is garbage
collected. This can cause subsequent probe tests to fail during their
setUp() because resetswift is unable to unmount device directories
while db files are open.

A call to gc.collect() is added during setUp() to ensure db files are
closed before resetswift() is called.

Closes-Bug: 1917050
Change-Id: Ifda4407c9ecff4c636fe07e013c3ebcebd0df018
"
openstack%2Fmonasca-notification~stable%2Fussuri~Ia36e706d995ab8174c7f8b4acc42aa57f14766de,openstack/monasca-notification,stable/ussuri,update-lower-constraints,Ia36e706d995ab8174c7f8b4acc42aa57f14766de,Update lower-constraints,MERGED,2021-02-26 15:42:15.000000000,2021-02-26 17:55:07.000000000,2021-02-26 17:52:47.000000000,18,12,0,777763,05249aec2333ccad1a83d53cee7295a0784fb028,10,2,2,9,28062,Martin Chacon Piza,martinchacon,"Update lower-constraints

Fix flake8 E305 and E117 and set W504 as ignored

Change-Id: Ia36e706d995ab8174c7f8b4acc42aa57f14766de
"
openstack%2Fopenstack-helm-deployments~master~I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae,openstack/openstack-helm-deployments,master,fix-gates,I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae,Adjust Gate for Airshipctl secret-generate additions,MERGED,2021-02-16 20:00:59.000000000,2021-02-26 17:48:24.000000000,2021-02-26 17:48:24.000000000,33,3,0,775925,a1b0f7d1724f0400df2e1d6844c9fbbe45796ee6,108,4,33,7,21420,Gage Hugo,ghugo,"Adjust Gate for Airshipctl secret-generate additions

Gate must be adjusted to account for airshipctl
changes found below. Adds scripts to gate for
installing dependencies for secret-generate phase
as well as overrides for relative paths used to
generate and retrieve generated secrets.

https://review.opendev.org/c/airship/airshipctl/+/773730


Change-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae
"
openstack%2Fpython-tripleoclient~master~Ia1337dcbeceed485eda14733221164529daf0856,openstack/python-tripleoclient,master,,Ia1337dcbeceed485eda14733221164529daf0856,Add label argument for the container image build,MERGED,2021-02-25 20:29:47.000000000,2021-02-26 17:41:15.000000000,2021-02-26 17:40:04.000000000,44,0,0,777672,2c5927a5ad3c2066b4aebd8bc1cee9563454eaa7,10,5,1,2,7353,Kevin Carter,cloudnull,"Add label argument for the container image build

This change adds a new argument for the container image build CLI,
which allows operators to inject specific labels into a build that
also supports basic string replacement from user input. This
feature will allow maintainers and vendors to appropriately label
their container images without running any post validation or
injection.

Change-Id: Ia1337dcbeceed485eda14733221164529daf0856
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fcharm-glance~master~Ie65d6f78f91423ba2477c3a75c195269dbe26e02,openstack/charm-glance,master,bug/1915300,Ie65d6f78f91423ba2477c3a75c195269dbe26e02,Fix to ensure that GLANCE_SWIFT_CONF is always written,ABANDONED,2021-02-26 15:43:30.000000000,2021-02-26 17:35:03.000000000,,7,1,0,777764,549c7b0df53f478877f6c97b1c2b2bfc7e15b52d,5,2,1,2,20870,Alex Kavanagh,ajkavanagh,"Fix to ensure that GLANCE_SWIFT_CONF is always written

See associated bug.  Patch ensures that the GLANCE_SWIFT_CONF file
is always written when the object-store-relation is joined to the unit
even if it is the last relation to be made.  The bug indicates that this
isn't the case if the object-store relation is the last relation to be
joined.

Change-Id: Ie65d6f78f91423ba2477c3a75c195269dbe26e02
Closes-Bug: #1915300
"
openstack%2Fmanila~master~I88b664c631eddced4ee1fcdf34cf05222cb73662,openstack/manila,master,secure-rbac,I88b664c631eddced4ee1fcdf34cf05222cb73662,"Drop ""system_scope"" from context constructor",MERGED,2021-02-25 19:02:17.000000000,2021-02-26 17:16:57.000000000,2021-02-26 17:15:40.000000000,0,1,0,777652,00133f93ae2c597ffa8eef1b3b8e8523671ca661,17,4,1,1,16643,Goutham Pacha Ravi,gouthamr,"Drop ""system_scope"" from context constructor

Manila's RequestContext base class was
recently refactored to allow arbitrary
keyword arguments to be passed on to the
base Context class in oslo_context. This
was done so that we don't have to maintain
every new addition to Context within manila
code since that layer may change as the
middleware components (keystonemiddleware, for
example) evolve outside of manila.

During this refactor, ""system_scope"" was
inadvertently added as a separate keyword
argument, and it wasn't being passed to the
base class, causing system scoped users to
not be represented correctly in the API.
We can drop this parameter and allow it to
flow transparently through ""kwargs"".

Change-Id: I88b664c631eddced4ee1fcdf34cf05222cb73662
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fpatrole~master~Iad89625e7514d1046e0340db96a73960a17023cf,openstack/patrole,master,,Iad89625e7514d1046e0340db96a73960a17023cf,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 16:59:43.000000000,2021-02-26 17:04:15.000000000,2021-02-26 17:02:48.000000000,6,6,0,777628,9ec7c465620dd44d392ba12ecb58bfadd97f3260,7,2,1,1,30615,Tushar Trambak Gite,tushargite96,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Iad89625e7514d1046e0340db96a73960a17023cf
"
openstack%2Fopenstack-helm~master~If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21,openstack/openstack-helm,master,change-772813-7,If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21,"Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""",MERGED,2021-01-28 20:08:43.000000000,2021-02-26 16:54:12.000000000,2021-02-26 16:52:27.000000000,37,17,6,772813,ca47e3c97481c8c2bdf1f3b69cabcf8bef867871,177,16,36,25,30495,Nafiz Haider,nafh27,"Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""

This reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.

Reason for revert: resolved bug with cluster issuer versioning

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814

Co-authored-by: Sangeet Gupta <sg774j@att.com>

Change-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21
"
openstack%2Ftempest-stress~master~I6190b08b009f168bdbb1e904bf50048ac98b45ba,openstack/tempest-stress,master,,I6190b08b009f168bdbb1e904bf50048ac98b45ba,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 17:17:34.000000000,2021-02-26 16:36:09.000000000,2021-02-26 16:35:00.000000000,2,2,0,777631,47aa709502cc0570d6381e42a8abe4eb7475e249,7,2,1,1,30615,Tushar Trambak Gite,tushargite96,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I6190b08b009f168bdbb1e904bf50048ac98b45ba
"
openstack%2Fdevstack-tools~master~I1229f065abfcbbd7a8724c12c0597d6765be9bcd,openstack/devstack-tools,master,,I1229f065abfcbbd7a8724c12c0597d6765be9bcd,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 17:31:12.000000000,2021-02-26 16:29:56.000000000,2021-02-26 16:28:38.000000000,3,3,0,777635,60fc831b64a5715585216ba173e04f382c9ae6f7,7,2,1,1,30615,Tushar Trambak Gite,tushargite96,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I1229f065abfcbbd7a8724c12c0597d6765be9bcd
"
openstack%2Fos-performance-tools~master~I8b8952dfbfc48fd6628584808dd5ae76db163e0b,openstack/os-performance-tools,master,,I8b8952dfbfc48fd6628584808dd5ae76db163e0b,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 17:58:58.000000000,2021-02-26 16:27:01.000000000,2021-02-26 16:25:40.000000000,2,2,0,777640,fd7258f79d0347f6716d5dfe80764902a8f68ac5,7,2,1,1,30615,Tushar Trambak Gite,tushargite96,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I8b8952dfbfc48fd6628584808dd5ae76db163e0b
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,openstack/tripleo-heat-templates,stable/train,,I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,Don't try creating default admin and member roles,MERGED,2021-02-24 09:16:56.000000000,2021-02-26 16:25:18.000000000,2021-02-26 16:25:18.000000000,0,4,0,777341,7d56985fa3342abb9c6d8bd3e6ade3f8f3c065f1,19,7,2,1,8833,Rabi Mishra,rabi,"Don't try creating default admin and member roles

These are default roles and we don't need to create them for
ceph. Also swift user does not need admin role.

Closes-Bug: 1916756
Resolves: rhbz#1932208

Change-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f
(cherry picked from commit c1462b7608be9c7b925009ec95c9bbed0c08d98c)
(cherry picked from commit bd5e2c80fd7bfac2eb72c6c87557f64885648e53)
(cherry picked from commit 6de73eca77ae3650985e0b5d0d7d6c42562f1e6c)
"
openstack%2Fcharm-deployment-guide~master~I9c5e2f4a8d5f24ee8b0cedb3d3af13bce8c90e29,openstack/charm-deployment-guide,master,improve-ha-mysql,I9c5e2f4a8d5f24ee8b0cedb3d3af13bce8c90e29,Add scaling out text for MySQL8 cluster,MERGED,2021-02-26 01:06:46.000000000,2021-02-26 15:54:34.000000000,2021-02-26 15:52:43.000000000,7,0,0,777704,1634bb1a20d1b86bb2946c6d5afe632664ee7146,7,2,1,1,30561,Peter Matulis,pmatulis,"Add scaling out text for MySQL8 cluster

Move a scaling out command from the mysql-innodb-cluster
charm README to the HA page in this guide.

Change-Id: I9c5e2f4a8d5f24ee8b0cedb3d3af13bce8c90e29
"
openstack%2Freleases~master~I16f8121258b29cec7945efe3321e09b3521b95dc,openstack/releases,master,ldappool,I16f8121258b29cec7945efe3321e09b3521b95dc,ldappool 3.0.0,MERGED,2021-02-25 12:47:29.000000000,2021-02-26 15:24:11.000000000,2021-02-26 15:24:11.000000000,6,2,0,777584,59d04c954e796e07a7bc421889b279a955b4b438,9,4,1,1,15334,Stephen Finucane,sfinucan,"ldappool 3.0.0

This drops Python 2 support hence the major version bump. We also uncap
PrettyTable and bump some other dependencies like openstackdocstheme and
reno.

Change-Id: I16f8121258b29cec7945efe3321e09b3521b95dc
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fopenstack-ansible-tests~master~I503a3b8bd09e56ab337e364732b42577a582c6a3,openstack/openstack-ansible-tests,master,,I503a3b8bd09e56ab337e364732b42577a582c6a3,DNM: Pull constraint files from local path in CI,NEW,2021-02-26 14:22:44.000000000,2021-02-26 15:08:44.000000000,,9,4,0,777753,a31927176853c6e638791a386cc9f3e947de35d3,2,1,1,1,31542,Andrew Bonney,andrewbonney,"DNM: Pull constraint files from local path in CI

Change-Id: I503a3b8bd09e56ab337e364732b42577a582c6a3
"
openstack%2Fopenstack-helm-infra~master~Ie3ab601f379a17e666b9ed2bfe174dd098abc41f,openstack/openstack-helm-infra,master,rgw-tls-4,Ie3ab601f379a17e666b9ed2bfe174dd098abc41f,[WIP] feat(tls): Enable TLS for Ceph RGW,ABANDONED,2021-02-24 18:45:00.000000000,2021-02-26 15:08:03.000000000,,42,2,0,777451,973791b79981e053285745099c58fac97ebca9dc,13,1,7,6,32190,Frank Ritchie,fr801x,"[WIP] feat(tls): Enable TLS for Ceph RGW

Change-Id: Ie3ab601f379a17e666b9ed2bfe174dd098abc41f
"
openstack%2Fcinder-tempest-plugin~master~Id6dc96915f5b15827e6e8f58cc8195a0f76e9686,openstack/cinder-tempest-plugin,master,fix-add-member-tempest-cbak-swift,Id6dc96915f5b15827e6e8f58cc8195a0f76e9686,Fix cinder-backup/swift: readd member to tempest roles,MERGED,2021-02-25 21:21:04.000000000,2021-02-26 14:46:14.000000000,2021-02-26 14:46:14.000000000,4,0,0,777685,5d7847ccbc7c9a798aa40ee9511c3dd08ca938d6,19,3,1,1,10459,Luigi Toscano,ltoscano,"Fix cinder-backup/swift: readd member to tempest roles

Change I0b6ab9fb943c7b0925a0a0d2490a8bcdfa76cedc removed the 'member'
user from the default roles assigned to dynamic tempest users.
This broke cinder-backup with the default swift backend.

Set the full list of roles, including 'creator' which should be
added by the barbican devstack plugin. Unfortunately the values
here overrides any other setting.

Change-Id: Id6dc96915f5b15827e6e8f58cc8195a0f76e9686
"
openstack%2Ftripleo-common~stable%2Fvictoria~I776192717798c9fc3f02c4d358bebed2bada3593,openstack/tripleo-common,stable/victoria,bug/1915761-stable/victoria,I776192717798c9fc3f02c4d358bebed2bada3593,Fix fact definition for deployments,MERGED,2021-02-23 21:18:10.000000000,2021-02-26 14:44:24.000000000,2021-02-26 14:42:51.000000000,4,4,0,777228,451cbc23efa28019acb838700168aaa25ea548ff,16,3,1,1,14985,Alex Schultz,mwhahaha,"Fix fact definition for deployments

For legacy deployment tasks we construct them here in tripleo-common. In
order to disable inject facts, we need to fix this here too.

Change-Id: I776192717798c9fc3f02c4d358bebed2bada3593
Related-Bug: #1915761
(cherry picked from commit 6af709a65e7814209e5e44f8de14f28c3badc81d)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,openstack/tripleo-heat-templates,stable/victoria,fix-redis-tls-stable/victoria,I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,Fix redis_tls_proxy,MERGED,2021-02-25 15:59:19.000000000,2021-02-26 14:42:56.000000000,2021-02-26 14:42:56.000000000,22,0,0,777546,e6e7019add37e18092078ae1fd0738dcb23bc9cb,12,4,1,1,20172,Michele Baldessari,michele,"Fix redis_tls_proxy

Since we merged the pcs-host patches we erroneously also removed
the sidecar container that does the tls stunneling for redis.
This is needed to allow the redis master stream the deplications to
its slaves via TLS.

Tested this and we now correctly get the working container and cluster
state:
[root@controller-0 ~]# podman ps -a |grep redis
4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0
604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy
[root@controller-0 ~]# pcs status |grep redis
  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]
  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:
    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0
    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1
    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2

We also move the redis_tls_proxy from step_2/start_order: 3 to step_1
since it actually makes sense to have it run before we start the
redis pcmk bundle at step 2 (i.e. so the slave replica can work right
away from the start).

Closes-Bug: #1916873

Change-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab
"
openstack%2Ftripleo-ansible~master~Ic27dcc9f891257ccb15e691674b440501a4c88df,openstack/tripleo-ansible,master,,Ic27dcc9f891257ccb15e691674b440501a4c88df,Also bootstrap tripleo packages on Centos8,ABANDONED,2021-02-26 13:44:15.000000000,2021-02-26 13:47:34.000000000,,38,0,0,777750,a93ee4b74b6af4d665803a49e0c2f50e3d847af1,2,0,1,1,6926,Bogdan Dobrelya,bogdando,"Also bootstrap tripleo packages on Centos8

Centos8 pre-deployed servers fail to install since there is no
match in the vars file.

Change-Id: Ic27dcc9f891257ccb15e691674b440501a4c88df
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fopenstack-ansible~master~Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1,openstack/openstack-ansible,master,,Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1,Workaround nova bug,MERGED,2021-02-25 14:39:09.000000000,2021-02-26 13:42:00.000000000,2021-02-26 13:40:19.000000000,1,0,0,777601,07f7243bf90611e31cd8c94b5ea2883f0ee65bb4,10,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Workaround nova bug

For some reason libvirt of version 5.1 fails to attach
second port to instances with single vcpu and pc-i440fx
machine type.
So we applying workaround with extending amount of cores
for amphora flavor

Related-Bug: #1916879
Change-Id: Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1
"
openstack%2Fneutron-tempest-plugin~master~I4c714f68150f4e40d09048e4d2306619455875b4,openstack/neutron-tempest-plugin,master,,I4c714f68150f4e40d09048e4d2306619455875b4,Add update QoS rule test step to fip-qos scenario,MERGED,2021-02-23 08:21:02.000000000,2021-02-26 13:07:32.000000000,2021-02-26 13:07:32.000000000,32,1,1,777058,f5a40d92f2d3085148f87c8c912d50dc463d5ca1,20,6,5,1,31291,Eduardo Olivares,eolivare,"Add update QoS rule test step to fip-qos scenario

This test step was performed at QoSTest.test_qos_basic_and_update (QoS
policies applied to network and port), but not at
FloatingIPQosTest.test_qos (QoS policies applied to FIP)

Change-Id: I4c714f68150f4e40d09048e4d2306619455875b4
"
openstack%2Fopenstack-ansible-os_adjutant~master~Ie1db13b4b4545ce33449870e5be0eabe2d36df3d,openstack/openstack-ansible-os_adjutant,master,,Ie1db13b4b4545ce33449870e5be0eabe2d36df3d,Use global service variables,MERGED,2021-02-25 14:07:49.000000000,2021-02-26 12:49:17.000000000,2021-02-26 12:47:03.000000000,5,6,0,777596,cd405c2036b2715ddb731d11f746df7bf5cae8f9,9,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: Ie1db13b4b4545ce33449870e5be0eabe2d36df3d
"
openstack%2Fopenstack-ansible-os_adjutant~master~Ib5074969c8c5cbd60f45dcc100cb0cdb9c17662e,openstack/openstack-ansible-os_adjutant,master,,Ib5074969c8c5cbd60f45dcc100cb0cdb9c17662e,Use venv_tag,MERGED,2021-02-25 14:09:18.000000000,2021-02-26 12:48:10.000000000,2021-02-26 12:47:00.000000000,1,1,0,777597,e1245d8ec706ff9b1632052cf812698eea2da6d3,9,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use venv_tag

There was an issue when adjutant didn't use venv_tag that resulted in
broken venv.
We should use proper venv_tag while installing services.

Change-Id: Ib5074969c8c5cbd60f45dcc100cb0cdb9c17662e
"
openstack%2Fmonasca-notification~stable%2Fvictoria~I70c4c771efe0c0cab536aef53a80dac3ae44bd5f,openstack/monasca-notification,stable/victoria,fix-zuul-publish,I70c4c771efe0c0cab536aef53a80dac3ae44bd5f,Fix zuul publish docker image job,MERGED,2021-02-26 09:40:59.000000000,2021-02-26 12:35:29.000000000,2021-02-26 12:35:29.000000000,1,1,0,777731,40e5228d68659eb0cc468c975c4d265b2056799b,8,2,2,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I70c4c771efe0c0cab536aef53a80dac3ae44bd5f
"
openstack%2Fpython-magnumclient~master~I4b9e68d5105cdaa76b7906dbc839182ff3a57df1,openstack/python-magnumclient,master,bump_prettytable_version,I4b9e68d5105cdaa76b7906dbc839182ff3a57df1,Uncap PrettyTable,MERGED,2021-02-23 15:01:34.000000000,2021-02-26 12:16:52.000000000,2021-02-26 12:15:40.000000000,1,1,0,777145,e2bcf6e98011f04f7768ab5859077f43093166d8,8,4,1,1,15197,Pierre Riteau,priteau,"Uncap PrettyTable

This is now maintained as a Jazzband project [1].

[1] https://github.com/jazzband/prettytable

Change-Id: I4b9e68d5105cdaa76b7906dbc839182ff3a57df1
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I949a17a8e77e96b6933e625914ea337eb94e53c2,openstack/openstack-ansible-openstack_hosts,master,osa-facts,I949a17a8e77e96b6933e625914ea337eb94e53c2,Use ansible_facts[] instead of fact variables,MERGED,2021-02-22 16:53:20.000000000,2021-02-26 11:50:34.000000000,2021-02-26 11:49:20.000000000,51,49,8,776960,9c585b7257d44c5bdb111983d186f355d7065cbc,26,4,7,14,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I949a17a8e77e96b6933e625914ea337eb94e53c2
"
openstack%2Fmonasca-notification~stable%2Fvictoria~Idae87291f4556eee77d40ab49f0d151435d70875,openstack/monasca-notification,stable/victoria,update-lower-constraints-stable/victoria,Idae87291f4556eee77d40ab49f0d151435d70875,Update hacking for Python3,MERGED,2021-02-26 10:24:02.000000000,2021-02-26 11:21:53.000000000,2021-02-26 11:20:32.000000000,21,16,0,777552,010e237e0323b24864bfeb8caa59a4740ed116fe,7,2,1,10,28062,Martin Chacon Piza,martinchacon,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found by updated hacking version.

Remove hacking and friends from lower-constraints, they are not needed
there at all.

Align lower-constraints for new pip [1]

Fix flake8 E305 and E117 and set W504 as ignored

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html

Change-Id: Idae87291f4556eee77d40ab49f0d151435d70875
(cherry picked from commit 35a9b57f9136b4ce735a00d788fa49133aa29abc)
"
openstack%2Fkayobe~master~Ia116dec86d0417e7b51b4b6ba3caec7459cc4916,openstack/kayobe,master,,Ia116dec86d0417e7b51b4b6ba3caec7459cc4916,DNM: debug vexxhost baremetal deploys,ABANDONED,2021-02-25 10:14:09.000000000,2021-02-26 11:21:15.000000000,,26,17,0,777558,a8ee1942d7b449ebb786e944bcbe168dffcd2168,17,1,6,4,14826,Mark Goddard,mgoddard,"DNM: debug vexxhost baremetal deploys

Change-Id: Ia116dec86d0417e7b51b4b6ba3caec7459cc4916
"
openstack%2Fnova~stable%2Fussuri~Id2d8d72d30075200d2b07b847c4e5568599b0d3b,openstack/nova,stable/ussuri,bug/1901707,Id2d8d72d30075200d2b07b847c4e5568599b0d3b,only wait for plugtime events in pre-live-migration,MERGED,2021-01-14 12:37:15.000000000,2021-02-26 11:01:28.000000000,2021-02-26 01:32:59.000000000,48,11,0,770745,d9c833d5a404dfa206e08c97543e80cb613b3f0b,31,6,4,3,11604,sean mooney,sean-k-mooney,"only wait for plugtime events in pre-live-migration

This change modifies _get_neutron_events_for_live_migration
to filter the event to just the subset that will be sent
at plug-time.

Currently neuton has a bug where by the dhcp agent
send a network-vif-plugged event during live migration after
we update the port profile with ""migrating-to:""
this cause a network-vif-plugged event to be sent for
configuration where vif_plugging in nova/os-vif is a noop.

when that is corrected the current logic in nova cause the migration
to time out as its waiting for an event that will never arrive.

This change filters the set of events we wait for to just the plug
time events.

This backport has squashed the follow up change
I37c712ba9a0ab88c44d10f80da3254ab6c463a68 to remove the unused
migration paramater orginally added by this patch to
_get_neutron_events_for_live_migration

Related-Bug: #1815989
Closes-Bug: #1901707
Change-Id: Id2d8d72d30075200d2b07b847c4e5568599b0d3b
(cherry picked from commit 8b33ac064456482158b23c2a2d52f819ebb4c60e)
(cherry picked from commit ef348c4eb3379189f290217c9351157b1ebf0adb)
"
openstack%2Fcharm-keystone-saml-mellon~master~I926941e47966330f079929156cdbefd03b00eb64,openstack/charm-keystone-saml-mellon,master,,I926941e47966330f079929156cdbefd03b00eb64,Add multi-backend testing,MERGED,2021-01-10 15:48:52.000000000,2021-02-26 10:17:12.000000000,2021-02-26 10:17:12.000000000,159,147,0,770056,6196c8584246012310842e98d06abd70302c16aa,34,3,3,6,13178,Ionut-Madalin Balutoiu,ibalutoiu,"Add multi-backend testing

Use the Juju charm https://jaas.ai/u/ionutbalutoiu/test-saml-idp to deploy two local
SAML-based IdPs, and link them to two instances of the keystone-saml-mellon.

The corresponding Zaza tests will validate that Keystone is properly
setup with the multi-backend pointing to our local IdPs.

Change-Id: I926941e47966330f079929156cdbefd03b00eb64
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/480
"
openstack%2Fcharm-ceph-osd~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-ceph-osd,master,feature/new-zuul,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:40:38.000000000,2021-02-26 10:13:38.000000000,2021-02-26 10:13:38.000000000,4,0,0,776339,8ef9608f0890a659efe1ec23025cc5e2153e7ef9,12,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fcharm-designate~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-designate,master,feature/new-zuul,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:42:08.000000000,2021-02-26 10:11:17.000000000,2021-02-26 10:11:17.000000000,7,0,0,776348,8b9fdfef5e1444538e90a0455f75148e84fcd7b2,15,4,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fcharm-designate-bind~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-designate-bind,master,feature/new-zuul,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:42:23.000000000,2021-02-26 10:09:22.000000000,2021-02-26 10:09:22.000000000,7,0,0,776349,30067feeca418f1ca7b9ced5ae601827af047cad,14,4,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fcharm-ceilometer-agent~master~I1bba556eebc3081e890989507b0ccfe6f029c3a6,openstack/charm-ceilometer-agent,master,feature/new-zuul,I1bba556eebc3081e890989507b0ccfe6f029c3a6,Add new osci.yaml,MERGED,2021-02-18 07:39:48.000000000,2021-02-26 10:08:51.000000000,2021-02-26 10:08:51.000000000,4,0,0,776336,33c30bf1bc87c1118d9257088b367b0dace8971c,13,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6
"
openstack%2Fcharm-aodh~master~I1bba556eebc3081e890989507b0ccfe6f029c3a6,openstack/charm-aodh,master,feature/new-zuul,I1bba556eebc3081e890989507b0ccfe6f029c3a6,Add new osci.yaml,MERGED,2021-02-18 07:39:00.000000000,2021-02-26 10:06:35.000000000,2021-02-26 10:06:35.000000000,7,0,0,776332,12dbfc1b901cff79f12e524fa1b1a48b8c690d3d,13,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6
"
openstack%2Fdesignate~stable%2Fstein~I98f7f80ce365cdee33528f9964c03274f62a795a,openstack/designate,stable/stein,central_lock,I98f7f80ce365cdee33528f9964c03274f62a795a,Adding distributed locking to central,MERGED,2021-02-17 22:42:25.000000000,2021-02-26 10:01:25.000000000,2021-02-26 09:59:58.000000000,194,2,4,776288,acc82755f1e8df8bb8f0ab7b4524f691637a312e,31,4,8,5,19298,Nicolas Bock,nicolasbock,"Adding distributed locking to central

The current locking implementation is limited to
the running process. This introduces distributed
locking that will help prevent race conditions
when there are many instances of designate-central
running.

Closes-Bug: #1871332
Change-Id: I98f7f80ce365cdee33528f9964c03274f62a795a
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
(cherry picked from commit f6090d885c8ebe00a89307a1e2f5621de75dcda8)
"
openstack%2Fsushy~master~Idd4158d87d27b6358c6d7a2a7183427a494ee384,openstack/sushy,master,deprecate-taskmonitor,Idd4158d87d27b6358c6d7a2a7183427a494ee384,Refactor TaskMonitor and update Volume methods,MERGED,2021-02-08 19:33:20.000000000,2021-02-26 09:55:13.000000000,2021-02-24 11:48:51.000000000,924,197,8,774532,7a9a2b6020d9b16a671339e6cefaebd0baff99ec,28,6,4,15,27909,Aija Jauntēva,ajya,"Refactor TaskMonitor and update Volume methods

Refactor TaskMonitor-s:
  - deprecate ``resources.task_monitor.TaskMonitor``
  - move TaskMonitor from ``resources.taskservice.taskmonitor``
    to ``taskmonitor``
  - add necessary methods from deprecated TaskMonitor to the
    moved one

Update Volume methods to use remaining TaskMonitor.

Add static helper method to TaskMonitor to initiate TaskMonitor
instance from response.
Replace TaskMonitor in connector with the remaining TaskMonitor.

Add method get_task_monitor to Sushy class. Deprecate
UpdateService.get_task_monitor.

Uppercase Location header in connector. While headers are case
insensitive, in unit tests where headers are mocked they are
case sensitive.

Change-Id: Idd4158d87d27b6358c6d7a2a7183427a494ee384
"
openstack%2Ftripleo-quickstart-extras~master~I66a3e827fab054fd320ba7554baae9597f9205d0,openstack/tripleo-quickstart-extras,master,reproducer-fix,I66a3e827fab054fd320ba7554baae9597f9205d0,reproducer: do not overwrite workspace by default,MERGED,2021-02-19 20:05:24.000000000,2021-02-26 09:54:13.000000000,2021-02-26 09:54:13.000000000,20,8,4,776704,6b9fcb17b0572f9c61d4ea6c8175fa89405c2395,30,7,5,1,9592,wes hayutin,weshayutin,"reproducer: do not overwrite workspace by default

users should be allowed to tweak settings and rerun
this script w/o all their changes being overwritten

Change-Id: I66a3e827fab054fd320ba7554baae9597f9205d0
"
openstack%2Fcharm-trilio-dm-api~master~I4100771916963b681e760f5e364420f50dc81b9f,openstack/charm-trilio-dm-api,master,more-bundles,I4100771916963b681e760f5e364420f50dc81b9f,Extend gate tests for Trilio 4.0 and 4.1,MERGED,2021-02-19 12:36:33.000000000,2021-02-26 09:50:26.000000000,2021-02-26 09:50:26.000000000,2182,650,0,776614,ad428c2e6772d2bf307f181754e9468765c694be,18,3,2,14,12549,gnuoy,gnuoy,"Extend gate tests for Trilio 4.0 and 4.1

func-test-pr: https://github.com/openstack-charmers/zaza/pull/430

Change-Id: I4100771916963b681e760f5e364420f50dc81b9f
"
openstack%2Ftripleo-common~stable%2Fvictoria~I61affe32dfc9eacbe514893168397c9b291b8713,openstack/tripleo-common,stable/victoria,bug/1915761-stable/victoria,I61affe32dfc9eacbe514893168397c9b291b8713,Reduce fact gathering,MERGED,2021-02-22 20:51:50.000000000,2021-02-26 09:19:13.000000000,2021-02-26 09:17:34.000000000,3,0,0,777007,05c18eb19206d8c272c7b4d6c775b916adc0c03b,15,3,2,1,14985,Alex Schultz,mwhahaha,"Reduce fact gathering

This change updates the default subset to only be the minimum list of
facts for ansible.  In the deployment we need to make sure that we only
collect the minimum amount of facts to perform the tasks at hand rather
than assume we have all the facts.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/777002
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/777004
Related-Bug: #1915761
Change-Id: I61affe32dfc9eacbe514893168397c9b291b8713
(cherry picked from commit 0e81eb420e8974d7815b98e084a94885a1ff1b8b)
"
openstack%2Fvalidations-common~master~I51d9f0f2fc7c8518da420ae77824162aa3592c4b,openstack/validations-common,master,fix/90e6133,I51d9f0f2fc7c8518da420ae77824162aa3592c4b,Fixes issues caused by dict unpacking in (90e6133),MERGED,2021-02-24 08:08:02.000000000,2021-02-26 09:17:54.000000000,2021-02-26 09:17:54.000000000,5,1,0,777308,bc6b58279e94b2736be0e822aed716ab265a48b8,15,8,2,1,32926,Jiri Podivin,jpodivin,"Fixes issues caused by dict unpacking in (90e6133)

original issue https://review.rdoproject.org/r/#/c/32074/
caused by different dict unpacking in python 2.7 and
python >= 3

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I51d9f0f2fc7c8518da420ae77824162aa3592c4b
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,openstack/tripleo-heat-templates,stable/victoria,,I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,Don't try creating default admin and member roles,MERGED,2021-02-25 10:08:20.000000000,2021-02-26 09:17:40.000000000,2021-02-26 09:17:40.000000000,0,4,0,777538,bd5e2c80fd7bfac2eb72c6c87557f64885648e53,11,6,1,1,6796,Giulio Fidente,gfidente,"Don't try creating default admin and member roles

These are default roles and we don't need to create them for
ceph. Also swift user does not need admin role.

Closes-Bug: 1916756
Resolves: rhbz#1932208

Change-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f
(cherry picked from commit c1462b7608be9c7b925009ec95c9bbed0c08d98c)
"
openstack%2Fkayobe-config-dev~master~I2d853d38740dca445cd281b83f4a26d842a9c9cd,openstack/kayobe-config-dev,master,,I2d853d38740dca445cd281b83f4a26d842a9c9cd,Reduce ironic minimum required memory to 256MB,MERGED,2021-02-23 09:29:13.000000000,2021-02-26 08:52:36.000000000,2021-02-26 08:52:36.000000000,2,0,0,777076,0b54af9ed9678837255e48106c96b23feb0aff70,37,4,2,1,14826,Mark Goddard,mgoddard,"Reduce ironic minimum required memory to 256MB

In resource-constrained environments such as CI, we may hit this new
limit, which prevents deployments from succeeding.

Following the lead of the ironic devstack plugin, we reduce the limit to
256MB.

Depends-On: https://review.opendev.org/c/openstack/kayobe/+/777518

Change-Id: I2d853d38740dca445cd281b83f4a26d842a9c9cd
"
openstack%2Fswift~master~Ica983aa13a7bcd07bc73c68f3938b190c4bbaa3d,openstack/swift,master,p-sharder-context-done-tests,Ica983aa13a7bcd07bc73c68f3938b190c4bbaa3d,Add unit test coverage for CleavingContext.done(),MERGED,2021-02-25 15:00:17.000000000,2021-02-26 07:11:36.000000000,2021-02-26 07:10:09.000000000,29,0,1,777604,c9f6e760bc2b70e025edb149417862ce77689646,13,2,1,1,7847,Alistair Coles,acoles,"Add unit test coverage for CleavingContext.done()

Change-Id: Ica983aa13a7bcd07bc73c68f3938b190c4bbaa3d
"
openstack%2Fneutron~master~Ibfbdd712e49d1fb8522bcc39357be0f311ce3f5c,openstack/neutron,master,,Ibfbdd712e49d1fb8522bcc39357be0f311ce3f5c,[OVN] Update sample local.conf to mention OVN_BUILD_FROM_SOURCE,MERGED,2021-02-08 20:47:58.000000000,2021-02-26 07:08:54.000000000,2021-02-26 07:07:05.000000000,44,24,0,774540,b3b6cc06c3c55bfbbea64caa01a66f64afe04c0b,18,3,1,4,11952,Flavio Fernandes,ffernand,"[OVN] Update sample local.conf to mention OVN_BUILD_FROM_SOURCE

Using OVN from packages was introduced in devstack via
https://review.opendev.org/c/openstack/devstack/+/763402

This change updates the sample files to make users aware of it,
especially when specifying the OVN branch to be used.

Change-Id: Ibfbdd712e49d1fb8522bcc39357be0f311ce3f5c
"
openstack%2Fvenus-dashboard~master~Ic1c9d0ac2e8a0f57e4a8d2749dbb9c099b5bb71e,openstack/venus-dashboard,master,new-project,Ic1c9d0ac2e8a0f57e4a8d2749dbb9c099b5bb71e,.zuul.yaml: add Zuul support to new repo,MERGED,2021-02-26 05:54:24.000000000,2021-02-26 05:59:12.000000000,2021-02-26 05:59:12.000000000,3,0,0,777714,82e14c6281cde55013d09bd2907a9e3a2a3142e8,6,2,1,1,26458,Brin Zhang,zhangbailin,".zuul.yaml: add Zuul support to new repo

Change-Id: Ic1c9d0ac2e8a0f57e4a8d2749dbb9c099b5bb71e
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ibf917826a2d6b2662215c58c9dd8ec8007e57881,openstack/python-tripleoclient,stable/train,,Ibf917826a2d6b2662215c58c9dd8ec8007e57881,Add auth_token_lifetime to undercloud.conf,MERGED,2021-02-24 18:36:22.000000000,2021-02-26 05:54:30.000000000,2021-02-26 05:53:07.000000000,16,0,0,777326,764075120014c674baf754dfb288787a752596a7,9,2,1,4,14985,Alex Schultz,mwhahaha,"Add auth_token_lifetime to undercloud.conf

The undercloud currently defines the auth token life time in the
undercloud.yaml environment in tripleo-heat-templates. At certain scale,
it makes sense to increase this so we should make it a top level
configuration item.

Change-Id: Ibf917826a2d6b2662215c58c9dd8ec8007e57881
(cherry picked from commit 438e53ad4e31ff88421e1b7070dbb9f097bcd359)
"
openstack%2Fironic-inspector~master~I4d038245c6b97b1504fb47eeec78ad3f9e5a897c,openstack/ironic-inspector,master,secure-rbac,I4d038245c6b97b1504fb47eeec78ad3f9e5a897c,Implement secure RBAC,MERGED,2021-01-27 20:57:19.000000000,2021-02-26 05:51:57.000000000,2021-02-26 05:50:47.000000000,589,43,9,772771,c9e312f8b4aef65b60dcbfd3b05210477889a405,25,5,5,3,4571,Steve Baker,steve-stevebaker,"Implement secure RBAC

The default policy will been replaced with one which aligns with the
Secure-RBAC scopes and roles. Since ironic-inspector is a tool used only
by system-level admins, only the ``system`` scope is supported, and the
only roles in the policy rules are ``admin`` and ``reader``.

The is_admin and is_observer rules are deprecated for removal, and
every rule which refers to them are deprecated in favor of the
system-scoped equivalent (system_scope:all with role:admin or
role:reader)

No unit tests covered the existing policy, these are now covered by
test_acl.TestACLDeprecated.

Change-Id: I4d038245c6b97b1504fb47eeec78ad3f9e5a897c
"
openstack%2Fhorizon~master~Ie78900dae54ff63d41b7ddca3fa83f627d4260c4,openstack/horizon,master,bug/1818508,Ie78900dae54ff63d41b7ddca3fa83f627d4260c4,Fixes double loading in Image source loading,MERGED,2019-03-04 13:34:13.000000000,2021-02-26 05:35:21.000000000,2019-03-14 04:56:01.000000000,77,86,3,640762,ff5f74d5d0d5ef8f7c07ca8762b7ad197aea156f,18,4,4,2,26546,Marek Lyčka,mareklycka,"Fixes double loading in Image source loading

This patch removes a redundant image API call, which caused
images to be loaded twice in the UI. Image filtering for
snapshot/'normal' images has been merged into a single iteration
for the sake of optimization.

Additionally, tests have been changed to more comprehensively
check which data is loaded into which data structures during
model population. Code redundancy has also been removed in
tests.

Change-Id: Ie78900dae54ff63d41b7ddca3fa83f627d4260c4
Closes-Bug: #1818508
"
openstack%2Fglance~master~Ie7f9a9201361c56e0f0a289ef93443b9e277357c,openstack/glance,master,secure-rbac,Ie7f9a9201361c56e0f0a289ef93443b9e277357c,Pass oslo.context RequestContext objects directly to policy enforcement,MERGED,2020-12-16 22:24:09.000000000,2021-02-26 05:00:48.000000000,2021-02-26 04:59:18.000000000,27,8,3,767425,e6755ebab9eea071cb5c9e4fb09be8fe81911c0c,69,4,10,3,5046,Lance Bragstad,ldbragst,"Pass oslo.context RequestContext objects directly to policy enforcement

The oslo.policy's Enforcer() object will transpose authorization
information from oslo.context RequestContext objects if you pass one
to enforce()[0].

This commit simplifies the enforcement code in glance by letting
oslo.policy handle the translation instead of glance. This allows us to
remove the to_policy_values() method maintained in glance since it's no
longer used.

[0] https://opendev.org/openstack/oslo.policy/commit/775641a5fc549c20be37cf862deca394bf7f2d21

Related: blueprint secure-rbac

Change-Id: Ie7f9a9201361c56e0f0a289ef93443b9e277357c
"
openstack%2Fadjutant~master~Ia9569ebb76ffe91d592dbc94bc528bde4aa00fc4,openstack/adjutant,master,bug/feature_set_config,Ia9569ebb76ffe91d592dbc94bc528bde4aa00fc4,Fix a bug with feature set config not being added as expected,MERGED,2021-02-26 00:39:45.000000000,2021-02-26 04:35:47.000000000,2021-02-26 04:34:37.000000000,3,1,0,777702,d703a634a4d71b54957a3a554797dc5b78aad566,7,2,1,2,10420,Adrian Turjak,adriant,"Fix a bug with feature set config not being added as expected

The feature set config group was entirely missed from the config
tree, and the group itself wasn't setup for lazy_loading despite
needing to be based on when it is meant to have config added to it.

Change-Id: Ia9569ebb76ffe91d592dbc94bc528bde4aa00fc4
"
openstack%2Fglance~master~Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e,openstack/glance,master,bump-image-api-version,Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e,New API /v2/images/{id}/tasks,MERGED,2021-02-10 11:30:47.000000000,2021-02-26 02:49:31.000000000,2021-02-26 00:27:24.000000000,347,10,28,774830,281fadc15c5e257e72514957701a5571a83d8c38,47,4,9,8,9303,Abhishek Kekane,abhishekkekane,"New API /v2/images/{id}/tasks

Added new API /v2/images/{id}/tasks to show tasks associated with
image. This API will return list of tasks associated for valid image
else returns 404 not found if image is not present. This API also
initiates task scrubbing before returning tasks to user.

Implements: blueprint messages-api
Change-Id: Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e
"
openstack%2Fswift~stable%2Fussuri~I56b4169002122ba3e53e78abd1ad994e0ae5ed3d,openstack/swift,stable/ussuri,ussuri-sharding,I56b4169002122ba3e53e78abd1ad994e0ae5ed3d,swift-container-info: Show shard ranges summary,MERGED,2021-02-24 03:15:09.000000000,2021-02-26 01:53:53.000000000,2021-02-26 01:52:18.000000000,117,22,0,777282,f4061c04364adf8933841968b053ff442f95059e,13,2,1,3,597,Pete Zaitcev,zaitcev,"swift-container-info: Show shard ranges summary

The current behavior is really painful when you've got hundreds of shard
ranges in a DB.  The new summary with the states is default.  Users can
add a -v/--verbose flag to see the old full detail view.

Cherry-Picked-From: I0a7d65f64540f99514c52a70f9157ef060a8a892
Change-Id: I56b4169002122ba3e53e78abd1ad994e0ae5ed3d
"
openstack%2Ftripleo-ansible~master~I7aba66f55e1e63a233757bc07a65b5669ae782f5,openstack/tripleo-ansible,master,fix-typo-in-tests,I7aba66f55e1e63a233757bc07a65b5669ae782f5,Fix typo in test_tripleo_overcloud_network_ports.py,MERGED,2021-02-25 18:32:53.000000000,2021-02-26 01:31:28.000000000,2021-02-26 01:31:28.000000000,1,1,0,777649,4a6b7c55f9f7daa2dadded36a9447ee01913c435,8,4,1,1,24245,Harald Jensås,harald.jensas,"Fix typo in test_tripleo_overcloud_network_ports.py

Change-Id: I7aba66f55e1e63a233757bc07a65b5669ae782f5
"
openstack%2Fopenstack-helm~master~Iec2ea3fdf36e19ac4f2e203389dbe19737d14c3a,openstack/openstack-helm,master,keystone-rabbit,Iec2ea3fdf36e19ac4f2e203389dbe19737d14c3a,Move rabbit-init to dynamic dependency,MERGED,2021-02-08 19:48:47.000000000,2021-02-26 01:30:19.000000000,2021-02-26 01:28:56.000000000,6,6,0,774533,de912628ca3be6232bfc8db9e47c2a975d2c7d52,50,9,4,3,21420,Gage Hugo,ghugo,"Move rabbit-init to dynamic dependency

With a previous change[0] that moved rabbit-init jobs to dynamic
in helm-toolkit, this change continues that work by moving the
keystone rabbit-init job to dynamic as well.

[0] https://review.opendev.org/c/openstack/openstack-helm-infra/+/671727

Change-Id: Iec2ea3fdf36e19ac4f2e203389dbe19737d14c3a
"
openstack%2Fopenstack-helm~master~Id3dbbe721f4ded3c54d82852d9c155253d226867,openstack/openstack-helm,master,,Id3dbbe721f4ded3c54d82852d9c155253d226867,Update rbac api version for nova,MERGED,2021-01-30 07:32:38.000000000,2021-02-26 00:58:41.000000000,2021-02-26 00:57:18.000000000,3,2,0,773227,3a05f5c3f9ae955531ef7f593e17f0a4af601e4f,58,10,4,3,30449,jinyuanliu,jinyuanliu,"Update rbac api version for nova

When using a helm3 to deploy , it fails
Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can
support helm2 and helm3.

This change optimized deployment.

Change-Id: Id3dbbe721f4ded3c54d82852d9c155253d226867
"
openstack%2Fironic~master~I9419b379935a3ba2bdcea356ce8987a5b12dad6f,openstack/ironic,master,fix-ip-version,I9419b379935a3ba2bdcea356ce8987a5b12dad6f,Add both IPv4 and IPv6 DHCP options if interface has both,ABANDONED,2021-02-25 21:57:29.000000000,2021-02-26 00:42:45.000000000,,80,20,0,777691,7b85fd4e3e653ec4654e3acca0c3dd1d3b8b44b1,7,1,1,2,1004,Mohammed Naser,mnaser,"Add both IPv4 and IPv6 DHCP options if interface has both

It is possible that an interface has both IPv4 and IPv6 addresses,
primarily when using SLAAC with OpenStack Neutron.  When this is
the case, it is very likely that the first fixed IP would be a
SLAAC assigned port and the second IP is the IPv4 address.

In an environment where you are looking to boot via IPv4, no DHCPv6
infrastructure exists as IPv6 connectivity is provided via SLAAC,
you would not be able to use this network to boot off of.

This patch instead grabs all the fixed IP addresses, then inserts
the options that match the IP versions which are attached to the
interface, potentially resulting in both IPv4 and IPv6 options
being included (though the IPv6 ones would be largely omitted).

In environments where only IPv4 or IPv6 is in use on the port, it
will still only insert the options for those specific IP versions.

Change-Id: I9419b379935a3ba2bdcea356ce8987a5b12dad6f
"
openstack%2Ftempest~master~I62faa52580160127bd555283fe7bb56359c0eff8,openstack/tempest,master,remove-six,I62faa52580160127bd555283fe7bb56359c0eff8,Remove usage of six,ABANDONED,2021-02-22 01:40:15.000000000,2021-02-26 00:38:12.000000000,,36,48,0,776860,85e28290d584b06bec8ac17bb0eaf0fc9548937a,16,3,1,17,31412,Wenping Song,songwenping,"Remove usage of six

Remove six-library Replace the following items with Python 3 style code.
- six.text_type

Change-Id: I62faa52580160127bd555283fe7bb56359c0eff8
"
openstack%2Fglance~master~Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2,openstack/glance,master,bump-image-api-version,Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2,Update API docs for new /v2/images/{image_id}/tasks API,MERGED,2021-02-15 10:49:52.000000000,2021-02-26 00:34:08.000000000,2021-02-26 00:27:30.000000000,97,0,11,775597,03696299d20debf8a5aa561bc80878775ad02695,21,3,7,4,9303,Abhishek Kekane,abhishekkekane,"Update API docs for new /v2/images/{image_id}/tasks API

Updated API reference documentation for new API.

Change-Id: Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2
Related: blueprint messages-api
"
openstack%2Ftripleo-common~stable%2Ftrain~Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,openstack/tripleo-common,stable/train,memcached-cert-stable/victoria-stable/ussuri-stable/train,Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,Add python3-pymemcache to tcib,MERGED,2021-02-25 09:10:36.000000000,2021-02-26 00:33:55.000000000,2021-02-26 00:28:49.000000000,1,0,0,777537,a8f62c54985fdd1f7050b2531d434604ee1961d0,8,4,1,1,14250,Grzegorz Grasza,xek,"Add python3-pymemcache to tcib

pymemcache is required by services connecting to
Memcached with TLS. pymemcache will also likely replace
python-memcached alltogether, because of it's lack of
maintenance.

see: https://review.opendev.org/761612
Change-Id: Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5
(cherry picked from commit ab387b6a35dd18640bb9f4701097432b6959d03a)
"
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Ibf917826a2d6b2662215c58c9dd8ec8007e57881,openstack/python-tripleoclient,stable/victoria,,Ibf917826a2d6b2662215c58c9dd8ec8007e57881,Add auth_token_lifetime to undercloud.conf,MERGED,2021-02-24 18:35:33.000000000,2021-02-26 00:33:51.000000000,2021-02-26 00:29:15.000000000,16,0,0,777324,bb64cf4455beb6156003644908923eddb797fdbb,7,2,1,4,14985,Alex Schultz,mwhahaha,"Add auth_token_lifetime to undercloud.conf

The undercloud currently defines the auth token life time in the
undercloud.yaml environment in tripleo-heat-templates. At certain scale,
it makes sense to increase this so we should make it a top level
configuration item.

Change-Id: Ibf917826a2d6b2662215c58c9dd8ec8007e57881
(cherry picked from commit 438e53ad4e31ff88421e1b7070dbb9f097bcd359)
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~Ibf917826a2d6b2662215c58c9dd8ec8007e57881,openstack/python-tripleoclient,stable/ussuri,,Ibf917826a2d6b2662215c58c9dd8ec8007e57881,Add auth_token_lifetime to undercloud.conf,MERGED,2021-02-24 18:35:51.000000000,2021-02-26 00:33:45.000000000,2021-02-26 00:29:12.000000000,16,0,0,777325,a9d220cb4210fd92aa127a1d188598185c5d92e5,7,2,1,4,14985,Alex Schultz,mwhahaha,"Add auth_token_lifetime to undercloud.conf

The undercloud currently defines the auth token life time in the
undercloud.yaml environment in tripleo-heat-templates. At certain scale,
it makes sense to increase this so we should make it a top level
configuration item.

Change-Id: Ibf917826a2d6b2662215c58c9dd8ec8007e57881
(cherry picked from commit 438e53ad4e31ff88421e1b7070dbb9f097bcd359)
"
openstack%2Frequirements~master~I370fdf7b92800b0a9fabcebb6503b3b96ffd06a7,openstack/requirements,master,openstack/requirements/constraints,I370fdf7b92800b0a9fabcebb6503b3b96ffd06a7,Updated from generate-constraints,MERGED,2021-02-25 06:26:22.000000000,2021-02-26 00:30:07.000000000,2021-02-26 00:27:03.000000000,5,5,0,777498,3595d1f7772b80aba64d6cc39f2f0b7a19d4f393,12,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I370fdf7b92800b0a9fabcebb6503b3b96ffd06a7
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fglance~master~Iaea8a81b64503ad82525eb8edd609253ff1d47b9,openstack/glance,master,validate-migration-phases,Iaea8a81b64503ad82525eb8edd609253ff1d47b9,Add a test for migration naming and phase rules,MERGED,2021-02-24 15:51:57.000000000,2021-02-26 00:30:06.000000000,2021-02-26 00:26:24.000000000,55,0,3,777413,dbd7495850245ed68d43839e3158b06c76d5858e,19,3,3,1,4393,Dan Smith,danms,"Add a test for migration naming and phase rules

Any time we have a migration for a given release, we want to make sure
that we have a definition for each phase, even if it is empty. This
adds a test that makes sure we conform to that in the future, to help
reduce reviewer load and requiring the tribal knowledge at the point
of review.

While doing this, this also validates that the migration files fit
a general pattern of release_phaseNN_description.py format.

Change-Id: Iaea8a81b64503ad82525eb8edd609253ff1d47b9
"
openstack%2Ftempest~master~I3f6b8e274f9b57ae8d1389a188636660854971e3,openstack/tempest,master,bp/tempest-scenario-manager-stable,I3f6b8e274f9b57ae8d1389a188636660854971e3,Make _create_network() non-private,MERGED,2021-02-22 13:39:42.000000000,2021-02-26 00:30:00.000000000,2021-02-26 00:26:46.000000000,8,8,0,776933,3bdafd897924c11a32d34b9160337ad82fb9c62e,13,2,1,3,30742,Soniya Murlidhar Vyas,svyas,"Make _create_network() non-private

_create_network() is made public by this commit as
the tempest.scenario.manager interface is meant to be
consumed by tempest plugins.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: I3f6b8e274f9b57ae8d1389a188636660854971e3
"
openstack%2Fswift~master~I8c5197ed327fbb175c8a2c0e788b1ae14e6dfe23,openstack/swift,master,rbac,I8c5197ed327fbb175c8a2c0e788b1ae14e6dfe23,tempauth: Add .reseller_reader group,MERGED,2021-02-08 20:38:57.000000000,2021-02-26 00:29:56.000000000,2021-02-26 00:26:14.000000000,75,8,0,774539,cf4f320644b63b71d0147474455f76555218d1c0,11,3,2,3,15343,Tim Burke,tburke,"tempauth: Add .reseller_reader group

Change-Id: I8c5197ed327fbb175c8a2c0e788b1ae14e6dfe23
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,openstack/tripleo-heat-templates,stable/ussuri,,I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,Don't try creating default admin and member roles,MERGED,2021-02-25 10:12:13.000000000,2021-02-26 00:29:41.000000000,2021-02-26 00:29:41.000000000,0,4,0,777557,6de73eca77ae3650985e0b5d0d7d6c42562f1e6c,9,6,1,1,6796,Giulio Fidente,gfidente,"Don't try creating default admin and member roles

These are default roles and we don't need to create them for
ceph. Also swift user does not need admin role.

Closes-Bug: 1916756
Resolves: rhbz#1932208

Change-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f
(cherry picked from commit c1462b7608be9c7b925009ec95c9bbed0c08d98c)
(cherry picked from commit bd5e2c80fd7bfac2eb72c6c87557f64885648e53)
"
openstack%2Ftripleo-heat-templates~master~I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,openstack/tripleo-heat-templates,master,fix-redis-tls,I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,Fix redis_tls_proxy,MERGED,2021-02-25 08:58:31.000000000,2021-02-26 00:29:29.000000000,2021-02-26 00:29:29.000000000,22,0,0,777512,84c85aaff30dd9ced19e0dd3e45fc7bf05e89edf,9,4,2,1,20172,Michele Baldessari,michele,"Fix redis_tls_proxy

Since we merged the pcs-host patches we erroneously also removed
the sidecar container that does the tls stunneling for redis.
This is needed to allow the redis master stream the deplications to
its slaves via TLS.

Tested this and we now correctly get the working container and cluster
state:
[root@controller-0 ~]# podman ps -a |grep redis
4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0
604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy
[root@controller-0 ~]# pcs status |grep redis
  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]
  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:
    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0
    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1
    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2

We also move the redis_tls_proxy from step_2/start_order: 3 to step_1
since it actually makes sense to have it run before we start the
redis pcmk bundle at step 2 (i.e. so the slave replica can work right
away from the start).

Closes-Bug: #1916873

Change-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I4eb7508c24cce0db3179d4f3ef26cabceb164716,openstack/tripleo-validations,stable/victoria,,I4eb7508c24cce0db3179d4f3ef26cabceb164716,Optionally fail ceph-health if HEALTH_WARN,MERGED,2021-02-25 10:29:56.000000000,2021-02-26 00:29:18.000000000,2021-02-26 00:29:18.000000000,8,0,0,777561,2896ce06d7aad365bc6f02d5ab60acbe45315eb5,6,2,1,2,6796,Giulio Fidente,gfidente,"Optionally fail ceph-health if HEALTH_WARN

Helps controlling the behavior of the ceph-health check for it to
fail, optionally, not only when cluster is in _ERR state but also
in _WARN state.

Change-Id: I4eb7508c24cce0db3179d4f3ef26cabceb164716
Related-Bug: 1915700
(cherry picked from commit 67560d36c06860dc827ef8356f1023f42facdbec)
"
openstack%2Fos-apply-config~stable%2Ftrain~Id73778d17cea24d51267dbd9b9dd4be8318e480c,openstack/os-apply-config,stable/train,tripleo-ci-reduce,Id73778d17cea24d51267dbd9b9dd4be8318e480c,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-25 09:44:46.000000000,2021-02-26 00:28:59.000000000,2021-02-26 00:28:59.000000000,0,1,0,777523,41d86e316ed0f0b9d5c20748b470bff5e6eab73d,8,3,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Id73778d17cea24d51267dbd9b9dd4be8318e480c
"
openstack%2Fos-apply-config~stable%2Fussuri~Ifcf09a8d4f953df50a8a8f8933c00862ff6ce1c9,openstack/os-apply-config,stable/ussuri,tripleo-ci-reduce,Ifcf09a8d4f953df50a8a8f8933c00862ff6ce1c9,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-25 09:43:55.000000000,2021-02-26 00:28:56.000000000,2021-02-26 00:28:56.000000000,0,1,0,777522,910348f934ed38497a5e3c284da0a86c5f077a1c,8,3,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Ifcf09a8d4f953df50a8a8f8933c00862ff6ce1c9
"
openstack%2Fos-apply-config~master~Ie28dd59a6bec79802d149f030f10a2ea12e454de,openstack/os-apply-config,master,tripleo-ci-reduce,Ie28dd59a6bec79802d149f030f10a2ea12e454de,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-23 12:26:09.000000000,2021-02-26 00:28:53.000000000,2021-02-26 00:28:53.000000000,0,1,0,777097,891e996920345c72e4b2d5f6c28c4f049225f0a4,15,9,2,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Ie28dd59a6bec79802d149f030f10a2ea12e454de
"
openstack%2Fglance~master~I299a222eeef81431143db3ba7fc08365c924326b,openstack/glance,master,bump-image-api-version,I299a222eeef81431143db3ba7fc08365c924326b,Utilize newly added tasks database fields,MERGED,2021-02-09 09:50:16.000000000,2021-02-26 00:27:07.000000000,2021-02-26 00:27:07.000000000,248,30,25,774615,d54449af44212e01762285832b9c7c1ad4de1eb3,30,3,6,22,9303,Abhishek Kekane,abhishekkekane,"Utilize newly added tasks database fields

Made provision to pass image_id, request_id and user_id information
while creating new task.

Partially-Implements: blueprint messages-api
Change-Id: I299a222eeef81431143db3ba7fc08365c924326b
"
openstack%2Fglance~master~I9d09769f971477b4d9a9a3a7d458deb19d1f3c8c,openstack/glance,master,bump-image-api-version,I9d09769f971477b4d9a9a3a7d458deb19d1f3c8c,Extract req.context in a variable,MERGED,2021-02-15 10:49:52.000000000,2021-02-26 00:26:36.000000000,2021-02-26 00:26:36.000000000,16,14,0,775596,8f7ad9f45dec3ff9e8ced8bea4b882b121a5ce3a,23,4,3,2,9303,Abhishek Kekane,abhishekkekane,"Extract req.context in a variable

req.context has been used in various places in import_image and create
method, this patch extract that in a variable for furthrer use.

Change-Id: I9d09769f971477b4d9a9a3a7d458deb19d1f3c8c
Related: blueprint messages-api
"
openstack%2Fnova~stable%2Fpike~Ie602ab1768efbf103563d8f6b9d28965fc81021a,openstack/nova,stable/pike,bug/1776668,Ie602ab1768efbf103563d8f6b9d28965fc81021a,[placement] Add status and links fields to version document at /,MERGED,2020-09-11 10:42:39.000000000,2021-02-25 23:26:57.000000000,2021-02-25 23:26:57.000000000,37,1,2,751240,5ac745cbc49565890ad201e545a7b28e4d9bdc95,32,8,2,5,15334,Stephen Finucane,sfinucan,"[placement] Add status and links fields to version document at /

According to the spec [1] the version discovery doc must have a status
and links for each version. For the primary version the status value
should be 'CURRENT'. For placement the version discovery doc and ""self""
are the same thing, so the provided ""self"" href looks redundant, but it
makes keystoneauth1 happy when doing version discovery.

In placement, since there is only one version at the moment, set status
to CURRENT.

Add a gabbi test that verifies the presence of both fields and values.

Without these fields, use of placement with a client that follows the
documented version discovery process will fail to work.

As the version doc is not considered microversioned[2] and in any case
this is making version discovery work where it didn't before, this is
not a candidate for a microversion and can be backported to the
beginning of placement's history if we like.

I've updated the api-ref docs. In the process I made the max
microversion in the sample discovery doc a bit more realistic and
in alignment with these modern times.

Changes:
  placement-api-ref/source/get-root.json

NOTE(stephenfin): Modified the root API sample to reflect the max
placement API version in Pike.

[1] http://specs.openstack.org/openstack/api-wg/guidelines/microversion_specification.html#version-discovery
[2] http://eavesdrop.openstack.org/irclogs/%23openstack-sdks/%23openstack-sdks.2018-06-13.log.html#t2018-06-13T13:40:12

Change-Id: Ie602ab1768efbf103563d8f6b9d28965fc81021a
Closes-Bug: #1776668
(cherry picked from commit 1a5a3a9bc8409349ab817b4858ee54bf2a036dab)
(cherry picked from commit df1542686349a97ab1527f80c81861d89aaf4f78)
"
openstack%2Fkayobe~master~Ie5ca04428855cbaf505adc57de76ea0b2d404080,openstack/kayobe,master,,Ie5ca04428855cbaf505adc57de76ea0b2d404080,CI: retry overcloud jobs that land on vexxhost clouds,MERGED,2021-02-25 09:23:38.000000000,2021-02-25 22:59:19.000000000,2021-02-25 22:54:29.000000000,31,6,0,777518,47bbb96b29ab30764d6220cdd43e63a1d2072533,19,3,5,5,14826,Mark Goddard,mgoddard,"CI: retry overcloud jobs that land on vexxhost clouds

Jobs that test baremetal deployment are currently failing when run on
Vexxhost infrastructure. The seed VM job also has trouble on Vexxhost,
although does sometimes pass. It's not clear why yet, and we are still
investigating. Until we have a solution, fail in the pre phase when we
land on vexxhost clouds, in order to trigger the zuul retry mechanism.

Also use the normal number (5) of attempts for upgrade jobs, since these
no longer deploy the previous release in the pre phase.

Finally, incorporate a fix from
https://review.opendev.org/c/openstack/kayobe-config-dev/+/777076 to
allow this to merge. This part can be reverted once the
kayobe-config-dev patch merges.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html

Change-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080
"
openstack%2Fopenstack-helm-infra~master~Ie7dc4399be4f0a62576e336c1de02810eeb09212,openstack/openstack-helm-infra,master,,Ie7dc4399be4f0a62576e336c1de02810eeb09212,Enable Apparmor for ElasticSearch,MERGED,2020-03-05 22:01:36.000000000,2021-02-25 22:25:20.000000000,2020-03-17 16:19:56.000000000,58,11,2,711559,1871b830af5797abf313e2c21a1cf6b8601a1385,72,4,25,6,29131,diwakar thyagaraj,dt241s@att.com,"Enable Apparmor for ElasticSearch

Change-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212
"
openstack%2Fopenstacksdk~master~I48bc5f70cf42e93ee46783cbefdeafed80be56d8,openstack/openstacksdk,master,40956,I48bc5f70cf42e93ee46783cbefdeafed80be56d8,Improve Ironic API on OpenStack SDK,MERGED,2020-12-10 18:52:45.000000000,2021-02-25 22:22:19.000000000,2021-02-25 22:20:30.000000000,179,0,27,766531,e30fd860de6b36bddc27f7215bb2e3cad8eb298d,39,4,10,7,32518,Anuradha,anuradha1904,"Improve Ironic API on OpenStack SDK

1. List Conductors
2. Show Conductors Details

Story: 20083813
Task: 40956
Change-Id: I48bc5f70cf42e93ee46783cbefdeafed80be56d8
"
openstack%2Fopenstack-helm~master~I107d6e965ca00a6d8b766e91573be2c9aeb4f782,openstack/openstack-helm,master,,I107d6e965ca00a6d8b766e91573be2c9aeb4f782,Update rbac api version for glance,MERGED,2021-01-30 08:28:55.000000000,2021-02-25 22:14:13.000000000,2021-02-25 22:12:19.000000000,6,5,5,773232,30bd8643e4d67a43d45656a1d1604d8bbd75e2fc,26,7,3,4,30449,jinyuanliu,jinyuanliu,"Update rbac api version for glance

When using a helm3 to deploy , it fails
Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can
support helm2 and helm3.

This change optimized deployment.

Change-Id: I107d6e965ca00a6d8b766e91573be2c9aeb4f782
"
openstack%2Fopenstack-helm-infra~master~I70a45eb3cccc7cfbe2784048a4524bd9e4d832df,openstack/openstack-helm-infra,master,,I70a45eb3cccc7cfbe2784048a4524bd9e4d832df,[ca-issuer]: Support different versions of cert-manager,MERGED,2021-02-19 18:08:43.000000000,2021-02-25 22:08:59.000000000,2021-02-25 22:07:39.000000000,8,2,7,776689,97bd2c4937945e38d9d985d9b2e4dcb21d2043ee,45,8,7,4,30495,Nafiz Haider,nafh27,"[ca-issuer]: Support different versions of cert-manager

Support cert manager version v1.2.0 by default and
logic to support earlier versions.

Change-Id: I70a45eb3cccc7cfbe2784048a4524bd9e4d832df
"
openstack%2Fopenstack-helm-infra~master~I8e0ceb0c0991fd48b5b6a1b688a5c1b91f58c02e,openstack/openstack-helm-infra,master,,I8e0ceb0c0991fd48b5b6a1b688a5c1b91f58c02e,[ceph-rgw] update rbac api version,MERGED,2021-02-21 04:15:47.000000000,2021-02-25 22:07:06.000000000,2021-02-25 22:05:31.000000000,3,2,0,776821,367f7bec3cbfca306e10a36349a8d8622c305674,24,8,3,3,18511,Brian Wickersham,bw6938,"[ceph-rgw] update rbac api version

When using helm3 to deploy, it fails as helm 3
no longer supports rbac.authorization.k8s.io/v1beta1,
but v1 can support helm2 and helm3 (liujinyuan@inspur.com).

Change-Id: I8e0ceb0c0991fd48b5b6a1b688a5c1b91f58c02e
"
openstack%2Fswift~stable%2Fussuri~I17a495b76a6e4072cfc47501e0f892fcf6c56173,openstack/swift,stable/ussuri,ussuri-sharding,I17a495b76a6e4072cfc47501e0f892fcf6c56173,Don't auto-create shard containers,MERGED,2021-02-24 03:15:09.000000000,2021-02-25 21:43:14.000000000,2021-02-25 21:41:36.000000000,82,73,0,777281,8588296dcfbbb52ae007e2a299e042e09c1fef4e,7,2,1,3,597,Pete Zaitcev,zaitcev,"Don't auto-create shard containers

...unless the client requests it specifically using a new flag:

   X-Backend-Auto-Create: true

Previously, you could get real jittery listings during a rebalance:

 * Partition with a shard DB get reassigned, so one primary has no DB.
 * Proxy makes a listing, gets a 404, tries another node. Likely, one of
   the other shard replicas responds. Things are fine.
 * Update comes in. Since we use the auto_create_account_prefix
   namespace for shards, container DB gets created and we write the row.
 * Proxy makes another listing. There's a one-in-three chance that we
   claim there's only one object in that whole range.

Note that unsharded databases would respond to the update with a 404 and
wait for one of the other primaries (or the old primary that's now a
hand-off) to rsync a whole DB over, keeping us in the happy state.

Now, if the account is in the shards namespace, 404 the object update if
we have no DB. Wait for replication like in the unsharded case.

Continue to be willing to create the DB when the sharder is seeding all
the CREATED databases before it starts cleaving, though.

Closes-Bug: #1881210
Cherry-Picked-From: I15052f3f17999e6f432951ba7c0731dcdc9475bb
Change-Id: I17a495b76a6e4072cfc47501e0f892fcf6c56173
"
openstack%2Fswift~stable%2Fussuri~Ic6d94a1b6dc1c6cfbeb7770b489aa53483afcbf2,openstack/swift,stable/ussuri,ussuri-sharding,Ic6d94a1b6dc1c6cfbeb7770b489aa53483afcbf2,Latch shard-stat reporting,MERGED,2021-02-24 03:15:09.000000000,2021-02-25 21:21:28.000000000,2021-02-25 21:18:00.000000000,284,39,0,777280,0da122383b4fb86d11e21406df46311999c87461,7,2,1,7,597,Pete Zaitcev,zaitcev,"Latch shard-stat reporting

The idea is, if none of

  - timestamp,
  - object_count,
  - bytes_used,
  - state, or
  - epoch

has changed, we shouldn't need to send an update back to the root
container.

This is more-or-less comparable to what the container-updater does to
avoid unnecessary writes to the account.

Closes-Bug: #1834097
Cherry-Picked-From: I1ee7ba5eae3c508064714c4deb4f7c6bbbfa32af
Change-Id: Ic6d94a1b6dc1c6cfbeb7770b489aa53483afcbf2
"
openstack%2Fswift~stable%2Fussuri~I133c2524460ae9df779077d160ed6fc2858c08cc,openstack/swift,stable/ussuri,ussuri-sharding,I133c2524460ae9df779077d160ed6fc2858c08cc,py27: Suppress UnicodeWarnings in ShardRange setters,MERGED,2021-02-24 03:15:09.000000000,2021-02-25 21:19:39.000000000,2021-02-25 21:17:55.000000000,18,8,0,777279,d1b997889de06f8bcbeb38d0192fa4391465bc47,7,2,1,2,597,Pete Zaitcev,zaitcev,"py27: Suppress UnicodeWarnings in ShardRange setters

Previously, we'd see warnings like

   UnicodeWarning: Unicode equal comparison failed to convert both
   arguments to Unicode - interpreting them as being unequal

when setting lower/upper bounds with non-ascii byte strings.

Cherry-Picked-From: I328f297a5403d7e59db95bc726428a3f92df88e1
Change-Id: I133c2524460ae9df779077d160ed6fc2858c08cc
"
openstack%2Fswift~stable%2Fvictoria~I0e83bc18494b85f8c20698998c66ec423646475d,openstack/swift,stable/victoria,victoria-sharding,I0e83bc18494b85f8c20698998c66ec423646475d,Avoid loops when gathering container listings from shards,MERGED,2021-02-23 00:47:18.000000000,2021-02-25 21:11:31.000000000,2021-02-25 21:09:59.000000000,178,5,0,777036,1032b45e10cf942f3790f245be463bbf9b5002ab,8,3,1,3,597,Pete Zaitcev,zaitcev,"Avoid loops when gathering container listings from shards

Previously the proxy container controller could, in corner cases, get
into a loop while building a listing for a sharded container. For
example, if a root has a single shard then the proxy will be
redirected to that shard, but if that shard has shrunk into the root
then it will redirect the proxy back to the root, and so on until the
root is updated with the shard's shrunken status.

There is already a guard to prevent the proxy fetching shard ranges
again from the same container that it is *currently* querying for
listing parts. That deals with the case when a container fills in gaps
in its listing shard ranges with a reference to itself. This patch
extends that guard to prevent the proxy fetching shard ranges again
from any container that has previously been queried for listing parts.

Cherry-Picked-From: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b
Change-Id: I0e83bc18494b85f8c20698998c66ec423646475d
"
openstack%2Fswift~stable%2Fussuri~I0af92f6a54aaccd38ef82dd072f7e10fdff7184c,openstack/swift,stable/ussuri,ussuri-sharding,I0af92f6a54aaccd38ef82dd072f7e10fdff7184c,sharding: Add probe test that exercises swift-manage-shard-ranges,MERGED,2021-02-24 03:15:09.000000000,2021-02-25 21:11:29.000000000,2021-02-25 21:10:03.000000000,91,2,0,777278,1b3b776964651acae6c17f581855b0fc7094acee,7,2,1,1,597,Pete Zaitcev,zaitcev,"sharding: Add probe test that exercises swift-manage-shard-ranges

Cherry-Picked-From: Ic7c40589679c290e5565f9581f70b9a1c070f6ab
Change-Id: I0af92f6a54aaccd38ef82dd072f7e10fdff7184c
"
openstack%2Fhorizon~master~I5099cc442f023c7a67203ccd3cf647cca9bdb52c,openstack/horizon,master,bug/1717342,I5099cc442f023c7a67203ccd3cf647cca9bdb52c,Display quotas per Cinder volume type,ABANDONED,2017-10-12 12:56:56.000000000,2021-02-25 21:06:41.000000000,,276,21,0,511472,cd8497f705396e062c7e8424b20017c1e0ead9ee,34,9,3,11,23757,Mateusz Kowalski,makowals,"Display quotas per Cinder volume type

This patch makes Cinder volume type quotas visible in panels
related to volume creation (from volumes and images tabs).

Currently user is able to select a desired type, but if quotas are
set, there is no way to check if creating a volume is going to
succeed. With this patch two additional quota charts are displayed
so that end user can see if there is still available quota for
selected type.

Closes-Bug: #1717342
Implements: blueprint quotas-per-cinder-volume-type

Change-Id: I5099cc442f023c7a67203ccd3cf647cca9bdb52c
"
openstack%2Fnova~master~I1d622c28a09ddd2aa7d33fa7057b2f78dcaf97dc,openstack/nova,master,bug/1916031,I1d622c28a09ddd2aa7d33fa7057b2f78dcaf97dc,Fixes the elapsed time logged during a live migration,MERGED,2021-02-18 13:04:54.000000000,2021-02-25 21:05:32.000000000,2021-02-25 18:56:02.000000000,1,1,0,776428,f88a8b0c1ba7b845f724e690ffefddb256f532d1,47,3,1,1,2033,Belmiro Moreira,moreira-belmiro-email-lists,"Fixes the elapsed time logged during a live migration

Nova doesn’t log the actual time that it is taking to live
migrate an instance but the number of cycles/2 that it does
when checking the migration job. If any operation takes
longer inside the loop, the reported time is wrong.

This behavior can cause some confusion when operators are
debugging issues.

This patch ensures that Nova logs the elapsed time of the
live migration.

Closes-Bug: #1916031
Change-Id: I1d622c28a09ddd2aa7d33fa7057b2f78dcaf97dc
"
openstack%2Fglance~master~I50fe718d3b50af0d662fda6fa0fbd3e29783e063,openstack/glance,master,secure-rbac,I50fe718d3b50af0d662fda6fa0fbd3e29783e063,Properly handle InvalidScope exceptions,MERGED,2021-02-05 21:15:14.000000000,2021-02-25 20:53:38.000000000,2021-02-25 20:48:39.000000000,35,5,12,774309,198d5ab0a2c74b6e49aed82d6455d90c094b8d8b,71,4,9,2,5046,Lance Bragstad,ldbragst,"Properly handle InvalidScope exceptions

Now that we're setting scope_types on policies, oslo.policy will throw
an InvalidScope exception if configured to do so. We should handle this
when we call enforcement so that we can bubble up an appropriate
Forbidden exception to the user.

Related: blueprint secure-rbac

Change-Id: I50fe718d3b50af0d662fda6fa0fbd3e29783e063
"
openstack%2Fironic-inspector~stable%2Fvictoria~Icd752783ff6df0e06f04e03b374af4862c91ec7f,openstack/ironic-inspector,stable/victoria,gate-stable/victoria,Icd752783ff6df0e06f04e03b374af4862c91ec7f,Enable tempurls for Swift in grenade,MERGED,2021-02-25 17:26:13.000000000,2021-02-25 20:53:33.000000000,2021-02-25 20:41:01.000000000,2,0,0,777551,abe6eb47540d1cd2f45c3a25ff58162ace00452e,7,2,1,1,10239,Dmitry Tantsur,dtantsur,"Enable tempurls for Swift in grenade

Change-Id: Icd752783ff6df0e06f04e03b374af4862c91ec7f
(cherry picked from commit 223cfbdbbcec549e0922fb9179cbf8a48c1642cf)
"
openstack%2Fneutron~master~I1542dc4cf98658fc9a40018192498c7a5cd1c3fe,openstack/neutron,master,task/41558,I1542dc4cf98658fc9a40018192498c7a5cd1c3fe,Remove rootwrap execution (5),MERGED,2021-02-04 17:31:42.000000000,2021-02-25 20:53:23.000000000,2021-02-25 20:47:55.000000000,46,89,0,774110,5a419cbc84e26b4a3b1d0dbe5166c1ab83cc825b,63,5,8,15,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Remove rootwrap execution (5)

Replace rootwrap execution with privsep context execution.
This series of patches will progressively replace any
rootwrap call.

This patch migrates some missing execution methods present in
the code and removes unneeded rootwrap filters.

Story: #2007686
Task: #41558

Change-Id: I1542dc4cf98658fc9a40018192498c7a5cd1c3fe
"
openstack%2Fironic~stable%2Fvictoria~Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a,openstack/ironic,stable/victoria,,Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a,Enable swift temporary URLs in grenade and provide a good error message,MERGED,2021-02-24 16:29:11.000000000,2021-02-25 20:53:19.000000000,2021-02-25 20:40:58.000000000,8,1,0,777429,a1f596590235d7b76be1d6184a2f6d44857f5eb0,15,2,1,2,10239,Dmitry Tantsur,dtantsur,"Enable swift temporary URLs in grenade and provide a good error message

The fixed configdrive_use_object_store requires them.

Change-Id: Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a
(cherry picked from commit 5533077c7d3c7afafe365173476e5580ea4b4ba0)
"
openstack%2Fmonasca-api~stable%2Fvictoria~Ie2e681c1a65a1ffadc9d0e5c7eccd0dab4460975,openstack/monasca-api,stable/victoria,fix-zuul-publish,Ie2e681c1a65a1ffadc9d0e5c7eccd0dab4460975,Fix zuul publish docker image job,MERGED,2021-02-17 21:28:40.000000000,2021-02-25 20:05:03.000000000,2021-02-25 19:58:32.000000000,1,1,0,776276,026fa041efa0edb0d5025294a5b86770241d53b8,13,2,2,1,26141,Adrian Czarnecki,czarneckia,"Fix zuul publish docker image job

Change-Id: Ie2e681c1a65a1ffadc9d0e5c7eccd0dab4460975
"
openstack%2Fdevstack~master~I0b6ab9fb943c7b0925a0a0d2490a8bcdfa76cedc,openstack/devstack,master,secure-rbac,I0b6ab9fb943c7b0925a0a0d2490a8bcdfa76cedc,Stop configure 'member' role in tempest_roles,MERGED,2021-02-08 17:48:00.000000000,2021-02-25 19:29:11.000000000,2021-02-23 19:43:06.000000000,0,1,0,774524,57b092dbceb95ed03f8d33f64a5cc60eabd57e50,19,7,2,1,8556,Ghanshyam,ghanshyam,"Stop configure 'member' role in tempest_roles

Config option auth.tempest_roles is used to set the
extra roles to all dynamic cred tests users.
- https://opendev.org/openstack/tempest/src/commit/9b6f441fdc2a970410ea631dc1318896349e010f/tempest/common/credentials_factory.py#L82

Devstack set the 'member' role in CONF.auth.tempest_roles
- https://opendev.org/openstack/devstack/src/commit/556f84aea90c572873fc9834292635b41e590224/lib/tempest#L628

This cause issue if any tests testing for speciifc rols and want
to exclude the 'member' role, basically this bug
- https://bugs.launchpad.net/devstack/+bug/1915740

Also with 'member' role assigned by default, Tempest will not be
able to test the secure RBAC new default 'reader' role.

Let's remove  this role assignment now and let test congfigure what
they want.

Closes-Bug: #1915740

Change-Id: I0b6ab9fb943c7b0925a0a0d2490a8bcdfa76cedc
"
openstack%2Fopenstack-helm~master~I329500297512b1d9c516f1d074bd88ed0088504c,openstack/openstack-helm,master,zanata/translations,I329500297512b1d9c516f1d074bd88ed0088504c,Imported Translations from Zanata,MERGED,2021-02-03 07:28:40.000000000,2021-02-25 19:26:35.000000000,2021-02-25 19:24:47.000000000,208,1,0,773840,2de324462aa7df1d4c775988288e19a3e2d4c2e7,30,5,10,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I329500297512b1d9c516f1d074bd88ed0088504c
"
openstack%2Fopenstack-helm-infra~master~I1ea7349f5821b549d7c9ea88ef0089821eff3ddf,openstack/openstack-helm-infra,master,,I1ea7349f5821b549d7c9ea88ef0089821eff3ddf,"Revert ""[ceph-client] enhance logic to enable the autoscaler for Octopus""",MERGED,2021-02-25 16:23:46.000000000,2021-02-25 19:04:22.000000000,2021-02-25 19:02:27.000000000,23,10,0,777550,714cfdad84bd5c346659b6778a1a63b2da1beb4a,15,9,3,6,18511,Brian Wickersham,bw6938,"Revert ""[ceph-client] enhance logic to enable the autoscaler for Octopus""

This reverts commit 910ed906d0df247f826ad527211bc86382e16eaa.

Reason for revert: May be causing upstream multinode gates to fail. 

Change-Id: I1ea7349f5821b549d7c9ea88ef0089821eff3ddf
"
openstack%2Fproject-config~master~I82a3bdd8cc370cd207dd5900038aef5b72d763c3,openstack/project-config,master,new-project,I82a3bdd8cc370cd207dd5900038aef5b72d763c3,Create inspur/venus-dashboard repository,MERGED,2021-02-22 03:01:14.000000000,2021-02-25 19:02:44.000000000,2021-02-25 18:32:40.000000000,4,0,0,776864,b888cb4417a17fc5e954299c81dee0289d8271bf,9,4,1,2,26458,Brin Zhang,zhangbailin,"Create inspur/venus-dashboard repository

Inspur is working on a log collection/management module for OpenStack.
It needs to be released under an open source license and fleshed out
before it can be officially proposed as an offical OpenStack project.

Create a inspur/venus-dashboard repository and use the same ACL
with Venus project(c187f810289c0567fb2a05a8012f7227d94d0de7) to do
all that preliminary work.

Change-Id: I82a3bdd8cc370cd207dd5900038aef5b72d763c3
"
openstack%2Fswift~master~I30ead8b72cb616d1311ffc81d9cfecb1afc9a05e,openstack/swift,master,p-recon-trivial-fix,I30ead8b72cb616d1311ffc81d9cfecb1afc9a05e,Trivial fixes in recon middleware,MERGED,2021-02-24 11:03:02.000000000,2021-02-25 19:02:42.000000000,2021-02-25 18:56:27.000000000,2,5,0,777358,9eac76258aeeaa3287d3e8c467b6ebbfa5e41c2f,11,2,1,1,7847,Alistair Coles,acoles,"Trivial fixes in recon middleware

Fix docstring and remove unused mount_check var.

Change-Id: I30ead8b72cb616d1311ffc81d9cfecb1afc9a05e
"
openstack%2Ftripleo-operator-ansible~master~I64d17dcb5eb6f351ac60dee8bb1ff17e0cc4db87,openstack/tripleo-operator-ansible,master,add-role-validator-group-info,I64d17dcb5eb6f351ac60dee8bb1ff17e0cc4db87,add role to gather info of tripleo validation group,MERGED,2021-02-11 14:11:17.000000000,2021-02-25 18:43:37.000000000,2021-02-25 18:43:37.000000000,191,0,0,775157,29186b681a407c2ffdf4559cf3b108bbf266d5a3,15,3,4,8,27427,David Peacock,davidjpeacock,"add role to gather info of tripleo validation group

With this patch, validator group info can be used by operators in automation.

Change-Id: I64d17dcb5eb6f351ac60dee8bb1ff17e0cc4db87
"
openstack%2Ftripleo-operator-ansible~master~Iedad29583c104ecd98d38455bf3422bb353a37d9,openstack/tripleo-operator-ansible,master,add-role-validator-show,Iedad29583c104ecd98d38455bf3422bb353a37d9,add role to show tripleo validation,MERGED,2020-09-30 19:12:24.000000000,2021-02-25 18:29:16.000000000,2021-02-25 18:29:16.000000000,191,0,0,755375,a8d43fa37d4c33f5e55ee4a0432e5340e55c5393,36,4,12,8,27427,David Peacock,davidjpeacock,"add role to show tripleo validation

With this patch, validator show can be used by operators in automation.

Change-Id: Iedad29583c104ecd98d38455bf3422bb353a37d9
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I9ee4c5501617f44cb557a0494f7b9382e4d8831f,openstack/tripleo-ansible,stable/train,fix-ci,I9ee4c5501617f44cb557a0494f7b9382e4d8831f,WIP: test molecule bump,ABANDONED,2021-02-25 17:39:52.000000000,2021-02-25 17:57:48.000000000,,2,1,0,777637,ebc426ea621fc1846e8ad232e96a71c4296af54d,4,0,3,2,14985,Alex Schultz,mwhahaha,"WIP: test molecule bump

I think this might take a bunch of additional changes but let's see what
CI says. c7006fc49d5168d917a289cca8717595027d8c58 was the version where
we fixed this in Ussuri

Change-Id: I9ee4c5501617f44cb557a0494f7b9382e4d8831f
"
openstack%2Fvalidations-libs~master~I3a99ac5b73b5a8d32434db15f78e14a7366e2925,openstack/validations-libs,master,inventory/abspath,I3a99ac5b73b5a8d32434db15f78e14a7366e2925,Return absolute path for inventory,MERGED,2021-02-16 20:41:20.000000000,2021-02-25 17:56:27.000000000,2021-02-25 17:51:04.000000000,6,5,2,775930,3b2d2475e68e381194d49e44465296ced2fe2059,19,5,3,2,16515,mbu,matbu,"Return absolute path for inventory

Is the inventory is passed with a relative path ansible
wont be able to find the file, we need to return the
absolute path in that case.

Change-Id: I3a99ac5b73b5a8d32434db15f78e14a7366e2925
"
openstack%2Finstack-undercloud~stable%2Fqueens~Idd1c0c5fe7ba54c661b122e4822df16439b78d80,openstack/instack-undercloud,stable/queens,tripleo-ci-reduce,Idd1c0c5fe7ba54c661b122e4822df16439b78d80,Remove tripleo-multinode-baremetal-minimal template from layout,MERGED,2021-02-24 11:52:36.000000000,2021-02-25 17:51:02.000000000,2021-02-25 17:51:02.000000000,0,1,0,777371,9b770ae2460e6ab7cf8bb3556f35239ee154db7b,9,4,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-baremetal-minimal template from layout

The tripleo-multinode-baremetal-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Idd1c0c5fe7ba54c661b122e4822df16439b78d80
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9ec73e3d94884c339ea5e21817c24cf5e758f242,openstack/tripleo-heat-templates,stable/train,,I9ec73e3d94884c339ea5e21817c24cf5e758f242,[train-only] Ensure we stop ovn-controller with cleanup,MERGED,2021-01-28 11:37:11.000000000,2021-02-25 17:50:56.000000000,2021-02-25 17:50:56.000000000,22,0,2,772865,988d5dc892b0aad28cf4c958f05b2d026cde33cd,32,11,6,1,11166,Lukas Bezdicka,xbezdick,"[train-only] Ensure we stop ovn-controller with cleanup

Turns out that gracefull shutdown of container running ovn_controller
does not disable routing to it. This means that after Leapp when the
node is clean we still try to send traffic to it and this causes
outage. By calling ovs-appctl -t ovn-controller exit we ensure that
ovn cleans up BFD interfaces from the node. For this to work we need
to disable docker autorestart of the container.

Change-Id: I9ec73e3d94884c339ea5e21817c24cf5e758f242
"
openstack%2Foslo.policy~master~Icc486f5a04810a5a4194cac1bcae930d66e519d4,openstack/oslo.policy,master,add-str,Icc486f5a04810a5a4194cac1bcae930d66e519d4,Add '__str__' for 'DeprecatedRule',ABANDONED,2021-02-03 11:16:00.000000000,2021-02-25 17:37:31.000000000,,4,2,0,773873,d698bd3b94b88f42e969ed49e499b5bb37f9d744,5,3,1,1,15334,Stephen Finucane,sfinucan,"Add '__str__' for 'DeprecatedRule'

Without this, attempting to get information on the rule returns a
useless representation like so:

  <DeprecatedRule object at 0x7f17e6dbef10>

With it, we get the same format as the '(Documented)RuleDefault',
namely:

  ""os_compute_api:os-hypervisors"": ""rule:admin_api""

The '__str__ magic method for the 'RuleDefault' class is simplified in
the process of this change.

Change-Id: Icc486f5a04810a5a4194cac1bcae930d66e519d4
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fmanila~master~Ic16bc3cb03b851003c189450b398f8dd5dde8160,openstack/manila,master,bug/1915116,Ic16bc3cb03b851003c189450b398f8dd5dde8160,Doc: Add profiler support documentation,MERGED,2021-02-23 11:56:38.000000000,2021-02-25 17:36:08.000000000,2021-02-25 17:34:30.000000000,136,0,10,777096,3b0358a1bc1db6c5ae397e8ebb86f902e5b2cbb6,24,4,2,2,32919,kiran pawar,kpdev,"Doc: Add profiler support documentation

The profiler integration with the shared file system service(Manila)
allows to trace commands issued using both manila-client and
openstack-client.

Note that osprofiler should be run from admin user name & tenant.

Closes-Bug: #1915116
Change-Id: Ic16bc3cb03b851003c189450b398f8dd5dde8160
"
openstack%2Fironic~master~I21aaf40fcdcb399b8999a049f17631667f47db48,openstack/ironic,master,vmedia-fast-track,I21aaf40fcdcb399b8999a049f17631667f47db48,Make fast-track work with redfish-virtual-media,ABANDONED,2021-02-25 16:50:49.000000000,2021-02-25 17:27:44.000000000,,38,0,0,777621,96699e0a5ffa5bbc50c4be9985de559c33bb28c5,5,0,1,3,10239,Dmitry Tantsur,dtantsur,"Make fast-track work with redfish-virtual-media

If the node is in fast-track mode, do not re-insert the virtual media.

Change-Id: I21aaf40fcdcb399b8999a049f17631667f47db48
"
openstack%2Fmanila~master~I3bce1f04d1cfebfacd78ed135a949a068c78987d,openstack/manila,master,bp/manila-os-profiler,I3bce1f04d1cfebfacd78ed135a949a068c78987d,Integrate OSprofiler and Manila,MERGED,2021-01-07 13:47:25.000000000,2021-02-25 17:18:56.000000000,2021-02-25 17:16:55.000000000,114,10,22,769729,fbc2b4d2896d90feaa6be2f67764688b8e571ca3,104,9,9,10,32919,kiran pawar,kpdev,"Integrate OSprofiler and Manila

*) Add osprofiler wsgi middleware

This middleware is used for 2 things:
1) It checks that person who want to trace is trusted and knows
secret HMAC key.
2) It start tracing in case of proper trace headers and add
first wsgi trace point, with info about HTTP request
*) Add initialization of osprofiler at start of serivce.

You should use python-manilaclient with this patch:

https://review.opendev.org/#/c/769731

Run any command with --profile SECRET_KEY

  $ manila --profile SECRET_KEY create NFS 1 --name <share> \
    --description <share_description> --share-network <network> \
    --share-type default
  # it will print <Trace ID>

Get pretty HTML with traces:

  $ osprofiler trace show --html <Trace ID> --connection-string \
   <connection_string> --out <output.html>
  e.g. --connection-string can be redis://localhost:6379

Note that osprofiler should be run from admin user name & tenant.

Implements: blueprint manila-os-profiler
Change-Id: I3bce1f04d1cfebfacd78ed135a949a068c78987d
"
openstack%2Ftempest~master~I68d46733dd4dcef7a37e940ccbba5a66bfce2b5b,openstack/tempest,master,remove-six,I68d46733dd4dcef7a37e940ccbba5a66bfce2b5b,[part1] Remove six,MERGED,2020-12-02 05:45:08.000000000,2021-02-25 17:12:34.000000000,2021-02-25 17:09:59.000000000,36,49,1,765056,19b70a3858237654143c52ace9cf1adc284ba97d,20,4,2,17,32029,likui,likui,"[part1] Remove six

Replace the following items with Python 3 style code

Remove six in follows:
   - six.text_type

Change-Id: I68d46733dd4dcef7a37e940ccbba5a66bfce2b5b
"
openstack%2Fkuryr-kubernetes~master~Icef8645baa7cba731b76814abdb63be556172ef7,openstack/kuryr-kubernetes,master,bug/sctp-version,Icef8645baa7cba731b76814abdb63be556172ef7,Fixes the if-else-block bug,MERGED,2021-02-25 09:50:40.000000000,2021-02-25 17:11:11.000000000,2021-02-25 17:09:38.000000000,3,3,1,777528,2edbbf259a43947045b14c3676ec158bf5048f4f,14,5,2,1,32533,Tabitha Fasoyin,tabbie-fash,"Fixes the if-else-block bug

The SCTP version check was placed above the else block of
Octavia-tags version check, this patch fixes that.

Change-Id: Icef8645baa7cba731b76814abdb63be556172ef7
"
openstack%2Fironic-inspector~master~Icd752783ff6df0e06f04e03b374af4862c91ec7f,openstack/ironic-inspector,master,gate,Icd752783ff6df0e06f04e03b374af4862c91ec7f,Enable tempurls for Swift in grenade,MERGED,2021-02-25 11:06:27.000000000,2021-02-25 16:56:57.000000000,2021-02-25 16:51:03.000000000,2,0,0,777570,223cfbdbbcec549e0922fb9179cbf8a48c1642cf,9,4,1,1,10239,Dmitry Tantsur,dtantsur,"Enable tempurls for Swift in grenade

Change-Id: Icd752783ff6df0e06f04e03b374af4862c91ec7f
"
openstack%2Fos-refresh-config~master~Id02e64cde1b45c2a1ab43ec9197a3f1235857b2b,openstack/os-refresh-config,master,,Id02e64cde1b45c2a1ab43ec9197a3f1235857b2b,Fix failing pep8 and update test-requirements to unblock gate,ABANDONED,2021-02-24 11:13:20.000000000,2021-02-25 16:49:51.000000000,,3,5,0,777364,88657f7e7f0591a4974cbf7f6278359597229bee,7,9,1,2,8449,Marios Andreou,marios,"Fix failing pep8 and update test-requirements to unblock gate

This updates test-requirements to fix issue seen in [1] and also
fixes a failing pep8 test seen once the test-requirements was
addressed.

[1] https://a28720641abd1053931d-69746c322fe5e3cf8e2976f654b96d92.ssl.cf5.rackcdn.com/777098/1/check/openstack-tox-py38/9e6a3c0/tox/py38-1.log

Change-Id: Id02e64cde1b45c2a1ab43ec9197a3f1235857b2b
"
openstack%2Fopenstacksdk~master~I4c87c420b263843a76d8a0d7a17141a35e63b3af,openstack/openstacksdk,master,alex_capstone,I4c87c420b263843a76d8a0d7a17141a35e63b3af,"This is the Host Extension Resource, for capstone.",ABANDONED,2021-02-25 16:19:38.000000000,2021-02-25 16:32:46.000000000,,115,0,0,777617,85ccbb6a534de6345f7f15349139d8bc5aada662,2,0,1,3,33037,Alexander Wilcox,vNexus,"This is the Host Extension Resource, for capstone.

Adding change, to try to succeed in Zuul tests.
Change-Id: I68956431b804ab8d464d530e3ffd7c5f7776eb42

Change-Id: I4c87c420b263843a76d8a0d7a17141a35e63b3af
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~Ie03282ca277ccea7af3e6d116a3cac7bcf4cdbe4,openstack/openstack-ansible,stable/victoria,,Ie03282ca277ccea7af3e6d116a3cac7bcf4cdbe4,Add reno about barbican_simple_crypto_key,MERGED,2021-02-16 15:19:22.000000000,2021-02-25 16:29:09.000000000,2021-02-25 16:27:18.000000000,25,0,0,775856,88272b4ae077d42d540d51c13ddfc1ba4357208e,26,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add reno about barbican_simple_crypto_key

This also adds upgrade step not to change behaviour for already deployed
environments with hardcoded kek.

Change-Id: Ie03282ca277ccea7af3e6d116a3cac7bcf4cdbe4
"
openstack%2Fopenstack-helm-infra~master~I90d4d279a96cd298eba03e9c0b05a8f2a752e746,openstack/openstack-helm-infra,master,,I90d4d279a96cd298eba03e9c0b05a8f2a752e746,[ceph-client] enhance logic to enable the autoscaler for Octopus,MERGED,2021-01-15 20:33:59.000000000,2021-02-25 16:23:46.000000000,2021-02-22 17:35:27.000000000,10,23,1,771078,910ed906d0df247f826ad527211bc86382e16eaa,55,8,22,6,18511,Brian Wickersham,bw6938,"[ceph-client] enhance logic to enable the autoscaler for Octopus

Change-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746
"
openstack%2Fglance~master~I4946c25375f1dc54d8f550f21c97bdf5b3005877,openstack/glance,master,bump-image-api-version,I4946c25375f1dc54d8f550f21c97bdf5b3005877,Expand tasks database table to add more columns,MERGED,2020-11-23 06:25:12.000000000,2021-02-25 16:12:27.000000000,2021-02-25 16:10:32.000000000,146,1,6,763739,6f20983ff8a916839a7ce95eaa822c36981c4223,80,7,12,6,9303,Abhishek Kekane,abhishekkekane,"Expand tasks database table to add more columns

Added 3 new columns 'image_id', 'request_id' and 'user_id' to task
table. This is a base patch for adding new API to show task
information to the user.

Partially-Implements: blueprint messages-api
Change-Id: I4946c25375f1dc54d8f550f21c97bdf5b3005877
"
openstack%2Fironic~master~Ib431c3507cb4bdbd9ba30b58e30b078e855e7754,openstack/ironic,master,fix-typos,Ib431c3507cb4bdbd9ba30b58e30b078e855e7754,[trivial] fix typos in conductor,MERGED,2021-02-23 16:35:34.000000000,2021-02-25 16:08:41.000000000,2021-02-25 16:06:47.000000000,4,4,1,777162,d5b5356d603deb4775eca99108a1be8238c08e20,30,3,2,2,23851,Riccardo Pittau,elfosardo,"[trivial] fix typos in conductor

Change-Id: Ib431c3507cb4bdbd9ba30b58e30b078e855e7754
"
openstack%2Fgovernance~master~Ic1b797bb4284b89b4812df0302cb52cdc0487550,openstack/governance,master,project-update,Ic1b797bb4284b89b4812df0302cb52cdc0487550,monasca-log-api & monasca-ceilometer does not make releases,MERGED,2021-01-21 10:37:04.000000000,2021-02-25 16:07:36.000000000,2021-02-25 16:05:59.000000000,2,0,0,771785,f32804bb19f2181e02602030b92d633d45f8f3c3,16,4,2,1,28522,Hervé Beraud,hberaud,"monasca-log-api & monasca-ceilometer does not make releases

These projects have been deprecated [1][2] and the monasca team is ok to stop
to release them [3].

Set the release-management key so that it gets properly ignored by the release
management team.

[1] https://review.opendev.org/c/openstack/monasca-ceilometer/+/720319
[2] https://review.opendev.org/c/openstack/monasca-log-api/+/704519
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019892.html

Depends-On: https://review.opendev.org/c/openstack/project-config/+/777095
Depends-On: https://review.opendev.org/c/openstack/project-config/+/777093

Change-Id: Ic1b797bb4284b89b4812df0302cb52cdc0487550
"
openstack%2Fneutron~stable%2Fvictoria~I63221507713b941c261cdf88781133149da8ab8d,openstack/neutron,stable/victoria,bug/1913269-stable/victoria,I63221507713b941c261cdf88781133149da8ab8d,"Don't configure dnsmasq entries for ""network"" ports",MERGED,2021-02-23 20:09:29.000000000,2021-02-25 16:01:00.000000000,2021-02-25 15:59:07.000000000,46,0,0,777120,1239ac5023d45b0f6b541815ecb255ba0078af1f,15,4,1,4,11975,Slawek Kaplonski,slaweq,"Don't configure dnsmasq entries for ""network"" ports

Ports with device_owner like:
* floating_ip,
* DHCP,
* some types of router ports, like: HA interface interface,
* distributed ports,
don't need to be configured in the dnsmasq file.
So there is no need to reload dnsmasq every time when such port is
added/updated to the network.

This patch adds skip in such case which should improve load on the
Neutron DHCP agent.

Closes-Bug: #1913269
Change-Id: I63221507713b941c261cdf88781133149da8ab8d
(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)
"
openstack%2Fnetworking-bgpvpn~master~I4d015cfe8b97e0fc1259d47c89f4b0704accb61c,openstack/networking-bgpvpn,master,zanata/translations,I4d015cfe8b97e0fc1259d47c89f4b0704accb61c,Imported Translations from Zanata,MERGED,2020-12-13 07:20:49.000000000,2021-02-25 15:59:39.000000000,2021-02-25 15:58:22.000000000,96,2,0,766853,05f14532b5fbc12236633d3e3594f8e3b3fdb8fd,11,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4d015cfe8b97e0fc1259d47c89f4b0704accb61c
"
openstack%2Freleases~master~I8f26fb5655ef1cd280b243cadbb7b49d596e7d51,openstack/releases,master,,I8f26fb5655ef1cd280b243cadbb7b49d596e7d51,Optional list of changes in commit message for auto release,MERGED,2021-02-04 11:36:11.000000000,2021-02-25 15:52:18.000000000,2021-02-25 15:52:18.000000000,19,5,0,774071,b293ca4bcbf95b9a85ecf9a4c786371ec9aa3e71,21,4,4,1,17685,Elod Illes,elod.illes,"Optional list of changes in commit message for auto release

When generating release patches with process_auto_releases.sh it could
be useful to have the list of changes in the commit message of the
release patch. This patch adds an extra question for that.

Change-Id: I8f26fb5655ef1cd280b243cadbb7b49d596e7d51
"
openstack%2Fopenstack-helm~master~I834b125333cbd0b8162b49a162a6a5d10d69c573,openstack/openstack-helm,master,fix-reno,I834b125333cbd0b8162b49a162a6a5d10d69c573,DNM - Update index.rst,ABANDONED,2021-02-22 19:36:47.000000000,2021-02-25 15:40:45.000000000,,2,1,0,776990,9d4e971fa1c1a1998bceb9d15455598f686cbaf2,4,2,1,1,21420,Gage Hugo,ghugo,"DNM - Update index.rst

Change-Id: I834b125333cbd0b8162b49a162a6a5d10d69c573
"
openstack%2Fmonasca-api~stable%2Fvictoria~I6ec395aa12968a0e9bf51ed168582218f8d75f01,openstack/monasca-api,stable/victoria,fix-zuul-publish,I6ec395aa12968a0e9bf51ed168582218f8d75f01,Fix publish docker image job,ABANDONED,2021-02-17 21:32:30.000000000,2021-02-25 15:14:26.000000000,,1,1,0,776277,21a8b42516f79c607c7695533bebcbeaa8e2eb1a,5,1,1,1,26141,Adrian Czarnecki,czarneckia,"Fix publish docker image job

Change-Id: I6ec395aa12968a0e9bf51ed168582218f8d75f01
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I36fc4650e8481024ad985408b7ac5652acf26ec4,openstack/python-tripleoclient,stable/train,train-rhbz1912879,I36fc4650e8481024ad985408b7ac5652acf26ec4,Fix the get_deployment_status call,MERGED,2021-01-25 18:16:43.000000000,2021-02-25 15:14:24.000000000,2021-02-25 15:12:47.000000000,1,1,2,772417,018a3fe53049e685286ecfc8924582f101cc6958,21,7,8,1,11491,Gael Chamoulaud,gchamoul,"Fix the get_deployment_status call

The get_deployment_status function waits for a keyworded,
variable-length argument dictionary. This patch fixes that issue by
adding the right keyword for 'plan'.

This patch also adds a space in the output string in order to be
well-formatted.

Change-Id: I36fc4650e8481024ad985408b7ac5652acf26ec4
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit c246e80bfa3e03a242517783e142b14e5d10c28c)
(cherry picked from commit c54ed778b52b17e63d4a9b72d6a58c28d18ad991)
"
openstack%2Fmanila~master~I4e02aed316f68d89e7651cea8feaa3a366024145,openstack/manila,master,,I4e02aed316f68d89e7651cea8feaa3a366024145,DNM - Testing add/update sec service with Netapp,NEW,2021-02-12 20:41:58.000000000,2021-02-25 14:49:13.000000000,,0,0,0,775446,a40c115e13b5de74d154940646887ec178a984ef,15,1,1,1,30998,Andre Luiz Beltrami Rocha,andrebeltrami,"DNM - Testing add/update sec service with Netapp

This patch tests the feature add/update sec service
for NetApp driver.

Depends-On: I8556e4e2e05deb9b116eacbd5afe2f7c5d77b44b
Depends-On: I8c1b882f9c4fe40a14d50a4ebb7a40ff5c94bb46
Change-Id: I4e02aed316f68d89e7651cea8feaa3a366024145
"
openstack%2Fpython-manilaclient~master~I04265d6bdf84038670a3188a99cd2d639ad62cfe,openstack/python-manilaclient,master,bug/1898317,I04265d6bdf84038670a3188a99cd2d639ad62cfe,"Add ""--wait"" option for force-deleting a share/snapshot/share-instance",MERGED,2021-02-01 09:05:58.000000000,2021-02-25 14:37:56.000000000,2021-02-25 14:36:10.000000000,140,18,11,773313,b5b8bdbb9874304f91d29894e2b3c57b53345f82,25,4,5,3,32493,Kafilat Adeleke,kafilat-adeleke,"Add ""--wait"" option for force-deleting a share/snapshot/share-instance

Closes-Bug: #1898317
Change-Id: I04265d6bdf84038670a3188a99cd2d639ad62cfe
"
openstack%2Fneutron~master~Icebe0255ce11eae859c05a273335b027da3f1545,openstack/neutron,master,bug/1869129,Icebe0255ce11eae859c05a273335b027da3f1545,Use normalized_cidr of the SG in the backen drivers,MERGED,2021-02-22 22:15:27.000000000,2021-02-25 14:15:25.000000000,2021-02-25 14:13:25.000000000,6,2,0,777015,2bfe143d838193ccdc547f60c1e69ebac3cbd4fb,34,4,1,1,11975,Slawek Kaplonski,slaweq,"Use normalized_cidr of the SG in the backen drivers

Patch [1] introduced new, read only field ""normalized_cidr"" in
the security groups' rules.
With this patch this new field is send as source or
destination_ip_prefix field in the rule's dict in case if
remote_ip_prefix and normalized_cidr are set in the rule.

[1] https://review.opendev.org/c/openstack/neutron/+/749158

Related-Bug: #1869129
Change-Id: Icebe0255ce11eae859c05a273335b027da3f1545
"
openstack%2Fopenstack-ansible-repo_server~master~I3e48000a4685d4df46cd60113ce4c0c02b63dc0c,openstack/openstack-ansible-repo_server,master,osa-facts,I3e48000a4685d4df46cd60113ce4c0c02b63dc0c,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:24:17.000000000,2021-02-25 13:42:14.000000000,2021-02-25 13:40:15.000000000,20,20,0,777073,aab7090e4d7a3bc5947166931a23aa0639d188fc,9,3,1,8,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I3e48000a4685d4df46cd60113ce4c0c02b63dc0c
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39,openstack/tripleo-ansible,stable/train,,I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39,Also bootstrap python3-paunch,ABANDONED,2021-02-25 10:48:18.000000000,2021-02-25 13:40:18.000000000,,3,0,0,777566,8f75ebf1e8a7603c1a0c4e5b742d361266e8b4b2,3,3,1,3,6926,Bogdan Dobrelya,bogdando,"Also bootstrap python3-paunch

Deployed servers expect to have paunch tooling installing

Change-Id: I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 7acc23d978dc50be1b3a238124bb1867c20ac1d2)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39,openstack/tripleo-ansible,stable/ussuri,,I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39,Also bootstrap python3-paunch,ABANDONED,2021-02-25 10:47:30.000000000,2021-02-25 13:39:56.000000000,,3,0,0,777565,7acc23d978dc50be1b3a238124bb1867c20ac1d2,4,4,1,3,6926,Bogdan Dobrelya,bogdando,"Also bootstrap python3-paunch

Deployed servers expect to have paunch tooling installing

Change-Id: I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fvalidations-libs~master~Iaa8ca89654804b9e6e5806dedcf867dce34b2a57,openstack/validations-libs,master,improve_message_error_parse_all_validations_on_disk,Iaa8ca89654804b9e6e5806dedcf867dce34b2a57,Add the path of the file in the error message.,ABANDONED,2021-02-19 10:55:05.000000000,2021-02-25 13:33:22.000000000,,2,1,0,776602,82b137e9fb18811e434005f88a9f2e47bdcd7ac2,3,1,1,1,31245,Daniel Bengtsson,damani42,"Add the path of the file in the error message.

Improve the error message. Add the path of the playbook.

Change-Id: Iaa8ca89654804b9e6e5806dedcf867dce34b2a57
"
openstack%2Ftripleo-validations~master~I97cde165794afa4aea61da969c7b1bf4608a9f8a,openstack/tripleo-validations,master,use_groups,I97cde165794afa4aea61da969c7b1bf4608a9f8a,Set a group.,ABANDONED,2021-02-22 07:35:47.000000000,2021-02-25 13:32:25.000000000,,2,1,0,776874,3b2d1669a563474f40b566420058eb322f2b0b3d,9,9,1,1,31245,Daniel Bengtsson,damani42,"Set a group.

Set a group for ceph-pg. Use the pre-ceph for this validation.

Change-Id: I97cde165794afa4aea61da969c7b1bf4608a9f8a
"
openstack%2Fansible-role-systemd_networkd~master~I36a098e4b028bdf09b38e2f2c99f68f311ce9d32,openstack/ansible-role-systemd_networkd,master,osa-facts,I36a098e4b028bdf09b38e2f2c99f68f311ce9d32,Use ansible_facts[] instead of fact variables,MERGED,2021-02-22 16:29:34.000000000,2021-02-25 13:31:59.000000000,2021-02-25 13:30:32.000000000,51,51,0,776955,63ad4cffacd48f430ca1a9b5bd5fc03ed9f4581e,26,3,7,3,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I36a098e4b028bdf09b38e2f2c99f68f311ce9d32
"
openstack%2Ftripleo-validations~master~I4eb7508c24cce0db3179d4f3ef26cabceb164716,openstack/tripleo-validations,master,,I4eb7508c24cce0db3179d4f3ef26cabceb164716,Optionally fail ceph-health if HEALTH_WARN,MERGED,2021-02-15 15:44:35.000000000,2021-02-25 13:28:57.000000000,2021-02-25 13:28:57.000000000,8,0,1,775669,67560d36c06860dc827ef8356f1023f42facdbec,9,3,2,2,6796,Giulio Fidente,gfidente,"Optionally fail ceph-health if HEALTH_WARN

Helps controlling the behavior of the ceph-health check for it to
fail, optionally, not only when cluster is in _ERR state but also
in _WARN state.

Change-Id: I4eb7508c24cce0db3179d4f3ef26cabceb164716
Related-Bug: 1915700
"
openstack%2Fneutron~master~I528eb847ee956d1939abe2cb9e32450a4e271999,openstack/neutron,master,,I528eb847ee956d1939abe2cb9e32450a4e271999,[doc]Replace ovn-controller man page url,MERGED,2021-02-25 02:08:37.000000000,2021-02-25 13:19:27.000000000,2021-02-25 13:15:18.000000000,1,1,0,777493,809cb5129e215e5cbb2dfa882bbab448ce16e295,7,2,1,1,30380,ZhouHeng,zhouhenglc,"[doc]Replace ovn-controller man page url

ovn-controller man page has moved to [1]

[1] http://www.ovn.org/support/dist-docs/ovn-controller.8.html

Change-Id: I528eb847ee956d1939abe2cb9e32450a4e271999
"
openstack%2Fopenstack-ansible-memcached_server~master~I8c5d46a9d612b6800b6dde37a324e2357cf99217,openstack/openstack-ansible-memcached_server,master,osa-facts,I8c5d46a9d612b6800b6dde37a324e2357cf99217,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:21:30.000000000,2021-02-25 13:17:46.000000000,2021-02-25 13:15:39.000000000,9,9,0,777069,b53e30cdacfaa193b167da9fa1772c30a0963e3a,9,3,1,3,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I8c5d46a9d612b6800b6dde37a324e2357cf99217
"
openstack%2Fneutron~master~I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,openstack/neutron,master,def_sg_opt,I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,Remove redundant _ensure_default_security_group,MERGED,2021-02-24 12:39:13.000000000,2021-02-25 13:17:13.000000000,2021-02-25 13:14:49.000000000,0,3,0,777376,bdf1416958f79e8076397fcbf2fbbc920f964b37,13,4,1,1,5948,Oleg Bondarev,obondarev,"Remove redundant _ensure_default_security_group

_ensure_default_security_group() is done in
_ensure_default_security_group_handler [1] on each port BEFORE_CREATE
event. No need to ensure once again right after sending this event.

[1] https://github.com/openstack/neutron/blob/084fa99874e882649aa6895941fa913b2b852868/neutron/db/securitygroups_db.py#L894

TrivialFix

Change-Id: I1bfe2a50b52502b5ab3631c016a617f7a9756cc6
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ia6dac13c7e2206f4a86ef8e21c5b1cd80eb16e0e,openstack/openstack-ansible-rabbitmq_server,master,osa-facts,Ia6dac13c7e2206f4a86ef8e21c5b1cd80eb16e0e,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:23:20.000000000,2021-02-25 13:17:08.000000000,2021-02-25 13:14:21.000000000,34,34,0,777071,b8fc8721133157d958344147a7d99f0f6cc8e559,13,3,3,12,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Ia6dac13c7e2206f4a86ef8e21c5b1cd80eb16e0e
"
openstack%2Fansible-role-uwsgi~master~Ibadca3bdce6d7adf51ddce9591a0d404e38d5e71,openstack/ansible-role-uwsgi,master,osa-facts,Ibadca3bdce6d7adf51ddce9591a0d404e38d5e71,Use ansible_facts[] instead of fact variables,MERGED,2021-02-24 14:23:40.000000000,2021-02-25 13:06:19.000000000,2021-02-25 13:04:31.000000000,12,12,0,777386,15f24d11f34bfab6c4170de5b1b2c65363794dc5,8,3,1,5,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Ibadca3bdce6d7adf51ddce9591a0d404e38d5e71
"
openstack%2Foctavia-tempest-plugin~master~I14ab0f8b159fdd0c7e81b94297a57f30260579fa,openstack/octavia-tempest-plugin,master,,I14ab0f8b159fdd0c7e81b94297a57f30260579fa,Remove Stein CI jobs,MERGED,2021-02-23 07:47:28.000000000,2021-02-25 12:41:00.000000000,2021-02-25 12:35:42.000000000,0,53,0,777055,972385b91cc196b520bd6b43b55b956e680d7451,19,5,2,2,6469,Carlos Gonçalves,cgoncalves,"Remove Stein CI jobs

Stein release of Octavia has reached end-of-life (EOL) support [1].
The stable/stein Octavia branch no longer accepts changes.
We can now remove the Stein CI jobs.

[1] https://review.opendev.org/c/openstack/releases/+/772847

Change-Id: I14ab0f8b159fdd0c7e81b94297a57f30260579fa
"
openstack%2Fopenstack-ansible-lxc_container_create~master~If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93,openstack/openstack-ansible-lxc_container_create,master,osa-facts,If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93,Use ansible_facts[] instead of fact variables,MERGED,2021-02-22 16:44:52.000000000,2021-02-25 12:16:46.000000000,2021-02-25 12:15:13.000000000,13,30,3,776958,5d22a389c257f189a6a8ab42973e8c142df08169,25,3,8,7,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93
"
openstack%2Fneutron~stable%2Fvictoria~I00794e9c6403bbe528ea398b981e54d41d53b5a5,openstack/neutron,stable/victoria,bug/1916470,I00794e9c6403bbe528ea398b981e54d41d53b5a5,[OVN][QoS] Remove OVN QoS rule when FIP is dissasociated,ABANDONED,2021-02-25 12:09:08.000000000,2021-02-25 12:11:37.000000000,,12,5,0,777580,24a3be3d83ebfc2cbe2349b6a54a44881ee317c6,2,0,1,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN][QoS] Remove OVN QoS rule when FIP is dissasociated

When an floating IP is dissasociated from an internal port, the QoS
rule in the OVN database should be removed too. This patch adds a
QoS extension call to delete the QoS rules in OVN in this case.

Change-Id: I00794e9c6403bbe528ea398b981e54d41d53b5a5
Closes-Bug: #1916470
(cherry picked from commit 3398e6abc098a0dd8d0b441a729201adb9d96eca)
"
openstack%2Fneutron~stable%2Ftrain~Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,openstack/neutron,stable/train,bug/1913297-stable/victoria-stable/ussuri-stable/train,Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,Don't try to create default SG when security groups are disabled,MERGED,2021-02-08 10:32:57.000000000,2021-02-25 11:37:10.000000000,2021-02-25 11:34:53.000000000,19,1,0,774406,1800d122437b3ec1f33c54777eaf930c39abdae3,14,5,1,2,11975,Slawek Kaplonski,slaweq,"Don't try to create default SG when security groups are disabled

If security group API is disabled, there is no point to create default
security group for tenant when e.g. network is created.

Closes-Bug: #1913297
Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa
(cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)
"
openstack%2Frequirements~master~I6840ab2d2fde1d719018f8c2ac64282f17cdec40,openstack/requirements,master,mock-4.0.3,I6840ab2d2fde1d719018f8c2ac64282f17cdec40,update mock to 4.0.3,MERGED,2021-02-22 17:07:08.000000000,2021-02-25 11:36:49.000000000,2021-02-25 11:35:10.000000000,1,1,0,776967,1d008e5bd17580b7a803ea4908a42185565a0775,20,3,1,1,14288,Matthew Thode,prometheanfire,"update mock to 4.0.3

Change-Id: I6840ab2d2fde1d719018f8c2ac64282f17cdec40
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fopenstack-helm-images~master~I536b5468e6b90a7368d74b05e02212788ee6e13c,openstack/openstack-helm-images,master,add-libvirt-centos,I536b5468e6b90a7368d74b05e02212788ee6e13c,Added CentOS libvirt images,MERGED,2020-10-10 15:01:37.000000000,2021-02-25 11:35:57.000000000,2021-02-25 11:30:19.000000000,25,0,1,757292,ca3474eb33ed0cb1e758c9cbc4ae58c5bcefc4b7,23,6,5,2,1004,Mohammed Naser,mnaser,"Added CentOS libvirt images

Change-Id: I536b5468e6b90a7368d74b05e02212788ee6e13c
"
openstack%2Fneutron~master~I00794e9c6403bbe528ea398b981e54d41d53b5a5,openstack/neutron,master,bug/1916470,I00794e9c6403bbe528ea398b981e54d41d53b5a5,[OVN][QoS] Remove OVN QoS rule when FIP is dissasociated,MERGED,2021-02-22 10:46:28.000000000,2021-02-25 11:27:21.000000000,2021-02-25 11:25:28.000000000,12,5,5,776916,3398e6abc098a0dd8d0b441a729201adb9d96eca,29,5,2,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN][QoS] Remove OVN QoS rule when FIP is dissasociated

When an floating IP is dissasociated from an internal port, the QoS
rule in the OVN database should be removed too. This patch adds a
QoS extension call to delete the QoS rules in OVN in this case.

Change-Id: I00794e9c6403bbe528ea398b981e54d41d53b5a5
Closes-Bug: #1916470
"
openstack%2Foslo.config~master~I7e608aa7c076c9dea4d4b3e89f4efcbf3bb00a55,openstack/oslo.config,master,,I7e608aa7c076c9dea4d4b3e89f4efcbf3bb00a55,Remove six,ABANDONED,2021-01-02 02:28:46.000000000,2021-02-25 11:24:26.000000000,,0,1,0,768842,1e87842f7b5577d001b97a14399b0d15783fdb70,8,2,1,1,30092,Xuan Yandong,xuanyandong,"Remove six

Change-Id: I7e608aa7c076c9dea4d4b3e89f4efcbf3bb00a55
"
openstack%2Fnova~master~I45f1df4935905170957c2ea2496c8a698a7464a2,openstack/nova,master,bp/libvirt-driver-ip-metadata,I45f1df4935905170957c2ea2496c8a698a7464a2,libvirt: add IP address to libvirt guest metadata,MERGED,2020-09-09 03:24:20.000000000,2021-02-25 11:17:14.000000000,2021-02-25 11:14:45.000000000,326,8,30,750552,838370a49014351051bbef2d1c2ada1f47ac2bfb,132,16,10,8,31652,Nobuhiro MIKI,nmiki,"libvirt: add IP address to libvirt guest metadata

Libvirt XML contains useful configuration information such as instance names,
flavors and images as metadata. This change extends this metadata to include
the IP addresses of the instances.

Example:
<metadata>
  <nova:instance xmlns:nova=""http://openstack.org/xmlns/libvirt/nova/1.1"">
    ...
    <nova:ports>
      <nova:port uuid=""567a4527-b0e4-4d0a-bcc2-71fda37897f7"">
        <nova:ip type=""fixed"" address=""192.168.1.1"" ipVersion=""4""/>
        <nova:ip type=""fixed"" address=""fe80::f95c:b030:7094"" ipVersion=""6""/>
        <nova:ip type=""floating"" address=""11.22.33.44"" ipVersion=""4""/>
      </nova:port>
    </nova:ports>
    ...
  </nova:instance>
</metadata>

Change-Id: I45f1df4935905170957c2ea2496c8a698a7464a2
blueprint: libvirt-driver-ip-metadata
Signed-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>
"
openstack%2Fswift~master~I9de032d309befea2ff8b752797947b9fc3ed8698,openstack/swift,master,cors,I9de032d309befea2ff8b752797947b9fc3ed8698,DNM: verify zuul cors test fails,ABANDONED,2021-02-24 15:31:10.000000000,2021-02-25 11:08:35.000000000,,4,4,0,777405,2dcba3c1cc339cb5a94552cda9d6eaf6e4e9b283,4,1,1,1,7847,Alistair Coles,acoles,"DNM: verify zuul cors test fails

Deliberately breaks cors to verify that the zuul job fails.

Change-Id: I9de032d309befea2ff8b752797947b9fc3ed8698
"
openstack%2Ftacker~master~Ia1bb10daf426820b44487c85fbffd3b7ff5c0f39,openstack/tacker,master,fix-ft-error,Ia1bb10daf426820b44487c85fbffd3b7ff5c0f39,Fix FT error for legacy anti-affinity test,MERGED,2021-02-24 02:36:34.000000000,2021-02-25 11:00:03.000000000,2021-02-25 10:54:50.000000000,4,0,0,777275,811d47f0c06035f66fd7679dbe6ae19fc44c6d89,22,7,4,1,31857,Ayumu Ueha,ueha,"Fix FT error for legacy anti-affinity test

In the following patch [1], FT error was solved by removing
""CELLSV2_SETUP: singleconductor"" and setup as a superconductor, but
after merging the patch, other error is become to occur in the
anti-affinity test in the legacy FT.
[1] https://review.opendev.org/c/openstack/tacker/+/775958

Because, anti-affinity may not work well in a environment with nova
installed as multi-cell [2].
[2] https://opendev.org/openstack/tacker/commit/b20812678bdb5266f4483b2e55c582167a605e

And db dependency error that occurred when setting single cell before
have been resolved by merging the following patches of devstack [3].
[3] https://review.opendev.org/c/openstack/devstack/+/775940

Therefore, this patch revert `CELLSV2_SETUP: singleconductor` in
"".zuul.yaml"" to resolve error of legacy anti-affinity test.

Change-Id: Ia1bb10daf426820b44487c85fbffd3b7ff5c0f39
"
openstack%2Fmonasca-api~stable%2Fvictoria~I002d936941e4784566d83173d55023dfd5fba282,openstack/monasca-api,stable/victoria,update-lower-constraints-stable/victoria,I002d936941e4784566d83173d55023dfd5fba282,Align lower-constraints for new pip,MERGED,2021-02-24 22:33:27.000000000,2021-02-25 10:43:05.000000000,2021-02-25 10:41:27.000000000,6,6,0,777328,ded997fb23e3f12319de87bad83bea03038fff33,7,2,1,2,26141,Adrian Czarnecki,czarneckia,"Align lower-constraints for new pip

Bump a series of lower-constraints and requirements to work with new pip
resolver, testing with steps outlined at [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html

Change-Id: I002d936941e4784566d83173d55023dfd5fba282
(cherry picked from commit ceac157b626c7896dab94626ac4cd94cc0772468)
"
openstack%2Fvalidations-libs~master~I9ae7309495458ba35a723e13c94d9dc85c8c45e9,openstack/validations-libs,master,structured/podman,I9ae7309495458ba35a723e13c94d9dc85c8c45e9,Modifies README.rst to reference podman.,MERGED,2021-02-12 15:40:05.000000000,2021-02-25 10:30:44.000000000,2021-02-25 10:28:19.000000000,8,3,3,775402,c36ac52d9188d3462ff72ab64f7e9667dc0182eb,16,5,2,1,32926,Jiri Podivin,jpodivin,"Modifies README.rst to reference podman.

Thank you dpeacock for pointing out this oversight.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9ae7309495458ba35a723e13c94d9dc85c8c45e9
"
openstack%2Fvalidations-libs~master~I5ed91d4258d9ad6725a86d5c3c6a40a02212b5d4,openstack/validations-libs,master,structured/podman,I5ed91d4258d9ad6725a86d5c3c6a40a02212b5d4,Docker image refinement and preparation for future development.,MERGED,2021-02-12 10:44:32.000000000,2021-02-25 10:29:37.000000000,2021-02-25 10:28:09.000000000,122,5,2,775361,4405071de09d944268843a172a12660894bb185f,15,6,3,5,32926,Jiri Podivin,jpodivin,"Docker image refinement and preparation for future development.

.dockerignore file was added to limit size of the docker context
The more complex docker images will be placed in newly created
dockerfiles dir. Each in its own subdir
and accompanied with README.rst file describing their use.

Right now there is only one, the same as the one in repo root.
But in the future there will be more.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I5ed91d4258d9ad6725a86d5c3c6a40a02212b5d4
"
openstack%2Fvalidations-libs~master~Ia4e46f8ce13e36c08d55db729004ad6b3d9aaa87,openstack/validations-libs,master,devenv/docker,Ia4e46f8ce13e36c08d55db729004ad6b3d9aaa87,Improved Dockefile and simplified use instructions.,MERGED,2021-02-11 09:10:50.000000000,2021-02-25 10:27:31.000000000,2021-02-25 10:25:49.000000000,16,13,4,775080,4fabb3d2b56a6a16ea2b1ec6aef98df438529482,24,7,3,2,32926,Jiri Podivin,jpodivin,"Improved Dockefile and simplified use instructions.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia4e46f8ce13e36c08d55db729004ad6b3d9aaa87
"
openstack%2Ftripleo-quickstart-extras~master~I7bd78939acb906edfc149481d0bf9b1f80902e8d,openstack/tripleo-quickstart-extras,master,tempest-cirros,I7bd78939acb906edfc149481d0bf9b1f80902e8d,Updating cirros image download url,MERGED,2021-02-11 15:38:53.000000000,2021-02-25 10:25:46.000000000,2021-02-25 10:25:46.000000000,1,1,0,775191,9e87d97e84dfce17b14611ca5996b37b6d713234,13,4,1,1,8367,Arx Cruz,arxcruz,"Updating cirros image download url

Vexxhost is down, this make the cirros image from rdo fail. Switch back
to cirros-cloud.net

Change-Id: I7bd78939acb906edfc149481d0bf9b1f80902e8d
"
openstack%2Ftripleo-ansible~master~Id515d06ebceec58db84eef313ca1375bb802282d,openstack/tripleo-ansible,master,change-771587-6,Id515d06ebceec58db84eef313ca1375bb802282d,Modifying playbooks to support python-tripleoclient B&R commands,MERGED,2021-01-20 10:25:10.000000000,2021-02-25 10:16:37.000000000,2021-02-25 10:16:37.000000000,33,15,6,771587,4ac33dcdbf054328dc61a172ee159e79e11082ac,38,11,7,5,32728,Juan Pablo Lopez,jplopezgu,"Modifying playbooks to support python-tripleoclient B&R commands

- Each playbook is now in charged of a single main task: Setup NFS,
  Setup ReaR and Backup.
- prepare-nfs-backup.yaml was added to support the installation and
  configuration of the backup node.
- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml
  were modified to support the ReaR installation and configuration.
- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml were modified
  to support the backup of each node. ""tags"" property was removed to
  avoid tagging the whole role. ""connection"" property was removed to
  avoid running against localhost because tripleo_target_host is
  not defined.

Bugzilla: #1824806
Change-Id: Id515d06ebceec58db84eef313ca1375bb802282d
"
openstack%2Fkuryr-kubernetes~master~I7221c67990a3dd6974ea362d209390c716540ceb,openstack/kuryr-kubernetes,master,fix-race-pool-population,I7221c67990a3dd6974ea362d209390c716540ceb,Skip pool pre population if no Status is present on CRD,MERGED,2021-02-22 19:15:48.000000000,2021-02-25 10:07:54.000000000,2021-02-25 10:06:35.000000000,9,6,8,776988,0719ca7b2aba8c3e28b9a0498b271397db16b8ea,27,4,3,2,27032,Maysa de Macedo Souza,maysa,"Skip pool pre population if no Status is present on CRD

In case the kuryrnetwork_population handler is enabled
and a Namespace creation was triggered, it's possible that
the kuryrnetwork_population handler attempts to do its job
before the KuryrNetwork handles the CR update with status field.
This commit fixes this race by skipping the event for the
kuryrnetwork_population when no 'status' is present and
modifying the event to be handled on a on_present operation
since the on_added would only be triggered once.

Closes-bug: 1916544
Change-Id: I7221c67990a3dd6974ea362d209390c716540ceb
"
openstack%2Fos-apply-config~master~I7696fbb53cfee9dad29273e17a036c5f6963f788,openstack/os-apply-config,master,stable/victoria,I7696fbb53cfee9dad29273e17a036c5f6963f788,Remove tripleo-multinode-container-minimal from zuul layout,ABANDONED,2021-02-25 09:43:12.000000000,2021-02-25 10:00:21.000000000,,0,1,0,777521,0ac71fecc95127fa4863f43dc932b5b95d541ad2,2,0,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I7696fbb53cfee9dad29273e17a036c5f6963f788
"
openstack%2Ftripleo-operator-ansible~master~I246cc60dd15947a9f29e78636c21a2fe78dfef1d,openstack/tripleo-operator-ansible,master,network-data-v2,I246cc60dd15947a9f29e78636c21a2fe78dfef1d,'--network-ports' support in overcloud node (un)provison,MERGED,2021-02-10 19:03:23.000000000,2021-02-25 09:43:57.000000000,2021-02-25 09:43:57.000000000,28,0,0,774946,0990282a22e48a744aec2312c4015ef8aad29137,12,3,3,6,24245,Harald Jensås,harald.jensas,"'--network-ports' support in overcloud node (un)provison

Add support for provisioning network-port as part of the
node provisioning workflow. In the future enabling the
option will also apply node nic-config to provisioned
nodes.

Related: blueprint network-data-v2-ports
Change-Id: I246cc60dd15947a9f29e78636c21a2fe78dfef1d
"
openstack%2Fopenstack-helm-infra~master~I047cbfaa5aa9e7285a23e603074429180495557d,openstack/openstack-helm-infra,master,feat(tls),I047cbfaa5aa9e7285a23e603074429180495557d,"Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""",MERGED,2021-01-28 20:11:09.000000000,2021-02-25 09:37:06.000000000,2021-02-25 09:34:24.000000000,190,8,12,772814,6ee06562c87b67f026c9cc2bd64f9b8033e433b2,95,15,27,13,30495,Nafiz Haider,nafh27,"Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""

This reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.

Reason for revert: resolved bug with cluster issuer versioning

Co-authored-by: Sangeet Gupta <sg774j@att.com>

Change-Id: I047cbfaa5aa9e7285a23e603074429180495557d
"
openstack%2Ftempest~master~I112003baee939c34d3e3a5fdadc5d9b57c9119f5,openstack/tempest,master,test_live_migration_refactor,I112003baee939c34d3e3a5fdadc5d9b57c9119f5,test_live_migration: Rename test_iscsi_volume,MERGED,2020-02-26 14:03:06.000000000,2021-02-25 09:26:41.000000000,2021-02-25 09:16:38.000000000,7,2,0,710039,249b30e0eedddf629803bfb478220c726a372d5a,19,5,4,1,10135,Lee Yarwood,lyarwood,"test_live_migration: Rename test_iscsi_volume

Simply rename the test_iscsi_volume test to reflect what it is actually
testing, the live migration of instances with an attached volume.

Change-Id: I112003baee939c34d3e3a5fdadc5d9b57c9119f5
"
openstack%2Ftempest~master~I32f37f8e874a3510bb1af6db45a1b9a8d2fed543,openstack/tempest,master,,I32f37f8e874a3510bb1af6db45a1b9a8d2fed543,Add wait_for_resource_deletion for swift api clients,MERGED,2021-02-08 10:28:41.000000000,2021-02-25 09:23:23.000000000,2021-02-25 09:15:51.000000000,21,10,9,774428,f5e277c802ca013cf2734f2a0435edba815f2424,23,7,2,4,11075,Benny Kopilov,bkopilov,"Add wait_for_resource_deletion for swift api clients

Currently today we dont have any way in swift to verify that resources were deleted
before moving to the next command
In current code there was hardcoded sleep for 2 seconds instead of checking if
resource really deleted.

Added to the current cleanup :
Implement is_resource_deleted for object_client and container_client
After remove action we wait/ verify till resource really deleted
Remove hardcoded sleep for 2 seconds
Remove ignore for not found in reomval , if we hit on it means something
wrong in our code.

Change-Id: I32f37f8e874a3510bb1af6db45a1b9a8d2fed543
"
openstack%2Fpython-swiftclient~master~Ibf0c891782afe014cc453b713a94c187340d172e,openstack/python-swiftclient,master,,Ibf0c891782afe014cc453b713a94c187340d172e,Drop lower-constraints testing,MERGED,2021-02-22 20:23:50.000000000,2021-02-25 09:23:04.000000000,2021-02-25 09:17:08.000000000,2,50,0,776998,06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5,10,3,2,3,15343,Tim Burke,tburke,"Drop lower-constraints testing

The OpenStack community consensus seems to be that it's not worth the
hassle of fixing. *Maybe* we can revisit this if we ever drop py2
support?

Reasonable spot to start on ML threads:
http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

Change-Id: Ibf0c891782afe014cc453b713a94c187340d172e
Depends-On: https://review.opendev.org/c/openstack/requirements/+/777025
"
openstack%2Ftempest~master~I0b0eca96b68dcb37219d035961a500f7f453c6b9,openstack/tempest,master,fix1219,I0b0eca96b68dcb37219d035961a500f7f453c6b9,add unitest for api of resource providers inventories,MERGED,2020-12-18 02:51:30.000000000,2021-02-25 09:16:11.000000000,2021-02-25 09:16:11.000000000,89,0,0,767657,5ffc28f197699941a0873f154363885b404a4a3f,17,7,2,2,30643,wanglbj,wanglbj,"add unitest for api of resource providers inventories

supplement unitest for api of resource providers inventories, include:
update_resource_providers_inventories,
delete_resource_providers_inventories

Change-Id: I0b0eca96b68dcb37219d035961a500f7f453c6b9
"
openstack%2Fneutron~stable%2Fqueens~Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,openstack/neutron,stable/queens,bug/1910691-stable/rocky-stable/queens,Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,Stop metadata proxy gracefully,ABANDONED,2021-02-19 08:12:35.000000000,2021-02-25 09:04:45.000000000,,65,5,12,776452,e76c1ae600328d054939b413fd229cd779fa7829,9,2,2,4,11975,Slawek Kaplonski,slaweq,"Stop metadata proxy gracefully

HAProxy supports hard stop [1] via SIGTERM signal. From the
documentation:

  """"""
  ... when the SIGTERM signal is sent to the haproxy process,
  it immediately quits and all established connections are
  closed.
  """"""

In case the process does not finish, the SIGKILL signal is sent.
The PID file created by the process is deleted.

[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4

Closes-Bug: #1910691

Conflicts:
    neutron/agent/metadata/driver.py
    neutron/tests/unit/agent/dhcp/test_agent.py
    neutron/tests/unit/agent/metadata/test_driver.py

Change-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb
(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)
"
openstack%2Fneutron~stable%2Frocky~Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,openstack/neutron,stable/rocky,bug/1910691-stable/rocky,Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,Stop metadata proxy gracefully,ABANDONED,2021-02-19 08:12:02.000000000,2021-02-25 09:04:40.000000000,,65,5,12,776585,35778d62aa1d91e3c5e68ee7ce2a0158fbe8de93,9,2,2,4,11975,Slawek Kaplonski,slaweq,"Stop metadata proxy gracefully

HAProxy supports hard stop [1] via SIGTERM signal. From the
documentation:

  """"""
  ... when the SIGTERM signal is sent to the haproxy process,
  it immediately quits and all established connections are
  closed.
  """"""

In case the process does not finish, the SIGKILL signal is sent.
The PID file created by the process is deleted.

[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4

Closes-Bug: #1910691

Conflicts:
    neutron/agent/metadata/driver.py
    neutron/tests/unit/agent/dhcp/test_agent.py
    neutron/tests/unit/agent/metadata/test_driver.py

Change-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb
(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)
"
openstack%2Fneutron~stable%2Fstein~Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,openstack/neutron,stable/stein,bug/1910691-stable/stein,Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,Stop metadata proxy gracefully,ABANDONED,2021-02-19 08:10:10.000000000,2021-02-25 09:04:36.000000000,,65,5,4,776584,fcd1d41b2a30967d20fb3c16474050727e7c31fd,7,2,2,3,11975,Slawek Kaplonski,slaweq,"Stop metadata proxy gracefully

HAProxy supports hard stop [1] via SIGTERM signal. From the
documentation:

  """"""
  ... when the SIGTERM signal is sent to the haproxy process,
  it immediately quits and all established connections are
  closed.
  """"""

In case the process does not finish, the SIGKILL signal is sent.
The PID file created by the process is deleted.

[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4

Closes-Bug: #1910691

Conflicts:
    neutron/agent/metadata/driver.py
    neutron/tests/unit/agent/dhcp/test_agent.py
    neutron/tests/unit/agent/metadata/test_driver.py

Change-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb
(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)
"
openstack%2Fopenstack-helm-infra~master~I055c69b4c5a266641b4684a94a46675475f27409,openstack/openstack-helm-infra,master,libvirt_reno,I055c69b4c5a266641b4684a94a46675475f27409,Update libvirt chart releasenotes to latest,MERGED,2021-02-24 01:27:51.000000000,2021-02-25 08:51:55.000000000,2021-02-25 08:50:28.000000000,1,0,2,777270,8b9089a5c19d523ec2b8632692e123a4d594ad3c,13,4,2,1,30449,jinyuanliu,jinyuanliu,"Update libvirt chart releasenotes to latest

This change updates the releasenotes for the libvirt chart to the latest version of the chart as of this patchset.

Change-Id: I055c69b4c5a266641b4684a94a46675475f27409
"
openstack%2Ftripleo-ansible~master~I24d0ac0a1a04bd0d9603e71a375a87565f0f69da,openstack/tripleo-ansible,master,,I24d0ac0a1a04bd0d9603e71a375a87565f0f69da,[tripleo_transfer] Allow testing with docker/podman,ABANDONED,2021-02-18 21:27:42.000000000,2021-02-25 08:33:25.000000000,,0,41,0,776537,0021d8febee38d9e982f7469181be8d171ea1f39,5,2,2,2,6816,Jesse Pretorius,jesse-pretorius,"[tripleo_transfer] Allow testing with docker/podman

With this patch, we can use docker/podman for testing
by executing:

molecule test -d [docker|podman]

Testing will also work outside of OpenStack's CI Infra.

Unfortunately, this also means that 'molecule test'
will now try to use the delegated driver (default) and
will fail.

This seems like a fault in the design of molecule. I would
have preferred to see molecule allow configs for each
driver which would be overlayed on top of molecule.yml and
the -d argument selecting the options.

Unfortunately there is only the reverse option, specify a
driver option and then molecule.yml overlays its details
on top.

Change-Id: I24d0ac0a1a04bd0d9603e71a375a87565f0f69da
"
openstack%2Fneutron-specs~master~Icf8e867c21252e0d098e45630dcb8399eb6386ab,openstack/neutron-specs,master,bug/1916332,Icf8e867c21252e0d098e45630dcb8399eb6386ab,Add symlink of images to doc/source,MERGED,2021-02-24 08:43:55.000000000,2021-02-25 08:20:55.000000000,2021-02-25 08:19:26.000000000,1,0,0,777314,a7b0484b54ca2ac0f784b7a073fc3702aa7aa02c,10,6,1,1,8313,Lajos Katona,elajkat,"Add symlink of images to doc/source

sphinx seems to not finding paths for images files, but adding a symlink
to doc/source make the doc build work again.

Change-Id: Icf8e867c21252e0d098e45630dcb8399eb6386ab
Closes-Bug: #1916332
"
openstack%2Fironic-python-agent-builder~master~Idce5d81ce83df121e521b7d26fd6523a378a0585,openstack/ironic-python-agent-builder,master,fix-isolinux-bin-path,Idce5d81ce83df121e521b7d26fd6523a378a0585,Make sure we can create tinyipa isos,MERGED,2021-02-19 13:55:45.000000000,2021-02-25 07:47:33.000000000,2021-02-25 07:45:54.000000000,8,6,3,776642,2f4f0320a437fb530a8f35583989cc76715f65e8,23,5,8,2,23851,Riccardo Pittau,elfosardo,"Make sure we can create tinyipa isos

Verify we're able to build a tinyipa iso.

- use bash in build-iso script
- account for filenames with branch names in them
- Fix isolinux.bin path
The correct location is now under bios/core
[...]/syslinux-6.03$ find . -name ""isolinux.bin""
./bios/core/isolinux.bin

Change-Id: Idce5d81ce83df121e521b7d26fd6523a378a0585
"
openstack%2Fopenstacksdk~master~I925d84b481aaa51e4b98b05e8cfa47282ebbf2e1,openstack/openstacksdk,master,add_messages,I925d84b481aaa51e4b98b05e8cfa47282ebbf2e1,Added support for Messages resource,ABANDONED,2021-02-25 07:21:49.000000000,2021-02-25 07:42:07.000000000,,52,0,0,777500,2ae74ae510cecbeb5a7c976fab22bfcd5d4e9aa8,2,0,1,1,33055,Hudson Dahly,hdahly,"Added support for Messages resource

Introduce the Messages resource, fill in its
resources, and implement API calls to support
the Cinder v3 API.

Task: 41817
Story: 2008619
Change-Id: I925d84b481aaa51e4b98b05e8cfa47282ebbf2e1
"
openstack%2Fos-brick~stable%2Fussuri~I9a1746658474c0f1be7ec29a36767085aaf2ab7f,openstack/os-brick,stable/ussuri,,I9a1746658474c0f1be7ec29a36767085aaf2ab7f,Improve error handling on target query,MERGED,2021-02-02 13:41:50.000000000,2021-02-25 07:40:16.000000000,2021-02-25 03:31:59.000000000,19,1,0,773686,897dbdb9a1b0e87fe6c81219c4bee4ffd2585e7b,76,5,1,2,10459,Luigi Toscano,ltoscano,"Improve error handling on target query

The command 'iscsiadm -m node' will return entries for corrupt targets
in the form '[]:port,-1' instead of the expected format.  This causes an
IndexError exception during parsing.  This patch skips invalid entries.

Closes-bug: #1886855
Change-Id: I9a1746658474c0f1be7ec29a36767085aaf2ab7f
(cherry picked from commit 4fabe1b33d497b5f017f07b4b5d7fce0c0eabd00)
(cherry picked from commit 958e4f5fb8ec788fe92eff67eeb3adf0ab7b06a8)
"
openstack%2Fpython-manilaclient~master~Ie915278b7d18e916b45a054aac2cf9134bd3e42b,openstack/python-manilaclient,master,bp/switch-to-keystoneauth,Ie915278b7d18e916b45a054aac2cf9134bd3e42b,[WIP] Get rid of python-keystoneclient requirement,ABANDONED,2017-10-12 13:49:28.000000000,2021-02-25 07:01:01.000000000,,251,197,0,511483,5136acc711d47291a7cb23f63df44f9ba1380075,12,4,3,7,7102,Thomas Bechtold,toabctl,"[WIP] Get rid of python-keystoneclient requirement

python-keystoneclient is not needed. All can be handled via
keystoneauth1.

Remove HttpClient in favor or SessionClient

Change-Id: Ie915278b7d18e916b45a054aac2cf9134bd3e42b
Implements: blueprint switch-to-keystoneauth
"
openstack%2Fcyborg~master~Iaffac082948745c1b9171834504234570b795065,openstack/cyborg,master,,Iaffac082948745c1b9171834504234570b795065,Add tags to .gitignore,MERGED,2021-02-23 09:08:18.000000000,2021-02-25 05:57:56.000000000,2021-02-25 05:56:40.000000000,1,0,0,777064,ce88d4edc1b09348d2c804c5c59ed04a2353fc5e,9,6,1,1,31412,Wenping Song,songwenping,"Add tags to .gitignore

When using ctags, it will provide a 'tags' file in the directory.
It should be added to .gitignore.

Change-Id: Iaffac082948745c1b9171834504234570b795065
"
openstack%2Fswift~master~I9f9313df2a7fc02e843053706ad06aebca0aeeaf,openstack/swift,master,update_stats_sharded_split,I9f9313df2a7fc02e843053706ad06aebca0aeeaf,Fixups for direct_get_recon tests,ABANDONED,2021-02-24 11:48:05.000000000,2021-02-25 05:37:48.000000000,,18,16,0,777369,7e6c826d747ebdbc3d25c95e9705e58d699d8b88,3,1,1,2,7847,Alistair Coles,acoles,"Fixups for direct_get_recon tests

Change-Id: I9f9313df2a7fc02e843053706ad06aebca0aeeaf
"
openstack%2Ftripleo-common~master~I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d,openstack/tripleo-common,master,ansible-facts,I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d,Drop inject_facts_as_vars,MERGED,2021-02-19 14:40:35.000000000,2021-02-25 04:34:11.000000000,2021-02-25 04:32:48.000000000,2,0,0,776649,16bc02326be62e9df328f290a1e06f3045c54957,24,5,3,1,14985,Alex Schultz,mwhahaha,"Drop inject_facts_as_vars

This setting stops ansible from converting ansible_fact items into top
level ansible_* vars. This has a huge impact on performance as this is
performed at the end of every task execution.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/776659
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776666
Change-Id: I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d
"
openstack%2Fzaqar~stable%2Fvictoria~Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382,openstack/zaqar,stable/victoria,fix-tempest-failure,Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382,Fix the issue of raising the StopIteration,MERGED,2020-12-09 08:55:45.000000000,2021-02-25 04:22:37.000000000,2021-02-25 04:21:16.000000000,14,12,0,766166,eeabc5d208372475603284616051eff763f4ea4a,51,2,21,5,8846,Hao Wang,sxmatch,"Fix the issue of raising the StopIteration

This issue caused the failure of tempest in Jekins.

Change-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382
"
openstack%2Frequirements~master~I4ff2bf6e83dc6205ac4dd0b8966ba7a1b6b06b65,openstack/requirements,master,block-fasteners-0.16,I4ff2bf6e83dc6205ac4dd0b8966ba7a1b6b06b65,add block for fasteners-0.16 and comment for upstream issue,MERGED,2021-02-24 04:17:05.000000000,2021-02-25 03:42:25.000000000,2021-02-25 03:40:59.000000000,2,1,0,777295,386db3432e69e6e180e9c32f0d3700eec7eac535,9,2,2,1,14288,Matthew Thode,prometheanfire,"add block for fasteners-0.16 and comment for upstream issue

Change-Id: I4ff2bf6e83dc6205ac4dd0b8966ba7a1b6b06b65
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fopenstack-ansible~master~Ib3853f0c0f5f2968f08adbf39ade6059c9e12ff4,openstack/openstack-ansible,master,osa-facts,Ib3853f0c0f5f2968f08adbf39ade6059c9e12ff4,Switch back to willshersystems ansible-sshd role,MERGED,2021-02-22 17:01:48.000000000,2021-02-25 02:47:29.000000000,2021-02-25 02:44:58.000000000,1,1,0,776965,f48ffd984c1a1e870dcc31e54b90440711300d20,21,3,1,1,25023,Jonathan Rosser,jrosser,"Switch back to willshersystems ansible-sshd role

This seems much more actively maintained and now supports centos-8

Change-Id: Ib3853f0c0f5f2968f08adbf39ade6059c9e12ff4
"
openstack%2Ftripleo-ci~master~Ia4a892007b33ed991c6fefc19cbd3683086d5148,openstack/tripleo-ci,master,,Ia4a892007b33ed991c6fefc19cbd3683086d5148,Add workaround for container build,MERGED,2021-02-24 12:48:09.000000000,2021-02-25 02:26:23.000000000,2021-02-25 02:26:23.000000000,11,0,2,777378,ebe88b8190c38dc669c641aaa05ebd94c3d02a4a,22,7,5,1,29775,Sandeep Yadav,sandeepyadav93,"Add workaround for container build

Latest buildah.x86_64 1.16.7-4 is throwing below warning:-
~~~
[root@node-0000915416 ~]# buildah images
WARN[0000] Found deprecated file /usr/share/containers/libpod.conf,
please remove. Use /etc/containers/containers.conf to override defaults.
REPOSITORY TAG IMAGE ID CREATED SIZE
~~~

The above buildah deprecations warning is getting added as a
first item in the list instead of container name, details in bug[1]

With this patch, we are moving /usr/share/containers/libpod.conf to
/usr/share/containers/libpod.conf_backup to avoid the warning as a
workaround.

[1] https://bugs.launchpad.net/tripleo/+bug/1916742
Closes-Bug: #1916742

Change-Id: Ia4a892007b33ed991c6fefc19cbd3683086d5148
"
openstack%2Fmanila-tempest-plugin~master~I92f4628051731a9f7e05404b48a96d2ed27a855b,openstack/manila-tempest-plugin,master,waiters_consolidation,I92f4628051731a9f7e05404b48a96d2ed27a855b,Consolidate waiters methods,MERGED,2021-01-26 12:54:59.000000000,2021-02-25 02:09:16.000000000,2021-02-25 01:04:52.000000000,371,491,2,772514,f7fc5b6494b0cd6aaeface59fe1c378ba72b5677,69,5,16,35,19262,Liron Kuchlani,lkuchlan,"Consolidate waiters methods

Currently, for each resource there is a waiter method.
The code is almost the same in all waiter methods.
This patch suggests proposes to consolidate these methods.

Change-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b
"
openstack%2Fmasakari~master~I25afb76aec10a507312b8d99b0c882ca9f6bcd81,openstack/masakari,master,bug/1776385,I25afb76aec10a507312b8d99b0c882ca9f6bcd81,Allow segment description to be multiline,MERGED,2018-06-12 07:32:07.000000000,2021-02-25 01:54:40.000000000,2021-02-25 01:53:23.000000000,21,1,2,574614,d7f47f262799b285080cb08830560891c532a5a1,27,7,6,3,26463,Niraj Singh,nirajsingh,"Allow segment description to be multiline

This patch allows user to pass a multiline description for
a failover segment.

Closes-Bug: #1776385
Change-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81
"
openstack%2Fproject-config~master~Ib631e030955bcbd0fcdac5492bf6655dff6b131b,openstack/project-config,master,gerrit-zuul-branch,Ib631e030955bcbd0fcdac5492bf6655dff6b131b,zuul-results-summary: set default branch,MERGED,2021-02-24 23:07:59.000000000,2021-02-25 01:27:33.000000000,2021-02-25 01:27:33.000000000,4,0,0,777480,2dccaa84325f53d447dea68dba04f07e06a3e752,10,3,2,1,7118,Ian Wienand,iwienand,"zuul-results-summary: set default branch

This project has a ""main"" branch, not master.  Set the default branch.

Change-Id: Ib631e030955bcbd0fcdac5492bf6655dff6b131b
"
openstack%2Ftripleo-heat-templates~master~I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,openstack/tripleo-heat-templates,master,,I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,Don't try creating default admin and member roles,MERGED,2021-02-24 09:26:49.000000000,2021-02-25 01:04:44.000000000,2021-02-25 01:04:44.000000000,0,4,5,777346,c1462b7608be9c7b925009ec95c9bbed0c08d98c,17,6,2,1,8833,Rabi Mishra,rabi,"Don't try creating default admin and member roles

These are default roles and we don't need to create them for
ceph. Also swift user does not need admin role.

Closes-Bug: 1916756
Resolves: rhbz#1932208

Change-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676,openstack/tripleo-ansible,stable/ussuri,bug/1915761-stable/ussuri,I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676,Update skeleton role to use ansible_facts,MERGED,2021-02-23 21:30:34.000000000,2021-02-25 00:52:37.000000000,2021-02-25 00:52:37.000000000,6,6,0,777235,d734bf827994c08b7b385382947377a8cfada59c,6,2,1,1,14985,Alex Schultz,mwhahaha,"Update skeleton role to use ansible_facts

Change-Id: I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676
(cherry picked from commit c0876630bdcdcf0dc297ff99c9de793f4e1573a5)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e,openstack/tripleo-ansible,stable/ussuri,bug/1915761-stable/ussuri,I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e,Reduce fact gathering,MERGED,2021-02-23 21:30:34.000000000,2021-02-25 00:52:33.000000000,2021-02-25 00:52:33.000000000,35,8,0,777234,ed0064ad624b3d1c15807491d5c4da67c55b43a3,7,3,1,4,14985,Alex Schultz,mwhahaha,"Reduce fact gathering

We've seen that large amount of facts for hosts have a direct impact on
task execution as part of the deployment.  This change reduces the
amount of data that we are collecting when we use facts and leverages
more targeted methods to collect the required information.

Change-Id: I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e
Related-Bug: #1915761
(cherry picked from commit f6c0acc7fe7e4571fc923d85422d7781b6d35151)
"
openstack%2Ftripleo-ci~master~Idce17e1bbbf3b0eb0d6a656ec7ab8d23c989a5be,openstack/tripleo-ci,master,tripleo-ci-reduce,Idce17e1bbbf3b0eb0d6a656ec7ab8d23c989a5be,Make scenario007 multinode job voting and gating (master/victoria),MERGED,2021-02-23 11:07:39.000000000,2021-02-25 00:09:22.000000000,2021-02-25 00:09:22.000000000,7,1,0,777090,2ed36d6a34300a76325acda4911b42c65eddf235,10,9,1,1,8449,Marios Andreou,marios,"Make scenario007 multinode job voting and gating (master/victoria)

This makes tripleo-ci-centos-8-scenario007-multinode-oooq-container
vote and adds it to the gate layout. This job runs only for master
and stable/victoria branches.

Seen as part of [1] and in reviewing our non-voting and failing jobs
this has a good pass rate so no reason to keep it non voting [2].

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
[2] https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario007-multinode-oooq-container

Change-Id: Idce17e1bbbf3b0eb0d6a656ec7ab8d23c989a5be
"
openstack%2Fpuppet-qdr~stable%2Fqueens~Ic4d98dfb30f4883c8084de5db367af4db9db4dca,openstack/puppet-qdr,stable/queens,metrics_qdr_sslprofiles,Ic4d98dfb30f4883c8084de5db367af4db9db4dca,MetricsQdr: fix minor spacing issue in qdrouterd template,MERGED,2021-02-10 11:47:45.000000000,2021-02-24 23:49:50.000000000,2021-02-24 23:49:50.000000000,1,1,0,774799,fefa0017f9bbf4ee05156125f5a1cdd166ad4ab3,15,5,1,1,9816,Takashi Kajinami,kajinamit,"MetricsQdr: fix minor spacing issue in qdrouterd template

Change-Id: Ic4d98dfb30f4883c8084de5db367af4db9db4dca
(cherry picked from commit 43522c579f396d2435ce0576b2d0e6bce088b03c)
(cherry picked from commit 9f043cda37d0cb7d21d6a514ee037970fe4f1e19)
(cherry picked from commit 67b99f57adad846c19580dbacac77852b18ff3b8)
"
openstack%2Fpuppet-qdr~stable%2Fstein~Ic4d98dfb30f4883c8084de5db367af4db9db4dca,openstack/puppet-qdr,stable/stein,metrics_qdr_sslprofiles,Ic4d98dfb30f4883c8084de5db367af4db9db4dca,MetricsQdr: fix minor spacing issue in qdrouterd template,MERGED,2021-02-10 11:46:08.000000000,2021-02-24 23:35:05.000000000,2021-02-24 23:35:05.000000000,1,1,0,774797,9f043cda37d0cb7d21d6a514ee037970fe4f1e19,15,5,1,1,9816,Takashi Kajinami,kajinamit,"MetricsQdr: fix minor spacing issue in qdrouterd template

Change-Id: Ic4d98dfb30f4883c8084de5db367af4db9db4dca
(cherry picked from commit 43522c579f396d2435ce0576b2d0e6bce088b03c)
"
openstack%2Fpuppet-qdr~stable%2Frocky~Ic4d98dfb30f4883c8084de5db367af4db9db4dca,openstack/puppet-qdr,stable/rocky,metrics_qdr_sslprofiles,Ic4d98dfb30f4883c8084de5db367af4db9db4dca,MetricsQdr: fix minor spacing issue in qdrouterd template,MERGED,2021-02-10 11:46:43.000000000,2021-02-24 23:33:54.000000000,2021-02-24 23:33:54.000000000,1,1,0,774798,67b99f57adad846c19580dbacac77852b18ff3b8,15,5,1,1,9816,Takashi Kajinami,kajinamit,"MetricsQdr: fix minor spacing issue in qdrouterd template

Change-Id: Ic4d98dfb30f4883c8084de5db367af4db9db4dca
(cherry picked from commit 43522c579f396d2435ce0576b2d0e6bce088b03c)
(cherry picked from commit 9f043cda37d0cb7d21d6a514ee037970fe4f1e19)
"
openstack%2Ftripleo-common~stable%2Fqueens~I696581ea9a9fb7bfbefb6a168b37b3e36a2abc3c,openstack/tripleo-common,stable/queens,bug/1924374,I696581ea9a9fb7bfbefb6a168b37b3e36a2abc3c,Fix handling hardware types and drivers when generating fencing parameters,MERGED,2021-02-03 02:58:28.000000000,2021-02-24 23:33:35.000000000,2021-02-24 23:33:35.000000000,8,2,0,773829,863368af63eefd431d749848ac5d1a37bbb6ec05,10,4,1,1,9816,Takashi Kajinami,kajinamit,"Fix handling hardware types and drivers when generating fencing parameters

This is a partial backport of 812d7e6cbb899983311001d90d6608a0c90f74a5
and fixes handling about new hardware types which doesn't have prefixes
like pm_, pxe_ and so on[1].

[1] 73b6ede2bb706c41c331a4fd95399ca0b1e2047d

Change-Id: I696581ea9a9fb7bfbefb6a168b37b3e36a2abc3c
Closes-Bug: #1924374
"
openstack%2Ftripleo-common~master~If8bcb2b57243c7868a04ae4dee4464eb33dd87eb,openstack/tripleo-common,master,,If8bcb2b57243c7868a04ae4dee4464eb33dd87eb,Do not use ironic/nova for generate_fencing,MERGED,2021-02-03 14:53:44.000000000,2021-02-24 23:32:12.000000000,2021-02-24 23:30:46.000000000,3,23,0,773919,4556479db09671a68d0bd4dc452fed936b759629,20,5,1,2,30126,Luca Miccini,lmiccini2,"Do not use ironic/nova for generate_fencing

This commit cleans up and simplifies the way fencing parameters
are generated.
We don't try to map baremetal nodes to instances anymore and we simply
generate fencing agents definitions for each node.

Change-Id: If8bcb2b57243c7868a04ae4dee4464eb33dd87eb
"
openstack%2Fmanila-tempest-plugin~master~I2a647fd5871ef6bb7d1ab45db893a44a560bed72,openstack/manila-tempest-plugin,master,bug/1801763,I2a647fd5871ef6bb7d1ab45db893a44a560bed72,Refactor public share test cases,MERGED,2021-02-22 06:04:51.000000000,2021-02-24 23:25:26.000000000,2021-02-24 23:25:26.000000000,192,93,12,776869,a3ed445fff5a0d90e64817aace08229069c37660,29,5,5,5,16643,Goutham Pacha Ravi,gouthamr,"Refactor public share test cases

The RBAC policy defaults to create
a public share or to update an existing
share to public have changed since the
Stein release. [1]

Let's stop assuming that regular users
can perform these actions, so that manila
can safely remove the policy rule deprecation
support for these APIs.

[1] https://review.opendev.org/634864
Change-Id: I2a647fd5871ef6bb7d1ab45db893a44a560bed72
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fcinder~master~I459ff3c8798e218919b6b2f9e1c2200203efeeff,openstack/cinder,master,uuid,I459ff3c8798e218919b6b2f9e1c2200203efeeff,smbfs: set VHD UUID using volume UUID,MERGED,2020-12-14 14:38:33.000000000,2021-02-24 23:25:01.000000000,2021-02-19 20:07:01.000000000,51,5,1,766963,9b418e76ac5d9447fc3dbc3a2299639930535ccb,158,6,7,4,8543,Lucian Petrut,plucian,"smbfs: set VHD UUID using volume UUID

The SMBFS driver stores volumes as VHD/x image files. This change
will set the unique id VHD field using the volume id.

Hyper-V propagates this id to the guest through the SCSI VPD,
which allows it to safely identify the disk. The kubernetes openstack
provider will also benefit from this change.

Here's an example: http://paste.openstack.org/raw/801011/

This operation requires os-win 5.4.0, for which reason we're bumping
the requirement.

Depends-On: Ied73997e6f5f3ded9827703867f059ef3dfca159

Change-Id: I459ff3c8798e218919b6b2f9e1c2200203efeeff
"
openstack%2Fironic~master~Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a,openstack/ironic,master,gate,Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a,Enable swift temporary URLs in grenade and provide a good error message,MERGED,2021-02-24 12:35:31.000000000,2021-02-24 23:23:52.000000000,2021-02-24 23:17:09.000000000,8,1,2,777375,5533077c7d3c7afafe365173476e5580ea4b4ba0,18,3,1,2,10239,Dmitry Tantsur,dtantsur,"Enable swift temporary URLs in grenade and provide a good error message

The fixed configdrive_use_object_store requires them.

Change-Id: Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a
"
openstack%2Foctavia-tempest-plugin~master~I9934ceaca95aa4ca3621e5b72159428f75463b78,openstack/octavia-tempest-plugin,master,,I9934ceaca95aa4ca3621e5b72159428f75463b78,Remove skip clause for UDP listener tests,NEW,2021-01-19 07:37:33.000000000,2021-02-24 23:21:45.000000000,,0,50,0,771367,288eaf19cf3ee500bf896517c6fbe83b56a2019f,4,2,1,2,29244,Gregory Thiemonge,gthiemonge,"Remove skip clause for UDP listener tests

The commit that fixes story 2007979 has now been backported to all of
the maintained stable branches.
We can safely remove the skip clause that disables some UDP listener
tests.

Change-Id: I9934ceaca95aa4ca3621e5b72159428f75463b78
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676,openstack/tripleo-ansible,stable/victoria,bug/1915761-stable/victoria,I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676,Update skeleton role to use ansible_facts,MERGED,2021-02-23 21:10:17.000000000,2021-02-24 23:21:28.000000000,2021-02-24 23:21:28.000000000,6,6,0,777225,c128ab6d137c61d965191552cb01ce3361a32b72,6,2,1,1,14985,Alex Schultz,mwhahaha,"Update skeleton role to use ansible_facts

Change-Id: I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676
(cherry picked from commit c0876630bdcdcf0dc297ff99c9de793f4e1573a5)
"
openstack%2Ftripleo-ansible~master~Ice9482c635d104c30f1f44e92475dc517a7fd527,openstack/tripleo-ansible,master,typo,Ice9482c635d104c30f1f44e92475dc517a7fd527,"Fixed and rename task name, which does the opposite",MERGED,2021-02-23 11:42:01.000000000,2021-02-24 23:21:08.000000000,2021-02-24 23:21:08.000000000,1,1,0,777094,34fc42520a0afac639765a70b97a35995ba5dc0f,10,6,1,1,22954,Juan Badia Payno,jbadiapa,"Fixed and rename task name, which does the opposite

The task is called PauseXXXX and it realy does the opposite,
this name set the name properly to unPause

Change-Id: Ice9482c635d104c30f1f44e92475dc517a7fd527
"
openstack%2Ftripleo-ansible~master~Iba57bcff7d6e3870ccf074b72907e1bce44e039b,openstack/tripleo-ansible,master,newcaps,Iba57bcff7d6e3870ccf074b72907e1bce44e039b,Run molecule in systemd scope user,MERGED,2021-01-15 19:03:08.000000000,2021-02-24 23:06:41.000000000,2021-02-24 23:06:41.000000000,3,12,0,771064,f51562cdb1a13c35c5acb4ea210d25da06130c06,12,6,2,2,10969,Shnaidman Sagi (Sergey),sergsh,"Run molecule in systemd scope user

Use latest podman in molecule tests instead of pin to 1.6.4 and
Run all with ""systemd-run --scope --user"" to avoid podman 2.0.5
bug: https://github.com/containers/podman/issues/8965
Related-Bug: #1910970

Change-Id: Iba57bcff7d6e3870ccf074b72907e1bce44e039b
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,openstack/tripleo-ansible,stable/ussuri,bar_rear_crond-stable/victoria-stable/ussuri,I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,Option to remove the self-installed ReaR cron task,MERGED,2021-02-24 11:32:12.000000000,2021-02-24 23:06:30.000000000,2021-02-24 23:06:30.000000000,12,0,0,777320,78d287acae2239c091fdd009dabbefcf3416bd34,7,6,1,2,32968,Juan Larriba,jlarriba,"Option to remove the self-installed ReaR cron task

By default, the ReaR rpm installs a cronjob on /etc/cron.d/rear with
a default programming. This programming runs a backup job at
1:30AM every day. During this automatic backup, the services are not
appropiately paused. This causes the created backup to have non-valid
data.

As the most recent backup overwrites the older ones, this deletes
the ""good"" backup taken at operator's discretion with a new one
that cannot be used to restore the control plane state.

This change aims to optionally disable this default rpm behaviour.

Closes-Bug: #1912764
Change-Id: I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8
(cherry picked from commit f0acda953ca3d8ab1c17f5c9e009458168fe6f82)
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,openstack/tripleo-ansible,stable/victoria,bar_rear_crond-stable/victoria,I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,Option to remove the self-installed ReaR cron task,MERGED,2021-02-24 11:17:01.000000000,2021-02-24 23:06:26.000000000,2021-02-24 23:06:26.000000000,12,0,0,777318,9944529089a2ec7fbe3ccd4dc55916b923613514,8,6,1,2,32968,Juan Larriba,jlarriba,"Option to remove the self-installed ReaR cron task

By default, the ReaR rpm installs a cronjob on /etc/cron.d/rear with
a default programming. This programming runs a backup job at
1:30AM every day. During this automatic backup, the services are not
appropiately paused. This causes the created backup to have non-valid
data.

As the most recent backup overwrites the older ones, this deletes
the ""good"" backup taken at operator's discretion with a new one
that cannot be used to restore the control plane state.

This change aims to optionally disable this default rpm behaviour.

Closes-Bug: #1912764
Change-Id: I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8
(cherry picked from commit f0acda953ca3d8ab1c17f5c9e009458168fe6f82)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ia6728d68305ba3c662e99ea067b4d4feef9eeea0,openstack/tripleo-ansible,stable/train,bug/1913782-stable/train,Ia6728d68305ba3c662e99ea067b4d4feef9eeea0,Handle containers with no namespace,MERGED,2021-02-11 14:14:49.000000000,2021-02-24 23:06:23.000000000,2021-02-24 23:06:23.000000000,10,0,0,775158,bb797d940914c8ea971b55bd468385561c82f44b,10,4,2,1,14985,Alex Schultz,mwhahaha,"Handle containers with no namespace

Satellite server does not have an actual namespace in the url so the
container location is just host/container:tag. We need to be able to
properly set the headers on blobs without namespaces.

Change-Id: Ia6728d68305ba3c662e99ea067b4d4feef9eeea0
Related-Bug: #1913782
(cherry picked from commit 4b47fdc93dba05b086ddd80d32d59fa6281b1885)
"
openstack%2Fopenstack-helm-infra~master~I68baa7693f545e2d91dba01ae61b4bdae8a26bee,openstack/openstack-helm-infra,master,grafana-homepage,I68baa7693f545e2d91dba01ae61b4bdae8a26bee,[Update] Grafana: Provision any dashboard as homepage,MERGED,2021-02-19 16:53:56.000000000,2021-02-24 22:29:19.000000000,2021-02-24 22:27:46.000000000,4,151,0,776672,d5fb81b7f7e55b6626ccd7f96427a77b6e4cd805,21,5,8,8,30582,RADHIKA PAI,rp592h,"[Update] Grafana: Provision any dashboard as homepage

Grafana v7.3 has ability to add the customized dashboard as homepage.
This removes the necessity to have explicit job to add a homepage.

Clean up the explicit add_home-dashboard job.

Change-Id: I68baa7693f545e2d91dba01ae61b4bdae8a26bee
"
openstack%2Fopenstacksdk~master~I14f0f1ae5421fd0c53980c79d35f5ea2012ea320,openstack/openstacksdk,master,fix-trivial-error-in-error-message,I14f0f1ae5421fd0c53980c79d35f5ea2012ea320,Fix a trivial error in one of the error messages,MERGED,2021-02-24 10:43:56.000000000,2021-02-24 22:25:10.000000000,2021-02-24 22:21:52.000000000,0,1,0,777354,c81c1f61a8d504d83478d64f959bd6171655a6a8,8,3,1,1,30491,Radosław Piliszek,yoctozepto,"Fix a trivial error in one of the error messages

Some text got inserted in the error message making it sound odd.

Safe to backport.

TrivialFix

Change-Id: I14f0f1ae5421fd0c53980c79d35f5ea2012ea320
"
openstack%2Fplacement~master~I4fbab60f04f85d70c703385d7b43457045e3661d,openstack/placement,master,fix-traits,I4fbab60f04f85d70c703385d7b43457045e3661d,Update traits in tests and requirements,MERGED,2021-02-23 17:41:14.000000000,2021-02-24 22:25:03.000000000,2021-02-24 22:22:14.000000000,3,3,0,777174,f41599e1ada2dfc7900817b09b623422d9d1dbe9,10,7,1,3,11564,Chris Dent,chdent,"Update traits in tests and requirements

In I0438e39a3c61253f781761a5aae895993f897adb,
I333147dcd47c6d0b926338a5a0c545f5adc63961 , and
Ia4d1871b719037174506fb784b77572e63303762 six new
traits were added, and a new os-traits was released
triggering the canary test for updating constraints.

Change-Id: I4fbab60f04f85d70c703385d7b43457045e3661d
"
openstack%2Fneutron~stable%2Fussuri~I87489596e2ff224431f7e83f43a1725172ee0953,openstack/neutron,stable/ussuri,bug/1901527-stable/ussuri,I87489596e2ff224431f7e83f43a1725172ee0953,Avoid race condition when processing RowEvents,MERGED,2021-01-15 20:57:49.000000000,2021-02-24 22:24:42.000000000,2021-02-24 22:21:42.000000000,67,3,1,770967,7ce3c8e1f12060d136a5d59d4e48f5a1603a5574,26,4,4,2,5756,Terry Wilson,otherwiseguy,"Avoid race condition when processing RowEvents

In https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability
to pass a ""frozen"" object to the RowEventHandler so that if a
transaction is started from the main thread that changes the row,
it won't step on the values that the Event is trying to process.

This patch copies in the relevant code from newer ovsdbapp ond ovs
to avoid bumping their required versions in a stable branch.

Change-Id: I87489596e2ff224431f7e83f43a1725172ee0953
Related-Bug: #1896816
(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)
"
openstack%2Foslo.reports~stable%2Fstein~I0c50a5d70cd288cea3fe05a23dcb474cde176caa,openstack/oslo.reports,stable/stein,cap-bandit-1.6.2,I0c50a5d70cd288cea3fe05a23dcb474cde176caa,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-02-24 10:23:00.000000000,2021-02-24 22:22:33.000000000,2021-02-24 22:20:15.000000000,5,4,0,777352,9d74e73d107e06c0f38989f676c5a0b56b457d28,13,3,1,2,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Contradicting hacking version replaced (in lower-constraints.txt to
match with test-requirements.txt), which pulls in newer flake8, too.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I0c50a5d70cd288cea3fe05a23dcb474cde176caa
(cherry picked from commit 53c69e7e6facda8ed61504dab97360f9e8a9b491)
"
openstack%2Fneutron-tempest-plugin~master~I3d41ab713eccac434e44d9c117a9846ba7ab5ed6,openstack/neutron-tempest-plugin,master,,I3d41ab713eccac434e44d9c117a9846ba7ab5ed6,Delete qos policies created during scenario tests,MERGED,2021-02-19 11:39:57.000000000,2021-02-24 22:21:47.000000000,2021-02-24 22:21:47.000000000,11,0,0,776606,98772918ff84df919546e5e83be486bf3b6585f2,18,7,5,2,31291,Eduardo Olivares,eolivare,"Delete qos policies created during scenario tests

Change-Id: I3d41ab713eccac434e44d9c117a9846ba7ab5ed6
"
openstack%2Fpython-swiftclient~master~I9c9672d4435054e888a80b7fce64bcaf55a1601b,openstack/python-swiftclient,master,,I9c9672d4435054e888a80b7fce64bcaf55a1601b,Fix gate,ABANDONED,2021-01-07 23:23:00.000000000,2021-02-24 22:11:32.000000000,,3,1,0,769852,059026ba42e098c405bdd3f9738e0fc210d0ec39,11,1,6,2,15343,Tim Burke,tburke,"Fix gate

* Fix hacking pin for lower-constraints.
* Have swiftclient-functional job use an explicit tox env so we aren't
  relying on a match with swift.

Change-Id: I9c9672d4435054e888a80b7fce64bcaf55a1601b
Related-Change: I459d6065a3e4290768c499e7973917f7cf4ce2e7
"
openstack%2Fneutron~stable%2Fvictoria~I87489596e2ff224431f7e83f43a1725172ee0953,openstack/neutron,stable/victoria,bug/1901527-stable/victoria,I87489596e2ff224431f7e83f43a1725172ee0953,Avoid race condition when processing RowEvents,MERGED,2021-01-22 20:10:18.000000000,2021-02-24 22:04:24.000000000,2021-02-24 22:02:38.000000000,39,3,0,772098,aec9bc271e71950d9974145d1f0d22cc3caa481e,34,8,5,2,5756,Terry Wilson,otherwiseguy,"Avoid race condition when processing RowEvents

In https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability
to pass a ""frozen"" object to the RowEventHandler so that if a
transaction is started from the main thread that changes the row,
it won't step on the values that the Event is trying to process.

This patch backports the needed ovsdbapp changes for
RowEventHandler which converts the row to a frozen_row.

Change-Id: I87489596e2ff224431f7e83f43a1725172ee0953
Related-Bug: #1896816
(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)
"
openstack%2Fopenstack-helm-deployments~master~I5de2f4db1cb0f3b38feaefdeb28a074c250c943f,openstack/openstack-helm-deployments,master,,I5de2f4db1cb0f3b38feaefdeb28a074c250c943f,Feature: Add Ranger-Agent to Deployments,ABANDONED,2020-11-27 21:16:58.000000000,2021-02-24 21:25:12.000000000,,72,0,0,764492,b492d0a8d0ad38c49f54746fefeea8323ce69465,18,4,6,7,29585,Jeremy Houser,jh629g,"Feature: Add Ranger-Agent to Deployments

Efforts to add ranger-agent to deployments
to prepare for airship 2 shift. This function
will live in openstack namespace.

Change-Id: I5de2f4db1cb0f3b38feaefdeb28a074c250c943f
"
openstack%2Fmanila-tempest-plugin~master~I103ccda367123bc2429d1d840c0201b01ac61b4d,openstack/manila-tempest-plugin,master,secure-rbac,I103ccda367123bc2429d1d840c0201b01ac61b4d,"Add ""member"" role to admin project member users",MERGED,2021-02-24 00:06:52.000000000,2021-02-24 21:20:35.000000000,2021-02-24 21:20:35.000000000,9,5,0,777266,10d4949e9871e1d6653934944b1f49b7cade317e,20,6,1,1,16643,Goutham Pacha Ravi,gouthamr,"Add ""member"" role to admin project member users

In some tests where we'd like to test role based
access control, and specifically the impact of user
roles (admin vs member vs reader), we create a user
on the fly and assign the necessary roles to this
user.

Recently devstack stopped setting a tempest conf
option that gave us a default role to assign to
regular non-privileged ""member"" users. [1].

This made the tests that used such users fail
with ""401 Unauthenticated"" errors.

So we'll need to explicitly request this regular
user role (aka ""member"") even when not configured
in tempest.conf.

[1] https://review.opendev.org/774524

Change-Id: I103ccda367123bc2429d1d840c0201b01ac61b4d
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fopenstack-ansible-os_zun~master~If350c513f3ff854544afb67236472a23c91c9c69,openstack/openstack-ansible-os_zun,master,,If350c513f3ff854544afb67236472a23c91c9c69,Reinstate voting for upgrade jobs,MERGED,2021-02-15 10:01:36.000000000,2021-02-24 21:00:45.000000000,2021-02-24 20:55:17.000000000,0,8,0,775563,f7fcc60a7e5af8099cc1c33fa35711184e0d4420,16,3,1,1,31542,Andrew Bonney,andrewbonney,"Reinstate voting for upgrade jobs

Change-Id: If350c513f3ff854544afb67236472a23c91c9c69
"
openstack%2Fheat~master~I6e2dc03cdc71e683684860e58e51da743db0b317,openstack/heat,master,,I6e2dc03cdc71e683684860e58e51da743db0b317,Replace Designate v1 resources with v2,NEW,2018-02-19 17:06:15.000000000,2021-02-24 20:58:22.000000000,,135,1101,4,545885,ac5443e18ced56bacbf1d33f8bbfc575ddc3ab1c,20,4,6,11,27838,Vadym Markov,vmarkov,"Replace Designate v1 resources with v2

as Designate V1 was removed, we re-implement
Designate Domain and Record resources using V2 entities
via default environment for the transition period.

This should still allow at least deleting stacks containing
Designate V1 resources after upgrade when Designate V1 API is
no longer available.

Change-Id: I6e2dc03cdc71e683684860e58e51da743db0b317
Closes-Bug: #1754653
"
openstack%2Fpuppet-neutron~master~I1c0d079226e5a1fdbc08954a0c6535dc1320a05c,openstack/puppet-neutron,master,rbac_policy,I1c0d079226e5a1fdbc08954a0c6535dc1320a05c,Allow setting default rbac_policy quota,MERGED,2021-02-11 04:18:37.000000000,2021-02-24 20:27:06.000000000,2021-02-24 20:25:35.000000000,13,1,1,775064,8b0ded956342ab38264c12ee9f6270036dc56a6c,19,4,1,3,25635,Adrian Smith,aussieade,"Allow setting default rbac_policy quota

Change-Id: I1c0d079226e5a1fdbc08954a0c6535dc1320a05c
"
openstack%2Ftripleo-validations~master~I1046148da87712934184373a10fa3d2a46e620e4,openstack/tripleo-validations,master,change_error_to_log,I1046148da87712934184373a10fa3d2a46e620e4,Replace exception with LOG.info,MERGED,2021-02-23 20:35:19.000000000,2021-02-24 20:22:42.000000000,2021-02-24 20:22:42.000000000,1,1,0,777220,cae7d151adbbdd5c26a088acdee0e5ff1e45832b,8,6,1,1,32432,Owen McGonagle,omcgonag,"Replace exception with LOG.info

Updated _run_validator_run to no longer raise an execption if/when a group is empty

Using a log vs. exception is useful when we want to run an automated set of validations
within our Update CI pipeline.

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I1046148da87712934184373a10fa3d2a46e620e4
"
openstack%2Fnova~master~I206109fdfdacf5eb67bd31338201548e429084ac,openstack/nova,master,bp/smarter-usb-devices,I206109fdfdacf5eb67bd31338201548e429084ac,libvirt: Rationalize attachment of USB tablet,MERGED,2020-10-07 16:09:44.000000000,2021-02-24 20:19:30.000000000,2021-02-24 20:17:12.000000000,175,200,2,756551,5beec0feabd18bc070b783f8226423fdb8548445,34,10,4,3,15334,Stephen Finucane,sfinucan,"libvirt: Rationalize attachment of USB tablet

Currently, nova will decide whether to attach a USB tablet device based
on the below criteria:

  +-----------+-----------+-------------------+---------------------+
  | Image     | nova.conf | VNC/Spice Enabled | Result              |
  +-----------+-----------+-------------------+---------------------+
  | <unset>   | <unset>   | Yes               | No device           |
  | <unset>   | <unset>   | No                | No device           |
  | <unset>   | usbtablet | Yes               | USB tablet attached |
  | <unset>   | usbtablet | No                | **Warning**         |
  | <unset>   | ps2mouse  | Yes               | No device           |
  | <unset>   | ps2mouse  | No                | No device           |
  | usbtablet | <unset>   | Yes               | USB tablet attached |
  | usbtablet | <unset>   | No                | **Exception**       |
  | usbtablet | usbtablet | Yes               | USB tablet attached |
  | usbtablet | usbtablet | No                | **Warning**         |
  | usbtablet | ps2mouse  | Yes               | USB tablet attached |
  | usbtablet | ps2mouse  | No                | **Warning**         |
  +-----------+-----------+-------------------+---------------------+

 (*) SPICE Enabled *and* agent disabled; if agent is enabled, it behaves
     like SPICE is disabled.

(**) Note that there's an additional dimension missing here which is
     based on the 'os_type' of the instance, but that behaves exactly
     the same as the the VNC/SPICE enabled, only it's checking if the
     'HVM' type is ""enabled"" or not.

This behavior is unusual - if the image metadata property supersedes the
host configuration, then why should we see different behavior based on
the host configuration when the image is requesting a pointer model but
no graphics are enabled?

With this change, we rationalize this matrix. Instead of having this
funky split, we completely ignore the request if a graphical console is
not enabled on the host. Or, in graphical terms:

  +-----------+-----------+-------------------+---------------------+
  | Image     | nova.conf | VNC/Spice Enabled | Result              |
  +-----------+-----------+-------------------+---------------------+
  | <unset>   | <unset>   | Yes               | No device           |
  | <unset>   | <unset>   | No                | No device           |
  | <unset>   | usbtablet | Yes               | USB tablet attached |
  | <unset>   | usbtablet | No                | No device           |
  | <unset>   | ps2mouse  | Yes               | No device           |
  | <unset>   | ps2mouse  | No                | No device           |
  | usbtablet | <unset>   | Yes               | USB tablet attached |
  | usbtablet | <unset>   | No                | No device           |
  | usbtablet | usbtablet | Yes               | USB tablet attached |
  | usbtablet | usbtablet | No                | No device           |
  | usbtablet | ps2mouse  | Yes               | USB tablet attached |
  | usbtablet | ps2mouse  | No                | No device           |
  +-----------+-----------+-------------------+---------------------+

This will set us up quite nicely for a future 'hw_input_bus' image
metadata property, which would allow us to choose between tablet and
mouse independently of bus.

Change-Id: I206109fdfdacf5eb67bd31338201548e429084ac
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fovn-octavia-provider~master~I0782eaabb270e25cf1873d85ddfcb04d500caded,openstack/ovn-octavia-provider,master,otp-test,I0782eaabb270e25cf1873d85ddfcb04d500caded,DNM: testing octavia-tempest-plugin change,ABANDONED,2020-07-23 19:39:00.000000000,2021-02-24 20:11:19.000000000,,1,0,0,742730,17a52d3ffa6ea4a6738ef71d2c8f04bf026e299c,13,2,4,1,1131,Brian Haley,brian-haley,"DNM: testing octavia-tempest-plugin change

Depends-on: https://review.opendev.org/742728

Change-Id: I0782eaabb270e25cf1873d85ddfcb04d500caded
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I1cf105ec93ab8bb60b548349a0d12db846e0b532,openstack/networking-ovn,stable/train,,I1cf105ec93ab8bb60b548349a0d12db846e0b532,[OVN] ovn-metadata-agent: Retry registering Chassis at startup,MERGED,2021-02-16 15:45:08.000000000,2021-02-24 20:04:50.000000000,2021-02-24 20:02:27.000000000,5,0,0,775864,28fe6735517a32c6b4d6e73b95ad752ed172d9d3,16,4,1,1,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] ovn-metadata-agent: Retry registering Chassis at startup

This patch adds a retry mechanism on the register_metadata_agent()
method from the OVN metadata agent to make it more tolerable to the
start up order of the services.

(cherry picked from  Neutron commit 9c236db3bf18854aef5a29a37dd83bff8bda2f7d)

Closes-Bug: #1905700
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I1cf105ec93ab8bb60b548349a0d12db846e0b532
"
openstack%2Ftripleo-operator-ansible~master~I3fa2f91c973cb14980b82a5c89d8082dad2c30d5,openstack/tripleo-operator-ansible,master,add-role-validator-show-parameter,I3fa2f91c973cb14980b82a5c89d8082dad2c30d5,add role to show tripleo validation parameter,MERGED,2021-02-11 13:57:08.000000000,2021-02-24 19:46:06.000000000,2021-02-24 19:46:06.000000000,193,0,5,775156,88ec4eb661a1a840361f4e2156173f9ced32b5e1,15,4,4,8,27427,David Peacock,davidjpeacock,"add role to show tripleo validation parameter

With this patch, validator show parameter can be used by operators in automation.

Change-Id: I3fa2f91c973cb14980b82a5c89d8082dad2c30d5
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I7031064b752450bacbb7775c0e357b98210a8929,openstack/tripleo-heat-templates,stable/victoria,upgrade-stop-barbican-stable/victoria,I7031064b752450bacbb7775c0e357b98210a8929,Stop barbican servics in unupgraded controllers,MERGED,2021-02-21 05:58:38.000000000,2021-02-24 19:15:16.000000000,2021-02-24 19:15:16.000000000,15,0,0,776624,c996c85caea5ac098c6d57066c144adb05354c49,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Stop barbican servics in unupgraded controllers

This change makes barbican services on unupgrade controller nodes get
stopped, because all services in the unupgrade controllers should be
stopped before we start the upgraded controller[1].

[1] 8529ce60da84d2aa1e1c9e6994303678261b09da

Change-Id: I7031064b752450bacbb7775c0e357b98210a8929
(cherry picked from commit 6f140b93be8349eddb7e6cd86116ab1b3f34140a)
"
openstack%2Ftripleo-docs~master~I8fda2ba2805814d4b00954c5f190e2091024e3e8,openstack/tripleo-docs,master,,I8fda2ba2805814d4b00954c5f190e2091024e3e8,Added documentation for dependency pipeline,MERGED,2021-02-22 11:32:35.000000000,2021-02-24 19:14:30.000000000,2021-02-24 19:12:41.000000000,163,0,28,776921,2106d94c387f242928937fcc4dde4163d8a49b6b,23,8,6,2,12393,chandan kumar,chkumar246,"Added documentation for dependency pipeline

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I8fda2ba2805814d4b00954c5f190e2091024e3e8
"
openstack%2Fopenstack-helm-infra~master~Ia5778a7a7e74e4938d5f0a1cf17102fc2b5cc779,openstack/openstack-helm-infra,master,,Ia5778a7a7e74e4938d5f0a1cf17102fc2b5cc779,[RFC] Remove Kafka and Zookeeper from osh-infra,MERGED,2021-02-19 22:14:50.000000000,2021-02-24 19:09:09.000000000,2021-02-24 18:59:04.000000000,0,1535,0,776718,558a4b5b2c4adcfacf18b41632a4e3cc6d3487ff,16,6,3,39,30777,Steven Fitzpatrick,sf280x,"[RFC] Remove Kafka and Zookeeper from osh-infra

These charts have not been used or maintained in quite a while

Change-Id: Ia5778a7a7e74e4938d5f0a1cf17102fc2b5cc779
"
openstack%2Foslo.middleware~stable%2Fstein~I787a0276ec0a62bc9e2f068e4e4ee1219a306474,openstack/oslo.middleware,stable/stein,cap-bandit-1.6.2,I787a0276ec0a62bc9e2f068e4e4ee1219a306474,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-24 08:15:41.000000000,2021-02-24 19:09:04.000000000,2021-02-24 19:06:40.000000000,3,2,0,777310,fba3b78fad2356f2715270a6f7d1ffbc27f63fd5,10,3,1,2,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement needed to be updated to make requirements-check job
pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I787a0276ec0a62bc9e2f068e4e4ee1219a306474
"
openstack%2Ftripleo-quickstart~master~I32026a9eb149ccb3854a658857e4ef447bf3932b,openstack/tripleo-quickstart,master,network-data-v2,I32026a9eb149ccb3854a658857e4ef447bf3932b,Fix network environment ordering,MERGED,2021-02-12 06:47:51.000000000,2021-02-24 19:08:59.000000000,2021-02-24 19:06:05.000000000,1,1,0,775319,3649a0d14321688317ca144f6a2a7b4541de4616,12,5,1,1,24245,Harald Jensås,harald.jensas,"Fix network environment ordering

The network-isolation environment need to be prior to the
overcloud-networks-deployed.yaml for it to take effect.

Partial-Implements: blueprint network-data-v2-ports
Change-Id: I32026a9eb149ccb3854a658857e4ef447bf3932b
"
openstack%2Ftripleo-heat-templates~master~I90f7fbb7590bd339074920f364f5f40b92435e14,openstack/tripleo-heat-templates,master,,I90f7fbb7590bd339074920f364f5f40b92435e14,Fix typo in ansible_facts,MERGED,2021-02-24 10:33:39.000000000,2021-02-24 19:05:44.000000000,2021-02-24 19:05:44.000000000,1,1,0,777353,236e0e0b7165b432b0d47c9a75b522de276cc8f3,9,6,1,1,13861,yatin,yatinkarel,"Fix typo in ansible_facts

Remove extra underscore:-
ansible__facts --> ansible_facts

Was introduced in [1].

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/776659

Related-Bug: #1915761
Change-Id: I90f7fbb7590bd339074920f364f5f40b92435e14
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I51855841c269ec593933288af4135f5d06a139fe,openstack/tripleo-heat-templates,stable/ussuri,upgrade-stop-octavia,I51855841c269ec593933288af4135f5d06a139fe,Stop octavia servics in unupgraded controllers,MERGED,2021-02-15 23:24:53.000000000,2021-02-24 19:05:06.000000000,2021-02-24 19:05:06.000000000,60,0,0,775651,9740d89f15da279f239eea4a7e81ac762200a5e9,13,6,1,4,9816,Takashi Kajinami,kajinamit,"Stop octavia servics in unupgraded controllers

This change makes octavia services on unupgrade controller nodes get
stopped, because all services in the unupgrade controllers should be
stopped before we start the upgraded controller[1].

[1] 8529ce60da84d2aa1e1c9e6994303678261b09da

Change-Id: I51855841c269ec593933288af4135f5d06a139fe
(cherry picked from commit b3d7836952404bf989507c908f46217a1996939a)
(cherry picked from commit bbf25f9377b603511dee3e3e9bc3f4fbda998266)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Iedddb02c4a27195d0f89bc4b9dfb12ffba054ae5,openstack/tripleo-heat-templates,stable/victoria,upgrade-stop-ironic,Iedddb02c4a27195d0f89bc4b9dfb12ffba054ae5,Stop ironic services in unupgraded controllers,MERGED,2021-02-15 00:55:42.000000000,2021-02-24 19:04:37.000000000,2021-02-24 19:04:37.000000000,76,0,0,775487,e3b75f1dbf3cedaab2c07988d7c3249ad9021e4f,10,6,1,5,9816,Takashi Kajinami,kajinamit,"Stop ironic services in unupgraded controllers

This change makes ironic services on unupgrade controller nodes get
stopped, because all services in the unupgraded controllers should be
stopped before we start the upgraded controller[1].

[1] 8529ce60da84d2aa1e1c9e6994303678261b09da

Change-Id: Iedddb02c4a27195d0f89bc4b9dfb12ffba054ae5
(cherry picked from commit 099badda3caa6304416b35c826d972866097a26b)
"
openstack%2Fvalidations-common~master~I9fffae563b721f146123978bf533bc760839b520,openstack/validations-common,master,style/subclassing,I9fffae563b721f146123978bf533bc760839b520,explanation why plugins don't respect normal naming coventions,MERGED,2021-02-19 11:54:43.000000000,2021-02-24 19:04:30.000000000,2021-02-24 19:04:30.000000000,13,0,7,776610,fd06efdacd386575b15311c197700185891b9b20,16,7,3,1,32926,Jiri Podivin,jpodivin,"explanation why plugins don't respect normal naming coventions

Putting the explation into the init file docstring ensures that
the automated doc builder assigns it to all relevant submodules.

Not to mention the help() built-in.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9fffae563b721f146123978bf533bc760839b520
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~Ic2c86e6a890b58ca7703ea3a3147c8d4ecf13953,openstack/puppet-tripleo,stable/ussuri,cinder-multipath-stable/victoria-stable/ussuri,Ic2c86e6a890b58ca7703ea3a3147c8d4ecf13953,Add parameters for multipath connection in cinder store,MERGED,2021-02-16 06:22:44.000000000,2021-02-24 19:04:27.000000000,2021-02-24 19:04:27.000000000,16,0,0,775756,048e9ab1c31c49ed399eaec10053a88ff8b14b51,8,5,1,2,19138,Pranali Deore,PranaliD,"Add parameters for multipath connection in cinder store

Adding following 2 parameters for cinder store when multipath usage is
enabled in volume connection,

 - cinder_enforce_multipath
 - cinder_use_multipath

Change-Id: Ic2c86e6a890b58ca7703ea3a3147c8d4ecf13953
(cherry picked from commit 9466c801bc75857334d5b4c8caf0b4175c6fbdc8)
(cherry picked from commit 4dca24b62886136a85dafc064dc6cf593d2fa2cf)
"
openstack%2Foslo.privsep~stable%2Fstein~I86312e5f46d4e880fbe7d230a6ac7d6a2f3ba5ae,openstack/oslo.privsep,stable/stein,cap-bandit-1.6.2,I86312e5f46d4e880fbe7d230a6ac7d6a2f3ba5ae,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-02-24 09:38:08.000000000,2021-02-24 18:46:35.000000000,2021-02-24 18:43:54.000000000,6,4,0,777347,8c2cdca22f024bbe66ecf57d33a9879927c5ff2b,9,3,1,2,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Contradicting hacking version replaced (in lower-constraints.txt to
match with test-requirements.txt), which pulls in newer flake8, too.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I86312e5f46d4e880fbe7d230a6ac7d6a2f3ba5ae
"
openstack%2Fpython-tripleoclient~master~Ibf917826a2d6b2662215c58c9dd8ec8007e57881,openstack/python-tripleoclient,master,,Ibf917826a2d6b2662215c58c9dd8ec8007e57881,Add auth_token_lifetime to undercloud.conf,MERGED,2021-01-29 20:57:38.000000000,2021-02-24 18:35:25.000000000,2021-02-05 08:45:12.000000000,16,0,2,773187,438e53ad4e31ff88421e1b7070dbb9f097bcd359,10,3,1,4,14985,Alex Schultz,mwhahaha,"Add auth_token_lifetime to undercloud.conf

The undercloud currently defines the auth token life time in the
undercloud.yaml environment in tripleo-heat-templates. At certain scale,
it makes sense to increase this so we should make it a top level
configuration item.

Change-Id: Ibf917826a2d6b2662215c58c9dd8ec8007e57881
"
openstack%2Foslo.service~stable%2Fstein~Ifd2bce1552e092a605f96d404ad12a4bbd03fe0c,openstack/oslo.service,stable/stein,cap-bandit-1.6.2,Ifd2bce1552e092a605f96d404ad12a4bbd03fe0c,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-02-24 13:50:45.000000000,2021-02-24 18:33:09.000000000,2021-02-24 18:31:23.000000000,5,4,0,777382,823139677728d89da7216f9e5291b0371a6ce0cd,9,3,1,2,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Contradicting hacking version replaced (in lower-constraints.txt to
match with test-requirements.txt), which pulls in newer flake8, too.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ifd2bce1552e092a605f96d404ad12a4bbd03fe0c
"
openstack%2Fosprofiler~stable%2Fstein~I8762bad8821868c97af8114e49f51b6383df3e5c,openstack/osprofiler,stable/stein,cap-bandit,I8762bad8821868c97af8114e49f51b6383df3e5c,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-22 16:59:58.000000000,2021-02-24 18:31:51.000000000,2021-02-24 18:30:07.000000000,4,3,0,776964,2dc5a92894dda720826aa5fd4868191c719f4469,9,3,1,1,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx and elasticsearch requirement needed to be updated to make
requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I8762bad8821868c97af8114e49f51b6383df3e5c
(cherry picked from commit 30ffa278735aa0f14e80c703ccfb4252e0a4a879)
"
openstack%2Fglance_store~stable%2Ftrain~Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4,openstack/glance_store,stable/train,native-zuulv3-migration,Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4,zuul: glance_store-src-ceph-tempest replaces a legacy job,MERGED,2020-09-01 10:36:34.000000000,2021-02-24 17:50:45.000000000,2021-02-24 17:43:25.000000000,13,2,3,749235,79e043af2a86f4547f8e7bad6be90ff4542e005e,13,4,1,1,10459,Luigi Toscano,ltoscano,"zuul: glance_store-src-ceph-tempest replaces a legacy job

It replaces legacy-tempest-dsvm-full-ceph-plugin-src-glance_store
which is defined inside openstack-zuul-jobs.
It is really a variant of the devstack-plugin-ceph-tempest job.

Remove .zuul.yaml from the ignored file list as in other jobs.

Change-Id: Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4
(cherry picked from commit 1f50f31c14803ea2eec021b3deb287b5a9facc27)
(cherry picked from commit bbd97858d9c5b8d2ddc14accb28fec855254c926)
"
openstack%2Fcharm-glance~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-glance,master,feature/new-zuul,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:42:45.000000000,2021-02-24 17:41:25.000000000,2021-02-24 13:21:41.000000000,33,0,0,776350,ed2c6b97f4b793289014d82f93a6e8766e565704,17,3,3,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Foctavia-tempest-plugin~master~I6d44787f66904409b7f32a5fe576b658b6eb600a,openstack/octavia-tempest-plugin,master,test_server_client_auth,I6d44787f66904409b7f32a5fe576b658b6eb600a,Update test_server for conncurrent client auth,MERGED,2020-10-27 20:29:49.000000000,2021-02-24 17:40:34.000000000,2021-02-24 17:38:29.000000000,36,23,1,759941,b423a27108f81efad9ae3f912769b96f782a0971,32,6,5,2,11628,Michael Johnson,johnsom,"Update test_server for conncurrent client auth

This patch updates the test server to have a separate port for
HTTPS with client authentication. This will allow concurrent tests
to run using the HTTPS and HTTPS with client authentication ports.
It adds a new parameter ""-https_client_auth_port"" for the port that
will require client certificates.

Depends-On: https://review.opendev.org/c/openstack/devstack-gate/+/776722

Change-Id: I6d44787f66904409b7f32a5fe576b658b6eb600a
"
openstack%2Ftripleo-ansible~master~If066dd19f1e9c75fd6581fddb5b55cb37eb57809,openstack/tripleo-ansible,master,cephadm_integration,If066dd19f1e9c75fd6581fddb5b55cb37eb57809,Introduce tripleo_run_cephadm role and cephadm playbook,MERGED,2021-01-15 16:32:41.000000000,2021-02-24 17:33:50.000000000,2021-02-24 17:26:57.000000000,465,0,73,771034,dc5d83733fcccb32826d255f2ef656b7f63613b9,211,7,76,15,25402,Francesco Pantano,fmount,"Introduce tripleo_run_cephadm role and cephadm playbook

Since we're still provisioning the Ceph cluster at step2 we need
to call the cephadm playbook the same way as ceph-ansible.
The purpose of this role is to be able to run the cephadm playbook
using external_deploy_steps_tasks.
The actions implemented in this role are:

  1. prepare: build a cephadm dir within the config-download dump
  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook
  3. translates the tht paramters and make them available to the role
  4. call the ansible playbook that runs cephadm and apply the spec

Change-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809
"
openstack%2Fironic~master~I1ef33d41fd3784f55929fa6a086fca0c335212e5,openstack/ironic,master,sendfile,I1ef33d41fd3784f55929fa6a086fca0c335212e5,Replace pysendfile with os.sendfile,MERGED,2021-01-22 16:52:42.000000000,2021-02-24 17:15:54.000000000,2021-02-18 19:53:23.000000000,9,16,0,772066,6e09a008ab571e3536ccba8fe3557ad22d551564,30,3,3,5,10239,Dmitry Tantsur,dtantsur,"Replace pysendfile with os.sendfile

Change-Id: I1ef33d41fd3784f55929fa6a086fca0c335212e5
"
openstack%2Frequirements~master~I0934327700dbf0355a539dab87404956916b9b47,openstack/requirements,master,update-fasteners-0.16,I0934327700dbf0355a539dab87404956916b9b47,update fasteners to 0.16,ABANDONED,2021-02-23 17:27:54.000000000,2021-02-24 17:11:01.000000000,,1,1,0,777170,874df32443c270bf3ea040a04e0e208d612455f5,4,1,1,1,14288,Matthew Thode,prometheanfire,"update fasteners to 0.16

Change-Id: I0934327700dbf0355a539dab87404956916b9b47
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fglance~master~Ic09162a3c268d91d68037d35821136918666efeb,openstack/glance,master,secure-rbac-tasks,Ic09162a3c268d91d68037d35821136918666efeb,Add logic to properly enforce secure RBAC when handling images,ABANDONED,2020-12-02 21:56:33.000000000,2021-02-24 17:06:06.000000000,,429,171,21,765210,c57db4101f192c1574f7de4d7eb4d0c3e3faaee0,66,2,13,11,5046,Lance Bragstad,ldbragst,"Add logic to properly enforce secure RBAC when handling images

This commit updates various places in the glance API to ensure scope is
enforced. This includes building proper targets for policy enforcement
and adding more checks in the existing database layer for various
personas.

While adding to the existing complexity in the database API isn't ideal,
it's a stop gap for implementing secure RBAC personas without rushing
API changes between the database, stores, policy, and authorization
layers of glance's API.

In an ideal world, we'd have the ability to control queries and filters
from higher layers in glance, allowing us to sweep all the authorization
logic into a single component instead of having it sprinkled between the
database, policy, and authorization layers.

Related: blueprint secure-rbac
Change-Id: Ic09162a3c268d91d68037d35821136918666efeb
"
openstack%2Fglance~master~I580b31cd41e886462291077a45d45ac10deeb433,openstack/glance,master,secure-rbac-tasks,I580b31cd41e886462291077a45d45ac10deeb433,Update logic to support secure RBAC for image membership,ABANDONED,2021-02-16 05:52:00.000000000,2021-02-24 17:05:49.000000000,,37,21,0,775741,e1727947a084a5f89be78311e2c0388071152cc4,15,2,5,4,5046,Lance Bragstad,ldbragst,"Update logic to support secure RBAC for image membership

This commit updates various places in the glance API to ensure scope is
enforced. This includes building proper targets for policy enforcement
of members and  adding more checks in the existing database layer
for various personas.

Related: blueprint secure-rbac
Change-Id: I580b31cd41e886462291077a45d45ac10deeb433
"
openstack%2Fcloudkitty-specs~master~Ib8b6eb8bdef202fb110852c4f2b680a6de77e8d6,openstack/cloudkitty-specs,master,add-active-field,Ib8b6eb8bdef202fb110852c4f2b680a6de77e8d6,"Add ""active"" column to storage scope, and API to manage it",MERGED,2021-01-15 11:34:12.000000000,2021-02-24 17:00:12.000000000,2021-02-24 16:58:44.000000000,92,0,4,770928,1a6ecebfe7ca26d58c77c6e490e4c16159430fed,29,5,6,2,28356,Rafael Weingartner,rafaelweingartner,"Add ""active"" column to storage scope, and API to manage it

This spec proposes an extension for the ""scope state"" endpoint.
This proposal goal is to add a new option called ""active"" in
the storage scope table, and an API that enables operators
to manage it.

Change-Id: Ib8b6eb8bdef202fb110852c4f2b680a6de77e8d6
"
openstack%2Fheat~stable%2Ftrain~I0f8d55e39132a1d357033d460089a9775ad0b515,openstack/heat,stable/train,cap-bandit-1.6.2,I0f8d55e39132a1d357033d460089a9775ad0b515,[stable-only] Cap bandit and fix lower constraints job,ABANDONED,2021-01-08 17:47:52.000000000,2021-02-24 16:51:09.000000000,,4,3,0,769971,d7fa936e12ffc57662c024c70fecaa2d7f389be4,3,1,1,3,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit and fix lower constraints job

The 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2
when using py2.

cryptography version needed to be bumped as it conflicts with another
dependency and causes the new pip resolver to time out at gate.

pygments needed to be added to lower-constraints to make
requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615

Change-Id: I0f8d55e39132a1d357033d460089a9775ad0b515
"
openstack%2Ftripleo-quickstart-extras~master~Ib707a345304cd58d04048484c75b0a7f52233753,openstack/tripleo-quickstart-extras,master,bug/1886914,Ib707a345304cd58d04048484c75b0a7f52233753,Switch minion to fetch from undercloud correctly,ABANDONED,2020-07-13 15:56:00.000000000,2021-02-24 16:44:57.000000000,,9,8,0,740722,77c3bd6639345566e7ca41f6335186a218d96d33,8,5,1,3,14985,Alex Schultz,mwhahaha,"Switch minion to fetch from undercloud correctly

The default registry configuration for the undercloud is a named virtual
host meaning that we must fetch the container using the DNS name rather
than the ip address.  Previously this was configured to the the local
docker registry address however if ssl is enabled on the undercloud,
then you cannot fetch via the ip address.

Change-Id: Ib707a345304cd58d04048484c75b0a7f52233753
Closes-Bug: #1886914
"
openstack%2Fironic~master~I956776dd1435f93c94c6b84134c2d0e995b6c6c1,openstack/ironic,master,bp/node-update-for-volume-policies,I956776dd1435f93c94c6b84134c2d0e995b6c6c1,Add separate policies for updating node properties related to boot-from-volume,ABANDONED,2021-01-06 20:55:42.000000000,2021-02-24 16:37:35.000000000,,72,0,0,769619,fa937a151794ea4fc850faa1c32984ce1a3a3d6d,5,1,1,3,7386,Tzu-Mainn Chen,tzumainn,"Add separate policies for updating node properties related to boot-from-volume

In order to boot a node from a volume, a user must be able to update
a node's storage_interface and its capabilities (if using iSCSI).
This change allows an Ironic administrator to provide policy-based
access to updating these values.

Story: #2006506
Task: #41543
Change-Id: I956776dd1435f93c94c6b84134c2d0e995b6c6c1
"
openstack%2Fmonasca-common~master~Ie4b135c456333cd8a98cfb1d5231351786d1dd86,openstack/monasca-common,master,fix-zuul-publish,Ie4b135c456333cd8a98cfb1d5231351786d1dd86,Fix zuul publish docker image job,MERGED,2021-02-24 10:49:49.000000000,2021-02-24 16:31:29.000000000,2021-02-24 16:31:29.000000000,1,1,0,777355,9aa47afe5d39efcfd2f8b64810ac58857b4f7997,10,2,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: Ie4b135c456333cd8a98cfb1d5231351786d1dd86
"
openstack%2Fglance~master~I04dd2d89793da975a79a4dd721071c19cd939d13,openstack/glance,master,,I04dd2d89793da975a79a4dd721071c19cd939d13,DNM Test glance_store lazy volume type check,ABANDONED,2021-02-11 17:53:03.000000000,2021-02-24 16:25:44.000000000,,4,0,0,775246,ff14eda4272ad533cab4ba031a277179720eae53,8,1,1,2,4393,Dan Smith,danms,"DNM Test glance_store lazy volume type check

Depends-On: https://review.opendev.org/c/openstack/glance_store/+/774703
Change-Id: I04dd2d89793da975a79a4dd721071c19cd939d13
"
openstack%2Fdesignate~stable%2Fstein~I2b32cec8d6570e990d19046dbbbd764cb4c4e5cc,openstack/designate,stable/stein,drop_lc,I2b32cec8d6570e990d19046dbbbd764cb4c4e5cc,Drop lower-constraints test,ABANDONED,2021-02-15 15:02:18.000000000,2021-02-24 16:21:16.000000000,,0,177,0,775664,cfb3c74e38f71a695413750f6aac511caa02baae,14,4,1,3,19298,Nicolas Bock,nicolasbock,"Drop lower-constraints test

This change drops the lower-constraints test.

Change-Id: I2b32cec8d6570e990d19046dbbbd764cb4c4e5cc
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
(cherry picked from commit d08dd621c988fe13b9844c5c44e143907aa74d0c)
"
openstack%2Fdesignate~stable%2Fstein~I90af3a092296f943509833608f25522b6f8e9ab6,openstack/designate,stable/stein,fix-pdns-stable/stein,I90af3a092296f943509833608f25522b6f8e9ab6,Fix pdns4 devstack plugin and drop lower-constraints,MERGED,2021-02-16 23:07:40.000000000,2021-02-24 16:20:50.000000000,2021-02-24 16:13:08.000000000,3,199,0,775903,656a26c45ce4c9bc7931867c7db0883ff763cf2e,42,5,8,4,19298,Nicolas Bock,nicolasbock,"Fix pdns4 devstack plugin and drop lower-constraints

This change drops the lower-constraints test.
(cherry picked from commit d08dd621c988fe13b9844c5c44e143907aa74d0c)

And fixes the pdns4 devstack plugin.

We no longer need to deal with xenial or older distro versions, so we
can assume that we can always install pdns4 from the distro directly
and don't need the distro version check any longer.

Drop a config option that was removed in pdns 4.2.x.

Use mysql credentials correctly.

(cherry picked from commit 6f17fe10bb37d71944e16a422606ccf0f78c6771)

Change-Id: I90af3a092296f943509833608f25522b6f8e9ab6
Depends-On: I36799ee9d4db20104377e2772c86229b8083448d
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
"
openstack%2Ftripleo-ansible~master~I51b71a2c74f954e9a50fb7008f460aee6a74734f,openstack/tripleo-ansible,master,ansible-facts,I51b71a2c74f954e9a50fb7008f460aee6a74734f,Fix bootstrap ansible_fact,MERGED,2021-02-23 16:46:25.000000000,2021-02-24 16:19:36.000000000,2021-02-24 16:19:36.000000000,1,1,0,777164,20a1a4c39e6926ca6a649d5fe96124f26e97ef5d,8,5,1,1,14985,Alex Schultz,mwhahaha,"Fix bootstrap ansible_fact

Missed the distribution_major_version switch.

Change-Id: I51b71a2c74f954e9a50fb7008f460aee6a74734f
"
openstack%2Foctavia~master~If85c163f0ae9f7f80de56c10bda05ad6da3ea90f,openstack/octavia,master,fix_jinja,If85c163f0ae9f7f80de56c10bda05ad6da3ea90f,Fix userdata template for Python3,NEW,2021-01-15 14:34:27.000000000,2021-02-24 16:10:49.000000000,,1,1,0,770942,fd5482352c36b2bb235faa8cbf621c4e4cd1e66e,3,3,1,1,9649,Adrian Vladu,avladu,"Fix userdata template for Python3

The userdata template cannot be rendered correctly on Python3 as the
value can be bytes or string.

In the jinja code there is a concatenation with the '\n' character,
which fails with error:

```python
TypeError: can't concat str to bytes
```

Change-Id: If85c163f0ae9f7f80de56c10bda05ad6da3ea90f
"
openstack%2Fhorizon~master~Ia3b98a3eeceab6fc4f8d3b6930b888549654f02c,openstack/horizon,master,fix-typo,Ia3b98a3eeceab6fc4f8d3b6930b888549654f02c,Fix typo in horizon/exceptions.py,MERGED,2021-02-24 09:24:49.000000000,2021-02-24 15:59:24.000000000,2021-02-24 15:57:25.000000000,5,5,0,777344,3fe0802eaa104ad93df74b51559a120cad2c5745,8,3,1,3,841,Akihiro Motoki,amotoki,"Fix typo in horizon/exceptions.py

Change-Id: Ia3b98a3eeceab6fc4f8d3b6930b888549654f02c
"
openstack%2Fldappool~master~Ib0fad16f3c9b817756996f79c0b0b61f854583a3,openstack/ldappool,master,bump_prettytable_version,Ib0fad16f3c9b817756996f79c0b0b61f854583a3,"Remove lower-constraints, uncap PrettyTable",MERGED,2021-02-20 01:57:13.000000000,2021-02-24 15:53:59.000000000,2021-02-24 15:45:49.000000000,26,72,0,776776,322e0d753f20a9eb7f9bd27afe2271b33c6aedbb,23,5,3,5,31882,Wander Way,wanderway,"Remove lower-constraints, uncap PrettyTable

The lower-constraints jobs are timing out, which means we're failing to
find a match for our specified constraints. These jobs are of limited
value so just drop them.

The change to requirements flags the cap we currently enforce on
PrettyTable. This was previously necessary due to requirements enforcing
the same case, but PrettyTable is now maintained as a Jazzband project
[1] and the cap has been removed.

Finally, while we're here, we can cleanup tox.ini somewhat and remove
now unnecessary warnings from the 'requirements.txt' file (this isn't an
issue with pip's new resolver).

[1] https://github.com/jazzband/prettytable

Change-Id: Ib0fad16f3c9b817756996f79c0b0b61f854583a3
Co-authored-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcharm-guide~master~Ib9414608374c42ee4df3df5f2e8bb01eeefb79ec,openstack/charm-guide,master,2104-docs,Ib9414608374c42ee4df3df5f2e8bb01eeefb79ec,Release note new granularity in ceph-osd out-in actions,MERGED,2021-02-23 19:41:33.000000000,2021-02-24 15:53:49.000000000,2021-02-24 15:51:03.000000000,12,0,0,777199,0d0fef13f0420d53b300c93dd51995fc4b22fada,7,2,1,1,30561,Peter Matulis,pmatulis,"Release note new granularity in ceph-osd out-in actions

The ceph-osd charm actions 'osd-out' and 'osd-in' can
now target individual OSDs.

Change-Id: Ib9414608374c42ee4df3df5f2e8bb01eeefb79ec
"
openstack%2Fcharm-placement~master~I0ad22e07d8837e7e73bb02cda4f879888004daca,openstack/charm-placement,master,review-readme,I0ad22e07d8837e7e73bb02cda4f879888004daca,Review README,MERGED,2021-02-24 03:17:47.000000000,2021-02-24 15:51:07.000000000,2021-02-24 15:51:07.000000000,81,29,0,777290,647e1b0fdc029cf156a5777ec576780a45f0962f,7,3,1,1,30561,Peter Matulis,pmatulis,"Review README

* Improve Overview and Deployment sections.

* Apply README template.

* Add section on upgrading to Train, linking to CDG.

Change-Id: I0ad22e07d8837e7e73bb02cda4f879888004daca
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Fqueens~I4bea96767a3246054c5d98271d8378d84fefc247,openstack/puppet-openstack_spec_helper,stable/queens,bug/1916125-stable/queens,I4bea96767a3246054c5d98271d8378d84fefc247,Pin puppetlabs_spec_helper to < 3.0.0 on train,MERGED,2021-02-23 22:49:22.000000000,2021-02-24 15:45:06.000000000,2021-02-24 15:45:06.000000000,1,1,0,777126,fbbfcb298c4407889f1c2df96e44b7654d9598be,6,3,1,1,9816,Takashi Kajinami,kajinamit,"Pin puppetlabs_spec_helper to < 3.0.0 on train

Some centos-7 jobs [1] are now failing with:
centos-7 | The `minitar` executable is no longer bundled with `minitar`. If you are
centos-7 | expecting this executable, make sure you also install `minitar-cli`.
centos-7 | rake aborted!
centos-7 | SyntaxError: /home/zuul/workspace/.bundled_gems/gems/puppetlabs_spec_helper-3.0.0/lib/puppetlabs_spec_helper/rake_tasks.rb:152: syntax error, unexpected ':', expecting =>
centos-7 | ...voke(force: true, 'target-dir': File.join(Dir.pwd, 'pkg'))
centos-7 | ...

Since they are pulling in a recent puppetlabs_spec_helper which is
likely not compatible with the ruby version in centos-7:
centos-7 | Installing puppetlabs_spec_helper 3.0.0

Let's pin it to < 3.0.0

Closes-Bug: #1916125

[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_3c8/776424/1/check/puppet-openstack-unit-5.5-centos-7/3c82a14/job-output.txt

Conflicts:
	puppet-openstack_spec_helper.gemspec

Change-Id: I4bea96767a3246054c5d98271d8378d84fefc247
(cherry picked from commit bb6c907515668745ca244d7a619dacb40f5f1f69)
(cherry picked from commit f2c1e94bf2dced846190006ecbcb8770cef3a77e)
(cherry picked from commit ede2e2519cd622fdc415bc46b78499f4747d4442)
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Frocky~I4bea96767a3246054c5d98271d8378d84fefc247,openstack/puppet-openstack_spec_helper,stable/rocky,bug/1916125,I4bea96767a3246054c5d98271d8378d84fefc247,Pin puppetlabs_spec_helper to < 3.0.0 on train,MERGED,2021-02-23 22:48:45.000000000,2021-02-24 15:44:57.000000000,2021-02-24 15:44:57.000000000,1,1,0,777255,ede2e2519cd622fdc415bc46b78499f4747d4442,6,3,1,1,9816,Takashi Kajinami,kajinamit,"Pin puppetlabs_spec_helper to < 3.0.0 on train

Some centos-7 jobs [1] are now failing with:
centos-7 | The `minitar` executable is no longer bundled with `minitar`. If you are
centos-7 | expecting this executable, make sure you also install `minitar-cli`.
centos-7 | rake aborted!
centos-7 | SyntaxError: /home/zuul/workspace/.bundled_gems/gems/puppetlabs_spec_helper-3.0.0/lib/puppetlabs_spec_helper/rake_tasks.rb:152: syntax error, unexpected ':', expecting =>
centos-7 | ...voke(force: true, 'target-dir': File.join(Dir.pwd, 'pkg'))
centos-7 | ...

Since they are pulling in a recent puppetlabs_spec_helper which is
likely not compatible with the ruby version in centos-7:
centos-7 | Installing puppetlabs_spec_helper 3.0.0

Let's pin it to < 3.0.0

Closes-Bug: #1916125

[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_3c8/776424/1/check/puppet-openstack-unit-5.5-centos-7/3c82a14/job-output.txt

Conflicts:
	puppet-openstack_spec_helper.gemspec

Change-Id: I4bea96767a3246054c5d98271d8378d84fefc247
(cherry picked from commit bb6c907515668745ca244d7a619dacb40f5f1f69)
(cherry picked from commit f2c1e94bf2dced846190006ecbcb8770cef3a77e)
"
openstack%2Fnova~master~Ia07241602f832a88c14fe3c62984acec97794d4c,openstack/nova,master,bp/compact-db-migrations-wallaby,Ia07241602f832a88c14fe3c62984acec97794d4c,apidb: Add manage.py script,MERGED,2021-01-19 10:36:02.000000000,2021-02-24 15:44:45.000000000,2021-02-24 15:43:08.000000000,20,0,1,771419,a172b75587f4ab185efb47a9a31f1e0e7c158932,21,3,2,1,15334,Stephen Finucane,sfinucan,"apidb: Add manage.py script

This allows us to use the 'generate-schemas' tool developed for the main
DB migration series for this series.

Change-Id: Ia07241602f832a88c14fe3c62984acec97794d4c
"
openstack%2Fos-ken~master~I19617aee765f9086fbfdb67fb17839b83d9df48c,openstack/os-ken,master,fix-l-c,I19617aee765f9086fbfdb67fb17839b83d9df48c,Fix lower-constraints job,MERGED,2021-02-10 01:56:52.000000000,2021-02-24 15:43:36.000000000,2021-02-23 11:50:38.000000000,25,36,4,774755,28b0341e481a8d53e8b6b8a70b8a16a08d027e10,15,5,1,5,841,Akihiro Motoki,amotoki,"Fix lower-constraints job

The summary of changes in lower-constraints.txt are as below.

* Address version mismatch of eventlet in requirements.txt and
  lower-constraints.txt. eventlet 0.21.0 is blocked in
  global-requirements.txt, so the min version is set to 0.22.0.
* pytz version in l-c is bumped to satisfy Babel requirement.
* Update the min version of msgpack to 0.5.0 as 0.3.0 is not
  available in PyPI. msgpack-python is dropped as it is not used.
* Drop linter-specific entries from lower-constraints.txt
* hacking in l-c is updated to match the version in test-requirements.

I also ran requirements-check script locally and detected
a lot of inconsistencies in requirements related files in os-ken.
Errors detected by the script are fixed in this commit too.

NOTE: The above inconsistencies were not detected mainly because
we don't have requirements-check job in os-ken CI.
Perhaps it is due to 'tinyrpc' which is not included in g-r.
It is better to enable requirements-check job in os-ken CI,
but we need to add tinyrpc to global-requirements.txt or drop
tinyrpc dependencies (for example, by dropping os-ken/app
as tinyrpc is used only in os-ken/app).

Change-Id: I19617aee765f9086fbfdb67fb17839b83d9df48c
"
openstack%2Fkuryr-kubernetes~master~I1a5e19021c9dc7e8ddbb1898c23a4ed934497b2c,openstack/kuryr-kubernetes,master,fix-namespace-readiness,I1a5e19021c9dc7e8ddbb1898c23a4ed934497b2c,Ensure Namespace readiness depends on correct CRD,MERGED,2021-02-22 18:49:40.000000000,2021-02-24 15:38:47.000000000,2021-02-24 15:37:29.000000000,5,6,1,776978,0a0cd64fd7b909cf6c42437562594ba77bf99244,20,4,4,3,27032,Maysa de Macedo Souza,maysa,"Ensure Namespace readiness depends on correct CRD

The Nampespace handler requires that the KuryrNetwork CRD
is created on the cluster instead of the old KuryrNet CRD.
This commit fixes the issue by checking if the KuryrNetwork
is enforced.

Closes-bug: 1916595
Change-Id: I1a5e19021c9dc7e8ddbb1898c23a4ed934497b2c
"
openstack%2Foctavia-tempest-plugin~master~I961486e887acc3799ff0e364d452a83158ec496c,openstack/octavia-tempest-plugin,master,connection_limit,I961486e887acc3799ff0e364d452a83158ec496c,"New ""test_connection_limit"" traffic based test.",ABANDONED,2020-10-21 13:32:17.000000000,2021-02-24 15:37:11.000000000,,130,223,7,759053,48c84b70dace262f676551578ea20b8c4496cb14,11,19,1,2,28609,Arkady Shtempler,ashtempl,"New ""test_connection_limit"" traffic based test.

Update listener with ""connection_limit"" and send
HTTP requests in parallel using Python ""Requests sessions""
and threads modules.
Note: more details could be found in docstring inside the test.

Change-Id: I961486e887acc3799ff0e364d452a83158ec496c
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Fstein~I4bea96767a3246054c5d98271d8378d84fefc247,openstack/puppet-openstack_spec_helper,stable/stein,bug/1916125,I4bea96767a3246054c5d98271d8378d84fefc247,Pin puppetlabs_spec_helper to < 3.0.0 on train,MERGED,2021-02-23 22:46:33.000000000,2021-02-24 15:32:03.000000000,2021-02-24 15:32:03.000000000,1,1,0,777125,f2c1e94bf2dced846190006ecbcb8770cef3a77e,9,3,1,1,9816,Takashi Kajinami,kajinamit,"Pin puppetlabs_spec_helper to < 3.0.0 on train

Some centos-7 jobs [1] are now failing with:
centos-7 | The `minitar` executable is no longer bundled with `minitar`. If you are
centos-7 | expecting this executable, make sure you also install `minitar-cli`.
centos-7 | rake aborted!
centos-7 | SyntaxError: /home/zuul/workspace/.bundled_gems/gems/puppetlabs_spec_helper-3.0.0/lib/puppetlabs_spec_helper/rake_tasks.rb:152: syntax error, unexpected ':', expecting =>
centos-7 | ...voke(force: true, 'target-dir': File.join(Dir.pwd, 'pkg'))
centos-7 | ...

Since they are pulling in a recent puppetlabs_spec_helper which is
likely not compatible with the ruby version in centos-7:
centos-7 | Installing puppetlabs_spec_helper 3.0.0

Let's pin it to < 3.0.0

Closes-Bug: #1916125

[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_3c8/776424/1/check/puppet-openstack-unit-5.5-centos-7/3c82a14/job-output.txt

Change-Id: I4bea96767a3246054c5d98271d8378d84fefc247
(cherry picked from commit bb6c907515668745ca244d7a619dacb40f5f1f69)
"
openstack%2Fmonasca-common~stable%2Fussuri~I9100912457dffcb0441d5e20a18074c4da8bff26,openstack/monasca-common,stable/ussuri,fix-zuul-publish,I9100912457dffcb0441d5e20a18074c4da8bff26,Fix zuul publish docker image job,MERGED,2021-02-24 11:03:14.000000000,2021-02-24 14:49:26.000000000,2021-02-24 14:49:26.000000000,1,1,0,777359,b4aa7f1b08f709faffa55497f61f8ce174f61f46,6,2,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I9100912457dffcb0441d5e20a18074c4da8bff26
"
openstack%2Fmonasca-common~stable%2Fvictoria~I222add517fd8f5009c5783d4dbb309501eb9a109,openstack/monasca-common,stable/victoria,fix-zuul-publish,I222add517fd8f5009c5783d4dbb309501eb9a109,Fix zuul publish docker image job,MERGED,2021-02-24 10:56:31.000000000,2021-02-24 14:49:23.000000000,2021-02-24 14:49:23.000000000,1,1,0,777357,a04b1bbe631af6005620a2cfa86f747e2e6b9e92,6,2,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I222add517fd8f5009c5783d4dbb309501eb9a109
"
openstack%2Fneutron~master~Iba29ab0b1141e731cc811e8bee076dd5726248b5,openstack/neutron,master,bug/1916572,Iba29ab0b1141e731cc811e8bee076dd5726248b5,Make test_throttler happy,MERGED,2021-02-23 09:23:22.000000000,2021-02-24 14:35:27.000000000,2021-02-23 22:04:38.000000000,1,1,0,777072,b168232e03825ae1d85ce57b870ae5897a1eb9cb,14,4,1,1,9531,liuyulong,LIU-Yulong,"Make test_throttler happy

neutron.tests.unit.common.test_utils.TestThrottler.test_throttler
is failing with ""AssertionError: 1 not greater than 1"", change the
assert to assertGreaterEqual.

Change-Id: Iba29ab0b1141e731cc811e8bee076dd5726248b5
Closes-Bug: #1916572
"
openstack%2Fldappool~master~Icf5289bcb694bc491efe526fdd4aafd81ea5e6d8,openstack/ldappool,master,bump_prettytable_version,Icf5289bcb694bc491efe526fdd4aafd81ea5e6d8,Remove lower-constraints,ABANDONED,2021-02-23 19:54:28.000000000,2021-02-24 14:00:59.000000000,,25,71,0,777207,38aa810e262ec3fb9b749f952cf7959c83660b44,3,1,1,5,15334,Stephen Finucane,sfinucan,"Remove lower-constraints

These jobs are timing out, which means we're failing to find a match for
our specified constraints. These jobs are of limited value so just drop
it.

While we're here, cleanup tox.ini some bit and remove now unnecessary
warnings from the requirements.txt file (this isn't an issue with pip's
new resolver).

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Icf5289bcb694bc491efe526fdd4aafd81ea5e6d8
"
openstack%2Fironic~master~Ic47f21686c66297c5dc618a3970461ae0230963f,openstack/ironic,master,,Ic47f21686c66297c5dc618a3970461ae0230963f,[doc-only] Add BFV basic flow and networking context,MERGED,2020-11-16 16:42:38.000000000,2021-02-24 13:43:17.000000000,2021-02-24 13:39:24.000000000,54,0,1,762873,fb3f6726d54c8cc6cc8171843a794c66703ba3fb,17,5,2,1,11655,Julia Kreger,jkreger,"[doc-only] Add BFV basic flow and networking context

Change-Id: Ic47f21686c66297c5dc618a3970461ae0230963f
"
openstack%2Fvalidations-libs~master~Icf5de856ddbc877dfdd19354b102197fefe40eec,openstack/validations-libs,master,ansible/artifact_path/doublecheck,Icf5de856ddbc877dfdd19354b102197fefe40eec,Removed unnecessary second check.,MERGED,2021-01-19 16:02:00.000000000,2021-02-24 13:43:03.000000000,2021-02-24 13:39:06.000000000,0,2,0,771484,9dd1fcaff58c3115ba4141fdb91937fb484476e1,8,3,1,1,32926,Jiri Podivin,jpodivin,"Removed unnecessary second check.

The condition checking existence ansible_artifact_path was redundant.
Similar, but more comprehensive, check is performed previously in the method,
along with missing path resolution.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Icf5de856ddbc877dfdd19354b102197fefe40eec
"
openstack%2Fkolla-ansible~master~I7e7792d7cb264faba2de18209a4f9c70eaa15f8d,openstack/kolla-ansible,master,unify-logfile,I7e7792d7cb264faba2de18209a4f9c70eaa15f8d,unify the wsgi logfile name,NEW,2020-05-22 04:42:38.000000000,2021-02-24 13:27:54.000000000,,20,22,15,730191,3f884d26ded8a4e435c59245d201d9793afb4f4a,19,6,3,11,24849,yao ning,mslovy,"unify the wsgi logfile name

Currently, wsgi logfile name is somewhere different
in different components. After unifying logfile name,
fluentd log processor can benefit from it by using
wildcard regex expression as well as our sanity.

Change-Id: I7e7792d7cb264faba2de18209a4f9c70eaa15f8d
Signed-off-by: yaoning <yaoning@unitedstack.com>
"
openstack%2Fmonasca-notification~master~I9c408f2198a017391decba04008f2d3bfec6525e,openstack/monasca-notification,master,fix-zuul-publish,I9c408f2198a017391decba04008f2d3bfec6525e,Fix zuul publish docker image job,MERGED,2021-01-19 12:12:14.000000000,2021-02-24 13:00:58.000000000,2021-02-24 13:00:58.000000000,1,1,0,771433,5104c9ebac38b81e415781d95a0c1089d676c6b1,11,2,3,1,26141,Adrian Czarnecki,czarneckia,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I9c408f2198a017391decba04008f2d3bfec6525e
"
openstack%2Fnova~master~Ie4deb265f6093558ab86dc69f6ffab9da62ca15d,openstack/nova,master,bp/pci-socket-affinity,Ie4deb265f6093558ab86dc69f6ffab9da62ca15d,libvirt: start tracking NUMACell.socket for hosts,MERGED,2020-12-11 21:38:18.000000000,2021-02-24 12:43:54.000000000,2021-02-24 12:41:18.000000000,59,27,9,766816,95b9481aa4e4271503ccfdde80ab8b52838d5ffe,101,3,19,8,8864,Artom Lifshitz,artom,"libvirt: start tracking NUMACell.socket for hosts

This patch adds a `socket` field to NUMACell, and the libvirt driver
starts populating it. For testing, we need to fix how fakelibvirt's
HostInfo handled sockets: it previously assumed one or more sockets
within a NUMA node, but we want the reverse - one or more NUMA nodes
within a socket.

Implements: blueprint pci-socket-affinity
Change-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d
"
openstack%2Ftempest~master~I7da3e8898e00bc07f6e462cbc9765ce7c199faa2,openstack/tempest,master,remove-six,I7da3e8898e00bc07f6e462cbc9765ce7c199faa2,Remove usage of six,MERGED,2021-01-05 03:30:34.000000000,2021-02-24 12:43:40.000000000,2021-02-24 12:41:04.000000000,5,15,0,769243,4c3bf8f80068ccfd28dd68dfae20c6bca948326b,34,3,3,5,31412,Wenping Song,songwenping,"Remove usage of six

Remove six-library Replace the following items with Python 3 style code.
- six.add_metaclass

Change-Id: I7da3e8898e00bc07f6e462cbc9765ce7c199faa2
"
openstack%2Fcharm-cinder-purestorage~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-cinder-purestorage,master,feature/new-zuul,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:41:58.000000000,2021-02-24 12:42:05.000000000,2021-02-24 12:42:05.000000000,15,0,0,776347,27e9e7d9c69c2ec944576b9190547f64b41c5cc0,16,3,2,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fcharm-nova-cell-controller~master~I996496c12e189257a27fdb39dd094ccb0a6df929,openstack/charm-nova-cell-controller,master,feature/new-zuul,I996496c12e189257a27fdb39dd094ccb0a6df929,Add new osci.yaml,MERGED,2021-02-18 07:47:29.000000000,2021-02-24 12:33:11.000000000,2021-02-24 12:33:11.000000000,14,0,0,776377,366f2c9a88f690b764426cc6726d5c10af896325,12,3,2,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I996496c12e189257a27fdb39dd094ccb0a6df929
"
openstack%2Fcharm-manila-generic~master~I996496c12e189257a27fdb39dd094ccb0a6df929,openstack/charm-manila-generic,master,feature/new-zuul,I996496c12e189257a27fdb39dd094ccb0a6df929,Add new osci.yaml,MERGED,2021-02-18 07:45:12.000000000,2021-02-24 12:29:30.000000000,2021-02-24 12:29:30.000000000,15,0,0,776364,070e589c71cc939e6887c39a412a16f942c13dbe,12,3,2,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I996496c12e189257a27fdb39dd094ccb0a6df929
"
openstack%2Fcharm-keystone-kerberos~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-keystone-kerberos,master,feature/new-zuul,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:44:16.000000000,2021-02-24 12:27:33.000000000,2021-02-24 12:27:33.000000000,15,0,0,776358,488d5b243b02ea4bcc12c28ecf54c44cec07ba46,12,3,2,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fcharm-cinder-backup~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-cinder-backup,master,feature/new-zuul,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:41:31.000000000,2021-02-24 12:24:37.000000000,2021-02-24 12:24:37.000000000,15,0,0,776344,a483ec971636f3b89ec3e1aee38c95baf0be91cb,13,3,2,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Frequirements~master~Ia6029efe54450c36a0c568ad600dba1f81404e6a,openstack/requirements,master,openstack/requirements/constraints,Ia6029efe54450c36a0c568ad600dba1f81404e6a,Updated from generate-constraints,MERGED,2021-02-24 06:19:06.000000000,2021-02-24 12:22:20.000000000,2021-02-24 12:20:50.000000000,7,17,0,777300,3e64786f490c37ab0f9bda1365ec14e3b141390a,12,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ia6029efe54450c36a0c568ad600dba1f81404e6a
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fcharm-glance-simplestreams-sync~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-glance-simplestreams-sync,master,feature/new-zuul,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:43:05.000000000,2021-02-24 12:18:05.000000000,2021-02-24 12:18:05.000000000,13,0,0,776351,740d80cbed64ed8fd84d7403626767e2fa4d999f,12,3,2,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fcharm-manila-ganesha~master~I996496c12e189257a27fdb39dd094ccb0a6df929,openstack/charm-manila-ganesha,master,feature/new-zuul,I996496c12e189257a27fdb39dd094ccb0a6df929,Add new osci.yaml,MERGED,2021-02-18 07:45:02.000000000,2021-02-24 12:14:38.000000000,2021-02-24 12:14:38.000000000,13,0,0,776363,a799c9600cf5e71ce99ea3ef1bd2caf0dcaf338e,12,3,2,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I996496c12e189257a27fdb39dd094ccb0a6df929
"
openstack%2Fcharm-gnocchi~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-gnocchi,master,feature/new-zuul,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:43:14.000000000,2021-02-24 12:13:29.000000000,2021-02-24 12:13:29.000000000,59,0,0,776352,ee22dae1d563edb7138393cbd9fe512ad062b663,12,3,2,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fcharm-barbican~master~I1bba556eebc3081e890989507b0ccfe6f029c3a6,openstack/charm-barbican,master,feature/new-zuul,I1bba556eebc3081e890989507b0ccfe6f029c3a6,Add new osci.yaml,MERGED,2021-02-18 07:39:09.000000000,2021-02-24 12:12:55.000000000,2021-02-24 12:12:55.000000000,17,0,0,776333,0b902f76d30494f5a8794b8a0265ca0f340d1ca1,13,3,2,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6
"
openstack%2Fcharm-vault~master~Id44d2037d5743bc882388141d726194c51d82fbf,openstack/charm-vault,master,feature/new-zuul,Id44d2037d5743bc882388141d726194c51d82fbf,Add new osci.yaml,MERGED,2021-02-18 07:51:16.000000000,2021-02-24 12:12:16.000000000,2021-02-24 12:12:16.000000000,64,0,0,776398,73a267b869f7dcf30080e86019b811c42cce6ba5,30,3,2,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: Id44d2037d5743bc882388141d726194c51d82fbf
"
openstack%2Fcharm-barbican-vault~master~I1bba556eebc3081e890989507b0ccfe6f029c3a6,openstack/charm-barbican-vault,master,feature/new-zuul,I1bba556eebc3081e890989507b0ccfe6f029c3a6,Add new osci.yaml,MERGED,2021-02-18 07:39:19.000000000,2021-02-24 12:11:59.000000000,2021-02-24 12:11:59.000000000,17,0,0,776334,dc62b883ef51518f3619c4313cae17b6e9151c74,13,3,2,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6
"
openstack%2Fcharm-ceph-fs~master~I559aa794935acd63a0456d4ccbb33c9205a54fda,openstack/charm-ceph-fs,master,feature/new-zuul,I559aa794935acd63a0456d4ccbb33c9205a54fda,Add new osci.yaml,MERGED,2021-02-18 07:40:07.000000000,2021-02-24 12:08:02.000000000,2021-02-24 12:08:02.000000000,72,0,0,776337,95d02c8e46e5a6276298024d2d8252fab203c561,21,3,7,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I559aa794935acd63a0456d4ccbb33c9205a54fda
"
openstack%2Fmonasca-common~stable%2Fstein~Ice49a0f1bc6e6d2c16d66fabc40e0ad1344ce104,openstack/monasca-common,stable/stein,fix-zuul-publish,Ice49a0f1bc6e6d2c16d66fabc40e0ad1344ce104,Fix zuul publish docker image job,NEW,2021-02-24 11:08:03.000000000,2021-02-24 12:03:55.000000000,,1,1,0,777361,e0857910b3acceb44e351ff98fd7dd3694df713c,2,1,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: Ice49a0f1bc6e6d2c16d66fabc40e0ad1344ce104
"
openstack%2Foctavia~master~I196e13996ce4bce93d9a8eed87f6c3cb8ef3cea1,openstack/octavia,master,,I196e13996ce4bce93d9a8eed87f6c3cb8ef3cea1,Fix pep8 errors,MERGED,2021-02-22 10:56:37.000000000,2021-02-24 12:03:21.000000000,2021-02-24 12:00:59.000000000,9,0,19,776919,c37738ba6f44686d88d9da6d1010e1b8e6af2dc5,16,6,2,8,29244,Gregory Thiemonge,gthiemonge,"Fix pep8 errors

pylint 2.7.0 added additional checks for inconsistent-return-statements:
- inconsistent-return-statements message is now emitted if one of
  try/except statement is not returning explicitly while the other do.

Change-Id: I196e13996ce4bce93d9a8eed87f6c3cb8ef3cea1
"
openstack%2Fmonasca-common~stable%2Ftrain~I2ad69fbf0f629af40f5f611bf9480d0da76bb647,openstack/monasca-common,stable/train,fix-zuul-publish,I2ad69fbf0f629af40f5f611bf9480d0da76bb647,Fix zuul publish docker image job,NEW,2021-02-24 11:05:32.000000000,2021-02-24 11:54:52.000000000,,1,1,0,777360,032f72269ffe217228afc225f4a2e1d455cd73c6,2,1,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I2ad69fbf0f629af40f5f611bf9480d0da76bb647
"
openstack%2Fcharm-ceph-proxy~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-ceph-proxy,master,feature/new-zuul,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:40:53.000000000,2021-02-24 11:48:19.000000000,2021-02-24 11:48:19.000000000,34,0,0,776340,a73633761deea6a5fbb380ea189910f2e19d4ffa,14,3,3,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I0048fec8c1e19bd20b1edcd23f2490456fe1cd12,openstack/tripleo-ansible,stable/train,bug/1914018,I0048fec8c1e19bd20b1edcd23f2490456fe1cd12,Make server group quota unlimited for Octavia,MERGED,2021-02-09 11:41:08.000000000,2021-02-24 11:46:46.000000000,2021-02-24 11:46:46.000000000,4,1,0,774628,58c8ab10c0771959a6f099785232c14d5776f58d,15,6,1,1,9816,Takashi Kajinami,kajinamit,"Make server group quota unlimited for Octavia

When a user creates a HA load balancer in Octavia, Octavia creates
server groups as part of the load balancer resources. However because
the default quotas related to server group are very low and we have all
load balancer resources in the common service project, users can create
very limited number of HA load balancers by default.

This patch disables the quota limits of the server-group-members and
server-groups of the service project, so that HA load balancer creation
is not blocked by these quotas.

Closes-Bug: #1914018
Change-Id: I0048fec8c1e19bd20b1edcd23f2490456fe1cd12
(cherry picked from commit 06470bc4d64c9e832d06a2e54ae6a3363a720008)
(cherry picked from commit 56ab6452c628c4a801152310d6b3ae37684f0d0f)
(cherry picked from commit 1d28de2281174e59a6df9bfad32a76b6b6e614e6)
"
openstack%2Fmonasca-notification~master~Idae87291f4556eee77d40ab49f0d151435d70875,openstack/monasca-notification,master,update-lower-constraints,Idae87291f4556eee77d40ab49f0d151435d70875,Update hacking for Python3,MERGED,2020-12-15 09:51:17.000000000,2021-02-24 11:42:44.000000000,2021-02-24 11:41:34.000000000,21,16,0,767109,35a9b57f9136b4ce735a00d788fa49133aa29abc,13,2,3,10,28062,Martin Chacon Piza,martinchacon,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found by updated hacking version.

Remove hacking and friends from lower-constraints, they are not needed
there at all.

Align lower-constraints for new pip [1]

Fix flake8 E305 and E117 and set W504 as ignored

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html

Change-Id: Idae87291f4556eee77d40ab49f0d151435d70875
"
openstack%2Fsushy~stable%2Fvictoria~Ida1d314f77b9f114e572639c7ad46545be1ce962,openstack/sushy,stable/victoria,firmware-stable/victoria,Ida1d314f77b9f114e572639c7ad46545be1ce962,Fixes issue of redfish firmware update,MERGED,2021-01-21 10:20:51.000000000,2021-02-24 11:37:38.000000000,2021-02-24 11:36:04.000000000,75,9,4,771604,4bca706205c5701c4bf6d8335ebc80f894d6e9a4,22,4,3,7,19604,ankit,ankit,"Fixes issue of redfish firmware update

This patch fixes issue of redfish firmware update
for ilo5 based hardware by adding a new attribute
task_uri to monitor and validate the firmware
update since task_monitor uri does not provide the
appropriate response.

Change-Id: Ida1d314f77b9f114e572639c7ad46545be1ce962
Story: #2008403
Task: #41339
(cherry picked from commit 3dcffb9a76b894eeeb837007f137452beba8439b)
"
openstack%2Fansible-role-systemd_mount~master~I5a83a7f237e4b7d86e8d7ee08b0e8c6b4f8a44f8,openstack/ansible-role-systemd_mount,master,osa-facts,I5a83a7f237e4b7d86e8d7ee08b0e8c6b4f8a44f8,Use ansible_facts[] instead of fact variables,MERGED,2021-02-22 16:56:25.000000000,2021-02-24 11:22:18.000000000,2021-02-24 11:20:54.000000000,11,11,0,776962,e5cc6f8990e82b92bc489c701f849120ec23f2fa,13,3,3,4,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I5a83a7f237e4b7d86e8d7ee08b0e8c6b4f8a44f8
"
openstack%2Fansible-role-systemd_networkd~master~I74f02669b013b8580d3469a8ffe214d88cd0f525,openstack/ansible-role-systemd_networkd,master,osa-stream,I74f02669b013b8580d3469a8ffe214d88cd0f525,Add reference to gpg key location to EPEL repo config,MERGED,2021-02-17 16:18:22.000000000,2021-02-24 11:19:51.000000000,2021-02-24 11:18:23.000000000,2,0,0,776225,3213d427e60648bfd70f87af60bd84b472406e90,9,3,1,1,25023,Jonathan Rosser,jrosser,"Add reference to gpg key location to EPEL repo config

This is necessary on centos-8 stream

Change-Id: I74f02669b013b8580d3469a8ffe214d88cd0f525
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I443f5b9ecef1c142dcbcac91a0f36cb28035f3f6,openstack/openstack-ansible-lxc_hosts,master,,I443f5b9ecef1c142dcbcac91a0f36cb28035f3f6,Update Centos-8 LXC image to 8.3,MERGED,2021-02-16 09:24:42.000000000,2021-02-24 11:14:53.000000000,2021-02-24 11:13:09.000000000,32,1,0,775778,172e3e4bd09dcd4a0c7fea222596f0ddef19f8df,20,3,3,2,25023,Jonathan Rosser,jrosser,"Update Centos-8 LXC image to 8.3

This requires extra ansible tasks to unpack the nested tar file
structure of the 8.3 container image.

Depends-On: I31880ca995735b737d33532eaa4c29be02523117
Change-Id: I443f5b9ecef1c142dcbcac91a0f36cb28035f3f6
"
openstack%2Fansible-role-collect-logs~master~Ic9fd06f911e8c50819b2a10eb91fb9814787b025,openstack/ansible-role-collect-logs,master,queries,Ic9fd06f911e8c50819b2a10eb91fb9814787b025,Move sova patterns outside the repository,MERGED,2021-02-22 13:07:46.000000000,2021-02-24 11:14:13.000000000,2021-02-24 11:14:13.000000000,13,826,2,776929,0478d5983f6fa9472401cf2994d562782d0caa46,14,5,2,2,24162,Sorin Sbârnea,ssbarnea,"Move sova patterns outside the repository

Removes internal sova-patterns.yml and use uri module to load the
same content as JSON from queries repository.

Change-Id: Ic9fd06f911e8c50819b2a10eb91fb9814787b025
Story: TRIPLEOCI-287
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I59bbbcd8a66970a4fb30339aed457b50fb4dad50,openstack/openstack-ansible-lxc_hosts,master,lxc-hosts-cleanup,I59bbbcd8a66970a4fb30339aed457b50fb4dad50,Remove per-backend container creation tasks files,MERGED,2021-02-17 17:06:04.000000000,2021-02-24 10:36:59.000000000,2021-02-24 10:35:42.000000000,33,136,0,776239,7fc5e9950ea9e8b379295837fede70f864502439,24,3,10,6,25023,Jonathan Rosser,jrosser,"Remove per-backend container creation tasks files

The same can be achieved with two ternary operators. Much
less code and duplication.

Default lxc_container_backing_store to 'dir' to match the
lxc_container_create role and further simplify the code.
Change-Id: I59bbbcd8a66970a4fb30339aed457b50fb4dad50
"
openstack%2Ftripleo-heat-templates~master~I49a2c42dcbb74671834f312798367f411c819813,openstack/tripleo-heat-templates,master,ansible-facts,I49a2c42dcbb74671834f312798367f411c819813,Use ansible_facts instead,MERGED,2021-02-19 15:30:25.000000000,2021-02-24 10:23:43.000000000,2021-02-23 22:19:28.000000000,52,51,5,776659,8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922,25,5,4,24,14985,Alex Schultz,mwhahaha,"Use ansible_facts instead

In order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts
instead of ansible_* vars. This change switches our distribution and
hostname related items to use ansible_facts instead.

Change-Id: I49a2c42dcbb74671834f312798367f411c819813
Related-Bug: #1915761
"
openstack%2Fmonasca-common~master~I41f47e02aef73bd9ebf6d6a46e8c212b9a268d73,openstack/monasca-common,master,cryptography,I41f47e02aef73bd9ebf6d6a46e8c212b9a268d73,Use C compiler to build cryptography,MERGED,2021-02-23 19:48:10.000000000,2021-02-24 10:07:19.000000000,2021-02-24 10:07:19.000000000,2,1,0,777203,ccae320767e386b9445b99e2214b1ad23e1aa6d2,7,2,2,1,28062,Martin Chacon Piza,martinchacon,"Use C compiler to build cryptography

Building wheel from cryptography>=3.4 uses by default rust compiler
but version 3.4.x keeps compatibility with C compiler by setting
the env variable CRYPTOGRAPHY_DONT_BUILD_RUST=1 [1]

[1] https://mail.python.org/pipermail/cryptography-dev/2020-December/000998.html

Change-Id: I41f47e02aef73bd9ebf6d6a46e8c212b9a268d73
"
openstack%2Fkolla-ansible~master~I7f5a5ba5e9a6b3866fc4d2c72b7b4884c85020bd,openstack/kolla-ansible,master,,I7f5a5ba5e9a6b3866fc4d2c72b7b4884c85020bd,Improve trove  releasenote,MERGED,2021-02-23 14:04:50.000000000,2021-02-24 09:58:54.000000000,2021-02-24 09:57:11.000000000,3,5,0,777113,e315446291d8ebc3248f94d213c3121aeb6f49da,8,3,1,1,26285,wu.chunyang,wu.chunyang,"Improve trove  releasenote

trivial fix
see: https://review.opendev.org/c/openstack/kolla-ansible/+/763191

Change-Id: I7f5a5ba5e9a6b3866fc4d2c72b7b4884c85020bd
"
openstack%2Fopenstack-ansible-haproxy_server~master~Id98f052df73587f209b9621da0874ce506899f9b,openstack/openstack-ansible-haproxy_server,master,osa-facts,Id98f052df73587f209b9621da0874ce506899f9b,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:09:59.000000000,2021-02-24 09:51:16.000000000,2021-02-24 09:49:44.000000000,8,8,0,777065,d78f6d55282e52be919209bd18220eea1a41a2f7,9,3,1,3,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Id98f052df73587f209b9621da0874ce506899f9b
"
openstack%2Fopenstack-ansible-apt_package_pinning~master~Ib7e1fa820767fe419eadd6309311204433e9bf20,openstack/openstack-ansible-apt_package_pinning,master,osa-facts,Ib7e1fa820767fe419eadd6309311204433e9bf20,Use ansible_facts[] instead of fact variables,MERGED,2021-02-22 16:43:07.000000000,2021-02-24 09:49:22.000000000,2021-02-24 09:47:10.000000000,5,5,0,776957,7c8888ac6de9e0be549270247e849a6c09031158,9,3,1,2,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Ib7e1fa820767fe419eadd6309311204433e9bf20
"
openstack%2Fcyborg~master~I2daf1c61f3c95dc5176bcc36be9f07949d55a933,openstack/cyborg,master,fix-format,I2daf1c61f3c95dc5176bcc36be9f07949d55a933,Add newline to enable lists,MERGED,2021-01-23 06:44:37.000000000,2021-02-24 09:42:35.000000000,2021-02-24 09:39:38.000000000,1,0,0,772150,3d53b7a4dc149ccaed69cfe10af588972fea044a,8,3,1,1,23950,Eric Xie,ericxie,"Add newline to enable lists

This patch adds one newline for the lists of 'Accelerators'.

Change-Id: I2daf1c61f3c95dc5176bcc36be9f07949d55a933
"
openstack%2Fvalidations-common~master~Ic56c7eee7d97cf22f6b79e7263263cee99922c03,openstack/validations-common,master,unittests/library,Ic56c7eee7d97cf22f6b79e7263263cee99922c03,Test infrastructure for library scripts along with few samples.,MERGED,2021-01-27 15:07:45.000000000,2021-02-24 09:09:41.000000000,2021-02-23 12:06:55.000000000,127,0,8,772704,7cfd0cbe9c4e847b65a412c430b847a1723d7892,26,5,4,4,32926,Jiri Podivin,jpodivin,"Test infrastructure for library scripts along with few samples.

First step towards enhancing our test coverage.
While none of these scripts can be considered complex,
it is nonetheless a good idea to keep track of their behavior.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic56c7eee7d97cf22f6b79e7263263cee99922c03
"
openstack%2Fhorizon~stable%2Fvictoria~Ib407c3d21b316e181e278a7074d0e6c556ab9600,openstack/horizon,stable/victoria,zanata/translations,Ib407c3d21b316e181e278a7074d0e6c556ab9600,Imported Translations from Zanata,MERGED,2021-02-24 07:02:17.000000000,2021-02-24 08:29:52.000000000,2021-02-24 08:28:30.000000000,9,3,0,777304,77df0abd6c687b69a3d5941541a69ece7464d3ba,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib407c3d21b316e181e278a7074d0e6c556ab9600
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I35ea4354a7448a23d6517f9777ed022caa79347a,openstack/tripleo-heat-templates,stable/train,upgrade-stop-manila-cinder-stable/victoria-stable/ussuri-stable/train,I35ea4354a7448a23d6517f9777ed022caa79347a,Stop non-pcmk services of manila and cinder during upgrade,MERGED,2021-02-23 15:54:50.000000000,2021-02-24 07:52:34.000000000,2021-02-24 07:52:34.000000000,75,0,0,777119,e1aee7c3e25be9cfda84fad643a187efb311f256,8,3,1,5,9816,Takashi Kajinami,kajinamit,"Stop non-pcmk services of manila and cinder during upgrade

This change implements missing external_upgrade_tasks for non-pcmk
services of manila and cinder, to ensure that we don't have mixed
versions of controller services running at the same time during
upgrade.

These tasks should have been implemented in the initial patch[1], but
missed at that time unfortunately.

 [1] 8529ce60da84d2aa1e1c9e6994303678261b09da

Change-Id: I35ea4354a7448a23d6517f9777ed022caa79347a
(cherry picked from commit 60c22c38ccfd253dec3766ad58c4b16d3a74f467)
(cherry picked from commit 0223e9ab6349ce1cc855ee75dfe44ed190febc6c)
(cherry picked from commit ac11fc15c5a7052390f527c6f380ba576005507e)
"
openstack%2Ftripleo-quickstart-extras~master~I512c74de73dceb0aa769afa2273348d7d6b089e5,openstack/tripleo-quickstart-extras,master,,I512c74de73dceb0aa769afa2273348d7d6b089e5,Add containers/podman to ignore by DLRN for build,MERGED,2021-02-23 15:26:34.000000000,2021-02-24 07:35:01.000000000,2021-02-24 07:35:01.000000000,1,0,0,777148,ae172b97924ca0f3ec43b64596c6f77a1d4a5417,8,4,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add containers/podman to ignore by DLRN for build

We don't build podman using DLRN, so it should be ignored by this
role.
Change-Id: I512c74de73dceb0aa769afa2273348d7d6b089e5
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I3957ce3a4916e0f1455fdda38c0a35b8ffd508f7,openstack/tripleo-heat-templates,stable/queens,bug/1914017-stable/queens,I3957ce3a4916e0f1455fdda38c0a35b8ffd508f7,[Queens] Do not load nf_conntrack_proto_sctp,MERGED,2021-02-17 16:16:25.000000000,2021-02-24 07:34:25.000000000,2021-02-24 07:34:25.000000000,6,1,0,776177,2e4f2f92e5dad8eb8555a8fad02f91863895a031,9,5,2,1,7353,Kevin Carter,cloudnull,"[Queens] Do not load nf_conntrack_proto_sctp

nf_conntrack_proto_sctp no longer exists since CentOS/RHEL 7.4, so we
should not load that module expicitly.

Change-Id: I3957ce3a4916e0f1455fdda38c0a35b8ffd508f7
Closes-Bug: #1914017
(cherry picked from commit 90d3e93109b34f4bcdbc04f6fdd600e12f978d25)
"
openstack%2Fos-net-config~master~I3c5de53dd97bc5bbc25d3c02fe9a6185f3112e84,openstack/os-net-config,master,docs,I3c5de53dd97bc5bbc25d3c02fe9a6185f3112e84,Write complete os-net-config examples,MERGED,2021-02-11 22:27:59.000000000,2021-02-24 07:13:19.000000000,2021-02-24 07:10:29.000000000,245,98,5,775292,79a41c447868df5299889cf5bbf178aa88749baf,11,4,2,4,4571,Steve Baker,steve-stevebaker,"Write complete os-net-config examples

These illustrative examples are adapted from the tripleo-ansible
tripleo_network_config templates.

Since the README now points to the documentation, the partial
examples in the README have been removed.

[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_network_config/templates

Change-Id: I3c5de53dd97bc5bbc25d3c02fe9a6185f3112e84
"
openstack%2Fpython-tripleoclient~master~I2450e0fe2f497c9e627a1e75924a447b10c2b570,openstack/python-tripleoclient,master,ephemeral-heat,I2450e0fe2f497c9e627a1e75924a447b10c2b570,Update default container registry to quay.io,MERGED,2021-02-08 21:29:41.000000000,2021-02-24 07:12:20.000000000,2021-02-24 07:10:47.000000000,1,1,0,774544,0fa8098973095cc33328fe0166c1b79ef60dc346,18,3,6,1,7144,James Slagle,slagle,"Update default container registry to quay.io

The constant for tripleoclient was still set to docker.io instead of
quay.io.

Change-Id: I2450e0fe2f497c9e627a1e75924a447b10c2b570
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fos-net-config~master~I065da7c7028bf081fb1d87ef64c4f3f873bfe111,openstack/os-net-config,master,docs,I065da7c7028bf081fb1d87ef64c4f3f873bfe111,"Refresh README.rst, expand usage.rst",MERGED,2021-02-04 01:40:38.000000000,2021-02-24 07:12:13.000000000,2021-02-24 07:10:10.000000000,89,41,2,774029,aa213097dcd7c1ed3924401b8846db15c53f3a0a,9,5,1,2,4571,Steve Baker,steve-stevebaker,"Refresh README.rst, expand usage.rst

As part of an effort to fully document os-net-config, this change
makes the README.rst more consistent with other projects, and expands
the usage.rst page to describe useful command-line arguments.

Now that the README has a link to the generated documentation[1], the
provider section can be replaced by the one in the usage.rst page.

[1] https://docs.openstack.org/os-net-config/latest/

Change-Id: I065da7c7028bf081fb1d87ef64c4f3f873bfe111
"
openstack%2Fpuppet-oslo~master~Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2,openstack/puppet-oslo,master,idle_timeout,Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2,Fix the wrong default value of idle_timeout,MERGED,2021-02-15 00:45:54.000000000,2021-02-24 07:10:33.000000000,2021-02-24 07:10:33.000000000,2,2,0,775542,12e2f4a886f7a97d1f34bce22254ea114f829bbd,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix the wrong default value of idle_timeout

Currently we always get the following warnings because of the wrong
default value of idle_timeout.

The idle_timeout parameter is deprecated.
Please use connection_recycle_time instead.

This change fixes the default and ensures that the warning message
is shown only when the deprecated parameter is set.

Change-Id: Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2
"
openstack%2Fos-net-config~master~Iff3cdb2657b3e427f9fa3a882479253bf2e27fee,openstack/os-net-config,master,docs,Iff3cdb2657b3e427f9fa3a882479253bf2e27fee,Document os-net-config YAML format,MERGED,2021-02-10 03:49:57.000000000,2021-02-24 07:10:23.000000000,2021-02-24 07:10:23.000000000,482,0,48,774765,6c9bdad27b80a4f28be5f3b71ee248da69feddc5,13,5,2,2,4571,Steve Baker,steve-stevebaker,"Document os-net-config YAML format

This change documents the types and attributes used by the TripleO
networking templates[1] along with how these are used by the ifcfg
backend.

The next change in this series will be a new page of complex examples
to illustrate the usage of these types and attributes.

Future changes can document unused types and attributes, and also add
ENI backend notes to go alongside the ifcfg notes.

[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_network_config/templates
Change-Id: Ic9d5643354b76165261498d875266c68e9bc6a7e

Change-Id: Iff3cdb2657b3e427f9fa3a882479253bf2e27fee
"
openstack%2Ftripleo-heat-templates~master~Ic6e4477c2218cf7586e70df8de7c47b798e79656,openstack/tripleo-heat-templates,master,silence-facts,Ic6e4477c2218cf7586e70df8de7c47b798e79656,Add no log to podman set_fact,MERGED,2021-02-21 02:30:56.000000000,2021-02-24 07:10:03.000000000,2021-02-24 07:10:03.000000000,3,0,0,776818,057f41345b914993663e7996b69024e0c6c5c65c,10,6,1,1,14985,Alex Schultz,mwhahaha,"Add no log to podman set_fact

If you run ansible with -v, the data in the set_fact task may be logged.
We don't want that for these tasks.

Change-Id: Ic6e4477c2218cf7586e70df8de7c47b798e79656
"
openstack%2Fglance~master~Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d,openstack/glance,master,secure-rbac-handle-members,Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d,Add basic/common personas to base policies,MERGED,2020-11-25 21:02:22.000000000,2021-02-24 07:07:29.000000000,2021-02-24 07:05:40.000000000,22,0,7,764241,b41fa3f6b3fa615a6ce1d86a98994f49a7995862,71,3,14,2,5046,Lance Bragstad,ldbragst,"Add basic/common personas to base policies

These policy check strings model uniform, consistent personas that we'd
like to implement across OpenStack APIs. Doing this consistently will
improve user experience for end-users and operators who are struggling
to maintain drift in RBAC implementations across OpenStack.

Subsequent patches will use these check strings in new policy defaults.
Additionally, future patches will introduce check string for
system-personas when glance is a better position to adopt system-scope
for administrative APIs.

Related: blueprint secure-rbac

Change-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d
"
openstack%2Fopenstack-tempest-skiplist~master~Ief72e77b879df0e0455284707623c7f65d1e62c4,openstack/openstack-tempest-skiplist,master,,Ief72e77b879df0e0455284707623c7f65d1e62c4,Adding C7 train that is failing on TrafficOperationsScenarioTest,MERGED,2021-02-24 06:19:48.000000000,2021-02-24 06:58:47.000000000,2021-02-24 06:57:24.000000000,1,0,0,777301,fdd7c25d30947817844da904320444cd385b8c67,10,4,1,1,29775,Sandeep Yadav,sandeepyadav93,"Adding C7 train that is failing on TrafficOperationsScenarioTest

This test is failing on TrafficOperationsScenarioTest for C8
branches as well, those jobs are already in skiplist.

Related-Bug: #1883687
Change-Id: Ief72e77b879df0e0455284707623c7f65d1e62c4
"
openstack%2Fopenstacksdk~master~I93d156eb40471d4d74f445f8988c026457b3adf4,openstack/openstacksdk,master,change-776318-3,I93d156eb40471d4d74f445f8988c026457b3adf4,Added support for the Limits resource,ABANDONED,2021-02-24 06:26:20.000000000,2021-02-24 06:29:50.000000000,,125,61,0,777303,8903a7877fedb1253bddd941df070cc386946c65,2,0,1,3,33032,Dylan Zapzalka,dylanzapzalka,"Added support for the Limits resource

Introduce the Limits resource, fill in its resources and implement API calls to support this Cinder v3 API.

Task: 41816
Story: 2008619
Change-Id: I93d156eb40471d4d74f445f8988c026457b3adf4
"
openstack%2Fneutron~stable%2Fussuri~Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,openstack/neutron,stable/ussuri,bug/1913297-stable/victoria-stable/ussuri,Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,Don't try to create default SG when security groups are disabled,MERGED,2021-02-08 10:32:02.000000000,2021-02-24 06:04:10.000000000,2021-02-24 06:01:57.000000000,19,1,0,774405,f849a4c2187e37f121448198fc327a21c359fc6c,19,5,1,2,11975,Slawek Kaplonski,slaweq,"Don't try to create default SG when security groups are disabled

If security group API is disabled, there is no point to create default
security group for tenant when e.g. network is created.

Closes-Bug: #1913297
Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa
(cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)
"
openstack%2Ftempest~master~Ia28a498fedb2b19e4b0fd84b08cce373afe568a5,openstack/tempest,master,remove-six,Ia28a498fedb2b19e4b0fd84b08cce373afe568a5,Remove usage of six,MERGED,2021-02-22 01:15:20.000000000,2021-02-24 05:24:43.000000000,2021-02-24 05:23:17.000000000,27,29,0,776856,8c3dac1abcdb7be83a94071c06316230a7ec66be,15,2,1,10,31412,Wenping Song,songwenping,"Remove usage of six

Remove six-library Replace the following items with Python 3 style code.
- six.BytesIO

Change-Id: Ia28a498fedb2b19e4b0fd84b08cce373afe568a5
"
openstack%2Fheat-translator~master~I86a0ce342ae695c9529d3cf5bd4ac3779f9a9205,openstack/heat-translator,master,remove_babel,I86a0ce342ae695c9529d3cf5bd4ac3779f9a9205,Remove depreciated file babel.cfg,MERGED,2021-02-11 11:41:58.000000000,2021-02-24 04:57:01.000000000,2021-02-24 04:55:48.000000000,0,17,1,775122,615c76b9005e15fee80c87cde37cbebe1115e8c9,18,6,2,4,32102,Manpreet Kaur,manpreet,"Remove depreciated file babel.cfg

The file babel.cfg is not used anymore.

This patch removes the depreciated file and the translation
sections in setup.cfg (extract_messages, compile_catalog and
update_catalog) as these not needed anymore,
Babel can generate translation files without them.

Change-Id: I86a0ce342ae695c9529d3cf5bd4ac3779f9a9205
"
openstack%2Fdevstack~stable%2Fvictoria~I5dc9054a1495ca0ef7745c08316441ab153956f4,openstack/devstack,stable/victoria,func-allow-existing-tox-environment,I5dc9054a1495ca0ef7745c08316441ab153956f4,Fix: do not lose the tox_environment value in func tests,MERGED,2020-10-13 11:13:23.000000000,2021-02-24 04:20:27.000000000,2021-02-24 04:19:17.000000000,5,6,0,757827,fe8a781b1fd4d841d51aff002499d18296b4b26a,14,5,1,4,10459,Luigi Toscano,ltoscano,"Fix: do not lose the tox_environment value in func tests

The current code always overrides tox_environment when running
functional tests, but the correct behavior is to add
the discovered environment variables to tox_environments,
while keeping the user-specified value for it.

The current behavior breaks the devstack-tox-functional children
jobs, like openstacksdk-functional-devstack-ironic, which set
tox_environment.

Change-Id: I5dc9054a1495ca0ef7745c08316441ab153956f4
(cherry picked from commit 906d824a1985332949090583fdc3f4a5ce30125a)
"
openstack%2Fironic~master~Ic57c4b78efea21247abdaf0feb1d90d70e6e9ec4,openstack/ironic,master,fix-list-all-policy-defaults,Ic57c4b78efea21247abdaf0feb1d90d70e6e9ec4,Reduce list_all policy rules to SYSTEM_ADMIN scope,ABANDONED,2021-02-24 03:47:30.000000000,2021-02-24 04:10:31.000000000,,3,3,0,777291,6845758c1e282476605aa2ed0b8f54daddcb54cd,4,0,1,1,7386,Tzu-Mainn Chen,tzumainn,"Reduce list_all policy rules to SYSTEM_ADMIN scope

The list_all policy rules can view all objects of that type. This
change ensures that this ability is limited to admins.

Change-Id: Ic57c4b78efea21247abdaf0feb1d90d70e6e9ec4
"
openstack%2Fcinder~stable%2Ftrain~Ib198372bf3e125a88d607c71377c95a24ab584ad,openstack/cinder,stable/train,,Ib198372bf3e125a88d607c71377c95a24ab584ad,Fixed an issue with creating a backup from snapshot with NFS volume driver.,MERGED,2021-01-07 16:50:37.000000000,2021-02-24 04:01:28.000000000,2021-02-24 04:00:00.000000000,22,12,0,769797,04198bba821d1fe77b35080ba2be0516ab262924,37,6,1,3,10459,Luigi Toscano,ltoscano,"Fixed an issue with creating a backup from snapshot with NFS volume driver.

Change-Id: Ib198372bf3e125a88d607c71377c95a24ab584ad
Closes-Bug: 1888951
(cherry picked from commit a21bf41413b8e5b56c1a61460039ec7609f45042)
(cherry picked from commit d2e9c4a43c6a1f788fa16ab424a27c1689cdfe69)
(cherry picked from commit 5fecd1450de562d6aeb064df73669311e51ec8f7)
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7,openstack/puppet-tripleo,stable/train,memcached-cert-stable/train,I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7,Add authtoken security options,MERGED,2021-02-16 09:53:29.000000000,2021-02-24 03:43:17.000000000,2021-02-24 03:42:06.000000000,397,30,0,775786,cff548bb03a75f35522d4745f4e81b5744a450b4,9,6,1,16,14250,Grzegorz Grasza,xek,"Add authtoken security options

Add ability to specify the memcache_security_strategy and
memcache_secret_key for keystone authtoken middleware.
The keys for individual services are hashed with a salt,
to isolate them.

Change-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7
(cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307)
"
openstack%2Ftripleo-ansible~master~I25f8dd51432cbcd013f030feefbe5525c157484a,openstack/tripleo-ansible,master,ephemeral-heat,I25f8dd51432cbcd013f030feefbe5525c157484a,Support OS_AUTH_TYPE=none in inventory module,MERGED,2021-02-03 01:47:34.000000000,2021-02-24 02:56:44.000000000,2021-02-24 02:53:05.000000000,9,4,0,773828,ad3e828de839c6a13f2f65c89079efea4b110b27,13,5,2,1,7144,James Slagle,slagle,"Support OS_AUTH_TYPE=none in inventory module

Adds support for when the conn.session object is of type NoAuth. This
removes the restriction for requiring credentials for an installed
undercloud when running overcloud deploy with ephemeral heat.

Change-Id: I25f8dd51432cbcd013f030feefbe5525c157484a
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fopenstack-helm-images~master~I8c658787b8f157103610f3941f40cabff16a992e,openstack/openstack-helm-images,master,,I8c658787b8f157103610f3941f40cabff16a992e,Remove Alerta from openstack-helm-image repository,MERGED,2021-02-12 19:52:52.000000000,2021-02-24 02:56:37.000000000,2021-02-24 02:52:55.000000000,0,608,1,775443,234f28c5536c25bec0a910a05eccc9c99bb627ab,14,6,1,23,31713,William Zhang,willxz,"Remove Alerta from openstack-helm-image repository

There is no significant value been added from Alerta base on current user story.

Change-Id: I8c658787b8f157103610f3941f40cabff16a992e
"
openstack%2Ftooz~master~Id8aa147958139ddb3877c9a0066aa1513f543737,openstack/tooz,master,tox-python38,Id8aa147958139ddb3877c9a0066aa1513f543737,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:07:15.000000000,2021-02-24 02:43:51.000000000,2021-02-24 02:42:21.000000000,1,1,0,761322,0187a2d24a425f400a2db1d27b2493ad00cc57d1,24,4,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Id8aa147958139ddb3877c9a0066aa1513f543737
"
openstack%2Fovsdbapp~stable%2Frocky~Ia7335e7795efcc3505fcadab4116492d5cbcd8e8,openstack/ovsdbapp,stable/rocky,oslo_lc_drop,Ia7335e7795efcc3505fcadab4116492d5cbcd8e8,Dropping lower constraints testing (stable Rocky),MERGED,2021-02-10 18:47:38.000000000,2021-02-24 02:39:40.000000000,2021-02-24 02:39:40.000000000,2,61,0,774930,212746fec7c5d85fbd0f538e14c49fe4444b55be,14,5,4,4,11952,Flavio Fernandes,ffernand,"Dropping lower constraints testing (stable Rocky)

Ported from Neutron: https://review.opendev.org/c/openstack/neutron/+/770358

This topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

As decided in Neutron meeting, stable branches will drop this
CI job [2].

Note: for rocky, this change also needed modification to
test-requirements.txt on sphinx.

[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Change-Id: Ia7335e7795efcc3505fcadab4116492d5cbcd8e8
"
openstack%2Fopenstack-helm-images~master~I844efa669c0f11004a44f20f6725338e1d2699b6,openstack/openstack-helm-images,master,,I844efa669c0f11004a44f20f6725338e1d2699b6,Align mini-mirror Dockerfile args with build.sh,MERGED,2021-02-20 03:40:07.000000000,2021-02-24 02:39:22.000000000,2021-02-22 17:01:57.000000000,6,6,0,776787,00401e1d920b1a942bc74b3397ccd3f2be2b1c09,10,7,1,2,28719,Phil Sphicas,ps3910,"Align mini-mirror Dockerfile args with build.sh

The mini-mirror build.sh script has somehow ended up out of sync with
the Dockerfiles, and is not passing the correct build-args to allow base
image overrides.

This change aligns with the standard of using BUILD_FROM (ubuntu) for
the build stage and FROM (nginx) for the final stage.

Relevant earlier changes:
0: https://review.opendev.org/714002
1: https://review.opendev.org/679315

Change-Id: I844efa669c0f11004a44f20f6725338e1d2699b6
"
openstack%2Floci~master~I04c9253af80d941afb45231bee20f7bb1c4a96d4,openstack/loci,master,,I04c9253af80d941afb45231bee20f7bb1c4a96d4,Enable Debian gate build and fix mirrors related issues,MERGED,2020-01-20 22:36:20.000000000,2021-02-24 02:35:18.000000000,2021-02-16 16:42:11.000000000,38,29,0,703513,3e5730cd5310feb71b8eae82578bf39e6cf57613,48,10,21,6,8863,Andrii Ostapenko,aostapenko,"Enable Debian gate build and fix mirrors related issues

Also fixes related issue with distutils installation for Debian Stretch
and Ubuntu Xenial with py3: unlike in Bionic, distutils is installed with
python3 and python3-distutils package is not available in these distributions.

Run Debian build with py3 against stable/train, as master requires at
least python3.6, not available for distribution out of box.

Also increases job timeout to 5400 due to increased amount of builds.

Change-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4
"
openstack%2Fpuppet-barbican~master~I7cbd1e6f2b5262e158a79153f049a0254f8f1087,openstack/puppet-barbican,master,healthcheck,I7cbd1e6f2b5262e158a79153f049a0254f8f1087,Add support for healthcheck middleware options,MERGED,2021-01-31 23:06:47.000000000,2021-02-24 02:31:54.000000000,2021-02-24 02:30:48.000000000,101,0,0,773270,81135f6835182880961d54366b2d3014ff20a306,15,3,3,3,9816,Takashi Kajinami,kajinamit,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I7cbd1e6f2b5262e158a79153f049a0254f8f1087
"
openstack%2Frequirements~master~I5c775480ed0529c179e4b92052d71b2de9d6ce0a,openstack/requirements,master,update-virtualenv-20.4.2,I5c775480ed0529c179e4b92052d71b2de9d6ce0a,update virtualenv to 20.4.2,MERGED,2021-02-23 17:29:07.000000000,2021-02-24 02:28:57.000000000,2021-02-24 02:27:35.000000000,1,1,0,777171,d58dfe571c32f374c094ac3df28a641017848946,9,2,1,1,14288,Matthew Thode,prometheanfire,"update virtualenv to 20.4.2

Change-Id: I5c775480ed0529c179e4b92052d71b2de9d6ce0a
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fswift~master~I22b8d23f32a5e776c37f711a913e4b40425d5e54,openstack/swift,master,p-shard-process-compactable,I22b8d23f32a5e776c37f711a913e4b40425d5e54,Simplify interface to sharder shrinking,MERGED,2021-02-10 12:31:08.000000000,2021-02-24 02:09:56.000000000,2021-02-24 02:08:30.000000000,48,43,2,774848,a3d77cac071ec3ba890bd13f065824cd43179000,17,2,3,3,7847,Alistair Coles,acoles,"Simplify interface to sharder shrinking

Calls to process_compactible_shard_sequences were always followed by
calls to finalize_shrinking, so simplify the sharder module interface
by making process_compactible_shard_sequences call finalize_shrinking.

Change-Id: I22b8d23f32a5e776c37f711a913e4b40425d5e54
"
openstack%2Frequirements~master~If75efd7f5edebdb31307a4389be60c09133413fe,openstack/requirements,master,openstack/requirements/constraints/noclob,If75efd7f5edebdb31307a4389be60c09133413fe,Updated from generate-constraints,MERGED,2021-02-23 06:27:32.000000000,2021-02-24 02:09:44.000000000,2021-02-24 02:08:26.000000000,3,3,0,777053,2b4a543f98169bf33b17e7b698c83da87143545d,13,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: If75efd7f5edebdb31307a4389be60c09133413fe
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fopenstack-helm-infra~master~Ifd07a13cc63f1ba610a3f70052ec64be9db3b09c,openstack/openstack-helm-infra,master,,Ifd07a13cc63f1ba610a3f70052ec64be9db3b09c,Fix elasticsearch-master rendering error,MERGED,2021-02-23 20:22:17.000000000,2021-02-24 01:49:50.000000000,2021-02-24 01:48:15.000000000,2,2,0,777215,b11fa5509b48afd1bef335cf0adabbdfa67a6719,12,7,1,2,28719,Phil Sphicas,ps3910,"Fix elasticsearch-master rendering error

Update the elasticsearch-master statefulset to use the correct
helm-toolkit snippet for the update strategy.

Change-Id: Ifd07a13cc63f1ba610a3f70052ec64be9db3b09c
"
openstack%2Fcinder~master~Icc1b2f580bda9759e40ed9d32fffd9b1279c1e91,openstack/cinder,master,bug/1883470,Icc1b2f580bda9759e40ed9d32fffd9b1279c1e91,Avoid rbd import operation to reduce encryption volume creation time,ABANDONED,2020-07-14 10:08:26.000000000,2021-02-24 00:59:17.000000000,,24,28,3,740931,5040929a1868f5a12a765fa0579089961333d2dc,79,22,3,1,32098,wanwencong,wanwencong,"Avoid rbd import operation to reduce encryption volume creation time

Because rbd import needs to scan the whole space, it is very
time-consuming to create a large capacity encrypted volume.
Creating a 2TB encrypted volume takes more than half an hour.
Change the target path of qemu-img create cmd from a local
address to a RBD address to avoid executing the rbd import
operation, so the creation time can be reduced from tens of
minutes to tens of seconds.

Change-Id: Icc1b2f580bda9759e40ed9d32fffd9b1279c1e91
Closes-Bug: #1697422
"
openstack%2Fnova~master~Id4684093e8bdf3b61667490443e3d2f6ed65f4b3,openstack/nova,master,bp/support-interface-attach-with-qos-ports,Id4684093e8bdf3b61667490443e3d2f6ed65f4b3,Support interface attach with QoS ports,MERGED,2020-10-07 14:51:22.000000000,2021-02-24 00:53:58.000000000,2021-02-22 16:30:25.000000000,944,28,141,756530,5af28c4de5eeace702cb76aa8540533ef77b9016,146,11,22,13,9708,Balazs Gibizer,gibi,"Support interface attach with QoS ports

The following logic is added to the ComputeManager attach_interface
flow:

* gather the resource request of the port from neutron
* query allocation candidates restricted to the current compute node
  from placement
* extend the existing allocation of the instance with one of the
  allocation candidates in placement
* update the InstancePCIRequest (if any) to ensure that the PCI claim
  only allocates VF from the PF the placement resources are allocated from
* ensure that during port binding neutron gets the RP UUID, the resources
  are allocated from, in the allocation key of the binding profile

This patch bumps the compute service version to indicate that QoS
interface attach is supported. Also the check that was so far rejected
such attach is now updated to only reject it if the compute service
version is too old.

The ""scheduling"" during interface attach for PCI backed ports has the
same limitation as normal scheduling for such ports. It always selects
the first allocation candidate returned by placement even if later in
the process it turns out that such allocation candidate points to a PCI
PF that has no free VFs left.

Blueprint: support-interface-attach-with-qos-ports

Change-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3
"
openstack%2Fcinder~master~I38903281c4aa2c05a9ed5ee28d8976b8e40e088f,openstack/cinder,master,tempest-no-member,I38903281c4aa2c05a9ed5ee28d8976b8e40e088f,DNM: testing Tempest without 'member' role,ABANDONED,2021-02-08 22:49:42.000000000,2021-02-24 00:44:01.000000000,,1,0,0,774557,4f82a817b4a32d11342d40ef14fb203053624ccd,45,1,1,1,8556,Ghanshyam,ghanshyam,"DNM: testing Tempest without 'member' role

Depends-On: https://review.opendev.org/c/openstack/devstack/+/774524
Change-Id: I38903281c4aa2c05a9ed5ee28d8976b8e40e088f
"
openstack%2Fnova~master~I6a54b863c1715e7bca037683f8795921ccb3b11e,openstack/nova,master,tempest-no-member,I6a54b863c1715e7bca037683f8795921ccb3b11e,DNM: testing Tempest without 'member' role,ABANDONED,2021-02-08 22:49:52.000000000,2021-02-24 00:43:53.000000000,,1,1,0,774559,f45831bd3b6527c2ea3336b744f0618125b53eb5,24,1,1,1,8556,Ghanshyam,ghanshyam,"DNM: testing Tempest without 'member' role

Depends-On: https://review.opendev.org/c/openstack/devstack/+/774524
Change-Id: I6a54b863c1715e7bca037683f8795921ccb3b11e
"
openstack%2Ftempest~master~I3f1803cdd00ecd953ae10009402259e091129d56,openstack/tempest,master,tempest-no-member,I3f1803cdd00ecd953ae10009402259e091129d56,DNM: testing Tempest without 'member' role,ABANDONED,2021-02-08 22:49:34.000000000,2021-02-24 00:43:48.000000000,,1,0,0,774556,5317b0c16f828c83eb760a1bed6980ffeee3df52,5,1,1,1,8556,Ghanshyam,ghanshyam,"DNM: testing Tempest without 'member' role

Depends-On: https://review.opendev.org/c/openstack/devstack/+/774524
Change-Id: I3f1803cdd00ecd953ae10009402259e091129d56
"
openstack%2Fneutron~master~I044fe4b8068861e5ef66f709152e2a727f65dd88,openstack/neutron,master,tempest-no-member,I044fe4b8068861e5ef66f709152e2a727f65dd88,DNM: testing Tempest without 'member' role,ABANDONED,2021-02-08 22:49:48.000000000,2021-02-24 00:43:39.000000000,,1,1,0,774558,13204b27cc95b3efba330034e3511fc7d1b02c2b,5,1,1,1,8556,Ghanshyam,ghanshyam,"DNM: testing Tempest without 'member' role

Depends-On: https://review.opendev.org/c/openstack/devstack/+/774524
Change-Id: I044fe4b8068861e5ef66f709152e2a727f65dd88
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I0048fec8c1e19bd20b1edcd23f2490456fe1cd12,openstack/tripleo-ansible,stable/ussuri,bug/1914018,I0048fec8c1e19bd20b1edcd23f2490456fe1cd12,Make server group quota unlimited for Octavia,MERGED,2021-02-09 11:28:15.000000000,2021-02-24 00:36:44.000000000,2021-02-24 00:36:44.000000000,4,1,0,774495,1d28de2281174e59a6df9bfad32a76b6b6e614e6,13,6,2,1,33061,Srinivas Atmakuri,Srini0908,"Make server group quota unlimited for Octavia

When a user creates a HA load balancer in Octavia, Octavia creates
server groups as part of the load balancer resources. However because
the default quotas related to server group are very low and we have all
load balancer resources in the common service project, users can create
very limited number of HA load balancers by default.

This patch disables the quota limits of the server-group-members and
server-groups of the service project, so that HA load balancer creation
is not blocked by these quotas.

Closes-Bug: #1914018
Change-Id: I0048fec8c1e19bd20b1edcd23f2490456fe1cd12
(cherry picked from commit 06470bc4d64c9e832d06a2e54ae6a3363a720008)
(cherry picked from commit 56ab6452c628c4a801152310d6b3ae37684f0d0f)
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I0048fec8c1e19bd20b1edcd23f2490456fe1cd12,openstack/tripleo-ansible,stable/victoria,bug/1914018,I0048fec8c1e19bd20b1edcd23f2490456fe1cd12,Make server group quota unlimited for Octavia,MERGED,2021-02-05 12:11:07.000000000,2021-02-24 00:36:41.000000000,2021-02-24 00:36:41.000000000,4,1,0,774131,56ab6452c628c4a801152310d6b3ae37684f0d0f,12,6,1,1,33061,Srinivas Atmakuri,Srini0908,"Make server group quota unlimited for Octavia

When a user creates a HA load balancer in Octavia, Octavia creates
server groups as part of the load balancer resources. However because
the default quotas related to server group are very low and we have all
load balancer resources in the common service project, users can create
very limited number of HA load balancers by default.

This patch disables the quota limits of the server-group-members and
server-groups of the service project, so that HA load balancer creation
is not blocked by these quotas.

Closes-Bug: #1914018
Change-Id: I0048fec8c1e19bd20b1edcd23f2490456fe1cd12
(cherry picked from commit 06470bc4d64c9e832d06a2e54ae6a3363a720008)
"
openstack%2Fcharm-mysql-innodb-cluster~master~I8be38470fe29b40c18cdbc14bfeeeca4560fcf7c,openstack/charm-mysql-innodb-cluster,master,revert-departed,I8be38470fe29b40c18cdbc14bfeeeca4560fcf7c,"Revert ""Clear ssl_ca when certificates relation departs""",ABANDONED,2021-02-08 17:04:21.000000000,2021-02-23 23:38:14.000000000,,1,16,0,774519,d34d88fef8b63ac010204e268989405f2282fe8c,16,5,2,2,20805,David Ames,thedac,"Revert ""Clear ssl_ca when certificates relation departs""

This reverts commit ee2aff9278c5d903cb892241e7c90bd6fa8e65b3.

Change-Id: I8be38470fe29b40c18cdbc14bfeeeca4560fcf7c
"
openstack%2Fswift~master~Ia4b73ea1b22ba2d86f595fcd5c8cbc3209f56f41,openstack/swift,master,,Ia4b73ea1b22ba2d86f595fcd5c8cbc3209f56f41,Only count asyncs once per IP,NEW,2020-10-16 17:42:02.000000000,2021-02-23 23:28:02.000000000,,19,8,1,758605,ff7398a48d0357e28a249ba814c12da44d8e7551,19,2,2,2,15343,Tim Burke,tburke,"Only count asyncs once per IP

Change-Id: Ia4b73ea1b22ba2d86f595fcd5c8cbc3209f56f41
Closes-Bug: #1612168
"
openstack%2Fopenstacksdk~master~I3136eefe7733edb0a05c2e5ee6b90c74781d5bc2,openstack/openstacksdk,master,2008193-40958,I3136eefe7733edb0a05c2e5ee6b90c74781d5bc2,Support Introspection rules for ironic API,NEW,2021-02-16 17:22:12.000000000,2021-02-23 23:26:08.000000000,,221,0,18,775878,95d16a7b054c9dd29a860a3f0256d8a82338370b,7,2,2,6,32518,Anuradha,anuradha1904,"Support Introspection rules for ironic API

1. Create Introspection Rule
2. Get Introspection Rules
3. Get Introspection Rule
4. Delete Introspection Rules
5. Delete Introspection Rule

Story: 2008193
Task: 40958
Change-Id: I3136eefe7733edb0a05c2e5ee6b90c74781d5bc2
"
openstack%2Fcharm-deployment-guide~master~I51f57ee5a4c29527d3306d2b082a89cd77f1aec9,openstack/charm-deployment-guide,master,add-placement-charm-to-special-procedures,I51f57ee5a4c29527d3306d2b082a89cd77f1aec9,Add placement charm to special procedures,MERGED,2021-02-23 01:55:45.000000000,2021-02-23 23:17:49.000000000,2021-02-23 23:16:32.000000000,63,49,0,777042,b704d782066dacf2d5a01ebeb51ab32a36515cff,7,2,1,6,30561,Peter Matulis,pmatulis,"Add placement charm to special procedures

* Retitle 'Special charm upgrade procedures' to
  'Special charm procedures' to make it sound more
  general. Reword the opening paragraph to be more
  concise and more accurate.

* Move the introduction of the placement charm from
  the 'Known issues' page (and re-worded slightly)
  to the 'Special charm procedures' page. Make it clear
  that the former page is for software limitations/bugs.

* Add the 'Special charm procedures' page to the list
  of resources to read on several of the upgrade pages.

* Add the 'Upgrade issues' page to the list of resources
  to read on the 'Upgrade charms' page.

Change-Id: I51f57ee5a4c29527d3306d2b082a89cd77f1aec9
"
openstack%2Ftripleo-ansible~master~Ic56873960a11a7a6d828d9ff588f47fa404b5e16,openstack/tripleo-ansible,master,ephemeral-heat,Ic56873960a11a7a6d828d9ff588f47fa404b5e16,Don't query neutron ports to determine ssh user,MERGED,2021-02-03 01:47:34.000000000,2021-02-23 23:06:53.000000000,2021-02-23 23:06:53.000000000,1,22,0,773827,8b1c0c1cefd0babc648f5b2eceabe8241955675d,11,4,2,1,7144,James Slagle,slagle,"Don't query neutron ports to determine ssh user

ssh_user already defaults to heat-admin, so there is no reason to query
Neutron to attempt to determine the default ssh user. The default value
can just be used, or be overridden with tripleoclient's
--overcloud-ssh-user.

This removes a hard dependency on Neutron being installed on the
undercloud, which is not actually needed.

Change-Id: Ic56873960a11a7a6d828d9ff588f47fa404b5e16
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fcharm-deployment-guide~master~I06aef99300b317843b38d5594b55cf1c4f690a69,openstack/charm-deployment-guide,master,review-readme,I06aef99300b317843b38d5594b55cf1c4f690a69,Review README,MERGED,2021-02-12 20:44:14.000000000,2021-02-23 23:05:45.000000000,2021-02-23 23:05:45.000000000,29,21,1,775447,1e20cf3a0f4f3a80791fff232d1183348c941023,10,3,2,1,30561,Peter Matulis,pmatulis,"Review README

Improve organisation

Provide better information

Use proper formatting

Change-Id: I06aef99300b317843b38d5594b55cf1c4f690a69
"
openstack%2Ftripleo-ansible~master~If66c9974b574813e6c24c1f8b4045bf839056988,openstack/tripleo-ansible,master,network-data-v2,If66c9974b574813e6c24c1f8b4045bf839056988,Fix network port unprovision,MERGED,2021-01-27 20:08:11.000000000,2021-02-23 23:01:18.000000000,2021-02-23 22:59:40.000000000,1,1,0,772765,fc559ca68cdc04ae4b4a2a8c9b325d0d665563df,15,5,3,1,24245,Harald Jensås,harald.jensas,"Fix network port unprovision

Ansible step ""Unprovision instance network ports"" is failing
with ""Error managing network ports 'NoneType' object is not
subscriptable"" because the 'hostname_role_map' is None in
the unprovision case.

Move the code accessing it into the state 'present' code
block.

Partial-Implements: blueprint network-data-v2-ports
Change-Id: If66c9974b574813e6c24c1f8b4045bf839056988
"
openstack%2Fpuppet-neutron~master~I8891efc94ceafe7ee7c789b68c410629fc240c91,openstack/puppet-neutron,master,plugins-ml2,I8891efc94ceafe7ee7c789b68c410629fc240c91,Replace vnic_type_blacklist by vnic_type_prohibit_list,MERGED,2021-01-02 02:09:28.000000000,2021-02-23 22:54:46.000000000,2021-02-23 22:53:23.000000000,67,22,0,768836,2c5ed70823415e4cfe35ddf1555ee63df61be9b3,17,3,5,5,9816,Takashi Kajinami,kajinamit,"Replace vnic_type_blacklist by vnic_type_prohibit_list

... to follow renaming in neutron[1].

[1] 055036ba2bc1fd1cfc54ef63dc6cb82037111950

Change-Id: I8891efc94ceafe7ee7c789b68c410629fc240c91
"
openstack%2Ftripleo-ansible~master~I6fa8fc86710e61bc2cb791399973137e056c6c8a,openstack/tripleo-ansible,master,,I6fa8fc86710e61bc2cb791399973137e056c6c8a,Remove cli-generate-overcloudrc.yaml playbook,MERGED,2021-02-23 03:21:30.000000000,2021-02-23 22:53:53.000000000,2021-02-23 22:52:16.000000000,0,206,0,777045,ded71758e20a5f1bb3924a273dc02c3215f004fb,10,4,2,3,8833,Rabi Mishra,rabi,"Remove cli-generate-overcloudrc.yaml playbook

Not used anymore.

Change-Id: I6fa8fc86710e61bc2cb791399973137e056c6c8a
"
openstack%2Fcinder~master~I12c0fca04dd836ca63a409047f30d2585929c006,openstack/cinder,master,,I12c0fca04dd836ca63a409047f30d2585929c006,PowerMax Docs - Incorrect property set on volume group,MERGED,2020-08-04 15:41:46.000000000,2021-02-23 22:51:20.000000000,2021-02-23 22:42:46.000000000,2,3,0,744738,61d612e64959078d7de619694dda2d8b468fecaf,43,28,2,1,12670,Helen Walsh,walshh2,"PowerMax Docs - Incorrect property set on volume group

Property replication_enabled is replaced with the correct
consistent_group_snapshot_enabled property.

Change-Id: I12c0fca04dd836ca63a409047f30d2585929c006
"
openstack%2Ftempest~master~I31f487694e5f5e586f99323c81e45f43306606fb,openstack/tempest,master,volume-default-testing-v3,I31f487694e5f5e586f99323c81e45f43306606fb,Remove deprecated config options for volume API selection,MERGED,2019-12-12 16:44:53.000000000,2021-02-23 22:50:12.000000000,2021-02-23 22:42:23.000000000,90,187,1,698754,449287d45ebcd435225f7aac86b7a2c953108a19,20,4,6,6,8556,Ghanshyam,ghanshyam,"Remove deprecated config options for volume API selection

Volume APIs tests have been moved to v3 as default and can be run
under v2 API via catalog_type.
- https://review.opendev.org/#/q/topic:volume-default-testing-v3+(status:open+OR+status:merged)

Below config options were deprecated since Rocky and now time to remove them:
    * ``CONF.volume-feature-enabled.api_v2``
    * ``CONF.volume-feature-enabled.api_v3``

Change-Id: I31f487694e5f5e586f99323c81e45f43306606fb
"
openstack%2Fglance~master~I7dec6b9919e7679aff1a0bb5db1e806384730386,openstack/glance,master,secure-rbac-handle-members,I7dec6b9919e7679aff1a0bb5db1e806384730386,Bump requirements to prepare for secure RBAC,MERGED,2020-11-25 20:01:28.000000000,2021-02-23 22:49:21.000000000,2021-02-23 22:43:08.000000000,18,18,6,764236,764f29a99d27edb2d8bf9d299deabcdb84ac08d6,68,4,12,3,5046,Lance Bragstad,ldbragst,"Bump requirements to prepare for secure RBAC

To implement proper scope checking, we need some updated libraries that
properly handle tokens and relay that information to the underlying
service. This commit updates the oslo.policy, oslo.context, oslo.log,
and keystonemiddleware requirements to versions that understand all the
various scopes so that we can update the default policies.

Additionally, this commit updates transitive dependencies in
requirements.txt and lower-constraints.txt to install properly with
lower-constraints defined.

Implements: blueprint secure-rbac

Change-Id: I7dec6b9919e7679aff1a0bb5db1e806384730386
"
openstack%2Fnova~master~I58b0382c86d4ef798572edb63d311e0e3e6937bb,openstack/nova,master,bug/1887735,I58b0382c86d4ef798572edb63d311e0e3e6937bb,Refactor and rename test_tcp_rst_no_compute_rpcapi,MERGED,2020-07-16 01:02:44.000000000,2021-02-23 22:49:13.000000000,2021-02-23 22:41:06.000000000,31,9,1,741351,f6bacd3fde9d4f0de638dc2bb3ba2ac2520df874,28,9,4,1,4690,melanie witt,melwitt,"Refactor and rename test_tcp_rst_no_compute_rpcapi

The NovaProxyRequestHandlerTestCase.test_tcp_rst_no_compute_rpcapi test
fails with mock==4.0.2 because mock is calling the
NovaProxyRequestHandler class's compute_rpcapi @property while creating
mock autospecs. The test asserts that the @property is not called when
a TCP RST is received, so mock calling the @property itself causes the
test to fail erroneously.

This is also the case in the built-in unittest.mock in python 3.8 [1].

We can refactor (and rename) this unit test to more concisely test the
desired behavior when TCP RST or otherwise unvalidated requests are
handled by the console proxy request handler. This has the benefit of
(1) making the test work with mock==4.0.2 and python 3.8 and (2)
removing unnecessary dependency and potentially incorrect assumptions
about the internal details of websockify.

Closes-Bug: #1887735

[1] https://bugs.python.org/issue41768

Change-Id: I58b0382c86d4ef798572edb63d311e0e3e6937bb
"
openstack%2Fneutron~master~Ie33514da28991fa5952a1d8c289402ecb9ffee49,openstack/neutron,master,improve-neutron-ci,Ie33514da28991fa5952a1d8c289402ecb9ffee49,Limit execution of the neutron CI jobs on some irrelevant file,MERGED,2021-02-09 11:33:14.000000000,2021-02-23 22:49:03.000000000,2021-02-23 22:40:09.000000000,281,88,21,774626,adb3e943b11415b085ebbbb7f23653aeb87d6ec5,38,6,5,7,11975,Slawek Kaplonski,slaweq,"Limit execution of the neutron CI jobs on some irrelevant file

This patch tries to make execution of the CI jobs in the Neutron
queue to be more smart. There is no need to e.g. run
linuxbridge scenario jobs job when only changed files in patch
are in e.g. the openvswitch agent module, or vice versa.

Change-Id: Ie33514da28991fa5952a1d8c289402ecb9ffee49
"
openstack%2Ftempest~master~I1b4601e2ce6c83ec727b6dea65c67cacbfcfe957,openstack/tempest,master,,I1b4601e2ce6c83ec727b6dea65c67cacbfcfe957,Add option to support volume_type in volume creation,MERGED,2021-02-16 13:30:38.000000000,2021-02-23 22:48:54.000000000,2021-02-23 22:41:59.000000000,10,0,6,775830,46d540d33eea2656e8a9d47da5baeedaccf7e349,15,15,1,2,31112,ansuman bebarta,ansumanbebarta,"Add option to support volume_type in volume creation

The volume creation uses default volume type from the backend. In
case of multiple backend, at the moment there is no option to test
volume test cases with volume type which is not default volume type.

Add a new config volume_type in tempest.conf.
Change the code to create volumes with volume_type mentioned in
the config.
Make sure when volume_type is not specified then volume will be
created with default volume type.

Change-Id: I1b4601e2ce6c83ec727b6dea65c67cacbfcfe957
"
openstack%2Fdevstack~stable%2Fstein~I334551197381a8242d9dd613dc2ff23aba81e45e,openstack/devstack,stable/stein,,I334551197381a8242d9dd613dc2ff23aba81e45e,Set temepst tox constraints to stable constraints,MERGED,2021-02-20 23:24:28.000000000,2021-02-23 22:48:48.000000000,2021-02-23 22:40:19.000000000,8,0,0,776811,d182ffc45eb053f7bfc1f31ae3cf65757f4b9ae6,9,5,1,1,8556,Ghanshyam,ghanshyam,"Set temepst tox constraints to stable constraints

stable/stein is now in EM state and use old Tempest
26.0.0. For zuulv3 native jobs everything is fine
as tox constraints things are taken care in run-tempest
role.

But legacy job started failing on stable/stein
example- designate-devstack-pdns4 on stable/stein
- https://zuul.opendev.org/t/openstack/build/35fd0a4c76e0482e88ed32ef0840291d

To fix legacy jobs we need to set the tox env var while
isntalling the tempest in venv which is where very first time
tempest venv is being created. This will make tox constraints
match with what d-g set and will not recreate the tempest venv.

Change-Id: I334551197381a8242d9dd613dc2ff23aba81e45e
"
openstack%2Fglance~master~Iaa5566eb8f4216ab7c3e5282fff664e2e7953c63,openstack/glance,master,fix-migration-version,Iaa5566eb8f4216ab7c3e5282fff664e2e7953c63,DNM: checking whether empty migrations are needed,ABANDONED,2020-01-03 16:12:18.000000000,2021-02-23 22:44:58.000000000,,8,41,0,701041,e217b76ad9b615e06354752e328152d5157f890a,8,3,2,3,5314,Brian Rosmaita,brian-rosmaita,"DNM: checking whether empty migrations are needed

Change-Id: Iaa5566eb8f4216ab7c3e5282fff664e2e7953c63
"
openstack%2Fdevstack-gate~master~I36799ee9d4db20104377e2772c86229b8083448d,openstack/devstack-gate,master,,I36799ee9d4db20104377e2772c86229b8083448d,Use stable constraints for Tempest venv for stable/stein testing,MERGED,2021-02-19 23:50:06.000000000,2021-02-23 22:40:34.000000000,2021-02-23 22:40:34.000000000,1,1,0,776722,d20e76343a668c5df322c56eb35eb6f9de73dc41,15,4,3,1,8556,Ghanshyam,ghanshyam,"Use stable constraints for Tempest venv for stable/stein testing

As stable/stein is in Extended Maintenance state, we use old Tempest
26.0.0 for its testing
- https://review.opendev.org/c/openstack/devstack/+/774103

For old Tempest, we need to use the stable constraints otherwise
it recreate the tempest venv and remove the initial installed tempest
plugins which causes the error while running plugins tests

Example: https://zuul.opendev.org/t/openstack/build/bae42db334ca4b69ab3f4b1c440bcb6a/log/job-output.txt#2444-2454

For Devstack side, I am making the constraints setting more
standardize in below series but for legacy job we need the fix here.
- https://review.opendev.org/q/topic:%22standardize-tempest-tox-constraints%22+(status:open%20OR%20status:merged)

Depends-On: https://review.opendev.org/c/openstack/devstack/+/776811
Depends-On: https://review.opendev.org/c/openstack/tempest/+/774060

Change-Id: I36799ee9d4db20104377e2772c86229b8083448d
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I918b6c16db6ed70d9ad612aecd7af7d725520f7b,openstack/tripleo-heat-templates,stable/train,train-pcshost,I918b6c16db6ed70d9ad612aecd7af7d725520f7b,pcs commands on host: ovn dbs,MERGED,2021-02-18 13:48:08.000000000,2021-02-23 22:26:29.000000000,2021-02-23 22:26:29.000000000,29,23,0,776457,656a6f50d41c062ad46dd445395f50dfee275a3c,18,4,3,1,20172,Michele Baldessari,michele,"pcs commands on host: ovn dbs

We add the following depends on because at this stage ovn will be
created on the host and the resource-agent won't be present so
we have to be able to tell pcs to ignore the non existance of the
ovn-dbs ocfg resource on the host.

NB: Some conflicts due to context differences
NB: We need to specify a manifest so that container-puppet.py creates at
    least an empty directory (post-ussuri seemingly do not need this)

Depends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4
Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696

Change-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b
Related-Bug: #1863442
(cherry picked from commit 4e76e1fb72ce1af012abf412c179d286fd127bd9)
(cherry picked from commit ec70716ad874d36babbefe8852c1e9a37f1518b8)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia4399b632257e693fb2c516e487856331149589d,openstack/tripleo-heat-templates,stable/train,train-pcshost,Ia4399b632257e693fb2c516e487856331149589d,pcs commands on host: cinder backup/volume,MERGED,2021-02-18 13:42:23.000000000,2021-02-23 22:26:06.000000000,2021-02-23 22:26:06.000000000,45,90,0,776456,327f0e503892bf5a97121dc455c5b409e2759794,12,4,1,2,20172,Michele Baldessari,michele,"pcs commands on host: cinder backup/volume

This implements the creation of the haproxy bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

NB: Some conflicts due to context differences

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696
Change-Id: Ia4399b632257e693fb2c516e487856331149589d
Related-Bug: #1863442
(cherry picked from commit f37f21f31df12e553d1940fce08195fcb18ccf3c)
(cherry picked from commit 4f56371f912f468758c3533079872b7e69d4c32f)
"
openstack%2Fglance~master~I90d97c7181bd2d449615732a61bd3d8074e93adc,openstack/glance,master,secure-rbac-handle-members,I90d97c7181bd2d449615732a61bd3d8074e93adc,Explicitly unset tempest_roles in devstack plugin,ABANDONED,2021-02-05 21:15:14.000000000,2021-02-23 22:23:53.000000000,,4,0,0,774308,e1cd1f49021b8aa81dc67fc6d691594daf158d20,30,3,7,1,5046,Lance Bragstad,ldbragst,"Explicitly unset tempest_roles in devstack plugin

We need to do this in order to use dynamic credentials in tempest
without having the 'member' role added to personas we only want to have
the 'reader' role.

Implements: blueprint secure-rbac

Change-Id: I90d97c7181bd2d449615732a61bd3d8074e93adc
"
openstack%2Fopenstack-ansible-os_adjutant~master~I9ff87abc0d4298e428b936243b5f73992958831d,openstack/openstack-ansible-os_adjutant,master,reno_build,I9ff87abc0d4298e428b936243b5f73992958831d,[reno] Stop publishing release notes,MERGED,2021-01-22 16:24:21.000000000,2021-02-23 22:23:22.000000000,2021-02-23 22:15:11.000000000,1,1,0,772020,5846076508d7e22feb3a4fea17dc982569133cd9,12,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I9ff87abc0d4298e428b936243b5f73992958831d"
openstack%2Ftripleo-common~stable%2Ftrain~I5fa3bb41403620e8bd9521e3c0e61570e202148f,openstack/tripleo-common,stable/train,dash-tcib,I5fa3bb41403620e8bd9521e3c0e61570e202148f,Add SITE_PACKAGES variable to horizon extend_start,MERGED,2021-02-18 14:46:02.000000000,2021-02-23 22:23:15.000000000,2021-02-23 22:18:41.000000000,1,0,0,776444,c24347cbbfb259506d4eed7fbc32a58158a30e97,10,3,1,1,7353,Kevin Carter,cloudnull,"Add SITE_PACKAGES variable to horizon extend_start

This change adds a missing export. Without this change the horizon
dashboards are all broken becuase the functions are able to
correctly copy the dashboards plugins to the appropriate locations.

Signed-off-by: Kevin Carter <kecarter@redhat.com>
Change-Id: I5fa3bb41403620e8bd9521e3c0e61570e202148f
(cherry picked from commit 8daeeef06733500efff45faf8f6a44ba0e48ecad)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I853bcf354f64ef88cec9e68ad5c123e4af786de3,openstack/tripleo-heat-templates,stable/train,train-pcshost,I853bcf354f64ef88cec9e68ad5c123e4af786de3,pcs commands on host: rabbitmq,MERGED,2021-02-18 13:58:01.000000000,2021-02-23 22:21:23.000000000,2021-02-23 22:21:23.000000000,78,57,0,776459,60cd610f9d52c487e056904c25137ad65a1f9140,15,4,1,3,20172,Michele Baldessari,michele,"pcs commands on host: rabbitmq

This implements the creation of the rabbitmq bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

NB: The init_bundle now has become the wait_bundle
as it just waits for rabbitmq to be up and functional

NB2: Slightly not 100% due to different context (missing
I1873baab4325521dbcdc142462940ee3cf370c1b) and others

NB3: We cherry-picked I0762b3ed7d881babfecc49b1a0e3798eb3efbddb
     inside this review in order for the upgrade job to pass
     (Make sure we noop the Rabbitmq_ providers)

Related-Bug: #1863442

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696
Change-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3
(cherry picked from commit 29bc3de01dc39bb02eb7e7c27cc3661c591143bb)
(cherry picked from commit 0ad2358067c0aff0bd36c1b31c8d9eaba9b3280c)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5ce8367363d535b71b01395b0bef4cf17c8935b5,openstack/tripleo-heat-templates,stable/train,train-pcshost,I5ce8367363d535b71b01395b0bef4cf17c8935b5,pcs commands on host: redis bundle,MERGED,2021-02-18 13:21:19.000000000,2021-02-23 22:21:17.000000000,2021-02-23 22:21:17.000000000,22,68,0,776431,67e5d621ecd10b7e519b12faace38f0001899191,15,4,1,1,20172,Michele Baldessari,michele,"pcs commands on host: redis bundle

This implements the creation of the redis bundle on the host.
The testing protocol used is documented in the depends-on.

The full rationale is contained in the LP bug.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

Related-Bug: #1863442

NB: Conflicts mainly due to context diffs

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696

Change-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5
(cherry picked from commit 83d1cb585268177ef6f685e689d5aa34b24c8056)
(cherry picked from commit 0eb998930011ee3fc13ecc188dbeb578f185b1ec)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370,openstack/tripleo-heat-templates,stable/train,train-pcshost,Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370,pcs commands on host: mysql,MERGED,2021-02-18 13:28:33.000000000,2021-02-23 22:20:56.000000000,2021-02-23 22:20:56.000000000,26,19,0,776433,07d8f2082560498ef7529d789062f6108e3dc5c1,14,4,1,1,20172,Michele Baldessari,michele,"pcs commands on host: mysql

This implements the creation of the haproxy bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

NB: in this case we keep the container init_bundle (renamed to
wait_bundle) around just use it to wait for galera to be up.

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696

NB: We also merged Ic6c65e6849368185177aeaa31d50f52761225f62
    in this review so that the ussuri upgrade job can pass
    (Make sure we noop the Mysql_ providers)

NB: Some conflicts due to context differences

Change-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370
Related-Bug: #1863442
(cherry picked from commit da3d5e80562f7aa3d0039d44a2fd0a2f4c093cf4)
(cherry picked from commit be1fee4af6a5ed7ef4eff4ede26f5d3666132398)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If5730dba4973a5927c84565b6a65398ea1d7072f,openstack/tripleo-heat-templates,stable/train,train-pcshost,If5730dba4973a5927c84565b6a65398ea1d7072f,pcs commands on host: manila-share,MERGED,2021-02-18 14:04:05.000000000,2021-02-23 22:20:50.000000000,2021-02-23 22:20:50.000000000,22,45,0,776462,4db5462608380db3bcdf418fcb5a67f05ce69a2e,12,4,1,1,20172,Michele Baldessari,michele,"pcs commands on host: manila-share

This implements the creation of the manila-share bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

NB: Some conflicts due to context differences

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696
Depends-On: Ifb81d155cbb4598a311c8e6fe90be951a8e7e656

Change-Id: If5730dba4973a5927c84565b6a65398ea1d7072f
Related-Bug: #1863442
(cherry picked from commit a1bee391361cde4345c2b78770865dab0278785e)
(cherry picked from commit 06209fa28f35f968235fc96989a333fb950df850↲)
"
openstack%2Fkayobe-config-dev~master~I02be84d079f3effe559bd501622642f1c9601b45,openstack/kayobe-config-dev,master,,I02be84d079f3effe559bd501622642f1c9601b45,Reduce neutron RPC workers to 1,MERGED,2021-02-23 09:29:13.000000000,2021-02-23 22:19:48.000000000,2021-02-23 22:19:48.000000000,1,0,0,777075,6e7e3ae18c92df78bab79d572cf60a954e80da19,13,4,1,1,14826,Mark Goddard,mgoddard,"Reduce neutron RPC workers to 1

This should reduce the memory overhead of these processes

Change-Id: I02be84d079f3effe559bd501622642f1c9601b45
"
openstack%2Ftripleo-heat-templates~master~Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33,openstack/tripleo-heat-templates,master,include-host-prep,Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33,Use include task for host prep tasks,MERGED,2021-02-22 14:09:34.000000000,2021-02-23 22:19:07.000000000,2021-02-23 22:19:07.000000000,1,1,0,776938,73043121e3e05d7ab67503752165da53431a9b34,9,5,1,1,14985,Alex Schultz,mwhahaha,"Use include task for host prep tasks

Import tasks causes the tasks always to be pulled in and just skipped at
run time. This is terribly slow with more roles even when not running
against those hosts.  A similar effort was applied to the update process
I2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used
here.

Change-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33
Related-Bug: #1915761
"
openstack%2Ftripleo-common~stable%2Fqueens~Iefb3d6b3c4800e6948d44c9419f6690d5220a399,openstack/tripleo-common,stable/queens,bug/1916459,Iefb3d6b3c4800e6948d44c9419f6690d5220a399,[queens] Don't use service_facts,MERGED,2021-02-22 12:04:12.000000000,2021-02-23 22:19:02.000000000,2021-02-23 22:19:02.000000000,7,6,0,776925,b3183235a93075dbc5179349bedb57295c4207b0,23,5,4,1,8833,Rabi Mishra,rabi,"[queens] Don't use service_facts

Don't use service_facts to check if NetworkManager is enabled.
We're removing facts usage as it has performance issues and
ansible 2.6 service_facts module does not have 'status'.

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/777051
Closes-Bug: #1916459
Change-Id: Iefb3d6b3c4800e6948d44c9419f6690d5220a399
"
openstack%2Fpuppet-pacemaker~master~Ie07b37581e844b64063e5e501f09edf4c8ef24e3,openstack/puppet-pacemaker,master,,Ie07b37581e844b64063e5e501f09edf4c8ef24e3,Make pcs resource config/show work depending on the installed pcs version,MERGED,2021-02-22 20:34:22.000000000,2021-02-23 22:18:46.000000000,2021-02-23 22:18:46.000000000,16,5,0,777000,6e272bf9ec7082a9cb935c6dfa53b2eff0ef5e74,10,4,2,5,20172,Michele Baldessari,michele,"Make pcs resource config/show work depending on the installed pcs version

When we added Id8807a644a6d53f89f99b9db988cbbca99abb7ab we were under
the impression that train and centos-7 was not a thing. Since centos-7
pcs does not have the pcs resource config it is likely we will fail to
recognize existing resources.

This can be removed once we stop supporting centos 7, but for now let's
support both transparently.

Tested on both centos-7 env where it was failing and on a centos-8 train
deployment.

Closes-Bug: #1915519

Change-Id: Ie07b37581e844b64063e5e501f09edf4c8ef24e3
"
openstack%2Fneutron~master~Ie36cb025540c158fbbed4126be5d654888715300,openstack/neutron,master,,Ie36cb025540c158fbbed4126be5d654888715300,add_fake_chassis() may need to create a Chassis_Private,MERGED,2021-02-05 19:10:04.000000000,2021-02-23 22:14:01.000000000,2021-02-16 21:16:35.000000000,5,1,0,774298,d452e7868756935b074cc2026262e588e9523413,19,4,1,1,5756,Terry Wilson,otherwiseguy,"add_fake_chassis() may need to create a Chassis_Private

If the Chassis_Private table exists in the schema, add_fake_chassis
will need to create it since we aren't running ovn-controller.

Closes-Bug: #1914754
Change-Id: Ie36cb025540c158fbbed4126be5d654888715300
"
openstack%2Fneutron~master~Ic281dec74a46c95024a6df1db3b1f9ee7d7d1227,openstack/neutron,master,,Ic281dec74a46c95024a6df1db3b1f9ee7d7d1227,Convert OvnDbNotifyHandler rows to frozen rows,MERGED,2021-02-05 19:01:39.000000000,2021-02-23 22:13:13.000000000,2021-02-16 12:18:27.000000000,1,0,0,774297,27255fce30f570b549b026346fb10b7d0dca9039,35,4,1,1,5756,Terry Wilson,otherwiseguy,"Convert OvnDbNotifyHandler rows to frozen rows

In I87489596e2ff224431f7e83f43a1725172ee0953, the intent was to
make sure all event rows were converted to ""frozen"" rows to avoid
race conditions. Since OnvDbNotifyHandler.notify() does not call
super(), then it is necessary to do this conversion ourselves.

Related-Bug: #1896816
Change-Id: Ic281dec74a46c95024a6df1db3b1f9ee7d7d1227
"
openstack%2Fneutron~master~I87489596e2ff224431f7e83f43a1725172ee0953,openstack/neutron,master,bug/1901527,I87489596e2ff224431f7e83f43a1725172ee0953,Avoid race condition when processing RowEvents,MERGED,2020-09-23 20:36:42.000000000,2021-02-23 22:11:39.000000000,2021-01-10 19:35:41.000000000,6,7,5,753847,ab6d4afd954d3afb0c07287915077b96121dd0fe,302,13,28,3,5756,Terry Wilson,otherwiseguy,"Avoid race condition when processing RowEvents

In https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability
to pass a ""frozen"" object to the RowEventHandler so that if a
transaction is started from the main thread that changes the row,
it won't step on the values that the Event is trying to process.

This patch switches to using the ovs_idl backend-specific
RowEventHandler which converts the row to a frozen_row.

Change-Id: I87489596e2ff224431f7e83f43a1725172ee0953
Related-Bug: #1896816
"
openstack%2Fneutron~master~I4581848ad3e176fa576f80a752f2f062c974c2d1,openstack/neutron,master,bug/1901527,I4581848ad3e176fa576f80a752f2f062c974c2d1,Add support for deleting ml2/ovn agents,MERGED,2020-09-19 14:25:32.000000000,2021-02-23 22:09:52.000000000,2021-01-13 17:22:47.000000000,436,183,36,752795,da3ce7319866e8dc874d405e91f9af160e2c3d31,166,13,29,9,5756,Terry Wilson,otherwiseguy,"Add support for deleting ml2/ovn agents

This adds support for deleting OVN controller/metadata agents.
Behavior is undefined if the agents are still actually up as per
the Agent API docs.

As part of this, it is necessary to be able to tell all workers
that the agent is gone. This can't be done by deleting the
Chassis, because ovn-controller deletes the Chassis if it is
stopped gracefully and we need to still display those agents as
down until ovn-controller is restarted. This also means we can't
write a value to the Chassis marking the agent as 'deleted'
because the Chassis may not be there. And of course you can't
use the cache because then other workers won't see that the
agent is deleted.

Due to the hash ring implementation, we also cannot naively just
send some pre-defined event that all workers can listen for to
update their status of the agent. Only one worker would process
the event. So we need some kind of GLOBAL event type that is
processed by all workers.

When the hash ring implementation was done, the agent API
implementation was redesigned to work around moving from having
a single OVN Worker to having distributed events. That
implementation relied on marking the agents 'alive' in the
OVSDB. With large numbers of Chassis entries, this induces
significant load, with 2 DB writes per Chassis per
cfg.CONF.agent_down_time / 2 seconds (37 by default).

This patch reverts that change and goes back to using events
to store agent information in the cache, but adds support for
""GLOBAL"" events that are run on each worker that uses a particular
connection.

Change-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1
"
openstack%2Fnova~master~I9ccbbf3be8efc65fe7f480ad545fb5fc70767988,openstack/nova,master,bp/routed-networks-scheduling,I9ccbbf3be8efc65fe7f480ad545fb5fc70767988,FUP: Catch and reraise routed nets exception,MERGED,2021-02-19 18:23:24.000000000,2021-02-23 22:06:39.000000000,2021-02-23 22:04:14.000000000,19,8,1,776694,5c35a5905e03f7d45c3d99ceccdfffc67a171bd7,18,4,1,3,7166,Sylvain Bauza,sbauza,"FUP: Catch and reraise routed nets exception

Based on review feedback, we prefer to have the exception for
routed networks to not be prefilter-specific and just reraise
with the right exception type in the prefilter.

Change-Id: I9ccbbf3be8efc65fe7f480ad545fb5fc70767988
"
openstack%2Fopenstack-ansible~master~Ibd8a5b491bf9a0ba5ecc631e3a2a2a83d85dbe01,openstack/openstack-ansible,master,,Ibd8a5b491bf9a0ba5ecc631e3a2a2a83d85dbe01,Update Gnocchi with Ceph and Redis documentation.,MERGED,2021-01-26 10:34:11.000000000,2021-02-23 21:58:52.000000000,2021-02-23 21:54:52.000000000,15,11,2,772494,d16890c6d465350f42dd0ccb0915977c0eea67f9,15,3,3,1,29605,Siavash Sardari,siavash.sardari,"Update Gnocchi with Ceph and Redis documentation.

Change-Id: Ibd8a5b491bf9a0ba5ecc631e3a2a2a83d85dbe01
"
