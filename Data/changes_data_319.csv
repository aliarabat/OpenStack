id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fkolla-ansible~stable%2Fqueens~Iee39cf00b743ab0776354749c6e162814b5584d8,openstack/kolla-ansible,stable/queens,bug/1794504-stable/queens,Iee39cf00b743ab0776354749c6e162814b5584d8,openvswitch: always run handler to to ensure OVS bridges are up,MERGED,2019-07-19 14:52:45.000000000,2019-08-03 16:44:30.000000000,2019-08-03 16:44:30.000000000,15,12,0,671751,da171abc262777c3a57246a2c0102ad3ba27915b,7,4,1,4,15197,Pierre Riteau,priteau,"openvswitch: always run handler to to ensure OVS bridges are up

When editing external bridge configuration and running a reconfigure
on openvswitch, handler ""Ensuring OVS bridge is properly setup""
needs to run, but doesn't.

This moves the task from handlers to own file and always includes it
after running the handlers.

Change-Id: Iee39cf00b743ab0776354749c6e162814b5584d8
Closes-Bug: #1794504
(cherry picked from commit 8736817a989213df0f40a72f7e7163d9792aee43)
"
openstack%2Fkolla~stable%2Fstein~I05433f5bb2313e2adff39850a970d4430340c852,openstack/kolla,stable/stein,,I05433f5bb2313e2adff39850a970d4430340c852,Update build profiles for Placement split,MERGED,2019-08-02 11:01:34.000000000,2019-08-03 16:44:29.000000000,2019-08-03 16:44:28.000000000,3,0,0,674264,0d7fedb6ba5ac945e0f3f7d3360ff0e4fbba8f13,9,5,1,1,14826,Mark Goddard,mgoddard,"Update build profiles for Placement split

The Placement API is now a separate project, but anyone
building Nova is likely to want it. This change ensures
that it is built alongside Nova.

Change-Id: I05433f5bb2313e2adff39850a970d4430340c852
(cherry picked from commit d4e89eb932d660b4e610460b3ec9792a3e08091c)
"
openstack%2Fkolla-ansible~stable%2Fstein~Iac04082ad39a9d823c515ba11c5db9af50ed225f,openstack/kolla-ansible,stable/stein,ironic-ci-stable/stein,Iac04082ad39a9d823c515ba11c5db9af50ed225f,CI: clean up requirements installation,MERGED,2019-07-26 12:13:30.000000000,2019-08-03 16:44:28.000000000,2019-08-03 16:44:28.000000000,26,13,0,672965,9e9707bfe506aad32c89316fe6024f341634b470,8,4,1,5,30491,Radosław Piliszek,yoctozepto,"CI: clean up requirements installation

We install kolla-ansible requirements in Zuul's Ansible playbooks.
This patch cleans up the installation in scripts so that they are
only concerned with auxiliary requirements:
- ansible (since we do not track it in requirements)
- ara (for log summaries)
- openstack clients (for first init and tests after deployment)

Additionally this patch installs openstack clients in a separate
virtualenv.
Note that all kolla-ansible requirements, ansible and ara are still
installed system-wide.

Change-Id: Iac04082ad39a9d823c515ba11c5db9af50ed225f
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 8a543098d68a4b945e62ce5c92ece0f5d73946bc)
"
openstack%2Fkolla-ansible~stable%2Fstein~I9773a7c4f7a5d31a83c10562057ce772439b9693,openstack/kolla-ansible,stable/stein,ironic-ci-stable/stein,I9773a7c4f7a5d31a83c10562057ce772439b9693,CI: Test ironic also when nova role is modified,MERGED,2019-07-26 12:12:22.000000000,2019-08-03 16:38:41.000000000,2019-08-03 16:38:41.000000000,1,1,0,672964,667eba2c70d1b3aa435b58181f63cab5c392f60a,8,4,1,1,30491,Radosław Piliszek,yoctozepto,"CI: Test ironic also when nova role is modified

Change-Id: I9773a7c4f7a5d31a83c10562057ce772439b9693
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 55d813004df888f443ae10fdb21d49cf5f76917d)
"
openstack%2Fkolla-ansible~stable%2Fstein~Ie669e57ce2af53257b4ca05f45193cb73f48827a,openstack/kolla-ansible,stable/stein,ironic-ci-stable/stein,Ie669e57ce2af53257b4ca05f45193cb73f48827a,Add CI job for ironic,MERGED,2019-07-26 12:09:13.000000000,2019-08-03 16:38:40.000000000,2019-08-03 16:38:40.000000000,259,3,0,672962,b0d636413e0994c08e431b68d4a04e1396f386bf,7,3,1,10,30491,Radosław Piliszek,yoctozepto,"Add CI job for ironic

Adds four new CI jobs for testing centos/ubuntu binary/source deploys
with ironic enabled. These are run only when there are changes to the
ironic role.

Performs some simple testing by creating a node using the fake-hardware
hardware type and creating a server.

Change-Id: Ie669e57ce2af53257b4ca05f45193cb73f48827a
Depends-On: https://review.opendev.org/664011
(cherry picked from commit 845040ad3f2a477f5ab823391390e84355dd140e)
"
openstack%2Fkayobe~master~I6164d9f1d89a3d8124922f3bac9c4bea1b505e45,openstack/kayobe,master,typo-fix,I6164d9f1d89a3d8124922f3bac9c4bea1b505e45,Fix typo in upgrade documentation,MERGED,2019-08-02 12:43:47.000000000,2019-08-03 16:30:45.000000000,2019-08-03 16:30:45.000000000,1,1,0,674296,4b4274360470b7c5a587799bc2da10510fb14fe2,6,2,1,1,15197,Pierre Riteau,priteau,"Fix typo in upgrade documentation

Change-Id: I6164d9f1d89a3d8124922f3bac9c4bea1b505e45
"
openstack%2Fkolla-ansible~master~I1c9764fb9bbda08a71186091aced67433ad4e3d6,openstack/kolla-ansible,master,fix-docker-restart-policy-handling,I1c9764fb9bbda08a71186091aced67433ad4e3d6,Fix handling of docker restart policy,MERGED,2019-07-12 15:24:50.000000000,2019-08-03 16:27:46.000000000,2019-08-03 16:27:45.000000000,91,84,2,670586,6a737b19686c821c32778bb847c6548d51eef002,24,6,9,59,30491,Radosław Piliszek,yoctozepto,"Fix handling of docker restart policy

Docker has no restart policy named 'never'. It has 'no'.
This has bitten us already (see [1]) and might bite us again whenever
we want to change the restart policy to 'no'.

This patch makes our docker integration honor all valid restart policies
and only valid restart policies.
All relevant docker restart policy usages are patched as well.

I added some FIXMEs around which are relevant to kolla-ansible docker
integration. They are not fixed in here to not alter behavior.

[1] https://review.opendev.org/667363

Change-Id: I1c9764fb9bbda08a71186091aced67433ad4e3d6
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Foctavia-lib~master~I5f42dac1987e0f90860beb12fc842e77cd627820,openstack/octavia-lib,master,,I5f42dac1987e0f90860beb12fc842e77cd627820,Update for storyboard,MERGED,2019-08-03 15:32:58.000000000,2019-08-03 16:08:41.000000000,2019-08-03 16:08:41.000000000,2,4,0,674461,43e957f9fe42505b421c882b6706d74132aebd7d,8,3,1,2,6547,Andreas Jaeger,jaegerandi,"Update for storyboard

This repo uses storyboard since some time and not anymore launchpad:

Update the openstackdocstheme options so that the ""Report a bug"" link
points to storyboard and not to launchpad.

Change-Id: I5f42dac1987e0f90860beb12fc842e77cd627820
"
openstack%2Fkolla-ansible~master~I10552e256edbddd5b1f8a8a7f8805262e72ce8d8,openstack/kolla-ansible,master,ci-fix-checks,I10552e256edbddd5b1f8a8a7f8805262e72ce8d8,CI: fix checks for upgrade and multinode jobs,MERGED,2019-07-26 15:10:52.000000000,2019-08-03 15:58:33.000000000,2019-08-01 09:33:30.000000000,33,17,1,673006,93ac16ae6bca01424fe2aebbacfb58cfa005c2ea,11,4,1,1,30491,Radosław Piliszek,yoctozepto,"CI: fix checks for upgrade and multinode jobs

Multinode jobs did not run sanity checks for all the hosts,
only primary. Now they check all.

Additionally upgrades are now checked using the proper
(pre-upgrade) scripts (not that it matters too much as they
are the same atm) and both checks are done, not only failures,
but also config.

Change-Id: I10552e256edbddd5b1f8a8a7f8805262e72ce8d8
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fproject-config~master~I92606456f94b3cbbb1c5a3d609201d19474c1327,openstack/project-config,master,classifier,I92606456f94b3cbbb1c5a3d609201d19474c1327,Remove in-tree jobs for neutron-classifier,MERGED,2019-08-02 16:06:31.000000000,2019-08-03 15:44:34.000000000,2019-08-03 15:44:34.000000000,0,7,0,674340,7829d18052b5b73cdaab4881c028ba6ac00ee287,7,3,1,1,6547,Andreas Jaeger,jaegerandi,"Remove in-tree jobs for neutron-classifier

All these jobs are in-tree now, remove them here.

Change-Id: I92606456f94b3cbbb1c5a3d609201d19474c1327
"
openstack%2Foctavia-lib~master~Iad03f19083d9a5429dcfed3499d1c3e2d56cbb0f,openstack/octavia-lib,master,,Iad03f19083d9a5429dcfed3499d1c3e2d56cbb0f,Fix docstring and avoid such errors,MERGED,2019-08-03 15:27:25.000000000,2019-08-03 15:42:19.000000000,2019-08-03 15:42:19.000000000,16,2,1,674460,05b8ca95fd8b3a63ff46e9b584237cf99b32ac69,9,3,2,4,6547,Andreas Jaeger,jaegerandi,"Fix docstring and avoid such errors

Docs in octavia where failing with:
Docstring of octavia.api.drivers.amphora_driver.v1.driver.AmphoraProviderDriver.create_vip_port:
10:Unexpected indentation.

The broken docstring is in octavia_lib/api/drivers/provider_base.py. Fix
that docstring and build apidocs - like octavia does - so that all
docstrings in this repo get tested.

For building apidocs, add the needed configuration to the sphinx files
and require the package.

Change-Id: Iad03f19083d9a5429dcfed3499d1c3e2d56cbb0f
Co-Authored-By: Jeremy Stanley <fungi@yuggoth.org>
Co-Authored-By: Adam Harwell <flux.adam@gmail.com>
"
openstack%2Fkolla-ansible~stable%2Fqueens~I3128472f028a2dbd7ace02abc179a9629ad74ceb,openstack/kolla-ansible,stable/queens,bug/1832987-queens,I3128472f028a2dbd7ace02abc179a9629ad74ceb,Avoid parallel discover_hosts (nova-related race condition),MERGED,2019-06-28 07:27:59.000000000,2019-08-03 15:29:37.000000000,2019-08-03 15:29:37.000000000,6,3,0,668104,73747860dc943661deca4260342d90b25dadd9f7,10,3,1,2,30491,Radosław Piliszek,yoctozepto,"Avoid parallel discover_hosts (nova-related race condition)

In a rare event both kolla-ansible and nova-scheduler try to do
the mapping at the same time and one of them fails.
Since kolla-ansible runs host discovery on each deployment,
there is no need to change the default of no periodic host discovery.

I added some notes for future. They are not critical.
I made the decision explicit in the comments.
I changed the task name to satisfy recommendations.
I removed the variable because it is not used (to avoid future doubts).

Closes-Bug: #1832987
Change-Id: I3128472f028a2dbd7ace02abc179a9629ad74ceb
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit ce680bcfe2208f19a23630ee3feff4b9bd40c595)
(cherry picked from commit ed3d1e37ffa3c513957e184693d5ae7e451e92d8)
"
openstack%2Fironic~master~I1fe60ae235b920071023c65f24dea48f5e3b5c6c,openstack/ironic,master,secure_boot,I1fe60ae235b920071023c65f24dea48f5e3b5c6c,Baremetal provisioning in UEFI secure boot mode for iLO drivers,ABANDONED,2015-10-07 11:27:51.000000000,2019-08-03 15:22:30.000000000,,176,30,12,231927,bbab8b7c486e437ccd980a5fadac5f8b31dc8ba6,53,9,9,8,11076,Shivanand Tendulker,stendulker,"Baremetal provisioning in UEFI secure boot mode for iLO drivers

This commit implements baremetal provisioning in UEFI secure boot
environment for iLO drivers when flavor requests node with
capabilities 'secure_deploy:True' and signed deploy ramdisk is used
for deploy.

Partial-bug: #1526755
Change-Id: I1fe60ae235b920071023c65f24dea48f5e3b5c6c
Depends-On: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762
"
openstack%2Fironic-specs~master~Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762,openstack/ironic-specs,master,bug/1526755,Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762,Baremetal provisioning in UEFI secure boot mode,ABANDONED,2015-10-02 05:28:01.000000000,2019-08-03 15:22:05.000000000,,193,0,40,230274,e4edf89bc8f0936c857dec3b9ff9713b282afc8f,56,8,12,2,11076,Shivanand Tendulker,stendulker,"Baremetal provisioning in UEFI secure boot mode

This spec proposes mechanism to provision a node in UEFI secure
boot environment when flavor requests node with capabilities
'secure_boot:True' and signed deploy ramdisk is used for deploy.

Partial-Bug: 1526755
Change-Id: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762
"
openstack%2Fironic-specs~master~I8d0d8dad3fd1be07ac1a137e77cb00e20cb1e97e,openstack/ironic-specs,master,bug/1526487,I8d0d8dad3fd1be07ac1a137e77cb00e20cb1e97e,Group management of Ironic nodes,ABANDONED,2015-10-15 13:30:37.000000000,2019-08-03 15:20:36.000000000,,471,0,58,235344,988f574a25f987426d17ab9faf52dd7beda171bc,24,9,5,2,11076,Shivanand Tendulker,stendulker,"Group management of Ironic nodes

This spec proposes grouping of Ironic nodes to perform group
management operations using proposed CLI and REST APIs.

Partial-Bug: 1526487

Change-Id: I8d0d8dad3fd1be07ac1a137e77cb00e20cb1e97e
"
openstack%2Fcookbook-openstack-block-storage~stable%2Fqueens~I0b3f40c3e87f4b79edf907216d5d81bb43f5fb27,openstack/cookbook-openstack-block-storage,stable/queens,attribute_fix,I0b3f40c3e87f4b79edf907216d5d81bb43f5fb27,Fixes wrong service type reference for wsgi banner,MERGED,2019-06-05 11:11:33.000000000,2019-08-03 15:18:39.000000000,2019-08-03 15:18:39.000000000,1,1,0,663301,9188783b2525a9c7ed618df6dc20a62f2b9aaa80,13,4,2,1,30309,Manuel Torrinha,t0rrant,"Fixes wrong service type reference for wsgi banner

Change-Id: I0b3f40c3e87f4b79edf907216d5d81bb43f5fb27
Signed-off-by: Manuel Torrinha <manuel.torrinha@tecnico.ulisboa.pt>
"
openstack%2Fironic~stable%2Frocky~Ib1b1e32bc60d7ec271098dcd17086f79518c09df,openstack/ironic,stable/rocky,,Ib1b1e32bc60d7ec271098dcd17086f79518c09df,CI: stop using pyghmi from git master,MERGED,2019-07-30 08:30:30.000000000,2019-08-03 12:11:02.000000000,2019-08-03 12:11:02.000000000,0,14,0,673447,60d24ec9429f222bdae831b98bd0d3e6eb36d853,20,8,1,10,10239,Dmitry Tantsur,dtantsur,"CI: stop using pyghmi from git master

It's just a library we consume, there is no reason to use its
git head. Currently 1.4.0 is breaking us.

The stable version of this patch was reworked to cover legacy jobs.

Story: #2006301
Task: #36014
Change-Id: Ib1b1e32bc60d7ec271098dcd17086f79518c09df
(cherry picked from commit 3dfce5f2de6377d74632bb2a7fe3d382ccc629b0)
"
openstack%2Fcharm-octavia-diskimage-retrofit~master~I9c1b41599d347bc6d3883be944d21348c4993cd0,openstack/charm-octavia-diskimage-retrofit,master,bug/1838783,I9c1b41599d347bc6d3883be944d21348c4993cd0,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:57:14.000000000,2019-08-03 10:40:57.000000000,2019-08-03 10:40:57.000000000,1,1,0,674391,25632d43d31f73673633b0313eb3339aa626c839,7,3,1,1,20805,David Ames,thedac,"Rebuild for sync charms.openstack

Change-Id: I9c1b41599d347bc6d3883be944d21348c4993cd0
Partial-Bug: #1838783
"
openstack%2Fcharm-tempest~master~I84cb2fcc194b123c643cb648e8014e77d428a706,openstack/charm-tempest,master,bug/1838783,I84cb2fcc194b123c643cb648e8014e77d428a706,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:57:34.000000000,2019-08-03 10:30:01.000000000,2019-08-03 10:30:01.000000000,1,1,0,674393,728ab29a5d70d8d6d5a0758d5dabb91251cb6a29,7,3,1,1,20805,David Ames,thedac,"Rebuild for sync charms.openstack

Change-Id: I84cb2fcc194b123c643cb648e8014e77d428a706
Partial-Bug: #1838783
"
openstack%2Fcharm-gnocchi~master~I6834d6b5a838108670a1e542bd0d0002af9b8ee8,openstack/charm-gnocchi,master,bug/1838783,I6834d6b5a838108670a1e542bd0d0002af9b8ee8,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:55:36.000000000,2019-08-03 10:29:26.000000000,2019-08-03 10:29:26.000000000,1,1,0,674381,d6d8f89391c505094e01fa61af2178a641bc2eed,8,3,1,1,20805,David Ames,thedac,"Rebuild for sync charms.openstack

Change-Id: I6834d6b5a838108670a1e542bd0d0002af9b8ee8
Partial-Bug: #1838783
"
openstack%2Fcharm-barbican-vault~master~Id6294fc82d0db0c7b3b12c30c94298b9458be77d,openstack/charm-barbican-vault,master,bug/1838783,Id6294fc82d0db0c7b3b12c30c94298b9458be77d,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:54:27.000000000,2019-08-03 10:29:21.000000000,2019-08-03 10:29:21.000000000,1,1,0,674376,bb7b7fbdacc7437538329f961235a1f10d531ba4,8,3,1,1,20805,David Ames,thedac,"Rebuild for sync charms.openstack

Change-Id: Id6294fc82d0db0c7b3b12c30c94298b9458be77d
Partial-Bug: #1838783
"
openstack%2Fcharm-barbican~master~I5f0b7508c54eb16d7a6ed4a10104ca78478f70ab,openstack/charm-barbican,master,bug/1838783,I5f0b7508c54eb16d7a6ed4a10104ca78478f70ab,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:54:04.000000000,2019-08-03 10:25:42.000000000,2019-08-03 10:25:42.000000000,1,1,0,674374,c0b11b86715e16e9c2a16fc7cc799432275987a5,8,3,1,1,20805,David Ames,thedac,"Rebuild for sync charms.openstack

Change-Id: I5f0b7508c54eb16d7a6ed4a10104ca78478f70ab
Partial-Bug: #1838783
"
openstack%2Fcharm-barbican-softhsm~master~Icd946cb40e7d07644eb2f68d8fed52881afaa93c,openstack/charm-barbican-softhsm,master,bug/1838783,Icd946cb40e7d07644eb2f68d8fed52881afaa93c,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:54:16.000000000,2019-08-03 10:23:35.000000000,2019-08-03 10:23:35.000000000,1,1,0,674375,af98eb37b57c1a49242ead32f8de84415bb1cb2b,8,3,1,1,20805,David Ames,thedac,"Rebuild for sync charms.openstack

Change-Id: Icd946cb40e7d07644eb2f68d8fed52881afaa93c
Partial-Bug: #1838783
"
openstack%2Fcharm-ceph-fs~master~Iac4d36d9a98dc4c0d09c21ce851e497de27cd1fc,openstack/charm-ceph-fs,master,bug/1838783,Iac4d36d9a98dc4c0d09c21ce851e497de27cd1fc,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:54:39.000000000,2019-08-03 10:22:19.000000000,2019-08-03 10:22:19.000000000,1,1,0,674377,63540434ac601a01623ad985291cbd8873b8afc7,8,3,1,1,20805,David Ames,thedac,"Rebuild for sync charms.openstack

Change-Id: Iac4d36d9a98dc4c0d09c21ce851e497de27cd1fc
Partial-Bug: #1838783
"
openstack%2Fcharm-manila~master~I765d4cd3942d4fa0a8efb904db867bf5ba0eb387,openstack/charm-manila,master,bug/1838783,I765d4cd3942d4fa0a8efb904db867bf5ba0eb387,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:55:54.000000000,2019-08-03 10:22:09.000000000,2019-08-03 10:22:09.000000000,1,1,0,674383,be0313dc17479827b5a1f5e99f9a01850a3431b1,8,3,1,1,20805,David Ames,thedac,"Rebuild for sync charms.openstack

Change-Id: I765d4cd3942d4fa0a8efb904db867bf5ba0eb387
Partial-Bug: #1838783
"
openstack%2Fcharm-manila-generic~master~I15d87f1cb1e372ef324f4f9177f4385874c7cdda,openstack/charm-manila-generic,master,bug/1838783,I15d87f1cb1e372ef324f4f9177f4385874c7cdda,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:56:07.000000000,2019-08-03 10:22:06.000000000,2019-08-03 10:22:06.000000000,1,1,0,674384,5fd4fb9b4a520af670474d6d87854e7694e10519,8,3,1,1,20805,David Ames,thedac,"Rebuild for sync charms.openstack

Change-Id: I15d87f1cb1e372ef324f4f9177f4385874c7cdda
Partial-Bug: #1838783
"
openstack%2Ftripleo-common~master~I984a35f9e007e7124be690418ce48bd9fe1d364d,openstack/tripleo-common,master,bug/1838612,I984a35f9e007e7124be690418ce48bd9fe1d364d,support conductor group feature in ironic conductor,MERGED,2019-08-01 08:48:18.000000000,2019-08-03 10:14:25.000000000,2019-08-03 10:14:25.000000000,26,2,3,673956,051733b13e47e9dd9132e8dfbb37150fe06b940d,21,7,4,4,2874,yong sheng gong,gongysh,"support conductor group feature in ironic conductor

Change-Id: I984a35f9e007e7124be690418ce48bd9fe1d364d
Closes-bug: #1838612
"
openstack%2Fsahara-plugin-vanilla~master~I22afd66ee1df11b87a4d09c27f0c997708eb1a63,openstack/sahara-plugin-vanilla,master,zanata/translations,I22afd66ee1df11b87a4d09c27f0c997708eb1a63,Imported Translations from Zanata,MERGED,2019-08-03 07:32:41.000000000,2019-08-03 09:53:44.000000000,2019-08-03 09:53:43.000000000,122,0,0,674440,7d9be6f485305d417c022e9b1430452570ce3dbd,6,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I22afd66ee1df11b87a4d09c27f0c997708eb1a63
"
openstack%2Fsahara-plugin-ambari~master~If3572695addf2fc88d63bd91215693cafb8c133b,openstack/sahara-plugin-ambari,master,zanata/translations,If3572695addf2fc88d63bd91215693cafb8c133b,Imported Translations from Zanata,MERGED,2019-08-03 06:55:06.000000000,2019-08-03 09:42:39.000000000,2019-08-03 09:42:39.000000000,37,0,0,674438,0641cb160b4d28fad90bbb5b3ab4d02aad5a1e44,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If3572695addf2fc88d63bd91215693cafb8c133b
"
openstack%2Fsahara-plugin-spark~master~Id97a81c122483f1dc434dfaefce58d2e52ea159b,openstack/sahara-plugin-spark,master,,Id97a81c122483f1dc434dfaefce58d2e52ea159b,see if sahara-buildimages-spark works,NEW,2019-07-25 14:28:00.000000000,2019-08-03 09:37:32.000000000,,0,0,0,672739,1eb7bea6b4e88e27d5f636cb2b49f5f849f670d8,7,3,2,0,23078,Jeremy Freudberg,jeremyfreudberg,"see if sahara-buildimages-spark works

Depends-On: Id846249cecabd729b1dcdbb35756070ed6072fef

Change-Id: Id97a81c122483f1dc434dfaefce58d2e52ea159b
"
openstack%2Fkolla-cli~master~I0266763f08ffa1445cf985ed0abff0c693e17ef5,openstack/kolla-cli,master,,I0266763f08ffa1445cf985ed0abff0c693e17ef5,Use openstackdocstheme and add docs check into zuul,MERGED,2019-08-02 15:56:05.000000000,2019-08-03 05:41:52.000000000,2019-08-03 05:41:52.000000000,6,6,1,674335,4a0d70ead93b5d2ebca08324496205a7c1f0bfb1,19,3,6,2,28614,jacky06,jacky06,"Use openstackdocstheme and add docs check into zuul

1. Update doc's theme to openstack
2. Add tox docs check into zuul
3. tiny changes, adjust the import order

Change-Id: I0266763f08ffa1445cf985ed0abff0c693e17ef5
"
openstack%2Frequirements~master~Ia13e555b07bf9cf677db5a6f5ae105fdec15b506,openstack/requirements,master,new-release,Ia13e555b07bf9cf677db5a6f5ae105fdec15b506,update constraint for octavia-lib to new release 1.3.0,MERGED,2019-08-02 16:44:35.000000000,2019-08-03 05:33:23.000000000,2019-08-03 05:33:23.000000000,1,1,0,674350,1de770f40830febe5b8ead9d0958a222f2348c28,14,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for octavia-lib to new release 1.3.0

Change-Id: Ia13e555b07bf9cf677db5a6f5ae105fdec15b506
meta:version: 1.3.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Michael Johnson <johnsomor@gmail.com>
meta:release:Commit: Michael Johnson <johnsomor@gmail.com>
meta:release:Change-Id: I8310a6379a2caa156ed225d1e07be68536c56863
meta:release:Code-Review+1: Adam Harwell <flux.adam@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+1: Carlos Goncalves <cgoncalves@redhat.com>
meta:release:Code-Review+1: Maciej Józefczyk <mjozefcz@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Foctavia-tempest-plugin~master~I75c648026d43d533b21367f3adf77014b07e89a3,openstack/octavia-tempest-plugin,master,,I75c648026d43d533b21367f3adf77014b07e89a3,Add missing keystoneauth1 to requirements.txt,MERGED,2019-08-01 11:31:53.000000000,2019-08-03 04:46:23.000000000,2019-08-03 04:46:23.000000000,1,0,0,674009,42e54aadd9cd2f83ac278741002ec6fe736087cd,10,4,1,1,6469,Carlos Gonçalves,cgoncalves,"Add missing keystoneauth1 to requirements.txt

The keystoneauth1 library is imported by the Barbican client manager but
was missing in the requirements.txt file.

Change-Id: I75c648026d43d533b21367f3adf77014b07e89a3
"
openstack%2Fsenlin~master~I5dfd89c3eda0a2a0bf3b25473bd13c91054fb700,openstack/senlin,master,updateCirrosExample,I5dfd89c3eda0a2a0bf3b25473bd13c91054fb700,Update Cirros Example file,MERGED,2019-08-02 18:32:59.000000000,2019-08-03 02:47:52.000000000,2019-08-03 02:47:51.000000000,1,1,0,674403,01ec49946e1128b4c00027c7eb33c3e4e4c8dcbf,6,2,1,1,27224,Duc Truong,dtruong2,"Update Cirros Example file

Change image name in cirros example profile to match latest cirros
version shipped with devstack.

Change-Id: I5dfd89c3eda0a2a0bf3b25473bd13c91054fb700
"
openstack%2Fcyborg~master~Icb8c6dc89c381cdcf73e279248b723bd416acccb,openstack/cyborg,master,,Icb8c6dc89c381cdcf73e279248b723bd416acccb,Mailing lists change openstack-dev to openstack-discuss,MERGED,2019-07-01 11:15:26.000000000,2019-08-03 02:20:17.000000000,2019-08-03 02:20:17.000000000,1,1,0,668433,15001360251815f5db3a2fad31fdc107668889b8,7,2,1,1,27565,inspurericzhang,inspurericzhang,"Mailing lists change openstack-dev to openstack-discuss

Change-Id: Icb8c6dc89c381cdcf73e279248b723bd416acccb
"
openstack%2Fneutron-lbaas~stable%2Frocky~I93fcddf2d32b93cc108f273b4519a9b859d14523,openstack/neutron-lbaas,stable/rocky,constraints-updates,I93fcddf2d32b93cc108f273b4519a9b859d14523,Update tox.ini for new upper constraints strategy,MERGED,2019-06-28 23:25:05.000000000,2019-08-03 02:00:14.000000000,2019-08-03 02:00:13.000000000,3,3,0,668268,ed182665100cdabd2de5b829da26e9e7e9916441,9,3,2,1,11628,Michael Johnson,johnsom,"Update tox.ini for new upper constraints strategy

The requirements team has defined a new strategy for handling
upper constraints[1]. This patch applies those strategies to
neutron-lbaas.

[1] http://lists.openstack.org/pipermail/openstack-discuss/ \
    2019-May/006478.html

Change-Id: I93fcddf2d32b93cc108f273b4519a9b859d14523
"
openstack%2Foctavia-tempest-plugin~master~I9eba013fb0b87afc44187e259b594f9b93bcc5d9,openstack/octavia-tempest-plugin,master,,I9eba013fb0b87afc44187e259b594f9b93bcc5d9,Set irrelevant files on CI jobs,MERGED,2019-06-23 13:27:10.000000000,2019-08-03 01:59:04.000000000,2019-08-03 01:59:04.000000000,29,0,24,666988,531c5062c4cff602e455522c90fd9ce546f5ade1,19,4,3,1,6469,Carlos Gonçalves,cgoncalves,"Set irrelevant files on CI jobs

All jobs are triggered regardless of files changed, except for files
already defined in octavia-dsvm-base. This means many jobs that are not
impacted by a given change will be run in CI. Not only this is a waste
of CI resources but undeeded jobs may also fail (e.g. timeouts), thus
blocking changes from merging.

This patch defines a more granular set of irrelevant files per job. For
example, it prevents active-standby jobs from running when a change is
limited to normal scenario files.

Change-Id: I9eba013fb0b87afc44187e259b594f9b93bcc5d9
"
openstack%2Fneutron-lbaas~stable%2Frocky~I813574625f6e3cf89e193ce850dec319a5b605ff,openstack/neutron-lbaas,stable/rocky,,I813574625f6e3cf89e193ce850dec319a5b605ff,Remove the release notes job from stable/rocky,MERGED,2019-07-02 15:29:21.000000000,2019-08-03 01:50:47.000000000,2019-08-03 01:50:47.000000000,0,1,0,668697,7a23682bf1021a1028046745793684d2a11fa5aa,7,3,1,1,11628,Michael Johnson,johnsom,"Remove the release notes job from stable/rocky

The release notes tools require the master branch to have the
full release notes configuration. Since neutron-lbaas has been retired
these no longer exist.
Because of this, the docs team recommends removing the release notes
jobs from the stable branches[1].

[1] http://eavesdrop.openstack.org/irclogs/%23openstack-doc/ \
    %23openstack-doc.2019-07-02.log.html#t2019-07-02T05:58:56

Change-Id: I813574625f6e3cf89e193ce850dec319a5b605ff
"
openstack%2Fneutron-lbaas~stable%2Fqueens~I7731864366b8271cb698f8f68fdd650b074a28ff,openstack/neutron-lbaas,stable/queens,constraints-updates,I7731864366b8271cb698f8f68fdd650b074a28ff,Update tox.ini for new upper constraints strategy,MERGED,2019-06-28 23:27:38.000000000,2019-08-03 01:45:03.000000000,2019-08-03 01:45:03.000000000,1,1,0,668269,c771aa7902b3c190d23a2cd664fa15441af7422b,9,3,2,1,11628,Michael Johnson,johnsom,"Update tox.ini for new upper constraints strategy

The requirements team has defined a new strategy for handling
upper constraints[1]. This patch applies those strategies to
neutron-lbaas.

[1] http://lists.openstack.org/pipermail/openstack-discuss/ \
    2019-May/006478.html

Change-Id: I7731864366b8271cb698f8f68fdd650b074a28ff
"
openstack%2Fneutron-lbaas~stable%2Fqueens~I655a9bb5797bea103d36f104042d3e1c70b4a706,openstack/neutron-lbaas,stable/queens,,I655a9bb5797bea103d36f104042d3e1c70b4a706,Remove the release notes job from stable/queens,MERGED,2019-07-02 15:35:17.000000000,2019-08-03 01:43:22.000000000,2019-08-03 01:43:22.000000000,0,1,0,668700,4c2d6876eb590d875b4786240227d967fb01e2f5,8,3,2,1,11628,Michael Johnson,johnsom,"Remove the release notes job from stable/queens

The release notes tools require the master branch to have the
full release notes configuration. Since neutron-lbaas has been retired
these no longer exist.
Because of this, the docs team recommends removing the release notes
jobs from the stable branches[1].

[1] http://eavesdrop.openstack.org/irclogs/%23openstack-doc/ \
    %23openstack-doc.2019-07-02.log.html#t2019-07-02T05:58:56

Change-Id: I655a9bb5797bea103d36f104042d3e1c70b4a706
"
openstack%2Fcongress-dashboard~master~Icf49a1b46f1c6e57038ca07daeb2214ec0f05446,openstack/congress-dashboard,master,sphinx,Icf49a1b46f1c6e57038ca07daeb2214ec0f05446,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-12 07:31:20.000000000,2019-08-03 00:40:50.000000000,2019-08-03 00:40:50.000000000,1,1,1,670455,968699d269b5e6eea4925de58f2dc50d18daaeb8,11,5,2,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Icf49a1b46f1c6e57038ca07daeb2214ec0f05446
"
openstack%2Fironic-tempest-plugin~master~I0178c2b906449802ce38059d4191a63b4b317226,openstack/ironic-tempest-plugin,master,adoption,I0178c2b906449802ce38059d4191a63b4b317226,Support for testing adoption in the standalone job,MERGED,2019-07-23 13:09:59.000000000,2019-08-03 00:28:29.000000000,2019-08-03 00:28:29.000000000,119,3,20,672286,52ca009a4cf047c4da97066d435e29061934999a,50,4,11,3,10239,Dmitry Tantsur,dtantsur,"Support for testing adoption in the standalone job

This change adds a test for adoption. It's off by default because
it's destructive (removes and re-adds a node) and requires reading
(or guessing) the BMC credentials.

Change-Id: I0178c2b906449802ce38059d4191a63b4b317226
"
openstack%2Fironic~stable%2Fstein~I979358ead1e19f9b24f23117d0cba3479e33707b,openstack/ironic,stable/stein,story_2006217-stable/stein,I979358ead1e19f9b24f23117d0cba3479e33707b,IPA does not boot up after cleaning reboot for 'redfish' bios interface,MERGED,2019-07-29 14:01:22.000000000,2019-08-03 00:28:25.000000000,2019-08-03 00:28:25.000000000,94,21,0,673296,6bff4ddfbc65326f965403dd55dad89247f8ae1c,33,9,1,3,23851,Riccardo Pittau,elfosardo,"IPA does not boot up after cleaning reboot for 'redfish' bios interface

The clean steps of 'redfish' bios interface does not set up deploy ramdisk
before initiating the cleaning reboot of bare metal.

Change-Id: I979358ead1e19f9b24f23117d0cba3479e33707b
Story: 2006217
Task: 35810
(cherry picked from commit ddc0fb831b80ac60446cc47c7ec4e1d0848411b5)
"
openstack%2Fironic-inspector~stable%2Fstein~I634e75ab04253edffb6f19394d3943e9ffe56d13,openstack/ironic-inspector,stable/stein,gate-stable/stein,I634e75ab04253edffb6f19394d3943e9ffe56d13,CI: clean up the required projects list for grenade,MERGED,2019-08-01 08:55:53.000000000,2019-08-03 00:28:24.000000000,2019-08-03 00:28:23.000000000,0,10,0,673958,c7a4ec8a3b332a320444c664d0e5c45ada048a64,8,3,1,2,10239,Dmitry Tantsur,dtantsur,"CI: clean up the required projects list for grenade

We don't need to install libraries from git in this job.
ironic-python-agent is also not needed since we download the ramdisk.

Change-Id: I634e75ab04253edffb6f19394d3943e9ffe56d13
(cherry picked from commit da69fca0f8c32880604be14100598a1e1da4c7f2)
"
openstack%2Fos-resource-classes~master~I7410ad173a84b30562a1cdad743553dbd432f729,openstack/os-resource-classes,master,sphinx,I7410ad173a84b30562a1cdad743553dbd432f729,Sync Sphinx requirement,MERGED,2019-08-02 02:58:37.000000000,2019-08-02 23:27:34.000000000,2019-08-02 23:27:34.000000000,2,1,0,674164,8866073511f390665010a805a91168fb4436b2f6,8,4,1,1,27822,pengyuesheng,pengyuesheng,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I7410ad173a84b30562a1cdad743553dbd432f729
"
openstack%2Fironic~master~I240c27c25f70b0a916bbed6cc4a4122c0bffd9a9,openstack/ironic,master,intel_ipmi,I240c27c25f70b0a916bbed6cc4a4122c0bffd9a9,Follow-up to the IntelIPMIHardware patch,MERGED,2019-07-25 07:41:49.000000000,2019-08-02 23:08:24.000000000,2019-08-02 23:08:24.000000000,27,30,8,672652,01a9726c04590045eb9095ba849738d568d06fd8,21,6,4,3,10206,Madhuri Kumari,Madhuri,"Follow-up to the IntelIPMIHardware patch

Change-Id: I240c27c25f70b0a916bbed6cc4a4122c0bffd9a9
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic781905b63a0635b7bd0c7079fa84ca1e7f93989,openstack/tripleo-heat-templates,stable/queens,bug/1838679-stable/queens,Ic781905b63a0635b7bd0c7079fa84ca1e7f93989,Fix broken metadata_settings for redis templates,MERGED,2019-08-02 17:49:11.000000000,2019-08-02 22:42:01.000000000,2019-08-02 22:42:01.000000000,17,22,0,674369,e0f50b4b3aa1fc0c2dc4da5c596b776e1c34c6f2,7,6,1,3,11589,Harry Rybacki,hrybacki,"Fix broken metadata_settings for redis templates

metadata_settings in docker/services/redis.yaml was returning a list
of two items rather than one as expected. As a result, the compact/
mangedby service principals were not being created by novajoin service.
This results ina permission issue during overcloud deploy as the
`getcert` request will hit a permissions issue during Step2.

Note that this only affects Rocky and earlier branches. The issue was
resolved in Stein when redis service was flattened[1,2].

- Push tls logic into redis-base and consume in child templates.
- Move away from use_tls_proxy to more accurate internal_tls_enabled
- Ensure redis service has both service principals created if internal
  tls is enabled
[1] - https://review.opendev.org/#/c/635930/
[2] - https://review.opendev.org/640944

Change-Id: Ic781905b63a0635b7bd0c7079fa84ca1e7f93989
Partial-bug: #1838679
(cherry picked from commit b96b049f983662ea0badbca5d4f7b0e95b880338)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c,openstack/tripleo-heat-templates,stable/queens,queens,I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c,Make nova ephemeral storage backend configurable per-role,MERGED,2019-07-17 15:46:53.000000000,2019-08-02 22:11:40.000000000,2019-08-02 22:11:39.000000000,191,19,0,671324,e5f6ec75c30fbc32f3e7d1ba97b9c1eda862d64b,30,6,6,8,23811,Oliver Walsh,owalsh,"Make nova ephemeral storage backend configurable per-role

When multiple Compute roles are used, admins may want to use different storage
backends on each role.

This change turns NovaEnableRbdBackend into a role specific param.
Any other config that is implicitly enabled by the global NovaEnableRbdBackend
now requires a dedicated param.

Co-Authored-By: ratailor@redhat.com
Change-Id: I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c
Implements: blueprint nova-backend-per-role
(cherry picked from commit 65d7e55f549875636d314fff09707ca2650084a0)
(cherry picked from commit ed8d9da9b688a17d9a2c7cddf9a53722a8d359bf)
(cherry picked from commit b1febf785df9f7dfadd05637b622fb6568f52003)
"
openstack%2Ftripleo-common~master~I169b07553b171fcacb532bf58acc4200e270bfbb,openstack/tripleo-common,master,swift-proxy-healthcheck,I169b07553b171fcacb532bf58acc4200e270bfbb,Fix swift-proxy healthcheck,MERGED,2019-08-01 14:43:33.000000000,2019-08-02 22:09:28.000000000,2019-08-02 16:49:18.000000000,1,1,0,674055,3ddb77e34096a095909ea4dc5a18d478eeb93cab,10,6,1,1,17216,Martin Schuppert,mcschupp,"Fix swift-proxy healthcheck

With the current swift-proxy healthcheck the container status is
unhealty even the service is up.

The used ps/grep won't return the swift proxy processes as the
output gets truncated:

()[root@overcloud-controller-0 /]$ ps -e
    PID TTY          TIME CMD
      1 ?        00:00:00 dumb-init
      6 ?        00:02:52 swift-proxy-ser
     28 ?        00:00:25 swift-proxy-ser
   4753 pts/1    00:00:00 sh
   4797 pts/1    00:00:00 ps

As a result we end up in the else, checking the cache.

This moves the if to use pgrep instead.

Change-Id: I169b07553b171fcacb532bf58acc4200e270bfbb
"
openstack%2Fcookbook-openstack-compute~stable%2Fqueens~I7ae5cb83f6bd3774c978f3152a137c20fe7ab20c,openstack/cookbook-openstack-compute,stable/queens,,I7ae5cb83f6bd3774c978f3152a137c20fe7ab20c,Fix Berksfile to request stable/queens branch,MERGED,2019-08-02 19:46:48.000000000,2019-08-02 21:57:14.000000000,2019-08-02 21:57:14.000000000,1,1,0,674415,421ae68912782cd7f1dcfd74b7acb2c69865096b,6,2,1,1,13252,Dr. Jens Harbott,jrosenboom,"Fix Berksfile to request stable/queens branch

We are in the stable/queens branch and need to use the matching
dependencies, otherwise things will fail.

Change-Id: I7ae5cb83f6bd3774c978f3152a137c20fe7ab20c
"
openstack%2Fsushy~master~I8d234b3e562a46d3be27f6eae83b6f2e99813c83,openstack/sushy,master,story-2006246,I8d234b3e562a46d3be27f6eae83b6f2e99813c83,Action #Bios.ResetBios fails as POST request has no body,MERGED,2019-07-18 07:05:48.000000000,2019-08-02 21:56:24.000000000,2019-08-02 21:56:24.000000000,41,1,4,671413,83a6a8cf9173f612f66c34cbf20029d5ef216158,11,4,2,3,11076,Shivanand Tendulker,stendulker,"Action #Bios.ResetBios fails as POST request has no body

Bios action #Bios.ResetBios fails with HTTP code 415 as BMC expects
the POST request with empty body instead of no body.

Change-Id: I8d234b3e562a46d3be27f6eae83b6f2e99813c83
Story: 2006246
Task: 35854
"
openstack%2Fcookbook-openstack-network~stable%2Fqueens~I1432b84fd9cb2d4963b56d49a332b62924cc9111,openstack/cookbook-openstack-network,stable/queens,,I1432b84fd9cb2d4963b56d49a332b62924cc9111,Fix Berksfile to request stable/queens branch,MERGED,2019-08-02 20:13:10.000000000,2019-08-02 21:52:03.000000000,2019-08-02 21:52:03.000000000,1,1,0,674417,707269930dc47054e4e127e533ac5b0e4d120f9f,6,2,1,1,13252,Dr. Jens Harbott,jrosenboom,"Fix Berksfile to request stable/queens branch

We are in the stable/queens branch and need to use the matching
dependencies, otherwise things will fail.

Change-Id: I1432b84fd9cb2d4963b56d49a332b62924cc9111
"
openstack%2Fcookbook-openstack-block-storage~stable%2Fqueens~Ie5aa261bec06f1207f2f56784b402e3905cb815c,openstack/cookbook-openstack-block-storage,stable/queens,,Ie5aa261bec06f1207f2f56784b402e3905cb815c,Fix Berksfile to request stable/queens branch,MERGED,2019-08-02 20:30:01.000000000,2019-08-02 21:48:01.000000000,2019-08-02 21:48:01.000000000,1,1,0,674421,48a4e2336a362258df5088fca496007df4f590b8,6,2,1,1,13252,Dr. Jens Harbott,jrosenboom,"Fix Berksfile to request stable/queens branch

We are in the stable/queens branch and need to use the matching
dependencies, otherwise things will fail.

Change-Id: Ie5aa261bec06f1207f2f56784b402e3905cb815c
"
openstack%2Fcookbook-openstack-image~stable%2Fqueens~I74864a68e283b78cc9264c17b92512b19ef2ff8a,openstack/cookbook-openstack-image,stable/queens,,I74864a68e283b78cc9264c17b92512b19ef2ff8a,Fix Berksfile to request stable/queens branch,MERGED,2019-08-02 20:23:15.000000000,2019-08-02 21:45:01.000000000,2019-08-02 21:45:01.000000000,1,1,0,674419,457babfd9bc32d906a12775936ae6bb718e585fd,6,2,1,1,13252,Dr. Jens Harbott,jrosenboom,"Fix Berksfile to request stable/queens branch

We are in the stable/queens branch and need to use the matching
dependencies, otherwise things will fail.

Change-Id: I74864a68e283b78cc9264c17b92512b19ef2ff8a
"
openstack%2Ftripleo-ci~master~Ia18962abb58954169a86a0833fee33fcbde81601,openstack/tripleo-ci,master,image-build-params,Ia18962abb58954169a86a0833fee33fcbde81601,Add var to override hash used for repo setup,MERGED,2019-08-02 13:48:50.000000000,2019-08-02 21:40:58.000000000,2019-08-02 21:40:58.000000000,14,5,0,674314,5a902b351f3728a95e4a989527178c66815bdc54,8,6,1,1,9976,Ronelle Landy,rlandy,"Add var to override hash used for repo setup

The image build playbook, when used for periodic, requires
a different hash to set up repos. This review adds the
var to enable the override.

Change-Id: Ia18962abb58954169a86a0833fee33fcbde81601
"
openstack%2Fcharm-ceilometer~master~Icc3617f97b0a28c5a3779b60bde90144d661697a,openstack/charm-ceilometer,master,bug/1838634,Icc3617f97b0a28c5a3779b60bde90144d661697a,Ensure that systemd directory exists during series upgrade,MERGED,2019-08-01 14:10:29.000000000,2019-08-02 21:25:53.000000000,2019-08-02 21:25:52.000000000,5,0,0,674042,e887e81ac4a8abab987e016c0cb3e2977021421b,14,4,1,1,20870,Alex Kavanagh,ajkavanagh,"Ensure that systemd directory exists during series upgrade

When upgrading from trusty to xenial, the charm switches to systemd.
However, the directory /etc/systemd/system/ceilometer-api.service.d
doesn't exist as the charm installed on trusty.  This change ensures
that the directory does exist during series upgrade.

Change-Id: Icc3617f97b0a28c5a3779b60bde90144d661697a
Closes-Bug: #1838634
"
openstack%2Fswift~master~I8fe45c0f0d291efc84f3edf5d6b7cd116b5c7835,openstack/swift,master,618301,I8fe45c0f0d291efc84f3edf5d6b7cd116b5c7835,Make GreenAsyncPile not hang,MERGED,2018-12-07 00:46:34.000000000,2019-08-02 21:18:16.000000000,2019-08-02 21:16:54.000000000,136,8,14,623360,25aeb0ca4905756501e62210a5bc2699c731a1f4,24,4,4,4,1179,Clay Gerrard,clay-gerrard,"Make GreenAsyncPile not hang

It's probably weird that StreamingPile has this interfaces that swallows
exceptions, but this seems better than hanging.

Change-Id: I8fe45c0f0d291efc84f3edf5d6b7cd116b5c7835
"
openstack%2Fironic~master~Ia3408aee3ebcd4ad5deedaa48967f46134ad2cfc,openstack/ironic,master,sw-raid,Ia3408aee3ebcd4ad5deedaa48967f46134ad2cfc,Update software RAID configuration documentation,MERGED,2019-08-01 12:43:59.000000000,2019-08-02 21:18:01.000000000,2019-08-02 21:18:01.000000000,45,24,3,674019,521c0868533d0b950e1cf33c57e3426c454357fb,15,7,2,1,10239,Dmitry Tantsur,dtantsur,"Update software RAID configuration documentation

This provides a bunch of updates based on user testing of the feature.
Also the lines are wrapped and inter-document links are created.

Change-Id: Ia3408aee3ebcd4ad5deedaa48967f46134ad2cfc
"
openstack%2Fopenstack-ansible-os_congress~master~I355442124435db1891c65803051750a8d0a85c98,openstack/openstack-ansible-os_congress,master,osa/service-refactor,I355442124435db1891c65803051750a8d0a85c98,service_setup: refactor service setup to a single file,MERGED,2019-07-30 13:59:39.000000000,2019-08-02 21:07:23.000000000,2019-08-02 21:07:23.000000000,185,94,0,673525,efce93beac80b270c69fac6e230c8f976fb2e1d2,10,4,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: I355442124435db1891c65803051750a8d0a85c98
"
openstack%2Fcharm-aodh~master~Iafedd8280ba1cd1e200ec0f8e9eec67400b3d514,openstack/charm-aodh,master,bug/1838783,Iafedd8280ba1cd1e200ec0f8e9eec67400b3d514,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:53:31.000000000,2019-08-02 21:07:07.000000000,2019-08-02 21:07:07.000000000,1,1,0,674373,230fb5a8c63bc25c13fc3d3d55420227fea3f67a,8,4,1,1,20805,David Ames,thedac,"Rebuild for sync charms.openstack

Change-Id: Iafedd8280ba1cd1e200ec0f8e9eec67400b3d514
Partial-Bug: #1838783
"
openstack%2Fcharm-designate~master~Ib5159c885b81a392595375fc3801ccd13d0d1b1a,openstack/charm-designate,master,bug/1838783,Ib5159c885b81a392595375fc3801ccd13d0d1b1a,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:55:07.000000000,2019-08-02 21:02:58.000000000,2019-08-02 21:02:58.000000000,1,1,0,674379,c3b888c07b90ddf08b671857db04855207d09444,8,4,1,1,20805,David Ames,thedac,"Rebuild for sync charms.openstack

Change-Id: Ib5159c885b81a392595375fc3801ccd13d0d1b1a
Partial-Bug: #1838783
"
openstack%2Frpm-packaging~master~Iccc5595cfd4f3a608c888d263bb30cbc6be8b63a,openstack/rpm-packaging,master,,Iccc5595cfd4f3a608c888d263bb30cbc6be8b63a,openstackdocstheme: update to 1.31.0,MERGED,2019-08-02 20:20:26.000000000,2019-08-02 20:57:42.000000000,2019-08-02 20:57:42.000000000,5,3,0,674418,b914ead3b75cc9dc91a1c482e6f1771a476c8330,11,4,2,1,6593,Dirk Mueller,dmllr,"openstackdocstheme: update to 1.31.0

Change-Id: Iccc5595cfd4f3a608c888d263bb30cbc6be8b63a
"
openstack%2Fopenstack-ansible-os_designate~master~Id9e94865467a9076ee15a9caebcc2cc97847d079,openstack/openstack-ansible-os_designate,master,osa/service-refactor,Id9e94865467a9076ee15a9caebcc2cc97847d079,service_setup: refactor service setup to a single file,MERGED,2019-07-30 11:35:12.000000000,2019-08-02 20:55:01.000000000,2019-08-02 20:55:01.000000000,185,93,0,673484,0ac2ef7a6ac1e19f55773ee6468372bcb5142756,12,4,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: Id9e94865467a9076ee15a9caebcc2cc97847d079
"
openstack%2Fcharm-designate-bind~master~Ief27c421ec2d0ec80e476f4a06fa09758bebf3e4,openstack/charm-designate-bind,master,bug/1838783,Ief27c421ec2d0ec80e476f4a06fa09758bebf3e4,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:55:21.000000000,2019-08-02 20:51:39.000000000,2019-08-02 20:51:39.000000000,1,1,0,674380,b7b6f250e6c1ddf500863261b9296d53169ecd19,7,3,1,1,20805,David Ames,thedac,"Rebuild for sync charms.openstack

Change-Id: Ief27c421ec2d0ec80e476f4a06fa09758bebf3e4
Partial-Bug: #1838783
"
openstack%2Fcharm-keystone-ldap~master~I0870dd2a7ee1fe7f3d63a42aa551e1e4808ff937,openstack/charm-keystone-ldap,master,bug/1838783,I0870dd2a7ee1fe7f3d63a42aa551e1e4808ff937,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:55:45.000000000,2019-08-02 20:50:58.000000000,2019-08-02 20:50:58.000000000,1,1,0,674382,242d353bdc6dc854c3723a50d64b08411053c5c0,7,3,1,1,20805,David Ames,thedac,"Rebuild for sync charms.openstack

Change-Id: I0870dd2a7ee1fe7f3d63a42aa551e1e4808ff937
Partial-Bug: #1838783
"
openstack%2Fopenstack-ansible-os_heat~master~I321979a96acc04a25b5287fb2f61fa03cda66e81,openstack/openstack-ansible-os_heat,master,static_imports,I321979a96acc04a25b5287fb2f61fa03cda66e81,Convert dynamic includes to static imports,MERGED,2019-08-01 11:09:57.000000000,2019-08-02 20:42:40.000000000,2019-08-02 20:42:40.000000000,18,83,0,674003,cd66c12e7ffbbf720cbfa35947cfefd3cf4fedd8,7,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Convert dynamic includes to static imports

When task/role files are included using include_tasks, tags are not
passed to the included tasks. As a result, tags like neutron-config
do not have the intended effect. This patch changes include_tasks
to import_tasks for all cases where dynamic vars or loops are not used
so that tags are properly handled.

Also heat_init_systemd is finally dropped, as it is not used anymore.

Reference -
https://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse.html
https://bugs.launchpad.net/openstack-ansible/+bug/1815043

Change-Id: I321979a96acc04a25b5287fb2f61fa03cda66e81
"
openstack%2Fopenstack-ansible-os_blazar~master~I0af7cd2087a03b16c2f7ffd818cf5074c233e89a,openstack/openstack-ansible-os_blazar,master,osa/service-refactor,I0af7cd2087a03b16c2f7ffd818cf5074c233e89a,service_setup: refactor service setup to a single file,MERGED,2019-07-30 12:26:28.000000000,2019-08-02 20:36:38.000000000,2019-08-02 20:36:38.000000000,185,95,0,673498,cffac775bbffc98c3b6592255c09182c10b5b18f,14,4,3,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: I0af7cd2087a03b16c2f7ffd818cf5074c233e89a
"
openstack%2Fopenstack-ansible-os_cinder~master~I7b0cd5b5552777bbdb6037edb635d8edaad5fc5b,openstack/openstack-ansible-os_cinder,master,osa/service-refactor,I7b0cd5b5552777bbdb6037edb635d8edaad5fc5b,service_setup: region override,MERGED,2019-07-30 12:36:44.000000000,2019-08-02 20:32:32.000000000,2019-08-02 20:32:31.000000000,19,3,0,673500,97cb48bc852b3ba45e677eb7c06e6673aa5fc160,14,4,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: region override

During original patch ability to override region was missing. This patch
return functionality of defining region during keystone service creation

It also updates a bit service_setup with ability to provide domain.

Change-Id: I7b0cd5b5552777bbdb6037edb635d8edaad5fc5b
"
openstack%2Fpaunch~stable%2Fstein~Idaf5d4871ad1231f2592238a7925857af8f40548,openstack/paunch,stable/stein,podman-drop-in,Idaf5d4871ad1231f2592238a7925857af8f40548,Generate addition drop-in dependencies for podman containers,MERGED,2019-08-01 16:53:27.000000000,2019-08-02 20:27:36.000000000,2019-08-02 15:15:35.000000000,14,1,0,674090,d105c6e9a21fc70bc5bfdf5a9d9796badb019704,10,4,1,1,20778,Damien Ciabrini,dciabrin,"Generate addition drop-in dependencies for podman containers

If a container managed by Paunch and has the drop-in file enabled, we
want to start the containers with the script provided by the Paunch rpm:
paunch-start-podman-container

The script will take care of proper ordering when creating systemd scope
files.

Partial-Bug: #1838668
Change-Id: Idaf5d4871ad1231f2592238a7925857af8f40548
(cherry picked from commit b33aeea9728233aca852a3e132f23fca71ac42df)
"
openstack%2Fopenstack-ansible-os_cloudkitty~master~I61fe5fe2f13f924a55e477c3496168550b76ba05,openstack/openstack-ansible-os_cloudkitty,master,osa/service-refactor,I61fe5fe2f13f924a55e477c3496168550b76ba05,service_setup: refactor service setup to a single file,MERGED,2019-07-30 14:41:01.000000000,2019-08-02 20:00:53.000000000,2019-08-02 20:00:53.000000000,186,108,0,673542,99de75a151dcd403780bdce276a0bbc78831a117,10,4,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: I61fe5fe2f13f924a55e477c3496168550b76ba05
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c,openstack/tripleo-heat-templates,stable/rocky,,I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c,Make nova ephemeral storage backend configurable per-role,MERGED,2019-07-17 15:39:21.000000000,2019-08-02 19:49:05.000000000,2019-08-02 19:49:05.000000000,200,20,0,671322,f4709b809e4a1a7ac899a8cfd0d59a21f0b1efa5,37,7,5,8,23811,Oliver Walsh,owalsh,"Make nova ephemeral storage backend configurable per-role

When multiple Compute roles are used, admins may want to use different storage
backends on each role.

This change turns NovaEnableRbdBackend into a role specific param.
Any other config that is implicitly enabled by the global NovaEnableRbdBackend
now requires a dedicated param.

Co-Authored-By: ratailor@redhat.com
Change-Id: I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c
Implements: blueprint nova-backend-per-role
(cherry picked from commit 65d7e55f549875636d314fff09707ca2650084a0)
(cherry picked from commit ed8d9da9b688a17d9a2c7cddf9a53722a8d359bf)
"
openstack%2Fpuppet-pacemaker~master~I357f7b86dda6d6813f39dd6d276b94aeee87af12,openstack/puppet-pacemaker,master,fix-ci,I357f7b86dda6d6813f39dd6d276b94aeee87af12,Pin rspec-puppet-facts if older ruby,MERGED,2019-08-02 16:21:53.000000000,2019-08-02 19:43:09.000000000,2019-08-02 18:42:54.000000000,5,0,0,674347,ffbed58789fbf290817d68ca24b931098661bac0,9,3,2,1,14985,Alex Schultz,mwhahaha,"Pin rspec-puppet-facts if older ruby

1.9.5 version of rspec-puppet-facts requires a newer ruby. Since we
still test with centos7 (which has older ruby), we need to add a
conditional to pull in the correct rspec-puppet-facts version

Change-Id: I357f7b86dda6d6813f39dd6d276b94aeee87af12
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,openstack/tripleo-heat-templates,stable/rocky,,Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,Transport ManilaCephFSDataPoolName to Manila CephFS template,MERGED,2019-08-02 11:05:44.000000000,2019-08-02 19:27:51.000000000,2019-08-02 19:27:31.000000000,4,0,0,674267,3585f3614269bcb875f2ad0eb55345ca113ffe3c,8,3,1,1,6796,Giulio Fidente,gfidente,"Transport ManilaCephFSDataPoolName to Manila CephFS template

This is necessary to configure the Manila CephFS backend
correctly when user customizes the CephFS pool name.

Change-Id: Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0
Depends-On: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Closes-Bug: 1837099
(cherry picked from commit dbac7cf92c8739ae5bf1de9f9238e7a6d354e65f)
(cherry picked from commit e7c3496a97c41f7069d1837e85ddb414a0ed3fa2)
"
openstack%2Fcinder~master~I6b854745462af993fe143ca9cacbf863fb80686e,openstack/cinder,master,bug/1838691,I6b854745462af993fe143ca9cacbf863fb80686e,Fix ceph driver error during incremental backup creation,ABANDONED,2019-08-02 02:17:05.000000000,2019-08-02 19:21:49.000000000,,6,7,2,674152,22ed7cc757dee5fe43cbbcc7b16522a04fbbf17e,32,15,3,1,20813,Sofia Enriquez,enriquetaso,"Fix ceph driver error during incremental backup creation

During the incremental backups creation, unexpectedly the
'_cleanup_incomplete_backup_operations' method is called
aborting the backup.

This happens when using ceph mimic with Python 3.x.
The connections with Librbd suddenly abort connections
before accessing the data.

The fix is to extend the connection and close it at the
end of the method.

Change-Id: I6b854745462af993fe143ca9cacbf863fb80686e
Closes-Bug: #1838691
"
openstack%2Fkeystone~stable%2Frocky~Ica473ba71b224cdc0acf815f82d534b6c70a7f54,openstack/keystone,stable/rocky,pin-bandit,Ica473ba71b224cdc0acf815f82d534b6c70a7f54,"Revert ""Blacklist bandit 1.6.0""",MERGED,2019-06-26 16:24:47.000000000,2019-08-02 19:02:39.000000000,2019-08-02 19:02:39.000000000,15,14,0,667675,c220cc450cabb652c4b0afab265b93c7a7aa2afd,10,5,1,10,10343,Jim Rollenhagen,jimrollenhagen,"Revert ""Blacklist bandit 1.6.0""

This reverts commit ebac8330d8ac81c491a1cb0e16eb23b93d7932ee.

Using the glob that I had not yet had enough coffee to do correctly is a
better solution, and allows us to fix new failures in 1.6.0 which would
break us again when 1.6.1 was released.

Change-Id: Ica473ba71b224cdc0acf815f82d534b6c70a7f54
(cherry picked from commit dc3175afb16fedaf5216b5d4a7a521d16636b4d1)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ifb9ea8a79591a9d1319e32a0b2b26c1377d7ca7c,openstack/tripleo-heat-templates,stable/rocky,ruck_sprint13,Ifb9ea8a79591a9d1319e32a0b2b26c1377d7ca7c,Remove scen009 (non-voting) from gate,MERGED,2019-07-31 17:52:41.000000000,2019-08-02 18:35:57.000000000,2019-08-02 18:35:57.000000000,0,1,0,673886,0de8eafc0c0880b2a54b23aa960b0f9f78541180,10,11,1,1,8175,Rafael Folco,rfolco,"Remove scen009 (non-voting) from gate

Non-voting jobs should not run on gate.
Seen at https://review.opendev.org/#/c/673254/

Change-Id: Ifb9ea8a79591a9d1319e32a0b2b26c1377d7ca7c
"
openstack%2Fheat~master~I26582fbd0b980d848f7e4cdb8bb2c8833385fe9b,openstack/heat,master,aodh-lbmemberhealth-alarm,I26582fbd0b980d848f7e4cdb8bb2c8833385fe9b,Add heat resource for creating Aodh loadbalancer_member_health alarm type[1],MERGED,2019-05-31 04:53:03.000000000,2019-08-02 18:27:31.000000000,2019-08-02 18:27:30.000000000,227,0,28,662381,3fda946ff30e48e00044a3e7dac0e6af0c095d59,51,12,9,3,30447,Simon Merrick,iokiwi,"Add heat resource for creating Aodh loadbalancer_member_health alarm type[1]

Aodh loadbalancer_member_health alarm was implemented in 654221[2]. This patch
adds a corresponding heat resource for managing it's lifecycle.

 - Add new resource OS:Aodh:LBMemberHealthAlarm
 - Add unit test for LoadBalancerMemberHealthAlarms

[1]: https://docs.openstack.org/aodh/latest/contributor/architecture.html#id5
[2]: https://review.opendev.org/#/c/654221/

Change-Id: I26582fbd0b980d848f7e4cdb8bb2c8833385fe9b
Task: 34767
"
openstack%2Fopenstack-helm-infra~master~Idffaefb350f380a86d0ae5fa854fc31b3659bf2e,openstack/openstack-helm-infra,master,,Idffaefb350f380a86d0ae5fa854fc31b3659bf2e,WIP: Add enhancement to mariadb backup,ABANDONED,2019-05-28 22:09:42.000000000,2019-08-02 18:19:49.000000000,,1653,88,26,661853,1e5e8b89619f1ce7a5b04efcc62b8b291675a996,147,5,65,23,28875,Koffi Nogbe,kn4078,"WIP: Add enhancement to mariadb backup

  * Enabling swift remote capability to the backup script
  * Enabling swift remote capability to the restore script
  * Add test job for remote backup
  * Add test job for pvc backup

Depend-On: https://review.opendev.org/#/c/672738
Change-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ic781905b63a0635b7bd0c7079fa84ca1e7f93989,openstack/tripleo-heat-templates,stable/rocky,bug/1838679,Ic781905b63a0635b7bd0c7079fa84ca1e7f93989,Fix broken metadata_settings for redis templates,MERGED,2019-08-01 18:46:58.000000000,2019-08-02 17:49:11.000000000,2019-08-02 16:33:25.000000000,17,22,0,674106,b96b049f983662ea0badbca5d4f7b0e95b880338,14,7,2,3,11589,Harry Rybacki,hrybacki,"Fix broken metadata_settings for redis templates

metadata_settings in docker/services/redis.yaml was returning a list
of two items rather than one as expected. As a result, the compact/
mangedby service principals were not being created by novajoin service.
This results ina permission issue during overcloud deploy as the
`getcert` request will hit a permissions issue during Step2.

Note that this only affects Rocky and earlier branches. The issue was
resolved in Stein when redis service was flattened[1,2].

- Push tls logic into redis-base and consume in child templates.
- Move away from use_tls_proxy to more accurate internal_tls_enabled
- Ensure redis service has both service principals created if internal
  tls is enabled
[1] - https://review.opendev.org/#/c/635930/
[2] - https://review.opendev.org/640944

Change-Id: Ic781905b63a0635b7bd0c7079fa84ca1e7f93989
Partial-bug: #1838679
"
openstack%2Fplacement~master~Ic4e0cdd87f8f2d76b921059ac4bf16a838913abf,openstack/placement,master,cd/de-tuple,Ic4e0cdd87f8f2d76b921059ac4bf16a838913abf,Use expanding bindparam in provider_ids_from_rp_ids in_,MERGED,2019-08-01 14:27:41.000000000,2019-08-02 17:38:44.000000000,2019-08-02 17:38:44.000000000,4,4,1,674048,d4d9457aa10c3309cae00b40598b3cec8b1c793a,14,4,4,3,11564,Chris Dent,chdent,"Use expanding bindparam in provider_ids_from_rp_ids in_

This was explored as part of discussion with zzzeek on various
ways to make a statement with a large in_ be more performant.

Batching the queries by chunking rp_ids did not help, but an
expanding bindparam did: it makes the surrounding method about
50% faster [1].

bindparam expanding was added in sqlalchemy 1.2.0 so we bump
the requirements here to the latest 1.2.x bugfix release,
1.2.19.

[1] With the caveat that profiling and benchmarking are very
different things, and in this case it is profiling results
which are being analysed.

Change-Id: Ic4e0cdd87f8f2d76b921059ac4bf16a838913abf
"
openstack%2Fplacement~master~I4acb16d13976d64d47f798ebbec626a73b79b4f5,openstack/placement,master,cd/de-tuple,I4acb16d13976d64d47f798ebbec626a73b79b4f5,Use __slots__ in commonly used objects,MERGED,2019-08-02 09:29:01.000000000,2019-08-02 17:38:43.000000000,2019-08-02 17:38:43.000000000,15,2,9,674239,5d3243f4b923ca27bcbaa0919498498337046470,15,4,2,3,11564,Chris Dent,chdent,"Use __slots__ in commonly used objects

When making a nested provider GET /allocation_candidates request
that returns around 6500 providers in the providers summary section,
we make ~22000 ResourceProvider and ProviderSummary objects, 7500
AllocationRequest objects and 30000 ProviderSummaryResource objects.

In aggregate, creating and accessing these objects contributes a
measurable cpu time cost. Using __slots__ [1] can speed up attribute
access (I measured it, it does), so lets use it for the common
objects. There's no evidence (yet) of other objects being an issue
so we won't do this wholesale.

A unit test is updated to change a mock from a public ResourceProvider
method (set_aggregates) to a private function (_set_aggregates)
because one of the limitations of __slots__ is it makes the
slotted objects difficult to mock. In this case the test is still
testing the same thing.

Subsequent patches will explore why we need 22000 ProviderSummary
objects when we're only producing 6500 resulting summaries to see
if there is a cleanup that can be done there.

[1] https://docs.python.org/3/reference/datamodel.html#slots

Change-Id: I4acb16d13976d64d47f798ebbec626a73b79b4f5
"
openstack%2Fneutron-tempest-plugin~master~I6cec868daa0139f6a49807883f901d2eac84fe14,openstack/neutron-tempest-plugin,master,bug/1838068,I6cec868daa0139f6a49807883f901d2eac84fe14,"Force the kill of the ""nc"" process only if timeout",MERGED,2019-08-02 13:45:08.000000000,2019-08-02 17:38:40.000000000,2019-08-02 17:38:40.000000000,1,1,0,674312,31993d50fd449e2d3ba02f3d4d94989130cd2118,9,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Force the kill of the ""nc"" process only if timeout

If the file is received correctly, the ""nc"" process in the remote
machine will end gracefully. Only in case of socket timeout, will force
the completion of the process before returning.

Change-Id: I6cec868daa0139f6a49807883f901d2eac84fe14
Related-Bug: #1838068
"
openstack%2Fpuppet-nova~master~I0400fdbaf098121c0f5e380379b7cfb660963ddd,openstack/puppet-nova,master,service_token,I0400fdbaf098121c0f5e380379b7cfb660963ddd,Implement class to configure parameters to use service token,MERGED,2019-06-20 02:02:33.000000000,2019-08-02 17:21:38.000000000,2019-08-02 17:21:38.000000000,191,5,9,666471,9cde9d9326e296ee8f23eacf48e770a4badc59b8,40,6,10,4,9816,Takashi Kajinami,kajinamit,"Implement class to configure parameters to use service token

This patch introduces nova::keystone::service_user class
to configure parameters to enable service token feature
in Nova.

Depends-on: https://review.opendev.org/#/c/666467/
Change-Id: I0400fdbaf098121c0f5e380379b7cfb660963ddd
"
openstack%2Fproject-config~master~I716ab52ea7d6f5676d6cef5f2067cfdb495f8dc4,openstack/project-config,master,gerritbot-neutron-stable,I716ab52ea7d6f5676d6cef5f2067cfdb495f8dc4,Make gerritbot notify #openstack-neutron IRC channel of stable reviews,MERGED,2019-08-02 11:24:10.000000000,2019-08-02 17:03:56.000000000,2019-08-02 17:03:56.000000000,1,0,0,674273,0f74dd6b1391dabf6d4a01f70d45479dcacdcda1,9,6,1,1,2394,Adam Spiers,adam.spiers,"Make gerritbot notify #openstack-neutron IRC channel of stable reviews

Currently the openstackgerrit gerritbot is only notifying the
#openstack-neutron IRC channel of reviews submitted to master.
So add notifications for stable branches, as per this discussion:

http://eavesdrop.openstack.org/irclogs/%23openstack-neutron/%23openstack-neutron.2019-08-02.log.html#t2019-08-02T08:47:29

Change-Id: I716ab52ea7d6f5676d6cef5f2067cfdb495f8dc4
"
openstack%2Fkolla-ansible~stable%2Frocky~Ia4ec794bb2b18aca2592b62a35066c237192a0f3,openstack/kolla-ansible,stable/rocky,,Ia4ec794bb2b18aca2592b62a35066c237192a0f3,Ensure keystone endpoint is updatable,MERGED,2019-08-02 13:54:21.000000000,2019-08-02 17:03:11.000000000,2019-08-02 17:03:10.000000000,21,0,0,674316,19a1a38671efb40b1fb62b429a672e396514d59a,7,4,1,1,24072,Marcin Juszkiewicz,hrw,"Ensure keystone endpoint is updatable

Change-Id: Ia4ec794bb2b18aca2592b62a35066c237192a0f3
(cherry picked from commit 6191c775c1fc90c5ded5054286c84a519ad75ec4)
"
openstack%2Fkolla-ansible~stable%2Fstein~Ic19264191a0ed418fa959fdc122cef543446fbe5,openstack/kolla-ansible,stable/stein,bug/ceph_nfs_ubuntu-stable/stein,Ic19264191a0ed418fa959fdc122cef543446fbe5,ceph-nfs: Add rpcbind to Ubuntu host bootstrap,MERGED,2019-08-02 11:52:13.000000000,2019-08-02 17:03:10.000000000,2019-08-02 17:03:10.000000000,51,19,0,674279,92090b25a459b2ce550cdaf8724f03d89ab46d45,8,4,1,2,30491,Radosław Piliszek,yoctozepto,"ceph-nfs: Add rpcbind to Ubuntu host bootstrap

* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind
udp test on startup (was fixed later)
* Add rpcbind package to be installed by kolla-ansible bootstrap when
ceph_nfs is enabled
* Update Ceph deployment docs with a note

Change-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5
(cherry picked from commit efcaf400b89d83db59871b97421d71d934b5b168)
"
openstack%2Fpuppet-ceph~stable%2Fmimic~I11f134bed59da706a03ce4a70d941145c16f8175,openstack/puppet-ceph,stable/mimic,bug/1769722,I11f134bed59da706a03ce4a70d941145c16f8175,Resolve puppet overwriting a pre-existing bootstrap-osd auth entry,MERGED,2019-04-29 09:41:22.000000000,2019-08-02 16:57:31.000000000,2019-08-02 16:57:30.000000000,11,1,0,656279,b90c642c687f392a809cf95975a6774ebdc34eb8,32,6,5,1,6796,Giulio Fidente,gfidente,"Resolve puppet overwriting a pre-existing bootstrap-osd auth entry

Ceph jewel creates the client.bootstrap-osd auth entry when the cluster
is created. puppet-ceph has been overwriting this keyring in memory and
on the filesystem. This patch updates ceph::osd to exract the
client keyring from memory and write it to the filesystem. This will
means ceph::key will not need to create the client.bootstrap-osd keyring.

Depends-On: https://review.opendev.org/#/c/667387/
Change-Id: I11f134bed59da706a03ce4a70d941145c16f8175
Partial-bug: 1769722
(cherry picked from commit d833c03b975c922a28281918a2ac71a3dd7a2104)
"
openstack%2Fcharms.openstack~master~Ic48aabb3650a7198ef8298aa0eef152b4851e9a3,openstack/charms.openstack,master,bug/1838783,Ic48aabb3650a7198ef8298aa0eef152b4851e9a3,Determine amqp port from relation data,MERGED,2019-08-02 16:17:22.000000000,2019-08-02 16:44:02.000000000,2019-08-02 16:44:02.000000000,39,5,0,674346,405b4b75bcb9efb405c2170452a32a3c442caec6,7,3,1,2,20805,David Ames,thedac,"Determine amqp port from relation data

The non-SSL port 5672 was hard coded.

Set the amqp port based on relation data.

Change-Id: Ic48aabb3650a7198ef8298aa0eef152b4851e9a3
Closes-Bug: #1838783
"
openstack%2Ftripleo-validations~stable%2Fstein~Ib8ae41451f245d4e2d40864cc36515a07a1878bf,openstack/tripleo-validations,stable/stein,molecule-stable-stein,Ib8ae41451f245d4e2d40864cc36515a07a1878bf,Adds molecule tests for ctlplane-ip-range validation,MERGED,2019-08-01 11:07:25.000000000,2019-08-02 16:33:24.000000000,2019-08-02 16:33:24.000000000,171,0,0,674002,6d3c81eeff56cc214b2fe780f3520ab64f548cc6,9,4,4,4,11491,Gael Chamoulaud,gchamoul,"Adds molecule tests for ctlplane-ip-range validation

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: Ib8ae41451f245d4e2d40864cc36515a07a1878bf
(cherry picked from commit 49aa25278db5031d0543169ad2e12676ca89fc7d)
"
openstack%2Freleases~master~I8310a6379a2caa156ed225d1e07be68536c56863,openstack/releases,master,,I8310a6379a2caa156ed225d1e07be68536c56863,Release octavia-lib 1.3.0,MERGED,2019-07-31 23:57:40.000000000,2019-08-02 16:24:36.000000000,2019-08-02 16:24:36.000000000,5,1,0,673928,a9e1e2425bfe3dd326d8246af4c8398ffaa82863,10,6,1,1,11628,Michael Johnson,johnsom,"Release octavia-lib 1.3.0

This patch proposes the release of octavia-lib 1.3.0.

Change-Id: I8310a6379a2caa156ed225d1e07be68536c56863
"
openstack%2Fkolla-cli~master~I8b98e96a5f8be1d86f388a2fd702eacd3ad07986,openstack/kolla-cli,master,,I8b98e96a5f8be1d86f388a2fd702eacd3ad07986,Move sphinx-build into tox,MERGED,2019-07-31 16:35:46.000000000,2019-08-02 16:23:35.000000000,2019-08-02 16:23:35.000000000,585,462,0,673871,3babfbaedad283ade0ae3fff452da22b2add0724,20,3,9,23,28614,jacky06,jacky06,"Move sphinx-build into tox

Change-Id: I8b98e96a5f8be1d86f388a2fd702eacd3ad07986
"
openstack%2Fnova~master~I6a10f55f777917d6caf2f09aa5b2ca7c4676b749,openstack/nova,master,bp/cpu-model-selection,I6a10f55f777917d6caf2f09aa5b2ca7c4676b749,Add method 'all_required_traits' to scheduler utils,MERGED,2019-07-11 12:59:52.000000000,2019-08-02 16:20:14.000000000,2019-08-02 16:20:14.000000000,39,0,3,670297,2d4b32e1bd432a5cb6f8098edbce4b347a7ec035,36,13,2,2,27614,ya.wang,ya.wang,"Add method 'all_required_traits' to scheduler utils

In order to set required CPU flags to libvirt, we have to first get all
required traits.

Change-Id: I6a10f55f777917d6caf2f09aa5b2ca7c4676b749
Implements: blueprint cpu-model-selection
"
openstack%2Fpython-tripleoclient~stable%2Fstein~Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780,openstack/python-tripleoclient,stable/stein,bp/validation-framework-stable/stein,Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780,Use static inventory YAML file for saving execution time,MERGED,2019-08-01 09:39:30.000000000,2019-08-02 15:57:37.000000000,2019-08-02 15:57:37.000000000,43,11,0,673984,af8dadea92283c22c117200d377dca842d5836bc,14,9,1,3,11491,Gael Chamoulaud,gchamoul,"Use static inventory YAML file for saving execution time

The validations execution will use now a static inventory file to speed
up things a bit. Note that this file will be removed after execution.

Change-Id: Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 4f55cdf59ad871dccf107e191c9c738c22fe26f4)
"
openstack%2Fpython-tripleoclient~stable%2Fstein~I188604f7767b51a0f485bd79ff3497af56586b13,openstack/python-tripleoclient,stable/stein,bp/validation-framework-stable/stein,I188604f7767b51a0f485bd79ff3497af56586b13,Don't use local connection by default for the validations,MERGED,2019-08-01 09:39:30.000000000,2019-08-02 15:53:26.000000000,2019-08-02 15:53:26.000000000,0,2,0,673983,439fcbf3d353ae433a5211d07bee8e16dad84590,13,8,1,2,11491,Gael Chamoulaud,gchamoul,"Don't use local connection by default for the validations

When using local connection, all the validations targeting the overcloud
nodes are failing. Let's use the connection mode from the Ansible
inventory.

Change-Id: I188604f7767b51a0f485bd79ff3497af56586b13
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 82887ef228659c7494f51b7e37eb177ff98b69bc)
"
openstack%2Fpython-tripleoclient~stable%2Fstein~I6f8f55963f3f5261ec1497b650e0ca509d31dd32,openstack/python-tripleoclient,stable/stein,bp/validation-framework-stable/stein,I6f8f55963f3f5261ec1497b650e0ca509d31dd32,Add plan parameter to run_ansible_playbook function,MERGED,2019-08-01 09:39:30.000000000,2019-08-02 15:53:25.000000000,2019-08-02 15:53:25.000000000,24,11,0,673982,57070c82c9105a5ada7c9bd45af762ec276b98d5,14,8,1,4,11491,Gael Chamoulaud,gchamoul,"Add plan parameter to run_ansible_playbook function

This patch adds a new parameter called 'plan' (Defaults to ""overcloud"")
to the 'run_ansible_playbook' function. It will allow to execute
Validations with Ansible in a different plan or stack that the default
one through the TripleO CLI. Note That it was already possible only
while using Mistral but not for Ansible.

This patch also brings:
- Change the default values of the 'tags' and 'skip_tags' arguments
  to 'None' and fixes their non Pythonic tests.
- Add '--stack' alias to the '--plan' argument for 'validator run'
  command.

Change-Id: I6f8f55963f3f5261ec1497b650e0ca509d31dd32
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 17e56a01d5d1efbb9307addb80a92fe242595412)
"
openstack%2Fcharm-percona-cluster~master~I3a548d7941084f862d40ccdbb59f5d4706557432,openstack/charm-percona-cluster,master,workaround-for-codeblocks-plus-formatting,I3a548d7941084f862d40ccdbb59f5d4706557432,use indentation instead of backticks - driveby formatting and minor fixes,MERGED,2019-08-02 15:10:02.000000000,2019-08-02 15:32:51.000000000,2019-08-02 15:32:51.000000000,70,86,0,674329,bd12b35b80c52830db3eb05b92a6e79e005bff31,6,2,1,1,30561,Peter Matulis,pmatulis,"use indentation instead of backticks - driveby formatting and minor fixes

Change-Id: I3a548d7941084f862d40ccdbb59f5d4706557432
"
openstack%2Fnova~master~Iff9730d19486122cd5ce174b0129546edf2a3224,openstack/nova,master,bp/cpu-resources,Iff9730d19486122cd5ce174b0129546edf2a3224,trivial: Remove unused function parameter,MERGED,2019-07-19 18:17:15.000000000,2019-08-02 15:32:30.000000000,2019-08-02 15:32:30.000000000,4,17,0,671796,d1fd180a9b1fcaab78f440ecfb69ee4958110d58,93,16,7,2,15334,Stephen Finucane,sfinucan,"trivial: Remove unused function parameter

The 'never_serialize_result' parameter of the
'get_host_numa_usage_from_instance' function has no callers that aren't
tests. Remove it.

Change-Id: Iff9730d19486122cd5ce174b0129546edf2a3224
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fopenstack-helm-images~master~Idc1973f5ea3dd3be2e4cf1c964cf0e60c849a159,openstack/openstack-helm-images,master,,Idc1973f5ea3dd3be2e4cf1c964cf0e60c849a159,Add support for DPDK to opensuse openvswitch image,MERGED,2019-07-16 10:14:33.000000000,2019-08-02 15:28:55.000000000,2019-08-02 15:25:19.000000000,16,0,6,670997,86be43387b3d91d407eaae287a8575a4ca8f21af,33,14,5,2,21883,Manuel Buil,mbuil,"Add support for DPDK to opensuse openvswitch image

This patch adds a leap 15.0 openvswitch image with DPDK support by
installing both ovs and dpdk available packages. The versions are:

openvswitch 2.11
dpdk 18.11.0

Change-Id: Idc1973f5ea3dd3be2e4cf1c964cf0e60c849a159
Signed-off-by: Manuel Buil <mbuil@suse.com>
"
openstack%2Fopenstack-ansible-os_manila~master~I301dd383ac148f0d7c3d5e3dd8af0421edc64536,openstack/openstack-ansible-os_manila,master,osa/integrated_tests,I301dd383ac148f0d7c3d5e3dd8af0421edc64536,Test using integrated build,ABANDONED,2019-07-29 16:08:51.000000000,2019-08-02 15:23:11.000000000,,3,0,0,673329,dcd75abd57882541fa9316388925b36c60907bed,9,1,5,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Test using integrated build

In order to do a more complete verification of any patches,
we add a full uncontainerised OpenStack deployment to the
functional testing using the integrated repo.

Change-Id: I301dd383ac148f0d7c3d5e3dd8af0421edc64536
"
openstack%2Fopenstack-ansible-os_tempest~master~I85c8bd602246a26c12e6ec91582f4207332ca8cf,openstack/openstack-ansible-os_tempest,master,,I85c8bd602246a26c12e6ec91582f4207332ca8cf,Add manila test,ABANDONED,2019-07-31 10:23:51.000000000,2019-08-02 15:20:15.000000000,,1,0,0,673780,b3c6163d1a9a6c835d624d00405b11bc959a1e61,4,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add manila test

When tempest_service_available_manila is set to true, manila test
should be executed.

Change-Id: I85c8bd602246a26c12e6ec91582f4207332ca8cf
"
openstack%2Fsahara~master~Id846249cecabd729b1dcdbb35756070ed6072fef,openstack/sahara,master,,Id846249cecabd729b1dcdbb35756070ed6072fef,DNM build spark image on ubuntu,NEW,2019-08-01 13:30:34.000000000,2019-08-02 15:20:04.000000000,,8,3,0,674032,0aa7794968c32e82de32af1651544fb9c7406176,5,2,2,1,23078,Jeremy Freudberg,jeremyfreudberg,"DNM build spark image on ubuntu

Change-Id: Id846249cecabd729b1dcdbb35756070ed6072fef
"
openstack%2Ftripleo-heat-templates~master~I246d0f365c1b8eef7730a1abe0507555e23e6408,openstack/tripleo-heat-templates,master,libvirt-log-fix,I246d0f365c1b8eef7730a1abe0507555e23e6408,Fix missing syslog name in libvirt log setting,MERGED,2019-08-02 08:19:35.000000000,2019-08-02 15:18:22.000000000,2019-08-02 15:18:22.000000000,1,1,1,674219,387f9d984fdfcbd85eeb23cc0072ad0fae51bf95,12,6,3,1,9816,Takashi Kajinami,kajinamit,"Fix missing syslog name in libvirt log setting

The commit I6e5ac7f5971df5998db22c5d392084fddf77d34a  makes libvirt
directly send logs to rsyslog to avoid duplicated header, but in fact
it was not working properly because of missing syslog name specified.

This patch fixes the wrong value passed there, so that we have
the log surely directed to syslog.

Change-Id: I246d0f365c1b8eef7730a1abe0507555e23e6408
"
openstack%2Fironic~master~Id8686bd6f9bd6555f92ae64542442c43a61e55e7,openstack/ironic,master,bp/nova-support-instance-power-update,Id8686bd6f9bd6555f92ae64542442c43a61e55e7,SQUASH: Use ksa adapter for Nova communication,ABANDONED,2019-07-23 21:31:25.000000000,2019-08-02 15:15:28.000000000,,40,84,12,672369,544d4fb655a0514a5530109d549d9090ea23565d,9,6,1,4,14070,Eric Fried,efried,"SQUASH: Use ksa adapter for Nova communication

A start on using a keystoneauth1 Adapter instead of python-novaclient to
talk to the nova service for power-update events.

This is not complete: I didn't test anything.

Change-Id: Id8686bd6f9bd6555f92ae64542442c43a61e55e7
"
openstack%2Fpython-tripleoclient~master~Iaf08f7d7b919b154797cf8f10663f349424cd6a2,openstack/python-tripleoclient,master,bug/1837393,Iaf08f7d7b919b154797cf8f10663f349424cd6a2,Close resources correctly,MERGED,2019-08-01 18:49:04.000000000,2019-08-02 15:14:12.000000000,2019-08-02 15:14:12.000000000,81,68,0,674107,6521585912896c2c290c0ca15e6d5132aea77196,13,5,2,5,14985,Alex Schultz,mwhahaha,"Close resources correctly

Under python3 not closing file handles or network resources correctly
results in warnings being shown to the end user. This change switches
the resource usage to properly close when we're done.

Change-Id: Iaf08f7d7b919b154797cf8f10663f349424cd6a2
Related-Bug: #1837393
"
openstack%2Fopenstack-helm-infra~master~Iac52ca82e95bb372dbcbca0eeea3b262215e9c12,openstack/openstack-helm-infra,master,bunny-reset-fix,Iac52ca82e95bb372dbcbca0eeea3b262215e9c12,RabbitMQ: Dont remove definitions.json and erlang cookie when resetting,MERGED,2019-07-31 17:43:26.000000000,2019-08-02 15:03:18.000000000,2019-08-02 15:03:18.000000000,1,1,0,673883,eef8ea131aaeb9996755dba23286bee80e19e451,22,7,3,1,23928,Pete Birley,portdirect,"RabbitMQ: Dont remove definitions.json and erlang cookie when resetting

This PS udpated the reset node function to leave the assets generated
via init containers in place when resetting the node.

Change-Id: Iac52ca82e95bb372dbcbca0eeea3b262215e9c12
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fkayobe~master~Icf54da6a0d1439fc416b556707a62df300daa9bf,openstack/kayobe,master,placement-fix,Icf54da6a0d1439fc416b556707a62df300daa9bf,Build placement images by default,MERGED,2019-07-18 12:54:46.000000000,2019-08-02 14:59:10.000000000,2019-08-02 14:59:10.000000000,2,0,2,671478,9bae1c5d1c0d3ba6f8c48283e316ec796cbf7a5e,12,4,2,1,28048,Will Szumski,jovial,"Build placement images by default

placement has been split from nova, see:

https://github.com/openstack/kolla/commit/2f657085c67302ab54dcb64b335a2f3732ba4de4#diff-c5172145fe90316d5c16e60e61a592a2

Change-Id: Icf54da6a0d1439fc416b556707a62df300daa9bf
Story: 2006248
Task: 35857
"
openstack%2Fironic~master~Ibe4f6bf0b38364b5dd214e6c7e58d45a4d71ffdf,openstack/ironic,master,inspector-sdk,Ibe4f6bf0b38364b5dd214e6c7e58d45a4d71ffdf,Use openstacksdk for accessing ironic-inspector,MERGED,2019-07-09 11:48:07.000000000,2019-08-02 14:48:39.000000000,2019-08-02 14:48:39.000000000,65,137,2,669855,d6774c294d8f097154165ff76ba54bef7401475c,30,9,5,11,10239,Dmitry Tantsur,dtantsur,"Use openstacksdk for accessing ironic-inspector

Change-Id: Ibe4f6bf0b38364b5dd214e6c7e58d45a4d71ffdf
"
openstack%2Fnova~stable%2Fstein~I43e34b3ff1424d42632a3e8f842c93508905aa1a,openstack/nova,stable/stein,bug/1834349,I43e34b3ff1424d42632a3e8f842c93508905aa1a,Fix AttributeError in RT._update_usage_from_migration,MERGED,2019-07-31 15:45:48.000000000,2019-08-02 14:29:52.000000000,2019-08-02 14:29:51.000000000,31,2,0,673856,dd09686232c485225951eabadadae143d2b95e7d,20,6,1,2,6873,Matt Riedemann,mriedem,"Fix AttributeError in RT._update_usage_from_migration

Change Ieb539c9a0cfbac743c579a1633234537a8e3e3ee in Stein
added some logging in _update_usage_from_migration to log
the flavor for an inbound and outbound migration.

If an instance is resized and then the resize is immediately
confirmed, it's possible to race with ComputeManager._confirm_resize
setting the instance.old_flavor to None before the migration
status is changed to ""confirmed"" while the update_available_resource
periodic is running which will result in _update_usage_from_migration
hitting an AttributeError when trying to log instance.old_flavor.flavorid
since instance.old_flavor is None.

There are a few key points there:

- We get into _update_usage_from_migration because the
  _update_available_resource method gets in-progress migrations
  related to the host (in this case the source compute) and the
  migration is consider in-progress until its status is ""confirmed"".

- The instance is not in the tracked_instances dict when
  _update_usage_from_migration runs because RT only tracks instances
  where the instance.host matches the RT.host and in this case the
  instance has been resized to another compute and the instance.host
  is pointing at the dest compute.

The fix here is to simply check if we got the instance.old_flavor and
not log the message if we do not have it, which gets us back to the old
behavior.

This bug was found by noticing it in CI job logs - there is a link to
hits in logstash in the bug report.

As for the ""incoming and not tracked"" case in _update_usage_from_migration
I have not modified that since I am not sure we have the same race nor
have I seen it in CI logs.

Change-Id: I43e34b3ff1424d42632a3e8f842c93508905aa1a
Closes-Bug: #1834349
(cherry picked from commit 818419c9d313bd6151d1a05b3a087a15116f61b8)
"
openstack%2Fopenstack-helm-infra~master~I695beb9463c3ef590dd16888dfe712b24a308856,openstack/openstack-helm-infra,master,,I695beb9463c3ef590dd16888dfe712b24a308856,[476959] Change the nagios state information policy,ABANDONED,2018-10-25 16:46:52.000000000,2019-08-02 14:21:57.000000000,,1,1,2,613374,f2a823181f8cd643cba182a7312165d995e09771,10,5,3,1,18295,John Lawrence,jl401j,"[476959] Change the nagios state information policy

Nagios uses the “state_retention_file” configuration parameter by default.
(ie, retain the state information for hosts and services between the restarts)

But for the kubernetes controlled deployments, we can disable this.
Currently it is using big chunk of storage space(>26G)

Change-Id: I695beb9463c3ef590dd16888dfe712b24a308856
"
openstack%2Fopenstack-helm-images~master~I55635e745934020eaed00c8de4e552a19e491596,openstack/openstack-helm-images,master,,I55635e745934020eaed00c8de4e552a19e491596,Removing the UCP health check URLs and checking only the availablity,ABANDONED,2019-07-03 15:31:33.000000000,2019-08-02 14:21:42.000000000,,5,5,1,668939,5d8b4640ad1fe1ceee7ccf6f4f3016831f8dbe85,6,4,1,1,18295,John Lawrence,jl401j,"Removing the UCP health check URLs and checking only the availablity

Change-Id: I55635e745934020eaed00c8de4e552a19e491596
"
openstack%2Frally-openstack~master~I2c54cb4406849d412706f0faf1f7cbff5f31a772,openstack/rally-openstack,master,snapshotserver,I2c54cb4406849d412706f0faf1f7cbff5f31a772,check the task state after creating image,MERGED,2019-07-31 07:46:20.000000000,2019-08-02 14:21:22.000000000,2019-08-02 14:21:22.000000000,26,7,1,673748,0470f7ffbe00b7ebc93edcf00643b3f494c99ef4,16,2,6,2,21528,chenhb,chenhb,"check the task state after creating image

The operation is not really done while the status of image is ACTIVE, nova
would update the properties of new image and do some operation on server,
so it is better to check the task state.

Change-Id: I2c54cb4406849d412706f0faf1f7cbff5f31a772
"
openstack%2Ftempest~master~I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd,openstack/tempest,master,bug/1807559,I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd,Fix Glance test by adding a skipcheck,ABANDONED,2019-07-23 19:26:44.000000000,2019-08-02 14:11:03.000000000,,9,0,6,672346,5aab7221b882dc625e184196966d80b8a5b41506,33,11,11,3,30666,Soumya Purohit,soumyapurohit,"Fix Glance test by adding a skipcheck

If glance does not have any resource type association，it will experience an
IndexError when getting resource_name from list_resource_types
response body because the response body does not have any resource_types.

This patch fixes this bug with the following method:
Adding a skipcheck if the deployment does not have image metadata

Closes-Bug: #1807559
Change-Id: I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd
"
openstack%2Fcharm-neutron-openvswitch~master~If1f669de09e2499e74e88e2b72203047e7f9f957,openstack/charm-neutron-openvswitch,master,bug/1832021,If1f669de09e2499e74e88e2b72203047e7f9f957,Stop using veth pairs to connect qdhcp ns,MERGED,2019-06-19 13:51:26.000000000,2019-08-02 13:58:11.000000000,2019-07-02 09:10:09.000000000,3,3,0,666293,7578326c592a81e6cc6737f360fc2b15ed175cf0,22,5,1,4,12549,gnuoy,gnuoy,"Stop using veth pairs to connect qdhcp ns

veth pairs are currently being used to connect the qdhcp namespace
to the underlying bridge. This behaviour appears to only be needed
for old kernels with limited namespaces support (pre trusty).

Change-Id: If1f669de09e2499e74e88e2b72203047e7f9f957
Closes-Bug: #1832021
"
openstack%2Fkolla-ansible~master~Ia4ec794bb2b18aca2592b62a35066c237192a0f3,openstack/kolla-ansible,master,,Ia4ec794bb2b18aca2592b62a35066c237192a0f3,Ensure keystone endpoint is updatable,MERGED,2018-03-29 07:36:35.000000000,2019-08-02 13:54:21.000000000,2019-01-17 09:42:21.000000000,21,0,1,557639,6191c775c1fc90c5ded5054286c84a519ad75ec4,15,6,3,1,7488,Jeffrey Zhang,Jeffrey4l,"Ensure keystone endpoint is updatable

Change-Id: Ia4ec794bb2b18aca2592b62a35066c237192a0f3
"
openstack%2Fopenstack-ansible-os_cloudkitty~master~Ie08cfd0d8dc4835712df0b937170b631aebd10c8,openstack/openstack-ansible-os_cloudkitty,master,cloudkitty_metrics,Ie08cfd0d8dc4835712df0b937170b631aebd10c8,Add distribution of metrics.yml,MERGED,2019-07-31 09:07:18.000000000,2019-08-02 13:51:21.000000000,2019-08-02 13:51:21.000000000,99,0,0,673768,f0e09192218d05673b1b23105c1abdf107e4936d,9,3,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add distribution of metrics.yml

As cloudkitty requires metrics.yml to be present in etc directory
to be fully operational, we're distributing this file by default[1]
cloudkitty_metrics_overrides variable added in order to override default

[1] http://logs.openstack.org/30/673530/2/check/openstack-ansible-functional-ubuntu-bionic/c6eee8a/logs/openstack/openstack1/cloudkitty-processor.service.journal.log.txt.gz#_Jul_30_14_44_00

Change-Id: Ie08cfd0d8dc4835712df0b937170b631aebd10c8
"
openstack%2Fnova~master~I63411214c412af93501b27eb39f97bf980b21760,openstack/nova,master,bp/cross-cell-resize,I63411214c412af93501b27eb39f97bf980b21760,Add Migration.cross_cell_move and get_by_uuid,MERGED,2018-10-29 19:08:49.000000000,2019-08-02 13:35:59.000000000,2019-06-18 19:24:49.000000000,111,13,13,614012,1cf3da87027d87251920c2df665b850abb31178e,426,23,37,11,6873,Matt Riedemann,mriedem,"Add Migration.cross_cell_move and get_by_uuid

This adds a new boolean column, cross_cell_move,
to the migrations table in the cell database and
corresponding field in the Migrations versioned
object. This will be used to track cross-cell
resize operations. Also, a Migration.get_by_uuid()
method is added to the versioned object because
while doing a cross-cell resize, we will need to
be able to lookup a migration record via its uuid
which will be unique across cell databases, unlike
its id value which is specific to each cell database.

Note that we opt to not store the source/dest cell
UUIDs directly in the migrations table because the
migrations records are stored in the cell database and
we prefer to keep the cell information (which is in the
API) separated from the cell database, especially in
case the cell UUID maps to something that does not
exist later (like if the cell is split).

Part of blueprint cross-cell-resize

Change-Id: I63411214c412af93501b27eb39f97bf980b21760
"
openstack%2Fnova~master~I73dbe60bed1176a8db41b71b0729b0ba5366a042,openstack/nova,master,nit_fixed,I73dbe60bed1176a8db41b71b0729b0ba5366a042,nit: fix the test case of migration obj_make_compatible,MERGED,2019-08-01 08:57:35.000000000,2019-08-02 13:35:44.000000000,2019-08-02 02:53:33.000000000,1,1,0,673961,a6199d576c2414ba5c04f28cf9b5bb736fd6638d,24,9,1,1,26458,Brin Zhang,zhangbailin,"nit: fix the test case of migration obj_make_compatible

Related-on: https://review.opendev.org/#/c/614012
Change-Id: I73dbe60bed1176a8db41b71b0729b0ba5366a042
"
openstack%2Ftripleo-common~stable%2Fstein~I45adc2b610783c42394ed701fec4e7abbf3de974,openstack/tripleo-common,stable/stein,,I45adc2b610783c42394ed701fec4e7abbf3de974,Bump ceph/daemon container image to v4.0.1,MERGED,2019-07-30 10:25:05.000000000,2019-08-02 13:30:28.000000000,2019-08-02 13:30:27.000000000,3,3,0,673465,2d015a5fa9e2a071d88c762649d766c5d35a8158,15,5,1,3,6796,Giulio Fidente,gfidente,"Bump ceph/daemon container image to v4.0.1

Tested via https://review.opendev.org/562213

Change-Id: I45adc2b610783c42394ed701fec4e7abbf3de974
(cherry picked from commit 9448a6380a473687145571e7d8934e1626c0cb33)
"
openstack%2Fkolla-ansible~stable%2Frocky~I82d30f3fcf325a3fdff3c59f19a1f88055b566cc,openstack/kolla-ansible,stable/rocky,bug/1823766,I82d30f3fcf325a3fdff3c59f19a1f88055b566cc,"During deploy, always sync DB",MERGED,2019-07-12 13:11:15.000000000,2019-08-02 13:29:22.000000000,2019-08-02 13:29:22.000000000,0,68,0,670548,441c5a03f7e788336f3a7c1cb15dcec207073b07,13,3,1,32,14826,Mark Goddard,mgoddard,"During deploy, always sync DB

A common class of problems goes like this:

* kolla-ansible deploy
* Hit a problem, often in ansible/roles/*/tasks/bootstrap.yml
* Re-run kolla-ansible deploy
* Service fails to start

This happens because the DB is created during the first run, but for some
reason we fail before performing the DB sync. This means that on the second run
we don't include ansible/roles/*/tasks/bootstrap_service.yml because the DB
already exists, and therefore still don't perform the DB sync. However this
time, the command may complete without apparent error.

We should be less careful about when we perform the DB sync, and do it whenever
it is necessary. There is an argument for not doing the sync during a
'reconfigure' command, although we will not change that here.

This change only always performs the DB sync during 'deploy' and
'reconfigure' commands.

Change-Id: I82d30f3fcf325a3fdff3c59f19a1f88055b566cc
Closes-Bug: #1823766
Closes-Bug: #1797814
(cherry picked from commit d5e5e885d11e338806425839a361d868c1f4ff10)
"
openstack%2Fswift~master~Ia832e9bab13167948f01bc50aa8a61974ce189fb,openstack/swift,master,bug/1833612,Ia832e9bab13167948f01bc50aa8a61974ce189fb,Ignore 404s from handoffs for objects when calculating quorum,MERGED,2019-07-22 22:21:20.000000000,2019-08-02 13:23:27.000000000,2019-08-02 13:17:54.000000000,305,28,31,672186,3189410f9d5be3a845dbd47fdd77584f4b76da8a,32,5,8,6,15343,Tim Burke,tburke,"Ignore 404s from handoffs for objects when calculating quorum

We previously realized we needed to do that for accounts and containers
where the consequences of treating the 404 as authoritative were more
obvious: we'd cache the non-existence which prevented writes until it
fell out of cache.

The same basic logic applies for objects, though: if we see

    (Timeout, Timeout, Timeout, 404, 404, 404)

on a triple-replica policy, we don't really have any reason to think
that a 404 is appropriate. In fact, it seems reasonably likely that
there's a thundering-herd problem where there are too many concurrent
requests for data that *definitely is there*. By responding with a 503,
we apply some back-pressure to clients, who hopefully have some
exponential backoff in their retries.

The situation gets a bit more complicated with erasure-coded data, but
the same basic principle applies. We're just more likely to have
confirmation that there *is* data out there, we just can't reconstruct
it (right now).

Note that we *still want to check* those handoffs, of course. Our
fail-in-place strategy has us replicate (and, more recently,
reconstruct) to handoffs to maintain durability; it'd be silly *not* to
look.

UpgradeImpact:
--------------
Be aware that this may cause an increase in 503 Service Unavailable
responses served by proxy-servers. However, this should more accurately
reflect the state of the system.

Co-Authored-By: Thiago da Silva <thiagodasilva@gmail.com>
Change-Id: Ia832e9bab13167948f01bc50aa8a61974ce189fb
Closes-Bug: #1837819
Related-Bug: #1833612
Related-Change: I53ed04b5de20c261ddd79c98c629580472e09961
Related-Change: Ief44ed39d97f65e4270bf73051da9a2dd0ddbaec
"
openstack%2Fswift~master~I023b8a46c06e9a2755b5aa890a7992ef9633cba9,openstack/swift,master,655784,I023b8a46c06e9a2755b5aa890a7992ef9633cba9,sharding: better handle get_shard_ranges failures,MERGED,2019-04-25 20:05:26.000000000,2019-08-02 13:21:20.000000000,2019-08-02 13:17:51.000000000,1,1,0,655784,bc5f4c061122aee5965cfb055beb3cb079073536,18,7,2,1,15343,Tim Burke,tburke,"sharding: better handle get_shard_ranges failures

The contract for ReplConnection.replicate() is that if we can get a
response, we return it, and if we can't (because of a timeout, or a
socket error, or some other http_client error like BadStatusLine), we
return None to indicate the error.

Previously, _fetch_and_merge_shard_ranges() always assumed the
response would have a `status` attribute and raise an AttributeError
when response was None. Now it will treat that case like other
get_shard_range failures.

Change-Id: I023b8a46c06e9a2755b5aa890a7992ef9633cba9
"
openstack%2Fdevstack~master~I80c96603a41ef9d289712ef15b464859aa9257be,openstack/devstack,master,unqoute-ipv6-metadata,I80c96603a41ef9d289712ef15b464859aa9257be,Un-quote metadata address if it is IPv6,MERGED,2019-07-31 16:21:25.000000000,2019-08-02 13:17:48.000000000,2019-08-02 13:17:47.000000000,2,1,0,673864,a54919180b1316b998739f8b2ba0cc4b79c6b759,11,4,1,1,1131,Brian Haley,brian-haley,"Un-quote metadata address if it is IPv6

In lib/neutron-legacy, the Nova metadata host address is
un-quoted if it is IPv6, i.e. 2001:db8::1, not [2001:db8::1].
We should be doing the same in lib/neutron.

Change-Id: I80c96603a41ef9d289712ef15b464859aa9257be
"
openstack%2Fneutron~master~I26115932ef4775f157297be1637ee26a4fca4666,openstack/neutron,master,fix-rpc-workers-default,I26115932ef4775f157297be1637ee26a4fca4666,Fix default RPC worker count,MERGED,2019-08-01 19:58:30.000000000,2019-08-02 13:17:45.000000000,2019-08-02 13:17:45.000000000,6,2,0,674125,61d149c0123997accc5c48994d7a4d1514eb49c9,18,7,1,2,2394,Adam Spiers,adam.spiers,"Fix default RPC worker count

The help for the rpc_workers config option is:

    Number of RPC worker processes for service.  If not specified, the
    default is equal to half the number of API workers.

However, this does not accurately describe the current behaviour,
which is to default to half the _default_ number of API workers.  This
can make a big difference; for example on a 256-CPU machine with 256GB
of RAM which has api_workers configured to 8 but rpc_workers not
configured to anything, this will result in 64 RPC workers, which is 8
for every API worker!

Therefore tweak the default to rely on the actual value of
api_workers, which may be different than the default value.

Change-Id: I26115932ef4775f157297be1637ee26a4fca4666
Related-Bug: #1838688
Closes-Bug: #1838689
"
openstack%2Fopenstack-helm~master~I83f5de1c32201a7534a65667b87b90bd46e156a8,openstack/openstack-helm,master,,I83f5de1c32201a7534a65667b87b90bd46e156a8,Remove dependency for db_sync on keystone-rabbit-init,MERGED,2019-07-24 08:11:21.000000000,2019-08-02 13:09:14.000000000,2019-08-02 13:09:14.000000000,0,1,0,672418,ab7c203cf9b4583d2a61ebf5e9700b6a6854005a,17,8,3,1,29954,Oleh Hryhorov,ohryhorov,"Remove dependency for db_sync on keystone-rabbit-init

The patch adjusts dependency and removes dependency for db_sync on
keystone-rabbit-init job.

Change-Id: I83f5de1c32201a7534a65667b87b90bd46e156a8
"
openstack%2Fironic~master~Ie0d56da52ae8476d9f9860c967e8e31253a63c5b,openstack/ironic,master,ansible_fix_root_device_hint,Ie0d56da52ae8476d9f9860c967e8e31253a63c5b,Ansible driver: fix deployment with serial specified as root device hint,MERGED,2019-07-24 13:59:58.000000000,2019-08-02 13:07:59.000000000,2019-08-02 11:17:14.000000000,13,3,6,672530,ba207ba3720c501499c990bcf6c3ca335055c589,69,9,3,3,15064,raphael.glon,raphael,"Ansible driver: fix deployment with serial specified as root device hint

Change-Id: Ie0d56da52ae8476d9f9860c967e8e31253a63c5b
Story: #2006275
Task: #35975
"
openstack%2Fnova~master~Iad71b6e15bb91e51080cd9f940410dc9af791963,openstack/nova,master,bug/1830417,Iad71b6e15bb91e51080cd9f940410dc9af791963,(Re-)enable vnc console tests in nova-multi-cell job,MERGED,2019-06-25 15:42:52.000000000,2019-08-02 13:04:58.000000000,2019-08-02 13:04:58.000000000,0,2,0,667388,a24d883e8cef62532161b7528b4436b41b0fd10b,43,16,1,1,6873,Matt Riedemann,mriedem,"(Re-)enable vnc console tests in nova-multi-cell job

This reverts commit 47b73030cba7d67fe308c5b89c2a64e93d74bcd6.

The dependent devstack change fixes the issue so we can enable
vnc console tempest testing in the nova-multi-cell job.

Depends-On: https://review.opendev.org/661391/

Change-Id: Iad71b6e15bb91e51080cd9f940410dc9af791963
Related-Bug: #1830417
"
openstack%2Fcinder~master~Iac785eef9be4b9cdb5c739ee0a87949805282867,openstack/cinder,master,bug/1834845,Iac785eef9be4b9cdb5c739ee0a87949805282867,Fix DetachedInstanceError for VolumeAttachment,MERGED,2019-07-02 10:05:03.000000000,2019-08-02 13:04:47.000000000,2019-08-01 21:47:05.000000000,36,11,2,668646,2e73bede80cc2acdb3527f06bc5c5f9c1a8463a7,163,38,5,5,9535,Gorka Eguileor,Gorka,"Fix DetachedInstanceError for VolumeAttachment

Patch I253123d5451b32f0e3143916e41aaa1af75561c2 fixed the
DetachedInstanceError for VolumeAttachment OVOs but only partially, as
apparently it was dependent on the SQLAlchemy version due to the use os
""hasattr"".

This patch replaces ""hasattr"" with a check on the object's dictionary,
which will never trigger a Lazy Load.

Closes-Bug: #1834845
Change-Id: Iac785eef9be4b9cdb5c739ee0a87949805282867
"
openstack%2Ftripleo-ansible~master~Ia5b12fe05903a4c33132d9c862f0543cfdb11418,openstack/tripleo-ansible,master,,Ia5b12fe05903a4c33132d9c862f0543cfdb11418,Fix wrong indentation in ansible-autodoc.py sphinx extension.,ABANDONED,2019-08-02 10:45:58.000000000,2019-08-02 12:51:09.000000000,,3,3,0,674260,b5f49cd46310bdb9d8cb0b9199fde078b2736712,4,6,1,1,11491,Gael Chamoulaud,gchamoul,"Fix wrong indentation in ansible-autodoc.py sphinx extension.

This patch fixes issue when trying to build documentation with sphinx
1.8.x and python 2.7.x but was passing smoothly with python 3 and sphinx
> 2.x.

Change-Id: Ia5b12fe05903a4c33132d9c862f0543cfdb11418
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fptgbot~master~Ie5535c3b8b6526f2ed8a8c99c62e5a770dd5a31e,openstack/ptgbot,master,,Ie5535c3b8b6526f2ed8a8c99c62e5a770dd5a31e,Add Python 3 Train unit tests,MERGED,2019-07-15 03:39:04.000000000,2019-08-02 12:35:03.000000000,2019-08-02 12:35:02.000000000,2,0,0,670753,6b50af14a6057d5fb369c1cfe57afaa6290f8e7c,12,8,1,1,30077,Qiu Fossen,qiufossen,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ie5535c3b8b6526f2ed8a8c99c62e5a770dd5a31e
"
openstack%2Fptgbot~master~Ifc4cdedf6c365f92e5ff001d1485c8fee21b396f,openstack/ptgbot,master,clear-presence,Ifc4cdedf6c365f92e5ff001d1485c8fee21b396f,Clean up stale data presence on a #newday command,MERGED,2019-07-12 14:57:37.000000000,2019-08-02 12:35:02.000000000,2019-08-02 12:35:02.000000000,3,1,0,670578,18dbbc69f46f9ba8a91525407569b19ce173bfbe,7,3,1,2,308,Thierry Carrez,ttx,"Clean up stale data presence on a #newday command

Data presence was not reset on a new day cleanup, while it
is almost certainly stale at this point. Hopefully.

Change-Id: Ifc4cdedf6c365f92e5ff001d1485c8fee21b396f
"
openstack%2Fptgbot~master~I62539a8c7130eac5eb666af019b7c94078666656,openstack/ptgbot,master,clear-presence,I62539a8c7130eac5eb666af019b7c94078666656,Reset to OrderedDict on new day cleanup,MERGED,2019-07-12 14:57:37.000000000,2019-08-02 12:35:01.000000000,2019-08-02 12:35:01.000000000,3,3,0,670577,170c75cd1655bb624f579267735990b3aaddb73f,7,3,1,1,308,Thierry Carrez,ttx,"Reset to OrderedDict on new day cleanup

While originally created as an OrderedDict, some data tables
were reset to a basic dictionary on a #newday command.

Change-Id: I62539a8c7130eac5eb666af019b7c94078666656
"
openstack%2Ftripleo-common~master~Ie41ba6de1170a9c9ffc94889e47bce9ef1200521,openstack/tripleo-common,master,bug/1838536,Ie41ba6de1170a9c9ffc94889e47bce9ef1200521,Fix ansible-generate-inventory action,MERGED,2019-07-31 15:33:56.000000000,2019-08-02 12:25:29.000000000,2019-08-01 09:41:09.000000000,27,2,0,673850,6a35576e9e6154a33e64413750e9da01603b7722,12,10,2,2,13861,yatin,yatinkarel,"Fix ansible-generate-inventory action

ansible-generate-inventory action raises Exception
when 'ansible_python_interpreter' input is passed to it.

This patch fixes it and also update unit test to cover
missing part.

Closes-Bug: #1838536
Change-Id: Ie41ba6de1170a9c9ffc94889e47bce9ef1200521
"
openstack%2Fkayobe~master~Ia0ed200d73811c1787ec4f08dc72079cadc40675,openstack/kayobe,master,ceph-fix,Ia0ed200d73811c1787ec4f08dc72079cadc40675,Fix parsing of etc/kayobe/ceph.yml with no variables defined,MERGED,2019-07-17 15:19:42.000000000,2019-08-02 12:19:17.000000000,2019-08-02 12:19:17.000000000,4,0,0,671316,4fa517b461478128198db88659915957e89545a8,7,3,1,1,28048,Will Szumski,jovial,"Fix parsing of etc/kayobe/ceph.yml with no variables defined

TrivialFix

Change-Id: Ia0ed200d73811c1787ec4f08dc72079cadc40675
"
openstack%2Fdevstack~master~Id885fc5a769bce8111f1052a1b55d26be817c890,openstack/devstack,master,nova-multi-cell,Id885fc5a769bce8111f1052a1b55d26be817c890,Configure console proxy ports in nova-cpu.conf,MERGED,2019-05-24 20:24:06.000000000,2019-08-02 12:07:35.000000000,2019-08-02 12:07:35.000000000,18,6,3,661391,d7d902f6b60298d56359a07a63b2355373e54956,31,7,3,1,4690,melanie witt,melwitt,"Configure console proxy ports in nova-cpu.conf

In change I8934d0b9392f2976347391c8a650ad260f337762, we began
configuring console proxy ports for multiple cells in the nova
controller config files to avoid ""Address already in use"" errors from
port collisions when running multiple cells on a single host.

This correspondingly configures the console proxy ports in the nova
compute config file based on what cell we're in, according to the
NOVA_CPU_CELL variable.

The base_url config for serial console is also added where the default
was previously used. The url is taken from the config option default in
the nova code: nova/conf/serial_console.py [1].

[1] https://github.com/openstack/nova/blob/8f00b5d/nova/conf/serial_console.py#L54

Change-Id: Id885fc5a769bce8111f1052a1b55d26be817c890
Closes-Bug: #1830417
"
openstack%2Ftripleo-heat-templates~master~Ife25df81f19b31200c42e67723c82a9668d35cc3,openstack/tripleo-heat-templates,master,bug/1835414,Ife25df81f19b31200c42e67723c82a9668d35cc3,Use puppet tasks to configure Apache MPM,ABANDONED,2019-08-01 14:54:24.000000000,2019-08-02 12:05:25.000000000,,45,188,0,674058,460b05bcfb55cb46313c1b8184669549ccb28230,9,3,4,22,6926,Bogdan Dobrelya,bogdando,"Use puppet tasks to configure Apache MPM

Container puppet tasks does not fit for this purpose as
it is executed only once per a bootstrap node.

We want Apache configurations included for all controllers,
so use puppet_tasks for that with the added 'apache' tag.

We rely on the puppet base profiles of the services to include
the required apache configs.

Also, noop service resources for puppet step config via
the common puppet step config manifest.

Related-Bug: #1835414
Depends-On: https://review.opendev.org/674069

Change-Id: Ife25df81f19b31200c42e67723c82a9668d35cc3
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fos-vif~master~Iacccbabe71f3b68bdf28ecc349571887f191a3cd,openstack/os-vif,master,openstackdocstheme,Iacccbabe71f3b68bdf28ecc349571887f191a3cd,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-26 03:26:07.000000000,2019-08-02 11:58:39.000000000,2019-08-02 11:58:39.000000000,2,5,5,672857,2540f858cdcfe0d00740c809c26bc43e01a8ba82,22,7,4,4,27822,pengyuesheng,pengyuesheng,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Iacccbabe71f3b68bdf28ecc349571887f191a3cd
"
openstack%2Frpm-packaging~master~Ib7dfb2f4ede834314b6c7fe4ecf2d50a5b91eb51,openstack/rpm-packaging,master,,Ib7dfb2f4ede834314b6c7fe4ecf2d50a5b91eb51,nova: Remove nova-consoleauth,MERGED,2019-08-01 15:28:29.000000000,2019-08-02 11:57:51.000000000,2019-08-02 11:57:51.000000000,0,52,0,674074,1e1acaae45e63857b13dafb356a44da460b5413e,13,5,1,2,6593,Dirk Mueller,dmllr,"nova: Remove nova-consoleauth

This was dropped upstream in I0498599fd636aa9e30df932f0d893db5efa23260

Change-Id: Ib7dfb2f4ede834314b6c7fe4ecf2d50a5b91eb51
"
openstack%2Fcharm-neutron-gateway~master~I3b090f07c995cbf375dcc1dfdbadf0d7f10ec78e,openstack/charm-neutron-gateway,master,bug/1832021,I3b090f07c995cbf375dcc1dfdbadf0d7f10ec78e,Stop using veth pairs to connect qdhcp ns,MERGED,2019-06-19 13:51:19.000000000,2019-08-02 11:55:46.000000000,2019-07-02 09:11:01.000000000,8,26,0,666292,bbc20dbe49e13fc2166cfae3a10eff57cad56553,24,5,2,9,12549,gnuoy,gnuoy,"Stop using veth pairs to connect qdhcp ns

veth pairs are currently being used to connect the qdhcp namespace
to the underlying bridge. This behaviour appears to only be needed
for old kernels with limited namespaces support (pre trusty).

Change-Id: I3b090f07c995cbf375dcc1dfdbadf0d7f10ec78e
Closes-Bug: #1832021
"
openstack%2Ftripleo-heat-templates~master~I3e5b4372a01b29bf13179d8a16acc36da9c5caab,openstack/tripleo-heat-templates,master,bug/1835414,I3e5b4372a01b29bf13179d8a16acc36da9c5caab,Fix generating Apache configs by container-puppet,MERGED,2019-07-04 13:31:36.000000000,2019-08-02 11:53:33.000000000,2019-07-31 18:31:49.000000000,279,34,22,669178,80d12514d5cd3c20057bd01588e5d5d15d131ca9,151,10,30,22,6926,Bogdan Dobrelya,bogdando,"Fix generating Apache configs by container-puppet

The changes listed below provide a single unit of work required to
configure Apache backend for WSGI-based OpenStack API services
w/o conflicts causing containers startup failures.

W/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM
or other conflicting httpd modules might remain in the containers
and cause startup failures. While puppet removes such conflicts from
the configuration, f.e. when switching MPM 'prefork' to 'event', and we
expect it never gets into container configs.

Make kolla extended start properly enforcing the wanted state of
/etc/httpd, including conf.d and conf.modules.d, and also any of the
removed by puppet files, like conflicting Apache MPM modules.

Add container-puppet tasks to ensure apache MPM configs generated
before the main config steps that require Apache started in the
service container.

Additionally, ensure consistent mirroring across config-data
paths for the container-puppet tool. Purge obsoleted/irrelevant files
in the destingation (puppet-generated) before rsyncing new contents
into it.

Closes-Bug: #1835414

Change-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fkolla-ansible~master~Ic19264191a0ed418fa959fdc122cef543446fbe5,openstack/kolla-ansible,master,bug/ceph_nfs_ubuntu,Ic19264191a0ed418fa959fdc122cef543446fbe5,ceph-nfs: Add rpcbind to Ubuntu host bootstrap,MERGED,2019-07-05 09:56:29.000000000,2019-08-02 11:52:13.000000000,2019-07-17 16:02:43.000000000,51,19,25,669315,efcaf400b89d83db59871b97421d71d934b5b168,52,5,17,2,22629,Michal Nasiadka,mnasiadka,"ceph-nfs: Add rpcbind to Ubuntu host bootstrap

* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind
udp test on startup (was fixed later)
* Add rpcbind package to be installed by kolla-ansible bootstrap when
ceph_nfs is enabled
* Update Ceph deployment docs with a note

Change-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5
"
openstack%2Fkayobe~master~I1a9e0471f34183c85002de30c395b82baa5f3ef4,openstack/kayobe,master,powerconnect-update,I1a9e0471f34183c85002de30c395b82baa5f3ef4,Bump version of stackhpc.dell-powerconnect-switch,MERGED,2019-07-26 08:58:37.000000000,2019-08-02 11:51:40.000000000,2019-08-02 11:51:39.000000000,1,1,0,672920,a3f105c21525ed9ad6a475106e3a71a7d26bceff,7,3,1,1,10910,Stig Telfer,stigtelfer,"Bump version of stackhpc.dell-powerconnect-switch

Version v1.1.0 includes useful updates needed for supporting the
PowerConnect 6248, such as support for 'enable' and quirky differences
in the CLI.

Change-Id: I1a9e0471f34183c85002de30c395b82baa5f3ef4
"
openstack%2Fdiskimage-builder~master~Ib55f6875c5cb461c3c530b51d7420ce3dc8da360,openstack/diskimage-builder,master,gentoo-17.1-profile,Ib55f6875c5cb461c3c530b51d7420ce3dc8da360,support alternate portage directories,MERGED,2019-07-18 17:33:52.000000000,2019-08-02 11:17:43.000000000,2019-07-29 06:29:02.000000000,75,38,6,671530,f1d7e902e39264a0dd9584d7da11e7e62339d0a6,49,5,16,10,14288,Matthew Thode,prometheanfire,"support alternate portage directories

The 17.1 profile changed the defaults used in portage for where we store
our repo, distfiles and binpkgs.  Some portage related variables need to
be set deterministically.  17.1 is no enabled for Systemd's profile.

Change-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360
"
openstack%2Fkolla~stable%2Fstein~I1822a8c610db72654bbacc7148e25a837090b680,openstack/kolla,stable/stein,fix-ceph-mds-cap-stable/stein,I1822a8c610db72654bbacc7148e25a837090b680,ceph mds cap 'allow *' in extend_start,MERGED,2019-08-02 08:28:43.000000000,2019-08-02 11:04:38.000000000,2019-08-02 11:04:38.000000000,1,1,0,674222,2f45d6810e341cd89a20d5fceff0179cde768acc,9,5,1,1,30491,Radosław Piliszek,yoctozepto,"ceph mds cap 'allow *' in extend_start

This applies the fix made in kolla-ansible (see [1])
to kolla ceph mon image directly.

[1] https://review.opendev.org/670035

Change-Id: I1822a8c610db72654bbacc7148e25a837090b680
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit b1d4ed51f41721c86a33d766fdfd80aaccf1df60)
"
openstack%2Fkolla~master~I05433f5bb2313e2adff39850a970d4430340c852,openstack/kolla,master,,I05433f5bb2313e2adff39850a970d4430340c852,Update build profiles for Placement split,MERGED,2019-07-30 16:40:32.000000000,2019-08-02 11:01:34.000000000,2019-07-31 09:56:14.000000000,3,0,0,673579,d4e89eb932d660b4e610460b3ec9792a3e08091c,10,5,1,1,17669,Doug Szumski,DougSzumski,"Update build profiles for Placement split

The Placement API is now a separate project, but anyone
building Nova is likely to want it. This change ensures
that it is built alongside Nova.

Change-Id: I05433f5bb2313e2adff39850a970d4430340c852
"
openstack%2Fdiskimage-builder~master~I41d906a99470599da3cfac7aaa0350232ce79316,openstack/diskimage-builder,master,gentoo-minor-nits,I41d906a99470599da3cfac7aaa0350232ce79316,fix comments / spelling errors in gentoo element,MERGED,2019-07-29 13:55:26.000000000,2019-08-02 10:59:03.000000000,2019-07-30 07:22:26.000000000,1,2,0,673295,559d2bcf3b516b6d108fc139a8d6ac3c96c5e784,15,5,1,1,14288,Matthew Thode,prometheanfire,"fix comments / spelling errors in gentoo element

Change-Id: I41d906a99470599da3cfac7aaa0350232ce79316
"
openstack%2Fironic~master~I42ee6a46c002c14c785216834558223cbf9d319b,openstack/ironic,master,software_raid,I42ee6a46c002c14c785216834558223cbf9d319b,RAID create fails if 'controller' is missing in 'target_raid_config',MERGED,2019-07-31 15:43:48.000000000,2019-08-02 10:56:56.000000000,2019-08-02 10:56:56.000000000,34,1,0,673854,b304d188029eda293825d5e8ac56abc427e0bade,18,8,1,3,11076,Shivanand Tendulker,stendulker,"RAID create fails if 'controller' is missing in 'target_raid_config'

RAID creation fails with KeyError if none of the 'logical_disks'
in 'target_raid_config' have 'controller' parameter.

Story: 2006316
Task: 36043
Change-Id: I42ee6a46c002c14c785216834558223cbf9d319b
"
openstack%2Fcookbook-openstack-compute~master~Id9f1d165411fc5b3cc73b29a36840cf4dc63d81b,openstack/cookbook-openstack-compute,master,disable_vanilla_placement,Id9f1d165411fc5b3cc73b29a36840cf4dc63d81b,placement_api: create valid apache config before installing package,MERGED,2019-07-25 07:29:34.000000000,2019-08-02 10:48:35.000000000,2019-08-02 10:48:34.000000000,26,25,0,672649,ff074af903390c07e07514df7ffc00a6bfc1475e,9,4,1,1,11109,Roger Luethi,rluethi,"placement_api: create valid apache config before installing package

If apache is (re)starting while the chef-client installs the
nova-placement-api package, it may pick up the vanilla apache2 conf file
before chef-client gets around to fixing it which may result in apache2
failing due to a non-working configuration.

This changeset eliminates the race by creating a valid configuration
before installing the software. The solution is based on the assumption
that no reasonably configured package manager will overwrite an
existing, user-created configuration file.

backport: queens

Change-Id: Id9f1d165411fc5b3cc73b29a36840cf4dc63d81b
"
openstack%2Fkolla-ansible~stable%2Fstein~I6d205fe327f198e699519ebe9d589b9ee77a62d2,openstack/kolla-ansible,stable/stein,cp2,I6d205fe327f198e699519ebe9d589b9ee77a62d2,Fix fluentd monasca pos path for Debian/Ubuntu x86_64,MERGED,2019-07-31 19:34:46.000000000,2019-08-02 10:48:24.000000000,2019-08-01 10:45:24.000000000,3,3,0,673897,da20cc978c1bf59c60a71779e1814125c43754ae,10,6,1,1,30491,Radosław Piliszek,yoctozepto,"Fix fluentd monasca pos path for Debian/Ubuntu x86_64

Change-Id: I6d205fe327f198e699519ebe9d589b9ee77a62d2
Closes-Bug: #1837274
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 19b345de3eae2266f13dcb3c3efa1b3c49fe892a)
"
openstack%2Fmurano-dashboard~master~I8bdb38e29209aff92f51532812b409e48462a0af,openstack/murano-dashboard,master,,I8bdb38e29209aff92f51532812b409e48462a0af,Hide availability zones that are not available,MERGED,2019-07-25 23:24:44.000000000,2019-08-02 10:46:18.000000000,2019-08-01 01:06:23.000000000,5,3,0,672838,5838b9143509f58c64efd10a2b13249915ce5799,9,2,1,2,18418,Andy Botting,andybotting,"Hide availability zones that are not available

Availability zones that were unavailable should have been filtered
from the list, but weren't due to incomplete filtering.

This commit specifically tests whether the AZ status is available
before allowing it in the list of choices.

This filtering mechanism is the same as how the OpenStack dashboard
'Launch Instance' dialog handles availability zone availability.

Change-Id: I8bdb38e29209aff92f51532812b409e48462a0af
"
openstack%2Fironic~master~I0e6ab307ecd0caaf7b79edff67373be3490bfed7,openstack/ironic,master,story_2006288,I0e6ab307ecd0caaf7b79edff67373be3490bfed7,Fixes power-on failure for 'ilo' hardware type,MERGED,2019-07-26 15:31:27.000000000,2019-08-02 10:44:24.000000000,2019-08-01 18:32:47.000000000,26,8,4,673008,49140989d185a021bc346ea55d7a63b91541baac,23,8,2,3,11076,Shivanand Tendulker,stendulker,"Fixes power-on failure for 'ilo' hardware type

Server fails to return success for power-on operation if no
bootable device is found.

Change-Id: I0e6ab307ecd0caaf7b79edff67373be3490bfed7
Story: 2006288
Task: 35997
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,openstack/tripleo-heat-templates,stable/stein,bug/1837099-stable/stein,Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,Transport ManilaCephFSDataPoolName to Manila CephFS template,MERGED,2019-08-01 16:00:42.000000000,2019-08-02 10:41:05.000000000,2019-08-02 10:41:04.000000000,4,0,0,674084,e7c3496a97c41f7069d1837e85ddb414a0ed3fa2,10,4,1,1,16643,Goutham Pacha Ravi,gouthamr,"Transport ManilaCephFSDataPoolName to Manila CephFS template

This is necessary to configure the Manila CephFS backend
correctly when user customizes the CephFS pool name.

Change-Id: Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0
Depends-On: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Closes-Bug: 1837099
(cherry picked from commit dbac7cf92c8739ae5bf1de9f9238e7a6d354e65f)
"
openstack%2Fpuppet-tripleo~stable%2Frocky~I3adaa442b8c53ff902761d1dba283a79494c8ae6,openstack/puppet-tripleo,stable/rocky,bug/1837099-stable/stein-stable/rocky,I3adaa442b8c53ff902761d1dba283a79494c8ae6,Allow for customization of the Manila CephFS pool name,MERGED,2019-08-01 17:06:59.000000000,2019-08-02 10:41:03.000000000,2019-08-02 10:41:03.000000000,2,1,0,674093,fe10653c3face414a0a81e080cbbcfd31d59aa7e,8,3,1,1,16643,Goutham Pacha Ravi,gouthamr,"Allow for customization of the Manila CephFS pool name

Manila needs to know the CephFS pool name, which the deployer
might want to customize when the Ceph cluster is externally managed.

Change-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Partial-Bug: 1837099
(cherry picked from commit e3b39a8d67466ff6ccebaf95fa1ed527582e6389)
(cherry picked from commit 3c4748b46238002acda87a65c4150f0ce3d579cb)
"
openstack%2Ftripleo-heat-templates~master~Ia65af7a9d6ae106a61ec52912bebba72830d5f28,openstack/tripleo-heat-templates,master,bug/1835414,Ia65af7a9d6ae106a61ec52912bebba72830d5f28,Wire-in Apache MPM module parameters and switch it,MERGED,2019-07-17 17:05:28.000000000,2019-08-02 10:34:07.000000000,2019-07-31 18:38:15.000000000,206,3,4,671335,09cfcc1464dce0eb7c05caf42375290bbaae4199,39,16,5,22,6926,Bogdan Dobrelya,bogdando,"Wire-in Apache MPM module parameters and switch it

Allow to configure Apache MPM module for the containerized API/WSGI'ish
services running Apache as a backend. Change the default from 'prefork'
to 'event', which is a low level change and should provide no sensible
upgrade impact. This alleviates the related heartbeats threading issue
arising with the monkey-patched eventlet.

Merge the missing ApacheServiceBase config settings for Octavia API,
Horizon and Ironix PXE. This is needed to apply the base Apache
service hiera settings, including MPM module switches, for those
as well.

Related-bug: #1829062

Change-Id: Ia65af7a9d6ae106a61ec52912bebba72830d5f28
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fsahara-plugin-storm~master~Ide19f60443e8084de136fb3a76802faec0e2a8eb,openstack/sahara-plugin-storm,master,zanata/translations,Ide19f60443e8084de136fb3a76802faec0e2a8eb,Imported Translations from Zanata,MERGED,2019-08-02 10:04:57.000000000,2019-08-02 10:33:36.000000000,2019-08-02 10:33:36.000000000,65,0,0,674252,6d488c2c9a283e188a3fe891415a5ea393f47f2c,6,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ide19f60443e8084de136fb3a76802faec0e2a8eb
"
openstack%2Fsahara-plugin-spark~master~Ibff2e50adc83a7eff57da2970228075d51bf1f08,openstack/sahara-plugin-spark,master,zanata/translations,Ibff2e50adc83a7eff57da2970228075d51bf1f08,Imported Translations from Zanata,MERGED,2019-08-02 08:55:36.000000000,2019-08-02 10:20:49.000000000,2019-08-02 10:20:49.000000000,95,0,0,674232,493d83fcd430f1319a4dbeff0ec90915e90ca15e,6,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibff2e50adc83a7eff57da2970228075d51bf1f08
"
openstack%2Foctavia~master~Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa,openstack/octavia,master,udp_states,Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa,"Add support for monitor_{address,port} in UDP members",MERGED,2019-05-24 14:43:22.000000000,2019-08-02 10:00:23.000000000,2019-08-02 10:00:23.000000000,104,8,0,661308,65e132a734f005f090a384bfa129482d195c6d6e,22,6,6,6,29244,Gregory Thiemonge,gthiemonge,"Add support for monitor_{address,port} in UDP members

UDP members didn't support monitor_address and monitor_port parameters.
Setting those values didn't have any effects.

This commit enables the support of both parameters.

Story: 2005775
Task: 33492

Change-Id: Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa
"
openstack%2Fpuppet-tripleo~stable%2Fstein~I3deb3e944ed4911962d204357bb3134569f153f6,openstack/puppet-tripleo,stable/stein,bug/1835414,I3deb3e944ed4911962d204357bb3134569f153f6,Allow to configure Apache MPM module,ABANDONED,2019-08-01 09:25:42.000000000,2019-08-02 09:59:54.000000000,,25,1,0,673974,68320a5b94be74cfc260fb6ba813ea4a1ef6716b,5,2,1,3,6926,Bogdan Dobrelya,bogdando,"Allow to configure Apache MPM module

Defaults to 'prefork', which ensures there is no upgrade/update impact.

Related-bug: #1829062

Change-Id: I3deb3e944ed4911962d204357bb3134569f153f6
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 6fb9d8e6cd48283b551f3580072669622da2006c)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I3e5b4372a01b29bf13179d8a16acc36da9c5caab,openstack/tripleo-heat-templates,stable/stein,bug/1835414,I3e5b4372a01b29bf13179d8a16acc36da9c5caab,Fix generating Apache configs by container-puppet,ABANDONED,2019-07-17 12:45:56.000000000,2019-08-02 09:59:47.000000000,,270,32,0,671254,db2d8637d9bcf71514a083ed68b2f201295bffbe,15,4,2,21,6926,Bogdan Dobrelya,bogdando,"Fix generating Apache configs by container-puppet

The changes listed below provide a single unit of work required to
configure Apache backend for WSGI-based OpenStack API services
w/o conflicts causing containers startup failures.

W/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM
or other conflicting httpd modules might remain in the containers
and cause startup failures. While puppet removes such conflicts from
the configuration, f.e. when switching MPM 'prefork' to 'event', and we
expect it never gets into container configs.

Make kolla extended start properly enforcing the wanted state of
/etc/httpd, including conf.d and conf.modules.d, and also any of the
removed by puppet files, like conflicting Apache MPM modules.

Add container-puppet tasks to ensure apache MPM configs generated
before the main config steps that require Apache started in the
service container.

Additionally, ensure consistent mirroring across config-data
paths for the container-puppet tool. Purge obsoleted/irrelevant files
in the destingation (puppet-generated) before rsyncing new contents
into it.

Closes-Bug: #1835414

Change-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 1472877af9ced4726be5ecdf7ae3cabf99669f42)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ia65af7a9d6ae106a61ec52912bebba72830d5f28,openstack/tripleo-heat-templates,stable/stein,bug/1835414,Ia65af7a9d6ae106a61ec52912bebba72830d5f28,Wire-in Apache MPM module parameters and switch it,ABANDONED,2019-08-01 09:30:34.000000000,2019-08-02 09:59:43.000000000,,199,3,0,673978,a21ec5fcf6b253bd02b2057a00ac42b2ceca89b5,4,2,1,21,6926,Bogdan Dobrelya,bogdando,"Wire-in Apache MPM module parameters and switch it

Allow to configure Apache MPM module for the containerized API/WSGI'ish
services running Apache as a backend. Change the default from 'prefork'
to 'event', which is a low level change and should provide no sensible
upgrade impact. This alleviates the related heartbeats threading issue
arising with the monkey-patched eventlet.

Merge the missing ApacheServiceBase config settings for Octavia API,
Horizon and Ironix PXE. This is needed to apply the base Apache
service hiera settings, including MPM module switches, for those
as well.

Related-bug: #1829062
Depends-On: https://review.opendev.org/673974

Change-Id: Ia65af7a9d6ae106a61ec52912bebba72830d5f28
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 09cfcc1464dce0eb7c05caf42375290bbaae4199)
"
openstack%2Freleases~master~I587da735ebef104c7e255d33a70a6ff2583c29cc,openstack/releases,master,,I587da735ebef104c7e255d33a70a6ff2583c29cc,Release ironic-tempest-plugin 1.4.0,MERGED,2019-07-23 14:53:42.000000000,2019-08-02 09:55:51.000000000,2019-08-02 09:55:51.000000000,6,1,5,672307,b08eb990f4a8460d227be2196cbed221f68e234c,16,5,2,1,10239,Dmitry Tantsur,dtantsur,"Release ironic-tempest-plugin 1.4.0

Change-Id: I587da735ebef104c7e255d33a70a6ff2583c29cc
"
openstack%2Fkolla-ansible~stable%2Fqueens~I82d30f3fcf325a3fdff3c59f19a1f88055b566cc,openstack/kolla-ansible,stable/queens,bug/1823766,I82d30f3fcf325a3fdff3c59f19a1f88055b566cc,"During deploy, always sync DB",MERGED,2019-07-12 13:23:02.000000000,2019-08-02 09:55:33.000000000,2019-08-02 09:55:33.000000000,2,65,0,670549,8e219a91738048ff16f2caed4c24f85832211aad,8,4,1,31,14826,Mark Goddard,mgoddard,"During deploy, always sync DB

A common class of problems goes like this:

* kolla-ansible deploy
* Hit a problem, often in ansible/roles/*/tasks/bootstrap.yml
* Re-run kolla-ansible deploy
* Service fails to start

This happens because the DB is created during the first run, but for some
reason we fail before performing the DB sync. This means that on the second run
we don't include ansible/roles/*/tasks/bootstrap_service.yml because the DB
already exists, and therefore still don't perform the DB sync. However this
time, the command may complete without apparent error.

We should be less careful about when we perform the DB sync, and do it whenever
it is necessary. There is an argument for not doing the sync during a
'reconfigure' command, although we will not change that here.

This change only always performs the DB sync during 'deploy' and
'reconfigure' commands.

Change-Id: I82d30f3fcf325a3fdff3c59f19a1f88055b566cc
Closes-Bug: #1823766
Closes-Bug: #1797814
(cherry picked from commit d5e5e885d11e338806425839a361d868c1f4ff10)
"
openstack%2Fpython-ironic-inspector-client~master~I24f3c101646ae0157ab1c7a4bf6c81784a356477,openstack/python-ironic-inspector-client,master,gate,I24f3c101646ae0157ab1c7a4bf6c81784a356477,CI: clean up required projects,MERGED,2019-07-30 08:24:19.000000000,2019-08-02 09:43:27.000000000,2019-08-02 09:22:45.000000000,2,3,0,673442,dd1628e20ede390a63cdb91598846d6115525566,17,7,2,1,10239,Dmitry Tantsur,dtantsur,"CI: clean up required projects

Change-Id: I24f3c101646ae0157ab1c7a4bf6c81784a356477
"
openstack%2Fsushy~master~Ifd83b72a283e44d890c98ae646ef831467ed4af8,openstack/sushy,master,add-mappedlist-field,Ifd83b72a283e44d890c98ae646ef831467ed4af8,Add MappedListField,MERGED,2019-07-17 09:42:05.000000000,2019-08-02 09:35:13.000000000,2019-08-02 09:35:13.000000000,67,8,10,671228,d182d6fac1098c046cfa57b07eea8a3c0c5a5038,19,5,4,5,30013,Varsha Verma,verma-varsha,"Add MappedListField

The MappedList field supports a list of mapped instances. This type of
field is being used by the `SupportedControllerProtocols` and the
`SupportedDeviceProtocols` fields of a Storage Controller in the
Storage resource.

Change-Id: Ifd83b72a283e44d890c98ae646ef831467ed4af8
"
openstack%2Fnetworking-ovn~master~I70fe9d99f585c3df8692975f8cc993d3db951b24,openstack/networking-ovn,master,retire-api-site,I70fe9d99f585c3df8692975f8cc993d3db951b24,Update api-ref location,MERGED,2019-07-30 17:54:25.000000000,2019-08-02 09:33:44.000000000,2019-08-02 09:33:43.000000000,2,2,0,673600,6517a2f119538598716a9b57ec779706c6d336da,10,5,1,1,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I70fe9d99f585c3df8692975f8cc993d3db951b24
"
openstack%2Ftripleo-heat-templates~master~I32d6fb755723beb7b78623e50bd58dddb3e8e794,openstack/tripleo-heat-templates,master,,I32d6fb755723beb7b78623e50bd58dddb3e8e794,Role Extra Config Post hook points to the wrong Heat resource.,ABANDONED,2019-08-01 15:34:58.000000000,2019-08-02 09:32:21.000000000,,1,1,0,674075,e2e5bc1520ead99908cb29cd8b2e48c06bdaace7,4,6,1,1,20775,Carlos Camacho,ccamacho,"Role Extra Config Post hook points to the wrong Heat resource.

Having {{role.name}}ExtraConfigPost will
make to execute resources like,
type: OS::TripleO::NodeExtraConfigPost

In this case we need to execute each extra config
step depending on the role name.

Change-Id: I32d6fb755723beb7b78623e50bd58dddb3e8e794
"
openstack%2Fnova~stable%2Frocky~I79b40ca40400c67b0805926096317afd875ffabb,openstack/nova,stable/rocky,bug/1816468,I79b40ca40400c67b0805926096317afd875ffabb,Fix python3 compatibility of rbd get_fsid,MERGED,2019-06-11 07:40:06.000000000,2019-08-02 09:26:28.000000000,2019-08-02 05:34:20.000000000,10,1,1,664513,25fd08755e363f442f4ad390c1cb7de301fc7dfb,39,10,2,2,6737,Edward Hope-Morley,hopem,"Fix python3 compatibility of rbd get_fsid

In py3 librados's get_fsid() function returns a binary string
which breaks comparison when compared with the same value as a
string. This is currently breakin the logic that compares ceph
cluster fsids when deciding whether the image used to boot an
instance is cow-clonable.

Change-Id: I79b40ca40400c67b0805926096317afd875ffabb
Closes-Bug: #1816468
(cherry picked from commit e8b6b0bc78ec229803d1d27f8a4706e2c425bd77)
(cherry picked from commit b4b47a59c7ff1d60e69dbdea07de9163948cb680)
"
openstack%2Fkolla-ansible~master~Ib3d93eb864bc07996e87e239eb7ef16f1e138204,openstack/kolla-ansible,master,,Ib3d93eb864bc07996e87e239eb7ef16f1e138204,Use explicit import for python3 in horizon local_settings,NEW,2019-08-02 07:08:46.000000000,2019-08-02 09:12:04.000000000,,1,1,0,674209,348da57c51d77ddbd1fde147e52e08124c8adde8,2,1,1,1,26970,Yang Youseok,ileixe,"Use explicit import for python3 in horizon local_settings

Python3 requires explict relative imports so change import statement
in horizon local_settings template.

Change-Id: Ib3d93eb864bc07996e87e239eb7ef16f1e138204
"
openstack%2Foctavia-tempest-plugin~master~I446de2920d3f01b2dc224e8ffab46274cddfefa1,openstack/octavia-tempest-plugin,master,,I446de2920d3f01b2dc224e8ffab46274cddfefa1,Fix typo in active/standby scenario error handling,ABANDONED,2019-08-02 06:37:49.000000000,2019-08-02 09:06:41.000000000,,1,1,0,674199,65beed82b9d0fef61fcde9bb642072ab0889eaf2,4,2,1,1,29244,Gregory Thiemonge,gthiemonge,"Fix typo in active/standby scenario error handling

The following IndexError exception is thrown when amphora ssh key file
is missing:

File [..]/octavia_tempest_plugin/tests/act_stdby_scenario/v2/\
test_active_standby_iptables.py, line 237, in _get_amphora_ssh_key
        .format(key_file))
    IndexError: tuple index out of range

Change-Id: I446de2920d3f01b2dc224e8ffab46274cddfefa1
"
openstack%2Ftripleo-common~master~Ib33b3591a553910f03fb5c5e81847059b0e94b9c,openstack/tripleo-common,master,bug/1835414,Ib33b3591a553910f03fb5c5e81847059b0e94b9c,Noop service resources for puppet step config,ABANDONED,2019-08-02 08:20:50.000000000,2019-08-02 09:00:58.000000000,,1,0,0,674220,cebece21e77c922f8f1d651e0876d25f19889508,2,0,1,1,6926,Bogdan Dobrelya,bogdando,"Noop service resources for puppet step config

Similarly to container-puppet tooling, we need to
noop the service puppet resources globally.

This enables configuring Apache MPM for t-h-t.

Related-Bug: #1835414

Change-Id: Ib33b3591a553910f03fb5c5e81847059b0e94b9c
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fcharm-masakari-monitors~master~I9fd8d984b144ca8424b981210f62257fca57e54e,openstack/charm-masakari-monitors,master,bug/1838578,I9fd8d984b144ca8424b981210f62257fca57e54e,Remove hardcoded ppa from install function,MERGED,2019-08-01 14:59:49.000000000,2019-08-02 08:41:12.000000000,2019-08-02 08:41:12.000000000,0,3,0,674061,7d5991845b2aba8a90387585b01fed95dab1f77a,9,3,2,1,22799,Andrew McLeod,admcleod,"Remove hardcoded ppa from install function

Change-Id: I9fd8d984b144ca8424b981210f62257fca57e54e
Closes-Bug: 1838578
"
openstack%2Fkolla~master~I2970b6c0d0684a00a59ff3b2d9eebb3d04495345,openstack/kolla,master,bug/1837274,I2970b6c0d0684a00a59ff3b2d9eebb3d04495345,Fixes Fluentd on Ubuntu deploys.,ABANDONED,2019-07-20 08:49:44.000000000,2019-08-02 08:40:29.000000000,,2,1,1,671888,7f0d6ff7cd3e7f6ec96b8fbebedfbed5e7aa0338,19,5,2,1,30523,Dincer Celik,osmanlicilegi,"Fixes Fluentd on Ubuntu deploys.

Fluentd needs /var/run/fluentd which is missing.

Change-Id: I2970b6c0d0684a00a59ff3b2d9eebb3d04495345
Closes-Bug: #1837274
"
openstack%2Fkolla~master~I1822a8c610db72654bbacc7148e25a837090b680,openstack/kolla,master,fix-ceph-mds-cap,I1822a8c610db72654bbacc7148e25a837090b680,ceph mds cap 'allow *' in extend_start,MERGED,2019-08-01 16:36:41.000000000,2019-08-02 08:28:43.000000000,2019-08-02 08:12:18.000000000,1,1,0,674088,b1d4ed51f41721c86a33d766fdfd80aaccf1df60,10,5,1,1,30491,Radosław Piliszek,yoctozepto,"ceph mds cap 'allow *' in extend_start

This applies the fix made in kolla-ansible (see [1])
to kolla ceph mon image directly.

[1] https://review.opendev.org/670035

Change-Id: I1822a8c610db72654bbacc7148e25a837090b680
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Ftripleo-heat-templates~master~I6e5ac7f5971df5998db22c5d392084fddf77d34a,openstack/tripleo-heat-templates,master,libvirt-log,I6e5ac7f5971df5998db22c5d392084fddf77d34a,Record libvirt log using rsyslog running on host,MERGED,2019-05-13 02:52:35.000000000,2019-08-02 08:23:28.000000000,2019-07-30 00:03:36.000000000,1,0,1,658719,06c5ab5b3f486eb0f2e507b8cc8cc07cdefacd88,17,9,2,1,9816,Takashi Kajinami,kajinamit,"Record libvirt log using rsyslog running on host

Currently libvirt records log to stdout, and journald traps these logs
and resends them to host syslog.
This causes duplicated timestamp recorded for each log line, because
libvirt sends log with timestamp, and also rsyslog assignes timestamp
when it recieves log records.

This patch makes libvirt send log directly to rsyslog running on host,
to remove the duplicated timestamp assignment.

Change-Id: I6e5ac7f5971df5998db22c5d392084fddf77d34a
"
openstack%2Frpm-packaging~master~Ic08c2aedd4c9ffb980e61af0dd9d320a89bafa24,openstack/rpm-packaging,master,nova-cells,Ic08c2aedd4c9ffb980e61af0dd9d320a89bafa24,Add nova cell initialization to unit file,MERGED,2019-07-31 21:58:52.000000000,2019-08-02 08:01:07.000000000,2019-08-02 08:01:07.000000000,2,1,0,673922,1739bf468ef27c57607f66f75be8011585c6c53e,18,5,3,1,8482,Colleen Murphy,krinkle,"Add nova cell initialization to unit file

Without this patch, the nova-conductor service will fail due to not
having an initialized cell0. This initialization needs to happen after
the api_db setup, but before the main db sync, according to the install
docs[1]. This patch adds the necessary step to the nova-api service unit
file and corrects the sequence order.

[1] https://docs.openstack.org/nova/latest/install/controller-install-obs.html#install-and-configure-components

Change-Id: Ic08c2aedd4c9ffb980e61af0dd9d320a89bafa24
"
openstack%2Fpython-swiftclient~master~I3dac826c1f208569c5f40431f59a2045e5744415,openstack/python-swiftclient,master,,I3dac826c1f208569c5f40431f59a2045e5744415,Fix up requests so we can send non-RFC-compliant headers on py3,MERGED,2019-07-25 18:38:02.000000000,2019-08-02 07:55:23.000000000,2019-08-02 07:55:22.000000000,21,2,0,672808,7175069b3e95c38070bb4373019f78c87ab103d0,9,3,2,2,15343,Tim Burke,tburke,"Fix up requests so we can send non-RFC-compliant headers on py3

Change-Id: I3dac826c1f208569c5f40431f59a2045e5744415
"
openstack%2Fmistral~master~If8ff2a19068fd3aebb3f9d3a55d9ed6dfaefdb14,openstack/mistral,master,bug/manual,If8ff2a19068fd3aebb3f9d3a55d9ed6dfaefdb14,A1 B should be tasks rather than workflow levels,MERGED,2019-08-01 13:38:28.000000000,2019-08-02 07:46:00.000000000,2019-08-02 07:46:00.000000000,16,16,0,674033,1a2ff63733e53ee39b59f877c56065afb443343a,15,4,5,1,29811,"WEN-SHENG,LI",TitanLi,"A1 B should be tasks rather than workflow levels

recheck no bug A1 and B should be in the task area

Change-Id: If8ff2a19068fd3aebb3f9d3a55d9ed6dfaefdb14
"
openstack%2Fnova~master~Ia7156e61e263b312f736288fc54be086b6257d3d,openstack/nova,master,bp/cpu-resources,Ia7156e61e263b312f736288fc54be086b6257d3d,Follow-up for I2936ce8cb293dc80e1a426094fdae6e675461470,MERGED,2019-07-25 09:08:23.000000000,2019-08-02 07:39:48.000000000,2019-08-02 02:53:23.000000000,0,29,1,672669,ed3eeaabc3b647cf0e66e4281d4c9e35bc1fca30,32,15,3,1,15334,Stephen Finucane,sfinucan,"Follow-up for I2936ce8cb293dc80e1a426094fdae6e675461470

Remove the now-unused '_test_' function.

Change-Id: Ia7156e61e263b312f736288fc54be086b6257d3d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpuppet-aodh~master~I49fafc2269e86feaab452c9a9f561a3726530328,openstack/puppet-aodh,master,test,I49fafc2269e86feaab452c9a9f561a3726530328,test,ABANDONED,2019-08-02 07:32:06.000000000,2019-08-02 07:37:53.000000000,,1,1,0,674214,eb67ea5115ddc76ad19ded41bb1c19438145f0f2,2,0,1,1,9414,zhongshengping,ZhongShengping,"test

Change-Id: I49fafc2269e86feaab452c9a9f561a3726530328
"
openstack%2Fpython-mistralclient~master~I8455772eee4865d535b3002e2d922149fb8f8a6e,openstack/python-mistralclient,master,bug/1765087,I8455772eee4865d535b3002e2d922149fb8f8a6e,Some resource managers are not using the base underscore methods,MERGED,2019-07-30 12:17:05.000000000,2019-08-02 07:33:29.000000000,2019-08-02 07:33:29.000000000,97,145,0,673493,051e9fa22b1b17d8c0405d940c7f7c593fcff28d,9,3,2,4,19134,Eyal,eyalb,"Some resource managers are not using the base underscore methods

Refactor the base class so they can use these methods

Change-Id: I8455772eee4865d535b3002e2d922149fb8f8a6e
Closes-bug: #1765087
"
openstack%2Fpython-swiftclient~master~I45b210cf380a68bd88187c91fa2d63a8b2bb709b,openstack/python-swiftclient,master,673123,I45b210cf380a68bd88187c91fa2d63a8b2bb709b,Delete/overwrite symlinks better,MERGED,2019-07-27 06:07:51.000000000,2019-08-02 07:17:54.000000000,2019-08-02 07:17:54.000000000,41,9,2,673123,78753987468cb6b04d0b4e06b432e22f5a7189bd,11,3,3,3,15343,Tim Burke,tburke,"Delete/overwrite symlinks better

Previously, when deleting a symlink that points to an xLO, we'd clean
up the xLO's segments then delete the symlink, leaving the xLO itself
busted.

Similar trouble would come from overwriting a symlink pointing to an
xLO. Check for a Content-Location in the HEAD response and leave such
segments.

Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>
Change-Id: I45b210cf380a68bd88187c91fa2d63a8b2bb709b
"
openstack%2Fironic-python-agent~master~Ie74e75a67ddb7012f41e8f6076a70610b5e1aa6e,openstack/ironic-python-agent,master,gate,Ie74e75a67ddb7012f41e8f6076a70610b5e1aa6e,Repair building tinyipa images after the move to ipa-builder,MERGED,2019-08-01 13:16:18.000000000,2019-08-02 07:10:58.000000000,2019-08-02 01:45:48.000000000,9,5,0,674026,248a4ccda5f4ee42f59b552a3871afe020b18afb,14,4,1,2,10239,Dmitry Tantsur,dtantsur,"Repair building tinyipa images after the move to ipa-builder

Change-Id: Ie74e75a67ddb7012f41e8f6076a70610b5e1aa6e
"
openstack%2Ftripleo-ci~master~If5dd1aaf30c37a02a5e0e6708b7f3d3e89ddbdc5,openstack/tripleo-ci,master,fs-override-build,If5dd1aaf30c37a02a5e0e6708b7f3d3e89ddbdc5,Add to_build as an acceptable feastureset_override,MERGED,2019-07-31 13:22:26.000000000,2019-08-02 07:05:24.000000000,2019-08-02 07:05:24.000000000,1,0,0,673808,08983b9afa8e9ee7529e75cd96de2e49d9b8e42e,17,5,2,1,9976,Ronelle Landy,rlandy,"Add to_build as an acceptable feastureset_override

This is required to determine when to  build images.
The variable is used in oooq ansible but is passed
per job.

Change-Id: If5dd1aaf30c37a02a5e0e6708b7f3d3e89ddbdc5
"
openstack%2Fpython-magnumclient~master~I74cbd96361c7fbdff5f428b92af77409dfa993af,openstack/python-magnumclient,master,,I74cbd96361c7fbdff5f428b92af77409dfa993af,Fix author-email in setup.cfg,ABANDONED,2019-01-24 02:35:52.000000000,2019-08-02 06:52:59.000000000,,1,1,0,632868,7d8127a2cebb3b7bcd2e53d4255ac80d307b656f,6,4,1,1,29423,zhouxinyong,zhouxinyong,"Fix author-email in setup.cfg

Change-Id: I74cbd96361c7fbdff5f428b92af77409dfa993af
"
openstack%2Fpython-magnumclient~master~Id5bba154fc2395544e395b368b789851292d3b8f,openstack/python-magnumclient,master,,Id5bba154fc2395544e395b368b789851292d3b8f,Mailing lists change openstack-dev to openstack-discuss,ABANDONED,2019-07-01 11:30:26.000000000,2019-08-02 06:51:33.000000000,,0,0,0,668441,d12d542a367b12c7bf10a40143b3942768f59a7f,5,2,2,0,27565,inspurericzhang,inspurericzhang,"Mailing lists change openstack-dev to openstack-discuss

Change-Id: Id5bba154fc2395544e395b368b789851292d3b8f
"
openstack%2Ftempest-lib~master~I5b708317df88a96df61eb02868022cdab601acd6,openstack/tempest-lib,master,sphinx,I5b708317df88a96df61eb02868022cdab601acd6,Sync Sphinx requirement,ABANDONED,2019-08-02 03:07:34.000000000,2019-08-02 06:08:25.000000000,,2,1,0,674173,3f41350f7eeff9d07689d6de090c0876e8c16aa5,4,2,1,1,27822,pengyuesheng,pengyuesheng,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I5b708317df88a96df61eb02868022cdab601acd6
"
openstack%2Fswift~master~I0c3a235b8905e02d2e202215f7f0b43db295b79b,openstack/swift,master,673121,I0c3a235b8905e02d2e202215f7f0b43db295b79b,Negative test for non-empty chunked put symlink,MERGED,2019-08-01 14:34:27.000000000,2019-08-02 05:49:07.000000000,2019-08-02 05:48:04.000000000,10,0,0,674052,7678e94a2c3907df13d271b0d4c82054bbb0bf8a,12,2,1,1,1179,Clay Gerrard,clay-gerrard,"Negative test for non-empty chunked put symlink

Change-Id: I0c3a235b8905e02d2e202215f7f0b43db295b79b
Related-Change-Id: I66f2f16d7cf0b9cb0888e3b9b1a17b9112233d21
"
openstack%2Fpython-swiftclient~master~I8669130f8477a577781e17c6d428aacff53cab92,openstack/python-swiftclient,master,,I8669130f8477a577781e17c6d428aacff53cab92,Drag forward prettytable in lower-constraints,MERGED,2019-07-25 21:21:51.000000000,2019-08-02 05:48:03.000000000,2019-08-02 05:48:03.000000000,1,1,0,672830,5bd66947fc3d8987d4b24d5119a346031004229e,6,2,1,1,15343,Tim Burke,tburke,"Drag forward prettytable in lower-constraints

Apparently version 0.7 got unpublished recently.

Change-Id: I8669130f8477a577781e17c6d428aacff53cab92
"
openstack%2Fkeystone~master~I96e758297764db7afbfa09f4e5d951167038836a,openstack/keystone,master,,I96e758297764db7afbfa09f4e5d951167038836a,Fix typo: RBACKEnforcer -> RBACEnforcer,MERGED,2019-08-01 00:57:01.000000000,2019-08-02 05:48:00.000000000,2019-08-02 05:48:00.000000000,1,1,0,673931,fcff2aed6a74c4b30d9a2427e6e12b14a8883c94,14,5,1,1,15343,Tim Burke,tburke,"Fix typo: RBACKEnforcer -> RBACEnforcer

Change-Id: I96e758297764db7afbfa09f4e5d951167038836a
"
openstack%2Fnetworking-midonet~master~I9856dbe76813ae2d68c57ad90a7f68c8bb020863,openstack/networking-midonet,master,remove-py35,I9856dbe76813ae2d68c57ad90a7f68c8bb020863,Remove py35 job,MERGED,2019-08-01 09:36:49.000000000,2019-08-02 05:42:15.000000000,2019-08-02 05:42:15.000000000,0,6,0,673981,c405a30f636effd04c6ce50760b2e3efecb3eece,7,3,1,1,6854,YAMAMOTO Takashi,yamamoto,"Remove py35 job

Change-Id: I9856dbe76813ae2d68c57ad90a7f68c8bb020863
"
openstack%2Fplacement~master~I1e1522eae7b4360cf57c34164612ae228fad14a3,openstack/placement,master,cd/de-tuple,I1e1522eae7b4360cf57c34164612ae228fad14a3,Remove ProviderIds namedtuple,MERGED,2019-07-31 11:41:17.000000000,2019-08-02 05:34:40.000000000,2019-08-02 05:34:40.000000000,9,12,4,673788,8626b6517b8e975fbcbd59842b9316608886b6c7,13,4,3,1,11564,Chris Dent,chdent,"Remove ProviderIds namedtuple

It turns out that all the callers of methods that return ProviderIds
access the data using attributes that are already present on the object
provided by a sql alchemy RowProxy object (which is the result of
iterating a ResultProxy object, returned by sqla.execute()). Creating
a namedtuple is redundant and adds some processing cost [1].

However, the AnchorIds namedtuple used in the same file _is_ necessary
because it provides a hashable type required by the set that wraps
the collection of AnchorIds.

The other user of namedtuple, RPCandidate, in
placement/objects/rp_candidates.py has a specific interface for which
a namedtuple is correct.

[1] provider_ids_from_rp_ids was identified as being a major contributor
when doing performance profiling. Most of the cost is executing with the
database, but the tuple creation is a factor.

Change-Id: I1e1522eae7b4360cf57c34164612ae228fad14a3
"
openstack%2Fplacement~master~I51f2a77b0f21c6145457bb33fe4db931edca4c99,openstack/placement,master,cd/trait-canary,I51f2a77b0f21c6145457bb33fe4db931edca4c99,Bump os-traits minimum to 0.16.0,MERGED,2019-08-01 09:05:42.000000000,2019-08-02 05:34:39.000000000,2019-08-02 05:34:39.000000000,3,3,0,673964,d04168088c20ea8b0e8bc43e661085b7d5e80374,13,3,1,3,11564,Chris Dent,chdent,"Bump os-traits minimum to 0.16.0

os-traits 0.16.0 was just released, adding 3 standard traits.
Require it.

Change-Id: I51f2a77b0f21c6145457bb33fe4db931edca4c99
"
openstack%2Fproject-config~master~I09f7106969e761120f8f87e7457eec6a27e03b41,openstack/project-config,master,674091,I09f7106969e761120f8f87e7457eec6a27e03b41,FN can now support 100 nodes - turning up quota,MERGED,2019-08-02 02:07:00.000000000,2019-08-02 04:27:25.000000000,2019-08-02 04:27:25.000000000,1,1,0,674149,e50caa6dd0a45cfbeedfff17492873ae80559634,7,3,1,1,20754,Donny Davis,donnydavis,"FN can now support 100 nodes - turning up quota

Change-Id: I09f7106969e761120f8f87e7457eec6a27e03b41
"
openstack%2Fswift~master~I66f2f16d7cf0b9cb0888e3b9b1a17b9112233d21,openstack/swift,master,,I66f2f16d7cf0b9cb0888e3b9b1a17b9112233d21,symlink: Allow symlinks to be created via chunk-encoded PUTs,MERGED,2019-07-27 04:40:51.000000000,2019-08-02 04:18:02.000000000,2019-08-02 04:17:00.000000000,21,1,0,673121,a1455b3a3566a1a0d5680e540d19ba6dc417b1db,13,4,1,2,15343,Tim Burke,tburke,"symlink: Allow symlinks to be created via chunk-encoded PUTs

... provided they're still zero bytes.

Change-Id: I66f2f16d7cf0b9cb0888e3b9b1a17b9112233d21
"
openstack%2Fopenstack-helm-infra~master~Ie6f42e95c3ca4dc2ec70f2852a2bde11e59ec097,openstack/openstack-helm-infra,master,es-verify-cron,Ie6f42e95c3ca4dc2ec70f2852a2bde11e59ec097,Elasticsearch: Add cron job to verify snapshot repositories,MERGED,2019-07-26 18:02:17.000000000,2019-08-02 04:04:17.000000000,2019-08-02 04:04:17.000000000,132,0,0,673029,bc20c6c8b6de08659be7e469388fe2f6ac231dd1,23,4,6,6,17591,Steve Wilkerson,srwilkers,"Elasticsearch: Add cron job to verify snapshot repositories

This adds a cron job to manually verify all snapshot repositories
are registered to any active master and data nodes. This is to
address scenarios where master and data nodes do not have the
desired snapshot repositories registered following node outages
or reboots

Change-Id: Ie6f42e95c3ca4dc2ec70f2852a2bde11e59ec097
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fpython-swiftclient~master~I68ee44ef33f95c838686e18366e1ae45b54dfd42,openstack/python-swiftclient,master,673123,I68ee44ef33f95c838686e18366e1ae45b54dfd42,Test for upload over symlink to SLO,ABANDONED,2019-08-01 21:10:49.000000000,2019-08-02 03:44:33.000000000,,29,0,0,674135,9da11e8ed46920e127aa416654671e1c17b4137a,4,2,1,1,1179,Clay Gerrard,clay-gerrard,"Test for upload over symlink to SLO

Related-Change-Id: I45b210cf380a68bd88187c91fa2d63a8b2bb709b
Change-Id: I68ee44ef33f95c838686e18366e1ae45b54dfd42
"
openstack%2Ftempest~master~I07820f10387552f93a9d8891b58a8c7fcdb83046,openstack/tempest,master,use-bashate,I07820f10387552f93a9d8891b58a8c7fcdb83046,Introduce bashate,MERGED,2019-07-30 09:06:34.000000000,2019-08-02 02:53:28.000000000,2019-08-02 02:53:28.000000000,24,8,0,673458,de1153b361cac47f7bf9f92a0c6a9933d67ed647,8,4,1,5,5689,Masayuki Igawa,igawa,"Introduce bashate

This commit introduces bashate[0] which is a code style checker for bash
scripts. We already have some bash scripts in Tempest repo. So, it might
be good to check the style automatically.

Some scripts under the tools directory are also fixed due to the bashate
violation.

Change-Id: I07820f10387552f93a9d8891b58a8c7fcdb83046
"
openstack%2Ftripleo-validations~stable%2Fstein~I2e94b72080b73dc37eefd072217392f34e1291f0,openstack/tripleo-validations,stable/stein,molecule/controller-ulimits-stable/stein,I2e94b72080b73dc37eefd072217392f34e1291f0,Adds molecule testing for controller-ulimits,MERGED,2019-08-01 11:04:33.000000000,2019-08-02 02:25:27.000000000,2019-08-02 02:25:27.000000000,129,0,0,673998,b7db8b3076b7e495ac6492cf99552e970fc6fb5e,8,5,2,3,11491,Gael Chamoulaud,gchamoul,"Adds molecule testing for controller-ulimits

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: I2e94b72080b73dc37eefd072217392f34e1291f0
(cherry picked from commit e1d0bde7dd120f42fe1d6301cbdc65e3327615af)
"
openstack%2Fmistral~master~I8f2054c820f7774eb84155f1843cc871c87ca823,openstack/mistral,master,bug/manual,I8f2054c820f7774eb84155f1843cc871c87ca823,ref:https://specs.openstack.org/openstack/mistral-specs/specs/pike/approved/advanced_publishing.html,ABANDONED,2019-08-01 14:35:39.000000000,2019-08-02 02:10:59.000000000,,0,0,0,674053,cbf6356b869a6e96c598785176950fc306c6ff25,3,1,1,0,29811,"WEN-SHENG,LI",TitanLi,"ref:https://specs.openstack.org/openstack/mistral-specs/specs/pike/approved/advanced_publishing.html

Change-Id: I8f2054c820f7774eb84155f1843cc871c87ca823
"
openstack%2Ftripleo-validations~stable%2Fstein~Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da,openstack/tripleo-validations,stable/stein,molecule/dns-stable/stein,Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da,Adds molecule testing for DNS validation,MERGED,2019-08-01 11:05:34.000000000,2019-08-02 02:00:27.000000000,2019-08-02 02:00:27.000000000,130,0,0,674000,8ac7e8d392a76f1712c554822ba3e22d52f173df,7,4,2,3,11491,Gael Chamoulaud,gchamoul,"Adds molecule testing for DNS validation

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da
(cherry picked from commit 647e9afc264fab5a0672d372d7244a171104486e)
"
openstack%2Ftripleo-validations~stable%2Fstein~I20b55dc55b833a87930a4d9efd9fe81d4759ccb5,openstack/tripleo-validations,stable/stein,molecule/undercloud-disk-space-stable/stein,I20b55dc55b833a87930a4d9efd9fe81d4759ccb5,Adds molecule tests for undercloud-disk-space,MERGED,2019-08-01 11:06:03.000000000,2019-08-02 01:45:39.000000000,2019-08-02 01:45:38.000000000,127,0,0,674001,110d27f4e702aa9e7a4658defc68455674ee013e,7,4,2,3,11491,Gael Chamoulaud,gchamoul,"Adds molecule tests for undercloud-disk-space

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: I20b55dc55b833a87930a4d9efd9fe81d4759ccb5
(cherry picked from commit 5adfef9d9a61402617591ef58315b9cd62f60907)
"
openstack%2Ftripleo-validations~stable%2Fstein~Ie3226b708665b1733891d592a54cc6f2398899df,openstack/tripleo-validations,stable/stein,molecule/controller-token-stable/stein,Ie3226b708665b1733891d592a54cc6f2398899df,Adds molecule testing for controller-token,MERGED,2019-08-01 11:05:06.000000000,2019-08-02 01:45:39.000000000,2019-08-02 01:45:39.000000000,137,0,0,673999,0386bc224ab3a921cee56ef1372a038aa90a528e,7,4,2,3,11491,Gael Chamoulaud,gchamoul,"Adds molecule testing for controller-token

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: Ie3226b708665b1733891d592a54cc6f2398899df
(cherry picked from commit 1ace29c69400173e05346dbc4906e003f72899b6)
"
openstack%2Ftempest~master~Ia9f271ead6a6e3fb90afc935771e8da4d8990c3c,openstack/tempest,master,fix-indent,Ia9f271ead6a6e3fb90afc935771e8da4d8990c3c,Fix indentation in releasenotes,MERGED,2019-07-29 05:11:50.000000000,2019-08-02 01:28:11.000000000,2019-08-02 01:28:11.000000000,63,63,0,673208,4f6538e01868bca1a2b1df6688d4828fd9e8dbd5,8,4,1,14,5689,Masayuki Igawa,igawa,"Fix indentation in releasenotes

This commit fixes indentations in releasenotes. Due to the indentations,
the html contents are rendered as block quotes which is awkward.

Change-Id: Ia9f271ead6a6e3fb90afc935771e8da4d8990c3c
"
openstack%2Fneutron~master~I33bd17c723b3e8d409415bda008440f8ed9cfa68,openstack/neutron,master,bp/subnets-different-pools-same-net,I33bd17c723b3e8d409415bda008440f8ed9cfa68,Relax subnet pool network affinity constraints,MERGED,2019-06-26 05:34:52.000000000,2019-08-02 01:28:09.000000000,2019-08-02 01:28:09.000000000,325,10,63,667511,32182010c2c2050f37221824788a91d762081a0f,107,14,12,7,4187,Ryan Tidwell,ryan-tidwell,"Relax subnet pool network affinity constraints

This change relaxes the constraint that all subnets of the same
address family on a network must be allocated from the same subnet
pool. It allows subnets that share the same address scope to
co-exist on a network. If there is no address scope involved the
subnet pool / network affinity constraints continue to  enforced
as done previously.

Change-Id: I33bd17c723b3e8d409415bda008440f8ed9cfa68
Closes: 1830240
Implements: subnets-different-pools-same-net
"
openstack%2Ftripleo-validations~stable%2Fstein~I7009a4ae534a6ad437ca46f0d3d3505360dc21dc,openstack/tripleo-validations,stable/stein,molecule/haproxy-stable/stein,I7009a4ae534a6ad437ca46f0d3d3505360dc21dc,Adds Molecule to haproxy validation role,MERGED,2019-08-01 11:04:00.000000000,2019-08-02 01:21:11.000000000,2019-08-02 01:21:11.000000000,154,0,0,673997,f8366f746033317faeed18cc3f74ead62b4a9695,7,4,2,3,11491,Gael Chamoulaud,gchamoul,"Adds Molecule to haproxy validation role

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: I7009a4ae534a6ad437ca46f0d3d3505360dc21dc
(cherry picked from commit 06bb613979a4c4e1c297c3f8feed244af1142046)
"
openstack%2Ffreezer-api~master~I3d580b4422826d02cbced24df8fa688890557dcb,openstack/freezer-api,master,,I3d580b4422826d02cbced24df8fa688890557dcb,Replace git.openstack.org with opendev.org,ABANDONED,2019-04-23 03:01:47.000000000,2019-08-02 01:19:16.000000000,,1,1,0,654683,f9d3c588f63439f9d3cd11b88d1dca3fdb2a6221,7,5,1,1,28614,jacky06,jacky06,"Replace git.openstack.org with opendev.org

Change-Id: I3d580b4422826d02cbced24df8fa688890557dcb
"
openstack%2Fcongress-dashboard~master~If22ab1fffe3edec4795d29e4f74ca8776f62bfd9,openstack/congress-dashboard,master,,If22ab1fffe3edec4795d29e4f74ca8776f62bfd9,Update json module to jsonutils,ABANDONED,2019-03-01 02:48:49.000000000,2019-08-02 01:17:35.000000000,,5,4,3,640249,04025c24142d7cf7cd95d8c1875466654a5eb852,22,11,6,3,28614,jacky06,jacky06,"Update json module to jsonutils

oslo project provide jsonutils, and congress use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/congress/search?utf8=%E2%9C%93&q=jsonutils&type=

Change-Id: If22ab1fffe3edec4795d29e4f74ca8776f62bfd9
"
openstack%2Ftripleo-validations~stable%2Fstein~I2fc48005c91dd5e4cf81a3b3eb2f1f73a2bca92c,openstack/tripleo-validations,stable/stein,molecule-stable-stein,I2fc48005c91dd5e4cf81a3b3eb2f1f73a2bca92c,Make Verify the RAM requirements task failing again,MERGED,2019-07-16 12:43:46.000000000,2019-08-02 01:15:34.000000000,2019-08-02 01:15:34.000000000,1,16,0,671020,23dd988ac3c85891f3b2998d3625952e46b79908,8,5,2,2,11491,Gael Chamoulaud,gchamoul,"Make Verify the RAM requirements task failing again

Commit 5bd41653b6bf097bc505b56ff539c26e440cdadb changes the tasks to use
the debug module instead of fail module.

This patch makes that task failing again and removes the useless
verify.yml file.

Change-Id: I2fc48005c91dd5e4cf81a3b3eb2f1f73a2bca92c
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 4e6c26df546ee24903352f66d4a2e5d95fff10ad)
"
openstack%2Ftripleo-validations~stable%2Fstein~If1658d887aaa8559df919d787223ddff295bac50,openstack/tripleo-validations,stable/stein,molecule-stable-stein,If1658d887aaa8559df919d787223ddff295bac50,Add Molecule tests for the role xfs-check-ftype.,MERGED,2019-07-10 10:37:34.000000000,2019-08-02 01:15:34.000000000,2019-08-02 01:15:34.000000000,182,1,0,670028,c7923e06ae367b280ad290bf763bec347f9173ef,10,6,2,6,11491,Gael Chamoulaud,gchamoul,"Add Molecule tests for the role xfs-check-ftype.

Change-Id: If1658d887aaa8559df919d787223ddff295bac50
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 3619fe33e98a136f232fcfb26045594a0a3081b9)
"
openstack%2Ftripleo-validations~stable%2Fstein~I0551ab56324ede7f1d33e0e9a680c26ea164023c,openstack/tripleo-validations,stable/stein,molecule-stable-stein,I0551ab56324ede7f1d33e0e9a680c26ea164023c,Add Molecule tests for the role undercloud-ram.,MERGED,2019-07-09 15:55:59.000000000,2019-08-02 01:15:32.000000000,2019-08-02 01:15:32.000000000,184,7,1,669898,ee5b42e8d32e6409252ba9a1ea6f5967760643fd,20,5,5,7,11491,Gael Chamoulaud,gchamoul,"Add Molecule tests for the role undercloud-ram.

Change-Id: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Signed-off-by: Luke Short <ekultails@gmail.com>
Co-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>
(cherry picked from commit 5bd41653b6bf097bc505b56ff539c26e440cdadb)
"
openstack%2Fdesignate-dashboard~master~I2c6d07c80d9a4af225a20ccd466240809788b390,openstack/designate-dashboard,master,,I2c6d07c80d9a4af225a20ccd466240809788b390,Fix py35/py36 gate jobs,ABANDONED,2019-07-04 14:23:54.000000000,2019-08-02 01:13:53.000000000,,1,1,1,669189,910db2ab4aa7906c86f435f6b11b9a1f5dd1ec9c,5,2,2,1,28614,jacky06,jacky06,"Fix py35/py36 gate jobs

py35/py36 jobs are failing
python 3.6 pycache also includes links - so those also
need to be removed by tox testenv

Change-Id: I2c6d07c80d9a4af225a20ccd466240809788b390
"
openstack%2Fdesignate-dashboard~master~I97ed4bc0e722180315eb992233ac7829f0f7bbe7,openstack/designate-dashboard,master,,I97ed4bc0e722180315eb992233ac7829f0f7bbe7,Sync Sphinx requirement,ABANDONED,2019-06-18 15:11:44.000000000,2019-08-02 01:13:29.000000000,,8,7,0,666018,5fa57dc887dc478632c31f1cf56f7a1adbe6b0f3,10,5,2,4,28614,jacky06,jacky06,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Remove unncessary ""==""

Change-Id: I97ed4bc0e722180315eb992233ac7829f0f7bbe7
"
openstack%2Ftripleo-common~master~I5829addb715c4836dd27750daa67f2e472084b34,openstack/tripleo-common,master,bug/1838272,I5829addb715c4836dd27750daa67f2e472084b34,Add docker/podman packages to nova_libvirt container,MERGED,2019-07-29 15:00:57.000000000,2019-08-02 01:08:54.000000000,2019-08-02 01:08:54.000000000,18,4,9,673307,f6eb3c8db7f72acc54e80531b8f083ed084679f6,27,9,4,1,17216,Martin Schuppert,mcschupp,"Add docker/podman packages to nova_libvirt container

The nova_libvirt containers need to be able to launch containers for
the virtlogd process to be not managed by paunch.

We only add docker if distro_python_version.startswith('2') . This
applies to
- nova_libvirt_packages_append
- neutron_metadata_agent_ovn_packages_append
- neutron_l3_agent_packages_append
- neutron_dhcp_agent_packages

Related-Bug: #1838272

Change-Id: I5829addb715c4836dd27750daa67f2e472084b34
"
openstack%2Fopenstack-helm-infra~master~I29608cd8b6ce1e30615a0f92853939d7bbae9972,openstack/openstack-helm-infra,master,,I29608cd8b6ce1e30615a0f92853939d7bbae9972,Ceph-Client: update configmap name for defragosds cronjob,MERGED,2019-08-01 15:11:48.000000000,2019-08-02 00:21:41.000000000,2019-08-02 00:21:41.000000000,3,8,4,674070,acd5d11bc22a38eac88fb2b9ea647053d9e78180,25,7,8,2,28372,chinasubbareddy mallavarapu,chinasubbareddy,"Ceph-Client: update configmap name for defragosds cronjob

This is to update configmap names using by defragosds cronjob.

Change-Id: I29608cd8b6ce1e30615a0f92853939d7bbae9972
"
openstack%2Fneutron-lib~master~I53c6538dfbeea9691d95c6c555f0c56ae13d1a33,openstack/neutron-lib,master,ethertype_validator_fix,I53c6538dfbeea9691d95c6c555f0c56ae13d1a33,Ensure that extended ethertypes still work by name,MERGED,2019-07-30 21:18:46.000000000,2019-08-02 00:20:52.000000000,2019-08-02 00:20:52.000000000,30,6,0,673692,24aef1398b5b69967696aa8cb6598ab1be37c626,10,5,2,4,13995,Nate Johnston,natejohnston,"Ensure that extended ethertypes still work by name

When the change to add support for extended ethertypes was introduced,
one scenario for backwards compatibility was not addressed in the
validator: using the canonical string names for ethertypes.  This was
previously supported in the original implementation, using 'IPv4' or
'IPv6' for example.

Since the list of canonical ethertype names is available from os-ken we
consume it from there, which adds an additional dependency for
neutron-lib.

Related-Bug: #1838473
Change-Id: I53c6538dfbeea9691d95c6c555f0c56ae13d1a33
"
openstack%2Fmagnum~master~I0ddfd7fde55302809a98bb8a6d745de4079b9a87,openstack/magnum,master,python3-train,I0ddfd7fde55302809a98bb8a6d745de4079b9a87,Add Python 3 Train unit tests,MERGED,2019-07-02 02:42:08.000000000,2019-08-01 23:46:15.000000000,2019-08-01 23:46:15.000000000,3,3,0,668570,58230546272e698d3390b9b2f7aedd09fdea7808,20,7,2,3,27822,pengyuesheng,pengyuesheng,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I0ddfd7fde55302809a98bb8a6d745de4079b9a87
Story: #2005924
Task: #34219
"
openstack%2Fironic~master~I55b85d52ec905150322633b07ecdacd293bf1a57,openstack/ironic,master,story_2006218,I55b85d52ec905150322633b07ecdacd293bf1a57,Creation of UEFI ISO fails with efiboot.img,MERGED,2019-07-13 15:38:36.000000000,2019-08-01 23:27:29.000000000,2019-08-01 23:27:28.000000000,22,5,9,670698,13dcb33faaf38a3ae97174eda1b8cfc1800b2b9b,76,12,5,3,11076,Shivanand Tendulker,stendulker,"Creation of UEFI ISO fails with efiboot.img

Creation for UEFI boot mode when efiboot.img file is provided and
the directory of location of grub.cfg file set using config
``[DEFAULT]/grub_config_path`` is not same as that of efiboot.img
file.

Change-Id: I55b85d52ec905150322633b07ecdacd293bf1a57
Story: 2006218
Task: 35811
"
openstack%2Fopenstack-ansible-os_ironic~master~I429cffc8782c19fb2522520238ac356ab3c0a038,openstack/openstack-ansible-os_ironic,master,,I429cffc8782c19fb2522520238ac356ab3c0a038,redhat: add qemu-img-ev to dependencies,MERGED,2019-07-31 20:06:04.000000000,2019-08-01 23:09:04.000000000,2019-08-01 23:09:04.000000000,1,0,0,673905,5d74ab936af32bdf5f00f6e96b3f0708aac90ce5,12,3,1,1,1004,Mohammed Naser,mnaser,"redhat: add qemu-img-ev to dependencies

Ironic needs qemu-img in order to be able to convert images so this
commit adds it to the list of dependencies.

Change-Id: I429cffc8782c19fb2522520238ac356ab3c0a038
"
openstack%2Fmagnum~master~I9a167c082d685f02766349ba9e301afd52d0d284,openstack/magnum,master,sphinx,I9a167c082d685f02766349ba9e301afd52d0d284,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-02 02:45:27.000000000,2019-08-01 22:56:53.000000000,2019-08-01 22:56:53.000000000,2,2,1,668572,5438a3c6e306b41fdef69de5772f7d682a32a55c,13,5,3,2,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I9a167c082d685f02766349ba9e301afd52d0d284
"
openstack%2Fopenstack-helm~master~I23b35aee298e2e414e93ff34cd0a7012a9099e3d,openstack/openstack-helm,master,rm-priv,I23b35aee298e2e414e93ff34cd0a7012a9099e3d,Allow allowPrivilegeEscalation,MERGED,2019-08-01 00:22:18.000000000,2019-08-01 22:45:19.000000000,2019-08-01 22:45:19.000000000,0,1,0,673930,50c982eab03a0d04487479680c02f74bc6ef3e29,10,6,1,1,20466,Tin Lam,tinlam,"Allow allowPrivilegeEscalation

Cinder requires rootwrap functionality that we cannot disable
allowPrivilegeEscalation. This patch set removes the line
that disables it by default.

Change-Id: I23b35aee298e2e414e93ff34cd0a7012a9099e3d
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fmagnum-ui~master~Ia622efbbf222a3a0d58e1582976b4a45b4b1da23,openstack/magnum-ui,master,Bug#1,Ia622efbbf222a3a0d58e1582976b4a45b4b1da23,Update sphinx dependency,MERGED,2019-06-21 05:53:58.000000000,2019-08-01 22:25:56.000000000,2019-08-01 22:25:56.000000000,2,1,0,666775,baccaeb7939e5183dbd69e4936d4ef2e6a151e5e,7,5,1,1,27822,pengyuesheng,pengyuesheng,"Update sphinx dependency

Sphinx 2.0 no longer works on python 2.7,
so we need to start capping it there as well
depend on https://review.opendev.org/#/c/657890/

Change-Id: Ia622efbbf222a3a0d58e1582976b4a45b4b1da23
"
openstack%2Fmagnum~master~Iec43df292dbd6a7e7ee33a0d4b8670b653a7ebbd,openstack/magnum,master,heat-container-agent-train-dev,Iec43df292dbd6a7e7ee33a0d4b8670b653a7ebbd,Set train-dev as the default tag for heat-container-agent,MERGED,2019-07-25 22:02:50.000000000,2019-08-01 22:22:53.000000000,2019-08-01 22:22:52.000000000,7,3,0,672832,c6bf1da085383795d4f412c6af78693ee395badf,10,4,1,4,6484,Feilong Wang,flwang,"Set train-dev as the default tag for heat-container-agent

Based on the policy of heat-container-agent tag, now it's updated
as train-dev and as long as we release Train, it will be updated
with train-stable.

Change-Id: Iec43df292dbd6a7e7ee33a0d4b8670b653a7ebbd
"
openstack%2Fopenstacksdk~master~I5e3b4c70bc0875a1dfcc587b60a95258a61b4407,openstack/openstacksdk,master,retire-api-site,I5e3b4c70bc0875a1dfcc587b60a95258a61b4407,Update links,MERGED,2019-07-30 05:06:52.000000000,2019-08-01 22:07:23.000000000,2019-08-01 22:07:23.000000000,39,27,0,673401,7d25db261094d32c01e63f645ef4c8a7b195c431,16,5,2,27,6547,Andreas Jaeger,jaegerandi,"Update links

The openstacksdk docs are published at docs.o.o, not developer.o.o since
quite some time. Fix links to point to current version of docs.

Add missing links, thus removing some TODOs.

Change-Id: I5e3b4c70bc0875a1dfcc587b60a95258a61b4407
"
openstack%2Fpython-openstackclient~master~I52891fe36c84d0df3e868ab4f3c8e2357e9ba529,openstack/python-openstackclient,master,forced_down,I52891fe36c84d0df3e868ab4f3c8e2357e9ba529,Mention compute service set --up|--down requires 2.11 or greater,MERGED,2019-07-24 16:03:39.000000000,2019-08-01 21:56:42.000000000,2019-08-01 21:56:41.000000000,7,4,1,672554,b52a831f6b92daaba100e09299ec967679adf308,9,3,1,2,6873,Matt Riedemann,mriedem,"Mention compute service set --up|--down requires 2.11 or greater

This simply updates the docs for the compute service set --up
and --down options to mention that --os-compute-api-version 2.11
or greater is required to use those options.

Change-Id: I52891fe36c84d0df3e868ab4f3c8e2357e9ba529
"
openstack%2Fpython-openstackclient~master~Ic396fc23caa66b6b0034c5d30b27c6ed499de5a6,openstack/python-openstackclient,master,bug/1735575,Ic396fc23caa66b6b0034c5d30b27c6ed499de5a6,Support IPv6 addresses better,MERGED,2017-11-30 22:57:29.000000000,2019-08-01 21:54:02.000000000,2019-08-01 21:54:02.000000000,79,15,0,524420,969e6abd20570ae64b3d1fd049da1521fa148b5c,36,7,6,5,1131,Brian Haley,brian-haley,"Support IPv6 addresses better

When adding a security group rule, if no IP address is given
we will use '0.0.0.0/0', but if the ethertype is IPv6 we will
leave it as None.  Change this to be '::/0' to match what we
do for IPv4 - use the ""any"" address.  The neutron server
treats them both the same when checking for duplicates.

Because there are most likely entries in the DB using None
for the IP, print them as '0.0.0.0/0' or '::/0' so it is more
obvious what address they are actually referring to.

Also change to display the Ethertype column by default
instead of with --long, since easily knowing IPv4 or IPv6
is useful.

Change-Id: Ic396fc23caa66b6b0034c5d30b27c6ed499de5a6
Closes-bug: #1735575
"
openstack%2Fkeystone~master~I5de14b5bd2d96c2f78152eda48842d388109e02b,openstack/keystone,master,bug/1838037,I5de14b5bd2d96c2f78152eda48842d388109e02b,Deprecate keystone.conf.memcache socket_timeout,MERGED,2019-07-25 05:56:02.000000000,2019-08-01 21:47:09.000000000,2019-08-01 21:47:09.000000000,18,0,7,672629,4b747fa083ad09ae8ba92dadc63ac0b830c7e562,17,5,3,2,19779,Chason Chan,chenxing,"Deprecate keystone.conf.memcache socket_timeout

Change-Id: I5de14b5bd2d96c2f78152eda48842d388109e02b
Partial-Bug: #1838037
Closes-Bug: #1837407
"
openstack%2Fnetworking-bgpvpn~master~I95fd291ef583145e8549650b870247d306da8b95,openstack/networking-bgpvpn,master,retire-api-site,I95fd291ef583145e8549650b870247d306da8b95,Update api-ref location,MERGED,2019-07-22 18:55:00.000000000,2019-08-01 21:42:37.000000000,2019-08-01 21:42:37.000000000,5,5,0,672137,9ec426c0c5257735d7d6da6fda5fe508515d4dc8,9,5,1,2,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I95fd291ef583145e8549650b870247d306da8b95
"
openstack%2Frequirements~master~I16496f325858094862d99b568dd01c0b65f8db2e,openstack/requirements,master,new-release,I16496f325858094862d99b568dd01c0b65f8db2e,update constraint for openstacksdk to new release 0.32.0,MERGED,2019-08-01 09:44:25.000000000,2019-08-01 21:32:20.000000000,2019-08-01 21:32:19.000000000,1,1,0,673987,e021ce6144933d0443eb6342ebe8accd9066daa9,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for openstacksdk to new release 0.32.0

Change-Id: I16496f325858094862d99b568dd01c0b65f8db2e
meta:version: 0.32.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: Ifb045ea76a79d91c7d6d6bfe312cb9ca821868d2
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Code-Review+1: David Shrewsbury <dshrewsb@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fneutron~master~I769a5a59926cc42dcf0cdda5964bd42c8a864a34,openstack/neutron,master,use-callback-payloads,I769a5a59926cc42dcf0cdda5964bd42c8a864a34,use callback payloads for PROVISIONING_COMPLETE,MERGED,2019-07-31 15:18:23.000000000,2019-08-01 21:32:15.000000000,2019-08-01 21:32:14.000000000,25,15,0,673843,e124f5b6478735d3bcd63305de69dd55ca90ac79,13,9,1,4,5367,boden,boden,"use callback payloads for PROVISIONING_COMPLETE

This patch switches over to callback payloads for PROVISIONING_COMPLETE
events.

NeutronLibImpact

Change-Id: I769a5a59926cc42dcf0cdda5964bd42c8a864a34
"
openstack%2Fneutron~stable%2Frocky~Ie581809f24f9547b55a87423dac7db933862d66a,openstack/neutron,stable/rocky,bug/1828375,Ie581809f24f9547b55a87423dac7db933862d66a,Retry trunk status updates failing with StaleDataError,MERGED,2019-07-31 07:24:29.000000000,2019-08-01 21:32:05.000000000,2019-08-01 21:32:05.000000000,95,5,0,673744,80389bb4ee8a9cd52401187b278e339c69d9f295,15,5,1,2,11975,Slawek Kaplonski,slaweq,"Retry trunk status updates failing with StaleDataError

This is an approximate partial fix to #1828375.

update_trunk_status and update_subport_bindings rpc messages are
processed concurrently and possibly out of order on the server side.
Therefore they may race with each other.

The status update race combined with
1) the versioning feature of sqlalchemy used in the standardattributes
   table and
2) the less than serializable isolation level of some DB backends (like
   MySQL InnoDB)
does raise StaleDataErrors and by that leaves some trunk subports in
DOWN status.

This change retries the trunk status update (to BUILD) blindly when
StaleDataError was caught. In my local testbed this practically
fixes #1828375.

However theoretically the retry may cover up other real errors (when the
cause of the StaleDataError was a different status not just a different
revision count).

To the best of my understanding a proper fix would entail guaranteeing
the in order processing of the above rpc messages - which likely won't
ever happen.

I'm not sure at all if this change is worth merging - let me know what
you think.

Conflicts:
    neutron/services/trunk/rpc/server.py
    neutron/tests/unit/services/trunk/rpc/test_server.py

Change-Id: Ie581809f24f9547b55a87423dac7db933862d66a
Partial-Bug: #1828375
(cherry picked from commit 618e24e241241c7323702a815542f11e91fd32a1)
(cherry picked from commit d090fb9a3cbad6c4c3f5c524907a94cb5f95b205)
"
openstack%2Fneutron~stable%2Fqueens~Ie581809f24f9547b55a87423dac7db933862d66a,openstack/neutron,stable/queens,bug/1828375-stable/queens,Ie581809f24f9547b55a87423dac7db933862d66a,Retry trunk status updates failing with StaleDataError,MERGED,2019-07-31 07:24:46.000000000,2019-08-01 21:32:02.000000000,2019-08-01 21:32:02.000000000,95,5,0,673745,10191fd81706f302f2114c8a196d5e0a0cd1b5db,14,5,1,2,11975,Slawek Kaplonski,slaweq,"Retry trunk status updates failing with StaleDataError

This is an approximate partial fix to #1828375.

update_trunk_status and update_subport_bindings rpc messages are
processed concurrently and possibly out of order on the server side.
Therefore they may race with each other.

The status update race combined with
1) the versioning feature of sqlalchemy used in the standardattributes
   table and
2) the less than serializable isolation level of some DB backends (like
   MySQL InnoDB)
does raise StaleDataErrors and by that leaves some trunk subports in
DOWN status.

This change retries the trunk status update (to BUILD) blindly when
StaleDataError was caught. In my local testbed this practically
fixes #1828375.

However theoretically the retry may cover up other real errors (when the
cause of the StaleDataError was a different status not just a different
revision count).

To the best of my understanding a proper fix would entail guaranteeing
the in order processing of the above rpc messages - which likely won't
ever happen.

I'm not sure at all if this change is worth merging - let me know what
you think.

Conflicts:
    neutron/services/trunk/rpc/server.py
    neutron/tests/unit/services/trunk/rpc/test_server.py

Change-Id: Ie581809f24f9547b55a87423dac7db933862d66a
Partial-Bug: #1828375
(cherry picked from commit 618e24e241241c7323702a815542f11e91fd32a1)
(cherry picked from commit d090fb9a3cbad6c4c3f5c524907a94cb5f95b205)
"
openstack%2Fdevstack~stable%2Fpike~I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4,openstack/devstack,stable/pike,,I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4,zuul: new variable to easily populate TEMPEST_PLUGINS,MERGED,2019-07-30 07:45:44.000000000,2019-08-01 21:32:00.000000000,2019-08-01 21:32:00.000000000,94,42,0,673433,5a16a376a5b747096799bab2aea8510f21c8cb06,19,3,1,4,10459,Luigi Toscano,ltoscano,"zuul: new variable to easily populate TEMPEST_PLUGINS

TEMPEST_PLUGINS contains the list of the tempest plugins installed
alongside tempest by lib/tempest.
If TEMPEST_PLUGINS is not explicitly set, the new tempest_plugins
variable is used to fill it by combining its items with
the base devstack path.

Change-Id: I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4
(cherry picked from commit 70d043dd6039fb55aa9d40d593839037bb8c43cf)
"
openstack%2Fnova~stable%2Frocky~I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4,openstack/nova,stable/rocky,bug/1195361,I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4,Avoid crashing while getting libvirt capabilities with unknown arch names,MERGED,2019-07-25 14:35:08.000000000,2019-08-01 21:31:54.000000000,2019-08-01 21:31:54.000000000,19,5,0,672746,2b86a9caccb37c1800f3b5e6f4b29218a7539479,10,6,1,2,6873,Matt Riedemann,mriedem,"Avoid crashing while getting libvirt capabilities with unknown arch names

In _get_instance_capabilities() we get a list of host capabilities and then
build a list of arches supported by the virt type of an instance to arrive
at the list of possibilities for the instance. We check each of those
against our enum, but fail to gracefully skip unsupported values should we
encounter one.

This patch makes that graceful, and also introduces an unsupported arch to
the test stub to make sure we always skip it. Note that we do not warn
because this happens once per instance in a periodic task, and since the
situation is caused by a (somewhat permanent) mismatch of libvirt and
nova version support, isn't something that needs to be remedied by an
operator.

Closes-Bug: #1820125
Change-Id: I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4
(cherry picked from commit 71df650d0a390d2b6b19928db4379e723e9f5cde)
"
openstack%2Fnova~stable%2Frocky~Id14993db6ea33b2da14caa4b58671fc57c182706,openstack/nova,stable/rocky,bug/1829506,Id14993db6ea33b2da14caa4b58671fc57c182706,Fix type error on call to mount device,MERGED,2019-07-08 13:25:40.000000000,2019-08-01 21:31:47.000000000,2019-08-01 21:31:47.000000000,3,1,0,669664,e3cd1d9baa74181cbac1765291ad67654b35721d,12,7,1,2,6873,Matt Riedemann,mriedem,"Fix type error on call to mount device

The call in nova.virt.disk.mount.api.Mount.mnt_dev() to
nova.privsep.fs.mount() should include the `options` argument to
fulfill with the method signature.

The test test_do_mount_need_to_specify_fs_type has been modified to
check that the caller use the correct signature.

Closes-Bug: 1829506

Change-Id: Id14993db6ea33b2da14caa4b58671fc57c182706
Signed-off-by: Miguel Herranz <miguel@midokura.com>
(cherry picked from commit d2ef1ce309c28a5416af4cc00662ad6925574004)
(cherry picked from commit 8371073ac7a3439ea5b6ce9091a91e77cf88020e)
"
openstack%2Fnova~stable%2Frocky~I58a4038b04d5a9c28927d914e71609e4deea3d9f,openstack/nova,stable/rocky,bug/1837075,I58a4038b04d5a9c28927d914e71609e4deea3d9f,libvirt: move checking CONF.my_ip to init_host(),MERGED,2019-07-22 19:47:43.000000000,2019-08-01 21:31:38.000000000,2019-08-01 21:31:38.000000000,24,7,0,672155,65d2e455e323a627ef228ed57a1f0c86d8252665,13,6,2,4,8864,Artom Lifshitz,artom,"libvirt: move checking CONF.my_ip to init_host()

Migrations use the libvirt driver's get_host_ip_addr() method to
determine the dest_host field of the migration object.
get_host_ip_addr() checks whether CONF.my_ip is actually assigned to
one of the host's interfaces. It does so by calling
get_machine_ips(), which iterates over all of the host's interfaces.
If the host has many interfaces, this can take a long time, and
introduces needless delays in processing the migration.
get_machine_ips() is only used to print a warning, so this patch moves
the get_machine_ips() call to a single method in init_host(). This
way, a warning is still emitted at compute service startup, and
migration progress is not needlessly slowed down.

NOTE(artom) While the following paragraph still applies, the poison
patch will not be backported. Stubbing out use of
netifaces.interfaces() is still a good thing to do, however.

This patch also has a chicken and egg problem with the patch on top of
it, which poisons use of netifaces.interfaces() in tests. While this
patch fixes all the tests that break with that poison, it starts
breaking different tests because of the move of get_machine_ips() into
init_host(). Therefore, while not directly related to the bug, this
patch also preventatively mocks or stubs out any use of
get_machine_ips() that will get poisoned with the subsequent patch.

Closes-bug: 1837075
Change-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f
(cherry picked from commit 30d8159d4ee51a26a03de1cb134ea64c6c07ffb2)
(cherry picked from commit 560317c766afc4a4c4c5017ecfc9ce432fe63ea7)
"
openstack%2Fnova~stable%2Frocky~I51673e58fc8d5f051df911630f6d7a928d123a5b,openstack/nova,stable/rocky,bug/1832028,I51673e58fc8d5f051df911630f6d7a928d123a5b,Revert resize: wait for events according to hybrid plug,MERGED,2019-07-12 20:22:09.000000000,2019-08-01 21:31:31.000000000,2019-08-01 21:31:30.000000000,351,44,0,670648,d9892abd2f096c05a2885a4902128941a24f5670,16,5,2,9,8864,Artom Lifshitz,artom,"Revert resize: wait for events according to hybrid plug

Since 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a
resized instance back to the source host, the libvirt driver waits for
vif-plugged events when spawning the instance. When called from
finish_revert_resize() in the source compute manager, libvirt's
finish_revert_migration() does not pass vifs_already_plugged to
_create_domain_and_network(), making the latter use the default False
value.

When the source compute manager calls
network_api.migrate_instance_finish() in finish_revert_resize(), this
updates the port binding back to the source host. If Neutron is
configured to use OVS hybrid plug, it will send the vif-plugged event
immediately after completing this request. This happens before the
virt driver's finish_revert_migration() method is called. This causes
the wait in the libvirt driver to time out because the event is
received before Nova starts waiting for it.

The neutron ovs l2 agent sends vif-plugged events when two conditions
are met. First the port must be bound to the host managed by the
l2 agent and second, the agent must have completed configuring the
port on ovs. This involves assigning the port a local VLAN for tenant
isolation, applying security group rules if required and applying
QoS policies or other agent extensions like service function chaining.

During the boot process, we bind the port first to the host
then plug the interface into ovs which triggers the l2 agent to
configure it resulting in the emission of the vif-plugged event.
In the revert case, as noted above, since the vif is already plugged
on the source node when hybrid-plug is used, binding the port to the
source node fulfils the second condition to send the vif-plugged event.

Events sent immediately after port binding update are hereafter known
as ""bind-time"" events. For ports that do not use OVS hybrid plug,
Neutron will continue to send vif-plugged events only when Nova
actually plugs the VIF. These types of events are hereafter known as
""plug-time"" events. OVS hybrid plug is a per agent setting, so for
a particular host, bind-time events are an all-or-nothing thing for the
ovs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports
have them. In general, a host will only have one network backend.
The only exception to this is SR-IOV. SR-IOV is commonly deployed on
the same host as other network backends such as OVS or linuxbridge.
SR-IOV ports with VNIC_TYPE=direct-physical will always have only
bind-time events. If an instance mixes OVS ports with hybrid-plug=False
with direct physical ports, it will have both kinds of events.

For same host resize reverts we do not update the binding host as the
host does not change, as such for same host resize we do not receive
bind time events. For same host revert we therefore do not wait for
bind time events in the compute manager.

This patch adds functions to the NetworkInfo model that return what
kinds of events each VIF has. These are then used in the migration
revert logic to decide when to wait for external events: in the
compute manager, when binding the port, for bind-time events,
and/or in libvirt, when plugging the VIFs, for plug-time events.

(cherry picked from commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b)
Conflicts in nova/tests/unit/objects/test_migration.py due to
1cf3da87027d87251920c2df665b850abb31178e's addition of
test_obj_make_compatible() and test_get_by_uuid().

(cherry picked from commit 7a3a8f325ef6eaa97de1cf74efbaa0079f61a9e6)
NOTE(artom) uuidsentinel was moved to oslo_utils.fixture in Stein, in
Rocky it was still in nova.tests.

Closes-bug: #1832028
Closes-Bug: #1833902
Co-Authored-By: Sean Mooney <work@seanmooney.info>
Change-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b
"
openstack%2Foctavia~master~I9bdd6f2913c0da2b0772b4b694309ef993289360,openstack/octavia,master,bug/2005947,I9bdd6f2913c0da2b0772b4b694309ef993289360,Add failover logging to show the amphora details.,MERGED,2019-06-25 09:52:00.000000000,2019-08-01 21:30:29.000000000,2019-08-01 21:30:29.000000000,50,2,6,667316,93e06a9239a0f4b2bcdcdca9e13e800e75b1f237,42,8,5,2,9057,Noboru Iwamatsu,r0ckpine,"Add failover logging to show the amphora details.

When failover occurs, Octavia health-manager doesn't log any
information about the loadbalancer.  Due to this, operators can't
specify which loadbalancer got failed and which user was affected
by the failover.

This commit fix this issue by logging not only amphora_id but also
the linking information (e.g. loadbalancer_id, compute_id, ..)
when performing/completed the failover.

Change-Id: I9bdd6f2913c0da2b0772b4b694309ef993289360
Task: 34312
Story: 2005947
"
openstack%2Freleases~master~I608e09d219379e00cca15c5ff165bb63aecfe9f2,openstack/releases,master,ruamel,I608e09d219379e00cca15c5ff165bb63aecfe9f2,Raise YAML compliance to 1.2,MERGED,2019-07-08 19:33:57.000000000,2019-08-01 20:49:25.000000000,2019-08-01 20:49:25.000000000,928,929,3,669746,1704aa624ae3220a5ed550d379ac6a5633d9650a,23,5,3,919,11904,Sean McGinnis,SeanM,"Raise YAML compliance to 1.2

The YAML 1.2 spec was released in 2009. It's probably been enough time
that it's safe to move to it.

The only issue for out YAML usage was 1.2 dropped the use of Yes, No, On,
and Off as valid boolean values.

Change-Id: I608e09d219379e00cca15c5ff165bb63aecfe9f2
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Ftempest~master~I91cd10b1b3cd5c825dec34fcb814f6b9dc4460c8,openstack/tempest,master,bug/1836642,I91cd10b1b3cd5c825dec34fcb814f6b9dc4460c8,"Revert ""Use memcached based cache in nova in all devstack-tempest jobs""",MERGED,2019-07-31 11:07:31.000000000,2019-08-01 20:43:06.000000000,2019-08-01 14:01:52.000000000,0,10,0,673784,924a035886da43cd51cd5763c1f5ed9f44a502b6,25,21,1,1,13252,Dr. Jens Harbott,jrosenboom,"Revert ""Use memcached based cache in nova in all devstack-tempest jobs""

This reverts commit eb0a2cc5f240d52efa3a58c5a1ba8821bae3147e.

This break jobs that do not deploy nova, like ironic, see e.g. http://logs.openstack.org/98/670698/5/check/ironic-standalone/d9d3d0e/job-output.txt.gz#_2019-07-31_03_56_36_492216

Change-Id: I91cd10b1b3cd5c825dec34fcb814f6b9dc4460c8
"
openstack%2Fansible-role-thales-hsm~master~I054ad78fedde279a056808e4abf1256ad80cb92e,openstack/ansible-role-thales-hsm,master,,I054ad78fedde279a056808e4abf1256ad80cb92e,Fix typo in client playbook,MERGED,2019-08-01 20:17:16.000000000,2019-08-01 20:35:21.000000000,2019-08-01 20:35:21.000000000,1,1,0,674128,93f475c08d2538220fb78015bd66d135e2b73bc2,6,2,1,1,7973,Douglas Mendizábal,dougmendizabal,"Fix typo in client playbook

Change-Id: I054ad78fedde279a056808e4abf1256ad80cb92e
"
openstack%2Ftripleo-ansible~master~I2923b06665342f3f565d52748bf50d1a66ed9950,openstack/tripleo-ansible,master,,I2923b06665342f3f565d52748bf50d1a66ed9950,Updates old references to ceph_docker_* ansible variables,MERGED,2019-07-30 10:48:54.000000000,2019-08-01 20:06:06.000000000,2019-08-01 20:06:06.000000000,4,5,1,673478,edac939ae23b44c60ab0a58d8de8905a1bacb946,21,9,2,1,6796,Giulio Fidente,gfidente,"Updates old references to ceph_docker_* ansible variables

Replaces some ceph-ansible variables name to match the changes
introduced with PR #4002

Change-Id: I2923b06665342f3f565d52748bf50d1a66ed9950
"
openstack%2Freleases~master~I2f6414d0f71baad58335702743f2180f8da3273f,openstack/releases,master,stable-branch-mode-none,I2f6414d0f71baad58335702743f2180f8da3273f,Add stable-branch-mode:none option,MERGED,2019-07-15 10:30:13.000000000,2019-08-01 20:02:59.000000000,2019-08-01 20:02:59.000000000,37,1,0,670808,3f7c9e782f57af9318551db799d60a6800e03f79,11,5,1,4,308,Thierry Carrez,ttx,"Add stable-branch-mode:none option

Some ""other"" deliverables like tempest and patrole never
create stable branches. This allows to clearly mark such
deliverables and add a corner case in validation tests.

Change-Id: I2f6414d0f71baad58335702743f2180f8da3273f
"
openstack%2Fnova~stable%2Frocky~I5dc65924fee65f6340d1495a9b1b992001c30731,openstack/nova,stable/rocky,bug/1834057,I5dc65924fee65f6340d1495a9b1b992001c30731,docs: Correct issues with 'openstack quota set' commands,MERGED,2019-07-10 15:26:02.000000000,2019-08-01 19:49:31.000000000,2019-08-01 19:49:31.000000000,107,57,0,670097,5982c92fa883e40cf01faf58b84e5f93fd7ebdbb,13,4,3,1,15334,Stephen Finucane,sfinucan,"docs: Correct issues with 'openstack quota set' commands

Change Ic857918b15496049b5ccacde9515f130cc0bd7e9 against
openstack-manuals updated the quotas document to use openstackclient
commands in place of novaclient commands. It missed the fact that you
need to pass the '--class' parameter if you wish to set a quota for a
class rather than a project. Correct this.

Change-Id: I5dc65924fee65f6340d1495a9b1b992001c30731
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1834057
(cherry picked from commit 426790237e75eb184191bee1de50ee493252a717)
(cherry picked from commit 75a3ae933759fb89abd7ee9847fb6685c22a862c)
"
openstack%2Fnova~stable%2Frocky~Ie217523a8969326b27930d7f74e50e9b352ab7a1,openstack/nova,stable/rocky,bug/1835070,Ie217523a8969326b27930d7f74e50e9b352ab7a1,Stabilize unshelve notification sample tests,MERGED,2019-07-04 09:20:13.000000000,2019-08-01 19:49:24.000000000,2019-08-01 19:49:24.000000000,2,0,0,669118,a85ce04fa39e60e672e4fa2d7912f6880079c6ef,13,6,2,1,9708,Balazs Gibizer,gibi,"Stabilize unshelve notification sample tests

The notification sample test for unshelve waits for the instance to
reach ACTIVE state and then asserts if unshelve.end notification is
emitted properly. However the instance.vm_state is set to ACTIVE earlier[1]
than emitting the unshelve.end notification[2]. This can cause two
different test case failure.

1) _test_unshelve_server() fails with no ushelve.end notification
received.

2) _test_shelve_and_shelve_offload_server() also has a unshelve action
at the end and that test step also only waits for the the ACTIVE state.
So the unshelve.end notification from the end of
_test_shelve_and_shelve_offload_server() can bleed into the
_test_unshelve_server() step causing that it receive one more
notifications.

So this patch adds an extra
self._wait_for_notification('instance.unshelve.end') call to each test
step to prevent the instability.

[1] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5322-L5326
[2] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5329
[3] https://github.com/openstack/nova/blob/5c6c1f8f/nova/tests/functional/notification_sample_tests/test_instance.py#L836

Conflicts:
      nova/tests/functional/notification_sample_tests/test_instance.py
Conflicts due to:
* I019e88fabd1d386c0d6395a7b1969315873485fd

Closes-Bug: #1835070

Change-Id: Ie217523a8969326b27930d7f74e50e9b352ab7a1
(cherry picked from commit 40f1e7c4c22dc6023614b34f28bb7fc416b668a8)
(cherry picked from commit 3bc6ff029ff24083844db363010988d8d08cff00)
"
openstack%2Fnova~stable%2Frocky~I141c90ac27d16f2e9c033bcd2f95ac08904a2f52,openstack/nova,stable/rocky,bug/1836005,I141c90ac27d16f2e9c033bcd2f95ac08904a2f52,doc: Fix a parameter of NotificationPublisher,MERGED,2019-07-11 04:03:36.000000000,2019-08-01 19:49:17.000000000,2019-08-01 19:49:16.000000000,1,1,1,670225,7793f4d759d35841848597e27faadb1903df21e9,10,4,1,1,7634,Takashi Natsume,natsumet,"doc: Fix a parameter of NotificationPublisher

The 'binary' parameter has been changed to the 'source'
since I95b5b0826190d396efe7bfc017f6081a6356da65.
But the notification document has not been updated yet.

Replace the 'binary' parameter with the 'source' parameter.

Conflicts:
    doc/source/reference/notifications.rst

    A conflict is due to not including
    Icfebf894185fc83f5fa77e8e10a42ba9dbb37755
    in stable/rocky

Change-Id: I141c90ac27d16f2e9c033bcd2f95ac08904a2f52
Closes-Bug: #1836005
(cherry picked from commit de31466fdb09dd367b23660f71b4ca06f83271a2)
(cherry picked from commit 5ba20d128cd0dee8b9b2a429a71e1bac5b0220df)
"
openstack%2Fnova~stable%2Frocky~Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2,openstack/nova,stable/rocky,bug/1816086,Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2,Perf: Use dicts for ProviderTree roots,MERGED,2019-07-10 20:22:47.000000000,2019-08-01 19:49:09.000000000,2019-08-01 19:49:09.000000000,23,4,3,670182,00e5e3a7443dd31720244497013b040729490dcd,14,6,1,1,14070,Eric Fried,efried,"Perf: Use dicts for ProviderTree roots

ProviderTree used to keep track of root providers in a list. Since we
don't yet have sharing providers, this would always be a list of one for
non-ironic deployments, or N for ironic deployments of N nodes.

To find a provider (by name or UUID), we would iterate over this list,
an O(N) operation. For large ironic deployments, this added up fast -
see the referenced bug.

With this change, we store roots in two dicts: one keyed by UUID, one
keyed by name. To find a provider, we first check these dicts. If the
provider we're looking for is a root, this is now O(1). (If it's a
child, it would still be O(N), because we iterate over all the roots
looking for a descendant that matches. But ironic deployments don't have
child providers (yet?) (right?) so that should be n/a. For non-ironic
deployments it's unchanged: O(M) where M is the number of descendants,
which should be very small for the time being.)

Test note: Existing tests in nova.tests.unit.compute.test_provider_tree
thoroughly cover all the affected code paths. There was one usage of
ProviderTree.roots that was untested and broken (even before this
change) which is now fixed.

Conflicts (rocky backport):
  nova/compute/provider_tree.py
     The return_root kwarg to _find_with_lock was added in stein.
  nova/tests/unit/virt/libvirt/test_driver.py
     and
  nova/virt/libvirt/driver.py
     are n/a because the code iterating over the provider tree roots was
     added in stein (for vgpu handling)

Change-Id: Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2
Closes-Bug: #1816086
(cherry picked from commit 8c797450cbff5194fb6791cd0a07fa060dc8af72)
(cherry picked from commit 754d8eb76c6fcd539fc2c32f0e2f90f6503b9f0c)
"
openstack%2Fmagnum~master~If61efbde56e1d7dd0ed88d76fa42dd00501cc938,openstack/magnum,master,dbmanage-log-options,If61efbde56e1d7dd0ed88d76fa42dd00501cc938,Add oslo_log command options to magnum-db-manage,MERGED,2017-10-13 14:38:10.000000000,2019-08-01 19:46:06.000000000,2019-08-01 19:46:06.000000000,2,0,0,511882,f553558e53827bf0c2859e04d31267dffd339a25,14,7,2,1,27066,bismog,bismog,"Add oslo_log command options to magnum-db-manage

As we all know, 'command magnum-api' and 'magnum-conductor' have
many options such as 'log-file' and 'use-syslog'. But as for
magnum-db-magnum, these are not available.
Add oslo_log command options will help.

Change-Id: If61efbde56e1d7dd0ed88d76fa42dd00501cc938
"
openstack%2Fmagnum~master~I1e6e570d4db575d611212198d11ee4b84884ab23,openstack/magnum,master,openstackdocstheme,I1e6e570d4db575d611212198d11ee4b84884ab23,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-02 03:33:17.000000000,2019-08-01 19:46:05.000000000,2019-08-01 19:46:04.000000000,5,54,0,668585,749a792eb4e6a3c1db5cb49181a4085c3bd544fa,14,5,3,5,27822,pengyuesheng,pengyuesheng,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I1e6e570d4db575d611212198d11ee4b84884ab23
"
openstack%2Fmagnum~master~I2355733fc45554b7c1f14df51b40dede811b5518,openstack/magnum,master,missing_ws,I2355733fc45554b7c1f14df51b40dede811b5518,Add missing ws separator between words,MERGED,2019-04-02 06:01:35.000000000,2019-08-01 19:46:03.000000000,2019-08-01 19:46:03.000000000,3,3,3,649225,1e8d5a73957e15826e3eaae0406ab90ff63a4aab,17,6,3,1,20190,zhufl,zhufl,"Add missing ws separator between words

This is to add missing ws separator between words.

Change-Id: I2355733fc45554b7c1f14df51b40dede811b5518
"
openstack%2Fmagnum~master~I115b5788d60f48b2e4adc5947bf5fda0652c5ebb,openstack/magnum,master,missing_print_format,I115b5788d60f48b2e4adc5947bf5fda0652c5ebb,Fix missing print format error,MERGED,2019-04-12 07:00:49.000000000,2019-08-01 19:46:02.000000000,2019-08-01 19:46:02.000000000,2,2,0,651985,b1d359e6b2175de54082b1ea90d25ff46ff0b41b,10,6,1,1,20190,zhufl,zhufl,"Fix missing print format error

Missing print format will cause 'ValueError: unsupported
format character' error, this is to fix it.

Change-Id: I115b5788d60f48b2e4adc5947bf5fda0652c5ebb
"
openstack%2Fmagnum~master~Ie8044316bb1ba64a37c54f5f75ced1d47b35a3aa,openstack/magnum,master,story/2002210-35949,Ie8044316bb1ba64a37c54f5f75ced1d47b35a3aa,Update current k8s version after upgrade,MERGED,2019-07-22 21:46:20.000000000,2019-08-01 19:45:57.000000000,2019-08-01 19:45:57.000000000,2,1,0,672182,903c8a4de7451b93408aa59c56402117176ff3c9,12,5,2,1,6484,Feilong Wang,flwang,"Update current k8s version after upgrade

After a k8s version upgrade, the initial KUBE_TAG in heat-params will be
out of date. The patch will append a new KUBE_TAG to log and update
the current k8s version to make sure it's always consistent.

Story: 2002210
Task: 35949

Change-Id: Ie8044316bb1ba64a37c54f5f75ced1d47b35a3aa
"
openstack%2Fmagnum~master~Iaf6ab7172367bc96d19f2d1236cc038460a7d461,openstack/magnum,master,story/2006283-36024,Iaf6ab7172367bc96d19f2d1236cc038460a7d461,Support py3.x for make cert scripts,MERGED,2019-07-30 00:14:38.000000000,2019-08-01 19:44:59.000000000,2019-08-01 19:44:59.000000000,6,6,0,673376,fb8d018501f42c9a4db79ece817d358a07174b5f,9,5,1,2,6484,Feilong Wang,flwang,"Support py3.x for make cert scripts

Instead of using ""print xxx"", it'd better to use ""print(xxx)""
to make it supports both py2.x and py3.x for make-cert.sh and
make-cert-client.sh

Task: 36024
Story: 2006283

Change-Id: Iaf6ab7172367bc96d19f2d1236cc038460a7d461
"
openstack%2Ftripleo-validations~stable%2Fstein~Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf,openstack/tripleo-validations,stable/stein,validate/containers-stable/stein,Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf,New validation: ensure services status,MERGED,2019-08-01 11:01:17.000000000,2019-08-01 19:42:53.000000000,2019-08-01 19:42:53.000000000,58,0,0,673995,87c293917e081f106b202eeb986a0316139752e0,8,4,1,3,11491,Gael Chamoulaud,gchamoul,"New validation: ensure services status

This new validation ensures we don't have any failed systemd unit.

Failed units might lead to unexpected errors when we want to update
or upgrade the system, so we have to ensure we don't have anything
in a failed state.

Since this check is pretty generic and useful, it can also be called
as a post-deploy, post-upgrade task. This ensures we have a corret
state AFTER such actions as well.

Change-Id: Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf
(cherry picked from commit 1265e2f6675b95bf7487fe041066d8de3164e39e)
"
openstack%2Fpython-tripleoclient~stable%2Fstein~I3ac295d2e2f86fbb2120f9491d4103434b6ac3da,openstack/python-tripleoclient,stable/stein,,I3ac295d2e2f86fbb2120f9491d4103434b6ac3da,Mock deployment action in upgrade tests,MERGED,2019-08-01 09:42:29.000000000,2019-08-01 19:20:45.000000000,2019-08-01 19:20:45.000000000,9,2,0,673986,38070104592d6ad6e15a184df64bbb0d48858f25,9,7,1,1,11491,Gael Chamoulaud,gchamoul,"Mock deployment action in upgrade tests

Without properly mocking the deployment action, these tests are trying
to execute deployment code including temp file creation which can lead
to package build failures. This change mocks out the deployment take
action for the UpgradeRun so we're only testing the upgrade code
itself.

Change-Id: I3ac295d2e2f86fbb2120f9491d4103434b6ac3da
Closes-Bug: #1838506
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit e1cb3042c8fe25d7fe28bc7d1d38f5a3ae90fa1d)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic2c4dcabe3754727806d2a4248e1ba182e83309a,openstack/tripleo-heat-templates,stable/queens,fix_task_name-queens,Ic2c4dcabe3754727806d2a4248e1ba182e83309a,[rocky/queens] fix task name nova_api -> nova_compute,MERGED,2019-08-01 08:20:25.000000000,2019-08-01 19:14:13.000000000,2019-08-01 19:14:13.000000000,1,1,0,673952,c7b15693dba043503876e486cf372c5ddcb21181,11,6,1,1,17216,Martin Schuppert,mcschupp,"[rocky/queens] fix task name nova_api -> nova_compute

Change-Id: Ic2c4dcabe3754727806d2a4248e1ba182e83309a
(cherry picked from commit 65e48b0c1e3edcafee29ad6cc753637c14bd9acd)
"
openstack%2Fopenstack-helm-infra~master~Ie3c7bbc46d87960e3d62badc6b766145b651b8fe,openstack/openstack-helm-infra,master,,Ie3c7bbc46d87960e3d62badc6b766145b651b8fe,This change is to fix the index pattern in kibana for syslog to match what is currently the default for elasticsearch. ,ABANDONED,2019-08-01 19:03:17.000000000,2019-08-01 19:11:54.000000000,,0,0,0,674109,bec6e07d61a26652f1ff5ec9cd8bdbe4ae66c0b3,3,1,1,0,28025,Randeep Jalli,randeep.jalli,"This change is to fix the index pattern in kibana for syslog
to match what is currently the default for elasticsearch. 

Currently the pattern in elasticsearch is kernel_syslog, however
the index pattern set in kibana is kernel-*

Change-Id: Ie3c7bbc46d87960e3d62badc6b766145b651b8fe
"
openstack%2Fopenstack-zuul-jobs~master~If8bc020f2dfc0f374aad8086963739d995b88236,openstack/openstack-zuul-jobs,master,zuul_work_dir,If8bc020f2dfc0f374aad8086963739d995b88236,Use absolute zuul_work_dir,ABANDONED,2019-08-01 18:52:54.000000000,2019-08-01 19:02:31.000000000,,1,1,0,674108,a2bf75b5456407dbbf4e99bc365b6ea4bab56e54,2,0,1,1,6547,Andreas Jaeger,jaegerandi,"Use absolute zuul_work_dir

zuul_work_dir should be an absolute directory, update tox-py35-on-zuul
with using a variable.

Change-Id: If8bc020f2dfc0f374aad8086963739d995b88236
"
openstack%2Fpython-magnumclient~master~I24f981b3d0205112709944279665d50fc64b29ce,openstack/python-magnumclient,master,,I24f981b3d0205112709944279665d50fc64b29ce,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 02:55:38.000000000,2019-08-01 18:48:53.000000000,2019-08-01 18:48:53.000000000,1,1,0,621887,d942ce5f26ca4f539861d2b284bd99bc8d8204e9,11,6,1,1,26490,Jason SUN,sunjia,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I24f981b3d0205112709944279665d50fc64b29ce
"
openstack%2Fpython-magnumclient~master~I6bed1f2df2c50234657112869b585439afa1b550,openstack/python-magnumclient,master,python3-train,I6bed1f2df2c50234657112869b585439afa1b550,Add Python 3 Train unit tests,MERGED,2019-07-05 15:51:53.000000000,2019-08-01 18:46:04.000000000,2019-08-01 18:46:04.000000000,3,3,0,669380,a19d01355fc0af787c328b1eedac332652c78921,9,5,1,3,11805,Corey Bryant,coreycb,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I6bed1f2df2c50234657112869b585439afa1b550
Story: #2005924
Task: #34219
"
openstack%2Fpython-magnumclient~master~Ia4f1ce4be215262fc89ceac30a2edb878ebd9937,openstack/python-magnumclient,master,story/2006208-36027,Ia4f1ce4be215262fc89ceac30a2edb878ebd9937,"Support network, subnet and FIP when creating cluster",MERGED,2019-07-30 03:45:19.000000000,2019-08-01 18:43:33.000000000,2019-08-01 18:43:33.000000000,43,0,0,673395,5ad8b7dcf7b8d6b8f78612219d5b8240ff55aded,8,3,1,2,6484,Feilong Wang,flwang,"Support network, subnet and FIP when creating cluster

Change-Id: Ia4f1ce4be215262fc89ceac30a2edb878ebd9937
Task: 36027
Story: 2006208
"
openstack%2Fopenstack-helm-infra~master~I6e5386386e2b79b1cb0f41fc1f9b78817695f8f3,openstack/openstack-helm-infra,master,verify-snapshot-repositories,I6e5386386e2b79b1cb0f41fc1f9b78817695f8f3,Elasticsearch: Manually verify snapshot repositories,MERGED,2019-07-24 18:54:38.000000000,2019-08-01 18:36:37.000000000,2019-08-01 18:36:37.000000000,6,0,0,672578,8130e6bdc5ffb85f93ce7858cbc65f1f8f055a43,13,4,3,1,17591,Steve Wilkerson,srwilkers,"Elasticsearch: Manually verify snapshot repositories

This updates the script for registering snapshot repositories to
include a manual verification of the repositories created. This
simply allows for inspection of all master and data nodes the
repository is verified with to provide additional visibility into
the state of all repositories

Change-Id: I6e5386386e2b79b1cb0f41fc1f9b78817695f8f3
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fcharm-percona-cluster~master~I5fc4b7822a4550e53e97655771938a903f92fcb1,openstack/charm-percona-cluster,master,bug/1838648,I5fc4b7822a4550e53e97655771938a903f92fcb1,Do not add former leader to hosts,MERGED,2019-08-01 14:56:47.000000000,2019-08-01 18:35:50.000000000,2019-08-01 18:35:50.000000000,23,1,0,674059,475b889020271dd09003fafc5459d1a2617ce0a5,11,5,1,2,20805,David Ames,thedac,"Do not add former leader to hosts

After a cold boot, the leader has likely changed. Do not add this node
as a former leader to the hosts list. This may cause changes to
mysqld.cnf and an unwanted attempted restart of mysql.

Change-Id: I5fc4b7822a4550e53e97655771938a903f92fcb1
Close-Bug: #1838648
"
openstack%2Fcharm-deployment-guide~master~I51048f043d3b97bf1274f904d98eda534451deef,openstack/charm-deployment-guide,master,rewrite-deployment-section-of-ceph-rbd-mirror-appendix,I51048f043d3b97bf1274f904d98eda534451deef,re-write of deployment section,MERGED,2019-07-31 21:16:51.000000000,2019-08-01 18:26:32.000000000,2019-08-01 18:26:32.000000000,173,32,9,673918,f7cb3beaf9a3006b5ae64353443e48d346b92793,13,3,3,1,30561,Peter Matulis,pmatulis,"re-write of deployment section

Change-Id: I51048f043d3b97bf1274f904d98eda534451deef
"
openstack%2Ftripleo-ansible~master~I4e28be86e28dd227a682362af56833fe97035a88,openstack/tripleo-ansible,master,tripleo-config,I4e28be86e28dd227a682362af56833fe97035a88,Introduce tripleo-config role,MERGED,2019-07-08 14:12:21.000000000,2019-08-01 18:13:28.000000000,2019-08-01 18:13:28.000000000,302,10,20,669672,96b9fc6540a0aedfebfe96553fc5cd834fde27a8,55,5,19,15,3153,Emilien Macchi,emilienm,"Introduce tripleo-config role

This basic role will provide an interface to TripleO so we can consume the
ansible-config_template action plugin to generate configuration files.

Change-Id: I4e28be86e28dd227a682362af56833fe97035a88
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fproject-config~master~I4e7c4d646334b7e7207d02e86a25768335cae123,openstack/project-config,master,674091,I4e7c4d646334b7e7207d02e86a25768335cae123,Adding another pool to FN for expanded memory test,MERGED,2019-08-01 17:02:49.000000000,2019-08-01 18:13:06.000000000,2019-08-01 18:13:06.000000000,21,0,4,674091,f2f32b8d55c7661acf94c1ccd49d744dc0bbc78f,14,4,3,1,20754,Donny Davis,donnydavis,"Adding another pool to FN for expanded memory test

Change-Id: I4e7c4d646334b7e7207d02e86a25768335cae123
"
openstack%2Frpm-packaging~master~Ieea000d29858d289159b13c681b99d132a5ef2ef,openstack/rpm-packaging,master,nova-cells,Ieea000d29858d289159b13c681b99d132a5ef2ef,Remove nova-consoleauth service,ABANDONED,2019-08-01 17:11:37.000000000,2019-08-01 18:05:36.000000000,,0,52,0,674095,db934f4a4ae9760d0bd6ea7aed6f10e46e96e639,5,3,1,2,8482,Colleen Murphy,krinkle,"Remove nova-consoleauth service

It was removed upstream[1] and now the missing binary breaks the build,
so remove it from the package.

[1] https://review.opendev.org/652969

Change-Id: Ieea000d29858d289159b13c681b99d132a5ef2ef
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I886f2b8ac7092d9b3da38852e92a615d5666eea7,openstack/tripleo-heat-templates,stable/queens,OctaviaServerCertsKeyPassphrase-32chars,I886f2b8ac7092d9b3da38852e92a615d5666eea7,Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long,MERGED,2019-07-09 11:17:40.000000000,2019-08-01 18:01:28.000000000,2019-08-01 18:01:27.000000000,11,2,0,669848,b2065e2be485c756d4bdd868c9594e47d5b80373,22,5,4,3,6579,Nir Magnezi,nmagnezi,"Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long

Conflicts:
      deployment/octavia/octavia-base.yaml

Closes-bug: #1833942

Depends-On: https://review.opendev.org/#/c/669824/
Depends-On: https://review.opendev.org/#/c/669829/
Change-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7
(cherry picked from commit a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f)
(cherry picked from commit cfb8e97867e2cd546efcb46303ae8583765d3876)
(cherry picked from commit 992ad5437cf21696958ca86f6675d23848f7c547)
"
openstack%2Ftripleo-common~stable%2Fqueens~Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989,openstack/tripleo-common,stable/queens,OctaviaServerCertsKeyPassphrase-32chars,Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989,Ensure that OctaviaServerCertsKeyPassphrase is 32-byte long,MERGED,2019-07-09 09:40:53.000000000,2019-08-01 18:01:26.000000000,2019-08-01 18:01:26.000000000,9,0,0,669829,32d7bb44ab61cb0fcca1a78dfa822511d1d640d4,18,4,3,3,6579,Nir Magnezi,nmagnezi,"Ensure that OctaviaServerCertsKeyPassphrase is 32-byte long

Conflicts:
      tripleo_common/utils/passwords.py

Related-Bug: #1833942

Change-Id: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989
(cherry picked from commit de2ab55824cf96a96ac0ba9ec2a1eaccbb0f6fa2)
(cherry picked from commit 94620dd5e67fa3a0775b2df1ae312533e392a7f9)
(cherry picked from commit 35913d62664424075392dcaca6324164fb19380a)
"
openstack%2Fpython-tripleoclient~master~I993fc09fd571fb93d78ffdbecf1823e806f744f4,openstack/python-tripleoclient,master,bug/1838540,I993fc09fd571fb93d78ffdbecf1823e806f744f4,Pass deployment_options to config download,MERGED,2019-07-31 16:23:34.000000000,2019-08-01 18:01:25.000000000,2019-08-01 18:01:25.000000000,11,3,1,673868,ac7ae9e8d638676196c4897a30c978d51a091900,15,10,2,2,13861,yatin,yatinkarel,"Pass deployment_options to config download

https://review.opendev.org/673862 allows config_download
workflow to take deployment_options as a input, this patch
passes it to the workflow so ansible_python_interpreter
is set correctly in generated inventory and thus used
during ansible deployment.

Depends-On: https://review.opendev.org/#/c/673862/
Closes-Bug: #1838540
Change-Id: I993fc09fd571fb93d78ffdbecf1823e806f744f4
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I69e0cf06d96389201258e8fb2f112aec15f64013,openstack/tripleo-heat-templates,stable/queens,saf_client_side,I69e0cf06d96389201258e8fb2f112aec15f64013,Fix logging for metrics_qdr,MERGED,2019-03-15 13:32:10.000000000,2019-08-01 18:01:24.000000000,2019-08-01 18:01:24.000000000,3,1,0,643584,f2366ae6eba44d9bf3986ef00e8dbfd820dc0b04,21,5,4,1,5241,Martin Magr,mmagr,"Fix logging for metrics_qdr

- metrics_qdr logs in debug mode which makes it the log file to grow quickly
- current log file path does not match with the path fluentd is tailing
- current log file patch conflicts with general purpose QDR composable service

This patch fixes all avove mentioned issues.

Change-Id: I69e0cf06d96389201258e8fb2f112aec15f64013
Resolves-Bug: #1804464
(cherry picked from commit d69e3afe3b73d687809250bf89133e0e500483c8)
(cherry picked from commit ad9712b60397b3f652e375874b84c8ab0075bdd3)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I0ad395b3417be4354e04ebed977a278abbc3a664,openstack/tripleo-heat-templates,stable/stein,651786-stable/stein,I0ad395b3417be4354e04ebed977a278abbc3a664,Clean docker and podman after executing an update or upgrade,MERGED,2019-07-12 09:16:15.000000000,2019-08-01 18:01:22.000000000,2019-08-01 18:01:22.000000000,63,0,0,670478,463576dc6aae8f8c425d372ced12d6c70101576b,24,7,1,2,20775,Carlos Camacho,ccamacho,"Clean docker and podman after executing an update or upgrade

After running a major upgrade or minor update we will
have in the nodes some leftover containers data
that might not be used anymore.

Resolves: rhbz#1677535

Change-Id: I0ad395b3417be4354e04ebed977a278abbc3a664
(cherry picked from commit 4070b62e8c1318ab878a916114fb8252e3a952cb)
"
openstack%2Fcyborg~master~Ie32e1a820e7847517a3e1a6027f3a47c709cd82e,openstack/cyborg,master,nova-integ,Ie32e1a820e7847517a3e1a6027f3a47c709cd82e,P4: Basic changes for objects layer.,MERGED,2019-07-12 08:15:00.000000000,2019-08-01 17:23:37.000000000,2019-08-01 17:23:37.000000000,3,282,0,670465,be36ee9d2da5aa521626a210231777c5faf6291b,19,5,5,4,21672,Sundar Nadathur,nsundar,"P4: Basic changes for objects layer.

Change-Id: Ie32e1a820e7847517a3e1a6027f3a47c709cd82e
"
openstack%2Fpuppet-tripleo~stable%2Fstein~I3adaa442b8c53ff902761d1dba283a79494c8ae6,openstack/puppet-tripleo,stable/stein,bug/1837099-stable/stein,I3adaa442b8c53ff902761d1dba283a79494c8ae6,Allow for customization of the Manila CephFS pool name,MERGED,2019-07-31 23:16:47.000000000,2019-08-01 17:06:59.000000000,2019-08-01 09:40:36.000000000,2,1,0,673927,3c4748b46238002acda87a65c4150f0ce3d579cb,11,4,1,1,16643,Goutham Pacha Ravi,gouthamr,"Allow for customization of the Manila CephFS pool name

Manila needs to know the CephFS pool name, which the deployer
might want to customize when the Ceph cluster is externally managed.

Change-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Partial-Bug: 1837099
(cherry picked from commit e3b39a8d67466ff6ccebaf95fa1ed527582e6389)
"
openstack%2Fheat~stable%2Frocky~I04e7ad90944c2d03ce0e59ba16af9d60d6e01222,openstack/heat,stable/rocky,,I04e7ad90944c2d03ce0e59ba16af9d60d6e01222,Allow update of previously-replaced resources,MERGED,2019-07-29 03:09:51.000000000,2019-08-01 17:00:26.000000000,2019-08-01 17:00:26.000000000,1,9,0,673197,c86cfa6e8358046ce2b9064a3d2b2cb634a0ae4f,7,2,1,2,8833,Rabi Mishra,rabi,"Allow update of previously-replaced resources

The convergence prototype ignored checks of resources that had previously
been replaced by another resource. However, it turns out that this was
unnecessary in the final version of the prototype:

https://github.com/zaneb/heat-convergence-prototype/commit/e9d2f833a53de1ab09e7d936a4826d36ed7bb68d

Keeping this limitation prevents us from allowing users to roll back to a
previously-existing resource if creating the replacement fails, other than
by using the automated rollback mechanism (which is special-cased).

Since the graph for the traversal is calculated at the start of the update,
there's no need to limit which nodes are allowed to be checked. Only the
selected resource will have an is_update=True node in the traversal graph.
Removing this additional restriction allows us to improve the algorithm
that chooses which resource to update. Since a new traversal ID is stored
before we calculate the traversal graph, we can guarantee that no new
resource checks will start (though some may still be happening) while the
algorithm is choosing, so there's no danger of it picking a resource that
later gets replaced.

Since we're no longer treating automatic rollback as a special case, reset
the replaced_by field whenever we update a previously-replaced resource.

Change-Id: I04e7ad90944c2d03ce0e59ba16af9d60d6e01222
Story: #2003579
Task: 26197
(cherry picked from commit e34da892901dbba709d3854f8979eee32594d916)
"
openstack%2Fpython-openstackclient~master~Id37f86ce5a2142737e7280fcb8335449621fdd2f,openstack/python-openstackclient,master,bug/1821584,Id37f86ce5a2142737e7280fcb8335449621fdd2f,WIP - Compute 'force_service_down' API returns 400 with latest version,ABANDONED,2019-06-25 04:58:13.000000000,2019-08-01 16:56:23.000000000,,147,31,20,667264,7c847ae6d9d43af4eb17b7ff1b048f3f04573d2a,14,9,2,1,29238,jayashri bidwe,jayashrib,"WIP - Compute 'force_service_down' API returns 400 with latest version

Presently, you can update service state/status if the
--os-compute-api-version is <= 2.52 but if --os-compute-api-version
is >=2.53, then it returns an error.

 $openstack --os-compute-api-version 2.53 compute service set
 <service_id>  --up

 Output:
 openstack compute service set: error: too few arguments

This patch fixes this issue by checking os-compute-api-version by
allowing to use service-id if os-compute-api-version is >=2.53.

Closes-Bug: #1821584

Change-Id: Id37f86ce5a2142737e7280fcb8335449621fdd2f
"
openstack%2Fneutron-fwaas~stable%2Fstein~Ie3c0538ca31af9abb1b8c1cc5e4f6c3df9b16a1c,openstack/neutron-fwaas,stable/stein,,Ie3c0538ca31af9abb1b8c1cc5e4f6c3df9b16a1c,Fix removing non-last port from the group,MERGED,2019-06-26 05:29:36.000000000,2019-08-01 16:47:45.000000000,2019-08-01 16:47:45.000000000,27,4,0,667510,df11d0b932ee2d518a180dfa0dac8b5205b67f84,14,9,1,3,20363,Adit Sarfaty,asarfaty,"Fix removing non-last port from the group

When a firewall group has few ports, and some of those are removed
the status of the firewall group should not become INACTIVE

Change-Id: Ie3c0538ca31af9abb1b8c1cc5e4f6c3df9b16a1c
Closes-Bug: #1832450
(cherry picked from commit fbea371e652b6aa634c5c974b0a9c6ee4066e90a)
"
openstack%2Fpatrole~master~Ib854afe939791180153cccc4b0313e5b25842f7e,openstack/patrole,master,retire-api-site,Ib854afe939791180153cccc4b0313e5b25842f7e,Update api-ref location,MERGED,2019-07-25 15:32:20.000000000,2019-08-01 16:40:15.000000000,2019-08-01 16:40:15.000000000,17,17,0,672759,ee00c05e9a2727a081318f540c7670d15fd134fc,14,4,1,14,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ib854afe939791180153cccc4b0313e5b25842f7e
"
openstack%2Fcharm-ceph-rbd-mirror~master~Idff68a51ec858a79d99668dbb6396bf6045f5c82,openstack/charm-ceph-rbd-mirror,master,add-link-to-deploy-guide,Idff68a51ec858a79d99668dbb6396bf6045f5c82,add link to charms deployment guide,MERGED,2019-07-30 22:07:49.000000000,2019-08-01 16:36:26.000000000,2019-08-01 16:36:26.000000000,7,1,3,673702,625a804178c491ca48f06f162180e4870e74a27c,15,5,2,1,30561,Peter Matulis,pmatulis,"add link to charms deployment guide

Change-Id: Idff68a51ec858a79d99668dbb6396bf6045f5c82
"
openstack%2Freviewstats~master~I316a5b937f854accb01506ba960b2b532b38c9c5,openstack/reviewstats,master,,I316a5b937f854accb01506ba960b2b532b38c9c5,Mailing lists change openstack-dev to openstack-discuss,MERGED,2019-07-01 11:38:36.000000000,2019-08-01 16:23:03.000000000,2019-08-01 16:23:03.000000000,1,1,0,668446,905c2da520ee285a2b6f5059bd5e831c60640fd4,7,3,1,1,27565,inspurericzhang,inspurericzhang,"Mailing lists change openstack-dev to openstack-discuss

Change-Id: I316a5b937f854accb01506ba960b2b532b38c9c5
"
openstack%2Fopenstack-helm-infra~master~Id24c4a0cca64674890dae3599edc0c90d9534e90,openstack/openstack-helm-infra,master,ceph-osd,Id24c4a0cca64674890dae3599edc0c90d9534e90,Nagios: Updated the alert for Ceph OSD Down,MERGED,2019-07-11 20:18:22.000000000,2019-08-01 16:15:51.000000000,2019-08-01 16:15:51.000000000,1,1,2,670389,47565d2d191f22ad3c09340c9d393d0561b164eb,24,11,3,1,30582,RADHIKA PAI,rp592h,"Nagios: Updated the alert for Ceph OSD Down

Earlier the Nagios alert monitor was percent based as in when the percent of OSD
down is greater than 80, it will send alert.
>check_prom_alert!ceph_osd_down_pct_high!CRITICAL- CEPH OSDs down is
more than 80 percent!OK- CEPH OSDs down is less than 80 percent

Updated the code in nagios values.yaml to send alert when even 1 OSD is
down:
>check_prom_alert!ceph_osd_down!CRITICAL- One or more CEPH OSDs are down
>for more than 5 minutes!OK- All the CEPH OSDs are up

Change-Id: Id24c4a0cca64674890dae3599edc0c90d9534e90
"
openstack%2Ftripleo-heat-templates~master~Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,openstack/tripleo-heat-templates,master,bug/1837099,Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,Transport ManilaCephFSDataPoolName to Manila CephFS template,MERGED,2019-07-18 18:17:23.000000000,2019-08-01 16:00:42.000000000,2019-08-01 09:40:39.000000000,4,0,0,671541,dbac7cf92c8739ae5bf1de9f9238e7a6d354e65f,26,8,2,1,6796,Giulio Fidente,gfidente,"Transport ManilaCephFSDataPoolName to Manila CephFS template

This is necessary to configure the Manila CephFS backend
correctly when user customizes the CephFS pool name.

Change-Id: Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0
Depends-On: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Closes-Bug: 1837099
"
openstack%2Fironic~master~Idea529476107b8520bfe5e812711587c06145514,openstack/ironic,master,,Idea529476107b8520bfe5e812711587c06145514,Update ironic installation,ABANDONED,2019-06-11 07:46:59.000000000,2019-08-01 15:50:43.000000000,,5,4,2,664518,7b4e0b8fe5d41c8225517e7f8fd440c9dea4fdc7,21,7,5,3,12860,Dongcan Ye,yedongcan,"Update ironic installation

Made the following changes:
1. We need to config keystone_authtoken in ironic config, this needs
ironic user created firstly. Add a note and link for KeyStone config,
this will helpful for user deployment.
2. IRONIC_NODE is a legacy config.
3. HTTPs needs extra config, otherwise if will raise warnning.

TrivialFix
Change-Id: Idea529476107b8520bfe5e812711587c06145514
"
openstack%2Fcinder~master~Iaebfd31bc2c4fd304a11c49da23f5f5efc513757,openstack/cinder,master,fix-environment-spell,Iaebfd31bc2c4fd304a11c49da23f5f5efc513757,Correcting typo in environment spelling,MERGED,2019-07-31 06:24:30.000000000,2019-08-01 15:48:36.000000000,2019-07-31 15:57:42.000000000,1,1,0,673740,f2b0de24c6b87681d9eba47fac313bbc2009a580,29,25,1,1,29775,Sandeep Yadav,sandeepyadav93,"Correcting typo in environment spelling

There is a typographical error in tempest-and-cinderlib-run.yaml.
Correcting spelling from enviroment to environment.

Change-Id: Iaebfd31bc2c4fd304a11c49da23f5f5efc513757
"
openstack%2Foslo.log~master~Ifcb555c8f4ccb813b48c613c79dceb4bf23318eb,openstack/oslo.log,master,opendev-u-c,Ifcb555c8f4ccb813b48c613c79dceb4bf23318eb,Use upper constraints from opendev.org,ABANDONED,2019-04-25 09:45:46.000000000,2019-08-01 15:19:25.000000000,,1,1,0,655645,6eceb160eaaebbc6ea04768f62876738aa61c2d1,7,4,1,1,9542,Pavlo Shchelokovskyy,pshchelo,"Use upper constraints from opendev.org

oslo.cache uses a simple curl command in its tox_install.sh
to fetch the upper-constraints, and curl does not follow redirects
that are now in place due to move to opendev.org.

This breaks running tox-based tests w/o overriding the
UPPER_CONSTRAINTS_FILE which upstream CI does,
for example running tox locally.

Change-Id: Ifcb555c8f4ccb813b48c613c79dceb4bf23318eb
"
openstack%2Ftripleo-heat-templates~master~I0d28bb54ddf9e0c5b94ea08860487861c7f70ef3,openstack/tripleo-heat-templates,master,puppet2ansible,I0d28bb54ddf9e0c5b94ea08860487861c7f70ef3,Add deployment notice,ABANDONED,2019-05-31 13:59:03.000000000,2019-08-01 15:17:39.000000000,,107,84,1,662473,2a51aafdb0c75b13f49849564ca7396b7db1ad8e,8,3,2,1,7353,Kevin Carter,cloudnull,"Add deployment notice

This change adds a deployment notice to the task list which will
provide a warning to the end user when the current configuration
could lead to an inconsistent deployment experience.

Change-Id: I0d28bb54ddf9e0c5b94ea08860487861c7f70ef3
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I5d702a2f59cc5c6fb9e4956bcdf27fd29fba207e,openstack/tripleo-heat-templates,master,puppet2ansible,I5d702a2f59cc5c6fb9e4956bcdf27fd29fba207e,Add deployment notice,ABANDONED,2019-05-31 13:48:43.000000000,2019-08-01 15:17:28.000000000,,10,0,3,662468,f133ff3505989c388a984f1df6e161b4183a03be,16,6,2,1,7353,Kevin Carter,cloudnull,"Add deployment notice

This change adds a deployment notice to the task list which will
provide a warning to the end user when the current configuration
could lead to an inconsistent deployment experience.

Change-Id: I5d702a2f59cc5c6fb9e4956bcdf27fd29fba207e
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fos-client-config~master~I756f1276304029365fb893c12974b2314f2b1286,openstack/os-client-config,master,retire-api-site,I756f1276304029365fb893c12974b2314f2b1286,Fix broken link to openstacksdk,MERGED,2019-07-30 17:58:21.000000000,2019-08-01 15:12:11.000000000,2019-08-01 15:12:11.000000000,1,1,0,673603,65db8609e1ad6c611c79bd204c4eb78c3aa41721,7,3,1,1,6547,Andreas Jaeger,jaegerandi,"Fix broken link to openstacksdk

The openstackdocsdk has moved to docs.o.o and moved the linked page
around, fix the link.

Change-Id: I756f1276304029365fb893c12974b2314f2b1286
"
openstack%2Fnova~stable%2Fstein~Icce1e31fe3ebcbf9e4897bbfa57b7f3d1fba67a3,openstack/nova,stable/stein,bug/1836212,Icce1e31fe3ebcbf9e4897bbfa57b7f3d1fba67a3,Avoid logging traceback when detach device not found,MERGED,2019-07-25 22:15:50.000000000,2019-08-01 15:07:15.000000000,2019-08-01 12:56:05.000000000,10,1,0,672833,d83342226470e1957525978d7bec7d98db9bb695,12,6,1,2,4690,melanie witt,melwitt,"Avoid logging traceback when detach device not found

We use the oslo.utils save_and_reraise_exception context manager in our
detach device code and catch specific exceptions that mean 'not found'
and raise DeviceNotFound instead. When we do that, the
save_and_reraise_exception context manager logs an ERROR traceback of
the original exception, for informational purposes. This is misleading
when trying to debug other issues, as it makes it look like the caught
exception caused a problem.

This passes the reraise=False keyword arg to the context manager and
sets the 'reraise' attribute to True only if we are not going to raise
a different exception.

Related-Bug: #1836212

Change-Id: Icce1e31fe3ebcbf9e4897bbfa57b7f3d1fba67a3
(cherry picked from commit 738774b942dab21d8c03c70b4e74b6a487515ff5)
"
openstack%2Ftripleo-heat-templates~master~Iadde822bf362c90098394930bf158ba905fb32de,openstack/tripleo-heat-templates,master,ceph_ansible_pr_4002,Iadde822bf362c90098394930bf158ba905fb32de,Matches updates for ceph-ansible variables name change,MERGED,2019-05-29 07:59:08.000000000,2019-08-01 14:47:56.000000000,2019-08-01 10:45:50.000000000,4,5,1,661907,1a194079f0d5a79d620bb39d126f0bfe8cad2d58,19,8,3,2,6796,Giulio Fidente,gfidente,"Matches updates for ceph-ansible variables name change

Replaces some ceph-ansible variables name to match the changes
introduced with PR #4002

Change-Id: Iadde822bf362c90098394930bf158ba905fb32de
"
openstack%2Fneutron~master~I74d9f449fb24f64548b0f6db4d5562f7447efb25,openstack/neutron,master,bug/1834176,I74d9f449fb24f64548b0f6db4d5562f7447efb25,Pass get_networks() callback to interface driver,MERGED,2019-07-14 13:25:38.000000000,2019-08-01 14:45:18.000000000,2019-07-31 23:53:46.000000000,57,29,9,670723,0e80d2251e6b1cf8521418a703cff7cb149cb8e1,39,9,6,7,28714,Adrian Chiris,adrianc,"Pass get_networks() callback to interface driver

In order to support out of tree interface drivers it is required
to pass a callback to allow the drivers to query information about
the network.

- Allow passing **kwargs to interface drivers
- Pass get_networks() as `get_networks_cb` kw arg
  `get_networks_cb` has the same API as
  `neutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()`
   minus the the request context which will be embeded in the callback
   itself.

The out of tree interface drivers in question are:

MultiInterfaceDriver - a per-physnet interface driver that delegates
                       operations on a per-physnet basis.
IPoIBInterfaceDriver - an interface driver for IPoIB (IP over Infiniband)
                       networks.

Those drivers are a part of networking-mlnx[1], Their implementation
is vendor agnostic so they can later be moved to a more common place
if desired.

[1] https://github.com/openstack/networking-mlnx

Change-Id: I74d9f449fb24f64548b0f6db4d5562f7447efb25
Closes-Bug: #1834176
"
openstack%2Fsahara-tests~master~Ic72c0cd85d3d42a62071825c242df599d2442f99,openstack/sahara-tests,master,retire-api-site,Ic72c0cd85d3d42a62071825c242df599d2442f99,Update api-ref location and some links,MERGED,2019-07-30 17:25:39.000000000,2019-08-01 14:36:49.000000000,2019-08-01 14:36:49.000000000,11,9,0,673585,20f56dc725e44fbb40ddfd161eaebd1fc1ede78a,9,4,2,6,6547,Andreas Jaeger,jaegerandi,"Update api-ref location and some links

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

At the same time, fix the links that have been broken by
the separation between API v1.1 and v2.

Change-Id: Ic72c0cd85d3d42a62071825c242df599d2442f99
"
openstack%2Ftripleo-quickstart-extras~master~I58082b307cb5b3f9ff908c29c8e24b9b970561de,openstack/tripleo-quickstart-extras,master,os_tempest_fix,I58082b307cb5b3f9ff908c29c8e24b9b970561de,Move os_tempest role var at the top of play level,MERGED,2019-07-26 17:05:21.000000000,2019-08-01 14:19:15.000000000,2019-08-01 14:19:15.000000000,14,7,8,673021,02548d8c939947fbf2829fcc4ef1ce0da6f627fc,46,12,5,2,12393,chandan kumar,chkumar246,"Move os_tempest role var at the top of play level

Once tempest run finishes using os_tempest role,
python_venv_build noop handler[1.] is called and the playbook
fails with tempest_install_method undefined var as it's scope
is only for that task when role is called.

Moving the var at the top of the play keeps the scope of the
var for the whole play.

Closes-Bug: #https://bugs.launchpad.net/tripleo/+bug/1838496

Change-Id: I58082b307cb5b3f9ff908c29c8e24b9b970561de
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fnova~stable%2Fstein~I6a2c63a4c33e783100208fd3f45eb52aad49e3d6,openstack/nova,stable/stein,bug/1837955,I6a2c63a4c33e783100208fd3f45eb52aad49e3d6,Cleanup when hitting MaxRetriesExceeded from no host_available,MERGED,2019-07-30 14:16:07.000000000,2019-08-01 13:41:27.000000000,2019-08-01 13:41:27.000000000,33,37,0,673533,fcc2b9e33ed2b3d9f469b458e0f46011fe9883ac,9,5,1,3,6873,Matt Riedemann,mriedem,"Cleanup when hitting MaxRetriesExceeded from no host_available

Prior to this patch there was a condition when no
host_available was true and an exception would get
raised without first cleaning up the instance.
This causes instances to get indefinitely stuck in
a scheduling state.

This patch fixes this by calling the clean up function
and then exits build_instances using a return statement.

The related functional regression recreate test is updated
to show this fixes the bug.

Change-Id: I6a2c63a4c33e783100208fd3f45eb52aad49e3d6
Closes-bug: #1837955
(cherry picked from commit b98d4ba6d54f5ca2999a8fe6b6d7dfcc134061df)
"
openstack%2Fnova~stable%2Fstein~I4ca64dd60d883356880680fb1f04cee4136c2e00,openstack/nova,stable/stein,bug/1837955,I4ca64dd60d883356880680fb1f04cee4136c2e00,Add functional regression test for bug 1837955,MERGED,2019-07-30 14:16:07.000000000,2019-08-01 13:41:20.000000000,2019-08-01 13:41:19.000000000,114,0,0,673532,0d2e27fd018e08617964dc38321ebfa8f1a5a4f9,7,3,1,1,6873,Matt Riedemann,mriedem,"Add functional regression test for bug 1837955

This adds a functional regression recreate test for
bug 1837955 which was introduced with change
Iae904afb6cb4fcea8bb27741d774ffbe986a5fb4 in the Queens
release.

In this scenario, the primary (and potentially alternate)
hosts for a server build fail and reschedule to conductor.
Eventually all alternate hosts are exhausted and specifically
trying to claim allocations against the alternates fails,
probably because between the time of initial scheduling and
rescheduling something else took up the spare capacity on the
alternate host.

When this happens, MaxRetriesExceeded is raised but the
instance is stuck in BUILD status rather than set to ERROR
status with a fault message.

Change-Id: I4ca64dd60d883356880680fb1f04cee4136c2e00
Related-Bug: #1837955
(cherry picked from commit 5cc39fc51eee6e39f584394283f009aa6809d17b)
"
openstack%2Fnova~stable%2Fstein~I927ff1d8c8f45405833d6012b7d7af37b98b10a0,openstack/nova,stable/stein,bug/1823198,I927ff1d8c8f45405833d6012b7d7af37b98b10a0,Handle Invalid exceptions as expected in attach_interface,MERGED,2019-07-23 22:49:49.000000000,2019-08-01 13:41:13.000000000,2019-08-01 13:41:13.000000000,21,4,0,672384,e9261764c90403d1b2e33790be96efea89068427,11,6,1,3,6873,Matt Riedemann,mriedem,"Handle Invalid exceptions as expected in attach_interface

The bug prompting this is a tempest test which is requesting
a port attachment to a server but not specifying a port or
network to use, so nova-compute looks for a valid network
and finds there are two and raises NetworkAmbiguous. This
is treated as a 400 error in the API but because this is a
synchronous RPC call from nova-api to nova-compute,
oslo.messaging logs an exception traceback for the unexpected
error. That traceback is pretty gross in the compute logs for
something that is a user error and the cloud operator has
nothing to do to fix it.

We can handle the traceback by registering our expected
exceptions for the attach_interface method with oslo.messaging,
which is what this change does.

While looking to just add NetworkAmbiguous it became clear that
lots of different user errors can be raised from this method
and none of those should result in a traceback, so this change
just expects Invalid and its subclasses.

The one exception is InterfaceAttachFailed which is raised when
something in allocate_port_for_instance or driver.attach_interface
fails. That is an unexpected situation so the parent class for
InterfaceAttachFailed is changed from Invalid to NovaException so
it continues to be traced in the logs as an exception.
InterfaceAttachFailedNoNetwork is kept as Invalid since it is a
user error (trying to attach an interface when the user has no
access to any networks).

test_tagged_attach_interface_raises is adjusted to show the
ExpectedException handling for one of the Invalid cases.

Change-Id: I927ff1d8c8f45405833d6012b7d7af37b98b10a0
Closes-Bug: #1823198
(cherry picked from commit ade6c9393632e830c2368825568769853fce3b99)
"
openstack%2Ftripleo-quickstart-extras~master~Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb,openstack/tripleo-quickstart-extras,master,bp/undercloud-minion,Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb,Undercloud minion role,MERGED,2019-05-30 22:02:51.000000000,2019-08-01 13:29:03.000000000,2019-07-31 20:47:06.000000000,608,0,9,662343,89128aed0afc9de1dd345246c4f0eee824bb8055,118,8,31,15,14985,Alex Schultz,mwhahaha,"Undercloud minion role

Provide a playbook and undercloud minion deploy role

Depends-On: https://review.opendev.org/#/c/672318/
Change-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb
"
openstack%2Fnova~stable%2Fstein~I8278d4ea993ed1600919e34c9759600c8c7dbb41,openstack/nova,stable/stein,bug/1830260,I8278d4ea993ed1600919e34c9759600c8c7dbb41,Fix GET /servers/detail host_status performance regression,MERGED,2019-07-10 00:59:38.000000000,2019-08-01 13:06:21.000000000,2019-08-01 13:06:21.000000000,41,8,1,669958,ef10d8d9a67855895f4ea9f9c49e1976b84e1547,19,8,3,2,6873,Matt Riedemann,mriedem,"Fix GET /servers/detail host_status performance regression

Change I82b11b8866ac82b05eae04351605d52fa8b91453 moved the
host_status extended server attribute processing from an
extension to the main servers view builder. This, however,
caused a regression in the detailed listing of servers because
it didn't incorporate the caching mechanism used previously
by the extension so now for each server with details when
microversion 2.16 or greater is used (and the request passes
the policy check), we get the host status per server even if
we have multiple servers on the same host.

This moves the host_status processing out of the show() method
when listing servers with details and processes them in aggregate
similar to security groups and attached volumes.

One catch is the show() method handles instances from down cells
for us so we have to handle that separately in the new host_status
processing, but it's trivial (just don't get host_status for
instances without a host field set).

NOTE(mriedem): This backport does not revert commit
0cecd2ac324dc9a20e7d60987b9ef6e5082c426d since that
change was only in Train.

Change-Id: I8278d4ea993ed1600919e34c9759600c8c7dbb41
Closes-Bug: #1830260
(cherry picked from commit ab7d923ae7ed4d7525649bc16ff012c1bedca0f5)
"
openstack%2Fnova~stable%2Fstein~Id3c847be32d8a1037722d08bf52e4b88dc5adc97,openstack/nova,stable/stein,bug/1834712,Id3c847be32d8a1037722d08bf52e4b88dc5adc97,Restore RT.old_resources if ComputeNode.save() fails,MERGED,2019-07-22 13:14:10.000000000,2019-08-01 13:06:14.000000000,2019-08-01 13:06:14.000000000,40,1,0,672038,39ed79ea09fbab590092ef6b1bd4899270f19c9b,15,8,1,2,6873,Matt Riedemann,mriedem,"Restore RT.old_resources if ComputeNode.save() fails

When starting nova-compute for the first time with a new node,
the ResourceTracker will create a new ComputeNode record in
_init_compute_node but without all of the fields set on the
ComputeNode, for example ""free_disk_gb"".

Later _update_usage_from_instances will set some fields on the
ComputeNode record (even if there are no instances on the node,
why - I don't know) like free_disk_gb.

This will make the eventual call from _update() to _resource_change()
update the value in the old_resouces dict and return True, and then
_update() will try to update those ComputeNode changes to the database.
If that update fails, for example due to a DBConnectionError, the
value in old_resources will still be for the current version of the node
in memory but not what is actually in the database.

Note that this failure does not result in the compute service failing
to start because ComputeManager._update_available_resource_for_node
traps the Exception and just logs it.

A subsequent trip through the RT._update() method - because of the
update_available_resource periodic task - will call _resource_change
but because old_resource matches the current state of the node, it
returns False and the RT does not attempt to persist the changes to
the DB. _update() will then go on to call _update_to_placement
which will create the resource provider in placement along with its
inventory, making it potentially a candidate for scheduling.

This can be a problem later in the scheduler because the
HostState._update_from_compute_node method may skip setting fields
on the HostState object if free_disk_gb is not set in the
ComputeNode record - which can then break filters and weighers
later in the scheduling process (see bug 1834691 and bug 1834694).

The fix proposed here is simple: if the ComputeNode.save() in
RT._update() fails, restore the previous value in old_resources
so that the subsequent run through _resource_change will compare the
correct state of the object and retry the update.

An alternative to this would be killing the compute service on startup
if there is a DB error but that could have unintended side effects,
especially if the DB error is transient and can be fixed on the next
try.

Obviously the scheduler code needs to be more robust also, but those
improvements are left for separate changes related to the other bugs
mentioned above.

Also, ComputeNode.update_from_virt_driver could be updated to set
free_disk_gb if possible to workaround the tight coupling in the
HostState._update_from_compute_node code, but that's also sort of
a whack-a-mole type change best made separately.

Change-Id: Id3c847be32d8a1037722d08bf52e4b88dc5adc97
Closes-Bug: #1834712
(cherry picked from commit 11cb42f396fdbc1d973e1a1b592c00896f646015)
"
openstack%2Fnova~stable%2Fstein~I76163c46b1f01ba7ff592d162b106ea2e5bb34cb,openstack/nova,stable/stein,bug/1829914,I76163c46b1f01ba7ff592d162b106ea2e5bb34cb,Fix no propagation of nova context request_id,MERGED,2019-07-13 12:15:46.000000000,2019-08-01 13:00:07.000000000,2019-08-01 13:00:07.000000000,41,23,0,670694,bb551ddd74fafa3be1c168e9e49e052d2ff75a4b,16,8,2,3,7634,Takashi Natsume,natsumet,"Fix no propagation of nova context request_id

Nova context request_id is not propagated for
port binding operations in neutron.
So fix it.

Conflicts:
  nova/tests/unit/network/test_neutronv2.py

  The conflict is due to not including
  I1788389d11a9f3b6b0bd0b75d2184be9e90983bb in stable/stein

Change-Id: I76163c46b1f01ba7ff592d162b106ea2e5bb34cb
Closes-Bug: #1829914
(cherry picked from commit e11b589474e6e469442277d1e17d3140e8bf0d6b)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ic2c4dcabe3754727806d2a4248e1ba182e83309a,openstack/tripleo-heat-templates,stable/rocky,fix_task_name,Ic2c4dcabe3754727806d2a4248e1ba182e83309a,[rocky/queens] fix task name nova_api -> nova_compute,MERGED,2019-07-26 07:30:37.000000000,2019-08-01 12:38:32.000000000,2019-08-01 12:38:32.000000000,1,1,0,672900,65e48b0c1e3edcafee29ad6cc753637c14bd9acd,16,7,1,1,17216,Martin Schuppert,mcschupp,"[rocky/queens] fix task name nova_api -> nova_compute

Change-Id: Ic2c4dcabe3754727806d2a4248e1ba182e83309a
"
openstack%2Fcharm-masakari-monitors~master~I3326067da7f36779462e951447ad61d2a8ccdd3c,openstack/charm-masakari-monitors,master,bug/1838578,I3326067da7f36779462e951447ad61d2a8ccdd3c,"Add gitreview, zuul config, fix coverage, fix lint",MERGED,2019-07-31 21:16:49.000000000,2019-08-01 12:11:26.000000000,2019-08-01 12:11:26.000000000,24,7,0,673917,5a66794cca1d9d9ad74cf99b712fce52951fec88,20,4,5,5,20635,Ryan Beisner,ryan-beisner,"Add gitreview, zuul config, fix coverage, fix lint

Partial-bug: #1838578

Change-Id: I3326067da7f36779462e951447ad61d2a8ccdd3c
"
openstack%2Ftripleo-heat-templates~master~I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32,openstack/tripleo-heat-templates,master,podman-drop-in,I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32,Generate addition drop-in dependencies for podman containers,MERGED,2019-07-09 16:57:36.000000000,2019-08-01 11:48:51.000000000,2019-08-01 11:48:50.000000000,22,0,0,669910,a06cc5f93f79d8dc0f65f1f42f4277310e2e24cb,28,6,5,1,20778,Damien Ciabrini,dciabrin,"Generate addition drop-in dependencies for podman containers

Adding a new parameter: SystemdDropInDependencies (true by default).
Which when set to True will create /etc/sysconfig/podman_drop_in on the
host; to tell paunch to use paunch-start-podman-container script to
start the containers.

This file makes paunch generate additional systemd
dependencies for containers that have special
start/stop ordering constraints. It ensures that
those constraints are enforced on reboot/shutdown.

Depends-On: Idaf5d4871ad1231f2592238a7925857af8f40548
Change-Id: I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32
"
openstack%2Fpaunch~master~Idaf5d4871ad1231f2592238a7925857af8f40548,openstack/paunch,master,podman-drop-in,Idaf5d4871ad1231f2592238a7925857af8f40548,Generate addition drop-in dependencies for podman containers,MERGED,2019-07-09 20:25:48.000000000,2019-08-01 11:48:49.000000000,2019-08-01 11:48:49.000000000,14,1,2,669941,b33aeea9728233aca852a3e132f23fca71ac42df,24,7,3,1,20778,Damien Ciabrini,dciabrin,"Generate addition drop-in dependencies for podman containers

If a container managed by Paunch and has the drop-in file enabled, we
want to start the containers with the script provided by the Paunch rpm:
paunch-start-podman-container

The script will take care of proper ordering when creating systemd scope
files.

Change-Id: Idaf5d4871ad1231f2592238a7925857af8f40548
"
openstack%2Ftripleo-validations~master~Ib8ae41451f245d4e2d40864cc36515a07a1878bf,openstack/tripleo-validations,master,molecule/ctlplane-ip-range,Ib8ae41451f245d4e2d40864cc36515a07a1878bf,Adds molecule tests for ctlplane-ip-range validation,MERGED,2019-07-23 06:03:13.000000000,2019-08-01 11:07:25.000000000,2019-07-23 18:12:52.000000000,167,0,0,672205,49aa25278db5031d0543169ad2e12676ca89fc7d,11,6,2,3,28223,Cedric Jeanneret,cjeanner,"Adds molecule tests for ctlplane-ip-range validation

Change-Id: Ib8ae41451f245d4e2d40864cc36515a07a1878bf
"
openstack%2Ftripleo-validations~master~I20b55dc55b833a87930a4d9efd9fe81d4759ccb5,openstack/tripleo-validations,master,molecule/undercloud-disk-space,I20b55dc55b833a87930a4d9efd9fe81d4759ccb5,Adds molecule tests for undercloud-disk-space,MERGED,2019-07-22 14:05:30.000000000,2019-08-01 11:06:03.000000000,2019-07-23 15:26:11.000000000,127,0,0,672050,5adfef9d9a61402617591ef58315b9cd62f60907,9,9,1,3,28223,Cedric Jeanneret,cjeanner,"Adds molecule tests for undercloud-disk-space

Change-Id: I20b55dc55b833a87930a4d9efd9fe81d4759ccb5
"
openstack%2Ftripleo-validations~master~Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da,openstack/tripleo-validations,master,molecule/dns,Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da,Adds molecule testing for DNS validation,MERGED,2019-07-22 09:48:30.000000000,2019-08-01 11:05:34.000000000,2019-07-23 17:42:50.000000000,130,0,0,672003,647e9afc264fab5a0672d372d7244a171104486e,8,5,1,3,28223,Cedric Jeanneret,cjeanner,"Adds molecule testing for DNS validation

Change-Id: Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da
"
openstack%2Ftripleo-validations~master~Ie3226b708665b1733891d592a54cc6f2398899df,openstack/tripleo-validations,master,molecule/controller-token,Ie3226b708665b1733891d592a54cc6f2398899df,Adds molecule testing for controller-token,MERGED,2019-07-23 08:56:02.000000000,2019-08-01 11:05:06.000000000,2019-07-23 17:42:51.000000000,137,0,0,672229,1ace29c69400173e05346dbc4906e003f72899b6,10,6,1,3,28223,Cedric Jeanneret,cjeanner,"Adds molecule testing for controller-token

Change-Id: Ie3226b708665b1733891d592a54cc6f2398899df
"
openstack%2Ftripleo-validations~master~I2e94b72080b73dc37eefd072217392f34e1291f0,openstack/tripleo-validations,master,molecule/controller-ulimits,I2e94b72080b73dc37eefd072217392f34e1291f0,Adds molecule testing for controller-ulimits,MERGED,2019-07-23 09:25:53.000000000,2019-08-01 11:04:33.000000000,2019-07-23 17:42:53.000000000,129,0,0,672242,e1d0bde7dd120f42fe1d6301cbdc65e3327615af,8,5,1,3,28223,Cedric Jeanneret,cjeanner,"Adds molecule testing for controller-ulimits

Change-Id: I2e94b72080b73dc37eefd072217392f34e1291f0
"
openstack%2Ftripleo-validations~master~I7009a4ae534a6ad437ca46f0d3d3505360dc21dc,openstack/tripleo-validations,master,molecule/haproxy,I7009a4ae534a6ad437ca46f0d3d3505360dc21dc,Adds Molecule to haproxy validation role,MERGED,2019-07-22 13:21:53.000000000,2019-08-01 11:04:00.000000000,2019-07-23 17:42:54.000000000,154,0,0,672041,06bb613979a4c4e1c297c3f8feed244af1142046,8,5,1,3,28223,Cedric Jeanneret,cjeanner,"Adds Molecule to haproxy validation role

Change-Id: I7009a4ae534a6ad437ca46f0d3d3505360dc21dc
"
openstack%2Ftripleo-validations~master~I8abe0b2fc8b3619c227da01d145355c2d8d1d15d,openstack/tripleo-validations,master,molecule/undercloud-debug,I8abe0b2fc8b3619c227da01d145355c2d8d1d15d,Add molecule testing on undercloud-debug role,MERGED,2019-07-22 12:36:12.000000000,2019-08-01 11:03:33.000000000,2019-07-23 17:42:55.000000000,142,0,0,672030,95e9eabaa6d4218550278f4b05116bf2de7629d7,10,6,2,3,28223,Cedric Jeanneret,cjeanner,"Add molecule testing on undercloud-debug role

Change-Id: I8abe0b2fc8b3619c227da01d145355c2d8d1d15d
"
openstack%2Ftripleo-validations~master~Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf,openstack/tripleo-validations,master,validate/containers,Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf,New validation: ensure services status,MERGED,2019-05-02 14:41:56.000000000,2019-08-01 11:01:17.000000000,2019-07-29 21:09:38.000000000,58,0,7,656784,1265e2f6675b95bf7487fe041066d8de3164e39e,20,10,3,3,28223,Cedric Jeanneret,cjeanner,"New validation: ensure services status

This new validation ensures we don't have any failed systemd unit.

Failed units might lead to unexpected errors when we want to update
or upgrade the system, so we have to ensure we don't have anything
in a failed state.

Since this check is pretty generic and useful, it can also be called
as a post-deploy, post-upgrade task. This ensures we have a corret
state AFTER such actions as well.

Change-Id: Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I9eb274071f3fc2258addd9d2f0c1a5406a702573,openstack/tripleo-heat-templates,stable/stein,bug/1832588,I9eb274071f3fc2258addd9d2f0c1a5406a702573,Upgrade fixes for RabbitMQ and Pacemaker,MERGED,2019-07-12 13:40:56.000000000,2019-08-01 10:45:52.000000000,2019-08-01 10:45:52.000000000,39,11,3,670555,6e329424f238ae36d582b1010866a5da4837a078,16,6,3,2,11090,Sergii Golovatiuk,holser,"Upgrade fixes for RabbitMQ and Pacemaker

Override also RabbitMQ long node names (FQDNs) in addition to the
short node names we've been already overriding. This allows RabbitMQ
to start correctly.

Also remove a superfluous when condition in the pacemaker validation
task.

Depends-On: Ia152aed696be15119ba5b75177ef82bc786c4b05
Change-Id: I9eb274071f3fc2258addd9d2f0c1a5406a702573
Closes-Bug: #1832588
(cherry-picked from 47d1430da57e757f8234d1cce65ad5fee46fa21c)
"
openstack%2Ftripleo-validations~master~Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed,openstack/tripleo-validations,master,optimization/no-fact-gathering,Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed,Enable fact gathering for needed validations,MERGED,2019-07-18 11:26:44.000000000,2019-08-01 10:34:06.000000000,2019-07-31 17:40:36.000000000,5,0,11,671460,2affbb11f82afcdfcd77c282f718c92595cad291,24,7,6,5,28223,Cedric Jeanneret,cjeanner,"Enable fact gathering for needed validations

Implicit fact gathering is disabled since
https://review.opendev.org/672278

This means, for some validations, we must explicitly enable fact
gathering.

Depends-On: https://review.opendev.org/672278
Change-Id: Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed
"
openstack%2Ftripleo-validations~master~Ib46f5993eeac6ec39a603da3b8e943c960d7c52d,openstack/tripleo-validations,master,molecule/repos,Ib46f5993eeac6ec39a603da3b8e943c960d7c52d,"Correct ""repos"" validation and adds Molecule tests",MERGED,2019-07-25 13:26:50.000000000,2019-08-01 10:31:47.000000000,2019-07-26 01:44:36.000000000,184,14,0,672722,fa974b9fb9f1e9d3d2ebe5ec5d95095ea018703e,12,5,1,5,28223,Cedric Jeanneret,cjeanner,"Correct ""repos"" validation and adds Molecule tests

The way `yum repolist' works isn't consistent on CentOS-7 and Fedora. On
the first, it does fail on a broken repository, spitting an error on
STDERR and exiting with 1.

On Fedora, it sadly just ignores the failing repository with a single
line, and exits with 0.

This patch intends to make the validation more resilient, and adds
Molecule testing in order to ensure it's actually working as expected.

Change-Id: Ib46f5993eeac6ec39a603da3b8e943c960d7c52d
"
openstack%2Fmagnum~master~I820fbe0659222ba31baf43ca09d2bbb0030ed61f,openstack/magnum,master,add-cluster-information-in-event-notifications,I820fbe0659222ba31baf43ca09d2bbb0030ed61f,Add information about the cluster in magnum event notifications,MERGED,2019-07-11 14:02:00.000000000,2019-08-01 10:26:30.000000000,2019-08-01 10:26:30.000000000,100,24,0,670312,e5eade03dc36f74f57dba756f43d15a198155b2d,22,5,4,6,30678,Emanuel Andrecut,andrecutm,"Add information about the cluster in magnum event notifications

Magnum is sending notifications like cluster create but has no
details regarding the cluster, like cluster UUID. Notifications
from other OpenStack projects contain full detailed information
(e.g. instance UUID in Nova instance create notification).
Detailed notifications are important for other OpenStack
projects like Searchlight or third party projects that cache
information regarding OpenStack objects or have custom actions
running on notification. Caching systems can efficiently update
one single object (e.g. cluster), while without notifications
they need to periodically retrieve object list, which is
inefficient.

Change-Id: I820fbe0659222ba31baf43ca09d2bbb0030ed61f
Story: #2006297
Task: 36009
"
openstack%2Fmagnum~stable%2Fstein~If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5,openstack/magnum,stable/stein,feature/fix-openstack_cloud_controller_manager-restarts-stable/stein,If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5,Fix openstack-cloud-controller-manager restarts,MERGED,2019-06-19 14:36:22.000000000,2019-08-01 10:26:29.000000000,2019-08-01 10:26:29.000000000,1,0,0,666308,1ce4b7e7b9774df5897aa7a7382ad01e592b28cc,18,8,3,1,9995,Ricardo Rocha,rocha,"Fix openstack-cloud-controller-manager restarts

Openstack-cloud-controller-manager restarts several times during
cluster creation.

This happens because cloud-controller-manager starts running before
needed secrets exist in kubernetes. Cloud-controller-manager lists secrets
and if the secrets exists it uses it and moves on, but if the secret
doesn't exist it starts a watch until it does. As this is not allowed the
pod fails.

This is triggered by Issue 
https://github.com/kubernetes/cloud-provider-openstack/issues/545

Story: 2005270

Change-Id: If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5
Signed-off-by: Diogo Guerra <dy090.guerra@gmail.com>
(cherry picked from commit 21acb8dc9afbc3c1b2a786c4041213fa7e8761dc)
"
openstack%2Fmagnum~master~I23056513dcc6f0cb0c7d41aa529f6a2e77679db9,openstack/magnum,master,story/2006283-35989,I23056513dcc6f0cb0c7d41aa529f6a2e77679db9,Fix py3 issue of heat-container-agent,MERGED,2019-07-26 04:56:07.000000000,2019-08-01 10:25:41.000000000,2019-08-01 10:25:41.000000000,18,15,4,672865,bd23e58825cdcbbbc573ae37a59372f0f5157551,21,4,5,5,6484,Feilong Wang,flwang,"Fix py3 issue of heat-container-agent

Now the default python version of rawhide has been upgraded to
python 3.7.4, this patch fixes those py2->py3 issues which followed
from the origin heat-agent commits[1][2].

[1] https://github.com/openstack/heat-agents/commit/25cd394bbe5c371dd60328643f2e18b7bfb3d1a2
[2] https://github.com/openstack/heat-agents/commit/73e2125532a6d68dbd5d8a4e64a043de859eb853

Task: 35989
Story: 2006283

Change-Id: I23056513dcc6f0cb0c7d41aa529f6a2e77679db9
"
openstack%2Fmagnum~master~I11579ff6b83d133c71c2cbf49ee4b20996dfb918,openstack/magnum,master,story/2006208,I11579ff6b83d133c71c2cbf49ee4b20996dfb918,"Allow setting network, subnet and FIP when creating cluster",MERGED,2019-07-17 03:58:18.000000000,2019-08-01 10:25:37.000000000,2019-08-01 10:25:37.000000000,128,34,0,671182,32989b4f7b1fdee40768188289bce4a8baf624b7,23,5,6,20,6484,Feilong Wang,flwang,"Allow setting network, subnet and FIP when creating cluster

When using a public cluster template, user still need the capability
to reuse their existing network/subnet, and they also need to be
able to turn of/off the floatingip to overwrite the setting in the
public template. This patch supports that by adding those three
items as parameters when creating cluster.

Story: 2006208
Task: 35797

Change-Id: I11579ff6b83d133c71c2cbf49ee4b20996dfb918
"
openstack%2Fneutron-lbaas~stable%2Fqueens~If1a8017260f2c17f6b63cf2029fcc16d8b178a18,openstack/neutron-lbaas,stable/queens,story/2001946-stable/queens,If1a8017260f2c17f6b63cf2029fcc16d8b178a18,Allow to create loadbalancer with chinese character,MERGED,2019-06-04 15:37:59.000000000,2019-08-01 10:14:29.000000000,2019-08-01 10:14:29.000000000,8,9,0,663067,2d49d9954a738c5942b0d0a15ffe3595dae5c137,27,6,1,4,6469,Carlos Gonçalves,cgoncalves,"Allow to create loadbalancer with chinese character

Because loadbalancer's name will be written in haproxy configuration,
but chinese character can't be written correctly.
The patch use replaces loadbalancer's name with loadbalancer's id
in the templates.

Change-Id: If1a8017260f2c17f6b63cf2029fcc16d8b178a18
Story: 2001946
Task: 15064
(cherry picked from commit 1502dc16f5ffa76211e5ab88cf1e67fe2c9b8245)
"
openstack%2Fkolla-ansible~stable%2Fstein~Iea6d12c07a2f4152f2038d3de2ef589479b3332b,openstack/kolla-ansible,stable/stein,cp2,Iea6d12c07a2f4152f2038d3de2ef589479b3332b,Format internal Fluentd logs,MERGED,2019-07-16 15:19:54.000000000,2019-08-01 10:00:19.000000000,2019-08-01 10:00:19.000000000,21,0,0,671078,7b3eca856b07cd2ea9e934084875bd3fe725d39e,15,6,1,1,28048,Will Szumski,jovial,"Format internal Fluentd logs

This change formats internal Fluent logs in a similar way to other
logs. It makes it easier for a user to identify issues with Fluent
parsing logs. Any failure to parse a log will be ingested into the
logging framework and can easily be located by searching for
'pattern not match' or by filtering for Fluent log warnings.

Change-Id: Iea6d12c07a2f4152f2038d3de2ef589479b3332b
(cherry picked from commit d89a89c26bd0348e48049f9cddfeb5219dce9282)
"
openstack%2Fcyborg~master~I7ddb2ad1c345070feeb6ad74fa1399d78933b15e,openstack/cyborg,master,nova-integ,I7ddb2ad1c345070feeb6ad74fa1399d78933b15e,P3: Changes for services.,MERGED,2019-07-12 08:15:00.000000000,2019-08-01 09:47:19.000000000,2019-08-01 09:47:19.000000000,106,2187,6,670464,d582f73fead09cef380c49059c19ad3297c33bd4,23,5,5,7,21672,Sundar Nadathur,nsundar,"P3: Changes for services.

Change-Id: I7ddb2ad1c345070feeb6ad74fa1399d78933b15e
"
openstack%2Fpython-tripleoclient~master~I3ac295d2e2f86fbb2120f9491d4103434b6ac3da,openstack/python-tripleoclient,master,,I3ac295d2e2f86fbb2120f9491d4103434b6ac3da,Mock deployment action in upgrade tests,MERGED,2019-07-31 14:08:21.000000000,2019-08-01 09:42:29.000000000,2019-07-31 23:43:33.000000000,9,2,0,673828,e1cb3042c8fe25d7fe28bc7d1d38f5a3ae90fa1d,13,8,1,1,11491,Gael Chamoulaud,gchamoul,"Mock deployment action in upgrade tests

Without properly mocking the deployment action, these tests are trying
to execute deployment code including temp file creation which can lead
to package build failures. This change mocks out the deployment take
action for the UpgradeRun so we're only testing the upgrade code
itself.

Change-Id: I3ac295d2e2f86fbb2120f9491d4103434b6ac3da
Closes-Bug: #1838506
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Ftripleo-common~master~I86b914f8e20704da2d566d137718b4b7fb02ad95,openstack/tripleo-common,master,bug/1838540,I86b914f8e20704da2d566d137718b4b7fb02ad95,Add deployment_options input to config_download workflow,MERGED,2019-07-31 16:04:20.000000000,2019-08-01 09:41:10.000000000,2019-08-01 09:41:10.000000000,2,0,0,673862,71b285b345bd3240450cacc7047d0184dc415102,10,7,1,1,13861,yatin,yatinkarel,"Add deployment_options input to config_download workflow

Inventory is generated as a part of config_download_deploy
workflow but 'deployment_options' input needed to set
'ansible_python_interpreter' input for 'ansible-generate-inventory'
action is missing as a input to the workflow.
This patch adds it.

Partial-Bug: #1838540
Change-Id: I86b914f8e20704da2d566d137718b4b7fb02ad95
"
openstack%2Ftripleo-upgrade~stable%2Fstein~I6725bdc2eff5a367b46075c2bf8baa8f2edbabe5,openstack/tripleo-upgrade,stable/stein,,I6725bdc2eff5a367b46075c2bf8baa8f2edbabe5,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-07-31 11:54:21.000000000,2019-08-01 09:40:47.000000000,2019-08-01 09:40:46.000000000,9,9,0,673795,0f237f36a013079f698d9ce63ab271a3381f954b,8,7,1,7,26343,Jose Luis Franco,jfrancoa,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I6725bdc2eff5a367b46075c2bf8baa8f2edbabe5
(cherry picked from commit b8232161c02828f71388904c14ba1f4396ecbb79)
"
openstack%2Ftripleo-upgrade~stable%2Fstein~I542b82b0bec05faf320861027f2f51572fe931c2,openstack/tripleo-upgrade,stable/stein,,I542b82b0bec05faf320861027f2f51572fe931c2,Remove check for openvswitch package.,MERGED,2019-07-31 11:44:08.000000000,2019-08-01 09:40:45.000000000,2019-08-01 09:40:44.000000000,0,5,0,673791,43ca4a2c2bac5efc51230c3c0fe56be5bdcfc266,8,6,1,1,26343,Jose Luis Franco,jfrancoa,"Remove check for openvswitch package.

The package task does ensure that a package is installed,
when the intention of this task was to simply check if
the openvswitch package was installed. However, if it's
installed, Ansible will try to install the latest available
version and that update needs to be handled in the Undercloud
upgrade itself, not in the previous steps. For that reason,
this patch removes the task and relies on the following one
which checks that the OpenVSwitch service is running to fail
if the package wasn't installed.

Change-Id: I542b82b0bec05faf320861027f2f51572fe931c2
(cherry picked from commit b5f00e5c3e663b0ebcfe3277e38a71a3bf91e7d9)
"
openstack%2Ftripleo-upgrade~stable%2Fstein~Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f,openstack/tripleo-upgrade,stable/stein,,Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f,Drop MongoDB service from custom roles_data.,MERGED,2019-07-31 11:10:59.000000000,2019-08-01 09:40:44.000000000,2019-08-01 09:40:43.000000000,7,1,0,673786,589dfcaeece5985aa12d7b748cada77f1a4a1cdb,8,6,1,2,26343,Jose Luis Franco,jfrancoa,"Drop MongoDB service from custom roles_data.

As documented in the Stein upgrades guide [0], we need to
remove the MongDB service from the roles_data in the case
a custom one was appended during upgrade prepare step.

[0] - https://gitlab.cee.redhat.com/osp15/osp-upgrade-el8/tree/master#only-for-composable-roles-deployments-skip-this-line-in-monolithic-setup

Change-Id: Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f
(cherry picked from commit 359db7c0006c13e4f754003e911ce861f577b3e8)
"
openstack%2Ftripleo-upgrade~stable%2Fstein~Ib83e508950df729901fffa072402b581be95c746,openstack/tripleo-upgrade,stable/stein,adapt-tripleo-upgrade-stable/stein,Ib83e508950df729901fffa072402b581be95c746,Upgrade undercloud.conf with the right parameters,MERGED,2019-07-31 11:50:07.000000000,2019-08-01 09:40:43.000000000,2019-08-01 09:40:42.000000000,66,5,0,673794,5d41b46d0b07cf748082cf314479847e99fff609,7,6,1,2,26343,Jose Luis Franco,jfrancoa,"Upgrade undercloud.conf with the right parameters

This patch adds the new parameters required for the OSP15 major
upgrades workflow.  This patch also adds the undercloud_hiera file
if the hieradata_override is not defined in undercloud.conf, if it
is then it will append the needed hiera configuration into the existing
file.
If the docker_insecure_registries option exists in the file, it's
value is merged with new namespace values and set as
container_insecure_registries.  The docker_insecure_registries is
removed after the value is used.

Change-Id: Ib83e508950df729901fffa072402b581be95c746
(cherry picked from commit 3a97b561fa3becea25d0c2385850c1139358228d)
"
openstack%2Ftripleo-upgrade~stable%2Fstein~I70d387b381b6ce297507cbfe669ea7be902df605,openstack/tripleo-upgrade,stable/stein,refactor_flatten-stable/stein,I70d387b381b6ce297507cbfe669ea7be902df605,Migrate from with_X loop.,MERGED,2019-07-31 11:47:52.000000000,2019-08-01 09:40:41.000000000,2019-08-01 09:40:41.000000000,79,99,0,673792,954653a8613f0b97ec661abbeef32922c751e8a6,9,6,1,24,26343,Jose Luis Franco,jfrancoa,"Migrate from with_X loop.

With the release of Ansible 2.5, the recommended way to perform
 loops is the use the new loop keyword instead of with_X style loops.
This review addresses aforementioned change for common tasks
within tripleo-upgrade role.

Change-Id: I70d387b381b6ce297507cbfe669ea7be902df605
(cherry picked from commit b25817a233bcb5f836319cce10bb04bbb732c4f7)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I2b8fc3fcf757e5a24696f2d3575fe696b9cdfdf0,openstack/tripleo-heat-templates,stable/stein,,I2b8fc3fcf757e5a24696f2d3575fe696b9cdfdf0,ceph-base: Disable ceph-ansible firewall tasks,MERGED,2019-07-31 18:38:35.000000000,2019-08-01 09:40:37.000000000,2019-08-01 09:40:37.000000000,1,0,0,673894,954abc8e9b0920ef5cb7b0c997af3af0409d72b8,10,6,1,1,25402,Francesco Pantano,fmount,"ceph-base: Disable ceph-ansible firewall tasks

TripleO already manages firewall rules so we don't need to have both
enabled in the same time.
It's currently not an issue because the firewall rules aren't apply by
ceph-ansible on containerized deployment but it will be enabled soon.

Change-Id: I2b8fc3fcf757e5a24696f2d3575fe696b9cdfdf0
Co-Authored-By: Dimitri Savineau <dsavinea@redhat.com>
"
openstack%2Fmagnum~master~I77d4de731b366e9c92fbf44b6e808a093cc39427,openstack/magnum,master,,I77d4de731b366e9c92fbf44b6e808a093cc39427,Remove extra spaces,ABANDONED,2018-07-28 19:37:03.000000000,2019-08-01 09:34:39.000000000,,1,1,0,586838,2292933e5559e2a7f09598b925c07f9c020a8e14,11,9,1,1,28543,shupeng,Vieri,"Remove extra spaces

Change-Id: I77d4de731b366e9c92fbf44b6e808a093cc39427
"
openstack%2Fnetworking-midonet~master~I702c506ee89e1336eea06a53cf8ca1239606ccbd,openstack/networking-midonet,master,cover,I702c506ee89e1336eea06a53cf8ca1239606ccbd,Add cover job to gate queue,ABANDONED,2019-06-06 10:27:36.000000000,2019-08-01 09:33:12.000000000,,7,0,0,663589,b1e7930a962ee823d016b35e85a92079b112c897,6,3,1,1,6854,YAMAMOTO Takashi,yamamoto,"Add cover job to gate queue

All voting jobs should be on gate queue as well.

Change-Id: I702c506ee89e1336eea06a53cf8ca1239606ccbd
"
openstack%2Freleases~master~I623d359fe133d930d4ba994fbb59f92d09a80a96,openstack/releases,master,ironic-inspector-stein,I623d359fe133d930d4ba994fbb59f92d09a80a96,Release ironic-inspector 8.2.3 for Stein,MERGED,2019-07-24 07:19:14.000000000,2019-08-01 09:30:38.000000000,2019-08-01 09:30:38.000000000,4,0,0,672410,cc0e7e0a14b33deecdc1a560698a3a4a32a9531c,8,4,1,1,10239,Dmitry Tantsur,dtantsur,"Release ironic-inspector 8.2.3 for Stein

Change-Id: I623d359fe133d930d4ba994fbb59f92d09a80a96
"
openstack%2Foctavia~master~I776063356177254420f748ffa3c272d160ad60a5,openstack/octavia,master,,I776063356177254420f748ffa3c272d160ad60a5,DNM: test centos-minimal++,ABANDONED,2019-07-23 17:11:02.000000000,2019-08-01 09:29:39.000000000,,1,0,0,672332,d3f5a56ecffb9d2135596dc26a684115eed86d31,5,1,2,1,6469,Carlos Gonçalves,cgoncalves,"DNM: test centos-minimal++

Depends-On: https://review.opendev.org/#/c/672329/
Change-Id: I776063356177254420f748ffa3c272d160ad60a5
"
openstack%2Freleases~master~Ifb045ea76a79d91c7d6d6bfe312cb9ca821868d2,openstack/releases,master,,Ifb045ea76a79d91c7d6d6bfe312cb9ca821868d2,Release 0.32.0 of openstacksdk,MERGED,2019-07-30 17:16:11.000000000,2019-08-01 09:29:08.000000000,2019-08-01 09:29:07.000000000,4,0,0,673581,218779fa8f307ecd61c2cfa3d981fe45a96e5be2,9,5,1,1,2,Monty Taylor,mordred,"Release 0.32.0 of openstacksdk

Change-Id: Ifb045ea76a79d91c7d6d6bfe312cb9ca821868d2
"
openstack%2Fpuppet-tripleo~master~I3deb3e944ed4911962d204357bb3134569f153f6,openstack/puppet-tripleo,master,bug/1829062,I3deb3e944ed4911962d204357bb3134569f153f6,Allow to configure Apache MPM module,MERGED,2019-07-17 15:35:05.000000000,2019-08-01 09:25:42.000000000,2019-07-22 18:51:14.000000000,25,1,1,671321,6fb9d8e6cd48283b551f3580072669622da2006c,18,6,1,3,6926,Bogdan Dobrelya,bogdando,"Allow to configure Apache MPM module

Defaults to 'prefork', which ensures there is no upgrade/update impact.

Related-bug: #1829062

Change-Id: I3deb3e944ed4911962d204357bb3134569f153f6
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fmagnum~master~Ie4c3d26404a22791a9cbd2e6f14f822e7e5a6d13,openstack/magnum,master,retire-api-site,Ie4c3d26404a22791a9cbd2e6f14f822e7e5a6d13,Update api-ref location,MERGED,2019-07-22 16:30:31.000000000,2019-08-01 09:22:54.000000000,2019-08-01 09:22:54.000000000,1,1,0,672089,b43c0a32c049d056db07bd79f8063515925fd9f8,9,7,1,1,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ie4c3d26404a22791a9cbd2e6f14f822e7e5a6d13
"
openstack%2Fmagnum~master~Ibcee41efca92f07799008abb344f4241bc05563f,openstack/magnum,master,update_auth_url,Ibcee41efca92f07799008abb344f4241bc05563f,"Update ""auth_uri"" and ""auth_url"" in install docs",ABANDONED,2019-07-16 11:30:52.000000000,2019-08-01 09:18:18.000000000,,2,2,0,671012,cef02033fd7e1188a44e1e865c6e3241277c1123,8,6,1,1,26233,zengjia,zengjia87,"Update ""auth_uri"" and ""auth_url"" in install docs

Beginning with the Queens release, the keystone install guide
recommends running all interfaces on the same port[1]

In addition, update deprecated ""auth_uri"" to ""www_authenticate_uri"",
according to [2] and [3]

[1] https://review.openstack.org/#/c/541857
[2] https://review.opendev.org/#/c/508522
[3] https://review.opendev.org/#/c/614082/

Change-Id: Ibcee41efca92f07799008abb344f4241bc05563f
"
openstack%2Fnetworking-ovn~master~I1ba5926575564eb5a2c0e01423d920e824c83a9b,openstack/networking-ovn,master,,I1ba5926575564eb5a2c0e01423d920e824c83a9b,DNM Replace default ipv6 gw router,ABANDONED,2019-07-30 08:48:47.000000000,2019-08-01 09:17:40.000000000,,1,4,0,673454,fd65c15269e02dd1e3e244b7e33a885ac94e4f32,4,2,1,1,24791,Maciej Jozefczyk,maciej.jozefczyk,"DNM Replace default ipv6 gw router

Testing only.

Change-Id: I1ba5926575564eb5a2c0e01423d920e824c83a9b
"
openstack%2Fkolla-ansible~stable%2Fstein~I0a2484d878d5c86977fb232a57c52f874ca7a34c,openstack/kolla-ansible,stable/stein,cp2,I0a2484d878d5c86977fb232a57c52f874ca7a34c,Don't drop unmatched Kolla service logs,MERGED,2019-07-16 15:06:08.000000000,2019-08-01 09:12:25.000000000,2019-08-01 09:12:25.000000000,6,0,0,671076,32fbd49ad6ae7c52581dee0a34b7a64618767f34,14,6,2,2,28048,Will Szumski,jovial,"Don't drop unmatched Kolla service logs

Kolla service logs which don't match a Fluentd rewriterule get dropped.
This change prevents that by tagging them with 'unmatched'.

Change-Id: I0a2484d878d5c86977fb232a57c52f874ca7a34c
(cherry picked from commit cfeb9dd9ef1d891904c9112c35b2189d5032815c)
"
openstack%2Fmanila~master~I421db5b8ed56fecc90ac7e6d32078d443a3eaa2e,openstack/manila,master,,I421db5b8ed56fecc90ac7e6d32078d443a3eaa2e,Add manila-ui config instructions,MERGED,2019-07-19 07:09:46.000000000,2019-08-01 09:01:58.000000000,2019-07-31 16:53:28.000000000,33,13,20,671663,25506de0e477afc3bd499847530f76bb3f9e7635,73,13,6,2,26458,Brin Zhang,zhangbailin,"Add manila-ui config instructions

In Devstack, even though horizon and manila plugins are enabled, if the
manila ui plugin is not explicitly enabled it won't show up.

This change adds config instructions in the readme and in the manila
contributor docs to enable Manila UI when deploying with Devstack.

Change-Id: I421db5b8ed56fecc90ac7e6d32078d443a3eaa2e
"
openstack%2Fnetworking-ovn~master~If6b150f2e817296b7ee94d30736247aae4727615,openstack/networking-ovn,master,limit-idls,If6b150f2e817296b7ee94d30736247aae4727615,DO NOT REVIEW: Ignore unnecessary Neutron Workers,ABANDONED,2019-06-14 15:22:23.000000000,2019-08-01 08:57:14.000000000,,4,0,0,665417,221638431dd0763929c1885b0952474f3c346601,3,1,1,1,6773,Lucas Alvares Gomes,lucasagomes,"DO NOT REVIEW: Ignore unnecessary Neutron Workers

Change-Id: If6b150f2e817296b7ee94d30736247aae4727615
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fironic-inspector~master~I634e75ab04253edffb6f19394d3943e9ffe56d13,openstack/ironic-inspector,master,gate,I634e75ab04253edffb6f19394d3943e9ffe56d13,CI: clean up the required projects list for grenade,MERGED,2019-07-30 08:22:07.000000000,2019-08-01 08:56:20.000000000,2019-08-01 08:54:09.000000000,0,10,2,673439,da69fca0f8c32880604be14100598a1e1da4c7f2,16,7,2,2,10239,Dmitry Tantsur,dtantsur,"CI: clean up the required projects list for grenade

We don't need to install libraries from git in this job.
ironic-python-agent is also not needed since we download the ramdisk.

Change-Id: I634e75ab04253edffb6f19394d3943e9ffe56d13
"
openstack%2Fsushy~master~Ie9c2f37062b8a8c9a1a082217dc22c79c5327fba,openstack/sushy,master,03-add-vmedia-eject-param,Ie9c2f37062b8a8c9a1a082217dc22c79c5327fba,Retry Virtual Media eject action on HTTP 400 response,MERGED,2019-07-17 14:17:59.000000000,2019-08-01 08:46:25.000000000,2019-08-01 08:46:25.000000000,17,2,0,671306,219d93aecd534b7a75dba49507523127dbde45b6,17,5,3,2,26340,Ilya Etingof,etingof,"Retry Virtual Media eject action on HTTP 400 response

When attempting to eject virtual media and HTTP server responds
with HTTP error 400, retry the same HTTP query with empty
JSON document.

This change simply extends HTTP error code list when this
retry should happen to account for Dell server(s) - unlike
HPE ones (which return error 415), Dell returns 400.

See also: https://review.opendev.org/#/c/636845/

Change-Id: Ie9c2f37062b8a8c9a1a082217dc22c79c5327fba
Story: 2004995
Task: 35845
"
openstack%2Foctavia-tempest-plugin~master~I6e7ff85f4c05efe73c839350463c853877559ca4,openstack/octavia-tempest-plugin,master,,I6e7ff85f4c05efe73c839350463c853877559ca4,DNM: Create two listeners in scenario test,ABANDONED,2019-06-27 12:04:03.000000000,2019-08-01 08:35:07.000000000,,26,0,2,667908,b86ba60672e846ff57d9650368183ad18a1cec61,9,3,2,1,6469,Carlos Gonçalves,cgoncalves,"DNM: Create two listeners in scenario test

This is expected to fail on amphorae with HAProxy >1.6

Change-Id: I6e7ff85f4c05efe73c839350463c853877559ca4
"
openstack%2Fkolla-ansible~master~Ibefa20ed6d812e6774e962d991deda417e0c1ac5,openstack/kolla-ansible,master,bug/ceph_nfs_dbus,Ibefa20ed6d812e6774e962d991deda417e0c1ac5,Configure ganesha policy when ceph-nfs enabled,ABANDONED,2019-07-19 08:56:47.000000000,2019-08-01 08:28:38.000000000,,50,0,2,671684,7893a93feccc30538c38cdcac82deb29c9f504c2,30,3,7,6,22629,Michal Nasiadka,mnasiadka,"Configure ganesha policy when ceph-nfs enabled

ceph-nfs uses nfs-ganesha, when using dbus integration
ganesha needs to have it's dbus policy configured correctly.

Change-Id: Ibefa20ed6d812e6774e962d991deda417e0c1ac5
"
openstack%2Fmagnum~master~I70b165a8170dc52b9e763d828b2f6d4ee6ced41d,openstack/magnum,master,fix-auth-uri,I70b165a8170dc52b9e763d828b2f6d4ee6ced41d,Update keystone_authtoken config reference,MERGED,2019-06-12 22:21:03.000000000,2019-08-01 08:25:20.000000000,2019-08-01 08:25:19.000000000,4,4,0,665025,720f56944493855b1131923cd0a44648a4292a83,10,6,1,2,8482,Colleen Murphy,krinkle,"Update keystone_authtoken config reference

The auth_uri parameter of keystonemiddleware was renamed to
'www_authenticate_uri'[1], so update the documentation accordingly.

[1] https://review.opendev.org/508522

Change-Id: I70b165a8170dc52b9e763d828b2f6d4ee6ced41d
"
openstack%2Fopenstack-helm~master~I6cc80c81b2742edad57359e7ba90c71dd8fa561f,openstack/openstack-helm,master,,I6cc80c81b2742edad57359e7ba90c71dd8fa561f,Support bond port with auto_bridge_add,ABANDONED,2019-08-01 06:51:10.000000000,2019-08-01 07:50:49.000000000,,21,22,0,673946,b6c2438af36617661c072655710515a6a1d3dc8e,3,0,2,2,30752,Qianshui Jiang,qianshui,"Support bond port with auto_bridge_add

In neutron chart, ovs bridges are created and ports are added to some of the ovs bridges according to auto_bridge_add.
For now, we only support the ethernet port. This commition is to proposal bond port support. bond port is useful for network HA.
For bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl add-port

Change-Id: I6cc80c81b2742edad57359e7ba90c71dd8fa561f
"
openstack%2Fcinder~master~Ic2463338b698c5cf805c0ae06d0229f54f64b3fc,openstack/cinder,master,bug/1833736,Ic2463338b698c5cf805c0ae06d0229f54f64b3fc,Prevent double-attachment race in attachment_reserve,MERGED,2019-07-17 22:33:39.000000000,2019-08-01 07:45:49.000000000,2019-07-31 18:10:24.000000000,111,13,28,671370,7f3a77b66f9aa1b185310c8cbe33b358da6cc39a,161,37,8,5,4523,Eric Harney,eharney,"Prevent double-attachment race in attachment_reserve

If multiple attachments are requested simultaneously,
a volume can be attached to an instance more than once.

This fixes this problem by detecting that a race has
occurred in _attachment_reserve, and backing out one of
the invalid attachment records.

This means that if the attachment API is called
repeatedly and quickly for the same volume, some requests
may fail, but this is much better than incorrectly
creating multiple attachments.

Closes-Bug: #1833736

Change-Id: Ic2463338b698c5cf805c0ae06d0229f54f64b3fc
"
openstack%2Fneutron~master~Ia65ecaf7b48926b74505226a5922b85e2cb593a6,openstack/neutron,master,bug/1837529,Ia65ecaf7b48926b74505226a5922b85e2cb593a6,Initialize modifiable list of resources in CacheBackedPluginApi.,MERGED,2019-07-23 10:45:33.000000000,2019-08-01 07:45:26.000000000,2019-08-01 05:50:49.000000000,41,17,7,672261,2db02023eec96d825749490d40c750a37b97daec,22,9,3,2,13692,Roman Dobosz,gryf,"Initialize modifiable list of resources in CacheBackedPluginApi.

Currently, if one wanted to add any other resources (including custom
objects), there is no simple way to achieve that, since list of defined
resource types is hardcoded in create_cache_for_l2_agent function,
which is called in __init__ of the CacheBackedPluginApi. Even if we
derive from it, we must call super() on descendant, otherwise we end up
with uninitialized PluginApi part. But if we do the super() on it, we
end up on having hardcoded resources only, and creating a new remote
resource cache object will make a new set of listeners, while the
listeners for the old object still exist, and may cause memory leaks.
RemoteResourceWatcher class have only initializers for those listeners,
and there is no obvious way to stop/clean them.

In this patch we propose to move create_cache_for_l2_agent function to
CacheBackedPluginApi class, and make resource list to be class
attribute, so that it can be easily modified.

Change-Id: Ia65ecaf7b48926b74505226a5922b85e2cb593a6
Closes-Bug: 1837529
"
openstack%2Ftripleo-docs~master~If42152e768b590f14716e38f65d8f9ce2a94c46f,openstack/tripleo-docs,master,fix-acheive-spell,If42152e768b590f14716e38f65d8f9ce2a94c46f,Correcting typo in achieve spelling,MERGED,2019-07-31 03:08:13.000000000,2019-08-01 07:17:12.000000000,2019-08-01 07:17:11.000000000,1,1,0,673719,130aa09fdba2e8dd99ef192e70fd6bf3146bbd65,6,2,1,1,29775,Sandeep Yadav,sandeepyadav93,"Correcting typo in achieve spelling

There is a typographical errors in baremetal_overcloud.rst. Correcting
spelling from acheive to achieve.

Change-Id: If42152e768b590f14716e38f65d8f9ce2a94c46f
"
openstack%2Fopenstack-helm~master~I85d85c5ab0a5111fde11a1b2a4b1fa15aca57e51,openstack/openstack-helm,master,,I85d85c5ab0a5111fde11a1b2a4b1fa15aca57e51,"In neutron chart, ovs bridges are created and ports are added to some of the ovs bridges according to auto_bridge_add. For now, we only support the ethernet port. This commition is to proposal bond port support. bond port is useful for network HA. For bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl add-port",ABANDONED,2019-07-27 11:48:12.000000000,2019-08-01 07:16:04.000000000,,44,10,4,673135,84528f5efea549592857d83ac89b881c02ac35d4,6,3,1,2,30752,Qianshui Jiang,qianshui,"In neutron chart, ovs bridges are created and ports are added to some of the ovs bridges according to auto_bridge_add.
For now, we only support the ethernet port. This commition is to proposal bond port support. bond port is useful for network HA.
For bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl add-port

Change-Id: I85d85c5ab0a5111fde11a1b2a4b1fa15aca57e51
"
openstack%2Fdevstack~master~Ie66f721757c05c671448ca350a5b137768599f68,openstack/devstack,master,only-create,Ie66f721757c05c671448ca350a5b137768599f68,[dnm] testing shortcutting some osc calls for gate,NEW,2019-08-01 01:47:15.000000000,2019-08-01 06:57:12.000000000,,29,67,0,673936,e5e25def5ed6dd67a740c1fc340a7087b7bbc8e8,4,1,2,1,7118,Ian Wienand,iwienand,"[dnm] testing shortcutting some osc calls for gate

Change-Id: Ie66f721757c05c671448ca350a5b137768599f68
"
openstack%2Ftripleo-ansible~master~I3e56810e8dca7611e7b336df4cb73e62bf161dc8,openstack/tripleo-ansible,master,ceph_ansible_disable_firewall,I3e56810e8dca7611e7b336df4cb73e62bf161dc8,Disable ceph-ansible firewall tasks,MERGED,2019-07-30 10:37:32.000000000,2019-08-01 06:17:32.000000000,2019-07-30 16:25:07.000000000,2,0,2,673470,89e8ee8d2a8c3294f17b5330f31d89e5cb822834,16,6,4,1,25402,Francesco Pantano,fmount,"Disable ceph-ansible firewall tasks

TripleO already manages firewall rules so we don't need to have both
enabled in the same time.
It's currently not an issue because the firewall rules aren't apply by
ceph-ansible on containerized deployment but it will be enabled soon.

Co-Authored-By: Dimitri Savineau <dsavinea@redhat.com>
Change-Id: I3e56810e8dca7611e7b336df4cb73e62bf161dc8
"
openstack%2Foctavia~master~Iffc4a9725bff41618edbf246dd5a167b4e0ef6d3,openstack/octavia,master,612309,Iffc4a9725bff41618edbf246dd5a167b4e0ef6d3,Build amphora image using centos-minimal element,MERGED,2018-10-22 10:30:53.000000000,2019-08-01 06:13:37.000000000,2019-08-01 06:13:37.000000000,17,13,0,612309,262ffaa9d71feb1b79b59f7c6a9ea8b7f977415e,24,4,6,2,6469,Carlos Gonçalves,cgoncalves,"Build amphora image using centos-minimal element

This patch changes CentOS amphora images to be built using the
centos-minimal DIB element. The generated image size is reduce from
approximately 702 MB to 520 MB. Compatibility with 'centos' AMP_BASEOS
is kept.

Change-Id: Iffc4a9725bff41618edbf246dd5a167b4e0ef6d3
"
openstack%2Fcyborg~master~Ibb556055afc9c5a8b73a7cc1262c4e6afada8343,openstack/cyborg,master,nova-integ,Ibb556055afc9c5a8b73a7cc1262c4e6afada8343,"P2: Changes for db layer, constants and exceptions.",MERGED,2019-07-12 08:15:00.000000000,2019-08-01 05:59:10.000000000,2019-08-01 05:59:10.000000000,256,40,15,670463,1b3d9688d8e46691412efa9f652122f063b94af6,20,6,4,6,21672,Sundar Nadathur,nsundar,"P2: Changes for db layer, constants and exceptions.

Change-Id: Ibb556055afc9c5a8b73a7cc1262c4e6afada8343
"
openstack%2Fkolla-ansible~stable%2Fstein~I9e3436a8f946873867900eed5ff0643d84584358,openstack/kolla-ansible,stable/stein,cp2,I9e3436a8f946873867900eed5ff0643d84584358,Increase log coverage for Monasca,MERGED,2019-07-16 14:57:31.000000000,2019-08-01 05:57:46.000000000,2019-08-01 05:57:46.000000000,3,2,0,671070,81a5ce0927904c47f3d766cb6c7951bd3e0fa42f,9,5,2,3,28048,Will Szumski,jovial,"Increase log coverage for Monasca

Monasca Python service logs prior to this change were being dropped
due to missing entries in the Fluent record_transformer config file.
This change adds support for ingesting those logs, and explicitly
removes support for ingesting Monasca Log API logs to reduce the risk
of feedback, for example if debug logging is turned on in the Monasca
Log API.

(cherry picked from commit cb404743be54e8364f061da3e7caf5586c316008)
Change-Id: I9e3436a8f946873867900eed5ff0643d84584358
"
openstack%2Fkolla-ansible~stable%2Fstein~Ie3cbb51424989b01727b5ebaaeba032767073462,openstack/kolla-ansible,stable/stein,cp5,Ie3cbb51424989b01727b5ebaaeba032767073462,Ingest non-standard Monasca logs,MERGED,2019-07-16 15:12:56.000000000,2019-08-01 05:52:11.000000000,2019-08-01 05:52:11.000000000,32,1,0,671077,10d6c8d3a68f3f5875c75f5725132134ba3663d6,8,5,1,5,28048,Will Szumski,jovial,"Ingest non-standard Monasca logs

Presently, errors can appear in Fluentd and Monasca Log API logs due
to log output from some Monasca services, which do not use Oslo log,
being processed alongside other OpenStack logs which do.

This change parses these log files separately to prevent these errors.

Change-Id: Ie3cbb51424989b01727b5ebaaeba032767073462
(cherry picked from commit 4b31fdcf35d83a9ad04173657ba5d228bbc9183d)
"
openstack%2Frequirements~master~I7949ac17d6777b9ba5e403c135ca74be066d4553,openstack/requirements,master,new-release,I7949ac17d6777b9ba5e403c135ca74be066d4553,update constraint for os-traits to new release 0.16.0,MERGED,2019-07-31 20:36:26.000000000,2019-08-01 05:50:53.000000000,2019-08-01 05:50:53.000000000,1,1,0,673908,3c5dc68616e8974295e0fd7a2137b97819b2532c,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-traits to new release 0.16.0

Change-Id: I7949ac17d6777b9ba5e403c135ca74be066d4553
meta:version: 0.16.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Eric Fried <openstack@fried.cc>
meta:release:Commit: Eric Fried <openstack@fried.cc>
meta:release:Change-Id: Ia421ed500fbc15bf0088a8436ddeb5d8d1196256
meta:release:Code-Review+1: Chris Dent <cdent@anticdent.org>
meta:release:Code-Review+1: ya.wang <wang.ya@99cloud.net>
meta:release:Code-Review+2: Kendall Nelson <kennelson11@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Frequirements~master~I13f64539f51f255f54ecd17691107d8b592ddbe7,openstack/requirements,master,openstack/requirements/constraints/noclob,I13f64539f51f255f54ecd17691107d8b592ddbe7,Updated from generate-constraints,MERGED,2019-07-28 06:20:32.000000000,2019-08-01 05:50:52.000000000,2019-08-01 05:50:51.000000000,20,32,0,673160,883f90206d2d2afeef9007342f4a6f5e27190dda,19,2,4,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

holding back lxml for possible nova impacting issues

Change-Id: I13f64539f51f255f54ecd17691107d8b592ddbe7
"
openstack%2Ftripleo-ci~master~I7902c285bcf4574624b7ad50bb953aeb2af74a9e,openstack/tripleo-ci,master,bp/undercloud-minion,I7902c285bcf4574624b7ad50bb953aeb2af74a9e,Add multinode minion job,MERGED,2019-05-30 22:42:20.000000000,2019-08-01 05:47:43.000000000,2019-08-01 05:47:42.000000000,21,0,1,662350,a9feeae6b2fc2c402fae7f9c2a5e12a0b49b6268,52,9,9,4,14985,Alex Schultz,mwhahaha,"Add multinode minion job

Depends-On: https://review.opendev.org/#/c/662343/
Depends-On: https://review.opendev.org/#/c/662349/
Depends-On: https://review.opendev.org/#/c/672380/
Change-Id: I7902c285bcf4574624b7ad50bb953aeb2af74a9e
"
openstack%2Fpython-tripleoclient~master~I510457333aadcabe0f02c05a39c7c10b221410ae,openstack/python-tripleoclient,master,bug/1837623,I510457333aadcabe0f02c05a39c7c10b221410ae,Write minion preflight checks,MERGED,2019-07-26 19:41:50.000000000,2019-08-01 05:12:13.000000000,2019-08-01 05:12:13.000000000,47,8,2,673099,d242ad7cfefdb2494b11752791764bd7cedbe2a8,14,5,3,3,14985,Alex Schultz,mwhahaha,"Write minion preflight checks

There are some basics we should check before running the install.

Change-Id: I510457333aadcabe0f02c05a39c7c10b221410ae
Blueprint: undercloud-minion
"
openstack%2Fpython-tripleoclient~master~Ib1444f8b21d90a00dd1d775f5eac633c43f39741,openstack/python-tripleoclient,master,rhel-reg-removal,Ib1444f8b21d90a00dd1d775f5eac633c43f39741,Remove rhsm cli options,MERGED,2019-07-31 15:25:09.000000000,2019-08-01 05:02:17.000000000,2019-08-01 05:02:17.000000000,6,276,0,673847,1be46111e68d79f8e172a31f24ddd776c743a0a5,8,3,1,4,14985,Alex Schultz,mwhahaha,"Remove rhsm cli options

The code behind these options has been removed in tripleo-heat-templates
so we no longer need these cli options. Additionally we do not want
folks using them since they do nothing.

https://review.opendev.org/#/c/669951/

Change-Id: Ib1444f8b21d90a00dd1d775f5eac633c43f39741
"
openstack%2Fnova~master~Ibea4f6e47898f4868fead1f3c94785101e0950fd,openstack/nova,master,,Ibea4f6e47898f4868fead1f3c94785101e0950fd,fixed merge conflict,ABANDONED,2019-08-01 03:30:56.000000000,2019-08-01 04:50:13.000000000,,116,1,0,673938,80ec97f71b704e8f02e1e80ccd08aa98a00ae66e,3,1,1,7,27458,Li Liu,liliu,"fixed merge conflict

Change-Id: Ibea4f6e47898f4868fead1f3c94785101e0950fd
"
openstack%2Fsushy~master~I6609e5613e7657cf1f9772cea7cfb48923aac05e,openstack/sushy,master,02-cache-registries,I6609e5613e7657cf1f9772cea7cfb48923aac05e,Cache message registries,MERGED,2019-07-16 15:48:31.000000000,2019-08-01 04:25:04.000000000,2019-08-01 04:25:04.000000000,49,15,4,671091,ba1b8220e7d2de2f689ab014284e938ee8190709,14,4,3,2,26340,Ilya Etingof,etingof,"Cache message registries

Redfish message registries can be quite bulky. Depending on BMC's
versatility, fishing message registries can become expensive.

This patch caches once downloaded message registries for all
resources consuming them.

Change-Id: I6609e5613e7657cf1f9772cea7cfb48923aac05e
"
openstack%2Foctavia~master~I276188530a83598ed75560f02ed9d80ce9afca2f,openstack/octavia,master,http_proxy_to_wsgi,I276188530a83598ed75560f02ed9d80ce9afca2f,Add support for oslo_middleware http_proxy_to_wsgi,MERGED,2019-02-27 16:34:29.000000000,2019-08-01 04:21:52.000000000,2019-08-01 04:21:52.000000000,15,0,0,639736,ec83c69372d647aaeec02fea6eea29c7ee11115a,23,9,8,3,9373,Vlad Gusev,s10,"Add support for oslo_middleware http_proxy_to_wsgi

This sets up the HTTPProxyToWSGI middleware in front of Octavia API. The
purpose of this middleware is to set up the request URL correctly in
the case there is a proxy (For instance, a loadbalancer such as HAProxy)
in front of Octavia API.

So, when TLS connections are terminated at the proxy, and one tries to
get the versions from the '/' resource from Octavia API, one will notice
that the protocol is incorrect; It will show 'http' instead of 'https'.
So this middleware handles such cases.

The HTTPProxyToWSGI is off by default and needs to be enabled via a
configuration value.

It can be enabled with the option in octavia.conf:
[oslo_middleware]
enable_proxy_headers_parsing=True

Story: 2005105
Task: 29732
Change-Id: I276188530a83598ed75560f02ed9d80ce9afca2f
"
openstack%2Fbarbican~master~Ie9a9f7262b6909c919de68f3159422f7efd8ee8f,openstack/barbican,master,bugfix001,Ie9a9f7262b6909c919de68f3159422f7efd8ee8f,fix secret_type_doc,ABANDONED,2019-07-23 07:38:21.000000000,2019-08-01 02:44:09.000000000,,1,1,0,672211,82b1bd23c0be4520d4129528b1dd0ea28b9786f7,10,4,3,1,30736,HYSong,Shy,"fix secret_type_doc

The example to create secret type in offcial document by using single POST request is failed, because the RSA keypair created by OpenSSL is separated with '\n'.
It is necessary to remove '\n' before creating PUB_BASE64.

Change-Id: Ie9a9f7262b6909c919de68f3159422f7efd8ee8f
"
openstack%2Ftripleo-heat-templates~master~I8a20ce8785077824d7e6c8d851716f622e77788f,openstack/tripleo-heat-templates,master,bug/1838196,I8a20ce8785077824d7e6c8d851716f622e77788f,Change NeutronMechanismDrivers in ml2-ansible environments,MERGED,2019-07-28 15:22:35.000000000,2019-08-01 02:41:08.000000000,2019-08-01 02:41:07.000000000,5,4,0,673180,afcd787deb0223bf875183bdcc8160e76c2e7af2,29,6,2,2,8833,Rabi Mishra,rabi,"Change NeutronMechanismDrivers in ml2-ansible environments

This should have been done when we moved to ovn as the
default.

Note: Not sure why we maintain two different environments.
Probably should remove one in a subsequent patch.

Change-Id: I8a20ce8785077824d7e6c8d851716f622e77788f
Closes-Bug: #1838196
"
openstack%2Fneutron~master~I8daf498fa5ad29c088b90ece0e8971febad1877d,openstack/neutron,master,oslo_context,I8daf498fa5ad29c088b90ece0e8971febad1877d,Fix init of RequestConstructor in test_rpc.py,MERGED,2019-07-20 04:01:00.000000000,2019-08-01 02:17:41.000000000,2019-08-01 02:17:41.000000000,1,1,0,671880,e394c06de15c52976ecdcc6d60ba6e361a8f4531,15,8,2,1,1131,Brian Haley,brian-haley,"Fix init of RequestConstructor in test_rpc.py

test_rpc.py:348:15: E1123: Unexpected keyword argument 'tenant'
in constructor call (unexpected-keyword-arg)

'project_id' is the preferred name now.

Change-Id: I8daf498fa5ad29c088b90ece0e8971febad1877d
"
openstack%2Fpuppet-openstack-integration~master~If2f2d987b5857244d4bfb2e81144286b17dcb42f,openstack/puppet-openstack-integration,master,fix-zuul-cloner,If2f2d987b5857244d4bfb2e81144286b17dcb42f,"Revert ""Reparent puppet-openstack-base to legacy-base""",MERGED,2019-06-28 07:29:55.000000000,2019-08-01 01:39:46.000000000,2019-08-01 01:39:46.000000000,0,2,0,668105,8fa926cdc7434ab0855da65f999ec263f80a47c8,19,5,2,1,16137,Tobias Urdin,tobasco,"Revert ""Reparent puppet-openstack-base to legacy-base""

Let's see if it works after removing all zuul-cloner usage, need to do a DNM patch to test module unit jobs as well.

This reverts commit 2bb40bb6fea5978c24a6e98149176567c4ce9dd1.

Change-Id: If2f2d987b5857244d4bfb2e81144286b17dcb42f
"
openstack%2Fpuppet-octavia~stable%2Fqueens~I5c2629d9e7700fe1dd6f915bc257b1f058e40617,openstack/puppet-octavia,stable/queens,OctaviaServerCertsKeyPassphrase-32chars,I5c2629d9e7700fe1dd6f915bc257b1f058e40617,Configure 32 chars length server_certs_key_passphrase for Octavia,MERGED,2019-07-09 09:23:06.000000000,2019-08-01 01:13:44.000000000,2019-08-01 01:13:44.000000000,42,11,0,669824,4967222fc785f899e80c4c96b50d47d26625db35,15,4,2,3,6579,Nir Magnezi,nmagnezi,"Configure 32 chars length server_certs_key_passphrase for Octavia

This change is related to I886f2b8ac7092d9b3da38852e92a615d5666eea7
and Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989.

Related-Bug: #1833942

Change-Id: I5c2629d9e7700fe1dd6f915bc257b1f058e40617
(cherry picked from commit d9564d7c235bc3073ef6eb444a6f1561fb6dffc5)
(cherry picked from commit 381f1a34daec7001b4a7825bc708a4314619806a)
(cherry picked from commit 39b9d44e47309a485fdcdd35b5862159d58f9f1d)
"
openstack%2Ftripleo-ci~master~Ib305207dcd2b4626a7d7d340bc383dd176b11633,openstack/tripleo-ci,master,,Ib305207dcd2b4626a7d7d340bc383dd176b11633,Add conditional periodic-ness to tripleo jobs,MERGED,2019-07-24 13:55:20.000000000,2019-08-01 00:32:36.000000000,2019-08-01 00:32:36.000000000,3,1,8,672528,f8da1ddb7dcc657fa9df13b21b8286f3d9c62338,30,7,4,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add conditional periodic-ness to tripleo jobs

Sometimes we need to run a periodic job with repositories like
it's in regular check jobs, for example periodic jobs in tripleo-ci
which are forced currently to run with promotion repos:
""force_non_periodic"" variable in job shall force job to run as
""check"" and use regular repositories as any check job.

Sometimes we need to run a check job with promotion repositories
to debug it or to try it, instead of depending on some patch
let's use a job variable for that:
""force_periodic"" will force job to run as promotion job, using the
same repositories as any promotion job uses.

Change-Id: Ib305207dcd2b4626a7d7d340bc383dd176b11633
"
openstack%2Fpython-neutronclient~master~I7aa4566b8f2c81da6a00e664908506f5628cd0a1,openstack/python-neutronclient,master,switch-to-py3,I7aa4566b8f2c81da6a00e664908506f5628cd0a1,Switch functional job to python3,MERGED,2019-07-24 14:01:03.000000000,2019-07-31 23:52:31.000000000,2019-07-31 23:52:30.000000000,2,0,0,672532,1a8fdf355de233ccbc7aa0beb588fb02d436aa5c,8,4,1,2,841,Akihiro Motoki,amotoki,"Switch functional job to python3

Change-Id: I7aa4566b8f2c81da6a00e664908506f5628cd0a1
"
openstack%2Fpython-neutronclient~master~I714efd1bc14cbba85f7b4caf6834ce375ff89547,openstack/python-neutronclient,master,switch-to-py3,I714efd1bc14cbba85f7b4caf6834ce375ff89547,Convert legacy functional jobs to zuulv3,MERGED,2019-07-18 12:10:51.000000000,2019-07-31 23:52:30.000000000,2019-07-31 23:52:30.000000000,24,18,0,671468,6330cc1980958f57cb95684c8d7a1aaa89a7fbf6,14,5,4,2,841,Akihiro Motoki,amotoki,"Convert legacy functional jobs to zuulv3

This commit merges the legacy functional test jobs (core and adv-svcs)
into neutronclient-functional. FWaaS v1 was dropped in Stein and
adv-svcs job now checks only VPNaaS, so it looks too much to have
a separate job for VPNaaS.

Note that tls-proxy is disabled as the base class for functional tests
(neutronclient.tests.functional.base.ClientTestBase) does not support
HTTPS endpoints. This can be tackled separately.

Change-Id: I714efd1bc14cbba85f7b4caf6834ce375ff89547
"
openstack%2Foctavia-lib~master~I9b601fe2294de2536127a6856f101f4dd0bf4e91,openstack/octavia-lib,master,,I9b601fe2294de2536127a6856f101f4dd0bf4e91,Add constants to octavia-lib,MERGED,2019-07-30 20:29:08.000000000,2019-07-31 23:52:22.000000000,2019-07-31 23:52:22.000000000,90,0,0,673681,c467bf04858c8e059a9ed8c126083f5980bfbcf5,12,4,3,2,11628,Michael Johnson,johnsom,"Add constants to octavia-lib

This patch adds some missing constants to octavia-lib for the
provider driver API fields.

Change-Id: I9b601fe2294de2536127a6856f101f4dd0bf4e91
"
openstack%2Fpython-tripleoclient~master~Icd48438719d6e0e07df0cacdf68df0fc00e19fb7,openstack/python-tripleoclient,master,bug/1768036,Icd48438719d6e0e07df0cacdf68df0fc00e19fb7,Refactor overcloudrc location,ABANDONED,2018-05-02 13:10:25.000000000,2019-07-31 23:46:06.000000000,,20,22,0,565750,9576d1cebfd6b8662f201500b621c9dd05fb6010,5,4,1,9,20775,Carlos Camacho,ccamacho,"Refactor overcloudrc location

We are using deployment.overcloudrc
on both deployment and upgrade
workflows, we move the overcloudrc
generation to a common library.

Change-Id: Icd48438719d6e0e07df0cacdf68df0fc00e19fb7
Closes-Bug: 1768036
"
openstack%2Fpython-tripleoclient~master~I2d63b2ced361acd9f8f816af397188c124f36291,openstack/python-tripleoclient,master,bug/1768901,I2d63b2ced361acd9f8f816af397188c124f36291,Fixes ssh admin enablement,ABANDONED,2018-05-09 22:08:54.000000000,2019-07-31 23:45:59.000000000,,121,21,0,567436,4987d211668d491497fb5a95cf3ab76926c4378c,15,5,3,3,17280,Tim Rozet,trozet,"Fixes ssh admin enablement

Rather than using subprocess to call a bash script in THT to configure
ssh access, this patch converts the logic to be done in python.  This
gives better error handling and explicit messages upon failure.

Closes-Bug: 1768901

Change-Id: I2d63b2ced361acd9f8f816af397188c124f36291
Signed-off-by: Tim Rozet <trozet@redhat.com>
"
openstack%2Fpython-tripleoclient~master~I4f37cba56d756b7d7565e5951b46067b924a8b1e,openstack/python-tripleoclient,master,582088,I4f37cba56d756b7d7565e5951b46067b924a8b1e,Integrate the pre-upgrade and post-upgrade validations in upgrades CLI,ABANDONED,2018-07-12 08:15:49.000000000,2019-07-31 23:45:52.000000000,,93,0,3,582088,a2a96969731a1311c8cfa38f2ff69d9cc615751e,23,6,9,4,20775,Carlos Camacho,ccamacho,"Integrate the pre-upgrade and post-upgrade validations in upgrades CLI

This patch enables the execution of the pre-upgrade and post-upgrade
validations in the upgrades workflow.

The validations executions are added before the Undercloud upgrade
and after the converge step in both Overcloud upgrades and fast forward upgrades.

Depends-On: I81ba3a8c287712e0248476e64da0136fc09e26d5
Change-Id: I4f37cba56d756b7d7565e5951b46067b924a8b1e
"
openstack%2Fpython-tripleoclient~master~I2468511c7fb99a2d782f825e0cbf96b3c83fc928,openstack/python-tripleoclient,master,export-config-container,I2468511c7fb99a2d782f825e0cbf96b3c83fc928,[WIP] Export overcloud config to container,ABANDONED,2018-09-08 04:27:21.000000000,2019-07-31 23:45:50.000000000,,163,1,0,600895,7ffcc2a0d551d2feaf26b3130ec41022c868ca54,16,4,5,4,20868,Jill Rouleau,jillr,"[WIP] Export overcloud config to container

This change exports the overcloud config, from config-download, and
all dependencies, to allow the overcloud deployment to be run independant
of an undercloud node.

Additionally supports inclusion of an extra_vars file which will be layered
into the config-download project directory, to allow overriding of ansible
vars.

Depends-On: I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2
Change-Id: I2468511c7fb99a2d782f825e0cbf96b3c83fc928
"
openstack%2Fpython-tripleoclient~master~I91a592f4cd17cf247d444b39d8a2a53ba99a00dc,openstack/python-tripleoclient,master,,I91a592f4cd17cf247d444b39d8a2a53ba99a00dc,Add some client libraries as requirements,ABANDONED,2018-09-17 15:01:26.000000000,2019-07-31 23:45:49.000000000,,4,0,0,603162,4913f8fcd418a61ad6038f0e8eb7e8e8d717d6ce,11,8,2,1,2813,Mehdi Abaakouk,sileht,"Add some client libraries as requirements

Since we use containers, client libraries are not installed anymore on
Undercloud host because nothing depends on them anymore outside
containers.

Commands like ""openstack metric ..."", ""openstack event ..."" no longuer
work by default. We have to manually install them, this have been
considered as a regression.

This change adds them to requirements, so when tripleoclient is
installed, all clients will be there.

Change-Id: I91a592f4cd17cf247d444b39d8a2a53ba99a00dc
"
openstack%2Fpython-tripleoclient~master~Ied2335f6c4d1fbdc4dd41d8bb11bee5c49c7e5d1,openstack/python-tripleoclient,master,poc/remove/heat,Ied2335f6c4d1fbdc4dd41d8bb11bee5c49c7e5d1,WIP PoC that initiate the work to deploy tripleo w/o heat,ABANDONED,2018-12-07 21:10:47.000000000,2019-07-31 23:45:47.000000000,,147,17,0,623581,bd322e289dff89fb80a46a33c6ce6d39c9831909,5,4,1,2,16515,mbu,matbu,"WIP PoC that initiate the work to deploy tripleo w/o heat

This first draft experiment the way to not use heat to deploy
TripleO.

The starting point of this work is to have the THT files
and agregate the informations and datas from it to deploy
TripleO.

There is several ways to proceed:
* 1st could be: to use heat engine to generate and handle
the templates files, to render and feed all the datas
and then just build playbook from the outputs with the
config download library.
* 2nd could be: to not use heat engine, but just create
a parser that render the template values and then give
a Stack object the config library (that what the code
does in this review)
* 3rd could be: To create the basic Openstack objects
(network & nova server) from the network_data and role_data,
and then call a stack.preview that can render and feed
all the templates with the right. The cons of this method is
that we are still linked with the heat stack code but the Pros
is that Heat manage really well the HOT functions rendering.

This PoC explore those 3 ways to avoid the used of Heat.
In the tripleo_deploy.py file, the code gets from the
THT rendered the parameters, resources and services config
feed the values, build the output and return a stack object
that can be used by the Config download library.
Then the normal code of config download runs and create
the playbook and files.

There is a distinction between the Openstack objects creation
and the Services outputs.
The openstack objects creation can be:
* 1 handle by feeding the required data in the network_data file
and role_data
* 2 handle by parsing the templates and map the heat resources to
Openstack Ansible syntax.
The result would be to generate from THT, a set of Ansible tasks
that creates the required neutron networks and subnets, nova
server and so on.
The code for this is not in this review, but I have build a POC
and a resource mapping with a simple stack. (not present here)

The PROs of this approach is to decrease the layer and complexity
, to get flexibility on how tripleo is built
The Cons (the major one that i see) is for the deletion of TripleO,
since each openstack objects is creation via ansible or shade,
each deletion should be operate by them.

Change-Id: Ied2335f6c4d1fbdc4dd41d8bb11bee5c49c7e5d1
"
openstack%2Fpython-tripleoclient~master~Ie69ba77413885698326fabf82a6b7c1ad98109fa,openstack/python-tripleoclient,master,bug/1635409,Ie69ba77413885698326fabf82a6b7c1ad98109fa,Remove merging environment files during deploy,ABANDONED,2018-12-12 10:24:47.000000000,2019-07-31 23:45:45.000000000,,111,83,0,624625,14a6a6840f4f34100f9d7e9c3168c94afe2e1ebe,5,4,1,2,11082,Kamil Sambor,ksambor,"Remove merging environment files during deploy

Remove merging files and replace it by copying
them into user-environment. This will enable
merging params by heat instead doing this inside
client.

Change-Id: Ie69ba77413885698326fabf82a6b7c1ad98109fa
Closes-Bug: #1635409
Co-Authored-By: Steven Hardy <shardy@redhat.com>
"
openstack%2Fpython-tripleoclient~master~Idde8a92808b2a00283f1937885c1a9fcf9b28c7a,openstack/python-tripleoclient,master,bp/all-in-one,Idde8a92808b2a00283f1937885c1a9fcf9b28c7a,WIP: Handle config loading in tripleo deploy,ABANDONED,2018-05-18 23:13:36.000000000,2019-07-31 23:45:35.000000000,,36,1,0,569535,174632622f985a2c81c5a224ebc4583ed8a3fb24,29,6,7,2,14985,Alex Schultz,mwhahaha,"WIP: Handle config loading in tripleo deploy

Change-Id: Idde8a92808b2a00283f1937885c1a9fcf9b28c7a
"
openstack%2Ftripleo-quickstart~master~I24ef3b9e13dfe805847b59f90c903e2e6859e835,openstack/tripleo-quickstart,master,rhel8,I24ef3b9e13dfe805847b59f90c903e2e6859e835,[RHEL8] Fixed rdo_dlrn in release file,MERGED,2019-07-31 06:21:03.000000000,2019-07-31 23:43:32.000000000,2019-07-31 23:43:32.000000000,1,1,2,673738,e6ed118bba71bc0952c5bd2661f49b5ba82a7ce6,16,9,3,1,12393,chandan kumar,chkumar246,"[RHEL8] Fixed rdo_dlrn in release file

dlrn_hash_path_newest is used in the master release config
but promotion-testing-hash should use dlrn_hash_path.

It fixes the RHEL-8 promotion pipeline.

Change-Id: I24ef3b9e13dfe805847b59f90c903e2e6859e835
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fpython-tripleoclient~stable%2Frocky~I40ee028366222f38f5ba1db58d171f98be75d009,openstack/python-tripleoclient,stable/rocky,,I40ee028366222f38f5ba1db58d171f98be75d009,Remove execution from workflow message send,MERGED,2019-06-06 13:22:22.000000000,2019-07-31 23:43:32.000000000,2019-07-31 23:43:32.000000000,197,56,0,663657,99ac7f9e119c5366ed0b1ebb112c7ee90be863ec,17,7,1,12,9712,Dougal Matthews,dougal,"Remove execution from workflow message send

Serializing all the execution in a message can make the message too big.
This change was done in tripleo-common. this supports that change
This change still supports the old format and is backwards compatible.

Partial-Bug: #1812172
Change-Id: I40ee028366222f38f5ba1db58d171f98be75d009
(cherry picked from commit cad7916ce8d21295992c2efe0e18657c6e56604d)
"
openstack%2Fpython-tripleoclient~stable%2Frocky~Ie6473d6a1044cdf76552d62645b4d63da2df9398,openstack/python-tripleoclient,stable/rocky,,Ie6473d6a1044cdf76552d62645b4d63da2df9398,Filter messages not from waiting execution,MERGED,2019-06-06 13:22:22.000000000,2019-07-31 23:21:33.000000000,2019-07-31 23:21:33.000000000,145,22,0,663656,e9849d04c7d234b7289e387f9acee0aa1fbac028,23,6,1,15,9712,Dougal Matthews,dougal,"Filter messages not from waiting execution

The convention is to use the same queue name (""tripleo"") for all
workflows. This can lead to messages showing from other tripleoclient
triggered workflows showing up during message polling if multiple
workflows are running at the same time.

This patch adds a check that will filter out any messages that do not
belong to the execution that is being waited on by comparing the
execution id with the root_execution_id returned in the execution
payload.

Depends-On: Icbe80c338d69efc6ce8fceb0f73f833bec588536
Change-Id: Ie6473d6a1044cdf76552d62645b4d63da2df9398
Related-Bug: #1794277
(cherry picked from commit 339c1f334c5b4dba7a95740e35b63aab931601a1)
"
openstack%2Fpuppet-tripleo~master~I3adaa442b8c53ff902761d1dba283a79494c8ae6,openstack/puppet-tripleo,master,bug/1837099,I3adaa442b8c53ff902761d1dba283a79494c8ae6,Allow for customization of the Manila CephFS pool name,MERGED,2019-07-18 18:14:00.000000000,2019-07-31 23:16:47.000000000,2019-07-31 22:51:30.000000000,2,1,0,671538,e3b39a8d67466ff6ccebaf95fa1ed527582e6389,19,8,2,1,6796,Giulio Fidente,gfidente,"Allow for customization of the Manila CephFS pool name

Manila needs to know the CephFS pool name, which the deployer
might want to customize when the Ceph cluster is externally managed.

Change-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Partial-Bug: 1837099
"
openstack%2Frequirements~master~Id3d711b5aadb504eea8bac9b356ffecfb2de553e,openstack/requirements,master,new-release,Id3d711b5aadb504eea8bac9b356ffecfb2de553e,update constraint for ironic-lib to new release 2.19.0,MERGED,2019-07-31 15:01:20.000000000,2019-07-31 22:45:56.000000000,2019-07-31 22:45:56.000000000,1,1,0,673839,468e3a3b74aee8b46260b909354e2c0ec38ab88c,7,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for ironic-lib to new release 2.19.0

Change-Id: Id3d711b5aadb504eea8bac9b356ffecfb2de553e
meta:version: 2.19.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Change-Id: I00cd63593ad2bb7243cf12789983d73c200b4f14
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~I798304a472df41b86a88611c97c2c99131faa0ad,openstack/puppet-tripleo,stable/queens,add_dateext-stable/stein-stable/rocky-stable/queens,I798304a472df41b86a88611c97c2c99131faa0ad,Add dateext and related parameters for logrotate,MERGED,2019-07-16 00:50:02.000000000,2019-07-31 22:35:25.000000000,2019-07-31 22:35:25.000000000,29,0,0,670929,c939f4e61d67f535390f2ce30700e9210f84fe86,27,6,1,3,25613,Keigo Noha,knoha,"Add dateext and related parameters for logrotate

logrotate.pp should support dateext and related parameters.
By this change, a filename of a rotated file can be easily distinguished
by rotated date.

Change-Id: I798304a472df41b86a88611c97c2c99131faa0ad
(cherry picked from commit 1eafeb67bf6d613d891fc26ee4452cded8115741)
(cherry picked from commit 964fe8cc62192e180a93f215e8bf038cf7ba0ad8)
(cherry picked from commit 9d62bf52a4e3b3d095a6a8231cd0508d80a301ad)
"
openstack%2Fnova~master~I6dfa0b226ab0b99864fc27209ebb7b73e3f73512,openstack/nova,master,bp/request-spec-use-by-compute,I6dfa0b226ab0b99864fc27209ebb7b73e3f73512,Remove Request Spec Migration upgrade status check,MERGED,2019-07-30 17:01:09.000000000,2019-07-31 22:24:27.000000000,2019-07-31 22:24:27.000000000,2,174,0,673580,2e57826a7767a0af8e2c8dbc3f4af6ac4325f01b,25,11,1,4,6873,Matt Riedemann,mriedem,"Remove Request Spec Migration upgrade status check

The ""Request Spec Migration"" upgrade status check was added
in Rocky [1] and the related online data migration was removed
in Stein [2]. Now that we're in Train we should be able to
remove the upgrade status check.

The verify install docs are updated to remove the now-removed
check along with ""Console Auths"" which were removed in Train [3].

[1] I1fb63765f0b0e8f35d6a66dccf9d12cc20e9c661
[2] Ib0de49b3c0d6b3d807c4eb321976848773c1a9e8
[3] I5c7e54259857d9959f5a2dfb99102602a0cf9bb7

Change-Id: I6dfa0b226ab0b99864fc27209ebb7b73e3f73512
"
openstack%2Fneutron~stable%2Fstein~Ie581809f24f9547b55a87423dac7db933862d66a,openstack/neutron,stable/stein,bug/1828375,Ie581809f24f9547b55a87423dac7db933862d66a,Retry trunk status updates failing with StaleDataError,MERGED,2019-07-30 21:37:40.000000000,2019-07-31 22:09:20.000000000,2019-07-31 22:09:20.000000000,95,5,0,673696,d090fb9a3cbad6c4c3f5c524907a94cb5f95b205,17,7,1,2,11975,Slawek Kaplonski,slaweq,"Retry trunk status updates failing with StaleDataError

This is an approximate partial fix to #1828375.

update_trunk_status and update_subport_bindings rpc messages are
processed concurrently and possibly out of order on the server side.
Therefore they may race with each other.

The status update race combined with
1) the versioning feature of sqlalchemy used in the standardattributes
   table and
2) the less than serializable isolation level of some DB backends (like
   MySQL InnoDB)
does raise StaleDataErrors and by that leaves some trunk subports in
DOWN status.

This change retries the trunk status update (to BUILD) blindly when
StaleDataError was caught. In my local testbed this practically
fixes #1828375.

However theoretically the retry may cover up other real errors (when the
cause of the StaleDataError was a different status not just a different
revision count).

To the best of my understanding a proper fix would entail guaranteeing
the in order processing of the above rpc messages - which likely won't
ever happen.

I'm not sure at all if this change is worth merging - let me know what
you think.

Conflicts:
    neutron/services/trunk/rpc/server.py
    neutron/tests/unit/services/trunk/rpc/test_server.py

Change-Id: Ie581809f24f9547b55a87423dac7db933862d66a
Partial-Bug: #1828375
(cherry picked from commit 618e24e241241c7323702a815542f11e91fd32a1)
"
openstack%2Fnova~master~Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943,openstack/nova,master,my-own-personal-alternative-universe,Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943,Move adding vlans to interfaces to privsep.,MERGED,2019-02-07 06:18:20.000000000,2019-07-31 21:56:10.000000000,2019-07-31 21:56:10.000000000,30,17,9,635436,90f98b8447950ce60632c864d5b221825153bd10,205,19,25,7,2271,Michael Still,mikalstill,"Move adding vlans to interfaces to privsep.

Rinse, repeat.

Change-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943
"
openstack%2Fhorizon~master~I987b39d620a037834cb2d05a234a1ad089276108,openstack/horizon,master,cleanup-utils,I987b39d620a037834cb2d05a234a1ad089276108,Cleanup unused util functions,MERGED,2019-06-21 14:55:42.000000000,2019-07-31 21:48:05.000000000,2019-07-01 10:47:59.000000000,0,305,0,666858,26eebd4abbbabc1475bae61c51d1cfcf14dba770,12,4,3,7,1736,Ivan Kolodyazhny,e0ne,"Cleanup unused util functions

There are a lot of util funtions that are not used neither in Horizon,
nor in plugins. This patch removes them.

Change-Id: I987b39d620a037834cb2d05a234a1ad089276108
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I01a95be975011d2419a523da572503e0ebcfa49b,openstack/tripleo-heat-templates,stable/stein,,I01a95be975011d2419a523da572503e0ebcfa49b,Move the Hiera symlink task from post configuration to deployment steps.,MERGED,2019-07-31 12:35:43.000000000,2019-07-31 21:46:06.000000000,2019-07-31 21:46:06.000000000,7,30,0,673804,eb2cfcdb4dde474b8d98890a9241a04b57423660,8,4,1,3,25877,Luke Short,ekultails,"Move the Hiera symlink task from post configuration to deployment steps.

This helps to consolidate the Undercloud and Standalone deployments. It
also avoids an issue where the Ansible Python interperter cannot be
found.

Conflicts:
    common/deploy-steps.j2
    extraconfig/post_deploy/standalone_post.yaml

Change-Id: I01a95be975011d2419a523da572503e0ebcfa49b
Resolves: rhbz#1733608
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 3b813d845cba18977afea00ca62ea6e6d6d5ba45)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I1353020f874b348afd98e7ed3832033f85a5267f,openstack/tripleo-heat-templates,stable/queens,saf_client_side,I1353020f874b348afd98e7ed3832033f85a5267f,QDR for metrics collection purposes,MERGED,2019-03-15 13:32:10.000000000,2019-07-31 21:46:04.000000000,2019-07-31 21:46:04.000000000,281,7,1,643582,ed9797c9a8f6260c3626224cc1139d611955323c,31,5,6,45,5241,Martin Magr,mmagr,"QDR for metrics collection purposes

This patch adds composable new service (QDR) for containerized deployments.
Metrics QDR will run on each overcloud node in 'edge' mode. This basically
means that there is a possibility that there will be two QDRs running
on controllers in case that oslo messaging is deployed. This is a reason why
we need separate composable service for this use case.

Partial-Bug: #1822054
Depends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd
Depends-On: I73f988d05840eca44949f13f248f86d094a57c46
Change-Id: I1353020f874b348afd98e7ed3832033f85a5267f
(cherry picked from commit b76d7623ac15c94f80fbbc1a5701331147fee52d)
"
openstack%2Ftripleo-common~stable%2Fqueens~I73f988d05840eca44949f13f248f86d094a57c46,openstack/tripleo-common,stable/queens,qdr-collectd-queens,I73f988d05840eca44949f13f248f86d094a57c46,Make MetricsQdr service use qdrouterd image,MERGED,2019-03-15 13:42:28.000000000,2019-07-31 21:46:03.000000000,2019-07-31 21:46:03.000000000,3,0,0,643586,1bcb125384ee2f270c9a3e705fe50d911ceb6cd3,10,4,1,1,5241,Martin Magr,mmagr,"Make MetricsQdr service use qdrouterd image

There is no reason to not have MetricsQdr service use the same image
as Qdrouterd service for Oslo messaging.

Change-Id: I73f988d05840eca44949f13f248f86d094a57c46
(cherry picked from commit 3406cf04803482bf91c2a0ca1ef954f697a90a49)
"
openstack%2Fopenstack-helm~master~Id3cda737895451c2261bf9adfe54995db28c2f63,openstack/openstack-helm,master,,Id3cda737895451c2261bf9adfe54995db28c2f63,Cinder: Make image conversion dir an emptydir,MERGED,2019-07-31 20:06:21.000000000,2019-07-31 21:43:35.000000000,2019-07-31 21:43:35.000000000,4,0,0,673906,d4cf8f8c71ac21ccb12fdf6776398d0d7da0c4c8,12,8,1,1,23928,Pete Birley,portdirect,"Cinder: Make image conversion dir an emptydir

This PS makes the image conversion directory an emptydir, so that
we can use read only containers and sill convert images from glance
into volumes.

Change-Id: Id3cda737895451c2261bf9adfe54995db28c2f63
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fpuppet-ceph~stable%2Fmimic~If78f60687f8979cc53a69718318d5d3aa9fed777,openstack/puppet-ceph,stable/mimic,fix-mimic-spec-helper,If78f60687f8979cc53a69718318d5d3aa9fed777,Use stable/rocky spec helper,MERGED,2019-06-26 19:31:50.000000000,2019-07-31 21:38:03.000000000,2019-07-31 21:38:03.000000000,1,0,0,667714,021cc6425e31921fec3ed11fc7ffb6a2691b04cb,11,3,3,1,14985,Alex Schultz,mwhahaha,"Use stable/rocky spec helper

Depends-On: https://review.opendev.org/#/c/673876/
Change-Id: If78f60687f8979cc53a69718318d5d3aa9fed777
"
openstack%2Fpuppet-ceph~stable%2Fmimic~I1a0016a330daee98b79124190e8d0e069d1bd01e,openstack/puppet-ceph,stable/mimic,create-mimic,I1a0016a330daee98b79124190e8d0e069d1bd01e,Update .gitreview for stable/mimic,MERGED,2019-03-25 21:21:06.000000000,2019-07-31 21:38:03.000000000,2019-07-31 21:38:03.000000000,1,0,0,647612,7c99266d828edf1f87cc63b077e0baedd7ceabc2,32,4,12,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/mimic

Depends-On: https://review.opendev.org/#/c/667387/
Change-Id: I1a0016a330daee98b79124190e8d0e069d1bd01e
"
openstack%2Ftripleo-common~master~I77f98455ebf402dbeea955c6d8203ebbddf4c051,openstack/tripleo-common,master,bp/multiarch-support,I77f98455ebf402dbeea955c6d8203ebbddf4c051,Import image name functions and update_nodes_deploy_data from tripleoclient,ABANDONED,2018-01-25 07:00:47.000000000,2019-07-31 21:14:41.000000000,,308,0,0,537768,9f59831b5376cb6e70a74917d8de06627a903506,17,5,3,4,12898,Tony Breeds,tonyb,"Import image name functions and update_nodes_deploy_data from tripleoclient

These functions were developed in tripleoclient but belong in
tripleo-common duplicated them here.  Once this review is released and
tripleoclient can rely on these function being available here we can
remove them from tripleoclient.

Change-Id: I77f98455ebf402dbeea955c6d8203ebbddf4c051
"
openstack%2Ftripleo-common~master~I69c4aa082e019099b6d70d201153b55e988635a6,openstack/tripleo-common,master,bp/multiarch-support,I69c4aa082e019099b6d70d201153b55e988635a6,WiP: Use update_nodes_deploy_data,ABANDONED,2018-01-25 07:00:47.000000000,2019-07-31 21:14:39.000000000,,55,0,0,537769,c95d56ffb9ba74aebd913317e4d772f2dd74ff1f,18,4,3,2,12898,Tony Breeds,tonyb,"WiP: Use update_nodes_deploy_data

Change-Id: I69c4aa082e019099b6d70d201153b55e988635a6
"
openstack%2Ftripleo-common~master~Ib0072f8f43af4df998b69f80263dd77bed186fae,openstack/tripleo-common,master,,Ib0072f8f43af4df998b69f80263dd77bed186fae,Remove ignore_errors for deployment run,ABANDONED,2018-03-22 07:47:54.000000000,2019-07-31 21:14:36.000000000,,0,1,2,555184,a471b67a9393b8b333563bee0f7716eb8736b35e,8,7,1,1,21151,zenghui.shi,zshi,"Remove ignore_errors for deployment run

Errors from this deployment task shall be
considered as fatal since it includes
SoftwareDeploymentGroup resources that are
not from deploy-steps.j2, such as:

Pre_deployments:

  - NetworkDeployment
  - NovaComputeUpgradeInitDeployment
  - UpdateDeployment
  - NovaComputeDeployment
  - SshHostPubKeyDeployment
  - ComputeHostsDeployment
  - ComputeSshKnownHostsDeployment
  - ComputeAllNodesDeployment
  - ComputeAllNodesValidationDeployment
  - ComputeHostPrepDeployment
  - ComputeArtifactsDeplo

Post_deployments:

  - ExtraDeployments

Any failure from above resources may cause
unexpected results. and the outer loop of
these tasks in deploy-steps.j2 has
any_errors_fatal flag set to yes.

Change-Id: Ib0072f8f43af4df998b69f80263dd77bed186fae
"
openstack%2Ftripleo-common~master~I2c656ec15c60aee58e3b21f515b4137ebbd29ac8,openstack/tripleo-common,master,change-put-by-upload,I2c656ec15c60aee58e3b21f515b4137ebbd29ac8,WIP Change put_object by upload,ABANDONED,2018-04-09 18:24:25.000000000,2019-07-31 21:14:35.000000000,,75,7,0,559809,0ffc1abdeafb1e500f7dd71c8ddcf7862e3d0a1a,5,3,1,2,20775,Carlos Camacho,ccamacho,"WIP Change put_object by upload

Changing the client implementation for the
service implementation for the swift
upload files.

This will allow uploading big files (+5GB)

Change-Id: I2c656ec15c60aee58e3b21f515b4137ebbd29ac8
"
openstack%2Ftripleo-common~master~If81e26af9fa3053947d544985dbbe2b0c5d8b957,openstack/tripleo-common,master,,If81e26af9fa3053947d544985dbbe2b0c5d8b957,WIP: add mistral action to list next index for each role,ABANDONED,2018-05-04 18:03:00.000000000,2019-07-31 21:14:33.000000000,,38,0,0,566374,17af5216902fb02640e3b9347ef7bd0dffcf1a7c,7,5,1,2,23811,Oliver Walsh,owalsh,"WIP: add mistral action to list next index for each role

Change-Id: If81e26af9fa3053947d544985dbbe2b0c5d8b957
"
openstack%2Ftripleo-common~master~Id86088a4703e59bff663a0238673d3df9a02efb5,openstack/tripleo-common,master,bug/1782344,Id86088a4703e59bff663a0238673d3df9a02efb5,WIP - Group sudoers by aliases,ABANDONED,2018-07-19 13:09:23.000000000,2019-07-31 21:14:31.000000000,,12,8,0,583956,d4dfa660220a844703c505dc0f3597c58606361f,3,3,1,1,20775,Carlos Camacho,ccamacho,"WIP - Group sudoers by aliases

Group the sudoers file by aliases for better understanding
and readability.

Change-Id: Id86088a4703e59bff663a0238673d3df9a02efb5
Closes-Bug: 1782344
Co-Authored-By: Sergii Golovatiuk <sgolovat@redhat.com>
"
openstack%2Ftripleo-common~master~I6afa91cbc5e351c7fc3e47f2bd4b04079709f555,openstack/tripleo-common,master,user-plan-management,I6afa91cbc5e351c7fc3e47f2bd4b04079709f555,:Update user plan with env and settings informations,ABANDONED,2018-07-13 09:08:42.000000000,2019-07-31 21:14:14.000000000,,111,0,0,582473,02f542ca7ebfc4e9aee6a3b7a8fcc9fe96a03ed8,10,3,4,3,16515,mbu,matbu,":Update user plan with env and settings informations

Commit message in WIP
The goal of this review is stored and update the
env files provided by the user, stored the settings
to then used it for the life cycle management of
the plan.

A refactoring change will be pushed in the client
side, to remove useless code and add the keep_env
behavior to true

Change-Id: I6afa91cbc5e351c7fc3e47f2bd4b04079709f555
"
openstack%2Ftripleo-common~master~I883056f770f0ae3789fef8a0a1f4c3be1a376510,openstack/tripleo-common,master,rocky-os-volume-api-version,I883056f770f0ae3789fef8a0a1f4c3be1a376510,Update OS_VOLUME_API_VERSION for Rocky,ABANDONED,2018-08-09 20:52:47.000000000,2019-07-31 21:14:12.000000000,,1,1,0,590511,1b014163fc9e354f295868061b9cbd3035ceed94,12,5,1,1,21129,Alan Bishop,ASBishop,"Update OS_VOLUME_API_VERSION for Rocky

Update OS_VOLUME_API_VERSION to highest microversion supported in Rocky
per [1].

[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/rest_api_version_history.rst#355-maximum-in-rocky

Change-Id: I883056f770f0ae3789fef8a0a1f4c3be1a376510
"
openstack%2Ftripleo-common~master~I04966bd28a6ca32bda7b416374e9550f79b0483d,openstack/tripleo-common,master,remove/heat,I04966bd28a6ca32bda7b416374e9550f79b0483d,WIP Part of remove heat POC,ABANDONED,2018-12-07 20:53:04.000000000,2019-07-31 21:14:10.000000000,,5,1,0,623577,da8164b739133146a99a7fdf1bbb6844062649f1,4,3,1,1,16515,mbu,matbu,"WIP Part of remove heat POC

Change-Id: I04966bd28a6ca32bda7b416374e9550f79b0483d
"
openstack%2Ftripleo-common~master~Ifbcafff2d0a6b8c6ce2bb8a9d62fd737b78c8988,openstack/tripleo-common,master,modify-playbook,Ifbcafff2d0a6b8c6ce2bb8a9d62fd737b78c8988,Tweak modify playbook,ABANDONED,2018-09-10 21:04:50.000000000,2019-07-31 21:14:08.000000000,,6,2,1,601426,79ed289a96a023482eac39a3ac4cf850baed819e,36,9,6,2,4571,Steve Baker,steve-stevebaker,"Tweak modify playbook

This change does the following:
- uses the recommended approach for a local connection to
  avoid a warning about localhost
- switches off fact gathering for a saving of 5 seconds per play

Change-Id: Ifbcafff2d0a6b8c6ce2bb8a9d62fd737b78c8988
"
openstack%2Ftripleo-common~master~Ib37466e78242f43f72a05bb32a6ce5ad9da743e5,openstack/tripleo-common,master,,Ib37466e78242f43f72a05bb32a6ce5ad9da743e5,WIP: Add unit test for upload with 404 http code,ABANDONED,2019-02-12 16:17:17.000000000,2019-07-31 21:14:07.000000000,,11,0,0,636369,d8a74ab615c8afcb88e6a14bc56c55aec59c7154,4,3,1,1,27898,Quique Llorente,quiquell,"WIP: Add unit test for upload with 404 http code

Change-Id: Ib37466e78242f43f72a05bb32a6ce5ad9da743e5
"
openstack%2Ftripleo-common~master~I3d5eac900afc72e79d1e342e000240d377d13c07,openstack/tripleo-common,master,,I3d5eac900afc72e79d1e342e000240d377d13c07,"WIP, opendaylight container failed to build stein",ABANDONED,2019-04-09 21:02:53.000000000,2019-07-31 21:14:05.000000000,,1,35,0,651379,895bf8fa182072f5f56346a6a9bda88084d55a5e,4,3,1,3,9592,wes hayutin,weshayutin,"WIP, opendaylight container failed to build stein

Getting container build issues on opendaylight.
Wondering how to proceed here.

Change-Id: I3d5eac900afc72e79d1e342e000240d377d13c07
"
openstack%2Ftripleo-common~master~I50f33b0074b147ad3c902b372f8c747fa88811b4,openstack/tripleo-common,master,plan_speedup,I50f33b0074b147ad3c902b372f8c747fa88811b4,WIP: Use process-templates.py and cache templates to speed up plan ops.,ABANDONED,2018-07-09 22:53:41.000000000,2019-07-31 21:14:03.000000000,,762,781,20,581153,f6c90d5e57aa0b77955e6ea7a6f39889db48ff42,61,14,18,14,2011,Ian Main,imain,"WIP: Use process-templates.py and cache templates to speed up plan ops.

Instead of storing the templates in the swift container we store
the whole tarball as a single file.  We also have a local cache of
the templates that we use for some operations.  Also templates are
now processed using process-templates.py instead of the code here.
This speeds up template processing functions drastically which makes
the UI experience much better.

Depends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0
Co-Authored-By: Dan Prince <dprince@redhat.com>
Co-Authored-By: Brad P. Crochet <brad@redhat.com>

Change-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I070f9e95d1dc0c617da82ddaf1ba854be7624117,openstack/tripleo-heat-templates,stable/pike,keystone-only-stable/pike,I070f9e95d1dc0c617da82ddaf1ba854be7624117,Match Net:SoftwareConfig resource in scenario000 to other scenarios,ABANDONED,2018-04-05 19:19:13.000000000,2019-07-31 21:07:19.000000000,,2,2,0,559155,94053b26bf04364818c28e4c2cc1de26264ff807,5,4,1,1,12715,John Trowbridge,trown,"Match Net:SoftwareConfig resource in scenario000 to other scenarios

Change-Id: I070f9e95d1dc0c617da82ddaf1ba854be7624117
"
openstack%2Ftripleo-heat-templates~master~Ica59111b2299739660e2634d3cee3b3285b0b579,openstack/tripleo-heat-templates,master,,Ica59111b2299739660e2634d3cee3b3285b0b579,WIP DNR pre_update non-rolling task,ABANDONED,2018-07-16 21:24:38.000000000,2019-07-31 21:07:17.000000000,,51,0,0,583048,1208740d82e9d678935fb915113174b9fcfde068,5,5,1,4,20172,Michele Baldessari,michele,"WIP DNR pre_update non-rolling task

Some cases seem to be cropping up where doing a node-by-node rolling
update just does not cut it anymore:
- certain minor versions of rabbitmq are incompatible and need a global
  stop, update, start
- pacemaker rebases need a special ""update core cluster on all hosts
  before any bundles""

Change-Id: Ica59111b2299739660e2634d3cee3b3285b0b579
"
openstack%2Ftripleo-heat-templates~master~I3bb1017dead37ec638125be9268ddfcb934ffafd,openstack/tripleo-heat-templates,master,,I3bb1017dead37ec638125be9268ddfcb934ffafd,Deploy RGW's Swift compatibility API on / in scenario004,ABANDONED,2018-07-18 14:14:55.000000000,2019-07-31 21:07:15.000000000,,3,0,0,583587,1cda97d6de8ea2b8ad3b4f3b609d641c3a4d1271,7,8,1,1,6796,Giulio Fidente,gfidente,"Deploy RGW's Swift compatibility API on / in scenario004

Change-Id: I3bb1017dead37ec638125be9268ddfcb934ffafd
"
openstack%2Ftripleo-heat-templates~master~I74efb8bdb2f14bdd86a40d806adab5b205249221,openstack/tripleo-heat-templates,master,client-local-queues,I74efb8bdb2f14bdd86a40d806adab5b205249221,Switch back to client-local queue masters,ABANDONED,2018-07-30 13:46:16.000000000,2019-07-31 21:07:14.000000000,,14,1,2,587064,b58c7c09510fe40f6fd014351dc8630164e9736d,23,8,4,1,9257,John Eckersberg,jeckersb,"Switch back to client-local queue masters

Although min-masters is preferrable in theory, sometimes it doesn't
work correctly. So until min-masters can be more reliable, we need to
go back to client-local so queue declarations don't fail.

While we're at it, we add a RabbitQueueMasterLocator parameter in order
to make the changing of this setting simpler for the operator.

Closes-Bug: #1789373
Resolves: rhbz#1585032

Change-Id: I74efb8bdb2f14bdd86a40d806adab5b205249221
"
openstack%2Ftripleo-heat-templates~master~Ie3976653a1f947de974cfddd51023ef13c47d969,openstack/tripleo-heat-templates,master,designate,Ie3976653a1f947de974cfddd51023ef13c47d969,Configure coordination backend for Designate,ABANDONED,2018-12-05 22:52:49.000000000,2019-07-31 21:07:04.000000000,,10,0,0,623094,0fb3aeb285a4d2c2b46e1713d3c286425d463ae6,5,4,1,1,6928,Ben Nemec,bnemec,"Configure coordination backend for Designate

This will prevent duplicate processing when Designate is deployed
in HA.

Change-Id: Ie3976653a1f947de974cfddd51023ef13c47d969
"
openstack%2Ftripleo-heat-templates~master~I3ef9c6e98cb63da6ca272bee9806fb743df74045,openstack/tripleo-heat-templates,master,pci_passthrough_whitelist_regex,I3ef9c6e98cb63da6ca272bee9806fb743df74045,Regex pci passthrough whitelist automation,ABANDONED,2019-01-03 04:24:04.000000000,2019-07-31 21:07:03.000000000,,33,7,0,628098,66e5b9e0803a114d6686efa38bc420c8255b8f62,5,4,1,1,22865,Jaganathan Palanisamy,jaganathancse,"Regex pci passthrough whitelist automation

This change is used to convert the derived pci_passthrough_whitelist
parameters as regex format for all the SR-IOV nodes.

Change-Id: I3ef9c6e98cb63da6ca272bee9806fb743df74045
"
openstack%2Ftripleo-heat-templates~master~I07943244d9b5059a6ebdc32c2a5f76a75559da94,openstack/tripleo-heat-templates,master,bug/1806976,I07943244d9b5059a6ebdc32c2a5f76a75559da94,Fix incorrect location of Tenant VLAN in DPDK NIC configs,ABANDONED,2019-01-24 20:57:54.000000000,2019-07-31 21:07:01.000000000,,105,22,2,633057,b8cefab1243270776282e9e5a2edbb4cce13e16b,10,8,3,2,12398,Dan Sneddon,dsneddon,"Fix incorrect location of Tenant VLAN in DPDK NIC configs

In DPDK Compute nodes, there is an OVS user bridge that takes the
place of the OVS kernel bridge that is usually used. The Tenant
network was originally placed directly on a Linux bond using a
VLAN interface, but this causes traffic to go through the kernel.

By placing the Tenant VLAN directly on the OVS user bridge, the
tunneled traffic is handled by OVS in userspace, without having
to go through the kernel. This change applies to the
bond-with-vlans and 2-linux-bonds-vlans NIC config templates,
which have special handling for DPDK Compute nodes.

Placing the Tenant VLAN on the DPDK user bridge/bond has
implications for MTU. The underlying MTU on the bridge and
bond and NIC has to be at least as large as the Tenant
VLAN. This change adds the DpdkInterfaceMinMtu parameter
which specifies a minimum MTU for the underlying ports
and interfaces, which may be larger than the Tenant MTU.
If unspecified, it will default to 1500 or the Tenant MTU,
whichever is larger.

Closes-bug: 1806976
Change-Id: I07943244d9b5059a6ebdc32c2a5f76a75559da94
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9af1028314859b63cab9f55d2c906b1344ca2300,openstack/tripleo-heat-templates,stable/queens,,I9af1028314859b63cab9f55d2c906b1344ca2300,GATE CHECK for TripleO,ABANDONED,2018-04-11 14:42:15.000000000,2019-07-31 21:06:52.000000000,,0,0,0,560452,64ee34ca315b9923a10dd5c58d1cd21be02ec922,64,4,12,1,8652,Attila Darazs,adarazs,"GATE CHECK for TripleO

This change is used to check the health of our stable branch gate jobs
in the most direct way possible, by running the real gates on a noop
change.

Change-Id: I9af1028314859b63cab9f55d2c906b1344ca2300
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~Ib2aa91afd415c19d06570a0dba073f5d6282c814,openstack/tripleo-heat-templates,stable/pike,,Ib2aa91afd415c19d06570a0dba073f5d6282c814,DNM: test compute extraconfig,ABANDONED,2018-08-29 21:00:38.000000000,2019-07-31 21:06:51.000000000,,21,1,0,597705,c10393eac1d44856833b51dd736ea8154efc78f3,4,3,1,1,23811,Oliver Walsh,owalsh,"DNM: test compute extraconfig

Change-Id: Ib2aa91afd415c19d06570a0dba073f5d6282c814
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9fd3b54279b8449c62f2b5d4f6a8ec72c11b3134,openstack/tripleo-heat-templates,stable/queens,,I9fd3b54279b8449c62f2b5d4f6a8ec72c11b3134,DNM: Test Gnocchi Upgrades P->Q.,ABANDONED,2018-04-30 14:38:19.000000000,2019-07-31 21:06:49.000000000,,4,0,0,565231,11691651d2efad9e134d6b36b71aa210c484c7d2,15,3,4,2,26343,Jose Luis Franco,jfrancoa,"DNM: Test Gnocchi Upgrades P->Q.

Change-Id: I9fd3b54279b8449c62f2b5d4f6a8ec72c11b3134
"
openstack%2Ftripleo-heat-templates~master~I8c9e9a434db48ee28677dcec0842e8438053f7dd,openstack/tripleo-heat-templates,master,upstream-rabbitmq-ra,I8c9e9a434db48ee28677dcec0842e8438053f7dd,WIP/DNR Add support for the new rabbitmqra bundle,ABANDONED,2018-09-04 20:09:39.000000000,2019-07-31 21:06:48.000000000,,438,0,0,599828,1bcd2e510a583c1b23b91423467c4612ee65bfc3,5,5,1,1,20172,Michele Baldessari,michele,"WIP/DNR Add support for the new rabbitmqra bundle

Change-Id: I8c9e9a434db48ee28677dcec0842e8438053f7dd
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I9c40e97a9fbc850962605b2a46420e6c645d5c23,openstack/tripleo-heat-templates,stable/rocky,,I9c40e97a9fbc850962605b2a46420e6c645d5c23,GATE CHECK for TripleO,ABANDONED,2018-09-06 08:57:47.000000000,2019-07-31 21:06:46.000000000,,1,0,0,600387,a9e1458c60a348ce0a0553f2decda3f425863a78,3,3,1,1,27898,Quique Llorente,quiquell,"GATE CHECK for TripleO

This change is used to check the health of our stable branch gate jobs
in the most direct way possible, by running the real gates on a noop
change.

Change-Id: I9c40e97a9fbc850962605b2a46420e6c645d5c23
"
openstack%2Ftripleo-heat-templates~master~I684ed6f88bb2bfb322ccbf3d19ccffcbb85c3bc5,openstack/tripleo-heat-templates,master,CI-test,I684ed6f88bb2bfb322ccbf3d19ccffcbb85c3bc5,DNM -- CI Test,ABANDONED,2018-09-17 12:37:36.000000000,2019-07-31 21:06:45.000000000,,2,0,0,603116,6ee9e1954ae80ce35165acbe70ac2267ad68d8fd,4,3,1,1,16515,mbu,matbu,"DNM -- CI Test

Change-Id: I684ed6f88bb2bfb322ccbf3d19ccffcbb85c3bc5
"
openstack%2Ftripleo-heat-templates~master~I449dbf663d54228f5d03a7571f980ce137f2e00e,openstack/tripleo-heat-templates,master,,I449dbf663d54228f5d03a7571f980ce137f2e00e,Add missing services in baremetal-services,ABANDONED,2018-08-02 07:23:55.000000000,2019-07-31 21:06:43.000000000,,3,0,1,588162,205af82ac4ba66be2f99800a8dff06c7a4a87360,12,12,1,1,28523,wajdi mousa,wajdimousa,"Add missing services in baremetal-services

Change-Id: I449dbf663d54228f5d03a7571f980ce137f2e00e
"
openstack%2Ftripleo-heat-templates~master~Ie6364fb57524cff09f4dab99512980b091fcf8e3,openstack/tripleo-heat-templates,master,bp/global-database,Ie6364fb57524cff09f4dab99512980b091fcf8e3,Implement Global Galera database,ABANDONED,2018-10-11 15:14:14.000000000,2019-07-31 21:06:41.000000000,,686,5,0,609738,1231e398a14159cf7c14dc2e22913abf37a539b4,18,5,8,13,11816,mike_mp@zzzcomputing.com,zzzeek,"Implement Global Galera database

WIP: This is the patch used from the proof of concept so far.
Changes will include that we might want to no longer use
the term ""stretch"" in favor of ""global"".

Also includes some KeystoneRegion additions.  this may be
better as a separate patch, and it needs to be determined where
this attribute needs to be set up and where it does not.
for the moment this gerrit is used as a single source for the
proof of concept.

Change-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3
Partial: blueprint global-database
"
openstack%2Ftripleo-heat-templates~master~Ifa3dc1393439527ab2833a7e05f8cb90f0522ce9,openstack/tripleo-heat-templates,master,ml2_vpp_agent,Ifa3dc1393439527ab2833a7e05f8cb90f0522ce9,Update of vpp-agent,ABANDONED,2018-11-09 07:50:04.000000000,2019-07-31 21:06:40.000000000,,261,5,0,616842,afff0381f101bde07c180722aa1179e72dfd3aef,4,4,1,4,23618,Christophe Fontaine,christophefontaine,"Update of vpp-agent

- the service is now in a container
- add support for vpp driver/agent extensions

Depends-On: I0c466e941573a00f1ed2f73e9f2c9ec4fd2309e3
Change-Id: Ifa3dc1393439527ab2833a7e05f8cb90f0522ce9
"
openstack%2Ftripleo-heat-templates~master~Ide534bc29a6cd0b6128525b0c58141b591eb1f6c,openstack/tripleo-heat-templates,master,ansible-extra-config,Ide534bc29a6cd0b6128525b0c58141b591eb1f6c,WIP turn NodeExtraConfig to ansible,ABANDONED,2018-12-10 11:08:32.000000000,2019-07-31 21:06:38.000000000,,11,2,0,624054,d7eb974a62cb210c5f5e245ee107ae5e0abbe4f3,10,4,3,2,7385,Thomas Herve,therve,"WIP turn NodeExtraConfig to ansible

Change-Id: Ide534bc29a6cd0b6128525b0c58141b591eb1f6c
"
openstack%2Ftripleo-heat-templates~master~I82b92e3bfddfc6542d1940050378454f3db10e25,openstack/tripleo-heat-templates,master,,I82b92e3bfddfc6542d1940050378454f3db10e25,Escalate privilege the ansible way,ABANDONED,2018-11-22 12:35:30.000000000,2019-07-31 21:06:37.000000000,,2,1,0,619555,75d3dc188e66f225b8e76d8ea792c5ccf828d894,10,6,2,1,8833,Rabi Mishra,rabi,"Escalate privilege the ansible way

At present it gives a warning:

""[WARNING]: Consider using 'become', 'become_method',
and 'become_user' rather than running sudo"".

Change-Id: I82b92e3bfddfc6542d1940050378454f3db10e25
"
openstack%2Ftripleo-heat-templates~master~I12994957eeba93f015c5f00e3136dc7b3ab664f9,openstack/tripleo-heat-templates,master,,I12994957eeba93f015c5f00e3136dc7b3ab664f9,DNM: test include_role adoption,ABANDONED,2019-01-15 12:50:44.000000000,2019-07-31 21:06:35.000000000,,0,0,0,630962,6ba952d8ed76120cde39ac64c64f0588e7423fe0,4,3,1,1,24162,Sorin Sbârnea,ssbarnea,"DNM: test include_role adoption

Depends-On: https://review.openstack.org/#/c/620146/
Change-Id: I12994957eeba93f015c5f00e3136dc7b3ab664f9
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I868a368161f4a529e5e7dc3593dc6862e3196247,openstack/tripleo-heat-templates,stable/pike,,I868a368161f4a529e5e7dc3593dc6862e3196247,Add a way to override base path when file driver is used,ABANDONED,2018-09-10 15:05:57.000000000,2019-07-31 21:06:34.000000000,,43,7,0,601286,d249ecf3d1817c0936b1a254bb7acbaf623cd5c6,46,8,6,4,2813,Mehdi Abaakouk,sileht,"Add a way to override base path when file driver is used

The goal is to be able to point the Gnocchi file driver directory
to an NFS share.

A new parameter GnocchiFileBasePath allows to customize
the bind mount to /var/lib/gnocchi.

Change-Id: I868a368161f4a529e5e7dc3593dc6862e3196247
(cherry picked from commit b3b027e731ddef17c857326409f680b9245516c4)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ib6d2e19febdff00fb1a92302e2777948332dfa42,openstack/tripleo-heat-templates,stable/queens,,Ib6d2e19febdff00fb1a92302e2777948332dfa42,Add parameter to set amp_secgroup_allowed_projects,ABANDONED,2019-04-01 12:44:54.000000000,2019-07-31 21:06:32.000000000,,5,0,0,648965,d7b76ade41e902f6262c5eea11f7eb48970e3965,5,4,1,1,6469,Carlos Gonçalves,cgoncalves,"Add parameter to set amp_secgroup_allowed_projects

Enables admins/installers to set amp_secgroup_allowed_projects for those
who have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their
Octavia code base.

Depends-On: https://review.openstack.org/#/c/648955/

Change-Id: Ib6d2e19febdff00fb1a92302e2777948332dfa42
(cherry picked from commit 285f2f6684a147003b27b1354d54106ef95ccc50)
(cherry picked from commit 4188f060197da648e6760c0d3e22446bfdc2b5e4)
"
openstack%2Ftripleo-heat-templates~master~Id136e6910fbb7d3b38916b1f365357a702c034da,openstack/tripleo-heat-templates,master,,Id136e6910fbb7d3b38916b1f365357a702c034da,[DNM] Hack br-ex to test scenario001-standalone for Nautilus,ABANDONED,2019-04-09 13:13:46.000000000,2019-07-31 21:06:31.000000000,,8,0,0,651231,7bf6a2c78e0d700ba61de73f069ef155542f476f,7,3,2,1,25402,Francesco Pantano,fmount,"[DNM] Hack br-ex to test scenario001-standalone for Nautilus

Change-Id: Id136e6910fbb7d3b38916b1f365357a702c034da
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Id96b1913c03850b3839d22208578a473900ffd21,openstack/tripleo-heat-templates,stable/queens,metrics_qdr_ceph_role,Id96b1913c03850b3839d22208578a473900ffd21,Include InternalApi network for Ceph role.,ABANDONED,2019-04-25 20:07:03.000000000,2019-07-31 21:06:29.000000000,,1,0,0,655785,a430d16c949b050ee79b25e226b0950dfb3e87db,7,5,1,1,28504,Vinay Kapalavai,vkapalav,"Include InternalApi network for Ceph role.

We need to include InternalApi network for
Ceph role. Otherwise this could break the
deployment as MetricsQdr is running on InternalApi
network, and tls_everywhere couldn't get any
certificate for metrics_qdr.

Change-Id: Id96b1913c03850b3839d22208578a473900ffd21
"
openstack%2Fpuppet-tripleo~master~I8f075a5ad869ef0dc72a700dcb7be0b6efca787a,openstack/puppet-tripleo,master,bug/1763322,I8f075a5ad869ef0dc72a700dcb7be0b6efca787a,Make host param for nova/neutron/ceilometer immutable during upgrade,ABANDONED,2018-03-23 10:40:02.000000000,2019-07-31 21:00:59.000000000,,74,5,27,555732,fa6630abf8c802ecaff02373a3b38d4657da79a3,73,15,14,10,23811,Oliver Walsh,owalsh,"Make host param for nova/neutron/ceilometer immutable during upgrade

We used to set the host value of those three services to whatever is
returned by $fdqn during upgrade/update.

This is no longer the case[1] but we have to handle stack deployed
before that patch as well.  Furthermore that very patch may break
current deployment if the new default is different than the current
value.

As a matter of fact this parameter can change because of system change
on the host[1] and in Mitaka to Newton upgrade we explicitly change
its value (from not set to $fqdn).

The main impact for neutron are l3-agents.  They are set in an HA
configuration, so the new agents are not taking over the previous
workload.  The impact is a complete lost of FIP connectivity.

For nova, we lose the ability to manipulate vm after the upgrade.

We can't set this host_real to undef as puppet will then fall back to
the hiera value, which is exactly what we don't want in this case.

That's why we use the '$::os_immutable' fact value, that in the same
vein as os_service_default, will just keep the current value
untouched.

[1] See https://review.openstack.org/#/c/555278/ for further explanation.

Depends-On: Iaea44309db9b1b075425fa15890ba592d8bc9b7e
Co-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>
Partial-Bug: #1763322

Change-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a
"
openstack%2Fpuppet-tripleo~master~Ia3fd1f465b389ff01a5dfd6845d782d24aaf4c16,openstack/puppet-tripleo,master,bug/1790526,Ia3fd1f465b389ff01a5dfd6845d782d24aaf4c16,Update VPP ML2 and Agent parameters,ABANDONED,2018-09-03 20:08:30.000000000,2019-07-31 21:00:58.000000000,,57,5,0,599455,2d9f98f55c621c75ea8d71e6decd1f8db670ec6c,5,4,1,3,20971,Feng Pan,fpan,"Update VPP ML2 and Agent parameters

The latest release of networking-vpp ML2 drvier/agent requires the
following addtional configs:
- For ML2 driver, we need to configure L3 vpp-routing hosts
- For VPP agent, we need to configure type_drivers and serivce_plugins
- Also add phynet_mapping parameter to make deployment easier when the
  user specifies a kernel device name like eth1 instead of a VPP interface
  name like GigabitEthernet0/1/0

Closes-Bug: #1790526

Change-Id: Ia3fd1f465b389ff01a5dfd6845d782d24aaf4c16
Signed-off-by: Feng Pan <fpan@redhat.com>
"
openstack%2Fpuppet-tripleo~master~Ia222d767bfca462bed03d546a942adf473fdb6b2,openstack/puppet-tripleo,master,,Ia222d767bfca462bed03d546a942adf473fdb6b2,Nothing to see here,ABANDONED,2018-12-06 14:04:56.000000000,2019-07-31 21:00:48.000000000,,1,0,0,623214,63916091d978a46c801882a0f19daea628a68e9c,6,5,1,1,6928,Ben Nemec,bnemec,"Nothing to see here

Just testing the Designate coordination backend patch since the
puppet repo doesn't run the tripleo job.

Change-Id: Ia222d767bfca462bed03d546a942adf473fdb6b2
Depends-On: https://review.openstack.org/623095/
"
openstack%2Fpuppet-tripleo~master~Ifeaae3ea5e703d50b2b48cd1be13210bd44587c0,openstack/puppet-tripleo,master,tacker_conductor,Ifeaae3ea5e703d50b2b48cd1be13210bd44587c0,WIP: Adding Tacker conductor puppet class,ABANDONED,2018-04-24 16:19:03.000000000,2019-07-31 21:00:46.000000000,,1,0,0,564021,338dc56e94e92efff79f7a88c95cb487c3ebdcdf,3,3,1,1,21626,Ricardo,rnoriega,"WIP: Adding Tacker conductor puppet class

Depends-On: I6286cd57af8d0d3416903f71de995fd7cb667614
Change-Id: Ifeaae3ea5e703d50b2b48cd1be13210bd44587c0
Signed-off-by: Ricardo Noriega <rnoriega@redhat.com>
"
openstack%2Fpuppet-tripleo~master~Ie8c0900687b71bc8fbbfbbe5750c6bb7278e3019,openstack/puppet-tripleo,master,iha-fqdn-compute-hostnames,Ie8c0900687b71bc8fbbfbbe5750c6bb7278e3019,WIP Use the non-fqdn name when creating stonith levels,ABANDONED,2018-05-16 17:43:52.000000000,2019-07-31 21:00:44.000000000,,1,1,0,568913,22af7f3687d779e6d1bd2f18964e97e606661927,4,3,1,1,20172,Michele Baldessari,michele,"WIP Use the non-fqdn name when creating stonith levels

Cluster nodes are always non-fqdn. When an operator configures
hostnames to be fqdn, they will still be short hostnames in the
cluster and in pacemaker remote. The exception to this is crm_node -n
which will end up returning the `hostname`.

Let's replace $(crm_node -n) which returns an FQDN in this case
with $::hostname which gives always the short hostname.

This way we will avoid errors like this:
""Error: pcs -f
/var/lib/pacemaker/cib/puppet-cib-backup20180516-27473-xsh5h create
failed: Error: Node 'overcloud-novacomputeiha-0.redhat.local' does not
appear to exist in configuration, use --force to override"",

Change-Id: Ie8c0900687b71bc8fbbfbbe5750c6bb7278e3019
"
openstack%2Fpuppet-tripleo~master~Ie796d67ef84821b485f938307c3be1a51936b02e,openstack/puppet-tripleo,master,,Ie796d67ef84821b485f938307c3be1a51936b02e,WIP use rabbitmq directly with rabbit bundle,ABANDONED,2018-07-29 12:27:05.000000000,2019-07-31 21:00:43.000000000,,1,1,0,586876,8f4f919e12b60b7987593ec9b62a7a1ad637c91e,4,3,1,1,20172,Michele Baldessari,michele,"WIP use rabbitmq directly with rabbit bundle

Change-Id: Ie796d67ef84821b485f938307c3be1a51936b02e
"
openstack%2Fpuppet-tripleo~master~I521a8ed26a4532728d41cd9f79001c3a29a1ce00,openstack/puppet-tripleo,master,upstream-rabbitmq-ra,I521a8ed26a4532728d41cd9f79001c3a29a1ce00,WIP/DNR Add a new bundle that uses upstream rabbitmqRA,ABANDONED,2018-09-04 20:08:21.000000000,2019-07-31 21:00:41.000000000,,263,0,0,599827,8c2aee84864425edd344473314bd2b933878b7fb,8,5,2,1,20172,Michele Baldessari,michele,"WIP/DNR Add a new bundle that uses upstream rabbitmqRA

Nothing to see

Change-Id: I521a8ed26a4532728d41cd9f79001c3a29a1ce00
"
openstack%2Fpuppet-tripleo~master~Ie6364fb57524cff09f4dab99512980b091fcf8e3,openstack/puppet-tripleo,master,bp/global-database,Ie6364fb57524cff09f4dab99512980b091fcf8e3,Implement Global Galera database,ABANDONED,2018-10-11 15:07:16.000000000,2019-07-31 21:00:40.000000000,,690,77,3,609734,1d3f8a331dc8ec054c3258c2517739ba6ffe14be,20,6,6,4,11816,mike_mp@zzzcomputing.com,zzzeek,"Implement Global Galera database

WIP: This is the patch used from the proof of concept so far.
Changes will include that we might want to no longer use
the term ""stretch"" in favor of ""global"".

Change-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3
Partial: blueprint global-database
"
openstack%2Fpuppet-tripleo~master~I13b7eb52f27e0ebaefc783526c002857c1dbf4af,openstack/puppet-tripleo,master,bug/1803557,I13b7eb52f27e0ebaefc783526c002857c1dbf4af,Updates OpenDaylight websocket haproxy healthcheck,ABANDONED,2018-10-23 20:29:42.000000000,2019-07-31 21:00:38.000000000,,17,0,0,612794,c0ca378810e21b57da5d20fdfd68ee092ee68010,11,7,2,2,17280,Tim Rozet,trozet,"Updates OpenDaylight websocket haproxy healthcheck

There is an issue where OpenDaylight may be up on port 8185, but it is
unable to accept websocket connections on that port. This creates a
false positive for the current health check as it only checks if the TCP
port is open. This adds a more robust check to ensure a websocket
connection can be made.

Closes-Bug: #1803557

Change-Id: I13b7eb52f27e0ebaefc783526c002857c1dbf4af
Signed-off-by: Tim Rozet <trozet@redhat.com>
"
openstack%2Fpuppet-tripleo~master~Iaf50fc13f103f832567f3ed12225d38a113c3291,openstack/puppet-tripleo,master,unify-ha-bindmounts,Iaf50fc13f103f832567f3ed12225d38a113c3291,WIP DNR Unify rabbitmq bind mounts,ABANDONED,2018-09-27 06:48:28.000000000,2019-07-31 21:00:26.000000000,,91,70,0,605599,25fb5b04d7ae290addbb33a9eb367b6dac391b44,37,4,9,1,20172,Michele Baldessari,michele,"WIP DNR Unify rabbitmq bind mounts

We eventually want to avoid hard-coding the list of bind mounts used in
the rabbitmq bundle. In the same spirit as done for the cinder services,
we add two class parameters that can override volumes and environment
variable. If unset nothing will change as to the current status. A THT
patch will set those parameters so volumes can be defined and overridden
(and customized) via THT.

Change-Id: Iaf50fc13f103f832567f3ed12225d38a113c3291
"
openstack%2Fpuppet-tripleo~master~I9b32890717d7ddebcc282736bee60360834930d4,openstack/puppet-tripleo,master,bundles-nonroot,I9b32890717d7ddebcc282736bee60360834930d4,WIP cinder-* bundles and manila-share to not need to be run as root,ABANDONED,2018-07-04 10:36:18.000000000,2019-07-31 20:57:00.000000000,,7,7,0,580127,2a00928b8993aa965472074f3e32b1f5b43c9875,28,13,6,5,20172,Michele Baldessari,michele,"WIP cinder-* bundles and manila-share to not need to be run as root

Cinder bundles do not need to be run as root as they already
user the cinder user by default. This change should be fine
even in an update because we explicitely chown the logs to the
cinder-user inside the container:
- cinder-volume [1]
- cinder-backup [2]
- manila-share [3]

Note that other bundles like (redis/rabbit/galera drop their privileges
automatically so this is not needed)

[1] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-volume.yaml#L176
[2] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-backup.yaml#L182
[3] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/manila-share.yaml#L152

WIP as this needs some testing and discussion around ovn bundles

The depends-on will take care of changing ownership at the start of
the bundle (via kolla_start) mechanism.

Closes-Bug: #582456

Depends-On: Ia8a87b7dad3b0c2932d8f770d5d76842609a377f
Change-Id: I9b32890717d7ddebcc282736bee60360834930d4
Co-Authored-By: Alan Bishop <abishop@redhat.com>
"
openstack%2Fpuppet-manila~master~I99fe50cb5e112bcad85494dc755725d3444f717b,openstack/puppet-manila,master,CephFS-NFS-IPv6,I99fe50cb5e112bcad85494dc755725d3444f717b,Support cephfs_ganesha_export_ips parameter,MERGED,2019-07-22 19:22:26.000000000,2019-07-31 20:55:53.000000000,2019-07-31 20:55:53.000000000,17,1,2,672148,97e1dab0dd15f3be02b12008019c94a6b4ee9312,20,5,4,3,9003,Tom Barron,tbarron,"Support cephfs_ganesha_export_ips parameter

Manila now [1] supports configuring a list of IP addresses
or hostnames on which NFS-ganesha will listen for mounts and
provide NFS service.

Expose this parameter in the backend manifests for manila with
CephFS.

[1] https://review.opendev.org/#/c/670510
Change-Id: I99fe50cb5e112bcad85494dc755725d3444f717b
"
openstack%2Ftripleo-quickstart~master~Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3,openstack/tripleo-quickstart,master,bp/undercloud-minion,Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3,Add single minion node config,MERGED,2019-05-30 22:42:04.000000000,2019-07-31 20:47:05.000000000,2019-07-31 20:47:05.000000000,113,0,3,662349,831cc07dd97f2e3466749f2df6eb6a670761487b,44,11,11,2,14985,Alex Schultz,mwhahaha,"Add single minion node config

Change-Id: Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3
Related-Blueprint: undercloud-minion
"
openstack%2Fdevstack~stable%2Fpike~Ia001badca179c3f3436d5ecd26b0755a3f3a3078,openstack/devstack,stable/pike,,Ia001badca179c3f3436d5ecd26b0755a3f3a3078,zuul job: write the enable_plugin lines last,MERGED,2019-07-30 07:45:44.000000000,2019-07-31 20:45:17.000000000,2019-07-31 20:45:17.000000000,5,2,0,673432,38edaa3ba60b3500e2f3199cf16dcfc8c7c89fe8,15,3,1,1,10459,Luigi Toscano,ltoscano,"zuul job: write the enable_plugin lines last

Plugins must be the last items in the local.conf file
otherwise the configuration set in the rest of the file
is not applied to them (for example a different value of DEST.)

Change-Id: Ia001badca179c3f3436d5ecd26b0755a3f3a3078
(cherry picked from commit 610927f4255f0ed4877a3e85d628202e4af2f7d4)
"
openstack%2Fnova~master~Iccda422a3900821ca5476d8888e935568884f321,openstack/nova,master,_get_instance_nw_info,Iccda422a3900821ca5476d8888e935568884f321,neutron: log something more useful in _get_instance_nw_info,MERGED,2019-07-30 21:24:50.000000000,2019-07-31 20:45:13.000000000,2019-07-31 20:45:13.000000000,9,1,0,673694,72b979f92cb71b4b417e7be03e2377cacc449ea9,15,11,1,1,6873,Matt Riedemann,mriedem,"neutron: log something more useful in _get_instance_nw_info

This method is currently logging something like this:

  Jul 30 20:47:58 devstack nova-compute[23811]: DEBUG \
  nova.network.neutronv2.api [None req-1bba63ae-86d8-4a97-be63-18f18c9ae662 \
  None None] [instance: 3e0a7f65-34ac-4d73-83ed-96d36fdefd54] \
  _get_instance_nw_info() {{(pid=23811) _get_instance_nw_info \
  /opt/stack/nova/nova/network/neutronv2/api.py:1751}}

Logging the method name, which already gets logged, is not very
useful.

This change uses the parameters to the method to add some more useful
log messages.

Currently the only time force_refresh is True is when the
_heal_instance_info_cache periodic task runs.

Currently refresh_vif_id is only ever not None when a network-changed
event is received with a particular port id in the event tag parameter.

Change-Id: Iccda422a3900821ca5476d8888e935568884f321
"
openstack%2Ftripleo-heat-templates~master~If6b4f9de29a9826921f81faef3688719b0ee9c25,openstack/tripleo-heat-templates,master,,If6b4f9de29a9826921f81faef3688719b0ee9c25,Add ANSIBLE_CONFIG to Octavia Ansible playbook run,MERGED,2019-07-28 13:11:41.000000000,2019-07-31 20:41:36.000000000,2019-07-31 20:41:36.000000000,1,1,0,673170,3036ba174401dfb8d730d22271af3667e1bcb46c,11,8,1,1,6469,Carlos Gonçalves,cgoncalves,"Add ANSIBLE_CONFIG to Octavia Ansible playbook run

Change-Id: If6b4f9de29a9826921f81faef3688719b0ee9c25
"
openstack%2Fopenstack-helm-infra~master~Ia2c53556be650899fdd67c1ec06f5c68ae63c9d4,openstack/openstack-helm-infra,master,,Ia2c53556be650899fdd67c1ec06f5c68ae63c9d4,Provide option to switch between dpdk and non-dpdk,MERGED,2019-07-18 11:50:05.000000000,2019-07-31 20:38:22.000000000,2019-07-31 20:38:22.000000000,10,0,1,671462,a71f1b4d3312cd281bf612d7934fa531441f8698,37,15,5,2,21883,Manuel Buil,mbuil,"Provide option to switch between dpdk and non-dpdk

We can select if we want an image with dpdk support by adding:

FEATURE_GATES=dpdk

That way we can reuse the same script for different distros by using
openstack-helm/tools/deployment/common/get-values-overrides.sh

Change-Id: Ia2c53556be650899fdd67c1ec06f5c68ae63c9d4
Signed-off-by: Manuel Buil <mbuil@suse.com>
"
openstack%2Fpuppet-tripleo~master~Ic8ef0bcb3c9b789ef35bf82a60ed85785f0665f1,openstack/puppet-tripleo,master,ipv6-prov,Ic8ef0bcb3c9b789ef35bf82a60ed85785f0665f1,Wrap bind IP for docker registry if IPv6,ABANDONED,2018-03-20 16:04:01.000000000,2019-07-31 20:33:42.000000000,,1,1,4,554608,f79c7025203a24b0694d4eaa4124c3b7545c1f77,41,8,4,1,1926,Derek Higgins,derekh,"Wrap bind IP for docker registry if IPv6

Change-Id: Ic8ef0bcb3c9b789ef35bf82a60ed85785f0665f1
Closes-Bug: #1755455
"
openstack%2Fpuppet-openstack-integration~stable%2Frocky~I3f3bf2b13186d8f3708de0cc7221605d8fc56450,openstack/puppet-openstack-integration,stable/rocky,fix-mimic-ci,I3f3bf2b13186d8f3708de0cc7221605d8fc56450,Fix checkout for stable/mimic,MERGED,2019-07-31 16:51:22.000000000,2019-07-31 20:27:39.000000000,2019-07-31 20:27:39.000000000,42,0,0,673876,aaf659f9d2754580fc0e2efe1f29cd0915db2f98,7,2,1,1,14985,Alex Schultz,mwhahaha,"Fix checkout for stable/mimic

Since puppet-ceph stable/mimic and puppet-pacemaker stable/0.7.x don't
follow the standard openstack conventions. So when the jobs try and
checkout the code, it is currently getting the master version which
doesn't work as expected. In order to fix this we need to specific the
rocky/mimic branches explicitly in the zuul job config. We did something
similar for stable/jewel in Ie11af4944178fa057a189f4e0c7e4809dc694b86

Change-Id: I3f3bf2b13186d8f3708de0cc7221605d8fc56450
"
openstack%2Freleases~master~Ia421ed500fbc15bf0088a8436ddeb5d8d1196256,openstack/releases,master,os-traits_0.16.0,Ia421ed500fbc15bf0088a8436ddeb5d8d1196256,Release os-traits 0.16.0,MERGED,2019-07-29 13:52:48.000000000,2019-07-31 20:13:40.000000000,2019-07-31 20:13:40.000000000,5,1,0,673294,11df3a66f32ceacd36174f72cd291da9d645e4c6,15,7,2,1,14070,Eric Fried,efried,"Release os-traits 0.16.0

...to pick up AVX512-VNNI trait from [1] and live migrate flags from [2].

[1] Id12ed38c1648b006c20cf5875a9b2ffe1690ecd6
[2] I6afd7ef33edd5187c6242d0e0e58c871cb83250e

Change-Id: Ia421ed500fbc15bf0088a8436ddeb5d8d1196256
"
openstack%2Fironic~master~I56c54e110bdacc9c4b8ab19b8a3a38b1b4e8ee66,openstack/ironic,master,bp/nova-support-instance-power-update,I56c54e110bdacc9c4b8ab19b8a3a38b1b4e8ee66,DNM: test nova power-update event,ABANDONED,2019-07-23 16:46:43.000000000,2019-07-31 20:01:57.000000000,,7,6,1,672327,f421d5f88e0bd4ab5ccca6280bc0dccc26887145,9,5,2,3,6873,Matt Riedemann,mriedem,"DNM: test nova power-update event

Tests I6d105524e1645d9a40dfeae2850c33cf2d110826 with
the nova 2.75 microversion where ironic sends the power-update
event. This is needed to test the series of changes before
the novaclient change is released.

Change-Id: I56c54e110bdacc9c4b8ab19b8a3a38b1b4e8ee66
"
openstack%2Fopenstack-ansible-os_ironic~master~Ibc4859326c39e07411a55c03b95d106a5a563130,openstack/openstack-ansible-os_ironic,master,use-integrated-repo-for-all-tests,Ibc4859326c39e07411a55c03b95d106a5a563130,Add integrated coverage,MERGED,2019-05-20 10:33:22.000000000,2019-07-31 20:00:40.000000000,2019-07-12 17:09:43.000000000,4,57,0,660083,1388c2abd06f29a91a7e575d92ccd0570a1d4fd2,38,5,14,2,17068,Jean-Philippe Evrard,evrardjp,"Add integrated coverage

Currently this role doesn't test the integrated jobs.

This is a problem because it's not consistent with other jobs.

Change-Id: Ibc4859326c39e07411a55c03b95d106a5a563130
"
openstack%2Ftripleo-quickstart~master~I387c43d7c16628f11327c80b0ff0ca17ba92a6c1,openstack/tripleo-quickstart,master,﻿oooq/ansible26,I387c43d7c16628f11327c80b0ff0ca17ba92a6c1,Bump ansible version to 2.6.x,ABANDONED,2019-02-07 09:17:28.000000000,2019-07-31 19:50:12.000000000,,1,1,2,635459,9a3afc7b578e0d22e810cbf7c116dedca76aa88d,31,10,7,1,21537,Yurii Prokulevych,yprokule,"Bump ansible version to 2.6.x

Ansible filter dict2items is introduced in ansible-2.6.
Update version to unblock multinode-oooq-container-updates job that
fails with next error msg:
  template error while templating string: no filter named 'dict2items'.

Other notable fixes:
- blockinfile
- lineinfile
- docker modules
- loop

Full list of fixes: https://github.com/ansible/ansible/blob/v2.6.13/changelogs/CHANGELOG-v2.6.rst

Change-Id: I387c43d7c16628f11327c80b0ff0ca17ba92a6c1
Story: https://tree.taiga.io/project/tripleo-ci-board/task/386
"
openstack%2Ftripleo-heat-templates~master~Ieed65a755b8c5f1ce0ee1727f65cb6cbe76d68ea,openstack/tripleo-heat-templates,master,,Ieed65a755b8c5f1ce0ee1727f65cb6cbe76d68ea,Change name of former openshift files in Heat templates,MERGED,2019-07-30 12:18:39.000000000,2019-07-31 19:46:38.000000000,2019-07-31 19:46:38.000000000,3,3,0,673494,163fc6d783cfc2f5996486bd57b72ea003e237b6,18,7,2,3,10969,Shnaidman Sagi (Sergey),sergsh,"Change name of former openshift files in Heat templates

While renaming files in https://review.opendev.org/#/c/671140/
we should rename them in Heat templates too.
Rename previous openshift-*.yaml to openshift-*-baremetal-ansible.yaml
Change-Id: Ieed65a755b8c5f1ce0ee1727f65cb6cbe76d68ea
"
openstack%2Ftripleo-quickstart~master~Icf28ecc6fcf28cedcf319817baebccf6d9a91fba,openstack/tripleo-quickstart,master,ansible-2.8,Icf28ecc6fcf28cedcf319817baebccf6d9a91fba,Add dependency validation check to quickstart.sh,ABANDONED,2019-05-28 07:37:47.000000000,2019-07-31 19:45:13.000000000,,2,0,0,661692,175e2971e6b4b2a12c71a17868ec32401fa2afb8,4,5,1,1,24162,Sorin Sbârnea,ssbarnea,"Add dependency validation check to quickstart.sh

This should avoid case where people run quickstart with unsupported
version of dependencies (like ansible 2.8).

Our code should fail fast instead of creating bad user experience and
additional bug requests. Compatibility ranges should be introduced in
requirements.txt in follow-ups.

Capping maximum version should be added when we discover that newer
version does not work with quickstart.

Change-Id: Icf28ecc6fcf28cedcf319817baebccf6d9a91fba
"
openstack%2Ftripleo-quickstart-extras~master~Ice95c916dc614c73df42507ab70f846b190255c0,openstack/tripleo-quickstart-extras,master,bug/1795009,Ice95c916dc614c73df42507ab70f846b190255c0,Test undercloud_ara enablement,ABANDONED,2018-11-26 20:01:01.000000000,2019-07-31 19:39:27.000000000,,1,1,13,620146,badc5ef7f29655f2f6afe29a65023923fbf2134b,42,8,9,1,24162,Sorin Sbârnea,ssbarnea,"Test undercloud_ara enablement

Mainly for testing previous patch.

Change-Id: Ice95c916dc614c73df42507ab70f846b190255c0
Partial-Bug: https://bugs.launchpad.net/tripleo/+bug/1811778
"
openstack%2Ftripleo-quickstart-extras~master~Ia1245a423e608273120b2c6b9668e2126073cccc,openstack/tripleo-quickstart-extras,master,,Ia1245a423e608273120b2c6b9668e2126073cccc,Allow creating Stack for non centos images,MERGED,2019-07-30 07:29:01.000000000,2019-07-31 19:00:43.000000000,2019-07-31 19:00:43.000000000,7,5,2,673418,cf6b8259ba275f434d1ce717f8eb2ea962844858,10,9,1,3,13861,yatin,yatinkarel,"Allow creating Stack for non centos images

This patch updates nodepool-setup and multinodes
roles to work with non centos images. It updates following:-

- Add a role variable: ""default_image_user"" which defaults to
  'centos'. It can be used to configure image_user like 'fedora'.
- Use 'package' module instead of 'yum' so it can work with non
  yum systems.
- yum_contentdir is not needed for Fedora, so skipped.
- centos-release-openstack and epel repos are not needed for
  Fedora, so skipped.

Change-Id: Ia1245a423e608273120b2c6b9668e2126073cccc
"
openstack%2Fkolla~master~I17a25633a0df3547cce59ad00730b0cab0018253,openstack/kolla,master,,I17a25633a0df3547cce59ad00730b0cab0018253,Enable support for fedora distro in kolla,ABANDONED,2019-02-07 13:53:29.000000000,2019-07-31 18:50:07.000000000,,11,2,2,635512,ebe2ef40ddb179b2595f42b83e20acac147aa122,18,6,4,2,24162,Sorin Sbârnea,ssbarnea,"Enable support for fedora distro in kolla

Change-Id: I17a25633a0df3547cce59ad00730b0cab0018253
"
openstack%2Fmanila-specs~master~Id51ff66105ef72b263904eb0f5279654b588bcf9,openstack/manila-specs,master,,Id51ff66105ef72b263904eb0f5279654b588bcf9,Add a new mv to the share type API,MERGED,2019-07-23 09:46:58.000000000,2019-07-31 18:48:53.000000000,2019-07-31 18:48:53.000000000,2,0,0,672244,19d03629eeed1c5dce021c0e6aa858fff0cd3de8,7,3,1,1,30407,haixin,haixin,"Add a new mv to the share type API

Bump up the API Microversion.

Change-Id: Id51ff66105ef72b263904eb0f5279654b588bcf9
"
openstack%2Fpython-manilaclient~master~I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366,openstack/python-manilaclient,master,bug/1822815,I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366,Fix `manila list --count True` command,ABANDONED,2019-06-26 22:38:34.000000000,2019-07-31 18:45:46.000000000,,22,4,17,667744,c852f9f44af36d80c36f7af3e7d8bd635b9cd875,39,7,9,3,29958,Soledad Kuczala,SolKuczala,"Fix `manila list --count True` command

When doing `manila list --count True` without shares, the user gets
an error. This happens because there is no control of the retrieving
and showing of shares when the `--count` param is used. This patch-set
adds a fix for this case.

Closes-bug: #1822815
Change-Id: I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366
"
openstack%2Fopenstack-ansible~stable%2Fstein~Id582f85f1390ad96bc003c774b2ec8f4dfeb1edb,openstack/openstack-ansible,stable/stein,osa-update-ansible,Id582f85f1390ad96bc003c774b2ec8f4dfeb1edb,Update ansible to 2.7.12,MERGED,2019-07-30 12:54:02.000000000,2019-07-31 18:27:01.000000000,2019-07-31 18:27:01.000000000,1,1,0,673507,780cade40d00b82c07f9e74e8f634c93fdae6af9,7,3,1,1,25023,Jonathan Rosser,jrosser,"Update ansible to 2.7.12

Change-Id: Id582f85f1390ad96bc003c774b2ec8f4dfeb1edb
"
openstack%2Frequirements~master~Id633d3f591e86483cc23d26423ace581e8a977ce,openstack/requirements,master,cinder_extras,Id633d3f591e86483cc23d26423ace581e8a977ce,Add cinder extras python-lefthandclient,ABANDONED,2019-05-09 14:20:07.000000000,2019-07-31 18:23:51.000000000,,2,0,0,658103,7c7c8d62a35bb0d4f9e2f3eb65adec2f7f7cea44,11,4,1,2,5997,Walt,walter-boring,"Add cinder extras python-lefthandclient

This patch adds the cinder lefthandclient driver's library.

active: yes
good code: mostly, bunch of open, simple pull requests
py3: kinda? only states py34...
license compat: yes
packaged: eh?
covered by other libs: no
needed by: cinder
managed by openstack: no

Change-Id: Id633d3f591e86483cc23d26423ace581e8a977ce
"
openstack%2Fopenstack-helm-infra~master~I3886c792fe28bc8b80504d8c91e9524039131b15,openstack/openstack-helm-infra,master,pod_log_fix,I3886c792fe28bc8b80504d8c91e9524039131b15,Removing deprecated option usage in gatther pod logs logic,MERGED,2019-07-29 23:31:49.000000000,2019-07-31 18:22:34.000000000,2019-07-31 18:22:33.000000000,1,1,0,673372,7a8bb7058beb75a690a35e3d4998d1338aea9a58,18,8,2,1,1091,Arun Kant,arunkant-uws,"Removing deprecated option usage in gatther pod logs logic

As per PR, https://github.com/kubernetes/kubernetes/pull/60210,
in kubectl get show-all option is deprecated and no longer needed.
Presumably now that's the default behavior.

Also in current logs gathering logic, we are interested in capturing
only pod names, so removing that option is harmless.

We are seeing related failures in local CI when kubectl version is
1.15.x. So removing this option.

Change-Id: I3886c792fe28bc8b80504d8c91e9524039131b15
"
openstack%2Fnetworking-ovn~stable%2Fstein~Ie4a4bbcdd1e2619fc6830bf86eeb37604d91c49a,openstack/networking-ovn,stable/stein,ovn_driver_stein_cherry_picks,Ie4a4bbcdd1e2619fc6830bf86eeb37604d91c49a,TrivialFixes to networking-ovn repo,MERGED,2019-07-25 07:20:29.000000000,2019-07-31 18:21:06.000000000,2019-07-31 18:21:06.000000000,3,2,0,672644,75b9f3f309d3778153454ed9affdbad11f32d09e,11,4,2,3,24791,Maciej Jozefczyk,maciej.jozefczyk,"TrivialFixes to networking-ovn repo

- Debug logging information is added to
get_candidates_for_scheduling() to provide more information when no
chassis information is available for a physnet.
- Use the chassisredirect constant from networking_ovn.common.constants

Change-Id: Ie4a4bbcdd1e2619fc6830bf86eeb37604d91c49a
(cherry picked from commit 8bb5e7ec20e107a3440f405c41d1b301a325cc2f)
"
openstack%2Fkayobe~stable%2Frocky~Id090348a6f22f251555fa286a7d24923087122a9,openstack/kayobe,stable/rocky,,Id090348a6f22f251555fa286a7d24923087122a9,Provide keystone.conf to kolla-ansible by default,MERGED,2019-07-17 16:57:22.000000000,2019-07-31 18:17:40.000000000,2019-07-31 18:17:40.000000000,5,4,0,671332,d2bf18f1873125a0ea8ec95417a13862ac495939,7,3,1,3,17669,Doug Szumski,DougSzumski,"Provide keystone.conf to kolla-ansible by default

Commit d8ee0fa027140fb8a7504bd6685b6dcdfe3ac8fe introduced the variable
kolla_enable_keystone without setting a default value and used it to
check whether to template and provide keystone.conf to kolla-ansible,
unlike the extended keystone configuration which was always copied. This
resulted in non-intuitive behaviour if kolla_enable_keystone wasn't
explicitly set by the operator.

This commit sets kolla_enable_keystone to true by default, which matches
the default in kolla-ansible, and uses it instead of hardcoded true
values.

Conflicts:
	ansible/roles/kolla-openstack/vars/main.yml

Change-Id: Id090348a6f22f251555fa286a7d24923087122a9
Story: 2005930
Task: 34273
(cherry picked from commit ec9b4826515f28dab43846cb80dcb58b9a5b0a6e)
"
openstack%2Fkayobe~stable%2Frocky~Iaa304221b8093ac71f9cdbb23edc84d1517578da,openstack/kayobe,stable/rocky,,Iaa304221b8093ac71f9cdbb23edc84d1517578da,Multiple updates for Kayobe,MERGED,2019-06-26 16:17:36.000000000,2019-07-31 18:17:40.000000000,2019-07-31 18:17:40.000000000,49,12,0,667672,0a133818016fbc11eed26554817b6e65f358a756,10,4,1,16,14826,Mark Goddard,mgoddard,"Multiple updates for Kayobe

---

1. Gather facts for localhost in kolla-ansible.yml
2. Don't include unconfigured networks in network_interfaces
3. Added Keystone configuration extra config merge

---

1. Facts are necessary for the kolla-ansible role,
which references the ansible_user_uid fact

2. It is possible to skip configuring a network,
by setting its name to None

This is done in networks.yml as follows:

admin_oc_net_name:

Currently, these networks may still be included in the 'network_interfaces'
list for each host, despite the fact that they are not in use.

A classic example is when ironic is not enabled, it is currently still
necessary to define provisioning and cleaning networks.

This change avoids including any networks that have their name set to None
in network_interfaces.

3. Added support for Keystone custom configuration

Added tests and documentation to add support for keystone extra configuration

Co-Authored-By: Mark Goddard <mark@stackhpc.com

Change-Id: Iaa304221b8093ac71f9cdbb23edc84d1517578da
(cherry picked from commit d8ee0fa027140fb8a7504bd6685b6dcdfe3ac8fe)
"
openstack%2Ftripleo-quickstart~master~I9d14a4a7db93bffd2cb54fda1082ce4c24e3fa33,openstack/tripleo-quickstart,master,ara,I9d14a4a7db93bffd2cb54fda1082ce4c24e3fa33,Remove ARA install from ci-scripts,ABANDONED,2018-10-28 15:52:19.000000000,2019-07-31 18:16:11.000000000,,0,4,2,613795,32b462bb4d6ca89ef8eafff73b8d89793cd6154e,22,10,4,1,24162,Sorin Sbârnea,ssbarnea,"Remove ARA install from ci-scripts

ARA is called from collect-logs role and we should not install it
ourselves in ci code.

Change-Id: I9d14a4a7db93bffd2cb54fda1082ce4c24e3fa33
"
openstack%2Fdevstack~stable%2Fpike~I91093a424f8d5e8007f140083e1ea36a81fe849f,openstack/devstack,stable/pike,,I91093a424f8d5e8007f140083e1ea36a81fe849f,Allow plugin names to contain non-letter characters,MERGED,2019-07-30 07:45:44.000000000,2019-07-31 18:10:26.000000000,2019-07-31 18:10:26.000000000,8,8,0,673431,ab661a25f11cf6818da94d5e1db31a6023e9ac59,14,4,1,2,10459,Luigi Toscano,ltoscano,"Allow plugin names to contain non-letter characters

There are already devstack plugins that contain a hyphen in the name,
like `networking-baremetal`. In order to allow ordering for these to
work properly, amend the regexes we are using to match any
non-whitespace characters instead of only alphanumerics.

Amend the test to cover this use case.

Change-Id: I91093a424f8d5e8007f140083e1ea36a81fe849f
Closes-Bug: 1809016
(cherry picked from commit 0b855007f8d44662ad4fd52bda7df85f94b241c2)
"
openstack%2Fnova~master~I361af845d6a733618ecd056aa7df973191184ae9,openstack/nova,master,nix-RBDDriver-init-args,I361af845d6a733618ecd056aa7df973191184ae9,Get rid of args to RBDDriver.__init__(),MERGED,2019-07-01 22:11:41.000000000,2019-07-31 18:10:19.000000000,2019-07-31 18:10:19.000000000,41,52,5,668564,45026cb5c1b0d40324a6183006b4a397c2d9342c,91,16,7,6,14070,Eric Fried,efried,"Get rid of args to RBDDriver.__init__()

While reviewing [1] I noticed an annoying and unnecessary
coupling/duplication of references to the CONF variables for RBD. This
commit consolidates them down to a single source, the guts of
RBDDriver.__init__().

As part of this a workaround is also removed concerning the passing of
conffile=None to RADOS via python-rbd. The following change merged in
2014 so we can now return None when ``[libvirt]/images_rbd_ceph_conf``
is not set:

Make python rados.Rados accept conffile=None
https://github.com/ceph/ceph/pull/1787

[1] https://review.opendev.org/667421

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Change-Id: I361af845d6a733618ecd056aa7df973191184ae9
"
openstack%2Fkolla-ansible~master~I6d205fe327f198e699519ebe9d589b9ee77a62d2,openstack/kolla-ansible,master,bug/1837274,I6d205fe327f198e699519ebe9d589b9ee77a62d2,Fix fluentd monasca pos path for Debian/Ubuntu x86_64,MERGED,2019-07-30 10:50:09.000000000,2019-07-31 18:09:53.000000000,2019-07-31 18:09:53.000000000,3,3,0,673479,19b345de3eae2266f13dcb3c3efa1b3c49fe892a,10,5,1,1,30491,Radosław Piliszek,yoctozepto,"Fix fluentd monasca pos path for Debian/Ubuntu x86_64

Change-Id: I6d205fe327f198e699519ebe9d589b9ee77a62d2
Closes-Bug: #1837274
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fopenstack-ansible-os_nova~master~Id2f266def07e0ba6967746738efd07cff628a19a,openstack/openstack-ansible-os_nova,master,620026,Id2f266def07e0ba6967746738efd07cff628a19a,Ensure that UEFI firmware is present for aarch64,MERGED,2018-11-26 12:18:16.000000000,2019-07-31 17:48:54.000000000,2019-07-31 17:48:54.000000000,1,0,0,620026,999e1b91a0a0f8e8a78203ffdce7b55d93c3a74c,23,5,5,1,25023,Jonathan Rosser,jrosser,"Ensure that UEFI firmware is present for aarch64

The qemu-efi package will pull in the x86_64 and aarch64 uefi firmware
ensuring both architectures are supported on debian/ubuntu

Change-Id: Id2f266def07e0ba6967746738efd07cff628a19a
"
openstack%2Fnetworking-sfc~master~I799b976d1e8764de344e7dc8efe27767800611e0,openstack/networking-sfc,master,,I799b976d1e8764de344e7dc8efe27767800611e0,Update the constraints url,MERGED,2019-07-03 09:40:33.000000000,2019-07-31 17:46:48.000000000,2019-07-31 17:46:48.000000000,1,1,0,668848,7fb02079435f3963c95da3514e3f19d04fdea2e4,12,7,2,1,18955,dharmendra,dharmendra,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I799b976d1e8764de344e7dc8efe27767800611e0
"
openstack%2Ftripleo-heat-templates~master~I657bfa8ed565c9283d8736dd078f5efe316472fd,openstack/tripleo-heat-templates,master,THT2TA,I657bfa8ed565c9283d8736dd078f5efe316472fd,Convert THT file to use new role,MERGED,2019-07-16 16:46:33.000000000,2019-07-31 17:40:37.000000000,2019-07-31 17:40:37.000000000,56,100,8,671107,8b0b12e77d638e67c847ae7f2ad38394e0db024f,25,7,3,1,7353,Kevin Carter,cloudnull,"Convert THT file to use new role

The THT file has been converted to use a newly created role found within
TripleO-Ansible. The THT process will now run all tasks through the role
using ""include_role"". To ensure we're keeping things separated, all of
the data transformations will still be taken care of in the heat template.
This ensures we have clean lines of separation allowing both services to
work as expected, without nuance or confusion.

Change-Id: I657bfa8ed565c9283d8736dd078f5efe316472fd
Story: 2006017
Task: 34602
Depends-On: Ia7fd611320d2f29b330a04484dca3146d74d8d82
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fpython-tripleoclient~master~I0668241a1675dd4e344cc24b6ff2cbb8f93b7a45,openstack/python-tripleoclient,master,bp/validation-framework,I0668241a1675dd4e344cc24b6ff2cbb8f93b7a45,Add gathering_policy parameter to run_ansible_playbook function,MERGED,2019-07-23 12:33:23.000000000,2019-07-31 17:40:34.000000000,2019-07-31 17:40:34.000000000,64,3,0,672278,d7793ce1a5eef8b076318aecc17ecbe5dcb418d6,13,6,3,4,11491,Gael Chamoulaud,gchamoul,"Add gathering_policy parameter to run_ansible_playbook function

This patch adds a new parameter called 'gathering_policy' (Defaults to
None) to the 'run_ansible_playbook' function. This parameter will
control the default policy of the Ansible fact gathering. Sets to None
by default, it will use the default policy for Ansible (ie. 'implicit').

Change-Id: I0668241a1675dd4e344cc24b6ff2cbb8f93b7a45
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fpython-tripleoclient~master~Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780,openstack/python-tripleoclient,master,bp/validation-framework,Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780,Use static inventory YAML file for saving execution time,MERGED,2019-07-19 08:50:29.000000000,2019-07-31 17:40:33.000000000,2019-07-31 17:40:33.000000000,43,11,4,671683,4f55cdf59ad871dccf107e191c9c738c22fe26f4,28,6,8,3,11491,Gael Chamoulaud,gchamoul,"Use static inventory YAML file for saving execution time

The validations execution will use now a static inventory file to speed
up things a bit. Note that this file will be removed after execution.

Change-Id: Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fpython-tripleoclient~master~I188604f7767b51a0f485bd79ff3497af56586b13,openstack/python-tripleoclient,master,bp/validation-framework,I188604f7767b51a0f485bd79ff3497af56586b13,Don't use local connection by default for the validations,MERGED,2019-07-18 13:44:47.000000000,2019-07-31 17:40:32.000000000,2019-07-31 17:40:32.000000000,0,2,0,671491,82887ef228659c7494f51b7e37eb177ff98b69bc,21,9,3,2,11491,Gael Chamoulaud,gchamoul,"Don't use local connection by default for the validations

When using local connection, all the validations targeting the overcloud
nodes are failing. Let's use the connection mode from the Ansible
inventory.

Change-Id: I188604f7767b51a0f485bd79ff3497af56586b13
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fpython-tripleoclient~master~I6f8f55963f3f5261ec1497b650e0ca509d31dd32,openstack/python-tripleoclient,master,bp/validation-framework,I6f8f55963f3f5261ec1497b650e0ca509d31dd32,Add plan parameter to run_ansible_playbook function,MERGED,2019-07-17 13:33:24.000000000,2019-07-31 17:40:31.000000000,2019-07-31 17:40:31.000000000,24,11,3,671289,17e56a01d5d1efbb9307addb80a92fe242595412,32,9,7,4,11491,Gael Chamoulaud,gchamoul,"Add plan parameter to run_ansible_playbook function

This patch adds a new parameter called 'plan' (Defaults to ""overcloud"")
to the 'run_ansible_playbook' function. It will allow to execute
Validations with Ansible in a different plan or stack that the default
one through the TripleO CLI. Note That it was already possible only
while using Mistral but not for Ansible.

This patch also brings:
- Change the default values of the 'tags' and 'skip_tags' arguments
  to 'None' and fixes their non Pythonic tests.
- Add '--stack' alias to the '--plan' argument for 'validator run'
  command.

Change-Id: I6f8f55963f3f5261ec1497b650e0ca509d31dd32
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fpython-tripleoclient~stable%2Fstein~I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20,openstack/python-tripleoclient,stable/stein,bp/validation-framework-stable/stein,I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20,Add --parameters and --create-vars-file arguments to the list subcommand,MERGED,2019-07-31 08:40:14.000000000,2019-07-31 17:40:30.000000000,2019-07-31 17:40:30.000000000,185,12,0,673759,55fe3842a347f628a91dfd1d8343b0f6afc01a42,8,6,1,5,11491,Gael Chamoulaud,gchamoul,"Add --parameters and --create-vars-file arguments to the list subcommand

The 'openstack tripleo validator list' subcommand can now get only the
available parameters for the validations using the new --parameters
argument.

```
$ openstack tripleo validator list \
    --parameters                   \
    [--validation-name <validation_id>[,<validation_id>,...] |
     --group <group>[,<group>,...]]
```

Here is an output example:

```
Waiting for messages on queue 'tripleo' with no timeout.
{
    ""undercloud-cpu"": {
        ""parameters"": {
            ""min_undercloud_cpu_count"": 8
        }
    },
    ""undercloud-ram"": {
        ""parameters"": {
            ""min_undercloud_ram_gb"": 24
        }
    }
}
```

The --create-vars-file allow the operator to generate either a JSON or a
YAML file containing only the parameters of one or multiple validations.
This file will be available to pass as extra vars to the validations
execution.

```
$ openstack tripleo validator list \
    --parameters                   \
    --create-vars-file [json|yaml] /home/stack/myvars \
    [--validation-name <validation_id>[,<validation_id>,...] |
     --group <group>[,<group>,...]]
```

Change-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit d1084193f6d60559f28b8b71fc0f0f6c032b09c7)
"
openstack%2Fpython-tripleoclient~stable%2Fstein~Idff6bcebc041db483d64396249b040e6bdd778bd,openstack/python-tripleoclient,stable/stein,bp/validation-framework-stable/stein,Idff6bcebc041db483d64396249b040e6bdd778bd,Allow running validations with custom extra variables,MERGED,2019-07-31 08:35:52.000000000,2019-07-31 17:40:30.000000000,2019-07-31 17:40:29.000000000,142,84,0,673756,f42e42629a0e1aa55ac82eb6486e34987e414ac2,7,7,1,3,11491,Gael Chamoulaud,gchamoul,"Allow running validations with custom extra variables

This patch adds the ability to pass extra variables to the validations
execution through Mistral and 'ansible-playbook'.

By default, the CLI is running the validations through
'ansible-playbook', then the operator will have two possible ways to
process it;

Either passing a Dict with the new --extra-vars argument

```
$ openstack tripleo validator run \
    --extra-vars '{""min_undercloud_ram_gb"": 2}'
    --validation-name undercloud-ram
```

or passing the absolute path of a JSON/YAML file using --extra-vars-file
argument.

```
$ cat /home/stack/vars.json
{
  ""volumes"": [
    {""min_size"": 10, ""mount"": ""/var/lib/docker""},
    {""min_size"": 3,  ""mount"": ""/var/lib/config-data""},
    {""min_size"": 3,  ""mount"": ""/var/log""},
    {""min_size"": 5,  ""mount"": ""/usr""},
    {""min_size"": 20, ""mount"": ""/var""},
    {""min_size"": 25, ""mount"": ""/""}
  ]
}
$ openstack tripleo validator run \
    --extra-vars-file /home/stack/vars.json
    --validation-name undercloud-disk-space
```

If the operator wants to use Mistral, she/he will just need to add the
--use-mistral argument to the command line in the previous
examples.

Note that Mistral will only support a valid JSON file as input.

Change-Id: Idff6bcebc041db483d64396249b040e6bdd778bd
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit d13a7d501eba4b25091f16cb9edc374b40ceb8ce)
"
openstack%2Ftripleo-heat-templates~master~I34dcc5d5c918c9ae3df14f8434225e4a0835fc27,openstack/tripleo-heat-templates,master,bp/reduce-deployment-resources,I34dcc5d5c918c9ae3df14f8434225e4a0835fc27,Drop HeatApiCfn service from undercloud,MERGED,2019-07-30 04:40:44.000000000,2019-07-31 17:30:32.000000000,2019-07-31 17:30:32.000000000,1,0,0,673398,65c7f166f75a08a12eaa932165a00de79cf782b4,11,6,1,1,8833,Rabi Mishra,rabi,"Drop HeatApiCfn service from undercloud

We don't use heat-api-cfn service on the undercloud. In
pre config-download times it was used for default deployment
signaling.

Change-Id: I34dcc5d5c918c9ae3df14f8434225e4a0835fc27
"
openstack%2Fnova-powervm~master~I97907720925901b2c789d3da38fdd62772e0a6a8,openstack/nova-powervm,master,,I97907720925901b2c789d3da38fdd62772e0a6a8,Updated Libraries:,MERGED,2019-07-22 18:16:56.000000000,2019-07-31 17:24:06.000000000,2019-07-22 18:57:24.000000000,34,26,1,672125,5de7a5ebdca34ba56407c9e8cece6953278ce27f,8,2,1,2,28063,VEDA,VedaAnnayappa,"Updated Libraries:

Added/Updated the versions of libraris used to be in sync with
openstack-nova

Change-Id: I97907720925901b2c789d3da38fdd62772e0a6a8
"
openstack%2Fopenstack-ansible~master~I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c,openstack/openstack-ansible,master,make-centos-great,I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c,doc: stop marking CentOS as experimental,MERGED,2019-07-25 14:09:30.000000000,2019-07-31 17:12:40.000000000,2019-07-25 20:08:12.000000000,1,1,0,672735,1db702d0e99bf72c8e9b724212ca9476002f5be3,8,3,1,1,1004,Mohammed Naser,mnaser,"doc: stop marking CentOS as experimental

Change-Id: I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c
"
openstack%2Fopenstack-ansible-os_nova~master~Ic5548f08d200402538a0334f801834ee7ef8a39b,openstack/openstack-ansible-os_nova,master,fix-ironic,Ic5548f08d200402538a0334f801834ee7ef8a39b,tasks: add conditionals for ironic,MERGED,2019-07-29 15:48:13.000000000,2019-07-31 17:12:28.000000000,2019-07-29 21:30:38.000000000,4,10,0,673316,efe094aa674c1444473e55a178dfc98ea80e59ad,10,5,1,4,1004,Mohammed Naser,mnaser,"tasks: add conditionals for ironic

This patch avoids running the nova_compute.yml playbook
entirely because we already skip the setup portion and we
don't need to setup SSH keys (as there's no live migration)
nor setting up NFS.

It also gets rid of the set_fact inside nova_virt_detect.yml
because it was non-functional in the first place.  This is
because the nova_virt_type was set to 'ironic' in the
group_vars which meant that the autodetect code was
skipped and therefore that portion never ran.

Change-Id: Ic5548f08d200402538a0334f801834ee7ef8a39b
"
openstack%2Fopenstack-ansible-tests~stable%2Fstein~I335e0cefa7b97c0a1ada2d8c54d03e031af823c5,openstack/openstack-ansible-tests,stable/stein,osa-update-ansible,I335e0cefa7b97c0a1ada2d8c54d03e031af823c5,Update ansible to 2.7.12,MERGED,2019-07-30 12:55:47.000000000,2019-07-31 17:06:22.000000000,2019-07-31 17:06:22.000000000,1,1,0,673508,eb4c04a9e1c00610210f508cac84ceade8c95df9,7,3,1,1,25023,Jonathan Rosser,jrosser,"Update ansible to 2.7.12

Change-Id: I335e0cefa7b97c0a1ada2d8c54d03e031af823c5
"
openstack%2Fdevstack~master~If7f43ac32da46c95e02b77241ad56d8bd22be378,openstack/devstack,master,ironic/skip-libvirt-config,If7f43ac32da46c95e02b77241ad56d8bd22be378,"When deploying to hardware in ironic, do not configure libvirt",ABANDONED,2019-04-17 15:12:21.000000000,2019-07-31 17:02:30.000000000,,4,2,0,653463,c7beec70095a77db2b860e6913fd640e6f37899c,8,6,1,1,11929,Michael Turek,mjturek,"When deploying to hardware in ironic, do not configure libvirt

When deploying to hardware in ironic, devstack will skip the install
of libvirt, as it is not used. [0] Currently the hypervisor-ironic
nova plugin configures libvirt even if libvirt install is skipped. This
causes failures in environments that deploys to hardware targets rather
than VM targets. [1]

[0] https://github.com/openstack-dev/devstack/blob/master/lib/nova_plugins/hypervisor-ironic#L60-L62
[1] https://dal05.objectstorage.softlayer.net/v1/AUTH_3d8e6ecb-f597-448c-8ec2-164e9f710dd6/pkvmci/ironic/82/648382/4/check-ironic/tempest-dsvm-ironic-agent_ipmitool/e84c583/devstacklog.txt.gz

Change-Id: If7f43ac32da46c95e02b77241ad56d8bd22be378
"
openstack%2Fpuppet-ceph~stable%2Fjewel~I0a1adb01f9cd2d154581102b8b62df067cd7b845,openstack/puppet-ceph,stable/jewel,meh,I0a1adb01f9cd2d154581102b8b62df067cd7b845,DNM trying to fix mimic ci,ABANDONED,2019-07-31 16:34:46.000000000,2019-07-31 16:55:53.000000000,,1,0,0,673869,d8ee7f5cd4d9265461a681c91dcf00b98f040380,2,0,1,1,14985,Alex Schultz,mwhahaha,"DNM trying to fix mimic ci

Change-Id: I0a1adb01f9cd2d154581102b8b62df067cd7b845
"
openstack%2Fcinderlib~master~I5a4663b286a5181924c0c1eab62fdf2e52863f80,openstack/cinderlib,master,allow-overwrite-test-config,I5a4663b286a5181924c0c1eab62fdf2e52863f80,Allow overriding CL_FTEST_CFG,ABANDONED,2019-07-30 15:27:02.000000000,2019-07-31 16:54:05.000000000,,2,2,0,673558,4bad953a43b905bdc8ffc75209ddc08a8fae81ed,7,2,2,2,10459,Luigi Toscano,ltoscano,"Allow overriding CL_FTEST_CFG

Otherwise it is not possible for tests to set a full path.

Change-Id: I5a4663b286a5181924c0c1eab62fdf2e52863f80
"
openstack%2Fmanila-ui~master~I5dbf20a04afea7db1fbff93b8584db853d4a1a6d,openstack/manila-ui,master,,I5dbf20a04afea7db1fbff93b8584db853d4a1a6d,Replace the old-operator in installation docs,MERGED,2019-07-31 11:59:13.000000000,2019-07-31 16:47:17.000000000,2019-07-31 16:47:16.000000000,1,1,0,673796,09dd8bc773623606f4d341c1a5dad8aca0606939,6,2,1,1,26458,Brin Zhang,zhangbailin,"Replace the old-operator in installation docs

Now the *Shares* in Horizon Dashboard under the 'Project' -> 'Share',
not under the 'Compute'.

Change-Id: I5dbf20a04afea7db1fbff93b8584db853d4a1a6d
"
openstack%2Fplacement~master~I2809c6be60ac102b40c942483a6cdbc0d113117f,openstack/placement,master,sphinx,I2809c6be60ac102b40c942483a6cdbc0d113117f,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-31 08:42:35.000000000,2019-07-31 16:45:51.000000000,2019-07-31 16:45:50.000000000,1,1,0,673760,835081ac363a122153323df26c173ddee305801c,8,4,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I2809c6be60ac102b40c942483a6cdbc0d113117f
"
openstack%2Fkeystone~master~I63e3715032cd8edb11fbff7651f5ba1af506dc9d,openstack/keystone,master,utf8-decode,I63e3715032cd8edb11fbff7651f5ba1af506dc9d,Fix python3 compatibility on LDAP search DN from id,MERGED,2019-07-24 13:24:28.000000000,2019-07-31 16:45:49.000000000,2019-07-31 16:45:49.000000000,2,3,0,672519,03531a56910b12922afde32b40e270b7d68a334b,18,7,1,1,8866,Raildo Mascena de Sousa Filho,raildo,"Fix python3 compatibility on LDAP search DN from id

In Python 3, python-ldap no longer allows bytes for some fields (DNs,
RDNs, attribute names, queries). Instead, text values are represented
as str, the Unicode text type.

[1] More details about byte/str usage in python-ldap can be found at:
http://www.python-ldap.org/en/latest/bytes_mode.html#bytes-mode

Change-Id: I63e3715032cd8edb11fbff7651f5ba1af506dc9d
Related-Bug: #1798184
"
openstack%2Fcinder~master~I8d46acade9d3e7b9e5f959f6591ec276183e6fd7,openstack/cinder,master,,I8d46acade9d3e7b9e5f959f6591ec276183e6fd7,Update json module to jsonutils,ABANDONED,2019-02-17 14:42:27.000000000,2019-07-31 16:43:51.000000000,,79,89,4,637428,d2ff8da8d6974e261c954f637402d12e421731a4,88,30,6,75,27781,zhulingjie,zhulingjie,"Update json module to jsonutils

oslo project provide jsonutils, and cinder use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/cinder/search?q=jsonutils&unscoped_q=jsonutils

Change-Id: I8d46acade9d3e7b9e5f959f6591ec276183e6fd7
"
openstack%2Fkeystone-tempest-plugin~master~I7ec5b27c2f9c40fc85f63fc94eff8f12d83e91ce,openstack/keystone-tempest-plugin,master,,I7ec5b27c2f9c40fc85f63fc94eff8f12d83e91ce,fix the url in doc,NEW,2018-12-26 07:21:08.000000000,2019-07-31 16:42:41.000000000,,1,1,2,627357,3cbb97318880512ae572ee14373fe0181c747508,10,7,2,1,28543,shupeng,Vieri,"fix the url in doc

Change-Id: I7ec5b27c2f9c40fc85f63fc94eff8f12d83e91ce
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,openstack/tripleo-heat-templates,stable/rocky,libvirt-guests_started-rocky,I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,Make sure libvirt-guests get started,MERGED,2019-07-29 10:04:54.000000000,2019-07-31 16:41:08.000000000,2019-07-31 16:41:08.000000000,1,0,0,673254,c93ea353f01312c62f581c68958dea1533634855,11,8,1,1,17216,Martin Schuppert,mcschupp,"Make sure libvirt-guests get started

Right now the libvirt-guests gets enabled, but not started during
initial deploy. Make sure we start the service.

 Conflicts:
	deployment/nova/nova-compute-container-puppet.yaml

Change-Id: I4f2f69f00cad54c3c767f54de54dc9a061b02b8d
(cherry picked from commit cf2e5926e480a36246c912ff7ff4ab58095fe7cd)
(cherry picked from commit 5b681900cbacdb2e30ba2833b0e8719e802d50e6)
"
openstack%2Frally-openstack~master~I6b1d0e97ecdf9a2befa2a052a1743916d662d136,openstack/rally-openstack,master,manila,I6b1d0e97ecdf9a2befa2a052a1743916d662d136,Add vars and enable manila jobs,MERGED,2019-07-29 23:41:27.000000000,2019-07-31 16:38:54.000000000,2019-07-31 16:38:54.000000000,96,7,6,673374,68f86c94473c32d4798869346b8ac88d971ffe91,17,3,6,2,16643,Goutham Pacha Ravi,gouthamr,"Add vars and enable manila jobs

Manila needs a ""backend"" to be configured; the
one provided by default is unsuitable to test
performance of the API since we may have too many
false positives if tests fail.

Add a ""rally-task-manila-ss"" job alongside
""rally-task-manila-no-ss"" job to cover both driver
modes supported by manila.

Change-Id: I6b1d0e97ecdf9a2befa2a052a1743916d662d136
"
openstack%2Fopenstack-ansible-os_placement~master~I342dd945b823b2b8134d759df2e2e2dd06a74ad4,openstack/openstack-ansible-os_placement,master,example_playbook,I342dd945b823b2b8134d759df2e2e2dd06a74ad4,Add example playbbok,MERGED,2019-07-31 08:43:30.000000000,2019-07-31 16:32:31.000000000,2019-07-31 16:32:31.000000000,12,0,0,673761,67f77de713324a8b83dffb9d5d3da5e05d6dc6a8,7,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add example playbbok

Add playbook as an example, since it was included in docs,
but was empty.

Change-Id: I342dd945b823b2b8134d759df2e2e2dd06a74ad4
"
openstack%2Ftripleo-validations~master~Id1f37466134b6506582bcea319fdbabc266cca5f,openstack/tripleo-validations,master,,Id1f37466134b6506582bcea319fdbabc266cca5f,Update tox requirements for Molecule tests.,ABANDONED,2019-07-30 21:02:35.000000000,2019-07-31 16:26:12.000000000,,28,4,0,673691,89cdb99f90fa2a3c016d6c67fe2b401724c3f5ed,6,1,3,1,25877,Luke Short,ekultails,"Update tox requirements for Molecule tests.

This puts tripleo-validations in-line with how tripleo-common
handles Molecule tests. It also helps address dependency
issues encountered in CI with the Stein branch.

Change-Id: Id1f37466134b6506582bcea319fdbabc266cca5f
Signed-off-by: Luke Short <ekultails@gmail.com>
"
openstack%2Fnova~master~I14314ea73c60317ebd2e091631411f26d2f7c550,openstack/nova,master,,I14314ea73c60317ebd2e091631411f26d2f7c550,rt: remove misleading log in _remove_deleted_instances_allocations,ABANDONED,2019-07-30 22:27:43.000000000,2019-07-31 16:22:18.000000000,,2,3,8,673706,b4c478c77c9712c8fddd2d476363900d5668fadf,13,10,1,1,6873,Matt Riedemann,mriedem,"rt: remove misleading log in _remove_deleted_instances_allocations

The ResourceTracker has not ""healed"" allocations since ironic
driver specific support was removed [1] and before that Ocata
compute compat was removed [2]. This change simply removes the
part of the log message saying allocation healing will be skipped
when there is an instance with allocations against the compute but
the instance.host is not yet set, e.g. if the instance build is
waiting to acquire the COMPUTE_RESOURCE_SEMAPHORE lock.

[1] If272365e58a583e2831a15a5c2abad2d77921729
[2] I39d93dbf8552605e34b9f146e3613e6af62a1774

Change-Id: I14314ea73c60317ebd2e091631411f26d2f7c550
"
