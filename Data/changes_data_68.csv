id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Foctavia-dashboard~stable%2Fwallaby~I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,openstack/octavia-dashboard,stable/wallaby,,I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,Fix invalid value range for member weight,MERGED,2022-02-03 17:07:36.000000000,2022-02-09 19:01:30.000000000,2022-02-09 18:35:42.000000000,15,7,0,827723,fc24b8495f9abcd59d6548e36993740c08346dd7,9,4,1,7,34429,Tom Weininger,tweining,"Fix invalid value range for member weight

Octavia supports setting the weight of members from 0 to 256, but
in Horizon the value 0 was not accepted. This fix allows entering
the value 0 as well, which is important for putting a member into
DRAINING state.

Change-Id: I25ce292f962cf6a0d6f017fe7bc47aaed0790efc
Story: 2009804
Task: 44362
(cherry picked from commit b1a86bb6ff3fa784b733641594eea86c2bb008d9)
(cherry picked from commit 7298c1a46f8b1bf7e5dec874482704fc83caf1ae)
"
openstack%2Foctavia-dashboard~stable%2Fxena~I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,openstack/octavia-dashboard,stable/xena,,I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,Fix invalid value range for member weight,MERGED,2022-02-03 17:04:35.000000000,2022-02-09 19:01:13.000000000,2022-02-09 18:39:15.000000000,15,7,0,827721,7298c1a46f8b1bf7e5dec874482704fc83caf1ae,9,4,1,7,34429,Tom Weininger,tweining,"Fix invalid value range for member weight

Octavia supports setting the weight of members from 0 to 256, but
in Horizon the value 0 was not accepted. This fix allows entering
the value 0 as well, which is important for putting a member into
DRAINING state.

Change-Id: I25ce292f962cf6a0d6f017fe7bc47aaed0790efc
Story: 2009804
Task: 44362
(cherry picked from commit b1a86bb6ff3fa784b733641594eea86c2bb008d9)
"
openstack%2Foctavia-dashboard~stable%2Fvictoria~I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,openstack/octavia-dashboard,stable/victoria,,I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,Fix invalid value range for member weight,MERGED,2022-02-03 17:08:58.000000000,2022-02-09 19:00:00.000000000,2022-02-09 18:31:56.000000000,15,7,0,827724,96cdde26e7e25305839f09516fd67fa707e5be54,9,4,1,7,34429,Tom Weininger,tweining,"Fix invalid value range for member weight

Octavia supports setting the weight of members from 0 to 256, but
in Horizon the value 0 was not accepted. This fix allows entering
the value 0 as well, which is important for putting a member into
DRAINING state.

Change-Id: I25ce292f962cf6a0d6f017fe7bc47aaed0790efc
Story: 2009804
Task: 44362
(cherry picked from commit b1a86bb6ff3fa784b733641594eea86c2bb008d9)
(cherry picked from commit 7298c1a46f8b1bf7e5dec874482704fc83caf1ae)
(cherry picked from commit fc24b8495f9abcd59d6548e36993740c08346dd7)
"
openstack%2Foctavia-dashboard~stable%2Fussuri~I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,openstack/octavia-dashboard,stable/ussuri,,I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,Fix invalid value range for member weight,MERGED,2022-02-03 17:09:52.000000000,2022-02-09 18:59:20.000000000,2022-02-09 18:31:32.000000000,15,7,0,827725,d11d0fe4e6368d4acda303578d8e7ebaaab89ceb,9,4,1,7,34429,Tom Weininger,tweining,"Fix invalid value range for member weight

Octavia supports setting the weight of members from 0 to 256, but
in Horizon the value 0 was not accepted. This fix allows entering
the value 0 as well, which is important for putting a member into
DRAINING state.

Change-Id: I25ce292f962cf6a0d6f017fe7bc47aaed0790efc
Story: 2009804
Task: 44362
(cherry picked from commit b1a86bb6ff3fa784b733641594eea86c2bb008d9)
(cherry picked from commit 7298c1a46f8b1bf7e5dec874482704fc83caf1ae)
(cherry picked from commit fc24b8495f9abcd59d6548e36993740c08346dd7)
(cherry picked from commit 96cdde26e7e25305839f09516fd67fa707e5be54)
"
openstack%2Foctavia-dashboard~stable%2Ftrain~I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,openstack/octavia-dashboard,stable/train,,I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,Fix invalid value range for member weight,MERGED,2022-02-03 17:10:20.000000000,2022-02-09 18:58:43.000000000,2022-02-09 18:29:30.000000000,15,7,0,827726,7b08299d0f9079bed792e71d45932ec2fe8bfd2c,9,4,1,7,34429,Tom Weininger,tweining,"Fix invalid value range for member weight

Octavia supports setting the weight of members from 0 to 256, but
in Horizon the value 0 was not accepted. This fix allows entering
the value 0 as well, which is important for putting a member into
DRAINING state.

Change-Id: I25ce292f962cf6a0d6f017fe7bc47aaed0790efc
Story: 2009804
Task: 44362
(cherry picked from commit b1a86bb6ff3fa784b733641594eea86c2bb008d9)
(cherry picked from commit 7298c1a46f8b1bf7e5dec874482704fc83caf1ae)
(cherry picked from commit fc24b8495f9abcd59d6548e36993740c08346dd7)
(cherry picked from commit 96cdde26e7e25305839f09516fd67fa707e5be54)
(cherry picked from commit d11d0fe4e6368d4acda303578d8e7ebaaab89ceb)
"
openstack%2Fbifrost~master~I89c331517dd97373eb99f613bb00e3cfc07f3d5c,openstack/bifrost,master,facts,I89c331517dd97373eb99f613bb00e3cfc07f3d5c,Remove deprecated os_ironic_facts,MERGED,2022-01-25 15:16:19.000000000,2022-02-09 18:58:23.000000000,2022-02-09 18:16:30.000000000,5,14,1,826308,1f0662bcf0df965621054410c0e738f4e9d73c57,12,3,1,3,10239,Dmitry Tantsur,dtantsur,"Remove deprecated os_ironic_facts

Change-Id: I89c331517dd97373eb99f613bb00e3cfc07f3d5c
"
openstack%2Fopenstacksdk~master~Ie86c1c554b31aa33dc53a72397376cbb72f14c03,openstack/openstacksdk,master,,Ie86c1c554b31aa33dc53a72397376cbb72f14c03,Identity: Add support for system role assignment,ABANDONED,2022-02-09 18:53:18.000000000,2022-02-09 18:54:52.000000000,,548,24,0,828602,b24e9553248653983d1d8a6833a464d6a30de990,2,0,1,12,30810,James Kirsch,generalfuzz,"Identity: Add support for system role assignment

Allow granting and revoking system role assignment to a user or group.
Enable filtering for system role when listing role assignments.

https: //docs.openstack.org/api-ref/identity/v3/#system-role-assignments
Change-Id: Ie86c1c554b31aa33dc53a72397376cbb72f14c03
"
openstack%2Fpython-tripleoclient~master~I24bea131cc949888518994a3aa08c200d579cb7d,openstack/python-tripleoclient,master,bug/1958524,I24bea131cc949888518994a3aa08c200d579cb7d,Support Deployed Ceph container push_destination,MERGED,2022-01-20 01:38:11.000000000,2022-02-09 18:54:30.000000000,2022-02-09 18:10:10.000000000,132,10,32,825416,3aae1ea80891539b2734f436929c2ae8056cfc61,32,7,5,4,18002,John Fulton,fultonj,"Support Deployed Ceph container push_destination

When 'openstack overcloud deploy ceph' is passed
--container-image-prepare with a file with a
push_destination then, then the resulting image
parameters should be modified to refer to the
images in push_destination instead of namespace.

In order to support push_destination the overcloud
/etc/containers/registries.conf and /etc/hosts must
be updated so that the undercloud hostname can be
resolved and so that podman will pull containers
from it as a registry. Calls to tripleo-ansible
roles tripleo_hosts_entries and tripleo_podman
are thus required.

Closes-Bug: 1958524
Depends-On: Ibaeb1249ae02651cbefba75d0912da205880a495
Change-Id: I24bea131cc949888518994a3aa08c200d579cb7d
"
openstack%2Fkayobe~master~I58f7259a956b721052d9adfc935b669ff201b299,openstack/kayobe,master,dnf-exclude-includepkgs,I58f7259a956b721052d9adfc935b669ff201b299,dnf: support exclude and includepkgs arguments,MERGED,2022-01-05 16:28:55.000000000,2022-02-09 18:54:14.000000000,2022-02-09 16:46:01.000000000,10,0,0,823560,3c8ce468a8b1aae52e22f1b8558402613889e404,9,3,2,2,15197,Pierre Riteau,priteau,"dnf: support exclude and includepkgs arguments

Change-Id: I58f7259a956b721052d9adfc935b669ff201b299
"
openstack%2Fcinder~stable%2Fvictoria~Ia59cbc5a4eb279e56f07ff9f44aa40b582aea829,openstack/cinder,stable/victoria,victoria-detach-vol-status,Ia59cbc5a4eb279e56f07ff9f44aa40b582aea829,Fix volume OVO create method,MERGED,2022-01-18 11:54:40.000000000,2022-02-09 18:50:01.000000000,2022-02-09 16:51:34.000000000,2,4,3,825104,3339bfb83963e0d60733696ed62462e8590b961d,20,5,1,2,9535,Gorka Eguileor,Gorka,"Fix volume OVO create method

When we create a volume in the DB using the OVO interface we were
missing some fields in the volume present in memory after it has been
created.

This was caused by the create method not passing the expected attributes
to the _from_db_object.

Because of this missing information we have places in the code where we
forcefully a reload of the whole Volume OVO when it shouldn't be
necessary.

This patch fixes the create method of the Volume OVO and removes an
instance of the forceful reload of the volume, reducing our DB calls.

Change-Id: Ia59cbc5a4eb279e56f07ff9f44aa40b582aea829
(cherry picked from commit bea4586635cbfa369c7552ac73d3e98aa4a61fb1)
"
openstack%2Foslo.messaging~stable%2Fxena~Id8557050157aecd3abd75c9114d3fcaecdfc5dc9,openstack/oslo.messaging,stable/xena,bug/1917645,Id8557050157aecd3abd75c9114d3fcaecdfc5dc9,Reproduce bug 1917645,MERGED,2022-01-13 08:53:00.000000000,2022-02-09 18:42:17.000000000,2022-02-09 17:33:04.000000000,68,0,1,824512,7390034e479c044d9067d97cd801f9f58c813e41,10,6,1,1,9708,Balazs Gibizer,gibi,"Reproduce bug 1917645

The [oslo_messaging_notification]retry parameter is not applied during
connecting to the message bus. But the documentation implies it should[1][2].
The two possible drivers, rabbit and kafka, behaves differently.

1) The rabbit driver will retry the connection forever, blocking the caller
   process.

2) The kafka driver also ignores the retry configuration but the
   notifier call returns immediately even if the notification is not
   (cannot) be delivered.

This patch adds test cases to show the wrong behavior.

[1] https://docs.openstack.org/oslo.messaging/latest/configuration/opts.html#oslo_messaging_notifications.retry
[2] https://github.com/openstack/oslo.messaging/blob/feb72de7b81e3919dedc697f9fb5484a92f85ad8/oslo_messaging/notify/messaging.py#L31-L36

Related-Bug: #1917645

Change-Id: Id8557050157aecd3abd75c9114d3fcaecdfc5dc9
(cherry picked from commit 1db6de63a86812742cbc37a0f5fe1fd7a095dd7f)
"
openstack%2Ftripleo-ansible~master~I3359568eb4c947a4911c258e9f960cd03e67b637,openstack/tripleo-ansible,master,tripleo_vip_delete,I3359568eb4c947a4911c258e9f960cd03e67b637,Fix tripleo_service_vip exception,MERGED,2022-02-08 19:39:37.000000000,2022-02-09 18:35:49.000000000,2022-02-09 17:27:49.000000000,2,1,5,828417,75e3e7d5684fdcf3d272f249ee0dec449203e5b2,16,8,2,1,25402,Francesco Pantano,fmount,"Fix tripleo_service_vip exception

The 'tripleo_service_vip' ansible module should fail and raise an
exception only during the provisioning phase. The playbook dir or
any other output shouldn't be required during the unprovisioning
process.

Closes-Bug: #1960352
Change-Id: I3359568eb4c947a4911c258e9f960cd03e67b637
"
openstack%2Fbifrost~master~Ia04126c39ab52816f0b89b89ae7a275d57011df1,openstack/bifrost,master,zuul-artifact,Ia04126c39ab52816f0b89b89ae7a275d57011df1,CI: properly publish artifacts for the upgrade job,MERGED,2022-02-03 15:11:02.000000000,2022-02-09 18:29:51.000000000,2022-02-09 16:57:29.000000000,12,0,0,827688,2d5026da096d6d1341088a28dfa2af3602a8c052,9,3,2,1,10239,Dmitry Tantsur,dtantsur,"CI: properly publish artifacts for the upgrade job

Change-Id: Ia04126c39ab52816f0b89b89ae7a275d57011df1
"
openstack%2Fkayobe~master~I96eb4685f997e85ad2ee5318640d58d0287a016d,openstack/kayobe,master,,I96eb4685f997e85ad2ee5318640d58d0287a016d,Disable EPEL by default,MERGED,2021-12-22 18:08:56.000000000,2022-02-09 18:11:03.000000000,2022-02-09 16:45:55.000000000,31,15,0,822758,e0dec91689aaa867d407f02264dced5677d84f84,12,3,3,10,14826,Mark Goddard,mgoddard,"Disable EPEL by default

EPEL is no longer required for a default installation. Let's disable it.

Also clean up the install_epel variable from Kolla Ansible globals.yml
template, since it never existed.

Story: 2009757
Task: 44227

Change-Id: I96eb4685f997e85ad2ee5318640d58d0287a016d
"
openstack%2Fcinder~stable%2Fvictoria~I442a42b0c098775935a799876ad8efbe141829ad,openstack/cinder,stable/victoria,victoria-detach-vol-status,I442a42b0c098775935a799876ad8efbe141829ad,Delete attachment on remove_export failure,MERGED,2022-01-18 11:54:40.000000000,2022-02-09 18:07:19.000000000,2022-02-09 16:38:04.000000000,35,10,2,825101,362b7e14f17d9b0aa751df3016b27c536e1c0bc8,17,3,1,3,9535,Gorka Eguileor,Gorka,"Delete attachment on remove_export failure

When deleting an attachment, if the driver's remove_export or the
detach_volume method call fails in the cinder driver, then the
attachment status is changed to error_detaching but the REST API call
doesn't fail.

The end result is:
- Volume status is ""available""
- Volume attach_status is ""detached""
- There is a volume_attachment record for the volume
- The volume may still be exported in the backend

The volume still being exported in the storage array is not a problem,
since the next attach-detach cycle will give it another opportunity for
it to succeed, and we also do the export on volume deletion.

So in the end leaving the attachment in error_detaching status doesn't
have any use and creates confusion.

This patch removes the attachment record when on an attachment delete
request if the error happens on remove_export or detach_volume calls.

This doesn't change how the REST API attachment delete operation
behaves, the change is that there will not be a leftover attachment
record with the volume in available and detached status.

Closes-Bug: #1935057
Change-Id: I442a42b0c098775935a799876ad8efbe141829ad
(cherry picked from commit 3aa00b087884a278e747e839db0707cf39561382)
Conflicts:
	cinder/volume/manager.py
(cherry picked from commit 1328c68a8cc6db0e4bd6b145daa788570908ed36)
(cherry picked from commit be7b001290ab56632aaf5d108aeccb367adea55c)
"
openstack%2Fopenstack-ansible~master~I40c9c41f2e5cb432199492eb4cf5a75bb1b6b0b0,openstack/openstack-ansible,master,,I40c9c41f2e5cb432199492eb4cf5a75bb1b6b0b0,Remove symlinking of selinux libraries into the ansible-runtime venv,MERGED,2022-02-02 21:05:24.000000000,2022-02-09 17:38:42.000000000,2022-02-09 16:40:49.000000000,0,6,3,827556,a5b99ca742a95a7ce5af63fb54ec9269201f12b2,16,3,1,1,25023,Jonathan Rosser,jrosser,"Remove symlinking of selinux libraries into the ansible-runtime venv

Core ansible modules that need selinux have been migrated to use
ctypes functions [1].

[1] https://github.com/ansible/ansible/blob/devel/lib/ansible/module_utils/compat/selinux.py

Change-Id: I40c9c41f2e5cb432199492eb4cf5a75bb1b6b0b0
"
openstack%2Fnova~master~Icd80bda98e6b9a127b865a911ba2df888c7341f2,openstack/nova,master,bp/remove-sqlalchemy-migrate,Icd80bda98e6b9a127b865a911ba2df888c7341f2,"WIP: objects: Prepare for Instance, InstanceList v3",ABANDONED,2021-10-01 14:34:34.000000000,2022-02-09 17:17:13.000000000,,152,122,0,812152,656a81237783efcec8275cdc610165301528b4f2,6,1,1,1,15334,Stephen Finucane,sfinucan,"WIP: objects: Prepare for Instance, InstanceList v3

This is a repeat of change I0edd4945aa226b7d0fc30d46a5c51ca61b9b545f,
only now we're bumping from 2.x to 3.0. Once again, we pull out the
common bits of Instance into _BaseInstance separately to prove that
tests continue to pass before and after this split.

WIP while I figure out the issues in the next patch in the series.

Change-Id: Icd80bda98e6b9a127b865a911ba2df888c7341f2
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I4c2c0a3fc3ef74d58a741a739c7c1c8f837ba424,openstack/nova,master,bp/remove-sqlalchemy-migrate,I4c2c0a3fc3ef74d58a741a739c7c1c8f837ba424,"WIP: objects: Add Instance, InstanceList v3",ABANDONED,2021-10-01 14:34:34.000000000,2022-02-09 17:17:11.000000000,,42,2,0,812153,507b6bb496a36aa58cc0e41148e24e2ffb836bd3,6,1,1,1,15334,Stephen Finucane,sfinucan,"WIP: objects: Add Instance, InstanceList v3

This adds Instance and InstanceList v3.0 and moves v2 compat-related
tests into a separate test subclass.

Note that since services like API and conductor will be sending v3.x
objects to older computes, this also adds a backport-to-2.x case to each
object for compatibility with Xena computes.

WIP: Because I need to figure out if I can actually drop
'instance_type_id' or if I should simply rename it (if that's even an
option). We store the ID of the flavor in the 'flavor' JSON field in the
'instance_extra' table but that's not indexable. Also, need to fix
tests.

Change-Id: I4c2c0a3fc3ef74d58a741a739c7c1c8f837ba424
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcinder~stable%2Fvictoria~I993444ba3b6e976d40ae7c5858b32999eb337c66,openstack/cinder,stable/victoria,victoria-detach-vol-status,I993444ba3b6e976d40ae7c5858b32999eb337c66,Remove unnecessary save call,MERGED,2022-01-18 11:54:40.000000000,2022-02-09 16:51:31.000000000,2022-02-09 16:51:31.000000000,0,1,8,825103,6be7ee3b6c7afe34562b986e60c9bef781b023c4,23,9,1,1,9535,Gorka Eguileor,Gorka,"Remove unnecessary save call

In Change-ID Ic8a8ba2271d6ed672b694d3991dabd46bd9a69f4 we added:

  vref.multiattach = self._is_multiattach(volume_type)
  vref.save()

Then we remove the assignment but forgot to remove the save.
This patch removes that unnecessary save call.

Change-Id: I993444ba3b6e976d40ae7c5858b32999eb337c66
(cherry picked from commit 9607e2e6e444e5eb087dd3742d25b3419a1c2ee0)
"
openstack%2Fcinder~stable%2Fvictoria~Id3c7783a80614e8a980d942343ecb9f47a5a805a,openstack/cinder,stable/victoria,victoria-detach-vol-status,Id3c7783a80614e8a980d942343ecb9f47a5a805a,Fix old attach method,MERGED,2022-01-18 11:54:40.000000000,2022-02-09 16:51:27.000000000,2022-02-09 16:51:27.000000000,13,4,3,825102,2aa799bbfb7de7599bb0c467a26438963dbeaa88,19,5,1,2,9535,Gorka Eguileor,Gorka,"Fix old attach method

The old attachment API has a mix of OVO and DB method calls that can
result in admin metadata being removed.

When we automatically update the admin metadata using DB methods these
changes are not reflected in the volume OVO, so when we pass the OVO via
RPC the receptor will assume that admin metadata present in the OVO is
up to date, and will delete key-value pairs that exist in the DB and are
not in memory.

That is happening on the old `attach` method with the `readonly` key
that gets removed by the volume service after it was added (calling the
DB) on the API service.

Patch doesn't include a release note to avoid making unnecessary noise
in our release notes, because it is unlikely to affect existing users
since Nova will be using the new attachment API.

Change-Id: Id3c7783a80614e8a980d942343ecb9f47a5a805a
(cherry picked from commit 779b0249fa23647afb9d68c407b01a6639c2b89d)
"
openstack%2Fcinder~stable%2Fvictoria~I3930bff90df835d9d8bbf7e6e91458db7e5654be,openstack/cinder,stable/victoria,bug/1950474-stable/victoria,I3930bff90df835d9d8bbf7e6e91458db7e5654be,Volume transfers: Remove duplicate policy check,MERGED,2022-02-01 14:37:38.000000000,2022-02-09 16:43:50.000000000,2022-02-09 16:37:40.000000000,8,3,8,827242,4115ca21f2c4b33e7aa33a80b41c5546ea92d563,44,4,1,2,27615,Rajat Dhasmana,whoami-rajat,"Volume transfers: Remove duplicate policy check

There is an initial policy check in the transfers accept API[1]
which validates correctly if the user is authorized to perform
the operation or not. However, we've a duplicate check in the volume
API layer which passes a target object (volume) while authorizing
which is wrong for this API. While authorizing, we enforce check on
the project id of the target object i.e. volume in this case which,
before the transfer operation is completed, contains the project id
of source project hence making the validation wrong.
In the case of transfers API, any project is able to accept the transfer
given they've the auth key required to secure the transfer accept
So this patch removes the duplicate policy check.

[1] https://opendev.org/openstack/cinder/src/branch/master/cinder/transfer/api.py#L225

Closes-Bug: #1950474
Change-Id: I3930bff90df835d9d8bbf7e6e91458db7e5654be
(cherry picked from commit 7ba9935a6e1e8a572391563927acb086fdbe5e5c)
(cherry picked from commit 46415541a790869d9f5a5a5cc821852730b98149)
(cherry picked from commit b86da5d4073d9c50aed90c4d6ae6884138be6b06)
"
openstack%2Fceilometer~stable%2Fwallaby~I9dcf775cc3306a6f5145d3159127518440b29c51,openstack/ceilometer,stable/wallaby,,I9dcf775cc3306a6f5145d3159127518440b29c51,remove monotonic from requires,MERGED,2021-12-15 17:17:59.000000000,2022-02-09 16:40:55.000000000,2022-02-09 16:35:16.000000000,0,2,5,821866,ae150200874c55522f5da508e2219e5f971c68f9,17,3,1,2,16282,YaZug,yazug,"remove monotonic from requires

Since python 2 support was removed there
are no direct usage of monotonic package

Change-Id: I9dcf775cc3306a6f5145d3159127518440b29c51
"
openstack%2Fbifrost~master~I0479a79a6c81be83496b27a1d396ef5debb88090,openstack/bifrost,master,dhcp-centos9,I0479a79a6c81be83496b27a1d396ef5debb88090,"Add dhcp, vmedia and dibipa CentOS Stream 9 jobs",MERGED,2022-01-31 16:48:33.000000000,2022-02-09 16:39:20.000000000,2022-02-09 16:28:28.000000000,23,0,1,827154,909c04059a099b0e0bb1656f410f1dd9a4aba830,10,3,1,2,23851,Riccardo Pittau,elfosardo,"Add dhcp, vmedia and dibipa CentOS Stream 9 jobs

This should complete the CentOS Stream 9 support for bifrost

Change-Id: I0479a79a6c81be83496b27a1d396ef5debb88090
"
openstack%2Fcinder~stable%2Fvictoria~Ie48cf55deacd08e7716201dac00ede8d57e6632f,openstack/cinder,stable/victoria,victoria-detach-vol-status,Ie48cf55deacd08e7716201dac00ede8d57e6632f,Fix detach notification,MERGED,2022-01-18 11:54:40.000000000,2022-02-09 16:37:44.000000000,2022-02-09 16:37:44.000000000,28,14,3,825100,c9d3cc966cc4856b9fcc8625ce3ce86061df1d87,18,4,1,4,9535,Gorka Eguileor,Gorka,"Fix detach notification

Our current `attachment_delete` methods in the volume API and the
manager are using DB methods directly, which makes the OVOs present in
those methods get out of sync with the latest data, which leads to
notifications having the wrong data when we send them on volume detach.

This patch replaces DB method calls with OVO calls and moves the
notification call to the end of the method, where we have the final
status on the volume.

It also adds the missing detach.start notification when deleting an
attachment in the reserved state.

Closes-Bug: #1916980
Closes-Bug: #1935011
Change-Id: Ie48cf55deacd08e7716201dac00ede8d57e6632f
(cherry picked from commit 68d49445778ef486e3ff656929405ab270a5a65d)
Conflicts:
	cinder/volume/api.py
Changes:
        cinder/volume/manager.py
(cherry picked from commit c0197c6f1ad13e3a63615ceb667a53d3bbca2d77)
(cherry picked from commit ed06fc7452699d76c22b288e1cc8e8bc2afa1849)
"
openstack%2Felection~master~Iff10f99fd21f3ccdbffeabc486d347dfd86f3c04,openstack/election,master,,Iff10f99fd21f3ccdbffeabc486d347dfd86f3c04,Add Lucian Petrut candidacy for Winstackers,MERGED,2022-02-09 07:41:19.000000000,2022-02-09 16:26:42.000000000,2022-02-09 16:21:17.000000000,21,0,2,828466,6ab3338cfa28c48c82a2b251782f6f499ff210ed,8,3,1,1,8543,Lucian Petrut,plucian,"Add Lucian Petrut candidacy for Winstackers

Change-Id: Iff10f99fd21f3ccdbffeabc486d347dfd86f3c04
"
openstack%2Felection~master~I23c3cb1564ee14645426481ea21ea0d941fce753,openstack/election,master,,I23c3cb1564ee14645426481ea21ea0d941fce753,Michal Nasiadka candidacy for Kolla PTL (Z),MERGED,2022-02-09 12:58:14.000000000,2022-02-09 16:23:27.000000000,2022-02-09 16:20:13.000000000,8,0,2,828523,23e776aa87ddb8f54ca5a7d18d87c844173607e9,8,3,1,1,22629,Michal Nasiadka,mnasiadka,"Michal Nasiadka candidacy for Kolla PTL (Z)

Change-Id: I23c3cb1564ee14645426481ea21ea0d941fce753
"
openstack%2Fpython-tripleoclient~master~I591ea9632a14cd75b570d9c5708fc02b39dbc162,openstack/python-tripleoclient,master,1959662,I591ea9632a14cd75b570d9c5708fc02b39dbc162,Also remove Nova services from undercloud,ABANDONED,2022-02-01 10:47:23.000000000,2022-02-09 16:11:00.000000000,,28,1,62,827261,e7075ffce770e1aa078f6bb10219e48d452e9e70,14,1,2,2,6926,Bogdan Dobrelya,bogdando,"Also remove Nova services from undercloud

Wire-in the service to remove Nova from undercloud since
it is no longer used as of Wallaby.

Depends-On: https://review.opendev.org/827260
Change-Id: I591ea9632a14cd75b570d9c5708fc02b39dbc162
Related-bug: #1959662
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fansible-collections-openstack~master~I1d57ab976ac3b4c5552b9b21db7e90e25fd71764,openstack/ansible-collections-openstack,master,baremetal_port_info,I1d57ab976ac3b4c5552b9b21db7e90e25fd71764,Add openstack.cloud.baremetal_port_info module,MERGED,2022-02-05 02:02:04.000000000,2022-02-09 16:09:50.000000000,2022-02-09 16:09:50.000000000,209,0,2,827937,a1b920742f89e07aeae436d6a4eb947a4cfe759e,12,3,2,2,24245,Harald Jensås,harald.jensas,"Add openstack.cloud.baremetal_port_info module

Retrieve information about Bare Metal ports from OpenStack

NOTE: Does not support 'is_smart_nic', afict this is
      not implemented in openstacksdk.

Change-Id: I1d57ab976ac3b4c5552b9b21db7e90e25fd71764
"
openstack%2Fovn-octavia-provider~stable%2Fussuri~I6e9bdbd4efed55b2a3ca4cb53ab118130a2286dc,openstack/ovn-octavia-provider,stable/ussuri,bug_2042976_stable_ussuri,I6e9bdbd4efed55b2a3ca4cb53ab118130a2286dc,Add support for fullypopulated load balancers,ABANDONED,2022-02-03 16:13:48.000000000,2022-02-09 16:09:48.000000000,,87,7,6,827706,1b456fdfeac42d2aa73fcbb74ac07007bccb302c,20,4,7,2,34451,Fernando Royo,froyo,"Add support for fullypopulated load balancers

Octavia API allows to create fully populated load balancers with
a single call. OVN-octavia-provider was not implementing this option
and only the loadbalancer was created, living the listener(s),
pool(s), and member(s) created by the Octavia API as PENDING_CREATE.
This also generated leftovers when trying to delete the loadbalancer
with the --cascade option.

Closes-Bug: #1958964
(cherry picked from commit 6cc77f8a22084d610bdc071c8aab36615f0a6a0b)

Upstream-Wallaby: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827694
Upstream-Xena: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827689
Upstream-Victoria: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827692
Change-Id: I6e9bdbd4efed55b2a3ca4cb53ab118130a2286dc
"
openstack%2Fhorizon~master~I798f345e729ae974917872ba1f2e43205a660c45,openstack/horizon,master,,I798f345e729ae974917872ba1f2e43205a660c45,Replace deprecated imp module,MERGED,2021-12-28 00:12:37.000000000,2022-02-09 15:55:37.000000000,2022-02-09 15:51:37.000000000,3,10,34,823028,5d0b2b74d4fb62049ddcc2e4000c7771e0749165,52,4,11,1,9816,Takashi Kajinami,kajinamit,"Replace deprecated imp module

The imp module is deprecated since Python 3.4[1] in favor of the new
importlib module. This change replaces usage of that deprecated module.

[1] https://docs.python.org/3/library/imp.html

NOTES:
- This change simplifies the logic, assuming the DJANGO_SETTINGS_MODULE
  environment should be a module name. (The previous implementation
  eventually raises an exception if the name is not a module name but
  anything else like a class name.)

- The imp.find_module method raises ImportError when the module is not
  found. This means the previous implementation never returns
  sys.path[0]. If the module is found the value is replaced and if it
  is not found then the method doesn't return any value but raises
  an exception.

Change-Id: I798f345e729ae974917872ba1f2e43205a660c45
"
openstack%2Fkayobe~master~I0747cc8fa6fdbfa980b1263da3b3edddb725d2db,openstack/kayobe,master,centos-docs,I0747cc8fa6fdbfa980b1263da3b3edddb725d2db,Update documentation about CentOS support,MERGED,2022-01-11 10:52:31.000000000,2022-02-09 15:47:51.000000000,2022-02-09 15:37:48.000000000,6,7,1,824141,0eac03235c88ae705048aafc6979a0293659bb04,8,3,1,3,15197,Pierre Riteau,priteau,"Update documentation about CentOS support

Change-Id: I0747cc8fa6fdbfa980b1263da3b3edddb725d2db
"
openstack%2Fkayobe~master~If1671ac19dac4c36dd3a47bf2b8e2ae8dea5abdd,openstack/kayobe,master,,If1671ac19dac4c36dd3a47bf2b8e2ae8dea5abdd,Remove deprecated kolla_tls_cert variable,MERGED,2021-12-13 16:31:37.000000000,2022-02-09 15:42:56.000000000,2022-02-09 15:37:44.000000000,6,6,4,821607,336d6382a62841a8c235c978a364ecd6fcceb469,12,3,1,3,15197,Pierre Riteau,priteau,"Remove deprecated kolla_tls_cert variable

Change-Id: If1671ac19dac4c36dd3a47bf2b8e2ae8dea5abdd
"
openstack%2Foctavia-tempest-plugin~master~I5c2db87975803b30ea230c3bbf5dab4b96da4614,openstack/octavia-tempest-plugin,master,,I5c2db87975803b30ea230c3bbf5dab4b96da4614,Fix octavia-tempest-plugin on old tempest releases,MERGED,2022-02-04 07:59:10.000000000,2022-02-09 15:42:53.000000000,2022-02-09 15:30:24.000000000,17,4,5,827811,b0da4f3ce5142a41c1b20651f5d457fc9c100054,16,8,2,2,29244,Gregory Thiemonge,gthiemonge,"Fix octavia-tempest-plugin on old tempest releases

This is a follow-up commit for 'Add type to allow ECDSA keys'
(I34ac429ab5442cef056ee8b63fcb2ba41e8b9b27), this commit allows
using octavia-tempest-plugin with older tempest releases
(ex: in our jobs on stable/train).
It catches the exception if [validation].ssh_key_type is not
supported and doesn't pass the ssh_key_type argument to tempest
functions.

Change-Id: I5c2db87975803b30ea230c3bbf5dab4b96da4614
"
openstack%2Fkolla-ansible~master~Ic10a23c42eab77661a95a7bb90a49531241ad886,openstack/kolla-ansible,master,fix-docs-operating-kolla-upgrade,Ic10a23c42eab77661a95a7bb90a49531241ad886,[docs] Rewrite operating-kolla upgrade-wise,MERGED,2021-09-16 18:06:48.000000000,2022-02-09 15:42:33.000000000,2022-02-09 15:29:49.000000000,96,110,52,809445,15ac61244fec6f2410f422fd72951b7f059d151c,25,5,2,1,30491,Radosław Piliszek,yoctozepto,"[docs] Rewrite operating-kolla upgrade-wise

This file was so wrong that it needed an urgent rewrite.
And here it is.

Change-Id: Ic10a23c42eab77661a95a7bb90a49531241ad886
"
openstack%2Fcharm-deployment-guide~master~I66fd1e2fd6de4dd792e389fa50073fd1b655eda7,openstack/charm-deployment-guide,master,bug/1949074,I66fd1e2fd6de4dd792e389fa50073fd1b655eda7,Include additional parameter needed for cinder-lvm migration,ABANDONED,2022-02-08 21:51:29.000000000,2022-02-09 15:23:49.000000000,,7,0,2,828430,abd5034e91a3e135a40d1300e23c007b25759dc1,6,2,2,1,33717,Luciano Lo Giudice,lmlg,"Include additional parameter needed for cinder-lvm migration

Starting with the release of Wallaby, the 'tgtadm' package is
now the default target helper, which doesn't work for cinder-lvm.
As such, we need to explicitly set the new package to 'lioadm'.

Closes-Bug: #1949074
Change-Id: I66fd1e2fd6de4dd792e389fa50073fd1b655eda7
"
openstack%2Fkolla~stable%2Fussuri~I95ea4a66a80bf035f8bd1180790c7e0c85d759ed,openstack/kolla,stable/ussuri,,I95ea4a66a80bf035f8bd1180790c7e0c85d759ed,Drop CentOS Linux 8 image builds,MERGED,2022-02-09 10:21:14.000000000,2022-02-09 15:23:27.000000000,2022-02-09 15:11:27.000000000,11,93,1,828403,7ba238516f9552f2b053d339cac75acaa2014794,16,3,4,3,22629,Michal Nasiadka,mnasiadka,"Drop CentOS Linux 8 image builds

Change-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed
(cherry picked from commit 07f519996381789c1f21850cfc9b27f3b86a6f4c)
"
openstack%2Fbarbican~stable%2Fxena~I1724152839f0f5850f8d32d40b36d1670c0ad996,openstack/barbican,stable/xena,secure-rbac-stable/xena,I1724152839f0f5850f8d32d40b36d1670c0ad996,Fix container consumers rbac policy,MERGED,2022-02-08 21:55:40.000000000,2022-02-09 14:41:55.000000000,2022-02-09 14:28:49.000000000,245,122,0,828393,6a5ab85f4103e95251a936155ea83da844032149,8,2,2,14,7973,Douglas Mendizábal,dougmendizabal,"Fix container consumers rbac policy

This patch modifies the Consumer controller to enable the use of
ownership information in policy checks. e.g. policies that use a target
container:

   project_id:%(target.container.project_id)

Story: 2009664
Task: 43873

Depends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999
Change-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996
(cherry picked from commit 960159332864740cfbdaeb339ddbaae48238a6d2)
"
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fwallaby~Ieb41362920ee398d5b17c5c0331735b240fb5102,openstack/openstack-ansible-lxc_hosts,stable/wallaby,osa/remove-centos8-stable/wallaby,Ieb41362920ee398d5b17c5c0331735b240fb5102,Replace CentOS 8 with Stream jobs,MERGED,2022-02-07 09:42:14.000000000,2022-02-09 14:41:54.000000000,2022-02-09 14:28:46.000000000,3,3,1,827966,b57db77442c1a6354b0a43cee667f595e5f4a915,14,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Replace CentOS 8 with Stream jobs

Change-Id: Ieb41362920ee398d5b17c5c0331735b240fb5102
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I31ac34c0dda7ce95ca48f17c452789ee7ea03e28,openstack/tripleo-upgrade,stable/train,,I31ac34c0dda7ce95ca48f17c452789ee7ea03e28,Add 1m delay before running workloads.,MERGED,2022-02-03 09:21:28.000000000,2022-02-09 14:39:01.000000000,2022-02-09 14:39:01.000000000,11,3,8,827609,7e412452b6333e928aed7d99aa852343bc194e08,19,6,3,2,26343,Jose Luis Franco,jfrancoa,"Add 1m delay before running workloads.

In FFU there is a moment when control is moved from old
cluster(controller-1,2) to an upgraded one(controller-0). So all
connections will be dropped so network agent will initiate timeout.
Ibd21764992f401d06b24718ea28cb2735de53858 reduces rpc timeout to 1m in
hybrid mode which should help to mitigate the case. This patch adds 1m
delay where netron agent restores operations to normal. Also it improves
sanity check to check neutron services as well as compute.

Depends-On: Ibd21764992f401d06b24718ea28cb2735de53858

Change-Id: I31ac34c0dda7ce95ca48f17c452789ee7ea03e28
"
openstack%2Foslo.policy~stable%2Fwallaby~Ifcaf6993517d02bf54cd144efd247832947a009f,openstack/oslo.policy,stable/wallaby,lc-wallaby,Ifcaf6993517d02bf54cd144efd247832947a009f,Dropping lower constraints testing,MERGED,2021-11-04 11:06:57.000000000,2022-02-09 14:37:15.000000000,2022-02-09 14:22:28.000000000,0,57,3,816643,21df7f5a32b3eb0f7352eafd9f79c7ca28919938,13,4,1,3,28522,Hervé Beraud,hberaud,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ifcaf6993517d02bf54cd144efd247832947a009f
(cherry picked from commit 7b649af0c1569ebb61ed4e34da4a476ccb1474b9)
"
openstack%2Ftripleo-ansible~master~Ibaeb1249ae02651cbefba75d0912da205880a495,openstack/tripleo-ansible,master,bug/1958524,Ibaeb1249ae02651cbefba75d0912da205880a495,Add playbooks to config overcloud hosts and container regsitry,MERGED,2022-02-03 15:17:52.000000000,2022-02-09 14:10:08.000000000,2022-02-09 14:10:08.000000000,49,0,8,827690,4de0bc4d94f2fa1c1234db4519aa316b96495108,18,4,3,2,18002,John Fulton,fultonj,"Add playbooks to config overcloud hosts and container regsitry

Add two playbooks which call the tripleo_hosts_entries and
tripleo_podman roles. These roles are usually called from
THT deploy-steps but in order to deploy Ceph before the
overcloud the 'openstack overcloud ceph deploy' command
needs to be able to call them earlier so these two playbooks
provide it an interface to do so.

See I24bea131cc949888518994a3aa08c200d579cb7d which depends-on
this patch.

Related-Bug: 1958524
Change-Id: Ibaeb1249ae02651cbefba75d0912da205880a495
"
openstack%2Fcharm-neutron-openvswitch~master~I4fa3256b39e62e9df223ab40f17f1677a621f293,openstack/charm-neutron-openvswitch,master,bug/1923636,I4fa3256b39e62e9df223ab40f17f1677a621f293,Mark ovs-record-hostname as deferable service.,MERGED,2022-02-08 19:54:37.000000000,2022-02-09 14:07:26.000000000,2022-02-09 14:07:26.000000000,1,1,8,828422,f6a9487b05b08e5481d0792d825c98548621e5c0,16,4,1,1,2424,Felipe Reyes,freyes,"Mark ovs-record-hostname as deferable service.

Add ovs-record-hostname to the list of deferrable services, this service
was SRU'ed into Ubuntu >= Focal, when it's not mark as deferrable on
package upgrades will induce a restart of openvswitch-switch.

Change-Id: I4fa3256b39e62e9df223ab40f17f1677a621f293
Closes-Bug: #1923636
Related-Bug: #1915829
"
openstack%2Fcharm-nova-compute~master~I6f6da8e90c6bbcd031ee183ae86d88eccd392230,openstack/charm-nova-compute,master,bug/1758607,I6f6da8e90c6bbcd031ee183ae86d88eccd392230,Expose block-device-allocate-retries and interval,MERGED,2022-02-08 09:03:40.000000000,2022-02-09 14:06:55.000000000,2022-02-09 14:06:55.000000000,89,0,4,828253,2283f12eddc45ab97701ece264391e545f6bda1c,10,4,1,7,8108,Nobuto Murata,nobuto-m,"Expose block-device-allocate-retries and interval

The upstream has 3 min as the timeout (60 retries at 3-seconds
interval). It should work if an image is in a raw format to leverage
Ceph's copy-on-write or an image is small enough to be copied quickly.
However, there are some cases exeeding the 3 min deadline such as a big
enough image with Qcow2 or other formats like Windows images, or storage
backend doesn't have copy-on-write from Glance.

Let's bump the deadline to 15 min (300 retries at 3-seconds interval) to
cover most of the cases out of the box, and let operators tune it
further by exposing those options.

Co-authored-by: Mark Maglana <mark.maglana@canonical.com>
Closes-Bug: 1758607
Change-Id: I6f6da8e90c6bbcd031ee183ae86d88eccd392230
"
openstack%2Fpuppet-openstack-integration~stable%2Fxena~I9eae6425761b9a93ab0f44d4cb42d93a1add6b40,openstack/puppet-openstack-integration,stable/xena,,I9eae6425761b9a93ab0f44d4cb42d93a1add6b40,CentOS: Capture yum repository files,MERGED,2022-02-08 23:36:54.000000000,2022-02-09 13:53:36.000000000,2022-02-09 13:53:36.000000000,4,0,1,828394,953af8500f4bc558fd5574601ccc2608bb484ecc,7,3,1,1,9816,Takashi Kajinami,kajinamit,"CentOS: Capture yum repository files

When some of the repositories are not accessible, repository list is
not properly captured and that makes it difficult to find out which
repository is wrong or has an issue.
This change ensures the repository configuration files are captured
as part of logs, for easy reference.

Change-Id: I9eae6425761b9a93ab0f44d4cb42d93a1add6b40
(cherry picked from commit 8c220d00d4b72aa6a98852db2453532ec524f179)
"
openstack%2Fpuppet-openstack-integration~stable%2Fxena~Ic17dbf2eec527eb6a62ba9c21fab66dc98554989,openstack/puppet-openstack-integration,stable/xena,,Ic17dbf2eec527eb6a62ba9c21fab66dc98554989,Capture network information in integration/litmus jobs,MERGED,2022-02-08 23:37:55.000000000,2022-02-09 13:53:33.000000000,2022-02-09 13:53:33.000000000,5,0,1,828395,271e904ee99836b3d2557afab73d5198389ea2a6,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Capture network information in integration/litmus jobs

This change adds output of the following three commands so that we
can check network setup.
 $ sudo ip -d address
 $ sudo brctl show
 $ sudo ovs-vsctl show

Change-Id: Ic17dbf2eec527eb6a62ba9c21fab66dc98554989
(cherry picked from commit 70accb10860e83d72d4008910dd1378a8b33cdee)
"
openstack%2Fkayobe~master~I42026fafb1be0071f5ec94e81881c4a3bdd34af8,openstack/kayobe,master,story/2009810,I42026fafb1be0071f5ec94e81881c4a3bdd34af8,Set requirements branch for IPA build,MERGED,2022-01-27 16:55:09.000000000,2022-02-09 13:50:09.000000000,2022-02-09 13:46:21.000000000,13,3,3,826735,156ae2bb8ba9df35696018b8321e6d1ab9060ef0,19,3,4,3,28048,Will Szumski,jovial,"Set requirements branch for IPA build

Currently we use the HEAD reference for OpenStack requirements. This can
create images that are incompatible with your version of OpenStack.

See:
https://review.opendev.org/c/openstack/ironic-python-agent-builder/+/688911

Change-Id: I42026fafb1be0071f5ec94e81881c4a3bdd34af8
Story: 2009810
Task: 44371
"
openstack%2Fhorizon~master~Ieeddc2451adb79405fe3ac72fdf5900ca7c5f628,openstack/horizon,master,neutron_port_issue,Ieeddc2451adb79405fe3ac72fdf5900ca7c5f628,Allow port_get to fail when listing all floating ips,NEW,2022-01-24 17:20:46.000000000,2022-02-09 13:33:46.000000000,,10,2,8,826131,56c031689311941b4d7f71815bdec70f05e32826,10,1,4,1,7130,David Hill,dhill,"Allow port_get to fail when listing all floating ips

Allow port_get to fail when listing all floating ips as not all users
are allowed to get ports from all other users such as admin.

Change-Id: Ieeddc2451adb79405fe3ac72fdf5900ca7c5f628
"
openstack%2Fnova~master~I7412b16be310632da59a6139df9f0913281b5d77,openstack/nova,master,,I7412b16be310632da59a6139df9f0913281b5d77,Cleanup old resize instances dir before resize,MERGED,2022-02-04 14:02:58.000000000,2022-02-09 13:22:02.000000000,2022-02-09 13:16:32.000000000,21,7,4,827865,9111b99f739d41c092db8d01712a5aa72388b5fb,43,3,4,3,16137,Tobias Urdin,tobasco,"Cleanup old resize instances dir before resize

If there is a failed resize that also failed the cleanup
process performed by _cleanup_remote_migration() the retry
of the resize will fail because it cannot rename the current
instances directory to _resize.

This renames the _cleanup_failed_migration() that does the
same logic we want to _cleanup_failed_instance_base() and
uses it for both migration and resize cleanup of directory.

It then simply calls _cleanup_failed_instances_base() with
the resize dir path before trying a resize.

Closes-Bug: 1960230
Change-Id: I7412b16be310632da59a6139df9f0913281b5d77
"
openstack%2Ftap-as-a-service~master~I50edbd43ad4f229d911abde77dcf32caf8118832,openstack/tap-as-a-service,master,dnm,I50edbd43ad4f229d911abde77dcf32caf8118832,DNM: test master,ABANDONED,2022-01-31 10:28:50.000000000,2022-02-09 13:06:35.000000000,,2,2,0,827043,0fe8e58a3bc5d8c7b33cad4bca3b9de20d3f9589,3,1,1,1,8313,Lajos Katona,elajkat,"DNM: test master

Change-Id: I50edbd43ad4f229d911abde77dcf32caf8118832
"
openstack%2Fpython-openstackclient~master~I8e5dad90cfd28b1f0d65be688651918869f679e4,openstack/python-openstackclient,master,,I8e5dad90cfd28b1f0d65be688651918869f679e4,Add missing command mapping in nova,MERGED,2021-11-21 05:07:56.000000000,2022-02-09 12:53:40.000000000,2022-02-09 12:50:18.000000000,1,1,0,818684,b3d09ffc37f6b577ce479a5203c6c882062fee74,7,2,1,1,28982,Jieon Lee,JieonLee,"Add missing command mapping in nova

nova command: instance-action
openstack command: server event show

Change-Id: I8e5dad90cfd28b1f0d65be688651918869f679e4
"
openstack%2Fpython-openstackclient~master~I1095100efb27b8559412469f0a9d07fc0a3db9d5,openstack/python-openstackclient,master,bug/1930200,I1095100efb27b8559412469f0a9d07fc0a3db9d5,Support Neutron Local IP CRUD,MERGED,2021-08-23 11:44:18.000000000,2022-02-09 12:52:20.000000000,2022-02-09 12:50:15.000000000,1657,2,118,805618,26144743d9207d876df40e030a2a4132e18a79a7,104,8,27,12,32667,Mamatisa Nurmatov,isabek,"Support Neutron Local IP CRUD

Add support for Neutron Local IP CRUD operations.

Partial-Bug: #1930200
Depends-On: https://review.opendev.org/c/openstack/neutron/+/804523
Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988
Change-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I7beecf2dd6c49c8934722cf22efa74e920ecb060,openstack/kolla-ansible,stable/victoria,ci-replace-parted-stable/xena-stable/wallaby-stable/victoria,I7beecf2dd6c49c8934722cf22efa74e920ecb060,[CI] Replace parted with lsblk,MERGED,2022-02-08 17:32:58.000000000,2022-02-09 12:00:34.000000000,2022-02-09 11:43:45.000000000,1,1,0,828391,3cf4fe128a04d4852bdfd0522af760c09151617f,9,3,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Replace parted with lsblk

parted hangs waiting for user input (see examples below)
on Debian and Ubuntu nodes which have created a cinder
volume on lvm, causing POST_FAILURE of the entire CI job.
Zun (Cinder iSCSI LVM) jobs are affected.
parted seemingly tries to interpret contents of the created
volume and fails miserably.
Since there is no reason why we would need to see the output
of parted specifically, this patch is switching to use
lsblk to simply list visible block devices.
Along with the rest of the commands, this should be just
the right level of detail.
And we avoid having parted interpret internals of otherwise
opaque block devices.

Example issues:

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool appears to be used, you can
fix the GPT to use all of the space (an extra 9732096 blocks) or continue with
the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool-tpool appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool_tdata appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Change-Id: I7beecf2dd6c49c8934722cf22efa74e920ecb060
(cherry picked from commit 654edefca3061a9e61183544f71bc41ab7a61600)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,openstack/kolla-ansible,stable/wallaby,bug/1959663-stable/xena-stable/wallaby,I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,Glance: add lock_path setting,MERGED,2022-02-08 17:32:44.000000000,2022-02-09 11:56:05.000000000,2022-02-09 11:43:40.000000000,9,0,0,828249,c3d8684fe2b29092f7562263f587562c5c6c6601,9,3,1,2,30491,Radosław Piliszek,yoctozepto,"Glance: add lock_path setting

This is required to use, e.g., Cinder iSCSI backend with Glance.

Closes-Bug: #1959663
Change-Id: I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318
(cherry picked from commit 75305aa897cde1c840088e5bd0b409da44e8114a)
"
openstack%2Fpuppet-openstack-integration~master~Id2e0c32391a7e77e21fd37dad9266a4e3abc6566,openstack/puppet-openstack-integration,master,octavia-integration,Id2e0c32391a7e77e21fd37dad9266a4e3abc6566,WIP: Run Octavia api tests,ABANDONED,2022-02-09 08:25:53.000000000,2022-02-09 11:54:30.000000000,,1,1,0,828471,0a68144d306b0708c852b9cfcbd6a12d42c9ef07,3,1,1,1,9816,Takashi Kajinami,kajinamit,"WIP: Run Octavia api tests

Change-Id: Id2e0c32391a7e77e21fd37dad9266a4e3abc6566
"
openstack%2Fkolla~stable%2Ftrain~I95ea4a66a80bf035f8bd1180790c7e0c85d759ed,openstack/kolla,stable/train,,I95ea4a66a80bf035f8bd1180790c7e0c85d759ed,Drop CentOS Linux 8 image builds,MERGED,2022-02-08 13:23:52.000000000,2022-02-09 11:53:47.000000000,2022-02-09 11:43:47.000000000,12,49,2,828242,3c8bee583171f6c6a334e039cf16d176f95e46fe,21,4,6,4,22629,Michal Nasiadka,mnasiadka,"Drop CentOS Linux 8 image builds

(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)

Change-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed
(cherry picked from commit 07f519996381789c1f21850cfc9b27f3b86a6f4c)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,openstack/kolla-ansible,stable/victoria,bug/1959663-stable/xena-stable/wallaby-stable/victoria,I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,Glance: add lock_path setting,MERGED,2022-02-08 17:32:53.000000000,2022-02-09 11:53:46.000000000,2022-02-09 11:43:42.000000000,9,0,0,828390,f8ae355c5b0382df14083120d5f3d535e2b97c99,9,3,1,2,30491,Radosław Piliszek,yoctozepto,"Glance: add lock_path setting

This is required to use, e.g., Cinder iSCSI backend with Glance.

Closes-Bug: #1959663
Change-Id: I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318
(cherry picked from commit 75305aa897cde1c840088e5bd0b409da44e8114a)
"
openstack%2Fkolla-ansible~stable%2Fxena~I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,openstack/kolla-ansible,stable/xena,bug/1959663-stable/xena,I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,Glance: add lock_path setting,MERGED,2022-02-08 17:32:31.000000000,2022-02-09 11:53:45.000000000,2022-02-09 11:43:03.000000000,9,0,0,828247,905dc7fae03fab6684357a1b5492ec3f6f8ea675,9,3,1,2,30491,Radosław Piliszek,yoctozepto,"Glance: add lock_path setting

This is required to use, e.g., Cinder iSCSI backend with Glance.

Closes-Bug: #1959663
Change-Id: I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318
(cherry picked from commit 75305aa897cde1c840088e5bd0b409da44e8114a)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I7beecf2dd6c49c8934722cf22efa74e920ecb060,openstack/kolla-ansible,stable/wallaby,ci-replace-parted-stable/xena-stable/wallaby,I7beecf2dd6c49c8934722cf22efa74e920ecb060,[CI] Replace parted with lsblk,MERGED,2022-02-08 17:32:39.000000000,2022-02-09 11:49:53.000000000,2022-02-09 11:43:37.000000000,1,1,0,828248,ac6051f54afd82e98ca8b45b09914b3dff9cb5ed,9,3,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Replace parted with lsblk

parted hangs waiting for user input (see examples below)
on Debian and Ubuntu nodes which have created a cinder
volume on lvm, causing POST_FAILURE of the entire CI job.
Zun (Cinder iSCSI LVM) jobs are affected.
parted seemingly tries to interpret contents of the created
volume and fails miserably.
Since there is no reason why we would need to see the output
of parted specifically, this patch is switching to use
lsblk to simply list visible block devices.
Along with the rest of the commands, this should be just
the right level of detail.
And we avoid having parted interpret internals of otherwise
opaque block devices.

Example issues:

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool appears to be used, you can
fix the GPT to use all of the space (an extra 9732096 blocks) or continue with
the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool-tpool appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool_tdata appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Change-Id: I7beecf2dd6c49c8934722cf22efa74e920ecb060
(cherry picked from commit 654edefca3061a9e61183544f71bc41ab7a61600)
"
openstack%2Fkolla-ansible~stable%2Fxena~I7beecf2dd6c49c8934722cf22efa74e920ecb060,openstack/kolla-ansible,stable/xena,ci-replace-parted-stable/xena,I7beecf2dd6c49c8934722cf22efa74e920ecb060,[CI] Replace parted with lsblk,MERGED,2022-02-08 17:32:16.000000000,2022-02-09 11:47:49.000000000,2022-02-09 11:43:01.000000000,1,1,0,828246,f70008b35783179ea73175a0231330776270f4ea,9,3,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Replace parted with lsblk

parted hangs waiting for user input (see examples below)
on Debian and Ubuntu nodes which have created a cinder
volume on lvm, causing POST_FAILURE of the entire CI job.
Zun (Cinder iSCSI LVM) jobs are affected.
parted seemingly tries to interpret contents of the created
volume and fails miserably.
Since there is no reason why we would need to see the output
of parted specifically, this patch is switching to use
lsblk to simply list visible block devices.
Along with the rest of the commands, this should be just
the right level of detail.
And we avoid having parted interpret internals of otherwise
opaque block devices.

Example issues:

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool appears to be used, you can
fix the GPT to use all of the space (an extra 9732096 blocks) or continue with
the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool-tpool appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool_tdata appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Change-Id: I7beecf2dd6c49c8934722cf22efa74e920ecb060
(cherry picked from commit 654edefca3061a9e61183544f71bc41ab7a61600)
"
openstack%2Fceilometer~stable%2Fwallaby~I93b6e92a5f46de5486f30a99fa3917a5932f7360,openstack/ceilometer,stable/wallaby,,I93b6e92a5f46de5486f30a99fa3917a5932f7360,Support two nova metadata versions in instance XML,MERGED,2022-02-09 08:49:07.000000000,2022-02-09 11:29:43.000000000,2022-02-09 11:25:42.000000000,36,11,1,828486,1b29c70caac1e2dd4deae28e079352453daa6515,9,2,2,2,16137,Tobias Urdin,tobasco,"Support two nova metadata versions in instance XML

this is followup to I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981

In order to support discovery of instances booted before Wallaby,
ceilometer must support working with both 1.0 (old, Victoria and before)
and 1.1 (new, Wallaby and for now newer) versions of nova metadata.

Conflicts: ceilometer/compute/discovery.py

Change-Id: I93b6e92a5f46de5486f30a99fa3917a5932f7360
Related-Bug: #1930446
(cherry picked from commit 2fc72043d31af7acd45f918eeb290d9d7564d168)
(cherry picked from commit c724307a080469e25950e25093b3e70b92794415)
"
openstack%2Fneutron~stable%2Fxena~Ibaefbb9935020318ed670774b0205f3bcffef4ad,openstack/neutron,stable/xena,bug/1951429,Ibaefbb9935020318ed670774b0205f3bcffef4ad,Disable tracebacks of eventlet.wsgi.server,ABANDONED,2022-01-31 10:19:28.000000000,2022-02-09 11:23:04.000000000,,5,3,3,827037,48868d4e69c717d5a182fb1ff6a6bb66a0e548fa,11,2,1,3,15554,Bence Romsics,ebenrom,"Disable tracebacks of eventlet.wsgi.server

Security folks considered tracebacks in API responses unwanted.

Change-Id: Ibaefbb9935020318ed670774b0205f3bcffef4ad
Closes-Bug: #1951429
Depends-On: https://review.opendev.org/c/openstack/oslo.service/+/824914
(cherry picked from commit 0256e494d029ac18bc6c9fed0fd995283c675075)
"
openstack%2Fneutron~stable%2Fwallaby~Ibaefbb9935020318ed670774b0205f3bcffef4ad,openstack/neutron,stable/wallaby,bug/1951429,Ibaefbb9935020318ed670774b0205f3bcffef4ad,Disable tracebacks of eventlet.wsgi.server,ABANDONED,2022-01-31 10:20:04.000000000,2022-02-09 11:22:59.000000000,,5,3,0,827038,3003549beb2df9aa14b0a8cb4ca925d95b0d2b4c,5,1,1,3,15554,Bence Romsics,ebenrom,"Disable tracebacks of eventlet.wsgi.server

Security folks considered tracebacks in API responses unwanted.

Change-Id: Ibaefbb9935020318ed670774b0205f3bcffef4ad
Closes-Bug: #1951429
Depends-On: https://review.opendev.org/c/openstack/oslo.service/+/824914
(cherry picked from commit 0256e494d029ac18bc6c9fed0fd995283c675075)
(cherry picked from commit 940e56c495ce5dacf6004c34619516e4f6d1be2e)
"
openstack%2Fneutron~stable%2Fvictoria~Ibaefbb9935020318ed670774b0205f3bcffef4ad,openstack/neutron,stable/victoria,bug/1951429,Ibaefbb9935020318ed670774b0205f3bcffef4ad,Disable tracebacks of eventlet.wsgi.server,ABANDONED,2022-01-31 10:20:44.000000000,2022-02-09 11:22:55.000000000,,5,3,0,827039,9ac3f0721f64904001e7a04c5bb5527c443a1052,4,1,1,3,15554,Bence Romsics,ebenrom,"Disable tracebacks of eventlet.wsgi.server

Security folks considered tracebacks in API responses unwanted.

Change-Id: Ibaefbb9935020318ed670774b0205f3bcffef4ad
Closes-Bug: #1951429
Depends-On: https://review.opendev.org/c/openstack/oslo.service/+/824914
(cherry picked from commit 0256e494d029ac18bc6c9fed0fd995283c675075)
(cherry picked from commit 940e56c495ce5dacf6004c34619516e4f6d1be2e)
(cherry picked from commit 3003549beb2df9aa14b0a8cb4ca925d95b0d2b4c)
"
openstack%2Fopenstack-ansible~stable%2Fxena~I263315b13669a0b9b2fe318f86fe8d0cf1e3fafd,openstack/openstack-ansible,stable/xena,,I263315b13669a0b9b2fe318f86fe8d0cf1e3fafd,Fix additional facts gathering in ceph-install.yml,MERGED,2022-02-08 19:13:18.000000000,2022-02-09 11:13:11.000000000,2022-02-09 11:10:15.000000000,1,1,0,828392,403b068f16315ec993c8444b25fefff1ac3e1fa4,9,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix additional facts gathering in ceph-install.yml

As of Ansible 2.11, the type of 'filter' in setup module has changed from string to list and the default has became an empty list. A simple string is still accepted and works as a single pattern[1].
However, there are some corner cases when a simple string misbehaves and it happened here where ansible tries to create a list when it's not necessary:

""invocation"": {
  ""module_args"": {
    ""gather_subset"": [""!all"", ""network""],
    ""filter"": [""ansible_all_ipv[4"", ""6]_addresses""],
    ""gather_timeout"": 10,
    ""fact_path"": ""/etc/ansible/facts.d""
  }
}

Previously I tried to fix it differently in Change #823437 but Andrew Bonney proposed a better way of handling this issue.

[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/setup_module.html#parameter-filter

Co-authored-by: Andrew Bonney <andrew.bonney@bbc.co.uk>
Change-Id: I263315b13669a0b9b2fe318f86fe8d0cf1e3fafd
(cherry picked from commit 61c550d0835449f08f00172fa2bfd6bab24ccce2)
"
openstack%2Fbarbican~master~I1724152839f0f5850f8d32d40b36d1670c0ad996,openstack/barbican,master,secure-rbac,I1724152839f0f5850f8d32d40b36d1670c0ad996,Fix container consumers rbac policy,MERGED,2021-11-04 21:57:49.000000000,2022-02-09 11:08:47.000000000,2022-02-08 19:54:20.000000000,245,122,28,816756,960159332864740cfbdaeb339ddbaae48238a6d2,54,6,15,14,7973,Douglas Mendizábal,dougmendizabal,"Fix container consumers rbac policy

This patch modifies the Consumer controller to enable the use of
ownership information in policy checks. e.g. policies that use a target
container:

   project_id:%(target.container.project_id)

Story: 2009664
Task: 43872

Depends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999
Change-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I8eb45da9a932eff459d2d1ea980c405d25411d78,openstack/tripleo-heat-templates,stable/wallaby,,I8eb45da9a932eff459d2d1ea980c405d25411d78,Clean up old container config files from container-startup-config.,ABANDONED,2022-02-04 06:57:53.000000000,2022-02-09 10:58:43.000000000,,6,0,3,827742,e38d96c5251f249dd1c120771b6ea88aa1d6316c,7,3,1,1,26343,Jose Luis Franco,jfrancoa,"Clean up old container config files from container-startup-config.

When performing the upgrade from Train to Wallaby some of
the container config files from Train remain causing its
recreation during the the deployment steps.

This patch removes the /var/lib/tripleo-config/container-startup-
config folder with the intention of cleaining it up during the
Undercloud upgrade procedure. The folder then gets recreated and
all the new corresponding container configs will be added during
the deployment steps.

Change-Id: I8eb45da9a932eff459d2d1ea980c405d25411d78
Related-bug: #1959662
"
openstack%2Fceilometer~stable%2Fwallaby~Ie1a033f1dcb1b62bf1bc8a213b9d7ef7e4e5b299,openstack/ceilometer,stable/wallaby,wallaby,Ie1a033f1dcb1b62bf1bc8a213b9d7ef7e4e5b299,setup.cfg: Replace dashes with underscores,MERGED,2022-02-09 07:32:18.000000000,2022-02-09 10:58:09.000000000,2022-02-09 10:50:37.000000000,4,4,0,828465,199801fbc578429fc88f3b3d0f796432c152d438,9,2,2,1,4264,Matthias Runge,mrunge,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: Ie1a033f1dcb1b62bf1bc8a213b9d7ef7e4e5b299
(cherry picked from commit 6c99d4dbad9c3ad850a1156cf45f0108810168bd)
"
openstack%2Ftripleo-ansible~master~Id849c3191e2fcb4f7d80830522386d1320f56a20,openstack/tripleo-ansible,master,,Id849c3191e2fcb4f7d80830522386d1320f56a20,WIP: Clean up old step directories in container config files.,ABANDONED,2022-02-08 09:43:01.000000000,2022-02-09 10:56:29.000000000,,8,0,4,828261,05f609124cbd568b06c52b4e3fa15c8c89463e63,8,2,3,1,26343,Jose Luis Franco,jfrancoa,"WIP: Clean up old step directories in container config files.

Change-Id: Id849c3191e2fcb4f7d80830522386d1320f56a20
"
openstack%2Fceilometer~stable%2Fwallaby~Ib9a73d9beaf0e97b297ada36294c977f0adc6049,openstack/ceilometer,stable/wallaby,stable_wallaby,Ib9a73d9beaf0e97b297ada36294c977f0adc6049,Pin cryptography to 3.2.0 to make pyOpenSSL,MERGED,2021-12-17 08:00:26.000000000,2022-02-09 10:56:09.000000000,2022-02-09 10:50:35.000000000,1,0,2,822078,9ad7c9c0219ac6987ac6939834701cfa2554e1b7,10,3,1,1,4264,Matthias Runge,mrunge,"Pin cryptography to 3.2.0 to make pyOpenSSL

work in wallaby branch. The module 'lib' has dropped the attribute
'Cryptography_HAS_TLSEXT_HOSTNAME' in later releases.

Change-Id: Ib9a73d9beaf0e97b297ada36294c977f0adc6049
"
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fwallaby~I3adb4dd75198935c4656d0208043ad8051f29312,openstack/openstack-ansible-lxc_hosts,stable/wallaby,,I3adb4dd75198935c4656d0208043ad8051f29312,Ensure that the legacy network-scripts package is present,MERGED,2022-02-08 09:28:06.000000000,2022-02-09 10:29:32.000000000,2022-02-09 10:27:39.000000000,1,0,1,828236,1c09f9f559315d08d06eedadd3bb1670ccc58ddf,10,3,1,1,25023,Jonathan Rosser,jrosser,"Ensure that the legacy network-scripts package is present

The lxc_hosts ansible role currently relies on the ifup / ifdown
commands.

Change-Id: I3adb4dd75198935c4656d0208043ad8051f29312
(cherry picked from commit 9a4004169450a0bb68ffe0fec31e6887a9c075f3)
"
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fxena~Ieb41362920ee398d5b17c5c0331735b240fb5102,openstack/openstack-ansible-lxc_hosts,stable/xena,osa/remove-centos8,Ieb41362920ee398d5b17c5c0331735b240fb5102,Replace CentOS 8 with Stream jobs,MERGED,2022-02-07 09:41:24.000000000,2022-02-09 10:27:59.000000000,2022-02-09 10:21:29.000000000,3,3,0,828095,86ef148408777a315a4d9f3b33aa83d39c254440,10,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Replace CentOS 8 with Stream jobs

Change-Id: Ieb41362920ee398d5b17c5c0331735b240fb5102
"
openstack%2Fcinder~master~I87d33f215a064a70cea989d524dc26affeea0c3e,openstack/cinder,master,log-warn,I87d33f215a064a70cea989d524dc26affeea0c3e,Use LOG.warning instead of deprecated LOG.warn,MERGED,2021-11-29 05:18:49.000000000,2022-02-09 10:14:54.000000000,2022-02-09 03:34:05.000000000,53,26,4,819568,a03e10ceb094c222698df0bc90061b70384f5b27,79,4,8,9,9816,Takashi Kajinami,kajinamit,"Use LOG.warning instead of deprecated LOG.warn

The LOG.warn method is deprecated[1] and the LOG.warning method should
be used instead.

[1] https://docs.python.org/3/library/logging.html#logging.warning

Change-Id: I87d33f215a064a70cea989d524dc26affeea0c3e
"
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fvictoria~Icc608500a099f51e5c44cecd1d259ff6315758f7,openstack/openstack-ansible-openstack_hosts,stable/victoria,,Icc608500a099f51e5c44cecd1d259ff6315758f7,Assume centos version is at least 8.3,MERGED,2022-02-08 14:18:54.000000000,2022-02-09 10:08:02.000000000,2022-02-09 10:05:59.000000000,0,3,0,828346,88f5ca0e752c3ceaa5e332fdbd48898ce8334dcb,8,3,1,1,25023,Jonathan Rosser,jrosser,"Assume centos version is at least 8.3

Removing this check allows the same code to work on centos-8 stream
where the version is reported just as '8'.

Change-Id: Icc608500a099f51e5c44cecd1d259ff6315758f7
"
openstack%2Fansible-collections-openstack~master~I597a66b817bb6b53ecad7503e44f6818aec031a2,openstack/ansible-collections-openstack,master,baremetal_node_info,I597a66b817bb6b53ecad7503e44f6818aec031a2,Add openstack.cloud.baremetal_node_info,MERGED,2022-02-03 04:18:18.000000000,2022-02-09 09:48:57.000000000,2022-02-09 09:48:57.000000000,556,0,16,827586,20329c0329f1114786f155e9b7bcad663665ffa3,25,3,9,2,24245,Harald Jensås,harald.jensas,"Add openstack.cloud.baremetal_node_info

Add module baremetal_node_info / os_ironic_info.
Retrieve information about Bare Metal nodes from OpenStack

Change-Id: I597a66b817bb6b53ecad7503e44f6818aec031a2
"
openstack%2Fkolla-ansible~master~I12c17a1df2c2e95c27d715e65d292e7b59dd6304,openstack/kolla-ansible,master,grafana_alerting,I12c17a1df2c2e95c27d715e65d292e7b59dd6304,[Grafana] Add unified alerting and smtp options,ABANDONED,2021-10-27 15:14:01.000000000,2022-02-09 09:45:00.000000000,,92,0,12,815694,df4cf17e4f07db4bfa62c7c3b2db14d2084abff3,18,4,4,4,33710,Uwe Grawert,ugrawert,"[Grafana] Add unified alerting and smtp options

Make unified alerting and smtp options configurable. Unified alerting is
the new alerting sub-system introduced in Grafana 8.0. It is disabled
by default, and therefore needs to be enabled explicitly.

Unified alerting allows more advanced notification policies, silencing
of alerts, and differnt types contact points like Email. Therefore it is
desirable to enable smtp and provide configuration options.

Change-Id: I12c17a1df2c2e95c27d715e65d292e7b59dd6304
"
openstack%2Fdiskimage-builder~master~I799bcfd73e1cb76ee1808b3441f40b0525e3c73d,openstack/diskimage-builder,master,f35-glibc-en,I799bcfd73e1cb76ee1808b3441f40b0525e3c73d,fedora-container: pull in glibc-langpack-en,MERGED,2022-02-03 22:18:05.000000000,2022-02-09 09:38:57.000000000,2022-02-09 09:35:47.000000000,1,0,3,827772,2d368508770c729c0ec0854255f1981b0d63ef33,20,3,1,1,7118,Ian Wienand,iwienand,"fedora-container: pull in glibc-langpack-en

DevStack likes to use LC_ALL=en_US.UTF-8 because it does some
post-processing of output that depends on stable sort-order.  Pull in
the langpack package that provides this by default -- fedora-minimal
was doing this via yum-minimal so it makes sense to be equivalent.

Change-Id: I799bcfd73e1cb76ee1808b3441f40b0525e3c73d
"
openstack%2Fdiskimage-builder~master~I85f282c3d1ffa58f73f6c23871d970178fa1d586,openstack/diskimage-builder,master,,I85f282c3d1ffa58f73f6c23871d970178fa1d586,Don't run functional tests on doc changes,MERGED,2022-01-21 22:24:54.000000000,2022-02-09 09:29:16.000000000,2022-02-09 09:21:06.000000000,5,0,1,825891,ca812ec5d739f64ce571bf198c4302386505240e,16,2,1,1,32411,Eduardo Santos,ecsantos,"Don't run functional tests on doc changes

Change-Id: I85f282c3d1ffa58f73f6c23871d970178fa1d586
"
openstack%2Fbifrost~master~Iab88b3a28378cc22f767204bef84128bc9627210,openstack/bifrost,master,disk-image-create-log,Iab88b3a28378cc22f767204bef84128bc9627210,Create the log file for the disk-image-create command,NEW,2021-12-24 08:06:41.000000000,2022-02-09 09:13:55.000000000,,7,2,8,822895,647cdf6c0202f276db2a6b3fa42a295c02b51332,14,4,5,2,14200,Maksim Malchuk,mmalchuk,"Create the log file for the disk-image-create command

Change-Id: Iab88b3a28378cc22f767204bef84128bc9627210
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
"
openstack%2Fcinder~master~I9729b83be7568928cf962174f98d632a6ecf3d15,openstack/cinder,master,bug/1946618,I9729b83be7568928cf962174f98d632a6ecf3d15,[SVF] Update correct Error message for add/remove volumes operation in  group-update,NEW,2021-11-11 05:46:39.000000000,2022-02-09 09:03:20.000000000,,12,1,19,817514,23665c2119a73d8b54e0b52109607977c83c90e7,196,4,8,2,34106,Prajakta,prajaktab,"[SVF] Update correct Error message for add/remove volumes operation in  group-update

[Spectrum Virtualize Family] Add/Remove volumes (group-update) operation for  group does not show correct error or log message.
If a volume is already present in the group and is still passed in the list of volumes(add_volumes_list) to be added to the group ,then
the volume is removed from the list directly  without any warning or info message stating the volume is already present in the group.
Updating the cinder code to  print a warning message that the given volume already exists hence
the add volume operation for this volume is not required .

Closes-Bug: #1946618
Change-Id: I9729b83be7568928cf962174f98d632a6ecf3d15
"
openstack%2Foslo.policy~master~I72120efb7c55aab82b765237904c9ae6e91f6b6f,openstack/oslo.policy,master,secure-rbac,I72120efb7c55aab82b765237904c9ae6e91f6b6f,Expand set_defaults() to set other config default value,MERGED,2022-02-07 23:18:27.000000000,2022-02-09 08:59:27.000000000,2022-02-09 08:57:04.000000000,27,1,5,828198,eae3dc0032106ac8b3a33c7ced0444810abb311c,14,4,2,2,8556,Ghanshyam,ghanshyam,"Expand set_defaults() to set other config default value

Currently set_defaults() is only able to set the default
value of policy_file config option. In future, for example
scope config option like enforce_scope also needs to be override
the default value per service (service ready with scope enable
can set it to True and for other services it will be False as default
in oslo.policy).

To allow override the other config option, let's expand the existing
set_defaults() method to do so.

Change-Id: I72120efb7c55aab82b765237904c9ae6e91f6b6f
"
openstack%2Freleases~master~I89863c57f449cfad2903f6832ee89e95f039b911,openstack/releases,master,oslo-independent,I89863c57f449cfad2903f6832ee89e95f039b911,[independent] release oslo deliverables,MERGED,2022-02-02 16:04:57.000000000,2022-02-09 08:52:12.000000000,2022-02-09 08:52:12.000000000,12,0,4,827524,14654164bd7233b8c35c0d123a45190d1654b9c2,16,5,2,3,28522,Hervé Beraud,hberaud,"[independent] release oslo deliverables

Change-Id: I89863c57f449cfad2903f6832ee89e95f039b911
"
openstack%2Fneutron~stable%2Fwallaby~I9f914e721201072e43a8c6c266ed97ca85fcc13d,openstack/neutron,stable/wallaby,bug/1951816-stable/wallaby,I9f914e721201072e43a8c6c266ed97ca85fcc13d,[OVN] Correctly set dns_server in dhcpv4/v6 options,MERGED,2022-01-11 10:36:00.000000000,2022-02-09 08:50:10.000000000,2022-02-09 08:46:26.000000000,91,14,9,824022,4b89ad64038eb2301730494c31255174e2da5597,64,8,5,4,13861,yatin,yatinkarel,"[OVN] Correctly set dns_server in dhcpv4/v6 options

When ovn/dns_servers consist of IPv6 dns nameservers,
it was getting added to IPv4 dhcp options also, and due to
this an invalid nameserver(last 4 octets of an IPv6 address)
is set in the instances.

This patch filters IPv4/IPv6 dns nameservers and set
dhcpv4/dhcpv6 options accordingly.

Also when dns_nameservers are not set for IPv6 subnets,
get those from ovn/dns_servers config or system nameservers
just like it's done with the IPv4 subnets. Updated
get_system_dns_resolvers to pick both IPv4/IPv6 valid
ips, this also requires bump of oslo.utils minimum version
to 4.8.0 to use strict option for IPv4[1].

Additionally fix some unit tests which were setting IPv4 dns
nameservers on the IPv6 subnets, this is not allowed with api.

[1] https://github.com/openstack/oslo.utils/commit/3288539

Conflicts:
  lower-constraints.txt
  requirements.txt

[Stable Only] Since Neutron stable policy do not allow bumping
of minimum version of a requirement in stable releases, so doing
a partial backport by not backporting requirements.txt changes and
updated get_system_dns_resolvers to work with older version of
oslo.utils.

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/826647
Closes-Bug: #1951816
Change-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d
(cherry picked from commit 4a06685098cc2e9b69c1b961eecef957314faf85)
"
openstack%2Fbifrost~master~I282f690214917eb4c17adfefc70a2ecddb7144fe,openstack/bifrost,master,upgrade,I282f690214917eb4c17adfefc70a2ecddb7144fe,CI: properly report failures in the upgrade job,MERGED,2022-02-03 15:11:02.000000000,2022-02-09 08:14:06.000000000,2022-02-08 21:29:00.000000000,10,4,4,827687,9941e4439a7f04a09bfff761f40f6b1a299d0f5c,16,3,3,1,10239,Dmitry Tantsur,dtantsur,"CI: properly report failures in the upgrade job

Depends-On: https://review.opendev.org/c/openstack/bifrost/+/828178
Change-Id: I282f690214917eb4c17adfefc70a2ecddb7144fe
"
openstack%2Fdiskimage-builder~master~Ie58630c23a34f2db34f3934abbd0c1076ab9d835,openstack/diskimage-builder,master,bootloader-nopart,Ie58630c23a34f2db34f3934abbd0c1076ab9d835,"Revert ""Use rpm -e instead of dnf for cleaning old kernels""",MERGED,2022-02-02 00:27:52.000000000,2022-02-09 07:53:03.000000000,2022-02-09 07:50:24.000000000,1,9,1,827381,19ecc16d97e4249e700d0d118839ea4c7ae61d0e,16,4,2,2,4571,Steve Baker,steve-stevebaker,"Revert ""Use rpm -e instead of dnf for cleaning old kernels""

Using rpm -e to remove old kernels fails when other packages also
depend on the removed kernel.

This change reverts back to using dnf to remove the kernel, but also
sets the config value protect_running_kernel=False to avoid the issue
where the build host kernel version matches the version of the package
being deleted.

reverts commit 1ac31afd6297c2a9a0673b0cde17e18230c3b977.

Change-Id: Ie58630c23a34f2db34f3934abbd0c1076ab9d835
"
openstack%2Fkolla-ansible~master~Ie58265284b2e6b4b30b24fc2f22dd4f5eec05d5b,openstack/kolla-ansible,master,,Ie58265284b2e6b4b30b24fc2f22dd4f5eec05d5b,octavia: drop warning about certificate changes,MERGED,2022-02-08 12:18:20.000000000,2022-02-09 07:48:47.000000000,2022-02-09 07:45:40.000000000,0,8,0,828293,bede2a85819c6e40fa5db1d42c1e8a9f77621e5d,9,3,1,1,14826,Mark Goddard,mgoddard,"octavia: drop warning about certificate changes

The change happened in Train, time to move on.

Change-Id: Ie58265284b2e6b4b30b24fc2f22dd4f5eec05d5b
"
openstack%2Felection~master~Idef442baeda5264322e7a8c20314aa60fea9d439,openstack/election,master,,Idef442baeda5264322e7a8c20314aa60fea9d439,Adding FengShengqin candidacy for Zun in Z cycle,ABANDONED,2022-02-09 04:10:32.000000000,2022-02-09 06:05:04.000000000,,0,0,0,828401,cb687cd2aa80c71cea547e4eb6b71062550c5a61,3,1,1,0,23365,feng.shengqin,FengShengqin,"Adding FengShengqin candidacy for Zun in Z cycle

Change-Id: Idef442baeda5264322e7a8c20314aa60fea9d439
"
openstack%2Fdiskimage-builder~master~Ibe05f367be997efbd8c5ebec77503ebd9cda1c8b,openstack/diskimage-builder,master,correct-pip-for-python,Ibe05f367be997efbd8c5ebec77503ebd9cda1c8b,Remove extra if/then/else construct in pip element,MERGED,2021-12-18 11:51:24.000000000,2022-02-09 05:22:30.000000000,2022-02-09 05:19:36.000000000,20,22,4,822224,9d60202d1c9b80163216a01b2057dce23d4c7de8,18,5,2,1,13252,Dr. Jens Harbott,jrosenboom,"Remove extra if/then/else construct in pip element

This was introduced in [0] but we can include it in the existing elif
series instead.

[0] I2b75afd310f009ae8614f6ca75bb984b56d25c45

Change-Id: Ibe05f367be997efbd8c5ebec77503ebd9cda1c8b
"
openstack%2Fdiskimage-builder~master~Ibc1e04dba0562c4f4909a8cb8af041d9b8ac45c4,openstack/diskimage-builder,master,change-806308,Ibc1e04dba0562c4f4909a8cb8af041d9b8ac45c4,General improvements to the ubuntu-minimal docs,MERGED,2021-08-27 05:41:45.000000000,2022-02-09 05:21:12.000000000,2022-02-09 05:19:32.000000000,18,4,7,806308,5779fa85256ebe35896c220714eb755844f564d3,22,2,3,2,32411,Eduardo Santos,ecsantos,"General improvements to the ubuntu-minimal docs

This change:
- adds a note regarding an error when building focal ubuntu-minimal
  images on operating systems with older versions of debootstrap
- adds a reference to where the DIB_RELEASE variable definition can be
  found

Closes-Bug: #1941831
Change-Id: Ibc1e04dba0562c4f4909a8cb8af041d9b8ac45c4
"
openstack%2Fdiskimage-builder~master~I5123729b7457dcbd4f4a51cff49904f7bd071e9b,openstack/diskimage-builder,master,centos-8-stop,I5123729b7457dcbd4f4a51cff49904f7bd071e9b,Remove contrib/setup-gate-mirrors.sh,MERGED,2022-02-01 04:44:36.000000000,2022-02-09 05:04:35.000000000,2022-02-09 05:02:40.000000000,2,134,1,827211,88d9ef21e8f359054c1d1e249e9848b3d2b65692,9,2,1,2,7118,Ian Wienand,iwienand,"Remove contrib/setup-gate-mirrors.sh

AFAICS, use of this was removed with
I7f98a13091056809fedae8a5c8ee10b0ef8bbb2a and I can't see any other
references to it.  Correct the comment to describe how it works.

Change-Id: I5123729b7457dcbd4f4a51cff49904f7bd071e9b
"
openstack%2Fdiskimage-builder~master~I18dec9054cf9e023bdf086bda3ba253b28d6540d,openstack/diskimage-builder,master,centos-8-stop,I18dec9054cf9e023bdf086bda3ba253b28d6540d,Cleanup more CentOS 8 bits,MERGED,2022-02-01 04:44:36.000000000,2022-02-09 04:41:14.000000000,2022-02-09 04:39:00.000000000,1,53,1,827210,62101b6aa548f7d45c26892d714abf140f0b7b99,9,2,1,14,7118,Ian Wienand,iwienand,"Cleanup more CentOS 8 bits

This removes some testing and mirror setup bits and pieces for CentOS
8 that is now EOL.

Change-Id: I18dec9054cf9e023bdf086bda3ba253b28d6540d
"
openstack%2Ftripleo-common~stable%2Ftrain~I37c76217bb82953d8085ca691cc5b9cc508070e3,openstack/tripleo-common,stable/train,,I37c76217bb82953d8085ca691cc5b9cc508070e3,[Train-Only] Aligin inventory comparision with master,ABANDONED,2022-02-08 11:27:36.000000000,2022-02-09 04:14:14.000000000,,4,4,2,828282,a7e62f27eb392412be0f6fb4e8a6cdde42eaf2a2,7,3,1,1,8833,Rabi Mishra,rabi,"[Train-Only] Aligin inventory comparision with master

It seems string_types does not seem to work in circumstances.

Change-Id: I37c76217bb82953d8085ca691cc5b9cc508070e3
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ie51f663baa9979d968ed67d38398a9fe2c2331b1,openstack/python-tripleoclient,stable/train,upgrade_inventory,Ie51f663baa9979d968ed67d38398a9fe2c2331b1,"Revert ""[TRAIN-ONLY] Fix inventory path when upgrading""",MERGED,2022-02-08 08:42:20.000000000,2022-02-09 04:13:34.000000000,2022-02-09 03:12:50.000000000,2,4,3,828234,487793455e4663c700b627be54a0406e8e15f24b,12,13,1,2,11090,Sergii Golovatiuk,holser,"Revert ""[TRAIN-ONLY] Fix inventory path when upgrading""

This reverts commit 320fbda95346d71d67946c64ba94dd66944cc17d.

Reason for revert: rhbz#2051832

Change-Id: Ie51f663baa9979d968ed67d38398a9fe2c2331b1
"
openstack%2Fmanila~master~Ibcf0d4240cc200d67c0ad947d0274746248b472c,openstack/manila,master,bug/1943829,Ibcf0d4240cc200d67c0ad947d0274746248b472c,fix logic about allocated_capacity_gb and provisioned_capacity_gb,NEW,2021-09-24 08:35:24.000000000,2022-02-09 03:42:05.000000000,,40,28,19,810842,717a77823268cf4cf9aa9df68715b1949685cf5a,47,7,5,3,30407,haixin,haixin,"fix logic about allocated_capacity_gb and provisioned_capacity_gb

allocated_capacity_gb only includes shares created on a backend
in manila. provisioned_capacity_gb also includes shares created
manually on the storage back end.
provisioned_capacity_gb = allocated_capacity_gb + other_backend_shares_gb

Using allocated_capacity_gb as the default of
provisioned_capacity_gb if it is not set. Whether
thin_provisioning is supported or not, we always calculate
provisioned_capacity_gb, but only use it to judge provisioned
ratio on thin provisioned pools when go through capacity filter.

Closes-Bug: #1943829
Change-Id: Ibcf0d4240cc200d67c0ad947d0274746248b472c
"
openstack%2Fdiskimage-builder~master~I428f92a19dd30354b6ba2bd2feca73c3a3fab6dd,openstack/diskimage-builder,master,dhcp-custom-systemd,I428f92a19dd30354b6ba2bd2feca73c3a3fab6dd,Move dhcp script to correct custom dir,NEW,2022-02-04 11:27:33.000000000,2022-02-09 03:37:55.000000000,,2,2,1,827846,9c2a1b406b353df724481940cbdf3578485b48c6,9,2,1,1,23851,Riccardo Pittau,elfosardo,"Move dhcp script to correct custom dir

Custom-created unit files or existing unit files modified by system
administrators should be under /etc/systemd/system

Change-Id: I428f92a19dd30354b6ba2bd2feca73c3a3fab6dd
"
openstack%2Fneutron-fwaas-dashboard~master~Ib78ff301076c0295aad9b1bf49eed0f1a7adb7c2,openstack/neutron-fwaas-dashboard,master,retire-neutron-fwaas,Ib78ff301076c0295aad9b1bf49eed0f1a7adb7c2,Retire neutron-fwaas-dashboard project,MERGED,2020-06-16 09:28:59.000000000,2022-02-09 03:21:05.000000000,2020-06-18 14:54:54.000000000,8,12844,0,735831,4a0f1a3ae54a69f37ab38a0209e3a9996f727693,17,6,2,127,11975,Slawek Kaplonski,slaweq,"Retire neutron-fwaas-dashboard project

Governance change is proposed at [1] and project config patch is
proposed at [2]

[1] https://review.opendev.org/735828
[2] https://review.opendev.org/#/c/735812/

Change-Id: Ib78ff301076c0295aad9b1bf49eed0f1a7adb7c2
"
openstack%2Fopenstack-ansible-galera_server~master~I76e7498b1676a2b4c550fda049f332aa209ce53d,openstack/openstack-ansible-galera_server,master,osa/centos-9,I76e7498b1676a2b4c550fda049f332aa209ce53d,Convert xinetd clustercheck to systemd socket service,MERGED,2022-01-10 17:59:17.000000000,2022-02-09 00:45:42.000000000,2022-02-09 00:44:07.000000000,50,75,10,824042,41553dfa7a3ad5b16a4e8d75798bf32c4f83081e,41,4,9,9,25023,Jonathan Rosser,jrosser,"Convert xinetd clustercheck to systemd socket service

Depends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/826602
Change-Id: I76e7498b1676a2b4c550fda049f332aa209ce53d
"
openstack%2Felection~master~I3c8a629ccd7264b109e00505ecae72416ab475bd,openstack/election,master,email,I3c8a629ccd7264b109e00505ecae72416ab475bd,TC Nomination - spotz,MERGED,2022-02-08 15:26:42.000000000,2022-02-09 00:30:22.000000000,2022-02-09 00:26:43.000000000,21,0,5,828361,9042c4bfce85288692ca7bfcd8dac76953b87621,14,3,1,1,15993,Amy Marrich,amarrich,"TC Nomination - spotz

Adding my candidacy to run for the TC

Change-Id: I3c8a629ccd7264b109e00505ecae72416ab475bd
"
openstack%2Felection~master~I333c34063d47aff630c91879bcb4ad2fdae3c9df,openstack/election,master,,I333c34063d47aff630c91879bcb4ad2fdae3c9df,Add Andrey Pavlov candidacy for Ec2 API,MERGED,2022-02-08 11:07:06.000000000,2022-02-09 00:28:45.000000000,2022-02-09 00:26:40.000000000,6,0,5,828279,8338deacdb43279ac904cfdca4264fa34868c749,14,3,1,1,10234,Andrey Pavlov,andrey-mp,"Add Andrey Pavlov candidacy for Ec2 API

Change-Id: I333c34063d47aff630c91879bcb4ad2fdae3c9df
"
openstack%2Felection~master~Iadc855e40d6f809a906538497bd453ddfa3d84e7,openstack/election,master,,Iadc855e40d6f809a906538497bd453ddfa3d84e7,Adding Rajat Dhasmana candidacy for Cinder PTL,MERGED,2022-02-08 17:50:07.000000000,2022-02-09 00:25:49.000000000,2022-02-09 00:24:23.000000000,50,0,5,828385,8b6711aec49c8c47d1fa27496f9899aa916784e9,15,3,2,1,27615,Rajat Dhasmana,whoami-rajat,"Adding Rajat Dhasmana candidacy for Cinder PTL

Change-Id: Iadc855e40d6f809a906538497bd453ddfa3d84e7
"
openstack%2Fmanila~master~I788d34a88a79058c5ab35a8441f0a9dd4b667a2b,openstack/manila,master,bug/1518936,I788d34a88a79058c5ab35a8441f0a9dd4b667a2b,retry deadlock for share_type_destroy,MERGED,2021-10-01 22:07:00.000000000,2022-02-09 00:20:14.000000000,2022-02-08 22:33:54.000000000,1,0,5,812232,3935fe5e6ae3e1488f31beba2de8da277925ee89,36,4,2,1,34092,Yiping Huang,yhcode,"retry deadlock for share_type_destroy

by adding a decorator.

Closes-Bug: 1518936
Change-Id: I788d34a88a79058c5ab35a8441f0a9dd4b667a2b
"
openstack%2Fpuppet-octavia~master~I306ceccd2b913ec39b2ddeff58ef7f19ccbc1170,openstack/puppet-octavia,master,,I306ceccd2b913ec39b2ddeff58ef7f19ccbc1170,Wire-in heartbeat_interval,MERGED,2022-02-07 12:47:44.000000000,2022-02-09 00:17:02.000000000,2022-02-09 00:17:02.000000000,9,0,1,828123,5e6774459b4511eb8e6759d74efd88555bea7552,7,3,1,2,6926,Bogdan Dobrelya,bogdando,"Wire-in heartbeat_interval

Allow to define heartbeat_interval for Octavia Health Manager
to configure sleep time between sending heartbeats.

Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I306ceccd2b913ec39b2ddeff58ef7f19ccbc1170
"
openstack%2Fopenstack-zuul-jobs~master~I601aca1507d16912e08ee9aba8842bc205ea2a91,openstack/openstack-zuul-jobs,master,translate-venv-pip-upgrade,I601aca1507d16912e08ee9aba8842bc205ea2a91,prepare-zanata-client: upgrade pip in venv,MERGED,2022-02-08 05:52:19.000000000,2022-02-09 00:12:15.000000000,2022-02-09 00:10:50.000000000,4,0,0,828219,0d321449db032863b5ec61a1f3fb38694d9095c8,7,2,1,1,7118,Ian Wienand,iwienand,"prepare-zanata-client: upgrade pip in venv

Make sure the pip in the venv is upgraded past the system-version so
it can install all the latest requirements.

Change-Id: I601aca1507d16912e08ee9aba8842bc205ea2a91
"
openstack%2Fpuppet-ceilometer~master~Id8e9277d4699be3aa6b92dd49b3c24f54316eab1,openstack/puppet-ceilometer,master,,Id8e9277d4699be3aa6b92dd49b3c24f54316eab1,Bugfix - Deprecated notification_workers is ignored,MERGED,2022-02-07 03:59:28.000000000,2022-02-08 23:45:11.000000000,2022-02-07 16:50:13.000000000,1,1,1,828068,0c04ba25d2eb37b89527f054879ab2818676f7ae,8,3,1,1,33816,Jacob Aharon,jaharon,"Bugfix - Deprecated notification_workers is ignored

Change-Id: Id8e9277d4699be3aa6b92dd49b3c24f54316eab1
"
openstack%2Foctavia-tempest-plugin~master~I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45,openstack/octavia-tempest-plugin,master,c9,I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45,Add centos-9-stream job,MERGED,2021-11-02 16:09:46.000000000,2022-02-08 23:29:46.000000000,2022-02-08 23:23:48.000000000,62,2,26,816369,a2c234ea225bae8f979daf3a9e835d864723bbff,62,8,14,3,29244,Gregory Thiemonge,gthiemonge,"Add centos-9-stream job

Add octavia-v2-dsvm-scenario-centos-9-stream

Add extra args to the ""scp"" command to authorize the pubkey exchange
with a cirros VM.
Detect the openssh client version to enable the use of the SCP protocol
(starting with openssh 8.7, the SFTP protocol is the default protocol
with scp, SFTP is not supported by Cirros) when sending files to the
cirros VM.

Depends-On: https://review.opendev.org/828189

Change-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45
"
openstack%2Fneutron~stable%2Fwallaby~I0391dd24224f8656a09ddb002e7dae8783ba37a4,openstack/neutron,stable/wallaby,bug/1930414-stable/wallaby,I0391dd24224f8656a09ddb002e7dae8783ba37a4,"Make sure ""dead vlan"" ports cannot transmit packets",MERGED,2022-02-08 07:23:17.000000000,2022-02-08 23:01:21.000000000,2022-02-08 22:56:57.000000000,71,77,2,828231,9d5cea0e2bb85b3b6ea27eb71279c57c419b0102,18,3,1,10,5948,Oleg Bondarev,obondarev,"Make sure ""dead vlan"" ports cannot transmit packets

https://review.opendev.org/c/openstack/neutron/+/820897 added
a dead vlan flow that pushes the dead vlan tag onto frames
belonging to dead ports before these ports are reassigned to
their proper vlans. However add_flow and delete_flows race and
delete_flows may run before add_flow, in this case deleting 0 flows
but not giving us a chance to detect this: neither does it throw
an error nor does it return the number of deleted flows.
This leads to port staying inaccessible forever and hence
breaks corresponding DHCP or router.

Current patch suggests another approach to make sure no packets are
leaked from newly plugged ports: setting their ""vlan_mode"" attribute
to ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).
With this OVS normal pipeline will allow only packets tagged with 4095
from such ports [1], which normally not happens, but even if it does -
default rule in br-int will drop them anyway.
Thus untagged packets from such ports will also be dropped until
ovs agent sets proper VLAN tag and clears vlan_mode to default
(""access"").

This approach avoids the race between dhcp/l3 and ovs agents because
dhcp/l3 agents no longer modify flow table.

This partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004

[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline

Closes-Bug: #1930414
Closes-Bug: #1959564
Change-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4
(cherry picked from commit 0ddca284542aed89df4a22607a2da03f193f083c)
"
openstack%2Fkeystone~master~I5ab7b010b21268977f73738e895bbd21442e9455,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I5ab7b010b21268977f73738e895bbd21442e9455,sql: Move migrations to 'legacy_migrations',MERGED,2022-01-14 19:14:29.000000000,2022-02-08 23:01:13.000000000,2022-02-08 22:56:53.000000000,82,38,4,824789,aebd037f501ca3aa9e927f304382c231dacb2938,24,4,4,46,15334,Stephen Finucane,sfinucan,"sql: Move migrations to 'legacy_migrations'

We're going to add new alembic-based migrations shortly. These will live
in the 'keystone.common.sql.migrations' module. Prepare for this by
moving the existing migrations from ''keystone.common.sql' into a common
'keystone.common.sql.legacy_migrations' module.

Change-Id: I5ab7b010b21268977f73738e895bbd21442e9455
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I8058902df167239fa455396d3595a56bcf472b2b,openstack/nova,master,bug/1888395,I8058902df167239fa455396d3595a56bcf472b2b,neutron: Rework how we check for extensions,MERGED,2020-02-04 18:22:10.000000000,2022-02-08 23:00:09.000000000,2022-02-08 22:56:47.000000000,294,170,18,705792,0f7f95b917b5a48779a327c45bd4a8558efcc7a3,134,16,12,14,15334,Stephen Finucane,sfinucan,"neutron: Rework how we check for extensions

There are couple of changes we can make here:

- Always attempt to refresh the cache before checking if an extension is
  enabled.
- Using extension slugs as our reference point rather than extension
  names. They seem like a better thing to use as a constant and are
  similarly fixed.
- Be consistent in how we name and call the extension check functions
- Add documentation for what each extension doing/used for

There's a TODO here to remove some code that relies on an out-of-tree
extension that I can't see. That's done separately since this is already
big enough.

Change-Id: I8058902df167239fa455396d3595a56bcf472b2b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fcinder~master~Ia184482946a0afda783004c7902c682141ed9278,openstack/cinder,master,update-contrib-doc,Ia184482946a0afda783004c7902c682141ed9278,"docs: Update ""Getting your patch merged""",MERGED,2022-02-03 23:57:23.000000000,2022-02-08 22:51:35.000000000,2022-02-08 22:41:27.000000000,49,21,1,827778,f1062f4be0948da17c130c809fd9b1488ce7743a,28,2,1,1,5314,Brian Rosmaita,brian-rosmaita,"docs: Update ""Getting your patch merged""

Move the ""how to review"" note to the ""Getting your patch merged""
section of the new contributor doc, add some info about project
priorities and milestones/freezes, and the importance of having
a +1 from Zuul.

Change-Id: Ia184482946a0afda783004c7902c682141ed9278
"
openstack%2Fdevstack~master~I72db7ef533e78a10734d105e6a0debef288e41a1,openstack/devstack,master,bug/1959196,I72db7ef533e78a10734d105e6a0debef288e41a1,"Revert ""Disable enforcing scopes in Neutron temporary""",MERGED,2022-01-28 08:53:08.000000000,2022-02-08 22:51:09.000000000,2022-02-08 22:41:18.000000000,1,3,1,826852,081c9b716fc742ffc12263e46ae499d7a1f65a7e,13,4,1,1,11975,Slawek Kaplonski,slaweq,"Revert ""Disable enforcing scopes in Neutron temporary""

This reverts commit be7b5bf671b4cdc082fb9b7bb73ec55cab0054dd.

As related bug is fixed, lets enabled scope enforcement in Neutron
again.

Related-bug: #1959196
Change-Id: I72db7ef533e78a10734d105e6a0debef288e41a1
"
openstack%2Fneutron~stable%2Fxena~I0391dd24224f8656a09ddb002e7dae8783ba37a4,openstack/neutron,stable/xena,bug/1930414-stable/xena,I0391dd24224f8656a09ddb002e7dae8783ba37a4,"Make sure ""dead vlan"" ports cannot transmit packets",MERGED,2022-02-08 07:22:56.000000000,2022-02-08 22:51:01.000000000,2022-02-08 22:41:22.000000000,71,77,1,828230,78c63d4ec6a94ba7bf9efb576850f7b38f1f8722,13,3,1,10,5948,Oleg Bondarev,obondarev,"Make sure ""dead vlan"" ports cannot transmit packets

https://review.opendev.org/c/openstack/neutron/+/820897 added
a dead vlan flow that pushes the dead vlan tag onto frames
belonging to dead ports before these ports are reassigned to
their proper vlans. However add_flow and delete_flows race and
delete_flows may run before add_flow, in this case deleting 0 flows
but not giving us a chance to detect this: neither does it throw
an error nor does it return the number of deleted flows.
This leads to port staying inaccessible forever and hence
breaks corresponding DHCP or router.

Current patch suggests another approach to make sure no packets are
leaked from newly plugged ports: setting their ""vlan_mode"" attribute
to ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).
With this OVS normal pipeline will allow only packets tagged with 4095
from such ports [1], which normally not happens, but even if it does -
default rule in br-int will drop them anyway.
Thus untagged packets from such ports will also be dropped until
ovs agent sets proper VLAN tag and clears vlan_mode to default
(""access"").

This approach avoids the race between dhcp/l3 and ovs agents because
dhcp/l3 agents no longer modify flow table.

This partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004

[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline

Closes-Bug: #1930414
Closes-Bug: #1959564
Change-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4
(cherry picked from commit 0ddca284542aed89df4a22607a2da03f193f083c)
"
openstack%2Fdevstack~master~I7c4bf0945f9ac5bd563fe0a698c09b8571c97c5e,openstack/devstack,master,f35,I7c4bf0945f9ac5bd563fe0a698c09b8571c97c5e,Bump fedora-latest to F35,MERGED,2022-02-03 00:19:29.000000000,2022-02-08 22:45:52.000000000,2022-02-08 22:34:32.000000000,13,4,13,827576,343e35162798af4c0399f2f7c0a733c568782686,27,5,6,4,7118,Ian Wienand,iwienand,"Bump fedora-latest to F35

Generally this is straight forward, but Horizon has a dependency issue
with pyScss (described in [1]) so it is disabled, for now.

[1] https://bugs.launchpad.net/horizon/+bug/1960204

Co-Authored-By: Dr. Jens Harbott <harbott@osism.tech>
Depends-On: https://review.opendev.org/c/openstack/devstack/+/827578
Change-Id: I7c4bf0945f9ac5bd563fe0a698c09b8571c97c5e
"
openstack%2Fcharm-rabbitmq-server~master~I9599f69cc11ea8d1a4e9d618aecdab4afe488d96,openstack/charm-rabbitmq-server,master,bug/1909031,I9599f69cc11ea8d1a4e9d618aecdab4afe488d96,Check before applying plugin and perms changes,MERGED,2021-11-23 11:00:55.000000000,2022-02-08 21:53:14.000000000,2022-02-08 21:53:14.000000000,701,40,5,818879,ccd11fdf9e801b5e3169c3482334a42101198042,24,3,5,2,12549,gnuoy,gnuoy,"Check before applying plugin and perms changes

Check that setting update is needed before applying a config
update to the cluster. This is mainly applicable to
rabbitmq-server > 3.8.2 which supports json output. If a
parser is not available to extract the existing settings
then the old behaviour of blindly applying the change
is used.

Closes-Bug: #1909031
Change-Id: I9599f69cc11ea8d1a4e9d618aecdab4afe488d96
"
openstack%2Fkeystonemiddleware~master~Ib64b3684d3fdaa3b9edb28a9c5d0f8487dffd912,openstack/keystonemiddleware,master,reno-xena,Ib64b3684d3fdaa3b9edb28a9c5d0f8487dffd912,Update master for stable/xena,MERGED,2021-09-10 15:15:42.000000000,2022-02-08 21:36:03.000000000,2022-02-08 21:31:57.000000000,7,0,0,808434,8a05709d69addef5d55262cd6bb179ec741b6f0c,10,3,2,2,22816,OpenStack Release Bot,release,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Change-Id: Ib64b3684d3fdaa3b9edb28a9c5d0f8487dffd912
"
openstack%2Fdiskimage-builder~master~Ib383f60bc23b434b400f85c376840a000cafc697,openstack/diskimage-builder,master,rockylinux-8,Ib383f60bc23b434b400f85c376840a000cafc697,Add new container element - Rocky Linux,MERGED,2022-01-22 22:55:22.000000000,2022-02-08 21:33:09.000000000,2022-02-08 21:24:12.000000000,62,1,18,825957,398e07e6f2bb5a2f763a22a8e4801108c242ffe2,76,6,12,11,34411,Neil Hanlon,nhanlon,"Add new container element - Rocky Linux

Introduce new container image for Rocky Linux, a downstream clone of Red
Hat Enterprise Linux.

Keep non-voting in Check for a while before adding to any gate checks

Signed-off-by: Neil Hanlon <neil@shrug.pw>
Change-Id: Ib383f60bc23b434b400f85c376840a000cafc697
Related-Bug: https://review.opendev.org/805800/
"
openstack%2Fbifrost~master~I990f5659ce501fa8ed95c2b18723189fe10f05d3,openstack/bifrost,master,upgrade,I990f5659ce501fa8ed95c2b18723189fe10f05d3,Only remove old services after they are stopped,MERGED,2022-02-08 08:45:53.000000000,2022-02-08 21:19:16.000000000,2022-02-08 21:10:15.000000000,15,8,0,828252,72ee1ff418a992fb93f934c7de99f9bee570afc5,10,3,3,3,10239,Dmitry Tantsur,dtantsur,"Only remove old services after they are stopped

Otherwise Ansible won't be able to stop them.

Change-Id: I990f5659ce501fa8ed95c2b18723189fe10f05d3
"
openstack%2Fbifrost~master~I522a125b17a1d03f0b884b17bb6b66f39e295d8c,openstack/bifrost,master,keystone-upgrade,I522a125b17a1d03f0b884b17bb6b66f39e295d8c,Update /etc/keystone ownership on upgrade from Xena,MERGED,2022-02-08 08:05:29.000000000,2022-02-08 21:10:18.000000000,2022-02-08 20:47:08.000000000,7,0,0,828227,629bf5224864e032574f4a26e0e965bf1ba47782,8,3,1,1,10239,Dmitry Tantsur,dtantsur,"Update /etc/keystone ownership on upgrade from Xena

The fernet key directory may end up owned by nginx otherwise.

Change-Id: I522a125b17a1d03f0b884b17bb6b66f39e295d8c
"
openstack%2Fironic~master~I6456dc17ae4e35c9c9960263e1d8a810ff110f7c,openstack/ironic,master,dnm,I6456dc17ae4e35c9c9960263e1d8a810ff110f7c,[DNM] Testing CI,NEW,2022-02-08 14:09:55.000000000,2022-02-08 20:56:04.000000000,,1,0,0,828338,4faccb3c84430827d8e17f0249491456c9384fc1,6,1,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"[DNM] Testing CI

Change-Id: I6456dc17ae4e35c9c9960263e1d8a810ff110f7c
"
openstack%2Fcharm-ceph-mon~master~Ic5ee9d33d2bb874af7fc7c325773f88c5661fcc6,openstack/charm-ceph-mon,master,,Ic5ee9d33d2bb874af7fc7c325773f88c5661fcc6,Display information if missing OSD relation,MERGED,2022-01-12 21:12:56.000000000,2022-02-08 20:53:32.000000000,2022-02-08 20:53:32.000000000,50,0,11,824485,48c52fafddef84f54c68cf2a208d9195e0a46dbb,31,4,3,2,34352,Samuel Walladge,swalladge,"Display information if missing OSD relation

When ceph-mon is blocked on waiting for enough OSDs to be available,
it will display a message to that effect.
But this is misleading if ceph-mon has not been related to ceph-osd.
So if the two are not related,
and ceph-mon is waiting for OSDS,
then display a message about the relation missing.

Closes-Bug: #1886558
Change-Id: Ic5ee9d33d2bb874af7fc7c325773f88c5661fcc6
"
openstack%2Fneutron-lib~master~I496db96ea40da3bee5b81bcee1edc79e1f46b541,openstack/neutron-lib,master,bug/1932154,I496db96ea40da3bee5b81bcee1edc79e1f46b541,Add VNIC_REMOTE_MANAGED for off-path backends,MERGED,2022-02-07 17:36:36.000000000,2022-02-08 20:51:28.000000000,2022-02-08 20:30:12.000000000,11,3,1,828174,18a69117202080a56a39e32b130e3813c344b9f2,14,5,2,3,24824,Dmitrii Shcherbakov,dmitriis,"Add VNIC_REMOTE_MANAGED for off-path backends

Added a new VNIC type for remote-managed ports of off-path networking
backends.

Related-Bug: #1932154
Change-Id: I496db96ea40da3bee5b81bcee1edc79e1f46b541
"
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fxena~I3adb4dd75198935c4656d0208043ad8051f29312,openstack/openstack-ansible-lxc_hosts,stable/xena,,I3adb4dd75198935c4656d0208043ad8051f29312,Ensure that the legacy network-scripts package is present,MERGED,2022-02-08 09:27:54.000000000,2022-02-08 20:06:26.000000000,2022-02-08 19:13:34.000000000,1,0,1,828235,08ce4f0e5aeec72c87fd3965656ac3f41202961e,14,5,1,1,25023,Jonathan Rosser,jrosser,"Ensure that the legacy network-scripts package is present

The lxc_hosts ansible role currently relies on the ifup / ifdown
commands.

Change-Id: I3adb4dd75198935c4656d0208043ad8051f29312
(cherry picked from commit 9a4004169450a0bb68ffe0fec31e6887a9c075f3)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I7da7a9d6d114cde4d0e9a9d4edcf5bf6634c0b7e,openstack/tripleo-ansible,stable/wallaby,fips-compatibility,I7da7a9d6d114cde4d0e9a9d4edcf5bf6634c0b7e,Enable fips test for metrics_qdr,ABANDONED,2022-02-08 19:50:55.000000000,2022-02-08 19:55:28.000000000,,7,0,0,828421,21a51e1dbfec591e10753aad3e17f874f5d4b7db,2,0,1,2,30893,Chris Sibbitt,csibbitt,"Enable fips test for metrics_qdr

Change-Id: I7da7a9d6d114cde4d0e9a9d4edcf5bf6634c0b7e
(cherry picked from commit f59b22671ce49671c10070e0332c79f5fd2a65f9)
"
openstack%2Fmanila~master~I336da6d2f5dc0bacb12f9c3be6f00b2484e4c2d7,openstack/manila,master,py3-only,I336da6d2f5dc0bacb12f9c3be6f00b2484e4c2d7,Add Python 3 only classifier,MERGED,2022-02-08 14:12:12.000000000,2022-02-08 19:50:05.000000000,2022-02-08 19:09:58.000000000,1,0,1,828339,cf7bf17e4636773ccc7dbf9ce10b4e4ac696c63b,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Add Python 3 only classifier

Python 2 support was removed during Ussuri cycle. This change adds
the classifier to clearly state that only Python 3 is supported.

Change-Id: I336da6d2f5dc0bacb12f9c3be6f00b2484e4c2d7
"
openstack%2Fgovernance~master~Ifa7159e37445d5024e884481b30d0aadcde10d2f,openstack/governance,master,project-update,Ifa7159e37445d5024e884481b30d0aadcde10d2f,Continue to maintain the neutron-fwaas project,MERGED,2022-02-07 07:43:07.000000000,2022-02-08 19:47:28.000000000,2022-02-08 19:03:55.000000000,0,4,3,828078,0fee3b975afcac4332740e614cdf640a8f008abc,12,4,2,1,30380,ZhouHeng,zhouhenglc,"Continue to maintain the neutron-fwaas project

Many users still need L3 firewalls and Inspur team wants to continue
to maintain this project.
Neutron drivers team discussed the topic of the maintenance of
neutron-fwaas, and agreed to include neutron-fwaas again to Neutron
stadium[1].

[1] https://meetings.opendev.org/meetings/neutron_drivers/2022/neutron_drivers.2022-01-28-14.00.log.html#l-14

Change-Id: Ifa7159e37445d5024e884481b30d0aadcde10d2f
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I7da7a9d6d114cde4d0e9a9d4edcf5bf6634c0b7e,openstack/tripleo-ansible,stable/victoria,fips-compatibility,I7da7a9d6d114cde4d0e9a9d4edcf5bf6634c0b7e,Enable fips test for metrics_qdr,ABANDONED,2022-02-08 19:32:53.000000000,2022-02-08 19:46:31.000000000,,14,0,1,828415,af12fdc8bd8813ffc10746c3c4765029c8322f0d,3,0,1,2,30893,Chris Sibbitt,csibbitt,"Enable fips test for metrics_qdr

Change-Id: I7da7a9d6d114cde4d0e9a9d4edcf5bf6634c0b7e
(cherry picked from commit f59b22671ce49671c10070e0332c79f5fd2a65f9)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ied386c148717c53903bd5f58c575e8c6cabee7a9,openstack/tripleo-heat-templates,stable/train,disable_libvirt-stable/wallaby-stable/train,Ied386c148717c53903bd5f58c575e8c6cabee7a9,Disable libvirtd and stop it,MERGED,2022-01-31 16:34:18.000000000,2022-02-08 19:23:24.000000000,2022-02-08 19:23:24.000000000,16,0,1,827019,8f5796625e4dd1d5f0a974da450f2bb7e6285593,14,6,1,1,27419,David Vallee Delisle,dvd,"Disable libvirtd and stop it

Disable libvirtd and stop it the dnsmasq libvirtd process conflicts with the
dnsmasq process from ironic inspector and that there's no need to have
libvirtd running at all on any of the overcloud nodes.

Change-Id: Ied386c148717c53903bd5f58c575e8c6cabee7a9
(cherry picked from commit 5b9648dd9dc5cc15b15373894c48998952b4acb6)
(cherry picked from commit 4825f115b6613be0b8558557396ef7a8351d8cf7)
"
openstack%2Ftripleo-heat-templates~master~I7e97108d8165c16946b3b11f3084bfd51e3128dc,openstack/tripleo-heat-templates,master,,I7e97108d8165c16946b3b11f3084bfd51e3128dc,Fix OS_CLOUD for multistack and nova az tasks,MERGED,2022-02-02 16:11:58.000000000,2022-02-08 18:54:33.000000000,2022-02-08 18:54:33.000000000,68,15,11,827527,ceed5ac9e71e7c4b113ffa8e16a8167190312b47,31,8,3,5,23811,Oliver Walsh,owalsh,"Fix OS_CLOUD for multistack and nova az tasks

The entry in clouds.yaml will correspond to the stack that deploys
keystone. Therefore in a multistack deployment RootStackName will not be
give the correct entry. Add a parameter to override this.

Also clouds.yaml is owned by root and mode 0600 so we much use
become: true.

Update nova az tasks to use clouds.yaml.

Change-Id: I7e97108d8165c16946b3b11f3084bfd51e3128dc
"
openstack%2Fcharms.openstack~master~Ia72661e4a916dc88cec7d3e0c590056bfb3ed5f0,openstack/charms.openstack,master,package-upgrade,Ia72661e4a916dc88cec7d3e0c590056bfb3ed5f0,Allow package-upgrade to use openstack-origin,NEW,2022-02-08 18:26:39.000000000,2022-02-08 18:38:47.000000000,,20,32,0,828410,5db4981555a29f0bc71b09a4c130f417df990973,2,1,1,2,11805,Corey Bryant,coreycb,"Allow package-upgrade to use openstack-origin

The package-upgrade action needs to be able to update to
proposed or a PPA if the openstack-origin has been updated.
There is already a check in charm-layer-openstack-principle
that prevents the package-upgrade action from running if a new
OpenStack release is available.

Change-Id: Ia72661e4a916dc88cec7d3e0c590056bfb3ed5f0
"
openstack%2Ftripleo-heat-templates~master~I186ea70f5442cf459d0faa6850a1f4c7779a6467,openstack/tripleo-heat-templates,master,,I186ea70f5442cf459d0faa6850a1f4c7779a6467,Fix ironic boot interface for undercloud,MERGED,2022-02-04 21:54:04.000000000,2022-02-08 18:34:03.000000000,2022-02-08 10:01:28.000000000,1,1,5,827929,19c11813d58da3e66d0c9f852de2ce96693b0aba,12,4,1,1,11655,Julia Kreger,jkreger,"Fix ironic boot interface for undercloud

A very long time ago, Ironic split the pxe boot interface with
a global configuration setting of ipxe_enabled to two separate boot
interfaces. One called pxe, and the other called ipxe.

As time moved on, the functionality of the long deprecated global
override setting has diminished, and ultimately no longer has any
effect.

Enabling both allows operators to make informed decisions
based upon their deployment to match the underlying capabilities
of the software.

Change-Id: I186ea70f5442cf459d0faa6850a1f4c7779a6467
"
openstack%2Fpuppet-openstack-integration~master~I9eae6425761b9a93ab0f44d4cb42d93a1add6b40,openstack/puppet-openstack-integration,master,,I9eae6425761b9a93ab0f44d4cb42d93a1add6b40,CentOS: Capture yum repository files,MERGED,2022-02-05 08:50:10.000000000,2022-02-08 18:31:32.000000000,2022-02-08 18:31:32.000000000,4,0,0,827942,8c220d00d4b72aa6a98852db2453532ec524f179,7,3,1,1,9816,Takashi Kajinami,kajinamit,"CentOS: Capture yum repository files

When some of the repositories are not accessible, repository list is
not properly captured and that makes it difficult to find out which
repository is wrong or has an issue.
This change ensures the repository configuration files are captured
as part of logs, for easy reference.

Change-Id: I9eae6425761b9a93ab0f44d4cb42d93a1add6b40
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I36367b58d43347ccf0fc18de4665a10891faef10,openstack/tripleo-heat-templates,stable/wallaby,1959662-stable/wallaby,I36367b58d43347ccf0fc18de4665a10891faef10,Drop Nova and NovaJoin services from UC role data,MERGED,2022-02-07 10:30:25.000000000,2022-02-08 18:22:54.000000000,2022-02-08 18:22:54.000000000,0,10,0,827968,5499a0760ad950ed77fd85db2b6cf1f8614e591f,11,8,2,2,26343,Jose Luis Franco,jfrancoa,"Drop Nova and NovaJoin services from UC role data

As of Wallaby, Nova service no longer in use on Undercloud.
Keeping these in roles data waste container prepare cycles
and the registry space for unused container images.

Depends-On: https://review.opendev.org/827647
Change-Id: I36367b58d43347ccf0fc18de4665a10891faef10
Related-bug: #1959662
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 17004426aef236da2d79d299523c0a2e0abef03e)
"
openstack%2Fpuppet-openstack-integration~master~I7633fbfbf3424f093dac5811e9c2fb8dcdf3167b,openstack/puppet-openstack-integration,master,,I7633fbfbf3424f093dac5811e9c2fb8dcdf3167b,Remove workaround for masked redis-server.service,MERGED,2022-02-05 14:29:19.000000000,2022-02-08 18:20:17.000000000,2022-02-08 18:20:17.000000000,1,10,0,827970,d8c452f91a32f74a5fece67049f8a9a17a560697,9,3,3,1,9816,Takashi Kajinami,kajinamit,"Remove workaround for masked redis-server.service

This is revert of 74022b48ddb6312bcc3b82a92b9bc45fdcbf04f1 and its
follow up commit 46b503f7b02f9aabad953776c2d8b4eb02859dda. The logic
was added for Debian but we no longer have Debian jobs.

Change-Id: I7633fbfbf3424f093dac5811e9c2fb8dcdf3167b
"
openstack%2Fpuppet-openstack-integration~master~Id4f94f514826c946d0d0bdf985dfa125ff0b5943,openstack/puppet-openstack-integration,master,,Id4f94f514826c946d0d0bdf985dfa125ff0b5943,Ubuntu/Debian: Use stable/xena release,MERGED,2022-02-05 16:18:37.000000000,2022-02-08 18:20:15.000000000,2022-02-08 18:20:15.000000000,1,1,0,827979,bcfe0655d739a492eac7ec47543d0014a5f9800b,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Ubuntu/Debian: Use stable/xena release

Change-Id: Id4f94f514826c946d0d0bdf985dfa125ff0b5943
"
openstack%2Foctavia~master~I8fac328cdda6e1015a145a1f8a497e007ac6ac02,openstack/octavia,master,,I8fac328cdda6e1015a145a1f8a497e007ac6ac02,Fix devstack on centos-9-stream,MERGED,2022-02-07 20:21:15.000000000,2022-02-08 18:16:19.000000000,2022-02-08 18:06:45.000000000,1,2,2,828189,791fbfce6c8803362e69f3716ef585b99b8560ad,10,3,1,2,29244,Gregory Thiemonge,gthiemonge,"Fix devstack on centos-9-stream

debootstrap doesn't exist on centos-9-stream, disable it for
rhel9-based distribution.
Also remove a previous unsuccessful attempt to remove it.

Change-Id: I8fac328cdda6e1015a145a1f8a497e007ac6ac02
"
openstack%2Fpython-manilaclient~master~Ie472ca4a60b4b86d525b387dfa318439006b10bd,openstack/python-manilaclient,master,py3-only,Ie472ca4a60b4b86d525b387dfa318439006b10bd,Add Python 3 only classifier,MERGED,2022-02-08 14:13:08.000000000,2022-02-08 18:16:14.000000000,2022-02-08 18:07:23.000000000,1,0,1,828340,5f0a2810024470288366c301e802a761dc033283,7,2,1,1,9816,Takashi Kajinami,kajinamit,"Add Python 3 only classifier

Python 2 support was removed during Ussuri cycle. This change adds
the classifier to clearly state that only Python 3 is supported.

Change-Id: Ie472ca4a60b4b86d525b387dfa318439006b10bd
"
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~I166476a942159a091928f8dd8deda9f9195e3b8e,openstack/puppet-openstack_extras,stable/ussuri,,I166476a942159a091928f8dd8deda9f9195e3b8e,"Revert ""Disable integration/beaker job""",MERGED,2022-02-04 12:56:43.000000000,2022-02-08 18:07:11.000000000,2022-02-08 18:07:11.000000000,2,2,3,827855,1744edb487307ebc46789187df1397f8e846d0b3,19,3,5,1,9816,Takashi Kajinami,kajinamit,"Revert ""Disable integration/beaker job""

This reverts commit 9cb16d1c9fdd0c31eaa16df29c4249d7768ef516.

Depends-on: https://review.opendev.org/827840
Change-Id: I166476a942159a091928f8dd8deda9f9195e3b8e
"
openstack%2Fneutron-specs~master~I63f156c5bfb5a41e5ebf94dc8f069828569e270a,openstack/neutron-specs,master,bug/1932154,I63f156c5bfb5a41e5ebf94dc8f069828569e270a,Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC,MERGED,2022-02-07 17:21:51.000000000,2022-02-08 17:50:12.000000000,2022-02-08 17:47:27.000000000,9,7,5,828173,7795bbd62ade1dbd24eeb74001ec4afeb14ac56f,18,5,2,1,24824,Dmitrii Shcherbakov,dmitriis,"Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC

After a round of reviews of Nova patches that utilized VNIC_SMARTNIC for
the off-path backend spec

https://review.opendev.org/q/topic:2021-09-10-off-path-net-backends-dep

it was determined that the Ironic's usage of VNIC_SMARTNIC would be
affected by how the decision is made whether a port is remote-managed or
not during the resource request creation.

https://review.opendev.org/c/openstack/nova/+/824835/13/nova/network/neutron.py#2325

See the following log for the relevant discussion:

https://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56

Therefore, this change introduces a spec update to use a new VNIC
type.

Nova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458
Nova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends

Partial-Bug: #1932154
Change-Id: I63f156c5bfb5a41e5ebf94dc8f069828569e270a
"
openstack%2Fglance_store~master~I206580f6be615ebc5e15b546b9c23728d4116a5d,openstack/glance_store,master,826290,I206580f6be615ebc5e15b546b9c23728d4116a5d,Cinder store: Wait for device resize,MERGED,2022-01-25 13:56:42.000000000,2022-02-08 17:49:35.000000000,2022-02-08 17:46:14.000000000,138,4,13,826290,f3433ed1a5176bff85b3fe04dba2d4c76618a299,24,8,5,4,27615,Rajat Dhasmana,whoami-rajat,"Cinder store: Wait for device resize

When we have an image with size > 1 GB, we follow the following steps
to accomodate the image:
1) Detach the volume
2) extend the volume
3) Attach the volume
4) Open the volume device as a file and resume writing the image

Sometimes due to several reasons (mostly network related), the
size of the device file could mismatch with the actual volume size
(or the backend LUN size). This can happen if the extend was performed
(i.e. the control path) but it takes the time to reflect that into
the mapped device (i.e. the data path). This mismatch can cause the
issue ""IOError: [Errno 28] No space left on device"".
To avoid this scenario, we check if the device size is less than the
volume size, we wait for the extended LUN to show up in mapped device
and then continue the image writing operation.

Closes-Bug: #1959913

Change-Id: I206580f6be615ebc5e15b546b9c23728d4116a5d
"
openstack%2Foslo.db~master~If3db4e8c1b681c0c62d3f04a57f92802639b3b9b,openstack/oslo.db,master,sqlalchemy-20,If3db4e8c1b681c0c62d3f04a57f92802639b3b9b,utils: Remove troublesome utility methods,MERGED,2021-08-16 16:12:19.000000000,2022-02-08 17:49:22.000000000,2022-02-08 17:46:53.000000000,15,219,9,804774,22c602f075795b6d5ecbbc2e229817f759613ea2,19,4,3,4,15334,Stephen Finucane,sfinucan,"utils: Remove troublesome utility methods

These are not compatible with SQLAlchemy 2.0 due to their reliance on
nested transactions. We should deprecate them first but doing so would
push the boat out further wrt how long we have to wait before achieving
compatibility with this new version.

Change-Id: If3db4e8c1b681c0c62d3f04a57f92802639b3b9b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Foslo.messaging~master~Id573e04c287e034e50626daf6e18a34735d45251,openstack/oslo.messaging,master,quorum-queues,Id573e04c287e034e50626daf6e18a34735d45251,Adding support for rabbitmq quorum queues,MERGED,2021-09-08 06:40:38.000000000,2022-02-08 17:43:36.000000000,2022-02-08 14:57:32.000000000,66,9,86,807826,7e8acbf87070354cd2438f3ab0821d035c2e7d92,96,9,23,4,28522,Hervé Beraud,hberaud,"Adding support for rabbitmq quorum queues

https://www.rabbitmq.com/quorum-queues.html

The quorum queue is a modern queue type for RabbitMQ implementing a
durable, replicated FIFO queue based on the Raft consensus algorithm. It
is available as of RabbitMQ 3.8.0.

the quorum queues can not be set by policy so this should be done when
declaring the queue.

To declare a quorum queue set the x-queue-type queue argument to quorum
(the default is classic). This argument must be provided by a client at
queue declaration time; it cannot be set or changed using a policy. This
is because policy definition or applicable policy can be changed
dynamically but queue type cannot. It must be specified at the time of
declaration.

its good for the oslo messaging to add support for that type of queue
that have multiple advantaged over mirroring.

If quorum queues are sets mirrored queues will be ignored.

Closes-Bug: #1942933
Change-Id: Id573e04c287e034e50626daf6e18a34735d45251
"
openstack%2Fkolla-ansible~master~I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,openstack/kolla-ansible,master,bug/1959663,I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,Glance: add lock_path setting,MERGED,2022-02-01 11:25:35.000000000,2022-02-08 17:31:15.000000000,2022-02-08 17:24:15.000000000,9,0,3,827265,75305aa897cde1c840088e5bd0b409da44e8114a,17,5,1,2,30491,Radosław Piliszek,yoctozepto,"Glance: add lock_path setting

This is required to use, e.g., Cinder iSCSI backend with Glance.

Closes-Bug: #1959663
Change-Id: I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318
"
openstack%2Fos-resource-classes~master~Ic93f1c77230d859713ea9bc86065880efa91de7c,openstack/os-resource-classes,master,py39-voting,Ic93f1c77230d859713ea9bc86065880efa91de7c,Test all supported python version,MERGED,2021-11-25 00:16:28.000000000,2022-02-08 17:20:12.000000000,2022-02-08 17:08:22.000000000,16,1,2,819207,e532b71313058959976705ea3e18a45799b3cd47,9,4,1,2,8556,Ghanshyam,ghanshyam,"Test all supported python version

As os-resource-classes is branchless which means same
master code is run on stable branches too, let's test it
with all the python version supported in those stable branches.

For that, we need to explicitly add the pythn jobs instead of using
the release specific job template. This way, we will explicitly know
that we are testing all supported python versions and do not remove the
older py version testing when the new release template bumps the min python
version like done in Yoga.

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Change-Id: Ic93f1c77230d859713ea9bc86065880efa91de7c
"
openstack%2Ftempest~master~Ic99ba61d87dfc24a684263d41e0caa4f54d1d263,openstack/tempest,master,bug/1945495,Ic99ba61d87dfc24a684263d41e0caa4f54d1d263,Fix test_rebuild_server test by waiting for floating ip,MERGED,2021-10-15 00:07:05.000000000,2022-02-08 17:18:02.000000000,2022-01-28 20:23:38.000000000,3,0,10,814085,d4c9cc89f199899b20cfaea975ecd15ee66d3523,25,4,4,1,22873,Martin Kopec,mkopec,"Fix test_rebuild_server test by waiting for floating ip

The test could fail on an adresses mismatch when the test server
didn't have floating ip assigned yet at the beginning of the test.

Closes-Bug: #1945495
Change-Id: Ic99ba61d87dfc24a684263d41e0caa4f54d1d263
"
openstack%2Fos-vif~stable%2Ftrain~I49f6ae3f0e6bfbf555c8284bfd70371ce90da0c7,openstack/os-vif,stable/train,train-fix-swirchdev,I49f6ae3f0e6bfbf555c8284bfd70371ce90da0c7,Fix - os-vif fails to get the correct UpLink Representor,NEW,2020-12-08 11:24:53.000000000,2022-02-08 16:48:40.000000000,,74,8,0,765970,3c63ee065a53649c700121a7947c399f23dca95a,21,4,3,3,32296,Mamduh,Mamduh,"Fix - os-vif fails to get the correct UpLink Representor

Till kernel 5.7 PF and VF representors are exposed as virtual device.
They are not linked to its parent PCI device like how uplink
representor is linked.

Starting from kernel 5.8 due to new change [1] the PF and VF representors are
linked to their parent PCI device, and so ""get_ifname_by_pci_address"" fails
to get the correct UpLink Representor.

This patch modifys the behviour of ""get_ifname_by_pci_address"" to
check the physical port name of the netdev in
vf_pci_addr_path/physfn/net to match the formart for the uplink ""p\d+"".

[1] https://git.kernel.org/pub/scm/linux/kernel/git/netdev/net.git/commit/?id=123f0f53dd64b67e34142485fe866a8a581f12f1

Closes-Bug: #1892132
Change-Id: I49f6ae3f0e6bfbf555c8284bfd70371ce90da0c7
(cherry picked from commit 1226d46cc8bde9531821c68465a05292528142f0)
"
openstack%2Fos-vif~stable%2Ftrain~I3fdbea4f48cb79ebfd03a4da21e2232ccafb7a76,openstack/os-vif,stable/train,train-refactor-linux-net,I3fdbea4f48cb79ebfd03a4da21e2232ccafb7a76,Refactor code of linux_net to more cleaner and increase performace,NEW,2020-12-08 07:37:45.000000000,2022-02-08 16:48:37.000000000,,139,188,4,765912,cda2a020f1ef92ebdd62c592cbad987977f240e6,33,4,6,2,32296,Mamduh,Mamduh,"Refactor code of linux_net to more cleaner and increase performace

The patch adds new functions '_get_phys_port_name' for reading physical
port name of the SR-IOV port and '_get_phys_switch_id' for reading
physical port switch ID of the SR-IOV port, in addition to refactoring
'get_representor_port' to use the new functions and decrease calls for
""_get_pf_func"" and netdevs associated with the PF will now be processed
in the loop, however it will not be matching 'phys_port_name' which
ensures the correct behaviour.

In addition to updating the unit test for linux_net and remove not
needed mocks

Related-Bug: #1892132
Change-Id: I3fdbea4f48cb79ebfd03a4da21e2232ccafb7a76
(cherry picked from commit 3e1d898b752c327165aeca1fec0919d858a87ec4)
"
openstack%2Fnova-specs~master~I3bb152d1c823b0e3f8a85f3f3f368a76bdfbe033,openstack/nova-specs,master,sphinx-4.4.0,I3bb152d1c823b0e3f8a85f3f3f368a76bdfbe033,Avoid Sphinx 4.4.0 to fix specs doc build,MERGED,2022-02-08 15:40:44.000000000,2022-02-08 16:38:24.000000000,2022-02-08 16:33:16.000000000,4,1,2,828368,44ccb9898f8be846a9cd11dc9b11887c7f746f1a,9,4,1,1,9708,Balazs Gibizer,gibi,"Avoid Sphinx 4.4.0 to fix specs doc build

It seems Sphinx 4.4.0 made the _`[1]` type of references global. These
were document local references in the past. The nova spec repo has
multiple documents reusing such reference labels. So with 4.4.0 the doc
build fails with duplicate reference error.

This patch pins the Sphinx version to unblock the doc build job.

Change-Id: I3bb152d1c823b0e3f8a85f3f3f368a76bdfbe033
"
openstack%2Fkeystonemiddleware~master~Ifa326381f0c901e712367d4d51218aef18eb26f2,openstack/keystonemiddleware,master,reno-wallaby,Ifa326381f0c901e712367d4d51218aef18eb26f2,Update master for stable/wallaby,MERGED,2021-03-19 19:42:11.000000000,2022-02-08 16:30:51.000000000,2022-02-08 16:26:25.000000000,7,0,1,781872,7edcd324839c006692af57872c9ba0ace9f88770,11,4,2,2,22816,OpenStack Release Bot,release,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Co-authored-by: Kristi Nikolla <knikolla@bu.edu>

Change-Id: Ifa326381f0c901e712367d4d51218aef18eb26f2
"
openstack%2Fkeystone~master~I8aa811ea336e9f613300bc21125e7582010cf5a5,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I8aa811ea336e9f613300bc21125e7582010cf5a5,sql: Remove dead code,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 16:25:15.000000000,2022-02-08 15:58:12.000000000,0,83,0,824788,15847926ef61780a94b8a0f28c665aac168a77f7,17,4,4,1,15334,Stephen Finucane,sfinucan,"sql: Remove dead code

Change I41584c652ab34a267009136ee2a2e159ee2f2a6e (""sql: Squash mitaka
migrations"") removed the final users of the 'get_constraints_names',
'add_constraints' and 'remove_constraints' functions.

Change I96cab42cfcfd3e86b53f25abf4cf4043af3b5667 (""sql: Squash ocata
migrations"") removed the final use of the 'USE_TRIGGERS' constant.

Change I59882d88fe593ec1ae37415b2157584f7f3c85f8 (""sql: Remove legacy
'migrate_repo' migration repo"") removed the final use of
'_assert_not_schema_downgrade' function.

Change-Id: I8aa811ea336e9f613300bc21125e7582010cf5a5
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkeystone~master~Ia1495cd4683d6631be2691e816734d01b03037a3,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Ia1495cd4683d6631be2691e816734d01b03037a3,sql: Squash ussuri migrations,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 16:18:00.000000000,2022-02-08 15:57:59.000000000,39,487,0,824785,3e2b01d5f66c542491513d9c0db6c77f271e1d20,14,5,2,26,15334,Stephen Finucane,sfinucan,"sql: Squash ussuri migrations

Make the following changes to the new ""initial"" migrations.

- Drop foreign key constraints on 'domain_id' columns of 'user' and
  'identity_provider' tables (072)
- Add 'authorization_ttl' column to 'identity_provider' table (073)
- Add 'expiring_user_group_membership' table (073)

This concludes our squashing. We won't squash the 079 migrations, added in
Xena, since this would break fast forward upgrades. Future changes will instead
(finally) focus on the switch to alembic.

Change-Id: Ia1495cd4683d6631be2691e816734d01b03037a3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fvictoria~Ic44b29b060cd6a1741719f673e794a532aaabe7b,openstack/openstack-ansible-lxc_hosts,stable/victoria,osa/remove-centos8,Ic44b29b060cd6a1741719f673e794a532aaabe7b,Drop CentOS 8 jobs,MERGED,2022-02-07 09:43:14.000000000,2022-02-08 16:17:41.000000000,2022-02-08 16:05:22.000000000,0,8,0,828096,b49730e71a33196182f785af3d4739a5f20620d1,8,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Drop CentOS 8 jobs

Change-Id: Ic44b29b060cd6a1741719f673e794a532aaabe7b
"
openstack%2Fzaqar~stable%2Fwallaby~Ide9e5a7aac0459a616c1726809b8a72c664ca001,openstack/zaqar,stable/wallaby,create-wallaby,Ide9e5a7aac0459a616c1726809b8a72c664ca001,Update .gitreview for stable/wallaby,NEW,2021-03-29 08:25:01.000000000,2022-02-08 16:11:39.000000000,,1,0,1,783617,2697b2854dafe00d5704e323edf02f71638f4cc9,8,1,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/wallaby

Change-Id: Ide9e5a7aac0459a616c1726809b8a72c664ca001
"
openstack%2Fzaqar~stable%2Fwallaby~I757ae468551c005db037467b5e5df5e3b3a4e471,openstack/zaqar,stable/wallaby,create-wallaby,I757ae468551c005db037467b5e5df5e3b3a4e471,Update TOX_CONSTRAINTS_FILE for stable/wallaby,NEW,2021-03-29 08:25:05.000000000,2022-02-08 16:01:32.000000000,,4,4,1,783618,2f523b2dcd3abff8808cf179c5aa8759a010d693,4,1,1,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I757ae468551c005db037467b5e5df5e3b3a4e471
"
openstack%2Fkeystone~master~I198822d6f55353f1adeea9024db67abb24be54c7,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I198822d6f55353f1adeea9024db67abb24be54c7,cmd: Remove deprecated '--extension' argument,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 15:58:09.000000000,2022-02-08 15:58:09.000000000,86,79,2,824787,9f42c5ad6a5122c2122a239876de95bff5732a2e,18,6,4,2,15334,Stephen Finucane,sfinucan,"cmd: Remove deprecated '--extension' argument

Remove option from 'db sync' and 'db version' commands of
'keystone-manage'. We also remove handling code for providing '--expand'
and '--migrate' in the same invocation, which isn't possible since
they're in a mutually exclusive group. Finally, we clean some formatting
things up in preparation for the alembic integration.

Change-Id: I198822d6f55353f1adeea9024db67abb24be54c7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkeystone~master~Id22aa60e2243b5ce1f3055429ba1ba71a0816f39,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Id22aa60e2243b5ce1f3055429ba1ba71a0816f39,sql: Add initial alembic scaffolding,MERGED,2022-01-06 10:48:49.000000000,2022-02-08 15:58:06.000000000,2022-02-08 15:58:06.000000000,254,0,2,823668,44886a0f62a75ca10760049e8e71a0f7ec7d8a5b,18,4,4,5,15334,Stephen Finucane,sfinucan,"sql: Add initial alembic scaffolding

This is effectively the output of 'alembic init' with a few tweaks to
keep pep8 happy and make things more grokable. There will be a great
deal more changes down the line.

Change-Id: Id22aa60e2243b5ce1f3055429ba1ba71a0816f39
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkeystone~master~I3b3cbc2dc827a05ec03edb2e7d60befa89524f1b,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I3b3cbc2dc827a05ec03edb2e7d60befa89524f1b,sql: Reorder tables to reflect creation order,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 15:58:02.000000000,2022-02-08 15:58:02.000000000,499,473,0,824786,f34b842d7b228a17e72ce7ae0a4ed346c3d7f424,14,6,2,1,15334,Stephen Finucane,sfinucan,"sql: Reorder tables to reflect creation order

Order tables in a rough alphabetical order, with tables without foreign
keys first, followed by those with them later. This will make life
easier when we get to migrating to alembic.

Change-Id: I3b3cbc2dc827a05ec03edb2e7d60befa89524f1b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftempest~master~I5d1482cefc06ac59044839c9ecbca43887a2f37c,openstack/tempest,master,fips-compliance,I5d1482cefc06ac59044839c9ecbca43887a2f37c,WIP - Add libssh Client to use with fips,NEW,2021-12-08 12:38:35.000000000,2022-02-08 15:56:26.000000000,,118,2,0,821019,00a676cc0e1f1da4c21fdcbc5892baf6cedafc5c,13,2,6,3,34120,Andre Aranha,afariasa,"WIP - Add libssh Client to use with fips

paramiko is not fips certified, and so, cannot execute on a system
where fips is enabled.  This is an patch adds a libssh client to
be used instead of paramiko when CONF.validation.fips is enabled.

This patch is nowhere near complete - for one thing, proxy channel
stuff is not finished at all, and tests have not yet been updated.
But I want to put this up and see if it works for other reviews
as a starter.

Change-Id: I5d1482cefc06ac59044839c9ecbca43887a2f37c
"
openstack%2Ftripleo-quickstart-extras~master~I8b0265576fdec472201105384e475c9285c52ceb,openstack/tripleo-quickstart-extras,master,,I8b0265576fdec472201105384e475c9285c52ceb,Include cert dir for container build,MERGED,2022-02-08 06:52:53.000000000,2022-02-08 15:39:53.000000000,2022-02-08 15:39:53.000000000,1,0,0,828223,8876a9aff8d5f6d57e947566b57023eb23d0ff6d,11,5,1,1,29775,Sandeep Yadav,sandeepyadav93,"Include cert dir for container build

If a cert is needed to access resources, it needs to be passed
to ""openstack container build""

This is needed in downstream where after enabling ssl for DLRN
- container build in content-provider jobs is failing because
necessary certs are not available.

Change-Id: I8b0265576fdec472201105384e475c9285c52ceb
"
openstack%2Fzaqar~stable%2Fxena~I2f17523b52f43f8922dcdb6f3a706222a69ab707,openstack/zaqar,stable/xena,,I2f17523b52f43f8922dcdb6f3a706222a69ab707,Xena-only : Replace job template for stable/xena,NEW,2022-02-08 14:22:30.000000000,2022-02-08 15:38:28.000000000,,1,1,0,828348,c800b742340c71f1dc2ec3f9a16fa35548d0d474,2,1,1,1,9816,Takashi Kajinami,kajinamit,"Xena-only : Replace job template for stable/xena

It seems job template has not been updated since Victoria. This change
replaces the template by the one for Xena release.

Change-Id: I2f17523b52f43f8922dcdb6f3a706222a69ab707
"
openstack%2Fkeystone~master~Ifc71efb8609bc26ce998a9fa48b207abf8b9a38b,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Ifc71efb8609bc26ce998a9fa48b207abf8b9a38b,sql: Squash train migrations,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 15:36:54.000000000,2022-02-08 14:18:29.000000000,75,804,3,824784,10b67ba1f5a38aa725c4c78eda79021a7d0ce381,22,5,2,35,15334,Stephen Finucane,sfinucan,"sql: Squash train migrations

Make the following changes to the new ""initial"" migrations.

- Add 'redelegated_trust_id' and 'redelegation_count' columns to
  'trust' table (062)
- Drop 'service_id', 'region_id', and 'resource_name' columns from
  'limit' table (063)
- Add 'remote_id_attribute' column to 'federation_protocol' table (064)
- Add 'external_id' and 'user_id' columns to 'access_rule' table (065)
- Add 'role_option' and 'project_option' tables (066)

Change-Id: Ifc71efb8609bc26ce998a9fa48b207abf8b9a38b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fglance~master~I9e20aaae95f6dd034e40801bb1310259131d3954,openstack/glance,master,migration-version-bump,I9e20aaae95f6dd034e40801bb1310259131d3954,[WIP] Modify glance db constant check logic,ABANDONED,2022-02-03 05:13:34.000000000,2022-02-08 15:16:30.000000000,,5,2,0,827587,3009bb7dbf7f2ead746da999f5778d230ce1812c,3,5,1,2,9303,Abhishek Kekane,abhishekkekane,"[WIP] Modify glance db constant check logic

Earlier we were checking whether glance release version is matching
with current release name. This requires to wait untill we use to
tag atleast one milestone from current release.

In this patch I am making sure that Current release is not less
than what we are actually expecting.

Change-Id: I9e20aaae95f6dd034e40801bb1310259131d3954
"
openstack%2Fpython-aodhclient~master~I1f2788b7ffe8a28fdfbc5df0947f62c48449e8ad,openstack/python-aodhclient,master,py3-only,I1f2788b7ffe8a28fdfbc5df0947f62c48449e8ad,Add Python 3 only classifier,MERGED,2022-02-08 14:14:11.000000000,2022-02-08 15:13:49.000000000,2022-02-08 15:11:10.000000000,1,0,1,828341,c3c00002efd0bc98f7a15697793e4c084aae65fa,7,2,1,1,9816,Takashi Kajinami,kajinamit,"Add Python 3 only classifier

Python 2 support was removed during Ussuri cycle. This change adds
the classifier to clearly state that only Python 3 is supported.

Change-Id: I1f2788b7ffe8a28fdfbc5df0947f62c48449e8ad
"
openstack%2Foslo.policy~stable%2Fvictoria~Ifcaf6993517d02bf54cd144efd247832947a009f,openstack/oslo.policy,stable/victoria,lc-victoria,Ifcaf6993517d02bf54cd144efd247832947a009f,Dropping lower constraints testing,MERGED,2021-11-04 11:07:20.000000000,2022-02-08 14:51:27.000000000,2022-02-08 14:35:06.000000000,0,58,2,816644,bd6dd9592dfbb88f5215d50b4c9873ae6ffd40ba,9,4,1,3,28522,Hervé Beraud,hberaud,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ifcaf6993517d02bf54cd144efd247832947a009f
(cherry picked from commit 7b649af0c1569ebb61ed4e34da4a476ccb1474b9)
(cherry picked from commit 21df7f5a32b3eb0f7352eafd9f79c7ca28919938)
"
openstack%2Ftempest~master~Ieb17cac3a4a5f1396d1a975698461924df9204a3,openstack/tempest,master,replace_paramiko_with_libssh,Ieb17cac3a4a5f1396d1a975698461924df9204a3,WIP - replace paramiko with libssh,NEW,2021-08-26 20:57:09.000000000,2022-02-08 14:49:54.000000000,,84,99,19,806274,b7d8aa860031fb46752d607f3a30344acdbd21bd,42,5,18,3,9914,Ade Lee,alee,"WIP - replace paramiko with libssh

paramiko is not fips certified, and so, cannot execute on a system
where fips is enabled.  This is an initial patch to replace paramiko
with ssh-python which uses libssh.

This patch is nowhere near complete - for one thing, proxy channel
stuff is not finished at all, and tests have not yet been updated.
But I want to put this up and see if it works for other reviews
as a starter.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/820377

Change-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3
"
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I97995b6821a24b64edbc5b1e874ba67a0418f96a,openstack/puppet-openstack-integration,stable/ussuri,,I97995b6821a24b64edbc5b1e874ba67a0418f96a,Ceph: Use centos-8-stream instead of centos-8,MERGED,2022-02-04 11:13:44.000000000,2022-02-08 14:42:49.000000000,2022-02-08 14:42:49.000000000,19,6,2,827840,73fc9c7cffe81d9a9afe1c12cb67d09e5b3d78ba,14,3,3,3,9816,Takashi Kajinami,kajinamit,"Ceph: Use centos-8-stream instead of centos-8

Conflicts:
	configure_facts.sh
	manifests/repos.pp

Backport note:
This backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48
which fixed the repository url used when mirror info is not available.

Also, this adds a puppet-openstack_extras parameter to enforce usage of
stream repo. Default was changed during Xena cycle by [1] but that
is not present in stable/wallaby and older.
  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3

In addition, this bumps Ceph used in Puppet 5 integration job in
CentOS 8 from luminous to nautilus, because luminous is quite old and
no longer hosted in mirror.

Finally, Nautilus is not available in ceph mirror so we'll switch to
the mirror repo currently RDO is hosting.

Depends-on: https://review.opendev.org/827853

Change-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a
(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)
(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)
(cherry picked from commit 4d6a35effa25b23e1f345402ca5ef34df74b7674)
(cherry picked from commit 0a9eec11e0db740bac5ee4e4a303e710c41137a7)
"
openstack%2Fkeystone~master~I58e4b6833036a25ea8a1202c87ceebdbe932b447,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I58e4b6833036a25ea8a1202c87ceebdbe932b447,sql: Squash stein migrations,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 14:27:35.000000000,2022-02-08 14:18:26.000000000,49,619,2,824783,1639282e490b3826adff726e75275cd40b50dd82,19,5,2,29,15334,Stephen Finucane,sfinucan,"sql: Squash stein migrations

Make the following changes to the new ""initial"" migrations.

- Add 'description' column to 'role' table (053)
- Drop 'password' column from 'password' table (054)
- Add 'domain_id' column to 'limit' table (055)
- Alter 'project_id' column of 'limit' table to be nullable (055)
- Add 'access_rule' and 'application_credential_access_rule' tables
  (056)

Change-Id: I58e4b6833036a25ea8a1202c87ceebdbe932b447
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkeystone~master~Ic499a996e1b9c6f0a9d885b4a9e655008002d49f,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Ic499a996e1b9c6f0a9d885b4a9e655008002d49f,sql: Squash queens migrations,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 14:17:05.000000000,2022-02-08 13:45:57.000000000,154,1430,1,824781,6058ae332a9ef49bd8523a186479773592119a0e,19,5,2,44,15334,Stephen Finucane,sfinucan,"sql: Squash queens migrations

Make the following changes to the new ""initial"" migrations.

- Add 'project_tag' table (030)
- Add 'system_assignment' table (031)
- Add 'expires_at_int' column to 'trust' table and expand the unique
  constraint covering 'trustor_user_id', 'trustee_user_id',
  'project_id', 'impersonation', and 'expires_at' to also cover the
  'expires_at_int' column (032)
- Add 'limit' and 'registered_limit' tables (033)
- Add 'application_credential' and 'application_credential_role' tables
  (034)
- Add 'system' column to 'application_credential' table and make
  'project_id' column nullable (035)
- Rename 'allow_application_credential_creation' column of
  'application_credential' table to 'unrestricted' (036)
- Remove foreign key constraints from 'service_id' and 'region_id'
  columns of 'registered_limit' table (037)

Change-Id: Ic499a996e1b9c6f0a9d885b4a9e655008002d49f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Felection~master~I155ba8e2c5e40ee4eccd873fff68af6b18832e49,openstack/election,master,,I155ba8e2c5e40ee4eccd873fff68af6b18832e49,Add release cycle info in sub line of template emails,MERGED,2022-02-07 20:50:34.000000000,2022-02-08 14:08:03.000000000,2022-02-08 14:05:24.000000000,23,23,2,828192,e0424270a2ffbd7686b4974413e0d95259c68ac7,8,3,1,17,8556,Ghanshyam,ghanshyam,"Add release cycle info in sub line of template emails

Change-Id: I155ba8e2c5e40ee4eccd873fff68af6b18832e49
"
openstack%2Fkeystone~master~I6beb8c9c827546757f2d7673a917b98f8b917012,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I6beb8c9c827546757f2d7673a917b98f8b917012,sql: Squash rocky migrations,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 13:57:18.000000000,2022-02-08 13:52:48.000000000,30,999,1,824782,30ec0df2a3c656df686ceaca5f66d0067b8b007b,19,5,2,38,15334,Stephen Finucane,sfinucan,"sql: Squash rocky migrations

Make the following changes to the new ""initial"" migrations.

- Add 'description' column to the 'limit' and 'registered_limit' tables
  (045)
- Add 'internal_id' column to the 'limit' and 'registered_limit' tables
  and make 'id' column simply unique instead of the primary key (047)
- Drop foreign key constraint on 'project_id' column of 'limit' table,
  and drop unique constraints from both 'limit' and 'registered_limit'
  tables (047)
- Add 'registered_limit_id' column to 'limit' table (048)

Change-Id: I6beb8c9c827546757f2d7673a917b98f8b917012
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fhorizon~master~Icea647ad13718b74528922f362ad665be1392e9b,openstack/horizon,master,region-password,Icea647ad13718b74528922f362ad665be1392e9b,Fix getting defaults from cookie for region field in password form,MERGED,2022-02-04 17:10:06.000000000,2022-02-08 13:56:27.000000000,2022-02-08 13:52:51.000000000,4,4,3,827887,88dd887ad3284601f0acec89cf52265602a70c8c,10,4,1,2,8648,Radomir Dopieralski,thesheep,"Fix getting defaults from cookie for region field in password form

Since the normal form doesn't have a request attribute, we have to
pass the initial value for the region from the view.

Change-Id: Icea647ad13718b74528922f362ad665be1392e9b
Closes-bug: #1957926
"
openstack%2Fironic-python-agent~stable%2Fxena~I2446afeaca866ffc3131b5e9f266526f35fc5ed7,openstack/ironic-python-agent,stable/xena,,I2446afeaca866ffc3131b5e9f266526f35fc5ed7,Make the standalone job voting again,MERGED,2022-02-01 13:43:33.000000000,2022-02-08 13:56:14.000000000,2022-02-08 13:46:12.000000000,2,7,3,827288,ba8981e3d29a56c33a931ef61e1c1d2380d2477e,15,2,1,1,10239,Dmitry Tantsur,dtantsur,"Make the standalone job voting again

We forgot to revert it. This job covers software RAID and manual
cleaning, so it's very important to avoid regressions, even if it costs
us some rechecks from time to time.

Change-Id: I2446afeaca866ffc3131b5e9f266526f35fc5ed7
(cherry picked from commit b921b761679df06afe19ac6f570f66fa1fdcf371)
"
openstack%2Fnova~master~I67d41a8e439b1ff3c5983ee17823616b80698639,openstack/nova,master,bug/1949808,I67d41a8e439b1ff3c5983ee17823616b80698639,Test aborting queued live migration,MERGED,2021-02-17 18:21:35.000000000,2022-02-08 13:53:38.000000000,2022-01-21 21:08:48.000000000,117,0,67,776250,3e7b9b69e68c8594eac92d88f0579aab40d7d5ae,83,6,13,1,8864,Artom Lifshitz,artom,"Test aborting queued live migration

This patch adds a regression test which asserts that if a live migration
is aborted while it's 'queued', the instance's status is never reverted
back to ACTIVE, and instance remains in MIGRATING state.

There is simple idea behind implemented LiveMigrationQueuedAbortTest:
we start two instances on the same compute and try to migrate
them simultaneously when max_concurrent_live_migrations is set to 1
and nova.tests.fixtures.libvirt.Domain.migrateToURI3 is locked.
As a result, we get two live migrations stuck in 'migrating' and
'queued' states and we can issue API call to abort the second one.

Lock is removed and first instance is live migrated after second
instance's live migration is aborted.

Co-Authored-By: Alex Stupnikov <aleksey.stupnikov@gmail.com>
Partial-Bug: #1949808
Change-Id: I67d41a8e439b1ff3c5983ee17823616b80698639
"
openstack%2Foslo.messaging~master~I04f1c9ee1239eaf7d4ad5c0fb7939160458c4656,openstack/oslo.messaging,master,kombu-connection-timeout,I04f1c9ee1239eaf7d4ad5c0fb7939160458c4656,Add 'kombu_connection_timeout' config option,NEW,2020-11-05 20:51:20.000000000,2022-02-08 13:50:21.000000000,,6,1,5,761667,5c9b55807a9d13fd18f0b0460a307f93e03bb655,10,3,2,1,1736,Ivan Kolodyazhny,e0ne,"Add 'kombu_connection_timeout' config option

kombu_connection_timeout is used during connection initializaion.
It's useful if RabbitMQ is unavailable and we don't want to wait
until RabbitMQ will be available.

Change-Id: I04f1c9ee1239eaf7d4ad5c0fb7939160458c4656
"
openstack%2Foslo.messaging~master~I556f3f9d615086f1b428c141a82a1c72d7df55b1,openstack/oslo.messaging,master,kafka-driver-batch-size,I556f3f9d615086f1b428c141a82a1c72d7df55b1,batch_size should be mapped to batch.size librdkafka conf,NEW,2021-09-11 15:36:57.000000000,2022-02-08 13:48:14.000000000,,2,2,2,808550,00d132c04c166f93d2853836e2f1c211ffd6b8a7,10,5,2,2,33991,Haruki Okada,ocadaruma,"batch_size should be mapped to batch.size librdkafka conf

Change-Id: I556f3f9d615086f1b428c141a82a1c72d7df55b1
"
openstack%2Fkeystone~master~I6d5b724985aa6a1164565e9bb0a3974e9cf6ad3d,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I6d5b724985aa6a1164565e9bb0a3974e9cf6ad3d,sql: Squash pike migrations,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 13:40:26.000000000,2022-02-08 13:34:59.000000000,15,560,1,824780,677303732f2fd310bba65c62b905cd8f510ff6e0,19,5,2,29,15334,Stephen Finucane,sfinucan,"sql: Squash pike migrations

Make the following changes to the new ""initial"" migrations.

- Add index to 'default_project_id' column of 'user' table (022)
- Add 'password_hash' column to 'password' table (023)
- Add 'created_at_int' and 'expires_at_int' columns to 'password' table
  (024)

Change-Id: I6d5b724985aa6a1164565e9bb0a3974e9cf6ad3d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkeystone~master~I96cab42cfcfd3e86b53f25abf4cf4043af3b5667,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I96cab42cfcfd3e86b53f25abf4cf4043af3b5667,sql: Squash ocata migrations,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 13:37:48.000000000,2022-02-08 13:34:56.000000000,113,1558,1,824779,6525ae297bd33ece99a91ef859dca7619aebb4a8,18,4,2,41,15334,Stephen Finucane,sfinucan,"sql: Squash ocata migrations

Make the following changes to the new ""initial"" migrations.

- Add four additional indexes to 'revocation_event' table (010)
- Add unique constraint to 'user_id' column of 'nonlocal_user' table
  (011)
- Add 'domain_id' column to 'identity_provider' table, and a foreign
  key constraint on the 'id' column of the 'project' table (012)
- Add 'ondelete=CASCADE' to foreignkey constraint on 'protocol_id' and
  'idp_id' columns of 'federated_user' table (013)
- Add 'domain_id' column to the 'user' table (014)
- Replace foreign key constraints covering 'user_id' columns of
  'local_user' and 'nonlocal_user' tables with constraints covering
  'user_id' and 'domain_id' columns (014)
- Add unique constraint covering 'id' and 'domain_id' columns of 'user'
  table (014)
- Alter 'domain_id' column of 'user' table to be non-nullable (015)
- Add 'user_option' table (016)

Change-Id: I96cab42cfcfd3e86b53f25abf4cf4043af3b5667
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstack-tempest-skiplist~master~If2e87f87094bc5dc72b58dd3ec72ea7590ef5d83,openstack/openstack-tempest-skiplist,master,,If2e87f87094bc5dc72b58dd3ec72ea7590ef5d83,Adds failing victoria test,MERGED,2022-01-25 15:33:18.000000000,2022-02-08 13:24:02.000000000,2022-01-25 18:17:50.000000000,11,0,0,826314,f7bb87cb48b77efc68d5006a6b8e3df514e30f2b,8,2,1,1,34208,Rafael Castillo,rcastill,"Adds failing victoria test

Adds tempest.api.compute.images.test_list_image_filters to victoria
skiplist.

Change-Id: If2e87f87094bc5dc72b58dd3ec72ea7590ef5d83
"
openstack%2Fpuppet-aodh~master~I43e2d8270e7f2cd4d605b7285e7f3022f17cdd15,openstack/puppet-aodh,master,database-cleanup,I43e2d8270e7f2cd4d605b7285e7f3022f17cdd15,Remove deprecated database parameters,ABANDONED,2021-04-15 09:08:22.000000000,2022-02-08 12:57:44.000000000,,22,109,2,786376,b9f5ad744615caf9e5f8b40bd6dc338c11a06115,11,2,4,3,9816,Takashi Kajinami,kajinamit,"Remove deprecated database parameters

Change-Id: I43e2d8270e7f2cd4d605b7285e7f3022f17cdd15
"
openstack%2Fkolla-ansible~master~I290d0a81c57c189b6eb62fc3eee3ed19f441671b,openstack/kolla-ansible,master,keystonemiddleware-memcached,I290d0a81c57c189b6eb62fc3eee3ed19f441671b,"Revert ""Add workaround for keystonemiddleware/neutron memcached issue""",MERGED,2022-02-07 15:07:11.000000000,2022-02-08 12:25:31.000000000,2022-02-08 12:23:05.000000000,0,3,4,828164,71bd20083378530b15b1a0434899f5356063885c,18,6,2,1,15197,Pierre Riteau,priteau,"Revert ""Add workaround for keystonemiddleware/neutron memcached issue""

The default configuration was changed to use the advanced cache pool in
keystonemiddleware 9.3.0 (Xena release) [1].

This reverts commit 5a52d8e4a0c5d4c246deb8851ef893df63ee0847 (except the
release note).

[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/773939

Change-Id: I290d0a81c57c189b6eb62fc3eee3ed19f441671b
"
openstack%2Fpbr~master~I9c51ffdeb548833f2cc303d2e53ba169756690d3,openstack/pbr,master,setup.cfg,I9c51ffdeb548833f2cc303d2e53ba169756690d3,setup.cfg: Replace dashes with underscores,MERGED,2021-05-13 09:49:59.000000000,2022-02-08 12:14:14.000000000,2022-02-08 12:12:34.000000000,9,8,10,791127,09417bf0a30b8e423ba69d6898a039a55fbbfceb,24,6,3,1,31828,yang yawei,yangyawei,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported in a
future version [1]. Get ahead of the issue by updating to canonical
configuration[2]. Without this, we see 'UserWarning' messages like
the following on new enough versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not
  be supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
[2] https://setuptools.pypa.io/en/stable/userguide/declarative_config.html

Change-Id: I9c51ffdeb548833f2cc303d2e53ba169756690d3
"
openstack%2Fneutron~stable%2Fxena~Ib392b46308aaf76386a747870c5600790a268d51,openstack/neutron,stable/xena,overlapping-secgroup-logging-stable/xena,Ib392b46308aaf76386a747870c5600790a268d51,[OVN] Fix overlapping security group objects not correctly applied,MERGED,2022-01-30 20:27:25.000000000,2022-02-08 12:13:33.000000000,2022-02-08 12:11:09.000000000,81,4,3,826847,64b06e12d65d64422780c4991d20e2be5a73b5e5,18,3,1,2,32586,Elvira García Ruiz,elvira,"[OVN] Fix overlapping security group objects not correctly applied

If a security group object modified an Access Control List in OVN, it
could not be modified by another object. This change prevents the driver
from associating more ACLs than needed if the network log object created
is to log the dropped traffic. Functional tests consider the existence
of events now.

Closes-Bug: #1956763
Change-Id: Ib392b46308aaf76386a747870c5600790a268d51
(cherry picked from commit 522837a97f20d1d9325f7d0719811e263d3fd1c3)
"
openstack%2Ftempest~master~If8fcfd97e7f49cb1248e997375a16d3917cc4605,openstack/tempest,master,acpi-neg-vol,If8fcfd97e7f49cb1248e997375a16d3917cc4605,Add instance validation to volume negative,NEW,2022-02-07 10:53:08.000000000,2022-02-08 12:10:05.000000000,,39,4,4,828109,a100fc00f986b98ca8ebc3b01586540b2b16de64,5,2,1,1,5803,Attila Fazekas,afazekas,"Add instance validation to volume negative

PCI device add/removal has to have live Operating system,
adding instance validation to test_attach_volume_negative.py .

https: //docs.google.com/presentation/d/1Im-iYVzroKwXKP23p12Q5vsUGdk2V26SPpLWF3I5dbA/edit#slide=id.g40c5dc74a9_0_30
Change-Id: If8fcfd97e7f49cb1248e997375a16d3917cc4605
"
openstack%2Fkolla~master~I8bb6c4c07c30f108e77fbb8cdc38d634b42b900f,openstack/kolla,master,,I8bb6c4c07c30f108e77fbb8cdc38d634b42b900f,"Revert ""nova: drop pypowervm dependency""",MERGED,2022-02-01 12:37:19.000000000,2022-02-08 11:21:02.000000000,2022-02-08 11:18:33.000000000,0,3,2,827240,e1637099d506bb746afd7f05ddef5eed2b7da314,20,5,3,1,24072,Marcin Juszkiewicz,hrw,"Revert ""nova: drop pypowervm dependency""

This reverts commit 7de91fd60355104cbd650e0fe6f680b2eb0f2ffa.

Reason for revert: Nova dropped pypowervm dependency so we do not need to handle it anymore.

Change-Id: I8bb6c4c07c30f108e77fbb8cdc38d634b42b900f
"
openstack%2Fkayobe~master~I5340456f8d178aecd84ae6f378cd17a38f84b22a,openstack/kayobe,master,,I5340456f8d178aecd84ae6f378cd17a38f84b22a,DNM: Enable PXE UEFI booting,ABANDONED,2022-02-03 14:01:14.000000000,2022-02-08 11:20:35.000000000,,2,23,0,827669,3c5c1be91824378dd46981b5c87cc64d9a47df04,3,1,1,2,14826,Mark Goddard,mgoddard,"DNM: Enable PXE UEFI booting

Depends-On: https://review.opendev.org/c/openstack/tenks/+/827553
Change-Id: I5340456f8d178aecd84ae6f378cd17a38f84b22a
"
openstack%2Fneutron~stable%2Fussuri~I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,openstack/neutron,stable/ussuri,,I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,[OVN] Check if exists trunk ports before cleanup,MERGED,2022-02-04 09:37:40.000000000,2022-02-08 11:19:54.000000000,2022-02-08 11:17:33.000000000,25,0,0,827826,972ec4eee674266dc4e8dbb0bbba91e9d58f2f95,9,3,2,1,34118,Arnau Verdaguer,averdaguer,"[OVN] Check if exists trunk ports before cleanup

While migrating from OVS to OVN one of the steps of the migration
is clean all the OVS trunk ports, this will fail if the environment
does not have any trunk ports configured.

This will do a comprovation in order to know if it's necessary
to clean them or not.

Also, since this playbook it will only clean the ovn interfaces
it is not necessary to stop the whole migration. If any error
occured while deleting any ovs interface a message will be
printed so the user can take action if necessary.

Change-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730
(cherry picked from commit 9fcf42d3d524f03c8f49794bdd3730f654c146a1)
"
openstack%2Fkolla-ansible~master~I7beecf2dd6c49c8934722cf22efa74e920ecb060,openstack/kolla-ansible,master,ci-replace-parted,I7beecf2dd6c49c8934722cf22efa74e920ecb060,[CI] Replace parted with lsblk,MERGED,2022-02-04 21:40:20.000000000,2022-02-08 11:08:37.000000000,2022-02-08 11:06:44.000000000,1,1,4,827928,654edefca3061a9e61183544f71bc41ab7a61600,13,4,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Replace parted with lsblk

parted hangs waiting for user input (see examples below)
on Debian and Ubuntu nodes which have created a cinder
volume on lvm, causing POST_FAILURE of the entire CI job.
Zun (Cinder iSCSI LVM) jobs are affected.
parted seemingly tries to interpret contents of the created
volume and fails miserably.
Since there is no reason why we would need to see the output
of parted specifically, this patch is switching to use
lsblk to simply list visible block devices.
Along with the rest of the commands, this should be just
the right level of detail.
And we avoid having parted interpret internals of otherwise
opaque block devices.

Example issues:

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool appears to be used, you can
fix the GPT to use all of the space (an extra 9732096 blocks) or continue with
the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool-tpool appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool_tdata appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Change-Id: I7beecf2dd6c49c8934722cf22efa74e920ecb060
"
openstack%2Fneutron~stable%2Fvictoria~I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,openstack/neutron,stable/victoria,,I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,[OVN] Check if exists trunk ports before cleanup,MERGED,2022-02-04 09:37:20.000000000,2022-02-08 11:07:55.000000000,2022-02-08 11:05:55.000000000,25,0,0,827825,6d0b50652d6e9f01e4d631290dba53625846e047,10,3,2,1,34118,Arnau Verdaguer,averdaguer,"[OVN] Check if exists trunk ports before cleanup

While migrating from OVS to OVN one of the steps of the migration
is clean all the OVS trunk ports, this will fail if the environment
does not have any trunk ports configured.

This will do a comprovation in order to know if it's necessary
to clean them or not.

Also, since this playbook it will only clean the ovn interfaces
it is not necessary to stop the whole migration. If any error
occured while deleting any ovs interface a message will be
printed so the user can take action if necessary.

Change-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730
(cherry picked from commit 9fcf42d3d524f03c8f49794bdd3730f654c146a1)
"
openstack%2Fkolla~master~If1844434ff0b7c3b35d0a8e742c7e2fad0dc8758,openstack/kolla,master,,If1844434ff0b7c3b35d0a8e742c7e2fad0dc8758,stringify docker-squash version,MERGED,2022-02-04 10:48:42.000000000,2022-02-08 11:02:56.000000000,2022-02-08 11:00:33.000000000,1,1,0,827835,bbb1f692cdb2cdf5ddfb8b4d7012e7dee52787d8,9,3,1,1,24072,Marcin Juszkiewicz,hrw,"stringify docker-squash version

Before:
(kolla) 11:46 (s) marcin@puchatek:kolla$ ./tools/build.py --squash
INFO:kolla.common.utils:Image squash is enabled and ""docker-squash"" version is b'1.0.8'

After:
(kolla) 11:46 (s) marcin@puchatek:kolla$ ./tools/build.py --squash
INFO:kolla.common.utils:Image squash is enabled and ""docker-squash"" version is 1.0.8

Change-Id: If1844434ff0b7c3b35d0a8e742c7e2fad0dc8758
"
openstack%2Fkayobe-config~stable%2Fxena~Iedda041811602f42b51c080bb84c03a4b64a89fa,openstack/kayobe-config,stable/xena,,Iedda041811602f42b51c080bb84c03a4b64a89fa,Sync kayobe-config with kayobe changes,MERGED,2022-01-31 11:49:23.000000000,2022-02-08 10:35:38.000000000,2022-02-08 10:35:38.000000000,7,1,0,827059,661f7c9fcef554deb7765fb4300ef045ef3d50a5,6,2,1,3,15197,Pierre Riteau,priteau,"Sync kayobe-config with kayobe changes

Change-Id: Iedda041811602f42b51c080bb84c03a4b64a89fa
"
openstack%2Fkayobe-config~stable%2Fwallaby~I39113b819473e3b4a3819e2e03a69e59f3c13c46,openstack/kayobe-config,stable/wallaby,,I39113b819473e3b4a3819e2e03a69e59f3c13c46,Sync kayobe-config with kayobe changes,MERGED,2022-01-31 11:49:58.000000000,2022-02-08 10:35:37.000000000,2022-02-08 10:35:37.000000000,27,4,0,827060,bcae6dc7b8850869c685429cc388c063661a8bdf,6,2,1,5,15197,Pierre Riteau,priteau,"Sync kayobe-config with kayobe changes

Change-Id: I39113b819473e3b4a3819e2e03a69e59f3c13c46
"
openstack%2Fkayobe-config~stable%2Fvictoria~Ib26c49f0ae1eb1406896c25e34092f131922ec9a,openstack/kayobe-config,stable/victoria,,Ib26c49f0ae1eb1406896c25e34092f131922ec9a,Sync kayobe-config with kayobe changes,MERGED,2022-01-31 11:50:36.000000000,2022-02-08 10:35:35.000000000,2022-02-08 10:35:35.000000000,20,13,0,827061,613f8ddd10a703062f6206694ea50485933948b0,6,2,1,4,15197,Pierre Riteau,priteau,"Sync kayobe-config with kayobe changes

Change-Id: Ib26c49f0ae1eb1406896c25e34092f131922ec9a
"
openstack%2Fpbr~master~I3d6ce9c6601decfed9fcede450f5a34dde04262f,openstack/pbr,master,,I3d6ce9c6601decfed9fcede450f5a34dde04262f,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 08:54:59.000000000,2022-02-08 10:25:11.000000000,,1,1,1,787170,85845262f2735749cca90cc93d2f95de88793fec,5,2,1,1,30384,zhangboye,zhangboye,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I3d6ce9c6601decfed9fcede450f5a34dde04262f
"
openstack%2Fneutron~stable%2Fwallaby~I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,openstack/neutron,stable/wallaby,,I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,[OVN] Check if exists trunk ports before cleanup,MERGED,2022-02-04 09:37:03.000000000,2022-02-08 10:20:11.000000000,2022-02-08 10:17:48.000000000,25,0,0,827824,bd9d87019a0498234c920d6f1e93d1f2d2240cb4,12,3,2,1,34118,Arnau Verdaguer,averdaguer,"[OVN] Check if exists trunk ports before cleanup

While migrating from OVS to OVN one of the steps of the migration
is clean all the OVS trunk ports, this will fail if the environment
does not have any trunk ports configured.

This will do a comprovation in order to know if it's necessary
to clean them or not.

Also, since this playbook it will only clean the ovn interfaces
it is not necessary to stop the whole migration. If any error
occured while deleting any ovs interface a message will be
printed so the user can take action if necessary.

Change-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730
(cherry picked from commit 9fcf42d3d524f03c8f49794bdd3730f654c146a1)
"
openstack%2Fkayobe-config~master~Ia48cbd6a2c5b6b3e16ef4245fdebca2d7233b682,openstack/kayobe-config,master,,Ia48cbd6a2c5b6b3e16ef4245fdebca2d7233b682,Sync kayobe-config with kayobe changes,MERGED,2022-01-31 11:53:53.000000000,2022-02-08 10:14:00.000000000,2022-02-08 10:14:00.000000000,106,5,0,827062,62f611863248c922c6a61fb0f7938888bc13523a,6,2,1,10,15197,Pierre Riteau,priteau,"Sync kayobe-config with kayobe changes

Change-Id: Ia48cbd6a2c5b6b3e16ef4245fdebca2d7233b682
"
openstack%2Foctavia~master~Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,openstack/octavia,master,,Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,Preserve haproxy server states during reloads,MERGED,2021-08-25 07:32:57.000000000,2022-02-08 10:06:28.000000000,2022-02-08 10:04:11.000000000,58,1,12,805955,1b15e1ef22963324e556e072f4bc58021f96bfec,26,5,3,10,29244,Gregory Thiemonge,gthiemonge,"Preserve haproxy server states during reloads

haproxy doesn't keep the state of the servers (UP or DOWN) during
reloads, so a member with an ERROR operating_status may be updated
to ONLINE after updating a load balancer.

This commit adds the load-server-state-from-file option in haproxy
configuration files. It also adds an extra step in the haproxy systemd
service file to dump the current server-state in a file when reloading
the service.

Story: 2009142
Task: 43084

Change-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6
"
openstack%2Fneutron~stable%2Fxena~I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,openstack/neutron,stable/xena,,I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,[OVN] Check if exists trunk ports before cleanup,MERGED,2022-02-04 09:34:35.000000000,2022-02-08 10:06:22.000000000,2022-02-08 10:03:48.000000000,25,0,0,827823,35eedf91f5c9534087d1fbd2c3fe43881f6bc541,12,3,2,1,34118,Arnau Verdaguer,averdaguer,"[OVN] Check if exists trunk ports before cleanup

While migrating from OVS to OVN one of the steps of the migration
is clean all the OVS trunk ports, this will fail if the environment
does not have any trunk ports configured.

This will do a comprovation in order to know if it's necessary
to clean them or not.

Also, since this playbook it will only clean the ovn interfaces
it is not necessary to stop the whole migration. If any error
occured while deleting any ovs interface a message will be
printed so the user can take action if necessary.

Change-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730
(cherry picked from commit 9fcf42d3d524f03c8f49794bdd3730f654c146a1)
"
openstack%2Ftripleo-docs~master~Ic38a0fee6af1c357e37540d3bbbbbd11c8d31aab,openstack/tripleo-docs,master,ceph_vip_provision,Ic38a0fee6af1c357e37540d3bbbbbd11c8d31aab,Document --ceph-vip option,MERGED,2022-02-03 16:10:31.000000000,2022-02-08 09:46:15.000000000,2022-02-08 09:44:25.000000000,60,0,16,827703,279afa6b9770c7c6ac3a299b106316b63bbae865,17,4,4,1,25402,Francesco Pantano,fmount,"Document --ceph-vip option

A new option has been introduced to reserve a VIP for each Ceph
service specified. The purpose of this change is to document the
--ceph-vip option and the valid input combination that can be
generated.

Change-Id: Ic38a0fee6af1c357e37540d3bbbbbd11c8d31aab
"
openstack%2Foslo.cache~stable%2Fwallaby~I24fc853db4237c08b87871ddff1b3ced27cc7fce,openstack/oslo.cache,stable/wallaby,wallaby,I24fc853db4237c08b87871ddff1b3ced27cc7fce,Expose pymemcache's HashClient public params,MERGED,2022-02-03 09:38:33.000000000,2022-02-08 09:45:59.000000000,2022-02-08 09:41:24.000000000,75,1,1,827613,d0252f62f3b61253d0bcd953329f7b52e53c6e81,10,4,2,5,28522,Hervé Beraud,hberaud,"Expose pymemcache's HashClient public params

This patch expose a couple of pymemcache's HashClient public
params that can be useful to configure HA and failover for
clustered memcached servers.

These options can be used in addition of the previously added
retrying mechanismes.

This patch rely on recent changes [1] of dogpile.cache that
aim to expose these options too.

This patch is needed to fix a TLS issue on stable branches introduced by
pymemcache (since train), where if a cluster node disappear the client
will fail without retrying to reconnect or to switch to an other node of
the cluster.

[1] https://gerrit.sqlalchemy.org/c/sqlalchemy/dogpile.cache/+/3528

Partial-Bug: #1959562
Depends-On: https://review.opendev.org/c/openstack/requirements/+/826995
Change-Id: I24fc853db4237c08b87871ddff1b3ced27cc7fce
(cherry picked from commit cb118d04cea318df23831d7445f6b33c866cd0c6)
(cherry picked from commit 55cb199f90b27cef203bca8edb9431f9d7ed841c)
"
openstack%2Foslo.cache~stable%2Fwallaby~I8c7f9291652a58b8291c3df90571501eed43bf18,openstack/oslo.cache,stable/wallaby,wallaby,I8c7f9291652a58b8291c3df90571501eed43bf18,Dropping lower constraints testing.,MERGED,2022-02-03 16:35:49.000000000,2022-02-08 09:43:29.000000000,2022-02-08 09:41:18.000000000,0,71,1,827715,a5a66f89d52bb0797efc917d9c5fc04157b0190f,8,3,1,2,28522,Hervé Beraud,hberaud,"Dropping lower constraints testing.

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints[1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I8c7f9291652a58b8291c3df90571501eed43bf18
(cherry picked from commit 9606e8531d87cfcf0028f5a414212fcb704f598a)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I73b0d054644eb43016d61299b7c372ca86b18472,openstack/tripleo-ansible,stable/wallaby,historical_bool-stable/wallaby,I73b0d054644eb43016d61299b7c372ca86b18472,historical variable evaluated as bool,MERGED,2022-02-07 11:58:04.000000000,2022-02-08 09:42:08.000000000,2022-02-08 09:42:08.000000000,2,2,1,828130,1b2c5f638fc4a020bbcae75d500f10f214c50513,11,6,1,1,32968,Juan Larriba,jlarriba,"historical variable evaluated as bool

The tripleo_backup_and_restore_historical variable is checked by some
tasks using when, but as it lacks the | bool extension, it is being
evaluated as string, meaning that ""false"" is considered a valid and not
empty string and as such evaluated as true. This patch fixes this
behaviour by evaluating the variable as as boolean value

Change-Id: I73b0d054644eb43016d61299b7c372ca86b18472
(cherry picked from commit ca7425d3728b4ba16a283440960fd6e180f24c74)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ia0e31c9469033c50a8b65af7fee1adf03b22d4c2,openstack/tripleo-heat-templates,stable/ussuri,ussuri,Ia0e31c9469033c50a8b65af7fee1adf03b22d4c2,Add service ordering to cleanup service to avoid conflicts with agent startup,MERGED,2021-04-07 15:04:40.000000000,2022-02-08 09:42:05.000000000,2022-02-08 09:42:05.000000000,1,1,1,785216,5dbffe9002cca67c3ba74fe3a09e368686938830,12,4,1,1,6681,Brent Eagles,beagles,"Add service ordering to cleanup service to avoid conflicts with agent startup

If the port cleanup takes too long, the neutron agents might begin
operations on the ovs bridges while cleanup is still ongoing. This can
cause undefined behavior and errors in the agent.

Change-Id: Ia0e31c9469033c50a8b65af7fee1adf03b22d4c2
Closes-Bug: #1913623
(cherry picked from commit 0c20e1e1ac320e30aaedba980270dffbf4528fc3)
"
openstack%2Foslo.cache~stable%2Fwallaby~I6c1a4872d7cf19e3a55c676ef4b4200f18e08f2c,openstack/oslo.cache,stable/wallaby,wallaby,I6c1a4872d7cf19e3a55c676ef4b4200f18e08f2c,Add retry mechanisms to oslo.cache,MERGED,2022-02-03 09:38:33.000000000,2022-02-08 09:41:22.000000000,2022-02-08 09:41:22.000000000,117,0,1,827612,55b796be5679ffecc64f1940da425cac5c982fc1,9,4,2,4,28522,Hervé Beraud,hberaud,"Add retry mechanisms to oslo.cache

This patch specifies a set of options required to setup a retry
context.  The context built from those options can later on be
passed to any of the oslo.cache backends that supports pymemcache's
retry mechanisms.

This patch also sets up the retry mechanisms context based on
the configuration option passed via oslo.config and adds it
as an argument to be passed to the selected oslo.cache backend.

This patch is needed to fix a TLS issue on stable branches introduced by
pymemcache (since train), where if a cluster node disappear the client
will fail without retrying to reconnect or to switch to an other node of
the cluster.

Partial-Bug: #1959562
Change-Id: I6c1a4872d7cf19e3a55c676ef4b4200f18e08f2c
(cherry picked from commit 42bf82d5505a0def3d22972d67fde836f5091ed1)
(cherry picked from commit 23e8e9a9f45956ef7ea74d3d443e518f13b43477)
"
openstack%2Foslo.cache~stable%2Fwallaby~I501100e1a48cdd4e094c08046e2150405dcf371e,openstack/oslo.cache,stable/wallaby,wallaby,I501100e1a48cdd4e094c08046e2150405dcf371e,Add socket keepalive options to oslo.cache,MERGED,2022-02-03 09:38:33.000000000,2022-02-08 09:41:20.000000000,2022-02-08 09:41:20.000000000,144,2,2,827611,7b00cb38a6d08608e5b7b76f18fcdad038490074,10,4,2,8,28522,Hervé Beraud,hberaud,"Add socket keepalive options to oslo.cache

This patch specifies a set of options required to setup the
socket keepalive of the dogpile.cache's pymemcache
backend [1][2]. This setup from those options can later on
be passed to this backend.

This patch also sets up the socket keepalive object based on
the configuration options passed via oslo.config and adds it
as an argument to be passed to the selected oslo.cache backend.

Dogpile.cache will be used as an interface between oslo.cache and
pymemcache [3].

This patch is needed to fix a TLS issue on stable branches introduced by
pymemcache (since train), where if a cluster node disappear the client
will fail without retrying to reconnect or to switch to an other node of
the cluster.

[1] https://github.com/sqlalchemy/dogpile.cache/pull/205
[2]
https://github.com/pinterest/pymemcache/commit/b289c87bb89b3ab477bd5d92c8951ab42c923923
[3]
https://dogpilecache.sqlalchemy.org/en/latest/api.html?highlight=keepalive#dogpile.cache.backends.memcached.PyMemcacheBackend.params.socket_keepalive

Partial-Bug: #1959562
Change-Id: I501100e1a48cdd4e094c08046e2150405dcf371e
(cherry picked from commit f4fa6aa6fa2aca23a8f4f9e63c5a57dbcd2d1166)
(cherry picked from commit 2ad2d52f4ecb63d9edfe3ae64cd9b7dece5330a0)
"
openstack%2Fswift~master~I9c5a46a68d544aa4bdc15bb7b4d61046eb8c0e7e,openstack/swift,master,,I9c5a46a68d544aa4bdc15bb7b4d61046eb8c0e7e,Add uwsgi binaries and configuration files,NEW,2021-12-09 10:07:36.000000000,2022-02-08 09:33:06.000000000,,266,0,27,821192,124099d4ee8f8c6126325f49dab5759efbc842f4,13,1,4,6,6476,Thomas Goirand,thomas-goirand,"Add uwsgi binaries and configuration files

After many months of using Swift over uwsgi, it is porbably a good idea
to simply share these, and make it a Swift standard. Indeed, some of the
configuration isn't exactly easy to guess, and require a lot of trials
and errors to get it right. For example, the directive:

route = .* addheader:Date: ${httptime[]}

is necessary for tempurl to work and took us a lot of time to find. The
""listen=100"" and ""threads=1"" took also some time to benchmark and get
right.

Also, to get chunked transfer work properly, this is mandatory in the
proxies:

plugins = python3,transformation_chunked
route-run = chunked:

This was also hard to find, as badly documented.

To try this, simply run something like this:
/usr/bin/uwsgi_python39 --http-socket 10.0.0.1 \
	--processes 20 \
	--ini /etc/swift/swift-proxy-server-uwsgi.ini

Note that the Debian package simply takes the number of processes from
the proxy-server.conf (this is done in the startup script).

How about making all of this standard, and hopefully, get Swift to run
its CI with it in a near future?

Also note that there's currently no way to get the swift-object daemon
to run under uwsgi: it's currently broken and would need some love.

Change-Id: I9c5a46a68d544aa4bdc15bb7b4d61046eb8c0e7e
"
openstack%2Fmetalsmith~stable%2Fwallaby~I4300568c346ae81f0717584d1dbc9e75450b951b,openstack/metalsmith,stable/wallaby,gate-stable/wallaby,I4300568c346ae81f0717584d1dbc9e75450b951b,"Avoid non-Stream CentOS 8, it is EOL; make one job non-voting",MERGED,2022-02-01 09:02:01.000000000,2022-02-08 09:28:56.000000000,2022-02-08 09:22:59.000000000,5,4,8,827234,ad2be35653a4e34790d382895ab4fb2c93ebba61,33,4,2,2,10239,Dmitry Tantsur,dtantsur,"Avoid non-Stream CentOS 8, it is EOL; make one job non-voting

The Wallaby change also makes the iSCSI job non-voting since PXE-booting
in the CI is too unstable to merge anything at the moment.

Change-Id: I4300568c346ae81f0717584d1dbc9e75450b951b
(cherry picked from commit ce81c055481883351d574f5c8a619ad705f4c940)
"
openstack%2Fcharm-openstack-loadbalancer~master~I68d9a136ca52f272b076332efec85776eda45116,openstack/charm-openstack-loadbalancer,master,,I68d9a136ca52f272b076332efec85776eda45116,Only do http health check when requested.,MERGED,2022-02-02 11:28:48.000000000,2022-02-08 09:26:25.000000000,2022-02-08 09:26:25.000000000,11,0,9,827477,666c93dacb80efd1bc284ee313702a7e7556ba79,42,4,9,4,20634,Chris MacNaughton,Chris.MacNaughton,"Only do http health check when requested.

The default health check for Haproxy is a TCP health check
so we should only enable the HTTP health check when the
backend service requests it.

Change-Id: I68d9a136ca52f272b076332efec85776eda45116
"
openstack%2Fneutron~master~Idcac4a29a4526b2e1041e8a41926ab2980f30d81,openstack/neutron,master,packet_rate_limit,Idcac4a29a4526b2e1041e8a41926ab2980f30d81,Reuse the qos constants from neuron-lib,ABANDONED,2021-08-12 10:55:26.000000000,2022-02-08 09:25:54.000000000,,21,66,2,804380,a1a664a5cc782bd60c53a184c5ac1ce13a4e0ee9,41,5,6,9,9531,liuyulong,LIU-Yulong,"Reuse the qos constants from neuron-lib

Because neutron must implement the new QoS rule first,
then neutron-lib could add the type. After [1] was get
merged, we can now use qos related constants from neutron-lib.

[1] https://review.opendev.org/c/openstack/neutron/+/796363

Related-bug: #1912460
Change-Id: Idcac4a29a4526b2e1041e8a41926ab2980f30d81
"
openstack%2Foctavia~stable%2Fwallaby~Ib189c6f67946851d37c31a6a8d657460c15f491e,openstack/octavia,stable/wallaby,fips-compatibility,Ib189c6f67946851d37c31a6a8d657460c15f491e,Replace md5 for fips,MERGED,2022-02-07 19:49:38.000000000,2022-02-08 09:21:42.000000000,2022-02-08 09:18:03.000000000,36,29,2,828140,ba45c0b7a619efe71c14f3457e54f74c97ab2562,13,5,2,7,9914,Ade Lee,alee,"Replace md5 for fips

md5 is not an approved algorithm in FIPS mode, and trying to
instantiate a hashlib.md5() will fail when the system is running in
FIPS mode.

md5 is allowed when in a non-security context.  There is a plan to
add a keyword parameter (usedforsecurity) to hashlib.md5() to annotate
whether or not the instance is being used in a security context.

In the case where it is not, the instantiation of md5 will be allowed.
See https://bugs.python.org/issue9216 for more details.

Some downstream python versions already support this parameter.  To
support these versions, a new encapsulation of md5() has been added to
oslo_utils.  See https://review.opendev.org/#/c/750031/

In this case, md5 is used to generate etags and to check file integrity when
uploading certs. fingerprints when ssh keys are
being generated and imported.  Without this patch, these operations
fail on FIPS enabled systems.

Change-Id: Ib189c6f67946851d37c31a6a8d657460c15f491e
(cherry picked from commit db7a633a4ff2da39f67f9ddf42931cc21052fda4)
"
openstack%2Foctavia~stable%2Fwallaby~I1aab9faa8afe845e445e620d1800785d2e19ad1e,openstack/octavia,stable/wallaby,fips-compatibility,I1aab9faa8afe845e445e620d1800785d2e19ad1e,Update scripts to use fips allowed algorithms,MERGED,2022-02-04 20:05:43.000000000,2022-02-08 09:19:59.000000000,2022-02-08 09:18:00.000000000,11,11,1,827898,d7a20cf46efac04a97ab64043ae6ba7850160eb2,11,5,1,3,9914,Ade Lee,alee,"Update scripts to use fips allowed algorithms

Openssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.
Update the relevant calls to use genpkey instead.

Change-Id: I1aab9faa8afe845e445e620d1800785d2e19ad1e
(cherry picked from commit 36a642d9d0b95b6337558144450bbc7802784c23)
"
openstack%2Foctavia~stable%2Fxena~I1aab9faa8afe845e445e620d1800785d2e19ad1e,openstack/octavia,stable/xena,fips-compatibility,I1aab9faa8afe845e445e620d1800785d2e19ad1e,Update scripts to use fips allowed algorithms,MERGED,2022-02-04 20:05:21.000000000,2022-02-08 09:19:44.000000000,2022-02-08 09:17:58.000000000,11,11,2,827897,58eac3d91f47ee18a3cd282c20ad28e3b5a0a111,13,5,1,3,9914,Ade Lee,alee,"Update scripts to use fips allowed algorithms

Openssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.
Update the relevant calls to use genpkey instead.

Change-Id: I1aab9faa8afe845e445e620d1800785d2e19ad1e
(cherry picked from commit 36a642d9d0b95b6337558144450bbc7802784c23)
"
openstack%2Fcloudkitty~master~I4a8e7c63c6f8df2fee40de324c9970e00d23c48b,openstack/cloudkitty,master,,I4a8e7c63c6f8df2fee40de324c9970e00d23c48b,Update sample configuration file,MERGED,2022-02-07 14:55:40.000000000,2022-02-08 09:16:41.000000000,2022-02-08 09:14:55.000000000,18,16,0,828163,839fdf7b0a44bec34fc154b2b97647f21af8ab32,8,3,1,1,15197,Pierre Riteau,priteau,"Update sample configuration file

Change-Id: I4a8e7c63c6f8df2fee40de324c9970e00d23c48b
"
openstack%2Fkolla-ansible~stable%2Fxena~Ie56868d5e9ed37a9274b8cbe65895f3634b895c8,openstack/kolla-ansible,stable/xena,,Ie56868d5e9ed37a9274b8cbe65895f3634b895c8,Deploy Zun with Cinder Ceph support,MERGED,2022-02-03 16:31:38.000000000,2022-02-08 08:58:44.000000000,2022-02-08 08:57:02.000000000,168,1,0,827649,920089c9fab3bc32356419c03a9f977b69708cc6,9,3,1,10,28295,Buddhika Sanjeewa,bsanjeewa,"Deploy Zun with Cinder Ceph support

Enables zun to access cinder volumes when cinder is configured to use
external ceph.
Copies ceph config file and ceph cinder keyring to /etc/ceph in
zun_compute container.

Closes-Bug: 1848934
Change-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8
(cherry picked from commit eb7e0f6fdac86ea9501b98e6e71554b024bffe96)
"
openstack%2Fneutron-specs~master~I9f1d3add93b5a7ab95264fc9fba9efccbe392e87,openstack/neutron-specs,master,elastic_snat,I9f1d3add93b5a7ab95264fc9fba9efccbe392e87,Add spec for elastic snat,ABANDONED,2021-01-13 08:22:12.000000000,2022-02-08 08:56:39.000000000,,461,0,132,770540,8c55c102f5ed9493e03e3417243c21c55e54d53a,67,6,16,1,9531,liuyulong,LIU-Yulong,"Add spec for elastic snat

Closes-Bug: #1911126
Change-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87
"
openstack%2Fneutron-tempest-plugin~master~I95d9fd3224300c4406a1a397e514989d7495b370,openstack/neutron-tempest-plugin,master,bug/1922653,I95d9fd3224300c4406a1a397e514989d7495b370,Remove the case of multiple fip:port to one fixed_ip:port,ABANDONED,2021-04-22 07:04:54.000000000,2022-02-08 08:53:17.000000000,,0,22,11,787474,68915476b81f26dcfefd463c6b64f00107e253ce,36,4,4,1,9531,liuyulong,LIU-Yulong,"Remove the case of multiple fip:port to one fixed_ip:port

Remove this check because Neutron is going to remove this
unique constraint, it will allow creating portforwardings
which have multiple floating_IP:port to one same fixed_IP:port.

And, this case looks redundant, there are API tests in Neutron.

If Neutron stable branches do not use the master branch of
neutron-tempest-plugin, new test cases after the constraint
removal will be added.

Related-Bug: #1922653
Change-Id: I95d9fd3224300c4406a1a397e514989d7495b370
"
openstack%2Fneutron~master~I3bcee11982e98b438e4d12f1b40f3b2290321b6b,openstack/neutron,master,bug/1952867,I3bcee11982e98b438e4d12f1b40f3b2290321b6b,Support multiple types net map to one ovs bridge,ABANDONED,2021-12-01 09:29:51.000000000,2022-02-08 08:53:03.000000000,,35,7,12,820006,be7b17b43c5d2c9b3b543cde19a6b50d55e2089b,28,7,3,5,9531,liuyulong,LIU-Yulong,"Support multiple types net map to one ovs bridge

In real cloud production environment, there are many
hosts, which can access external network, which may not.
Some have enough NICs to work for different networks,
while some are lack of NICs.

For instance, an external network, provider:network_type is
``vlan``, provider:physical_network is ``external``,
provider:segmentation_id is ``4000``.
While tenant network, provider:network_type is ``vlan``,
provider:physical_network is ``user``, provider:segmentation_id
is ``1000-3000``.

So for neutron's limitation, in one single host, you have
to add two ovs-bridges which are mapping external->br-ex,
user->br-usr. And br-ex adds physical port eth0,
br-usr adds eth1.

But, in real world, these vlans can work in same physical
nic, and physical hosts may be lack of NICs, which means,
Neutron should allow set bridge mapping like this:
{""external"": br-vlan, ""user"": br-vlan}

Then, for those hosts with only one NIC (or one bond NIC),
can work for both physical types of network.

This patch will make this available. Two logical type of network
can work together on one physical. In real world,
external_vlan=4000 and user_vlan=1000-3000 can be set for one
single port in TOR for some hosts.

Closes-Bug: #1952867
Change-Id: I3bcee11982e98b438e4d12f1b40f3b2290321b6b
"
openstack%2Fneutron-specs~master~Ifa2baca64dfbadc2d9473eba2999839ecdadac31,openstack/neutron-specs,master,neutron_detector,Ifa2baca64dfbadc2d9473eba2999839ecdadac31,Neutron detector resource and agent,ABANDONED,2019-05-31 18:46:00.000000000,2022-02-08 08:52:48.000000000,,279,0,132,662541,cb68a59600cfe49f8510721af476952ef4d910f0,24,9,6,1,9531,liuyulong,LIU-Yulong,"Neutron detector resource and agent

Related-Bug: #1830014
Change-Id: Ifa2baca64dfbadc2d9473eba2999839ecdadac31
"
openstack%2Fneutron~master~Ibf7c08e147ace055114556eb14ca013fcf71fe6e,openstack/neutron,master,bug/1922653,Ibf7c08e147ace055114556eb14ca013fcf71fe6e,[L3][Port forwarding] multiple floating_ip:port to same fixed_ip:port,ABANDONED,2021-04-21 00:46:37.000000000,2022-02-08 08:52:33.000000000,,148,8,3,787304,7d61950d58274137fe57095b4de97a8e4e72f3ac,58,6,6,8,9531,liuyulong,LIU-Yulong,"[L3][Port forwarding] multiple floating_ip:port to same fixed_ip:port

Floating ip port forwradings table has constraints:

  op.create_unique_constraint(
      constraint_name=('uniq_port_forwardings0floatingip_id0'
                       'external_port0protocol'),
      table_name=TABLE_NAME,
      columns=['floatingip_id', 'external_port', 'protocol']
  )
  op.create_unique_constraint(
      constraint_name=('uniq_port_forwardings0internal_neutron_port_id0'
                       'socket0protocol'),
      table_name=TABLE_NAME,
      columns=['internal_neutron_port_id', 'socket', 'protocol']
  )

It does not support N-to-1 rule (failed on constraint
uniq_port_forwardings0internal_neutron_port_id0socket0protocol):

172.24.4.64:22 -> tcp -> 192.168.111.45:22
172.24.4.64:122 -> tcp -> 192.168.111.45:22
172.24.4.168:22 -> tcp -> 192.168.111.45:22

This patch removes this uniq constraint to support multiple
floating_ip:port to same fixed_ip:port.

Depends-On: I95d9fd3224300c4406a1a397e514989d7495b370

Change-Id: Ibf7c08e147ace055114556eb14ca013fcf71fe6e
Closes-Bug: #1922653
"
openstack%2Fneutron~master~I352b0ff734682dfa8c3f95e938fd8455f720c674,openstack/neutron,master,bug/1845145,I352b0ff734682dfa8c3f95e938fd8455f720c674,Ensure iptables rule was added only once,ABANDONED,2019-09-24 08:28:31.000000000,2022-02-08 08:51:53.000000000,,72,11,13,684237,ee4fc5db95c03b8d8281572190b7d5b1c6b2273c,94,11,13,3,9531,liuyulong,LIU-Yulong,"Ensure iptables rule was added only once

This patch adds a check for iptables_manager to ensure the rule
was added only once to the list. This will avoid some unexpected
behavior during rule removal procedure.

Closes-Bug: #1845145
Change-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674
"
openstack%2Fneutron~master~I00c5e6e0b11929a5b98e21e21a1090b60466515e,openstack/neutron,master,bug/1813787,I00c5e6e0b11929a5b98e21e21a1090b60466515e,Check dvr local router is up during port creation,ABANDONED,2019-01-30 06:00:31.000000000,2022-02-08 08:51:04.000000000,,206,3,118,633871,39f961b35c63b62a19e23f6a6878499d7615571f,272,14,32,9,9531,liuyulong,LIU-Yulong,"Check dvr local router is up during port creation

Sometimes the dvr local router can be still in processing
but the VM needs to send traffic via it or the proxy. So
this patch adds a status check during port creation. If
the local router is not up, then provisioning_complete
will not be sent.

Closes-Bug: #1813787
Change-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e
"
openstack%2Fneutron~master~I422d987eaa87ca2b93746e754487729ae42a60b2,openstack/neutron,master,change-661492-8,I422d987eaa87ca2b93746e754487729ae42a60b2,Router scheduler based on bandwidth,ABANDONED,2019-05-26 17:54:01.000000000,2022-02-08 08:50:40.000000000,,688,33,0,661492,7f70ffca9221605fd8992e635e4e18d37d5523d7,58,10,9,16,9531,liuyulong,LIU-Yulong,"Router scheduler based on bandwidth

Add `bandwidth` to the router to indicate the total
bandwidth of a router can service.

Add new L3 router scheduler:
    BandwidthLeastRoutersScheduler
    AZBandwidthLeastRoutersScheduler
those schedulers will chose the agent which has the least
router and its free bandwidth can meet the router total
bandwidth.

Closes-Bug: #1828494
Change-Id: I422d987eaa87ca2b93746e754487729ae42a60b2
"
openstack%2Fneutron~master~I1dd056f60df5cb971c7e601035baefc225a91763,openstack/neutron,master,bug/1919107-2,I1dd056f60df5cb971c7e601035baefc225a91763,[L2 pop] Not clean table flows not handled by neutron,ABANDONED,2021-03-23 01:56:36.000000000,2022-02-08 08:50:27.000000000,,50,6,10,782345,1bc22350b7f4c0bd03538f5465f8c38e6d13cb6a,19,6,3,4,9531,liuyulong,LIU-Yulong,"[L2 pop] Not clean table flows not handled by neutron

For bagpipe_bgpvpn it will handle the ARP responder and
tunnel direct flows. For neutron we can disable the
``arp_responder`` and ``l2_population`` when there are
alternatives. So if Neutron does not handle related flows,
it should not delete the flow during the agent restart.

Related-Bug: #1919107
Related-Bug: #1919104

Change-Id: I1dd056f60df5cb971c7e601035baefc225a91763
"
openstack%2Fneutron~master~Ibd44042ef4e87f52d818178a6391c02b21f4f30f,openstack/neutron,master,dvr_revert,Ibd44042ef4e87f52d818178a6391c02b21f4f30f,"Revert ""DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table""",ABANDONED,2021-03-05 02:12:25.000000000,2022-02-08 08:50:11.000000000,,29,230,11,778820,ece54ae014d0619430ef1fc5984bcf1a1eefc6a7,60,17,9,10,9531,liuyulong,LIU-Yulong,"Revert ""DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table""

This reverts commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c [5].

Reason for revert:  The follow-up patch [1] will not be accepted.
And this may be the reason of bug [2] and [3].

This also reverts commit 3027b66c3854c183899e4e0774a92b965aa049d4 [4],
because it is a follow-up fix for [5].

This also reverts commit ea85e39660abaa224c159c42214fdb7042302bea [7]
since [5] and [8] are all reverted.

This revert has conflicts with commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5 [6],
needs pay attention to that.

[1] https://review.opendev.org/c/openstack/neutron/+/601336
[2] https://bugs.launchpad.net/neutron/+bug/1913646
[3] https://bugs.launchpad.net/neutron/+bug/1916761
[4] https://review.opendev.org/c/openstack/neutron/+/665175
[5] https://review.opendev.org/c/openstack/neutron/+/651905
[6] https://review.opendev.org/c/openstack/neutron/+/752248
[7] https://review.opendev.org/c/openstack/neutron/+/669938
[8] https://review.opendev.org/c/openstack/neutron/+/653883

Change-Id: Ibd44042ef4e87f52d818178a6391c02b21f4f30f
"
openstack%2Fbifrost~stable%2Fxena~I17becbd7848e42ce51c2176cff886f23f35364f4,openstack/bifrost,stable/xena,,I17becbd7848e42ce51c2176cff886f23f35364f4,"Revert ""Install libvirt-python from source instead of a wheel""",MERGED,2022-02-07 18:26:00.000000000,2022-02-08 08:49:46.000000000,2022-02-08 08:47:58.000000000,2,15,0,828178,fe0bccb56d8b12a76fb0290a99149b7a78b1682d,8,3,1,2,10239,Dmitry Tantsur,dtantsur,"Revert ""Install libvirt-python from source instead of a wheel""

This reverts commit 79c8418ead5ead97494497b998aa6c03e27b87bf.

Reason for revert: hopefully no longer needed.

Change-Id: I17becbd7848e42ce51c2176cff886f23f35364f4
(cherry picked from commit 6323ae7706d34494060d9ab50e21c282dcb80b27)
"
openstack%2Fneutron-specs~master~I61340bba49ed3ffd33566ff505b074a4a5109337,openstack/neutron-specs,master,bug/1817881,I61340bba49ed3ffd33566ff505b074a4a5109337,L3 agent self-service metering,ABANDONED,2019-05-11 00:23:18.000000000,2022-02-08 08:49:40.000000000,,201,0,66,658511,2aa6a0116a2c1c7bb337688f8bec16a8ef0d4dff,57,10,17,1,9531,liuyulong,LIU-Yulong,"L3 agent self-service metering

Change-Id: I61340bba49ed3ffd33566ff505b074a4a5109337
Partial-Bug: #1817881
"
openstack%2Fneutron-specs~master~I56588948485c4274f7e0cc1dd0542e09d824719f,openstack/neutron-specs,master,l3_capacity,I56588948485c4274f7e0cc1dd0542e09d824719f,L3 agent capacity and scheduling,ABANDONED,2019-05-10 18:35:23.000000000,2022-02-08 08:49:08.000000000,,172,0,93,658451,d283134c8e2888c3d6451a51b9a7dc73c60e21c2,46,10,10,1,9531,liuyulong,LIU-Yulong,"L3 agent capacity and scheduling

Partial-Bug: #1828494
Change-Id: I56588948485c4274f7e0cc1dd0542e09d824719f
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I6aa9056939c9cc5311034160c790e4893e7d7ce5,openstack/python-tripleoclient,stable/train,upgrade_inventory,I6aa9056939c9cc5311034160c790e4893e7d7ce5,[TRAIN-ONLY] Fix inventory path when upgrading,MERGED,2021-04-01 13:35:42.000000000,2022-02-08 08:42:20.000000000,2021-09-21 12:00:00.000000000,4,2,3,784416,320fbda95346d71d67946c64ba94dd66944cc17d,32,11,6,2,7353,Kevin Carter,cloudnull,"[TRAIN-ONLY] Fix inventory path when upgrading

This change ensures that the inventory function returns the inventory file
path instead of the inventory content when we run
external_update/upgrade. Without this review the funtion
returns inventory content which may not be parsed correctly as
external_* don't use mistral when the playbooks are executed.

rhbz: 1944321
Change-Id: I6aa9056939c9cc5311034160c790e4893e7d7ce5
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fkolla~master~I3e599f780e8f84ea131988f4a9a45f17055c8ab2,openstack/kolla,master,,I3e599f780e8f84ea131988f4a9a45f17055c8ab2,nova-compute: 'ndctl' is available on all archs,MERGED,2022-02-04 16:58:49.000000000,2022-02-08 08:41:16.000000000,2022-02-08 08:38:00.000000000,1,8,0,827885,c638e768a84b2544924293fb382fe326c16a0022,12,3,2,1,24072,Marcin Juszkiewicz,hrw,"nova-compute: 'ndctl' is available on all archs

In past 'ndctl' was x86-64 only in Ubuntu. This changed in 19.04 so time
to adapt.

Change-Id: I3e599f780e8f84ea131988f4a9a45f17055c8ab2
"
openstack%2Fkolla~master~I667ccda5bb4edbfbfb97dfb0cea264837ed05cae,openstack/kolla,master,827656-patch3,I667ccda5bb4edbfbfb97dfb0cea264837ed05cae,erlang: use packages from Erlang Solutions on AArch64,MERGED,2022-02-03 13:16:06.000000000,2022-02-08 08:39:48.000000000,2022-02-08 08:37:57.000000000,25,30,6,827663,f943c7d773a280b832dde9edf9d615540b259b5c,21,4,6,5,24072,Marcin Juszkiewicz,hrw,"erlang: use packages from Erlang Solutions on AArch64

RabbitMQ requires Erlang 23+ and soon will bump to 24+.

On AArch64 we used version 22 as there was no other option. Now it is.

Change-Id: I667ccda5bb4edbfbfb97dfb0cea264837ed05cae
"
openstack%2Fansible-collections-openstack~master~I1f577fae27c24c257571d1cf90e49527470edace,openstack/ansible-collections-openstack,master,,I1f577fae27c24c257571d1cf90e49527470edace,Move identity domain to use proxy layer,MERGED,2022-02-01 11:26:34.000000000,2022-02-08 08:36:40.000000000,2022-02-08 08:36:40.000000000,34,13,1,827267,bdf472a53fd353b51114f27985774a9c29e29399,20,5,5,2,10969,Shnaidman Sagi (Sergey),sergsh,"Move identity domain to use proxy layer

Make it compatible with new SDK and fix bug with ""enabled""

Change-Id: I1f577fae27c24c257571d1cf90e49527470edace
"
openstack%2Fkolla~master~I8c740655c7f7803d9ab36dac79d30e35e65dd586,openstack/kolla,master,,I8c740655c7f7803d9ab36dac79d30e35e65dd586,pin out some package from Debian OpenStack Team repos,MERGED,2022-02-04 11:36:29.000000000,2022-02-08 08:36:36.000000000,2022-02-08 08:33:44.000000000,5,0,2,827848,2553c1845c7c4cf04d720b820e4bb13519eca4c9,14,4,2,1,24072,Marcin Juszkiewicz,hrw,"pin out some package from Debian OpenStack Team repos

Debian OpenStack Team backports many packages to get their stuff done.
Sometimes something goes wrong:

INFO:kolla.common.utils.kolla-toolbox:The following packages have unmet dependencies:
INFO:kolla.common.utils.kolla-toolbox: git : Depends: git-man (< 1:2.30.2-.) but 1:2.34.1-1~bpo11+1 is to be installed
INFO:kolla.common.utils.kolla-toolbox:E: Unable to correct problems, you have held broken packages.

So let pin out problematic packages as we are fine with bullseye version
of git.

Change-Id: I8c740655c7f7803d9ab36dac79d30e35e65dd586
"
openstack%2Fcinder-tempest-plugin~master~Ice1bf9b085270f0a705c17af5eb34c3c298387a6,openstack/cinder-tempest-plugin,master,,Ice1bf9b085270f0a705c17af5eb34c3c298387a6,Updating python testing as per Yoga testing runtime,ABANDONED,2022-02-08 05:12:48.000000000,2022-02-08 08:19:58.000000000,,23,1,0,828216,7e4c3954fabce009fe3beb0d2da9d20f5adadf7d,5,2,1,2,30615,Tushar Trambak Gite,tushargite96,"Updating python testing as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting and as we are testing py3.6 and py3.9
we do not need to test py3.7|8 explicitly. Unit tests update are
handled by the job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit update the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ice1bf9b085270f0a705c17af5eb34c3c298387a6
"
openstack%2Fbifrost~master~I02ee6c32f8216f33dc10315a35fe8f6b52770cea,openstack/bifrost,master,test,I02ee6c32f8216f33dc10315a35fe8f6b52770cea,DNM test the CI,ABANDONED,2022-02-07 19:02:05.000000000,2022-02-08 08:06:40.000000000,,1,0,0,828182,0b05bd7bf101f74ef8946ade6e3fffda61920c41,3,1,1,1,10239,Dmitry Tantsur,dtantsur,"DNM test the CI

Depends-On: https://review.opendev.org/c/openstack/bifrost/+/828178/
Change-Id: I02ee6c32f8216f33dc10315a35fe8f6b52770cea
"
openstack%2Fneutron-specs~master~Ied444b627f7f2cc7e0fcbb56d17a25bf48aeb5e7,openstack/neutron-specs,master,off-path-smartnic-dpu-port-binding-with-ovn,Ied444b627f7f2cc7e0fcbb56d17a25bf48aeb5e7,Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC,ABANDONED,2022-02-08 08:02:38.000000000,2022-02-08 08:05:34.000000000,,9,7,0,828225,284787abfbd055e479c717d8651731a5d802e4f3,2,0,1,1,13686,Frode Nordahl,fnordahl,"Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC

After a round of reviews of Nova patches that utilized VNIC_SMARTNIC for
the off-path backend spec

https://review.opendev.org/q/topic:2021-09-10-off-path-net-backends-dep

it was determined that the Ironic's usage of VNIC_SMARTNIC would be
affected by how the decision is made whether a port is remote-managed or
not during the resource request creation.

https://review.opendev.org/c/openstack/nova/+/824835/13/nova/network/neutron.py#2325

See the following log for the relevant discussion:

https://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56

Therefore, this change introduces a spec update to use a new VNIC
type.

Nova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458
Nova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends
Partial-Bug: #1932154
Change-Id: I63f156c5bfb5a41e5ebf94dc8f069828569e270a

Change-Id: Ied444b627f7f2cc7e0fcbb56d17a25bf48aeb5e7
"
openstack%2Fproject-config~master~I4bc674875e8d3010bcfd8db8955019d8d791f075,openstack/project-config,master,retire-security-specs,I4bc674875e8d3010bcfd8db8955019d8d791f075,Retire security-specs repo - Step 3,MERGED,2022-01-31 21:20:52.000000000,2022-02-08 08:05:26.000000000,2022-02-08 07:35:46.000000000,2,23,3,827178,7aa2e80f5fa583456248826b3b5cf1e745450141,20,3,4,5,21420,Gage Hugo,ghugo,"Retire security-specs repo - Step 3

The security-specs repo is slated for retirement[0] as per the
security-sig. This change is part of the step to remove the
project from infrastructure systems.

[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026323.html

Depends-on: https://review.opendev.org/c/openstack/security-specs/+/827177

Change-Id: I4bc674875e8d3010bcfd8db8955019d8d791f075
"
openstack%2Fneutron-specs~master~Ice5c5cdcd4451f5066579c246db2ee60ad6b8b99,openstack/neutron-specs,master,off-path-smartnic-dpu-port-binding-with-ovn,Ice5c5cdcd4451f5066579c246db2ee60ad6b8b99,Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC,ABANDONED,2022-02-08 08:03:13.000000000,2022-02-08 08:05:24.000000000,,9,7,0,828226,13f59a6cfba8abc939a1d066e9cd33ac1d1c0076,2,0,1,1,13686,Frode Nordahl,fnordahl,"Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC

After a round of reviews of Nova patches that utilized VNIC_SMARTNIC for
the off-path backend spec

https://review.opendev.org/q/topic:2021-09-10-off-path-net-backends-dep

it was determined that the Ironic's usage of VNIC_SMARTNIC would be
affected by how the decision is made whether a port is remote-managed or
not during the resource request creation.

https://review.opendev.org/c/openstack/nova/+/824835/13/nova/network/neutron.py#2325

See the following log for the relevant discussion:

https://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56

Therefore, this change introduces a spec update to use a new VNIC
type.

Nova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458
Nova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends
Partial-Bug: #1932154
Change-Id: I63f156c5bfb5a41e5ebf94dc8f069828569e270a

Change-Id: Ice5c5cdcd4451f5066579c246db2ee60ad6b8b99
"
openstack%2Fkolla-ansible~master~I031c8bb595c06176e763e9452b349db3c96528dd,openstack/kolla-ansible,master,precheck-AlmaLinux8,I031c8bb595c06176e763e9452b349db3c96528dd,Add support for AlmaLinux 8,NEW,2022-01-28 16:28:54.000000000,2022-02-08 07:52:55.000000000,,2,0,2,826916,b9ed9f794029df45b66e398b02d0e1f2f5013bde,5,3,1,1,34521,Paul Mooney,pmooney1,"Add support for AlmaLinux 8

Change-Id: I031c8bb595c06176e763e9452b349db3c96528dd
"
openstack%2Fpuppet-tempest~master~Ia2137a49a0610924d9a476c62ae31270a5a9acf9,openstack/puppet-tempest,master,,Ia2137a49a0610924d9a476c62ae31270a5a9acf9,Support [load_balancer] test_with_noop,MERGED,2022-02-07 02:14:42.000000000,2022-02-08 07:45:18.000000000,2022-02-08 07:35:55.000000000,9,0,2,828063,d65c6ab9a704a8b5fdc66ea314401c3f9791f256,15,3,2,3,9816,Takashi Kajinami,kajinamit,"Support [load_balancer] test_with_noop

... so that we can set this parameter in our integration tests, which
use noop drivers.

Change-Id: Ia2137a49a0610924d9a476c62ae31270a5a9acf9
"
openstack%2Fpuppet-tempest~master~Idad462f8d52cb1f439ea137d4844a4872a20133e,openstack/puppet-tempest,master,,Idad462f8d52cb1f439ea137d4844a4872a20133e,Support [load_balancer] *_role parameters,MERGED,2022-02-06 23:34:35.000000000,2022-02-08 07:43:47.000000000,2022-02-08 07:35:53.000000000,140,110,3,828059,e919c537f91e2422345b2241b415f29a572fd7a1,18,3,2,3,9816,Takashi Kajinami,kajinamit,"Support [load_balancer] *_role parameters

Change-Id: Idad462f8d52cb1f439ea137d4844a4872a20133e
"
openstack%2Fcyborg~master~Id39016e295bafc7a6a124c093f3c837a24d61ecd,openstack/cyborg,master,fix-exc,Id39016e295bafc7a6a124c093f3c837a24d61ecd,no type field in ExpectedOneObject format message,ABANDONED,2022-02-07 10:06:48.000000000,2022-02-08 07:30:42.000000000,,20,1,0,828100,7308078fb5717eced5c0243da72ae11dc041faff,6,2,1,2,23950,Eric Xie,ericxie,"no type field in ExpectedOneObject format message

Change-Id: Idac2258cb411c2065212d4b76989d572b9f86f3d

Co-Authored-By: Eric Xie <eric-xiett@163.com>
Change-Id: Id39016e295bafc7a6a124c093f3c837a24d61ecd
"
openstack%2Fheat~stable%2Ftrain~I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,openstack/heat,stable/train,,I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,Fallback to upstream for Fedora image,MERGED,2022-01-19 06:17:44.000000000,2022-02-08 07:12:02.000000000,2022-02-08 07:10:12.000000000,12,6,4,825258,bd38beda6608b5efa5330fd0619ec3487ecd8992,19,5,3,2,8833,Rabi Mishra,rabi,"Fallback to upstream for Fedora image

OpenDev infra only keep around the latest two Fedora releases in their
mirrors.  Probe for the image from the local test mirror, but if not
found, fallback to upstream.  This will be much less reliable, but can
avoid gate breakage until new images can be used.

This also fixes tempest venv to use correct constraints file.

Change-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8
"
openstack%2Fproject-config~master~I93a03daa4715cba6527ab550817106c6a37b8a44,openstack/project-config,master,,I93a03daa4715cba6527ab550817106c6a37b8a44,Rename openstack/neutron-fwass* to x/neutron-fwaas*,ABANDONED,2022-01-17 09:01:52.000000000,2022-02-08 06:59:07.000000000,,41,41,9,824905,2ca380b4c18a5f88e7a2b840af4797a4e7ec88da,9,6,1,5,30380,ZhouHeng,zhouhenglc,"Rename openstack/neutron-fwass* to x/neutron-fwaas*

neutron-fwaas has been deprecated as neutron stadium project.
many users still need L3 firewalls. our team wants to continue
to maintain this project in the x namespace.
ovn is the default ML2 driver for neutron. neutron-fwass support
for ovn is also planned.

Change-Id: I93a03daa4715cba6527ab550817106c6a37b8a44
"
openstack%2Ftripleo-heat-templates~master~I66a97b37bfaae0c5931d32ec877a6230b5b6cefd,openstack/tripleo-heat-templates,master,trustee-opts,I66a97b37bfaae0c5931d32ec877a6230b5b6cefd,Add heat::trustee parameters,MERGED,2021-10-13 04:48:42.000000000,2022-02-08 06:55:27.000000000,2022-02-08 06:55:27.000000000,4,0,3,813740,b2b9e983c1efe06e6fa5aa3bf6ee6310fa0a9c32,25,5,6,1,9816,Takashi Kajinami,kajinamit,"Add heat::trustee parameters

This is the prep work to use the new heat::trustee parameters and
defines parameter for the new class.

Depends-on: https://review.opendev.org/824827
Change-Id: I66a97b37bfaae0c5931d32ec877a6230b5b6cefd
"
openstack%2Fneutron-fwaas~master~I561504160e5548c54d1af31821c3366ab34cf0ec,openstack/neutron-fwaas,master,retire-neutron-fwaas,I561504160e5548c54d1af31821c3366ab34cf0ec,Retire neutron-fwaas project,MERGED,2020-06-16 09:25:06.000000000,2022-02-08 06:18:55.000000000,2020-06-18 14:54:53.000000000,8,25642,0,735829,caae7b6a6f5e8944dbe359b6472be2507bbf5e12,18,7,2,283,11975,Slawek Kaplonski,slaweq,"Retire neutron-fwaas project

Governance change is proposed at [1] and project config patch is
proposed at [2]

[1] https://review.opendev.org/735828
[2] https://review.opendev.org/#/c/735812/

Change-Id: I561504160e5548c54d1af31821c3366ab34cf0ec
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,openstack/tripleo-heat-templates,stable/train,,I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,Use only internal endpoints in Octavia controller services,MERGED,2022-01-17 16:27:21.000000000,2022-02-08 06:08:28.000000000,2022-02-08 06:08:28.000000000,4,0,0,824992,a6c91404889df7d55153b99fd86f402bdcbfa5c0,8,4,1,1,29244,Gregory Thiemonge,gthiemonge,"Use only internal endpoints in Octavia controller services

Octavia controller services should use internal endpoints instead of the
default public endpoints.
Some deployment topologies (composable networkers) don't allow
communication between the nodes that run Octavia and the public
endpoints.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/824989

Conflicts:
	deployment/octavia/octavia-base.yaml

Change-Id: I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4
(cherry picked from commit 3055a4f118a48d7c23a0095675bdd30f69acd622)
(cherry picked from commit 2ca0ebbdddeb18d9bedfe2177feed033ddb2c334)
(cherry picked from commit 7a54602e444bd69eac187952ff61f67987d65244)
"
openstack%2Fopenstack-zuul-jobs~master~Ice106cfee23c514a5e5716d4368af9f62360e2f7,openstack/openstack-zuul-jobs,master,centos-8-stream,Ice106cfee23c514a5e5716d4368af9f62360e2f7,wheel-cache: update openstack package for 8-stream,MERGED,2022-02-08 03:37:44.000000000,2022-02-08 05:51:06.000000000,2022-02-08 05:49:44.000000000,3,3,1,828213,d7cfa6b0030fe4df7b1bbfd5c29f1775892e258f,9,3,1,1,7118,Ian Wienand,iwienand,"wheel-cache: update openstack package for 8-stream

This old openstack package brings in centos-release-ceph-nautilus
which actually has an incorrect mirrorlist entry in it's .repo file
that tries to point it at the centos-8 repos [1].  When upstream
retired CentOS 8 this stopped responding.  Update to Xena (we don't
rely on any of these bits, it's just one or two packages we need
bindep to install for the wheel builds).

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2051792

Change-Id: Ice106cfee23c514a5e5716d4368af9f62360e2f7
"
openstack%2Fpython-glanceclient~master~I3d9360785a759e4a6e7905710400baea80776052,openstack/python-glanceclient,master,bp/glance-unified-quotas,I3d9360785a759e4a6e7905710400baea80776052,Add support for usage API,MERGED,2022-01-31 20:23:10.000000000,2022-02-08 05:09:55.000000000,2022-02-08 05:08:22.000000000,82,0,1,827174,3f001f5f11941203cc6c2d8505e84ab31891bd0e,9,3,1,5,4393,Dan Smith,danms,"Add support for usage API

This is really a very simple activity of fetching and showing the
results of the usage API in table form for the user.

Depends-On: https://review.opendev.org/c/openstack/glance/+/794860
Change-Id: I3d9360785a759e4a6e7905710400baea80776052
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,openstack/tripleo-heat-templates,stable/ussuri,,I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,Use only internal endpoints in Octavia controller services,MERGED,2022-01-17 16:23:16.000000000,2022-02-08 04:14:19.000000000,2022-02-08 04:14:19.000000000,4,0,0,824988,7a54602e444bd69eac187952ff61f67987d65244,8,4,1,1,29244,Gregory Thiemonge,gthiemonge,"Use only internal endpoints in Octavia controller services

Octavia controller services should use internal endpoints instead of the
default public endpoints.
Some deployment topologies (composable networkers) don't allow
communication between the nodes that run Octavia and the public
endpoints.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/824987

Change-Id: I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4
(cherry picked from commit 3055a4f118a48d7c23a0095675bdd30f69acd622)
(cherry picked from commit 2ca0ebbdddeb18d9bedfe2177feed033ddb2c334)
"
openstack%2Fpuppet-tripleo~master~If263e44583e0e1eb005edefe3b90868aea750dee,openstack/puppet-tripleo,master,trustee-opts,If263e44583e0e1eb005edefe3b90868aea750dee,Heat: include an independent class to set up [trustee],MERGED,2022-01-16 01:56:34.000000000,2022-02-08 04:14:16.000000000,2022-02-08 04:14:16.000000000,5,1,2,824827,4f93834438502fab680a8a240d93941ab82cd430,16,4,1,2,9816,Takashi Kajinami,kajinamit,"Heat: include an independent class to set up [trustee]

The new heat::trustee class was added to puppet-heat, which will be
required to set up the [trustee] parameters. This change ensures that
the new class is included.

Depends-on: https://review.opendev.org/813739
Change-Id: If263e44583e0e1eb005edefe3b90868aea750dee
"
openstack%2Fswift~master~If1f119efbbad35bfa2fb39804aaedc5dd51ad5ef,openstack/swift,master,ring-v2,If1f119efbbad35bfa2fb39804aaedc5dd51ad5ef,ring: Introduce a V2 format (PTG edition),NEW,2022-02-01 12:26:39.000000000,2022-02-08 04:07:55.000000000,,335,66,4,827276,8d43adfa6f94cae4d66d7f06d81cbb0010dd4a59,17,1,5,3,7233,Matthew Oliver,mattoliverau,"ring: Introduce a V2 format (PTG edition)

Here is a follow up to Tim's V2 that starts to implement v2 that I think
addressed what was discussed at the PTG.

See: https://etherpad.opendev.org/p/swift-ring-v2-serialization

The python gzip module now supports seeking so it can be used to seek to
the end, pull off the metadata and the index. Then work through from the
start and read off each chunk to pull off the ring _and_ to generate the
correct MD5.

In this patch, the RingReader is used to just calculate MD5 and size.
It's also grown a raw_size property that pulls the raw size out of the
.gz.

Gzip is a streaming compression, so seek isn't the most efficient. If it
becomes a problem we could consider moving to BZip2 as it's block based
and so is seekable like a file.

Change-Id: If1f119efbbad35bfa2fb39804aaedc5dd51ad5ef
"
openstack%2Fglance~master~I50c98bac50f815bdb9baae024e77afd388f74554,openstack/glance,master,bp/glance-unified-quotas,I50c98bac50f815bdb9baae024e77afd388f74554,[APIImpact] Quota usage API,MERGED,2021-06-04 16:19:54.000000000,2022-02-08 03:35:59.000000000,2022-02-08 03:33:58.000000000,259,11,17,794860,f865b8cac7fb008c870e433d22fb4216ed95e285,50,3,16,12,4393,Dan Smith,danms,"[APIImpact] Quota usage API

This adds a /v2/info/usage API endpoint which exposes to the user
their current limits and usage.

The discovery API does not (appear to) have existing tests, so this
adds a module for that, although only usage tests are added currently.

Implements: blueprint quota-api
Change-Id: I50c98bac50f815bdb9baae024e77afd388f74554
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id13a221726af88dd229cf8e12462eabb4027b377,openstack/tripleo-heat-templates,stable/wallaby,bug/1959353,Id13a221726af88dd229cf8e12462eabb4027b377,Nova: Use internal endpoint to access Keystone,MERGED,2022-02-02 23:09:29.000000000,2022-02-08 03:34:06.000000000,2022-02-08 03:34:06.000000000,1,1,0,827408,b67137ae93a1ce4612c6ac82eeabbec6abac70aa,10,4,1,1,9816,Takashi Kajinami,kajinamit,"Nova: Use internal endpoint to access Keystone

The Keystone admin endpoint is deployed on the provisioning network by
default, and usually this network has no redundancy. We don't expect
outage in provisioning network affects functionality of overcloud so
services should not be rely on connectivity in provisioning network.

This change ensures that internal endpoint, which is deployed on
internal api network, is used instead.

Closes-Bug: #1959353
Change-Id: Id13a221726af88dd229cf8e12462eabb4027b377
(cherry picked from commit c3affa49a33bb62e019263186e446a1a70194970)
"
openstack%2Ftripleo-heat-templates~master~I17eac95937d3234cddfd03d99addb9bdd6613a1d,openstack/tripleo-heat-templates,master,,I17eac95937d3234cddfd03d99addb9bdd6613a1d,Nova: Use cross_az_attach from nova::cinder,MERGED,2022-02-05 09:03:08.000000000,2022-02-08 03:34:02.000000000,2022-02-08 03:34:02.000000000,1,1,0,827944,a3fa2a052bc131335e6df9b737700845da9ca5cc,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Nova: Use cross_az_attach from nova::cinder

... because the one in the base nova class was deprecated.

Depends-on: https://review.opendev.org/824396
Change-Id: I17eac95937d3234cddfd03d99addb9bdd6613a1d
"
openstack%2Ftripleo-heat-templates~master~I00ca1f4da82cdc25737f462fa024e31316216c12,openstack/tripleo-heat-templates,master,horizon-policies,I00ca1f4da82cdc25737f462fa024e31316216c12,Horizon: Manage policy files,MERGED,2022-01-08 06:51:33.000000000,2022-02-08 03:25:12.000000000,2022-02-08 03:25:12.000000000,32,7,3,823891,f63176e97a19f5587e5cc8a7064109d6b8a4441c,21,5,3,9,9816,Takashi Kajinami,kajinamit,"Horizon: Manage policy files

This change enables management of policy files for Horizon so that
customized policy rules are injected into horizon policy files in
addition to service policy files.

Depends-on: https://review.opendev.org/823890
Change-Id: I00ca1f4da82cdc25737f462fa024e31316216c12
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I93d3eae0a738782f071a839ba7b41107a597e2fa,openstack/tripleo-heat-templates,stable/wallaby,,I93d3eae0a738782f071a839ba7b41107a597e2fa,Start the neutron metadata agent with cgroupns host,MERGED,2022-02-07 11:43:01.000000000,2022-02-08 03:10:24.000000000,2022-02-08 03:10:24.000000000,1,0,0,827969,354232139417f6db028e773d86187b1bf6e89cf2,9,5,1,1,9976,Ronelle Landy,rlandy,"Start the neutron metadata agent with cgroupns host

This container got missed in the fixups.

Closes-Bug: #1959582
Change-Id: I93d3eae0a738782f071a839ba7b41107a597e2fa
(cherry picked from commit d3a6e7a99ad090bd7ef06b7bd84cf8558e5fdae5)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I3a914414eb59a0c1c5695d8dc60edec9c35a5ec8,openstack/tripleo-ansible,stable/wallaby,BnR_Ironic_Parameter,I3a914414eb59a0c1c5695d8dc60edec9c35a5ec8,[Only Wallaby] BnR added ramdisk_kernel_arguments to the restoration process,MERGED,2022-01-31 16:30:17.000000000,2022-02-08 03:07:44.000000000,2022-02-08 03:07:44.000000000,1,0,4,827151,1b56e74a960cd2321551411e2dfcd93d040d88d0,20,6,1,1,22954,Juan Badia Payno,jbadiapa,"[Only Wallaby] BnR added ramdisk_kernel_arguments to the restoration process

BnR needed to add a kernel parameter, from victoria onwards the way is kernel_append_params.
For Wallaby the way is to add the ramdisk_kernel_arguments.

The kernel_append_params is skipped and only the ramdisk_kernel_argument
is used.

Change-Id: I3a914414eb59a0c1c5695d8dc60edec9c35a5ec8
"
openstack%2Fswift~master~I7692860e3b741e1bc10626e26bb7b27399c325ab,openstack/swift,master,p-deprecate-set-statsd-prefix,I7692860e3b741e1bc10626e26bb7b27399c325ab,Deprecate LogAdapter.set_statsd_prefix,MERGED,2022-02-04 11:18:55.000000000,2022-02-08 03:01:37.000000000,2022-02-08 02:07:25.000000000,177,36,10,827845,eda7d5fe3c9527ae20850b38f8b626782dd5efec,19,2,3,9,7847,Alistair Coles,acoles,"Deprecate LogAdapter.set_statsd_prefix

Previously, the set_statsd_prefix method was used to mutate a logger's
StatsdClient tail prefix after a logger was instantiated. This pattern
had led to unexpected mutations (see Related-Change). The tail_prefix
can now be passed as an argument to get_logger(), and is then
forwarded to the StatsdClient constructor, for a more explicit
assignment pattern.

The set_statsd_prefix method is left in place for backwards
compatibility. A DeprecationWarning will be raised if it is used
to mutate the StatsdClient tail prefix.

Change-Id: I7692860e3b741e1bc10626e26bb7b27399c325ab
Related-Change: I0522b1953722ca96021a0002cf93432b973ce626
"
openstack%2Fpython-tripleoclient~master~Ie9bf98d665940c0e3539e4ab03a640f06af00a12,openstack/python-tripleoclient,master,baremetal_cli,Ie9bf98d665940c0e3539e4ab03a640f06af00a12,Move baremetal CLI commands,ABANDONED,2021-12-06 01:42:41.000000000,2022-02-08 02:10:27.000000000,,1659,146,136,820463,47b6bf49d5d7ff6582be48d7359a5cab424949e1,104,5,41,11,30073,Brendan Shephard,bshephar,"Move baremetal CLI commands

Currently, we use Ansible for all of the
overcloud node commands. To better support
the work around Tripleo.Next, these commands
should be moved into tripleoclient.

To accomplish this, this change is also
consolodating the functions in
workflows/baremetal.py into classes where they
will be better organised and more manageable
moving forward.

Change-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12
"
openstack%2Fpython-tripleoclient~master~Iecf1f887cbf226eb178d345bc61b16a3ddd0e72d,openstack/python-tripleoclient,master,ooonext_bm_introspect,Iecf1f887cbf226eb178d345bc61b16a3ddd0e72d,Move baremetal Introspect commands from Ansible,ABANDONED,2022-01-10 03:31:06.000000000,2022-02-08 02:09:41.000000000,,494,57,4,823925,1318838c26a50af280fcbbfeb6cd4749b280459a,11,4,3,3,30073,Brendan Shephard,bshephar,"Move baremetal Introspect commands from Ansible

Currently, we leverage Ansible to handle the
baremetal introspeciton process. As part of our efforts
to support work on Tripleo.Next, these Ansible
workflows will need to be migrated to tripleoclient.

This change is consolodating Python methods from
tripleo-ansible into tripleoclient.

Change-Id: Iecf1f887cbf226eb178d345bc61b16a3ddd0e72d
"
openstack%2Fmanila~master~I27c24c71a7c388033fbdf206c2d3e8004839d98a,openstack/manila,master,bug/1958072,I27c24c71a7c388033fbdf206c2d3e8004839d98a,[DOC] Incorrect response code for share network creation,MERGED,2022-01-31 08:50:45.000000000,2022-02-08 01:45:05.000000000,2022-02-08 01:43:21.000000000,1,1,1,826998,96823254c1bc78b96a63a554aa263a93a4a7130c,12,3,2,1,33380,Archana Kumari,archanaserver,"[DOC] Incorrect response code for share network creation

The response code of share network creation operation is
mentioned 202 while it should be 200.

Closes-Bug: #1958072

Change-Id: I27c24c71a7c388033fbdf206c2d3e8004839d98a
"
openstack%2Fmanila~stable%2Fvictoria~I0524554dae2d6970191ba3afa583480c391b5c3c,openstack/manila,stable/victoria,,I0524554dae2d6970191ba3afa583480c391b5c3c,Modify docker instalation for fedora systems,MERGED,2022-01-27 20:50:12.000000000,2022-02-08 01:45:00.000000000,2022-02-08 01:43:19.000000000,1,1,1,826621,2b2e16bf83515680d4f0705a25f91359aa3edcb8,11,2,1,1,29632,Carlos Eduardo,silvacarlos,"Modify docker instalation for fedora systems

Use install_package instead of using a specific package manager
while installing docker on fedora systems. With DNF also a
possibility, the better option is to do not take a stand in chosing
which package manager will be used to install packages.

We have a install_package function that will use the appropriate
package manager to install the programs we need to install.

Change-Id: I0524554dae2d6970191ba3afa583480c391b5c3c
(cherry picked from commit 7500d22bca4061a3dda8fd3f5c8c5ed21e747987)
"
openstack%2Fpuppet-vitrage~master~Ia154dc7c4fbda86f941b935ae782442627cd2d31,openstack/puppet-vitrage,master,key-deps,Ia154dc7c4fbda86f941b935ae782442627cd2d31,Ensure keystone resources are created during service startup,MERGED,2022-02-06 15:23:45.000000000,2022-02-08 01:29:12.000000000,2022-02-08 01:29:12.000000000,2,0,1,828052,40acf1a75953b9b29d73bf12cada300251e50795,11,3,1,1,9816,Takashi Kajinami,kajinamit,"Ensure keystone resources are created during service startup

This change ensures keystone resources like the mistral service user
are created before completing service setup, so that we can use
the service::end anchor to ensure Vitrage service is fully available.

Change-Id: Ia154dc7c4fbda86f941b935ae782442627cd2d31
"
openstack%2Ftripleo-common~stable%2Fwallaby~I015f2354426cf816a2e320a94b154f9b7ba1531f,openstack/tripleo-common,stable/wallaby,fips-compatibility-stable/wallaby,I015f2354426cf816a2e320a94b154f9b7ba1531f,DNM/TEST add new rabbitmq to image,NEW,2022-02-07 21:12:58.000000000,2022-02-08 01:13:02.000000000,,2,0,0,828147,46f04dca09512e83bcbe131e688b630d804cfc4a,3,2,1,1,9914,Ade Lee,alee,"DNM/TEST add new rabbitmq to image

Add a new rabbitmq version and erlang-ets to support FIPS.  This is just
for testing right now.

Change-Id: I015f2354426cf816a2e320a94b154f9b7ba1531f
"
openstack%2Fdesignate~stable%2Fwallaby~I43dcc43309b7da8ca077fce2d1950940971a3dbe,openstack/designate,stable/wallaby,fips-compatibility,I43dcc43309b7da8ca077fce2d1950940971a3dbe,Add fips jobs,MERGED,2022-02-04 21:51:51.000000000,2022-02-07 23:29:50.000000000,2022-02-07 23:24:38.000000000,13,0,1,827905,9e2618a229f8b1c6065f80736ad45af80a249db6,12,3,2,2,9914,Ade Lee,alee,"Add fips jobs

Added job to test whether things work when fips is enabled.
The job appears to be passing successfully.

Change-Id: I43dcc43309b7da8ca077fce2d1950940971a3dbe
(cherry picked from commit 604fd8cf7468a54125486e45959f717cf182ece8)
"
openstack%2Fpuppet-openstack-integration~master~I16985ae8e1793ac9e745d33d4ec6cf42be357335,openstack/puppet-openstack-integration,master,octavia-integration,I16985ae8e1793ac9e745d33d4ec6cf42be357335,Octavia: Enable tempest scenario tests,ABANDONED,2022-02-07 09:47:07.000000000,2022-02-07 23:25:00.000000000,,3,0,0,828097,e1b391276bce366f1582bb0858936805dca04fec,6,1,3,1,9816,Takashi Kajinami,kajinamit,"Octavia: Enable tempest scenario tests

Change-Id: I16985ae8e1793ac9e745d33d4ec6cf42be357335
"
openstack%2Fdesignate~stable%2Fwallaby~Ic2571caa71dc99c417ea0933d5d4947287cbe312,openstack/designate,stable/wallaby,fix_md5-stable/wallaby,Ic2571caa71dc99c417ea0933d5d4947287cbe312,Replace md5 for fips,MERGED,2022-02-07 16:14:54.000000000,2022-02-07 23:18:44.000000000,2022-02-07 23:16:25.000000000,7,7,2,828136,e1ee648fc0936fb7b990b76e336a99586146859b,9,4,1,3,34120,Andre Aranha,afariasa,"Replace md5 for fips

md5 is not an approved algorithm in FIPS mode, and trying to
instantiate a hashlib.md5() will fail when the system is running in
FIPS mode.

md5 is allowed when in a non-security context.  There is a plan to
add a keyword parameter (usedforsecurity) to hashlib.md5() to annotate
whether or not the instance is being used in a security context.

In the case where it is not, the instantiation of md5 will be allowed.
See https://bugs.python.org/issue9216 for more details.

Some downstream python versions already support this parameter.  To
support these versions, a new encapsulation of md5() has been added to
oslo_utils.  See https://review.opendev.org/#/c/750031/

In this case, md5 is used to calculate the hash of a database record
to ensure record uniqueness.

Change-Id: Ic2571caa71dc99c417ea0933d5d4947287cbe312
(cherry picked from commit 7ea564329097c078ac4db9ed02dac7d54ef467db)
"
openstack%2Fnova~master~I293adc69db58123919589297f495737fe7f2b521,openstack/nova,master,bug/1960247,I293adc69db58123919589297f495737fe7f2b521,Allow authorization by user_id for server resume action,ABANDONED,2022-02-07 16:01:12.000000000,2022-02-07 23:16:57.000000000,,30,1,3,828168,db9e2b886ac3a6c8cf4b07af8078aa86ea5226f7,15,3,3,3,9816,Takashi Kajinami,kajinamit,"Allow authorization by user_id for server resume action

Since commit 90f0e3d4abecb44e24654c1912893a4492feb1a9 was merged, nova
allows defining policy rules based on user_id for server suspend
action. However the same has not yet been implemented in resume action
and operators can't define consistent rules for these two corresponding
operations.

This change introduces capability to define a policy rule using user_id
for resume action to resolve that inconsistency.

Change-Id: I293adc69db58123919589297f495737fe7f2b521
Closes-Bug: #1960247
"
openstack%2Fdevstack~master~I82b3b8fe56275aed72e13f6d1bd9170c50e5da0d,openstack/devstack,master,fips-compatibility,I82b3b8fe56275aed72e13f6d1bd9170c50e5da0d,Add openstack-two-node-centos-8-stream,MERGED,2022-01-25 21:47:22.000000000,2022-02-07 22:47:52.000000000,2022-02-07 22:42:44.000000000,30,0,3,826391,1fd45940f370dc3aab6a5e9492c36e735f673c8a,18,4,2,1,9914,Ade Lee,alee,"Add openstack-two-node-centos-8-stream

This will allow multinode FIPS testing

Change-Id: I82b3b8fe56275aed72e13f6d1bd9170c50e5da0d
"
openstack%2Fbarbican-tempest-plugin~master~I8698fc7a9ac849b8c24adfe824ca44dd3e42b999,openstack/barbican-tempest-plugin,master,secure-rbac,I8698fc7a9ac849b8c24adfe824ca44dd3e42b999,Temporarily delete two bad tests for consumers,MERGED,2021-11-11 20:56:21.000000000,2022-02-07 22:28:02.000000000,2022-02-07 22:28:02.000000000,2,23,0,817644,263a326d05663692427870a665e0615c512e4b76,8,4,1,1,7973,Douglas Mendizábal,dougmendizabal,"Temporarily delete two bad tests for consumers

These two tests are breaking the gate in barbican for a bugfix
patch. [1]

As currently written, the tests are checking the buggy behavior and they
break with the bugfix.

The main issue with the tests is that the different persona classes are
not overriding the cls.consumer_client object to match the persona under
test.  This results in the member client being used throughout, which
before the bufix was wrongly returning a 403.

These test are being re-written in a follow up patch. [2]

[1] https://review.opendev.org/c/openstack/barbican/+/816756/
[2] https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/815071

Change-Id: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999
"
openstack%2Fkeystone~master~I1a3c5541798c41ddf15eb89cc4f60578140c0dd1,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I1a3c5541798c41ddf15eb89cc4f60578140c0dd1,sql: Squash newton migrations (part 2),MERGED,2022-01-14 19:14:29.000000000,2022-02-07 21:23:00.000000000,2022-02-07 21:21:03.000000000,41,520,0,824778,4fe0f10b6e21f48a131b8660d610d0bbb877ec64,12,3,2,14,15334,Stephen Finucane,sfinucan,"sql: Squash newton migrations (part 2)

Make the following changes to the new ""initial"" migrations.

- Add 'key_hash' and 'encrypted_blob' columns to 'credential' table,
  drop 'blob' column (003)
- Add a (now unused) procedure for postgresql backends (003)
- Change 'created_at' column of 'password' table to non-nullable, and
  set to non-nullable (002, 004)

Change-Id: I1a3c5541798c41ddf15eb89cc4f60578140c0dd1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcinder~master~Iea1f29ce269107cd6422c40ca2e42ddb7354486b,openstack/cinder,master,,Iea1f29ce269107cd6422c40ca2e42ddb7354486b,Remove various unused code,MERGED,2021-07-13 18:02:01.000000000,2022-02-07 21:05:25.000000000,2022-02-07 19:52:17.000000000,0,114,11,800703,36bd8f5c9773caf3c87e4683948bd32ed99ac3cf,133,5,4,5,4523,Eric Harney,eharney,"Remove various unused code

Remove code that does not appear to be called/used.

Change-Id: Iea1f29ce269107cd6422c40ca2e42ddb7354486b
"
openstack%2Fkeystone~master~I2450a6e077ea9fce0f957a0c239ea168c9930c30,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I2450a6e077ea9fce0f957a0c239ea168c9930c30,sql: Remove duplicated constants,MERGED,2022-01-19 18:50:03.000000000,2022-02-07 20:46:26.000000000,2022-02-07 20:43:57.000000000,48,42,1,825377,5823f218443fe0559570395cf4ed68fc61524b19,12,6,1,1,15334,Stephen Finucane,sfinucan,"sql: Remove duplicated constants

Change-Id: I2450a6e077ea9fce0f957a0c239ea168c9930c30
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I6dc238c2b59c5c1d89d54a2dd1fbf7cef0d16313,openstack/tripleo-heat-templates,stable/wallaby,secure-rbac,I6dc238c2b59c5c1d89d54a2dd1fbf7cef0d16313,Allow neutron to configure secure RBAC options,MERGED,2022-01-27 07:50:18.000000000,2022-02-07 20:39:19.000000000,2022-02-07 20:36:51.000000000,23,0,2,826591,4f0ad599b82706cd1385b7823ec66a3dbd868904,16,3,2,2,11975,Slawek Kaplonski,slaweq,"Allow neutron to configure secure RBAC options

This updates the neutron api container to set the appropriate
configuration options when EnforceSecureRbac is True. This will be
needed when more OpenStack services support system-scope and deployers
want to enable those personas.

Conflicts:
    deployment/neutron/neutron-api-container-puppet.yaml

Change-Id: I6dc238c2b59c5c1d89d54a2dd1fbf7cef0d16313
(cherry picked from commit 8e28fde39cbc0aca03afdc30d4f4fce43ea92013)
"
openstack%2Fmistral~master~I11caebaf5979ae4774139ddc8f7f98d64ebaffeb,openstack/mistral,master,add-yoga-python-jobtemplates,I11caebaf5979ae4774139ddc8f7f98d64ebaffeb,Add Python3 yoga unit tests,NEW,2021-09-17 16:22:44.000000000,2022-02-07 20:32:53.000000000,,1,1,1,809821,a8e79642279e3c5425512505bf2f165cf5e9b881,9,4,1,1,22816,OpenStack Release Bot,release,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I11caebaf5979ae4774139ddc8f7f98d64ebaffeb
"
openstack%2Fironic-python-agent~stable%2Ftrain~I231ccadebe54bb965481b3c6ddd2b4117284ecdc,openstack/ironic-python-agent,stable/train,c7-py3,I231ccadebe54bb965481b3c6ddd2b4117284ecdc,Run centos7-python3 job instead of centos7,ABANDONED,2022-01-28 01:35:28.000000000,2022-02-07 20:27:47.000000000,,1,1,0,826792,8f991276dc72368d0bb76f8a5be0a52f31bcf7c5,4,1,1,1,4571,Steve Baker,steve-stevebaker,"Run centos7-python3 job instead of centos7

Change-Id: I231ccadebe54bb965481b3c6ddd2b4117284ecdc
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Iadd24554727d9a5000c6842954fe1deede833a8e,openstack/tripleo-heat-templates,stable/wallaby,secure-rbac,Iadd24554727d9a5000c6842954fe1deede833a8e,Implement project personas in custom barbican policy file,MERGED,2021-11-19 20:34:34.000000000,2022-02-07 20:15:56.000000000,2022-02-07 20:15:56.000000000,69,99,3,818631,1269dafd2446232b5bd908b8e976fd72c0de8f13,16,7,2,1,5046,Lance Bragstad,ldbragst,"Implement project personas in custom barbican policy file

This commit updates the default barbican policies in enable-secure-rbac.yaml to
implement consistent support for project personas (project-admin,
project-member, and project-reader) with other OpenStack services. The
project-admin is still considered a system administrator.

This behavior will change in future releases (likely Yoga) when we have
a community wide goal to finish system-scope adoption. At that point, we
can remove these overrides and use the defaults in barbican, which is working
to adopt full support for system peronas in Yoga, and we'll get more
functionality without these overrides.

Change-Id: Iadd24554727d9a5000c6842954fe1deede833a8e
(cherry picked from commit 839ddccdbd43b5eb41441c75a953647995f89959)
"
openstack%2Fironic~master~I4ce5f7a2317d952f976194d2022328f4afbb0258,openstack/ironic,master,image-type,I4ce5f7a2317d952f976194d2022328f4afbb0258,Explicit parameter to distinguish partition/whole-disk images,MERGED,2022-01-19 12:45:28.000000000,2022-02-07 20:08:04.000000000,2022-02-07 20:04:45.000000000,267,51,3,825305,a813c769e8d27803e87d46280db84607fdfce153,38,3,6,18,10239,Dmitry Tantsur,dtantsur,"Explicit parameter to distinguish partition/whole-disk images

Using kernel/ramdisk makes no sense with local boot, we need a better
way. We already have an internal image_type instance parameter, let's
make it public.

Glance support will be added in the next patch.

Change-Id: I4ce5f7a2317d952f976194d2022328f4afbb0258
"
openstack%2Fneutron~master~I974c7d04d13a87bbbd4de6164578724a2cfd85cc,openstack/neutron,master,fips-compatibility,I974c7d04d13a87bbbd4de6164578724a2cfd85cc,Add FIPS enabled scenario jobs,MERGED,2021-06-22 19:58:17.000000000,2022-02-07 20:07:26.000000000,2022-02-07 20:01:24.000000000,40,0,25,797537,a1a895a6e56c3e261f9e98b2a0e0896442185d07,159,7,37,2,9914,Ade Lee,alee,"Add FIPS enabled scenario jobs

Add ML2/OVS and ML2/OVN tempest jobs with FIPS enabled.
Right now, the FIPS jobs run on Centos 8 stream.

For now those jobs are added to the experimental queue but
we should think about adding them to periodic maybe.

Co-Authored-By: Slawek Kaplonski <skaplons@redhat.com>

Depends-On: https://review.opendev.org/c/openstack/tempest/+/822560
Change-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc
"
openstack%2Fironic~master~I691ae5b67358ced5f0aa860b9ca6ccec58c897ad,openstack/ironic,master,deploy-utils-properties,I691ae5b67358ced5f0aa860b9ca6ccec58c897ad,deploy_utils: only check glance for image properties kernel/ramdisk,MERGED,2022-01-28 17:57:33.000000000,2022-02-07 19:56:29.000000000,2022-02-07 19:53:10.000000000,3,32,2,826927,374d5e5a3037a6b985933e734e902b2e05d805bb,17,3,1,2,10239,Dmitry Tantsur,dtantsur,"deploy_utils: only check glance for image properties kernel/ramdisk

Other image services cannot have them, not use making a network call.

Change-Id: I691ae5b67358ced5f0aa860b9ca6ccec58c897ad
"
openstack%2Fkeystone-tempest-plugin~master~Iee1fe30420d5ec4721a444e3a10985b31ec23601,openstack/keystone-tempest-plugin,master,bug/1959930,Iee1fe30420d5ec4721a444e3a10985b31ec23601,Replace Identity client endpoint type,MERGED,2022-02-04 17:48:00.000000000,2022-02-07 19:52:15.000000000,2022-02-07 19:52:15.000000000,1,1,1,827910,4eff632695fe79a5d78f400dca3ceab663c83788,14,11,1,1,30002,Douglas Viroel,dviroel,"Replace Identity client endpoint type

This patch replaces Identity client default endpoint type,
which is set to 'adminURL', to use the 'v3_endpoint_type'
from identity configuration.

Related-Bug: #1959930
Change-Id: Iee1fe30420d5ec4721a444e3a10985b31ec23601
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
"
openstack%2Frequirements~stable%2Fxena~I34db535f7073943d1b8dde1961fc15b96e241cff,openstack/requirements,stable/xena,new-release,I34db535f7073943d1b8dde1961fc15b96e241cff,update constraint for oslo.messaging to new release 12.9.2,MERGED,2022-02-07 10:32:53.000000000,2022-02-07 19:52:12.000000000,2022-02-07 19:52:12.000000000,1,1,0,828105,630e737e2f3072b54aa01f465834e142407aea50,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.messaging to new release 12.9.2

meta: version: 12.9.2
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I431930ef1ca69a324898acc36d6b4c30fa892e44
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I34db535f7073943d1b8dde1961fc15b96e241cff
"
openstack%2Fironic~master~Ib460622d69a9cb1cb82e796a6ab294bbbb40c359,openstack/ironic,master,service-wait,Ib460622d69a9cb1cb82e796a6ab294bbbb40c359,Wait for conductor start before notifying systemd,MERGED,2022-01-26 13:59:46.000000000,2022-02-07 19:49:20.000000000,2022-02-07 19:45:55.000000000,69,0,2,826470,2c58ab3703675b43d9f197f609fc576e850ac0da,20,3,3,5,10239,Dmitry Tantsur,dtantsur,"Wait for conductor start before notifying systemd

Currently, the launcher first notifies systemd, then starts checking the
services (RPC and WSGI). So any failures will be reported, but only
after systemd declares the service ready.

This change adds a polling loop to make sure RpcService.start() finishes
successfully.

Change-Id: Ib460622d69a9cb1cb82e796a6ab294bbbb40c359
"
openstack%2Fironic~master~I38bf39e4e4845415640b3468e9fb3029f70dcded,openstack/ironic,master,service-exit,I38bf39e4e4845415640b3468e9fb3029f70dcded,Return non-zero exit code on failures,MERGED,2022-01-26 13:40:10.000000000,2022-02-07 19:47:55.000000000,2022-02-07 19:45:52.000000000,8,3,0,826467,e841fa05456ae8cfa35222fc6b787d9aadababe6,13,3,1,4,10239,Dmitry Tantsur,dtantsur,"Return non-zero exit code on failures

Launcher.wait() does not raise, it returns an integer code. Propagate it
to sys.exit() so that failures are correctly recognized.

Change-Id: I38bf39e4e4845415640b3468e9fb3029f70dcded
"
openstack%2Fbifrost~master~I17becbd7848e42ce51c2176cff886f23f35364f4,openstack/bifrost,master,gate,I17becbd7848e42ce51c2176cff886f23f35364f4,"Revert ""Install libvirt-python from source instead of a wheel""",MERGED,2022-02-03 16:21:56.000000000,2022-02-07 19:25:53.000000000,2022-02-07 19:24:12.000000000,2,15,2,827648,6323ae7706d34494060d9ab50e21c282dcb80b27,9,5,1,2,10239,Dmitry Tantsur,dtantsur,"Revert ""Install libvirt-python from source instead of a wheel""

This reverts commit 79c8418ead5ead97494497b998aa6c03e27b87bf.

Reason for revert: hopefully no longer needed.

Change-Id: I17becbd7848e42ce51c2176cff886f23f35364f4
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I3adb4dd75198935c4656d0208043ad8051f29312,openstack/openstack-ansible-lxc_hosts,master,,I3adb4dd75198935c4656d0208043ad8051f29312,Ensure that the legacy network-scripts package is present,MERGED,2022-02-07 11:32:45.000000000,2022-02-07 19:15:26.000000000,2022-02-07 19:14:00.000000000,1,0,1,828113,9a4004169450a0bb68ffe0fec31e6887a9c075f3,13,4,1,1,25023,Jonathan Rosser,jrosser,"Ensure that the legacy network-scripts package is present

The lxc_hosts ansible role currently relies on the ifup / ifdown
commands.

Change-Id: I3adb4dd75198935c4656d0208043ad8051f29312
"
openstack%2Frequirements~stable%2Fvictoria~I84609ffce41ac143d7cdf24c3e1a02c8a9c1f8e6,openstack/requirements,stable/victoria,new-release,I84609ffce41ac143d7cdf24c3e1a02c8a9c1f8e6,update constraint for oslo.utils to new release 4.6.1,MERGED,2022-02-07 10:27:40.000000000,2022-02-07 19:05:34.000000000,2022-02-07 19:05:34.000000000,1,1,0,828102,8b422b75cbf4b2e2441a1baedd426c60116a964f,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.utils to new release 4.6.1

meta: version: 4.6.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: If10337ef96594c5432a82d35a64a457446b8a246
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I84609ffce41ac143d7cdf24c3e1a02c8a9c1f8e6
"
openstack%2Foctavia~master~I3f9d08fd4ce038208b8c2d160e6abecae8c8383d,openstack/octavia,master,c9,I3f9d08fd4ce038208b8c2d160e6abecae8c8383d,Add support for Centos 9 Stream,MERGED,2021-11-02 16:10:46.000000000,2022-02-07 19:02:28.000000000,2022-02-07 19:00:40.000000000,12,1,28,816370,0a9f3a8e6f728ceef4c1dc992b513dc5c0e3a6e0,80,6,12,2,29244,Gregory Thiemonge,gthiemonge,"Add support for Centos 9 Stream

Update elements for c9s

Change-Id: I3f9d08fd4ce038208b8c2d160e6abecae8c8383d
"
openstack%2Fnova~master~Idb55c81639139efbd44b9f8c938276827898ae44,openstack/nova,master,bug/1952915,Idb55c81639139efbd44b9f8c938276827898ae44,[WIP] Set resize claim resource when changing host,ABANDONED,2021-12-03 13:28:52.000000000,2022-02-07 18:45:25.000000000,,32,1,16,820381,1c1fde108737c8718974ee24f531414d7e6d26a1,30,2,4,2,33608,Gabriel Silva Trevisan,gtrevisan,"[WIP] Set resize claim resource when changing host

When single-cell migrating/resizing (with migrate) an instance, the
update_available_resource [1] task may execute while the instance being
migrated is in an inconsistent state. This may cause the destination
host resource inventory to be incorrectly updated, and a subsequent
revert attempt to fail when trying to drop the resource claims.

An observed effect of this is that the revert operation may fail to
unpin the CPUs from the destination host, leaving the instance in
""ERROR"" state, with a ""fault"" message similar to the following:

""CPU set to unpin [8] must be a subset of pinned CPU set []""

This issue occurs when the periodic task executes between two events
during the resize operation:
    - The instance host being updated and saved as the destination host
      [2]
    - The instance configuration (such as flavor and NUMA topology)
      being updated and saved to reflect its selected configuration for
      the destination host [3]

During this interval, the task will consider that the instance belongs
the destination host, but since it is still with its source
configuration, it will allocate the resources based on the source host.
More specifically, regarding CPU pinning, the task will attempt to pin
the CPU numbers that were pinned for the source host on the destination.

The resize/migration itself will work as expected, since it will update
the configuration accordingly afterwards. However, if the selected CPU
numbers for the destination differ from the original ones on the source,
the PCPU inventory in the resource_tracker will be temporarily
incorrect. If the revert operation tries to drop the claims before the
inventory is corrected, then it will fail to unpin the CPUs, because
they will not be considered as pinned.

Adding a simple fix to the specific issue of CPU pinning. It consists of
moving the 'instance.apply_migration_context()' call from
_finish_resize() [4] to the same update where the instance host is saved
as the destination host, on _resize_instance() [2]. This way, if the
periodic task runs before [3], the instance will already reference the
correct resource when the inventory is updated.

Note: This change should only affect single-cell resize/migrate behavior.
Cross-cell resize/migrate behavior should not be affected by it, since
the code flow differs.

Test Plan:

PASS: verify that the periodic task updates the destination
host NUMA topology accordingly, when executed between both mentioned
events

PASS: verify that the revert operation executes successfully,
when the periodic task runs between the two events during the
resize/migration

[1]
https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L10045
[2]
https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5653
[3]
https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5795
[4]
https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5780

Partial-Bug: #1952915
Signed-off-by: Gabriel Silva Trevisan <gabriel.silvatrevisan@windriver.com>
Co-Authored-By: Marcelo Mistutoshi Uesono <marcelomitsutoshi.uesono@windriver.com>
Co-Authored-By: Ricardo Soares Sarto <ricardo.soaressarto@windriver.com>
Change-Id: Idb55c81639139efbd44b9f8c938276827898ae44
"
openstack%2Fpuppet-neutron~master~I61d0a5340da6216fb4d885abebc4f109a6fe22b4,openstack/puppet-neutron,master,rp,I61d0a5340da6216fb4d885abebc4f109a6fe22b4,ovs: Add support for packet processing info report,MERGED,2022-02-04 06:22:31.000000000,2022-02-07 18:41:58.000000000,2022-02-07 18:40:17.000000000,96,6,0,827803,9441d9657e4d5411da7697fb406e37c9e26e38a1,16,3,6,3,9816,Takashi Kajinami,kajinamit,"ovs: Add support for packet processing info report

This change introduces support for parameters used to report packet
processing info to placement, which was added during the current Yoga
cycle[1].

[1] 1ea26616b41335b24b9c162062740ee3de78372d

Change-Id: I61d0a5340da6216fb4d885abebc4f109a6fe22b4
"
openstack%2Fpuppet-neutron~master~I26c2a1121169446a34815260f574f85b49619461,openstack/puppet-neutron,master,key-deps,I26c2a1121169446a34815260f574f85b49619461,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:17:48.000000000,2022-02-07 18:40:19.000000000,2022-02-07 18:40:19.000000000,1,6,0,828046,14dda75aed90471cd5d24e6831920cd9d40a8e03,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I26c2a1121169446a34815260f574f85b49619461
"
openstack%2Ffreezer-api~master~Id4e3b2dd78dfce7f3c9eabf513efff291c47522e,openstack/freezer-api,master,reno-xena,Id4e3b2dd78dfce7f3c9eabf513efff291c47522e,Update master for stable/xena,NEW,2021-09-17 14:19:46.000000000,2022-02-07 18:19:42.000000000,,7,0,0,809736,cd3eef1f73b2baaf92e9b52a467f2eb1575abcc0,3,2,1,2,22816,OpenStack Release Bot,release,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: Id4e3b2dd78dfce7f3c9eabf513efff291c47522e
"
openstack%2Fbarbican-ui~master~Idebe434ae4f7b2f0f88c61e68b4108d20ec04723,openstack/barbican-ui,master,,Idebe434ae4f7b2f0f88c61e68b4108d20ec04723,setup.cfg: Replace dashes by underscores,NEW,2022-02-05 16:39:44.000000000,2022-02-07 18:16:16.000000000,,3,3,0,827987,9cf68e481c56bb58a7885d94be71204f4f1ec93c,3,2,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Idebe434ae4f7b2f0f88c61e68b4108d20ec04723
"
openstack%2Fpuppet-ironic~master~I74e90c764e09b6ecfb7efb88efbfc22d5b06ed6c,openstack/puppet-ironic,master,cleanup-db-params,I74e90c764e09b6ecfb7efb88efbfc22d5b06ed6c,Clean up deprecated database parameters,MERGED,2022-02-07 03:07:39.000000000,2022-02-07 18:15:36.000000000,2022-02-07 18:13:52.000000000,23,120,0,828067,f27dd22cbdc4876f35d0db557adb3b376d9abd5a,8,3,1,4,9816,Takashi Kajinami,kajinamit,"Clean up deprecated database parameters

Change-Id: I74e90c764e09b6ecfb7efb88efbfc22d5b06ed6c
"
openstack%2Fsushy-tools~master~Icdf030b9a0fa0d785d309335e0ab2e82e25e0acf,openstack/sushy-tools,master,bios-settings-integer,Icdf030b9a0fa0d785d309335e0ab2e82e25e0acf,Accept non-string types for BIOS settings,MERGED,2022-02-03 22:02:04.000000000,2022-02-07 18:06:39.000000000,2022-02-07 18:04:49.000000000,18,0,2,827769,1553bf31823c2a36a90830de8e95e85d96af78dc,12,3,2,3,21909,Bob Fournier,bfournie,"Accept non-string types for BIOS settings

    For BIOS settings allow non-string types to be set.

Change-Id: Icdf030b9a0fa0d785d309335e0ab2e82e25e0acf
"
openstack%2Fopenstack-helm~master~Ib1b24466678a0df28a3ce7ba4d3fe94bfb169702,openstack/openstack-helm,master,remove-ssh-config,Ib1b24466678a0df28a3ce7ba4d3fe94bfb169702,Remove ssh-config,MERGED,2022-01-24 17:04:48.000000000,2022-02-07 18:05:06.000000000,2022-02-07 18:03:11.000000000,2,6,0,826128,3ff41ce11cf4ebca35f1ac047d6a24175017d6d4,20,4,4,4,14675,Hugo Nicodemos,nicodemos,"Remove ssh-config

All ssh configurations for the nova-compute pods
are now done by _ssh-init.sh.tpl . This patch removes
the ssh-config that is not needed anymore.

Signed-off-by: Hugo Brito <hugo.brito@windriver.com>
Change-Id: Ib1b24466678a0df28a3ce7ba4d3fe94bfb169702
"
openstack%2Fpuppet-ironic~master~I036ad287761fa6c4361a45e8d2d9711509a1ade9,openstack/puppet-ironic,master,key-deps,I036ad287761fa6c4361a45e8d2d9711509a1ade9,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:10:47.000000000,2022-02-07 17:53:18.000000000,2022-02-07 17:53:18.000000000,2,12,0,828042,9f34e8b03e1f8d5bdc97f30f27e4b86f9f136b4e,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I036ad287761fa6c4361a45e8d2d9711509a1ade9
"
openstack%2Fpuppet-heat~master~I9d77ce1cbbd3fb8f7af2f144101ad064d760934e,openstack/puppet-heat,master,cleanup-db-params,I9d77ce1cbbd3fb8f7af2f144101ad064d760934e,Clean up deprecated database parameters,MERGED,2022-02-07 03:01:52.000000000,2022-02-07 17:47:59.000000000,2022-02-07 17:45:55.000000000,23,94,0,828066,c543bd33ae2389e64f932441c719fcc105a2f2da,9,3,2,3,9816,Takashi Kajinami,kajinamit,"Clean up deprecated database parameters

Change-Id: I9d77ce1cbbd3fb8f7af2f144101ad064d760934e
"
openstack%2Fpuppet-heat~master~Ie28adb28dba6f8fd04520b1e5deea30fa66d775b,openstack/puppet-heat,master,key-deps,Ie28adb28dba6f8fd04520b1e5deea30fa66d775b,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:08:57.000000000,2022-02-07 17:45:53.000000000,2022-02-07 17:45:53.000000000,2,12,0,828041,6ce889d3f29c9c1c94c015d1d82ebfbb6bc90cef,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ie28adb28dba6f8fd04520b1e5deea30fa66d775b
"
openstack%2Fbarbican~stable%2Fwallaby~Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b,openstack/barbican,stable/wallaby,fips-compatibility,Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b,Add FIPS gate job,MERGED,2022-02-04 21:57:17.000000000,2022-02-07 17:42:54.000000000,2022-02-07 17:36:18.000000000,19,3,0,827906,a66d17653c721de93f2e618c5cfbd98f0cb3d5b6,10,3,1,3,9914,Ade Lee,alee,"Add FIPS gate job

Add a new FIPS enabled gate job  This job will be
for Centos 8 with FIPS enabled, and will use a playbook in
zuul-jobs to enable FIPS.

The dogtag bindep dependencies are curently broken.  Lets
temporarily remove them here until we can figure out how to
fix them and thereby fix the dogtag gate.

Change-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b
Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778
(cherry picked from commit 94a45c1ecdaa87791e97bed73d0468f056532570)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~If11f21c05a795108d76a3d210e2ebf11d7114c50,openstack/tripleo-ansible,stable/ussuri,bug/1881593,If11f21c05a795108d76a3d210e2ebf11d7114c50,Make template ovn_chassis_mac_map backwards-compatible,MERGED,2022-01-31 16:23:17.000000000,2022-02-07 17:40:43.000000000,2022-02-07 17:40:43.000000000,7,1,3,827148,36dd9e91ee23d087d8be5e9cc438508487c7a85e,16,2,2,1,6681,Brent Eagles,beagles,"Make template ovn_chassis_mac_map backwards-compatible

Conflicts:
  tripleo_ansible/roles/tripleo_hieradata/templates/ovn_chassis_mac_map.j2

Related-Bug: #1881593
Change-Id: If11f21c05a795108d76a3d210e2ebf11d7114c50
(cherry picked from commit 528888a664d0792b182a890aee5ed9bce6871208)
"
openstack%2Ftempest~master~I834300ee8d9ee8952284b55f53d97456a1ca6032,openstack/tempest,master,bug/1959467,I834300ee8d9ee8952284b55f53d97456a1ca6032,Make stable/ussuri job voting,MERGED,2022-02-06 01:52:09.000000000,2022-02-07 17:36:56.000000000,2022-02-07 17:31:47.000000000,0,1,2,828020,eb1afd539aa1fadbc6aa3bccf87af7cb5e0f0abb,8,3,1,1,8556,Ghanshyam,ghanshyam,"Make stable/ussuri job voting

stable/ussuri job was made non voting due to
bug#1959467

- https://review.opendev.org/c/openstack/tempest/+/827258

As bug is fixed now, let's revert it to voting again.

Change-Id: I834300ee8d9ee8952284b55f53d97456a1ca6032
"
openstack%2Fpuppet-placement~master~I9dd7848b0808c1c53c9f82839df60106f7a2e7ae,openstack/puppet-placement,master,key-deps,I9dd7848b0808c1c53c9f82839df60106f7a2e7ae,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:20:25.000000000,2022-02-07 17:35:22.000000000,2022-02-07 17:35:22.000000000,1,6,0,828048,d167d51b7cfb42e6595429364ca0d1c4d74cd280,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I9dd7848b0808c1c53c9f82839df60106f7a2e7ae
"
openstack%2Fpuppet-nova~master~I2a5b782ee453f59a754660af6a34bc0cdcd60b15,openstack/puppet-nova,master,,I2a5b782ee453f59a754660af6a34bc0cdcd60b15,Fix typo causing a warning message,MERGED,2022-02-06 17:05:01.000000000,2022-02-07 17:35:20.000000000,2022-02-07 17:35:20.000000000,1,1,0,828057,0378d590d310b9fce866c6fde46923dab155de44,8,3,2,1,9816,Takashi Kajinami,kajinamit,"Fix typo causing a warning message

This is follow up of 3c376bd733bff778002a01fb7b5f0dbc645d0e05 and fixes
one typo included in that commit. Because of this, the following
warning is always logged.

(warning): The cross_az_attach parameter is deprecated. \
Use nova::cinder::cross_az_attach instead.

Change-Id: I2a5b782ee453f59a754660af6a34bc0cdcd60b15
"
openstack%2Fkeystonemiddleware~master~Id05ff8460cfa4f1762f2d0096088bc341e95c1da,openstack/keystonemiddleware,master,reno-victoria,Id05ff8460cfa4f1762f2d0096088bc341e95c1da,Update master for stable/victoria,MERGED,2020-09-10 17:06:24.000000000,2022-02-07 17:25:01.000000000,2022-02-07 17:23:18.000000000,7,0,3,751057,220914527f97334479cb8bd3d12f1ee002e8bc89,19,6,2,2,22816,OpenStack Release Bot,release,"Update master for stable/victoria

Add file to the reno documentation build to show release notes for
stable/victoria.

Change-Id: Id05ff8460cfa4f1762f2d0096088bc341e95c1da
"
openstack%2Fpuppet-nova~master~I67aa61335f635e5cdc3176616d55f6e6002064fa,openstack/puppet-nova,master,key-deps,I67aa61335f635e5cdc3176616d55f6e6002064fa,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 14:58:58.000000000,2022-02-07 17:24:30.000000000,2022-02-07 17:24:30.000000000,2,10,0,828033,d47a0d7bfbf275b57056039975076df123a7d997,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I67aa61335f635e5cdc3176616d55f6e6002064fa
"
openstack%2Fpuppet-keystone~master~I1bacb6a08fe7e04732a870aa46512c21c298f328,openstack/puppet-keystone,master,cleanup-db-params,I1bacb6a08fe7e04732a870aa46512c21c298f328,Clean up deprecated database parameters,MERGED,2022-02-07 07:27:39.000000000,2022-02-07 17:22:49.000000000,2022-02-07 17:21:04.000000000,17,78,2,828071,845eb1c9a1ae492675e299d7f1f6e0287842b1c5,11,3,1,3,9816,Takashi Kajinami,kajinamit,"Clean up deprecated database parameters

Change-Id: I1bacb6a08fe7e04732a870aa46512c21c298f328
"
openstack%2Fpuppet-sahara~master~I0c799a1469493f4d6d581195d10411322116b386,openstack/puppet-sahara,master,cleanup-db-params,I0c799a1469493f4d6d581195d10411322116b386,Clean up deprecated database parameters,MERGED,2022-02-07 07:39:34.000000000,2022-02-07 17:20:23.000000000,2022-02-07 17:18:23.000000000,22,94,0,828075,846dc297b84c1490150a1b0f0144fff22d7c6bbd,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Clean up deprecated database parameters

Change-Id: I0c799a1469493f4d6d581195d10411322116b386
"
openstack%2Fpuppet-sahara~master~I7837827dc6adec5e89d7061689e326a4499389c8,openstack/puppet-sahara,master,key-deps,I7837827dc6adec5e89d7061689e326a4499389c8,Ensure keystone resources are created during service startup,MERGED,2022-02-06 15:21:22.000000000,2022-02-07 17:18:21.000000000,2022-02-07 17:18:21.000000000,2,0,0,828049,faaa76198238f3b4fcb73efd273bb6c7e3a459f1,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Ensure keystone resources are created during service startup

This change ensures keystone resources like the mistral service user
are created before completing service setup, so that we can use
the service::end anchor to ensure Sahara service is fully available.

Change-Id: I7837827dc6adec5e89d7061689e326a4499389c8
"
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~I66bbc9c84a309da451748734f23f43d4f4277cc1,openstack/puppet-openstack_extras,stable/ussuri,,I66bbc9c84a309da451748734f23f43d4f4277cc1,Add stream parameter to openstack_extras::repo::redhat::redhat,MERGED,2022-02-04 12:53:31.000000000,2022-02-07 17:17:42.000000000,2022-02-07 17:10:27.000000000,40,4,0,827853,f5dde77810fd465b4b70e370c3a2c632147239bf,13,3,4,3,9816,Takashi Kajinami,kajinamit,"Add stream parameter to openstack_extras::repo::redhat::redhat

Backport note:
Fixed the release version used in unit tests.

Change-Id: I66bbc9c84a309da451748734f23f43d4f4277cc1
(cherry picked from commit 3ecddc59263d1d5263e4d977523fd58860145afc)
(cherry picked from commit 248294304a73b78df200dcb2ac4eec631ee6cbaa)
(cherry picked from commit e44d8698db42c1b539bba9af2e75ef6977fde79f)
"
openstack%2Fpuppet-glance~master~Iec6917c4ca352f7b8d18a3c823768a9599b86109,openstack/puppet-glance,master,key-deps,Iec6917c4ca352f7b8d18a3c823768a9599b86109,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:05:26.000000000,2022-02-07 17:10:37.000000000,2022-02-07 17:10:37.000000000,1,6,1,828039,a221b7291830a1cbcf80523070ea2a1638842e31,10,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Iec6917c4ca352f7b8d18a3c823768a9599b86109
"
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~I91c4890e40c12c740db543af5749db1e73bf26fc,openstack/puppet-openstack_extras,stable/ussuri,,I91c4890e40c12c740db543af5749db1e73bf26fc,Disable integration/beaker job,MERGED,2022-02-04 12:56:43.000000000,2022-02-07 17:10:25.000000000,2022-02-07 17:10:25.000000000,2,2,2,827854,9cb16d1c9fdd0c31eaa16df29c4249d7768ef516,13,4,2,1,9816,Takashi Kajinami,kajinamit,"Disable integration/beaker job

... until we get p-o-i fixed.

Change-Id: I91c4890e40c12c740db543af5749db1e73bf26fc
"
openstack%2Fpuppet-openstack_extras~stable%2Fwallaby~I5f46cb0fad7cc036231bf2d97649114a98238c23,openstack/puppet-openstack_extras,stable/wallaby,default-release,I5f46cb0fad7cc036231bf2d97649114a98238c23,Wallaby-only: Use stable/wallaby release by default,MERGED,2022-02-05 16:14:21.000000000,2022-02-07 17:10:23.000000000,2022-02-07 17:10:23.000000000,16,16,0,827978,360fe51a0189b2fcee13c781caa09970496eed9c,11,3,4,5,9816,Takashi Kajinami,kajinamit,"Wallaby-only: Use stable/wallaby release by default

Change-Id: I5f46cb0fad7cc036231bf2d97649114a98238c23
"
openstack%2Fpuppet-openstack_extras~master~I29d6a3043260a3258266b87ca50bcc90befb42ee,openstack/puppet-openstack_extras,master,default-release,I29d6a3043260a3258266b87ca50bcc90befb42ee,Use stable/xena release by default,MERGED,2022-02-05 16:23:23.000000000,2022-02-07 17:10:21.000000000,2022-02-07 17:10:21.000000000,16,16,0,827981,0271adfc05738c34ae148c28ae98b14828c85c81,9,3,2,5,9816,Takashi Kajinami,kajinamit,"Use stable/xena release by default

... instead of old stable/victoria.

Change-Id: I29d6a3043260a3258266b87ca50bcc90befb42ee
"
openstack%2Fpuppet-ec2api~master~Ib493021ea91d6dd131d4e506735eb611444f5fef,openstack/puppet-ec2api,master,key-deps,Ib493021ea91d6dd131d4e506735eb611444f5fef,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:04:44.000000000,2022-02-07 17:08:39.000000000,2022-02-07 17:08:39.000000000,1,8,0,828038,a0c29e242028478622bd72f78deac5d41f20b06d,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ib493021ea91d6dd131d4e506735eb611444f5fef
"
openstack%2Fcloudkitty-tempest-plugin~master~Ied9ee5d61f7fb8a37a9718f6eed9e04bad80026b,openstack/cloudkitty-tempest-plugin,master,,Ied9ee5d61f7fb8a37a9718f6eed9e04bad80026b,Update python testing classifier,MERGED,2021-12-21 10:48:25.000000000,2022-02-07 17:06:29.000000000,2022-02-07 17:06:29.000000000,1,0,2,822475,74e213315b6954542af3cfcc71225bf32d4b6bc6,15,5,1,1,31412,Wenping Song,songwenping,"Update python testing classifier

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ied9ee5d61f7fb8a37a9718f6eed9e04bad80026b
"
openstack%2Fpuppet-zaqar~master~I5989b330cd55328510cc1bb20b6c00eeac18353b,openstack/puppet-zaqar,master,key-deps,I5989b330cd55328510cc1bb20b6c00eeac18353b,Ensure keystone resources are created during service startup,MERGED,2022-02-06 15:25:31.000000000,2022-02-07 17:05:20.000000000,2022-02-07 17:05:20.000000000,4,0,0,828054,f92eb3478597deeb0ce5e6da466e7025a65711eb,8,3,2,2,9816,Takashi Kajinami,kajinamit,"Ensure keystone resources are created during service startup

This change ensures keystone resources like the mistral service user
are created before completing service setup, so that we can use
the service::end anchor to ensure Zaqar service is fully available.

Change-Id: I5989b330cd55328510cc1bb20b6c00eeac18353b
"
openstack%2Fpuppet-trove~master~Ida8de2bfea71a3c783f4b0e4503f284e0b89aeec,openstack/puppet-trove,master,key-deps,Ida8de2bfea71a3c783f4b0e4503f284e0b89aeec,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:22:57.000000000,2022-02-07 17:01:56.000000000,2022-02-07 17:01:56.000000000,1,4,0,828051,69eb2582c16733f1d796af284cc9c326b6d2c6af,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ida8de2bfea71a3c783f4b0e4503f284e0b89aeec
"
openstack%2Fpuppet-manila~master~Iad736721337d46147a37ad3e7ee223867a796128,openstack/puppet-manila,master,cleanup-db-params,Iad736721337d46147a37ad3e7ee223867a796128,Clean up deprecated database parameters,MERGED,2022-02-07 07:36:14.000000000,2022-02-07 17:00:52.000000000,2022-02-07 16:55:56.000000000,25,95,1,828074,3224797a87f3e905bfab6030bfef6b450bc019a4,13,4,2,4,9816,Takashi Kajinami,kajinamit,"Clean up deprecated database parameters

Change-Id: Iad736721337d46147a37ad3e7ee223867a796128
"
openstack%2Fpuppet-gnocchi~master~Iaa635579908ded39130305170ac3f8feaef2d9ed,openstack/puppet-gnocchi,master,key-deps,Iaa635579908ded39130305170ac3f8feaef2d9ed,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:07:43.000000000,2022-02-07 16:59:46.000000000,2022-02-07 16:59:46.000000000,1,6,1,828040,e5edd14ed1a9dcaed7e93fab1e11d9b17fdeca50,9,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Iaa635579908ded39130305170ac3f8feaef2d9ed
"
openstack%2Fpuppet-cinder~master~I0900b756cb8cef92c5d451d9cce7ef8da4a0d7a4,openstack/puppet-cinder,master,key-deps,I0900b756cb8cef92c5d451d9cce7ef8da4a0d7a4,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:01:12.000000000,2022-02-07 16:58:53.000000000,2022-02-07 16:58:53.000000000,2,6,0,828034,574fbdbe45fcb8567ad9fee8a02b30462aa4c7b6,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I0900b756cb8cef92c5d451d9cce7ef8da4a0d7a4
"
openstack%2Fpuppet-manila~master~I6d29d4f82463067068e8e353a924495533107f28,openstack/puppet-manila,master,,I6d29d4f82463067068e8e353a924495533107f28,Remove integration job,MERGED,2022-02-07 09:35:52.000000000,2022-02-07 16:55:59.000000000,2022-02-07 16:55:59.000000000,0,1,0,828094,b7b2ef06cb1ed4a8127a7e4605998ab103d327b5,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Remove integration job

... because Manila is not enabled in any scenarios at this moment.

Change-Id: I6d29d4f82463067068e8e353a924495533107f28
"
openstack%2Fpuppet-designate~master~If969163b4b1df813341569ca7c626a35253cefd5,openstack/puppet-designate,master,key-deps,If969163b4b1df813341569ca7c626a35253cefd5,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:03:54.000000000,2022-02-07 16:53:52.000000000,2022-02-07 16:53:52.000000000,1,6,0,828037,19149dda5db9c5091cc109ad86cb360cd2e1987f,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: If969163b4b1df813341569ca7c626a35253cefd5
"
openstack%2Fpuppet-mistral~master~I074bdda1edca71b623852df25441fa255f2aa898,openstack/puppet-mistral,master,cleanup-db-params,I074bdda1edca71b623852df25441fa255f2aa898,Clean up deprecated database parameters,MERGED,2022-02-07 02:59:12.000000000,2022-02-07 16:48:27.000000000,2022-02-07 16:46:33.000000000,13,37,0,828065,fd77f30dde51fc4ea7ed51d57d0c9640fac78527,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Clean up deprecated database parameters

Change-Id: I074bdda1edca71b623852df25441fa255f2aa898
"
openstack%2Fpuppet-manila~master~I864d67c7ccd161450fb1c63f337675da45337c14,openstack/puppet-manila,master,rootwrap,I864d67c7ccd161450fb1c63f337675da45337c14,Add support for rootwrap.conf,MERGED,2022-02-05 10:18:35.000000000,2022-02-07 16:47:04.000000000,2022-02-07 16:45:18.000000000,181,3,0,827946,356a31d0ab28d10e5f0bdcbb71bf5ca283701a3a,8,3,1,8,9816,Takashi Kajinami,kajinamit,"Add support for rootwrap.conf

Change-Id: I864d67c7ccd161450fb1c63f337675da45337c14
"
openstack%2Fpuppet-magnum~master~I04b4e77bb8c7818b23f82248f3149e9e1069c0d3,openstack/puppet-magnum,master,key-deps,I04b4e77bb8c7818b23f82248f3149e9e1069c0d3,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:12:16.000000000,2022-02-07 16:45:54.000000000,2022-02-07 16:45:54.000000000,1,6,0,828043,bd1433a7b576dc82f0e2aea1bd80e707b0bbcaf9,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I04b4e77bb8c7818b23f82248f3149e9e1069c0d3
"
openstack%2Fpuppet-barbican~master~I21e05882b2685d8d312f4d6cc516ebcaf2ba6677,openstack/puppet-barbican,master,key-deps,I21e05882b2685d8d312f4d6cc516ebcaf2ba6677,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:01:55.000000000,2022-02-07 16:45:41.000000000,2022-02-07 16:45:41.000000000,1,6,0,828035,12a5b23668805eee82051d51f87d926b3a9b8c8e,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I21e05882b2685d8d312f4d6cc516ebcaf2ba6677
"
openstack%2Fpuppet-manila~master~Ia2c9fe8bc4aa9c41b714e58b412ed51ede74386e,openstack/puppet-manila,master,key-deps,Ia2c9fe8bc4aa9c41b714e58b412ed51ede74386e,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:14:38.000000000,2022-02-07 16:45:19.000000000,2022-02-07 16:45:19.000000000,2,10,0,828044,24e66402e3fbb63a41c0002e43acc5b5e49781c1,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ia2c9fe8bc4aa9c41b714e58b412ed51ede74386e
"
openstack%2Fopenstack-helm-infra~master~I3ac4a75f776760425c88a0ba1edae5fb339f128d,openstack/openstack-helm-infra,master,,I3ac4a75f776760425c88a0ba1edae5fb339f128d,Move ceph-mgr deployment to the ceph-mon chart,MERGED,2022-02-02 20:11:39.000000000,2022-02-07 16:42:32.000000000,2022-02-07 16:39:59.000000000,199,123,4,827552,ea2c0115c4c0d38e7f52037860017241792a87b7,41,7,16,17,29974,Stephen Taylor,st053q,"Move ceph-mgr deployment to the ceph-mon chart

This change moves the ceph-mgr deployment from the ceph-client
chart to the ceph-mon chart. Its purpose is to facilitate the
proper Ceph upgrade procedure, which prescribes restarting mgr
daemons before mon daemons.

There will be additional work required to implement the correct
daemon restart procedure for upgrades. This change only addresses
the move of the ceph-mgr deployment.

Change-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d
"
openstack%2Fneutron~master~Ie670fba4b3afe427747732d2c3948d92311e960e,openstack/neutron,master,bug/1958363,Ie670fba4b3afe427747732d2c3948d92311e960e,Use a thread local variable to store the Nova Notifier enable flag,MERGED,2022-02-01 17:47:52.000000000,2022-02-07 16:42:21.000000000,2022-02-07 16:38:34.000000000,48,15,13,827331,507989fc622a6633926c4288827f482bae6054dd,34,7,2,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Use a thread local variable to store the Nova Notifier enable flag

The Nova Notifier can be called simultaneously by several RPC
callbacks from the agents (DHCP, L2), trying to update the provisioning
status of a port. In order to handle each context notifier enable flag,
a thread local variable is used. This will isolate the flag update
if two entities inform at the same time and one RPC callback is attended
during the processing of the other one.

This patch also removes the debug messages added to debug this issue.

Closes-Bug: #1958363
Change-Id: Ie670fba4b3afe427747732d2c3948d92311e960e
"
openstack%2Fblazar-nova~master~I294c22b22a1d9e3df01c56a518476a33782d1196,openstack/blazar-nova,master,preemptibles,I294c22b22a1d9e3df01c56a518476a33782d1196,Allow preemptible instances to run on unused hosts,MERGED,2020-08-31 20:07:16.000000000,2022-02-07 16:42:18.000000000,2022-02-04 16:04:54.000000000,119,7,13,749151,3d01888c14a785e796393d7f6a2b0792b1b1f2e0,19,3,4,3,15197,Pierre Riteau,priteau,"Allow preemptible instances to run on unused hosts

Preemptible instances run on a configurable host aggregate, using the
freepool by default.

Compared to the proposed spec, the use of a separate aggregate allows to
better control scheduling of preemptibles. For example, we can prevent
preemptible instances from being launched on hosts that are about to be
used by reservations. To be used, this feature will need additional
support in the main Blazar service.

Blueprint: blazar-preemptible-instances
Change-Id: I294c22b22a1d9e3df01c56a518476a33782d1196
"
openstack%2Fpuppet-openstack_extras~stable%2Fxena~I29d6a3043260a3258266b87ca50bcc90befb42ee,openstack/puppet-openstack_extras,stable/xena,default-release,I29d6a3043260a3258266b87ca50bcc90befb42ee,Use stable/xena release by default,MERGED,2022-02-05 16:20:26.000000000,2022-02-07 16:41:12.000000000,2022-02-07 16:41:12.000000000,16,16,0,827980,ff5aacfd3ef407de0132f1f6d64c2a655feefaf1,9,3,2,5,9816,Takashi Kajinami,kajinamit,"Use stable/xena release by default

... instead of old stable/victoria.

Change-Id: I29d6a3043260a3258266b87ca50bcc90befb42ee
(cherry picked from commit 0271adfc05738c34ae148c28ae98b14828c85c81)
"
openstack%2Fpuppet-mistral~master~I5b667a809caf746b7ea72b70f475438523361bd4,openstack/puppet-mistral,master,key-deps,I5b667a809caf746b7ea72b70f475438523361bd4,Ensure keystone resources are created during service startup,MERGED,2022-02-06 15:16:57.000000000,2022-02-07 16:41:10.000000000,2022-02-07 16:41:10.000000000,2,0,0,828045,15d5e9f99bb655d68fe454b8386a9c3d1a54c4de,9,3,1,1,9816,Takashi Kajinami,kajinamit,"Ensure keystone resources are created during service startup

This change ensures keystone resources like the mistral service user
are created before completing service setup, so that we can use
the service::end anchor to ensure Mistral service is fully available.

Change-Id: I5b667a809caf746b7ea72b70f475438523361bd4
"
openstack%2Fpuppet-watcher~master~I84ad764718f7dbd7b9c8209b2cd29bf531dff4c2,openstack/puppet-watcher,master,key-deps,I84ad764718f7dbd7b9c8209b2cd29bf531dff4c2,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:24:30.000000000,2022-02-07 16:31:07.000000000,2022-02-07 16:31:07.000000000,1,7,0,828053,b4a725b35486dba288ade4bab4e0b6fc194bb5f6,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I84ad764718f7dbd7b9c8209b2cd29bf531dff4c2
"
openstack%2Fpuppet-aodh~master~Ie36c8a096c33a475b21a1dc02a04de49d35be9c9,openstack/puppet-aodh,master,key-deps,Ie36c8a096c33a475b21a1dc02a04de49d35be9c9,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 07:58:14.000000000,2022-02-07 16:24:13.000000000,2022-02-07 16:24:13.000000000,1,6,1,828026,1b70d0c3802df6a86fc3eb6f523ec9b6f7f17fa2,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ie36c8a096c33a475b21a1dc02a04de49d35be9c9
"
openstack%2Fpuppet-octavia~master~If2d0dce800e767f7341b718a44af0edb97e26946,openstack/puppet-octavia,master,cleanup-db-params,If2d0dce800e767f7341b718a44af0edb97e26946,Clean up deprecated database parameters,MERGED,2022-02-07 07:31:00.000000000,2022-02-07 16:04:12.000000000,2022-02-07 15:57:13.000000000,26,118,0,828073,f3646c17556ef0b6fd4cf3eb81b6751c7f0aec7b,10,3,2,3,9816,Takashi Kajinami,kajinamit,"Clean up deprecated database parameters

Change-Id: If2d0dce800e767f7341b718a44af0edb97e26946
"
openstack%2Fcloudkitty-tempest-plugin~master~I18f469a60f70afeffa470dbf9db56b64871607f1,openstack/cloudkitty-tempest-plugin,master,xena-stable-jobs,I18f469a60f70afeffa470dbf9db56b64871607f1,Add stable/xena jobs on master gate,MERGED,2022-01-19 00:40:17.000000000,2022-02-07 15:57:11.000000000,2022-02-07 15:57:11.000000000,6,9,0,825194,ac9b0905166d2936fa2ecaf1af8e75d95f80b913,7,3,1,1,8556,Ghanshyam,ghanshyam,"Add stable/xena jobs on master gate

We have stable/xena released so we should add
their job on master gate to keep branchless tempest
plugins compatible to stable branch.

This also removes the stable/train job as that is in EM
state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I18f469a60f70afeffa470dbf9db56b64871607f1
"
openstack%2Fceilometer~stable%2Fxena~I93b6e92a5f46de5486f30a99fa3917a5932f7360,openstack/ceilometer,stable/xena,nova-meta-versions-stable/xena,I93b6e92a5f46de5486f30a99fa3917a5932f7360,Support two nova metadata versions in instance XML,MERGED,2022-02-07 10:07:03.000000000,2022-02-07 15:55:51.000000000,2022-02-07 15:53:35.000000000,36,11,0,827967,c724307a080469e25950e25093b3e70b92794415,7,2,1,2,16137,Tobias Urdin,tobasco,"Support two nova metadata versions in instance XML

this is followup to I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981

In order to support discovery of instances booted before Wallaby,
ceilometer must support working with both 1.0 (old, Victoria and before)
and 1.1 (new, Wallaby and for now newer) versions of nova metadata.

Change-Id: I93b6e92a5f46de5486f30a99fa3917a5932f7360
Related-Bug: #1930446
(cherry picked from commit 2fc72043d31af7acd45f918eeb290d9d7564d168)
"
openstack%2Fkayobe~stable%2Ftrain~Ie9b15db6563546ede9ce9735292ec566d540432a,openstack/kayobe,stable/train,story/2009721-stable/train,Ie9b15db6563546ede9ce9735292ec566d540432a,Fix installation prefix detection,ABANDONED,2021-12-06 12:06:53.000000000,2022-02-07 15:55:46.000000000,,16,6,0,820503,e42baedeed513c6e2147a2e5b07c252de8481356,3,1,1,3,15197,Pierre Riteau,priteau,"Fix installation prefix detection

When multiple 'lib' components are present in the installation path,
Kayobe fails to detect the right installation prefix which causes
various commands to raise an error.

Rewrite logic to detect the last 'lib' component in path instead. This
should work as long as this function is not stored under a lib directory
inside the Kayobe source tree.

Change-Id: Ie9b15db6563546ede9ce9735292ec566d540432a
Story: 2009721
Task: 44109
(cherry picked from commit e438189a198a3bc656a99be9d82793ddf6077c53)
"
openstack%2Fpuppet-octavia~master~Ia6cc999d7a008dbd51b28b4c9bc869c723a8be83,openstack/puppet-octavia,master,key-deps,Ia6cc999d7a008dbd51b28b4c9bc869c723a8be83,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:19:21.000000000,2022-02-07 15:52:12.000000000,2022-02-07 15:52:12.000000000,1,6,0,828047,6732e2664d027178fd6a7f284b0064d7d220b960,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ia6cc999d7a008dbd51b28b4c9bc869c723a8be83
"
openstack%2Fpuppet-octavia~master~I7a0d4f170a2a58c635240ad7c305467df8f4af2e,openstack/puppet-octavia,master,,I7a0d4f170a2a58c635240ad7c305467df8f4af2e,Remove unused logic,MERGED,2022-02-06 14:01:25.000000000,2022-02-07 15:52:10.000000000,2022-02-07 15:52:10.000000000,5,9,0,828031,c1c20ee0e83281d675699f676882a8d8e5c863be,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Remove unused logic

The python-octaviaclient package is available in all distros we
currently support.

Change-Id: I7a0d4f170a2a58c635240ad7c305467df8f4af2e
"
openstack%2Fpuppet-tacker~master~I3457c3746f798548f6026b503f279d6ae94f7c32,openstack/puppet-tacker,master,key-deps,I3457c3746f798548f6026b503f279d6ae94f7c32,Ensure keystone resources are created during service startup,MERGED,2022-02-06 15:22:04.000000000,2022-02-07 15:47:33.000000000,2022-02-07 15:47:33.000000000,1,6,0,828050,cb1078196438f444c1d77852bf2a980fa456116d,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Ensure keystone resources are created during service startup

This change ensures keystone resources like the mistral service user
are created before completing service setup, so that we can use
the service::end anchor to ensure Mistral service is fully available.

Change-Id: I3457c3746f798548f6026b503f279d6ae94f7c32
"
openstack%2Fpuppet-cloudkitty~master~I7d1b55e83a097e558db9e1f315c1ee85256d9419,openstack/puppet-cloudkitty,master,key-deps,I7d1b55e83a097e558db9e1f315c1ee85256d9419,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:02:56.000000000,2022-02-07 15:44:48.000000000,2022-02-07 15:44:48.000000000,1,7,0,828036,3c3dc10c81966e9bec66a92954e007f5c8b68df1,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I7d1b55e83a097e558db9e1f315c1ee85256d9419
"
openstack%2Fpython-heatclient~master~I660fadc0b9798214719fe1a1aac0731584806503,openstack/python-heatclient,master,,I660fadc0b9798214719fe1a1aac0731584806503,setup.cfg: Replace dashes by underscores,MERGED,2022-02-07 07:47:29.000000000,2022-02-07 15:42:54.000000000,2022-02-07 15:39:13.000000000,4,4,1,828080,a9abc54844fd7deb25e6860f1114dd22db367281,10,5,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I660fadc0b9798214719fe1a1aac0731584806503
"
openstack%2Fpuppet-openstack-cookiecutter~master~I3cae6998ec9a2157f507650859e030c576a3cd8c,openstack/puppet-openstack-cookiecutter,master,,I3cae6998ec9a2157f507650859e030c576a3cd8c,Add support for MultiStrOpt,MERGED,2022-02-06 15:58:36.000000000,2022-02-07 15:42:45.000000000,2022-02-07 15:42:45.000000000,17,8,0,828056,a7b1d301490c317ff3ab9faf3ab84495dbd79f62,7,3,1,4,9816,Takashi Kajinami,kajinamit,"Add support for MultiStrOpt

This replaces the provider implementation of aodh_config type so that
MultiStrOpt, which is used by several options like
 - oslo_messaging_notifications/driver
 - oslo_policy/policy_dirs
are handled correctly.

Change-Id: I3cae6998ec9a2157f507650859e030c576a3cd8c
"
openstack%2Fpuppet-openstack-cookiecutter~master~I1c0739759c43996def7777c4f9aec667d45c2afc,openstack/puppet-openstack-cookiecutter,master,,I1c0739759c43996def7777c4f9aec667d45c2afc,Allow purging policy files,MERGED,2022-02-06 15:53:47.000000000,2022-02-07 15:42:43.000000000,2022-02-07 15:42:43.000000000,76,31,0,828055,740d1bb822e8543535a2fccb4f2eab4b5809422c,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Allow purging policy files

This change introduces the new purge_config parameter to the policy
class so that any policy rules not managed by puppet manifests can be
cleared.

Change-Id: I1c0739759c43996def7777c4f9aec667d45c2afc
Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>
Depends-On: https://review.opendev.org/802305
"
openstack%2Fpuppet-manila~master~Iccaebec444416f77ff90e1ff62de2de486c802c9,openstack/puppet-manila,master,rootwrap,Iccaebec444416f77ff90e1ff62de2de486c802c9,Add unit tests of manila::config,MERGED,2022-02-05 10:18:35.000000000,2022-02-07 15:35:14.000000000,2022-02-07 15:35:14.000000000,49,0,0,827945,3eaf89cd58dba239b969d5f69ae69da8c7c1be19,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Add unit tests of manila::config

Change-Id: Iccaebec444416f77ff90e1ff62de2de486c802c9
"
openstack%2Foslo.utils~stable%2Ftrain~I941750b4d49d2d75f0831b24d6dd17f4040f70a2,openstack/oslo.utils,stable/train,,I941750b4d49d2d75f0831b24d6dd17f4040f70a2,Fix regex used to mask password,MERGED,2022-02-04 10:09:29.000000000,2022-02-07 15:07:42.000000000,2022-02-07 15:05:51.000000000,35,1,1,827830,473f300b07641d79d5253208a4058e773857bec5,12,3,1,3,31245,Daniel Bengtsson,damani42,"Fix regex used to mask password

Some use cases are poorly handled by the regex used
to mask password. Indeed when the password contains
quotes or double quotes in the middle such as `pass""word`,
the mask_password method will return `***""word`.

For more details please see
https://bugs.launchpad.net/oslo.utils/+bug/1949623

Closes-Bug: #1949623
Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2
(cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)
(cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)
(cherry picked from commit 143d3fbfa1e04778884de5acc08fa6f7fdabb265)
(cherry picked from commit 65aa4226d4bf286468da6df6759e364c1eb3e049)
(cherry picked from commit 5e9dfa3408a6fac7e870a9b86ee774b5fd71a595)
"
openstack%2Fcharm-manila-ganesha~master~I4236cb4784062807d53381380d9d161ce2f450ee,openstack/charm-manila-ganesha,master,bug/1880644,I4236cb4784062807d53381380d9d161ce2f450ee,Use hacluster.add_location(),MERGED,2022-02-04 17:33:08.000000000,2022-02-07 15:05:33.000000000,2022-02-07 15:05:33.000000000,6,16,0,827889,f2d9ed37090607676c5c6b54ea797c55e228d2af,7,3,1,1,2424,Felipe Reyes,freyes,"Use hacluster.add_location()

This change removes the workaround that was needed when the hacluster
interface didn't have a method to define colocations.

Related-Bug: #1880644
Change-Id: I4236cb4784062807d53381380d9d161ce2f450ee
"
openstack%2Fpython-ironic-inspector-client~master~I8cc51ddb1130cebbb9ee68b1f2abc1e7849c1fa9,openstack/python-ironic-inspector-client,master,,I8cc51ddb1130cebbb9ee68b1f2abc1e7849c1fa9,setup.cfg: Replace dashes by underscores,MERGED,2022-02-07 07:48:14.000000000,2022-02-07 15:02:24.000000000,2022-02-07 15:00:48.000000000,4,4,1,828081,61a323fac9497d53dbbbcb41f6a3c46961b1eb37,7,2,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I8cc51ddb1130cebbb9ee68b1f2abc1e7849c1fa9
"
openstack%2Fcinder~master~Ide303685a4cd1477c319b36e67a3b05c8d129126,openstack/cinder,master,off-book,Ide303685a4cd1477c319b36e67a3b05c8d129126,Update volume api microversion doc and tests,MERGED,2021-05-13 13:50:33.000000000,2022-02-07 14:35:44.000000000,2021-08-03 17:19:57.000000000,1862,121,12,791239,dab5df1747a47570cc48c2dad663afce1a25be41,48,4,4,59,9535,Gorka Eguileor,Gorka,"Update volume api microversion doc and tests

We have many microversions but we but we haven't kept the samples, docs,
and tests up to date with them.

Of the many microversions this patch will focus on the ones that have
updated the fields returned for volumes updating the docs, adding the
appropriate json samples, updating the tests, and updating the
contributor docs to highlight the need to keep these up to date.

Some convenience methods have been added to facilitate the testing:

- use_versions: class decorator that allows us to run the same tests
  with different microversions, each using their respective json and
  templates.

- override_mv: method decorator to change the microversion in a single
  test.

- common_api_sample: context manager to use the base sample instead of a
  microversion specific one.

Change-Id: Ide303685a4cd1477c319b36e67a3b05c8d129126
"
openstack%2Fcinder~master~I3df06461ec4b4e770067714f82ca856800eadd6f,openstack/cinder,master,824031,I3df06461ec4b4e770067714f82ca856800eadd6f,"NO merge, test lightbits third party ci",ABANDONED,2022-01-10 16:57:42.000000000,2022-02-07 14:24:23.000000000,,1,0,49,824031,552192461dcb0812d8a494a8153ae3bc6e11b446,196,1,4,1,33612,yuval,yuval,"NO merge, test lightbits third party ci

Change-Id: I3df06461ec4b4e770067714f82ca856800eadd6f
"
openstack%2Ftripleo-quickstart-extras~master~I70cbf111e0fdce47386cac3b50688cbf86558dd5,openstack/tripleo-quickstart-extras,master,,I70cbf111e0fdce47386cac3b50688cbf86558dd5,Make sure container_build_id is removed before writing new one,MERGED,2021-12-17 00:29:34.000000000,2022-02-07 14:15:06.000000000,2022-02-07 14:15:06.000000000,8,0,4,822060,1c264319f59bf341893b5f324fed01d2f825b903,29,7,1,1,6681,Brent Eagles,beagles,"Make sure container_build_id is removed before writing new one

If the container_build_id file exists, copying in a new one may fail
because of permission issues on os.rename().

Change-Id: I70cbf111e0fdce47386cac3b50688cbf86558dd5
"
openstack%2Fpython-aodhclient~master~I5aa097573e323ec0c34cb9d621e85d5259195f21,openstack/python-aodhclient,master,setup-cfg,I5aa097573e323ec0c34cb9d621e85d5259195f21,setup.cfg: Replace dashes by underscores,MERGED,2022-02-07 07:43:04.000000000,2022-02-07 13:42:54.000000000,2022-02-07 13:41:07.000000000,4,4,0,828077,20f4372c00e0d33a9e0c4b3ce38fe8b07de5afef,7,2,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I5aa097573e323ec0c34cb9d621e85d5259195f21
"
openstack%2Ftripleo-validations~master~I90171b424f0678001c2ca53a1fee819993fff6f5,openstack/tripleo-validations,master,image-serve/1959864,I90171b424f0678001c2ca53a1fee819993fff6f5,Substituting 'localhost' for wildcard '*' in image-serve validation,MERGED,2022-02-03 12:31:07.000000000,2022-02-07 13:15:30.000000000,2022-02-07 13:13:10.000000000,2,2,6,827654,16dfbae6a0b36922497a124426d59a934b9d4256,16,5,2,1,32926,Jiri Podivin,jpodivin,"Substituting 'localhost' for wildcard '*' in image-serve validation

Recent changes to the httpd config template[0] have led to
failure of the image-serve validation during the ""Ensure registry does answer""
task as the '*' host was not reachable.

Substitution of the 'localhost' for '*' should resolve the issue.

Same modification was applied to the ""Ensure port is open"" task
for the sake of consistency.

Closes-Bug: #1959864

[0] https://opendev.org/openstack/tripleo-ansible/commit/9b2ffd10dccefcb5462a12ffb86d1eaf8b64adb5
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I90171b424f0678001c2ca53a1fee819993fff6f5
"
openstack%2Fgovernance~master~I24e21c78b4424b974d1f55c57ff62f91820bb66b,openstack/governance,master,project-update,I24e21c78b4424b974d1f55c57ff62f91820bb66b,Add dummy charm project,ABANDONED,2022-02-01 15:43:49.000000000,2022-02-07 12:17:07.000000000,,4,0,0,827312,1722708d581366397f7641904d4eb222c1d76eab,3,1,1,1,31289,Aurelien Lourot,lourot,"Add dummy charm project

The default git branch in the upstream project is
`main` instead of `master. The goal here is to verify
if such a project can successfully be imported.

Depends-On: I5e4db08f9d7600f7ea045907813d4fb0f6264436
Change-Id: I24e21c78b4424b974d1f55c57ff62f91820bb66b
"
openstack%2Fproject-config~master~I5e4db08f9d7600f7ea045907813d4fb0f6264436,openstack/project-config,master,new-project,I5e4db08f9d7600f7ea045907813d4fb0f6264436,Add dummy charm project,ABANDONED,2022-02-01 15:31:38.000000000,2022-02-07 12:16:49.000000000,,8,0,4,827307,bf6b539f68a51aa038f0018864150fdbdc7eac6e,8,2,3,2,31289,Aurelien Lourot,lourot,"Add dummy charm project

The default git branch in the upstream project is
`main` instead of `master. The goal here is to verify
if such a project can successfully be imported.

Change-Id: I5e4db08f9d7600f7ea045907813d4fb0f6264436
Required-By: I24e21c78b4424b974d1f55c57ff62f91820bb66b
"
openstack%2Fneutron~stable%2Fxena~Iab45da2c1b0be682ab56303ee9b4ee12e09721d4,openstack/neutron,stable/xena,,Iab45da2c1b0be682ab56303ee9b4ee12e09721d4,[stable-only] Remove binding:profile.allocation when QoS policy is changed to None,NEW,2021-11-15 13:46:25.000000000,2022-02-07 12:11:26.000000000,,78,33,2,817951,a9724e04547a6b27f4606dc1f814a447fa49d591,16,5,3,2,33652,Przemyslaw Szczerbik,pszczerbik,"[stable-only] Remove binding:profile.allocation when QoS policy is changed to None

This patch fixes an issue with Placement allocation update, when
QoS policy is changed in following sequence:

QoS(min_bw) -> None -> QoS(min_bw)

When QoS policy is set to None, it's necessary to remove RP UUID from
binding:profile.allocation. This prevents an error caused by an attempt
to update non-existent Placement allocation record during subsequent QoS
policy updates.

This is critical, as not all users use Placement enforcement, but
they still expect dataplane enforcement to happen.

This commit is based on 8db15cb2f3dec37441103df15ff28c7e72de682c.

Closes-Bug: #1915856
Change-Id: Iab45da2c1b0be682ab56303ee9b4ee12e09721d4
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I8ee338c3f3e20f1826d98efb38d3b21fefda5031,openstack/tripleo-heat-templates,stable/victoria,bug/1959726-stable/wallaby-stable/victoria,I8ee338c3f3e20f1826d98efb38d3b21fefda5031,Add parameter IronicIPXEUefiSnpOnly,MERGED,2022-02-05 04:16:26.000000000,2022-02-07 11:58:07.000000000,2022-02-07 11:56:32.000000000,21,0,0,827908,371bb6528fa25935770ba6e4023048bda9f2110e,8,3,1,2,24245,Harald Jensås,harald.jensas,"Add parameter IronicIPXEUefiSnpOnly

Add new parameter IronicIPXEUefiSnpOnly (default: true).
When `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi
is used.

'snponly.efi' is the default in puppet-ironic master branch, however
in Wallaby and earlier releases 'ipxe.efi' is the default. Since
'ipxe.efi' is not compatible with a lot of hardware TripleO should
change this default.

Conflicts:
  deployment/ironic/ironic-conductor-container-puppet.yaml

Related: RHBZ#2049179
Closes-Bug: 1959726
Change-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031
(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)
"
openstack%2Ftripleo-ansible~master~I73b0d054644eb43016d61299b7c372ca86b18472,openstack/tripleo-ansible,master,historical_bool,I73b0d054644eb43016d61299b7c372ca86b18472,historical variable evaluated as bool,MERGED,2022-02-06 23:10:54.000000000,2022-02-07 11:56:35.000000000,2022-02-07 11:56:35.000000000,2,2,0,828058,ca7425d3728b4ba16a283440960fd6e180f24c74,8,5,1,1,32968,Juan Larriba,jlarriba,"historical variable evaluated as bool

The tripleo_backup_and_restore_historical variable is checked by some
tasks using when, but as it lacks the | bool extension, it is being
evaluated as string, meaning that ""false"" is considered a valid and not
empty string and as such evaluated as true. This patch fixes this
behaviour by evaluating the variable as as boolean value

Change-Id: I73b0d054644eb43016d61299b7c372ca86b18472
"
openstack%2Fnova~master~I1973d5bb711a3898d7e21525723701fa9b88978a,openstack/nova,master,bug/1959899,I1973d5bb711a3898d7e21525723701fa9b88978a,DNM: troubleshoot nova-next tagged attach test,NEW,2022-02-03 13:10:06.000000000,2022-02-07 11:52:02.000000000,,0,0,2,827661,89c9eb8e8415175e0b9a3a0a58caef4827a1b58a,13,1,1,1,9708,Balazs Gibizer,gibi,"DNM: troubleshoot nova-next tagged attach test

Depends-On: https://review.opendev.org/c/openstack/tempest/+/827659
Change-Id: I1973d5bb711a3898d7e21525723701fa9b88978a
Related-Bug: #1959899
"
openstack%2Fnova~master~I85183b36499ba93364c113c7746752d0178eb6d9,openstack/nova,master,bug/1943724,I85183b36499ba93364c113c7746752d0178eb6d9,DNM: trigger nova-next with new tempest test,NEW,2022-01-13 16:40:22.000000000,2022-02-07 11:51:13.000000000,,0,0,3,824607,e1cf58d6f383e85dfad68cad4ac70a1f7912ae00,35,1,2,1,9708,Balazs Gibizer,gibi,"DNM: trigger nova-next with new tempest test

Depends-On: https://review.opendev.org/c/openstack/tempest/+/809198
Change-Id: I85183b36499ba93364c113c7746752d0178eb6d9
"
openstack%2Fnova~master~I6903ce53b9b91325f7268cf2ebd02e4488579560,openstack/nova,master,bug/1958075,I6903ce53b9b91325f7268cf2ebd02e4488579560,Move ReaderWriterLock to the test tree,MERGED,2022-01-17 12:35:38.000000000,2022-02-07 11:49:51.000000000,2022-01-18 06:26:58.000000000,38,37,6,824931,a341851f15060efc2e6e30717339c47c015ed0b7,28,4,1,4,9708,Balazs Gibizer,gibi,"Move ReaderWriterLock to the test tree

The commit I168fffac8002f274a905cfd53ac4f6c9abe18803 added a wrapper
around fasteners.ReaderWriterLock to fix up an issue with eventlet. But
the wrapper was added to nova.utils module that is use not only by the
nova tests but also the nova production code. This made the fixture
library a dependency of the nova production code. While the current
ReaderWriterLock usage only limited to the nova test sub tree. The
I712f88fc1b6053fe6d1f13e708f3bd8874452a8f commit fix the issue of not
having fixtures in the nova requirements.txt. However I think a better
fix is to move the wrapper to the test subtree instead. This patch does
that and restores the state of the requirements.txt

Change-Id: I6903ce53b9b91325f7268cf2ebd02e4488579560
Related-Bug: #1958075
"
openstack%2Fpuppet-nova~stable%2Fwallaby~Iff9daf3d284c725d40ecfb85500d77951c3fefcd,openstack/puppet-nova,stable/wallaby,bug/1959601,Iff9daf3d284c725d40ecfb85500d77951c3fefcd,CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists,MERGED,2022-02-03 09:47:30.000000000,2022-02-07 11:17:40.000000000,2022-02-07 11:17:40.000000000,53,3,3,827631,5c8d68ab5e207ec1784ce4c1a9d29f778d4cfaf8,15,6,2,4,16312,Alfredo Moralejo,amoralej,"CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists

Last build of libvirt in CentOS9 has removed default config files in
/etc/sysconfig . This is making some file_line resources to fail as
the original files no longer exist.

This patch is creating empty files if the target files don't exist, so
that this is compatible with centos8 and centos9 (before and after
default config files removal).

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529

Closes-Bug: #1959601
Change-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd
(cherry picked from commit 99830f8a2d5f3f2b56ed4c050b36fd363c8911e6)
(cherry picked from commit b9398853358be5cb2075cdbb18eff8fd9e22b2dd)
"
openstack%2Foctavia-tempest-plugin~master~Ia1ecf95d269af2f6edbd562f31fb69c2cc884cf0,openstack/octavia-tempest-plugin,master,xena-stable-jobs,Ia1ecf95d269af2f6edbd562f31fb69c2cc884cf0,Add stable/xena jobs on master gate,MERGED,2022-01-19 01:43:55.000000000,2022-02-07 11:04:17.000000000,2022-02-07 10:58:45.000000000,35,34,11,825208,6b04038940d5b39539f55555c8bfe7f9d1646ccb,32,3,2,2,8556,Ghanshyam,ghanshyam,"Add stable/xena jobs on master gate

We have stable/xena released so we should add
their job on master gate to keep branchless tempest
plugins compatible to stable branch.

This also removes the stable/train job as that is in EM
state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ia1ecf95d269af2f6edbd562f31fb69c2cc884cf0
"
openstack%2Fopenstack-ansible-os_gnocchi~master~Idaec9f48bb1c7aff926071979773bca97f9ef2b3,openstack/openstack-ansible-os_gnocchi,master,,Idaec9f48bb1c7aff926071979773bca97f9ef2b3,Remove apache to uwsgi migration tasks and variables,MERGED,2022-02-02 09:12:25.000000000,2022-02-07 10:31:24.000000000,2022-02-07 10:29:22.000000000,0,44,0,827439,24356495c324463b2911bc46ef5176754b43b66b,10,3,2,4,25023,Jonathan Rosser,jrosser,"Remove apache to uwsgi migration tasks and variables

Change-Id: Idaec9f48bb1c7aff926071979773bca97f9ef2b3
"
openstack%2Fnova~master~I44920f20213462a3abe743ccd38b356d6490a7b4,openstack/nova,master,docs,I44920f20213462a3abe743ccd38b356d6490a7b4,"docs: Follow-ups for cells v2, architecture docs",MERGED,2022-02-01 18:32:50.000000000,2022-02-07 10:29:41.000000000,2022-02-07 10:27:51.000000000,103,114,17,827336,136f1deb6ec312c1ddd6a1356e2e2dbf6290a2e4,26,4,3,5,15334,Stephen Finucane,sfinucan,"docs: Follow-ups for cells v2, architecture docs

Based on review feedback on [1] and [2].

[1] If39db50fd8b109a5a13dec70f8030f3663555065
[2] I518bb5d586b159b4796fb6139351ba423bc19639

Change-Id: I44920f20213462a3abe743ccd38b356d6490a7b4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpuppet-nova~stable%2Fxena~Iff9daf3d284c725d40ecfb85500d77951c3fefcd,openstack/puppet-nova,stable/xena,bug/1959601,Iff9daf3d284c725d40ecfb85500d77951c3fefcd,CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists,MERGED,2022-02-02 23:05:50.000000000,2022-02-07 10:24:02.000000000,2022-02-07 10:24:02.000000000,53,3,2,827407,b9398853358be5cb2075cdbb18eff8fd9e22b2dd,13,8,1,4,9816,Takashi Kajinami,kajinamit,"CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists

Last build of libvirt in CentOS9 has removed default config files in
/etc/sysconfig . This is making some file_line resources to fail as
the original files no longer exist.

This patch is creating empty files if the target files don't exist, so
that this is compatible with centos8 and centos9 (before and after
default config files removal).

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529

Closes-Bug: #1959601
Change-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd
(cherry picked from commit 99830f8a2d5f3f2b56ed4c050b36fd363c8911e6)
"
openstack%2Freleases~master~Ic06f0a9e70386de2e0a1a757c72a1f4cdbdd2d19,openstack/releases,master,manila,Ic06f0a9e70386de2e0a1a757c72a1f4cdbdd2d19,Add release liaisons for manila,MERGED,2022-01-26 16:13:59.000000000,2022-02-07 10:21:31.000000000,2022-02-07 10:21:31.000000000,6,0,1,826496,8ba936119404943a60915ff00a60c78fb46488bf,9,7,1,1,16643,Goutham Pacha Ravi,gouthamr,"Add release liaisons for manila

A couple of other maintainers can help propose
and review releases.

Change-Id: Ic06f0a9e70386de2e0a1a757c72a1f4cdbdd2d19
"
openstack%2Freleases~master~If10337ef96594c5432a82d35a64a457446b8a246,openstack/releases,master,oslo-victoria,If10337ef96594c5432a82d35a64a457446b8a246,[victoria] release oslo deliverables,MERGED,2022-02-03 14:18:14.000000000,2022-02-07 10:16:33.000000000,2022-02-07 10:16:33.000000000,4,0,1,827672,295a157c246220e99918a8dcc8c66e3d8ae4570a,8,4,1,1,28522,Hervé Beraud,hberaud,"[victoria] release oslo deliverables

Change-Id: If10337ef96594c5432a82d35a64a457446b8a246
"
openstack%2Freleases~master~I2eb663d659d180566b1ad9e54844584d9c75fcb9,openstack/releases,master,ironic-xena-1821,I2eb663d659d180566b1ad9e54844584d9c75fcb9,Release ironic 18.2.1 for xena,MERGED,2022-01-25 08:33:12.000000000,2022-02-07 10:16:30.000000000,2022-02-07 10:16:30.000000000,4,0,3,826254,5e8436ae019d11c2e49624d1304b35c5de984b2f,11,5,1,1,23851,Riccardo Pittau,elfosardo,"Release ironic 18.2.1 for xena

Change-Id: I2eb663d659d180566b1ad9e54844584d9c75fcb9
"
openstack%2Freleases~master~I431930ef1ca69a324898acc36d6b4c30fa892e44,openstack/releases,master,oslo-xena,I431930ef1ca69a324898acc36d6b4c30fa892e44,[xena] release oslo deliverables,MERGED,2022-02-03 14:22:27.000000000,2022-02-07 10:16:28.000000000,2022-02-07 10:16:28.000000000,8,0,2,827675,8c866a0ec436c7fbb19012ca29422737365e3997,10,4,1,2,28522,Hervé Beraud,hberaud,"[xena] release oslo deliverables

Change-Id: I431930ef1ca69a324898acc36d6b4c30fa892e44
"
openstack%2Fceilometer~master~I93b6e92a5f46de5486f30a99fa3917a5932f7360,openstack/ceilometer,master,nova-meta-versions,I93b6e92a5f46de5486f30a99fa3917a5932f7360,Support two nova metadata versions in instance XML,MERGED,2022-01-10 12:33:35.000000000,2022-02-07 09:55:58.000000000,2022-02-07 09:54:23.000000000,36,11,8,823976,2fc72043d31af7acd45f918eeb290d9d7564d168,15,4,2,2,9542,Pavlo Shchelokovskyy,pshchelo,"Support two nova metadata versions in instance XML

this is followup to I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981

In order to support discovery of instances booted before Wallaby,
ceilometer must support working with both 1.0 (old, Victoria and before)
and 1.1 (new, Wallaby and for now newer) versions of nova metadata.

Change-Id: I93b6e92a5f46de5486f30a99fa3917a5932f7360
Related-Bug: #1930446
"
openstack%2Fhorizon~master~I5a389e5fd04ff07cd0821712a56a319e21d91891,openstack/horizon,master,,I5a389e5fd04ff07cd0821712a56a319e21d91891,Make stack template page handle session expiration,MERGED,2021-11-24 15:24:39.000000000,2022-02-07 09:51:26.000000000,2022-02-07 05:58:11.000000000,5,0,3,819124,0bba95f190594120c21b8aac1852f113eb902ea6,20,4,3,1,27838,Vadym Markov,vmarkov,"Make stack template page handle session expiration

Currently, stack template diagram ignores user session timeout and
silently tries to update diagram data getting 401 response for the every
request. Proposed patch redirects to logout if Heat API returns 401 or 403

Closes-Bug: #1952112
Change-Id: I5a389e5fd04ff07cd0821712a56a319e21d91891
"
openstack%2Fcharm-barbican-vault~master~Icf3da0aa6e1820b10f211eb5ab779ff5d3d3f394,openstack/charm-barbican-vault,master,charmhub-migration-master,Icf3da0aa6e1820b10f211eb5ab779ff5d3d3f394,Update to build using charmcraft,MERGED,2022-01-26 12:08:25.000000000,2022-02-07 09:45:35.000000000,2022-02-07 09:45:35.000000000,165,636,3,826450,c3718862fe8b6388fb861574df671bb384ce4f6e,20,4,3,23,20870,Alex Kavanagh,ajkavanagh,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: Icf3da0aa6e1820b10f211eb5ab779ff5d3d3f394
"
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fvictoria~I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b,openstack/openstack-ansible-lxc_container_create,stable/victoria,osa/remove-centos8,I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b,Remove legacy centos-8 jobs,MERGED,2022-02-07 07:45:32.000000000,2022-02-07 09:34:55.000000000,2022-02-07 09:30:04.000000000,0,18,0,827960,ca18916930b05575e44279d8a11e08345f9581f4,10,3,1,2,25023,Jonathan Rosser,jrosser,"Remove legacy centos-8 jobs

Change-Id: I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b
(cherry picked from commit e68754dc009059f9dc7fdd394eef327082ca384a)
"
openstack%2Freleases~master~I4264e264e5160eb6fbcca5807afbeef39c8d197f,openstack/releases,master,victoria-stable,I4264e264e5160eb6fbcca5807afbeef39c8d197f,Release trove for stable/victoria,MERGED,2022-01-21 15:47:45.000000000,2022-02-07 09:29:04.000000000,2022-02-07 09:29:04.000000000,4,0,3,825827,ab94a54bd801179b3b669d5c0b50bf06ecca6f94,14,4,2,1,17685,Elod Illes,elod.illes,"Release trove for stable/victoria

This release picks up new commits to trove since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I4264e264e5160eb6fbcca5807afbeef39c8d197f
"
openstack%2Fcyborg~master~Ib7ab4565dc3f1b1fc0ca4330884d75dec0817b3b,openstack/cyborg,master,,Ib7ab4565dc3f1b1fc0ca4330884d75dec0817b3b,Add ut for placement API,NEW,2021-04-08 08:22:51.000000000,2022-02-07 09:27:50.000000000,,37,0,4,785340,0a1864573e249121caf5403a09472ee2e122042c,5,3,2,1,31412,Wenping Song,songwenping,"Add ut for placement API

Add Placement get API ut

Change-Id: Ib7ab4565dc3f1b1fc0ca4330884d75dec0817b3b
"
openstack%2Frequirements~stable%2Fvictoria~I96bc4d745e6846961573ffd7c7326aa7f725ef2e,openstack/requirements,stable/victoria,,I96bc4d745e6846961573ffd7c7326aa7f725ef2e,Bump pyroute2 version to 0.6.5,ABANDONED,2022-02-07 09:00:44.000000000,2022-02-07 09:26:54.000000000,,8,1,0,828090,14908261b2eb0632d481df910266f078e8bd5c60,3,0,1,1,6773,Lucas Alvares Gomes,lucasagomes,"Bump pyroute2 version to 0.6.5

The version 0.5.14 of pyroute2 has a memory leak problem [0] in its NDB
module which causes services using it to be killed by the OOM killer.
Bumping the pyroute2 version to 0.6.5 fixes the problem and matches the
pyroute2 version used in stable/xena.

[0] https://github.com/svinota/pyroute2/issues/789

Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I96bc4d745e6846961573ffd7c7326aa7f725ef2e
"
openstack%2Fglance~master~I060d8247c7b09f63990ea411e6c6a056bb50410d,openstack/glance,master,fips-compatibility,I060d8247c7b09f63990ea411e6c6a056bb50410d,Add fips check jobs,MERGED,2021-05-11 00:51:46.000000000,2022-02-07 09:22:48.000000000,2022-02-07 09:18:00.000000000,44,4,37,790536,0f13754f84919ce095cd6962e4b369c926738b77,156,7,37,3,9914,Ade Lee,alee,"Add fips check jobs

Some jobs have been modified to run to confirm that functionality is
still working when FIPS is enabled on the nodes.

As the FIPS tests currently run on centos nodes, code is added
to the test-setup script to set up the databases correctly.  Also had
to increase the swap space on the nodes; see [0] for an explanation.

The current FIPS jobs run using python 3.6 on centos-8-stream.  We will
modify these to run on centos-9-stream and python 3.9 in a
subsequent patch.

[0] https://review.opendev.org/c/openstack/devstack/+/803706

Change-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d
"
openstack%2Fopenstack-ansible-plugins~master~Iacfa3ac92aba39e75934f3cf0814fc4cff20d262,openstack/openstack-ansible-plugins,master,,Iacfa3ac92aba39e75934f3cf0814fc4cff20d262,Convert infra-journal-remote playbook to role,MERGED,2022-01-14 16:36:59.000000000,2022-02-07 09:13:49.000000000,2022-02-07 09:12:22.000000000,271,0,0,824731,9bfa2597ed341e94edd76f9a891a76cc0db3fc53,8,3,1,8,28619,Dmitriy Rabotyagov,noonedeadpunk,"Convert infra-journal-remote playbook to role

This creates a role that can be re-usable outside of the OSA
and distributed now as collection instead of the playbook
infra-journal-remote.yml that was handling all tasks and logic.

This also adds some features like being able to provide multiple
destinations for journal and makes things more configurable.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/816531
Change-Id: Iacfa3ac92aba39e75934f3cf0814fc4cff20d262
"
openstack%2Fcharm-manila~master~I7e48c6515f48e77a4045bc5f899e8ca963e1671a,openstack/charm-manila,master,charmhub-migration-master,I7e48c6515f48e77a4045bc5f899e8ca963e1671a,Update to build using charmcraft,MERGED,2022-02-01 20:23:11.000000000,2022-02-07 08:46:18.000000000,2022-02-07 08:46:18.000000000,84,8,1,827356,9f3caabb33c93fe0dabf03540a6ce600712936e4,7,3,1,12,20870,Alex Kavanagh,ajkavanagh,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I7e48c6515f48e77a4045bc5f899e8ca963e1671a
"
openstack%2Fceilometermiddleware~master~Iafa5424d5c337226f5795f6e79b530f4e8b499e2,openstack/ceilometermiddleware,master,,Iafa5424d5c337226f5795f6e79b530f4e8b499e2,setup.cfg: Replace dashes with underscores,MERGED,2021-04-26 06:52:34.000000000,2022-02-07 08:40:02.000000000,2022-02-07 08:34:46.000000000,4,4,0,787920,f588aba8b51e5b4d498821b1e795f2f33f4773ad,8,3,1,1,30092,Xuan Yandong,xuanyandong,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: Iafa5424d5c337226f5795f6e79b530f4e8b499e2
"
openstack%2Fceilometermiddleware~stable%2Fxena~I7e395355cb008486fff1b1683364bad9e0e14980,openstack/ceilometermiddleware,stable/xena,add-xena-python-jobtemplates-stable/xena,I7e395355cb008486fff1b1683364bad9e0e14980,Add Python3 xena unit tests,MERGED,2022-02-06 12:03:59.000000000,2022-02-07 08:39:03.000000000,2022-02-07 08:34:45.000000000,1,1,0,827951,2f651b1e4652ccdadc9b2e6057957af0b48d143a,7,2,1,1,9816,Takashi Kajinami,kajinamit,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I7e395355cb008486fff1b1683364bad9e0e14980
(cherry picked from commit 335ea3f0b59a3e0531e94cfb677b3f82dd60aa80)
"
openstack%2Fpython-aodhclient~master~I26a2474826a83750f3b5546c0688cb282d780324,openstack/python-aodhclient,master,reno-xena,I26a2474826a83750f3b5546c0688cb282d780324,Update master for stable/xena,MERGED,2021-09-17 16:43:30.000000000,2022-02-07 08:28:02.000000000,2022-02-07 08:26:24.000000000,7,0,0,809849,bc7a4834db9e26c855be35c6826b62a60897b9fe,9,4,1,2,22816,OpenStack Release Bot,release,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I26a2474826a83750f3b5546c0688cb282d780324
"
openstack%2Fceilometermiddleware~master~If3069c1711dfda9ab19bf15c335c09db566bf3c1,openstack/ceilometermiddleware,master,add-yoga-python-jobtemplates,If3069c1711dfda9ab19bf15c335c09db566bf3c1,Add Python3 yoga unit tests,MERGED,2022-02-06 12:09:15.000000000,2022-02-07 08:21:21.000000000,2022-02-07 08:17:24.000000000,1,1,0,828027,acdfd6b04aefb5f70698dc72a6528f247d4f3a40,7,2,1,1,9816,Takashi Kajinami,kajinamit,"Add Python3 yoga unit tests

This is a patch to ensure unit testing is in place for all the of
the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

This patch is manually created, because the previous patch was not
merged before Xena release and release bot didn't create the automated
patch at that time.

Change-Id: If3069c1711dfda9ab19bf15c335c09db566bf3c1
"
openstack%2Fpython-aodhclient~stable%2Fxena~I55c5a8568ccd93e504120365d4d2f3107cf0aa06,openstack/python-aodhclient,stable/xena,add-xena-python-jobtemplates-stable/xena,I55c5a8568ccd93e504120365d4d2f3107cf0aa06,Add Python3 xena unit tests,MERGED,2022-02-06 12:04:21.000000000,2022-02-07 07:59:16.000000000,2022-02-07 07:55:00.000000000,1,1,0,827952,2aafc2729e5920fedfe9cef238a5904d60756c6a,7,2,1,1,9816,Takashi Kajinami,kajinamit,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I55c5a8568ccd93e504120365d4d2f3107cf0aa06
(cherry picked from commit 60df9b4035a40cfd1071731a966e99789e624dea)
"
openstack%2Fpython-aodhclient~master~I902f342800d6ea7dda3eff2a10f7c9dd54fa6151,openstack/python-aodhclient,master,add-yoga-python-jobtemplates,I902f342800d6ea7dda3eff2a10f7c9dd54fa6151,Add Python3 yoga unit tests,MERGED,2022-02-06 12:10:37.000000000,2022-02-07 07:59:08.000000000,2022-02-07 07:54:59.000000000,1,1,0,828028,d978eb75d129b9f2c9608341fc60ccc5d0aaa164,7,2,1,1,9816,Takashi Kajinami,kajinamit,"Add Python3 yoga unit tests

This is a patch to ensure unit testing is in place for all the of
the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

This patch is manually created, because the previous patch was not
merged before Xena release and release bot didn't create the automated
patch at that time.

Change-Id: I902f342800d6ea7dda3eff2a10f7c9dd54fa6151
"
openstack%2Fpython-mistralclient~master~Ie1e63254166a10f7c46187b57a5f80bbb0261ed0,openstack/python-mistralclient,master,,Ie1e63254166a10f7c46187b57a5f80bbb0261ed0,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-07 07:49:15.000000000,2022-02-07 07:52:37.000000000,,4,4,0,828082,fcb8ecb5b284ceca27d79b27e01d00d38f62c529,2,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ie1e63254166a10f7c46187b57a5f80bbb0261ed0
"
openstack%2Ftelemetry-tempest-plugin~master~I415bf77ae1bb7ff9360d74b827593ddfb016676e,openstack/telemetry-tempest-plugin,master,,I415bf77ae1bb7ff9360d74b827593ddfb016676e,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-07 07:50:22.000000000,2022-02-07 07:51:05.000000000,,4,4,0,828083,e188e0e64b7821cff38fd98894171ff0cd601b2f,2,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I415bf77ae1bb7ff9360d74b827593ddfb016676e
"
openstack%2Fceilometermiddleware~master~I366b1816ee9e77fd2a4ad74fa13cc02989475004,openstack/ceilometermiddleware,master,,I366b1816ee9e77fd2a4ad74fa13cc02989475004,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-07 07:43:40.000000000,2022-02-07 07:44:03.000000000,,4,4,0,828079,13e84654914b21e2092b448cc27142e878545feb,2,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I366b1816ee9e77fd2a4ad74fa13cc02989475004
"
openstack%2Ftripleo-common~master~Ied7c791327bce204e452a166a57628d0d1809349,openstack/tripleo-common,master,pmu,Ied7c791327bce204e452a166a57628d0d1809349,Skip pmu for now,ABANDONED,2021-09-27 14:04:51.000000000,2022-02-07 07:42:39.000000000,,0,1,0,811138,dcb35924a85a4f8ec568c8dfe023f4e9087ea008,7,4,1,1,4264,Matthias Runge,mrunge,"Skip pmu for now

it misses a dependency

Change-Id: Ied7c791327bce204e452a166a57628d0d1809349
"
openstack%2Fsecurity-specs~master~Ifba5759507c4aa73415052458ead08f831b057ce,openstack/security-specs,master,retire-repo,Ifba5759507c4aa73415052458ead08f831b057ce,Retire security-specs repo,MERGED,2022-01-31 21:07:01.000000000,2022-02-07 07:39:01.000000000,2022-02-07 07:39:01.000000000,8,1221,1,827177,f8c36fa51873159fb8f0b4b1e89bcd2df0460588,9,3,1,21,21420,Gage Hugo,ghugo,"Retire security-specs repo

This change removes the content from the security-specs repo
as part of the process to retire the repo.

Step 2 as defined in the guide[0].

[0] https://docs.opendev.org/opendev/infra-manual/latest/drivers.html#retiring-a-project

Change-Id: Ifba5759507c4aa73415052458ead08f831b057ce
"
openstack%2Freleases~master~I4a96f0cb79547b2d65abcb606472ea41b21c9ad6,openstack/releases,master,pbr-5.8.1,I4a96f0cb79547b2d65abcb606472ea41b21c9ad6,Release PBR 5.8.1,MERGED,2022-02-05 19:57:02.000000000,2022-02-07 07:37:12.000000000,2022-02-07 07:37:12.000000000,4,0,2,828016,a5f44dac22229fc19cd8b405f1e791304cfe4019,10,4,1,1,5263,Jeremy Stanley,fungi,"Release PBR 5.8.1

This releases PBR 5.8.1 fixing a regression which caused pbr.json
metadata files not to be included in packages built with the
previous version.

Change-Id: I4a96f0cb79547b2d65abcb606472ea41b21c9ad6
"
openstack%2Fproject-config~master~I752f9adcf34c15eefc4524c3933e4e493be883a4,openstack/project-config,master,retire-security-specs,I752f9adcf34c15eefc4524c3933e4e493be883a4,Retire security-specs repo,MERGED,2022-01-19 21:04:36.000000000,2022-02-07 07:34:26.000000000,2022-02-07 07:34:26.000000000,1,0,5,825401,f8df49c2338882cfa75565528173e06c727701cb,18,3,3,1,21420,Gage Hugo,ghugo,"Retire security-specs repo

The security-specs repo is slated for retirement[0] as per the
security-sig. This change is part of the step to end project
gating for the repo.

[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026323.html

Change-Id: I752f9adcf34c15eefc4524c3933e4e493be883a4
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I8ee338c3f3e20f1826d98efb38d3b21fefda5031,openstack/tripleo-heat-templates,stable/wallaby,bug/1959726-stable/wallaby,I8ee338c3f3e20f1826d98efb38d3b21fefda5031,Add parameter IronicIPXEUefiSnpOnly,MERGED,2022-02-05 04:06:42.000000000,2022-02-07 07:24:45.000000000,2022-02-07 07:23:29.000000000,21,0,0,827907,dea0c72b56ee581273d7330ccc373bb3c670e1b3,11,4,2,2,24245,Harald Jensås,harald.jensas,"Add parameter IronicIPXEUefiSnpOnly

Add new parameter IronicIPXEUefiSnpOnly (default: true).
When `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi
is used.

'snponly.efi' is the default in puppet-ironic master branch, however
in Wallaby and earlier releases 'ipxe.efi' is the default. Since
'ipxe.efi' is not compatible with a lot of hardware TripleO should
change this default.

Conflicts:
  deployment/ironic/ironic-conductor-container-puppet.yaml

Related: RHBZ#2049179
Closes-Bug: 1959726
Change-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031
(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)
"
openstack%2Fdevstack~master~I3009a9aced3c588142aef673e26c5b0811bd89b8,openstack/devstack,master,f35,I3009a9aced3c588142aef673e26c5b0811bd89b8,Test F35 without horizon,ABANDONED,2022-02-03 15:40:24.000000000,2022-02-07 06:58:21.000000000,,2,49,5,827699,eb8a32f73eaeb46b068f98efa9104ad624e40c55,9,1,1,1,13252,Dr. Jens Harbott,jrosenboom,"Test F35 without horizon

We know horizon is broken with py3.10, let's see what else we've got.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I3009a9aced3c588142aef673e26c5b0811bd89b8
"
openstack%2Fdevstack~stable%2Fxena~I947022db335f30756bad5eeec943b9e84b0b31aa,openstack/devstack,stable/xena,,I947022db335f30756bad5eeec943b9e84b0b31aa,Remove Fedora testing from stable branch,MERGED,2022-02-03 00:27:58.000000000,2022-02-07 06:55:14.000000000,2022-02-07 06:51:21.000000000,0,32,1,827578,381cf373ab44a98bd31e4b2bbfc17cc4047d8281,8,3,1,1,7118,Ian Wienand,iwienand,"Remove Fedora testing from stable branch

Fedora tests are maintained on master branch only

Change-Id: I947022db335f30756bad5eeec943b9e84b0b31aa
"
openstack%2Fpuppet-neutron~master~I141405a16a85e262b0c3427558fc59a48a5a6190,openstack/puppet-neutron,master,rp,I141405a16a85e262b0c3427558fc59a48a5a6190,Add support for the resource_provider_inventory_defaults parameters,MERGED,2022-02-04 06:13:15.000000000,2022-02-07 06:02:34.000000000,2022-02-07 06:01:16.000000000,84,1,1,827801,a6cc96f09860732b5753d84e0feed1b27b9f5351,14,3,3,5,9816,Takashi Kajinami,kajinamit,"Add support for the resource_provider_inventory_defaults parameters

This change introduces support of the following two parameters.

[ovs] resource_provider_inventory_defaults
[sriov_nic] resource_provider_inventory_defaults

Change-Id: I141405a16a85e262b0c3427558fc59a48a5a6190
"
openstack%2Ftacker~master~I2380ee72d058ec3cac93f941fda602cf8b0aadd7,openstack/tacker,master,refactoring,I2380ee72d058ec3cac93f941fda602cf8b0aadd7,[WIP] Refactor v1 LCM operation,ABANDONED,2021-11-15 04:40:33.000000000,2022-02-07 05:18:31.000000000,,309,339,2,817893,1a7375c6ad2842e1d00f06cd788cd50d41b73095,19,1,5,8,33455,Hiromu Asahina,h_asahina,"[WIP] Refactor v1 LCM operation

In the current codes about LCM operation, there are some codes that are
hard to trace, which can cause an additional error and makes bug-fixing
a time-consuming task.

This patch refactors parts of these codes such as implicit arguments,
definitions in an inappropriate place, confusing variable names,
unnecessary dependencies, inappropriate ``else`` use, unused variables,
and redundant functions, though the tip of the iceberg.  In addition,
this patch refactor tests such as tests that take too much time, and
tests that cannot run correctly in places other than the root
directory.

The details of the refactoring are listed below.

- controller.py:VnfLcmController._notification_process (implicit
  arguments)

  Better to explicitly specify the operation_state and
  notification_state

- conductor_server.py:constants (inappropriate definition place)

  A group of constants should be declared in constants.py

- conductor_server.py:Conductor._change_vnf_status (confusing variable
  names)

  The variable name `current_status` is confusing. It is a condition
  indicating the state to which is allowed to transition to the next
  state.

- conductor_server.py:Conductor._send_lcm_op_occ_notification
  (confusing variable names)

  The variable name `vnf_notif` is confusing. This is just a
  `VnfLcmOpOcc`

- conductor_server.py:Conductor._get_vnf_notify (redundant functions)

- conductor_server.py:Conductor._send_lcm_op_occ_notification (implicit
  arguments)

  Better to explicitly specify the operation_state and operation

- conductor_server.py:Conductor.instantiate (unnecessary dependencies)

  The error points should be updated by vnflcm_driver.

- vnfm_db.py (other)

  Explicitly import Vim table. Due to the dependency from vnfm_db to
  nfvo_db, if we import vnfm_db before importing nfvo_db, an error
  happens, which is not explicitly indicated.

- vnfm_db.py:VNFMPluginDb._update_vnf_scaling (unnecessary
  dependencies)
- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (unnecessary
  dependencies)

  Implecitly saving these two objects: vnf_instance and vnf_lcm_op_occ
  looks not good idea. The parent methods calling this method should
  save them.

- vnfm_db.py:VNFMPluginDb.update_vnf_rollback_status_err (inappropriate
  ``else`` use)
- vnfm_db.py:VNFMPluginDb._update_vnf_rollback_pre (inappropriate
  ``else`` use)
- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (inappropriate ``else``
  use)

  Looks redundant.

-
  test_conductor_server:TestConductor.test_terminate_vnf_instance_exception
  (other)

  Improved side effect usage.

- test_conductor_server:TestConductor.test_send_notification_timeout
  (tests that take too long time)
- test_conductor_server:TestConductor.test_get_notification_retry
  (tests that take too long time)
- test_conductor_server:TestConductor.test_get_notification_timeout
  (tests that take too long time)

  Mocked timers by setting `retry_wait` 0 in time-consuming tests.

- utils.py (absolute test file paths)

  In the current implementation, a relative path from the project root
  is used. Due to this, it's not possible to run test in different
  place from the project root. Thus, this patch change it to relative
  paths from a test file.

- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (unused variables)

  `scale_id_list` is not used

- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (inappropriate ``else``
  use)

  Better to write ``elif scale_vnf_request.type == 'SCALE_OUT':``
  explicitly because all unknown request types are considered as
  'SCALE_OUT'

- vnflcm_driver.py:VnfLcmDriver._scale_vnf_post (unused variables)

  `id_list` is not used

- vnflcm_driver.py:VnfLcmDriver._scale_vnf (redundant functions)

  These two methods: `scale` and `_scale_vnf` can be merged. Since most
  LCM operation methods consist of a pair of a protected method and
  public method, e.g., `heal_vnf and _heal_vnf`, I merged
  ``_scale_vnf`` and ``scale`` and then renamed it to ``_scale_vnf``.

Change-Id: I2380ee72d058ec3cac93f941fda602cf8b0aadd7
"
openstack%2Fglance~master~I71be65ef7b8f710e9317419d7b38559b39f461b0,openstack/glance,master,remove-six,I71be65ef7b8f710e9317419d7b38559b39f461b0,Remove six.moves.urllib usage,MERGED,2021-12-22 16:14:34.000000000,2022-02-07 04:50:53.000000000,2022-02-07 04:49:15.000000000,24,23,1,822737,87ba56161b6e458b5dfb47c39ec09e279c3ac4b5,16,4,3,20,15334,Stephen Finucane,sfinucan,"Remove six.moves.urllib usage

Change-Id: I71be65ef7b8f710e9317419d7b38559b39f461b0
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpuppet-openstack-integration~master~I808c9e927d8f52f596292d3525d00d7429bb87e2,openstack/puppet-openstack-integration,master,,I808c9e927d8f52f596292d3525d00d7429bb87e2,Capture redis.conf,MERGED,2022-02-05 13:35:13.000000000,2022-02-07 04:39:48.000000000,2022-02-07 04:39:48.000000000,6,0,2,827948,7fa5072e280208b23975d7a58d97c3080e2e6ab5,12,3,2,1,9816,Takashi Kajinami,kajinamit,"Capture redis.conf

... so that we can check behavior of puppet-redis.

Change-Id: I808c9e927d8f52f596292d3525d00d7429bb87e2
"
openstack%2Fzaqar~master~I8669061e00fd929c24e62ce9fd4ba31aab63e0d4,openstack/zaqar,master,,I8669061e00fd929c24e62ce9fd4ba31aab63e0d4,[Part 10] Remove all usage of six library,MERGED,2020-10-15 09:39:19.000000000,2022-02-07 03:34:23.000000000,2022-02-07 03:32:44.000000000,8,9,2,758379,963ef01c6f253b365e6831eee4a00f7c9bcd12ea,14,2,2,6,17130,melissaml,malei,"[Part 10] Remove all usage of six library

We don't need this in a Python 3-only world.

Remove six in follows:
1. lower-constraints.txt
2. requirements.txt
3. zaqar/bench/observer.py
4. zaqar/common/api/api.py
5. zaqar/common/api/request.py
6. zaqar/common/api/response.py
7. zaqar/common/pipeline.py
8. zaqar/common/storage/select.py

Change-Id: I8669061e00fd929c24e62ce9fd4ba31aab63e0d4
"
openstack%2Fcharm-ceph-mon~master~Ifaac1f371119d7430b6274f9d299fbe0288bac43,openstack/charm-ceph-mon,master,,Ifaac1f371119d7430b6274f9d299fbe0288bac43,Fix typo in functional test definition,MERGED,2022-01-27 01:43:48.000000000,2022-02-07 02:54:22.000000000,2022-02-07 02:54:22.000000000,1,1,3,826570,1f1f4c78f4539302b8ee95efc5244842ff7bb26b,15,3,2,1,34352,Samuel Walladge,swalladge,"Fix typo in functional test definition

impist -> impish;
this should fix the functional tests for impish-xena.

Change-Id: Ifaac1f371119d7430b6274f9d299fbe0288bac43
"
openstack%2Ftripleo-puppet-elements~stable%2Fussuri~I835511b960df09bd05bd8aaf1695757f0b079c12,openstack/tripleo-puppet-elements,stable/ussuri,wallaby/fence-agents-stable/victoria-stable/ussuri,I835511b960df09bd05bd8aaf1695757f0b079c12,Only install required/supported fence agents,MERGED,2022-01-31 00:34:59.000000000,2022-02-07 02:52:49.000000000,2022-02-07 02:52:49.000000000,2,2,1,826849,92190ae5fc47b90020a3465a7196dd1ebfda19d4,10,2,1,1,25613,Keigo Noha,knoha,"Only install required/supported fence agents

Now that the hardened whole-disk image is the default, installing only
the required fence agents will avoid agents which depend on packages
which the openstack-secure element will delete (specifically, telnet).

Change-Id: I835511b960df09bd05bd8aaf1695757f0b079c12
Blueprint: whole-disk-default
(cherry picked from commit d11a7055603d414cd958e149ea167f7e51389a3a)
(cherry picked from commit 1f1605cd51b2ed38c06988634286fdff5d7247c3)
(cherry picked from commit c04cfea2412593322e88766fb08b2502fd800be0)
"
openstack%2Fcharm-glance~master~I0e037fd484a7a77b15095caa1f350e638410fcb6,openstack/charm-glance,master,charmhub-migration-master,I0e037fd484a7a77b15095caa1f350e638410fcb6,Migrate charm to charmhub latest/edge track,MERGED,2022-01-27 13:19:38.000000000,2022-02-07 02:43:14.000000000,2022-02-07 02:43:14.000000000,118,835,6,826660,3c32cab85585511558e25e50c12d8e1e1e6315eb,24,5,3,17,20870,Alex Kavanagh,ajkavanagh,"Migrate charm to charmhub latest/edge track

Change-Id: I0e037fd484a7a77b15095caa1f350e638410fcb6
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
"
openstack%2Felection~master~Id0c1109b9f1d71ad9048c31b322f7b2ac38a85d2,openstack/election,master,z-elections,Id0c1109b9f1d71ad9048c31b322f7b2ac38a85d2,Set up candidacy directories for Z elections,MERGED,2022-02-06 03:35:29.000000000,2022-02-07 01:16:27.000000000,2022-02-07 01:14:43.000000000,0,0,1,828021,c2f475b4e55c14cd3bc5867602eadb50768b3ced,7,2,1,50,8556,Ghanshyam,ghanshyam,"Set up candidacy directories for Z elections

This is the result of ""tox -evenv -- create-directories""
for the Z technical election. It exclude the projects
with DPL model which does not need PTL election.

Change-Id: Id0c1109b9f1d71ad9048c31b322f7b2ac38a85d2
"
openstack%2Fsenlin-dashboard~stable%2Fxena~I124531d9580fd8783b99307247574e1788261fb8,openstack/senlin-dashboard,stable/xena,create-xena,I124531d9580fd8783b99307247574e1788261fb8,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-17 14:39:38.000000000,2022-02-07 01:10:42.000000000,2022-02-07 01:08:07.000000000,2,2,6,809756,fc3ed3ec66dc31126329125983c58220f923b220,19,5,1,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I124531d9580fd8783b99307247574e1788261fb8
"
openstack%2Fsenlin-dashboard~stable%2Fxena~I8913f195c7e9174fde135a3cc66e1d657f38d3f4,openstack/senlin-dashboard,stable/xena,create-xena,I8913f195c7e9174fde135a3cc66e1d657f38d3f4,Update .gitreview for stable/xena,MERGED,2021-09-17 14:39:37.000000000,2022-02-07 01:09:19.000000000,2022-02-07 01:08:03.000000000,1,0,9,809755,8a559b852ecd5d2784458fc3fee4524f27346f6a,24,5,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/xena

Change-Id: I8913f195c7e9174fde135a3cc66e1d657f38d3f4
"
openstack%2Fzaqar-ui~master~I802b0e4b017d8a9b7501ee1bcfaa444a08aeea1b,openstack/zaqar-ui,master,,I802b0e4b017d8a9b7501ee1bcfaa444a08aeea1b,setup.cfg: Replace dashes by underscores,MERGED,2022-02-05 17:05:00.000000000,2022-02-07 01:03:55.000000000,2022-02-07 01:02:36.000000000,3,3,0,827998,d0dbfd41bdcb9e9eb0fe5cac86efab139b3091b0,8,2,2,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I802b0e4b017d8a9b7501ee1bcfaa444a08aeea1b
"
openstack%2Felection~master~Iaea37142ac34a4c83fe208d74097cb2210329ae9,openstack/election,master,z-elections,Iaea37142ac34a4c83fe208d74097cb2210329ae9,Setup dates for Z combined election,MERGED,2022-01-17 22:04:22.000000000,2022-02-07 00:21:52.000000000,2022-02-07 00:20:32.000000000,19,19,8,825017,4906439c85e8855c429250724b04f32cf9a89c09,25,9,4,1,8556,Ghanshyam,ghanshyam,"Setup dates for Z combined election

Z cycle is going to have combined election.

As per the TC charter:
- TC election needs to be held in between of R6 to R4 week of Yoga release
- PTL election needs to be held on or before R3 week.

Ref: https://governance.openstack.org/tc/reference/charter.html

Release dates:
If we combine both election schedule as per TC charter it comes as:
between R6 to R4 week:
R-6: Feb 18
R-4: Mar 11

Ref: https://releases.openstack.org/yoga/schedule.html
Change-Id: Iaea37142ac34a4c83fe208d74097cb2210329ae9
"
openstack%2Fswift~master~Ibd98ad3bdedc6c80d275a37697de0943e3e8fb4f,openstack/swift,master,p-fix-statsd-prefix,Ibd98ad3bdedc6c80d275a37697de0943e3e8fb4f,proxy-server: add stats for backend shard_listing requests,MERGED,2022-01-25 16:53:44.000000000,2022-02-06 22:39:32.000000000,2022-02-04 09:18:31.000000000,91,31,33,826326,114440487889ebcc58c010a4986c406adcb18f0c,39,3,6,2,7847,Alistair Coles,acoles,"proxy-server: add stats for backend shard_listing requests

Add statsd metrics 'container.shard_listing.backend.<status_int>'.

Change-Id: Ibd98ad3bdedc6c80d275a37697de0943e3e8fb4f
"
openstack%2Fpuppet-tripleo~master~I58e39004591dd05b3c6c26db75dcee891abdfe6c,openstack/puppet-tripleo,master,,I58e39004591dd05b3c6c26db75dcee891abdfe6c,DNM: Testing unit tests,ABANDONED,2022-01-27 03:46:16.000000000,2022-02-06 15:30:12.000000000,,1,0,0,826578,955f16cc3bf57334f6f7a1da5a0b70ff688de51b,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Testing unit tests

Depends-on: https://review.opendev.org/c/openstack/puppet-glance/+/826546
Change-Id: I58e39004591dd05b3c6c26db75dcee891abdfe6c
"
openstack%2Fpuppet-openstack-integration~master~Ib6322dd676b050ff27c01ec04e75b8032ad4578c,openstack/puppet-openstack-integration,master,,Ib6322dd676b050ff27c01ec04e75b8032ad4578c,DNM: Debugging API failure,ABANDONED,2021-08-31 14:32:54.000000000,2022-02-06 15:29:55.000000000,,2,1,0,806758,46dc4e0311e4a30fc8789f65d9b544253ce3fc16,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Debugging API failure

Depends-on: https://review.opendev.org/c/openstack/puppet-keystone/+/806474/
Change-Id: Ib6322dd676b050ff27c01ec04e75b8032ad4578c
"
openstack%2Fpuppet-openstack-integration~master~I4b22bd6841484f9ab55f83ddd61595875d1d7c04,openstack/puppet-openstack-integration,master,,I4b22bd6841484f9ab55f83ddd61595875d1d7c04,DNM: Use internal endpoint to access keystone,ABANDONED,2021-12-09 15:40:00.000000000,2022-02-06 15:28:39.000000000,,1,0,0,821234,8009f8614fd809eee2e3392b79887effa3b00faa,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Use internal endpoint to access keystone

Depends-on: https://review.opendev.org/821167
Change-Id: I4b22bd6841484f9ab55f83ddd61595875d1d7c04
"
openstack%2Fzaqar~master~I1bea33c07e454dd6c062546e095f4a1f14425845,openstack/zaqar,master,reno-xena,I1bea33c07e454dd6c062546e095f4a1f14425845,Update master for stable/xena,MERGED,2021-09-15 17:14:08.000000000,2022-02-06 13:39:58.000000000,2022-02-06 13:38:37.000000000,7,0,1,809255,0afdaa06eb93e3684da6fe7b588f720bd4b84368,11,2,1,2,22816,OpenStack Release Bot,release,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I1bea33c07e454dd6c062546e095f4a1f14425845
"
openstack%2Fceilometermiddleware~master~I7e395355cb008486fff1b1683364bad9e0e14980,openstack/ceilometermiddleware,master,add-xena-python-jobtemplates,I7e395355cb008486fff1b1683364bad9e0e14980,Add Python3 xena unit tests,MERGED,2021-03-12 12:30:42.000000000,2022-02-06 11:41:59.000000000,2022-02-06 11:38:49.000000000,1,1,2,780246,335ea3f0b59a3e0531e94cfb677b3f82dd60aa80,9,2,1,1,22816,OpenStack Release Bot,release,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I7e395355cb008486fff1b1683364bad9e0e14980
"
openstack%2Fpython-aodhclient~master~I55c5a8568ccd93e504120365d4d2f3107cf0aa06,openstack/python-aodhclient,master,add-xena-python-jobtemplates,I55c5a8568ccd93e504120365d4d2f3107cf0aa06,Add Python3 xena unit tests,MERGED,2021-03-12 12:39:48.000000000,2022-02-06 10:58:28.000000000,2022-02-06 10:55:17.000000000,1,1,2,780250,60df9b4035a40cfd1071731a966e99789e624dea,14,3,1,1,22816,OpenStack Release Bot,release,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I55c5a8568ccd93e504120365d4d2f3107cf0aa06
"
openstack%2Fdesignate~master~I5d566588be66e9ed0df9484e36504a69b4f4b5a9,openstack/designate,master,,I5d566588be66e9ed0df9484e36504a69b4f4b5a9,Updated status logic to always NOTIFY on change,MERGED,2022-01-06 05:50:23.000000000,2022-02-06 10:08:43.000000000,2022-02-06 10:07:18.000000000,288,108,12,823624,3c495ed76dae17a0d74d4afe5b666f6068cafa47,52,3,21,9,22623,Erik Olof Gunnar Andersson,eoandersson,"Updated status logic to always NOTIFY on change

In this patch we revise the workflow after the zone api has
finished updating the upstream dns servers after a change. The goal
is to fix issues with actions that would overwrite other actions,
potentially causing zone change notifications to not be sent in a
timely manner.

Additional changes.
- Changed update_status method args
- Improved unit test coverage of multiple code paths.

Change-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9
"
openstack%2Fpuppet-openstack-integration~master~I993ce7a4870dc84745e391872b6165bfdbc56053,openstack/puppet-openstack-integration,master,gnocchi-swift,I993ce7a4870dc84745e391872b6165bfdbc56053,Enable Telemetry service in scenario002,MERGED,2022-01-22 14:16:39.000000000,2022-02-06 08:52:31.000000000,2022-02-06 08:52:31.000000000,68,14,7,825929,558ab6a54a71f37e5c4d32f8bb84c502011d052c,49,3,16,3,9816,Takashi Kajinami,kajinamit,"Enable Telemetry service in scenario002

... to test usage of Swift backend in Gnocchi.

Change-Id: I993ce7a4870dc84745e391872b6165bfdbc56053
"
openstack%2Fmanila-tempest-plugin~master~I14481f5a63990fb6f44dd5dcb40d24b74862a98f,openstack/manila-tempest-plugin,master,,I14481f5a63990fb6f44dd5dcb40d24b74862a98f,Force create snapshot for invalid share,NEW,2022-01-07 07:36:51.000000000,2022-02-06 08:00:31.000000000,,24,0,12,823774,69fcf8fea13a2b5609348fe5e530f7b01d28dd0b,39,4,9,1,31280,lkk,likangkang,"Force create snapshot for invalid share

Source share status must be available when create snapshot

Change-Id: I14481f5a63990fb6f44dd5dcb40d24b74862a98f
"
openstack%2Foslo-cookiecutter~master~I22b98e7235c221e44c2b13a25f30f3bd18e53ba5,openstack/oslo-cookiecutter,master,,I22b98e7235c221e44c2b13a25f30f3bd18e53ba5,Drop lower constraints testing,ABANDONED,2022-02-06 05:49:09.000000000,2022-02-06 05:50:40.000000000,,1,14,0,828023,33f6ab315918764f18fda043bc945bad2a0871bd,3,0,2,3,9816,Takashi Kajinami,kajinamit,"Drop lower constraints testing

The lower constraints testing was removed from the repositories managed
by the Oslo project. This change removes that test from cookiecutter
as well.

Change-Id: I22b98e7235c221e44c2b13a25f30f3bd18e53ba5
"
openstack%2Ftempest~master~I76e15b6b52bb44fec550ead510186c644c4a1c7f,openstack/tempest,master,bug/1959467,I76e15b6b52bb44fec550ead510186c644c4a1c7f,Fix TypeError in QoSBandwidthAndPacketRateTests,MERGED,2022-02-01 09:53:39.000000000,2022-02-06 01:52:46.000000000,2022-02-02 09:44:54.000000000,2,1,14,827258,115065a239a8e1ab50b6070a3c6ebfeabd0ad6fc,29,11,3,2,13861,yatin,yatinkarel,"Fix TypeError in QoSBandwidthAndPacketRateTests

[1] Added random int to flavor name but that resulted into
TypeError: can only concatenate str (not ""int"") to str.

Concatenate using % operator to fix it.

Also make tempest-full-ussuri-py3 job non-voting temporary
to unblock gate, can be reverted once [2] is fixed.

[1] https://review.opendev.org/c/openstack/tempest/+/826946
[2] https://launchpad.net/bugs/1959600

Related-Bug: #1959467
Change-Id: I76e15b6b52bb44fec550ead510186c644c4a1c7f
"
openstack%2Fcinder~stable%2Fwallaby~Iaf149dadad5791e81a3c0efd089d0ee66a1a5614,openstack/cinder,stable/wallaby,detach-vol-status,Iaf149dadad5791e81a3c0efd089d0ee66a1a5614,Fix: Race between attachment and volume deletion,MERGED,2021-11-23 11:52:30.000000000,2022-02-06 00:55:41.000000000,2022-02-06 00:54:09.000000000,127,113,5,818886,7210c914c4ee08a06e6ec00e9a861b977d794ec8,48,4,2,8,9535,Gorka Eguileor,Gorka,"Fix: Race between attachment and volume deletion

There are cases where requests to delete an attachment made by Nova can
race other third-party requests to delete the overall volume.

This has been observed when running cinder-csi, where it first requests
that Nova detaches a volume before itself requesting that the overall
volume is deleted once it becomes `available`.

This is a cinder race condition, and like most race conditions is not
simple to explain.

Some context on the issue:

- Cinder API uses the volume ""status"" field as a locking mechanism to
  prevent concurrent request processing on the same volume.

- Most cinder operations are asynchronous, so the API returns before the
  operation has been completed by the cinder-volume service, but the
  attachment operations such as creating/updating/deleting an attachment
  are synchronous, so the API only returns to the caller after the
  cinder-volume service has completed the operation.

- Our current code **incorrectly** modifies the status of the volume
  both on the cinder-volume and the cinder-api services on the
  attachment delete operation.

The actual set of events that leads to the issue reported in this bug
are:

[Cinder-CSI]
- Requests Nova to detach volume (Request R1)

[Nova]
- R1: Asks cinder-api to delete the attachment and **waits**

[Cinder-API]
- R1: Checks the status of the volume
- R1: Sends terminate connection request (R1) to cinder-volume and
  **waits**

[Cinder-Volume]
- R1: Ask the driver to terminate the connection
- R1: The driver asks the backend to unmap and unexport the volume
- R1: The last attachment is removed from the DB and the status of the
      volume is changed in the DB to ""available""

[Cinder-CSI]
- Checks that there are no attachments in the volume and asks Cinder to
  delete it (Request R2)

[Cinder-API]

- R2: Check that the volume's status is valid. It doesn't have
  attachments and is available, so it can be deleted.
- R2: Tell cinder-volume to delete the volume and return immediately.

[Cinder-Volume]
- R2: Volume is deleted and DB entry is deleted
- R1: Finish the termination of the connection

[Cinder-API]
- R1: Now that cinder-volume has finished the termination the code
  continues
- R1: Try to modify the volume in the DB
- R1: DB layer raises VolumeNotFound since the volume has been deleted
  from the DB
- R1: VolumeNotFound is converted to HTTP 404 status code which is
  returned to Nova

[Nova]
- R1: Cinder responds with 404 on the attachment delete request
- R1: Nova leaves the volume as attached, since the attachment delete
  failed

At this point the Cinder and Nova DBs are out of sync, because Nova
thinks that the attachment is connected and Cinder has detached the
volume and even deleted it.

Hardening is also being done on the Nova side [2] to accept that the
volume attachment may be gone.

This patch fixes the issue mentioned above, but there is a request on
Cinder-CSI [1] to use Nova as the source of truth regarding its
attachments that, when implemented, would also fix the issue.

[1]: https://github.com/kubernetes/cloud-provider-openstack/issues/1645
[2]: https://review.opendev.org/q/topic:%2522bug/1937084%2522+project:openstack/nova

Closes-Bug: #1937084
Change-Id: Iaf149dadad5791e81a3c0efd089d0ee66a1a5614
(cherry picked from commit 2ec2222841f6116707fe25bdcdae6ad6c2b9beb7)
Conflicts:
	cinder/tests/unit/attachments/test_attachments_manager.py
	cinder/volume/manager.py
(cherry picked from commit ed0be0c8fa1d26c3f366dd3d58ad4a8318695dcb)
"
openstack%2Fdesignate~master~I0db8243e1bcd474928d55f19083cbba0725b55ec,openstack/designate,master,,I0db8243e1bcd474928d55f19083cbba0725b55ec,Move to a batch model for incrementing serial,NEW,2022-01-04 02:29:28.000000000,2022-02-05 23:37:31.000000000,,244,260,0,823325,0af15aa71a62279087991e4d86a14bc7798144b5,57,1,36,19,22623,Erik Olof Gunnar Andersson,eoandersson,"Move to a batch model for incrementing serial

This patch moves the responsibility of incrementing the
serial on a zone from central to the producer. This also
means that NOTIFY is triggered by the producer after the
serial has been incremented. The advantage of this approach
is that we can now batch requests which means less work
for the DNS servers, and it removes the risk of
race-conditions when updating the serial. Finally, the
producer is sharded and is easy to scale which means that
this approach should scale well with many zones.

The disadvantage is that it may take up to 5 seconds longer
for the DNS record to be updated on the DNS server. This
can be lowered by increasing the frequency of the task
that is responsible for incrementing the serial.

Change-Id: I0db8243e1bcd474928d55f19083cbba0725b55ec
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Fvictoria~I1457d563abcbc9e62c331375ed677758b5f73927,openstack/openstack-ansible-os_keystone,stable/victoria,osa/remove-centos8,I1457d563abcbc9e62c331375ed677758b5f73927,Restore CI jobs,MERGED,2022-02-03 08:51:56.000000000,2022-02-05 21:18:22.000000000,2022-02-05 21:14:50.000000000,9,9,3,827603,526a3b6e89f1d4eee9065517180d677cd5410d55,20,2,4,1,25023,Jonathan Rosser,jrosser,"Restore CI jobs

Change-Id: I1457d563abcbc9e62c331375ed677758b5f73927
"
openstack%2Fcinder~master~Ib861e1bc35247f932fbae3796ed9025a560461c4,openstack/cinder,master,bug/1916843,Ib861e1bc35247f932fbae3796ed9025a560461c4,Rework backup process to make it async,MERGED,2021-04-01 20:39:29.000000000,2022-02-05 19:02:30.000000000,2022-02-05 19:00:43.000000000,190,159,8,784477,e38fb71aac05a9ddc29670d4395c408d565f5d37,323,10,14,7,5997,Walt,walter-boring,"Rework backup process to make it async

This patch updates the backup process to call the volume manager
asynchronously to get the backup device in which to do the backup on.
This fixes a major issue with certain cinder drivers that take a long
time to create a temporary clone of the volume being backed up.

Closes-Bug: #1916843
Change-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4
"
openstack%2Fpbr~master~I3f0e48c215e890f9b26bae6600d5fcacf67831c6,openstack/pbr,master,,I3f0e48c215e890f9b26bae6600d5fcacf67831c6,Add release note about missing pbr.json fix,MERGED,2022-02-05 16:09:07.000000000,2022-02-05 18:48:11.000000000,2022-02-05 18:46:54.000000000,6,0,0,827977,407d9217511d73b34b40d330520480353790ec90,7,2,1,1,5263,Jeremy Stanley,fungi,"Add release note about missing pbr.json fix

Include a release note for I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16
which corrected a regression for missing pbr.json metadata files in
packages.

Change-Id: I3f0e48c215e890f9b26bae6600d5fcacf67831c6
"
openstack%2Fosc-lib~master~Ic7ba548e3dc9776963df9a9be3560e6eb7ce90df,openstack/osc-lib,master,,Ic7ba548e3dc9776963df9a9be3560e6eb7ce90df,setup.cfg: Replace dashes with underscores,NEW,2021-04-29 12:17:05.000000000,2022-02-05 18:17:16.000000000,,4,4,0,788727,31af2c06d122bd4d2760a31c0c97e150cb4e6fd7,9,1,3,1,31412,Wenping Song,songwenping,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic7ba548e3dc9776963df9a9be3560e6eb7ce90df
"
openstack%2Foslo-cookiecutter~master~Icce6025ac4fd646752891fa9081fe16528583237,openstack/oslo-cookiecutter,master,,Icce6025ac4fd646752891fa9081fe16528583237,Fix inconsistent requirement about hacking,NEW,2022-02-05 17:57:30.000000000,2022-02-05 18:04:34.000000000,,1,1,0,828014,b4469c4c6c27c19d286541d28bb25bc35069dbad,2,1,1,1,9816,Takashi Kajinami,kajinamit,"Fix inconsistent requirement about hacking

... to fix the following failure in CI.

The conflict is caused by:
    The user requested hacking<3.1.0 and >=3.0
    The user requested (constraint) hacking==2.0.0

Change-Id: Icce6025ac4fd646752891fa9081fe16528583237
"
openstack%2Foslo-cookiecutter~master~I8323baaeca1aca5025fa7407769ef5e534bcac2e,openstack/oslo-cookiecutter,master,,I8323baaeca1aca5025fa7407769ef5e534bcac2e,setup.cfg: Replace dashes by underscores,NEW,2022-02-05 17:17:17.000000000,2022-02-05 17:23:28.000000000,,4,4,0,828007,9411937e2aab563a427684c3cc4a93c9618f259f,2,1,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I8323baaeca1aca5025fa7407769ef5e534bcac2e
"
openstack%2Fzaqar-tempest-plugin~master~I17df9c3485983d273b76860e52e12e4e186c1e4e,openstack/zaqar-tempest-plugin,master,,I17df9c3485983d273b76860e52e12e4e186c1e4e,setup.cfg: Replace dashes with underscores,NEW,2021-04-27 05:58:24.000000000,2022-02-05 17:07:07.000000000,,3,3,0,788135,594a3048986c530c53e1560ebff31a43b5a85d58,3,2,1,1,31027,MaAoyu,maaoyu,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I17df9c3485983d273b76860e52e12e4e186c1e4e
"
openstack%2Fzaqar-tempest-plugin~master~I69f19d1a25bef024eb49d9b64da04c88d9ae24a4,openstack/zaqar-tempest-plugin,master,,I69f19d1a25bef024eb49d9b64da04c88d9ae24a4,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 17:05:42.000000000,2022-02-05 17:07:03.000000000,,3,3,0,827999,b77e34a0c7bd25299e77db7a62b6f29d5a898351,2,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the example file described in documentation
accordingly to use the new parameters.

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I69f19d1a25bef024eb49d9b64da04c88d9ae24a4
"
openstack%2Fpuppet-nova~master~I2a007f5e4eeb71b94b59a0e0b5c54f20ad9535c0,openstack/puppet-nova,master,cinder-debug,I2a007f5e4eeb71b94b59a0e0b5c54f20ad9535c0,Add support for [cinder] debug,MERGED,2022-02-04 03:32:30.000000000,2022-02-05 17:03:04.000000000,2022-02-05 17:03:04.000000000,11,0,3,827792,f626e649f1c3e8ac783251e7959ee05c7d350018,19,3,1,2,9816,Takashi Kajinami,kajinamit,"Add support for [cinder] debug

Depends-on: https://review.opendev.org/820399
Change-Id: I2a007f5e4eeb71b94b59a0e0b5c54f20ad9535c0
"
openstack%2Fhorizon~stable%2Ftrain~I222f40c7cccd3304aca812ddfb14d3876a77407d,openstack/horizon,stable/train,,I222f40c7cccd3304aca812ddfb14d3876a77407d,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 16:44:20.000000000,2022-02-05 16:44:55.000000000,,3,3,0,827990,760aaabd2e22d08392e22a710430208f59cbdd0e,2,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I222f40c7cccd3304aca812ddfb14d3876a77407d
"
openstack%2Fbarbican-ui~master~Ia34763b4eda76dcc78b470fd31dfb630701fb10e,openstack/barbican-ui,master,,Ia34763b4eda76dcc78b470fd31dfb630701fb10e,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 16:36:00.000000000,2022-02-05 16:39:58.000000000,,3,3,0,827983,d7fe8837e6820d5f91785c4a29c64617481f7bb3,2,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with underscore have been
deprecated.

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ia34763b4eda76dcc78b470fd31dfb630701fb10e
"
openstack%2Fcinderlib~master~I47c26e06485b251f1cc68d5323759d110794f994,openstack/cinderlib,master,,I47c26e06485b251f1cc68d5323759d110794f994,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 16:37:15.000000000,2022-02-05 16:39:55.000000000,,4,4,0,827984,b237143452c317bb54d79c0f6a8b1c2e1c24a164,3,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with underscore have been
deprecated.

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I47c26e06485b251f1cc68d5323759d110794f994
"
openstack%2Fcinderlib~master~I540be3186db979326a09e517d080c4715f2e3630,openstack/cinderlib,master,,I540be3186db979326a09e517d080c4715f2e3630,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 16:38:18.000000000,2022-02-05 16:39:53.000000000,,4,4,0,827985,e36d052caa2ad3c8dd17dc1f2a9928ba76014f6d,3,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: I47c26e06485b251f1cc68d5323759d110794f994

Change-Id: I540be3186db979326a09e517d080c4715f2e3630
"
openstack%2Fbarbican-ui~master~I2628b5dd7b24fcd754ab8ca722bc626ed40d7e03,openstack/barbican-ui,master,,I2628b5dd7b24fcd754ab8ca722bc626ed40d7e03,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 16:38:51.000000000,2022-02-05 16:39:43.000000000,,3,3,0,827986,a4f2ef2834e12e89022beb4eb8625ae0e9b09d0f,2,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: Idff426a874426fcae7df6b8ca7523fb8e97ac7a2

Change-Id: I2628b5dd7b24fcd754ab8ca722bc626ed40d7e03
"
openstack%2Fglance~master~I895f8352a374905922247d1d406c2b2417041840,openstack/glance,master,update-migration-const,I895f8352a374905922247d1d406c2b2417041840,Update migration constant part 2,ABANDONED,2022-02-04 20:36:20.000000000,2022-02-05 15:02:42.000000000,,1,1,0,827920,0cf3738763a2a1e01b05644b6ffe56e5c1b20123,3,1,1,1,5314,Brian Rosmaita,brian-rosmaita,"Update migration constant part 2

Update the data migration current release to 'yoga'.  This
is a follow-up to change Ibdbeb752d29a, which triggered an
update to the version number in master, which will allow the
glance.tests.unit.gate.test_data_migration_version to pass.

Change-Id: I895f8352a374905922247d1d406c2b2417041840
"
openstack%2Ftripleo-ansible~master~I5c2e5caa1579af5cf206633447b92e8fdffdda16,openstack/tripleo-ansible,master,ceph_vip_provision,I5c2e5caa1579af5cf206633447b92e8fdffdda16,Provision VIPs for ceph related services,MERGED,2022-01-20 13:44:42.000000000,2022-02-05 14:13:31.000000000,2022-02-05 14:12:08.000000000,134,15,30,825502,2636e84c41f8be28c9f72e8ce126beb72b2cb32c,79,8,14,5,25402,Francesco Pantano,fmount,"Provision VIPs for ceph related services

This change adds a new task within cli-deployed-ceph that will be
triggered by tripleoclient when --ceph-vip option is set.
The extra_var input file defines the mapping between the ceph services
and their network, and produces (as output) the VIPs associated to the
specified daemons.
It uses the improved version of ""tripleo_service_vip"" ansible module
that now supports an output path instead only a playbook dir, and is
able to return a payload (the generated data map) that can be used by
other tasks: this ensures we have more control over the provided input
and output.

Change-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16
"
openstack%2Fkolla-ansible~master~I53c02bb2151473b85aaae4480a81e13d766cad00,openstack/kolla-ansible,master,dnm-ci-test-zun-ubuntu,I53c02bb2151473b85aaae4480a81e13d766cad00,[DNM] Test kolla-ansible-ubuntu-source-zun job,ABANDONED,2022-02-02 14:55:01.000000000,2022-02-05 13:52:25.000000000,,1,0,6,827512,41940e70221c4f434014569ff6d5a4ef671b2889,14,1,2,1,30491,Radosław Piliszek,yoctozepto,"[DNM] Test kolla-ansible-ubuntu-source-zun job

Change-Id: I53c02bb2151473b85aaae4480a81e13d766cad00
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I3e3692030b86e4afff6fc5e09cd763ee1e184cfa,openstack/tripleo-ansible,stable/train,bug/1958332-stable/train,I3e3692030b86e4afff6fc5e09cd763ee1e184cfa,Disable cloud-init netconfig post os-net-config,MERGED,2022-01-25 22:22:59.000000000,2022-02-05 10:57:57.000000000,2022-02-05 10:56:39.000000000,26,0,1,826396,a63697ffd67f24f65feec88acd8d164154f01d9f,15,5,1,2,24245,Harald Jensås,harald.jensas,"Disable cloud-init netconfig post os-net-config

This is a combination of 2 commits.

This is the 1st commit message:

After a successfull os-net-config run disable network config
in cloud-init.

There has been reports of cloud-init re-writing network config
files on reboot, resulting in incorrect network configuration.

This is the 2nd commit message:

Ensure cloud-init config dir exists

In some cases, it may happen cloud-init isn't installed (on the UC, for
instance).
In such cases, the directory doesn't exist, and ansible fails to push
the file to this location, leading to a deploy error.

Closes-Bug: #1958332
Change-Id: I3e3692030b86e4afff6fc5e09cd763ee1e184cfa
(cherry picked from commit 85bcbfb8a6d53cbcf2b727e0b0bf12b3e4281567)
(cherry picked from commit 7d16b0f33f37ba9196838003e5da578239273473)
(cherry picked from commit daf76eb86a4bcf9b14e0b2c5125bfb5a7ce5e20f)
"
openstack%2Fnova~master~I6445433142286728a8c7efadcf80d07082d60bc3,openstack/nova,master,2021-09-10-off-path-net-backends-dep,I6445433142286728a8c7efadcf80d07082d60bc3,[yoga] Add PCI VPD Capability Handling,MERGED,2021-09-10 10:33:31.000000000,2022-02-05 09:35:23.000000000,2022-02-05 09:33:35.000000000,642,31,104,808199,ab49f97b2c08294234c7bfd3dedb75780ca519e6,178,6,16,11,24824,Dmitrii Shcherbakov,dmitriis,"[yoga] Add PCI VPD Capability Handling

This change comes as a part of the ""Off-path Networking Backends
Support"" spec implementation.

https://review.opendev.org/c/openstack/nova-specs/+/787458

* Add VPD capability parsing support
  * The XML data from libvirt is parsed and formatted into PCI device
    JSON dict that is sent to Nova API and is stored in the extra_info
    column of a PciDevice.

    The code gracefully handles the lack of the capability since it is
    optional or Libvirt may not support it in a particular release.
    https://libvirt.org/news.html#v7-9-0-2021-11-01 (VPD capability
    was added in 7.9.0).
* Pass the serial number to Neutron in port updates
  If a card serial number is present based on the information from PCI
  VPD, pass it to Neutron along with other PCI-related information.

Change-Id: I6445433142286728a8c7efadcf80d07082d60bc3
Implements: blueprint integration-with-off-path-network-backends
"
openstack%2Fkolla~master~Iad7e7ebb1fbf4d14f20960d6257345db71d0e214,openstack/kolla,master,,Iad7e7ebb1fbf4d14f20960d6257345db71d0e214,collectd: pcie-errors is x86-64 only now,MERGED,2022-02-04 16:15:45.000000000,2022-02-05 07:38:02.000000000,2022-02-04 23:29:10.000000000,1,6,4,827883,941d021e091567d2709bbb868768c6dc4a3372e0,15,4,2,1,24072,Marcin Juszkiewicz,hrw,"collectd: pcie-errors is x86-64 only now

Change-Id: Iad7e7ebb1fbf4d14f20960d6257345db71d0e214
"
openstack%2Fpuppet-openstack-integration~master~I6f766331e7e4f2f0b97ca4e9a3e655a480ecb28f,openstack/puppet-openstack-integration,master,,I6f766331e7e4f2f0b97ca4e9a3e655a480ecb28f,Tempest: Update options to include/exclude tests,MERGED,2022-02-03 16:02:04.000000000,2022-02-05 05:00:12.000000000,2022-02-05 05:00:12.000000000,27,27,2,827702,dab263aae2f473e1587f8b6d8acd7fcc8755b67c,14,3,2,1,9816,Takashi Kajinami,kajinamit,"Tempest: Update options to include/exclude tests

Some options to include/exclude specific tests have been updated[1] in
Tempest and old options are deprecated now.

[1] dc84423b7294a19cbea4bf1e4b75a59625dec1e9

Change-Id: I6f766331e7e4f2f0b97ca4e9a3e655a480ecb28f
"
openstack%2Fpuppet-aodh~master~I0dd1bf37160e76856d8055e033aa0d0c3ca4a244,openstack/puppet-aodh,master,wsgi-script,I0dd1bf37160e76856d8055e033aa0d0c3ca4a244,Use generated script instead of app.wsgi,MERGED,2022-02-04 00:16:14.000000000,2022-02-05 04:48:01.000000000,2022-02-05 04:48:01.000000000,2,2,1,827781,2bf346a6dd0de295ae7832fa93de3aa64521d437,12,3,1,2,9816,Takashi Kajinami,kajinamit,"Use generated script instead of app.wsgi

Change-Id: I0dd1bf37160e76856d8055e033aa0d0c3ca4a244
"
openstack%2Fproject-config~master~Iba9332655cd98c4c3b1f8eae70775313abc0b220,openstack/project-config,master,project-yaml-normalization,Iba9332655cd98c4c3b1f8eae70775313abc0b220,Normalize projects.yaml,MERGED,2022-02-05 02:52:47.000000000,2022-02-05 04:43:51.000000000,2022-02-05 04:38:19.000000000,0,1,0,827938,ccb14469e8c64fc8f1386bb7ad05579dd0df6e0c,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Normalize projects.yaml

Change-Id: Iba9332655cd98c4c3b1f8eae70775313abc0b220
"
openstack%2Fcinder~stable%2Fwallaby~I6576832b2c2722ab749cfe70bbc2058ead816c36,openstack/cinder,stable/wallaby,detach-vol-status,I6576832b2c2722ab749cfe70bbc2058ead816c36,Expose volume_attachments in Volume OVO,MERGED,2021-11-23 11:52:30.000000000,2022-02-05 04:04:15.000000000,2022-02-05 04:01:58.000000000,43,21,5,818885,a5b67fd959fb837120745e1a2757f18060dd6ecc,54,3,2,6,9535,Gorka Eguileor,Gorka,"Expose volume_attachments in Volume OVO

In change-id Iabf9c3fab56ffef50695ce45745f193273822b39 we left the
`volume_attachment` out of the expected attributes of the Volume OVO
(even when te DB layer is providing that information) because it was
breaking some unit tests.

This means that in some cases we are unnecessarily loading the
attachments again (manually or via lazy loading) once we have the volume
OVO because that field is not set.

In this patch we populate the `volume_attachment` when we load the
Volume OVO from the DB.

Change-Id: I6576832b2c2722ab749cfe70bbc2058ead816c36
(cherry picked from commit e07bf3787a7c1a8a55b8f69290cf6166719f6a5e)
Conflicts:
	cinder/objects/volume.py
	cinder/tests/unit/objects/test_volume.py
(cherry picked from commit e85c22cef7bd502db44f837e626b7262f4dc8241)
"
openstack%2Ftripleo-heat-templates~master~I8ee338c3f3e20f1826d98efb38d3b21fefda5031,openstack/tripleo-heat-templates,master,bug/1959726,I8ee338c3f3e20f1826d98efb38d3b21fefda5031,Add parameter IronicIPXEUefiSnpOnly,MERGED,2022-02-02 02:51:12.000000000,2022-02-05 03:54:19.000000000,2022-02-05 03:52:38.000000000,20,0,1,827387,bd13adefd106864504240566d2a3530211cc464f,16,7,2,2,24245,Harald Jensås,harald.jensas,"Add parameter IronicIPXEUefiSnpOnly

Add new parameter IronicIPXEUefiSnpOnly (default: true).
When `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi
is used.

'snponly.efi' is the default in puppet-ironic master branch, however
in Wallaby and earlier releases 'ipxe.efi' is the default. Since
'ipxe.efi' is not compatible with a lot of hardware TripleO should
change this default.

Related: RHBZ#2049179
Closes-Bug: 1959726
Change-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031
"
openstack%2Ftripleo-quickstart-extras~master~I3d5146041df88fbcaad6b0f6d6dcb05d734251b0,openstack/tripleo-quickstart-extras,master,bug/1959930,I3d5146041df88fbcaad6b0f6d6dcb05d734251b0,Add identity.v3_endpoint_type to extra facts in tempestconf,MERGED,2022-02-03 23:59:02.000000000,2022-02-05 03:52:45.000000000,2022-02-05 03:52:45.000000000,3,1,2,827779,67cf0fbabc101affc3b53dee3e23e4f66946073d,20,4,3,1,8367,Arx Cruz,arxcruz,"Add identity.v3_endpoint_type to extra facts in tempestconf

Some tests are failing because it's using the adminURL instead of
publicURL. This patch add the config option to tempestconf to force the
use of the publicURL.

Change-Id: I3d5146041df88fbcaad6b0f6d6dcb05d734251b0
Related-Bug: #1959930
"
openstack%2Ftripleo-heat-templates~master~I93d3eae0a738782f071a839ba7b41107a597e2fa,openstack/tripleo-heat-templates,master,,I93d3eae0a738782f071a839ba7b41107a597e2fa,Start the neutron metadata agent with cgroupns host,MERGED,2022-02-03 11:40:57.000000000,2022-02-05 03:52:41.000000000,2022-02-05 03:52:41.000000000,1,0,1,827629,d3a6e7a99ad090bd7ef06b7bd84cf8558e5fdae5,11,5,1,1,6681,Brent Eagles,beagles,"Start the neutron metadata agent with cgroupns host

This container got missed in the fixups.

Closes-Bug: #1959582
Change-Id: I93d3eae0a738782f071a839ba7b41107a597e2fa
"
openstack%2Fpbr~master~I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16,openstack/pbr,master,,I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16,Avoid recursive calls into SetupTools entrypoint,MERGED,2022-02-04 21:58:41.000000000,2022-02-05 03:09:10.000000000,2022-02-05 03:06:19.000000000,21,8,1,827931,949c47c97966b22bc3a7a33c08bc8535969e3fa0,11,2,2,2,5263,Jeremy Stanley,fungi,"Avoid recursive calls into SetupTools entrypoint

Add a check in pbr.core.pbr() to make sure it hasn't already run,
and return immediately if it has. This replaces the earlier attempt
at loop-busting by setting the entrypoint to None in the dist, in
order to support PEP 517 builds without setup_requires.

Also test that pbr.json is now included in the dist tree, in order
to avoid future regressions.

Change-Id: I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16
"
openstack%2Fpython-openstackclient~master~I042db99c9d7a0d8d207f8cdf69d786bd4fe904e7,openstack/python-openstackclient,master,needs-completion,I042db99c9d7a0d8d207f8cdf69d786bd4fe904e7,Switch server lock to sdk.,NEW,2021-11-28 18:55:02.000000000,2022-02-05 02:38:41.000000000,,53,24,36,819517,a57141941107826f070b923c41afa091715e3ae0,22,4,8,4,34061,Suneeth Ravi,suneethravi,"Switch server lock to sdk.

Switch server lock commands from novaclient to SDK.

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/819293

Change-Id: I042db99c9d7a0d8d207f8cdf69d786bd4fe904e7
"
openstack%2Fpython-openstackclient~master~If0baca719b8d68dcf76755f0ffc6034bbae8715c,openstack/python-openstackclient,master,needs-completion,If0baca719b8d68dcf76755f0ffc6034bbae8715c,compute: Switch server group to SDK,NEW,2021-12-01 21:17:07.000000000,2022-02-05 02:38:16.000000000,,93,22,42,820070,3eb0de28b3123e20bb2812158f300e1a3da139a2,9,4,3,3,34313,Ujjval,ujjvalksharma,"compute: Switch server group to SDK

Change-Id: If0baca719b8d68dcf76755f0ffc6034bbae8715c
"
openstack%2Fopenstacksdk~master~Ief29ab9794590b7c996e23cac38464888fba2865,openstack/openstacksdk,master,needs-completion,Ief29ab9794590b7c996e23cac38464888fba2865,Add os-instance-actions API,NEW,2021-06-23 00:33:49.000000000,2022-02-05 02:38:04.000000000,,127,0,3,797551,21575d938d384e2a4bd155e21ee24f8d957e9724,13,2,3,4,33012,Ryan Zimmerman,zimmerry,"Add os-instance-actions API

The os-instance-actions API [1] from the Compute API was missing.

[1] https://docs.openstack.org/api-ref/compute/?expanded=#list-actions-for-server

Change-Id: Ief29ab9794590b7c996e23cac38464888fba2865
"
openstack%2Fopenstacksdk~master~I98729a73338048207aebebdd3bcc87ffb3af70a8,openstack/openstacksdk,master,,I98729a73338048207aebebdd3bcc87ffb3af70a8,Adds volume migrate capability to v3 cinder proxy,NEW,2022-01-20 18:41:24.000000000,2022-02-05 02:37:06.000000000,,68,0,0,825664,aedf99236239afcfe2caa5254ee6f34e2ee5eff7,7,1,1,4,5997,Walt,walter-boring,"Adds volume migrate capability to v3 cinder proxy

This patch adds the ability to migrate a volume.  This was missing
in the block storage api.

Change-Id: I98729a73338048207aebebdd3bcc87ffb3af70a8
"
openstack%2Fnova~master~I845ca5989a8ad84d7c04971316fd892cd29cfe1f,openstack/nova,master,bug/1959899,I845ca5989a8ad84d7c04971316fd892cd29cfe1f,skip test_tagged_attachment in nova-next,MERGED,2022-02-04 12:35:56.000000000,2022-02-05 02:02:56.000000000,2022-02-05 00:36:44.000000000,1,1,3,827851,b00ce99dd456ab701cef0a9d4429920834d3d840,22,2,1,1,11604,sean mooney,sean-k-mooney,"skip test_tagged_attachment in nova-next

This change adds
tempest.api.compute.servers.test_device_tagging.TaggedAttachmentsTest.test_tagged_attachment
to the tempest exclude regex

over the past few weeks we have noticed this test failing intermitently
and it has not started to become a gate blocker. This test is executed in other
jobs that use the PC machine type and is only failing in the nova-next
job which uses q35. As such while we work out how to address this properly
we skip it in the nova-next.

Change-Id: I845ca5989a8ad84d7c04971316fd892cd29cfe1f
Related-Bug: #1959899
"
openstack%2Fnova~stable%2Fwallaby~I39241223b447fcc671161c370dbf16e1773b684a,openstack/nova,stable/wallaby,bug/1853009,I39241223b447fcc671161c370dbf16e1773b684a,Clear rebalanced compute nodes from resource tracker,MERGED,2021-09-29 23:51:11.000000000,2022-02-05 01:07:51.000000000,2022-02-05 00:31:10.000000000,66,18,9,811806,f950cedf17cc4c3ce9d094dbfde5e4cf013260f7,48,8,1,5,4690,melanie witt,melwitt,"Clear rebalanced compute nodes from resource tracker

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The issue being addressed here is that if a compute node is deleted by a host
which thinks it is an orphan, then the compute host that actually owns the node
might not recreate it if the node is already in its resource tracker cache.

This change fixes the issue by clearing nodes from the resource tracker cache
for which a compute node entry does not exist. Then, when the available
resource for the node is updated, the compute node object is not found in the
cache and gets recreated.

Change-Id: I39241223b447fcc671161c370dbf16e1773b684a
Partial-Bug: #1853009
(cherry picked from commit 32676a9f45807ea8770dc7bdff1e859673af1b61)
"
openstack%2Fcinder~stable%2Fwallaby~I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6,openstack/cinder,stable/wallaby,improve-retype-migration,I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6,Driver assisted migration on retype when it's safe,MERGED,2021-11-25 15:34:52.000000000,2022-02-05 00:42:51.000000000,2022-02-05 00:39:14.000000000,99,3,3,819346,afc90f8912ad555feacb0921226a75eb0aeaa975,26,3,1,3,9535,Gorka Eguileor,Gorka,"Driver assisted migration on retype when it's safe

When doing a retype of a volume that requires a migration, the manager
only uses driver assisted migration when the source and the destination
belong to the same backend (different pools).

Driver assisted migration should also be tried for other cases, just
like when we do a normal migration.

One case were this would be beneficial is when doing migrations from one
pool to another on the same storage system on single pool drivers (such
as RBD/Ceph).

This patch checks what are the changes between the types to see if it is
safe to use driver assisted migration (from the perspective of keeping
the resulting volume consistent with the volume type) and when it is it
tries to use it.

If driver assisted migration indicates that it couldn't move the volume,
then we go with the generic volume migration like we used to.

Closes-Bug: #1886543
Change-Id: I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6
(cherry picked from commit 5edc77a18c505e22ee56e3ebda6d400cded6fa32)
"
openstack%2Fcinder~stable%2Fwallaby~I05d83d73de69c57d885e0c417e8a376f7cfb1e4f,openstack/cinder,stable/wallaby,bug/1924643,I05d83d73de69c57d885e0c417e8a376f7cfb1e4f,NetApp ONTAP: Fix sub-clone zapi call,MERGED,2021-12-15 20:10:08.000000000,2022-02-05 00:41:18.000000000,2022-02-05 00:36:53.000000000,48,2,4,821892,fffe9b57b984ba402fbe9f0c578b419926491b5b,40,4,3,3,33431,Fábio Oliveira,fabiooliveira1,"NetApp ONTAP: Fix sub-clone zapi call

The ONTAP documentation states that the `clone-create` ZAPI call
fails with `block-ranges` and `space-reserve` parameters sent
together. The sub-clone uses the `block-ranges` and is failing
because of that restriction.

This patch fixes the `clone-create` operation by using exactly one
of `block-ranges` or `space-reserve`.

Change-Id: I05d83d73de69c57d885e0c417e8a376f7cfb1e4f
Closes-Bug: #1924643
(cherry picked from commit dd0b1076df936b9cb1111567f6b4c3b747744b72)
(cherry picked from commit 344f3e8b098ff52c137ece8a28b3b40a5893e30e)
"
openstack%2Fdevstack~master~I9a05051e5a297cfaf78d097fa5f90a7c5fd254a6,openstack/devstack,master,revert-stackrc-permissions,I9a05051e5a297cfaf78d097fa5f90a7c5fd254a6,revert stackrc execute permissions,MERGED,2022-02-04 08:36:31.000000000,2022-02-05 00:33:52.000000000,2022-02-05 00:32:06.000000000,0,0,6,827815,85c7d8db4eef2e367a7466a39b4f1fba7a983eef,14,3,2,1,11604,sean mooney,sean-k-mooney,"revert stackrc execute permissions

This change reverts the execute permissions from
stackrc which is not meant to be run as a script but sourced
as part of stack.sh

Change-Id: I9a05051e5a297cfaf78d097fa5f90a7c5fd254a6
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I7e79ea64870fb07ba80d132e30ac02545faac1dc,openstack/python-tripleoclient,stable/wallaby,config-desc-stable/wallaby,I7e79ea64870fb07ba80d132e30ac02545faac1dc,Deprecate enable_novajoin,MERGED,2022-02-04 15:19:23.000000000,2022-02-05 00:28:50.000000000,2022-02-05 00:27:10.000000000,8,0,0,827749,cc0ec235efc0a71b6870652c4620cb644656e245,9,7,2,2,26343,Jose Luis Franco,jfrancoa,"Deprecate enable_novajoin

... because support for the novajoin metadata service was already
deprecated[1].

[1] bf910512c344f55d01303409f6c2151d89347583

Change-Id: I7e79ea64870fb07ba80d132e30ac02545faac1dc
(cherry picked from commit a9d4d523cc5846d6e98730857f33768d370fc4b1)
"
openstack%2Fdevstack~master~I518a739a3daac941880463cde6b47951331d0911,openstack/devstack,master,,I518a739a3daac941880463cde6b47951331d0911,Adapt compute node local.conf to OVN,MERGED,2022-01-21 09:07:17.000000000,2022-02-05 00:27:57.000000000,2022-02-05 00:26:11.000000000,1,1,6,825726,0a31630323cc172561d6544c8bee50004538cfb2,13,4,1,1,15197,Pierre Riteau,priteau,"Adapt compute node local.conf to OVN

The default Neutron configuration is now using OVN, but the multinode
lab was using an incompatible configuration:

    The q-agt/neutron-agt service must be disabled with OVN.

Change-Id: I518a739a3daac941880463cde6b47951331d0911
"
openstack%2Frequirements~master~Ide17d3eb11d89b948a4618e850d968698206fc4c,openstack/requirements,master,openstack/requirements/constraints/noclob,Ide17d3eb11d89b948a4618e850d968698206fc4c,Updated from generate-constraints,MERGED,2022-02-04 02:50:14.000000000,2022-02-05 00:27:52.000000000,2022-02-05 00:26:08.000000000,19,18,0,827787,698f8e89b69fc29b7f494ead0f04c9d629e10cb5,12,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ide17d3eb11d89b948a4618e850d968698206fc4c
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I672627f4f97d241abaab47f56dc92b36d778ac97,openstack/python-tripleoclient,stable/wallaby,config-desc-stable/wallaby,I672627f4f97d241abaab47f56dc92b36d778ac97,Standalone: Remove undercloud from parameter descriptions,MERGED,2022-02-04 15:20:46.000000000,2022-02-05 00:24:23.000000000,2022-02-05 00:22:52.000000000,7,11,0,827890,1f4e3f93a343fa7c3a0ab4eb3546279b649a9db2,8,5,1,1,26343,Jose Luis Franco,jfrancoa,"Standalone: Remove undercloud from parameter descriptions

... becuase these parameters are used not only in undercloud deployment
but also in standalone deployment.

Change-Id: I672627f4f97d241abaab47f56dc92b36d778ac97
(cherry picked from commit 5f8bd7781b0a776ea308ccb3eb16ac353a273096)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I447e2ec4187de9d8342f43e9012acccc725eded9,openstack/tripleo-ansible,stable/wallaby,storagenfs-stable/wallaby,I447e2ec4187de9d8342f43e9012acccc725eded9,Added controller_group_name to override group name,MERGED,2022-01-27 23:04:00.000000000,2022-02-05 00:22:49.000000000,2022-02-05 00:22:49.000000000,15,3,5,826625,c943c6ad88ea2731f5cb072aef996480025f44ca,23,3,1,3,22954,Juan Badia Payno,jbadiapa,"Added controller_group_name to override group name

Added controller_group_name to override the Controller group name from
which a backup would be taken.  ie:
```
openstack overcloud backup \
--extra-vars ""{'controller_group_name':'ControllerStandalone'}""
```
This is useful if you are not using the default Controller group but
something else such as one of these:
    ControllerAllNovaStandalone
    ControllerNoCeph
    ControllerNovaStandalone
    ControllerOpenstack
    ControllerSriov
    ControllerStorageDashboard
    ControllerStorageNfs

Change-Id: I447e2ec4187de9d8342f43e9012acccc725eded9
(cherry picked from commit da5ce4cbebd362d85c0f2ce7e374c5ba2a3858fa)
"
openstack%2Fmanila~master~I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24,openstack/manila,master,bp/metadata-for-share-resources,I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24,Add admin only keys to share metadata,MERGED,2021-08-30 21:33:41.000000000,2022-02-05 00:20:14.000000000,2022-02-05 00:18:07.000000000,243,12,116,806647,0f161ce17a3116c0777091e1551204fecccabc61,155,6,21,8,32594,Ashley Rodriguez,ashrod98,"Add admin only keys to share metadata

In this change, we add admin policy check for metadata keys
""__affinity_same_host"" and ""__affinity_different_host"".
These keys are added an constants, allowing for the addition of other
admin only keys if necessary in future changes.

This change allows for the affinity filter spec[1] implementation without
the additional changes necessary in the metadata spec[2].

Bumps microversion to 2.68.

[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html
[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html

Partially-Implements: metadata-for-share-resources
Change-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24
"
openstack%2Fpython-manilaclient~master~I2207da7b2d157681747e22570bed0ca18a72d717,openstack/python-manilaclient,master,,I2207da7b2d157681747e22570bed0ca18a72d717,Add missing space in server migration complete,MERGED,2022-02-03 20:59:45.000000000,2022-02-05 00:08:13.000000000,2022-02-05 00:06:43.000000000,1,1,5,827764,20a4a0ac54934b768fee18aa0752e6dd6c01c46d,13,4,2,1,32411,Eduardo Santos,ecsantos,"Add missing space in server migration complete

TrivialFix

Change-Id: I2207da7b2d157681747e22570bed0ca18a72d717
"
openstack%2Fcharm-magnum~master~If2788f63ccfa9724e06ba37c007f4168ed6f5ac3,openstack/charm-magnum,master,charmhub-migration-master,If2788f63ccfa9724e06ba37c007f4168ed6f5ac3,Update to build using charmcraft,MERGED,2022-02-01 20:19:30.000000000,2022-02-05 00:02:28.000000000,2022-02-05 00:02:28.000000000,78,8,2,827353,69ddf12d611395b98ddd2a97144b769abd301155,11,3,1,12,20870,Alex Kavanagh,ajkavanagh,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: If2788f63ccfa9724e06ba37c007f4168ed6f5ac3
"
openstack%2Ftripleo-heat-templates~master~I755ef460ca06fdc5bed3a05bba75c63b288b3af8,openstack/tripleo-heat-templates,master,fips-compatibility,I755ef460ca06fdc5bed3a05bba75c63b288b3af8,Added rabbit FIPS flag to FIPS env fle,MERGED,2021-11-29 19:01:50.000000000,2022-02-05 00:01:10.000000000,2022-02-05 00:01:10.000000000,3,0,5,819697,ff7bc29c77180827436efabbaa08343ddddebb11,40,6,11,1,9914,Ade Lee,alee,"Added rabbit FIPS flag to FIPS env fle

FIPS requires rabbit to start up in FIPS mode or it will generate an
ed25519 key by default on startup.  The Rabbit FIPS flag sets the
appropriate parameters for this to happen.

Change-Id: I755ef460ca06fdc5bed3a05bba75c63b288b3af8
"
openstack%2Ftripleo-ansible~master~Id644bc5b3d780555a175a659709dd6181fb71392,openstack/tripleo-ansible,master,image_serve-seport,Id644bc5b3d780555a175a659709dd6181fb71392,"Revert ""Ensure httpd is allowed to listen on the port""",MERGED,2022-02-04 14:13:24.000000000,2022-02-05 00:01:08.000000000,2022-02-05 00:01:08.000000000,0,22,2,827748,95a40f167093d19f512c5adc12b6a6b625d7e744,13,9,1,4,28223,Cedric Jeanneret,cjeanner,"Revert ""Ensure httpd is allowed to listen on the port""

This reverts commit 8378ac7ae4f21dc99347a432df878d911ec8efc4.

Reason for revert: zuul is crashing with this on the periodic build job:
ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path.

Change-Id: Id644bc5b3d780555a175a659709dd6181fb71392
"
openstack%2Fvalidations-common~master~I24d04038b5add2a02577c94a5d7642e2e620088a,openstack/validations-common,master,component-pipeline,I24d04038b5add2a02577c94a5d7642e2e620088a,Modifying catalogue execution test to resolve component pipeline issue,MERGED,2022-02-03 08:04:43.000000000,2022-02-05 00:01:05.000000000,2022-02-05 00:01:05.000000000,25,2,0,827599,d7821d134744119076399b2cf8dd632f6c25f010,16,5,6,5,32926,Jiri Podivin,jpodivin,"Modifying catalogue execution test to resolve component pipeline issue

Following validations were detecting changes in the image
used by CI and reporting them as issues.
While correct in case of a customer deployment,
it is unnecessary within the component pipeline.

The catalogue test will now no longer execute this validation.
    - image-serve

Following validations will recieve variable overrides.
    - check-disk-space
    - check-disk-space-pre-upgrade
    - undercloud-disk-space-pre-upgrade
    - undercloud-disk-space

Closes-Bug: #1959864

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I24d04038b5add2a02577c94a5d7642e2e620088a
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I79d8011d128357282fd1a847a24fb11971eb1487,openstack/tripleo-ansible,stable/train,remove_nfs_variables-stable/ussuri-stable/train,I79d8011d128357282fd1a847a24fb11971eb1487,Rename variables to keep being the same as in wallaby,MERGED,2022-02-03 09:38:01.000000000,2022-02-05 00:01:03.000000000,2022-02-05 00:01:03.000000000,13,13,0,827630,21fbf621f37da669793bc8a28b5fdea1fed63595,9,4,2,4,32968,Juan Larriba,jlarriba,"Rename variables to keep being the same as in wallaby

Some variables needed to be changed to adapt to the new process of doing
restores using PXE/Ironic. Even if this feature is not going back to v,
u and t, we would want to keep the variables that do the same called the
same among all versions of the product. This change renames some
variables to achieve this.

Change-Id: I79d8011d128357282fd1a847a24fb11971eb1487
(cherry picked from commit c6a27f9b53e18794fb2b345dcfec9138ceef78bc)
"
openstack%2Fpbr~master~Ic9e02eb33fcc86e8e21737e47921b06eb5be6335,openstack/pbr,master,break-recursion,Ic9e02eb33fcc86e8e21737e47921b06eb5be6335,Break pbr() recursion via alternative method,ABANDONED,2022-02-04 21:58:20.000000000,2022-02-04 23:55:21.000000000,,12,9,0,827930,4775cc3863da6b6e960dd05f03d6485587c81b4a,2,0,1,1,4146,Clark Boylan,cboylan,"Break pbr() recursion via alternative method

Setting dist.pbr to None broke writing of metadata to a json file. We
need to check PBR is in use when writing metadata to a json file because
it is triggered via a separate entrypoint than pbr(). To fix this we go
back to allowing dist.pbr to be True but check if we are recursing with
a pbr() entries counter. We return immediately if the count isn't 0.

Change-Id: Ic9e02eb33fcc86e8e21737e47921b06eb5be6335
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I79d8011d128357282fd1a847a24fb11971eb1487,openstack/tripleo-ansible,stable/ussuri,remove_nfs_variables-stable/ussuri,I79d8011d128357282fd1a847a24fb11971eb1487,Rename variables to keep being the same as in wallaby,MERGED,2022-02-03 09:31:20.000000000,2022-02-04 23:49:39.000000000,2022-02-04 23:49:39.000000000,13,13,1,827409,d0aa366c10b20adad512722ba5514924f6360671,11,3,3,4,32968,Juan Larriba,jlarriba,"Rename variables to keep being the same as in wallaby

Some variables needed to be changed to adapt to the new process of doing
restores using PXE/Ironic. Even if this feature is not going back to v,
u and t, we would want to keep the variables that do the same called the
same among all versions of the product. This change renames some
variables to achieve this.

Change-Id: I79d8011d128357282fd1a847a24fb11971eb1487
(cherry picked from commit c6a27f9b53e18794fb2b345dcfec9138ceef78bc)
"
openstack%2Fmanila~master~I3ddfad568a1b578bee23a6d1a96de9551e336bb4,openstack/manila,master,manila_remove_six,I3ddfad568a1b578bee23a6d1a96de9551e336bb4,Remove usage of six lib for third party/vendors drivers.,MERGED,2021-12-09 08:22:43.000000000,2022-02-04 23:41:09.000000000,2022-02-04 23:39:20.000000000,332,398,43,821162,a73b29937420598a741dcc56bfc48a436ec83a3f,62,6,7,72,30407,haixin,haixin,"Remove usage of six lib for third party/vendors drivers.

Python2 is no longer supported, so in this patch
set we remove the usage of the six (py2 and py3
compatibility library) in favor of py3 syntax.

Change-Id: I3ddfad568a1b578bee23a6d1a96de9551e336bb4
"
openstack%2Fpbr~master~I3398b2534e513039e922056e2cb3059768621e72,openstack/pbr,master,,I3398b2534e513039e922056e2cb3059768621e72,Import pbr.util directly to break import loops,ABANDONED,2022-02-04 20:50:24.000000000,2022-02-04 23:40:27.000000000,,3,2,1,827922,9ab99d6d9e8f801058d86ce42cb3d77ce5c0a307,3,1,1,1,5263,Jeremy Stanley,fungi,"Import pbr.util directly to break import loops

If you have a cycle of ""from x import y"" across modules, Python
2.7's importer gives up and raises ImportError. This does not occur
if the module is imported canonically. In preparation for an
upcoming change where we need to import core in pbr_json, switch
core's import of util to a loop-resistant style.

Change-Id: I3398b2534e513039e922056e2cb3059768621e72
"
openstack%2Fpbr~master~Ia2b79ae622ec4a0647984dc3be4266c85d352b11,openstack/pbr,master,,Ia2b79ae622ec4a0647984dc3be4266c85d352b11,Always write pbr.json,ABANDONED,2022-02-04 21:38:27.000000000,2022-02-04 23:40:03.000000000,,1,1,0,827927,acba296d32ad2121cbd10ec66d585b24f554d7cc,4,1,2,1,5263,Jeremy Stanley,fungi,"Always write pbr.json

Drop the safeguard which checks that PBR's SetupTools entrypoint is
True before writing the pbr.json metadata file. If the dist has a
""pbr"" attribute, it's safe to say this is a PBR-style dist. This
becomes necessary with the removal of setup_requires for PEP 517
builds, because we need to toggle the entrypoint off after it's been
called into once, in order to avoid recursion.

Change-Id: Ia2b79ae622ec4a0647984dc3be4266c85d352b11
"
openstack%2Fpbr~master~Ice845dc93925f516721b54d3269c8485a8278d75,openstack/pbr,master,,Ice845dc93925f516721b54d3269c8485a8278d75,Correctly evaluate whether we're in a dist context,ABANDONED,2022-02-04 18:40:51.000000000,2022-02-04 23:39:29.000000000,,11,1,2,827914,692d8a247f0e3cea995002fef7800b102cda4e8a,9,2,4,3,5263,Jeremy Stanley,fungi,"Correctly evaluate whether we're in a dist context

With the change to support PEP 517 build backend use cases without
setup_requires, a recursion-buster was added to toggle the
setuptools entrypoint off. Unfortunately, this happened before
writing the pbr.json file, and was how the write function identified
whether the call was within the context of a dist build.

Add a global module attribute when entering the setuptools
entrypoint, so that it can be used as the new identifier when
writing metadata.

Change-Id: Ice845dc93925f516721b54d3269c8485a8278d75
"
openstack%2Fpbr~master~Ic5e431aee3ed0447db2f838a853fa3c051f9889e,openstack/pbr,master,,Ic5e431aee3ed0447db2f838a853fa3c051f9889e,Test that pbr.json is included in sdists,ABANDONED,2022-02-04 18:40:51.000000000,2022-02-04 23:38:25.000000000,,6,0,0,827913,1a7417accf341b5e85a62738f7e74b7a584b1edf,8,2,4,1,5263,Jeremy Stanley,fungi,"Test that pbr.json is included in sdists

A recent regression resulted in PBR no longer writing its metadata
file due to incorrectly misidentifying whether we were in a dist
context. Make sure this regression test correctly reproduces the
problem.

Change-Id: Ic5e431aee3ed0447db2f838a853fa3c051f9889e
"
openstack%2Ftripleo-quickstart~master~If7db210eefad08904f4cad4d87795c3711976700,openstack/tripleo-quickstart,master,cs9-libvirt-repro,If7db210eefad08904f4cad4d87795c3711976700,Add variables for RHEL/CentOS9,MERGED,2022-02-04 10:01:55.000000000,2022-02-04 23:33:56.000000000,2022-02-04 23:32:24.000000000,20,0,5,827828,2ce46f8205098327b0dbf2cec08d16bd52638296,18,7,1,1,16312,Alfredo Moralejo,amoralej,"Add variables for RHEL/CentOS9

Those variables are needed to use oooq in libvirt provisioning cases on CentOS9.

Change-Id: If7db210eefad08904f4cad4d87795c3711976700
"
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I78cf0220e403add9d88ad457979704693c641f67,openstack/tripleo-upgrade,stable/wallaby,,I78cf0220e403add9d88ad457979704693c641f67,Remove stein and ceph3 parameters for T to W.,MERGED,2022-02-04 12:38:11.000000000,2022-02-04 23:32:27.000000000,2022-02-04 23:32:27.000000000,0,43,0,827747,0585a0a4fa02c6c4c264bc82df7d8cc68af405d6,9,4,2,3,26343,Jose Luis Franco,jfrancoa,"Remove stein and ceph3 parameters for T to W.

The stein and ceph3 parameters are not needed any more in tripleo-upgrade
to upgrade from T(16.X) to W(17.X). Removing them to avoid issues during
the upgrade.

Change-Id: I78cf0220e403add9d88ad457979704693c641f67
(cherry picked from commit a90df48bd58515b8ffaf2ed1e1eb84ae5f06a31c)
"
openstack%2Fopenstack-helm-infra~master~I3b43ed6de3a90af49cfc7124fdee542831f73f40,openstack/openstack-helm-infra,master,,I3b43ed6de3a90af49cfc7124fdee542831f73f40,Use bandit 1.7.1 to avoid Python version issues,MERGED,2022-02-04 15:22:02.000000000,2022-02-04 23:22:00.000000000,2022-02-04 23:20:14.000000000,1,1,1,827876,4296b7d486628ad944f6d340fc0ca6fdc38d50e7,16,5,2,1,29974,Stephen Taylor,st053q,"Use bandit 1.7.1 to avoid Python version issues

The following error is appearing when the bandit playbook is used:
bandit requires Python '>=3.7' but the running Python is 3.6.9

This change specifies bandit 1.7.1 in the playbook, which is
compatible with Python 3.5+

Change-Id: I3b43ed6de3a90af49cfc7124fdee542831f73f40
"
openstack%2Fkeystone~master~Iad41407e6ad1f9e2f33d228da914a302d4123ecc,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Iad41407e6ad1f9e2f33d228da914a302d4123ecc,sql: Remove 'get_init_version',MERGED,2022-01-19 18:50:03.000000000,2022-02-04 23:01:02.000000000,2022-02-04 22:56:25.000000000,39,120,0,825376,06b47cbc8d29a7c3247518f2c6a6ab067b888d99,11,5,1,3,15334,Stephen Finucane,sfinucan,"sql: Remove 'get_init_version'

Initializing and synchronizing the database are done using the same
'keystone-manage' command, 'db_sync'. The bulk of this command is
implemented via '_sync_repo' in 'keystone.common.sql.upgrades'. This
calls two functions in 'oslo_db.sqlalchemy.migration':
'db_version_control', which would attempt to mark a database as version
controlled (by creating the 'migrate_version' table in said database),
followed by 'db_sync'. We are passing an 'init_version' argument to the
latter, and this value is cleverly calculated (in the 'get_init_version'
helper) by retrieving the lowest version found in a migration repository.
All of this seems well and good, but upon attempting to raise the
initial version (as part of the upcoming database migration squashing)
we start seeing errors like this:

  oslo_db.exception.DBMigrationError: ""Database schema file with version
  1 doesn't exist.""

It turns out that the 'init_version' argument here is effectively
useless. The value in providing this argument to the oslo.db's
'db_sync' function is to allow it to optionally mark the database as
version controlled if necessary [1][2], or do what 'db_version_control'
is doing. However, none of the code to do this was being executed
because we were already calling 'db_version_control' manually.

The minimal solution here would be pass an 'init_version' argument to
'db_version_control' instead, ensuring things are initialized with the
correct initial version. However, since we 'db_sync' will do this for
us, we choose instead to remove our invocation of 'db_version_control'
entirely and let 'db_sync' manage everything. We also go a step further
and remove 'get_init_version'. It's clever, but we won't be creating any
new SQLAlchemy-Migrate-based migrations so a simple constant would be
more than okay.

Change-Id: Iad41407e6ad1f9e2f33d228da914a302d4123ecc
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkeystone~master~Ib27532005c0f297b2b328cccd8d9528731ec1179,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Ib27532005c0f297b2b328cccd8d9528731ec1179,Add generate schemas tool,MERGED,2022-01-14 19:14:29.000000000,2022-02-04 22:59:14.000000000,2022-02-04 22:56:22.000000000,144,1,1,824777,837a55c3b590545c48d2daabe86a5ef0990ad463,10,3,1,2,15334,Stephen Finucane,sfinucan,"Add generate schemas tool

This is a variant of a tool added to nova during their migration to
alembic. It will be helpful as we continue expanding the repo.

Change-Id: Ib27532005c0f297b2b328cccd8d9528731ec1179
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fneutron~master~I15dc080129582a0303dda499322b7aae2f4d6565,openstack/neutron,master,I15dc080129582a0303dda499322b7aae2f4d6565,I15dc080129582a0303dda499322b7aae2f4d6565,Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn,MERGED,2020-04-09 18:26:38.000000000,2022-02-04 22:59:03.000000000,2022-02-04 22:56:29.000000000,195,185,18,718767,92b081145ef55f0e9ff2042eb06db89eb389a654,167,18,10,6,5756,Terry Wilson,otherwiseguy,"Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn

Change-Id: I15dc080129582a0303dda499322b7aae2f4d6565
"
openstack%2Fkeystone~master~Ib04bb9a8d86bce0d5a8de1749954c805d1550a83,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Ib04bb9a8d86bce0d5a8de1749954c805d1550a83,sql: Rename initial migrations,MERGED,2022-01-06 10:48:49.000000000,2022-02-04 22:56:46.000000000,2022-02-04 22:54:25.000000000,0,0,0,823667,2264f43308faa63721acadd98b8d58fb7937d2ac,12,3,2,3,15334,Stephen Finucane,sfinucan,"sql: Rename initial migrations

This is done separately to prove we don't break anything by doing things
this way.

Change-Id: Ib04bb9a8d86bce0d5a8de1749954c805d1550a83
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkeystone~master~Ia1090f1810d6cddda724a8a048647b4ffeaa733e,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Ia1090f1810d6cddda724a8a048647b4ffeaa733e,Add 'StandardLogging' fixture,MERGED,2022-01-14 19:14:29.000000000,2022-02-04 22:54:28.000000000,2022-02-04 22:54:28.000000000,133,2,0,824776,36f2ee58d517c945d13cb8caa6bd01ee0c1450a3,9,4,1,5,15334,Stephen Finucane,sfinucan,"Add 'StandardLogging' fixture

Another fixture taken wholesale from nova. This configures our logging
to ensure we trigger but don't capture DEBUG-level logs. It also lowers
the level of some less important logs like sqlalchemy-migrate.

Change-Id: Ia1090f1810d6cddda724a8a048647b4ffeaa733e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkeystone~master~I59882d88fe593ec1ae37415b2157584f7f3c85f8,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I59882d88fe593ec1ae37415b2157584f7f3c85f8,sql: Remove legacy 'migrate_repo' migration repo,MERGED,2022-01-06 10:48:49.000000000,2022-02-04 22:44:06.000000000,2022-02-04 22:41:29.000000000,867,1063,5,823666,503421d3d492cad1bd110ec72870f05d80fe021c,18,4,2,16,15334,Stephen Finucane,sfinucan,"sql: Remove legacy 'migrate_repo' migration repo

This is now folded into the initial migration of the 'expand_repo'
repository. Previously, this was a dummy migration. We simply move
things across and remove any code that was trying to work with the older
repo since it's no longer necessary.

A release note is added, even though it's not really necessary since
nothing will change for users. It's more of a heads up that things are
afoot.

Change-Id: I59882d88fe593ec1ae37415b2157584f7f3c85f8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstack-helm-infra~master~Ia4801b47f44df91db10886f7cb4e8e174557aded,openstack/openstack-helm-infra,master,,Ia4801b47f44df91db10886f7cb4e8e174557aded,memcached: switch to sidecar,MERGED,2022-01-26 21:09:30.000000000,2022-02-04 22:25:47.000000000,2022-02-04 22:23:05.000000000,37,178,1,826533,696e37e3f760b2119024fe3b95c0a322e6b5f677,10,3,2,10,1004,Mohammed Naser,mnaser,"memcached: switch to sidecar

Instead of running the exporter as a seperate deployemnt that talks
to the service, which will NOT be reporting reliable information if
you have more than 1 replica of memcached, this patch insteads moves
things into a sidecar model that runs in the same pod and exposes
the service.

Change-Id: Ia4801b47f44df91db10886f7cb4e8e174557aded
"
openstack%2Fkolla~stable%2Fvictoria~I95ea4a66a80bf035f8bd1180790c7e0c85d759ed,openstack/kolla,stable/victoria,,I95ea4a66a80bf035f8bd1180790c7e0c85d759ed,Drop CentOS Linux 8 image builds,MERGED,2022-02-03 09:20:01.000000000,2022-02-04 22:00:39.000000000,2022-02-04 21:31:40.000000000,24,106,8,827608,07f519996381789c1f21850cfc9b27f3b86a6f4c,39,5,10,8,22629,Michal Nasiadka,mnasiadka,"Drop CentOS Linux 8 image builds

Included patch:

Remove missing collectd packages

Since CentOS Linux 8 repository retirement from
CentOS mirrors - we need to use CentOS Stream 8
version of Opstools repo.

Listed below packages are missing from the repo,
and according to the maintainer dpdk_telemetry is
not going to show up at all (it's basically dead).

The rest of the packages might show up at a later
stage - but it's not a priority for the maintainer.

- collectd-dpdk_telemetry
- collectd-libpod-stats
- collectd-sensubility
- python3-sqlalchemy-collectd

(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)

Change-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed
"
openstack%2Fnova~master~I6996eb5082ede0dc4d75a9d5e15b57fa0ec4f512,openstack/nova,master,bug/1959682,I6996eb5082ede0dc4d75a9d5e15b57fa0ec4f512,DNM: Run Nova gate on Neutron notifier patch,ABANDONED,2022-02-04 19:56:22.000000000,2022-02-04 21:53:16.000000000,,1,0,0,827917,c82e2eef124d546dd4ac1d29ed7208968ae8ac94,6,1,1,1,8864,Artom Lifshitz,artom,"DNM: Run Nova gate on Neutron notifier patch

Depends-on: https://review.opendev.org/c/openstack/neutron/+/827331
Change-Id: I6996eb5082ede0dc4d75a9d5e15b57fa0ec4f512
"
openstack%2Fkolla~stable%2Fwallaby~I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,openstack/kolla,stable/wallaby,,I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,Remove missing collectd packages,MERGED,2022-02-04 06:24:25.000000000,2022-02-04 21:11:54.000000000,2022-02-04 14:49:26.000000000,7,5,3,827741,f439afa42e9f5074e4680987e6185c4bd93aa090,16,3,3,3,22629,Michal Nasiadka,mnasiadka,"Remove missing collectd packages

Since CentOS Linux 8 repository retirement from
CentOS mirrors - we need to use CentOS Stream 8
version of Opstools repo.

Listed below packages are missing from the repo,
and according to the maintainer dpdk_telemetry is
not going to show up at all (it's basically dead).

The rest of the packages might show up at a later
stage - but it's not a priority for the maintainer.

- collectd-dpdk_telemetry
- collectd-libpod-stats
- collectd-sensubility
- python3-sqlalchemy-collectd

Template override used to temporarily use Ceph Nautilus
repo from RDO.

Change-Id: I5f446fc276e245c1e6974ceeb6ff3dccd84ee502
(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)
"
openstack%2Ftripleo-heat-templates~master~Icf1ca1a5e93f74e8f166c78746ba839cccbd4dde,openstack/tripleo-heat-templates,master,secure-rbac,Icf1ca1a5e93f74e8f166c78746ba839cccbd4dde,Keystone: Use system-admin to create resources,MERGED,2022-01-31 05:07:20.000000000,2022-02-04 21:08:03.000000000,2022-02-04 21:08:03.000000000,5,1,1,826981,caed5081e56d84bf01d549275d1cefa5165899f9,12,4,2,1,9816,Takashi Kajinami,kajinamit,"Keystone: Use system-admin to create resources

When SRBAC is enforced, Keystone allows only system-admin to create
some resources like endpoints. This change switches the credential used
for keystone resource creation from project-admin to system-admin, to
prepare for the complete switch to new SRBAC policy rules.

Change-Id: Icf1ca1a5e93f74e8f166c78746ba839cccbd4dde
"
openstack%2Ftripleo-ci~master~I4c47797c5b656af9e42b2401201b885380a29039,openstack/tripleo-ci,master,use_release_file,I4c47797c5b656af9e42b2401201b885380a29039,Use release file for C8 images,MERGED,2022-01-06 13:11:10.000000000,2022-02-04 21:07:59.000000000,2022-02-04 21:07:59.000000000,33,14,68,823688,63a0dbc3fc937f1c0aceefce21569e2ebeccddcb,120,8,28,8,30750,amolkahat,amolkahat,"Use release file for C8 images

This change implements similar solution to another,
implemented for C9: I39fc32cf1249b4f14bdc35a4af7a1f8784c19801

Testproject: https://review.rdoproject.org/r/c/testproject/+/38921

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/827544

Change-Id: I4c47797c5b656af9e42b2401201b885380a29039
Co-Authored-By: Dariusz Smigiel <dsmigiel@redhat.com>
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
"
openstack%2Fswift~master~Ia62456be136f4e32288dd19d8061708e9e7b7cb2,openstack/swift,master,ci-lockup,Ia62456be136f4e32288dd19d8061708e9e7b7cb2,DNM: try to repro CI test lockup,ABANDONED,2022-01-29 05:11:39.000000000,2022-02-04 20:56:04.000000000,,37,658,11,826950,bfc71b5e7c0c3969f1aa7faef16eb77c5429a362,28,1,4,3,15343,Tim Burke,tburke,"DNM: try to repro CI test lockup

Change-Id: Ia62456be136f4e32288dd19d8061708e9e7b7cb2
"
openstack%2Fopenstack-ansible-os_manila~stable%2Fvictoria~I2bbbfed4dd2d253532d6609540d42e1974028c82,openstack/openstack-ansible-os_manila,stable/victoria,osa/remove-centos8,I2bbbfed4dd2d253532d6609540d42e1974028c82,Restore CI jobs,MERGED,2022-02-03 08:56:34.000000000,2022-02-04 20:40:20.000000000,2022-02-04 20:34:57.000000000,8,8,2,827604,b74ea053b839e2bc4fdcbf495c756dd5202568a1,13,3,2,1,25023,Jonathan Rosser,jrosser,"Restore CI jobs

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/827618
Change-Id: I2bbbfed4dd2d253532d6609540d42e1974028c82
"
openstack%2Fkolla~stable%2Fxena~I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,openstack/kolla,stable/xena,,I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,Remove missing collectd packages,MERGED,2022-02-04 06:24:06.000000000,2022-02-04 20:33:13.000000000,2022-02-04 11:56:09.000000000,0,5,0,827740,c6a972e5dbbfa357e45e196215faa1519f5a3167,10,4,1,2,22629,Michal Nasiadka,mnasiadka,"Remove missing collectd packages

Since CentOS Linux 8 repository retirement from
CentOS mirrors - we need to use CentOS Stream 8
version of Opstools repo.

Listed below packages are missing from the repo,
and according to the maintainer dpdk_telemetry is
not going to show up at all (it's basically dead).

The rest of the packages might show up at a later
stage - but it's not a priority for the maintainer.

- collectd-dpdk_telemetry
- collectd-libpod-stats
- collectd-sensubility
- python3-sqlalchemy-collectd

Change-Id: I5f446fc276e245c1e6974ceeb6ff3dccd84ee502
(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)
"
openstack%2Fironic~stable%2Frocky~I3f303a3005fd6129e3f6df87c1dd482236b6562b,openstack/ironic,stable/rocky,,I3f303a3005fd6129e3f6df87c1dd482236b6562b,Cleanup stable/rocky legacy jobs,MERGED,2022-02-03 16:23:43.000000000,2022-02-04 19:40:34.000000000,2022-02-04 19:28:40.000000000,0,22,2,827709,bfdc4aa49a024ae252513b912c6d6294b38bf3c8,11,2,1,2,11655,Julia Kreger,jkreger,"Cleanup stable/rocky legacy jobs

Deleted two experimental jobs which have invalid references and
no longer work in zuul, as this is a branch which is no longer
seeing activity.

Change-Id: I3f303a3005fd6129e3f6df87c1dd482236b6562b
"
openstack%2Fnova~stable%2Ftrain~I2da867f2734b590a884b1fe1200c402cbf7e9e1c,openstack/nova,stable/train,workaround-disable-apic,I2da867f2734b590a884b1fe1200c402cbf7e9e1c,workarounds: Add libvirt_disable_apic,NEW,2021-08-23 13:00:59.000000000,2022-02-04 19:04:42.000000000,,52,1,0,805631,c50e6a501e6340efb1af98135c3b3ce4b826930c,6,2,2,4,10135,Lee Yarwood,lyarwood,"workarounds: Add libvirt_disable_apic

This change adds a new workaround config option to allow disabling the
guest apic.

NOTE(lyarwood): Conflicts caused by
If874f018ea996587e178219569c2903c2ee923cf,
Ied3732042738a6194b635c55e0304d71a6fb66e3 and
Ia500eb614cf575ab846f64f4b69c9068274c8c1f not being present in
stable/train.

Conflicts:
    nova/conf/workarounds.py

Co-authored-by: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1939108
Change-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c
(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)
(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)
(cherry picked from commit 0c5d9d1d257b6afa88f3e5d1bd2c0f6b42e161a2)
(cherry picked from commit 3240f9c28411e5e7efe04a3fcbe1465ec016c65b)
"
openstack%2Fnova~stable%2Fussuri~I2da867f2734b590a884b1fe1200c402cbf7e9e1c,openstack/nova,stable/ussuri,workaround-disable-apic,I2da867f2734b590a884b1fe1200c402cbf7e9e1c,workarounds: Add libvirt_disable_apic,NEW,2021-08-23 12:55:41.000000000,2022-02-04 19:04:36.000000000,,52,1,0,805630,3240f9c28411e5e7efe04a3fcbe1465ec016c65b,7,2,2,4,10135,Lee Yarwood,lyarwood,"workarounds: Add libvirt_disable_apic

This change adds a new workaround config option to allow disabling the
guest apic.

Co-authored-by: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1939108
Change-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c
(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)
(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)
(cherry picked from commit 0c5d9d1d257b6afa88f3e5d1bd2c0f6b42e161a2)
"
openstack%2Fnova~stable%2Fvictoria~I2da867f2734b590a884b1fe1200c402cbf7e9e1c,openstack/nova,stable/victoria,workaround-disable-apic,I2da867f2734b590a884b1fe1200c402cbf7e9e1c,workarounds: Add libvirt_disable_apic,NEW,2021-08-23 12:55:25.000000000,2022-02-04 19:04:29.000000000,,52,1,0,805629,0c5d9d1d257b6afa88f3e5d1bd2c0f6b42e161a2,12,2,2,4,10135,Lee Yarwood,lyarwood,"workarounds: Add libvirt_disable_apic

This change adds a new workaround config option to allow disabling the
guest apic.

Co-authored-by: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1939108
Change-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c
(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)
(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)
"
openstack%2Fdevstack~stable%2Ftrain~Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b,openstack/devstack,stable/train,workaround-disable-apic,Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b,nova: Enable apic removal workaround for bug #1939108 when using QEMU,NEW,2021-08-23 13:05:27.000000000,2022-02-04 19:04:14.000000000,,5,0,0,805636,dcae124042cd7cb8e01fac4f587c28641e953c75,5,2,1,1,10135,Lee Yarwood,lyarwood,"nova: Enable apic removal workaround for bug #1939108 when using QEMU

This change enables [workarounds]libvirt_disable_apic when devstack is
deployed using the libvirt virt driver and qemu virt type in an effort
to avoid issues outlined in bug #1939108 caused by the older kernel
currently used in Cirros 0.5.2.

Depends-On: https://review.opendev.org/c/openstack/nova/+/805631
Closes-Bug: #1939108
Change-Id: Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b
(cherry picked from commit 1e86a25cc28e34d7f73a4c6ccbbc3fc667598d50)
(cherry picked from commit e5255369207f78747b59fe187f910de9a8daff58)
(cherry picked from commit 3730e91e153bacd9021cddd04346d60944aedab2)
(cherry picked from commit d9c6a27149f0c0cd3a7ba93689e93f2979f6a5ed)
"
