id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fopenstack-ansible-os_ironic~stable%2Fussuri~I9a6e7273f752b6bdc1639be299e00933889b6cc9,openstack/openstack-ansible-os_ironic,stable/ussuri,,I9a6e7273f752b6bdc1639be299e00933889b6cc9,Add ironic-inspector to constraints,MERGED,2020-08-20 07:23:53.000000000,2020-08-21 12:18:42.000000000,2020-08-21 12:17:11.000000000,3,1,0,747114,fac83016c0de7a27b2c8600bff4310b412c09080,12,4,2,1,25023,Jonathan Rosser,jrosser,"Add ironic-inspector to constraints

We missed adding ironic-inspector to constraints which resulted
in installing always the latest avaialbe version in the pypi.

Depends-On: https://review.opendev.org/747108
Change-Id: I9a6e7273f752b6bdc1639be299e00933889b6cc9
(cherry picked from commit bea6f664bd5f60b5c9a0aaf88a6e57c0b04cae85)
"
openstack%2Fnova~master~Ie092628ac71eb87c9dfa7220255a2953ada9e04d,openstack/nova,master,bug/1879878,Ie092628ac71eb87c9dfa7220255a2953ada9e04d,tests: Add reproducer for bug #1879878,MERGED,2020-08-05 16:43:00.000000000,2020-08-21 12:15:36.000000000,2020-08-20 09:38:37.000000000,83,0,15,744950,10f0a42de162c90c701f70c9c28dc31bfada87db,48,13,5,1,15334,Stephen Finucane,sfinucan,"tests: Add reproducer for bug #1879878

When one resizes a pinned instance, the instance claims host CPUs for
pinning purposes on the destination. However, the host CPUs on the
source are not immediately relinquished. Rather, they are held by the
migration record, to handle the event that the resize is reverted. It is
only when one confirms this resize that the old cores are finally
relinquished.

It appears there is a potential race between the resource tracker's
periodic task and the freeing of these resources, resulting in attempts
to unpin host cores that have already been unpinned. This test
highlights that bug pending a fix.

Change-Id: Ie092628ac71eb87c9dfa7220255a2953ada9e04d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1879878
"
openstack%2Fqinling-dashboard~master~If1b8c33b6a3aabae486da1d7dc1d5cbb0dbd3140,openstack/qinling-dashboard,master,,If1b8c33b6a3aabae486da1d7dc1d5cbb0dbd3140,[DNM] Test qinling-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 14:33:15.000000000,2020-08-21 12:10:52.000000000,,1,0,0,747182,aadda3fcb948196c1261b8b93cdd78de7cab1de2,6,2,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test qinling-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: If1b8c33b6a3aabae486da1d7dc1d5cbb0dbd3140
"
openstack%2Foctavia~stable%2Fstein~I49e92f81b23e0b306c62c406a45029b96dce20df,openstack/octavia,stable/stein,sec-grp-rule-quota-stable/ussuri-stable/train-stable/stein,I49e92f81b23e0b306c62c406a45029b96dce20df,Increase the devstack secuirty group rules quota,MERGED,2020-08-20 15:08:07.000000000,2020-08-21 12:09:51.000000000,2020-08-21 12:05:42.000000000,3,2,0,747203,6cf72ccbb13e8b0df4e6ccc5588e5db569dbeda8,10,4,1,1,11628,Michael Johnson,johnsom,"Increase the devstack secuirty group rules quota

Recent changes to the Octavia tempest tests has caused our test
runs to exceed the default neutron security group rule quota.
This patch increases that quota for the Octavia project in devstack.

Change-Id: I49e92f81b23e0b306c62c406a45029b96dce20df
(cherry picked from commit 2e2464d778cc86df161fdf59406aac30770b58f0)
"
openstack%2Fneutron-vpnaas-dashboard~master~I37f460b933a545e112f261ed69ce956498704114,openstack/neutron-vpnaas-dashboard,master,,I37f460b933a545e112f261ed69ce956498704114,[DNM] Test neutron-vpnaas-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 14:24:31.000000000,2020-08-21 12:08:55.000000000,,1,0,0,747177,deb8cb783a0cf0194c805cf46d0b17b7830e5c1f,5,2,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test neutron-vpnaas-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I37f460b933a545e112f261ed69ce956498704114
"
openstack%2Fironic~master~I963276efae5599bfed6cbb4df18e8dd3bd1b9839,openstack/ironic,master,token-reboot,I963276efae5599bfed6cbb4df18e8dd3bd1b9839,Wipe agent token during reboot or power off,MERGED,2020-07-08 12:07:27.000000000,2020-08-21 12:07:43.000000000,2020-07-16 17:27:02.000000000,40,1,3,739964,2d4d375358c8eb923a0a3bcee211ac53b991e54b,33,9,3,3,10239,Dmitry Tantsur,dtantsur,"Wipe agent token during reboot or power off

Otherwise a reboot during fast-track will leave the newly booted
agent without an ability to request a token.

Change-Id: I963276efae5599bfed6cbb4df18e8dd3bd1b9839
"
openstack%2Ftripleo-ci~master~Ie8243be1e794724aa6b2a598c3ba4e23478c9cad,openstack/tripleo-ci,master,,Ie8243be1e794724aa6b2a598c3ba4e23478c9cad,add debug to container builds,ABANDONED,2020-08-18 01:38:22.000000000,2020-08-21 11:46:03.000000000,,9,1,1,746624,3de30141d64ae0031f314d9446f6a5535b753b20,16,3,8,1,9592,wes hayutin,weshayutin,"add debug to container builds

* print out the important variables
* list out the roles

Change-Id: Ie8243be1e794724aa6b2a598c3ba4e23478c9cad
"
openstack%2Fmasakari-dashboard~master~Icbd69a8f7bb9a4edea72c3e5928b25383acb9f45,openstack/masakari-dashboard,master,,Icbd69a8f7bb9a4edea72c3e5928b25383acb9f45,[DNM] test masakari-dashboar with horizon jobs on focal,ABANDONED,2020-08-20 14:11:35.000000000,2020-08-21 11:38:28.000000000,,1,0,0,747171,ea9ba97667d4dc28facb73a846973c58923b8ed6,6,2,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] test masakari-dashboar with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: Icbd69a8f7bb9a4edea72c3e5928b25383acb9f45
"
openstack%2Fvalidations-common~master~I3321fbf3140288586af89a2f733072cb1653ff8e,openstack/validations-common,master,script/connection-type,I3321fbf3140288586af89a2f733072cb1653ff8e,"Rename parameter, and add a new one",ABANDONED,2020-07-24 09:57:30.000000000,2020-08-21 11:37:43.000000000,,20,15,1,742839,54b9ad6c7f998c3b9db09616df1a707ba470ce5a,7,3,2,2,28223,Cedric Jeanneret,cjeanner,"Rename parameter, and add a new one

The ""log-output"" parameter was misleading, let's rename it to a more
meaningful ""redirect-stdout"". Updated functional test accordingly.

Also, add a new ""--log-path"" parameter. It allows to set the standard
logging directory for the validations. This is especially useful when an
operator is running the script as a user instead of root.

Change-Id: I3321fbf3140288586af89a2f733072cb1653ff8e
"
openstack%2Fkayobe~stable%2Frocky~I849d9b09e973316308e574c447a78868e93a5420,openstack/kayobe,stable/rocky,,I849d9b09e973316308e574c447a78868e93a5420,Skip broken ansible-lint,MERGED,2020-08-19 15:08:39.000000000,2020-08-21 11:34:14.000000000,2020-08-21 11:27:50.000000000,1,1,0,746955,5de53a58f525503774326493265eb2132b3e3d53,11,2,1,1,15197,Pierre Riteau,priteau,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I849d9b09e973316308e574c447a78868e93a5420
(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)
"
openstack%2Fzaqar-ui~master~I21f97d993cd41df95ca2e2f77c44797a2945ed56,openstack/zaqar-ui,master,migrate-to-focal,I21f97d993cd41df95ca2e2f77c44797a2945ed56,[DNM] test zaqar-ui with horizon jobs on focal,ABANDONED,2020-08-20 18:40:50.000000000,2020-08-21 11:25:49.000000000,,1,0,0,747274,460c27e6630a52a731a028c18bbed6641db0b6de,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] test zaqar-ui with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I21f97d993cd41df95ca2e2f77c44797a2945ed56
"
openstack%2Fwatcher-dashboard~master~I33469e566e745f7a0394ea12a515dac56e27a5f6,openstack/watcher-dashboard,master,,I33469e566e745f7a0394ea12a515dac56e27a5f6,[DNM] test watcher-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 18:37:57.000000000,2020-08-21 11:24:50.000000000,,1,0,0,747272,83c0482590d6b9d3778da58db2764c2828dfefa9,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] test watcher-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I33469e566e745f7a0394ea12a515dac56e27a5f6
"
openstack%2Fvitrage-dashboard~master~Id49b27012e1ecb8b318a72a036cbe137b735aeb9,openstack/vitrage-dashboard,master,,Id49b27012e1ecb8b318a72a036cbe137b735aeb9,[DNM] Test vitrage-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 18:35:00.000000000,2020-08-21 11:24:00.000000000,,1,0,0,747269,18615b18aaf0cfb38f744ae488ef1db7ef59225c,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test vitrage-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: Id49b27012e1ecb8b318a72a036cbe137b735aeb9
"
openstack%2Ftrove-dashboard~master~I3f410e2e8c677953ef67192b752b1321413d8b06,openstack/trove-dashboard,master,,I3f410e2e8c677953ef67192b752b1321413d8b06,[DNM] Test trove-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 18:32:07.000000000,2020-08-21 11:23:10.000000000,,1,0,0,747268,6ea58252746e7a8fbf5b686b2e28c65509766759,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test trove-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I3f410e2e8c677953ef67192b752b1321413d8b06
"
openstack%2Fsolum-dashboard~master~I2d57cc3632fd70dc065f62f011fbac9fcfe8e1b2,openstack/solum-dashboard,master,,I2d57cc3632fd70dc065f62f011fbac9fcfe8e1b2,[DNM] Test solum-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 18:24:22.000000000,2020-08-21 11:22:19.000000000,,1,0,0,747266,c3e78aa014c895e375b6a0d391c0af04f68dda91,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test solum-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I2d57cc3632fd70dc065f62f011fbac9fcfe8e1b2
"
openstack%2Fsearchlight-ui~master~I6f6d55ab6728430d95f23fabc5edf5df80af2c5e,openstack/searchlight-ui,master,,I6f6d55ab6728430d95f23fabc5edf5df80af2c5e,[DNM] Test searchlight-ui with horizon jobs on focal,ABANDONED,2020-08-20 18:14:04.000000000,2020-08-21 11:21:12.000000000,,1,0,0,747263,1931554f771d739c756ab63b3f559462d4634ca7,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test searchlight-ui with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I6f6d55ab6728430d95f23fabc5edf5df80af2c5e
"
openstack%2Fsahara-dashboard~master~I9ea6db8a42b05e59b63f3ff28170e22ebae47654,openstack/sahara-dashboard,master,migrate-to-focal,I9ea6db8a42b05e59b63f3ff28170e22ebae47654,[DNM] Test sahara-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 18:10:03.000000000,2020-08-21 11:20:28.000000000,,1,0,0,747262,777a93bb0dc2592329782a3d206419d9f08cb101,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test sahara-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I9ea6db8a42b05e59b63f3ff28170e22ebae47654
"
openstack%2Fkarbor-dashboard~master~I9e1f42e8fab75b5951610fbdcf45b739ef9311c9,openstack/karbor-dashboard,master,,I9e1f42e8fab75b5951610fbdcf45b739ef9311c9,[DNM] Test karbor-dahboard with horizon jobs on focal,ABANDONED,2020-08-20 14:00:32.000000000,2020-08-21 11:18:00.000000000,,1,0,0,747168,c40a346ac5f92e807cd572901f6bb93510d47231,4,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test karbor-dahboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I9e1f42e8fab75b5951610fbdcf45b739ef9311c9
"
openstack%2Ftacker-horizon~master~I57b3b29474c3e61cd3399ac727330f7166480d02,openstack/tacker-horizon,master,,I57b3b29474c3e61cd3399ac727330f7166480d02,[DNM] Test tacker-horizon with horizon jobs on focal,ABANDONED,2020-08-20 18:28:27.000000000,2020-08-21 11:14:13.000000000,,1,0,0,747267,32164ee48dc9105e0808f45249e0e26c0fa9da81,3,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test tacker-horizon with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I57b3b29474c3e61cd3399ac727330f7166480d02
"
openstack%2Fkolla-ansible~stable%2Fussuri~Ia55eebc833877f2eae226ba46c18653c1b859299,openstack/kolla-ansible,stable/ussuri,pin-ansible-lint-for-stable-branch,Ia55eebc833877f2eae226ba46c18653c1b859299,Pin ansible-lint to 4.2.0,MERGED,2020-08-21 10:36:56.000000000,2020-08-21 11:02:44.000000000,2020-08-21 11:00:59.000000000,1,1,0,747386,57536ed6f207d658d55e5c72015b537dfb6da3aa,8,3,1,1,30491,Radosław Piliszek,yoctozepto,"Pin ansible-lint to 4.2.0

In stable branches we don't want to follow the latest rules and
have constantly broken CI but rather ensure we control quality
checks and act as needed.

Most other test reqs are actually pinned via upper-constraints,
but ansible-lint is not in global-requirements so it is entirely
up to us to handle pinning.

Change-Id: Ia55eebc833877f2eae226ba46c18653c1b859299
"
openstack%2Fceilometer~stable%2Fussuri~I7061a31405a421da3ab2f192259fb23c5aa54ce6,openstack/ceilometer,stable/ussuri,,I7061a31405a421da3ab2f192259fb23c5aa54ce6,Run migration with NotFound exception as well,MERGED,2020-08-19 20:43:10.000000000,2020-08-21 11:01:49.000000000,2020-08-21 10:59:45.000000000,1,1,3,747034,be8edb074970117265cc44effb11996b30c9f20a,15,6,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Run migration with NotFound exception as well

Gnocchi start returning regular 404 when requesting resource that do not
exist [1]. That means, that in case of 404, which is also excpected,
we just fail resource creation.

[1] http://paste.openstack.org/show/796884/

Change-Id: I7061a31405a421da3ab2f192259fb23c5aa54ce6
(cherry picked from commit 49b098eda41ed23fde0d9373bd5510b95271f051)
"
openstack%2Fironic~master~I7a6bb699f171585119c91d0808ff0c85d04104bf,openstack/ironic,master,fix_network_data_path,I7a6bb699f171585119c91d0808ff0c85d04104bf,Fix network_data path for dhcpless deployments,MERGED,2020-08-20 11:40:55.000000000,2020-08-21 10:53:54.000000000,2020-08-21 09:47:02.000000000,2,2,0,747144,dae84efd66a637f5cb0f3179312e3dc11e42864c,12,5,1,1,18781,vinay50muddu,vmud213,"Fix network_data path for dhcpless deployments

The curent path ""openstack/latest/metadata/network_data.json"" is
not being used by Glean. This path must be changed to
""openstack/latest/network_data.json"" as per the code here
https://opendev.org/opendev/glean/src/branch/master/glean/cmd.py#L1317-L1331

Change-Id: I7a6bb699f171585119c91d0808ff0c85d04104bf
Story: #2008042
Task: #40704
"
openstack%2Fcharm-layer-openstack~master~I7ca97db646ada95d7f5541ca4e2cf14013c0d7a6,openstack/charm-layer-openstack,master,is-update-status-hook,I7ca97db646ada95d7f5541ca4e2cf14013c0d7a6,Add a 'is-update-status-hook' flag to the layer,MERGED,2020-08-20 11:42:36.000000000,2020-08-21 10:41:16.000000000,2020-08-21 10:41:16.000000000,24,2,2,747145,49b1075506d7625d04a05e2cb232d20ea82f6406,11,4,2,1,20870,Alex Kavanagh,ajkavanagh,"Add a 'is-update-status-hook' flag to the layer

This flag is to enable charms.openstack / layer-openstack charms to have
a way to determine if the current hook is update-status from a flag.  By
being a flag, it means that charm reactive handler code doesn't have to
check for the the hook in every handlers, but can declare ""don't run
this if it's an update-status hook"".  The flag is guaranteed to not be
set during a not update-status hook (in that, if it is set, then it gets
cleared and the handlers can therefore run), or to be set during an
update-status hook.  To speed things up, the code also removes the flag
at the end of the update-status handler.

The intended use of this flag is to guard 'expensive' handlers from
being run during update-status.

Change-Id: I7ca97db646ada95d7f5541ca4e2cf14013c0d7a6
"
openstack%2Fcharm-cinder-backup~master~I64c4ef1d7f5c183b7f04e089e126eda52136d7fc,openstack/charm-cinder-backup,master,enable-focal,I64c4ef1d7f5c183b7f04e089e126eda52136d7fc,Add focal and ussuri test bundles,MERGED,2020-05-21 11:58:04.000000000,2020-08-21 10:34:07.000000000,2020-08-21 10:34:07.000000000,250,2,0,729932,a1dade70f95e6e0c5de66903b8bfabaf336ca373,36,6,4,4,20870,Alex Kavanagh,ajkavanagh,"Add focal and ussuri test bundles

The focal-ussuri test is disabled for gate (it's in dev bundles) due to
the upstream bug [1] in os-brick connecting to ceph-octopus in focal.
Bug [2] is for tracking the issue against the charms.

Related-Bug: #1865754 [1]
Related-Bug: #1891626 [2]
Closes-Bug: #1879684

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/390
Change-Id: I64c4ef1d7f5c183b7f04e089e126eda52136d7fc
"
openstack%2Fdevstack~stable%2Ftrain~I5308a6948fbe23d888f4336bbd30d064005e159f,openstack/devstack,stable/train,centos-gating,I5308a6948fbe23d888f4336bbd30d064005e159f,Add non-voting devstack-platform-centos-8 to Train,ABANDONED,2020-08-21 07:32:18.000000000,2020-08-21 10:20:01.000000000,,18,0,0,747350,7253b954a73fe8eeb24338ce3cbac37aa0568eb7,3,0,2,1,6469,Carlos Gonçalves,cgoncalves,"Add non-voting devstack-platform-centos-8 to Train

CentOS 8 is a popular distribution used by many in the community.

Change-Id: I5308a6948fbe23d888f4336bbd30d064005e159f
"
openstack%2Fopenstack-ansible~stable%2Fussuri~I8cbcc4f878415d19506c3faadd554fbd2e9a81a4,openstack/openstack-ansible,stable/ussuri,746931-stable/ussuri,I8cbcc4f878415d19506c3faadd554fbd2e9a81a4,Add ironic-inspector to the openstack_services,MERGED,2020-08-20 05:37:53.000000000,2020-08-21 10:13:15.000000000,2020-08-21 10:09:25.000000000,8,0,0,747108,b1ebd689f07af20eed083b550b8197cec7806e38,11,4,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add ironic-inspector to the openstack_services

We clean forgot about adding ironic-inspector to the services, so
it's time we fix that.

Change-Id: I8cbcc4f878415d19506c3faadd554fbd2e9a81a4
(cherry picked from commit 4f1d3610159fc4eec5559900527e4e078848cf6f)
"
openstack%2Frequirements~master~Id6853599492ad869d25ee8b7f99afa9416926c2b,openstack/requirements,master,new/adjutant_confspirator,Id6853599492ad869d25ee8b7f99afa9416926c2b,cap toml library because of nested dict bug,MERGED,2020-08-17 03:40:53.000000000,2020-08-21 10:08:00.000000000,2020-08-21 10:06:32.000000000,2,1,0,746434,293e6502fa960bc21db55d96cc9071a052007d1a,15,3,2,2,10420,Adrian Turjak,adriant,"cap toml library because of nested dict bug

version 0.10.1 causes a bug with how nested dicts are handled
and we should stay with 0.10.0 until it is fixed:
https://github.com/uiri/toml/issues/295

Change-Id: Id6853599492ad869d25ee8b7f99afa9416926c2b
"
openstack%2Fproject-config~master~If9189ccef8a5f58c7228f72c1381c2bc47d5f356,openstack/project-config,master,new-project,If9189ccef8a5f58c7228f72c1381c2bc47d5f356,Add openstack/etcd3gw,MERGED,2020-08-20 14:36:04.000000000,2020-08-21 10:07:16.000000000,2020-08-21 07:49:36.000000000,36,0,2,747185,c2f434bd2faac4b435d8565f4013d29b14c96953,21,13,3,4,30491,Radosław Piliszek,yoctozepto,"Add openstack/etcd3gw

Per [1] and [2].

Cloned from forked repo to skip old branches.

[1] https://github.com/dims/etcd3-gateway/issues/29
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016470.html

Needed-By: https://review.opendev.org/747188
Change-Id: If9189ccef8a5f58c7228f72c1381c2bc47d5f356
"
openstack%2Fneutron-dynamic-routing~stable%2Ftrain~I8e8a9ce5085b7915994317af5ea903cf8a39e809,openstack/neutron-dynamic-routing,stable/train,bug/1863021-stable/train,I8e8a9ce5085b7915994317af5ea903cf8a39e809,Monkey patch original current_thread _active,MERGED,2020-05-06 08:35:07.000000000,2020-08-21 10:06:47.000000000,2020-08-21 10:04:24.000000000,6,0,0,725790,56de1c4330de76256937ecd0b1d8cde8f16d9f0a,23,6,3,1,21798,Bernard Cafarelli,bcafarel,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Change-Id: I8e8a9ce5085b7915994317af5ea903cf8a39e809
Closes-Bug: #1863021
(cherry picked from commit 44e77ea9a975e9222f38591151e2c32640ef7379)
"
openstack%2Fneutron~stable%2Ftrain~I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe,openstack/neutron,stable/train,bug/1881157,I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe,[OVS][FW] Remote SG IDs left behind when a SG is removed,MERGED,2020-07-31 09:03:28.000000000,2020-08-21 09:55:56.000000000,2020-08-07 02:58:55.000000000,169,45,0,744105,6615f248e25a361d988db1795a3486a58f4768cb,34,5,2,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVS][FW] Remote SG IDs left behind when a SG is removed

When any port in the OVS agent is using a security groups (SG) and
this SG is removed, is marked to be deleted. This deletion process
is done in [1].

The SG deletion process consists on removing any reference of this SG
from the firewall and the SG port map. The firewall removes this SG in
[2].

The information of a SG is stored in:
* ConjIPFlowManager.conj_id_map = ConjIdMap(). This class stores the
  conjunction IDS (conj_ids) in a dictionary using the following keys:

    ConjIdMap.id_map[(sg_id, remote_sg_id, direction, ethertype,
      conj_ids)] = conj_id_XXX

* ConjIPFlowManager.conj_ids is a nested dictionary, built in the
  following way:

    self.conj_ids[vlan_tag][(direction, ethertype)][remote_sg_id] = \
      set([conj_id_1, conj_id_2, ...])

This patch stores all conjuntion IDs generated and assigned to the
tuple (sg_id, remote_sg_id, direction, ethertype). When a SG is
removed, the deletion method will look for this SG in the new storage
variable created, ConjIdMap.id_map_group, and will mark all the
conjuntion IDs related to be removed. That will cleanup those rules
left in the OVS matching:
  action=conjunction(conj_id, 1/2)

[1]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L731
[2]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L399

Conflicts:
      neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py

Change-Id: I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe
Related-Bug: #1881157
(cherry picked from commit 0eebd002ccda66dc6d9f9e5a254815109225e299)
(cherry picked from commit ed22f7a2ff19a874bc8521f84cb4fd1c7483a23f)
"
openstack%2Ftrove~master~Ibbb2c24057035557a7ed8c305bc5618b36ffb7d8,openstack/trove,master,deprecated_options,Ibbb2c24057035557a7ed8c305bc5618b36ffb7d8,remove deprecated option for trove,ABANDONED,2020-08-10 10:10:22.000000000,2020-08-21 09:47:39.000000000,,0,3,1,745514,a6581646c06265894cf541c4e30e68bd01c3b8d1,5,3,1,1,32029,likui,likui,"remove deprecated option for trove

Remove option ""network_label_regex"" from cfg.py is deprecated for removal

Change-Id: Ibbb2c24057035557a7ed8c305bc5618b36ffb7d8
"
openstack%2Fkolla-ansible~stable%2Ftrain~Id0750b84fef8e19658b27f8ae16a857e1394216e,openstack/kolla-ansible,stable/train,add_guestagent_conf-stable/ussuri-stable/train,Id0750b84fef8e19658b27f8ae16a857e1394216e,Add trove-guestagent.conf,ABANDONED,2020-08-21 01:41:47.000000000,2020-08-21 09:46:45.000000000,,38,1,0,747320,d8b8aa98e6c8157ba87143027707d21faf070ef1,6,2,1,4,32029,likui,likui,"Add trove-guestagent.conf

Add trove-guestagent.conf templates for trove-guestagent service.
Default the Guest Agent config file to be injected during instance creation.

Change-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e
(cherry picked from commit 38881963344446f43ad667d3ceeac8348fac5f37)
"
openstack%2Fkolla-ansible~stable%2Fstein~Id0750b84fef8e19658b27f8ae16a857e1394216e,openstack/kolla-ansible,stable/stein,add_guestagent_conf-stable/ussuri-stable/train-stable/stein,Id0750b84fef8e19658b27f8ae16a857e1394216e,Add trove-guestagent.conf,ABANDONED,2020-08-21 01:44:02.000000000,2020-08-21 09:46:22.000000000,,38,1,0,747321,309b2830a11b94398cc5c925bc6c2f01e3375b40,5,3,1,4,32029,likui,likui,"Add trove-guestagent.conf

Add trove-guestagent.conf templates for trove-guestagent service.
Default the Guest Agent config file to be injected during instance creation.

Change-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e
(cherry picked from commit 38881963344446f43ad667d3ceeac8348fac5f37)
"
openstack%2Foctavia~stable%2Fussuri~I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb,openstack/octavia,stable/ussuri,,I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb,Fix accepting 'insert_headers' when unsupported,MERGED,2020-08-18 21:21:42.000000000,2020-08-21 09:41:40.000000000,2020-08-21 09:38:50.000000000,83,11,0,746802,621acb4278d337e379bdcb0ed65e434bd94db11b,12,4,2,4,11628,Michael Johnson,johnsom,"Fix accepting 'insert_headers' when unsupported

This patch fixes the Octavia listener API from accepting the
'insert_headers' parameter for protocols that do not support header
insertion.

Change-Id: I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb
Story: 2007967
Task: 40464
(cherry picked from commit 08fad7496612962418c81c2d981069bde275157b)
"
openstack%2Fbifrost~bugfix%2F8.3~Ia94ee8a635629f4311dcde611d0e69a2b7c444a9,openstack/bifrost,bugfix/8.3,auth-bugfix/8.3,Ia94ee8a635629f4311dcde611d0e69a2b7c444a9,dynamic: always use clouds.yaml when it is available,MERGED,2020-08-19 16:23:37.000000000,2020-08-21 09:40:08.000000000,2020-08-21 09:37:16.000000000,15,6,0,746978,29087d0d702ce3fd34d6f684fa691dca0cff3be4,11,4,1,1,10239,Dmitry Tantsur,dtantsur,"dynamic: always use clouds.yaml when it is available

Currently it is ignored when noauth_mode is true (the default).

Change-Id: Ia94ee8a635629f4311dcde611d0e69a2b7c444a9
(cherry picked from commit d203955c28db557efdc2ab91cfd4ef3413e7b785)
"
openstack%2Fkuryr-kubernetes~master~I8e2f7d9837aaf7aad12e350b06816a088e7122df,openstack/kuryr-kubernetes,master,fix_typo,I8e2f7d9837aaf7aad12e350b06816a088e7122df,Fix typo,MERGED,2020-08-21 01:20:10.000000000,2020-08-21 09:39:52.000000000,2020-08-21 09:38:01.000000000,1,1,0,747317,b7794a30c21a1cdb9e16612b509bf432182c61cb,8,3,1,1,31835,xujingsong,xieyanker,"Fix typo

Change-Id: I8e2f7d9837aaf7aad12e350b06816a088e7122df
"
openstack%2Fvitrage~stable%2Fstein~Ifc5e9d3dfb79548bff273655ad812de507876c1c,openstack/vitrage,stable/stein,eyalb/id,Ifc5e9d3dfb79548bff273655ad812de507876c1c,Newer clients use id and not uuid as a parameter,MERGED,2020-08-20 15:27:00.000000000,2020-08-21 09:35:41.000000000,2020-08-21 09:30:35.000000000,8,1,0,747209,fc1de82c6669318bafad6e7d9da7afc4d592a9b9,11,2,3,2,19134,Eyal,eyalb,"Newer clients use id and not uuid as a parameter

make sure it works with id as a parameter

Change-Id: Ifc5e9d3dfb79548bff273655ad812de507876c1c
"
openstack%2Fbifrost~bugfix%2F8.3~Id161e2dac0d574377d27e4560ec5f9eea66c0d3d,openstack/bifrost,bugfix/8.3,create-8.3,Id161e2dac0d574377d27e4560ec5f9eea66c0d3d,Update TOX_CONSTRAINTS_FILE for bugfix/8.3,MERGED,2020-08-13 15:58:38.000000000,2020-08-21 09:32:43.000000000,2020-08-21 09:26:36.000000000,3,3,0,746179,15e50e893a0d1af22bb874826b65434eb0ae96cf,10,3,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for bugfix/8.3

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Id161e2dac0d574377d27e4560ec5f9eea66c0d3d
"
openstack%2Fbifrost~bugfix%2F8.3~Ibed331cc8a84ee0fab1807e5911b08460a4d6cbc,openstack/bifrost,bugfix/8.3,create-8.3,Ibed331cc8a84ee0fab1807e5911b08460a4d6cbc,Update .gitreview for bugfix/8.3,MERGED,2020-08-13 15:58:36.000000000,2020-08-21 09:28:39.000000000,2020-08-21 09:26:35.000000000,1,0,0,746178,bbb2a7cb1fa09673556cb06c1ec8f13ff95addbe,20,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for bugfix/8.3

Change-Id: Ibed331cc8a84ee0fab1807e5911b08460a4d6cbc
"
openstack%2Fkolla~master~I2135d6477d07e8786b81e6e3ea9f3367fc5e3ec6,openstack/kolla,master,ironic-pxe-multi-arch,I2135d6477d07e8786b81e6e3ea9f3367fc5e3ec6,ironic-pxe: add syslinux-tftpboot on ppc64le,MERGED,2020-08-17 22:29:48.000000000,2020-08-21 09:26:11.000000000,2020-08-21 09:24:01.000000000,1,1,1,746611,f64ecd98e8df26589b85b5b7445d5e0eca8ee15a,16,6,2,1,32322,Yaakov Selkowitz,yselkowitz,"ironic-pxe: add syslinux-tftpboot on ppc64le

syslinux-tftpboot was made installable on and shipped for ppc64le in RHEL
and CentOS 8.1.

Change-Id: I2135d6477d07e8786b81e6e3ea9f3367fc5e3ec6
"
openstack%2Fopenstack-ansible-os_octavia~master~I0bd9a36b69fb2eb388b0e23ed1fb52644d7ba4bc,openstack/openstack-ansible-os_octavia,master,bind-to-mgmt,I0bd9a36b69fb2eb388b0e23ed1fb52644d7ba4bc,Use the utility host for db setup tasks,MERGED,2020-08-20 16:31:09.000000000,2020-08-21 09:24:56.000000000,2020-08-21 09:22:48.000000000,12,1,0,747248,7fb7f1ba753e0c146602839ec5f2a676d93830f5,8,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I0bd9a36b69fb2eb388b0e23ed1fb52644d7ba4bc
"
openstack%2Fkolla-ansible~stable%2Ftrain~I729862b89b4fe65cbb7f852fac06741b636e4939,openstack/kolla-ansible,stable/train,,I729862b89b4fe65cbb7f852fac06741b636e4939,CI: enable Ansible SSH pipelining,MERGED,2020-08-19 18:43:53.000000000,2020-08-21 09:16:45.000000000,2020-08-21 09:13:42.000000000,3,0,0,747021,f22643ff5ecab957229af4820a82b52fbce7ad0e,8,4,1,1,30491,Radosław Piliszek,yoctozepto,"CI: enable Ansible SSH pipelining

This should improve performance of CI jobs.

Change-Id: I729862b89b4fe65cbb7f852fac06741b636e4939
(cherry picked from commit 9fac359bf4ec1374ba84ff5990f3ef74454d8c07)
"
openstack%2Fdevstack~stable%2Fussuri~I5344ecf519e1a79091b6158c2d711d09b21fae0c,openstack/devstack,stable/ussuri,bug/1885645-stable/ussuri,I5344ecf519e1a79091b6158c2d711d09b21fae0c,Use python3-mod-wsgi instead of mod_wsgi on CentOS8,MERGED,2020-08-17 19:42:18.000000000,2020-08-21 09:11:23.000000000,2020-08-21 09:08:52.000000000,1,1,0,746590,96c2aa13fe9345bef31ef053faae334e2663a509,17,8,1,1,26106,Tom Stappaerts,TomStappaerts,"Use python3-mod-wsgi instead of mod_wsgi on CentOS8

This fixes a stack.sh execution error on CentOS8. We should use
python3-mod_wsgi instead of mod_wsgi since mod_wsgi is replaced by
python3-mod_wsgi. The following change may affect this issue.
https://git.centos.org/rpms/mod_wsgi/c/4a746b53e9e3fef74b227e016e785449160871b8?branch=c8s

Change-Id: I5344ecf519e1a79091b6158c2d711d09b21fae0c
Closes-Bug: #1885645
(cherry picked from commit 1e26508983a1ebf2c23560395ffca8b1f6f79462)
"
openstack%2Fopenstack-ansible-os_trove~master~I4f469df19bb371b0d38a6438a05054cd21152abd,openstack/openstack-ansible-os_trove,master,bind-to-mgmt,I4f469df19bb371b0d38a6438a05054cd21152abd,Use the utility host for db setup tasks,MERGED,2020-08-20 16:46:31.000000000,2020-08-21 09:04:00.000000000,2020-08-21 09:01:47.000000000,13,2,0,747253,653aeffecf9aba40433cf7674cdf881d6b350d3a,8,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I4f469df19bb371b0d38a6438a05054cd21152abd
"
openstack%2Fkolla-ansible~stable%2Ftrain~If90c2dfd32c8bc50671f6dd38e5a82b434c07151,openstack/kolla-ansible,stable/train,bifrost-deploy-proxy-stable/ussuri-stable/train,If90c2dfd32c8bc50671f6dd38e5a82b434c07151,Add support to use bifrost-deploy behind proxy,MERGED,2020-08-17 16:10:30.000000000,2020-08-21 09:00:29.000000000,2020-08-21 08:57:26.000000000,6,0,0,746558,421246a338bedf48c377e8e818848c19a8d556fe,10,4,1,2,30491,Radosław Piliszek,yoctozepto,"Add support to use bifrost-deploy behind proxy

Change-Id: If90c2dfd32c8bc50671f6dd38e5a82b434c07151
Depends-On: https://review.opendev.org/#/c/720338
(cherry picked from commit 9da39345add7a28f05c7d6d30d3296fbdec18042)
"
openstack%2Fcharm-nova-cloud-controller~master~Ia6f14a98ce3e5649f290561f59d691ded3d19177,openstack/charm-nova-cloud-controller,master,bug/1889756,Ia6f14a98ce3e5649f290561f59d691ded3d19177,Set up nova-scheduler processes based on worker-multiplier,MERGED,2020-07-31 16:20:39.000000000,2020-08-21 08:59:44.000000000,2020-08-21 08:59:44.000000000,4,0,0,744214,dde75693c71fd23ae85b8d3f1ae2dfa685df3170,13,4,1,2,8108,Nobuto Murata,nobuto-m,"Set up nova-scheduler processes based on worker-multiplier

Upstream Nova introduced multiple scheduler support in Rocky. Apply the
number of scheduler workers based on worker-multiplier so users can
control resource consumption instead of having the same number of
workers with the available CPU threads.

Change-Id: Ia6f14a98ce3e5649f290561f59d691ded3d19177
Closes-Bug: #1889756
"
openstack%2Fneutron~master~I0f3cb6f534072e166610b417059acbe89302473a,openstack/neutron,master,,I0f3cb6f534072e166610b417059acbe89302473a,[ovn]: gracefully handle logical switch ports with tag set to None,MERGED,2020-07-23 23:08:01.000000000,2020-08-21 08:58:57.000000000,2020-07-24 18:09:11.000000000,1,0,4,742758,fe440bdd6be190588ec4310ef9630285c0acfec6,23,11,2,1,11952,Flavio Fernandes,ffernand,"[ovn]: gracefully handle logical switch ports with tag set to None

AddLSwitchPortCommand takes kwargs as columns and tag is one of them.
It is possible that tag is provided with the value None and that is
not valid. The proposed change gracefully handles such cases so the
transaction is not aborted.

Change-Id: I0f3cb6f534072e166610b417059acbe89302473a
Closes-Bug: #1888736
"
openstack%2Fopenstack-ansible-os_tacker~master~I065c079fb95f299f90b51e22e8aad42fc5dbb618,openstack/openstack-ansible-os_tacker,master,bind-to-mgmt,I065c079fb95f299f90b51e22e8aad42fc5dbb618,Use the utility host for db setup tasks,MERGED,2020-08-20 16:42:06.000000000,2020-08-21 08:52:51.000000000,2020-08-21 08:50:43.000000000,12,1,0,747252,2e04617116a0f0fe96e8b23d278fb7afbf13d28d,8,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I065c079fb95f299f90b51e22e8aad42fc5dbb618
"
openstack%2Fkuryr-kubernetes~master~Ie82a153c89119fc8f70071353c8e46b27d643935,openstack/kuryr-kubernetes,master,bug/1892208,Ie82a153c89119fc8f70071353c8e46b27d643935,NP: Don't add pods without IP to affectedPods,MERGED,2020-08-19 15:32:45.000000000,2020-08-21 08:49:05.000000000,2020-08-21 08:46:56.000000000,3,1,0,746961,dabb2a70ea46b5e8accee44a69a22c97bdb028d7,16,6,1,2,11600,Michał Dulko,dulek,"NP: Don't add pods without IP to affectedPods

We use affectedPods to comfortably track the list of the pods that the
NetworkPolicy indirectly targets (i.e. matches their ports). It doesn't
make sense to put pods without IP there, as well as it is impossible now
with new KuryrNetworkPolicy CRD.

We haven't seen that problem on previous CRD as we've used a weird
format to save that info: {'<pod-ip>': '<pod-namespace'}. If <pod-ip>
was None, json.dumps serialized that into {'null': '<pod-namespace>'},
which was as happily accepted by K8s API as it was utterly useless.

This commit makes sure we only put pods with IP on affectedPods field.
Please also note that we already have protection in place to make sure
we won't create rules for pods without IP (those rules would effectively
open too much traffic), so that is already covered.

Change-Id: Ie82a153c89119fc8f70071353c8e46b27d643935
Closes-Bug: 1892208
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~Ife52b5986de15b6e34bff7f9dc7be2199efa5650,openstack/puppet-openstack_spec_helper,stable/train,,Ife52b5986de15b6e34bff7f9dc7be2199efa5650,Remove Puppet upper cap,MERGED,2020-07-22 02:31:26.000000000,2020-08-21 08:45:37.000000000,2020-08-21 08:45:37.000000000,1,3,0,742331,bdc5deac82e780561c4aca195434fad7537389a5,9,4,1,1,9816,Takashi Kajinami,kajinamit,"Remove Puppet upper cap

The bug is fixed in later versions so we dont
need to cap to this upper version anymore.

See [1] on how it was originally.

[1] https://github.com/openstack/puppet-openstack_spec_helper/commit/63737d7f89dfdb300463a630305642115be92b8a

Change-Id: Ife52b5986de15b6e34bff7f9dc7be2199efa5650
(cherry picked from commit 704358fe69c2d61a6150ed2a24af965e493abf85)
"
openstack%2Freleases~master~I9c538ff9996ca95b908b733326ed6872049b250c,openstack/releases,master,oslo-independent-2020-08-20,I9c538ff9996ca95b908b733326ed6872049b250c,Release pbr 5.5.0,ABANDONED,2020-08-20 16:27:32.000000000,2020-08-21 08:43:36.000000000,,4,0,0,747244,c6abf247652d4451a5845ea98c685a5a64c7e77d,4,1,1,1,28522,Hervé Beraud,hberaud,"Release pbr 5.5.0

Many patches have been merged recently it could be worth to make a new
release for them.

Change-Id: I9c538ff9996ca95b908b733326ed6872049b250c
"
openstack%2Fkolla-ansible~stable%2Fstein~If90c2dfd32c8bc50671f6dd38e5a82b434c07151,openstack/kolla-ansible,stable/stein,bifrost-deploy-proxy-stable/ussuri-stable/train-stable/stein,If90c2dfd32c8bc50671f6dd38e5a82b434c07151,Add support to use bifrost-deploy behind proxy,MERGED,2020-08-17 16:10:37.000000000,2020-08-21 08:35:00.000000000,2020-08-21 08:32:32.000000000,6,0,0,746559,50947b418478c7bd37dc5a5e64a2eaed03cc1776,9,4,1,2,30491,Radosław Piliszek,yoctozepto,"Add support to use bifrost-deploy behind proxy

Change-Id: If90c2dfd32c8bc50671f6dd38e5a82b434c07151
Depends-On: https://review.opendev.org/#/c/720338
(cherry picked from commit 9da39345add7a28f05c7d6d30d3296fbdec18042)
"
openstack%2Fopenstack-ansible-os_zun~master~Ic57de36d5d240e6a5dda6e1794aa04d1f77fb962,openstack/openstack-ansible-os_zun,master,bind-to-mgmt,Ic57de36d5d240e6a5dda6e1794aa04d1f77fb962,Use the utility host for db setup tasks,MERGED,2020-08-20 16:51:54.000000000,2020-08-21 08:28:40.000000000,2020-08-21 08:26:34.000000000,12,1,0,747255,07d78458207156378406db2f8cb7a6140c047b47,8,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: Ic57de36d5d240e6a5dda6e1794aa04d1f77fb962
"
openstack%2Ftempest~master~Icb871c2b106ee0b9770b89d15c54bef65297977c,openstack/tempest,master,,Icb871c2b106ee0b9770b89d15c54bef65297977c,Fix and unskip test_list_servers_filtered_by_ip_regex,MERGED,2020-06-23 14:02:14.000000000,2020-08-21 08:25:47.000000000,2020-08-21 08:22:59.000000000,18,7,16,737545,0a07a0e51f004f79d1ddbc448371c55cfb87ce40,39,9,5,1,22873,Martin Kopec,mkopec,"Fix and unskip test_list_servers_filtered_by_ip_regex

The test assumes that all ip addresses will be allocated in a very
specific and static way. The patch improves the calculation of the
ip regex.

Change-Id: Icb871c2b106ee0b9770b89d15c54bef65297977c
Closes-Bug: #1540645
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e,openstack/python-tripleoclient,stable/train,RHBZ#1868910-stable/train,Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e,Limit ip_version when resolving public_host and admin_host,MERGED,2020-08-18 18:40:54.000000000,2020-08-21 08:21:30.000000000,2020-08-21 08:18:51.000000000,11,7,0,746786,1399785a59a8e08b2228c957e8aeabad104a7101,11,4,2,2,3153,Emilien Macchi,emilienm,"Limit ip_version when resolving public_host and admin_host

Use the the local_ip config option to filter results to a single
ip version when resolving public_host and admin_host to ip
addresses.

When nameservers return result for both IPv4 and IPv6 we currently
fail, due to multiple IP's for the host.

Change-Id: Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e
Related-Bug: #1763776
Related: RHBZ#1868910
(cherry picked from commit 1fd42a85da98e356e85146a9afbec528584c600b)
"
openstack%2Fec2-api~stable%2Fstein~I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1,openstack/ec2-api,stable/stein,,I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1,Fix AMI image registration,MERGED,2020-08-20 15:35:28.000000000,2020-08-21 08:03:22.000000000,2020-08-21 07:57:10.000000000,15,20,0,747217,c0be8589784a1500b2cdf31eca69fc52b6f1a865,18,2,2,2,10234,Andrey Pavlov,andrey-mp,"Fix AMI image registration

Change-Id: I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1
"
openstack%2Fkarbor~master~Id481506ee49ab6440cc908b912dcbda5be5f0e0b,openstack/karbor,master,,Id481506ee49ab6440cc908b912dcbda5be5f0e0b,[WIP] Switch legacy Zuul jobs to native Zuul v3 jobs,ABANDONED,2020-08-11 02:00:59.000000000,2020-08-21 07:49:57.000000000,,67,190,2,745614,a06ee13cd2df4da8082f7817a5c249a13cef6d58,23,4,8,10,29729,wangyu,wangyu,"[WIP] Switch legacy Zuul jobs to native Zuul v3 jobs

Change-Id: Id481506ee49ab6440cc908b912dcbda5be5f0e0b
"
openstack%2Ftripleo-ansible~master~I40b5ef703a19f7b839ff6f263140ca3cf5c4dfd8,openstack/tripleo-ansible,master,,I40b5ef703a19f7b839ff6f263140ca3cf5c4dfd8,Use latest ansible-lint,MERGED,2020-08-20 10:40:14.000000000,2020-08-21 07:47:19.000000000,2020-08-21 07:47:19.000000000,10,6,3,747139,9404c783b497a2fd36480ab6f5abf5cdf889ef0d,15,3,3,1,8833,Rabi Mishra,rabi,"Use latest ansible-lint

we need fix[1] to bypass RepresenterError when using to_yaml filter.

This patch also migrates to pycqa/flake8 hooks repo for missing flake8.

Adds missing flake8 and ignores some newly added flake8 rules that would
be fixed in subsequent patches.

[1] https://github.com/ansible/ansible-lint/pull/518

Closes-Bug: #1892056
Change-Id: I40b5ef703a19f7b839ff6f263140ca3cf5c4dfd8
"
openstack%2Fpython-glanceclient~master~I88e1652fa2f99d475efd7489dcb3c3c1bb06f015,openstack/python-glanceclient,master,,I88e1652fa2f99d475efd7489dcb3c3c1bb06f015,Fix hacking min version to 3.0.1,MERGED,2020-05-13 00:31:23.000000000,2020-08-21 07:06:54.000000000,2020-08-21 07:04:48.000000000,1,1,0,727533,04d2fa705869e4ad2b1aab763290743081d0a590,9,4,1,1,8556,Ghanshyam,ghanshyam,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: I88e1652fa2f99d475efd7489dcb3c3c1bb06f015
"
openstack%2Fmanila~master~Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,openstack/manila,master,bug/1782859,Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,Update access rules documentation for user guide,MERGED,2020-08-06 19:45:55.000000000,2020-08-21 06:51:10.000000000,2020-08-21 00:13:53.000000000,80,22,2,745210,e2e764d9763b9367321a4c7f14b0150f67f3b08e,19,6,2,1,30002,Douglas Viroel,dviroel,"Update access rules documentation for user guide

Updates user guide documentation to provide metadata info
to an access rules. Also add two new operations for access
rule metadata: 'access-metadata set' and 'access-metadata unset'

Change-Id: Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35
Closes-Bug: #1782859
"
openstack%2Fglance_store~stable%2Fussuri~Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4,openstack/glance_store,stable/ussuri,native-zuulv3-migration,Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4,zuul: glance_store-src-ceph-tempest replaces a legacy job,MERGED,2020-07-31 12:29:25.000000000,2020-08-21 06:50:00.000000000,2020-08-21 06:45:00.000000000,13,2,0,744148,bbd97858d9c5b8d2ddc14accb28fec855254c926,8,3,1,1,10459,Luigi Toscano,ltoscano,"zuul: glance_store-src-ceph-tempest replaces a legacy job

It replaces legacy-tempest-dsvm-full-ceph-plugin-src-glance_store
which is defined inside openstack-zuul-jobs.
It is really a variant of the devstack-plugin-ceph-tempest job.

Remove .zuul.yaml from the ignored file list as in other jobs.

Change-Id: Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4
(cherry picked from commit 1f50f31c14803ea2eec021b3deb287b5a9facc27)
"
openstack%2Ftripleo-common~stable%2Ftrain~If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,openstack/tripleo-common,stable/train,train/uidgid,If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,(backward compatibility) create kolla UIDs/GIDs for TCIB,MERGED,2020-08-17 15:05:23.000000000,2020-08-21 06:30:18.000000000,2020-08-21 06:27:44.000000000,158,29,0,746540,5397e9eb4fcf2c95f50049995d433bca3ea3dcf9,35,6,2,30,3153,Emilien Macchi,emilienm,"(backward compatibility) create kolla UIDs/GIDs for TCIB

When upgrading container images from Kolla-based to TCIB-based, the
config files can't be read if we don't apply the new chown values unless
we re-use the same UIDs/GIDs as we had with Kolla; which is what we'll
do for now until we figure out an easy way to update config permissions
during the upgrade/update stage.

This introduces a new script, that will be injected in the base layer:

uid_gid_manage.sh

Usage:

./uid_gid_manage.sh qemu nova

It'll first create the qemu user/group, then nova user/group.
The format aims to be simple:

<username> <uid> <gid> <optional homedir> <optional list of extra groups>

It's also removing instances of usermod which aren't needed anymore;
since we create the user / groups only in the images where they are
needed; which wasn't the case for Kolla where all users/groups were
created in the base image.

Note: we create the user/group before installing packaging so if
packaging creates directories and sets permissions, it'll be with the
right UID/GID (unless packaging overrides UID/GID but rarely do it).

Related-Bug: #1890798

Change-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6
(cherry picked from commit fb0ec2ffd0a99d441c361bb83472e48ead18d013)
"
openstack%2Fmanila~master~I8d904cb3aab4d653178948284571f471bd59ac1b,openstack/manila,master,bug/1878244,I8d904cb3aab4d653178948284571f471bd59ac1b,Update docs for create share from snapshot in another back end,MERGED,2020-05-21 14:55:04.000000000,2020-08-21 06:23:00.000000000,2020-08-21 01:38:32.000000000,94,65,14,729991,6b8f416e1b20b82617ecd4feff9cbc1c5d914c25,41,9,5,2,30002,Douglas Viroel,dviroel,"Update docs for create share from snapshot in another back end

This patch add some notes regarding the use of scheduler when
creating share from snapshot in another pool or backend.

Change-Id: I8d904cb3aab4d653178948284571f471bd59ac1b
Closes-Bug: #1878244
"
openstack%2Ftripleo-validations~stable%2Fussuri~I3bec039283fe5df56771d84fff5bd5940fd149d8,openstack/tripleo-validations,stable/ussuri,custom-roles-stable/ussuri,I3bec039283fe5df56771d84fff5bd5940fd149d8,Allows to use custom role name for validations,MERGED,2020-08-18 06:03:48.000000000,2020-08-21 06:06:28.000000000,2020-08-20 14:51:06.000000000,14,10,0,746635,088c4a1301ea53df1ed1a99ffbca384cbeef531d,24,6,1,10,28223,Cedric Jeanneret,cjeanner,"Allows to use custom role name for validations

The tripleo-ansible-inventory script uses the role names in order to
group the different hosts.

Since we can use custom roles, the fixed ""Controller"" and others aren't
relevant in such cases.

Ansible allows to use parameter for the ""hosts"" value in playbooks,
allowing us to call the validations using this command:

openstack tripleo validator run --validation haproxy \
  --extra-vars '{""controller_rolename"": ""MyCustomController""}'

(or use the --extra-vars-file in order to avoid in-line JSON)

This patch also correct a non-existent group call, Database. The closest
we have is the ""mysql"" group in the inventory - let's reflect it in
order to avoid useless warning(s).

Change-Id: I3bec039283fe5df56771d84fff5bd5940fd149d8
(cherry picked from commit ec0465e481234da62d1ba673b4432e44c930f630)
"
openstack%2Ftripleo-validations~stable%2Fussuri~Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed,openstack/tripleo-validations,stable/ussuri,validate-selinux/work-dif-stable/ussuri,Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed,Corrected work directory for validate-selinux,MERGED,2020-08-20 12:29:53.000000000,2020-08-21 06:06:08.000000000,2020-08-21 03:37:02.000000000,1,1,0,747153,70b766c2f9240e75d0c62f791d47d24d8fad0a31,11,6,1,1,28223,Cedric Jeanneret,cjeanner,"Corrected work directory for validate-selinux

the /var/log/validations directory doesn't exist on the overcloud, since
we don't install the validations there.

Closes-Bug: #745299
Change-Id: Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed
(cherry picked from commit 9645db1f74b2052ca009767b3f85642dd1e6e49f)
"
openstack%2Fglance~master~I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0,openstack/glance,master,copy-image_race,I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0,WIP: Fix race condition in copy image operation,ABANDONED,2020-06-23 18:28:53.000000000,2020-08-21 05:49:28.000000000,,248,16,94,737596,221672a1bf111e50fa00cb69004c00d238c45cc4,78,8,13,5,9303,Abhishek Kekane,abhishekkekane,"WIP: Fix race condition in copy image operation

Setting new property 'os_glance_import_task' using new
'image_set_atomic_property' DB API which will set only
once during active image import operation. If any other
import api operation imposed on same image while first
operation is progress then the same will be rejected
and HTTP 409 response will be returned to the user.

The 'os_glance_import_task' can have two value options
""Pending"" or UUID. When API receives import request it
will set the property to ""Pending"" and once the
Taskflow is executed it will flip that property to the
task_id. The locking is valid for 30min of no updates
on the image while ""Pending"" and 1 day if the execution
has started.

Co-authored-by: Erno Kuvaja <jokke@usr.fi>

Closes-Bug: #1884596
Change-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0
"
openstack%2Ftripleo-ci~master~I22331644f98fe476365423ffbf7e5969dc94f95f,openstack/tripleo-ci,master,rhel-modules,I22331644f98fe476365423ffbf7e5969dc94f95f,Add option to add rhel modules to container build template,MERGED,2020-08-19 21:42:43.000000000,2020-08-21 05:18:09.000000000,2020-08-21 05:18:09.000000000,3,0,0,747047,5485004152e0e34ced61e7eee6881a90d1c9d891,13,5,1,1,9976,Ronelle Landy,rlandy,"Add option to add rhel modules to container build template

If rhel modules are defined, they need to be passed to the
build script to be included in the containers.

Related review: https://review.opendev.org/#/c/747024/

Change-Id: I22331644f98fe476365423ffbf7e5969dc94f95f
"
openstack%2Ftripleo-ci~master~Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f,openstack/tripleo-ci,master,containers_roles_path,Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f,Modify container build roles path to include venv ansible/roles,MERGED,2020-08-04 20:44:36.000000000,2020-08-21 05:18:08.000000000,2020-08-21 05:18:08.000000000,24,9,0,744786,f082f0b8f4f24308a510ba2d3f19024ec76ecde9,40,7,12,1,9976,Ronelle Landy,rlandy,"Modify container build roles path to include venv ansible/roles

roles/build-containers/templates/build.sh.j2 aleady
included code to symlink the tripleo-common roles
from the venv to the roles path.

This review generalizes that code and includes
ansible/roles directory to symlink the roles
from tripleo-ansible installed in the venv.

Change-Id: Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f
"
openstack%2Ftripleo-ci~master~I0073a9cf7083a917968b6fff5b6ee35aa344c46e,openstack/tripleo-ci,master,separate-base-requirements,I0073a9cf7083a917968b6fff5b6ee35aa344c46e,Separate required-projects and roles from base jobs,MERGED,2020-08-03 21:39:26.000000000,2020-08-21 05:18:06.000000000,2020-08-21 05:18:06.000000000,106,43,8,744562,0af7328a1f19a96c9d65173e3f90d07d083d239c,43,9,8,3,9976,Ronelle Landy,rlandy,"Separate required-projects and roles from base jobs

Keep required-projects and roles in separate parent
jobs so they can be shadowed downstream.

This will allow downstream to override required-projects
and roles while still parenting from upstream.

Change-Id: I0073a9cf7083a917968b6fff5b6ee35aa344c46e
"
openstack%2Fpython-openstackclient~master~Ib074c76d3e3d8afff02a6004d8c5cf7da29de68b,openstack/python-openstackclient,master,bug/2008041,Ib074c76d3e3d8afff02a6004d8c5cf7da29de68b,WIP: add unit tests for server group list with 2.64 API,ABANDONED,2020-08-20 12:00:20.000000000,2020-08-21 05:15:41.000000000,,132,2,0,747147,996d4e3fa696cf0bc160cd0de87225267959a5cb,6,2,3,3,9816,Takashi Kajinami,kajinamit,"WIP: add unit tests for server group list with 2.64 API

Change-Id: Ib074c76d3e3d8afff02a6004d8c5cf7da29de68b
"
openstack%2Fpuppet-panko~master~I00518ee991df9ab8fbfcb3309413939c500849f7,openstack/puppet-panko,master,expirer-ensure,I00518ee991df9ab8fbfcb3309413939c500849f7,Rename the parameter to define the state of panko-expirer cron job,MERGED,2020-08-14 10:17:12.000000000,2020-08-21 05:07:01.000000000,2020-08-21 05:05:48.000000000,35,12,1,746314,4184e32676123fc00fd22e1334de2d8cb499c29c,18,5,3,3,9816,Takashi Kajinami,kajinamit,"Rename the parameter to define the state of panko-expirer cron job

This patch replaces the panko::expirer::enable_cron parameter by
panko::expirer::ensure parameter, so that the parameter name shows
how the parameter actually behaves more clearly.

Change-Id: I00518ee991df9ab8fbfcb3309413939c500849f7
"
openstack%2Fmanila~stable%2Fussuri~Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,openstack/manila,stable/ussuri,bug/1682694,Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,Add mod_wsgi configuration samples,MERGED,2020-08-19 04:31:21.000000000,2020-08-21 04:48:02.000000000,2020-08-20 10:28:46.000000000,56,1,0,746831,eac41910c041cca3583e1e94a9dfbaf7e3229fdd,16,5,1,3,16643,Goutham Pacha Ravi,gouthamr,"Add mod_wsgi configuration samples

Extend docs on running manila API with a web server (Apache, NGINX)
Add samples for mod_wsgi

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6
(cherry picked from commit c1912b70f69bc59c1aaf047a556868d0e27e3518)
"
openstack%2Ftripleo-common~stable%2Ftrain~I474d7d30534cbb2e07fabd21faf57a3a5257c520,openstack/tripleo-common,stable/train,,I474d7d30534cbb2e07fabd21faf57a3a5257c520,[DNM] train,ABANDONED,2020-08-19 05:44:22.000000000,2020-08-21 04:43:56.000000000,,1,0,0,746835,8bc9faeba347784c48d01b9fe2e6c18431e1e049,4,2,1,1,12393,chandan kumar,chkumar246,"[DNM] train

Depends-On: https://review.opendev.org/#/c/746772/

Change-Id: I474d7d30534cbb2e07fabd21faf57a3a5257c520
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Ftripleo-quickstart~master~I7452ae02c763d9540642485f6cdad45ee20cb2f5,openstack/tripleo-quickstart,master,tls_without_novajoin,I7452ae02c763d9540642485f6cdad45ee20cb2f5,Modify fs039 to run without novajoin on Ussuri+,MERGED,2020-06-15 13:34:12.000000000,2020-08-21 03:49:44.000000000,2020-08-21 03:48:16.000000000,13,4,2,735590,5b9868e9f318b19b94cdf7f1bad9fbea86ee8b7c,89,10,7,1,14250,Grzegorz Grasza,xek,"Modify fs039 to run without novajoin on Ussuri+

This tests TLS-Everywhere without novajoin,
which is the new way TLS-Everywhere is supported on master.

Depends-On: https://review.opendev.org/721615
Depends-On: https://review.opendev.org/740102
Change-Id: I7452ae02c763d9540642485f6cdad45ee20cb2f5
"
openstack%2Fpuppet-trove~master~Ia19efd5737c57ccf0f7922c037cce47adf9a2fd6,openstack/puppet-trove,master,bug/1892284,Ia19efd5737c57ccf0f7922c037cce47adf9a2fd6,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-21 03:48:22.000000000,2020-08-21 03:47:20.000000000,19,0,0,747083,1afa1afac188cf759190f23fd20469bc424860ee,14,5,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: Ia19efd5737c57ccf0f7922c037cce47adf9a2fd6
Closes-Bug: #1892284
"
openstack%2Ftripleo-quickstart-extras~master~Ib782aa9ae30903cab4072a5513ac4785500e4f16,openstack/tripleo-quickstart-extras,master,fixtempestcontainer,Ib782aa9ae30903cab4072a5513ac4785500e4f16,Donot add update_containers_append_tag with tempest container,ABANDONED,2020-08-17 07:52:58.000000000,2020-08-21 03:39:18.000000000,,2,2,1,746446,ddd2295ad1dcc818c39ae7cbdaf197cfe5cf6864,10,6,1,1,12393,chandan kumar,chkumar246,"Donot add update_containers_append_tag with tempest container

Since tempest container is available on undercloud registry with
container build tag. But validate-tempest was expecting tempest
container with tag and update_containers_append_tag, which does not
exists on undercloud registry leading to fail to download the
tempest  container.

Removing the update_containers_append_tag will fix the issue.

Closes-Bug: #1891372

Change-Id: Ib782aa9ae30903cab4072a5513ac4785500e4f16
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Ftripleo-common~master~Id306243352f310f9054506577aa9bbce3790a7e5,openstack/tripleo-common,master,,Id306243352f310f9054506577aa9bbce3790a7e5,Ensure atomic inventory file rename runs on the same mountpoint,MERGED,2020-08-18 13:49:12.000000000,2020-08-21 03:38:14.000000000,2020-08-21 03:36:57.000000000,10,2,0,746724,fbd575cbe88400bad1ce4d37b914d7ae8a43e15c,29,14,1,2,23811,Oliver Walsh,owalsh,"Ensure atomic inventory file rename runs on the same mountpoint

Linux rename system call is only supported on the same mountpoint [1].
/tmp is often a tmpfs mount, so instead generate the temp inventory file in
the same directory as the target inventory file.

[1] See EXDEV in https://man7.org/linux/man-pages/man2/rename.2.html

Change-Id: Id306243352f310f9054506577aa9bbce3790a7e5
Closes-bug: #1892008
"
openstack%2Ftripleo-heat-templates~master~I91b14c2bc88c9378a5b36fc96b4f7928163d0246,openstack/tripleo-heat-templates,master,ovs_plugins,I91b14c2bc88c9378a5b36fc96b4f7928163d0246,enable ovs_stats and ovs_events plugins for neutron ovs dpdk agent,MERGED,2020-08-20 11:50:32.000000000,2020-08-21 03:37:04.000000000,2020-08-21 03:37:03.000000000,4,0,0,747146,ec630598843590bb13611a5afa96e437e1c2cba6,13,5,1,1,31108,Gowrishankar,gmuthukr,"enable ovs_stats and ovs_events plugins for neutron ovs dpdk agent

This patch enabled ovs_stats and ovs_events plugins for neutron
ovs dpdk agent.

Change-Id: I91b14c2bc88c9378a5b36fc96b4f7928163d0246
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2500200eba392888015796ec93623df089e8d31d,openstack/tripleo-heat-templates,stable/train,train/vars_from,I2500200eba392888015796ec93623df089e8d31d,Do not hard-code vars_from,MERGED,2020-08-18 06:17:08.000000000,2020-08-21 03:37:01.000000000,2020-08-21 03:37:00.000000000,0,2,0,746639,48f068452bd5c2111b754df750bfa61a26a51e43,17,7,1,1,28223,Cedric Jeanneret,cjeanner,"Do not hard-code vars_from

This break the ability to fix packages depending on the OS.

Change-Id: I2500200eba392888015796ec93623df089e8d31d
Closes-Bug: #1891465
Depends-On: https://review.opendev.org/746637
(cherry picked from commit 20131fd662071037e9aaae1960ac373675883f67)
(cherry picked from commit 701841df54030ab8b36d1bdb970f81621d0062e9)
"
openstack%2Ftripleo-upgrade~stable%2Fussuri~I3d2c7691d43674a0304bea8f366162e808dde3ad,openstack/tripleo-upgrade,stable/ussuri,ffwd-upgrade2-stable/ussuri,I3d2c7691d43674a0304bea8f366162e808dde3ad,Create workload_launch script when sanity testing is enabled,MERGED,2020-08-20 15:41:10.000000000,2020-08-21 03:36:59.000000000,2020-08-21 03:36:58.000000000,11,11,0,747221,06b7d748a953501da875617e398de2d5b005925b,6,2,1,2,6816,Jesse Pretorius,jesse-pretorius,"Create workload_launch script when sanity testing is enabled

If workload testing is not enabled, then the workload script
is not there, so the sanity test fails.

In this patch we change the conditionals to ensure that the
workload launch script is created if either test is enabled.
we also then ensure that the sanity test launches are using
the correct conditional.

Change-Id: I3d2c7691d43674a0304bea8f366162e808dde3ad
(cherry picked from commit 45c2b65361846b69eac136462f368ecd1b0b76da)
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I3d2c7691d43674a0304bea8f366162e808dde3ad,openstack/tripleo-upgrade,stable/train,ffwd-upgrade2-stable/train,I3d2c7691d43674a0304bea8f366162e808dde3ad,Create workload_launch script when sanity testing is enabled,MERGED,2020-08-20 14:45:23.000000000,2020-08-21 03:36:59.000000000,2020-08-21 03:36:59.000000000,11,10,0,747191,fcd079e6bf3f6755d3f7303d408a7b68a5cbd1a0,7,3,1,2,6816,Jesse Pretorius,jesse-pretorius,"Create workload_launch script when sanity testing is enabled

If workload testing is not enabled, then the workload script
is not there, so the sanity test fails.

In this patch we change the conditionals to ensure that the
workload launch script is created if either test is enabled.
we also then ensure that the sanity test launches are using
the correct conditional.

Change-Id: I3d2c7691d43674a0304bea8f366162e808dde3ad
(cherry picked from commit 45c2b65361846b69eac136462f368ecd1b0b76da)
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,openstack/tripleo-upgrade,stable/train,ffwd-upgrade2-stable/train,Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,FFWD: L3 fixup,MERGED,2020-08-20 14:42:11.000000000,2020-08-21 03:36:58.000000000,2020-08-21 03:36:58.000000000,36,136,0,747190,f42cc7926e41f1e902459bf2c01b04a2b128bb25,6,2,1,3,6816,Jesse Pretorius,jesse-pretorius,"FFWD: L3 fixup

Before we fix workload accounting and l3 test scripts we need to
remove extra wokload test during FFWD.

Change-Id: Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0
(cherry picked from commit 854f084fbf7dc71e702dc3c578db0e8283edf5b5)
"
openstack%2Fpuppet-watcher~master~I6bed07ff699ec1d61e05fda032c538b91f0edb66,openstack/puppet-watcher,master,bug/1892284,I6bed07ff699ec1d61e05fda032c538b91f0edb66,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-21 03:10:01.000000000,2020-08-21 03:08:47.000000000,19,0,0,747080,77bb47b3854cb534214153d1952d65a7408f1bad,14,5,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I6bed07ff699ec1d61e05fda032c538b91f0edb66
Closes-Bug: #1892284
"
openstack%2Fos-brick~stable%2Ftrain~I6f01a178616b74ed9a86876ca46e7e46eb360518,openstack/os-brick,stable/train,bug/1823200,I6f01a178616b74ed9a86876ca46e7e46eb360518,ScaleIO: Connection info backward compatibility,MERGED,2020-08-18 00:45:01.000000000,2020-08-21 02:58:06.000000000,2020-08-21 00:14:49.000000000,33,6,52,746621,db95b001e2fe53a71ec0b881407ecdf7c3db32fc,40,13,2,2,21129,Alan Bishop,ASBishop,"ScaleIO: Connection info backward compatibility

When we fixed bug 1823200 in Change-ID
Iab54c515fe7be252df52b1a0503a251779805759 we made the ScaleIO connector
incompatible with the old connection properties dictionary as it only
supported the new 'config_group' and 'failed_over' parameters to get the
password.

This is a problem in any system that is upgraded and has attachments to
the array, because the connection properties of those volumes will not
contain the new fields and detaching them will result in error
""KeyError: 'config_group'"".

This patch adds compatibility code to support the old connection
properties format so we can detach those volumes.

Related-Bug: #1823200
Change-Id: I6f01a178616b74ed9a86876ca46e7e46eb360518
(cherry picked from commit 54504830828757e9d72e9440dde9cff33684a74d)
(cherry picked from commit 31589a624fe8d2ebb56ccbd9c94a8dd559a7da89)
Conflicts:
	os_brick/initiator/connectors/scaleio.py
"
openstack%2Fnova~master~I32908b77c18f8ec08211dd67be49bbf903611c34,openstack/nova,master,bug/1891547,I32908b77c18f8ec08211dd67be49bbf903611c34,libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0,MERGED,2020-08-13 18:09:44.000000000,2020-08-21 02:51:08.000000000,2020-08-21 02:45:36.000000000,141,21,23,746210,bc96af565937072c04dea31781d86d2073b77ed4,75,13,4,4,10135,Lee Yarwood,lyarwood,"libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0

I7eb86edc130d186a66c04b229d46347ec5c0b625 introduced
VIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list
within detach_device_with_retry. While the change correctly referenced
that the error code was introduced in v4.1.0 it made no attempt to
handle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned
to v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the
non-existent error code within the libvirt module.

Closes-Bug: #1891547
Change-Id: I32908b77c18f8ec08211dd67be49bbf903611c34
"
openstack%2Fneutron~master~Ie646b7093aa8634fd950c136a0eba9adcf56591c,openstack/neutron,master,migrate-to-focal,Ie646b7093aa8634fd950c136a0eba9adcf56591c,Bump pylint version to support python 3.8,MERGED,2020-07-31 16:05:34.000000000,2020-08-21 02:49:10.000000000,2020-08-21 02:44:55.000000000,85,95,12,744211,cebdd77af8ed19c2f733f06274052736c2dd5a9c,96,11,4,35,21798,Bernard Cafarelli,bcafarel,"Bump pylint version to support python 3.8

As spotted in Focal testing patch [0], pep8 test fails with many
C0321 false-positives, reported in pylint as current version does not
support python 3.8 [1]

Use a newer version of pylint and astroid, fixing or disabling some of
the new checks: no-else-*, unnecessary-comprehension, import-outside-toplevel

[0] https://review.opendev.org/#/c/738163/
[1] https://github.com/PyCQA/pylint/issues/2737

Change-Id: Ie646b7093aa8634fd950c136a0eba9adcf56591c
"
openstack%2Fnova~master~I176b273d66c870303a86f4df11cc5fc37c36d943,openstack/nova,master,bp/policy-defaults-refresh-deprecated-apis,I176b273d66c870303a86f4df11cc5fc37c36d943,Pass the actual target in baremetal nodes policy,MERGED,2020-07-17 21:09:48.000000000,2020-08-21 02:48:14.000000000,2020-08-21 02:45:01.000000000,4,2,1,741717,fcc451cd4c34aa888b954079970a146817bb7cba,89,13,4,1,8556,Ghanshyam,ghanshyam,"Pass the actual target in baremetal nodes policy

Currently if target is not passed in context.can(),
it use defauls target which is context.user_id, context.project_id.
These defaults target are not useful as it pass the
context's user_id and project_id only which means we tell
oslo policy to verify the context data with context data.

This commit pass the actual target for baremetal nodes policies
which is empty dict because policy rule is system scoped rather
than project, so the token scope check deals with the required
target checking.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I176b273d66c870303a86f4df11cc5fc37c36d943
"
openstack%2Fnova~master~I76bbb570996612c1366b6b6c52772f04a9953080,openstack/nova,master,bp/policy-defaults-refresh-deprecated-apis,I76bbb570996612c1366b6b6c52772f04a9953080,Pass the actual target in networks policy,MERGED,2020-07-23 00:46:24.000000000,2020-08-21 02:45:30.000000000,2020-08-21 02:45:30.000000000,4,2,0,742568,fb3bf32fa225b977ccaf4bebd140de5a3813f56d,87,15,5,1,8556,Ghanshyam,ghanshyam,"Pass the actual target in networks policy

Currently if target is not passed in context.can(),
it use defauls target which is context.user_id, context.project_id.
These defaults target are not useful as it pass the
context's user_id and project_id only which means we tell
oslo policy to verify the context data with context data.

This commit pass the actual target for networks policies
which is context.project_id itself as nova cannot verify the owner of
network. Neutron will return the authorise error is requester is not
owner of network.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I76bbb570996612c1366b6b6c52772f04a9953080
"
openstack%2Fnova~master~Idcccdf6b3a1638cf140b5c4f887abbed85c5d7dc,openstack/nova,master,bp/policy-defaults-refresh-deprecated-apis,Idcccdf6b3a1638cf140b5c4f887abbed85c5d7dc,Add new default roles in networks policies,MERGED,2020-07-23 00:31:47.000000000,2020-08-21 02:45:19.000000000,2020-08-21 02:45:19.000000000,75,19,2,742566,558c6e752a9c94fbe29b3da1a9cc730a331aabef,91,14,6,5,8556,Ghanshyam,ghanshyam,"Add new default roles in networks policies

This adds new defaults roles in networks API policies.
These policies are made granular and default to
PROJECT_READER_OR_SYSTEM_READER.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Idcccdf6b3a1638cf140b5c4f887abbed85c5d7dc
"
openstack%2Fnova~master~I062e556feb5cc85d179fed9b675e4ab33ca3365a,openstack/nova,master,bp/policy-defaults-refresh-deprecated-apis,I062e556feb5cc85d179fed9b675e4ab33ca3365a,Add scope and new default roles in extensions policies,MERGED,2020-07-25 22:09:22.000000000,2020-08-21 02:45:10.000000000,2020-08-21 02:45:10.000000000,18,9,0,743046,284ac43f7a79f5fa1ac6d841905770375f372b2f,69,12,4,4,8556,Ghanshyam,ghanshyam,"Add scope and new default roles in extensions policies

This adds scope_type and new defaults roles in extensions
API policies. These policies are for extensions API which are
kept only for backward compatibility of v2.0 but nova does not
have extensions concept now and return only hard-coded info. So
these policies are not made granular.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I062e556feb5cc85d179fed9b675e4ab33ca3365a
"
openstack%2Ftripleo-operator-ansible~master~I7abda2f24b8476a9008467d9096d06a9cb9531c6,openstack/tripleo-operator-ansible,master,sudo/standalone,I7abda2f24b8476a9008467d9096d06a9cb9531c6,DNM - Switch tripleo_deploy_become to false by default,ABANDONED,2020-08-11 15:35:01.000000000,2020-08-21 01:47:47.000000000,,2,2,0,745701,59d9608bbf4d471943bbf3cdc0882296aa1dddd1,8,1,4,2,3153,Emilien Macchi,emilienm,"DNM - Switch tripleo_deploy_become to false by default

Test if standalone run without sudo actually works now with the recent
changes.

Depends-On: https://review.opendev.org/745722
Change-Id: I7abda2f24b8476a9008467d9096d06a9cb9531c6
"
openstack%2Fos-brick~stable%2Ftrain~Ib98043358d51426ca650104ad59a7e09911ee8e9,openstack/os-brick,stable/train,bug/1823200,Ib98043358d51426ca650104ad59a7e09911ee8e9,Add release note for scaleio connector upgrade,MERGED,2020-08-18 00:45:01.000000000,2020-08-21 01:42:22.000000000,2020-08-21 00:14:50.000000000,10,0,0,746622,c380107de59a0459b81800202d51f0291661e803,23,8,2,1,21129,Alan Bishop,ASBishop,"Add release note for scaleio connector upgrade

Change I6f01a178616b74ed9a86876ca46e7e46eb360518 needs to be
backported and included in a new os-brick release in all releaseable
stable branches, so add a release note saying what it does.

Change-Id: Ib98043358d51426ca650104ad59a7e09911ee8e9
(cherry picked from commit 7ca8e56d505f62c0c7ee8f614d26e8b0ccf32b3d)
(cherry picked from commit 930ce7fab9de0e4525621a5bac27feee75ac6033)
"
openstack%2Fkolla-ansible~master~Id0750b84fef8e19658b27f8ae16a857e1394216e,openstack/kolla-ansible,master,add_guestagent_conf,Id0750b84fef8e19658b27f8ae16a857e1394216e,Add trove-guestagent.conf,MERGED,2020-06-26 02:11:10.000000000,2020-08-21 01:41:02.000000000,2020-08-10 12:21:29.000000000,38,1,8,738135,38881963344446f43ad667d3ceeac8348fac5f37,42,5,8,4,32029,likui,likui,"Add trove-guestagent.conf

Add trove-guestagent.conf templates for trove-guestagent service.
Default the Guest Agent config file to be injected during instance creation.

Change-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e
"
openstack%2Fkolla-ansible~master~I15d6891582c92c7fc813f280a2b47ebaaca77eba,openstack/kolla-ansible,master,update-config,I15d6891582c92c7fc813f280a2b47ebaaca77eba,Update trove config file,MERGED,2020-07-20 12:22:11.000000000,2020-08-21 01:40:43.000000000,2020-07-22 12:32:42.000000000,26,10,0,741927,712b27daea958094d3aae6b1df26c391fe8e4200,14,4,3,3,32029,likui,likui,"Update trove config file

Option ""trove_auth_url/os_region_name"" from group ""DEFAULT"" is deprecated.
Use option ""auth_url/region_name"" from group service_credentials

Change-Id: I15d6891582c92c7fc813f280a2b47ebaaca77eba
"
openstack%2Fos-brick~stable%2Fqueens~If31d120955eb216823a55005fdd3d24870aa6b9a,openstack/os-brick,stable/queens,,If31d120955eb216823a55005fdd3d24870aa6b9a,Read mounts from /proc/mounts instead of running mount,MERGED,2020-08-03 09:31:02.000000000,2020-08-21 01:34:26.000000000,2020-08-20 23:09:36.000000000,21,16,0,744428,f85e7e61f8bc333645b5bf26d3973db2d91b12a5,26,12,1,2,10459,Luigi Toscano,ltoscano,"Read mounts from /proc/mounts instead of running mount

When creating multiple concurrent volumes, there's a lock
that prevents mount from returning quickly. Reading /proc/mounts
is way faster.

Change-Id: If31d120955eb216823a55005fdd3d24870aa6b9a
Closes-Bug: #1856889
(cherry picked from commit f2409608473c06892b087e44e0041c9ade3f9924)
(cherry picked from commit a8190cd60b59dedb11a8ed27d236d81adee3255d)
(cherry picked from commit 7168bdce5bcdf3f1a27c6fc9f998c1f3f5364f3d)
(cherry picked from commit 4e2e1bedb657cdb1ab01e77bc14b976b00df284a)
"
openstack%2Fneutron~master~I0739458ac31307d651376a33a835336285d2c7dd,openstack/neutron,master,migrate-to-focal,I0739458ac31307d651376a33a835336285d2c7dd,Raise minimal greenlet version,MERGED,2020-08-19 13:30:26.000000000,2020-08-21 01:29:37.000000000,2020-08-21 01:27:43.000000000,1,1,0,746922,ee50f7cfcf3b06ca599cb0e12ca33d9f15f22b0c,13,6,1,1,21798,Bernard Cafarelli,bcafarel,"Raise minimal greenlet version

As seen in Ubuntu Focal test patches like [1], lower-constraints fails
on greenlet compilation. 0.4.13 added python 3.7 support with additional
fixes coming in .14 so bumping to this version.

[1] https://review.opendev.org/#/c/734304/

Change-Id: I0739458ac31307d651376a33a835336285d2c7dd
"
openstack%2Ftripleo-docs~master~I78809157916e7b389de06c7dba8fd1afe2d95e0e,openstack/tripleo-docs,master,fixtypos,I78809157916e7b389de06c7dba8fd1afe2d95e0e,Fix inconsistencies in with containers-prepare-parameters.yaml,MERGED,2020-08-20 14:33:09.000000000,2020-08-21 01:13:29.000000000,2020-08-21 01:11:50.000000000,9,9,0,747181,4856c840fbd96cb264ecedbff621763552167372,11,3,1,2,15993,Amy Marrich,amarrich,"Fix inconsistencies in with containers-prepare-parameters.yaml

Add missing sudo and fix inconsistencies between pages with
containers-prepare-parameters.yaml

Change-Id: I78809157916e7b389de06c7dba8fd1afe2d95e0e
"
openstack%2Fproject-config~master~I94290ed8c37ff5b402f90e6eeec1e4fd34893c2a,openstack/project-config,master,unpause-git-removal,I94290ed8c37ff5b402f90e6eeec1e4fd34893c2a,"Revert ""Pause all image builds""",MERGED,2020-08-20 23:23:51.000000000,2020-08-21 00:52:49.000000000,2020-08-21 00:40:40.000000000,17,17,0,747312,88a8bf3aa613120c31a2d6198686feb41bdc192e,8,3,1,2,7118,Ian Wienand,iwienand,"Revert ""Pause all image builds""

This reverts commit 37461abc86a972e5a16000970023a65f142d9603.

This should be fixed with dib 3.2.1 which has rolled out via
https://review.opendev.org/#/c/747303/

Change-Id: I94290ed8c37ff5b402f90e6eeec1e4fd34893c2a
"
openstack%2Fmanila~stable%2Fussuri~I667a26cbf9ea93509718b71dadc8fb304fbca855,openstack/manila,stable/ussuri,bug/1843953-stable/ussuri,I667a26cbf9ea93509718b71dadc8fb304fbca855,Add api-ref for share network subnets,ABANDONED,2020-08-20 23:35:47.000000000,2020-08-21 00:51:44.000000000,,773,35,0,747313,51ea2354826511995c6b72bc7f0fab34494981fc,5,4,1,23,29632,Carlos Eduardo,silvacarlos,"Add api-ref for share network subnets

This patch updates the API reference to fit into the changes that
were done in order to implement share networks with multiple
subnets.

Change-Id: I667a26cbf9ea93509718b71dadc8fb304fbca855
Partial-Bug: #1843953
(cherry picked from commit de62a36e3fcb77391d62e7e30a6e45a258aba5f7)
"
openstack%2Ftacker~master~If186db981ef834f11d82777b0e1d4e5f6752a8b0,openstack/tacker,master,bp/support-etsi-nfv-specs,If186db981ef834f11d82777b0e1d4e5f6752a8b0,Support a judgement of NFVO operation condition,ABANDONED,2020-08-20 00:27:04.000000000,2020-08-21 00:51:17.000000000,,996,0,0,747061,31b1632538246fc4b782bf0ff555b75ee7bde810,5,5,2,5,31813,Koichi Edagawa,k-edagawa,"Support a judgement of NFVO operation condition

Supported judging NFVO operation condition.
This is related to PKG information and Granting information.

Change-Id: If186db981ef834f11d82777b0e1d4e5f6752a8b0
"
openstack%2Fneutron-dynamic-routing~stable%2Ftrain~I0f76092c90ad2713057962c74d3535e9db9e3438,openstack/neutron-dynamic-routing,stable/train,,I0f76092c90ad2713057962c74d3535e9db9e3438,[stable only] Fix functional job,MERGED,2020-08-20 08:40:20.000000000,2020-08-21 00:51:01.000000000,2020-08-21 00:49:11.000000000,5,1,0,747126,55dbf49e32cda926f08a4a4789a98c502e0f787a,13,5,1,1,21798,Bernard Cafarelli,bcafarel,"[stable only] Fix functional job

Functional job on stable/train now fails not finding tox, use ensure-tox
in similar way to neutron stable branches to fix it

Change-Id: I0f76092c90ad2713057962c74d3535e9db9e3438
"
openstack%2Fmanila~stable%2Ftrain~I8e68619b00255197b3d3cf6796c60d1a3a04ff36,openstack/manila,stable/train,bug/1682694,I8e68619b00255197b3d3cf6796c60d1a3a04ff36,Add uWSGI configuration samples,MERGED,2020-08-17 17:18:21.000000000,2020-08-21 00:15:29.000000000,2020-08-21 00:13:52.000000000,101,0,0,746570,ecb9d6396c529bbcba861f205932f4b45a67d1af,12,5,1,4,16643,Goutham Pacha Ravi,gouthamr,"Add uWSGI configuration samples

Added some samples on uWSGI config and some docs
on how to run manila with uWSGI for contributors.

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: I8e68619b00255197b3d3cf6796c60d1a3a04ff36
(cherry picked from commit 7a1414977f1f1699b000ff04ed0e0d32853d1185)
(cherry picked from commit 8f5d81586ead346c6cde995d7baf2910663f7211)
"
openstack%2Fpuppet-magnum~master~I9e2fa1f42900ab1e504e3c6a54b18061e31e5694,openstack/puppet-magnum,master,bug/1892284,I9e2fa1f42900ab1e504e3c6a54b18061e31e5694,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-21 00:14:18.000000000,2020-08-21 00:13:06.000000000,19,0,0,747081,b422537ec90dc3a32019d00dbdde65c8803618b7,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I9e2fa1f42900ab1e504e3c6a54b18061e31e5694
Closes-Bug: #1892284
"
openstack%2Fpuppet-vitrage~master~I004d2c8e9bc1ce82d21d71b8b8b5c95816a0104c,openstack/puppet-vitrage,master,bug/1892284,I004d2c8e9bc1ce82d21d71b8b8b5c95816a0104c,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-21 00:09:02.000000000,2020-08-21 00:07:38.000000000,19,0,0,747086,10ce01e3c9915c8f5db67d88149f73b7ae1b7858,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I004d2c8e9bc1ce82d21d71b8b8b5c95816a0104c
Closes-Bug: #1892284
"
openstack%2Fceilometer~stable%2Fussuri~Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338,openstack/ceilometer,stable/ussuri,,Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338,Run migration with NotFound exception as well,MERGED,2020-08-19 20:42:53.000000000,2020-08-21 00:06:07.000000000,2020-08-21 00:04:12.000000000,1,1,1,747033,e92e4347aa24291571eb66e6a5ccad488bf5d57c,12,5,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Run migration with NotFound exception as well

Gnocchi start returning regular 404 when requesting resource that do not
exist [1]. That means, that in case of 404, which is also excpected,
we just fail resource creation.

[1] http://paste.openstack.org/show/796938/

Change-Id: Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338
(cherry picked from commit 648ce9b6687e43d504d53111725200734053357e)
"
openstack%2Fpuppet-ec2api~master~I0376fd70a261413621726b82524f57ab59b1c73e,openstack/puppet-ec2api,master,bug/1892284,I0376fd70a261413621726b82524f57ab59b1c73e,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 23:59:34.000000000,2020-08-20 23:58:03.000000000,19,0,0,747087,69e3ae15e4248c50aacf5e10c2becddb11c5508d,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I0376fd70a261413621726b82524f57ab59b1c73e
Closes-Bug: #1892284
"
openstack%2Fpuppet-sahara~master~I08be47f277fa47498b54c3084a76aefee82eea58,openstack/puppet-sahara,master,bug/1892284,I08be47f277fa47498b54c3084a76aefee82eea58,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 23:58:55.000000000,2020-08-20 23:57:43.000000000,19,0,0,747082,f2eba4634b73c27ec6b5282f0d2fcbd7890f463d,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I08be47f277fa47498b54c3084a76aefee82eea58
Closes-Bug: #1892284
"
openstack%2Fpuppet-mistral~master~Ibd8a469428cf99cdafb3668e00c3b05b4762e7eb,openstack/puppet-mistral,master,bug/1892284,Ibd8a469428cf99cdafb3668e00c3b05b4762e7eb,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:48.000000000,2020-08-20 23:52:29.000000000,2020-08-20 23:51:04.000000000,19,0,0,747090,e361bf81816c130bedf3b0c96385108fee1729a3,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: Ibd8a469428cf99cdafb3668e00c3b05b4762e7eb
Closes-Bug: #1892284
"
openstack%2Fmanila~master~I667a26cbf9ea93509718b71dadc8fb304fbca855,openstack/manila,master,bug/1843953,I667a26cbf9ea93509718b71dadc8fb304fbca855,Add api-ref for share network subnets,MERGED,2019-10-07 17:17:24.000000000,2020-08-20 23:35:47.000000000,2020-08-20 22:43:47.000000000,773,35,209,687108,de62a36e3fcb77391d62e7e30a6e45a258aba5f7,46,12,5,23,29632,Carlos Eduardo,silvacarlos,"Add api-ref for share network subnets

This patch updates the API reference to fit into the changes that
were done in order to implement share networks with multiple
subnets.

Change-Id: I667a26cbf9ea93509718b71dadc8fb304fbca855
Partial-Bug: #1843953
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,openstack/tripleo-ansible,stable/train,container/configs-stable/ussuri-stable/train,I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,Create tripleo_container_config_scripts module,MERGED,2020-08-19 21:20:24.000000000,2020-08-20 23:34:02.000000000,2020-08-20 23:32:05.000000000,201,0,0,747042,90e15f4bbc4f4869cf5b2ddab289920bc356ab5d,13,3,4,5,3153,Emilien Macchi,emilienm,"Create tripleo_container_config_scripts module

This module will help to simplify the task that creates the container
config scripts, generated via config download.

It'll replace the loop in THT that iterate over a file to create the
scripts and their content, and executer faster on module.

Change-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74
(cherry picked from commit b6f979ca1e195a9dfd9daf2279c90caaa6791c3d)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,openstack/tripleo-ansible,stable/ussuri,container/configs-stable/ussuri,I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,Create tripleo_container_config_scripts module,MERGED,2020-08-19 21:20:14.000000000,2020-08-20 23:25:40.000000000,2020-08-20 23:23:51.000000000,201,0,0,747041,486133036dc7347a4527e5ee84708f36c7144c15,9,3,1,5,3153,Emilien Macchi,emilienm,"Create tripleo_container_config_scripts module

This module will help to simplify the task that creates the container
config scripts, generated via config download.

It'll replace the loop in THT that iterate over a file to create the
scripts and their content, and executer faster on module.

Change-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74
(cherry picked from commit b6f979ca1e195a9dfd9daf2279c90caaa6791c3d)
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I209ec1013d941c989bb14ef06779cdbf22cfcc0f,openstack/python-tripleoclient,stable/ussuri,cells-stable/ussuri,I209ec1013d941c989bb14ef06779cdbf22cfcc0f,overcloud_cell: fix location of config-download,MERGED,2020-08-18 21:20:45.000000000,2020-08-20 23:14:43.000000000,2020-08-20 23:13:14.000000000,3,5,0,746801,018ef1218fe90f286c21932809a7366bf14ed7e0,14,3,2,1,7353,Kevin Carter,cloudnull,"overcloud_cell: fix location of config-download

config-download was moved to the home directory and not in
/var/lib/mistral anymore.

Change-Id: I209ec1013d941c989bb14ef06779cdbf22cfcc0f
Closes-Bug: #1891932
(cherry picked from commit 83677d700e368dcad0de1db85fc707f3acb86a37)
"
openstack%2Fcharm-gnocchi~master~I50fd881400d4c1bf4beaa70d75af34c28c98ea41,openstack/charm-gnocchi,master,external-cert,I50fd881400d4c1bf4beaa70d75af34c28c98ea41,Add trusted-external-ca-cert option,MERGED,2020-08-17 16:32:41.000000000,2020-08-20 22:46:41.000000000,2020-08-20 22:46:41.000000000,38,0,14,746562,6820332c8032a38350846822c9b3856ac6481a5e,47,6,10,5,30670,Camille Rodriguez,crodriguez,"Add trusted-external-ca-cert option

To connect to an external S3 endpoint with encryption,
a root CA needs to be installed on the gnocchi units.

Func-test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/393
Change-Id: I50fd881400d4c1bf4beaa70d75af34c28c98ea41
"
openstack%2Fzun~stable%2Fussuri~Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f,openstack/zun,stable/ussuri,bug/1889187,Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f,Dep's should be restricted by upper-constraints,MERGED,2020-08-20 16:02:14.000000000,2020-08-20 22:43:41.000000000,2020-08-20 22:41:41.000000000,3,2,0,747232,d5511fd828832886a37fd2d3cb133942b81c2a8e,7,2,1,2,31916,vinay harsha mitta,vinay_m,"Dep's should be restricted by upper-constraints

Tox trying to install latest versions for building docs which may
not be supported by stable and lower branches, so should be
restricted by respective version's upper-constraints.txt

Change-Id: Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f
Closes-Bug: #1889187
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1790444d289d057e9a3f612c53efe485080978b5,openstack/tripleo-heat-templates,stable/train,unbundle_bootstraphost-stable/train,I1790444d289d057e9a3f612c53efe485080978b5,Fix HA resource restart when no replicas are running,MERGED,2020-08-19 15:10:49.000000000,2020-08-20 22:41:35.000000000,2020-08-20 22:41:35.000000000,9,2,0,746957,fffbdc0df115ed7f442620e4fff22fcacd595e70,7,4,1,1,20172,Michele Baldessari,michele,"Fix HA resource restart when no replicas are running

When the helper script pacemaker_restart_bundle.sh is called
during a stack update, it restarts the pacemaker resource via
a ""pcs resource restart <name>"".

When all the replicas are stopped due to a previous error,
pcs won't restart them because there is nothing to stop. In
that case, one must use ""pcs resource cleanup <name>"".

(cherry picked from commit ba471ee461b125e2aa53c485ab61dc467bf7d858)

Closes-Bug: #1889395
Change-Id: I1790444d289d057e9a3f612c53efe485080978b5
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia850286682f09cd75651591a1158c2e467343c1d,openstack/tripleo-heat-templates,stable/train,unbundle_bootstraphost-stable/train,Ia850286682f09cd75651591a1158c2e467343c1d,Drop bootstrap_host_exec from pacemaker_restart_bundle,MERGED,2020-08-19 14:34:18.000000000,2020-08-20 22:41:33.000000000,2020-08-20 22:41:33.000000000,9,2,0,746937,da6b7b424c2eb709e22cf1d809bde405cf8e818c,15,5,1,1,20172,Michele Baldessari,michele,"Drop bootstrap_host_exec from pacemaker_restart_bundle

bootstrap_host_exec does not exist on the host so we cannot assume its
existence. Since, barring argument checking, it is three lines of shell
script [1] we just use it directly. We also add an extra echo to make it
simpler to debug any bootstrap vs non-bootstrap issued.

[1] https://github.com/openstack/tripleo-common/blob/master/scripts/bootstrap_host_exec

Change-Id: Ia850286682f09cd75651591a1158c2e467343c1d
Related-Bug: #1863442
(cherry picked from commit 4d8eb351147c359a6a2dea4ee43b247c3be59da8)
"
openstack%2Frequirements~master~Ib78a5cd7b96903033906fa9b0429b1dce31904a5,openstack/requirements,master,openstack/requirements/constraints/noclob,Ib78a5cd7b96903033906fa9b0429b1dce31904a5,Updated from generate-constraints,MERGED,2020-08-19 06:17:56.000000000,2020-08-20 22:15:28.000000000,2020-08-20 22:13:52.000000000,4,4,0,746837,258cf2cb18e66b70511662402dbb6652a5e0fc31,32,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ib78a5cd7b96903033906fa9b0429b1dce31904a5
"
openstack%2Foctavia~stable%2Fussuri~I49e92f81b23e0b306c62c406a45029b96dce20df,openstack/octavia,stable/ussuri,sec-grp-rule-quota-stable/ussuri,I49e92f81b23e0b306c62c406a45029b96dce20df,Increase the devstack secuirty group rules quota,MERGED,2020-08-20 15:07:24.000000000,2020-08-20 22:03:53.000000000,2020-08-20 22:01:34.000000000,3,2,0,747201,17c22145443ab2f8456e1ab4d738861a6d3b8d7e,12,4,1,1,11628,Michael Johnson,johnsom,"Increase the devstack secuirty group rules quota

Recent changes to the Octavia tempest tests has caused our test
runs to exceed the default neutron security group rule quota.
This patch increases that quota for the Octavia project in devstack.

Change-Id: I49e92f81b23e0b306c62c406a45029b96dce20df
(cherry picked from commit 2e2464d778cc86df161fdf59406aac30770b58f0)
"
openstack%2Fironic-inspector~master~I8e7afee669b32de40b191990f693bf86e59a3e3c,openstack/ironic-inspector,master,task/40645,I8e7afee669b32de40b191990f693bf86e59a3e3c,Log outcome of `check_conditions` method.,MERGED,2020-08-11 12:34:30.000000000,2020-08-20 21:57:29.000000000,2020-08-20 21:55:54.000000000,11,2,0,745663,17f58aad67f11b84ebe977fd6544a18f340b4ba6,10,5,1,1,31258,Zygimantas Matonis,gudrutis,"Log outcome of `check_conditions` method.

Added logging to log
IntrospectionRule.check_conditions method
outcome for debugging purposes.

Change-Id: I8e7afee669b32de40b191990f693bf86e59a3e3c
Story: 2006995
Task: 40645
"
openstack%2Fcharm-octavia~stable%2F20.08~I86e94f5a9fb4823f612718d5ef16fa9d263f3749,openstack/charm-octavia,stable/20.08,bug/1891639,I86e94f5a9fb4823f612718d5ef16fa9d263f3749,Fix setuptools-scm's version range,MERGED,2020-08-19 12:36:49.000000000,2020-08-20 21:56:40.000000000,2020-08-20 19:12:46.000000000,2,2,0,746908,4cb3409e8929b5a5d90d4f24e1e3a23194c7cad6,17,3,1,1,31289,Aurelien Lourot,lourot,"Fix setuptools-scm's version range

Because of this typo we ended up installing version 4 instead of 3

(cherry picked from commit 009dd33942938cc29acfbd1ad267352b9d0c7fba)

This triggers a rebuild and picks
https://github.com/juju-solutions/layer-basic/pull/188 which resolves
the linked bug.

Change-Id: I86e94f5a9fb4823f612718d5ef16fa9d263f3749
Closes-Bug: #1891639
"
openstack%2Fpuppet-tacker~master~Ie60c7f08326712fed4458f9bee48ff1598eec224,openstack/puppet-tacker,master,bug/1892284,Ie60c7f08326712fed4458f9bee48ff1598eec224,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 21:53:53.000000000,2020-08-20 21:52:23.000000000,19,0,0,747085,9c9f14516ce4a202daa83475256a00dda11389f5,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: Ie60c7f08326712fed4458f9bee48ff1598eec224
Closes-Bug: #1892284
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3,openstack/tripleo-ansible,stable/train,bug/1888508,Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3,Set ceph_ansible_limit to ansible_limit if ansible_limit defined,MERGED,2020-08-17 14:42:39.000000000,2020-08-20 21:50:20.000000000,2020-08-20 21:50:20.000000000,9,0,1,746520,a4dbf8ed6956bd6e0c3b2b7b8bddd1fabd322156,20,5,3,3,18002,John Fulton,fultonj,"Set ceph_ansible_limit to ansible_limit if ansible_limit defined

The 'openstack overcloud deploy ... --limit' command passes
the Ansible limit to the run of the config-download Ansible
but not to the run of ceph-ansible. To limit ceph-ansible
it's possible to override ceph_ansible_limit (an Ansible
variable) but, as per the bug this patch closes, this is
not possible via the deploy option of the tripleo client.
However, this patch makes it possible by having the variable
ceph_ansible_limit inherit the value of --limit but only
if it is passed. For backwards compatibility the inheritance
does not happen if ceph_ansible_limit is already defined.

Also, pass ceph_ansible_limit to the executions of the
machine unique UUID gather playbook and remote_tmp playbook.

Change-Id: Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3
Closes-Bug: 1888508
(cherry picked from commit 872233241bc2cdbd9a17cc61eff1d89f36e458d1)
"
openstack%2Fpuppet-cloudkitty~master~I4ad7ca9594d5abee2cf641ec77e6bf8328ffe08e,openstack/puppet-cloudkitty,master,bug/1892284,I4ad7ca9594d5abee2cf641ec77e6bf8328ffe08e,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 21:45:42.000000000,2020-08-20 21:44:19.000000000,19,0,0,747084,4287abd8706450d0b0b4f34cae24cdf171fd992d,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I4ad7ca9594d5abee2cf641ec77e6bf8328ffe08e
Closes-Bug: #1892284
"
openstack%2Fsushy~master~I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4,openstack/sushy,master,,I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4,Remove auth token header completely when error occurs,MERGED,2020-08-18 16:57:58.000000000,2020-08-20 21:45:27.000000000,2020-08-20 21:20:57.000000000,51,11,1,746768,ec5ceefd678b7c7ec3585ae6cd6d63d06a048e62,19,6,2,6,11655,Julia Kreger,jkreger,"Remove auth token header completely when error occurs

While investigating a report indicating session incompatability with
Cisco BMCs, I noticed we didn't completely invalidate the session
token, and only set it to None for the request to obtain a new
token. This may not actually fix anything, but an authentication
error should completely invalidate any cached authentication data
force us through re-authentication.

Additionally, we have a bit of a lack of debug and error logging
around the session retry logic in general. Without additional
logging, we have no way to really figure out exactly what
is occuring with the BMC when we attempt to reauthenticate
the session.

Change-Id: I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4
"
openstack%2Fpuppet-glare~master~I29e8d699eb34c4d89302d9b0ff08562353c1e4a1,openstack/puppet-glare,master,bug/1892284,I29e8d699eb34c4d89302d9b0ff08562353c1e4a1,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 21:42:31.000000000,2020-08-20 21:39:58.000000000,19,0,0,747089,6034694981001c35595a47940954cb160563fa6e,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I29e8d699eb34c4d89302d9b0ff08562353c1e4a1
Closes-Bug: #1892284
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I2ea2b77bcf1be66a57cfb22463b81189ef2802f1,openstack/tripleo-ansible,stable/train,train/label,I2ea2b77bcf1be66a57cfb22463b81189ef2802f1,Use label rather than no_log,MERGED,2020-08-11 14:08:21.000000000,2020-08-20 21:37:22.000000000,2020-08-20 21:37:21.000000000,26,13,0,745680,bba497d40d522ebccad6a688aade0e227aa60eae,40,6,8,9,3153,Emilien Macchi,emilienm,"Use label rather than no_log

We can prevent having to hide sensitive data while being able to provide
a more descriptive output for what task is being executed by using the
label loop_control attribute.

https://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label

Change-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1
(cherry picked from commit 1920faf816df2a001d7325306c8da94ece5216e1)
"
openstack%2Fpuppet-senlin~master~I2151e4d19ae73b246ccd32189ff800c339cd10c1,openstack/puppet-senlin,master,bug/1892284,I2151e4d19ae73b246ccd32189ff800c339cd10c1,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 21:36:14.000000000,2020-08-20 21:34:50.000000000,19,0,0,747078,222152a595781c3cdc5cddf5e1a31979f96149d7,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I2151e4d19ae73b246ccd32189ff800c339cd10c1
Closes-Bug: #1892284
"
openstack%2Fpuppet-freezer~master~Iab41f836366d42d16b6c3dc9e47db381992d6fcc,openstack/puppet-freezer,master,bug/1892284,Iab41f836366d42d16b6c3dc9e47db381992d6fcc,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 21:36:13.000000000,2020-08-20 21:34:19.000000000,19,0,0,747079,ff3485b67f35ac8966d6de642e5dfbfeacd9a979,12,4,1,3,9414,zhongshengping,ZhongShengping,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: Iab41f836366d42d16b6c3dc9e47db381992d6fcc
Closes-Bug: #1892284
"
openstack%2Fkayobe~stable%2Ftrain~I849d9b09e973316308e574c447a78868e93a5420,openstack/kayobe,stable/train,,I849d9b09e973316308e574c447a78868e93a5420,Skip broken ansible-lint,MERGED,2020-08-19 12:28:55.000000000,2020-08-20 21:14:33.000000000,2020-08-20 21:12:29.000000000,1,1,0,746907,28cf998a204a87a03d735c53ef5d7c3b107fb969,13,4,1,1,15197,Pierre Riteau,priteau,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I849d9b09e973316308e574c447a78868e93a5420
(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)
"
openstack%2Fproject-config~master~Ib6dadc423a0b794bcf85b70add1eeae8974aad79,openstack/project-config,master,puppet-tripleo,Ib6dadc423a0b794bcf85b70add1eeae8974aad79,Re-introduce puppet-tripleo-core group,MERGED,2020-08-18 16:21:14.000000000,2020-08-20 21:06:56.000000000,2020-08-20 21:00:23.000000000,15,1,4,746759,8e169c45edcb23ab0a26e5b78b0d515396eb48fb,23,7,5,2,3153,Emilien Macchi,emilienm,"Re-introduce puppet-tripleo-core group

Creating new ACLs for puppet-tripleo project, so we can have a group of
cores dedicated to that repo, and include the tripleo-core group
maintainer of that project as well.

It'll allow the TripleO project to have finer gerrit permissions for
folks who are only core on puppet-tripleo.

Change-Id: Ib6dadc423a0b794bcf85b70add1eeae8974aad79
"
openstack%2Fdiskimage-builder~master~Ifb18c4243aa08055d98602aa4fdb30b16dae061d,openstack/diskimage-builder,master,,Ifb18c4243aa08055d98602aa4fdb30b16dae061d,"Revert ""source-repositories: git is a build-only dependency""",MERGED,2020-08-19 19:22:05.000000000,2020-08-20 20:40:33.000000000,2020-08-20 20:37:48.000000000,3,2,0,747025,f09324461101765c81111e5315bfc87f497b6e0a,38,13,1,1,4162,Paul Belanger,pabelanger,"Revert ""source-repositories: git is a build-only dependency""

This breaks having git as a package-install in other elements. And results in diskimage-builder always erasing git on the image.

This reverts commit 3c650255590d7dcded8699cd01e198f6ce4c6c8e.

Change-Id: Ifb18c4243aa08055d98602aa4fdb30b16dae061d
"
openstack%2Freleases~master~Ie0791724cff7308cb419ba046e65e0f48f70b67e,openstack/releases,master,,Ie0791724cff7308cb419ba046e65e0f48f70b67e,Source the related tox environment,ABANDONED,2020-08-20 14:39:06.000000000,2020-08-20 20:39:30.000000000,,4,2,1,747186,c7af5a017a3c53932a5abb09c08475a1f6ca464a,10,3,1,1,28522,Hervé Beraud,hberaud,"Source the related tox environment

These changes allow us to call script from anywhere even if we are
in a different repo that also contains a tox virtual environment.

With these changes we ensure us to load the right env by retrieving
the full path relative to our script file.

Change-Id: Ie0791724cff7308cb419ba046e65e0f48f70b67e
"
openstack%2Foctavia~stable%2Ftrain~I49e92f81b23e0b306c62c406a45029b96dce20df,openstack/octavia,stable/train,sec-grp-rule-quota-stable/ussuri-stable/train,I49e92f81b23e0b306c62c406a45029b96dce20df,Increase the devstack secuirty group rules quota,MERGED,2020-08-20 15:07:29.000000000,2020-08-20 20:31:51.000000000,2020-08-20 20:30:04.000000000,3,2,0,747202,40777222b91028412c8b2a96230ec284d99620e1,10,3,1,1,11628,Michael Johnson,johnsom,"Increase the devstack secuirty group rules quota

Recent changes to the Octavia tempest tests has caused our test
runs to exceed the default neutron security group rule quota.
This patch increases that quota for the Octavia project in devstack.

Change-Id: I49e92f81b23e0b306c62c406a45029b96dce20df
(cherry picked from commit 2e2464d778cc86df161fdf59406aac30770b58f0)
"
openstack%2Fcinder~stable%2Fussuri~I88f6fb78235a40529647baf1e7564c08d8fb85f2,openstack/cinder,stable/ussuri,743223,I88f6fb78235a40529647baf1e7564c08d8fb85f2,PowerMax Driver - Volume Migrate Exception Handling,MERGED,2020-07-27 13:14:52.000000000,2020-08-20 20:25:16.000000000,2020-08-20 11:00:05.000000000,907,227,12,743223,4ee343044f305b198297bbdf1f0eefb6151e86b0,64,21,2,6,12670,Helen Walsh,walshh2,"PowerMax Driver - Volume Migrate Exception Handling

Add additional exception handling to _migrate_volume
and its related methods to attempt to rollback to
previous state if an exception is raised.
Also change exception message type when handling REST
request that times out when no failover settings
are present.

Change-Id: I88f6fb78235a40529647baf1e7564c08d8fb85f2
Closes-Bug: 1886662
Closes-Bug: 1874187
(cherry picked from commit 16373bfb47940582b598e68755d31410f41cda07)
"
openstack%2Fbifrost~master~I4e770d1504d2fd544eb637d20fc6c742218060fb,openstack/bifrost,master,validate,I4e770d1504d2fd544eb637d20fc6c742218060fb,Validate that the services are running after installation,MERGED,2020-07-28 15:54:12.000000000,2020-08-20 20:10:04.000000000,2020-08-20 20:07:57.000000000,96,0,10,743569,df33abf96b85f3a112e1a4fbf3ece1ce4eec6722,31,6,7,4,10239,Dmitry Tantsur,dtantsur,"Validate that the services are running after installation

We do it in test-bifrost, but not during a normal installation.

Change-Id: I4e770d1504d2fd544eb637d20fc6c742218060fb
"
openstack%2Fos-brick~stable%2Fqueens~Id507109df80391699074773f4787f74507c4b882,openstack/os-brick,stable/queens,,Id507109df80391699074773f4787f74507c4b882,rbd: Use showmapped to find the root RBD device during disconnect_volume,MERGED,2020-04-15 10:38:29.000000000,2020-08-20 20:05:37.000000000,2020-08-20 20:05:37.000000000,74,11,0,720181,9e30e5155d00a9cd18ebec6de1b5c1834cb33d97,21,9,1,2,10135,Lee Yarwood,lyarwood,"rbd: Use showmapped to find the root RBD device during disconnect_volume

The original method of unmapping the higher level RBD device found under
/dev/rbd/{pool}/{volume} fails when an encryptor has been attached to
the volume locally. This is due to a symlink being created that points
to the the decrypted dm-crypt device, breaking any attempt to unmap the
RBD volume.

To avoid this we can simply find and unmap the lower level RBD device of
/dev/rbd*.

Change-Id: Id507109df80391699074773f4787f74507c4b882
(cherry picked from commit 9415b3b41f55b66bee589bc8ff5f1c789d8a5d0e)
(cherry picked from commit 36b207239b2dd4b3cad2b79d7ae32f4084c36403)
(cherry picked from commit 3ce686a9fa41210fb4c08017220ce063cc869c75)
(cherry picked from commit fcff1e0cb292a461b933bdc70dd21b4057711bca)
"
openstack%2Fironic~bugfix%2F15.2~I3a6ea2e250e3a85505ffbb46bbb8f44c69ad67fa,openstack/ironic,bugfix/15.2,create-15.2,I3a6ea2e250e3a85505ffbb46bbb8f44c69ad67fa,Update TOX_CONSTRAINTS_FILE for bugfix/15.2,MERGED,2020-08-18 20:47:22.000000000,2020-08-20 20:01:10.000000000,2020-08-20 19:58:11.000000000,5,5,0,746797,479cde2070c4c1d5c6302f1911656b1641dfe7bf,12,5,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for bugfix/15.2

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I3a6ea2e250e3a85505ffbb46bbb8f44c69ad67fa
"
openstack%2Fironic-python-agent~bugfix%2F6.3~I62ca56b861506f2a23b4b9621d8711bf01346d4e,openstack/ironic-python-agent,bugfix/6.3,create-6.3,I62ca56b861506f2a23b4b9621d8711bf01346d4e,Update TOX_CONSTRAINTS_FILE for bugfix/6.3,MERGED,2020-08-18 20:42:59.000000000,2020-08-20 19:52:15.000000000,2020-08-20 19:50:35.000000000,1,1,0,746795,34f409ba2fe2366d052a0755fe9fa2fc61cc448d,10,4,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for bugfix/6.3

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I62ca56b861506f2a23b4b9621d8711bf01346d4e
"
openstack%2Fopenstack-helm~master~I1e93587da2b4889118f2b941c89e7d3adee2b7c8,openstack/openstack-helm,master,,I1e93587da2b4889118f2b941c89e7d3adee2b7c8,Add volumemounts to cinder-backup container,MERGED,2020-08-20 14:16:32.000000000,2020-08-20 19:31:06.000000000,2020-08-20 19:28:12.000000000,4,0,0,747173,32218070420f3221b00655beb1dcbe6ae8aff12b,18,9,4,1,29161,Rahul Khiyani,rk0850,"Add volumemounts to cinder-backup container

Adding volumemounts to allow cinder to access /var/lib/cinder/tmp

Change-Id: I1e93587da2b4889118f2b941c89e7d3adee2b7c8
"
openstack%2Fovsdbapp~master~Ie8ae8f5efae2afb958ed2010053ff04372cc1c51,openstack/ovsdbapp,master,ovn/port_forwarding,Ie8ae8f5efae2afb958ed2010053ff04372cc1c51,OVNNB backend: Fix LbDelCommand when using vip param,MERGED,2020-05-08 21:53:46.000000000,2020-08-20 19:30:56.000000000,2020-05-15 22:02:10.000000000,42,9,3,726478,8cb3b56fa9022254d60a15125f86f6e8a7e16041,22,4,3,3,11952,Flavio Fernandes,ffernand,"OVNNB backend: Fix LbDelCommand when using vip param

Fix issue in ovn_northbound LbDelCommand where logic
for removing vip while using if_exists=True was not
doing the right thing.

In order to be consistent with as ovn-nbctl [1], this
change also introduces a modified behavior. When the
last vip is removed, it will also remove the load
balancer instance.

[1]: https://github.com/ovn-org/ovn/blob/1e2f4aaab67090935bba6347358ad9c56b0868bf/utilities/ovn-nbctl.c#L2870

Closes-Bug: #1877673
Change-Id: Ie8ae8f5efae2afb958ed2010053ff04372cc1c51
"
openstack%2Fcharm-manila-generic~master~I91ae66a5903c23c663243dfd10270d04325e5e39,openstack/charm-manila-generic,master,enable-focal,I91ae66a5903c23c663243dfd10270d04325e5e39,Add bionic-ussuri and focal-ussuri test bundles,MERGED,2020-06-17 15:51:01.000000000,2020-08-20 19:22:49.000000000,2020-08-20 19:22:49.000000000,130,2,0,736275,211a5dbae5877de41ebacbd7aa3f739989ba3cb4,33,5,6,3,20870,Alex Kavanagh,ajkavanagh,"Add bionic-ussuri and focal-ussuri test bundles

Also switch the smoke bundle to focal-ussuri as that will be the LTS on
focal.

Change-Id: I91ae66a5903c23c663243dfd10270d04325e5e39
Closes-Bug: #1879684
"
openstack%2Fironic~master~Ie8e1cbc5a9c026d11663b2e38794b41d799983fe,openstack/ironic,master,,Ie8e1cbc5a9c026d11663b2e38794b41d799983fe,Get extra logging output,ABANDONED,2020-08-03 15:56:37.000000000,2020-08-20 19:22:42.000000000,,22,1,0,744517,7a559507c1557257b4ef488a58286e69a44b111d,10,5,1,4,11655,Julia Kreger,jkreger,"Get extra logging output

At some point we stopped getting kernel logs
And statistics from the kernel packet filtering...

And this sort of information is vital to piece together
the what and why various things happened when dealing with
""virtual"" baremetal.

Change-Id: Ie8e1cbc5a9c026d11663b2e38794b41d799983fe
"
openstack%2Ftripleo-upgrade~stable%2Fussuri~Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,openstack/tripleo-upgrade,stable/ussuri,ffwd-upgrade2-stable/ussuri,Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,FFWD: L3 fixup,MERGED,2020-08-20 14:52:26.000000000,2020-08-20 19:21:27.000000000,2020-08-20 19:21:27.000000000,36,136,0,747195,ddd3c16512dfbfa2965b1503f58bfefaa3283890,6,2,1,3,6816,Jesse Pretorius,jesse-pretorius,"FFWD: L3 fixup

Before we fix workload accounting and l3 test scripts we need to
remove extra wokload test during FFWD.

Change-Id: Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0
(cherry picked from commit 854f084fbf7dc71e702dc3c578db0e8283edf5b5)
"
openstack%2Fsushy~master~I3e28a3c11160fbe6fa6fe21c0f087f33d832839c,openstack/sushy,master,,I3e28a3c11160fbe6fa6fe21c0f087f33d832839c,Include extended information in debugging output,MERGED,2020-08-12 18:19:21.000000000,2020-08-20 19:17:16.000000000,2020-08-20 19:15:26.000000000,2,1,0,745944,d73c2af910de789cb0cf906f59904423f9a197e7,15,5,1,1,11655,Julia Kreger,jkreger,"Include extended information in debugging output

In order to help developers and operators kind of gain a
better understanding of what might be happening, we should
log the extended information.

OEM libraries extending upon sushy should be returning this
information in the errors surfaced, as applicable, however
that is not always possible so debug does seem a moderately
reasonable middle ground.

Change-Id: I3e28a3c11160fbe6fa6fe21c0f087f33d832839c
"
openstack%2Fcinder~stable%2Fussuri~Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72,openstack/cinder,stable/ussuri,,Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72,Remove unnecessary releasenote,MERGED,2020-08-19 22:35:41.000000000,2020-08-20 18:59:56.000000000,2020-08-20 04:58:44.000000000,0,6,0,747055,0471fab3495928efcc1baacda1c5a07c457ca966,16,11,1,1,27615,Rajat Dhasmana,whoami-rajat,"Remove unnecessary releasenote

This was introduced as a regression of [1] which is a fix in victoria
and never released. So this releasenote is not needed.

[1] https://review.opendev.org/#/c/726471/

Change-Id: Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72
(cherry picked from commit 9ae4e48279e8ffad1676a38fe2466ccdacb0427a)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I96453d9236cb92922b058d697be8d8696f279c66,openstack/tripleo-ansible,stable/train,deps/mol,I96453d9236cb92922b058d697be8d8696f279c66,Prepare tripleo deps repo in tripleo_client_install molecule job,MERGED,2020-08-20 13:35:42.000000000,2020-08-20 18:58:08.000000000,2020-08-20 18:58:08.000000000,2,0,0,747162,dcc28fac073273a03799940a6e6cdab581b477af,18,6,2,1,3153,Emilien Macchi,emilienm,"Prepare tripleo deps repo in tripleo_client_install molecule job

Change-Id: I96453d9236cb92922b058d697be8d8696f279c66
Closes-Bug: #1884696
Closes-Bug: #1892368
(cherry picked from commit c70a5c8f08f697a29c42eb8ee3ddf376fec1c860)
(cherry picked from commit 3b0868e46cbc935e4fa1d55e216d8df823908963)
"
openstack%2Fnova~stable%2Fussuri~I4c89c8ba0153ec01ff57979b9bf1cfd5b2a9da89,openstack/nova,stable/ussuri,bug/1879787,I4c89c8ba0153ec01ff57979b9bf1cfd5b2a9da89,Handle Neutron errors in _post_live_migration(),ABANDONED,2020-08-17 14:53:39.000000000,2020-08-20 18:23:12.000000000,,10,7,0,746529,1e95da0267a72143e3c9322abdcbe1a5efb1c6d2,9,6,1,2,8864,Artom Lifshitz,artom,"Handle Neutron errors in _post_live_migration()

_post_live_migration() on the destination host has a call to
self.network_api.get_instance_nw_info(), which eventually ends up
calling the Neutron REST API (via
nova.network.neutron.API._build_network_info_model()). Any exceptions
in that call were unhandled, and caused both the server and the
migration to end up in ERROR. This patch handles the error, and
modifies the functional test to reflect the newly fixed behavior.

Closes-bug: 1879787
Change-Id: I4c89c8ba0153ec01ff57979b9bf1cfd5b2a9da89
(cherry picked from commit 9f205c620e57c9af760d3b52c93a4ff6d5c0e618)
"
openstack%2Frpm-packaging~master~If55a0df907f99f4d6610ff6bc91547157f7356cd,openstack/rpm-packaging,master,,If55a0df907f99f4d6610ff6bc91547157f7356cd,update dependencies to follow the package renaming on SUSE side,MERGED,2020-08-18 12:55:53.000000000,2020-08-20 18:22:39.000000000,2020-08-20 18:22:39.000000000,4,4,0,746707,fdd4d80042f05a16a7af41f90c9fe10d8f215503,11,7,1,2,6593,Dirk Mueller,dmllr,"update dependencies to follow the package renaming on SUSE side

the SUSE python team apparently decided to follow safename going
forward. This will be a long journey, for now, python-importlib_metadata
has been renamed to python-importlib-metadata. probably 200+ more
renames to follow.

Change-Id: If55a0df907f99f4d6610ff6bc91547157f7356cd
"
openstack%2Frpm-packaging~master~I73ac270f8b22bc2fb495a6bd0ed2b4fdb800fec7,openstack/rpm-packaging,master,,I73ac270f8b22bc2fb495a6bd0ed2b4fdb800fec7,stevedore: Update to 3.2.0,MERGED,2020-08-04 12:30:02.000000000,2020-08-20 18:22:38.000000000,2020-08-20 18:22:38.000000000,2,1,0,744694,afd4d78f2bef0dbeb76a37f0a6a99f7b78736e74,17,5,3,1,6593,Dirk Mueller,dmllr,"stevedore: Update to 3.2.0

Change-Id: I73ac270f8b22bc2fb495a6bd0ed2b4fdb800fec7
"
openstack%2Fec2-api~stable%2Ftrain~I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1,openstack/ec2-api,stable/train,,I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1,Fix AMI image registration,MERGED,2020-08-20 15:33:54.000000000,2020-08-20 18:21:06.000000000,2020-08-20 18:13:01.000000000,8,13,0,747215,f90157089654487af9a64fdbf73c76c6909c1bf3,10,2,1,1,10234,Andrey Pavlov,andrey-mp,"Fix AMI image registration

Change-Id: I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1
"
openstack%2Fheat~stable%2Fussuri~I0137bd73549ca47529a1707f9a3d077fc679ff8d,openstack/heat,stable/ussuri,,I0137bd73549ca47529a1707f9a3d077fc679ff8d,[DNM] Test Heat CI,ABANDONED,2020-08-12 14:14:55.000000000,2020-08-20 18:16:41.000000000,,1,0,0,745902,9962a14c17e5dd862ff10155bdd4b32c6033fe87,4,2,1,1,25877,Luke Short,ekultails,"[DNM] Test Heat CI

Change-Id: I0137bd73549ca47529a1707f9a3d077fc679ff8d
(cherry picked from commit 17d4fce1652d1713362bf6473d37429dc6c9b050)
"
openstack%2Fheat~stable%2Ftrain~I0137bd73549ca47529a1707f9a3d077fc679ff8d,openstack/heat,stable/train,,I0137bd73549ca47529a1707f9a3d077fc679ff8d,[DNM] Test Heat CI,ABANDONED,2020-08-12 14:15:26.000000000,2020-08-20 18:16:33.000000000,,1,0,0,745903,7c391a48de2f6822a666065b434b20d01730f68e,4,2,1,1,25877,Luke Short,ekultails,"[DNM] Test Heat CI

Change-Id: I0137bd73549ca47529a1707f9a3d077fc679ff8d
(cherry picked from commit 17d4fce1652d1713362bf6473d37429dc6c9b050)
(cherry picked from commit 9962a14c17e5dd862ff10155bdd4b32c6033fe87)
"
openstack%2Fcharm-neutron-api-plugin-arista~master~I18b57a85536b4077945fbaf5c1afe95a02d81344,openstack/charm-neutron-api-plugin-arista,master,bug/1890628,I18b57a85536b4077945fbaf5c1afe95a02d81344,"Add Rocky, Stein and Train support",MERGED,2020-08-19 10:03:17.000000000,2020-08-20 18:16:13.000000000,2020-08-20 18:16:13.000000000,373,145,8,746871,69829ab5487bae25084f356df674c6be079cc806,29,4,4,17,31289,Aurelien Lourot,lourot,"Add Rocky, Stein and Train support

Also removed unused/dangling config option and empty test class.

Change-Id: I18b57a85536b4077945fbaf5c1afe95a02d81344
Partial-Bug: #1890628
"
openstack%2Fwhitebox-tempest-plugin~master~I4d9330cf8abcb6ba3c0852e6ce3db732e468c6a5,openstack/whitebox-tempest-plugin,master,nova_sm_dns,I4d9330cf8abcb6ba3c0852e6ce3db732e468c6a5,Pass hostname to NovaServiceManager,MERGED,2020-08-17 21:23:43.000000000,2020-08-20 18:13:05.000000000,2020-08-20 18:13:05.000000000,74,52,16,746605,17185972008937fd45bc0fe3755a8e69f991a524,15,6,3,7,31033,James Parker,jparker,"Pass hostname to NovaServiceManager

Default TripleO deployments utilize compute domain names when looking up
nova service binaries, this lookup does not work when using a compute's
control plane IP address though. To allow the recent change [1] to run
downstream, this commit updates how parameters are passed to the init of
NovaServiceManager. The hostname is passed to NovaServiceManager instead
of the IP address.  During the init the compute's control plane IP
address is determined and passed to its SSHClient. When
NovaServiceManager attempts to access nova services, it uses the
compute's provided hostname now instead of the IP address.

The get_ctlplane_address() function was moved from api.compute.base to
utils, since services.clients now needs to leverage this functionality
as well. All test case calls of get_ctlplane_address() have been updated
to use the new module path. Unit test modules test_base and test_utils
were updated to reflect these changes.

Lastly test cases interfacing with NovaServiceManager have been updated
to store both the compute's hostname as well as it's associated control
plane IP address. Originally these tests only stored the compute's
control plane address.

[1] https://review.opendev.org/#/c/736820/

Change-Id: I4d9330cf8abcb6ba3c0852e6ce3db732e468c6a5
"
openstack%2Fcharm-ceph-rbd-mirror~master~I0a6f1de82ecc601509822277d657485e08dc893d,openstack/charm-ceph-rbd-mirror,master,enable-focal,I0a6f1de82ecc601509822277d657485e08dc893d,Add focal and ussuri bundles to the charm,MERGED,2020-04-02 16:01:34.000000000,2020-08-20 18:08:12.000000000,2020-08-20 18:08:12.000000000,461,2,1,717068,5199c767137fe4fa2abcd619221facad40c6defe,81,7,13,5,20870,Alex Kavanagh,ajkavanagh,"Add focal and ussuri bundles to the charm

This patch updates the bundles to include up to focal-ussuri.
The focal-ussuri bundle is in the dev bundles as it can't pass at the
moment due to LP: #1865754.

The bionic-ussuri bundle is in the dev bundles (i.e. not gate) as it
fails due to LP: #1892201

Also deal with the related bug where cinder-ceph requires the relation
with a nova-compute unit.

Related-Bug: #1881246
Related-Bug: #1865754
Related-Bug: #1892201
Change-Id: I0a6f1de82ecc601509822277d657485e08dc893d
"
openstack%2Fcharm-guide~master~Id612395620e74331c2c11006ef9224ce3defc859,openstack/charm-guide,master,ca-config-option-gnocchi,Id612395620e74331c2c11006ef9224ce3defc859,Add Gnocchi new config option in charm new features,MERGED,2020-08-19 14:44:51.000000000,2020-08-20 18:05:24.000000000,2020-08-20 18:03:17.000000000,8,0,5,746940,741d08445d22499f82fd290606d634cadd30ef5a,12,3,3,1,30670,Camille Rodriguez,crodriguez,"Add Gnocchi new config option in charm new features

The trusted-external-ca-cert is a new configuration option,
submitted via https://review.opendev.org/#/c/746562/.

Change-Id: Id612395620e74331c2c11006ef9224ce3defc859
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ib32d124a65f533283fa6b4f53e30db250d28dd78,openstack/tripleo-ansible,stable/train,train_senario001,Ib32d124a65f533283fa6b4f53e30db250d28dd78,[TRAIN ONLY] Trigger scenario001/004 for tripleo-ceph roles,MERGED,2020-08-20 14:45:46.000000000,2020-08-20 17:57:02.000000000,2020-08-20 17:57:02.000000000,2,2,0,747192,bb676dc990433c4d265859a4c2b69b95a0ac68a0,8,4,1,1,18002,John Fulton,fultonj,"[TRAIN ONLY] Trigger scenario001/004 for tripleo-ceph roles

The syntax of the zuul layout didn't correctly glob changes
to the roles for tripleo-ceph. Add missing '.' so it globs
correctly.

Change-Id: Ib32d124a65f533283fa6b4f53e30db250d28dd78
"
openstack%2Fceilometer~master~I07fcfeda3bfe1d68f2f99cb81ff69dedd704265a,openstack/ceilometer,master,,I07fcfeda3bfe1d68f2f99cb81ff69dedd704265a,Impelement meters publish to database,NEW,2019-11-28 08:20:15.000000000,2020-08-20 17:43:33.000000000,,2237,0,4,696470,8ef87db762f752ce5f984db29fc188361901081c,7,3,2,10,30601,dejianfu,fudejian,"Impelement meters publish to database

The ceilometer-collector service was removed in the previous version,
but meters need to be saved in database,
So add this function that meters publish to database.

Story: #2006894
Task: #37528
Change-Id: I07fcfeda3bfe1d68f2f99cb81ff69dedd704265a
"
openstack%2Fproject-config~master~I668bc85c3e7bd1faf3674c47ccd551c7a92af52c,openstack/project-config,master,pause-images,I668bc85c3e7bd1faf3674c47ccd551c7a92af52c,Pause all image builds,MERGED,2020-08-20 16:25:39.000000000,2020-08-20 17:26:39.000000000,2020-08-20 17:17:50.000000000,17,17,0,747241,37461abc86a972e5a16000970023a65f142d9603,7,3,1,2,4146,Clark Boylan,cboylan,"Pause all image builds

Pause all image builds until we can get git installed into them
reliably. Otherwise jobs break.

Change-Id: I668bc85c3e7bd1faf3674c47ccd551c7a92af52c
"
openstack%2Ftripleo-common~stable%2Ftrain~Id306243352f310f9054506577aa9bbce3790a7e5,openstack/tripleo-common,stable/train,,Id306243352f310f9054506577aa9bbce3790a7e5,Ensure atomic inventory file rename runs on the same mountpoint,MERGED,2020-08-19 06:44:58.000000000,2020-08-20 16:16:30.000000000,2020-08-20 16:08:11.000000000,10,2,0,746842,662b0acd91266d28bf3b0b7a4c68ba919182c56a,13,5,1,2,12393,chandan kumar,chkumar246,"Ensure atomic inventory file rename runs on the same mountpoint

Linux rename system call is only supported on the same mountpoint [1].
/tmp is often a tmpfs mount, so instead generate the temp inventory file in
the same directory as the target inventory file.

[1] See EXDEV in https://man7.org/linux/man-pages/man2/rename.2.html

Change-Id: Id306243352f310f9054506577aa9bbce3790a7e5
Closes-bug: #1892008
(cherry picked from commit fbd575cbe88400bad1ce4d37b914d7ae8a43e15c)
"
openstack%2Fvalidations-common~master~I94eadcecbae58ad322cc3028b315eab795711027,openstack/validations-common,master,,I94eadcecbae58ad322cc3028b315eab795711027,Switch legacy Zuul jobs to native Zuul v3 jobs,MERGED,2020-07-24 11:05:29.000000000,2020-08-20 16:08:12.000000000,2020-08-20 16:08:12.000000000,168,204,17,742853,b706d7c7c92eecd0aac5664288e43fb347eae782,22,6,3,14,16515,mbu,matbu,"Switch legacy Zuul jobs to native Zuul v3 jobs

See
https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html
for more details.

Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
Change-Id: I94eadcecbae58ad322cc3028b315eab795711027
"
openstack%2Freleases~master~I9e982394b9814eed4248e68eb92e853a2f415ed7,openstack/releases,master,victoria-cwi,I9e982394b9814eed4248e68eb92e853a2f415ed7,Switch heat-agents to cycle-with-rc,ABANDONED,2020-08-13 16:33:45.000000000,2020-08-20 16:04:17.000000000,,1,1,0,746191,af29583fae787536a4d06911e6038455f1cc1ef0,3,2,1,1,11904,Sean McGinnis,SeanM,"Switch heat-agents to cycle-with-rc

Deliverables following the cycle-with-intermediary model are expected
to release multiple times throughout the development cycle. Since
heat-agents only released once last cycle, and has not done a
release yet this cycle, this proposes changing the release model to
cycle-with-rc so the expectation is only that it will release an RC by
the end of the cycle prior to doing the final release.

This is just a suggestion for the team to consider. The important point
is past the milestone-2 point, downstream planning starts happening
for what will be included in the release. We just want to try to avoid
the situation where downstream expects something to be included, but we
need to unexpectedly drop it from the coordinated release late in the
cycle.

For the team, please respond to this patch in one of the following ways:

* -1 this patch and follow up with an intermediary release
* +1 this patch and we will switch over the release model
* -1 this patch, but acknowledge a release will be done prior to the
  RC1 deadline.

Change-Id: I9e982394b9814eed4248e68eb92e853a2f415ed7
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Ftripleo-common~stable%2Fussuri~I183082b44e3edff3672d1d55ffa84ba4cd5c0a74,openstack/tripleo-common,stable/ussuri,label3-stable/ussuri,I183082b44e3edff3672d1d55ffa84ba4cd5c0a74,tcib: rename kolla_version to tcib_managed,MERGED,2020-08-19 21:08:32.000000000,2020-08-20 15:50:56.000000000,2020-08-20 15:48:43.000000000,1,1,0,747037,ee720ed17fd5506835d44abb33d3f6c4268edd20,8,3,1,1,3153,Emilien Macchi,emilienm,"tcib: rename kolla_version to tcib_managed

To avoid confusion, do not use kolla_version label and use tcib_managed.
This is useful to filter images that are built by TCIB or not.

Depends-On: https://review.opendev.org/#/c/740298/
Change-Id: I183082b44e3edff3672d1d55ffa84ba4cd5c0a74
(cherry picked from commit 8ed87699fedc60eed19ec3816d16ac42e6f08b02)
"
openstack%2Ftripleo-upgrade~master~I3d2c7691d43674a0304bea8f366162e808dde3ad,openstack/tripleo-upgrade,master,ffwd-upgrade2,I3d2c7691d43674a0304bea8f366162e808dde3ad,Create workload_launch script when sanity testing is enabled,MERGED,2020-08-20 09:43:26.000000000,2020-08-20 15:48:44.000000000,2020-08-20 15:48:44.000000000,11,11,0,747130,45c2b65361846b69eac136462f368ecd1b0b76da,10,3,3,2,6816,Jesse Pretorius,jesse-pretorius,"Create workload_launch script when sanity testing is enabled

If workload testing is not enabled, then the workload script
is not there, so the sanity test fails.

In this patch we change the conditionals to ensure that the
workload launch script is created if either test is enabled.
we also then ensure that the sanity test launches are using
the correct conditional.

Change-Id: I3d2c7691d43674a0304bea8f366162e808dde3ad
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I70bbc40f8e5eb709d9f0f608e936a818e082918b,openstack/python-tripleoclient,stable/ussuri,state/undercloud-stable/ussuri,I70bbc40f8e5eb709d9f0f608e936a818e082918b,overcloud_deploy: move horizon url/rc files before config-download,MERGED,2020-08-20 02:26:33.000000000,2020-08-20 15:48:31.000000000,2020-08-20 15:46:13.000000000,17,17,0,747075,1ffc56ed97ec8878a255c96baa16652ef825cf9d,8,3,1,1,3153,Emilien Macchi,emilienm,"overcloud_deploy: move horizon url/rc files before config-download

When a deployment fails, we run the playbooks to generate horizon URL &
RC files anyway. However it is confusing to have them at the end, after
the actual trace and an operator with a small screen won't see the
actual errors easily.

Let's just move these actions before the config download execution,
which has no impact anyway; but will improve logging a lot.

Change-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b
Related-Bug: #1889212
(cherry picked from commit 9dec1b2e334e110b03f951c9fd3480f6c3dc8e11)
"
openstack%2Fkayobe~stable%2Fussuri~I849d9b09e973316308e574c447a78868e93a5420,openstack/kayobe,stable/ussuri,,I849d9b09e973316308e574c447a78868e93a5420,Skip broken ansible-lint,MERGED,2020-08-19 12:28:38.000000000,2020-08-20 15:40:30.000000000,2020-08-20 15:38:12.000000000,1,1,0,746906,f82a23089a24df7b6f007e2cc106e12c70143af8,9,4,1,1,15197,Pierre Riteau,priteau,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I849d9b09e973316308e574c447a78868e93a5420
(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)
"
openstack%2Fnova~master~Iccd25339bc805b0b21a9290093338a010c204f4f,openstack/nova,master,bug/1668432,Iccd25339bc805b0b21a9290093338a010c204f4f,compute: Detach volumes on _rebuild_default_impl failure,ABANDONED,2017-03-06 18:41:28.000000000,2020-08-20 15:30:28.000000000,,49,5,1,442105,4ab416addec436870355421c5d02a20633df7fba,104,20,7,2,10135,Lee Yarwood,lyarwood,"compute: Detach volumes on _rebuild_default_impl failure

Previously a failed call to spawn an instance during a rebuild using the
default implementation would leave volumes accessible from and
potentially connected to compute hosts. This change now ensures the
provided detach_block_devices method is called again if spawn fails.

Closes-bug: #1668432
Change-Id: Iccd25339bc805b0b21a9290093338a010c204f4f
"
openstack%2Freleases~master~I38817f592ffd3255c2ce263549b5c7fbdf973956,openstack/releases,master,,I38817f592ffd3255c2ce263549b5c7fbdf973956,Fix the list-deliverable command,ABANDONED,2020-08-20 15:00:50.000000000,2020-08-20 15:20:34.000000000,,1,1,0,747199,0585d292ce8d0c3d3198bb93779243199d9527d2,3,1,1,1,28522,Hervé Beraud,hberaud,"Fix the list-deliverable command

Since 4e944ea have been added we facing the following error:

```
$ tox -e venv -- list-deliverables --team oslo -r
venv develop-inst-noop: /home/hberaud/openstack/releases
venv installed: alabaster==0.7.12,appdirs==1.4.4,attrs==19.3.0,Babel==2.8.0,bleach==3.1.5,certifi==2020.4.5.1,cffi==1.14.0,chardet==3.0.4,cliff==3.1.0,cmd2==0.8.9,coverage==5.1,cryptography==2.9.2,docutils==0.16,dulwich==0.19.16,extras==1.0.0,fixtures==3.0.0,flake8==2.5.5,future==0.18.2,hacking==1.0.0,idna==2.9,imagesize==1.2.0,importlib-metadata==1.6.0,jeepney==0.4.3,Jinja2==2.11.2,jsonschema==3.2.0,keyring==21.2.1,linecache2==1.0.0,MarkupSafe==1.1.1,mccabe==0.2.1,mock==4.0.2,mwclient==0.8.1,openstack-governance==0.6.0,-e git+https://git.openstack.org/openstack/releases@6c9d1d79f133a0852bd842c45e2a1262a4df4033#egg=openstack_releases,oslotest==4.2.0,packaging==20.3,parawrap==1.0,pbr==5.4.5,pep8==1.5.7,pkginfo==1.5.0.1,prettytable==0.7.2,prompt-toolkit==3.0.5,pycparser==2.20,pydot2==1.0.33,pyfiglet==0.8.post1,pyflakes==0.8.1,Pygments==2.6.1,pyparsing==2.4.7,pyperclip==1.8.0,pyrsistent==0.16.0,python-mimeparse==1.6.0,python-subunit==1.4.0,pytz==2020.1,PyYAML==5.3.1,readme-renderer==26.0,reno==3.1.0,requests==2.23.0,requests-toolbelt==0.9.1,ruamel.yaml==0.16.10,ruamel.yaml.clib==0.2.0,SecretStorage==3.1.2,six==1.14.0,snowballstemmer==2.0.0,Sphinx==3.0.3,sphinxcontrib-applehelp==1.0.2,sphinxcontrib-devhelp==1.0.2,sphinxcontrib-htmlhelp==1.0.3,sphinxcontrib-jsmath==1.0.1,sphinxcontrib-qthelp==1.0.3,sphinxcontrib-serializinghtml==1.1.4,stestr==3.0.1,stevedore==1.32.0,testscenarios==0.5.0,testtools==2.4.0,tqdm==4.46.0,traceback2==1.4.0,twine==3.1.1,unittest2==1.1.0,urllib3==1.25.9,voluptuous==0.11.7,wcwidth==0.1.9,webencodings==0.5.1,yamlordereddictloader==0.4.0,zipp==3.1.0
venv run-test-pre: PYTHONHASHSEED='2741526287'
venv run-test: commands[0] | list-deliverables --team oslo -r
Traceback (most recent call last):
  File ""/home/hberaud/openstack/releases/.tox/venv/bin/list-deliverables"", line 10, in <module>
    sys.exit(main())
  File ""/home/hberaud/openstack/releases/openstack_releases/cmds/list_deliverables.py"", line 256, in main
    tag_str = '(' + ', '.join(deliv.tags) + ')'
  File ""/home/hberaud/openstack/releases/openstack_releases/deliverable.py"", line 573, in tags
    Deliverable._gov_data = governance.Governance.from_remote_repo()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/openstack_governance/governance.py"", line 191, in from_remote_repo
    wgs_data = _yamlutils.loads(r.text)
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/openstack_governance/_yamlutils.py"", line 24, in loads
    return yaml.load(blob, Loader=yamlordereddictloader.Loader)
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/__init__.py"", line 114, in load
    return loader.get_single_data()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/constructor.py"", line 49, in get_single_data
    node = self.get_single_node()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/composer.py"", line 36, in get_single_node
    document = self.compose_document()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/composer.py"", line 58, in compose_document
    self.get_event()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/parser.py"", line 118, in get_event
    self.current_event = self.state()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/parser.py"", line 193, in parse_document_end
    token = self.peek_token()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/scanner.py"", line 129, in peek_token
    self.fetch_more_tokens()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/scanner.py"", line 260, in fetch_more_tokens
    self.get_mark())
yaml.scanner.ScannerError: while scanning for the next token
found character '\t' that cannot start any token
  in ""<unicode string>"", line 4, column 1:
        <meta charset=""utf-8"">
```

Revert 4e944ea:

Require latest governance parsing code(4e944ea)

Bump openstack-governance requirements to 0.7.0 to pick up latest
governance parsing code, as the current state of governance files
will break anything <0.7.0.

Change-Id: I38817f592ffd3255c2ce263549b5c7fbdf973956
"
openstack%2Fcinder~stable%2Fussuri~Ia620043904f4f31a81bc8463fb36476a149f9808,openstack/cinder,stable/ussuri,correct-relnote-stable/ussuri,Ia620043904f4f31a81bc8463fb36476a149f9808,Correct formatting in release note,MERGED,2020-08-19 16:46:34.000000000,2020-08-20 15:16:56.000000000,2020-08-19 20:23:09.000000000,1,1,0,746995,dae548d5473d1aaf3894aedc0e3937d4d0613d70,18,11,1,1,27615,Rajat Dhasmana,whoami-rajat,"Correct formatting in release note

A missing '_' is causing a hyperlink to render incorrectly in HTML.

Change-Id: Ia620043904f4f31a81bc8463fb36476a149f9808
(cherry picked from commit f690327b55cac79540c9bb7b10c390b73aa3fc62)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,openstack/tripleo-ansible,stable/train,config/json-stable/train,I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,tripleo_container_configs module,MERGED,2020-08-19 18:26:34.000000000,2020-08-20 15:14:19.000000000,2020-08-20 15:12:10.000000000,209,0,0,747009,a0f7dafde9017b0a3310ae2e7dec4b70a1a5bd53,11,3,2,5,3153,Emilien Macchi,emilienm,"tripleo_container_configs module

To replace the task that looks over kolla_config.yaml and creates the
json files per item in the YAML, create a module that will lead to one
task creating all the files.

Change-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6
(cherry picked from commit bfc2681ad539e55087c1f4a15e638c34c31dc7e1)
"
openstack%2Fcinder~stable%2Fussuri~I621a00d34e9c2b14234e11e94857a39fe54a111f,openstack/cinder,stable/ussuri,brocade,I621a00d34e9c2b14234e11e94857a39fe54a111f,Brocade: Fix lookup UnboundLocalError,MERGED,2020-08-17 15:01:09.000000000,2020-08-20 15:07:45.000000000,2020-08-20 15:05:23.000000000,16,0,0,746536,41fcbf8a56cdead8265455ddecfed96000a857bb,44,21,2,3,10459,Luigi Toscano,ltoscano,"Brocade: Fix lookup UnboundLocalError

If we get an exception when getting the southbound client in method
get_device_mapping_from_network we will end up seeing the following
error:

  UnboundLocalError: local variable 'conn' referenced before assignment

This patch fixes this issue by making sure that the conn variable exists
even if that call fails.

TrivialFix
Closes-Bug: #1888550
Change-Id: I621a00d34e9c2b14234e11e94857a39fe54a111f
(cherry picked from commit 122036638d6377f688272ee641e8effbcef933a1)
"
openstack%2Foctavia~master~I49e92f81b23e0b306c62c406a45029b96dce20df,openstack/octavia,master,sec-grp-rule-quota,I49e92f81b23e0b306c62c406a45029b96dce20df,Increase the devstack secuirty group rules quota,MERGED,2020-08-16 20:33:19.000000000,2020-08-20 15:07:24.000000000,2020-08-19 23:17:28.000000000,3,2,1,746418,2e2464d778cc86df161fdf59406aac30770b58f0,30,6,4,1,11628,Michael Johnson,johnsom,"Increase the devstack secuirty group rules quota

Recent changes to the Octavia tempest tests has caused our test
runs to exceed the default neutron security group rule quota.
This patch increases that quota for the Octavia project in devstack.

Change-Id: I49e92f81b23e0b306c62c406a45029b96dce20df
"
openstack%2Fcinder~stable%2Fussuri~Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a,openstack/cinder,stable/ussuri,brocade,Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a,Brocade: Fix AttributeError when raising exception,MERGED,2020-08-17 15:01:09.000000000,2020-08-20 14:57:49.000000000,2020-08-20 14:55:24.000000000,305,1,0,746535,373efbd7ee7e635a0f8970f4c1fea7d8cb4e878d,93,18,2,3,10459,Luigi Toscano,ltoscano,"Brocade: Fix AttributeError when raising exception

When we moved Brocade exceptions from cinder.exception to
cinder.zonemanager.drivers.broade.exception we missed one file,
brcd_rest_fc_zone_client, so when we use that file (setting
`fc_southbound_protocol = REST_HTTP`) if it tries to raise an exception
we end up seeing:

  AttributeError: module 'cinder.exception' has no attribute
  'BrocadeZoningRestException'

The CI didn't catch it because there are no unit tests for the
brcd_rest_fc_zone_client.py file.

This patch fixes the issue by changing the import so it gets the
exceptions from the Brocade file and it also adds some tests for the
first half (211 lines) of the code in the brcd_rest_fc_zone_client.py
file.

TrivialFix
Closes-Bug: #1866860
Change-Id: Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a
(cherry picked from commit 6dbd08b49171ecaaeb5896f58f7740e304f7e548)
"
openstack%2Fheat~stable%2Fussuri~I5b085e469f3fd24c797d5dcaf39dbe56f6ad5cdf,openstack/heat,stable/ussuri,story/2006616-stable/ussuri,I5b085e469f3fd24c797d5dcaf39dbe56f6ad5cdf,Add dns_domain support to OS::Neutron::ProviderNet,ABANDONED,2020-07-30 13:11:52.000000000,2020-08-20 14:56:51.000000000,,17,2,8,743967,2bb3f7e5b9901b040e32c5abd372a522b45ec9cb,22,5,3,2,7353,Kevin Carter,cloudnull,"Add dns_domain support to OS::Neutron::ProviderNet

It is actually possible to set OS::Neutron::Net-dns_domain but
not OS::Neutron::ProviderNet-dns_domain with heat.   Since this
is allowed using python-neutronclient, there're no reasons to
not allow this using heat.

Change-Id: I5b085e469f3fd24c797d5dcaf39dbe56f6ad5cdf
Task: 36808
(cherry picked from commit 5bc84d64192720b2944d32acd8dd44289bdab859)
"
openstack%2Fpaunch~stable%2Ftrain~If23ee1b5b0211221c0dd547e95a0487ea8d04909,openstack/paunch,stable/train,,If23ee1b5b0211221c0dd547e95a0487ea8d04909,Log benign command errors as warns,MERGED,2020-08-18 13:12:54.000000000,2020-08-20 14:54:08.000000000,2020-08-20 14:51:02.000000000,30,22,0,746713,e3789cc2ea5d1dac11ece6e4b83c99631634ed64,17,5,1,2,6926,Bogdan Dobrelya,bogdando,"Log benign command errors as warns

Errors logged when an image/container was not found are misleading and
should become warnings instead. Only log errors for real execution
failures.

Change-Id: If23ee1b5b0211221c0dd547e95a0487ea8d04909
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 861ed0612805c85fe84b9c836c32aaac3095ea38)
"
openstack%2Fdevstack-plugin-ceph~master~I7896886d356a75a896660e08e2152c69534fa26f,openstack/devstack-plugin-ceph,master,gate-voting,I7896886d356a75a896660e08e2152c69534fa26f,[CI] Gate on voting jobs,MERGED,2020-08-20 07:15:08.000000000,2020-08-20 14:53:09.000000000,2020-08-20 14:35:52.000000000,3,0,2,747113,6f48063468fb0152327b32138123da390ba51403,10,4,2,1,30491,Radosław Piliszek,yoctozepto,"[CI] Gate on voting jobs

Per the best practices.

Change-Id: I7896886d356a75a896660e08e2152c69534fa26f
"
openstack%2Fdevstack-plugin-ceph~master~Iff47bbe4954da3ab582a007ba04b3df50ae21cd4,openstack/devstack-plugin-ceph,master,,Iff47bbe4954da3ab582a007ba04b3df50ae21cd4,shaman: use 'ready' repo instead of any,MERGED,2020-08-19 20:15:38.000000000,2020-08-20 14:53:03.000000000,2020-08-20 07:05:28.000000000,1,1,0,747030,6b409867bfc9d897ab36928b8e538ef3ba04961a,12,6,1,1,1004,Mohammed Naser,mnaser,"shaman: use 'ready' repo instead of any

We seem to have been requesting the latest build from the Shaman API
provided by Ceph however we did not filter the status to be 'ready'
which meant that we sometimes got 'building' status repositories that
cause the jobs to fail.

This should stabilize jobs a lot more by using only the ready
repositories.

Change-Id: Iff47bbe4954da3ab582a007ba04b3df50ae21cd4
"
openstack%2Ftripleo-upgrade~master~Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,openstack/tripleo-upgrade,master,ffwd-upgrade2,Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,FFWD: L3 fixup,MERGED,2020-08-19 09:48:13.000000000,2020-08-20 14:52:26.000000000,2020-08-20 14:51:04.000000000,36,136,0,746869,854f084fbf7dc71e702dc3c578db0e8283edf5b5,13,3,3,3,11166,Lukas Bezdicka,xbezdick,"FFWD: L3 fixup

Before we fix workload accounting and l3 test scripts we need to
remove extra wokload test during FFWD.

Change-Id: Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0
"
openstack%2Fos-brick~master~I05f94d31277efec28ad50ae2f3502ab6fccfe37c,openstack/os-brick,master,improve-get_sysfs_wwn,I05f94d31277efec28ad50ae2f3502ab6fccfe37c,Improve WWN detection,MERGED,2020-06-01 15:38:14.000000000,2020-08-20 14:50:04.000000000,2020-08-13 19:01:42.000000000,68,7,1,732407,7fb37c2000a148f37bc8a6c17e913c46865776bd,71,19,1,3,9535,Gorka Eguileor,Gorka,"Improve WWN detection

To avoid issues with the scsi_id command getting stuck and blocking the
attachment we use sysfs to search for the WWN, but it can happen that we
fail to detect the WWN even if it's present in sysfs.

This happens when the storage array has multiple designators and the
multipath daemon detects the multipaths very fast.

The flow is:

- os-brick attaches volumes using iscsiadm --login
- udev generates the symlink with the WWN (this is the one we want)
- multipathd detects the volumes and forms the DM
- udev replaces the previous symlink to point to the multipath DM
- os-brick checks the symlink

This patch adds code to get_sysfs_wwn that checks the individual devices
belonging to a multipath DM if the symlink points to a DM.

Closes-Bug: #1881608
Change-Id: I05f94d31277efec28ad50ae2f3502ab6fccfe37c
"
openstack%2Fos-brick~master~Ic48bd9ac408c56073e58168df7e74e4b949ac2f2,openstack/os-brick,master,improve-iscsi-multipath-detection,Ic48bd9ac408c56073e58168df7e74e4b949ac2f2,iSCSI detect multipath DM with no WWN,MERGED,2020-06-01 17:22:15.000000000,2020-08-20 14:48:56.000000000,2020-08-13 23:08:39.000000000,45,3,1,732423,63f52be546b4bb4689e400521bea48ce25daa703,45,16,1,3,9535,Gorka Eguileor,Gorka,"iSCSI detect multipath DM with no WWN

If udev rules are slow (or don't happen) and they don't generate the
symlinks we use to detect the WWN, or if we just fail to find the WWN we
end up not detecting the iSCSI multipath even if it is present in the
system.

With this patch we no longer wait to find the WWN before trying to
locate the multipath device.

This means that as long as the multipath daemon is able to generate the
multipath we will be able to return a multipath device path to the
caller.

Closes-Bug: 1881619
Change-Id: Ic48bd9ac408c56073e58168df7e74e4b949ac2f2
"
openstack%2Fnova~master~I9d8d8c3a30cf6da7e8fb48374347e069ab075df2,openstack/nova,master,bug/1841932,I9d8d8c3a30cf6da7e8fb48374347e069ab075df2,"replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""",MERGED,2020-04-23 02:30:09.000000000,2020-08-20 14:42:02.000000000,2020-05-26 04:08:54.000000000,59,11,27,722187,bf488a8630702160021b5848bf6e86fbb8015205,130,20,9,7,27594,Jie Li,ramboman,"replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""

When we use the flavor extra_specs ""hide_hypervisor_id"" in
AggregateInstanceExtraSpecsFilter, then will retrun False.
So we need correct the extra_specs.

Change-Id: I9d8d8c3a30cf6da7e8fb48374347e069ab075df2
Closes-Bug: 1841932
"
openstack%2Fos-brick~stable%2Fussuri~I05f94d31277efec28ad50ae2f3502ab6fccfe37c,openstack/os-brick,stable/ussuri,improve-get_sysfs_wwn,I05f94d31277efec28ad50ae2f3502ab6fccfe37c,Improve WWN detection,MERGED,2020-08-17 15:05:19.000000000,2020-08-20 14:03:56.000000000,2020-08-20 13:59:26.000000000,68,7,0,746539,935daead18b0a09eae340325f2d09b5ad2c5b569,14,9,1,3,10459,Luigi Toscano,ltoscano,"Improve WWN detection

To avoid issues with the scsi_id command getting stuck and blocking the
attachment we use sysfs to search for the WWN, but it can happen that we
fail to detect the WWN even if it's present in sysfs.

This happens when the storage array has multiple designators and the
multipath daemon detects the multipaths very fast.

The flow is:

- os-brick attaches volumes using iscsiadm --login
- udev generates the symlink with the WWN (this is the one we want)
- multipathd detects the volumes and forms the DM
- udev replaces the previous symlink to point to the multipath DM
- os-brick checks the symlink

This patch adds code to get_sysfs_wwn that checks the individual devices
belonging to a multipath DM if the symlink points to a DM.

Closes-Bug: #1881608
Change-Id: I05f94d31277efec28ad50ae2f3502ab6fccfe37c
(cherry picked from commit 7fb37c2000a148f37bc8a6c17e913c46865776bd)
"
openstack%2Fnova~master~Ibe236988af24a3b43508eec4efbe52a4ed05d45f,openstack/nova,master,bug/1818847,Ibe236988af24a3b43508eec4efbe52a4ed05d45f,libvirt: Use 'writeback' QEMU cache mode when 'none' is not viable,MERGED,2019-03-08 10:37:32.000000000,2020-08-20 13:38:52.000000000,2019-04-02 16:34:20.000000000,79,29,32,641981,b9dc86d8d646472195070022ff7ae4c372bef4ca,134,22,14,4,6962,Kashyap Chamarthy,kashyapc,"libvirt: Use 'writeback' QEMU cache mode when 'none' is not viable

When configuring QEMU cache modes for Nova instances, we use
'writethrough' when 'none' is not available.  But that's not correct,
because of our misunderstanding of how cache modes work.  E.g. the
function disk_cachemode() in the libvirt driver assumes that
'writethrough' and 'none' cache modes have the same behaviour with
respect to host crash safety, which is not at all true.

The misunderstanding and complexity stems from not realizing that each
QEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the
convenient cache mode table in the code comment (in
nova/virt/libvirt/driver.py).

As Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made
a couple of micro edits for clarity):

    The thing that makes 'writethrough' so safe against host crashes is
    that it never keeps data in a ""write cache"", but it calls fsync()
    after _every_ write.  This is also what makes it horribly slow.  But
    'cache=none' doesn't do this and therefore doesn't provide this kind
    of safety.  The guest OS must explicitly flush the cache in the
    right places to make sure data is safe on the disk.  And OSes do
    that.

    So if 'cache=none' is safe enough for you, then 'cache=writeback'
    should be safe enough for you, too -- because both of them have the
    boolean 'cache.writeback=on'.  The difference is only in
    'cache.direct', but 'cache.direct=on' only bypasses the host kernel
    page cache and data could still sit in other caches that could be
    present between QEMU and the disk (such as commonly a volatile write
    cache on the disk itself).

So use 'writeback' mode instead of the debilitatingly slow
'writethrough' for cases where the O_DIRECT-based 'none' is unsupported.

Do the minimum required update to the `disk_cachemodes` config help
text.  (In a future patch, rewrite the cache modes documentation to fix
confusing fragments and outdated information.)

Closes-Bug: #1818847
Change-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
Looks-good-to-me'd-by: Kevin Wolf <kwolf@redhat.com>
"
openstack%2Ftripleo-docs~master~Ic406e3a4423cdd7c46c8a4497d43d63c95b2a9f5,openstack/tripleo-docs,master,typos,Ic406e3a4423cdd7c46c8a4497d43d63c95b2a9f5,Fix typos,MERGED,2020-08-19 11:50:40.000000000,2020-08-20 13:11:27.000000000,2020-08-20 13:10:03.000000000,65,65,0,746902,6447c381b13f2645e87d4e1760232e56e88d2e9e,8,6,1,41,20733,Rajesh Tailor,rajesht,"Fix typos

This patch tries to fix maximum typos in docs.

Change-Id: Ic406e3a4423cdd7c46c8a4497d43d63c95b2a9f5
"
openstack%2Fkolla-ansible~stable%2Ftrain~Iefcabb1a213fc2c2233ce4e67458f55d177506cb,openstack/kolla-ansible,stable/train,timesync-play-train,Iefcabb1a213fc2c2233ce4e67458f55d177506cb,[DNM] Timesync playground train centos7,ABANDONED,2020-07-02 19:33:13.000000000,2020-08-20 12:56:21.000000000,,93,79,0,739138,45cbe7238152d1e866913ccb1cd405f12b94531f,8,2,2,2,30491,Radosław Piliszek,yoctozepto,"[DNM] Timesync playground train centos7

Change-Id: Iefcabb1a213fc2c2233ce4e67458f55d177506cb
"
openstack%2Fnova~master~I93c35b386e1b1cbcff74fe0a2388f0eda5dea3b9,openstack/nova,master,native-zuulv3-migration,I93c35b386e1b1cbcff74fe0a2388f0eda5dea3b9,zuul: use the new barbican simple-crypto job,MERGED,2020-08-17 18:10:13.000000000,2020-08-20 12:52:21.000000000,2020-08-20 12:48:45.000000000,1,1,0,746583,f881854ea6edb18d0a820ace69001fd128bf915a,71,11,1,1,10459,Luigi Toscano,ltoscano,"zuul: use the new barbican simple-crypto job

The old job name is still available as an alias for a while,
but it is time to switch away from it.

Change-Id: I93c35b386e1b1cbcff74fe0a2388f0eda5dea3b9
"
openstack%2Fcinder~master~Iccc2dfabaaaa5eae3b21702b84e8d657488b0cc7,openstack/cinder,master,bug/1525887,Iccc2dfabaaaa5eae3b21702b84e8d657488b0cc7,Check if already managed before manage snapshot,NEW,2017-12-14 13:26:36.000000000,2020-08-20 12:44:05.000000000,,67,0,10,527957,dd70a295477ebec5320f2efbdbe0aa7384645db9,92,31,6,3,26907,Aseel Awwad,aseelawwad,"Check if already managed before manage snapshot

Check if the snapshot is already managed in manage_existing_snapshot
function at volume/api.py through calling the new implemented function
check_already_managed_snapshot at volume/utils.py. Unit tests are
added for the new implemented function check_already_managed_snapshot.

Change-Id: Iccc2dfabaaaa5eae3b21702b84e8d657488b0cc7
Closes-Bug: #1525887
"
openstack%2Ftempest~master~I8637e7aec33d8ce76a3cf02fad134cf6ea39d9a3,openstack/tempest,master,bug/1765182,I8637e7aec33d8ce76a3cf02fad134cf6ea39d9a3,Add config option to set extend_attached_volume_support,NEW,2018-06-27 16:23:48.000000000,2020-08-20 12:44:01.000000000,,60,2,9,578463,211eaba4be9703e775ff0ec4ddc14ff2096dc7d9,26,12,2,2,18058,Lucio Seki,lseki,"Add config option to set extend_attached_volume_support

There's already a config option extend_attached_volume, and if it is set
to True, a happy path tempest test is executed. This test asserts that
the volume has a greater size after the extending operation.

However, not every volume backend supports this operation. The API call
to extend an attached volume succeeds, but the scheduler fails to
perform the operation, and the volume remains with the original size. In
such case, the tempest test fails.

A config option was added to tell if the backend being tested supports
this feature.
If it does, the same happy path test is executed. If it doesn't, a new
test is executed, which basically does the same thing, but asserts that
the volume remains with the original size.

Change-Id: I8637e7aec33d8ce76a3cf02fad134cf6ea39d9a3
Depends-On: I2c31b5c171574074a8fc7ba86f94f983fc9658f7
Related-Bug: #1765182
"
openstack%2Fcinder~master~I68433649766273418f258b88a2af7a7a5b5fc7ec,openstack/cinder,master,add_FreeCapacityRatioWeigher,I68433649766273418f258b88a2af7a7a5b5fc7ec,Add FreeCapacityRatioWeigher,NEW,2018-10-12 06:44:18.000000000,2020-08-20 12:43:56.000000000,,161,0,1,609925,d39d8d89e0fca4772d62c278ac68683ddfd7b311,38,33,1,3,25837,yenai,yenai2008,"Add FreeCapacityRatioWeigher

FreeCapacityRatioWeigher is a weigher that weigh hosts by their
free capacity ratio. The main purpose of this weigher is to select
the new adding storage when it's set the same volume_backend_name
as previous but the capacity is far less than the previous one.

The ratio is equal free_capacity_gb / total_capacity_gb. When the
capacity contains 'infinite' or 'unknown', the host will be given
the lowest weight.

Change-Id: I68433649766273418f258b88a2af7a7a5b5fc7ec
"
openstack%2Fcinder~master~I9deb6be95fa6acd94533a719545ba471790a4590,openstack/cinder,master,bug/1793460,I9deb6be95fa6acd94533a719545ba471790a4590,Fix TypeError when retrieving pools filtered by volume-type,NEW,2018-09-20 11:47:24.000000000,2020-08-20 12:43:47.000000000,,10,13,18,604067,078fe5872a3bb2bbfa6ba8e069220e5d3877f550,154,42,5,2,27911,hzliaoyuehua,hzliaoyuehua,"Fix TypeError when retrieving pools filtered by volume-type

Now cinder's get-pools API support filtering pools by volume type,
pools will be filtered by get_filtered_backends and the filter
properties of get_filtered_backends only consists of volume-type properties.

When pools are filtered by CapacityFilter and the backend supports thin
provisioning, CapacityFilter will raise TypeError since the requested_size
is None and it's an unsupported operand type(s) for +: 'int' and 'NoneType'.

So the size field should be set on the request (filter_properties) when
filtering pools by volume type.

Closes-Bug: #1793460

Change-Id: I9deb6be95fa6acd94533a719545ba471790a4590
"
openstack%2Fcinder~master~I340a14ba5cf6fd2193156728a58477bca7fda8aa,openstack/cinder,master,exportable-snapshots,I340a14ba5cf6fd2193156728a58477bca7fda8aa,NetApp E-Series: Add support for exporting snapshots,NEW,2018-10-29 13:12:10.000000000,2020-08-20 12:43:32.000000000,,104,14,0,613923,3beef411cc4a02702f6fe5df2bb05522475237db,27,22,1,4,27593,Damian Cikowski (dcdamien),dcdamien,"NetApp E-Series: Add support for exporting snapshots

This change adds support for exporting NetApp E-Series snapshots over iSCSI
and using them for cinder snapshot-based backups.
It eliminates the extra step of cloning the volume using an
intermediary cinder-volume node.

Change-Id: I340a14ba5cf6fd2193156728a58477bca7fda8aa
"
openstack%2Fos-brick~master~Iea985a53fa81c72bcf44e4b46ce5f904186f7ea6,openstack/os-brick,master,cleanup-upstream,Iea985a53fa81c72bcf44e4b46ce5f904186f7ea6,Clean any defunct devices before iSCSI connect,NEW,2019-02-07 08:49:38.000000000,2020-08-20 12:43:29.000000000,,60,0,11,635457,03bedb138c94b23d58eef688e260057ec8c5ba5f,62,22,4,2,4355,Avishay Traeger,avishay-il,"Clean any defunct devices before iSCSI connect

There may be cases where a device already exists on the host from
an old connection that wasn't fully cleaned up, and the new
connection may get the same device. If we continue with the
connection, the newly-attached volume may get writes that were
pending for the previous volume, causing data corruption. This
patch checks if any expected devices already exist, and if so,
cleans them up before proceeding with the connection.

Change-Id: Iea985a53fa81c72bcf44e4b46ce5f904186f7ea6
"
openstack%2Fmanila~master~Id194187f9a089cc371cef1ff08ba3668914c7c74,openstack/manila,master,,Id194187f9a089cc371cef1ff08ba3668914c7c74,Report LVM storage_protocol based on configuration,NEW,2019-05-29 06:42:02.000000000,2020-08-20 12:43:11.000000000,,2,1,1,661896,12f6847d4760d79c0657c0378422cebb5f2014e2,19,10,1,1,26721,Rocky,Rocky,"Report LVM storage_protocol based on configuration

Change-Id: Id194187f9a089cc371cef1ff08ba3668914c7c74
"
openstack%2Fcinder~master~I981b00a83a52aab37fef8986133ec1f29d5e5fbd,openstack/cinder,master,bp/add-az-to-pool,I981b00a83a52aab37fef8986133ec1f29d5e5fbd,Include availability-zone of a pool in get-pools API request,NEW,2018-09-04 23:36:48.000000000,2020-08-20 12:43:05.000000000,,62,14,17,599866,6681a7d2e5fc100e69ba035b07ac6124e77da62a,286,50,10,13,3031,Sam Morrison,sorrison,"Include availability-zone of a pool in get-pools API request

Adds a new microversion to return the availability-zone of
a pool when using the get-pools API request.

This is useful when doing capacity reporting

Implements: bp add-az-to-pool

Change-Id: I981b00a83a52aab37fef8986133ec1f29d5e5fbd
"
openstack%2Fcinder~master~Ic35884d406916306c860840bd6f5dad340bb4aa1,openstack/cinder,master,bug/1749719,Ic35884d406916306c860840bd6f5dad340bb4aa1,Remove Veritas HyperScale specific metadata,NEW,2018-02-15 15:47:51.000000000,2020-08-20 12:42:55.000000000,,154,590,26,545013,cec24b0e13b37fff7dbdbd2a3e711d11efc06c6d,325,47,8,3,27839,atul swami,atulswami,"Remove Veritas HyperScale specific metadata

Cinder volume driver for Veritas HyperScale currently stores product
specific metadata in Cinder database.
This bug is to remove dependency from Cinder database and store
required metadata in product specific database.

Closes-Bug: #1749719

Change-Id: Ic35884d406916306c860840bd6f5dad340bb4aa1
"
openstack%2Ftripleo-validations~master~Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed,openstack/tripleo-validations,master,validate-selinux/work-dif,Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed,Corrected work directory for validate-selinux,MERGED,2020-08-07 07:42:46.000000000,2020-08-20 12:29:53.000000000,2020-08-19 21:07:41.000000000,1,1,0,745299,9645db1f74b2052ca009767b3f85642dd1e6e49f,8,5,1,1,28223,Cedric Jeanneret,cjeanner,"Corrected work directory for validate-selinux

the /var/log/validations directory doesn't exist on the overcloud, since
we don't install the validations there.

Change-Id: Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed
"
openstack%2Fkayobe~master~I849d9b09e973316308e574c447a78868e93a5420,openstack/kayobe,master,,I849d9b09e973316308e574c447a78868e93a5420,Skip broken ansible-lint,MERGED,2020-08-19 11:31:59.000000000,2020-08-20 12:24:26.000000000,2020-08-20 12:21:39.000000000,1,1,0,746896,a33ba678df211c4d3f53c7ee9b066becd0e962b0,22,4,1,1,15197,Pierre Riteau,priteau,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I849d9b09e973316308e574c447a78868e93a5420
"
openstack%2Fironic~master~I1b17982fdab5611086f8bb7d944db6f51bb032a0,openstack/ironic,master,remove-image-filter,I1b17982fdab5611086f8bb7d944db6f51bb032a0,Remove qemu-img rootwrap filter,MERGED,2020-08-18 14:12:59.000000000,2020-08-20 11:30:27.000000000,2020-08-20 11:28:19.000000000,0,6,0,746731,26d08bdda621e8f4d65538c022c4af5e129c75f2,10,6,1,1,23851,Riccardo Pittau,elfosardo,"Remove qemu-img rootwrap filter

It should be managed by ironic-lib.

Change-Id: I1b17982fdab5611086f8bb7d944db6f51bb032a0
"
openstack%2Fansible-collections-openstack~master~Ife7bd55f44bf709319c6598c0f95201a1aac528f,openstack/ansible-collections-openstack,master,bfrst,Ife7bd55f44bf709319c6598c0f95201a1aac528f,Add CI files config to bifrost jobs as well,MERGED,2020-08-17 13:18:46.000000000,2020-08-20 11:12:57.000000000,2020-08-20 11:12:57.000000000,4,0,0,746503,a67272d1f5ae77b9df45a933dc6adf1d77931ee0,15,4,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add CI files config to bifrost jobs as well

Change-Id: Ife7bd55f44bf709319c6598c0f95201a1aac528f
"
openstack%2Freleases~master~I0f674818983587e7a52766fb13df13f8c37dc65f,openstack/releases,master,ironic_train,I0f674818983587e7a52766fb13df13f8c37dc65f,Release Ironic 13.0.6 for Train,MERGED,2020-08-19 13:46:37.000000000,2020-08-20 11:06:30.000000000,2020-08-20 11:06:30.000000000,4,0,0,746925,116b9d5fa3a588d59e6850723823b162a7c244c2,13,5,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Release Ironic 13.0.6 for Train

Change-Id: I0f674818983587e7a52766fb13df13f8c37dc65f
"
openstack%2Fkuryr-kubernetes~master~I9fe88bb78fea4930c241ecf1117eafecaf279c94,openstack/kuryr-kubernetes,master,remove-svc-finalizer-on-crd-gone,I9fe88bb78fea4930c241ecf1117eafecaf279c94,Ensure Service is delete if lb CRD is already gone,MERGED,2020-08-12 20:50:01.000000000,2020-08-20 10:46:58.000000000,2020-08-20 10:45:40.000000000,4,1,0,745963,9cf61488c50f4db40d539a822e7584d2ac3533c2,22,4,1,1,27032,Maysa de Macedo Souza,maysa,"Ensure Service is delete if lb CRD is already gone

As the Finalizer is first removed from the lb CRD and
then from the Service, we should add protection for when
the CRD is gone but the Service is still present with
the Finalizer set.

Change-Id: I9fe88bb78fea4930c241ecf1117eafecaf279c94
"
openstack%2Fsushy~master~Ic64536c0ce51820461d82f1d0d498e2754a58ed7,openstack/sushy,master,gate,Ic64536c0ce51820461d82f1d0d498e2754a58ed7,Add a CI job with UEFI+vmedia and clean up the job definitions,MERGED,2020-08-19 15:35:31.000000000,2020-08-20 10:34:05.000000000,2020-08-20 10:30:54.000000000,15,12,0,746962,0e27eba2f55b027a5ec1a648753926d1e874eb85,9,4,1,2,10239,Dmitry Tantsur,dtantsur,"Add a CI job with UEFI+vmedia and clean up the job definitions

Reuse parent jobs from ironic and rename the jobs accordingly.

Change-Id: Ic64536c0ce51820461d82f1d0d498e2754a58ed7
"
openstack%2Fcharm-ceilometer~master~I48e2f079e2db640d485bc74bfc2cedfd7e82ac84,openstack/charm-ceilometer,master,bug/1867924,I48e2f079e2db640d485bc74bfc2cedfd7e82ac84,Fix restart when endpoint notification is received,MERGED,2020-08-20 09:17:35.000000000,2020-08-20 10:25:58.000000000,2020-08-20 10:25:58.000000000,15,6,0,747128,e3982a2d98a98c164890734d1dada1b1aa44ba9e,10,3,2,3,12549,gnuoy,gnuoy,"Fix restart when endpoint notification is received

Restarts were configured only when the ceilometer agent endpoint
had changed and only alarm services were triggered to be restarted.
This change adds a check for the gnocchi service having changed
too and restarts all services to be on the safe side.

Closes-Bug: #1867924
Change-Id: I48e2f079e2db640d485bc74bfc2cedfd7e82ac84
"
openstack%2Fcharm-ceph-mon~master~I7d29aec3ba9924d5677be25137907b1465401f9c,openstack/charm-ceph-mon,master,ec-func-test,I7d29aec3ba9924d5677be25137907b1465401f9c,Add erasure-coded pool bundle,MERGED,2020-08-19 07:14:53.000000000,2020-08-20 10:06:43.000000000,2020-08-20 10:06:43.000000000,305,9,0,746846,e3f9894aeadac301e01e28d840ad0cb5ebdaa09a,14,4,3,16,12549,gnuoy,gnuoy,"Add erasure-coded pool bundle

This change adds a bundle that configures erasure coded pools
for glance, cinder-ceph and nova. To verify that the pools are
using EC it also adds a test which verifies the pool type.

To verify that the nova pool is configured correctly in all
scenarious all the bundles have been updated to set
libvirt-image-backend to rbd which triggers the nova pool
creation.

During testing the Prometheus tests were failing which is
down to a known bug *1 in the prometheus charm. The
bundles have been updated to pin the prometheus2 charm
to an earlier version to get round the bug.

*1 https://bugs.launchpad.net/charm-prometheus2/+bug/1891942


Change-Id: I7d29aec3ba9924d5677be25137907b1465401f9c
"
openstack%2Fcharm-cinder~master~I031a6bf2a066bb9d3157e545bb9df782a76551f3,openstack/charm-cinder,master,bug/1879578,I031a6bf2a066bb9d3157e545bb9df782a76551f3,Allow specifying default_volume_type,MERGED,2020-06-22 15:17:30.000000000,2020-08-20 10:02:04.000000000,2020-08-20 10:02:04.000000000,38,4,0,737288,12193d2bc20c354923cea27e12ace89d4fde9aaf,12,3,2,4,8108,Nobuto Murata,nobuto-m,"Allow specifying default_volume_type

It's useful when multiple storage backends to be connected to Cinder.
The corresponding volume type must be created after a deployment via API
to take effect, e.g., `openstack volume type create VOLUME_TYPE
--property volume_backend_name=BACKEND_NAME`

Please note that there is a regression in upstream as LP: #1879578, so
it doesn't work for Train or later releases until the issue gets fixed.

The other way to have the similar effect is to edit the definition of
__DEFAULT__ volume type via API (available for Train or later releases).
Howevers it's not as flexible as the option in cinder.conf since it
doesn't allow any modification unless all of the volumes with the
__DEFAULT__ type get deleted.

Change-Id: I031a6bf2a066bb9d3157e545bb9df782a76551f3
Closes-Bug: #1884548
"
openstack%2Freleases~master~Iee123c6512b4f269af7943df1400a431c0bbdd93,openstack/releases,master,ironic_ussuri,Iee123c6512b4f269af7943df1400a431c0bbdd93,Release ironic 15.0.1 for Ussuri,MERGED,2020-08-19 13:46:52.000000000,2020-08-20 09:48:17.000000000,2020-08-20 09:48:17.000000000,4,0,0,746926,03651f42dbd1c941bde80c3ac209cbd450fed273,12,5,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Release ironic 15.0.1 for Ussuri

Change-Id: Iee123c6512b4f269af7943df1400a431c0bbdd93
"
openstack%2Fnova~master~Ieaad388d31fdabf0854bf7e2ed9fddf11f86bf8c,openstack/nova,master,bp/policy-defaults-refresh-deprecated-apis,Ieaad388d31fdabf0854bf7e2ed9fddf11f86bf8c,Add new default roles in baremetal nodes policies,MERGED,2020-07-17 21:06:18.000000000,2020-08-20 09:41:32.000000000,2020-08-20 09:38:31.000000000,69,28,3,741716,de2226b4b3a2490e8a3eb1a2dc78f00d5c7e31c8,68,14,4,5,8556,Ghanshyam,ghanshyam,"Add new default roles in baremetal nodes policies

This adds new defaults roles in baremetal nodes API policies.
These policies are default to SYSTEM_READER and made more
granular to adopt the new defaults.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Ieaad388d31fdabf0854bf7e2ed9fddf11f86bf8c
"
openstack%2Foctavia~master~I9a346b626f852171ec00d2868ccb6f98b1fb8994,openstack/octavia,master,git-ref,I9a346b626f852171ec00d2868ccb6f98b1fb8994,Switch back to using git for the agent ref,MERGED,2020-08-18 18:11:53.000000000,2020-08-20 09:38:00.000000000,2020-08-20 09:35:12.000000000,3,1,1,746782,7d6322ae08eba23d7fc02f4141d27d51f9433a7c,12,5,2,2,11628,Michael Johnson,johnsom,"Switch back to using git for the agent ref

A diskimage-builder patch [1] broke our amphora-agent element by
uninstalling git prior to the post-install.d phase.
A followup patch in Octavia [2] changed how we get the git
reference to awking an git internal log file. This seems fragile
to me, so I am proposing this alternative.
This patch updates our element to finish using git before the
install.d phase is complete.

[1] https://review.opendev.org/745678
[2] https://review.opendev.org/745683

Change-Id: I9a346b626f852171ec00d2868ccb6f98b1fb8994
"
openstack%2Foctavia~stable%2Fussuri~I9a346b626f852171ec00d2868ccb6f98b1fb8994,openstack/octavia,stable/ussuri,,I9a346b626f852171ec00d2868ccb6f98b1fb8994,Switch back to using git for the agent ref,MERGED,2020-08-19 08:00:11.000000000,2020-08-20 09:37:44.000000000,2020-08-20 09:35:11.000000000,3,1,0,746850,f923ef093424cb05e446c490e86f648f51a52e4f,8,3,1,2,6469,Carlos Gonçalves,cgoncalves,"Switch back to using git for the agent ref

A diskimage-builder patch [1] broke our amphora-agent element by
uninstalling git prior to the post-install.d phase.
A followup patch in Octavia [2] changed how we get the git
reference to awking an git internal log file. This seems fragile
to me, so I am proposing this alternative.
This patch updates our element to finish using git before the
install.d phase is complete.

[1] https://review.opendev.org/745678
[2] https://review.opendev.org/745683

Change-Id: I9a346b626f852171ec00d2868ccb6f98b1fb8994
(cherry picked from commit 7d6322ae08eba23d7fc02f4141d27d51f9433a7c)
"
openstack%2Fopenstack-zuul-jobs~master~I9f3da2d2c00c7f335ff9dce483c0dede91604749,openstack/openstack-zuul-jobs,master,test,I9f3da2d2c00c7f335ff9dce483c0dede91604749,[DNM]: Testing Nodejs Job,ABANDONED,2020-08-17 09:03:29.000000000,2020-08-20 09:22:07.000000000,,1,0,0,746462,4ef637c3b90625a6f4cf42a9f4fe36b649f9a4f1,5,1,2,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM]: Testing Nodejs Job

Change-Id: I9f3da2d2c00c7f335ff9dce483c0dede91604749
"
openstack%2Fblazar-dashboard~master~I5d293b58691eb3dd8dc43926be09f0de9883ae76,openstack/blazar-dashboard,master,,I5d293b58691eb3dd8dc43926be09f0de9883ae76,[DNM] Test blazar-dashboard with horizon jobs on focal,ABANDONED,2020-08-19 16:27:35.000000000,2020-08-20 09:21:47.000000000,,1,0,0,746987,faea1c90785848bd13721f21579cbdbbbbbe39f3,7,2,2,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test blazar-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I5d293b58691eb3dd8dc43926be09f0de9883ae76
"
openstack%2Fcloudkitty-dashboard~master~Icb40308409b39b1ddffad43b1833e58ca0ade229,openstack/cloudkitty-dashboard,master,,Icb40308409b39b1ddffad43b1833e58ca0ade229,[DNM] Test horizon jobs on focal,ABANDONED,2020-08-19 16:35:58.000000000,2020-08-20 09:21:36.000000000,,1,0,0,746989,3cb2b4a55f2abc4206b9ef87a5a8df7e3b145d48,4,1,1,1,29313,Vishal Manchanda,vishalmanchanda,"[DNM] Test horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: Icb40308409b39b1ddffad43b1833e58ca0ade229
"
openstack%2Freleases~master~I36ad5513dc8dc5fa5dcc3003d7b32b46e88cb6ac,openstack/releases,master,victoria-cwi,I36ad5513dc8dc5fa5dcc3003d7b32b46e88cb6ac,Switch magnum-ui to cycle-with-rc,MERGED,2020-08-13 16:33:47.000000000,2020-08-20 08:25:24.000000000,2020-08-20 08:25:24.000000000,1,1,0,746192,034e4c6cacad9802621432a9b971b8f5da47a139,10,5,1,1,11904,Sean McGinnis,SeanM,"Switch magnum-ui to cycle-with-rc

Deliverables following the cycle-with-intermediary model are expected
to release multiple times throughout the development cycle. Since
magnum-ui only released once last cycle, and has not done a
release yet this cycle, this proposes changing the release model to
cycle-with-rc so the expectation is only that it will release an RC by
the end of the cycle prior to doing the final release.

This is just a suggestion for the team to consider. The important point
is past the milestone-2 point, downstream planning starts happening
for what will be included in the release. We just want to try to avoid
the situation where downstream expects something to be included, but we
need to unexpectedly drop it from the coordinated release late in the
cycle.

For the team, please respond to this patch in one of the following ways:

* -1 this patch and follow up with an intermediary release
* +1 this patch and we will switch over the release model
* -1 this patch, but acknowledge a release will be done prior to the
  RC1 deadline.

Change-Id: I36ad5513dc8dc5fa5dcc3003d7b32b46e88cb6ac
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fnova~master~I7f93cfd18f948134c9cb429dea55740d2cf97994,openstack/nova,master,bug/1489304,I7f93cfd18f948134c9cb429dea55740d2cf97994,Add checks for volume status when rebuilding,MERGED,2020-06-10 02:40:36.000000000,2020-08-20 08:25:07.000000000,2020-08-20 08:21:15.000000000,98,4,9,734734,10e9a9b9fc62a3cf72c3717e3621ed95d3cf5519,208,19,18,4,31960,sunhao,sunhao,"Add checks for volume status when rebuilding

When rebuilding, we should only allow detaching
the volume with 'in-use' status, volume in status
such as 'retyping' should not allowed.

Change-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994
Closes-Bug: #1489304
"
openstack%2Fopenstack-planet~master~I786a49724c2c97fde7a3e2e8ee74a0378d6f96d2,openstack/openstack-planet,master,,I786a49724c2c97fde7a3e2e8ee74a0378d6f96d2,Add damani to Planet OpenStack.,MERGED,2020-08-18 13:11:51.000000000,2020-08-20 08:04:53.000000000,2020-08-20 08:04:53.000000000,5,0,0,746712,2bee2113ebacff8b83d37b497fb4edbcc5e5bd51,7,2,2,2,31245,Daniel Bengtsson,damani42,"Add damani to Planet OpenStack.

Add my blog.

Change-Id: I786a49724c2c97fde7a3e2e8ee74a0378d6f96d2
"
openstack%2Fnetworking-bagpipe~stable%2Fussuri~I0cc70af50dbbad972baece017c7b31e0ae696579,openstack/networking-bagpipe,stable/ussuri,pep8-error,I0cc70af50dbbad972baece017c7b31e0ae696579,Fix pep8 job,MERGED,2020-07-27 14:40:56.000000000,2020-08-20 07:51:44.000000000,2020-08-20 00:14:44.000000000,2,0,0,743245,b14e767b1db4ccd9a61d06fe74ce6cbd501fc3d6,11,4,1,2,8313,Lajos Katona,elajkat,"Fix pep8 job

New versions of isort broke pylint. This patch fixes it at 4.3.21.
Conflicts: test-requirements.txt

Change-Id: I0cc70af50dbbad972baece017c7b31e0ae696579
(cherry picked from commit 30b058ec04f4ccbbbca41c36b72f877634873352)
"
openstack%2Fkolla-ansible~stable%2Fussuri~I5ac8f20a2157d880b63a4c70bf6c782d06014f41,openstack/kolla-ansible,stable/ussuri,skip-broken-ansible-lint-stable/ussuri,I5ac8f20a2157d880b63a4c70bf6c782d06014f41,Skip broken ansible-lint,MERGED,2020-08-19 08:02:34.000000000,2020-08-20 07:49:26.000000000,2020-08-20 07:47:44.000000000,1,1,0,746852,e74782af46eeff564a2c62a93dbbd0c86bd6f61f,19,2,1,1,30491,Radosław Piliszek,yoctozepto,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I5ac8f20a2157d880b63a4c70bf6c782d06014f41
(cherry picked from commit a90aa3e4435a6124284260094b3e875c7bc9c96d)
"
openstack%2Fdiskimage-builder~master~I56ed875632a66be4b5bf7efeed83491b34d4bf73,openstack/diskimage-builder,master,,I56ed875632a66be4b5bf7efeed83491b34d4bf73,Add handling for no activate_this.py in venv,ABANDONED,2020-01-28 00:48:19.000000000,2020-08-20 07:34:08.000000000,,14,3,15,704478,64f10a926553923dfcc109fc342095cbf9892999,31,8,3,1,11655,Julia Kreger,jkreger,"Add handling for no activate_this.py in venv

The python3 included venv module does not place an
activate_this.py file. Since this file seems to just
effectively inject the path in newer python versions,
there is no reason we can't determine the path and
inject the path as-is.

Change-Id: I56ed875632a66be4b5bf7efeed83491b34d4bf73
"
openstack%2Ffreezer-api~master~Iacc4c218c29d44dabbf2bc933291790e7c9b7480,openstack/freezer-api,master,native-zuulv3-migration,Iacc4c218c29d44dabbf2bc933291790e7c9b7480,zuul: use the freezer-tempest-plugins jobs and cleanup,MERGED,2020-08-10 12:46:28.000000000,2020-08-20 07:28:47.000000000,2020-08-20 07:24:19.000000000,4,115,0,745524,db0c4dd3c717d2e2bf67ef7e50fa1e2fa7bef6d4,10,2,2,1,10459,Luigi Toscano,ltoscano,"zuul: use the freezer-tempest-plugins jobs and cleanup

- use the jobs already defined inside freezer-tempest-plugins
  instead of redefining them locally, as they are the same;
- remove the other legacy jobs, as they are not used and
  the jobs from freezer-tempest-plugins could be directly used
  or adapted if needed.

Change-Id: Iacc4c218c29d44dabbf2bc933291790e7c9b7480
"
openstack%2Fopenstack-ansible-os_ironic~master~I9a6e7273f752b6bdc1639be299e00933889b6cc9,openstack/openstack-ansible-os_ironic,master,,I9a6e7273f752b6bdc1639be299e00933889b6cc9,Add ironic-inspector to constraints,MERGED,2020-08-19 14:12:26.000000000,2020-08-20 07:23:53.000000000,2020-08-20 07:18:01.000000000,3,1,0,746933,bea6f664bd5f60b5c9a0aaf88a6e57c0b04cae85,12,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add ironic-inspector to constraints

We missed adding ironic-inspector to constraints which resulted
in installing always the latest avaialbe version in the pypi.

Depends-On: https://review.opendev.org/746931
Change-Id: I9a6e7273f752b6bdc1639be299e00933889b6cc9
"
openstack%2Fec2api-tempest-plugin~master~I3e7aa1a18509f3a177d0d5f8f6e537e55f01d81c,openstack/ec2api-tempest-plugin,master,,I3e7aa1a18509f3a177d0d5f8f6e537e55f01d81c,Add simple s3 test for create/delete bucket,MERGED,2020-08-14 04:57:21.000000000,2020-08-20 07:23:18.000000000,2020-08-17 05:54:48.000000000,44,0,2,746270,8cfb9bdc2ee93b2ea59a54a7482afe8dce4ec566,14,2,2,1,3031,Sam Morrison,sorrison,"Add simple s3 test for create/delete bucket

Change-Id: I3e7aa1a18509f3a177d0d5f8f6e537e55f01d81c
"
openstack%2Frpm-packaging~master~Ib601be6c3bdfe062aadf49b68b007a8ecbb3d4c6,openstack/rpm-packaging,master,,Ib601be6c3bdfe062aadf49b68b007a8ecbb3d4c6,August 11th updates,MERGED,2020-08-13 12:04:41.000000000,2020-08-20 07:18:04.000000000,2020-08-20 07:18:04.000000000,7,7,1,746113,2d0d2d712a7d88e22fb7c36d9fc41b78f54dd047,21,7,2,7,6593,Dirk Mueller,dmllr,"August 11th updates

Change-Id: Ib601be6c3bdfe062aadf49b68b007a8ecbb3d4c6
"
openstack%2Ftripleo-ci~master~I211c3885caa2605205a92cc45314acac2a0e65ac,openstack/tripleo-ci,master,,I211c3885caa2605205a92cc45314acac2a0e65ac,add ansible config to container build logs,MERGED,2020-08-19 18:55:56.000000000,2020-08-20 07:09:28.000000000,2020-08-20 07:09:28.000000000,2,0,0,747022,29fd5e83a9fd66f522303595e4d386f21fb08558,8,4,1,1,9592,wes hayutin,weshayutin,"add ansible config to container build logs

Change-Id: I211c3885caa2605205a92cc45314acac2a0e65ac
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I6b1b8bd1e7800720f6bbbe418c1f83b2f710fb48,openstack/python-tripleoclient,stable/train,plan,I6b1b8bd1e7800720f6bbbe418c1f83b2f710fb48,Use user set password values in overcloud export,MERGED,2020-08-13 15:29:49.000000000,2020-08-20 05:54:48.000000000,2020-08-20 05:52:57.000000000,52,20,0,746160,c15d0d0ba0b3de7e78a9d9a4b1c88b8f497b97df,23,5,3,3,3153,Emilien Macchi,emilienm,"Use user set password values in overcloud export

The overcloud export command needs to look at both the
parameter_defaults and passwords keys from plan-environment.yaml.
passwords contains only the generated password values, while
parameter_defaults contains any user set values. If a value is not set
in parameter_defaults, then passwords can be used.

Change-Id: I6b1b8bd1e7800720f6bbbe418c1f83b2f710fb48
Closes-Bug: #1891388
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit ced221406b70c348453c82247c9274fb11c77dd3)
"
openstack%2Fopenstack-ansible~master~I8cbcc4f878415d19506c3faadd554fbd2e9a81a4,openstack/openstack-ansible,master,746931,I8cbcc4f878415d19506c3faadd554fbd2e9a81a4,Add ironic-inspector to the openstack_services,MERGED,2020-08-19 14:01:13.000000000,2020-08-20 05:37:53.000000000,2020-08-20 00:16:11.000000000,8,0,0,746931,4f1d3610159fc4eec5559900527e4e078848cf6f,12,3,3,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add ironic-inspector to the openstack_services

We clean forgot about adding ironic-inspector to the services, so
it's time we fix that.

Change-Id: I8cbcc4f878415d19506c3faadd554fbd2e9a81a4
"
openstack%2Fopenstack-ansible~master~Ibfab5ce56b36b7b96f8e376aa7f228ad6643cabf,openstack/openstack-ansible,master,osa/placement,Ibfab5ce56b36b7b96f8e376aa7f228ad6643cabf,Remove nova_api_placement from inventory,MERGED,2020-08-17 15:03:27.000000000,2020-08-20 05:37:04.000000000,2020-08-20 02:22:23.000000000,9,23,0,746538,6d8337b327e8be582cef6270b21846b34fe21f0a,25,4,2,6,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove nova_api_placement from inventory

Since placement is standalone since train, it time we removed
nova_api_placement group from inventory and playbooks

Change-Id: Ibfab5ce56b36b7b96f8e376aa7f228ad6643cabf
"
openstack%2Fnova~master~I75a30bf9d7d7e7e33876539639d70c0cb3c1c37f,openstack/nova,master,trivial,I75a30bf9d7d7e7e33876539639d70c0cb3c1c37f,libvirt: Remove MIN_LIBVIRT_ETHERNET_SCRIPT_PATH_NONE,MERGED,2020-05-26 15:49:28.000000000,2020-08-20 05:02:28.000000000,2020-08-20 04:59:08.000000000,8,32,0,730865,d84446bdd8019e32a452f340f037a93388f2433b,43,16,2,3,15334,Stephen Finucane,sfinucan,"libvirt: Remove MIN_LIBVIRT_ETHERNET_SCRIPT_PATH_NONE

Our MIN_LIBVIRT_VERSION is now greater than this.

Change-Id: I75a30bf9d7d7e7e33876539639d70c0cb3c1c37f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fneutron~stable%2Fussuri~I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,openstack/neutron,stable/ussuri,bug/1878299,I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,port_forwarding: validate args before invoking db update,MERGED,2020-07-31 14:01:22.000000000,2020-08-20 05:02:10.000000000,2020-08-20 04:59:18.000000000,129,1,0,744177,c678d89dabc0b39a266c7c0c7b99bd156b6fa5c9,26,7,3,2,11952,Flavio Fernandes,ffernand,"port_forwarding: validate args before invoking db update

Add validator to update_floatingip_port_forwarding so codepath does not
attempt performing invalid database operation. With that, operation fails
right away, with a hint on the offending argument(s).

This is a backport that combines changes from 2 changes that go together:
https://review.opendev.org/#/c/738145/
https://review.opendev.org/#/c/744993/

Change-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04
Closes-Bug: #1878299
(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)
(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)
"
openstack%2Fnova~master~I02f39d0f97e4cd3e30d477b46215fe1fa5f17f6f,openstack/nova,master,trivial,I02f39d0f97e4cd3e30d477b46215fe1fa5f17f6f,trivial: Remove unused attributes,MERGED,2020-07-27 17:04:32.000000000,2020-08-20 05:01:13.000000000,2020-08-20 04:58:48.000000000,13,21,2,743284,27336fb465a8cdab8e7ac82b30cce142080ae56f,36,15,2,2,15334,Stephen Finucane,sfinucan,"trivial: Remove unused attributes

These seem to be hangover from the very first days of the libvirt
driver.

Change-Id: I02f39d0f97e4cd3e30d477b46215fe1fa5f17f6f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fneutron~stable%2Fussuri~I3f62b91a21ac7e708fb04154194f45a6ff1b6a76,openstack/neutron,stable/ussuri,bug/1887781-stable/ussuri,I3f62b91a21ac7e708fb04154194f45a6ff1b6a76,ovn-migration-mtu: Support migrating MTU of GRE networks,MERGED,2020-08-18 13:34:55.000000000,2020-08-20 05:01:06.000000000,2020-08-20 04:58:41.000000000,15,5,0,746721,3549e52467a6b7bb2160f44f7c6ed976e94232b1,16,6,1,1,11805,Corey Bryant,coreycb,"ovn-migration-mtu: Support migrating MTU of GRE networks

Add support for adjusting MTU on GRE networks the same way the
tool already supports adjusting MTU on VXLAN networks.

Change-Id: I3f62b91a21ac7e708fb04154194f45a6ff1b6a76
Closes-Bug: #1887781
(cherry picked from commit a418d55bc282990847626a2dcb09a8c97604582a)
"
openstack%2Fneutron~stable%2Ftrain~Id988cab87d32d5721cd91152df194fbb6fa703c5,openstack/neutron,stable/train,bug/1887385,Id988cab87d32d5721cd91152df194fbb6fa703c5,String to byte conversion should provide the encoding type,MERGED,2020-07-31 16:28:18.000000000,2020-08-20 05:01:03.000000000,2020-08-20 04:59:26.000000000,2,1,4,744218,0090884e15068a69f229044e37847ae13432c970,47,6,3,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"String to byte conversion should provide the encoding type

Note:
In Train we still need to support Python 2.7 so this commit
adds import of six and six is used to make correct convertion
to bytes in both Python 2.7 and Python 3.

Change-Id: Id988cab87d32d5721cd91152df194fbb6fa703c5
Closes-Bug: #1887385
(cherry picked from commit 7a56b8f3bc5187846ce9f62dd9347ab5ffefcb5c)
(cherry picked from commit 18f019984a71a0e09530c2e6ec29c010968de90e)
"
openstack%2Fswift~master~If41e3d542b30747da7ca289708e9d24873c46e2e,openstack/swift,master,735220,If41e3d542b30747da7ca289708e9d24873c46e2e,proxy-logging: Be able to configure log_route,MERGED,2020-06-11 19:39:01.000000000,2020-08-20 05:00:59.000000000,2020-08-20 04:59:23.000000000,7,2,2,735220,2ffe598f4855665e7b8d386b3a592a560228a6b5,15,3,3,2,15343,Tim Burke,tburke,"proxy-logging: Be able to configure log_route

This lets you have separate loggers for the left and right proxy-logging
middlewares, so you can have a config like

    [pipeline:main]
    pipeline = ... proxy-logging-client ... proxy-logging-subrequest proxy-server

    [proxy-logging-client]
    use = egg:swift#proxy_logging
    access_log_statsd_metric_prefix = client-facing

    [proxy-logging-subrequest]
    use = egg:swift#proxy_logging
    access_log_route = subrequest
    access_log_statsd_metric_prefix = subrequest

to isolate subrequest metrics from client-facing metrics.

Change-Id: If41e3d542b30747da7ca289708e9d24873c46e2e
"
openstack%2Ftempest~master~I9459db0dbeda721187ea5f4802c7453c2092dac3,openstack/tempest,master,bug/1890060,I9459db0dbeda721187ea5f4802c7453c2092dac3,Improve unit tests for subunit_describe_calls,MERGED,2020-07-18 16:16:30.000000000,2020-08-20 05:00:57.000000000,2020-08-20 04:59:15.000000000,522,207,16,741810,6aa733e0f348bc9c3362d0a5c5b881cc77472968,83,16,20,5,17887,Doug Schveninger,Doug.Schveninger,"Improve unit tests for subunit_describe_calls

in order to enhance the cmd to support kubernetes url based
routing over port based routing.  Once this is merged I will
submit another patch set to subunit_describe_calls to support
-u --urls (Optional) The path to a JSON file describing the urls
  being used by different services. Note Can not be used with -p.

Added test cases for cliff subprocess and found a bug with the
-v. The standard -v --verbose of cliff conflict with this command
 so I changed the -v --verbose to -a --all for print header
with printing to stdout I am also getting ready to add test cases
for cliff subprocess support for different options. Bug #1890060

Correct os join in test cases to avoid a conflict with
https://review.opendev.org/#/c/683026

Closes-bug: #1890060
Change-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3
"
openstack%2Fnova~master~I795f96ab02c6aa0ebbbe211af37707d91dcc9e93,openstack/nova,master,trivial,I795f96ab02c6aa0ebbbe211af37707d91dcc9e93,Remove warning filters for legacy Python version,MERGED,2020-07-27 17:04:32.000000000,2020-08-20 04:58:59.000000000,2020-08-20 04:58:59.000000000,2,8,0,743285,77d3f5bacf1cf203c931756b92f241e0a76d1287,21,10,2,1,15334,Stephen Finucane,sfinucan,"Remove warning filters for legacy Python version

The nested context warning was raised from contextlib.nested, which is a
Python 2.7-only construct, while the 'pkg_resources' issues are not
present in Python 3.6 and later.

Change-Id: I795f96ab02c6aa0ebbbe211af37707d91dcc9e93
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpuppet-heat~stable%2Fussuri~If689eb5e896dba443358ac83cd7f566aacc276f1,openstack/puppet-heat,stable/ussuri,,If689eb5e896dba443358ac83cd7f566aacc276f1,Expose vhost_custom_fragment,MERGED,2020-08-19 16:10:08.000000000,2020-08-20 04:08:28.000000000,2020-08-20 04:08:28.000000000,10,3,0,746975,8b91724b4004d8e975ee0acbcdedf957ceb0421b,7,3,1,2,25877,Luke Short,ekultails,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Heat CFN service.

Change-Id: If689eb5e896dba443358ac83cd7f566aacc276f1
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 0e85f1c7b0d7c8819aedeb83da10eea4633d2e25)
"
openstack%2Fopenstack-helm-infra~master~I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb,openstack/openstack-helm-infra,master,test_cinder,I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb,[DNM] Test Cinder Depends on : https://review.opendev.org/#/c/745468/,ABANDONED,2020-05-01 02:47:05.000000000,2020-08-20 02:59:25.000000000,,0,6,0,724790,62daa1b108e5f646f0c07da82d4bf120262af0da,34,2,9,1,29131,diwakar thyagaraj,dt241s@att.com,"[DNM] Test Cinder
Depends on : https://review.opendev.org/#/c/745468/

Change-Id: I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
"
openstack%2Fpython-tripleoclient~master~I70bbc40f8e5eb709d9f0f608e936a818e082918b,openstack/python-tripleoclient,master,state/undercloud,I70bbc40f8e5eb709d9f0f608e936a818e082918b,overcloud_deploy: move horizon url/rc files before config-download,MERGED,2020-07-28 14:36:41.000000000,2020-08-20 02:26:33.000000000,2020-08-20 02:22:16.000000000,17,17,0,743556,9dec1b2e334e110b03f951c9fd3480f6c3dc8e11,40,5,5,1,3153,Emilien Macchi,emilienm,"overcloud_deploy: move horizon url/rc files before config-download

When a deployment fails, we run the playbooks to generate horizon URL &
RC files anyway. However it is confusing to have them at the end, after
the actual trace and an operator with a small screen won't see the
actual errors easily.

Let's just move these actions before the config download execution,
which has no impact anyway; but will improve logging a lot.

Change-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b
Related-Bug: #1889212
"
openstack%2Ftripleo-validations~stable%2Ftrain~I07fd17501ea66d229549fcf4031ae4126b055906,openstack/tripleo-validations,stable/train,,I07fd17501ea66d229549fcf4031ae4126b055906,"Updated ""overcloud"" to ""allovercloud"" group",MERGED,2020-08-12 06:04:11.000000000,2020-08-20 02:23:50.000000000,2020-08-20 02:22:12.000000000,18,18,0,745788,015dab217e946355f7a249f174c67a85a6b679d8,13,6,1,14,28223,Cedric Jeanneret,cjeanner,"Updated ""overcloud"" to ""allovercloud"" group

Apparently this is the new term to access all the overcloud nodes.

Closes-Bug: #1891267
Change-Id: I07fd17501ea66d229549fcf4031ae4126b055906
(cherry picked from commit 1a4991daf38d61e453ae4d948e7e639f52986943)
"
openstack%2Ftripleo-common~stable%2Fussuri~If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,openstack/tripleo-common,stable/ussuri,ussuri/uidgid,If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,(backward compatibility) create kolla UIDs/GIDs for TCIB,MERGED,2020-08-17 15:00:34.000000000,2020-08-20 02:23:35.000000000,2020-08-20 02:22:15.000000000,158,30,0,746533,70b1ca4b1cee3813ee49cd71d8e16b9337ad11fd,33,7,1,30,3153,Emilien Macchi,emilienm,"(backward compatibility) create kolla UIDs/GIDs for TCIB

When upgrading container images from Kolla-based to TCIB-based, the
config files can't be read if we don't apply the new chown values unless
we re-use the same UIDs/GIDs as we had with Kolla; which is what we'll
do for now until we figure out an easy way to update config permissions
during the upgrade/update stage.

This introduces a new script, that will be injected in the base layer:

uid_gid_manage.sh

Usage:

./uid_gid_manage.sh qemu nova

It'll first create the qemu user/group, then nova user/group.
The format aims to be simple:

<username> <uid> <gid> <optional homedir> <optional list of extra groups>

It's also removing instances of usermod which aren't needed anymore;
since we create the user / groups only in the images where they are
needed; which wasn't the case for Kolla where all users/groups were
created in the base image.

Note: we create the user/group before installing packaging so if
packaging creates directories and sets permissions, it'll be with the
right UID/GID (unless packaging overrides UID/GID but rarely do it).

Related-Bug: #1890798

Change-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6
(cherry picked from commit fb0ec2ffd0a99d441c361bb83472e48ead18d013)
"
openstack%2Ftripleo-ci~master~I864ed5605b82a0c857bc71bb743320bb5216b391,openstack/tripleo-ci,master,tripleo,I864ed5605b82a0c857bc71bb743320bb5216b391,collect-logs: add ~/.tripleo dir collection,MERGED,2020-08-17 19:47:50.000000000,2020-08-20 02:22:13.000000000,2020-08-20 02:22:13.000000000,1,0,0,746592,04d2dfa539db681946aaa5a52d7197cd57f6cdaf,30,7,3,1,3153,Emilien Macchi,emilienm,"collect-logs: add ~/.tripleo dir collection

This directory will have more files in there when we switch the tripleo
deploy command (standalone) to work without root. In advance we want to
start collecting the directory for further potential debug in TripleO
CI.

Change-Id: I864ed5605b82a0c857bc71bb743320bb5216b391
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I02d577939b0002b0e605ac0cbbda54e05e0b206f,openstack/tripleo-heat-templates,stable/train,,I02d577939b0002b0e605ac0cbbda54e05e0b206f,Add new Luna HSM parameter for Barbican,MERGED,2020-07-16 19:48:11.000000000,2020-08-20 02:22:11.000000000,2020-08-20 02:22:10.000000000,43,13,0,741534,3dd00efb879b5e4a6dc72b97699cf44c5bb85928,16,7,3,2,7973,Douglas Mendizábal,dougmendizabal,"Add new Luna HSM parameter for Barbican

This patch adds a new parameter for deploying Barbican with
a Thales Luna Network HSM (LunasaClientIPNetwork).

LunasaClientIPNetwork can be used to register controller nodes
with the HSM using the controller's IP address on the given
network instead of its fqdn.

Co-Authored-By: Ade Lee <alee@redhat.com>
Depends-On: If0eb393ca970206cc95c7453641f33781eb698b2
Change-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f
(cherry picked from commit ead85251e95ce69ef64237905ace970fe406a06a)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I02d577939b0002b0e605ac0cbbda54e05e0b206f,openstack/tripleo-heat-templates,stable/ussuri,add_barbican_lunasa-stable/ussuri,I02d577939b0002b0e605ac0cbbda54e05e0b206f,Add new Luna HSM parameter for Barbican,MERGED,2020-07-16 19:36:39.000000000,2020-08-20 02:22:09.000000000,2020-08-20 02:22:09.000000000,43,13,0,741530,7dcd5eb871e08d124c234c976e3f9970caaf46ec,17,6,3,2,7973,Douglas Mendizábal,dougmendizabal,"Add new Luna HSM parameter for Barbican

This patch adds a new parameter for deploying Barbican with
a Thales Luna Network HSM (LunasaClientIPNetwork).

LunasaClientIPNetwork can be used to register controller nodes
with the HSM using the controller's IP address on the given
network instead of its fqdn.

Co-Authored-By: Ade Lee <alee@redhat.com>
Depends-On: If0eb393ca970206cc95c7453641f33781eb698b2
Change-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f
(cherry picked from commit ead85251e95ce69ef64237905ace970fe406a06a)
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I6816d414409da3748b2e341ec05ebcad86ad8fd1,openstack/puppet-tripleo,stable/train,bug/1888398-stable/train2,I6816d414409da3748b2e341ec05ebcad86ad8fd1,Make sure python3-novaclient is installed before creating fence_compute,MERGED,2020-08-18 08:09:41.000000000,2020-08-20 02:22:07.000000000,2020-08-20 02:22:07.000000000,8,2,0,746654,f28b6907c799731549ece3011e5e2920201b457d,17,5,1,1,20172,Michele Baldessari,michele,"Make sure python3-novaclient is installed before creating fence_compute

This has been observed during an IHA FFU process. Namely
after the OS upgrade by LEAPP the fence_compute resource will
fail starting because python3-novaclient is not installed.
Normally this is taken care of by rpm dependencies, but
fence_compute is buggy and does not explicitely have that
dep (https://bugzilla.redhat.com/show_bug.cgi?id=1857247)

So we need to make sure the package is installed before
creating the resource.

Tested this on four consecutive successful IHA FFU runs
and it worked okay.

NB: Cherry-pick not 100% due to relative class names

Related-Bug: #1888398

Change-Id: I6816d414409da3748b2e341ec05ebcad86ad8fd1
(cherry picked from commit c1e9447998c635a825529cff99b99ed13a4e89d7)
(cherry picked from commit c3e86ea6dc0b2f57af12a088c2086e6fc70a95b0)
"
openstack%2Fneutron~stable%2Frocky~I2b1f4c4e951b691fb0c66119699b26540b0babd8,openstack/neutron,stable/rocky,drop-master-jobs,I2b1f4c4e951b691fb0c66119699b26540b0babd8,[Stable only] Drop *-master jobs,MERGED,2020-08-19 08:33:42.000000000,2020-08-20 02:03:50.000000000,2020-08-20 02:03:50.000000000,0,23,0,746858,d54a0da091d847c376c1b94fb386e576f9259426,10,4,1,1,21798,Bernard Cafarelli,bcafarel,"[Stable only] Drop *-master jobs

These jobs are used to test neutron against current master branches of
external projects (ryu).

Stable branches are not expected to run with this setup so we can drop
the jobs there (especially as some of these jobs are periodic ones).

Conflicts:
	.zuul.yaml

This is adapted to the older single .zuul.yaml file layout

Change-Id: I2b1f4c4e951b691fb0c66119699b26540b0babd8
(cherry picked from commit 21719a875d63adc9a823de7feacb119e5887f5af)
(cherry picked from commit da0bad4acc7c293fc8b74d5fff29ec1cccd41814)
"
openstack%2Fmasakari-monitors~master~I231d34b2b45db426e4bb76026eb9fc441d706ed5,openstack/masakari-monitors,master,migrate-to-focal,I231d34b2b45db426e4bb76026eb9fc441d706ed5,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-02 00:11:35.000000000,2020-08-20 01:59:06.000000000,2020-08-20 01:57:22.000000000,1,2,0,744342,03ef3555888fdd0ea38b4edfdc093382071f1031,24,8,5,1,8556,Ghanshyam,ghanshyam,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

removing the python-libvirt from bindep as that is py2 things and not
available/needed for Focal/Victoria testing.

Story: #2007865
Task: #40195

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal


Change-Id: I231d34b2b45db426e4bb76026eb9fc441d706ed5
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fnetworking-bagpipe~stable%2Fussuri~I5ea4bb27361df3c489deedb51d7ca8ea64bb923b,openstack/networking-bagpipe,stable/ussuri,bug/1863021-stable/ussuri,I5ea4bb27361df3c489deedb51d7ca8ea64bb923b,Monkey patch original current_thread _active,MERGED,2020-05-07 09:42:35.000000000,2020-08-20 01:55:54.000000000,2020-08-20 01:54:25.000000000,6,0,0,726073,0e866eed9f6c3e545a2fd6c0b680a718996661a5,16,5,2,1,21798,Bernard Cafarelli,bcafarel,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Change-Id: I5ea4bb27361df3c489deedb51d7ca8ea64bb923b
Closes-Bug: #1863021
(cherry picked from commit f0db421843f1161f4daa1e08b83eb2b11e78d9dd)
"
openstack%2Fneutron~stable%2Ftrain~I2b1f4c4e951b691fb0c66119699b26540b0babd8,openstack/neutron,stable/train,drop-master-jobs,I2b1f4c4e951b691fb0c66119699b26540b0babd8,[Stable only] Drop *-master jobs,MERGED,2020-08-19 08:26:11.000000000,2020-08-20 01:28:42.000000000,2020-08-20 01:25:09.000000000,0,12,0,746855,da0bad4acc7c293fc8b74d5fff29ec1cccd41814,10,4,1,1,21798,Bernard Cafarelli,bcafarel,"[Stable only] Drop *-master jobs

These jobs are used to test neutron against current master branches of
external projects (os-ken).

Stable branches are not expected to run with this setup so we can drop
the jobs there (especially as some of these jobs are periodic ones).

Conflicts:
	.zuul.yaml

This is adapted to the older single .zuul.yaml file layout

Change-Id: I2b1f4c4e951b691fb0c66119699b26540b0babd8
(cherry picked from commit 21719a875d63adc9a823de7feacb119e5887f5af)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf,openstack/tripleo-ansible,stable/train,train/label2,I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf,Switch podman actions to use label,MERGED,2020-08-11 14:10:11.000000000,2020-08-20 01:26:48.000000000,2020-08-20 01:26:48.000000000,4,4,0,745681,86c95804599c920fa7fe0e18103cf386b50d729d,33,6,7,2,3153,Emilien Macchi,emilienm,"Switch podman actions to use label

We don't have to use no_log if we use label to prevent all the info from
being outputed during execution.

Change-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf
(cherry picked from commit 5c880c0f61ed297d1fc91c5d2a3c5121fa212377)
"
openstack%2Fneutron~master~I2674bdc448d9a091b9fe8c68f0866fd19141c6be,openstack/neutron,master,bug/1890539,I2674bdc448d9a091b9fe8c68f0866fd19141c6be,Fix port can not be created with the sg of other project,MERGED,2020-08-06 08:22:44.000000000,2020-08-20 01:11:27.000000000,2020-08-14 13:52:32.000000000,124,5,9,745089,cc54a1c38e0b537883de43fecda781034c80daf3,66,14,6,5,29157,zhanghao,zhanghao2,"Fix port can not be created with the sg of other project

This patch adds the verification of whether admin context when
verifying the valid security groups of port.

Change-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be
Closes-Bug: #1890539
"
openstack%2Frequirements~stable%2Fussuri~Ie30fe79e686f89fbdb246b5330d5b9f10aecf354,openstack/requirements,stable/ussuri,,Ie30fe79e686f89fbdb246b5330d5b9f10aecf354,Add ansible to blacklist,MERGED,2020-08-19 18:31:41.000000000,2020-08-20 00:48:29.000000000,2020-08-20 00:48:29.000000000,3,0,0,747012,f047fe28b6eb5d5e4c982f41180b49e9948b5bf2,10,6,1,1,30491,Radosław Piliszek,yoctozepto,"Add ansible to blacklist

Some projects, such as kolla-ansible, have a dependency on ansible. At
present it is not possible to add this to your requirements as it does
not appear in the global requirements file. However, it is useful to
have ansible as dependency to allow testing of plugins.

There is not a strong dependence on the openstack libraries, so it makes
sense to include this in the blacklist and not in global requirements,
so that the individual projects can specify the version required.

The reason for Ussuri backport: Kolla cut off the Ussuri branch
already in Victoria cycle, with this in place, and now it fails
on req-checks jobs in Ussuri.

Change-Id: Ie30fe79e686f89fbdb246b5330d5b9f10aecf354
(cherry picked from commit dcef447f6d5233ecc20ba19b7fa1e04e7dfb740c)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,openstack/tripleo-ansible,stable/ussuri,config/json-stable/ussuri,I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,tripleo_container_configs module,MERGED,2020-08-19 18:26:24.000000000,2020-08-20 00:32:18.000000000,2020-08-20 00:30:05.000000000,209,0,0,747008,b7601805f0cfc962c67b9acfe79aa88a58bd257f,8,3,1,5,3153,Emilien Macchi,emilienm,"tripleo_container_configs module

To replace the task that looks over kolla_config.yaml and creates the
json files per item in the YAML, create a module that will lead to one
task creating all the files.

Change-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6
(cherry picked from commit bfc2681ad539e55087c1f4a15e638c34c31dc7e1)
"
openstack%2Fnetworking-bgpvpn~master~I701c89ecc890a1d866815b5401cd4c022c51c9c4,openstack/networking-bgpvpn,master,hacking3,I701c89ecc890a1d866815b5401cd4c022c51c9c4,Switch to hacking 3.0.1,MERGED,2020-02-28 13:27:12.000000000,2020-08-20 00:30:50.000000000,2020-08-20 00:29:07.000000000,90,80,32,710447,96c266c9a797e44e43ce01f2469156eb285e9f0f,51,8,13,23,8313,Lajos Katona,elajkat,"Switch to hacking 3.0.1

Make the code compatible with hacking rules:
* import order problems
* line break before/after binary operator (for this added ignore for
W504, line break after binary operator
* indentation problems

I removed the rule N530 (Direct neutron imports not allowed), as that is
a longer story.
As a side-effect use newer pylint version, and fix the problems reported

Change-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4
Depends-On: https://review.opendev.org/#/c/708965/
"
openstack%2Fopenstack-helm~master~Ibc013ffd4e8fe7500fcfdd285ad896b0e6b97acc,openstack/openstack-helm,master,,Ibc013ffd4e8fe7500fcfdd285ad896b0e6b97acc,feat-tls: Add certs to cinder scheduler and Volume.,MERGED,2020-08-19 21:53:33.000000000,2020-08-19 23:41:40.000000000,2020-08-19 23:40:05.000000000,5,0,0,747049,0a91dd5f30d6ebccd219f5e3a3279a32baef1bd6,10,4,1,3,24780,Sangeet Gupta,sgupta,"feat-tls: Add certs to cinder scheduler and Volume.

This ps mounts certs to scheduler and Volume.

Change-Id: Ibc013ffd4e8fe7500fcfdd285ad896b0e6b97acc
"
openstack%2Fopenstack-ansible-os_nova~master~Ic4a2dfeeb022e1dbe0b1ba8aa0d0dd5feb7a8ffe,openstack/openstack-ansible-os_nova,master,bind-to-mgmt,Ic4a2dfeeb022e1dbe0b1ba8aa0d0dd5feb7a8ffe,Use the utility host for db setup tasks,MERGED,2020-08-19 18:15:20.000000000,2020-08-19 23:28:02.000000000,2020-08-19 23:25:09.000000000,12,1,0,747006,5e528413913d52154a1bbbe2d014b17ecb6c0968,8,3,1,3,28008,Guilherme,guilhermesp,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: Ic4a2dfeeb022e1dbe0b1ba8aa0d0dd5feb7a8ffe
"
openstack%2Foctavia~stable%2Fussuri~I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba,openstack/octavia,stable/ussuri,,I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba,Set amphora-agent build-only packages,MERGED,2020-08-19 08:00:11.000000000,2020-08-19 22:40:10.000000000,2020-08-19 22:38:20.000000000,7,7,0,746849,19557664170d54ace5fc919c48ae46ed9172c96a,14,3,1,2,6469,Carlos Gonçalves,cgoncalves,"Set amphora-agent build-only packages

A recent change in DIB [1] broke our CentOS 8 amphora image builds only
because we've not been handling package dependencies propertly.

The DIB change now installs package ""python3"" which provides
/usr/bin/python3 and is a requirement of scripts in later build phases.
It so happens that we are removing package ""python3-pip"", a dependency
of ""python36"" too early so builds fail when bin python3 is required.

DIB package-installs element provides property ""build-only"". When set,
it will cause packages to be added both to the list of packages
installed and list of packages to be uninstalled. This allows expressing
build-time dependencies that should not end up in the final image as is
the case of packages like ""build-essential"" and ""libffi-dev"" in our
amphora-agent element.

As for the removal of Git, we do not explicitely install it so we should
not uninstall it either. Git is a fake dependency of source-repositories
element and will be abstent in the final image with [2].

[1] https://review.opendev.org/#/c/741868/
[2] https://review.opendev.org/#/c/745678/

Depends-On: https://review.opendev.org/#/c/745678/

Change-Id: I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba
(cherry picked from commit fa1c5ef6dd15ce81c4a169307b7ab9970e9052d2)
"
openstack%2Fneutron~master~I6baedf05e5ddaf9413a5c5abc6e8f34bb1e874fb,openstack/neutron,master,remove-six,I6baedf05e5ddaf9413a5c5abc6e8f34bb1e874fb,Remove usage of six.next and iterators,ABANDONED,2020-05-22 18:08:46.000000000,2020-08-19 21:31:40.000000000,,22,25,5,730387,f3d583189d34c8c7c30e0d5e7ea4dd7b8606665a,17,7,3,9,1131,Brian Haley,brian-haley,"Remove usage of six.next and iterators

With python 3.x, six.next, six.itervalues, six.iteritems
and six.iterkeys can be replaced by their python 3
equivalents.

Another step in removing all of six usage from neutron.

Change-Id: I6baedf05e5ddaf9413a5c5abc6e8f34bb1e874fb
"
openstack%2Fpython-novaclient~master~I7b6d49ea8320e014e2ef444e456f6eea02eca912,openstack/python-novaclient,master,get-devstack-os-environment-role,I7b6d49ea8320e014e2ef444e456f6eea02eca912,zuul functional job: drop the custom playbooks,MERGED,2020-08-18 07:44:14.000000000,2020-08-19 21:28:45.000000000,2020-08-19 21:21:56.000000000,2,37,0,746649,553257d1b74493b7a9b30ffa2a960485d3588adf,13,4,2,5,10459,Luigi Toscano,ltoscano,"zuul functional job: drop the custom playbooks

The base devstack-tox-functional* jobs now set the required
environment (OS_* vars set by devstack) before calling tox.

Depends-On: https://review.opendev.org/746235
Change-Id: I7b6d49ea8320e014e2ef444e456f6eea02eca912
"
openstack%2Fplacement~master~I129fe0098944f14fc0d9ef6228eb26cc38050237,openstack/placement,master,744569,I129fe0098944f14fc0d9ef6228eb26cc38050237,Add DEBUG logs to help troubleshoot no allocation candidates,MERGED,2020-08-03 22:24:10.000000000,2020-08-19 21:26:09.000000000,2020-08-19 00:42:29.000000000,10,3,6,744569,fa9ae57984ba1f839331174d9b3ef9658af5b775,15,5,2,1,4690,melanie witt,melwitt,"Add DEBUG logs to help troubleshoot no allocation candidates

We currently have DEBUG logs that are emitted when at least one
allocation candidate is successfully found (added in changes
If9ddb8a6d2f03392f3cc11136c4a0b026212b95b and
I952d5229d6c40588cde6197683117a7e19127939) but we don't get much
logging in cases when no allocation candidates are found.

This adds DEBUG log messages for cases where we raise
ResourceProviderNotFound to aid in debugging scenarios where placement
is unexpectedly returning no allocation candidates for a request.

Change-Id: I129fe0098944f14fc0d9ef6228eb26cc38050237
"
openstack%2Fopenstack-helm-infra~master~Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5,openstack/openstack-helm-infra,master,745743,Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5,Add Alerta feature to osh-infra,MERGED,2020-08-11 20:52:11.000000000,2020-08-19 21:24:05.000000000,2020-08-19 21:19:17.000000000,658,3,0,745743,83a55fd19ecd40dee443abaeca7f16017cccea7f,25,5,8,21,31713,William Zhang,willxz,"Add Alerta feature to osh-infra

Change-Id: Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5
"
openstack%2Ftripleo-ansible~master~I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,openstack/tripleo-ansible,master,container/configs,I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,Create tripleo_container_config_scripts module,MERGED,2020-08-13 19:39:24.000000000,2020-08-19 21:20:14.000000000,2020-08-18 23:37:58.000000000,201,0,5,746218,b6f979ca1e195a9dfd9daf2279c90caaa6791c3d,41,7,15,5,3153,Emilien Macchi,emilienm,"Create tripleo_container_config_scripts module

This module will help to simplify the task that creates the container
config scripts, generated via config download.

It'll replace the loop in THT that iterate over a file to create the
scripts and their content, and executer faster on module.

Change-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74
"
openstack%2Fneutron~master~I4b1e6c76aba0f7cc75ad8f0ad3824f089798bb8e,openstack/neutron,master,bug/1869129,I4b1e6c76aba0f7cc75ad8f0ad3824f089798bb8e,Make security group CIDR conversion stricter,ABANDONED,2020-04-02 01:09:13.000000000,2020-08-19 21:20:03.000000000,,21,11,0,716806,237d66017af51ecbb75b1ad46bb3e970a0a7611d,8,8,1,2,8064,Jake Yip,jake,"Make security group CIDR conversion stricter

Neutron API currently accepts security group remote-ip CIDR in format
'192.168.1.1/24', which is a CIDR with host bits set. There are two
issues with this:

1. Security-wise, a user may unwittingly use '192.168.1.1/0', which
effectively is '0.0.0.0/0'

2. CIDRs with host bits set do not work in OVN.

Update API to throw an error if such a case occur.

Also update current tests that have CIDRs with host bits.

Change-Id: I4b1e6c76aba0f7cc75ad8f0ad3824f089798bb8e
Closes-Bug: #1869129
Related-Bug: #1837339
"
openstack%2Fneutron~master~I4579c575b3526a835efb475865e31aa88a76360c,openstack/neutron,master,bug/1856600,I4579c575b3526a835efb475865e31aa88a76360c,Fix reference to flake8 deprecated engine,ABANDONED,2019-12-16 16:49:45.000000000,2020-08-19 21:18:00.000000000,,2,2,1,699243,977bb6c3ccba090b2a816997a1231b8ab96b3f74,26,9,4,2,13995,Nate Johnston,natejohnston,"Fix reference to flake8 deprecated engine

Flake 3 removed the Engine but kept a legacy module for compatibility.
Use the legacy module.

Change-Id: I4579c575b3526a835efb475865e31aa88a76360c
Resolves-Bug: #1856600
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I209ec1013d941c989bb14ef06779cdbf22cfcc0f,openstack/python-tripleoclient,stable/train,cells-stable/train,I209ec1013d941c989bb14ef06779cdbf22cfcc0f,overcloud_cell: fix location of config-download,ABANDONED,2020-08-19 21:16:53.000000000,2020-08-19 21:17:13.000000000,,3,5,0,747040,78b3fa84c63f3aa795e74ee60d86e7866ed7e5f5,2,0,1,1,3153,Emilien Macchi,emilienm,"overcloud_cell: fix location of config-download

config-download was moved to the home directory and not in
/var/lib/mistral anymore.

Change-Id: I209ec1013d941c989bb14ef06779cdbf22cfcc0f
Closes-Bug: #1891932
(cherry picked from commit 83677d700e368dcad0de1db85fc707f3acb86a37)
"
openstack%2Fpython-tripleoclient~master~I209ec1013d941c989bb14ef06779cdbf22cfcc0f,openstack/python-tripleoclient,master,cells,I209ec1013d941c989bb14ef06779cdbf22cfcc0f,overcloud_cell: fix location of config-download,MERGED,2020-08-17 19:20:29.000000000,2020-08-19 21:16:53.000000000,2020-08-19 01:45:14.000000000,3,5,2,746589,83677d700e368dcad0de1db85fc707f3acb86a37,14,5,1,1,3153,Emilien Macchi,emilienm,"overcloud_cell: fix location of config-download

config-download was moved to the home directory and not in
/var/lib/mistral anymore.

Change-Id: I209ec1013d941c989bb14ef06779cdbf22cfcc0f
Closes-Bug: #1891932
"
openstack%2Foctavia~master~Id31123cdbddf63315767312add9f4a0affb58901,openstack/octavia,master,drop-py27-support-devstack-default-py3,Id31123cdbddf63315767312add9f4a0affb58901,Make octavia-grenade job use python3,ABANDONED,2019-11-08 06:52:33.000000000,2020-08-19 21:13:13.000000000,,1,0,2,693486,fa6d668b87a484123f8c059999f0c05a02575bc6,40,5,9,1,1131,Brian Haley,brian-haley,"Make octavia-grenade job use python3

Add override to octavia-grenade job to use python3.

Change-Id: Id31123cdbddf63315767312add9f4a0affb58901
"
openstack%2Ftripleo-common~master~I88e921daf6bd3fdfb46ed52bde34f221e7bce591,openstack/tripleo-common,master,bug/1889122,I88e921daf6bd3fdfb46ed52bde34f221e7bce591,Remove non-jinja tripleo_containers,ABANDONED,2020-08-19 19:13:09.000000000,2020-08-19 21:13:04.000000000,,0,257,0,747023,c4530fa4eae16a13d9c6cb3f8502197bd42c7267,2,0,1,2,14985,Alex Schultz,mwhahaha,"Remove non-jinja tripleo_containers

The shipped overcloud_containers.yaml and tripleo_containers.yaml was
used for the kolla build process. Since we don't need it for the tcib
process, let's drop it.

Change-Id: I88e921daf6bd3fdfb46ed52bde34f221e7bce591
"
openstack%2Ftripleo-common~master~I183082b44e3edff3672d1d55ffa84ba4cd5c0a74,openstack/tripleo-common,master,label3,I183082b44e3edff3672d1d55ffa84ba4cd5c0a74,tcib: rename kolla_version to tcib_managed,MERGED,2020-07-09 15:45:57.000000000,2020-08-19 21:12:17.000000000,2020-08-19 21:07:48.000000000,1,1,0,740323,8ed87699fedc60eed19ec3816d16ac42e6f08b02,20,7,3,1,3153,Emilien Macchi,emilienm,"tcib: rename kolla_version to tcib_managed

To avoid confusion, do not use kolla_version label and use tcib_managed.
This is useful to filter images that are built by TCIB or not.

Depends-On: https://review.opendev.org/#/c/740298/
Change-Id: I183082b44e3edff3672d1d55ffa84ba4cd5c0a74
"
openstack%2Ftripleo-common~master~I84511dfdb8db11eca38c807ce71393cbbe453a68,openstack/tripleo-common,master,secure,I84511dfdb8db11eca38c807ce71393cbbe453a68,Adding back overcloud-secure as it removes unsafe packages,MERGED,2020-07-24 16:22:58.000000000,2020-08-19 21:09:09.000000000,2020-08-19 21:07:46.000000000,4,0,0,742938,6df053a2167bfb92088052431d4ad8ec3c7a5da7,17,6,2,4,7130,David Hill,dhill,"Adding back overcloud-secure as it removes unsafe packages

Adding back overcloud-secure as it removes unsafe packages as the
overcloud-secure role was splitted in two roles: overcloud-partition
for partitionning handling and overcloud-secure for removal of unsafe
packages.

Change-Id: I84511dfdb8db11eca38c807ce71393cbbe453a68
"
openstack%2Ftripleo-heat-templates~master~I1006eed5acee423bda380da5a61407fdc14a296c,openstack/tripleo-heat-templates,master,,I1006eed5acee423bda380da5a61407fdc14a296c,Set keystone::cache parameters,MERGED,2020-08-18 11:20:49.000000000,2020-08-19 21:07:44.000000000,2020-08-19 21:07:44.000000000,2,2,0,746687,bdca0a03fb49d22405781243f2ab3ec3760cdcb0,11,7,1,1,16137,Tobias Urdin,tobasco,"Set keystone::cache parameters

The puppet-keystone patch [1] will remove
the deprecated parameters.

This puppet-tripleo patch [2] changes so that
the keystone::cache class is used explicitly
so that we can change these config options.

[1] https://review.opendev.org/#/c/746643/
[2] https://review.opendev.org/#/c/746686/

Depends-On: https://review.opendev.org/#/c/746686/
Change-Id: I1006eed5acee423bda380da5a61407fdc14a296c
"
openstack%2Fpuppet-tripleo~master~I70ac9fcd3f74975c96c715ecbc818e6606ff4517,openstack/puppet-tripleo,master,rhbz/1859453,I70ac9fcd3f74975c96c715ecbc818e6606ff4517,Use correct memcached IPs for Swift object-expirer,MERGED,2020-07-30 16:44:22.000000000,2020-08-19 21:07:42.000000000,2020-08-19 21:07:42.000000000,67,23,5,744015,e7cb55d97b41c35800e08257a826164ca5a1c7de,44,7,6,5,6968,Christian Schwede,cschwede,"Use correct memcached IPs for Swift object-expirer

The memcached IP is not properly set in case of separate storage nodes.
Until now, these were only set if the Swift proxy node was also
configured on the same node; however, this is not the case with separate
storage nodes. The service would still run, but was not able to use any
cache and logging errors therefore.

Closes-Bug: 1889663
Change-Id: I70ac9fcd3f74975c96c715ecbc818e6606ff4517
"
openstack%2Ftripleo-quickstart-extras~master~Id97074ff7b1341942e8c85fc709a83b33e0af414,openstack/tripleo-quickstart-extras,master,tls_without_novajoin,Id97074ff7b1341942e8c85fc709a83b33e0af414,Support TLS-Everywhere without novajoin,MERGED,2020-04-21 13:41:11.000000000,2020-08-19 20:57:45.000000000,2020-08-19 20:57:45.000000000,222,14,13,721615,d688ab722a53091faf65842f09e6dd03410c7cfe,163,9,31,17,14250,Grzegorz Grasza,xek,"Support TLS-Everywhere without novajoin

To run TLS-E without novajoin, set undercloud_enable_novajoin
to false. To avoid confusion, this changes the previous behavior
of undercloud_enable_novajoin flag and it's default value. The
original flag wasn't used, because novajoin is only used for
TLS-E, so it doesn't make sense to deploy it otherwise.

Depends-On: https://review.opendev.org/731383
Depends-On: https://review.opendev.org/740951
Change-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414
"
openstack%2Fceilometer~master~I7061a31405a421da3ab2f192259fb23c5aa54ce6,openstack/ceilometer,master,,I7061a31405a421da3ab2f192259fb23c5aa54ce6,Run migration with NotFound exception as well,MERGED,2020-08-17 12:29:10.000000000,2020-08-19 20:43:10.000000000,2020-08-17 21:49:47.000000000,1,1,0,746491,49b098eda41ed23fde0d9373bd5510b95271f051,9,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Run migration with NotFound exception as well

Gnocchi start returning regular 404 when requesting resource that do not
exist [1]. That means, that in case of 404, which is also excpected,
we just fail resource creation.

[1] http://paste.openstack.org/show/796884/

Change-Id: I7061a31405a421da3ab2f192259fb23c5aa54ce6
"
openstack%2Fceilometer~master~Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338,openstack/ceilometer,master,,Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338,Run migration with NotFound exception as well,MERGED,2020-08-19 09:18:32.000000000,2020-08-19 20:42:53.000000000,2020-08-19 16:51:15.000000000,1,1,0,746865,648ce9b6687e43d504d53111725200734053357e,10,4,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Run migration with NotFound exception as well

Gnocchi start returning regular 404 when requesting resource that do not
exist [1]. That means, that in case of 404, which is also excpected,
we just fail resource creation.

[1] http://paste.openstack.org/show/796938/

Change-Id: Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338
"
openstack%2Fnova~master~I0872ee16e9fc49c988fe588f029ab71f429790f5,openstack/nova,master,bug/1891898,I0872ee16e9fc49c988fe588f029ab71f429790f5,libvirt: Mock LoopingCallBase._sleep in rbd tests,MERGED,2020-08-10 10:04:04.000000000,2020-08-19 20:19:04.000000000,2020-08-19 20:16:56.000000000,3,2,1,745512,4ba23996d036914f2ab7889db9af4ce6997ebc48,27,12,2,1,10135,Lee Yarwood,lyarwood,"libvirt: Mock LoopingCallBase._sleep in rbd tests

The tests previously mocked eventlet.greenthread.sleep directly but
I62e9f1a7cde8846be368fbec58b8e0825ce02079 removed this call from
LoopingCallBase._sleep in oslo.service 1.32.1. Just mock the _sleep
method directly to avoid us ever spinning in tests on this again.

Closes-Bug: #1891898
Change-Id: I0872ee16e9fc49c988fe588f029ab71f429790f5
"
openstack%2Fdiskimage-builder~master~Id0798c0a753f893d02c2d13fddea0c04b28cb7ca,openstack/diskimage-builder,master,,Id0798c0a753f893d02c2d13fddea0c04b28cb7ca,source-repositories: git is a build-only dependency,MERGED,2020-08-11 13:53:49.000000000,2020-08-19 19:22:05.000000000,2020-08-18 06:07:44.000000000,2,3,0,745678,3c650255590d7dcded8699cd01e198f6ce4c6c8e,14,7,1,1,6469,Carlos Gonçalves,cgoncalves,"source-repositories: git is a build-only dependency

Git is a build-time dependency that should not end up in the final
image should source-repositories be the only element requiring it at
image build time.

Change-Id: Id0798c0a753f893d02c2d13fddea0c04b28cb7ca
"
openstack%2Fopenstack-ansible-os_designate~stable%2Fussuri~I196c263c7fb017a1d8386e8e9fb339af70165c51,openstack/openstack-ansible-os_designate,stable/ussuri,osa/el8-stable/ussuri,I196c263c7fb017a1d8386e8e9fb339af70165c51,Add CentOS-8 support,MERGED,2020-08-13 06:32:30.000000000,2020-08-19 18:58:07.000000000,2020-08-19 18:56:46.000000000,1,3,0,746006,a26e154d08da04afda860a6bffe6841fd49c8fb3,23,5,5,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add CentOS-8 support

referencing ansible_python_interpreter to main.yml file to fix it.

Depends-On: https://review.opendev.org/746366
Change-Id: I196c263c7fb017a1d8386e8e9fb339af70165c51
(cherry picked from commit d16298c411a40c307752b6a6494ee8379a654525)
"
openstack%2Fkolla-ansible~master~I729862b89b4fe65cbb7f852fac06741b636e4939,openstack/kolla-ansible,master,,I729862b89b4fe65cbb7f852fac06741b636e4939,CI: enable Ansible SSH pipelining,MERGED,2020-08-13 08:27:01.000000000,2020-08-19 18:43:37.000000000,2020-08-19 14:38:47.000000000,3,0,0,746019,9fac359bf4ec1374ba84ff5990f3ef74454d8c07,14,3,1,1,14826,Mark Goddard,mgoddard,"CI: enable Ansible SSH pipelining

This should improve performance of CI jobs.

Change-Id: I729862b89b4fe65cbb7f852fac06741b636e4939
"
openstack%2Fkolla-ansible~master~Iadf43383a7f2bf377d4666a55a38d92bd70711aa,openstack/kolla-ansible,master,bug/1891704,Iadf43383a7f2bf377d4666a55a38d92bd70711aa,Fix ownership and permissions of admin-openrc.sh,MERGED,2020-08-06 06:24:32.000000000,2020-08-19 18:43:02.000000000,2020-08-19 16:46:53.000000000,23,2,3,745071,16f97867a3f7050ac42fbb921310ca884e974a11,48,8,7,2,32029,likui,likui,"Fix ownership and permissions of admin-openrc.sh

Previously the post-deploy.yml playbook was executed with become: true,
and the admin-openrc.sh file templated without an owner or mode
specified. This resulted in admin-openrc.sh being owned by root with 644
permissions.

This change creates the file without become: true, and explicitly sets
the owner to the user executing Ansible, and the mode to 600.

Co-Authored-By: Mark Goddard <mark@stackhpc.com>

Closes-Bug: #1891704

Change-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa
"
openstack%2Foctavia-tempest-plugin~master~I85ebad6d5308f5f9ce4d8f0f160d954aeb5e7c94,openstack/octavia-tempest-plugin,master,,I85ebad6d5308f5f9ce4d8f0f160d954aeb5e7c94,Update statistics tests for response time metric,NEW,2020-07-23 17:42:29.000000000,2020-08-19 18:36:28.000000000,,13,2,0,742716,b019eaee25d79107b2114db8fb0cd930f673b076,8,3,2,3,32084,Anushka Singh,aannuusshhkkaa,"Update statistics tests for response time metric

Change-Id: I85ebad6d5308f5f9ce4d8f0f160d954aeb5e7c94
Co-Authored-By: Adam Harwell <flux.adam@gmail.com>
Co-Authored-By: Stephanie Djajadi <stephanie.djajadi@gmail.com>
"
openstack%2Fopenstack-ansible~master~I484b1d0e659ff6aaf0284390e147adc616d63e1f,openstack/openstack-ansible,master,os-nova-install,I484b1d0e659ff6aaf0284390e147adc616d63e1f,Return nova services reload,NEW,2020-08-17 15:13:23.000000000,2020-08-19 18:33:54.000000000,,3,11,0,746544,9998d9479ca9b8646a7f3912d904eb7b022a92a4,9,2,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Return nova services reload

Nova service reload has been replaced with restart several cycles ago.
Now issue has been fixed and we can revert service action back to reload

Along with that we restart only vnc/spice service on nova_console hosts.

Change-Id: I484b1d0e659ff6aaf0284390e147adc616d63e1f
"
openstack%2Frequirements~master~Ie30fe79e686f89fbdb246b5330d5b9f10aecf354,openstack/requirements,master,,Ie30fe79e686f89fbdb246b5330d5b9f10aecf354,Add ansible to blacklist,MERGED,2020-05-11 09:52:28.000000000,2020-08-19 18:31:41.000000000,2020-05-12 19:56:16.000000000,3,0,0,726768,dcef447f6d5233ecc20ba19b7fa1e04e7dfb740c,12,5,1,1,28048,Will Szumski,jovial,"Add ansible to blacklist

Some projects, such as kolla-ansible, have a dependency on ansible. At
present it is not possible to add this to your requirements as it does
not appear in the global requirements file. However, it is useful to
have ansible as dependency to allow testing of plugins.

There is not a strong dependence on the openstack libraries, so it makes
sense to include this in the blacklist and not in global requirements,
so that the individual projects can specify the version required.

Change-Id: Ie30fe79e686f89fbdb246b5330d5b9f10aecf354
"
openstack%2Ftripleo-ansible~master~I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,openstack/tripleo-ansible,master,config/json,I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,tripleo_container_configs module,MERGED,2020-08-13 18:25:25.000000000,2020-08-19 18:26:34.000000000,2020-08-19 18:02:46.000000000,209,0,4,746214,bfc2681ad539e55087c1f4a15e638c34c31dc7e1,34,6,7,5,3153,Emilien Macchi,emilienm,"tripleo_container_configs module

To replace the task that looks over kolla_config.yaml and creates the
json files per item in the YAML, create a module that will lead to one
task creating all the files.

Change-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6
"
openstack%2Fheat-translator~master~I482ac98bc56f0e3cfb8b767f47649da11ed1afab,openstack/heat-translator,master,migrate-to-focal,I482ac98bc56f0e3cfb8b767f47649da11ed1afab,[goal] Migrate testing to ubuntu focal,MERGED,2020-07-26 23:40:42.000000000,2020-08-19 18:13:55.000000000,2020-08-19 18:11:13.000000000,5,5,0,743104,828ede5d673b3adf45c0e88132ea14a03c687197,20,5,6,2,8556,Ghanshyam,ghanshyam,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40186

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>

Change-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab
"
openstack%2Fpuppet-cinder~stable%2Fussuri~If3f3f230aae7e04a774c967e1786561d70e43e50,openstack/puppet-cinder,stable/ussuri,,If3f3f230aae7e04a774c967e1786561d70e43e50,Expose vhost_custom_fragment,MERGED,2020-08-13 15:55:02.000000000,2020-08-19 18:09:23.000000000,2020-08-19 18:09:23.000000000,9,0,0,746170,61e773f49c7e5265b0e26290e43ba61b11649404,19,5,1,2,25877,Luke Short,ekultails,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Cinder service.

Change-Id: If3f3f230aae7e04a774c967e1786561d70e43e50
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 1fa7a69e9b9300c1c228f872ba3e37f0210f17dd)
"
openstack%2Frequirements~stable%2Fussuri~Ibf26d927cd45d0f39a0fcb7c4700786dbf002459,openstack/requirements,stable/ussuri,,Ibf26d927cd45d0f39a0fcb7c4700786dbf002459,Add yamllint to blacklist,MERGED,2020-08-19 12:53:15.000000000,2020-08-19 18:01:29.000000000,2020-08-19 18:01:29.000000000,1,0,0,746916,05f7a31434845ce8b33a7e44c0e2c6aea97dc150,9,5,1,1,30491,Radosław Piliszek,yoctozepto,"Add yamllint to blacklist

Some projects, such as kolla-ansible, use yamllint for linting YAML
code.
At present it is not possible to add this to your requirements as it
does not appear in the global requirements file.

The reason for Ussuri backport: Kolla cut off the Ussuri branch
already in Victoria cycle, with this in place, and now it fails
on req-checks jobs in Ussuri.

Change-Id: Ibf26d927cd45d0f39a0fcb7c4700786dbf002459
(cherry picked from commit 6ca51f2b1c52a6691925029586b6514ede8f13a1)
"
openstack%2Fneutron~stable%2Frocky~I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,openstack/neutron,stable/rocky,bug/1878299,I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,port_forwarding: validate args before invoking db update,MERGED,2020-07-31 14:49:13.000000000,2020-08-19 18:01:27.000000000,2020-08-19 18:01:27.000000000,131,1,0,744188,4ac33d1a9bf1655ae1316f8c7b2ad3047abba69c,16,8,2,2,11952,Flavio Fernandes,ffernand,"port_forwarding: validate args before invoking db update

Add validator to update_floatingip_port_forwarding so codepath does not
attempt performing invalid database operation. With that, operation fails
right away, with a hint on the offending argument(s).

This is a backport that combines changes from 2 changes that go together:
https://review.opendev.org/#/c/738145/
https://review.opendev.org/#/c/744993/

Note: pep8 failed with following error:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:
    N322  Possible use of no-op mock method. please use assert_called_once_with.
        mock_pf_get_objects.assert_called_once()
        ^
So additional changes were needed for backport.

Change-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04
Closes-Bug: #1878299
(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)
(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)
"
openstack%2Fneutron~stable%2Ftrain~I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,openstack/neutron,stable/train,bug/1878299,I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,port_forwarding: validate args before invoking db update,MERGED,2020-07-31 14:32:26.000000000,2020-08-19 17:23:58.000000000,2020-08-19 17:21:55.000000000,131,1,4,744182,9273af2c50b03bb5b1d7fb1944d0271e2785b35b,24,8,2,2,11952,Flavio Fernandes,ffernand,"port_forwarding: validate args before invoking db update

Add validator to update_floatingip_port_forwarding so codepath does not
attempt performing invalid database operation. With that, operation fails
right away, with a hint on the offending argument(s).

This is a backport that combines changes from 2 changes that go together:
https://review.opendev.org/#/c/738145/
https://review.opendev.org/#/c/744993/

Note: pep8 failed with following error in stable/train:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:
    N322  Possible use of no-op mock method. please use assert_called_once_with.
        mock_pf_get_objects.assert_called_once()
        ^
So additional changes were needed for backport.

Change-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04
Closes-Bug: #1878299
(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)
(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)
"
openstack%2Foslo.cache~master~Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500,openstack/oslo.cache,master,bp/enable-sasl-protocol,Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500,Add python-binary-memcached to support SASL,MERGED,2020-07-28 08:33:33.000000000,2020-08-19 17:19:40.000000000,2020-08-19 17:17:19.000000000,3,0,0,743484,c872fc0b9430ae43aa7fe7680f0072ada01c0707,37,6,11,3,31827,Jorhson Deng,dengzhaosen,"Add python-binary-memcached to support SASL

In 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced
python-binary-memcached in requirement, and we need these
package to support sasl protocol, so we should bump
python-binary-memcached>=0.29.0 in oslo.cache requirements.
Only required for sasl/binary protocol

Co-Authored-By: Brin Zhang <zhangbailin@inspur.com>

Change-Id: Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500
Implements: blueprint enable-sasl-protocol
"
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~I53c30652df0168f941bec10d0f462e44512ce39a,openstack/puppet-openstack_extras,stable/ussuri,centos8-beaker-stable/ussuri,I53c30652df0168f941bec10d0f462e44512ce39a,[RedHat] Set up yum repositories from repo file,MERGED,2020-08-18 12:52:10.000000000,2020-08-19 17:09:45.000000000,2020-08-19 17:06:55.000000000,39,0,2,746703,2bdcc2ba5a74f39fa6ac9462efecdc8c69881b1b,16,4,2,3,9816,Takashi Kajinami,kajinamit,"[RedHat] Set up yum repositories from repo file

This patch allows operators to use .repo file directly to configure
yum repogitories on RHEL/CentOS node, so that they can use the .repo
file provided in RDO repository directly.
This is useful especially in RDO CentOS8, because now it provides
seprated repogitory namespaces for modules.

Depends-on: https://review.opendev.org/#/c/742146/
Change-Id: I53c30652df0168f941bec10d0f462e44512ce39a
(cherry picked from commit cc751868cf8c6f0be9465ec5ca66673834feb18c)
"
openstack%2Fsushy~master~I7b989bb106492a3158e0d7929871f0a7aa2b50bf,openstack/sushy,master,test,I7b989bb106492a3158e0d7929871f0a7aa2b50bf,DNM try breaking vmedia,ABANDONED,2020-08-19 15:36:13.000000000,2020-08-19 16:51:45.000000000,,1,0,0,746963,a5ad232ec05f3161ad8eccf3a1dc1234c6e6775b,3,1,1,1,10239,Dmitry Tantsur,dtantsur,"DNM try breaking vmedia

Change-Id: I7b989bb106492a3158e0d7929871f0a7aa2b50bf
"
openstack%2Fironic-inspector~master~I660192549918b9cd9738810cbfaf3dc4456f97fa,openstack/ironic-inspector,master,use-tenacity,I660192549918b9cd9738810cbfaf3dc4456f97fa,Replace retrying with tenacity,MERGED,2020-08-11 13:16:12.000000000,2020-08-19 16:48:20.000000000,2020-08-19 16:44:26.000000000,7,6,2,745667,f4648facf76ff2ac742fc11bb81880f262e61ee2,25,7,6,3,23851,Riccardo Pittau,elfosardo,"Replace retrying with tenacity

We are replacing all usages of the 'retrying' package with
'tenacity' as the author of retrying is not actively maintaining
the project. Tenacity is a fork of retrying, but has improved the
interface and extensibility (see [1] for more details). Our end
goal here is removing the retrying package from our requirements.

[1] https://github.com/jd/tenacity

Change-Id: I660192549918b9cd9738810cbfaf3dc4456f97fa
Story: #1635390
Task: #40647
"
openstack%2Fcinder~master~Ia620043904f4f31a81bc8463fb36476a149f9808,openstack/cinder,master,correct-relnote,Ia620043904f4f31a81bc8463fb36476a149f9808,Correct formatting in release note,MERGED,2020-05-30 02:24:43.000000000,2020-08-19 16:46:34.000000000,2020-06-08 14:37:24.000000000,1,1,0,731875,f690327b55cac79540c9bb7b10c390b73aa3fc62,30,22,1,1,5314,Brian Rosmaita,brian-rosmaita,"Correct formatting in release note

A missing '_' is causing a hyperlink to render incorrectly in HTML.

Change-Id: Ia620043904f4f31a81bc8463fb36476a149f9808
"
openstack%2Fironic-inspector~stable%2Fussuri~Ice86e9ab3efb98b649141bdf7e1e2febdc9203a8,openstack/ironic-inspector,stable/ussuri,,Ice86e9ab3efb98b649141bdf7e1e2febdc9203a8,Fix URL parsing to enable redfish_address matching,MERGED,2020-08-18 13:31:04.000000000,2020-08-19 16:29:09.000000000,2020-08-19 16:27:02.000000000,55,2,0,746718,bc4311e16f108e7e38036c13b73f0824d34eb4a1,8,4,1,4,23851,Riccardo Pittau,elfosardo,"Fix URL parsing to enable redfish_address matching

Fixes the ironic utilities logic to parse URLs in driver_info
properly.

Also adds ``redfish_address`` to the default list of fields to
evaluate for host matching.

Previously an operator could add the field to the list, but the
matching logic would not match the URL as it did not know to
decompose the url and identify the hostname portion of the url.

Conflicts:
      ironic_inspector/conf/default.py

Resolves: rhbz#1670336
Story: 2008010
Task: 40660
Change-Id: Ice86e9ab3efb98b649141bdf7e1e2febdc9203a8
(cherry picked from commit bbc5cd7da5af18558859c6b3388142555888772e)
"
openstack%2Fbifrost~master~Ia94ee8a635629f4311dcde611d0e69a2b7c444a9,openstack/bifrost,master,auth,Ia94ee8a635629f4311dcde611d0e69a2b7c444a9,dynamic: always use clouds.yaml when it is available,MERGED,2020-08-19 08:35:50.000000000,2020-08-19 16:23:37.000000000,2020-08-19 16:17:13.000000000,15,6,0,746859,d203955c28db557efdc2ab91cfd4ef3413e7b785,13,4,3,1,10239,Dmitry Tantsur,dtantsur,"dynamic: always use clouds.yaml when it is available

Currently it is ignored when noauth_mode is true (the default).

Change-Id: Ia94ee8a635629f4311dcde611d0e69a2b7c444a9
"
openstack%2Fpython-tripleoclient~master~Iaccdf849128e9bb85145006be0ec58d65c7a1138,openstack/python-tripleoclient,master,,Iaccdf849128e9bb85145006be0ec58d65c7a1138,Remove the unused _validate_skip_tags function,MERGED,2020-02-19 12:49:44.000000000,2020-08-19 16:19:23.000000000,2020-08-19 16:17:35.000000000,0,11,0,708639,4ede7520e086da44198de22f705b8a469e5a2d47,23,6,3,1,9712,Dougal Matthews,dougal,"Remove the unused _validate_skip_tags function

Co-Authored-By: Saravanan KR <skramaja@redhat.com>

Change-Id: Iaccdf849128e9bb85145006be0ec58d65c7a1138
"
openstack%2Fopenstack-helm~master~I4c8ec145c8f1c1c1b5f7a5201f792e040fdd89a2,openstack/openstack-helm,master,,I4c8ec145c8f1c1c1b5f7a5201f792e040fdd89a2,Update ovs dpdk config when required,MERGED,2020-08-12 11:33:56.000000000,2020-08-19 16:11:51.000000000,2020-08-19 16:09:28.000000000,36,3,13,745853,a2f2e0418fac8da4fab8d3be64415f6ffe45ee25,31,8,5,4,29397,Kudaka Poorna Rajesh,rajesh.kudaka,"Update ovs dpdk config when required

This commit enables user to update dpdk bond config
only when required using the flag UPDATE_DPDK_BOND_CONFIG.
This helps in avoiding disruption in ovs dpdk during ovs
agent restart or when there is a update in bond config.

Setting UPDATE_DPDK_BOND_CONFIG to true will have default
behavior.

Setting UPDATE_DPDK_BOND_CONFIG to false will disable
configuration of bonds after the first run and can be
set to true when required.

Change-Id: I4c8ec145c8f1c1c1b5f7a5201f792e040fdd89a2
"
openstack%2Fneutron~stable%2Fussuri~I2b1f4c4e951b691fb0c66119699b26540b0babd8,openstack/neutron,stable/ussuri,drop-master-jobs,I2b1f4c4e951b691fb0c66119699b26540b0babd8,[Stable only] Drop *-master jobs,MERGED,2020-07-29 16:10:54.000000000,2020-08-19 16:05:22.000000000,2020-08-19 15:58:25.000000000,0,79,0,743795,21719a875d63adc9a823de7feacb119e5887f5af,23,6,1,3,21798,Bernard Cafarelli,bcafarel,"[Stable only] Drop *-master jobs

These jobs are used to test neutron against current master branches of
external projects (OVS/OVN, os-ken).

Stable branches are not expected to run with this setup so we can drop
the jobs there (especially as some of these jobs are periodic ones).

Change-Id: I2b1f4c4e951b691fb0c66119699b26540b0babd8
"
openstack%2Fpython-openstackclient~stable%2Fussuri~I510383f8e0cbf05ec24caa1cad330f12f82a913d,openstack/python-openstackclient,stable/ussuri,story/2007896,I510383f8e0cbf05ec24caa1cad330f12f82a913d,Make volume backup record commands available in v3,MERGED,2020-07-07 10:59:55.000000000,2020-08-19 16:04:57.000000000,2020-08-19 15:58:38.000000000,8,0,0,739703,5b25ea899e023bcd3d7384cca943f9844bcb0b79,13,4,1,2,30491,Radosław Piliszek,yoctozepto,"Make volume backup record commands available in v3

They work just fine in Volume API v3 but they were limited in OSC
to v2.

Change-Id: I510383f8e0cbf05ec24caa1cad330f12f82a913d
Story: 2007896
Task: 40279
(cherry picked from commit b1fc587a6d4eac795a5bc27c2dffd2d876161caa)
"
openstack%2Fcinder~stable%2Fussuri~Id9807871f3c183e4195f01aa28c458d7551de9ed,openstack/cinder,stable/ussuri,brocade,Id9807871f3c183e4195f01aa28c458d7551de9ed,Brocade: Python 3 support,MERGED,2020-08-17 15:01:09.000000000,2020-08-19 16:04:50.000000000,2020-08-19 15:58:28.000000000,94,66,0,746534,297c8b078b822622fd3e8c9365f1e03bcd691e53,71,18,1,5,10459,Luigi Toscano,ltoscano,"Brocade: Python 3 support

Builtin method `filter` changed behavior from Python 2, where it
returned a list, to Python 3, where it returns an interable, and the
Brocade driver was not ready to handle this behavior which results
in:

- Always evaluating to True in `if filtered_members`
- TypeError: 'filter' object is not subscriptable
- RuntimeError: dictionary changed size during iteration

This patch fixes all these to make the driver Python 3 compatible.

Extensive changes to test_brcd_fc_zone_driver.py were necessary to fix
the code that was incorrectly setting the configuration options for the
tests, which resulted in always running with default values.

Code has been tested on a DevStack deployment running Python 3.7 on
Fedora 31 with a Brocade 300 running FOS 7.1.0c against 3PAR FC array
and with `fc_southbound_protocol = HTTP` in the fabric group
configuration.

Configuration `fc_southbound_protocol = REST_HTTP` could not be tested
as its only supported in FOS 8.2.1 and later which available hardware
doesn't support.

Closes-Bug: #1888548
Change-Id: Id9807871f3c183e4195f01aa28c458d7551de9ed
(cherry picked from commit 9cd71b9de8b3ead48d9ac31a71d2743276b21648)
"
openstack%2Fpython-openstackclient~stable%2Frocky~I7303658c27d9b9f2d8381ccea0b29e96909cab54,openstack/python-openstackclient,stable/rocky,bug/1633214-stable/rocky,I7303658c27d9b9f2d8381ccea0b29e96909cab54,Add dns-domain support to Network object,MERGED,2020-01-03 23:16:23.000000000,2020-08-19 16:04:35.000000000,2020-08-19 15:58:33.000000000,83,6,0,701066,e7a8687a2c87a507ce25e042014d6a918e95d035,32,11,1,7,14892,Keith Berger,kberger,"Add dns-domain support to Network object

Add ""dns-domain"" parameter to Network class. Also check
backend extensions and send an error message in case of
an argument (like dns-domain) is sent and the extension is
missing (dns-integration in this case).

Change-Id: I7303658c27d9b9f2d8381ccea0b29e96909cab54
Closes-Bug: 1633214
Partial-Bug: 1547736
(cherry picked from commit b8754e15e7adc9a04587f67c83febaf49b64f18c)
"
openstack%2Fcharm-ceph-iscsi~master~Ia4d794167485caf1f6c277e0a56c81149b65d70a,openstack/charm-ceph-iscsi,master,add-zuul,Ia4d794167485caf1f6c277e0a56c81149b65d70a,Add .gitreview and .zuul.yaml,MERGED,2020-08-04 12:39:24.000000000,2020-08-19 15:54:14.000000000,2020-08-19 15:54:14.000000000,68,15,0,744696,1c95624727c99631c0be5d703cf97eab2501fb79,59,5,15,11,12549,gnuoy,gnuoy,"Add .gitreview and .zuul.yaml

This also includes a workaround to a bug in charmcraft which
excludes many of the charm files from the build charm. Until
that is resolved include ./add-to-archive.py to put add
additional files to build charm.

Change-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a
"
openstack%2Fneutron~stable%2Fussuri~I2674bdc448d9a091b9fe8c68f0866fd19141c6be,openstack/neutron,stable/ussuri,bug/1890539-stable/ussuri,I2674bdc448d9a091b9fe8c68f0866fd19141c6be,Fix port can not be created with the sg of other project,MERGED,2020-08-14 14:06:25.000000000,2020-08-19 15:53:14.000000000,2020-08-19 15:51:00.000000000,124,5,0,746322,083748fadd8d739a99d1dacb747d2fec79b7cc27,30,10,1,5,29157,zhanghao,zhanghao2,"Fix port can not be created with the sg of other project

This patch adds the verification of whether admin context when
verifying the valid security groups of port.

Change-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be
Closes-Bug: #1890539
(cherry picked from commit cc54a1c38e0b537883de43fecda781034c80daf3)
"
openstack%2Fpuppet-tripleo~master~I6c0e8d33538edc1d521e38f028ff2772614feb99,openstack/puppet-tripleo,master,,I6c0e8d33538edc1d521e38f028ff2772614feb99,Use keystone::cache,MERGED,2020-08-18 11:19:23.000000000,2020-08-19 15:44:50.000000000,2020-08-19 15:44:50.000000000,13,4,0,746686,e644fef49c06e2bca1934a289dca4b74afe2f6ec,9,5,1,2,16137,Tobias Urdin,tobasco,"Use keystone::cache

This patch includes and starts using the
keystone::cache class explicitly.

The other parameters will be removed in [1].

[1] https://review.opendev.org/#/c/746643/

Change-Id: I6c0e8d33538edc1d521e38f028ff2772614feb99
"
openstack%2Fopenstack-ansible~stable%2Fussuri~Ibbdecaa454a2082cd84365ebc8605e63530f206f,openstack/openstack-ansible,stable/ussuri,osa/upgrade_jobs-stable/ussuri,Ibbdecaa454a2082cd84365ebc8605e63530f206f,Make upgrade jobs get role relevant versions,MERGED,2020-08-15 07:54:33.000000000,2020-08-19 15:41:17.000000000,2020-08-19 15:37:15.000000000,9,3,0,746366,70e1495916e6eeeff5310da41139b64b6fb07a34,29,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Make upgrade jobs get role relevant versions

This patch aims to fix upgrade jobs and make them use
patched role instead of it's master version.

Change-Id: Ibbdecaa454a2082cd84365ebc8605e63530f206f
(cherry picked from commit c7ab46f620243d6fb0bf86e656007b512dd82bce)
"
openstack%2Foctavia~stable%2Fstein~I166752b379ff737404ad467f83eb3b4bf6f905e8,openstack/octavia,stable/stein,,I166752b379ff737404ad467f83eb3b4bf6f905e8,Disable log offloading scenario tests,MERGED,2020-08-19 06:24:38.000000000,2020-08-19 15:39:36.000000000,2020-08-19 15:32:03.000000000,17,4,0,746838,6b6f73ddf0c41c50164bcb2dbca0ba2ef7f0fbd1,10,4,1,1,6469,Carlos Gonçalves,cgoncalves,"Disable log offloading scenario tests

Stein Octavia does not include support for amphora log offloading
capability. The recently merged log offloading tests [1][2] need to be
excluded from Stein scenario jobs.

[1] https://review.opendev.org/#/c/673720/
[2] https://review.opendev.org/#/c/673726/

Change-Id: I166752b379ff737404ad467f83eb3b4bf6f905e8
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Fussuri~Id2248e93f2636407396d4ac8fe29c8943e4a3a57,openstack/openstack-ansible-os_keystone,stable/ussuri,add-params-to-httpd.conf-template,Id2248e93f2636407396d4ac8fe29c8943e4a3a57,Add Paramaters to httpd.conf template,MERGED,2020-06-25 14:03:54.000000000,2020-08-19 15:37:29.000000000,2020-08-04 17:59:13.000000000,9,0,0,738034,d2536d37fa03cf7c52f8d2a3965412727a0f7b60,19,4,2,2,29865,Georgina Shippey,gshippey,"Add Paramaters to httpd.conf template

Added the following parameters to the httpd.conf template
to be used with mod_auth_openidc Apache mod. Params include:
- OIDCStateMaxNumberOfCookies - this takes parameters in the form
<number> <false|true> where number is the maximum number of state
cookies stored in parallel for outstanding auth requests, and the
boolean indicates whether cookies that are still valid over this
amount are deleted
- OIDCDefaultURL - Defines a default URL to be used in case of
3rd-party or OP initiated SSO when no explicit target_link_uri has
been provided. The user is also sent to this URL is in case an
invalid authorization response was received
(ref: https://github.com/zmartzone/mod_auth_openidc/blob/master/auth_openidc.conf)

The reason these have been added is due to some stability issues
that have been seen regarding cached session cookies that subsequently
cause a ""state mismatch"" error. Being able to limit the number of active cookies
appears to resolve this issue.

Change-Id: Id2248e93f2636407396d4ac8fe29c8943e4a3a57
"
openstack%2Fopenstack-health~master~Id3c316df1a79bd35eed162e3291ef31cc36b092f,openstack/openstack-health,master,,Id3c316df1a79bd35eed162e3291ef31cc36b092f,Fix typo in contributor guide,MERGED,2020-04-23 02:55:25.000000000,2020-08-19 15:37:16.000000000,2020-08-19 15:37:16.000000000,4,4,0,722192,6bf9b0689c2e1ae1ec9bf4939af9934976b7378e,10,6,1,1,8556,Ghanshyam,ghanshyam,"Fix typo in contributor guide

There are few typo in contributor guide which were
added recently.

Change-Id: Id3c316df1a79bd35eed162e3291ef31cc36b092f
"
openstack%2Ftripleo-quickstart-extras~master~I620cc652d17981d973b340dc086b86fe549bc268,openstack/tripleo-quickstart-extras,master,,I620cc652d17981d973b340dc086b86fe549bc268,Enable nova local meta data per cell,ABANDONED,2020-03-27 15:50:25.000000000,2020-08-19 15:32:15.000000000,,1,0,1,715455,1e1d40ce7c5a2ee795add2211c3756fa0db9dfc7,6,7,1,1,31239,Paras Babbar,pbabbar,"Enable nova local meta data per cell

Add support of nova local meta data api per cell
in the existing multi cell job

Change-Id: I620cc652d17981d973b340dc086b86fe549bc268
"
openstack%2Fproject-config~master~I0fdd4a79b886d1c4875e748b08f99da809d9d767,openstack/project-config,master,ansible-lint-E208,I0fdd4a79b886d1c4875e748b08f99da809d9d767,Disable E106 & E208 for now,MERGED,2020-08-19 13:17:30.000000000,2020-08-19 15:28:17.000000000,2020-08-19 15:28:16.000000000,5,0,0,746920,d1d0f66734ad1c3c7e74e82d23d44a5f924a0d2f,11,4,2,1,3153,Emilien Macchi,emilienm,"Disable E106 & E208 for now

E106 rejects roles with '-' in their names, which is important
for collections, but these aren't collections.

Also ansible-lint throws an undocumented error ""E208 File permissions not
mentioned"" that looks too aggressive, for example it complains IMHO
wrongly about:

roles/add-build-sshkey/tasks/remote-linux.yaml:1: [E208] File
permissions not mentioned
roles/add-build-sshkey/tasks/remote-linux.yaml:14: [E208] File
permissions not mentioned
roles/add-build-sshkey/tasks/remote-linux.yaml:20: [E208] File
permissions not mentioned
roles/add-build-sshkey/tasks/remote-linux.yaml:27: [E208] File
permissions not mentioned

Disable it for now until ansible-lint is fixed - and the real problems
in zuul-jobs are fixed.

https://github.com/ansible/ansible-lint/pull/949 fixes the false
positives. Once that is merged and a new release is out, we should
revert and fix the real problems.

Inspired by I3e3978bbc9458ad79623d22969344fb46f5fee43
and I48f837e8d5bd7d0d9d708d728d93627deb4093cc

Change-Id: I0fdd4a79b886d1c4875e748b08f99da809d9d767
Co-Authored-By: Andreas Jaeger <aj@suse.com>
Co-Authored-By: James E. Blair <jeblair@redhat.com>
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ifbccd663373f0e29301810dcc088b83d968f6203,openstack/tripleo-ansible,stable/train,train/tht-compat,Ifbccd663373f0e29301810dcc088b83d968f6203,Ensure those two tasks are compatible with t-h-t import,MERGED,2020-08-18 06:09:03.000000000,2020-08-19 15:23:27.000000000,2020-08-19 15:23:26.000000000,41,17,0,746637,dc963ce0b76a511d182ad08b74ffe57b5a4b4a33,21,7,2,4,28223,Cedric Jeanneret,cjeanner,"Ensure those two tasks are compatible with t-h-t import

In t-h-t, we call ""tasks_from"" in order to exclusively call those two
files in different location.
We therefore need to ensure we actually set the right variables, even in
this case.

Change-Id: Ifbccd663373f0e29301810dcc088b83d968f6203
Related-Bug: #1891465
(cherry picked from commit 11f365d00b444727f61b643acff30771c0453ec9)
(cherry picked from commit 5781caccd593a079e20eb353e8d62393e5d933ba)
"
openstack%2Fkeystonemiddleware~master~I6c964585402681f216314bae6a694305697b76e1,openstack/keystonemiddleware,master,drop_mock,I6c964585402681f216314bae6a694305697b76e1,Use unittest.mock instead of mock,ABANDONED,2020-06-08 23:18:40.000000000,2020-08-19 14:47:32.000000000,,12,13,7,734360,4a18db5798b9845a0a7532de14389d2109e95953,6,2,2,13,28522,Hervé Beraud,hberaud,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I6c964585402681f216314bae6a694305697b76e1
"
openstack%2Fironic~bugfix%2F15.2~I8214cfbc3602e797213ee949b9536902a338a642,openstack/ironic,bugfix/15.2,create-15.2,I8214cfbc3602e797213ee949b9536902a338a642,Update .gitreview for bugfix/15.2,MERGED,2020-08-18 20:47:20.000000000,2020-08-19 14:43:03.000000000,2020-08-19 08:55:28.000000000,1,0,0,746796,23ee40389a9e2949b01518cee6f2b9f323cf3d0e,9,4,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for bugfix/15.2

Change-Id: I8214cfbc3602e797213ee949b9536902a338a642
"
openstack%2Fpuppet-heat~master~If689eb5e896dba443358ac83cd7f566aacc276f1,openstack/puppet-heat,master,,If689eb5e896dba443358ac83cd7f566aacc276f1,Expose vhost_custom_fragment,MERGED,2020-08-18 17:51:24.000000000,2020-08-19 14:41:19.000000000,2020-08-19 14:41:19.000000000,10,3,0,746779,0e85f1c7b0d7c8819aedeb83da10eea4633d2e25,12,4,2,2,25877,Luke Short,ekultails,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Heat CFN service.

Change-Id: If689eb5e896dba443358ac83cd7f566aacc276f1
Signed-off-by: Luke Short <ekultails@gmail.com>
"
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~Ief4f8601131cb5a82c087a8519e8726afd54157a,openstack/puppet-openstack-integration,stable/ussuri,centos8-beaker-stable/ussuri,Ief4f8601131cb5a82c087a8519e8726afd54157a,Fix wrong nodepool_type for CentOS8 beaker,MERGED,2020-08-19 10:28:00.000000000,2020-08-19 14:34:31.000000000,2020-08-19 14:34:31.000000000,1,1,0,746879,53937442fcf5ea2c4e711063272c5aa9f1cf0345,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix wrong nodepool_type for CentOS8 beaker

Change-Id: Ief4f8601131cb5a82c087a8519e8726afd54157a
(cherry picked from commit 0829a02293a31022576d4b38c66d2f0cb152279d)
"
openstack%2Ftripleo-heat-templates~master~Ia850286682f09cd75651591a1158c2e467343c1d,openstack/tripleo-heat-templates,master,unbundle_bootstraphost,Ia850286682f09cd75651591a1158c2e467343c1d,Drop bootstrap_host_exec from pacemaker_restart_bundle,MERGED,2020-02-21 16:16:28.000000000,2020-08-19 14:34:18.000000000,2020-04-21 14:41:40.000000000,9,2,6,709181,4d8eb351147c359a6a2dea4ee43b247c3be59da8,22,5,4,1,20172,Michele Baldessari,michele,"Drop bootstrap_host_exec from pacemaker_restart_bundle

bootstrap_host_exec does not exist on the host so we cannot assume its
existence. Since, barring argument checking, it is three lines of shell
script [1] we just use it directly. We also add an extra echo to make it
simpler to debug any bootstrap vs non-bootstrap issued.

[1] https://github.com/openstack/tripleo-common/blob/master/scripts/bootstrap_host_exec

Change-Id: Ia850286682f09cd75651591a1158c2e467343c1d
Related-Bug: #1863442
"
openstack%2Fvitrage~master~If3e3754fa92f500c58dadb668ed4c4d747c92704,openstack/vitrage,master,grenade_try,If3e3754fa92f500c58dadb668ed4c4d747c92704,Native Zuul v3 grenade - try,ABANDONED,2020-08-19 12:53:05.000000000,2020-08-19 14:31:16.000000000,,18,78,0,746915,396ccb96adcaddaa96c902d6f3ba5b2fbf944260,4,1,2,1,19184,Idan Hefetz,idan-hefetz,"Native Zuul v3 grenade - try

Change-Id: If3e3754fa92f500c58dadb668ed4c4d747c92704
"
openstack%2Fkolla-ansible~master~Ibb34a0b1bb4af686ed9ba98009b57532ef987f7a,openstack/kolla-ansible,master,bug/1837551,Ibb34a0b1bb4af686ed9ba98009b57532ef987f7a,Fix sysctl config not live until reboot,ABANDONED,2020-08-19 10:04:58.000000000,2020-08-19 14:28:34.000000000,,6,2,6,746872,94f4aeebff19fabe28ee9d6444277a7f66cab529,9,3,2,4,32238,wdd,wangzihao,"Fix sysctl config not live until reboot

Add sysctl module args state and reload , change the default rp_filter
value to 2.

Change-Id: Ibb34a0b1bb4af686ed9ba98009b57532ef987f7a
Closes-Bug: #1837551
"
openstack%2Fhorizon~master~I79212d0b5552fce3dffb5c5527b65e48e1325f52,openstack/horizon,master,add_required_mark,I79212d0b5552fce3dffb5c5527b65e48e1325f52,"Revert ""Add required mark on Create and Update image form""",MERGED,2020-08-19 10:31:04.000000000,2020-08-19 14:19:26.000000000,2020-08-19 14:16:17.000000000,4,8,0,746880,d5368c97a4dedba7c5e1956346a2cfc6f97685b4,10,6,2,2,1736,Ivan Kolodyazhny,e0ne,"Revert ""Add required mark on Create and Update image form""

This reverts commit 55878ae4b2c85f26350a8ddfae18930eaeea58d9.

Minimum Disk and Minimum RAM are not required in the Glance API [1].


[1]https://docs.openstack.org/api-ref/image/v2/index.html?expanded=create-image-detail#request

Change-Id: I79212d0b5552fce3dffb5c5527b65e48e1325f52
"
openstack%2Fmagnum~master~I7f8b1b91eba733ecda01dc385c594d04f238a30b,openstack/magnum,master,increase-publish-timeout,I7f8b1b91eba733ecda01dc385c594d04f238a30b,Increase container-publish timeout,MERGED,2020-08-04 09:23:55.000000000,2020-08-19 14:18:26.000000000,2020-08-18 23:24:53.000000000,1,1,1,744667,79c4b72f6e98b1da04f7670a19393bd7c3ab6138,16,6,2,1,30262,Thomas Hartland,tghartland,"Increase container-publish timeout

The magnum-container-publish job first
has to run the container-build job,
so it doesn't make sense for the publish job
timeout to be shorter than the build job timeout.

Change-Id: I7f8b1b91eba733ecda01dc385c594d04f238a30b
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e,openstack/python-tripleoclient,stable/ussuri,RHBZ#1868910-stable/ussuri,Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e,Limit ip_version when resolving public_host and admin_host,MERGED,2020-08-18 18:40:45.000000000,2020-08-19 14:11:34.000000000,2020-08-19 14:09:21.000000000,11,7,0,746785,7fcc694d002e3c163d14698067b6540dd913a324,8,3,1,2,3153,Emilien Macchi,emilienm,"Limit ip_version when resolving public_host and admin_host

Use the the local_ip config option to filter results to a single
ip version when resolving public_host and admin_host to ip
addresses.

When nameservers return result for both IPv4 and IPv6 we currently
fail, due to multiple IP's for the host.

Change-Id: Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e
Related-Bug: #1763776
Related: RHBZ#1868910
(cherry picked from commit 1fd42a85da98e356e85146a9afbec528584c600b)
"
openstack%2Ftripleo-quickstart-extras~master~I7f9019eff1a19da24a1f91fc5bc52c279520ca87,openstack/tripleo-quickstart-extras,master,add-else-virtual-ip,I7f9019eff1a19da24a1f91fc5bc52c279520ca87,Switch logic on when to use control_virtual_ip,MERGED,2020-08-18 17:08:55.000000000,2020-08-19 14:09:24.000000000,2020-08-19 14:09:23.000000000,6,2,1,746772,a961129b65105c9ac89642ff2c88ed2d39e5c5d8,34,10,7,1,9976,Ronelle Landy,rlandy,"Switch logic on when to use control_virtual_ip

Without an else clause, the variable will be undefined
and fail on releases where tripleo_deploy_control_virtual_ip
is not set.

This review switches the order so that the condition will
resolev on either situation.

Fixes failing commit:
https://github.com/openstack/tripleo-quickstart-extras/commit/63c1365d94b2246a0be8580026aff001e6d8fce8

Closes-Bug: #1892078
Change-Id: I7f9019eff1a19da24a1f91fc5bc52c279520ca87
"
openstack%2Ftripleo-quickstart-extras~master~I101d1d938862785ec7afc5d5a7c97ad2f1e78c04,openstack/tripleo-quickstart-extras,master,update_buildtestpackages,I101d1d938862785ec7afc5d5a7c97ad2f1e78c04,Generalize vars in template file in build-test-packages role,MERGED,2020-08-12 09:47:43.000000000,2020-08-19 14:09:22.000000000,2020-08-19 14:09:22.000000000,2,3,0,745819,e86f82b9a0f61370ffe25d55e4652f7f8848150e,21,8,5,1,29775,Sandeep Yadav,sandeepyadav93,"Generalize vars in template file in build-test-packages role

With this patch we are generalizing vars in template file to take care
of differenet osp_release naming conventions we currently have in 
downstream:-

For 17:- osp_release: rhos-17
For 16.2:- osp_release: rhos-16.2

We have plans to switch 17 osp_release to numbered in downstream from
osp_release: rhos-17 --> osp_release: rhos-17.0 in near future so that
these kind of changes are not required. 
But as osp_release for 17 is in multiple places, For now we are going 
ahead with this change to make both versions working.

Change-Id: I101d1d938862785ec7afc5d5a7c97ad2f1e78c04
"
openstack%2Fopenstack-ansible~stable%2Frocky~I138fe1c8ea80fe71244ab0dc6497cfc6d7bdf953,openstack/openstack-ansible,stable/rocky,bp/python-build-simplification-stable/rocky,I138fe1c8ea80fe71244ab0dc6497cfc6d7bdf953,Ensure that global-requirement-pins.txt is applied,ABANDONED,2020-08-17 18:05:41.000000000,2020-08-19 14:08:21.000000000,,12,2,0,746580,bf6dfd9598d0681be5050d62d55b54bf6c05471d,9,5,1,3,17264,Charles Farquhar,cfarquhar,"Ensure that global-requirement-pins.txt is applied

In the previous repo build process, we had global constraints which
override upper constraints and anything set in the roles. This was
essential for two purposes:

1. To enable us to pin things that were not in upper constraints. eg: pip,
   setuptools, wheel
2. To enable us to pin things which were in upper constraints, but broken.
   This would usually be a temporary measure until upper constraints was
   fixed.

This patch extracts the global pins from global-requirement-pins.txt
into a list and sets 'venv_build_global_constraints' to the resulting
list so that it is applied to all venvs built.

In order to reliably find this file without using a hard-coded path, we
implement a change to the wrapper script to set the path in it in a
similar manner to that implemented for the inventory path.

Change-Id: I138fe1c8ea80fe71244ab0dc6497cfc6d7bdf953
(cherry picked from commit 0635dfbccc98bc2beb308d2b30ddbaf404201087)
(cherry picked from commit 03405f8f7de59cc5cfaaa076692dd1a266fa46b1)
"
openstack%2Fpython-heatclient~master~I51314da6d6bf0467308f3598fa9e666655e286d0,openstack/python-heatclient,master,native-zuulv3-migration,I51314da6d6bf0467308f3598fa9e666655e286d0,Native Zuul v3 version of the functional legacy job,MERGED,2020-08-19 10:49:18.000000000,2020-08-19 14:08:05.000000000,2020-08-19 14:00:29.000000000,13,192,0,746884,bb22add60c5d7a206ed8023d78fd155e256253a0,10,6,1,5,10459,Luigi Toscano,ltoscano,"Native Zuul v3 version of the functional legacy job

Pretty straightforward conversion, and remove the old scripts
which are not needed anymore.

Also, even though OS_TENANT_NAME is still exported,
read OS_PROJECT_NAME as first choice.

Depends-On: https://review.opendev.org/746235
Change-Id: I51314da6d6bf0467308f3598fa9e666655e286d0
"
openstack%2Fopenstack-helm-infra~master~I899b74fe733b687a3681d7dfb4e8a76ddc4e9019,openstack/openstack-helm-infra,master,Alerta,I899b74fe733b687a3681d7dfb4e8a76ddc4e9019,[WIP] Create chart for Alerta,ABANDONED,2019-12-18 21:49:35.000000000,2020-08-19 14:06:55.000000000,,1879,0,0,699877,c7162ded12abb9e6f184b5f5fcd302753a680cb5,22,2,12,38,30777,Steven Fitzpatrick,sf280x,"[WIP] Create chart for Alerta

An snmp chart has been added to demo / verify that traps sent via
alertmanager are successful. With the current configuration used
by the snmp chart, any incoming traps will be sent to stdout and
are visible by using kubectl get logs.

However, the snmp chart is not required to use alerta and can/should
be removed before merging, unless there is general interest in adding
this chart to openstack-helm-infra.

Change-Id: I899b74fe733b687a3681d7dfb4e8a76ddc4e9019
Co-Authored-By: Radhika Pai <rp592h@att.com>
Co-authored-By: Meghan Heisler <mkheisler93@gmail.com>
"
openstack%2Fpuppet-openstack_extras~master~I9deedd7625d512030e82d7c77c764b87adaf1677,openstack/puppet-openstack_extras,master,g-reg,I9deedd7625d512030e82d7c77c764b87adaf1677,Use g-api instead of g-reg in unit tests,MERGED,2020-08-18 23:14:53.000000000,2020-08-19 13:32:46.000000000,2020-08-19 13:32:46.000000000,10,10,0,746816,e3a7742153f4029bf578d237f6dd277565131669,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Use g-api instead of g-reg in unit tests

... because glance-registry has been removed.

Change-Id: I9deedd7625d512030e82d7c77c764b87adaf1677
"
openstack%2Fmanila-tempest-plugin~master~I7e16b341e3c9d76647eb2fa08909392328fb330b,openstack/manila-tempest-plugin,master,default_group_type,I7e16b341e3c9d76647eb2fa08909392328fb330b,"Fix skip condition for ""test_default_share_group_type_applied""",MERGED,2020-08-19 06:36:00.000000000,2020-08-19 13:29:00.000000000,2020-08-19 13:28:32.000000000,8,4,2,746839,1369e54a2d8c4874f2b90f98c77e115349efb22a,17,9,3,1,19262,Liron Kuchlani,lkuchlan,"Fix skip condition for ""test_default_share_group_type_applied""

Test ""test_default_share_group_type_applied"" is failed with code 404
that because there is a wrong skip condition. The test runs when
""default_share_type_name"" configuration option is defined but that
does not mean that group share type also exists.
So in case there is a default share type but not a group share type
the api call for default share group types fails because resource
could not be found.
This patch skips the test in case group share type is not found.

Change-Id: I7e16b341e3c9d76647eb2fa08909392328fb330b
"
openstack%2Fpuppet-openstack_extras~master~Ib76b19b0bf73f693f63456b3e3c3eafc33513b17,openstack/puppet-openstack_extras,master,reno,Ib76b19b0bf73f693f63456b3e3c3eafc33513b17,Fix wrong parameter name in a release note,MERGED,2020-08-19 09:34:36.000000000,2020-08-19 13:17:22.000000000,2020-08-19 13:15:37.000000000,2,2,0,746868,cd81471dbaae37e48484a030ba93141ff7fd35ef,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix wrong parameter name in a release note

Change-Id: Ib76b19b0bf73f693f63456b3e3c3eafc33513b17
"
openstack%2Ftripleo-ansible~master~Ib511f3ec76c4d429af4846182a915bb8f22ac851,openstack/tripleo-ansible,master,,Ib511f3ec76c4d429af4846182a915bb8f22ac851,Use native modules for octavia certs creation,ABANDONED,2020-03-23 08:23:05.000000000,2020-08-19 13:17:06.000000000,,85,58,18,714396,8bab131b39cfca8e3373feec457b5cf1ba900089,15,4,3,1,29244,Gregory Thiemonge,gthiemonge,"Use native modules for octavia certs creation

Replace shell tasks with openssl_* modules.

Change-Id: Ib511f3ec76c4d429af4846182a915bb8f22ac851
"
openstack%2Fcinder~stable%2Ftrain~Ia26993f8c352d539fa8834d368a9c39109d6485d,openstack/cinder,stable/train,720503,Ia26993f8c352d539fa8834d368a9c39109d6485d,PowerMax Driver - PowerMax Pools Fix,MERGED,2020-04-20 10:10:26.000000000,2020-08-19 13:15:40.000000000,2020-08-19 13:12:57.000000000,133,97,3,721220,20a55fc0ca05b36423e89574a57a7d510e3bc0ff,64,22,2,8,12670,Helen Walsh,walshh2,"PowerMax Driver - PowerMax Pools Fix

This change fixes bug 1873253 whereby live migration was broken
for volume-types with 'None' set as workload. The PowerMax for
Cinder driver now accounts for both 'None' and 'NONE' variations
of service level and workload.

Change-Id: Ia26993f8c352d539fa8834d368a9c39109d6485d
Closes-Bug: #1873253
(cherry picked from commit aef7fe44c10c9689bb889e866031c101c69fca4b)
"
openstack%2Ftripleo-validations~master~I24ee8fead53dcb9b480447c5fc1d4e2b49e0a8ec,openstack/tripleo-validations,master,uuid/callback,I24ee8fead53dcb9b480447c5fc1d4e2b49e0a8ec,Get UUID from ansible environment variables,MERGED,2020-05-12 20:58:08.000000000,2020-08-19 13:07:53.000000000,2020-05-14 12:41:26.000000000,5,4,0,727452,d69e3d763b8eb4d68a67dad0701e783c6fff8fa1,14,4,2,2,16515,mbu,matbu,"Get UUID from ansible environment variables

Get the uuid set by ansible if exist for logging file creation
on disk.

validations-common is using this uuid set by ansible from ansible-libs
in order to share the same id for logging.
Since the tripleo-validations callback plugin will be used for tripleo
releases for some times, we need to set this here as well

nb: fix doc for pep8

Change-Id: I24ee8fead53dcb9b480447c5fc1d4e2b49e0a8ec
"
openstack%2Fkolla-ansible~stable%2Ftrain~Ifc252ae793e6974356fcdca810b373f362d24ba5,openstack/kolla-ansible,stable/train,bug/1882553,Ifc252ae793e6974356fcdca810b373f362d24ba5,Mount /etc/timezone based on host OS,MERGED,2020-08-13 08:17:49.000000000,2020-08-19 13:07:28.000000000,2020-08-19 13:04:10.000000000,187,186,0,746018,84ccebf1649b3e3c59c6c69872560130e12d44c8,12,3,2,68,14826,Mark Goddard,mgoddard,"Mount /etc/timezone based on host OS

Backport adapted for Train.

Previously we mounted /etc/timezone if the kolla_base_distro is debian
or ubuntu. This would fail prechecks if debian or ubuntu images were
deployed on CentOS. While this is not a supported combination, for
correctness we should fix the condition to reference the host OS rather
than the container OS, since that is where the /etc/timezone file is
located.

Change-Id: Ifc252ae793e6974356fcdca810b373f362d24ba5
Closes-Bug: #1882553
(cherry picked from commit 146b00efa7081eac9cba4410b5ea7e8b17535246)
"
openstack%2Fneutron-lib~master~I6d62fed6b427dc626c3395d4f1589720959cd71c,openstack/neutron-lib,master,,I6d62fed6b427dc626c3395d4f1589720959cd71c,Fix: port attribute name propagate_uplink_status,MERGED,2020-08-18 12:50:02.000000000,2020-08-19 13:05:18.000000000,2020-08-19 13:02:49.000000000,36,36,2,746701,40efa204df9feaf0d207b0e89eaa7a7776e02248,13,5,2,13,27815,Huang Cheng,pedh,"Fix: port attribute name propagate_uplink_status

Change the incorrect port attribute name ""uplink_status_propagation""
to ""propagate_uplink_status"".

Closes-Bug: #1891873

Change-Id: I6d62fed6b427dc626c3395d4f1589720959cd71c
Reviewed-by: pedh <hcn518@gmail.com>
"
openstack%2Frequirements~master~Ibf26d927cd45d0f39a0fcb7c4700786dbf002459,openstack/requirements,master,,Ibf26d927cd45d0f39a0fcb7c4700786dbf002459,Add yamllint to blacklist,MERGED,2020-05-14 10:31:09.000000000,2020-08-19 12:53:15.000000000,2020-05-14 17:04:07.000000000,1,0,0,728018,6ca51f2b1c52a6691925029586b6514ede8f13a1,11,4,2,1,22629,Michal Nasiadka,mnasiadka,"Add yamllint to blacklist

Some projects, such as kolla-ansible, use yamllint for linting YAML
code.
At present it is not possible to add this to your requirements as it
does not appear in the global requirements file.

Change-Id: Ibf26d927cd45d0f39a0fcb7c4700786dbf002459
"
openstack%2Fos-vif~master~Id5df8afe576881cba58b3288acd79501ef1de511,openstack/os-vif,master,tox,Id5df8afe576881cba58b3288acd79501ef1de511,update tox envs and support pdf docs,MERGED,2020-05-14 11:36:39.000000000,2020-08-19 12:14:16.000000000,2020-08-19 12:09:48.000000000,47,21,24,728037,68c4edba14908bdc5670097511298985304b6dc6,26,4,7,4,11604,sean mooney,sean-k-mooney,"update tox envs and support pdf docs

- adds support for building PDF docs.
- adds a bindep.txt file with required deps for pdf docs
- groups the tox envs into logicaly related sections.
- This change updates the default set of jobs so that
  runing tox with out any arguments should run the
  default set of jobs that should pass before pushing
  changes for review.

Change-Id: Id5df8afe576881cba58b3288acd79501ef1de511
"
openstack%2Fbarbican~master~I5a161abbfd4ac3b6cbc6304a4674e6abde0605b5,openstack/barbican,master,fix_rst_index_level,I5a161abbfd4ac3b6cbc6304a4674e6abde0605b5,Fix kmip&dogtag level problem in the document hierarchy,MERGED,2020-05-18 07:52:18.000000000,2020-08-19 11:53:19.000000000,2020-08-19 11:51:20.000000000,2,2,7,728768,0edaaf2756c8883b069ba599482bed7224dc7e89,17,13,3,1,27383,Shuo Liu,liushuobj,"Fix kmip&dogtag level problem in the document hierarchy

Change-Id: I5a161abbfd4ac3b6cbc6304a4674e6abde0605b5
"
openstack%2Fgrenade~master~I3db1ac3366cf959308028a12de0222206edd6e94,openstack/grenade,master,ovn-devstack,I3db1ac3366cf959308028a12de0222206edd6e94,Explicitly enable ml2/ovs,MERGED,2020-07-08 13:36:51.000000000,2020-08-19 11:53:05.000000000,2020-08-19 11:48:13.000000000,14,0,21,739987,004781c19d7120b3ff9546db66dba21634d4c772,47,11,5,1,8655,Jakub Libosvar,jlibosva,"Explicitly enable ml2/ovs

This patch is a part of switching ovn as a default in devstack
initiative. However, grenade will keep running with ml2/ovs for now.
This patch explicitly sets variables to deploy ml2/ovs, even though it's
still a default now.

Change-Id: I3db1ac3366cf959308028a12de0222206edd6e94
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
"
openstack%2Fpython-troveclient~master~Iffd84ecdcb9a44137b0d51b258183c80ab6f030a,openstack/python-troveclient,master,migrate-to-focal,Iffd84ecdcb9a44137b0d51b258183c80ab6f030a,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 03:32:50.000000000,2020-08-19 11:37:51.000000000,2020-08-19 11:36:28.000000000,3,3,0,744617,f65ac557a61b187c7314d4cd42d658b19a4937c3,16,5,4,1,8556,Ghanshyam,ghanshyam,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40225

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>

Change-Id: Iffd84ecdcb9a44137b0d51b258183c80ab6f030a
"
openstack%2Freleases~master~Ic55ffdd28a10ce2cd6a3c51f7ade077c7370171c,openstack/releases,master,train-stable,Ic55ffdd28a10ce2cd6a3c51f7ade077c7370171c,Release masakari-monitors for stable/train,MERGED,2020-06-10 21:13:36.000000000,2020-08-19 11:35:41.000000000,2020-08-19 11:35:41.000000000,4,0,0,734940,c1952c1a4cab8dfec75538cc9c9b5cd118e24521,20,5,1,1,11904,Sean McGinnis,SeanM,"Release masakari-monitors for stable/train

This release picks up new commits to masakari-monitors since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Change-Id: Ic55ffdd28a10ce2cd6a3c51f7ade077c7370171c
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Ftrove-dashboard~stable%2Fussuri~I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8,openstack/trove-dashboard,stable/ussuri,,I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8,Remove clusters panel from trove dashboard,MERGED,2020-08-19 11:03:24.000000000,2020-08-19 11:29:27.000000000,2020-08-19 11:29:27.000000000,3,683,0,746886,db7a5abd655d871cc036a4b59eeb4225f028e2da,6,2,1,3,6732,Lingxian Kong,kong,"Remove clusters panel from trove dashboard

Change-Id: I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8
(cherry picked from commit 509edaf6a4a6558b85d41969266655a444b53eb6)
"
openstack%2Ftacker~master~I4bf1fea6c414e31da5a5743732b95d0427625b75,openstack/tacker,master,bp/support-etsi-nfv-specs,I4bf1fea6c414e31da5a5743732b95d0427625b75,Support LCM notifications for VNF based on ETSI NFV-SOL,ABANDONED,2020-08-09 16:22:43.000000000,2020-08-19 11:16:54.000000000,,4092,350,1,745469,843f43e7e2bd1ac4ea63b77990b16e306e370378,12,6,4,26,32219,Aldinson C. Esto,esto-aln,"Support LCM notifications for VNF based on ETSI NFV-SOL

Supported for Flow of sending notifications as defined in ETSI SOL003.

Notify LCM status to the cannback URL registered in subscription
Support for transmission processing from each LCM

https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-notification-api-based-on-etsi-nfv-sol.html

Change-Id: I4bf1fea6c414e31da5a5743732b95d0427625b75
"
openstack%2Fcinderlib~master~I46617fb238415c0d979c482d8fd0558c80d2df26,openstack/cinderlib,master,fix-cinderlib-role-bindep,I46617fb238415c0d979c482d8fd0558c80d2df26,run-cinderlib-tests: ensure cinder's bindep is installed,ABANDONED,2020-08-07 20:43:46.000000000,2020-08-19 10:32:58.000000000,,5,0,0,745414,04d7ff3d50c0d4d1efceb0076d33e53654aab8e5,9,6,2,1,10459,Luigi Toscano,ltoscano,"run-cinderlib-tests: ensure cinder's bindep is installed

The new task should ensure that all dependencies are installed
when using run-cinderlib-tests (namely lsscsi and any future one).

Change-Id: I46617fb238415c0d979c482d8fd0558c80d2df26
"
openstack%2Fhorizon~master~I9430e0cf970490597019a1087390a08e6eecde64,openstack/horizon,master,add_required_mark,I9430e0cf970490597019a1087390a08e6eecde64,Add required mark on Create and Update image form,MERGED,2019-09-18 07:33:09.000000000,2020-08-19 10:31:04.000000000,2019-10-25 11:30:16.000000000,8,4,0,682813,55878ae4b2c85f26350a8ddfae18930eaeea58d9,10,4,1,2,27822,pengyuesheng,pengyuesheng,"Add required mark on Create and Update image form

Minimum Disk and Minimum RAM are required but do not have a required mark

This patch Add required mark

Change-Id: I9430e0cf970490597019a1087390a08e6eecde64
"
openstack%2Ftrove-dashboard~master~I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8,openstack/trove-dashboard,master,remove-cluster-panel,I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8,Remove clusters panel from trove dashboard,MERGED,2020-08-19 08:40:43.000000000,2020-08-19 10:30:32.000000000,2020-08-19 10:30:32.000000000,3,681,0,746860,509edaf6a4a6558b85d41969266655a444b53eb6,10,2,3,3,6732,Lingxian Kong,kong,"Remove clusters panel from trove dashboard

Change-Id: I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8
"
openstack%2Fpuppet-openstack-integration~master~Ief4f8601131cb5a82c087a8519e8726afd54157a,openstack/puppet-openstack-integration,master,centos8-beaker,Ief4f8601131cb5a82c087a8519e8726afd54157a,Fix wrong nodepool_type for CentOS8 beaker,MERGED,2020-08-18 11:55:20.000000000,2020-08-19 10:28:00.000000000,2020-08-18 16:00:01.000000000,1,1,0,746692,0829a02293a31022576d4b38c66d2f0cb152279d,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix wrong nodepool_type for CentOS8 beaker

Change-Id: Ief4f8601131cb5a82c087a8519e8726afd54157a
"
openstack%2Ftrove-dashboard~stable%2Fussuri~I1c59929886ac3933b1308da04ea357bf5f2de788,openstack/trove-dashboard,stable/ussuri,log-stable/ussuri,I1c59929886ac3933b1308da04ea357bf5f2de788,Remove publish checkbox in log view,MERGED,2020-08-19 08:44:53.000000000,2020-08-19 09:51:31.000000000,2020-08-19 09:51:31.000000000,0,2,0,746861,4709acd65fb7d318ea06933be308624abd64a330,6,2,1,1,6732,Lingxian Kong,kong,"Remove publish checkbox in log view

Change-Id: I1c59929886ac3933b1308da04ea357bf5f2de788
"
openstack%2Fcliff~master~I76470e806130a57375d9d28bc7acb130a3aea206,openstack/cliff,master,story/2007755,I76470e806130a57375d9d28bc7acb130a3aea206,Output correct json for security groups in 'openstack server show',ABANDONED,2020-06-11 12:49:06.000000000,2020-08-19 09:48:30.000000000,,15,1,14,735128,5c3bbe54e50025baa02224b5900f60df66662cc8,14,4,4,1,31733,jayaditya gupta,jgupta,"Output correct json for security groups in 'openstack server show'

Fixes incorrect json output for 'openstack server show -f json'.
The security group json output groups all the json as one
for e.g. ""security_groups"": ""name='group1'\nname='group2'""
The correct output should be
""security_groups"" : [{""name"" : ""group1""}, {""name"" : ""group2""}]

Story: 2007755

Change-Id: I76470e806130a57375d9d28bc7acb130a3aea206
"
openstack%2Fnetworking-odl~master~I48fd2fd64054d9b9db85b5ae490234efe17be67d,openstack/networking-odl,master,bug/1806571,I48fd2fd64054d9b9db85b5ae490234efe17be67d,variable type of port-id in ceilometer driver is changed from integer to string,MERGED,2019-02-05 10:09:57.000000000,2020-08-19 09:34:07.000000000,2020-08-19 09:31:24.000000000,118,117,13,634899,0cecb9630d0c0ee460cadd1535101fd8d0dee772,65,16,12,2,29399,Yenuganti Vasudha,evasyen,"variable type of port-id in ceilometer driver is changed from integer to
string

Due to type mismatch of port_id variable , ceilometer driver is throwing
type error and switchport counters are not gettng polled

Type casting the port-id to Integer for ceilometer polling to work correctly.

Signed-off-by: Yenuganti Vasudha <yenuganti.vasudha@ericsson.com>
Closes-Bug:#1806571

Change-Id: I48fd2fd64054d9b9db85b5ae490234efe17be67d
"
openstack%2Fkuryr-kubernetes~master~I9b2ec604274b733479e4e50b1279f3824f826068,openstack/kuryr-kubernetes,master,fix_run_generate_k8s_resource_definitions_sh,I9b2ec604274b733479e4e50b1279f3824f826068,Fix run generate_k8s_resource_definitions.sh,MERGED,2020-08-19 08:46:42.000000000,2020-08-19 09:31:34.000000000,2020-08-19 09:29:59.000000000,1,1,0,746862,53e29b70de019e00eba493eaa20a47825aeeca6c,7,2,1,1,31835,xujingsong,xieyanker,"Fix run generate_k8s_resource_definitions.sh

Change-Id: I9b2ec604274b733479e4e50b1279f3824f826068
"
openstack%2Fpython-watcherclient~master~I9d5b45d2786e205e62470404ff6efeee6c0d369d,openstack/python-watcherclient,master,,I9d5b45d2786e205e62470404ff6efeee6c0d369d,action plan rollback,NEW,2020-08-19 08:31:09.000000000,2020-08-19 09:17:08.000000000,,60,0,0,746857,e88d5330f03d0a2899051494b313b31f073851fb,2,1,1,4,24501,sue,suzhengwei,"action plan rollback

Change-Id: I9d5b45d2786e205e62470404ff6efeee6c0d369d
Implements: BP rollback-mechanism
"
openstack%2Fneutron-vpnaas~stable%2Fussuri~Ibc4cd7f8a055457b288ef101893c252cf0464a28,openstack/neutron-vpnaas,stable/ussuri,fix-pep8-isort,Ibc4cd7f8a055457b288ef101893c252cf0464a28,Pin isort to 4.3.21,MERGED,2020-08-13 09:36:29.000000000,2020-08-19 09:16:26.000000000,2020-08-19 09:13:44.000000000,11,3,0,746035,180fc9dcbc7debe4a3972a3d2877645a24f27a61,13,6,2,4,17685,Elod Illes,elod.illes,"Pin isort to 4.3.21

This patch fixes multiple issues to unblock gate:

1. With new isort releases (5.X.X) pylint started to fail, with error:

     AttributeError: module 'isort' has no attribute 'SortImports'

   This patch pin isort to 4.3.21, the last version before 5.0.0.

2. lower-constraints of appdirs and pytz need to be updated as
   currently lower-constraints job fails.

   Since patch Ia012a8e116a276a6674f86366c803e0e2d8ff704 modified the
   NEUTRON_PATH variable the functional test fails with:

   [..]neutron/tools/configure_for_func_testing.sh: line 113: /home/zuul/src/opendev.org/openstack/neutron-vpnaas/devstack/lib/ovs: No such file or directory

3. Functional job fails, because during tox run the latest released
   neutron is installed and it requires mock to be installed. This
   patch adds mock to functional test requirements. Note: this needs
   to be deleted as soon as new neutron will be released as on
   development branch neutron does not depend on mock anymore.

4. Another fix had to squashed into this patch as functional job
   neutron-vpnaas-functional-sswan fails with missing 'pip' command
   (called from configure_for_vpn_func_testing.sh) without this fix:

   Fix functional gate failure

   Using command pip3 for python3-pip package.

   Change-Id: I9f0c7ed7cf8baaa20e382e11e2276498d1c572fe
   (cherry picked from commit d4ef9c04ff03840665f5a47a421ae842db551264)

Change-Id: Ibc4cd7f8a055457b288ef101893c252cf0464a28
(cherry picked from commit 2b293a1bfae6cefe17efa820e41ef698663749f2)
"
openstack%2Fironic-inspector~bugfix%2F10.3~I86cb4f62fbaae3c0d149e9989703ac470939ea84,openstack/ironic-inspector,bugfix/10.3,,I86cb4f62fbaae3c0d149e9989703ac470939ea84,Correct the constraints link in tox.ini,MERGED,2020-08-19 08:23:09.000000000,2020-08-19 08:57:08.000000000,2020-08-19 08:55:29.000000000,1,1,0,746853,aef0068c4b7e5faf2a7c018a22155f66bf084686,7,2,1,1,10239,Dmitry Tantsur,dtantsur,"Correct the constraints link in tox.ini

Change-Id: I86cb4f62fbaae3c0d149e9989703ac470939ea84
"
openstack%2Fironic-python-agent~bugfix%2F6.3~Id28a4916755b698d2f8812fef2db379b355fe5b1,openstack/ironic-python-agent,bugfix/6.3,create-6.3,Id28a4916755b698d2f8812fef2db379b355fe5b1,Update .gitreview for bugfix/6.3,MERGED,2020-08-18 20:42:57.000000000,2020-08-19 08:56:42.000000000,2020-08-19 08:55:29.000000000,1,0,0,746794,cd73b1a4aa0f79827a5777b070e14aef0db16772,8,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for bugfix/6.3

Change-Id: Id28a4916755b698d2f8812fef2db379b355fe5b1
"
openstack%2Ftrove-dashboard~master~I1c59929886ac3933b1308da04ea357bf5f2de788,openstack/trove-dashboard,master,log,I1c59929886ac3933b1308da04ea357bf5f2de788,Remove publish checkbox in log view,MERGED,2020-08-19 08:24:04.000000000,2020-08-19 08:55:20.000000000,2020-08-19 08:55:20.000000000,0,2,0,746854,dee0699bb900121561f4e65d5979daf7cc0260a7,7,2,1,1,6732,Lingxian Kong,kong,"Remove publish checkbox in log view

Change-Id: I1c59929886ac3933b1308da04ea357bf5f2de788
"
openstack%2Fmagnum~master~I161b0af3ef7fbf3f81ece9a4a5689ec84d8b715d,openstack/magnum,master,,I161b0af3ef7fbf3f81ece9a4a5689ec84d8b715d,Remove duplicated etcd_volume_size param in coreos template,MERGED,2020-08-19 06:38:02.000000000,2020-08-19 08:52:53.000000000,2020-08-19 08:50:36.000000000,0,6,0,746840,0e964f8f7db23ae775a554d8f75bb7bb797ce490,8,3,1,1,25254,Nguyen Van Trung,trungnv,"Remove duplicated etcd_volume_size param in coreos template

Change-Id: I161b0af3ef7fbf3f81ece9a4a5689ec84d8b715d
"
openstack%2Fkuryr-kubernetes~master~I6d6457541f7c2bf41b299bc33e3b570db44a4412,openstack/kuryr-kubernetes,master,upgrade-k8s-version,I6d6457541f7c2bf41b299bc33e3b570db44a4412,Upgrade Kubernetes version to 1.18,MERGED,2020-08-09 12:27:36.000000000,2020-08-19 08:41:11.000000000,2020-08-19 08:39:35.000000000,101,118,4,745457,7e34b411a059166543421e1c59be2faf2409c053,46,5,14,3,27032,Maysa de Macedo Souza,maysa,"Upgrade Kubernetes version to 1.18

This commit upgrades the Kubernetes version to
1.18 and removes Kyperkube support as is already
Deprecated and will get removed on 1.20.

Change-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412
"
openstack%2Freleases~master~Ib6e683b8242a9f5d391fb36412b6fc45daa4ecff,openstack/releases,master,,Ib6e683b8242a9f5d391fb36412b6fc45daa4ecff,Release Monasca-Agent 3.0.2,MERGED,2020-08-18 11:01:05.000000000,2020-08-19 08:34:51.000000000,2020-08-19 08:34:50.000000000,4,0,0,746684,0caa9168cc96882d727fd286208967e45bef660c,11,6,1,1,28062,Martin Chacon Piza,martinchacon,"Release Monasca-Agent 3.0.2

- Fix a critical bug for Python 3 support in the http_check
metric.

- Includes an update of Cinder-api versions to be monitored.

- Minor change in help text.

Change-Id: Ib6e683b8242a9f5d391fb36412b6fc45daa4ecff
"
openstack%2Fkuryr-kubernetes~master~If950900293cae1d1b0c57492d5dfa62770c08a7c,openstack/kuryr-kubernetes,master,kuryrport-cleanups,If950900293cae1d1b0c57492d5dfa62770c08a7c,Cleanup minor thing for KuryrPort feature.,MERGED,2020-07-30 14:07:56.000000000,2020-08-19 08:31:24.000000000,2020-08-19 08:29:51.000000000,24,74,2,743979,ebf55415b6bb66c4081f325417985f5ed9709902,36,6,9,5,13692,Roman Dobosz,gryf,"Cleanup minor thing for KuryrPort feature.

There was outstanding review comments for some minor things. In this
patch they are resolved.

Change-Id: If950900293cae1d1b0c57492d5dfa62770c08a7c
"
openstack%2Fkuryr-kubernetes~master~I71385799775f9f9cc928e4d39a0fd443c98b53c6,openstack/kuryr-kubernetes,master,kuryrport-cleanups,I71385799775f9f9cc928e4d39a0fd443c98b53c6,Move vifs to 'status' in the KuryrPort CRD.,MERGED,2020-07-30 11:29:10.000000000,2020-08-19 08:26:09.000000000,2020-08-19 08:24:26.000000000,50,52,0,743955,1aa6753d804164c9185caf411633ca4a7021b39f,32,6,6,10,13692,Roman Dobosz,gryf,"Move vifs to 'status' in the KuryrPort CRD.

I newly added CRD, KuryrPort, we noticed, that vifs key, which is now
under 'spec' object, is rather a thing which could be represented as the
CRD status.

In this patch we propose to move vifs data under the status key.

Depends-On: I2cb66e25534e44b79f660b10498086aa88ad805c
Change-Id: I71385799775f9f9cc928e4d39a0fd443c98b53c6
"
openstack%2Fnetworking-hyperv~master~I3ac257d2add81b587a6f72922d4c0730282b3898,openstack/networking-hyperv,master,migrate-to-focal,I3ac257d2add81b587a6f72922d4c0730282b3898,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 03:34:00.000000000,2020-08-19 08:25:15.000000000,2020-08-19 08:25:15.000000000,6,6,0,744635,fca3366641786aabae43178154e3c60e3042c20c,14,3,5,1,8556,Ghanshyam,ghanshyam,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40228

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>

Change-Id: I3ac257d2add81b587a6f72922d4c0730282b3898
"
openstack%2Fkolla-ansible~master~I5ac8f20a2157d880b63a4c70bf6c782d06014f41,openstack/kolla-ansible,master,skip-broken-ansible-lint,I5ac8f20a2157d880b63a4c70bf6c782d06014f41,Skip broken ansible-lint,MERGED,2020-08-19 07:20:48.000000000,2020-08-19 08:04:06.000000000,2020-08-19 08:02:11.000000000,1,1,0,746847,a90aa3e4435a6124284260094b3e875c7bc9c96d,9,5,1,1,30491,Radosław Piliszek,yoctozepto,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I5ac8f20a2157d880b63a4c70bf6c782d06014f41
"
openstack%2Fheat~master~I1e825834049f47a470280cce6c8bd89ef7e9ae61,openstack/heat,master,,I1e825834049f47a470280cce6c8bd89ef7e9ae61,Correct release version for OS::Neutron::ProviderNet dns_domain,MERGED,2020-08-12 14:07:12.000000000,2020-08-19 07:59:50.000000000,2020-08-19 07:58:16.000000000,1,1,0,745899,c680d8933d19f27762f46481d206a906248b965f,10,3,1,1,4257,Zane Bitter,zaneb,"Correct release version for OS::Neutron::ProviderNet dns_domain

The patch adding this new property was approved during the Ussuri
release cycle, but only merged in the Victoria release. Therefore the
version in the SupportStatus should be 15.0.0, not 14.0.0.

Change-Id: I1e825834049f47a470280cce6c8bd89ef7e9ae61
"
openstack%2Fcharm-octavia~master~Ic2d884b8c589d00531b372ba4f742cbe651c7e48,openstack/charm-octavia,master,bug/1891639,Ic2d884b8c589d00531b372ba4f742cbe651c7e48,Fix setuptools-scm's version range,MERGED,2020-08-18 14:40:06.000000000,2020-08-19 07:30:13.000000000,2020-08-19 07:30:13.000000000,2,2,0,746740,009dd33942938cc29acfbd1ad267352b9d0c7fba,11,4,1,1,31289,Aurelien Lourot,lourot,"Fix setuptools-scm's version range

Because of this typo we ended up installing version 4 instead of 3

Change-Id: Ic2d884b8c589d00531b372ba4f742cbe651c7e48
Related-Bug: #1891639
"
openstack%2Fvitrage~master~Ic08907fc0fe7110ab7895e203eb9d8cf3d315423,openstack/vitrage,master,time_fmt,Ic08907fc0fe7110ab7895e203eb9d8cf3d315423,Update volume update_timestamp_format,MERGED,2020-08-18 10:25:32.000000000,2020-08-19 06:49:07.000000000,2020-08-19 06:47:03.000000000,4,2,2,746681,c2349bb18d3fefd9b3d4fe2716622d89ec00f8ce,13,3,4,1,30408,Qitao,qihongtao,"Update volume update_timestamp_format

Uniform use TransformerBase._format_update_timestamp

Change-Id: Ic08907fc0fe7110ab7895e203eb9d8cf3d315423
"
openstack%2Fos-vif~master~I24a184abecdbfa1aec0de480540ca6ebcd68457f,openstack/os-vif,master,switch-dev-link,I24a184abecdbfa1aec0de480540ca6ebcd68457f,Fix - os-vif fails to get the correct UpLink Representor,ABANDONED,2020-08-19 06:00:49.000000000,2020-08-19 06:25:35.000000000,,14,3,0,746836,4dec42c9e20fc15bfa229410e9b20789a9457690,3,0,1,2,32296,Mamduh,Mamduh,"Fix - os-vif fails to get the correct UpLink Representor

Due to the new change in kerenl, the PF and VF representors are linked
to their parent PCI device, and so ""get_ifname_by_pci_address"" fails
to get the correct UpLink Representor.

This patch modifys the behviour of ""get_ifname_by_pci_address"" to
check the physical port name of the netdev in
vf_pci_addr_path/physfn/net to match the formart for the uplink ""p\d+"".

Change-Id: I24a184abecdbfa1aec0de480540ca6ebcd68457f
Closes-Bug: #1892132
"
openstack%2Fdiskimage-builder~master~Id9bd0d07fdc978f88148ea59de49f01fee5e7e5f,openstack/diskimage-builder,master,hiwkby-supports-fedora32-image,Id9bd0d07fdc978f88148ea59de49f01fee5e7e5f,Adds Fedora 32 support,ABANDONED,2020-08-15 02:34:11.000000000,2020-08-19 04:56:17.000000000,,20,15,0,746363,455326625c43a510750a571aa4a992b41d28a5c7,20,6,1,5,31737,Hirotaka Wakabayashi,hiwkby,"Adds Fedora 32 support

This patch will add support Fedora32 which was released on 2020-04-28.
Current supported releases of Fedora are Fedora31 and Fedora32. Please
see https://fedoraproject.org/wiki/Releases#Current_Supported_Releases

Change-Id: Id9bd0d07fdc978f88148ea59de49f01fee5e7e5f
"
openstack%2Fdiskimage-builder~master~I3dffe1aab4bbdc4946a9bf2269bf0cde49529a4e,openstack/diskimage-builder,master,gentoo-arm64-prep-work,I3dffe1aab4bbdc4946a9bf2269bf0cde49529a4e,update gentoo to allow building arm64 images,MERGED,2020-08-13 03:23:57.000000000,2020-08-19 04:36:45.000000000,2020-08-19 04:35:28.000000000,40,31,5,746000,bea81bd23465c8e88d83aa345161d7c5b56259d3,82,7,9,4,14288,Matthew Thode,prometheanfire,"update gentoo to allow building arm64 images

Adds:

1. grub-efi package mappings
2. efi-64 support
3. default (openrc) arm64 profile
4. systemd arm64 profile

Cleans up the keywords and use flags in 02-gentoo-02-flags.  Most stuff
was stablized.  Also cleaned up some formatting for the if statements.

Enables less trusted overlays (up to the end user to verify).

in 10-gentoo-image I cleaned up some bash lint things as well.
using && instead of -a and avoiding $?

Change-Id: I3dffe1aab4bbdc4946a9bf2269bf0cde49529a4e
"
openstack%2Fmanila~master~Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,openstack/manila,master,bug/1682694,Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,Add mod_wsgi configuration samples,MERGED,2017-11-23 02:53:57.000000000,2020-08-19 04:31:21.000000000,2020-08-12 12:53:56.000000000,56,1,28,522429,c1912b70f69bc59c1aaf047a556868d0e27e3518,113,21,13,3,25456,junboli,junboli,"Add mod_wsgi configuration samples

Extend docs on running manila API with a web server (Apache, NGINX)
Add samples for mod_wsgi

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6
"
openstack%2Fopenstack-helm-infra~master~I9bc1eb0173063638b2cf58465c063f602ed20bc1,openstack/openstack-helm-infra,master,,I9bc1eb0173063638b2cf58465c063f602ed20bc1,Add capabilitity to backup only a single database,MERGED,2020-08-13 16:47:04.000000000,2020-08-19 03:17:22.000000000,2020-08-19 03:16:15.000000000,126,66,2,746202,233197fc0b8f327c9dd61e03bbfc06a709d9135e,26,8,4,5,22636,Cliff Parsons,cliffparsons,"Add capabilitity to backup only a single database

This PS adds the capability to Mariadb and Postgresql to backup a
single database (as an optional parameter to the backup script).

Change-Id: I9bc1eb0173063638b2cf58465c063f602ed20bc1
"
openstack%2Fzaqar~master~I176e3876f2652608aaf51b0f74f4d971d31253e2,openstack/zaqar,master,bug/1890558,I176e3876f2652608aaf51b0f74f4d971d31253e2,Fix SSLError caused by not passing the cafile,MERGED,2020-08-06 09:17:42.000000000,2020-08-19 03:13:59.000000000,2020-08-19 03:12:53.000000000,7,3,0,745099,d4cece4b815a67132f7522fb2dd84a02b478756d,26,3,4,1,28367,Zijian Guo,ZijianGuo,"Fix SSLError caused by not passing the cafile

When tls is enabled, the cafile needs to be passed in the session.

Change-Id: I176e3876f2652608aaf51b0f74f4d971d31253e2
Closes-Bug: #1890558
Signed-off-by: ZijianGuo <guozijn@gmail.com>
"
openstack%2Fmanila~stable%2Fussuri~I8e68619b00255197b3d3cf6796c60d1a3a04ff36,openstack/manila,stable/ussuri,bug/1682694,I8e68619b00255197b3d3cf6796c60d1a3a04ff36,Add uWSGI configuration samples,MERGED,2020-08-17 17:17:56.000000000,2020-08-19 02:51:22.000000000,2020-08-19 02:49:37.000000000,101,0,0,746569,8f5d81586ead346c6cde995d7baf2910663f7211,11,5,1,4,16643,Goutham Pacha Ravi,gouthamr,"Add uWSGI configuration samples

Added some samples on uWSGI config and some docs
on how to run manila with uWSGI for contributors.

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: I8e68619b00255197b3d3cf6796c60d1a3a04ff36
(cherry picked from commit 7a1414977f1f1699b000ff04ed0e0d32853d1185)
"
openstack%2Ftripleo-common~master~If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,openstack/tripleo-common,master,kolla/uidgid,If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,(backward compatibility) create kolla UIDs/GIDs for TCIB,MERGED,2020-08-10 18:14:41.000000000,2020-08-19 02:22:22.000000000,2020-08-19 02:21:17.000000000,158,30,7,745575,fb0ec2ffd0a99d441c361bb83472e48ead18d013,80,11,18,30,3153,Emilien Macchi,emilienm,"(backward compatibility) create kolla UIDs/GIDs for TCIB

When upgrading container images from Kolla-based to TCIB-based, the
config files can't be read if we don't apply the new chown values unless
we re-use the same UIDs/GIDs as we had with Kolla; which is what we'll
do for now until we figure out an easy way to update config permissions
during the upgrade/update stage.

This introduces a new script, that will be injected in the base layer:

uid_gid_manage.sh

Usage:

./uid_gid_manage.sh qemu nova

It'll first create the qemu user/group, then nova user/group.
The format aims to be simple:

<username> <uid> <gid> <optional homedir> <optional list of extra groups>

It's also removing instances of usermod which aren't needed anymore;
since we create the user / groups only in the images where they are
needed; which wasn't the case for Kolla where all users/groups were
created in the base image.

Note: we create the user/group before installing packaging so if
packaging creates directories and sets permissions, it'll be with the
right UID/GID (unless packaging overrides UID/GID but rarely do it).

Related-Bug: #1890798

Change-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8,openstack/tripleo-upgrade,stable/train,,I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8,Iterate over all templates which need NW template migration.,MERGED,2020-08-13 15:42:06.000000000,2020-08-19 01:45:13.000000000,2020-08-19 01:45:13.000000000,33,31,0,746166,cd641bb86a541336ae481c73139beb53f23aba24,14,7,2,2,26343,Jose Luis Franco,jfrancoa,"Iterate over all templates which need NW template migration.

There is a bug with the logic that takes care of migrating the
NW templates from one version to another. As it is right now,
it was only performing the NW template migration of the last
file it found a Net::SoftwareConfig in. Causing issues if
more than one template from overcloud_deploy script contained.

This patch loops over all the outputs from nic_config_envs and
for each match it will run the script to migrate the templates.

Change-Id: I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8
(cherry picked from commit b4e8adab423f1cd9c464cdd955704ea50aaf40a7)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I2500200eba392888015796ec93623df089e8d31d,openstack/tripleo-heat-templates,stable/ussuri,ussuri/vars_from,I2500200eba392888015796ec93623df089e8d31d,Do not hard-code vars_from,MERGED,2020-08-18 06:16:00.000000000,2020-08-19 01:45:12.000000000,2020-08-19 01:45:12.000000000,0,2,0,746638,701841df54030ab8b36d1bdb970f81621d0062e9,12,8,1,1,28223,Cedric Jeanneret,cjeanner,"Do not hard-code vars_from

This break the ability to fix packages depending on the OS.

Change-Id: I2500200eba392888015796ec93623df089e8d31d
Closes-Bug: #1891465
Depends-On: https://review.opendev.org/746441
(cherry picked from commit 20131fd662071037e9aaae1960ac373675883f67)
"
openstack%2Fmanila~stable%2Fstein~I1a2c28548d02eee6632313a41a5c4d8ab6ad9532,openstack/manila,stable/stein,bug/1890372,I1a2c28548d02eee6632313a41a5c4d8ab6ad9532,Fix wrong capacity in pool_stat for DellEMC manila drivers.,MERGED,2020-08-17 01:56:56.000000000,2020-08-19 01:43:16.000000000,2020-08-19 00:12:18.000000000,69,19,4,746429,184f2a6817387cfd9d1d913e5f0cfe2fcf927e81,19,6,1,9,14624,Sam Wan,samwan,"Fix wrong capacity in pool_stat for DellEMC manila drivers.

DellEMC manila drivers have bugs in returning capacity in pool_stat.
The current powermax/vnx manila return size in MB and unity manila
returns size in bytes.

Change-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532
Closes-bug: #1890372
Closes-bug: #1890375
Closes-bug: #1890376
(cherry picked from commit 53f756d0650a815cbb9eeac2fa7bcfa2334c674a)
(cherry picked from commit ba00d1b9abe79a6569544f1b1f7f1587645f76c3)
(cherry picked from commit a6e3474d31785577b0872bfb67ba6a216d6ecf73)
"
openstack%2Ftrove-dashboard~stable%2Fussuri~I72f44bb891106c6fb6994e7b8481ab34c1e7d0dc,openstack/trove-dashboard,stable/ussuri,fix-stable/ussuri,I72f44bb891106c6fb6994e7b8481ab34c1e7d0dc,Do not use __nonzero__(),MERGED,2020-08-18 23:36:01.000000000,2020-08-19 01:11:46.000000000,2020-08-19 01:11:45.000000000,1,1,0,746818,274807e4eddd726ccd7adafb842e53c3de3d88c5,6,2,1,1,6732,Lingxian Kong,kong,"Do not use __nonzero__()

Change-Id: I72f44bb891106c6fb6994e7b8481ab34c1e7d0dc
"
openstack%2Fpuppet-openstack-integration~master~Iafe694a6cc4c90a4caecc9378a0db198dbab45ce,openstack/puppet-openstack-integration,master,,Iafe694a6cc4c90a4caecc9378a0db198dbab45ce,Include keystone::cache explicitly,MERGED,2020-08-18 12:46:21.000000000,2020-08-19 01:01:19.000000000,2020-08-19 01:01:19.000000000,1,0,0,746699,3b8dc67207d96b78d2df4dc2556433a63cf19820,7,3,1,1,16137,Tobias Urdin,tobasco,"Include keystone::cache explicitly

Change-Id: Iafe694a6cc4c90a4caecc9378a0db198dbab45ce
"
openstack%2Fpython-blazarclient~master~I8cc4f4ec7bf2af5bdfef37253801fd4c970b7977,openstack/python-blazarclient,master,,I8cc4f4ec7bf2af5bdfef37253801fd4c970b7977,Fix test_args2body_start_now unit test,MERGED,2020-08-18 10:07:51.000000000,2020-08-19 00:31:50.000000000,2020-08-19 00:31:50.000000000,4,4,0,746678,14846e19287540bdf7d8fbc1e6df23497d2fbf9b,8,3,1,1,15197,Pierre Riteau,priteau,"Fix test_args2body_start_now unit test

The test_args2body_start_now unit test started failing because the end
date was set to August 9, 2020 which is now in the past.

Change-Id: I8cc4f4ec7bf2af5bdfef37253801fd4c970b7977
"
openstack%2Ftrove-dashboard~master~I72f44bb891106c6fb6994e7b8481ab34c1e7d0dc,openstack/trove-dashboard,master,fix,I72f44bb891106c6fb6994e7b8481ab34c1e7d0dc,Do not use __nonzero__(),MERGED,2020-08-18 23:08:55.000000000,2020-08-18 23:45:48.000000000,2020-08-18 23:45:48.000000000,1,1,0,746814,d8334a1be76fa7abe54e9f6436545f496d597000,7,2,1,1,6732,Lingxian Kong,kong,"Do not use __nonzero__()

Change-Id: I72f44bb891106c6fb6994e7b8481ab34c1e7d0dc
"
openstack%2Fpython-cinderclient~stable%2Ftrain~I4f4468b23d04ecf74fb6347bfb518377127b563d,openstack/python-cinderclient,stable/train,,I4f4468b23d04ecf74fb6347bfb518377127b563d,Fix typo: dow -> down,MERGED,2020-08-05 08:44:55.000000000,2020-08-18 22:57:45.000000000,2020-08-18 22:56:33.000000000,1,1,0,744858,20607192afb4beca786599ea9d39780c9e1970e3,11,5,1,1,10459,Luigi Toscano,ltoscano,"Fix typo: dow -> down

Closes-Bug: #1883674
Change-Id: I4f4468b23d04ecf74fb6347bfb518377127b563d
(cherry picked from commit 718474a092192ea0034a8107b6947a10636a4a0a)
(cherry picked from commit f591104f5e707985f0297ee2edd7fdc1f72e341f)
"
openstack%2Frequirements~master~I896267fe3b49327a1ad54237b92a5e78491f0092,openstack/requirements,master,openstack/requirements/constraints/noclob,I896267fe3b49327a1ad54237b92a5e78491f0092,Updated from generate-constraints,MERGED,2020-08-17 06:22:22.000000000,2020-08-18 22:52:19.000000000,2020-08-18 22:51:08.000000000,7,7,2,746440,ed90da38869752602477b2ec39191f80620ce4e0,25,4,4,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I896267fe3b49327a1ad54237b92a5e78491f0092
"
openstack%2Fglance~master~I3571960bbfb4f8f0a716937b541f5b1594cd0e16,openstack/glance,master,bug/1891352,I3571960bbfb4f8f0a716937b541f5b1594cd0e16,Fix import failure status reporting when all_stores_must_succeed=True,MERGED,2020-08-12 16:53:06.000000000,2020-08-18 22:20:08.000000000,2020-08-18 22:18:43.000000000,39,9,8,745933,737dfca83c8d347ef22eab7afca4057ce5f03f20,34,6,4,3,4393,Dan Smith,danms,"Fix import failure status reporting when all_stores_must_succeed=True

As described in the referenced bug, if a store fails with
all_stores_must_succeed=True, we never add that store to the
failed list, nor remove it from the pending-import list, leaving a
polling client to wait forever. This fixes that by making the revert
handler of the import task do that if we are the one that failed.

Closes-Bug: #1891352
Change-Id: I3571960bbfb4f8f0a716937b541f5b1594cd0e16
"
openstack%2Fironic-python-agent-builder~master~I3658286ed05ab6ec35b945adc23e8166f5f72ada,openstack/ironic-python-agent-builder,master,update-ipa-job,I3658286ed05ab6ec35b945adc23e8166f5f72ada,Update name of ipa job,MERGED,2020-07-25 19:53:10.000000000,2020-08-18 21:59:29.000000000,2020-08-18 21:56:59.000000000,1,1,2,743043,089ec160139c9838a202595a03b7c1171f4bef59,12,4,1,1,23851,Riccardo Pittau,elfosardo,"Update name of ipa job

Depends-On: https://review.opendev.org/738442
Change-Id: I3658286ed05ab6ec35b945adc23e8166f5f72ada
"
openstack%2Ftripleo-docs~master~I4771b7de65a1485d49c9a5831a6ec1cb741ec1fe,openstack/tripleo-docs,master,tcib/backport,I4771b7de65a1485d49c9a5831a6ec1cb741ec1fe,Update the doc about 3rd party with recent changes,MERGED,2020-08-18 15:53:02.000000000,2020-08-18 21:31:51.000000000,2020-08-18 21:30:14.000000000,3,10,0,746752,b274b01594f3df1203cb65a73e1a92d5742b18ef,9,4,1,1,3153,Emilien Macchi,emilienm,"Update the doc about 3rd party with recent changes

We backported everything down to Train, let's make sure the manual
reflects it.

Change-Id: I4771b7de65a1485d49c9a5831a6ec1cb741ec1fe
"
openstack%2Ftripleo-docs~master~I05f8eda29d03adac948159418b0763c5f8b5ddec,openstack/tripleo-docs,master,,I05f8eda29d03adac948159418b0763c5f8b5ddec,Introduce a manual about TripleO core reviewers,MERGED,2020-07-30 15:13:20.000000000,2020-08-18 21:25:39.000000000,2020-08-18 21:24:15.000000000,119,0,35,743999,f00729894c0080a877ba2b797ad8c1beb57ed52b,36,16,2,2,3153,Emilien Macchi,emilienm,"Introduce a manual about TripleO core reviewers

For the first time, we now have a manual that describes the expectations
of our core reviewers and hopefully will help people to understand how
they can become core at some point.

Note: this was inspired by https://wiki.openstack.org/wiki/Ironic/CoreTeam
Thanks to the Ironic team for writting this.

Change-Id: I05f8eda29d03adac948159418b0763c5f8b5ddec
"
openstack%2Fnova~master~I23ac1cc79482d0fabb359486a4b934463854cae5,openstack/nova,master,bug/1842149,I23ac1cc79482d0fabb359486a4b934463854cae5,Allow TLS ciphers/protocols to be configurable for console proxies,MERGED,2019-08-30 19:33:34.000000000,2020-08-18 21:06:34.000000000,2020-02-24 17:27:02.000000000,141,10,69,679502,08bdcdb5b6866c2b6bf084344cca4dd07b960133,158,24,12,10,9098,Nathan Kinder,nkinder,"Allow TLS ciphers/protocols to be configurable for console proxies

The console proxies (VNC, SPICE, etc) currently don't allow the
allowed TLS ciphers and protocol versions to be configurable.  This
results in the defaults being used from the underlying system,
which may not be secure enough for many deployments.  This patch
allows for the ciphers and minimum SSL/TLS protocol version for
each console proxy to be configured in nova's config.

We utilize websockify underneath our console proxies, which added
support for allowed ciphers and the SSL/TLS version to be
configurable as of version 0.9.0.  This change updates the lower
constraint for this dependency.

Closes-Bug: #1842149
Related-Bug: #1771773
Change-Id: I23ac1cc79482d0fabb359486a4b934463854cae5
"
openstack%2Fpython-cloudkittyclient~master~I9bf0a8fbb7b4f22aa2f5b5ed0836d11cac27552b,openstack/python-cloudkittyclient,master,unittest.mock,I9bf0a8fbb7b4f22aa2f5b5ed0836d11cac27552b,Use unittest.mock instead of third party mock,MERGED,2020-04-18 16:57:57.000000000,2020-08-18 20:55:12.000000000,2020-08-18 20:53:53.000000000,4,4,0,720979,e69f9d54522446f53e029df53a7d17519e7fcc1b,14,8,1,4,11904,Sean McGinnis,SeanM,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I9bf0a8fbb7b4f22aa2f5b5ed0836d11cac27552b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I4bb86870fb7b565983c31d0181527593a4db6e93,openstack/releases,master,ipa-bugfix-630,I4bb86870fb7b565983c31d0181527593a4db6e93,Release ironic-python-agent 6.3.0 for victoria,MERGED,2020-08-12 15:41:46.000000000,2020-08-18 20:39:39.000000000,2020-08-18 20:39:39.000000000,6,0,0,745925,f838e8be541f237171ca2b6b8350519fce72b7ab,10,5,1,1,23851,Riccardo Pittau,elfosardo,"Release ironic-python-agent 6.3.0 for victoria

Change-Id: I4bb86870fb7b565983c31d0181527593a4db6e93
"
openstack%2Freleases~master~I3b592e363a3a85201c0913727f57b7798e6fcdf2,openstack/releases,master,ironic-bugfix-1520,I3b592e363a3a85201c0913727f57b7798e6fcdf2,Release ironic 15.2.0 for Victoria,MERGED,2020-08-13 08:33:03.000000000,2020-08-18 20:39:38.000000000,2020-08-18 20:39:38.000000000,6,0,0,746023,1a7789bc44266e062ab7f0b2f32fcc5dbc1be1d8,13,5,2,1,23851,Riccardo Pittau,elfosardo,"Release ironic 15.2.0 for Victoria

Change-Id: I3b592e363a3a85201c0913727f57b7798e6fcdf2
"
openstack%2Fcloudkitty~stable%2Fstein~Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84,openstack/cloudkitty,stable/stein,story/2006694-stable/stein,Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84,"Use ""interface"" option for monasca endpoint discovery",MERGED,2020-03-16 10:49:29.000000000,2020-08-18 20:35:47.000000000,2020-08-18 20:34:08.000000000,9,1,0,713186,f755c0a94b00488896a72ad6ddd7d2fa91ea4815,9,9,1,2,15197,Pierre Riteau,priteau,"Use ""interface"" option for monasca endpoint discovery

The ""interface"" option was ignored for endpoint discovery. This was leading to
unexpected behaviour.

Change-Id: Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84
Story: 2006694
Task: 36994
(cherry picked from commit cbb947ae0065f7d98ba48bd2a98d6ffd91a28ee8)
"
openstack%2Fcloudkitty~stable%2Ftrain~Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84,openstack/cloudkitty,stable/train,story/2006694-stable/train,Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84,"Use ""interface"" option for monasca endpoint discovery",MERGED,2020-03-16 10:49:07.000000000,2020-08-18 20:35:47.000000000,2020-08-18 20:34:03.000000000,9,1,0,713185,0bee4f5a35f962402ebdbde46cf6b8742b18d3d5,11,10,1,2,15197,Pierre Riteau,priteau,"Use ""interface"" option for monasca endpoint discovery

The ""interface"" option was ignored for endpoint discovery. This was leading to
unexpected behaviour.

Change-Id: Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84
Story: 2006694
Task: 36994
(cherry picked from commit cbb947ae0065f7d98ba48bd2a98d6ffd91a28ee8)
"
openstack%2Fcloudkitty-tempest-plugin~master~Ib55ee338e788fe9c529bdc0f12bc91899d6c8618,openstack/cloudkitty-tempest-plugin,master,stable-testing-tempest-plugins,Ib55ee338e788fe9c529bdc0f12bc91899d6c8618,Add stable branch jobs on the plugins master gate,MERGED,2020-05-05 22:16:32.000000000,2020-08-18 20:29:59.000000000,2020-08-18 20:29:59.000000000,24,0,0,725698,22a14659870b9286f136e12ebcd1eec781426572,7,3,1,1,8556,Ghanshyam,ghanshyam,"Add stable branch jobs on the plugins master gate

Supported stable branches in maintenance state
(stein, train, ussuri) use the Tempest and plugins master
version for their testing. To make sure master version (new
tests or any changes) is compatible with stable branch testing,
we need to add the stable branches job on the plugins master gate.
Tempest and many other plugins are already testing the stable
branches in same way[1].

Ussuri onwards, Tempest or plugins are py3 only, so we are
running only python3 version of stable jobs

Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

 [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646

Change-Id: Ib55ee338e788fe9c529bdc0f12bc91899d6c8618
"
openstack%2Fcloudkitty-specs~master~Ieeed99524a4de362392c90a872285a80c53c4b55,openstack/cloudkitty-specs,master,,Ieeed99524a4de362392c90a872285a80c53c4b55,Fix pygments style,MERGED,2020-05-20 03:24:16.000000000,2020-08-18 20:21:44.000000000,2020-08-18 20:20:18.000000000,1,1,0,729502,82c7083ac46b8144b213b2257088f7fb27b70433,11,3,2,1,31446,fuzihao,fuzihao,"Fix pygments style

New theme of docs (Victoria+) respects pygments_style.
Since we starts using Victoria reqs while being on Ussuri,
this patch ensures proper rendering both in Ussuri and Victoria.

Change-Id: Ieeed99524a4de362392c90a872285a80c53c4b55
"
openstack%2Fcloudkitty-tempest-plugin~master~Ia718139547f7435db3146fd8a9cb6f9a40185f52,openstack/cloudkitty-tempest-plugin,master,rm-testrconf,Ia718139547f7435db3146fd8a9cb6f9a40185f52,Remove .testr.conf,MERGED,2020-05-19 07:09:35.000000000,2020-08-18 20:19:19.000000000,2020-08-18 20:19:19.000000000,0,5,0,729143,cb676738caa2070907cbc4c372da9a335228a1c5,8,4,1,1,5689,Masayuki Igawa,igawa,"Remove .testr.conf

This commit removes .testr.conf since this repo already has
.stestr.conf. We just need .stestr.conf instead of .testr.conf.

Change-Id: Ia718139547f7435db3146fd8a9cb6f9a40185f52
"
openstack%2Fcloudkitty-tempest-plugin~master~I60c05d6978ac8e230bc661abaaefeae6e9d2f364,openstack/cloudkitty-tempest-plugin,master,,I60c05d6978ac8e230bc661abaaefeae6e9d2f364,Add py38 package metadata,MERGED,2020-05-28 03:29:50.000000000,2020-08-18 20:14:22.000000000,2020-08-18 20:14:22.000000000,1,0,0,731399,071edd581a7bc5f6649b8eb38ed3ecefe445b7a9,8,4,1,1,27565,inspurericzhang,inspurericzhang,"Add py38 package metadata

Change-Id: I60c05d6978ac8e230bc661abaaefeae6e9d2f364
"
openstack%2Fcloudkitty-tempest-plugin~master~I5628be1786bc098232db44d0b74b1b2d0b828bbd,openstack/cloudkitty-tempest-plugin,master,migrate-to-focal,I5628be1786bc098232db44d0b74b1b2d0b828bbd,migrate testing to ubuntu focal,MERGED,2020-07-09 20:19:09.000000000,2020-08-18 20:12:32.000000000,2020-08-18 20:12:32.000000000,4,0,0,740361,4ceb427d4f4c7645f368f7ac0c1b1443498344d8,10,6,2,1,8556,Ghanshyam,ghanshyam,"migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886296
Bump the pyflakes to 2.1.1 as min version to run pep8 jobs
on py3.8 which is default python vesion in ubuntu focal.

Story: #2007865
Task: #40180

Closes-Bug: #1886296
[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html

Change-Id: I5628be1786bc098232db44d0b74b1b2d0b828bbd
"
openstack%2Ftripleo-upgrade~stable%2Fussuri~I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8,openstack/tripleo-upgrade,stable/ussuri,,I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8,Iterate over all templates which need NW template migration.,MERGED,2020-08-18 16:17:37.000000000,2020-08-18 20:04:49.000000000,2020-08-18 20:04:49.000000000,33,31,0,746757,9100bba48c419ef106c87b9f0b8c8f85f06be809,7,2,1,2,6816,Jesse Pretorius,jesse-pretorius,"Iterate over all templates which need NW template migration.

There is a bug with the logic that takes care of migrating the
NW templates from one version to another. As it is right now,
it was only performing the NW template migration of the last
file it found a Net::SoftwareConfig in. Causing issues if
more than one template from overcloud_deploy script contained.

This patch loops over all the outputs from nic_config_envs and
for each match it will run the script to migrate the templates.

Change-Id: I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8
(cherry picked from commit b4e8adab423f1cd9c464cdd955704ea50aaf40a7)
"
openstack%2Ftripleo-validations~master~I1dfafed5ac75b0c52d6fd6ec48a43fbd4666c124,openstack/tripleo-validations,master,correct-helper,I1dfafed5ac75b0c52d6fd6ec48a43fbd4666c124,Correct role name in generated playbook,MERGED,2020-08-05 11:15:18.000000000,2020-08-18 20:04:47.000000000,2020-08-18 20:04:47.000000000,5,3,0,744886,9b6c8cf13a8f7d1e0097c84cc47a832c5d8ba61c,12,5,3,1,28223,Cedric Jeanneret,cjeanner,"Correct role name in generated playbook

Also ensure we don't collect facts by default.
Also ensure we get the right name for the playbook itself.

Change-Id: I1dfafed5ac75b0c52d6fd6ec48a43fbd4666c124
"
openstack%2Freleases~master~I218ebeb6a7659cc714c18720b35c8456c2f02bae,openstack/releases,master,victoria-cwi,I218ebeb6a7659cc714c18720b35c8456c2f02bae,Switch cloudkitty to cycle-with-rc,MERGED,2020-08-13 16:33:43.000000000,2020-08-18 19:54:40.000000000,2020-08-18 19:54:40.000000000,1,1,0,746190,3dbcdcd3eea893bec79e44edff2f680ab18453bd,8,3,1,1,11904,Sean McGinnis,SeanM,"Switch cloudkitty to cycle-with-rc

Deliverables following the cycle-with-intermediary model are expected
to release multiple times throughout the development cycle. Since
cloudkitty only released once last cycle, and has not done a
release yet this cycle, this proposes changing the release model to
cycle-with-rc so the expectation is only that it will release an RC by
the end of the cycle prior to doing the final release.

This is just a suggestion for the team to consider. The important point
is past the milestone-2 point, downstream planning starts happening
for what will be included in the release. We just want to try to avoid
the situation where downstream expects something to be included, but we
need to unexpectedly drop it from the coordinated release late in the
cycle.

For the team, please respond to this patch in one of the following ways:

* -1 this patch and follow up with an intermediary release
* +1 this patch and we will switch over the release model
* -1 this patch, but acknowledge a release will be done prior to the
  RC1 deadline.

Change-Id: I218ebeb6a7659cc714c18720b35c8456c2f02bae
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fmanila-tempest-plugin~master~I44f20a54fe7fdab821737e45db4cce1952720b60,openstack/manila-tempest-plugin,master,thin,I44f20a54fe7fdab821737e45db4cce1952720b60,[WIP] test_over_subscription_free_space_reporting,NEW,2020-08-17 12:49:47.000000000,2020-08-18 19:28:49.000000000,,36,3,7,746494,bbe576ebdde36e33b387ee47105097ef4c5676f7,9,5,2,2,30025,Vida Haririan,vhari,"[WIP] test_over_subscription_free_space_reporting

Change-Id: I44f20a54fe7fdab821737e45db4cce1952720b60
"
openstack%2Ftripleo-ci~master~Icdc41afbb212ff54d0f2ea3826bb213d48266d50,openstack/tripleo-ci,master,,Icdc41afbb212ff54d0f2ea3826bb213d48266d50,"DNM, wes Separate required-projects and roles from base jobs",ABANDONED,2020-08-18 12:17:29.000000000,2020-08-18 19:27:29.000000000,,80,41,0,746695,1627ce7244c7ab223eb31659a89848f8318944a7,5,3,2,3,9592,wes hayutin,weshayutin,"DNM, wes Separate required-projects and roles from base jobs

Keep required-projects and roles in separate parent
jobs so they can be shadowed downstream.

This will allow downstream to override required-projects
and roles while still parenting from upstream.

Change-Id: Icdc41afbb212ff54d0f2ea3826bb213d48266d50
"
openstack%2Foctavia~master~Ie5896e24bd58a13d22d3b34fc21238d8a4391f53,openstack/octavia,master,,Ie5896e24bd58a13d22d3b34fc21238d8a4391f53,DNM: Checking on what CPUs we are ending up with,ABANDONED,2020-05-19 22:02:38.000000000,2020-08-18 18:45:44.000000000,,6,0,0,729409,6b2b3694c3ebef811db8e96e2917b5bb94ae73a4,3,1,1,1,11628,Michael Johnson,johnsom,"DNM: Checking on what CPUs we are ending up with

This patch has the amphora agent log the cpuinfo from inside the
amphora instance. I want to know what CPU we end up with after the
layers of nested virtualization are done with us.

Change-Id: Ie5896e24bd58a13d22d3b34fc21238d8a4391f53
"
openstack%2Foctavia~master~I3511bc2cf1714be89322fa483640ef607a9bf435,openstack/octavia,master,,I3511bc2cf1714be89322fa483640ef607a9bf435,DNM: Testing the impact of mitigations on the jobs,ABANDONED,2020-05-19 22:57:39.000000000,2020-08-18 18:45:38.000000000,,2,0,0,729417,811b8f800da534d9f623517471333bfa810afa34,3,1,1,1,11628,Michael Johnson,johnsom,"DNM: Testing the impact of mitigations on the jobs

This patch adds kernel parameters to disable the CPU mitigations
to get an idea of the impact they are having on our test runs.

Change-Id: I3511bc2cf1714be89322fa483640ef607a9bf435
"
openstack%2Fneutron-lbaas~stable%2Fqueens~I6eab913c3af8354a4a10bf42d0cd58c2a5efebe1,openstack/neutron-lbaas,stable/queens,story/2001962,I6eab913c3af8354a4a10bf42d0cd58c2a5efebe1,"Revert ""Updated ""create_pool"" method in plugin""",ABANDONED,2019-02-28 19:32:22.000000000,2020-08-18 18:45:13.000000000,,7,5,0,640175,a6bdb3f32da78fecda4c27c5dfdd6b0a0e19c6dd,14,6,2,3,11628,Michael Johnson,johnsom,"Revert ""Updated ""create_pool"" method in plugin""

This reverts commit 00ed130cd74b41c1408ac60d9d9e528baee5b6cb.

This patch is causing failures on multiple drivers.

Change-Id: I6eab913c3af8354a4a10bf42d0cd58c2a5efebe1
"
openstack%2Fpython-cloudkittyclient~stable%2Fussuri~I95b0ba3ad5efc5284417ff51bbac2cb5baaea248,openstack/python-cloudkittyclient,stable/ussuri,create-ussuri,I95b0ba3ad5efc5284417ff51bbac2cb5baaea248,Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-04-11 18:49:18.000000000,2020-08-18 18:43:48.000000000,2020-08-18 18:41:20.000000000,1,1,0,719261,e90985ec4dcbefe742687bb6d78feb9644c46031,8,3,1,1,22816,OpenStack Release Bot,release,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I95b0ba3ad5efc5284417ff51bbac2cb5baaea248
"
openstack%2Fpython-cloudkittyclient~stable%2Fussuri~I62e76909500fd442ebe9149107039d40ca163f65,openstack/python-cloudkittyclient,stable/ussuri,create-ussuri,I62e76909500fd442ebe9149107039d40ca163f65,Update .gitreview for stable/ussuri,MERGED,2020-04-11 18:49:13.000000000,2020-08-18 18:42:42.000000000,2020-08-18 18:41:20.000000000,1,0,0,719257,5b5e02f3d1408c45c7e10d4e45f41db0a1b95e19,9,4,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/ussuri

Change-Id: I62e76909500fd442ebe9149107039d40ca163f65
"
openstack%2Fpython-tripleoclient~master~Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e,openstack/python-tripleoclient,master,RHBZ#1868910,Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e,Limit ip_version when resolving public_host and admin_host,MERGED,2020-08-18 08:13:53.000000000,2020-08-18 18:40:54.000000000,2020-08-18 18:18:56.000000000,11,7,0,746656,1fd42a85da98e356e85146a9afbec528584c600b,11,4,1,2,24245,Harald Jensås,harald.jensas,"Limit ip_version when resolving public_host and admin_host

Use the the local_ip config option to filter results to a single
ip version when resolving public_host and admin_host to ip
addresses.

When nameservers return result for both IPv4 and IPv6 we currently
fail, due to multiple IP's for the host.

Change-Id: Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e
Related-Bug: #1763776
Related: RHBZ#1868910
"
openstack%2Fpython-neutronclient~stable%2Fussuri~I76043ea43efe1c78ba9637876ed6a8b997b6d0ee,openstack/python-neutronclient,stable/ussuri,native-zuulv3-migration,I76043ea43efe1c78ba9637876ed6a8b997b6d0ee,zuul: native Zuul v3 version of the grenade job,MERGED,2020-08-13 07:45:02.000000000,2020-08-18 18:35:26.000000000,2020-08-18 18:32:27.000000000,13,81,0,746012,c3ee486ca28fea107c8ff085715172d9e4e44c06,9,3,1,3,10459,Luigi Toscano,ltoscano,"zuul: native Zuul v3 version of the grenade job

Also fix the name according the guidelines.
This job should really live inside neutron-lib.

Change-Id: I76043ea43efe1c78ba9637876ed6a8b997b6d0ee
(cherry picked from commit 097106d8fb557e85a93c696a8d64579034708f39)
"
openstack%2Fpaunch~stable%2Fussuri~If23ee1b5b0211221c0dd547e95a0487ea8d04909,openstack/paunch,stable/ussuri,,If23ee1b5b0211221c0dd547e95a0487ea8d04909,[USSURY-Only] Log benign command errors as warns,MERGED,2020-08-18 10:07:36.000000000,2020-08-18 18:25:08.000000000,2020-08-18 18:23:58.000000000,30,22,0,746677,861ed0612805c85fe84b9c836c32aaac3095ea38,9,6,1,2,6926,Bogdan Dobrelya,bogdando,"[USSURY-Only] Log benign command errors as warns

Errors logged when an image/container was not found are misleading and
should become warnings instead. Only log errors for real execution
failures.

Change-Id: If23ee1b5b0211221c0dd547e95a0487ea8d04909
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Foctavia~master~I16bff7fc1a1359f8c34f4e154aa6dd29a5dd7a9b,openstack/octavia,master,,I16bff7fc1a1359f8c34f4e154aa6dd29a5dd7a9b,Clarify the current status of Octavia in README,MERGED,2020-07-20 16:37:40.000000000,2020-08-18 18:23:21.000000000,2020-08-18 18:20:46.000000000,11,11,0,741988,9097c575c05997586bf15c8f46750c74694f04cb,14,4,2,2,11628,Michael Johnson,johnsom,"Clarify the current status of Octavia in README

There was some legacy (neutron-lbaas) language in the README.rst
file for Octavia. This patch updates that and highlights the API
version status documentation.

Change-Id: I16bff7fc1a1359f8c34f4e154aa6dd29a5dd7a9b
"
openstack%2Foctavia~master~I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba,openstack/octavia,master,,I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba,Set amphora-agent build-only packages,MERGED,2020-08-11 14:30:52.000000000,2020-08-18 18:22:01.000000000,2020-08-18 18:20:44.000000000,7,7,0,745683,fa1c5ef6dd15ce81c4a169307b7ab9970e9052d2,9,3,2,2,6469,Carlos Gonçalves,cgoncalves,"Set amphora-agent build-only packages

A recent change in DIB [1] broke our CentOS 8 amphora image builds only
because we've not been handling package dependencies propertly.

The DIB change now installs package ""python3"" which provides
/usr/bin/python3 and is a requirement of scripts in later build phases.
It so happens that we are removing package ""python3-pip"", a dependency
of ""python36"" too early so builds fail when bin python3 is required.

DIB package-installs element provides property ""build-only"". When set,
it will cause packages to be added both to the list of packages
installed and list of packages to be uninstalled. This allows expressing
build-time dependencies that should not end up in the final image as is
the case of packages like ""build-essential"" and ""libffi-dev"" in our
amphora-agent element.

As for the removal of Git, we do not explicitely install it so we should
not uninstall it either. Git is a fake dependency of source-repositories
element and will be abstent in the final image with [2].

[1] https://review.opendev.org/#/c/741868/
[2] https://review.opendev.org/#/c/745678/

Depends-On: https://review.opendev.org/#/c/745678/

Change-Id: I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba
"
openstack%2Frally-openstack~master~I9cf673fc63cc4e1f14bfc8def034e7b2b28c2918,openstack/rally-openstack,master,neutron_pre_liberty,I9cf673fc63cc4e1f14bfc8def034e7b2b28c2918,Extend api_info section of env spec with pre_mitaka neutron cfg,MERGED,2020-08-17 14:48:00.000000000,2020-08-18 18:10:55.000000000,2020-08-18 18:10:54.000000000,167,43,0,746522,57614a0d7e7815ce0b77a6b5e4ec97c3635d51f9,12,2,5,10,9545,Andrey Kurilin,akurilin,"Extend api_info section of env spec with pre_mitaka neutron cfg

Change-Id: I9cf673fc63cc4e1f14bfc8def034e7b2b28c2918
"
openstack%2Fnova~master~Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81,openstack/nova,master,bp/six-removal,Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81,Remove six.reraise,MERGED,2020-05-11 16:23:25.000000000,2020-08-18 18:02:01.000000000,2020-08-18 17:58:21.000000000,34,47,16,726898,2c074b9486ed8c2e1fd17b958bf4d2a26517509b,256,15,24,9,7634,Takashi Natsume,natsumet,"Remove six.reraise

Replace six.reraise with Python 3 style code.
Subsequent patches will replace other six usages.

Change-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81
Implements: blueprint six-removal
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
"
openstack%2Fnova~master~Iccce0ab50eee515e533ab36c8e7adc10cb3f7019,openstack/nova,master,bp/six-removal,Iccce0ab50eee515e533ab36c8e7adc10cb3f7019,Remove six.PY2 and six.PY3,MERGED,2020-05-09 09:54:42.000000000,2020-08-18 18:00:22.000000000,2020-08-18 17:58:04.000000000,52,194,3,726512,28ed0c5c9a7572c002e520685bed60ccc706175b,271,16,23,26,7634,Takashi Natsume,natsumet,"Remove six.PY2 and six.PY3

Remove six.PY2 and six.PY3.
Subsequent patches will replace other six usages.

Change-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019
Implements: blueprint six-removal
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
"
openstack%2Fglance~master~I992a14abb7cb41e2472741bf08b93976d4320ace,openstack/glance,master,bug/1891352,I992a14abb7cb41e2472741bf08b93976d4320ace,Functional reproducer for bug 1891352,MERGED,2020-08-12 16:53:06.000000000,2020-08-18 17:59:48.000000000,2020-08-18 17:58:27.000000000,11,0,0,745932,ec372377b1e69eb143e4d08b0041b8199459ee15,11,4,2,1,4393,Dan Smith,danms,"Functional reproducer for bug 1891352

This reproduces the behavior described in the referenced bug, showing
the behavior before the fix. This asserts the *broken* behavior and leaves
examples of what the asserts should be for the fix patch.

Partial-Bug: #1891352

Change-Id: I992a14abb7cb41e2472741bf08b93976d4320ace
"
openstack%2Fnova~master~Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272,openstack/nova,master,bp/six-removal,Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272,Remove six.add_metaclass,MERGED,2020-05-10 03:10:53.000000000,2020-08-18 17:58:12.000000000,2020-08-18 17:58:12.000000000,18,51,0,726565,5191b4f2f00018d0273bedbc55c8a88087a25871,339,16,22,16,7634,Takashi Natsume,natsumet,"Remove six.add_metaclass

Replace six.add_metaclass with Python 3 style code.

Change-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272
Implements: blueprint six-removal
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
"
openstack%2Fansible-config_template~master~Ie0c588a2d559bd38c68b3d018e547a036d83214c,openstack/ansible-config_template,master,,Ie0c588a2d559bd38c68b3d018e547a036d83214c,Fix section overrides when commented option persist,MERGED,2020-07-30 17:18:18.000000000,2020-08-18 17:43:16.000000000,2020-08-18 17:41:54.000000000,11,12,0,744023,ea07ed008fe896b8c9812bd14785dbfa4fca0679,14,4,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix section overrides when commented option persist

In cases, when key already exist, but commented out without space
(ie ""#key) and is not in default section, it's not updated with
sectdict.insert statement. That is possible happens because
self._sections keys are protected and can't be overwritten (at least
new assignment makes no difference)

Change-Id: Ie0c588a2d559bd38c68b3d018e547a036d83214c
Closes-Bug: #1889547
"
openstack%2Fpuppet-oslo~stable%2Fussuri~I8ff8886b65a323a65dd0ff9d01066c82a4116f8d,openstack/puppet-oslo,stable/ussuri,trivial-stable/ussuri,I8ff8886b65a323a65dd0ff9d01066c82a4116f8d,Remove release note file in wrong path,MERGED,2020-08-18 14:34:44.000000000,2020-08-18 17:27:02.000000000,2020-08-18 17:27:02.000000000,0,6,0,746739,5fa0fca1bee859ff31357c7f0df50ee4d9b73145,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Remove release note file in wrong path

This patch removes the release note file which was added into wrong
path in an old commit[1].
The removed relesae note file is not added into releasenote directory
to avoid confusion by a note associated with wrong release.

[1] 0f617ce27a99260ee03627b1fbde461a687718dc

Change-Id: I8ff8886b65a323a65dd0ff9d01066c82a4116f8d
(cherry picked from commit 064edacff36d949ebdd304bd404a5fdcff1f8981)
"
openstack%2Ftrove~stable%2Fussuri~I81273f2be8379a908cc88f7b469f8bd5246d3a33,openstack/trove,stable/ussuri,Story: 2007758,I81273f2be8379a908cc88f7b469f8bd5246d3a33,Update OpenSSL encrypt/decrypt cmd for backup/restore,NEW,2020-08-01 09:52:01.000000000,2020-08-18 17:18:37.000000000,,45,18,4,744281,c7ac01a1744f11d69f413bdf28d76b3a9419b661,17,2,8,4,32261,Cong Tran,congtt,"Update OpenSSL encrypt/decrypt cmd for backup/restore

Update Openssl (Openssl 1.1.1, Ubuntu 18.04) encrypt/decrypt cmd for backup/restore.

Story: #2007758
Change-Id: I81273f2be8379a908cc88f7b469f8bd5246d3a33
"
openstack%2Fneutron~master~I6544d4a0794944abb3e1c2ff89134bf313cf35e8,openstack/neutron,master,bug/1671448,I6544d4a0794944abb3e1c2ff89134bf313cf35e8,Allow RBAC on Neutron quotas,MERGED,2017-09-26 09:25:34.000000000,2020-08-18 16:59:51.000000000,2020-08-18 16:57:41.000000000,89,16,5,507446,c9242f9a889f4d69653de4d21bec6060f549ee7b,115,21,14,4,22072,Viktor Křivák,viktor-krivak,"Allow RBAC on Neutron quotas

This patch adds the support to allow role based access control
on quota of resources.

Change-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8
Closes-Bug: #1671448
"
openstack%2Fpuppet-openstack-integration~master~I3141d8aeeb0a4b50daf8b7e4d5007d8bb0aedc95,openstack/puppet-openstack-integration,master,keystone-token_flush,I3141d8aeeb0a4b50daf8b7e4d5007d8bb0aedc95,Do not use keystone::cron::token_flush,MERGED,2020-08-18 11:04:40.000000000,2020-08-18 16:44:46.000000000,2020-08-18 16:44:46.000000000,0,1,0,746685,8039424c838e44030889a959af1b9996e852b208,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Do not use keystone::cron::token_flush

... because the class has been already deprecated[1].

[1] fd8badd39c04ca49ca4c49a6ce7cef26349d3960

Change-Id: I3141d8aeeb0a4b50daf8b7e4d5007d8bb0aedc95
"
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I660b4f5bc3e0bd9ad59746df28837f39176c55af,openstack/puppet-openstack-integration,stable/ussuri,centos8-beaker-stable/ussuri,I660b4f5bc3e0bd9ad59746df28837f39176c55af,Use Ceph nautilus in CentOS8,MERGED,2020-08-18 12:57:25.000000000,2020-08-18 16:43:12.000000000,2020-08-18 16:43:12.000000000,8,0,0,746709,8bf196d9ffe6abe1ed7bcdcb5d6ca3af4124edf2,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Use Ceph nautilus in CentOS8

... because there are no available builds of Ceph mimic for CentOS8,
in RDO/CentOS repos.

Change-Id: I660b4f5bc3e0bd9ad59746df28837f39176c55af
(cherry picked from commit d04fb319e637eb5c1ca39132acb54f7b3c347330)
"
openstack%2Fneutron~master~I7a158173252e73e081914f242133634c41de7999,openstack/neutron,master,ovn/port_forwarding,I7a158173252e73e081914f242133634c41de7999,[ovn]: port forwarding -- feature support under ovn_db_sync,MERGED,2020-07-29 14:32:14.000000000,2020-08-18 16:40:02.000000000,2020-08-18 16:37:22.000000000,244,4,0,743772,361b4853180b84b1d8ba38a6967de4c254aacb0c,90,13,13,4,11952,Flavio Fernandes,ffernand,"[ovn]: port forwarding -- feature support under ovn_db_sync

This is a subset of the changes for implementing the floating IP
port forwarding feature in neutron, using OVN as the backend.

This changeset updates ovn_db_sync utility and its tests to
ensure that floating ip port forwarding can be repaired.

Depends-On: https://review.opendev.org/#/c/741303/
Change-Id: I7a158173252e73e081914f242133634c41de7999
Partially-implements: ovn/port_forwarding
Partial-Bug: #1877447
"
openstack%2Fopenstack-helm-infra~master~Idd704fd880f56137923d4c38cc188b130ee3b56d,openstack/openstack-helm-infra,master,,Idd704fd880f56137923d4c38cc188b130ee3b56d,Ingress: Configure Default SSL Certificate,MERGED,2020-08-14 14:27:58.000000000,2020-08-18 16:39:01.000000000,2020-08-18 16:36:39.000000000,55,0,0,746326,341e9b29dff9452105ee1443e6e47b6377c8db47,11,7,1,3,28719,Phil Sphicas,ps3910,"Ingress: Configure Default SSL Certificate

Adds configuration options for the --default-ssl-certificate feature of
NGINX Ingress Controller, which provides a default certificate for
requests that do not match any configured server names.[0]

To enable with a new certificate, specify:
  .conf.default_ssl_certificate.enabled=true
  .endpoints.ingress.host_fqdn_override.public.tls.crt=""PEM cert data""
  .endpoints.ingress.host_fqdn_override.public.tls.key=""PEM key data""
  .manifests.secret_ingress_tls=true

To enable using a TLS cert in an existing secret, specify:
  .conf.default_ssl_certificate.enabled=true
  .conf.default_ssl_certificate.name=""name of the secret""
  .conf.default_ssl_certificate.namespace=""namespace of the secret""

0: https://kubernetes.github.io/ingress-nginx/user-guide/tls/#default-ssl-certificate

Change-Id: Idd704fd880f56137923d4c38cc188b130ee3b56d
"
openstack%2Ftripleo-ci~master~I51c948fbdfa65cb74859165c87793ed5b2a5b8ce,openstack/tripleo-ci,master,16.2,I51c948fbdfa65cb74859165c87793ed5b2a5b8ce,Add container excludes for rhos-16.2 builds,MERGED,2020-07-31 13:18:14.000000000,2020-08-18 16:31:14.000000000,2020-08-18 16:31:14.000000000,1,0,1,744166,fad204da7a1e07d63d2cbc8daaa9b770d36b2bbf,32,11,5,1,9976,Ronelle Landy,rlandy,"Add container excludes for rhos-16.2 builds

Since rhos-16.2 is a downstream train import, this
review puts the same excludes in rhos 16.2 container
builds as are referenced in train.

Depends-On: https://review.opendev.org/#/c/746633/

Change-Id: I51c948fbdfa65cb74859165c87793ed5b2a5b8ce
"
openstack%2Fdevstack~stable%2Ftrain~I0ba1fd05c6391cd8bb978119ecfbb891def2d497,openstack/devstack,stable/train,move-stackviz-role,I0ba1fd05c6391cd8bb978119ecfbb891def2d497,Move process-stackviz role from Tempest to Devstack,MERGED,2020-06-19 20:32:43.000000000,2020-08-18 16:27:41.000000000,2020-08-18 16:25:58.000000000,95,0,0,737076,d377574486f21b1ca2a67e31bcf359afab7c6263,11,4,2,3,8556,Ghanshyam,ghanshyam,"Move process-stackviz role from Tempest to Devstack

process-stackviz role currently defined in Tempest repo[1] and used
in tempest jobs. Issue with having it in branchless Tempest is that any
fix in that role cannot be backported to older Tempest. Also stackviz is
not Tempest things it is only used by Tempest jobs.

Stackviz can be considered as a service similar to Tempest so inatlling it in
Devstack side make sense. Also that will give us advantage to handle the
branch specific fixes or backpoting the fixes.

This can solve the current issues we are facing on rocky branch
- https://zuul.opendev.org/t/openstack/build/c1e2da80537448bfb24331fb4198a931/console#4/0/29/controller

[1] https://opendev.org/openstack/tempest/src/branch/master/roles/process-stackviz

Change-Id: I0ba1fd05c6391cd8bb978119ecfbb891def2d497
"
openstack%2Fdevstack~stable%2Fstein~I0ba1fd05c6391cd8bb978119ecfbb891def2d497,openstack/devstack,stable/stein,move-stackviz-role,I0ba1fd05c6391cd8bb978119ecfbb891def2d497,Move process-stackviz role from Tempest to Devstack,MERGED,2020-06-19 20:33:25.000000000,2020-08-18 16:27:35.000000000,2020-08-18 16:25:59.000000000,95,0,0,737077,db067935bc0142b5b257d1a2b806ae5202b84cc8,10,4,1,3,8556,Ghanshyam,ghanshyam,"Move process-stackviz role from Tempest to Devstack

process-stackviz role currently defined in Tempest repo[1] and used
in tempest jobs. Issue with having it in branchless Tempest is that any
fix in that role cannot be backported to older Tempest. Also stackviz is
not Tempest things it is only used by Tempest jobs.

Stackviz can be considered as a service similar to Tempest so inatlling it in
Devstack side make sense. Also that will give us advantage to handle the
branch specific fixes or backpoting the fixes.

This can solve the current issues we are facing on rocky branch
- https://zuul.opendev.org/t/openstack/build/c1e2da80537448bfb24331fb4198a931/console#4/0/29/controller

[1] https://opendev.org/openstack/tempest/src/branch/master/roles/process-stackviz

Change-Id: I0ba1fd05c6391cd8bb978119ecfbb891def2d497
"
openstack%2Fopenstack-helm-infra~master~I3b3ed5ceaf420aa39a669b4a50a838ad154b1fdd,openstack/openstack-helm-infra,master,,I3b3ed5ceaf420aa39a669b4a50a838ad154b1fdd,Remove remaining test pods before new test run,MERGED,2020-06-05 10:00:50.000000000,2020-08-18 16:22:26.000000000,2020-08-18 16:21:00.000000000,69,0,4,733802,a57190fd8acc6ceaeb268aa3b544f1082345da3a,17,8,4,29,31479,Gayathri Devi Kathiri,gayathri,"Remove remaining test pods before new test run

If the test pod still exists, then the new test run
fails with ERROR: pods ""abc-test"" already exists

So, Removing remaining test pods before new test run

Change-Id: I3b3ed5ceaf420aa39a669b4a50a838ad154b1fdd
Closes-Bug: #1882030
"
openstack%2Fopenstack-ansible~stable%2Fussuri~Id219ccb227485ffaf4b2cad36e8100672137c1d7,openstack/openstack-ansible,stable/ussuri,bind-to-mgmt-stable/ussuri,Id219ccb227485ffaf4b2cad36e8100672137c1d7,Install required modules for utility env,MERGED,2020-08-14 20:51:02.000000000,2020-08-18 16:19:51.000000000,2020-08-18 16:17:33.000000000,4,1,0,746348,31048d1d7fbb4929d089bc9edbb7f97b2f8430bf,26,3,3,2,25023,Jonathan Rosser,jrosser,"Install required modules for utility env

Since we delegate image uplaod to the utility venv, we also need to
have selinux package, otherwise file download and some of the operations
may fail

Change-Id: Id219ccb227485ffaf4b2cad36e8100672137c1d7
Needed-By: https://review.opendev.org/746302
(cherry picked from commit 93c242c1bedb4446b093efad3e11ab9ecda860bf)
"
openstack%2Ftripleo-upgrade~master~I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8,openstack/tripleo-upgrade,master,,I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8,Iterate over all templates which need NW template migration.,MERGED,2020-08-17 13:32:32.000000000,2020-08-18 16:17:37.000000000,2020-08-18 15:20:07.000000000,33,31,0,746507,b4e8adab423f1cd9c464cdd955704ea50aaf40a7,8,5,1,2,26343,Jose Luis Franco,jfrancoa,"Iterate over all templates which need NW template migration.

There is a bug with the logic that takes care of migrating the
NW templates from one version to another. As it is right now,
it was only performing the NW template migration of the last
file it found a Net::SoftwareConfig in. Causing issues if
more than one template from overcloud_deploy script contained.

This patch loops over all the outputs from nic_config_envs and
for each match it will run the script to migrate the templates.

Change-Id: I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I2484fa536a5ed4d88df7662aa2d724e44acd3dd7,openstack/tripleo-ansible,stable/train,fixc7,I2484fa536a5ed4d88df7662aa2d724e44acd3dd7,Install pytest-xdist<2.0.0 for c7 jobs,MERGED,2020-08-18 12:55:04.000000000,2020-08-18 16:11:30.000000000,2020-08-18 16:11:30.000000000,5,3,0,746706,9147d636d6dff5eb9b1662f220f60755b4e6260e,25,7,8,2,12393,chandan kumar,chkumar246,"Install pytest-xdist<2.0.0 for c7 jobs

pytest-xdist 2.0.0 is released recently and which pulls psutils
which is failed to install on C7.
https://pypi.org/project/pytest-xdist/2.0.0/

Installing pytest-xdist < 2.0.0 fixes the issue.

It also fixes the package name of tripleo-repos.
Add mode 0644.

Change-Id: I2484fa536a5ed4d88df7662aa2d724e44acd3dd7
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fdevstack~stable%2Fussuri~I0ba1fd05c6391cd8bb978119ecfbb891def2d497,openstack/devstack,stable/ussuri,move-stackviz-role,I0ba1fd05c6391cd8bb978119ecfbb891def2d497,Move process-stackviz role from Tempest to Devstack,MERGED,2020-06-19 20:32:32.000000000,2020-08-18 15:46:58.000000000,2020-08-18 15:45:04.000000000,95,0,0,737075,cd083d519cb93f21a09deebeef7770f5fda80099,11,4,1,3,8556,Ghanshyam,ghanshyam,"Move process-stackviz role from Tempest to Devstack

process-stackviz role currently defined in Tempest repo[1] and used
in tempest jobs. Issue with having it in branchless Tempest is that any
fix in that role cannot be backported to older Tempest. Also stackviz is
not Tempest things it is only used by Tempest jobs.

Stackviz can be considered as a service similar to Tempest so inatlling it in
Devstack side make sense. Also that will give us advantage to handle the
branch specific fixes or backpoting the fixes.

This can solve the current issues we are facing on rocky branch
- https://zuul.opendev.org/t/openstack/build/c1e2da80537448bfb24331fb4198a931/console#4/0/29/controller

[1] https://opendev.org/openstack/tempest/src/branch/master/roles/process-stackviz

Change-Id: I0ba1fd05c6391cd8bb978119ecfbb891def2d497
"
openstack%2Ftripleo-ansible~master~I5bced3b91e4fa3568185e2bbc85c0a000182394e,openstack/tripleo-ansible,master,bug/1846791,I5bced3b91e4fa3568185e2bbc85c0a000182394e,Wait for node to be unlocked before provide,MERGED,2020-08-13 22:35:55.000000000,2020-08-18 15:38:23.000000000,2020-08-18 15:38:23.000000000,14,2,0,746234,99b06ea3a2e419702349b5605572747dfe9131fd,11,4,2,1,4571,Steve Baker,steve-stevebaker,"Wait for node to be unlocked before provide

This change reduces the risk of provide having a lock timeout by
waiting for existing node locks to be released before starting the
provide.

Ansible based provide may not be affected by bug #1846791 because
power-down happens after the provide, not before. However waiting for
locks to be released is recommended practice, and doing it here may
improve reliability.

Change-Id: I5bced3b91e4fa3568185e2bbc85c0a000182394e
Closes-Bug: #1846791
"
openstack%2Ftripleo-ci~master~I245a4dba477b42aedce419e45e726dec817cd572,openstack/tripleo-ci,master,,I245a4dba477b42aedce419e45e726dec817cd572,Remove pprint from test-requirements.txt,MERGED,2020-08-18 05:59:14.000000000,2020-08-18 15:35:01.000000000,2020-08-18 15:35:01.000000000,0,1,0,746633,41aafa02d770d8bb0fad9f49f0a511650f3c7649,9,4,2,1,12393,chandan kumar,chkumar246,"Remove pprint from test-requirements.txt

pprint is a python standard library shipped with the python
itself. There is no package available on pypi and not used
within tripleo-ci codebase. So removing it.

If third party deps is using it, it will be consumed from
Python3 standard library.

Closes-Bug: #1891971

Change-Id: I245a4dba477b42aedce419e45e726dec817cd572
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Ftripleo-quickstart-extras~master~I367cf4b65300be8dca0190b9adeab549018d4a56,openstack/tripleo-quickstart-extras,master,standalone-vip,I367cf4b65300be8dca0190b9adeab549018d4a56,Pass proper VIPs on Standalone,MERGED,2020-05-06 08:25:34.000000000,2020-08-18 15:19:20.000000000,2020-08-18 15:19:20.000000000,7,1,5,725782,63c1365d94b2246a0be8580026aff001e6d8fce8,158,14,31,2,20172,Michele Baldessari,michele,"Pass proper VIPs on Standalone

With HA being the default we should now specify the VIPs as well.
This way pacemaker will create the separate VIP and haproxy will listen
to it and we won't have both haproxy and the service itself listening to
the same port on the same IP.

Note: that we tried to make this work without creating a VIP at all and
having haproxy's backend services listen to localhost only and leave
haproxy to listen on the standalone IP, but this quickly became
impossible to make it work due to how things are coded in a number
of places (bootstrap hostname checks, pacemaker properties,etc.)

Related-Bug: #1889395

Change-Id: I367cf4b65300be8dca0190b9adeab549018d4a56
"
openstack%2Ftripleo-heat-templates~master~I2663bc9154846cc4642c3a030be0c57df4f25e1b,openstack/tripleo-heat-templates,master,,I2663bc9154846cc4642c3a030be0c57df4f25e1b,Use sensible defaults for novnc TLS minimum versions and ciphers,MERGED,2020-08-03 16:48:20.000000000,2020-08-18 15:19:20.000000000,2020-08-11 03:34:03.000000000,12,3,4,744526,e1d2ece7858bb03a00ee2412b8044e3ab34d7202,19,10,2,1,5046,Lance Bragstad,ldbragst,"Use sensible defaults for novnc TLS minimum versions and ciphers

We recently introduced a change that allowed operators to pass novnc TLS
cipher parameters to puppet-nova:

  https://review.opendev.org/#/c/723920/10

Unfortunately, the default values for NovaVNCProxySSLCiphers and
NovaVNCProxySSLMinimumVersion conflict with puppet-nova and causes TLS-e
deployments to fail with the following error during the overcloud
deployment:

  /var/log/containers/nova/nova-novncproxy.log:2020-08-03 04:45:41.120 8
  ERROR nova oslo_config.cfg.ConfigFileValueError: Value for option
  ssl_minimum_version from LocationInfo(location=<Locations.user: (4,
  True)>, detail='/etc/nova/nova.conf') is not valid: Valid values are
  [default, tlsv1_1, tlsv1_2, tlsv1_3], but found ''

This is because the values don't match what puppet-nova is expecting and
it causes the containers to fail.

This commit attempts to add some resonable defaults in THT that align
more closely with the puppet-nova defaults. It also only sets the
ciphers if they're set by the end user.

Change-Id: I2663bc9154846cc4642c3a030be0c57df4f25e1b
"
openstack%2Fcinder~master~If4dfe5170f061ab2fa89b486ca1d09f5e719a679,openstack/cinder,master,extra-reqs,If4dfe5170f061ab2fa89b486ca1d09f5e719a679,Fix dfs-sdk package name in extra reqs,MERGED,2020-05-08 11:08:27.000000000,2020-08-18 15:10:33.000000000,2020-08-18 02:36:39.000000000,3,1,0,726336,a32c1e1552f859a3e145043dea20ebb967471acc,71,32,1,1,11904,Sean McGinnis,SeanM,"Fix dfs-sdk package name in extra reqs

This was causing a requirements repo cleanup script to not recognize the
package was in use.

Also adds a few missed extra packages to the All extra section.

Change-Id: If4dfe5170f061ab2fa89b486ca1d09f5e719a679
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263,openstack/tripleo-ansible,stable/ussuri,network-config-role-stable/ussuri,Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263,Create a role for network config,MERGED,2020-08-17 20:20:23.000000000,2020-08-18 14:52:26.000000000,2020-08-18 14:48:56.000000000,372,1,0,746597,35a02bf184548b444fd5a70ef8f633fcb011e5b8,9,5,1,9,3153,Emilien Macchi,emilienm,"Create a role for network config

Port the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role
that we can molecule test and improve.

Change-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263
(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)
"
openstack%2Fpuppet-tripleo~master~I6816d414409da3748b2e341ec05ebcad86ad8fd1,openstack/puppet-tripleo,master,bug/1888398,I6816d414409da3748b2e341ec05ebcad86ad8fd1,Make sure python3-novaclient is installed before creating fence_compute,MERGED,2020-07-15 14:51:17.000000000,2020-08-18 14:46:59.000000000,2020-07-30 16:16:31.000000000,8,2,3,741231,c1e9447998c635a825529cff99b99ed13a4e89d7,21,9,3,1,20172,Michele Baldessari,michele,"Make sure python3-novaclient is installed before creating fence_compute

This has been observed during an IHA FFU process. Namely
after the OS upgrade by LEAPP the fence_compute resource will
fail starting because python3-novaclient is not installed.
Normally this is taken care of by rpm dependencies, but
fence_compute is buggy and does not explicitely have that
dep (https://bugzilla.redhat.com/show_bug.cgi?id=1857247)

So we need to make sure the package is installed before
creating the resource.

Tested this on four consecutive successful IHA FFU runs
and it worked okay.

Related-Bug: #1888398

Change-Id: I6816d414409da3748b2e341ec05ebcad86ad8fd1
"
openstack%2Fironic~stable%2Ftrain~I59bad3d8969cc8374d1436b91b32a21b38ca8d69,openstack/ironic,stable/train,drives_conversion-stable/train,I59bad3d8969cc8374d1436b91b32a21b38ca8d69,DRAC: Drives conversion from raid to jbod,MERGED,2020-06-29 20:55:30.000000000,2020-08-18 14:40:07.000000000,2020-08-18 14:37:41.000000000,83,41,1,738508,a4f86d8e8b4ae8e6e75c83f396805910b4d6fac5,14,7,1,3,21909,Bob Fournier,bfournie,"DRAC: Drives conversion from raid to jbod

Added physical drives conversion from RAID to JBOD
mode after RAID delete_configuration cleaning step called
in iDRAC driver.

Change-Id: I59bad3d8969cc8374d1436b91b32a21b38ca8d69
Story: 2006234
Task: 35835
(cherry picked from commit f772e86580505881bfa513904f8e79edae3f400b)
"
openstack%2Fpuppet-oslo~master~I8ff8886b65a323a65dd0ff9d01066c82a4116f8d,openstack/puppet-oslo,master,trivial,I8ff8886b65a323a65dd0ff9d01066c82a4116f8d,Remove release note file in wrong path,MERGED,2020-08-14 00:22:20.000000000,2020-08-18 14:34:44.000000000,2020-08-17 17:08:51.000000000,0,6,0,746248,064edacff36d949ebdd304bd404a5fdcff1f8981,10,3,2,1,9816,Takashi Kajinami,kajinamit,"Remove release note file in wrong path

This patch removes the release note file which was added into wrong
path in an old commit[1].
The removed relesae note file is not added into releasenote directory
to avoid confusion by a note associated with wrong release.

[1] 0f617ce27a99260ee03627b1fbde461a687718dc

Change-Id: I8ff8886b65a323a65dd0ff9d01066c82a4116f8d
"
openstack%2Fopenstack-ansible-os_neutron~master~Iec7f1314a2e4fa4256d9b24d3ea927bd5479e7a1,openstack/openstack-ansible-os_neutron,master,,Iec7f1314a2e4fa4256d9b24d3ea927bd5479e7a1,Make has_offline_migrations output predictable,MERGED,2020-08-17 13:07:00.000000000,2020-08-18 14:31:19.000000000,2020-08-18 14:29:38.000000000,2,0,0,746496,124dc769190bea27ca35e57d23615ba928a6af20,10,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Make has_offline_migrations output predictable

Since we parse neutron-db-manage has_offline_migrations for specific
phrase in the output, we need to ensure that locale is correct.
As in case users locale is passed to the server (with SSH), this will
cause task failure.

Change-Id: Iec7f1314a2e4fa4256d9b24d3ea927bd5479e7a1
"
openstack%2Fbarbican~master~Ia96ab003d1651170f11ede1d9cbc3579639565b3,openstack/barbican,master,use-tls,Ia96ab003d1651170f11ede1d9cbc3579639565b3,devstack: Honor SERVICE_PROTOCOL for endpoints,MERGED,2020-08-10 06:28:11.000000000,2020-08-18 14:30:28.000000000,2020-08-18 14:27:35.000000000,4,3,0,745480,4b52ae7e543f7bb1fa082ffa71ed9532f70dbcc3,9,4,1,2,13252,Dr. Jens Harbott,jrosenboom,"devstack: Honor SERVICE_PROTOCOL for endpoints

When the tls-proxy service is enabled, all endpoints should be accessed
via https.

Change-Id: Ia96ab003d1651170f11ede1d9cbc3579639565b3
"
openstack%2Fbarbican-tempest-plugin~master~I206a845b6a7e271b73aef762062fe57f228edcbe,openstack/barbican-tempest-plugin,master,migrate-to-focal,I206a845b6a7e271b73aef762062fe57f228edcbe,[goal] Migrate testing to ubuntu focal,MERGED,2020-07-04 17:41:27.000000000,2020-08-18 14:27:30.000000000,2020-08-18 14:27:30.000000000,4,0,0,739310,a0d3e4556d3fe1f5030b100b0f7cc6339b5fe992,14,4,3,1,8556,Ghanshyam,ghanshyam,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886296
Bump the pyflakes to 2.1.1 as min version to run pep8 jobs
on py3.8 which is default python vesion in ubuntu focal.

Story: #2007865
Task: #40177

Closes-Bug: #1886296
[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html

Change-Id: I206a845b6a7e271b73aef762062fe57f228edcbe
"
openstack%2Fblazar-tempest-plugin~master~I1f7736f8b15450e94204f78be042e470bdee766a,openstack/blazar-tempest-plugin,master,,I1f7736f8b15450e94204f78be042e470bdee766a,Add py38 package metadata,MERGED,2020-05-28 03:27:20.000000000,2020-08-18 14:15:44.000000000,2020-08-18 14:13:54.000000000,1,0,0,731397,85b54e1f6a02fb4bb295663eb33ed1d2bfa701ec,17,4,2,1,27565,inspurericzhang,inspurericzhang,"Add py38 package metadata

Change-Id: I1f7736f8b15450e94204f78be042e470bdee766a
"
openstack%2Fcastellan~master~I49e042ed89bc49736d82de7744952663415d6e02,openstack/castellan,master,native-zuulv3-migration,I49e042ed89bc49736d82de7744952663415d6e02,zuul: use the new barbican simple-crypto job,MERGED,2020-08-17 18:06:07.000000000,2020-08-18 14:12:15.000000000,2020-08-18 14:07:47.000000000,2,2,0,746581,ecf2b1fae6b6b6d9899c662c5a7bc9dbb9800141,10,4,1,1,10459,Luigi Toscano,ltoscano,"zuul: use the new barbican simple-crypto job

The old job name is still available as an alias for a while,
but it is time to switch away from it.

Change-Id: I49e042ed89bc49736d82de7744952663415d6e02
"
openstack%2Fpython-tripleoclient~master~I647f33dbdb8ba8622ccf04a05875bd3ebbd441f7,openstack/python-tripleoclient,master,RHBZ#1868910,I647f33dbdb8ba8622ccf04a05875bd3ebbd441f7,Allow same addr for undercloud public and admin endpoint,ABANDONED,2020-08-18 09:42:12.000000000,2020-08-18 14:07:24.000000000,,12,9,0,746672,3174543fd85150ef9658d831bac0c91d2017edcf,7,6,1,2,24245,Harald Jensås,harald.jensas,"Allow same addr for undercloud public and admin endpoint

Duplicate addresses for public and admin endpoint should be
ok, since TLS uses different port numbers.

Depends-On: https://review.opendev.org/746671
Change-Id: I647f33dbdb8ba8622ccf04a05875bd3ebbd441f7
Related-Bug: #1832168
Related: RHBZ#1868910
"
openstack%2Fvitrage~master~I24703c1a257a4cdadd0506b55d835a68841ff0ea,openstack/vitrage,master,test,I24703c1a257a4cdadd0506b55d835a68841ff0ea,Update edge direction,MERGED,2020-08-18 07:10:59.000000000,2020-08-18 13:37:23.000000000,2020-08-18 13:35:21.000000000,6,5,0,746641,baea18759614a921f410eda82274746b41510dc1,13,2,1,1,30408,Qitao,qihongtao,"Update edge direction

Host contains instance, so the direction of the side is that the host points to the insatnce

Change-Id: I24703c1a257a4cdadd0506b55d835a68841ff0ea
"
openstack%2Fneutron~master~I3f62b91a21ac7e708fb04154194f45a6ff1b6a76,openstack/neutron,master,bug/1887781,I3f62b91a21ac7e708fb04154194f45a6ff1b6a76,ovn-migration-mtu: Support migrating MTU of GRE networks,MERGED,2020-07-16 09:41:52.000000000,2020-08-18 13:34:55.000000000,2020-07-31 02:03:35.000000000,15,5,5,741414,a418d55bc282990847626a2dcb09a8c97604582a,44,8,5,1,13686,Frode Nordahl,fnordahl,"ovn-migration-mtu: Support migrating MTU of GRE networks

Add support for adjusting MTU on GRE networks the same way the
tool already supports adjusting MTU on VXLAN networks.

Change-Id: I3f62b91a21ac7e708fb04154194f45a6ff1b6a76
Closes-Bug: #1887781
"
openstack%2Fneutron~master~I926a160914c16792d7911810cfded41d29fcf282,openstack/neutron,master,bug/1887781,I926a160914c16792d7911810cfded41d29fcf282,ovn-migration-mtu: Support providing project/user domain by name,MERGED,2020-07-16 09:24:04.000000000,2020-08-18 13:34:40.000000000,2020-07-31 02:03:27.000000000,38,3,6,741410,c6574321bae262d2eb8ed2ad12ebf6c420ea5bf8,26,8,2,1,13686,Frode Nordahl,fnordahl,"ovn-migration-mtu: Support providing project/user domain by name

The domain name environment variables `OS_USER_DOMAIN_NAME` and
`OS_PROJECT_DOMAIN_NAME` will be consumed when present.

Otherwise the current behaviour of using *_DOMAIN_ID environment
variables with fall back to the domain with literal ID of
`default` is retained.

Change-Id: I926a160914c16792d7911810cfded41d29fcf282
Closes-Bug: #1887778
"
openstack%2Freleases~master~If3fa129a93814705fa98d58d860d1dfc18393e73,openstack/releases,master,cycle_highlights,If3fa129a93814705fa98d58d860d1dfc18393e73,Add Cycle Highlights to Victoria,MERGED,2020-08-14 19:18:50.000000000,2020-08-18 13:30:51.000000000,2020-08-18 13:30:51.000000000,17,0,2,746345,e6018e3b095fc995d9e3bfbe719db9c26f21a423,10,3,2,2,16708,Kendall Nelson,kjnelson,"Add Cycle Highlights to Victoria

Change-Id: If3fa129a93814705fa98d58d860d1dfc18393e73
"
openstack%2Freleases~master~Idea391efe6031ce90c0af386b63979ff27845988,openstack/releases,master,victoria-cwi,Idea391efe6031ce90c0af386b63979ff27845988,Switch Adjutant to cycle-with-rc,MERGED,2020-08-13 16:18:01.000000000,2020-08-18 13:27:30.000000000,2020-08-18 13:27:30.000000000,2,2,0,746187,a80a4d898b8079befa8e56e3f39038cdcbbdd47a,14,3,2,2,11904,Sean McGinnis,SeanM,"Switch Adjutant to cycle-with-rc

Deliverables following the cycle-with-intermediary model are expected
to release multiple times throughout the development cycle. Since
Adjutant only released once last cycle, and has not done a
release yet this cycle, this proposes changing the release model to
cycle-with-rc so the expectation is only that it will release an RC by
the end of the cycle prior to doing the final release.

This is just a suggestion for the team to consider. The important point
is past the milestone-2 point, downstream planning starts happening
for what will be included in the release. We just want to try to avoid
the situation where downstream expects something to be included, but we
need to unexpectedly drop it from the coordinated release late in the
cycle.

For the team, please respond to this patch in one of the following ways:

* -1 this patch and follow up with an intermediary release
* +1 this patch and we will switch over the release model
* -1 this patch, but acknowledge a release will be done prior to the
  RC1 deadline.

Change-Id: Idea391efe6031ce90c0af386b63979ff27845988
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fswift~master~Id41e9a93b952736e3ca686cbe1efeedfaa701730,openstack/swift,master,404-error,Id41e9a93b952736e3ca686cbe1efeedfaa701730,wip: tests for mixed frag 404 vs 503,ABANDONED,2020-08-17 20:03:13.000000000,2020-08-18 13:16:21.000000000,,73,5,8,746593,1718c0551e164c177d54a40bb1db7626c57ba067,9,3,2,2,1179,Clay Gerrard,clay-gerrard,"wip: tests for mixed frag 404 vs 503

squash this to the related change

Related-Change-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253
Change-Id: Id41e9a93b952736e3ca686cbe1efeedfaa701730
"
openstack%2Fpuppet-openstack_extras~master~I53c30652df0168f941bec10d0f462e44512ce39a,openstack/puppet-openstack_extras,master,centos8-beaker,I53c30652df0168f941bec10d0f462e44512ce39a,[RedHat] Set up yum repositories from repo file,MERGED,2020-07-20 02:21:56.000000000,2020-08-18 12:52:10.000000000,2020-07-29 15:13:27.000000000,39,0,0,741867,cc751868cf8c6f0be9465ec5ca66673834feb18c,21,4,7,3,9816,Takashi Kajinami,kajinamit,"[RedHat] Set up yum repositories from repo file

This patch allows operators to use .repo file directly to configure
yum repogitories on RHEL/CentOS node, so that they can use the .repo
file provided in RDO repository directly.
This is useful especially in RDO CentOS8, because now it provides
seprated repogitory namespaces for modules.

Depends-on: https://review.opendev.org/#/c/742146/
Change-Id: I53c30652df0168f941bec10d0f462e44512ce39a
"
openstack%2Fgovernance-sigs~master~I9b7a07be31c7d4d255db4546141bb3bb933fa9ad,openstack/governance-sigs,master,,I9b7a07be31c7d4d255db4546141bb3bb933fa9ad,Update Ansible SIG chairs,MERGED,2020-08-17 13:15:05.000000000,2020-08-18 12:50:17.000000000,2020-08-18 12:48:30.000000000,3,3,0,746501,77c23448245550c7f850ffb3ee03de1393ee41fb,11,6,1,1,1004,Mohammed Naser,mnaser,"Update Ansible SIG chairs

I'm no longer able to be as involved as I can be in the Ansible SIG and
Sagi is doing a great job in keeping up with all the patches and work
that needs to be there.

They've accepted to chair thise SIG as well at this point.

Change-Id: I9b7a07be31c7d4d255db4546141bb3bb933fa9ad
"
openstack%2Fneutron~master~I01f54ea4a21eb635f0bf87a15694929ed1f3a643,openstack/neutron,master,ovn/port_forwarding,I01f54ea4a21eb635f0bf87a15694929ed1f3a643,[ovn]: port forwarding -- Functional test for IDL changes,MERGED,2020-07-30 01:44:19.000000000,2020-08-18 12:41:58.000000000,2020-08-18 12:38:22.000000000,118,6,2,743862,605de6d96854767edd6ed5a1512e3e46b7b0c311,29,11,4,1,11952,Flavio Fernandes,ffernand,"[ovn]: port forwarding -- Functional test for IDL changes

This is a subset of the changes for implementing the floating IP
port forwarding feature in neutron, using OVN as the backend.

This changeset introduces functional tests for the IDL functions
added to the NB API for supporting port forwarding.

Depends-On: https://review.opendev.org/#/c/741000/
Change-Id: I01f54ea4a21eb635f0bf87a15694929ed1f3a643
Partially-implements: ovn/port_forwarding
Partial-Bug: #1877447
"
openstack%2Fceilometer~master~I59431d0eddda4d91051358e4366159368f9d3103,openstack/ceilometer,master,,I59431d0eddda4d91051358e4366159368f9d3103,Replacing the HTTP protocal with HTTPS in run.yaml.,NEW,2018-11-13 15:31:05.000000000,2020-08-18 11:53:20.000000000,,6,6,1,617691,36f87ddcceb433b9eefdd64c587901d6d0f49156,5,3,1,4,29423,zhouxinyong,zhouxinyong,"Replacing the HTTP protocal with HTTPS in run.yaml.

Change-Id: I59431d0eddda4d91051358e4366159368f9d3103
"
openstack%2Ftripleo-heat-templates~master~Icb5e88fa55a76207130599a5caa8592e96ee5f09,openstack/tripleo-heat-templates,master,bug/1818834,Icb5e88fa55a76207130599a5caa8592e96ee5f09,"Revert ""Workaround rhel8,0 iptables bug causing neutron_ovs_agent to restart continuously""",MERGED,2020-08-13 19:08:44.000000000,2020-08-18 11:39:39.000000000,2020-08-18 11:39:39.000000000,0,4,0,746216,67dfa755ee9cfe59d4324a4d6bb369fc7e57e3c0,23,11,3,1,3153,Emilien Macchi,emilienm,"Revert ""Workaround rhel8,0 iptables bug causing neutron_ovs_agent to restart continuously""

We no longer run on 8.0 so we should be good reverting that workaround.

This reverts commit b1d82e6acbc79d9db1a54d53cd178080b72d0845.

Change-Id: Icb5e88fa55a76207130599a5caa8592e96ee5f09
"
openstack%2Fopenstack-ansible~stable%2Ftrain~If3175695aac15e3e2a613ca849654f4b5684a359,openstack/openstack-ansible,stable/train,,If3175695aac15e3e2a613ca849654f4b5684a359,ceph: remove invalid logging options,MERGED,2020-06-11 06:58:20.000000000,2020-08-18 11:35:49.000000000,2020-08-18 11:33:42.000000000,0,2,0,735066,0a5eacf36888c76a3fa67439da51b26440628930,34,4,1,1,25600,Ebbex,ebbex,"ceph: remove invalid logging options

These options as is just spam the logs with no permission to write 'none',
and have been removed in master for octopus release;
https://review.opendev.org/#/c/729331/

Change-Id: If3175695aac15e3e2a613ca849654f4b5684a359
"
openstack%2Fkuryr-tempest-plugin~master~I2cb66e25534e44b79f660b10498086aa88ad805c,openstack/kuryr-tempest-plugin,master,kuryrport-scheme,I2cb66e25534e44b79f660b10498086aa88ad805c,Support for vifs being in 'spec' and 'status' objects.,MERGED,2020-07-31 10:14:34.000000000,2020-08-18 11:32:40.000000000,2020-08-18 11:31:18.000000000,10,2,0,744115,53f01c482c9fc0440a7ae92b235ae7fcf43857d1,47,6,2,1,13692,Roman Dobosz,gryf,"Support for vifs being in 'spec' and 'status' objects.

In order to move vif information from 'spec' to 'status', we need
to support both for the transition time.

Change-Id: I2cb66e25534e44b79f660b10498086aa88ad805c
"
openstack%2Fdiskimage-builder~master~I3c96ae7ebb814973b77b4a1b966c39658acc5683,openstack/diskimage-builder,master,migrate-to-focal,I3c96ae7ebb814973b77b4a1b966c39658acc5683,Do not install python2 packages in ubuntu focal,MERGED,2020-08-11 12:52:05.000000000,2020-08-18 11:29:55.000000000,2020-08-18 11:28:06.000000000,3,3,0,745665,d6aa43731d89b4d2201fe9252a4e680fcadbba50,52,6,2,1,23851,Riccardo Pittau,elfosardo,"Do not install python2 packages in ubuntu focal

The packages yum-utils and python-lzma have python 2 dependencies
and they're not present for Ubuntu Focal.
The package zypper should not be installed as it's not used.

Closes-Bug: 1891299

Change-Id: I3c96ae7ebb814973b77b4a1b966c39658acc5683
"
openstack%2Fblazar~master~I016d0ecf3751212fc578d30e5ba0a5cec48ac252,openstack/blazar,master,native-zuulv3-migration,I016d0ecf3751212fc578d30e5ba0a5cec48ac252,Use the native Zuul v3 jobs from blazar-tempest-plugin,MERGED,2020-06-02 14:46:32.000000000,2020-08-18 11:00:07.000000000,2020-08-18 10:57:35.000000000,4,187,0,732697,a2f792629c2a6ef70ec6fa6efaa05b2357bff96a,18,4,2,4,10459,Luigi Toscano,ltoscano,"Use the native Zuul v3 jobs from blazar-tempest-plugin

The new base jobs moved to that repository.

Depends-On: https://review.opendev.org/732694
Change-Id: I016d0ecf3751212fc578d30e5ba0a5cec48ac252
"
openstack%2Fopenstack-ansible-os_barbican~stable%2Fussuri~Icb253467cd4f1304c7a9290ea8dc6677fd18af59,openstack/openstack-ansible-os_barbican,stable/ussuri,,Icb253467cd4f1304c7a9290ea8dc6677fd18af59,Remove py2 packages,MERGED,2020-08-17 17:48:24.000000000,2020-08-18 10:35:17.000000000,2020-08-18 10:33:34.000000000,1,2,0,746574,dd66b509d458580a454fe5544a3af113049b53a9,9,3,1,1,25023,Jonathan Rosser,jrosser,"Remove py2 packages

Ubuntu Focal do not even have py2 packages, so we need to drop them,
as anyway we use py3 everywhere.

Change-Id: Icb253467cd4f1304c7a9290ea8dc6677fd18af59
(cherry picked from commit 00d3bee5845f12d0233c8977b38ce3d29540925d)
"
openstack%2Fmonasca-ui~stable%2Fussuri~Iab4bfabc21dee3709ba3d7f13e67b3a12a90b396,openstack/monasca-ui,stable/ussuri,tasks/piotrowskim/alarm_definition-stable/ussuri,Iab4bfabc21dee3709ba3d7f13e67b3a12a90b396,Alarm definition breakes Alarms view,MERGED,2020-08-18 09:52:15.000000000,2020-08-18 10:33:57.000000000,2020-08-18 10:33:57.000000000,1,1,0,746674,5e5d70be75d7f79cabb2913a375c01508cced69a,6,2,1,1,29909,Michał Piotrowski,tatarinho,"Alarm definition breakes Alarms view

Change-Id: Iab4bfabc21dee3709ba3d7f13e67b3a12a90b396
Story: 2008005
Task: 40654
(cherry picked from commit 2bfbee4bb9576fff6c0eeaf4a308ba030a1505a6)
"
openstack%2Fmonasca-agent~stable%2Fussuri~I22b32bcc49760a2da38310aed8e04e44f691a974,openstack/monasca-agent,stable/ussuri,story/2008021-stable/ussuri,I22b32bcc49760a2da38310aed8e04e44f691a974,Update API version of monitored Cinder,MERGED,2020-08-18 08:12:49.000000000,2020-08-18 10:32:07.000000000,2020-08-18 10:32:07.000000000,1,1,0,746655,efd7763a3c32cb8bbc6db32bcfa8e3cec2aa659b,8,3,1,1,16957,Matthias Bandorf,mattibf,"Update API version of monitored Cinder

When checking response of Cinder API, a pattern match is done.
As of now, it is checked if ""version 1"" is installed.
This version is not supported any longer since Cinder train release, as mentioned in release notes:
https://docs.openstack.org/releasenotes/python-cinderclient/train.html
Now, http_check of monasca-agent accepts all known API versions: 1-3

Change-Id: I22b32bcc49760a2da38310aed8e04e44f691a974
Story: 2008021
Task: 40673
(cherry picked from commit e021416e600f81d5ed544b1c66675719c3a896b6)
"
openstack%2Fpython-openstackclient~master~Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847,openstack/python-openstackclient,master,bp/stateless-security-groups,Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847,Support for stateless security groups,MERGED,2020-03-05 16:57:34.000000000,2020-08-18 09:53:18.000000000,2020-04-08 08:31:27.000000000,54,1,21,711515,5e62411e5f6c5b68512d1f72470b4222199eb456,37,8,5,5,26106,Tom Stappaerts,TomStappaerts,"Support for stateless security groups

Add support for stateful attribute of security groups,
using --stateful and --no-stateful flag on security group.
This allows a user to create security groups with stateful
false.

Change-Id: Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847
Blueprint: stateless-security-groups
Depends-On: https://review.opendev.org/711513/
"
openstack%2Fmonasca-ui~master~Iab4bfabc21dee3709ba3d7f13e67b3a12a90b396,openstack/monasca-ui,master,tasks/piotrowskim/alarm_definition,Iab4bfabc21dee3709ba3d7f13e67b3a12a90b396,Alarm definition breakes Alarms view,MERGED,2020-08-13 09:43:23.000000000,2020-08-18 09:52:15.000000000,2020-08-18 07:57:38.000000000,1,1,0,746037,2bfbee4bb9576fff6c0eeaf4a308ba030a1505a6,9,2,2,1,29909,Michał Piotrowski,tatarinho,"Alarm definition breakes Alarms view

Change-Id: Iab4bfabc21dee3709ba3d7f13e67b3a12a90b396
Story: 2008005
Task: 40654
"
openstack%2Fec2api-tempest-plugin~master~I32a51152fb4cf8c5b25d99ed4173365bc5390916,openstack/ec2api-tempest-plugin,master,,I32a51152fb4cf8c5b25d99ed4173365bc5390916,"Revert ""Add simple s3 test for create/delete bucket""",MERGED,2020-08-18 08:01:40.000000000,2020-08-18 09:25:29.000000000,2020-08-18 09:25:29.000000000,0,44,0,746652,0e54fa0219f5825ee55546207982a279ce7080b4,7,4,1,1,10234,Andrey Pavlov,andrey-mp,"Revert ""Add simple s3 test for create/delete bucket""

This reverts commit 8cfb9bdc2ee93b2ea59a54a7482afe8dce4ec566.

reverted to fix skip condition.

Change-Id: I32a51152fb4cf8c5b25d99ed4173365bc5390916
"
openstack%2Fproject-config~master~Ibd19b9c18637cd10a522feee43e6d78a1ac02633,openstack/project-config,master,project-yaml-normalization,Ibd19b9c18637cd10a522feee43e6d78a1ac02633,Normalize projects.yaml,MERGED,2020-08-18 06:08:11.000000000,2020-08-18 09:20:43.000000000,2020-08-18 07:36:59.000000000,0,1,0,746636,cad6162de17d25c8129d142d80e31da5bb828d9e,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Normalize projects.yaml

Change-Id: Ibd19b9c18637cd10a522feee43e6d78a1ac02633
"
openstack%2Ftacker~master~I28d5ebbb7c70253d11508f0bf7b6b62c5ece5135,openstack/tacker,master,fix-gnocchi-plugin,I28d5ebbb7c70253d11508f0bf7b6b62c5ece5135,DNM: Fix ceilometer-upgrade,ABANDONED,2020-08-17 17:51:16.000000000,2020-08-18 09:00:10.000000000,,2,0,0,746575,2a20bd0607645fd43a6e59212968fdedc0fc7859,9,2,3,1,25701,Yasufumi Ogawa,yasufum,"DNM: Fix ceilometer-upgrade

This update is to fix a failure of zuul check.

Zuul check `tacker-functional-devstack-multinode-python3` is failed
because for 404 Not Found error in `ceilometer-upgrade` command. It
seems the error is caused by gnocchi that of log says messages as
following.

Aug 12 19:22:57.327857 ubuntu-bionic-rax-ord-0019237310 systemd[1]:
Starting Devstack devstack@gnocchi-api.service...
Aug 12 19:22:57.337029 ubuntu-bionic-rax-ord-0019237310
devstack@gnocchi-api.service[6716]: [uWSGI] getting INI configuration
from /etc/gnocchi/uwsgi.ini
Aug 12 19:22:57.337624 ubuntu-bionic-rax-ord-0019237310
devstack@gnocchi-api.service[6716]: open(""./http_plugin.so""): No such
file or directory [core/utils.c line 3732]
Aug 12 19:22:57.337624 ubuntu-bionic-rax-ord-0019237310
devstack@gnocchi-api.service[6716]: !!! UNABLE to load uWSGI plugin:
./http_plugin.so: cannot open shared object file: No such file or
directory !!!
Aug 12 19:22:57.337624 ubuntu-bionic-rax-ord-0019237310
devstack@gnocchi-api.service[6716]: open(""./python3_plugin.so""): No such
file or directory

An example of whole log can be found here.
https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_fab/745616/2/check/tacker-functional-devstack-multinode-python3/fabe1cf/controller/logs/screen-gnocchi-api.txt

Change-Id: I28d5ebbb7c70253d11508f0bf7b6b62c5ece5135
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
"
openstack%2Fpuppet-barbican~stable%2Fussuri~I3baa7af29970b4da25ff67a54e473c32ee6ad40f,openstack/puppet-barbican,stable/ussuri,,I3baa7af29970b4da25ff67a54e473c32ee6ad40f,Expose vhost_custom_fragment,MERGED,2020-08-17 14:47:29.000000000,2020-08-18 08:58:32.000000000,2020-08-18 08:58:32.000000000,9,0,0,746521,288dced2d324e7e68af86f1e95603a8b5c4ae5bf,7,3,1,2,25877,Luke Short,ekultails,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Barbican service.

Change-Id: I3baa7af29970b4da25ff67a54e473c32ee6ad40f
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 257f929622f9e8e0791930fca3b1069accf03c50)
"
openstack%2Fpuppet-glance~master~I53f0d0b5cbbb2361d34927800b5b3dcf8a0dc326,openstack/puppet-glance,master,db_purge,I53f0d0b5cbbb2361d34927800b5b3dcf8a0dc326,Add support for db purge cron jobs,MERGED,2020-08-17 08:15:25.000000000,2020-08-18 08:34:48.000000000,2020-08-18 08:32:55.000000000,332,0,0,746452,43f08226c3917b6aa5244880546040c8dbf66ab3,12,3,3,5,9816,Takashi Kajinami,kajinamit,"Add support for db purge cron jobs

This patch introduces the following 2 classes to manage cron jobs to
purge deleted records from database.
 - glance::cron::db_purge
 - glance::cron::db_purge_images_table

Note that purging the images table can cause a security risk. Users
should read and understand the implications of OSSN-0075[1] before they
use the glance::cron::db_purge_images_table class.
 [1] https://wiki.openstack.org/wiki/OSSN/OSSN-0075

Change-Id: I53f0d0b5cbbb2361d34927800b5b3dcf8a0dc326
"
openstack%2Fmanila-tempest-plugin~master~I66b5befeb97ef6c33edad4c69ea21cbf18983e8b,openstack/manila-tempest-plugin,master,DNM,I66b5befeb97ef6c33edad4c69ea21cbf18983e8b,DNM: capability flags test,NEW,2020-08-18 06:02:47.000000000,2020-08-18 08:34:32.000000000,,187,116,2,746634,1566262e766956ed749963d34a9aa71ecbb0df30,4,3,1,23,16643,Goutham Pacha Ravi,gouthamr,"DNM: capability flags test

- Get share types with the required specs
  per the test requirements

- Deprecate ""run_snapshot_tests""
- Deprecate ""run_revert_to_snapshot_tests""
- Deprecate ""run_mount_snapshot_tests""
in favor of share type extra-specs (capability_*)

Change-Id: I66b5befeb97ef6c33edad4c69ea21cbf18983e8b
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fblazar~master~I4c9af485dca9731b1a0a4739c40764b7da1dfd05,openstack/blazar,master,flask-request-context,I4c9af485dca9731b1a0a4739c40764b7da1dfd05,Use flask's builtin methods for test context,MERGED,2020-08-13 16:27:23.000000000,2020-08-18 08:28:41.000000000,2020-08-18 08:21:32.000000000,11,7,0,746188,690ab0972f22372a17ae2a0c700cb4f7195a838f,17,5,1,1,15197,Pierre Riteau,priteau,"Use flask's builtin methods for test context

In Python 3.8 unittest.mock can't successfully mock Flask. So we need to
use test_request_context instead. Inspired by a similar fix in Sahara:
https://review.opendev.org/#/c/724675

Change-Id: I4c9af485dca9731b1a0a4739c40764b7da1dfd05
"
openstack%2Fec2-api~stable%2Ftrain~I390634d5321d3f4210a5d378178c8d8b1e445e19,openstack/ec2-api,stable/train,,I390634d5321d3f4210a5d378178c8d8b1e445e19,"Revert ""temporary disable functional tests""",MERGED,2020-08-17 20:34:16.000000000,2020-08-18 08:25:57.000000000,2020-08-18 08:24:40.000000000,0,7,0,746599,a9bcd94d2592da1d275e88ca2b844160847a92b0,13,2,2,3,10234,Andrey Pavlov,andrey-mp,"Revert ""temporary disable functional tests""

This reverts commit 3d6106d99c3478d1dc96ac5e576dd885ae39c363.

Change-Id: I390634d5321d3f4210a5d378178c8d8b1e445e19
(cherry picked from commit 1886d64d3ec2bbd2cb56afdfcf54d59d78c9adce)
"
openstack%2Fcharm-keystone-saml-mellon~master~I8faa86e2909e411cee767d64f2aee8332fb26914,openstack/charm-keystone-saml-mellon,master,victoria-charm-tests,I8faa86e2909e411cee767d64f2aee8332fb26914,Add Victoria test bundles,MERGED,2020-08-14 10:34:45.000000000,2020-08-18 08:16:45.000000000,2020-08-18 08:16:44.000000000,734,30,0,746315,8db843b795fb4f912a598d96575479f6bdfd96b6,9,4,1,10,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: I8faa86e2909e411cee767d64f2aee8332fb26914
"
openstack%2Fdiskimage-builder~master~Id2dfc3455b377b885521556f37f4b0f2da197655,openstack/diskimage-builder,master,,Id2dfc3455b377b885521556f37f4b0f2da197655,Remove glance-registry,MERGED,2020-07-07 15:25:59.000000000,2020-08-18 08:14:28.000000000,2020-08-18 08:12:17.000000000,0,11,1,739796,ae08dc8902d748073b4fdf3b0a95c79e0fd24e8a,26,5,5,2,30356,gugug,gujin,"Remove glance-registry

glance-registry service was deprecated in Queens release and has been
removed in Victoria [1].

[1] https://review.opendev.org/#/c/738671/

Change-Id: Id2dfc3455b377b885521556f37f4b0f2da197655
"
openstack%2Fmonasca-agent~master~I22b32bcc49760a2da38310aed8e04e44f691a974,openstack/monasca-agent,master,story/2008021,I22b32bcc49760a2da38310aed8e04e44f691a974,Update API version of monitored Cinder,MERGED,2020-08-17 12:05:05.000000000,2020-08-18 08:12:49.000000000,2020-08-17 19:48:11.000000000,1,1,0,746489,e021416e600f81d5ed544b1c66675719c3a896b6,9,2,2,1,16957,Matthias Bandorf,mattibf,"Update API version of monitored Cinder

When checking response of Cinder API, a pattern match is done.
As of now, it is checked if ""version 1"" is installed.
This version is not supported any longer since Cinder train release, as mentioned in release notes:
https://docs.openstack.org/releasenotes/python-cinderclient/train.html
Now, http_check of monasca-agent accepts all known API versions: 1-3

Change-Id: I22b32bcc49760a2da38310aed8e04e44f691a974
Story: 2008021
Task: 40673
"
openstack%2Fpython-tripleoclient~master~I5efd8bafc8062fc13c70d8b2ed090a8e2aefa9b6,openstack/python-tripleoclient,master,fix/validation/playbook,I5efd8bafc8062fc13c70d8b2ed090a8e2aefa9b6,Remove playbook param from tripleo_validator.py,MERGED,2020-08-17 13:10:56.000000000,2020-08-18 08:12:46.000000000,2020-08-18 08:09:36.000000000,0,10,0,746498,5e68a6d1c6344e2555ee555c6375a60c906292a4,10,5,1,1,16515,mbu,matbu,"Remove playbook param from tripleo_validator.py

This param is not present anymore in validation-libs

Change-Id: I5efd8bafc8062fc13c70d8b2ed090a8e2aefa9b6
"
openstack%2Fdiskimage-builder~master~Iaebcaabd5c0715d09541cc3f39b257c35f00cd1f,openstack/diskimage-builder,master,update-ipa-job,Iaebcaabd5c0715d09541cc3f39b257c35f00cd1f,Update name of ipa job,MERGED,2020-07-25 19:49:49.000000000,2020-08-18 08:08:37.000000000,2020-08-18 08:04:53.000000000,1,1,0,743042,fd19b8c6ab48ef3c2a8f3515c68c68afecdcd3f4,21,6,2,1,23851,Riccardo Pittau,elfosardo,"Update name of ipa job

Depends-On: https://review.opendev.org/738442
Change-Id: Iaebcaabd5c0715d09541cc3f39b257c35f00cd1f
"
openstack%2Fpuppet-barbican~stable%2Ftrain~I3baa7af29970b4da25ff67a54e473c32ee6ad40f,openstack/puppet-barbican,stable/train,,I3baa7af29970b4da25ff67a54e473c32ee6ad40f,Expose vhost_custom_fragment,MERGED,2020-08-17 14:50:01.000000000,2020-08-18 08:08:30.000000000,2020-08-18 08:08:30.000000000,9,0,0,746523,da146d53877db069a521d49b79f70e2827e8caad,7,3,1,2,25877,Luke Short,ekultails,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Barbican service.

Conflicts:
    manifests/wsgi/apache.pp

Change-Id: I3baa7af29970b4da25ff67a54e473c32ee6ad40f
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 257f929622f9e8e0791930fca3b1069accf03c50)
(cherry picked from commit 288dced2d324e7e68af86f1e95603a8b5c4ae5bf)
"
openstack%2Fpuppet-gnocchi~stable%2Fussuri~I1425b400b2bc471295c448e3ec9e5035b00ad43a,openstack/puppet-gnocchi,stable/ussuri,,I1425b400b2bc471295c448e3ec9e5035b00ad43a,Expose vhost_custom_fragment,MERGED,2020-08-17 14:50:49.000000000,2020-08-18 08:06:25.000000000,2020-08-18 08:06:25.000000000,10,1,0,746524,911a396c08985dcac0137fba5ea99d5931d64f1c,7,3,1,2,25877,Luke Short,ekultails,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Gnocchi service.

Change-Id: I1425b400b2bc471295c448e3ec9e5035b00ad43a
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit f7e1857771c000c25bdc34fd3bb3174df1423fc5)
"
openstack%2Fpuppet-gnocchi~stable%2Ftrain~I1425b400b2bc471295c448e3ec9e5035b00ad43a,openstack/puppet-gnocchi,stable/train,,I1425b400b2bc471295c448e3ec9e5035b00ad43a,Expose vhost_custom_fragment,MERGED,2020-08-17 14:51:18.000000000,2020-08-18 08:01:45.000000000,2020-08-18 08:01:45.000000000,10,1,0,746525,7b0e3c78c02d81aba4ca12f290798583e17dcc57,7,3,1,2,25877,Luke Short,ekultails,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Gnocchi service.

Change-Id: I1425b400b2bc471295c448e3ec9e5035b00ad43a
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit f7e1857771c000c25bdc34fd3bb3174df1423fc5)
(cherry picked from commit 911a396c08985dcac0137fba5ea99d5931d64f1c)
"
openstack%2Fdiskimage-builder~master~Iee6c8b3b97b3cfff4562bcb30a50800f5ade894a,openstack/diskimage-builder,master,bug/1889089,Iee6c8b3b97b3cfff4562bcb30a50800f5ade894a,Makes EFI images bootable by bios,MERGED,2020-07-27 14:27:29.000000000,2020-08-18 08:01:41.000000000,2020-08-18 07:59:01.000000000,12,3,3,743243,6e71bd423937ba510ee85c123d1f42b174d53cef,27,8,3,3,23518,Pierre Crégut,pcregut,"Makes EFI images bootable by bios

For Bios and EFI compatibility, grub must be installed twice.
This patch adds the bios version when EFI is selected. The GPT EFI  block partitioning
already adds the bios partition, but the bootloader only called grub once.

Change-Id: Iee6c8b3b97b3cfff4562bcb30a50800f5ade894a
Closes-Bug: #1889089
"
openstack%2Fwatcher~master~I20c0afded795eda7fb1b57ffdd2ae1ca36c45301,openstack/watcher,master,,I20c0afded795eda7fb1b57ffdd2ae1ca36c45301,option to rollback action_plan when it fails,MERGED,2017-11-02 06:51:16.000000000,2020-08-18 07:58:15.000000000,2020-08-18 07:55:58.000000000,75,4,17,517179,19adfda3b911cbb697e4fd6c07854d5f61ecbb99,41,13,10,3,24501,sue,suzhengwei,"option to rollback action_plan when it fails

It has costs when rollback action_plan.
So give users an option whether to rollback it
when the action_plan fails.

Change-Id: I20c0afded795eda7fb1b57ffdd2ae1ca36c45301
"
openstack%2Fpuppet-manila~stable%2Fussuri~Id379b9aa91d6fc53dc2a36cd5d9504458c13734b,openstack/puppet-manila,stable/ussuri,,Id379b9aa91d6fc53dc2a36cd5d9504458c13734b,Expose vhost_custom_fragment,MERGED,2020-08-17 14:54:12.000000000,2020-08-18 07:54:56.000000000,2020-08-18 07:54:56.000000000,11,2,0,746530,93646efae902cb709faeab2bd8fdc52f6b0f2dea,7,3,1,2,25877,Luke Short,ekultails,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Manila service.

Change-Id: Id379b9aa91d6fc53dc2a36cd5d9504458c13734b
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 4fbe89816416ee80a86332f2ed2d22863c57816a)
"
openstack%2Fpuppet-manila~stable%2Ftrain~Id379b9aa91d6fc53dc2a36cd5d9504458c13734b,openstack/puppet-manila,stable/train,,Id379b9aa91d6fc53dc2a36cd5d9504458c13734b,Expose vhost_custom_fragment,MERGED,2020-08-17 14:54:42.000000000,2020-08-18 07:53:25.000000000,2020-08-18 07:53:25.000000000,11,2,0,746532,6c1e210e4d5ea989f8b788cbfc47fa238ba899a8,7,3,1,2,25877,Luke Short,ekultails,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Manila service.

Change-Id: Id379b9aa91d6fc53dc2a36cd5d9504458c13734b
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 4fbe89816416ee80a86332f2ed2d22863c57816a)
(cherry picked from commit 93646efae902cb709faeab2bd8fdc52f6b0f2dea)
"
openstack%2Fdiskimage-builder~master~I51c5645856a76e2877c013d72e9849a758ba12ff,openstack/diskimage-builder,master,f32,I51c5645856a76e2877c013d72e9849a758ba12ff,Fedora 32 support,MERGED,2020-06-22 06:36:05.000000000,2020-08-18 07:48:10.000000000,2020-08-18 07:43:50.000000000,29,15,2,737217,7b6819213e5d606811bb3d4c82841c634aa5d2ce,41,6,7,8,7118,Ian Wienand,iwienand,"Fedora 32 support

Update for Fedora 32 support.

Change-Id: I51c5645856a76e2877c013d72e9849a758ba12ff
"
openstack%2Fopenstack-helm-infra~master~I6a1ce4929294fdb8d9785bbc0693bc2fa268a699,openstack/openstack-helm-infra,master,ipv6_issue,I6a1ce4929294fdb8d9785bbc0693bc2fa268a699,Modify mariadb database config to support both ipv4 and ipv6,ABANDONED,2020-06-12 02:48:59.000000000,2020-08-18 07:39:49.000000000,,1,1,0,735277,e70488663c7fe81231878b6d164f37890f943f54,8,3,2,1,28570,zhipeng liu,zhipengl,"Modify mariadb database config to support both ipv4 and ipv6

Change-Id: I6a1ce4929294fdb8d9785bbc0693bc2fa268a699
Signed-off-by: Zhipeng Liu <zhipengs.liu@intel.com>
"
openstack%2Fglance~master~I8083c097516c14274ddb29d1696e25b90c01271e,openstack/glance,master,native-zuulv3-migration,I8083c097516c14274ddb29d1696e25b90c01271e,zuul: use the new barbican simple-crypto job,MERGED,2020-08-17 18:08:32.000000000,2020-08-18 07:28:33.000000000,2020-08-18 07:24:57.000000000,1,1,0,746582,3041b0b4effde910d06c3bd4431d9fd2c4ac7413,10,4,1,1,10459,Luigi Toscano,ltoscano,"zuul: use the new barbican simple-crypto job

The old job name is still available as an alias for a while,
but it is time to switch away from it.

Change-Id: I8083c097516c14274ddb29d1696e25b90c01271e
"
openstack%2Fopenstack-ansible~master~I009f844d8fcf5ac7043f4054dc4f514bed8c38d9,openstack/openstack-ansible,master,,I009f844d8fcf5ac7043f4054dc4f514bed8c38d9,Remove mapping of gnocchi_dentity_only to swift,MERGED,2020-07-05 09:10:51.000000000,2020-08-18 07:14:37.000000000,2020-08-17 19:11:02.000000000,0,1,0,739347,da9c7a806d4d0118ed1405a72e100ce274728095,10,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove mapping of gnocchi_dentity_only to swift

Even with swift driver gnocchi needs config files to be deployed,
service to be created, etc. There is no reason to omit
everything in case of storage driver is swift

Change-Id: I009f844d8fcf5ac7043f4054dc4f514bed8c38d9
"
openstack%2Fopenstack-helm~master~Id8f2f132599be8967c757f2169fef302fddee738,openstack/openstack-helm,master,nova_probe,Id8f2f132599be8967c757f2169fef302fddee738,Nova: Add support for disabling Readiness/Liveness probes,ABANDONED,2019-10-15 08:33:41.000000000,2020-08-18 07:05:25.000000000,,193,122,1,688652,a2da35b18a9344487d86bc5b36941a0467facbd5,25,5,8,7,28570,zhipeng liu,zhipengl,"Nova: Add support for disabling Readiness/Liveness probes

With the introduction of Readiness/Liveness probes in
Ib8e4b93486588320fd2d562c3bc90b65844e52e5, some probes are
failing and preventing successful armada manifest applies.

Add support to disable the probes.

Change-Id: Id8f2f132599be8967c757f2169fef302fddee738
Signed-off-by: zhipengl <zhipengs.liu@intel.com>
"
openstack%2Ftripleo-ansible~master~I1cfa68c74eb772ddf794c53827fd9bea1fe2e5a3,openstack/tripleo-ansible,master,container_image,I1cfa68c74eb772ddf794c53827fd9bea1fe2e5a3,Add ansible module for container image prepare,MERGED,2020-08-10 09:41:48.000000000,2020-08-18 06:54:33.000000000,2020-08-18 06:52:49.000000000,196,57,0,745510,93cb472162dd292784d5b41f91aff3d682669654,28,6,5,4,8833,Rabi Mishra,rabi,"Add ansible module for container image prepare

This adds a new ansible module for container image prepare
and changes the role to use the module instead.

Change-Id: I1cfa68c74eb772ddf794c53827fd9bea1fe2e5a3
"
openstack%2Ftripleo-heat-templates~master~I27ac0a536624f5461809df771a58a6e57fec0661,openstack/tripleo-heat-templates,master,ovn/port_forwarding,I27ac0a536624f5461809df771a58a6e57fec0661,[ovn]: Enable port forwarding in neutron service plugins,MERGED,2020-08-11 22:30:13.000000000,2020-08-18 06:09:22.000000000,2020-08-18 06:07:17.000000000,11,5,4,745756,40fa5244c279952baf429ffcb95e632f0db32c52,28,9,6,6,11952,Flavio Fernandes,ffernand,"[ovn]: Enable port forwarding in neutron service plugins

NeutronServicePlugins needs to include port_forwarding in order to support
the floating ip port forwarding functionality.

Depends-On: https://review.opendev.org/#/c/741303/
Change-Id: I27ac0a536624f5461809df771a58a6e57fec0661
Closes-Bug: #1877447
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I41c93394c171572bdd6e0b24c842b5e86e0b8e07,openstack/tripleo-heat-templates,stable/train,bug/1889075,I41c93394c171572bdd6e0b24c842b5e86e0b8e07,Add support for Gnocchi NFS Backend,MERGED,2020-08-13 02:38:59.000000000,2020-08-18 06:09:08.000000000,2020-08-18 06:07:10.000000000,97,8,0,745992,9f1e982758065d84b2aa1b172e61c27698a38377,11,5,2,4,9816,Takashi Kajinami,kajinamit,"Add support for Gnocchi NFS Backend

This patch introduces support for Gnocchi NFS backend, so that
operators can configure nfs share to store data of Gnocchi.

Resolved the conflict caused by different selinux type assigned
to /var/lib/gnocchi directories.
 stable/train           : svirt_sandbox_file_t
 stable/ussuri and later: container_file_t

Conflicts:
	deployment/gnocchi/gnocchi-api-container-puppet.yaml

Closes-Bug: #1889075
Change-Id: I41c93394c171572bdd6e0b24c842b5e86e0b8e07
(cherry picked from commit a6bbb4941ba846c9561f40c190f36991f384f68a)
(cherry picked from commit 3631ee2ff42fa82b85bcfcb011556fe28ec98a8d)
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~Iad23663d6c98e4fd3a507980638870e0ad0cee45,openstack/puppet-tripleo,stable/train,bug/1888398-stable/train,Iad23663d6c98e4fd3a507980638870e0ad0cee45,Use pcs 0.9 style authkey/remotes when doing an upgrade,MERGED,2020-08-13 14:59:42.000000000,2020-08-18 06:07:16.000000000,2020-08-18 06:07:16.000000000,20,0,0,746152,7d21ae36fab8edf250eaa971e61e1a4dde123380,15,4,1,2,20172,Michele Baldessari,michele,"Use pcs 0.9 style authkey/remotes when doing an upgrade

We leverage the _override keys for pacemaker and pacemaker_remote
services in order to decide if we should use the old way of managing
remotes (managed authkey and pcs 0.9 way of doing remotes).

The pacemaker_remote override keys are introduced via
https://review.opendev.org/741610

Related-Bug: #1888398

Change-Id: Iad23663d6c98e4fd3a507980638870e0ad0cee45
(cherry picked from commit 5cb4565c016d4de48958f7cb9cffce5b685290eb)
(cherry picked from commit 16bb6f5d7f24e4686c78e54bb5072efc2603086a)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8bc42fb758a333adc9cd65602b44fabee6fc4041,openstack/tripleo-heat-templates,stable/train,bug/1888398-stable/train,I8bc42fb758a333adc9cd65602b44fabee6fc4041,pcmk_remote FFU support for Instance HA,MERGED,2020-08-13 14:54:40.000000000,2020-08-18 06:07:14.000000000,2020-08-18 06:07:14.000000000,60,0,0,746150,4b283ae9ea4e34d78c597b5b4c0e11656f828c93,16,4,2,1,20172,Michele Baldessari,michele,"pcmk_remote FFU support for Instance HA

The idea here is to set an override key like the following
during the upgrade:
hiera -c /etc/puppet/hiera.yaml pacemaker_remote_short_node_names_override
[""compute-0""]

So that puppet-tripleo can detect the key and act accordingly knowning
that it is being upgraded (main reason is that the authkey management
for remotes needs to be special-cased in puppet).
Once the upgrade is completed we remove the key in post_upgrade_tasks.
Tested this on a number of runs and confirmed that:
- The IHA FFU completed correctly on controlplane + computes
- Tempest still works after the FFU
- The override keys are correctly removed at the end of the upgrade
  of each compute node

NB: Backport to train had a small conflict due to puppet include having
    :: as a prefix
Closes-Bug: #1888398

Change-Id: I8bc42fb758a333adc9cd65602b44fabee6fc4041
(cherry picked from commit 2f460accb9800b2232c7cf783907b78bb94d98ef)
(cherry picked from commit 83874163376e0cc7fe88071316c04fd3a0d62609)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id647896fda6cc3fe7bf5eb5ba2de05111d174092,openstack/tripleo-heat-templates,stable/train,ffwd-upgrade2-stable/ussuri-stable/train,Id647896fda6cc3fe7bf5eb5ba2de05111d174092,Add PermitRootLogin option in sshd_config before leapp.,MERGED,2020-08-13 09:18:15.000000000,2020-08-18 06:07:12.000000000,2020-08-18 06:07:12.000000000,9,1,0,746033,82b508a3f19a557232f28a882f98a31d858a9657,16,6,3,1,11166,Lukas Bezdicka,xbezdick,"Add PermitRootLogin option in sshd_config before leapp.

One of the pre-requisites for leapp tool to be able to upgrade
is the existence of the PermitRootLogin option in the
sshd_config file. It doesn't mind which value it has, it needs
to be set. For that reason, this patch will set the value to
without-password (which is the default for the PermitRootLogin
field).

The selection of the option isn't really relevant, as during
the installation of the openstack services puppet will just
overwrite the sshd_config, therefore this is simply a hack
for leapp to let us upgrade.

Change-Id: Id647896fda6cc3fe7bf5eb5ba2de05111d174092
(cherry picked from commit d8e5ccb8cb3be3425c831c2e12407430b052cdde)
(cherry picked from commit 3e2a8d91cfd29b57a50df27845c63285de9853ee)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib32791d72410766a0b2e2330713120d15dc35f57,openstack/tripleo-heat-templates,stable/ussuri,ussuri,Ib32791d72410766a0b2e2330713120d15dc35f57,"Update, avoid task skipping by directly importing step file.",MERGED,2020-08-17 12:25:50.000000000,2020-08-18 06:07:07.000000000,2020-08-18 06:07:07.000000000,16,28,2,746490,2c1db9ed05d9cd4ffe64419a22751272af139c0f,10,6,1,1,31245,Daniel Bengtsson,damani42,"Update, avoid task skipping by directly importing step file.

During update we skip a lot tasks because we loop over the same update
step task file, changing the step variable, wasting time and
clobbering logs.

To solve the skipped tasks this, we now loop over the stepX file
generated for update and post update.

Expanding the playbook to import the tasks and setting the step
variable has another benefit.  It opens the possibility to use
""start-at-tasks"" as everything is imported.  Using loop variable and
include_tasks prevented its usage.

Depends-On: https://review.opendev.org/740465
Change-Id: Ib32791d72410766a0b2e2330713120d15dc35f57
(cherry picked from commit 5e553da93889a628609cc4f1ff2d53d0c902e99d)
"
openstack%2Ftripleo-validations~master~I3bec039283fe5df56771d84fff5bd5940fd149d8,openstack/tripleo-validations,master,custom-roles,I3bec039283fe5df56771d84fff5bd5940fd149d8,Allows to use custom role name for validations,MERGED,2020-08-12 05:58:55.000000000,2020-08-18 06:03:48.000000000,2020-08-17 23:55:37.000000000,14,10,0,745786,ec0465e481234da62d1ba673b4432e44c930f630,10,4,1,10,28223,Cedric Jeanneret,cjeanner,"Allows to use custom role name for validations

The tripleo-ansible-inventory script uses the role names in order to
group the different hosts.

Since we can use custom roles, the fixed ""Controller"" and others aren't
relevant in such cases.

Ansible allows to use parameter for the ""hosts"" value in playbooks,
allowing us to call the validations using this command:

openstack tripleo validator run --validation haproxy \
  --extra-vars '{""controller_rolename"": ""MyCustomController""}'

(or use the --extra-vars-file in order to avoid in-line JSON)

This patch also correct a non-existent group call, Database. The closest
we have is the ""mysql"" group in the inventory - let's reflect it in
order to avoid useless warning(s).

Change-Id: I3bec039283fe5df56771d84fff5bd5940fd149d8
"
