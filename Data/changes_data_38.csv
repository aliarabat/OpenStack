id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fopenstack-ansible-os_neutron~master~Icba65866407a142fb110d1ec25b9ebdcba75d821,openstack/openstack-ansible-os_neutron,master,,Icba65866407a142fb110d1ec25b9ebdcba75d821,Deprecate allow_overlapping_ips option,MERGED,2022-06-17 06:05:47.000000000,2022-06-17 23:01:37.000000000,2022-06-17 23:00:28.000000000,0,1,4,846272,1700cc37ca70667d2d8c107db764025720bd174e,13,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Deprecate allow_overlapping_ips option

This option has been deprecated and ignored by the service.

Change-Id: Icba65866407a142fb110d1ec25b9ebdcba75d821
"
openstack%2Fopenstack-ansible-os_murano~master~I27c2ddedc3997d63ddcb08c9f4c06ec1cb287ed1,openstack/openstack-ansible-os_murano,master,osa/manage_lb,I27c2ddedc3997d63ddcb08c9f4c06ec1cb287ed1,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 18:05:02.000000000,2022-06-17 22:53:34.000000000,2022-06-17 22:52:29.000000000,0,5,1,845802,4b1385c6b4907ce108487fdeeb79a7931c80f2bd,12,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: I27c2ddedc3997d63ddcb08c9f4c06ec1cb287ed1
"
openstack%2Fopenstack-ansible-os_murano~master~I87c5c56838bdec247bb46062fe8c9c4f063abde1,openstack/openstack-ansible-os_murano,master,osa/service_variables,I87c5c56838bdec247bb46062fe8c9c4f063abde1,Use global service variables,MERGED,2022-06-16 13:05:11.000000000,2022-06-17 22:49:34.000000000,2022-06-17 22:47:31.000000000,2,2,1,846165,a8373f1c7f004bfc9c2606b70a84edd8dc37e2c9,10,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: I87c5c56838bdec247bb46062fe8c9c4f063abde1
"
openstack%2Fopenstack-ansible-os_murano~master~I9c432b4a24127fad3bfe0f24d02fa750170f483e,openstack/openstack-ansible-os_murano,master,,I9c432b4a24127fad3bfe0f24d02fa750170f483e,Delegate package import to setup host,MERGED,2022-06-16 11:30:28.000000000,2022-06-17 22:48:36.000000000,2022-06-17 22:47:26.000000000,44,39,3,846147,c85b8def8b66625b421a945a581fe80c4ce888a9,20,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Delegate package import to setup host

Instead of running muranoclient on murano host, we're delegating
execution to service_setup_host. This reduce
complexity and remove some requirements for murano hosts.

With that we also replace usage of muranoclient
with openstackclient.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846162
Change-Id: I9c432b4a24127fad3bfe0f24d02fa750170f483e
"
openstack%2Fopenstack-ansible-os_murano~master~I07b63c327639fd69ff8705f11909ee62b582fede,openstack/openstack-ansible-os_murano,master,osa/service_tokens,I07b63c327639fd69ff8705f11909ee62b582fede,Support service tokens,MERGED,2022-06-16 13:00:11.000000000,2022-06-17 22:47:29.000000000,2022-06-17 22:47:29.000000000,11,2,1,846163,aa3be8264c83659dddca510163f7da60408f4f52,11,4,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I07b63c327639fd69ff8705f11909ee62b582fede
"
openstack%2Fnova~stable%2Ftrain~If1a45886adfc6448a626a54449ff66f400879b83,openstack/nova,stable/train,bug/1939545,If1a45886adfc6448a626a54449ff66f400879b83,func: Add live migration rollback volume attachment tests,NEW,2022-06-05 16:59:52.000000000,2022-06-17 22:33:06.000000000,,97,0,2,844745,13fe11120f4e6bc063587e26ddeec63dd4cb210d,40,2,16,1,8864,Artom Lifshitz,artom,"func: Add live migration rollback volume attachment tests

This test asserts that the original source host volume attachments
remain intact after a failure and rollback during the main live
migration flow on the virt driver.

NOTE(artom) Changes for the cherry-pick:
* a tiny manual change was needed to fix the way super() is called to
  match the Python 2 style
* add self.api_major_version to be compatible with stable/train
  _setup_services()
* adjust usage of the _builder_server() helper to be compatible with
  the stable/train way
* add self._image_ref_parameter and self._flavor_ref_parameter to the
  new test class, needed by the stable/train version of the
  _build_server() helper
* make the new test class inherit from the InstanceHelperMixin, as
  that's there the _wait_for_state_change() helper is in stable/train
* call _wait_for_state_change() in the stable/train fashion, passing
  self.api in addition to the server and state
* declare USE_NEUTRON explicitly

Change-Id: If1a45886adfc6448a626a54449ff66f400879b83
(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)
(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)
"
openstack%2Fnova~stable%2Ftrain~Ib8009f38f20b008d08148f7f591af13b1ca5b420,openstack/nova,stable/train,bug/1939545,Ib8009f38f20b008d08148f7f591af13b1ca5b420,fup: Assert state of connection_info during LM rollback in func tests,NEW,2022-06-05 16:59:52.000000000,2022-06-17 22:31:25.000000000,,72,11,4,844746,1032302c8e87e84e6a08397fe15625514136797a,46,2,18,1,8864,Artom Lifshitz,artom,"fup: Assert state of connection_info during LM rollback in func tests

This came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as
something we should be asserting in our func tests somewhere. I had
thought it already was but this is as close as we got. Add that coverage
here.

NOTE(artom) Conflicts and changes:
* Conflicts in nova/tests/functional/compute/test_live_migration.py due
  to 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live
  migration tests in ussuri and changing the context around this change.
* Fix how we use the _build_server() helper to match how it works in
  stable/train.
* Stop using the _live_migrate() helper as it does not exist in
  stable/train, and use an explicit self.api.post_server_action()
  call.

Change-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420
(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)
(cherry picked from commit c248986eeb8e9b9c3586c83b01663d3585132c3f)
(cherry picked from commit 212ef3e9753a3bc6cd1dbd6aa1bd48fd56fbbf96)
(cherry picked from commit 58264ad5bb8c3b2e64f7a0d5d02461ec26d802f8)
"
openstack%2Fnova~stable%2Ftrain~Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa,openstack/nova,stable/train,bug/1939545,Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa,fup: Make connection_info returned by CinderFixture unique per attachment,NEW,2022-06-05 16:59:52.000000000,2022-06-17 22:30:44.000000000,,22,12,1,844744,ea8d60f72592d31e7b84de7cc00ed8ad90e8b9d6,23,2,8,1,8864,Artom Lifshitz,artom,"fup: Make connection_info returned by CinderFixture unique per attachment

Change-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa
(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)
(cherry picked from commit 8e008925343f27f017b8c3d6d49a2cfa2aea8aeb)
(cherry picked from commit a26bdac24c1eb2e6503bd2683c935799096d93e9)
(cherry picked from commit 48b04ccbd42c257c4978ff021ac0bb523ae51eb9)
"
openstack%2Fneutron~stable%2Fyoga~I6cf1167d556f0c2c2aa2013f05c809648020b377,openstack/neutron,stable/yoga,bug/1973276,I6cf1167d556f0c2c2aa2013f05c809648020b377,"Set ""type=virtual"" for OVN LSP with parent ports",MERGED,2022-06-15 09:22:15.000000000,2022-06-17 22:23:16.000000000,2022-06-17 22:21:44.000000000,71,39,1,845906,316b55440ab7a2b27e0468a87545ee1db9e85b84,15,4,1,7,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Set ""type=virtual"" for OVN LSP with parent ports

This is a follow-up of [1]. Before this patch, any virtual logical
switch port that was updated and the ""device_owner"" was not and empty
string, had its type set to '' (empty string).

This maintenance task, that is executed only once, lists all logical
switch ports, checks the presence or not of virtual parents and
sets the type to ""virtual"" if needed.

Related-Bug: #1973276

[1]https://review.opendev.org/c/openstack/neutron/+/841711

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Change-Id: I6cf1167d556f0c2c2aa2013f05c809648020b377
(cherry picked from commit 3c93da7bdf35c3be6081384b7f6d9a4ce13510d3)
"
openstack%2Fswift~master~I40b252446b3a1294a5ca8b531f224ce9c16f9aba,openstack/swift,master,s3-cross-policy-copy-fix,I40b252446b3a1294a5ca8b531f224ce9c16f9aba,Fix s3api cross policy copy,MERGED,2022-06-17 16:49:11.000000000,2022-06-17 22:23:13.000000000,2022-06-17 22:21:57.000000000,28,1,4,846428,7a996a5c38f6c554b6a4389d3d6035cca87e922d,10,2,2,3,1179,Clay Gerrard,clay-gerrard,"Fix s3api cross policy copy

In s3api's request object we copy backend headers into the request
environ for logging after we call get_response.  The problem with s3api
copy is that we make a pre-flight HEAD request to the source object
using the same request object, so the first response backend headers
pollute the request and the proxy won't over-ride the backend header
with the correct storage policy.

As a possible fix we simply remove the problematic header from the
request object after the pre-flight HEAD request finishes.

Change-Id: I40b252446b3a1294a5ca8b531f224ce9c16f9aba
"
openstack%2Frequirements~master~Ie800f4856248c39f7cc70f094097b350baa078c2,openstack/requirements,master,,Ie800f4856248c39f7cc70f094097b350baa078c2,Skip networkx 2.8.4,MERGED,2022-06-17 12:27:49.000000000,2022-06-17 22:23:03.000000000,2022-06-17 22:21:49.000000000,2,2,0,846348,93a7ed6d5569c9311bc54474194b3b28cf52644c,9,2,1,2,29244,Gregory Thiemonge,gthiemonge,"Skip networkx 2.8.4

networkx release 2.8.4 has a bug [0] that affects the Octavia doc job
(via Taskflow), skip this version.

[0] https://github.com/networkx/networkx/issues/5790

Change-Id: Ie800f4856248c39f7cc70f094097b350baa078c2
"
openstack%2Frequirements~stable%2Fxena~I5bb7d7a7b7f5cb509c5a9086b2478259661305ad,openstack/requirements,stable/xena,new-release,I5bb7d7a7b7f5cb509c5a9086b2478259661305ad,update constraint for python-designateclient to new release 4.3.1,MERGED,2022-06-17 10:19:30.000000000,2022-06-17 22:21:52.000000000,2022-06-17 22:21:52.000000000,1,1,0,846300,03061a94bf2b6e856d5ea8436d7e8d54a8bbc4e4,10,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-designateclient to new release 4.3.1

meta: version: 4.3.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Michael Johnson <johnsomor@gmail.com>
meta: release:Commit: Michael Johnson <johnsomor@gmail.com>
meta: release:Change-Id: Ie2188d20a5bbea269c38a7bbdfd4795093c0e917
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I5bb7d7a7b7f5cb509c5a9086b2478259661305ad
"
openstack%2Fnova~stable%2Fussuri~Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa,openstack/nova,stable/ussuri,bug/1939545,Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa,fup: Make connection_info returned by CinderFixture unique per attachment,NEW,2022-06-03 15:19:05.000000000,2022-06-17 21:52:15.000000000,,22,12,1,844606,48b04ccbd42c257c4978ff021ac0bb523ae51eb9,19,2,6,1,8864,Artom Lifshitz,artom,"fup: Make connection_info returned by CinderFixture unique per attachment

Change-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa
(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)
(cherry picked from commit 8e008925343f27f017b8c3d6d49a2cfa2aea8aeb)
(cherry picked from commit a26bdac24c1eb2e6503bd2683c935799096d93e9)
"
openstack%2Fnova~stable%2Fussuri~I3f1073d70e4332737e33f3c9c00cf129d0ef76b4,openstack/nova,stable/ussuri,bug/1939545,I3f1073d70e4332737e33f3c9c00cf129d0ef76b4,Add a regression test for bug 1939545,NEW,2022-05-30 18:38:21.000000000,2022-06-17 21:50:55.000000000,,150,13,3,843951,15bde1b68d10f940a349e46b4bd5abaafc5899ef,25,2,8,2,8864,Artom Lifshitz,artom,"Add a regression test for bug 1939545

Assert the behaviour of the libvirt driver during pre_live_migration
with instances that have block based volumes attached.

Bug #1939545 covering the case where the returned path from os-brick
isn't being saved into the connection_info of the associated bdm in
Nova.

The cinder fixture is extended as part of this change to offer
connection_info listing the iscsi volume type in order to correctly
assert the behaviour of the associated libvirt volume driver.

NOTE(artom) Adjustments to make this work on stable/ussuri:
* Use the old-style self.start_computes() helper, as
  self.start_compute() didn't exist yet.
* Explicitly use the CinderFixture, since the base class doesn't do
  this for us.
* Pass the 'completed' migration status to the self._live_migrate()
  helper.

Related-Bug: #1939545
Change-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4
(cherry picked from commit 268b7169554f871d3813d78e79861934d086484d)
(cherry picked from commit 9f7b81c4cfe9f6a41fb28ec3b9d20616817ceab5)
(cherry picked from commit 02854cc4458f1a68deaf840a49f7cab7aed0cb05)
"
openstack%2Fnova~stable%2Fussuri~Ib8009f38f20b008d08148f7f591af13b1ca5b420,openstack/nova,stable/ussuri,bug/1939545,Ib8009f38f20b008d08148f7f591af13b1ca5b420,fup: Assert state of connection_info during LM rollback in func tests,NEW,2022-06-03 15:19:05.000000000,2022-06-17 21:50:10.000000000,,72,10,1,844607,58264ad5bb8c3b2e64f7a0d5d02461ec26d802f8,19,2,6,1,8864,Artom Lifshitz,artom,"fup: Assert state of connection_info during LM rollback in func tests

This came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as
something we should be asserting in our func tests somewhere. I had
thought it already was but this is as close as we got. Add that coverage
here.

Change-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420
(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)
(cherry picked from commit c248986eeb8e9b9c3586c83b01663d3585132c3f)
(cherry picked from commit 212ef3e9753a3bc6cd1dbd6aa1bd48fd56fbbf96)
"
openstack%2Fironic~master~I3811941a3dff0a9f968258d05cc020e1f52e3e40,openstack/ironic,master,port_binding_failure_check,I3811941a3dff0a9f968258d05cc020e1f52e3e40,WIP: make port binding fatel,NEW,2019-12-19 10:47:44.000000000,2022-06-17 21:14:49.000000000,,21,4,6,699953,98996bb413520769de450ddde07665a63a30d50a,19,6,4,3,782,John Garbutt,johngarbutt,"WIP: make port binding fatel

When using drivers like networking generic switch, there can be issues
changine the VLAN the server is attached too. Currently, the instance
will still continue to attempt to boot, in some cases the instance can
go ACTIVE (if the server happens to be on the provisioning network
already), but the server is not attached to the correct VLAN, generally
causing the network to fail to come up.

If we look at the ports, they are marked as binding failed. This is
something that Nova checks for after doing the port update to attach the
binding information. Lets add that check into Ironic, such that the
above build will fail with a good hint at where to look for problems
(namely Neutron).

Change-Id: I3811941a3dff0a9f968258d05cc020e1f52e3e40
"
openstack%2Fopenstack-ansible~master~I30337ffac1ff49793af983207c4619091a1d1677,openstack/openstack-ansible,master,,I30337ffac1ff49793af983207c4619091a1d1677,"Revert ""Add release note about Ceph-Ansible deprecation""",MERGED,2022-06-17 19:39:59.000000000,2022-06-17 20:54:44.000000000,2022-06-17 20:51:37.000000000,0,9,0,846259,f5fcdb029e5f8aa50d433eaa8eadccc202d05445,8,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Revert ""Add release note about Ceph-Ansible deprecation""

This reverts commit f6429b558f744c7dce05bd9484c2ed0ec6f6dae1.

Reason for revert: Ceph-Ansible removed deprecation/non-supported note. we also had some ideas on contributing to it.

Change-Id: I30337ffac1ff49793af983207c4619091a1d1677
"
openstack%2Fopenstack-ansible~master~I26c98c3a6f2252fefd3b45629d43a9cc41bd3cef,openstack/openstack-ansible,master,,I26c98c3a6f2252fefd3b45629d43a9cc41bd3cef,Update magnum tags and images for CI,MERGED,2022-06-16 10:03:47.000000000,2022-06-17 20:53:23.000000000,2022-06-17 20:51:31.000000000,6,6,0,846145,3881b5c7cb419b67047a09c76842b3c738547f3b,10,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Update magnum tags and images for CI

On Yoga defaults for Magnum went on and new images and k8s tags
should be used and tested.

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_magnum/+/845993
Change-Id: I26c98c3a6f2252fefd3b45629d43a9cc41bd3cef
"
openstack%2Fopenstack-ansible~master~Ia17c6df379957cb73092c65d0940eefa9b523a28,openstack/openstack-ansible,master,wsgi-process,Ia17c6df379957cb73092c65d0940eefa9b523a28,Limit the number of wsgi process to 1.,MERGED,2022-06-17 14:12:31.000000000,2022-06-17 20:51:34.000000000,2022-06-17 20:51:34.000000000,14,38,0,846385,16440ef7f45aba94d6f6bcd7ea48696978cba1c2,7,3,1,1,13095,Marc Gariépy,mgariepy,"Limit the number of wsgi process to 1.

In order to use les smemory we scale down the number of wsgi process to
1 for all openstack services.

Change-Id: Ia17c6df379957cb73092c65d0940eefa9b523a28
"
openstack%2Fopenstack-ansible~master~I7e0e6dcc72fa8b4e6be1f8c17f752eefe6bd36bf,openstack/openstack-ansible,master,gnocchi_workers,I7e0e6dcc72fa8b4e6be1f8c17f752eefe6bd36bf,Set the max number of gnicchi-metricd workers,MERGED,2022-06-17 12:35:22.000000000,2022-06-17 20:34:52.000000000,2022-06-17 20:32:46.000000000,1,0,0,846349,d9803d25dece69f620c8447028a478f6b11e61af,8,3,1,1,13095,Marc Gariépy,mgariepy,"Set the max number of gnicchi-metricd workers

Change-Id: I7e0e6dcc72fa8b4e6be1f8c17f752eefe6bd36bf
"
openstack%2Fopenstack-ansible~stable%2Fxena~I325dee6ec071b6675bcfdadaf884ce8c26cf1ae9,openstack/openstack-ansible,stable/xena,,I325dee6ec071b6675bcfdadaf884ce8c26cf1ae9,Install rally only when rally_install is set,MERGED,2022-06-14 14:54:54.000000000,2022-06-17 20:34:49.000000000,2022-06-17 20:32:49.000000000,5,0,5,845684,93280fe48b6184d6f9bd959514d53bf68792a815,23,4,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Install rally only when rally_install is set

Currently we install rally regardless of user will.
It is default behaviour which is not possible to override.
So we add rally_install variable which defaults to false to control
whether to proceed with rally installation or not.

Change-Id: I325dee6ec071b6675bcfdadaf884ce8c26cf1ae9
(cherry picked from commit 65c4d7ca432ec36915295a6c7167800a8acda5b0)
"
openstack%2Fpuppet-glance~master~Iacebc227e074da592aa0ca8ff6f8226f3e850a66,openstack/puppet-glance,master,param-typos,Iacebc227e074da592aa0ca8ff6f8226f3e850a66,Fix typos in parameter descriptions,MERGED,2022-06-17 10:11:46.000000000,2022-06-17 20:03:25.000000000,2022-06-17 20:03:25.000000000,19,19,5,846294,499a898468c4b22fbe16eae3216ac0293c91f275,15,5,2,14,20733,Rajesh Tailor,rajesht,"Fix typos in parameter descriptions

Change-Id: Iacebc227e074da592aa0ca8ff6f8226f3e850a66
"
openstack%2Fopenstack-ansible-os_octavia~master~I9dd6fcea23154f781ec111a0927a26aba28954f1,openstack/openstack-ansible-os_octavia,master,,I9dd6fcea23154f781ec111a0927a26aba28954f1,Set CentOS 9 Stream as NV,MERGED,2022-06-17 12:35:54.000000000,2022-06-17 20:01:57.000000000,2022-06-17 19:59:45.000000000,9,0,0,846350,fbdfd529d886aa7174fb6bbbc42e2ec295682fd9,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Set CentOS 9 Stream as NV

Currently CentOS 9 Stream hits libvirt bug [1] that occurs on attaching
interface to running VM. Octavia is most affected by that as this is
part of usual workflow.
Fix for the bug has been already proposed and should be released
quite soon. Not to spend a lot of time on that, we rather wait for new
libvirt version to be released  for CentOS 9 Stream and until then
set jobs as NV.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2092856

Change-Id: I9dd6fcea23154f781ec111a0927a26aba28954f1
"
openstack%2Fnova~stable%2Ftrain~I066fb5617bae944a03273049117fc2b5bf329283,openstack/nova,stable/train,bug/1939545,I066fb5617bae944a03273049117fc2b5bf329283,fake: Ensure need_legacy_block_device_info returns False,NEW,2022-05-30 20:25:37.000000000,2022-06-17 19:59:08.000000000,,31,19,1,843958,d719add14f3c97e17ee3c385374c476d70e5cc10,14,2,4,3,8864,Artom Lifshitz,artom,"fake: Ensure need_legacy_block_device_info returns False

The legacy block_device_info format has not been used for a while in the
virt drivers and the Fake virt drivers shouldn't be using it anymore.

Some compute tests have been updated as they were previously asserting
the legacy format incorrectly. TODOs are also left to remove support for
the legacy format in a follow up change.

Change-Id: I066fb5617bae944a03273049117fc2b5bf329283
(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)
(cherry picked from commit 74160240526ccc64b7c86b66969b2e22f8a2c683)
(cherry picked from commit 2ce7dc32d5f58e0be4c464faff00b53fb4671a22)
(cherry picked from commit 62106532d010808c3609be89ac3c6485eba7bacd)
"
openstack%2Fneutron~master~Id2239b6827485a4d466b0916947428ceabef9139,openstack/neutron,master,bug/1979031,Id2239b6827485a4d466b0916947428ceabef9139,"Fix ""ip route"" commands to work with pyroute2 APIv2",MERGED,2022-06-17 08:37:24.000000000,2022-06-17 19:45:38.000000000,2022-06-17 13:33:14.000000000,4,3,0,846286,4dbcd76517fead73f91adaab9cdaf0e92a4aff4e,14,8,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Fix ""ip route"" commands to work with pyroute2 APIv2

Fixed ""ip route"" commands to work with pyroute2 >= 0.6.10, that
introduces APIv2 for link, neighbour and route [1].

[1]https://github.com/svinota/pyroute2/commit/bc0f5e2209a937fdec6e9931ca7b3c45c0278f31

Closes-Bug: #1979031
Change-Id: Id2239b6827485a4d466b0916947428ceabef9139
"
openstack%2Fopenstack-ansible~master~I6fd1b82d1c273f2c080caf8bbe3f73c1d604bf57,openstack/openstack-ansible,master,,I6fd1b82d1c273f2c080caf8bbe3f73c1d604bf57,Add release note about Ceph-Ansible deprecation,MERGED,2022-05-28 05:35:05.000000000,2022-06-17 19:39:59.000000000,2022-05-30 10:14:33.000000000,9,0,0,843704,f6429b558f744c7dce05bd9484c2ed0ec6f6dae1,9,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add release note about Ceph-Ansible deprecation

Change-Id: I6fd1b82d1c273f2c080caf8bbe3f73c1d604bf57
"
openstack%2Fcinder~master~I2305b49ab7d2a1c4d9affd55a4b5b746a1ae4dce,openstack/cinder,master,bug/1955057,I2305b49ab7d2a1c4d9affd55a4b5b746a1ae4dce,NetApp ONTAP: Fixed get_ontap_version,MERGED,2022-02-16 12:26:07.000000000,2022-06-17 19:23:29.000000000,2022-06-17 19:21:43.000000000,55,46,7,829529,3b13eab894ac878dcb1debedd5bf503c646446d2,62,6,2,5,33648,Nahim Alves de Souza,nahimsouza,"NetApp ONTAP: Fixed get_ontap_version

Changed the method get_ontap_version, adjusting the code to return
a tuple (generation, major, minor) instead of a string, to avoid
problems when comparing strings in alphabetical order (e.g. '9.5' >
'9.10').

Change-Id: I2305b49ab7d2a1c4d9affd55a4b5b746a1ae4dce
Closes-Bug: #1955057
"
openstack%2Fneutron~master~I8f84c1bce0d1ce2538789e3511fd8f7b64fcd41a,openstack/neutron,master,remove_unneeded_contexts,I8f84c1bce0d1ce2538789e3511fd8f7b64fcd41a,Remove unneeded contexts in ``_create_port_security_group_binding``,MERGED,2022-06-10 15:47:26.000000000,2022-06-17 19:23:28.000000000,2022-06-17 19:21:37.000000000,17,13,10,845363,f3b84ed099dee38b75192cd0aadab325f089c1f5,39,6,4,5,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Remove unneeded contexts in ``_create_port_security_group_binding``

Removed unneeded database context in
``_create_port_security_group_binding``. This method is called always
from inside an active database transaction, when the port is udpated
or created.

The retry context only makes sense when a method is called outside
an active database transaction. It doesn't retry the command if the
context passed has an active transaction.

Trivial-Fix

Change-Id: I8f84c1bce0d1ce2538789e3511fd8f7b64fcd41a
"
openstack%2Frequirements~master~I61fae8f7de90f9fc892e841ebe7477ce33a49bc9,openstack/requirements,master,new-release,I61fae8f7de90f9fc892e841ebe7477ce33a49bc9,update constraint for virtualbmc to new release 2.2.2,MERGED,2022-06-17 10:20:38.000000000,2022-06-17 19:17:47.000000000,2022-06-17 19:15:34.000000000,1,1,0,846302,57031c3618f3a7431644e79bc7a9fd3865726e8b,8,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for virtualbmc to new release 2.2.2

meta: version: 2.2.2
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Commit: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Change-Id: Ie292a2d83b9e67a1f3b5bdb2ab629665668261dd
meta: release:Code-Review+1: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I61fae8f7de90f9fc892e841ebe7477ce33a49bc9
"
openstack%2Fnova~stable%2Fussuri~I066fb5617bae944a03273049117fc2b5bf329283,openstack/nova,stable/ussuri,bug/1939545,I066fb5617bae944a03273049117fc2b5bf329283,fake: Ensure need_legacy_block_device_info returns False,NEW,2022-05-30 18:38:21.000000000,2022-06-17 19:17:23.000000000,,31,19,3,843950,62106532d010808c3609be89ac3c6485eba7bacd,24,2,5,3,8864,Artom Lifshitz,artom,"fake: Ensure need_legacy_block_device_info returns False

The legacy block_device_info format has not been used for a while in the
virt drivers and the Fake virt drivers shouldn't be using it anymore.

Some compute tests have been updated as they were previously asserting
the legacy format incorrectly. TODOs are also left to remove support for
the legacy format in a follow up change.

Change-Id: I066fb5617bae944a03273049117fc2b5bf329283
(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)
(cherry picked from commit 74160240526ccc64b7c86b66969b2e22f8a2c683)
(cherry picked from commit 2ce7dc32d5f58e0be4c464faff00b53fb4671a22)
"
openstack%2Frequirements~master~Ib21fe2d3ad137100733e425cbee9ee802cbd47aa,openstack/requirements,master,new-release,Ib21fe2d3ad137100733e425cbee9ee802cbd47aa,update constraint for oslo.policy to new release 4.0.0,MERGED,2022-06-17 10:19:36.000000000,2022-06-17 19:16:44.000000000,2022-06-17 19:15:31.000000000,1,1,0,846301,eb63e36916e1fa70661e327019f73cf3bde8f54c,8,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.policy to new release 4.0.0

meta: version: 4.0.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I813f817dce190fa91d8a9aecdee242f7787505c9
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ib21fe2d3ad137100733e425cbee9ee802cbd47aa
"
openstack%2Frequirements~master~I7c5c4669eb61ade89333ab0daab4b22cbf73b365,openstack/requirements,master,new-release,I7c5c4669eb61ade89333ab0daab4b22cbf73b365,update constraint for oslo.vmware to new release 4.0.0,MERGED,2022-06-17 10:17:17.000000000,2022-06-17 19:14:37.000000000,2022-06-17 19:12:10.000000000,1,1,0,846299,bc220272ac4924220888beaf209d158300e1497e,8,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.vmware to new release 4.0.0

meta: version: 4.0.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I813f817dce190fa91d8a9aecdee242f7787505c9
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I7c5c4669eb61ade89333ab0daab4b22cbf73b365
"
openstack%2Frequirements~master~If03bd1377a30c6c6cf1d0d4a96cecb702be2c67f,openstack/requirements,master,new-release,If03bd1377a30c6c6cf1d0d4a96cecb702be2c67f,update constraint for oslo.utils to new release 5.0.0,MERGED,2022-06-17 10:16:32.000000000,2022-06-17 19:13:35.000000000,2022-06-17 19:12:06.000000000,1,1,0,846297,4eee98a78274f6ff2dd4acf75579eeeae389878e,8,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.utils to new release 5.0.0

meta: version: 5.0.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I813f817dce190fa91d8a9aecdee242f7787505c9
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: If03bd1377a30c6c6cf1d0d4a96cecb702be2c67f
"
openstack%2Fopenstack-ansible-nspawn_container_create~stable%2Fvictoria~I89b3054a37daf570136a664e6aa6e35e0935d455,openstack/openstack-ansible-nspawn_container_create,stable/victoria,openstack/openstack-ansible-tests/sync-tests,I89b3054a37daf570136a664e6aa6e35e0935d455,Updated from OpenStack Ansible Tests,ABANDONED,2022-01-15 10:36:14.000000000,2022-06-17 18:53:50.000000000,,3,6,0,824812,b8266ba089d2c6e80b88c56a310e3533eb3c4b92,3,1,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I89b3054a37daf570136a664e6aa6e35e0935d455
"
openstack%2Fnova~stable%2Fwallaby~Icf61f88e9e11413a99e9c891358eea085d7762a8,openstack/nova,stable/wallaby,bug/1939545,Icf61f88e9e11413a99e9c891358eea085d7762a8,Add a regression test for bug 1939545,ABANDONED,2022-05-28 04:59:42.000000000,2022-06-17 18:26:47.000000000,,151,15,3,843702,44ec33ded0f154e487c2ce1ec45509696fac806c,21,3,3,2,8864,Artom Lifshitz,artom,"Add a regression test for bug 1939545

Assert the behaviour of the libvirt driver during pre_live_migration
with instances that have block based volumes attached.

Bug #1939545 covering the case where the returned path from os-brick
isn't being saved into the connection_info of the associated bdm in
Nova.

The cinder fixture is extended as part of this change to offer
connection_info listing the iscsi volume type in order to correctly
assert the behaviour of the associated libvirt volume driver.

Conflicts: nova/tests/fixtures/cinder.py did not exist, applied
changes to CinderFixture class in nova/tests/fixtures.py. Also:
* Switched to using uuidsentinel instead of uuids, as the import is
  done as the former in stable/wallaby.
* Fixed the fakelibvirt import to match where it lives in
  stable/wallaby.
* Replace use of OSBrickFixture() that didn't exist in stable/wallaby
  with the fake_os_brick_connector from the libvirt unit tests.
* Fix fakelibvirt migrateToURI3 monkeypatch to use correct path for
  stable/wallaby.

Related-Bug: #1939545
Change-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4
(cherry-picked from commit 268b7169554f871d3813d78e79861934d086484d)

Change-Id: Icf61f88e9e11413a99e9c891358eea085d7762a8
"
openstack%2Fnova~stable%2Ftrain~Ie74fcd689a627c178f80ec60df2dfef40576f182,openstack/nova,stable/train,bug/1939545,Ie74fcd689a627c178f80ec60df2dfef40576f182,tests: work around malformed serial XML,NEW,2022-06-05 16:59:52.000000000,2022-06-17 18:22:25.000000000,,12,12,1,844743,a863d808260547e62c8eb09452963b8fe07af713,10,2,3,2,8864,Artom Lifshitz,artom,"tests: work around malformed serial XML

The serial elements in fakelibvirt's XMLDesc() are malformed. They are
only enough to pass existing unit tests, but are not future-proof, and
would not work with something like migration._update_serial_xml(). In
addition, two of them (type=file and type=pty) are not actually used by
anything.

This patch removes the unused types and starts checking the
CONF.serial_console.enabled flag before including any serial XML in
the fake domain. This allows tests that don't set
serial_console_enabled (like the subsequent NUMA LM func test) to not
have to deal with the broken serial XML, while tests that relied on it
in the past now just set serial_console_enabled = True.

NOTE(artom) This enables the live migration functional test in the
subsequent patch to work.

Change-Id: Ie74fcd689a627c178f80ec60df2dfef40576f182
(cherry picked from commit 4ba00c803b8707ca40492f493997df058696ca15)
"
openstack%2Fnova~stable%2Ftrain~Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320,openstack/nova,stable/train,bug/1939545,Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320,functional: Use tempdir for CONF.instances_path,NEW,2022-06-05 19:58:10.000000000,2022-06-17 18:16:55.000000000,,2,5,1,844750,ef66e1a44ac4544e37a7cdced86444d6e2ddc9a8,10,2,3,2,8864,Artom Lifshitz,artom,"functional: Use tempdir for CONF.instances_path

This was being set in an ad-hoc manner throughout the code, but it's
necessary for all kinds of live migration and evacuation operations.
Just centralize the configuration.

NOTE(artom) This is being backported because a functional test failure
was observed when running functional tests that are added by
subsequent patches. The specific error was:

No such file or directory:
'/home/zuul/src/opendev.org/openstack/nova/instances/tmpif84g_jd

The failure is not always reproducible, but never happened again with
this patch included in the series.

Change-Id: Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 980711f3d3f2db9dfd792a8c6fd15cb45a85f615)
(cherry picked from commit 05c88a4e21b523ad30ab133093b627a0fae78adf)
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I1881da52bbf67a9624369ff1042e8ff6dd65cd0d,openstack/networking-ovn,stable/train,neutron-ci-improvements,I1881da52bbf67a9624369ff1042e8ff6dd65cd0d,[OVN]Any string type dhcp options should be quoted,MERGED,2022-06-16 06:46:21.000000000,2022-06-17 18:08:43.000000000,2022-06-17 18:07:16.000000000,24,9,1,846102,4d980c6678f6a90e9eefaac010374b3d9a23620b,9,6,1,5,13861,yatin,yatinkarel,"[OVN]Any string type dhcp options should be quoted

Any dhcp option[1] which value is string type in ovn
should be added quotes, otherwise it would be regard
as constant.

[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116

Cherry-picked from Neutron:
  https://review.opendev.org/c/openstack/neutron/+/846115

Closes-Bug: #1946764
Change-Id: Id174cd944c3b883b749046bc49d00e011eb891fe
(manually cherry picked from commit
18c32e4339cbcb0993d9c162e2715f6fcfa932cc)

Change-Id: I1881da52bbf67a9624369ff1042e8ff6dd65cd0d
"
openstack%2Fpuppet-tripleo~master~I375c446bb5d9a4358a45021a38015ec8b0df4acc,openstack/puppet-tripleo,master,vmax_multi_backend,I375c446bb5d9a4358a45021a38015ec8b0df4acc,WIP/DNM Add support for VMAX multibackend,NEW,2021-12-08 23:14:16.000000000,2022-06-17 17:59:41.000000000,,71,11,0,821135,a0b8f83e94634e20b1b1fffe1c6be2e2a013ffdb,2,1,1,2,32594,Ashley Rodriguez,ashrod98,"WIP/DNM Add support for VMAX multibackend

Following cinders structure, this implements homogenous
multibackend support for DellEMC VMAX.

Partially-Implements: manila-homogenous-mulitbackend
Change-Id: I375c446bb5d9a4358a45021a38015ec8b0df4acc
"
openstack%2Fopenstack-ansible~master~Ic2735465a6f2774f95bb9e234cb1edbce60e59df,openstack/openstack-ansible,master,,Ic2735465a6f2774f95bb9e234cb1edbce60e59df,Install murano client for distro installs,MERGED,2022-06-16 12:53:47.000000000,2022-06-17 17:59:05.000000000,2022-06-17 17:57:28.000000000,2,1,4,846162,f2ac17069b458acd4acf8ca4e3cbc11b045c7e32,24,4,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Install murano client for distro installs

Change-Id: Ic2735465a6f2774f95bb9e234cb1edbce60e59df
"
openstack%2Fpuppet-cinder~master~I244fb52ec9212877b9f5a0bec6338b7bfcee3efe,openstack/puppet-cinder,master,param_typos,I244fb52ec9212877b9f5a0bec6338b7bfcee3efe,Fix some typos in parameter descriptions,MERGED,2022-06-17 10:57:52.000000000,2022-06-17 17:56:53.000000000,2022-06-17 17:56:53.000000000,22,22,0,846337,c7faae56366bead66ca5c150a1a1203f381b8f7e,9,4,1,17,20733,Rajesh Tailor,rajesht,"Fix some typos in parameter descriptions

Change-Id: I244fb52ec9212877b9f5a0bec6338b7bfcee3efe
"
openstack%2Fopenstacksdk~feature%2Fr1~I14ccb77453d300afc6f387338e752f32ae57af20,openstack/openstacksdk,feature/r1,openstacksdk-manila-support,I14ccb77453d300afc6f387338e752f32ae57af20,Add share snapshot instance resource,NEW,2021-06-29 08:35:44.000000000,2022-06-17 16:38:39.000000000,,225,0,22,798333,a63d2b9e68a0a618c72550a71c3a0dff40fe2851,41,4,11,9,32493,Kafilat Adeleke,kafilat-adeleke,"Add share snapshot instance resource

Introduce Share snapshot instance class with basic methods
to list, and get to shared file system storage service.

Change-Id: I14ccb77453d300afc6f387338e752f32ae57af20
"
openstack%2Fhorizon~master~Ifdad18e805953957bfaa1b42908dfbbe8976dbcb,openstack/horizon,master,angular_updates,Ifdad18e805953957bfaa1b42908dfbbe8976dbcb,Migrate to AngularJS v1.8.2,MERGED,2022-05-25 20:36:54.000000000,2022-06-17 16:27:54.000000000,2022-06-10 09:13:40.000000000,434,415,6,843346,f044c4b0a30da4b4b5e3df1b7888811efddce447,18,5,3,39,6914,Tatiana Ovchinnikova,tmazur,"Migrate to AngularJS v1.8.2

This patch aligns current code with AngularJS v1.8.2 requirements.

Change-Id: Ifdad18e805953957bfaa1b42908dfbbe8976dbcb
"
openstack%2Ftripleo-ansible~master~If642620e1cb285a2ac47c6ac09edd5abbb94b1ba,openstack/tripleo-ansible,master,fix_config_set,If642620e1cb285a2ac47c6ac09edd5abbb94b1ba,Add ceph_config_set before applying the spec,MERGED,2022-06-08 09:39:36.000000000,2022-06-17 16:27:13.000000000,2022-06-17 16:27:13.000000000,5,0,2,845111,b1c0ae795b7f83adf9086803fc3bcce2f74780cb,17,6,3,1,25402,Francesco Pantano,fmount,"Add ceph_config_set before applying the spec

We need to make sure that the monitoring stack (or any other) container
images are set: apply spec is skipped with deployed ceph and that task
is never executed.
This patch adds the missing task on the main playbook, because we can't
execute these tasks during deployed ceph for two reasons:

1. deployed ceph has no clues about additional enabled services (tht is
   still the main user interface)

2. the tripleo variables to define the dashboard images are set via tht
   (external_deploy_steps)

Closes-Bug: #1977956
Change-Id: If642620e1cb285a2ac47c6ac09edd5abbb94b1ba
"
openstack%2Fpuppet-glance~master~Id837c84c03e2492ed586a8a20df7419e6131a5e9,openstack/puppet-glance,master,trivial-fix,Id837c84c03e2492ed586a8a20df7419e6131a5e9,Fix typo in spec test,MERGED,2022-06-17 10:13:57.000000000,2022-06-17 16:22:35.000000000,2022-06-17 16:22:35.000000000,3,3,0,846296,abe6f06acb475f7236b631c09534623551967216,7,4,1,1,20733,Rajesh Tailor,rajesht,"Fix typo in spec test

Change-Id: Id837c84c03e2492ed586a8a20df7419e6131a5e9
"
openstack%2Ftripleo-upgrade~stable%2Fussuri~Iae27f89e64a9276017a453db194e9f357ef338e2,openstack/tripleo-upgrade,stable/ussuri,,Iae27f89e64a9276017a453db194e9f357ef338e2,Fix validation inventory setup.,ABANDONED,2022-06-16 08:47:06.000000000,2022-06-17 16:09:27.000000000,,3,1,0,846133,924ff4ffebf2f36136f73a8ac0370f560cb131a3,5,1,2,1,8297,Sofer Athlan-Guyot,chem,"Fix validation inventory setup.

The tripleo-ansible-inventory needs the authentication information in
the environment and the inventory option doesn't work on train.

Change-Id: Iae27f89e64a9276017a453db194e9f357ef338e2
Closes-Bug: 1973743
(cherry picked from commit 4b5baada818cfb470000751c412bcc2b81aef49e)
"
openstack%2Ftripleo-upgrade~stable%2Fvictoria~Iae27f89e64a9276017a453db194e9f357ef338e2,openstack/tripleo-upgrade,stable/victoria,,Iae27f89e64a9276017a453db194e9f357ef338e2,Fix validation inventory setup.,ABANDONED,2022-06-16 08:45:25.000000000,2022-06-17 16:09:13.000000000,,3,1,1,846132,4b5baada818cfb470000751c412bcc2b81aef49e,5,1,2,1,8297,Sofer Athlan-Guyot,chem,"Fix validation inventory setup.

The tripleo-ansible-inventory needs the authentication information in
the environment and the inventory option doesn't work on train.

Change-Id: Iae27f89e64a9276017a453db194e9f357ef338e2
Closes-Bug: 1973743
(cherry picked from commit 48d0b7f70ef9e8ba8caae631f45dd512e2f69c5a)
"
openstack%2Fnova~master~Ic308a19374bdefd12fdc4845e2d9270c256efc65,openstack/nova,master,test_multiple_vgpus,Ic308a19374bdefd12fdc4845e2d9270c256efc65,Add a functest for verifying multiple VGPU allocations,NEW,2022-06-14 13:09:35.000000000,2022-06-17 16:05:15.000000000,,15,0,0,845747,0e4fdf326bdda62fc088b94deb681c46f2635e3d,15,1,2,1,7166,Sylvain Bauza,sbauza,"Add a functest for verifying multiple VGPU allocations

In libvirt, we have a TODO note explaining that we don't support more than one
allocation per resource provider for VGPU resource class.
That means that if someone wants to ask for multiple vGPUs be using different
pGPUs, this won't work.

In order to support more than one vGPU, we need to fix this TODO.

Change-Id: Ic308a19374bdefd12fdc4845e2d9270c256efc65
Related-Bug: #1758086
"
openstack%2Fnova~stable%2Fussuri~Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320,openstack/nova,stable/ussuri,bug/1939545,Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320,functional: Use tempdir for CONF.instances_path,NEW,2022-06-16 17:00:23.000000000,2022-06-17 15:53:05.000000000,,2,5,0,846204,05c88a4e21b523ad30ab133093b627a0fae78adf,9,2,3,2,8864,Artom Lifshitz,artom,"functional: Use tempdir for CONF.instances_path

This was being set in an ad-hoc manner throughout the code, but it's
necessary for all kinds of live migration and evacuation operations.
Just centralize the configuration.

NOTE(artom) This is being backported because a functional test failure
was observed in stable/train when running functional tests that are
added by subsequent patches. The specific error was:

No such file or directory:
'/home/zuul/src/opendev.org/openstack/nova/instances/tmpif84g_jd

The failure is not always reproducible, but never happened again with
this patch cherry-picked to stable/train. Because this is a useful
patch to have regardless, and to avoid skipping a stable release,
cherry-pick it to stable/ussuri as well.

Conflicts:
* nova/tests/functional/libvirt/base.py due to 6c4d1a6aabb changing
 the context around the line this cherry-pick adds.
* nova/tests/functional/libvirt/test_numa_live_migration.py didn't
  exist in stable/ussuri.

Change-Id: Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 980711f3d3f2db9dfd792a8c6fd15cb45a85f615)
"
openstack%2Ftripleo-ci~master~I55a9feb105e13d6ab99810f09459bd9760cf1e9e,openstack/tripleo-ci,master,workaround_py36,I55a9feb105e13d6ab99810f09459bd9760cf1e9e,"Revert ""Install Python38 on CentOS-8""",MERGED,2022-06-16 05:53:31.000000000,2022-06-17 15:45:28.000000000,2022-06-17 15:45:28.000000000,12,17,4,846113,c5254c2224a80ebfbd33b21eb1aaa7686d91dc97,20,9,2,2,12393,chandan kumar,chkumar246,"Revert ""Install Python38 on CentOS-8""

This reverts commit 6d7eaa96f73f348ecdd8b63c8a31ad64e2411119.

Closes-Bug: #1977888

Reason for revert: https://review.opendev.org/c/openstack/diskimage-builder/+/845217

Change-Id: I55a9feb105e13d6ab99810f09459bd9760cf1e9e
"
openstack%2Fproject-config~master~I525634ba5a6d142d28f7254e13761d4eb7420aed,openstack/project-config,master,fix-propose-updates,I525634ba5a6d142d28f7254e13761d4eb7420aed,Use virtualenv in translation update jobs,MERGED,2022-06-17 14:26:53.000000000,2022-06-17 15:44:08.000000000,2022-06-17 15:44:08.000000000,2,2,1,846390,e06aa44fe1ec21ff070b503e804d93c0b5726c46,7,4,1,1,13861,yatin,yatinkarel,"Use virtualenv in translation update jobs

""python3.8 -m venv"" is not working as python3.8-venv
is not installed due to an issue mentioned in [1], let's
switch to ""virtualenv"" command that supports -p option
to pass required python version.

[1] https://review.opendev.org/c/zuul/zuul-jobs/+/846201

Change-Id: I525634ba5a6d142d28f7254e13761d4eb7420aed
"
openstack%2Fkeystone~master~I98a68caa5493839f8dea007308bd031693115848,openstack/keystone,master,remove-sqlalchemy-migrate,I98a68caa5493839f8dea007308bd031693115848,WIP sql: Don't rely on globals to configure enginefacades,NEW,2022-06-17 13:38:33.000000000,2022-06-17 15:31:59.000000000,,103,127,1,846368,9033ab3ae915ae110d81b3275a31fcce457d4678,3,1,1,7,15334,Stephen Finucane,sfinucan,"WIP sql: Don't rely on globals to configure enginefacades

I can't figure out what test is causing a conflict with the update
migration tests in the alembic migration series but the root cause is
the use of global enginefacades. We can't remove the global enginefacade
since those things are supposed to be global, but we can rely on monkey
patching rather than a single enginefacade that we need to patch.

WIP because I've clearly missed something as we're seeing Foreign Key
Constraint failures when creating projects. I would assume this is
because the parent project isn't being created.

Change-Id: I98a68caa5493839f8dea007308bd031693115848
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fproject-config~master~Ib0e7aa374b4fcf8b4a825fe883a5f3de13a129a5,openstack/project-config,master,pyroute2_master_jobs,Ib0e7aa374b4fcf8b4a825fe883a5f3de13a129a5,Add github svinota/pyroute2 to project list,MERGED,2022-06-17 13:37:28.000000000,2022-06-17 15:24:49.000000000,2022-06-17 14:05:19.000000000,1,0,2,846364,8f229e13f23f766f6c9d917eb209a54f575ac655,9,4,1,1,8313,Lajos Katona,elajkat,"Add github svinota/pyroute2 to project list

Addig pyroute2 to project listwe can have jobs in Neutron which
executed with master pyroute2 to have early feedback.
See: https://review.opendev.org/c/openstack/neutron/+/846288

Change-Id: Ib0e7aa374b4fcf8b4a825fe883a5f3de13a129a5
"
openstack%2Fopenstack-ansible~stable%2Fxena~I75bdab29353f33fa009bf9a7ff1f565f1660ed59,openstack/openstack-ansible,stable/xena,,I75bdab29353f33fa009bf9a7ff1f565f1660ed59,Define corosync interface for facts gathering,MERGED,2022-06-16 13:50:38.000000000,2022-06-17 15:24:46.000000000,2022-06-17 15:21:49.000000000,2,0,2,846124,41547fc5bd4841a7584105b271733fdc990541e5,17,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Define corosync interface for facts gathering

When moving facts gathering to independent play we forgot to
define variable that's being used for filtering. This makes playbook
fail.

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_masakari/+/845798
Change-Id: I75bdab29353f33fa009bf9a7ff1f565f1660ed59
"
openstack%2Fcharm-manila-netapp~stable%2Fxena~Ib18f5265ade81a56fcace08fc66306f5d7bcb1a3,openstack/charm-manila-netapp,stable/xena,update-bundles-xena,Ib18f5265ade81a56fcace08fc66306f5d7bcb1a3,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:48:00.000000000,2022-06-17 15:08:49.000000000,2022-06-17 15:08:49.000000000,16,16,1,846326,e4c86ac626d53db30c3e643af4adba754036698c,7,3,1,2,20870,Alex Kavanagh,ajkavanagh,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: Ib18f5265ade81a56fcace08fc66306f5d7bcb1a3
"
openstack%2Ftripleo-ansible~master~I56d8862522fe82cb9f2373574ee067fbe4cae98d,openstack/tripleo-ansible,master,set_backend_fact,I56d8862522fe82cb9f2373574ee067fbe4cae98d,Set current ceph dashboard mgr backend fact,MERGED,2022-06-08 10:41:16.000000000,2022-06-17 15:08:41.000000000,2022-06-17 15:08:41.000000000,6,3,2,845115,a2200b6eea3f8ff8ac1df34f523778d9426f9c75,16,6,2,1,25402,Francesco Pantano,fmount,"Set current ceph dashboard mgr backend fact

Due to a potential issue related to regex_replace combinated to an
ansible varialble value rendering, it's recommended setting the
fact and simplify the Ceph command that is supposed to set the backend.

Change-Id: I56d8862522fe82cb9f2373574ee067fbe4cae98d
"
openstack%2Fopenstack-ansible-os_neutron~master~I79775c4200bbeffca1e9188543237a92f19c756c,openstack/openstack-ansible-os_neutron,master,limit_max_agents,I79775c4200bbeffca1e9188543237a92f19c756c,Fix templated max agents for l3 and dhcp,ABANDONED,2018-11-12 22:32:59.000000000,2022-06-17 15:01:23.000000000,,2,2,0,617388,f00c80ee6f5948178a1c705aff56b185e6338bc3,8,4,1,1,14805,Jimmy McCrory,jimmy-mccrory,"Fix templated max agents for l3 and dhcp

If there are more than two l3 or dhcp agents within an environment the
templated 'max_l3_agents_per_router' and 'dhcp_agents_per_network' were
set to the total number of agents.

This has been corrected to limit the agents per router and agents per
network to a maximum of 2 agents.

Change-Id: I79775c4200bbeffca1e9188543237a92f19c756c
"
openstack%2Fansible-config_template~master~Iadddef84eae31fab9478ad02220ae49d1c91fa4c,openstack/ansible-config_template,master,,Iadddef84eae31fab9478ad02220ae49d1c91fa4c,Use ensure SafeDumper used yaml configs,MERGED,2022-04-15 10:51:30.000000000,2022-06-17 14:53:45.000000000,2022-06-16 09:25:55.000000000,2,0,3,838141,3222aeda8f6a2d380802153a15a5fd961d356024,15,4,4,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use ensure SafeDumper used yaml configs

With ansible 2.12 they started using CSafeDumper instead of
SafeDumper which ignores indent in yaml files.
To preserver behaviour and config formats we fallback to original
behaviour with indenting.
For that we adjust parenting of AnsibleDumper and adding SafeDumper
when it's not present there.

[1] https://github.com/ansible/ansible/blob/bfd93c835afdca638fe0757d64a9a2a4e7e72cdc/lib/ansible/module_utils/common/yaml.py#L30

Change-Id: Iadddef84eae31fab9478ad02220ae49d1c91fa4c
"
openstack%2Ftripleo-ci~master~Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d,openstack/tripleo-ci,master,create-tempest-options-jobs,Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d,Added standalone-full-tempest-api & -scenario -options jobs,MERGED,2022-05-25 12:03:36.000000000,2022-06-17 14:51:00.000000000,2022-06-17 14:51:00.000000000,27,0,24,843268,25a426031774d2093f487c3d33da80625c2b9f71,60,8,10,1,20182,Bhagyashri Shewale,bhagyashris,"Added standalone-full-tempest-api & -scenario -options jobs

These job definitions are defined in github.com/rdo-infra/rdo-jobs
repo e.g. [1] and reduplicated in downstream jobs repo.

We can not define the -options jobs in RDO because rdo-jobs repos
are not shadowed downstream (as it brings so many job definitions,
which are hard to manage downstream). So it needs to be defined in
tripleo-ci upstream repo and inherited where ever required.

[1] https://github.com/rdo-infra/rdo-jobs/blob/3b7557a6f24f8f1776f0a70ee13eb1c32c118753/zuul.d/standalone-jobs.yaml#L245-L255
Change-Id: Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d
"
openstack%2Fansible-collections-openstack~master~Ibaa74ee6095a84aa84cedc2d02e97a679c68b9d0,openstack/ansible-collections-openstack,master,endpoint,Ibaa74ee6095a84aa84cedc2d02e97a679c68b9d0,"Revert ""Update endpoint to new proxy layer""",ABANDONED,2022-06-16 04:54:32.000000000,2022-06-17 14:43:42.000000000,,26,103,0,846112,e28c26db793de566a3f9e1d7b60c2c6be619c4ce,4,6,1,4,34208,Rafael Castillo,rcastill,"Revert ""Update endpoint to new proxy layer""

This reverts commit 452404ee870ab72d496c9bd3d02933a2167963c7.

Reason for revert: testing

Change-Id: Ibaa74ee6095a84aa84cedc2d02e97a679c68b9d0
"
openstack%2Fcharm-guide~master~I724633bac00793b0e90c855545050f5f4fec40bf,openstack/charm-guide,master,virtual-workstation,I724633bac00793b0e90c855545050f5f4fec40bf,vgpu: Add virtual workstation example,MERGED,2022-06-17 11:04:21.000000000,2022-06-17 14:42:45.000000000,2022-06-17 14:40:48.000000000,12,0,0,846339,226b4cbe10f8775897b55558d6e8e6a155605660,7,2,1,1,935,James Page,james-page,"vgpu: Add virtual workstation example

Add an example on how to configured a hypervisor for use as a
virtual workstation rather than for general compute workloads.

This specifically excludes setup of required guest instance
GRIDD drivers and selection of remote desktop access utilities;
drivers are NVIDIA propriety and require licenses and numerous
propriety remote desktop solutions exist.

Open Source remote desktop solutions are still fairly primitive.

Change-Id: I724633bac00793b0e90c855545050f5f4fec40bf
"
openstack%2Fcharm-guide~master~I7f53becdda539697e459bf47db627b99e67f1fff,openstack/charm-guide,master,vgpu-grid-types,I7f53becdda539697e459bf47db627b99e67f1fff,Update vGPU guide for compatible GPU type,MERGED,2022-05-18 15:13:12.000000000,2022-06-17 14:29:51.000000000,2022-06-17 14:27:51.000000000,16,30,6,842374,8018bb3de5ba1c215e770a4e303d6e9a8b462307,26,3,8,1,935,James Page,james-page,"Update vGPU guide for compatible GPU type

Ensure that a suitable GPU type is configured for the vGPU
mediated devices - some types are not compatible with the
NVIDIA GRID driver.

Bump baseline to Ubuntu 20.04 LTS with OpenStack Ussuri; this
is the earliest release combination that is tested.

Change-Id: I7f53becdda539697e459bf47db627b99e67f1fff
"
openstack%2Fopenstack-ansible-os_magnum~master~Ic77d8645613d265997895b6742b334336ce00ec1,openstack/openstack-ansible-os_magnum,master,osa/service_tokens,Ic77d8645613d265997895b6742b334336ce00ec1,Support service tokens,MERGED,2022-06-15 16:58:20.000000000,2022-06-17 14:06:44.000000000,2022-06-17 14:03:43.000000000,18,22,1,846037,4c4c70a3768fa12b1b3ed077ab1736b85d8fd43a,17,4,4,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846142
Change-Id: Ic77d8645613d265997895b6742b334336ce00ec1
"
openstack%2Fopenstack-ansible-os_magnum~master~I3eedd74717b3b621b4e0b6ae4a8df4ee6f1eb739,openstack/openstack-ansible-os_magnum,master,,I3eedd74717b3b621b4e0b6ae4a8df4ee6f1eb739,Control amount of conductor workers,MERGED,2022-06-16 11:52:36.000000000,2022-06-17 14:05:22.000000000,2022-06-17 14:03:40.000000000,13,0,3,846153,5e1780b8098216fc645e2de353d716b744c4a1b6,15,4,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Control amount of conductor workers

As of today we didn't manage amount of magnum-conductors that equal to
amount of CPU on host. So things can go off regarding CPU and memory
consumption. For better control on resources we add variable to control
conductor workers.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846151
Change-Id: I3eedd74717b3b621b4e0b6ae4a8df4ee6f1eb739
"
openstack%2Ftripleo-heat-templates~master~I3a73996b00e7d169756875b39aba18f8f305a718,openstack/tripleo-heat-templates,master,legacy-env,I3a73996b00e7d169756875b39aba18f8f305a718,Remove legacy network-isolation env files,MERGED,2022-05-09 12:54:39.000000000,2022-06-17 14:04:17.000000000,2022-05-10 18:04:07.000000000,0,189,2,841112,f71723aa591955a5cc9b64bd8416a388d5d9911f,11,6,1,4,30073,Brendan Shephard,bshephar,"Remove legacy network-isolation env files

These environment files no longer work. In
fact, using them will cause errors during the
deployment. We should remove them to avoid
causing confusion for users.

Change-Id: I3a73996b00e7d169756875b39aba18f8f305a718
"
openstack%2Fcharm-vault~master~I54cc83d5ce02dc823a6a21baf8045392eed5ab6f,openstack/charm-vault,master,bug/1846282,I54cc83d5ce02dc823a6a21baf8045392eed5ab6f,Add action to get vault status,NEW,2020-12-18 02:34:07.000000000,2022-06-17 13:54:01.000000000,,42,0,2,767655,5873b6c2d77f5588926aed920b0662807da7c985,12,4,2,5,32578,Linda Guo,lihuiguo,"Add action to get vault status

As requested by bug #1846282, add 'status' action
that will emit output equivalent to the CLI command
of `systemctl status vault`.

This change also added unit and functional test for
'status' action.

Closes-Bug: #1846282
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/474

Change-Id: I54cc83d5ce02dc823a6a21baf8045392eed5ab6f
"
openstack%2Fcharm-neutron-openvswitch~stable%2Fwallaby~Idd97e21dd04dae6b1afe6cd5ef57a92ad9dfebac,openstack/charm-neutron-openvswitch,stable/wallaby,fix-py36,Idd97e21dd04dae6b1afe6cd5ef57a92ad9dfebac,Pin tempest for python<3.8,ABANDONED,2022-06-16 17:35:42.000000000,2022-06-17 13:35:56.000000000,,2,2,0,846211,efe699c3d5db72a680bc7334672af8d8d07dacb3,5,1,2,1,10058,Erlon R. Cruz,sombrafam,"Pin tempest for python<3.8

Change-Id: Idd97e21dd04dae6b1afe6cd5ef57a92ad9dfebac
"
openstack%2Fcharm-magpie~master~I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d,openstack/charm-magpie,master,detect-packet-loss,I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d,Detect minor packet loss in ping step,MERGED,2022-05-16 02:03:21.000000000,2022-06-17 13:24:42.000000000,2022-06-17 13:24:42.000000000,76,70,68,841826,ca6b68cf4198ed9656c86b4c124785f97f098f24,103,5,25,4,34352,Samuel Walladge,swalladge,"Detect minor packet loss in ping step

Improve how the ping check works to detect packet loss.
Previously, the ping check would only fail
with high packet loss situations.

Add charm config for interval between sending ping packets,
so we have more control for tuning if required.

In the juju status output message,
the percentage of packet loss will now be shown for each host
if there was packet loss.
Examples:

- 100% loss (total failure): icmp failed: ['1: 100% packet loss']
- some loss, but not total: icmp failed: ['1: 25% packet loss']
- host 1 total failure, host 2 with some packet loss:
    icmp failed: ['1: 100% packet loss', '2: 25% packet loss']
- all good: icmp ok

Finally, drop the py35 tox test env,
because python 3.5 is no longer supported.

Closes-Bug: #1973606
Closes-Bug: #1973659

Change-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d
"
openstack%2Fdevstack-tools~master~Iaa3a96e20dc8aeb89d237f267612d5a3397b3dd1,openstack/devstack-tools,master,,Iaa3a96e20dc8aeb89d237f267612d5a3397b3dd1,Drop py3.6 and py3.7 from devstack-tools,MERGED,2022-06-16 09:06:43.000000000,2022-06-17 13:19:27.000000000,2022-06-17 13:17:02.000000000,7,7,1,846138,325d17522d528380c8ca5fc5b1df9f4ff86c2f4a,11,3,2,3,22873,Martin Kopec,mkopec,"Drop py3.6 and py3.7 from devstack-tools

In zed cycle, OpenStack projects and oslo lib have dropped
the py3.6 and py3.7 support:

- https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Iaa3a96e20dc8aeb89d237f267612d5a3397b3dd1
"
openstack%2Fovn-octavia-provider~master~I7c75003516015863320e53f0175dec8fdf4e2cf7,openstack/ovn-octavia-provider,master,,I7c75003516015863320e53f0175dec8fdf4e2cf7,Apply ServiceMonitorEvent to affected LBs,MERGED,2022-06-01 11:48:10.000000000,2022-06-17 13:15:10.000000000,2022-06-17 13:13:59.000000000,114,71,11,844283,7db9e23fd9642eacb78731bf215a4820978436ca,30,3,1,2,34451,Fernando Royo,froyo,"Apply ServiceMonitorEvent to affected LBs

Every Health_Monitor over a LB creates Load_Balancer_Health_Check
NB entry, and it creates 1..n Service_Monitor OVN SB entries according
to the member to be monitored. When more than one LB exists on the
same network segment for the same member, Service_Monitor SB
entries are not duplicated, in order to not performing multiple
checks on the same member.

When a ServiceMonitorUpdateEvent is received with status information
from a member, the LBs that match the event information (protocol,
ip, port and logical_port) are searched. At this way we ensure that
network segments are separated where the same ip and port could match
but the logical_port would be different.

The current logic will update just the status of the first LB selected
as ""related"" to the member event received from the Service_Monitor,
but we could use this information to keep updated all those LBs, that
are in the same network segment and have a Health_Monitor associated
to.

This patch will fix this behaviour in order to provide status to
Octavia of all LBs affected by a ServiceMonitorUpdateEvent.

Partial-Bug: #1965772
Closes-Bug: #1965772
Change-Id: I7c75003516015863320e53f0175dec8fdf4e2cf7
"
openstack%2Freleases~master~I762eed44fa0e0953af1a450d4b2f4ee49fb14625,openstack/releases,master,release_osa,I762eed44fa0e0953af1a450d4b2f4ee49fb14625,EOL Pike branch for OpenStack-Ansible,ABANDONED,2022-06-17 12:58:15.000000000,2022-06-17 12:58:57.000000000,,82,0,0,846355,7832fbb98f15203c4fa4c1bdd1c6818d6caa6827,2,0,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"EOL Pike branch for OpenStack-Ansible

Change-Id: I762eed44fa0e0953af1a450d4b2f4ee49fb14625
"
openstack%2Fopenstack-ansible~master~I44cb4e6bb41976c9e5f87958400a7b5c0816553b,openstack/openstack-ansible,master,846228,I44cb4e6bb41976c9e5f87958400a7b5c0816553b,Reduce memory consumption in CI,ABANDONED,2022-06-16 21:58:28.000000000,2022-06-17 12:23:36.000000000,,5,0,4,846228,0e468455e5dcbff2ec58f30340c289ee8dd646af,10,2,3,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Reduce memory consumption in CI

This patch reduces memory usage of the different OpenStack Python
services by tuning glibc.

The specific tuning consist on disabling the per thread arenas and
disabling dynamic thresholds.

Related-To: https://review.opendev.org/c/openstack/tripleo-common/+/845807
Related-To: https://review.opendev.org/c/openstack/devstack/+/845805
Change-Id: I44cb4e6bb41976c9e5f87958400a7b5c0816553b
"
openstack%2Fopenstack-ansible~master~I62496355bd5a80133d7eb97eb9744c6c1cc1f8fe,openstack/openstack-ansible,master,osa/service_tokens,I62496355bd5a80133d7eb97eb9744c6c1cc1f8fe,Disable service_token requirement by default,MERGED,2021-12-27 12:25:18.000000000,2022-06-17 12:17:48.000000000,2022-06-17 12:14:34.000000000,3,0,5,823005,e19a93b5f5b5789e3feb3ea81abba55e1084595c,27,4,4,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Disable service_token requirement by default

Since requirement of service tokens will break services during upgrade,
we disable verification by default and will drop override
with next release.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/823009
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/845717
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/845708
Change-Id: I62496355bd5a80133d7eb97eb9744c6c1cc1f8fe
"
openstack%2Fopenstack-ansible~stable%2Fpike~I1360988e87d08468d93832226b804dbe666713ca,openstack/openstack-ansible,stable/pike,826956,I1360988e87d08468d93832226b804dbe666713ca,EOL Pike branch,MERGED,2022-01-29 10:10:14.000000000,2022-06-17 12:17:33.000000000,2022-06-17 12:14:40.000000000,129,135,2,826956,378dee772f27bd0778f89cc76fdb08e4c4b3fd81,26,5,6,6,28619,Dmitriy Rabotyagov,noonedeadpunk,"EOL Pike branch

We agreed to EOL Pike as we have no futher plans to provide any patches
to the stable/pike branch.

Due to specifics of releases repo for older branches, we have to
EOL integrated repo and services repos in one shot, so we have to switch
roles to tags that not yet exist.

We switch to noop jobs as the Pike branch relies on external versions
of get-pip.py which no longer exist at the original URL.

Change-Id: I1360988e87d08468d93832226b804dbe666713ca
"
openstack%2Ftempest~master~Icdb3398061d0274fec8b4e10d955a4b00edf4524,openstack/tempest,master,wait_until_sshable_pingable,Icdb3398061d0274fec8b4e10d955a4b00edf4524,compute: Move volume attached live migration tests to use SSHABLE,MERGED,2021-11-12 14:59:27.000000000,2022-06-17 12:04:44.000000000,2022-06-15 11:52:36.000000000,11,6,13,817772,00bdb22cc31db962986ca910a909c0a25b3f590f,40,3,8,1,10135,Lee Yarwood,lyarwood,"compute: Move volume attached live migration tests to use SSHABLE

Live migration tests the volume attachment and checking the
server ssh-able will help to avoid any race during attachment
operation.

Change-Id: Icdb3398061d0274fec8b4e10d955a4b00edf4524
"
openstack%2Fnova~stable%2Fwallaby~Ic46345ceeb445164aea6ae9b35c457c6150765f6,openstack/nova,stable/wallaby,bug/1915400,Ic46345ceeb445164aea6ae9b35c457c6150765f6,Fix eventlet.tpool import,NEW,2022-06-15 10:43:27.000000000,2022-06-17 11:52:22.000000000,,2,1,2,845838,33663379018907ae8c931978ee5608eb93881bea,19,2,1,1,9708,Balazs Gibizer,gibi,"Fix eventlet.tpool import

Currently nova.utils.tpool_execute() only works by chance. And as the
bug report shows there are env where it fails.

The nova.utils.tpool_execute() call tries to uses eventlet.tpool.execute
but the tpool module is not imported by the utils module only eventlet.
In devstack it works by chance as the wsgi init actually imports
eventlet.tpool indirectly via:

Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/opt/stack/nova/nova/api/openstack/compute/__init__.py"", line 21, in <module>
    from nova.api.openstack.compute.routes import APIRouterV21 # noqa
  File ""/opt/stack/nova/nova/api/openstack/compute/routes.py"", line 20, in <module>
    from nova.api.openstack.compute import admin_actions
  File ""/opt/stack/nova/nova/api/openstack/compute/admin_actions.py"", line 17, in <module>
    from nova.api.openstack import common
  File ""/opt/stack/nova/nova/api/openstack/common.py"", line 27, in <module>
    from nova.compute import task_states
  File ""/opt/stack/nova/nova/compute/task_states.py"", line 26, in <module>
    from nova.objects import fields
  File ""/opt/stack/nova/nova/objects/fields.py"", line 24, in <module>
    from nova.network import model as network_model
  File ""/opt/stack/nova/nova/network/model.py"", line 23, in <module>
    from nova import utils
  File ""/opt/stack/nova/nova/utils.py"", line 39, in <module>
    from oslo_concurrency import processutils
  File ""/usr/local/lib/python3.8/dist-packages/oslo_concurrency/processutils.py"", line 57, in <module>
    from eventlet import tpool

This was broken since I8dbc579e0037969aab4f2bb500fccfbde4190726. This
patch adds the correct import statement.

Change-Id: Ic46345ceeb445164aea6ae9b35c457c6150765f6
Closes-Bug: #1915400
(cherry picked from commit b2d28f890872747d099a262e4a208e146b882f3f)
(cherry picked from commit a9f444a997cd0a26aae3dac821299adf0e944121)
(cherry picked from commit b57fce8d14b94059c65526450468d48dab736983)
"
openstack%2Fopenstack-ansible~master~Iec646c86f314acf825b06917149adcf7ce1e2248,openstack/openstack-ansible,master,,Iec646c86f314acf825b06917149adcf7ce1e2248,Fix deprecations handling in journal logs,MERGED,2022-06-16 15:30:08.000000000,2022-06-17 11:11:41.000000000,2022-06-17 11:08:28.000000000,21,5,1,846189,fe627c50d2e1910b6f5a04024f97e974114875f1,11,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix deprecations handling in journal logs

Currently deprecations log is only created for the first service, as
indent is incorrect, so log created only when destination
directory does not exist.

Additionally flow changed to include deprications in output_files and
moving verification of directory existance out of
cycle.

We also now interate over unique set of services, as before
common_log_names and a-r-r were containing duplicates.

Change-Id: Iec646c86f314acf825b06917149adcf7ce1e2248
"
openstack%2Fopenstack-ansible~master~I9414a7453caf5e8056537582f1e9fb8bca676a80,openstack/openstack-ansible,master,,I9414a7453caf5e8056537582f1e9fb8bca676a80,Explicitly use collection for haproxy module,MERGED,2022-06-14 12:35:49.000000000,2022-06-17 11:10:10.000000000,2022-06-17 11:08:21.000000000,1,1,4,845740,5237dd40f310b702559a2d5bfd2d67afbca439d0,15,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Explicitly use collection for haproxy module

It's worth to be explicit what module from what collection is used.

Change-Id: I9414a7453caf5e8056537582f1e9fb8bca676a80
"
openstack%2Fopenstack-ansible~master~Ic00a2c64a59b889426240e5f4c9ecced4b658ccc,openstack/openstack-ansible,master,,Ic00a2c64a59b889426240e5f4c9ecced4b658ccc,Reduce m1.magnum flavor,MERGED,2022-06-16 09:43:47.000000000,2022-06-17 11:08:24.000000000,2022-06-17 11:08:24.000000000,1,1,0,846142,b336c6a7d772d60fad94b7706c0baed95dc80a8a,7,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Reduce m1.magnum flavor

In CI we apparently don't have enough RAM to provision cluster with
current flavors. Trying to reduce flavor size to make CI more reliable.

Change-Id: Ic00a2c64a59b889426240e5f4c9ecced4b658ccc
"
openstack%2Fneutron~stable%2Fwallaby~If14ccff79f77618133cce4bf95e3f1eea7ba8cf3,openstack/neutron,stable/wallaby,bug/1947334,If14ccff79f77618133cce4bf95e3f1eea7ba8cf3,[OVN][QoS] Add external_ids reference to port QoS registers,MERGED,2022-06-15 16:21:57.000000000,2022-06-17 11:06:48.000000000,2022-06-17 11:04:48.000000000,83,12,0,846028,3090ed0cdfecec22e6c2d57af42dad261864457c,14,5,2,5,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN][QoS] Add external_ids reference to port QoS registers

Same as with floating IP QoS OVN registers, port QoSes should have a
""external_ids"" reference to the port ID this QoS is attached to.

Related-Bug: #1947334

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Change-Id: If14ccff79f77618133cce4bf95e3f1eea7ba8cf3
(cherry picked from commit ce7f2795384e05b7e086bdab41226a69708dfdc5)
(cherry picked from commit 92e8a6a37863d8e0f9bbc8ea96a6440b922c7bf5)
"
openstack%2Fneutron~stable%2Fxena~If14ccff79f77618133cce4bf95e3f1eea7ba8cf3,openstack/neutron,stable/xena,bug/1947334,If14ccff79f77618133cce4bf95e3f1eea7ba8cf3,[OVN][QoS] Add external_ids reference to port QoS registers,MERGED,2022-06-15 16:21:15.000000000,2022-06-17 11:06:26.000000000,2022-06-17 11:04:44.000000000,83,12,1,846027,92e8a6a37863d8e0f9bbc8ea96a6440b922c7bf5,14,5,2,5,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN][QoS] Add external_ids reference to port QoS registers

Same as with floating IP QoS OVN registers, port QoSes should have a
""external_ids"" reference to the port ID this QoS is attached to.

Related-Bug: #1947334

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Change-Id: If14ccff79f77618133cce4bf95e3f1eea7ba8cf3
(cherry picked from commit ce7f2795384e05b7e086bdab41226a69708dfdc5)
"
openstack%2Fopenstack-ansible~master~I561ac698e007925abb414d74fecb332fbbe56f74,openstack/openstack-ansible,master,,I561ac698e007925abb414d74fecb332fbbe56f74,Limit magnum workers in CI,MERGED,2022-06-16 11:47:46.000000000,2022-06-17 11:02:31.000000000,2022-06-17 11:00:39.000000000,4,0,1,846151,2ccd1521f9324ba1708848941416ec8cb08b3bbb,10,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Limit magnum workers in CI

Reduce amount of wrokers for magnum to bare minimum when launched in CI.

Change-Id: I561ac698e007925abb414d74fecb332fbbe56f74
"
openstack%2Fopenstack-ansible-os_nova~master~I6be16f7621899a45271a70e7c39d76b837d8c5c9,openstack/openstack-ansible-os_nova,master,,I6be16f7621899a45271a70e7c39d76b837d8c5c9,Remove AvailabilityZoneFilter from scheduler,MERGED,2022-06-17 06:03:40.000000000,2022-06-17 11:01:13.000000000,2022-06-17 10:59:30.000000000,0,1,0,846271,611722ffd7e979c5ac0872109e601ce8ddd0c7e7,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove AvailabilityZoneFilter from scheduler

The 'AvailabilityZoneFilter' is deprecated since the 24.0.0 (Xena)
release. The feature is enabled by query_placement_for_availability_zone
config option and is now enabled by default.

Change-Id: I6be16f7621899a45271a70e7c39d76b837d8c5c9
"
openstack%2Fopenstack-ansible~master~I5d778dd4fbe216eb2c0c88f5c397268e39980808,openstack/openstack-ansible,master,,I5d778dd4fbe216eb2c0c88f5c397268e39980808,Add mistral-extra to required projects in CI,MERGED,2022-06-16 08:59:50.000000000,2022-06-17 10:56:58.000000000,2022-06-17 10:53:15.000000000,1,0,2,846135,e112e895e9b2e91fbcda06ce73f99b454f861756,13,3,1,1,25023,Jonathan Rosser,jrosser,"Add mistral-extra to required projects in CI

We can't reference the local zuul version of this repo without
adding it here.

Change-Id: I5d778dd4fbe216eb2c0c88f5c397268e39980808
"
openstack%2Fnova~master~Ib3a0cdff00cdf127036c045e91292ead49339acd,openstack/nova,master,wip-memory,Ib3a0cdff00cdf127036c045e91292ead49339acd,DNM: Testing memory usage of n-cpu (3/3),ABANDONED,2022-06-16 17:11:38.000000000,2022-06-17 10:51:03.000000000,,0,1,0,846209,ef9c66e8fd4a2947f2642a095518935fbfa157e4,13,1,2,1,9535,Gorka Eguileor,Gorka,"DNM: Testing memory usage of n-cpu (3/3)

Ask glibc to trim memory and release it to the system and use a single
arena for all native threads and disable dynamic threshold calculations
(this comes from the devstack dependency).

Depends-On: Ic9030d01468b3189350f83b04a8d1d346c489d3c
Change-Id: Ib3a0cdff00cdf127036c045e91292ead49339acd
"
openstack%2Fnova~master~I31f418e68baf525057b15f857911018c71b0b1ce,openstack/nova,master,wip-memory,I31f418e68baf525057b15f857911018c71b0b1ce,DNM: Testing memory usage of n-cpu (2/3),ABANDONED,2022-06-16 17:11:38.000000000,2022-06-17 10:50:56.000000000,,9,0,0,846208,bc43df115f2246444217a17b290109a2eeb4f5b1,15,1,2,1,9535,Gorka Eguileor,Gorka,"DNM: Testing memory usage of n-cpu (2/3)

Ask glibc to trim memory and release it to the system.

Change-Id: I31f418e68baf525057b15f857911018c71b0b1ce
"
openstack%2Fnova~master~I342071bcc6200030a61ea24af2e10c16b2a8ef6f,openstack/nova,master,wip-memory,I342071bcc6200030a61ea24af2e10c16b2a8ef6f,DNM: Testing memory usage of n-cpu (1/3),ABANDONED,2022-06-16 17:11:38.000000000,2022-06-17 10:50:47.000000000,,0,133,0,846207,226ec6180cbd7b23304e67f90421855e94fb22f2,12,1,2,1,9535,Gorka Eguileor,Gorka,"DNM: Testing memory usage of n-cpu (1/3)

Leave only the nova-multi-cell check job to see if we can figure out
something on why n-cpu consumes so much memory on the compute only node.

This is going to be a series of 3 patches

- Code as it is (this patch)
- Asking glibc to release memory to the system
- Same as above + Single malloc arena

Change-Id: I342071bcc6200030a61ea24af2e10c16b2a8ef6f
"
openstack%2Fopenstack-ansible-os_zun~master~Id451d06bcc40c94e9ef021dd7e3c1d14703e73cc,openstack/openstack-ansible-os_zun,master,osa/service_tokens,Id451d06bcc40c94e9ef021dd7e3c1d14703e73cc,Support service tokens,MERGED,2022-06-15 17:33:51.000000000,2022-06-17 10:45:34.000000000,2022-06-17 10:44:23.000000000,12,4,2,846046,04b99a0f81ea592ff5036dbde970670f4b40a658,14,3,3,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: Id451d06bcc40c94e9ef021dd7e3c1d14703e73cc
"
openstack%2Fopenstack-ansible-os_zun~master~Ie8f7af4f4028e3447319039fee8b0f82005c7add,openstack/openstack-ansible-os_zun,master,osa/manage_lb,Ie8f7af4f4028e3447319039fee8b0f82005c7add,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 18:06:53.000000000,2022-06-17 10:41:17.000000000,2022-06-17 10:39:52.000000000,0,19,2,845803,9a39e22b0f5802d54422f4290eaa9ebc98837931,13,3,1,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: Ie8f7af4f4028e3447319039fee8b0f82005c7add
"
openstack%2Frequirements~master~I31f3323345a15c699327c3feff8b979504e052d4,openstack/requirements,master,bug/1979031,I31f3323345a15c699327c3feff8b979504e052d4,Cap pyroute2 to 0.6.9,ABANDONED,2022-06-17 07:34:56.000000000,2022-06-17 10:36:19.000000000,,8,8,4,846277,03fc36e2e323a029a8c90a293596ca0d7f92c11a,13,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Cap pyroute2 to 0.6.9

Until we fix the regressions introduced in 0.6.10, we need to
limit the maximum version of this library.

Related-Bug: #1979031
Change-Id: I31f3323345a15c699327c3feff8b979504e052d4
"
openstack%2Fneutron~stable%2Fwallaby~I94f0832d09d263837262ada109a567e864915a1a,openstack/neutron,stable/wallaby,,I94f0832d09d263837262ada109a567e864915a1a,[OVN][Migration] More robust checks on stop-agents,MERGED,2022-05-31 18:05:55.000000000,2022-06-17 10:26:46.000000000,2022-06-17 10:23:45.000000000,4,0,0,844076,f5ba40a236cac5092398282b6a5dbbc786733258,10,3,1,1,8655,Jakub Libosvar,jlibosva,"[OVN][Migration] More robust checks on stop-agents

On OSP17 there are some ml2 ovs services that are not
present on some computes eventhought is defined on the
ansible service facts.

This patch will ensure that only those services that are
actually running will be stopped.

Change-Id: I94f0832d09d263837262ada109a567e864915a1a
(cherry picked from commit 2869d008e2e417e43f3fbf942225a9edc5868e37)
"
openstack%2Fneutron~stable%2Fyoga~I94f0832d09d263837262ada109a567e864915a1a,openstack/neutron,stable/yoga,,I94f0832d09d263837262ada109a567e864915a1a,[OVN][Migration] More robust checks on stop-agents,MERGED,2022-05-31 18:05:33.000000000,2022-06-17 10:26:45.000000000,2022-06-17 10:23:37.000000000,4,0,1,844074,c2f09820da48f9e63b476ef0cac587c2fe3e6fa5,9,3,1,1,8655,Jakub Libosvar,jlibosva,"[OVN][Migration] More robust checks on stop-agents

On OSP17 there are some ml2 ovs services that are not
present on some computes eventhought is defined on the
ansible service facts.

This patch will ensure that only those services that are
actually running will be stopped.

Change-Id: I94f0832d09d263837262ada109a567e864915a1a
(cherry picked from commit 2869d008e2e417e43f3fbf942225a9edc5868e37)
"
openstack%2Fneutron~stable%2Fxena~I94f0832d09d263837262ada109a567e864915a1a,openstack/neutron,stable/xena,,I94f0832d09d263837262ada109a567e864915a1a,[OVN][Migration] More robust checks on stop-agents,MERGED,2022-05-31 18:05:44.000000000,2022-06-17 10:26:36.000000000,2022-06-17 10:23:41.000000000,4,0,0,844075,932bfee4d6849fd724333bf33529a415d72948b7,10,3,1,1,8655,Jakub Libosvar,jlibosva,"[OVN][Migration] More robust checks on stop-agents

On OSP17 there are some ml2 ovs services that are not
present on some computes eventhought is defined on the
ansible service facts.

This patch will ensure that only those services that are
actually running will be stopped.

Change-Id: I94f0832d09d263837262ada109a567e864915a1a
(cherry picked from commit 2869d008e2e417e43f3fbf942225a9edc5868e37)
"
openstack%2Fplacement~master~Icfe83313e86969b0b9d34c19b6b82a47d685d4d7,openstack/placement,master,bug/1978549,Icfe83313e86969b0b9d34c19b6b82a47d685d4d7,Add WA about resource_providers.can_host removal,MERGED,2022-06-14 11:32:45.000000000,2022-06-17 10:25:49.000000000,2022-06-17 10:23:48.000000000,12,0,1,845730,d8241aac9c871d1c8a77167a55e7b26c09aa80db,8,3,1,1,9708,Balazs Gibizer,gibi,"Add WA about resource_providers.can_host removal

We made a mistake and not added resource_providers.can_host to the new
DB schema of Placement when Placement was split out of Nova. This patch
documents that as can_host is not in the DB model it is safe to drop it
from the DB to remove the schema inconsistency.

Related-Bug: #1978549
Change-Id: Icfe83313e86969b0b9d34c19b6b82a47d685d4d7
"
openstack%2Fopenstack-ansible-os_mistral~master~Ie34df51cc0284b23713a897c8bc9d4958a1fe385,openstack/openstack-ansible-os_mistral,master,osa/service_tokens,Ie34df51cc0284b23713a897c8bc9d4958a1fe385,Support service tokens,MERGED,2022-06-15 17:14:23.000000000,2022-06-17 10:22:56.000000000,2022-06-17 10:21:04.000000000,12,2,1,846041,2a8972b5e8a0938350796edb366fcf09b2c0dff3,10,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: Ie34df51cc0284b23713a897c8bc9d4958a1fe385
"
openstack%2Fopenstack-ansible-os_cloudkitty~master~Icb1de8c7e0a5196a4df457a5d4a3ca524d4622d0,openstack/openstack-ansible-os_cloudkitty,master,osa/service_tokens,Icb1de8c7e0a5196a4df457a5d4a3ca524d4622d0,Support service tokens,MERGED,2022-06-15 15:53:48.000000000,2022-06-17 10:08:02.000000000,2022-06-17 10:06:49.000000000,14,12,1,846019,b6d15a95cba562a9a58aca0970cb2fec40cb3f62,12,3,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: Icb1de8c7e0a5196a4df457a5d4a3ca524d4622d0
"
openstack%2Fopenstack-ansible-os_sahara~master~I7064765e62d9e1a86fb20232429731840f697a88,openstack/openstack-ansible-os_sahara,master,osa/service_tokens,I7064765e62d9e1a86fb20232429731840f697a88,Support service tokens,MERGED,2022-06-15 17:21:11.000000000,2022-06-17 10:05:39.000000000,2022-06-17 10:04:25.000000000,11,2,1,846044,816e498c5c02cf02a4d0855dea832ac5ed1f9fe6,11,4,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I7064765e62d9e1a86fb20232429731840f697a88
"
openstack%2Freleases~master~Ib2648e597bb3759b6814e4f95622cffc2b62f87e,openstack/releases,master,,Ib2648e597bb3759b6814e4f95622cffc2b62f87e,kolla: Add yoctozepto as release liaison,MERGED,2022-06-06 19:22:52.000000000,2022-06-17 10:02:25.000000000,2022-06-17 10:02:25.000000000,3,0,1,844876,e390bb5e1e53abd5bc6e585741a8a21870862987,8,4,1,1,22629,Michal Nasiadka,mnasiadka,"kolla: Add yoctozepto as release liaison

Change-Id: Ib2648e597bb3759b6814e4f95622cffc2b62f87e
"
openstack%2Freleases~master~Ie292a2d83b9e67a1f3b5bdb2ab629665668261dd,openstack/releases,master,virtualbmc-222,Ie292a2d83b9e67a1f3b5bdb2ab629665668261dd,Release virtualbmc 2.2.2,MERGED,2022-06-15 11:59:22.000000000,2022-06-17 10:02:22.000000000,2022-06-17 10:02:22.000000000,4,0,3,845977,c46b8f6bee59fa9705b63a013a2c98f221d68cad,10,5,1,1,23851,Riccardo Pittau,elfosardo,"Release virtualbmc 2.2.2

Change-Id: Ie292a2d83b9e67a1f3b5bdb2ab629665668261dd
"
openstack%2Freleases~master~Ic7c546eaa8e6215ac8bd09cc5f921472587912f5,openstack/releases,master,,Ic7c546eaa8e6215ac8bd09cc5f921472587912f5,Release Designate 12.1.0 (stable/wallaby) bugfixes,MERGED,2022-06-07 00:19:22.000000000,2022-06-17 10:02:19.000000000,2022-06-17 10:02:19.000000000,4,0,9,844894,d7c8a0ef9ed0ec5e6a160fa4c0311de779e47806,26,5,4,1,11628,Michael Johnson,johnsom,"Release Designate 12.1.0 (stable/wallaby) bugfixes

Change-Id: Ic7c546eaa8e6215ac8bd09cc5f921472587912f5
"
openstack%2Freleases~master~I8238b07b380e55bd9a5a418c8bd9f6075ea3f737,openstack/releases,master,,I8238b07b380e55bd9a5a418c8bd9f6075ea3f737,Release 4.2.1 python-designateclient for Wallaby,MERGED,2022-06-13 18:52:50.000000000,2022-06-17 10:02:17.000000000,2022-06-17 10:02:17.000000000,4,0,1,845625,fc7b1b02150d7c0d2b08c35a9baf325c03e3139e,8,3,1,1,11628,Michael Johnson,johnsom,"Release 4.2.1 python-designateclient for Wallaby

Change-Id: I8238b07b380e55bd9a5a418c8bd9f6075ea3f737
"
openstack%2Freleases~master~Ie2188d20a5bbea269c38a7bbdfd4795093c0e917,openstack/releases,master,,Ie2188d20a5bbea269c38a7bbdfd4795093c0e917,Release 4.3.1 python-designateclient for Xena,MERGED,2022-06-13 18:51:37.000000000,2022-06-17 10:02:13.000000000,2022-06-17 10:02:13.000000000,4,0,1,845624,a8db5665070d34fe22576f31aade647ed51bcf0d,8,3,1,1,11628,Michael Johnson,johnsom,"Release 4.3.1 python-designateclient for Xena

Change-Id: Ie2188d20a5bbea269c38a7bbdfd4795093c0e917
"
openstack%2Freleases~master~I9e21438534a0f449ce0599d2e96010fc772d8a01,openstack/releases,master,,I9e21438534a0f449ce0599d2e96010fc772d8a01,Release 4.5.1 python-designate client for yoga,MERGED,2022-06-13 18:49:56.000000000,2022-06-17 10:02:11.000000000,2022-06-17 10:02:11.000000000,4,0,1,845623,e4f3514c17a3c310f7325778ec4b5bb10c27f4c5,8,3,1,1,11628,Michael Johnson,johnsom,"Release 4.5.1 python-designate client for yoga

Change-Id: I9e21438534a0f449ce0599d2e96010fc772d8a01
"
openstack%2Freleases~master~I813f817dce190fa91d8a9aecdee242f7787505c9,openstack/releases,master,oslo-zed,I813f817dce190fa91d8a9aecdee242f7787505c9,Release oslo's Zed deliverables,MERGED,2022-06-08 14:28:29.000000000,2022-06-17 10:02:08.000000000,2022-06-17 10:02:08.000000000,13,0,4,845144,013c02f3c94e8fb9acfdfa65447d4e128101ae9f,12,4,2,3,28522,Hervé Beraud,hberaud,"Release oslo's Zed deliverables

Change-Id: I813f817dce190fa91d8a9aecdee242f7787505c9
"
openstack%2Fopenstack-ansible-os_swift~master~If34e0170ea0e0f7727cfadba982f3c7dae6ae216,openstack/openstack-ansible-os_swift,master,osa/service_tokens,If34e0170ea0e0f7727cfadba982f3c7dae6ae216,Support service tokens,MERGED,2022-06-15 17:52:15.000000000,2022-06-17 10:01:13.000000000,2022-06-17 09:59:28.000000000,12,2,1,846051,5139ecc2334f5059c452e99080660be2a36671d5,10,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: If34e0170ea0e0f7727cfadba982f3c7dae6ae216
"
openstack%2Fironic-prometheus-exporter~master~Id376a1ded688c52a588a96896fc70f94e803ba7e,openstack/ironic-prometheus-exporter,master,drop-queue-ironic,Id376a1ded688c52a588a96896fc70f94e803ba7e,CI: Removing ironic job queue,MERGED,2022-05-19 18:18:40.000000000,2022-06-17 09:57:39.000000000,2022-06-17 09:55:03.000000000,0,1,0,842603,5a5f5ef7471ad7ee47c274af90e484f5d31e2faa,11,3,1,1,11655,Julia Kreger,jkreger,"CI: Removing ironic job queue

Please see:
https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes

Change-Id: Id376a1ded688c52a588a96896fc70f94e803ba7e
"
openstack%2Fkolla-ansible~stable%2Fxena~Id8dffc425ff057b1e45103eb53734543bca8be80,openstack/kolla-ansible,stable/xena,,Id8dffc425ff057b1e45103eb53734543bca8be80,Increase openstack-exporter timeout to 45 seconds,MERGED,2022-06-06 09:05:18.000000000,2022-06-17 09:48:01.000000000,2022-06-17 09:46:32.000000000,8,1,0,844792,5f2a4996d28327ebfef981b334732e6d6e2f075d,9,3,1,2,15197,Pierre Riteau,priteau,"Increase openstack-exporter timeout to 45 seconds

Even on moderately sized clouds, openstack-exporter can easily take more
than 10 seconds to return, causing Prometheus to fail to scrape data.

Since the default scrape internal is 60 seconds, we can increase the
default timeout to 45 seconds.

Change-Id: Id8dffc425ff057b1e45103eb53734543bca8be80
Closes-Bug: #1976629
(cherry picked from commit 9653ebe102985e9ce0184d63a51e27152311e9cf)
"
openstack%2Fkayobe~master~I74a0871e0bd60ca883cab4d068452b3364d5256b,openstack/kayobe,master,,I74a0871e0bd60ca883cab4d068452b3364d5256b,Fix potential use of invalid group name,NEW,2022-06-01 15:36:03.000000000,2022-06-17 09:47:58.000000000,,2,2,3,844315,bf764bbbe452df8af1a97f998a1a4d73ef6a8adb,6,1,1,1,15197,Pierre Riteau,priteau,"Fix potential use of invalid group name

This code could not work if there was no group named after the user.

Change-Id: I74a0871e0bd60ca883cab4d068452b3364d5256b
Story: 2010038
Task: 45374
"
openstack%2Fpython-tripleoclient~master~Ic09f6ae222cd1f3bb4be5509c4d2b43269596fca,openstack/python-tripleoclient,master,config-download-playbook,Ic09f6ae222cd1f3bb4be5509c4d2b43269596fca,Fix config-download playbook name,ABANDONED,2022-06-17 01:56:09.000000000,2022-06-17 09:39:11.000000000,,1,1,0,846241,c01bf87f57ed39de634a8f0ff977a4f41950a928,3,1,1,1,30073,Brendan Shephard,bshephar,"Fix config-download playbook name

The config-download and config-download-export playbooks were
merged in b6f1bfc408ea37dab1cae261b092172058c830dc.

The path was never updated in the overcloud_config.py to reflect this.
This change fixes the path.

Change-Id: Ic09f6ae222cd1f3bb4be5509c4d2b43269596fca
"
openstack%2Fpuppet-cinder~master~Ie7cb0c11a2b9526b61a70a5f359862a24723026c,openstack/puppet-cinder,master,use_multipath_for_image_xfer,Ie7cb0c11a2b9526b61a70a5f359862a24723026c,Support to configure cinder backend_defaults,MERGED,2022-06-14 00:57:07.000000000,2022-06-17 09:14:02.000000000,2022-06-17 09:12:45.000000000,59,1,40,845652,3a9a21fc0938f5c5a7afb99cecf407c7754c2b90,27,4,5,4,34598,Manojkatari,mkatari,"Support to configure cinder backend_defaults

This patch introduces a new Class cinder::backend::defaults, that
provides a way to configure parameters for all cinder
backends by default in [backend_defaults] section of
cinder configuration file.

This parameter use_multipath_for_image_xfer is supported currently.

Change-Id: Ie7cb0c11a2b9526b61a70a5f359862a24723026c
"
openstack%2Fheat~stable%2Fussuri~I6a8cffdc86c895eebe4269c5cd37841325566c54,openstack/heat,stable/ussuri,venv-tempest-stable/ussuri,I6a8cffdc86c895eebe4269c5cd37841325566c54,Use constraints when creating tempest venv,MERGED,2022-06-15 12:33:08.000000000,2022-06-17 09:03:43.000000000,2022-06-17 09:00:55.000000000,38,179,0,845981,f3d895e960b359ec9ccf45e5c2921cfbe98475fd,13,2,4,11,9816,Takashi Kajinami,kajinamit,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Backport note:
Change I7d1017bcd7147329c4e187336daee1a1ae280fa9, which replaced f33
by f66, is merged into this backport to unblock CI.

Backport notes to ussuri:
- Change I703229320320295b4a90e72c543f8959f85daaa9, which removed l-c
  job is merged into this backport because the job is failing now.
- Change Ibe60d1e536f0e887eceea32b7cb4eec6318e96af is partially pulled
  into this change to fix the requirements-check job.
- This change was adjusted to avoid config error in zuul. The grenade
  job is already made non-voting in stable/ussuri.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)
(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)
(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)
(cherry picked from commit d05b683ef65996ae5d1d6cc31d547169669abf45)
(cherry picked from commit 87b40ed75ea4d8f91db3d7dbec236adeb9516020)
"
openstack%2Fironic~master~I293f1c110227a09909ea2225346c24143f851a71,openstack/ironic,master,novacli,I293f1c110227a09909ea2225346c24143f851a71,Docs: replace nova cli calls with openstack,MERGED,2022-06-15 23:41:54.000000000,2022-06-17 08:50:52.000000000,2022-06-17 08:48:37.000000000,15,15,0,846072,39a7f58002eac8ad10720c7347f001c8afd24a6f,8,3,1,6,4571,Steve Baker,steve-stevebaker,"Docs: replace nova cli calls with openstack

Change-Id: I293f1c110227a09909ea2225346c24143f851a71
"
openstack%2Fcharm-nova-compute-nvidia-vgpu~master~I22abfbbf09110ff333d6dbe0ba96982a8593b6ee,openstack/charm-nova-compute-nvidia-vgpu,master,action-filter-devices,I22abfbbf09110ff333d6dbe0ba96982a8593b6ee,Filter mediated devices for 3D controllers,MERGED,2022-05-19 13:30:57.000000000,2022-06-17 08:38:43.000000000,2022-06-17 08:38:43.000000000,14,14,4,842543,eda2fb6545191a1291fccad42396a119e6d313e5,13,3,1,2,935,James Page,james-page,"Filter mediated devices for 3D controllers

Ensure that only mediated devices for 3D controller are returned
when listing the available mediated device types on a given
machine.

Change-Id: I22abfbbf09110ff333d6dbe0ba96982a8593b6ee
"
openstack%2Fcharm-nova-compute-nvidia-vgpu~master~I26663ca8da99083a409e085ea239e43245ef6265,openstack/charm-nova-compute-nvidia-vgpu,master,ux-updates,I26663ca8da99083a409e085ea239e43245ef6265,Refactor unit status output,MERGED,2022-05-12 08:32:08.000000000,2022-06-17 08:33:10.000000000,2022-06-17 08:33:10.000000000,47,48,4,841555,37e0fe598295474fd8a1b1f00d2b0632dd652047,14,3,2,6,935,James Page,james-page,"Refactor unit status output

The unit status output for this charm was verbose compared to
others;  refactor to display minimal information when active
and pertinent information when in a blocked state.

Note that the NVIDIA driver version should really be in the
application version; this will require further refactoring
to expose this information to the operator framework.

Change-Id: I26663ca8da99083a409e085ea239e43245ef6265
"
openstack%2Freleases~master~I575cf1bc607b1690ae186909601fe7f39c1612ad,openstack/releases,master,sushy-tools-0190,I575cf1bc607b1690ae186909601fe7f39c1612ad,Release sushy-tools 0.19.0,MERGED,2022-06-15 11:58:22.000000000,2022-06-17 08:32:35.000000000,2022-06-17 08:32:35.000000000,4,0,3,845976,49a0566ec7ea7b6bd5fab76c757a0c23fad43f2d,16,5,2,1,23851,Riccardo Pittau,elfosardo,"Release sushy-tools 0.19.0

Change-Id: I575cf1bc607b1690ae186909601fe7f39c1612ad
"
openstack%2Ftap-as-a-service~master~I2856a6e89cb5a434d43092481f1c8bec59dcd56e,openstack/tap-as-a-service,master,dnm,I2856a6e89cb5a434d43092481f1c8bec59dcd56e,DNM: test master,ABANDONED,2022-06-15 15:33:08.000000000,2022-06-17 08:05:51.000000000,,1,1,0,846011,8d12f22b374ea9e5ea41dccc792cfb1baa8712bb,3,1,1,1,8313,Lajos Katona,elajkat,"DNM: test master

Change-Id: I2856a6e89cb5a434d43092481f1c8bec59dcd56e
"
openstack%2Fheat~stable%2Fvictoria~I703229320320295b4a90e72c543f8959f85daaa9,openstack/heat,stable/victoria,drop-l-c,I703229320320295b4a90e72c543f8959f85daaa9,Drop lower-constraints.txt and its testing,MERGED,2022-06-16 04:49:18.000000000,2022-06-17 07:46:48.000000000,2022-06-17 07:43:34.000000000,4,170,0,846097,ddc926b6321a170ca02dc014b6a812957d487feb,7,2,1,4,9816,Takashi Kajinami,kajinamit,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Conflicts:
	.zuul.yaml
	lower-constraints.txt

Change-Id: I703229320320295b4a90e72c543f8959f85daaa9
(cherry picked from commit 49cbb92ed611899728425877e86396a70f5d7c5f)
(cherry picked from commit 80ce36214bf2d8b2e28740916b2e87ee9e10ae44)
(cherry picked from commit d1c0f628945caca01b0c986adf97e93e7795cf49)
(cherry picked from commit 5a6bff198752e5e984c080bcdce5b690dabb63db)
"
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Ie048cdbe52f5b935ddd4b42febb373f9ff96d8d8,openstack/python-tripleoclient,stable/victoria,tinkering-netv2-stable/wallaby-stable/victoria,Ie048cdbe52f5b935ddd4b42febb373f9ff96d8d8,Remove deprecation warnings for the role command,MERGED,2021-08-16 10:56:06.000000000,2022-06-17 07:43:50.000000000,2022-06-17 07:42:15.000000000,2,11,11,804714,69b9da1e17fa16971180bc09e6fa1fa7b6673617,35,7,1,1,32114,Lewis Denny,ldenny,"Remove deprecation warnings for the role command

The `role` commands are warning users that they have been deprecated
and informing users that they should use the alternative `roles`
commands. Sadly, we have no such `roles` plugin, so following the
deprecation warning provides false information which results in an
error should the command be used.

This change removes the deprecations warnings for the `role` commands.
If this needs to be refactored later we can; however, given the
information is wrong and there's no alternative plugin to use, making
the UX bad, we're removing the misinformation.

Change-Id: Ie048cdbe52f5b935ddd4b42febb373f9ff96d8d8
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit f0f1d271a1e35568e0c979aca3442cfad543db96)
(cherry picked from commit a88ba3767f518cf4f0cdf678f3ace21a56e4b6fa)
"
openstack%2Ftripleo-quickstart-extras~master~I0dd8bfe1d13181cb7ab2a2a95bf28ebefaa6ff3a,openstack/tripleo-quickstart-extras,master,bug/1963675,I0dd8bfe1d13181cb7ab2a2a95bf28ebefaa6ff3a,"Revert ""Temporarily freeze openssl""",MERGED,2022-06-16 17:13:08.000000000,2022-06-17 07:42:20.000000000,2022-06-17 07:42:20.000000000,0,15,1,846125,d4f5c79a13a836d1c661a5b4c8fbe43dd434f70e,23,7,4,2,9976,Ronelle Landy,rlandy,"Revert ""Temporarily freeze openssl""

This reverts commit 8175a19fd9e4cccd36c5ede80906023da0f43ee6.
This also reverts change:
I3b1345ac6cacf04ad0903dfb7c6c95622a129cae.

Reason for revert: openssl version is now 1:3.0.1-33.el9

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/846194/
Change-Id: I0dd8bfe1d13181cb7ab2a2a95bf28ebefaa6ff3a
"
openstack%2Fironic-python-agent~master~I11192fd37f6e4a29459ff649072a9171f2901aaf,openstack/ironic-python-agent,master,lsblk-json,I11192fd37f6e4a29459ff649072a9171f2901aaf,lsblk: output all available columns,NEW,2022-06-14 16:23:29.000000000,2022-06-17 07:40:44.000000000,,23,50,2,845785,f88f0b36505ac5180e49420e351a602d397f6eec,7,2,2,4,23851,Riccardo Pittau,elfosardo,"lsblk: output all available columns

When listing block devices using lsblk, instead of selecting specific
columns to show, we just ouput all of them.

Change-Id: I11192fd37f6e4a29459ff649072a9171f2901aaf
"
openstack%2Fopenstack-ansible~stable%2Fpike~If6f51354a0e623c38d60ce6973bbac7097e30d21,openstack/openstack-ansible,stable/pike,826956,If6f51354a0e623c38d60ce6973bbac7097e30d21,EOL Pike branch,ABANDONED,2022-06-17 07:37:41.000000000,2022-06-17 07:38:35.000000000,,129,135,0,846279,7a1a828063fecc902d6d5d51783e6c005c042f7d,2,0,1,6,28619,Dmitriy Rabotyagov,noonedeadpunk,"EOL Pike branch

We agreed to EOL Pike as we have no futher plans to provide any patches
to the stable/pike branch.

Due to specifics of releases repo for older branches, we have to
EOL integrated repo and services repos in one shot, so we have to switch
roles to tags that not yet exist.

We switch to noop jobs as the Pike branch relies on external versions
of get-pip.py which no longer exist at the original URL.
Change-Id: I1360988e87d08468d93832226b804dbe666713ca

Change-Id: If6f51354a0e623c38d60ce6973bbac7097e30d21
"
openstack%2Fpuppet-keystone~master~I1c45f1fcb8663383b09014aa5095c9b0e99fb231,openstack/puppet-keystone,master,trivial-fix,I1c45f1fcb8663383b09014aa5095c9b0e99fb231,Fix several typos in parameter descriptions.,MERGED,2022-06-15 10:36:35.000000000,2022-06-17 07:33:03.000000000,2022-06-17 07:33:03.000000000,16,16,14,845918,c6a3840a8e24cedd5d1116ce6081e7e76886cfcb,30,3,6,13,20733,Rajesh Tailor,rajesht,"Fix several typos in parameter descriptions.

Change-Id: I1c45f1fcb8663383b09014aa5095c9b0e99fb231
"
openstack%2Frequirements~master~Ie9cd13323256e881380e55b92349cc5e8832399a,openstack/requirements,master,openstack/requirements/constraints/noclob,Ie9cd13323256e881380e55b92349cc5e8832399a,Updated from generate-constraints,MERGED,2022-06-16 02:41:05.000000000,2022-06-17 07:19:08.000000000,2022-06-17 07:17:36.000000000,8,8,0,846082,46db00e91baa6ecd46e4dfb0b4dbdf185102b4a1,20,2,5,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ie9cd13323256e881380e55b92349cc5e8832399a
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fnova~master~I1d8dbbe85b7c9a377807acb12f11cbad8743bda6,openstack/nova,master,specs/yoga/approved/ephemeral-encryption-libvirt,I1d8dbbe85b7c9a377807acb12f11cbad8743bda6,privsep: Return QemuImgInfo objects from qemu-img info calls,ABANDONED,2022-01-27 18:03:18.000000000,2022-06-17 06:30:52.000000000,,4,6,1,826751,242e7ec2769a16cbb455b0fd3621ffc0183a9f48,21,3,3,2,10135,Lee Yarwood,lyarwood,"privsep: Return QemuImgInfo objects from qemu-img info calls

Change-Id: I1d8dbbe85b7c9a377807acb12f11cbad8743bda6
"
openstack%2Fnova~master~I4851acef7e362a64832fee52197a0576acf194fe,openstack/nova,master,specs/yoga/approved/ephemeral-encryption-libvirt,I4851acef7e362a64832fee52197a0576acf194fe,privsep: Move qemu-img create calls under nova.privsep.qemu,ABANDONED,2022-01-27 18:03:18.000000000,2022-06-17 06:29:48.000000000,,163,118,10,826750,a353a51bd6f8caf0af69fc25aa2eb56a456ec5ad,37,5,6,10,10135,Lee Yarwood,lyarwood,"privsep: Move qemu-img create calls under nova.privsep.qemu

Change-Id: I4851acef7e362a64832fee52197a0576acf194fe
"
openstack%2Fheat~stable%2Fwallaby~I703229320320295b4a90e72c543f8959f85daaa9,openstack/heat,stable/wallaby,drop-l-c,I703229320320295b4a90e72c543f8959f85daaa9,Drop lower-constraints.txt and its testing,MERGED,2022-06-16 04:45:36.000000000,2022-06-17 05:22:17.000000000,2022-06-17 05:19:56.000000000,4,171,0,846096,5a6bff198752e5e984c080bcdce5b690dabb63db,8,2,1,4,9816,Takashi Kajinami,kajinamit,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Conflicts:
	.zuul.yaml
	lower-constraints.txt

Change-Id: I703229320320295b4a90e72c543f8959f85daaa9
(cherry picked from commit 49cbb92ed611899728425877e86396a70f5d7c5f)
(cherry picked from commit 80ce36214bf2d8b2e28740916b2e87ee9e10ae44)
(cherry picked from commit d1c0f628945caca01b0c986adf97e93e7795cf49)
"
openstack%2Fopenstack-ansible~master~I75bdab29353f33fa009bf9a7ff1f565f1660ed59,openstack/openstack-ansible,master,,I75bdab29353f33fa009bf9a7ff1f565f1660ed59,Define corosync interface for facts gathering,MERGED,2022-06-15 08:00:48.000000000,2022-06-17 01:25:09.000000000,2022-06-17 01:23:27.000000000,2,0,2,845894,a8d2ad902eaee6ae181cfdb24174ea379c775a67,17,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Define corosync interface for facts gathering

When moving facts gathering to independent play we forgot to
define variable that's being used for filtering. This makes playbook
fail.

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_masakari/+/845798
Change-Id: I75bdab29353f33fa009bf9a7ff1f565f1660ed59
"
openstack%2Fpuppet-nova~stable%2Fwallaby~Ie60fceb0d51a314ede395db567a8155a773c9b15,openstack/puppet-nova,stable/wallaby,cs9-standalone-upgrade-stable/xena-stable/wallaby,Ie60fceb0d51a314ede395db567a8155a773c9b15,Expose [workaround]/disable_compute_service_check_for_ffu,MERGED,2022-06-14 12:23:06.000000000,2022-06-17 00:58:43.000000000,2022-06-17 00:57:40.000000000,19,0,3,845737,ce4d7a04b84c464a450d587eca89bcd8bd89905c,15,4,4,3,11166,Lukas Bezdicka,xbezdick,"Expose [workaround]/disable_compute_service_check_for_ffu

This exposes the nova workaround to set the normal safety check
for old compute services will be treated as a warning instead
of an error.

https://review.opendev.org/c/openstack/nova/+/826097 adds
the service version check workaround for FFU.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ie60fceb0d51a314ede395db567a8155a773c9b15
(cherry picked from commit c482a3d86e90d146026019bb35ca85c76f5d7f9e)
(cherry picked from commit d0e7fb981985fbe42708822149a4c9012d3ad6a6)
"
openstack%2Fcinderlib~master~Ia6147a823768d885d186207fcb14a71a1bb9921b,openstack/cinderlib,master,,Ia6147a823768d885d186207fcb14a71a1bb9921b,Update python testing as per zed cycle teting runtime,ABANDONED,2022-06-15 06:34:01.000000000,2022-06-17 00:44:56.000000000,,1,3,2,845881,ab84fbcdabc81490379cadbd1e5a7f2ff3fb6df7,5,2,1,1,33436,YuehuiLei,leiyuehui,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Ia6147a823768d885d186207fcb14a71a1bb9921b
"
openstack%2Ftripleo-heat-templates~master~I4a5adb871db3e669660ca79a41e24fa7549aa3c8,openstack/tripleo-heat-templates,master,add_ca_update_role,I4a5adb871db3e669660ca79a41e24fa7549aa3c8,"Revert ""Revert ""Move CA cert injection to host_prep_tasks""""",ABANDONED,2022-06-17 00:24:21.000000000,2022-06-17 00:24:44.000000000,,11,3,0,846126,be76324ded6a677ba750921729b459248d0f17c5,3,7,1,1,9816,Takashi Kajinami,kajinamit,"Revert ""Revert ""Move CA cert injection to host_prep_tasks""""

This reverts commit ab1599765ca110f8a2e8f65b6977ac7a98c557c1.

Reason for revert: TBD

Change-Id: I4a5adb871db3e669660ca79a41e24fa7549aa3c8
"
openstack%2Ftripleo-heat-templates~master~I9e8c2c96706e9abf9739b8a857231f522542fa5f,openstack/tripleo-heat-templates,master,add_ca_update_role,I9e8c2c96706e9abf9739b8a857231f522542fa5f,"Revert ""Move CA cert injection to host_prep_tasks""",MERGED,2020-12-29 15:15:57.000000000,2022-06-17 00:24:21.000000000,2020-12-30 06:39:15.000000000,3,11,0,768737,ab1599765ca110f8a2e8f65b6977ac7a98c557c1,16,7,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Revert ""Move CA cert injection to host_prep_tasks""

This reverts commit 8e5d5283cc466b07616a57eeeee28859300022ab.

Reason for revert: broke OVB periodic jobs
Closes-Bug: #1908976

Change-Id: I9e8c2c96706e9abf9739b8a857231f522542fa5f
"
openstack%2Fopenstack-ansible-os_manila~master~Ia04bd0a729100ed3f0bade9185b0703ce903635f,openstack/openstack-ansible-os_manila,master,osa/manage_lb,Ia04bd0a729100ed3f0bade9185b0703ce903635f,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 18:01:32.000000000,2022-06-16 23:22:29.000000000,2022-06-16 23:21:28.000000000,0,18,1,845801,0ea23558e7b3c338a4c6d65983da440344dc780a,15,4,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: Ia04bd0a729100ed3f0bade9185b0703ce903635f
"
openstack%2Fopenstack-ansible-os_manila~master~Ie5ebb4d68ed06cff26462dc55092fda8a9ad2f44,openstack/openstack-ansible-os_manila,master,osa/service_tokens,Ie5ebb4d68ed06cff26462dc55092fda8a9ad2f44,Support service tokens,MERGED,2022-06-15 17:11:33.000000000,2022-06-16 23:04:04.000000000,2022-06-16 23:02:53.000000000,11,2,1,846040,f728ca5707b8d4e200877ac55de15198edb7142c,15,5,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: Ie5ebb4d68ed06cff26462dc55092fda8a9ad2f44
"
openstack%2Fopenstack-ansible-plugins~master~Ifccfd771ae2ca8d4a1e8f1e53285e00957851c88,openstack/openstack-ansible-plugins,master,osa-gluster,Ifccfd771ae2ca8d4a1e8f1e53285e00957851c88,Wait for all volumes when starting glusterd.service,MERGED,2022-06-15 13:21:08.000000000,2022-06-16 22:29:44.000000000,2022-06-16 22:28:31.000000000,22,0,5,845987,04d1a03c65224a0a3bdf5bcbc2d36f7e7a085666,23,3,2,2,32666,Damian Dąbrowski,ddabrowski,"Wait for all volumes when starting glusterd.service

When glusterd.service starts, there is a short period when service is
already marked as active but volumes are not ready yet.

When repo container is started, var-www-repo.mount is executed without
checking if target gluster volume is really active at the moment.

If all repo containers are started after complete outage,
var-www-repo.mount may fail because its GFS volume is not available yet
(even if glusterd.service is reported as active).

AFAIK there's no way in systemd-mount to make several mount attempts.
That is why we should wait for all gluster volumes to become available
before the service is marked as active.

Side note: At the beginning I also thought about making
var-www-repo.mount dependent on glusterd.service
(instead of network-online.target) but it doesn't make any sense as
glusterd.service is started before network-online.target

Change-Id: Ifccfd771ae2ca8d4a1e8f1e53285e00957851c88
"
openstack%2Fcharm-ceph-iscsi~master~I0ea7ba72bb78efcb8e188b060b22857560bf8801,openstack/charm-ceph-iscsi,master,partprobe-tests,I0ea7ba72bb78efcb8e188b060b22857560bf8801,Use the fix in fix in the functional tests,ABANDONED,2022-06-07 17:22:55.000000000,2022-06-16 22:14:09.000000000,,1,1,3,845017,6bfe7a2610c2f88bc637e18c7e36a001b9b330d5,10,2,1,1,33717,Luciano Lo Giudice,lmlg,"Use the fix in fix in the functional tests

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/779
Change-Id: I0ea7ba72bb78efcb8e188b060b22857560bf8801
"
openstack%2Fopenstack-ansible-os_placement~master~I4e9fff59bbfa9c8a1ae0236d077ac9ee2881c04b,openstack/openstack-ansible-os_placement,master,osa/service_tokens,I4e9fff59bbfa9c8a1ae0236d077ac9ee2881c04b,Support service tokens,MERGED,2022-06-14 08:58:15.000000000,2022-06-16 19:59:50.000000000,2022-06-16 19:58:37.000000000,15,2,4,845708,242e17c230651ce4718d839b5d77590a296469a3,20,3,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I4e9fff59bbfa9c8a1ae0236d077ac9ee2881c04b
Related-Bug: #1948456
"
openstack%2Fos-brick~stable%2Fwallaby~I252dd958767dcdd4f9a2767b362aaf675edb79c4,openstack/os-brick,stable/wallaby,nvme-hostnqn-stable/wallaby,I252dd958767dcdd4f9a2767b362aaf675edb79c4,NVMe-oF: Return right nqn when missing hostnqn,MERGED,2022-03-22 10:34:32.000000000,2022-06-16 19:54:40.000000000,2022-06-16 09:46:41.000000000,190,20,6,834604,a5f53fd3fcbc35952f0e890beef7fbb8c18a45c5,16,5,2,5,26693,do3meli,do3meli,"NVMe-oF: Return right nqn when missing hostnqn

This patch fixes a problem where we don't return the right nqn value
when the /etc/nvme/hostnqn file doesn't exist.

Currently get_connector_properties returns a new nqn value every time it
gets called if the hostnqn file is not present in the system.

The reason for this is that we are calling ""nvme gen-hostnqn"" and piping
it to tee, but for some reason tee is failing to write the file, so on
each call we'll generate a new nqn.

Even if we were successfully creating the hostnqn file, that could
create problems if we have already attached some volumes, since those
would have used the existing nqn.

This patch replaces the series of command executions (mkdir, nvme,
chmod) with a privsep method that then leverages the equivalent python
methods when possible and also tries to use the show-hostnqn nvme
subcommand first to get the existing nqn before defaulting to generating
a new one with gen-hostnqn.  This way we don't replace the current nqn
value that may be already being used by other nvme connections.

Subcommand show-hostnqn returns the host NQN configured for the system.
First looks for /etc/nvme/hostnqn, if it's not present (our case when we
call the new create_hostnqn method) tries to construct it from dmi
(/sys/firmware/dmi/entries) or from systemd's application-specific
machine IDs for the system [1].

It's important to differentiate between the ENOENT returned as OSError
and the same value returned by nvme [2] when show-hostnqn cannot return
anything.

[1]: https://github.com/linux-nvme/nvme-cli/blob/ed9538622ac6fc9e0094dd6804fc3b2ab46477b9/fabrics.c#L858-L875
[2]: https://github.com/linux-nvme/nvme-cli/blob/5b8b065b1d036d8e9050adc49ffeb3b7adad1dbf/nvme.c#L5642-L5643

Closes-Bug: #1928944
Change-Id: I252dd958767dcdd4f9a2767b362aaf675edb79c4
(cherry picked from commit 37d57c4306acc59dfe8f025040b7701dea2d304c)
"
openstack%2Fvalidations-libs~stable%2F1.6~I5cf39ea9c537c9f2f8537df1bb117c258379a326,openstack/validations-libs,stable/1.6,vf/branching-explanation,I5cf39ea9c537c9f2f8537df1bb117c258379a326,Clarifying project branching model in CONTRIBUTING.rst,MERGED,2022-05-30 06:50:18.000000000,2022-06-16 19:05:07.000000000,2022-06-16 18:59:56.000000000,13,0,5,843782,e79c4976ac29f484bf699e110e3516b46220a5d5,26,4,3,2,32926,Jiri Podivin,jpodivin,"Clarifying project branching model in CONTRIBUTING.rst

The CONTRIBUTING.rst is now included among the files
triggering execution of the tox-docs job.
This patches a dimunitive but nonetheless extant hole
in our doc CI coverage.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I5cf39ea9c537c9f2f8537df1bb117c258379a326
(cherry picked from commit 98b792d58f364c704c4166d37456a55777fbec92)
"
openstack%2Fvalidations-libs~stable%2F1.6~Id621332124817fba0d0e84bde0d8d44fe324f3ec,openstack/validations-libs,stable/1.6,vf/stable-branch/ci,Id621332124817fba0d0e84bde0d8d44fe324f3ec,[Stable-Only] Refactoring the stable/1.6 CI pipeline,MERGED,2022-05-13 10:20:41.000000000,2022-06-16 19:04:00.000000000,2022-06-16 18:59:51.000000000,73,31,13,841713,87278e5c0ccace318acab29495468f26f221a124,81,4,35,3,32926,Jiri Podivin,jpodivin,"[Stable-Only] Refactoring the stable/1.6 CI pipeline

CI pipeline was refactored to allow for proper testing of the stable/1.6 branch.
New jobs were introduced to build and test package against 'train' release of the openstack project.
The constraints were updated to respect Openstack train dependencies.
Excess lines in the zuul configuration file were replaced with anchors.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762
Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec
"
openstack%2Fcinder-tempest-plugin~master~I88c084020541e865be64053426b1ace522f04257,openstack/cinder-tempest-plugin,master,revert-to-snapshot-tests,I88c084020541e865be64053426b1ace522f04257,Adds new scenario test for revert to snapshot,ABANDONED,2018-11-28 11:46:24.000000000,2022-06-16 18:11:05.000000000,,102,0,16,620577,5779bdba05b957ae29b3407b9bbff7617c884830,56,9,10,2,10058,Erlon R. Cruz,sombrafam,"Adds new scenario test for revert to snapshot

The current tests for revert to snapshot does not checks whether the
driver is properly doing the operation. In this test, we write to the
volume, create a snapshot, delete the data and revert to the given
snapshot to guarantee that we can see the data back.

Change-Id: I88c084020541e865be64053426b1ace522f04257
"
openstack%2Fpuppet-nova~stable%2Fwallaby~I7fc60bf3ba35f270ab843df917d43e5deaf047fd,openstack/puppet-nova,stable/wallaby,,I7fc60bf3ba35f270ab843df917d43e5deaf047fd,Add wait_for_vif_plugged_event_during_hard_reboot,MERGED,2022-06-14 12:23:06.000000000,2022-06-16 18:06:55.000000000,2022-06-16 18:05:41.000000000,23,7,1,845736,35581554cb52821c4bc78b59d8f21ea379999148,11,3,2,3,11166,Lukas Bezdicka,xbezdick,"Add wait_for_vif_plugged_event_during_hard_reboot

Adds parameter for the Nova workaround that waits
for Neutron ML2 backend to sent vif plugged on
hard reboot.

Change-Id: I7fc60bf3ba35f270ab843df917d43e5deaf047fd
(cherry picked from commit 84e565b1a04ce8d27a7621e88a0dbbc59fab982e)
(cherry picked from commit a66c8b4c176ef16582f78903a436f540ec5ffff1)
"
openstack%2Fheat~stable%2Fxena~I703229320320295b4a90e72c543f8959f85daaa9,openstack/heat,stable/xena,drop-l-c,I703229320320295b4a90e72c543f8959f85daaa9,Drop lower-constraints.txt and its testing,MERGED,2022-06-16 04:42:20.000000000,2022-06-16 18:01:14.000000000,2022-06-16 17:58:22.000000000,4,171,0,846095,d1c0f628945caca01b0c986adf97e93e7795cf49,8,2,1,4,9816,Takashi Kajinami,kajinamit,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Conflicts:
	.zuul.yaml
	lower-constraints.txt

Change-Id: I703229320320295b4a90e72c543f8959f85daaa9
(cherry picked from commit 49cbb92ed611899728425877e86396a70f5d7c5f)
(cherry picked from commit 80ce36214bf2d8b2e28740916b2e87ee9e10ae44)
"
openstack%2Fansible-config_template~master~Icb839e648388ab4f12679e40f554a12d3461497d,openstack/ansible-config_template,master,,Icb839e648388ab4f12679e40f554a12d3461497d,Release config-template to 1.3.0,MERGED,2022-06-14 08:08:22.000000000,2022-06-16 17:57:25.000000000,2022-06-16 17:56:09.000000000,1,1,3,845699,a17a949e9987616a98e60a4dba32357376871ae2,18,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Release config-template to 1.3.0

We have merged bunch of changes to the collection, so worth releasing it
now.

Change-Id: Icb839e648388ab4f12679e40f554a12d3461497d
"
openstack%2Fpython-glanceclient~master~I7973fbfd3ed1f730f9d86e59c74502e4c2fd5f8b,openstack/python-glanceclient,master,remove-warlock,I7973fbfd3ed1f730f9d86e59c74502e4c2fd5f8b,Vendor warlock,ABANDONED,2022-06-16 16:11:36.000000000,2022-06-16 17:53:04.000000000,,517,14,1,846197,2139a445834e48bc77d10c1a0951bd67c5759093,3,0,1,13,15334,Stephen Finucane,sfinucan,"Vendor warlock

This library is no longer actively maintained and its use is preventing
us bumping our version of jsonschema in global-requirements. Vendor the
library.

Change-Id: I7973fbfd3ed1f730f9d86e59c74502e4c2fd5f8b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fopenstack-ansible~stable%2Fxena~Ic91ba0be3c5c37bf7e47b7a9a8360b6ccb18e9c3,openstack/openstack-ansible,stable/xena,,Ic91ba0be3c5c37bf7e47b7a9a8360b6ccb18e9c3,Reduce neutron WSGI workers for CI,MERGED,2022-06-16 07:37:15.000000000,2022-06-16 17:49:32.000000000,2022-06-16 17:47:45.000000000,1,0,0,846117,f6d7c4033170ac2948cbb97106996fb44ef0f8ab,12,3,2,1,25023,Jonathan Rosser,jrosser,"Reduce neutron WSGI workers for CI

We backporting that to reduce RAM consumption in upgrade jobs.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/846120
Change-Id: Ic91ba0be3c5c37bf7e47b7a9a8360b6ccb18e9c3
(cherry picked from commit 6eb2dec708b41f3f8b8c61d4a916549205bfb562)
"
openstack%2Fkeystoneauth~master~Ibd27470c9250000d24cf085ccf6b0c31c782c21e,openstack/keystoneauth,master,upstream/feature/add-otp-support-to-v3oidcpassword-plugin,Ibd27470c9250000d24cf085ccf6b0c31c782c21e,Add OTP to v3OIDCpassword plugin,NEW,2019-12-04 19:18:54.000000000,2022-06-16 17:38:06.000000000,,110,4,9,697348,713c017e5acf5634924a2c9815f346af5c98318d,33,5,11,6,30695,Pedro Henrique Pereira Martins,pedrohpmartins,"Add OTP to v3OIDCpassword plugin

Problem description
===================
When using OpenStack in federated environments, to enhance user's
authentication, some Identity Providers allow them (users) to use an OTP
(One Time Password) method. This requires users to send a generated code
together with his/her username and password any time he/she is
authenticating in the Identity Provider. It can be applied to both Id
and Access tokens authentication flows.

If the user is using the OTP, he/she will not be able to use the
OpenStack CLI, because the user needs to send an OTP value to the
Identity Provider together with the username and password.

Proposal
========
To allow users that have OTP enabled in their Identity Provider to use
the OpenStack CLI with their credentials, we propose to add a new
optional configuration in the v3OIDCpassword plugin to allow users to
enter their OTP Code.

The new configuration will contain the key for the OTP code that the
user's Identity Provider expects in its Rest API. As the OTP is not
defined by the OpenID Connect protocol (it defines just ""credentials""
that is a set of attributes that authorize the user, like username,
password, OTP, etc); we defined the property as the expected key to the
OTP in the IdP's Rest API. For example, in KeyCloak, the OTP key in its
Access Token API is called ""totp"". Therefore, if the user configures
the new property, then the CLI will request the OTP code when necessary.

We do not create a property to set the OTP code specifically,
because the OTP changes every time, so is not so practical to users to
reconfiguring the property every time the OTP code expires.

Change-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e
"
openstack%2Ftripleo-ansible~master~Ibaf9694e15edff5575165819fbafb52a9db70f3b,openstack/tripleo-ansible,master,ca-cert-ansible,Ibaf9694e15edff5575165819fbafb52a9db70f3b,Add a new role to manage certificate files,ABANDONED,2022-06-16 14:11:18.000000000,2022-06-16 17:29:22.000000000,,303,0,0,846178,a4d75e89e4c1f7bb5b30fb2ed43ce98f7b15c80d,7,2,4,11,9816,Takashi Kajinami,kajinamit,"Add a new role to manage certificate files

This change introduces a new tripleo_certs role, which can be used to
manage certificate files (eg. CA certificates).

Change-Id: Ibaf9694e15edff5575165819fbafb52a9db70f3b
"
openstack%2Fdesignate~master~Ib3e9d87c29a612e4c77212bd3a414c53ee1d9fe0,openstack/designate,master,hacking,Ib3e9d87c29a612e4c77212bd3a414c53ee1d9fe0,Bump hacking version,MERGED,2022-06-16 07:32:03.000000000,2022-06-16 17:25:18.000000000,2022-06-16 17:23:54.000000000,2,6,3,846103,cdf81bb56e0cd2ee503153d31ceab24570f123fa,9,4,1,2,13252,Dr. Jens Harbott,jrosenboom,"Bump hacking version

We can also drop some excludes that no longer affect us

Change-Id: Ib3e9d87c29a612e4c77212bd3a414c53ee1d9fe0
"
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99,openstack/puppet-openstack-integration,stable/train,,I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99,CentOS: Re-enable ml2+linux bridge,MERGED,2022-06-08 00:28:53.000000000,2022-06-16 17:23:42.000000000,2022-06-16 17:23:42.000000000,1,7,2,845064,884a6ce774a9c87322b937d53ac2a5d257d5b31f,9,3,1,1,9816,Takashi Kajinami,kajinamit,"CentOS: Re-enable ml2+linux bridge

Conflicts:
	fixtures/scenario003.pp

Change-Id: I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99
(cherry picked from commit 85b8e3a4bdd3f2be071afcc25d583e6147114cb1)
(cherry picked from commit c54d97d95d45b6051bb47e5f527ebfc054cda6bc)
(cherry picked from commit 2d4c99c3dd35d9a9f4a4c84776359425ae57401b)
(cherry picked from commit 5171c319ae4b2ca1d6211068036090ed3d3a9dca)
(cherry picked from commit 78e0c85ba70a9c77e4cacdcf7beb4fdca44ad431)
(cherry picked from commit 32d5faae96ddfaadf99328e877bcfd3495f868c4)
"
openstack%2Fopenstack-ansible-os_manila~master~Ie04d9e1690e0f053e86e28e0bf1d6c3aa43774b0,openstack/openstack-ansible-os_manila,master,,Ie04d9e1690e0f053e86e28e0bf1d6c3aa43774b0,Delegate share type creation to setup host,MERGED,2022-06-15 10:18:14.000000000,2022-06-16 17:17:31.000000000,2022-06-16 17:16:02.000000000,25,30,2,845917,0db9f1f9598fe4bd6c3ca167618dabdd60101b16,17,5,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Delegate share type creation to setup host

Instead of running manilaclient on manila host, we're delegating
execution to service_setup_host. This reduce
complexity and remove some requirements for manila hosts.

With that we also replace usage of manilaclient
with openstackclient.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/845998
Change-Id: Ie04d9e1690e0f053e86e28e0bf1d6c3aa43774b0
"
openstack%2Ftripleo-quickstart-extras~master~I99c7ec5d5271745ca8d0856a8141787b99880161,openstack/tripleo-quickstart-extras,master,bug/1963675,I99c7ec5d5271745ca8d0856a8141787b99880161,Temporarily freeze openssl,MERGED,2022-03-04 17:34:43.000000000,2022-06-16 17:13:08.000000000,2022-03-08 10:03:31.000000000,8,0,5,832116,8175a19fd9e4cccd36c5ede80906023da0f43ee6,26,4,4,1,14611,dasm,dasm,"Temporarily freeze openssl

Due to issues with latest openssl version use working version
of openssl for ipa-multinode job.

Related-Bug: 1963675
Change-Id: I99c7ec5d5271745ca8d0856a8141787b99880161
"
openstack%2Fheat~stable%2Fussuri~I703229320320295b4a90e72c543f8959f85daaa9,openstack/heat,stable/ussuri,,I703229320320295b4a90e72c543f8959f85daaa9,Use constraints when creating tempest venv,ABANDONED,2022-06-16 17:05:10.000000000,2022-06-16 17:06:02.000000000,,36,177,0,846205,c9e6f143321128a58b85771b8dbdc5f5c7c8b6ea,2,0,1,10,9816,Takashi Kajinami,kajinamit,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Backport note:
Change I7d1017bcd7147329c4e187336daee1a1ae280fa9, which replaced f33
by f66, is merged into this backport to unblock CI.

Backport note to ussuri:
Change I703229320320295b4a90e72c543f8959f85daaa9, which removed l-c
job is merged into this backport because the job is failing now.
This change was adjusted to avoid config error in zuul. The grenade
job is already made non-voting in stable/ussuri.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)
(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)
(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)
(cherry picked from commit d05b683ef65996ae5d1d6cc31d547169669abf45)
(cherry picked from commit 87b40ed75ea4d8f91db3d7dbec236adeb9516020)

Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Conflicts:
	.zuul.yaml
	lower-constraints.txt

Change-Id: I703229320320295b4a90e72c543f8959f85daaa9
(cherry picked from commit 49cbb92ed611899728425877e86396a70f5d7c5f)
(cherry picked from commit 80ce36214bf2d8b2e28740916b2e87ee9e10ae44)
(cherry picked from commit d1c0f628945caca01b0c986adf97e93e7795cf49)
(cherry picked from commit 5a6bff198752e5e984c080bcdce5b690dabb63db)
"
openstack%2Fneutron-tempest-plugin~master~Icded7e5a3b6484178ea2c9b145068788f23554e2,openstack/neutron-tempest-plugin,master,bug/1940243,Icded7e5a3b6484178ea2c9b145068788f23554e2,Bump swap to 2GB in linuxbridge/openvswitch jobs,MERGED,2022-06-15 07:33:18.000000000,2022-06-16 17:05:18.000000000,2022-06-16 17:05:18.000000000,3,0,2,845888,9853a013f29a24cd7e259c0b0f1c26fab0399851,8,5,1,1,13861,yatin,yatinkarel,"Bump swap to 2GB in linuxbridge/openvswitch jobs

Currently these jobs are running with 1GB swap
and fails sometimes with oom kill as node goes out
of memory.

Doubling the space to 2GB should help in avoiding
these random failures.

The issue seems to be triggered after api/scenario
jobs are combined[1]. So bumping only for the affected
jobs and also not bumping to 4GB/8GB because
in that case we may hide future actual issues.

[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/836912

Related-Bug: #1940243
Change-Id: Icded7e5a3b6484178ea2c9b145068788f23554e2
"
openstack%2Fheat~stable%2Fvictoria~I6a8cffdc86c895eebe4269c5cd37841325566c54,openstack/heat,stable/victoria,venv-tempest-stable/victoria,I6a8cffdc86c895eebe4269c5cd37841325566c54,Use constraints when creating tempest venv,MERGED,2022-06-07 09:38:19.000000000,2022-06-16 17:04:23.000000000,2022-06-15 15:23:15.000000000,33,10,1,844932,87b40ed75ea4d8f91db3d7dbec236adeb9516020,17,2,5,7,8833,Rabi Mishra,rabi,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Backport note:
Change I7d1017bcd7147329c4e187336daee1a1ae280fa9, which replaced f33
by f66, is merged into this backport to unblock CI.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)
(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)
(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)
(cherry picked from commit d05b683ef65996ae5d1d6cc31d547169669abf45)
"
openstack%2Fswift~master~I43e7a7ab7c14c57701b190b214a9987ae1abbb05,openstack/swift,master,bug/1733634,I43e7a7ab7c14c57701b190b214a9987ae1abbb05,formpost: info test assert for not supported digests,ABANDONED,2022-06-16 03:30:17.000000000,2022-06-16 16:56:56.000000000,,18,3,1,846092,27e1a1c78d68fef7eb76a7880df401bcec7650dc,8,2,2,1,7233,Matthew Oliver,mattoliverau,"formpost: info test assert for not supported digests

We have an info test, test_non_default_methods, where it adds non
supported digests. But we don't assert the log warnings.

This patch adds such an assertion

Change-Id: I43e7a7ab7c14c57701b190b214a9987ae1abbb05
"
openstack%2Fopenstack-ansible~master~I8174ad220f408113231e83dcab621860e7fc5535,openstack/openstack-ansible,master,840685,I8174ad220f408113231e83dcab621860e7fc5535,Create  containers for rally/tempest independently,NEW,2022-05-05 14:55:57.000000000,2022-06-16 16:54:02.000000000,,178,55,7,840685,0d1cdd4bca928bf092dcd9ced54bd8105dee1950,16,3,5,12,28619,Dmitriy Rabotyagov,noonedeadpunk,"Create  containers for rally/tempest independently

Current behaviour is to install both tempest and rally inside
utility containers. While it's handy, it also make sense for them to
have own env.d and be installed inside own containers or even on
separate hosts.
This would also align tempest/rally with all other services OSA deploys.

For backawards compatability we introduce variables rally_user_hosts
and tempest_user_hosts that can be used to preserve behaviour by defining
utility_all in there.

Change-Id: I8174ad220f408113231e83dcab621860e7fc5535
"
openstack%2Fpuppet-keystone~stable%2Fxena~Ibb80e96982f5639ef7235d4ea893d4d12c05a14c,openstack/puppet-keystone,stable/xena,,Ibb80e96982f5639ef7235d4ea893d4d12c05a14c,Make sure keystone package name is asserted,MERGED,2022-06-16 03:29:46.000000000,2022-06-16 16:25:45.000000000,2022-06-16 16:25:45.000000000,4,3,0,846111,114272ff57f37945f075eff3428ba77c6ae47537,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Make sure keystone package name is asserted

... and fix a type in a spec file.

Change-Id: Ibb80e96982f5639ef7235d4ea893d4d12c05a14c
Co-Authored-By: Rajesh Tailor <ratailor@redhat.com>
(cherry picked from commit fd5b32aeb639d7d0f615902ccd360a6e837aad94)
(cherry picked from commit 36335f093343df78f2fdda48ab3331fac0ab6a42)
"
openstack%2Fcharm-ceph-mon~stable%2Fpacific~I01aa61da7abd66bd4ca864713b0a44872a229187,openstack/charm-ceph-mon,stable/pacific,pacific-rbd-backport,I01aa61da7abd66bd4ca864713b0a44872a229187,Backport changes in charms.ceph for rbd-mirror capabilities,ABANDONED,2022-06-15 23:27:12.000000000,2022-06-16 16:24:52.000000000,,6,2,1,846071,8acab1e30ea31764b7dc1d9678b0ed9a9c94ffa3,8,2,2,2,33717,Luciano Lo Giudice,lmlg,"Backport changes in charms.ceph for rbd-mirror capabilities

This patchset adds the required config get/set permissions
for the rbd-mirror daemon.

Change-Id: I01aa61da7abd66bd4ca864713b0a44872a229187
"
openstack%2Fcharm-guide~master~Ie3b359467f6819b75ac3723a7b3594eca0e609bf,openstack/charm-guide,master,corrections-to-getting-started,Ie3b359467f6819b75ac3723a7b3594eca0e609bf,Grammar and link improvements to Getting started,MERGED,2022-06-16 15:35:27.000000000,2022-06-16 16:24:00.000000000,2022-06-16 16:22:46.000000000,4,6,0,846190,613ab9f9ade3d34dde06133d95b616cf00b33ca4,7,2,1,2,30561,Peter Matulis,pmatulis,"Grammar and link improvements to Getting started

Change-Id: Ie3b359467f6819b75ac3723a7b3594eca0e609bf
"
openstack%2Fpuppet-keystone~stable%2Fyoga~Ibb80e96982f5639ef7235d4ea893d4d12c05a14c,openstack/puppet-keystone,stable/yoga,,Ibb80e96982f5639ef7235d4ea893d4d12c05a14c,Make sure keystone package name is asserted,MERGED,2022-06-16 03:29:29.000000000,2022-06-16 16:22:03.000000000,2022-06-16 16:22:03.000000000,4,3,0,846110,36335f093343df78f2fdda48ab3331fac0ab6a42,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Make sure keystone package name is asserted

... and fix a type in a spec file.

Change-Id: Ibb80e96982f5639ef7235d4ea893d4d12c05a14c
Co-Authored-By: Rajesh Tailor <ratailor@redhat.com>
(cherry picked from commit fd5b32aeb639d7d0f615902ccd360a6e837aad94)
"
openstack%2Fpuppet-cinder~master~I908755dce1bbd1400b27c59e250a8d74d043ef15,openstack/puppet-cinder,master,,I908755dce1bbd1400b27c59e250a8d74d043ef15,Make extra_options backend specific,NEW,2022-06-16 12:39:17.000000000,2022-06-16 16:00:10.000000000,,21,4,3,846160,8fb74a4727a0ebde6d57ec7794721ad70a99c6ce,4,3,1,2,9816,Takashi Kajinami,kajinamit,"Make extra_options backend specific

WIP: fix the other defined types once we agree with this direction

Defined types to configure volume backends support the extra_options
parameter, which allows users to configure additional parameters which
are not supported by the define types.

However this interface is quite confusing, because it requires and
allows defining parameter sections.

- The parameters can be used to inject parameters to ""any"" section.
  This is effectively duplicate of cinder::config::cinder_config.

- Users need to understand how the parameter section is determined.

- It's not possible to define the common option as a default value
  (eg. create_resource(cinder::backend::foo, $config, $default)).
  This is because the parameter is populated by all resources and
  causes duplicate declaration of the given parameters.

This change removes that requirement to pass the section name and let
the defined types to add it automatically. Old behavior which accepts
explicit section names is still kept to avoid breaking existing
manifests.

Change-Id: I908755dce1bbd1400b27c59e250a8d74d043ef15
"
openstack%2Fheat~stable%2Fyoga~I703229320320295b4a90e72c543f8959f85daaa9,openstack/heat,stable/yoga,drop-l-c,I703229320320295b4a90e72c543f8959f85daaa9,Drop lower-constraints.txt and its testing,MERGED,2022-06-16 04:41:13.000000000,2022-06-16 15:56:53.000000000,2022-06-16 15:54:06.000000000,4,169,0,846094,80ce36214bf2d8b2e28740916b2e87ee9e10ae44,8,2,1,4,9816,Takashi Kajinami,kajinamit,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Conflicts:
	.zuul.yaml

Change-Id: I703229320320295b4a90e72c543f8959f85daaa9
(cherry picked from commit 49cbb92ed611899728425877e86396a70f5d7c5f)
"
openstack%2Fvalidations-libs~stable%2F1.6~Ib302190408c4c684b96cc30e9cf2cb6b1c00c086,openstack/validations-libs,stable/1.6,vf/stable-branch/ci,Ib302190408c4c684b96cc30e9cf2cb6b1c00c086,Man pages compatibility,MERGED,2022-05-30 06:50:18.000000000,2022-06-16 15:42:53.000000000,2022-06-16 15:41:23.000000000,14,6,0,843783,ca1f4ebf93485e2153c43dc7a51fc41773ff444c,12,4,3,2,32926,Jiri Podivin,jpodivin,"Man pages compatibility

Created section describing structure of our man pages.
Removed superflous title in the CLI documentation to improve
man page readability.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ib302190408c4c684b96cc30e9cf2cb6b1c00c086
(cherry picked from commit 9ed3888273b7f9704ed962cca02ae8f2c8f41144)
"
openstack%2Fvalidations-common~stable%2F1.6~I429f65498960f3555326f23b1ec2af592414a95f,openstack/validations-common,stable/1.6,vf/branching-explanation,I429f65498960f3555326f23b1ec2af592414a95f,Explaining stable branches in CONTRIBUTING.rst,MERGED,2022-05-30 06:51:29.000000000,2022-06-16 15:41:21.000000000,2022-06-16 15:41:21.000000000,14,1,0,843784,ac7b9d5c9fd82d16c2b68e20ec3524e4119c6c3d,11,5,2,1,32926,Jiri Podivin,jpodivin,"Explaining stable branches in CONTRIBUTING.rst

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I429f65498960f3555326f23b1ec2af592414a95f
(cherry picked from commit 723985f71808f499f7b72da6b9bdd7505c05af2f)
"
openstack%2Ftripleo-operator-ansible~master~I3e97dcc08fb5b9370b1fa2ce732572a0c70aa947,openstack/tripleo-operator-ansible,master,bz1901993,I3e97dcc08fb5b9370b1fa2ce732572a0c70aa947,update tripleo_operator_ansible VF hooks since CLI has changed,MERGED,2022-06-15 13:26:59.000000000,2022-06-16 15:41:05.000000000,2022-06-16 15:41:05.000000000,3,19,1,845988,fd8f962e70cf5bcec602a45b79fe43faa85f644e,8,5,1,4,27427,David Peacock,davidjpeacock,"update tripleo_operator_ansible VF hooks since CLI has changed

this patch amends tripleo operator ansible vf hooks - two changes

1) no more plan files - removed that CLI option
2) static inventory is simply inventory - amended that argument

Change-Id: I3e97dcc08fb5b9370b1fa2ce732572a0c70aa947
"
openstack%2Fproject-config~master~Iecbdcb50063cb461b3a09ddfa205d071c7d77b75,openstack/project-config,master,fix-propose-updates,Iecbdcb50063cb461b3a09ddfa205d071c7d77b75,[proposal-updates] Run ensure-python before git-review setup,MERGED,2022-06-16 06:09:34.000000000,2022-06-16 15:25:36.000000000,2022-06-16 15:25:36.000000000,4,1,1,846100,0ef308725f800cbcaef97a6992fbf6ad08d13685,8,5,1,1,13861,yatin,yatinkarel,"[proposal-updates] Run ensure-python before git-review setup

Install git-review task relies on ensure_pip_virtualenv_command
variable but with [1] this is set to python3.8 in translation
update jobs but it get's installed later by ensure-python role,
let's run it earlier to fix the issue.

[1] https://review.opendev.org/c/openstack/project-config/+/845907

Change-Id: Iecbdcb50063cb461b3a09ddfa205d071c7d77b75
"
openstack%2Fopenstack-ansible-os_murano~master~I6b21b2a6bc2d14bdd3fce0ee874385f72a6581d8,openstack/openstack-ansible-os_murano,master,osa/service_variables,I6b21b2a6bc2d14bdd3fce0ee874385f72a6581d8,use {{ service_install_method }},ABANDONED,2022-05-05 19:45:41.000000000,2022-06-16 15:24:45.000000000,,1,1,0,840729,17b2d0b06df8f3279bf4c62d1ff79d342c40037c,3,1,1,1,13095,Marc Gariépy,mgariepy,"use {{ service_install_method }}

Change-Id: I6b21b2a6bc2d14bdd3fce0ee874385f72a6581d8
"
openstack%2Fopenstack-ansible-os_neutron~master~Id2a50a1df6287789eeb59d6ed5246e2375d93b52,openstack/openstack-ansible-os_neutron,master,osa/service_tokens,Id2a50a1df6287789eeb59d6ed5246e2375d93b52,Support service tokens,MERGED,2022-06-15 09:14:28.000000000,2022-06-16 15:01:50.000000000,2022-06-16 15:00:19.000000000,11,2,1,845904,ce9992335e4f39c0362905ab69abde7398b79bba,17,4,5,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/845903
Change-Id: Id2a50a1df6287789eeb59d6ed5246e2375d93b52
"
openstack%2Fheat-dashboard~master~I6443c802029ca0dec579802c8e30b296ea52b335,openstack/heat-dashboard,master,,I6443c802029ca0dec579802c8e30b296ea52b335,Add api calling related settings in doc,NEW,2018-07-06 07:53:49.000000000,2022-06-16 14:56:57.000000000,,28,12,7,580576,58d53c76df1e1e31df74e5f907e7533a6d24890d,10,5,2,3,25221,Kazunori Shinohara,kaz_shinohara,"Add api calling related settings in doc

Current configuration guide doesn't refer a couple of settings for api
calling which happnens in the template generator page creation.

Change-Id: I6443c802029ca0dec579802c8e30b296ea52b335
Task: 18893
Story: 1753897
"
openstack%2Fneutron~stable%2Fussuri~Id174cd944c3b883b749046bc49d00e011eb891fe,openstack/neutron,stable/ussuri,bug/1946764-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,Id174cd944c3b883b749046bc49d00e011eb891fe,[OVN]Any string type dhcp options should be quoted,MERGED,2022-06-16 06:23:42.000000000,2022-06-16 14:49:13.000000000,2022-06-16 14:47:10.000000000,24,9,1,846115,52bb040e4e21b9db7e9787cec8ac86de5644eadb,12,3,1,5,13861,yatin,yatinkarel,"[OVN]Any string type dhcp options should be quoted

Any dhcp option[1] which value is string type in ovn
should be added quotes, otherwise it would be regard
as constant.

[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116

Closes-Bug: #1946764
Change-Id: Id174cd944c3b883b749046bc49d00e011eb891fe
(cherry picked from commit 18c32e4339cbcb0993d9c162e2715f6fcfa932cc)
(cherry picked from commit f1e7d20b01e452efc234b1f169ee356333adf499)
"
openstack%2Fcoverage2sql~master~Ie3c38ca062b2bce644d11c48403c9c77ca0de9a1,openstack/coverage2sql,master,,Ie3c38ca062b2bce644d11c48403c9c77ca0de9a1,Update python testing as per zed cycle teting runtime,MERGED,2022-05-07 05:00:28.000000000,2022-06-16 14:47:58.000000000,2022-06-16 14:45:04.000000000,6,7,0,841002,7bf6a65ff951e12fb5002ad3c077ea45277a01f3,10,2,3,3,33881,LiZekun,joeylee666666,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Ie3c38ca062b2bce644d11c48403c9c77ca0de9a1
"
openstack%2Floci~master~I5faea02cffc8943e536b7d89fe1a09ee96d7e406,openstack/loci,master,add-jammy,I5faea02cffc8943e536b7d89fe1a09ee96d7e406,Add ubuntu jammy base to dockerfiles,ABANDONED,2022-04-22 21:17:45.000000000,2022-06-16 14:45:39.000000000,,49,0,5,839104,f2269eec4e85b698aa0fde3735a652c36aa62f87,24,1,6,5,21420,Gage Hugo,ghugo,"Add ubuntu jammy base to dockerfiles

This change adds in the base for Ubuntu 22.04 Jammy release
under dockerfiles.

Change-Id: I5faea02cffc8943e536b7d89fe1a09ee96d7e406
"
openstack%2Fcharms.ceph~stable%2Fpacific~If2169734f67d21c1c7c1b75677f14ebd0ea054ae,openstack/charms.ceph,stable/pacific,bug/1968369-stable/pacific,If2169734f67d21c1c7c1b75677f14ebd0ea054ae,Add permission in mon key for newly named command,MERGED,2022-06-15 20:50:37.000000000,2022-06-16 14:36:36.000000000,2022-06-16 14:36:36.000000000,20,10,0,845849,d43881c20f4312ebc559e6d8b616c7479c29f7c5,7,3,1,4,20634,Chris MacNaughton,Chris.MacNaughton,"Add permission in mon key for newly named command

Starting with Pacific, the 'osd blacklist' command was renamed to
'osd blocklist'. This patchset changes the allowed commands to
reflect this change.

Change-Id: If2169734f67d21c1c7c1b75677f14ebd0ea054ae
Closes-Bug: #1968369
(cherry picked from commit 5745ed3ba856b34b0094cbc8e6aed312b142c019)
"
openstack%2Fcharms.ceph~stable%2Fpacific~I777650ae2194609a95e5cfb101e343824b3d0a34,openstack/charms.ceph,stable/pacific,,I777650ae2194609a95e5cfb101e343824b3d0a34,Stop setting default capabilities in get_named_key.,MERGED,2022-03-07 14:31:01.000000000,2022-06-16 14:36:33.000000000,2022-06-16 14:36:33.000000000,0,6,0,831866,a7930e2617674710e758745fe8480c239a4fa929,7,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Stop setting default capabilities in get_named_key.

When get_named_key is called on a keyring that
has customised capabilities, it overwrites the
capabilities to the default capabilities.

Change-Id: I777650ae2194609a95e5cfb101e343824b3d0a34
(cherry picked from commit d364605a49b088d932178e23566aa405315ea9f3)
"
openstack%2Fcharms.ceph~stable%2Fyoga~Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1,openstack/charms.ceph,stable/yoga,rbd-mirror-peer-stable/yoga,Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1,Amend rbd-mirror capabilities,MERGED,2022-04-21 11:03:10.000000000,2022-06-16 14:35:01.000000000,2022-06-16 14:35:01.000000000,7,2,4,838707,216a8f7ce34a5651356d55f771d231bea109bd56,11,5,1,2,20634,Chris MacNaughton,Chris.MacNaughton,"Amend rbd-mirror capabilities

Update rbd-mirror key caps to use the rbd-mirror-peer mon profile.

This adds required config get/set permissions for the rbd-mirror
daemon.

Also add permission to use the service {dump,status} mon commands;
these are not required by the rbd-mirror daemon but are needed by
the charm to check pool mirror status.

Change-Id: Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1
Closes-Bug: 1879749
(cherry picked from commit 89f5ee0d0425649de8a7e981f6268e488b22c037)
"
openstack%2Fpatrole~master~I9d7960b45c327c509d381c5d388facdb3a4c18da,openstack/patrole,master,switch-to-zed-testing-runtime,I9d7960b45c327c509d381c5d388facdb3a4c18da,Drop py3.6 and py3.7 from Patrole,NEW,2022-05-04 13:25:24.000000000,2022-06-16 14:33:02.000000000,,16,4,14,840457,e453787a16b99cdd6493d0c339a6ef160c75ab7c,25,2,6,3,22873,Martin Kopec,mkopec,"Drop py3.6 and py3.7 from Patrole

In zed cycle, OpenStack projects and oslo lib have dropped
the py3.6 and py3.7 support:

- https://governance.openstack.org/tc/reference/runtimes/zed.html

Also updating the testing template to Zed testing runtime:

- https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I9d7960b45c327c509d381c5d388facdb3a4c18da
"
openstack%2Fkayobe~master~Ibf4b928222713bedb7e856307f5ad91e60953795,openstack/kayobe,master,,Ibf4b928222713bedb7e856307f5ad91e60953795,Use openstack-ci-mirrors in overcloud and ipa image builds,MERGED,2021-12-14 08:49:56.000000000,2022-06-16 14:04:46.000000000,2022-06-16 14:02:58.000000000,3,0,15,821675,002c08e032dbad62840ec31932dcd1208d9a4639,43,4,9,1,22629,Michal Nasiadka,mnasiadka,"Use openstack-ci-mirrors in overcloud and ipa image builds

Change-Id: Ibf4b928222713bedb7e856307f5ad91e60953795
"
openstack%2Fcharms.ceph~stable%2Fpacific~Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1,openstack/charms.ceph,stable/pacific,rbd-mirror-peer-stable/pacific,Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1,Amend rbd-mirror capabilities,MERGED,2022-06-15 16:47:36.000000000,2022-06-16 13:57:13.000000000,2022-06-16 13:57:13.000000000,7,2,0,845847,eb24194126cfd68484eb869714facf66f518215c,8,4,1,2,20634,Chris MacNaughton,Chris.MacNaughton,"Amend rbd-mirror capabilities

Update rbd-mirror key caps to use the rbd-mirror-peer mon profile.

This adds required config get/set permissions for the rbd-mirror
daemon.

Also add permission to use the service {dump,status} mon commands;
these are not required by the rbd-mirror daemon but are needed by
the charm to check pool mirror status.

Change-Id: Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1
Closes-Bug: 1879749
(cherry picked from commit 89f5ee0d0425649de8a7e981f6268e488b22c037)
"
openstack%2Fcharm-nova-compute~stable%2Fxena~I0f7c8dd48be6c3ed19928179379d562674915040,openstack/charm-nova-compute,stable/xena,fix-py36,I0f7c8dd48be6c3ed19928179379d562674915040,Pin tempest for python<3.8,ABANDONED,2022-06-14 18:56:29.000000000,2022-06-16 13:47:57.000000000,,2,1,1,845809,21102f79268d5fa3900e8d009dbb03db265d746f,3,0,1,1,2424,Felipe Reyes,freyes,"Pin tempest for python<3.8

Change-Id: I0f7c8dd48be6c3ed19928179379d562674915040
"
openstack%2Fansible-role-qdrouterd~master~I32d3d2ecb7d5862fa68edb353a8d3ea71dfd3276,openstack/ansible-role-qdrouterd,master,,I32d3d2ecb7d5862fa68edb353a8d3ea71dfd3276,Use templates instead of set of jobs,ABANDONED,2021-06-30 09:29:31.000000000,2022-06-16 13:42:14.000000000,,2,17,0,798819,7c72e01f5ef93c5b1442d9873d7a73f027d539f0,5,1,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use templates instead of set of jobs

In order to manage ran jobs more efficiently we replace explicit
set of jobs definition with templates.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/798638
Change-Id: I32d3d2ecb7d5862fa68edb353a8d3ea71dfd3276
"
openstack%2Fcharms.openstack~master~I9221188b817fbb570700406b97e194aacf6ef786,openstack/charms.openstack,master,trilio-version-property,I9221188b817fbb570700406b97e194aacf6ef786,Add new Trilio version template property,MERGED,2022-06-16 10:02:32.000000000,2022-06-16 13:41:03.000000000,2022-06-16 13:41:03.000000000,35,11,0,846144,1079a19e2e7a39708334c9fe1affe8efeb279f8c,7,2,2,2,12549,gnuoy,gnuoy,"Add new Trilio version template property

This change adds a new `trilio_compat_version` that can be used
in templates when an option is gated on the trilio Major and
Minor version. The config option cannot be used for examining
atch versions as it relies on a float representation of the
package version.

Change-Id: I9221188b817fbb570700406b97e194aacf6ef786
"
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fxena~Ia438ee3b0aa1ba95aff014776e936516b83181ec,openstack/openstack-ansible-rabbitmq_server,stable/xena,,Ia438ee3b0aa1ba95aff014776e936516b83181ec,Use cloudsmith repo for rabbit and erlang,MERGED,2022-06-16 08:29:00.000000000,2022-06-16 13:40:18.000000000,2022-06-16 13:38:35.000000000,130,127,0,846120,285aee6a615fee0c978a9d84c71e88b14601fabf,9,5,1,10,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use cloudsmith repo for rabbit and erlang

Switch to using cloudsmith repo as a source for rabbitmq and erlang.

This allows us to be consistent about repository that is
used across supported distributions along with switching from
unreliable erlang-solutions that tend to fail periodically.

Change-Id: Ia438ee3b0aa1ba95aff014776e936516b83181ec
(cherry picked from commit 4ab856bfefd07ca5fb39d66c93530e9b7ab0fe76)
"
openstack%2Ftempest~master~I5c6d9afa1148772537d69a2a3321fcf32ad7eea5,openstack/tempest,master,wait_until_sshable_pingable,I5c6d9afa1148772537d69a2a3321fcf32ad7eea5,Make test_server_actions.resource_setup() wait for SSHABLE,MERGED,2022-05-24 14:50:37.000000000,2022-06-16 13:33:23.000000000,2022-06-16 13:31:07.000000000,2,1,15,843155,34ea7e9e0420b96aff4a44b5f230413ca941939b,20,4,1,1,8864,Artom Lifshitz,artom,"Make test_server_actions.resource_setup() wait for SSHABLE

Continuing the work of 4fc47f68c7710ccfb67c3ad28a58e047a8b51c1a, we
missed a spot in the recreate_server() call from resource_setup().
Start passing wait_until='SSHABLE' in that call.

Change-Id: I5c6d9afa1148772537d69a2a3321fcf32ad7eea5
"
openstack%2Fneutron~stable%2Fvictoria~Id174cd944c3b883b749046bc49d00e011eb891fe,openstack/neutron,stable/victoria,bug/1946764-stable/yoga-stable/xena-stable/wallaby-stable/victoria,Id174cd944c3b883b749046bc49d00e011eb891fe,[OVN]Any string type dhcp options should be quoted,MERGED,2022-06-16 06:23:25.000000000,2022-06-16 13:32:49.000000000,2022-06-16 13:31:14.000000000,24,9,0,846114,eecfddb06dc88337252498dd8a5937dc3de02d87,8,3,1,5,13861,yatin,yatinkarel,"[OVN]Any string type dhcp options should be quoted

Any dhcp option[1] which value is string type in ovn
should be added quotes, otherwise it would be regard
as constant.

[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116

Closes-Bug: #1946764
Change-Id: Id174cd944c3b883b749046bc49d00e011eb891fe
(cherry picked from commit 18c32e4339cbcb0993d9c162e2715f6fcfa932cc)
(cherry picked from commit f1e7d20b01e452efc234b1f169ee356333adf499)
"
openstack%2Frequirements~master~Ieb57695815b5dd1478b8be5e878fb162de33d8fd,openstack/requirements,master,openstack/requirements/constraints/noclob2,Ieb57695815b5dd1478b8be5e878fb162de33d8fd,Updated from generate-constraints,MERGED,2022-06-15 02:46:15.000000000,2022-06-16 13:32:29.000000000,2022-06-16 13:31:10.000000000,20,20,1,845871,33a0385bbac3bd506593dd5479b5efb2565673ca,15,3,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ieb57695815b5dd1478b8be5e878fb162de33d8fd
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fopenstack-ansible~master~I5c770171102092f9c2ecf9d664c06695509cc615,openstack/openstack-ansible,master,,I5c770171102092f9c2ecf9d664c06695509cc615,Bump SHA for pacemaker-corosync role,MERGED,2022-06-15 14:07:03.000000000,2022-06-16 13:25:48.000000000,2022-06-16 13:23:42.000000000,1,1,0,845994,d132d37669cbf7f91c300bf625086caa48c52203,8,3,1,1,25023,Jonathan Rosser,jrosser,"Bump SHA for pacemaker-corosync role

This adds support for centos-9

Change-Id: I5c770171102092f9c2ecf9d664c06695509cc615
"
openstack%2Fcinder-specs~master~I6bf5bfe51634642226ec0d6e5d0c040eb32a71ae,openstack/cinder-specs,master,bp/s,I6bf5bfe51634642226ec0d6e5d0c040eb32a71ae,Replication disable reason for replication backend,ABANDONED,2021-08-11 06:26:19.000000000,2022-06-16 13:22:46.000000000,,147,0,22,804204,d1ecd6130033aa46e2178240754b9f45b7519196,10,12,2,1,32171,Girish Chilukuri,GirishChilukuri,"Replication disable reason for replication backend

Implements: https://blueprints.launchpad.net/cinder/+spec/replication-diasabled-reason
Change-Id: I6bf5bfe51634642226ec0d6e5d0c040eb32a71ae
"
openstack%2Fopenstack-ansible-os_glance~master~Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6,openstack/openstack-ansible-os_glance,master,osa/service_tokens,Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6,Support service tokens,MERGED,2021-12-27 13:06:02.000000000,2022-06-16 13:22:43.000000000,2022-06-16 13:21:20.000000000,15,3,4,823009,fc6f34219426594c7c48229e2fe8fdd76511d7cd,34,4,10,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6
Related-Bug: #1948456
"
openstack%2Fcinder-specs~master~I20e1633a3a51f81a213f15007738b862fdb16374,openstack/cinder-specs,master,,I20e1633a3a51f81a213f15007738b862fdb16374,Migration support for a volume with replication status enabled,ABANDONED,2020-12-09 05:33:18.000000000,2022-06-16 13:22:11.000000000,,140,0,16,766130,b9d4456bcec6c05bed466f4ae53e7339dbd4eb65,17,4,3,1,32075,Amar,amar7ibm,"Migration support for a volume with replication status enabled

Implements: https://blueprints.launchpad.net/cinder/+spec/support-to-migrate-replicated-volumes
Change-Id: I20e1633a3a51f81a213f15007738b862fdb16374
"
openstack%2Fcinder-specs~master~If5ef8f64f56e4fd1e377967b479ecde4e8385e3d,openstack/cinder-specs,master,,If5ef8f64f56e4fd1e377967b479ecde4e8385e3d,Add provider_metadata spec,ABANDONED,2021-03-10 20:07:24.000000000,2022-06-16 13:21:46.000000000,,227,0,8,779855,4cc45cebd7ac7ac21e131a3321417d349fc3b462,10,3,2,1,5997,Walt,walter-boring,"Add provider_metadata spec

Change-Id: If5ef8f64f56e4fd1e377967b479ecde4e8385e3d
"
openstack%2Fcinder-specs~master~I5252f05f027216bce890c93b32d6248e7729fa39,openstack/cinder-specs,master,bp/using-db-in-scheduler,I5252f05f027216bce890c93b32d6248e7729fa39,Moving to using the database to get information for the scheduler,ABANDONED,2018-03-26 13:55:00.000000000,2022-06-16 13:18:39.000000000,,139,0,23,556529,e6ffda54063badba29a769226ee2c5dde55adfc1,34,15,5,1,1736,Ivan Kolodyazhny,e0ne,"Moving to using the database to get information for the scheduler

Related blueprint: using-db-in-scheduler

Change-Id: I5252f05f027216bce890c93b32d6248e7729fa39
"
openstack%2Fopenstack-ansible~master~I2bca89c7d6cd431a80c2869559ea1d7bb6994634,openstack/openstack-ansible,master,,I2bca89c7d6cd431a80c2869559ea1d7bb6994634,[DNM] test 845987,ABANDONED,2022-06-15 14:26:58.000000000,2022-06-16 12:40:39.000000000,,0,0,0,845997,4cf206ce8db51748e5a1d1ec50c687c5f380aaaf,3,1,1,1,32666,Damian Dąbrowski,ddabrowski,"[DNM] test 845987

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845987
Change-Id: I2bca89c7d6cd431a80c2869559ea1d7bb6994634
"
openstack%2Fopenstack-ansible-os_senlin~master~If5c0d4e78760f89e8ce915d0dc72e92a9dd09f73,openstack/openstack-ansible-os_senlin,master,osa/service_tokens,If5c0d4e78760f89e8ce915d0dc72e92a9dd09f73,Support service tokens,MERGED,2022-06-15 17:18:12.000000000,2022-06-16 12:37:08.000000000,2022-06-16 12:35:51.000000000,11,2,0,846043,29622374ed05fdf41b3b0de97efdfe16e3549017,11,5,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: If5c0d4e78760f89e8ce915d0dc72e92a9dd09f73
"
openstack%2Fopenstack-ansible-os_heat~master~Ib5d15aaf56112a776e2b9abb2396f9ea4f4fe319,openstack/openstack-ansible-os_heat,master,osa/service_tokens,Ib5d15aaf56112a776e2b9abb2396f9ea4f4fe319,Support service tokens,MERGED,2022-06-15 16:23:29.000000000,2022-06-16 12:35:19.000000000,2022-06-16 12:33:59.000000000,11,2,0,846029,1d39c7ab4456301ee5de87d811d4bdd8da4466a8,11,5,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: Ib5d15aaf56112a776e2b9abb2396f9ea4f4fe319
"
openstack%2Fkayobe-config~master~I0106963122f9369cf27b4884ce3255b916d7a5d4,openstack/kayobe-config,master,pip,I0106963122f9369cf27b4884ce3255b916d7a5d4,Add kayobe as a dependency,NEW,2019-04-18 16:04:49.000000000,2022-06-16 12:32:17.000000000,,1,0,2,653803,9148139ac59b087d330a0a621b8a8971c19b1d39,18,4,6,1,28048,Will Szumski,jovial,"Add kayobe as a dependency

This is the first step in describing a kayobe enviroment within a kayobe
config repository.

Change-Id: I0106963122f9369cf27b4884ce3255b916d7a5d4
Story: 2005488
Task: 30588
"
openstack%2Fopenstack-ansible-os_nova~master~I04b22722b32b6dc8b1dc95e18c3fe96ad17e51ac,openstack/openstack-ansible-os_nova,master,osa/service_tokens,I04b22722b32b6dc8b1dc95e18c3fe96ad17e51ac,Support service tokens,MERGED,2022-06-15 09:08:57.000000000,2022-06-16 12:30:59.000000000,2022-06-16 12:29:37.000000000,11,2,0,845903,c36fdaa960c7a31b7d86b4f684babd1bc0fe8ee9,10,4,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I04b22722b32b6dc8b1dc95e18c3fe96ad17e51ac
"
openstack%2Fopenstack-ansible-os_designate~master~I7eafa6b989a2fd726369b3959b5e6ba024b82274,openstack/openstack-ansible-os_designate,master,osa/service_tokens,I7eafa6b989a2fd726369b3959b5e6ba024b82274,Support service tokens,MERGED,2022-06-15 16:19:38.000000000,2022-06-16 12:29:59.000000000,2022-06-16 12:28:27.000000000,11,5,0,846026,50ee7fe8a96cfdaea0c0cb93d4245965ffd53101,11,5,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I7eafa6b989a2fd726369b3959b5e6ba024b82274
"
openstack%2Fopenstack-ansible-os_cinder~master~I1d0156a2ad829aa730419e1d9dfa1cd49026a6be,openstack/openstack-ansible-os_cinder,master,osa/service_tokens,I1d0156a2ad829aa730419e1d9dfa1cd49026a6be,Support service tokens,MERGED,2022-06-14 09:30:40.000000000,2022-06-16 12:29:19.000000000,2022-06-16 12:28:01.000000000,11,2,1,845717,f755eadadfddfbea471fe80df66b41f140d9db2e,14,4,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I1d0156a2ad829aa730419e1d9dfa1cd49026a6be
Related-Bug: #1948456
"
openstack%2Fopenstack-ansible-os_blazar~master~I3a1c2d87a39eaf342411f3b607bc909f924944cb,openstack/openstack-ansible-os_blazar,master,osa/service_tokens,I3a1c2d87a39eaf342411f3b607bc909f924944cb,Support service tokens,MERGED,2022-06-15 15:43:58.000000000,2022-06-16 12:28:14.000000000,2022-06-16 12:26:50.000000000,10,2,0,846015,711160baeac765eaa6248d9ffad0a8011349520e,11,5,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I3a1c2d87a39eaf342411f3b607bc909f924944cb
"
openstack%2Fopenstack-ansible-os_tacker~master~I9fa323e544849f7c24ccd7b860160bb5756ada28,openstack/openstack-ansible-os_tacker,master,osa/service_tokens,I9fa323e544849f7c24ccd7b860160bb5756ada28,Support service tokens,MERGED,2022-06-15 17:41:08.000000000,2022-06-16 12:27:20.000000000,2022-06-16 12:26:06.000000000,10,4,0,846050,0e27d6a3a1e8232ffa4ddfa818e4c37c3b4b3c0a,12,5,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I9fa323e544849f7c24ccd7b860160bb5756ada28
"
openstack%2Fopenstack-ansible-os_barbican~master~I6a5e16a4fc2a81dedc4bc459f13ac7781292f5a8,openstack/openstack-ansible-os_barbican,master,osa/service_tokens,I6a5e16a4fc2a81dedc4bc459f13ac7781292f5a8,Support service tokens,MERGED,2022-06-15 15:40:16.000000000,2022-06-16 12:26:45.000000000,2022-06-16 12:25:19.000000000,13,19,0,846013,cb6c38ab92e8f9df1b7e22e50286e62e7904963e,11,5,1,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I6a5e16a4fc2a81dedc4bc459f13ac7781292f5a8
"
openstack%2Fopenstack-ansible-os_trove~master~I7b01de89b459b4992ed9531e6c81259af21ba997,openstack/openstack-ansible-os_trove,master,osa/service_tokens,I7b01de89b459b4992ed9531e6c81259af21ba997,Support service tokens,MERGED,2022-06-15 17:37:10.000000000,2022-06-16 12:25:48.000000000,2022-06-16 12:23:42.000000000,12,6,0,846049,3ddd45d335cc930697b4fda687878457b84cea9c,11,5,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I7b01de89b459b4992ed9531e6c81259af21ba997
"
openstack%2Fkayobe-config~stable%2Fstein~I0106963122f9369cf27b4884ce3255b916d7a5d4,openstack/kayobe-config,stable/stein,pip-stable/rocky-stable/stein,I0106963122f9369cf27b4884ce3255b916d7a5d4,Add kayobe as a dependency,ABANDONED,2019-09-20 14:06:07.000000000,2022-06-16 12:21:33.000000000,,1,0,1,683393,96300cffefc3c8a4ca42961976301111dcb85194,5,1,2,1,28048,Will Szumski,jovial,"Add kayobe as a dependency

This is the first step in describing a kayobe enviroment within a kayobe
config repository.

Change-Id: I0106963122f9369cf27b4884ce3255b916d7a5d4
Story: 2005488
Task: 30588
"
openstack%2Fkayobe-config~stable%2Frocky~I0106963122f9369cf27b4884ce3255b916d7a5d4,openstack/kayobe-config,stable/rocky,pip-stable/rocky,I0106963122f9369cf27b4884ce3255b916d7a5d4,Add kayobe as a dependency,ABANDONED,2019-08-23 15:09:57.000000000,2022-06-16 12:21:05.000000000,,1,0,1,678251,d1231a781f50e1739d36b9516dd74b860ddbe07b,5,1,1,1,28048,Will Szumski,jovial,"Add kayobe as a dependency

This is the first step in describing a kayobe enviroment within a kayobe
config repository.

Change-Id: I0106963122f9369cf27b4884ce3255b916d7a5d4
Story: 2005488
Task: 30588
"
openstack%2Fkayobe~master~Ie36a8dadd13bd440827bfff04e46defd4bac7a36,openstack/kayobe,master,,Ie36a8dadd13bd440827bfff04e46defd4bac7a36,DNM: Test zuul jobs with ansible-version 5,ABANDONED,2022-06-16 08:06:27.000000000,2022-06-16 12:20:06.000000000,,4,0,0,846106,1fb0a8963838f32199919d614a713b38c6718fe4,3,1,1,1,15197,Pierre Riteau,priteau,"DNM: Test zuul jobs with ansible-version 5

Change-Id: Ie36a8dadd13bd440827bfff04e46defd4bac7a36
"
openstack%2Fovsdbapp~stable%2Fxena~I21b6e8dd603847b9a757799f24b8a7dd63d76a36,openstack/ovsdbapp,stable/xena,bug/1947334,I21b6e8dd603847b9a757799f24b8a7dd63d76a36,"Update QoS register in ""QoSAddCommand"" if exists",MERGED,2022-06-15 16:10:42.000000000,2022-06-16 12:06:01.000000000,2022-06-16 12:04:37.000000000,130,12,0,846022,4d4402ce06b070a3bc0391aa9caf66505af8dc78,9,4,1,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Update QoS register in ""QoSAddCommand"" if exists

""QoSAddCommand"" can return an existing QoS register if ""may_exist"" is
enabled. Now this register can be updated if the arguments passed to
the creation method differ.

This patch also adds the ability to retrieve a QoS rule by its
""external_ids"".

Related-Bug: #1947334
Change-Id: I21b6e8dd603847b9a757799f24b8a7dd63d76a36
(cherry picked from commit 3ad4a1db97f92aa356f6c184d8fec6b447228b9d)
"
openstack%2Fovsdbapp~stable%2Fwallaby~I21b6e8dd603847b9a757799f24b8a7dd63d76a36,openstack/ovsdbapp,stable/wallaby,bug/1947334,I21b6e8dd603847b9a757799f24b8a7dd63d76a36,"Update QoS register in ""QoSAddCommand"" if exists",MERGED,2022-06-15 16:11:00.000000000,2022-06-16 12:05:54.000000000,2022-06-16 12:04:35.000000000,130,12,0,846023,f804411ef6b1dc3a5a53519077fbb0ac0c97b46b,9,4,1,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Update QoS register in ""QoSAddCommand"" if exists

""QoSAddCommand"" can return an existing QoS register if ""may_exist"" is
enabled. Now this register can be updated if the arguments passed to
the creation method differ.

This patch also adds the ability to retrieve a QoS rule by its
""external_ids"".

Related-Bug: #1947334
Change-Id: I21b6e8dd603847b9a757799f24b8a7dd63d76a36
(cherry picked from commit 3ad4a1db97f92aa356f6c184d8fec6b447228b9d)
"
openstack%2Fmanila-tempest-plugin~master~Ia69f9cafbbfcdcf21533ab2484f0c65e6f16584d,openstack/manila-tempest-plugin,master,master1,Ia69f9cafbbfcdcf21533ab2484f0c65e6f16584d,add list share types by is public attr testcase,NEW,2022-06-14 07:57:28.000000000,2022-06-16 12:05:36.000000000,,25,0,48,845697,b94ff91394e37bf9483c81f223d10cc5438afa64,25,3,8,1,30409,wangzhiguang,wangzhiguang,"add list share types by is public attr testcase

add list share types by is public filter testcase in manila module

Change-Id: Ia69f9cafbbfcdcf21533ab2484f0c65e6f16584d
"
openstack%2Ftripleo-common~stable%2Ftrain~Ibdeb5741b32f8060c14ca79d2300886dee68555f,openstack/tripleo-common,stable/train,,Ibdeb5741b32f8060c14ca79d2300886dee68555f,build_catalog should loop deeper than one level,MERGED,2022-04-14 13:15:40.000000000,2022-06-16 11:40:01.000000000,2022-06-16 11:38:40.000000000,7,11,0,837805,242c568c7eea15782666f2e490f4d5d6f6b0dde9,13,4,2,1,27419,David Vallee Delisle,dvd,"build_catalog should loop deeper than one level

There's some scenarios where our catalog is nested under more than one
layer of folder. build_catalog should take this into account.

NOTE(dvd): Had to remove fstrings for py27.

Closes-bug: 1966222
Change-Id: Ibdeb5741b32f8060c14ca79d2300886dee68555f
(cherry picked from commit 5c909793655e182619e1b1ac0c75ace47bc2fe71)
(cherry picked from commit fcc8a0c69f80317f606a3ecf96d0eb9de90ba64b)
(cherry picked from commit cb440bb49b2463785481f658432ed817a85840a6)
"
openstack%2Fos-vif~master~I38a41071ac540e3b58f9d18ead88b86203a4c843,openstack/os-vif,master,drop-l-c,I38a41071ac540e3b58f9d18ead88b86203a4c843,Drop lower-constraints.txt and its testing,MERGED,2022-04-30 02:02:54.000000000,2022-06-16 11:34:18.000000000,2022-06-16 11:31:28.000000000,5,34,12,840020,1651a730c1c9a8bd38f03d47f7b51b4bb6949575,35,6,5,4,8556,Ghanshyam,ghanshyam,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I38a41071ac540e3b58f9d18ead88b86203a4c843
"
openstack%2Fos-brick~stable%2Fyoga~Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58,openstack/os-brick,stable/yoga,fix-decrypt-stable/yoga,Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58,Fix encryption symlink issues,MERGED,2022-06-15 14:07:10.000000000,2022-06-16 11:26:11.000000000,2022-06-16 10:43:08.000000000,572,185,4,845845,0bd5dc99152261d1d59ecb788faf4aea3e299edd,14,3,1,17,20813,Sofia Enriquez,enriquetaso,"Fix encryption symlink issues

This patch fixes 2 issues related to the symlinks, or lack of, that
connectors' connect_volume methods return.

Some connectors always return the block device instead of a symlink for
encrypted volumes, and other connectors return a symlink that is owned
by the system's udev rules.  Both cases are problematic

Returning the real device can prevent the encryptor connect_volume to
complete successfully, and in other cases (such as nvmeof) it completes,
but on the connector's disconnect volume it will leave the device behind
(i.e., /dev/nvme0n1) preventing new connections that would use that same
device name.

Returning a symlink owned by the system's udev rules means that they can
be reclaimed by those rules at any time.  This can happen with
cryptsetup, because when it creates a new mapping it triggers udev rules
for the device that can reclaim the symlink after os-brick has replaced
it.

This patch creates a couple of decorators to facilitate this for all
connectors. These decorators transform the paths so that the callers
gets the expected symlink, but the connector doesn't need to worry about
it and will always see the value it returns regardless of what symlink
the caller gets.

From this moment onwards we use our own custom symlink that starts with
""/dev/disk/by-id/os-brick"".

The patch fixes bugs in other connectors (such as the RBD local
connection), but since there are no open bugs they have not been
reported.

Closes-Bug: #1964379
Closes-Bug: #1967790
Change-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58
(cherry picked from commit 1583a5038d34fd560b554e0eee5c1c5a7612722f)
"
openstack%2Frequirements~master~I2fd61816159dba06ce5107fbe15cd89c1e0e4862,openstack/requirements,master,things-that-break,I2fd61816159dba06ce5107fbe15cd89c1e0e4862,DNM: things that break horizon,ABANDONED,2022-01-05 03:11:44.000000000,2022-06-16 11:25:48.000000000,,4,4,0,823449,34238c0008330bb75577808d30f140bf313fe48f,11,2,3,1,14288,Matthew Thode,prometheanfire,"DNM: things that break horizon

Depends-On: https://review.opendev.org/c/openstack/horizon/+/843346
Change-Id: I2fd61816159dba06ce5107fbe15cd89c1e0e4862
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fcharm-nova-compute~master~I1254d8f7016387598250fe73c5be326c2efd938c,openstack/charm-nova-compute,master,qemu-fix-lxd-containerised,I1254d8f7016387598250fe73c5be326c2efd938c,Disable use of xattrs when running Nova in LXD.,NEW,2021-09-12 16:05:08.000000000,2022-06-16 10:59:55.000000000,,39,0,7,808568,773a89adaaba27cda5a2447ac9433d2b6394f8f6,27,2,6,3,32203,James Vaughn,jmcvaughn,"Disable use of xattrs when running Nova in LXD.

In Charmed OpenStack Ussuri and newer, by default libvirt uses xattrs to
save the original owner of files prior to domain startup (in order to
restore them later). xattrs require privileged containers, which is
undesirable.

This commit adds a check for whether nova-compute is running inside an
LXD container, whether the OpenStack version is Ussuri or newer, and
sets `remember_owner = 0` if so.

More details at
https://discuss.linuxcontainers.org/t/cant-run-libvirt-qemu-kvm-in-an-unprivileged-domain-anymore-unable-to-set-xattr/9466

Co-Authored-By: Felipe Reyes <felipe.reyes@canonical.com>
Change-Id: I1254d8f7016387598250fe73c5be326c2efd938c
"
openstack%2Foctavia~stable%2Fyoga~I2261342377e7acb1d2bc4fc742a351dfc66e4305,openstack/octavia,stable/yoga,,I2261342377e7acb1d2bc4fc742a351dfc66e4305,Fix new pylint issues,MERGED,2022-06-08 14:48:07.000000000,2022-06-16 10:47:28.000000000,2022-06-16 10:45:55.000000000,1,6,2,845042,399c2f17504fa156e65c664cc4bfeb1c98f7d9d0,11,3,2,2,11628,Michael Johnson,johnsom,"Fix new pylint issues

The new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.

Change-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305
"
openstack%2Fopenstack-ansible-plugins~master~I6019f53eb189e27678492b2164a0aaa12d2a8e8d,openstack/openstack-ansible-plugins,master,osa/service_tokens,I6019f53eb189e27678492b2164a0aaa12d2a8e8d,Add support for role list,MERGED,2022-06-14 06:30:10.000000000,2022-06-16 10:39:37.000000000,2022-06-16 10:38:23.000000000,98,38,0,845690,15e596cb8eda024c4079191634edbc26d44f3249,17,3,5,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add support for role list

There're cases when you might want to assign multiple roles to the same
user. In order to do that and keep backwards compatability
role assignment moved to the include file, where another loop can be
performed.

Change-Id: I6019f53eb189e27678492b2164a0aaa12d2a8e8d
"
openstack%2Foctavia~master~Ic370e9edc3fb5548e9cf0d66b85df66e01c41e79,openstack/octavia,master,agent-remote-execution,Ic370e9edc3fb5548e9cf0d66b85df66e01c41e79,Validate L7Rule value and cookie name,MERGED,2022-03-25 14:58:38.000000000,2022-06-16 10:12:49.000000000,2022-06-16 10:11:14.000000000,63,9,10,835240,3cf866dbc096ff2b6136d1e06da3f668f6ffeaaa,28,5,8,5,34429,Tom Weininger,tweining,"Validate L7Rule value and cookie name

Adds validations in L7 rule and session cookie APIs in order to prevent
authenticated and authorized users to inject code into HAProxy
configuration. CR and LF (\r and \n) are no longer allowed in L7
rule keys and values. The session persistence cookie names must follow
the rules described in
https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie.

Story: 2008994
Task: 44859
Change-Id: Ic370e9edc3fb5548e9cf0d66b85df66e01c41e79
"
openstack%2Fcharms.openstack~master~Ibfb540e6ed79f9aeb0cc2994e5e02f612eeee462,openstack/charms.openstack,master,trilio-version-property,Ibfb540e6ed79f9aeb0cc2994e5e02f612eeee462,Support Trilio 4.2 Share hashes,ABANDONED,2022-06-16 09:53:40.000000000,2022-06-16 09:59:11.000000000,,173,16,0,846143,21627ec62bf2c67d87595b46f7c6c81121e699f2,3,0,2,2,12549,gnuoy,gnuoy,"Support Trilio 4.2 Share hashes

The Trilio 4.2 changes the way that hashes are generated for nfs
mount points. The hash is now generated from the directory only,
the source IP address is ignored. This patch updates the ghost-share
action to accommodate that.

Change-Id: Ibfb540e6ed79f9aeb0cc2994e5e02f612eeee462
"
openstack%2Fopenstack-ansible-os_glance~master~I01225e479e22f3867e811055c8e5e87f644bf46e,openstack/openstack-ansible-os_glance,master,osa/manage_lb,I01225e479e22f3867e811055c8e5e87f644bf46e,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:50:54.000000000,2022-06-16 09:58:19.000000000,2022-06-16 09:57:03.000000000,0,18,1,845796,613e645a203769119162dc26cccc153c9f013a4d,12,3,3,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: I01225e479e22f3867e811055c8e5e87f644bf46e
"
openstack%2Fopenstack-ansible~master~If55df8a00da912b76656f797e3650adb465fdf2d,openstack/openstack-ansible,master,,If55df8a00da912b76656f797e3650adb465fdf2d,Increase manila flavor size,MERGED,2022-06-15 14:31:45.000000000,2022-06-16 09:57:06.000000000,2022-06-16 09:54:56.000000000,1,1,1,845998,7976439d5fa987a818169a7e7603e7c76525cac1,11,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Increase manila flavor size

Change-Id: If55df8a00da912b76656f797e3650adb465fdf2d
"
openstack%2Fopenstack-ansible-os_glance~master~I4f445f280a71173f1b72a3b37bd9d54ea5694ac2,openstack/openstack-ansible-os_glance,master,,I4f445f280a71173f1b72a3b37bd9d54ea5694ac2,Fix glance mounts compatability,MERGED,2022-06-14 14:36:23.000000000,2022-06-16 09:56:43.000000000,2022-06-16 09:55:29.000000000,1,1,0,845767,c9a9e2f87bcd07849a6037e0e5c5a9078bff89d0,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix glance mounts compatability

When default value has any concatenation, it tries to resolve variables
and always contcatenate even when it's not needed.

With that we need to set defaults for the variables that are inside
defaults, otherwise even if default not needed - task would fail on
default being undefined.

Change-Id: I4f445f280a71173f1b72a3b37bd9d54ea5694ac2
"
openstack%2Frequirements~master~I4bd5a74aab1307fcee16fefb0f53926ab1293b38,openstack/requirements,master,openstack/requirements/constraints/noclob,I4bd5a74aab1307fcee16fefb0f53926ab1293b38,Updated from generate-constraints,ABANDONED,2022-06-14 02:45:02.000000000,2022-06-16 09:56:28.000000000,,11,11,5,845661,e0b7418d74dc75f57563192ebd5588196e506830,22,3,5,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Depends-On: https://review.opendev.org/c/openstack/neutron/+/845715
Depends-On: https://review.opendev.org/c/openstack/octavia/+/845171
Change-Id: I4bd5a74aab1307fcee16fefb0f53926ab1293b38
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Floci~master~I10fee9a4b4f7ebbeb9debf7c232879cb97b85fdb,openstack/loci,master,,I10fee9a4b4f7ebbeb9debf7c232879cb97b85fdb,Make able to do a git clone authenticated,NEW,2022-06-05 21:06:13.000000000,2022-06-16 09:51:59.000000000,,8,0,3,844752,1c1b1f6945540044728cfa45a61b5a777c31ac57,5,2,1,2,30176,masterpe,masterpe,"Make able to do a git clone authenticated

Change-Id: I10fee9a4b4f7ebbeb9debf7c232879cb97b85fdb
"
openstack%2Frpm-packaging~master~Id58ed046a7cdb1b09b3f561c15cdee99d756cb82,openstack/rpm-packaging,master,,Id58ed046a7cdb1b09b3f561c15cdee99d756cb82,Use TOX_CONSTRAINTS_FILE,MERGED,2020-12-24 08:00:12.000000000,2022-06-16 09:43:04.000000000,2022-06-16 09:43:04.000000000,1,1,0,768450,a162e98fa9a2064db7bc483fdf6407ae3e793e70,19,5,2,1,30384,zhangboye,zhangboye,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Id58ed046a7cdb1b09b3f561c15cdee99d756cb82
"
openstack%2Fopenstack-ansible-plugins~master~I46c6c9f4652d2bac49de07d81ae95b51139ac4a6,openstack/openstack-ansible-plugins,master,,I46c6c9f4652d2bac49de07d81ae95b51139ac4a6,Use shlex_quote from ansible module_utils rather than SSH plugin,MERGED,2022-06-14 17:40:52.000000000,2022-06-16 09:28:50.000000000,2022-06-16 09:27:37.000000000,3,1,0,845792,0fb0aaa0ef7f963dc31b13e5bb027e6ad78f2cfc,8,3,1,1,25023,Jonathan Rosser,jrosser,"Use shlex_quote from ansible module_utils rather than SSH plugin

Change-Id: I46c6c9f4652d2bac49de07d81ae95b51139ac4a6
"
openstack%2Ftempest-stress~master~If10939d4afea9a118b2fac51995a29b55091dfe8,openstack/tempest-stress,master,,If10939d4afea9a118b2fac51995a29b55091dfe8,DNM CI jobs health check,NEW,2022-06-16 09:08:51.000000000,2022-06-16 09:16:25.000000000,,1,0,0,846139,160739aee66f17a93f29df274848163951c255e7,2,1,1,1,22873,Martin Kopec,mkopec,"DNM CI jobs health check

Change-Id: If10939d4afea9a118b2fac51995a29b55091dfe8
"
openstack%2Fopenstack-ansible-lxc_container_create~master~I707dbfc6878095f7593abe3fca3a5e5b310063e5,openstack/openstack-ansible-lxc_container_create,master,,I707dbfc6878095f7593abe3fca3a5e5b310063e5,Add ovs support for lxc containers.,MERGED,2022-04-13 15:07:42.000000000,2022-06-16 09:15:09.000000000,2022-06-16 09:13:38.000000000,11,3,10,837734,0b7a8645de235f9fd1d06a059bf767f8cd618ee3,28,3,6,3,29605,Siavash Sardari,siavash.sardari,"Add ovs support for lxc containers.

The main problem this commit is resolving is that with openvswitch,
the ports were not get cleaned up, and after restart (hard restart or even with soft restart
lxc.service gets time-out) containers couldn't start properly, due to existing port on the bridges.

Change-Id: I707dbfc6878095f7593abe3fca3a5e5b310063e5
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837742
"
openstack%2Fbashate~master~I6a44ac9ab6969fe23e7504d44fc75a7242362528,openstack/bashate,master,silent_precommit,I6a44ac9ab6969fe23e7504d44fc75a7242362528,Do not run pre-commit verbose by default,MERGED,2022-04-01 11:23:08.000000000,2022-06-16 09:14:50.000000000,2022-06-16 09:13:13.000000000,1,2,4,836142,3e1e5d0d2e30f17f27307c451be8a3e733589aeb,10,7,1,1,30902,Ayaz Salikhov,mathbunnyru,"Do not run pre-commit verbose by default

Change-Id: I6a44ac9ab6969fe23e7504d44fc75a7242362528
"
openstack%2Fopenstack-ansible-os_cinder~master~I62a4ba182cc752a5bc4f6e8c4d2430f7e7aafe54,openstack/openstack-ansible-os_cinder,master,,I62a4ba182cc752a5bc4f6e8c4d2430f7e7aafe54,Forcefully remove Cinder v2 endpoints,MERGED,2022-06-14 09:16:15.000000000,2022-06-16 09:09:51.000000000,2022-06-16 09:08:19.000000000,10,7,0,845714,9a8ea212c0dbf77e08d43fc75cb65c6ed488ce10,8,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Forcefully remove Cinder v2 endpoints

Nowadays Cinder does not support v2 api so it makes sense to ensure
that these endpoints or service is not present in catalog.

Change-Id: I62a4ba182cc752a5bc4f6e8c4d2430f7e7aafe54
"
openstack%2Fgrenade~master~I642ca62018d2133eb3048a91ab2fa605b999c24a,openstack/grenade,master,readme,I642ca62018d2133eb3048a91ab2fa605b999c24a,docs: fix typo in README,MERGED,2022-04-25 17:44:27.000000000,2022-06-16 09:09:43.000000000,2022-06-16 09:08:14.000000000,1,1,0,839247,53056fc21202c375bb8c8e28653c39204e511875,7,2,1,1,5314,Brian Rosmaita,brian-rosmaita,"docs: fix typo in README

Change-Id: I642ca62018d2133eb3048a91ab2fa605b999c24a
"
openstack%2Fkayobe~master~I28f2b43ddb8bad6097e690e766f0348b1b8a296b,openstack/kayobe,master,,I28f2b43ddb8bad6097e690e766f0348b1b8a296b,docs: add information about enabling TLS to automated guide,NEW,2022-06-09 14:32:29.000000000,2022-06-16 09:09:24.000000000,,28,0,0,845278,804c1cb669756abd512477263269def90ba3e077,5,2,2,1,14826,Mark Goddard,mgoddard,"docs: add information about enabling TLS to automated guide

It only covers the internal API VIP, since we don't have a separate
external API in the development environment.

Change-Id: I28f2b43ddb8bad6097e690e766f0348b1b8a296b
"
openstack%2Fgrenade~master~I094c641f307687d1708466425b96d91322259a29,openstack/grenade,master,exame-tls-proxy,I094c641f307687d1708466425b96d91322259a29,Enable tls-proxy support in test jobs,NEW,2021-06-17 08:18:42.000000000,2022-06-16 08:50:53.000000000,,0,6,2,796796,ac7942c0fe04587e1fba734630af483530a73154,10,3,1,1,12404,Rico Lin,rico.lin,"Enable tls-proxy support in test jobs

Change-Id: I094c641f307687d1708466425b96d91322259a29
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~Iaa503b8979af25083896f8b6f2f34fcd9540a1eb,openstack/tripleo-upgrade,stable/train,,Iaa503b8979af25083896f8b6f2f34fcd9540a1eb,[update] Run undercloud workaround after updating required packages,ABANDONED,2022-04-05 12:47:25.000000000,2022-06-16 08:50:12.000000000,,5,5,0,836648,d9c199fc896ee0df41e96cfbf4bcb5a9e8c67506,3,1,1,1,8297,Sofer Athlan-Guyot,chem,"[update] Run undercloud workaround after updating required packages

This enables us to patch Tripleo-Heat-Template before running the
update.

Change-Id: Iaa503b8979af25083896f8b6f2f34fcd9540a1eb
"
openstack%2Fneutron~stable%2Fyoga~Id174cd944c3b883b749046bc49d00e011eb891fe,openstack/neutron,stable/yoga,bug/1946764-stable/yoga,Id174cd944c3b883b749046bc49d00e011eb891fe,[OVN]Any string type dhcp options should be quoted,MERGED,2022-06-15 13:42:24.000000000,2022-06-16 08:22:34.000000000,2022-06-16 08:20:46.000000000,24,9,1,845842,46c359ca4e6ae2858334a6b4182806586b5b26b0,17,3,1,5,13861,yatin,yatinkarel,"[OVN]Any string type dhcp options should be quoted

Any dhcp option[1] which value is string type in ovn
should be added quotes, otherwise it would be regard
as constant.

[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116

Closes-Bug: #1946764
Change-Id: Id174cd944c3b883b749046bc49d00e011eb891fe
(cherry picked from commit 18c32e4339cbcb0993d9c162e2715f6fcfa932cc)
"
openstack%2Foctavia~stable%2Fxena~I2261342377e7acb1d2bc4fc742a351dfc66e4305,openstack/octavia,stable/xena,,I2261342377e7acb1d2bc4fc742a351dfc66e4305,Fix new pylint issues,MERGED,2022-06-08 14:48:51.000000000,2022-06-16 08:17:31.000000000,2022-06-16 08:15:16.000000000,1,5,7,845043,d668e1f2055e0124cce4a4b7abae06ade340e24a,13,4,3,2,11628,Michael Johnson,johnsom,"Fix new pylint issues

The new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.

Change-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305
"
openstack%2Foctavia~stable%2Fwallaby~I2261342377e7acb1d2bc4fc742a351dfc66e4305,openstack/octavia,stable/wallaby,,I2261342377e7acb1d2bc4fc742a351dfc66e4305,Fix new pylint issues,MERGED,2022-06-08 14:49:00.000000000,2022-06-16 08:17:20.000000000,2022-06-16 08:15:19.000000000,1,5,7,845044,a870525df503605b6e7c1ff932487ac61234dbb6,13,4,3,2,11628,Michael Johnson,johnsom,"Fix new pylint issues

The new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.

Change-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305
"
openstack%2Fheat~stable%2Fyoga~I2de594258231e3f1c217904afce88a83a8f94df3,openstack/heat,stable/yoga,,I2de594258231e3f1c217904afce88a83a8f94df3,Make grenade job voting again,MERGED,2022-06-15 12:27:32.000000000,2022-06-16 06:27:58.000000000,2022-06-16 06:25:39.000000000,0,1,0,845839,03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e,8,2,1,1,9816,Takashi Kajinami,kajinamit,"Make grenade job voting again

Because change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported
to the previous stable branch.

Change-Id: I2de594258231e3f1c217904afce88a83a8f94df3
(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)
"
openstack%2Fcharm-openstack-dashboard~stable%2Fvictoria~Iff9357e5efb7937927a8d0a6de072d4afaa98906,openstack/charm-openstack-dashboard,stable/victoria,bug/1947010,Iff9357e5efb7937927a8d0a6de072d4afaa98906,Ease KeepAliveTimeout,MERGED,2022-04-05 02:00:35.000000000,2022-06-16 05:57:29.000000000,2022-06-16 05:57:29.000000000,4,0,2,836431,674370b301d5022b46532db5e4a3d442de8144e9,17,4,3,2,8108,Nobuto Murata,nobuto-m,"Ease KeepAliveTimeout

Apache2's default value for KeepAliveTimeout is 5 seconds, which is okay
for general web-page serving use cases. However, connections from a web
browser to Horizon application can be terminated unnecessarily during
multiple requests in a session due to the short KeepAliveTimeout.

Let's ease KeepAliveTimeout to 75 seconds, which is fairly standard for
services behind a reverse proxy since it's the default value of nginx.

Closes-Bug: #1947010
Change-Id: Iff9357e5efb7937927a8d0a6de072d4afaa98906
(cherry picked from commit dbc4077ba5abeaced91d99f55ef876584f55ed69)
"
openstack%2Ftripleo-ci~master~Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1,openstack/tripleo-ci,master,workaround_py36,Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1,Install Python38 on CentOS-8,MERGED,2022-06-08 04:09:01.000000000,2022-06-16 05:53:31.000000000,2022-06-10 10:22:51.000000000,17,12,8,845081,6d7eaa96f73f348ecdd8b63c8a31ad64e2411119,36,7,11,2,12393,chandan kumar,chkumar246,"Install Python38 on CentOS-8

DIB is a branchless project and it gets pulled from master.
https://review.opendev.org/c/openstack/diskimage-builder/+/836229
drops the py36 support and is breaking cs8 image build.

Installing Python38[1] will fix the issue.

It also drops python3-tripleoclient and python3-devel installation
from main.yml. It is already taken care by release file.

py38 does not works well with Ansible on CentOS-8[2].

So we also set ensure_pip_virtualenv_command var to pip ansible module
to explicitly use python_version based on need.

[1]. https://pkgs.org/download/python38
[2]. https://github.com/ansible/ansible/issues/67083

Closes-Bug: #1977888

Depends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/845189

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1
"
openstack%2Fdesignate-dashboard~master~Ie1e3e7579cff979535a40585d8c11ed94557e6e1,openstack/designate-dashboard,master,,Ie1e3e7579cff979535a40585d8c11ed94557e6e1,Remove unused designateclient,MERGED,2022-05-18 11:15:46.000000000,2022-06-16 05:45:39.000000000,2022-06-16 05:43:25.000000000,4,55,3,842333,d409496dd622a43cd0285acc3edfea2fcf7224f8,17,5,5,6,9816,Takashi Kajinami,kajinamit,"Remove unused designateclient

designateclient was used by API v1 dashboard, but it was already
removed.

API v2 dashaobard does not depend on designateclient but it uses
passthough APIs

Change-Id: Ie1e3e7579cff979535a40585d8c11ed94557e6e1
"
openstack%2Fdesignate-dashboard~master~I2a4f029d5081bb27b30a6889b73f2ad655e74f42,openstack/designate-dashboard,master,,I2a4f029d5081bb27b30a6889b73f2ad655e74f42,Replace usage of oslo.log,MERGED,2022-05-18 15:26:45.000000000,2022-06-16 05:44:37.000000000,2022-06-16 05:43:21.000000000,5,2,1,842378,02c92fd2b52637e1ec513ec47160a607fe38f3ab,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Replace usage of oslo.log

Horizon doesn't rely on oslo.log and use the generic logging library
and the Django logger. Following that, this change replaces oslo.log
by the generic logging library, because the only requirement is to
provide access to the root logger instance which doesn't really require
oslo.log.

Change-Id: I2a4f029d5081bb27b30a6889b73f2ad655e74f42
"
openstack%2Fdesignate-dashboard~master~If2e0efb4240a72bedfbd09988707d4dabe9d5d1f,openstack/designate-dashboard,master,,If2e0efb4240a72bedfbd09988707d4dabe9d5d1f,Fix manage.py for the default case,MERGED,2022-06-15 20:04:53.000000000,2022-06-16 05:43:23.000000000,2022-06-16 05:43:23.000000000,1,1,1,846064,ef686c490cb6ed4df2eca3aad36d1d07574b69d1,8,3,1,1,11628,Michael Johnson,johnsom,"Fix manage.py for the default case

The manage.py included in designate-dashboard pointed to a settings file that does not exist. The tests (in tox.ini) already override these settings to use those under designatedashboard/tests/settings.py.
This patch updates manage.py to use the settings from horizon by default to reduce the confusion over which manage.py should be used to update the static files.

Change-Id: If2e0efb4240a72bedfbd09988707d4dabe9d5d1f
"
openstack%2Foctavia~master~Ic953d5a63f630e556af0fde7096fe3d686eff06c,openstack/octavia,master,fix-pyroute2-netns-mock,Ic953d5a63f630e556af0fde7096fe3d686eff06c,Fix pyroute2.netns mock in some tests,MERGED,2022-06-08 20:21:02.000000000,2022-06-16 04:54:25.000000000,2022-06-16 04:53:08.000000000,6,11,8,845171,66d7b6c7d106441aea2d606c5bcadf1a5d4958d2,28,5,5,1,13252,Dr. Jens Harbott,jrosenboom,"Fix pyroute2.netns mock in some tests

With pyroute 0.6.11 the netns module import has been refactored so that
it is no longer available as an attribute. Adapt our mocks accordingly
so that the unit tests continue to work with both older versions and the
new one.

Change-Id: Ic953d5a63f630e556af0fde7096fe3d686eff06c
"
openstack%2Foctavia~master~I2261342377e7acb1d2bc4fc742a351dfc66e4305,openstack/octavia,master,,I2261342377e7acb1d2bc4fc742a351dfc66e4305,Fix new pylint issues,MERGED,2022-06-08 14:47:28.000000000,2022-06-16 04:51:14.000000000,2022-06-16 04:49:43.000000000,1,6,9,845146,d590d6c7051a9d9941900efc85959e9158609e08,31,4,4,2,11628,Michael Johnson,johnsom,"Fix new pylint issues

The new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.

Change-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305
"
openstack%2Fskyline-console~master~Ib3414964c3d319737742f94084c113b636d5be3b,openstack/skyline-console,master,,Ib3414964c3d319737742f94084c113b636d5be3b,fix: Fix user group list in project detail page,ABANDONED,2022-06-16 03:00:18.000000000,2022-06-16 03:24:57.000000000,,1,1,0,846086,0aa78d79b8b0900e9e5b98efbede6f4c56fecf27,2,0,1,1,30434,Jingwei.Zhang,jwzhang,"fix: Fix user group list in project detail page

Fix user group list in project detail page: fix request params

Change-Id: Ib3414964c3d319737742f94084c113b636d5be3b
"
openstack%2Fcharm-openstack-dashboard~stable%2Fwallaby~Iff9357e5efb7937927a8d0a6de072d4afaa98906,openstack/charm-openstack-dashboard,stable/wallaby,bug/1947010,Iff9357e5efb7937927a8d0a6de072d4afaa98906,Ease KeepAliveTimeout,MERGED,2022-04-05 02:00:21.000000000,2022-06-16 03:18:18.000000000,2022-06-16 03:18:18.000000000,4,0,3,836430,1e34723cd24ec1c2cfc2ac724a79b1bcca0e1438,16,4,2,2,8108,Nobuto Murata,nobuto-m,"Ease KeepAliveTimeout

Apache2's default value for KeepAliveTimeout is 5 seconds, which is okay
for general web-page serving use cases. However, connections from a web
browser to Horizon application can be terminated unnecessarily during
multiple requests in a session due to the short KeepAliveTimeout.

Let's ease KeepAliveTimeout to 75 seconds, which is fairly standard for
services behind a reverse proxy since it's the default value of nginx.

Closes-Bug: #1947010
Change-Id: Iff9357e5efb7937927a8d0a6de072d4afaa98906
(cherry picked from commit dbc4077ba5abeaced91d99f55ef876584f55ed69)
"
openstack%2Fcharm-openstack-dashboard~stable%2Fussuri~Iff9357e5efb7937927a8d0a6de072d4afaa98906,openstack/charm-openstack-dashboard,stable/ussuri,bug/1947010,Iff9357e5efb7937927a8d0a6de072d4afaa98906,Ease KeepAliveTimeout,MERGED,2022-04-05 02:00:48.000000000,2022-06-16 03:18:16.000000000,2022-06-16 03:18:16.000000000,4,0,2,836432,4c9b244ac7689c0e8c8f767c91a91c1ce40f8c85,13,4,2,2,8108,Nobuto Murata,nobuto-m,"Ease KeepAliveTimeout

Apache2's default value for KeepAliveTimeout is 5 seconds, which is okay
for general web-page serving use cases. However, connections from a web
browser to Horizon application can be terminated unnecessarily during
multiple requests in a session due to the short KeepAliveTimeout.

Let's ease KeepAliveTimeout to 75 seconds, which is fairly standard for
services behind a reverse proxy since it's the default value of nginx.

Closes-Bug: #1947010
Change-Id: Iff9357e5efb7937927a8d0a6de072d4afaa98906
(cherry picked from commit dbc4077ba5abeaced91d99f55ef876584f55ed69)
"
openstack%2Fpython-heatclient~master~Ib452429e937dd859d150681740fb77292dbeaebb,openstack/python-heatclient,master,,Ib452429e937dd859d150681740fb77292dbeaebb,Remove unicode literal from code,NEW,2022-06-16 03:03:57.000000000,2022-06-16 03:17:59.000000000,,12,12,0,846087,cd58946839e254ac0c30f8e30ef55334759ca637,3,1,2,2,33881,LiZekun,joeylee666666,"Remove unicode literal from code

All strings are considered as unicode literal string from Python 3.

This patch drops the explicit unicode literal (u'...')
appearances from the unicode strings.

Change-Id: Ib452429e937dd859d150681740fb77292dbeaebb
"
openstack%2Fcharm-keystone~stable%2Fussuri~Iff24f0f4b35fcc239abc14f37a76dcad8380d785,openstack/charm-keystone,stable/ussuri,,Iff24f0f4b35fcc239abc14f37a76dcad8380d785,Ease KeepAliveTimeout in line with keystoneauth1.session.Session,MERGED,2022-04-05 02:02:51.000000000,2022-06-16 03:12:12.000000000,2022-06-16 03:12:12.000000000,8,0,2,836436,6e6fb7c8ffa0430ca20c4dcccfe41e0aa9561255,12,4,2,2,8108,Nobuto Murata,nobuto-m,"Ease KeepAliveTimeout in line with keystoneauth1.session.Session

Apache2's default value for KeepAliveTimeout is 5 seconds, which is okay
for general web-page serving use cases. However, sessions and connection
pools created by keystoneauth1.session.Session can be terminated
unnecessarily during multiple API calls in a session due to the short
KeepAliveTimeout.

Let's ease KeepAliveTimeout to 75 seconds, which is fairly standard for
API services behind a reverse proxy since it's the default value of
nginx.

Closes-Bug: #1947010
Change-Id: Iff24f0f4b35fcc239abc14f37a76dcad8380d785
(cherry picked from commit 44bf92f6bf0c1396222433a7fd2717960987f1ce)
"
openstack%2Fpuppet-keystone~master~Ibb80e96982f5639ef7235d4ea893d4d12c05a14c,openstack/puppet-keystone,master,,Ibb80e96982f5639ef7235d4ea893d4d12c05a14c,Make sure keystone package name is asserted,MERGED,2022-06-15 11:41:40.000000000,2022-06-16 03:09:57.000000000,2022-06-16 03:09:57.000000000,4,3,0,845925,fd5b32aeb639d7d0f615902ccd360a6e837aad94,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Make sure keystone package name is asserted

... and fix a type in a spec file.

Change-Id: Ibb80e96982f5639ef7235d4ea893d4d12c05a14c
Co-Authored-By: Rajesh Tailor <ratailor@redhat.com>
"
openstack%2Fcharm-keystone~stable%2Fvictoria~Iff24f0f4b35fcc239abc14f37a76dcad8380d785,openstack/charm-keystone,stable/victoria,bug/1947010,Iff24f0f4b35fcc239abc14f37a76dcad8380d785,Ease KeepAliveTimeout in line with keystoneauth1.session.Session,MERGED,2022-04-05 02:02:39.000000000,2022-06-16 02:59:50.000000000,2022-06-16 02:59:50.000000000,8,0,2,836435,3cebc9fe528ed53c3743ffbfec491757d4941f45,14,4,2,2,8108,Nobuto Murata,nobuto-m,"Ease KeepAliveTimeout in line with keystoneauth1.session.Session

Apache2's default value for KeepAliveTimeout is 5 seconds, which is okay
for general web-page serving use cases. However, sessions and connection
pools created by keystoneauth1.session.Session can be terminated
unnecessarily during multiple API calls in a session due to the short
KeepAliveTimeout.

Let's ease KeepAliveTimeout to 75 seconds, which is fairly standard for
API services behind a reverse proxy since it's the default value of
nginx.

Closes-Bug: #1947010
Change-Id: Iff24f0f4b35fcc239abc14f37a76dcad8380d785
(cherry picked from commit 44bf92f6bf0c1396222433a7fd2717960987f1ce)
"
openstack%2Fcharm-keystone~stable%2Fwallaby~Iff24f0f4b35fcc239abc14f37a76dcad8380d785,openstack/charm-keystone,stable/wallaby,,Iff24f0f4b35fcc239abc14f37a76dcad8380d785,Ease KeepAliveTimeout in line with keystoneauth1.session.Session,MERGED,2022-04-05 02:02:26.000000000,2022-06-16 02:47:07.000000000,2022-06-16 02:47:07.000000000,8,0,7,836434,aea59e822e493f8049f31047f38dc50daf9929db,22,4,2,2,8108,Nobuto Murata,nobuto-m,"Ease KeepAliveTimeout in line with keystoneauth1.session.Session

Apache2's default value for KeepAliveTimeout is 5 seconds, which is okay
for general web-page serving use cases. However, sessions and connection
pools created by keystoneauth1.session.Session can be terminated
unnecessarily during multiple API calls in a session due to the short
KeepAliveTimeout.

Let's ease KeepAliveTimeout to 75 seconds, which is fairly standard for
API services behind a reverse proxy since it's the default value of
nginx.

Closes-Bug: #1947010
Change-Id: Iff24f0f4b35fcc239abc14f37a76dcad8380d785
(cherry picked from commit 44bf92f6bf0c1396222433a7fd2717960987f1ce)
"
openstack%2Fdiskimage-builder~master~Iefd7c23512c460e33117d12bbc33606134daa9e2,openstack/diskimage-builder,master,,Iefd7c23512c460e33117d12bbc33606134daa9e2,Fix backward regex match,MERGED,2022-06-15 17:53:11.000000000,2022-06-16 00:54:13.000000000,2022-06-16 00:52:57.000000000,1,1,2,846052,887546d9270b6b8061abb578edd2a33a50d3f34d,16,5,2,1,8161,Lon Hohberger,lon,"Fix backward regex match

'9-stream' was being matched against the regex '9',
causing builds on RHEL9 to try to install C9S RPMs.
We want this the other way so that DIB_RELEASE=9
will not match the regex '9-stream'.

Resolves: rhbz#2097443

Signed-off-by: Lon Hohberger <lhh@redhat.com>
Change-Id: Iefd7c23512c460e33117d12bbc33606134daa9e2
"
openstack%2Fkolla-ansible~master~Icc5765d1eb80248a08a5669ef3bd3412e8371515,openstack/kolla-ansible,master,zuul-ansible-5,Icc5765d1eb80248a08a5669ef3bd3412e8371515,DNM: Test zuul jobs with ansible-version 5,NEW,2022-06-15 23:14:20.000000000,2022-06-16 00:51:20.000000000,,1,0,0,846069,b164150907a9a9ae486f868f9f2f121a2d0ffcf8,3,1,1,1,13252,Dr. Jens Harbott,jrosenboom,"DNM: Test zuul jobs with ansible-version 5

Change-Id: Icc5765d1eb80248a08a5669ef3bd3412e8371515
"
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I8a985e496aa0161193becb38ad043835c4c21778,openstack/tripleo-upgrade,stable/wallaby,,I8a985e496aa0161193becb38ad043835c4c21778,Make config-heat and config-resource options comptatible with OOOQ,MERGED,2022-06-14 12:39:59.000000000,2022-06-16 00:10:28.000000000,2022-06-16 00:10:28.000000000,15,18,0,845680,fe14899d2016f7e0d5c275f8a7004cd33a4b9a0c,6,3,1,4,33080,Mikolaj Ciecierski,mciecierski,"Make config-heat and config-resource options comptatible with OOOQ

The original implementation restricted the usage strictly to infrared, see[1].

[1] https://review.opendev.org/c/openstack/tripleo-upgrade/+/709972

Change-Id: I8a985e496aa0161193becb38ad043835c4c21778
(cherry picked from commit 7c3968536fa17ff154d0f24a8c28c3d9e5fad8ca)
"
openstack%2Fproject-config~master~Ibba8260fb13e6baf6d33103b9ea71c142cddc7c6,openstack/project-config,master,neutron-grafana-updates,Ibba8260fb13e6baf6d33103b9ea71c142cddc7c6,neutron-tempest-plugin grafana update,MERGED,2022-06-15 11:59:33.000000000,2022-06-15 23:47:47.000000000,2022-06-15 23:41:24.000000000,54,74,0,845978,284172c14c5787400972c4dc4a0d21e53b66fce0,8,6,1,1,13861,yatin,yatinkarel,"neutron-tempest-plugin grafana update

Replace jobs which are no longer running with
jobs which are running from recent releases.

queens/rocky/stein/train jobs are no longer running
in neutron-tempest-plugin gate, instead now we run
wallaby/xena/yoga jobs, update dashboard to reflect
the same.

Change-Id: Ibba8260fb13e6baf6d33103b9ea71c142cddc7c6
"
openstack%2Ftempest~master~I63afbec5e3e5619e0ab1f0c504e56dee56ae88da,openstack/tempest,master,log-global_request_id,I63afbec5e3e5619e0ab1f0c504e56dee56ae88da,Pass the global request ID as logging context,MERGED,2022-05-10 17:21:26.000000000,2022-06-15 23:43:24.000000000,2022-06-15 23:41:51.000000000,9,1,5,841310,8aa5f89c2f595c2a65644475c6a3b782f1131afb,15,5,1,1,15334,Stephen Finucane,sfinucan,"Pass the global request ID as logging context

Change-Id: I63afbec5e3e5619e0ab1f0c504e56dee56ae88da
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fproject-config~master~I70c468090204354bdf7ec0a45c715b30a2343f19,openstack/project-config,master,neutron-grafana-updates,I70c468090204354bdf7ec0a45c715b30a2343f19,Update Neutron Grafana as per recent changes,MERGED,2022-06-15 11:56:40.000000000,2022-06-15 23:42:55.000000000,2022-06-15 23:36:46.000000000,50,42,1,845975,4486d28ebd2411ce9ff4a80e0bafddd15fec1570,8,6,1,3,13861,yatin,yatinkarel,"Update Neutron Grafana as per recent changes

neutron-tempest-plugin scenario jobs were renamed and api
job was dropped with [1], more jobs are added to neutron-lib [2].

This patch adapts dashboard as per it.

[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/836912
[2] https://review.opendev.org/c/openstack/neutron-lib/+/837590

Change-Id: I70c468090204354bdf7ec0a45c715b30a2343f19
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iedfb543f4a0f2adb02e696a5afa52693d3dcee37,openstack/tripleo-heat-templates,stable/train,,Iedfb543f4a0f2adb02e696a5afa52693d3dcee37,Only run mysql upgrade commands when needed,MERGED,2022-06-15 14:56:29.000000000,2022-06-15 23:26:39.000000000,2022-06-15 23:26:39.000000000,6,0,0,846004,b1d934301bfcef79eef9c4df1a9d4a4f399a9520,7,3,1,1,31245,Daniel Bengtsson,damani42,"Only run mysql upgrade commands when needed

During upgrade tasks, a transient container performs
mysql upgrades on disk. This action can fail if mysql
has been stopped improperly (leaving tc.log behind),
and block further runs of upgrade tasks. To avoid that,
do no run mysql upgrade script if we detect that it has
already been done once for the current mysql version.

Tested by running a FFU once, stopping galera on a node,
and rerunning ""overcloud upgrade run"".

Closes-Bug: #1962770
Change-Id: Iedfb543f4a0f2adb02e696a5afa52693d3dcee37
(cherry picked from commit 309c89e90220db90bdcb43db6ce8fa98c6881d48)
(cherry picked from commit 5c847345791e8cb56e7499b4e455de7bc61b5607)
"
openstack%2Fopenstack-ansible-os_neutron~master~I85188d62ab1f477ac624775025536a4632a580f2,openstack/openstack-ansible-os_neutron,master,,I85188d62ab1f477ac624775025536a4632a580f2,[DNM] Test CI,NEW,2022-06-15 19:38:40.000000000,2022-06-15 23:10:47.000000000,,0,0,0,846063,4d9abfdaebf857593504cf64c8a6049e027c8459,2,1,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[DNM] Test CI

Change-Id: I85188d62ab1f477ac624775025536a4632a580f2
"
openstack%2Fdiskimage-builder~master~Idc0373f9a639cd66925543376fb1e2e3398666da,openstack/diskimage-builder,master,revert-py36-drop,Idc0373f9a639cd66925543376fb1e2e3398666da,"Revert ""Remove py 3.6 support and update jobs""",MERGED,2022-06-09 05:16:31.000000000,2022-06-15 22:42:25.000000000,2022-06-15 22:41:13.000000000,3,4,5,845217,931f5b0a335947f579b7afc71a6a5d7fefdcb70f,22,7,2,2,13252,Dr. Jens Harbott,jrosenboom,"Revert ""Remove py 3.6 support and update jobs""

This reverts commit fe0e5324d4248d114660ec35111ae9601e05b95b.

Reason for revert: Python3.6 is still being used on Centos 8 based
platforms.

This is a partial revert, since the py36 job is currently failing, it
will be restored in a follow-up patch.

Change-Id: Idc0373f9a639cd66925543376fb1e2e3398666da
"
openstack%2Ftripleo-heat-templates~master~I3c3299ceb9557ca42e7c3bd89dae740f8bd79996,openstack/tripleo-heat-templates,master,cinder-nfs-multiconfig,I3c3299ceb9557ca42e7c3bd89dae740f8bd79996,Support for multiple Cinder NFS storage backends,MERGED,2022-05-18 14:40:10.000000000,2022-06-15 22:38:33.000000000,2022-06-15 22:37:17.000000000,54,0,13,842370,8ee95985b2133e1018c6ecdd8e987ef3125b1dbc,33,5,6,3,34598,Manojkatari,mkatari,"Support for multiple Cinder NFS storage backends

CinderNfsBackendName is enhanced to support a list of backend names,
and the following new parameters are added.

 - CinderNfsMultiConfig provides a way to specify
   parameter values for each backend.

 - CinderNfsSharesConfig allows you to pass NFS shares config for
   a backend instead of hard coded input.
   This parameter is required to support multi-config where
   unique NFS shares config is needed for every backend.

Depends-On: I6d387f6df0e9b85896b25b414ae2cf8bfea4152c
Change-Id: I3c3299ceb9557ca42e7c3bd89dae740f8bd79996
"
openstack%2Fopenstack-helm-infra~master~I050bc8df976032b094154a4c6612dd80eb4d54f8,openstack/openstack-helm-infra,master,csi-impr,I050bc8df976032b094154a4c6612dd80eb4d54f8,Add pods watch and list permissions,MERGED,2022-06-13 18:53:08.000000000,2022-06-15 21:18:50.000000000,2022-06-15 21:16:51.000000000,5,1,1,845626,9dad642c84bde9e01298e9c18c55d28c50f41b67,17,5,5,3,33949,Walter S Wahlstedt,wwahlstedt,"Add pods watch and list permissions

Change-Id: I050bc8df976032b094154a4c6612dd80eb4d54f8
"
openstack%2Fopenstack-helm-infra~master~I93a1426c2ca02b060f7a606495893feb2813c142,openstack/openstack-helm-infra,master,,I93a1426c2ca02b060f7a606495893feb2813c142,[ceph-mon] Allow for unconditional mon restart,MERGED,2022-06-13 16:54:06.000000000,2022-06-15 21:14:43.000000000,2022-06-15 21:13:32.000000000,11,3,1,845610,13fd81b8d98359099b2cb099f3ae4fb43945c12f,20,9,3,5,29974,Stephen Taylor,st053q,"[ceph-mon] Allow for unconditional mon restart

This change allows mons to be restarted unconditionally by the
ceph-mon chart. This can be useful in upgrade scenarios where
ceph-mon pods need to be forcibly restarted for any reason.

Change-Id: I93a1426c2ca02b060f7a606495893feb2813c142
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767,openstack/tripleo-heat-templates,stable/wallaby,bug/1951131,I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767,Add service OS::TripleO::Services::ManilaBackendPowerMax,MERGED,2022-05-18 12:08:59.000000000,2022-06-15 21:01:15.000000000,2022-06-15 21:01:15.000000000,17,0,4,842315,79e5bb4ae2823905b73df68d139d2152752e90e1,29,4,2,16,16643,Goutham Pacha Ravi,gouthamr,"Add service OS::TripleO::Services::ManilaBackendPowerMax

The templates were added in [1]; but the service wasn't added
to the overcloud resource registry. Also add it in standard
roles and CI environments for consistency. Since [1] was backported
to stable/train, this commit is appropriate for backport as well.

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/818105
Closes-Bug: #1951131

Change-Id: I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 9b06e0850fa332f97519ec2b10c24e70ceeae12a)
"
openstack%2Ftripleo-quickstart-extras~master~I982dedb53582fbd76391165c3ca72954c129b84a,openstack/tripleo-quickstart-extras,master,deployed_ceph_ci,I982dedb53582fbd76391165c3ca72954c129b84a,Deploy Ceph before the Overcloud for standalone CI,MERGED,2022-03-18 19:58:44.000000000,2022-06-15 20:57:25.000000000,2022-06-15 20:57:25.000000000,245,0,183,834352,be8dccb7455b62266da2ce1c6d7e7ac667d43084,630,8,81,4,18002,John Fulton,fultonj,"Deploy Ceph before the Overcloud for standalone CI

Add new tasks file to the standalone role so that CI can
deploy Ceph before the Overcloud. Tasks file uses three
tripleo-operator-ansible roles which create a Ceph spec,
create the ceph-admin user, and deploy Ceph by calling
tripleo-client commands.

Additional tasks file storage-network.yml creates a
dummy interface for a separate storage network so that
Ceph has a network to bootstrap in before the control
plane network (192.168.24.0/24) is created by standalone
overcloud deployment. Same tasks file creates Heat inputs
so overcloud is deployed with network isolation in order
to use the storage network.

Contains a TODO item so that this scenario will also
be tested for W after supporting patches are backported.

Change-Id: I982dedb53582fbd76391165c3ca72954c129b84a
"
openstack%2Fpuppet-nova~master~I81aa8f0b0338662f0dcf9bec866dc5610a9141e8,openstack/puppet-nova,master,typos,I81aa8f0b0338662f0dcf9bec866dc5610a9141e8,Fix some typos,MERGED,2022-06-14 17:28:14.000000000,2022-06-15 20:32:07.000000000,2022-06-15 20:32:07.000000000,30,30,5,845791,72109eaf9a557931571fb2c682bc89737ec4e376,19,3,3,25,20733,Rajesh Tailor,rajesht,"Fix some typos

This change fixes some of the typos in parameter descriptions,
conditions and tests.

Change-Id: I81aa8f0b0338662f0dcf9bec866dc5610a9141e8
"
openstack%2Fcharm-cinder~stable%2Fyoga~I363fa0de51ad94df8ac83fef48ac4216781e0bdb,openstack/charm-cinder,stable/yoga,update-bundles-yoga,I363fa0de51ad94df8ac83fef48ac4216781e0bdb,"Update the bundles to use the stable track, edge risk for yoga",MERGED,2022-06-15 11:48:49.000000000,2022-06-15 20:21:22.000000000,2022-06-15 20:21:22.000000000,40,32,1,845929,162b5c90f5e2bd8e2a3c46c3ed4fdba129b930b6,8,4,1,4,20870,Alex Kavanagh,ajkavanagh,"Update the bundles to use the stable track, edge risk for yoga

The bundles for the yoga channel currently point to ""latest/edge""
channel for all the charms.  This update points the charms to the
appropriate channel for the charm being used, either from ceph,
openstack, ovn or the misc tracks.

Change-Id: I363fa0de51ad94df8ac83fef48ac4216781e0bdb
"
openstack%2Fnova~stable%2Fvictoria~Ic97eff86f580bff67b1f02c8eeb60c4cf4181e6a,openstack/nova,stable/victoria,bug/1949808,Ic97eff86f580bff67b1f02c8eeb60c4cf4181e6a,Clean up when queued live migration aborted,NEW,2022-06-14 13:29:27.000000000,2022-06-15 19:43:57.000000000,,68,38,2,845754,bdbc5d904f3ad32808142cfd6b73459fc5d54c3a,15,1,3,3,19234,Alexey Stupnikov,astupnikov,"Clean up when queued live migration aborted

This patch solves bug #1949808 and bug #1960412 by tuning
live_migration_abort() function and adding calls to:

- remove placement allocations for live migration;
- remove INACTIVE port bindings against destination compute node;
- restore instance's state.

Related unit test was adjusted and related functional tests were
fixed.

Closes-bug: #1949808
Closes-bug: #1960412
Change-Id: Ic97eff86f580bff67b1f02c8eeb60c4cf4181e6a
(cherry picked from commit 219520d9cec6a204e0d0f75881d75c8db48e7f56)
(cherry picked from commit 8670ca8bb290d7b434437ebf6c65d2e396498df8)
"
openstack%2Fopenstack-ansible-os_mistral~master~I126a9180d37fe3242762776837e2b15abc9924e2,openstack/openstack-ansible-os_mistral,master,osa/manage_lb,I126a9180d37fe3242762776837e2b15abc9924e2,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:58:10.000000000,2022-06-15 19:43:54.000000000,2022-06-15 19:42:33.000000000,0,18,0,845800,7dd254b652829750f7a6dcfcc357d1580d3279e6,9,3,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: I126a9180d37fe3242762776837e2b15abc9924e2
"
openstack%2Fswift~master~I7cf1b0ee7f928fcaa89a799a734e0d028d705383,openstack/swift,master,,I7cf1b0ee7f928fcaa89a799a734e0d028d705383,Clear logger txn_id after making requests,MERGED,2017-09-26 23:19:28.000000000,2022-06-15 19:26:23.000000000,2022-06-15 19:24:45.000000000,58,30,3,507706,d13eeabdb5c293b09ad6a9a2189d2a635b055526,19,7,2,3,15343,Tim Burke,tburke,"Clear logger txn_id after making requests

Otherwise, transaction IDs start bleeding over to messages where they
don't make sense.

Change-Id: I7cf1b0ee7f928fcaa89a799a734e0d028d705383
"
openstack%2Fneutron~stable%2Fwallaby~Id174cd944c3b883b749046bc49d00e011eb891fe,openstack/neutron,stable/wallaby,bug/1946764-stable/yoga-stable/xena-stable/wallaby,Id174cd944c3b883b749046bc49d00e011eb891fe,[OVN]Any string type dhcp options should be quoted,MERGED,2022-06-15 13:42:52.000000000,2022-06-15 19:22:25.000000000,2022-06-15 19:20:45.000000000,24,9,0,845844,f1e7d20b01e452efc234b1f169ee356333adf499,11,3,1,5,13861,yatin,yatinkarel,"[OVN]Any string type dhcp options should be quoted

Any dhcp option[1] which value is string type in ovn
should be added quotes, otherwise it would be regard
as constant.

[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116

Closes-Bug: #1946764
Change-Id: Id174cd944c3b883b749046bc49d00e011eb891fe
(cherry picked from commit 18c32e4339cbcb0993d9c162e2715f6fcfa932cc)
"
openstack%2Fneutron~stable%2Fxena~Id174cd944c3b883b749046bc49d00e011eb891fe,openstack/neutron,stable/xena,bug/1946764-stable/yoga-stable/xena,Id174cd944c3b883b749046bc49d00e011eb891fe,[OVN]Any string type dhcp options should be quoted,MERGED,2022-06-15 13:42:39.000000000,2022-06-15 19:22:21.000000000,2022-06-15 19:20:41.000000000,24,9,0,845843,cb23e60f4d7c47baa51c04bc3f1b9fde25f5a03d,11,3,1,5,13861,yatin,yatinkarel,"[OVN]Any string type dhcp options should be quoted

Any dhcp option[1] which value is string type in ovn
should be added quotes, otherwise it would be regard
as constant.

[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116

Closes-Bug: #1946764
Change-Id: Id174cd944c3b883b749046bc49d00e011eb891fe
(cherry picked from commit 18c32e4339cbcb0993d9c162e2715f6fcfa932cc)
"
openstack%2Ftempest~master~I18eff5a4216d5683a5d49ad0e400ac663650e7a9,openstack/tempest,master,wait_until_sshable_pingable,I18eff5a4216d5683a5d49ad0e400ac663650e7a9,Create router and dhcp when create_default_network set,MERGED,2021-11-12 14:59:27.000000000,2022-06-15 19:22:16.000000000,2022-06-15 19:20:37.000000000,3,1,2,817771,db2f561cdf8fb51053373a4d3b0edc0ce8a6578d,26,5,7,1,10135,Lee Yarwood,lyarwood,"Create router and dhcp when create_default_network set

We are trying to make server SSH-able before detach volume
is performed (details in bug mentioned below). Creating
router and dhcp is needed to setup the proper network path
for server otherwise it fail
- https://zuul.opendev.org/t/openstack/build/04e11a0eac12447f8a3c47fb385b0753

Related-Bug: #1960346

Change-Id: I18eff5a4216d5683a5d49ad0e400ac663650e7a9
"
openstack%2Fproject-config~master~Ic40babff12e40e5925a91d2ce7009ce039301c7a,openstack/project-config,master,fix-propose-updates,Ic40babff12e40e5925a91d2ce7009ce039301c7a,Use python3.8 venv in translation-update jobs,MERGED,2022-06-15 09:24:24.000000000,2022-06-15 19:14:21.000000000,2022-06-15 19:14:21.000000000,4,0,0,845907,ebb04f16978ff66dbc998afa72e862361d07998c,7,6,1,1,13861,yatin,yatinkarel,"Use python3.8 venv in translation-update jobs

These jobs runs on ubuntu-bionic which have default python 3.6
but since deps from master upper-constraints are not compatible
with python 3.6 these jobs are broken, let's use python 3.8 venv
to fix these jobs.

Change-Id: Ic40babff12e40e5925a91d2ce7009ce039301c7a
"
openstack%2Fopenstack-ansible-os_keystone~master~Ib21a5f5caa590daa827e45d26015bf32abe39cf2,openstack/openstack-ansible-os_keystone,master,osa/manage_lb,Ib21a5f5caa590daa827e45d26015bf32abe39cf2,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 12:42:45.000000000,2022-06-15 18:59:47.000000000,2022-06-15 18:58:37.000000000,0,39,0,845741,e26aabe440b75d134ee90907656207445ddfcf64,8,3,1,9,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove mention of haproxy-endpoints role

Keystone role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: Ib21a5f5caa590daa827e45d26015bf32abe39cf2
"
openstack%2Fopenstack-ansible-os_placement~master~I4614e0249d65fda1762c6d31d93b3b77babb290e,openstack/openstack-ansible-os_placement,master,osa/manage_lb,I4614e0249d65fda1762c6d31d93b3b77babb290e,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:52:17.000000000,2022-06-15 18:54:57.000000000,2022-06-15 18:53:42.000000000,0,4,0,845797,240cd95c59ddc5d704b4682e4d34531d7e8f82f9,9,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: I4614e0249d65fda1762c6d31d93b3b77babb290e
"
openstack%2Fdevstack~master~Ifcb8f0e719942d740fb7ff7cd701af24e5f44249,openstack/devstack,master,disbale-c-bak,Ifcb8f0e719942d740fb7ff7cd701af24e5f44249,Disable c-bak by default in our CI jobs,NEW,2022-04-12 21:44:07.000000000,2022-06-15 18:47:12.000000000,,2,2,7,837630,459c593c15ac79e3d6f51035a58d1854b3838853,9,5,1,1,4146,Clark Boylan,cboylan,"Disable c-bak by default in our CI jobs

c-bak has historically been a large memory consumer and we have removed
it form tests like grenade in the past. Remove it from the default set
to try and trim things down. Jobs that depend on c-bak can mix it back
in explicitly.

Change-Id: Ifcb8f0e719942d740fb7ff7cd701af24e5f44249
"
openstack%2Fopenstack-ansible-galera_server~master~I2a83e31a9de998cd10dd95fc0cffc1ad68061da5,openstack/openstack-ansible-galera_server,master,osa/manage_lb,I2a83e31a9de998cd10dd95fc0cffc1ad68061da5,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:08:08.000000000,2022-06-15 18:44:13.000000000,2022-06-15 18:43:01.000000000,0,22,0,845787,c9da7d697591ec9343897badee9ce66a18a7fe9e,8,3,1,6,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove mention of haproxy-endpoints role

Keystone role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: I2a83e31a9de998cd10dd95fc0cffc1ad68061da5
"
openstack%2Fansible-role-uwsgi~master~Ie397e5d28027341a3c3b67ea588dcce035121d19,openstack/ansible-role-uwsgi,master,osa/manage_lb,Ie397e5d28027341a3c3b67ea588dcce035121d19,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:49:12.000000000,2022-06-15 18:42:27.000000000,2022-06-15 18:41:14.000000000,0,6,0,845795,d77e0583f28a297dd1fe378840a7eea50452c750,9,3,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: Ie397e5d28027341a3c3b67ea588dcce035121d19
"
openstack%2Fopenstack-ansible-os_nova~master~I3693ee3a9a756161324e3a79464f9650fb7a9f1a,openstack/openstack-ansible-os_nova,master,osa/manage_lb,I3693ee3a9a756161324e3a79464f9650fb7a9f1a,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:42:04.000000000,2022-06-15 18:40:39.000000000,2022-06-15 18:39:02.000000000,0,23,0,845793,604085ffe6b08df8291a0c12d09961a7b6fb8663,8,3,1,6,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove mention of haproxy-endpoints role

Keystone role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: I3693ee3a9a756161324e3a79464f9650fb7a9f1a
"
openstack%2Fopenstack-ansible-os_cinder~master~I0c055393ccb1c8d61affc2c1bb6d01f0c329afe9,openstack/openstack-ansible-os_cinder,master,osa/manage_lb,I0c055393ccb1c8d61affc2c1bb6d01f0c329afe9,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:46:36.000000000,2022-06-15 18:35:24.000000000,2022-06-15 18:34:07.000000000,0,20,0,845794,f3b2abb8876b5152fbe379b061b43095eb8556e0,9,3,2,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: I0c055393ccb1c8d61affc2c1bb6d01f0c329afe9
"
openstack%2Fopenstack-helm-infra~master~I5a7993b3cad2d48af3f73218d6c61c216520e1c5,openstack/openstack-helm-infra,master,grafana-imp,I5a7993b3cad2d48af3f73218d6c61c216520e1c5,Add run migrator job prior running grafana pods,MERGED,2022-06-14 20:42:11.000000000,2022-06-15 18:21:03.000000000,2022-06-15 18:19:45.000000000,200,4,0,845818,e99dfc1c8422a2b2cc3e29264d8ce8f45e89e754,22,5,10,6,16768,Ruslan Aliev,raliev,"Add run migrator job prior running grafana pods

During the first run, grafana will run migrator job, which populates
necessary fields in database. Previously, if there are two or more
grafana pods which start up simultaneously, it causes the race condition
for database access and finally one of the pods will fail (in some
cases both of them), leaving the grafana database in incomplete state.

Signed-off-by: Ruslan Aliev <raliev@mirantis.com>
Change-Id: I5a7993b3cad2d48af3f73218d6c61c216520e1c5
"
openstack%2Fdesignate-tempest-plugin~master~I7b5038fa45de0972da064da384b47ba94785613c,openstack/designate-tempest-plugin,master,remove-six,I7b5038fa45de0972da064da384b47ba94785613c,Remove six,MERGED,2022-05-10 07:50:51.000000000,2022-06-15 18:15:07.000000000,2022-06-15 18:13:39.000000000,5,8,2,841221,c136230e7eca58ece932781e995ac1780bd1e6ce,10,5,1,3,9816,Takashi Kajinami,kajinamit,"Remove six

Python 2 is no longer supported, thus usage of six can be removed.

Change-Id: I7b5038fa45de0972da064da384b47ba94785613c
"
openstack%2Fmagnum~master~I5b2f45928d6e33bc391044d217bc7da006bda4c2,openstack/magnum,master,story/2010092,I5b2f45928d6e33bc391044d217bc7da006bda4c2,Set --node-cidr-mask-size to flannel's subnetlen.,NEW,2022-06-15 16:59:57.000000000,2022-06-15 17:58:36.000000000,,1,0,0,846038,1d54f4b527c860c59cf97474cb52a2b9c20e5c9e,2,1,1,1,2424,Felipe Reyes,freyes,"Set --node-cidr-mask-size to flannel's subnetlen.

When changing the subnet size via ""--labels flannel_network_subnetlen=N""
it's neccesary to pass this value to kube-controller-manager, so it can
configure deployed nodes with the expected netmask instead of the
default (/24).

story: 2010092
task: 45633
Change-Id: I5b2f45928d6e33bc391044d217bc7da006bda4c2
"
openstack%2Fopenstack-helm-images~master~I01c1e2c39f76adebf05640c36af492121309e8d3,openstack/openstack-helm-images,master,update-tempest,I01c1e2c39f76adebf05640c36af492121309e8d3,Clean up older tempest distro releases,MERGED,2022-06-15 16:16:39.000000000,2022-06-15 17:55:34.000000000,2022-06-15 17:52:21.000000000,0,75,0,846025,f60c30cdc4968c7027d12aebccad7442d68fe46f,9,3,1,4,21420,Gage Hugo,ghugo,"Clean up older tempest distro releases

Currently tempest has several older linux distro Dockerfiles that
are either not maintained or used, this change removes them to
reduce the number of build targets we are doing to focus more
on what we actually use.

Change-Id: I01c1e2c39f76adebf05640c36af492121309e8d3
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I0093bf9c1c8346963b6fc299527e37b7698c51ce,openstack/python-tripleoclient,stable/wallaby,BZ/2049498-stable/wallaby,I0093bf9c1c8346963b6fc299527e37b7698c51ce,bnr - Set properly the default inventory file,MERGED,2022-03-21 16:26:10.000000000,2022-06-15 17:21:55.000000000,2022-06-15 17:20:14.000000000,21,6,9,834474,33bb74cae96a0fcc63cbb86e4c51d3006ca9a426,36,6,8,3,34423,Fernando Díaz Bravo,fdiazbra,"bnr - Set properly the default inventory file

The default path is addressed to /home/stack/tripleo-inventory.yaml.
The new release the inventory is generated automatically and the path is not that one.

Also the inventory argument in the restoration command has been added

Change-Id: I0093bf9c1c8346963b6fc299527e37b7698c51ce
(cherry picked from commit 719a26aaf1c59d0f407f8a9951950032e9d4cb33)
"
openstack%2Fglance-tempest-plugin~master~I93bab21bdeda18c564b64218d12735d16a5ee8d6,openstack/glance-tempest-plugin,master,refactor-rbac-tests,I93bab21bdeda18c564b64218d12735d16a5ee8d6,Refactor rbac tests structure,MERGED,2022-04-27 17:12:31.000000000,2022-06-15 17:07:44.000000000,2022-06-15 17:07:44.000000000,2218,2133,4,839605,6e06a9c1f4cb629e7ccfc8c100f7e9192d10cca5,15,7,3,5,11075,Benny Kopilov,bkopilov,"Refactor rbac tests structure

Create multiple test files admin, memeber and reader
Move abstract class to base
Created id per testcase
Its very hard to maintain code in a single file

Change-Id: I93bab21bdeda18c564b64218d12735d16a5ee8d6
"
openstack%2Fopenstack-ansible-plugins~master~I791421268664aec2a003d7fb0b44a3d7ed1bf787,openstack/openstack-ansible-plugins,master,osa/service_tokens,I791421268664aec2a003d7fb0b44a3d7ed1bf787,Use system-scope by default,NEW,2022-03-09 18:13:16.000000000,2022-06-15 17:05:21.000000000,,4,3,0,832837,9bdb61682dc871ecc1ef96fabbedc2affc66b150,20,2,6,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use system-scope by default

Currently, if no domain or project is explicitly provided for users,
_service_project_name would be used. We change that behaviour to
assigning system-scope when neither domain not project is defined.

Most of service users should have system-scoped privileges rather then
project or domain scoped ones.

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826193
Depends-On: https://review.opendev.org/c/openstack/ansible-collections-openstack/+/836202
Change-Id: I791421268664aec2a003d7fb0b44a3d7ed1bf787
"
openstack%2Floci~master~Ideb497c169828184d301b6be4359a7c2228aa444,openstack/loci,master,build-targets,Ideb497c169828184d301b6be4359a7c2228aa444,Reduce build targets,MERGED,2021-07-20 19:49:31.000000000,2022-06-15 16:55:38.000000000,2022-06-15 16:55:38.000000000,5,92,3,801526,9e7b71c3043245baeae16ecc0c8f3563e2c25c98,25,4,6,10,1004,Mohammed Naser,mnaser,"Reduce build targets

OpenSUSE LEAP is currently not in use by any known downstream
users and it has been broken for quite sometime, leaving the gate
in a broken state and unable to land any code.  There's no active
maintainer for it as well.

Debian support was added by us (VEXXHOST) but we decided that
we're not going to continue using it and move towards Ubuntu, so
we do not want to maintain it, as well as that it is building images
for Train only.

It also updates the README file accordingly as well as includes
focal in there which has been recently added.

Change-Id: Ideb497c169828184d301b6be4359a7c2228aa444
"
openstack%2Fcinder~master~I0c0f3d2246b840326579748027b9cd15bf174ff8,openstack/cinder,master,delete_error_handling,I0c0f3d2246b840326579748027b9cd15bf174ff8,PowerMax Driver - Improve error handling around deletes,MERGED,2021-06-14 14:33:01.000000000,2022-06-15 16:47:35.000000000,2022-06-15 16:45:31.000000000,496,93,22,796286,e1f6de6f836e1d534d0196ba43e6642bc5e279c6,552,10,24,10,12670,Helen Walsh,walshh2,"PowerMax Driver - Improve error handling around deletes

1. Bring storage group check within delete volume so that
it can be used in every place it is called and not just the
delete method.
2. Remove the reset identifier_name name as this makes the
device available for use straight away even if is not deleted.
3. Allow for None value in unlink_snapshot.
4. Add extra debugging information for device id.
5. Retry on getting connection info for volume.
6. Validate a masking view on an attach operation.
7. Reset identifier name on a rollback.
8. Retry a cleanup if snap id not available at the time.
9. Pylint fixes.
10. Retry on a failed delete with a cleanup snapvx in exception.

Change-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8
"
openstack%2Fhorizon~master~I7fa6fd350bb16eea437734b30610c84a13dc222a,openstack/horizon,master,,I7fa6fd350bb16eea437734b30610c84a13dc222a,[DNR] Test horizon with latest XStatic-Angular version,ABANDONED,2021-06-04 10:33:06.000000000,2022-06-15 16:45:25.000000000,,2,2,0,794774,a03a2384ca3bfa200029044e5addbd14e765020f,12,2,3,2,29313,Vishal Manchanda,vishalmanchanda,"[DNR] Test horizon with latest XStatic-Angular version

Depends-On: https://review.opendev.org/c/openstack/requirements/+/794258
Change-Id: I7fa6fd350bb16eea437734b30610c84a13dc222a
"
openstack%2Fos-brick~master~I7d6fff66c5cc27bbd1f5caa737f01bc7784af710,openstack/os-brick,master,nvme-4,I7d6fff66c5cc27bbd1f5caa737f01bc7784af710,Fix Unit Test failures due to host's ANA support,MERGED,2022-06-08 15:13:09.000000000,2022-06-15 16:44:03.000000000,2022-06-15 14:02:20.000000000,26,0,13,845149,924af884db5797092e16e6176e9a70feddc9c892,36,3,2,2,9535,Gorka Eguileor,Gorka,"Fix Unit Test failures due to host's ANA support

We recently added NVMe-oF native multipathing support (Change-Id
I3af33c5e43cfb104e436fb785b08fb28b50a031a) but the unit tests assume
that the host they are run on doesn't support it, so when running them
on a system that does support it then 6 tests fail.

This patch just forces this assumption on the class attribute changing
the value of native_multipath_supported from None to False and thus
disabling the detection mechanism.

It also adds a couple of tests for the _set_native_multipath_supported
method that had no tests.

Change-Id: I7d6fff66c5cc27bbd1f5caa737f01bc7784af710
"
openstack%2Frequirements~master~Icc33ef59e7ff6b716b6c95addfca1a6d856b26fc,openstack/requirements,master,new-release,Icc33ef59e7ff6b716b6c95addfca1a6d856b26fc,update constraint for taskflow to new release 5.0.0,MERGED,2022-06-15 12:25:25.000000000,2022-06-15 16:21:41.000000000,2022-06-15 16:20:29.000000000,1,1,1,845980,9c6e1b39d26efb3fabfbcfc1f37c41f207688afa,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for taskflow to new release 5.0.0

meta: version: 5.0.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Michael Johnson <johnsomor@gmail.com>
meta: release:Commit: Michael Johnson <johnsomor@gmail.com>
meta: release:Change-Id: I19ed4de233f77469d2cede80e7e7e07ab42e2342
meta: release:Code-Review+1: Tom Weininger <tweining@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Icc33ef59e7ff6b716b6c95addfca1a6d856b26fc
"
openstack%2Fpuppet-nova~stable%2Fwallaby~Ia96e00ccc1b3f056605d63fe2570c4e795f509ab,openstack/puppet-nova,stable/wallaby,,Ia96e00ccc1b3f056605d63fe2570c4e795f509ab,Add enable_qemu_monitor_announce_self workaround,MERGED,2022-06-14 12:19:06.000000000,2022-06-15 16:21:19.000000000,2022-06-15 16:20:00.000000000,26,8,4,845679,8cbd5d02281195504ac22f3987eaf2bef788b0cb,13,3,2,3,11166,Lukas Bezdicka,xbezdick,"Add enable_qemu_monitor_announce_self workaround

This adds the enable_qemu_monitor_announce_self param
that will be introduced by [1].

[1] https://review.opendev.org/c/openstack/nova/+/741529

Depends-On: https://review.opendev.org/825178
Change-Id: Ia96e00ccc1b3f056605d63fe2570c4e795f509ab
(cherry picked from commit 4a77e0a5b9b46ff33e86a7e117a021dd15b7400e)
(cherry picked from commit 7238c13a3a9a07f2361ead354e34f31be91f2ad1)
"
openstack%2Ftripleo-common~stable%2Fwallaby~Ia1154701c70c8f9cc02a201d24fbadbc11ae7697,openstack/tripleo-common,stable/wallaby,,Ia1154701c70c8f9cc02a201d24fbadbc11ae7697,Drop collectd-dbi from collectd base container,MERGED,2022-06-08 13:02:29.000000000,2022-06-15 16:14:36.000000000,2022-06-15 16:13:17.000000000,0,1,3,845040,d71101a39df2d4500b561fbf85921f249f4bb584,23,7,2,1,29775,Sandeep Yadav,sandeepyadav93,"Drop collectd-dbi from collectd base container

With this patch, Dropping collectd-dbi from collectd base container
the necessary dependencies to build these were removed from the
distribution and the Plugins were not used (more details in [1])

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2094409

Closes-Bug: rhbz#2094811
Change-Id: Ia1154701c70c8f9cc02a201d24fbadbc11ae7697
(cherry picked from commit f73c56eff4c17d3f22e2b71ddba8bd530b41941c)
"
openstack%2Ftripleo-validations~master~Ie02259336c763cfa980b59ad64f9e478d05690fb,openstack/tripleo-validations,master,lp/1936406,Ie02259336c763cfa980b59ad64f9e478d05690fb,Deprecates tripleo-ansible-inventory and remove tripleo-validation scripts,MERGED,2021-10-11 20:50:36.000000000,2022-06-15 16:13:43.000000000,2022-06-15 16:12:10.000000000,7,297,20,813535,08e2e1a060332bb5dfba4e9b52d526d2272dd343,52,9,13,5,16515,mbu,matbu,"Deprecates tripleo-ansible-inventory and remove tripleo-validation scripts

tripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit
to what tripleo is actually deploying:
* tripleo-deploy directory contains a valid inventory
* tripleo-ansible with the playbook cli-config-download.yaml offers a way to
  regenerate a fresh inventory.

This review also removed the scripts/tripleo-validation.py which is not longer functional
with the current VF CLI.

Change-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb
Closes-Bug: #1936406
Resolves: rhbz#2008426
"
openstack%2Fos-net-config~stable%2Fwallaby~I2398e3881310746f349e2c9a89c64956efbc13b2,openstack/os-net-config,stable/wallaby,bug/1973566,I2398e3881310746f349e2c9a89c64956efbc13b2,Format json output properly,MERGED,2022-05-26 05:41:48.000000000,2022-06-15 16:13:38.000000000,2022-06-15 16:12:12.000000000,4,3,0,843390,bf263b66fb47f90892eb8e347322f5cf3808edb1,10,3,1,1,9816,Takashi Kajinami,kajinamit,"Format json output properly

str(dict) or print(dict) format a dict value into an invalid json
string because it uses single quotes(') instead of double quotes("").

This also fixes the log messages which mentions 'JSON' but doesn't
convert a dict value to a valid json string.

Closes-Bug: #1973566
Change-Id: I2398e3881310746f349e2c9a89c64956efbc13b2
(cherry picked from commit 88a4c885f6feec08209aebbb859f34957b952b26)
"
openstack%2Fopenstack-ansible-plugins~master~Id4e1fdf0099f8d9f9a2a3fd0289f2c0e7364d88b,openstack/openstack-ansible-plugins,master,,Id4e1fdf0099f8d9f9a2a3fd0289f2c0e7364d88b,Use the integrated repo infra jobs for testing,MERGED,2022-05-25 13:42:02.000000000,2022-06-15 16:09:34.000000000,2022-06-15 16:06:58.000000000,2,0,1,843286,c6e89dd52c56883049da383c2c0b9624babbf266,10,3,1,1,25023,Jonathan Rosser,jrosser,"Use the integrated repo infra jobs for testing

This repo includes an increasing number of ansible roles which
do not have functional test coverage, such as glusterfs and ssh-keypairs.

Add the infra scenario deploy and upgrade jobs to provide some
test coverage.

Change-Id: Id4e1fdf0099f8d9f9a2a3fd0289f2c0e7364d88b
"
openstack%2Fpuppet-nova~stable%2Fxena~Ie60fceb0d51a314ede395db567a8155a773c9b15,openstack/puppet-nova,stable/xena,cs9-standalone-upgrade-stable/xena,Ie60fceb0d51a314ede395db567a8155a773c9b15,Expose [workaround]/disable_compute_service_check_for_ffu,MERGED,2022-06-14 12:09:59.000000000,2022-06-15 15:47:02.000000000,2022-06-15 15:45:36.000000000,19,0,2,845678,d0e7fb981985fbe42708822149a4c9012d3ad6a6,10,3,1,3,11166,Lukas Bezdicka,xbezdick,"Expose [workaround]/disable_compute_service_check_for_ffu

This exposes the nova workaround to set the normal safety check
for old compute services will be treated as a warning instead
of an error.

https://review.opendev.org/c/openstack/nova/+/826097 adds
the service version check workaround for FFU.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ie60fceb0d51a314ede395db567a8155a773c9b15
(cherry picked from commit c482a3d86e90d146026019bb35ca85c76f5d7f9e)
"
openstack%2Fpuppet-neutron~stable%2Fyoga~I7f0d453b9a3309af346e2d77672124ce064afad6,openstack/puppet-neutron,stable/yoga,,I7f0d453b9a3309af346e2d77672124ce064afad6,Support networking-baremetal in Ubuntu/Debian,MERGED,2022-06-14 00:13:58.000000000,2022-06-15 15:36:16.000000000,2022-06-15 15:35:04.000000000,60,70,0,845408,025ced6d52d96425f2452cfe60239932a3ede662,8,3,1,6,9816,Takashi Kajinami,kajinamit,"Support networking-baremetal in Ubuntu/Debian

The required packages are already built and provided for these distros.

Change-Id: I7f0d453b9a3309af346e2d77672124ce064afad6
(cherry picked from commit 5c09c4f6ca4fd1f29c2e03235f4cd53d5f17eaed)
"
openstack%2Fpuppet-openstack-integration~master~I67a2195bd7bf8a88b765096c27ed739dc3e153ce,openstack/puppet-openstack-integration,master,c9-litmus,I67a2195bd7bf8a88b765096c27ed739dc3e153ce,Make CentOS 9 Litmus jobs voting,MERGED,2022-06-13 15:49:24.000000000,2022-06-15 15:30:50.000000000,2022-06-15 15:30:50.000000000,0,4,0,845604,75cea42d3ebba8a34442b56999589780093f32f9,9,3,3,1,9816,Takashi Kajinami,kajinamit,"Make CentOS 9 Litmus jobs voting

... because bolt 3.23.0, which is compatible with Ruby 3.0, has been
released.

Change-Id: I67a2195bd7bf8a88b765096c27ed739dc3e153ce
"
openstack%2Fkuryr-tempest-plugin~master~If056529d49a053970891f89d12007174f544a551,openstack/kuryr-tempest-plugin,master,fix-exceptions,If056529d49a053970891f89d12007174f544a551,Use proper ApiException from kubernetes client,MERGED,2022-06-14 13:00:26.000000000,2022-06-15 15:29:21.000000000,2022-06-15 15:28:01.000000000,2,2,8,845745,28da7f63d3c37459d4366f6b38a6107e842657ae,23,3,1,1,11600,Michał Dulko,dulek,"Use proper ApiException from kubernetes client

Seems like folks developing Python kubernetes client had move the
ApiException around. So the backward-compatible way of using it is
kubernetes.client.rest.ApiException and trying to use it by
kubernetes.client.excetpions.ApiException will not work in older library
versions. As this client is supposed to still be compatible with
stable/victoria and kubernetes==11.0.0, this commit changes the
exception module to `rest` where needed.

Change-Id: If056529d49a053970891f89d12007174f544a551
"
openstack%2Fdevstack~master~I5e5c78aa19c5208c207ddcf14e208bae8fbc3c55,openstack/devstack,master,debian-ovn,I5e5c78aa19c5208c207ddcf14e208bae8fbc3c55,Run debian platform job with OVN,MERGED,2021-10-21 10:08:28.000000000,2022-06-15 15:17:39.000000000,2022-06-15 15:14:52.000000000,0,31,21,814891,599b241d32cd067a9a26c54fe178dd2bd28426d6,54,5,6,1,13252,Dr. Jens Harbott,jrosenboom,"Run debian platform job with OVN

Packages for OVN are now available in bullseye, so we can drop the
special handling.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I5e5c78aa19c5208c207ddcf14e208bae8fbc3c55
"
openstack%2Freleases~master~I53caac81ccf4961906bbcdea21947d2a5a0953e8,openstack/releases,master,yoga-final-trailing,I53caac81ccf4961906bbcdea21947d2a5a0953e8,Release cinderlib for Yoga,ABANDONED,2022-06-14 08:11:59.000000000,2022-06-15 15:10:38.000000000,,8,0,2,845701,00b021b0811a38225af40100ea918a177dde3e48,5,3,1,1,28522,Hervé Beraud,hberaud,"Release cinderlib for Yoga

The trailing deadline is on 23 June, 2022.
Cutting the Yoga stable branch.

https: //releases.openstack.org/zed/schedule.html#z-cycle-trail
Change-Id: I53caac81ccf4961906bbcdea21947d2a5a0953e8
"
openstack%2Fnova~stable%2Fyoga~I575ce06bcc913add7db0849f85728371da2032fc,openstack/nova,stable/yoga,bug/1969496,I575ce06bcc913add7db0849f85728371da2032fc,Allow claiming PCI PF if child VF is unavailable,MERGED,2022-05-06 08:36:20.000000000,2022-06-15 15:08:20.000000000,2022-06-15 15:06:39.000000000,162,26,3,840833,4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270,20,3,1,3,9708,Balazs Gibizer,gibi,"Allow claiming PCI PF if child VF is unavailable

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail
when try to mark the dependent VFs unavailable.

This patch changes the PCI claim logic to allow claiming the parent PF
in the inconsistent situation as we assume that it is safe to do so.
This claim also fixed the inconsistency so that when the parent PF is
freed the children VFs become available again.

Closes-Bug: #1969496
Change-Id: I575ce06bcc913add7db0849f85728371da2032fc
(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)
"
openstack%2Fnova~stable%2Fvictoria~I67d41a8e439b1ff3c5983ee17823616b80698639,openstack/nova,stable/victoria,bug/1949808,I67d41a8e439b1ff3c5983ee17823616b80698639,Test aborting queued live migration,NEW,2022-06-14 13:12:47.000000000,2022-06-15 15:07:49.000000000,,146,0,0,845748,4e759616a5ea82dc1137e09a54263235b76b61ac,9,1,3,2,19234,Alexey Stupnikov,astupnikov,"Test aborting queued live migration

This patch adds a regression test which asserts that if a live migration
is aborted while it's 'queued', the instance's status is never reverted
back to ACTIVE, and instance remains in MIGRATING state.

There is simple idea behind implemented LiveMigrationQueuedAbortTest:
we start two instances on the same compute and try to migrate
them simultaneously when max_concurrent_live_migrations is set to 1
and nova.tests.fixtures.libvirt.Domain.migrateToURI3 is locked.
As a result, we get two live migrations stuck in 'migrating' and
'queued' states and we can issue API call to abort the second one.

Lock is removed and first instance is live migrated after second
instance's live migration is aborted.

stable/wallaby backport notes:
Although there was no explicit conflict when backporting this change,
LibvirtMigrationMixin didn't exist, so I had to add it manually.

Co-Authored-By: Alex Stupnikov <aleksey.stupnikov@gmail.com>
Partial-Bug: #1949808
Change-Id: I67d41a8e439b1ff3c5983ee17823616b80698639
(cherry picked from commit 3e7b9b69e68c8594eac92d88f0579aab40d7d5ae)
(cherry picked from commit 19c4f8e973bd7f88bde3c55b714439072b73aadf)
"
openstack%2Fnova~stable%2Fvictoria~I152581deb6e659c551f78eed66e4b0b958b20c53,openstack/nova,stable/victoria,bug/1949808,I152581deb6e659c551f78eed66e4b0b958b20c53,Add functional tests to reproduce bug #1960412,NEW,2022-06-14 13:26:13.000000000,2022-06-15 15:02:14.000000000,,116,7,0,845753,bf190069124e8ead8255dddaa0c18dc1f563374d,10,1,3,2,19234,Alexey Stupnikov,astupnikov,"Add functional tests to reproduce bug #1960412

Instance would be affected by problems described in bug #1949808
and bug #1960412 when queued live migration is aborted.

This change adds functional test to reproduce problems with
placement allocations (record for aborted live migration is not
removed when queued live migration is aborted) and with Neutron port
bindings (INACTIVE port binding records for destination host are not
removed when queued live migration is aborted).

It looks like there are no other modifications introduced by Nova
control plane which should be reverted when queued live migration is
aborted.

This patch also changes neutron fixture:

- neutron fixture was changed to improve active port binding's
  tracking during live migration: without this change port's
  binding:host_id is not updated when activate_port_binding() is
  called. As a result, list_ports() function returns empty list
  when constants.BINDING_HOST_ID is used in search_opts, which is
  the case for setup_networks_on_host() called with teardown=True.

Conflicts:
- nova/tests/fixtures/libvirt.py
- nova/tests/fixtures/neutron.py

NOTE. There is no need to change libvirt fixture because original
problem with lack of address element is no longer there (I also
removed related note from commit message itself). NeutronFixture
class is defined in different place instable/wallaby, but code
staus the same.

Related-bug: #1960412
Related-bug: #1949808
Change-Id: I152581deb6e659c551f78eed66e4b0b958b20c53
(cherry picked from commit 1ad287bf9a8f65ce68c14f4634775f58abda15c2)
(cherry picked from commit 479b8db3ab07dd1f50c029904cca17f3a5708685)
"
openstack%2Fneutron~master~I401d121b69bcf479cba5b9d151bcd65dabf5aea6,openstack/neutron,master,bug/1959176,I401d121b69bcf479cba5b9d151bcd65dabf5aea6,Decrease OS_TEST_TIMEOUT to 240 for dsvm-fullstack,ABANDONED,2022-02-02 12:21:26.000000000,2022-06-15 14:59:24.000000000,,56,9,14,827488,c546edc0fb3d346215405bef6a3c8d910d8e67c0,55,9,6,4,8313,Lajos Katona,elajkat,"Decrease OS_TEST_TIMEOUT to 240 for dsvm-fullstack

OS_TEST_TIMEOUT was set to 600 due to old db teardown issues (see [0]).
Those are not affecting fullstack now, but the long timeout causes
job timeouts. test_ha_router_restart_agents_no_packet_lost execution
time is around 180sec, so the OS_TEST_TIMEOUT (180sec) is short for
fullstack execution, here I changed it to 300.

Fullstack test test_ha_router_restart_agents_no_packet_lost fails with
smaller timeout, a possible fix is to add fixtures.TimeoutException
to _kill_process_and_wait, as during fullstack execution processes are
started as Fixtures.

[0]: https://bugs.launchpad.net/neutron/+bug/1541742

Change-Id: I401d121b69bcf479cba5b9d151bcd65dabf5aea6
Related-Bug: #1959176
"
openstack%2Fneutron~master~I0d1e8cdddd0430417d00132e8f746a22671c0c1b,openstack/neutron,master,bug/1965297,I0d1e8cdddd0430417d00132e8f746a22671c0c1b,"Revert ""Allow usage of legacy 3rd-party interface drivers""",ABANDONED,2022-03-17 13:04:04.000000000,2022-06-15 14:59:18.000000000,,4,10,2,834161,132162376cff0948cfc18c2f1c7c90d035e11c55,9,3,1,2,6737,Edward Hope-Morley,hopem,"Revert ""Allow usage of legacy 3rd-party interface drivers""

This reverts commit 30d573d5abeb4a5251d08dc5384f5c0ff372eff8.

Change-Id: I0d1e8cdddd0430417d00132e8f746a22671c0c1b
"
openstack%2Fneutron~master~I17597b71344a4c1141e9176b09a4d2e61729b1cd,openstack/neutron,master,,I17597b71344a4c1141e9176b09a4d2e61729b1cd,Allow uplink_propagate_status to be updated,ABANDONED,2022-03-29 14:57:46.000000000,2022-06-15 14:59:13.000000000,,56,1,0,835643,865173c96efe649a7cbf4eef495922b1de58d2eb,36,2,7,2,7130,David Hill,dhill,"Allow uplink_propagate_status to be updated

Allow uplink_propagate_status to be updated

Change-Id: I17597b71344a4c1141e9176b09a4d2e61729b1cd
Depends-on: https://review.opendev.org/c/openstack/neutron-lib/+/835637
"
openstack%2Fneutron-lib~master~I47ed360b8baa5fa2c04979641790af91d01f7cf5,openstack/neutron-lib,master,uplink_prop_status,I47ed360b8baa5fa2c04979641790af91d01f7cf5,Allow uplink_status_propagation update on existing ports,ABANDONED,2022-03-29 14:29:19.000000000,2022-06-15 14:59:08.000000000,,1,1,2,835637,7efa9de34ed5f1e16b456ef8b722200b862ff042,5,2,2,1,7130,David Hill,dhill,"Allow uplink_status_propagation update on existing ports

Allow uplink_status_propagation update on existing ports

Change-Id: I47ed360b8baa5fa2c04979641790af91d01f7cf5
Depends-on: https://review.opendev.org/c/openstack/neutron/+/835643
"
openstack%2Fneutron-dynamic-routing~master~Ife03ae4ca1b02d8e68d75ae493636b6fe2298309,openstack/neutron-dynamic-routing,master,ovn_test,Ife03ae4ca1b02d8e68d75ae493636b6fe2298309,[DO NOT MERGE] Test with OVN,ABANDONED,2020-06-29 13:57:51.000000000,2022-06-15 14:58:57.000000000,,64,0,2,738450,a9789710dac591ed7bec7be0493c3c7aae2bf445,37,3,10,1,21798,Bernard Cafarelli,bcafarel,"[DO NOT MERGE] Test with OVN

Depends-On: https://review.opendev.org/738641
Change-Id: Ife03ae4ca1b02d8e68d75ae493636b6fe2298309
"
openstack%2Fneutron~master~I91f629fd8fe44e71c3da6eece303c307e48435a1,openstack/neutron,master,fix-security-group-rule-id-check,I91f629fd8fe44e71c3da6eece303c307e48435a1,Fix create security group rule id check when using integer,ABANDONED,2022-04-08 15:17:11.000000000,2022-06-15 14:58:52.000000000,,11,1,2,837146,a6ec99dbbecb511dd9fdfb21458dadf024192a12,8,3,1,2,28514,Andrew Karpow,andyk,"Fix create security group rule id check when using integer

security_groups_db._check_security_group is supposed to check the security_group_id
of the _create_security_group_rule payload. When using an integer e.g. 0,
as security_group_id, the check succeded because of mysql accepts following query:

SELECT * FROM securitygroups WHERE id in (0)

Casting the security_group_id to a string ensures the check works as expected.

Closes-Bug: #1968343
Change-Id: I91f629fd8fe44e71c3da6eece303c307e48435a1
"
openstack%2Fnetworking-midonet~stable%2Fstein~I83e97e3b85bb615d7fd9bb69789ed3b034a26775,openstack/networking-midonet,stable/stein,rename-tap-as-a-service,I83e97e3b85bb615d7fd9bb69789ed3b034a26775,Rename tap-as-a-service from x/ to openstack/ namespace,ABANDONED,2022-01-03 12:04:55.000000000,2022-06-15 14:58:41.000000000,,14,23,1,823276,b2b068ec526ec78d532cb53c9d5ced0684339ccd,6,1,2,1,11975,Slawek Kaplonski,slaweq,"Rename tap-as-a-service from x/ to openstack/ namespace

It also removes neutron-lbaas from the required projects from
the jobs' definitions.

Conflicts:
    .zuul.yaml

Change-Id: I83e97e3b85bb615d7fd9bb69789ed3b034a26775
"
openstack%2Fneutron-fwaas~stable%2Frocky~I3ff84140c080d532e4502882a5a9e4f07dcdc052,openstack/neutron-fwaas,stable/rocky,,I3ff84140c080d532e4502882a5a9e4f07dcdc052,Fix CI jobs' definitions,ABANDONED,2022-01-03 13:33:03.000000000,2022-06-15 14:58:36.000000000,,2,6,2,823286,9b6f2bb923a482e3569dc8b5cd06f0c5aef47531,5,1,2,1,11975,Slawek Kaplonski,slaweq,"Fix CI jobs' definitions

* Remove neutron-lbaas from the CI jobs requirements
Neutron-lbaas was retired some time ago [1] so there's no need
to keep it in the requirements of the CI jobs.

* Remove non-voting job neutron-fwaas-networking-midonet-cross-py35 which
  isn't definited in the networking-midonet repo,
  
* rename openstack/networking-l2gw to x/ namespace and x/tap-as-a-service
  to openstack/ namespace

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html

Change-Id: I3ff84140c080d532e4502882a5a9e4f07dcdc052
"
openstack%2Fneutron-fwaas~stable%2Fqueens~I3ff84140c080d532e4502882a5a9e4f07dcdc052,openstack/neutron-fwaas,stable/queens,remove-neutron-lbaas,I3ff84140c080d532e4502882a5a9e4f07dcdc052,Fix CI jobs' definitions,ABANDONED,2022-01-03 13:30:05.000000000,2022-06-15 14:58:31.000000000,,2,6,3,823283,042c47b5b7717a3887898cdfa4f54628515fdf98,6,1,2,1,11975,Slawek Kaplonski,slaweq,"Fix CI jobs' definitions

* Remove neutron-lbaas from the CI jobs requirements
Neutron-lbaas was retired some time ago [1] so there's no need
to keep it in the requirements of the CI jobs.

* Remove non-voting job neutron-fwaas-networking-midonet-cross-py35 which
  isn't definited in the networking-midonet repo,
  
* rename openstack/networking-l2gw to x/ namespace and x/tap-as-a-service
  to openstack/ namespace

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html

Change-Id: I3ff84140c080d532e4502882a5a9e4f07dcdc052
"
openstack%2Fneutron~master~Ibfd91832a26c18c8047e026138546eb7ecd43e5c,openstack/neutron,master,,Ibfd91832a26c18c8047e026138546eb7ecd43e5c,Ensure to remove conntrack after applying deferred openflows,ABANDONED,2022-04-13 12:45:51.000000000,2022-06-15 14:58:25.000000000,,16,10,4,837726,2e845a225f42c034b7cee71060bb9bfc308127f8,14,2,1,3,30463,Krzysztof Tomaszewski,labedz,"Ensure to remove conntrack after applying deferred openflows

Avoid race condition between applying deferred openflow rules
and removing conntrack entries by ensuring that action
to remove conntrack entries will be started after applying
flows.

Deferred openflow rules are applies on context exit in
_apply_port_filter[1] but conntrack entries removing action
stored in greenlet queue is triggered in the last moment by eventlet sleep in
process_trusted_ports() [2] and also in meantime
during openflow batch applying by run_ofctl(). That leads to race condition
between conntrack removal and openflow apply. It may happen that
conntrack removal action is executed before coresponding flow is
applied.

To remove this race condition set a lock on processing conntrack queue
during deferred flow apply.

Partial-Bug: #1934917

[1] agent/securitygroups_rpc.py L#175
[2] openvswitch_firewall/firewall.py L#854

Change-Id: Ibfd91832a26c18c8047e026138546eb7ecd43e5c
"
openstack%2Fneutron-vpnaas-dashboard~stable%2Fvictoria~Ic1d068fd11909aec9811216b6df4d7c92ab567a7,openstack/neutron-vpnaas-dashboard,stable/victoria,zanata/translations,Ic1d068fd11909aec9811216b6df4d7c92ab567a7,Imported Translations from Zanata,ABANDONED,2022-04-15 03:31:09.000000000,2022-06-15 14:58:20.000000000,,926,0,0,838077,a4d18e61458cbec9a0a3fe025c3849f115b45af8,3,1,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic1d068fd11909aec9811216b6df4d7c92ab567a7
"
openstack%2Fnetworking-bgpvpn~master~I7b089a8121d676323f178648ae17c6534d516454,openstack/networking-bgpvpn,master,bgpvpn-ovn-driver,I7b089a8121d676323f178648ae17c6534d516454,WIP: Add OVN-based Neutron BGPVPN driver,ABANDONED,2021-08-02 09:43:39.000000000,2022-06-15 14:58:10.000000000,,973,0,4,803161,5ed333492b22433813bd4489430f23c1c9c62b24,19,4,7,13,6469,Carlos Gonçalves,cgoncalves,"WIP: Add OVN-based Neutron BGPVPN driver

Notes: It disables snat on router association, and re-enables it on
router disassociation

Change-Id: I7b089a8121d676323f178648ae17c6534d516454
"
openstack%2Fneutron-tempest-plugin~master~Ic23cbd154271988adad8d172c7668a918655c4e2,openstack/neutron-tempest-plugin,master,secure-rbac,Ic23cbd154271988adad8d172c7668a918655c4e2,DNM Just test API with enforced new defaults,ABANDONED,2022-04-29 14:21:51.000000000,2022-06-15 14:58:05.000000000,,1,0,0,839954,110b876ed1a7a6ad9c2b5c010bd28e46cd15f38b,3,1,1,1,11975,Slawek Kaplonski,slaweq,"DNM Just test API with enforced new defaults

Depends-On: https://review.opendev.org/c/openstack/neutron/+/839952
Change-Id: Ic23cbd154271988adad8d172c7668a918655c4e2
"
openstack%2Fneutron~master~I828de77ff9d23c1df491722480920ab95059ca10,openstack/neutron,master,secure-rbac,I828de77ff9d23c1df491722480920ab95059ca10,DNM Just test for the new secure rbac policies,ABANDONED,2022-04-29 14:19:11.000000000,2022-06-15 14:58:00.000000000,,3,3,0,839952,07b1e226366a6861ac785edd599b77c764801a9d,7,2,1,1,11975,Slawek Kaplonski,slaweq,"DNM Just test for the new secure rbac policies

Change-Id: I828de77ff9d23c1df491722480920ab95059ca10
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Iedfb543f4a0f2adb02e696a5afa52693d3dcee37,openstack/tripleo-heat-templates,stable/victoria,,Iedfb543f4a0f2adb02e696a5afa52693d3dcee37,Only run mysql upgrade commands when needed,ABANDONED,2022-06-15 14:38:52.000000000,2022-06-15 14:55:23.000000000,,6,0,1,845999,7867fcb9f6d712f4140c9a6e6bfb10efed13a3f0,3,1,1,1,31245,Daniel Bengtsson,damani42,"Only run mysql upgrade commands when needed

During upgrade tasks, a transient container performs
mysql upgrades on disk. This action can fail if mysql
has been stopped improperly (leaving tc.log behind),
and block further runs of upgrade tasks. To avoid that,
do no run mysql upgrade script if we detect that it has
already been done once for the current mysql version.

Tested by running a FFU once, stopping galera on a node,
and rerunning ""overcloud upgrade run"".

Closes-Bug: #1962770
Change-Id: Iedfb543f4a0f2adb02e696a5afa52693d3dcee37
(cherry picked from commit 309c89e90220db90bdcb43db6ce8fa98c6881d48)
(cherry picked from commit 5c847345791e8cb56e7499b4e455de7bc61b5607)
"
openstack%2Fcharm-cinder-lvm~master~I7358d722c375bcbda927d8d0189b9f31af3cba62,openstack/charm-cinder-lvm,master,update-bundles-yoga,I7358d722c375bcbda927d8d0189b9f31af3cba62,"Update the bundles to use the stable track, edge risk for yoga",ABANDONED,2022-06-15 11:49:24.000000000,2022-06-15 14:46:30.000000000,,24,24,1,845933,021b54c17056db1f8115bd3c400ba16901a5ff13,4,2,1,4,20870,Alex Kavanagh,ajkavanagh,"Update the bundles to use the stable track, edge risk for yoga

The bundles for the yoga channel currently point to ""latest/edge""
channel for all the charms.  This update points the charms to the
appropriate channel for the charm being used, either from ceph,
openstack, ovn or the misc tracks.

Change-Id: I7358d722c375bcbda927d8d0189b9f31af3cba62
"
openstack%2Fneutron-tempest-plugin~master~Iad0b0f5c18753e61458244cfb8106944ad4d2dc3,openstack/neutron-tempest-plugin,master,add-jammy2,Iad0b0f5c18753e61458244cfb8106944ad4d2dc3,DNM: Testing stadium jobs on jammy,ABANDONED,2022-05-11 14:19:56.000000000,2022-06-15 14:41:12.000000000,,60,24,1,841435,60b9fff10463bd64836711c03fc650ef89553927,6,1,2,2,8313,Lajos Katona,elajkat,"DNM: Testing stadium jobs on jammy

Added
- neutron-tempest-plugin-sfc-jammy
- neutron-tempest-plugin-bgpvpn-bagpipe-jammy
- neutron-tempest-plugin-dynamic-routing-jammy
- neutron-tempest-plugin-fwaas-jammy
- neutron-tempest-plugin-vpnaas-jammy
- neutron-tempest-plugin-tap-as-a-service-jammy
to see how stadiums work with jammy (ubuntu22.04)

Change-Id: Iad0b0f5c18753e61458244cfb8106944ad4d2dc3
Depends-On: https://review.opendev.org/c/openstack/devstack/+/839359
"
openstack%2Fneutron~master~If7a9faa702412a5ac0eaf52e6a8e0e0fae22b4da,openstack/neutron,master,ovn-dep,If7a9faa702412a5ac0eaf52e6a8e0e0fae22b4da,ovn: Bump OVN version to v22.03.0,ABANDONED,2021-11-18 16:02:58.000000000,2022-06-15 14:41:06.000000000,,8,8,12,818418,044239b81e427e20cbb00511d3fa3b01ce1a9d4a,30,3,4,2,8655,Jakub Libosvar,jlibosva,"ovn: Bump OVN version to v22.03.0

There's been a new minor version of OVN. In order to keep as close as
possible to the new release this patch bumps the version to the latest
stable.

Change-Id: If7a9faa702412a5ac0eaf52e6a8e0e0fae22b4da
"
openstack%2Fneutron~master~I3763945733d6bdf241854e1aa203ae4107d87f96,openstack/neutron,master,add-jammy2,I3763945733d6bdf241854e1aa203ae4107d87f96,DNM: Testing jammy linuxbridge job,ABANDONED,2022-05-11 12:06:05.000000000,2022-06-15 14:41:01.000000000,,46,50,3,841413,965309857e77ada16f36803e93e2fa57dd89c846,17,1,3,3,8313,Lajos Katona,elajkat,"DNM: Testing jammy linuxbridge job

Added neutron-linuxbridge-tempest-plugin-jammy-scenario-nftables and
neutron-ovs-tempest-plugin-scenario-jammy-iptables_hybrid-nftables to
experimental queue to see how linuxbridge works with jammy (ubuntu22.04)

Change-Id: I3763945733d6bdf241854e1aa203ae4107d87f96
Depends-On: https://review.opendev.org/c/openstack/devstack/+/839359
"
openstack%2Fneutron-fwaas~master~I38f40abab7b4fc28c65c42ba716073114b49a6cf,openstack/neutron-fwaas,master,fwaas-ovn-driver,I38f40abab7b4fc28c65c42ba716073114b49a6cf,add ovn driver,ABANDONED,2022-04-06 05:56:33.000000000,2022-06-15 14:40:56.000000000,,456,0,18,836729,e53a6dabfec59823cbe69a0dca18b84de333b202,19,2,7,6,30380,ZhouHeng,zhouhenglc,"add ovn driver

Change-Id: I38f40abab7b4fc28c65c42ba716073114b49a6cf
"
openstack%2Fpython-manilaclient~master~Ic6c0bb736bcbe196f8ce7cf4b6c2075071040610,openstack/python-manilaclient,master,bp/openstack-client-support,Ic6c0bb736bcbe196f8ce7cf4b6c2075071040610,Add support for --export-location filtering when listing shares,MERGED,2022-05-26 10:46:54.000000000,2022-06-15 14:36:41.000000000,2022-06-15 14:35:17.000000000,14,1,27,843428,bedefd0a7b1fc67e32617acacef795b7d3ec2e12,23,4,5,2,34123,Franca Mgbogu,franciedigital,"Add support for --export-location filtering when listing shares

This patch adds support for filtering with either share export
Location ID or Path when listing shares.

Change-Id: Ic6c0bb736bcbe196f8ce7cf4b6c2075071040610
"
openstack%2Ftripleo-ci~master~Ie5b2f579aa38c4b5290b2d19e8e75485fd596ebd,openstack/tripleo-ci,master,create-sc010-options-job,Ie5b2f579aa38c4b5290b2d19e8e75485fd596ebd,Create sc010 and sc010-ovn-provider -options jobs,ABANDONED,2022-06-15 14:26:26.000000000,2022-06-15 14:26:58.000000000,,105,72,0,845996,99a706dfd8e3b461766514c450b947c12cabc042,3,1,1,3,8449,Marios Andreou,marios,"Create sc010 and sc010-ovn-provider -options jobs

This patch created sc010 and sc010-ovn-provider options jobs.

Test patch is here: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844950
Change-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1

Change-Id: Ie5b2f579aa38c4b5290b2d19e8e75485fd596ebd
"
openstack%2Fopenstack-ansible~master~I346d0df95dfc04cf830b5b1ff6503270d6cb0b85,openstack/openstack-ansible,master,,I346d0df95dfc04cf830b5b1ff6503270d6cb0b85,Add log collection from /etc/ironic-inspector,MERGED,2022-06-15 07:48:50.000000000,2022-06-15 14:25:06.000000000,2022-06-15 14:22:43.000000000,1,0,0,845891,42dc0971300a573f37c6ff98faec3a689d30f03f,8,3,1,1,25023,Jonathan Rosser,jrosser,"Add log collection from /etc/ironic-inspector

The dnsmasq config file is in this directory.

Change-Id: I346d0df95dfc04cf830b5b1ff6503270d6cb0b85
"
openstack%2Fnova~stable%2Ftrain~Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd,openstack/nova,stable/train,bug/1879878,Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd,Add generic reproducer for bug #1879878,MERGED,2020-09-11 17:20:55.000000000,2022-06-15 14:15:43.000000000,2022-06-15 14:10:34.000000000,173,0,1,751366,6d8d2cb24af123c64e65d30988c9b74c0191075b,25,7,3,1,15334,Stephen Finucane,sfinucan,"Add generic reproducer for bug #1879878

No need for the libvirt driver in all its complexity here.

Changes:
  nova/tests/functional/regressions/test_bug_1879878.py

NOTE(stephenfin): The '_create_server' and '_delete_server' helpers
don't exist here, so we need to use the older helpers like
'_build_minimal_create_server_request'. Also, we need to support Python
2 here so we can't use 'super' without arguments :(

Change-Id: Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit e1adbced92453329f7285ec38c1dc7821ebb52c7)
(cherry picked from commit 15da841ecb6cc6152f5e6dbcd63bf09725cac6fc)
"
openstack%2Fnova~stable%2Ftrain~I56d3cb17260dad8b88f03c0a7b9688efb3258d6f,openstack/nova,stable/train,bug/1879878,I56d3cb17260dad8b88f03c0a7b9688efb3258d6f,Only allow one scheduler service in tests,MERGED,2020-09-11 17:20:55.000000000,2022-06-15 14:14:08.000000000,2022-06-15 14:10:05.000000000,21,0,1,751362,bc30d78a5d22720b8bd739b1e6667332f2484d40,17,9,2,1,15334,Stephen Finucane,sfinucan,"Only allow one scheduler service in tests

There have been two recent issues [1][2] caused by starting multiple
instances of the same service in tests. This can cause races when the
services' (shared) state conflicts.

With this patch, the nexus of nova service starting,
nova.test.TestCase.start_service, is instrumented to keep track of how
many of each service we are running. If we try to run the scheduler
service more than once, we fail.

We could probably do the same thing for conductor, though that's less
important (for now) because conductor is stateless (for now).

[1] https://bugs.launchpad.net/nova/+bug/1844174
[2] https://review.opendev.org/#/c/681059/ (not a nova service, but same
class of problem)

Change-Id: I56d3cb17260dad8b88f03c0a7b9688efb3258d6f
(cherry picked from commit fe05d004b51dc9801749b0f5572e1a2392004830)
"
openstack%2Ftempest~master~I1d60c21473c7b657a3f4ad57525c4561f2cfcfd5,openstack/tempest,master,,I1d60c21473c7b657a3f4ad57525c4561f2cfcfd5,Add py310 job in gate,MERGED,2022-03-04 21:28:08.000000000,2022-06-15 14:13:53.000000000,2022-06-15 14:09:08.000000000,2,1,3,832144,78f5439b7343b4e8591c61ddb96b6905e7baba57,19,5,4,2,8556,Ghanshyam,ghanshyam,"Add py310 job in gate

As 3.10 is next python version we will be testing in
next cycle (after Zed), let's add it in our testing in advance.

Change-Id: I1d60c21473c7b657a3f4ad57525c4561f2cfcfd5
"
openstack%2Fnova~stable%2Ftrain~Ie092628ac71eb87c9dfa7220255a2953ada9e04d,openstack/nova,stable/train,bug/1879878,Ie092628ac71eb87c9dfa7220255a2953ada9e04d,tests: Add reproducer for bug #1879878,MERGED,2020-09-11 17:20:55.000000000,2022-06-15 14:10:28.000000000,2022-06-15 14:10:28.000000000,86,0,1,751365,9f789caded517b5503e6728c3c5859fb5525ad39,24,7,3,1,15334,Stephen Finucane,sfinucan,"tests: Add reproducer for bug #1879878

When one resizes a pinned instance, the instance claims host CPUs for
pinning purposes on the destination. However, the host CPUs on the
source are not immediately relinquished. Rather, they are held by the
migration record, to handle the event that the resize is reverted. It is
only when one confirms this resize that the old cores are finally
relinquished.

It appears there is a potential race between the resource tracker's
periodic task and the freeing of these resources, resulting in attempts
to unpin host cores that have already been unpinned. This test
highlights that bug pending a fix.

Changes:
  nova/tests/functional/libvirt/test_numa_servers.py

NOTE(stephenfin): We don't yet have the '_create_server' helper or the
more sensible '_wait_for_state_change' behavior on 'stable/train', so we
have to revert to '_build_server' and checking for the state before the
one we want.

Change-Id: Ie092628ac71eb87c9dfa7220255a2953ada9e04d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1879878
(cherry picked from commit 10f0a42de162c90c701f70c9c28dc31bfada87db)
(cherry picked from commit 8ffaac493288c73badfa4f1ec6021ecb4f3137b7)
"
openstack%2Fnova~stable%2Ftrain~Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f,openstack/nova,stable/train,bug/1879878,Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f,Helper to start computes with different HostInfos,MERGED,2020-09-11 17:20:55.000000000,2022-06-15 14:10:20.000000000,2022-06-15 14:10:20.000000000,56,64,1,751364,29ee5984f88b23383d680454c5a106d9c52721bb,24,9,5,2,15334,Stephen Finucane,sfinucan,"Helper to start computes with different HostInfos

Sometimes functional tests need to start multiple compute hosts with
different HostInfo objects (representing, for example, different NUMA
topologies). In the future this will also be needed by both NUMA-aware
live migration functional tests and a regression test for bug 1843639.
This patch adds a helper function to the base libvirt function test
class that takes a hostname to HostInfo dict and starts a compute for
each host. Existing tests that can make use of this new helper are
refactored.

Change-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f
(cherry picked from commit 607307c1d8a5a7fbcae96ddbb4cf8e944f46f42b)
"
openstack%2Fnova~stable%2Ftrain~I33d8ac0a1cae0b2d275a21287d5e44c008a68122,openstack/nova,stable/train,bug/1879878,I33d8ac0a1cae0b2d275a21287d5e44c008a68122,func tests: move _run_periodics() into base class,MERGED,2020-09-11 17:20:55.000000000,2022-06-15 14:10:12.000000000,2022-06-15 14:10:12.000000000,56,98,5,751363,0668bc1a86427f848c024d7eab9fb2167a38ccc3,20,9,3,12,15334,Stephen Finucane,sfinucan,"func tests: move _run_periodics() into base class

There are two almost identical implementations of the _run_periodics()
helper - and a third one would have joined them in a subsequent patch,
if not for this patch. This patch moves the _run_periodics() to the
base test class. In addition, _run_periodics() depends on the
self.computes dict used for compute service tracking. The method that
populates that dict, _start_compute(), is therefore also moved to the
base class.

This enables some light refactoring of existing tests that need
either the _run_periodics() helper, or the compute service tracking.

In addition, a needless override of _start_compute() in
test_aggregates that provided no added value is removed. This is done
to avoid any potential confusion around _start_compute()'s role.

Conflicts:
  nova/tests/functional/compute/test_cache_image.py
  nova/tests/functional/integrated_helpers.py
  nova/tests/functional/test_scheduler.py

NOTE(stephenfin): Conflicts are due to the two test files not existing
yet and the large number of helpers missing from the
'integrated_helpers' class.

Changes:
  nova/tests/functional/regressions/test_bug_1889108.py

NOTE(stephenfin): Changes are due to a backport that was modified to
remove use of the functions we're adding here.

Change-Id: I33d8ac0a1cae0b2d275a21287d5e44c008a68122
(cherry picked from commit ee05cd8b9e73f8a9a43dbe9ce028e6a6beaec2bd)
"
openstack%2Fcharm-nova-compute~stable%2F21.10~I01a33b55e2c91ba255997b6a1ed123d9c71ff48d,openstack/charm-nova-compute,stable/21.10,update-bundles-yoga,I01a33b55e2c91ba255997b6a1ed123d9c71ff48d,"Update the bundles to use the stable track, edge risk for yoga",ABANDONED,2022-06-15 11:54:19.000000000,2022-06-15 14:00:55.000000000,,4602,783,2,845966,595a3cc6002d5bd5d0199cc2325680935ac0a8b5,6,2,1,129,20870,Alex Kavanagh,ajkavanagh,"Update the bundles to use the stable track, edge risk for yoga

The bundles for the yoga channel currently point to ""latest/edge""
channel for all the charms.  This update points the charms to the
appropriate channel for the charm being used, either from ceph,
openstack, ovn or the misc tracks.

Change-Id: I01a33b55e2c91ba255997b6a1ed123d9c71ff48d
"
openstack%2Fcharm-neutron-api~stable%2Fvictoria~Icab91299db4ff7ab3e24fe3a66a5056f26e3c727,openstack/charm-neutron-api,stable/victoria,charmhub-migration,Icab91299db4ff7ab3e24fe3a66a5056f26e3c727,Migrate charm charmhub for stable/victoria,MERGED,2022-05-19 10:37:34.000000000,2022-06-15 13:58:11.000000000,2022-06-15 13:58:11.000000000,120,670,4,842511,72f64017286bb9fe2e6b1da4c0f89399489bf6bd,20,3,3,29,20870,Alex Kavanagh,ajkavanagh,"Migrate charm charmhub for stable/victoria

- start from stable/victoria branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/victoria for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64
- pin tempest for python <= 3.6

Change-Id: Icab91299db4ff7ab3e24fe3a66a5056f26e3c727
"
openstack%2Fcinder~master~I50fc926275dec1360fc3880bbfb8780078e01bce,openstack/cinder,master,clarify-replication-group,I50fc926275dec1360fc3880bbfb8780078e01bce,PowerMax Docs - Clarify Replication Group,MERGED,2021-09-14 16:15:12.000000000,2022-06-15 13:36:34.000000000,2022-03-29 21:55:47.000000000,43,4,6,808995,12a3e205078e6fb6a51baae5491c9f167274d823,50,5,2,1,12670,Helen Walsh,walshh2,"PowerMax Docs - Clarify Replication Group

Clarification on how to set up a replication group
for the PowerMax driver.

Change-Id: I50fc926275dec1360fc3880bbfb8780078e01bce
"
openstack%2Fnova~stable%2Fyoga~I7b432d7a32aeb1ab765d1f731691c7841a8f1440,openstack/nova,stable/yoga,bug/1969496,I7b432d7a32aeb1ab765d1f731691c7841a8f1440,Simulate bug 1969496,MERGED,2022-05-06 08:36:20.000000000,2022-06-15 13:31:12.000000000,2022-06-15 13:06:52.000000000,56,0,5,840832,23c48b670668e9cae886b5113c776077780f5581,21,3,1,1,9708,Balazs Gibizer,gibi,"Simulate bug 1969496

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail to
when try to mark the dependent VFs unavailable.

This patch adds a test case that shows the error.

Related-Bug: #1969496

Change-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440
(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Ie34a883ac7ae989d7f74c19b9c9ee9f08a82a35f,openstack/kolla-ansible,stable/wallaby,,Ie34a883ac7ae989d7f74c19b9c9ee9f08a82a35f,Switch to Cortex-A72 cpu on AArch64,MERGED,2022-06-02 09:41:05.000000000,2022-06-15 12:56:08.000000000,2022-06-15 12:54:44.000000000,2,1,0,844385,8a8fafd6c6d3d10360dee2c28ae12db821937c00,9,6,1,1,24072,Marcin Juszkiewicz,hrw,"Switch to Cortex-A72 cpu on AArch64

CPU model ""max"" fails to boot CirrOS and some other images when QEMU 7.0
is used.

Change-Id: Ie34a883ac7ae989d7f74c19b9c9ee9f08a82a35f
(cherry picked from commit c9a3dd9cd3c004e61836a252aa34b65b89038bee)
"
openstack%2Fkayobe~master~I0cc48d0d5ed17400badb081e9117c9351677bb38,openstack/kayobe,master,ipa-builder-yoga,I0cc48d0d5ed17400badb081e9117c9351677bb38,Force use of yoga upper constraints in ipa-builder,MERGED,2022-06-10 09:46:45.000000000,2022-06-15 12:51:09.000000000,2022-06-15 12:49:43.000000000,2,1,1,845337,4ce746c1998c4c63502c46ac6185159b316275e8,15,6,3,1,15197,Pierre Riteau,priteau,"Force use of yoga upper constraints in ipa-builder

IPA itself is still compatible with Python 3.6, but ipa-builder uses
master upper-constraints which have dropped support for 3.6 and are
pulling importlib-metadata===4.11.4, which requires 3.7.

    ERROR: Cannot install ironic-python-agent==8.6.1.dev13 because these package versions have conflicting dependencies.

    The conflict is caused by:
        ironic-python-agent 8.6.1.dev13 depends on importlib_metadata>=1.7.0
        The user requested (constraint) importlib-metadata===4.11.4

Change-Id: I0cc48d0d5ed17400badb081e9117c9351677bb38
"
openstack%2Fvenus~master~I10ea453f356513f485620b67d4831503ff04d72f,openstack/venus,master,,I10ea453f356513f485620b67d4831503ff04d72f,Put the class init in the setup function,MERGED,2022-06-15 10:07:50.000000000,2022-06-15 12:36:29.000000000,2022-06-15 12:35:07.000000000,23,34,2,845916,abf7eb1ec534556c320c2528bdc488a83aa9bd00,8,3,1,1,31412,Wenping Song,songwenping,"Put the class init in the setup function

Change-Id: I10ea453f356513f485620b67d4831503ff04d72f
"
openstack%2Fvenus~master~I8ba0be1dc7e5bc255fd1e3bc8d4e165ddbb0d076,openstack/venus,master,,I8ba0be1dc7e5bc255fd1e3bc8d4e165ddbb0d076,"Remove None for get method, the default value is None",MERGED,2022-06-15 09:31:44.000000000,2022-06-15 12:30:08.000000000,2022-06-15 12:28:41.000000000,28,28,2,845908,e01a91a2b6055c5f1da4e7f8346f55850189ded4,8,3,1,1,31412,Wenping Song,songwenping,"Remove None for get method, the default value is None

Change-Id: I8ba0be1dc7e5bc255fd1e3bc8d4e165ddbb0d076
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I4554fc54c096be32b85d66030d8b2fc892e595bb,openstack/tripleo-ansible,stable/train,bug/1976122-stable/train,I4554fc54c096be32b85d66030d8b2fc892e595bb,Ensure ceph_ansible_playbook_verbosity is an integer,MERGED,2022-06-14 10:44:14.000000000,2022-06-15 12:20:15.000000000,2022-06-15 12:20:15.000000000,1,1,2,845677,b210f41cfc14bdc7bc0cc18e3f0f14f959adeeb9,11,3,2,1,18002,John Fulton,fultonj,"Ensure ceph_ansible_playbook_verbosity is an integer

This patch is going directly into stable/wallaby because
this role was deprecated in that release and removed in
the next release.

Change-Id: I4554fc54c096be32b85d66030d8b2fc892e595bb
Closes-Bug: #1976122
(cherry picked from commit 4f84847a8d734158588972e32ce58ec5ec2846f9)
"
openstack%2Fnova~stable%2Ftrain~I26b050c402f5721fc490126e9becb643af9279b4,openstack/nova,stable/train,bug/1879878,I26b050c402f5721fc490126e9becb643af9279b4,Move confirm resize under semaphore,NEW,2020-09-11 17:20:55.000000000,2022-06-15 12:12:10.000000000,,47,43,5,751368,c957bd81bae1f23b566b6a51ae96bdca89897719,21,9,3,6,15334,Stephen Finucane,sfinucan,"Move confirm resize under semaphore

The 'ResourceTracker.update_available_resource' periodic task builds
usage information for the current host by inspecting instances and
in-progress migrations, combining the two. Specifically, it finds all
instances that are not in the 'DELETED' or 'SHELVED_OFFLOADED' state,
calculates the usage from these, then finds all in-progress migrations
for the host that don't have an associated instance (to prevent double
accounting) and includes the usage for these.

In addition to the periodic task, the 'ResourceTracker' class has a
number of helper functions to make or drop claims for the inventory
generated by the 'update_available_resource' periodic task as part of
the various instance operations. These helpers naturally assume that
when making a claim for a particular instance or migration, there
shouldn't already be resources allocated for same. Conversely, when
dropping claims, the resources should currently be allocated. However,
the check for *active* instances and *in-progress* migrations in the
periodic task means we have to be careful in how we make changes to a
given instance or migration record. Running the periodic task between
such an operation and an attempt to make or drop a claim can result in
TOCTOU-like races.

This generally isn't an issue: we use the 'COMPUTE_RESOURCE_SEMAPHORE'
semaphore to prevent the periodic task running while we're claiming
resources in helpers like 'ResourceTracker.instance_claim' and we make
our changes to the instances and migrations within this context. There
is one exception though: the 'drop_move_claim' helper. This function is
used when dropping a claim for either a cold migration, a resize or a
live migration, and will drop usage from either the source host (based
on the ""old"" flavor) for a resize confirm or the destination host (based
on the ""new"" flavor) for a resize revert or live migration rollback.
Unfortunately, while the function itself is wrapped in the semaphore, no
changes to the state or the instance or migration in question are
protected by it.

Consider the confirm resize case, which we're addressing here. If we
mark the migration as 'confirmed' before running 'drop_move_claim', then
the periodic task running between these steps will not account for the
usage on the source since the migration is allegedly 'confirmed'. The
call to 'drop_move_claim' will then result in the tracker dropping usage
that we're no longer accounting for. This ""set migration status before
dropping usage"" is the current behaviour for both same-cell and
cross-cell resize, via the 'ComputeManager.confirm_resize' and
'ComputeManager.confirm_snapshot_based_resize_at_source' functions,
respectively. We could reverse those calls and run 'drop_move_claim'
before marking the migration as 'confirmed', but while our usage will be
momentarily correct, the periodic task running between these steps will
re-add the usage we just dropped since the migration isn't yet
'confirmed'. The correct solution is to close this gap between setting
the migration status and dropping the move claim to zero. We do this by
putting both operations behind the 'COMPUTE_RESOURCE_SEMAPHORE', just
like the claim operations.

Conflicts:
  nova/compute/manager.py
  nova/compute/resource_tracker.py
  nova/conductor/tasks/cross_cell_migrate.py
  nova/tests/unit/compute/test_compute_mgr.py

NOTE(stephenfin): The bulk of the conflicts are due to the absence of
various cross-cell resize related patches. The only exception is the
conflict in 'nova/compute/resource_tracker.py', which is due to the
absence of change Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9 (""Use fair
locks in resource tracker"") which we can't backport since it requires a
feature only found in newer versions of 'oslo.concurrency' and mandates
a lower constraint bump.

Change-Id: I26b050c402f5721fc490126e9becb643af9279b4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Partial-Bug: #1879878
(cherry picked from commit a57800d3825ef2fb833d8024c6f7e5c550f55e2f)
(cherry picked from commit 4fcada57d6c569a3b9c8094cdfb37b77ec2a8cb5)
"
openstack%2Fkolla~master~I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1,openstack/kolla,master,,I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1,Switch OPENSTACK_RELEASE back to master,MERGED,2022-06-07 04:58:36.000000000,2022-06-15 11:57:21.000000000,2022-06-15 11:55:26.000000000,4,1,8,844904,07a65c9061fe34bbbd39b5247df54ae2ef8a4c5c,43,5,7,2,22629,Michal Nasiadka,mnasiadka,"Switch OPENSTACK_RELEASE back to master

Cap openstacksdk in kolla-toolbox to avoid ansible-openstack-collection
from failing.

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844905
Change-Id: I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1
"
openstack%2Fneutron-tempest-plugin~master~I6b5b35ff92d533224ff26cbf2e64bbff62ee308c,openstack/neutron-tempest-plugin,master,mac_vlan_trunk,I6b5b35ff92d533224ff26cbf2e64bbff62ee308c,Set mac inside vm to the vlan interface,MERGED,2022-06-03 12:59:13.000000000,2022-06-15 11:52:40.000000000,2022-06-15 11:52:40.000000000,9,2,5,844584,823b1a05bf53715a9d353818c6c6987f1e20d5dd,11,6,1,1,30102,Miguel Angel Nieto Jimenez,mnietoji,"Set mac inside vm to the vlan interface

mac address should match the neutron port mac address

Change-Id: I6b5b35ff92d533224ff26cbf2e64bbff62ee308c
"
openstack%2Fdevstack~stable%2Fyoga~I831889a09fabe5bed5522d17e352ec8009eac321,openstack/devstack,stable/yoga,,I831889a09fabe5bed5522d17e352ec8009eac321,Move openEuler job to experimental pipeline,ABANDONED,2022-04-13 23:53:38.000000000,2022-06-15 11:40:28.000000000,,1,1,1,837791,45c6d15da9b975f2c6938f598166e299dc7a90d3,4,2,1,1,8556,Ghanshyam,ghanshyam,"Move openEuler job to experimental pipeline

OpenEuler job fails 100% of the time. As discussed in QA meeting,
we agreed to move OpenEuler job to experimental pipeline.
- https://meetings.opendev.org/meetings/qa/2022/qa.2022-03-22-15.00.log.html#l-76

Once it is fixed, we can think of adding back to regular pipeline.

Change-Id: I831889a09fabe5bed5522d17e352ec8009eac321
(cherry picked from commit 45b029064f3f9ebb94cca97e572d9c0500abe21f)
"
openstack%2Ftempest~master~I7d5534f42d5422b06cd32ec01480879a5b10b479,openstack/tempest,master,qa-py310,I7d5534f42d5422b06cd32ec01480879a5b10b479,Add openstack-tox-py310 job as nv,ABANDONED,2022-05-11 12:52:21.000000000,2022-06-15 11:32:33.000000000,,2,0,5,841423,6277b67a1ca31155136b66c57d36bc4343e3a2f0,9,1,1,1,22873,Martin Kopec,mkopec,"Add openstack-tox-py310 job as nv

Let's test against py3.10 to prepare and to make sure the project
is compatible with py3.10.

Change-Id: I7d5534f42d5422b06cd32ec01480879a5b10b479
"
openstack%2Fproject-config~master~I1c410a5a40d79b81e177e69468b17c0c34aafd4f,openstack/project-config,master,fix-propose-updates,I1c410a5a40d79b81e177e69468b17c0c34aafd4f,Switch back translation-update jobs to install python3.8,MERGED,2022-06-15 07:51:27.000000000,2022-06-15 11:30:28.000000000,2022-06-15 11:30:28.000000000,4,0,4,845892,362d97a0bc9b646eb1ca7ffd6cf0d30107b6aad9,11,6,1,1,13861,yatin,yatinkarel,"Switch back translation-update jobs to install python3.8

[1] switch propose-updates job to install python3.9
but there are translation update jobs that inherits
from propose-updates and runs on ubuntu-bionic.

ubuntu-bionic don't have python3.9 so these jobs fail.
This patch switches these jobs back so they don't
attempt to install python3.9.

[1] https://review.opendev.org/c/openstack/project-config/+/844422

Change-Id: I1c410a5a40d79b81e177e69468b17c0c34aafd4f
"
openstack%2Ftripleo-docs~master~I62c8ba899e23c3235fd1aad40d0051c7fc1c9267,openstack/tripleo-docs,master,lp_1976559,I62c8ba899e23c3235fd1aad40d0051c7fc1c9267,Remove wrong repo in 'Get Images' section,ABANDONED,2022-06-03 12:28:43.000000000,2022-06-15 11:16:28.000000000,,1,1,1,844579,cc3528b8c583cf8bd2f1f80811175c9695c89d1e,6,6,2,1,20733,Rajesh Tailor,rajesht,"Remove wrong repo in 'Get Images' section

As step 2 [1] of 'Get Images' section mentions to install the
current-tripleo repo and deps repository, but we only installs
current-tripleo repo only.

This change remove the unnecessary 'and deps repository' from step 2.

[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/install_overcloud.html#get-images

Closes-Bug: 1976559
Change-Id: I62c8ba899e23c3235fd1aad40d0051c7fc1c9267
"
openstack%2Fkolla~stable%2Ftrain~I5efab66e487e06abd1a56af97d7e7caa1ebc880d,openstack/kolla,stable/train,,I5efab66e487e06abd1a56af97d7e7caa1ebc880d,Use jinja2.pass_context instead of contextfilter,ABANDONED,2022-03-28 11:48:32.000000000,2022-06-15 11:11:39.000000000,,11,2,1,835345,48c28005d7f5aed8b4b21c9dbe5e502dee86b0b2,12,2,4,2,24072,Marcin Juszkiewicz,hrw,"Use jinja2.pass_context instead of contextfilter

The contextfilter decorator was deprecated in jinja2 3.0.0, and has been
dropped in 3.1.0. This results in the following warning, and failed
attempts to use filters:

    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:
    module 'jinja2' has no attribute 'contextfilter'

This change switches to use the pass_context decorator. The minimum
version of Jinja2 is raised to 3 to ensure pass_context is present.

This change has been updated to also support Jinja2 2.x releases,
since the Wallaby upper constraints specify 2.11.3. In practice, most
users will not use UC to install kolla.

CoAuthored-by: Mark Goddard <mark@stackhpc.com>

Change-Id: I5efab66e487e06abd1a56af97d7e7caa1ebc880d
"
openstack%2Fheat~stable%2Fwallaby~I6a8cffdc86c895eebe4269c5cd37841325566c54,openstack/heat,stable/wallaby,venv-tempest-stable/xena-stable/wallaby,I6a8cffdc86c895eebe4269c5cd37841325566c54,Use constraints when creating tempest venv,MERGED,2021-07-30 03:56:42.000000000,2022-06-15 11:11:37.000000000,2022-06-15 11:09:53.000000000,24,2,5,802986,d05b683ef65996ae5d1d6cc31d547169669abf45,68,2,17,2,8833,Rabi Mishra,rabi,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)
(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)
(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)
"
openstack%2Freleases~master~I19ed4de233f77469d2cede80e7e7e07ab42e2342,openstack/releases,master,,I19ed4de233f77469d2cede80e7e7e07ab42e2342,Release taskflow 5.0.0,MERGED,2022-06-13 18:39:43.000000000,2022-06-15 11:10:25.000000000,2022-06-15 11:10:25.000000000,4,0,3,845621,e0dbe6219b3bbccdc17058eb890451f6601397b3,13,6,2,1,11628,Michael Johnson,johnsom,"Release taskflow 5.0.0

Includes a bug fix for issues with newer networkx/pydot and changes the version classifier to remove python 3.6 and 3.7 while adding 3.9.

Change-Id: I19ed4de233f77469d2cede80e7e7e07ab42e2342
"
openstack%2Fneutron-fwaas~master~I102520d28c9189a38cd1760b040eecdd4046b16f,openstack/neutron-fwaas,master,,I102520d28c9189a38cd1760b040eecdd4046b16f,Remove usage of six,MERGED,2022-06-03 06:14:52.000000000,2022-06-15 10:45:34.000000000,2022-06-15 10:43:44.000000000,25,29,3,844546,e4555733d40c6b84ec77aaaee25e89f81354ac60,16,7,3,4,32020,zhangtongjian,zhangtongjian,"Remove usage of six

Remove six-library Replace the following items with Python 3 style code.
- six.iteritems
- six.string_types

Change-Id: I102520d28c9189a38cd1760b040eecdd4046b16f
"
openstack%2Ftripleo-ci~master~If36c633f1a1898cb88fe36ba52aae3635e175ef7,openstack/tripleo-ci,master,tripleo-ci-coverage,If36c633f1a1898cb88fe36ba52aae3635e175ef7,Heat: Missing trigger for scenario 001 job,MERGED,2022-06-13 08:03:05.000000000,2022-06-15 10:42:14.000000000,2022-06-15 10:42:14.000000000,2,0,3,845562,c3718815d178ba7c9e6211bd495473fea320030c,16,5,3,1,9816,Takashi Kajinami,kajinamit,"Heat: Missing trigger for scenario 001 job

Any change related to Heat should be tested by the scenario 001 job.
This change fixes the missing trigger.

Change-Id: If36c633f1a1898cb88fe36ba52aae3635e175ef7
"
openstack%2Ftripleo-heat-templates~master~Ide631ce6fdb837e6d874af4f623b9f9de95c818d,openstack/tripleo-heat-templates,master,run-overlay,Ide631ce6fdb837e6d874af4f623b9f9de95c818d,[WIP] Use an overlay mount for /run,ABANDONED,2022-06-15 07:34:31.000000000,2022-06-15 09:58:32.000000000,,26,26,0,845889,95080716d95fc5aed8ecea0150c2525ab112ccbb,2,0,1,21,28223,Cedric Jeanneret,cjeanner,"[WIP] Use an overlay mount for /run

This means the container will add an overlay onto the host /run, so that
container content won't leak on the host; container will still be able
to access the host /run content.

Change-Id: Ide631ce6fdb837e6d874af4f623b9f9de95c818d
"
openstack%2Ftripleo-ansible~master~I670ebe013f4652ea3bcc190c3450321cb58f3623,openstack/tripleo-ansible,master,run-overlay,I670ebe013f4652ea3bcc190c3450321cb58f3623,[WIP] Use an overlay mount for /run,ABANDONED,2022-06-15 07:34:46.000000000,2022-06-15 09:58:22.000000000,,1,1,0,845890,949d15b7a1401746ccf2f02859406955728e4951,2,0,1,1,28223,Cedric Jeanneret,cjeanner,"[WIP] Use an overlay mount for /run

This means the container will add an overlay onto the host /run, so that
container content won't leak on the host; container will still be able
to access the host /run content.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/845889
Change-Id: I670ebe013f4652ea3bcc190c3450321cb58f3623
"
openstack%2Fopenstack-helm-infra~master~I51cc6d1de0034affdc0cc616298c2d2cd3476dbb,openstack/openstack-helm-infra,master,,I51cc6d1de0034affdc0cc616298c2d2cd3476dbb,[ceph-client] Handle multiple mon versions in the pool job,MERGED,2022-06-14 19:45:08.000000000,2022-06-15 08:06:38.000000000,2022-06-15 08:05:23.000000000,3,2,0,845814,d2c8de85c9d8d7cf90e91aafb7ee92ede5e15c13,12,8,1,3,29974,Stephen Taylor,st053q,"[ceph-client] Handle multiple mon versions in the pool job

The mon version check in the rbd-pool job can cause the script to
error and abort if there are multiple mon versions present in the
Ceph cluster. This change chooses the lowest-numbered major version
from the available mon versions when performing the version check
since the check is performed in order to determine the right way to
parse JSON output from a mon query.

Change-Id: I51cc6d1de0034affdc0cc616298c2d2cd3476dbb
"
openstack%2Fhorizon~master~Ib4598266b2dcb6a975b990a4a6445886b9286bb4,openstack/horizon,master,ec2_credentials,Ib4598266b2dcb6a975b990a4a6445886b9286bb4,Added ec2 credentials to openstack dashboard,NEW,2022-06-14 10:11:30.000000000,2022-06-15 07:43:23.000000000,,499,1,384,845722,187f7b9e4d0dbf46931c05d462418d5738511a8c,10,1,5,17,24679,Fontenay Tony,weezhard,"Added ec2 credentials to openstack dashboard

Change-Id: Ib4598266b2dcb6a975b990a4a6445886b9286bb4
"
openstack%2Fpbr~master~I7902c33a76c4cce8f50307843476e5d9435c9e2c,openstack/pbr,master,,I7902c33a76c4cce8f50307843476e5d9435c9e2c,Specify Changelog procedure,MERGED,2022-06-13 19:45:03.000000000,2022-06-15 07:29:23.000000000,2022-06-15 07:28:11.000000000,5,0,2,845628,1eadf23b94846a0ebc8402e09190ed1de6dbffd0,12,3,2,1,34946,Chris Dohmen,chris.dohmen,"Specify Changelog procedure

Update the CONTRIBUTING file to specify how release notes are managed.
This allows contributors to follow best-practices to ensure the
auto-generated Changelog stays up-to-date.

Change-Id: I7902c33a76c4cce8f50307843476e5d9435c9e2c
"
openstack%2Fhorizon~master~I8e3503333a94168152cff4282edc622dae38646d,openstack/horizon,master,,I8e3503333a94168152cff4282edc622dae38646d,Update python testing as per zed cycle teting runtime,ABANDONED,2022-06-04 06:59:58.000000000,2022-06-15 07:04:51.000000000,,7,4,1,844677,3ab98f21065016faac1530bb4596fc67a600fed2,4,2,1,3,27190,Leopard Ma,LeopardMa,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I8e3503333a94168152cff4282edc622dae38646d
"
openstack%2Fheat~stable%2Fxena~I6a8cffdc86c895eebe4269c5cd37841325566c54,openstack/heat,stable/xena,venv-tempest-stable/xena,I6a8cffdc86c895eebe4269c5cd37841325566c54,Use constraints when creating tempest venv,MERGED,2022-06-14 09:36:54.000000000,2022-06-15 06:59:05.000000000,2022-06-15 06:57:45.000000000,24,2,0,845676,92db02a56e85dd5f890160217a16dc99394b927d,10,2,1,2,9816,Takashi Kajinami,kajinamit,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)
(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)
"
openstack%2Fheat~stable%2Fxena~I6aee0719b0cdef2b17666a43074c5c18645fc180,openstack/heat,stable/xena,patches-stable/xena,I6aee0719b0cdef2b17666a43074c5c18645fc180,Log parameters merged,MERGED,2022-06-14 04:37:58.000000000,2022-06-15 06:44:39.000000000,2022-06-15 06:43:15.000000000,6,0,0,845665,f56ca96325c200749144b2922d20d84ac47c63ef,8,2,1,1,9816,Takashi Kajinami,kajinamit,"Log parameters merged

This can help in troubleshooting.

Task: 45579
Change-Id: I6aee0719b0cdef2b17666a43074c5c18645fc180
(cherry picked from commit c0be1f01fd9c208130857efd7c01ece94d4fb0bb)
(cherry picked from commit d997d70ca13065d1caf96c06af05d084353ca827)
"
openstack%2Fkolla-ansible~master~I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa,openstack/kolla-ansible,master,,I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa,CI: Switch upgrades xena->yoga to yoga->master,MERGED,2022-06-07 05:00:23.000000000,2022-06-15 06:41:00.000000000,2022-06-15 06:38:34.000000000,11,18,18,844905,ebe570bb840d79f78816d13c72729a5c80f159f0,38,5,8,5,22629,Michal Nasiadka,mnasiadka,"CI: Switch upgrades xena->yoga to yoga->master

R-17: Switch source images to current release

Disable rocky8 and openeuler jobs as master no longer works with
python3.6.

Change-Id: I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa
"
openstack%2Fwatcher-dashboard~master~Id592e5c734d92a022b90566219a1eb9685a1e80c,openstack/watcher-dashboard,master,,Id592e5c734d92a022b90566219a1eb9685a1e80c,Update python testing as per zed cycle teting runtime,NEW,2022-06-15 06:14:23.000000000,2022-06-15 06:34:51.000000000,,1,3,0,845879,93c33debe1459809d072408511ab864e6cc75539,2,1,1,1,33436,YuehuiLei,leiyuehui,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Id592e5c734d92a022b90566219a1eb9685a1e80c
"
openstack%2Frpm-packaging~master~Ia5563c1b92c1cdaf03c013a8c73575fc11b691cf,openstack/rpm-packaging,master,,Ia5563c1b92c1cdaf03c013a8c73575fc11b691cf,sushy: update to 4.2.0,MERGED,2022-06-14 09:51:32.000000000,2022-06-15 06:31:10.000000000,2022-06-15 06:31:10.000000000,1,1,0,845720,3a4bc91b470093403ec864f82ca24acc32ec954f,8,4,1,1,6593,Dirk Mueller,dmllr,"sushy: update to 4.2.0

Change-Id: Ia5563c1b92c1cdaf03c013a8c73575fc11b691cf
"
openstack%2Frpm-packaging~master~I5223c2eb1e4d45bf0ac87a0931f94199592163dc,openstack/rpm-packaging,master,,I5223c2eb1e4d45bf0ac87a0931f94199592163dc,pyghmi: update to 1.5.45,MERGED,2022-06-14 09:54:24.000000000,2022-06-15 06:30:58.000000000,2022-06-15 06:30:58.000000000,1,1,0,845721,e714edb99f5a45b8feb17a480a3ee78dfe88e989,8,4,1,1,6593,Dirk Mueller,dmllr,"pyghmi: update to 1.5.45

Change-Id: I5223c2eb1e4d45bf0ac87a0931f94199592163dc
"
openstack%2Ftripleo-quickstart~master~If1c9dd18353c22545baa0262d49adb5cca3fd4e5,openstack/tripleo-quickstart,master,bug/1978508,If1c9dd18353c22545baa0262d49adb5cca3fd4e5,c8 wallaby: Remove double quotes from container namespace,MERGED,2022-06-13 23:55:43.000000000,2022-06-15 06:16:41.000000000,2022-06-15 06:15:24.000000000,1,1,3,845649,31a286cb08b93ad2d3e69c62a0452ceea680fae7,30,5,2,1,9816,Takashi Kajinami,kajinamit,"c8 wallaby: Remove double quotes from container namespace

Commit 12fc4167c70531da80403746c1f172ec56570679 unexpectedly added
double quotes around the container namespace, which breaks syntax
of container-prepare-parameters.yaml

Closes-Bug: #1978508
Change-Id: If1c9dd18353c22545baa0262d49adb5cca3fd4e5
"
openstack%2Fmanila-tempest-plugin~master~Ie9f03c0d3c18aa95b1e0fc66441978c86b79e39b,openstack/manila-tempest-plugin,master,master2,Ie9f03c0d3c18aa95b1e0fc66441978c86b79e39b,add list shares without details filter testcase,NEW,2022-06-14 10:15:25.000000000,2022-06-15 05:27:24.000000000,,17,0,0,845723,6150e206a342d67dbd8e77dd1d3e5536100ee9aa,4,2,2,1,30409,wangzhiguang,wangzhiguang,"add list shares without details filter testcase

add list shares without details filter by existed name and fake name
testcase

Change-Id: Ie9f03c0d3c18aa95b1e0fc66441978c86b79e39b
"
openstack%2Fcharms.openstack~master~I64a1cc95a3a78ce79d57f5b840edb29996f04f9c,openstack/charms.openstack,master,trilio-4.2-encoding,I64a1cc95a3a78ce79d57f5b840edb29996f04f9c,Support Trilio 4.2 Share hashes,MERGED,2022-06-13 16:33:31.000000000,2022-06-15 05:19:21.000000000,2022-06-15 05:19:21.000000000,140,5,0,845606,055fb499b84c204809921f218d919f9cc4f4f3f6,6,2,1,3,12549,gnuoy,gnuoy,"Support Trilio 4.2 Share hashes

The Trilio 4.2 changes the way that hashes are generated for nfs
mount points. The hash is now generated from the directory only,
the source IP address is ignored. This patch updates the ghost-share
action to accommodate that.

Change-Id: I64a1cc95a3a78ce79d57f5b840edb29996f04f9c
"
openstack%2Fheat~stable%2Fyoga~I6a8cffdc86c895eebe4269c5cd37841325566c54,openstack/heat,stable/yoga,venv-tempest-stable/yoga,I6a8cffdc86c895eebe4269c5cd37841325566c54,Use constraints when creating tempest venv,MERGED,2022-06-14 03:49:58.000000000,2022-06-15 05:13:53.000000000,2022-06-15 05:12:09.000000000,24,2,0,845409,b95e6025f61417e7abc24a26d991bd26c57ee444,8,2,1,2,9816,Takashi Kajinami,kajinamit,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)
"
openstack%2Fnova~stable%2Fvictoria~I39241223b447fcc671161c370dbf16e1773b684a,openstack/nova,stable/victoria,bug/1853009,I39241223b447fcc671161c370dbf16e1773b684a,Clear rebalanced compute nodes from resource tracker,NEW,2021-09-30 00:29:44.000000000,2022-06-15 04:35:35.000000000,,66,18,2,811811,32887f82c9bd430f285ff4418811dffdd88e398f,10,3,1,5,4690,melanie witt,melwitt,"Clear rebalanced compute nodes from resource tracker

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The issue being addressed here is that if a compute node is deleted by a host
which thinks it is an orphan, then the compute host that actually owns the node
might not recreate it if the node is already in its resource tracker cache.

This change fixes the issue by clearing nodes from the resource tracker cache
for which a compute node entry does not exist. Then, when the available
resource for the node is updated, the compute node object is not found in the
cache and gets recreated.

Change-Id: I39241223b447fcc671161c370dbf16e1773b684a
Partial-Bug: #1853009
(cherry picked from commit 32676a9f45807ea8770dc7bdff1e859673af1b61)
(cherry picked from commit f950cedf17cc4c3ce9d094dbfde5e4cf013260f7)
"
openstack%2Fnova~stable%2Fussuri~Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,openstack/nova,stable/ussuri,bug/1953359,Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,[rt] Apply migration context for incoming migrations,MERGED,2021-12-16 21:30:20.000000000,2022-06-15 04:29:57.000000000,2022-06-15 04:28:21.000000000,40,24,14,822050,1d0b7051da430ed00ae49901a32ec6af46c1a64e,47,6,4,2,33608,Gabriel Silva Trevisan,gtrevisan,"[rt] Apply migration context for incoming migrations

There is a race condition between an incoming resize and an
update_available_resource periodic in the resource tracker. The race
window starts when the resize_instance RPC finishes  and ends when the
finish_resize compute RPC finally applies the migration context on the
instance.

In the race window, if the update_available_resource periodic is run on
the destination node, then it will see the instance as being tracked on
this host as the instance.node is already pointing to the dest. But the
instance.numa_topology still points to the source host topology as the
migration context is not applied yet. This leads to CPU pinning error if
the source topology does not fit to the dest topology. Also it stops the
periodic task and leaves the tracker in an inconsistent state. The
inconsistent state only cleanup up after the periodic is run outside of
the race window.

This patch applies the migration context temporarily to the specific
instances during the periodic to keep resource accounting correct.

Conflicts: on resource_tracker: changed
'MigrationList.get_in_progress_and_error' call back to
'MigrationList.get_in_progress_by_host_and_node', since this change was
only added by 255b3f2f918843ca5dd9b99e109ecd2189b6b749, and is not
present in stable/ussuri.

Change-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a
Closes-Bug: #1953359
Closes-Bug: #1952915
(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)
(cherry picked from commit 1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c)
(cherry picked from commit 5f2f283a75243d2e2629d3c5f7e5ef4b3994972d)
(cherry picked from commit d54bd316b331d439a26a7318ca68cab5f6280ab2)
"
openstack%2Fnova~stable%2Fussuri~I57982131768d87e067d1413012b96f1baa68052b,openstack/nova,stable/ussuri,bug/1953359,I57982131768d87e067d1413012b96f1baa68052b,Extend the reproducer for 1953359 and 1952915,MERGED,2021-12-16 20:55:22.000000000,2022-06-15 03:31:45.000000000,2022-06-15 03:29:08.000000000,45,17,5,822048,9b8e5cec303a621824366e1794665d6b849fefad,22,6,4,1,33608,Gabriel Silva Trevisan,gtrevisan,"Extend the reproducer for 1953359 and 1952915

This patch extends the original reproduction
I4be429c56aaa15ee12f448978c38214e741eae63 to cover
bug 1952915 as well as they have a common root cause.

Change-Id: I57982131768d87e067d1413012b96f1baa68052b
Related-Bug: #1953359
Related-Bug: #1952915
(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)
(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)
(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)
(cherry picked from commit 8d4487465b60cd165dc76dea5a9fdb3c4dbf5740)
"
openstack%2Fnova~stable%2Fussuri~I4be429c56aaa15ee12f448978c38214e741eae63,openstack/nova,stable/ussuri,bug/1953359,I4be429c56aaa15ee12f448978c38214e741eae63,Reproduce bug 1953359,MERGED,2021-12-16 20:43:46.000000000,2022-06-15 03:30:38.000000000,2022-06-15 03:29:01.000000000,104,2,31,822047,c92e7821e3b97c8469fc2a68621428549d36d755,38,7,4,3,33608,Gabriel Silva Trevisan,gtrevisan,"Reproduce bug 1953359

This patch adds a functional test that reproduces a race between
incoming migration and the update_available_resource periodic

Conflicts: fixed conflict on test_numa_server to only add test case for
1953359

Fixes:
    - Changed 'start_compute' call to 'start_computes', since the former
      is not present in Ussuri
    - Added more memory to mock 'host_info', since the default would not
      fit the instance. Default was changed in later releases
    - Bumped the API version from 2.0 to 2.1 in the test, since
      microversion 2.47 is required creating an instance
      in a specific host and 2.0 is not supporting microversions. This
      was not needed for later releases, because the API version was
      bumped with some changes made by [1]
    - Reset the original microversion in 'create_server' after the POST
      request, so that subsequent calls are not affected

[1] Later change that bumps API version on parent classes
https://review.opendev.org/c/openstack/nova/+/741282

Co-Authored-By: Gabriel Silva Trevisan <gabriel.silvatrevisan@windriver.com>

Change-Id: I4be429c56aaa15ee12f448978c38214e741eae63
Related-Bug: #1953359
(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)
(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)
(cherry picked from commit d8859e4f95f5abb20c844d914f2716cba047630e)
(cherry picked from commit e549fec76fd2015e6e21ee5138bf06142a71e71a)
"
openstack%2Ftripleo-ansible~master~I618d9493b35dd1ba6993a376f34896113d6e8085,openstack/tripleo-ansible,master,nftables,I618d9493b35dd1ba6993a376f34896113d6e8085,Ensure we don't duplicate lines,MERGED,2022-05-31 14:42:34.000000000,2022-06-15 02:55:57.000000000,2022-06-15 02:55:57.000000000,15,3,2,844069,ca90a739738eb1573b51c4c9103063884fd3f6a3,18,6,2,2,28223,Cedric Jeanneret,cjeanner,"Ensure we don't duplicate lines

While getting the chain creations and flushes commands duplicated
doesn't seem to have any impact, the generated files are really ugly,
and difficult to read.
This patch should change this state and ensure we're clean.

Change-Id: I618d9493b35dd1ba6993a376f34896113d6e8085
"
openstack%2Fcyborg~master~Ia467087f1b48d158ce6f91dd461138ff514a8c80,openstack/cyborg,master,,Ia467087f1b48d158ce6f91dd461138ff514a8c80,Switch openstack-python3-zed-jobs,MERGED,2022-06-08 01:11:02.000000000,2022-06-15 02:12:41.000000000,2022-06-15 02:03:39.000000000,1,4,0,845070,b15bc27ea74d4671a4ac14b5218e7325ded4b56c,10,2,2,1,26458,Brin Zhang,zhangbailin,"Switch openstack-python3-zed-jobs

In Zed, we decrepated the py36/py37 job, and this patch need to change
with zed job[1].

[1]https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L504

Change-Id: Ia467087f1b48d158ce6f91dd461138ff514a8c80
"
openstack%2Ftripleo-heat-templates~master~I46c238c27e571f125e4fbbb2c20d416be93ded2b,openstack/tripleo-heat-templates,master,bootfile_name,I46c238c27e571f125e4fbbb2c20d416be93ded2b,Ironic: Enforce usage of snponly.efi,ABANDONED,2021-08-10 05:02:24.000000000,2022-06-15 01:55:33.000000000,,3,0,0,804039,e1d51d01864af93fdf43653cedadde04288cfc25,8,5,1,1,9816,Takashi Kajinami,kajinamit,"Ironic: Enforce usage of snponly.efi

... instead of ipxe.efi, because snponly.efi works in more usecase
especially where support for the UEFI integrated network stack is
needed. From Xena release Ironic uses snponly.efi by default[1] so this
change would be redundant, but the main aim of this change is to
backport the same switch to stable branches.

[1] 4d13da9cc7b8f8fa9ee428731f88d5723eddeffa

Change-Id: I46c238c27e571f125e4fbbb2c20d416be93ded2b
"
openstack%2Ftripleo-heat-templates~master~Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9,openstack/tripleo-heat-templates,master,cinder-logging,Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9,Add logging template files for cinder,ABANDONED,2020-02-25 14:42:17.000000000,2022-06-15 01:53:16.000000000,,350,117,29,709744,02395049a77844ebc76dfc71ad66d0a93caae49d,112,8,27,13,9816,Takashi Kajinami,kajinamit,"Add logging template files for cinder

Change-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9
"
openstack%2Ftripleo-heat-templates~master~Ia98381c66d0ca8a75ffbf69afcc480c170537bc3,openstack/tripleo-heat-templates,master,horizon-logging,Ia98381c66d0ca8a75ffbf69afcc480c170537bc3,Add logging template files for horizon,ABANDONED,2020-03-01 01:46:45.000000000,2022-06-15 01:52:33.000000000,,128,26,2,710604,9d9a4ee1a3788f6a2e0f1c83893cf448bc2cd14b,67,6,15,5,9816,Takashi Kajinami,kajinamit,"Add logging template files for horizon

Change-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3
"
openstack%2Fpython-cyborgclient~master~I7612d34b5d25d505f85dcb09b91ad1d3c3bacd44,openstack/python-cyborgclient,master,,I7612d34b5d25d505f85dcb09b91ad1d3c3bacd44,Switch openstack-python3-zed-jobs,MERGED,2022-06-09 09:50:50.000000000,2022-06-15 01:50:29.000000000,2022-06-15 01:48:33.000000000,1,8,0,845248,501d9f3e2c3a161b2ec0ae433d6c8b1f4ae32ea9,10,2,2,1,26458,Brin Zhang,zhangbailin,"Switch openstack-python3-zed-jobs

In Zed, we decrepated the py36/py37 job, and this patch need to change
with zed job[1].

[1]https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L504

Change-Id: I7612d34b5d25d505f85dcb09b91ad1d3c3bacd44
"
openstack%2Ftripleo-common~master~I515ec608a061e32d66ad8bfe7c54bfbcfee38e59,openstack/tripleo-common,master,remove-logging,I515ec608a061e32d66ad8bfe7c54bfbcfee38e59,Remove reference to rsyslog sidecar service,NEW,2022-06-15 00:27:48.000000000,2022-06-15 01:41:09.000000000,,0,3,0,845864,b28090eba628c8045aafb423ce519ab5d8904bc5,4,2,2,1,9816,Takashi Kajinami,kajinamit,"Remove reference to rsyslog sidecar service

... because the service was removed.

Depends-on: https://review.opendev.org/845861
Change-Id: I515ec608a061e32d66ad8bfe7c54bfbcfee38e59
"
openstack%2Fpython-tripleoclient~master~Ica73e4d04909352646b4518ccd93d01535a243db,openstack/python-tripleoclient,master,,Ica73e4d04909352646b4518ccd93d01535a243db,Only export overcloud for --stack-only/full deploy,MERGED,2022-06-01 09:13:25.000000000,2022-06-15 01:29:28.000000000,2022-06-15 01:28:09.000000000,1,1,1,844267,cbbe7cdd84768160acfaa32e19c8804e28aec380,10,5,1,1,8833,Rabi Mishra,rabi,"Only export overcloud for --stack-only/full deploy

Overcloud export contains stack outputs and passwords.
With ephemeral heat we save the stack outputs and
kill heat. We should export only when stack is created
to generate the configs and not when we run with
--setup-only/--config-download-only.

Also, stop using parsed_args.config_download which is
deprecated.

Change-Id: Ica73e4d04909352646b4518ccd93d01535a243db
"
openstack%2Fcharm-guide~master~I21e3233e4539940f506f327611b6f9538fbb635a,openstack/charm-guide,master,add-mapping-tracks-to-series-to-openstack,I21e3233e4539940f506f327611b6f9538fbb635a,"Add mapping for tracks, OpenStack, and series",MERGED,2022-05-19 22:56:21.000000000,2022-06-15 00:20:05.000000000,2022-06-15 00:18:53.000000000,133,68,24,842643,45f556154c38b26cca42e520f2f026708c415abb,21,3,5,1,30561,Peter Matulis,pmatulis,"Add mapping for tracks, OpenStack, and series

Users need to know what the mapping of charm tracks
are for OpenStack releases and Ubuntu series.

Change-Id: I21e3233e4539940f506f327611b6f9538fbb635a
"
openstack%2Fcharm-cinder~stable%2Fwallaby~I4d7b3721fe7dfd6f7cdfd364d8c5bc340d38c00f,openstack/charm-cinder,stable/wallaby,,I4d7b3721fe7dfd6f7cdfd364d8c5bc340d38c00f,Install ssl_ca for volume service only scenarios,MERGED,2022-04-01 11:05:39.000000000,2022-06-14 22:43:20.000000000,2022-06-14 22:43:20.000000000,10,1,2,836152,6bcb2bf435d467417292411c1ced812494016a7a,12,3,2,1,8108,Nobuto Murata,nobuto-m,"Install ssl_ca for volume service only scenarios

The CA information is necessary to talk to Keystone or Glance from the
Cinder volume service. This is a follow-up of the following change where
the Vault certificate relations is assumed but ssl_ca wasn't addressed
at that point.
I69f15c3fd164f7114f5498d100b2832caf93fb00

Closes-Bug: #1967302
Change-Id: I4d7b3721fe7dfd6f7cdfd364d8c5bc340d38c00f
(cherry picked from commit a0f44d0f90074495427880e7d03d0c324639a8c4)
"
openstack%2Fcharm-cinder~stable%2Fwallaby~I91ac0758c74b43c78eac37bae30e47abaecf4b21,openstack/charm-cinder,stable/wallaby,charmhub-migration,I91ac0758c74b43c78eac37bae30e47abaecf4b21,Migrate charm charmhub for stable/wallaby,MERGED,2022-05-17 18:13:38.000000000,2022-06-14 22:35:55.000000000,2022-06-14 22:35:55.000000000,164,2785,4,842170,50fd3d887f7234042e008f49b9b5c7ab8c4b8704,20,4,2,31,20870,Alex Kavanagh,ajkavanagh,"Migrate charm charmhub for stable/wallaby

- start from stable/wallaby branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/wallaby for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64
- Pin tempest for python<3.8

Change-Id: I91ac0758c74b43c78eac37bae30e47abaecf4b21
"
openstack%2Fdesignate~master~I9b1c620b96a95cc8db4a634c26a2a48ca880f2b0,openstack/designate,master,,I9b1c620b96a95cc8db4a634c26a2a48ca880f2b0,Add zone ownership transfer user guide,MERGED,2022-05-27 22:11:05.000000000,2022-06-14 22:20:09.000000000,2022-06-14 22:18:58.000000000,262,1,13,843695,e9faf7da689763aa99028ede9503dc3bdbda5abe,17,5,3,2,11628,Michael Johnson,johnsom,"Add zone ownership transfer user guide

This patch adds a user guide for zone ownership transfers.
It also re-organizes the user guide landing page to be a bit easier to read.

Change-Id: I9b1c620b96a95cc8db4a634c26a2a48ca880f2b0
"
openstack%2Fopenstack-ansible~master~Ica5963dac12f2bbac8b77030e4c2269ae18b189e,openstack/openstack-ansible,master,834289,Ica5963dac12f2bbac8b77030e4c2269ae18b189e,Add tempest repos to required-repos,NEW,2022-03-18 13:53:49.000000000,2022-06-14 21:44:31.000000000,,41,2,4,834289,fab56385dc0852b855d5e7742c49c9dcbf83a1ec,22,1,8,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add tempest repos to required-repos

In order to reduce load on gitea during CI tests, we add tempest plugins repos
to required-project so that they were managed by zuul.
With that it also fixes Depends-On behavior for these plugins.

Change-Id: Ica5963dac12f2bbac8b77030e4c2269ae18b189e
"
openstack%2Fos-net-config~master~Ia0bcb14588eaba8d9f979454f4563a9fd0b4231c,openstack/os-net-config,master,fix-rel-formatting,Ia0bcb14588eaba8d9f979454f4563a9fd0b4231c,Fix formatting of release list,MERGED,2022-05-27 12:04:02.000000000,2022-06-14 21:39:31.000000000,2022-06-14 21:38:23.000000000,1,1,0,843610,ce073e0a3cecfff02ae89c1e81a64a1540fc4def,8,3,1,1,28522,Hervé Beraud,hberaud,"Fix formatting of release list

Change-Id: Ia0bcb14588eaba8d9f979454f4563a9fd0b4231c
"
openstack%2Fopenstack-helm-images~master~I858360c161330c515c5a8728a5563c33d505249f,openstack/openstack-helm-images,master,fix-periodic,I858360c161330c515c5a8728a5563c33d505249f,Add Xena and Yoga jobs to osh-images,MERGED,2022-06-08 15:45:11.000000000,2022-06-14 21:33:38.000000000,2022-06-14 21:31:39.000000000,112,0,4,845154,8de5c39a9cd45185bb288b2b557845050f344a82,17,3,2,1,21420,Gage Hugo,ghugo,"Add Xena and Yoga jobs to osh-images

This change adds the xena and yoga openstack release jobs to
the check and gate for openstack-helm-images.

Depends-on: https://review.opendev.org/c/openstack/openstack-helm/+/844337

Change-Id: I858360c161330c515c5a8728a5563c33d505249f
"
openstack%2Fopenstack-ansible~master~I538839939e174aebd17f59c156f4ff5db972e76b,openstack/openstack-ansible,master,c9s-nmap,I538839939e174aebd17f59c156f4ff5db972e76b,DNM nmap c9s test,NEW,2022-06-14 18:35:29.000000000,2022-06-14 21:32:32.000000000,,1,1,0,845804,a437163b821049172928cee78561e04e98d86aee,2,1,1,1,13095,Marc Gariépy,mgariepy,"DNM nmap c9s test

Change-Id: I538839939e174aebd17f59c156f4ff5db972e76b
"
openstack%2Fopenstack-helm~master~I1bed5f1ce4c0919df9e772e920f3146fc39ffb79,openstack/openstack-helm,master,xena-yoga,I1bed5f1ce4c0919df9e772e920f3146fc39ffb79,Add Xena and Yoga jobs,MERGED,2022-06-01 20:47:30.000000000,2022-06-14 21:17:38.000000000,2022-06-14 21:15:14.000000000,23,2,10,844337,01cdea17e4a7a835c9b32879ead90f856abe736c,53,4,16,2,21420,Gage Hugo,ghugo,"Add Xena and Yoga jobs

This change adds both the Xena and Yoga releases of openstack to the
running jobs that openstack-helm uses to test.

A future change will enable the compute-kit yoga job.

Depends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845156
Depends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845656

Change-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79
"
openstack%2Fcharm-guide~master~Ia051a861c88a4a33393042e887115d30e39b8275,openstack/charm-guide,master,yoga-release-note-rabbitmq-options,Ia051a861c88a4a33393042e887115d30e39b8275,Final touches on yoga release notes,MERGED,2022-05-06 23:18:15.000000000,2022-06-14 21:10:54.000000000,2022-06-14 21:09:40.000000000,15,4,5,840998,156d2b710cd05a946244132fbdb5d19f110eaf2b,19,2,6,6,30561,Peter Matulis,pmatulis,"Final touches on yoga release notes

The rabbitmq-server charm had a few options removed.

Also add a redirect since the name of the release notes
file was recently changed (2204.rst => yoga.rst).

Change-Id: Ia051a861c88a4a33393042e887115d30e39b8275
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Iee9085fa4992846e36c7e71d4c2cfc3bc9db42ac,openstack/tripleo-ansible,stable/train,,Iee9085fa4992846e36c7e71d4c2cfc3bc9db42ac,Set timeout to default if not configured,MERGED,2022-06-13 14:47:19.000000000,2022-06-14 20:51:02.000000000,2022-06-14 20:51:02.000000000,1,1,0,845599,8b6caf1113ab56a3d3723cd9bbb90b5ecadaea48,9,4,1,1,9816,Takashi Kajinami,kajinamit,"Set timeout to default if not configured

When ""| int"" is set after ""omit"" it sets parameter to 0 instead
of omitting.

Change-Id: Iee9085fa4992846e36c7e71d4c2cfc3bc9db42ac
(cherry picked from commit 8a0bccadcdb3c6b5e302cb2c0fdb7df93072bbc1)
"
openstack%2Fkuryr-kubernetes~master~I0aa8d7326dbf40459f73037ae54d2afc01ea9bb6,openstack/kuryr-kubernetes,master,fix-funny-ips,I0aa8d7326dbf40459f73037ae54d2afc01ea9bb6,"Strip leading zeros from ""funny"" Service IPs",MERGED,2022-06-09 11:52:35.000000000,2022-06-14 20:34:29.000000000,2022-06-14 20:33:16.000000000,24,11,8,845266,ce6fb744b5363a8a81afdee19dbda902981b1070,22,4,1,2,11600,Michał Dulko,dulek,"Strip leading zeros from ""funny"" Service IPs

According to [1] we're supposed to support ""funny"" Service IPs, which
means IPs with leading zeros. Unlike unix in general we should not parse
them as octal values, but rather treat them like without leading zeros.
This commit makes sure that we strip the zeros from both ClusterIP and
LoadBalancerIP before we put them into KuryrLoadBalancer struct. This
means that later on Octavia and Neutron will get values that they
support and will proceed with LB or FIP creation normally.

[1] https://github.com/kubernetes/kubernetes/blob/v1.24.1/test/e2e/network/funny_ips.go

Change-Id: I0aa8d7326dbf40459f73037ae54d2afc01ea9bb6
Closes-Bug: 1978112
"
openstack%2Fopenstack-ansible~master~I1293776f58a799c9e9dd70f8cd076ed2e2b1bdfe,openstack/openstack-ansible,master,osa/manage_lb,I1293776f58a799c9e9dd70f8cd076ed2e2b1bdfe,Remove usage of haproxy-endpoints role,MERGED,2022-06-14 12:33:28.000000000,2022-06-14 20:33:12.000000000,2022-06-14 20:31:19.000000000,13,12,0,845739,0a0a1e062e28cae20fb5d02329cead25cac3ff5f,8,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove usage of haproxy-endpoints role

haproxy-endpoints role was used only to manage galera backends.
To have more consistency and as transition was never finished,
we rollback to using inlcuded task.

Also role usage was a bit complex and hard to read. It also had a
drawback that service can be broken before handler run, which makes
endpoint managing a bit useless in this scenario.

As follow-up we should also drop all ""Manage LB"" handlers in roles.

Change-Id: I1293776f58a799c9e9dd70f8cd076ed2e2b1bdfe
"
openstack%2Ftripleo-puppet-elements~master~Icacd5eb111c4211d78274264ae9eb322e52e5f78,openstack/tripleo-puppet-elements,master,,Icacd5eb111c4211d78274264ae9eb322e52e5f78,Remove unused package name definition,NEW,2022-06-02 07:01:56.000000000,2022-06-14 20:07:41.000000000,,0,7,0,844394,f723f1977164673035b7b2f4ee37c2de564c79ad,4,3,1,1,9816,Takashi Kajinami,kajinamit,"Remove unused package name definition

Installation of client packages was moved to a separate element by
6a3c2b3e61923c82a3b95b6a1ec65f154021e42a , and the definition is no
longer used by the overcloud-controller element.

Change-Id: Icacd5eb111c4211d78274264ae9eb322e52e5f78
"
openstack%2Ftripleo-validations~master~I0295e31bbaba96c7e60a872a89be7e0ddd07bd36,openstack/tripleo-validations,master,,I0295e31bbaba96c7e60a872a89be7e0ddd07bd36,Correct the command that gets the PID of nova_libvirt_launcher.sh.,MERGED,2022-03-21 19:10:37.000000000,2022-06-14 19:55:39.000000000,2022-06-14 19:54:20.000000000,1,1,11,834538,bf17c453ecb10c964c5f2e6139664a7f5294ac66,31,7,5,1,34647,Juan Pablo Martí,yampilop,"Correct the command that gets the PID of nova_libvirt_launcher.sh.

The problem is due to a bug that makes the command get two numbers concatenated instead of one.

Closes-Bug: #1970755

Signed-off-by: Juan Pablo Martí <jmarti@redhat.com>
Change-Id: I0295e31bbaba96c7e60a872a89be7e0ddd07bd36
"
openstack%2Fcharm-guide~master~I16f0b9c64228e2445781bde02a6cd5a8980f0b20,openstack/charm-guide,master,fix-broken-link-filesystem-services,I16f0b9c64228e2445781bde02a6cd5a8980f0b20,Review Shared filesystem services page,MERGED,2022-06-06 14:46:51.000000000,2022-06-14 19:45:35.000000000,2022-06-14 19:44:17.000000000,83,65,2,844853,37c322abffa5864fb8750378e784645e96150870,20,2,7,1,30561,Peter Matulis,pmatulis,"Review Shared filesystem services page

Improve wording and links.

Use the new & improved method of documenting overlay
bundles.

Link to newly-contributed Juju documentation for overlay
usage.

Change-Id: I16f0b9c64228e2445781bde02a6cd5a8980f0b20
"
openstack%2Fcharm-pacemaker-remote~master~Ie2ecf6fb0b800ec3bde82a49805a164999f5b81a,openstack/charm-pacemaker-remote,master,batch-update,Ie2ecf6fb0b800ec3bde82a49805a164999f5b81a,Add support for Zed,ABANDONED,2022-06-10 20:29:35.000000000,2022-06-14 19:32:31.000000000,,81,36,0,845475,f87a421fdbb8f0ce540158acb7c02766052fd7a5,4,2,1,12,11805,Corey Bryant,coreycb,"Add support for Zed

* sync charm-helpers to classic charms
* rebuild for reactive charms
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml

Change-Id: Ie2ecf6fb0b800ec3bde82a49805a164999f5b81a
"
openstack%2Fcharm-magpie~master~Ie38a20eea755c8115abf34266eade6d87a28890e,openstack/charm-magpie,master,batch-update,Ie38a20eea755c8115abf34266eade6d87a28890e,Add support for Zed,ABANDONED,2022-06-10 20:27:12.000000000,2022-06-14 19:23:18.000000000,,1,1,2,845444,c40738938151577be66288cd0c1edd989471f8bb,6,3,1,1,11805,Corey Bryant,coreycb,"Add support for Zed

* sync charm-helpers to classic charms
* rebuild for reactive charms
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml

Change-Id: Ie38a20eea755c8115abf34266eade6d87a28890e
"
openstack%2Fcharm-glance-simplestreams-sync~stable%2Fussuri~I3316d2299cca9697360aaaa5010e9de7670355d7,openstack/charm-glance-simplestreams-sync,stable/ussuri,charmhub-migration,I3316d2299cca9697360aaaa5010e9de7670355d7,Migrate charm charmhub for stable/ussuri,MERGED,2022-05-20 19:01:47.000000000,2022-06-14 19:22:09.000000000,2022-06-14 19:22:09.000000000,154,1282,0,842762,3adc992382dc39a80e971216eb19e33725531cc6,15,3,4,26,20870,Alex Kavanagh,ajkavanagh,"Migrate charm charmhub for stable/ussuri

- start from stable/ussuri branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/ussuri for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 18.04 amd64
- Run on 18.04 amd64, s390x, ppc64el, arm64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I3316d2299cca9697360aaaa5010e9de7670355d7
"
openstack%2Fcharm-heat~stable%2Fussuri~If4a981dafe3ebb96bcbef80d3c1fd9d5eb32bb82,openstack/charm-heat,stable/ussuri,charmhub-migration,If4a981dafe3ebb96bcbef80d3c1fd9d5eb32bb82,Migrate charm charmhub for stable/ussuri,MERGED,2022-05-20 19:02:04.000000000,2022-06-14 19:19:42.000000000,2022-06-14 19:19:42.000000000,181,2498,0,842764,086ec32e09aa4bfebddce952f4605cf614bbcc1c,15,3,4,29,20870,Alex Kavanagh,ajkavanagh,"Migrate charm charmhub for stable/ussuri

- start from stable/ussuri branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/ussuri for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 18.04 amd64
- Run on 18.04 amd64, s390x, ppc64el, arm64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: If4a981dafe3ebb96bcbef80d3c1fd9d5eb32bb82
"
openstack%2Fcharm-nova-cloud-controller~stable%2Fxena~I597b1b5770d63fbd5082d899983ec73b94b49350,openstack/charm-nova-cloud-controller,stable/xena,charmhub-migration,I597b1b5770d63fbd5082d899983ec73b94b49350,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:49:58.000000000,2022-06-14 19:16:51.000000000,2022-06-14 19:16:51.000000000,3,4,11,841978,44917f58dccf26599a5398e59b09946a978021e9,36,4,2,2,20870,Alex Kavanagh,ajkavanagh,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64
- Adjust test-requirements.txt to pin tempest as tempest development
  head has dropped py36/py37.

Change-Id: I597b1b5770d63fbd5082d899983ec73b94b49350
"
openstack%2Fcharm-ironic-api~stable%2Fxena~I3e27530e190209c0951592e44ef57884bc7e1c53,openstack/charm-ironic-api,stable/xena,charmhub-migration,I3e27530e190209c0951592e44ef57884bc7e1c53,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:46:47.000000000,2022-06-14 19:15:57.000000000,2022-06-14 19:15:57.000000000,1,3,6,841956,357af31af26e7636c979605f50f1531985275a97,19,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I3e27530e190209c0951592e44ef57884bc7e1c53
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4,openstack/tripleo-heat-templates,stable/victoria,bug/1881593,Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4,Add ovn_chassis_mac_map to ExtraConfig role,ABANDONED,2022-01-31 16:25:39.000000000,2022-06-14 18:54:58.000000000,,1,0,5,827149,98d317647edaa33611dee7e72ffcae85a8ef900c,16,4,2,1,6681,Brent Eagles,beagles,"Add ovn_chassis_mac_map to ExtraConfig role

Related-Bug: #1881593
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827147

Change-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4
(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)
"
openstack%2Ftempest~master~I9ba22ab48cb1737a6917479089cddf961c30efe4,openstack/tempest,master,,I9ba22ab48cb1737a6917479089cddf961c30efe4,Changed pip install tempest\ to sudo pip3 install tempest\,NEW,2022-06-14 12:26:14.000000000,2022-06-14 18:52:02.000000000,,1,1,5,845738,1c90e79efce53258d52f7365dc80d2a738d5a0c8,3,1,1,1,34637,Milana Levy,millevy," Changed pip install tempest\ to sudo pip3 install tempest\

Change-Id: I9ba22ab48cb1737a6917479089cddf961c30efe4
"
openstack%2Fopenstack-ansible~master~Ia751cd2228894ee984f9863fdb4589987488e0a0,openstack/openstack-ansible,master,haproxy-endpoint-handlers,Ia751cd2228894ee984f9863fdb4589987488e0a0,Replace haproxy common task with handlers,ABANDONED,2017-09-17 16:40:34.000000000,2022-06-14 18:44:13.000000000,,116,178,5,504795,e2bff888f820af4b97c9e38a22041628c3f1ef02,41,7,5,7,17799,Logan V,Logan2211,"Replace haproxy common task with handlers

The old haproxy-endpoints-manage common-task unconditionally
disabled the endpoint in haproxy regardless of whether a service
restart or other endpoint impacting work was going to be done.

Now we have a mechanism to implement a ""Manage LB"" listener that
the role can notify when it needs orchestrated endpoint management
only in cases where a restart or other impactful work is being
performed.

Change-Id: Ia751cd2228894ee984f9863fdb4589987488e0a0
"
openstack%2Fos-brick~master~I5e4ad4e4cb47d4bc7b71256d9f96bb4fd94a909f,openstack/os-brick,master,add_fips_job,I5e4ad4e4cb47d4bc7b71256d9f96bb4fd94a909f,DNM: Add delay to troubleshoot FIPS failures,ABANDONED,2022-01-12 21:55:20.000000000,2022-06-14 18:10:38.000000000,,6,0,1,824490,6e0e326c0fc614fa1e491377be02e84b41ca7314,38,2,2,1,21129,Alan Bishop,ASBishop,"DNM: Add delay to troubleshoot FIPS failures

Insert a small delay to test whether it affects how encrypted volumes
behave when FIPS is enabled. The goal is to see if the FIPS CI jobs
in Ib85b6ecc6f1b12eb8afa866e56afbfb13aad0cba will pass. If they do,
the more investigation will be needed to uncover a root cause for the
previous failures.

Change-Id: I5e4ad4e4cb47d4bc7b71256d9f96bb4fd94a909f
"
openstack%2Fcharm-guide~master~I86680741f4868ae0f193dc342b832633807efc9e,openstack/charm-guide,master,add-overlay-guidance-for-devs,I86680741f4868ae0f193dc342b832633807efc9e,Add feature documentation guidance,MERGED,2022-06-10 20:43:26.000000000,2022-06-14 18:10:00.000000000,2022-06-14 18:08:17.000000000,53,0,4,845483,f8f2f205edacd8312925f2bb23784dd704563f07,15,2,5,2,30561,Peter Matulis,pmatulis,"Add feature documentation guidance

When a feature is developed it should come with
supporting documentation. It may also need to
include an overlay bundle to summarise its deployment.
This PR covers this in terms of documentation
requirements and links to the Juju documentation
for overlay usage.

Change-Id: I86680741f4868ae0f193dc342b832633807efc9e
"
openstack%2Fcinder~stable%2Fxena~I216f84ed379d4554d5d9adee31f9af6f4d54ea94,openstack/cinder,stable/xena,bug/1924798-stable/yoga-stable/xena,I216f84ed379d4554d5d9adee31f9af6f4d54ea94,NetApp ONTAP: Fix check QoS min support for SVM account,MERGED,2022-05-16 14:48:37.000000000,2022-06-14 17:55:18.000000000,2022-05-25 21:18:12.000000000,15,0,4,841889,4b719d99ff2d5b3bb3a1d964d83131ff2910d5b0,24,5,1,3,4523,Eric Harney,eharney,"NetApp ONTAP: Fix check QoS min support for SVM account

The SVM account has no access to the node name and it cannot create
the QoS policy, so the QoS min support can be dropped.

Includes the release note formatting fix from change I6544e5d68714.

Closes-Bug: #1924798
Change-Id: I216f84ed379d4554d5d9adee31f9af6f4d54ea94
(cherry picked from commit b7466f54f5a9dca1255d0f93017b260d808b42db)
(cherry picked from commit 4be091c42f9eaeda9df47d33beab8195fa333664)
"
openstack%2Fpuppet-nova~master~I4f6169ed2f1b317b88fe9f2e06719667b44e1eb7,openstack/puppet-nova,master,fix-misspelling,I4f6169ed2f1b317b88fe9f2e06719667b44e1eb7,Fix typo,NEW,2022-05-12 14:23:50.000000000,2022-06-14 17:36:47.000000000,,1,1,2,841604,baf9bee28cb2eaddcbd6a27f586b7940ae952283,4,2,1,1,28522,Hervé Beraud,hberaud,"Fix typo

Change-Id: I4f6169ed2f1b317b88fe9f2e06719667b44e1eb7
"
openstack%2Fcinder~stable%2Fvictoria~Ia6d0408280cb90da734ec505af7694fdea5333af,openstack/cinder,stable/victoria,victoria-pin-tempest,Ia6d0408280cb90da734ec505af7694fdea5333af,[stable-only] Cap cinder-tempest-plugin version for stable/victoria,MERGED,2022-05-25 15:54:09.000000000,2022-06-14 17:11:53.000000000,2022-06-14 17:08:36.000000000,2,1,2,843305,b95831cf7fcf157bb7a4a3c2188de81d500bccff,37,3,3,1,8556,Ghanshyam,ghanshyam,"[stable-only] Cap cinder-tempest-plugin version for stable/victoria

We are capping stable/victoria testing with Tempest
26.1.0 (choosing 26.1.0 because of bug#1955418)

- https://review.opendev.org/c/openstack/devstack/+/843295

cinder-tempest-lvm-multibackend and other job failing with
incompatible Tempest 26.1.0 version with cinder-temepst-plugin master

AttributeError: 'SnapshotDataIntegrityTests' object has no attribute 'create_security_group'

- https://zuul.opendev.org/t/openstack/build/b86e63cc6cfd49dca96817b2ae7fdc71/logs

To fix that we need to use compatible cinder-tempest-plugin version for
Tempest 26.1.0, which is cinder-tempest-plugin 1.3.0.

Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/843354
Depends-On: https://review.opendev.org/c/openstack/cinder/+/843092
Depends-On: https://review.opendev.org/c/openstack/devstack/+/843295

Change-Id: Ia6d0408280cb90da734ec505af7694fdea5333af
"
openstack%2Fkeystone~stable%2Ftrain~I77148641715efe09e3adc2e9432e66e50fb444b4,openstack/keystone,stable/train,fix-ldap-bytes-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train,I77148641715efe09e3adc2e9432e66e50fb444b4,Fix issue with LDAP backend returning bytes instead of string,MERGED,2022-02-07 09:27:29.000000000,2022-06-14 17:11:30.000000000,2022-06-14 17:08:32.000000000,17,2,2,827965,e53bf8d7406c8e02067d861c1bf707fb52333aa6,12,3,1,1,14250,Grzegorz Grasza,xek,"Fix issue with LDAP backend returning bytes instead of string

When connecting to some LDAP server software, the ldap client returns
bytes instances instead of the expected strings. This can result in
either being transparently converted to strings, when the data is
inserted via sqlalchemy into the database, or could be used as
input to other functions, and/or cached, which causes unexpected
results.

Closes-Bug: #1952458
Resolves: rhbz#1964872
Change-Id: I77148641715efe09e3adc2e9432e66e50fb444b4
(cherry picked from commit 1e0cd90191663c100c165d4c6a2b1ca796b5af25)
"
openstack%2Fcinder~master~Ic646ce475def284850af9b98d7dc2cab61c86a20,openstack/cinder,master,,Ic646ce475def284850af9b98d7dc2cab61c86a20,"Groups: remove unneeded ""status"" variable",MERGED,2022-05-04 14:03:28.000000000,2022-06-14 17:11:07.000000000,2022-06-14 17:08:28.000000000,1,2,1,840493,70590f991ee4f823f8be291ef2d212aca32805d3,44,5,2,1,4523,Eric Harney,eharney,"Groups: remove unneeded ""status"" variable

Tidy up the create_group method a bit.

Change-Id: Ic646ce475def284850af9b98d7dc2cab61c86a20
"
openstack%2Fopenstack-ansible-os_ironic~master~I239641e627e9baf3c38f9b68c0074e70346c21e4,openstack/openstack-ansible-os_ironic,master,openstack/openstack-ansible-tests/sync-tests,I239641e627e9baf3c38f9b68c0074e70346c21e4,Updated from OpenStack Ansible Tests,NEW,2022-03-29 17:18:28.000000000,2022-06-14 17:06:11.000000000,,1,1,0,835709,6cf41cfa26128b64c422f22a103a8bc98b857f26,6,1,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I239641e627e9baf3c38f9b68c0074e70346c21e4
"
openstack%2Fcinder~master~I018f97a4aace1f536ab816e866b67ce23576609c,openstack/cinder,master,,I018f97a4aace1f536ab816e866b67ce23576609c,Ceph: Remove unnecessary convert_str() calls,MERGED,2022-04-25 19:18:33.000000000,2022-06-14 17:01:59.000000000,2022-06-14 16:59:13.000000000,39,51,4,839257,b235048d6dc49fee0f3ad83d3216a42c23b69a20,98,8,3,2,4523,Eric Harney,eharney,"Ceph: Remove unnecessary convert_str() calls

These are no longer needed.

This is achieved by assuming that fields like
Volume.name, Snapshot.name, and Snapshot.volume_name
are already Unicode strings in our objects.

Also removes some Python 2 compat cruft.

Change-Id: I018f97a4aace1f536ab816e866b67ce23576609c
"
openstack%2Fneutron~master~Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8,openstack/neutron,master,packet_rate_limit,Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8,Support pps limitation for openvswitch agent,MERGED,2021-11-05 09:33:14.000000000,2022-06-14 17:01:23.000000000,2022-06-14 16:58:27.000000000,330,2,40,816802,5765186516ae6af3477fc1c1cdd0367e8c878189,154,5,18,3,9531,liuyulong,LIU-Yulong,"Support pps limitation for openvswitch agent

Add packet rate limit rule to the openvswitch QoS
driver SUPPORTED_RULES list. This patch adds the
ability to limit neutron port packet I/O rate. We
will leverage the ovs meter to achieve the limitation.

The meter action is only supoorted when datapath is
in user mode (with ovs >= 2.7) or ovs kernel datapath with
kernel version >= 4.15 (and ovs >= 2.10).

[1] https://docs.openvswitch.org/en/latest/faq/releases/

Partially-Implements: bp/packet-rate-limit
Related-Bug: #1938966
Related-Bug: #1912460
Change-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8
"
openstack%2Fcinder~master~I64c38e74a6b7e8180d63cc5d5d13b8cb76d52d3e,openstack/cinder,master,,I64c38e74a6b7e8180d63cc5d5d13b8cb76d52d3e,cmd/manage and coordination: Clean up exception handling,MERGED,2022-05-17 15:34:59.000000000,2022-06-14 17:00:39.000000000,2022-06-14 16:58:34.000000000,17,8,1,842142,6b711187838db49506f0971dc25cb92deb6f9e8d,34,5,1,2,4523,Eric Harney,eharney,"cmd/manage and coordination: Clean up exception handling

This makes it easier for pylint and mypy to
validate this code, and avoids isinstance() checks.
Follows the same pattern used in commit 1075d1d.

Change-Id: I64c38e74a6b7e8180d63cc5d5d13b8cb76d52d3e
"
openstack%2Fneutron~master~Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7,openstack/neutron,master,packet_rate_limit,Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7,Meter flows and ovsdb action for ovs bridge,MERGED,2021-11-05 09:33:14.000000000,2022-06-14 17:00:02.000000000,2022-06-14 16:58:22.000000000,353,0,52,816800,0232ead2c33eccc2ccd67f96a12381f2ce7fb470,132,9,16,5,9531,liuyulong,LIU-Yulong,"Meter flows and ovsdb action for ovs bridge

Add meter flows actions and ovsdb actions for pps
limitation. Meter flow actions are:
* list_meter_features
* create_meter
* delete_meter
* update_meter
* apply_meter_to_port
* remove_meter_from_port

Ovsdb actions are:
* get_port_tag_by_name
* get_value_from_other_config
* set_value_to_other_config
* remove_value_from_other_config

Partially-Implements: bp/packet-rate-limit
Related-Bug: #1938966
Related-Bug: #1912460
Change-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7
"
openstack%2Fcinder~master~Ia568ac1fc178498d3192315c5277e6de45257527,openstack/cinder,master,,Ia568ac1fc178498d3192315c5277e6de45257527,pylint: ibm_storage: Fix E0601 used-before-assignment error,MERGED,2022-05-17 15:56:33.000000000,2022-06-14 16:59:07.000000000,2022-06-14 16:59:07.000000000,2,1,3,842149,2f060e037dba01297b275b1ec4093f0b083a49e2,33,4,1,1,4523,Eric Harney,eharney,"pylint: ibm_storage: Fix E0601 used-before-assignment error

Small refactor to fix E0601 from pylint.

Change-Id: Ia568ac1fc178498d3192315c5277e6de45257527
"
openstack%2Fcinder~master~I11e8e69d64cb50d33fa9f7c114b86140f62ad077,openstack/cinder,master,,I11e8e69d64cb50d33fa9f7c114b86140f62ad077,pylint: volume/api: Fix E0601 error,MERGED,2022-05-17 15:56:33.000000000,2022-06-14 16:58:40.000000000,2022-06-14 16:58:40.000000000,1,1,2,842148,c1626d24bbf0ab3c6f5ccb3298769021d05960e2,32,3,1,1,4523,Eric Harney,eharney,"pylint: volume/api: Fix E0601 error

Fix E0601 used-before-assignment error from pylint.

Change-Id: I11e8e69d64cb50d33fa9f7c114b86140f62ad077
"
openstack%2Fneutron~master~I8d0e1dac4f6a6d201e29863cc76db3f1ff8595ae,openstack/neutron,master,migration,I8d0e1dac4f6a6d201e29863cc76db3f1ff8595ae,migration: Remove restarting OVS,MERGED,2022-06-13 20:15:32.000000000,2022-06-14 16:53:10.000000000,2022-06-14 16:49:58.000000000,0,7,0,845632,fd6adb3e5b11fce9318056d8342a2f84d5673714,8,3,1,1,8655,Jakub Libosvar,jlibosva,"migration: Remove restarting OVS

There was a code that worked around a bug in openvswitch. The bug was
fixed in openvswitch 2.13 and we no longer use that version. It's safe
to be removed now.

Change-Id: I8d0e1dac4f6a6d201e29863cc76db3f1ff8595ae
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
"
openstack%2Fneutron~stable%2Fwallaby~Ib27fa676e126503eacb97b24e95aa7cd2982adab,openstack/neutron,stable/wallaby,migration-stable/yoga-stable/xena-stable/wallaby,Ib27fa676e126503eacb97b24e95aa7cd2982adab,migration: Fail task if executed script failed,MERGED,2022-06-13 16:01:56.000000000,2022-06-14 16:53:03.000000000,2022-06-14 16:49:42.000000000,2,3,0,845405,564c10eca30adccb08c183dcabe0cf018ad00e8c,9,3,1,2,8655,Jakub Libosvar,jlibosva,"migration: Fail task if executed script failed

Previously the migration playbook continued even if tripleo deploy
failed which damaged the environment even more. This patch will make the
task fail if deploy fails too. There are also other commands which
return code was ignored.

Change-Id: Ib27fa676e126503eacb97b24e95aa7cd2982adab
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit ab62f174095b5d8cdf32134cbca1f3cb79926642)
"
openstack%2Fcinder~master~I9c1896c9eccd77363eedaa2817937cf8431f209a,openstack/cinder,master,remove-legacyfacade,I9c1896c9eccd77363eedaa2817937cf8431f209a,db: Move comment,MERGED,2022-06-07 12:27:24.000000000,2022-06-14 16:52:34.000000000,2022-06-14 16:49:46.000000000,4,3,1,844964,25d70a00cead040bb00e352fb92eed8c4c6ddb28,30,3,1,1,15334,Stephen Finucane,sfinucan,"db: Move comment

We split the '_check_sync' helper in 'cinder.db.manage' as part of
change Ic8c37145c66069e9194458fa7f622d98022fee4f. A comment was left in
this function which really belonged in the now-split function. Move it.

Change-Id: I9c1896c9eccd77363eedaa2817937cf8431f209a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fneutron~stable%2Fwallaby~Ib220867106abc59da4fae51a60ef52d0c02592c8,openstack/neutron,stable/wallaby,bug/1977969,Ib220867106abc59da4fae51a60ef52d0c02592c8,"""_handle_lb_fip_cmds"" to handle the LB members correctly",MERGED,2022-06-14 09:06:01.000000000,2022-06-14 16:51:42.000000000,2022-06-14 16:49:32.000000000,55,55,1,845711,e9706b2922f60ee63aee79794e5346f1315cdf75,11,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"""_handle_lb_fip_cmds"" to handle the LB members correctly

This patch indents the section where the load balancer members
are properly verified. This section must be executed for each
load balancer matching the logical switch port with the VIP passed
as an argument to the method ""_handle_lb_fip_cmds"".

Closes-Bug: #1977969

Change-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8
(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)
"
openstack%2Fneutron~stable%2Fvictoria~Ib220867106abc59da4fae51a60ef52d0c02592c8,openstack/neutron,stable/victoria,bug/1977969,Ib220867106abc59da4fae51a60ef52d0c02592c8,"""_handle_lb_fip_cmds"" to handle the LB members correctly",MERGED,2022-06-14 09:06:48.000000000,2022-06-14 16:51:38.000000000,2022-06-14 16:49:37.000000000,55,55,1,845712,1a71e1479fc9131a642af50d54105a416771f69e,9,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"""_handle_lb_fip_cmds"" to handle the LB members correctly

This patch indents the section where the load balancer members
are properly verified. This section must be executed for each
load balancer matching the logical switch port with the VIP passed
as an argument to the method ""_handle_lb_fip_cmds"".

Closes-Bug: #1977969

Change-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8
(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)
"
openstack%2Fneutron~stable%2Fxena~Ib220867106abc59da4fae51a60ef52d0c02592c8,openstack/neutron,stable/xena,bug/1977969,Ib220867106abc59da4fae51a60ef52d0c02592c8,"""_handle_lb_fip_cmds"" to handle the LB members correctly",MERGED,2022-06-14 09:05:41.000000000,2022-06-14 16:51:37.000000000,2022-06-14 16:49:27.000000000,55,55,1,845710,e278f1e33f3b7888506016f5f218c3493fecc2ea,10,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"""_handle_lb_fip_cmds"" to handle the LB members correctly

This patch indents the section where the load balancer members
are properly verified. This section must be executed for each
load balancer matching the logical switch port with the VIP passed
as an argument to the method ""_handle_lb_fip_cmds"".

Closes-Bug: #1977969

Change-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8
(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)
"
openstack%2Fneutron~master~I0d1bc49927b061a91ff6d4ca3f5b826d529d0770,openstack/neutron,master,use_sql_in_clause,I0d1bc49927b061a91ff6d4ca3f5b826d529d0770,Use SQL IN clause instead of OR with exact match comparisons,MERGED,2022-06-10 16:13:41.000000000,2022-06-14 16:51:35.000000000,2022-06-14 16:49:11.000000000,2,4,3,845366,a1d135e3c0865d825127947c65632551436e8894,25,6,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Use SQL IN clause instead of OR with exact match comparisons

SQL IN clause is faster than several exact match comparisons
in an OR clause.

Trivial-Fix

Change-Id: I0d1bc49927b061a91ff6d4ca3f5b826d529d0770
"
openstack%2Fneutron~stable%2Fyoga~Ib220867106abc59da4fae51a60ef52d0c02592c8,openstack/neutron,stable/yoga,bug/1977969,Ib220867106abc59da4fae51a60ef52d0c02592c8,"""_handle_lb_fip_cmds"" to handle the LB members correctly",MERGED,2022-06-14 09:05:16.000000000,2022-06-14 16:51:20.000000000,2022-06-14 16:49:21.000000000,55,55,2,845709,304aaadf49e6b870fae0cd7f6ea1a4a4ca9a5e2b,10,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"""_handle_lb_fip_cmds"" to handle the LB members correctly

This patch indents the section where the load balancer members
are properly verified. This section must be executed for each
load balancer matching the logical switch port with the VIP passed
as an argument to the method ""_handle_lb_fip_cmds"".

Closes-Bug: #1977969

Change-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8
(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)
"
openstack%2Fopenstack-helm~master~I0a4a0d81ea9dc041e9095323346c3ea4755d55f5,openstack/openstack-helm,master,update-setup-gateway,I0a4a0d81ea9dc041e9095323346c3ea4755d55f5,Update setup-gateway script to use Xena,MERGED,2022-06-14 02:16:32.000000000,2022-06-14 16:51:14.000000000,2022-06-14 16:47:56.000000000,1,1,0,845656,67cf809fcd3fe6126726b27b7ebd707fb60cf6d6,10,4,1,1,21420,Gage Hugo,ghugo,"Update setup-gateway script to use Xena

Currently the 170-setup-gateway.sh script is still hardcoded to
use a train neutron image. This change updates the version to
use the newer Xena image instead.

Change-Id: I0a4a0d81ea9dc041e9095323346c3ea4755d55f5
"
openstack%2Fneutron~master~I3b7c5d73d2b0d20fb06527ade30af8939b249d75,openstack/neutron,master,bug/1973347,I3b7c5d73d2b0d20fb06527ade30af8939b249d75,Move ``PortBindingChassisEvent`` checks to ``match_fn``,MERGED,2022-06-13 06:56:27.000000000,2022-06-14 16:49:52.000000000,2022-06-14 16:49:52.000000000,7,3,1,845547,6890204765c5de1a91284b9b0b6bf0565673f53f,10,6,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Move ``PortBindingChassisEvent`` checks to ``match_fn``

Moved the event checks to ``match_fn`` method, that is the correct
place to execute them, before the ``run`` method is called.

This is a follow-up of
https://review.opendev.org/c/openstack/neutron/+/842147.

Related-Bug: #1973347
Change-Id: I3b7c5d73d2b0d20fb06527ade30af8939b249d75
"
openstack%2Fopenstack-helm~master~I65e016a4cb3fd52707ab29c37f025818fcb6c405,openstack/openstack-helm,master,add-overrides,I65e016a4cb3fd52707ab29c37f025818fcb6c405,Add Xena and Yoga values overrides,MERGED,2022-06-08 16:15:00.000000000,2022-06-14 16:49:45.000000000,2022-06-14 16:47:54.000000000,334,9,0,845156,89addfd4e1aa7b810e092ca2a2dd22edc48d51b9,13,6,2,38,21420,Gage Hugo,ghugo,"Add Xena and Yoga values overrides

This change adds the overrides needed to run both the Xena and
Yoga releases in the OSH zuul jobs.

Change-Id: I65e016a4cb3fd52707ab29c37f025818fcb6c405
"
openstack%2Fneutron~master~Ie06b987f7efbff8057293893e42bee7b682b9ba1,openstack/neutron,master,fix-pyroute2-netns-mock,Ie06b987f7efbff8057293893e42bee7b682b9ba1,Fix tests involving pyroute2.netlink module,MERGED,2022-06-14 09:27:54.000000000,2022-06-14 16:49:16.000000000,2022-06-14 16:49:16.000000000,3,5,6,845715,d01700034ac80631893215e742de44cb903ba2a3,20,5,2,2,13252,Dr. Jens Harbott,jrosenboom,"Fix tests involving pyroute2.netlink module

pyroute2 0.6.11 did some further refactoring of their module imports,
so using pyroute2.netlink.some_func() doesn't work anymore. Since we
do ""from pyroute2 import netlink"" anyway, use the imported module
everywhere.

Also, mock.patch()ing pyroute2.netlink.rtnl.tcmsg.common.tick_in_usec
doesn't work anymore, but also doesn't seem to be necessary for the
tests to succeed, so just drop it.

Closes-Bug: 1978564
Change-Id: Ie06b987f7efbff8057293893e42bee7b682b9ba1
"
openstack%2Fproject-config~master~Id731812c56a526c7dd196a96ff8668de996a8a27,openstack/project-config,master,neutron-lower-constratins-py36,Id731812c56a526c7dd196a96ff8668de996a8a27,Add py38/py39 jobs to Grafana,MERGED,2022-06-13 14:28:57.000000000,2022-06-14 16:46:39.000000000,2022-06-14 15:58:43.000000000,8,0,0,845596,97945117ba33035155ba26f537264b9198b8f2b2,12,6,1,3,8313,Lajos Katona,elajkat,"Add py38/py39 jobs to Grafana

Add py39 job to neutron-dynamic-routing and neutron-lib graphs, py38 to
neutron graphs.

Change-Id: Id731812c56a526c7dd196a96ff8668de996a8a27
"
openstack%2Ftripleo-ansible~master~I9b368da796ed6b3ccba13dc9430edb6bca8f91ea,openstack/tripleo-ansible,master,disable_rbd_trash,I9b368da796ed6b3ccba13dc9430edb6bca8f91ea,Disable trash purge scheduler,MERGED,2022-06-13 20:57:50.000000000,2022-06-14 16:39:45.000000000,2022-06-14 16:39:45.000000000,2,0,2,845637,a449df417b36186ce4a97e8670226fedcf574a62,9,5,1,2,25402,Francesco Pantano,fmount,"Disable trash purge scheduler

This patch introduces a boolean used to set the trash purge
schedule interval on the cinder related pools.
This is false by default and can be enabled via the tripleo
heat-templates interface.

Change-Id: I9b368da796ed6b3ccba13dc9430edb6bca8f91ea
"
openstack%2Fopenstack-helm~master~Ia5c941fd4adab9f9bf12c298497181580891a612,openstack/openstack-helm,master,values-overrides,Ia5c941fd4adab9f9bf12c298497181580891a612,Update default openstack version in scripts,MERGED,2022-06-14 02:18:51.000000000,2022-06-14 16:37:30.000000000,2022-06-14 16:35:59.000000000,3,3,0,845658,1282d02d27a18a64573104d1265a969044b23f83,10,3,2,2,21420,Gage Hugo,ghugo,"Update default openstack version in scripts

Several of the deployment scripts in the repo are still currently
using stein as their defaults. Since this release is quite old
now, this change bumps the version used to be Xena by default.

Change-Id: Ia5c941fd4adab9f9bf12c298497181580891a612
"
openstack%2Fproject-config~master~Ia7a07b62b492f7065ac478abb6554c2e667591d1,openstack/project-config,master,neutron-lower-constratins-py36,Ia7a07b62b492f7065ac478abb6554c2e667591d1,Remove lower-constraints and tox-py36 from Neutron Grafana,MERGED,2022-06-01 07:43:56.000000000,2022-06-14 16:04:33.000000000,2022-06-14 15:58:41.000000000,0,39,15,844254,e67be4ceece70b685d0a4ca7c07c6b5024ec898d,19,8,1,6,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Remove lower-constraints and tox-py36 from Neutron Grafana

This patch removes the following graphs:
- lower-constraints from any Neutron related project.
- tox-py36 from any Neutron related project in master branch.

Change-Id: Ia7a07b62b492f7065ac478abb6554c2e667591d1
"
openstack%2Ftripleo-validations~stable%2Ftrain~I1ecb7dcde70feab479bdcd45ecb8045fb19ffaae,openstack/tripleo-validations,stable/train,,I1ecb7dcde70feab479bdcd45ecb8045fb19ffaae,Change the way the task 'Validation errors' prints the output messages in order to be more readable.,MERGED,2022-06-08 18:30:52.000000000,2022-06-14 15:52:57.000000000,2022-06-14 15:52:57.000000000,3,1,0,845047,fe5b61e81c4058b3a3efd83308a809272c5ffc3c,7,3,1,1,27427,David Peacock,davidjpeacock,"Change the way the task 'Validation errors' prints the output messages in order to be more readable.

Depends-On: https://review.opendev.org/c/openstack/validations-common/+/835073
Signed-off-by: Juan Pablo Martí <jmarti@redhat.com>
Change-Id: I1ecb7dcde70feab479bdcd45ecb8045fb19ffaae
(cherry picked from commit e809c881b90702641d91807f2724bd21900f94ef)
"
openstack%2Fdevstack~master~I4808941ba4acaa15e1ec145209a88630bcac61c3,openstack/devstack,master,neutron-policy,I4808941ba4acaa15e1ec145209a88630bcac61c3,Drop legacy neutron policy file workaround,NEW,2022-05-28 08:00:22.000000000,2022-06-14 15:50:11.000000000,,0,12,2,843712,570a8bb5e2fe0f3b05d56dce4b7aad6e3ec32078,4,2,1,1,13252,Dr. Jens Harbott,jrosenboom,"Drop legacy neutron policy file workaround

This is a relict from a long distant past, let's clean it up.

Change-Id: I4808941ba4acaa15e1ec145209a88630bcac61c3
"
openstack%2Fhacking~master~I798dd39afcf2f16a8660ab597b6f5bae70ab2a81,openstack/hacking,master,,I798dd39afcf2f16a8660ab597b6f5bae70ab2a81,Drop py36 and py37 support,MERGED,2022-06-03 10:48:30.000000000,2022-06-14 15:21:20.000000000,2022-06-14 15:19:57.000000000,9,3,5,844570,2931131b69af7f1e76d8ab506c250a94b330ffb9,15,3,3,2,9708,Balazs Gibizer,gibi,"Drop py36 and py37 support

We are not testing with py36 and py37 so we cannot be sure hacking works
with these versions.

Add releasenote that also mentions the previous changes in py35 and
flake8 support.

Sem-Ver: api-break
Change-Id: I798dd39afcf2f16a8660ab597b6f5bae70ab2a81
"
openstack%2Fopenstack-ansible~master~I1a8702d78ebcb39ddf2f42653222588941da11b5,openstack/openstack-ansible,master,,I1a8702d78ebcb39ddf2f42653222588941da11b5,add comments to make editing the table clearer,MERGED,2022-06-14 13:43:36.000000000,2022-06-14 15:18:19.000000000,2022-06-14 15:13:28.000000000,253,253,0,845758,3d947a53bf3ccd5bfa57d57631f6d86ec4feedf8,9,3,1,1,13095,Marc Gariépy,mgariepy,"add comments to make editing the table clearer

Change-Id: I1a8702d78ebcb39ddf2f42653222588941da11b5
"
openstack%2Fopenstack-ansible~master~I9cf6b830fabde0dc77d3bf6549703f2729124b11,openstack/openstack-ansible,master,845731,I9cf6b830fabde0dc77d3bf6549703f2729124b11,[doc] Fix compatability matrix layout,MERGED,2022-06-14 11:32:48.000000000,2022-06-14 15:16:07.000000000,2022-06-14 15:13:25.000000000,33,1,0,845731,4ee51d18b16f96658f8477695f25cd281da9f51c,10,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[doc] Fix compatability matrix layout

Change-Id: I9cf6b830fabde0dc77d3bf6549703f2729124b11
"
openstack%2Fneutron~stable%2Fwallaby~I97e9ca244c0716510fcd4ec81d54046be9c5f8f8,openstack/neutron,stable/wallaby,bug/1936675,I97e9ca244c0716510fcd4ec81d54046be9c5f8f8,"Use explicit select condition in SQL query in ""_port_filter_hook""",MERGED,2022-06-06 08:30:47.000000000,2022-06-14 15:06:46.000000000,2022-06-14 15:02:48.000000000,5,4,1,844788,4e587d079e4aa31ad5e87566d3c06089914e39f7,11,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Use explicit select condition in SQL query in ""_port_filter_hook""

Instead of executing a subquery inside a select, use a proper filter
condition instead.

Closes-Bug: #1936675
Change-Id: I97e9ca244c0716510fcd4ec81d54046be9c5f8f8
(cherry picked from commit 923284fc3791949d93d7ded9820a44f98fc734b8)
"
openstack%2Fneutron~stable%2Fyoga~Ib27fa676e126503eacb97b24e95aa7cd2982adab,openstack/neutron,stable/yoga,migration-stable/yoga,Ib27fa676e126503eacb97b24e95aa7cd2982adab,migration: Fail task if executed script failed,MERGED,2022-06-13 16:01:37.000000000,2022-06-14 15:06:32.000000000,2022-06-14 15:02:52.000000000,2,3,0,845403,34e4e6922755c6e9b0ca73952de6a888ffccfd6d,8,3,1,2,8655,Jakub Libosvar,jlibosva,"migration: Fail task if executed script failed

Previously the migration playbook continued even if tripleo deploy
failed which damaged the environment even more. This patch will make the
task fail if deploy fails too. There are also other commands which
return code was ignored.

Change-Id: Ib27fa676e126503eacb97b24e95aa7cd2982adab
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit ab62f174095b5d8cdf32134cbca1f3cb79926642)
"
openstack%2Fneutron~stable%2Fxena~Ib27fa676e126503eacb97b24e95aa7cd2982adab,openstack/neutron,stable/xena,migration-stable/yoga-stable/xena,Ib27fa676e126503eacb97b24e95aa7cd2982adab,migration: Fail task if executed script failed,MERGED,2022-06-13 16:01:46.000000000,2022-06-14 15:06:22.000000000,2022-06-14 15:02:57.000000000,2,3,0,845404,65a6033dd9ff01ed9800840cbdd51b6a161a923d,9,3,1,2,8655,Jakub Libosvar,jlibosva,"migration: Fail task if executed script failed

Previously the migration playbook continued even if tripleo deploy
failed which damaged the environment even more. This patch will make the
task fail if deploy fails too. There are also other commands which
return code was ignored.

Change-Id: Ib27fa676e126503eacb97b24e95aa7cd2982adab
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit ab62f174095b5d8cdf32134cbca1f3cb79926642)
"
openstack%2Fneutron~master~I413c33970002532d11de5bc2afb145704a8488a9,openstack/neutron,master,bug/1978519,I413c33970002532d11de5bc2afb145704a8488a9,Return default value when get router's enable_ndp_proxy from `request_body`,MERGED,2022-06-14 04:05:08.000000000,2022-06-14 15:05:27.000000000,2022-06-14 15:03:01.000000000,2,1,0,845662,81a330113b5ae3d9b163eb2a92bfa0a628a31dd1,12,4,2,1,28329,yangjianfeng,yangjianfeng,"Return default value when get router's enable_ndp_proxy from `request_body`

In some cases, the creation of router was called by `l3 plugin`
directly, didn't call API. In this way, the router's request_body
of the `ndp_proxy` service plugin received has no `enable_ndp_proxy`,
this will result in `ndp_proxy` service plugin raise error.

Closes-Bug: #1978519
Related-Bug: #1877301
Change-Id: I413c33970002532d11de5bc2afb145704a8488a9
"
openstack%2Fneutron~stable%2Fwallaby~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,stable/wallaby,migration,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-07 13:27:40.000000000,2022-06-14 15:05:22.000000000,2022-06-14 15:02:35.000000000,7,2,0,844972,e325a618cc19eb937e80bb56099a1fcb64e344f9,10,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)
"
openstack%2Fneutron~stable%2Fussuri~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,stable/ussuri,migration,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-07 13:28:58.000000000,2022-06-14 15:05:10.000000000,2022-06-14 15:02:43.000000000,7,2,0,844975,8388c7468d01a18f4d98405144afbf76a1ac1e2c,8,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)
"
openstack%2Fneutron~stable%2Fvictoria~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,stable/victoria,migration,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-07 13:27:58.000000000,2022-06-14 15:04:57.000000000,2022-06-14 15:02:39.000000000,7,2,0,844973,fe1cf1c9c3e6dadae3380dba7fafcb313505d206,9,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)
"
openstack%2Fneutron~stable%2Fxena~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,stable/xena,migration,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-07 13:26:29.000000000,2022-06-14 15:04:50.000000000,2022-06-14 15:02:31.000000000,7,2,0,844971,ee2291e9687c8d3f8e0b1912b8173ecb58af8e0f,10,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)
"
openstack%2Fneutron~stable%2Fyoga~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,stable/yoga,migration,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-07 13:25:49.000000000,2022-06-14 15:04:48.000000000,2022-06-14 15:02:26.000000000,7,2,0,844970,d9550c4b18ff0ee9f6d684edae634c1972b18f95,9,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)
"
openstack%2Fnova~stable%2Fvictoria~Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a,openstack/nova,stable/victoria,bug/1851545,Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a,Neutron fixture: don't clobber profile and vif_details if empty,NEW,2021-06-17 17:03:47.000000000,2022-06-14 15:03:51.000000000,,8,5,0,796906,f3e488d6af8556dd0f52ffb5426cb1e8db73b829,9,3,2,1,8864,Artom Lifshitz,artom,"Neutron fixture: don't clobber profile and vif_details if empty

Previously, the way Neutron fixture's update_port method was coded
would cause the binding:profile and binding:vid_details fields to get
clobbered if they were not passed to the update. This was because if
nothing was passed, a default of {} was used. This is not how the real
Neutron API behaves. If nothing is passed, the previous values remain
and are not replaced with {}. This patches fixes this in the Neutron
fixture.

Change-Id: Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a
(cherry picked from commit 62868aaac70d908ade6ff80c8ced54afa0435a76)
(cherry picked from commit 83ca8b3563c2a293bc0ec153932bdee75aaab8ce)
"
openstack%2Fnova~stable%2Fvictoria~I8a040f148427cdee7b8a4983efe2b586d73be88d,openstack/nova,stable/victoria,bug/1851545,I8a040f148427cdee7b8a4983efe2b586d73be88d,fixtures: Handle binding of first port,NEW,2021-06-17 17:03:47.000000000,2022-06-14 15:03:34.000000000,,64,23,0,796905,7250cdf5f6a9429ed95bc3b0e9ec781dbfcd36b7,9,4,2,1,8864,Artom Lifshitz,artom,"fixtures: Handle binding of first port

Resolve some TODOs. This is necessary to prove out SR-IOV live
migration.

NOTE(artom) This isn't strictly speaking necessary for subsequent
backports, but it enables additional test coverage without adding any
feature code, and makes conflict resultion much cleaner.

Change-Id: I8a040f148427cdee7b8a4983efe2b586d73be88d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 4861eebc91a25056f445a4dc55a87cbb381fea05)
"
openstack%2Fopenstack-helm-infra~master~I22f6c1f01acde4869f0f6b4067756a6c8587ae5e,openstack/openstack-helm-infra,master,,I22f6c1f01acde4869f0f6b4067756a6c8587ae5e,[DNM] Gate test,ABANDONED,2022-06-13 18:48:39.000000000,2022-06-14 14:56:23.000000000,,7,1,0,845622,1e552082fece75204a70bcb86bc32c98412b5b13,8,1,3,3,29974,Stephen Taylor,st053q,"[DNM] Gate test

Change-Id: I22f6c1f01acde4869f0f6b4067756a6c8587ae5e
"
openstack%2Fnova~master~I5adeea81f6be414e1a298b3cb80dfed24e18ce9a,openstack/nova,master,bp/pci-device-tracking-in-placement,I5adeea81f6be414e1a298b3cb80dfed24e18ce9a,WIP: skeleton for asserting PCI resources in Placement,ABANDONED,2022-05-25 14:35:46.000000000,2022-06-14 14:49:06.000000000,,79,1,3,843291,238debd8bf11a75eab6bb8be56d6b35e69f7cecf,15,1,3,1,9708,Balazs Gibizer,gibi,"WIP: skeleton for asserting PCI resources in Placement

blueprint: pci-device-tracking-in-placement

Change-Id: I5adeea81f6be414e1a298b3cb80dfed24e18ce9a
"
openstack%2Fcompute-hyperv~master~I8549cd018a53411f2991c8564c548a00b145631f,openstack/compute-hyperv,master,,I8549cd018a53411f2991c8564c548a00b145631f,Use TOX_CONSTRAINTS_FILE,MERGED,2022-05-19 07:13:24.000000000,2022-06-14 14:33:45.000000000,2022-06-14 14:33:45.000000000,1,1,1,842464,4b80f61a5c4078ea6c2bbc922cc67faf23a12a19,9,2,2,1,33881,LiZekun,joeylee666666,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I8549cd018a53411f2991c8564c548a00b145631f
"
openstack%2Fcinder~master~I53b7efc093f7fc5823e0543aca4ce57720b88f5b,openstack/cinder,master,bug/1798529,I53b7efc093f7fc5823e0543aca4ce57720b88f5b,Unity: force delete attached snapshots,NEW,2018-10-18 07:02:43.000000000,2022-06-14 14:05:32.000000000,,13,7,7,611515,bd902c0dc8b80aba143d5f60e71fdb951dca382f,284,49,9,7,18742,Ryan Liang,RyanLiang,"Unity: force delete attached snapshots

Force delete the snapshot even if it is attached to hosts.

Closes-bug: #1798529
Change-Id: I53b7efc093f7fc5823e0543aca4ce57720b88f5b
"
openstack%2Fcinder~master~Ica2d9ab6e90eaa47f3e848215d267ac5f3251dcc,openstack/cinder,master,rsd_unsupported,Ica2d9ab6e90eaa47f3e848215d267ac5f3251dcc,Mark RSD driver as unsupported,NEW,2020-03-05 16:49:33.000000000,2022-06-14 14:01:52.000000000,,13,3,7,711512,ad4e5580c7c744097f00f98f16550b73611c31b0,106,41,3,2,29855,Martin Kennelly,martinkennelly,"Mark RSD driver as unsupported

  * Cinder RSD driver is unsupported and will be removed in upcoming
    releases

  * RSD driver CI is disabled by end of March 2020

Change-Id: Ica2d9ab6e90eaa47f3e848215d267ac5f3251dcc
Signed-off-by: Martin Kennelly <martin.kennelly@intel.com>
"
openstack%2Ftripleo-heat-templates~master~I9daaf69463e74f0f7fb63586ff6464194391da30,openstack/tripleo-heat-templates,master,bug/1978131,I9daaf69463e74f0f7fb63586ff6464194391da30,Keystone: Remove unnecessary binds for admin endpoint,MERGED,2022-06-10 04:57:36.000000000,2022-06-14 14:00:53.000000000,2022-06-14 14:00:53.000000000,5,15,7,845317,2de73e76243948036bb1bdcaec5b805ddb26676d,28,7,6,1,9816,Takashi Kajinami,kajinamit,"Keystone: Remove unnecessary binds for admin endpoint

In the past Keystone required a separate instance for admin endpoint.
However that requirement was removed and current TripleO deploys only
a single keystone instance, which listens on tcp/5000 in
KeystonePublicApiNetwork [1].

Now haproxy forwards all keystone api access to tcp/5000 in
KeystonePublicApiNetwork and no longer uses backend on tcp/35357 in
KeystoneAdminApiNetwork.

[1] 5bd82e9ef051e732c0f991eaf4f9e3572aac87f6

Closes-Bug: #1978131
Change-Id: I9daaf69463e74f0f7fb63586ff6464194391da30
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8ee338c3f3e20f1826d98efb38d3b21fefda5031,openstack/tripleo-heat-templates,stable/train,bug/1959726-stable/train,I8ee338c3f3e20f1826d98efb38d3b21fefda5031,Add parameter IronicIPXEUefiSnpOnly,MERGED,2022-02-05 04:22:16.000000000,2022-06-14 13:57:34.000000000,2022-03-24 08:40:23.000000000,21,0,20,827950,f8c554c02f5e1dd3b5c3a4707cc82d35eb54f9da,63,6,3,2,24245,Harald Jensås,harald.jensas,"Add parameter IronicIPXEUefiSnpOnly

Add new parameter IronicIPXEUefiSnpOnly (default: true).
When `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi
is used.

'snponly.efi' is the default in puppet-ironic master branch, however
in Wallaby and earlier releases 'ipxe.efi' is the default. Since
'ipxe.efi' is not compatible with a lot of hardware TripleO should
change this default.

Conflicts:
  deployment/ironic/ironic-conductor-container-puppet.yaml

Depends-On: https://review.opendev.org/828089
Related: RHBZ#2049179
Closes-Bug: 1959726
Change-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031
(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)
"
openstack%2Fhorizon~master~I5c8ed10f532f93f73d21755b9c563fe2e64b8f50,openstack/horizon,master,ec2_credentials,I5c8ed10f532f93f73d21755b9c563fe2e64b8f50,Added ec2 credentials to openstack dashboard * Fix pep8,ABANDONED,2022-06-14 12:03:50.000000000,2022-06-14 13:45:40.000000000,,5,13,381,845735,704419e31c5a650ed432a51a2d89a18af9d61482,4,2,1,5,24679,Fontenay Tony,weezhard,"Added ec2 credentials to openstack dashboard
* Fix pep8

Change-Id: I5c8ed10f532f93f73d21755b9c563fe2e64b8f50
"
openstack%2Fkeystone~stable%2Fussuri~I77148641715efe09e3adc2e9432e66e50fb444b4,openstack/keystone,stable/ussuri,fix-ldap-bytes-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,I77148641715efe09e3adc2e9432e66e50fb444b4,Fix issue with LDAP backend returning bytes instead of string,MERGED,2022-02-07 09:27:10.000000000,2022-06-14 13:40:12.000000000,2022-06-14 13:38:18.000000000,17,2,1,827964,256dbe9fe8a7b40dc8f1fd65cc004c92a5721940,8,2,1,1,14250,Grzegorz Grasza,xek,"Fix issue with LDAP backend returning bytes instead of string

When connecting to some LDAP server software, the ldap client returns
bytes instances instead of the expected strings. This can result in
either being transparently converted to strings, when the data is
inserted via sqlalchemy into the database, or could be used as
input to other functions, and/or cached, which causes unexpected
results.

Closes-Bug: #1952458
Resolves: rhbz#1964872
Change-Id: I77148641715efe09e3adc2e9432e66e50fb444b4
(cherry picked from commit 1e0cd90191663c100c165d4c6a2b1ca796b5af25)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ice012188654cfef7ebdb95630015b656d6fa0032,openstack/tripleo-heat-templates,stable/victoria,,Ice012188654cfef7ebdb95630015b656d6fa0032,Use Octavia's own default user_log_format value,ABANDONED,2022-05-06 15:40:13.000000000,2022-06-14 13:34:46.000000000,,12,2,3,840928,b563cf68c3fc9a5a0b97b4fcd4bcd5d8b6a49401,8,3,1,2,34429,Tom Weininger,tweining,"Use Octavia's own default user_log_format value

The HAProxy tenant flow logs are showing ""[ssl_c_s_dn]"" instead of
the client certificate DN string because of a bug in the default
value in THT. By using Octavia's own default we avoid this.

Conflicts:
	deployment/octavia/octavia-base.yaml

Change-Id: Ice012188654cfef7ebdb95630015b656d6fa0032
(cherry picked from commit 7acb4f490abd1ad58cf6850d6c301322f96cf31a)
(cherry picked from commit 2cd0a1a5de4a8bcabb06229fe7680d9de3f2efad)
"
openstack%2Ftacker~master~Ic28b5748c8d63d943218d0ac524dcbcfdc06366a,openstack/tacker,master,,Ic28b5748c8d63d943218d0ac524dcbcfdc06366a,[DNM] Set different number of instances for same delta and aspectId,NEW,2022-01-21 16:12:14.000000000,2022-06-14 13:21:23.000000000,,1127,10,11,825833,6b492e6e352daa42aac060e7aac2358ff298e4e5,40,6,18,16,34346,Pooja Singla,psingla,"[DNM] Set different number of instances for same delta and aspectId

As per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels
policies with uniform delta"",number_of_instance of deltas
in `VduScalingAspectDeltas`is able to have different value
for same aspect_id and delta_id.This patch fixes the code
which was earlier overwriting the value for same aspect and
delta id.

Closes-Bug: #1906779
Change-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a
"
openstack%2Ftripleo-quickstart-extras~master~I34d93c7f05d4897e3d2e4434d44033bf78461402,openstack/tripleo-quickstart-extras,master,,I34d93c7f05d4897e3d2e4434d44033bf78461402,Remove patches from spec with downstream driver,NEW,2022-06-14 09:50:14.000000000,2022-06-14 12:32:23.000000000,,1,1,0,845719,554c57169176d209472a661a16b155b799762f86,5,2,1,1,16312,Alfredo Moralejo,amoralej,"Remove patches from spec with downstream driver

To test when using downstream driver.

Change-Id: I34d93c7f05d4897e3d2e4434d44033bf78461402
"
openstack%2Fheat~stable%2Fwallaby~Iec3367667248d0b46196a6d569f3cbb3b200d842,openstack/heat,stable/wallaby,patches-stable/wallaby,Iec3367667248d0b46196a6d569f3cbb3b200d842,Use previous parameter merge strategy,MERGED,2022-06-14 04:38:45.000000000,2022-06-14 12:31:46.000000000,2022-06-14 12:30:13.000000000,19,3,0,845666,bc4e3bb627294629bcd53d05f53ab4a196370b74,8,2,1,2,9816,Takashi Kajinami,kajinamit,"Use previous parameter merge strategy

We don't allow different parameter merge strategies
in different environment files for a parameter. If
a merge strategy has already been provided in one
environment file, let's use that for subsequent ones
unless a different merge strategy has been provided.

Task: 45578
Change-Id: Iec3367667248d0b46196a6d569f3cbb3b200d842
(cherry picked from commit 94f32ee39f4d705614079bd0ac113cde67dbb7e4)
(cherry picked from commit f0507980586711014e28411d53faba30138c3044)
(cherry picked from commit 66dd43c6555451e4a6f60d82ef8da33cc83f6397)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I6f8b4bd15155c5da56ddbb71bf597e292e1adc99,openstack/tripleo-heat-templates,stable/victoria,cinder-rbd-extra-options,I6f8b4bd15155c5da56ddbb71bf597e292e1adc99,"[train,ussuri,victoria] Enable cinder RBD deferred deletion",ABANDONED,2022-01-05 20:30:24.000000000,2022-06-14 12:28:15.000000000,,14,0,2,823576,e1241c944853d9bb92a7c8fc8eca11b9fc3ff0df,8,2,1,1,21129,Alan Bishop,ASBishop,"[train,ussuri,victoria] Enable cinder RBD deferred deletion

This patch enables the cinder RBD driver's deferred_deletion feature
in releases that require it. This is necessary only in train, ussuri
and victoria, because the feature works differently in wallaby and
later releases.

The patch adds the CephRbdTrashPurgeInterval that was introduced
in wallaby by I6d560bbd67958ec484248ad0b20ef30f1f9593b8. In wallaby
the parameter is used when configuring a deployed ceph cluster, but
in this patch it configures equivalent functionality in the cinder
RBD driver. The same THT CephRbdTrashPurgeInterval parameter name
was chosen for the sake of consistency.

Change-Id: I6f8b4bd15155c5da56ddbb71bf597e292e1adc99
"
openstack%2Fzun~master~Icca60d713d004c859ce7b42bea04e2866795f477,openstack/zun,master,yyy,Icca60d713d004c859ce7b42bea04e2866795f477,Increase the weight of the scheduling strategy.,NEW,2021-11-30 01:12:14.000000000,2022-06-14 12:25:20.000000000,,1167,4,4,819740,ebd2946da82d5cc4b5ad43584738a26d20876279,21,2,5,16,34189,yangchangjia,ycj,"Increase the weight of the scheduling strategy.

In the latest or train version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun's overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun's scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.

For the current version, the node hardware configuration of our environment:
```
computer01	16H64G7T	zun-compute
computer02	16H64G7T	zun-compute
computer03	16H64G40T	nova-compute
computer04	16H64G7T	nova-compute
controller01	16H64G40T	controller

```
The ""scheduler"" config of ""zun.conf"" is:
```
[scheduler]
driver = filter_scheduler

available_filters = zun.scheduler.filters.all_filters

enabled_filters = CPUFilter
```

In ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:
```
[
ComputeNode(architecture='x86_64',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,
disk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname='computer02',kernel_version='3.10.0-862.el7.x86_64',
labels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,
os='CentOS Linux 7 (Core)',os_type='linux',paused_containers=0,pci_device_pools=PciDevicePoolList,
rp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,
runtimes=['io.containerd.runc.v2','io.containerd.runtime.v1.linux','runc'],
stopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),
ComputeNode(architecture='x86_64',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,
disk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname='computer01',kernel_version='3.10.0-862.el7.x86_64',
labels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,
os='CentOS Linux 7 (Core)',os_type='linux',paused_containers=0,pci_device_pools=PciDevicePoolList,
rp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,
runtimes=['io.containerd.runc.v2','io.containerd.runtime.v1.linux','runc'],
stopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)
]
```

But the final selected node is:
```
computer02 ram: 57234MB disk: 5126GB cpus: 3.0
```

Finally, the ""scheduler"" sample config of ""zun.conf"" is:
```
[scheduler]
driver = filter_scheduler

available_filters = zun.scheduler.filters.all_filters

enabled_filters = CPUFilter

weight_classes=zun.scheduler.weights.all_weighers

```

Change-Id: Icca60d713d004c859ce7b42bea04e2866795f477
"
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~If8a40a6fb8aedffcb12e3839a272e2b89e832e57,openstack/tripleo-puppet-elements,stable/wallaby,sbd,If8a40a6fb8aedffcb12e3839a272e2b89e832e57,Add sbd and fence-agents-sbd to the list of fence agents,MERGED,2022-06-09 05:58:11.000000000,2022-06-14 12:11:34.000000000,2022-06-14 12:11:34.000000000,1,1,4,845194,b238080adfc0a41dbabfb7f72b23911ca80deba0,19,4,2,1,30126,Luca Miccini,lmiccini2,"Add sbd and fence-agents-sbd to the list of fence agents

sbd doesn't get pulled in automatically when installing pacemaker
(anymore?) so we need to have it listed explicitly.

Change-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57
(cherry picked from commit a9d7810b3b3bea43dcf29672a047e6d500f1e6de)
"
openstack%2Fkuryr-kubernetes~master~I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4,openstack/kuryr-kubernetes,master,nested-virt-kvm,I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4,Force kvm and host-passthrough for Amphora jobs,MERGED,2022-06-14 08:23:57.000000000,2022-06-14 12:04:56.000000000,2022-06-14 12:02:34.000000000,8,0,1,845703,d65720cf7434cd2e201415535d316d3189873d9a,9,3,1,2,11600,Michał Dulko,dulek,"Force kvm and host-passthrough for Amphora jobs

We face general instability of the Amphora jobs that we have. A while
ago we've made sure that these jobs are scheduled on the clouds that
support nested virtualization in order to boost performance of the
Amphora LB VMs. Now it turns out we haven't configured DevStack to
actually use kvm instead of qemu, so it's possible that we were still
running these jobs with software virtualization.

This commit attempts to reconfigure DevStack to actually use kvm and
nested virtualization.

Change-Id: I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4
"
openstack%2Fnova~stable%2Fwallaby~Iddbc9b2a13f19cea9a996aeadfe891f4ef3b0264,openstack/nova,stable/wallaby,bug/1958883,Iddbc9b2a13f19cea9a996aeadfe891f4ef3b0264,Add service version check workaround for FFU,MERGED,2022-06-01 17:37:12.000000000,2022-06-14 11:58:53.000000000,2022-06-14 11:57:19.000000000,64,2,3,844202,e8b079a91ee723d0dc45e3d8b80f4efa2c1ce34d,18,3,1,5,9708,Balazs Gibizer,gibi,"Add service version check workaround for FFU

We recently added a hard failure to nova service startup for the case
where computes were more than one version old (as indicated by their
service record). This helps to prevent starting up new control
services when a very old compute is still running. However, during an
FFU, control services that have skipped multiple versions will be
started and find the older compute records (which could not be updated
yet due to their reliance on the control services being up) and refuse
to start. This creates a cross-dependency which is not resolvable
without hacking the database.

This patch adds a workaround flag to allow turning that hard fail into
a warning to proceed past the issue. This less-than-ideal solution
is simple and backportable, but perhaps a better solution can be
implemented for the future.

Related-Bug: #1958883

Change-Id: Iddbc9b2a13f19cea9a996aeadfe891f4ef3b0264
(cherry picked from commit 7d2e4815892ddd523c21bf1785cc113981871998)
(cherry picked from commit 3a5f8924ff42ce3f691f33abf2c2daee88e90fe5)
"
openstack%2Ftempest~master~I4f90bf5e1357992554ced85cd4f75f3fccd73c10,openstack/tempest,master,master1,I4f90bf5e1357992554ced85cd4f75f3fccd73c10,add blank line to code advance,ABANDONED,2022-06-14 11:57:08.000000000,2022-06-14 11:57:59.000000000,,1,0,0,845732,4f6a0ef072c6f044eb2e1e7cdeb91f32501b9dff,2,0,1,1,30409,wangzhiguang,wangzhiguang,"add blank line to code advance

add blank line to code advance

Change-Id: I4f90bf5e1357992554ced85cd4f75f3fccd73c10
"
openstack%2Ftripleo-puppet-elements~stable%2Ftrain~If8a40a6fb8aedffcb12e3839a272e2b89e832e57,openstack/tripleo-puppet-elements,stable/train,sbd,If8a40a6fb8aedffcb12e3839a272e2b89e832e57,Add sbd and fence-agents-sbd to the list of fence agents,MERGED,2022-06-09 05:58:36.000000000,2022-06-14 11:54:31.000000000,2022-06-14 11:54:31.000000000,1,1,1,845195,9f64588ba06842f6478c4fc43f0ec1970806fa67,17,4,2,1,30126,Luca Miccini,lmiccini2,"Add sbd and fence-agents-sbd to the list of fence agents

sbd doesn't get pulled in automatically when installing pacemaker
(anymore?) so we need to have it listed explicitly.

Change-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57
(cherry picked from commit a9d7810b3b3bea43dcf29672a047e6d500f1e6de)
(cherry picked from commit b238080adfc0a41dbabfb7f72b23911ca80deba0)
(cherry picked from commit 7b85576d2eb30ff9f7e278d95ef3ccd22a9f7c8c)
"
openstack%2Ftripleo-puppet-elements~stable%2Fvictoria~If8a40a6fb8aedffcb12e3839a272e2b89e832e57,openstack/tripleo-puppet-elements,stable/victoria,sbd,If8a40a6fb8aedffcb12e3839a272e2b89e832e57,Add sbd and fence-agents-sbd to the list of fence agents,MERGED,2022-06-09 05:57:57.000000000,2022-06-14 11:54:29.000000000,2022-06-14 11:54:29.000000000,1,1,2,845193,7b85576d2eb30ff9f7e278d95ef3ccd22a9f7c8c,15,3,2,1,30126,Luca Miccini,lmiccini2,"Add sbd and fence-agents-sbd to the list of fence agents

sbd doesn't get pulled in automatically when installing pacemaker
(anymore?) so we need to have it listed explicitly.

Change-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57
(cherry picked from commit a9d7810b3b3bea43dcf29672a047e6d500f1e6de)
(cherry picked from commit b238080adfc0a41dbabfb7f72b23911ca80deba0)
"
openstack%2Ftap-as-a-service~master~I871f72ef4c1e75077ed367a306e4cfbda64474b0,openstack/tap-as-a-service,master,,I871f72ef4c1e75077ed367a306e4cfbda64474b0,fix tox python3 overrides,ABANDONED,2018-10-12 09:01:05.000000000,2022-06-14 11:42:43.000000000,,9,1,3,609972,036c842ac238254465b82e599bf065ef68a1d382,12,6,2,1,28543,shupeng,Vieri,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I871f72ef4c1e75077ed367a306e4cfbda64474b0
"
openstack%2Fheat~stable%2Fyoga~I6aee0719b0cdef2b17666a43074c5c18645fc180,openstack/heat,stable/yoga,patches-stable/yoga,I6aee0719b0cdef2b17666a43074c5c18645fc180,Log parameters merged,MERGED,2022-06-14 04:30:15.000000000,2022-06-14 11:18:29.000000000,2022-06-14 11:16:59.000000000,6,0,0,845671,d997d70ca13065d1caf96c06af05d084353ca827,8,2,1,1,9816,Takashi Kajinami,kajinamit,"Log parameters merged

This can help in troubleshooting.

Task: 45579
Change-Id: I6aee0719b0cdef2b17666a43074c5c18645fc180
(cherry picked from commit c0be1f01fd9c208130857efd7c01ece94d4fb0bb)
"
openstack%2Fheat~stable%2Fxena~Iec3367667248d0b46196a6d569f3cbb3b200d842,openstack/heat,stable/xena,patches-stable/xena,Iec3367667248d0b46196a6d569f3cbb3b200d842,Use previous parameter merge strategy,MERGED,2022-06-14 04:37:58.000000000,2022-06-14 11:18:15.000000000,2022-06-14 11:16:52.000000000,19,3,0,845664,66dd43c6555451e4a6f60d82ef8da33cc83f6397,8,2,1,2,9816,Takashi Kajinami,kajinamit,"Use previous parameter merge strategy

We don't allow different parameter merge strategies
in different environment files for a parameter. If
a merge strategy has already been provided in one
environment file, let's use that for subsequent ones
unless a different merge strategy has been provided.

Task: 45578
Change-Id: Iec3367667248d0b46196a6d569f3cbb3b200d842
(cherry picked from commit 94f32ee39f4d705614079bd0ac113cde67dbb7e4)
(cherry picked from commit f0507980586711014e28411d53faba30138c3044)
"
openstack%2Fkayobe-config-dev~stable%2Fxena~I7191779c1fb3a192b401886cd591f12c4b0ab2b0,openstack/kayobe-config-dev,stable/xena,,I7191779c1fb3a192b401886cd591f12c4b0ab2b0,Avoid rebooting after disabling SELinux,MERGED,2022-06-13 08:15:09.000000000,2022-06-14 11:02:21.000000000,2022-06-14 11:02:21.000000000,7,0,0,845395,a267526da91c667eef909affe527463ac60e66d7,7,3,1,1,14826,Mark Goddard,mgoddard,"Avoid rebooting after disabling SELinux

This is generally not necessary in development environments, and makes
for an awkward development workflow.

Change-Id: I7191779c1fb3a192b401886cd591f12c4b0ab2b0
(cherry picked from commit 05155c1dcb839da6bd2cf07b71c63a82aae28a65)
"
openstack%2Foswin-tempest-plugin~master~Idc2841a26f59dc0ba6bf8a24116f5dbcbb059a74,openstack/oswin-tempest-plugin,master,,Idc2841a26f59dc0ba6bf8a24116f5dbcbb059a74,setup.cfg: Replace dashes with underscores,MERGED,2022-06-04 07:29:59.000000000,2022-06-14 11:01:16.000000000,2022-06-14 11:01:16.000000000,3,3,2,844682,2cb18192405ea0ef5d7912614a7f629af5762f12,12,2,2,1,33436,YuehuiLei,leiyuehui,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Idc2841a26f59dc0ba6bf8a24116f5dbcbb059a74
"
openstack%2Fpuppet-neutron~master~Ib34c67905db31e32653314c8873a938dcbd04ed3,openstack/puppet-neutron,master,,Ib34c67905db31e32653314c8873a938dcbd04ed3,Deprecate support for linuxbridge plugin config,MERGED,2022-06-10 00:26:19.000000000,2022-06-14 11:00:53.000000000,2022-06-14 10:59:35.000000000,18,14,0,845309,959c1cefeea69b65c67670b0ad44376843c9836f,9,3,2,4,9816,Takashi Kajinami,kajinamit,"Deprecate support for linuxbridge plugin config

The file no longer exists since linuxbridge was integrated to the ml2
plugin as a mechanism driver.

Change-Id: Ib34c67905db31e32653314c8873a938dcbd04ed3
"
openstack%2Fkayobe-config-dev~stable%2Fwallaby~I7191779c1fb3a192b401886cd591f12c4b0ab2b0,openstack/kayobe-config-dev,stable/wallaby,,I7191779c1fb3a192b401886cd591f12c4b0ab2b0,Avoid rebooting after disabling SELinux,MERGED,2022-06-13 08:15:23.000000000,2022-06-14 10:57:58.000000000,2022-06-14 10:57:58.000000000,7,0,0,845396,0f67f7e4db9af86bc80d6946b695133b38662ee6,8,2,2,1,14826,Mark Goddard,mgoddard,"Avoid rebooting after disabling SELinux

This is generally not necessary in development environments, and makes
for an awkward development workflow.

Change-Id: I7191779c1fb3a192b401886cd591f12c4b0ab2b0
(cherry picked from commit 05155c1dcb839da6bd2cf07b71c63a82aae28a65)
"
openstack%2Fkayobe-config-dev~stable%2Fyoga~I7191779c1fb3a192b401886cd591f12c4b0ab2b0,openstack/kayobe-config-dev,stable/yoga,,I7191779c1fb3a192b401886cd591f12c4b0ab2b0,Avoid rebooting after disabling SELinux,MERGED,2022-06-13 08:14:58.000000000,2022-06-14 10:57:56.000000000,2022-06-14 10:57:56.000000000,7,0,0,845394,23eaac64a2f68b350271fe86fb9010f6cfabd51d,7,3,1,1,14826,Mark Goddard,mgoddard,"Avoid rebooting after disabling SELinux

This is generally not necessary in development environments, and makes
for an awkward development workflow.

Change-Id: I7191779c1fb3a192b401886cd591f12c4b0ab2b0
(cherry picked from commit 05155c1dcb839da6bd2cf07b71c63a82aae28a65)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4,openstack/tripleo-heat-templates,stable/victoria,,I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4,Manage octavia flavor in tripleo-ansible,ABANDONED,2022-01-24 16:09:11.000000000,2022-06-14 10:56:40.000000000,,20,22,4,826114,b7b1b46388d10c6d44413ff2bad44a8fdcc92052,15,2,1,3,29244,Gregory Thiemonge,gthiemonge,"Manage octavia flavor in tripleo-ansible

Move the creation of the nova flavor for Octavia in tripleo-ansible, it
allows us to specifiy the type of the API endpoint we want to use
(internal endpoint).

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/826089

Change-Id: I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4
(cherry picked from commit 9d4d7f9a63f39feffa0d13297c4dd8d3316935e2)
(cherry picked from commit 7cfe7813b63a8882e41413ab70d510f62f1df190)
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I4554fc54c096be32b85d66030d8b2fc892e595bb,openstack/tripleo-ansible,stable/victoria,bug/1976122-stable/victoria,I4554fc54c096be32b85d66030d8b2fc892e595bb,Ensure ceph_ansible_playbook_verbosity is an integer,ABANDONED,2022-06-07 11:41:19.000000000,2022-06-14 10:43:47.000000000,,1,1,2,844935,391251c8591bde763e8c6fb27a75479ab0485044,8,2,1,1,18002,John Fulton,fultonj,"Ensure ceph_ansible_playbook_verbosity is an integer

This patch is going directly into stable/wallaby because
this role was deprecated in that release and removed in
the next release.

Change-Id: I4554fc54c096be32b85d66030d8b2fc892e595bb
Closes-Bug: #1976122
(cherry picked from commit 4f84847a8d734158588972e32ce58ec5ec2846f9)
"
openstack%2Ftripleo-validations~stable%2Fvictoria~Ie268e91341610dad36c3ddc79496cc174f732900,openstack/tripleo-validations,stable/victoria,libvirt_validation-stable/wallaby-stable/victoria,Ie268e91341610dad36c3ddc79496cc174f732900,Validate libvirtd is not running on the undercloud,ABANDONED,2022-03-03 14:19:33.000000000,2022-06-14 10:41:19.000000000,,57,0,5,831757,25c8bf602cb02ac972310b8e507e1811e0d51caa,14,2,3,5,7130,David Hill,dhill,"Validate libvirtd is not running on the undercloud

Validate libvirtd is not running on the undercloud as its dnsmasq
process is conflicting with ironic-inspector dnsmasq process.

Change-Id: Ie268e91341610dad36c3ddc79496cc174f732900
(cherry picked from commit 30b234a45c45fff2b49f94efef2d0de31fad2c5e)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Id04d1c45e37b6bd1e890d1cf34f17b12b52b034a,openstack/tripleo-heat-templates,stable/victoria,lp1946659,Id04d1c45e37b6bd1e890d1cf34f17b12b52b034a,DNM testing tripleo-ci/+/822482,ABANDONED,2021-12-22 14:15:55.000000000,2022-06-14 10:00:21.000000000,,1,17,0,822707,45b55219784030a045180d5568b998b18e8c9be3,5,2,1,2,8449,Marios Andreou,marios,"DNM testing tripleo-ci/+/822482

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/822482
Change-Id: Id04d1c45e37b6bd1e890d1cf34f17b12b52b034a
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ie5049d19b22895b7ebb64c2dc976b2799bcdbf2a,openstack/tripleo-heat-templates,stable/victoria,,Ie5049d19b22895b7ebb64c2dc976b2799bcdbf2a,DNM: testing for https://bugs.launchpad.net/tripleo/+bug/1959014,ABANDONED,2022-02-03 13:06:09.000000000,2022-06-14 09:59:31.000000000,,2,0,0,827660,e22ec5ce8090c0241b085e38ebd25638cb2cb7e4,3,1,1,1,8449,Marios Andreou,marios,"DNM: testing for https://bugs.launchpad.net/tripleo/+bug/1959014

Change-Id: Ie5049d19b22895b7ebb64c2dc976b2799bcdbf2a
"
openstack%2Fopenstack-tempest-skiplist~master~I974d271c638705e5a6ab7eb91fa612dd9bb52c7f,openstack/openstack-tempest-skiplist,master,bug1904223,I974d271c638705e5a6ab7eb91fa612dd9bb52c7f,"Revert ""Add temptest test failing on scenario002 to skiplist""",ABANDONED,2020-11-19 11:46:13.000000000,2022-06-14 09:41:24.000000000,,0,14,0,763359,7e91fce6adda6229cfcc931c0717ddec38ab0cee,15,6,5,1,8449,Marios Andreou,marios,"Revert ""Add temptest test failing on scenario002 to skiplist""

This reverts commit a97cb4b649ec7fb44f0f9b02df33d534ef225292
and related change Icc4587d78235ab98bb38679675c4532aa0d61d15

Tested at https://review.rdoproject.org/r/#/c/31154/

Change-Id: I974d271c638705e5a6ab7eb91fa612dd9bb52c7f
Related-Bug: 1904223
"
openstack%2Ftripleo-heat-templates~master~Ie12a7e0021371f9d71ac7db5840d4439827ab64a,openstack/tripleo-heat-templates,master,,Ie12a7e0021371f9d71ac7db5840d4439827ab64a,nova-compute: Remove unused condition,ABANDONED,2022-06-14 09:36:11.000000000,2022-06-14 09:40:29.000000000,,0,4,0,845718,aab095754bfab2df8d6720f849a50903b739fcf4,2,0,1,1,9816,Takashi Kajinami,kajinamit,"nova-compute: Remove unused condition

Change-Id: Ie12a7e0021371f9d71ac7db5840d4439827ab64a
"
openstack%2Fopenstack-tempest-skiplist~master~I4144c84f91eb04c870721d644290cfb9b91c4db0,openstack/openstack-tempest-skiplist,master,,I4144c84f91eb04c870721d644290cfb9b91c4db0,octavia load balancer tests are NOT consistently passing,ABANDONED,2021-09-23 13:21:17.000000000,2022-06-14 09:21:44.000000000,,4,5,3,810667,6ca6673c4cd76195dd70a22d5e39967804a3c405,12,5,2,1,9592,wes hayutin,weshayutin,"octavia load balancer tests are NOT consistently passing

Change-Id: I4144c84f91eb04c870721d644290cfb9b91c4db0
"
openstack%2Fopenstack-tempest-skiplist~master~I0ae8b282223e75fb3bfca4a0f3c2bdd3dcb89702,openstack/openstack-tempest-skiplist,master,tempest-allow-minimal,I0ae8b282223e75fb3bfca4a0f3c2bdd3dcb89702,Add minimal group,ABANDONED,2021-09-08 09:19:40.000000000,2022-06-14 09:21:32.000000000,,10,0,3,807841,a3c2645a349ab047413128a374d1bdab250e1add,8,5,1,1,8367,Arx Cruz,arxcruz,"Add minimal group

This group is for jobs running minimal featureset

Change-Id: I0ae8b282223e75fb3bfca4a0f3c2bdd3dcb89702
"
openstack%2Fopenstack-tempest-skiplist~master~I981dfd13059e5c42e5f3b51b7effc97c8a704e05,openstack/openstack-tempest-skiplist,master,,I981dfd13059e5c42e5f3b51b7effc97c8a704e05,remove network secgroup skip,ABANDONED,2021-01-18 18:47:16.000000000,2022-06-14 09:20:50.000000000,,1,17,0,771264,599e538d96fc00e51a8fac5f642a353b75c13d76,9,2,2,1,9592,wes hayutin,weshayutin,"remove network secgroup skip

Closes-Bug: #1908982
Change-Id: I981dfd13059e5c42e5f3b51b7effc97c8a704e05
"
openstack%2Fopenstack-tempest-skiplist~master~I84a8dfa0922566cfbc597f41b7e0eb2aace1ca1c,openstack/openstack-tempest-skiplist,master,bug/1892682,I84a8dfa0922566cfbc597f41b7e0eb2aace1ca1c,Adding octavia related tests to skiplist,ABANDONED,2020-08-24 08:31:19.000000000,2022-06-14 09:20:26.000000000,,41,1,0,747643,e2e0283c126915b97a66c732c64ec3c13d5e5031,5,3,1,1,8367,Arx Cruz,arxcruz,"Adding octavia related tests to skiplist

These tests are failing in periodic ovn job in both ussuri and master

Change-Id: I84a8dfa0922566cfbc597f41b7e0eb2aace1ca1c
Related-Bug: #1892682
"
openstack%2Fheat~stable%2Fyoga~Iec3367667248d0b46196a6d569f3cbb3b200d842,openstack/heat,stable/yoga,patches-stable/yoga,Iec3367667248d0b46196a6d569f3cbb3b200d842,Use previous parameter merge strategy,MERGED,2022-06-14 04:29:24.000000000,2022-06-14 09:15:29.000000000,2022-06-14 09:14:04.000000000,19,3,1,845670,f0507980586711014e28411d53faba30138c3044,11,2,1,2,9816,Takashi Kajinami,kajinamit,"Use previous parameter merge strategy

We don't allow different parameter merge strategies
in different environment files for a parameter. If
a merge strategy has already been provided in one
environment file, let's use that for subsequent ones
unless a different merge strategy has been provided.

Task: 45578
Change-Id: Iec3367667248d0b46196a6d569f3cbb3b200d842
(cherry picked from commit 94f32ee39f4d705614079bd0ac113cde67dbb7e4)
"
openstack%2Fmistral-tempest-plugin~master~Ifaf744c536081e079fe1fa0b54ffa2d41edb85df,openstack/mistral-tempest-plugin,master,master4,Ifaf744c536081e079fe1fa0b54ffa2d41edb85df,modify get task details use the get_object method,NEW,2022-06-13 08:01:46.000000000,2022-06-14 09:14:26.000000000,,4,3,1,845561,071b5c255ae07278032a6bc214cf9795c5709850,4,1,1,1,30409,wangzhiguang,wangzhiguang,"modify get task details use the get_object method

according to the api documentation of the mistral module, the uuid of
the task is passed in to get task details

Change-Id: Ifaf744c536081e079fe1fa0b54ffa2d41edb85df
"
openstack%2Fopenstack-tempest-skiplist~master~I6dadaf5b8be3ad7618ca64387617ee0f9fd6adcd,openstack/openstack-tempest-skiplist,master,,I6dadaf5b8be3ad7618ca64387617ee0f9fd6adcd,remove basicops skip from master,ABANDONED,2021-05-07 16:18:24.000000000,2022-06-14 09:09:39.000000000,,0,3,0,790279,2b66e4aaba05d4a3fdb0cd4d4a2555803b4cd3a8,4,2,1,1,9592,wes hayutin,weshayutin,"remove basicops skip from master

leaving the skip active in wallaby as to not
impact current backports

Change-Id: I6dadaf5b8be3ad7618ca64387617ee0f9fd6adcd
"
openstack%2Fopenstack-tempest-skiplist~master~I5ce39b9748031f1cd50659d44202f80dd5d54cbd,openstack/openstack-tempest-skiplist,master,,I5ce39b9748031f1cd50659d44202f80dd5d54cbd,"DNM, testing update attached volume",ABANDONED,2021-05-18 18:38:32.000000000,2022-06-14 09:09:18.000000000,,0,10,0,792030,12ea4ea783dd756c63df4ee0a26f7f326fc18d81,3,1,1,1,9592,wes hayutin,weshayutin,"DNM, testing update attached volume

Change-Id: I5ce39b9748031f1cd50659d44202f80dd5d54cbd
"
